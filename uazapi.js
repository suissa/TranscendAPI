const a0_0x22ca69=a0_0x18ed;(function(_0x118077,_0x5ef8e6){const _0xcb51b3=a0_0x18ed,_0x2d9a43=_0x118077();while(!![]){try{const _0x410a6c=parseInt(_0xcb51b3(0x497))/0x1+parseInt(_0xcb51b3(0x90))/0x2*(parseInt(_0xcb51b3(0x14c))/0x3)+-parseInt(_0xcb51b3(0x7b3))/0x4+parseInt(_0xcb51b3(0x6ea))/0x5*(parseInt(_0xcb51b3(0x1c6))/0x6)+parseInt(_0xcb51b3(0x65b))/0x7*(parseInt(_0xcb51b3(0x26f))/0x8)+parseInt(_0xcb51b3(0x131))/0x9*(-parseInt(_0xcb51b3(0x24a))/0xa)+parseInt(_0xcb51b3(0x10c))/0xb;if(_0x410a6c===_0x5ef8e6)break;else _0x2d9a43['push'](_0x2d9a43['shift']());}catch(_0x40998c){_0x2d9a43['push'](_0x2d9a43['shift']());}}}(a0_0x1b74,0x94705));var Gi=Object[a0_0x22ca69(0x530)],Je=Object[a0_0x22ca69(0x5f2)],Bi=Object['getOwnPropertyDescriptor'],Wi=Object[a0_0x22ca69(0x4dc)],zi=Object[a0_0x22ca69(0x2cd)],Hi=Object['prototype'][a0_0x22ca69(0x4ea)],Ki=(_0x5a505c,_0x39a333)=>{for(var _0x35c766 in _0x39a333)Je(_0x5a505c,_0x35c766,{'get':_0x39a333[_0x35c766],'enumerable':!0x0});},Vs=(_0x5012ae,_0x321299,_0xbdbff0,_0x21dcca)=>{const _0xb2b99d=a0_0x22ca69;if(_0x321299&&typeof _0x321299=='object'||typeof _0x321299==_0xb2b99d(0x726)){for(let _0x5749bc of Wi(_0x321299))!Hi[_0xb2b99d(0x73e)](_0x5012ae,_0x5749bc)&&_0x5749bc!==_0xbdbff0&&Je(_0x5012ae,_0x5749bc,{'get':()=>_0x321299[_0x5749bc],'enumerable':!(_0x21dcca=Bi(_0x321299,_0x5749bc))||_0x21dcca[_0xb2b99d(0x39c)]});}return _0x5012ae;},T=(_0x4e801b,_0x513425,_0x7c3397)=>(_0x7c3397=_0x4e801b!=null?Gi(zi(_0x4e801b)):{},Vs(_0x513425||!_0x4e801b||!_0x4e801b[a0_0x22ca69(0x65f)]?Je(_0x7c3397,a0_0x22ca69(0x4ba),{'value':_0x4e801b,'enumerable':!0x0}):_0x7c3397,_0x4e801b)),Qi=_0x519b8b=>Vs(Je({},a0_0x22ca69(0x65f),{'value':!0x0}),_0x519b8b),ur={};Ki(ur,{'fullURL':()=>qs,'subdomain':()=>W}),module[a0_0x22ca69(0x3ff)]=Qi(ur);var Fi=T(require('compression')),Bs=require('fs'),Ws=require(a0_0x22ca69(0xcf)),zs=require(a0_0x22ca69(0x755)),qe=require('path'),ne=process[a0_0x22ca69(0x45c)](),be=(0x0,qe[a0_0x22ca69(0x20b)])(ne,a0_0x22ca69(0x573)),Gs=(0x0,qe[a0_0x22ca69(0x20b)])(ne,a0_0x22ca69(0x142)),sn=(0x0,qe[a0_0x22ca69(0x20b)])(ne,a0_0x22ca69(0x567),'auth'),us=class{constructor(){const _0x34da79=a0_0x22ca69;this[_0x34da79(0x583)]();}['get'](_0xd360ff){const _0x40cdd8=a0_0x22ca69;return this[_0x40cdd8(0xb9)][_0xd360ff];}[a0_0x22ca69(0x583)](){const _0x58d35f=a0_0x22ca69;this['env']=process['env']?.[_0x58d35f(0x689)]!==_0x58d35f(0x59e)?this[_0x58d35f(0x2c6)]():this[_0x58d35f(0x619)](),process[_0x58d35f(0xb9)]?.['DOCKER_ENV']===_0x58d35f(0x59e)&&(this[_0x58d35f(0xb9)][_0x58d35f(0x3ea)][_0x58d35f(0x393)]=_0x58d35f(0x29f),this[_0x58d35f(0xb9)]['SERVER']['PORT']=Number[_0x58d35f(0x70d)](process[_0x58d35f(0xb9)]?.[_0x58d35f(0x224)]??_0x58d35f(0x39f)));}[a0_0x22ca69(0x2c6)](){const _0x536fcb=a0_0x22ca69;return(0x0,Ws[_0x536fcb(0x2d8)])((0x0,Bs[_0x536fcb(0x4ae)])((0x0,zs[_0x536fcb(0x20b)])(Gs,_0x536fcb(0x522)),{'encoding':'utf-8'}));}[a0_0x22ca69(0x619)](){const _0x375aff=a0_0x22ca69;return{'SERVER':{'TYPE':process[_0x375aff(0xb9)]['SERVER_TYPE'],'PORT':Number[_0x375aff(0x70d)](process[_0x375aff(0xb9)][_0x375aff(0x224)]),'URL':process['env'][_0x375aff(0x141)]},'CORS':{'ORIGIN':process['env'][_0x375aff(0xa5)][_0x375aff(0x6fc)](','),'METHODS':process['env'][_0x375aff(0x73a)][_0x375aff(0x6fc)](','),'CREDENTIALS':process['env']?.[_0x375aff(0x249)]===_0x375aff(0x59e)},'SSL_CONF':{'PRIVKEY':process[_0x375aff(0xb9)]?.[_0x375aff(0x706)],'FULLCHAIN':process[_0x375aff(0xb9)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x375aff(0x6e3)](process[_0x375aff(0xb9)]?.[_0x375aff(0x1ff)])?Number[_0x375aff(0x70d)](process[_0x375aff(0xb9)][_0x375aff(0x1ff)]):void 0x0,'MESSAGES':process[_0x375aff(0xb9)]?.[_0x375aff(0x6a5)]===_0x375aff(0x59e),'CONTACTS':process[_0x375aff(0xb9)]?.[_0x375aff(0x160)]===_0x375aff(0x59e),'CHATS':process[_0x375aff(0xb9)]?.[_0x375aff(0x16a)]===_0x375aff(0x59e)},'DATABASE':{'CONNECTION':{'HOST':process[_0x375aff(0xb9)]?.[_0x375aff(0x449)],'PORT':Number['parseInt'](process[_0x375aff(0xb9)]?.['DATABASE_CONNECTION_HOST']),'USER':process['env'][_0x375aff(0xda)],'PASSWORD':process[_0x375aff(0xb9)][_0x375aff(0x4ac)],'URI':process[_0x375aff(0xb9)][_0x375aff(0x110)],'DB_PREFIX_NAME':process['env'][_0x375aff(0x54d)]},'ENABLED':process[_0x375aff(0xb9)]?.[_0x375aff(0x476)]==='true'},'REDIS':{'ENABLED':process[_0x375aff(0xb9)]?.[_0x375aff(0x660)]===_0x375aff(0x59e),'URI':process[_0x375aff(0xb9)][_0x375aff(0x7d3)]||'redis://127.0.0.1:6379','PREFIX_KEY':process['env'][_0x375aff(0x51c)]||_0x375aff(0x43c)},'LOG':{'LEVEL':process['env']?.[_0x375aff(0x1d2)][_0x375aff(0x6fc)](','),'COLOR':process[_0x375aff(0xb9)]?.[_0x375aff(0x2b9)]===_0x375aff(0x59e)},'PROXY':process[_0x375aff(0xb9)]?.[_0x375aff(0x596)]==='true','AUTHENTICATION':{'TYPE':process[_0x375aff(0xb9)][_0x375aff(0x678)],'API_KEY':{'KEY':process['env']['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x375aff(0x6e3)](process[_0x375aff(0xb9)]?.[_0x375aff(0x4d9)])?Number[_0x375aff(0x70d)](process['env'][_0x375aff(0x4d9)]):0xe10,'SECRET':process[_0x375aff(0xb9)]['AUTHENTICATION_JWT_SECRET']}}};}},S=new us(),Ui=T(require(a0_0x22ca69(0x6ce))),we=T(require(a0_0x22ca69(0x3b0))),js=require(a0_0x22ca69(0x755)),ds=T(require(a0_0x22ca69(0x1b4))),ps=(_0x46347a=>(_0x46347a['LOG']=a0_0x22ca69(0x194),_0x46347a['INFO']=a0_0x22ca69(0x407),_0x46347a['WARN']=a0_0x22ca69(0x4fa),_0x46347a['ERROR']=a0_0x22ca69(0x4a3),_0x46347a[a0_0x22ca69(0x2e2)]=a0_0x22ca69(0x61c),_0x46347a[a0_0x22ca69(0x545)]=a0_0x22ca69(0x52c),_0x46347a['DARK']=a0_0x22ca69(0x72d),_0x46347a))(ps||{}),Hs=(_0xe35b07=>(_0xe35b07[a0_0x22ca69(0x6b0)]=a0_0x22ca69(0x6d7),_0xe35b07[a0_0x22ca69(0x6b8)]='\x1b[30m%s\x1b[0m',_0xe35b07[a0_0x22ca69(0x597)]='\x1b[34m%s\x1b[0m',_0xe35b07['WARN']=a0_0x22ca69(0x618),_0xe35b07[a0_0x22ca69(0xc4)]=a0_0x22ca69(0x5e8),_0xe35b07[a0_0x22ca69(0x2e2)]=a0_0x22ca69(0x391),_0xe35b07[a0_0x22ca69(0x545)]=a0_0x22ca69(0x75d),_0xe35b07))(Hs||{}),Ks=(_0x9f68ab=>(_0x9f68ab[a0_0x22ca69(0x6b0)]='LOG',_0x9f68ab[a0_0x22ca69(0x4fc)]='WARN',_0x9f68ab['INFO']=a0_0x22ca69(0x597),_0x9f68ab[a0_0x22ca69(0x6b8)]=a0_0x22ca69(0x6b8),_0x9f68ab['ERROR']=a0_0x22ca69(0xc4),_0x9f68ab['DEBUG']=a0_0x22ca69(0x2e2),_0x9f68ab['VERBOSE']=a0_0x22ca69(0x545),_0x9f68ab))(Ks||{}),Qs=(_0x31472d=>(_0x31472d['LOG']='\x1b[42m',_0x31472d[a0_0x22ca69(0x597)]=a0_0x22ca69(0x122),_0x31472d[a0_0x22ca69(0x4fc)]=a0_0x22ca69(0x636),_0x31472d['DARK']=a0_0x22ca69(0x20e),_0x31472d[a0_0x22ca69(0xc4)]=a0_0x22ca69(0x307),_0x31472d[a0_0x22ca69(0x2e2)]=a0_0x22ca69(0x662),_0x31472d['VERBOSE']='\x1b[47m',_0x31472d))(Qs||{}),$=class{constructor(_0x3e4fbb=a0_0x22ca69(0x572)){const _0x15a7bc=a0_0x22ca69;this['context']=_0x3e4fbb,this[_0x15a7bc(0x2b1)]=S;}['setContext'](_0x487d73){const _0x4c76bd=a0_0x22ca69;this[_0x4c76bd(0x93)]=_0x487d73;}[a0_0x22ca69(0x290)](_0x5948c2,_0x2bf5ff){const _0x32ec3b=a0_0x22ca69;let _0x33e29c=[];this[_0x32ec3b(0x2b1)][_0x32ec3b(0x268)]('LOG')[_0x32ec3b(0x1cb)][_0x32ec3b(0x2e7)](_0x1077db=>_0x33e29c[_0x32ec3b(0x35a)](Ks[_0x1077db]));let _0xe3fdc7=typeof _0x5948c2;_0x33e29c['includes'](_0x2bf5ff)&&(S['get']('LOG')[_0x32ec3b(0x528)]?(console[_0x32ec3b(0x2f8)](_0x32ec3b(0xc5)+Hs[_0x2bf5ff],_0x32ec3b(0x4a8),(0x0,ds[_0x32ec3b(0x4ba)])()[_0x32ec3b(0x5b0)](_0x32ec3b(0xd1)),'\x1b[0m',ps[_0x2bf5ff]+Qs[_0x2bf5ff]+_0x32ec3b(0xc5),_0x2bf5ff+_0x32ec3b(0x2c8),_0x32ec3b(0x21c),this['context']+'\x1b[0m',ps[_0x2bf5ff],_0xe3fdc7!==_0x32ec3b(0x769)?_0x5948c2:'','\x1b[0m'),_0xe3fdc7===_0x32ec3b(0x769)&&console['log'](_0x5948c2,'\x0a')):console[_0x32ec3b(0x2f8)]((0x0,ds['default'])()[_0x32ec3b(0x5b0)](_0x32ec3b(0x30f)),_0x2bf5ff+'\x20',''+this['context'],_0x5948c2));}[a0_0x22ca69(0x2f8)](_0x456433){const _0xfece7=a0_0x22ca69;this[_0xfece7(0x290)](_0x456433,_0xfece7(0x6b0));}[a0_0x22ca69(0x436)](_0x56e3d0){const _0x1e1f41=a0_0x22ca69;this[_0x1e1f41(0x290)](_0x56e3d0,_0x1e1f41(0x597));}['warn'](_0x537957){const _0x4523a7=a0_0x22ca69;this[_0x4523a7(0x290)](_0x537957,_0x4523a7(0x4fc));}['error'](_0x43d29a){const _0x437405=a0_0x22ca69;this[_0x437405(0x290)](_0x43d29a,'ERROR');}[a0_0x22ca69(0x36c)](_0x19f121){const _0x1c69f8=a0_0x22ca69;this['console'](_0x19f121,_0x1c69f8(0x545));}[a0_0x22ca69(0x3ca)](_0x51911a){const _0x322408=a0_0x22ca69;this[_0x322408(0x290)](_0x51911a,'DEBUG');}[a0_0x22ca69(0x4f6)](_0x2d6c7a){const _0x280c56=a0_0x22ca69;this[_0x280c56(0x290)](_0x2d6c7a,'DARK');}};function Ys(){const _0x34a57a=a0_0x22ca69;process['on'](_0x34a57a(0x419),(_0x230aca,_0x145fa5)=>{const _0x17a3f6=_0x34a57a;new $(_0x17a3f6(0x419))[_0x17a3f6(0x3d5)]({'origin':_0x145fa5,'stderr':process[_0x17a3f6(0x40d)]['fd'],'error':_0x230aca});}),process['on'](_0x34a57a(0x7d9),(_0x5c6f0f,_0x4a7dae)=>{const _0x164bfe=_0x34a57a;new $(_0x164bfe(0x7d9))[_0x164bfe(0x3d5)]({'origin':_0x4a7dae,'stderr':process[_0x164bfe(0x40d)]['fd'],'error':_0x5c6f0f});});}var Xs=T(require(a0_0x22ca69(0x2c9))),hs=new Xs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require(a0_0x22ca69(0x11b)),Re=T(require('mongoose')),Ve=new $(a0_0x22ca69(0x684)),F=S[a0_0x22ca69(0x268)](a0_0x22ca69(0x48a)),R=F[a0_0x22ca69(0x37a)]?F[a0_0x22ca69(0x5a1)][a0_0x22ca69(0x41f)]?Re[a0_0x22ca69(0x4ba)][a0_0x22ca69(0x7be)](F['CONNECTION'][a0_0x22ca69(0x41f)],{'dbName':F[a0_0x22ca69(0x5a1)]['DB_PREFIX_NAME']+'-whatsapp-api'}):Re[a0_0x22ca69(0x4ba)][a0_0x22ca69(0x7be)]('mongodb://'+F[a0_0x22ca69(0x5a1)][a0_0x22ca69(0x2b5)]+':'+F[a0_0x22ca69(0x5a1)]['PORT']+a0_0x22ca69(0x3a5),{'user':F['CONNECTION'][a0_0x22ca69(0x355)],'pass':F[a0_0x22ca69(0x5a1)]['PASSWORD'],'dbName':F[a0_0x22ca69(0x5a1)]['DB_PREFIX_NAME']+a0_0x22ca69(0x2fc)}):null;F['ENABLED']&&Ve[a0_0x22ca69(0x436)](a0_0x22ca69(0x38a)+R[a0_0x22ca69(0x711)]);var ce=F[a0_0x22ca69(0x37a)]?F[a0_0x22ca69(0x5a1)]['URI']?Re['default']['createConnection'](F[a0_0x22ca69(0x5a1)][a0_0x22ca69(0x41f)],{'dbName':a0_0x22ca69(0x22f)}):Re['default'][a0_0x22ca69(0x7be)](a0_0x22ca69(0xed)+F[a0_0x22ca69(0x5a1)][a0_0x22ca69(0x2b5)]+':'+F[a0_0x22ca69(0x5a1)][a0_0x22ca69(0x2c5)]+a0_0x22ca69(0x3a5),{'user':F['CONNECTION'][a0_0x22ca69(0x355)],'pass':F[a0_0x22ca69(0x5a1)]['PASSWORD'],'dbName':a0_0x22ca69(0x465)}):null;ce&&Ve[a0_0x22ca69(0x436)](a0_0x22ca69(0x38a)+ce[a0_0x22ca69(0x711)]),process['on'](a0_0x22ca69(0x4ed),()=>{const _0x4d96d0=a0_0x22ca69;R&&R[_0x4d96d0(0x18c)](()=>{const _0xe9279c=_0x4d96d0;Ve[_0xe9279c(0x436)]('Database\x20connection\x20closed.');}),ce&&ce[_0x4d96d0(0x18c)](()=>{const _0x495c40=_0x4d96d0;Ve[_0x495c40(0x436)](_0x495c40(0x559));});});var Yi=new Se[(a0_0x22ca69(0x158))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xi=new Se[(a0_0x22ca69(0x158))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Zi=new Se[(a0_0x22ca69(0x158))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),eo=new Se['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yi],'default':[]}},{'_id':!0x1}),to=new Se[(a0_0x22ca69(0x158))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':eo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Xi},'groupdata':{'type':Zi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Zs=_0x48d953=>{const _0x266f4b=a0_0x22ca69;let _0x5efb3b='z_'+_0x48d953+_0x266f4b(0x1f7);return R?.[_0x266f4b(0x754)](_0x266f4b(0x7d6),to,_0x5efb3b);},ea=require(a0_0x22ca69(0x11b)),so=new ea[(a0_0x22ca69(0x158))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=_0x46af6e=>{const _0x4826ff=a0_0x22ca69;let _0x1a7908='z_'+_0x46af6e+_0x4826ff(0x6b4);return R?.[_0x4826ff(0x754)]('ContactModel',so,_0x1a7908);},sa=require('mongoose'),gs=class{},ao=new sa[(a0_0x22ca69(0x158))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=ce?.['model'](gs[a0_0x22ca69(0x7cc)],ao,a0_0x22ca69(0x470)),ia=require('mongoose'),ms=class{},io=new ia[(a0_0x22ca69(0x158))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Ge=ce?.[a0_0x22ca69(0x754)](ms['name'],io,a0_0x22ca69(0x573)),oa=require(a0_0x22ca69(0x11b)),oo=new oa['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ra=_0x8f9651=>{const _0x403453=a0_0x22ca69;let _0x223ac5='z_'+_0x8f9651+'_Messages';return R?.['model'](_0x403453(0x2e9),oo,_0x223ac5);},na=require(a0_0x22ca69(0x11b)),fs=class{},ro=new na[(a0_0x22ca69(0x158))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ca=R?.['model'](fs[a0_0x22ca69(0x7cc)],ro,a0_0x22ca69(0x2a7)),la=require(a0_0x22ca69(0x11b)),ws=class{},ua=new la['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ua['pre']('save',function(_0x3926b6){const _0x44f57b=a0_0x22ca69;delete this[_0x44f57b(0x247)],delete this['flowIgnoreGroups'],delete this[_0x44f57b(0x79b)],delete this[_0x44f57b(0x1c1)],delete this[_0x44f57b(0x9c)],_0x3926b6();});var da=R?.[a0_0x22ca69(0x754)](ws[a0_0x22ca69(0x7cc)],ua,a0_0x22ca69(0x35f)),D=require(a0_0x22ca69(0x11b)),ys=require(a0_0x22ca69(0x62c)),Be=class{},bs=class{},ha=new D['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ss=new D['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),no=new D['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x22ca69(0x424)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x22ca69(0x591)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x22ca69(0x7a0)},'pollErrorMessage':{'type':String,'default':a0_0x22ca69(0x47c)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ga=new D['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),co=new D[(a0_0x22ca69(0x158))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),lo=new D[(a0_0x22ca69(0x158))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Cs=new D[(a0_0x22ca69(0x158))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),uo=new D[(a0_0x22ca69(0x158))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ma=new D['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':no},'apirequest':co,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':uo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),fa=new D['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),wa=new D[(a0_0x22ca69(0x158))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Cs],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[Ss],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x14da2b=a0_0x22ca69;return _0x14da2b(0x64e)+Math['random']()['toString'](0x24)[_0x14da2b(0x6ff)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x22ca69(0x430)},'startID':{'type':String,'default':()=>(0x0,ys['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,ys['v4'])()},'shareOwners':{'type':[String],'default':[]}});wa[a0_0x22ca69(0x6ef)](a0_0x22ca69(0xf6),function(_0x173b64){const _0x17462b=a0_0x22ca69;let _0x4bcd46=this['getUpdate']();if(_0x4bcd46&&typeof _0x4bcd46==_0x17462b(0x769)&&_0x17462b(0x26c)in _0x4bcd46){let _0x4cf0ad=_0x4bcd46['$set'];if(_0x4cf0ad){let _0x3f51b5=new Set(),_0x3f2f92=new Set(_0x4cf0ad['variables']?.['map'](_0x9e44e7=>_0x9e44e7[_0x17462b(0x7cc)])),_0x3ee700=JSON[_0x17462b(0x3d0)](_0x4cf0ad),_0x1eff02=/{{(?!_)([^}]*)}}/g,_0xa07d6f;for(;(_0xa07d6f=_0x1eff02['exec'](_0x3ee700))!==null;)_0x3f2f92[_0x17462b(0x7a9)](_0xa07d6f[0x1])||_0x3f51b5[_0x17462b(0x6fa)](_0xa07d6f[0x1]);_0x3f51b5[_0x17462b(0x7b4)]>0x0?(console[_0x17462b(0x7b6)](_0x17462b(0x474),Array[_0x17462b(0x227)](_0x3f51b5)),_0x4cf0ad[_0x17462b(0x84)]=Array[_0x17462b(0x227)](_0x3f51b5)):_0x4cf0ad[_0x17462b(0x84)]=[],this[_0x17462b(0x17a)]({'$set':_0x4cf0ad});}}_0x173b64();});var Me=R?.[a0_0x22ca69(0x754)](bs[a0_0x22ca69(0x7cc)],wa,a0_0x22ca69(0xf8)),po=new D['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Cs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[lo]},{'_id':!0x1}),ho=new D[(a0_0x22ca69(0x158))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Cs],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[Ss],'default':[]},'chatLog':po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x22ca69(0x3c8)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x22ca69(0x7a0)},'waitingMenu_replyOptions':{'type':[Ss],'default':[]}}),ya=_0x5ddfa0=>{const _0x1e468f=a0_0x22ca69;let _0x4787b2='z_'+_0x5ddfa0+'_FlowHistorico';return R?.['model'](_0x1e468f(0x77b),ho,_0x4787b2);},go=new D[(a0_0x22ca69(0x158))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),pa=new D[(a0_0x22ca69(0x158))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),mo=new D[(a0_0x22ca69(0x158))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[pa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x22ca69(0x5ad)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[go],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':pa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),ba=_0x85fe33=>{const _0x38bff6=a0_0x22ca69;let _0x69573c='z_'+_0x85fe33+'_ScheduleMessages';return R?.[_0x38bff6(0x754)](_0x38bff6(0x378),mo,_0x69573c);},Ms=class{},fo=new D[(a0_0x22ca69(0x158))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),wo=new D[(a0_0x22ca69(0x158))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),yo=new D[(a0_0x22ca69(0x158))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),bo=new D['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x22ca69(0x794)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),So=new D['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Mo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[So]},'customFields':{'type':[yo]},'flowConfig':{'type':bo,'default':{}},'flows':{'type':[wo],'default':[]},'autoCompleteMessages':{'type':[fo],'default':[]}}),Ae=R?.['model'](Ms[a0_0x22ca69(0x7cc)],Mo,'AutomateSystem'),Sa=require(a0_0x22ca69(0x11b)),Co=new Sa['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ma=_0x3e56e9=>{const _0x4aa556=a0_0x22ca69;let _0x3da507='z_'+_0x3e56e9+_0x4aa556(0x3e1);return R?.[_0x4aa556(0x754)](_0x4aa556(0x4a4),Co,_0x3da507);},_=class{constructor(_0x4fb528){const _0x302731=a0_0x22ca69;this[_0x302731(0x1f9)]=_0x4fb528[_0x302731(0x268)](_0x302731(0x48a));}};function A(_0x4547a4){const _0x5940d0=a0_0x22ca69;let _0x390322={};for(let [_0x4b2bc3,_0x508370]of Object[_0x5940d0(0xce)](_0x4547a4))if(typeof _0x508370==_0x5940d0(0x769)&&!Array[_0x5940d0(0x612)](_0x508370)){for(let [_0x43d398,_0x25c2b4]of Object[_0x5940d0(0xce)](_0x508370))_0x390322[_0x4b2bc3+'.'+_0x43d398]=_0x25c2b4;}else _0x390322[_0x4b2bc3]=_0x508370;return _0x390322;}function a0_0x1b74(){const _0x5409eb=['Erro\x20ao\x20copiar\x20o\x20documento','match_last_seen','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','isJidBroadcast','scheduleSendAudio','parseInt','Fluxo\x20\x27','editflowgroup','Instância:\x20','$dbName','Error\x20while\x20deleting\x20message\x20for\x20everyone','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','restart','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','filter','undefined','findByIdAndUpdate','getDevice','post','notas','RemoteJid:','deleted','formatBRNumber','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','editedMessage','groupJid','flowConversation','):Audio\x20processed','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','addMessagesToGroup','function','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','):\x20Ignoring\x20group\x20messages.','getVariablesChat','formatStatusMessage','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Número\x20não\x20possui\x20WhatsApp.','\x1b[30m','automateSystem','participants','MESSAGES_SET','Error\x20updating\x20cache\x20contact:','@whiskeysockets/baileys','Message\x20absent\x20from\x20node','admin_add','):\x20Conversa\x20inserida\x20com\x20sucesso.','code','sticker','):\x20Usando\x20extensão\x20padrão:\x20','Instâncias\x20removidas:\x20','CORS_METHODS','imgUrl','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','call','chatModify','prepareWAMessageMedia','toggleEphemeral','scheduleNextCheck','findOne','\x20minutos','):Type\x20defined\x20as\x20audio','startFlow','importChatsAntigo','PLAYED','\x20instance\x20does\x20not\x20exist','\x20minutos\x20verificará\x20novas\x20mensagens','loggedOut','messageStubParameters','sendMessageAck','/instance/delete','success','processReadyMessages','Error\x20fetching\x20group','lastUpdate','createJid','model','path','Erro\x20ao\x20atualizar\x20o\x20flow.','SECRET','data','The\x20\x22','updateConversation','verify','updateGParticipate','\x1b[37m%s\x1b[0m','sendPresenceUpdate','):\x20','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','public','/64\x20dev\x20','getValidWhatsAppNumbers','#000000','):\x20Conversa\x20está\x20expirada\x20-\x20voto','editflowvariable','color','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','object','node-mime-types','scheduleMessage','.url','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','remove','send','connectedName','arraybuffer','deleteflow','chat\x20não\x20encontrado','processConditionsTest','defineAuthState','testingWith','isBusiness','getChatModelForOwner','oldValue','nomecompleto','ConversationModel','restrict','IPv6\x20Prefix\x20detected:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','splice','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','STATUS_INSTANCE','):\x20Grupo\x20','myAppStateKeyId','):\x20Há\x20mensagens\x20prontas,\x20adicionando\x20à\x20fila','exists','loadWebhook','onTime','):\x20Buscando\x20conversas...','authService','AUTHENTICATION','sendText','#00a1f2','eventHandler','):\x20leadInfoVariables','senderKeyDistributionMessage','stopped','sections','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','!stop','eventEmitter','updateOnlinePrivacy','integer','chats','toLowerCase','reference','flowPrefixCommand','processingGroup','count','temp-','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','Esse\x20fluxo\x20expirou','refused','connectionUpdate','sem\x20texto\x20na\x20mensagem','Error\x20adding\x20IPv6\x20address:\x20','\x27\x20não\x20encontrado\x20na\x20memória','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','updateParticipant','ip6eui','has','Garbage\x20collection\x20não\x20está\x20disponível.','stopMinutes','Authentication\x20error','document','messageSecret','LICENSE_INVALID','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','del','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','4282224IwAhRB','size','varedit','warn','cachedContact','ip\x20-6\x20addr\x20del\x20','atendimentoAberto','encoding','\x20segundos','replaceValue','deleteInstance','createConnection','--------------------------------------','groupName','WA\x20MODULE','pino','menuIgnoreNonVotes','every','not\x20loaded','query','networkInterface','Router','Erro\x20ao\x20alterar\x20privacidade','originalUrl','hDel','name','):\x20Falha\x20ao\x20deletar\x20mensagem.','Erro\x20de\x20atualização:\x20','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','digest','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','REDIS_URI','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','evaluateCondition','ChatModel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','uazapiDeleteMessage','unhandledRejection','editFlowVariable','enabled','PRODUCT_LIST','#b4ebff','):\x20Editando\x20variável\x20do\x20fluxo...','min','):\x20nextBlock.uazapi.name','request\x20received\x20in\x20allFlows','formatVCard','Nenhum\x20participante\x20válido\x20encontrado.','RemoveChatLabel','_pushName','Forbidden','.png','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','hGet','request\x20received\x20in\x20updateAgent','Error\x20fetching\x20and\x20updating\x20profile:\x20','pt-BR','variablesNotFound','view\x20engine','bateu\x20events','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','.\x20Pulando.','author','fetchMessages','subject','creds.json','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','.fileUrl','2fYCLGK','/wa-presence','\x22\x20cannot\x20be\x20empty','context','groupId','getContactModelForOwner','):\x20Deletando\x20conversa...','sendContact','announcement','end','normalizeMessage','Telefone:\x20','flowStopMinutes','HeaderType','when','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','updateMissingTags','sendReaction','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','):\x20Bloco\x20com\x20ID\x20','CORS_ORIGIN','Bloco\x20com\x20ID\x20','env.KEY\x20!==\x20key','):Delete\x20chat','result','):\x20Buscando\x20todos\x20os\x20fluxos...','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','secondValue','linkPreview','pollErrorMessage','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','extractMessageContent','command',',\x20valor\x20passado:\x20\x22','replaceVariablesInObject','upsertedCount','processUazapi','closeExistingConversations','):Image\x20is\x20url','):\x20Enviando\x20áudio','env','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','status.instance','):Image\x20is\x20base64','Conexão\x20estabelecida','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','cacheContact','gifPlayback',',\x20resultado:\x20','activatedCount','\x22\x20not\x20found','ERROR','\x1b[1m','params','catch','_activatedCount','.webp','updateChatGroupData','Flow\x20iniciado','connectToWhatsappController','apiResponse','entries','js-yaml','messages.upsert','DD/MM\x20HH:mm:ss','documentMessage','notEmpty','statusCode','\x20ao\x20chat\x20','update','put','updateGParticipant','lastFetchAwaitingApproval','DATABASE_CONNECTION_USER','Erro\x20ao\x20editar\x20o\x20bloco:\x20','/wa-message','ephemeralExpiration','Detalhes\x20do\x20erro:','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','random','blockLogs','labels.edit','markMessageAsRead','Mensagem\x20não\x20suportada','connectedClient','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','flattenObject','\x20-i\x20','groupLeave','menuType','saveCreds','isRunning','mongodb://','messageTimestamp','truncatedto','lastBlockId','):Archiving\x20chat','StartID:','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','):Audio\x20converted\x20and\x20stored\x20in\x20cache','Log\x20out\x20instance:\x20','findOneAndUpdate','fileLength','allFlows','\x20-\x20ON:\x20','conversationTimestamp',',\x20received\x20','fetchProfilePicture','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','insertCount','getMIMEType','.ogg','updateBlock','pictureUrl','PREFIX_KEY','editFlowReply','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','telefone','uazapiSendMedia','IP\x20mismatch:\x20configured\x20','sign','long','6920287oKcRWo','JWT','fetchPrivacySettings','sharp','DATABASE_CONNECTION_URI','Rótulo\x20inválido\x20ou\x20sem\x20ID.','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','getMessage','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','findManyByIds','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','getBase64FromMediaMessage','SEND_MESSAGE','wuid','mongoose','PENDING','waitingMenu_id','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','SSL_CONF',',\x20Minutes\x20to\x20Close:\x20','):\x20conversation.waitingMenu_name','\x1b[44m','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):\x20whoCanEdit\x20before\x20validation:\x20','downloadMediaMessage','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','getScheduleMessageModelForOwner','online','namespace','longitude','saveTextReply','presence','SINGLE_SELECT','toString','waitingMenu_replyOptions','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','8880687HeDAsJ','dbClient','variable','groupUpdateDescription','insertMany','sendMenu','):\x20Conversa\x20atualizada\x20em\x20memória','FULLCHAIN','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','whoCanUse','phoneNumber','\x0aFN:','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','.doc','Tentando\x20reconectar...','replyOptions','SERVER_URL','src','IP\x20confirmed:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','updateReplyOption','.mimetype','BufferJSON','request\x20received\x20in\x20updateAutoCompleteMessages','KEY','readMessage','buffer','1985658bOclMH','profile','variables','\x27\x20removido\x20do\x20AutomateSystem.','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','checkAndRestartProcess','blockId','no-cache','isConnected','Erro\x20ao\x20atualizar\x20AutomateSystem:','Subdomínio\x20final:','\x27...','Schema','uazapiSendMenu','replaceVariablesInReplyOptions','editflow','status@broadcast','$addToSet','/media/','where','STORE_CONTACTS','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','instanceInfo','Error\x20removing\x20unused\x20chat\x20fields:','isJidGroup','flowName','getAutomateSystem','isURL','statusJidList','chatLog','STORE_CHATS','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','https','ephemeralDuration','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','lastInteraction','shift','poll','status',',\x20Resultado:\x20','\x27\x20do\x20banco\x20de\x20dados...','Erro\x20ao\x20atualizar\x20conversa:\x20','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','request\x20received\x20in\x20updateCustomFields','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','label','setUpdate','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','muteEndTime','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','stdout','floor','saveConversationToDatabase','contactMessage','toLocaleString','max','rows','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','createFlow','upperCase','_activedCount','startCommandWord','apirequest','Falha\x20ao\x20processar\x20a\x20solicitação','close','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','getConversationModelForOwner','updateStopChat','bodyStringErrorParse','editFlow','findIndex','./.git/config','\x1b[32m','recording','cacheInstanceModel','AppStateSyncKeyData','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','Limpando\x20logs\x20do\x20PM2...','agents','\x0aitem','redirect','updateProfilePicturePrivacy','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','replaceOne','CLEANING_INTERVAL','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','IPv6\x20address\x20configured:\x20','groupInviteCode','errorLog','SERVER_OFFLINE','throwAndLogError','):\x20Entrou\x20na\x20função\x20goToFlow','memberAddMode','isLong','some','jpegThumbnail','):\x20Enviando\x20mídia','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','mongodb','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','):\x20Comando\x20desconhecido:\x20','updateCustomFields','dayjs','):\x20whoCanUse\x20before\x20validation:\x20','#d8e651','prototype','text','editflowvaredit','replacer','isCommunityAnnounce','hSet','updateLastSeenPrivacy','DisconnectReason','goToFlow','request_method','flowStopConversation','lastCondition','stopMinutesMaxActives','picture','Erro\x20ao\x20tentar\x20updateCustomFields','118770ldhPEM','text/event-stream','uazapiSendText','qrcode','groupSettingUpdate','LEVEL','key','/instance/create','cache','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','interval\x20não\x20é\x20um\x20número','?timestamp=','LOG_LEVEL','valid','badSession','Erro\x20ao\x20executar\x20bulkWrite:','Resultado\x20da\x20correspondência\x20de\x20URL:','Erro\x20ao\x20normalizar\x20a\x20mensagem:','CONNECTION_UPDATE','last_update','/message','\x20foi\x20interrompido\x20pelo\x20usuário.','createGroup','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','ListType','fetchChats','Database\x20is\x20not\x20enabled','fetchContacts','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Contacts\x20not\x20found','options','optionDescription','Imagem\x20não\x20encontrada','Internal\x20Server\x20Error','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','no.connection','https://api.openai.com/v1/audio/speech','Valor\x20da\x20URL\x20recuperada:','detail','Fluxo\x20não\x20encontrado\x20na\x20memória.','Erro\x20ao\x20tentar\x20autoCompleteMessages','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','createWebhook','replace','https://','whatsappNumbers','groupSetting','request\x20received\x20in\x20editFlowvariable','child_process','_Chats','AutomateFunctions','dbSettings','):Error\x20in\x20converting\x20audio','isValidIPv6Config','findOrCreate','getLabelModelForOwner','content','STORE_CLEANING_TERMINAL','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):Hash\x20to\x20image\x20name:\x20','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','#fed428','ip\x20-br\x20link\x20show','processConditions','StartBot','application/octet-stream','findWebhook',',\x20valor\x20a\x20encontrar:\x20\x22','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','join','50mb','reject','\x1b[40m','textMessage','updateProfilePicture','updateMessage','Parando\x20aplicação,\x20atualização\x20recebida','last','Type\x20is\x20required','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','created','removeInstance','msgRetryCounterCache','findGroupInfo','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','\x1b[33m\x1b[1m','groupRevokeInvite','isListOfNumbers','):\x20Query\x20params:\x20','off','demote','delay','groupMetadata','SERVER_PORT','generateRandomIPv6','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','from','Error\x20finding\x20many\x20contacts:','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','responsavelid','keys','updateAutoCompleteMessages','find','.jwt','cachedData-whatsapp','startsWith','groupHandler','request\x20received\x20in\x20deleteFlow','pow','array','Instance\x20deleted','cleaningUp','CHATS_SET','audioMessage','evaluateConditionTest','\x22\x20-\x20REMOVED','setWebhook','mediaMessage','createInstance','):\x20conversation.lastInteraction:\x20','findFlow','GROUP_PARTICIPANTS_UPDATE','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','):\x20Enviando\x20contato','awaitSeconds','chats.delete','collections','instanceName','flowActive','utf-8','CORS_CREDENTIALS','10OVFukM','chat','groupdata.participants','errors','Erro\x20ao\x20inserir\x20chats:','Valor\x20de\x20find\x20ou\x20replace\x20ausente','charAt','chatHandle','buttonText','dbConnection','maxActives','pendingMessages','bulkWrite','Grupo\x20não\x20encontrado','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','preview','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','randomMac','CONTACTS_SET','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','auth','state','sleep','reorderMessages','#ffae04','notContains','SUCCESS','getMessageModelForOwner','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','get','findAll','#6f7bcf','):\x20Iniciando\x20bot...','$set',',\x20canSendMessage:\x20','DELETED','32VTfSrQ','reactionMessage','The\x20property\x20cannot\x20be\x20empty','):\x20Fluxo\x20\x27','jsonwebtoken','email','Generated\x20IPv6:\x20','protocolMessage','locked','dbInstance','proto','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Erro\x20ao\x20buscar\x20a\x20conversa','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','addresss','getProfileName','group','less','initAuthCreds','admin','joinApprovalMode','idSchedule','deleteMany','getTime','Erro\x20na\x20função\x20updateChatWithMessage:\x20','waMonitor','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','notMatchRegex','/instance/connectionState','capitalizedWords','*Pergunta*:\x20\x0a','editChat','console','Erro\x20inesperado\x20em\x20processvaredits:\x20','removeProfilePicture','Not\x20Found','imageMessage','):\x20Editando\x20replyOption...','TEL','width','exec','unlocked','getFlow','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','mediaKey','Nenhum\x20chat\x20encontrado\x20para\x20editar.','logout','http','image','groupParticipantsUpdate','greater','Erro\x20ao\x20deletar\x20mensagens:','readreceipts','):\x20atualização\x20chat:\x20','getLastMessage','authentication','\x22reaction\x22\x20must\x20be\x20an\x20emoji','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','createConversationforgoToFlow','removeIPv6','findLabels','inviteCode','updateMediaMessage',',\x20lastCondition:\x20','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','configService','segundos','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','Cache-Control','HOST','trimmed','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','readMessageBot','LOG_COLOR','request\x20received\x20in\x20updateFlowConfig','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','messageContextInfo','matchRegex','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','menuExpiredMessage','message_normalized','updateAgent','connectionState','PORT','envYaml','reorderBlocks','\x20\x1b[0m','eventemitter2','):Image\x20created','release','isValidAndUniqueIPv6','getPrototypeOf','request\x20received\x20in\x20editConversation','):\x20Erro\x20durante\x20a\x20atualização:\x20','condition','detectIPv6PrefixAndInterface','flows','waitingMenu_text','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','request\x20received\x20in\x20starFlow','findRealGroups','removeData','load','IPv6\x20addresses\x20detected:\x20','The\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','Instance\x20\x22','Configured\x20IPv6:\x20','transformScheduledMessagesByType','latitude','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','EMAIL:','DEBUG','sha256','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','autoCompleteMessages','findById','forEach','):\x20Enviando\x20mensagem\x20para\x20','MessageModel','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','audio/ogg;\x20codecs=opus','getClient','#ffc5c7','router','dbServer','title','removeIPv6ById','Close\x20connection','Error\x20writing\x20file:\x20','delAll','editFlowGroup','/wa-message-update','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','log','):\x20Conversa\x20está\x20expirada','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','):\x20teve\x20mudanças\x20chat.archived:\x20','-whatsapp-api','use','DB_PREFIX_NAME','connectionStatus','label_jid','contact','buttonMessage','utf8','Module\x20-\x20ON','/wa-chats','):\x20transformedCustomFieldVariables','\x1b[41m','Erro\x20ao\x20buscar\x20conversas','\x20-y','):\x20newSecondValue\x20após\x20replaceVariables:','noConnection','pollCreationMessageV3','ORG:','connectToWhatsapp','HH:mm:ss','readFile','rowId','lowerCase','ip\x20-6\x20addr\x20show\x20dev\x20','MAX_SAFE_INTEGER','empty','readdirSync','composing','class-validator','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','ini','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','reconnectAttempts','request\x20received\x20in\x20scheduleMessage','groupDesc','map','Falha\x20ao\x20processar\x20fetchBusinessProfile','GROUPS_UPSERT','fromMe','fetchLabels','#56ccb4','):\x20\x27Enviando\x20audio\x20para\x20\x27','processclearVariables','@broadcast','/events','isCommunity','\x20quoted:\x20','toFile','messageId','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','hbs','#ffffff','fone','messageType','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','sendList','getReadyToSendMessages','DaysToDelete','Erro\x20ao\x20deletar\x20a\x20conversa','uazapiSendAudio','inner','whoCanEdit','0123456789ABCDEF','):\x20lastBlockId:\x20','licenca','deletedCount','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','retrySendMessage','\x20removido\x20do\x20chat\x20','menuMessage','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','groupCreate','cpf','locationMessage','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','unavailable','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','data:\x20','firstValue',',\x20global:\x20','Data\x20inválida\x20fornecida','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','substring','mentions','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','USER','webhookMap','pollCreationMessage','.wav','Erro\x20ao\x20encerrar\x20a\x20API','push','descId','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','Subscribed\x20Events:','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','webhook','STORE','etiquetas','EMAIL','response','.\x20Aguardando\x20','group-participants.update','AutomateSystem\x20não\x20foi\x20inicializado','crypto','deleteAll','contacts.upsert','):\x20Rótulo\x20atualizado:\x20','^\x5cd+','verbose','fetchInstances','mimetype','_p_','profilePicture','importChats','folder','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','stopWhenYouSendMsg','getConversation','\x20:\x20','jid','ScheduleMessageModel','user','ENABLED','removeChatLabel','.TEL;waid=','messageHandle','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','setRestartTimeout','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Background\x20color\x20is\x20required','blocks','axios','readMessages','Erro\x20ao\x20buscar\x20Schedule\x20Messages','subjectTime','scheduleSendMedia','):\x20updateResult:','joinGroup','ON\x20-\x20dbName:\x20',',\x20Expiration\x20Time:\x20','BRL','Message','normalizeMessageContent','participant','autoCompleteMessages.command_1','\x1b[36m%s\x1b[0m','leadInfo','TYPE','Instance\x20Name:','number','Not\x20is\x20business\x20profile','getAllData','generate','type','.svg','Erro\x20ao\x20editar\x20o\x20chat','enumerable','findGroups','groupGetInviteInfo','8080','docker','sort','descOwner','shareOwners','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','?authSource=admin&readPreference=primary&directConnection=true','messages.update','processPollUpdateMessage','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','Error\x20updating\x20message\x20status:','updateGroupParticipantsWebhook','):\x20Criando\x20fluxo...','#92ceac','autoCompleteMessages.command','birthtime','shareFlow','express','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','request\x20received\x20in\x20fetchConversation','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','#9ab6c1','pollMessage','Network\x20interfaces\x20detected:\x20','Número:\x20','repository','lastMessage','caption','getDelay','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','userDevicesCache','scheduleSendText','convertedOptions','):\x20enviado\x20para\x20[','request\x20received\x20in\x20deleteDoneMessages','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','reconnectTimestamps','leadInfo.etiquetas','):\x20Flow\x20\x27','lean','Rótulo\x20deletado:\x27,\x20','open','editFlowBlock','debug','vote','processgoToFlow','privacySettings','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','saveVariable','stringify','message','ListMessage','):Notifying\x20clients\x20for\x20chat:\x20','and','error','/config','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','remote\x20\x22origin\x22','):\x20Query\x20params:','test','Erro\x20ao\x20buscar\x20fluxos:','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','all_member_add','app','):Image\x20path:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','_Labels','request\x20body:\x20','Validate','reviver','request\x20received\x20in\x20createFlow','approve','jwt','static','send.message','SERVER','uazapiSendLocation','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','):\x20Error\x20processing\x20the\x20block:\x20','loadInstance','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.',',\x20Segundo\x20Valor:\x20','pairingCode','addBlock','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','footerText','Sistema\x20atualizado\x20com\x20sucesso!','):Desconectado,\x20parando\x20execução.','presence.update','storePath','triedToSend','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','startCommand','conditions','option','exports','cacheContactModel','READ','creation','https://github.com/uazapi/uazapi.git','keyPattern','this.reconnectAttempts:\x20','reorderReplyOptions','\x1b[34m','getTicketSystem','Erro\x20ao\x20aplicar\x20varedit:\x20','unreadcount','redisEnv','archive','stderr','/create','URL:','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','\x22,\x20valor\x20a\x20substituir:\x20\x22','):\x20Limpando\x20delayMessage','Network\x20Interface\x20detected:\x20','fullName','chats.upsert','groups.upsert','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','messaging-history.set','uncaughtException','):\x20delete\x20=\x20true','logger','express-async-errors','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','application/json','URI','headerString','updateProfileStatus','MESSAGES_UPSERT','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','list','convertToString','isAdmin','deleteChat','/*.json','set','request\x20received\x20in\x20editFlowcondition','updatePresence','minutesToClose','contextInfo','messages','):\x20tem\x20blocks','false','\x20adicionado\x20ao\x20chat\x20','Valor\x20inicial:\x20\x22','updateChatWithMessage','RECONNECT_TIME_FRAME','processvaredits','info','CORS','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','existsSync','CHATS_UPDATE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','uazapi','-instances','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','\x20do\x20chat\x20','processawaitSeconds','content-type','):Image\x20converted\x20to\x20WebP','pollUpdateMessage','authState','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','updateMany','joinGroupValidate','Deleted\x20','DATABASE_CONNECTION_HOST','sendDataWebhook','available','Erro\x20ao\x20atualizar\x20o\x20fluxo:','https://api.elevenlabs.io/v1/text-to-speech/','Pausado\x20por\x20','match','findAndUpdateCacheContact','):\x20Procurando\x20conversa','groups.update','findGroupInfos','\x20contacts','insert','awaitingApproval','leaveGroup','imported','optionName','Read\x20messages','pushName','cwd','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','clearVariables','toUpperCase','copyBlock','displayName','global','buttons','@g.us','cachedContacts-whatsapp','updateMissingCustomFields','removeUnusedChatFields','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat',',\x20fará\x20nova\x20verificação\x20em\x20','quotedMessage','MESSAGES_UPDATE','sendButtons','save','toDataURL','verifyWhatsAppNumber','ContactsAndGroups','Instance\x20ID:','\x20}\x0a','instancias:\x20','Variáveis\x20não\x20encontradas:','enviado\x20para','DATABASE_ENABLED','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','/group','):Output\x20path:\x20','findGroupsEspecial','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','lastSend','Error\x20removing\x20IPv6\x20address:\x20','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','ms\x20(tentativa\x20','hGetAll','quoted','/instance/connect','.mp4','oldToken','promote','downloads','rm\x20-rf\x20','updateOne','DATABASE','ScheduleMessage','pollMessageOnDelete','groupValidate','timeout','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','):\x20Criando\x20nova\x20conversa[createNewConversation]','videoMessage','requestFile','editConversation','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','spawn','exit','959840AbNdny','goNextblock','subjectOwner','jsonschema','dataValidate','createClient','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','instanceCount','editMessagesInGroup','Missing\x20global\x20api\x20key','sectionsToString','/media','\x1b[31m','LabelModel','repeat','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','lastRealGroupsFetch','\x1b[1m\x1b[37m','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','currency','createSectionsFromValues','DATABASE_CONNECTION_PASSWORD','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','readFileSync','Button\x20IDs\x20cannot\x20be\x20repeated.','sending','getUniqueFlowName','beautifyWithPlaceholders','):\x20Process\x20UUID\x20já\x20definido.\x20Saindo\x20da\x20função.','):\x20error:\x20','unlinkSync','startFlowWebhook','XX:XX:XX:XX:XX:XX','deleteFlow','groups','default','replaceVariablesLogs','E-mail:\x20','.pdf','ObjectId','https://jsonip.com','sim','sendPoll','/instance','instanceKeys','GET','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','CHATS_DELETE','output','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','apply','):\x20Buscando\x20flow...','):\x20não\x20encontrou','Chat\x20com\x20ID\x20','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','selectableCount','parse','base64','action','groupJoinApprovalMode','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','header','):Converted\x20image\x20deleted','reaction','deleteOne','AUTHENTICATION_JWT_EXPIRIN_IN','delayChatLabel_RETRY_DELAY_MS','request\x20received\x20in\x20editFlow','getOwnPropertyNames','findMany','archiveChat','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','username','processblock','cacheInstanceRepository','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','convertToWebP','collection','Type\x20not\x20found','Last\x20message\x20not\x20found\x20for\x20number:\x20','local_map','contactHandle','hasOwnProperty',']\x20(','allflows','beforeExit','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','limit','GUARD','):\x20conversation.status:\x20','truncatedtoEnd','https://uazapi-plugin.bubbleapps.io/','listMessage','selectedOptions','dark','error_log','app-state-sync-key','groupUpdateSubject','\x1b[33m','fileName','WARN','DELIVERY_ACK','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]',',\x20saindo.',',\x20isAdmin:\x20','not_announcement','Erro\x20ao\x20deletar\x20chat:','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','statusMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','\x20minutos.\x20Será\x20às\x20','groupAcceptInvite','conversation','fetchBusinessProfile','scheduleFlow','Erro\x20ao\x20remover\x20label\x20','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','):\x20Entrou\x20na\x20função\x20saveReply','_sender','expiration','deleteConversation','setting','leadInfo.','):Processing\x20audio','labels.association','writeData','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','toBRL','Fluxos\x20não\x20estão\x20ativados','Instância\x20não\x20encontrada.','REDIS_PREFIX_KEY','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','urlOrBase64','):\x20UUID\x20do\x20processo\x20não\x20corresponde,\x20parando\x20processamento.','):\x20\x27Enviando\x20mídia\x20para\x20\x27','):\x20Limpando\x20AutomateSystem','../env.yml','):\x20Criou\x20conversa\x20no\x20startFlow','mediaSticker','convert','customFields','processScheduleFlow','COLOR','sendLocation','REDIS','localWebhook','\x1b[37m','):\x20whoCanUse\x20after\x20validation:\x20','flush','PRESENCE_UPDATE','create','closed','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','waInstances','contacts','updateAll','stopConversation','Error\x20parsing\x20JSON:','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','audioWhatsapp','addReplyOption','body','editScheduleMessage','labelId','toNumber','testIPv6','delaySecMin','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','addChatLabel','):\x20[messages.upsert]\x20group\x20ignored','newValue','VERBOSE','/wa-contacts','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Subdomínio\x20não\x20encontrado','node-cache','listResponseMessage','generateHash','OrAnd','DATABASE_CONNECTION_DB_PREFIX_NAME','includes','):Getting\x20image\x20from\x20url','hex','deleteDoneMessages','delete','Last\x20message\x20not\x20found','):\x20Adicionando\x20\x27','\x20inseridos\x20no\x20banco\x20de\x20dados...','binary','stickerMessage','#9ba6ff','CacheContacts\x20database\x20connection\x20closed.','pollOnReplyDelete','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','\x5cd+','deleteBlock','}}\x20->\x20\x22','NextBlock','canSendMessage','webhookModel','editOperator','out','restartInstance','\x20não\x20encontrado\x20para\x20cópia','/wa-groups','store','URL\x20não\x20disponível','Erro\x20ao\x20importar\x20chats','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','contact_blacklist','editFlowVaredit','authModel','apikey','https://v6.ident.me','stack','delayChatLabel','Logger','instances','execSync','#d3a91f','item','verifiedName','ip\x20-6\x20addr\x20add\x20','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','redis','ff:fe','delaySecMax','sendMedia','video','qrCode','findGroup','updateMissingEtiquetas','groupadd','loadEnv','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','trim','request\x20received\x20in\x20getConversation','inviteCodeDetails','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','qrcode.updated','padStart','Enter\x20a\x20value\x20in\x20milliseconds','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','convertaudioMP3','waUploadToServer','connect','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Selecione','connection.update','getStatus','\x5c$&','):\x20Label\x20','PROXY','INFO','buttonId','):\x20Error\x20processing\x20conditions:\x20','@redis/client','Primeiro\x20Valor:\x20','replaceVariablesChat','sendMessageWithTyping','true','sendWhatsAppAudio','Erro\x20ao\x20atualizar\x20agendamento\x20','CONNECTION','No\x20suitable\x20network\x20interface\x20found','Parando\x20aplicação...','Erro\x20ao\x20editar\x20a\x20conversa','nome','extractRegex','next_groupId','SERVER_ACK','value','getScheduleMessage','\x22\x20-\x20NOT\x20CONNECTION','promisify','scheduled','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','sendAudio','format','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','contains','https://ipv6.jsonip.com','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','revokeInviteCode','superadmin','):\x20alterando\x20this.AutomateSystem','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','start','unknown\x20operation\x20type\x20[','decryptPollVote','setHeader','Types','findAndReplace','listen','keep-alive','Content-Type','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','fromObject','resetReconnectionVariables','createIPv6','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','headers','groupBetterSetting','EXPIRIN_IN','CREDENTIALS','.txt','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','.X-ABLabel:Celular\x0a','lastReceivedMessage','emit','removed','stopIfLastReturnedError','PRIVKEY','The\x20global\x20api\x20key\x20must\x20be\x20set','editflowblock','):\x20[messages.update]\x20group\x20ignored','listType','QRCODE_UPDATED','):\x20Entrou\x20na\x20função\x20stop','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','Filtered\x20network\x20interfaces:\x20','values','globalShow','round','#9568cf','realVariables','):\x20Going\x20to\x20','archived','fetchProfilePictureUrl','fetchProfile','writeFileSync','createConversationforStartFlow','Novo\x20IP\x20criado:\x20','\x1b[31m%s\x1b[0m','drop','):\x20Enviando\x20localização',',\x20qrcodeCount:\x20','https://ifconfig.me/ip','delayChatLabel_MAX_RETRIES','string','groupdata','.type','Erro\x20ao\x20iniciar\x20fluxo:\x20','defineProperty','editflowcondition','[AUTH]\x20Database\x20is\x20not\x20enabled','changeVariables','):\x20Current\x20Time:\x20','json','):\x20Enviando\x20texto','/clients-info','profilePictureUrl','proxy:\x20','Font\x20is\x20required','tags','):\x20Atualizando\x20status\x20da\x20mensagem\x20','CONTACTS_UPDATE','chatId','deleteMessage','client','Variável\x20não\x20encontrada!','\x20com\x20sucesso.','@s.whatsapp.net','Instance\x20Key\x20from\x20DB:','mediatype','creds','basename','announce','flowConfig','updateOneById','owner','.mp3','ephemeralMessage','API_KEY','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','isArray','):\x20Editando\x20edição\x20do\x20fluxo...','Bad\x20Request','\x20depois\x20','InstancesAlterarTodas','/:instanceName','\x1b[33m%s\x1b[0m','envProcess','website','):\x20\x27Enviando\x20texto\x20para\x20\x27','\x1b[36m','remoteJid','block','instance.','variablesToObject','saveMediaToFile','chats.update','Unauthorized','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','ignoreGroups','fetchLatestBaileysVersion','.extension','#83e421','Fluxo\x20id\x20\x27','):\x20Bloco\x20original\x20para\x20cópia:\x20','config','uuid','):\x20newFirstValue\x20após\x20replaceVariables:','contacts.update','groupFetchAllParticipating','createNewConversation','indexOf','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','):\x20ev.flush\x20realizado','sendSticker','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','\x1b[43m','role','\x27\x20não\x20encontrado','equal','connecting','getMinutes','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','validate','waitingMenu_ExpiredMessage','url','modifiedCount','findConversation','webhookService','AutomateSystem','documentWithCaptionMessage','_id','StatusJidList\x20is\x20required','Usando\x20IP\x20existente:\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','!cmd_','readData','cleanDisconnectedInstances','bodyString','GROUPS_UPDATE','audio','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','presenceSubscribe','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','pollCreationMessageKey','choices','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','expression','67123jxAmIQ','findParticipants','All_Instances_Config','error\x20get\x20vote','__esModule','REDIS_ENABLED','makeCacheableSignalKeyStore','\x1b[46m','Invalid\x20format','convertaudio','deleteReplyOption','API\x20Key\x20from\x20Request:','stateConnection','createAndSave','Retornando\x20grupos\x20SEM\x20cache','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','mentioned','media','):\x20Entrou\x20na\x20função\x20processawaitSeconds','order','profileName','Falha\x20ao\x20criar\x20IPv6.','desativadoFluxoAte','urlencoded','endsWith','):Temp\x20image\x20deleted','Falta\x20informação\x20para\x20a\x20chamada\x20API','Início','deleteMessageForEveryone','AUTHENTICATION_TYPE','moreLogs','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','all','viewOnceMessageV2','events','https://uazapi-plugin.bubbleapps.io/?url=','remove.instance','Fluxo\x20agendado\x20pelo\x20fluxo\x20','description','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','upsertChats','Db\x20Connection','synchronizeAndMapFlows','allContacts','ipv6Prefix','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','DOCKER_ENV','prepareMediaMessage','updateProfileName','groupMemberAddMode','findAndReplaceRegex','processUUID','):Fetching\x20business\x20profile','now','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','cleanStore','):\x20Alterando\x20fluxo...','replaceVariables','sendMessage','inet6','Deletion\x20failed','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','arrayUnique','dropCollection','padEnd','fileUrl','connectionClosed','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','writeFile','length','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','updateGroupWebhook','):\x20Criando\x20fluxo\x20compartilhado...','lastSendMessage','STORE_MESSAGE','boolean','notEqual','views','Mac\x20OS','method','whatsappNumber','delayMessage','copy','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','flushHeaders','LOG','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20Removendo\x20\x27','Error\x20in\x20chatModify\x20for\x20number\x20','_Contacts','updateFlowConfig','):Business\x20profile\x20fetched','importChatsBatch','DARK','leadInfo.customFields','URL','stanzaId','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','groupToggleEphemeral','CONTACTS_UPSERT','Nenhum\x20fluxo\x20correspondente\x20encontrado.','assign',',\x20pairCode:\x20','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','isBase64','editFlowCondition','findContacts','request_time','ReplyOption\x20com\x20ID\x20','paused','createServer','backgroundColor','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','URL\x20completa:','updateGroupPicture','cors','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','groups_ignore','replyOption','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','):\x20Editando\x20mensagens\x20no\x20grupo...','Flow\x20\x27','fetchConversation','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','\x1b[32m%s\x1b[0m','Erro\x20ao\x20atualizar\x20cacheInstance:','flow','/exit','IPv6\x20address\x20removed:\x20','contentText','CHATS_UPSERT','instance','createHash','):Sending\x20audio\x20whatsapp','address','\x20and\x20data:','isInteger','imagechat','):\x20Flow\x20desativado','mkdirSync','font','http://checkip.dyndns.org','.webm','95OFfafn','desc','routerPath','deleteImportedChat','endSession','pre','none','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','getBusinessProfile','.jpg','pollCreationMessageV2','ids','sendStatus','getContentType','varedits','AddChatLabel','add','vir','split','updatePrivacySettings','):\x20Ler\x20mensagem','slice','then','generateWAMessageFromContent','https://chat.whatsapp.com/','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','statSync','unreadCount','SSL_CONF_PRIVKEY','fora\x20do\x20git'];a0_0x1b74=function(){return _0x5409eb;};return a0_0x1b74();}var We=class{constructor(_0x57c3e9,_0x3c9b01,_0x3f42c2,_0xfb6e82,_0x113f9e,_0xb15ec8,_0x1830be,_0x233b04,_0x1a3066,_0x42dac5,_0x44f661,_0x21133a,_0x693c65){const _0xd47bfb=a0_0x22ca69;this[_0xd47bfb(0x3d1)]=_0x57c3e9,this['chat']=_0x3c9b01,this[_0xd47bfb(0x301)]=_0x3f42c2,this[_0xd47bfb(0xbf)]=_0xfb6e82,this[_0xd47bfb(0x35f)]=_0x113f9e,this[_0xd47bfb(0x25f)]=_0xb15ec8,this[_0xd47bfb(0x6de)]=_0x1830be,this[_0xd47bfb(0x6d9)]=_0x233b04,this[_0xd47bfb(0x722)]=_0x1a3066,this[_0xd47bfb(0x179)]=_0x42dac5,this[_0xd47bfb(0x76b)]=_0x44f661,this[_0xd47bfb(0x72e)]=_0x21133a,this[_0xd47bfb(0x132)]=_0x693c65;}get[a0_0x22ca69(0x2ef)](){return this['dbClient'];}},ze=class{},He=class extends _{[a0_0x22ca69(0x266)](_0x17ffec){return ra(_0x17ffec);}async[a0_0x22ca69(0x455)](_0x3083c1,_0x592be7){const _0x18cb15=a0_0x22ca69;if(_0x3083c1[_0x18cb15(0x6a0)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x18cb15(0x266)](_0x592be7)[_0x18cb15(0x135)]([..._0x3083c1]))[_0x18cb15(0x6a0)]};}catch(_0x4b79a9){return _0x4b79a9;}}async[a0_0x22ca69(0x22d)](_0x2056b2,_0x2205c7){const _0x54f90f=a0_0x22ca69;try{let _0x210555=this[_0x54f90f(0x266)](_0x2205c7),_0xe897ac=A(_0x2056b2[_0x54f90f(0x15f)]);return await _0x210555['find'](_0xe897ac)['sort']({'messageTimestamp':-0x1})[_0x54f90f(0x4ef)](_0x2056b2?.[_0x54f90f(0x4ef)]??0x0)[_0x54f90f(0x3c6)]();}catch{return[];}}async[a0_0x22ca69(0x552)](_0x3790b1,_0x253dd6){const _0x1b63ed=a0_0x22ca69;try{let _0x40563d=this['getMessageModelForOwner'](_0x253dd6),_0x5374b4=A(_0x3790b1[_0x1b63ed(0x15f)]);await _0x40563d['deleteMany'](_0x5374b4);}catch(_0x50b2b6){console[_0x1b63ed(0x3d5)](_0x50b2b6);}}async[a0_0x22ca69(0xd6)](_0x1df5d7,_0x22e4d0,_0x44565d){const _0x53ccfa=a0_0x22ca69;try{let _0x220876=this[_0x53ccfa(0x266)](_0x44565d),_0x3b27c9=A(_0x1df5d7[_0x53ccfa(0x15f)]);return await _0x220876[_0x53ccfa(0xf6)](_0x3b27c9,{'$set':_0x22e4d0},{'new':!0x0});}catch(_0x48b476){throw console[_0x53ccfa(0x3d5)](_0x48b476),_0x48b476;}}async['insertMany'](_0x5f0dba,_0x104c0a){const _0x1b1389=a0_0x22ca69;if(_0x5f0dba[_0x1b1389(0x6a0)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1b1389(0x266)](_0x104c0a)[_0x1b1389(0x135)]([..._0x5f0dba]))[_0x1b1389(0x6a0)]};}catch(_0x16a760){return console[_0x1b1389(0x2f8)]('ERROR:\x20',_0x16a760),_0x16a760;}}async[a0_0x22ca69(0x368)](_0x4d965f){const _0x177bb0=a0_0x22ca69;try{return await this[_0x177bb0(0x266)](_0x4d965f)[_0x177bb0(0x4e5)][_0x177bb0(0x5e9)](),{'success':!0x0};}catch(_0x1e82af){return console[_0x177bb0(0x3d5)](_0x1e82af),{'success':!0x1,'error':_0x1e82af};}}},_s=T(require('@ffmpeg-installer/ffmpeg')),w=T(require(a0_0x22ca69(0x732))),ke=require('fs'),j=T(require(a0_0x22ca69(0x755))),X=T(require('axios')),Ai=require(a0_0x22ca69(0x62c)),Ii=T(require('qrcode')),Ti=T(require('qrcode-terminal')),Ca=[a0_0x22ca69(0x294),a0_0x22ca69(0xd2),a0_0x22ca69(0x238),a0_0x22ca69(0x491),'stickerMessage'],Ea=[a0_0x22ca69(0x60f),a0_0x22ca69(0x645),'viewOnceMessage',a0_0x22ca69(0x67c)],xs=require('os'),Ft=T(require(a0_0x22ca69(0x7c2))),Le=require(a0_0x22ca69(0x1f6)),Oi=require(a0_0x22ca69(0x76a)),he=T(require(a0_0x22ca69(0x11b))),k=require('class-validator'),le=class{constructor(_0x2eb408,_0x554bf3,_0x1c4203){const _0x336db3=a0_0x22ca69;this[_0x336db3(0x377)]=_0x2eb408,this['exists']=_0x554bf3,this[_0x336db3(0x7cc)]=_0x1c4203;}},Ke=class{},Qe=class{},Ie=class{},Ye=class{},Xe=class{},Ce=class{},Ze=class{},et=class{},tt=class{},st=class{},_t=T(require(a0_0x22ca69(0x3b0))),va=require('fs'),Na=require(a0_0x22ca69(0x755));async function Te(_0x52a629){const _0x3c9d76=a0_0x22ca69;let _0x50ec79=G[_0x3c9d76(0x533)][_0x52a629];if(F['ENABLED']){let _0x287a36=R[_0x3c9d76(0x2ec)]()['db'](F['CONNECTION'][_0x3c9d76(0x2fe)]+'-instances')[_0x3c9d76(0x4e5)](_0x52a629);return _0x50ec79||(await _0x287a36['find']({})['toArray']())[_0x3c9d76(0x6a0)]>0x0;}return _0x50ec79||(0x0,va[_0x3c9d76(0x439)])((0x0,Na[_0x3c9d76(0x20b)])(be,_0x52a629));}async function $a(_0x3f3b58,_0x5a9406,_0x259498){const _0x56ca5f=a0_0x22ca69;if(_0x3f3b58['originalUrl'][_0x56ca5f(0x54e)](_0x56ca5f(0x1cd))||_0x3f3b58[_0x56ca5f(0x7ca)][_0x56ca5f(0x54e)]('/instance/fetchInstances')||_0x3f3b58[_0x56ca5f(0x7ca)]['includes']('/exit')||_0x3f3b58[_0x56ca5f(0x7ca)][_0x56ca5f(0x54e)](_0x56ca5f(0x3d6))||_0x3f3b58[_0x56ca5f(0x7ca)][_0x56ca5f(0x54e)](_0x56ca5f(0x483))||_0x3f3b58[_0x56ca5f(0x7ca)][_0x56ca5f(0x54e)](_0x56ca5f(0x28c))||_0x3f3b58[_0x56ca5f(0x7ca)]['includes'](_0x56ca5f(0x74e)))return _0x259498();let _0x50211a=_0x3f3b58[_0x56ca5f(0xc6)];if(!_0x50211a?.['instanceName'])throw new m('instanceName\x20not\x20provided.');if(!await Te(_0x50211a[_0x56ca5f(0x246)]))throw new U(_0x56ca5f(0x2da)+_0x50211a['instanceName']+_0x56ca5f(0x749));_0x259498();}async function Ra(_0x4b0e6f,_0x45c01e,_0x299c80){const _0x37f65b=a0_0x22ca69;if(_0x4b0e6f[_0x37f65b(0x7ca)][_0x37f65b(0x54e)](_0x37f65b(0x1cd))){let _0x222ad2=_0x4b0e6f['body'];if(await Te(_0x222ad2[_0x37f65b(0x246)]))throw new Z('This\x20name\x20'+_0x222ad2[_0x37f65b(0x246)]+'\x20is\x20already\x20in\x20use.');G[_0x37f65b(0x533)][_0x222ad2[_0x37f65b(0x246)]]&&delete G[_0x37f65b(0x533)][_0x222ad2[_0x37f65b(0x246)]];}_0x299c80();}var Aa=require('class-validator'),Ia=T(require('jsonwebtoken')),at=a0_0x22ca69(0x43c),vo=new $(a0_0x22ca69(0x4f0));async function No(_0x3837f9,_0x4e53d9,_0x2a7426){const _0x983da8=a0_0x22ca69;let _0x471908=_0x3837f9[_0x983da8(0x268)](_0x983da8(0x56e));if(_0x471908&&S['get']('AUTHENTICATION')[_0x983da8(0x610)][_0x983da8(0x149)]!==_0x471908)throw new oe();if(S['get'](_0x983da8(0x78b))['API_KEY'][_0x983da8(0x149)]===_0x471908)return _0x2a7426();if((_0x3837f9[_0x983da8(0x7ca)][_0x983da8(0x54e)](_0x983da8(0x1cd))||_0x3837f9[_0x983da8(0x7ca)][_0x983da8(0x54e)]('/instance/fetchInstances'))&&!_0x471908)throw new Z(_0x983da8(0x4a0),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x147028=S[_0x983da8(0x268)](_0x983da8(0x78b))[_0x983da8(0x10d)];try{let [_0x58afa2,_0x1e47fb]=_0x3837f9[_0x983da8(0x268)]('authorization')[_0x983da8(0x6fc)]('\x20');if(_0x58afa2[_0x983da8(0x799)]()!=='bearer')throw new oe();if(!(0x0,Aa['isJWT'])(_0x1e47fb))throw new oe();let _0x2a7162=_0x3837f9[_0x983da8(0xc6)],_0x1efafe=Ia['default'][_0x983da8(0x75b)](_0x1e47fb,_0x147028[_0x983da8(0x757)],{'ignoreExpiration':_0x147028['EXPIRIN_IN']===0x0});if(_0x2a7162['instanceName']!==_0x1efafe[_0x983da8(0x246)]||at!==_0x1efafe['apiName'])throw new oe();return _0x2a7426();}catch(_0x1d2836){throw vo[_0x983da8(0x3d5)](_0x1d2836),new oe();}}async function $o(_0x3893f5,_0x22f067,_0x20ef30){const _0x2d84c5=a0_0x22ca69;let _0x5cf23e=S[_0x2d84c5(0x268)](_0x2d84c5(0x78b))['API_KEY'],_0x15ad63=_0x3893f5['get'](_0x2d84c5(0x56e));if(_0x5cf23e[_0x2d84c5(0x149)]===_0x15ad63)return _0x20ef30();if(_0x3893f5[_0x2d84c5(0x7ca)][_0x2d84c5(0x54e)](_0x2d84c5(0x1cd))){let _0x3f182e=Oa,_0x57fe84=_0x3893f5[_0x2d84c5(0x53b)][_0x2d84c5(0x246)];if(_0x3f182e&&_0x57fe84[_0x2d84c5(0x799)]()['startsWith'](_0x3f182e[_0x2d84c5(0x799)]()))return _0x20ef30();if(!_0x15ad63)throw new Z('Missing\x20global\x20api\x20key',_0x2d84c5(0x5d4));}if(_0x3893f5[_0x2d84c5(0x7ca)][_0x2d84c5(0x54e)]('/instance/fetchInstances')&&!_0x15ad63)throw new Z(_0x2d84c5(0x4a0),_0x2d84c5(0x5d4));if(_0x3893f5[_0x2d84c5(0x7ca)][_0x2d84c5(0x54e)](_0x2d84c5(0x6da))&&!_0x15ad63)throw new Z(_0x2d84c5(0x4a0),_0x2d84c5(0x5d4));if(_0x3893f5[_0x2d84c5(0x7ca)][_0x2d84c5(0x54e)](_0x2d84c5(0x3d6))&&!_0x15ad63)throw new Z('Missing\x20global\x20api\x20key',_0x2d84c5(0x5d4));try{let _0xb69a8a=_0x3893f5[_0x2d84c5(0xc6)],_0x27ed93=await me[_0x2d84c5(0x25f)]['find'](_0xb69a8a[_0x2d84c5(0x246)]);if(_0x27ed93&&_0x27ed93[_0x2d84c5(0x56e)]===_0x15ad63)return _0x20ef30();}catch{}throw new oe();}var Ta={'jwt':No,'apikey':$o},di=require('express'),E=require(a0_0x22ca69(0x62c)),C=(..._0x1ade06)=>{const _0x2ed89d=a0_0x22ca69;let _0x341f05={};return _0x1ade06[_0x2ed89d(0x2e7)](_0x541cc7=>_0x341f05[_0x541cc7]={'minLength':0x1,'description':_0x2ed89d(0x759)+_0x541cc7+_0x2ed89d(0x92)}),{'if':{'propertyNames':{'enum':[..._0x1ade06]}},'then':{'properties':_0x341f05}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'instanceName':{'type':a0_0x22ca69(0x5ee)}},...C(a0_0x22ca69(0x246))},mc={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x22ca69(0x485)],...C(a0_0x22ca69(0x485))},fc={'properties':{'key':{'type':a0_0x22ca69(0x769),'properties':{'id':{'type':a0_0x22ca69(0x5ee)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x22ca69(0x61d),'fromMe'],...C('id',a0_0x22ca69(0x61d))},'message':{'type':a0_0x22ca69(0x769)}}},ee={'properties':{'delay':{'type':a0_0x22ca69(0x797),'description':a0_0x22ca69(0x58b)},'presence':{'type':a0_0x22ca69(0x5ee),'enum':[a0_0x22ca69(0x34b),a0_0x22ca69(0x44b),a0_0x22ca69(0x317),a0_0x22ca69(0x195),a0_0x22ca69(0x6c8)]}}},Q={'type':a0_0x22ca69(0x5ee),'description':a0_0x22ca69(0x663)},_a={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{...Q},'options':{...ee},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':[a0_0x22ca69(0x1b8)],...C(a0_0x22ca69(0x1b8))}},'required':['textMessage',a0_0x22ca69(0x395)]},xa={'type':'string','pattern':a0_0x22ca69(0x4c6),'description':'Invalid\x20format'},wc={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{...xa},'options':{...ee},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x22ca69(0x5ee)}},'required':[a0_0x22ca69(0x1b8)],...C(a0_0x22ca69(0x1b8))}},'required':[a0_0x22ca69(0x20f),'number']},yc={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{...xa},'options':{...ee},'mediaMessage':{'type':a0_0x22ca69(0x769),'properties':{'mediatype':{'type':'string','enum':[a0_0x22ca69(0x2a0),a0_0x22ca69(0x7ad),a0_0x22ca69(0x57e),a0_0x22ca69(0x653)]},'media':{'type':a0_0x22ca69(0x5ee)},'fileName':{'type':a0_0x22ca69(0x5ee)},'caption':{'type':'string'}},'required':[a0_0x22ca69(0x607),'media'],...C(a0_0x22ca69(0x4fb),a0_0x22ca69(0x3ba),a0_0x22ca69(0x66c))}},'required':[a0_0x22ca69(0x23c),a0_0x22ca69(0x395)]},Da={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{...Q},'options':{...ee},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x22ca69(0x5ee)}},'required':[a0_0x22ca69(0x2a0)],...C(a0_0x22ca69(0x2a0))}},'required':[a0_0x22ca69(0x557),a0_0x22ca69(0x395)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'statusMessage':{'type':a0_0x22ca69(0x769),'properties':{'type':{'type':'string','enum':[a0_0x22ca69(0x1b8),a0_0x22ca69(0x2a0),a0_0x22ca69(0x653),a0_0x22ca69(0x57e)]},'content':{'type':'string'},'caption':{'type':a0_0x22ca69(0x5ee)},'backgroundColor':{'type':a0_0x22ca69(0x5ee)},'font':{'type':a0_0x22ca69(0x797),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x22ca69(0x234),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22ca69(0x5ee),'pattern':a0_0x22ca69(0x36b),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x22ca69(0x399),'content'],...C(a0_0x22ca69(0x399),'content')}},'required':[a0_0x22ca69(0x505)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{...Q},'options':{...ee},'mediaMessage':{'type':a0_0x22ca69(0x769),'properties':{'mediatype':{'type':a0_0x22ca69(0x5ee),'enum':[a0_0x22ca69(0x2a0),a0_0x22ca69(0x7ad),'video','audio']},'media':{'type':a0_0x22ca69(0x5ee)},'fileName':{'type':a0_0x22ca69(0x5ee)},'caption':{'type':a0_0x22ca69(0x5ee)}},'required':['mediatype','media'],...C('fileName',a0_0x22ca69(0x3ba),a0_0x22ca69(0x66c))}},'required':['mediaMessage',a0_0x22ca69(0x395)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{...Q},'options':{...ee},'audioMessage':{'type':a0_0x22ca69(0x769),'properties':{'audio':{'type':'string'}},'required':['audio'],...C('audio')}},'required':[a0_0x22ca69(0x238),a0_0x22ca69(0x395)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{...Q},'pollMessage':{'type':a0_0x22ca69(0x769),'properties':{'name':{'type':a0_0x22ca69(0x5ee)},'selectableCount':{'type':a0_0x22ca69(0x395)},'values':{'type':a0_0x22ca69(0x234),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x22ca69(0x7cc),a0_0x22ca69(0x4cf),a0_0x22ca69(0x5dc)],...C(a0_0x22ca69(0x7cc),a0_0x22ca69(0x4cf),'values')}},'required':[a0_0x22ca69(0x395),a0_0x22ca69(0x3b5)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{...Q},'menuMessage':{'type':a0_0x22ca69(0x769),'properties':{'text':{'type':a0_0x22ca69(0x5ee)},'choices':{'type':a0_0x22ca69(0x234),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x22ca69(0x1b8),a0_0x22ca69(0x658)],...C('text',a0_0x22ca69(0x658))}},'required':[a0_0x22ca69(0x395),a0_0x22ca69(0x344)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{...Q},'options':{...ee},'buttonMessage':{'type':a0_0x22ca69(0x769),'properties':{'title':{'type':'string'},'description':{'type':a0_0x22ca69(0x5ee)},'footerText':{'type':a0_0x22ca69(0x5ee)},'buttons':{'type':a0_0x22ca69(0x234),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x22ca69(0x5ee)}},'required':[a0_0x22ca69(0x252),a0_0x22ca69(0x598)],...C(a0_0x22ca69(0x252),'buttonId')}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x22ca69(0x5ee)},'fileName':{'type':a0_0x22ca69(0x5ee)},'mediatype':{'type':'string','enum':[a0_0x22ca69(0x2a0),a0_0x22ca69(0x7ad),a0_0x22ca69(0x57e)]}},'required':[a0_0x22ca69(0x66c),a0_0x22ca69(0x607)],...C(a0_0x22ca69(0x66c),a0_0x22ca69(0x4fb))}},'required':[a0_0x22ca69(0x2f0),a0_0x22ca69(0x463)],...C(a0_0x22ca69(0x2f0),a0_0x22ca69(0x681))}},'required':[a0_0x22ca69(0x395),'buttonMessage']},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{...Q},'options':{...ee},'locationMessage':{'type':'object','properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x22ca69(0x395)},'name':{'type':a0_0x22ca69(0x5ee)},'address':{'type':a0_0x22ca69(0x5ee)}},'required':['latitude','longitude'],...C(a0_0x22ca69(0x7cc),a0_0x22ca69(0x27e))}},'required':[a0_0x22ca69(0x395),a0_0x22ca69(0x348)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{...Q},'options':{...ee},'listMessage':{'type':a0_0x22ca69(0x769),'properties':{'title':{'type':a0_0x22ca69(0x5ee)},'description':{'type':a0_0x22ca69(0x5ee)},'footerText':{'type':a0_0x22ca69(0x5ee)},'buttonText':{'type':a0_0x22ca69(0x5ee)},'sections':{'type':a0_0x22ca69(0x234),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22ca69(0x769),'properties':{'title':{'type':a0_0x22ca69(0x5ee)},'rows':{'type':a0_0x22ca69(0x234),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x22ca69(0x5ee)},'description':{'type':a0_0x22ca69(0x5ee)},'rowId':{'type':'string'}},'required':[a0_0x22ca69(0x2f0),a0_0x22ca69(0x311)],...C(a0_0x22ca69(0x2f0),a0_0x22ca69(0x311))}}},'required':[a0_0x22ca69(0x2f0),a0_0x22ca69(0x184)],...C(a0_0x22ca69(0x2f0))}}},'required':[a0_0x22ca69(0x2f0),'description',a0_0x22ca69(0x252),a0_0x22ca69(0x792)],...C(a0_0x22ca69(0x2f0),a0_0x22ca69(0x681),a0_0x22ca69(0x252),a0_0x22ca69(0x3f5))}},'required':[a0_0x22ca69(0x395),'listMessage']},Va={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{...Q},'options':{...ee},'contactMessage':{'type':'array','items':{'type':a0_0x22ca69(0x769),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x22ca69(0x5ee),'minLength':0xa}},'required':['fullName','phoneNumber'],...C(a0_0x22ca69(0x414))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x22ca69(0x395),a0_0x22ca69(0x181)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'reactionMessage':{'type':a0_0x22ca69(0x769),'properties':{'key':{'type':a0_0x22ca69(0x769),'properties':{'id':{'type':a0_0x22ca69(0x5ee)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x22ca69(0x61d),a0_0x22ca69(0x325)],...C('id',a0_0x22ca69(0x61d))},'reaction':{'type':a0_0x22ca69(0x5ee)}},'required':['key','reaction'],...C(a0_0x22ca69(0x4d7))}},'required':[a0_0x22ca69(0x270)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'numbers':{'type':a0_0x22ca69(0x234),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22ca69(0x5ee),'pattern':'^\x5cd+','description':a0_0x22ca69(0x703)}}}},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x22ca69(0x5ee)},'fromMe':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x22ca69(0x5ee)}},'required':['id','fromMe',a0_0x22ca69(0x61d)],...C('id',a0_0x22ca69(0x61d))}}},'required':[a0_0x22ca69(0x384)]},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x22ca69(0x769),'properties':{'readreceipts':{'type':a0_0x22ca69(0x5ee),'enum':[a0_0x22ca69(0x67b),a0_0x22ca69(0x6f0)]},'profile':{'type':a0_0x22ca69(0x5ee),'enum':['all',a0_0x22ca69(0x534),'contact_blacklist',a0_0x22ca69(0x6f0)]},'status':{'type':a0_0x22ca69(0x5ee),'enum':[a0_0x22ca69(0x67b),a0_0x22ca69(0x534),a0_0x22ca69(0x56b),'none']},'online':{'type':a0_0x22ca69(0x5ee),'enum':[a0_0x22ca69(0x67b),a0_0x22ca69(0x709)]},'last':{'type':a0_0x22ca69(0x5ee),'enum':[a0_0x22ca69(0x67b),a0_0x22ca69(0x534),a0_0x22ca69(0x56b),a0_0x22ca69(0x6f0)]},'groupadd':{'type':a0_0x22ca69(0x5ee),'enum':[a0_0x22ca69(0x67b),a0_0x22ca69(0x534),a0_0x22ca69(0x56b),a0_0x22ca69(0x6f0)]}},'required':[a0_0x22ca69(0x2a4),a0_0x22ca69(0x14d),'status',a0_0x22ca69(0x128),a0_0x22ca69(0x213),a0_0x22ca69(0x582)],...C('readreceipts',a0_0x22ca69(0x14d),a0_0x22ca69(0x172),'online','last',a0_0x22ca69(0x582))}},'required':[a0_0x22ca69(0x3cd)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'lastMessage':{'type':a0_0x22ca69(0x769),'properties':{'key':{'type':a0_0x22ca69(0x769),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x22ca69(0x5ee)},'fromMe':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]}},'required':['id','fromMe','remoteJid'],...C('id',a0_0x22ca69(0x61d))},'messageTimestamp':{'type':a0_0x22ca69(0x797),'minLength':0x1}},'required':['key'],...C(a0_0x22ca69(0xee))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x22ca69(0x3b9),'archive']},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'id':{'type':a0_0x22ca69(0x5ee)},'fromMe':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x22ca69(0x5ee)},'participant':{'type':'string'}},'required':['id',a0_0x22ca69(0x325),a0_0x22ca69(0x61d)],...C('id','remoteJid',a0_0x22ca69(0x38f))},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x22ca69(0x5ee),'minLength':0x1},'pushName':{'type':a0_0x22ca69(0x5ee),'minLength':0x1},'id':{'type':a0_0x22ca69(0x5ee),'minLength':0x1}},...C(a0_0x22ca69(0x646),'id','pushName')}}},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'name':{'type':a0_0x22ca69(0x5ee)}},...C(a0_0x22ca69(0x7cc))},Xa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'status':{'type':a0_0x22ca69(0x5ee)}},...C(a0_0x22ca69(0x172))},Oe={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{'type':a0_0x22ca69(0x5ee)},'picture':{'type':'string'}}},Za={'type':a0_0x22ca69(0x769),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x22ca69(0x5ee)},'picture':{'type':a0_0x22ca69(0x5ee)},'status':{'type':'string'},'isBusiness':{'type':'boolean'}}},ei={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'where':{'type':a0_0x22ca69(0x769),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x22ca69(0x325),a0_0x22ca69(0x61d),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x22ca69(0x271)},'id':{'type':a0_0x22ca69(0x5ee),'minLength':0x1,'description':a0_0x22ca69(0x271)},'fromMe':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...C(a0_0x22ca69(0x646))},'limit':{'type':'integer'}}},bc={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'where':{'type':a0_0x22ca69(0x769),'properties':{'_id':{'type':a0_0x22ca69(0x5ee)},'remoteJid':{'type':a0_0x22ca69(0x5ee)},'id':{'type':'string'},'fromMe':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x22ca69(0x5ee)},'status':{'type':a0_0x22ca69(0x5ee),'enum':[a0_0x22ca69(0xc4),a0_0x22ca69(0x11c),a0_0x22ca69(0x5a8),a0_0x22ca69(0x4fd),a0_0x22ca69(0x401),a0_0x22ca69(0x748)]}},...C(a0_0x22ca69(0x646),a0_0x22ca69(0x61d),'id','status')},'limit':{'type':a0_0x22ca69(0x797)}}},ti={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'number':{...Q},'presence':{'type':a0_0x22ca69(0x5ee),'enum':['unavailable','available',a0_0x22ca69(0x317),'recording',a0_0x22ca69(0x6c8)]}},'required':[a0_0x22ca69(0x12c),a0_0x22ca69(0x395)]},si={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'subject':{'type':a0_0x22ca69(0x5ee)},'description':{'type':a0_0x22ca69(0x5ee)},'profilePicture':{'type':a0_0x22ca69(0x5ee)},'participants':{'type':a0_0x22ca69(0x234),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22ca69(0x5ee),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x22ca69(0x4a9)}}},'required':['subject',a0_0x22ca69(0x72f)],...C('subject',a0_0x22ca69(0x681),a0_0x22ca69(0x370))},_e={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'groupJid':{'type':'string','pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x22ca69(0x721)],...C(a0_0x22ca69(0x721))},ai={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'groupJid':{'type':a0_0x22ca69(0x5ee)},'action':{'type':a0_0x22ca69(0x5ee),'enum':[a0_0x22ca69(0x6fa),'remove',a0_0x22ca69(0x486),'demote',a0_0x22ca69(0x20d),a0_0x22ca69(0x3e6)]},'participants':{'type':a0_0x22ca69(0x234),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22ca69(0x5ee),'minLength':0xa,'pattern':a0_0x22ca69(0x55c),'description':a0_0x22ca69(0x4a9)}}},'required':[a0_0x22ca69(0x721),a0_0x22ca69(0x4d2),'participants'],...C(a0_0x22ca69(0x721),a0_0x22ca69(0x4d2))},ii={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'groupJid':{'type':a0_0x22ca69(0x5ee)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x22ca69(0x721),a0_0x22ca69(0x510)],...C('groupJid',a0_0x22ca69(0x510))},oi={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'groupJid':{'type':a0_0x22ca69(0x5ee)},'image':{'type':a0_0x22ca69(0x5ee)}},'required':[a0_0x22ca69(0x721),a0_0x22ca69(0x2a0)],...C(a0_0x22ca69(0x721),a0_0x22ca69(0x2a0))},ri={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'groupJid':{'type':a0_0x22ca69(0x5ee)},'description':{'type':a0_0x22ca69(0x5ee)}},'required':[a0_0x22ca69(0x721),a0_0x22ca69(0x681)],...C(a0_0x22ca69(0x721),a0_0x22ca69(0x681))},ni={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'groupJid':{'type':a0_0x22ca69(0x5ee)},'name':{'type':a0_0x22ca69(0x5ee)}},'required':[a0_0x22ca69(0x721),a0_0x22ca69(0x7cc)],...C(a0_0x22ca69(0x721),a0_0x22ca69(0x7cc))},ci={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'groupJid':{'type':a0_0x22ca69(0x5ee)},'setting':{'type':a0_0x22ca69(0x5ee),'enum':[a0_0x22ca69(0x98),'not_announcement',a0_0x22ca69(0x299),a0_0x22ca69(0x277)]}},'required':['groupJid','setting'],...C(a0_0x22ca69(0x721),a0_0x22ca69(0x512))},li={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'restrict':{'type':a0_0x22ca69(0x6a6)},'announce':{'type':a0_0x22ca69(0x6a6)},'memberAddMode':{'type':a0_0x22ca69(0x6a6)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x22ca69(0x797),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x22ca69(0x5ee)},'description':{'type':'string'},'image':{'type':'string'}}},Es={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'inviteCode':{'type':a0_0x22ca69(0x5ee)}},'required':[a0_0x22ca69(0x2ad)],...C(a0_0x22ca69(0x2ad))},ui={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]}},'required':[a0_0x22ca69(0x640),a0_0x22ca69(0x7db)]},Sc={'$id':(0x0,E['v4'])(),'type':a0_0x22ca69(0x769),'properties':{'local_map':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x22ca69(0x6a6),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x22ca69(0x782),a0_0x22ca69(0x5d8),a0_0x22ca69(0x730),'MESSAGES_UPDATE',a0_0x22ca69(0x422),a0_0x22ca69(0x119),a0_0x22ca69(0x25d),a0_0x22ca69(0x6be),a0_0x22ca69(0x5ff),'PRESENCE_UPDATE',a0_0x22ca69(0x237),'CHATS_UPSERT',a0_0x22ca69(0x43a),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x22ca69(0x324),a0_0x22ca69(0x652),'GROUP_PARTICIPANTS_UPDATE'],...C(a0_0x22ca69(0x4e8),a0_0x22ca69(0x782),a0_0x22ca69(0x5d8),a0_0x22ca69(0x730),a0_0x22ca69(0x46b),a0_0x22ca69(0x422),a0_0x22ca69(0x119),a0_0x22ca69(0x25d),a0_0x22ca69(0x6be),a0_0x22ca69(0x5ff),'PRESENCE_UPDATE',a0_0x22ca69(0x237),a0_0x22ca69(0x6dd),a0_0x22ca69(0x43a),a0_0x22ca69(0x4c7),a0_0x22ca69(0x1d8),a0_0x22ca69(0x324),a0_0x22ca69(0x652),a0_0x22ca69(0x240))},it=class{},ot=class extends _{[a0_0x22ca69(0x95)](_0x5d69d2){return ta(_0x5d69d2);}async[a0_0x22ca69(0x455)](_0x16bf66){const _0x3a508d=a0_0x22ca69;if(_0x16bf66[_0x3a508d(0x6a0)]!==0x0)try{return{'insertCount':(await this[_0x3a508d(0x95)](_0x16bf66[0x0]['owner'])[_0x3a508d(0x135)]([..._0x16bf66]))['length']};}catch(_0x29692f){return _0x29692f;}}async[a0_0x22ca69(0x552)](_0x423ba6,_0x5dd908){const _0x4fb18f=a0_0x22ca69;try{return{'deletedCount':(await this[_0x4fb18f(0x95)](_0x5dd908)[_0x4fb18f(0x286)]({..._0x423ba6[_0x4fb18f(0x15f)]}))[_0x4fb18f(0x340)]};}catch(_0x50604e){return{'error':_0x50604e?.[_0x4fb18f(0x12e)]()};}}async[a0_0x22ca69(0xd6)](_0x16e89e,_0x22c572){const _0x32ec5f=a0_0x22ca69;try{if(_0x16e89e[_0x32ec5f(0x6a0)]===0x0)return;let _0x4d9db4=this[_0x32ec5f(0x95)](_0x22c572),_0x5d2926=_0x16e89e[_0x32ec5f(0x322)](_0x1e0d47=>({'updateOne':{'filter':{'_id':_0x1e0d47[_0x32ec5f(0x646)],'owner':_0x22c572},'update':{..._0x1e0d47}}})),{modifiedCount:_0xb1d22f}=await _0x4d9db4[_0x32ec5f(0x256)](_0x5d2926);return{'insertCount':_0xb1d22f};}catch{return;}}async[a0_0x22ca69(0x22d)](_0xd5e6eb,_0x2bfbc9){const _0x371a47=a0_0x22ca69;try{let _0xa4e09c=this['getContactModelForOwner'](_0x2bfbc9),_0x544752=A(_0xd5e6eb[_0x371a47(0x15f)]);return await _0xa4e09c['find'](_0x544752)[_0x371a47(0x4ef)](_0xd5e6eb?.[_0x371a47(0x4ef)]??0x0)[_0x371a47(0x3c6)]();}catch{return[];}}async[a0_0x22ca69(0x743)](_0x1de7b8,_0x3899c0){const _0x3a14d3=a0_0x22ca69;try{let _0x44c2a8=this[_0x3a14d3(0x95)](_0x3899c0),_0x41df4f=A(_0x1de7b8[_0x3a14d3(0x15f)]);return await _0x44c2a8[_0x3a14d3(0x743)](_0x41df4f)[_0x3a14d3(0x3c6)]();}catch{return null;}}async['deleteAll'](_0xb01293){const _0x3a4c16=a0_0x22ca69;try{return await this[_0x3a4c16(0x95)](_0xb01293)[_0x3a4c16(0x4e5)][_0x3a4c16(0x5e9)](),{'success':!0x0};}catch(_0x458ffc){return console[_0x3a4c16(0x3d5)](_0x458ffc),{'success':!0x1,'error':_0x458ffc};}}},rt=require(a0_0x22ca69(0x49a)),Ic=require(a0_0x22ca69(0x41c)),vs=new $(a0_0x22ca69(0x3e3)),V=class{[a0_0x22ca69(0x6ec)](_0x3fd86e,_0x84b1b5=!0x0){const _0x49dd78=a0_0x22ca69;let _0x11f25e='/'+_0x3fd86e;return _0x84b1b5&&(_0x11f25e+=_0x49dd78(0x617)),_0x11f25e;}async[a0_0x22ca69(0x49b)](_0x5b6276){const _0x350624=a0_0x22ca69;let {request:_0x5d176b,schema:_0x23389e,ClassRef:_0x595330,execute:_0x55f86a}=_0x5b6276,_0x12719e=new _0x595330(),_0x29ce74=_0x5d176b[_0x350624(0x53b)],_0x5b9eb7=_0x5d176b[_0x350624(0xc6)];_0x5d176b?.[_0x350624(0x7c6)]&&Object['keys'](_0x5d176b[_0x350624(0x7c6)])[_0x350624(0x6a0)]>0x0&&Object['assign'](_0x5b9eb7,_0x5d176b[_0x350624(0x7c6)]),_0x5d176b[_0x350624(0x7ca)][_0x350624(0x54e)](_0x350624(0x1cd))&&Object['assign'](_0x5b9eb7,_0x29ce74),Object[_0x350624(0x6c0)](_0x12719e,_0x29ce74);let _0x5d8b4d=_0x23389e?(0x0,rt[_0x350624(0x63e)])(_0x12719e,_0x23389e):{'valid':!0x0,'errors':[]};if(!_0x5d8b4d['valid']){let _0x2367ff=_0x5d8b4d[_0x350624(0x24d)][_0x350624(0x322)](({property:_0x1ffb8a,stack:_0x47a2fe,schema:_0x4e47ad})=>{const _0x69d891=_0x350624;let _0x4102fb;return _0x4e47ad[_0x69d891(0x681)]?_0x4102fb=_0x4e47ad[_0x69d891(0x681)]:_0x4102fb=_0x47a2fe['replace'](_0x69d891(0x61f),''),{'property':_0x1ffb8a[_0x69d891(0x1f1)](_0x69d891(0x61f),''),'message':_0x4102fb};});throw vs[_0x350624(0x3d5)]([..._0x2367ff]),new m(..._0x2367ff);}return await _0x55f86a(_0x5b9eb7,_0x12719e);}async[a0_0x22ca69(0x48d)](_0x141f41){const _0x2a87db=a0_0x22ca69;let {request:_0x429892,ClassRef:_0x4a250d,schema:_0x177703,execute:_0x3ef29a}=_0x141f41,_0x902866=_0x429892[_0x2a87db(0x7c6)];if(!_0x902866?.[_0x2a87db(0x721)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','ex:\x20\x22groupJid=120362@g.us\x22');let _0x45a3c8=_0x429892[_0x2a87db(0xc6)],_0x4a22ec=_0x429892['body'],_0x5e1aee=new _0x4a250d();Object[_0x2a87db(0x6c0)](_0x4a22ec,_0x902866),Object[_0x2a87db(0x6c0)](_0x5e1aee,_0x4a22ec);let _0x5a43c5=(0x0,rt[_0x2a87db(0x63e)])(_0x5e1aee,_0x177703);if(!_0x5a43c5[_0x2a87db(0x1d3)]){let _0x3df52c=_0x5a43c5[_0x2a87db(0x24d)][_0x2a87db(0x322)](({property:_0x3df675,stack:_0xac8734,schema:_0x8815ba})=>{const _0x4ee314=_0x2a87db;let _0x3878a1;return _0x8815ba[_0x4ee314(0x681)]?_0x3878a1=_0x8815ba[_0x4ee314(0x681)]:_0x3878a1=_0xac8734[_0x4ee314(0x1f1)](_0x4ee314(0x61f),''),{'property':_0x3df675['replace']('instance.',''),'message':_0x3878a1};});throw vs['error']([..._0x3df52c]),new m(..._0x3df52c);}return await _0x3ef29a(_0x45a3c8,_0x5e1aee);}async[a0_0x22ca69(0x447)](_0xad4772){const _0x421591=a0_0x22ca69;let {request:_0x184bc2,ClassRef:_0x5f28e1,schema:_0x37c2a9,execute:_0x253b32}=_0xad4772,_0x761373=_0x184bc2[_0x421591(0x53b)];if(!_0x761373?.[_0x421591(0x2ad)])throw new m(_0x421591(0x114),_0x421591(0x71f));let _0x292a04=_0x184bc2[_0x421591(0xc6)],_0x1483de=_0x184bc2[_0x421591(0x53b)],_0x5bd258=new _0x5f28e1();Object[_0x421591(0x6c0)](_0x1483de,_0x761373),Object[_0x421591(0x6c0)](_0x5bd258,_0x1483de);let _0x55379b=(0x0,rt[_0x421591(0x63e)])(_0x5bd258,_0x37c2a9);if(!_0x55379b[_0x421591(0x1d3)]){let _0x29f081=_0x55379b[_0x421591(0x24d)][_0x421591(0x322)](({property:_0x387577,stack:_0x5589fe,schema:_0x173f89})=>{const _0x3a45c4=_0x421591;let _0xfb5ade;return _0x173f89[_0x3a45c4(0x681)]?_0xfb5ade=_0x173f89[_0x3a45c4(0x681)]:_0xfb5ade=_0x5589fe[_0x3a45c4(0x1f1)](_0x3a45c4(0x61f),''),{'property':_0x387577['replace'](_0x3a45c4(0x61f),''),'message':_0xfb5ade};});throw vs[_0x421591(0x3d5)]([..._0x29f081]),new m(..._0x29f081);}return await _0x253b32(_0x292a04,_0x5bd258);}},M=class{},Gc=new $('ChatRouter'),nt=class extends V{constructor(..._0x1fd423){const _0x4829f9=a0_0x22ca69;super(),this[_0x4829f9(0x2ee)]=(0x0,di[_0x4829f9(0x7c8)])(),this['router']['post'](this['routerPath'](_0x4829f9(0x42b)),..._0x1fd423,async(_0x4cf599,_0x43b449)=>{const _0x537f92=_0x4829f9;let _0x4b90c3=await this[_0x537f92(0x49b)]({'request':_0x4cf599,'schema':ti,'ClassRef':Ke,'execute':(_0x20ebe9,_0x2ea0b8)=>P[_0x537f92(0x42b)](_0x20ebe9,_0x2ea0b8)});return _0x43b449[_0x537f92(0x172)](0xc9)['json'](_0x4b90c3);})['post'](this[_0x4829f9(0x6ec)](_0x4829f9(0x1f3)),..._0x1fd423,async(_0x9b81bb,_0x111f8d)=>{const _0x159f98=_0x4829f9;let _0x51929c=await this[_0x159f98(0x49b)]({'request':_0x9b81bb,'schema':Ba,'ClassRef':Qe,'execute':(_0x6221f0,_0x5352ac)=>P[_0x159f98(0x6ab)](_0x6221f0,_0x5352ac)});return _0x111f8d[_0x159f98(0x172)](0xc9)[_0x159f98(0x5f7)](_0x51929c);})[_0x4829f9(0x71a)](this[_0x4829f9(0x6ec)](_0x4829f9(0x28f)),..._0x1fd423,async(_0x27d39a,_0x34ed26)=>{const _0x1bb976=_0x4829f9;let _0x18a649=await this[_0x1bb976(0x49b)]({'request':_0x27d39a,'schema':v,'ClassRef':M,'execute':(_0x8229bf,_0x390966)=>P[_0x1bb976(0x28f)](_0x8229bf,_0x390966)});return _0x34ed26[_0x1bb976(0x172)](0xc9)[_0x1bb976(0x5f7)](_0x18a649);})['put'](this[_0x4829f9(0x6ec)]('markMessageAsRead'),..._0x1fd423,async(_0x44d70e,_0x50ee15)=>{const _0x5746a5=_0x4829f9;let _0x282bf6=await this['dataValidate']({'request':_0x44d70e,'schema':Wa,'ClassRef':Ze,'execute':(_0x4d4123,_0x50a1fd)=>P[_0x5746a5(0x14a)](_0x4d4123,_0x50a1fd)});return _0x50ee15[_0x5746a5(0x172)](0xc9)[_0x5746a5(0x5f7)](_0x282bf6);})[_0x4829f9(0xd7)](this[_0x4829f9(0x6ec)](_0x4829f9(0x4de)),..._0x1fd423,async(_0x1037f3,_0x36aa69)=>{const _0x48a392=_0x4829f9;let _0x5eb961=await this[_0x48a392(0x49b)]({'request':_0x1037f3,'schema':Ha,'ClassRef':et,'execute':(_0x186b42,_0x3cff45)=>P['archiveChat'](_0x186b42,_0x3cff45)});return _0x36aa69[_0x48a392(0x172)](0xc9)['json'](_0x5eb961);})[_0x4829f9(0x552)](this[_0x4829f9(0x6ec)](_0x4829f9(0x677)),..._0x1fd423,async(_0x5505df,_0x242843)=>{const _0x1ea8b0=_0x4829f9;let _0x1d1e73=await this[_0x1ea8b0(0x49b)]({'request':_0x5505df,'schema':Ka,'ClassRef':st,'execute':(_0xa6208c,_0x206b54)=>P[_0x1ea8b0(0x601)](_0xa6208c,_0x206b54)});return _0x242843[_0x1ea8b0(0x172)](0xc9)[_0x1ea8b0(0x5f7)](_0x1d1e73);})[_0x4829f9(0x71a)](this[_0x4829f9(0x6ec)](_0x4829f9(0x5e3)),..._0x1fd423,async(_0x58dccf,_0x1fcabf)=>{const _0x2f9906=_0x4829f9;let _0x55fb0c=await this[_0x2f9906(0x49b)]({'request':_0x58dccf,'schema':Oe,'ClassRef':Ie,'execute':(_0x5717d8,_0x10bd6b)=>P[_0x2f9906(0xfc)](_0x5717d8,_0x10bd6b)});return _0x1fcabf[_0x2f9906(0x172)](0xc8)[_0x2f9906(0x5f7)](_0x55fb0c);})['post'](this['routerPath'](_0x4829f9(0x5e4)),..._0x1fd423,async(_0x511437,_0x5576d5)=>{const _0x4aea1d=_0x4829f9;let _0x650644=await this[_0x4aea1d(0x49b)]({'request':_0x511437,'schema':Za,'ClassRef':Ie,'execute':(_0x18d14b,_0x3aa84d)=>P[_0x4aea1d(0x5e4)](_0x18d14b,_0x3aa84d)});return _0x5576d5['status'](0xc8)[_0x4aea1d(0x5f7)](_0x650644);})[_0x4829f9(0x71a)](this[_0x4829f9(0x6ec)](_0x4829f9(0x6c5)),..._0x1fd423,async(_0x3188a4,_0xc9c851)=>{const _0x183ea2=_0x4829f9;let _0x327983=await this[_0x183ea2(0x49b)]({'request':_0x3188a4,'schema':Qa,'ClassRef':it,'execute':(_0x360471,_0x2ff8a4)=>P[_0x183ea2(0x1e1)](_0x360471,_0x2ff8a4)});return _0xc9c851[_0x183ea2(0x172)](0xc8)[_0x183ea2(0x5f7)](_0x327983);})[_0x4829f9(0x71a)](this['routerPath'](_0x4829f9(0x118)),..._0x1fd423,async(_0x1e1c55,_0xa4313b)=>{const _0x548eee=_0x4829f9;let _0x39520f=await this[_0x548eee(0x49b)]({'request':_0x1e1c55,'schema':null,'ClassRef':Object,'execute':(_0x1701ee,_0x27c340)=>P[_0x548eee(0x118)](_0x1701ee,_0x27c340)});return _0xa4313b[_0x548eee(0x172)](0xc9)[_0x548eee(0x5f7)](_0x39520f);})['post'](this[_0x4829f9(0x6ec)]('findMessages'),..._0x1fd423,async(_0x52d61e,_0x2b525f)=>{const _0x826ee8=_0x4829f9;let _0x441fdf=await this['dataValidate']({'request':_0x52d61e,'schema':ei,'ClassRef':ze,'execute':(_0x59abfd,_0x56ad00)=>P['fetchMessages'](_0x59abfd,_0x56ad00)});return _0x2b525f[_0x826ee8(0x172)](0xc8)['json'](_0x441fdf);})['get'](this[_0x4829f9(0x6ec)]('findChats'),..._0x1fd423,async(_0x119038,_0xa2cb70)=>{const _0xd6d31e=_0x4829f9;let _0x415a70=await this[_0xd6d31e(0x49b)]({'request':_0x119038,'schema':null,'ClassRef':M,'execute':_0x516ca5=>P[_0xd6d31e(0x1df)](_0x516ca5)});return _0xa2cb70[_0xd6d31e(0x172)](0xc8)[_0xd6d31e(0x5f7)](_0x415a70);})[_0x4829f9(0x268)](this[_0x4829f9(0x6ec)](_0x4829f9(0x2ac)),..._0x1fd423,async(_0x30f938,_0x39e36f)=>{const _0x14a091=_0x4829f9;let _0x56aaf1=await this['dataValidate']({'request':_0x30f938,'schema':null,'ClassRef':M,'execute':_0x2cc844=>P['fetchLabels'](_0x2cc844)});return _0x39e36f[_0x14a091(0x172)](0xc8)[_0x14a091(0x5f7)](_0x56aaf1);})[_0x4829f9(0xd7)](this[_0x4829f9(0x6ec)](_0x4829f9(0x371)),..._0x1fd423,async(_0xf9eaeb,_0x7974a0)=>{const _0x1c8875=_0x4829f9;let _0x58ca2d=await this[_0x1c8875(0x49b)]({'request':_0xf9eaeb,'schema':null,'ClassRef':Array,'execute':(_0x33e426,_0x328ef5)=>P[_0x1c8875(0x371)](_0x33e426,_0x328ef5)});return _0x7974a0[_0x1c8875(0x172)](0xc8)[_0x1c8875(0x5f7)](_0x58ca2d);})['get'](this['routerPath'](_0x4829f9(0x10e)),..._0x1fd423,async(_0x89b0d2,_0x18968f)=>{const _0x1c2cb5=_0x4829f9;let _0x4b0764=await this[_0x1c2cb5(0x49b)]({'request':_0x89b0d2,'schema':null,'ClassRef':M,'execute':_0x1a8a38=>P[_0x1c2cb5(0x10e)](_0x1a8a38)});return _0x18968f['status'](0xc8)['json'](_0x4b0764);})[_0x4829f9(0xd7)](this[_0x4829f9(0x6ec)](_0x4829f9(0x6fd)),..._0x1fd423,async(_0x26227a,_0x1f3e72)=>{const _0x578d99=_0x4829f9;let _0x31525a=await this['dataValidate']({'request':_0x26227a,'schema':za,'ClassRef':tt,'execute':(_0x10ecc2,_0x3c0989)=>P[_0x578d99(0x6fd)](_0x10ecc2,_0x3c0989)});return _0x1f3e72[_0x578d99(0x172)](0xc9)[_0x578d99(0x5f7)](_0x31525a);})['post'](this[_0x4829f9(0x6ec)]('fetchBusinessProfile'),..._0x1fd423,async(_0x117eb4,_0x25f9a2)=>{const _0x40837b=_0x4829f9;let _0x3c7e0b=await this[_0x40837b(0x49b)]({'request':_0x117eb4,'schema':Oe,'ClassRef':Ce,'execute':(_0x165615,_0x621e95)=>P[_0x40837b(0x50a)](_0x165615,_0x621e95)});return _0x25f9a2[_0x40837b(0x172)](0xc8)[_0x40837b(0x5f7)](_0x3c7e0b);})[_0x4829f9(0x71a)](this[_0x4829f9(0x6ec)](_0x4829f9(0x68b)),..._0x1fd423,async(_0x37c110,_0x5997eb)=>{const _0x95f1e5=_0x4829f9;let _0x3bfa18=await this[_0x95f1e5(0x49b)]({'request':_0x37c110,'schema':Ya,'ClassRef':Ye,'execute':(_0x3c5495,_0x18ef95)=>P[_0x95f1e5(0x68b)](_0x3c5495,_0x18ef95)});return _0x5997eb['status'](0xc8)[_0x95f1e5(0x5f7)](_0x3bfa18);})[_0x4829f9(0x71a)](this[_0x4829f9(0x6ec)](_0x4829f9(0x421)),..._0x1fd423,async(_0x2b2217,_0xf7fcc0)=>{const _0x3d1321=_0x4829f9;let _0x55db01=await this[_0x3d1321(0x49b)]({'request':_0x2b2217,'schema':Xa,'ClassRef':Xe,'execute':(_0x483aed,_0x3ffe74)=>P[_0x3d1321(0x421)](_0x483aed,_0x3ffe74)});return _0xf7fcc0[_0x3d1321(0x172)](0xc8)[_0x3d1321(0x5f7)](_0x55db01);})[_0x4829f9(0xd7)](this[_0x4829f9(0x6ec)]('updateProfilePicture'),..._0x1fd423,async(_0x15d765,_0x1d515c)=>{const _0x43ae9a=_0x4829f9;let _0x50d5fb=await this[_0x43ae9a(0x49b)]({'request':_0x15d765,'schema':Oe,'ClassRef':Ce,'execute':(_0x345352,_0x3739a6)=>P[_0x43ae9a(0x210)](_0x345352,_0x3739a6)});return _0x1d515c[_0x43ae9a(0x172)](0xc8)[_0x43ae9a(0x5f7)](_0x50d5fb);})[_0x4829f9(0x552)](this[_0x4829f9(0x6ec)](_0x4829f9(0x292)),..._0x1fd423,async(_0x89debc,_0x5b2d2d)=>{const _0x83ca6=_0x4829f9;let _0x496c6a=await this['dataValidate']({'request':_0x89debc,'schema':Oe,'ClassRef':Ce,'execute':(_0x43b768,_0x4cacac)=>P[_0x83ca6(0x292)](_0x43b768,_0x4cacac)});return _0x5b2d2d['status'](0xc8)[_0x83ca6(0x5f7)](_0x496c6a);});}},pi=require(a0_0x22ca69(0x3b0)),ct=class{},lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},te=class{},xe=class{},gt=class extends te{},mt=class extends te{},ft=class extends V{constructor(..._0x5b4aa3){const _0x54fa85=a0_0x22ca69;super(),this['router']=(0x0,pi[_0x54fa85(0x7c8)])(),this[_0x54fa85(0x2ee)]['post'](this['routerPath'](_0x54fa85(0x530)),..._0x5b4aa3,async(_0x81ed80,_0x4fa8e7)=>{const _0x264719=_0x54fa85;let _0x5e06ff=await this[_0x264719(0x49b)]({'request':_0x81ed80,'schema':si,'ClassRef':ct,'execute':(_0x36fe3c,_0xb935f6)=>q['createGroup'](_0x36fe3c,_0xb935f6)});_0x4fa8e7[_0x264719(0x172)](0xc9)[_0x264719(0x5f7)](_0x5e06ff);})[_0x54fa85(0xd7)](this[_0x54fa85(0x6ec)]('updateGroupPicture'),..._0x5b4aa3,async(_0x2a4b02,_0x227c28)=>{const _0xda2258=_0x54fa85;let _0x360a9b=await this[_0xda2258(0x48d)]({'request':_0x2a4b02,'schema':oi,'ClassRef':lt,'execute':(_0x12574f,_0x7bdac1)=>q[_0xda2258(0x6cd)](_0x12574f,_0x7bdac1)});_0x227c28[_0xda2258(0x172)](0xc9)['json'](_0x360a9b);})[_0x54fa85(0xd7)](this[_0x54fa85(0x6ec)](_0x54fa85(0x321)),..._0x5b4aa3,async(_0x38ba77,_0x3b7379)=>{const _0x4c0220=_0x54fa85;let _0x4cefe1=await this[_0x4c0220(0x48d)]({'request':_0x38ba77,'schema':ri,'ClassRef':ut,'execute':(_0x1c28bf,_0x21c9bb)=>q[_0x4c0220(0x321)](_0x1c28bf,_0x21c9bb)});_0x3b7379['status'](0xc9)['json'](_0x4cefe1);})[_0x54fa85(0xd7)](this[_0x54fa85(0x6ec)](_0x54fa85(0x7c0)),..._0x5b4aa3,async(_0x42d638,_0x1ea23f)=>{const _0x123b58=_0x54fa85;let _0x21501c=await this[_0x123b58(0x48d)]({'request':_0x42d638,'schema':ni,'ClassRef':dt,'execute':(_0x51424d,_0x241db7)=>q[_0x123b58(0x7c0)](_0x51424d,_0x241db7)});_0x1ea23f['status'](0xc9)[_0x123b58(0x5f7)](_0x21501c);})['put'](this[_0x54fa85(0x6ec)](_0x54fa85(0x5c8)),..._0x5b4aa3,async(_0x47fe4f,_0x45438a)=>{const _0x5166eb=_0x54fa85;let _0x163b47=await this[_0x5166eb(0x48d)]({'request':_0x47fe4f,'schema':li,'ClassRef':ht,'execute':(_0x5d2900,_0xf2cb52)=>q[_0x5166eb(0x5c8)](_0x5d2900,_0xf2cb52)});_0x45438a[_0x5166eb(0x172)](0xc9)['json'](_0x163b47);})[_0x54fa85(0xd7)](this[_0x54fa85(0x6ec)](_0x54fa85(0x1f4)),..._0x5b4aa3,async(_0x2ce900,_0x5d4e12)=>{const _0x46430e=_0x54fa85;let _0x1c8256=await this[_0x46430e(0x48d)]({'request':_0x2ce900,'schema':ci,'ClassRef':pt,'execute':(_0x5cac17,_0x519084)=>q[_0x46430e(0x1f4)](_0x5cac17,_0x519084)});_0x5d4e12[_0x46430e(0x172)](0xc9)[_0x46430e(0x5f7)](_0x1c8256);})[_0x54fa85(0xd7)](this[_0x54fa85(0x6ec)](_0x54fa85(0x741)),..._0x5b4aa3,async(_0x2fcda2,_0x77caa2)=>{const _0x14e9dc=_0x54fa85;let _0x292507=await this[_0x14e9dc(0x48d)]({'request':_0x2fcda2,'schema':ii,'ClassRef':mt,'execute':(_0xeb0f05,_0x36cfb5)=>q[_0x14e9dc(0x741)](_0xeb0f05,_0x36cfb5)});_0x77caa2['status'](0xc9)[_0x14e9dc(0x5f7)](_0x292507);})[_0x54fa85(0x268)](this[_0x54fa85(0x6ec)](_0x54fa85(0x453)),..._0x5b4aa3,async(_0x5c5a6f,_0xb09673)=>{const _0xe2808c=_0x54fa85;let _0x4ff830=await this[_0xe2808c(0x48d)]({'request':_0x5c5a6f,'schema':_e,'ClassRef':te,'execute':(_0x2a928d,_0x566d88)=>q[_0xe2808c(0x21a)](_0x2a928d,_0x566d88)});_0xb09673['status'](0xc8)['json'](_0x4ff830);})[_0x54fa85(0x268)](this[_0x54fa85(0x6ec)](_0x54fa85(0x39d)),..._0x5b4aa3,async(_0x25c6ca,_0x19efe3)=>{const _0x1708d7=_0x54fa85;let _0x572703=await this[_0x1708d7(0x49b)]({'request':_0x25c6ca,'schema':v,'ClassRef':M,'execute':_0x29d7f5=>q[_0x1708d7(0x39d)](_0x29d7f5)});_0x19efe3[_0x1708d7(0x172)](0xc8)[_0x1708d7(0x5f7)](_0x572703);})[_0x54fa85(0x268)](this['routerPath']('participants'),..._0x5b4aa3,async(_0x2131ae,_0x12baf4)=>{const _0x149b95=_0x54fa85;let _0xd0df01=await this[_0x149b95(0x48d)]({'request':_0x2131ae,'schema':_e,'ClassRef':te,'execute':(_0x16a2eb,_0x1f8633)=>q['findParticipants'](_0x16a2eb,_0x1f8633)});_0x12baf4['status'](0xc8)[_0x149b95(0x5f7)](_0xd0df01);})[_0x54fa85(0x268)](this[_0x54fa85(0x6ec)](_0x54fa85(0x2ad)),..._0x5b4aa3,async(_0x2dd5ec,_0x30cb8c)=>{const _0xcf2ff6=_0x54fa85;let _0x33536a=await this[_0xcf2ff6(0x48d)]({'request':_0x2dd5ec,'schema':_e,'ClassRef':te,'execute':(_0x2925eb,_0x36a9c4)=>q[_0xcf2ff6(0x2ad)](_0x2925eb,_0x36a9c4)});_0x30cb8c[_0xcf2ff6(0x172)](0xc8)[_0xcf2ff6(0x5f7)](_0x33536a);})[_0x54fa85(0x71a)](this[_0x54fa85(0x6ec)](_0x54fa85(0x587)),..._0x5b4aa3,async(_0x4d6f82,_0x5c6e87)=>{const _0x5ab0d9=_0x54fa85;let _0x294d07=await this['joinGroupValidate']({'request':_0x4d6f82,'schema':Es,'ClassRef':xe,'execute':(_0x5d8b6c,_0x3a9cdf)=>q['groupGetInviteInfo'](_0x5d8b6c,_0x3a9cdf)});_0x5c6e87[_0x5ab0d9(0x172)](0xc9)[_0x5ab0d9(0x5f7)](_0x294d07);})[_0x54fa85(0xd7)](this['routerPath'](_0x54fa85(0x389)),..._0x5b4aa3,async(_0x160b4d,_0x1ef55f)=>{const _0x66984f=_0x54fa85;let _0x363b52=await this[_0x66984f(0x447)]({'request':_0x160b4d,'schema':Es,'ClassRef':xe,'execute':(_0x44f02a,_0x413af6)=>q[_0x66984f(0x389)](_0x44f02a,_0x413af6)});_0x1ef55f[_0x66984f(0x172)](0xc9)[_0x66984f(0x5f7)](_0x363b52);})['put'](this['routerPath'](_0x54fa85(0x5b5)),..._0x5b4aa3,async(_0x444e3c,_0x105194)=>{const _0x13d274=_0x54fa85;let _0x42dffc=await this[_0x13d274(0x48d)]({'request':_0x444e3c,'schema':_e,'ClassRef':te,'execute':(_0x3bab6e,_0x5120b6)=>q[_0x13d274(0x5b5)](_0x3bab6e,_0x5120b6)});_0x105194['status'](0xc9)[_0x13d274(0x5f7)](_0x42dffc);})[_0x54fa85(0xd7)](this[_0x54fa85(0x6ec)](_0x54fa85(0x7a7)),..._0x5b4aa3,async(_0xc66844,_0x247454)=>{const _0x2633d4=_0x54fa85;let _0x68cdea=await this['groupValidate']({'request':_0xc66844,'schema':ai,'ClassRef':gt,'execute':(_0x19ea86,_0x6cfed3)=>q[_0x2633d4(0x75c)](_0x19ea86,_0x6cfed3)});_0x247454[_0x2633d4(0x172)](0xc9)[_0x2633d4(0x5f7)](_0x68cdea);})[_0x54fa85(0x552)](this['routerPath'](_0x54fa85(0x457)),..._0x5b4aa3,async(_0x43f233,_0x20dcaf)=>{const _0x1e39e8=_0x54fa85;let _0xb6e4e0=await this['groupValidate']({'request':_0x43f233,'schema':{},'ClassRef':te,'execute':(_0x5af161,_0x1bb8b0)=>q[_0x1e39e8(0x457)](_0x5af161,_0x1bb8b0)});_0x20dcaf[_0x1e39e8(0x172)](0xc8)[_0x1e39e8(0x5f7)](_0xb6e4e0);});}},hi=require(a0_0x22ca69(0x3b0)),wt=class extends V{constructor(_0x3146c1,..._0x3233d9){const _0x12aacf=a0_0x22ca69;super(),this[_0x12aacf(0x2b1)]=_0x3146c1,this[_0x12aacf(0x2ee)]=(0x0,hi[_0x12aacf(0x7c8)])();let _0x344959=_0x3146c1[_0x12aacf(0x268)](_0x12aacf(0x78b));this[_0x12aacf(0x2ee)]['post'](_0x12aacf(0x40e),..._0x3233d9,async(_0x1a2fd6,_0x199177)=>{const _0x15c9c8=_0x12aacf;let {instanceName:_0x2eef9c,apikey:_0x3d6bd7,number:_0x36398a}=_0x1a2fd6[_0x15c9c8(0x53b)],_0x421733=await ue[_0x15c9c8(0x23d)]({'instanceName':_0x2eef9c,'apikey':_0x3d6bd7,'number':_0x36398a});return _0x199177[_0x15c9c8(0x172)](0xc9)['json'](_0x421733);})[_0x12aacf(0xd7)](this['routerPath'](_0x12aacf(0x714)),..._0x3233d9,async(_0xaea3e4,_0x235729)=>{const _0x642c7e=_0x12aacf;let _0x899e77=await this[_0x642c7e(0x49b)]({'request':_0xaea3e4,'schema':v,'ClassRef':M,'execute':_0x46b73d=>ue[_0x642c7e(0x564)](_0x46b73d)});return _0x235729[_0x642c7e(0x172)](0xc8)['json'](_0x899e77);})[_0x12aacf(0x268)](this['routerPath'](_0x12aacf(0x58f)),..._0x3233d9,async(_0x43f950,_0x389850)=>{const _0x56dd0e=_0x12aacf;let _0x15e2ec=await this[_0x56dd0e(0x49b)]({'request':_0x43f950,'schema':v,'ClassRef':M,'execute':_0x260cdf=>ue[_0x56dd0e(0xcc)](_0x260cdf)});return _0x389850[_0x56dd0e(0x172)](0xc8)[_0x56dd0e(0x5f7)](_0x15e2ec);})[_0x12aacf(0x268)](this[_0x12aacf(0x6ec)]('connectionState'),..._0x3233d9,async(_0x1b7c49,_0x3ade31)=>{const _0x423398=_0x12aacf;let _0x5eabaa=await this[_0x423398(0x49b)]({'request':_0x1b7c49,'schema':v,'ClassRef':M,'execute':_0x13741e=>ue['connectionState'](_0x13741e)});return _0x3ade31[_0x423398(0x172)](0xc8)['json'](_0x5eabaa);})[_0x12aacf(0x268)](this['routerPath']('fetchInstances',!0x1),..._0x3233d9,async(_0x5a4368,_0x1a8571)=>{const _0x3f8ff4=_0x12aacf;let _0x10e22d=await this[_0x3f8ff4(0x49b)]({'request':_0x5a4368,'schema':null,'ClassRef':M,'execute':_0x228320=>ue[_0x3f8ff4(0x36d)](_0x228320)});return _0x1a8571['status'](0xc8)['json'](_0x10e22d);})[_0x12aacf(0x552)](this[_0x12aacf(0x6ec)](_0x12aacf(0x29e)),..._0x3233d9,async(_0x56d599,_0x2d562d)=>{const _0x5b5e88=_0x12aacf;let _0x2606a6=await this[_0x5b5e88(0x49b)]({'request':_0x56d599,'schema':v,'ClassRef':M,'execute':_0x4aefd2=>ue[_0x5b5e88(0x29e)](_0x4aefd2)});return _0x2d562d[_0x5b5e88(0x172)](0xc8)[_0x5b5e88(0x5f7)](_0x2606a6);})[_0x12aacf(0x552)](this[_0x12aacf(0x6ec)](_0x12aacf(0x552)),..._0x3233d9,async(_0x150a51,_0x5305b8)=>{const _0x35f31a=_0x12aacf;let _0x2ecd94=await this[_0x35f31a(0x49b)]({'request':_0x150a51,'schema':v,'ClassRef':M,'execute':_0x143c2d=>ue[_0x35f31a(0x7bd)](_0x143c2d)});return _0x5305b8['status'](0xc8)[_0x35f31a(0x5f7)](_0x2ecd94);});}},gi=require(a0_0x22ca69(0x3b0)),Ns=class{},z=class extends Ns{},yt=class extends z{},bt=class extends z{},St=class extends z{},Mt=class extends z{},De=class extends z{},Ct=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},$t=class extends z{},Rt=class{},At=class extends V{constructor(..._0x1575a1){const _0x2bc4ab=a0_0x22ca69;super(),this[_0x2bc4ab(0x2ee)]=(0x0,gi[_0x2bc4ab(0x7c8)])(),this[_0x2bc4ab(0x2ee)][_0x2bc4ab(0x71a)](this[_0x2bc4ab(0x6ec)](_0x2bc4ab(0x78c)),..._0x1575a1,async(_0x1decbb,_0x2a3edb)=>{const _0x8cb7b0=_0x2bc4ab;let _0x45b287=await this[_0x8cb7b0(0x49b)]({'request':_0x1decbb,'schema':_a,'ClassRef':yt,'execute':(_0x5ccfa0,_0x62127)=>B[_0x8cb7b0(0x78c)](_0x5ccfa0,_0x62127)});return _0x2a3edb['status'](0xc9)['json'](_0x45b287);})['post'](this[_0x2bc4ab(0x6ec)](_0x2bc4ab(0x57d)),..._0x1575a1,async(_0x1967a1,_0x3af45a)=>{const _0x5b2e46=_0x2bc4ab;let _0x457316=await this['dataValidate']({'request':_0x1967a1,'schema':ka,'ClassRef':De,'execute':(_0x2a9954,_0x583694)=>B['sendMedia'](_0x2a9954,_0x583694)});return _0x3af45a[_0x5b2e46(0x172)](0xc9)[_0x5b2e46(0x5f7)](_0x457316);})['post'](this['routerPath']('sendMenu'),..._0x1575a1,async(_0x4e4f63,_0xe226c0)=>{const _0x1b0208=_0x2bc4ab;let _0x589b86=await this[_0x1b0208(0x49b)]({'request':_0x4e4f63,'schema':Ua,'ClassRef':Mt,'execute':(_0x4c4a51,_0x5acb16)=>B[_0x1b0208(0x136)](_0x4c4a51,_0x5acb16)});return _0xe226c0[_0x1b0208(0x172)](0xc9)[_0x1b0208(0x5f7)](_0x589b86);})[_0x2bc4ab(0x71a)](this[_0x2bc4ab(0x6ec)]('sendWhatsAppAudio'),..._0x1575a1,async(_0x1d8055,_0x16053c)=>{const _0x201fa4=_0x2bc4ab;let _0x1c3145=await this[_0x201fa4(0x49b)]({'request':_0x1d8055,'schema':La,'ClassRef':De,'execute':(_0x16d1b2,_0xced330)=>B[_0x201fa4(0x59f)](_0x16d1b2,_0xced330)});return _0x16053c['status'](0xc9)[_0x201fa4(0x5f7)](_0x1c3145);})[_0x2bc4ab(0x71a)](this['routerPath']('sendButtons'),..._0x1575a1,async(_0xba6255,_0x3cd199)=>{const _0x168637=_0x2bc4ab;let _0x33c6ff=await this[_0x168637(0x49b)]({'request':_0xba6255,'schema':ja,'ClassRef':Et,'execute':(_0x43c3e4,_0x541b3c)=>B[_0x168637(0x46c)](_0x43c3e4,_0x541b3c)});return _0x3cd199[_0x168637(0x172)](0xc9)['json'](_0x33c6ff);})[_0x2bc4ab(0x71a)](this[_0x2bc4ab(0x6ec)](_0x2bc4ab(0x529)),..._0x1575a1,async(_0x3c5c27,_0x27b616)=>{const _0x4e0131=_0x2bc4ab;let _0x49f0bc=await this[_0x4e0131(0x49b)]({'request':_0x3c5c27,'schema':Ja,'ClassRef':vt,'execute':(_0x199f26,_0x32f429)=>B[_0x4e0131(0x529)](_0x199f26,_0x32f429)});return _0x27b616['status'](0xc9)[_0x4e0131(0x5f7)](_0x49f0bc);})[_0x2bc4ab(0x71a)](this[_0x2bc4ab(0x6ec)](_0x2bc4ab(0x336)),..._0x1575a1,async(_0x4a8100,_0x5cf03f)=>{const _0x501dde=_0x2bc4ab;let _0x3b374b=await this[_0x501dde(0x49b)]({'request':_0x4a8100,'schema':qa,'ClassRef':Nt,'execute':(_0x25be5e,_0x50bff0)=>B['sendList'](_0x25be5e,_0x50bff0)});return _0x5cf03f[_0x501dde(0x172)](0xc9)[_0x501dde(0x5f7)](_0x3b374b);})[_0x2bc4ab(0x71a)](this['routerPath'](_0x2bc4ab(0x97)),..._0x1575a1,async(_0x1392ca,_0xf49103)=>{const _0x57ce21=_0x2bc4ab;let _0x2bddef=await this[_0x57ce21(0x49b)]({'request':_0x1392ca,'schema':Va,'ClassRef':$t,'execute':(_0x44e27c,_0x22f104)=>B[_0x57ce21(0x97)](_0x44e27c,_0x22f104)});return _0xf49103[_0x57ce21(0x172)](0xc9)[_0x57ce21(0x5f7)](_0x2bddef);})[_0x2bc4ab(0x71a)](this[_0x2bc4ab(0x6ec)](_0x2bc4ab(0xa1)),..._0x1575a1,async(_0x223ccc,_0x4df5ad)=>{const _0x1c91a8=_0x2bc4ab;let _0x305312=await this[_0x1c91a8(0x49b)]({'request':_0x223ccc,'schema':Ga,'ClassRef':Rt,'execute':(_0x4b665d,_0x1b0439)=>B['sendReaction'](_0x4b665d,_0x1b0439)});return _0x4df5ad[_0x1c91a8(0x172)](0xc9)[_0x1c91a8(0x5f7)](_0x305312);})[_0x2bc4ab(0x71a)](this[_0x2bc4ab(0x6ec)](_0x2bc4ab(0x4c1)),..._0x1575a1,async(_0xb48423,_0x1d322e)=>{const _0x446785=_0x2bc4ab;let _0x56bb4d=await this[_0x446785(0x49b)]({'request':_0xb48423,'schema':Fa,'ClassRef':St,'execute':(_0x1260e0,_0x2eb4e6)=>B[_0x446785(0x4c1)](_0x1260e0,_0x2eb4e6)});return _0x1d322e[_0x446785(0x172)](0xc9)[_0x446785(0x5f7)](_0x56bb4d);})[_0x2bc4ab(0x71a)](this[_0x2bc4ab(0x6ec)](_0x2bc4ab(0x6f6)),..._0x1575a1,async(_0x1e8ba1,_0x9bfec3)=>{const _0x1b0777=_0x2bc4ab;let _0x784d1b=await this['dataValidate']({'request':_0x1e8ba1,'schema':Pa,'ClassRef':bt,'execute':(_0x5535ad,_0x341303)=>B['sendStatus'](_0x5535ad,_0x341303)});return _0x9bfec3[_0x1b0777(0x172)](0xc9)[_0x1b0777(0x5f7)](_0x784d1b);})[_0x2bc4ab(0x71a)](this[_0x2bc4ab(0x6ec)](_0x2bc4ab(0x634)),..._0x1575a1,async(_0x28cacb,_0x2c43c5)=>{const _0x37a784=_0x2bc4ab;let _0x5c97b4=await this[_0x37a784(0x49b)]({'request':_0x28cacb,'schema':Da,'ClassRef':Ct,'execute':(_0x4a4175,_0x1e482f)=>B[_0x37a784(0x634)](_0x4a4175,_0x1e482f)});return _0x2c43c5[_0x37a784(0x172)](0xc9)[_0x37a784(0x5f7)](_0x5c97b4);});}},mi=require(a0_0x22ca69(0x3b0)),It=class{},Tt=class extends V{constructor(..._0x6995d2){const _0x58a6a0=a0_0x22ca69;super(),this['router']=(0x0,mi[_0x58a6a0(0x7c8)])(),this[_0x58a6a0(0x2ee)][_0x58a6a0(0x71a)](this[_0x58a6a0(0x6ec)]('set'),..._0x6995d2,async(_0x25321d,_0x2cdb08)=>{const _0x452230=_0x58a6a0;let _0x7ca99e=await this[_0x452230(0x49b)]({'request':_0x25321d,'schema':ui,'ClassRef':It,'execute':(_0x1e415e,_0x2edd39)=>$s['createWebhook'](_0x1e415e,_0x2edd39)});_0x2cdb08[_0x452230(0x172)](0xc9)['json'](_0x7ca99e);})[_0x58a6a0(0x268)](this[_0x58a6a0(0x6ec)](_0x58a6a0(0x22d)),..._0x6995d2,async(_0x48588c,_0x21026e)=>{const _0x5131bd=_0x58a6a0;let _0x22e933=await this[_0x5131bd(0x49b)]({'request':_0x48588c,'schema':v,'ClassRef':M,'execute':_0x4ee434=>$s[_0x5131bd(0x208)](_0x4ee434)});_0x21026e[_0x5131bd(0x172)](0xc8)[_0x5131bd(0x5f7)](_0x22e933);});}},fi=require(a0_0x22ca69(0x3b0)),y=new $('FlowRouter'),Ot=class extends V{constructor(..._0x2210b7){const _0x3739d4=a0_0x22ca69;super(),this[_0x3739d4(0x2ee)]=(0x0,fi[_0x3739d4(0x7c8)])(),this['router'][_0x3739d4(0x71a)](this['routerPath'](_0x3739d4(0x76b)),..._0x2210b7,async(_0x496161,_0x191971)=>{const _0x5d5e1c=_0x3739d4;let _0x4ee7e0=_0x496161['body'];y[_0x5d5e1c(0x36c)](_0x5d5e1c(0x320)),y[_0x5d5e1c(0x36c)](_0x5d5e1c(0x3e2)),y[_0x5d5e1c(0x36c)](_0x496161[_0x5d5e1c(0x53b)]);let _0x4b058d=await this[_0x5d5e1c(0x49b)]({'request':_0x496161,'schema':v,'ClassRef':M,'execute':_0x28d466=>O[_0x5d5e1c(0x53c)](_0x28d466,_0x4ee7e0)});_0x191971['status'](0xc8)['json'](_0x4b058d);})[_0x3739d4(0x268)](this[_0x3739d4(0x6ec)](_0x3739d4(0x76b)),..._0x2210b7,async(_0x17271b,_0x2c7284)=>{const _0x11bbbd=_0x3739d4;let _0xc73739=await this[_0x11bbbd(0x49b)]({'request':_0x17271b,'schema':v,'ClassRef':M,'execute':_0x44a988=>O[_0x11bbbd(0x5aa)](_0x44a988)});_0x2c7284[_0x11bbbd(0x172)](0xc8)[_0x11bbbd(0x5f7)](_0xc73739);})[_0x3739d4(0x552)](this['routerPath']('deleteDoneMessages'),..._0x2210b7,async(_0x2fefbe,_0x3fcf5c)=>{const _0x1b2c6c=_0x3739d4;y[_0x1b2c6c(0x36c)](_0x1b2c6c(0x3c1));let _0x21c0f3=await this[_0x1b2c6c(0x49b)]({'request':_0x2fefbe,'schema':v,'ClassRef':M,'execute':_0x416266=>O[_0x1b2c6c(0x551)](_0x416266)});_0x3fcf5c[_0x1b2c6c(0x172)](0xc8)['json'](_0x21c0f3);})[_0x3739d4(0x71a)](this[_0x3739d4(0x6ec)](_0x3739d4(0x746)),..._0x2210b7,async(_0x1849ef,_0x20f5ec)=>{const _0x23663c=_0x3739d4;let _0x5ab10a=_0x1849ef[_0x23663c(0x53b)];y[_0x23663c(0x36c)](_0x23663c(0x2d5)),y[_0x23663c(0x36c)]('request\x20body:\x20'),y[_0x23663c(0x36c)](_0x1849ef['body']);let _0x279934=await this[_0x23663c(0x49b)]({'request':_0x1849ef,'schema':v,'ClassRef':M,'execute':_0x5a1c8f=>O[_0x23663c(0x746)](_0x5a1c8f,_0x5ab10a)});_0x20f5ec['status'](0xc8)[_0x23663c(0x5f7)](_0x279934);})[_0x3739d4(0x268)](this['routerPath'](_0x3739d4(0x166)),..._0x2210b7,async(_0x554e48,_0x1d2499)=>{const _0x5126a6=_0x3739d4;y[_0x5126a6(0x36c)]('request\x20received\x20in\x20getAutomateSystem');let _0x3e9d9f=await this[_0x5126a6(0x49b)]({'request':_0x554e48,'schema':v,'ClassRef':M,'execute':_0x4fb6ef=>O[_0x5126a6(0x166)](_0x4fb6ef)});_0x1d2499['status'](0xc8)[_0x5126a6(0x5f7)](_0x3e9d9f);})[_0x3739d4(0x268)](this['routerPath'](_0x3739d4(0x408)),..._0x2210b7,async(_0x343739,_0x24603f)=>{const _0x5d988c=_0x3739d4;y['verbose']('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x53fdcb=await this['dataValidate']({'request':_0x343739,'schema':v,'ClassRef':M,'execute':_0x56900a=>O[_0x5d988c(0x166)](_0x56900a)});_0x24603f['status'](0xc8)[_0x5d988c(0x5f7)](_0x53fdcb);})[_0x3739d4(0x71a)](this[_0x3739d4(0x6ec)](_0x3739d4(0x2c3)),..._0x2210b7,async(_0x1685c7,_0x5f30da)=>{const _0x42ce6f=_0x3739d4;let _0x321138=_0x1685c7['body'];y[_0x42ce6f(0x36c)](_0x42ce6f(0x81)),y[_0x42ce6f(0x36c)](_0x42ce6f(0x3e2)),y['verbose'](_0x1685c7[_0x42ce6f(0x53b)]);let _0x45d122=await this['dataValidate']({'request':_0x1685c7,'schema':v,'ClassRef':M,'execute':_0x231dec=>O['updateAgent'](_0x231dec,_0x321138)});_0x5f30da[_0x42ce6f(0x172)](0xc8)[_0x42ce6f(0x5f7)](_0x45d122);})[_0x3739d4(0x71a)](this[_0x3739d4(0x6ec)]('updateCustomFields'),..._0x2210b7,async(_0xde15e3,_0x2dcdc0)=>{const _0x3fb5c7=_0x3739d4;let _0x38e1b0=_0xde15e3[_0x3fb5c7(0x53b)];y[_0x3fb5c7(0x36c)](_0x3fb5c7(0x177)),y[_0x3fb5c7(0x36c)](_0x3fb5c7(0x3e2)),y[_0x3fb5c7(0x36c)](_0xde15e3['body']);let _0x999096=await this['dataValidate']({'request':_0xde15e3,'schema':v,'ClassRef':M,'execute':_0x43eca5=>O[_0x3fb5c7(0x1b3)](_0x43eca5,_0x38e1b0)});_0x2dcdc0[_0x3fb5c7(0x172)](0xc8)[_0x3fb5c7(0x5f7)](_0x999096);})[_0x3739d4(0x71a)](this[_0x3739d4(0x6ec)](_0x3739d4(0x22c)),..._0x2210b7,async(_0x3abe9e,_0x2daf6b)=>{const _0xb53694=_0x3739d4;let _0x2e812b=_0x3abe9e['body'];y[_0xb53694(0x36c)](_0xb53694(0x148)),y[_0xb53694(0x36c)](_0xb53694(0x3e2)),y['verbose'](_0x3abe9e[_0xb53694(0x53b)]);let _0x463498=await this['dataValidate']({'request':_0x3abe9e,'schema':v,'ClassRef':M,'execute':_0x120c1b=>O[_0xb53694(0x22c)](_0x120c1b,_0x2e812b)});_0x2daf6b[_0xb53694(0x172)](0xc8)[_0xb53694(0x5f7)](_0x463498);})[_0x3739d4(0x71a)](this[_0x3739d4(0x6ec)](_0x3739d4(0x6b5)),..._0x2210b7,async(_0x4f7310,_0x51ddfe)=>{const _0x14218e=_0x3739d4;let _0x9a4000=_0x4f7310[_0x14218e(0x53b)];y[_0x14218e(0x36c)](_0x14218e(0x2ba)),y[_0x14218e(0x36c)]('request\x20body:\x20'),y[_0x14218e(0x36c)](_0x4f7310['body']);let _0x2a09e2=await this[_0x14218e(0x49b)]({'request':_0x4f7310,'schema':v,'ClassRef':M,'execute':_0x2ecc29=>O['updateFlowConfig'](_0x2ecc29,_0x9a4000)});_0x51ddfe[_0x14218e(0x172)](0xc8)[_0x14218e(0x5f7)](_0x2a09e2);})['post'](this['routerPath'](_0x3739d4(0x375)),..._0x2210b7,async(_0x2fe70f,_0x4b8b6e)=>{const _0x5ca120=_0x3739d4;let _0x4de9ce=_0x2fe70f['body'];y[_0x5ca120(0x36c)](_0x5ca120(0x586)),y['verbose']('request\x20body:\x20'),y[_0x5ca120(0x36c)](_0x2fe70f[_0x5ca120(0x53b)]);let _0x2039bf=await this[_0x5ca120(0x49b)]({'request':_0x2fe70f,'schema':v,'ClassRef':M,'execute':_0x2de56c=>O[_0x5ca120(0x375)](_0x2de56c,_0x4de9ce)});_0x4b8b6e[_0x5ca120(0x172)](0xc8)[_0x5ca120(0x5f7)](_0x2039bf);})[_0x3739d4(0x71a)](this[_0x3739d4(0x6ec)]('fetchConversation'),..._0x2210b7,async(_0x1c92bf,_0x476ff5)=>{const _0x26c8d0=_0x3739d4;let _0x2d5eee=_0x1c92bf[_0x26c8d0(0x53b)];y[_0x26c8d0(0x36c)](_0x26c8d0(0x3b2)),y['verbose'](_0x26c8d0(0x3e2)),y[_0x26c8d0(0x36c)](_0x1c92bf[_0x26c8d0(0x53b)]);let _0x5ce8fd=await this[_0x26c8d0(0x49b)]({'request':_0x1c92bf,'schema':v,'ClassRef':M,'execute':_0xf1f8a6=>O[_0x26c8d0(0x6d5)](_0xf1f8a6,_0x2d5eee)});_0x476ff5[_0x26c8d0(0x172)](0xc8)['json'](_0x5ce8fd);})[_0x3739d4(0x71a)](this[_0x3739d4(0x6ec)](_0x3739d4(0x493)),..._0x2210b7,async(_0x53946e,_0x2c468c)=>{const _0x406140=_0x3739d4;let _0x57a335=_0x53946e['body'];y[_0x406140(0x36c)](_0x406140(0x2ce)),y[_0x406140(0x36c)](_0x406140(0x3e2)),y[_0x406140(0x36c)](_0x53946e[_0x406140(0x53b)]);let _0x49fbbe=await this['dataValidate']({'request':_0x53946e,'schema':v,'ClassRef':M,'execute':_0x259b15=>O['editConversation'](_0x259b15,_0x57a335)});_0x2c468c[_0x406140(0x172)](0xc8)['json'](_0x49fbbe);})['delete'](this[_0x3739d4(0x6ec)]('deleteConversation'),..._0x2210b7,async(_0x429831,_0x295289)=>{const _0x46c06b=_0x3739d4;let _0x1790f6=_0x429831[_0x46c06b(0x53b)];y[_0x46c06b(0x36c)]('request\x20received\x20in\x20deleteConversation'),y[_0x46c06b(0x36c)]('request\x20body:\x20'),y[_0x46c06b(0x36c)](_0x429831[_0x46c06b(0x53b)]);let _0x4de72e=await this[_0x46c06b(0x49b)]({'request':_0x429831,'schema':v,'ClassRef':M,'execute':_0x2fb543=>O[_0x46c06b(0x511)](_0x2fb543,_0x1790f6)});_0x295289[_0x46c06b(0x172)](0xc8)[_0x46c06b(0x5f7)](_0x4de72e);})[_0x3739d4(0x71a)](this[_0x3739d4(0x6ec)]('createflow'),..._0x2210b7,async(_0x4e2944,_0x4bfd9c)=>{const _0x561a75=_0x3739d4;let _0x5b57bb=_0x4e2944[_0x561a75(0x53b)],_0x5d3a08=_0x4e2944[_0x561a75(0x5c7)][_0x561a75(0x56e)];y[_0x561a75(0x36c)](_0x561a75(0x3e5)),y[_0x561a75(0x36c)](_0x561a75(0x3e2)),y['verbose'](_0x4e2944[_0x561a75(0x53b)]);let _0x473683=await this['dataValidate']({'request':_0x4e2944,'schema':v,'ClassRef':M,'execute':_0xd21623=>O[_0x561a75(0x186)](_0xd21623,_0x5b57bb,_0x5d3a08)});_0x4bfd9c['status'](0xc8)[_0x561a75(0x5f7)](_0x473683);})['post'](this['routerPath'](_0x3739d4(0x15b)),..._0x2210b7,async(_0x1788d2,_0x3d686f)=>{const _0x26e1bd=_0x3739d4;let _0xd9861e=_0x1788d2[_0x26e1bd(0x53b)],_0x3a7d8c=_0x1788d2['headers'][_0x26e1bd(0x56e)];y['verbose'](_0x26e1bd(0x4db)),y[_0x26e1bd(0x36c)](_0x26e1bd(0x3e2)),y['verbose'](_0x1788d2['body']),delete _0xd9861e[_0x26e1bd(0x382)],delete _0xd9861e['variables'],delete _0xd9861e[_0x26e1bd(0x4b9)],delete _0xd9861e[_0x26e1bd(0x3fd)];let _0x472393=await this['dataValidate']({'request':_0x1788d2,'schema':v,'ClassRef':M,'execute':_0x369463=>O[_0x26e1bd(0x191)](_0x369463,_0xd9861e,_0x3a7d8c)});_0x3d686f[_0x26e1bd(0x172)](0xc8)['json'](_0x472393);})[_0x3739d4(0x71a)](this[_0x3739d4(0x6ec)](_0x3739d4(0x5d5)),..._0x2210b7,async(_0x2a121b,_0x2e4411)=>{const _0x50878f=_0x3739d4;let _0x2d6247=_0x2a121b[_0x50878f(0x53b)];y[_0x50878f(0x36c)](_0x50878f(0x4db)),y[_0x50878f(0x36c)](_0x50878f(0x3e2)),y[_0x50878f(0x36c)](_0x2a121b[_0x50878f(0x53b)]);let _0x394b36=await this[_0x50878f(0x49b)]({'request':_0x2a121b,'schema':v,'ClassRef':M,'execute':_0x287f89=>O[_0x50878f(0x3c9)](_0x287f89,_0x2d6247)});_0x2e4411[_0x50878f(0x172)](0xc8)['json'](_0x394b36);})[_0x3739d4(0x71a)](this[_0x3739d4(0x6ec)]('editflowreply'),..._0x2210b7,async(_0x2e651a,_0x2678f1)=>{const _0x1020ce=_0x3739d4;let _0x495909=_0x2e651a[_0x1020ce(0x53b)];y[_0x1020ce(0x36c)](_0x1020ce(0x4db)),y[_0x1020ce(0x36c)](_0x1020ce(0x3e2)),y[_0x1020ce(0x36c)](_0x2e651a['body']);let _0x3b7a4a=await this[_0x1020ce(0x49b)]({'request':_0x2e651a,'schema':v,'ClassRef':M,'execute':_0x3da1b6=>O['editFlowReply'](_0x3da1b6,_0x495909)});_0x2678f1['status'](0xc8)[_0x1020ce(0x5f7)](_0x3b7a4a);})[_0x3739d4(0x71a)](this['routerPath'](_0x3739d4(0x1b9)),..._0x2210b7,async(_0x3c3ed5,_0x282de9)=>{const _0x1955cf=_0x3739d4;let _0x41cc55=_0x3c3ed5[_0x1955cf(0x53b)];y[_0x1955cf(0x36c)](_0x1955cf(0x4db)),y[_0x1955cf(0x36c)](_0x1955cf(0x3e2)),y[_0x1955cf(0x36c)](_0x3c3ed5[_0x1955cf(0x53b)]);let _0xe044cb=await this[_0x1955cf(0x49b)]({'request':_0x3c3ed5,'schema':v,'ClassRef':M,'execute':_0x4d6331=>O[_0x1955cf(0x56c)](_0x4d6331,_0x41cc55)});_0x282de9[_0x1955cf(0x172)](0xc8)[_0x1955cf(0x5f7)](_0xe044cb);})['post'](this[_0x3739d4(0x6ec)](_0x3739d4(0x70f)),..._0x2210b7,async(_0x8f8920,_0x1c2e48)=>{const _0x25eaba=_0x3739d4;let _0x5998f7=_0x8f8920['body'];y[_0x25eaba(0x36c)]('request\x20received\x20in\x20editFlowgroup'),y[_0x25eaba(0x36c)](_0x25eaba(0x3e2)),y[_0x25eaba(0x36c)](_0x8f8920[_0x25eaba(0x53b)]);let _0x41e47d=await this[_0x25eaba(0x49b)]({'request':_0x8f8920,'schema':v,'ClassRef':M,'execute':_0x34c7ae=>O[_0x25eaba(0x2f5)](_0x34c7ae,_0x5998f7)});_0x1c2e48['status'](0xc8)[_0x25eaba(0x5f7)](_0x41e47d);})[_0x3739d4(0x71a)](this[_0x3739d4(0x6ec)](_0x3739d4(0x5f3)),..._0x2210b7,async(_0x439661,_0x16b26f)=>{const _0x583221=_0x3739d4;let _0x5f3b7d=_0x439661[_0x583221(0x53b)];y[_0x583221(0x36c)](_0x583221(0x42a)),y['verbose'](_0x583221(0x3e2)),y[_0x583221(0x36c)](_0x439661[_0x583221(0x53b)]);let _0x329ad9=await this[_0x583221(0x49b)]({'request':_0x439661,'schema':v,'ClassRef':M,'execute':_0x1ef075=>O[_0x583221(0x6c4)](_0x1ef075,_0x5f3b7d)});_0x16b26f[_0x583221(0x172)](0xc8)[_0x583221(0x5f7)](_0x329ad9);})[_0x3739d4(0x71a)](this['routerPath'](_0x3739d4(0x766)),..._0x2210b7,async(_0x3861e1,_0x3a7550)=>{const _0x475cb7=_0x3739d4;let _0x5e33d9=_0x3861e1['body'];y['verbose'](_0x475cb7(0x1f5)),y[_0x475cb7(0x36c)](_0x475cb7(0x3e2)),y[_0x475cb7(0x36c)](_0x3861e1[_0x475cb7(0x53b)]);let _0x1f0124=await this[_0x475cb7(0x49b)]({'request':_0x3861e1,'schema':v,'ClassRef':M,'execute':_0x1820c7=>O['editFlowVariable'](_0x1820c7,_0x5e33d9)});_0x3a7550[_0x475cb7(0x172)](0xc8)[_0x475cb7(0x5f7)](_0x1f0124);})[_0x3739d4(0x71a)](this[_0x3739d4(0x6ec)]('getflow'),..._0x2210b7,async(_0x47b0f7,_0x3d4c55)=>{const _0x44b4de=_0x3739d4;let _0x1948e2=_0x47b0f7[_0x44b4de(0x53b)];y[_0x44b4de(0x36c)]('request\x20received\x20in\x20getFlow'),y['verbose']('request\x20body:\x20'),y[_0x44b4de(0x36c)](_0x47b0f7[_0x44b4de(0x53b)]);let _0x187753=await this[_0x44b4de(0x49b)]({'request':_0x47b0f7,'schema':v,'ClassRef':M,'execute':_0x1e1b34=>O[_0x44b4de(0x29a)](_0x1e1b34,_0x1948e2)});_0x3d4c55[_0x44b4de(0x172)](0xc8)['json'](_0x187753);})[_0x3739d4(0x552)](this[_0x3739d4(0x6ec)](_0x3739d4(0x772)),..._0x2210b7,async(_0x1e6035,_0x1009b7)=>{const _0x42091e=_0x3739d4;let _0xdcb54f=_0x1e6035[_0x42091e(0x53b)];y['verbose'](_0x42091e(0x232)),y[_0x42091e(0x36c)](_0x42091e(0x3e2)),y[_0x42091e(0x36c)](_0x1e6035['body']);let _0x2abaa7=await this[_0x42091e(0x49b)]({'request':_0x1e6035,'schema':v,'ClassRef':M,'execute':_0x404af5=>O['deleteFlow'](_0x404af5,_0xdcb54f)});_0x1009b7['status'](0xc8)[_0x42091e(0x5f7)](_0x2abaa7);})[_0x3739d4(0x268)](this['routerPath'](_0x3739d4(0x4ec)),..._0x2210b7,async(_0xaa4d1d,_0x9c35d5)=>{const _0x49040f=_0x3739d4;y[_0x49040f(0x36c)](_0x49040f(0x7e1));let _0x40a527=await this[_0x49040f(0x49b)]({'request':_0xaa4d1d,'schema':v,'ClassRef':M,'execute':_0x1362a4=>O[_0x49040f(0xf8)](_0x1362a4)});_0x9c35d5[_0x49040f(0x172)](0xc8)[_0x49040f(0x5f7)](_0x40a527);});}},Si=T(require(a0_0x22ca69(0x755))),se={};function wi(_0x1ae113,_0x1148c9,_0x18f079,_0x33b765){se[_0x1ae113]||(se[_0x1ae113]={}),se[_0x1ae113][_0x1148c9]={'id':_0x1148c9,'response':_0x18f079,'events':_0x33b765};}function yi(_0x972330,_0x4e2144){!se[_0x972330]||!se[_0x972330][_0x4e2144]||delete se[_0x972330][_0x4e2144];}function J(_0x14d462,_0x37f4e3,_0x5634d6){const _0x586de8=a0_0x22ca69;if(!se[_0x14d462])return;let _0x122e08=_0x586de8(0x34d)+JSON[_0x586de8(0x3d0)](_0x5634d6)+'\x0a\x0a';Object[_0x586de8(0x5dc)](se[_0x14d462])[_0x586de8(0x2e7)](_0x56dacc=>{const _0x53676e=_0x586de8;_0x56dacc[_0x53676e(0x67d)][_0x53676e(0x54e)](_0x37f4e3)&&_0x56dacc[_0x53676e(0x363)]['write'](_0x122e08);});}function bi(){const _0x18df56=a0_0x22ca69;let _0x4e795a={};for(let _0x5bf612 in se)_0x4e795a[_0x5bf612]=Object[_0x18df56(0x5dc)](se[_0x5bf612])[_0x18df56(0x322)](_0x2f159b=>({'id':_0x2f159b['id'],'events':_0x2f159b[_0x18df56(0x67d)]}));return _0x4e795a;}var Mi=require(a0_0x22ca69(0x62c)),As=require(a0_0x22ca69(0x11b)),Rs=class{},Ro=new As['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ao=new As[(a0_0x22ca69(0x158))]({'_id':{'type':String,'default':a0_0x22ca69(0x62b)},'WebhookGlobal':{'type':Ro},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ee=R?.[a0_0x22ca69(0x754)](Rs[a0_0x22ca69(0x7cc)],Ao,a0_0x22ca69(0x65d)),Io=Si[a0_0x22ca69(0x4ba)][a0_0x22ca69(0x20b)](__dirname,a0_0x22ca69(0x487)),Pe=(0x0,_t[a0_0x22ca69(0x7c8)])(),To=S['get'](a0_0x22ca69(0x78b))[a0_0x22ca69(0x393)],re=[$a,Ra,Ta[To]];Pe[a0_0x22ca69(0x2fd)](a0_0x22ca69(0x4a2),_t['default'][a0_0x22ca69(0x3e8)](Io))[a0_0x22ca69(0x268)]('/events/:instance',async(_0x42675f,_0x145158)=>{const _0x1a63aa=a0_0x22ca69;console[_0x1a63aa(0x2f8)](_0x1a63aa(0x86));let _0x47fdc0=_0x42675f['params']['instance'],_0x4a86be=(_0x42675f[_0x1a63aa(0x7c6)]['events']||'')[_0x1a63aa(0x6fc)](','),_0x561395=(0x0,Mi['v4'])();console[_0x1a63aa(0x2f8)](_0x1a63aa(0x471),_0x47fdc0),console[_0x1a63aa(0x2f8)](_0x1a63aa(0x35d),_0x4a86be);let _0x22bc15=S['get'](_0x1a63aa(0x78b))['API_KEY'],_0x47aa66=_0x42675f[_0x1a63aa(0x7c6)]['apikey'];if(console[_0x1a63aa(0x2f8)](_0x1a63aa(0x666),_0x47aa66),_0x22bc15['KEY']!==_0x47aa66){console[_0x1a63aa(0x2f8)](_0x1a63aa(0xa7));try{let _0x55373a=await me[_0x1a63aa(0x25f)]['find'](_0x47fdc0);if(console[_0x1a63aa(0x2f8)](_0x1a63aa(0x606),_0x55373a),!_0x55373a||_0x55373a[_0x1a63aa(0x56e)]!==_0x47aa66)return console[_0x1a63aa(0x2f8)](_0x1a63aa(0x20a)),_0x145158[_0x1a63aa(0x172)](0x191)['send']('API\x20Key\x20inválida.');}catch(_0x359304){return console[_0x1a63aa(0x3d5)](_0x1a63aa(0x64d),_0x359304),_0x145158[_0x1a63aa(0x172)](0x191)[_0x1a63aa(0x76f)](_0x1a63aa(0x4ce));}}if(!await Te(_0x47fdc0))return _0x145158[_0x1a63aa(0x172)](0x194)['send'](_0x1a63aa(0x51b));_0x145158[_0x1a63aa(0x5bc)](_0x1a63aa(0x5c1),_0x1a63aa(0x1c7)),_0x145158['setHeader'](_0x1a63aa(0x2b4),_0x1a63aa(0x153)),_0x145158[_0x1a63aa(0x5bc)]('Connection',_0x1a63aa(0x5c0)),_0x145158[_0x1a63aa(0x6af)]();let _0x55029b=_0x1a63aa(0x34d)+JSON['stringify']({'info':_0x1a63aa(0xbd)})+'\x0a\x0a';_0x145158['write'](_0x55029b),wi(_0x47fdc0,_0x561395,_0x145158,_0x4a86be),_0x42675f['on']('close',()=>{console['log']('Connection\x20closed\x20for\x20instance:\x20'+_0x47fdc0),yi(_0x47fdc0,_0x561395);});}),Pe[a0_0x22ca69(0x71a)]('/startFlow/:instance/:startID',async(_0x28ca31,_0x44de38)=>{const _0xb1415b=a0_0x22ca69;console[_0xb1415b(0x2f8)]('iniciando\x20fluxo\x20router');let _0x367731=_0x28ca31[_0xb1415b(0xc6)][_0xb1415b(0x6de)],_0x329e5f=_0x28ca31['params']['startID'],_0x456587=_0x28ca31['query'][_0xb1415b(0x61d)]||'',_0x95b610=_0x28ca31['body'];console[_0xb1415b(0x2f8)](_0xb1415b(0x394),_0x367731),console[_0xb1415b(0x2f8)](_0xb1415b(0xf2),_0x329e5f),console[_0xb1415b(0x2f8)](_0xb1415b(0x71c),_0x456587),console[_0xb1415b(0x2f8)]('Request\x20Body:',_0x95b610);try{if(!await Te(_0x367731))return _0x44de38[_0xb1415b(0x172)](0x194)[_0xb1415b(0x76f)](_0xb1415b(0x51b));let _0x5ec1b8=await O[_0xb1415b(0x4b6)](_0x367731,_0x329e5f,_0x456587,_0x95b610);_0x44de38[_0xb1415b(0x76f)](_0x5ec1b8);}catch(_0xdf6832){console[_0xb1415b(0x3d5)](_0xdf6832),_0x44de38[_0xb1415b(0x172)](0x1f4)[_0xb1415b(0x76f)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),Pe[a0_0x22ca69(0x268)](a0_0x22ca69(0x5f9),(_0x3dcf92,_0xf62cdd)=>{const _0x253145=a0_0x22ca69;let _0x2d0052=bi();_0xf62cdd[_0x253145(0x5f7)](_0x2d0052);})[a0_0x22ca69(0x268)]('/',(_0x5aed37,_0x1f2941)=>{const _0x172f5a=a0_0x22ca69;let _0x4f3141=S[_0x172f5a(0x268)](_0x172f5a(0x3ea))['URL'];if(_0x4f3141){let _0x52e24f=encodeURIComponent(''+_0x4f3141);_0x1f2941[_0x172f5a(0x19c)](_0x172f5a(0x67e)+_0x52e24f);return;}let _0x589664=S['get'](_0x172f5a(0x11f)),_0x402083=_0x589664&&_0x589664[_0x172f5a(0x138)][_0x172f5a(0x6fc)]('/')[0x4];if(_0x402083){let _0x2ac231=encodeURIComponent(_0x172f5a(0x1f2)+_0x402083);_0x1f2941[_0x172f5a(0x19c)](_0x172f5a(0x67e)+_0x2ac231);}else _0x1f2941[_0x172f5a(0x19c)](_0x172f5a(0x4f3));})[a0_0x22ca69(0xd7)](a0_0x22ca69(0x6da),...re,async(_0x71cece,_0x269eb4)=>{const _0x4aaa01=a0_0x22ca69;try{console['log'](_0x4aaa01(0x1cf)),_0x269eb4[_0x4aaa01(0x172)](0xc8)[_0x4aaa01(0x5f7)]({'message':_0x4aaa01(0x380)}),_0x269eb4['on']('finish',()=>process['exit'](0x0));}catch(_0x411688){console['error'](_0x4aaa01(0x6b1),_0x411688),_0x269eb4['status'](0x1f4)[_0x4aaa01(0x5f7)]({'message':_0x4aaa01(0x359)});}})[a0_0x22ca69(0xd7)](a0_0x22ca69(0x3d6),...re,async(_0x46a232,_0x383e1c)=>{const _0x42e94d=a0_0x22ca69;try{let _0x29feb=_0x46a232[_0x42e94d(0x53b)];await Ee[_0x42e94d(0x489)]({},{'$set':_0x29feb},{'upsert':!0x0});let _0x17b712=await Ee[_0x42e94d(0x743)]();_0x383e1c[_0x42e94d(0x5f7)](_0x17b712);}catch(_0x158156){_0x383e1c[_0x42e94d(0x172)](0x190)[_0x42e94d(0x76f)](_0x158156[_0x42e94d(0x3d1)]);}})[a0_0x22ca69(0x268)](a0_0x22ca69(0x3d6),...re,async(_0x54c15,_0x2078ae)=>{const _0x178a84=a0_0x22ca69;try{let _0x3871e1=await Ee[_0x178a84(0x743)]();if(!_0x3871e1)return _0x2078ae[_0x178a84(0x5f7)]({});_0x2078ae[_0x178a84(0x5f7)](_0x3871e1);}catch(_0x448e0d){_0x2078ae['status'](0x1f4)['send'](_0x448e0d[_0x178a84(0x3d1)]);}})[a0_0x22ca69(0x2fd)](a0_0x22ca69(0x4c2),new wt(S,...re)[a0_0x22ca69(0x2ee)])[a0_0x22ca69(0x2fd)](a0_0x22ca69(0x1da),new At(...re)[a0_0x22ca69(0x2ee)])[a0_0x22ca69(0x2fd)]('/chat',new nt(...re)['router'])[a0_0x22ca69(0x2fd)](a0_0x22ca69(0x478),new ft(...re)['router'])['use']('/webhook',new Tt(...re)[a0_0x22ca69(0x2ee)])[a0_0x22ca69(0x2fd)]('/automate',new Ot(...re)[a0_0x22ca69(0x2ee)]);var m=class{constructor(..._0x5abe34){const _0x21da3d=a0_0x22ca69;throw{'status':0x190,'error':_0x21da3d(0x614),'message':_0x5abe34[_0x21da3d(0x6a0)]>0x0?_0x5abe34:void 0x0};}},oe=class{constructor(..._0x3a53e2){const _0x326be3=a0_0x22ca69;throw{'status':0x191,'error':_0x326be3(0x623),'message':_0x3a53e2[_0x326be3(0x6a0)]>0x0?_0x3a53e2:void 0x0};}},Z=class{constructor(..._0xda2442){const _0x54e739=a0_0x22ca69;throw{'status':0x193,'error':_0x54e739(0x7e6),'message':_0xda2442['length']>0x0?_0xda2442:void 0x0};}},U=class{constructor(..._0x52bbd3){const _0x437221=a0_0x22ca69;throw{'status':0x194,'error':_0x437221(0x293),'message':_0x52bbd3[_0x437221(0x6a0)]>0x0?_0x52bbd3:void 0x0};}},x=class{constructor(..._0x86eaee){const _0x58dcc1=a0_0x22ca69;throw{'status':0x1f4,'error':_0x58dcc1(0x1e7),'message':_0x86eaee[_0x58dcc1(0x6a0)]>0x0?_0x86eaee:void 0x0};}},fe=require(a0_0x22ca69(0x732));async function Is(_0x20e7cd){const _0x5c974c=a0_0x22ca69;let _0x24bb62=new $(Is[_0x5c974c(0x7cc)]),_0x3f3fd8=R[_0x5c974c(0x2ec)](),_0x198f23=_0x3f3fd8['db'](S[_0x5c974c(0x268)]('DATABASE')[_0x5c974c(0x5a1)][_0x5c974c(0x2fe)]+_0x5c974c(0x43d))[_0x5c974c(0x4e5)](_0x20e7cd),_0x301d7d=async(_0x2241d3,_0x3e7917)=>{const _0x204d71=_0x5c974c;try{return await _0x3f3fd8[_0x204d71(0x58f)](),await _0x198f23['replaceOne']({'_id':_0x3e7917},JSON['parse'](JSON['stringify'](_0x2241d3,fe['BufferJSON']['replacer'])),{'upsert':!0x0});}catch{}},_0x34a010=async _0x430d3b=>{const _0x26d35d=_0x5c974c;try{await _0x3f3fd8['connect']();let _0x945adf=await _0x198f23[_0x26d35d(0x743)]({'_id':_0x430d3b}),_0x53ad43=JSON[_0x26d35d(0x3d0)](_0x945adf);return JSON[_0x26d35d(0x4d0)](_0x53ad43,fe[_0x26d35d(0x147)][_0x26d35d(0x3e4)]);}catch{}},_0x916a9d=async _0x503634=>{const _0x9bc9d9=_0x5c974c;try{return await _0x3f3fd8[_0x9bc9d9(0x58f)](),await _0x198f23[_0x9bc9d9(0x4d8)]({'_id':_0x503634});}catch{}},_0x1aa649=await _0x34a010('creds')||(0x0,fe[_0x5c974c(0x282)])();return{'state':{'creds':_0x1aa649,'keys':{'get':async(_0x2a4557,_0x20e6d8)=>{const _0x57016d=_0x5c974c;let _0x34c3b5={};return await Promise[_0x57016d(0x67b)](_0x20e6d8[_0x57016d(0x322)](async _0x204c1f=>{const _0x47428f=_0x57016d;let _0x4b2dcc=await _0x34a010(_0x2a4557+'-'+_0x204c1f);_0x2a4557===_0x47428f(0x4f8)&&_0x4b2dcc&&(_0x4b2dcc=fe['proto'][_0x47428f(0x38d)]['AppStateSyncKeyData']['fromObject'](_0x4b2dcc)),_0x34c3b5[_0x204c1f]=_0x4b2dcc;})),_0x34c3b5;},'set':async _0xbf02a=>{let _0x329614=[];for(let _0x1ca802 in _0xbf02a)for(let _0x46a642 in _0xbf02a[_0x1ca802]){let _0x5c48ae=_0xbf02a[_0x1ca802][_0x46a642],_0xf177d7=_0x1ca802+'-'+_0x46a642;_0x329614['push'](_0x5c48ae?_0x301d7d(_0x5c48ae,_0xf177d7):_0x916a9d(_0xf177d7));}await Promise['all'](_0x329614);}}},'saveCreds':async()=>_0x301d7d(_0x1aa649,'creds')};}var Ds=T(require(a0_0x22ca69(0x10b))),Ps=T(require(a0_0x22ca69(0x549))),Pt=require(a0_0x22ca69(0x732)),Ci=require(a0_0x22ca69(0x59a)),Dt=require(a0_0x22ca69(0x732)),xt;function Oo(_0x37e789){const _0x586d7d=a0_0x22ca69;return xt||(xt=(0x0,Ci[_0x586d7d(0x49c)])({'url':_0x37e789['URI']}),xt[_0x586d7d(0x58f)]()),xt;}var de=class u{constructor(_0x780323,_0x47ed8c){const _0x465515=a0_0x22ca69;this[_0x465515(0x40b)]=_0x780323,this[_0x465515(0x246)]=_0x47ed8c,this[_0x465515(0x41b)]=new $(u[_0x465515(0x7cc)]),this[_0x465515(0x602)]=Oo(_0x780323);}set[a0_0x22ca69(0x79a)](_0x741b7f){const _0x19b840=a0_0x22ca69;this[_0x19b840(0x246)]=_0x741b7f;}async[a0_0x22ca69(0x4c3)](){const _0xb44d7d=a0_0x22ca69;try{return await this['client']['sendCommand']([_0xb44d7d(0x22b),this[_0xb44d7d(0x40b)]['PREFIX_KEY']+':*']);}catch(_0x372e9c){this[_0xb44d7d(0x41b)][_0xb44d7d(0x3d5)](_0x372e9c);}}async['writeData'](_0x258f7d,_0x490b11){const _0x5b3055=a0_0x22ca69;try{let _0x5ecb9a=JSON[_0x5b3055(0x3d0)](_0x490b11,Dt[_0x5b3055(0x147)][_0x5b3055(0x1ba)]);return await this[_0x5b3055(0x602)][_0x5b3055(0x1bc)](this[_0x5b3055(0x40b)][_0x5b3055(0x103)]+':'+this[_0x5b3055(0x246)],_0x258f7d,_0x5ecb9a);}catch(_0x5ab317){this[_0x5b3055(0x41b)]['error'](_0x5ab317);}}async[a0_0x22ca69(0x397)](){const _0x50818a=a0_0x22ca69;try{let _0x11aeee=await this[_0x50818a(0x602)][_0x50818a(0x481)](this[_0x50818a(0x40b)][_0x50818a(0x103)]+':'+this[_0x50818a(0x246)]);if(_0x11aeee){for(let _0xd0fa93 in _0x11aeee)Object[_0x50818a(0x1b7)][_0x50818a(0x4ea)][_0x50818a(0x73e)](_0x11aeee,_0xd0fa93)&&(_0x11aeee[_0xd0fa93]=JSON[_0x50818a(0x4d0)](_0x11aeee[_0xd0fa93],Dt[_0x50818a(0x147)]['reviver']));return _0x11aeee;}}catch(_0x187122){this[_0x50818a(0x41b)][_0x50818a(0x3d5)](_0x187122);}}async[a0_0x22ca69(0x64f)](_0x54d0ef){const _0x4abee6=a0_0x22ca69;try{let _0x472bc0=await this[_0x4abee6(0x602)][_0x4abee6(0x80)](this[_0x4abee6(0x40b)][_0x4abee6(0x103)]+':'+this['instanceName'],_0x54d0ef);if(_0x472bc0)return JSON[_0x4abee6(0x4d0)](_0x472bc0,Dt['BufferJSON'][_0x4abee6(0x3e4)]);}catch(_0x277562){this[_0x4abee6(0x41b)]['error'](_0x277562);}}async[a0_0x22ca69(0x2d7)](_0x141ba5){const _0x30f851=a0_0x22ca69;try{return await this[_0x30f851(0x602)][_0x30f851(0x7cb)](this[_0x30f851(0x40b)][_0x30f851(0x103)]+':'+this[_0x30f851(0x246)],_0x141ba5);}catch(_0x5e190f){this[_0x30f851(0x41b)][_0x30f851(0x3d5)](_0x5e190f);}}async[a0_0x22ca69(0x2f4)](_0x5d4b0e){const _0x587def=a0_0x22ca69;try{return await this[_0x587def(0x602)][_0x587def(0x7b1)](_0x5d4b0e||this['redisEnv']['PREFIX_KEY']+':'+this['instanceName']);}catch(_0x5cda19){this['logger'][_0x587def(0x3d5)](_0x5cda19);}}};async function Ts(_0x192cae,_0x1fe7f4){const _0x298a4=a0_0x22ca69;let _0x2e8f6c=new $(Ts[_0x298a4(0x7cc)]),_0x593d7c=new de(_0x192cae,_0x1fe7f4),_0x39f30f=async(_0x147bda,_0x22ca00)=>{const _0x2bb6c2=_0x298a4;try{return await _0x593d7c[_0x2bb6c2(0x516)](_0x22ca00,_0x147bda);}catch(_0x5c35a7){return _0x2e8f6c[_0x2bb6c2(0x3d5)]({'localError':_0x2bb6c2(0x516),'error':_0x5c35a7});}},_0x3fb258=async _0x4c40c6=>{const _0x2329c7=_0x298a4;try{return await _0x593d7c['readData'](_0x4c40c6);}catch(_0x5359a3){_0x2e8f6c['error']({'readData':_0x2329c7(0x516),'error':_0x5359a3});return;}},_0x53fe29=async _0xf6e339=>{const _0x1e4e10=_0x298a4;try{return await _0x593d7c[_0x1e4e10(0x2d7)](_0xf6e339);}catch(_0x381094){_0x2e8f6c['error']({'readData':_0x1e4e10(0x2d7),'error':_0x381094});}},_0x2bc9d5=await _0x3fb258('creds')||(0x0,Pt[_0x298a4(0x282)])();return{'state':{'creds':_0x2bc9d5,'keys':{'get':async(_0x213066,_0x446220)=>{const _0x39f9c6=_0x298a4;let _0x3e9a8f={};return await Promise[_0x39f9c6(0x67b)](_0x446220[_0x39f9c6(0x322)](async _0x3b9a31=>{const _0x5da957=_0x39f9c6;let _0x46c9e3=await _0x3fb258(_0x213066+'-'+_0x3b9a31);_0x213066===_0x5da957(0x4f8)&&_0x46c9e3&&(_0x46c9e3=Pt[_0x5da957(0x279)][_0x5da957(0x38d)][_0x5da957(0x197)][_0x5da957(0x5c3)](_0x46c9e3)),_0x3e9a8f[_0x3b9a31]=_0x46c9e3;})),_0x3e9a8f;},'set':async _0x332a39=>{const _0x5c066a=_0x298a4;let _0x12a9f1=[];for(let _0x3f78a3 in _0x332a39)for(let _0x43dfe8 in _0x332a39[_0x3f78a3]){let _0x1dcd0c=_0x332a39[_0x3f78a3][_0x43dfe8],_0x31e1d3=_0x3f78a3+'-'+_0x43dfe8;_0x12a9f1[_0x5c066a(0x35a)](_0x1dcd0c?await _0x39f30f(_0x1dcd0c,_0x31e1d3):await _0x53fe29(_0x31e1d3));}await Promise[_0x5c066a(0x67b)](_0x12a9f1);}}},'saveCreds':async()=>await _0x39f30f(_0x2bc9d5,_0x298a4(0x608))};}var L=T(require('fs')),H=require(a0_0x22ca69(0x62c)),Ut=T(require(a0_0x22ca69(0x10f))),jt=require(a0_0x22ca69(0x367)),Ei=require(a0_0x22ca69(0x1f6)),vi=require('util'),Ni=T(require(a0_0x22ca69(0x383))),ve=class extends _{constructor(_0x2253f4,_0x318b53,_0x72c65b){const _0xebc42a=a0_0x22ca69;super(_0x318b53),this['cacheInstanceModel']=_0x2253f4,this[_0xebc42a(0x2b1)]=_0x318b53,this['dbConnection']=_0x72c65b;}async['createOrUpdate'](_0x3ace6c,_0xc338e7){const _0xcb9d05=a0_0x22ca69;try{if(this['dbSettings']['ENABLED']){console['log'](_0xcb9d05(0x216)+_0xc338e7+_0xcb9d05(0x6e2),_0x3ace6c);let _0x13872c=await this[_0xcb9d05(0x196)][_0xcb9d05(0xf6)]({'_id':_0xc338e7},{'$set':_0x3ace6c},{'new':!0x0,'upsert':!0x0});return console[_0xcb9d05(0x2f8)]('Database\x20update\x20result:',_0x13872c),_0x13872c;}}catch(_0x141aa1){throw console['error'](_0xcb9d05(0x6d8),_0x141aa1),_0x141aa1;}return null;}async[a0_0x22ca69(0x4d8)](_0x52fc32){const _0x1b8d85=a0_0x22ca69;try{let _0x3346e7=A(_0x52fc32[_0x1b8d85(0x15f)]);return{'deletedCount':(await this[_0x1b8d85(0x196)][_0x1b8d85(0x4d8)](_0x3346e7))['deletedCount']};}catch(_0x32d0f6){return{'error':_0x32d0f6?.['toString']()};}}async[a0_0x22ca69(0x743)](_0x1b0d2a){const _0x3082c9=a0_0x22ca69;try{let _0x3404af=A(_0x1b0d2a[_0x3082c9(0x15f)]);return await this[_0x3082c9(0x196)]['findOne'](_0x3404af)[_0x3082c9(0x3c6)]();}catch{return null;}}},kt=(0x0,vi[a0_0x22ca69(0x5ac)])(Ei[a0_0x22ca69(0x298)]),_o=S[a0_0x22ca69(0x268)]('PROXY'),Os=class{constructor(){const _0x3e346d=a0_0x22ca69;this['cacheInstanceRepository']=new ve(Ge,S),(!this[_0x3e346d(0x687)]||!this[_0x3e346d(0x7c7)])&&_o&&this[_0x3e346d(0x2d1)]()[_0x3e346d(0x700)](()=>{const _0x3f61bd=_0x3e346d;console[_0x3f61bd(0x2f8)](_0x3f61bd(0x77d)+this['ipv6Prefix']),console[_0x3f61bd(0x2f8)](_0x3f61bd(0x413)+this[_0x3f61bd(0x7c7)]);})[_0x3e346d(0xc7)](_0x5be685=>{const _0x55104f=_0x3e346d;console[_0x55104f(0x3d5)](_0x55104f(0x11e)+_0x5be685[_0x55104f(0x3d1)]);});}async[a0_0x22ca69(0x2d1)](){const _0x133dfb=a0_0x22ca69;try{let {stdout:_0x395a7d}=await kt(_0x133dfb(0x204));console[_0x133dfb(0x2f8)](_0x133dfb(0x3b6)+_0x395a7d);let _0x3c3abd=_0x395a7d[_0x133dfb(0x6fc)]('\x0a')[_0x133dfb(0x322)](_0x47d4d8=>_0x47d4d8[_0x133dfb(0x6fc)]('\x20')[0x0])[_0x133dfb(0x716)](_0x43e7d0=>!_0x43e7d0[_0x133dfb(0x54e)]('lo')&&!_0x43e7d0[_0x133dfb(0x54e)](_0x133dfb(0x3a0))&&!_0x43e7d0[_0x133dfb(0x54e)](_0x133dfb(0x6fb))&&!_0x43e7d0[_0x133dfb(0x54e)]('wl')&&!_0x43e7d0[_0x133dfb(0x54e)]('@'));if(console['log'](_0x133dfb(0x5db)+_0x3c3abd),_0x3c3abd[_0x133dfb(0x6a0)]===0x0)throw new Error(_0x133dfb(0x5a2));this[_0x133dfb(0x7c7)]=_0x3c3abd[0x0];let {stdout:_0x17595e}=await kt(_0x133dfb(0x313)+this[_0x133dfb(0x7c7)]);console[_0x133dfb(0x2f8)](_0x133dfb(0x2d9)+_0x17595e);let _0x52aeab=_0x17595e[_0x133dfb(0x6fc)]('\x0a')[_0x133dfb(0x22d)](_0x579d4d=>_0x579d4d[_0x133dfb(0x54e)](_0x133dfb(0x696))&&_0x579d4d['includes'](_0x133dfb(0x462)));if(!_0x52aeab)throw new Error(_0x133dfb(0x48f));let _0x2199d5=_0x52aeab[_0x133dfb(0x44f)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x2199d5)throw new Error(_0x133dfb(0x588));let [_0x52c008,_0x17a431,_0x2b186a]=_0x2199d5,_0x4b7818=Math[_0x133dfb(0x17f)](Number(_0x2b186a)/0x10),_0x4a037a=Number(_0x2b186a)%0x10,_0xfb3c9d=_0x17a431[_0x133dfb(0x6fc)](':')[_0x133dfb(0x6ff)](0x0,_0x4b7818)[_0x133dfb(0x20b)](':');if(_0x4a037a>0x0){let _0x40c295=_0x17a431['split'](':')[_0x4b7818],_0x2da66c=0xffff<<0x10-_0x4a037a&0xffff,_0x495363=(parseInt(_0x40c295,0x10)&_0x2da66c)[_0x133dfb(0x12e)](0x10)['padStart'](0x4,'0');_0xfb3c9d+=':'+_0x495363;}this['ipv6Prefix']=_0xfb3c9d+':';}catch(_0x455d66){console[_0x133dfb(0x3d5)](_0x133dfb(0x1af),_0x455d66);}}async['configureIPv6'](_0x1a7ad2){const _0x14f4f0=a0_0x22ca69;let _0x4494b3=_0x14f4f0(0x578)+_0x1a7ad2+_0x14f4f0(0x762)+this['networkInterface'];try{await kt(_0x4494b3),console[_0x14f4f0(0x2f8)](_0x14f4f0(0x1a3)+_0x1a7ad2);}catch(_0x5ca4f8){console[_0x14f4f0(0x3d5)](_0x14f4f0(0x7a4)+_0x5ca4f8);}}async['removeIPv6'](_0x1b9162){const _0x44322f=a0_0x22ca69;let _0x47f60e=_0x44322f(0x7b8)+_0x1b9162+_0x44322f(0x762)+this[_0x44322f(0x7c7)];try{await kt(_0x47f60e),console[_0x44322f(0x2f8)](_0x44322f(0x6db)+_0x1b9162);}catch(_0x3d0c86){console[_0x44322f(0x3d5)](_0x44322f(0x47e)+_0x3d0c86);}}[a0_0x22ca69(0x25c)](){const _0x8bc5b4=a0_0x22ca69;return _0x8bc5b4(0x4b7)[_0x8bc5b4(0x1f1)](/X/g,()=>_0x8bc5b4(0x33d)['charAt'](Math[_0x8bc5b4(0x17f)](Math[_0x8bc5b4(0xe0)]()*0x10)));}[a0_0x22ca69(0x7a8)](_0x2b4c33,_0x22118e){const _0x4fa21a=a0_0x22ca69;let _0x2b90c8=_0x22118e[_0x4fa21a(0x6fc)](':');return _0x2b90c8[0x0]=(parseInt(_0x2b90c8[0x0],0x10)^0x2)[_0x4fa21a(0x12e)](0x10)['padStart'](0x2,'0'),''+_0x2b4c33+_0x2b90c8[0x0]+_0x2b90c8[0x1]+':'+_0x2b90c8[0x2]+_0x4fa21a(0x57b)+_0x2b90c8[0x3]+':'+_0x2b90c8[0x4]+_0x2b90c8[0x5];}[a0_0x22ca69(0x225)](){const _0x21d9db=a0_0x22ca69;let _0x20f12d=this[_0x21d9db(0x687)];_0x20f12d['endsWith'](':')||(_0x20f12d+=':');let _0x2fd983=this[_0x21d9db(0x25c)]();return this[_0x21d9db(0x7a8)](_0x20f12d,_0x2fd983);}[a0_0x22ca69(0x1fb)](_0x33d30c){const _0x151382=a0_0x22ca69;return new RegExp(_0x151382(0x49d))[_0x151382(0x3da)](_0x33d30c);}async[a0_0x22ca69(0x53f)](_0x733d3c){const _0x2af977=a0_0x22ca69;let _0x158729=[{'url':_0x2af977(0x5b3),'parse':_0x354908=>_0x354908['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0x273902=>_0x273902['ip']},{'url':_0x2af977(0x5ec),'parse':_0x3163c9=>_0x3163c9[_0x2af977(0x585)]()},{'url':_0x2af977(0x56f),'parse':_0x3a636f=>_0x3a636f[_0x2af977(0x585)]()}],_0x4a5f06=_0x158729[Math['floor'](Math[_0x2af977(0xe0)]()*_0x158729[_0x2af977(0x6a0)])];try{let _0x29e13f=await Ni[_0x2af977(0x4ba)][_0x2af977(0x268)](_0x4a5f06['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x733d3c}}),_0xbae273=_0x4a5f06['parse'](_0x29e13f[_0x2af977(0x758)]);return _0xbae273[_0x2af977(0x799)]()===_0x733d3c['toLowerCase']()?(console[_0x2af977(0x2f8)](_0x2af977(0x143)+_0x733d3c),!0x0):(console[_0x2af977(0x3d5)](_0x2af977(0x109)+_0x733d3c+_0x2af977(0xfb)+_0xbae273),!0x1);}catch(_0x184677){return console[_0x2af977(0x3d5)]('Error\x20testing\x20IP\x20with\x20'+_0x4a5f06[_0x2af977(0x640)]+':\x20'+_0x184677[_0x2af977(0x3d1)]),!0x1;}}async['createIPv6'](_0x3fd5d4,_0x3219ae){const _0x3f395a=a0_0x22ca69;if(!this['ipv6Prefix']||!this[_0x3f395a(0x7c7)])return console[_0x3f395a(0x3d5)](_0x3f395a(0x34c)),null;let _0x4ef3ad;do _0x4ef3ad=this[_0x3f395a(0x225)](),console[_0x3f395a(0x2f8)](_0x3f395a(0x275)+_0x4ef3ad);while(!await this[_0x3f395a(0x2cc)](_0x4ef3ad));await this['configureIPv6'](_0x4ef3ad),console[_0x3f395a(0x2f8)](_0x3f395a(0x2dd)+_0x4ef3ad);let _0x746f60={'_id':_0x3fd5d4+'-'+_0x3219ae,'ip':_0x4ef3ad},_0x49f0b0=await this[_0x3f395a(0x4e2)]['createOrUpdate'](_0x746f60,_0x746f60[_0x3f395a(0x646)]);return console[_0x3f395a(0x2f8)]('Cache\x20instance\x20update\x20result:\x20'+_0x49f0b0),_0x4ef3ad;}async[a0_0x22ca69(0x2cc)](_0x3aa117){const _0x1f4783=a0_0x22ca69;return this[_0x1f4783(0x1fb)](_0x3aa117)?!await this[_0x1f4783(0x4e2)][_0x1f4783(0x743)]({'where':{'ip':_0x3aa117}}):!0x1;}async['removeIPv6ById'](_0x50939a,_0x63796d){const _0x206f51=a0_0x22ca69;let _0x19a82b=_0x50939a+'-'+_0x63796d,_0x5ba2b4=await this[_0x206f51(0x4e2)]['findOne']({'where':{'_id':_0x19a82b}});_0x5ba2b4&&_0x5ba2b4['ip']&&(await this[_0x206f51(0x2ab)](_0x5ba2b4['ip']),await this['cacheInstanceRepository'][_0x206f51(0x4d8)]({'where':{'_id':_0x19a82b}}));}},xo=new Os(),ae=xo,ks='Safari',_i,pe=null,Oa=null,Do=0x3,Po=null,$i=S[a0_0x22ca69(0x268)](a0_0x22ca69(0x78b))[a0_0x22ca69(0x610)]['KEY'],Ri=S['get'](a0_0x22ca69(0x596));async function ko(){const _0x202b0c=a0_0x22ca69;let _0x4d3fd2=await Ee[_0x202b0c(0x743)]();pe=_0x4d3fd2?.['WebhookGlobal']??null,Po=_0x4d3fd2?.[_0x202b0c(0x338)]??null,ks=_0x4d3fd2?.[_0x202b0c(0xe5)]??'Safari',_i=_0x4d3fd2?.[_0x202b0c(0x770)]??W??_0x202b0c(0x43c);}async function Lo(){await ko();}Lo();var Lt={},Ne=class u{constructor(_0x586141,_0x175975,_0x543cbc){const _0x4e7095=a0_0x22ca69;this[_0x4e7095(0x2b1)]=_0x586141,this[_0x4e7095(0x795)]=_0x175975,this['repository']=_0x543cbc,this[_0x4e7095(0x644)]=null,this[_0x4e7095(0x41b)]=new $(u[_0x4e7095(0x7cc)]),this[_0x4e7095(0x6de)]={},this[_0x4e7095(0x52b)]={},this[_0x4e7095(0x667)]={'state':_0x4e7095(0x18c)},this[_0x4e7095(0x3f9)]=(0x0,j[_0x4e7095(0x20b)])(ne,_0x4e7095(0x487)),this[_0x4e7095(0x219)]=new Ps[(_0x4e7095(0x4ba))](),this['userDevicesCache']=new Ps[(_0x4e7095(0x4ba))](),this[_0x4e7095(0x6ee)]=!0x1,this[_0x4e7095(0x356)]={'status.instance':'/wa-connection-update','connection.update':'/wa-connection-update','qrcode.updated':'/wa-qrcode','messages.upsert':'/wa-message','send.message':_0x4e7095(0xdc),'messages.update':_0x4e7095(0x2f6),'group.upsert':'/wa-groups','group.update':_0x4e7095(0x566),'group-participants.update':_0x4e7095(0x566),'messages.set':'/wa-all-message','contacts.set':_0x4e7095(0x546),'contacts.upsert':_0x4e7095(0x546),'contacts.update':_0x4e7095(0x546),'presence.update':_0x4e7095(0x91),'chats.set':'/wa-chats','chats.update':_0x4e7095(0x305),'chats.upsert':_0x4e7095(0x305),'chats.delete':_0x4e7095(0x305)},this[_0x4e7095(0x31f)]=0x0,this['reconnectTimestamps']=[],this[_0x4e7095(0x434)]=0xea60,this[_0x4e7095(0xec)]=!0x1,this[_0x4e7095(0x251)]={'chats.upsert':async(_0x1843be,_0x1b0602)=>{const _0x283318=_0x4e7095;let _0x4eb761=[];for await(let _0x5a70fe of _0x1843be)_0x4eb761['push']({'_id':_0x5a70fe['id'],'owner':this[_0x283318(0x6de)][_0x283318(0x11a)],'group':_0x5a70fe['id'][_0x283318(0x673)](_0x283318(0x464)),'name':_0x5a70fe['name']||_0x5a70fe[_0x283318(0x461)]||null,'contactname':null,'lastmsg':_0x5a70fe[_0x283318(0xfa)]&&_0x5a70fe['conversationTimestamp']['toString']()['length']<0xd?_0x5a70fe['conversationTimestamp']*0x3e8:_0x5a70fe[_0x283318(0xfa)]||null,'archived':_0x5a70fe[_0x283318(0x5e2)]||!0x1,'unreadcount':_0x5a70fe[_0x283318(0x705)]||0x0,'ephemeralExpiration':_0x5a70fe['ephemeralExpiration']||0x0});this['sendDataWebhook']('chats.upsert',_0x4eb761);},'chats.update':async(_0x4b5ddc,_0x16b6e1)=>{const _0x55e731=_0x4e7095;for(let _0x663c81 of _0x4b5ddc){let _0x456f23={'_id':_0x663c81['id'],'owner':this[_0x55e731(0x6de)][_0x55e731(0x11a)],'archived':_0x663c81[_0x55e731(0x5e2)],'muteEndTime':_0x663c81[_0x55e731(0x17c)],'ephemeralExpiration':_0x663c81[_0x55e731(0xdd)]},_0x2ec42b=!0x1,_0x1efac9={};_0x456f23[_0x55e731(0x5e2)]!=null&&(this[_0x55e731(0x41b)][_0x55e731(0x36c)](this[_0x55e731(0x246)]+'\x20('+this[_0x55e731(0x6de)][_0x55e731(0x11a)]+_0x55e731(0x2fb)+_0x663c81['id']+'\x20:\x20'+_0x663c81[_0x55e731(0x5e2)]),_0x2ec42b=!0x0,_0x1efac9['archived']=_0x663c81[_0x55e731(0x5e2)]),_0x55e731(0x17c)in _0x663c81&&(this[_0x55e731(0x41b)][_0x55e731(0x36c)](this[_0x55e731(0x246)]+'\x20('+this[_0x55e731(0x6de)][_0x55e731(0x11a)]+_0x55e731(0x635)+_0x663c81['id']+_0x55e731(0x376)+(_0x663c81[_0x55e731(0x17c)]??'0')),_0x2ec42b=!0x0,_0x1efac9['muteEndTime']=_0x663c81[_0x55e731(0x17c)]??0x0),_0x55e731(0xdd)in _0x663c81&&(this['logger']['verbose'](this[_0x55e731(0x246)]+'\x20('+this['instance'][_0x55e731(0x11a)]+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x663c81['id']+_0x55e731(0x376)+(_0x663c81[_0x55e731(0xdd)]!==void 0x0?_0x663c81[_0x55e731(0xdd)]:_0x55e731(0x717))),_0x1efac9[_0x55e731(0xdd)]=_0x663c81[_0x55e731(0xdd)]===null?0x0:_0x663c81[_0x55e731(0xdd)],_0x2ec42b=!0x0);let _0x21a99f;_0x2ec42b&&(_0x21a99f=await this[_0x55e731(0x3b8)][_0x55e731(0x24b)][_0x55e731(0x489)]({'where':{'_id':_0x663c81['id']}},_0x1efac9,this[_0x55e731(0x6de)]['wuid'])),_0x21a99f&&J(this['instanceName'],_0x55e731(0x798),{'chat':_0x21a99f});}},'chats.delete':async _0x4ad8e4=>{const _0x522fa1=_0x4e7095;for(let _0x3e8c90 of _0x4ad8e4)if(_0x3e8c90[_0x522fa1(0x673)](_0x522fa1(0x464))){await this[_0x522fa1(0x3b8)]['chat'][_0x522fa1(0x552)]({'where':{'_id':_0x3e8c90}},this[_0x522fa1(0x6de)]['wuid']);let _0x1858ae={'where':{'key':{'remoteJid':_0x3e8c90}}};await this['repository'][_0x522fa1(0x3d1)]['delete'](_0x1858ae,this[_0x522fa1(0x6de)][_0x522fa1(0x11a)]);}else{await this[_0x522fa1(0x3b8)][_0x522fa1(0x24b)][_0x522fa1(0x489)]({'where':{'_id':_0x3e8c90}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x522fa1(0x6de)][_0x522fa1(0x11a)]);let _0xce064f={'where':{'key':{'remoteJid':_0x3e8c90}}};await this[_0x522fa1(0x3b8)][_0x522fa1(0x3d1)][_0x522fa1(0x552)](_0xce064f,this[_0x522fa1(0x6de)][_0x522fa1(0x11a)]);}this[_0x522fa1(0x44a)](_0x522fa1(0x244),[..._0x4ad8e4]);}},this['contactHandle']={'contacts.upsert':async(_0x3147a2,_0x48e74f)=>{const _0x59606e=_0x4e7095;let _0x164f4f=await this['repository'][_0x59606e(0x301)][_0x59606e(0x22d)]({'where':{}},this[_0x59606e(0x6de)]['wuid']),_0x5beb5d=[];for await(let _0x48187d of _0x3147a2)_0x164f4f[_0x59606e(0x22d)](_0x3c44bc=>_0x3c44bc[_0x59606e(0x646)]===_0x48187d['id'])||_0x5beb5d[_0x59606e(0x35a)]({'_id':_0x48187d['id'],'pushName':_0x48187d?.[_0x59606e(0x7cc)]||_0x48187d?.[_0x59606e(0x577)],'owner':this[_0x59606e(0x6de)]['wuid']});this[_0x59606e(0x44a)](_0x59606e(0x369),_0x5beb5d),await this[_0x59606e(0x3b8)][_0x59606e(0x301)][_0x59606e(0x455)](_0x5beb5d);},'contacts.update':async(_0x9d0af3,_0x5ba2a9)=>{const _0xba60c4=_0x4e7095;let _0x5b0f4c=[];for await(let _0x2c9bd8 of _0x9d0af3)_0x5b0f4c[_0xba60c4(0x35a)]({'_id':_0x2c9bd8['id'],'pushName':_0x2c9bd8?.[_0xba60c4(0x7cc)]??_0x2c9bd8?.[_0xba60c4(0x577)],'owner':this[_0xba60c4(0x6de)][_0xba60c4(0x11a)]});this[_0xba60c4(0x44a)]('contacts.update',_0x5b0f4c);}},this[_0x4e7095(0x37d)]={'messaging-history.set':async({messages:_0x2df342,chats:_0x6694a,isLatest:_0xa4d6fc},_0x2052b5)=>{const _0x203a78=_0x4e7095;if(_0xa4d6fc){let _0x33fbb7=await Promise['all'](_0x6694a[_0x203a78(0x322)](async _0x2db495=>({'_id':_0x2db495['id'],'owner':this[_0x203a78(0x6de)][_0x203a78(0x11a)],'group':_0x2db495['id'][_0x203a78(0x673)]('@g.us'),'name':_0x2db495[_0x203a78(0x7cc)]||_0x2db495[_0x203a78(0x461)]||_0x2db495[_0x203a78(0x4e0)]||null,'contactname':null,'lastmsg':_0x2db495[_0x203a78(0xfa)]&&_0x2db495[_0x203a78(0xfa)][_0x203a78(0x12e)]()[_0x203a78(0x6a0)]<0xd?_0x2db495[_0x203a78(0xfa)]*0x3e8:_0x2db495[_0x203a78(0xfa)]||null,'archived':_0x2db495[_0x203a78(0x5e2)]||!0x1,'unreadcount':_0x2db495['unreadCount']||0x0,'ephemeralExpiration':_0x2db495[_0x203a78(0xdd)]||0x0,'muteEndTime':_0x2db495['muteEndTime']||0x0})));this[_0x203a78(0x44a)]('chats.set',_0x33fbb7),await this[_0x203a78(0x683)](_0x33fbb7,_0x2052b5);}let _0x457d96=[],_0x40945d=Date[_0x203a78(0x690)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x984aed]of Object['entries'](_0x2df342)){if(_0x984aed[_0x203a78(0x3d1)]?.['protocolMessage']||_0x984aed[_0x203a78(0x3d1)]?.[_0x203a78(0x790)]||!_0x984aed[_0x203a78(0x3d1)]||_0x984aed['key']['remoteJid']===_0x203a78(0x15c)||(Ds['default'][_0x203a78(0x1aa)](_0x984aed?.[_0x203a78(0xee)])&&(_0x984aed[_0x203a78(0xee)]=_0x984aed[_0x203a78(0xee)]?.[_0x203a78(0x53e)]()),_0x984aed[_0x203a78(0xee)]&&_0x984aed[_0x203a78(0xee)][_0x203a78(0x12e)]()[_0x203a78(0x6a0)]<0xd&&(_0x984aed[_0x203a78(0xee)]=_0x984aed[_0x203a78(0xee)]*0x3e8),_0x984aed[_0x203a78(0xee)]<_0x40945d))continue;let _0x585c20=(0x0,w[_0x203a78(0x38e)])(_0x984aed[_0x203a78(0x3d1)]),_0x35d909=(0x0,w[_0x203a78(0x6f7)])(_0x585c20),{message_normalized:_0x500848}=this['normalizeMessage'](_0x585c20,_0x35d909,null);Object['keys'](_0x500848)[_0x203a78(0x6a0)]>0x0&&_0x457d96['push']({'_id':_0x984aed[_0x203a78(0x1cc)]['id'],'key':_0x984aed[_0x203a78(0x1cc)],'pushName':_0x984aed[_0x203a78(0x45b)],'participant':_0x984aed['participant'],'message':_0x585c20,'messageType':_0x35d909,'message_normalized':{'key':_0x984aed[_0x203a78(0x1cc)],'pushName':_0x984aed[_0x203a78(0x45b)],'messageTimestamp':_0x984aed[_0x203a78(0xee)],..._0x500848},'messageTimestamp':_0x984aed[_0x203a78(0xee)],'owner':this['instance'][_0x203a78(0x11a)]});}_0x2052b5[_0x203a78(0x37a)]&&_0x457d96[_0x203a78(0x6a0)]>0x0&&(this[_0x203a78(0x41b)][_0x203a78(0x36c)](this[_0x203a78(0x246)]+'\x20('+this['instance'][_0x203a78(0x11a)]+_0x203a78(0x75f)+_0x457d96[_0x203a78(0x6a0)]+'\x20mensagens\x20de\x20'+this[_0x203a78(0x6de)][_0x203a78(0x11a)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x203a78(0x3b8)][_0x203a78(0x3d1)][_0x203a78(0x455)]([..._0x457d96],this['instance'][_0x203a78(0x11a)])),this['sendDataWebhook']('messages.set',[..._0x457d96]),_0x2df342=void 0x0;},'messages.upsert':async({messages:_0x3aa624,type:_0x4efc17},_0xe515c8)=>{const _0x391713=_0x4e7095;for(let _0x4ef816 of _0x3aa624){if(this[_0x391713(0x52b)]?.[_0x391713(0x6d0)]&&_0x4ef816[_0x391713(0x1cc)][_0x391713(0x61d)][_0x391713(0x54e)](_0x391713(0x464))){this[_0x391713(0x41b)][_0x391713(0x36c)](this['instanceName']+'\x20('+this[_0x391713(0x6de)][_0x391713(0x11a)]+_0x391713(0x543));return;}if(_0x4efc17!=='notify'||!_0x4ef816?.[_0x391713(0x3d1)]||_0x4ef816[_0x391713(0x3d1)]?.[_0x391713(0x276)]||_0x4ef816[_0x391713(0x3d1)]['senderKeyDistributionMessage']||_0x4ef816[_0x391713(0x1cc)][_0x391713(0x61d)]===_0x391713(0x15c))return;let _0x4f6d9c=null,_0x325f65=null;if(_0x4ef816[_0x391713(0x74c)]&&_0x4ef816[_0x391713(0x74c)][0x0]===_0x391713(0x733)){console[_0x391713(0x3d5)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),Lt[_0x4ef816[_0x391713(0x1cc)]['id']]=_0x4ef816,this['retrySendMessage'](_0x4ef816,0x0);return;}Lt[_0x4ef816[_0x391713(0x1cc)]['id']]&&(console[_0x391713(0x3d5)](_0x391713(0x6a1)),delete Lt[_0x4ef816[_0x391713(0x1cc)]['id']]);try{_0x4f6d9c=await this[_0x391713(0x3a7)](_0x4ef816),_0x325f65=_0x4f6d9c?_0x4f6d9c[_0x391713(0x20b)](','):null;}catch(_0x2e6fe9){this[_0x391713(0x41b)][_0x391713(0x36c)](this[_0x391713(0x246)]+'\x20('+this[_0x391713(0x6de)]['wuid']+_0x391713(0x75f)+(_0x2e6fe9 instanceof Error?_0x2e6fe9[_0x391713(0x3d1)]:JSON[_0x391713(0x3d0)](_0x2e6fe9,null,0x2))),_0x325f65=_0x391713(0x65e);}this['client'][_0x391713(0x75e)](_0x391713(0x34b)),Ds['default'][_0x391713(0x1aa)](_0x4ef816['messageTimestamp'])&&(_0x4ef816[_0x391713(0xee)]=_0x4ef816[_0x391713(0xee)]?.['toNumber']()),_0x4ef816['messageTimestamp']&&_0x4ef816[_0x391713(0xee)][_0x391713(0x12e)]()[_0x391713(0x6a0)]<0xd&&(_0x4ef816[_0x391713(0xee)]=_0x4ef816[_0x391713(0xee)]*0x3e8);let _0x562941=_0x4ef816['message'],_0x274ceb=(0x0,w[_0x391713(0x38e)])(_0x562941),_0x4e09ca=(0x0,w[_0x391713(0x6f7)])(_0x274ceb),{messageContent:_0x53d416,message_normalized:_0x4e215d}=this[_0x391713(0x9a)](_0x274ceb,_0x4e09ca,_0x325f65);_0x4e09ca===_0x391713(0x276)&&_0x53d416?.[_0x391713(0x720)]&&(_0x4e09ca=_0x391713(0x720));let _0x5b1400,_0x187e1f=_0x4ef816[_0x391713(0x1cc)][_0x391713(0x61d)][_0x391713(0x673)](_0x391713(0x464));if(_0x4ef816[_0x391713(0x1cc)]['fromMe'])_0x5b1400=this[_0x391713(0x6de)][_0x391713(0x5fa)];else{let _0x3135f0=_0x187e1f?_0x4ef816[_0x391713(0x1cc)][_0x391713(0x38f)]:_0x4ef816['key'][_0x391713(0x61d)];_0x5b1400=(await this[_0x391713(0x450)](_0x3135f0,_0x4ef816[_0x391713(0x45b)],!0x1))[_0x391713(0x7b7)][_0x391713(0x102)];}let _0x3c1f38={'_id':_0x4ef816[_0x391713(0x1cc)]['id'],'key':_0x4ef816['key'],'isGroup':_0x187e1f,'profilePictureUrl':_0x5b1400,'pushName':_0x4ef816[_0x391713(0x45b)],'message':_0x274ceb,'messageType':_0x4e09ca,'message_normalized':{'key':_0x4ef816[_0x391713(0x1cc)],'pushName':_0x4ef816[_0x391713(0x45b)],'messageTimestamp':_0x4ef816['messageTimestamp'],'source':(0x0,w[_0x391713(0x719)])(_0x4ef816[_0x391713(0x1cc)]['id']),..._0x4e215d},'messageTimestamp':_0x4ef816['messageTimestamp'],'owner':this[_0x391713(0x6de)][_0x391713(0x11a)],'source':(0x0,w[_0x391713(0x719)])(_0x4ef816[_0x391713(0x1cc)]['id']),'expiration':_0x53d416?.[_0x391713(0x42d)]?.[_0x391713(0x510)]||0x0};_0x53d416||(this['logger'][_0x391713(0x3d5)](_0x391713(0xe4)),this[_0x391713(0x41b)][_0x391713(0x3d5)](_0x3c1f38)),this[_0x391713(0x41b)][_0x391713(0x2f8)](this[_0x391713(0x246)]+'\x20('+this['instance'][_0x391713(0x11a)]+'):\x20'+(_0x3c1f38[_0x391713(0x1cc)]?.[_0x391713(0x325)]?_0x391713(0x475):'recebido\x20de')+'\x20['+_0x3c1f38[_0x391713(0x1cc)]?.[_0x391713(0x61d)][_0x391713(0x1f1)](_0x391713(0x605),'')+_0x391713(0x4eb)+_0x3c1f38[_0x391713(0x334)]+')'),_0x3c1f38['message_normalized']?.[_0x391713(0x1b8)]&&this[_0x391713(0x41b)][_0x391713(0x2f8)](_0x4ef816[_0x391713(0x1cc)]['id']+':\x20'+_0x3c1f38[_0x391713(0x2c2)]?.[_0x391713(0x1b8)]),await this[_0x391713(0x3b8)]['message']['insert']([_0x3c1f38],this[_0x391713(0x6de)][_0x391713(0x11a)]),this[_0x391713(0x44a)](_0x391713(0xd0),_0x3c1f38),J(this[_0x391713(0x246)],_0x391713(0x42e),{'message':_0x3c1f38}),_0x4ef816[_0x391713(0x1cc)][_0x391713(0x61d)]!==_0x391713(0x15c)&&await this[_0x391713(0x433)](_0xe515c8,_0x3c1f38,_0x391713(0x422));}},'messages.update':async(_0x4869a2,_0x54bc33)=>{const _0x22a729=_0x4e7095;let _0x16a0d7={0x0:_0x22a729(0xc4),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0x22a729(0x4fd),0x4:'READ',0x5:_0x22a729(0x748)};for await(let {key:_0x450ba2,update:_0x35f9ed}of _0x4869a2){if(this[_0x22a729(0x52b)]?.[_0x22a729(0x6d0)]&&_0x450ba2[_0x22a729(0x61d)]['includes'](_0x22a729(0x464))){this[_0x22a729(0x41b)][_0x22a729(0x36c)](this[_0x22a729(0x246)]+'\x20('+this[_0x22a729(0x6de)]['wuid']+_0x22a729(0x5d6));return;}if(_0x450ba2[_0x22a729(0x61d)]!==_0x22a729(0x15c)){let _0x43f03b=Date[_0x22a729(0x690)](),_0x22c167;_0x35f9ed[_0x22a729(0x3d1)]===null&&_0x35f9ed['status']===void 0x0?_0x22c167='DELETED':_0x22c167=_0x16a0d7[_0x35f9ed[_0x22a729(0x172)]];let _0x3d638a=_0x450ba2[_0x22a729(0x61d)][_0x22a729(0x1f1)](/:\d{1,2}@/g,'@'),_0x3a8eae={..._0x450ba2,'remoteJid':_0x3d638a,'status':_0x22c167,'datetime':_0x43f03b,'owner':this[_0x22a729(0x6de)][_0x22a729(0x11a)]};this[_0x22a729(0x44a)]('messages.update',_0x3a8eae),await this[_0x22a729(0x211)](_0x450ba2,_0x3a8eae);}}},'labels.association':async({type:_0x532cb1,association:_0x1db43e})=>{const _0x49e1a9=_0x4e7095;if(_0x1db43e[_0x49e1a9(0x399)]===_0x49e1a9(0x300)){let _0x29cf94,_0xaf92ed=0x0;for(;!_0x29cf94&&_0xaf92ed<this[_0x49e1a9(0x5ed)];)_0x29cf94=await this['repository'][_0x49e1a9(0x24b)][_0x49e1a9(0x743)]({'where':{'_id':_0x1db43e[_0x49e1a9(0x600)]}},this['instance'][_0x49e1a9(0x11a)]),_0x29cf94||(_0xaf92ed++,this[_0x49e1a9(0x41b)]['info'](this[_0x49e1a9(0x246)]+'\x20('+this[_0x49e1a9(0x6de)][_0x49e1a9(0x11a)]+'):\x20Chat\x20'+_0x1db43e[_0x49e1a9(0x600)]+_0x49e1a9(0x161)+this[_0x49e1a9(0x4da)]+_0x49e1a9(0x480)+_0xaf92ed+'/'+this[_0x49e1a9(0x5ed)]+')'),await this[_0x49e1a9(0x571)](this[_0x49e1a9(0x4da)]));if(!_0x29cf94){this[_0x49e1a9(0x41b)]['error']('Falhou\x20ao\x20encontrar\x20chat\x20'+_0x1db43e[_0x49e1a9(0x600)]+_0x49e1a9(0x615)+this['delayChatLabel_MAX_RETRIES']+'\x20tentativas.');return;}switch(_0x532cb1){case _0x49e1a9(0x6fa):console[_0x49e1a9(0x2f8)](_0x1db43e),await this[_0x49e1a9(0x3b8)][_0x49e1a9(0x24b)]['updateOne']({'where':{'_id':_0x1db43e['chatId']}},{'leadInfo.etiquetas':_0x1db43e[_0x49e1a9(0x53d)]},this[_0x49e1a9(0x6de)][_0x49e1a9(0x11a)],void 0x0,_0x49e1a9(0x15d));break;case'remove':console[_0x49e1a9(0x2f8)](_0x1db43e),await this[_0x49e1a9(0x3b8)][_0x49e1a9(0x24b)][_0x49e1a9(0x489)]({'where':{'_id':_0x1db43e[_0x49e1a9(0x600)]}},{'leadInfo.etiquetas':_0x1db43e[_0x49e1a9(0x53d)]},this[_0x49e1a9(0x6de)]['wuid'],void 0x0,'$pull');break;default:this[_0x49e1a9(0x41b)][_0x49e1a9(0x3d5)](_0x49e1a9(0x5ba)+_0x532cb1+']');}}},'labels.edit':async _0x5b97cf=>{const _0x12cf0f=_0x4e7095;if(!_0x5b97cf||!_0x5b97cf['id']){this['logger'][_0x12cf0f(0x3d5)](_0x12cf0f(0x111));return;}if(!_0x5b97cf[_0x12cf0f(0x71d)]){let _0x494b8b=['#ff9484','#64c4ff',_0x12cf0f(0x203),'#dfaef0',_0x12cf0f(0x3b4),_0x12cf0f(0x327),'#fe9dfe',_0x12cf0f(0x575),_0x12cf0f(0x26a),_0x12cf0f(0x1b6),'#01d0e2',_0x12cf0f(0x2ed),_0x12cf0f(0x3ac),'#f64847',_0x12cf0f(0x78d),_0x12cf0f(0x628),_0x12cf0f(0x263),_0x12cf0f(0x7dd),_0x12cf0f(0x558),_0x12cf0f(0x5df)],_0x472237;typeof _0x5b97cf[_0x12cf0f(0x767)]==_0x12cf0f(0x395)&&_0x5b97cf['color']>=0x0&&_0x5b97cf[_0x12cf0f(0x767)]<_0x494b8b[_0x12cf0f(0x6a0)]?_0x472237=_0x494b8b[_0x5b97cf[_0x12cf0f(0x767)]]:(this[_0x12cf0f(0x41b)][_0x12cf0f(0x3d5)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x5b97cf['color']),_0x472237=_0x12cf0f(0x764));let _0x33eb4d={'_id':_0x5b97cf['id'],'colorHex':_0x472237,'color':_0x5b97cf?.[_0x12cf0f(0x767)],'name':_0x5b97cf?.[_0x12cf0f(0x7cc)],'owner':this[_0x12cf0f(0x6de)][_0x12cf0f(0x11a)]};await this['repository'][_0x12cf0f(0x179)][_0x12cf0f(0x489)]({'where':{'_id':_0x5b97cf['id']}},_0x33eb4d,this[_0x12cf0f(0x6de)][_0x12cf0f(0x11a)]),this[_0x12cf0f(0x41b)]['info'](this[_0x12cf0f(0x246)]+'\x20('+this[_0x12cf0f(0x6de)][_0x12cf0f(0x11a)]+_0x12cf0f(0x36a)+_0x5b97cf);}_0x5b97cf['deleted']&&(await this['repository'][_0x12cf0f(0x179)][_0x12cf0f(0x552)]({'where':{'_id':_0x5b97cf['id']}},this[_0x12cf0f(0x6de)]['wuid']),this['logger'][_0x12cf0f(0x436)](_0x12cf0f(0x3c7)+_0x5b97cf['id']));}},this[_0x4e7095(0x231)]={'groups.upsert':async _0x2bc102=>{const _0x387f2d=_0x4e7095;this[_0x387f2d(0x52b)]?.[_0x387f2d(0x6d0)]||this[_0x387f2d(0x44a)]('groups.upsert',_0x2bc102);for(let _0x441f72 of _0x2bc102)await this['updateGroupWebhook'](_0x441f72);},'groups.update':async _0x12284e=>{const _0x492b9c=_0x4e7095;this[_0x492b9c(0x52b)]?.[_0x492b9c(0x6d0)]||this[_0x492b9c(0x44a)](_0x492b9c(0x452),_0x12284e);for(let _0x591797 of _0x12284e)await this['updateGroupWebhook'](_0x591797);},'group-participants.update':async _0x20548b=>{const _0x3184ce=_0x4e7095;this['localWebhook']?.[_0x3184ce(0x6d0)]||this['sendDataWebhook'](_0x3184ce(0x365),_0x20548b),await this[_0x3184ce(0x3aa)](_0x20548b);}},this[_0x4e7095(0x5ed)]=0x5,this[_0x4e7095(0x4da)]=0x1388,this[_0x4e7095(0x4a7)]=0x0,this[_0x4e7095(0x3a7)]=async _0x391b25=>{const _0x2db6d4=_0x4e7095;if(_0x391b25[_0x2db6d4(0x3d1)]?.[_0x2db6d4(0x443)]){let _0x3af8a7=await this[_0x2db6d4(0x113)](_0x391b25[_0x2db6d4(0x3d1)]['pollUpdateMessage'][_0x2db6d4(0x657)],!0x0);if(_0x3af8a7){let _0x10f839=_0x3af8a7['key'][_0x2db6d4(0x325)]?this[_0x2db6d4(0x6de)][_0x2db6d4(0x11a)]+_0x2db6d4(0x605):_0x3af8a7[_0x2db6d4(0x1cc)]['participant']||_0x3af8a7[_0x2db6d4(0x1cc)]['remoteJid'],_0x545b86=_0x3af8a7[_0x2db6d4(0x1cc)]['id'],_0x58fa0b=_0x3af8a7[_0x2db6d4(0x3d1)],_0xcad101=Buffer[_0x2db6d4(0x227)](_0x58fa0b[_0x2db6d4(0x2bc)][_0x2db6d4(0x7ae)]['toString']('hex'),_0x2db6d4(0x550)),_0x325748=(0x0,w[_0x2db6d4(0x5bb)])(_0x391b25[_0x2db6d4(0x3d1)][_0x2db6d4(0x443)]['vote'],{'pollCreatorJid':_0x10f839,'pollMsgId':_0x545b86,'pollEncKey':_0xcad101,'voterJid':_0x391b25[_0x2db6d4(0x1cc)]['fromMe']?this[_0x2db6d4(0x6de)]['wuid']+_0x2db6d4(0x605):_0x391b25[_0x2db6d4(0x1cc)]['remoteJid'][_0x2db6d4(0x673)]('g.us')?_0x391b25['key'][_0x2db6d4(0x38f)]:_0x391b25[_0x2db6d4(0x1cc)][_0x2db6d4(0x61d)]}),_0x597565=[],_0x178497=_0x325748[_0x2db6d4(0x4f5)][_0x2db6d4(0x322)](_0x5be530=>Buffer['from'](_0x5be530)[_0x2db6d4(0x12e)](_0x2db6d4(0x550)));for(let {optionName:_0x1e9d4c}of _0x58fa0b[_0x2db6d4(0x357)]?.['options']||_0x58fa0b[_0x2db6d4(0x30c)]?.['options']||_0x58fa0b['pollCreationMessageV2']?.['options'])_0x178497[_0x2db6d4(0x631)]((0x0,w['sha256'])(Buffer[_0x2db6d4(0x227)](_0x1e9d4c))[_0x2db6d4(0x12e)]('hex'))>-0x1&&_0x597565[_0x2db6d4(0x35a)](_0x1e9d4c);return _0x597565;}}return null;},this[_0x4e7095(0x9a)]=(_0x398742,_0x7574fe,_0x366cc)=>{const _0xdf77b2=_0x4e7095;try{let _0x117a07=_0x398742?(0x0,w[_0xdf77b2(0xb0)])(_0x398742)[_0x7574fe]:void 0x0,_0x472e64={},_0x2b829f=null,_0x165e2c=null,_0x398b6f=null;_0x7574fe==='protocolMessage'&&_0x117a07?.[_0xdf77b2(0x720)]&&(_0x7574fe=(0x0,w[_0xdf77b2(0x6f7)])(_0x117a07['editedMessage']),_0x2b829f=_0x398742[_0xdf77b2(0x276)][_0xdf77b2(0x1cc)]['id'],_0x117a07=_0x398742['protocolMessage'][_0xdf77b2(0x720)][_0x7574fe]),_0x398742[_0x7574fe]?.[_0xdf77b2(0x42d)]?.[_0xdf77b2(0x6bb)]&&_0x398742[_0x7574fe]?.[_0xdf77b2(0x42d)]?.[_0xdf77b2(0x46a)]&&(_0x165e2c=_0x398742[_0x7574fe][_0xdf77b2(0x42d)][_0xdf77b2(0x6bb)]),_0x398742[_0xdf77b2(0x270)]&&(_0x398b6f=_0x398742[_0xdf77b2(0x270)][_0xdf77b2(0x1cc)]['id']);let _0x22eff9;if(_0x117a07&&typeof _0x117a07=='object'&&'pollCreationMessageKey'in _0x117a07&&({pollCreationMessageKey:_0x22eff9}=_0x117a07),_0x7574fe===_0xdf77b2(0x357)||_0x7574fe==='pollCreationMessageV2'||_0x7574fe===_0xdf77b2(0x30c)){let _0x3421c3=_0x117a07[_0xdf77b2(0x1e4)][_0xdf77b2(0x322)](_0x46d464=>_0x46d464[_0xdf77b2(0x459)])['join']('|');_0x472e64[_0xdf77b2(0x3bf)]=_0x3421c3;}let _0x2fc479='';if(_0x117a07&&(_0x2fc479+=_0x117a07[_0xdf77b2(0x7cc)]?_0x117a07[_0xdf77b2(0x7cc)]:'',_0x2fc479+=_0x117a07[_0xdf77b2(0x3ba)]?'\x20'+_0x117a07[_0xdf77b2(0x3ba)]:'',_0x2fc479+=_0x117a07[_0xdf77b2(0x509)]?'\x20'+_0x117a07[_0xdf77b2(0x509)]:'',_0x2fc479+=_0x117a07[_0xdf77b2(0x461)]?'\x20'+_0x117a07[_0xdf77b2(0x461)]:''),_0x7574fe==='listMessage'){_0x2fc479=(_0x117a07['title']||'')+'\x0a'+(_0x117a07[_0xdf77b2(0x681)]||'')+'\x0a'+(_0x117a07[_0xdf77b2(0x3f5)]||'');let _0x4d612f=this[_0xdf77b2(0x4a1)](_0x117a07[_0xdf77b2(0x792)]);_0x472e64[_0xdf77b2(0x3bf)]=_0x4d612f;}if(_0x7574fe==='listResponseMessage'&&(_0x366cc=_0x117a07['title']),_0x117a07&&_0x117a07['vcard']){let _0xcf1729=this[_0xdf77b2(0x7e2)](JSON[_0xdf77b2(0x3d0)](_0x117a07['vcard'],null,0x2));_0x2fc479=_0x2fc479+'\x0a'+_0xcf1729;}if(_0x117a07){let {sections:_0x409dad,listType:_0x3f2372,displayName:_0x15fbcd,vcard:_0xbdfc29,contactVcard:_0x4327e3,name:_0x40ef9e,caption:_0x2b3550,conversation:_0x4309f9,pollCreationMessageKey:_0x164b47,footerText:_0x42ccde,contentText:_0x36d249,pageCount:_0xba2937,headerType:_0x4ac9ac,isAvatar:_0x43fff2,isAnimated:_0x52586f,fallbackLc:_0x47ebd4,fallbackLg:_0x4e698d,namespace:_0x17eacf,elementName:_0x501fe9,localizableParams:_0xf52312,viewOnce:_0x13d835,height:_0x581e8a,width:_0xbb7f48,key:_0x3c53cb,firstScanLength:_0x3ff973,firstScanSidecar:_0x14d7ad,gifPlayback:_0x49aaa3,gifAttribution:_0x39ca86,midQualityFileSha256:_0x5234b0,scansSidecar:_0x35977f,streamingSidecar:_0x127684,thumbnailHeight:_0x24d35f,thumbnailWidth:_0x308b76,thumbnailEncSha256:_0x6d1f5b,thumbnailDirectPath:_0xe59433,canonicalUrl:_0x48214c,matchedText:_0xdeb019,previewType:_0x42a1d3,thumbnailSha256:_0x4431d1,deviceListMetadataVersion:_0x2246d7,inviteLinkGroupTypeV2:_0x2a5876,interactiveAnnotations:_0x12cbdf,scanLengths:_0xc9213f,jpegThumbnail:_0x53a38b,url:_0x5b946d,mediaKeyTimestamp:_0x30a015,waveform:_0x482bea,stickerSentTs:_0x1a0a0d,firstFrameLength:_0x247a8c,fileEncSha256:_0x150921,contextInfo:_0x5676c6,firstFrameSidecar:_0x2e8b65,directPath:_0xe0966a,fileSha256:_0x3a8ed0,mediaKey:_0x31d81c,senderTimestampMs:_0xef383f,..._0x26ed1d}=_0x117a07;(_0x7574fe===_0xdf77b2(0x4f4)||_0x7574fe===_0xdf77b2(0x54a))&&(delete _0x26ed1d[_0xdf77b2(0x2f0)],delete _0x26ed1d[_0xdf77b2(0x681)]),typeof _0x117a07==_0xdf77b2(0x5ee)?_0x472e64={'text':_0x117a07,'type':_0x7574fe||_0xdf77b2(0x509),..._0x2b829f&&{'edited':_0x2b829f},..._0x165e2c&&{'quoted':_0x165e2c},..._0x398b6f&&{'reaction':_0x398b6f}}:_0x472e64={'text':_0x2fc479,..._0x26ed1d,..._0x7574fe===_0xdf77b2(0x443)?{'poll_id':_0x117a07[_0xdf77b2(0x657)]['id'],'quoted':_0x117a07[_0xdf77b2(0x657)]['id'],'vote':_0x366cc}:{},..._0x7574fe===_0xdf77b2(0x54a)?{'vote':_0x366cc}:{},'type':_0x7574fe,..._0x2b829f&&{'edited':_0x2b829f},..._0x165e2c&&{'quoted':_0x165e2c},..._0x398b6f&&{'reaction':_0x398b6f},...(_0x7574fe===_0xdf77b2(0x357)||_0x7574fe===_0xdf77b2(0x6f4)||_0x7574fe==='pollCreationMessageV3'||_0x7574fe===_0xdf77b2(0x4f4))&&{'convertedOptions':_0x472e64[_0xdf77b2(0x3bf)]}};}return{'messageType':_0x7574fe,'messageContent':_0x117a07,'message_normalized':_0x472e64};}catch(_0x30a21){return this[_0xdf77b2(0x41b)][_0xdf77b2(0x3d5)](_0xdf77b2(0x1d7)+_0x30a21),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['processUUID']=null,this[_0x4e7095(0x255)]=[],(this['cleanStore'](),this['instance'][_0x4e7095(0x1c9)]={'count':0x0},this[_0x4e7095(0x6de)][_0x4e7095(0x48b)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set[a0_0x22ca69(0x246)](_0x447312){const _0x42ee01=a0_0x22ca69;if(!_0x447312){this[_0x42ee01(0x6de)]['name']=(0x0,Ai['v4'])();return;}this[_0x42ee01(0x6de)][_0x42ee01(0x7cc)]=_0x447312,this['sendDataWebhook'](_0x42ee01(0xbb),{'instance':this[_0x42ee01(0x6de)][_0x42ee01(0x7cc)],'status':_0x42ee01(0x217)});}get['instanceName'](){const _0x5bbe0b=a0_0x22ca69;return this['instance'][_0x5bbe0b(0x7cc)];}get[a0_0x22ca69(0x11a)](){const _0x286a95=a0_0x22ca69;return this['instance'][_0x286a95(0x11a)];}async['getProfileName'](){const _0x200508=a0_0x22ca69;let _0x49b8e0=this[_0x200508(0x602)][_0x200508(0x379)]?.[_0x200508(0x7cc)]??this[_0x200508(0x602)][_0x200508(0x379)]?.[_0x200508(0x577)];if(!_0x49b8e0){if(this[_0x200508(0x2b1)][_0x200508(0x268)](_0x200508(0x48a))['ENABLED']){let _0x18cbe9=await R[_0x200508(0x2ec)]()['db'](this[_0x200508(0x2b1)][_0x200508(0x268)]('DATABASE')[_0x200508(0x5a1)]['DB_PREFIX_NAME']+_0x200508(0x43d))[_0x200508(0x4e5)](this[_0x200508(0x246)])[_0x200508(0x743)]({'_id':'creds'});if(_0x18cbe9){let _0x2fd420=JSON['parse'](JSON[_0x200508(0x3d0)](_0x18cbe9),w[_0x200508(0x147)][_0x200508(0x3e4)]);_0x49b8e0=_0x2fd420['me']?.[_0x200508(0x7cc)]||_0x2fd420['me']?.[_0x200508(0x577)];}}else{if((0x0,ke[_0x200508(0x439)])((0x0,j[_0x200508(0x20b)])(be,this[_0x200508(0x246)],_0x200508(0x8d)))){let _0x2dbfe5=JSON[_0x200508(0x4d0)]((0x0,ke[_0x200508(0x4ae)])((0x0,j[_0x200508(0x20b)])(be,this[_0x200508(0x246)],_0x200508(0x8d)),{'encoding':_0x200508(0x248)}));_0x49b8e0=_0x2dbfe5['me']?.[_0x200508(0x7cc)]||_0x2dbfe5['me']?.[_0x200508(0x577)];}}}return _0x49b8e0;}get['profilePictureUrl'](){const _0x3b2ec5=a0_0x22ca69;return this[_0x3b2ec5(0x6de)][_0x3b2ec5(0x5fa)];}get[a0_0x22ca69(0x57f)](){const _0x18a062=a0_0x22ca69;return this[_0x18a062(0x6de)][_0x18a062(0x1c9)]?.[_0x18a062(0x3f2)]?{'pairingCode':this[_0x18a062(0x6de)]['qrcode']?.[_0x18a062(0x3f2)]}:{'code':this['instance']['qrcode']?.[_0x18a062(0x736)],'base64':this['instance']['qrcode']?.['base64']};}async[a0_0x22ca69(0x787)](){const _0x33746e=a0_0x22ca69;let _0x491924=await this[_0x33746e(0x3b8)]['webhook']['find'](this['instanceName']);this[_0x33746e(0x52b)]['url']=_0x491924?.[_0x33746e(0x640)],this['localWebhook']['enabled']=_0x491924?.['enabled'],this['localWebhook'][_0x33746e(0x4e8)]=_0x491924?.['local_map'],this[_0x33746e(0x52b)][_0x33746e(0x782)]=_0x491924?.[_0x33746e(0x782)],this[_0x33746e(0x52b)][_0x33746e(0x5d8)]=_0x491924?.[_0x33746e(0x5d8)],this[_0x33746e(0x52b)][_0x33746e(0x119)]=_0x491924?.[_0x33746e(0x119)],this[_0x33746e(0x52b)][_0x33746e(0x422)]=_0x491924?.[_0x33746e(0x422)],this['localWebhook'][_0x33746e(0x46b)]=_0x491924?.[_0x33746e(0x46b)],this[_0x33746e(0x52b)][_0x33746e(0x324)]=_0x491924?.[_0x33746e(0x324)],this['localWebhook']['GROUPS_UPDATE']=_0x491924?.[_0x33746e(0x652)],this[_0x33746e(0x52b)][_0x33746e(0x240)]=_0x491924?.[_0x33746e(0x240)],this[_0x33746e(0x52b)][_0x33746e(0x237)]=_0x491924?.[_0x33746e(0x237)],this[_0x33746e(0x52b)]['CHATS_UPSERT']=_0x491924?.[_0x33746e(0x6dd)],this['localWebhook'][_0x33746e(0x43a)]=_0x491924?.[_0x33746e(0x43a)],this[_0x33746e(0x52b)][_0x33746e(0x4c7)]=_0x491924?.[_0x33746e(0x4c7)],this['localWebhook']['CONTACTS_SET']=_0x491924?.[_0x33746e(0x25d)],this[_0x33746e(0x52b)]['CONTACTS_UPSERT']=_0x491924?.[_0x33746e(0x6be)],this[_0x33746e(0x52b)][_0x33746e(0x5ff)]=_0x491924?.['CONTACTS_UPDATE'],this[_0x33746e(0x52b)][_0x33746e(0x52f)]=_0x491924?.[_0x33746e(0x52f)],this[_0x33746e(0x52b)]['MESSAGES_SET']=_0x491924?.[_0x33746e(0x730)],this[_0x33746e(0x52b)]['CONNECTION_UPDATE']=_0x491924?.[_0x33746e(0x1d8)],this['localWebhook'][_0x33746e(0x6d0)]=_0x491924?.['groups_ignore'];}async[a0_0x22ca69(0x23b)](_0x398bc3){const _0x41f707=a0_0x22ca69;let _0x4f51b0=[_0x41f707(0x646),_0x41f707(0x640),_0x41f707(0x7db),_0x41f707(0x4e8),_0x41f707(0x782),_0x41f707(0x5d8),_0x41f707(0x46b),_0x41f707(0x422),_0x41f707(0x119),_0x41f707(0x324),_0x41f707(0x652),'GROUP_PARTICIPANTS_UPDATE','CHATS_SET',_0x41f707(0x6dd),_0x41f707(0x43a),_0x41f707(0x4c7),'CONTACTS_SET',_0x41f707(0x6be),'CONTACTS_UPDATE','PRESENCE_UPDATE',_0x41f707(0x730),_0x41f707(0x1d8),_0x41f707(0x6d0)],_0x3d2e01={};return _0x4f51b0['forEach'](_0x485b5a=>{_0x398bc3[_0x485b5a]!==void 0x0&&(_0x3d2e01[_0x485b5a]=_0x398bc3[_0x485b5a]);}),_0x3d2e01[_0x41f707(0x640)]&&(_0x3d2e01[_0x41f707(0x640)]=_0x3d2e01[_0x41f707(0x640)][_0x41f707(0x585)]()),await this['repository'][_0x41f707(0x35f)][_0x41f707(0x530)](_0x3d2e01,this[_0x41f707(0x246)]),Object[_0x41f707(0x6c0)](this[_0x41f707(0x52b)],_0x3d2e01),await this['repository'][_0x41f707(0x35f)]['find'](this[_0x41f707(0x246)]);}async[a0_0x22ca69(0x208)](){const _0x162fed=a0_0x22ca69;return await this[_0x162fed(0x3b8)][_0x162fed(0x35f)][_0x162fed(0x22d)](this[_0x162fed(0x246)]);}async['sendDataWebhook'](_0x49fb75,_0x24205a){const _0x4bdd58=a0_0x22ca69;let _0xca098a=_0x49fb75[_0x4bdd58(0x1f1)](/[\.-]/gm,'_')['toUpperCase'](),_0x31ae51=this['localWebhook'][_0x4bdd58(0x7db)]&&(0x0,k[_0x4bdd58(0x167)])(this[_0x4bdd58(0x52b)]['url'])?this[_0x4bdd58(0x52b)][_0x4bdd58(0x640)]+(this[_0x4bdd58(0x52b)][_0x4bdd58(0x4e8)]?this['webhookMap'][_0x49fb75]:''):null,_0x421812=this[_0x4bdd58(0x52b)][_0xca098a],_0x42a089=pe&&pe[_0x4bdd58(0x7db)]&&(0x0,k['isURL'])(pe[_0x4bdd58(0x640)])?pe[_0x4bdd58(0x640)]+(pe[_0x4bdd58(0x4e8)]?this[_0x4bdd58(0x356)][_0x49fb75]:''):null,_0x1603a1=pe?pe[_0xca098a]:null;if(_0x421812&&_0x31ae51)try{await X[_0x4bdd58(0x4ba)][_0x4bdd58(0x530)]({'baseURL':_0x31ae51})['post']('',{'event':_0x49fb75,'instance':this[_0x4bdd58(0x6de)][_0x4bdd58(0x7cc)],'apikey':this[_0x4bdd58(0x6de)][_0x4bdd58(0x56e)],'data':_0x24205a}),this['logger'][_0x4bdd58(0x2f8)](this['instanceName']+'\x20('+this[_0x4bdd58(0x6de)][_0x4bdd58(0x11a)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x49fb75+':\x20'+_0x31ae51);}catch{this[_0x4bdd58(0x41b)]['error'](this[_0x4bdd58(0x246)]+'\x20('+this[_0x4bdd58(0x6de)][_0x4bdd58(0x11a)]+_0x4bdd58(0xba)+_0x49fb75+':\x20'+_0x31ae51);}if(_0x1603a1&&_0x42a089)try{await X[_0x4bdd58(0x4ba)]['create']({'baseURL':_0x42a089})[_0x4bdd58(0x71a)]('',{'event':_0x49fb75,'instance':this[_0x4bdd58(0x6de)][_0x4bdd58(0x7cc)],'apikey':this[_0x4bdd58(0x6de)][_0x4bdd58(0x56e)],'data':_0x24205a}),this[_0x4bdd58(0x41b)][_0x4bdd58(0x2f8)](this[_0x4bdd58(0x246)]+'\x20('+this[_0x4bdd58(0x6de)][_0x4bdd58(0x11a)]+_0x4bdd58(0x373)+_0x49fb75+':\x20'+_0x42a089);}catch{this[_0x4bdd58(0x41b)]['error'](this[_0x4bdd58(0x246)]+'\x20('+this[_0x4bdd58(0x6de)][_0x4bdd58(0x11a)]+_0x4bdd58(0x77e)+_0x49fb75+':\x20'+_0x42a089);}}async[a0_0x22ca69(0x7a2)]({qr:_0x15c5dd,connection:_0x2e1e82,lastDisconnect:_0x1bfa6b}){const _0x46e657=a0_0x22ca69;if(_0x15c5dd){if(this[_0x46e657(0x6de)][_0x46e657(0x1c9)][_0x46e657(0x79d)]===Do)return this[_0x46e657(0x44a)](_0x46e657(0x589),{'message':_0x46e657(0xaf),'statusCode':w[_0x46e657(0x1be)][_0x46e657(0x1d4)]}),this[_0x46e657(0x667)]={'state':_0x46e657(0x7a1),'statusReason':w[_0x46e657(0x1be)][_0x46e657(0x69d)]},this['sendDataWebhook'](_0x46e657(0x592),{'instance':this[_0x46e657(0x6de)][_0x46e657(0x7cc)],...this[_0x46e657(0x667)]}),this[_0x46e657(0x44a)](_0x46e657(0xbb),{'instance':this[_0x46e657(0x6de)][_0x46e657(0x7cc)],'status':_0x46e657(0x5d1)}),this[_0x46e657(0x3b8)][_0x46e657(0x25f)][_0x46e657(0x552)](this[_0x46e657(0x6de)][_0x46e657(0x7cc)]),this['endSession']=!0x0,ae[_0x46e657(0x2f1)](W,this['instance']['name']),this[_0x46e657(0x795)][_0x46e657(0x5d0)]('no.connection',this[_0x46e657(0x6de)]['name']);this[_0x46e657(0x6de)][_0x46e657(0x1c9)][_0x46e657(0x79d)]++;let _0x226257={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x46e657(0x332),'dark':_0x46e657(0x764)}};Ii[_0x46e657(0x4ba)][_0x46e657(0x46e)](_0x15c5dd,_0x226257,(_0x37dbea,_0x337abd)=>{const _0x13c105=_0x46e657;if(_0x37dbea){this['logger'][_0x13c105(0x3d5)](this[_0x13c105(0x246)]+'\x20('+this['instance'][_0x13c105(0x11a)]+_0x13c105(0x126)+(_0x37dbea instanceof Error?_0x37dbea[_0x13c105(0x3d1)]:JSON['stringify'](_0x37dbea,null,0x2)));return;}this[_0x13c105(0x6de)]['qrcode']['base64']=_0x337abd,this['instance']['qrcode']['code']=_0x15c5dd,!this['phoneNumber']&&this[_0x13c105(0x44a)](_0x13c105(0x589),{'qrcode':{'instance':this[_0x13c105(0x6de)]['name'],'pairingCode':this[_0x13c105(0x6de)][_0x13c105(0x1c9)][_0x13c105(0x3f2)],'code':_0x15c5dd,'base64':_0x337abd}});}),this[_0x46e657(0x13b)]?this[_0x46e657(0x6de)]['qrcode']['pairingCode']||(await(0x0,w['delay'])(0x7d0),this[_0x46e657(0x6de)][_0x46e657(0x1c9)][_0x46e657(0x3f2)]=await this[_0x46e657(0x602)]['requestPairingCode'](this[_0x46e657(0x13b)])):this[_0x46e657(0x6de)][_0x46e657(0x1c9)]['pairingCode']=null,Ti[_0x46e657(0x4ba)][_0x46e657(0x398)](_0x15c5dd,{'small':!0x0},_0x3944ab=>this[_0x46e657(0x41b)]['log']('\x0a{\x20instance:\x20'+this[_0x46e657(0x6de)][_0x46e657(0x7cc)]+_0x46e657(0x5eb)+this[_0x46e657(0x6de)][_0x46e657(0x1c9)][_0x46e657(0x79d)]+_0x46e657(0x6c1)+this[_0x46e657(0x6de)][_0x46e657(0x1c9)][_0x46e657(0x3f2)]+_0x46e657(0x472)+_0x3944ab));}if(_0x2e1e82&&(this[_0x46e657(0x667)]={'state':_0x2e1e82,'statusReason':_0x1bfa6b?.[_0x46e657(0x3d5)]?.['output']?.['statusCode']??0xc8},this[_0x46e657(0x44a)]('connection.update',{'instance':this[_0x46e657(0x6de)][_0x46e657(0x7cc)],...this[_0x46e657(0x667)]})),_0x2e1e82==='close'){if(this[_0x46e657(0x31f)]++,this[_0x46e657(0x3c3)][_0x46e657(0x35a)](Date[_0x46e657(0x690)]()),this[_0x46e657(0x3c3)]=this[_0x46e657(0x3c3)][_0x46e657(0x716)](_0x5a2c62=>Date[_0x46e657(0x690)]()-_0x5a2c62<this['RECONNECT_TIME_FRAME']),_0x1bfa6b[_0x46e657(0x3d5)]?.[_0x46e657(0x4c8)]?.[_0x46e657(0xd4)]!==w[_0x46e657(0x1be)][_0x46e657(0x74b)]){let _0xfd0579=this[_0x46e657(0x31f)]<=0x1?0x0:Math[_0x46e657(0x7df)](Math['pow'](0x2,this[_0x46e657(0x31f)]-0x1)*0x3e8,0x493e0);console[_0x46e657(0x2f8)](this[_0x46e657(0x246)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x46e657(0x31f)]+_0x46e657(0x364)+_0xfd0579/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x79f0=>setTimeout(_0x79f0,_0xfd0579)),console[_0x46e657(0x2f8)](_0x46e657(0x13f)),await this['connectToWhatsapp']();}else{this[_0x46e657(0x44a)](_0x46e657(0xbb),{'instance':this[_0x46e657(0x6de)][_0x46e657(0x7cc)],'status':_0x46e657(0x5d1)}),this[_0x46e657(0x6de)][_0x46e657(0x48b)][_0x46e657(0x154)]=!0x1,this[_0x46e657(0x3b8)]['webhook']['delete'](this[_0x46e657(0x246)]),this[_0x46e657(0x3b8)]['auth']['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x46e657(0x690)]()},this[_0x46e657(0x6de)]['name']),ae[_0x46e657(0x2f1)](W,this[_0x46e657(0x6de)]['name']);try{this[_0x46e657(0x41b)][_0x46e657(0x36c)](this[_0x46e657(0x246)]+'\x20('+this[_0x46e657(0x6de)][_0x46e657(0x11a)]+_0x46e657(0x3b1));let _0x392b18=await this[_0x46e657(0x3b8)][_0x46e657(0x3d1)][_0x46e657(0x368)](this[_0x46e657(0x6de)][_0x46e657(0x11a)]);_0x392b18[_0x46e657(0x74f)]?this[_0x46e657(0x41b)][_0x46e657(0x36c)](this[_0x46e657(0x246)]+'\x20('+this[_0x46e657(0x6de)][_0x46e657(0x11a)]+_0x46e657(0x410)):this['logger'][_0x46e657(0x3d5)](_0x46e657(0x3a8)+_0x392b18[_0x46e657(0x3d5)]);}catch(_0x5926eb){this[_0x46e657(0x41b)][_0x46e657(0x3d5)](_0x46e657(0x4fe)+_0x5926eb[_0x46e657(0x3d1)]);}this[_0x46e657(0x6de)][_0x46e657(0x48b)]['delayMessage']!==null&&(this[_0x46e657(0x41b)][_0x46e657(0x36c)](this[_0x46e657(0x246)]+'\x20('+this[_0x46e657(0x6de)][_0x46e657(0x11a)]+_0x46e657(0x412)),clearInterval(this[_0x46e657(0x6de)][_0x46e657(0x48b)][_0x46e657(0x6ac)]),this[_0x46e657(0x6de)][_0x46e657(0x48b)]['delayMessage']=null),this[_0x46e657(0x41b)][_0x46e657(0x36c)](this[_0x46e657(0x246)]+'\x20('+this[_0x46e657(0x6de)]['wuid']+_0x46e657(0x521)),this[_0x46e657(0x644)]=null,this['eventEmitter']['emit'](_0x46e657(0x67f),this[_0x46e657(0x6de)][_0x46e657(0x7cc)],_0x46e657(0x33b)),this[_0x46e657(0x602)]?.['ws']?.['close'](),this[_0x46e657(0x602)][_0x46e657(0x99)](new Error(_0x46e657(0x2f2)));}}if(_0x2e1e82===_0x46e657(0x3c8)){this[_0x46e657(0x41b)][_0x46e657(0x7b6)](this[_0x46e657(0x246)]+'\x20('+this[_0x46e657(0x6de)]['wuid']+_0x46e657(0x6bc)+this[_0x46e657(0x602)][_0x46e657(0x444)][_0x46e657(0x608)]?.[_0x46e657(0x784)]),this[_0x46e657(0x602)][_0x46e657(0x444)][_0x46e657(0x608)]?.['myAppStateKeyId']||(this['logger'][_0x46e657(0x7b6)](this[_0x46e657(0x246)]+'\x20('+this[_0x46e657(0x6de)][_0x46e657(0x11a)]+_0x46e657(0x633)),this[_0x46e657(0x602)]['ev'][_0x46e657(0x52e)]()),this[_0x46e657(0x5c4)],this[_0x46e657(0x6de)][_0x46e657(0x11a)]=this[_0x46e657(0x602)]['user']['id'][_0x46e657(0x1f1)](/:\d+/,'')[_0x46e657(0x1f1)](_0x46e657(0x605),''),this[_0x46e657(0x6de)]['profilePictureUrl']=(await this[_0x46e657(0x370)](this[_0x46e657(0x6de)][_0x46e657(0x11a)]+_0x46e657(0x605)))[_0x46e657(0x5fa)],this[_0x46e657(0x3b8)]['auth'][_0x46e657(0x530)]({'online':!0x0,'owner':this[_0x46e657(0x6de)][_0x46e657(0x11a)],'lastDisconnect':null},this[_0x46e657(0x6de)][_0x46e657(0x7cc)]);let _0x909268=_0x46e657(0x3b7)+this[_0x46e657(0x6de)]['wuid'],_0x28a80b=0x28,_0x491741=Math['floor']((_0x28a80b-_0x909268[_0x46e657(0x6a0)])/0x2),_0x3fe4bc='\x20'['repeat'](_0x491741),_0x500f97='CONECTADO\x20À\x20UAZAPI',_0x3b5bbc=_0x46e657(0x710)+this[_0x46e657(0x6de)][_0x46e657(0x7cc)],_0x29dacb=(''+_0x3fe4bc+_0x909268+_0x3fe4bc)[_0x46e657(0x69b)](_0x28a80b,'\x20'),_0x37e030=(''+_0x3fe4bc+_0x500f97+_0x3fe4bc)['padEnd'](_0x28a80b,'\x20'),_0x4cb690=(''+_0x3fe4bc+_0x3b5bbc+_0x3fe4bc)[_0x46e657(0x69b)](_0x28a80b,'\x20'),_0x5bacc6=Math[_0x46e657(0x183)](_0x29dacb[_0x46e657(0x6a0)],_0x37e030[_0x46e657(0x6a0)],_0x4cb690[_0x46e657(0x6a0)]),_0x1a219d=_0x29dacb[_0x46e657(0x69b)](_0x5bacc6,'\x20'),_0x4fdf4f=_0x37e030['padEnd'](_0x5bacc6,'\x20'),_0x2dfe4d=_0x4cb690[_0x46e657(0x69b)](_0x5bacc6,'\x20');this[_0x46e657(0x41b)][_0x46e657(0x436)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x46e657(0x4a5)](_0x5bacc6)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x4fdf4f+_0x46e657(0x43e)+_0x2dfe4d+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x1a219d+_0x46e657(0x150)+'─'[_0x46e657(0x4a5)](_0x5bacc6)+'┘')[_0x46e657(0x1f1)](/^ +/gm,'\x20\x20')),this[_0x46e657(0x1f8)](),this[_0x46e657(0x6de)]['ScheduleMessage']['isConnected']=!0x0;}}[a0_0x22ca69(0x5c4)](){const _0x113646=a0_0x22ca69;this[_0x113646(0x31f)]=0x0,this[_0x113646(0x3c3)]=[];}async[a0_0x22ca69(0x113)](_0x56eb16,_0x578320=!0x1){const _0x3cc007=a0_0x22ca69;try{let _0x3810d6=await this[_0x3cc007(0x3b8)][_0x3cc007(0x3d1)]['find']({'where':{'_id':_0x56eb16['id']}},this[_0x3cc007(0x6de)]['wuid']);return _0x578320?_0x3810d6[0x0]:_0x3810d6[0x0][_0x3cc007(0x3d1)];}catch{return{'conversation':''};}}[a0_0x22ca69(0x692)](){const _0x128cdd=a0_0x22ca69;let _0xb86868=this[_0x128cdd(0x2b1)][_0x128cdd(0x268)](_0x128cdd(0x360)),_0x579e83=this[_0x128cdd(0x2b1)][_0x128cdd(0x268)](_0x128cdd(0x48a));_0xb86868?.[_0x128cdd(0x1a0)]&&!_0x579e83['ENABLED']&&setInterval(()=>{const _0x14f810=_0x128cdd;try{for(let [_0x5a79c2,_0x36f7fc]of Object[_0x14f810(0xce)](_0xb86868))_0x36f7fc===!0x0&&(0x0,Le[_0x14f810(0x574)])(_0x14f810(0x488)+(0x0,j[_0x14f810(0x20b)])(this[_0x14f810(0x3f9)],_0x5a79c2['toLowerCase'](),this[_0x14f810(0x6de)][_0x14f810(0x11a)])+_0x14f810(0x428));}catch{}},(_0xb86868?.[_0x128cdd(0x1a0)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x4fc027=a0_0x22ca69;let _0x349cb6=this[_0x4fc027(0x2b1)][_0x4fc027(0x268)](_0x4fc027(0x48a)),_0x3671e0=this[_0x4fc027(0x2b1)][_0x4fc027(0x268)](_0x4fc027(0x52a));return _0x3671e0?.[_0x4fc027(0x37a)]?await Ts(_0x3671e0,this[_0x4fc027(0x6de)][_0x4fc027(0x7cc)]):_0x349cb6['ENABLED']?await Is(this['instance']['name']):await(0x0,w['useMultiFileAuthState'])((0x0,j[_0x4fc027(0x20b)])(be,this['instance'][_0x4fc027(0x7cc)]));}async[a0_0x22ca69(0x1f8)](){const _0x5efda9=a0_0x22ca69;let _0x54b722=()=>Math[_0x5efda9(0x17f)](Math[_0x5efda9(0xe0)]()*0x4e21)+0x7d0,_0x9b5284=async()=>{const _0x1755e4=_0x5efda9;if(!this[_0x1755e4(0x6de)][_0x1755e4(0x48b)][_0x1755e4(0x154)]){this[_0x1755e4(0x41b)][_0x1755e4(0x36c)](this[_0x1755e4(0x246)]+'\x20('+this[_0x1755e4(0x6de)][_0x1755e4(0x11a)]+_0x1755e4(0x3f7)),this['isRunning']=!0x1;return;}if(this[_0x1755e4(0x6de)][_0x1755e4(0x11a)]&&this[_0x1755e4(0x644)]&&this[_0x1755e4(0x6de)][_0x1755e4(0x48b)][_0x1755e4(0x6ac)]!==null&&this['instance'][_0x1755e4(0x48b)][_0x1755e4(0x6ac)]!==void 0x0){let _0xd08d4a=Math[_0x1755e4(0x5de)](this[_0x1755e4(0x6de)][_0x1755e4(0x48b)][_0x1755e4(0x6ac)]/0xea60);this[_0x1755e4(0x41b)][_0x1755e4(0x36c)](this[_0x1755e4(0x246)]+'\x20('+this[_0x1755e4(0x6de)]['wuid']+_0x1755e4(0x67a)+_0xd08d4a+_0x1755e4(0x74a)),this['isRunning']=!0x1;return;}else this[_0x1755e4(0x6de)][_0x1755e4(0x11a)]&&(this[_0x1755e4(0x41b)]['verbose'](this[_0x1755e4(0x246)]+'\x20('+this[_0x1755e4(0x6de)]['wuid']+_0x1755e4(0x3ec)),this[_0x1755e4(0x644)]||(await this[_0x1755e4(0x166)](),this[_0x1755e4(0x2d6)](),this['synchronizeAndMapFlows']()),(this[_0x1755e4(0x6de)][_0x1755e4(0x48b)][_0x1755e4(0x6ac)]===null||this[_0x1755e4(0x6de)]['ScheduleMessage'][_0x1755e4(0x6ac)]===void 0x0)&&await this[_0x1755e4(0x742)]());if(this[_0x1755e4(0xec)]){let _0x423a3e=_0x54b722();this[_0x1755e4(0x41b)]['verbose'](this['instanceName']+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x423a3e/0x3e8+_0x1755e4(0x7bb)),setTimeout(_0x9b5284,_0x423a3e);}};if(this['isRunning'])return;this[_0x5efda9(0xec)]=!0x0;let _0x380837=_0x54b722();setTimeout(_0x9b5284,_0x380837);}async[a0_0x22ca69(0x685)](){const _0xa3b763=a0_0x22ca69;let _0xd932a=this['instance'][_0xa3b763(0x11a)];try{let _0x58f20b=await this[_0xa3b763(0x3b8)][_0xa3b763(0x6d9)][_0xa3b763(0x269)]({'where':{'$or':[{'owner':_0xd932a},{'whoCanUse':{'$in':[_0xd932a]}},{'shareOwners':{'$in':[_0xd932a]}}]}}),_0xa8aeee=new Map(this[_0xa3b763(0x644)][_0xa3b763(0x2d2)][_0xa3b763(0x322)](_0x5a7cc5=>[_0x5a7cc5['_id'],_0x5a7cc5])),_0x24504c=_0x58f20b[_0xa3b763(0x322)](_0xeb8f39=>{const _0x77bbe9=_0xa3b763;let _0x4799ea=_0xa8aeee[_0x77bbe9(0x268)](_0xeb8f39[_0x77bbe9(0x646)]?.[_0x77bbe9(0x12e)]());return{'_id':_0xeb8f39[_0x77bbe9(0x646)]?.['toString'](),'name':_0x4799ea?.[_0x77bbe9(0x7cc)]??_0xeb8f39[_0x77bbe9(0x7cc)],'default':_0x4799ea?.[_0x77bbe9(0x4ba)]??_0xeb8f39['default']??!0x1,'startCommand':_0x4799ea?.[_0x77bbe9(0x3fc)]??_0xeb8f39[_0x77bbe9(0x189)],'minutesToClose':_0x4799ea?.[_0x77bbe9(0x42c)]??_0xeb8f39[_0x77bbe9(0x42c)]??0xa,'readMessages':_0x4799ea?.['readMessages']??_0xeb8f39[_0x77bbe9(0x384)]??!0x1,'testingWith':_0x4799ea?.[_0x77bbe9(0x776)]??_0xeb8f39[_0x77bbe9(0x776)],'canEdit':_0xeb8f39['owner']===_0xd932a||(_0xeb8f39['whoCanEdit']??[])['includes'](_0xd932a),'usersCount':(_0xeb8f39[_0x77bbe9(0x3a3)]??[])['length']??0x0};}),_0xca5e26=!0x1;_0x24504c[_0xa3b763(0x2e7)](_0x4a8d2d=>{const _0x27cb0a=_0xa3b763;_0x4a8d2d[_0x27cb0a(0x4ba)]&&(_0xca5e26?_0x4a8d2d[_0x27cb0a(0x4ba)]=!0x1:_0xca5e26=!0x0);}),this['AutomateSystem'][_0xa3b763(0x2d2)]=_0x24504c;let _0x2d8204={'flows':_0x24504c};return await this[_0xa3b763(0x3b8)]['automateSystem']['update'](_0x2d8204,_0xd932a),this['logger'][_0xa3b763(0x36c)](this['instanceName']+'\x20('+_0xd932a+_0xa3b763(0x115)),_0x24504c[_0xa3b763(0x6a0)];}catch(_0x14ecf1){return this[_0xa3b763(0x41b)][_0xa3b763(0x3d5)](this[_0xa3b763(0x246)]+'\x20('+_0xd932a+'):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20'+(_0x14ecf1 instanceof Error?_0x14ecf1['message']:JSON[_0xa3b763(0x3d0)](_0x14ecf1,null,0x2))),{'message':_0xa3b763(0x768)+(_0x14ecf1 instanceof Error?_0x14ecf1[_0xa3b763(0x3d1)]:JSON[_0xa3b763(0x3d0)](_0x14ecf1,null,0x2))};}}async['connectToWhatsapp'](_0x2dd529){const _0x29361d=a0_0x22ca69;try{let _0x205556=await this['repository'][_0x29361d(0x6de)]['findOne']({'where':{'_id':W+'-'+this[_0x29361d(0x246)]}}),_0x1e30a3,_0x1b410d=!ae[_0x29361d(0x687)]||!ae[_0x29361d(0x7c7)];console[_0x29361d(0x2f8)](_0x29361d(0x7bf)),console[_0x29361d(0x2f8)](_0x29361d(0x5fb),Ri),console['log'](_0x29361d(0x405),this[_0x29361d(0x31f)]),console[_0x29361d(0x2f8)](_0x29361d(0x7bf)),Ri&&!_0x1b410d&&(this[_0x29361d(0x31f)]<0x4||!this[_0x29361d(0x31f)]?_0x205556&&_0x205556['ip']?(_0x1e30a3=_0x205556['ip'],console[_0x29361d(0x2f8)](_0x29361d(0x648)+_0x1e30a3)):(_0x1e30a3=await ae[_0x29361d(0x5c5)](W,this['instance'][_0x29361d(0x7cc)]),_0x1e30a3?(console[_0x29361d(0x2f8)](_0x29361d(0x5e7)+_0x1e30a3),await(0x0,w[_0x29361d(0x222)])(0x7d0)):console[_0x29361d(0x3d5)](_0x29361d(0x670))):this['reconnectAttempts']<0x6&&(await ae[_0x29361d(0x2f1)](W,this[_0x29361d(0x6de)][_0x29361d(0x7cc)]),console[_0x29361d(0x2f8)](_0x29361d(0x198)),_0x1e30a3=await ae[_0x29361d(0x5c5)](W,this[_0x29361d(0x6de)][_0x29361d(0x7cc)]),_0x1e30a3?(console['log'](_0x29361d(0x5e7)+_0x1e30a3),await(0x0,w['delay'])(0x7d0)):console['error']('Falha\x20ao\x20recriar\x20IPv6.'))),this[_0x29361d(0x787)](),this['instance'][_0x29361d(0x56e)]=(await this[_0x29361d(0x3b8)][_0x29361d(0x25f)][_0x29361d(0x22d)](this[_0x29361d(0x6de)][_0x29361d(0x7cc)]))['apikey'],this[_0x29361d(0x6de)][_0x29361d(0x444)]=await this[_0x29361d(0x775)]();let {version:_0x4acc89}=await(0x0,w[_0x29361d(0x626)])(),_0xa95e37=[_i,ks,(0x0,xs[_0x29361d(0x2cb)])()],_0x824cea={'localAddress':_0x1e30a3,'auth':{'creds':this[_0x29361d(0x6de)][_0x29361d(0x444)]['state'][_0x29361d(0x608)],'keys':(0x0,w[_0x29361d(0x661)])(this[_0x29361d(0x6de)][_0x29361d(0x444)][_0x29361d(0x260)][_0x29361d(0x22b)],(0x0,Ft[_0x29361d(0x4ba)])({'level':_0x29361d(0x3d5)}))},'logger':(0x0,Ft['default'])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x2dd529?[_0x29361d(0x6a9),ks,(0x0,xs[_0x29361d(0x2cb)])()]:_0xa95e37,'version':_0x4acc89,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0xc80510=>{const _0x2efcdb=_0x29361d;let _0x58043a=this[_0x2efcdb(0x52b)]?.['groups_ignore']&&(0x0,w['isJidGroup'])(_0xc80510);return(0x0,w[_0x2efcdb(0x70b)])(_0xc80510)||_0x58043a;},'msgRetryCounterCache':this[_0x29361d(0x219)],'getMessage':async _0x48748d=>await this[_0x29361d(0x113)](_0x48748d),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x29361d(0x3bd)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x146aec){const _0x14af0b=_0x29361d;return _0x146aec['deviceSentMessage']?.['message']?.[_0x14af0b(0x4f4)]?.['listType']===w[_0x14af0b(0x279)][_0x14af0b(0x38d)]['ListMessage'][_0x14af0b(0x1de)][_0x14af0b(0x7dc)]&&(_0x146aec=JSON[_0x14af0b(0x4d0)](JSON['stringify'](_0x146aec)),_0x146aec['deviceSentMessage'][_0x14af0b(0x3d1)][_0x14af0b(0x4f4)]['listType']=w[_0x14af0b(0x279)]['Message'][_0x14af0b(0x3d2)][_0x14af0b(0x1de)][_0x14af0b(0x12d)]),_0x146aec[_0x14af0b(0x4f4)]?.[_0x14af0b(0x5d7)]==w[_0x14af0b(0x279)]['Message']['ListMessage'][_0x14af0b(0x1de)][_0x14af0b(0x7dc)]&&(_0x146aec=JSON[_0x14af0b(0x4d0)](JSON[_0x14af0b(0x3d0)](_0x146aec)),_0x146aec[_0x14af0b(0x4f4)][_0x14af0b(0x5d7)]=w[_0x14af0b(0x279)]['Message']['ListMessage'][_0x14af0b(0x1de)]['SINGLE_SELECT']),_0x146aec;}};return this['endSession']=!0x1,this[_0x29361d(0x602)]=(0x0,w[_0x29361d(0x4ba)])(_0x824cea),this[_0x29361d(0x78e)](),this[_0x29361d(0x13b)]=_0x2dd529,this['client'];}catch(_0x2fb86c){let _0x5bf40e=_0x29361d(0x31e),_0x55cf2e=_0x2fb86c instanceof Error?_0x2fb86c[_0x29361d(0x3d1)]:typeof _0x2fb86c=='object'?JSON[_0x29361d(0x3d0)](_0x2fb86c):_0x2fb86c,_0x4dcbe9=_0x5bf40e+':\x20'+_0x55cf2e;throw this[_0x29361d(0x41b)][_0x29361d(0x3d5)](this[_0x29361d(0x246)]+'\x20('+this[_0x29361d(0x6de)][_0x29361d(0x11a)]+_0x29361d(0x75f)+_0x4dcbe9),console[_0x29361d(0x3d5)](_0x29361d(0xde),_0x2fb86c),_0x2fb86c instanceof Error&&console[_0x29361d(0x3d5)]('Stack\x20trace:',_0x2fb86c[_0x29361d(0x570)]),new x(_0x4dcbe9);}}[a0_0x22ca69(0x78e)](){const _0x4d16ad=a0_0x22ca69;this[_0x4d16ad(0x602)]['ev']['process'](_0x45e04c=>{const _0x17af8a=_0x4d16ad;if(!this[_0x17af8a(0x6ee)]){let _0x17b084=this['configService'][_0x17af8a(0x268)]('DATABASE');if(_0x45e04c['labels.edit']){let _0x226f64=_0x45e04c['labels.edit'];this[_0x17af8a(0x37d)][_0x17af8a(0xe2)](_0x226f64);}if(_0x45e04c[_0x17af8a(0x515)]){let _0x1a8cf0=_0x45e04c[_0x17af8a(0x515)];this[_0x17af8a(0x37d)][_0x17af8a(0x515)](_0x1a8cf0);}if(_0x45e04c['connection.update']&&this[_0x17af8a(0x7a2)](_0x45e04c[_0x17af8a(0x592)]),_0x45e04c['creds.update']&&this['instance'][_0x17af8a(0x444)][_0x17af8a(0xeb)](),_0x45e04c[_0x17af8a(0x418)]){let _0x2bbd6e=_0x45e04c[_0x17af8a(0x418)];this[_0x17af8a(0x37d)][_0x17af8a(0x418)](_0x2bbd6e,_0x17b084);}if(_0x45e04c[_0x17af8a(0xd0)]){let _0x357070=_0x45e04c['messages.upsert'];this[_0x17af8a(0x37d)]['messages.upsert'](_0x357070,_0x17b084);}if(_0x45e04c[_0x17af8a(0x3a6)]){let _0x4636aa=_0x45e04c['messages.update'];this[_0x17af8a(0x37d)][_0x17af8a(0x3a6)](_0x4636aa,_0x17b084);}if(_0x45e04c['presence.update']){let _0x3ae36=_0x45e04c['presence.update'];if(this[_0x17af8a(0x52b)]?.[_0x17af8a(0x6d0)]&&_0x3ae36['id'][_0x17af8a(0x54e)](_0x17af8a(0x464)))return;this[_0x17af8a(0x44a)](_0x17af8a(0x3f8),_0x3ae36);}if(_0x45e04c[_0x17af8a(0x416)]){let _0xb7f10a=_0x45e04c['groups.upsert'];this[_0x17af8a(0x231)]['groups.upsert'](_0xb7f10a);}if(_0x45e04c['groups.update']){let _0x383dae=_0x45e04c[_0x17af8a(0x452)];this[_0x17af8a(0x231)][_0x17af8a(0x452)](_0x383dae);}if(_0x45e04c['group-participants.update']){let _0x5393ad=_0x45e04c[_0x17af8a(0x365)];this[_0x17af8a(0x231)]['group-participants.update'](_0x5393ad);}if(_0x45e04c[_0x17af8a(0x415)]){let _0x23adc9=_0x45e04c[_0x17af8a(0x415)];this[_0x17af8a(0x251)][_0x17af8a(0x415)](_0x23adc9,_0x17b084);}if(_0x45e04c['chats.update']){let _0x2985ee=_0x45e04c['chats.update'];this[_0x17af8a(0x251)][_0x17af8a(0x622)](_0x2985ee,_0x17b084);}if(_0x45e04c[_0x17af8a(0x244)]){let _0x3aa7e2=_0x45e04c[_0x17af8a(0x244)];this[_0x17af8a(0x251)][_0x17af8a(0x244)](_0x3aa7e2);}if(_0x45e04c[_0x17af8a(0x369)]){let _0x41c36c=_0x45e04c[_0x17af8a(0x369)];this[_0x17af8a(0x4e9)][_0x17af8a(0x369)](_0x41c36c,_0x17b084);}if(_0x45e04c[_0x17af8a(0x62e)]){let _0xaf83f1=_0x45e04c[_0x17af8a(0x62e)];this[_0x17af8a(0x4e9)]['contacts.update'](_0xaf83f1,_0x17b084);}}});}async[a0_0x22ca69(0x342)](_0x468a89,_0x5e50c0){const _0x5f575f=a0_0x22ca69;if(_0x5e50c0>=0xa){console[_0x5f575f(0x3d5)](this['instanceName']+'\x20('+this[_0x5f575f(0x6de)][_0x5f575f(0x11a)]+_0x5f575f(0x3b3)),delete Lt[_0x468a89['key']['id']];return;}try{console[_0x5f575f(0x3d5)](this[_0x5f575f(0x246)]+'\x20('+this['instance']['wuid']+_0x5f575f(0x3ce)+(_0x5e50c0+0x1)),await this[_0x5f575f(0x602)][_0x5f575f(0x74d)](JSON[_0x5f575f(0x4d0)](_0x468a89[_0x5f575f(0x74c)][0x1],w[_0x5f575f(0x147)][_0x5f575f(0x3e4)])),console[_0x5f575f(0x3d5)](_0x5f575f(0x25b));}catch(_0x1c5596){console['error'](this['instanceName']+'\x20('+this[_0x5f575f(0x6de)]['wuid']+_0x5f575f(0x9f)+_0x1c5596),setTimeout(()=>this[_0x5f575f(0x342)](_0x468a89,_0x5e50c0+0x1),Math[_0x5f575f(0x233)](0x2,_0x5e50c0)*0x3e8);}}[a0_0x22ca69(0x571)](_0x3575c9){return new Promise(_0x5dbccd=>setTimeout(_0x5dbccd,_0x3575c9));}[a0_0x22ca69(0x71e)](_0xe37fe1){const _0x156b63=a0_0x22ca69;_0xe37fe1=_0xe37fe1['replace'](/\D/g,'');let _0x3a90c8=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x156b63(0x298)](_0xe37fe1);if(_0x3a90c8&&_0x3a90c8[0x1]==='55'){let _0x56d518=_0x3a90c8[0x2],_0x3449f0=_0x3a90c8[0x3],_0x19c25f=_0x3a90c8[0x4];if(parseInt(_0x56d518)>=0x1f&&_0x3449f0==='9')return _0x3a90c8[0x1]+_0x56d518+_0x19c25f;}return _0xe37fe1;}[a0_0x22ca69(0x753)](_0x23f9ef){const _0x5291ff=a0_0x22ca69;return _0x23f9ef[_0x5291ff(0x54e)](_0x5291ff(0x464))||_0x23f9ef['includes']('@s.whatsapp.net')||_0x23f9ef[_0x5291ff(0x54e)](_0x5291ff(0x32a))?_0x23f9ef:(_0x23f9ef=_0x23f9ef?.['replace'](/\s/g,'')[_0x5291ff(0x1f1)](/\+/g,'')['replace'](/\(/g,'')[_0x5291ff(0x1f1)](/\)/g,'')[_0x5291ff(0x6fc)](/\:/)[0x0]['split']('@')[0x0],_0x23f9ef['length']>=0x12?(_0x23f9ef=_0x23f9ef[_0x5291ff(0x1f1)](/[^\d-]/g,''),_0x23f9ef+'@g.us'):(_0x23f9ef=_0x23f9ef[_0x5291ff(0x1f1)](/\D/g,''),_0x23f9ef+'@s.whatsapp.net'));}async['updatePresence'](_0x56058d){const _0x491933=a0_0x22ca69;let _0x584081=(await this[_0x491933(0x6ab)]({'numbers':[_0x56058d[_0x491933(0x395)]]}))[0x0];if(!_0x584081[_0x491933(0x786)]&&!(0x0,w[_0x491933(0x164)])(_0x584081[_0x491933(0x377)])&&!_0x584081[_0x491933(0x377)]['includes']('@broadcast'))throw new m(_0x584081);let _0x212915=_0x584081['jid'];try{return await this[_0x491933(0x602)]['presenceSubscribe'](_0x212915),await this[_0x491933(0x602)][_0x491933(0x75e)](_0x56058d[_0x491933(0x12c)],_0x212915),{'status':0xc8,'presence':_0x56058d[_0x491933(0x12c)]};}catch(_0x54b5ac){let _0x318ca1=_0x491933(0x73c),_0x5efe32=_0x54b5ac instanceof Error?_0x54b5ac['message']:typeof _0x54b5ac==_0x491933(0x769)?JSON[_0x491933(0x3d0)](_0x54b5ac):_0x54b5ac,_0x17e667=_0x318ca1+':\x20'+_0x5efe32;throw this['logger']['error'](this[_0x491933(0x246)]+'\x20('+this[_0x491933(0x6de)][_0x491933(0x11a)]+_0x491933(0x75f)+_0x17e667),new m(_0x17e667);}}async['findAndUpdateCacheContact'](_0x364da1,_0x32e8a2,_0x3ddae5,_0x107322=!0x0){const _0x272ae0=a0_0x22ca69;let _0x355e13=await this[_0x272ae0(0x3b8)][_0x272ae0(0xbf)][_0x272ae0(0x743)]({'where':{'_id':_0x364da1}});if(!_0x355e13&&!_0x107322)return;let _0x276d9c={'lastUpdate':Date[_0x272ae0(0x690)]()};if(_0x3ddae5||!_0x355e13?.[_0x272ae0(0x752)]||Date[_0x272ae0(0x690)]()-_0x355e13['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x53dcaf=(await this[_0x272ae0(0x370)](_0x364da1))['profilePictureUrl'];_0x276d9c['pictureUrl']=_0x53dcaf;}catch(_0x43786b){let _0x4652fe='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x32e2ba=_0x43786b instanceof Error?_0x43786b['message']:typeof _0x43786b==_0x272ae0(0x769)?JSON[_0x272ae0(0x3d0)](_0x43786b):_0x43786b,_0x5be0a2=_0x4652fe+':\x20'+_0x32e2ba;throw this[_0x272ae0(0x41b)][_0x272ae0(0x3d5)](this[_0x272ae0(0x246)]+'\x20('+this[_0x272ae0(0x6de)]['wuid']+_0x272ae0(0x75f)+_0x5be0a2),new m(_0x5be0a2);}return _0x32e8a2&&_0x355e13?.[_0x272ae0(0x7cc)]!==_0x32e8a2&&(_0x276d9c[_0x272ae0(0x7cc)]=_0x32e8a2),Object['keys'](_0x276d9c)[_0x272ae0(0x6a0)]>0x1&&(_0x355e13?await this[_0x272ae0(0x3b8)][_0x272ae0(0xbf)][_0x272ae0(0xd6)]({'where':{'_id':_0x364da1}},_0x276d9c):await this[_0x272ae0(0x3b8)][_0x272ae0(0xbf)][_0x272ae0(0x455)]([{'_id':_0x364da1,..._0x276d9c}]),_0x355e13={..._0x355e13,..._0x276d9c}),{'cachedContact':_0x355e13};}async['profilePicture'](_0x2ec83a){const _0x41de31=a0_0x22ca69;let _0x9f8fd0=this['createJid'](_0x2ec83a);try{return{'wuid':_0x9f8fd0,'profilePictureUrl':await this[_0x41de31(0x602)][_0x41de31(0x5fa)](_0x9f8fd0,_0x41de31(0x2a0))};}catch{return{'wuid':_0x9f8fd0,'profilePictureUrl':null};}}async[a0_0x22ca69(0x59d)](_0x1173ab,_0x406ee6,_0xa2394c){const _0x188cbd=a0_0x22ca69;let _0x2f891d;try{let _0x269c02=(await this[_0x188cbd(0x6ab)]({'numbers':[_0x1173ab]}))?.[_0x188cbd(0x170)]();if(!_0x269c02[_0x188cbd(0x786)]&&!(0x0,w[_0x188cbd(0x164)])(_0x269c02[_0x188cbd(0x377)])&&!_0x269c02['jid'][_0x188cbd(0x54e)](_0x188cbd(0x32a)))throw new m(_0x269c02);_0x2f891d=_0x269c02[_0x188cbd(0x377)];}catch(_0x361d43){_0x2f891d=_0x1173ab,this[_0x188cbd(0x41b)]['warn'](this[_0x188cbd(0x246)]+'\x20('+this['instance'][_0x188cbd(0x11a)]+_0x188cbd(0x4b4)+_0x361d43[_0x188cbd(0x3d1)]),this['logger']['warn'](this[_0x188cbd(0x246)]+'\x20('+this[_0x188cbd(0x6de)][_0x188cbd(0x11a)]+'):\x20sender\x20=\x20number:\x20'+_0x2f891d);}try{if(_0x2f891d||(_0x2f891d=_0x1173ab,this[_0x188cbd(0x41b)][_0x188cbd(0x7b6)](this[_0x188cbd(0x246)]+'\x20('+this[_0x188cbd(0x6de)]['wuid']+'):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20'+_0x2f891d)),_0xa2394c||(_0xa2394c={}),_0xa2394c?.[_0x188cbd(0x222)]){await this[_0x188cbd(0x602)][_0x188cbd(0x655)](_0x2f891d),await this[_0x188cbd(0x602)][_0x188cbd(0x75e)](_0xa2394c?.[_0x188cbd(0x12c)]??_0x188cbd(0x317),_0x2f891d);let _0x568344=Math['min'](_0xa2394c[_0x188cbd(0x222)],0x2710);await(0x0,w['delay'])(_0x568344),await this[_0x188cbd(0x602)][_0x188cbd(0x75e)](_0x188cbd(0x6c8),_0x2f891d);}let _0x4dbd47=_0xa2394c?.[_0x188cbd(0xad)]!=!0x1?void 0x0:!0x1,_0x36ce27;if(_0xa2394c?.[_0x188cbd(0x482)]){let _0x55de0f=_0xa2394c?.[_0x188cbd(0x482)],_0x1ce5a7=_0x55de0f?.[_0x188cbd(0x3d1)]?_0x55de0f:await this['getMessage'](_0x55de0f[_0x188cbd(0x1cc)],!0x0);_0x1ce5a7&&(_0x36ce27=_0x1ce5a7);}let _0x5ab6a7=await this[_0x188cbd(0x3b8)][_0x188cbd(0x24b)][_0x188cbd(0x743)]({'where':{'_id':_0x2f891d}},this[_0x188cbd(0x6de)][_0x188cbd(0x11a)]),_0x39b64f,_0x214d3e=null;if((0x0,w[_0x188cbd(0x164)])(_0x2f891d))try{if(_0x214d3e=_0x5ab6a7[_0x188cbd(0x5ef)],!_0x214d3e)throw new U('Grupo\x20não\x20encontrado');if(!_0x214d3e[_0x188cbd(0x560)])throw new m(_0x188cbd(0x2e4));_0xa2394c?.[_0x188cbd(0x353)]&&(_0xa2394c[_0x188cbd(0x353)]?.['everyOne']?_0x39b64f=_0x214d3e[_0x188cbd(0x72f)][_0x188cbd(0x322)](_0x2765cd=>_0x2765cd['id']):_0xa2394c[_0x188cbd(0x353)]?.['mentioned']?.['length']&&(_0x39b64f=_0xa2394c[_0x188cbd(0x353)][_0x188cbd(0x66b)][_0x188cbd(0x322)](_0x41eb08=>{const _0x330ecd=_0x188cbd;let _0x1fe8f7=this['createJid'](_0x41eb08);return(0x0,w[_0x330ecd(0x164)])(_0x1fe8f7)?null:_0x1fe8f7;})));}catch(_0x14c407){throw _0x14c407 instanceof U?new U(_0x188cbd(0x257)):_0x14c407 instanceof m?new m(_0x188cbd(0x2e4)):new Error(_0x188cbd(0x760));}let _0x36f571=await((async()=>{const _0x602fea=_0x188cbd;let _0xde03d3={'quoted':_0x36ce27,'ephemeralExpiration':_0x5ab6a7?.['ephemeralExpiration']??0x0};if(!_0x406ee6[_0x602fea(0x653)]&&!_0x406ee6[_0x602fea(0x171)]&&!_0x406ee6[_0x602fea(0x737)]&&!_0x406ee6[_0x602fea(0x509)]&&_0x2f891d!==_0x602fea(0x15c)&&_0x406ee6[_0x602fea(0x270)])return await this[_0x602fea(0x602)][_0x602fea(0x695)](_0x2f891d,{'react':{'text':_0x406ee6[_0x602fea(0x270)][_0x602fea(0x1b8)],'key':_0x406ee6[_0x602fea(0x270)]['key']}},_0xde03d3);if(_0x406ee6[_0x602fea(0x509)]){let _0x249de3=_0x406ee6[_0x602fea(0x509)];return _0xa2394c?.[_0x602fea(0x5f5)]&&(_0x249de3=await this[_0x602fea(0x59c)](_0x249de3,_0x2f891d)),await this[_0x602fea(0x602)][_0x602fea(0x695)](_0x2f891d,{'text':_0x249de3,'mentions':_0x39b64f,'linkPreview':_0x4dbd47},_0xde03d3);}return!_0x406ee6[_0x602fea(0x653)]&&!_0x406ee6[_0x602fea(0x171)]&&_0x2f891d!=_0x602fea(0x15c)?await this[_0x602fea(0x602)][_0x602fea(0x695)](_0x2f891d,{'forward':{'key':{'remoteJid':this[_0x602fea(0x6de)]['wuid'],'fromMe':!0x0},'message':_0x406ee6},'mentions':_0x39b64f},_0xde03d3):_0x2f891d===_0x602fea(0x15c)?await this[_0x602fea(0x602)][_0x602fea(0x695)](_0x2f891d,_0x406ee6[_0x602fea(0x172)][_0x602fea(0x1fe)],{'backgroundColor':_0x406ee6[_0x602fea(0x172)]['option']['backgroundColor'],'font':_0x406ee6[_0x602fea(0x172)][_0x602fea(0x3fe)][_0x602fea(0x6e7)],'statusJidList':_0x406ee6[_0x602fea(0x172)][_0x602fea(0x3fe)][_0x602fea(0x168)]}):await this[_0x602fea(0x602)]['sendMessage'](_0x2f891d,_0x406ee6,_0xde03d3);})()),_0x3b1503=(0x0,w[_0x188cbd(0x38e)])(_0x36f571[_0x188cbd(0x3d1)]),_0x114369=(0x0,w[_0x188cbd(0x6f7)])(_0x3b1503),{message_normalized:_0x317356}=this[_0x188cbd(0x9a)](_0x3b1503,_0x114369,null),_0x59b55c={'_id':_0x36f571['key']['id'],'key':_0x36f571[_0x188cbd(0x1cc)],'pushName':_0x36f571[_0x188cbd(0x45b)],'isGroup':_0x36f571[_0x188cbd(0x1cc)][_0x188cbd(0x61d)]['endsWith']('@g.us'),'profilePictureUrl':this['instance'][_0x188cbd(0x5fa)],'message':_0x3b1503,'messageType':_0x114369,'message_normalized':{'key':_0x36f571['key'],'pushName':_0x36f571[_0x188cbd(0x45b)],'messageTimestamp':_0x36f571['messageTimestamp']&&_0x36f571[_0x188cbd(0xee)]['toString']()[_0x188cbd(0x6a0)]<0xd?_0x36f571[_0x188cbd(0xee)]*0x3e8:_0x36f571['messageTimestamp']||null,'source':(0x0,w['getDevice'])(_0x36f571['key']['id']),..._0x317356},'messageTimestamp':_0x36f571[_0x188cbd(0xee)]&&_0x36f571['messageTimestamp'][_0x188cbd(0x12e)]()[_0x188cbd(0x6a0)]<0xd?_0x36f571[_0x188cbd(0xee)]*0x3e8:_0x36f571[_0x188cbd(0xee)]||null,'owner':this['instance'][_0x188cbd(0x11a)],'source':(0x0,w[_0x188cbd(0x719)])(_0x36f571[_0x188cbd(0x1cc)]['id'])};return this[_0x188cbd(0x41b)]['warn'](this['instanceName']+'\x20('+this[_0x188cbd(0x6de)][_0x188cbd(0x11a)]+_0x188cbd(0x3c0)+_0x59b55c['key']?.[_0x188cbd(0x61d)][_0x188cbd(0x1f1)](_0x188cbd(0x605),'')+_0x188cbd(0x4eb)+_0x59b55c[_0x188cbd(0x334)]+')'),_0x59b55c[_0x188cbd(0x2c2)]?.['text']&&this[_0x188cbd(0x41b)][_0x188cbd(0x7b6)](_0x59b55c[_0x188cbd(0x2c2)]?.[_0x188cbd(0x1b8)]),this[_0x188cbd(0x44a)](_0x188cbd(0x3e9),_0x59b55c),J(this[_0x188cbd(0x246)],_0x188cbd(0x42e),{'message':_0x59b55c}),this[_0x188cbd(0x433)](this['configService']['get'](_0x188cbd(0x48a)),_0x59b55c,'SEND_MESSAGE',_0x5ab6a7),await this['repository'][_0x188cbd(0x3d1)][_0x188cbd(0x455)]([_0x59b55c],this[_0x188cbd(0x6de)][_0x188cbd(0x11a)]),_0x36f571;}catch(_0x5f23da){let _0x5c5c0a='Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20'+_0x2f891d,_0x13b981=_0x5f23da instanceof Error?_0x5f23da[_0x188cbd(0x3d1)]:typeof _0x5f23da==_0x188cbd(0x769)?JSON[_0x188cbd(0x3d0)](_0x5f23da):_0x5f23da,_0x4fc075=_0x5c5c0a+':\x20'+_0x13b981;throw this[_0x188cbd(0x41b)][_0x188cbd(0x3d5)](this['instanceName']+'\x20('+this['instance'][_0x188cbd(0x11a)]+_0x188cbd(0x75f)+_0x4fc075),new m(_0x4fc075);}}get[a0_0x22ca69(0x2ff)](){const _0x23e70e=a0_0x22ca69;return this[_0x23e70e(0x667)];}async['textMessage'](_0x34baca){const _0x29b49d=a0_0x22ca69;return await this[_0x29b49d(0x59d)](_0x34baca[_0x29b49d(0x395)],{'conversation':_0x34baca[_0x29b49d(0x20f)][_0x29b49d(0x1b8)]},_0x34baca?.['options']);}async[a0_0x22ca69(0x72a)](_0x340b31){const _0x590138=a0_0x22ca69;if(!_0x340b31[_0x590138(0x399)])throw new m(_0x590138(0x214));if(!_0x340b31[_0x590138(0x1fe)])throw new m('Content\x20is\x20required');if(_0x340b31[_0x590138(0x686)]){let _0x190c42=await this[_0x590138(0x3b8)][_0x590138(0x301)][_0x590138(0x22d)]({'where':{}},this['instance'][_0x590138(0x11a)]);if(!_0x190c42[_0x590138(0x6a0)])throw new m(_0x590138(0x1e3));_0x340b31[_0x590138(0x168)]=_0x190c42[_0x590138(0x716)](_0x1acf64=>_0x1acf64['pushName'])['map'](_0x4e2e98=>_0x4e2e98[_0x590138(0x646)]);}if(!_0x340b31[_0x590138(0x168)]?.[_0x590138(0x6a0)]&&!_0x340b31[_0x590138(0x686)])throw new m(_0x590138(0x647));if(_0x340b31[_0x590138(0x399)]==='text'){if(!_0x340b31[_0x590138(0x6ca)])throw new m(_0x590138(0x381));if(!_0x340b31[_0x590138(0x6e7)])throw new m(_0x590138(0x5fc));return{'content':{'text':_0x340b31[_0x590138(0x1fe)]},'option':{'backgroundColor':_0x340b31[_0x590138(0x6ca)],'font':_0x340b31[_0x590138(0x6e7)],'statusJidList':_0x340b31[_0x590138(0x168)]}};}if(_0x340b31['type']==='image')return{'content':{'image':{'url':_0x340b31[_0x590138(0x1fe)]},'caption':_0x340b31[_0x590138(0x3ba)]},'option':{'statusJidList':_0x340b31[_0x590138(0x168)]}};if(_0x340b31[_0x590138(0x399)]===_0x590138(0x57e))return{'content':{'video':{'url':_0x340b31[_0x590138(0x1fe)]},'caption':_0x340b31[_0x590138(0x3ba)]},'option':{'statusJidList':_0x340b31[_0x590138(0x168)]}};if(_0x340b31[_0x590138(0x399)]==='audio'){this[_0x590138(0x41b)]['verbose'](this['instanceName']+'\x20('+this[_0x590138(0x6de)][_0x590138(0x11a)]+_0x590138(0x745)),this['logger'][_0x590138(0x36c)](this['instanceName']+'\x20('+this[_0x590138(0x6de)][_0x590138(0x11a)]+_0x590138(0x514));let _0x57d5dc=await this[_0x590138(0x664)](_0x340b31[_0x590138(0x1fe)]);if(typeof _0x57d5dc=='string'){this['logger'][_0x590138(0x36c)](this['instanceName']+'\x20('+this[_0x590138(0x6de)][_0x590138(0x11a)]+_0x590138(0x723));let _0x20996c=L[_0x590138(0x4ae)](_0x57d5dc)[_0x590138(0x12e)](_0x590138(0x4d1));return{'content':{'audio':Buffer[_0x590138(0x227)](_0x20996c,_0x590138(0x4d1)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x340b31['statusJidList']}};}else throw new x(_0x57d5dc);}throw new m(_0x590138(0x4e6));}async[a0_0x22ca69(0x505)](_0x47470b){const _0x19b3b0=a0_0x22ca69;return await this[_0x19b3b0(0x59d)](_0x19b3b0(0x15c),{'status':await this[_0x19b3b0(0x72a)](_0x47470b[_0x19b3b0(0x505)])});}async['prepareMediaMessage'](_0x24049c){const _0x165778=a0_0x22ca69;try{let _0x4a0858=await(0x0,w[_0x165778(0x740)])({[_0x24049c[_0x165778(0x607)]]:(0x0,k['isURL'])(_0x24049c[_0x165778(0x66c)])?{'url':_0x24049c['media']}:Buffer['from'](_0x24049c[_0x165778(0x66c)],_0x165778(0x4d1))},{'upload':this['client'][_0x165778(0x58e)]}),_0x33173b=_0x24049c[_0x165778(0x607)]+_0x165778(0x38d);if(_0x24049c[_0x165778(0x607)]===_0x165778(0x7ad)&&!_0x24049c[_0x165778(0x4fb)]){let _0x16f01c=new RegExp(/.*\/(.+?)\./)['exec'](_0x24049c[_0x165778(0x66c)]);_0x24049c['fileName']=_0x16f01c?_0x16f01c[0x1]:null;}let _0x25c7d0;return(0x0,k[_0x165778(0x167)])(_0x24049c['media'])?_0x25c7d0=(await X['default'][_0x165778(0x268)](_0x24049c[_0x165778(0x66c)],{'responseType':'arraybuffer'}))[_0x165778(0x5c7)][_0x165778(0x441)]:_0x25c7d0=(0x0,Oi[_0x165778(0xff)])(_0x24049c['fileName']),_0x4a0858[_0x33173b]['caption']=_0x24049c?.[_0x165778(0x3ba)],_0x4a0858[_0x33173b][_0x165778(0x36e)]=_0x25c7d0,_0x4a0858[_0x33173b]['fileName']=_0x24049c['fileName'],_0x24049c[_0x165778(0x607)]===_0x165778(0x57e)&&(_0x4a0858[_0x33173b][_0x165778(0x1ac)]=Uint8Array[_0x165778(0x227)]((0x0,ke[_0x165778(0x4ae)])((0x0,j[_0x165778(0x20b)])(process[_0x165778(0x45c)](),'video-cover.png'))),_0x4a0858[_0x33173b][_0x165778(0xc0)]=!0x1),(0x0,w[_0x165778(0x701)])('',{[_0x33173b]:{..._0x4a0858[_0x33173b]}},{'userJid':this[_0x165778(0x6de)][_0x165778(0x11a)]});}catch(_0x288258){let _0x121e84=_0x165778(0x2d4),_0x671024=_0x288258 instanceof Error?_0x288258[_0x165778(0x3d1)]:typeof _0x288258=='object'?JSON[_0x165778(0x3d0)](_0x288258):_0x288258,_0x44ffa4=_0x121e84+':\x20'+_0x671024;throw this['logger'][_0x165778(0x3d5)](this[_0x165778(0x246)]+'\x20('+this[_0x165778(0x6de)][_0x165778(0x11a)]+'):\x20'+_0x44ffa4),new x(_0x44ffa4);}}async[a0_0x22ca69(0x23c)](_0x4d7b85){const _0x41a2df=a0_0x22ca69;let _0x6e4f5=await this[_0x41a2df(0x68a)](_0x4d7b85[_0x41a2df(0x23c)]);return await this[_0x41a2df(0x59d)](_0x4d7b85['number'],{..._0x6e4f5[_0x41a2df(0x3d1)]},_0x4d7b85?.['options']);}async[a0_0x22ca69(0x4e4)](_0x34a015,_0x1e88e7){const _0x8b95f0=a0_0x22ca69;try{this[_0x8b95f0(0x41b)][_0x8b95f0(0x36c)](this['instanceName']+'\x20('+this[_0x8b95f0(0x6de)][_0x8b95f0(0x11a)]+_0x8b95f0(0x5cd));let _0x143110,_0x362045=_0x1e88e7+'-'+new Date()[_0x8b95f0(0x287)]();this[_0x8b95f0(0x41b)]['verbose'](this[_0x8b95f0(0x246)]+'\x20('+this['instance'][_0x8b95f0(0x11a)]+_0x8b95f0(0x201)+_0x362045);let _0x96bdd=''+(0x0,j[_0x8b95f0(0x20b)])(this[_0x8b95f0(0x3f9)],_0x362045+_0x8b95f0(0xc9));if(this['logger']['verbose'](this[_0x8b95f0(0x246)]+'\x20('+this[_0x8b95f0(0x6de)][_0x8b95f0(0x11a)]+_0x8b95f0(0x479)+_0x96bdd),(0x0,k['isBase64'])(_0x34a015)){this['logger'][_0x8b95f0(0x36c)](this['instanceName']+'\x20('+this[_0x8b95f0(0x6de)][_0x8b95f0(0x11a)]+_0x8b95f0(0xbc));let _0x1ca86a=_0x34a015[_0x8b95f0(0x1f1)](/^data:image\/(jpeg|png|gif);base64,/,''),_0xd29bf6=Buffer[_0x8b95f0(0x227)](_0x1ca86a,'base64');_0x143110=''+(0x0,j[_0x8b95f0(0x20b)])(this[_0x8b95f0(0x3f9)],_0x8b95f0(0x79e)+_0x362045+_0x8b95f0(0x7e7)),this[_0x8b95f0(0x41b)][_0x8b95f0(0x36c)](this['instanceName']+'\x20('+this[_0x8b95f0(0x6de)][_0x8b95f0(0x11a)]+_0x8b95f0(0x3df)+_0x143110),await(0x0,Ut['default'])(_0xd29bf6)[_0x8b95f0(0x32e)](_0x143110),this[_0x8b95f0(0x41b)][_0x8b95f0(0x36c)](this[_0x8b95f0(0x246)]+'\x20('+this['instance'][_0x8b95f0(0x11a)]+_0x8b95f0(0x2ca));}else{this[_0x8b95f0(0x41b)][_0x8b95f0(0x36c)](this[_0x8b95f0(0x246)]+'\x20('+this[_0x8b95f0(0x6de)][_0x8b95f0(0x11a)]+_0x8b95f0(0xb7));let _0x21d068=new Date()[_0x8b95f0(0x287)](),_0x1e84dd=_0x34a015+_0x8b95f0(0x1d1)+_0x21d068;this['logger']['verbose'](this[_0x8b95f0(0x246)]+'\x20('+this[_0x8b95f0(0x6de)]['wuid']+'):including\x20timestamp\x20in\x20url:\x20'+_0x1e84dd);let _0x3c2a9c=await X[_0x8b95f0(0x4ba)][_0x8b95f0(0x268)](_0x1e84dd,{'responseType':_0x8b95f0(0x771)});this['logger'][_0x8b95f0(0x36c)](this[_0x8b95f0(0x246)]+'\x20('+this['instance'][_0x8b95f0(0x11a)]+_0x8b95f0(0x54f));let _0x3dff09=Buffer[_0x8b95f0(0x227)](_0x3c2a9c[_0x8b95f0(0x758)],_0x8b95f0(0x556));_0x143110=''+(0x0,j[_0x8b95f0(0x20b)])(this[_0x8b95f0(0x3f9)],'temp-'+_0x362045+_0x8b95f0(0x7e7)),this[_0x8b95f0(0x41b)]['verbose'](this[_0x8b95f0(0x246)]+'\x20('+this[_0x8b95f0(0x6de)][_0x8b95f0(0x11a)]+_0x8b95f0(0x3df)+_0x143110),await(0x0,Ut[_0x8b95f0(0x4ba)])(_0x3dff09)[_0x8b95f0(0x32e)](_0x143110),this['logger']['verbose'](this[_0x8b95f0(0x246)]+'\x20('+this['instance']['wuid']+_0x8b95f0(0x2ca));}return await(0x0,Ut[_0x8b95f0(0x4ba)])(_0x143110)['webp']()[_0x8b95f0(0x32e)](_0x96bdd),this[_0x8b95f0(0x41b)][_0x8b95f0(0x36c)](this[_0x8b95f0(0x246)]+'\x20('+this[_0x8b95f0(0x6de)]['wuid']+_0x8b95f0(0x442)),L[_0x8b95f0(0x4b5)](_0x143110),this[_0x8b95f0(0x41b)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x8b95f0(0x674)),_0x96bdd;}catch(_0x3fca31){let _0x122aee='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x501e45=_0x3fca31 instanceof Error?_0x3fca31[_0x8b95f0(0x3d1)]:typeof _0x3fca31==_0x8b95f0(0x769)?JSON['stringify'](_0x3fca31):_0x3fca31,_0x1ed514=_0x122aee+':\x20'+_0x501e45;this[_0x8b95f0(0x41b)]['error'](this['instanceName']+'\x20('+this[_0x8b95f0(0x6de)][_0x8b95f0(0x11a)]+'):\x20'+_0x1ed514);}}async[a0_0x22ca69(0x524)](_0x246236){const _0x2d7c75=a0_0x22ca69;let _0x360cee=await this[_0x2d7c75(0x4e4)](_0x246236[_0x2d7c75(0x557)][_0x2d7c75(0x2a0)],_0x246236[_0x2d7c75(0x395)]),_0x467d34=await this[_0x2d7c75(0x59d)](_0x246236[_0x2d7c75(0x395)],{'sticker':{'url':_0x360cee}},_0x246236?.[_0x2d7c75(0x1e4)]);return L[_0x2d7c75(0x4b5)](_0x360cee),this[_0x2d7c75(0x41b)]['verbose'](this[_0x2d7c75(0x246)]+'\x20('+this[_0x2d7c75(0x6de)]['wuid']+_0x2d7c75(0x4d6)),_0x467d34;}async[a0_0x22ca69(0x539)](_0x2fc847){const _0x2825de=a0_0x22ca69;if(this[_0x2825de(0x41b)][_0x2825de(0x36c)](this[_0x2825de(0x246)]+'\x20('+this[_0x2825de(0x6de)][_0x2825de(0x11a)]+_0x2825de(0x6e0)),!_0x2fc847[_0x2825de(0x1e4)]?.[_0x2825de(0x7ba)]&&_0x2fc847[_0x2825de(0x1e4)]?.[_0x2825de(0x7ba)]!==!0x1&&(_0x2fc847[_0x2825de(0x1e4)][_0x2825de(0x7ba)]=!0x0),_0x2fc847['options']?.[_0x2825de(0x7ba)]){let _0x11988f=await this[_0x2825de(0x664)](_0x2fc847[_0x2825de(0x238)][_0x2825de(0x653)]);if(typeof _0x11988f==_0x2825de(0x5ee)){let _0x25eba8=L[_0x2825de(0x4ae)](_0x11988f)[_0x2825de(0x12e)](_0x2825de(0x4d1));return this[_0x2825de(0x59d)](_0x2fc847['number'],{'audio':Buffer[_0x2825de(0x227)](_0x25eba8,'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':'recording','delay':_0x2fc847?.['options']?.['delay']});}else throw new x(_0x11988f);}return await this[_0x2825de(0x59d)](_0x2fc847['number'],{'audio':(0x0,k[_0x2825de(0x167)])(_0x2fc847['audioMessage'][_0x2825de(0x653)])?{'url':_0x2fc847[_0x2825de(0x238)]['audio']}:Buffer[_0x2825de(0x227)](_0x2fc847[_0x2825de(0x238)][_0x2825de(0x653)],_0x2825de(0x4d1)),'ptt':!0x0,'mimetype':_0x2825de(0x2eb)},{'presence':_0x2825de(0x195),'delay':_0x2fc847?.[_0x2825de(0x1e4)]?.[_0x2825de(0x222)]});}async[a0_0x22ca69(0x664)](_0x241aca){const _0x25f238=a0_0x22ca69;this[_0x25f238(0x41b)][_0x25f238(0x36c)](this[_0x25f238(0x246)]+'\x20('+this['instance'][_0x25f238(0x11a)]+_0x25f238(0x514));let _0x44f065=(0x0,k[_0x25f238(0x167)])(_0x241aca)?(0x0,jt[_0x25f238(0x6df)])(_0x25f238(0x2e3))['update'](_0x241aca)['digest'](_0x25f238(0x550)):(0x0,jt[_0x25f238(0x6df)])(_0x25f238(0x2e3))[_0x25f238(0xd6)](_0x241aca)[_0x25f238(0x7d1)](_0x25f238(0x550)),_0xc6abd1=''+(0x0,j['join'])(this[_0x25f238(0x3f9)],_0x44f065+'.ogg');if(L[_0x25f238(0x439)](_0xc6abd1))return this[_0x25f238(0x41b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x25f238(0x11a)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0xc6abd1;let _0x5776e7=''+(0x0,j[_0x25f238(0x20b)])(this[_0x25f238(0x3f9)],'temp-'+(0x0,H['v4'])()+'.mp3');if((0x0,k[_0x25f238(0x167)])(_0x241aca)){let _0x291284=new Date()[_0x25f238(0x287)](),_0x9ea4d3=_0x241aca+_0x25f238(0x1d1)+_0x291284,_0x4a9d77=await X[_0x25f238(0x4ba)][_0x25f238(0x268)](_0x9ea4d3,{'responseType':_0x25f238(0x771)});L[_0x25f238(0x5e5)](_0x5776e7,_0x4a9d77[_0x25f238(0x758)]);}else{let _0x476126=Buffer[_0x25f238(0x227)](_0x241aca,_0x25f238(0x4d1));L[_0x25f238(0x5e5)](_0x5776e7,_0x476126);}return new Promise((_0x30800d,_0x1f95b3)=>{const _0x33889d=_0x25f238;(0x0,Le[_0x33889d(0x298)])(_s[_0x33889d(0x4ba)][_0x33889d(0x755)]+'\x20-i\x20'+_0x5776e7+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0xc6abd1+'\x20-y',_0x2eb34b=>{const _0x33ab81=_0x33889d;if(L[_0x33ab81(0x4b5)](_0x5776e7),_0x2eb34b){this['logger'][_0x33ab81(0x36c)](this[_0x33ab81(0x246)]+'\x20('+this[_0x33ab81(0x6de)][_0x33ab81(0x11a)]+_0x33ab81(0x1fa)),_0x1f95b3(_0x2eb34b);return;}this[_0x33ab81(0x41b)][_0x33ab81(0x36c)](this['instanceName']+'\x20('+this[_0x33ab81(0x6de)][_0x33ab81(0x11a)]+_0x33ab81(0xf4)),_0x30800d(_0xc6abd1);});});}async[a0_0x22ca69(0x58d)](_0x1f35ef){const _0x6001a6=a0_0x22ca69;this[_0x6001a6(0x41b)][_0x6001a6(0x36c)](this['instanceName']+'\x20('+this[_0x6001a6(0x6de)]['wuid']+_0x6001a6(0x514));let _0x52c0dd=(0x0,jt[_0x6001a6(0x6df)])(_0x6001a6(0x2e3))[_0x6001a6(0xd6)](_0x1f35ef)[_0x6001a6(0x7d1)](_0x6001a6(0x550)),_0x5112a4=''+(0x0,j['join'])(this[_0x6001a6(0x3f9)],_0x52c0dd+'.mp3');if(L['existsSync'](_0x5112a4))return this[_0x6001a6(0x41b)][_0x6001a6(0x36c)](this['instanceName']+'\x20('+this[_0x6001a6(0x6de)][_0x6001a6(0x11a)]+_0x6001a6(0x88)),j[_0x6001a6(0x4ba)]['basename'](_0x5112a4);let _0x43d72f=''+(0x0,j[_0x6001a6(0x20b)])(this['storePath'],_0x6001a6(0x79e)+_0x52c0dd+_0x6001a6(0x100));if((0x0,k[_0x6001a6(0x167)])(_0x1f35ef)){let _0x50ac79=new Date()['getTime'](),_0x4e2128=_0x1f35ef+_0x6001a6(0x1d1)+_0x50ac79,_0x55c8a6=await X['default'][_0x6001a6(0x268)](_0x4e2128,{'responseType':'arraybuffer'});L[_0x6001a6(0x5e5)](_0x43d72f,_0x55c8a6['data']);}else{let _0x121dca=Buffer[_0x6001a6(0x227)](_0x1f35ef,_0x6001a6(0x4d1));L[_0x6001a6(0x5e5)](_0x43d72f,_0x121dca);}return new Promise((_0x2ae526,_0x2133ca)=>{const _0x47a81f=_0x6001a6;(0x0,Le[_0x47a81f(0x298)])(_s[_0x47a81f(0x4ba)][_0x47a81f(0x755)]+_0x47a81f(0xe8)+_0x43d72f+_0x47a81f(0x34a)+_0x5112a4+_0x47a81f(0x309),_0x3ba7ae=>{const _0x5122a4=_0x47a81f;if(L[_0x5122a4(0x4b5)](_0x43d72f),_0x3ba7ae){this[_0x5122a4(0x41b)][_0x5122a4(0x36c)](this[_0x5122a4(0x246)]+'\x20('+this[_0x5122a4(0x6de)]['wuid']+_0x5122a4(0x1fa)),_0x2133ca(_0x3ba7ae);return;}this[_0x5122a4(0x41b)]['verbose'](this['instanceName']+'\x20('+this[_0x5122a4(0x6de)][_0x5122a4(0x11a)]+_0x5122a4(0xf4)),_0x2ae526(j['default'][_0x5122a4(0x609)](_0x5112a4));});});}async['buttonMessage'](_0xd6a744){const _0x1fc80d=a0_0x22ca69;let _0x3c2ffd={},_0x30f418='TEXT';if(_0xd6a744[_0x1fc80d(0x302)]?.['mediaMessage']){_0x30f418=_0xd6a744[_0x1fc80d(0x302)][_0x1fc80d(0x23c)]?.['mediatype'][_0x1fc80d(0x45f)]()??'TEXT',_0x3c2ffd['mediaKey']=_0x30f418[_0x1fc80d(0x799)]()+'Message';let _0x447967=await this[_0x1fc80d(0x68a)](_0xd6a744[_0x1fc80d(0x302)][_0x1fc80d(0x23c)]);_0x3c2ffd[_0x1fc80d(0x3d1)]=_0x447967[_0x1fc80d(0x3d1)][_0x3c2ffd[_0x1fc80d(0x29c)]],_0x3c2ffd[_0x1fc80d(0x6dc)]='*'+_0xd6a744['buttonMessage'][_0x1fc80d(0x2f0)]+'*\x0a\x0a'+_0xd6a744['buttonMessage'][_0x1fc80d(0x681)];}let _0x24b421={'text':_0xd6a744['buttonMessage'][_0x1fc80d(0x463)][_0x1fc80d(0x322)](_0x410b3f=>_0x410b3f[_0x1fc80d(0x252)]),'ids':_0xd6a744[_0x1fc80d(0x302)][_0x1fc80d(0x463)]['map'](_0x5ad503=>_0x5ad503[_0x1fc80d(0x598)])};if(!(0x0,k['arrayUnique'])(_0x24b421[_0x1fc80d(0x1b8)])||!(0x0,k[_0x1fc80d(0x699)])(_0x24b421[_0x1fc80d(0x6f5)]))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x1fc80d(0x4af));return await this['sendMessageWithTyping'](_0xd6a744['number'],{'buttonsMessage':{'text':_0x3c2ffd?.['mediaKey']?void 0x0:_0xd6a744[_0x1fc80d(0x302)][_0x1fc80d(0x2f0)],'contentText':_0x3c2ffd?.['contentText']??_0xd6a744['buttonMessage'][_0x1fc80d(0x681)],'footerText':_0xd6a744[_0x1fc80d(0x302)]?.['footerText'],'buttons':_0xd6a744[_0x1fc80d(0x302)][_0x1fc80d(0x463)]['map'](_0x18129f=>({'buttonText':{'displayText':_0x18129f[_0x1fc80d(0x252)]},'buttonId':_0x18129f[_0x1fc80d(0x598)],'type':0x1})),'headerType':w[_0x1fc80d(0x279)]['Message']['ButtonsMessage'][_0x1fc80d(0x9d)][_0x30f418],[_0x3c2ffd?.[_0x1fc80d(0x29c)]]:_0x3c2ffd?.[_0x1fc80d(0x3d1)]}},_0xd6a744?.[_0x1fc80d(0x1e4)]);}async['locationMessage'](_0x38cfc8){const _0x3a6062=a0_0x22ca69;return await this[_0x3a6062(0x59d)](_0x38cfc8['number'],{'locationMessage':{'degreesLatitude':_0x38cfc8[_0x3a6062(0x348)]['latitude'],'degreesLongitude':_0x38cfc8['locationMessage'][_0x3a6062(0x12a)],'name':_0x38cfc8[_0x3a6062(0x348)]?.[_0x3a6062(0x7cc)],'address':_0x38cfc8[_0x3a6062(0x348)]?.[_0x3a6062(0x6e1)]}},_0x38cfc8?.[_0x3a6062(0x1e4)]);}async[a0_0x22ca69(0x181)](_0x4c21d4){const _0x2acb77=a0_0x22ca69;let _0x54a5bd={},_0x4d66a9=async _0x5cbef7=>{const _0x190e83=a0_0x18ed;let _0x1c8459=_0x190e83(0x518)+_0x5cbef7[_0x190e83(0x414)]+_0x190e83(0x13c)+_0x5cbef7[_0x190e83(0x414)]+'\x0a';_0x5cbef7['organization']&&(_0x1c8459+=_0x190e83(0x30d)+_0x5cbef7['organization']+';\x0a'),_0x5cbef7[_0x190e83(0x274)]&&(_0x1c8459+=_0x190e83(0x2e1)+_0x5cbef7['email']+'\x0a'),_0x5cbef7[_0x190e83(0x640)]&&(_0x1c8459+=_0x190e83(0x40f)+_0x5cbef7[_0x190e83(0x640)]+'\x0a');let _0x525473='',_0x8f72b5=0x1;if(_0x5cbef7[_0x190e83(0x13b)]){let _0x3a5027=_0x5cbef7[_0x190e83(0x13b)][_0x190e83(0x6fc)]('|');for(let _0x3a7233 of _0x3a5027){let _0x479150=await this[_0x190e83(0x6ab)]({'numbers':[_0x3a7233]}),_0x5efc44=(_0x479150['length']>0x0?_0x479150[0x0][_0x190e83(0x377)]:this['createJid'](_0x3a7233))[_0x190e83(0x1f1)](_0x190e83(0x605),'');_0x525473+=_0x190e83(0x576)+_0x8f72b5+_0x190e83(0x37c)+_0x5efc44+':'+_0x3a7233+_0x190e83(0x19b)+_0x8f72b5+_0x190e83(0x5ce),_0x8f72b5++;}}return _0x1c8459+=_0x525473+'END:VCARD',_0x1c8459;};return _0x4c21d4[_0x2acb77(0x181)][_0x2acb77(0x6a0)]===0x1?_0x54a5bd[_0x2acb77(0x181)]={'displayName':_0x4c21d4[_0x2acb77(0x181)][0x0]['fullName'],'vcard':await _0x4d66a9(_0x4c21d4[_0x2acb77(0x181)][0x0])}:_0x54a5bd['contactsArrayMessage']={'displayName':_0x4c21d4['contactMessage'][_0x2acb77(0x6a0)]+_0x2acb77(0x454),'contacts':await Promise['all'](_0x4c21d4['contactMessage'][_0x2acb77(0x322)](async _0x1cbd84=>({'displayName':_0x1cbd84[_0x2acb77(0x414)],'vcard':await _0x4d66a9(_0x1cbd84)})))},await this['sendMessageWithTyping'](_0x4c21d4['number'],{..._0x54a5bd},_0x4c21d4?.[_0x2acb77(0x1e4)]);}async[a0_0x22ca69(0x270)](_0x59e81d){const _0x1dd4a4=a0_0x22ca69;return await this[_0x1dd4a4(0x59d)](_0x59e81d[_0x1dd4a4(0x270)][_0x1dd4a4(0x1cc)][_0x1dd4a4(0x61d)],{'reactionMessage':{'key':_0x59e81d[_0x1dd4a4(0x270)][_0x1dd4a4(0x1cc)],'text':_0x59e81d[_0x1dd4a4(0x270)][_0x1dd4a4(0x4d7)]}});}async[a0_0x22ca69(0x6ab)](_0xc780b1){const _0x4dc4aa=a0_0x22ca69;let _0x327b3d=[];for await(let _0x566a2c of _0xc780b1['numbers']){let _0x3fa2a9=this[_0x4dc4aa(0x753)](_0x566a2c),_0x107081=!0x1;try{if((0x0,w[_0x4dc4aa(0x164)])(_0x3fa2a9)){let _0x461be6=(await this[_0x4dc4aa(0x3b8)]['chat'][_0x4dc4aa(0x743)]({'where':{'_id':_0x3fa2a9}},this[_0x4dc4aa(0x6de)][_0x4dc4aa(0x11a)]))['groupdata'];_0x461be6?(_0x107081=!0x0,_0x327b3d[_0x4dc4aa(0x35a)](new le(_0x461be6['id'],_0x107081,_0x461be6?.['subject']))):(_0x461be6=await this[_0x4dc4aa(0x580)]({'groupJid':_0x3fa2a9},_0x4dc4aa(0x33b)),_0x327b3d['push'](new le(_0x461be6['id'],!!_0x461be6?.['id'],_0x461be6?.[_0x4dc4aa(0x8c)])));}else{if(_0x3fa2a9[_0x4dc4aa(0x54e)](_0x4dc4aa(0x32a)))_0x327b3d[_0x4dc4aa(0x35a)](new le(_0x3fa2a9,!0x0));else{let _0x3d982c=(await this[_0x4dc4aa(0x602)]['onWhatsApp'](_0x3fa2a9))[0x0];_0x327b3d[_0x4dc4aa(0x35a)](new le(_0x3d982c['jid'],_0x3d982c[_0x4dc4aa(0x786)]));}}}catch{(0x0,w['isJidGroup'])(_0x3fa2a9)||await this[_0x4dc4aa(0x6ed)](_0x3fa2a9),_0x327b3d[_0x4dc4aa(0x35a)](new le(_0x566a2c,!0x1));}}return _0x327b3d;}async[a0_0x22ca69(0x6ed)](_0x47aa89){const _0x5101b5=a0_0x22ca69;try{await this[_0x5101b5(0x3b8)][_0x5101b5(0x24b)][_0x5101b5(0x743)]({'where':{'_id':_0x47aa89,'imported':!0x0}},this[_0x5101b5(0x6de)]['wuid'])&&(await this[_0x5101b5(0x3b8)][_0x5101b5(0x24b)][_0x5101b5(0x427)](_0x47aa89,this[_0x5101b5(0x6de)][_0x5101b5(0x11a)]),this[_0x5101b5(0x41b)][_0x5101b5(0x436)](_0x5101b5(0x4cd)+_0x47aa89+_0x5101b5(0x28a)));}catch(_0x39d724){let _0xe92999=_0x5101b5(0x69e),_0x1e7840=_0x39d724 instanceof Error?_0x39d724[_0x5101b5(0x3d1)]:typeof _0x39d724==_0x5101b5(0x769)?JSON[_0x5101b5(0x3d0)](_0x39d724):_0x39d724,_0x4bf88d=_0xe92999+':\x20'+_0x1e7840;this[_0x5101b5(0x41b)][_0x5101b5(0x3d5)](this[_0x5101b5(0x246)]+'\x20('+this[_0x5101b5(0x6de)][_0x5101b5(0x11a)]+'):\x20'+_0x4bf88d);}}async[a0_0x22ca69(0xe3)](_0x618998){const _0x588a67=a0_0x22ca69;try{let _0x2b235b=_0x618998[_0x588a67(0x384)][_0x588a67(0x716)](_0x5382e4=>(0x0,w[_0x588a67(0x164)])(_0x5382e4[_0x588a67(0x61d)])||(0x0,w['isJidUser'])(_0x5382e4[_0x588a67(0x61d)]))[_0x588a67(0x322)](_0x1bb3f9=>({'remoteJid':_0x1bb3f9[_0x588a67(0x61d)],'fromMe':_0x1bb3f9[_0x588a67(0x325)],'id':_0x1bb3f9['id']}));await this['client']['readMessages'](_0x2b235b);let _0x5abfd5=_0x2b235b[_0x588a67(0x322)](_0x2c320b=>this[_0x588a67(0x211)](_0x2c320b,{'status':'READ','owner':this[_0x588a67(0x6de)]['wuid']})),_0x3a3756=_0x2b235b[_0x588a67(0x322)](_0x48fe98=>this[_0x588a67(0x3b8)][_0x588a67(0x24b)][_0x588a67(0x489)]({'where':{'_id':_0x48fe98['remoteJid']}},{'unreadcount':0x0},this[_0x588a67(0x6de)][_0x588a67(0x11a)])),[_0x547358,_0x5202d8]=await Promise[_0x588a67(0x67b)]([Promise[_0x588a67(0x67b)](_0x5abfd5),Promise[_0x588a67(0x67b)](_0x3a3756)]);return _0x5202d8[_0x588a67(0x716)](_0x316804=>_0x316804!==null)[_0x588a67(0x2e7)](_0x1504e0=>{const _0x50fc66=_0x588a67;J(this[_0x50fc66(0x246)],_0x50fc66(0x798),{'chat':_0x1504e0});}),{'message':_0x588a67(0x45a),'read':_0x588a67(0x74f)};}catch(_0x13834b){let _0x4914dc=_0x588a67(0x185),_0x536405=_0x13834b instanceof Error?_0x13834b[_0x588a67(0x3d1)]:typeof _0x13834b==_0x588a67(0x769)?JSON['stringify'](_0x13834b):_0x13834b,_0xd71834=_0x4914dc+':\x20'+_0x536405;throw this['logger'][_0x588a67(0x3d5)](this[_0x588a67(0x246)]+'\x20('+this[_0x588a67(0x6de)]['wuid']+_0x588a67(0x75f)+_0xd71834),new x(_0xd71834);}}async[a0_0x22ca69(0x2a6)](_0x5b2e87){const _0xba1eac=a0_0x22ca69;let _0x41fb81={'where':{'key':{'remoteJid':_0x5b2e87}},'limit':0x1},_0x235e23=await this[_0xba1eac(0x8b)](_0x41fb81);return _0x235e23||(this['logger'][_0xba1eac(0x3d5)](_0xba1eac(0x4e7)+_0x5b2e87),null);}async['archiveChat'](_0x2326c3){const _0x3a5b59=a0_0x22ca69;this['logger'][_0x3a5b59(0x36c)](this[_0x3a5b59(0x246)]+'\x20('+this[_0x3a5b59(0x6de)][_0x3a5b59(0x11a)]+_0x3a5b59(0xf1));try{let _0x73c194=_0x2326c3[_0x3a5b59(0x3b9)],_0x74afd4=_0x2326c3[_0x3a5b59(0x24b)];if(!_0x73c194&&_0x74afd4?_0x73c194=await this[_0x3a5b59(0x2a6)](_0x74afd4):(_0x73c194=_0x2326c3[_0x3a5b59(0x3b9)],_0x73c194['messageTimestamp']=_0x73c194?.[_0x3a5b59(0xee)]??Date[_0x3a5b59(0x690)](),_0x74afd4=_0x73c194?.['key']?.[_0x3a5b59(0x61d)]),!_0x73c194||Object[_0x3a5b59(0x22b)](_0x73c194)[_0x3a5b59(0x6a0)]===0x0)throw new U(_0x3a5b59(0x553));this[_0x3a5b59(0x41b)]['verbose'](this[_0x3a5b59(0x246)]+'\x20('+this[_0x3a5b59(0x6de)]['wuid']+_0x3a5b59(0x2a9)+_0x74afd4);try{await this[_0x3a5b59(0x602)][_0x3a5b59(0x73f)]({'archive':_0x2326c3[_0x3a5b59(0x40c)],'lastMessages':[_0x73c194]},this['createJid'](_0x74afd4));}catch(_0x37ea22){let _0x1718bd=_0x3a5b59(0x6b3)+_0x74afd4,_0x6ff75a=_0x37ea22 instanceof Error?_0x37ea22[_0x3a5b59(0x3d1)]:typeof _0x37ea22==_0x3a5b59(0x769)?JSON[_0x3a5b59(0x3d0)](_0x37ea22):_0x37ea22,_0x11bc3c=_0x1718bd+':\x20'+_0x6ff75a;this[_0x3a5b59(0x41b)][_0x3a5b59(0x3d5)](this['instanceName']+'\x20('+this[_0x3a5b59(0x6de)][_0x3a5b59(0x11a)]+'):\x20'+_0x11bc3c);}this['logger'][_0x3a5b59(0x36c)](this[_0x3a5b59(0x246)]+'\x20('+this[_0x3a5b59(0x6de)][_0x3a5b59(0x11a)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x74afd4);let _0x148d86=await this[_0x3a5b59(0x3b8)][_0x3a5b59(0x24b)][_0x3a5b59(0x489)]({'where':{'_id':_0x73c194?.[_0x3a5b59(0x1cc)]?.[_0x3a5b59(0x61d)]}},{'archived':_0x2326c3[_0x3a5b59(0x40c)]},this[_0x3a5b59(0x6de)]['wuid']);return _0x148d86?(this[_0x3a5b59(0x41b)]['verbose'](this[_0x3a5b59(0x246)]+'\x20('+this['instance'][_0x3a5b59(0x11a)]+_0x3a5b59(0x3d3)+JSON[_0x3a5b59(0x3d0)](_0x148d86)),J(this[_0x3a5b59(0x246)],_0x3a5b59(0x798),{'chat':_0x148d86})):this['logger'][_0x3a5b59(0x3d5)](this[_0x3a5b59(0x246)]+'\x20('+this[_0x3a5b59(0x6de)]['wuid']+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x74afd4),{'chatId':_0x74afd4,'archived':_0x2326c3[_0x3a5b59(0x40c)]};}catch(_0x55bc10){let _0x479371='Erro\x20ao\x20arquivar\x20chat',_0x2363bb=_0x55bc10 instanceof Error?_0x55bc10[_0x3a5b59(0x3d1)]:typeof _0x55bc10=='object'?JSON[_0x3a5b59(0x3d0)](_0x55bc10):_0x55bc10,_0x491d2f=_0x479371+':\x20'+_0x2363bb;throw this['logger']['error'](this[_0x3a5b59(0x246)]+'\x20('+this['instance'][_0x3a5b59(0x11a)]+'):\x20'+_0x491d2f),new x(_0x491d2f);}}async['deleteChat'](_0x489ee4){const _0x466e5d=a0_0x22ca69;this['logger'][_0x466e5d(0x36c)](this[_0x466e5d(0x246)]+'\x20('+this['instance']['wuid']+_0x466e5d(0xa8));try{let _0x3b0ce2=await this[_0x466e5d(0x2a6)](_0x489ee4);if(!_0x3b0ce2||Object[_0x466e5d(0x22b)](_0x3b0ce2)['length']===0x0)throw new U('Last\x20message\x20not\x20found');let _0x4f7d80=_0x3b0ce2[0x0];this[_0x466e5d(0x41b)][_0x466e5d(0x36c)](this['instanceName']+'\x20('+this[_0x466e5d(0x6de)][_0x466e5d(0x11a)]+_0x466e5d(0x6c2)+_0x489ee4);try{await this['client'][_0x466e5d(0x73f)]({'delete':!0x0,'lastMessages':[{'key':_0x4f7d80[_0x466e5d(0x1cc)],'messageTimestamp':_0x4f7d80['messageTimestamp']}]},this[_0x466e5d(0x753)](_0x489ee4));}catch(_0x2aa990){this['logger'][_0x466e5d(0x3d5)](_0x466e5d(0x6b3)+_0x489ee4+':\x20'+_0x2aa990['toString']());}this[_0x466e5d(0x41b)]['verbose'](this[_0x466e5d(0x246)]+'\x20('+this[_0x466e5d(0x6de)][_0x466e5d(0x11a)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x489ee4);return;}catch(_0x406090){throw this['logger'][_0x466e5d(0x3d5)](this[_0x466e5d(0x246)]+'\x20('+this[_0x466e5d(0x6de)][_0x466e5d(0x11a)]+_0x466e5d(0xa3)+_0x406090[_0x466e5d(0x12e)]()),new x({'archived':!0x1,'message':[_0x466e5d(0x423),_0x406090[_0x466e5d(0x12e)]()]});}}async[a0_0x22ca69(0x601)](_0x3cc500){const _0x47b8b2=a0_0x22ca69;try{let _0x2cf450=await this['client']['sendMessage'](_0x3cc500[_0x47b8b2(0x61d)],{'delete':_0x3cc500});try{let _0x7b39d4=await this[_0x47b8b2(0x211)](_0x3cc500,{'status':_0x47b8b2(0x26e),'owner':this['instance']['wuid']});this[_0x47b8b2(0x41b)][_0x47b8b2(0x36c)](this['instanceName']+'\x20('+this['instance'][_0x47b8b2(0x11a)]+_0x47b8b2(0x388)+_0x7b39d4);}catch(_0x4e9687){this[_0x47b8b2(0x41b)]['error'](_0x47b8b2(0x3a9)+_0x4e9687);}return _0x2cf450;}catch(_0x54cba8){throw new x(_0x47b8b2(0x712),_0x54cba8?.[_0x47b8b2(0x12e)]());}}async[a0_0x22ca69(0x118)](_0x1941ec){const _0x4cab37=a0_0x22ca69;try{let _0xbbc970=_0x1941ec?.[_0x4cab37(0x3d1)]?_0x1941ec:await this[_0x4cab37(0x113)](_0x1941ec[_0x4cab37(0x1cc)],!0x0);for(let _0x2744a3 of Ea)_0xbbc970['message'][_0x2744a3]&&(_0xbbc970['message']=_0xbbc970[_0x4cab37(0x3d1)][_0x2744a3][_0x4cab37(0x3d1)]);let _0x3a5eed,_0x582c75;for(let _0x2daa2e of Ca)if(_0x3a5eed=_0xbbc970[_0x4cab37(0x3d1)][_0x2daa2e],_0x3a5eed){_0x582c75=_0x2daa2e;break;}if(!_0x3a5eed)throw _0x4cab37(0x27c);typeof _0x3a5eed[_0x4cab37(0x29c)]==_0x4cab37(0x769)&&(_0xbbc970['message']=JSON['parse'](JSON[_0x4cab37(0x3d0)](_0xbbc970[_0x4cab37(0x3d1)])));let _0x8cab20=await(0x0,w[_0x4cab37(0x125)])({'key':_0xbbc970?.[_0x4cab37(0x1cc)],'message':_0xbbc970?.['message']},_0x4cab37(0x14b),{},{'logger':(0x0,Ft['default'])({'level':'silent'}),'reuploadRequest':this['client'][_0x4cab37(0x2ae)]});if(!(_0x8cab20 instanceof Buffer))throw new Error(_0x4cab37(0x3a4));let _0x3ea74c=this[_0x4cab37(0x2b1)][_0x4cab37(0x268)](_0x4cab37(0x48a)),_0x15f3b7,_0x3b6c53;if(_0x3a5eed[_0x4cab37(0x4fb)])_0x15f3b7=_0x3a5eed[_0x4cab37(0x4fb)];else{let _0x3179df=_0x3a5eed[_0x4cab37(0x36e)]?.[_0x4cab37(0x44f)](/\/(\w+)/),_0x2179c0=_0x3179df?_0x3179df[0x1]:null;if(!_0x2179c0)throw new Error(_0x4cab37(0x547));_0x15f3b7=(0x0,H['v4'])()+'.'+_0x2179c0;}_0x582c75===_0x4cab37(0x238)?_0x3b6c53=_0x4cab37(0x15e)+await this[_0x4cab37(0x58d)](_0x8cab20[_0x4cab37(0x12e)](_0x4cab37(0x4d1))):(await this[_0x4cab37(0x621)](_0x8cab20,_0x15f3b7),_0x3b6c53=_0x4cab37(0x15e)+_0x15f3b7);let _0x41fd13=this[_0x4cab37(0x2b1)][_0x4cab37(0x268)]('SERVER')['URL'];if(!_0x41fd13){let _0x20e827=this[_0x4cab37(0x2b1)][_0x4cab37(0x268)]('SSL_CONF');_0x41fd13='https://'+(_0x20e827&&_0x20e827[_0x4cab37(0x138)][_0x4cab37(0x6fc)]('/')[0x4]);}_0x3b6c53=''+_0x41fd13+_0x3b6c53;let _0x3c90a9=0xc*0x3c*0x3c*0x3e8,_0x3d5a1b={'where':{'_id':_0xbbc970[_0x4cab37(0x1cc)]['id']}},_0x1fe344={'message_normalized.fileUrl':_0x3b6c53,'message_normalized.expires_fileUrl':Date[_0x4cab37(0x690)]()+_0x3c90a9};try{let _0x3c3b11=await this['repository'][_0x4cab37(0x3d1)]['update'](_0x3d5a1b,_0x1fe344,this[_0x4cab37(0x6de)][_0x4cab37(0x11a)]);_0x3c3b11&&J(this['instanceName'],'messages',{'message':_0x3c3b11});}catch(_0x414ebb){let _0x3d77f0=_0x4cab37(0x64b),_0x3c8b2d=_0x414ebb instanceof Error?_0x414ebb[_0x4cab37(0x3d1)]:typeof _0x414ebb=='object'?JSON[_0x4cab37(0x3d0)](_0x414ebb):_0x414ebb,_0x203d37=_0x3d77f0+':\x20'+_0x3c8b2d;this[_0x4cab37(0x41b)]['error'](this[_0x4cab37(0x246)]+'\x20('+this[_0x4cab37(0x6de)][_0x4cab37(0x11a)]+_0x4cab37(0x75f)+_0x203d37);}return{'mediaType':_0x582c75,'fileName':_0x3a5eed['fileName'],'caption':_0x3a5eed[_0x4cab37(0x3ba)],'size':{'fileLength':_0x3a5eed[_0x4cab37(0xf7)],'height':_0x3a5eed['height'],'width':_0x3a5eed[_0x4cab37(0x297)]},'mimetype':_0x3a5eed[_0x4cab37(0x36e)],'base64':_0x8cab20[_0x4cab37(0x12e)](_0x4cab37(0x4d1)),'fileUrl':_0x3b6c53,'expires_fileUrl':Date[_0x4cab37(0x690)]()+_0x3c90a9};}catch(_0x4725e8){let _0x34fb27=_0x4cab37(0x18b),_0x7a55b=_0x4725e8 instanceof Error?_0x4725e8[_0x4cab37(0x3d1)]:typeof _0x4725e8==_0x4cab37(0x769)?JSON[_0x4cab37(0x3d0)](_0x4725e8):_0x4725e8,_0x5600e1=_0x34fb27+':\x20'+_0x7a55b;throw this[_0x4cab37(0x41b)]['error'](this[_0x4cab37(0x246)]+'\x20('+this['instance'][_0x4cab37(0x11a)]+_0x4cab37(0x75f)+_0x5600e1),new m(_0x5600e1);}}async[a0_0x22ca69(0x621)](_0x2b8a47,_0x55f0a2){const _0x3e6ec9=a0_0x22ca69;let _0x452519=j[_0x3e6ec9(0x4ba)]['join'](__dirname,_0x3e6ec9(0x487));L[_0x3e6ec9(0x439)](_0x452519)||L[_0x3e6ec9(0x6e6)](_0x452519,{'recursive':!0x0});let _0x32f4ad=j[_0x3e6ec9(0x4ba)][_0x3e6ec9(0x20b)](_0x452519,_0x55f0a2);return new Promise((_0x46f039,_0x204f77)=>{const _0x59fbbe=_0x3e6ec9;L[_0x59fbbe(0x69f)](_0x32f4ad,_0x2b8a47,_0x12bd5d=>{const _0x156c1d=_0x59fbbe;_0x12bd5d?(this[_0x156c1d(0x41b)][_0x156c1d(0x3d5)](_0x156c1d(0x2f3)+(_0x12bd5d instanceof Error?_0x12bd5d[_0x156c1d(0x3d1)]:JSON['stringify'](_0x12bd5d,null,0x2))),_0x204f77(_0x12bd5d)):(this[_0x156c1d(0x41b)]['log']('File\x20written\x20to\x20path:\x20'+_0x32f4ad),_0x46f039(_0x32f4ad));});});}async[a0_0x22ca69(0x1e1)](_0x59cdee){const _0x555be2=a0_0x22ca69;return await this[_0x555be2(0x3b8)][_0x555be2(0x301)][_0x555be2(0x22d)](_0x59cdee,this[_0x555be2(0x6de)][_0x555be2(0x11a)]);}async[a0_0x22ca69(0x326)](){const _0x54bbdf=a0_0x22ca69;return await this[_0x54bbdf(0x3b8)][_0x54bbdf(0x179)][_0x54bbdf(0x22d)]({'where':{}},this[_0x54bbdf(0x6de)][_0x54bbdf(0x11a)]);}async['fetchMessages'](_0x5de50a){const _0x4b6d6b=a0_0x22ca69;return await this['repository'][_0x4b6d6b(0x3d1)][_0x4b6d6b(0x22d)](_0x5de50a,this[_0x4b6d6b(0x6de)][_0x4b6d6b(0x11a)]);}async[a0_0x22ca69(0x1df)](){const _0x2153e7=a0_0x22ca69;return this[_0x2153e7(0x3b8)]['chat'][_0x2153e7(0x467)](this[_0x2153e7(0x6de)][_0x2153e7(0x11a)]),this[_0x2153e7(0x3b8)]['chat'][_0x2153e7(0x581)](this[_0x2153e7(0x6de)]['wuid']),this[_0x2153e7(0x3b8)]['chat'][_0x2153e7(0xa0)](this[_0x2153e7(0x6de)][_0x2153e7(0x11a)]),this['repository'][_0x2153e7(0x24b)][_0x2153e7(0x466)](this[_0x2153e7(0x6de)][_0x2153e7(0x11a)]),await this[_0x2153e7(0x3b8)][_0x2153e7(0x24b)][_0x2153e7(0x22d)]({'where':{}},this[_0x2153e7(0x6de)][_0x2153e7(0x11a)]);}async[a0_0x22ca69(0x747)](_0xda1d37){const _0x44123c=a0_0x22ca69;try{if(!Array['isArray'](_0xda1d37)||_0xda1d37[_0x44123c(0x6a0)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x5af7c2=[],_0x5e6a89=[];for(let _0x1618de of _0xda1d37){if(_0x1618de[_0x44123c(0x646)])_0x1618de[_0x44123c(0x646)]=this[_0x44123c(0x753)](_0x1618de[_0x44123c(0x646)]);else continue;await this[_0x44123c(0x3b8)][_0x44123c(0x24b)]['findOne']({'where':{'_id':_0x1618de[_0x44123c(0x646)]}},this['instance'][_0x44123c(0x11a)])?_0x5e6a89[_0x44123c(0x35a)]({'_id':_0x1618de['_id'],'leadInfo':_0x1618de[_0x44123c(0x392)],'owner':this[_0x44123c(0x6de)][_0x44123c(0x11a)]}):_0x5af7c2[_0x44123c(0x35a)]({'_id':_0x1618de[_0x44123c(0x646)],'owner':this['instance'][_0x44123c(0x11a)],'leadInfo':_0x1618de[_0x44123c(0x392)],'imported':!0x0});}return _0x5e6a89[_0x44123c(0x6a0)]>0x0&&await this['repository']['chat'][_0x44123c(0x446)](_0x5e6a89[_0x44123c(0x322)](_0x39131b=>({'query':{'where':{'_id':_0x39131b[_0x44123c(0x646)],'owner':this['instance'][_0x44123c(0x11a)]}},'update':_0x39131b}))),_0x5af7c2[_0x44123c(0x6a0)]>0x0&&await this['repository']['chat']['insertMany'](_0x5af7c2,this[_0x44123c(0x6de)][_0x44123c(0x11a)]),{'updated':_0x5e6a89['length'],'inserted':_0x5af7c2[_0x44123c(0x6a0)]};}catch(_0x65c58c){let _0x1e1584=_0x44123c(0x569),_0x5e2dbc=_0x65c58c instanceof Error?_0x65c58c[_0x44123c(0x3d1)]:typeof _0x65c58c==_0x44123c(0x769)?JSON[_0x44123c(0x3d0)](_0x65c58c):_0x65c58c,_0x5757e8=_0x1e1584+':\x20'+_0x5e2dbc;throw this[_0x44123c(0x41b)][_0x44123c(0x3d5)](this[_0x44123c(0x246)]+'\x20('+this[_0x44123c(0x6de)][_0x44123c(0x11a)]+_0x44123c(0x75f)+_0x5757e8),new m(_0x5757e8);}}async['importChats'](_0x448429){const _0x11e8c0=a0_0x22ca69;try{if(!Array['isArray'](_0x448429)||_0x448429[_0x11e8c0(0x6a0)]===0x0)throw new Error(_0x11e8c0(0x727));let _0xd16bb5=0x64,_0x534b28=0x0;for(let _0x342ceb=0x0;_0x342ceb<_0x448429['length'];_0x342ceb+=_0xd16bb5){let _0x31036a=_0x448429[_0x11e8c0(0x6ff)](_0x342ceb,_0x342ceb+_0xd16bb5),{updated:_0x4dc63d}=await this[_0x11e8c0(0x6b7)](_0x31036a);_0x534b28+=_0x4dc63d;}return{'updated':_0x534b28};}catch(_0x95353c){let _0x1d8a75=_0x11e8c0(0x569),_0x486f58=_0x95353c instanceof Error?_0x95353c[_0x11e8c0(0x3d1)]:typeof _0x95353c=='object'?JSON[_0x11e8c0(0x3d0)](_0x95353c):_0x95353c,_0x324ead=_0x1d8a75+':\x20'+_0x486f58;throw this[_0x11e8c0(0x41b)][_0x11e8c0(0x3d5)](this[_0x11e8c0(0x246)]+'\x20('+this[_0x11e8c0(0x6de)][_0x11e8c0(0x11a)]+'):\x20'+_0x324ead),new m(_0x324ead);}}async[a0_0x22ca69(0x6b7)](_0x481308){const _0x37f943=a0_0x22ca69;try{let _0x57cd74=await this[_0x37f943(0x3b8)][_0x37f943(0x179)]['find']({'where':{}},this[_0x37f943(0x6de)][_0x37f943(0x11a)]),_0x419def=new Set(_0x57cd74[_0x37f943(0x322)](_0x43717a=>_0x43717a['_id'])),_0x28d2af=[],_0x557572=[];for(let _0x5dba16 of _0x481308){if(!_0x5dba16[_0x37f943(0x646)])continue;_0x5dba16[_0x37f943(0x646)]=this[_0x37f943(0x753)](_0x5dba16[_0x37f943(0x646)]);let _0x43b4da=await this[_0x37f943(0x3b8)]['chat'][_0x37f943(0x743)]({'where':{'_id':_0x5dba16[_0x37f943(0x646)]}},this[_0x37f943(0x6de)]['wuid']),_0x4895c4={};if(Object[_0x37f943(0xce)](_0x5dba16[_0x37f943(0x392)])[_0x37f943(0x2e7)](([_0x141967,_0x22ecba])=>{_0x4895c4['leadInfo.'+_0x141967]=_0x22ecba;}),_0x43b4da&&!_0x43b4da[_0x37f943(0x458)]){let _0x4186cd=(_0x5dba16[_0x37f943(0x392)]['etiquetas']||[])[_0x37f943(0x716)](_0x1843fe=>_0x419def[_0x37f943(0x7a9)](_0x1843fe)),_0x1a3eda=new Set(_0x43b4da[_0x37f943(0x392)][_0x37f943(0x361)]||[]),_0x42ca59=_0x4186cd[_0x37f943(0x716)](_0xedf26c=>!_0x1a3eda[_0x37f943(0x7a9)](_0xedf26c)),_0x172083=[..._0x1a3eda][_0x37f943(0x716)](_0xb93027=>!_0x4186cd['includes'](_0xb93027));_0x557572[_0x37f943(0x35a)](..._0x42ca59['map'](_0x127715=>this[_0x37f943(0x6f9)](_0x127715,_0x5dba16['_id']))),_0x557572[_0x37f943(0x35a)](..._0x172083[_0x37f943(0x322)](_0x14c1be=>this[_0x37f943(0x7e4)](_0x14c1be,_0x5dba16['_id']))),_0x5dba16[_0x37f943(0x392)][_0x37f943(0x361)]=_0x4186cd,_0x28d2af[_0x37f943(0x35a)]({'query':{'where':{'_id':_0x5dba16[_0x37f943(0x646)],'owner':this[_0x37f943(0x6de)][_0x37f943(0x11a)]}},'update':_0x4895c4});}else _0x4895c4[_0x37f943(0x458)]=!0x0,_0x28d2af['push']({'query':{'where':{'_id':_0x5dba16['_id'],'owner':this[_0x37f943(0x6de)][_0x37f943(0x11a)]}},'update':_0x4895c4});}let _0x291fc4=await this['repository'][_0x37f943(0x24b)][_0x37f943(0x446)](_0x28d2af);return await Promise[_0x37f943(0x67b)](_0x557572),{'updated':_0x291fc4};}catch(_0x4149d5){let _0x358f0d='Erro\x20ao\x20importar\x20chats',_0x1933aa=_0x4149d5 instanceof Error?_0x4149d5[_0x37f943(0x3d1)]:typeof _0x4149d5==_0x37f943(0x769)?JSON[_0x37f943(0x3d0)](_0x4149d5):_0x4149d5,_0x5aedd5=_0x358f0d+':\x20'+_0x1933aa;throw this[_0x37f943(0x41b)][_0x37f943(0x3d5)](this[_0x37f943(0x246)]+'\x20('+this[_0x37f943(0x6de)]['wuid']+_0x37f943(0x75f)+_0x5aedd5),new m(_0x5aedd5);}}async['fetchPrivacySettings'](){return await this['client']['fetchPrivacySettings']();}async[a0_0x22ca69(0x6fd)](_0x17e94f){const _0x24189d=a0_0x22ca69;try{return await this[_0x24189d(0x602)]['updateReadReceiptsPrivacy'](_0x17e94f[_0x24189d(0x3cd)][_0x24189d(0x2a4)]),await this[_0x24189d(0x602)][_0x24189d(0x19d)](_0x17e94f[_0x24189d(0x3cd)][_0x24189d(0x14d)]),await this['client']['updateStatusPrivacy'](_0x17e94f[_0x24189d(0x3cd)]['status']),await this[_0x24189d(0x602)][_0x24189d(0x796)](_0x17e94f[_0x24189d(0x3cd)][_0x24189d(0x128)]),await this[_0x24189d(0x602)][_0x24189d(0x1bd)](_0x17e94f[_0x24189d(0x3cd)]['last']),await this[_0x24189d(0x602)]['updateGroupsAddPrivacy'](_0x17e94f['privacySettings'][_0x24189d(0x582)]),this[_0x24189d(0x602)]?.['ws']?.['close'](),{'update':_0x24189d(0x74f),'data':{'readreceipts':_0x17e94f[_0x24189d(0x3cd)][_0x24189d(0x2a4)],'profile':_0x17e94f[_0x24189d(0x3cd)][_0x24189d(0x14d)],'status':_0x17e94f[_0x24189d(0x3cd)][_0x24189d(0x172)],'online':_0x17e94f[_0x24189d(0x3cd)][_0x24189d(0x128)],'last':_0x17e94f['privacySettings'][_0x24189d(0x213)],'groupadd':_0x17e94f[_0x24189d(0x3cd)][_0x24189d(0x582)]}};}catch(_0x1d7b00){let _0x275595=_0x24189d(0x7c9),_0x14cc20=_0x1d7b00 instanceof Error?_0x1d7b00[_0x24189d(0x3d1)]:typeof _0x1d7b00==_0x24189d(0x769)?JSON[_0x24189d(0x3d0)](_0x1d7b00):_0x1d7b00,_0x44d457=_0x275595+':\x20'+_0x14cc20;throw this[_0x24189d(0x41b)][_0x24189d(0x3d5)](this[_0x24189d(0x246)]+'\x20('+this['instance']['wuid']+_0x24189d(0x75f)+_0x44d457),new m(_0x44d457);}}async[a0_0x22ca69(0x5e4)](_0x56bfb6){const _0x1c7254=a0_0x22ca69;let _0x233cd8=(_0x56bfb6?this[_0x1c7254(0x753)](_0x56bfb6):this[_0x1c7254(0x602)]?.[_0x1c7254(0x379)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x1c7254(0x41b)][_0x1c7254(0x36c)](this[_0x1c7254(0x246)]+'\x20('+this[_0x1c7254(0x6de)][_0x1c7254(0x11a)]+'):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x233cd8);let _0x474a4a=await this['repository'][_0x1c7254(0x301)]['findOne']({'where':{'_id':_0x233cd8}},this[_0x1c7254(0x6de)][_0x1c7254(0x11a)]),_0x437f74=_0x474a4a?_0x474a4a[_0x1c7254(0x45b)]:null;try{let _0x4f6347=(await this[_0x1c7254(0x6ab)]({'numbers':[_0x233cd8]}))?.['shift'](),_0x14578a=(await this[_0x1c7254(0x450)](_0x233cd8,null,!0x1))[_0x1c7254(0x7b7)]['pictureUrl'],_0x3c977a=await this['getStatus'](_0x4f6347?.[_0x1c7254(0x377)]),_0x27f4af=await this[_0x1c7254(0x50a)](_0x4f6347?.[_0x1c7254(0x377)]),_0x2d1215=(await this['findAndUpdateCacheContact'](_0x233cd8,null,!0x1))['cachedContact'][_0x1c7254(0x7cc)],_0x3cde8b=await this[_0x1c7254(0x3b8)]['chat'][_0x1c7254(0x743)]({'where':{'_id':_0x233cd8}},this[_0x1c7254(0x6de)][_0x1c7254(0x11a)]),_0x1b0614={'imagechat':_0x14578a,'contactname':_0x437f74||null,'pushName':_0x2d1215,'status':_0x3c977a?.[_0x1c7254(0x172)],'isBusiness':_0x27f4af[_0x1c7254(0x777)],'email':_0x27f4af?.[_0x1c7254(0x274)],'description':_0x27f4af?.[_0x1c7254(0x681)],'website':_0x27f4af?.[_0x1c7254(0x61a)]?.[_0x1c7254(0x170)](),'lastcache':Date[_0x1c7254(0x690)](),'imported':!_0x3cde8b},_0x384123=await this[_0x1c7254(0x3b8)][_0x1c7254(0x24b)][_0x1c7254(0x489)]({'where':{'_id':_0x233cd8}},_0x1b0614,this[_0x1c7254(0x6de)][_0x1c7254(0x11a)]),_0x24ee06={'owner':this[_0x1c7254(0x6de)][_0x1c7254(0x11a)],'_id':_0x233cd8,'profilePictureUrl':_0x14578a,'status':_0x3c977a?.[_0x1c7254(0x172)]};return this['repository'][_0x1c7254(0x301)][_0x1c7254(0xd6)]([_0x24ee06],this[_0x1c7254(0x6de)]['wuid']),_0x384123&&J(this[_0x1c7254(0x246)],_0x1c7254(0x798),{'chat':_0x384123}),{'wuid':_0x4f6347?.['jid']||_0x233cd8,'name':_0x4f6347?.[_0x1c7254(0x7cc)],'pushName':_0x2d1215,'numberExists':_0x4f6347?.[_0x1c7254(0x786)],'picture':_0x14578a,'status':_0x3c977a?.[_0x1c7254(0x172)],'isBusiness':_0x27f4af[_0x1c7254(0x777)],'email':_0x27f4af?.['email'],'description':_0x27f4af?.['description'],'website':_0x27f4af?.['website']?.[_0x1c7254(0x170)]()};}catch(_0x3cdadd){return this[_0x1c7254(0x41b)][_0x1c7254(0x3d5)](_0x1c7254(0x82)+(_0x3cdadd instanceof Error?_0x3cdadd[_0x1c7254(0x3d1)]:JSON[_0x1c7254(0x3d0)](_0x3cdadd,null,0x2))),{};}}async[a0_0x22ca69(0x50a)](_0x2294f0){const _0x4e85f1=a0_0x22ca69;this[_0x4e85f1(0x41b)][_0x4e85f1(0x36c)](this[_0x4e85f1(0x246)]+'\x20('+this['instance'][_0x4e85f1(0x11a)]+_0x4e85f1(0x68f));try{let _0x4feef0=_0x2294f0?this[_0x4e85f1(0x753)](_0x2294f0):this[_0x4e85f1(0x6de)]['wuid'],_0x16680c=await this[_0x4e85f1(0x602)][_0x4e85f1(0x6f2)](_0x4feef0);return this[_0x4e85f1(0x41b)]['verbose'](this[_0x4e85f1(0x246)]+'\x20('+this[_0x4e85f1(0x6de)][_0x4e85f1(0x11a)]+'):Trying\x20to\x20get\x20business\x20profile'),_0x16680c?(this[_0x4e85f1(0x41b)][_0x4e85f1(0x36c)](this['instanceName']+'\x20('+this['instance'][_0x4e85f1(0x11a)]+_0x4e85f1(0x6b6)),{'isBusiness':!0x0,..._0x16680c}):{'isBusiness':!0x1,'message':_0x4e85f1(0x396),...(await this[_0x4e85f1(0x6ab)]({'numbers':[_0x4feef0]}))?.[_0x4e85f1(0x170)]()};}catch(_0x295f81){let _0x1197e7=_0x4e85f1(0x323),_0x4cc2e8=_0x295f81 instanceof Error?_0x295f81[_0x4e85f1(0x3d1)]:typeof _0x295f81==_0x4e85f1(0x769)?JSON[_0x4e85f1(0x3d0)](_0x295f81):_0x295f81,_0x53739a=_0x1197e7+':\x20'+_0x4cc2e8;throw this[_0x4e85f1(0x41b)]['error'](this['instanceName']+'\x20('+this[_0x4e85f1(0x6de)][_0x4e85f1(0x11a)]+_0x4e85f1(0x75f)+_0x53739a),new x(_0x53739a);}}async[a0_0x22ca69(0x593)](_0x1574f8){const _0x2723ea=a0_0x22ca69;let _0x1a8a8b=this[_0x2723ea(0x753)](_0x1574f8);try{return{'wuid':_0x1a8a8b,'status':(await this[_0x2723ea(0x602)]['fetchStatus'](_0x1a8a8b))[0x0]?.[_0x2723ea(0x172)]};}catch{return{'wuid':_0x1a8a8b,'status':null};}}async[a0_0x22ca69(0x68b)](_0x380ecd){const _0x27420b=a0_0x22ca69;try{return await this[_0x27420b(0x602)][_0x27420b(0x68b)](_0x380ecd),{'update':_0x27420b(0x74f)};}catch(_0x574964){let _0x267504=_0x27420b(0x5b8),_0x302f18=_0x574964 instanceof Error?_0x574964[_0x27420b(0x3d1)]:typeof _0x574964=='object'?JSON[_0x27420b(0x3d0)](_0x574964):_0x574964,_0x28919e=_0x267504+':\x20'+_0x302f18;throw this[_0x27420b(0x41b)][_0x27420b(0x3d5)](this[_0x27420b(0x246)]+'\x20('+this['instance'][_0x27420b(0x11a)]+_0x27420b(0x75f)+_0x28919e),new x(_0x28919e);}}async['updateProfileStatus'](_0x2fd315){const _0x539df6=a0_0x22ca69;try{return await this[_0x539df6(0x602)]['updateProfileStatus'](_0x2fd315),{'update':_0x539df6(0x74f)};}catch(_0x1cc253){let _0x314f38=_0x539df6(0x41d),_0x119ebf=_0x1cc253 instanceof Error?_0x1cc253[_0x539df6(0x3d1)]:typeof _0x1cc253==_0x539df6(0x769)?JSON[_0x539df6(0x3d0)](_0x1cc253):_0x1cc253,_0x1d493d=_0x314f38+':\x20'+_0x119ebf;throw this[_0x539df6(0x41b)]['error'](this[_0x539df6(0x246)]+'\x20('+this[_0x539df6(0x6de)][_0x539df6(0x11a)]+_0x539df6(0x75f)+_0x1d493d),new x(_0x1d493d);}}async[a0_0x22ca69(0x210)](_0x4d64d9){const _0x46edaf=a0_0x22ca69;try{let _0x618ef3;if((0x0,k[_0x46edaf(0x167)])(_0x4d64d9)){let _0x574f30=new Date()[_0x46edaf(0x287)](),_0x48677e=_0x4d64d9+_0x46edaf(0x1d1)+_0x574f30;_0x618ef3=(await X['default'][_0x46edaf(0x268)](_0x48677e,{'responseType':_0x46edaf(0x771)}))[_0x46edaf(0x758)];}else{if((0x0,k[_0x46edaf(0x6c3)])(_0x4d64d9))_0x618ef3=Buffer[_0x46edaf(0x227)](_0x4d64d9,_0x46edaf(0x4d1));else throw new m(_0x46edaf(0x4c9));}return await this[_0x46edaf(0x602)]['updateProfilePicture'](this[_0x46edaf(0x6de)][_0x46edaf(0x11a)],_0x618ef3),{'update':_0x46edaf(0x74f)};}catch(_0x484803){let _0x158e00='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x10f5f6=_0x484803 instanceof Error?_0x484803['message']:typeof _0x484803==_0x46edaf(0x769)?JSON[_0x46edaf(0x3d0)](_0x484803):_0x484803,_0x13be6a=_0x158e00+':\x20'+_0x10f5f6;throw this[_0x46edaf(0x41b)][_0x46edaf(0x3d5)](this[_0x46edaf(0x246)]+'\x20('+this['instance'][_0x46edaf(0x11a)]+_0x46edaf(0x75f)+_0x13be6a),new x(_0x13be6a);}}async['removeProfilePicture'](){const _0x2c6623=a0_0x22ca69;try{return await this[_0x2c6623(0x602)][_0x2c6623(0x292)](this[_0x2c6623(0x6de)][_0x2c6623(0x11a)]),{'update':_0x2c6623(0x74f)};}catch(_0x29df66){let _0xd3037=_0x2c6623(0x4df),_0x5178c8=_0x29df66 instanceof Error?_0x29df66['message']:typeof _0x29df66==_0x2c6623(0x769)?JSON[_0x2c6623(0x3d0)](_0x29df66):_0x29df66,_0x11226f=_0xd3037+':\x20'+_0x5178c8;throw this[_0x2c6623(0x41b)]['error'](this[_0x2c6623(0x246)]+'\x20('+this[_0x2c6623(0x6de)][_0x2c6623(0x11a)]+'):\x20'+_0x11226f),new x(_0x11226f);}}async['createGroup'](_0xdf5d92){const _0x1d3e3d=a0_0x22ca69;try{let _0x22849c=(await this[_0x1d3e3d(0x6ab)]({'numbers':_0xdf5d92['participants']}))[_0x1d3e3d(0x716)](_0x3a3789=>_0x3a3789['exists'])[_0x1d3e3d(0x322)](_0x2cecc6=>_0x2cecc6[_0x1d3e3d(0x377)]),{id:_0x198c7a}=await this[_0x1d3e3d(0x602)][_0x1d3e3d(0x346)](_0xdf5d92['subject'],_0x22849c);_0xdf5d92?.[_0x1d3e3d(0x681)]&&await this[_0x1d3e3d(0x602)]['groupUpdateDescription'](_0x198c7a,_0xdf5d92['description']);let _0x5e512c=await this[_0x1d3e3d(0x602)][_0x1d3e3d(0x223)](_0x198c7a);return _0x5e512c['awaitingApproval']=[],{'metadata':_0x5e512c};}catch(_0x403aa8){let _0x428476=_0x1d3e3d(0x477),_0xb597f7=_0x403aa8 instanceof Error?_0x403aa8[_0x1d3e3d(0x3d1)]:typeof _0x403aa8=='object'?JSON['stringify'](_0x403aa8):_0x403aa8,_0x4262ae=_0x428476+':\x20'+_0xb597f7;throw this[_0x1d3e3d(0x41b)][_0x1d3e3d(0x3d5)](this['instanceName']+'\x20('+this[_0x1d3e3d(0x6de)][_0x1d3e3d(0x11a)]+_0x1d3e3d(0x75f)+_0x4262ae),new x(_0x4262ae);}}async['groupBetterSetting'](_0x539795){const _0x1cc9d2=a0_0x22ca69;try{if(_0x539795['restrict']===!0x0&&await this[_0x1cc9d2(0x602)][_0x1cc9d2(0x1ca)](_0x539795[_0x1cc9d2(0x721)],_0x1cc9d2(0x277)),_0x539795['restrict']===!0x1&&await this[_0x1cc9d2(0x602)][_0x1cc9d2(0x1ca)](_0x539795['groupJid'],_0x1cc9d2(0x299)),_0x539795[_0x1cc9d2(0x60a)]===!0x0&&await this['client'][_0x1cc9d2(0x1ca)](_0x539795['groupJid'],_0x1cc9d2(0x98)),_0x539795[_0x1cc9d2(0x60a)]===!0x1&&await this['client'][_0x1cc9d2(0x1ca)](_0x539795[_0x1cc9d2(0x721)],_0x1cc9d2(0x502)),_0x539795[_0x1cc9d2(0x1a9)]===!0x0&&await this[_0x1cc9d2(0x602)][_0x1cc9d2(0x68c)](_0x539795[_0x1cc9d2(0x721)],_0x1cc9d2(0x3dd)),_0x539795[_0x1cc9d2(0x1a9)]===!0x1&&await this[_0x1cc9d2(0x602)][_0x1cc9d2(0x68c)](_0x539795[_0x1cc9d2(0x721)],_0x1cc9d2(0x734)),_0x539795[_0x1cc9d2(0x284)]===!0x0&&await this[_0x1cc9d2(0x602)][_0x1cc9d2(0x4d3)](_0x539795[_0x1cc9d2(0x721)],'on'),_0x539795[_0x1cc9d2(0x284)]===!0x1&&await this[_0x1cc9d2(0x602)][_0x1cc9d2(0x4d3)](_0x539795[_0x1cc9d2(0x721)],_0x1cc9d2(0x220)),typeof _0x539795[_0x1cc9d2(0x510)]<'u'&&_0x539795[_0x1cc9d2(0x510)]!==null&&await this[_0x1cc9d2(0x602)]['groupToggleEphemeral'](_0x539795[_0x1cc9d2(0x721)],_0x539795[_0x1cc9d2(0x510)]),_0x539795[_0x1cc9d2(0x7cc)]&&await this[_0x1cc9d2(0x602)]['groupUpdateSubject'](_0x539795['groupJid'],_0x539795[_0x1cc9d2(0x7cc)]),_0x539795['description']&&await this[_0x1cc9d2(0x602)][_0x1cc9d2(0x134)](_0x539795['groupJid'],_0x539795[_0x1cc9d2(0x681)]),_0x539795[_0x1cc9d2(0x2a0)]){let _0x48a1d8;if((0x0,k['isURL'])(_0x539795['image'])){let _0x4c2ad0=new Date()['getTime'](),_0xcbbe4=_0x539795[_0x1cc9d2(0x2a0)]+_0x1cc9d2(0x1d1)+_0x4c2ad0;_0x48a1d8=(await X[_0x1cc9d2(0x4ba)][_0x1cc9d2(0x268)](_0xcbbe4,{'responseType':_0x1cc9d2(0x771)}))[_0x1cc9d2(0x758)];}else{if((0x0,k[_0x1cc9d2(0x6c3)])(_0x539795['image']))_0x48a1d8=Buffer[_0x1cc9d2(0x227)](_0x539795[_0x1cc9d2(0x2a0)],'base64');else throw new m(_0x1cc9d2(0x4c9));}await this[_0x1cc9d2(0x602)][_0x1cc9d2(0x210)](_0x539795['groupJid'],_0x48a1d8);}return await this['findGroup']({'groupJid':_0x539795[_0x1cc9d2(0x721)]});}catch(_0x15023d){let _0x49443a='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x8c502=_0x15023d instanceof Error?_0x15023d['message']:typeof _0x15023d==_0x1cc9d2(0x769)?JSON[_0x1cc9d2(0x3d0)](_0x15023d):_0x15023d,_0x52d9e4=_0x49443a+':\x20'+_0x8c502;throw this['logger'][_0x1cc9d2(0x3d5)](this[_0x1cc9d2(0x246)]+'\x20('+this[_0x1cc9d2(0x6de)][_0x1cc9d2(0x11a)]+_0x1cc9d2(0x75f)+_0x52d9e4),new x(_0x52d9e4);}}async[a0_0x22ca69(0xd8)](_0x2edff1){const _0x429e59=a0_0x22ca69;try{if(_0x2edff1[_0x429e59(0x4d2)]===_0x429e59(0x3e6)||_0x2edff1[_0x429e59(0x4d2)]===_0x429e59(0x20d)){let _0x24ae49=_0x2edff1[_0x429e59(0x72f)][_0x429e59(0x322)](_0x4bd108=>this[_0x429e59(0x753)](_0x4bd108));await this[_0x429e59(0x602)]['groupRequestParticipantsUpdate'](_0x2edff1[_0x429e59(0x721)],_0x24ae49,_0x2edff1[_0x429e59(0x4d2)]);}else{if(_0x2edff1[_0x429e59(0x4d2)]===_0x429e59(0x6fa)){let _0x5e1f8e=(await this[_0x429e59(0x6ab)]({'numbers':_0x2edff1[_0x429e59(0x72f)]}))[_0x429e59(0x716)](_0x41b206=>_0x41b206['exists'])[_0x429e59(0x322)](_0xc19d65=>this[_0x429e59(0x753)](_0xc19d65[_0x429e59(0x377)]));if(_0x5e1f8e[_0x429e59(0x6a0)]===0x0)throw new m(_0x429e59(0x7e3));await this[_0x429e59(0x602)][_0x429e59(0x2a1)](_0x2edff1[_0x429e59(0x721)],_0x5e1f8e,'add');}else{let _0x96191=_0x2edff1[_0x429e59(0x72f)][_0x429e59(0x322)](_0x3eb091=>this[_0x429e59(0x753)](_0x3eb091));await this['client'][_0x429e59(0x2a1)](_0x2edff1[_0x429e59(0x721)],_0x96191,_0x2edff1[_0x429e59(0x4d2)]);}}return await this[_0x429e59(0x580)]({'groupJid':_0x2edff1[_0x429e59(0x721)]});}catch(_0x335ad8){let _0x5b70b0='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x4d9387=_0x335ad8 instanceof Error?_0x335ad8[_0x429e59(0x3d1)]:typeof _0x335ad8==_0x429e59(0x769)?JSON[_0x429e59(0x3d0)](_0x335ad8):_0x335ad8,_0x1445ae=_0x5b70b0+':\x20'+_0x4d9387;throw this[_0x429e59(0x41b)][_0x429e59(0x3d5)](this[_0x429e59(0x246)]+'\x20('+this[_0x429e59(0x6de)][_0x429e59(0x11a)]+_0x429e59(0x75f)+_0x1445ae),new m(_0x1445ae);}}async[a0_0x22ca69(0x39e)](_0x7dcd7d){const _0x4b71fc=a0_0x22ca69;try{return await this['client'][_0x4b71fc(0x39e)](_0x7dcd7d[_0x4b71fc(0x2ad)]);}catch(_0x289404){let _0x30c467=_0x4b71fc(0x517),_0x1d4581=_0x289404 instanceof Error?_0x289404['message']:typeof _0x289404==_0x4b71fc(0x769)?JSON[_0x4b71fc(0x3d0)](_0x289404):_0x289404,_0x194308=_0x30c467+':\x20'+_0x1d4581;throw this['logger'][_0x4b71fc(0x3d5)](this[_0x4b71fc(0x246)]+'\x20('+this[_0x4b71fc(0x6de)]['wuid']+_0x4b71fc(0x75f)+_0x194308),new m(_0x194308);}}async[a0_0x22ca69(0x580)](_0x27af3f,_0x4ba0f6=a0_0x22ca69(0x563)){const _0x28c1b5=a0_0x22ca69;try{let _0x45f5bc=await this[_0x28c1b5(0x3b8)]['chat'][_0x28c1b5(0x743)]({'where':{'_id':_0x27af3f[_0x28c1b5(0x721)]}},this[_0x28c1b5(0x6de)][_0x28c1b5(0x11a)]),_0x57710f=_0x45f5bc?_0x45f5bc['groupdata']:null,_0x2958dc=0x18*0x3c*0x3c*0x3e8;if(!_0x57710f||_0x57710f[_0x28c1b5(0x752)]&&Date['now']()-_0x57710f[_0x28c1b5(0x752)]>_0x2958dc){let _0x3a9e11=await this[_0x28c1b5(0x602)][_0x28c1b5(0x223)](_0x27af3f['groupJid']);if(_0x3a9e11['subjectTime']=_0x3a9e11?.[_0x28c1b5(0x386)]&&_0x3a9e11[_0x28c1b5(0x386)]['toString']()[_0x28c1b5(0x6a0)]<0xd?_0x3a9e11?.[_0x28c1b5(0x386)]*0x3e8:_0x3a9e11?.['subjectTime']||null,_0x3a9e11[_0x28c1b5(0x402)]=_0x3a9e11?.[_0x28c1b5(0x402)]&&_0x3a9e11[_0x28c1b5(0x402)][_0x28c1b5(0x12e)]()[_0x28c1b5(0x6a0)]<0xd?_0x3a9e11?.['creation']*0x3e8:_0x3a9e11?.[_0x28c1b5(0x402)]||null,_0x57710f={..._0x3a9e11,'lastUpdate':Date[_0x28c1b5(0x690)]()},!_0x3a9e11)return;}let _0xc30d35=_0x57710f[_0x28c1b5(0x72f)][_0x28c1b5(0x1ab)](_0x17fc0b=>_0x17fc0b['id']===this['instance'][_0x28c1b5(0x11a)]+_0x28c1b5(0x605)&&_0x17fc0b['admin']!=null);!_0x57710f[_0x28c1b5(0x2ad)]&&_0xc30d35&&(_0x57710f[_0x28c1b5(0x2ad)]=(await this[_0x28c1b5(0x2ad)](_0x27af3f,!0x1))['inviteUrl']);let _0xed0117=(!_0x57710f[_0x28c1b5(0x60a)]||_0xc30d35)&&(!_0x57710f[_0x28c1b5(0x32c)]||_0x57710f[_0x28c1b5(0x32c)]&&_0x57710f['isCommunityAnnounce']&&_0xc30d35);_0x57710f[_0x28c1b5(0x426)]=_0xc30d35,_0x57710f[_0x28c1b5(0x560)]=_0xed0117;let _0x5b5a79=[];if(_0xc30d35&&_0x57710f[_0x28c1b5(0x284)])try{_0x5b5a79=await this[_0x28c1b5(0x602)]['groupRequestParticipantsList'](_0x27af3f[_0x28c1b5(0x721)]),_0x57710f['lastFetchAwaitingApproval']=Date[_0x28c1b5(0x690)]();}catch(_0x5482b9){this[_0x28c1b5(0x41b)][_0x28c1b5(0x36c)](this[_0x28c1b5(0x246)]+'\x20('+this[_0x28c1b5(0x6de)]['wuid']+_0x28c1b5(0x16e)+_0x27af3f[_0x28c1b5(0x721)]+':\x20'+(_0x5482b9 instanceof Error?_0x5482b9['message']:JSON['stringify'](_0x5482b9,null,0x2)));}try{_0x57710f[_0x28c1b5(0x2a0)]=(await this[_0x28c1b5(0x450)](_0x27af3f[_0x28c1b5(0x721)],null,!0x0))[_0x28c1b5(0x7b7)][_0x28c1b5(0x102)];}catch(_0xc49114){this[_0x28c1b5(0x41b)][_0x28c1b5(0x36c)](this[_0x28c1b5(0x246)]+'\x20('+this['instance'][_0x28c1b5(0x11a)]+_0x28c1b5(0x144)+_0x27af3f[_0x28c1b5(0x721)]+':\x20'+(_0xc49114 instanceof Error?_0xc49114[_0x28c1b5(0x3d1)]:JSON['stringify'](_0xc49114,null,0x2)));}let _0xc25459=_0x57710f[_0x28c1b5(0x72f)][_0x28c1b5(0x322)](_0x38bc2f=>_0x38bc2f['id']),_0xfc87c1=_0x5b5a79[_0x28c1b5(0x322)](_0x57e8a0=>_0x57e8a0['jid']),_0x116bf0=await this[_0x28c1b5(0x3b8)][_0x28c1b5(0xbf)]['findManyByIds']([..._0xc25459,..._0xfc87c1]);_0x57710f[_0x28c1b5(0x72f)]=_0x57710f[_0x28c1b5(0x72f)][_0x28c1b5(0x322)](_0x8b53b4=>{const _0x2f8014=_0x28c1b5;let _0x3293d5=_0x116bf0[_0x2f8014(0x22d)](_0x3b731e=>_0x3b731e[_0x2f8014(0x646)]===_0x8b53b4['id']);return{'id':_0x8b53b4['id'],'isAdmin':[_0x2f8014(0x283),_0x2f8014(0x5b6)]['includes'](_0x8b53b4[_0x2f8014(0x283)]),'admin':_0x8b53b4['admin'],'pushName':_0x3293d5?.[_0x2f8014(0x7cc)],'profilePictureUrl':_0x3293d5?.[_0x2f8014(0x102)]};}),_0x57710f[_0x28c1b5(0x456)]=_0x5b5a79[_0x28c1b5(0x322)](_0x4ebab5=>{const _0x51363b=_0x28c1b5;let _0x545c97=_0x116bf0[_0x51363b(0x22d)](_0x2873b4=>_0x2873b4['_id']===_0x4ebab5['jid']);return{'id':_0x4ebab5['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x545c97?.[_0x51363b(0x7cc)],'profilePictureUrl':_0x545c97?.[_0x51363b(0x102)],'request_method':_0x4ebab5[_0x51363b(0x1c0)],'request_time':_0x4ebab5[_0x51363b(0x6c6)]};});let _0x556ce8=await this['repository'][_0x28c1b5(0x24b)][_0x28c1b5(0x489)]({'where':{'_id':_0x27af3f[_0x28c1b5(0x721)]}},{'imagechat':_0x57710f[_0x28c1b5(0x2a0)],'name':_0x57710f[_0x28c1b5(0x8c)],'lastcache':Date[_0x28c1b5(0x690)](),'groupdata':_0x57710f},this[_0x28c1b5(0x6de)][_0x28c1b5(0x11a)]);return J(this[_0x28c1b5(0x246)],'chats',{'chat':_0x556ce8}),{'metadata':_0x57710f};}catch(_0x5e3f92){if(_0x4ba0f6==='inner')return;throw new U(_0x28c1b5(0x751),_0x5e3f92['message'][_0x28c1b5(0x12e)]());}}async[a0_0x22ca69(0x39d)](){const _0x30a6cf=a0_0x22ca69;try{this[_0x30a6cf(0x41b)][_0x30a6cf(0x436)]('Retornando\x20grupos\x20COM\x20cache');let _0x1a3ff5=Date[_0x30a6cf(0x690)](),_0x25c36d=0x3*0x3c*0x3c*0x3e8;return _0x1a3ff5-this[_0x30a6cf(0x4a7)]>_0x25c36d&&(this[_0x30a6cf(0x2d6)](),this[_0x30a6cf(0x4a7)]=_0x1a3ff5),(await this[_0x30a6cf(0x3b8)][_0x30a6cf(0x24b)][_0x30a6cf(0x47a)]({'where':{'group':!0x0}},this['instance'][_0x30a6cf(0x11a)]))[_0x30a6cf(0x322)](_0x5174bb=>({..._0x5174bb[_0x30a6cf(0x5ef)],'groupJid':_0x5174bb?.[_0x30a6cf(0x646)],'participants':_0x5174bb?.[_0x30a6cf(0x5ef)]?.[_0x30a6cf(0x72f)]||[],'awaitingApproval':_0x5174bb?.[_0x30a6cf(0x5ef)]?.['awaitingApproval']||[],'image':_0x5174bb?.['imagechat']}));}catch(_0x516b3d){let _0x76a918='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x2ecbbe=_0x516b3d instanceof Error?_0x516b3d[_0x30a6cf(0x3d1)]:typeof _0x516b3d==_0x30a6cf(0x769)?JSON['stringify'](_0x516b3d):_0x516b3d,_0x3352f7=_0x76a918+':\x20'+_0x2ecbbe;throw this[_0x30a6cf(0x41b)][_0x30a6cf(0x3d5)](this[_0x30a6cf(0x246)]+'\x20('+this[_0x30a6cf(0x6de)]['wuid']+_0x30a6cf(0x75f)+_0x3352f7),new U(_0x3352f7);}}async['findRealGroups'](){const _0x120220=a0_0x22ca69;try{this[_0x120220(0x41b)]['info'](_0x120220(0x669));let _0x20d6ea=[],_0x1b6440=await this[_0x120220(0x602)][_0x120220(0x62f)](),_0x3f9516=Object[_0x120220(0x5dc)](_0x1b6440),_0x462d63=_0x3f9516[_0x120220(0x716)](_0x3f255f=>(0x0,w[_0x120220(0x164)])(_0x3f255f?.['id']))[_0x120220(0x322)](async _0x442c08=>{const _0xb04b3a=_0x120220;try{return await this['client']['profilePictureUrl'](_0x442c08['id'],_0xb04b3a(0x25a));}catch(_0x3921b9){return this[_0xb04b3a(0x41b)]['verbose'](this['instanceName']+'\x20('+this[_0xb04b3a(0x6de)][_0xb04b3a(0x11a)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x442c08['id']+':\x20'+(_0x3921b9 instanceof Error?_0x3921b9['message']:JSON['stringify'](_0x3921b9,null,0x2))),null;}}),_0x5affcd=await Promise[_0x120220(0x67b)](_0x462d63);for(let _0x3d37bb=0x0;_0x3d37bb<_0x3f9516[_0x120220(0x6a0)];_0x3d37bb++){let _0xa1cbc4=_0x3f9516[_0x3d37bb];(0x0,w['isJidGroup'])(_0xa1cbc4?.['id'])&&(_0x20d6ea['push']({'groupJid':_0xa1cbc4?.['id'],'subject':_0xa1cbc4?.[_0x120220(0x8c)],'subjectOwner':_0xa1cbc4?.[_0x120220(0x499)]?.['split']('@')[0x0],'subjectTime':_0xa1cbc4?.[_0x120220(0x386)],'creation':_0xa1cbc4?.[_0x120220(0x402)],'size':_0xa1cbc4?.[_0x120220(0x72f)]?.[_0x120220(0x6a0)],'owner':_0xa1cbc4?.[_0x120220(0x60d)]?.[_0x120220(0x6fc)]('@')[0x0],'desc':_0xa1cbc4?.[_0x120220(0x6eb)],'restrict':_0xa1cbc4?.[_0x120220(0x77c)],'announce':_0xa1cbc4?.[_0x120220(0x60a)],'image':_0x5affcd[_0x3d37bb],'isCommunity':_0xa1cbc4?.[_0x120220(0x32c)],'joinApprovalMode':_0xa1cbc4?.['joinApprovalMode'],'memberCanAddParticipant':_0xa1cbc4?.[_0x120220(0x1a9)],'participants':_0xa1cbc4?.[_0x120220(0x72f)],'descOwner':_0xa1cbc4?.[_0x120220(0x3a2)],'descId':_0xa1cbc4?.[_0x120220(0x35b)],'memberAddMode':_0xa1cbc4?.['memberAddMode'],'isCommunityAnnounce':_0xa1cbc4?.[_0x120220(0x1bb)],'ephemeralDuration':_0xa1cbc4?.[_0x120220(0x16d)]||0x0,'author':_0xa1cbc4?.[_0x120220(0x8a)]}),this[_0x120220(0xca)](_0x3f9516[_0x3d37bb]));}return _0x20d6ea;}catch(_0x217434){let _0x4af4b5=_0x120220(0x5da),_0x1fc105=_0x217434 instanceof Error?_0x217434['message']:typeof _0x217434=='object'?JSON[_0x120220(0x3d0)](_0x217434):_0x217434,_0x5e3b55=_0x4af4b5+':\x20'+_0x1fc105;throw this[_0x120220(0x41b)][_0x120220(0x3d5)](this[_0x120220(0x246)]+'\x20('+this[_0x120220(0x6de)][_0x120220(0x11a)]+_0x120220(0x75f)+_0x5e3b55),new U(_0x5e3b55);}}async[a0_0x22ca69(0xca)](_0x384c04){const _0x522383=a0_0x22ca69;let _0x3df90d=await this['repository'][_0x522383(0x24b)][_0x522383(0x743)]({'where':{'_id':_0x384c04['id']}},this[_0x522383(0x6de)][_0x522383(0x11a)]);_0x384c04[_0x522383(0x386)]=_0x384c04?.['subjectTime']&&_0x384c04['subjectTime'][_0x522383(0x12e)]()[_0x522383(0x6a0)]<0xd?_0x384c04?.[_0x522383(0x386)]*0x3e8:_0x384c04?.[_0x522383(0x386)]||null,_0x384c04[_0x522383(0x402)]=_0x384c04?.[_0x522383(0x402)]&&_0x384c04[_0x522383(0x402)][_0x522383(0x12e)]()[_0x522383(0x6a0)]<0xd?_0x384c04?.[_0x522383(0x402)]*0x3e8:_0x384c04?.[_0x522383(0x402)]||null;let _0x3ae83b=_0x3df90d?.['groupdata']?.[_0x522383(0x456)]||[],_0xf8bb84=_0x3df90d?.[_0x522383(0x5ef)]?.[_0x522383(0xd9)],_0x50c043=_0x384c04[_0x522383(0x72f)][_0x522383(0x322)](_0x2c6b67=>{const _0x51e774=_0x522383;let _0x4c74f7=_0x3df90d?.[_0x51e774(0x5ef)]?.['participants'][_0x51e774(0x22d)](_0x337523=>_0x337523['id']===_0x2c6b67['id']);return{..._0x2c6b67,'isAdmin':[_0x51e774(0x283),'superadmin'][_0x51e774(0x54e)](_0x2c6b67[_0x51e774(0x283)]),'admin':_0x2c6b67['admin'],'name':_0x4c74f7?.['name']||_0x2c6b67[_0x51e774(0x7cc)],'imgUrl':_0x4c74f7?.['imgUrl']||_0x2c6b67[_0x51e774(0x73b)]};}),_0x112eed=_0x50c043[_0x522383(0x1ab)](_0x11c08b=>_0x11c08b['id']===this[_0x522383(0x6de)][_0x522383(0x11a)]+_0x522383(0x605)&&_0x11c08b[_0x522383(0x426)]),_0x216333=(!_0x384c04[_0x522383(0x60a)]||_0x112eed)&&(!_0x384c04[_0x522383(0x32c)]||_0x384c04[_0x522383(0x32c)]&&_0x384c04[_0x522383(0x1bb)]&&_0x112eed),_0x144bbe={..._0x384c04,'participants':_0x50c043,'awaitingApproval':_0x3ae83b,'lastFetchAwaitingApproval':_0xf8bb84,'isAdmin':_0x112eed,'canSendMessage':_0x216333,'lastUpdate':Date[_0x522383(0x690)]()};await this['repository'][_0x522383(0x24b)]['updateOne']({'where':{'_id':_0x384c04['id']}},{'name':_0x384c04[_0x522383(0x8c)],'group':!0x0,'groupdata':_0x144bbe,'lastcache':Date['now']()},this[_0x522383(0x6de)][_0x522383(0x11a)]),J(this['instanceName'],_0x522383(0x798),{'chat':_0x384c04});}async[a0_0x22ca69(0x6a2)](_0x9ada1d){const _0x351323=a0_0x22ca69;let _0x153f0c=await this[_0x351323(0x3b8)]['chat'][_0x351323(0x743)]({'where':{'_id':_0x9ada1d['id']}},this['instance']['wuid']);_0x9ada1d[_0x351323(0x386)]=_0x9ada1d?.['subjectTime']&&_0x9ada1d[_0x351323(0x386)]['toString']()[_0x351323(0x6a0)]<0xd?_0x9ada1d?.['subjectTime']*0x3e8:_0x9ada1d?.['subjectTime']||null,_0x9ada1d[_0x351323(0x402)]=_0x9ada1d?.[_0x351323(0x402)]&&_0x9ada1d[_0x351323(0x402)]['toString']()[_0x351323(0x6a0)]<0xd?_0x9ada1d?.[_0x351323(0x402)]*0x3e8:_0x9ada1d?.[_0x351323(0x402)]||null,_0x9ada1d[_0x351323(0x2ad)]&&(_0x9ada1d[_0x351323(0x2ad)]=_0x351323(0x702)+_0x9ada1d[_0x351323(0x2ad)]);let _0x5d5dbb=_0x153f0c?.[_0x351323(0x5ef)]?{..._0x153f0c[_0x351323(0x5ef)]}:{};Object[_0x351323(0x22b)](_0x9ada1d)['forEach'](_0x2711e4=>{_0x2711e4!=='id'&&(_0x5d5dbb[_0x2711e4]=_0x9ada1d[_0x2711e4]);});let _0x3a0b76=_0x5d5dbb['participants']?.[_0x351323(0x1ab)](_0x35a3ce=>_0x35a3ce['id']===this[_0x351323(0x6de)][_0x351323(0x11a)]+_0x351323(0x605)&&_0x35a3ce['isAdmin'])||!0x1;_0x5d5dbb['isAdmin']=_0x3a0b76;let _0x302529=(!_0x5d5dbb['announce']||_0x3a0b76)&&(!_0x5d5dbb[_0x351323(0x32c)]||_0x5d5dbb[_0x351323(0x32c)]&&_0x5d5dbb[_0x351323(0x1bb)]&&_0x3a0b76);_0x5d5dbb['canSendMessage']=_0x302529;let _0x19b62c={'group':!0x0,'groupdata':_0x5d5dbb};_0x9ada1d[_0x351323(0x8c)]&&(_0x19b62c['name']=_0x9ada1d['subject']),await this[_0x351323(0x3b8)][_0x351323(0x24b)][_0x351323(0x489)]({'where':{'_id':_0x9ada1d['id']}},_0x19b62c,this[_0x351323(0x6de)][_0x351323(0x11a)],{'upsert':!0x0}),J(this['instanceName'],_0x351323(0x798),{'chat':_0x19b62c});}async[a0_0x22ca69(0x3aa)](_0x1f4af1){const _0x4117e5=a0_0x22ca69;let _0x4f5fcc=await this['repository']['chat'][_0x4117e5(0x743)]({'where':{'_id':_0x1f4af1['id']}},this[_0x4117e5(0x6de)][_0x4117e5(0x11a)]);if(!_0x4f5fcc||!_0x4f5fcc['groupdata']){this[_0x4117e5(0x41b)][_0x4117e5(0x436)](this['instanceName']+'\x20('+this[_0x4117e5(0x6de)]['wuid']+_0x4117e5(0x27d)+_0x1f4af1['id']);return;}let _0x56fe9d=await this[_0x4117e5(0x3b8)][_0x4117e5(0xbf)][_0x4117e5(0x116)](_0x1f4af1[_0x4117e5(0x72f)]),_0x103e9e=[..._0x4f5fcc[_0x4117e5(0x5ef)]?.[_0x4117e5(0x72f)]];switch(_0x1f4af1[_0x4117e5(0x4d2)]){case _0x4117e5(0x6fa):let _0x16b1bd=_0x56fe9d[_0x4117e5(0x322)](_0x484155=>({'id':_0x484155[_0x4117e5(0x646)],'isAdmin':!0x1,'name':_0x484155['name'],'imgUrl':_0x484155[_0x4117e5(0x102)]}));_0x103e9e=[..._0x103e9e,..._0x16b1bd];break;case _0x4117e5(0x76e):_0x103e9e=_0x103e9e[_0x4117e5(0x716)](_0x35e71d=>!_0x1f4af1[_0x4117e5(0x72f)]['includes'](_0x35e71d['id']));break;case _0x4117e5(0x486):case _0x4117e5(0x221):_0x103e9e=_0x103e9e[_0x4117e5(0x322)](_0x33b6e8=>_0x1f4af1[_0x4117e5(0x72f)][_0x4117e5(0x54e)](_0x33b6e8['id'])?{..._0x33b6e8,'isAdmin':_0x1f4af1[_0x4117e5(0x4d2)]===_0x4117e5(0x486)}:_0x33b6e8);break;}let _0x12ab7f=_0x103e9e[_0x4117e5(0x6a0)],_0x3dde56=_0x103e9e[_0x4117e5(0x1ab)](_0x21d0f3=>_0x21d0f3['id']===this[_0x4117e5(0x6de)]['wuid']+_0x4117e5(0x605)),_0x42732c=_0x3dde56&&_0x103e9e[_0x4117e5(0x1ab)](_0x195ae0=>_0x195ae0['id']===this[_0x4117e5(0x6de)]['wuid']+_0x4117e5(0x605)&&_0x195ae0[_0x4117e5(0x426)]),_0xa02929=_0x3dde56&&(!_0x4f5fcc[_0x4117e5(0x5ef)][_0x4117e5(0x60a)]||_0x42732c)&&(!_0x4f5fcc[_0x4117e5(0x5ef)][_0x4117e5(0x32c)]||_0x4f5fcc[_0x4117e5(0x5ef)][_0x4117e5(0x32c)]&&_0x42732c);await this[_0x4117e5(0x3b8)]['chat'][_0x4117e5(0x489)]({'where':{'_id':_0x1f4af1['id']}},{'groupdata':{..._0x4f5fcc[_0x4117e5(0x5ef)],'participants':_0x103e9e,'size':_0x12ab7f,'isAdmin':_0x42732c,'canSendMessage':_0xa02929}},this['instance'][_0x4117e5(0x11a)]),this[_0x4117e5(0x41b)]['info'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4117e5(0x783)+_0x1f4af1['id']+_0x4117e5(0x1a1)+_0x1f4af1['action']+',\x20Novo\x20tamanho:\x20'+_0x12ab7f+_0x4117e5(0x501)+_0x42732c+_0x4117e5(0x26d)+_0xa02929);}async[a0_0x22ca69(0x2ad)](_0x22759d,_0xaa52bd=!0x0){const _0x1d937e=a0_0x22ca69;try{let _0x51aa9f=await this[_0x1d937e(0x602)][_0x1d937e(0x1a4)](_0x22759d[_0x1d937e(0x721)]),_0x1908c6={'groupdata.inviteCode':_0x1d937e(0x702)+_0x51aa9f};if(_0xaa52bd){let _0x5a3d7d=await this[_0x1d937e(0x3b8)][_0x1d937e(0x24b)][_0x1d937e(0x489)]({'where':{'_id':_0x22759d[_0x1d937e(0x721)]}},_0x1908c6,this[_0x1d937e(0x6de)][_0x1d937e(0x11a)]);}return{'inviteUrl':_0x1d937e(0x702)+_0x51aa9f,'inviteCode':_0x51aa9f};}catch(_0x530ea2){let _0x4e28be=_0x1d937e(0x5c2),_0x5f1381=_0x530ea2 instanceof Error?_0x530ea2[_0x1d937e(0x3d1)]:typeof _0x530ea2=='object'?JSON['stringify'](_0x530ea2):_0x530ea2,_0x5e34d8=_0x4e28be+':\x20'+_0x5f1381;throw this[_0x1d937e(0x41b)][_0x1d937e(0x3d5)](this[_0x1d937e(0x246)]+'\x20('+this[_0x1d937e(0x6de)][_0x1d937e(0x11a)]+_0x1d937e(0x75f)+_0x5e34d8),new U(_0x5e34d8);}}async['revokeInviteCode'](_0x5a8fcf){const _0x598c5a=a0_0x22ca69;try{let _0x330670=await this[_0x598c5a(0x602)][_0x598c5a(0x21d)](_0x5a8fcf['groupJid']);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x330670,'inviteCode':_0x330670};}catch(_0x19a42f){let _0x5d9c37=_0x598c5a(0x445),_0x35997d=_0x19a42f instanceof Error?_0x19a42f[_0x598c5a(0x3d1)]:typeof _0x19a42f==_0x598c5a(0x769)?JSON[_0x598c5a(0x3d0)](_0x19a42f):_0x19a42f,_0x137ef6=_0x5d9c37+':\x20'+_0x35997d;throw this['logger'][_0x598c5a(0x3d5)](this[_0x598c5a(0x246)]+'\x20('+this['instance']['wuid']+_0x598c5a(0x75f)+_0x137ef6),new U(_0x137ef6);}}async[a0_0x22ca69(0x389)](_0xcd998b){const _0x3d4327=a0_0x22ca69;try{if((0x0,k['isURL'])(_0xcd998b[_0x3d4327(0x2ad)]))var _0x2f5e9d=_0xcd998b[_0x3d4327(0x2ad)][_0x3d4327(0x6fc)]('/')[0x3];else var _0x2f5e9d=_0xcd998b[_0x3d4327(0x2ad)];let _0x216f18=await this[_0x3d4327(0x602)][_0x3d4327(0x508)](_0x2f5e9d);return this['logger'][_0x3d4327(0x36c)](this['instanceName']+'\x20('+this[_0x3d4327(0x6de)][_0x3d4327(0x11a)]+_0x3d4327(0x75f)+_0x216f18),{'join':!0x0,'inviteCode':_0x2f5e9d,'groupJid':_0x216f18};}catch(_0x1b6eac){let _0x480925=_0x3d4327(0x1b1),_0x51ca14=_0x1b6eac instanceof Error?_0x1b6eac[_0x3d4327(0x3d1)]:typeof _0x1b6eac==_0x3d4327(0x769)?JSON[_0x3d4327(0x3d0)](_0x1b6eac):_0x1b6eac,_0x28f2c3=_0x480925+':\x20'+_0x51ca14;throw this[_0x3d4327(0x41b)][_0x3d4327(0x3d5)](this[_0x3d4327(0x246)]+'\x20('+this['instance'][_0x3d4327(0x11a)]+_0x3d4327(0x75f)+_0x28f2c3),new U(_0x28f2c3);}}async['findParticipants'](_0x474252){const _0x16787d=a0_0x22ca69;try{return{'participants':(await this[_0x16787d(0x3b8)][_0x16787d(0x24b)]['findOne']({'where':{'_id':_0x474252[_0x16787d(0x721)]}},this['instance'][_0x16787d(0x11a)]))[_0x16787d(0x5ef)]['participants']};}catch(_0x4b44cf){let _0x57bbb5=_0x16787d(0x5b1),_0x114a85=_0x4b44cf instanceof Error?_0x4b44cf[_0x16787d(0x3d1)]:typeof _0x4b44cf=='object'?JSON['stringify'](_0x4b44cf):_0x4b44cf,_0x5268c4=_0x57bbb5+':\x20'+_0x114a85;throw this[_0x16787d(0x41b)][_0x16787d(0x3d5)](this[_0x16787d(0x246)]+'\x20('+this[_0x16787d(0x6de)][_0x16787d(0x11a)]+_0x16787d(0x75f)+_0x5268c4),new U(_0x5268c4);}}async[a0_0x22ca69(0x457)](_0x446304){const _0x11968f=a0_0x22ca69;try{return await this['client'][_0x11968f(0xe9)](_0x446304['groupJid']),{'groupJid':_0x446304['groupJid'],'leave':!0x0};}catch(_0x8e76b6){let _0x17e1c1=_0x11968f(0x2db),_0x374c9b=_0x8e76b6 instanceof Error?_0x8e76b6['message']:typeof _0x8e76b6==_0x11968f(0x769)?JSON[_0x11968f(0x3d0)](_0x8e76b6):_0x8e76b6,_0x384d53=_0x17e1c1+':\x20'+_0x374c9b;throw this[_0x11968f(0x41b)][_0x11968f(0x3d5)](this[_0x11968f(0x246)]+'\x20('+this[_0x11968f(0x6de)][_0x11968f(0x11a)]+_0x11968f(0x75f)+_0x384d53),new m(_0x384d53);}}async[a0_0x22ca69(0x3b5)](_0x1147c7){const _0xc42267=a0_0x22ca69;return await this[_0xc42267(0x59d)](_0x1147c7[_0xc42267(0x395)],{'poll':{'name':_0x1147c7[_0xc42267(0x3b5)]?.[_0xc42267(0x7cc)],'selectableCount':_0x1147c7[_0xc42267(0x3b5)][_0xc42267(0x4cf)],'values':_0x1147c7[_0xc42267(0x3b5)][_0xc42267(0x5dc)]}},_0x1147c7?.['options']);}async['listMessage'](_0xfac370){const _0x1f51cc=a0_0x22ca69;return await this['sendMessageWithTyping'](_0xfac370[_0x1f51cc(0x395)],{'listMessage':{'title':_0xfac370[_0x1f51cc(0x4f4)][_0x1f51cc(0x2f0)],'description':_0xfac370[_0x1f51cc(0x4f4)][_0x1f51cc(0x681)],'buttonText':_0xfac370[_0x1f51cc(0x4f4)]?.[_0x1f51cc(0x252)],'footerText':_0xfac370[_0x1f51cc(0x4f4)]?.[_0x1f51cc(0x3f5)],'sections':_0xfac370['listMessage']['sections'],'listType':0x2}},_0xfac370?.[_0x1f51cc(0x1e4)]);}async[a0_0x22ca69(0x344)](_0x4fa8f3){const _0x2c2386=a0_0x22ca69;let _0x18f593;if(_0x4fa8f3[_0x2c2386(0x344)][_0x2c2386(0x399)]===_0x2c2386(0x424)){let _0x6cc717=_0x4fa8f3[_0x2c2386(0x344)][_0x2c2386(0x1b8)][_0x2c2386(0x631)]('\x0a'),_0x3549f6='',_0xbe48bd='';_0x6cc717!==-0x1?(_0x3549f6=_0x4fa8f3[_0x2c2386(0x344)][_0x2c2386(0x1b8)]['substring'](0x0,_0x6cc717)[_0x2c2386(0x585)](),_0xbe48bd=_0x4fa8f3[_0x2c2386(0x344)]['text'][_0x2c2386(0x352)](_0x6cc717+0x1)):_0xbe48bd=_0x4fa8f3[_0x2c2386(0x344)][_0x2c2386(0x1b8)];let _0x20fefd=_0x4fa8f3[_0x2c2386(0x344)][_0x2c2386(0x658)]['filter'](_0x3449b5=>_0x3449b5[_0x2c2386(0x585)]()!==''),_0x45f955=this['createSectionsFromValues'](_0x20fefd);_0x18f593={'listMessage':{'title':_0x3549f6,'description':_0xbe48bd,'buttonText':_0x4fa8f3[_0x2c2386(0x344)][_0x2c2386(0x252)]||_0x2c2386(0x591),'footerText':_0x4fa8f3[_0x2c2386(0x344)][_0x2c2386(0x3f5)],'sections':_0x45f955,'listType':0x2}};}else{if(_0x4fa8f3[_0x2c2386(0x344)][_0x2c2386(0x399)]===_0x2c2386(0x171)){let _0x2e8a86=_0x4fa8f3['menuMessage']['choices'][_0x2c2386(0x716)](_0x7015e5=>!(_0x7015e5[_0x2c2386(0x230)]('[')&&_0x7015e5['endsWith'](']'))&&_0x7015e5[_0x2c2386(0x585)]()!=='')[_0x2c2386(0x322)](_0x3282fa=>_0x3282fa[_0x2c2386(0x6fc)]('\x0a')[0x0]);_0x18f593={'poll':{'name':_0x4fa8f3[_0x2c2386(0x344)][_0x2c2386(0x1b8)],'selectableCount':_0x4fa8f3[_0x2c2386(0x344)][_0x2c2386(0x4cf)]||0x1,'values':_0x2e8a86}};}}return await this[_0x2c2386(0x59d)](_0x4fa8f3[_0x2c2386(0x395)],_0x18f593,_0x4fa8f3?.[_0x2c2386(0x1e4)]);}[a0_0x22ca69(0x4ab)](_0x463764){const _0x2d196c=a0_0x22ca69;let _0xf64925=[],_0x144e40={'rows':[]};return _0x463764[_0x2d196c(0x2e7)](_0x5aa9a1=>{const _0x32b7f2=_0x2d196c;if(_0x5aa9a1['startsWith']('[')&&_0x5aa9a1[_0x32b7f2(0x673)](']'))_0x144e40[_0x32b7f2(0x184)]['length']>0x0&&_0xf64925[_0x32b7f2(0x35a)](_0x144e40),_0x144e40={'title':_0x5aa9a1[_0x32b7f2(0x6ff)](0x1,-0x1),'rows':[]};else{let _0x23fd2e=_0x5aa9a1[_0x32b7f2(0x6fc)]('\x0a')[_0x32b7f2(0x322)](_0x323121=>_0x323121[_0x32b7f2(0x585)]()),_0x158f0e=_0x23fd2e[0x0],_0x2f3d73=_0x23fd2e[0x1]||null,_0x31e8c0=_0x23fd2e[0x2]||_0x158f0e;_0x144e40[_0x32b7f2(0x184)]['push']({'title':_0x158f0e,'description':_0x2f3d73,'rowId':_0x31e8c0});}}),_0x144e40[_0x2d196c(0x184)][_0x2d196c(0x6a0)]>0x0&&_0xf64925[_0x2d196c(0x35a)](_0x144e40),_0xf64925;}async[a0_0x22ca69(0x211)](_0x121ec1,_0x239793){const _0x3bfa4b=a0_0x22ca69;if(await this[_0x3bfa4b(0x113)](_0x121ec1,!0x0)){let _0x2cec75={'where':{'_id':_0x121ec1['id']}},_0x558c8d={'status':[_0x239793['status']][0x0]};try{let _0x4d16f1=await this['repository'][_0x3bfa4b(0x3d1)][_0x3bfa4b(0xd6)](_0x2cec75,_0x558c8d,this[_0x3bfa4b(0x6de)][_0x3bfa4b(0x11a)]);_0x4d16f1&&J(this[_0x3bfa4b(0x246)],_0x3bfa4b(0x42e),{'message':_0x4d16f1});}catch{}}}[a0_0x22ca69(0x4a1)](_0x52ea4d){const _0x5c2287=a0_0x22ca69;let _0x42fac3=[];return _0x52ea4d['forEach'](_0x4f268d=>{const _0x49c8df=a0_0x18ed;_0x4f268d[_0x49c8df(0x2f0)]&&_0x42fac3[_0x49c8df(0x35a)]('['+_0x4f268d[_0x49c8df(0x2f0)]+']'),_0x4f268d['rows']['forEach'](_0x2da3c0=>{const _0x5ccb9b=_0x49c8df;_0x42fac3[_0x5ccb9b(0x35a)](_0x2da3c0[_0x5ccb9b(0x2f0)]);});}),_0x42fac3[_0x5c2287(0x20b)]('|');}[a0_0x22ca69(0x7e2)](_0x14ff50){const _0x36f2c5=a0_0x22ca69;let _0x17c18f=_0x14ff50[_0x36f2c5(0x1f1)](/\\n/g,'\x0a')['split']('\x0a')['filter'](_0x59b497=>_0x59b497['includes'](_0x36f2c5(0x296))||_0x59b497['includes'](_0x36f2c5(0x362))),_0x5a9f04='';return _0x17c18f[_0x36f2c5(0x2e7)](_0x5c86fc=>{const _0x4a4615=_0x36f2c5;let _0xb77ca7=/TEL(?:.*):(.+)/,_0x3fbec7=/EMAIL(?:.*):(.+)/,_0x7e77ba=_0x5c86fc[_0x4a4615(0x44f)](_0xb77ca7),_0x5b966d=_0x5c86fc['match'](_0x3fbec7);if(_0x7e77ba){let _0x2192ca=_0x7e77ba[0x1][_0x4a4615(0x1f1)](/-| |\+|\(|\)/g,'')[_0x4a4615(0x585)]();_0x5a9f04+=_0x4a4615(0x9b)+_0x2192ca+'\x0a';}else{if(_0x5b966d){let _0x2c43a2=_0x5b966d[0x1][_0x4a4615(0x585)]();_0x5a9f04+=_0x4a4615(0x4bc)+_0x2c43a2+'\x0a';}}}),_0x5a9f04['trim']();}async[a0_0x22ca69(0x433)](_0x2b8135,_0x2afcaa,_0x197605,_0x496a9c=null){const _0x5dbdcb=a0_0x22ca69;if(_0x2b8135[_0x5dbdcb(0x37a)])try{let _0x35b8af=_0x2afcaa[_0x5dbdcb(0x1cc)][_0x5dbdcb(0x61d)][_0x5dbdcb(0x1f1)](/:\d{1,2}@/g,'@'),_0x36766a=_0x2afcaa[_0x5dbdcb(0x1cc)][_0x5dbdcb(0x325)],_0x2608f7=_0x35b8af['endsWith']('@g.us'),_0x50f7dd=_0x2afcaa[_0x5dbdcb(0x38f)]?.[_0x5dbdcb(0x1f1)](/:\d{1,2}@/g,'@')||'',_0x48faa7=_0x2afcaa['message_normalized']?.['text']||_0x2afcaa['message_normalized']?.[_0x5dbdcb(0x3ba)]||_0x2afcaa[_0x5dbdcb(0x2c2)]?.[_0x5dbdcb(0x3cb)]||_0x2afcaa[_0x5dbdcb(0x2c2)]?.[_0x5dbdcb(0x7cc)]||'',_0x58e8a1={'_id':_0x2afcaa[_0x5dbdcb(0x646)],'remoteJid':_0x36766a?this[_0x5dbdcb(0x6de)][_0x5dbdcb(0x11a)]:_0x2608f7?_0x50f7dd:_0x35b8af,'pushName':_0x36766a?this[_0x5dbdcb(0x6de)][_0x5dbdcb(0x66f)]||'Eu':_0x2afcaa[_0x5dbdcb(0x45b)],'text':_0x48faa7,'type':_0x2afcaa['messageType'],'when':_0x2afcaa['messageTimestamp']||Date[_0x5dbdcb(0x690)]()};_0x496a9c||(_0x496a9c=await this[_0x5dbdcb(0x3b8)]['chat'][_0x5dbdcb(0x743)]({'where':{'_id':_0x35b8af}},this[_0x5dbdcb(0x6de)][_0x5dbdcb(0x11a)]));let _0x309813=_0x36766a?0x0:_0x496a9c?(_0x496a9c[_0x5dbdcb(0x40a)]||0x0)+0x1:0x1,_0x161fd6={'lastmsg':_0x2afcaa[_0x5dbdcb(0xee)]||Date['now'](),'ephemeralExpiration':_0x2afcaa['expiration'],'lastMessage':_0x58e8a1,'unreadcount':_0x309813,..._0x36766a||_0x2608f7?{}:{'name':_0x2afcaa[_0x5dbdcb(0x45b)]},..._0x2608f7?{'group':_0x2608f7}:{},...!_0x36766a&&!_0x2608f7&&_0x2afcaa[_0x5dbdcb(0x5fa)]?{'imagechat':_0x2afcaa[_0x5dbdcb(0x5fa)]}:{}};if(!_0x2608f7&&(!_0x496a9c?.['leadInfo']||!_0x496a9c[_0x5dbdcb(0x392)][_0x5dbdcb(0x5a5)])&&_0x2afcaa['pushName']&&!_0x36766a&&(_0x161fd6={..._0x161fd6,'leadInfo.nome':_0x2afcaa[_0x5dbdcb(0x45b)]}),_0x496a9c?.['leadInfo'][_0x5dbdcb(0x361)]||(_0x161fd6={..._0x161fd6,'leadInfo.etiquetas':[]}),_0x496a9c?.['leadInfo']['customFields']||(_0x161fd6={..._0x161fd6,'leadInfo.customFields':[]}),_0x496a9c?.[_0x5dbdcb(0x392)][_0x5dbdcb(0x5fd)]||(_0x161fd6={..._0x161fd6,'leadInfo.tags':[]}),_0x496a9c&&_0x496a9c?.['imported']){let _0x2ef702=await this[_0x5dbdcb(0x3b8)][_0x5dbdcb(0x179)][_0x5dbdcb(0x22d)]({'where':{}},this[_0x5dbdcb(0x6de)]['wuid']),_0x3787ee=new Set(_0x2ef702[_0x5dbdcb(0x322)](_0x4a05f6=>_0x4a05f6['_id'])),_0x29962d=(_0x496a9c[_0x5dbdcb(0x392)]?.[_0x5dbdcb(0x361)]||[])[_0x5dbdcb(0x716)](_0xf48ab2=>_0x3787ee[_0x5dbdcb(0x7a9)](_0xf48ab2));_0x161fd6={..._0x161fd6,'imported':!0x1,'leadInfo.etiquetas':_0x29962d};for(let _0x5485fb of _0x29962d)await this[_0x5dbdcb(0x6f9)](_0x5485fb,_0x35b8af);}if(!this[_0x5dbdcb(0x644)][_0x5dbdcb(0x2d2)][_0x5dbdcb(0x22d)](_0x45fd83=>_0x45fd83[_0x5dbdcb(0x3fc)]&&_0x48faa7[_0x5dbdcb(0x54e)](_0x45fd83[_0x5dbdcb(0x3fc)]))&&_0x197605===_0x5dbdcb(0x422)&&_0x36766a&&this[_0x5dbdcb(0x644)]?.[_0x5dbdcb(0x60b)]['enabled']&&_0x48faa7[_0x5dbdcb(0x585)]()!==this[_0x5dbdcb(0x644)]?.[_0x5dbdcb(0x60b)][_0x5dbdcb(0x536)][_0x5dbdcb(0x585)]()){let _0x29a8fc=(this['AutomateSystem']?.[_0x5dbdcb(0x60b)][_0x5dbdcb(0x374)]||0x0)*0xea60,_0x1fb26d=Date['now']()+_0x29a8fc;_0x496a9c?.[_0x5dbdcb(0x392)]?.['desativadoFluxoAte']===0x0||(_0x161fd6={..._0x161fd6,'leadInfo.desativadoFluxoAte':_0x1fb26d},this['logger'][_0x5dbdcb(0x36c)](this[_0x5dbdcb(0x246)]+'\x20('+this[_0x5dbdcb(0x6de)][_0x5dbdcb(0x11a)]+_0x5dbdcb(0x139)+_0x1fb26d+'.'));}if(_0x48faa7[_0x5dbdcb(0x585)]()===this[_0x5dbdcb(0x644)]?.[_0x5dbdcb(0x60b)][_0x5dbdcb(0x536)][_0x5dbdcb(0x585)]()){this[_0x5dbdcb(0x41b)][_0x5dbdcb(0x36c)](this[_0x5dbdcb(0x246)]+'\x20('+this['instance'][_0x5dbdcb(0x11a)]+_0x5dbdcb(0x241)+_0x48faa7);let _0x365ae0=Date[_0x5dbdcb(0x690)]();this['AutomateSystem']?.['flowConfig'][_0x5dbdcb(0x7ab)]===0x0?_0x161fd6={..._0x161fd6,'leadInfo.desativadoFluxoAte':_0x365ae0+0x7591f6200}:_0x161fd6={..._0x161fd6,'leadInfo.desativadoFluxoAte':_0x365ae0+this[_0x5dbdcb(0x644)]?.[_0x5dbdcb(0x60b)][_0x5dbdcb(0x7ab)]*0x3c*0x3e8};}if(_0x496a9c=await this['repository'][_0x5dbdcb(0x24b)][_0x5dbdcb(0x489)]({'where':{'_id':_0x35b8af}},_0x161fd6,this[_0x5dbdcb(0x6de)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x496a9c)J(this[_0x5dbdcb(0x246)],_0x5dbdcb(0x798),{'chat':_0x496a9c});else{this[_0x5dbdcb(0x41b)][_0x5dbdcb(0x3d5)](this[_0x5dbdcb(0x246)]+'\x20('+this[_0x5dbdcb(0x6de)][_0x5dbdcb(0x11a)]+_0x5dbdcb(0x468));return;}if(_0x36766a)return this[_0x5dbdcb(0x41b)][_0x5dbdcb(0x36c)](this[_0x5dbdcb(0x246)]+'\x20('+this[_0x5dbdcb(0x6de)][_0x5dbdcb(0x11a)]+_0x5dbdcb(0x3bc)),null;if(!this[_0x5dbdcb(0x644)]?.[_0x5dbdcb(0x60b)][_0x5dbdcb(0x7db)])return this[_0x5dbdcb(0x41b)][_0x5dbdcb(0x36c)](this['instanceName']+'\x20('+this[_0x5dbdcb(0x6de)][_0x5dbdcb(0x11a)]+_0x5dbdcb(0x6e5)),null;if(_0x496a9c['_id'][_0x5dbdcb(0x54e)](_0x5dbdcb(0x464))&&this['AutomateSystem']?.[_0x5dbdcb(0x60b)][_0x5dbdcb(0x625)]===!0x0)return this['logger']['verbose'](this[_0x5dbdcb(0x246)]+'\x20('+this[_0x5dbdcb(0x6de)]['wuid']+_0x5dbdcb(0x728)),null;if(_0x496a9c[_0x5dbdcb(0x392)]){if(_0x496a9c[_0x5dbdcb(0x392)][_0x5dbdcb(0x671)]===0x0||_0x496a9c[_0x5dbdcb(0x392)]['atendimentoAberto'])return this['logger'][_0x5dbdcb(0x36c)](this['instanceName']+'\x20('+this[_0x5dbdcb(0x6de)][_0x5dbdcb(0x11a)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x35b8af+',\x20saindo.'),null;if(_0x496a9c[_0x5dbdcb(0x392)][_0x5dbdcb(0x671)]>Date['now']()&&!_0x2afcaa[_0x5dbdcb(0x2c2)]?.[_0x5dbdcb(0x3cb)])return this['logger'][_0x5dbdcb(0x36c)](this[_0x5dbdcb(0x246)]+'\x20('+this['instance'][_0x5dbdcb(0x11a)]+_0x5dbdcb(0x349)+new Date(_0x496a9c[_0x5dbdcb(0x392)][_0x5dbdcb(0x671)])[_0x5dbdcb(0x182)]()+_0x5dbdcb(0x500)),null;}this['logger'][_0x5dbdcb(0x36c)](this[_0x5dbdcb(0x246)]+'\x20('+this['instance'][_0x5dbdcb(0x11a)]+_0x5dbdcb(0x6cf)),this['StartBot'](_0x2afcaa,_0x197605);}catch(_0x49fd05){let _0x162901=_0x5dbdcb(0x288),_0x506c1e=_0x49fd05 instanceof Error?_0x49fd05[_0x5dbdcb(0x3d1)]:typeof _0x49fd05==_0x5dbdcb(0x769)?JSON[_0x5dbdcb(0x3d0)](_0x49fd05):_0x49fd05,_0x4f3bce=_0x162901+':\x20'+_0x506c1e;return this[_0x5dbdcb(0x41b)][_0x5dbdcb(0x3d5)](this[_0x5dbdcb(0x246)]+'\x20('+this[_0x5dbdcb(0x6de)]['wuid']+_0x5dbdcb(0x75f)+_0x4f3bce),null;}}async[a0_0x22ca69(0x683)](_0x2840f,_0x41bcb2){const _0x539233=a0_0x22ca69;if(_0x41bcb2[_0x539233(0x37a)]){let _0x43b4b0=_0x2840f['map'](async _0x11af54=>{const _0xf7864b=_0x539233;try{let _0x4c39cf={'_id':_0x11af54[_0xf7864b(0x646)],'owner':_0x11af54[_0xf7864b(0x60d)],'lastcache':0x0};if(Object[_0xf7864b(0x22b)](_0x11af54)[_0xf7864b(0x2e7)](_0x49b9b4=>{_0x11af54[_0x49b9b4]!==null&&(_0x4c39cf[_0x49b9b4]=_0x11af54[_0x49b9b4]);}),_0x4c39cf[_0xf7864b(0x6e4)]===null&&(_0x4c39cf[_0xf7864b(0x6e4)]=_0xf7864b(0x1e6)),Object[_0xf7864b(0x22b)](_0x4c39cf)[_0xf7864b(0x6a0)]>0x0)return await this[_0xf7864b(0x3b8)][_0xf7864b(0x24b)][_0xf7864b(0x489)]({'where':{'_id':_0x11af54[_0xf7864b(0x646)]}},_0x4c39cf,this[_0xf7864b(0x6de)][_0xf7864b(0x11a)]);}catch(_0x4bd8c9){let _0x50f060=_0xf7864b(0x1dd)+_0x11af54[_0xf7864b(0x646)],_0xeb468e=_0x4bd8c9 instanceof Error?_0x4bd8c9[_0xf7864b(0x3d1)]:typeof _0x4bd8c9=='object'?JSON[_0xf7864b(0x3d0)](_0x4bd8c9):_0x4bd8c9,_0x5ef7e2=_0x50f060+':\x20'+_0xeb468e;return this['logger'][_0xf7864b(0x3d5)](this['instanceName']+'\x20('+this[_0xf7864b(0x6de)]['wuid']+_0xf7864b(0x75f)+_0x5ef7e2),null;}}),_0x356cb9=(await Promise[_0x539233(0x67b)](_0x43b4b0))[_0x539233(0x716)](_0x346879=>_0x346879!==null)[_0x539233(0x6a0)];this[_0x539233(0x41b)][_0x539233(0x36c)](this[_0x539233(0x246)]+'\x20('+this[_0x539233(0x6de)]['wuid']+_0x539233(0x75f)+_0x356cb9+'\x20chats\x20de\x20'+this['instance'][_0x539233(0x11a)]+_0x539233(0x555));}}async[a0_0x22ca69(0x2b8)](_0x238e90){const _0x2e644b=a0_0x22ca69;this[_0x2e644b(0x41b)][_0x2e644b(0x36c)](this[_0x2e644b(0x246)]+'\x20('+this[_0x2e644b(0x6de)][_0x2e644b(0x11a)]+_0x2e644b(0x6fe));let _0x356db4={'readMessages':[{'remoteJid':_0x238e90[_0x2e644b(0x169)][_0x2e644b(0x5cf)]['key'][_0x2e644b(0x61d)],'fromMe':_0x238e90[_0x2e644b(0x169)][_0x2e644b(0x5cf)][_0x2e644b(0x1cc)]['fromMe'],'id':_0x238e90[_0x2e644b(0x169)]['lastReceivedMessage']['key']['id']}]};await this[_0x2e644b(0xe3)](_0x356db4);}async[a0_0x22ca69(0x206)](_0x3f5fc6,_0x48ced9){const _0x378588=a0_0x22ca69;try{let {key:_0x249421,message_normalized:_0x4c2889}=_0x3f5fc6,_0x89ab9=_0x4c2889,_0x4c9444=_0x4c2889[_0x378588(0x1b8)]||_0x4c2889[_0x378588(0x3ba)]||_0x4c2889[_0x378588(0x3cb)]||_0x4c2889[_0x378588(0x7cc)]||'',_0x29b970=_0x249421[_0x378588(0x61d)],_0x25dd2e=null,_0x598fb8=this[_0x378588(0x644)][_0x378588(0x2d2)][_0x378588(0x22d)](_0x530dfd=>_0x530dfd[_0x378588(0x3fc)]&&_0x4c9444[_0x378588(0x54e)](_0x530dfd[_0x378588(0x3fc)]));if(_0x598fb8&&_0x48ced9===_0x378588(0x422)){let _0x348a0c=await this['repository'][_0x378588(0x6d9)]['findOne']({'where':{'_id':_0x598fb8[_0x378588(0x646)]}});if(this['logger'][_0x378588(0x36c)](this[_0x378588(0x246)]+'\x20('+this[_0x378588(0x6de)][_0x378588(0x11a)]+_0x378588(0x76d)),_0x348a0c&&_0x348a0c[_0x378588(0x13a)]?.[_0x378588(0x54e)](this[_0x378588(0x6de)]['wuid']))_0x25dd2e=await this[_0x378588(0x630)](_0x348a0c,_0x249421,_0x89ab9);else return this[_0x378588(0x41b)][_0x378588(0x36c)](this[_0x378588(0x246)]+'\x20('+this['instance'][_0x378588(0x11a)]+_0x378588(0x2b3)),null;}else this['logger'][_0x378588(0x36c)](this[_0x378588(0x246)]+'\x20('+this[_0x378588(0x6de)][_0x378588(0x11a)]+_0x378588(0x649));if(_0x25dd2e=await this[_0x378588(0x642)](_0x29b970,_0x89ab9),_0x25dd2e){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x378588(0x6de)][_0x378588(0x11a)]+_0x378588(0x345)),!_0x249421['fromMe']&&_0x25dd2e[_0x378588(0x384)]&&this['readMessageBot'](_0x25dd2e);let _0x23f78d=await this[_0x378588(0x55f)](_0x25dd2e);_0x23f78d&&await this[_0x378588(0x4e1)](_0x25dd2e,_0x23f78d);}}catch(_0x5fa5de){this[_0x378588(0x41b)][_0x378588(0x3d5)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x5fa5de instanceof Error?_0x5fa5de[_0x378588(0x3d1)]:JSON[_0x378588(0x3d0)](_0x5fa5de,null,0x2)));}}[a0_0x22ca69(0xe7)](_0x40c9f0,_0x1c0dbc='',_0x2e1f92={}){const _0x5fd165=a0_0x22ca69;return typeof _0x40c9f0!=_0x5fd165(0x769)||_0x40c9f0===null?(_0x1c0dbc&&(_0x2e1f92[_0x1c0dbc]=_0x40c9f0),_0x2e1f92):(Object[_0x5fd165(0xce)](_0x40c9f0)[_0x5fd165(0x2e7)](([_0x3fdfa8,_0x1a849a])=>{const _0x374265=_0x5fd165;let _0x4a9f92=_0x1c0dbc?_0x1c0dbc+'.'+_0x3fdfa8:'_'+_0x3fdfa8;Array[_0x374265(0x612)](_0x1a849a)?_0x1a849a['forEach']((_0x5d1efc,_0x3e4152)=>{const _0x52a900=_0x374265;this[_0x52a900(0xe7)](_0x5d1efc,_0x4a9f92+'['+_0x3e4152+']',_0x2e1f92);}):typeof _0x1a849a==_0x374265(0x769)&&_0x1a849a!==null?this[_0x374265(0xe7)](_0x1a849a,_0x4a9f92,_0x2e1f92):_0x2e1f92[_0x4a9f92]=String(_0x1a849a);}),_0x2e1f92);}[a0_0x22ca69(0x620)](_0x127582){const _0x4ef9de=a0_0x22ca69;let _0x1f4dba={};for(let _0x5355c5 of _0x127582)typeof _0x5355c5[_0x4ef9de(0x7cc)]==_0x4ef9de(0x5ee)&&typeof _0x5355c5[_0x4ef9de(0x5a9)]==_0x4ef9de(0x5ee)&&(_0x1f4dba[_0x5355c5[_0x4ef9de(0x7cc)]]=_0x5355c5[_0x4ef9de(0x5a9)]);return _0x1f4dba;}async[a0_0x22ca69(0x55f)](_0x237528){const _0xdf498=a0_0x22ca69;if(!this['AutomateSystem']?.['flowConfig'][_0xdf498(0x7db)]||_0x237528[_0xdf498(0x172)]!==_0xdf498(0x3c8)&&_0x237528[_0xdf498(0x11d)]==='')return null;let _0x2c80d4=_0x237528['chatLog'][_0xdf498(0xf0)]||'start';typeof _0x237528[_0xdf498(0x169)][_0xdf498(0x1c2)]>'u'&&(_0x237528[_0xdf498(0x169)][_0xdf498(0x1c2)]=!0x0);let _0x224fd5=_0x237528['chatLog'][_0xdf498(0x1c2)];this[_0xdf498(0x41b)][_0xdf498(0x36c)](this[_0xdf498(0x246)]+'\x20('+this['instance'][_0xdf498(0x11a)]+_0xdf498(0x33e)+_0x2c80d4+_0xdf498(0x2af)+_0x224fd5);let _0x3e5d37=_0x2c80d4==='start'?_0x237528[_0xdf498(0x382)]['find'](_0x364d40=>_0x364d40[_0xdf498(0x399)]===_0xdf498(0x5b9)):_0x237528[_0xdf498(0x382)][_0xdf498(0x22d)](_0x161fea=>_0x161fea[_0xdf498(0x646)]['toString']()===_0x2c80d4[_0xdf498(0x12e)]());if(!_0x3e5d37)return this['logger'][_0xdf498(0x3d5)](this['instanceName']+'\x20('+this[_0xdf498(0x6de)][_0xdf498(0x11a)]+_0xdf498(0x7cf)+_0x2c80d4),null;let _0x3cb3cd={'_pushName':_0x237528?.[_0xdf498(0x169)]?.[_0xdf498(0x5cf)]?.[_0xdf498(0x45b)]||'','_sender':this['instance'][_0xdf498(0x11a)]||'',..._0x237528['chatLog']['realVariables']},_0x39e94d=null;if(_0x237528[_0xdf498(0x11d)]){let _0x487925=_0x237528[_0xdf498(0x169)][_0xdf498(0x5cf)]['vote'],_0x188491=_0x237528[_0xdf498(0x12f)]['find'](_0x18376f=>_0x18376f['option']===_0x487925);if(_0x188491){let _0x5b568d=_0x188491[_0xdf498(0x5a7)];if(_0x39e94d=_0x237528[_0xdf498(0x382)]['find'](_0x670044=>_0x670044[_0xdf498(0x94)]===_0x5b568d&&_0x670044[_0xdf498(0x66e)]===0x1),_0x3e5d37[_0xdf498(0x43c)][_0xdf498(0x55a)]){let _0xdd9706={'id':_0x237528[_0xdf498(0x11d)],'remoteJid':_0x237528['remoteJid'],'fromMe':!0x0};await this[_0xdf498(0x601)](_0xdd9706);}if(_0x3e5d37[_0xdf498(0x43c)]['pollOnReplyDelete']&&_0x3e5d37[_0xdf498(0x43c)][_0xdf498(0x48c)]&&_0x3e5d37['uazapi']['menuType']==='poll'){let _0xa7876f={'number':_0x237528[_0xdf498(0x61d)],'options':{'delay':0x0},'textMessage':{'text':_0xdf498(0x28e)+_0x237528[_0xdf498(0x2d3)]+'\x0a*Você\x20respondeu*:\x0a'+_0x487925}};await this[_0xdf498(0x20f)](_0xa7876f);}_0x237528[_0xdf498(0x172)]=_0xdf498(0x3c8),_0x237528[_0xdf498(0x11d)]='',_0x237528[_0xdf498(0x2d3)]='',_0x237528[_0xdf498(0x12f)]=[];}else{this[_0xdf498(0x41b)]['verbose'](this[_0xdf498(0x246)]+'\x20('+this[_0xdf498(0x6de)][_0xdf498(0x11a)]+_0xdf498(0x106));let _0x10c948={'activatedCount':_0x237528[_0xdf498(0x169)]['blockLogs'][_0xdf498(0x716)](_0x33456f=>String(_0x33456f[_0xdf498(0x152)])===String(_0x2c80d4))[_0xdf498(0x6a0)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x3e5d37[_0xdf498(0x43c)][_0xdf498(0xae)]){let _0x3060fa={'number':_0x237528['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x3e5d37[_0xdf498(0x43c)][_0xdf498(0xae)]}};await this[_0xdf498(0x20f)](_0x3060fa);}if(_0x3e5d37[_0xdf498(0x254)]!==void 0x0&&_0x10c948[_0xdf498(0xc2)]>=_0x3e5d37[_0xdf498(0x254)]){let _0x5c0438=Date[_0xdf498(0x690)](),_0x508c04=_0x3e5d37['stopMinutesMaxActives']??0xa;isNaN(_0x508c04)&&(_0x508c04=0xa);let _0x105748=_0x5c0438+_0x508c04*0x3c*0x3e8;_0x10c948['newStoppedUntil']=_0x105748,_0x10c948[_0xdf498(0x679)][_0xdf498(0x35a)](_0xdf498(0x17d)),this[_0xdf498(0x18f)](_0x237528,_0x105748),_0x237528[_0xdf498(0x11d)]='',_0x237528[_0xdf498(0x2d3)]='',_0x237528[_0xdf498(0x12f)]=[];}return this[_0xdf498(0x75a)](_0x237528,_0x3e5d37,_0x10c948,!0x0),null;}}if(_0x224fd5&&_0x3e5d37[_0xdf498(0x5a7)]&&!_0x237528[_0xdf498(0x11d)]){let _0x5d8597=_0x237528['blocks']['filter'](_0x1e853f=>_0x1e853f[_0xdf498(0x94)]['toString']()===_0x3e5d37[_0xdf498(0x5a7)][_0xdf498(0x12e)]())[_0xdf498(0x3a1)]((_0x11251e,_0x5b3a5d)=>_0x11251e[_0xdf498(0x66e)]-_0x5b3a5d['order']);_0x5d8597[_0xdf498(0x6a0)]>0x0&&(_0x39e94d=_0x5d8597[0x0]);}if(!_0x39e94d){let _0x532063=_0x3e5d37['groupId'],_0x1b5d2f=_0x237528[_0xdf498(0x382)]['filter'](_0x2a1973=>_0x2a1973[_0xdf498(0x94)]===_0x532063&&_0x2a1973[_0xdf498(0x66e)]>_0x3e5d37['order'])['sort']((_0x367c69,_0x3a3c9f)=>_0x367c69['order']-_0x3a3c9f[_0xdf498(0x66e)]);_0x1b5d2f[_0xdf498(0x6a0)]>0x0&&(_0x39e94d=_0x1b5d2f[0x0]);}if(!_0x39e94d)return _0x237528['status']=_0xdf498(0x531),null;_0x237528[_0xdf498(0x169)][_0xdf498(0x5e0)]=_0x3cb3cd;let _0x4ee813=JSON[_0xdf498(0x4d0)](JSON[_0xdf498(0x3d0)](_0x39e94d));return this[_0xdf498(0xb3)](_0x4ee813,_0x237528['chatLog'][_0xdf498(0x5e0)]),_0x237528[_0xdf498(0x169)][_0xdf498(0xf0)]=_0x4ee813[_0xdf498(0x646)],_0x237528['chatLog'][_0xdf498(0x1c2)]=!0x0,_0x4ee813;}['replaceVariables'](_0x2cfab5,_0x4caeb5){const _0x451f91=a0_0x22ca69;return _0x2cfab5[_0x451f91(0x1f1)](/\{\{([^}]+)\}\}/g,(_0x383a0b,_0x8d4d04)=>_0x4caeb5[_0x8d4d04]||'');}[a0_0x22ca69(0xb3)](_0xaa584f,_0x24de7e){const _0xc8ee82=a0_0x22ca69;for(let _0x31e270 in _0xaa584f)typeof _0xaa584f[_0x31e270]==_0xc8ee82(0x5ee)?_0xaa584f[_0x31e270]=this[_0xc8ee82(0x694)](_0xaa584f[_0x31e270],_0x24de7e):typeof _0xaa584f[_0x31e270]==_0xc8ee82(0x769)&&this[_0xc8ee82(0xb3)](_0xaa584f[_0x31e270],_0x24de7e);}async[a0_0x22ca69(0x498)](_0x37ad85,_0x267f00){const _0x345f64=a0_0x22ca69;let _0x427a02=_0x267f00[_0x345f64(0x646)];if(_0x37ad85[_0x345f64(0x169)]&&_0x37ad85[_0x345f64(0x169)][_0x345f64(0xe1)]){let _0x540027=_0x37ad85[_0x345f64(0x169)][_0x345f64(0xe1)][_0x345f64(0x716)](_0x2c79d1=>String(_0x2c79d1[_0x345f64(0x152)])===String(_0x427a02))['pop']();if(_0x540027&&_0x540027[_0x345f64(0x3d5)]&&_0x267f00[_0x345f64(0x5d2)])return _0x37ad85['status']='closed',await this[_0x345f64(0x180)](_0x37ad85),null;}if(_0x267f00[_0x345f64(0x399)]===_0x345f64(0x43c)&&_0x267f00[_0x345f64(0x43c)][_0x345f64(0xb1)]===_0x345f64(0x4c1)&&_0x37ad85[_0x345f64(0x11d)])return _0x37ad85[_0x345f64(0x169)][_0x345f64(0xf0)]=_0x427a02,await this[_0x345f64(0x180)](_0x37ad85),null;let _0x376fdf=await this[_0x345f64(0x55f)](_0x37ad85);if(_0x37ad85['chatLog']&&_0x37ad85[_0x345f64(0x169)]['blockLogs']){let _0x1bcdcf=_0x37ad85['chatLog'][_0x345f64(0xe1)][_0x345f64(0x716)](_0x16bb66=>String(_0x16bb66[_0x345f64(0x152)])===String(_0x427a02))[_0x345f64(0x6a0)];if(_0x267f00[_0x345f64(0x254)]!==void 0x0&&_0x1bcdcf>=_0x267f00['maxActives']){let _0x5f07f7=Date[_0x345f64(0x690)](),_0x31703e=_0x267f00[_0x345f64(0x1c3)]??0xa;isNaN(_0x31703e)&&(_0x31703e=0xa);let _0x39f4a3=_0x5f07f7+_0x31703e*0x3c*0x3e8,_0x9d86a8={'newStoppedUntil':_0x39f4a3};return this[_0x345f64(0x18f)](_0x37ad85,_0x39f4a3),this['updateConversation'](_0x37ad85,_0x267f00,_0x9d86a8,!0x0),null;}}_0x376fdf&&_0x376fdf[_0x345f64(0x399)]!==_0x345f64(0x46d)&&await this[_0x345f64(0x4e1)](_0x37ad85,_0x376fdf),_0x376fdf||await this[_0x345f64(0x180)](_0x37ad85),_0x376fdf&&_0x376fdf[_0x345f64(0x399)]==='save'&&(_0x37ad85[_0x345f64(0x169)]['lastBlockId']=_0x427a02,await this[_0x345f64(0x180)](_0x37ad85));}async['processblock'](_0x1a8cf1,_0x5ddab5){const _0xa31314=a0_0x22ca69;try{let _0x2641b3=_0x5ddab5[_0xa31314(0x399)];this[_0xa31314(0x41b)][_0xa31314(0x36c)](this[_0xa31314(0x246)]+'\x20('+this[_0xa31314(0x6de)][_0xa31314(0x11a)]+_0xa31314(0x5e1)+_0x2641b3);let _0x595360={'uazapi':()=>this[_0xa31314(0xb5)](_0x1a8cf1,_0x5ddab5),'save':()=>this['saveTextReply'](_0x1a8cf1,_0x5ddab5),'stop':()=>this[_0xa31314(0x536)](_0x1a8cf1,_0x5ddab5),'condition':()=>this[_0xa31314(0x205)](_0x1a8cf1,_0x5ddab5),'varedit':()=>this[_0xa31314(0x435)](_0x1a8cf1,_0x5ddab5),'apirequest':()=>this['processApiRequest'](_0x1a8cf1,_0x5ddab5),'goToFlow':()=>this[_0xa31314(0x3cc)](_0x1a8cf1,_0x5ddab5),'scheduleFlow':()=>this[_0xa31314(0x527)](_0x1a8cf1,_0x5ddab5),'awaitSeconds':()=>this[_0xa31314(0x440)](_0x1a8cf1,_0x5ddab5),'clearVariables':()=>this[_0xa31314(0x329)](_0x1a8cf1,_0x5ddab5)}[_0x2641b3];_0x595360&&await _0x595360();}catch(_0x5782a1){this['logger'][_0xa31314(0x3d5)](this[_0xa31314(0x246)]+'\x20('+this[_0xa31314(0x6de)][_0xa31314(0x11a)]+_0xa31314(0x3ed)+(_0x5782a1 instanceof Error?_0x5782a1[_0xa31314(0x3d1)]:JSON[_0xa31314(0x3d0)](_0x5782a1,null,0x2)));}}async[a0_0x22ca69(0x440)](_0x3fd25f,_0xcf78a6){const _0x23fe73=a0_0x22ca69;if(this[_0x23fe73(0x41b)][_0x23fe73(0x36c)](this['instanceName']+'\x20('+this[_0x23fe73(0x6de)][_0x23fe73(0x11a)]+_0x23fe73(0x66d)),!_0x3fd25f||!_0xcf78a6)return this['logger'][_0x23fe73(0x3d5)](this['instanceName']+'\x20('+this['instance'][_0x23fe73(0x11a)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x2feb62=+_0xcf78a6[_0x23fe73(0x243)];isNaN(_0x2feb62)&&(_0x2feb62=0x0),_0x2feb62=Math[_0x23fe73(0x7df)](_0x2feb62,0x3c),await(0x0,w[_0x23fe73(0x222)])(_0x2feb62*0x3e8);let _0xf9db08={'moreLogs':[_0x23fe73(0x44e)+_0x2feb62+'\x20segundos']};return await this[_0x23fe73(0x75a)](_0x3fd25f,_0xcf78a6,_0xf9db08),_0x2feb62;}async[a0_0x22ca69(0x329)](_0x38873f,_0x417c80){const _0x16e6a6=a0_0x22ca69;if(this[_0x16e6a6(0x41b)][_0x16e6a6(0x36c)](this[_0x16e6a6(0x246)]+'\x20('+this[_0x16e6a6(0x6de)][_0x16e6a6(0x11a)]+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x38873f||!_0x417c80)return this[_0x16e6a6(0x41b)][_0x16e6a6(0x3d5)](this[_0x16e6a6(0x246)]+'\x20('+this[_0x16e6a6(0x6de)][_0x16e6a6(0x11a)]+_0x16e6a6(0x51d)),null;let _0x58affc=[];if(_0x417c80[_0x16e6a6(0x45e)][_0x16e6a6(0x585)]()==='[all]'){let _0x51033e=[_0x16e6a6(0x50f),_0x16e6a6(0x7e5),'_error',_0x16e6a6(0x188),'_remoteJid',_0x16e6a6(0x646),'_fromMe'];_0x58affc=Object[_0x16e6a6(0x22b)](_0x38873f[_0x16e6a6(0x169)]['realVariables'])['filter'](_0x2a0414=>_0x2a0414['startsWith']('_')&&!_0x51033e[_0x16e6a6(0x54e)](_0x2a0414));}else _0x58affc=_0x417c80['clearVariables'][_0x16e6a6(0x6fc)]('|')[_0x16e6a6(0x322)](_0x521d8c=>(_0x521d8c=_0x521d8c['replace'](/[{}]/g,'')['trim'](),_0x521d8c[_0x16e6a6(0x230)]('_')?_0x521d8c:'_'+_0x521d8c));let _0x3d3217=[];_0x58affc[_0x16e6a6(0x2e7)](_0x1a3607=>{const _0x50f9e2=_0x16e6a6;_0x1a3607 in _0x38873f[_0x50f9e2(0x169)][_0x50f9e2(0x5e0)]&&(delete _0x38873f['chatLog']['realVariables'][_0x1a3607],_0x3d3217[_0x50f9e2(0x35a)](_0x1a3607));}),_0x3d3217[_0x16e6a6(0x6a0)]>0x0?this['logger']['verbose'](this[_0x16e6a6(0x246)]+'\x20('+this[_0x16e6a6(0x6de)][_0x16e6a6(0x11a)]+_0x16e6a6(0x37e)+_0x3d3217[_0x16e6a6(0x20b)](',\x20')):this[_0x16e6a6(0x41b)][_0x16e6a6(0x36c)](this[_0x16e6a6(0x246)]+'\x20('+this['instance']['wuid']+_0x16e6a6(0x2fa));let _0x419a38={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x3d3217[_0x16e6a6(0x20b)](',\x20')]};return await this['updateConversation'](_0x38873f,_0x417c80,_0x419a38),null;}async[a0_0x22ca69(0x527)](_0x4af27c,_0x506947){const _0x44666f=a0_0x22ca69;if(this[_0x44666f(0x41b)][_0x44666f(0x36c)](this['instanceName']+'\x20('+this[_0x44666f(0x6de)][_0x44666f(0x11a)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x4af27c||!_0x506947)return this['logger'][_0x44666f(0x3d5)](this[_0x44666f(0x246)]+'\x20('+this[_0x44666f(0x6de)][_0x44666f(0x11a)]+_0x44666f(0x51d)),null;let _0xe203b3=_0x4af27c[_0x44666f(0x61d)];_0x506947[_0x44666f(0x50b)]['remoteJid']&&_0x506947['scheduleFlow'][_0x44666f(0x61d)][_0x44666f(0x585)]()!==''&&(_0xe203b3=_0x506947[_0x44666f(0x43c)][_0x44666f(0x61d)]['trim']());let _0xbb8c58=_0x506947[_0x44666f(0x50b)]['timeInMinutes']*0xea60,_0x18174b=Date[_0x44666f(0x690)]()+_0xbb8c58,_0x262582={'status':_0x44666f(0x5ad),'info':_0x44666f(0x680)+_0x4af27c[_0x44666f(0x7cc)],'remoteJids':[_0xe203b3],'when':_0x18174b,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x44666f(0x6d9),'flowName':_0x506947['scheduleFlow'][_0x44666f(0x165)]};this['editScheduleMessage'](_0x262582);let _0x4a05b3=await this['NextBlock'](_0x4af27c);_0x4a05b3&&await this['processblock'](_0x4af27c,_0x4a05b3);}async['processgoToFlow'](_0x4f6c07,_0x496aca){const _0x19acc4=a0_0x22ca69;if(this[_0x19acc4(0x41b)]['verbose'](this[_0x19acc4(0x246)]+'\x20('+this[_0x19acc4(0x6de)][_0x19acc4(0x11a)]+_0x19acc4(0x1a8)),!_0x4f6c07||!_0x496aca)return this['logger'][_0x19acc4(0x3d5)](this['instanceName']+'\x20('+this[_0x19acc4(0x6de)][_0x19acc4(0x11a)]+_0x19acc4(0x51d)),null;await this[_0x19acc4(0x75a)](_0x4f6c07,_0x496aca,{},!0x0,!0x0);let _0x45c666=_0x496aca[_0x19acc4(0x1bf)];_0x4f6c07=await this['createConversationforgoToFlow'](_0x45c666,_0x4f6c07['remoteJid'],_0x4f6c07[_0x19acc4(0x169)]['realVariables']);let _0x29b57b=await this[_0x19acc4(0x55f)](_0x4f6c07);_0x29b57b&&await this[_0x19acc4(0x4e1)](_0x4f6c07,_0x29b57b);}async[a0_0x22ca69(0x2aa)](_0x4c6861,_0x5ccd4f,_0x7b841e){const _0x1eacaa=a0_0x22ca69;this[_0x1eacaa(0x41b)][_0x1eacaa(0x36c)](this['instanceName']+'\x20('+this[_0x1eacaa(0x6de)][_0x1eacaa(0x11a)]+_0x1eacaa(0x4ff));try{let _0xe8e84a=this[_0x1eacaa(0x644)][_0x1eacaa(0x2d2)][_0x1eacaa(0x22d)](_0xc88fe0=>_0xc88fe0['_id']===_0x4c6861);_0xe8e84a||this[_0x1eacaa(0x41b)][_0x1eacaa(0x3d5)](this[_0x1eacaa(0x246)]+'\x20('+this[_0x1eacaa(0x6de)][_0x1eacaa(0x11a)]+'):\x20Flow\x20\x27'+_0x4c6861+_0x1eacaa(0x7a5));let _0x57ab89=await this[_0x1eacaa(0x3b8)][_0x1eacaa(0x6d9)][_0x1eacaa(0x743)]({'where':{'_id':_0xe8e84a['_id']}});if(!_0x57ab89||!_0x57ab89[_0x1eacaa(0x13a)]?.['includes'](this[_0x1eacaa(0x6de)][_0x1eacaa(0x11a)]))throw this['logger'][_0x1eacaa(0x3d5)](this[_0x1eacaa(0x246)]+'\x20('+this['instance']['wuid']+_0x1eacaa(0x3c5)+_0x4c6861+_0x1eacaa(0xbe)),new m('Flow\x20\x27'+_0x4c6861+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x21c31d=require('mongodb')[_0x1eacaa(0x4be)],_0x4b9a0=Date[_0x1eacaa(0x690)](),_0x1c41a3=_0x1eacaa(0x5b9),_0x375e81={},_0x513350={},_0x5ae608=this['AutomateSystem'][_0x1eacaa(0x2d2)]['find'](_0x1c2953=>_0x1c2953[_0x1eacaa(0x646)]===_0x57ab89[_0x1eacaa(0x646)]?.[_0x1eacaa(0x12e)]()),_0x2de4e3=_0x5ae608?.['minutesToClose']??_0x57ab89['minutesToClose']??0x0,_0x257991=_0x5ae608?.[_0x1eacaa(0x384)]??_0x57ab89[_0x1eacaa(0x384)]??!0x1,_0x1b2361={'flowId':_0xe8e84a[_0x1eacaa(0x646)],'readMessages':_0xe8e84a[_0x1eacaa(0x384)],..._0x57ab89,'chatLog':null},_0x1b3ecb={'lastReceivedMessage':_0x375e81,'lastSendMessage':_0x513350,'lastBlockId':_0x1c41a3,'lastCondition':!0x0,'realVariables':_0x7b841e};_0x1b2361[_0x1eacaa(0x169)]=_0x1b3ecb,_0x1b2361[_0x1eacaa(0x169)][_0x1eacaa(0x5e0)]={..._0x7b841e},delete _0x1b2361[_0x1eacaa(0x646)],_0x1b2361[_0x1eacaa(0x646)]=new _0x21c31d(),_0x1b2361[_0x1eacaa(0x16f)]=_0x4b9a0,_0x1b2361[_0x1eacaa(0x172)]=_0x1eacaa(0x3c8),_0x1b2361[_0x1eacaa(0x61d)]=_0x5ccd4f,_0x1b2361[_0x1eacaa(0x42c)]=_0x2de4e3,_0x1b2361['readMessages']=_0x257991;let _0x1dcc06=await this[_0x1eacaa(0x3b8)][_0x1eacaa(0x722)]['updateOne'](_0x1b2361['_id'],_0x1b2361,this[_0x1eacaa(0x6de)]['wuid']);return this['logger']['verbose'](this[_0x1eacaa(0x246)]+'\x20('+this['instance'][_0x1eacaa(0x11a)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x1dcc06?_0x1b2361:null;}catch(_0x2bb4dd){let _0x107c4d=_0x1eacaa(0x708),_0x2cecde=_0x2bb4dd instanceof Error?_0x2bb4dd['message']:typeof _0x2bb4dd==_0x1eacaa(0x769)?JSON[_0x1eacaa(0x3d0)](_0x2bb4dd):_0x2bb4dd,_0x9a89a1=_0x107c4d+':\x20'+_0x2cecde;throw this[_0x1eacaa(0x41b)][_0x1eacaa(0x3d5)](this[_0x1eacaa(0x246)]+'\x20('+this['instance'][_0x1eacaa(0x11a)]+'):\x20'+_0x9a89a1),new m(_0x9a89a1);}}async['processApiRequest'](_0x889414,_0x69c0fa){const _0x456480=a0_0x22ca69;let _0x16efc3,_0x670f4e;try{let _0x115310=_0x69c0fa[_0x456480(0x18a)];if(!_0x115310||!_0x115310[_0x456480(0x640)]||!_0x115310[_0x456480(0x6aa)])throw new Error(_0x456480(0x675));let _0x20c747;([_0x456480(0x1ea),'https://api.openai.com/v1/images/generations',_0x456480(0x44d)][_0x456480(0x1ab)](_0x4b6fdc=>_0x115310[_0x456480(0x640)][_0x456480(0x54e)](_0x4b6fdc))||_0x115310[_0x456480(0x492)])&&(_0x20c747=_0x456480(0x771));let _0x48f51f='\u205f',_0x18e3bd;try{_0x18e3bd=JSON[_0x456480(0x4d0)](_0x115310['bodyString'][_0x456480(0x1f1)](new RegExp(_0x48f51f,'g'),''));}catch(_0x417911){throw _0x417911;}let _0xa81b6d={'method':_0x115310[_0x456480(0x6aa)],'url':_0x115310['url'],'headers':_0x115310[_0x456480(0x4d5)]||{},..._0x115310[_0x456480(0x6aa)][_0x456480(0x45f)]()!==_0x456480(0x4c4)&&_0x115310[_0x456480(0x651)]?{'data':JSON[_0x456480(0x4d0)](_0x115310[_0x456480(0x651)]['replace'](new RegExp(_0x48f51f,'g'),''))}:{},..._0x20c747&&{'responseType':_0x20c747}},_0xe1e2e8=await(0x0,X['default'])(_0xa81b6d),_0xb37670=_0xe1e2e8[_0x456480(0x5c7)][_0x456480(0x441)];if(_0xb37670&&_0xb37670[_0x456480(0x54e)](_0x456480(0x41e))||typeof _0xe1e2e8['data']==_0x456480(0x5ee)){if(typeof _0xe1e2e8[_0x456480(0x758)]==_0x456480(0x5ee)){let _0x2e7dd2=_0xe1e2e8[_0x456480(0x758)][_0x456480(0x1f1)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x456480(0x585)]();try{_0x16efc3=JSON[_0x456480(0x4d0)](_0x2e7dd2);}catch(_0x2fc98f){this[_0x456480(0x41b)][_0x456480(0x3d5)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x2fc98f[_0x456480(0x3d1)]),_0x16efc3={'_apiResponse':_0xe1e2e8[_0x456480(0x758)]};}}else _0x16efc3=_0xe1e2e8[_0x456480(0x758)];let _0x352879=_0x889414[_0x456480(0x169)]['realVariables'],_0x2e6af4=this['flattenObject'](_0x16efc3);return Object['assign'](_0x352879,_0x2e6af4),_0x889414['chatLog'][_0x456480(0x5e0)]=_0x352879,_0x670f4e={'error':!0x1,'apiResponse':_0x16efc3},this[_0x456480(0x75a)](_0x889414,_0x69c0fa,_0x670f4e),_0x16efc3;}if(_0xb37670&&(_0xb37670[_0x456480(0x54e)](_0x456480(0x207))||_0xb37670[_0x456480(0x54e)]('image')||_0xb37670[_0x456480(0x54e)]('audio')||_0xb37670[_0x456480(0x54e)](_0x456480(0x57e)))){this[_0x456480(0x41b)][_0x456480(0x36c)](this[_0x456480(0x246)]+'\x20('+this[_0x456480(0x6de)]['wuid']+_0x456480(0x354)+_0xb37670);let _0x210146=(0x0,H['v4'])(),_0x5908f2='',_0x3445d6={'image/jpeg':_0x456480(0x6f3),'image/png':_0x456480(0x7e7),'image/gif':'.gif','image/webp':_0x456480(0xc9),'image/svg+xml':_0x456480(0x39a),'audio/mpeg':_0x456480(0x60e),'audio/ogg':'.ogg','audio/wav':_0x456480(0x358),'video/mp4':_0x456480(0x484),'video/webm':_0x456480(0x6e9),'video/ogg':'.ogv','text/plain':_0x456480(0x5cb),'application/pdf':_0x456480(0x4bd),'application/msword':_0x456480(0x13e),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x3445d6[_0xb37670]?(_0x5908f2=_0x3445d6[_0xb37670],this[_0x456480(0x41b)][_0x456480(0x36c)](this[_0x456480(0x246)]+'\x20('+this['instance']['wuid']+_0x456480(0x17b)+_0x5908f2)):(_0x5908f2='.error',this[_0x456480(0x41b)][_0x456480(0x36c)](this[_0x456480(0x246)]+'\x20('+this['instance'][_0x456480(0x11a)]+_0x456480(0x738)+_0x5908f2)),_0x210146+=_0x5908f2,this[_0x456480(0x41b)][_0x456480(0x36c)](this['instanceName']+'\x20('+this[_0x456480(0x6de)][_0x456480(0x11a)]+_0x456480(0x5b4)+_0x210146);let _0x6df8d7=this[_0x456480(0x2b1)][_0x456480(0x268)](_0x456480(0x3ea))[_0x456480(0x6ba)];if(!_0x6df8d7){let _0x2bd14d=this[_0x456480(0x2b1)]['get'](_0x456480(0x11f));_0x6df8d7=_0x456480(0x1f2)+(_0x2bd14d&&_0x2bd14d['FULLCHAIN'][_0x456480(0x6fc)]('/')[0x4]);}let _0x508c1d=Buffer[_0x456480(0x227)](_0xe1e2e8['data']);await this[_0x456480(0x621)](_0x508c1d,_0x210146);let _0x48b525=_0x456480(0x15e)+_0x210146;_0x48b525=''+_0x6df8d7+_0x48b525,_0x16efc3={'fileUrl':_0x48b525},_0x889414[_0x456480(0x169)][_0x456480(0x5e0)][_0x456480(0x69c)]=_0x48b525;let _0x1a8cf6=_0x889414[_0x456480(0x169)][_0x456480(0x5e0)],_0x447459=this['flattenObject'](_0x16efc3);return Object[_0x456480(0x6c0)](_0x1a8cf6,_0x447459),_0x889414[_0x456480(0x169)][_0x456480(0x5e0)]=_0x1a8cf6,_0x670f4e={'error':!0x1,'apiResponse':{'fileUrl':_0x48b525}},this[_0x456480(0x75a)](_0x889414,_0x69c0fa,_0x670f4e),_0x16efc3;}}catch(_0x14d2d3){this[_0x456480(0x41b)][_0x456480(0x3d5)](_0x456480(0x6d6)+_0x14d2d3[_0x456480(0x3d1)]),_0x14d2d3[_0x456480(0x363)]&&(_0x16efc3=_0x14d2d3['response'][_0x456480(0x758)]);let _0x198611=_0x889414['chatLog']['realVariables'],_0x53a609=this[_0x456480(0xe7)](_0x16efc3);return Object[_0x456480(0x6c0)](_0x198611,_0x53a609),_0x889414[_0x456480(0x169)][_0x456480(0x5e0)]=_0x198611,_0x670f4e={'error':!0x0,'errorLog':_0x14d2d3['toString'](),'apiResponse':_0x16efc3},this[_0x456480(0x75a)](_0x889414,_0x69c0fa,_0x670f4e),{'success':!0x1};}}['applyvaredit'](_0x1558ca,_0x1cf514){const _0x32a60c=a0_0x22ca69;let _0x308ee2=_0x477b26=>{const _0xfbfa7e=a0_0x18ed;let _0x148808=_0x477b26[_0xfbfa7e(0x1f1)](/[^0-9.,-]/g,'')[_0xfbfa7e(0x1f1)](',','.'),_0x43723b=parseFloat(_0x148808);return isNaN(_0x43723b)?null:_0x43723b;},_0x3b4033=_0x1cf514[_0x32a60c(0x34e)],_0x500c2b=_0x1cf514[_0x32a60c(0xac)];typeof _0x3b4033==_0x32a60c(0x5ee)&&(_0x3b4033=this[_0x32a60c(0x694)](_0x3b4033,_0x1558ca[_0x32a60c(0x169)][_0x32a60c(0x5e0)])??''),typeof _0x500c2b=='string'&&(_0x500c2b=this[_0x32a60c(0x694)](_0x500c2b,_0x1558ca['chatLog'][_0x32a60c(0x5e0)])??'');let _0x1ed472=null;if(!_0x1cf514[_0x32a60c(0x562)])return null;switch(this[_0x32a60c(0x41b)]['verbose'](this[_0x32a60c(0x246)]+'\x20('+this[_0x32a60c(0x6de)][_0x32a60c(0x11a)]+_0x32a60c(0x62d)+_0x3b4033),this[_0x32a60c(0x41b)][_0x32a60c(0x36c)](this[_0x32a60c(0x246)]+'\x20('+this[_0x32a60c(0x6de)][_0x32a60c(0x11a)]+_0x32a60c(0x30a)+_0x500c2b),_0x1cf514[_0x32a60c(0x562)]){case'+':case'-':case'*':case'/':let _0x42fc7d=_0x308ee2(_0x3b4033||'0'),_0x12a5ce=_0x308ee2(_0x500c2b||'0');if(_0x42fc7d===null)return null;switch(_0x1cf514[_0x32a60c(0x562)]){case'+':_0x1ed472=_0x42fc7d+(_0x12a5ce??0x0);break;case'-':_0x1ed472=_0x42fc7d-(_0x12a5ce??0x0);break;case'*':_0x1ed472=_0x42fc7d*(_0x12a5ce??0x1);break;case'/':_0x12a5ce!==0x0&&(_0x1ed472=_0x42fc7d/(_0x12a5ce??0x1));break;}break;case _0x32a60c(0x5be):case _0x32a60c(0x68d):let _0x273003=_0x500c2b,_0x941d6a=_0x1cf514[_0x32a60c(0x7bc)];if(typeof _0x941d6a==_0x32a60c(0x5ee)&&(_0x941d6a=this[_0x32a60c(0x694)](_0x941d6a,_0x1558ca[_0x32a60c(0x169)][_0x32a60c(0x5e0)])??''),_0x273003&&_0x941d6a!==void 0x0){let _0x3d41b7=_0x1cf514[_0x32a60c(0x562)]===_0x32a60c(0x5be)?new RegExp(_0x273003['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x32a60c(0x594)),'g'):new RegExp(_0x273003,'g');_0x1ed472=_0x3b4033[_0x32a60c(0x1f1)](_0x3d41b7,_0x941d6a);}else console['warn'](_0x32a60c(0x24f));break;case'setNewValue':_0x1ed472=_0x500c2b;break;case _0x32a60c(0x5a6):let _0x3def6c=_0x3b4033[_0x32a60c(0x44f)](new RegExp(_0x500c2b||''));_0x1ed472=_0x3def6c?_0x3def6c[0x0]:'';break;case _0x32a60c(0xef):_0x1ed472=_0x3b4033['slice'](0x0,parseInt(_0x500c2b||'0'));break;case _0x32a60c(0x4f2):let _0x560dd8=parseInt(_0x500c2b||'0');_0x1ed472=_0x3b4033['slice'](_0x3b4033['length']-_0x560dd8);break;case'toBrazilianNumberFormat':let _0x5aa5f6=_0x308ee2(_0x3b4033),_0x5e4787=parseInt(_0x500c2b||'0');_0x5e4787=Math['abs'](_0x5e4787),_0x5aa5f6!==null?_0x1ed472=_0x5aa5f6['toLocaleString'](_0x32a60c(0x83),{'minimumFractionDigits':_0x5e4787,'maximumFractionDigits':_0x5e4787}):(console[_0x32a60c(0x7b6)](_0x32a60c(0x66a)+_0x3b4033),_0x1ed472=null);break;case _0x32a60c(0x519):let _0x15e820=_0x308ee2(_0x3b4033);_0x15e820!==null?_0x1ed472=_0x15e820[_0x32a60c(0x182)](_0x32a60c(0x83),{'style':_0x32a60c(0x4aa),'currency':_0x32a60c(0x38c)}):(console[_0x32a60c(0x7b6)](_0x32a60c(0x1ef)+_0x3b4033),_0x1ed472=null);break;case _0x32a60c(0x187):_0x1ed472=_0x3b4033[_0x32a60c(0x45f)]();break;case _0x32a60c(0x312):_0x1ed472=_0x3b4033[_0x32a60c(0x799)]();break;case _0x32a60c(0x28d):_0x1ed472=_0x3b4033[_0x32a60c(0x6fc)]('\x20')['map'](_0x44f3d1=>_0x44f3d1[_0x32a60c(0x250)](0x0)['toUpperCase']()+_0x44f3d1[_0x32a60c(0x6ff)](0x1)[_0x32a60c(0x799)]())[_0x32a60c(0x20b)]('\x20');break;case _0x32a60c(0x425):_0x1ed472=JSON[_0x32a60c(0x3d0)](_0x3b4033);break;case _0x32a60c(0x2b6):_0x1ed472=_0x3b4033[_0x32a60c(0x585)]();break;default:_0x1ed472=_0x3b4033;}return _0x1ed472!==null?_0x1ed472[_0x32a60c(0x12e)]():null;}async[a0_0x22ca69(0x435)](_0x33a567,_0x1c19c9){const _0x1e1d92=a0_0x22ca69;try{let _0x4fa3fe=_0x33a567[_0x1e1d92(0x6f8)]?.[_0x1e1d92(0x716)](_0x576e33=>_0x576e33[_0x1e1d92(0x152)]===_0x1c19c9[_0x1e1d92(0x646)]?.['toString']())||[],_0x240011=_0x1c19c9[_0x1e1d92(0x3cf)],_0x5e3832=null,_0x2cf840=[],_0x2f0ab5=_0x33a567[_0x1e1d92(0x169)][_0x1e1d92(0x5e0)][_0x240011];_0x2cf840[_0x1e1d92(0x35a)](_0x1e1d92(0x432)+_0x2f0ab5+'\x22');for(let _0x4efb9e of _0x4fa3fe){_0x4efb9e[_0x1e1d92(0x34e)]=_0x2f0ab5,_0x5e3832=_0x4efb9e[_0x1e1d92(0x34e)];let _0x425348;try{_0x425348=this['applyvaredit'](_0x33a567,_0x4efb9e);}catch(_0x1afae7){this['logger'][_0x1e1d92(0x3d5)](_0x1e1d92(0x409)+_0x1afae7[_0x1e1d92(0x3d1)]);continue;}if(_0x425348!==null){let _0x2cfb8b='Operador:\x20\x22'+_0x4efb9e[_0x1e1d92(0x562)]+'\x22',_0x28c16a=['toBRL',_0x1e1d92(0x187),_0x1e1d92(0x312),'capitalizedWords','trimmed'];_0x4efb9e[_0x1e1d92(0x562)]==='findAndReplace'||_0x4efb9e[_0x1e1d92(0x562)]===_0x1e1d92(0x68d)?_0x2cfb8b+=_0x1e1d92(0x209)+_0x4efb9e[_0x1e1d92(0xac)]+_0x1e1d92(0x411)+_0x4efb9e[_0x1e1d92(0x7bc)]+'\x22':!_0x28c16a[_0x1e1d92(0x54e)](_0x4efb9e[_0x1e1d92(0x562)])&&_0x4efb9e['secondValue']!==null&&_0x4efb9e[_0x1e1d92(0xac)]!==void 0x0&&(_0x2cfb8b+=_0x1e1d92(0xb2)+_0x4efb9e[_0x1e1d92(0xac)]+'\x22'),_0x2cfb8b+=_0x1e1d92(0xc1)+_0x425348+'.',_0x2cf840['push'](_0x2cfb8b);}_0x425348!==null&&(_0x2f0ab5=_0x425348);}if(_0x33a567[_0x1e1d92(0x169)][_0x1e1d92(0x5e0)]&&_0x1c19c9[_0x1e1d92(0x3cf)]){_0x33a567[_0x1e1d92(0x169)][_0x1e1d92(0x5e0)][_0x1c19c9[_0x1e1d92(0x3cf)]]=_0x2f0ab5;let _0x5714ec={'variable':_0x1c19c9[_0x1e1d92(0x3cf)],'oldValue':_0x5e3832,'newValue':_0x2f0ab5,'moreLogs':_0x2cf840};try{this[_0x1e1d92(0x75a)](_0x33a567,_0x1c19c9,_0x5714ec);}catch(_0x196c7c){this['logger']['error'](_0x1e1d92(0x175)+_0x196c7c[_0x1e1d92(0x3d1)]);}}return _0x240011;}catch(_0xe60810){return this['logger'][_0x1e1d92(0x3d5)](_0x1e1d92(0x291)+_0xe60810[_0x1e1d92(0x3d1)]),null;}}async[a0_0x22ca69(0x205)](_0x4bb3b8,_0x386c4f){const _0x53dc2f=a0_0x22ca69;try{let _0x557023=[],_0x6bb7df=_0x4bb3b8[_0x53dc2f(0x3fd)]['filter'](_0x3b2380=>_0x3b2380[_0x53dc2f(0x152)]===_0x386c4f['_id'][_0x53dc2f(0x12e)]()),_0x3a3314=null,_0x1a6b35=!0x1;for(let _0xa4031a of _0x6bb7df){let _0x32cd3e=this[_0x53dc2f(0x7d5)](_0x4bb3b8,_0xa4031a);_0x557023['push'](_0x53dc2f(0x59b)+_0xa4031a[_0x53dc2f(0x34e)]+',\x20Comparador:\x20'+_0xa4031a['expression']+_0x53dc2f(0x3f1)+_0xa4031a[_0x53dc2f(0xac)]+_0x53dc2f(0x173)+_0x32cd3e),_0x3a3314===null?_0x3a3314=_0x32cd3e:_0xa4031a[_0x53dc2f(0x54c)]==='and'?(_0x3a3314=_0x3a3314&&_0x32cd3e,_0x32cd3e||(_0x1a6b35=!0x0)):_0xa4031a[_0x53dc2f(0x54c)]==='or'&&(_0x1a6b35||(_0x3a3314=_0x3a3314||_0x32cd3e));}_0x3a3314===null&&(_0x3a3314=!0x0);let _0x37da33={'moreLogs':_0x557023};_0x4bb3b8[_0x53dc2f(0x169)][_0x53dc2f(0x1c2)]=_0x3a3314,await this[_0x53dc2f(0x75a)](_0x4bb3b8,_0x386c4f,_0x37da33);}catch(_0x467564){this['logger'][_0x53dc2f(0x3d5)](this[_0x53dc2f(0x246)]+'\x20('+this['instance'][_0x53dc2f(0x11a)]+_0x53dc2f(0x599)+(_0x467564 instanceof Error?_0x467564[_0x53dc2f(0x3d1)]:JSON['stringify'](_0x467564,null,0x2)));}}['evaluateCondition'](_0xc884ee,_0xb48b59){const _0x586dc2=a0_0x22ca69;let _0x169167=_0xb48b59[_0x586dc2(0x34e)],_0x2387f5=_0xb48b59['secondValue'];typeof _0x169167==_0x586dc2(0x5ee)&&(_0x169167=this[_0x586dc2(0x694)](_0x169167,_0xc884ee[_0x586dc2(0x169)][_0x586dc2(0x5e0)])??''),typeof _0x2387f5=='string'&&(_0x2387f5=this[_0x586dc2(0x694)](_0x2387f5,_0xc884ee[_0x586dc2(0x169)][_0x586dc2(0x5e0)])??'');try{switch(_0xb48b59[_0x586dc2(0x65a)]){case _0x586dc2(0x639):return _0x169167===_0x2387f5;case _0x586dc2(0x6a7):return _0x169167!==_0x2387f5;case _0x586dc2(0x5b2):return this[_0x586dc2(0x5b2)](_0x169167,_0x2387f5);case _0x586dc2(0x264):return!this[_0x586dc2(0x5b2)](_0x169167,_0x2387f5);case _0x586dc2(0x2a2):return parseFloat(_0x169167)>parseFloat(_0x2387f5);case'less':return parseFloat(_0x169167)<parseFloat(_0x2387f5);case _0x586dc2(0xd3):return _0x169167!=='';case _0x586dc2(0x315):return _0x169167==='';case _0x586dc2(0x2bd):return new RegExp(_0x2387f5)[_0x586dc2(0x3da)](_0x169167);case _0x586dc2(0x28b):return!new RegExp(_0x2387f5)[_0x586dc2(0x3da)](_0x169167);default:return!0x1;}}catch(_0x5a8b71){return this[_0x586dc2(0x41b)][_0x586dc2(0x3d5)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x5a8b71),!0x1;}}['contains'](_0xb75bac,_0x1218dd){const _0x1c78f8=a0_0x22ca69;if(_0xb75bac===_0x1218dd&&/^\d+$/[_0x1c78f8(0x3da)](_0xb75bac))return!0x0;if(this[_0x1c78f8(0x21e)](_0xb75bac)&&/^\d+$/[_0x1c78f8(0x3da)](_0x1218dd)){let _0x281452=_0xb75bac[_0x1c78f8(0x6fc)](',')[_0x1c78f8(0x322)](_0xe42d6=>parseInt(_0xe42d6['trim']())),_0x13845f=parseInt(_0x1218dd);return _0x281452['includes'](_0x13845f);}return _0xb75bac[_0x1c78f8(0x54e)](_0x1218dd);}['isListOfNumbers'](_0x53b6f1){const _0x2eed24=a0_0x22ca69;return/^\d+(,\d+)*$/[_0x2eed24(0x3da)](_0x53b6f1);}[a0_0x22ca69(0x774)](_0xb178f9){const _0x21a33a=a0_0x22ca69;let _0x5f276b=!0x0,_0xf1ad68=null;for(let _0x4737c3 of _0xb178f9){let _0x28bb8b=this[_0x21a33a(0x239)](_0x4737c3);if(_0xf1ad68==='or'&&_0x28bb8b){_0x5f276b=!0x0;break;}if(_0xf1ad68===_0x21a33a(0x3d4)&&!_0x28bb8b){_0x5f276b=!0x1;break;}_0xf1ad68=_0x4737c3[_0x21a33a(0x54c)];}return _0x5f276b;}[a0_0x22ca69(0x239)](_0x19d7e2){const _0x2f2758=a0_0x22ca69;let _0x125bb4=_0x19d7e2[_0x2f2758(0x34e)],_0x4fff53=_0x19d7e2['secondValue'];try{switch(_0x19d7e2[_0x2f2758(0x65a)]){case'equal':return String(_0x125bb4)===String(_0x4fff53);case _0x2f2758(0x6a7):return String(_0x125bb4)!==String(_0x4fff53);case _0x2f2758(0x5b2):return String(_0x125bb4)[_0x2f2758(0x54e)](String(_0x4fff53));case _0x2f2758(0x264):return!String(_0x125bb4)[_0x2f2758(0x54e)](String(_0x4fff53));case _0x2f2758(0x2a2):return parseFloat(String(_0x125bb4))>parseFloat(String(_0x4fff53));case _0x2f2758(0x281):return parseFloat(String(_0x125bb4))<parseFloat(String(_0x4fff53));case _0x2f2758(0xd3):return String(_0x125bb4)!=='';case _0x2f2758(0x315):return String(_0x125bb4)==='';case _0x2f2758(0x2bd):return new RegExp(String(_0x4fff53))[_0x2f2758(0x3da)](String(_0x125bb4));case'notMatchRegex':return!new RegExp(String(_0x4fff53))[_0x2f2758(0x3da)](String(_0x125bb4));default:return!0x1;}}catch(_0x5bb779){return this[_0x2f2758(0x41b)]['error']('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x5bb779),!0x1;}}async[a0_0x22ca69(0x12b)](_0x284456,_0x49f25d){const _0x2c269b=a0_0x22ca69;if(this['logger'][_0x2c269b(0x36c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2c269b(0x50e)),!_0x284456||!_0x49f25d)return this[_0x2c269b(0x41b)][_0x2c269b(0x3d5)](this[_0x2c269b(0x246)]+'\x20('+this['instance'][_0x2c269b(0x11a)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x88d889=_0x284456[_0x2c269b(0x169)][_0x2c269b(0x5cf)][_0x2c269b(0x1cc)]['id'];this[_0x2c269b(0x41b)][_0x2c269b(0x36c)](this[_0x2c269b(0x246)]+'\x20('+this[_0x2c269b(0x6de)][_0x2c269b(0x11a)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x88d889);let _0x179844={'key':{'id':_0x88d889}},_0x40bb44=_0x49f25d[_0x2c269b(0x3cf)];_0x284456[_0x2c269b(0x169)][_0x2c269b(0x5e0)]['_'+_0x40bb44+_0x2c269b(0x8f)]=null,_0x284456[_0x2c269b(0x169)][_0x2c269b(0x5e0)]['_'+_0x40bb44+_0x2c269b(0x146)]=null,_0x284456[_0x2c269b(0x169)]['realVariables']['_'+_0x40bb44+_0x2c269b(0x627)]=null,_0x284456['chatLog'][_0x2c269b(0x5e0)]['_'+_0x40bb44+_0x2c269b(0x5f0)]=_0x284456['chatLog'][_0x2c269b(0x5cf)][_0x2c269b(0x399)];try{let _0x174169=await this[_0x2c269b(0x118)](_0x179844);this[_0x2c269b(0x41b)][_0x2c269b(0x36c)](this[_0x2c269b(0x246)]+'\x20('+this[_0x2c269b(0x6de)][_0x2c269b(0x11a)]+_0x2c269b(0x1ae)),_0x284456[_0x2c269b(0x169)]['realVariables']['_'+_0x40bb44+_0x2c269b(0x76c)]=_0x174169[_0x2c269b(0x69c)],_0x284456['chatLog']['realVariables']['_'+_0x40bb44+_0x2c269b(0x146)]=_0x174169[_0x2c269b(0x36e)];let _0x5439f7=_0x174169[_0x2c269b(0x36e)]['match'](/\/(\w+)$/),_0x2585b6=_0x5439f7?_0x5439f7[0x1]:null;_0x284456[_0x2c269b(0x169)][_0x2c269b(0x5e0)]['_'+_0x40bb44+'.extension']=_0x2585b6,this[_0x2c269b(0x41b)][_0x2c269b(0x36c)](this[_0x2c269b(0x246)]+'\x20('+this[_0x2c269b(0x6de)][_0x2c269b(0x11a)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x40bb44+'\x27.');}catch(_0x54f56f){this[_0x2c269b(0x41b)][_0x2c269b(0x3d5)](this[_0x2c269b(0x246)]+'\x20('+this[_0x2c269b(0x6de)][_0x2c269b(0x11a)]+_0x2c269b(0x29b)+_0x54f56f[_0x2c269b(0x3d1)]);}let _0x88177a=_0x284456[_0x2c269b(0x169)][_0x2c269b(0x5cf)][_0x2c269b(0x1b8)]||_0x284456[_0x2c269b(0x169)][_0x2c269b(0x5cf)][_0x2c269b(0x3ba)]||_0x284456[_0x2c269b(0x169)][_0x2c269b(0x5cf)][_0x2c269b(0x3cb)];try{_0x284456[_0x2c269b(0x169)][_0x2c269b(0x5e0)]||(_0x284456['chatLog'][_0x2c269b(0x5e0)]={});let _0x242446=_0x284456[_0x2c269b(0x169)][_0x2c269b(0x5e0)][_0x40bb44];_0x284456[_0x2c269b(0x169)][_0x2c269b(0x5e0)][_0x40bb44]=_0x88177a;let _0x44fbae={'variable':_0x40bb44,'oldValue':_0x242446,'newValue':_0x88177a};this[_0x2c269b(0x75a)](_0x284456,_0x49f25d,_0x44fbae),this[_0x2c269b(0x41b)][_0x2c269b(0x36c)](this[_0x2c269b(0x246)]+'\x20('+this['instance'][_0x2c269b(0x11a)]+_0x2c269b(0x137));}catch(_0x7b00ff){let _0x3aa47f={'error':!0x0,'errorLog':_0x7b00ff[_0x2c269b(0x12e)]()};return this[_0x2c269b(0x75a)](_0x284456,_0x49f25d,_0x3aa47f),this[_0x2c269b(0x41b)][_0x2c269b(0x3d5)](this[_0x2c269b(0x246)]+'\x20('+this['instance'][_0x2c269b(0x11a)]+_0x2c269b(0x2cf)+(_0x7b00ff instanceof Error?_0x7b00ff[_0x2c269b(0x3d1)]:JSON[_0x2c269b(0x3d0)](_0x7b00ff,null,0x2))),null;}}async[a0_0x22ca69(0x536)](_0x3a5889,_0x5acc6d){const _0xa12e17=a0_0x22ca69;if(this['logger'][_0xa12e17(0x36c)](this[_0xa12e17(0x246)]+'\x20('+this['instance']['wuid']+_0xa12e17(0x5d9)),!_0x3a5889||!_0x5acc6d)return this['logger'][_0xa12e17(0x3d5)](this[_0xa12e17(0x246)]+'\x20('+this[_0xa12e17(0x6de)][_0xa12e17(0x11a)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x2d9cfc=Date[_0xa12e17(0x690)](),_0xd625a9=parseInt(_0x5acc6d['stopMinutes'],0xa);if(isNaN(_0xd625a9))return this[_0xa12e17(0x41b)]['error'](this['instanceName']+'\x20('+this[_0xa12e17(0x6de)][_0xa12e17(0x11a)]+_0xa12e17(0x2b0)),null;let _0x3821e1={'newStoppedUntil':_0x2d9cfc+_0xd625a9*0x3c*0x3e8};return await this[_0xa12e17(0x75a)](_0x3a5889,_0x5acc6d,_0x3821e1,!0x0),null;}async['processUazapi'](_0xd2235d,_0x4ac25e){const _0x27b82c=a0_0x22ca69;try{switch(_0x4ac25e[_0x27b82c(0x43c)]['command']){case _0x27b82c(0x78c):await this[_0x27b82c(0x1c8)](_0xd2235d,_0x4ac25e);break;case _0x27b82c(0x57d):await this[_0x27b82c(0x108)](_0xd2235d,_0x4ac25e);break;case _0x27b82c(0x529):await this[_0x27b82c(0x3eb)](_0xd2235d,_0x4ac25e);break;case _0x27b82c(0x5af):await this[_0x27b82c(0x33a)](_0xd2235d,_0x4ac25e);break;case _0x27b82c(0x97):await this['uazapiSendContact'](_0xd2235d,_0x4ac25e);break;case _0x27b82c(0x4c1):await this[_0x27b82c(0x159)](_0xd2235d,_0x4ac25e);break;case _0x27b82c(0x136):await this['uazapiSendMenu'](_0xd2235d,_0x4ac25e);break;case _0x27b82c(0x601):await this[_0x27b82c(0x7d8)](_0xd2235d,_0x4ac25e);break;default:this['logger'][_0x27b82c(0x3d5)](this['instanceName']+'\x20('+this[_0x27b82c(0x6de)]['wuid']+_0x27b82c(0x1b2)+_0x4ac25e[_0x27b82c(0x43c)][_0x27b82c(0xb1)]);}}catch(_0x420ec9){this['logger'][_0x27b82c(0x3d5)](this[_0x27b82c(0x246)]+'\x20('+this['instance']['wuid']+_0x27b82c(0x3fb)+(_0x420ec9 instanceof Error?_0x420ec9[_0x27b82c(0x3d1)]:JSON[_0x27b82c(0x3d0)](_0x420ec9,null,0x2)));}}async['updateConversation'](_0x27cd49,_0x4c83bd,_0x51c2e6,_0x2d5314=!0x1,_0x220787=!0x1){const _0x374e89=a0_0x22ca69;_0x27cd49['chatLog'][_0x374e89(0xe1)]||(_0x27cd49[_0x374e89(0x169)][_0x374e89(0xe1)]=[]);let _0x555c9c=(_0x27cd49['chatLog'][_0x374e89(0xe1)]?.[_0x374e89(0x6a0)]??0x0)+0x1,_0x27de14=_0x27cd49[_0x374e89(0x169)]['blockLogs'][_0x374e89(0x716)](_0x55857c=>String(_0x55857c[_0x374e89(0x152)])===String(_0x4c83bd[_0x374e89(0x646)]))[_0x374e89(0x6a0)]+0x1,_0x503ab5=_0x51c2e6?.[_0x374e89(0x788)]??Date['now'](),_0x4e17ab=_0x51c2e6?.[_0x374e89(0x3d5)]?_0x51c2e6[_0x374e89(0x1a5)]??_0x51c2e6[_0x374e89(0x3d5)]['toString']():void 0x0,_0x4f68c2={'onTime':_0x503ab5,'blockId':_0x4c83bd[_0x374e89(0x646)],'order':_0x555c9c,'activatedCount':_0x27de14,'error':_0x51c2e6?.[_0x374e89(0x3d5)]??!0x1,'messageId':_0x51c2e6?.[_0x374e89(0x32f)],'apiResponse':_0x51c2e6?.[_0x374e89(0xcd)],'apiResponseString':_0x51c2e6?.['apiResponse']?JSON[_0x374e89(0x3d0)](_0x51c2e6?.[_0x374e89(0xcd)]):void 0x0,'variable':_0x51c2e6?.[_0x374e89(0x133)],'oldValue':_0x51c2e6?.[_0x374e89(0x779)],'newValue':_0x51c2e6?.[_0x374e89(0x544)],'newStoppedUntil':_0x51c2e6?.['newStoppedUntil'],'moreLogs':_0x51c2e6?.[_0x374e89(0x679)],'errorLog':_0x4e17ab};if(_0x51c2e6[_0x374e89(0x679)]&&_0x51c2e6[_0x374e89(0x679)][_0x374e89(0x6a0)]>0x0){let _0x1ffb9c=_0x51c2e6['moreLogs']['map'](_0x3f623e=>this[_0x374e89(0x4bb)](_0x3f623e,_0x27cd49[_0x374e89(0x169)][_0x374e89(0x5e0)]));_0x4f68c2['moreLogs']=_0x1ffb9c;}if(_0x27cd49['chatLog'][_0x374e89(0x5e0)]||(_0x27cd49[_0x374e89(0x169)][_0x374e89(0x5e0)]={}),_0x27cd49['chatLog'][_0x374e89(0x5e0)][_0x374e89(0xc8)]=String(_0x27de14),_0x27cd49[_0x374e89(0x169)]['realVariables']['_error']=String(_0x51c2e6[_0x374e89(0x3d5)]??!0x1),_0x27cd49[_0x374e89(0x169)][_0x374e89(0xe1)][_0x374e89(0x35a)](_0x4f68c2),_0x27cd49[_0x374e89(0x169)][_0x374e89(0x5e0)][_0x374e89(0x107)]&&_0x27cd49[_0x374e89(0x169)]['realVariables']['telefone']!==_0x27cd49[_0x374e89(0x61d)]){let _0x551a11=(await this[_0x374e89(0x6ab)]({'numbers':[_0x27cd49['chatLog']['realVariables']['telefone']]}))[0x0][_0x374e89(0x377)];_0x27cd49[_0x374e89(0x169)][_0x374e89(0x5e0)]['telefone']=_0x551a11,_0x27cd49[_0x374e89(0x61d)]=_0x551a11;try{let _0x38a0cd={'_id':{'$ne':_0x27cd49[_0x374e89(0x646)]},'remoteJid':_0x551a11,'status':'open'},_0x42be30={'status':'closed'};await this[_0x374e89(0x3b8)]['flowConversation'][_0x374e89(0x446)](_0x38a0cd,_0x42be30,this[_0x374e89(0x6de)]['wuid']),this['logger']['verbose'](this[_0x374e89(0x246)]+'\x20('+this[_0x374e89(0x6de)]['wuid']+_0x374e89(0x3f0));}catch(_0xd7aa14){this[_0x374e89(0x41b)][_0x374e89(0x3d5)](this[_0x374e89(0x246)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0xd7aa14[_0x374e89(0x3d1)]);}try{let _0x4150c7=_0x27cd49[_0x374e89(0x169)]['realVariables'],_0x39cab1=await this[_0x374e89(0x729)](_0x551a11),_0xa5c67d={..._0x4150c7,..._0x39cab1,'_remoteJid':_0x551a11};_0x27cd49['chatLog'][_0x374e89(0x5e0)]=_0xa5c67d;}catch(_0x3d7364){this[_0x374e89(0x41b)][_0x374e89(0x3d5)](this['instanceName']+'\x20('+this[_0x374e89(0x6de)][_0x374e89(0x11a)]+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x3d7364[_0x374e89(0x3d1)]);}}_0x27cd49['chatLog'][_0x374e89(0xf0)]=_0x4c83bd[_0x374e89(0x646)][_0x374e89(0x12e)](),_0x27cd49[_0x374e89(0x169)][_0x374e89(0x6a4)]&&(_0x27cd49[_0x374e89(0x169)][_0x374e89(0x6a4)]=_0x27cd49[_0x374e89(0x169)]['lastSendMessage']),_0x27cd49[_0x374e89(0x169)][_0x374e89(0x5cf)]&&(_0x27cd49[_0x374e89(0x169)]['lastReceivedMessage']=_0x27cd49['chatLog'][_0x374e89(0x5cf)]),_0x27cd49[_0x374e89(0x169)][_0x374e89(0x1c2)]&&(_0x27cd49[_0x374e89(0x169)][_0x374e89(0x1c2)]=_0x27cd49[_0x374e89(0x169)][_0x374e89(0x1c2)]),_0x220787&&(_0x27cd49[_0x374e89(0x172)]='closed'),_0x2d5314?this[_0x374e89(0x180)](_0x27cd49):this[_0x374e89(0x498)](_0x27cd49,_0x4c83bd);}[a0_0x22ca69(0x4bb)](_0x11a8a4,_0x53dc8d){const _0x500d94=a0_0x22ca69;return _0x11a8a4[_0x500d94(0x1f1)](/\{\{([^}]+)\}\}/g,(_0x626f30,_0x23b387)=>_0x53dc8d[_0x23b387]?'{{'+_0x23b387+_0x500d94(0x55e)+_0x53dc8d[_0x23b387]+'\x22':'{{'+_0x23b387+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x22ca69(0x180)](_0x1463e6){const _0x1d1019=a0_0x22ca69;try{let _0x246846=Object['entries'](_0x1463e6[_0x1d1019(0x169)]['realVariables'])[_0x1d1019(0x322)](([_0x1e8137,_0x4191ea])=>({'name':_0x1e8137,'value':_0x4191ea})),_0x2be92f={'status':_0x1463e6[_0x1d1019(0x172)],'remoteJid':_0x1463e6[_0x1d1019(0x61d)],'blocks':_0x1463e6[_0x1d1019(0x382)],'waitingMenu_id':_0x1463e6[_0x1d1019(0x11d)],'waitingMenu_text':_0x1463e6[_0x1d1019(0x2d3)],'waitingMenu_replyOptions':_0x1463e6[_0x1d1019(0x12f)],'chatLog':{'lastBlockId':_0x1463e6['chatLog']['lastBlockId'],'lastSendMessage':_0x1463e6[_0x1d1019(0x169)][_0x1d1019(0x6a4)],'lastReceivedMessage':_0x1463e6[_0x1d1019(0x169)][_0x1d1019(0x5cf)],'lastCondition':_0x1463e6[_0x1d1019(0x169)][_0x1d1019(0x1c2)],'chatVariables':_0x246846,'realVariables':_0x1463e6[_0x1d1019(0x169)][_0x1d1019(0x5e0)],'blockLogs':_0x1463e6['chatLog'][_0x1d1019(0xe1)]}},_0x562beb=await this[_0x1d1019(0x3b8)][_0x1d1019(0x722)]['updateOne'](_0x1463e6[_0x1d1019(0x646)],_0x2be92f,this[_0x1d1019(0x6de)][_0x1d1019(0x11a)]);if(_0x562beb){this[_0x1d1019(0x41b)][_0x1d1019(0x36c)](this['instanceName']+'\x20('+this[_0x1d1019(0x6de)][_0x1d1019(0x11a)]+_0x1d1019(0x176)+_0x562beb[_0x1d1019(0x646)]);try{let _0x2e0b6f=[_0x1d1019(0x5a5),_0x1d1019(0x77a),_0x1d1019(0x274),_0x1d1019(0x347),_0x1d1019(0x172),_0x1d1019(0x71b),_0x1d1019(0x22a),_0x1d1019(0x5fd),_0x1d1019(0x361),_0x1d1019(0x7b9)];if(!this['AutomateSystem']&&(await this[_0x1d1019(0x166)](),!this[_0x1d1019(0x644)]))throw new Error(_0x1d1019(0x366));let _0x286436=this[_0x1d1019(0x644)]?.[_0x1d1019(0x526)][_0x1d1019(0x322)](_0xa1192c=>_0xa1192c[_0x1d1019(0x7cc)]),_0x662d2f={};Object[_0x1d1019(0xce)](_0x1463e6[_0x1d1019(0x169)][_0x1d1019(0x5e0)])[_0x1d1019(0x2e7)](([_0x1c3c73,_0x126807])=>{const _0x46bef6=_0x1d1019;_0x2e0b6f[_0x46bef6(0x54e)](_0x1c3c73)&&(_0x1c3c73==='tags'&&typeof _0x126807==_0x46bef6(0x5ee)?_0x662d2f[_0x1c3c73]=_0x126807[_0x46bef6(0x6fc)](',')[_0x46bef6(0x322)](_0x4e711c=>_0x4e711c[_0x46bef6(0x585)]())['filter'](_0x68e914=>_0x68e914!==''):_0x1c3c73===_0x46bef6(0x361)&&typeof _0x126807=='string'?_0x662d2f[_0x1c3c73]=_0x126807[_0x46bef6(0x6fc)](',')[_0x46bef6(0x322)](_0x47446e=>_0x47446e[_0x46bef6(0x585)]())[_0x46bef6(0x716)](_0x4ceedc=>_0x4ceedc!==''):_0x662d2f[_0x1c3c73]=_0x126807);});let _0x36eed9=_0x1463e6[_0x1d1019(0x169)]['blockLogs'][_0x1463e6[_0x1d1019(0x169)][_0x1d1019(0xe1)]['length']-0x1];if(_0x36eed9){let _0x2d9346=_0x36eed9['newStoppedUntil'];_0x2d9346!==void 0x0&&(_0x662d2f[_0x1d1019(0x671)]=_0x2d9346['toString']());}let _0x19d1de=_0x246846[_0x1d1019(0x716)](_0x3a3e7c=>_0x286436[_0x1d1019(0x54e)](_0x3a3e7c[_0x1d1019(0x7cc)]));this[_0x1d1019(0x41b)][_0x1d1019(0x36c)](this[_0x1d1019(0x246)]+'\x20('+this[_0x1d1019(0x6de)][_0x1d1019(0x11a)]+_0x1d1019(0x78f)),this['logger'][_0x1d1019(0x36c)](_0x662d2f),this[_0x1d1019(0x41b)][_0x1d1019(0x36c)](this['instanceName']+'\x20('+this[_0x1d1019(0x6de)][_0x1d1019(0x11a)]+'):\x20customFieldVariables'),this[_0x1d1019(0x41b)][_0x1d1019(0x36c)](_0x19d1de);let _0x4b5f02=_0x19d1de[_0x1d1019(0x322)](_0x6f3fca=>{const _0x3a81bf=_0x1d1019;let _0x542776=this[_0x3a81bf(0x644)]?.[_0x3a81bf(0x526)][_0x3a81bf(0x22d)](_0x503b60=>_0x503b60[_0x3a81bf(0x7cc)]===_0x6f3fca[_0x3a81bf(0x7cc)]);if(!_0x542776)throw new Error(_0x3a81bf(0x50d)+_0x6f3fca[_0x3a81bf(0x7cc)]);return{'_id':_0x542776[_0x3a81bf(0x646)],'value':_0x6f3fca[_0x3a81bf(0x5a9)]};});this[_0x1d1019(0x41b)][_0x1d1019(0x36c)](this[_0x1d1019(0x246)]+'\x20('+this[_0x1d1019(0x6de)][_0x1d1019(0x11a)]+_0x1d1019(0x306)),this[_0x1d1019(0x41b)]['verbose'](_0x4b5f02),await this['saveChatVariables'](_0x1463e6['remoteJid'],_0x662d2f,_0x4b5f02);}catch(_0x1de9e3){this[_0x1d1019(0x41b)]['error'](this[_0x1d1019(0x246)]+'\x20('+this[_0x1d1019(0x6de)][_0x1d1019(0x11a)]+_0x1d1019(0x229)+(_0x1de9e3 instanceof Error?_0x1de9e3[_0x1d1019(0x3d1)]:JSON[_0x1d1019(0x3d0)](_0x1de9e3,null,0x2)));}}else this[_0x1d1019(0x41b)][_0x1d1019(0x3d5)](this[_0x1d1019(0x246)]+'\x20('+this[_0x1d1019(0x6de)]['wuid']+_0x1d1019(0x105));}catch(_0x174a3a){this[_0x1d1019(0x41b)][_0x1d1019(0x3d5)](this[_0x1d1019(0x246)]+'\x20('+this['instance'][_0x1d1019(0x11a)]+_0x1d1019(0x656)+(_0x174a3a instanceof Error?_0x174a3a[_0x1d1019(0x3d1)]:JSON[_0x1d1019(0x3d0)](_0x174a3a,null,0x2)));}}async['saveChatVariables'](_0x5c0093,_0x21ec34,_0x53e1cc){const _0x57be3d=a0_0x22ca69;try{let _0x1358ea={'leadInfo.leadnome':_0x21ec34[_0x57be3d(0x5a5)],'leadInfo.nomecompleto':_0x21ec34[_0x57be3d(0x77a)],'leadInfo.email':_0x21ec34[_0x57be3d(0x274)],'leadInfo.cpf':_0x21ec34['cpf'],'leadInfo.status':_0x21ec34[_0x57be3d(0x172)],'leadInfo.notas':_0x21ec34['notas'],'leadInfo.responsavelid':_0x21ec34[_0x57be3d(0x22a)],'leadInfo.tags':_0x21ec34[_0x57be3d(0x5fd)],'leadInfo.etiquetas':_0x21ec34['etiquetas'],'leadInfo.customFields':_0x53e1cc,'leadInfo.atendimentoAberto':_0x21ec34['atendimentoAberto']},_0x5a2435=await this[_0x57be3d(0x3b8)]['chat']['findOne']({'where':{'_id':_0x5c0093}},this[_0x57be3d(0x6de)]['wuid']);if(!_0x5a2435)return _0x57be3d(0x773);let _0x59979d=new Set(_0x5a2435[_0x57be3d(0x392)][_0x57be3d(0x361)]||[]),_0x157d00=new Set(_0x21ec34['etiquetas']||[]),_0x146b12=await this['repository'][_0x57be3d(0x179)]['find']({'where':{}},this[_0x57be3d(0x6de)]['wuid']),_0xc3404a=new Set(_0x146b12[_0x57be3d(0x322)](_0x5e28bb=>_0x5e28bb[_0x57be3d(0x646)])),_0x2b0c88=[..._0x157d00][_0x57be3d(0x716)](_0xd1b387=>!_0x59979d['has'](_0xd1b387)&&_0xc3404a[_0x57be3d(0x7a9)](_0xd1b387)),_0x17c45c=[..._0x59979d][_0x57be3d(0x716)](_0x512d89=>!_0x157d00[_0x57be3d(0x7a9)](_0x512d89));for(let _0x7cc532 of _0x2b0c88)await this[_0x57be3d(0x6f9)](_0x7cc532,_0x5a2435[_0x57be3d(0x646)]),_0x59979d[_0x57be3d(0x6fa)](_0x7cc532);for(let _0x5eaf8d of _0x17c45c)await this[_0x57be3d(0x7e4)](_0x5eaf8d,_0x5a2435[_0x57be3d(0x646)]),_0x59979d[_0x57be3d(0x552)](_0x5eaf8d);if(_0x57be3d(0x671)in _0x21ec34){let _0x18826d=_0x21ec34['desativadoFluxoAte'];_0x1358ea['leadInfo.desativadoFluxoAte']=_0x18826d?Number(_0x18826d):null;}if(_0x57be3d(0x7b9)in _0x21ec34){let _0x13e637=_0x21ec34[_0x57be3d(0x7b9)][_0x57be3d(0x799)]();_0x1358ea['leadInfo.atendimentoAberto']=_0x13e637===_0x57be3d(0x59e)||_0x13e637==='1'||_0x13e637==='yes'||_0x13e637===_0x57be3d(0x4c0);}let _0xb953f3=await this['repository'][_0x57be3d(0x24b)]['updateOne']({'where':{'_id':_0x5c0093}},_0x1358ea,this[_0x57be3d(0x6de)][_0x57be3d(0x11a)]);_0xb953f3?(this[_0x57be3d(0x41b)][_0x57be3d(0x36c)](this['instanceName']+'\x20('+this['instance'][_0x57be3d(0x11a)]+_0x57be3d(0x3e0)+_0xb953f3[_0x57be3d(0x646)]),J(this['instanceName'],_0x57be3d(0x798),{'chat':_0xb953f3})):this['logger'][_0x57be3d(0x3d5)](this[_0x57be3d(0x246)]+'\x20('+this[_0x57be3d(0x6de)][_0x57be3d(0x11a)]+_0x57be3d(0x1e2));}catch(_0x1c7871){this[_0x57be3d(0x41b)]['error'](this[_0x57be3d(0x246)]+'\x20('+this[_0x57be3d(0x6de)][_0x57be3d(0x11a)]+_0x57be3d(0xfd)+(_0x1c7871 instanceof Error?_0x1c7871[_0x57be3d(0x3d1)]:JSON[_0x57be3d(0x3d0)](_0x1c7871,null,0x2)));}}async[a0_0x22ca69(0x18f)](_0x29d357,_0x44f6ff){const _0x1dff79=a0_0x22ca69;this[_0x1dff79(0x41b)][_0x1dff79(0x36c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1dff79(0x2a5)+_0x44f6ff);try{let _0x285bc8=await this[_0x1dff79(0x3b8)][_0x1dff79(0x24b)][_0x1dff79(0x489)]({'where':{'_id':_0x29d357['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x44f6ff},this[_0x1dff79(0x6de)][_0x1dff79(0x11a)]);this[_0x1dff79(0x41b)][_0x1dff79(0x36c)](this['instanceName']+'\x20('+this['instance'][_0x1dff79(0x11a)]+_0x1dff79(0x6ae)+_0x29d357[_0x1dff79(0x646)]),this[_0x1dff79(0x41b)][_0x1dff79(0x36c)](this['instanceName']+'\x20('+this[_0x1dff79(0x6de)][_0x1dff79(0x11a)]+_0x1dff79(0x2a5)+JSON[_0x1dff79(0x3d0)](_0x285bc8,null,0x2)),_0x285bc8&&J(this[_0x1dff79(0x246)],_0x1dff79(0x798),{'chat':_0x285bc8});}catch(_0x394bb4){this[_0x1dff79(0x41b)][_0x1dff79(0x3d5)](this[_0x1dff79(0x246)]+'\x20('+this[_0x1dff79(0x6de)][_0x1dff79(0x11a)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x394bb4 instanceof Error?_0x394bb4[_0x1dff79(0x3d1)]:JSON[_0x1dff79(0x3d0)](_0x394bb4,null,0x2)));}}async['findFlow'](_0x3fd56b){const _0x2c86c9=a0_0x22ca69;try{this[_0x2c86c9(0x41b)]['verbose'](this['instanceName']+'\x20('+this[_0x2c86c9(0x6de)]['wuid']+_0x2c86c9(0x4cb));let _0x17625e=_0x3fd56b[_0x2c86c9(0x1f1)](/\D/g,''),_0xec5b8b=this[_0x2c86c9(0x644)][_0x2c86c9(0x2d2)][_0x2c86c9(0x22d)](_0x3abf79=>_0x3abf79['testingWith']===_0x17625e);if(_0xec5b8b||(this[_0x2c86c9(0x41b)]['verbose'](this[_0x2c86c9(0x246)]+'\x20('+this['instance'][_0x2c86c9(0x11a)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0xec5b8b=this[_0x2c86c9(0x644)]['flows']['find'](_0x462951=>_0x462951[_0x2c86c9(0x4ba)]===!0x0)),!_0xec5b8b)return this['logger']['verbose'](this[_0x2c86c9(0x246)]+'\x20('+this[_0x2c86c9(0x6de)][_0x2c86c9(0x11a)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x1e175b=await this[_0x2c86c9(0x3b8)][_0x2c86c9(0x6d9)]['findOne']({'where':{'_id':_0xec5b8b[_0x2c86c9(0x646)]}});if(!_0x1e175b||!_0x1e175b[_0x2c86c9(0x13a)]?.['includes'](this[_0x2c86c9(0x6de)][_0x2c86c9(0x11a)]))throw this[_0x2c86c9(0x41b)][_0x2c86c9(0x3d5)](this[_0x2c86c9(0x246)]+'\x20('+this[_0x2c86c9(0x6de)][_0x2c86c9(0x11a)]+_0x2c86c9(0x3c5)+_0x1e175b[_0x2c86c9(0x646)]+_0x2c86c9(0xbe)),new m(_0x2c86c9(0x6d4)+_0x1e175b[_0x2c86c9(0x646)]+_0x2c86c9(0xbe));return _0x1e175b;}catch(_0x3ca3a8){return this[_0x2c86c9(0x41b)]['error'](this[_0x2c86c9(0x246)]+'\x20('+this[_0x2c86c9(0x6de)][_0x2c86c9(0x11a)]+_0x2c86c9(0x200)+(_0x3ca3a8 instanceof Error?_0x3ca3a8['message']:JSON[_0x2c86c9(0x3d0)](_0x3ca3a8,null,0x2))),null;}}async[a0_0x22ca69(0x642)](_0x38fc02,_0x15b8a7){const _0x4544d1=a0_0x22ca69;try{let _0x2535db=!!_0x15b8a7[_0x4544d1(0x3cb)],_0x2d128e=_0x15b8a7[_0x4544d1(0x482)],_0x3e5d72=null;if(this['logger'][_0x4544d1(0x36c)](this[_0x4544d1(0x246)]+'\x20('+this[_0x4544d1(0x6de)][_0x4544d1(0x11a)]+'):\x20isVote:\x20'+_0x2535db+_0x4544d1(0x32d)+_0x2d128e),_0x2535db){this[_0x4544d1(0x41b)][_0x4544d1(0x36c)](this[_0x4544d1(0x246)]+'\x20('+this['instance'][_0x4544d1(0x11a)]+_0x4544d1(0x4d4));let _0x15ddb7={'where':{'remoteJid':_0x38fc02,'waitingMenu_id':_0x2d128e}};if(_0x3e5d72=await this['repository'][_0x4544d1(0x722)][_0x4544d1(0x743)](_0x15ddb7,this[_0x4544d1(0x6de)][_0x4544d1(0x11a)]),!_0x3e5d72)return this[_0x4544d1(0x41b)]['verbose'](this['instanceName']+'\x20('+this[_0x4544d1(0x6de)][_0x4544d1(0x11a)]+_0x4544d1(0x4cc)),null;let _0x24d93a=Date['now'](),_0x56ee26=_0x3e5d72?.['minutesToClose']||0x0,_0x33e135=_0x24d93a-_0x56ee26*0x3c*0x3e8;if(_0x3e5d72[_0x4544d1(0x16f)]<_0x33e135){this[_0x4544d1(0x41b)][_0x4544d1(0x36c)](this[_0x4544d1(0x246)]+'\x20('+this['instance'][_0x4544d1(0x11a)]+_0x4544d1(0x765));let _0x239a7f={'number':_0x3e5d72[_0x4544d1(0x61d)],'options':{'delay':0x0},'textMessage':{'text':_0x3e5d72[_0x4544d1(0x63f)]}};await this[_0x4544d1(0x20f)](_0x239a7f);let _0x3fb003={'status':_0x4544d1(0x531),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x4544d1(0x3b8)][_0x4544d1(0x722)][_0x4544d1(0x489)](_0x3e5d72[_0x4544d1(0x646)],_0x3fb003,this[_0x4544d1(0x6de)][_0x4544d1(0x11a)]),null;}return _0x3e5d72[_0x4544d1(0x16f)]=Date[_0x4544d1(0x690)](),_0x3e5d72[_0x4544d1(0x169)]['lastReceivedMessage']=_0x15b8a7,_0x3e5d72;}else{this[_0x4544d1(0x41b)]['verbose'](this[_0x4544d1(0x246)]+'\x20('+this[_0x4544d1(0x6de)][_0x4544d1(0x11a)]+_0x4544d1(0x75f)+this['instance'][_0x4544d1(0x11a)]+_0x4544d1(0x654)),this[_0x4544d1(0x41b)][_0x4544d1(0x36c)](this[_0x4544d1(0x246)]+'\x20('+this[_0x4544d1(0x6de)][_0x4544d1(0x11a)]+_0x4544d1(0x451));let _0x143d47={'where':{'remoteJid':_0x38fc02,'status':_0x4544d1(0x3c8)}};if(_0x3e5d72=await this[_0x4544d1(0x3b8)]['flowConversation'][_0x4544d1(0x743)](_0x143d47,this['instance'][_0x4544d1(0x11a)]),!_0x3e5d72){let _0x24da3e=await this['findFlow'](_0x38fc02);if(_0x24da3e&&(_0x3e5d72=await this['createNewConversation'](_0x24da3e,_0x15b8a7['key'],_0x15b8a7)),!_0x3e5d72)return null;}let _0x12cecb=Date['now'](),_0x226646=_0x3e5d72?.['minutesToClose']||0x0,_0x4ba68b=_0x12cecb-_0x226646*0x3c*0x3e8;if(this[_0x4544d1(0x41b)]['verbose'](this[_0x4544d1(0x246)]+'\x20('+this['instance']['wuid']+_0x4544d1(0x5f6)+_0x12cecb+_0x4544d1(0x120)+_0x226646+_0x4544d1(0x38b)+_0x4ba68b),this[_0x4544d1(0x41b)][_0x4544d1(0x36c)](this['instanceName']+'\x20('+this['instance'][_0x4544d1(0x11a)]+_0x4544d1(0x538)),this[_0x4544d1(0x41b)][_0x4544d1(0x36c)](this['instanceName']+'\x20('+this[_0x4544d1(0x6de)]['wuid']+_0x4544d1(0x23e)+_0x3e5d72['lastInteraction']),this['logger'][_0x4544d1(0x36c)](this[_0x4544d1(0x246)]+'\x20('+this['instance']['wuid']+'):\x20expirationTime:\x20'+_0x4ba68b),_0x3e5d72[_0x4544d1(0x16f)]<_0x4ba68b){this[_0x4544d1(0x41b)]['verbose'](this[_0x4544d1(0x246)]+'\x20('+this[_0x4544d1(0x6de)][_0x4544d1(0x11a)]+_0x4544d1(0x2f9));let _0x3bc08d=await this[_0x4544d1(0x23f)](_0x38fc02);if(_0x3bc08d===null)return null;_0x3e5d72&&await this['repository']['flowConversation'][_0x4544d1(0x489)](_0x3e5d72[_0x4544d1(0x646)],{'status':_0x4544d1(0x531)},this[_0x4544d1(0x6de)][_0x4544d1(0x11a)]),_0x3e5d72=await this[_0x4544d1(0x630)](_0x3bc08d,_0x15b8a7[_0x4544d1(0x1cc)],_0x15b8a7);}return _0x3e5d72[_0x4544d1(0x16f)]=_0x12cecb,_0x3e5d72[_0x4544d1(0x169)][_0x4544d1(0x5cf)]=_0x15b8a7,_0x3e5d72;}}catch(_0x4d10da){return this[_0x4544d1(0x41b)][_0x4544d1(0x3d5)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4544d1(0x55b)+(_0x4d10da instanceof Error?_0x4d10da[_0x4544d1(0x3d1)]:JSON[_0x4544d1(0x3d0)](_0x4d10da,null,0x2))),null;}}async['createNewConversation'](_0x570364,_0x141757,_0x2fe9e4){const _0xe69209=a0_0x22ca69;this[_0xe69209(0x41b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0xe69209(0x11a)]+_0xe69209(0x490));try{let _0x308d66=require(_0xe69209(0x1b0))['ObjectId'],_0xa760ff=Date[_0xe69209(0x690)](),_0x4bd02f=_0xe69209(0x5b9),_0x11ca44=_0x141757[_0xe69209(0x325)]?null:_0x2fe9e4,_0xe60a07=_0x141757[_0xe69209(0x325)]?_0x2fe9e4:null,_0x4bfeeb=_0x141757[_0xe69209(0x61d)],_0x5ee46e=this[_0xe69209(0x644)][_0xe69209(0x2d2)][_0xe69209(0x22d)](_0x267bc0=>_0x267bc0['_id']===_0x570364[_0xe69209(0x646)]?.['toString']()),_0x235496=_0x5ee46e?.['minutesToClose']??_0x570364[_0xe69209(0x42c)]??0x0,_0x334a4a=_0x5ee46e?.[_0xe69209(0x384)]??_0x570364[_0xe69209(0x384)]??!0x1;await this[_0xe69209(0xb6)](_0x4bfeeb);let _0x2b528a={'flowId':_0x570364[_0xe69209(0x646)],..._0x570364,'chatLog':null},_0x46fb95=await this[_0xe69209(0x620)](_0x2b528a['variables']),_0x3dd8a0=await this[_0xe69209(0x729)](_0x4bfeeb),_0x4c8e8d={..._0x46fb95,..._0x3dd8a0,'_remoteJid':_0x4bfeeb},_0x20e8ef={'lastReceivedMessage':_0x11ca44,'lastSendMessage':_0xe60a07,'lastBlockId':_0x4bd02f,'lastCondition':!0x0,'realVariables':_0x4c8e8d};_0x2b528a[_0xe69209(0x169)]=_0x20e8ef,delete _0x2b528a['_id'],_0x2b528a['_id']=new _0x308d66(),_0x2b528a['lastInteraction']=_0xa760ff,_0x2b528a['status']=_0xe69209(0x3c8),_0x2b528a[_0xe69209(0x61d)]=_0x4bfeeb,_0x2b528a['minutesToClose']=_0x235496,_0x2b528a[_0xe69209(0x384)]=_0x334a4a;let _0x102e53=await this[_0xe69209(0x3b8)][_0xe69209(0x722)][_0xe69209(0x489)](_0x2b528a['_id'],_0x2b528a,this[_0xe69209(0x6de)][_0xe69209(0x11a)]);return this[_0xe69209(0x41b)][_0xe69209(0x36c)](this[_0xe69209(0x246)]+'\x20('+this['instance'][_0xe69209(0x11a)]+_0xe69209(0x735)),_0x102e53?_0x2b528a:null;}catch(_0xba94aa){return this['logger']['error'](this[_0xe69209(0x246)]+'\x20('+this['instance'][_0xe69209(0x11a)]+_0xe69209(0x590)+(_0xba94aa instanceof Error?_0xba94aa[_0xe69209(0x3d1)]:JSON[_0xe69209(0x3d0)](_0xba94aa,null,0x2))),_0xba94aa;}}async[a0_0x22ca69(0x1c8)](_0x2e8edd,_0xcf634c){const _0x3b604a=a0_0x22ca69;let _0x5b6b52=_0x2e8edd['remoteJid'];_0xcf634c['uazapi'][_0x3b604a(0x61d)]&&_0xcf634c[_0x3b604a(0x43c)][_0x3b604a(0x61d)][_0x3b604a(0x585)]()!==''&&(_0x5b6b52=_0xcf634c['uazapi'][_0x3b604a(0x61d)][_0x3b604a(0x585)]()),this[_0x3b604a(0x41b)][_0x3b604a(0x36c)](this[_0x3b604a(0x246)]+'\x20('+this[_0x3b604a(0x6de)][_0x3b604a(0x11a)]+_0x3b604a(0x5f8));let _0x24c21c={'number':_0x5b6b52,'options':{'delay':_0xcf634c['uazapi'][_0x3b604a(0x222)],'linkPreview':_0xcf634c[_0x3b604a(0x43c)]['linkPreview']},'textMessage':{'text':_0xcf634c[_0x3b604a(0x43c)][_0x3b604a(0x1b8)]}};try{let _0x18d103=await this['textMessage'](_0x24c21c);if(_0x18d103){let _0x5d89ad={'_id':_0x18d103['key']['id'],'_fromMe':_0x18d103['key'][_0x3b604a(0x325)],'_remoteJid':_0x18d103[_0x3b604a(0x1cc)]['remoteJid']},_0x899da7=(0x0,w['normalizeMessageContent'])(_0x18d103['message']),_0x384e61=(0x0,w[_0x3b604a(0x6f7)])(_0x899da7);_0x2e8edd[_0x3b604a(0x169)]['lastBlockId']=_0xcf634c[_0x3b604a(0x646)][_0x3b604a(0x12e)]();let {message_normalized:_0x3b0f0d}=this[_0x3b604a(0x9a)](_0x899da7,_0x384e61,null);_0x2e8edd[_0x3b604a(0x169)][_0x3b604a(0x6a4)]=await _0x3b0f0d;let _0x360e71={'messageId':_0x18d103[_0x3b604a(0x1cc)]['id']},_0x64e8ea=_0x2e8edd[_0x3b604a(0x169)]['realVariables'];Object[_0x3b604a(0x6c0)](_0x64e8ea,_0x5d89ad),_0x2e8edd[_0x3b604a(0x169)][_0x3b604a(0x5e0)]=_0x64e8ea,this[_0x3b604a(0x75a)](_0x2e8edd,_0xcf634c,_0x360e71);}else{let _0x40c241={'error':!0x0};this[_0x3b604a(0x75a)](_0x2e8edd,_0xcf634c,_0x40c241),this[_0x3b604a(0x41b)][_0x3b604a(0x3d5)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3b604a(0x691));}}catch(_0x29ddd3){let _0x595264={'error':!0x0,'errorLog':_0x29ddd3[_0x3b604a(0x12e)]()};this[_0x3b604a(0x75a)](_0x2e8edd,_0xcf634c,_0x595264),this[_0x3b604a(0x41b)]['error'](this[_0x3b604a(0x246)]+'\x20('+this['instance']['wuid']+_0x3b604a(0x4ad)+(_0x29ddd3 instanceof Error?_0x29ddd3[_0x3b604a(0x3d1)]:JSON[_0x3b604a(0x3d0)](_0x29ddd3,null,0x2)));}}async[a0_0x22ca69(0x108)](_0x57557a,_0x2b632f){const _0x4a302e=a0_0x22ca69;let _0x1fde10=_0x57557a[_0x4a302e(0x61d)];_0x2b632f[_0x4a302e(0x43c)][_0x4a302e(0x61d)]&&_0x2b632f[_0x4a302e(0x43c)][_0x4a302e(0x61d)][_0x4a302e(0x585)]()!==''&&(_0x1fde10=_0x2b632f[_0x4a302e(0x43c)][_0x4a302e(0x61d)][_0x4a302e(0x585)]()),this['logger'][_0x4a302e(0x36c)](this[_0x4a302e(0x246)]+'\x20('+this[_0x4a302e(0x6de)][_0x4a302e(0x11a)]+_0x4a302e(0x1ad));let _0x259d55={'number':_0x1fde10,'options':{'delay':_0x2b632f[_0x4a302e(0x43c)][_0x4a302e(0x222)],'linkPreview':_0x2b632f['uazapi'][_0x4a302e(0xad)]},'mediaMessage':{'mediatype':_0x2b632f['uazapi'][_0x4a302e(0x607)],'caption':_0x2b632f['uazapi'][_0x4a302e(0x3ba)],'media':_0x2b632f['uazapi']['media'],'fileName':_0x2b632f[_0x4a302e(0x43c)][_0x4a302e(0x4fb)]}};try{let _0x1a5218=await this[_0x4a302e(0x23c)](_0x259d55);if(_0x1a5218){let _0x5479c0={'_id':_0x1a5218[_0x4a302e(0x1cc)]['id'],'_fromMe':_0x1a5218[_0x4a302e(0x1cc)][_0x4a302e(0x325)],'_remoteJid':_0x1a5218['key'][_0x4a302e(0x61d)]},_0x35c8ea=(0x0,w[_0x4a302e(0x38e)])(_0x1a5218[_0x4a302e(0x3d1)]),_0x42aac9=(0x0,w[_0x4a302e(0x6f7)])(_0x35c8ea);_0x57557a['chatLog'][_0x4a302e(0xf0)]=_0x2b632f['_id']['toString']();let {message_normalized:_0x57130c}=this[_0x4a302e(0x9a)](_0x35c8ea,_0x42aac9,null);_0x57557a['chatLog'][_0x4a302e(0x6a4)]=await _0x57130c;let _0x52fe73={'messageId':_0x1a5218[_0x4a302e(0x1cc)]['id']},_0x1d8524=_0x57557a[_0x4a302e(0x169)][_0x4a302e(0x5e0)];Object[_0x4a302e(0x6c0)](_0x1d8524,_0x5479c0),_0x57557a[_0x4a302e(0x169)]['realVariables']=_0x1d8524,this['updateConversation'](_0x57557a,_0x2b632f,_0x52fe73);}else{let _0x5018b2={'error':!0x0};this[_0x4a302e(0x75a)](_0x57557a,_0x2b632f,_0x5018b2),this[_0x4a302e(0x41b)][_0x4a302e(0x3d5)](this['instanceName']+'\x20('+this[_0x4a302e(0x6de)][_0x4a302e(0x11a)]+_0x4a302e(0x541));}}catch(_0x36fa03){let _0x4062ab={'error':!0x0,'errorLog':_0x36fa03[_0x4a302e(0x12e)]()};this[_0x4a302e(0x75a)](_0x57557a,_0x2b632f,_0x4062ab),this['logger']['error'](this[_0x4a302e(0x246)]+'\x20('+this[_0x4a302e(0x6de)][_0x4a302e(0x11a)]+_0x4a302e(0x16b)+(_0x36fa03 instanceof Error?_0x36fa03[_0x4a302e(0x3d1)]:JSON[_0x4a302e(0x3d0)](_0x36fa03,null,0x2)));}}async[a0_0x22ca69(0x3eb)](_0x312e38,_0x1d06e8){const _0x53dab2=a0_0x22ca69;let _0x114f2d=_0x312e38['remoteJid'];_0x1d06e8[_0x53dab2(0x43c)]['remoteJid']&&_0x1d06e8[_0x53dab2(0x43c)][_0x53dab2(0x61d)][_0x53dab2(0x585)]()!==''&&(_0x114f2d=_0x1d06e8[_0x53dab2(0x43c)][_0x53dab2(0x61d)]['trim']()),this[_0x53dab2(0x41b)]['verbose'](this[_0x53dab2(0x246)]+'\x20('+this[_0x53dab2(0x6de)]['wuid']+_0x53dab2(0x5ea));let _0x21c0ac={'number':_0x114f2d,'options':{'delay':_0x1d06e8[_0x53dab2(0x43c)][_0x53dab2(0x222)]},'locationMessage':{'name':_0x1d06e8[_0x53dab2(0x43c)][_0x53dab2(0x7cc)],'address':_0x1d06e8['uazapi']['address'],'latitude':_0x1d06e8[_0x53dab2(0x43c)][_0x53dab2(0x2df)],'longitude':_0x1d06e8['uazapi'][_0x53dab2(0x12a)]}};try{let _0x494ff4=await this['locationMessage'](_0x21c0ac);if(_0x494ff4){let _0x4c9306={'_id':_0x494ff4[_0x53dab2(0x1cc)]['id'],'_fromMe':_0x494ff4[_0x53dab2(0x1cc)][_0x53dab2(0x325)],'_remoteJid':_0x494ff4[_0x53dab2(0x1cc)][_0x53dab2(0x61d)]},_0x1c6f7e=(0x0,w['normalizeMessageContent'])(_0x494ff4['message']),_0x18a739=(0x0,w[_0x53dab2(0x6f7)])(_0x1c6f7e);_0x312e38[_0x53dab2(0x169)]['lastBlockId']=_0x1d06e8[_0x53dab2(0x646)][_0x53dab2(0x12e)]();let {message_normalized:_0x1d9e24}=this[_0x53dab2(0x9a)](_0x1c6f7e,_0x18a739,null);_0x312e38[_0x53dab2(0x169)][_0x53dab2(0x6a4)]=await _0x1d9e24;let _0x19e5bd={'messageId':_0x494ff4[_0x53dab2(0x1cc)]['id']},_0x1c2bed=_0x312e38[_0x53dab2(0x169)]['realVariables'];Object['assign'](_0x1c2bed,_0x4c9306),_0x312e38['chatLog'][_0x53dab2(0x5e0)]=_0x1c2bed,this[_0x53dab2(0x75a)](_0x312e38,_0x1d06e8,_0x19e5bd);}else{let _0x47f6fd={'error':!0x0};this[_0x53dab2(0x75a)](_0x312e38,_0x1d06e8,_0x47f6fd),this[_0x53dab2(0x41b)][_0x53dab2(0x3d5)](this[_0x53dab2(0x246)]+'\x20('+this['instance']['wuid']+_0x53dab2(0x43b));}}catch(_0x345835){let _0x3f1883={'error':!0x0,'errorLog':_0x345835['toString']()};this[_0x53dab2(0x75a)](_0x312e38,_0x1d06e8,_0x3f1883),this['logger']['error'](this[_0x53dab2(0x246)]+'\x20('+this['instance'][_0x53dab2(0x11a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x345835 instanceof Error?_0x345835[_0x53dab2(0x3d1)]:JSON[_0x53dab2(0x3d0)](_0x345835,null,0x2)));}}async['uazapiSendAudio'](_0x5f47ee,_0x4aa19e){const _0x15655d=a0_0x22ca69;let _0x3d6cfd=_0x5f47ee[_0x15655d(0x61d)];_0x4aa19e[_0x15655d(0x43c)][_0x15655d(0x61d)]&&_0x4aa19e[_0x15655d(0x43c)]['remoteJid']['trim']()!==''&&(_0x3d6cfd=_0x4aa19e[_0x15655d(0x43c)][_0x15655d(0x61d)]['trim']()),this[_0x15655d(0x41b)][_0x15655d(0x36c)](this['instanceName']+'\x20('+this[_0x15655d(0x6de)][_0x15655d(0x11a)]+_0x15655d(0xb8));let _0x566c79={'number':_0x3d6cfd,'options':{'delay':_0x4aa19e[_0x15655d(0x43c)][_0x15655d(0x222)]},'audioMessage':{'audio':_0x4aa19e[_0x15655d(0x43c)][_0x15655d(0x653)]}};try{let _0x33c845=await this[_0x15655d(0x539)](_0x566c79);if(_0x33c845){let _0x5857c9={'_id':_0x33c845[_0x15655d(0x1cc)]['id'],'_fromMe':_0x33c845[_0x15655d(0x1cc)]['fromMe'],'_remoteJid':_0x33c845[_0x15655d(0x1cc)]['remoteJid']},_0x3b60dd=(0x0,w[_0x15655d(0x38e)])(_0x33c845[_0x15655d(0x3d1)]),_0x2d521f=(0x0,w[_0x15655d(0x6f7)])(_0x3b60dd);_0x5f47ee[_0x15655d(0x169)][_0x15655d(0xf0)]=_0x4aa19e[_0x15655d(0x646)][_0x15655d(0x12e)]();let {message_normalized:_0x545606}=this[_0x15655d(0x9a)](_0x3b60dd,_0x2d521f,null);_0x5f47ee[_0x15655d(0x169)][_0x15655d(0x6a4)]=await _0x545606;let _0x53278e={'messageId':_0x33c845[_0x15655d(0x1cc)]['id']},_0x248ec4=_0x5f47ee[_0x15655d(0x169)][_0x15655d(0x5e0)];Object['assign'](_0x248ec4,_0x5857c9),_0x5f47ee['chatLog']['realVariables']=_0x248ec4,this[_0x15655d(0x75a)](_0x5f47ee,_0x4aa19e,_0x53278e);}else{let _0x5379a1={'error':!0x0};this[_0x15655d(0x75a)](_0x5f47ee,_0x4aa19e,_0x5379a1),this['logger'][_0x15655d(0x3d5)](this['instanceName']+'\x20('+this[_0x15655d(0x6de)]['wuid']+_0x15655d(0x2bf));}}catch(_0x2d4987){let _0x493568={'error':!0x0,'errorLog':_0x2d4987[_0x15655d(0x12e)]()};this['updateConversation'](_0x5f47ee,_0x4aa19e,_0x493568),this[_0x15655d(0x41b)]['error'](this[_0x15655d(0x246)]+'\x20('+this[_0x15655d(0x6de)]['wuid']+_0x15655d(0x87)+(_0x2d4987 instanceof Error?_0x2d4987['message']:JSON[_0x15655d(0x3d0)](_0x2d4987,null,0x2)));}}async['uazapiSendContact'](_0x970a91,_0xf71c18){const _0x40b9ea=a0_0x22ca69;let _0x48a23a=_0x970a91['remoteJid'];_0xf71c18[_0x40b9ea(0x43c)][_0x40b9ea(0x61d)]&&_0xf71c18[_0x40b9ea(0x43c)][_0x40b9ea(0x61d)]['trim']()!==''&&(_0x48a23a=_0xf71c18[_0x40b9ea(0x43c)]['remoteJid'][_0x40b9ea(0x585)]()),this[_0x40b9ea(0x41b)]['verbose'](this['instanceName']+'\x20('+this[_0x40b9ea(0x6de)][_0x40b9ea(0x11a)]+_0x40b9ea(0x242));let _0x282327={'number':_0x48a23a,'options':{'delay':_0xf71c18[_0x40b9ea(0x43c)][_0x40b9ea(0x222)]},'contactMessage':[{'fullName':_0xf71c18[_0x40b9ea(0x43c)]['fullName'],'phoneNumber':_0xf71c18[_0x40b9ea(0x43c)]['phoneNumber']}]};try{let _0x3248ef=await this['contactMessage'](_0x282327);if(_0x3248ef){let _0x318d5e={'_id':_0x3248ef[_0x40b9ea(0x1cc)]['id'],'_fromMe':_0x3248ef['key'][_0x40b9ea(0x325)],'_remoteJid':_0x3248ef[_0x40b9ea(0x1cc)][_0x40b9ea(0x61d)]},_0x428ba=(0x0,w[_0x40b9ea(0x38e)])(_0x3248ef['message']),_0x49d7cb=(0x0,w['getContentType'])(_0x428ba);_0x970a91[_0x40b9ea(0x169)][_0x40b9ea(0xf0)]=_0xf71c18[_0x40b9ea(0x646)][_0x40b9ea(0x12e)]();let {message_normalized:_0x513d6c}=this[_0x40b9ea(0x9a)](_0x428ba,_0x49d7cb,null);_0x970a91[_0x40b9ea(0x169)][_0x40b9ea(0x6a4)]=await _0x513d6c;let _0x810e51={'messageId':_0x3248ef[_0x40b9ea(0x1cc)]['id']},_0x24d6a1=_0x970a91['chatLog']['realVariables'];Object[_0x40b9ea(0x6c0)](_0x24d6a1,_0x318d5e),_0x970a91['chatLog'][_0x40b9ea(0x5e0)]=_0x24d6a1,this[_0x40b9ea(0x75a)](_0x970a91,_0xf71c18,_0x810e51);}else{let _0x46c38a={'error':!0x0};this[_0x40b9ea(0x75a)](_0x970a91,_0xf71c18,_0x46c38a),this[_0x40b9ea(0x41b)]['error'](this[_0x40b9ea(0x246)]+'\x20('+this['instance'][_0x40b9ea(0x11a)]+_0x40b9ea(0x7d7));}}catch(_0x82bd5c){let _0x38711d={'error':!0x0,'errorLog':_0x82bd5c['toString']()};this[_0x40b9ea(0x75a)](_0x970a91,_0xf71c18,_0x38711d),this[_0x40b9ea(0x41b)][_0x40b9ea(0x3d5)](this['instanceName']+'\x20('+this[_0x40b9ea(0x6de)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x82bd5c instanceof Error?_0x82bd5c[_0x40b9ea(0x3d1)]:JSON[_0x40b9ea(0x3d0)](_0x82bd5c,null,0x2)));}}[a0_0x22ca69(0x15a)](_0x33870b,_0x38a7a5){const _0x2c0868=a0_0x22ca69;for(let _0x5aba1e of _0x33870b)_0x5aba1e[_0x2c0868(0x3fe)]&&(_0x5aba1e['option']=this['replaceVariables'](_0x5aba1e[_0x2c0868(0x3fe)],_0x38a7a5)),_0x5aba1e[_0x2c0868(0x1e5)]&&(_0x5aba1e[_0x2c0868(0x1e5)]=this['replaceVariables'](_0x5aba1e[_0x2c0868(0x1e5)],_0x38a7a5));}async[a0_0x22ca69(0x159)](_0x323228,_0x2d4178){const _0x27a31c=a0_0x22ca69;let _0x2cc2fd=_0x323228[_0x27a31c(0x61d)];_0x2d4178[_0x27a31c(0x43c)][_0x27a31c(0x61d)]&&_0x2d4178[_0x27a31c(0x43c)]['remoteJid'][_0x27a31c(0x585)]()!==''&&(_0x2cc2fd=_0x2d4178[_0x27a31c(0x43c)][_0x27a31c(0x61d)][_0x27a31c(0x585)]()),this[_0x27a31c(0x41b)][_0x27a31c(0x36c)](this['instanceName']+'\x20('+this[_0x27a31c(0x6de)]['wuid']+'):\x20Enviando\x20enquete');let _0x425236=_0x323228[_0x27a31c(0x140)]['filter'](_0x123489=>_0x123489[_0x27a31c(0x152)]===_0x2d4178[_0x27a31c(0x646)])[_0x27a31c(0x3a1)]((_0x446033,_0x287617)=>_0x446033[_0x27a31c(0x66e)]-_0x287617['order']);this[_0x27a31c(0x15a)](_0x425236,_0x323228[_0x27a31c(0x169)]['realVariables']);let _0x5f5769=_0x425236[_0x27a31c(0x322)](_0x175601=>_0x175601['option']),_0x11ed77={'number':_0x2cc2fd,'menuMessage':{'type':_0x2d4178[_0x27a31c(0x43c)][_0x27a31c(0xea)]||_0x27a31c(0x171),'text':_0x2d4178[_0x27a31c(0x43c)]['text']||_0x2d4178['uazapi'][_0x27a31c(0x7cc)],'footerText':_0x2d4178[_0x27a31c(0x43c)][_0x27a31c(0x3f5)],'buttonText':_0x2d4178[_0x27a31c(0x43c)][_0x27a31c(0x252)],'selectableCount':0x1,'choices':_0x5f5769},'options':{'delay':_0x2d4178[_0x27a31c(0x43c)]['delay']}};try{let _0x17c057=await this['menuMessage'](_0x11ed77);if(_0x17c057){let _0x38d56b={'_id':_0x17c057['key']['id'],'_fromMe':_0x17c057[_0x27a31c(0x1cc)][_0x27a31c(0x325)],'_remoteJid':_0x17c057[_0x27a31c(0x1cc)][_0x27a31c(0x61d)]};_0x2d4178[_0x27a31c(0x43c)][_0x27a31c(0x7c3)]===!0x0&&(_0x323228[_0x27a31c(0x172)]='waitingForReplyMenu',this['logger'][_0x27a31c(0x36c)](this[_0x27a31c(0x246)]+'\x20('+this[_0x27a31c(0x6de)][_0x27a31c(0x11a)]+_0x27a31c(0x4f1)+_0x323228[_0x27a31c(0x172)])),this[_0x27a31c(0x41b)][_0x27a31c(0x36c)](this[_0x27a31c(0x246)]+'\x20('+this[_0x27a31c(0x6de)][_0x27a31c(0x11a)]+_0x27a31c(0x7e0)+(_0x2d4178[_0x27a31c(0x43c)][_0x27a31c(0x7cc)]||_0x2d4178[_0x27a31c(0x43c)][_0x27a31c(0x1b8)])),_0x323228[_0x27a31c(0x11d)]=_0x17c057[_0x27a31c(0x1cc)]['id'],_0x323228[_0x27a31c(0x2d3)]=_0x2d4178[_0x27a31c(0x43c)]['name']||_0x2d4178[_0x27a31c(0x43c)][_0x27a31c(0x1b8)],_0x323228[_0x27a31c(0x12f)]=_0x425236,_0x2d4178['uazapi'][_0x27a31c(0x2c1)]&&(_0x323228[_0x27a31c(0x63f)]=_0x2d4178[_0x27a31c(0x43c)][_0x27a31c(0x2c1)]),this[_0x27a31c(0x41b)]['verbose'](this[_0x27a31c(0x246)]+'\x20('+this['instance'][_0x27a31c(0x11a)]+_0x27a31c(0x121)+_0x323228[_0x27a31c(0x2d3)]);let _0x336121=(0x0,w[_0x27a31c(0x38e)])(_0x17c057[_0x27a31c(0x3d1)]),_0x422ea9=(0x0,w['getContentType'])(_0x336121);_0x323228[_0x27a31c(0x169)][_0x27a31c(0xf0)]=_0x2d4178['_id'][_0x27a31c(0x12e)]();let {message_normalized:_0x5892ff}=this[_0x27a31c(0x9a)](_0x336121,_0x422ea9,null);_0x323228[_0x27a31c(0x169)]['lastSendMessage']=await _0x5892ff;let _0x4c4094={'messageId':_0x17c057[_0x27a31c(0x1cc)]['id']},_0xcae2cd=_0x323228['chatLog'][_0x27a31c(0x5e0)];Object[_0x27a31c(0x6c0)](_0xcae2cd,_0x38d56b),_0x323228['chatLog'][_0x27a31c(0x5e0)]=_0xcae2cd,this[_0x27a31c(0x75a)](_0x323228,_0x2d4178,_0x4c4094);}else{let _0x2a9f55={'error':!0x0};this['updateConversation'](_0x323228,_0x2d4178,_0x2a9f55),this[_0x27a31c(0x41b)][_0x27a31c(0x3d5)](this[_0x27a31c(0x246)]+'\x20('+this[_0x27a31c(0x6de)][_0x27a31c(0x11a)]+_0x27a31c(0x215));}}catch(_0x37e499){let _0x356ef7={'error':!0x0,'errorLog':_0x37e499 instanceof Error?_0x37e499['message']:JSON[_0x27a31c(0x3d0)](_0x37e499,null,0x2)};this[_0x27a31c(0x75a)](_0x323228,_0x2d4178,_0x356ef7),this['logger'][_0x27a31c(0x3d5)](this[_0x27a31c(0x246)]+'\x20('+this[_0x27a31c(0x6de)]['wuid']+_0x27a31c(0x506)+(_0x37e499 instanceof Error?_0x37e499['message']:JSON['stringify'](_0x37e499,null,0x2)));}}async['uazapiDeleteMessage'](_0x20ec65,_0x4819ee){const _0x14a52b=a0_0x22ca69;this[_0x14a52b(0x41b)][_0x14a52b(0x36c)](this[_0x14a52b(0x246)]+'\x20('+this[_0x14a52b(0x6de)]['wuid']+'):\x20Deletando\x20mensagem');let _0x2450f4=_0x20ec65[_0x14a52b(0x169)][_0x14a52b(0xe1)][_0x14a52b(0x22d)](_0x551e61=>_0x551e61[_0x14a52b(0x152)]['toString']()===_0x4819ee['uazapi'][_0x14a52b(0x152)]['toString']()),_0x842fec={'id':_0x2450f4[_0x14a52b(0x32f)],'remoteJid':_0x2450f4[_0x14a52b(0x61d)],'fromMe':_0x2450f4['fromMe']};try{let _0x4d66b5=await this['deleteMessage'](_0x842fec);if(_0x4d66b5){let _0x5274e3=(0x0,w[_0x14a52b(0x38e)])(_0x4d66b5[_0x14a52b(0x3d1)]),_0x5e32eb=(0x0,w['getContentType'])(_0x5274e3);_0x20ec65[_0x14a52b(0x169)]['lastBlockId']=_0x4819ee[_0x14a52b(0x646)][_0x14a52b(0x12e)]();let {message_normalized:_0x50bb97}=this[_0x14a52b(0x9a)](_0x5274e3,_0x5e32eb,null);_0x20ec65[_0x14a52b(0x169)][_0x14a52b(0x6a4)]=await _0x50bb97;let _0x184caf={};this[_0x14a52b(0x75a)](_0x20ec65,_0x4819ee,_0x184caf);}else{let _0x4e9ce5={'error':!0x0};this[_0x14a52b(0x75a)](_0x20ec65,_0x4819ee,_0x4e9ce5),this['logger'][_0x14a52b(0x3d5)](this[_0x14a52b(0x246)]+'\x20('+this[_0x14a52b(0x6de)][_0x14a52b(0x11a)]+_0x14a52b(0x7cd));}}catch(_0x25e96b){let _0x12b807={'error':!0x0,'errorLog':_0x25e96b instanceof Error?_0x25e96b[_0x14a52b(0x3d1)]:JSON[_0x14a52b(0x3d0)](_0x25e96b,null,0x2)};this['updateConversation'](_0x20ec65,_0x4819ee,_0x12b807),this['logger'][_0x14a52b(0x3d5)](this[_0x14a52b(0x246)]+'\x20('+this[_0x14a52b(0x6de)][_0x14a52b(0x11a)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x25e96b instanceof Error?_0x25e96b['message']:JSON[_0x14a52b(0x3d0)](_0x25e96b,null,0x2)));}}async[a0_0x22ca69(0x186)](_0xb71d66,_0xc16c7a){const _0x2e2685=a0_0x22ca69;if(_0xb71d66[_0x2e2685(0x7cc)]||(_0xb71d66[_0x2e2685(0x7cc)]=(0x0,H['v4'])()),_0xc16c7a!==$i&&_0xb71d66?.[_0x2e2685(0x5dd)])throw new m(_0x2e2685(0x417));if(_0x2e2685(0x646)in _0xb71d66&&_0x2e2685(0x60d)in _0xb71d66)return this['AddUserFlow'](_0xb71d66[_0x2e2685(0x60d)],_0xb71d66[_0x2e2685(0x646)]);this['logger'][_0x2e2685(0x36c)](this[_0x2e2685(0x246)]+'\x20('+this[_0x2e2685(0x6de)][_0x2e2685(0x11a)]+_0x2e2685(0x3ab));let _0x1fbd26=this[_0x2e2685(0x4b1)](_0xb71d66[_0x2e2685(0x7cc)]),_0x53db41=new he[(_0x2e2685(0x5bd))][(_0x2e2685(0x4be))](),_0x11e220={'_id':_0x53db41,'default':!0x0,'title':_0x2e2685(0x676),'x':0x0,'y':0x0},_0x47875d={'_id':new he[(_0x2e2685(0x5bd))][(_0x2e2685(0x4be))](),'order':0x1,'groupId':_0x53db41[_0x2e2685(0x12e)](),'type':_0x2e2685(0x5b9)},_0x14b91a=this[_0x2e2685(0x6de)]['wuid'],_0x3199b7={'_id':(0x0,H['v4'])(),'owner':_0x14b91a,'name':_0x1fbd26,'whoCanEdit':[_0x14b91a],'whoCanUse':[_0x14b91a],'groups':[_0x11e220],'blocks':[_0x47875d],..._0xb71d66};try{let _0x3e16e9=await this[_0x2e2685(0x3b8)][_0x2e2685(0x6d9)]['createAndSave'](_0x3199b7);return await this[_0x2e2685(0x685)](),_0x3e16e9;}catch(_0x55a260){let _0x24c390='Erro\x20ao\x20criar\x20fluxo',_0x511805=_0x55a260 instanceof Error?_0x55a260[_0x2e2685(0x3d1)]:typeof _0x55a260=='object'?JSON[_0x2e2685(0x3d0)](_0x55a260):_0x55a260,_0x430eb9=_0x24c390+':\x20'+_0x511805;throw this[_0x2e2685(0x41b)][_0x2e2685(0x3d5)](this[_0x2e2685(0x246)]+'\x20('+this[_0x2e2685(0x6de)][_0x2e2685(0x11a)]+_0x2e2685(0x75f)+_0x430eb9),new m(_0x430eb9);}}async['AddUserFlow'](_0x99552d,_0x4ab74c){const _0x25b67c=a0_0x22ca69;try{this[_0x25b67c(0x41b)][_0x25b67c(0x36c)](this[_0x25b67c(0x246)]+'\x20('+this[_0x25b67c(0x6de)]['wuid']+_0x25b67c(0x6a3));let _0x4920c1=await this[_0x25b67c(0x3b8)][_0x25b67c(0x6d9)][_0x25b67c(0x743)]({'where':{'_id':_0x4ab74c,'owner':_0x99552d}});if(!_0x4920c1)throw new m(_0x25b67c(0x6bf));if(_0x4920c1[_0x25b67c(0x3af)]===!0x1&&!_0x4920c1[_0x25b67c(0x5dd)])throw new m('Esse\x20fluxo\x20não\x20permite\x20importação.');let _0x4c1c54=new Set(_0x4920c1['whoCanUse']??[]);_0x4c1c54[_0x25b67c(0x6fa)](this[_0x25b67c(0x6de)]['wuid']);let _0x5aa5cd=await this[_0x25b67c(0x3b8)][_0x25b67c(0x6d9)][_0x25b67c(0x489)](_0x4ab74c,{..._0x4920c1,'whoCanUse':Array[_0x25b67c(0x227)](_0x4c1c54)});return await this['synchronizeAndMapFlows'](),_0x5aa5cd;}catch(_0x3c2acb){let _0x29b2e9=_0x25b67c(0x79f),_0x36d564=_0x3c2acb instanceof Error?_0x3c2acb['message']:typeof _0x3c2acb=='object'?JSON[_0x25b67c(0x3d0)](_0x3c2acb):_0x3c2acb,_0x53d532=_0x29b2e9+':\x20'+_0x36d564;throw this[_0x25b67c(0x41b)][_0x25b67c(0x3d5)](this[_0x25b67c(0x246)]+'\x20('+this['instance'][_0x25b67c(0x11a)]+_0x25b67c(0x75f)+_0x53d532),new m(_0x53d532);}}[a0_0x22ca69(0x4b1)](_0x3df603){const _0x5171b3=a0_0x22ca69;let _0x319c4b=_0x3df603,_0x13d764=0x1;for(;this[_0x5171b3(0x644)]['flows'][_0x5171b3(0x1ab)](_0x18b16a=>_0x18b16a[_0x5171b3(0x7cc)]===_0x319c4b);)_0x13d764++,_0x319c4b=_0x3df603+'\x20('+_0x13d764+')';return _0x319c4b;}async['deleteFlow'](_0x5be7af){const _0x296d91=a0_0x22ca69;try{if(this[_0x296d91(0x41b)][_0x296d91(0x36c)](this[_0x296d91(0x246)]+'\x20('+this[_0x296d91(0x6de)][_0x296d91(0x11a)]+'):\x20\x27Deletando\x20fluxo,\x20id:\x20'+_0x5be7af[_0x296d91(0x646)]+_0x296d91(0x34f)+_0x5be7af['global']),!this['AutomateSystem'][_0x296d91(0x2d2)][_0x296d91(0x22d)](_0x1e9012=>_0x1e9012[_0x296d91(0x646)]===_0x5be7af[_0x296d91(0x646)]))throw this[_0x296d91(0x41b)]['verbose'](this[_0x296d91(0x246)]+'\x20('+this[_0x296d91(0x6de)]['wuid']+_0x296d91(0x272)+_0x5be7af[_0x296d91(0x646)]+_0x296d91(0x638)),new m(_0x296d91(0x1ed));let _0x474f7a=await this[_0x296d91(0x3b8)][_0x296d91(0x6d9)][_0x296d91(0x743)]({'where':{'_id':_0x5be7af[_0x296d91(0x646)]}});if(!_0x474f7a)throw new m(_0x296d91(0x3ef));if(this[_0x296d91(0x6de)]['wuid']===_0x474f7a[_0x296d91(0x60d)]){this['logger'][_0x296d91(0x36c)](this['instanceName']+'\x20('+this[_0x296d91(0x6de)][_0x296d91(0x11a)]+'):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27'+_0x5be7af[_0x296d91(0x646)]+_0x296d91(0x174));let _0x4642a3=await this['repository'][_0x296d91(0x6d9)][_0x296d91(0x4d8)]({'where':{'_id':_0x5be7af[_0x296d91(0x646)]}});return await this[_0x296d91(0x685)](),_0x4642a3;}return this[_0x296d91(0x41b)][_0x296d91(0x36c)](this['instanceName']+'\x20('+this[_0x296d91(0x6de)][_0x296d91(0x11a)]+_0x296d91(0x6b2)+this['instance'][_0x296d91(0x11a)]+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x5be7af[_0x296d91(0x646)]+_0x296d91(0x157)),_0x474f7a['whoCanUse']=(_0x474f7a[_0x296d91(0x13a)]??[])[_0x296d91(0x716)](_0xafe461=>_0xafe461!==this['instance'][_0x296d91(0x11a)]),_0x474f7a['whoCanEdit']=(_0x474f7a[_0x296d91(0x33c)]??[])[_0x296d91(0x716)](_0x5a0d1a=>_0x5a0d1a!==this[_0x296d91(0x6de)][_0x296d91(0x11a)]),_0x474f7a[_0x296d91(0x33c)]['length']===0x0&&_0x474f7a[_0x296d91(0x13a)][_0x296d91(0x6a0)]>0x0&&(_0x474f7a[_0x296d91(0x33c)][_0x296d91(0x35a)](_0x474f7a[_0x296d91(0x13a)][0x0]),this['logger'][_0x296d91(0x36c)](this['instanceName']+'\x20('+this[_0x296d91(0x6de)]['wuid']+_0x296d91(0x554)+_0x474f7a[_0x296d91(0x13a)][0x0]+_0x296d91(0x1e8)+_0x5be7af[_0x296d91(0x646)]+'\x27...')),await this[_0x296d91(0x3b8)][_0x296d91(0x6d9)][_0x296d91(0x489)](_0x474f7a[_0x296d91(0x646)],_0x474f7a),await this['synchronizeAndMapFlows'](),{'message':_0x296d91(0x70e)+_0x5be7af[_0x296d91(0x7cc)]+_0x296d91(0x14f)};}catch(_0x18d914){return this[_0x296d91(0x41b)][_0x296d91(0x3d5)](this[_0x296d91(0x246)]+'\x20('+this['instance'][_0x296d91(0x11a)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x18d914 instanceof Error?_0x18d914[_0x296d91(0x3d1)]:JSON['stringify'](_0x18d914,null,0x2))),{'message':_0x296d91(0x504)+(_0x18d914 instanceof Error?_0x18d914[_0x296d91(0x3d1)]:JSON[_0x296d91(0x3d0)](_0x18d914,null,0x2))};}}async[a0_0x22ca69(0x29a)](_0x37c96f){const _0x583257=a0_0x22ca69;try{if(this['logger'][_0x583257(0x436)](this[_0x583257(0x246)]+'\x20('+this['instance'][_0x583257(0x11a)]+'):\x20Buscando\x20flow,\x20id:\x20'+_0x37c96f),!this[_0x583257(0x644)]&&(await this[_0x583257(0x166)](),!this['AutomateSystem']))return null;let _0x5921c1=await this[_0x583257(0x3b8)]['flow'][_0x583257(0x743)]({'where':{'_id':_0x37c96f}});if(!_0x5921c1)throw new m(_0x583257(0x629)+_0x37c96f+_0x583257(0x35e));if(!(_0x5921c1[_0x583257(0x5dd)]||_0x5921c1[_0x583257(0x13a)]?.[_0x583257(0x54e)](this[_0x583257(0x6de)][_0x583257(0x11a)])))throw new m(_0x583257(0x63c)+name+'\x27');_0x5921c1[_0x583257(0x5dd)]&&!_0x5921c1[_0x583257(0x13a)]?.[_0x583257(0x54e)](this['instance'][_0x583257(0x11a)])&&(_0x5921c1[_0x583257(0x13a)]=[..._0x5921c1['whoCanUse']??[],this['instance'][_0x583257(0x11a)]],await this['repository'][_0x583257(0x6d9)][_0x583257(0x489)](_0x5921c1[_0x583257(0x646)],_0x5921c1),this['synchronizeAndMapFlows']());let _0x3cfcb5=this['AutomateSystem']?.[_0x583257(0x526)][_0x583257(0x322)](_0x74a06c=>_0x74a06c['name']),_0x15bfc5=[_0x583257(0x5a5),_0x583257(0x77a),_0x583257(0x274),_0x583257(0x347),'status',_0x583257(0x71b),'responsavelid',_0x583257(0x5fd),_0x583257(0x361),'telefone',_0x583257(0x7b9)];_0x5921c1[_0x583257(0x14e)]=_0x5921c1[_0x583257(0x14e)][_0x583257(0x716)](_0x3f12bf=>!(_0x3f12bf[_0x583257(0x372)]===_0x583257(0x392)||_0x3f12bf[_0x583257(0x392)])),_0x15bfc5[_0x583257(0x2e7)](_0x1bb617=>{const _0x340dc5=_0x583257;_0x5921c1[_0x340dc5(0x14e)][_0x340dc5(0x35a)]({'folder':'leadInfo','name':_0x1bb617,'value':'','doc':'','leadInfo':!0x0});}),_0x3cfcb5[_0x583257(0x2e7)](_0x318511=>{const _0x1b4c8b=_0x583257;let _0x4907db=_0x5921c1[_0x1b4c8b(0x14e)]['findIndex'](_0x27d72f=>_0x27d72f[_0x1b4c8b(0x7cc)]===_0x318511);_0x4907db===-0x1?_0x5921c1[_0x1b4c8b(0x14e)][_0x1b4c8b(0x35a)]({'folder':_0x1b4c8b(0x392),'name':_0x318511,'value':'','doc':'','leadInfo':!0x0}):(_0x5921c1['variables'][_0x4907db][_0x1b4c8b(0x372)]=_0x1b4c8b(0x392),_0x5921c1[_0x1b4c8b(0x14e)][_0x4907db][_0x1b4c8b(0x392)]=!0x0);}),_0x5921c1[_0x583257(0x382)]&&_0x5921c1[_0x583257(0x382)][_0x583257(0x6a0)]>0x0&&_0x5921c1['blocks']['forEach'](_0x9c607b=>{const _0x39f627=_0x583257;_0x9c607b[_0x39f627(0x94)]&&_0x9c607b['next_groupId']&&_0x9c607b[_0x39f627(0x94)]===_0x9c607b[_0x39f627(0x5a7)]&&(_0x9c607b[_0x39f627(0x5a7)]=null);});let _0x24acd7=await this[_0x583257(0x3b8)][_0x583257(0x6d9)][_0x583257(0x489)](_0x5921c1[_0x583257(0x646)],_0x5921c1);if(!_0x24acd7)throw new Error(_0x583257(0x756));return _0x24acd7;}catch(_0x5e9376){let _0x1fcd70='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x106ac3=_0x5e9376 instanceof Error?_0x5e9376[_0x583257(0x3d1)]:typeof _0x5e9376==_0x583257(0x769)?JSON[_0x583257(0x3d0)](_0x5e9376):_0x5e9376,_0x32093c=_0x1fcd70+':\x20'+_0x106ac3;throw this[_0x583257(0x41b)][_0x583257(0x3d5)](this[_0x583257(0x246)]+'\x20('+this[_0x583257(0x6de)][_0x583257(0x11a)]+_0x583257(0x75f)+_0x32093c),new m(_0x32093c);}}async[a0_0x22ca69(0xf8)](){const _0x3d7555=a0_0x22ca69;try{this[_0x3d7555(0x41b)]['verbose'](this[_0x3d7555(0x246)]+'\x20('+this['instance'][_0x3d7555(0x11a)]+_0x3d7555(0xaa)),await this[_0x3d7555(0x685)]();let _0x5357d8=await this[_0x3d7555(0x3b8)][_0x3d7555(0x6d9)]['findAll']({'where':{'globalShow':!0x0}});return[...this['AutomateSystem'][_0x3d7555(0x2d2)],..._0x5357d8];}catch(_0x245a05){return this[_0x3d7555(0x41b)][_0x3d7555(0x3d5)](this[_0x3d7555(0x246)]+'\x20('+this[_0x3d7555(0x6de)]['wuid']+_0x3d7555(0x72b)+(_0x245a05 instanceof Error?_0x245a05['message']:JSON['stringify'](_0x245a05,null,0x2))),{'message':_0x3d7555(0x5cc)+(_0x245a05 instanceof Error?_0x245a05[_0x3d7555(0x3d1)]:String(_0x245a05))};}}async[a0_0x22ca69(0x191)](_0x333b48,_0x18fc51){const _0xcabc7b=a0_0x22ca69;try{this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0xcabc7b(0x11a)]+_0xcabc7b(0x693));let _0x574c9c=this[_0xcabc7b(0x644)][_0xcabc7b(0x2d2)][_0xcabc7b(0x22d)](_0x4f618c=>_0x4f618c['_id']===_0x333b48[_0xcabc7b(0x646)]);if(!_0x574c9c)throw this[_0xcabc7b(0x41b)][_0xcabc7b(0x36c)](this[_0xcabc7b(0x246)]+'\x20('+this[_0xcabc7b(0x6de)][_0xcabc7b(0x11a)]+'):\x20Fluxo\x20\x27'+_0x333b48[_0xcabc7b(0x646)]+'\x27\x20não\x20encontrado'),new m(_0xcabc7b(0x1ed));let _0x39584d=await this[_0xcabc7b(0x3b8)][_0xcabc7b(0x6d9)]['findOne']({'where':{'_id':_0x333b48[_0xcabc7b(0x646)]}});if(!_0x39584d||!_0x39584d[_0xcabc7b(0x13a)]?.['includes'](this[_0xcabc7b(0x6de)][_0xcabc7b(0x11a)]))throw this[_0xcabc7b(0x41b)][_0xcabc7b(0x3d5)](this[_0xcabc7b(0x246)]+'\x20('+this[_0xcabc7b(0x6de)]['wuid']+_0xcabc7b(0x3c5)+_0x333b48['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0xcabc7b(0x6d4)+_0x333b48[_0xcabc7b(0x646)]+_0xcabc7b(0xbe));let _0x1d4ef1=this[_0xcabc7b(0x644)][_0xcabc7b(0x2d2)]['findIndex'](_0x48eb6b=>_0x48eb6b['_id']===_0x574c9c[_0xcabc7b(0x646)]);if(_0x1d4ef1!==-0x1){let _0x68b0c1=this[_0xcabc7b(0x644)][_0xcabc7b(0x2d2)][_0x1d4ef1];if(_0x68b0c1[_0xcabc7b(0x7cc)]=_0x333b48[_0xcabc7b(0x7cc)]??_0x68b0c1[_0xcabc7b(0x7cc)],_0x68b0c1[_0xcabc7b(0x4ba)]=_0x333b48[_0xcabc7b(0x4ba)]??_0x68b0c1[_0xcabc7b(0x4ba)],_0x68b0c1['testingWith']=_0x333b48[_0xcabc7b(0x776)]??_0x68b0c1['testingWith'],_0x68b0c1['startCommand']=_0x333b48[_0xcabc7b(0x189)]??_0x68b0c1[_0xcabc7b(0x3fc)],_0x68b0c1['minutesToClose']=_0x333b48['minutesToClose']??_0x68b0c1['minutesToClose'],_0x68b0c1[_0xcabc7b(0x384)]=_0x333b48['readMessages']??_0x68b0c1[_0xcabc7b(0x384)],_0x333b48[_0xcabc7b(0x4ba)]&&this[_0xcabc7b(0x644)][_0xcabc7b(0x2d2)][_0xcabc7b(0x2e7)]((_0x5a7b75,_0x183901)=>{_0x183901!==_0x1d4ef1&&(_0x5a7b75['default']=!0x1);}),this['AutomateSystem'][_0xcabc7b(0x2d2)][_0x1d4ef1]=_0x68b0c1,!await this['repository'][_0xcabc7b(0x72e)][_0xcabc7b(0xd6)]({'flows':this[_0xcabc7b(0x644)][_0xcabc7b(0x2d2)]},this[_0xcabc7b(0x6de)]['wuid']))throw new m(_0xcabc7b(0xab));}let _0x4fd2c0=[_0xcabc7b(0x462),'startID','sharePass',_0xcabc7b(0x3a3)];for(let _0x4d2ef6 of _0x4fd2c0)delete _0x333b48[_0x4d2ef6];if(_0x39584d['whoCanEdit']?.[_0xcabc7b(0x54e)](this[_0xcabc7b(0x6de)][_0xcabc7b(0x11a)])||(_0x333b48={'_id':_0x333b48[_0xcabc7b(0x646)]}),_0x18fc51!==$i&&_0x333b48?.['globalShow']&&!_0x39584d?.[_0xcabc7b(0x5dd)])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x69cbc1=new Set(_0x333b48[_0xcabc7b(0x33c)]??_0x39584d['whoCanEdit']);_0x69cbc1['add'](_0x39584d[_0xcabc7b(0x60d)]);let _0x1147f2=new Set(_0x333b48[_0xcabc7b(0x13a)]??_0x39584d[_0xcabc7b(0x13a)]??[]);_0x69cbc1[_0xcabc7b(0x2e7)](_0x300d1a=>_0x1147f2[_0xcabc7b(0x6fa)](_0x300d1a)),_0x1147f2[_0xcabc7b(0x6fa)](_0x39584d[_0xcabc7b(0x60d)]),this['logger']['verbose'](this[_0xcabc7b(0x246)]+'\x20('+this[_0xcabc7b(0x6de)]['wuid']+_0xcabc7b(0x124)+Array[_0xcabc7b(0x227)](_0x69cbc1)),this['logger'][_0xcabc7b(0x36c)](this[_0xcabc7b(0x246)]+'\x20('+this[_0xcabc7b(0x6de)][_0xcabc7b(0x11a)]+_0xcabc7b(0x1b5)+Array[_0xcabc7b(0x227)](_0x1147f2));let _0x5e011a=await this['getValidWhatsAppNumbers'](Array['from'](_0x1147f2)),_0x4ae901=Array[_0xcabc7b(0x227)](_0x69cbc1)[_0xcabc7b(0x716)](_0x50b8bd=>_0x5e011a[_0xcabc7b(0x54e)](_0x50b8bd)),_0x59c809=Array['from'](_0x1147f2)['filter'](_0x511b83=>_0x5e011a[_0xcabc7b(0x54e)](_0x511b83));this['logger'][_0xcabc7b(0x36c)](this['instanceName']+'\x20('+this[_0xcabc7b(0x6de)][_0xcabc7b(0x11a)]+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x4ae901),this[_0xcabc7b(0x41b)][_0xcabc7b(0x36c)](this[_0xcabc7b(0x246)]+'\x20('+this[_0xcabc7b(0x6de)][_0xcabc7b(0x11a)]+_0xcabc7b(0x52d)+_0x59c809);let _0x90e5fc={..._0x39584d,..._0x333b48,'whoCanEdit':_0x4ae901,'whoCanUse':_0x59c809},_0x5165fe=await this[_0xcabc7b(0x3b8)][_0xcabc7b(0x6d9)][_0xcabc7b(0x489)](_0x39584d[_0xcabc7b(0x646)],_0x90e5fc);return await this[_0xcabc7b(0x685)](),_0x5165fe;}catch(_0x35ed6a){let _0x5527a4='Erro\x20ao\x20alterar\x20fluxo',_0x1718ab=_0x35ed6a instanceof Error?_0x35ed6a['message']:typeof _0x35ed6a==_0xcabc7b(0x769)?JSON[_0xcabc7b(0x3d0)](_0x35ed6a):_0x35ed6a,_0x2a5135=_0x5527a4+':\x20'+_0x1718ab;throw this['logger'][_0xcabc7b(0x3d5)](this[_0xcabc7b(0x246)]+'\x20('+this[_0xcabc7b(0x6de)][_0xcabc7b(0x11a)]+_0xcabc7b(0x75f)+_0x2a5135),new m(_0x2a5135);}}async[a0_0x22ca69(0x763)](_0x10f745){const _0x1add1d=a0_0x22ca69;let _0x374f21={'numbers':_0x10f745};return(await this[_0x1add1d(0x6ab)](_0x374f21))[_0x1add1d(0x716)](_0x475814=>_0x475814[_0x1add1d(0x786)])[_0x1add1d(0x322)](_0x4521cb=>_0x4521cb[_0x1add1d(0x377)])[_0x1add1d(0x322)](_0x18a57b=>this['extractPhoneNumber'](_0x18a57b));}['extractPhoneNumber'](_0x21e6d3){const _0x5b28db=a0_0x22ca69;let _0x1f7b83=_0x21e6d3[_0x5b28db(0x44f)](/\d+/);return _0x1f7b83?_0x1f7b83[0x0]:'';}async[a0_0x22ca69(0x3c9)](_0x1f19a7){const _0x25d781=a0_0x22ca69;try{if(this[_0x25d781(0x41b)][_0x25d781(0x36c)](this[_0x25d781(0x246)]+'\x20('+this['instance'][_0x25d781(0x11a)]+'):\x20Editando\x20bloco...'),!this[_0x25d781(0x644)][_0x25d781(0x2d2)][_0x25d781(0x22d)](_0x50afe2=>_0x50afe2['_id']===_0x1f19a7['_id']))throw this[_0x25d781(0x41b)][_0x25d781(0x36c)](this[_0x25d781(0x246)]+'\x20('+this[_0x25d781(0x6de)][_0x25d781(0x11a)]+'):\x20Fluxo\x20\x27'+_0x1f19a7[_0x25d781(0x646)]+_0x25d781(0x638)),new m(_0x25d781(0x1ed));let _0x5cd9d9=await this[_0x25d781(0x3b8)][_0x25d781(0x6d9)][_0x25d781(0x743)]({'where':{'_id':_0x1f19a7[_0x25d781(0x646)]}});if(!_0x5cd9d9||!_0x5cd9d9['whoCanUse']?.[_0x25d781(0x54e)](this[_0x25d781(0x6de)][_0x25d781(0x11a)]))throw this['logger']['error'](this[_0x25d781(0x246)]+'\x20('+this[_0x25d781(0x6de)][_0x25d781(0x11a)]+'):\x20Flow\x20\x27'+_0x1f19a7[_0x25d781(0x646)]+_0x25d781(0xbe)),new m(_0x25d781(0x6d4)+_0x1f19a7[_0x25d781(0x646)]+_0x25d781(0xbe));if(!_0x5cd9d9[_0x25d781(0x33c)]?.[_0x25d781(0x54e)](this[_0x25d781(0x6de)][_0x25d781(0x11a)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {block:_0x42e26e}=_0x1f19a7;_0x42e26e?.[_0x25d781(0x6ad)]?this[_0x25d781(0x460)](_0x5cd9d9,_0x1f19a7):_0x42e26e?.[_0x25d781(0x552)]?this[_0x25d781(0x55d)](_0x5cd9d9,_0x1f19a7):_0x42e26e[_0x25d781(0x646)]?await this[_0x25d781(0x101)](_0x5cd9d9,_0x1f19a7):this[_0x25d781(0x3f3)](_0x5cd9d9,_0x1f19a7);let _0x504555=await this[_0x25d781(0x3b8)][_0x25d781(0x6d9)][_0x25d781(0x489)](_0x5cd9d9['_id'],_0x5cd9d9);if(!_0x504555)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x504555;}catch(_0x5ab49e){this[_0x25d781(0x1a7)](_0x25d781(0xdb)+_0x5ab49e[_0x25d781(0x3d1)]);}}async['copyBlock'](_0x6f6c56,_0x9825cd){const _0xaeac50=a0_0x22ca69;let _0x24ff0e=_0x9825cd[_0xaeac50(0x61e)][_0xaeac50(0x646)],_0xe5ad02=_0x6f6c56[_0xaeac50(0x382)]['find'](_0x19eade=>_0x19eade[_0xaeac50(0x646)][_0xaeac50(0x12e)]()===_0x24ff0e);if(!_0xe5ad02){this[_0xaeac50(0x41b)]['error'](this[_0xaeac50(0x246)]+'\x20('+this[_0xaeac50(0x6de)]['wuid']+_0xaeac50(0xa4)+_0x24ff0e+_0xaeac50(0x565));return;}this[_0xaeac50(0x41b)][_0xaeac50(0x36c)](this[_0xaeac50(0x246)]+'\x20('+this[_0xaeac50(0x6de)][_0xaeac50(0x11a)]+_0xaeac50(0x62a)+JSON['stringify'](_0xe5ad02));let _0x574a1e=JSON['parse'](JSON[_0xaeac50(0x3d0)](_0xe5ad02));_0x574a1e['_id']=new he[(_0xaeac50(0x4ba))][(_0xaeac50(0x5bd))][(_0xaeac50(0x4be))](),this[_0xaeac50(0x41b)][_0xaeac50(0x36c)](this[_0xaeac50(0x246)]+'\x20('+this[_0xaeac50(0x6de)][_0xaeac50(0x11a)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0xaeac50(0x3d0)](_0x574a1e)),_0x6f6c56[_0xaeac50(0x382)]['push'](_0x574a1e),this[_0xaeac50(0x2c7)](_0x6f6c56['blocks'],_0x574a1e[_0xaeac50(0x94)]);}[a0_0x22ca69(0x1a7)](_0x3f2582){const _0x570c29=a0_0x22ca69;throw this[_0x570c29(0x41b)]['error'](this[_0x570c29(0x246)]+'\x20('+this[_0x570c29(0x6de)][_0x570c29(0x11a)]+_0x570c29(0x75f)+_0x3f2582),new m(_0x3f2582);}[a0_0x22ca69(0x55d)](_0x3300cf,_0x58a703){const _0x4c2b0a=a0_0x22ca69;let {block:_0x2cc342}=_0x58a703;if(_0x2cc342['type']===_0x4c2b0a(0x5b9)){this[_0x4c2b0a(0x1a7)](_0x4c2b0a(0x330));return;}if(!_0x2cc342[_0x4c2b0a(0x646)]){this[_0x4c2b0a(0x1a7)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x53c99d=_0x3300cf[_0x4c2b0a(0x382)]['find'](_0x140d79=>_0x140d79[_0x4c2b0a(0x646)][_0x4c2b0a(0x12e)]()===_0x58a703[_0x4c2b0a(0x61e)]['_id'][_0x4c2b0a(0x12e)]());if(!_0x53c99d){this[_0x4c2b0a(0x1a7)](_0x4c2b0a(0xa6)+_0x2cc342[_0x4c2b0a(0x646)]+'\x20não\x20encontrado');return;}_0x3300cf['blocks']=_0x3300cf[_0x4c2b0a(0x382)][_0x4c2b0a(0x716)](_0x69af8a=>_0x69af8a[_0x4c2b0a(0x646)][_0x4c2b0a(0x12e)]()!==_0x58a703[_0x4c2b0a(0x61e)]['_id'][_0x4c2b0a(0x12e)]()),_0x3300cf[_0x4c2b0a(0x3fd)]=_0x3300cf['conditions'][_0x4c2b0a(0x716)](_0x1ffb0c=>_0x1ffb0c['blockId']!==_0x2cc342[_0x4c2b0a(0x646)][_0x4c2b0a(0x12e)]()),_0x3300cf[_0x4c2b0a(0x6f8)]=_0x3300cf[_0x4c2b0a(0x6f8)][_0x4c2b0a(0x716)](_0x21b51a=>_0x21b51a['blockId']!==_0x2cc342['_id']['toString']()),_0x3300cf[_0x4c2b0a(0x140)]=_0x3300cf[_0x4c2b0a(0x140)][_0x4c2b0a(0x716)](_0x20b68e=>_0x20b68e[_0x4c2b0a(0x152)]!==_0x2cc342[_0x4c2b0a(0x646)][_0x4c2b0a(0x12e)]()),this[_0x4c2b0a(0x2c7)](_0x3300cf[_0x4c2b0a(0x382)],_0x53c99d[_0x4c2b0a(0x94)]);}async[a0_0x22ca69(0x101)](_0x2eae09,_0x339ea2){const _0xbec7e4=a0_0x22ca69;let _0x1fc1a8=_0x2eae09[_0xbec7e4(0x382)]['findIndex'](_0xf63cab=>_0xf63cab[_0xbec7e4(0x646)][_0xbec7e4(0x12e)]()===_0x339ea2['block'][_0xbec7e4(0x646)][_0xbec7e4(0x12e)]());if(this[_0xbec7e4(0x41b)][_0xbec7e4(0x36c)](this[_0xbec7e4(0x246)]+'\x20('+this[_0xbec7e4(0x6de)][_0xbec7e4(0x11a)]+_0xbec7e4(0xe6)+_0x1fc1a8),_0x1fc1a8===-0x1){this['logger']['verbose']('Bloco\x20com\x20ID\x20'+_0x339ea2[_0xbec7e4(0x61e)][_0xbec7e4(0x646)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x2eae09['blocks'][_0x1fc1a8][_0xbec7e4(0x399)]==='start'){let _0x20060f=Object[_0xbec7e4(0x22b)](_0x339ea2[_0xbec7e4(0x61e)]);if(_0x20060f[_0xbec7e4(0x6a0)]>0x2||_0x20060f['length']===0x2&&!_0x20060f['includes']('next_groupId')){this[_0xbec7e4(0x1a7)](_0xbec7e4(0x494));return;}}let _0x1e7544=_0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8][_0xbec7e4(0x94)];for(let _0x3aaa34 in _0x339ea2[_0xbec7e4(0x61e)])_0x339ea2[_0xbec7e4(0x61e)]['hasOwnProperty'](_0x3aaa34)&&(_0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8][_0x3aaa34]=_0x339ea2[_0xbec7e4(0x61e)][_0x3aaa34]);if(this['logger'][_0xbec7e4(0x36c)](this['instanceName']+'\x20('+this[_0xbec7e4(0x6de)][_0xbec7e4(0x11a)]+_0xbec7e4(0xf3)+JSON[_0xbec7e4(0x3d0)](_0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8])),_0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8][_0xbec7e4(0x18a)]&&_0xbec7e4(0x4d5)in _0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8]['apirequest']){this[_0xbec7e4(0x41b)]['verbose'](this[_0xbec7e4(0x246)]+'\x20('+this[_0xbec7e4(0x6de)][_0xbec7e4(0x11a)]+_0xbec7e4(0x3f4));let _0x1aeff7=JSON[_0xbec7e4(0x3d0)](_0x2eae09['blocks'][_0x1fc1a8][_0xbec7e4(0x18a)]['header'],null,0x1);_0x1aeff7[_0xbec7e4(0x6a0)]>0x2&&(_0x1aeff7=_0x1aeff7['substring'](0x1,_0x1aeff7['length']-0x1)['trim']()),_0x2eae09['blocks'][_0x1fc1a8][_0xbec7e4(0x18a)][_0xbec7e4(0x420)]=_0x1aeff7;}if(_0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8]['apirequest']&&_0xbec7e4(0x53b)in _0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8][_0xbec7e4(0x18a)]&&!(_0xbec7e4(0x651)in _0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8][_0xbec7e4(0x18a)])){this['logger']['verbose'](this[_0xbec7e4(0x246)]+'\x20('+this[_0xbec7e4(0x6de)][_0xbec7e4(0x11a)]+_0xbec7e4(0x259)),_0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8][_0xbec7e4(0x18a)][_0xbec7e4(0x190)]=!0x1;let _0x55a5e7=JSON[_0xbec7e4(0x3d0)](_0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8][_0xbec7e4(0x18a)]['body'],null,0x2);_0x2eae09['blocks'][_0x1fc1a8][_0xbec7e4(0x18a)][_0xbec7e4(0x651)]=_0x55a5e7;}if(_0x2eae09['blocks'][_0x1fc1a8][_0xbec7e4(0x18a)]&&_0xbec7e4(0x651)in _0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8][_0xbec7e4(0x18a)]){_0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8][_0xbec7e4(0x18a)][_0xbec7e4(0x190)]=!0x1;let _0x5b17cf=_0x2eae09['blocks'][_0x1fc1a8][_0xbec7e4(0x18a)][_0xbec7e4(0x651)],_0x40092a=this['beautifyWithPlaceholders'](_0x5b17cf);_0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8][_0xbec7e4(0x18a)][_0xbec7e4(0x651)]=_0x40092a[_0xbec7e4(0xa9)],_0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8]['apirequest'][_0xbec7e4(0x190)]=_0x40092a[_0xbec7e4(0x3d5)];}let _0x374715=_0x2eae09[_0xbec7e4(0x382)][_0x1fc1a8]['groupId'];_0x1e7544!==_0x374715?(this[_0xbec7e4(0x2c7)](_0x2eae09['blocks'],_0x1e7544),this[_0xbec7e4(0x2c7)](_0x2eae09[_0xbec7e4(0x382)],_0x374715)):this[_0xbec7e4(0x2c7)](_0x2eae09[_0xbec7e4(0x382)],_0x1e7544);}[a0_0x22ca69(0x4b2)](_0x3013aa){const _0x9a1cc3=a0_0x22ca69;let _0xa4c627='\u205f',_0x16c3ed=!0x1,_0x435288='';for(let _0x572824=0x0;_0x572824<_0x3013aa[_0x9a1cc3(0x6a0)];_0x572824++){let _0x4986eb=_0x3013aa[_0x572824];_0x4986eb==='\x22'&&(_0x572824===0x0||_0x3013aa[_0x572824-0x1]!=='\x5c')&&(_0x16c3ed=!_0x16c3ed),!(!_0x16c3ed&&(_0x4986eb==='\x0a'||_0x4986eb==='\x20'||_0x4986eb===_0xa4c627))&&(_0x435288+=_0x4986eb);}let _0x49b4f9={},_0x563c08=9876543210.1234,_0x578d71=_0x435288['replace'](/\{\{([^}]+)\}\}/g,_0x4beb53=>{let _0xea3839=_0x4beb53,_0xd625ca=''+_0x563c08;return _0x49b4f9[_0xd625ca]=_0xea3839,_0x563c08+=0.0001,_0xd625ca;}),_0x120423='',_0x81de13=!0x1;try{let _0x1fbe52=JSON[_0x9a1cc3(0x4d0)](_0x578d71);_0x120423=JSON[_0x9a1cc3(0x3d0)](_0x1fbe52,null,0x2),_0x120423=_0x120423[_0x9a1cc3(0x1f1)](/\n( +)/g,(_0x97ea59,_0x3d687a)=>{const _0x86b01=_0x9a1cc3;let _0x364296=_0x3d687a['length'];return'\x0a'+_0xa4c627[_0x86b01(0x4a5)](_0x364296*0x2);}),_0x120423=_0x120423[_0x9a1cc3(0x1f1)](/(\d{10,}\.\d+)/g,_0x585ba9=>_0x49b4f9[_0x585ba9]||_0x585ba9);}catch(_0x60b866){this[_0x9a1cc3(0x41b)][_0x9a1cc3(0x3d5)](_0x9a1cc3(0x537)+_0x60b866),_0x120423=_0x3013aa,_0x81de13=!0x0;}return{'result':_0x120423,'error':_0x81de13};}[a0_0x22ca69(0x3f3)](_0x29c472,_0x546683){const _0x414acb=a0_0x22ca69;if(_0x546683[_0x414acb(0x61e)][_0x414acb(0x399)]===_0x414acb(0x5b9)){this[_0x414acb(0x1a7)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x546683[_0x414acb(0x61e)][_0x414acb(0x18a)]&&_0x414acb(0x4d5)in _0x546683['block']['apirequest']){this['logger'][_0x414acb(0x36c)](this['instanceName']+'\x20('+this[_0x414acb(0x6de)][_0x414acb(0x11a)]+_0x414acb(0x3f4));let _0xf9f2db=JSON['stringify'](_0x546683[_0x414acb(0x61e)][_0x414acb(0x18a)][_0x414acb(0x4d5)],null,0x1);_0xf9f2db[_0x414acb(0x6a0)]>0x2&&(_0xf9f2db=_0xf9f2db[_0x414acb(0x352)](0x1,_0xf9f2db['length']-0x1)['trim']()),_0x546683[_0x414acb(0x61e)][_0x414acb(0x18a)][_0x414acb(0x420)]=_0xf9f2db;}_0x546683[_0x414acb(0x61e)][_0x414acb(0x18a)]&&_0x414acb(0x53b)in _0x546683[_0x414acb(0x61e)][_0x414acb(0x18a)]&&(this[_0x414acb(0x41b)][_0x414acb(0x36c)](this['instanceName']+'\x20('+this[_0x414acb(0x6de)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x546683[_0x414acb(0x61e)][_0x414acb(0x18a)]['bodyString']=JSON['stringify'](_0x546683['block'][_0x414acb(0x18a)]['body'],null,0x1)[_0x414acb(0x585)]()),_0x29c472[_0x414acb(0x382)]['push'](_0x546683[_0x414acb(0x61e)]),this[_0x414acb(0x2c7)](_0x29c472[_0x414acb(0x382)],_0x546683['block'][_0x414acb(0x94)]);}[a0_0x22ca69(0x2c7)](_0x1bf9ae,_0x5523fd){const _0x2c9b5a=a0_0x22ca69;let _0x5c0f0a=_0x1bf9ae['filter'](_0x4eaed4=>_0x4eaed4[_0x2c9b5a(0x94)]===_0x5523fd);_0x5c0f0a[_0x2c9b5a(0x3a1)]((_0x1a6e8c,_0x2c760f)=>_0x1a6e8c['order']-_0x2c760f[_0x2c9b5a(0x66e)]),_0x5c0f0a['forEach']((_0x2e2f3c,_0x435647)=>_0x2e2f3c[_0x2c9b5a(0x66e)]=_0x435647+0x1);}async[a0_0x22ca69(0x104)](_0x53d827){const _0x164ee1=a0_0x22ca69;try{if(this[_0x164ee1(0x41b)]['verbose'](this[_0x164ee1(0x246)]+'\x20('+this['instance'][_0x164ee1(0x11a)]+_0x164ee1(0x295)),!_0x53d827||!_0x53d827[_0x164ee1(0x6d1)]){this['throwAndLogError'](_0x164ee1(0x350));return;}if(!this['AutomateSystem'][_0x164ee1(0x2d2)]['find'](_0x2294b6=>_0x2294b6[_0x164ee1(0x646)]===_0x53d827[_0x164ee1(0x646)]))throw this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x164ee1(0x6de)][_0x164ee1(0x11a)]+_0x164ee1(0x272)+_0x53d827[_0x164ee1(0x646)]+_0x164ee1(0x638)),new m(_0x164ee1(0x1ed));let _0x51bd89=await this[_0x164ee1(0x3b8)][_0x164ee1(0x6d9)]['findOne']({'where':{'_id':_0x53d827[_0x164ee1(0x646)]}});if(!_0x51bd89||!_0x51bd89['whoCanUse']?.['includes'](this['instance'][_0x164ee1(0x11a)]))throw this[_0x164ee1(0x41b)][_0x164ee1(0x3d5)](this['instanceName']+'\x20('+this['instance'][_0x164ee1(0x11a)]+'):\x20Flow\x20\x27'+_0x53d827['_id']+_0x164ee1(0xbe)),new m('Flow\x20\x27'+_0x53d827['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x51bd89[_0x164ee1(0x33c)]?.['includes'](this[_0x164ee1(0x6de)][_0x164ee1(0x11a)]))throw new m(_0x164ee1(0x19e));let {replyOption:_0x4b469c}=_0x53d827;_0x4b469c?.[_0x164ee1(0x552)]?(this[_0x164ee1(0x665)](_0x51bd89,_0x53d827),this[_0x164ee1(0x406)](_0x51bd89[_0x164ee1(0x140)],_0x53d827[_0x164ee1(0x6d1)][_0x164ee1(0x152)])):_0x4b469c['_id']?(await this[_0x164ee1(0x145)](_0x51bd89,_0x53d827),this['reorderReplyOptions'](_0x51bd89[_0x164ee1(0x140)],_0x53d827[_0x164ee1(0x6d1)][_0x164ee1(0x152)])):(this[_0x164ee1(0x53a)](_0x51bd89,_0x53d827),this[_0x164ee1(0x406)](_0x51bd89[_0x164ee1(0x140)],_0x53d827[_0x164ee1(0x6d1)][_0x164ee1(0x152)]));let _0x35e613=await this[_0x164ee1(0x3b8)][_0x164ee1(0x6d9)][_0x164ee1(0x489)](_0x51bd89[_0x164ee1(0x646)],_0x51bd89);if(!_0x35e613)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x35e613;}catch(_0x1bc397){this[_0x164ee1(0x1a7)](_0x164ee1(0x341)+_0x1bc397);}}['reorderReplyOptions'](_0x2ff892,_0xf734f4){const _0x585364=a0_0x22ca69;_0x2ff892['forEach'](_0x2685f2=>{const _0x3b69ea=a0_0x18ed;_0x2685f2[_0x3b69ea(0x152)]===_0xf734f4&&_0x2685f2['order']===void 0x0&&(_0x2685f2[_0x3b69ea(0x66e)]=0x270f);});let _0x45fc65=_0x2ff892[_0x585364(0x716)](_0x18b6fa=>_0x18b6fa[_0x585364(0x152)]===_0xf734f4);_0x45fc65[_0x585364(0x3a1)]((_0x141a5e,_0xe68726)=>_0x141a5e[_0x585364(0x66e)]-_0xe68726[_0x585364(0x66e)]),_0x45fc65[_0x585364(0x2e7)]((_0x3b4ea6,_0x3b10f2)=>{const _0x1a1e49=_0x585364;_0x3b4ea6[_0x1a1e49(0x66e)]=_0x3b10f2+0x1;}),_0x2ff892[_0x585364(0x2e7)](_0x26ad84=>{const _0x4b0ef2=_0x585364;if(_0x26ad84['blockId']===_0xf734f4){let _0x384f87=_0x45fc65[_0x4b0ef2(0x22d)](_0x50c3b9=>_0x50c3b9[_0x4b0ef2(0x646)]&&_0x26ad84[_0x4b0ef2(0x646)]&&_0x50c3b9['_id'][_0x4b0ef2(0x12e)]()===_0x26ad84['_id'][_0x4b0ef2(0x12e)]());_0x384f87&&(_0x26ad84['order']=_0x384f87['order']);}});}['deleteReplyOption'](_0x19ebd4,_0x22a2d2){const _0x4a70b6=a0_0x22ca69;let {replyOption:_0x24b0d9}=_0x22a2d2;if(!_0x24b0d9[_0x4a70b6(0x646)]){this[_0x4a70b6(0x1a7)](_0x4a70b6(0x202));return;}if(!_0x19ebd4[_0x4a70b6(0x140)][_0x4a70b6(0x22d)](_0x4199ea=>_0x4199ea['_id'][_0x4a70b6(0x12e)]()===_0x22a2d2[_0x4a70b6(0x6d1)][_0x4a70b6(0x646)][_0x4a70b6(0x12e)]())){this[_0x4a70b6(0x1a7)](_0x4a70b6(0x6c7)+_0x24b0d9[_0x4a70b6(0x646)]+'\x20não\x20encontrado');return;}_0x19ebd4[_0x4a70b6(0x140)]=_0x19ebd4[_0x4a70b6(0x140)][_0x4a70b6(0x716)](_0x580ddc=>_0x580ddc['_id'][_0x4a70b6(0x12e)]()!==_0x22a2d2[_0x4a70b6(0x6d1)][_0x4a70b6(0x646)]['toString']());}async[a0_0x22ca69(0x145)](_0x505183,_0x17064b){const _0x286af1=a0_0x22ca69;let _0x270a22=_0x505183[_0x286af1(0x140)][_0x286af1(0x192)](_0x38c36=>_0x38c36[_0x286af1(0x646)][_0x286af1(0x12e)]()===_0x17064b[_0x286af1(0x6d1)][_0x286af1(0x646)]['toString']());if(_0x270a22===-0x1){this[_0x286af1(0x1a7)](_0x286af1(0x6c7)+_0x17064b[_0x286af1(0x6d1)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0xdfcf9f in _0x17064b[_0x286af1(0x6d1)])_0x17064b[_0x286af1(0x6d1)][_0x286af1(0x4ea)](_0xdfcf9f)&&(_0x505183[_0x286af1(0x140)][_0x270a22][_0xdfcf9f]=_0x17064b[_0x286af1(0x6d1)][_0xdfcf9f]);}[a0_0x22ca69(0x53a)](_0x5ec32c,_0x329958){_0x5ec32c['replyOptions']['push'](_0x329958['replyOption']);}async[a0_0x22ca69(0x2f5)](_0x365f04){const _0x530775=a0_0x22ca69;this[_0x530775(0x41b)][_0x530775(0x36c)](this[_0x530775(0x246)]+'\x20('+this[_0x530775(0x6de)][_0x530775(0x11a)]+_0x530775(0x31b)+JSON[_0x530775(0x3d0)](_0x365f04,null,0x2));try{if(this[_0x530775(0x41b)]['verbose'](this[_0x530775(0x246)]+'\x20('+this[_0x530775(0x6de)]['wuid']+'):\x20Editando\x20grupo\x20do\x20fluxo...'),!this[_0x530775(0x644)][_0x530775(0x2d2)][_0x530775(0x22d)](_0x49a114=>_0x49a114[_0x530775(0x646)]===_0x365f04['_id']))throw this[_0x530775(0x41b)][_0x530775(0x36c)](this[_0x530775(0x246)]+'\x20('+this[_0x530775(0x6de)]['wuid']+_0x530775(0x272)+_0x365f04[_0x530775(0x646)]+_0x530775(0x638)),new m(_0x530775(0x1ed));let _0x12ca56=await this[_0x530775(0x3b8)][_0x530775(0x6d9)][_0x530775(0x743)]({'where':{'_id':_0x365f04[_0x530775(0x646)]}});if(!_0x12ca56||!_0x12ca56[_0x530775(0x13a)]?.['includes'](this[_0x530775(0x6de)]['wuid']))throw this[_0x530775(0x41b)][_0x530775(0x3d5)](this[_0x530775(0x246)]+'\x20('+this[_0x530775(0x6de)][_0x530775(0x11a)]+_0x530775(0x3c5)+_0x365f04['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x365f04['_id']+_0x530775(0xbe));if(!_0x12ca56[_0x530775(0x33c)]?.[_0x530775(0x54e)](this['instance'][_0x530775(0x11a)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');if(_0x365f04[_0x530775(0x280)]&&_0x365f04[_0x530775(0x280)]?.[_0x530775(0x552)]===!0x0){if(this['logger'][_0x530775(0x36c)](this[_0x530775(0x246)]+'\x20('+this[_0x530775(0x6de)][_0x530775(0x11a)]+_0x530775(0x41a)),_0x365f04['group'][_0x530775(0x4ba)]===!0x0)return{'message':_0x530775(0x3d7)};if(_0x12ca56[_0x530775(0x382)][_0x530775(0x1ab)](_0x1bffa9=>_0x1bffa9[_0x530775(0x94)][_0x530775(0x12e)]()===_0x365f04[_0x530775(0x280)]['_id']))return this['logger'][_0x530775(0x36c)](this[_0x530775(0x246)]+'\x20('+this[_0x530775(0x6de)][_0x530775(0x11a)]+_0x530775(0x42f)),{'message':_0x530775(0x3dc)};_0x12ca56[_0x530775(0x4b9)]=_0x12ca56[_0x530775(0x4b9)]['filter'](_0x59d1fa=>_0x59d1fa['_id']['toString']()!==_0x365f04[_0x530775(0x280)][_0x530775(0x646)]);}else{if(_0x365f04[_0x530775(0x280)]){if(_0x365f04[_0x530775(0x280)]['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x365f04[_0x530775(0x280)][_0x530775(0x646)]){let _0x188e73=_0x12ca56['groups'][_0x530775(0x22d)](_0x1e99b7=>_0x1e99b7[_0x530775(0x646)][_0x530775(0x12e)]()===_0x365f04[_0x530775(0x280)][_0x530775(0x646)]);_0x188e73&&(_0x365f04[_0x530775(0x280)]['x']<0x0&&(_0x365f04['group']['x']=0x0),_0x365f04[_0x530775(0x280)]['y']<0x0&&(_0x365f04[_0x530775(0x280)]['y']=0x0),Object[_0x530775(0x6c0)](_0x188e73,_0x365f04['group']));}else _0x12ca56[_0x530775(0x4b9)][_0x530775(0x35a)](_0x365f04[_0x530775(0x280)]);}}let _0x234522=await this[_0x530775(0x3b8)][_0x530775(0x6d9)][_0x530775(0x489)](_0x12ca56[_0x530775(0x646)],_0x12ca56);if(!_0x234522)throw new Error(_0x530775(0x756));return _0x234522;}catch(_0x1519f4){let _0x1fee4b=_0x530775(0x21b),_0xa3da23=_0x1519f4 instanceof Error?_0x1519f4[_0x530775(0x3d1)]:typeof _0x1519f4==_0x530775(0x769)?JSON[_0x530775(0x3d0)](_0x1519f4):_0x1519f4,_0x3c6d95=_0x1fee4b+':\x20'+_0xa3da23;throw this['logger'][_0x530775(0x3d5)](this['instanceName']+'\x20('+this[_0x530775(0x6de)][_0x530775(0x11a)]+_0x530775(0x75f)+_0x3c6d95),new m(_0x3c6d95);}}async[a0_0x22ca69(0x6c4)](_0x590062){const _0x441426=a0_0x22ca69;try{if(this[_0x441426(0x41b)][_0x441426(0x36c)](this['instanceName']+'\x20('+this['instance'][_0x441426(0x11a)]+'):\x20Editando\x20condição\x20do\x20fluxo...'),!this[_0x441426(0x644)][_0x441426(0x2d2)][_0x441426(0x22d)](_0x15ac97=>_0x15ac97[_0x441426(0x646)]===_0x590062['_id']))throw this[_0x441426(0x41b)]['verbose'](this[_0x441426(0x246)]+'\x20('+this[_0x441426(0x6de)][_0x441426(0x11a)]+'):\x20Fluxo\x20\x27'+_0x590062[_0x441426(0x646)]+_0x441426(0x638)),new m(_0x441426(0x1ed));let _0x49f721=await this['repository']['flow']['findOne']({'where':{'_id':_0x590062[_0x441426(0x646)]}});if(!_0x49f721||!_0x49f721[_0x441426(0x13a)]?.[_0x441426(0x54e)](this[_0x441426(0x6de)]['wuid']))throw this[_0x441426(0x41b)][_0x441426(0x3d5)](this[_0x441426(0x246)]+'\x20('+this[_0x441426(0x6de)]['wuid']+_0x441426(0x3c5)+_0x590062['_id']+_0x441426(0xbe)),new m('Flow\x20\x27'+_0x590062[_0x441426(0x646)]+_0x441426(0xbe));if(!_0x49f721[_0x441426(0x33c)]?.[_0x441426(0x54e)](this[_0x441426(0x6de)]['wuid']))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x1414c4=!0x1;if(_0x590062['condition']?.['delete']===!0x0)_0x49f721[_0x441426(0x3fd)]=_0x49f721[_0x441426(0x3fd)][_0x441426(0x716)](_0x16bff6=>_0x16bff6&&_0x590062['condition']&&_0x16bff6['_id']&&_0x590062[_0x441426(0x2d0)][_0x441426(0x646)]&&_0x16bff6[_0x441426(0x646)][_0x441426(0x12e)]()!==_0x590062['condition'][_0x441426(0x646)][_0x441426(0x12e)]()),_0x1414c4=!0x0;else{let _0x8f0d46=_0x49f721[_0x441426(0x3fd)][_0x441426(0x22d)](_0x577bd7=>_0x577bd7&&_0x590062[_0x441426(0x2d0)]&&_0x577bd7[_0x441426(0x646)]&&_0x590062[_0x441426(0x2d0)][_0x441426(0x646)]&&_0x577bd7['_id'][_0x441426(0x12e)]()===_0x590062['condition']['_id'][_0x441426(0x12e)]());_0x8f0d46?(_0x1414c4=_0x8f0d46[_0x441426(0x66e)]!==_0x590062[_0x441426(0x2d0)][_0x441426(0x66e)],Object[_0x441426(0x6c0)](_0x8f0d46,_0x590062[_0x441426(0x2d0)])):(_0x49f721[_0x441426(0x3fd)][_0x441426(0x35a)](_0x590062[_0x441426(0x2d0)]),_0x1414c4=!0x0);}if(_0x1414c4){_0x49f721[_0x441426(0x3fd)]['sort']((_0x594fd3,_0x5c3c17)=>_0x594fd3['order']>_0x5c3c17['order']?0x1:_0x5c3c17['order']>_0x594fd3[_0x441426(0x66e)]?-0x1:0x0);for(let _0x5ed099=0x0;_0x5ed099<_0x49f721[_0x441426(0x3fd)]['length'];_0x5ed099++)_0x49f721[_0x441426(0x3fd)][_0x5ed099][_0x441426(0x66e)]=_0x5ed099+0x1;_0x49f721[_0x441426(0x3fd)][_0x441426(0x6a0)]>0x0&&(_0x49f721[_0x441426(0x3fd)][0x0][_0x441426(0x54c)]='and');}let _0x27969c=await this[_0x441426(0x3b8)][_0x441426(0x6d9)]['updateOne'](_0x49f721['_id'],_0x49f721);if(!_0x27969c)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x27969c;}catch(_0x1535d3){let _0xd8d6d2=_0x441426(0x6f1),_0x10ccd1=_0x1535d3 instanceof Error?_0x1535d3[_0x441426(0x3d1)]:typeof _0x1535d3==_0x441426(0x769)?JSON[_0x441426(0x3d0)](_0x1535d3):_0x1535d3,_0x487d9e=_0xd8d6d2+':\x20'+_0x10ccd1;throw this['logger'][_0x441426(0x3d5)](this[_0x441426(0x246)]+'\x20('+this[_0x441426(0x6de)][_0x441426(0x11a)]+'):\x20'+_0x487d9e),new m(_0x487d9e);}}async[a0_0x22ca69(0x56c)](_0x2e045a){const _0x5f5b7b=a0_0x22ca69;try{if(this['logger'][_0x5f5b7b(0x36c)](this[_0x5f5b7b(0x246)]+'\x20('+this[_0x5f5b7b(0x6de)][_0x5f5b7b(0x11a)]+_0x5f5b7b(0x613)),!this[_0x5f5b7b(0x644)][_0x5f5b7b(0x2d2)][_0x5f5b7b(0x22d)](_0x4d584f=>_0x4d584f[_0x5f5b7b(0x646)]===_0x2e045a[_0x5f5b7b(0x646)]))throw this['logger'][_0x5f5b7b(0x36c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5f5b7b(0x272)+_0x2e045a[_0x5f5b7b(0x646)]+'\x27\x20não\x20encontrado'),new m(_0x5f5b7b(0x1ed));let _0xcdcd2b=await this[_0x5f5b7b(0x3b8)][_0x5f5b7b(0x6d9)]['findOne']({'where':{'_id':_0x2e045a[_0x5f5b7b(0x646)]}});if(!_0xcdcd2b||!_0xcdcd2b[_0x5f5b7b(0x13a)]?.['includes'](this[_0x5f5b7b(0x6de)][_0x5f5b7b(0x11a)]))throw this[_0x5f5b7b(0x41b)][_0x5f5b7b(0x3d5)](this[_0x5f5b7b(0x246)]+'\x20('+this[_0x5f5b7b(0x6de)][_0x5f5b7b(0x11a)]+'):\x20Flow\x20\x27'+_0x2e045a[_0x5f5b7b(0x646)]+_0x5f5b7b(0xbe)),new m(_0x5f5b7b(0x6d4)+_0x2e045a['_id']+_0x5f5b7b(0xbe));if(!_0xcdcd2b[_0x5f5b7b(0x33c)]?.[_0x5f5b7b(0x54e)](this[_0x5f5b7b(0x6de)][_0x5f5b7b(0x11a)]))throw new m(_0x5f5b7b(0x19e));let _0x277c17=!0x1;if(_0x2e045a[_0x5f5b7b(0x7b5)]?.['delete']===!0x0)_0xcdcd2b[_0x5f5b7b(0x6f8)]=_0xcdcd2b[_0x5f5b7b(0x6f8)]['filter'](_0x28de5a=>_0x28de5a&&_0x2e045a[_0x5f5b7b(0x7b5)]&&_0x28de5a['_id']&&_0x2e045a[_0x5f5b7b(0x7b5)]['_id']&&_0x28de5a['_id'][_0x5f5b7b(0x12e)]()!==_0x2e045a[_0x5f5b7b(0x7b5)]['_id'][_0x5f5b7b(0x12e)]()),_0x277c17=!0x0;else{let _0xc74a04=_0xcdcd2b['varedits'][_0x5f5b7b(0x22d)](_0x48bc40=>_0x48bc40&&_0x2e045a[_0x5f5b7b(0x7b5)]&&_0x48bc40[_0x5f5b7b(0x646)]&&_0x2e045a[_0x5f5b7b(0x7b5)][_0x5f5b7b(0x646)]&&_0x48bc40['_id']['toString']()===_0x2e045a[_0x5f5b7b(0x7b5)]['_id'][_0x5f5b7b(0x12e)]());_0xc74a04?(_0x277c17=_0xc74a04['order']!==_0x2e045a[_0x5f5b7b(0x7b5)][_0x5f5b7b(0x66e)],Object[_0x5f5b7b(0x6c0)](_0xc74a04,_0x2e045a[_0x5f5b7b(0x7b5)])):(_0xcdcd2b['varedits'][_0x5f5b7b(0x35a)](_0x2e045a[_0x5f5b7b(0x7b5)]),_0x277c17=!0x0);}if(_0x277c17){_0xcdcd2b[_0x5f5b7b(0x6f8)]['sort']((_0x2b4052,_0x95a75b)=>_0x2b4052[_0x5f5b7b(0x66e)]>_0x95a75b[_0x5f5b7b(0x66e)]?0x1:_0x95a75b['order']>_0x2b4052[_0x5f5b7b(0x66e)]?-0x1:0x0);for(let _0x1a28ac=0x0;_0x1a28ac<_0xcdcd2b[_0x5f5b7b(0x6f8)][_0x5f5b7b(0x6a0)];_0x1a28ac++)_0xcdcd2b[_0x5f5b7b(0x6f8)][_0x1a28ac][_0x5f5b7b(0x66e)]=_0x1a28ac+0x1;}let _0x4501ef=await this[_0x5f5b7b(0x3b8)][_0x5f5b7b(0x6d9)][_0x5f5b7b(0x489)](_0xcdcd2b[_0x5f5b7b(0x646)],_0xcdcd2b);if(!_0x4501ef)throw new Error(_0x5f5b7b(0x756));return _0x4501ef;}catch(_0x5ec5d2){let _0x277021=_0x5f5b7b(0x6f1),_0x27f8ff=_0x5ec5d2 instanceof Error?_0x5ec5d2[_0x5f5b7b(0x3d1)]:typeof _0x5ec5d2==_0x5f5b7b(0x769)?JSON[_0x5f5b7b(0x3d0)](_0x5ec5d2):_0x5ec5d2,_0x2d0197=_0x277021+':\x20'+_0x27f8ff;throw this[_0x5f5b7b(0x41b)][_0x5f5b7b(0x3d5)](this[_0x5f5b7b(0x246)]+'\x20('+this[_0x5f5b7b(0x6de)][_0x5f5b7b(0x11a)]+_0x5f5b7b(0x75f)+_0x2d0197),new m(_0x2d0197);}}async[a0_0x22ca69(0x7da)](_0x40aef9){const _0x34e2ab=a0_0x22ca69;try{if(this['logger'][_0x34e2ab(0x36c)](this[_0x34e2ab(0x246)]+'\x20('+this[_0x34e2ab(0x6de)]['wuid']+_0x34e2ab(0x7de)),!this[_0x34e2ab(0x644)][_0x34e2ab(0x2d2)]['find'](_0x597367=>_0x597367[_0x34e2ab(0x646)]===_0x40aef9[_0x34e2ab(0x646)]))throw this[_0x34e2ab(0x41b)][_0x34e2ab(0x36c)](this['instanceName']+'\x20('+this[_0x34e2ab(0x6de)][_0x34e2ab(0x11a)]+_0x34e2ab(0x272)+_0x40aef9['_id']+'\x27\x20não\x20encontrado'),new m(_0x34e2ab(0x1ed));let _0x15cbca=await this[_0x34e2ab(0x3b8)][_0x34e2ab(0x6d9)]['findOne']({'where':{'_id':_0x40aef9[_0x34e2ab(0x646)]}});if(!_0x15cbca||!_0x15cbca[_0x34e2ab(0x13a)]?.[_0x34e2ab(0x54e)](this[_0x34e2ab(0x6de)][_0x34e2ab(0x11a)]))throw this[_0x34e2ab(0x41b)]['error'](this[_0x34e2ab(0x246)]+'\x20('+this[_0x34e2ab(0x6de)]['wuid']+_0x34e2ab(0x3c5)+_0x40aef9[_0x34e2ab(0x646)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x34e2ab(0x6d4)+_0x40aef9['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x15cbca['whoCanEdit']?.[_0x34e2ab(0x54e)](this[_0x34e2ab(0x6de)]['wuid']))throw new m(_0x34e2ab(0x19e));_0x40aef9[_0x34e2ab(0x133)][_0x34e2ab(0x7cc)]=_0x40aef9[_0x34e2ab(0x133)][_0x34e2ab(0x7cc)]['trim'](),_0x40aef9['variable'][_0x34e2ab(0x7cc)]['startsWith']('_')&&(_0x40aef9[_0x34e2ab(0x133)][_0x34e2ab(0x7cc)]=_0x40aef9['variable']['name'][_0x34e2ab(0x352)](0x1)),_0x40aef9['variable']['name']=_0x40aef9[_0x34e2ab(0x133)][_0x34e2ab(0x7cc)][_0x34e2ab(0x585)]();let _0x2564fd=_0x15cbca['variables'][_0x34e2ab(0x22d)](_0x3e8225=>_0x3e8225['name']===_0x40aef9[_0x34e2ab(0x133)][_0x34e2ab(0x7cc)]);if(_0x2564fd?.[_0x34e2ab(0x392)]===!0x0)throw new Error(_0x34e2ab(0x64c));if(_0x40aef9[_0x34e2ab(0x133)]?.['delete']===!0x0){if(!_0x2564fd)return{'message':_0x34e2ab(0x603)};_0x15cbca[_0x34e2ab(0x14e)]=_0x15cbca[_0x34e2ab(0x14e)][_0x34e2ab(0x716)](_0x301004=>_0x301004[_0x34e2ab(0x7cc)]!==_0x40aef9[_0x34e2ab(0x133)][_0x34e2ab(0x7cc)]);}else _0x2564fd?Object['assign'](_0x2564fd,_0x40aef9['variable']):_0x15cbca[_0x34e2ab(0x14e)][_0x34e2ab(0x35a)](_0x40aef9[_0x34e2ab(0x133)]);let _0x1dbda3=await this[_0x34e2ab(0x3b8)][_0x34e2ab(0x6d9)][_0x34e2ab(0x489)](_0x15cbca['_id'],_0x15cbca);if(!_0x1dbda3)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1dbda3;}catch(_0x59bfdb){let _0x194d20='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x24aabf=_0x59bfdb instanceof Error?_0x59bfdb['message']:typeof _0x59bfdb=='object'?JSON[_0x34e2ab(0x3d0)](_0x59bfdb):_0x59bfdb,_0x5e4ece=_0x194d20+':\x20'+_0x24aabf;throw this[_0x34e2ab(0x41b)][_0x34e2ab(0x3d5)](this[_0x34e2ab(0x246)]+'\x20('+this[_0x34e2ab(0x6de)]['wuid']+_0x34e2ab(0x75f)+_0x5e4ece),new m(_0x5e4ece);}}async[a0_0x22ca69(0x746)](_0x1155c7){const _0x196063=a0_0x22ca69;let _0x28f01c=null;try{if(!this['AutomateSystem']?.[_0x196063(0x60b)][_0x196063(0x7db)])throw new m('Fluxos\x20não\x20estão\x20ativados');this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x196063(0x11a)]+_0x196063(0x26b));let _0x5df6f3=(await this[_0x196063(0x6ab)]({'numbers':[_0x1155c7['remoteJid']]}))[0x0];if(!_0x5df6f3[_0x196063(0x786)]&&!(0x0,w[_0x196063(0x164)])(_0x5df6f3['jid'])&&!_0x5df6f3['jid'][_0x196063(0x54e)](_0x196063(0x32a)))throw _0x28f01c=JSON['stringify'](_0x5df6f3,null,0x2),new m(_0x5df6f3);let _0xcdb8bf;if(_0x1155c7[_0x196063(0x7cc)][_0x196063(0x6a0)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x196063(0x3da)](_0x1155c7['name'])?_0xcdb8bf=this['AutomateSystem'][_0x196063(0x2d2)][_0x196063(0x22d)](_0x255b73=>_0x255b73[_0x196063(0x646)]===_0x1155c7[_0x196063(0x7cc)]):_0xcdb8bf=this[_0x196063(0x644)][_0x196063(0x2d2)][_0x196063(0x22d)](_0xa38cfb=>_0xa38cfb[_0x196063(0x7cc)]===_0x1155c7['name']),!_0xcdb8bf)throw this[_0x196063(0x41b)]['verbose'](this[_0x196063(0x246)]+'\x20('+this[_0x196063(0x6de)][_0x196063(0x11a)]+_0x196063(0x272)+_0x1155c7[_0x196063(0x7cc)]+_0x196063(0x638)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x22f54e=await this[_0x196063(0x3b8)]['flow'][_0x196063(0x743)]({'where':{'_id':_0xcdb8bf['_id']}});if(!_0x22f54e||!_0x22f54e[_0x196063(0x13a)]?.[_0x196063(0x54e)](this[_0x196063(0x6de)][_0x196063(0x11a)]))throw this[_0x196063(0x41b)]['error'](this['instanceName']+'\x20('+this[_0x196063(0x6de)]['wuid']+_0x196063(0x3c5)+_0xcdb8bf[_0x196063(0x646)]+_0x196063(0xbe)),_0x28f01c=_0x196063(0x6d4)+_0xcdb8bf[_0x196063(0x646)]+_0x196063(0xbe),new m(_0x28f01c);let _0x2d33f9=await this[_0x196063(0x5e6)](_0x22f54e,_0x5df6f3[_0x196063(0x377)],_0x1155c7[_0x196063(0x5f5)]);if(_0x2d33f9){this[_0x196063(0x41b)][_0x196063(0x36c)](this[_0x196063(0x246)]+'\x20('+this[_0x196063(0x6de)][_0x196063(0x11a)]+_0x196063(0x523));let _0x5a8dfb=await this['NextBlock'](_0x2d33f9);return _0x5a8dfb&&await this[_0x196063(0x4e1)](_0x2d33f9,_0x5a8dfb),{'message':'Flow\x20iniciado\x20com\x20'+_0x1155c7[_0x196063(0x61d)]};}}catch(_0x64a4b9){if(this[_0x196063(0x41b)][_0x196063(0x3d5)](this['instanceName']+'\x20('+this['instance'][_0x196063(0x11a)]+_0x196063(0x532)+(_0x64a4b9 instanceof Error?_0x64a4b9[_0x196063(0x3d1)]:JSON[_0x196063(0x3d0)](_0x64a4b9,null,0x2))),_0x28f01c=_0x64a4b9 instanceof Error?_0x64a4b9[_0x196063(0x3d1)]:JSON['stringify'](_0x64a4b9,null,0x2),_0x28f01c)throw new m(_0x196063(0x5f1)+_0x28f01c);}}async[a0_0x22ca69(0x4b6)](_0x3bad7c,_0x59ba1e,_0x3cbaea){const _0x12d16e=a0_0x22ca69;let _0x14a1bb=null;try{if(!this[_0x12d16e(0x644)]?.[_0x12d16e(0x60b)][_0x12d16e(0x7db)])throw new m(_0x12d16e(0x51a));if(this[_0x12d16e(0x41b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x12d16e(0x11a)]+_0x12d16e(0x26b)),_0x59ba1e){let _0x19dbf4=(await this[_0x12d16e(0x6ab)]({'numbers':[_0x59ba1e]}))[0x0];if(!_0x19dbf4['exists']&&!(0x0,w['isJidGroup'])(_0x19dbf4[_0x12d16e(0x377)])&&!_0x19dbf4[_0x12d16e(0x377)][_0x12d16e(0x54e)](_0x12d16e(0x32a)))throw _0x14a1bb=JSON['stringify'](_0x19dbf4,null,0x2),new m(_0x19dbf4);_0x59ba1e=_0x19dbf4[_0x12d16e(0x377)];}else _0x59ba1e||(_0x59ba1e=(0x0,H['v4'])());let _0xba841f=await this[_0x12d16e(0x3b8)][_0x12d16e(0x6d9)][_0x12d16e(0x743)]({'where':{'_id':_0x3bad7c}});if(!_0xba841f||!_0xba841f[_0x12d16e(0x13a)]?.[_0x12d16e(0x54e)](this[_0x12d16e(0x6de)]['wuid']))throw this['logger'][_0x12d16e(0x3d5)](this[_0x12d16e(0x246)]+'\x20('+this[_0x12d16e(0x6de)]['wuid']+_0x12d16e(0x3c5)+_0x3bad7c+_0x12d16e(0xbe)),new m(_0x12d16e(0x6d4)+_0x3bad7c+_0x12d16e(0xbe));let _0x46228e=await this[_0x12d16e(0x5e6)](_0xba841f,_0x59ba1e,null);if(_0x46228e){this[_0x12d16e(0x41b)]['verbose'](this[_0x12d16e(0x246)]+'\x20('+this['instance']['wuid']+_0x12d16e(0x682));let _0x1621ca;if(_0x3cbaea){let _0x295588=_0x46228e['chatLog']['realVariables'],_0x317968=this['flattenObject'](_0x3cbaea);Object[_0x12d16e(0x6c0)](_0x295588,_0x317968),_0x46228e[_0x12d16e(0x169)][_0x12d16e(0x5e0)]=_0x295588,_0x1621ca={'error':!0x1,'apiResponse':_0x3cbaea};}let _0x163e66=await this['NextBlock'](_0x46228e);return _0x163e66&&await this[_0x12d16e(0x4e1)](_0x46228e,_0x163e66),{'message':_0x12d16e(0xcb)};}}catch(_0x24960a){if(this[_0x12d16e(0x41b)]['error'](this[_0x12d16e(0x246)]+'\x20('+this[_0x12d16e(0x6de)][_0x12d16e(0x11a)]+_0x12d16e(0x532)+(_0x24960a instanceof Error?_0x24960a['message']:JSON[_0x12d16e(0x3d0)](_0x24960a,null,0x2))),_0x14a1bb=_0x24960a instanceof Error?_0x24960a[_0x12d16e(0x3d1)]:JSON['stringify'](_0x24960a,null,0x2),_0x14a1bb)throw new m(_0x12d16e(0x5f1)+_0x14a1bb);}}async['closeExistingConversations'](_0x3c8fda){const _0x456843=a0_0x22ca69;try{let _0x4411da={'remoteJid':_0x3c8fda,'status':'open'},_0x54b2f6={'status':_0x456843(0x531)},_0x2b6f40=await this[_0x456843(0x3b8)][_0x456843(0x722)][_0x456843(0x446)](_0x4411da,_0x54b2f6,this[_0x456843(0x6de)][_0x456843(0x11a)]);return this[_0x456843(0x41b)][_0x456843(0x36c)](this['instanceName']+'\x20('+this[_0x456843(0x6de)][_0x456843(0x11a)]+_0x456843(0x3f0)),_0x2b6f40;}catch(_0x95d96){throw this['logger'][_0x456843(0x3d5)](this[_0x456843(0x246)]+'\x20('+this[_0x456843(0x6de)][_0x456843(0x11a)]+_0x456843(0x35c)+_0x95d96[_0x456843(0x3d1)]),_0x95d96;}}async[a0_0x22ca69(0x5e6)](_0x4970ea,_0x433b42,_0x16cee6){const _0x4f82d1=a0_0x22ca69;this['logger'][_0x4f82d1(0x36c)](this[_0x4f82d1(0x246)]+'\x20('+this['instance']['wuid']+_0x4f82d1(0x632)),await this['closeExistingConversations'](_0x433b42);try{let _0x18ea17=require(_0x4f82d1(0x1b0))[_0x4f82d1(0x4be)],_0x48e201=Date['now'](),_0x4fe020=_0x4f82d1(0x5b9),_0x21f769={},_0xb170d8={},_0x2c1a71=this['AutomateSystem'][_0x4f82d1(0x2d2)]['find'](_0x5266fa=>_0x5266fa[_0x4f82d1(0x646)]===_0x4970ea[_0x4f82d1(0x646)]?.[_0x4f82d1(0x12e)]()),_0x1d634e=_0x2c1a71?.[_0x4f82d1(0x42c)]??_0x4970ea[_0x4f82d1(0x42c)]??0x0,_0x3c780f=_0x2c1a71?.['readMessages']??_0x4970ea[_0x4f82d1(0x384)]??!0x1,_0x3d9c98={'flowId':_0x4970ea['_id'],..._0x4970ea,'chatLog':null},_0x2b8681=await this[_0x4f82d1(0x620)](_0x3d9c98[_0x4f82d1(0x14e)]),_0x275555=await this['getVariablesChat'](_0x433b42),_0x451ecb={..._0x2b8681,..._0x275555,'_remoteJid':_0x433b42},_0x176bef={'lastReceivedMessage':_0x21f769,'lastSendMessage':_0xb170d8,'lastBlockId':_0x4fe020,'lastCondition':!0x0,'realVariables':_0x451ecb};_0x3d9c98['chatLog']=_0x176bef,_0x3d9c98[_0x4f82d1(0x169)][_0x4f82d1(0x5e0)]={..._0x451ecb,..._0x16cee6},delete _0x3d9c98[_0x4f82d1(0x646)],_0x3d9c98[_0x4f82d1(0x646)]=new _0x18ea17(),_0x3d9c98[_0x4f82d1(0x16f)]=_0x48e201,_0x3d9c98[_0x4f82d1(0x172)]=_0x4f82d1(0x3c8),_0x3d9c98['remoteJid']=_0x433b42,_0x3d9c98[_0x4f82d1(0x42c)]=_0x1d634e,_0x3d9c98[_0x4f82d1(0x384)]=_0x3c780f,_0x3d9c98[_0x4f82d1(0x646)]=_0x4970ea[_0x4f82d1(0x646)];let _0x3f72c5=await this[_0x4f82d1(0x3b8)][_0x4f82d1(0x722)][_0x4f82d1(0x489)](_0x3d9c98[_0x4f82d1(0x646)],_0x3d9c98,this[_0x4f82d1(0x6de)]['wuid']);return this['logger'][_0x4f82d1(0x36c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4f82d1(0x735)),_0x3f72c5?_0x3d9c98:null;}catch(_0x369f28){let _0x25e85c=_0x4f82d1(0x708),_0x29661d=_0x369f28 instanceof Error?_0x369f28['message']:typeof _0x369f28==_0x4f82d1(0x769)?JSON['stringify'](_0x369f28):_0x369f28,_0x2be06b=_0x25e85c+':\x20'+_0x29661d;throw this['logger'][_0x4f82d1(0x3d5)](this[_0x4f82d1(0x246)]+'\x20('+this['instance'][_0x4f82d1(0x11a)]+_0x4f82d1(0x75f)+_0x2be06b),new m(_0x2be06b);}}async['getConversation'](_0x2f96fc){const _0x154353=a0_0x22ca69;try{this[_0x154353(0x41b)][_0x154353(0x36c)](this['instanceName']+'\x20('+this[_0x154353(0x6de)][_0x154353(0x11a)]+'):\x20Buscando\x20conversa...'),this[_0x154353(0x41b)][_0x154353(0x36c)](this[_0x154353(0x246)]+'\x20('+this[_0x154353(0x6de)][_0x154353(0x11a)]+_0x154353(0x21f)+_0x2f96fc);let _0x137253={'where':{'_id':_0x2f96fc}};return await this['repository'][_0x154353(0x722)][_0x154353(0x743)](_0x137253,this[_0x154353(0x6de)][_0x154353(0x11a)]);}catch(_0x5b4432){let _0x7a4e54=_0x154353(0x27b),_0xff0ca3=_0x5b4432 instanceof Error?_0x5b4432[_0x154353(0x3d1)]:typeof _0x5b4432=='object'?JSON[_0x154353(0x3d0)](_0x5b4432):_0x5b4432,_0x398e89=_0x7a4e54+':\x20'+_0xff0ca3;throw this[_0x154353(0x41b)]['error'](this[_0x154353(0x246)]+'\x20('+this[_0x154353(0x6de)][_0x154353(0x11a)]+_0x154353(0x75f)+_0x398e89),new m(_0x398e89);}}async[a0_0x22ca69(0x6d5)](_0x471b87){const _0x38052d=a0_0x22ca69;try{return this[_0x38052d(0x41b)][_0x38052d(0x36c)](this[_0x38052d(0x246)]+'\x20('+this[_0x38052d(0x6de)][_0x38052d(0x11a)]+_0x38052d(0x789)),await this[_0x38052d(0x3b8)][_0x38052d(0x722)][_0x38052d(0x22d)](_0x471b87,this[_0x38052d(0x6de)][_0x38052d(0x11a)]);}catch(_0x30372f){let _0x201bed=_0x38052d(0x308),_0x31cedf=_0x30372f instanceof Error?_0x30372f['message']:typeof _0x30372f==_0x38052d(0x769)?JSON[_0x38052d(0x3d0)](_0x30372f):_0x30372f,_0x98eb22=_0x201bed+':\x20'+_0x31cedf;throw this[_0x38052d(0x41b)][_0x38052d(0x3d5)](this[_0x38052d(0x246)]+'\x20('+this[_0x38052d(0x6de)][_0x38052d(0x11a)]+_0x38052d(0x75f)+_0x98eb22),new m(_0x98eb22);}}async[a0_0x22ca69(0x511)](_0x499598){const _0x13ea55=a0_0x22ca69;try{return this[_0x13ea55(0x41b)]['verbose'](this['instanceName']+'\x20('+this[_0x13ea55(0x6de)][_0x13ea55(0x11a)]+_0x13ea55(0x96)),this[_0x13ea55(0x41b)][_0x13ea55(0x36c)](this[_0x13ea55(0x246)]+'\x20('+this[_0x13ea55(0x6de)][_0x13ea55(0x11a)]+_0x13ea55(0x3d9)+_0x499598),(await this['repository'][_0x13ea55(0x722)][_0x13ea55(0x4d8)]({'where':{'_id':_0x499598['_id']}},this[_0x13ea55(0x6de)][_0x13ea55(0x11a)]))[_0x13ea55(0x340)]===0x0?{'message':_0x13ea55(0x659)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x2db938){let _0x44ca98=_0x13ea55(0x339),_0x56dea7=_0x2db938 instanceof Error?_0x2db938[_0x13ea55(0x3d1)]:typeof _0x2db938==_0x13ea55(0x769)?JSON[_0x13ea55(0x3d0)](_0x2db938):_0x2db938,_0x3986fd=_0x44ca98+':\x20'+_0x56dea7;throw this['logger'][_0x13ea55(0x3d5)](this[_0x13ea55(0x246)]+'\x20('+this[_0x13ea55(0x6de)][_0x13ea55(0x11a)]+'):\x20'+_0x3986fd),new m(_0x3986fd);}}async[a0_0x22ca69(0x493)](_0x25bacd){const _0x5a4df7=a0_0x22ca69;try{let {_id:_0x3ee6a0,chatLog:_0x2047ef,status:_0x589b23}=_0x25bacd;if(!_0x3ee6a0)return{'message':_0x5a4df7(0x715)};let _0x3998fd={};if(_0x589b23!==void 0x0&&(_0x3998fd[_0x5a4df7(0x172)]=_0x589b23),Object[_0x5a4df7(0x22b)](_0x3998fd)[_0x5a4df7(0x6a0)]===0x0)return{'message':_0x5a4df7(0x267)};let _0x7f4f43=await this[_0x5a4df7(0x3b8)][_0x5a4df7(0x722)][_0x5a4df7(0x489)](_0x3ee6a0,_0x3998fd,this[_0x5a4df7(0x6de)]['wuid']);return _0x7f4f43||{'message':_0x5a4df7(0x2bb)};}catch(_0x35186d){let _0x4d4397=_0x5a4df7(0x5a4),_0x146650=_0x35186d instanceof Error?_0x35186d[_0x5a4df7(0x3d1)]:typeof _0x35186d==_0x5a4df7(0x769)?JSON[_0x5a4df7(0x3d0)](_0x35186d):_0x35186d,_0x5e3bf2=_0x4d4397+':\x20'+_0x146650;throw this[_0x5a4df7(0x41b)][_0x5a4df7(0x3d5)](this[_0x5a4df7(0x246)]+'\x20('+this['instance'][_0x5a4df7(0x11a)]+_0x5a4df7(0x75f)+_0x5e3bf2),new m(_0x5e3bf2);}}async['editChat'](_0x480151){const _0x3d7c7c=a0_0x22ca69;try{_0x480151[_0x3d7c7c(0x646)]=this[_0x3d7c7c(0x753)](_0x480151[_0x3d7c7c(0x646)]);let _0x49fefd=await this[_0x3d7c7c(0x3b8)][_0x3d7c7c(0x24b)]['findOne']({'where':{'_id':_0x480151[_0x3d7c7c(0x646)]}},this[_0x3d7c7c(0x6de)][_0x3d7c7c(0x11a)]);if(!_0x49fefd)throw new m(_0x3d7c7c(0x5c6));let {_id:_0x2c1d95,leadInfo:_0x236798}=_0x480151;if(!_0x2c1d95)throw new Error(_0x3d7c7c(0x6d2));if(_0x480151[_0x3d7c7c(0x552)]===_0x3d7c7c(0x67b))return await this[_0x3d7c7c(0x427)](_0x480151[_0x3d7c7c(0x646)]),await this[_0x3d7c7c(0x3b8)][_0x3d7c7c(0x24b)]['delete']({'where':{'_id':_0x480151[_0x3d7c7c(0x646)]}},this[_0x3d7c7c(0x6de)][_0x3d7c7c(0x11a)]),await this[_0x3d7c7c(0x3b8)]['message'][_0x3d7c7c(0x552)]({'where':{'key':{'remoteJid':_0x480151[_0x3d7c7c(0x646)]}}},this[_0x3d7c7c(0x6de)]['wuid']),_0x480151=await this[_0x3d7c7c(0x3b8)][_0x3d7c7c(0x24b)][_0x3d7c7c(0x489)]({'where':{'_id':_0x480151[_0x3d7c7c(0x646)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x3d7c7c(0x11a)]),J(this[_0x3d7c7c(0x246)],_0x3d7c7c(0x798),{'chat':_0x480151}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x480151[_0x3d7c7c(0x552)]==='messages')return await this[_0x3d7c7c(0x3b8)][_0x3d7c7c(0x3d1)][_0x3d7c7c(0x552)]({'where':{'key':{'remoteJid':_0x480151[_0x3d7c7c(0x646)]}}},this[_0x3d7c7c(0x6de)][_0x3d7c7c(0x11a)]),_0x480151=await this[_0x3d7c7c(0x3b8)][_0x3d7c7c(0x24b)][_0x3d7c7c(0x489)]({'where':{'_id':_0x480151[_0x3d7c7c(0x646)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3d7c7c(0x6de)][_0x3d7c7c(0x11a)]),J(this[_0x3d7c7c(0x246)],_0x3d7c7c(0x798),{'chat':_0x480151}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x5f5cda=(_0x2685ff,_0x3176cc,_0x42f462)=>{const _0x1b2809=_0x3d7c7c;_0x2685ff&&_0x42f462[_0x1b2809(0x2e7)](_0x9b88d9=>{const _0x333610=_0x1b2809;_0x2685ff[_0x9b88d9]!==void 0x0&&(_0x3176cc[_0x333610(0x513)+_0x9b88d9]=_0x2685ff[_0x9b88d9]);});},_0x4df685={};if(_0x3d7c7c(0x17c)in _0x480151&&(this[_0x3d7c7c(0x41b)][_0x3d7c7c(0x36c)](this[_0x3d7c7c(0x246)]+'\x20('+this[_0x3d7c7c(0x6de)]['wuid']+_0x3d7c7c(0x18d)+_0x480151[_0x3d7c7c(0x646)]),_0x480151[_0x3d7c7c(0x17c)]=_0x480151['muteEndTime']===0x0?null:-0x1,await this['client']['chatModify']({'mute':_0x480151[_0x3d7c7c(0x17c)]},_0x480151[_0x3d7c7c(0x646)]),_0x4df685['muteEndTime']=Number(_0x480151[_0x3d7c7c(0x17c)])),_0x236798&&(_0x5f5cda(_0x236798,_0x4df685,[_0x3d7c7c(0x5a5),'nomecompleto',_0x3d7c7c(0x274),_0x3d7c7c(0x347),'status',_0x3d7c7c(0x71b),_0x3d7c7c(0x5fd),'atendimentoAberto',_0x3d7c7c(0x22a),'etiquetas',_0x3d7c7c(0x671)]),Array[_0x3d7c7c(0x612)](_0x236798[_0x3d7c7c(0x526)])&&(_0x4df685[_0x3d7c7c(0x6b9)]=_0x236798['customFields']['map'](_0x5bd6d9=>({'_id':_0x5bd6d9[_0x3d7c7c(0x646)],'value':_0x5bd6d9[_0x3d7c7c(0x5a9)]}))),_0x480151['leadInfo'][_0x3d7c7c(0x361)]!==void 0x0)){let _0x563934=await this[_0x3d7c7c(0x3b8)][_0x3d7c7c(0x179)][_0x3d7c7c(0x22d)]({'where':{}},this[_0x3d7c7c(0x6de)][_0x3d7c7c(0x11a)]),_0x2bf2d3=new Set(_0x480151[_0x3d7c7c(0x392)]['etiquetas']||[]),_0x3d63f4=new Set(_0x480151[_0x3d7c7c(0x392)][_0x3d7c7c(0x361)]),_0x4788c7=new Set(_0x563934[_0x3d7c7c(0x322)](_0x322317=>_0x322317[_0x3d7c7c(0x646)])),_0x41e2e3=[..._0x3d63f4][_0x3d7c7c(0x716)](_0x3ad4fb=>!_0x2bf2d3[_0x3d7c7c(0x7a9)](_0x3ad4fb)&&_0x4788c7['has'](_0x3ad4fb)),_0x5ec320=[..._0x2bf2d3]['filter'](_0x39366a=>!_0x3d63f4[_0x3d7c7c(0x7a9)](_0x39366a));if(_0x4df685[_0x3d7c7c(0x3c4)]=[..._0x2bf2d3],_0x49fefd&&!_0x49fefd[_0x3d7c7c(0x458)]){for(let _0x42c877 of _0x41e2e3)await this[_0x3d7c7c(0x6f9)](_0x42c877,_0x480151[_0x3d7c7c(0x646)]),_0x2bf2d3[_0x3d7c7c(0x6fa)](_0x42c877);for(let _0x21d153 of _0x5ec320)await this[_0x3d7c7c(0x7e4)](_0x21d153,_0x480151[_0x3d7c7c(0x646)]),_0x2bf2d3[_0x3d7c7c(0x552)](_0x21d153);}}if(_0x480151[_0x3d7c7c(0x40a)]!==void 0x0&&(_0x4df685[_0x3d7c7c(0x40a)]=Number(_0x480151[_0x3d7c7c(0x40a)])),Object[_0x3d7c7c(0x22b)](_0x4df685)[_0x3d7c7c(0x6a0)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x558757=await this[_0x3d7c7c(0x3b8)][_0x3d7c7c(0x24b)][_0x3d7c7c(0x489)]({'where':{'_id':_0x480151['_id']}},_0x4df685,this[_0x3d7c7c(0x6de)]['wuid']);return _0x558757&&J(this[_0x3d7c7c(0x246)],_0x3d7c7c(0x798),{'chat':_0x558757}),_0x558757?(this[_0x3d7c7c(0x41b)]['verbose'](this[_0x3d7c7c(0x246)]+'\x20('+this[_0x3d7c7c(0x6de)][_0x3d7c7c(0x11a)]+_0x3d7c7c(0x75f)+JSON['stringify'](_0x558757,null,0x2)),_0x558757):{'message':_0x3d7c7c(0x29d)};}catch(_0x2e8ba5){let _0x235543=_0x3d7c7c(0x39b),_0x15b296=_0x2e8ba5 instanceof Error?_0x2e8ba5[_0x3d7c7c(0x3d1)]:typeof _0x2e8ba5==_0x3d7c7c(0x769)?JSON[_0x3d7c7c(0x3d0)](_0x2e8ba5):_0x2e8ba5,_0x5827a9=_0x235543+':\x20'+_0x15b296;throw this['logger']['error'](this[_0x3d7c7c(0x246)]+'\x20('+this[_0x3d7c7c(0x6de)][_0x3d7c7c(0x11a)]+_0x3d7c7c(0x75f)+_0x5827a9),new m(_0x5827a9);}}async[a0_0x22ca69(0x6f9)](_0x26641d,_0x28d13c){const _0xab1953=a0_0x22ca69;try{await this[_0xab1953(0x602)][_0xab1953(0x542)](_0x28d13c,_0x26641d),this[_0xab1953(0x41b)]['info'](this[_0xab1953(0x246)]+'\x20('+this[_0xab1953(0x6de)]['wuid']+_0xab1953(0x595)+_0x26641d+_0xab1953(0x431)+_0x28d13c+_0xab1953(0x604));}catch(_0x14dd75){this[_0xab1953(0x41b)][_0xab1953(0x3d5)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x26641d+_0xab1953(0xd5)+_0x28d13c+':\x20'+_0x14dd75);}}async[a0_0x22ca69(0x7e4)](_0x2b2f74,_0x1be39c){const _0x42f934=a0_0x22ca69;try{await this[_0x42f934(0x602)][_0x42f934(0x37b)](_0x1be39c,_0x2b2f74),this[_0x42f934(0x41b)][_0x42f934(0x436)](this[_0x42f934(0x246)]+'\x20('+this[_0x42f934(0x6de)][_0x42f934(0x11a)]+'):\x20Label\x20'+_0x2b2f74+_0x42f934(0x343)+_0x1be39c+_0x42f934(0x604));}catch(_0x4006ac){this['logger'][_0x42f934(0x3d5)](_0x42f934(0x50c)+_0x2b2f74+_0x42f934(0x43f)+_0x1be39c+':\x20'+_0x4006ac);}}async[a0_0x22ca69(0x2c3)](_0x4e80d7){const _0x4f0171=a0_0x22ca69;try{let _0x16074f=await this[_0x4f0171(0x3b8)][_0x4f0171(0x72e)][_0x4f0171(0x1fc)](this['instance'][_0x4f0171(0x11a)]),_0x24ff59=_0x4e80d7[_0x4f0171(0x646)]?_0x16074f[_0x4f0171(0x19a)][_0x4f0171(0x192)](_0x4c4d13=>_0x4c4d13[_0x4f0171(0x646)]===_0x4e80d7[_0x4f0171(0x646)]):-0x1;if(_0x4e80d7['delete']&&_0x24ff59>-0x1)_0x16074f['agents'][_0x4f0171(0x77f)](_0x24ff59,0x1);else{if(_0x24ff59>-0x1){let _0x41f2c7=_0x16074f[_0x4f0171(0x19a)][_0x24ff59];_0x4e80d7[_0x4f0171(0x333)]&&(_0x41f2c7[_0x4f0171(0x333)]=_0x4e80d7[_0x4f0171(0x333)]),_0x4e80d7[_0x4f0171(0x7cc)]&&(_0x41f2c7[_0x4f0171(0x7cc)]=_0x4e80d7[_0x4f0171(0x7cc)]),_0x4e80d7[_0x4f0171(0x274)]&&(_0x41f2c7[_0x4f0171(0x274)]=_0x4e80d7[_0x4f0171(0x274)]),_0x4e80d7[_0x4f0171(0x637)]&&(_0x41f2c7['role']=_0x4e80d7[_0x4f0171(0x637)]);}else _0x16074f[_0x4f0171(0x19a)][_0x4f0171(0x35a)]({'_id':_0x4e80d7[_0x4f0171(0x646)]||new he[(_0x4f0171(0x4ba))][(_0x4f0171(0x5bd))][(_0x4f0171(0x4be))]()['toString'](),'fone':_0x4e80d7[_0x4f0171(0x333)],'name':_0x4e80d7[_0x4f0171(0x7cc)],'email':_0x4e80d7['email'],'role':_0x4e80d7[_0x4f0171(0x637)]});}let _0x3b6625={'agents':_0x16074f[_0x4f0171(0x19a)]},_0x544fd6=await this[_0x4f0171(0x3b8)][_0x4f0171(0x72e)][_0x4f0171(0xd6)](_0x3b6625,this[_0x4f0171(0x6de)][_0x4f0171(0x11a)]);return this[_0x4f0171(0x644)]=_0x544fd6,this[_0x4f0171(0x41b)]['verbose'](this[_0x4f0171(0x246)]+'\x20('+this[_0x4f0171(0x6de)][_0x4f0171(0x11a)]+_0x4f0171(0x5b7)),this[_0x4f0171(0x41b)][_0x4f0171(0x36c)](this['instanceName']+'\x20('+this['instance'][_0x4f0171(0x11a)]+'):\x20'+this['AutomateSystem']),_0x544fd6;}catch(_0x39d67d){let _0x901ee7='Erro\x20ao\x20editar\x20agentes',_0x4c63f7=_0x39d67d instanceof Error?_0x39d67d[_0x4f0171(0x3d1)]:typeof _0x39d67d==_0x4f0171(0x769)?JSON[_0x4f0171(0x3d0)](_0x39d67d):_0x39d67d,_0x51be29=_0x901ee7+':\x20'+_0x4c63f7;throw this[_0x4f0171(0x41b)]['error'](this[_0x4f0171(0x246)]+'\x20('+this[_0x4f0171(0x6de)][_0x4f0171(0x11a)]+_0x4f0171(0x75f)+_0x51be29),new m(_0x51be29);}}async[a0_0x22ca69(0x1b3)](_0x975650){const _0x5a0633=a0_0x22ca69;try{let _0x59dee7=await this[_0x5a0633(0x3b8)][_0x5a0633(0x72e)][_0x5a0633(0x1fc)](this[_0x5a0633(0x6de)]['wuid']),_0x4b63c1=_0x975650[_0x5a0633(0x646)]?_0x59dee7[_0x5a0633(0x526)][_0x5a0633(0x192)](_0x26f47c=>_0x26f47c['_id']===_0x975650[_0x5a0633(0x646)]):-0x1,_0x20b657=!0x1,_0x33c816=_0x59dee7[_0x5a0633(0x526)]['some'](_0x3db5c3=>_0x3db5c3[_0x5a0633(0x66e)]===_0x975650['order']);if(_0x975650[_0x5a0633(0x552)]&&_0x4b63c1>-0x1)_0x59dee7[_0x5a0633(0x526)][_0x5a0633(0x77f)](_0x4b63c1,0x1),_0x20b657=!0x0;else{if(_0x4b63c1>-0x1){if(_0x59dee7[_0x5a0633(0x526)][_0x5a0633(0x1ab)](_0x4d85eb=>_0x4d85eb[_0x5a0633(0x7cc)]===_0x975650[_0x5a0633(0x7cc)]&&_0x4d85eb[_0x5a0633(0x646)]!==_0x975650[_0x5a0633(0x646)]))throw new Error(_0x5a0633(0x8e));let _0x2b8b91=_0x59dee7[_0x5a0633(0x526)][_0x4b63c1];_0x975650[_0x5a0633(0x66e)]&&(_0x33c816||!Number[_0x5a0633(0x6e3)](_0x975650[_0x5a0633(0x66e)]))&&(_0x2b8b91[_0x5a0633(0x66e)]=_0x975650[_0x5a0633(0x66e)],_0x20b657=!0x0),_0x975650[_0x5a0633(0x7cc)]&&(_0x2b8b91[_0x5a0633(0x7cc)]=_0x975650[_0x5a0633(0x7cc)]);}else{if(_0x59dee7[_0x5a0633(0x526)]['some'](_0x54a5a5=>_0x54a5a5[_0x5a0633(0x7cc)]===_0x975650[_0x5a0633(0x7cc)]&&_0x54a5a5['_id']!==_0x975650[_0x5a0633(0x646)]))throw new Error(_0x5a0633(0x8e));_0x59dee7[_0x5a0633(0x526)][_0x5a0633(0x35a)]({'_id':_0x975650['_id']||new he[(_0x5a0633(0x4ba))][(_0x5a0633(0x5bd))][(_0x5a0633(0x4be))]()['toString'](),'order':_0x975650[_0x5a0633(0x66e)],'name':_0x975650['name']}),_0x20b657=!0x0;}}if(_0x20b657){_0x59dee7[_0x5a0633(0x526)][_0x5a0633(0x3a1)]((_0xb31c4f,_0x10ef62)=>_0xb31c4f[_0x5a0633(0x66e)]>_0x10ef62[_0x5a0633(0x66e)]?0x1:_0x10ef62[_0x5a0633(0x66e)]>_0xb31c4f['order']?-0x1:0x0);for(let _0x286389=0x0;_0x286389<_0x59dee7[_0x5a0633(0x526)]['length'];_0x286389++)_0x59dee7[_0x5a0633(0x526)][_0x286389]['order']=_0x286389+0x1;}let _0x43a017=await this[_0x5a0633(0x3b8)]['automateSystem']['update'](_0x59dee7,this[_0x5a0633(0x6de)]['wuid']);return this['AutomateSystem']=_0x43a017,this[_0x5a0633(0x41b)][_0x5a0633(0x36c)](this[_0x5a0633(0x246)]+'\x20('+this[_0x5a0633(0x6de)]['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x5a0633(0x41b)][_0x5a0633(0x36c)](this[_0x5a0633(0x246)]+'\x20('+this[_0x5a0633(0x6de)][_0x5a0633(0x11a)]+_0x5a0633(0x75f)+this[_0x5a0633(0x644)]),_0x43a017;}catch(_0xde750e){let _0x452b6d=_0x5a0633(0x1c5),_0x410d87=_0xde750e instanceof Error?_0xde750e['message']:typeof _0xde750e==_0x5a0633(0x769)?JSON[_0x5a0633(0x3d0)](_0xde750e):_0xde750e,_0x585c2d=_0x452b6d+':\x20'+_0x410d87;throw this[_0x5a0633(0x41b)][_0x5a0633(0x3d5)](this[_0x5a0633(0x246)]+'\x20('+this['instance'][_0x5a0633(0x11a)]+_0x5a0633(0x75f)+_0x585c2d),new m(_0x585c2d);}}async['updateAutoCompleteMessages'](_0x431f82){const _0x4ece83=a0_0x22ca69;try{let _0x7d3daa=await this['repository'][_0x4ece83(0x72e)][_0x4ece83(0x1fc)](this[_0x4ece83(0x6de)]['wuid']),_0x40895f=_0x7d3daa?.[_0x4ece83(0x2e5)]?.[_0x4ece83(0x192)](_0x3c980d=>_0x3c980d[_0x4ece83(0x646)]===_0x431f82?.[_0x4ece83(0x646)]);if(_0x431f82?.[_0x4ece83(0x552)])_0x40895f>-0x1&&_0x7d3daa?.['autoCompleteMessages']?.['splice'](_0x40895f,0x1);else{if(_0x40895f>-0x1){let _0x42d182=_0x7d3daa['autoCompleteMessages'][_0x40895f];_0x42d182[_0x4ece83(0x66e)]=_0x431f82?.[_0x4ece83(0x66e)]||_0x42d182[_0x4ece83(0x66e)],_0x42d182['command']=_0x431f82?.[_0x4ece83(0xb1)]||_0x42d182['command'],_0x42d182['message']=_0x431f82?.[_0x4ece83(0x3d1)]||_0x42d182[_0x4ece83(0x3d1)];}else{let _0x55347c={'_id':_0x431f82?.[_0x4ece83(0x646)]||new he[(_0x4ece83(0x4ba))][(_0x4ece83(0x5bd))]['ObjectId']()['toString'](),'order':_0x431f82?.['order'],'command':_0x431f82?.[_0x4ece83(0xb1)],'message':_0x431f82?.[_0x4ece83(0x3d1)]};_0x7d3daa?.['autoCompleteMessages']?.['push'](_0x55347c);}}_0x7d3daa?.[_0x4ece83(0x2e5)]?.[_0x4ece83(0x3a1)]((_0x5f14da,_0x231791)=>_0x5f14da['order']-_0x231791[_0x4ece83(0x66e)]);let _0x2a4919=await this['repository']['automateSystem'][_0x4ece83(0xd6)](_0x7d3daa,this[_0x4ece83(0x6de)][_0x4ece83(0x11a)]);return this['AutomateSystem']=_0x2a4919,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4ece83(0x6de)][_0x4ece83(0x11a)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x2a4919;}catch(_0x3fb23c){let _0x3c6d05=_0x4ece83(0x1ee),_0x11300b=_0x3fb23c instanceof Error?_0x3fb23c[_0x4ece83(0x3d1)]:typeof _0x3fb23c==_0x4ece83(0x769)?JSON[_0x4ece83(0x3d0)](_0x3fb23c):_0x3fb23c,_0x4c6b00=_0x3c6d05+':\x20'+_0x11300b;throw this[_0x4ece83(0x41b)][_0x4ece83(0x3d5)](this[_0x4ece83(0x246)]+'\x20('+this[_0x4ece83(0x6de)]['wuid']+'):\x20'+_0x4c6b00),new m(_0x4c6b00);}}async[a0_0x22ca69(0x6b5)](_0x4f198b){const _0x5f0769=a0_0x22ca69;try{let _0x5aceee=await this['repository'][_0x5f0769(0x72e)][_0x5f0769(0x1fc)](this[_0x5f0769(0x6de)][_0x5f0769(0x11a)]);if(!_0x5aceee)throw new Error(_0x5f0769(0x724));let _0x400100={'_id':_0x5aceee[_0x5f0769(0x646)],'flowConfig':{'enabled':_0x4f198b[_0x5f0769(0x7db)]??_0x5aceee['flowConfig'][_0x5f0769(0x7db)],'ignoreGroups':_0x4f198b['ignoreGroups']??_0x5aceee[_0x5f0769(0x60b)][_0x5f0769(0x625)],'stopConversation':_0x4f198b[_0x5f0769(0x536)]['trim']()??_0x5aceee[_0x5f0769(0x60b)][_0x5f0769(0x536)][_0x5f0769(0x585)](),'stopMinutes':_0x4f198b[_0x5f0769(0x7ab)]??_0x5aceee[_0x5f0769(0x60b)][_0x5f0769(0x7ab)],'stopWhenYouSendMsg':_0x4f198b[_0x5f0769(0x374)]??_0x5aceee[_0x5f0769(0x60b)]['stopWhenYouSendMsg']}},_0x23171c=await this[_0x5f0769(0x3b8)][_0x5f0769(0x72e)][_0x5f0769(0xd6)](_0x400100,this[_0x5f0769(0x6de)][_0x5f0769(0x11a)]);return this[_0x5f0769(0x644)]=_0x23171c,this['logger'][_0x5f0769(0x36c)](this[_0x5f0769(0x246)]+'\x20('+this['instance']['wuid']+_0x5f0769(0x5b7)),this[_0x5f0769(0x41b)][_0x5f0769(0x36c)](this[_0x5f0769(0x246)]+'\x20('+this[_0x5f0769(0x6de)][_0x5f0769(0x11a)]+_0x5f0769(0x75f)+this['AutomateSystem']),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x23171c;}catch(_0x26f467){let _0x1221ce='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x57d020=_0x26f467 instanceof Error?_0x26f467['message']:typeof _0x26f467==_0x5f0769(0x769)?JSON[_0x5f0769(0x3d0)](_0x26f467):_0x26f467,_0x257c54=_0x1221ce+':\x20'+_0x57d020;throw this[_0x5f0769(0x41b)][_0x5f0769(0x3d5)](this[_0x5f0769(0x246)]+'\x20('+this[_0x5f0769(0x6de)][_0x5f0769(0x11a)]+_0x5f0769(0x75f)+_0x257c54),new m(_0x257c54);}}async[a0_0x22ca69(0x166)](){const _0x86d573=a0_0x22ca69;try{let _0x36dc70=await this[_0x86d573(0x3b8)]['automateSystem']['findOrCreate'](this['instance']['wuid']);return this[_0x86d573(0x644)]=_0x36dc70,_0x36dc70;}catch(_0x486ad5){let _0x298a83=_0x86d573(0x3c2),_0x506eca=_0x486ad5 instanceof Error?_0x486ad5['message']:typeof _0x486ad5==_0x86d573(0x769)?JSON['stringify'](_0x486ad5):_0x486ad5,_0x4434cd=_0x298a83+':\x20'+_0x506eca;throw this[_0x86d573(0x41b)][_0x86d573(0x3d5)](this[_0x86d573(0x246)]+'\x20('+this[_0x86d573(0x6de)][_0x86d573(0x11a)]+_0x86d573(0x75f)+_0x4434cd),new m(_0x4434cd);}}async[a0_0x22ca69(0x37f)](){const _0x113900=a0_0x22ca69;this[_0x113900(0x6de)][_0x113900(0x48b)]['timeout']&&clearTimeout(this['instance'][_0x113900(0x48b)][_0x113900(0x48e)]),this['instance'][_0x113900(0x48b)][_0x113900(0x48e)]=setTimeout(()=>{const _0x13dbdb=_0x113900;this[_0x13dbdb(0x151)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x27574d=a0_0x22ca69;let _0x4af351=this[_0x27574d(0x6de)]['ScheduleMessage'][_0x27574d(0x47d)];(_0x4af351===0x0||_0x4af351===null||Date[_0x27574d(0x690)]()-_0x4af351>=0x1d4c0)&&(this[_0x27574d(0x41b)][_0x27574d(0x36c)](this[_0x27574d(0x246)]+'\x20('+this[_0x27574d(0x6de)][_0x27574d(0x11a)]+_0x27574d(0xa2)),this[_0x27574d(0x6de)]['ScheduleMessage'][_0x27574d(0x79c)]=null,this['instance']['ScheduleMessage']['lastSend']=0x0,this[_0x27574d(0x6de)][_0x27574d(0x48b)][_0x27574d(0x6ac)]=0x0,this['processUUID']=null,await this[_0x27574d(0x742)]());}async[a0_0x22ca69(0x742)](){const _0x5a4e23=a0_0x22ca69;this['logger']['warn'](this[_0x5a4e23(0x246)]+'\x20('+this[_0x5a4e23(0x6de)][_0x5a4e23(0x11a)]+'):\x20Procurando\x20mensagens\x20para\x20envio'),await this[_0x5a4e23(0x2de)]();let _0xa9980a=await this[_0x5a4e23(0x337)]();_0xa9980a[_0x5a4e23(0x6a0)]>0x0&&(this['logger'][_0x5a4e23(0x7b6)](this[_0x5a4e23(0x246)]+'\x20('+this['instance'][_0x5a4e23(0x11a)]+_0x5a4e23(0x785)),this[_0x5a4e23(0x750)](_0xa9980a));let _0x343867={'where':{'status':_0x5a4e23(0x5ad),'when':{'$gt':Date['now']()}}},_0x3dce9a=await this[_0x5a4e23(0x3b8)][_0x5a4e23(0x76b)][_0x5a4e23(0x743)](_0x343867,this[_0x5a4e23(0x6de)][_0x5a4e23(0x11a)]);_0x3dce9a&&_0x3dce9a[_0x5a4e23(0x9e)]-Date[_0x5a4e23(0x690)]()<=0x6ddd00?this[_0x5a4e23(0x6de)][_0x5a4e23(0x48b)]['delayMessage']=_0x3dce9a[_0x5a4e23(0x9e)]-Date[_0x5a4e23(0x690)]():this[_0x5a4e23(0x6de)][_0x5a4e23(0x48b)][_0x5a4e23(0x6ac)]=(0x3c+Math['floor'](Math[_0x5a4e23(0xe0)]()*0x3c))*0x3c*0x3e8,this[_0x5a4e23(0x6de)][_0x5a4e23(0x48b)][_0x5a4e23(0x6ac)]=Math[_0x5a4e23(0x183)](this[_0x5a4e23(0x6de)]['ScheduleMessage'][_0x5a4e23(0x6ac)],0x1*0x2*0x3e8);let _0x11b19d=Math[_0x5a4e23(0x5de)](this[_0x5a4e23(0x6de)][_0x5a4e23(0x48b)][_0x5a4e23(0x6ac)]/0xea60);if(_0x3dce9a){let _0x32b674=new Date(_0x3dce9a['when'])[_0x5a4e23(0x182)]();this[_0x5a4e23(0x41b)][_0x5a4e23(0x7b6)](this[_0x5a4e23(0x246)]+'\x20('+this[_0x5a4e23(0x6de)]['wuid']+'):\x20Encontrado\x20próxima\x20mensagem\x20para\x20'+_0x32b674+_0x5a4e23(0x469)+_0x11b19d+_0x5a4e23(0x744));}else this[_0x5a4e23(0x41b)][_0x5a4e23(0x7b6)](this[_0x5a4e23(0x246)]+'\x20('+this[_0x5a4e23(0x6de)][_0x5a4e23(0x11a)]+_0x5a4e23(0x713)+_0x11b19d+_0x5a4e23(0x744));setTimeout(()=>{this['scheduleNextCheck']();},this['instance'][_0x5a4e23(0x48b)][_0x5a4e23(0x6ac)]);}async[a0_0x22ca69(0x337)](){const _0x2615f0=a0_0x22ca69;this[_0x2615f0(0x41b)][_0x2615f0(0x7b6)](this['instanceName']+'\x20('+this[_0x2615f0(0x6de)][_0x2615f0(0x11a)]+_0x2615f0(0x7d4));let _0x3f9ece=Date[_0x2615f0(0x690)]()-0xc*0x3c*0x3c*0x3e8,_0x531a37={'where':{'status':{'$in':['scheduled',_0x2615f0(0x4b0)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x3f9ece}},{'when':0x0}]}},_0x3ee450=await this[_0x2615f0(0x3b8)][_0x2615f0(0x76b)][_0x2615f0(0x22d)](_0x531a37,this[_0x2615f0(0x6de)][_0x2615f0(0x11a)]);return this[_0x2615f0(0x41b)][_0x2615f0(0x7b6)](this[_0x2615f0(0x246)]+'\x20('+this[_0x2615f0(0x6de)][_0x2615f0(0x11a)]+_0x2615f0(0x178)+_0x3ee450[_0x2615f0(0x6a0)]),_0x3ee450;}async[a0_0x22ca69(0x750)](_0x3cceff){const _0x11c172=a0_0x22ca69;if(this[_0x11c172(0x41b)][_0x11c172(0x7b6)](this[_0x11c172(0x246)]+'\x20('+this[_0x11c172(0x6de)][_0x11c172(0x11a)]+'):\x20Iniciando\x20processReadyMessages'),this['processUUID']!==null){await this[_0x11c172(0x37f)](),this[_0x11c172(0x41b)]['warn'](this[_0x11c172(0x246)]+'\x20('+this[_0x11c172(0x6de)][_0x11c172(0x11a)]+_0x11c172(0x4b3));return;}this[_0x11c172(0x68e)]=(0x0,H['v4'])();let _0x27ba30=0x3*0x3e8,_0x350d2f=0x8*0x3e8,_0x33c516=Math[_0x11c172(0x17f)](Math['random']()*(_0x350d2f-_0x27ba30+0x1))+_0x27ba30,_0x165494=()=>this[_0x11c172(0x255)][_0x11c172(0x6a0)]===0x0?null:this[_0x11c172(0x255)]['reduce']((_0x7634e1,_0xe23c47)=>(_0x7634e1[_0x11c172(0x66e)]??Number[_0x11c172(0x314)])<(_0xe23c47[_0x11c172(0x66e)]??Number[_0x11c172(0x314)])?_0x7634e1:_0xe23c47,this['pendingMessages'][0x0]);for(let _0x51b22a of _0x3cceff){this[_0x11c172(0x255)]=_0x51b22a[_0x11c172(0x42e)]['filter'](_0x4a9d10=>!_0x4a9d10[_0x11c172(0x3fa)]);let _0x1b393a=0x3*0x3e8,_0xb8776c={'_id':_0x51b22a[_0x11c172(0x646)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x11c172(0x690)]()-_0x1b393a}}]},_0x3367e1={'startSend':Date[_0x11c172(0x690)](),'status':_0x11c172(0x4b0),'processUUID':this[_0x11c172(0x68e)]},_0x15ab16=await this[_0x11c172(0x3b8)]['scheduleMessage']['updateOne'](_0xb8776c,_0x3367e1,this[_0x11c172(0x6de)][_0x11c172(0x11a)]);if(!_0x15ab16)continue;if(this[_0x11c172(0x6de)][_0x11c172(0x48b)][_0x11c172(0x79c)]=_0x15ab16,!this[_0x11c172(0x6de)][_0x11c172(0x48b)]['isConnected']){this[_0x11c172(0x41b)][_0x11c172(0x7b6)](this[_0x11c172(0x246)]+'\x20('+this['instance'][_0x11c172(0x11a)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}for(;this[_0x11c172(0x255)][_0x11c172(0x6a0)]>0x0;){await this[_0x11c172(0x37f)]();let _0x8d1cbe=_0x165494();if(!_0x8d1cbe)break;let _0x4139e6=_0x51b22a['messages'][_0x11c172(0x22d)](_0x4c3bef=>_0x4c3bef['_id']===_0x8d1cbe[_0x11c172(0x646)]);if(!_0x4139e6)break;if(this[_0x11c172(0x6de)][_0x11c172(0x48b)][_0x11c172(0x47d)]=Date[_0x11c172(0x690)](),_0x4139e6[_0x11c172(0x3fa)]){this[_0x11c172(0x41b)][_0x11c172(0x7b6)](this['instanceName']+'\x20('+this[_0x11c172(0x6de)]['wuid']+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x4139e6[_0x11c172(0x61d)]+_0x11c172(0x89)),this[_0x11c172(0x255)]=this['pendingMessages'][_0x11c172(0x716)](_0x5573b1=>_0x5573b1[_0x11c172(0x646)]!==_0x4139e6['_id']);continue;}if(!this[_0x11c172(0x6de)][_0x11c172(0x48b)][_0x11c172(0x154)]){this[_0x11c172(0x41b)]['warn'](this[_0x11c172(0x246)]+'\x20('+this[_0x11c172(0x6de)][_0x11c172(0x11a)]+_0x11c172(0x4ee));break;}if(!this[_0x11c172(0x6de)][_0x11c172(0x48b)][_0x11c172(0x79c)]){this[_0x11c172(0x41b)]['warn'](this[_0x11c172(0x246)]+'\x20('+this[_0x11c172(0x6de)][_0x11c172(0x11a)]+_0x11c172(0x4e3)+_0x51b22a[_0x11c172(0x646)]+_0x11c172(0x1db));break;}let _0x32a2e2={'idControl':_0x4139e6['_id'],'remoteJid':_0x4139e6['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x11c172(0x690)]()},_0x6e1d9d=null;try{this['logger'][_0x11c172(0x7b6)](this[_0x11c172(0x246)]+'\x20('+this[_0x11c172(0x6de)][_0x11c172(0x11a)]+_0x11c172(0x2e8)+_0x4139e6[_0x11c172(0x61d)]);let _0xbc9fb5=await this['SendScheduleMessage'](_0x4139e6[_0x11c172(0x61d)],_0x4139e6);_0x32a2e2[_0x11c172(0x3d5)]=_0xbc9fb5['error'],_0x32a2e2['id']=_0xbc9fb5['error']?null:_0xbc9fb5['id'],_0x32a2e2[_0x11c172(0x4f7)]=_0xbc9fb5[_0x11c172(0x3d5)]?_0xbc9fb5[_0x11c172(0x1ec)]?_0xbc9fb5[_0x11c172(0x1ec)][_0x11c172(0x12e)]():'':null;let _0x46c701=_0x51b22a[_0x11c172(0x42e)][_0x11c172(0x192)](_0x144d9a=>_0x144d9a[_0x11c172(0x646)]===_0x4139e6[_0x11c172(0x646)]);_0x46c701!==-0x1&&(_0x51b22a['messages'][_0x46c701][_0x11c172(0x3fa)]=!0x0);let _0x31c618={'$push':{'messagesSend':_0x32a2e2},'$set':{'messages.$[elem].triedToSend':!0x0}},_0xb19e10=[{'elem._id':_0x4139e6['_id']}];if(this[_0x11c172(0x41b)][_0x11c172(0x7b6)](this[_0x11c172(0x246)]+'\x20('+this[_0x11c172(0x6de)][_0x11c172(0x11a)]+_0x11c172(0x5fe)+_0x4139e6[_0x11c172(0x646)]),_0x6e1d9d=await this[_0x11c172(0x3b8)][_0x11c172(0x76b)][_0x11c172(0x489)]({'_id':_0x51b22a[_0x11c172(0x646)]},_0x31c618,this[_0x11c172(0x6de)][_0x11c172(0x11a)],{'arrayFilters':_0xb19e10}),_0xbc9fb5[_0x11c172(0x3d5)]){this[_0x11c172(0x41b)]['error'](this['instanceName']+'\x20('+this['instance'][_0x11c172(0x11a)]+'):\x20Erro\x20ao\x20enviar\x20mensagem:\x20'+_0xbc9fb5['detail']);continue;}let _0x3f922f=this[_0x11c172(0x3bb)](_0x51b22a[_0x11c172(0x540)],_0x51b22a[_0x11c172(0x57c)]);await this[_0x11c172(0x261)](_0x3f922f);}catch(_0x204985){this[_0x11c172(0x41b)][_0x11c172(0x3d5)](this[_0x11c172(0x246)]+'\x20('+this[_0x11c172(0x6de)]['wuid']+_0x11c172(0x4a6)+_0x4139e6[_0x11c172(0x61d)]+':\x20'+(_0x204985 instanceof Error?_0x204985[_0x11c172(0x3d1)]:JSON[_0x11c172(0x3d0)](_0x204985,null,0x2))),_0x32a2e2['error']=!0x0,_0x32a2e2[_0x11c172(0x4f7)]=_0x204985[_0x11c172(0x3d1)];let _0x5cf435=_0x51b22a[_0x11c172(0x42e)][_0x11c172(0x192)](_0x513444=>_0x513444[_0x11c172(0x646)]===_0x4139e6[_0x11c172(0x646)]);_0x5cf435!==-0x1&&(_0x51b22a[_0x11c172(0x42e)][_0x5cf435][_0x11c172(0x3fa)]=!0x0);let _0x34e31f={'$push':{'messagesSend':_0x32a2e2},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x284c6f=[{'elem._id':_0x4139e6[_0x11c172(0x646)]}];this[_0x11c172(0x41b)][_0x11c172(0x7b6)](this['instanceName']+'\x20('+this[_0x11c172(0x6de)][_0x11c172(0x11a)]+_0x11c172(0x611)+_0x4139e6['_id']),_0x6e1d9d=await this[_0x11c172(0x3b8)]['scheduleMessage']['updateOne']({'_id':_0x51b22a[_0x11c172(0x646)]},_0x34e31f,this[_0x11c172(0x6de)][_0x11c172(0x11a)],{'arrayFilters':_0x284c6f});}finally{if(_0x6e1d9d&&_0x6e1d9d['status']===_0x11c172(0x791)){this[_0x11c172(0x41b)][_0x11c172(0x7b6)](this['instanceName']+'\x20('+this[_0x11c172(0x6de)][_0x11c172(0x11a)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x4139e6['_id']+_0x11c172(0x624));break;}let _0x1a375c=_0x6e1d9d['messages'][_0x11c172(0x22d)](_0x15fae9=>_0x15fae9['_id']===_0x4139e6['_id']);if(_0x1a375c&&!_0x1a375c[_0x11c172(0x3fa)]){let _0x31208b={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x4dfa7d=[{'elem._id':_0x4139e6[_0x11c172(0x646)]}];await this[_0x11c172(0x3b8)][_0x11c172(0x76b)][_0x11c172(0x489)]({'_id':_0x6e1d9d[_0x11c172(0x646)]},_0x31208b,this[_0x11c172(0x6de)][_0x11c172(0x11a)],{'arrayFilters':_0x4dfa7d});}if(this['pendingMessages']=_0x6e1d9d[_0x11c172(0x42e)]['filter'](_0x4b7632=>!_0x4b7632[_0x11c172(0x3fa)]),_0x6e1d9d[_0x11c172(0x68e)]!==this[_0x11c172(0x68e)]){await this[_0x11c172(0x37f)](),this[_0x11c172(0x41b)][_0x11c172(0x7b6)](this[_0x11c172(0x246)]+'\x20('+this['instance'][_0x11c172(0x11a)]+_0x11c172(0x51f));return;}this['instance'][_0x11c172(0x48b)][_0x11c172(0x79c)]=_0x6e1d9d;}}this[_0x11c172(0x255)]=[];let _0x24fd4c=await this[_0x11c172(0x3b8)]['scheduleMessage'][_0x11c172(0x2e6)](_0x51b22a[_0x11c172(0x646)],this[_0x11c172(0x6de)][_0x11c172(0x11a)]);if(_0x24fd4c[_0x11c172(0x42e)][_0x11c172(0x7c4)](_0x415a51=>_0x415a51[_0x11c172(0x3fa)])&&_0x24fd4c[_0x11c172(0x172)]!=='stopped'){let _0x29172a={'$set':{'status':'done'}};await this[_0x11c172(0x3b8)][_0x11c172(0x76b)][_0x11c172(0x60c)](_0x24fd4c[_0x11c172(0x646)],_0x29172a,this[_0x11c172(0x6de)]['wuid']);}await new Promise(_0xcd4413=>setTimeout(_0xcd4413,_0x33c516)),this['processUUID']=null,global['gc']?global['gc']():console['warn'](_0x11c172(0x7aa));}}[a0_0x22ca69(0x3bb)](_0x546727,_0x2006a3){const _0x3d3b35=a0_0x22ca69;return _0x546727=Math['max'](0.5,_0x546727),_0x2006a3=Math[_0x3d3b35(0x7df)](Math[_0x3d3b35(0x183)](0x3,_0x2006a3),0x78),Math['floor'](Math[_0x3d3b35(0xe0)]()*(_0x2006a3-_0x546727+0x1)+_0x546727)*0x3e8;}[a0_0x22ca69(0x261)](_0x564caa){return new Promise(_0x509ae1=>setTimeout(_0x509ae1,_0x564caa));}async[a0_0x22ca69(0x729)](_0x31d226){const _0x4c7212=a0_0x22ca69;if(!this[_0x4c7212(0x644)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0x31d226=this[_0x4c7212(0x753)](_0x31d226);let _0x242890=await this[_0x4c7212(0x3b8)][_0x4c7212(0x24b)][_0x4c7212(0x743)]({'where':{'_id':_0x31d226}},this['instance'][_0x4c7212(0x11a)]),_0x592e8a={};if(_0x242890&&_0x242890[_0x4c7212(0x392)]){let _0x3df901=_0x242890['leadInfo'];typeof _0x3df901[_0x4c7212(0x5a5)]=='string'&&(_0x592e8a[_0x4c7212(0x5a5)]=_0x3df901[_0x4c7212(0x5a5)]),typeof _0x3df901[_0x4c7212(0x77a)]==_0x4c7212(0x5ee)&&(_0x592e8a[_0x4c7212(0x77a)]=_0x3df901[_0x4c7212(0x77a)]),typeof _0x3df901[_0x4c7212(0x274)]=='string'&&(_0x592e8a[_0x4c7212(0x274)]=_0x3df901[_0x4c7212(0x274)]),typeof _0x3df901[_0x4c7212(0x347)]==_0x4c7212(0x5ee)&&(_0x592e8a[_0x4c7212(0x347)]=_0x3df901[_0x4c7212(0x347)]),typeof _0x3df901[_0x4c7212(0x172)]==_0x4c7212(0x5ee)&&(_0x592e8a[_0x4c7212(0x172)]=_0x3df901['status']),typeof _0x3df901[_0x4c7212(0x71b)]==_0x4c7212(0x5ee)&&(_0x592e8a[_0x4c7212(0x71b)]=_0x3df901[_0x4c7212(0x71b)]),typeof _0x3df901[_0x4c7212(0x22a)]==_0x4c7212(0x5ee)&&(_0x592e8a[_0x4c7212(0x22a)]=_0x3df901[_0x4c7212(0x22a)]),Array[_0x4c7212(0x612)](_0x3df901[_0x4c7212(0x5fd)])&&(_0x592e8a[_0x4c7212(0x5fd)]=_0x3df901[_0x4c7212(0x5fd)][_0x4c7212(0x20b)](',\x20')),Array[_0x4c7212(0x612)](_0x3df901['etiquetas'])&&(_0x592e8a['etiquetas']=_0x3df901['etiquetas'][_0x4c7212(0x20b)](',\x20'));}return _0x242890&&_0x242890['leadInfo']&&_0x242890['leadInfo'][_0x4c7212(0x526)]&&_0x242890[_0x4c7212(0x392)][_0x4c7212(0x526)][_0x4c7212(0x2e7)](_0x54fa09=>{const _0x55f69b=_0x4c7212;let _0x4ae580=this[_0x55f69b(0x644)]?.[_0x55f69b(0x526)]['find'](_0x5e4724=>_0x5e4724[_0x55f69b(0x646)]===_0x54fa09['_id']);_0x4ae580&&(_0x592e8a[_0x4ae580[_0x55f69b(0x7cc)]]=_0x54fa09[_0x55f69b(0x5a9)]);}),_0x592e8a;}async['replaceVariablesChat'](_0x4b4cbf,_0x4fb4a0){const _0x1133bf=a0_0x22ca69;try{let _0x191879=await this['getVariablesChat'](_0x4fb4a0);return this[_0x1133bf(0x694)](_0x4b4cbf,_0x191879);}catch(_0xf99564){return this[_0x1133bf(0x41b)][_0x1133bf(0x3d5)](_0x1133bf(0x438)+_0x4fb4a0+':\x20'+_0xf99564),_0x4b4cbf;}}async[a0_0x22ca69(0x2de)](){const _0x3d8f46=a0_0x22ca69;let _0x1b16e1=async(_0x3d9fde,_0x5dcc92)=>{const _0x5241c9=a0_0x18ed;let _0x4c7bfa=(await this['repository'][_0x5241c9(0x76b)]['find']({'where':{'type':_0x3d9fde}},this[_0x5241c9(0x6de)][_0x5241c9(0x11a)]))[_0x5241c9(0x322)](async _0x5e4cf5=>{const _0x3701f5=_0x5241c9;let _0x20559f=_0x5dcc92(_0x5e4cf5),_0x343a34=_0x41b524=>/^\d+$/['test'](_0x41b524),_0x26ee7a=_0x5e4cf5['remoteJids'][_0x3701f5(0x716)](_0x4ff859=>_0x4ff859[_0x3701f5(0x673)](_0x3701f5(0x605))?_0x4ff859[_0x3701f5(0x6a0)]>0x19:_0x4ff859[_0x3701f5(0x673)](_0x3701f5(0x464))?_0x4ff859[_0x3701f5(0x6a0)]>0xf:_0x343a34(_0x4ff859)?_0x4ff859[_0x3701f5(0x6a0)]>=0xb:!0x1)['map'](_0x2202f1=>({'_id':(0x0,H['v4'])(),'idSchedule':_0x5e4cf5[_0x3701f5(0x646)],'type':_0x20559f,'remoteJid':_0x2202f1,'flow':_0x5e4cf5[_0x3701f5(0x165)],'text':_0x5e4cf5[_0x3701f5(0x3d1)]?.[_0x3701f5(0x1b8)],'delay':_0x5e4cf5[_0x3701f5(0x3d1)]?.['delay'],'urlOrBase64':_0x5e4cf5[_0x3701f5(0x3d1)]?.['urlOrBase64'],'linkPreview':_0x5e4cf5[_0x3701f5(0x3d1)]?.[_0x3701f5(0xad)],'fileName':_0x5e4cf5[_0x3701f5(0x3d1)]?.[_0x3701f5(0x4fb)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x3701f5(0x3b8)]['scheduleMessage'][_0x3701f5(0x60c)](_0x5e4cf5['_id'],{'$set':{'messages':_0x26ee7a},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this['instance'][_0x3701f5(0x11a)]);}catch(_0x544318){console[_0x3701f5(0x3d5)](_0x3701f5(0x5a0)+_0x5e4cf5[_0x3701f5(0x646)]+':',_0x544318);}});await Promise[_0x5241c9(0x67b)](_0x4c7bfa);};await _0x1b16e1(_0x3d8f46(0x1b8),_0x46a5e4=>_0x3d8f46(0x1b8)),await _0x1b16e1('media',_0x2a3b83=>_0x2a3b83[_0x3d8f46(0x3d1)]?.[_0x3d8f46(0x607)]||_0x3d8f46(0x66c)),await _0x1b16e1('audio',_0x26e13e=>_0x3d8f46(0x653)),await _0x1b16e1(_0x3d8f46(0x6d9),_0x417bae=>_0x3d8f46(0x6d9)),await _0x1b16e1(_0x3d8f46(0x2a0),_0x3c4d91=>'image'),await _0x1b16e1('video',_0x285857=>_0x3d8f46(0x57e)),await _0x1b16e1(_0x3d8f46(0x7ad),_0x26841f=>_0x3d8f46(0x7ad)),this[_0x3d8f46(0x41b)]['warn'](this[_0x3d8f46(0x246)]+'\x20('+this[_0x3d8f46(0x6de)]['wuid']+'):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!');}async[a0_0x22ca69(0x53c)](_0x3d73e4){const _0x2394b4=a0_0x22ca69;try{if(this[_0x2394b4(0x41b)][_0x2394b4(0x7b6)](this[_0x2394b4(0x246)]+'\x20('+this[_0x2394b4(0x6de)][_0x2394b4(0x11a)]+_0x2394b4(0x58c)),_0x3d73e4[_0x2394b4(0x646)]||(_0x3d73e4[_0x2394b4(0x646)]=(0x0,H['v4'])()),this[_0x2394b4(0x6de)][_0x2394b4(0x48b)][_0x2394b4(0x79c)]?.['_id']===_0x3d73e4[_0x2394b4(0x646)]?.[_0x2394b4(0x12e)]()){if(_0x3d73e4[_0x2394b4(0x172)]===_0x2394b4(0x791))this[_0x2394b4(0x6de)][_0x2394b4(0x48b)]['processingGroup']=null;else throw new Error(_0x2394b4(0x7a6));}if(_0x3d73e4[_0x2394b4(0x552)]&&_0x3d73e4[_0x2394b4(0x646)]){let _0x15b15e=await this[_0x2394b4(0x3b8)][_0x2394b4(0x76b)][_0x2394b4(0x4d8)](_0x3d73e4[_0x2394b4(0x646)],this[_0x2394b4(0x6de)][_0x2394b4(0x11a)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x15b15e;}let _0x1e3d20=null;if(_0x3d73e4[_0x2394b4(0x646)]&&(_0x1e3d20=await this[_0x2394b4(0x3b8)][_0x2394b4(0x76b)]['findById'](_0x3d73e4[_0x2394b4(0x646)],this[_0x2394b4(0x6de)][_0x2394b4(0x11a)])),_0x1e3d20){let {_id:_0x39e0d1,owner:_0x6eb71c,messages:_0xf367ce,..._0x52ed8a}=_0x3d73e4;if(_0xf367ce){let _0x39ad20=_0xf367ce[_0x2394b4(0x716)](_0x1788ca=>!_0x1788ca['_id']),_0x3cbf43=_0xf367ce[_0x2394b4(0x716)](_0x5a9d61=>_0x5a9d61['_id']&&!_0x5a9d61['delete']),_0x71baef=_0xf367ce[_0x2394b4(0x716)](_0x38a71a=>_0x38a71a[_0x2394b4(0x646)]&&_0x38a71a[_0x2394b4(0x552)]);if(_0x39ad20[_0x2394b4(0x6a0)]>0x0&&await this[_0x2394b4(0x725)](_0x3d73e4[_0x2394b4(0x646)],_0x39ad20),_0x3cbf43['length']>0x0&&await this[_0x2394b4(0x49f)]({'_id':_0x3d73e4[_0x2394b4(0x646)],'messages':_0x3cbf43}),_0x71baef[_0x2394b4(0x6a0)]>0x0){let _0x171dbe=_0x71baef['map'](_0x4edb84=>({'updateOne':{'filter':{'_id':_0x3d73e4[_0x2394b4(0x646)]},'update':{'$pull':{'messages':{'_id':_0x4edb84['_id']}}}}}));await this[_0x2394b4(0x3b8)][_0x2394b4(0x76b)][_0x2394b4(0x256)](_0x171dbe,this[_0x2394b4(0x6de)][_0x2394b4(0x11a)]);}}let _0x3eb7cf={'$set':{..._0x52ed8a,'status':_0x3d73e4[_0x2394b4(0x172)]||_0x1e3d20[_0x2394b4(0x172)]}},_0x385d16=await this[_0x2394b4(0x3b8)][_0x2394b4(0x76b)][_0x2394b4(0x60c)](_0x3d73e4['_id'],_0x3eb7cf,this['instance'][_0x2394b4(0x11a)]);return _0x385d16&&(this[_0x2394b4(0x262)](_0x385d16[_0x2394b4(0x42e)]),await this['repository'][_0x2394b4(0x76b)][_0x2394b4(0x60c)](_0x385d16[_0x2394b4(0x646)],{'$set':{'messages':_0x385d16[_0x2394b4(0x42e)]}},this[_0x2394b4(0x6de)][_0x2394b4(0x11a)])),setTimeout(()=>this[_0x2394b4(0x742)](),0x7d0),await this[_0x2394b4(0x2de)](),_0x385d16;}else{_0x3d73e4[_0x2394b4(0x60d)]=this[_0x2394b4(0x6de)]['wuid'],_0x3d73e4['messages']&&_0x3d73e4[_0x2394b4(0x42e)][_0x2394b4(0x2e7)](_0x4e3e27=>{const _0x4b2d5a=_0x2394b4;_0x4e3e27[_0x4b2d5a(0x646)]||(_0x4e3e27[_0x4b2d5a(0x646)]=(0x0,H['v4'])()),_0x4e3e27[_0x4b2d5a(0x285)]||(_0x4e3e27[_0x4b2d5a(0x285)]=_0x3d73e4[_0x4b2d5a(0x646)]),delete _0x4e3e27['triedToSend'];});let _0x5e2155=await this[_0x2394b4(0x3b8)][_0x2394b4(0x76b)]['createAndSave'](_0x3d73e4,this[_0x2394b4(0x6de)]['wuid']);return _0x5e2155&&(this['reorderMessages'](_0x5e2155[_0x2394b4(0x42e)]),await this[_0x2394b4(0x3b8)]['scheduleMessage']['updateOneById'](_0x5e2155[_0x2394b4(0x646)],{'$set':{'messages':_0x5e2155[_0x2394b4(0x42e)]}},this[_0x2394b4(0x6de)][_0x2394b4(0x11a)])),setTimeout(()=>this[_0x2394b4(0x742)](),0x7d0),_0x5e2155;}}catch(_0x3e9d57){let _0x32286b=_0x2394b4(0x335),_0x5d7f68=_0x3e9d57 instanceof Error?_0x3e9d57[_0x2394b4(0x3d1)]:typeof _0x3e9d57=='object'?JSON[_0x2394b4(0x3d0)](_0x3e9d57):_0x3e9d57,_0x1bdba3=_0x32286b+':\x20'+_0x5d7f68;throw this[_0x2394b4(0x41b)]['error'](this[_0x2394b4(0x246)]+'\x20('+this['instance'][_0x2394b4(0x11a)]+_0x2394b4(0x75f)+_0x1bdba3),new m(_0x1bdba3);}}async[a0_0x22ca69(0x725)](_0xb75eaa,_0x3271f4){const _0x206731=a0_0x22ca69;try{this[_0x206731(0x41b)][_0x206731(0x36c)](this[_0x206731(0x246)]+'\x20('+this[_0x206731(0x6de)][_0x206731(0x11a)]+'):\x20Adicionando\x20mensagens\x20ao\x20grupo...'),_0x3271f4[_0x206731(0x2e7)](_0xc626c3=>{const _0x1bd006=_0x206731;_0xc626c3[_0x1bd006(0x646)]||(_0xc626c3[_0x1bd006(0x646)]=(0x0,H['v4'])()),_0xc626c3[_0x1bd006(0x285)]||(_0xc626c3[_0x1bd006(0x285)]=_0xb75eaa),delete _0xc626c3[_0x1bd006(0x3fa)];});let _0x4ef4ee={'$push':{'messages':{'$each':_0x3271f4}}},_0x40df6b=await this[_0x206731(0x3b8)]['scheduleMessage'][_0x206731(0x60c)](_0xb75eaa,_0x4ef4ee,this[_0x206731(0x6de)][_0x206731(0x11a)]);return _0x40df6b&&(this[_0x206731(0x262)](_0x40df6b[_0x206731(0x42e)]),await this[_0x206731(0x3b8)][_0x206731(0x76b)]['updateOneById'](_0x40df6b[_0x206731(0x646)],{'$set':{'messages':_0x40df6b[_0x206731(0x42e)]}},this[_0x206731(0x6de)]['wuid'])),_0x40df6b;}catch(_0x40ad73){let _0x5eaf93='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x208273=_0x40ad73 instanceof Error?_0x40ad73['message']:typeof _0x40ad73==_0x206731(0x769)?JSON[_0x206731(0x3d0)](_0x40ad73):_0x40ad73,_0x2d4c12=_0x5eaf93+':\x20'+_0x208273;throw this['logger'][_0x206731(0x3d5)](this[_0x206731(0x246)]+'\x20('+this['instance']['wuid']+_0x206731(0x75f)+_0x2d4c12),new m(_0x2d4c12);}}async[a0_0x22ca69(0x49f)](_0x29d4ae){const _0x568c8f=a0_0x22ca69;try{if(this[_0x568c8f(0x41b)]['verbose'](this[_0x568c8f(0x246)]+'\x20('+this[_0x568c8f(0x6de)][_0x568c8f(0x11a)]+_0x568c8f(0x6d3)),!_0x29d4ae[_0x568c8f(0x646)]||!_0x29d4ae[_0x568c8f(0x42e)])throw new Error(_0x568c8f(0x579));let _0x33fa88=_0x29d4ae['_id'],_0x248454=_0x29d4ae['messages'],_0x3d83da=_0x248454[_0x568c8f(0x716)](_0x2961ed=>!_0x2961ed[_0x568c8f(0x552)])['map'](_0x32f59f=>{const _0x44789c=_0x568c8f;let _0x432865=_0x32f59f[_0x44789c(0x646)];if(!_0x432865)throw new Error(_0x44789c(0x25e));return _0x32f59f[_0x44789c(0x285)]||(_0x32f59f[_0x44789c(0x285)]=_0x33fa88),delete _0x32f59f['triedToSend'],{'updateOne':{'filter':{'_id':_0x33fa88,'messages._id':_0x432865},'update':{'$set':{'messages.$[elem]':_0x32f59f}},'arrayFilters':[{'elem._id':_0x432865}]}};}),_0x54551a=_0x248454[_0x568c8f(0x716)](_0x4b5b32=>_0x4b5b32[_0x568c8f(0x552)])[_0x568c8f(0x322)](_0x2f0aab=>{const _0x2949d7=_0x568c8f;let _0x294de8=_0x2f0aab[_0x2949d7(0x646)];if(!_0x294de8)throw new Error(_0x2949d7(0x781));return{'updateOne':{'filter':{'_id':_0x33fa88},'update':{'$pull':{'messages':{'_id':_0x294de8}}}}};}),_0x23d1ac=[..._0x3d83da,..._0x54551a],_0x573068=await this[_0x568c8f(0x3b8)][_0x568c8f(0x76b)][_0x568c8f(0x256)](_0x23d1ac,this['instance'][_0x568c8f(0x11a)]),_0xc6951d=await this['repository'][_0x568c8f(0x76b)][_0x568c8f(0x2e6)](_0x33fa88,this[_0x568c8f(0x6de)][_0x568c8f(0x11a)]);return _0xc6951d&&(this[_0x568c8f(0x262)](_0xc6951d[_0x568c8f(0x42e)]),await this['repository']['scheduleMessage'][_0x568c8f(0x60c)](_0xc6951d[_0x568c8f(0x646)],{'$set':{'messages':_0xc6951d['messages']}},this[_0x568c8f(0x6de)][_0x568c8f(0x11a)])),_0xc6951d;}catch(_0x3ba118){let _0x371d1b=_0x568c8f(0x13d),_0x29442a=_0x3ba118 instanceof Error?_0x3ba118[_0x568c8f(0x3d1)]:typeof _0x3ba118==_0x568c8f(0x769)?JSON['stringify'](_0x3ba118):_0x3ba118,_0x2df3a3=_0x371d1b+':\x20'+_0x29442a;throw this[_0x568c8f(0x41b)][_0x568c8f(0x3d5)](this['instanceName']+'\x20('+this['instance'][_0x568c8f(0x11a)]+_0x568c8f(0x75f)+_0x2df3a3),new m(_0x2df3a3);}}async[a0_0x22ca69(0x551)](){const _0x18a82c=a0_0x22ca69;try{let _0xbdcd99={'status':'done'},_0x47f7ca=await this[_0x18a82c(0x3b8)][_0x18a82c(0x76b)][_0x18a82c(0x286)](_0xbdcd99,this[_0x18a82c(0x6de)][_0x18a82c(0x11a)]);if(!_0x47f7ca['error'])this['logger'][_0x18a82c(0x36c)](this[_0x18a82c(0x246)]+'\x20('+this[_0x18a82c(0x6de)][_0x18a82c(0x11a)]+_0x18a82c(0x130));else throw new Error(_0x47f7ca[_0x18a82c(0x3d5)]['message']||_0x18a82c(0x47f));return this[_0x18a82c(0x5aa)]();}catch(_0x598def){let _0x1217d3='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',_0x2a765f=_0x598def instanceof Error?_0x598def['message']:typeof _0x598def==_0x18a82c(0x769)?JSON[_0x18a82c(0x3d0)](_0x598def):_0x598def,_0x2219b6=_0x1217d3+':\x20'+_0x2a765f;throw this[_0x18a82c(0x41b)]['error'](this[_0x18a82c(0x246)]+'\x20('+this[_0x18a82c(0x6de)][_0x18a82c(0x11a)]+_0x18a82c(0x75f)+_0x2219b6),new m(_0x2219b6);}}async[a0_0x22ca69(0x5aa)](){const _0x47fbcf=a0_0x22ca69;try{return await this['repository'][_0x47fbcf(0x76b)][_0x47fbcf(0x22d)]({'where':{}},this[_0x47fbcf(0x6de)][_0x47fbcf(0x11a)]);}catch(_0x1962ad){let _0xcabbf2=_0x47fbcf(0x385),_0x92b2bb=_0x1962ad instanceof Error?_0x1962ad[_0x47fbcf(0x3d1)]:typeof _0x1962ad==_0x47fbcf(0x769)?JSON[_0x47fbcf(0x3d0)](_0x1962ad):_0x1962ad,_0x1b031c=_0xcabbf2+':\x20'+_0x92b2bb;throw this[_0x47fbcf(0x41b)]['error'](this[_0x47fbcf(0x246)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x1b031c),new m(_0x1b031c);}}[a0_0x22ca69(0x262)](_0x3beec4){const _0x153bfe=a0_0x22ca69;_0x3beec4[_0x153bfe(0x3a1)]((_0x30702a,_0x14488d)=>_0x30702a['order']-_0x14488d[_0x153bfe(0x66e)]),_0x3beec4[_0x153bfe(0x2e7)]((_0x5c820b,_0x44978b)=>{const _0x311568=_0x153bfe;_0x5c820b[_0x311568(0x66e)]=_0x44978b+0x1;});}async['SendScheduleMessage'](_0xdb25e4,_0x51c57d){const _0x2a3303=a0_0x22ca69;try{if(!_0x51c57d)return this['logger'][_0x2a3303(0x3d5)](this[_0x2a3303(0x246)]+'\x20('+this[_0x2a3303(0x6de)][_0x2a3303(0x11a)]+_0x2a3303(0x56a)),{'error':!0x0,'detail':_0x2a3303(0x7d2)};if(_0x51c57d['type']==='flow'&&!this[_0x2a3303(0x644)]?.[_0x2a3303(0x60b)][_0x2a3303(0x7db)])return this[_0x2a3303(0x41b)]['error'](this[_0x2a3303(0x246)]+'\x20('+this[_0x2a3303(0x6de)][_0x2a3303(0x11a)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x2a3303(0x51a)};switch(_0x51c57d[_0x2a3303(0x399)]){case _0x2a3303(0x1b8):return await this[_0x2a3303(0x3be)](_0x51c57d,_0xdb25e4);case'video':case _0x2a3303(0x2a0):case _0x2a3303(0x7ad):return await this[_0x2a3303(0x387)](_0x51c57d,_0xdb25e4);case _0x2a3303(0x653):return await this['scheduleSendAudio'](_0x51c57d,_0xdb25e4);case'flow':let _0x46505d=new Be();return _0x46505d[_0x2a3303(0x7cc)]=_0x51c57d[_0x2a3303(0x6d9)],_0x46505d[_0x2a3303(0x61d)]=_0xdb25e4,await this[_0x2a3303(0x746)](_0x46505d);default:return this['logger'][_0x2a3303(0x3d5)](this[_0x2a3303(0x246)]+'\x20('+this[_0x2a3303(0x6de)]['wuid']+_0x2a3303(0x1b2)+_0x51c57d[_0x2a3303(0x399)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x23fcee){return this[_0x2a3303(0x41b)][_0x2a3303(0x3d5)](this['instanceName']+'\x20('+this[_0x2a3303(0x6de)][_0x2a3303(0x11a)]+_0x2a3303(0x112)+(_0x23fcee instanceof Error?_0x23fcee['message']:JSON[_0x2a3303(0x3d0)](_0x23fcee,null,0x2))),{'error':!0x0,'detail':_0x23fcee[_0x2a3303(0x3d1)]};}}async[a0_0x22ca69(0x3be)](_0x450291,_0x2e8b2d){const _0xa1bbad=a0_0x22ca69;if(this[_0xa1bbad(0x41b)]['verbose'](this[_0xa1bbad(0x246)]+'\x20('+this[_0xa1bbad(0x6de)]['wuid']+_0xa1bbad(0x61b)+_0x2e8b2d+'\x27'),!_0x450291[_0xa1bbad(0x1b8)]||_0x450291[_0xa1bbad(0x1b8)][_0xa1bbad(0x6a0)]===0x0)return{'error':!0x0,'detail':_0xa1bbad(0x7a3)};let _0x37a4ff=await this['replaceVariablesChat'](_0x450291[_0xa1bbad(0x1b8)],_0x2e8b2d),_0x7fca55={'number':_0x2e8b2d,'options':{'delay':_0x450291[_0xa1bbad(0x222)],'linkPreview':_0x450291[_0xa1bbad(0xad)]},'textMessage':{'text':_0x37a4ff}},_0x53bda4=null;try{let _0x51e29f=await this[_0xa1bbad(0x20f)](_0x7fca55);if(_0x51e29f&&_0x51e29f[_0xa1bbad(0x172)])return{'error':!0x1,'id':_0x51e29f[_0xa1bbad(0x1cc)]['id']};_0x53bda4=JSON[_0xa1bbad(0x3d0)](_0x51e29f),this['logger'][_0xa1bbad(0x36c)](this[_0xa1bbad(0x246)]+'\x20('+this['instance']['wuid']+_0xa1bbad(0x75f)+_0x53bda4);}catch(_0x29caf0){this[_0xa1bbad(0x41b)][_0xa1bbad(0x3d5)](this[_0xa1bbad(0x246)]+'\x20('+this[_0xa1bbad(0x6de)]['wuid']+_0xa1bbad(0x64a)+(_0x29caf0 instanceof Error?_0x29caf0[_0xa1bbad(0x3d1)]:JSON[_0xa1bbad(0x3d0)](_0x29caf0,null,0x2))),_0x53bda4=_0x29caf0[_0xa1bbad(0x3d1)];}if(_0x53bda4)return{'error':!0x0,'detail':(typeof _0x53bda4==_0xa1bbad(0x769)?JSON[_0xa1bbad(0x3d0)](_0x53bda4,null,0x2):_0x53bda4)[_0xa1bbad(0x1f1)](/[\[\]{}\n]/g,'\x20')[_0xa1bbad(0x1f1)](/  +/g,'\x20')};}async[a0_0x22ca69(0x387)](_0x836668,_0xbd1a7){const _0x16182a=a0_0x22ca69;this[_0x16182a(0x41b)][_0x16182a(0x36c)](this['instanceName']+'\x20('+this[_0x16182a(0x6de)][_0x16182a(0x11a)]+_0x16182a(0x520)+_0xbd1a7+'\x27');let _0x2b1ac9;_0x836668[_0x16182a(0x1b8)]&&_0x836668['text'][_0x16182a(0x6a0)]>0x0&&(_0x2b1ac9=await this[_0x16182a(0x59c)](_0x836668[_0x16182a(0x1b8)],_0xbd1a7));let _0x3a82f6={'number':_0xbd1a7,'options':{'delay':_0x836668[_0x16182a(0x222)],'linkPreview':_0x836668[_0x16182a(0xad)]},'mediaMessage':{'mediatype':_0x836668[_0x16182a(0x399)],'caption':_0x2b1ac9,'media':_0x836668[_0x16182a(0x51e)]}},_0xa3b888=null;try{let _0x2a8c0e=await this[_0x16182a(0x23c)](_0x3a82f6);if(_0x2a8c0e&&_0x2a8c0e[_0x16182a(0x172)])return{'error':!0x1,'id':_0x2a8c0e[_0x16182a(0x1cc)]['id']};_0xa3b888=JSON[_0x16182a(0x3d0)](_0x2a8c0e),this[_0x16182a(0x41b)]['verbose'](this[_0x16182a(0x246)]+'\x20('+this['instance'][_0x16182a(0x11a)]+'):\x20'+_0xa3b888);}catch(_0x5d2ad3){this[_0x16182a(0x41b)][_0x16182a(0x3d5)](this[_0x16182a(0x246)]+'\x20('+this[_0x16182a(0x6de)]['wuid']+_0x16182a(0x351)+(_0x5d2ad3 instanceof Error?_0x5d2ad3['message']:JSON[_0x16182a(0x3d0)](_0x5d2ad3,null,0x2))),_0xa3b888=_0x5d2ad3['message'];}if(_0xa3b888)return{'error':!0x0,'detail':(typeof _0xa3b888==_0x16182a(0x769)?JSON[_0x16182a(0x3d0)](_0xa3b888,null,0x2):_0xa3b888)[_0x16182a(0x1f1)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x22ca69(0x70c)](_0x59cd52,_0x416349){const _0x3a4f3f=a0_0x22ca69;this[_0x3a4f3f(0x41b)][_0x3a4f3f(0x36c)](this[_0x3a4f3f(0x246)]+'\x20('+this['instance'][_0x3a4f3f(0x11a)]+_0x3a4f3f(0x328)+_0x416349+'\x27');let _0x689b27={'number':_0x416349,'options':{'delay':_0x59cd52[_0x3a4f3f(0x222)]},'audioMessage':{'audio':_0x59cd52[_0x3a4f3f(0x51e)]}},_0x58e8d1=null;try{let _0x162c91=await this['audioWhatsapp'](_0x689b27);if(_0x162c91&&_0x162c91[_0x3a4f3f(0x172)])return{'error':!0x1,'id':_0x162c91[_0x3a4f3f(0x1cc)]['id']};_0x58e8d1=JSON[_0x3a4f3f(0x3d0)](_0x162c91),this['logger'][_0x3a4f3f(0x36c)](this[_0x3a4f3f(0x246)]+'\x20('+this['instance']['wuid']+_0x3a4f3f(0x75f)+_0x58e8d1);}catch(_0x51d2c7){this['logger']['error'](this[_0x3a4f3f(0x246)]+'\x20('+this[_0x3a4f3f(0x6de)][_0x3a4f3f(0x11a)]+_0x3a4f3f(0x123)+(_0x51d2c7 instanceof Error?_0x51d2c7['message']:JSON[_0x3a4f3f(0x3d0)](_0x51d2c7,null,0x2))),_0x58e8d1=_0x51d2c7['message'];}if(_0x58e8d1)return{'error':!0x0,'detail':(typeof _0x58e8d1=='object'?JSON[_0x3a4f3f(0x3d0)](_0x58e8d1,null,0x2):_0x58e8d1)['replace'](/[\[\]{}\n]/g,'\x20')[_0x3a4f3f(0x1f1)](/  +/g,'\x20')};}async[a0_0x22ca69(0x321)](_0x3d299a){const _0x598960=a0_0x22ca69;try{return await this['client']['groupUpdateDescription'](_0x3d299a[_0x598960(0x721)],_0x3d299a[_0x598960(0x681)]),{'update':'success'};}catch(_0xa40ec7){let _0x3323af=_0x598960(0x2ea),_0x539638=_0xa40ec7 instanceof Error?_0xa40ec7[_0x598960(0x3d1)]:typeof _0xa40ec7=='object'?JSON[_0x598960(0x3d0)](_0xa40ec7):_0xa40ec7,_0x901c58=_0x3323af+':\x20'+_0x539638;throw this[_0x598960(0x41b)][_0x598960(0x3d5)](this['instanceName']+'\x20('+this[_0x598960(0x6de)]['wuid']+_0x598960(0x75f)+_0x901c58),new x(_0x901c58);}}async[a0_0x22ca69(0x7c0)](_0x4f9a23){const _0x1d8690=a0_0x22ca69;try{return await this['client'][_0x1d8690(0x4f9)](_0x4f9a23[_0x1d8690(0x721)],_0x4f9a23[_0x1d8690(0x7cc)]),{'update':_0x1d8690(0x74f)};}catch(_0xe7f121){let _0x3a2275=_0x1d8690(0x698),_0x446b50=_0xe7f121 instanceof Error?_0xe7f121[_0x1d8690(0x3d1)]:typeof _0xe7f121==_0x1d8690(0x769)?JSON['stringify'](_0xe7f121):_0xe7f121,_0x311ae7=_0x3a2275+':\x20'+_0x446b50;throw this[_0x1d8690(0x41b)][_0x1d8690(0x3d5)](this[_0x1d8690(0x246)]+'\x20('+this[_0x1d8690(0x6de)][_0x1d8690(0x11a)]+_0x1d8690(0x75f)+_0x311ae7),new x(_0x311ae7);}}async['toggleEphemeral'](_0x4d371e){const _0x18844a=a0_0x22ca69;try{let _0x2a923a=await this['client'][_0x18844a(0x6bd)](_0x4d371e[_0x18844a(0x721)],_0x4d371e[_0x18844a(0x510)]);return{'success':!0x0};}catch(_0x237289){let _0x15cc9b='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x367f4c=_0x237289 instanceof Error?_0x237289[_0x18844a(0x3d1)]:typeof _0x237289==_0x18844a(0x769)?JSON['stringify'](_0x237289):_0x237289,_0x5bb42c=_0x15cc9b+':\x20'+_0x367f4c;throw this[_0x18844a(0x41b)][_0x18844a(0x3d5)](this['instanceName']+'\x20('+this['instance'][_0x18844a(0x11a)]+_0x18844a(0x75f)+_0x5bb42c),new x(_0x5bb42c);}}async[a0_0x22ca69(0x1f4)](_0x27ead4){const _0x25c15c=a0_0x22ca69;try{return await this[_0x25c15c(0x602)]['groupSettingUpdate'](_0x27ead4['groupJid'],_0x27ead4[_0x25c15c(0x512)]),{'update':_0x25c15c(0x74f)};}catch(_0x3d7d05){let _0x1443ec=_0x25c15c(0x47b),_0x24722f=_0x3d7d05 instanceof Error?_0x3d7d05[_0x25c15c(0x3d1)]:typeof _0x3d7d05==_0x25c15c(0x769)?JSON[_0x25c15c(0x3d0)](_0x3d7d05):_0x3d7d05,_0x2bf7d9=_0x1443ec+':\x20'+_0x24722f;throw this['logger'][_0x25c15c(0x3d5)](this[_0x25c15c(0x246)]+'\x20('+this[_0x25c15c(0x6de)][_0x25c15c(0x11a)]+_0x25c15c(0x75f)+_0x2bf7d9),new x(_0x2bf7d9);}}async[a0_0x22ca69(0x6cd)](_0xb92f9a){const _0x321e8=a0_0x22ca69;try{let _0x2cab77;if((0x0,k[_0x321e8(0x167)])(_0xb92f9a['image'])){let _0x5ceb61=new Date()[_0x321e8(0x287)](),_0x2d7f64=_0xb92f9a['image']+_0x321e8(0x1d1)+_0x5ceb61;_0x2cab77=(await X[_0x321e8(0x4ba)][_0x321e8(0x268)](_0x2d7f64,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,k[_0x321e8(0x6c3)])(_0xb92f9a[_0x321e8(0x2a0)]))_0x2cab77=Buffer[_0x321e8(0x227)](_0xb92f9a[_0x321e8(0x2a0)],'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x321e8(0x602)][_0x321e8(0x210)](_0xb92f9a['groupJid'],_0x2cab77),{'update':_0x321e8(0x74f)};}catch(_0x2a5834){let _0x36521f=_0x321e8(0x45d),_0x1110b3=_0x2a5834 instanceof Error?_0x2a5834[_0x321e8(0x3d1)]:typeof _0x2a5834=='object'?JSON['stringify'](_0x2a5834):_0x2a5834,_0x4e0559=_0x36521f+':\x20'+_0x1110b3;throw this['logger'][_0x321e8(0x3d5)](this['instanceName']+'\x20('+this[_0x321e8(0x6de)][_0x321e8(0x11a)]+_0x321e8(0x75f)+_0x4e0559),new x(_0x4e0559);}}},Jt=class u{constructor(_0xbbb8ee,_0x3bbf8e,_0x6ca92e){const _0x3bfd93=a0_0x22ca69;this[_0x3bfd93(0x795)]=_0xbbb8ee,this[_0x3bfd93(0x2b1)]=_0x3bbf8e,this[_0x3bfd93(0x3b8)]=_0x6ca92e,this['db']={},this[_0x3bfd93(0x57a)]={},this['logger']=new $(u[_0x3bfd93(0x7cc)]),this[_0x3bfd93(0x533)]={},(this[_0x3bfd93(0x218)](),this[_0x3bfd93(0x30b)](),Object['assign'](this['db'],_0x3bbf8e[_0x3bfd93(0x268)]('DATABASE')),Object[_0x3bfd93(0x6c0)](this[_0x3bfd93(0x57a)],_0x3bbf8e[_0x3bfd93(0x268)](_0x3bfd93(0x52a))),this[_0x3bfd93(0x278)]=this['db'][_0x3bfd93(0x37a)]?this['repository'][_0x3bfd93(0x2ef)]?.['db'](this['db'][_0x3bfd93(0x5a1)]['DB_PREFIX_NAME']+'-instances'):void 0x0,this[_0x3bfd93(0x1ce)]=this['redis'][_0x3bfd93(0x37a)]?new de(this[_0x3bfd93(0x57a)]):void 0x0);}async['instanceInfo'](_0x126bdf){const _0x615cdc=a0_0x22ca69;if(_0x126bdf&&!this[_0x615cdc(0x533)][_0x126bdf])throw new U('Instance\x20\x22'+_0x126bdf+_0x615cdc(0xc3));let _0x3f8d54=[];for await(let [_0x3694b6,_0x59843a]of Object[_0x615cdc(0xce)](this[_0x615cdc(0x533)]))if(_0x59843a&&_0x59843a[_0x615cdc(0x2ff)]['state']===_0x615cdc(0x3c8)){let _0x561690=await this['repository']['auth'][_0x615cdc(0x22d)](_0x3694b6);_0x3f8d54[_0x615cdc(0x35a)]({'instance':{'instanceName':_0x3694b6,'apikey':_0x561690[_0x615cdc(0x56e)],'owner':_0x59843a[_0x615cdc(0x11a)],'profileName':await _0x59843a[_0x615cdc(0x27f)]()||_0x615cdc(0x7c5),'profilePictureUrl':_0x59843a[_0x615cdc(0x5fa)]}});}return _0x3f8d54[_0x615cdc(0x22d)](_0x3b9595=>_0x3b9595[_0x615cdc(0x6de)][_0x615cdc(0x246)]===_0x126bdf)??_0x3f8d54;}async[a0_0x22ca69(0x236)](_0x4855d){const _0x57e485=a0_0x22ca69;if(this['db']['ENABLED']&&(await this[_0x57e485(0x3b8)]['dbServer'][_0x57e485(0x58f)](),(await this['dbInstance'][_0x57e485(0x245)]())[_0x57e485(0x6a0)]>0x0&&await this['dbInstance'][_0x57e485(0x69a)](_0x4855d)),this[_0x57e485(0x57a)]['ENABLED']){this[_0x57e485(0x1ce)]['reference']=_0x4855d,await this[_0x57e485(0x1ce)]['delAll']();return;}}async[a0_0x22ca69(0x3ee)](){const _0x5522a2=a0_0x22ca69;await this[_0x5522a2(0x616)]();let _0x3625bb=async _0x57820a=>{const _0x5e593c=_0x5522a2;let _0x5eb3b6=new Ne(this[_0x5e593c(0x2b1)],this[_0x5e593c(0x795)],this[_0x5e593c(0x3b8)]);_0x5eb3b6[_0x5e593c(0x246)]=_0x57820a,await _0x5eb3b6[_0x5e593c(0x30e)](),this[_0x5e593c(0x533)][_0x57820a]=_0x5eb3b6;};try{if(this[_0x5522a2(0x57a)][_0x5522a2(0x37a)]){let _0x1e1093=await this[_0x5522a2(0x1ce)][_0x5522a2(0x4c3)]();_0x1e1093?.['length']>0x0&&_0x1e1093[_0x5522a2(0x2e7)](async _0x584ae2=>await _0x3625bb(_0x584ae2['split'](':')[0x1]));return;}if(this['db'][_0x5522a2(0x37a)]){await this[_0x5522a2(0x3b8)][_0x5522a2(0x2ef)][_0x5522a2(0x58f)]();let _0x45323e=await this[_0x5522a2(0x278)][_0x5522a2(0x245)]();_0x45323e[_0x5522a2(0x6a0)]>0x0&&_0x45323e[_0x5522a2(0x2e7)](async _0x57de72=>await _0x3625bb(_0x57de72[_0x5522a2(0x129)][_0x5522a2(0x1f1)](/^[\w-]+\./,'')));return;}}catch(_0x19e8b7){this[_0x5522a2(0x41b)][_0x5522a2(0x3d5)](_0x19e8b7);}}async[a0_0x22ca69(0x650)](){const _0x5ee770=a0_0x22ca69;try{let _0x3f07e1=await this[_0x5ee770(0x3b8)][_0x5ee770(0x25f)]['findMany']({'online':!0x1});for(let _0x303542 of _0x3f07e1){let _0x18b5a0=_0x303542[_0x5ee770(0x646)];await ae[_0x5ee770(0x2f1)](W,_0x18b5a0);}console[_0x5ee770(0x2f8)]('Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20'+_0x3f07e1[_0x5ee770(0x6a0)]);let _0x134502={'online':!0x1},_0x33d164=await this[_0x5ee770(0x3b8)]['auth']['deleteMany'](_0x134502);console[_0x5ee770(0x2f8)](_0x5ee770(0x739)+_0x33d164[_0x5ee770(0xfe)]);}catch(_0x266920){console['error'](_0x5ee770(0x73d),_0x266920);}}async[a0_0x22ca69(0x616)](){const _0x201e11=a0_0x22ca69;try{let _0x51f7ec={'online':!0x1},_0x4e4c0a={'online':!0x1,'lastDisconnect':Date[_0x201e11(0x690)]()},_0xe14da0=await this['repository']['auth'][_0x201e11(0x535)](_0x51f7ec,_0x4e4c0a);await this['cleanDisconnectedInstances']();}catch(_0x49f664){console[_0x201e11(0x3d5)](_0x201e11(0x2e0),_0x49f664);}}[a0_0x22ca69(0x218)](){const _0x1071b9=a0_0x22ca69;this[_0x1071b9(0x795)]['on'](_0x1071b9(0x67f),async _0x379ae7=>{const _0x296671=_0x1071b9;try{this[_0x296671(0x533)][_0x379ae7]=void 0x0;}catch{}try{this[_0x296671(0x236)](_0x379ae7);}finally{this['logger']['warn'](_0x296671(0x2dc)+_0x379ae7+_0x296671(0x23a));}});}[a0_0x22ca69(0x30b)](){const _0x2bfd20=a0_0x22ca69;this[_0x2bfd20(0x795)]['on'](_0x2bfd20(0x1e9),async _0x33005e=>{const _0x50b213=_0x2bfd20;try{this[_0x50b213(0x533)][_0x33005e]=void 0x0;}catch{}try{this['cleaningUp'](_0x33005e);}finally{this[_0x50b213(0x41b)][_0x50b213(0x7b6)]('Instance\x20\x22'+_0x33005e+_0x50b213(0x5ab));}});}},qt=class extends _{[a0_0x22ca69(0x778)](_0x64cf83){return Zs(_0x64cf83);}async[a0_0x22ca69(0x455)](_0x1f3303){const _0x1f76ea=a0_0x22ca69;if(_0x1f3303[_0x1f76ea(0x6a0)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x1f3303[0x0]['owner'])[_0x1f76ea(0x135)]([..._0x1f3303]))[_0x1f76ea(0x6a0)]};}catch(_0x284a6c){return _0x284a6c;}}async[a0_0x22ca69(0x22d)](_0x18eb82,_0x1a7288){const _0x555d3a=a0_0x22ca69;try{let _0x34bb4d=this['getChatModelForOwner'](_0x1a7288),_0x1571cd=A(_0x18eb82[_0x555d3a(0x15f)]);return await _0x34bb4d[_0x555d3a(0x22d)](_0x1571cd)[_0x555d3a(0x3a1)]({'lastmsg':-0x1})['limit'](_0x18eb82?.[_0x555d3a(0x4ef)]??0x0)[_0x555d3a(0x3c6)]();}catch{return[];}}async[a0_0x22ca69(0x47a)](_0x2e31f5,_0x5b4fcc){const _0x29864c=a0_0x22ca69;try{let _0x1572dc=this[_0x29864c(0x778)](_0x5b4fcc),_0x148763=A(_0x2e31f5[_0x29864c(0x15f)]);return _0x148763[_0x29864c(0x24c)]={'$ne':[]},await _0x1572dc[_0x29864c(0x22d)](_0x148763)[_0x29864c(0x3a1)]({'lastmsg':-0x1})['limit'](_0x2e31f5?.[_0x29864c(0x4ef)]??0x0)['lean']();}catch{return[];}}async[a0_0x22ca69(0x552)](_0x259571,_0x441239){const _0x1818e4=a0_0x22ca69;try{return{'deletedCount':(await this[_0x1818e4(0x778)](_0x441239)[_0x1818e4(0x286)]({..._0x259571[_0x1818e4(0x15f)]}))[_0x1818e4(0x340)]};}catch(_0x56b7e9){return{'error':_0x56b7e9?.[_0x1818e4(0x12e)]()};}}async[a0_0x22ca69(0x368)](_0x4fd647,_0x1c8f72){const _0x50139f=a0_0x22ca69;try{return await this[_0x50139f(0x778)](_0x1c8f72)[_0x50139f(0x286)]({..._0x4fd647['where']}),[];}catch(_0x4f2344){return{'error':_0x4f2344?.[_0x50139f(0x12e)]()};}}async[a0_0x22ca69(0x743)](_0x3e088c,_0x459ff2){const _0x40f0d6=a0_0x22ca69;try{let _0x3a1585=this['getChatModelForOwner'](_0x459ff2),_0x3f0f62=A(_0x3e088c[_0x40f0d6(0x15f)]);return await _0x3a1585['findOne'](_0x3f0f62)[_0x40f0d6(0x3c6)]();}catch{return null;}}async[a0_0x22ca69(0x489)](_0xff50cb,_0x10ca1e,_0x29afaa,_0x11a08e,_0x49c182='$set'){const _0x4f73c4=a0_0x22ca69;try{let _0x39be45={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x11a08e},_0x4b4398=this[_0x4f73c4(0x778)](_0x29afaa),_0x17ef1a=A(_0xff50cb[_0x4f73c4(0x15f)]);Object[_0x4f73c4(0x22b)](_0x10ca1e)['forEach'](_0x26a16f=>{_0x10ca1e[_0x26a16f]==null&&delete _0x10ca1e[_0x26a16f];});let _0x46f65e={};return _0x46f65e[_0x49c182]=_0x10ca1e,await _0x4b4398['findOneAndUpdate'](_0x17ef1a,_0x46f65e,_0x39be45);}catch(_0x33befe){return console['error'](_0x33befe),null;}}async['updateMany'](_0xdb7b9d){const _0x3a43ca=a0_0x22ca69;try{let _0x5cf8c2=this[_0x3a43ca(0x778)](_0xdb7b9d[0x0]['query'][_0x3a43ca(0x15f)][_0x3a43ca(0x60d)]),_0x1dd698=_0xdb7b9d[_0x3a43ca(0x322)](_0x352136=>({'updateOne':{'filter':{..._0x352136[_0x3a43ca(0x7c6)]['where']},'update':{'$set':_0x352136[_0x3a43ca(0xd6)]},'upsert':!0x0}})),_0x5270c1=await _0x5cf8c2['bulkWrite'](_0x1dd698);return _0x5270c1[_0x3a43ca(0x641)]+_0x5270c1[_0x3a43ca(0xb4)];}catch(_0x498cd6){return console[_0x3a43ca(0x3d5)](_0x498cd6),0x0;}}async[a0_0x22ca69(0x467)](_0x46f2bc){const _0x5189ef=a0_0x22ca69;try{let _0x2a1faa={'group_isCommunity':'','group_announce':'','group_size':''},_0x3b4f4c={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x9ed197={'$unset':_0x2a1faa};return(await this[_0x5189ef(0x778)](_0x46f2bc)[_0x5189ef(0x446)](_0x3b4f4c,_0x9ed197))[_0x5189ef(0x641)];}catch(_0x3608f8){return console[_0x5189ef(0x3d5)](_0x5189ef(0x163),_0x3608f8),0x0;}}async[a0_0x22ca69(0x581)](_0x359a98){const _0x1dca2c=a0_0x22ca69;try{let _0x17154c=this[_0x1dca2c(0x778)](_0x359a98),_0x39df7a={'leadInfo.etiquetas':{'$exists':!0x1}},_0x2cee63={'$set':{'leadInfo.etiquetas':[]}};return(await _0x17154c[_0x1dca2c(0x446)](_0x39df7a,_0x2cee63))[_0x1dca2c(0x641)];}catch(_0x2a3bfe){return console['error'](_0x2a3bfe),0x0;}}async[a0_0x22ca69(0xa0)](_0x4946ff){const _0x51cd47=a0_0x22ca69;try{let _0x408be2=this[_0x51cd47(0x778)](_0x4946ff),_0x17fe96={'leadInfo.tags':{'$exists':!0x1}},_0x3a0637={'$set':{'leadInfo.tags':[]}};return(await _0x408be2[_0x51cd47(0x446)](_0x17fe96,_0x3a0637))[_0x51cd47(0x641)];}catch(_0x1bf190){return console['error'](_0x1bf190),0x0;}}async[a0_0x22ca69(0x466)](_0xf3c9b6){const _0x1b5520=a0_0x22ca69;try{let _0x478839=this[_0x1b5520(0x778)](_0xf3c9b6),_0x5c4c1a={'leadInfo.customFields':{'$exists':!0x1}},_0x360b43={'$set':{'leadInfo.customFields':[]}};return(await _0x478839[_0x1b5520(0x446)](_0x5c4c1a,_0x360b43))['modifiedCount'];}catch(_0x61177b){return console[_0x1b5520(0x3d5)](_0x61177b),0x0;}}async[a0_0x22ca69(0x135)](_0x1adc83,_0xc21211){const _0x377a20=a0_0x22ca69;if(!Array['isArray'](_0x1adc83)||_0x1adc83[_0x377a20(0x6a0)]===0x0)throw new Error(_0x377a20(0x2b7));try{return(await this['getChatModelForOwner'](_0xc21211)[_0x377a20(0x135)](_0x1adc83))[_0x377a20(0x6a0)];}catch(_0x5ba12b){throw console[_0x377a20(0x3d5)](_0x377a20(0x24e),_0x5ba12b),_0x5ba12b;}}async[a0_0x22ca69(0x427)](_0x5c0151,_0x31fb8f){const _0xf19267=a0_0x22ca69;try{await this[_0xf19267(0x778)](_0x31fb8f)[_0xf19267(0x4d8)]({'_id':_0x5c0151});}catch(_0x43455b){throw console[_0xf19267(0x3d5)](_0xf19267(0x503),_0x43455b),_0x43455b;}}},Vt=class extends _{constructor(_0x41fcad,_0x169807,_0x41ff27){const _0x20e2b4=a0_0x22ca69;super(_0x169807),this[_0x20e2b4(0x400)]=_0x41fcad,this[_0x20e2b4(0x2b1)]=_0x169807,this[_0x20e2b4(0x253)]=_0x41ff27;}async[a0_0x22ca69(0x455)](_0x26d3f7){const _0x39de1d=a0_0x22ca69;if(_0x26d3f7[_0x39de1d(0x6a0)]!==0x0)try{return{'insertCount':(await this[_0x39de1d(0x400)][_0x39de1d(0x135)]([..._0x26d3f7]))[_0x39de1d(0x6a0)]};}catch(_0x58051d){return _0x58051d;}}async[a0_0x22ca69(0xd6)](_0x3e024b,_0x407aae){const _0x47a004=a0_0x22ca69;try{let _0x25c198=A(_0x3e024b[_0x47a004(0x15f)]);return{'updatedCount':(await this[_0x47a004(0x400)][_0x47a004(0x446)](_0x25c198,{'$set':_0x407aae}))[_0x47a004(0x641)]};}catch(_0x2f09c7){return console['error'](_0x47a004(0x731),_0x2f09c7),{'error':_0x2f09c7['toString']()};}}async[a0_0x22ca69(0x116)](_0x4497df){const _0x1f2984=a0_0x22ca69;try{let _0x151dd2={'_id':{'$in':_0x4497df}};return await this[_0x1f2984(0x400)]['find'](_0x151dd2)[_0x1f2984(0x3c6)]();}catch(_0x35f835){return console[_0x1f2984(0x3d5)](_0x1f2984(0x228),_0x35f835),[];}}async[a0_0x22ca69(0x552)](_0x401421){const _0x15b4f7=a0_0x22ca69;try{return{'deletedCount':(await this['cacheContactModel'][_0x15b4f7(0x286)]({..._0x401421[_0x15b4f7(0x15f)]}))[_0x15b4f7(0x340)]};}catch(_0x4e413e){return{'error':_0x4e413e?.[_0x15b4f7(0x12e)]()};}}async['find'](_0x22f7da){const _0x39217=a0_0x22ca69;try{let _0x2d9bdc=A(_0x22f7da[_0x39217(0x15f)]);return await this[_0x39217(0x400)][_0x39217(0x22d)](_0x2d9bdc)[_0x39217(0x4ef)](_0x22f7da?.['limit']??0x0)[_0x39217(0x3c6)]();}catch{return[];}}async['findOne'](_0xadeb87){const _0x3f0387=a0_0x22ca69;try{let _0x26de39=A(_0xadeb87['where']);return await this['cacheContactModel'][_0x3f0387(0x743)](_0x26de39)[_0x3f0387(0x3c6)]();}catch{return null;}}},Gt=class extends _{[a0_0x22ca69(0x1fd)](_0x29a012){return Ma(_0x29a012);}async[a0_0x22ca69(0x489)](_0xd1ad,_0xca139a,_0x52e255,_0x1dcb78){const _0x5f0b1e=a0_0x22ca69;try{let _0x396573={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1dcb78},_0x1beaa5=this[_0x5f0b1e(0x1fd)](_0x52e255),_0x2026e0=A(_0xd1ad['where']);return await _0x1beaa5[_0x5f0b1e(0xf6)](_0x2026e0,{'$set':_0xca139a},_0x396573);}catch(_0x297153){return console[_0x5f0b1e(0x3d5)](_0x297153),null;}}async[a0_0x22ca69(0x22d)](_0x240ac4,_0x25e46b){const _0x4f0364=a0_0x22ca69;try{let _0x4bd69d=this['getLabelModelForOwner'](_0x25e46b),_0x345486=A(_0x240ac4[_0x4f0364(0x15f)]);return await _0x4bd69d[_0x4f0364(0x22d)](_0x345486);}catch(_0x2c6b56){console[_0x4f0364(0x3d5)](_0x2c6b56);}}async[a0_0x22ca69(0x552)](_0x291307,_0x4b483a){const _0x5eecf8=a0_0x22ca69;try{let _0x923f89=this[_0x5eecf8(0x1fd)](_0x4b483a),_0x535967=A(_0x291307['where']);await _0x923f89['deleteMany'](_0x535967);}catch(_0xc43ea1){console[_0x5eecf8(0x3d5)](_0xc43ea1);}}async[a0_0x22ca69(0x368)](_0x27b873){const _0x54184a=a0_0x22ca69;try{return await this[_0x54184a(0x1fd)](_0x27b873)[_0x54184a(0x4e5)][_0x54184a(0x5e9)](),{'success':!0x0};}catch(_0xd7b211){return console[_0x54184a(0x3d5)](_0xd7b211),{'success':!0x1,'error':_0xd7b211};}}},Bt=class{constructor(_0x24f539){const _0x4621c8=a0_0x22ca69;this[_0x4621c8(0x289)]=_0x24f539;}async[a0_0x22ca69(0x28f)]({instanceName:_0x3ff7fe},_0x5b2892){const _0x31ed0d=a0_0x22ca69;return await this[_0x31ed0d(0x289)][_0x31ed0d(0x533)][_0x3ff7fe]['editChat'](_0x5b2892);}async[a0_0x22ca69(0x6ab)]({instanceName:_0x53470c},_0x583dd2){const _0x5db951=a0_0x22ca69;return await this[_0x5db951(0x289)][_0x5db951(0x533)][_0x53470c]['whatsappNumber'](_0x583dd2);}async[a0_0x22ca69(0x371)]({instanceName:_0x131a93},_0x591688){const _0x5d829c=a0_0x22ca69;return await this['waMonitor'][_0x5d829c(0x533)][_0x131a93][_0x5d829c(0x371)](_0x591688);}async[a0_0x22ca69(0x14a)]({instanceName:_0x27d825},_0x3c62ec){const _0x49866d=a0_0x22ca69;return await this[_0x49866d(0x289)][_0x49866d(0x533)][_0x27d825][_0x49866d(0xe3)](_0x3c62ec);}async[a0_0x22ca69(0x4de)]({instanceName:_0x416a96},_0x428418){const _0x558d11=a0_0x22ca69;return await this[_0x558d11(0x289)][_0x558d11(0x533)][_0x416a96]['archiveChat'](_0x428418);}async[a0_0x22ca69(0x601)]({instanceName:_0x377dc7},_0x46b802){const _0x5ed64d=a0_0x22ca69;return await this[_0x5ed64d(0x289)][_0x5ed64d(0x533)][_0x377dc7][_0x5ed64d(0x601)](_0x46b802);}async[a0_0x22ca69(0xfc)]({instanceName:_0x58d4c2},_0x36ec78){const _0x23eb0d=a0_0x22ca69;return await this[_0x23eb0d(0x289)][_0x23eb0d(0x533)][_0x58d4c2][_0x23eb0d(0x370)](_0x36ec78['number']);}async[a0_0x22ca69(0x5e4)]({instanceName:_0x4505ca},_0x392429){const _0x5deab0=a0_0x22ca69;return await this['waMonitor'][_0x5deab0(0x533)][_0x4505ca][_0x5deab0(0x5e4)](_0x392429[_0x5deab0(0x395)]);}async['updatePresence']({instanceName:_0x3451b5},_0x518a19){const _0x4f64ef=a0_0x22ca69;return await this[_0x4f64ef(0x289)][_0x4f64ef(0x533)][_0x3451b5]['updatePresence'](_0x518a19);}async[a0_0x22ca69(0x1e1)]({instanceName:_0x1b2ea5},_0x4a8a16){const _0x3a2249=a0_0x22ca69;return await this['waMonitor'][_0x3a2249(0x533)][_0x1b2ea5]['fetchContacts'](_0x4a8a16);}async['getBase64FromMediaMessage']({instanceName:_0x29264d},_0x23e284){const _0x2e8618=a0_0x22ca69;return await this['waMonitor'][_0x2e8618(0x533)][_0x29264d]['getBase64FromMediaMessage'](_0x23e284);}async['fetchMessages']({instanceName:_0x58c226},_0x5a5a33){const _0x121cbc=a0_0x22ca69;return await this[_0x121cbc(0x289)]['waInstances'][_0x58c226][_0x121cbc(0x8b)](_0x5a5a33);}async[a0_0x22ca69(0x326)]({instanceName:_0x469001}){const _0x3f91de=a0_0x22ca69;return await this[_0x3f91de(0x289)][_0x3f91de(0x533)][_0x469001][_0x3f91de(0x326)]();}async[a0_0x22ca69(0x1df)]({instanceName:_0x57d81c}){const _0x5a5995=a0_0x22ca69;return await this[_0x5a5995(0x289)][_0x5a5995(0x533)][_0x57d81c][_0x5a5995(0x1df)]();}async[a0_0x22ca69(0x10e)]({instanceName:_0x4bc63c}){const _0x389c3c=a0_0x22ca69;return await this[_0x389c3c(0x289)][_0x389c3c(0x533)][_0x4bc63c][_0x389c3c(0x10e)]();}async[a0_0x22ca69(0x6fd)]({instanceName:_0x27a01c},_0x5d0037){const _0x370151=a0_0x22ca69;return await this[_0x370151(0x289)]['waInstances'][_0x27a01c][_0x370151(0x6fd)](_0x5d0037);}async[a0_0x22ca69(0x50a)]({instanceName:_0x1b643b},_0x566201){const _0x54677a=a0_0x22ca69;return await this[_0x54677a(0x289)][_0x54677a(0x533)][_0x1b643b][_0x54677a(0x50a)](_0x566201[_0x54677a(0x395)]);}async[a0_0x22ca69(0x68b)]({instanceName:_0x3caa4c},_0x347208){const _0x21e9f3=a0_0x22ca69;return await this[_0x21e9f3(0x289)][_0x21e9f3(0x533)][_0x3caa4c][_0x21e9f3(0x68b)](_0x347208[_0x21e9f3(0x7cc)]);}async['updateProfileStatus']({instanceName:_0x1ab620},_0x4643ff){const _0x39f681=a0_0x22ca69;return await this[_0x39f681(0x289)]['waInstances'][_0x1ab620][_0x39f681(0x421)](_0x4643ff['status']);}async[a0_0x22ca69(0x210)]({instanceName:_0x573f2e},_0x325ffd){const _0x2f656e=a0_0x22ca69;return await this[_0x2f656e(0x289)][_0x2f656e(0x533)][_0x573f2e]['updateProfilePicture'](_0x325ffd[_0x2f656e(0x1c4)]);}async['removeProfilePicture']({instanceName:_0x33a205},_0x42ed57){const _0x44538e=a0_0x22ca69;return await this[_0x44538e(0x289)]['waInstances'][_0x33a205][_0x44538e(0x292)]();}},Wt=require(a0_0x22ca69(0x732)),zt=class u{constructor(_0x457901,_0x233054,_0x33e5c5,_0x762d8f,_0x963bca){const _0x2c0817=a0_0x22ca69;this['waMonitor']=_0x457901,this[_0x2c0817(0x2b1)]=_0x233054,this[_0x2c0817(0x3b8)]=_0x33e5c5,this['eventEmitter']=_0x762d8f,this[_0x2c0817(0x78a)]=_0x963bca,this[_0x2c0817(0x41b)]=new $(u[_0x2c0817(0x7cc)]);}async[a0_0x22ca69(0x23d)]({instanceName:_0x29d837,apikey:_0x561615,number:_0x4dbad4,proxy:_0x426be8=!0x0}){const _0x569bcc=a0_0x22ca69;try{let _0xfc73b6=new Ne(this['configService'],this['eventEmitter'],this[_0x569bcc(0x3b8)]);_0xfc73b6[_0x569bcc(0x246)]=_0x29d837,this['waMonitor'][_0x569bcc(0x533)][_0xfc73b6['instanceName']]=_0xfc73b6;let _0xf59ef9={};_0x561615?(await this[_0x569bcc(0x3b8)][_0x569bcc(0x25f)]['create']({'apikey':_0x561615},_0x29d837),_0xf59ef9[_0x569bcc(0x56e)]=_0x561615):_0xf59ef9=await this[_0x569bcc(0x78a)][_0x569bcc(0x54b)]({'instanceName':_0xfc73b6[_0x569bcc(0x246)]});let _0x3d0179;if(_0x4dbad4){if(_0x3d0179=await this[_0x569bcc(0x46f)](_0x4dbad4),_0x3d0179['error'])throw new x(_0x3d0179['error'][_0x569bcc(0x12e)]());_0x4dbad4=_0x3d0179[_0x569bcc(0x395)];}let _0x45a22b;return await _0xfc73b6['connectToWhatsapp'](_0x4dbad4),await(0x0,Wt[_0x569bcc(0x222)])(0xfa0),_0x4dbad4&&await(0x0,Wt['delay'])(0xbb8),_0x45a22b=_0xfc73b6[_0x569bcc(0x57f)],{'instance':{'instanceName':_0xfc73b6['instanceName'],'status':_0x569bcc(0x217)},'hash':_0xf59ef9,'qrcode':_0x45a22b};}catch(_0x285c44){throw this[_0x569bcc(0x41b)][_0x569bcc(0x3d5)](_0x285c44),_0x285c44;}}async[a0_0x22ca69(0xcc)]({instanceName:_0x5a9357,number:_0x332979=null}){const _0x306e27=a0_0x22ca69;try{let _0xd7c061=this['waMonitor'][_0x306e27(0x533)][_0x5a9357];switch(_0xd7c061?.[_0x306e27(0x2ff)]?.[_0x306e27(0x260)]){case _0x306e27(0x18c):return await _0xd7c061[_0x306e27(0x30e)](_0x332979),await(0x0,Wt['delay'])(0x7d0),_0xd7c061[_0x306e27(0x57f)];case _0x306e27(0x63a):return _0xd7c061[_0x306e27(0x57f)];default:return await this['connectionState']({'instanceName':_0x5a9357});}}catch(_0xef6cec){this[_0x306e27(0x41b)][_0x306e27(0x2f8)](_0xef6cec);}}async[a0_0x22ca69(0x2c4)]({instanceName:_0x3a77bd}){const _0x7f9dc5=a0_0x22ca69;let _0x22b30f=this[_0x7f9dc5(0x289)][_0x7f9dc5(0x533)][_0x3a77bd][_0x7f9dc5(0x2ff)],_0x3025ce=null;_0x22b30f[_0x7f9dc5(0x260)]===_0x7f9dc5(0x3c8)&&_0x3a77bd&&(_0x3025ce=await this[_0x7f9dc5(0x289)][_0x7f9dc5(0x162)](_0x3a77bd));let _0x2bfd24=null;return _0x22b30f[_0x7f9dc5(0x260)]===_0x7f9dc5(0x63a)&&_0x3a77bd&&(_0x2bfd24=this[_0x7f9dc5(0x289)][_0x7f9dc5(0x533)][_0x3a77bd][_0x7f9dc5(0x57f)]),{'instance':_0x3a77bd,'connectionStatus':_0x22b30f,'instanceInfo':_0x3025ce,'qrcode':_0x2bfd24};}async[a0_0x22ca69(0x46f)](_0x1f64ef){const _0x41fd40=a0_0x22ca69;_0x1f64ef=_0x1f64ef[_0x41fd40(0x1f1)](/\D/g,'');let _0x2885d2=Object[_0x41fd40(0x22b)](this[_0x41fd40(0x289)][_0x41fd40(0x533)])[_0x41fd40(0x716)](_0x2f5566=>{const _0x1b4e3d=_0x41fd40;let _0x2be356=this[_0x1b4e3d(0x289)]['waInstances'][_0x2f5566];return _0x2be356&&_0x2be356[_0x1b4e3d(0x2ff)]&&_0x2be356[_0x1b4e3d(0x2ff)][_0x1b4e3d(0x260)]===_0x1b4e3d(0x3c8);});if(_0x2885d2[_0x41fd40(0x6a0)]===0x0)return{'number':this[_0x41fd40(0x71e)](_0x1f64ef)};let _0x37e10f=Math[_0x41fd40(0x17f)](Math['random']()*_0x2885d2[_0x41fd40(0x6a0)]),_0x2f8ff1=_0x2885d2[_0x37e10f];try{let _0x3b5598=(await this['waMonitor']['waInstances'][_0x2f8ff1]['whatsappNumber']({'numbers':[_0x1f64ef]}))[_0x41fd40(0x170)]();return _0x3b5598['exists']?{'number':_0x3b5598[_0x41fd40(0x377)][_0x41fd40(0x1f1)](_0x41fd40(0x605),'')}:{'number':_0x1f64ef,'error':_0x41fd40(0x72c)};}catch(_0x45948d){return this[_0x41fd40(0x41b)]['error'](_0x41fd40(0x2be)+_0x45948d),{'number':_0x1f64ef,'error':_0x41fd40(0x319)};}}['formatBRNumber'](_0x140703){let _0x569991=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x140703);if(_0x569991&&_0x569991[0x1]==='55'){let _0x1bda79=_0x569991[0x2],_0x40e4b1=_0x569991[0x3],_0x34f084=_0x569991[0x4];if(parseInt(_0x1bda79)>=0x1f&&_0x40e4b1==='9')return _0x569991[0x1]+_0x1bda79+_0x34f084;}return _0x140703;}async[a0_0x22ca69(0x564)]({instanceName:_0x1bbbb9}){const _0x35a579=a0_0x22ca69;try{return this[_0x35a579(0x289)][_0x35a579(0x533)][_0x1bbbb9]?.[_0x35a579(0x602)]?.['ws']?.['close'](),{'status':_0x35a579(0x265),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x380738){this[_0x35a579(0x41b)]['error'](_0x380738);}}async['fetchInstances']({instanceName:_0x5951aa}){const _0x530d64=a0_0x22ca69;return _0x5951aa?this['waMonitor']['instanceInfo'](_0x5951aa):this['waMonitor'][_0x530d64(0x162)]();}async['logout']({instanceName:_0x2fd814}){const _0x128677=a0_0x22ca69;try{return await this[_0x128677(0x289)][_0x128677(0x533)][_0x2fd814]?.[_0x128677(0x602)]?.[_0x128677(0x29e)](_0x128677(0xf5)+_0x2fd814),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x54657c){throw new x(_0x54657c[_0x128677(0x12e)]());}}async[a0_0x22ca69(0x7bd)]({instanceName:_0x62c333}){const _0x535167=a0_0x22ca69;if((await this[_0x535167(0x2c4)]({'instanceName':_0x62c333}))[_0x535167(0x2ff)][_0x535167(0x260)]===_0x535167(0x3c8))throw new m([_0x535167(0x697),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x535167(0x289)]['waInstances'][_0x62c333],{'error':!0x1,'message':_0x535167(0x235)};}catch(_0x5b8bdb){throw new m(_0x5b8bdb[_0x535167(0x12e)]());}}},ie=require(a0_0x22ca69(0x318)),Ht=class{constructor(_0x3de73f){const _0x14c777=a0_0x22ca69;this[_0x14c777(0x289)]=_0x3de73f;}async[a0_0x22ca69(0x78c)]({instanceName:_0x4e9758},_0x31ca72){const _0x383daf=a0_0x22ca69;return await this['waMonitor'][_0x383daf(0x533)][_0x4e9758][_0x383daf(0x20f)](_0x31ca72);}async[a0_0x22ca69(0x136)]({instanceName:_0x3fc03f},_0x37d06d){const _0x1bcfe5=a0_0x22ca69;return await this[_0x1bcfe5(0x289)]['waInstances'][_0x3fc03f][_0x1bcfe5(0x344)](_0x37d06d);}async[a0_0x22ca69(0x57d)]({instanceName:_0x306fab},_0x34c6fc){const _0x16e88e=a0_0x22ca69;if((0x0,ie[_0x16e88e(0x6c3)])(_0x34c6fc?.[_0x16e88e(0x23c)]?.['media'])&&!_0x34c6fc?.[_0x16e88e(0x23c)]?.[_0x16e88e(0x4fb)])throw new m(_0x16e88e(0x31d));if((0x0,ie[_0x16e88e(0x167)])(_0x34c6fc?.[_0x16e88e(0x23c)]?.[_0x16e88e(0x66c)])||(0x0,ie['isBase64'])(_0x34c6fc?.[_0x16e88e(0x23c)]?.[_0x16e88e(0x66c)]))return await this[_0x16e88e(0x289)][_0x16e88e(0x533)][_0x306fab][_0x16e88e(0x23c)](_0x34c6fc);throw new m(_0x16e88e(0xdf));}async[a0_0x22ca69(0x634)]({instanceName:_0x300436},_0x63bd0c){const _0x3690dd=a0_0x22ca69;if((0x0,ie['isURL'])(_0x63bd0c['stickerMessage'][_0x3690dd(0x2a0)])||(0x0,ie['isBase64'])(_0x63bd0c[_0x3690dd(0x557)][_0x3690dd(0x2a0)]))return await this[_0x3690dd(0x289)][_0x3690dd(0x533)][_0x300436]['mediaSticker'](_0x63bd0c);throw new m(_0x3690dd(0xdf));}async[a0_0x22ca69(0x59f)]({instanceName:_0x21cc62},_0x898e4e){const _0x1f13aa=a0_0x22ca69;if((0x0,ie[_0x1f13aa(0x167)])(_0x898e4e[_0x1f13aa(0x238)]['audio'])||(0x0,ie[_0x1f13aa(0x6c3)])(_0x898e4e[_0x1f13aa(0x238)][_0x1f13aa(0x653)]))return await this[_0x1f13aa(0x289)]['waInstances'][_0x21cc62]['audioWhatsapp'](_0x898e4e);throw new m(_0x1f13aa(0xdf));}async[a0_0x22ca69(0x46c)]({instanceName:_0x34535c},_0x13c024){const _0x3decf4=a0_0x22ca69;if((0x0,ie['isBase64'])(_0x13c024[_0x3decf4(0x302)][_0x3decf4(0x23c)]?.['media'])&&!_0x13c024[_0x3decf4(0x302)][_0x3decf4(0x23c)]?.[_0x3decf4(0x4fb)])throw new m(_0x3decf4(0x31d));return await this[_0x3decf4(0x289)][_0x3decf4(0x533)][_0x34535c][_0x3decf4(0x302)](_0x13c024);}async['sendLocation']({instanceName:_0x54b048},_0x3276d9){const _0x269ccf=a0_0x22ca69;return await this[_0x269ccf(0x289)][_0x269ccf(0x533)][_0x54b048][_0x269ccf(0x348)](_0x3276d9);}async[a0_0x22ca69(0x4c1)]({instanceName:_0x42a9e8},_0x447662){const _0x456cbe=a0_0x22ca69;return await this[_0x456cbe(0x289)][_0x456cbe(0x533)][_0x42a9e8]['pollMessage'](_0x447662);}async['sendList']({instanceName:_0x508d3a},_0x26c323){const _0x4b600e=a0_0x22ca69;return await this[_0x4b600e(0x289)][_0x4b600e(0x533)][_0x508d3a][_0x4b600e(0x4f4)](_0x26c323);}async[a0_0x22ca69(0x97)]({instanceName:_0x33eb88},_0x22c7be){const _0x336677=a0_0x22ca69;return await this[_0x336677(0x289)][_0x336677(0x533)][_0x33eb88][_0x336677(0x181)](_0x22c7be);}async[a0_0x22ca69(0xa1)]({instanceName:_0x1b363c},_0x38d1da){const _0x49631a=a0_0x22ca69;if(!_0x38d1da[_0x49631a(0x270)][_0x49631a(0x4d7)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x49631a(0x2a8));return await this[_0x49631a(0x289)]['waInstances'][_0x1b363c][_0x49631a(0x270)](_0x38d1da);}async['sendStatus']({instanceName:_0x65dc28},_0x4a8198){const _0x38e765=a0_0x22ca69;return await this['waMonitor']['waInstances'][_0x65dc28][_0x38e765(0x505)](_0x4a8198);}},xi=require(a0_0x22ca69(0x273)),Ls=require(a0_0x22ca69(0x62c)),Kt=class u{constructor(_0x3e1c51,_0x37f419,_0x5d10eb){const _0x3d2d56=a0_0x22ca69;this[_0x3d2d56(0x2b1)]=_0x3e1c51,this[_0x3d2d56(0x289)]=_0x37f419,this[_0x3d2d56(0x3b8)]=_0x5d10eb,this[_0x3d2d56(0x41b)]=new $(u[_0x3d2d56(0x7cc)]);}async[a0_0x22ca69(0x3e7)](_0x2f6998){const _0x122ed7=a0_0x22ca69;let _0x3788d1=this[_0x122ed7(0x2b1)][_0x122ed7(0x268)](_0x122ed7(0x78b))[_0x122ed7(0x10d)],_0x5c50eb=(0x0,xi[_0x122ed7(0x10a)])({'instanceName':_0x2f6998['instanceName'],'apiName':at,'tokenId':(0x0,Ls['v4'])()},_0x3788d1[_0x122ed7(0x757)],{'expiresIn':_0x3788d1[_0x122ed7(0x5c9)],'encoding':_0x122ed7(0x303),'subject':'g-t'}),_0x9aaa0f=await this[_0x122ed7(0x3b8)][_0x122ed7(0x25f)]['create']({'jwt':_0x5c50eb},_0x2f6998[_0x122ed7(0x246)]);if(_0x9aaa0f[_0x122ed7(0x3d5)])throw this['logger'][_0x122ed7(0x3d5)]({'localError':u['name']+_0x122ed7(0x22e),'error':_0x9aaa0f[_0x122ed7(0x3d5)]}),new m(_0x122ed7(0x7ac),_0x9aaa0f['error']?.['toString']());return{'jwt':_0x5c50eb};}async[a0_0x22ca69(0x56e)](_0x3bb396){const _0x16d952=a0_0x22ca69;let _0x371d55=(0x0,Ls['v4'])()[_0x16d952(0x45f)](),_0x193b56=await this[_0x16d952(0x3b8)]['auth'][_0x16d952(0x530)]({'apikey':_0x371d55},_0x3bb396[_0x16d952(0x246)]);if(_0x193b56[_0x16d952(0x3d5)])throw this['logger']['error']({'localError':u[_0x16d952(0x7cc)]+_0x16d952(0x22e),'error':_0x193b56['error']}),new m(_0x16d952(0x7ac),_0x193b56[_0x16d952(0x3d5)]?.[_0x16d952(0x12e)]());return{'apikey':_0x371d55};}async[a0_0x22ca69(0x54b)](_0x26932d){const _0x55ab0b=a0_0x22ca69;let _0x83fb89=this[_0x55ab0b(0x2b1)][_0x55ab0b(0x268)](_0x55ab0b(0x78b));return await this[_0x83fb89[_0x55ab0b(0x393)]](_0x26932d);}},Qt=class{constructor(_0xfba0b){const _0x501d18=a0_0x22ca69;this[_0x501d18(0x289)]=_0xfba0b;}async['createGroup'](_0x14dae8,_0x4bd6ef){const _0x71102e=a0_0x22ca69;return await this[_0x71102e(0x289)][_0x71102e(0x533)][_0x14dae8['instanceName']][_0x71102e(0x1dc)](_0x4bd6ef);}async[a0_0x22ca69(0x6cd)](_0x7ac784,_0x40d6ad){const _0x1f42e5=a0_0x22ca69;return await this[_0x1f42e5(0x289)][_0x1f42e5(0x533)][_0x7ac784['instanceName']][_0x1f42e5(0x6cd)](_0x40d6ad);}async[a0_0x22ca69(0x321)](_0x4c30f3,_0x564421){const _0x518480=a0_0x22ca69;return await this[_0x518480(0x289)][_0x518480(0x533)][_0x4c30f3[_0x518480(0x246)]][_0x518480(0x321)](_0x564421);}async[a0_0x22ca69(0x7c0)](_0x259f51,_0x1db150){const _0x5aa63d=a0_0x22ca69;return await this[_0x5aa63d(0x289)][_0x5aa63d(0x533)][_0x259f51[_0x5aa63d(0x246)]][_0x5aa63d(0x7c0)](_0x1db150);}async[a0_0x22ca69(0x5c8)](_0x1c8478,_0x535350){const _0x3064de=a0_0x22ca69;return await this[_0x3064de(0x289)][_0x3064de(0x533)][_0x1c8478['instanceName']][_0x3064de(0x5c8)](_0x535350);}async['groupSetting'](_0x589663,_0x1d03aa){const _0x5bc517=a0_0x22ca69;return await this[_0x5bc517(0x289)][_0x5bc517(0x533)][_0x589663[_0x5bc517(0x246)]][_0x5bc517(0x1f4)](_0x1d03aa);}async['findGroupInfo'](_0x17293d,_0x349012){const _0x1537f2=a0_0x22ca69;return await this['waMonitor']['waInstances'][_0x17293d[_0x1537f2(0x246)]]['findGroup'](_0x349012);}async[a0_0x22ca69(0x39d)](_0x7485f7){const _0x2317ad=a0_0x22ca69;return await this[_0x2317ad(0x289)][_0x2317ad(0x533)][_0x7485f7[_0x2317ad(0x246)]][_0x2317ad(0x39d)]();}async[a0_0x22ca69(0x2ad)](_0x3cc07e,_0x3934c6){const _0x10517c=a0_0x22ca69;return await this['waMonitor'][_0x10517c(0x533)][_0x3cc07e[_0x10517c(0x246)]]['inviteCode'](_0x3934c6);}async[a0_0x22ca69(0x389)](_0x30780b,_0x544859){const _0x9657f9=a0_0x22ca69;return await this[_0x9657f9(0x289)][_0x9657f9(0x533)][_0x30780b[_0x9657f9(0x246)]][_0x9657f9(0x389)](_0x544859);}async[a0_0x22ca69(0x39e)](_0x16bf9a,_0x1fd429){const _0x43eee9=a0_0x22ca69;return await this['waMonitor'][_0x43eee9(0x533)][_0x16bf9a[_0x43eee9(0x246)]][_0x43eee9(0x39e)](_0x1fd429);}async['revokeInviteCode'](_0x1b131e,_0x5e17ad){const _0x4f64f8=a0_0x22ca69;return await this['waMonitor']['waInstances'][_0x1b131e[_0x4f64f8(0x246)]][_0x4f64f8(0x5b5)](_0x5e17ad);}async['findParticipants'](_0x539c18,_0x1f4f06){const _0x4441b6=a0_0x22ca69;return await this[_0x4441b6(0x289)][_0x4441b6(0x533)][_0x539c18['instanceName']][_0x4441b6(0x65c)](_0x1f4f06);}async['updateGParticipate'](_0x812646,_0x80b900){const _0x198034=a0_0x22ca69;return await this[_0x198034(0x289)]['waInstances'][_0x812646['instanceName']]['updateGParticipant'](_0x80b900);}async[a0_0x22ca69(0x741)](_0x181ed5,_0x597e72){const _0x43187a=a0_0x22ca69;return await this[_0x43187a(0x289)]['waInstances'][_0x181ed5[_0x43187a(0x246)]][_0x43187a(0x741)](_0x597e72);}async['leaveGroup'](_0x2a18ed,_0x55b4fd){const _0x4d057=a0_0x22ca69;return await this[_0x4d057(0x289)][_0x4d057(0x533)][_0x2a18ed[_0x4d057(0x246)]][_0x4d057(0x457)](_0x55b4fd);}},Yt=class{constructor(_0x45c832){const _0x54e032=a0_0x22ca69;this[_0x54e032(0x289)]=_0x45c832;}['create'](_0x481103,_0x19a10c){const _0x50a7ed=a0_0x22ca69;return this[_0x50a7ed(0x289)][_0x50a7ed(0x533)][_0x481103['instanceName']]['setWebhook'](_0x19a10c);}async['find'](_0x15cf78){const _0x53c5af=a0_0x22ca69;try{return await this[_0x53c5af(0x289)]['waInstances'][_0x15cf78['instanceName']][_0x53c5af(0x208)]();}catch{return{'enabled':null,'url':''};}}},Gp=new $('FlowController'),Xt=class{constructor(_0x2882b4){const _0x288996=a0_0x22ca69;this[_0x288996(0x289)]=_0x2882b4;}async[a0_0x22ca69(0x53c)](_0x5f22f0,_0x275ba4){const _0x21f2e9=a0_0x22ca69;return await this['waMonitor']['waInstances'][_0x5f22f0[_0x21f2e9(0x246)]]['editScheduleMessage'](_0x275ba4);}async[a0_0x22ca69(0x5aa)](_0x113821){const _0x3bf82b=a0_0x22ca69;return await this[_0x3bf82b(0x289)][_0x3bf82b(0x533)][_0x113821['instanceName']][_0x3bf82b(0x5aa)]();}async[a0_0x22ca69(0x551)](_0x4a4eea){const _0x3a89e7=a0_0x22ca69;return await this[_0x3a89e7(0x289)][_0x3a89e7(0x533)][_0x4a4eea[_0x3a89e7(0x246)]][_0x3a89e7(0x551)]();}async[a0_0x22ca69(0x166)](_0x49acec){const _0x1d35fc=a0_0x22ca69;return await this[_0x1d35fc(0x289)][_0x1d35fc(0x533)][_0x49acec[_0x1d35fc(0x246)]]['getAutomateSystem']();}async[a0_0x22ca69(0x2c3)](_0x38a104,_0x1c010d){const _0x3b254b=a0_0x22ca69;return await this['waMonitor'][_0x3b254b(0x533)][_0x38a104['instanceName']][_0x3b254b(0x2c3)](_0x1c010d);}async[a0_0x22ca69(0x1b3)](_0x549e19,_0x2fafa1){const _0x2d0653=a0_0x22ca69;return await this[_0x2d0653(0x289)][_0x2d0653(0x533)][_0x549e19[_0x2d0653(0x246)]][_0x2d0653(0x1b3)](_0x2fafa1);}async[a0_0x22ca69(0x22c)](_0x407741,_0x98fd00){const _0x22deaf=a0_0x22ca69;return await this[_0x22deaf(0x289)][_0x22deaf(0x533)][_0x407741['instanceName']][_0x22deaf(0x22c)](_0x98fd00);}async[a0_0x22ca69(0x6b5)](_0x25dcc1,_0x58fdff){const _0x5cb031=a0_0x22ca69;return await this['waMonitor']['waInstances'][_0x25dcc1[_0x5cb031(0x246)]][_0x5cb031(0x6b5)](_0x58fdff);}async['startFlow'](_0x51bc25,_0x4cb07c){const _0x3584e8=a0_0x22ca69;return await this[_0x3584e8(0x289)][_0x3584e8(0x533)][_0x51bc25[_0x3584e8(0x246)]][_0x3584e8(0x746)](_0x4cb07c);}async[a0_0x22ca69(0x4b6)](_0x3593df,_0x5723c5,_0x5536a7,_0x254408){const _0x387c64=a0_0x22ca69;return await this[_0x387c64(0x289)]['waInstances'][_0x3593df][_0x387c64(0x4b6)](_0x5723c5,_0x5536a7,_0x254408);}async[a0_0x22ca69(0x375)](_0x1c4947,_0x23c4d2){const _0x40db89=a0_0x22ca69;return await this[_0x40db89(0x289)][_0x40db89(0x533)][_0x1c4947[_0x40db89(0x246)]][_0x40db89(0x375)](_0x23c4d2);}async[a0_0x22ca69(0x6d5)](_0x28042d,_0x45e09d){const _0x33c1b1=a0_0x22ca69;return await this['waMonitor'][_0x33c1b1(0x533)][_0x28042d[_0x33c1b1(0x246)]]['fetchConversation'](_0x45e09d);}async['editConversation'](_0x12a5f3,_0x380d28){const _0x2ad38e=a0_0x22ca69;return await this['waMonitor'][_0x2ad38e(0x533)][_0x12a5f3[_0x2ad38e(0x246)]][_0x2ad38e(0x493)](_0x380d28);}async[a0_0x22ca69(0x511)](_0x367b99,_0x4df194){const _0x34aa39=a0_0x22ca69;return await this[_0x34aa39(0x289)][_0x34aa39(0x533)][_0x367b99[_0x34aa39(0x246)]]['deleteConversation'](_0x4df194);}async[a0_0x22ca69(0x29a)](_0x24bb9d,_0x1e2662){const _0x242a0b=a0_0x22ca69;return await this[_0x242a0b(0x289)][_0x242a0b(0x533)][_0x24bb9d[_0x242a0b(0x246)]]['getFlow'](_0x1e2662['_id']);}async['createFlow'](_0xad9f48,_0x4a0087,_0x4a2e27){const _0xfffdfe=a0_0x22ca69;return await this[_0xfffdfe(0x289)]['waInstances'][_0xad9f48[_0xfffdfe(0x246)]][_0xfffdfe(0x186)](_0x4a0087,_0x4a2e27);}async[a0_0x22ca69(0x191)](_0x4d9882,_0x13185e,_0x5e9760){const _0x3f95e3=a0_0x22ca69;return await this[_0x3f95e3(0x289)][_0x3f95e3(0x533)][_0x4d9882['instanceName']][_0x3f95e3(0x191)](_0x13185e,_0x5e9760);}async['editFlowBlock'](_0x476c4f,_0x5002d6){const _0x20fb4f=a0_0x22ca69;return await this[_0x20fb4f(0x289)][_0x20fb4f(0x533)][_0x476c4f[_0x20fb4f(0x246)]]['editFlowBlock'](_0x5002d6);}async['editFlowReply'](_0x9bcb0b,_0x17d14a){const _0x3878f9=a0_0x22ca69;return await this['waMonitor'][_0x3878f9(0x533)][_0x9bcb0b['instanceName']][_0x3878f9(0x104)](_0x17d14a);}async['editFlowGroup'](_0x502733,_0x125689){const _0x502d03=a0_0x22ca69;return await this[_0x502d03(0x289)]['waInstances'][_0x502733[_0x502d03(0x246)]][_0x502d03(0x2f5)](_0x125689);}async[a0_0x22ca69(0x6c4)](_0x37d54e,_0x2c696a){const _0x12dc04=a0_0x22ca69;return await this[_0x12dc04(0x289)][_0x12dc04(0x533)][_0x37d54e[_0x12dc04(0x246)]]['editFlowCondition'](_0x2c696a);}async[a0_0x22ca69(0x56c)](_0x3a0f43,_0x2b46f2){const _0x392ad1=a0_0x22ca69;return await this[_0x392ad1(0x289)]['waInstances'][_0x3a0f43[_0x392ad1(0x246)]]['editFlowVaredit'](_0x2b46f2);}async[a0_0x22ca69(0x7da)](_0x2a478c,_0x36404c){const _0x28544e=a0_0x22ca69;return await this['waMonitor']['waInstances'][_0x2a478c[_0x28544e(0x246)]][_0x28544e(0x7da)](_0x36404c);}async[a0_0x22ca69(0x4b8)](_0x2b4564,_0x6c5928){const _0x2c692f=a0_0x22ca69;return await this[_0x2c692f(0x289)][_0x2c692f(0x533)][_0x2b4564['instanceName']]['deleteFlow'](_0x6c5928);}async[a0_0x22ca69(0xf8)](_0x43c900){const _0x205e61=a0_0x22ca69;return await this[_0x205e61(0x289)][_0x205e61(0x533)][_0x43c900['instanceName']][_0x205e61(0xf8)]();}},Zt=class{constructor(_0x557bcf){const _0x3d8702=a0_0x22ca69;this[_0x3d8702(0x643)]=_0x557bcf;}async[a0_0x22ca69(0x1f0)](_0x4aba58,_0x44e5c5){const _0x203b07=a0_0x22ca69;return this[_0x203b07(0x643)]['create'](_0x4aba58,_0x44e5c5);}async[a0_0x22ca69(0x208)](_0x3c7391){const _0xe0fa11=a0_0x22ca69;return this[_0xe0fa11(0x643)]['find'](_0x3c7391);}},es=class extends _{constructor(_0x163d6b,_0x26f4dd){const _0x99b60d=a0_0x22ca69;super(_0x26f4dd),this[_0x99b60d(0x561)]=_0x163d6b,this[_0x99b60d(0x2b1)]=_0x26f4dd;}async[a0_0x22ca69(0x530)](_0x17eb60,_0x1a0681){const _0x10d398=a0_0x22ca69;try{return this[_0x10d398(0x1f9)][_0x10d398(0x37a)]?{'insertCount':(await this[_0x10d398(0x561)][_0x10d398(0x19f)]({'_id':_0x1a0681},{..._0x17eb60},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x55fdd7){return _0x55fdd7;}}async[a0_0x22ca69(0x552)](_0x4ddbbf){const _0x47c129=a0_0x22ca69;try{if(this[_0x47c129(0x1f9)]['ENABLED']){await this['webhookModel']['deleteOne']({'_id':_0x4ddbbf});return;}}catch(_0x39097a){return{'error':_0x39097a};}}async[a0_0x22ca69(0x22d)](_0x560d7b){const _0xef1528=a0_0x22ca69;try{if(this[_0xef1528(0x1f9)][_0xef1528(0x37a)])return await this[_0xef1528(0x561)]['findOne']({'_id':_0x560d7b});}catch{return{};}}},ts=class extends _{constructor(_0x2e61fc,_0x6b667f){const _0x5893b6=a0_0x22ca69;super(_0x6b667f),this[_0x5893b6(0x56d)]=_0x2e61fc,this['configService']=_0x6b667f,this[_0x5893b6(0x25f)]=_0x6b667f[_0x5893b6(0x268)](_0x5893b6(0x78b));}async['create'](_0x4801a9,_0x14ecc2){const _0x1e640b=a0_0x22ca69;try{if(this[_0x1e640b(0x1f9)][_0x1e640b(0x37a)])return{'insertCount':(await this[_0x1e640b(0x56d)][_0x1e640b(0x489)]({'_id':_0x14ecc2},{'$set':{..._0x4801a9}},{'upsert':!0x0}))[_0x1e640b(0x641)]};}catch(_0x59bb25){return{'error':_0x59bb25};}}async['updateAll'](_0x41afca,_0x5538ea){const _0x4b0f0e=a0_0x22ca69;try{if(this[_0x4b0f0e(0x1f9)][_0x4b0f0e(0x37a)])return{'insertCount':(await this[_0x4b0f0e(0x56d)][_0x4b0f0e(0x446)](_0x41afca,{'$set':_0x5538ea},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x4b0f0e(0x1e0));}catch(_0x1e6a11){return{'error':_0x1e6a11};}}async['deleteMany'](_0x135343){const _0x5a1080=a0_0x22ca69;try{if(this[_0x5a1080(0x1f9)][_0x5a1080(0x37a)])return{'insertCount':(await this['authModel']['deleteMany'](_0x135343))['deletedCount']};throw new Error(_0x5a1080(0x5f4));}catch(_0xdf8193){return{'error':_0xdf8193};}}async[a0_0x22ca69(0x552)](_0x12520a){const _0x52720a=a0_0x22ca69;try{if(this['dbSettings'][_0x52720a(0x37a)]){await this[_0x52720a(0x56d)][_0x52720a(0x4d8)]({'_id':_0x12520a});return;}}catch(_0x4aa027){return{'error':_0x4aa027};}}async[a0_0x22ca69(0x22d)](_0x5647fa){const _0x2b42dc=a0_0x22ca69;try{if(this[_0x2b42dc(0x1f9)]['ENABLED'])return await this[_0x2b42dc(0x56d)]['findOne']({'_id':_0x5647fa});}catch{return{};}}async[a0_0x22ca69(0x269)](){const _0x3979a6=a0_0x22ca69;try{if(this[_0x3979a6(0x1f9)][_0x3979a6(0x37a)])return await this[_0x3979a6(0x56d)]['find']();}catch{return[];}}async[a0_0x22ca69(0x4dd)](_0x2955d1){const _0x37d7a4=a0_0x22ca69;try{if(this[_0x37d7a4(0x1f9)]['ENABLED'])return await this[_0x37d7a4(0x56d)][_0x37d7a4(0x22d)](_0x2955d1);}catch{return[];}}},ss=class extends _{async['deleteOne'](_0x23f725){const _0x2beb1e=a0_0x22ca69;try{let _0x54e5eb=A(_0x23f725['where']);return{'deletedCount':(await Me[_0x2beb1e(0x4d8)](_0x54e5eb))['deletedCount']};}catch(_0x5e4ffe){return{'error':_0x5e4ffe?.['toString']()};}}async[a0_0x22ca69(0x489)](_0x35df2b,_0x851459){const _0x195e9c=a0_0x22ca69;try{let _0x4085fe=await Me[_0x195e9c(0x2e6)](_0x35df2b);return _0x4085fe?(Object['assign'](_0x4085fe,_0x851459),await _0x4085fe[_0x195e9c(0x46d)]()):(console['error'](_0x195e9c(0x793),_0x35df2b),null);}catch(_0x5e7918){return console['error'](_0x195e9c(0x44c),_0x5e7918),null;}}async[a0_0x22ca69(0x668)](_0x28904a){const _0x45f83f=a0_0x22ca69;try{return await new Me(_0x28904a)[_0x45f83f(0x46d)]();}catch(_0x4718f8){return console[_0x45f83f(0x3d5)](_0x45f83f(0x31c),_0x4718f8),null;}}async[a0_0x22ca69(0x269)](_0x218673){const _0x212ae6=a0_0x22ca69;try{let _0x20f52b=_0x218673[_0x212ae6(0x15f)]??{};return await Me[_0x212ae6(0x22d)](_0x20f52b)[_0x212ae6(0x4ef)](_0x218673[_0x212ae6(0x4ef)]??0x0)[_0x212ae6(0x3c6)]();}catch(_0x5d15c6){return console[_0x212ae6(0x3d5)](_0x212ae6(0x3db),_0x5d15c6),[];}}async['findOne'](_0x152745){const _0xe7c41c=a0_0x22ca69;try{let _0x4449e5=A(_0x152745[_0xe7c41c(0x15f)]);return await Me['findOne'](_0x4449e5)[_0xe7c41c(0x3c6)]();}catch{return null;}}},as=class extends _{[a0_0x22ca69(0x18e)](_0x4b683e){return ya(_0x4b683e);}async[a0_0x22ca69(0x455)](_0x35f57f){const _0x381f99=a0_0x22ca69;if(_0x35f57f[_0x381f99(0x6a0)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x35f57f[0x0]['owner'])[_0x381f99(0x135)]([..._0x35f57f]))['length']};}catch(_0x143016){return _0x143016;}}async['delete'](_0xcfccdd,_0x6eefb8){const _0xeaabfb=a0_0x22ca69;try{let _0x5d4a5a=this['getConversationModelForOwner'](_0x6eefb8),_0x192d19=A(_0xcfccdd['where']);return{'deletedCount':(await _0x5d4a5a[_0xeaabfb(0x286)](_0x192d19))['deletedCount']};}catch(_0x5c2a17){return{'error':_0x5c2a17?.[_0xeaabfb(0x12e)]()};}}async[a0_0x22ca69(0x4d8)](_0x9b3ad1,_0x14d784){const _0x467761=a0_0x22ca69;try{let _0xe86865=this[_0x467761(0x18e)](_0x14d784),_0x1b7968=A(_0x9b3ad1[_0x467761(0x15f)]);return{'deletedCount':(await _0xe86865[_0x467761(0x4d8)](_0x1b7968))['deletedCount']};}catch(_0x49f6b0){return{'error':_0x49f6b0?.['toString']()};}}async[a0_0x22ca69(0xd6)](_0x5e1dbf,_0x41ae9c){const _0x50355c=a0_0x22ca69;try{if(_0x5e1dbf[_0x50355c(0x6a0)]===0x0)return;let _0x1f8ba9=this[_0x50355c(0x18e)](_0x41ae9c),_0x47fca0=_0x5e1dbf[_0x50355c(0x322)](_0x2d84cf=>({'updateOne':{'filter':{'name':_0x2d84cf['name'],'owner':_0x41ae9c},'update':{..._0x2d84cf}}})),{modifiedCount:_0x12a43d}=await _0x1f8ba9[_0x50355c(0x256)](_0x47fca0);return{'insertCount':_0x12a43d};}catch{return;}}async['updateMany'](_0x1b7c00,_0x1b3e7a,_0x4dc1ab){const _0x21472a=a0_0x22ca69;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x4dc1ab)[_0x21472a(0x446)](_0x1b7c00,{'$set':_0x1b3e7a})[_0x21472a(0x298)]())[_0x21472a(0x641)]};}catch(_0x32ec1c){return console[_0x21472a(0x3d5)](_0x21472a(0x6cb),_0x32ec1c),{'error':_0x32ec1c};}}async[a0_0x22ca69(0x489)](_0x17af97,_0x3c4229,_0x377370){const _0x394d4=a0_0x22ca69;try{return await this[_0x394d4(0x18e)](_0x377370)[_0x394d4(0xf6)]({'_id':_0x17af97},{'$set':_0x3c4229},{'new':!0x0,'upsert':!0x0})[_0x394d4(0x3c6)]();}catch(_0x46ddbb){return console[_0x394d4(0x3d5)](_0x46ddbb),null;}}async[a0_0x22ca69(0x22d)](_0x5e6bcc,_0x3b6740){const _0xa7f90=a0_0x22ca69;try{return await this['getConversationModelForOwner'](_0x3b6740)[_0xa7f90(0x22d)](_0x5e6bcc)[_0xa7f90(0x3a1)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x22ca69(0x743)](_0x27db29,_0x1979a0){const _0x28d470=a0_0x22ca69;try{return await this[_0x28d470(0x18e)](_0x1979a0)[_0x28d470(0x743)]({..._0x27db29[_0x28d470(0x15f)]})['lean']();}catch{return null;}}async[a0_0x22ca69(0x368)](_0x527b82){const _0x1c0691=a0_0x22ca69;try{return await this[_0x1c0691(0x18e)](_0x527b82)[_0x1c0691(0x4e5)][_0x1c0691(0x5e9)](),{'success':!0x0};}catch(_0x4b2b2e){return console['error'](_0x4b2b2e),{'success':!0x1,'error':_0x4b2b2e};}}},is=class extends _{[a0_0x22ca69(0x127)](_0x1ba2db){return ba(_0x1ba2db);}async[a0_0x22ca69(0x256)](_0x1342b7,_0x22bafe){const _0x575302=a0_0x22ca69;try{return await this[_0x575302(0x127)](_0x22bafe)[_0x575302(0x256)](_0x1342b7);}catch(_0x5840aa){return console[_0x575302(0x3d5)](_0x575302(0x1d5),_0x5840aa),null;}}async['createAndSave'](_0x1b0232,_0x2b7ce9){const _0x194af5=a0_0x22ca69;try{let _0x332f34=this[_0x194af5(0x127)](_0x2b7ce9);return await new _0x332f34(_0x1b0232)['save']();}catch(_0x119aa8){return console[_0x194af5(0x3d5)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x119aa8),null;}}async[a0_0x22ca69(0x4d8)](_0x2f7b03,_0x18cac8){const _0x25fa0e=a0_0x22ca69;try{return await this[_0x25fa0e(0x127)](_0x18cac8)['findByIdAndDelete'](_0x2f7b03),{};}catch(_0xd0516){return{'error':_0xd0516?.[_0x25fa0e(0x12e)]()};}}async[a0_0x22ca69(0x489)](_0x535db8,_0x4285bb,_0x14c20d,_0x4eaf8a={}){const _0x262a49=a0_0x22ca69;try{return await this[_0x262a49(0x127)](_0x14c20d)[_0x262a49(0xf6)](_0x535db8,_0x4285bb,{..._0x4eaf8a,'new':!0x0})[_0x262a49(0x3c6)]();}catch(_0x293adf){return console[_0x262a49(0x3d5)](_0x262a49(0x1a2),_0x293adf),null;}}async[a0_0x22ca69(0x60c)](_0x4746b8,_0x1e202d,_0x37f7dd){const _0x2b66c5=a0_0x22ca69;try{return await this['getScheduleMessageModelForOwner'](_0x37f7dd)[_0x2b66c5(0x718)](_0x4746b8,_0x1e202d,{'new':!0x0})['lean']();}catch(_0x51b17d){return console[_0x2b66c5(0x3d5)](_0x2b66c5(0x1a2),_0x51b17d),null;}}async['find'](_0x120ec7,_0x4726fb){const _0x57c5e6=a0_0x22ca69;try{return await this[_0x57c5e6(0x127)](_0x4726fb)['find'](_0x120ec7[_0x57c5e6(0x15f)])[_0x57c5e6(0x4ef)](_0x120ec7?.[_0x57c5e6(0x4ef)]??0x0)[_0x57c5e6(0x3a1)]({'when':0x1})[_0x57c5e6(0x3c6)]();}catch{return[];}}async['findOne'](_0x5d4d46,_0x31d574){const _0x5c976f=a0_0x22ca69;try{return await this[_0x5c976f(0x127)](_0x31d574)[_0x5c976f(0x743)](_0x5d4d46['where'])['sort']({'when':0x1})['lean']();}catch{return null;}}async[a0_0x22ca69(0x2e6)](_0x27aacc,_0x4e1b3f){const _0x596997=a0_0x22ca69;try{return await this[_0x596997(0x127)](_0x4e1b3f)[_0x596997(0x2e6)](_0x27aacc)[_0x596997(0x3c6)]();}catch{return null;}}async['deleteMany'](_0x26e8cc,_0x2c7bd0){const _0x292679=a0_0x22ca69;try{return{'deletedCount':(await this[_0x292679(0x127)](_0x2c7bd0)[_0x292679(0x286)](_0x26e8cc))[_0x292679(0x340)]};}catch(_0x227792){return console['error'](_0x292679(0x2a3),_0x227792),{'error':_0x227792};}}async[a0_0x22ca69(0x368)](_0x3ee6ca){const _0x365110=a0_0x22ca69;try{return await this[_0x365110(0x127)](_0x3ee6ca)['collection'][_0x365110(0x5e9)](),{'success':!0x0};}catch(_0x1286fb){return console['error'](_0x1286fb),{'success':!0x1,'error':_0x1286fb};}}},os=class extends _{async[a0_0x22ca69(0xd6)](_0x123799,_0x41b4d8){const _0x5e5d6c=a0_0x22ca69;try{if(this[_0x5e5d6c(0x1f9)]['ENABLED'])return await Ae[_0x5e5d6c(0xf6)]({'_id':_0x41b4d8},{'$set':_0x123799},{'new':!0x0});}catch(_0xb4dbc){throw console[_0x5e5d6c(0x3d5)](_0x5e5d6c(0x155),_0xb4dbc),_0xb4dbc;}}async[a0_0x22ca69(0x1fc)](_0x28bf01){const _0x555967=a0_0x22ca69;try{let _0x20825c=await Ae[_0x555967(0x2e6)](_0x28bf01);return _0x20825c?_0x20825c[_0x555967(0x2e5)]||(_0x20825c['autoCompleteMessages']=[],await _0x20825c[_0x555967(0x46d)]()):(_0x20825c=new Ae({'_id':_0x28bf01,'autoCompleteMessages':[]}),await _0x20825c['save']()),_0x20825c;}catch(_0x441066){return _0x441066['code']===0x2af8&&_0x441066[_0x555967(0x404)]&&_0x441066['keyPattern'][_0x555967(0x3ad)]?(console['error'](_0x555967(0x258)),await Ae[_0x555967(0x4e5)]['dropIndex'](_0x555967(0x390)),null):(console[_0x555967(0x3d5)](_0x555967(0x27a),_0x441066),null);}}},Fo=new $(a0_0x22ca69(0x7c1)),Uo=new He(S),jo=new qt(S),Jo=new ot(S),qo=new Vt(aa,S),Vo=new es(da,S),Go=new ts(ca,S),Bo=new ve(Ge,S),Wo=new ss(S),zo=new Gt(S),Ho=new as(S),Ko=new is(S),Qo=new os(S),me=new We(Uo,jo,Jo,qo,Vo,Go,Bo,Wo,Ho,zo,Ko,Qo,R?.['getClient']()),G=new Jt(hs,S,me),Yo=new Kt(S,G,me),Xo=new Yt(G),$s=new Zt(Xo),O=new Xt(G),ue=new zt(G,S,me,hs,Yo),B=new Ht(G),P=new Bt(G),q=new Qt(G);function a0_0x18ed(_0x22b471,_0x3c04da){const _0x1b7479=a0_0x1b74();return a0_0x18ed=function(_0x18ed8c,_0x511e09){_0x18ed8c=_0x18ed8c-0x7f;let _0x135f66=_0x1b7479[_0x18ed8c];return _0x135f66;},a0_0x18ed(_0x22b471,_0x3c04da);}Fo[a0_0x22ca69(0x436)](a0_0x22ca69(0x304));var ng=require('express-async-errors'),Fs=require('fs'),Di=T(require(a0_0x22ca69(0x16c))),Pi=T(require(a0_0x22ca69(0x29f))),Fe=class u{static #e;static set[a0_0x22ca69(0x3de)](_0x3d94a7){this.#e=_0x3d94a7;}static get[a0_0x22ca69(0x16c)](){const _0x1b4929=a0_0x22ca69;let {FULLCHAIN:_0x38f63e,PRIVKEY:_0x54eabf}=S[_0x1b4929(0x268)](_0x1b4929(0x11f));return Di[_0x1b4929(0x6c9)]({'cert':(0x0,Fs[_0x1b4929(0x4ae)])(_0x38f63e),'key':(0x0,Fs[_0x1b4929(0x4ae)])(_0x54eabf)},u.#e);}static get['http'](){const _0x3e38b6=a0_0x22ca69;return Pi[_0x3e38b6(0x6c9)](u.#e);}},Ue=T(require('fs')),Ji=T(require(a0_0x22ca69(0x31a))),je=T(require(a0_0x22ca69(0x383))),ns=T(require(a0_0x22ca69(0x755))),rs=require('child_process');function Zo(){const _0x2f5aae=a0_0x22ca69;G[_0x2f5aae(0x3ee)]();let _0x18f13f=ns['default'][_0x2f5aae(0x20b)](__dirname,_0x2f5aae(0x487));ji(_0x18f13f);}var ji=_0x5092b3=>{const _0x263d5c=a0_0x22ca69;let _0x43b81d=Ue[_0x263d5c(0x4ba)][_0x263d5c(0x316)](_0x5092b3),_0x322e82=0xc*0x3c*0x3c*0x3e8,_0x143843=0x2*0x3c*0x3c*0x3e8,_0x37c72e=new Date()[_0x263d5c(0x287)]();_0x43b81d[_0x263d5c(0x2e7)](_0x53cb0b=>{const _0x2fdd30=_0x263d5c;let _0x3e7fe2=ns[_0x2fdd30(0x4ba)][_0x2fdd30(0x20b)](_0x5092b3,_0x53cb0b),_0x212491=Ue[_0x2fdd30(0x4ba)][_0x2fdd30(0x704)](_0x3e7fe2)[_0x2fdd30(0x3ae)][_0x2fdd30(0x287)]();_0x37c72e-_0x212491>_0x322e82&&(Ue['default']['unlinkSync'](_0x3e7fe2),console['log'](_0x2fdd30(0x448)+_0x53cb0b));}),setTimeout(()=>ji(_0x5092b3),_0x143843);};function er(){const _0x56c4a8=a0_0x22ca69;let _0x5d81e5=new $('SERVER'),_0x2802df=(0x0,we[_0x56c4a8(0x4ba)])();_0x2802df[_0x56c4a8(0x2fd)]((0x0,Ui[_0x56c4a8(0x4ba)])({'origin'(_0x185695,_0x49ab46){const _0x165cdd=_0x56c4a8;let {ORIGIN:_0x46302b}=S[_0x165cdd(0x268)](_0x165cdd(0x437));return _0x185695||(_0x185695='*'),_0x46302b[_0x165cdd(0x631)]('*')!==-0x1||_0x46302b['indexOf'](_0x185695)!==-0x1?_0x49ab46(null,!0x0):_0x49ab46(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S['get']('CORS')['METHODS']],'credentials':S['get'](_0x56c4a8(0x437))[_0x56c4a8(0x5ca)]}),(0x0,we[_0x56c4a8(0x672)])({'extended':!0x0,'limit':_0x56c4a8(0x20c)}),(0x0,we[_0x56c4a8(0x5f7)])({'limit':_0x56c4a8(0x20c)})),_0x2802df[_0x56c4a8(0x2fd)]((_0x3a9193,_0xd53cf4,_0x50cdcc)=>{const _0x40b0fc=_0x56c4a8;_0x3a9193[_0x40b0fc(0x755)][_0x40b0fc(0x230)](_0x40b0fc(0x32b))?_0x50cdcc():(0x0,Fi[_0x40b0fc(0x4ba)])()(_0x3a9193,_0xd53cf4,_0x50cdcc);}),_0x2802df[_0x56c4a8(0x429)](_0x56c4a8(0x85),_0x56c4a8(0x331)),_0x2802df[_0x56c4a8(0x429)](_0x56c4a8(0x6a8),(0x0,js[_0x56c4a8(0x20b)])(ne,_0x56c4a8(0x6a8))),_0x2802df[_0x56c4a8(0x2fd)](we[_0x56c4a8(0x4ba)][_0x56c4a8(0x3e8)]((0x0,js[_0x56c4a8(0x20b)])(ne,_0x56c4a8(0x761)))),_0x2802df[_0x56c4a8(0x2fd)]((_0x4b96f3,_0x85cbc6,_0x9312f9)=>{const _0x3858c4=_0x56c4a8;let _0x4e22a2=_0x85cbc6[_0x3858c4(0x76f)];_0x85cbc6[_0x3858c4(0x76f)]=function(_0x2ef1c9){const _0x5e1142=_0x3858c4;if(_0x4b96f3[_0x5e1142(0x7c6)][_0x5e1142(0x525)]===_0x5e1142(0x59e)||_0x4b96f3[_0x5e1142(0x5c7)]['uazapi']===_0x5e1142(0x59e)){let _0x33c728=JSON[_0x5e1142(0x4d0)](_0x2ef1c9);_0x2ef1c9=JSON[_0x5e1142(0x3d0)](_0x23d826(_0x33c728));}return _0x4e22a2[_0x5e1142(0x4ca)](_0x85cbc6,[_0x2ef1c9]);},_0x9312f9();}),_0x2802df[_0x56c4a8(0x2fd)]('/',Pe),_0x2802df['use']((_0x5b86bf,_0x31a0a5,_0x281c91,_0x37464a)=>{const _0x531a65=_0x56c4a8;if(_0x5b86bf)return _0x281c91[_0x531a65(0x172)](_0x5b86bf['status']||0x1f4)['json'](_0x5b86bf);},(_0x33f76a,_0x3edffc,_0x5bd435)=>{const _0x467c5b=_0x56c4a8;let {method:_0x4314c3,url:_0x555f47}=_0x33f76a;_0x3edffc[_0x467c5b(0x172)](0x194)[_0x467c5b(0x5f7)]({'status':0x194,'message':'Cannot\x20'+_0x4314c3[_0x467c5b(0x45f)]()+'\x20'+_0x555f47,'error':_0x467c5b(0x293)}),_0x5bd435();});let _0x23d826=(_0x5060b1,_0x11c8c1=_0x56c4a8(0x36f))=>{const _0x3c22c7=_0x56c4a8;let _0x19d426=(_0x3462a0,_0x1f9ff0=null,_0x4aa6eb=!0x1)=>{const _0x51af39=a0_0x18ed;let _0x1333da={};return Object[_0x51af39(0x22b)](_0x3462a0)[_0x51af39(0x2e7)](_0x590e07=>{const _0x23dd59=_0x51af39;let _0x45230e=_0x3462a0[_0x590e07],_0x39c5ba=''+_0x11c8c1+_0x590e07;_0x1f9ff0&&!_0x4aa6eb&&(_0x39c5ba=_0x1f9ff0+'.'+_0x590e07),!_0x45230e&&_0x45230e!==0x0&&_0x45230e!==!0x1||typeof _0x45230e>'u'?_0x1333da[_0x39c5ba]=null:typeof _0x45230e!='object'&&!Array['isArray'](_0x45230e)?_0x1333da[_0x39c5ba]=_0x45230e:typeof _0x45230e==_0x23dd59(0x769)&&!Array['isArray'](_0x45230e)?_0x1333da=Object[_0x23dd59(0x6c0)](_0x1333da,_0x19d426(_0x45230e,_0x39c5ba)):Array[_0x23dd59(0x612)](_0x45230e)&&(typeof _0x45230e[0x0]==_0x23dd59(0x769)?(_0x1333da[_0x39c5ba]=[],_0x45230e[_0x23dd59(0x2e7)](_0x46928b=>{const _0x5232bc=_0x23dd59;_0x1333da[_0x39c5ba][_0x5232bc(0x35a)](_0x19d426(_0x46928b,_0x39c5ba,!0x0));})):_0x1333da[_0x39c5ba]=_0x45230e);}),_0x1333da;};return Array[_0x3c22c7(0x612)](_0x5060b1)?_0x5060b1[_0x3c22c7(0x322)](_0x1aae9a=>_0x19d426(_0x1aae9a)):typeof _0x5060b1==_0x3c22c7(0x769)&&_0x5060b1!==null?_0x19d426(_0x5060b1):{};},_0x5e77bb=S[_0x56c4a8(0x268)](_0x56c4a8(0x3ea));Fe['app']=_0x2802df;let _0x5ba036=Fe[_0x5e77bb[_0x56c4a8(0x393)]],_0x5d12ee='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x5ba036[_0x56c4a8(0x5bf)](_0x5e77bb[_0x56c4a8(0x2c5)],()=>{const _0x2577f1=_0x56c4a8;_0x5d81e5[_0x2577f1(0x2f8)](_0x5d12ee),_0x5d81e5[_0x2577f1(0x2f8)](_0x5e77bb[_0x2577f1(0x393)][_0x2577f1(0x45f)]()+_0x2577f1(0xf9)+_0x5e77bb['PORT']);}),Zo(),Ys();}var tr=a0_0x22ca69(0x403),sr=ns[a0_0x22ca69(0x4ba)][a0_0x22ca69(0x20b)](__dirname,a0_0x22ca69(0x193)),$e=null;function ar(){return new Promise((_0x496e53,_0xc8338d)=>{const _0x4a703c=a0_0x18ed;Ue[_0x4a703c(0x4ba)][_0x4a703c(0x310)](sr,_0x4a703c(0x248),(_0x39bb73,_0x2d0113)=>{const _0x1a797c=_0x4a703c;if(_0x39bb73){$e=_0x39bb73,_0x496e53();return;}Ji[_0x1a797c(0x4ba)][_0x1a797c(0x4d0)](_0x2d0113)[_0x1a797c(0x3d8)]['url']===tr?($e=null,_0x496e53()):($e=new Error(_0x1a797c(0x7b2)),_0x496e53());});});}async function ir(){const _0x138b0a=a0_0x22ca69;try{await ar(),await Js();}catch(_0x4b660f){console['error'](_0x138b0a(0x117)+_0x4b660f),process[_0x138b0a(0x496)](0x1);}}ir();async function qi(){const _0x1bc2c5=a0_0x22ca69;let _0x53dd46;try{_0x53dd46=(await je[_0x1bc2c5(0x4ba)][_0x1bc2c5(0x268)](_0x1bc2c5(0x4bf)))[_0x1bc2c5(0x758)]['ip'];}catch(_0x414d8c){console[_0x1bc2c5(0x3d5)](_0x414d8c);try{_0x53dd46=(await je[_0x1bc2c5(0x4ba)][_0x1bc2c5(0x268)]('https://api.ipify.org?format=json'))[_0x1bc2c5(0x758)]['ip'];}catch(_0x2e4d13){console['error'](_0x2e4d13);try{_0x53dd46=(await je[_0x1bc2c5(0x4ba)]['get'](_0x1bc2c5(0x6e8)))[_0x1bc2c5(0x758)][_0x1bc2c5(0x44f)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xd87947){return console['error'](_0xd87947),!0x1;}}}return _0x53dd46;}var ki=0x0;async function or(){const _0x3264fd=a0_0x22ca69;let _0x5ba9d2=await new de(S[_0x3264fd(0x268)](_0x3264fd(0x52a)))[_0x3264fd(0x4c3)]();return console[_0x3264fd(0x2f8)](_0x3264fd(0x473),_0x5ba9d2[_0x3264fd(0x6a0)]),_0x5ba9d2[_0x3264fd(0x6a0)];}function rr(_0x52c1e1){const _0x1d6698=a0_0x22ca69;let _0x20497f=_0x52c1e1[_0x1d6698(0x268)](_0x1d6698(0x3ea))[_0x1d6698(0x6ba)],_0x56d143=_0x52c1e1[_0x1d6698(0x268)](_0x1d6698(0x11f));console[_0x1d6698(0x2f8)](_0x1d6698(0x1eb),_0x20497f),console[_0x1d6698(0x2f8)]('Configuração\x20SSL\x20recuperada:',_0x56d143);let _0x434a7b='',_0x5e06cd=_0x20497f||'';if(_0x20497f){let _0x29e563=_0x20497f[_0x1d6698(0x44f)](/\/\/(.*?)\./);console[_0x1d6698(0x2f8)](_0x1d6698(0x1d6),_0x29e563),_0x29e563&&_0x29e563[0x1]&&(_0x434a7b=_0x29e563[0x1],console[_0x1d6698(0x2f8)]('Subdomínio\x20extraído\x20da\x20URL:',_0x434a7b));}if(!_0x434a7b&&_0x56d143&&_0x56d143[_0x1d6698(0x138)]){let _0x573e24=_0x56d143[_0x1d6698(0x138)][_0x1d6698(0x6fc)]('/');console[_0x1d6698(0x2f8)]('Partes\x20do\x20caminho\x20FULLCHAIN:',_0x573e24);let _0x23c19e=_0x573e24[_0x573e24[_0x1d6698(0x6a0)]-0x2];if(console[_0x1d6698(0x2f8)]('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x23c19e),_0x23c19e){let _0x4b95d8=_0x23c19e[_0x1d6698(0x6fc)]('.');console[_0x1d6698(0x2f8)]('Partes\x20do\x20domínio:',_0x4b95d8),_0x4b95d8[_0x1d6698(0x6a0)]>0x2&&(_0x434a7b=_0x4b95d8[0x0],console[_0x1d6698(0x2f8)](_0x1d6698(0x780),_0x434a7b),_0x5e06cd=''+_0x23c19e);}}return{'subdomain':_0x434a7b||_0x1d6698(0x548),'fullURL':_0x5e06cd||_0x1d6698(0x568)};}var {subdomain:W,fullURL:qs}=rr(S);console[a0_0x22ca69(0x2f8)](a0_0x22ca69(0x156),W),console['log'](a0_0x22ca69(0x6cc),qs);async function nr(){const _0x5c4084=a0_0x22ca69;let _0x11b32d=S[_0x5c4084(0x268)](_0x5c4084(0x52a)),_0x49b87a=S[_0x5c4084(0x268)](_0x5c4084(0x78b))[_0x5c4084(0x610)][_0x5c4084(0x149)],_0x1e6e60=S[_0x5c4084(0x268)]('SSL_CONF'),_0x33786c=await qi(),_0x5db56d=S[_0x5c4084(0x268)](_0x5c4084(0x3ea))[_0x5c4084(0x2c5)],_0x32fa45=qs;try{let _0x51c55e={'ip':_0x33786c||null,'redis_enable':_0x11b32d?.[_0x5c4084(0x37a)]||null,'apikey':_0x49b87a||null,'ssl':_0x1e6e60?.[_0x5c4084(0x5d3)]||null,'lastupdate':Vi||null,'port':_0x5db56d||null,'gitInstallError':$e?.['message']||null,'url':_0x32fa45||null,'subdomain':W};if(console['log']('ip:\x20',_0x51c55e['ip']),_0x11b32d&&_0x11b32d[_0x5c4084(0x37a)]){let _0x421047=await or();_0x51c55e[_0x5c4084(0x49e)]=_0x421047||null;}for(let _0x4cc260 in _0x51c55e)_0x51c55e[_0x5c4084(0x4ea)](_0x4cc260)&&_0x4cc260!=='ip'&&(_0x51c55e[_0x4cc260]=JSON[_0x5c4084(0x3d0)](_0x51c55e[_0x4cc260]));return(await je[_0x5c4084(0x4ba)][_0x5c4084(0x71a)](_0x5c4084(0x7d0),_0x51c55e))['data'];}catch(_0x134c53){return console[_0x5c4084(0x3d5)](_0x134c53),!0x1;}}var Us=!0x1,Vi=0x269,cr=0x3,Li=0x1b7740;async function Js(){const _0x162b5b=a0_0x22ca69;let _0x173e53=_0x162b5b(0x707);$e===null&&(_0x173e53=await qi());let _0x5bbe03=await nr();if(_0x5bbe03){if(_0x5bbe03[_0x162b5b(0x363)][_0x162b5b(0x33f)]===!0x0){$e===null&&_0x5bbe03[_0x162b5b(0x363)][_0x162b5b(0x1d9)]-Vi>0x0&&await lr(),Us||(Us=!0x0,er());let _0x2241c2=0x24*0x3c*0x3c,_0x52c82b=_0x5bbe03['response'][_0x162b5b(0x2b2)]>_0x2241c2?_0x2241c2:_0x5bbe03[_0x162b5b(0x363)][_0x162b5b(0x2b2)],_0x3911f7=Number(_0x52c82b);if(isNaN(_0x3911f7)){console[_0x162b5b(0x3d5)](_0x162b5b(0x1d0));return;}let _0x1053b6=Math['floor'](_0x3911f7/0xe10),_0x5ccc14=Math[_0x162b5b(0x17f)](_0x3911f7%0xe10/0x3c),_0x33de04=new Date(Date[_0x162b5b(0x690)]()+_0x3911f7*0x3e8);setTimeout(Js,_0x3911f7*0x3e8);let _0x191d45=_0x34ac75=>_0x34ac75[_0x162b5b(0x12e)]()[_0x162b5b(0x58a)](0x2,'0'),_0x560d63=_0x162b5b(0x688)+_0x191d45(_0x1053b6)+'\x20horas\x20e\x20'+_0x191d45(_0x5ccc14)+_0x162b5b(0x507)+_0x191d45(_0x33de04['getHours']())+':'+_0x191d45(_0x33de04[_0x162b5b(0x63b)]())+'.';console[_0x162b5b(0x2f8)](_0x560d63);}else return console[_0x162b5b(0x2f8)](_0x162b5b(0x226)),Us&&(console[_0x162b5b(0x2f8)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x162b5b(0x496)]()),_0x162b5b(0x7af);}else{if(ki++,ki<cr)console['log'](_0x162b5b(0x70a)+Li/0xea60+'\x20minutos...'),setTimeout(Js,Li);else return console[_0x162b5b(0x3d5)](_0x162b5b(0x7f)),_0x162b5b(0x1a6);}}async function lr(){const _0x254d97=a0_0x22ca69;console[_0x254d97(0x2f8)](_0x254d97(0x212)),console[_0x254d97(0x2f8)](_0x254d97(0x199)),(0x0,rs[_0x254d97(0x495)])('pm2\x20flush',{'shell':!0x0})['on'](_0x254d97(0x18c),_0x261b3b=>{const _0x2f3c0c=_0x254d97;_0x261b3b!==0x0?console[_0x2f3c0c(0x3d5)](_0x2f3c0c(0x5ae)):(console[_0x2f3c0c(0x2f8)]('Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.'),console['log'](_0x2f3c0c(0x584)),(0x0,rs[_0x2f3c0c(0x495)])(_0x2f3c0c(0x63d),{'shell':!0x0})['on']('close',_0x5934ae=>{const _0x77259f=_0x2f3c0c;if(_0x5934ae!==0x0)console[_0x77259f(0x3d5)](_0x77259f(0x7b0));else{console[_0x77259f(0x2f8)](_0x77259f(0x2c0));let _0x2fe8ab=(0x0,rs[_0x77259f(0x495)])(_0x77259f(0x4c5),{'shell':!0x0});_0x2fe8ab[_0x77259f(0x17e)]['on'](_0x77259f(0x758),_0x4a07ae=>{console['log']('Atualização:\x20'+_0x4a07ae);}),_0x2fe8ab[_0x77259f(0x40d)]['on'](_0x77259f(0x758),_0x383813=>{const _0x36cf72=_0x77259f;console[_0x36cf72(0x3d5)](_0x36cf72(0x7ce)+_0x383813);}),_0x2fe8ab['on'](_0x77259f(0x496),_0x2afcc4=>{const _0x548b72=_0x77259f;_0x2afcc4!==0x0?console[_0x548b72(0x3d5)](_0x548b72(0x2f7)+_0x2afcc4):console[_0x548b72(0x2f8)](_0x548b72(0x3f6)),console[_0x548b72(0x2f8)](_0x548b72(0x5a3)),setTimeout(()=>process[_0x548b72(0x496)](),0x2710);});}}));});}0x0&&(module[a0_0x22ca69(0x3ff)]={'fullURL':fullURL,'subdomain':subdomain});