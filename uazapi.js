const a0_0x556deb=a0_0x2d74;(function(_0x1375bf,_0x163752){const _0x18447d=a0_0x2d74,_0x8c6858=_0x1375bf();while(!![]){try{const _0x1f3fa4=-parseInt(_0x18447d(0x716))/0x1*(-parseInt(_0x18447d(0x79e))/0x2)+parseInt(_0x18447d(0x688))/0x3+-parseInt(_0x18447d(0x527))/0x4+-parseInt(_0x18447d(0x2fe))/0x5*(-parseInt(_0x18447d(0x566))/0x6)+parseInt(_0x18447d(0x64e))/0x7+-parseInt(_0x18447d(0x478))/0x8*(-parseInt(_0x18447d(0x757))/0x9)+-parseInt(_0x18447d(0x76c))/0xa*(parseInt(_0x18447d(0x539))/0xb);if(_0x1f3fa4===_0x163752)break;else _0x8c6858['push'](_0x8c6858['shift']());}catch(_0xd65f7d){_0x8c6858['push'](_0x8c6858['shift']());}}}(a0_0x4ca5,0x90757));var wo=Object[a0_0x556deb(0x5e3)],Ns=Object['defineProperty'],yo=Object[a0_0x556deb(0x5d0)],bo=Object[a0_0x556deb(0x583)],So=Object[a0_0x556deb(0x3f7)],Eo=Object[a0_0x556deb(0x4a6)]['hasOwnProperty'],vo=(_0x2c2c45,_0x27be76,_0x5fc4c8,_0x448d83)=>{const _0x59f56c=a0_0x556deb;if(_0x27be76&&typeof _0x27be76==_0x59f56c(0x1ff)||typeof _0x27be76==_0x59f56c(0x4e2)){for(let _0x10ec76 of bo(_0x27be76))!Eo[_0x59f56c(0x756)](_0x2c2c45,_0x10ec76)&&_0x10ec76!==_0x5fc4c8&&Ns(_0x2c2c45,_0x10ec76,{'get':()=>_0x27be76[_0x10ec76],'enumerable':!(_0x448d83=yo(_0x27be76,_0x10ec76))||_0x448d83['enumerable']});}return _0x2c2c45;},T=(_0x150369,_0x4f577f,_0x458eeb)=>(_0x458eeb=_0x150369!=null?wo(So(_0x150369)):{},vo(_0x4f577f||!_0x150369||!_0x150369['__esModule']?Ns(_0x458eeb,a0_0x556deb(0x595),{'value':_0x150369,'enumerable':!0x0}):_0x458eeb,_0x150369)),lo=T(require(a0_0x556deb(0x6f1))),Ts=require('fs'),Rs=require(a0_0x556deb(0x4c8)),Ms=require(a0_0x556deb(0x35c)),De=require(a0_0x556deb(0x35c)),Q=process['cwd'](),V=(0x0,De[a0_0x556deb(0x226)])(Q,a0_0x556deb(0x1fa)),Cs=(0x0,De[a0_0x556deb(0x226)])(Q,a0_0x556deb(0x52c)),Gt=(0x0,De['join'])(Q,a0_0x556deb(0x3fd),a0_0x556deb(0x288)),As=require('class-validator'),Wt=class{constructor(){const _0x10f0a9=a0_0x556deb;this[_0x10f0a9(0x4d5)]();}[a0_0x556deb(0x52b)](_0xd6572f){return this['env'][_0xd6572f];}['loadEnv'](){const _0x4891f6=a0_0x556deb;this[_0x4891f6(0x77e)]=process[_0x4891f6(0x77e)]?.['DOCKER_ENV']!=='true'?this[_0x4891f6(0x261)]():this[_0x4891f6(0x660)](),this['env'][_0x4891f6(0x3e5)]=process['env']?.[_0x4891f6(0x774)]==='PROD',process[_0x4891f6(0x77e)]?.[_0x4891f6(0x45d)]===_0x4891f6(0x441)&&(this[_0x4891f6(0x77e)][_0x4891f6(0x4f9)][_0x4891f6(0x61e)]=_0x4891f6(0x695),this[_0x4891f6(0x77e)][_0x4891f6(0x4f9)][_0x4891f6(0x3de)]=Number[_0x4891f6(0x4fc)](process[_0x4891f6(0x77e)]?.['SERVER_PORT']??_0x4891f6(0x5bd)));}[a0_0x556deb(0x261)](){const _0x5e8053=a0_0x556deb;return(0x0,Rs[_0x5e8053(0x2d4)])((0x0,Ts[_0x5e8053(0x40f)])((0x0,Ms[_0x5e8053(0x226)])(Cs,_0x5e8053(0x54b)),{'encoding':_0x5e8053(0x3ea)}));}[a0_0x556deb(0x660)](){const _0x449611=a0_0x556deb;return{'SERVER':{'TYPE':process[_0x449611(0x77e)][_0x449611(0x38c)],'PORT':Number[_0x449611(0x4fc)](process[_0x449611(0x77e)][_0x449611(0x5fa)])},'CORS':{'ORIGIN':process['env']['CORS_ORIGIN']['split'](','),'METHODS':process['env'][_0x449611(0x2ec)][_0x449611(0x23e)](','),'CREDENTIALS':process[_0x449611(0x77e)]?.[_0x449611(0x5f8)]===_0x449611(0x441)},'SSL_CONF':{'PRIVKEY':process[_0x449611(0x77e)]?.[_0x449611(0x5b2)],'FULLCHAIN':process['env']?.[_0x449611(0x1e5)]},'STORE':{'CLEANING_INTERVAL':Number[_0x449611(0x364)](process[_0x449611(0x77e)]?.[_0x449611(0x455)])?Number['parseInt'](process[_0x449611(0x77e)][_0x449611(0x455)]):void 0x0,'MESSAGES':process[_0x449611(0x77e)]?.['STORE_MESSAGE']===_0x449611(0x441),'CONTACTS':process['env']?.[_0x449611(0x6fc)]==='true','CHATS':process[_0x449611(0x77e)]?.[_0x449611(0x2e2)]===_0x449611(0x441)},'DATABASE':{'CONNECTION':{'HOST':process[_0x449611(0x77e)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x449611(0x4fc)](process[_0x449611(0x77e)]?.[_0x449611(0x4ff)]),'USER':process[_0x449611(0x77e)][_0x449611(0x521)],'PASSWORD':process[_0x449611(0x77e)][_0x449611(0x5da)],'URI':process['env']['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x449611(0x77e)][_0x449611(0x41e)]},'ENABLED':process[_0x449611(0x77e)]?.['DATABASE_ENABLED']===_0x449611(0x441)},'REDIS':{'ENABLED':process[_0x449611(0x77e)]?.[_0x449611(0x4a5)]==='true','URI':process[_0x449611(0x77e)][_0x449611(0x744)],'PREFIX_KEY':process[_0x449611(0x77e)]['REDIS_PREFIX_KEY']},'LOG':{'LEVEL':process[_0x449611(0x77e)]?.['LOG_LEVEL'][_0x449611(0x23e)](','),'COLOR':process[_0x449611(0x77e)]?.[_0x449611(0x391)]==='true'},'DEL_INSTANCE':(0x0,As['isBooleanString'])(process[_0x449611(0x77e)]?.[_0x449611(0x63b)])?process['env'][_0x449611(0x63b)]===_0x449611(0x441):Number['parseInt'](process[_0x449611(0x77e)][_0x449611(0x63b)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process['env'][_0x449611(0x2d8)]?process[_0x449611(0x77e)][_0x449611(0x2d8)]===_0x449611(0x441):!0x1,'GLOBAL':{'URL':process[_0x449611(0x77e)]?.[_0x449611(0x2d5)],'ENABLED':process['env']?.[_0x449611(0x6dc)]===_0x449611(0x441)},'EVENTS':{'STATUS_INSTANCE':process[_0x449611(0x77e)]?.['WEBHOOK_EVENTS_STATUS_INSTANCE']==='true','QRCODE_UPDATED':process[_0x449611(0x77e)]?.[_0x449611(0x545)]===_0x449611(0x441),'MESSAGES_SET':process[_0x449611(0x77e)]?.[_0x449611(0x6a6)]===_0x449611(0x441),'MESSAGES_UPSERT':process[_0x449611(0x77e)]?.[_0x449611(0x53a)]==='true','MESSAGES_UPDATE':process[_0x449611(0x77e)]?.['WEBHOOK_EVENTS_MESSAGES_UPDATE']===_0x449611(0x441),'SEND_MESSAGE':process['env']?.[_0x449611(0x56b)]===_0x449611(0x441),'CONTACTS_SET':process['env']?.[_0x449611(0x1f6)]==='true','CONTACTS_UPDATE':process[_0x449611(0x77e)]?.['WEBHOOK_EVENTS_CONTACTS_UPDATE']===_0x449611(0x441),'CONTACTS_UPSERT':process[_0x449611(0x77e)]?.[_0x449611(0x32f)]===_0x449611(0x441),'PRESENCE_UPDATE':process[_0x449611(0x77e)]?.[_0x449611(0x690)]===_0x449611(0x441),'CHATS_SET':process[_0x449611(0x77e)]?.['WEBHOOK_EVENTS_CHATS_SET']===_0x449611(0x441),'CHATS_UPDATE':process['env']?.[_0x449611(0x73b)]===_0x449611(0x441),'CHATS_UPSERT':process[_0x449611(0x77e)]?.['WEBHOOK_EVENTS_CHATS_UPSERT']===_0x449611(0x441),'CHATS_DELETE':process[_0x449611(0x77e)]?.['WEBHOOK_EVENTS_CHATS_DELETE']===_0x449611(0x441),'CONNECTION_UPDATE':process[_0x449611(0x77e)]?.[_0x449611(0x51d)]==='true','GROUPS_UPSERT':process[_0x449611(0x77e)]?.[_0x449611(0x57e)]===_0x449611(0x441),'GROUP_UPDATE':process[_0x449611(0x77e)]?.['WEBHOOK_EVENTS_GROUPS_UPDATE']===_0x449611(0x441),'GROUP_PARTICIPANTS_UPDATE':process['env']?.[_0x449611(0x3c1)]===_0x449611(0x441),'NEW_JWT_TOKEN':process[_0x449611(0x77e)]?.[_0x449611(0x32b)]===_0x449611(0x441)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x449611(0x77e)]?.[_0x449611(0x59c)]||_0x449611(0x629),'NAME':process[_0x449611(0x77e)]?.[_0x449611(0x683)]||_0x449611(0x66b)},'QRCODE':{'LIMIT':Number[_0x449611(0x4fc)](process[_0x449611(0x77e)]['QRCODE_LIMIT'])||0x5},'TRIAL_AD':process[_0x449611(0x77e)]?.['TRIAL_AD'],'TRIAL_INSTANCE_NAME':process[_0x449611(0x77e)]?.[_0x449611(0x23d)],'AUTHENTICATION':{'TYPE':process[_0x449611(0x77e)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x449611(0x77e)][_0x449611(0x3bc)]},'JWT':{'EXPIRIN_IN':Number[_0x449611(0x364)](process[_0x449611(0x77e)]?.[_0x449611(0x21b)])?Number['parseInt'](process[_0x449611(0x77e)][_0x449611(0x21b)]):0xe10,'SECRET':process[_0x449611(0x77e)][_0x449611(0x381)]}}};}},S=new Wt(),uo=T(require('cors')),me=T(require(a0_0x556deb(0x4e3))),Ss=require(a0_0x556deb(0x35c)),Ht=T(require(a0_0x556deb(0x41f))),Kt=(_0x509be6=>(_0x509be6[a0_0x556deb(0x4b5)]=a0_0x556deb(0x490),_0x509be6['INFO']=a0_0x556deb(0x4de),_0x509be6['WARN']=a0_0x556deb(0x78b),_0x509be6[a0_0x556deb(0x44f)]=a0_0x556deb(0x755),_0x509be6[a0_0x556deb(0x3c8)]=a0_0x556deb(0x76e),_0x509be6[a0_0x556deb(0x6ce)]=a0_0x556deb(0x2d2),_0x509be6[a0_0x556deb(0x247)]=a0_0x556deb(0x74e),_0x509be6))(Kt||{}),Is=(_0x10cff5=>(_0x10cff5[a0_0x556deb(0x4b5)]=a0_0x556deb(0x5eb),_0x10cff5[a0_0x556deb(0x247)]=a0_0x556deb(0x36c),_0x10cff5[a0_0x556deb(0x414)]='\x1b[34m%s\x1b[0m',_0x10cff5[a0_0x556deb(0x49d)]=a0_0x556deb(0x6e5),_0x10cff5[a0_0x556deb(0x44f)]=a0_0x556deb(0x2eb),_0x10cff5[a0_0x556deb(0x3c8)]=a0_0x556deb(0x282),_0x10cff5[a0_0x556deb(0x6ce)]=a0_0x556deb(0x456),_0x10cff5))(Is||{}),Os=(_0x5c5c5d=>(_0x5c5c5d['LOG']='LOG',_0x5c5c5d[a0_0x556deb(0x49d)]=a0_0x556deb(0x49d),_0x5c5c5d[a0_0x556deb(0x414)]=a0_0x556deb(0x414),_0x5c5c5d['DARK']='DARK',_0x5c5c5d['ERROR']=a0_0x556deb(0x44f),_0x5c5c5d[a0_0x556deb(0x3c8)]=a0_0x556deb(0x3c8),_0x5c5c5d[a0_0x556deb(0x6ce)]='VERBOSE',_0x5c5c5d))(Os||{}),Ds=(_0x1bb323=>(_0x1bb323['LOG']=a0_0x556deb(0x717),_0x1bb323[a0_0x556deb(0x414)]=a0_0x556deb(0x625),_0x1bb323[a0_0x556deb(0x49d)]=a0_0x556deb(0x77a),_0x1bb323['DARK']=a0_0x556deb(0x27d),_0x1bb323['ERROR']='\x1b[41m',_0x1bb323[a0_0x556deb(0x3c8)]='\x1b[46m',_0x1bb323[a0_0x556deb(0x6ce)]=a0_0x556deb(0x450),_0x1bb323))(Ds||{}),C=class{constructor(_0x595a6f=a0_0x556deb(0x271)){const _0x2c14c3=a0_0x556deb;this[_0x2c14c3(0x3ee)]=_0x595a6f,this[_0x2c14c3(0x31b)]=S;}[a0_0x556deb(0x601)](_0x5eabaf){this['context']=_0x5eabaf;}[a0_0x556deb(0x659)](_0x4e0d04,_0x4fc0f5){const _0x53efa4=a0_0x556deb;let _0x40f6bf=[];this[_0x53efa4(0x31b)][_0x53efa4(0x52b)](_0x53efa4(0x4b5))[_0x53efa4(0x393)][_0x53efa4(0x513)](_0x482119=>_0x40f6bf[_0x53efa4(0x73a)](Os[_0x482119]));let _0x334749=typeof _0x4e0d04;_0x40f6bf[_0x53efa4(0x619)](_0x4fc0f5)&&(S[_0x53efa4(0x52b)](_0x53efa4(0x4b5))[_0x53efa4(0x6bb)]?(console[_0x53efa4(0x340)]('\x1b[1m'+Is[_0x4fc0f5],'\x1b[1m\x1b[37m',(0x0,Ht['default'])()[_0x53efa4(0x62e)]('DD/MM\x20HH:mm:ss'),_0x53efa4(0x37e),Kt[_0x4fc0f5]+Ds[_0x4fc0f5]+_0x53efa4(0x3ff),_0x4fc0f5+_0x53efa4(0x3ad),_0x53efa4(0x4c3),this[_0x53efa4(0x3ee)]+'\x1b[0m',Kt[_0x4fc0f5],_0x334749!=='object'?_0x4e0d04:'','\x1b[0m'),_0x334749===_0x53efa4(0x1ff)&&console[_0x53efa4(0x340)](_0x4e0d04,'\x0a')):console[_0x53efa4(0x340)]((0x0,Ht[_0x53efa4(0x595)])()[_0x53efa4(0x62e)](_0x53efa4(0x4a0)),_0x4fc0f5+'\x20',''+this[_0x53efa4(0x3ee)],_0x4e0d04));}[a0_0x556deb(0x340)](_0x1ffde6){const _0x44df38=a0_0x556deb;this[_0x44df38(0x659)](_0x1ffde6,_0x44df38(0x4b5));}['info'](_0x3c239b){const _0x22f8c2=a0_0x556deb;this[_0x22f8c2(0x659)](_0x3c239b,_0x22f8c2(0x414));}[a0_0x556deb(0x509)](_0x469beb){const _0x54b45f=a0_0x556deb;this[_0x54b45f(0x659)](_0x469beb,_0x54b45f(0x49d));}[a0_0x556deb(0x2e0)](_0x1ebd8a){const _0x552a38=a0_0x556deb;this[_0x552a38(0x659)](_0x1ebd8a,_0x552a38(0x44f));}[a0_0x556deb(0x31f)](_0x3bb426){const _0x57f58f=a0_0x556deb;this[_0x57f58f(0x659)](_0x3bb426,_0x57f58f(0x6ce));}[a0_0x556deb(0x213)](_0x42ca47){const _0x175e39=a0_0x556deb;this['console'](_0x42ca47,_0x175e39(0x3c8));}[a0_0x556deb(0x5ad)](_0x5654a2){const _0x3d963f=a0_0x556deb;this[_0x3d963f(0x659)](_0x5654a2,'DARK');}};function _s(){const _0x489f73=a0_0x556deb;process['on'](_0x489f73(0x327),(_0x39a21a,_0x21e004)=>{const _0x16d005=_0x489f73;new C(_0x16d005(0x327))[_0x16d005(0x2e0)]({'origin':_0x21e004,'stderr':process[_0x16d005(0x33d)]['fd'],'error':_0x39a21a});}),process['on']('unhandledRejection',(_0x5af889,_0x4369cd)=>{const _0x249007=_0x489f73;new C(_0x249007(0x667))[_0x249007(0x2e0)]({'origin':_0x4369cd,'stderr':process[_0x249007(0x33d)]['fd'],'error':_0x5af889});});}var Ps=T(require(a0_0x556deb(0x67c))),zt=new Ps[(a0_0x556deb(0x595))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),_e=require(a0_0x556deb(0x402)),Qt=T(require(a0_0x556deb(0x402))),No=new C(a0_0x556deb(0x555)),q=S[a0_0x556deb(0x52b)](a0_0x556deb(0x621)),M=q[a0_0x556deb(0x662)]?q[a0_0x556deb(0x29c)][a0_0x556deb(0x293)]?Qt[a0_0x556deb(0x595)][a0_0x556deb(0x34f)](q[a0_0x556deb(0x29c)][a0_0x556deb(0x293)],{'dbName':q['CONNECTION'][a0_0x556deb(0x4d7)]+a0_0x556deb(0x258)}):Qt['default'][a0_0x556deb(0x34f)](a0_0x556deb(0x62a)+q[a0_0x556deb(0x29c)][a0_0x556deb(0x758)]+':'+q[a0_0x556deb(0x29c)][a0_0x556deb(0x3de)]+a0_0x556deb(0x6c5),{'user':q[a0_0x556deb(0x29c)][a0_0x556deb(0x30c)],'pass':q[a0_0x556deb(0x29c)][a0_0x556deb(0x33e)],'dbName':q[a0_0x556deb(0x29c)][a0_0x556deb(0x4d7)]+a0_0x556deb(0x258)}):null;q[a0_0x556deb(0x662)]&&No[a0_0x556deb(0x2a0)](a0_0x556deb(0x27f)+M[a0_0x556deb(0x639)]);var Co=new _e[(a0_0x556deb(0x6e1))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),To=new _e[(a0_0x556deb(0x6e1))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Co],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Ro=new _e[(a0_0x556deb(0x6e1))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':To,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),xs=_0x51444d=>{const _0x3a6fbd=a0_0x556deb;let _0x4387d5='z_'+_0x51444d+'_Chats';return M?.[_0x3a6fbd(0x75d)]('ChatModel',Ro,_0x4387d5);},$s=require('mongoose'),Mo=new $s['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ks=_0x2e5f94=>{const _0x1919ab=a0_0x556deb;let _0x5593c8='z_'+_0x2e5f94+_0x1919ab(0x280);return M?.['model'](_0x1919ab(0x76d),Mo,_0x5593c8);},Ls=require(a0_0x556deb(0x402)),Ao=new Ls['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':['android',a0_0x556deb(0x5bc),'ios']},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Us=_0x43029f=>{const _0x159fb0=a0_0x556deb;let _0x2a5bb2='z_'+_0x43029f+_0x159fb0(0x2ff);return M?.[_0x159fb0(0x75d)]('MessageModel',Ao,_0x2a5bb2);},Vs=require(a0_0x556deb(0x402)),Yt=class{},Io=new Vs['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),Js=M?.[a0_0x556deb(0x75d)](Yt[a0_0x556deb(0x750)],Io,'authentication'),js=require('mongoose'),Xt=class{},Fs=new js['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});function a0_0x2d74(_0x507fe8,_0x1bf5f2){const _0x4ca559=a0_0x4ca5();return a0_0x2d74=function(_0x2d74ae,_0x4b25c2){_0x2d74ae=_0x2d74ae-0x1cd;let _0x34195f=_0x4ca559[_0x2d74ae];return _0x34195f;},a0_0x2d74(_0x507fe8,_0x1bf5f2);}Fs[a0_0x556deb(0x58a)](a0_0x556deb(0x752),function(_0x130017){const _0x1ca6e1=a0_0x556deb;delete this[_0x1ca6e1(0x44d)],delete this[_0x1ca6e1(0x2ae)],delete this[_0x1ca6e1(0x335)],delete this[_0x1ca6e1(0x243)],delete this[_0x1ca6e1(0x3c5)],_0x130017();});var Bs=M?.['model'](Xt['name'],Fs,a0_0x556deb(0x77b)),O=require(a0_0x556deb(0x402)),Pe=class{},qs=new O[(a0_0x556deb(0x6e1))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Zt=new O[(a0_0x556deb(0x6e1))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Oo=new O[(a0_0x556deb(0x6e1))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x556deb(0x5a4)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Gs=new O[(a0_0x556deb(0x6e1))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Do=new O['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),_o=new O[(a0_0x556deb(0x6e1))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ws=new O[(a0_0x556deb(0x6e1))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Oo},'apirequest':Do,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),os=new O['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Hs=new O['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),es=class{},Ks=new O[(a0_0x556deb(0x6e1))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x15cbf4=a0_0x556deb;return'!cmd_'+Math[_0x15cbf4(0x533)]()[_0x15cbf4(0x77f)](0x24)[_0x15cbf4(0x6d7)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[os],'variablesNotFound':{'type':[String]},'blocks':[Ws],'groups':[qs],'conditions':[Gs],'varedits':[Hs],'replyOptions':{'type':[Zt],'default':[]}});Ks[a0_0x556deb(0x58a)](a0_0x556deb(0x752),function(_0x178bbc){const _0x27a9bb=a0_0x556deb;let _0x361265=new Set(),_0x558842=new Set(this[_0x27a9bb(0x32e)]?.[_0x27a9bb(0x608)](_0x1ccdbe=>_0x1ccdbe[_0x27a9bb(0x750)])),_0x292953=JSON[_0x27a9bb(0x296)](this),_0xaf6017=/{{(?!_)([^}]*)}}/g,_0x33f29f;for(;(_0x33f29f=_0xaf6017[_0x27a9bb(0x4f2)](_0x292953))!==null;)_0x558842[_0x27a9bb(0x58f)](_0x33f29f[0x1])||_0x361265[_0x27a9bb(0x652)](_0x33f29f[0x1]);_0x361265[_0x27a9bb(0x696)]>0x0?(console[_0x27a9bb(0x509)](_0x27a9bb(0x602),Array[_0x27a9bb(0x272)](_0x361265)),this['variablesNotFound']=Array[_0x27a9bb(0x272)](_0x361265)):this[_0x27a9bb(0x633)]=[],_0x178bbc();});var I=M?.['model'](es[a0_0x556deb(0x750)],Ks,a0_0x556deb(0x55c)),Po=new O[(a0_0x556deb(0x6e1))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[os],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[_o]},{'_id':!0x1}),ts=class{},xo=new O[(a0_0x556deb(0x6e1))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[os],'blocks':[Ws],'groups':[qs],'conditions':[Gs],'varedits':[Hs],'replyOptions':{'type':[Zt],'default':[]},'chatLog':Po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x556deb(0x267)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[Zt],'default':[]}}),J=M?.[a0_0x556deb(0x75d)](ts['name'],xo,a0_0x556deb(0x711)),ss=class{},$o=new O[(a0_0x556deb(0x6e1))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ko=new O[(a0_0x556deb(0x6e1))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Lo=new O[(a0_0x556deb(0x6e1))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x556deb(0x2de)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ko,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[$o],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),L=M?.[a0_0x556deb(0x75d)](ss[a0_0x556deb(0x750)],Lo,'scheduleMessages'),as=class{},Uo=new O['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Vo=new O['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x556deb(0x4b2)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),Jo=new O[(a0_0x556deb(0x6e1))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),jo=new O[(a0_0x556deb(0x6e1))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Jo]},'customFields':{'type':[Uo]},'flowConfig':{'type':Vo,'default':{}}}),ae=M?.[a0_0x556deb(0x75d)](as['name'],jo,'AutomateSystem'),he=require('fs'),is=require('path'),W=class{constructor(_0x9bd9bf){const _0x1e5ac2=a0_0x556deb;this[_0x1e5ac2(0x25a)]=(0x0,is[_0x1e5ac2(0x226)])(Q,_0x1e5ac2(0x3fd)),this[_0x1e5ac2(0x329)]=_0x5a03f9=>{const _0xd8d5b0=_0x1e5ac2;(0x0,he['existsSync'])(_0x5a03f9[_0xd8d5b0(0x35c)])||(0x0,he[_0xd8d5b0(0x68f)])(_0x5a03f9[_0xd8d5b0(0x35c)],{'recursive':!0x0});try{return(0x0,he[_0xd8d5b0(0x72b)])((0x0,is[_0xd8d5b0(0x226)])(_0x5a03f9[_0xd8d5b0(0x35c)],_0x5a03f9[_0xd8d5b0(0x265)]+'.json'),JSON[_0xd8d5b0(0x296)]({..._0x5a03f9[_0xd8d5b0(0x2a7)]}),{'encoding':'utf-8'}),{'message':_0xd8d5b0(0x64c)};}finally{_0x5a03f9[_0xd8d5b0(0x2a7)]=void 0x0;}},this[_0x1e5ac2(0x791)]=_0x9bd9bf[_0x1e5ac2(0x52b)](_0x1e5ac2(0x621));}[a0_0x556deb(0x345)](_0x47224f,_0x25e543=!0x1){const _0x51870a=a0_0x556deb;throw new Error(_0x51870a(0x6e7));}[a0_0x556deb(0x33f)](_0x4646bd){throw new Error('Method\x20not\x20implemented.');}[a0_0x556deb(0x733)](_0x22fe68,_0x1ae006){const _0x5ee28e=a0_0x556deb;throw new Error(_0x5ee28e(0x6e7));}},xe=class{},$e=class extends W{constructor(_0x2d8b86){super(_0x2d8b86),this['configService']=_0x2d8b86;}[a0_0x556deb(0x225)](_0x239898){return Us(_0x239898);}async[a0_0x556deb(0x345)](_0x1a0070){const _0x88da60=a0_0x556deb;if(_0x1a0070['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x1a0070[0x0][_0x88da60(0x698)])['insertMany']([..._0x1a0070]))[_0x88da60(0x72a)]};}catch(_0x5bad59){return console[_0x88da60(0x340)]('ERROR:\x20',_0x5bad59),_0x5bad59;}}async['find'](_0x10f60d){const _0x3c23b=a0_0x556deb;try{let _0x324989=this[_0x3c23b(0x225)](_0x10f60d['where'][_0x3c23b(0x698)]);if(_0x10f60d?.[_0x3c23b(0x270)]?.[_0x3c23b(0x66e)]){for(let [_0x30f591,_0x48a6c8]of Object[_0x3c23b(0x627)](_0x10f60d['where']['key']))_0x10f60d[_0x3c23b(0x270)][_0x3c23b(0x79f)+_0x30f591]=_0x48a6c8;delete _0x10f60d?.[_0x3c23b(0x270)]?.[_0x3c23b(0x66e)];}return await _0x324989[_0x3c23b(0x33f)]({..._0x10f60d[_0x3c23b(0x270)]})[_0x3c23b(0x279)]({'messageTimestamp':-0x1})[_0x3c23b(0x6ef)](_0x10f60d?.[_0x3c23b(0x6ef)]??0x0)[_0x3c23b(0x4c2)]();}catch{return[];}}async[a0_0x556deb(0x733)](_0x21c5b6){const _0x21b41e=a0_0x556deb;try{await this[_0x21b41e(0x225)](_0x21c5b6[_0x21b41e(0x270)][_0x21b41e(0x698)])[_0x21b41e(0x786)]({..._0x21c5b6[_0x21b41e(0x270)]});}catch(_0x35f0a8){console[_0x21b41e(0x2e0)](_0x35f0a8);}}async[a0_0x556deb(0x241)](_0x3abad3,_0xdd617f){const _0x427b92=a0_0x556deb;try{return await this[_0x427b92(0x225)](_0x3abad3['where'][_0x427b92(0x698)])[_0x427b92(0x624)]({..._0x3abad3[_0x427b92(0x270)]},{'$set':_0xdd617f},{'new':!0x0});}catch(_0x3b0dfe){throw console[_0x427b92(0x2e0)](_0x3b0dfe),_0x3b0dfe;}}async[a0_0x556deb(0x4d1)](_0x23eeb4){const _0x4e4c39=a0_0x556deb;if(_0x23eeb4[_0x4e4c39(0x72a)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x4e4c39(0x225)](_0x23eeb4[0x0][_0x4e4c39(0x698)])[_0x4e4c39(0x4d1)]([..._0x23eeb4]))[_0x4e4c39(0x72a)]};}catch(_0x506f75){return console[_0x4e4c39(0x340)](_0x4e4c39(0x59b),_0x506f75),_0x506f75;}}async[a0_0x556deb(0x374)](_0x6675b5){const _0x5ce759=a0_0x556deb;try{return await this[_0x5ce759(0x225)](_0x6675b5)[_0x5ce759(0x6a4)]['drop'](),{'success':!0x0};}catch(_0x233e16){return console[_0x5ce759(0x2e0)](_0x233e16),{'success':!0x1,'error':_0x233e16};}}},te=require('fs'),Xa=T(require(a0_0x556deb(0x440))),w=T(require(a0_0x556deb(0x227))),Te=require('fs'),$=T(require(a0_0x556deb(0x35c))),ce=T(require(a0_0x556deb(0x344))),Za=require('uuid'),eo=T(require(a0_0x556deb(0x59a))),to=T(require(a0_0x556deb(0x575))),zs=[a0_0x556deb(0x2b9),a0_0x556deb(0x299),a0_0x556deb(0x60b),a0_0x556deb(0x60e),a0_0x556deb(0x347)],Qs=[a0_0x556deb(0x525),'documentWithCaptionMessage',a0_0x556deb(0x6db),'viewOnceMessageV2'],so=require('os'),Mt=T(require(a0_0x556deb(0x482))),Dt=require(a0_0x556deb(0x799)),At=require(a0_0x556deb(0x769)),pe=T(require(a0_0x556deb(0x402))),_=require('class-validator'),fe=class{constructor(_0x3b7dbf,_0x2ed830,_0x7b5ab1){const _0x4d3298=a0_0x556deb;this[_0x4d3298(0x2c7)]=_0x3b7dbf,this[_0x4d3298(0x598)]=_0x2ed830,this[_0x4d3298(0x750)]=_0x7b5ab1;}},ke=class{},Le=class{},Se=class{},Ue=class{},Ve=class{},we=class{},Je=class{},je=class{},Fe=class{},Be=class{},vt=T(require(a0_0x556deb(0x4e3))),Ys=require('fs'),Xs=require(a0_0x556deb(0x35c));async function qe(_0x4cba41){const _0x426526=a0_0x556deb;let _0x402359=j[_0x426526(0x69e)][_0x4cba41];if(q[_0x426526(0x662)]){let _0x2b43a6=M[_0x426526(0x48c)]()['db'](q[_0x426526(0x29c)][_0x426526(0x4d7)]+_0x426526(0x4ae))[_0x426526(0x6a4)](_0x4cba41);return _0x402359||(await _0x2b43a6['find']({})[_0x426526(0x2c6)]())[_0x426526(0x72a)]>0x0;}return _0x402359||(0x0,Ys[_0x426526(0x40b)])((0x0,Xs[_0x426526(0x226)])(V,_0x4cba41));}async function rs(_0x5aeec9,_0x2d574a,_0x4dc7cc){const _0x19693b=a0_0x556deb;if(_0x5aeec9[_0x19693b(0x32c)][_0x19693b(0x619)](_0x19693b(0x3da))||_0x5aeec9[_0x19693b(0x32c)][_0x19693b(0x619)](_0x19693b(0x24b))||_0x5aeec9[_0x19693b(0x32c)]['includes'](_0x19693b(0x6ba)))return _0x4dc7cc();let _0x16a061=_0x5aeec9[_0x19693b(0x39e)];if(!_0x16a061?.[_0x19693b(0x780)])throw new g(_0x19693b(0x699));if(!await qe(_0x16a061[_0x19693b(0x780)]))throw new x(_0x19693b(0x495)+_0x16a061[_0x19693b(0x780)]+'\x20instance\x20does\x20not\x20exist');_0x4dc7cc();}async function Zs(_0x4904e3,_0x5439ac,_0x48a9cd){const _0x3d8473=a0_0x556deb;if(_0x4904e3[_0x3d8473(0x32c)]['includes'](_0x3d8473(0x3da))){let _0x2c9829=_0x4904e3[_0x3d8473(0x417)];if(await qe(_0x2c9829[_0x3d8473(0x780)]))throw new oe('This\x20name\x20'+_0x2c9829['instanceName']+_0x3d8473(0x6f2));j[_0x3d8473(0x69e)][_0x2c9829[_0x3d8473(0x780)]]&&delete j[_0x3d8473(0x69e)][_0x2c9829[_0x3d8473(0x780)]];}_0x48a9cd();}var ea=require(a0_0x556deb(0x675)),ta=T(require(a0_0x556deb(0x764))),Ge=a0_0x556deb(0x629),Bo=new C(a0_0x556deb(0x264));async function qo(_0xd3f4b6,_0x1dba17,_0x1752fc){const _0x4e0789=a0_0x556deb;let _0x51c3b2=_0xd3f4b6[_0x4e0789(0x52b)](_0x4e0789(0x691));if(_0x51c3b2&&S[_0x4e0789(0x52b)]('AUTHENTICATION')[_0x4e0789(0x315)]['KEY']!==_0x51c3b2)throw new ie();if(S['get'](_0x4e0789(0x1dc))[_0x4e0789(0x315)][_0x4e0789(0x658)]===_0x51c3b2)return _0x1752fc();if((_0xd3f4b6[_0x4e0789(0x32c)][_0x4e0789(0x619)](_0x4e0789(0x3da))||_0xd3f4b6[_0x4e0789(0x32c)][_0x4e0789(0x619)]('/instance/fetchInstances'))&&!_0x51c3b2)throw new oe(_0x4e0789(0x34b),_0x4e0789(0x5ce));let _0x383090=S['get'](_0x4e0789(0x1dc))[_0x4e0789(0x35d)];try{let [_0x1deb80,_0x476b61]=_0xd3f4b6[_0x4e0789(0x52b)](_0x4e0789(0x637))['split']('\x20');if(_0x1deb80[_0x4e0789(0x2fc)]()!==_0x4e0789(0x23f))throw new ie();if(!(0x0,ea['isJWT'])(_0x476b61))throw new ie();let _0x36f9be=_0xd3f4b6[_0x4e0789(0x39e)],_0x1eb3ad=ta['default'][_0x4e0789(0x25c)](_0x476b61,_0x383090['SECRET'],{'ignoreExpiration':_0x383090[_0x4e0789(0x453)]===0x0});if(_0x36f9be['instanceName']!==_0x1eb3ad[_0x4e0789(0x780)]||Ge!==_0x1eb3ad[_0x4e0789(0x5dc)])throw new ie();return _0x1752fc();}catch(_0x5a7684){throw Bo['error'](_0x5a7684),new ie();}}async function Go(_0x4794c1,_0x125dbf,_0x5c73fb){const _0x3f0c1c=a0_0x556deb;let _0x16adfd=S[_0x3f0c1c(0x52b)](_0x3f0c1c(0x1dc))[_0x3f0c1c(0x315)],_0x49f503=_0x4794c1[_0x3f0c1c(0x52b)](_0x3f0c1c(0x691));if(_0x16adfd[_0x3f0c1c(0x658)]===_0x49f503)return _0x5c73fb();if(_0x4794c1['originalUrl'][_0x3f0c1c(0x619)]('/instance/create')){let _0x22ddd8=S[_0x3f0c1c(0x52b)](_0x3f0c1c(0x23d)),_0x45c071=_0x4794c1[_0x3f0c1c(0x417)][_0x3f0c1c(0x780)];if(_0x22ddd8&&_0x45c071[_0x3f0c1c(0x2fc)]()['startsWith'](_0x22ddd8[_0x3f0c1c(0x2fc)]()))return _0x5c73fb();if(!_0x49f503)throw new oe(_0x3f0c1c(0x34b),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x4794c1[_0x3f0c1c(0x32c)][_0x3f0c1c(0x619)](_0x3f0c1c(0x24b))&&!_0x49f503)throw new oe(_0x3f0c1c(0x34b),_0x3f0c1c(0x5ce));if(_0x4794c1[_0x3f0c1c(0x32c)][_0x3f0c1c(0x619)](_0x3f0c1c(0x6ba))&&!_0x49f503)throw new oe(_0x3f0c1c(0x34b),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x42b35c=_0x4794c1[_0x3f0c1c(0x39e)];if((await le['auth'][_0x3f0c1c(0x33f)](_0x42b35c[_0x3f0c1c(0x780)]))[_0x3f0c1c(0x691)]===_0x49f503)return _0x5c73fb();}catch{}throw new ie();}var sa={'jwt':qo,'apikey':Go},ka=require(a0_0x556deb(0x4e3)),v=require(a0_0x556deb(0x51e)),E=(..._0x12fe22)=>{const _0x2eb8e1=a0_0x556deb;let _0x17abd0={};return _0x12fe22['forEach'](_0x53555e=>_0x17abd0[_0x53555e]={'minLength':0x1,'description':_0x2eb8e1(0x6f5)+_0x53555e+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x12fe22]}},'then':{'properties':_0x17abd0}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'instanceName':{'type':a0_0x556deb(0x20c)}},...E(a0_0x556deb(0x780))},aa={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'oldToken':{'type':a0_0x556deb(0x20c)}},'required':[a0_0x556deb(0x794)],...E(a0_0x556deb(0x794))},gn={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x556deb(0x20c)},'remoteJid':{'type':a0_0x556deb(0x20c)},'fromMe':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]}},'required':['id',a0_0x556deb(0x4a9),a0_0x556deb(0x2b7)],...E('id','remoteJid')},'message':{'type':'object'}}},Y={'properties':{'delay':{'type':a0_0x556deb(0x35a),'description':a0_0x556deb(0x71a)},'presence':{'type':a0_0x556deb(0x20c),'enum':[a0_0x556deb(0x354),a0_0x556deb(0x23c),a0_0x556deb(0x2af),'recording',a0_0x556deb(0x50f)]}}},X={'type':a0_0x556deb(0x20c),'pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':a0_0x556deb(0x64d)},oa={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'number':{...X},'options':{...Y},'textMessage':{'type':a0_0x556deb(0x1ff),'properties':{'text':{'type':a0_0x556deb(0x20c)}},'required':['text'],...E(a0_0x556deb(0x72c))}},'required':[a0_0x556deb(0x49e),a0_0x556deb(0x33a)]},ia={'type':a0_0x556deb(0x20c),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x556deb(0x64d)},mn={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...ia},'options':{...Y},'textMessage':{'type':a0_0x556deb(0x1ff),'properties':{'text':{'type':a0_0x556deb(0x20c)}},'required':['text'],...E('text')}},'required':[a0_0x556deb(0x49e),a0_0x556deb(0x33a)]},hn={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'number':{...ia},'options':{...Y},'mediaMessage':{'type':a0_0x556deb(0x1ff),'properties':{'mediatype':{'type':a0_0x556deb(0x20c),'enum':[a0_0x556deb(0x50e),a0_0x556deb(0x466),a0_0x556deb(0x6e0),a0_0x556deb(0x3c4)]},'media':{'type':a0_0x556deb(0x20c)},'fileName':{'type':a0_0x556deb(0x20c)},'caption':{'type':'string'}},'required':[a0_0x556deb(0x64a),'media'],...E(a0_0x556deb(0x265),a0_0x556deb(0x5df),a0_0x556deb(0x32d))}},'required':[a0_0x556deb(0x57a),a0_0x556deb(0x33a)]},ra={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'number':{...X},'options':{...Y},'stickerMessage':{'type':a0_0x556deb(0x1ff),'properties':{'image':{'type':a0_0x556deb(0x20c)}},'required':[a0_0x556deb(0x50e)],...E(a0_0x556deb(0x50e))}},'required':[a0_0x556deb(0x347),a0_0x556deb(0x33a)]},na={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'statusMessage':{'type':a0_0x556deb(0x1ff),'properties':{'type':{'type':a0_0x556deb(0x20c),'enum':[a0_0x556deb(0x72c),'image','audio',a0_0x556deb(0x6e0)]},'content':{'type':'string'},'caption':{'type':a0_0x556deb(0x20c)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x556deb(0x35a),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x556deb(0x76a),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x556deb(0x20c),'pattern':'^\x5cd+','description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]}},'required':[a0_0x556deb(0x634),a0_0x556deb(0x4e8)],...E('type',a0_0x556deb(0x4e8))}},'required':['statusMessage']},ca={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'number':{...X},'options':{...Y},'mediaMessage':{'type':a0_0x556deb(0x1ff),'properties':{'mediatype':{'type':a0_0x556deb(0x20c),'enum':[a0_0x556deb(0x50e),a0_0x556deb(0x466),a0_0x556deb(0x6e0),a0_0x556deb(0x3c4)]},'media':{'type':a0_0x556deb(0x20c)},'fileName':{'type':'string'},'caption':{'type':a0_0x556deb(0x20c)}},'required':['mediatype',a0_0x556deb(0x32d)],...E(a0_0x556deb(0x265),a0_0x556deb(0x5df),a0_0x556deb(0x32d))}},'required':['mediaMessage','number']},la={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'audioMessage':{'type':'object','properties':{'audio':{'type':'string'}},'required':[a0_0x556deb(0x3c4)],...E(a0_0x556deb(0x3c4))}},'required':[a0_0x556deb(0x60b),a0_0x556deb(0x33a)]},ua={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'pollMessage':{'type':a0_0x556deb(0x1ff),'properties':{'name':{'type':a0_0x556deb(0x20c)},'selectableCount':{'type':a0_0x556deb(0x33a)},'values':{'type':a0_0x556deb(0x76a),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x556deb(0x750),a0_0x556deb(0x203),'values'],...E(a0_0x556deb(0x750),a0_0x556deb(0x203),a0_0x556deb(0x742))}},'required':[a0_0x556deb(0x33a),a0_0x556deb(0x4e9)]},da={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'number':{...X},'options':{...Y},'buttonMessage':{'type':a0_0x556deb(0x1ff),'properties':{'title':{'type':a0_0x556deb(0x20c)},'description':{'type':a0_0x556deb(0x20c)},'footerText':{'type':a0_0x556deb(0x20c)},'buttons':{'type':a0_0x556deb(0x76a),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x556deb(0x1ff),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x556deb(0x20c)}},'required':[a0_0x556deb(0x63d),a0_0x556deb(0x300)],...E('buttonText',a0_0x556deb(0x300))}},'mediaMessage':{'type':a0_0x556deb(0x1ff),'properties':{'media':{'type':a0_0x556deb(0x20c)},'fileName':{'type':a0_0x556deb(0x20c)},'mediatype':{'type':a0_0x556deb(0x20c),'enum':['image',a0_0x556deb(0x466),a0_0x556deb(0x6e0)]}},'required':[a0_0x556deb(0x32d),a0_0x556deb(0x64a)],...E(a0_0x556deb(0x32d),a0_0x556deb(0x265))}},'required':[a0_0x556deb(0x369),a0_0x556deb(0x2bb)],...E(a0_0x556deb(0x369),a0_0x556deb(0x765))}},'required':['number',a0_0x556deb(0x4d8)]},pa={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'number':{...X},'options':{...Y},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x556deb(0x33a)},'longitude':{'type':a0_0x556deb(0x33a)},'name':{'type':a0_0x556deb(0x20c)},'address':{'type':a0_0x556deb(0x20c)}},'required':['latitude',a0_0x556deb(0x230)],...E(a0_0x556deb(0x750),a0_0x556deb(0x27c))}},'required':[a0_0x556deb(0x33a),a0_0x556deb(0x3e6)]},ga={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x556deb(0x20c)},'description':{'type':a0_0x556deb(0x20c)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x556deb(0x20c)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x556deb(0x1ff),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x556deb(0x76a),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x556deb(0x1ff),'properties':{'title':{'type':'string'},'description':{'type':a0_0x556deb(0x20c)},'rowId':{'type':a0_0x556deb(0x20c)}},'required':[a0_0x556deb(0x369),a0_0x556deb(0x765),a0_0x556deb(0x665)],...E(a0_0x556deb(0x369),a0_0x556deb(0x765),'rowId')}}},'required':[a0_0x556deb(0x369),a0_0x556deb(0x473)],...E(a0_0x556deb(0x369))}}},'required':[a0_0x556deb(0x369),a0_0x556deb(0x765),a0_0x556deb(0x63d),a0_0x556deb(0x34e)],...E(a0_0x556deb(0x369),a0_0x556deb(0x765),'buttonText','footerText')}},'required':[a0_0x556deb(0x33a),a0_0x556deb(0x51c)]},ma={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'contactMessage':{'type':'array','items':{'type':a0_0x556deb(0x1ff),'properties':{'fullName':{'type':a0_0x556deb(0x20c)},'phoneNumber':{'type':a0_0x556deb(0x20c),'minLength':0xa}},'required':[a0_0x556deb(0x4ad),'phoneNumber'],...E(a0_0x556deb(0x4ad))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x556deb(0x33a),a0_0x556deb(0x68c)]},ha={'$id':(0x0,v['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x556deb(0x1ff),'properties':{'key':{'type':a0_0x556deb(0x1ff),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x556deb(0x20c)},'fromMe':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]}},'required':['id',a0_0x556deb(0x4a9),'fromMe'],...E('id',a0_0x556deb(0x4a9))},'reaction':{'type':a0_0x556deb(0x20c)}},'required':[a0_0x556deb(0x66e),a0_0x556deb(0x236)],...E('reaction')}},'required':['reactionMessage']},fa={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x556deb(0x20c),'pattern':'^\x5cd+','description':a0_0x556deb(0x3cf)}}}},wa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x556deb(0x76a),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x556deb(0x20c)},'fromMe':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x556deb(0x20c)}},'required':['id',a0_0x556deb(0x2b7),a0_0x556deb(0x4a9)],...E('id','remoteJid')}}},'required':[a0_0x556deb(0x3a0)]},ya={'$id':(0x0,v['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x556deb(0x1ff),'properties':{'readreceipts':{'type':a0_0x556deb(0x20c),'enum':[a0_0x556deb(0x25d),'none']},'profile':{'type':'string','enum':[a0_0x556deb(0x25d),a0_0x556deb(0x285),a0_0x556deb(0x41d),a0_0x556deb(0x2fa)]},'status':{'type':'string','enum':[a0_0x556deb(0x25d),a0_0x556deb(0x285),a0_0x556deb(0x41d),a0_0x556deb(0x2fa)]},'online':{'type':a0_0x556deb(0x20c),'enum':[a0_0x556deb(0x25d),a0_0x556deb(0x53b)]},'last':{'type':a0_0x556deb(0x20c),'enum':[a0_0x556deb(0x25d),a0_0x556deb(0x285),'contact_blacklist',a0_0x556deb(0x2fa)]},'groupadd':{'type':a0_0x556deb(0x20c),'enum':['all','contacts',a0_0x556deb(0x41d),'none']}},'required':[a0_0x556deb(0x4a4),a0_0x556deb(0x547),a0_0x556deb(0x65f),a0_0x556deb(0x2dd),'last',a0_0x556deb(0x6be)],...E(a0_0x556deb(0x4a4),'profile',a0_0x556deb(0x65f),a0_0x556deb(0x2dd),a0_0x556deb(0x470),a0_0x556deb(0x6be))}},'required':[a0_0x556deb(0x4aa)]},ba={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'lastMessage':{'type':a0_0x556deb(0x1ff),'properties':{'key':{'type':a0_0x556deb(0x1ff),'properties':{'id':{'type':a0_0x556deb(0x20c)},'remoteJid':{'type':a0_0x556deb(0x20c)},'fromMe':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]}},'required':['id',a0_0x556deb(0x2b7),a0_0x556deb(0x4a9)],...E('id','remoteJid')},'messageTimestamp':{'type':a0_0x556deb(0x35a),'minLength':0x1}},'required':[a0_0x556deb(0x66e)],...E(a0_0x556deb(0x54d))},'archive':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]}},'required':[a0_0x556deb(0x1db),a0_0x556deb(0x5fd)]},Sa={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'id':{'type':a0_0x556deb(0x20c)},'fromMe':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x556deb(0x20c)}},'required':['id',a0_0x556deb(0x2b7),a0_0x556deb(0x4a9)],...E('id','remoteJid',a0_0x556deb(0x464))},Ea={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'where':{'type':a0_0x556deb(0x1ff),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x556deb(0x20c),'minLength':0x1},'id':{'type':a0_0x556deb(0x20c),'minLength':0x1}},...E(a0_0x556deb(0x782),'id','pushName')}}},va={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'name':{'type':a0_0x556deb(0x20c)}},...E(a0_0x556deb(0x750))},Na={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'status':{'type':a0_0x556deb(0x20c)}},...E(a0_0x556deb(0x65f))},Ee={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x556deb(0x20c)}}},Ca={'type':a0_0x556deb(0x1ff),'properties':{'wuid':{'type':a0_0x556deb(0x20c)},'name':{'type':a0_0x556deb(0x20c)},'picture':{'type':'string'},'status':{'type':a0_0x556deb(0x20c)},'isBusiness':{'type':a0_0x556deb(0x22a)}}},Ta={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':a0_0x556deb(0x1ff),'properties':{'_id':{'type':a0_0x556deb(0x20c),'minLength':0x1},'key':{'type':a0_0x556deb(0x1ff),'if':{'propertyNames':{'enum':[a0_0x556deb(0x2b7),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x556deb(0x20c),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x556deb(0x20c),'minLength':0x1,'description':a0_0x556deb(0x37f)},'fromMe':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x556deb(0x1ff)}},...E('_id')},'limit':{'type':'integer'}}},fn={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'where':{'type':a0_0x556deb(0x1ff),'properties':{'_id':{'type':a0_0x556deb(0x20c)},'remoteJid':{'type':a0_0x556deb(0x20c)},'id':{'type':a0_0x556deb(0x20c)},'fromMe':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x556deb(0x20c)},'status':{'type':a0_0x556deb(0x20c),'enum':[a0_0x556deb(0x44f),a0_0x556deb(0x206),a0_0x556deb(0x375),'DELIVERY_ACK',a0_0x556deb(0x661),a0_0x556deb(0x205)]}},...E('_id',a0_0x556deb(0x4a9),'id',a0_0x556deb(0x65f))},'limit':{'type':a0_0x556deb(0x35a)}}},Ra={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'presence':{'type':a0_0x556deb(0x20c),'enum':[a0_0x556deb(0x354),a0_0x556deb(0x23c),a0_0x556deb(0x2af),a0_0x556deb(0x48f),a0_0x556deb(0x50f)]}},'required':[a0_0x556deb(0x1f3),'number']},Ma={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'subject':{'type':a0_0x556deb(0x20c)},'description':{'type':a0_0x556deb(0x20c)},'profilePicture':{'type':a0_0x556deb(0x20c)},'participants':{'type':a0_0x556deb(0x76a),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x556deb(0x20c),'minLength':0xa,'pattern':a0_0x556deb(0x623),'description':a0_0x556deb(0x20b)}}},'required':[a0_0x556deb(0x5c4),a0_0x556deb(0x5aa)],...E(a0_0x556deb(0x5c4),a0_0x556deb(0x765),'profilePicture')},ve={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'groupJid':{'type':a0_0x556deb(0x20c),'pattern':a0_0x556deb(0x599)}},'required':[a0_0x556deb(0x4a7)],...E(a0_0x556deb(0x4a7))},Aa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x556deb(0x20c)},'action':{'type':a0_0x556deb(0x20c),'enum':['add',a0_0x556deb(0x4c1),a0_0x556deb(0x355),a0_0x556deb(0x316)]},'participants':{'type':a0_0x556deb(0x76a),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x556deb(0x20c),'minLength':0xa,'pattern':a0_0x556deb(0x623),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x556deb(0x4a7),'action','participants'],...E(a0_0x556deb(0x4a7),a0_0x556deb(0x6b3))},Ia={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x556deb(0x20c)},'expiration':{'type':a0_0x556deb(0x33a),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x556deb(0x3b7)],...E(a0_0x556deb(0x4a7),a0_0x556deb(0x3b7))},Oa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x556deb(0x20c)},'image':{'type':a0_0x556deb(0x20c)}},'required':[a0_0x556deb(0x4a7),a0_0x556deb(0x50e)],...E(a0_0x556deb(0x4a7),a0_0x556deb(0x50e))},Da={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'groupJid':{'type':a0_0x556deb(0x20c)},'description':{'type':a0_0x556deb(0x20c)}},'required':[a0_0x556deb(0x4a7),'description'],...E(a0_0x556deb(0x4a7),'description')},_a={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'groupJid':{'type':a0_0x556deb(0x20c)},'name':{'type':'string'}},'required':['groupJid',a0_0x556deb(0x750)],...E(a0_0x556deb(0x4a7),a0_0x556deb(0x750))},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'groupJid':{'type':a0_0x556deb(0x20c)},'setting':{'type':a0_0x556deb(0x20c),'enum':[a0_0x556deb(0x749),a0_0x556deb(0x472),a0_0x556deb(0x326),a0_0x556deb(0x238)]}},'required':['groupJid',a0_0x556deb(0x4b0)],...E(a0_0x556deb(0x4a7),'setting')},xa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x556deb(0x20c)}},'required':['inviteCode'],...E(a0_0x556deb(0x2f8))},$a={'$id':(0x0,v['v4'])(),'type':'object','properties':{'url':{'type':a0_0x556deb(0x20c)},'enabled':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]}},'required':[a0_0x556deb(0x668),'enabled']},wn={'$id':(0x0,v['v4'])(),'type':a0_0x556deb(0x1ff),'properties':{'local_map':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x556deb(0x22a),'enum':[!0x0,!0x1]}},'required':[a0_0x556deb(0x6fa),a0_0x556deb(0x201),a0_0x556deb(0x5fb),a0_0x556deb(0x290),'MESSAGES_UPDATE','MESSAGES_UPSERT','SEND_MESSAGE',a0_0x556deb(0x41b),a0_0x556deb(0x4d2),a0_0x556deb(0x2cc),a0_0x556deb(0x6d6),a0_0x556deb(0x5b0),a0_0x556deb(0x479),a0_0x556deb(0x399),a0_0x556deb(0x674),a0_0x556deb(0x2c9),a0_0x556deb(0x5be),a0_0x556deb(0x5e2),a0_0x556deb(0x4da)],...E(a0_0x556deb(0x6fa),a0_0x556deb(0x201),a0_0x556deb(0x5fb),a0_0x556deb(0x290),a0_0x556deb(0x3a6),a0_0x556deb(0x22c),a0_0x556deb(0x5c1),a0_0x556deb(0x41b),a0_0x556deb(0x4d2),a0_0x556deb(0x2cc),a0_0x556deb(0x6d6),a0_0x556deb(0x5b0),a0_0x556deb(0x479),'CHATS_UPDATE',a0_0x556deb(0x674),a0_0x556deb(0x2c9),a0_0x556deb(0x5be),a0_0x556deb(0x5e2),a0_0x556deb(0x4da))},We=class{},He=class extends W{constructor(_0x1b507e){const _0x357782=a0_0x556deb;super(_0x1b507e),this[_0x357782(0x31b)]=_0x1b507e;}['getContactModelForOwner'](_0x2f62c1){return ks(_0x2f62c1);}async[a0_0x556deb(0x345)](_0x399cac){const _0x239ba2=a0_0x556deb;if(_0x399cac[_0x239ba2(0x72a)]!==0x0)try{return{'insertCount':(await this[_0x239ba2(0x2a6)](_0x399cac[0x0][_0x239ba2(0x698)])[_0x239ba2(0x4d1)]([..._0x399cac]))['length']};}catch(_0x2f24cf){return _0x2f24cf;}}async['delete'](_0x2b2a26){const _0x439e4a=a0_0x556deb;try{return{'deletedCount':(await this[_0x439e4a(0x2a6)](_0x2b2a26[_0x439e4a(0x270)][_0x439e4a(0x698)])[_0x439e4a(0x786)]({..._0x2b2a26[_0x439e4a(0x270)]}))[_0x439e4a(0x678)]};}catch(_0x17a934){return{'error':_0x17a934?.[_0x439e4a(0x77f)]()};}}async['update'](_0x498c11,_0x1f065f){const _0x533d8c=a0_0x556deb;try{if(_0x498c11[_0x533d8c(0x72a)]===0x0)return;let _0x372e9e=this[_0x533d8c(0x2a6)](_0x1f065f),_0x1ed84b=_0x498c11[_0x533d8c(0x608)](_0x38f7e0=>({'updateOne':{'filter':{'_id':_0x38f7e0[_0x533d8c(0x782)],'owner':_0x1f065f},'update':{..._0x38f7e0}}})),{modifiedCount:_0x4623ef}=await _0x372e9e[_0x533d8c(0x29f)](_0x1ed84b);return{'insertCount':_0x4623ef};}catch{return;}}async[a0_0x556deb(0x33f)](_0xa51a33){const _0xd2ff86=a0_0x556deb;try{return await this[_0xd2ff86(0x2a6)](_0xa51a33[_0xd2ff86(0x270)][_0xd2ff86(0x698)])[_0xd2ff86(0x33f)]({..._0xa51a33['where']})[_0xd2ff86(0x6ef)](_0xa51a33?.[_0xd2ff86(0x6ef)]??0x0)['lean']();}catch{return[];}}async[a0_0x556deb(0x3ef)](_0x21e07e){const _0xa3d64f=a0_0x556deb;try{return await this['getContactModelForOwner'](_0x21e07e[_0xa3d64f(0x270)][_0xa3d64f(0x698)])[_0xa3d64f(0x3ef)]({..._0x21e07e[_0xa3d64f(0x270)]})[_0xa3d64f(0x4c2)]();}catch{return null;}}async[a0_0x556deb(0x374)](_0x51c815){const _0x46dd10=a0_0x556deb;try{return await this['getContactModelForOwner'](_0x51c815)[_0x46dd10(0x6a4)][_0x46dd10(0x4b4)](),{'success':!0x0};}catch(_0x28a210){return console[_0x46dd10(0x2e0)](_0x28a210),{'success':!0x1,'error':_0x28a210};}}},Ke=require(a0_0x556deb(0x27e)),Tn=require(a0_0x556deb(0x4db)),ns=new C(a0_0x556deb(0x325)),k=class{constructor(){}[a0_0x556deb(0x501)](_0x4e4c52,_0x425bf0=!0x0){let _0x5a6622='/'+_0x4e4c52;return _0x425bf0&&(_0x5a6622+='/:instanceName'),_0x5a6622;}async['dataValidate'](_0x52f4ee){const _0x3c3117=a0_0x556deb;let {request:_0x3d71c2,schema:_0x17fe78,ClassRef:_0x3a18a3,execute:_0x3e1afc}=_0x52f4ee,_0x26ffad=new _0x3a18a3(),_0x541c39=_0x3d71c2[_0x3c3117(0x417)],_0x20c312=_0x3d71c2[_0x3c3117(0x39e)];_0x3d71c2?.[_0x3c3117(0x679)]&&Object['keys'](_0x3d71c2[_0x3c3117(0x679)])[_0x3c3117(0x72a)]>0x0&&Object[_0x3c3117(0x3db)](_0x20c312,_0x3d71c2['query']),_0x3d71c2['originalUrl'][_0x3c3117(0x619)](_0x3c3117(0x3da))&&Object[_0x3c3117(0x3db)](_0x20c312,_0x541c39),Object[_0x3c3117(0x3db)](_0x26ffad,_0x541c39);let _0x530c17=_0x17fe78?(0x0,Ke[_0x3c3117(0x496)])(_0x26ffad,_0x17fe78):{'valid':!0x0,'errors':[]};if(!_0x530c17['valid']){let _0x3bb773=_0x530c17[_0x3c3117(0x787)][_0x3c3117(0x608)](({property:_0x4aed02,stack:_0x4b2f0f,schema:_0x2cd3f9})=>{const _0x385b4f=_0x3c3117;let _0x19db55;return _0x2cd3f9[_0x385b4f(0x765)]?_0x19db55=_0x2cd3f9[_0x385b4f(0x765)]:_0x19db55=_0x4b2f0f[_0x385b4f(0x3f6)](_0x385b4f(0x2a2),''),{'property':_0x4aed02[_0x385b4f(0x3f6)](_0x385b4f(0x2a2),''),'message':_0x19db55};});throw ns['error']([..._0x3bb773]),new g(..._0x3bb773);}return await _0x3e1afc(_0x20c312,_0x26ffad);}async['groupValidate'](_0x711fa1){const _0x1747df=a0_0x556deb;let {request:_0x5e371d,ClassRef:_0x4488bd,schema:_0x36936e,execute:_0x3817df}=_0x711fa1,_0x51e7f2=_0x5e371d[_0x1747df(0x679)];if(!_0x51e7f2?.[_0x1747df(0x4a7)])throw new g(_0x1747df(0x5c6),_0x1747df(0x1ef));let _0x847e9a=_0x5e371d[_0x1747df(0x39e)],_0x55c37c=_0x5e371d[_0x1747df(0x417)],_0x5cd056=new _0x4488bd();Object[_0x1747df(0x3db)](_0x55c37c,_0x51e7f2),Object[_0x1747df(0x3db)](_0x5cd056,_0x55c37c);let _0x2202fa=(0x0,Ke[_0x1747df(0x496)])(_0x5cd056,_0x36936e);if(!_0x2202fa[_0x1747df(0x321)]){let _0x3fbd29=_0x2202fa[_0x1747df(0x787)][_0x1747df(0x608)](({property:_0x440fbb,stack:_0x3e3646,schema:_0x243d27})=>{const _0x11cd35=_0x1747df;let _0x15dbfc;return _0x243d27[_0x11cd35(0x765)]?_0x15dbfc=_0x243d27[_0x11cd35(0x765)]:_0x15dbfc=_0x3e3646[_0x11cd35(0x3f6)](_0x11cd35(0x2a2),''),{'property':_0x440fbb[_0x11cd35(0x3f6)](_0x11cd35(0x2a2),''),'message':_0x15dbfc};});throw ns[_0x1747df(0x2e0)]([..._0x3fbd29]),new g(..._0x3fbd29);}return await _0x3817df(_0x847e9a,_0x5cd056);}async[a0_0x556deb(0x715)](_0x396684){const _0x2f46bf=a0_0x556deb;let {request:_0x17335d,ClassRef:_0x58eaab,schema:_0x18f8b9,execute:_0x4e2b13}=_0x396684,_0x881aec=_0x17335d[_0x2f46bf(0x417)];if(!_0x881aec?.[_0x2f46bf(0x2f8)])throw new g(_0x2f46bf(0x5a1),_0x2f46bf(0x30a));let _0x5e859d=_0x17335d[_0x2f46bf(0x39e)],_0x4e50b1=_0x17335d[_0x2f46bf(0x417)],_0x49894f=new _0x58eaab();Object[_0x2f46bf(0x3db)](_0x4e50b1,_0x881aec),Object['assign'](_0x49894f,_0x4e50b1);let _0x1112ec=(0x0,Ke[_0x2f46bf(0x496)])(_0x49894f,_0x18f8b9);if(!_0x1112ec[_0x2f46bf(0x321)]){let _0x315696=_0x1112ec[_0x2f46bf(0x787)]['map'](({property:_0xc07c59,stack:_0x5bf69f,schema:_0x40064b})=>{const _0xe7999=_0x2f46bf;let _0x15f6b5;return _0x40064b['description']?_0x15f6b5=_0x40064b[_0xe7999(0x765)]:_0x15f6b5=_0x5bf69f[_0xe7999(0x3f6)]('instance.',''),{'property':_0xc07c59[_0xe7999(0x3f6)](_0xe7999(0x2a2),''),'message':_0x15f6b5};});throw ns[_0x2f46bf(0x2e0)]([..._0x315696]),new g(..._0x315696);}return await _0x4e2b13(_0x5e859d,_0x49894f);}},b=class{},ze=class extends k{constructor(..._0x306328){const _0x4a6856=a0_0x556deb;super(),this[_0x4a6856(0x39b)]=(0x0,ka['Router'])(),this['router'][_0x4a6856(0x719)](this[_0x4a6856(0x501)]('updatePresence'),..._0x306328,async(_0x33225f,_0x589664)=>{const _0x12318f=_0x4a6856;let _0x52a390=await this['dataValidate']({'request':_0x33225f,'schema':Ra,'ClassRef':ke,'execute':(_0x3cbf05,_0x1e52ee)=>D[_0x12318f(0x332)](_0x3cbf05,_0x1e52ee)});return _0x589664['status'](0xc9)['json'](_0x52a390);})[_0x4a6856(0x719)](this[_0x4a6856(0x501)](_0x4a6856(0x415)),..._0x306328,async(_0x21949f,_0x2a72d7)=>{const _0x17ecff=_0x4a6856;let _0x4f72ad=await this[_0x17ecff(0x253)]({'request':_0x21949f,'schema':fa,'ClassRef':Le,'execute':(_0x113ae3,_0x5853dd)=>D[_0x17ecff(0x551)](_0x113ae3,_0x5853dd)});return _0x2a72d7[_0x17ecff(0x65f)](0xc9)[_0x17ecff(0x6c4)](_0x4f72ad);})['post'](this['routerPath'](_0x4a6856(0x745)),..._0x306328,async(_0xf10227,_0x13bc81)=>{const _0x171131=_0x4a6856;let _0x134c55=await this[_0x171131(0x253)]({'request':_0xf10227,'schema':N,'ClassRef':b,'execute':(_0x5e22fc,_0x5a8f9c)=>D['editChat'](_0x5e22fc,_0x5a8f9c)});return _0x13bc81['status'](0xc9)[_0x171131(0x6c4)](_0x134c55);})[_0x4a6856(0x2c4)](this[_0x4a6856(0x501)](_0x4a6856(0x425)),..._0x306328,async(_0x114e30,_0x5caf19)=>{const _0x4039f7=_0x4a6856;let _0x548766=await this[_0x4039f7(0x253)]({'request':_0x114e30,'schema':wa,'ClassRef':Je,'execute':(_0x48ea71,_0x20ad11)=>D[_0x4039f7(0x584)](_0x48ea71,_0x20ad11)});return _0x5caf19[_0x4039f7(0x65f)](0xc9)['json'](_0x548766);})[_0x4a6856(0x2c4)](this[_0x4a6856(0x501)](_0x4a6856(0x1d1)),..._0x306328,async(_0x2e0b35,_0x49073c)=>{const _0x3b1906=_0x4a6856;let _0x4a4343=await this[_0x3b1906(0x253)]({'request':_0x2e0b35,'schema':ba,'ClassRef':je,'execute':(_0x51b725,_0xe9e149)=>D['archiveChat'](_0x51b725,_0xe9e149)});return _0x49073c[_0x3b1906(0x65f)](0xc9)[_0x3b1906(0x6c4)](_0x4a4343);})['delete'](this[_0x4a6856(0x501)](_0x4a6856(0x433)),..._0x306328,async(_0x42f50f,_0x4e6d93)=>{const _0x3a67ed=_0x4a6856;let _0x3ac2a8=await this[_0x3a67ed(0x253)]({'request':_0x42f50f,'schema':Sa,'ClassRef':Be,'execute':(_0x1fd403,_0x9c7ee8)=>D['deleteMessage'](_0x1fd403,_0x9c7ee8)});return _0x4e6d93['status'](0xc9)[_0x3a67ed(0x6c4)](_0x3ac2a8);})['post'](this['routerPath']('fetchProfilePictureUrl'),..._0x306328,async(_0x14150d,_0x19bc5a)=>{const _0x5daa6b=_0x4a6856;let _0x818bd7=await this[_0x5daa6b(0x253)]({'request':_0x14150d,'schema':Ee,'ClassRef':Se,'execute':(_0x43a5e9,_0x97d31c)=>D[_0x5daa6b(0x307)](_0x43a5e9,_0x97d31c)});return _0x19bc5a[_0x5daa6b(0x65f)](0xc8)[_0x5daa6b(0x6c4)](_0x818bd7);})[_0x4a6856(0x719)](this['routerPath']('fetchProfile'),..._0x306328,async(_0x3e593c,_0x2b668b)=>{const _0x3fe4f3=_0x4a6856;let _0x3b1c1e=await this[_0x3fe4f3(0x253)]({'request':_0x3e593c,'schema':Ca,'ClassRef':Se,'execute':(_0x3d7158,_0x228659)=>D[_0x3fe4f3(0x75f)](_0x3d7158,_0x228659)});return _0x2b668b['status'](0xc8)[_0x3fe4f3(0x6c4)](_0x3b1c1e);})[_0x4a6856(0x719)](this[_0x4a6856(0x501)]('findContacts'),..._0x306328,async(_0x2ebba2,_0x4ee228)=>{const _0x2d3a72=_0x4a6856;let _0x38ad6d=await this[_0x2d3a72(0x253)]({'request':_0x2ebba2,'schema':Ea,'ClassRef':We,'execute':(_0x38560e,_0x48b4cf)=>D[_0x2d3a72(0x47c)](_0x38560e,_0x48b4cf)});return _0x4ee228[_0x2d3a72(0x65f)](0xc8)[_0x2d3a72(0x6c4)](_0x38ad6d);})[_0x4a6856(0x719)](this[_0x4a6856(0x501)](_0x4a6856(0x3d7)),..._0x306328,async(_0xb01020,_0x31147a)=>{const _0x11ea5d=_0x4a6856;let _0x19a40d=await this[_0x11ea5d(0x253)]({'request':_0xb01020,'schema':null,'ClassRef':Object,'execute':(_0x51f7cd,_0x383efb)=>D[_0x11ea5d(0x3d7)](_0x51f7cd,_0x383efb)});return _0x31147a[_0x11ea5d(0x65f)](0xc9)[_0x11ea5d(0x6c4)](_0x19a40d);})['post'](this['routerPath']('findMessages'),..._0x306328,async(_0x26121e,_0x1d8780)=>{const _0x1c9322=_0x4a6856;let _0x3d24ba=await this[_0x1c9322(0x253)]({'request':_0x26121e,'schema':Ta,'ClassRef':xe,'execute':(_0x28d475,_0x5ae263)=>D[_0x1c9322(0x200)](_0x28d475,_0x5ae263)});return _0x1d8780['status'](0xc8)[_0x1c9322(0x6c4)](_0x3d24ba);})[_0x4a6856(0x52b)](this[_0x4a6856(0x501)](_0x4a6856(0x3a7)),..._0x306328,async(_0x4e0ebf,_0x1b4f3c)=>{const _0x3478ea=_0x4a6856;let _0x54bf56=await this[_0x3478ea(0x253)]({'request':_0x4e0ebf,'schema':null,'ClassRef':b,'execute':_0x334eda=>D[_0x3478ea(0x26a)](_0x334eda)});return _0x1b4f3c[_0x3478ea(0x65f)](0xc8)['json'](_0x54bf56);})['get'](this[_0x4a6856(0x501)](_0x4a6856(0x5a5)),..._0x306328,async(_0x141afe,_0x23756a)=>{const _0x5052da=_0x4a6856;let _0x55a883=await this[_0x5052da(0x253)]({'request':_0x141afe,'schema':null,'ClassRef':b,'execute':_0x3ded04=>D['fetchPrivacySettings'](_0x3ded04)});return _0x23756a[_0x5052da(0x65f)](0xc8)['json'](_0x55a883);})[_0x4a6856(0x2c4)](this[_0x4a6856(0x501)](_0x4a6856(0x76f)),..._0x306328,async(_0x3c1175,_0x3b2467)=>{const _0x361e07=_0x4a6856;let _0x1a474a=await this['dataValidate']({'request':_0x3c1175,'schema':ya,'ClassRef':Fe,'execute':(_0x45d8a5,_0x5b2fba)=>D[_0x361e07(0x76f)](_0x45d8a5,_0x5b2fba)});return _0x3b2467[_0x361e07(0x65f)](0xc9)[_0x361e07(0x6c4)](_0x1a474a);})[_0x4a6856(0x719)](this[_0x4a6856(0x501)](_0x4a6856(0x709)),..._0x306328,async(_0x28267c,_0xd7fae7)=>{const _0x11d178=_0x4a6856;let _0x25fc59=await this[_0x11d178(0x253)]({'request':_0x28267c,'schema':Ee,'ClassRef':we,'execute':(_0x5928c7,_0x52c4a7)=>D['fetchBusinessProfile'](_0x5928c7,_0x52c4a7)});return _0xd7fae7[_0x11d178(0x65f)](0xc8)['json'](_0x25fc59);})[_0x4a6856(0x719)](this[_0x4a6856(0x501)]('updateProfileName'),..._0x306328,async(_0x20788b,_0x5e231f)=>{const _0x44857b=_0x4a6856;let _0x359a77=await this['dataValidate']({'request':_0x20788b,'schema':va,'ClassRef':Ue,'execute':(_0x4a7a28,_0x1fa4b6)=>D[_0x44857b(0x2da)](_0x4a7a28,_0x1fa4b6)});return _0x5e231f['status'](0xc8)[_0x44857b(0x6c4)](_0x359a77);})[_0x4a6856(0x719)](this['routerPath'](_0x4a6856(0x5a3)),..._0x306328,async(_0xbfc2a7,_0x551f9f)=>{const _0xb8350d=_0x4a6856;let _0x11b805=await this[_0xb8350d(0x253)]({'request':_0xbfc2a7,'schema':Na,'ClassRef':Ve,'execute':(_0x148c61,_0x10cf93)=>D['updateProfileStatus'](_0x148c61,_0x10cf93)});return _0x551f9f[_0xb8350d(0x65f)](0xc8)['json'](_0x11b805);})[_0x4a6856(0x2c4)](this[_0x4a6856(0x501)](_0x4a6856(0x24d)),..._0x306328,async(_0x30f244,_0x215f4e)=>{const _0x546ed0=_0x4a6856;let _0x2e3293=await this['dataValidate']({'request':_0x30f244,'schema':Ee,'ClassRef':we,'execute':(_0x4b5d70,_0x3276e9)=>D[_0x546ed0(0x24d)](_0x4b5d70,_0x3276e9)});return _0x215f4e[_0x546ed0(0x65f)](0xc8)[_0x546ed0(0x6c4)](_0x2e3293);})[_0x4a6856(0x733)](this[_0x4a6856(0x501)]('removeProfilePicture'),..._0x306328,async(_0x67a5ff,_0x3c2f3c)=>{const _0x1bb9db=_0x4a6856;let _0x44409e=await this['dataValidate']({'request':_0x67a5ff,'schema':Ee,'ClassRef':we,'execute':(_0x44d24f,_0x58858a)=>D[_0x1bb9db(0x449)](_0x44d24f,_0x58858a)});return _0x3c2f3c['status'](0xc8)['json'](_0x44409e);});}},La=require(a0_0x556deb(0x4e3)),Qe=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},Z=class{},tt=class{},st=class extends Z{},at=class extends Z{},ot=class extends k{constructor(..._0x726cc3){const _0x172a0d=a0_0x556deb;super(),this[_0x172a0d(0x39b)]=(0x0,La['Router'])(),this[_0x172a0d(0x39b)][_0x172a0d(0x719)](this[_0x172a0d(0x501)](_0x172a0d(0x5e3)),..._0x726cc3,async(_0x4e4245,_0x2888e2)=>{const _0x43d3e0=_0x172a0d;let _0x360233=await this[_0x43d3e0(0x253)]({'request':_0x4e4245,'schema':Ma,'ClassRef':Qe,'execute':(_0x16304e,_0x13554d)=>U[_0x43d3e0(0x6c1)](_0x16304e,_0x13554d)});_0x2888e2['status'](0xc9)[_0x43d3e0(0x6c4)](_0x360233);})[_0x172a0d(0x2c4)](this[_0x172a0d(0x501)](_0x172a0d(0x418)),..._0x726cc3,async(_0x30c53a,_0x50544e)=>{const _0xcf1342=_0x172a0d;let _0x5b6c72=await this[_0xcf1342(0x3bb)]({'request':_0x30c53a,'schema':Oa,'ClassRef':Ye,'execute':(_0x3982da,_0xd4c736)=>U[_0xcf1342(0x418)](_0x3982da,_0xd4c736)});_0x50544e['status'](0xc9)[_0xcf1342(0x6c4)](_0x5b6c72);})[_0x172a0d(0x2c4)](this[_0x172a0d(0x501)]('groupDesc'),..._0x726cc3,async(_0x10e56e,_0x1994d5)=>{const _0x310aeb=_0x172a0d;let _0x2917b6=await this[_0x310aeb(0x3bb)]({'request':_0x10e56e,'schema':Da,'ClassRef':Xe,'execute':(_0x89f0c3,_0xbf0cb5)=>U['groupDesc'](_0x89f0c3,_0xbf0cb5)});_0x1994d5['status'](0xc9)[_0x310aeb(0x6c4)](_0x2917b6);})['put'](this[_0x172a0d(0x501)](_0x172a0d(0x3ba)),..._0x726cc3,async(_0x1adca8,_0x5aec7a)=>{const _0x3416b5=_0x172a0d;let _0x3a220a=await this['groupValidate']({'request':_0x1adca8,'schema':_a,'ClassRef':Ze,'execute':(_0x4d1d0f,_0x4a56a0)=>U[_0x3416b5(0x3ba)](_0x4d1d0f,_0x4a56a0)});_0x5aec7a[_0x3416b5(0x65f)](0xc9)[_0x3416b5(0x6c4)](_0x3a220a);})[_0x172a0d(0x2c4)](this[_0x172a0d(0x501)](_0x172a0d(0x494)),..._0x726cc3,async(_0x26b046,_0x43b755)=>{const _0x53fc67=_0x172a0d;let _0x53a049=await this['groupValidate']({'request':_0x26b046,'schema':Pa,'ClassRef':et,'execute':(_0x561a6c,_0x108d9a)=>U[_0x53fc67(0x494)](_0x561a6c,_0x108d9a)});_0x43b755[_0x53fc67(0x65f)](0xc9)[_0x53fc67(0x6c4)](_0x53a049);})[_0x172a0d(0x2c4)](this[_0x172a0d(0x501)](_0x172a0d(0x3b5)),..._0x726cc3,async(_0x46a5f7,_0x78a522)=>{const _0xa9e6de=_0x172a0d;let _0x4e13b5=await this['groupValidate']({'request':_0x46a5f7,'schema':Ia,'ClassRef':at,'execute':(_0xce9bb,_0x1c383c)=>U[_0xa9e6de(0x3b5)](_0xce9bb,_0x1c383c)});_0x78a522[_0xa9e6de(0x65f)](0xc9)[_0xa9e6de(0x6c4)](_0x4e13b5);})['get'](this['routerPath'](_0x172a0d(0x705)),..._0x726cc3,async(_0x25638b,_0x322d8f)=>{const _0x1e9ee4=_0x172a0d;let _0x33f5c2=await this['groupValidate']({'request':_0x25638b,'schema':ve,'ClassRef':Z,'execute':(_0x34fd41,_0x4d8dca)=>U[_0x1e9ee4(0x5e4)](_0x34fd41,_0x4d8dca)});_0x322d8f['status'](0xc8)['json'](_0x33f5c2);})[_0x172a0d(0x52b)](this['routerPath']('findGroups'),..._0x726cc3,async(_0x3db026,_0x53fe88)=>{const _0x5e9c35=_0x172a0d;let _0x8e3e71=await this[_0x5e9c35(0x253)]({'request':_0x3db026,'schema':N,'ClassRef':b,'execute':_0xc17702=>U[_0x5e9c35(0x400)](_0xc17702)});_0x53fe88[_0x5e9c35(0x65f)](0xc8)[_0x5e9c35(0x6c4)](_0x8e3e71);})[_0x172a0d(0x52b)](this[_0x172a0d(0x501)](_0x172a0d(0x5aa)),..._0x726cc3,async(_0x5377d4,_0x13e308)=>{const _0x3a5a55=_0x172a0d;let _0x2c5127=await this[_0x3a5a55(0x3bb)]({'request':_0x5377d4,'schema':ve,'ClassRef':Z,'execute':(_0x5253d4,_0x41c7f6)=>U[_0x3a5a55(0x79d)](_0x5253d4,_0x41c7f6)});_0x13e308[_0x3a5a55(0x65f)](0xc8)[_0x3a5a55(0x6c4)](_0x2c5127);})[_0x172a0d(0x52b)](this[_0x172a0d(0x501)]('inviteCode'),..._0x726cc3,async(_0x5257d9,_0x195b6d)=>{const _0xcbe639=_0x172a0d;let _0x5696e3=await this[_0xcbe639(0x3bb)]({'request':_0x5257d9,'schema':ve,'ClassRef':Z,'execute':(_0x30f98e,_0x33bdb5)=>U[_0xcbe639(0x2f8)](_0x30f98e,_0x33bdb5)});_0x195b6d[_0xcbe639(0x65f)](0xc8)[_0xcbe639(0x6c4)](_0x5696e3);})[_0x172a0d(0x2c4)](this[_0x172a0d(0x501)](_0x172a0d(0x69d)),..._0x726cc3,async(_0x5f16dd,_0x73ee21)=>{const _0x2123bf=_0x172a0d;let _0x23a722=await this['joinGroupValidate']({'request':_0x5f16dd,'schema':xa,'ClassRef':tt,'execute':(_0x1b1082,_0x19add0)=>U[_0x2123bf(0x69d)](_0x1b1082,_0x19add0)});_0x73ee21[_0x2123bf(0x65f)](0xc9)['json'](_0x23a722);})[_0x172a0d(0x2c4)](this[_0x172a0d(0x501)](_0x172a0d(0x77d)),..._0x726cc3,async(_0x21a06c,_0x5c88bf)=>{const _0x3ac484=_0x172a0d;let _0x4d2f11=await this['groupValidate']({'request':_0x21a06c,'schema':ve,'ClassRef':Z,'execute':(_0x5ab333,_0x785580)=>U[_0x3ac484(0x77d)](_0x5ab333,_0x785580)});_0x5c88bf[_0x3ac484(0x65f)](0xc9)[_0x3ac484(0x6c4)](_0x4d2f11);})[_0x172a0d(0x2c4)](this['routerPath']('updateParticipant'),..._0x726cc3,async(_0x1245d9,_0x4ec6fc)=>{const _0x657b8=_0x172a0d;let _0x364cea=await this[_0x657b8(0x3bb)]({'request':_0x1245d9,'schema':Aa,'ClassRef':st,'execute':(_0x38fb59,_0x562d4d)=>U[_0x657b8(0x218)](_0x38fb59,_0x562d4d)});_0x4ec6fc[_0x657b8(0x65f)](0xc9)['json'](_0x364cea);})[_0x172a0d(0x733)](this['routerPath']('leaveGroup'),..._0x726cc3,async(_0x4f999a,_0x560dfb)=>{const _0x14f52f=_0x172a0d;let _0x50522e=await this[_0x14f52f(0x3bb)]({'request':_0x4f999a,'schema':{},'ClassRef':Z,'execute':(_0x2c0504,_0x598ddb)=>U[_0x14f52f(0x3d5)](_0x2c0504,_0x598ddb)});_0x560dfb[_0x14f52f(0x65f)](0xc8)[_0x14f52f(0x6c4)](_0x50522e);});}},Ja=require(a0_0x556deb(0x4e3)),Ne=require(a0_0x556deb(0x764)),cs=require(a0_0x556deb(0x51e)),Ua=require(a0_0x556deb(0x675)),Va=T(require('axios')),it=class{},rt=class c{constructor(_0x23946b,_0x508bc0,_0x53f0ad){const _0x6a3190=a0_0x556deb;this[_0x6a3190(0x31b)]=_0x23946b,this[_0x6a3190(0x60f)]=_0x508bc0,this[_0x6a3190(0x3df)]=_0x53f0ad,this[_0x6a3190(0x256)]=new C(c[_0x6a3190(0x750)]);}async[a0_0x556deb(0x389)](_0x4087a8){const _0x4b6e11=a0_0x556deb;let _0x119e1a=this[_0x4b6e11(0x31b)][_0x4b6e11(0x52b)](_0x4b6e11(0x1dc))['JWT'],_0x305e1e=(0x0,Ne[_0x4b6e11(0x553)])({'instanceName':_0x4087a8[_0x4b6e11(0x780)],'apiName':Ge,'tokenId':(0x0,cs['v4'])()},_0x119e1a[_0x4b6e11(0x78a)],{'expiresIn':_0x119e1a[_0x4b6e11(0x453)],'encoding':'utf8','subject':_0x4b6e11(0x712)}),_0x58a39f=await this[_0x4b6e11(0x3df)]['auth'][_0x4b6e11(0x5e3)]({'jwt':_0x305e1e},_0x4087a8['instanceName']);if(_0x58a39f[_0x4b6e11(0x2e0)])throw this[_0x4b6e11(0x256)]['error']({'localError':c[_0x4b6e11(0x750)]+_0x4b6e11(0x3e3),'error':_0x58a39f[_0x4b6e11(0x2e0)]}),new g(_0x4b6e11(0x28c),_0x58a39f[_0x4b6e11(0x2e0)]?.['toString']());return{'jwt':_0x305e1e};}async[a0_0x556deb(0x691)](_0x584240){const _0x417741=a0_0x556deb;let _0x5ec17a=(0x0,cs['v4'])()[_0x417741(0x6bf)](),_0x63778e=await this[_0x417741(0x3df)][_0x417741(0x288)][_0x417741(0x5e3)]({'apikey':_0x5ec17a},_0x584240[_0x417741(0x780)]);if(_0x63778e['error'])throw this[_0x417741(0x256)]['error']({'localError':c['name']+_0x417741(0x3e3),'error':_0x63778e['error']}),new g(_0x417741(0x28c),_0x63778e[_0x417741(0x2e0)]?.[_0x417741(0x77f)]());return{'apikey':_0x5ec17a};}async['generateHash'](_0x93b1ab){const _0x5e4b85=a0_0x556deb;let _0x3781a1=this[_0x5e4b85(0x31b)]['get']('AUTHENTICATION');return await this[_0x3781a1['TYPE']](_0x93b1ab);}async[a0_0x556deb(0x484)]({oldToken:_0x4e74b9}){const _0x58c865=a0_0x556deb;if(!(0x0,Ua[_0x58c865(0x721)])(_0x4e74b9))throw new g(_0x58c865(0x398));try{let _0x2e862c=this[_0x58c865(0x31b)]['get'](_0x58c865(0x1dc))['JWT'],_0x233e24=(0x0,Ne['verify'])(_0x4e74b9,_0x2e862c['SECRET'],{'ignoreExpiration':!0x0}),_0x12f22d=await this[_0x58c865(0x3df)][_0x58c865(0x288)][_0x58c865(0x33f)](_0x233e24[_0x58c865(0x780)]),_0x267e08=(0x0,Ne['verify'])(_0x12f22d['jwt'],_0x2e862c['SECRET'],{'ignoreExpiration':!0x0});if(_0x233e24[_0x58c865(0x549)]!==_0x267e08['tokenId'])throw new g(_0x58c865(0x398));let _0x372d07={'jwt':(await this[_0x58c865(0x389)]({'instanceName':_0x233e24[_0x58c865(0x780)]}))['jwt'],'instanceName':_0x233e24[_0x58c865(0x780)]};try{let _0xf3f204=await this[_0x58c865(0x3df)][_0x58c865(0x77b)]['find'](_0x233e24[_0x58c865(0x780)]);_0xf3f204?.[_0x58c865(0x6d1)]&&this[_0x58c865(0x31b)]['get']('WEBHOOK')[_0x58c865(0x697)][_0x58c865(0x5dd)]&&await Va['default'][_0x58c865(0x5e3)]({'baseURL':_0xf3f204[_0x58c865(0x668)]})[_0x58c865(0x719)]('',{'event':_0x58c865(0x6c9),'instance':_0x233e24[_0x58c865(0x780)],'data':_0x372d07},{'params':{'owner':this[_0x58c865(0x60f)]['waInstances'][_0x233e24[_0x58c865(0x780)]]['wuid']}});}catch(_0x49181b){this[_0x58c865(0x256)]['error'](_0x49181b);}return _0x372d07;}catch(_0x5d06ed){throw this[_0x58c865(0x256)][_0x58c865(0x2e0)]({'localError':c['name']+'.refreshToken','error':_0x5d06ed}),new g('Invalid\x20\x22oldToken\x22');}}},nt=class extends k{constructor(_0x5a4c63,..._0x1182e0){const _0x4ab295=a0_0x556deb;super(),this[_0x4ab295(0x31b)]=_0x5a4c63,this[_0x4ab295(0x39b)]=(0x0,Ja[_0x4ab295(0x48b)])();let _0x4ad51b=_0x5a4c63[_0x4ab295(0x52b)]('AUTHENTICATION');this['router'][_0x4ab295(0x719)](_0x4ab295(0x24f),..._0x1182e0,async(_0x54b4d2,_0x4832a8)=>{const _0x3aed75=_0x4ab295;let {instanceName:_0x292b5d,apikey:_0x53aece}=_0x54b4d2[_0x3aed75(0x417)],_0x35e4d2=await re[_0x3aed75(0x410)]({'instanceName':_0x292b5d,'apikey':_0x53aece});return _0x4832a8['status'](0xc9)[_0x3aed75(0x6c4)](_0x35e4d2);})[_0x4ab295(0x2c4)](this[_0x4ab295(0x501)](_0x4ab295(0x46f)),..._0x1182e0,async(_0x3a7419,_0x1c12fd)=>{const _0x1b626e=_0x4ab295;let _0x3d0c7d=await this[_0x1b626e(0x253)]({'request':_0x3a7419,'schema':N,'ClassRef':b,'execute':_0xa789f5=>re[_0x1b626e(0x33b)](_0xa789f5)});return _0x1c12fd['status'](0xc8)[_0x1b626e(0x6c4)](_0x3d0c7d);})[_0x4ab295(0x52b)](this[_0x4ab295(0x501)](_0x4ab295(0x3d9)),..._0x1182e0,async(_0x1c2fd,_0x4711e8)=>{const _0x281185=_0x4ab295;let _0x5a101e=await this['dataValidate']({'request':_0x1c2fd,'schema':N,'ClassRef':b,'execute':_0x3601cd=>re['connectToWhatsapp'](_0x3601cd)});return _0x4711e8[_0x281185(0x65f)](0xc8)[_0x281185(0x6c4)](_0x5a101e);})[_0x4ab295(0x52b)](this['routerPath'](_0x4ab295(0x4e5)),..._0x1182e0,async(_0x3f872f,_0x5a2559)=>{const _0xc7fff6=_0x4ab295;let _0x33189a=await this[_0xc7fff6(0x253)]({'request':_0x3f872f,'schema':N,'ClassRef':b,'execute':_0x494486=>re['connectionState'](_0x494486)});return _0x5a2559[_0xc7fff6(0x65f)](0xc8)[_0xc7fff6(0x6c4)](_0x33189a);})[_0x4ab295(0x52b)](this[_0x4ab295(0x501)](_0x4ab295(0x254),!0x1),..._0x1182e0,async(_0x5d2a89,_0x3926e6)=>{const _0x53ea90=_0x4ab295;let _0x565d86=await this['dataValidate']({'request':_0x5d2a89,'schema':null,'ClassRef':b,'execute':_0x2104fb=>re[_0x53ea90(0x254)](_0x2104fb)});return _0x3926e6[_0x53ea90(0x65f)](0xc8)[_0x53ea90(0x6c4)](_0x565d86);})[_0x4ab295(0x733)](this[_0x4ab295(0x501)](_0x4ab295(0x3d6)),..._0x1182e0,async(_0x2f576a,_0x409817)=>{const _0x193775=_0x4ab295;let _0x444677=await this[_0x193775(0x253)]({'request':_0x2f576a,'schema':N,'ClassRef':b,'execute':_0x33e373=>re[_0x193775(0x3d6)](_0x33e373)});return _0x409817[_0x193775(0x65f)](0xc8)['json'](_0x444677);})[_0x4ab295(0x733)](this[_0x4ab295(0x501)](_0x4ab295(0x733)),..._0x1182e0,async(_0x2082ae,_0x4a8b6f)=>{const _0x387834=_0x4ab295;let _0xf85df9=await this[_0x387834(0x253)]({'request':_0x2082ae,'schema':N,'ClassRef':b,'execute':_0x32fc26=>re['deleteInstance'](_0x32fc26)});return _0x4a8b6f[_0x387834(0x65f)](0xc8)['json'](_0xf85df9);}),_0x4ad51b[_0x4ab295(0x61e)]===_0x4ab295(0x389)&&this[_0x4ab295(0x39b)]['put'](_0x4ab295(0x544),async(_0x1bf3de,_0x5f5a3e)=>{const _0x22ca3c=_0x4ab295;let _0x448560=await this['dataValidate']({'request':_0x1bf3de,'schema':aa,'ClassRef':it,'execute':(_0x43ff43,_0x1741db)=>re[_0x22ca3c(0x484)](_0x43ff43,_0x1741db)});return _0x5f5a3e[_0x22ca3c(0x65f)](0xc9)['json'](_0x448560);});}},ja=require(a0_0x556deb(0x4e3)),ls=class{},z=class extends ls{},ct=class extends z{},lt=class extends z{},ut=class extends z{},Ce=class extends z{},dt=class extends z{},pt=class extends z{},gt=class extends z{},mt=class extends z{},ht=class extends z{},ft=class{},wt=class extends k{constructor(..._0xe38bab){const _0x28809f=a0_0x556deb;super(),this[_0x28809f(0x39b)]=(0x0,ja[_0x28809f(0x48b)])(),this[_0x28809f(0x39b)][_0x28809f(0x719)](this['routerPath'](_0x28809f(0x5c3)),..._0xe38bab,async(_0x4cb9e0,_0x3b5f60)=>{const _0x5cc92b=_0x28809f;let _0x1081c2=await this[_0x5cc92b(0x253)]({'request':_0x4cb9e0,'schema':oa,'ClassRef':ct,'execute':(_0x134d0d,_0x3402ea)=>K[_0x5cc92b(0x5c3)](_0x134d0d,_0x3402ea)});return _0x3b5f60[_0x5cc92b(0x65f)](0xc9)[_0x5cc92b(0x6c4)](_0x1081c2);})[_0x28809f(0x719)](this[_0x28809f(0x501)](_0x28809f(0x610)),..._0xe38bab,async(_0x2d4c94,_0x452574)=>{const _0x1c3769=_0x28809f;let _0x3d6881=await this[_0x1c3769(0x253)]({'request':_0x2d4c94,'schema':ca,'ClassRef':Ce,'execute':(_0x1121b0,_0x216c49)=>K[_0x1c3769(0x610)](_0x1121b0,_0x216c49)});return _0x452574[_0x1c3769(0x65f)](0xc9)[_0x1c3769(0x6c4)](_0x3d6881);})[_0x28809f(0x719)](this[_0x28809f(0x501)]('sendWhatsAppAudio'),..._0xe38bab,async(_0x5393db,_0x770898)=>{const _0x26cddd=_0x28809f;let _0x21e5ab=await this[_0x26cddd(0x253)]({'request':_0x5393db,'schema':la,'ClassRef':Ce,'execute':(_0x43199b,_0xef7303)=>K['sendWhatsAppAudio'](_0x43199b,_0xef7303)});return _0x770898['status'](0xc9)[_0x26cddd(0x6c4)](_0x21e5ab);})[_0x28809f(0x719)](this[_0x28809f(0x501)]('sendButtons'),..._0xe38bab,async(_0x11b886,_0x333c07)=>{const _0x2e44a1=_0x28809f;let _0x491265=await this['dataValidate']({'request':_0x11b886,'schema':da,'ClassRef':pt,'execute':(_0x3eabef,_0x19bc15)=>K[_0x2e44a1(0x313)](_0x3eabef,_0x19bc15)});return _0x333c07[_0x2e44a1(0x65f)](0xc9)[_0x2e44a1(0x6c4)](_0x491265);})['post'](this[_0x28809f(0x501)](_0x28809f(0x635)),..._0xe38bab,async(_0xce9b71,_0x16e097)=>{const _0x96955=_0x28809f;let _0x54f1c9=await this[_0x96955(0x253)]({'request':_0xce9b71,'schema':pa,'ClassRef':gt,'execute':(_0x2946e3,_0x920c3e)=>K['sendLocation'](_0x2946e3,_0x920c3e)});return _0x16e097[_0x96955(0x65f)](0xc9)['json'](_0x54f1c9);})[_0x28809f(0x719)](this[_0x28809f(0x501)](_0x28809f(0x5a6)),..._0xe38bab,async(_0x498a0d,_0x5aa4c8)=>{const _0x5d6d59=_0x28809f;let _0x2f0590=await this[_0x5d6d59(0x253)]({'request':_0x498a0d,'schema':ga,'ClassRef':mt,'execute':(_0x5e2a09,_0x41e1cb)=>K['sendList'](_0x5e2a09,_0x41e1cb)});return _0x5aa4c8['status'](0xc9)[_0x5d6d59(0x6c4)](_0x2f0590);})[_0x28809f(0x719)](this[_0x28809f(0x501)]('sendContact'),..._0xe38bab,async(_0x456d03,_0x30bbb5)=>{const _0x42196f=_0x28809f;let _0x228716=await this[_0x42196f(0x253)]({'request':_0x456d03,'schema':ma,'ClassRef':ht,'execute':(_0x23a9c8,_0x8d4177)=>K['sendContact'](_0x23a9c8,_0x8d4177)});return _0x30bbb5[_0x42196f(0x65f)](0xc9)[_0x42196f(0x6c4)](_0x228716);})['post'](this[_0x28809f(0x501)](_0x28809f(0x40e)),..._0xe38bab,async(_0x1b9771,_0x7129d9)=>{const _0x1d2418=_0x28809f;let _0x1a733f=await this[_0x1d2418(0x253)]({'request':_0x1b9771,'schema':ha,'ClassRef':ft,'execute':(_0x3abf65,_0x1b8c95)=>K['sendReaction'](_0x3abf65,_0x1b8c95)});return _0x7129d9['status'](0xc9)['json'](_0x1a733f);})[_0x28809f(0x719)](this['routerPath'](_0x28809f(0x63e)),..._0xe38bab,async(_0x32331e,_0x56b95d)=>{const _0x1ae67d=_0x28809f;let _0x242195=await this['dataValidate']({'request':_0x32331e,'schema':ua,'ClassRef':ut,'execute':(_0x3a6a03,_0x425f25)=>K[_0x1ae67d(0x63e)](_0x3a6a03,_0x425f25)});return _0x56b95d['status'](0xc9)[_0x1ae67d(0x6c4)](_0x242195);})[_0x28809f(0x719)](this[_0x28809f(0x501)]('sendStatus'),..._0xe38bab,async(_0xf0831c,_0x2e617e)=>{const _0x17eaa5=_0x28809f;let _0x3f1718=await this[_0x17eaa5(0x253)]({'request':_0xf0831c,'schema':na,'ClassRef':lt,'execute':(_0x1aa82c,_0x2124a2)=>K[_0x17eaa5(0x26f)](_0x1aa82c,_0x2124a2)});return _0x2e617e[_0x17eaa5(0x65f)](0xc9)[_0x17eaa5(0x6c4)](_0x3f1718);})['post'](this[_0x28809f(0x501)](_0x28809f(0x6ae)),..._0xe38bab,async(_0x4b0be1,_0x1212d1)=>{const _0x169764=_0x28809f;let _0x2feb55=await this[_0x169764(0x253)]({'request':_0x4b0be1,'schema':ra,'ClassRef':dt,'execute':(_0x55af9a,_0x3e1e4e)=>K[_0x169764(0x6ae)](_0x55af9a,_0x3e1e4e)});return _0x1212d1[_0x169764(0x65f)](0xc9)[_0x169764(0x6c4)](_0x2feb55);});}},Fa=require(a0_0x556deb(0x4e3)),yt=class extends k{constructor(..._0x5b67fd){const _0x22e79a=a0_0x556deb;super(),this[_0x22e79a(0x39b)]=(0x0,Fa[_0x22e79a(0x48b)])(),this[_0x22e79a(0x39b)]['get'](this[_0x22e79a(0x501)](_0x22e79a(0x59a)),..._0x5b67fd,(_0x56ce8c,_0x5d9cf9)=>Ba[_0x22e79a(0x59a)](_0x56ce8c,_0x5d9cf9));}},qa=require(a0_0x556deb(0x4e3)),bt=class{},St=class extends k{constructor(..._0x21388f){const _0x9302a1=a0_0x556deb;super(),this['router']=(0x0,qa[_0x9302a1(0x48b)])(),this[_0x9302a1(0x39b)][_0x9302a1(0x719)](this['routerPath'](_0x9302a1(0x1fd)),..._0x21388f,async(_0x23c2ad,_0x1e142d)=>{const _0x1628db=_0x9302a1;let _0x4db156=await this['dataValidate']({'request':_0x23c2ad,'schema':$a,'ClassRef':bt,'execute':(_0x1edcbb,_0x48f55d)=>us[_0x1628db(0x5ef)](_0x1edcbb,_0x48f55d)});_0x1e142d['status'](0xc9)['json'](_0x4db156);})[_0x9302a1(0x52b)](this[_0x9302a1(0x501)](_0x9302a1(0x33f)),..._0x21388f,async(_0x3d80c4,_0x105f7c)=>{const _0x250208=_0x9302a1;let _0x410d32=await this[_0x250208(0x253)]({'request':_0x3d80c4,'schema':N,'ClassRef':b,'execute':_0xd88c91=>us['findWebhook'](_0xd88c91)});_0x105f7c[_0x250208(0x65f)](0xc8)[_0x250208(0x6c4)](_0x410d32);});}},Ga=require(a0_0x556deb(0x4e3)),h=new C(a0_0x556deb(0x3bd)),Et=class extends k{constructor(..._0x30cf0b){const _0x1e4d08=a0_0x556deb;super(),this[_0x1e4d08(0x39b)]=(0x0,Ga['Router'])(),this[_0x1e4d08(0x39b)]['post'](this[_0x1e4d08(0x501)](_0x1e4d08(0x59d)),..._0x30cf0b,async(_0x553555,_0x443ad2)=>{const _0x2c3b96=_0x1e4d08;let _0x4775fe=_0x553555[_0x2c3b96(0x417)];h['verbose'](_0x2c3b96(0x6ad)),h[_0x2c3b96(0x31f)]('request\x20body:\x20'),h[_0x2c3b96(0x31f)](_0x553555[_0x2c3b96(0x417)]);let _0x153f01=await this[_0x2c3b96(0x253)]({'request':_0x553555,'schema':N,'ClassRef':b,'execute':_0x2d97a0=>R[_0x2c3b96(0x502)](_0x2d97a0,_0x4775fe)});_0x443ad2['status'](0xc8)[_0x2c3b96(0x6c4)](_0x153f01);})[_0x1e4d08(0x52b)](this['routerPath']('scheduleMessage'),..._0x30cf0b,async(_0x5a0109,_0x2b112f)=>{const _0x343592=_0x1e4d08;let _0x5935b6=await this[_0x343592(0x253)]({'request':_0x5a0109,'schema':N,'ClassRef':b,'execute':_0x384c2e=>R['getScheduleMessage'](_0x384c2e)});_0x2b112f['status'](0xc8)[_0x343592(0x6c4)](_0x5935b6);})[_0x1e4d08(0x733)](this[_0x1e4d08(0x501)](_0x1e4d08(0x6f9)),..._0x30cf0b,async(_0x431e15,_0x30bd7c)=>{const _0xbe6d5d=_0x1e4d08;h[_0xbe6d5d(0x31f)](_0xbe6d5d(0x589));let _0x1038e0=await this['dataValidate']({'request':_0x431e15,'schema':N,'ClassRef':b,'execute':_0xc7c331=>R[_0xbe6d5d(0x6f9)](_0xc7c331)});_0x30bd7c[_0xbe6d5d(0x65f)](0xc8)['json'](_0x1038e0);})['post'](this[_0x1e4d08(0x501)]('startFlow'),..._0x30cf0b,async(_0x52d233,_0x52d623)=>{const _0x495dea=_0x1e4d08;let _0x4696c1=_0x52d233[_0x495dea(0x417)];h[_0x495dea(0x31f)](_0x495dea(0x69c)),h['verbose'](_0x495dea(0x692)),h[_0x495dea(0x31f)](_0x52d233[_0x495dea(0x417)]);let _0x3a7770=await this['dataValidate']({'request':_0x52d233,'schema':N,'ClassRef':b,'execute':_0x5beb18=>R['startFlow'](_0x5beb18,_0x4696c1)});_0x52d623['status'](0xc8)['json'](_0x3a7770);})['get'](this['routerPath'](_0x1e4d08(0x6cd)),..._0x30cf0b,async(_0x1ecd9e,_0x3397f8)=>{const _0x526677=_0x1e4d08;h[_0x526677(0x31f)](_0x526677(0x448));let _0x112d1b=await this['dataValidate']({'request':_0x1ecd9e,'schema':N,'ClassRef':b,'execute':_0xff44fa=>R[_0x526677(0x6cd)](_0xff44fa)});_0x3397f8[_0x526677(0x65f)](0xc8)[_0x526677(0x6c4)](_0x112d1b);})[_0x1e4d08(0x52b)](this[_0x1e4d08(0x501)](_0x1e4d08(0x57c)),..._0x30cf0b,async(_0x5789c2,_0x4f440d)=>{const _0x4e82e9=_0x1e4d08;h[_0x4e82e9(0x31f)](_0x4e82e9(0x4ec));let _0x1dd52e=await this[_0x4e82e9(0x253)]({'request':_0x5789c2,'schema':N,'ClassRef':b,'execute':_0x3c52fd=>R['getAutomateSystem'](_0x3c52fd)});_0x4f440d[_0x4e82e9(0x65f)](0xc8)['json'](_0x1dd52e);})[_0x1e4d08(0x719)](this[_0x1e4d08(0x501)](_0x1e4d08(0x56a)),..._0x30cf0b,async(_0x207a74,_0x144e33)=>{const _0x4f04d2=_0x1e4d08;let _0x5a0371=_0x207a74[_0x4f04d2(0x417)];h[_0x4f04d2(0x31f)]('request\x20received\x20in\x20updateAgent'),h[_0x4f04d2(0x31f)](_0x4f04d2(0x692)),h[_0x4f04d2(0x31f)](_0x207a74[_0x4f04d2(0x417)]);let _0x279a89=await this[_0x4f04d2(0x253)]({'request':_0x207a74,'schema':N,'ClassRef':b,'execute':_0x1831c6=>R[_0x4f04d2(0x56a)](_0x1831c6,_0x5a0371)});_0x144e33[_0x4f04d2(0x65f)](0xc8)[_0x4f04d2(0x6c4)](_0x279a89);})[_0x1e4d08(0x719)](this[_0x1e4d08(0x501)](_0x1e4d08(0x1d5)),..._0x30cf0b,async(_0x411321,_0x3125c3)=>{const _0x41b31c=_0x1e4d08;let _0x5c8c82=_0x411321['body'];h['verbose'](_0x41b31c(0x26b)),h[_0x41b31c(0x31f)](_0x41b31c(0x692)),h['verbose'](_0x411321['body']);let _0x628e08=await this[_0x41b31c(0x253)]({'request':_0x411321,'schema':N,'ClassRef':b,'execute':_0x1ae8fd=>R[_0x41b31c(0x1d5)](_0x1ae8fd,_0x5c8c82)});_0x3125c3[_0x41b31c(0x65f)](0xc8)['json'](_0x628e08);})[_0x1e4d08(0x719)](this[_0x1e4d08(0x501)]('updateFlowConfig'),..._0x30cf0b,async(_0x124ed1,_0x199378)=>{const _0x258c61=_0x1e4d08;let _0x4db57a=_0x124ed1[_0x258c61(0x417)];h[_0x258c61(0x31f)]('request\x20received\x20in\x20updateFlowConfig'),h['verbose']('request\x20body:\x20'),h[_0x258c61(0x31f)](_0x124ed1[_0x258c61(0x417)]);let _0x225c3e=await this[_0x258c61(0x253)]({'request':_0x124ed1,'schema':N,'ClassRef':b,'execute':_0x3192f1=>R[_0x258c61(0x45a)](_0x3192f1,_0x4db57a)});_0x199378[_0x258c61(0x65f)](0xc8)[_0x258c61(0x6c4)](_0x225c3e);})['post'](this[_0x1e4d08(0x501)]('getConversation'),..._0x30cf0b,async(_0x53394f,_0x2706a2)=>{const _0x208aab=_0x1e4d08;let _0x4d004d=_0x53394f[_0x208aab(0x417)];h[_0x208aab(0x31f)](_0x208aab(0x45b)),h['verbose'](_0x208aab(0x692)),h[_0x208aab(0x31f)](_0x53394f['body']);let _0xab1be6=await this[_0x208aab(0x253)]({'request':_0x53394f,'schema':N,'ClassRef':b,'execute':_0x305666=>R[_0x208aab(0x2b6)](_0x305666,_0x4d004d)});_0x2706a2[_0x208aab(0x65f)](0xc8)[_0x208aab(0x6c4)](_0xab1be6);})[_0x1e4d08(0x719)](this['routerPath'](_0x1e4d08(0x358)),..._0x30cf0b,async(_0x4e6d03,_0x5e7bc3)=>{const _0x3a6b18=_0x1e4d08;let _0x134557=_0x4e6d03[_0x3a6b18(0x417)];h[_0x3a6b18(0x31f)](_0x3a6b18(0x2b3)),h['verbose'](_0x3a6b18(0x692)),h[_0x3a6b18(0x31f)](_0x4e6d03['body']);let _0x4903fc=await this[_0x3a6b18(0x253)]({'request':_0x4e6d03,'schema':N,'ClassRef':b,'execute':_0x42beb7=>R[_0x3a6b18(0x358)](_0x42beb7,_0x134557)});_0x5e7bc3[_0x3a6b18(0x65f)](0xc8)['json'](_0x4903fc);})[_0x1e4d08(0x719)](this['routerPath']('editConversation'),..._0x30cf0b,async(_0x20620b,_0x13e8c6)=>{const _0x5c4f8a=_0x1e4d08;let _0x27934d=_0x20620b['body'];h[_0x5c4f8a(0x31f)](_0x5c4f8a(0x506)),h[_0x5c4f8a(0x31f)]('request\x20body:\x20'),h['verbose'](_0x20620b['body']);let _0x125caf=await this['dataValidate']({'request':_0x20620b,'schema':N,'ClassRef':b,'execute':_0x1ae6fb=>R[_0x5c4f8a(0x3cd)](_0x1ae6fb,_0x27934d)});_0x13e8c6[_0x5c4f8a(0x65f)](0xc8)[_0x5c4f8a(0x6c4)](_0x125caf);})['delete'](this[_0x1e4d08(0x501)](_0x1e4d08(0x408)),..._0x30cf0b,async(_0x5d8927,_0x26df21)=>{const _0x4484c7=_0x1e4d08;let _0x434c6a=_0x5d8927[_0x4484c7(0x417)];h[_0x4484c7(0x31f)](_0x4484c7(0x3f4)),h[_0x4484c7(0x31f)](_0x4484c7(0x692)),h[_0x4484c7(0x31f)](_0x5d8927[_0x4484c7(0x417)]);let _0x5900b9=await this['dataValidate']({'request':_0x5d8927,'schema':N,'ClassRef':b,'execute':_0x59a383=>R[_0x4484c7(0x408)](_0x59a383,_0x434c6a)});_0x26df21['status'](0xc8)[_0x4484c7(0x6c4)](_0x5900b9);})[_0x1e4d08(0x719)](this[_0x1e4d08(0x501)]('createflow'),..._0x30cf0b,async(_0x1449de,_0x4c7303)=>{const _0x39c98f=_0x1e4d08;let _0x5d99f3=_0x1449de[_0x39c98f(0x417)];h[_0x39c98f(0x31f)](_0x39c98f(0x49f)),h[_0x39c98f(0x31f)](_0x39c98f(0x692)),h[_0x39c98f(0x31f)](_0x1449de[_0x39c98f(0x417)]);let _0x450064=await this[_0x39c98f(0x253)]({'request':_0x1449de,'schema':N,'ClassRef':b,'execute':_0x507a34=>R[_0x39c98f(0x323)](_0x507a34,_0x5d99f3)});_0x4c7303[_0x39c98f(0x65f)](0xc8)[_0x39c98f(0x6c4)](_0x450064);})[_0x1e4d08(0x719)](this[_0x1e4d08(0x501)](_0x1e4d08(0x766)),..._0x30cf0b,async(_0x5a6427,_0x34e1ff)=>{const _0x123bc3=_0x1e4d08;let _0x220cea=_0x5a6427[_0x123bc3(0x417)];h[_0x123bc3(0x31f)](_0x123bc3(0x3cc)),h[_0x123bc3(0x31f)](_0x123bc3(0x692)),h[_0x123bc3(0x31f)](_0x5a6427['body']),delete _0x220cea[_0x123bc3(0x262)],delete _0x220cea['variables'],delete _0x220cea[_0x123bc3(0x609)],delete _0x220cea[_0x123bc3(0x5c9)];let _0x134eb7=await this[_0x123bc3(0x253)]({'request':_0x5a6427,'schema':N,'ClassRef':b,'execute':_0x331478=>R[_0x123bc3(0x6a7)](_0x331478,_0x220cea)});_0x34e1ff['status'](0xc8)[_0x123bc3(0x6c4)](_0x134eb7);})[_0x1e4d08(0x719)](this[_0x1e4d08(0x501)](_0x1e4d08(0x5d4)),..._0x30cf0b,async(_0x2e66fa,_0x2f81ef)=>{const _0x4f53eb=_0x1e4d08;let _0x493e93=_0x2e66fa[_0x4f53eb(0x417)];h['verbose']('request\x20received\x20in\x20editFlow'),h['verbose'](_0x4f53eb(0x692)),h[_0x4f53eb(0x31f)](_0x2e66fa[_0x4f53eb(0x417)]);let _0x339dc9=await this[_0x4f53eb(0x253)]({'request':_0x2e66fa,'schema':N,'ClassRef':b,'execute':_0x2bd712=>R[_0x4f53eb(0x493)](_0x2bd712,_0x493e93)});_0x2f81ef[_0x4f53eb(0x65f)](0xc8)[_0x4f53eb(0x6c4)](_0x339dc9);})[_0x1e4d08(0x719)](this['routerPath'](_0x1e4d08(0x7a2)),..._0x30cf0b,async(_0x40843f,_0xd95496)=>{const _0x69c8fb=_0x1e4d08;let _0x459fba=_0x40843f[_0x69c8fb(0x417)];h[_0x69c8fb(0x31f)](_0x69c8fb(0x3cc)),h[_0x69c8fb(0x31f)](_0x69c8fb(0x692)),h[_0x69c8fb(0x31f)](_0x40843f['body']);let _0x137f79=await this[_0x69c8fb(0x253)]({'request':_0x40843f,'schema':N,'ClassRef':b,'execute':_0x18175d=>R[_0x69c8fb(0x1ea)](_0x18175d,_0x459fba)});_0xd95496[_0x69c8fb(0x65f)](0xc8)[_0x69c8fb(0x6c4)](_0x137f79);})[_0x1e4d08(0x719)](this[_0x1e4d08(0x501)](_0x1e4d08(0x548)),..._0x30cf0b,async(_0x6df6a8,_0x5661bb)=>{const _0x40bb94=_0x1e4d08;let _0x337829=_0x6df6a8[_0x40bb94(0x417)];h[_0x40bb94(0x31f)](_0x40bb94(0x3cc)),h[_0x40bb94(0x31f)](_0x40bb94(0x692)),h['verbose'](_0x6df6a8[_0x40bb94(0x417)]);let _0x4a3198=await this[_0x40bb94(0x253)]({'request':_0x6df6a8,'schema':N,'ClassRef':b,'execute':_0x144cca=>R['editFlowVaredit'](_0x144cca,_0x337829)});_0x5661bb['status'](0xc8)['json'](_0x4a3198);})['post'](this['routerPath'](_0x1e4d08(0x3e4)),..._0x30cf0b,async(_0x407767,_0x1df71b)=>{const _0x9e7b6f=_0x1e4d08;let _0x209e84=_0x407767[_0x9e7b6f(0x417)];h[_0x9e7b6f(0x31f)](_0x9e7b6f(0x6df)),h[_0x9e7b6f(0x31f)](_0x9e7b6f(0x692)),h[_0x9e7b6f(0x31f)](_0x407767['body']);let _0x59acf0=await this[_0x9e7b6f(0x253)]({'request':_0x407767,'schema':N,'ClassRef':b,'execute':_0x3c700b=>R[_0x9e7b6f(0x46c)](_0x3c700b,_0x209e84)});_0x1df71b[_0x9e7b6f(0x65f)](0xc8)['json'](_0x59acf0);})['post'](this[_0x1e4d08(0x501)]('editflowcondition'),..._0x30cf0b,async(_0x2bb457,_0x7c104d)=>{const _0x3d5b13=_0x1e4d08;let _0x1c7029=_0x2bb457[_0x3d5b13(0x417)];h['verbose'](_0x3d5b13(0x531)),h[_0x3d5b13(0x31f)](_0x3d5b13(0x692)),h[_0x3d5b13(0x31f)](_0x2bb457[_0x3d5b13(0x417)]);let _0x27da47=await this[_0x3d5b13(0x253)]({'request':_0x2bb457,'schema':N,'ClassRef':b,'execute':_0x14413b=>R[_0x3d5b13(0x314)](_0x14413b,_0x1c7029)});_0x7c104d['status'](0xc8)[_0x3d5b13(0x6c4)](_0x27da47);})[_0x1e4d08(0x719)](this[_0x1e4d08(0x501)](_0x1e4d08(0x3ae)),..._0x30cf0b,async(_0x53132b,_0x5aa20a)=>{const _0x50503d=_0x1e4d08;let _0x25df5b=_0x53132b[_0x50503d(0x417)];h[_0x50503d(0x31f)](_0x50503d(0x21d)),h[_0x50503d(0x31f)](_0x50503d(0x692)),h[_0x50503d(0x31f)](_0x53132b[_0x50503d(0x417)]);let _0x789f74=await this[_0x50503d(0x253)]({'request':_0x53132b,'schema':N,'ClassRef':b,'execute':_0x3ae618=>R[_0x50503d(0x737)](_0x3ae618,_0x25df5b)});_0x5aa20a[_0x50503d(0x65f)](0xc8)['json'](_0x789f74);})['post'](this[_0x1e4d08(0x501)](_0x1e4d08(0x4d0)),..._0x30cf0b,async(_0x41182e,_0xb1d0d8)=>{const _0x13dcd1=_0x1e4d08;let _0x3e25d3=_0x41182e[_0x13dcd1(0x417)];h[_0x13dcd1(0x31f)](_0x13dcd1(0x5cf)),h[_0x13dcd1(0x31f)](_0x13dcd1(0x692)),h[_0x13dcd1(0x31f)](_0x41182e[_0x13dcd1(0x417)]);let _0x2470fd=await this['dataValidate']({'request':_0x41182e,'schema':N,'ClassRef':b,'execute':_0x14961c=>R[_0x13dcd1(0x2f0)](_0x14961c,_0x3e25d3)});_0xb1d0d8[_0x13dcd1(0x65f)](0xc8)[_0x13dcd1(0x6c4)](_0x2470fd);})[_0x1e4d08(0x733)](this['routerPath']('deleteflow'),..._0x30cf0b,async(_0x663b35,_0x2aba43)=>{const _0x4e40dc=_0x1e4d08;let _0x3b12f8=_0x663b35[_0x4e40dc(0x417)];h[_0x4e40dc(0x31f)](_0x4e40dc(0x49f)),h['verbose'](_0x4e40dc(0x692)),h[_0x4e40dc(0x31f)](_0x663b35[_0x4e40dc(0x417)]);let _0x46c79a=await this['dataValidate']({'request':_0x663b35,'schema':N,'ClassRef':b,'execute':_0x47857c=>R['deleteFlow'](_0x47857c,_0x3b12f8)});_0x2aba43[_0x4e40dc(0x65f)](0xc8)[_0x4e40dc(0x6c4)](_0x46c79a);})[_0x1e4d08(0x52b)](this['routerPath'](_0x1e4d08(0x4ba)),..._0x30cf0b,async(_0x607602,_0x45d87f)=>{const _0x8db34=_0x1e4d08;h['verbose']('request\x20received\x20in\x20allFlows');let _0x3c8d96=await this[_0x8db34(0x253)]({'request':_0x607602,'schema':N,'ClassRef':b,'execute':_0x2be7cb=>R[_0x8db34(0x46d)](_0x2be7cb)});_0x45d87f[_0x8db34(0x65f)](0xc8)[_0x8db34(0x6c4)](_0x3c8d96);});}},za=T(require(a0_0x556deb(0x35c))),ee={};function Wa(_0xa885bc,_0x2167bf,_0x34ca8f,_0x23c858){ee[_0xa885bc]||(ee[_0xa885bc]={}),ee[_0xa885bc][_0x2167bf]={'id':_0x2167bf,'response':_0x34ca8f,'events':_0x23c858};}function Ha(_0x422eff,_0x5b028f){!ee[_0x422eff]||!ee[_0x422eff][_0x5b028f]||delete ee[_0x422eff][_0x5b028f];}function F(_0x3a32ae,_0x29ea0e,_0x31c8c6){const _0x152354=a0_0x556deb;if(!ee[_0x3a32ae])return;let _0xcb764d=_0x152354(0x3dd)+JSON['stringify'](_0x31c8c6)+'\x0a\x0a';Object['values'](ee[_0x3a32ae])[_0x152354(0x513)](_0x32cc87=>{const _0x12c80d=_0x152354;_0x32cc87[_0x12c80d(0x266)]['includes'](_0x29ea0e)&&_0x32cc87['response'][_0x12c80d(0x46e)](_0xcb764d);});}function a0_0x4ca5(){const _0x32524a=['REDIS_URI','editChat','/media/','removed','upperCase','announcement','reviver','loadWebhook','header','Button\x20IDs\x20cannot\x20be\x20repeated.','\x1b[30m','):\x20teve\x20mudanças\x20chat.displayName:\x20','name','preview','save','audio/ogg;\x20codecs=opus','editedMessage','\x1b[31m','call','18gocIMx','HOST','modifiedCount','group\x20ignored',',\x20Resultado:\x20','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','model','client','fetchProfile','URL','updateChatWithMessage','send.message','Error\x20writing\x20file:\x20','jsonwebtoken','description','editflow','\x20-\x20ON:\x20','replaceValue','node-mime-types','array','localWebhook','3704360euOOpL','ContactModel','\x1b[36m','updatePrivacySettings','.sendDataWebhook-global','):\x20Limpando\x20AutomateSystem','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','Erro:','NODE_ENV','licenca','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','writeFile','Subscribed\x20Events:','updateConversation','\x1b[43m','webhook','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','revokeInviteCode','env','toString','instanceName','mentions','_id','saveConversationToDatabase','PREFIX_KEY','authModel','deleteMany','errors','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','keep-alive','SECRET','\x1b[33m','Deleted\x20','gifPlayback','/events/:instance','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','dbSettings','varedit','):\x20Editando\x20replyOption...','oldToken','flowConfig','readData','Certbot\x20executado\x20com\x20sucesso.','):\x20newFirstValue\x20após\x20replaceVariables:','child_process','/webhook','):\x20Conversa\x20atualizada\x20em\x20memória','encoding','findParticipants','12170kNJjaL','key.','Sistema\x20atualizado\x20com\x20sucesso!','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','editflowreply','folder','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Internal\x20Server\x20Error','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','\x22\x20-\x20NOT\x20CONNECTION','leadInfo','toDataURL','contentText','saveVariable','archiveChat','/wa-groups','remoteJidsRemaining','):\x20Deletando\x20mensagem','updateCustomFields','variable','dbInstance','Image\x20is\x20url','):\x20Mensagem\x20já\x20enviada\x20para\x20','delaySecMin','lastMessage','AUTHENTICATION','chat','stopConversation','processvaredits','getRandomText','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','\x0aFN:','endSession','Read\x20messages\x20fail','SSL_CONF_FULLCHAIN','The\x20instance\x20needs\x20to\x20be\x20disconnected','emit','reactionMessage','loggedOut','editFlowReply','createJid','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','pollCreationMessageV3','onTime','ex:\x20\x22groupJid=120362@g.us\x22','):\x20Entrou\x20na\x20função\x20saveReply','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','truncatedtoEnd','presence','Processing\x20audio','Erro\x20de\x20reinicialização:\x20','WEBHOOK_EVENTS_CONTACTS_SET','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','createClient','.ogg','instances','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Button\x20texts\x20cannot\x20be\x20repeated','set','/media','object','fetchMessages','STATUS_INSTANCE','GLOBAL','selectableCount','):\x20Enviando\x20mídia','PLAYED','PENDING','Instance\x20restarted','apiResponse','getContentType','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','string','toBRL','Including\x20timestamp\x20in\x20url:\x20','isConnected','updateReadReceiptsPrivacy','NextBlock','substring','debug','WEBHOOK','order','updateProfilePicturePrivacy','replyOption','updateGParticipate','prepareMediaMessage','profilePicture','AUTHENTICATION_JWT_EXPIRIN_IN','out','request\x20received\x20in\x20editFlowvariable','formatBRNumber','processConditionsTest','processblock',',\x20Expiration\x20Time:\x20','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','groupParticipantsUpdate','nomecompleto','getMessageModelForOwner','join','@whiskeysockets/baileys','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','toLocaleString','boolean','Flow\x20already\x20exists','MESSAGES_UPSERT','Erro\x20do\x20Certbot:\x20','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','delay','longitude','Instância:\x20','mentioned','trimmed','setHeader','Module\x20-\x20ON','reaction','cleanStore','locked','stopIfLastReturnedError','HeaderType','now','available','TRIAL_INSTANCE_NAME','split','bearer','dbServer','update','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','flowStopConversation','timerId','Temp\x20image\x20deleted','updateLastSeenPrivacy','DARK','):\x20Enviando\x20áudio','match','leadInfo.desativadoFluxoAte','/instance/fetchInstances','):\x20','updateProfilePicture','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','/create','lastReceivedMessage','apply','.json','dataValidate','fetchInstances','lastInteraction','logger','qrcode.updated','-whatsapp-api','next_groupId','storePath','createConversationforStartFlow','verify','all','arraybuffer','removeInstance','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','envYaml','blocks','statusMessage','GUARD','fileName','events','open','nome','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','fetchChats','request\x20received\x20in\x20updateCustomFields','@s.whatsapp.net','urlOrBase64','cleaningUp','sendStatus','where','Logger','from','parse','URL:','_doc','https://','Erro\x20inesperado\x20em\x20processvaredits:\x20','\x20minutos...','sort','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','groupToggleEphemeral','addresss','\x1b[40m','jsonschema','ON\x20-\x20dbName:\x20','_Contacts','):\x20Buscando\x20flow...','\x1b[36m%s\x1b[0m','isDirectory','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','contacts','scheduleSendText','jpegThumbnail','auth','):\x20transformedCustomFieldVariables','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','Hash\x20to\x20audio\x20name:\x20','Authentication\x20error','pt-BR',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','/instance','MESSAGES_SET','fetchProfile2','sendDataWebhook','URI','Getting\x20profile\x20info','.webp','stringify','agents','filter','documentMessage','):\x20this.processingScheduleMessageId:\x20','capitalizedWords','CONNECTION','messaging-history.set','_activatedCount','bulkWrite','info','contactname','instance.','node-cache','Error\x20fetching\x20group','AutomateFunctions','getContactModelForOwner','data','stopped','remote\x20\x22origin\x22','Telefone:\x20','notMatchRegex','matchRegex','deleteInstance','flowIgnoreGroups','composing','):\x20teve\x20mudanças\x20chat.archived:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','BufferJSON','request\x20received\x20in\x20fetchConversation','):\x20conversation.lastInteraction:\x20','code','getConversation','fromMe','messages','imageMessage','Unable\x20to\x20leave\x20the\x20group','buttons','uazapiSendAudio','method','isArray','scheduleSendAudio','cpf','g.us','pollOnReplyDelete','Content-Type','put','Instance\x20\x22','toArray','jid','closeExistingConversations','CONNECTION_UPDATE','creds.json','notas','CONTACTS_UPDATE','webhookMap','#000000','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','isJidUser','replaceOne','\x1b[37m','abs','load','WEBHOOK_GLOBAL_URL','chats','Número:\x20','WEBHOOK_MAP','fromObject','updateProfileName','webhookService','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','online','scheduled','replacer','error','test','STORE_CHATS',',\x20Comparador:\x20','editOperator','.TEL;waid=','lastBlockId','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','CLIENT','instanceKeys','findConversation','\x1b[31m%s\x1b[0m','CORS_METHODS','archived','connectToWhatsapp','statusCode','getFlow','updateStatusPrivacy','mongodb','Instance\x20Key\x20from\x20DB:','group','@g.us','messages.upsert','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','inviteCode','API\x20Key\x20from\x20Request:','none','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','toLowerCase','pushName','85770NGeGVi','_Messages','buttonId','):\x20debug\x20alterando\x20this.AutomateSystem','done','Type\x20not\x20found','groupInviteCode','DisconnectReason','messageId','fetchProfilePicture','shift','@broadcast','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','\x20-i\x20','USER','wuid','getMIMEType','mediaSticker','getDevice','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','--agree-tos','sendButtons','editFlowCondition','API_KEY','demote','\x20minutos\x20verificará\x20novas\x20mensagens','findAndReplace','charAt','evaluateConditionTest','configService','vote','Error\x20updating\x20message\x20status:','ids','verbose','firstValue','valid','decryptPollVote','createFlow','pollMessageOnDelete','Validate','unlocked','uncaughtException','Bad\x20Request','writeStore','Erro\x20de\x20atualização:\x20','WEBHOOK_EVENTS_NEW_JWT_TOKEN','originalUrl','media','variables','WEBHOOK_EVENTS_CONTACTS_UPSERT','/group','waitingPoll_replyOptions','updatePresence','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','option','flowPrefixCommand','):\x20Buscando\x20conversas...','Error\x20updating\x20profile\x20picture','statusJidList','created','number','restartInstance','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','stderr','PASSWORD','find','log','groupId','lastSend','Erro\x20ao\x20editar\x20o\x20bloco:\x20','axios','insert','lastSendMessage','stickerMessage','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Instância\x20não\x20encontrada.','Missing\x20global\x20api\x20key','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','sections','createConnection','env.KEY\x20!==\x20key','conversationTimestamp','Flow\x20não\x20encontrado','proto','unavailable','promote','formatStatusMessage','sendMessageWithTyping','fetchConversation','BRL','integer','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','path','JWT','\x20não\x20encontrado','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','stateConnection','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','CLEANING_INTERVAL','getMessage','isInteger','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','https://uazapi-plugin.bubbleapps.io/?url=','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','https','title','RECONNECT_TIME_FRAME','ignoreGroups','\x1b[30m%s\x1b[0m','updateGParticipant','segundos','presenceSubscribe','Instance\x20logged\x20out','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','findFlow','stack','deleteAll','SERVER_ACK','status.instance','spawn','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','createServer','):\x20Comando\x20desconhecido:\x20','ip:\x20','Sending\x20audio\x20whatsapp','initAuthCreds','\x1b[0m','The\x20property\x20cannot\x20be\x20empty','):\x20Entrou\x20na\x20função\x20stop','AUTHENTICATION_JWT_SECRET','CORS','reconnectTimestamps','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','Mensagem\x20não\x20suportada','AutomateSystem\x20não\x20foi\x20inicializado','checkAndRestartProcess','generateHash','jwt','Erro\x20ao\x20atualizar\x20conversa:\x20','):\x20Ignoring\x20group\x20messages.','SERVER_TYPE','padStart','splice','DELETED','generate','LOG_COLOR','Fluxos\x20não\x20estão\x20ativados','LEVEL','creds','detail','output','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','Invalid\x20\x22oldToken\x22','CHATS_UPDATE','address','router','):\x20Flow\x20não\x20encontrado','connectionStatus','params','):\x20Editando\x20edição\x20do\x20fluxo...','readMessages','groupRevokeInvite','pollCreationMessage','):\x20nextBlock.uazapi.name','Message','Original\x20filename:','MESSAGES_UPDATE','findChats','https://chat.whatsapp.com/','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Close\x20connection','):\x20newSecondValue\x20após\x20replaceVariables:','Error\x20removing\x20profile\x20picture','\x20\x1b[0m','editflowvariable','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','):\x20Error\x20processing\x20conditions:\x20','\x20horas\x20e\x20','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','normalizeMessage','toggleEphemeral','Error\x20while\x20deleting\x20message\x20for\x20everyone','expiration','lastCondition','/automate','groupName','groupValidate','AUTHENTICATION_API_KEY','FlowRouter','pop','and','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','\x20minutos','\x0a*Você\x20respondeu*:\x0a','audio','flowStopMinutes','redisCache','/wa-contacts','DEBUG','deleteFlow','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','authState','request\x20received\x20in\x20editFlow','editConversation','.mp3','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20teve\x20mudanças\x20chat.name:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','errorLog','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','Erro\x20ao\x20buscar\x20conversas:\x20','leaveGroup','logout','getBase64FromMediaMessage','creation','connect','/instance/create','assign','):\x20Erro\x20ao\x20buscar\x20conversas\x20','data:\x20','PORT','repository','Group\x20not\x20found','\x20contacts','indexOf','.jwt','editflowgroup','PRODUCTION','locationMessage','Bloco\x20com\x20ID\x20','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','saveChatVariables','utf-8','findGroup','deleteBlock','changeVariables','context','findOne','floor','last_update','exit','Image\x20is\x20base64','request\x20received\x20in\x20deleteConversation','updateMessage','replace','getPrototypeOf','ReplyOption\x20com\x20ID\x20','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','TEL','):\x20Editando\x20condição\x20do\x20fluxo...','store','Types','\x1b[1m','findGroups','isJidGroup','mongoose','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','MAX_RECONNECT_ATTEMPTS','replaceVariablesInReplyOptions','processgoToFlow','sharp','deleteConversation','waitingPoll_name','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','existsSync','StartBot','groupAcceptInvite','sendReaction','readFileSync','createInstance','\x0a{\x20instance:\x20','replaceVariablesInObject','sendContact','INFO','whatsappNumbers','app-state-sync-key','body','updateGroupPicture','trim','startsWith','CONTACTS_SET','saveMediaToFile','contact_blacklist','DATABASE_CONNECTION_DB_PREFIX_NAME','dayjs','app','Contacts\x20not\x20found','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Last\x20message\x20not\x20found','updateStopChat','markMessageAsRead','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Erro\x20ao\x20iniciar\x20fluxo:\x20','stdout','send','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20Enviando\x20texto','contactHandle','Error\x20updating\x20profile\x20name','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','hostname','}}\x20->\x20\x22','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','namespace','deleteMessageForEveryone','convertedOptions','\x20segundos','announce','stopMinutes','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','pollErrorMessage','use','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','contacts.upsert','truncatedto','findWebhook','count','@ffmpeg-installer/ffmpeg','true','authService','subjectTime','ObjectId','repeat','hbs','buttonsMessage','request\x20received\x20in\x20getAutomateSystem','removeProfilePicture','Cache-Control','restrict','phoneNumber','flowActive','oldValue','ERROR','\x1b[47m','temp-','desativadoFluxoAte','EXPIRIN_IN','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','STORE_CLEANING_TERMINAL','\x1b[37m%s\x1b[0m','editFlowVaredit','numbers','groupCreate','updateFlowConfig','request\x20received\x20in\x20getConversation','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','DOCKER_ENV','delaySecMax','no-cache','sendMessage','closed','writeData','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','participant','replaceVariables','document','\x20inseridas\x20no\x20banco\x20de\x20dados...','cwd','render','Image\x20created','Initial\x20__dirname:','editFlowGroup','allFlows','write','restart','last','):\x20Erro\x20ao\x20criar\x20fluxo\x20','not_announcement','rows','getTime','replaceVariablesLogs','loadInstance','Temp\x20audio\x20deleted','3548512QmtQnj','CHATS_UPSERT','viewOnceMessageV2','):\x20Current\x20Time:\x20','fetchContacts','):\x20Conversa\x20inserida\x20com\x20sucesso.','metadata','goNextblock','\x22\x20not\x20found','redirect','pino','reference','refreshToken','stopMinutesMaxActives','Type\x20is\x20required','displayName','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.',',\x20Minutes\x20to\x20Close:\x20','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Router','getClient','\x20foi\x20interrompido\x20pelo\x20usuário.','goToFlow','recording','\x1b[32m','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','editFlowBlock','groupSetting','The\x20','validate','eventHandler','\x20-y','):\x20isVote','del','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','toBrazilianNumberFormat','WARN','textMessage','request\x20received\x20in\x20createFlow','HH:mm:ss','setRestartTimer','contactsArrayMessage','Read\x20messages','readreceipts','REDIS_ENABLED','prototype','groupJid','unlinkSync','remoteJid','privacySettings','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','startFlow','fullName','-instances','organization','setting','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','!stop','qrCode','drop','LOG','empty','instance','blockId','headers','allflows','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','?timestamp=','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','userDevicesCache','base64',',\x20Segundo\x20Valor:\x20','remove','lean','\x1b[33m\x1b[1m','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','addReplyOption','_error','apirequest','js-yaml','flattenObject','updateBlock','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','setWebhook','\x20inseridos\x20no\x20banco\x20de\x20dados...','user','dropCollection','getflow','insertMany','CONTACTS_UPSERT','delInstanceTime','):\x20alterando\x20this.AutomateSystem','loadEnv','updateReplyOption','DB_PREFIX_NAME','buttonMessage','varedits','GROUP_PARTICIPANTS_UPDATE','express-async-errors','bodyString','):\x20updateResult:','\x1b[34m','addBlock','OrAnd','Atualização:\x20','function','express','@redis/client','connectionState','uazapiSendPoll','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','content','pollMessage','Hash\x20to\x20image\x20name:\x20','Error\x20change\x20group\x20name','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','generateWAMessageFromContent','applyvaredit','getScheduleMessage','\x20não\x20encontrado\x20para\x20cópia','contact','exec','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','hex','Data\x20inválida\x20fornecida','File\x20written\x20to\x20path:\x20','block','fone','SERVER','no.connection','uazapiSendContact','parseInt','):\x20Editando\x20variável\x20do\x20fluxo...','minutesToClose','DATABASE_CONNECTION_HOST','evaluateCondition','routerPath','editScheduleMessage','website','reconnectAttempts',',\x20lastCondition:\x20','request\x20received\x20in\x20editConversation','\x20chats\x20de\x20','groupUpdateSubject','warn','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','processUazapi','latitude','chatModify','image','paused','upsertChats','senderKeyDistributionMessage','flowName','forEach','):\x20Edit\x20schedule\x20message...','Instance\x20deleted','findByIdAndUpdate','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','getMinutes','sendPresenceUpdate','refused','statSync','listMessage','WEBHOOK_EVENTS_CONNECTION_UPDATE','uuid','updateOne','variablesToObject','DATABASE_CONNECTION_USER','\x20minutos.\x20Será\x20às\x20','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20Entrou\x20na\x20função\x20goToFlow','ephemeralMessage','):\x20Erro\x20durante\x20a\x20atualização:\x20','3938772UhQcTN','STORE','/wa-connection-update','#ffffff','get','src','footerText','<subdomain>','/events','max','request\x20received\x20in\x20editFlowcondition','font','random','poll','):\x20expirationTime:\x20','height','command','uazapiSendLocation','55HnCgrX','WEBHOOK_EVENTS_MESSAGES_UPSERT','match_last_seen','badSession','Instance\x20ID:','activatedCount','chats.delete','notEqual','mediaKey','flowname:\x20','not\x20loaded','/refreshToken','WEBHOOK_EVENTS_QRCODE_UPDATED','https://jsonip.com','profile','editflowvaredit','tokenId','email','../env.yml','delAll','messageTimestamp','Erro\x20ao\x20encerrar\x20a\x20API','chatHandle','delayMessage','whatsappNumber','Conexão\x20estabelecida','sign','):\x20Erro\x20ao\x20editar\x20agentes:\x20','Db\x20Connection','Fetching\x20business\x20profile','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','NO_IP','linkPreview','findById','chats.update','flow','connectionUpdate','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','getLastMessage','keys','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','):\x20customFieldVariables','execSync','status@broadcast','204KfiGui','throwAndLogError','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','getStatus','updateAgent','WEBHOOK_EVENTS_SEND_MESSAGE','isBase64','pollCreationMessageKey','replyOptions','):\x20Enviando\x20contato','findAndReplaceRegex','findIndex','instanceInfo','/wa-message-update','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','qrcode-terminal','):\x20Criando\x20nova\x20conversa','Output\x20audio\x20path:\x20','AppStateSyncKeyData','view\x20engine','mediaMessage','public','getTicketSystem','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','WEBHOOK_EVENTS_GROUPS_UPSERT','):\x20Bloco\x20copiado:\x20','newName','Media\x20folder\x20path:','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','getOwnPropertyNames','readMessage','stanzaId','):\x20lastBlockId:\x20','REDIS','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','request\x20received\x20in\x20deleteDoneMessages','pre','unreadcount','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','Certbot:\x20','No\x20participants','has','including\x20timestamp\x20in\x20url:\x20','\x5c$&','group-participants.update','noConnection','groups.update','default','audio/mp4','):\x20atualização\x20chat:\x20','exists','^\x5cd+([-]\x5cd+)*@g.us$','qrcode','ERROR:\x20','CONFIG_SESSION_PHONE_CLIENT','scheduleMessage','\x20saindo\x20da\x20função','downloadMediaMessage','Primeiro\x20Valor:\x20','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','delInstanceFiles','updateProfileStatus','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','fetchPrivacySettings','sendList','moreLogs','video-cover.png','documentWithCaptionMessage','participants','Converted\x20audio\x20deleted','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','dark','chatLog','sha256','CHATS_SET','deleteMessage','SSL_CONF_PRIVKEY','toFile','copy','Audio\x20is\x20base64','buffer','webp','shutdown\x20-r\x20now','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','getVariablesChat','web','8080','GROUPS_UPSERT','optionDescription','imagechat','SEND_MESSAGE','createConversationforgoToFlow','sendText','subject','protocolMessage','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','item','allContacts','conditions','Connection\x20closed\x20for\x20instance:\x20','.X-ABLabel:Celular\x0a','blockLogs','backgroundColor','The\x20global\x20api\x20key\x20must\x20be\x20set','request\x20received\x20in\x20getFlow','getOwnPropertyDescriptor','EMAIL','hGetAll','subjectOwner','editflowblock','downloads','Conversa\x20deletada\x20com\x20sucesso.','resetReconnectionVariables','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','Falta\x20informação\x20para\x20a\x20chamada\x20API','DATABASE_CONNECTION_PASSWORD','Parando\x20aplicação,\x20atualização\x20recebida','apiName','NEW_JWT_TOKEN','Audio\x20processed','caption','redis','state','GROUPS_UPDATE','create','findGroupInfo','Temp\x20audio\x20created','waUploadToServer',',\x20qrcodeCount:\x20','rmSync','rm\x20-rf\x20','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','\x1b[32m%s\x1b[0m','Fluxo\x20não\x20encontrado','Comando\x20desconhecido','Error\x20update\x20group\x20picture','createWebhook','):\x20Procurando\x20conversa','Business\x20profile\x20fetched','updateMediaMessage','audio/ogg','pollUpdateMessage','isLong','Error\x20fetching\x20and\x20updating\x20profile:\x20','groups_ignore','CORS_CREDENTIALS','\x20não\x20encontrado\x20para\x20atualização.','SERVER_PORT','QRCODE_UPDATED','maxActives','archive','Temp\x20audio\x20path:\x20','uazapiDeleteMessage','presence.update','setContext','Variáveis\x20não\x20encontradas:','convertToWebP','collections','Error\x20creating\x20group','desc','Full\x20file\x20path:','map','groups','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','audioMessage','defineAuthState','):\x20tem\x20blocks','videoMessage','waMonitor','sendMedia','}}\x20->\x20valor\x20não\x20encontrado','start','sticker','END:VCARD','):\x20Buscando\x20todos\x20os\x20fluxos...','\x22\x20-\x20REMOVED','sendCommand','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','includes','response','StatusJidList\x20is\x20required','groupUpdateDescription','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','TYPE','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','profilePictureUrl','DATABASE','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','\x5cd+','findOneAndUpdate','\x1b[44m','responsavelid','entries','\x0aitem','uazapi','mongodb://','groupMetadata','makeCacheableSignalKeyStore','fetchStatus','format','picture','SSL_CONF','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','https://github.com/uazapi/uazapi.git','variablesNotFound','type','sendLocation','deleteReplyOption','authorization','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','$dbName','expression','DEL_INSTANCE','when','buttonText','sendPoll','sendAudio','AutomateSystem','Image\x20converted\x20to\x20WebP','https://uazapi-plugin.bubbleapps.io/','TEXT','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','webhookModel','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','Valor\x20inicial:\x20\x22','prepareWAMessageMedia','mediatype','message','create\x20-\x20success','Invalid\x20format','5175730yPWWgf','utf8','WA\x20MODULE','pollCreationMessageV2','add',',\x20valor\x20passado:\x20\x22','newStoppedUntil','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','binary','Not\x20Found','KEY','console','Converting\x20audio\x20to\x20mp4','):\x20leadInfoVariables','.\x20Pulando.','value','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','status','envProcess','READ','ENABLED','URL\x20limpa:\x20','No\x20join\x20group\x20invite\x20code\x20or\x20url','rowId','messages.update','unhandledRejection','url','):\x20Fluxos\x20não\x20estão\x20ativados','):\x20Going\x20to\x20','chrome','tags','Archiving\x20chat','key','end','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','processApiRequest','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','updateMany','CHATS_DELETE','class-validator','currency','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','deletedCount','query','Image\x20path:\x20','saveTextReply','eventemitter2','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','getChatModelForOwner','arrayUnique','./.git/config','groupDesc','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','CONFIG_SESSION_PHONE_NAME','hasOwnProperty','processPollUpdateMessage','lastmsg','PRIVKEY','680901Ysusye','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','views','chats.set','contactMessage','*\x0a\x0a','connection.update','mkdirSync','WEBHOOK_EVENTS_PRESENCE_UPDATE','apikey','request\x20body:\x20','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','):\x20Alterando\x20fluxo...','http','size','EVENTS','owner','instanceName\x20not\x20provided.','redisEnv','subdomain','request\x20received\x20in\x20starFlow','joinGroup','waInstances','.png','connecting','fetchLatestBaileysVersion','Content\x20is\x20required','notContains','collection','customFields','WEBHOOK_EVENTS_MESSAGES_SET','editFlow','contacts.update','\x20mensagens\x20de\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Campos\x20a\x20serem\x20atualizados:','optionName','request\x20received\x20in\x20scheduleMessage','sendSticker','hDel','.uazapi.dev','LICENSE_INVALID','Audio\x20converted\x20to\x20mp4','action','/wa-message','Error\x20change\x20group\x20setting','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','interval\x20não\x20é\x20um\x20número','):\x20Visualizando\x20AutomateSystem','inner','/exit','COLOR','waMonit','options','groupadd','toUpperCase','reorderBlocks','createGroup','updateGroupsAddPrivacy','role','json','?authSource=admin&readPreference=primary&directConnection=true','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','scheduleNextCheck','mimetype','new.jwt','):\x20Conversas\x20encontradas:','conversation','text/event-stream','getAutomateSystem','VERBOSE','/wa-chats','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','enabled','bateu\x20events','copyBlock','success','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','PRESENCE_UPDATE','slice','fileLength','messageHandle','SendScheduleMessage','viewOnceMessage','WEBHOOK_GLOBAL_ENABLED','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','equal','request\x20received\x20in\x20editFlowgroup','video','Schema','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','):\x20não\x20encontrou','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','\x1b[33m%s\x1b[0m','prefixCommand','Method\x20not\x20implemented.','connectionClosed','audioWhatsapp','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Getting\x20audio\x20from\x20url','LIMIT','messagesSend','remove.instance','limit','isBusiness','compression','\x20is\x20already\x20in\x20use.','secondValue','getAllData','The\x20\x22','convertaudio','release','newValue','deleteDoneMessages','local_map','deleteOne','STORE_CONTACTS','processingScheduleMessageId','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','selectedOptions','dbClient','groupHandler','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','.mp4','createNewConversation','findGroupInfos','realVariables','opendirSync','Error\x20updating\x20profile\x20status','fetchBusinessProfile','ORG:','replaceVariablesChat','formatVCard','isURL','):\x20Editando\x20grupo\x20do\x20fluxo...','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','uazapiSendMedia','flowConversation','g-t',',\x20saindo.','greater','joinGroupValidate','163miSxrA','\x1b[42m','eventEmitter','post','Enter\x20a\x20value\x20in\x20milliseconds','isRunning','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','http://checkip.dyndns.org','Unknown\x20message\x20type\x20or\x20empty\x20message','Message\x20not\x20found','contextInfo','isJWT','waitingPoll_id','padEnd','getDelay','sleep','syscall','groups.upsert','Nenhum\x20chat\x20encontrado\x20para\x20editar.','vcard','length','writeFileSync','text','useMultiFileAuthState','onWhatsApp','processConditions','some','):\x20Bloco\x20com\x20ID\x20','instancias:\x20','delete','sem\x20texto\x20na\x20mensagem','Deletion\x20failed','readdirSync','editFlowVariable','close','Background\x20color\x20is\x20required','push','WEBHOOK_EVENTS_CHATS_UPDATE','getProfileName','verifiedName','removeData','condition','endsWith','atendimentoAberto','values','certonly'];a0_0x4ca5=function(){return _0x32524a;};return a0_0x4ca5();}function Ka(){const _0x286edf=a0_0x556deb;let _0x114a2b={};for(let _0x357f56 in ee)_0x114a2b[_0x357f56]=Object[_0x286edf(0x742)](ee[_0x357f56])['map'](_0x3400ed=>({'id':_0x3400ed['id'],'events':_0x3400ed['events']}));return _0x114a2b;}var Qa=require(a0_0x556deb(0x51e)),Wo=za[a0_0x556deb(0x595)]['join'](__dirname,a0_0x556deb(0x5d5)),Nt=(0x0,vt[a0_0x556deb(0x48b)])(),Ho=S[a0_0x556deb(0x52b)](a0_0x556deb(0x1dc))[a0_0x556deb(0x61e)],ue=[rs,Zs,sa[Ho]];Nt[a0_0x556deb(0x43a)](a0_0x556deb(0x1fe),vt['default']['static'](Wo))[a0_0x556deb(0x52b)](a0_0x556deb(0x78e),async(_0x291a4f,_0x318c4b)=>{const _0x2a45b4=a0_0x556deb;console[_0x2a45b4(0x340)](_0x2a45b4(0x6d2));let _0x4c7c28=_0x291a4f['params'][_0x2a45b4(0x4b7)],_0x368319=(_0x291a4f['query']['events']||'')[_0x2a45b4(0x23e)](','),_0x591e33=(0x0,Qa['v4'])();console[_0x2a45b4(0x340)](_0x2a45b4(0x53d),_0x4c7c28),console[_0x2a45b4(0x340)](_0x2a45b4(0x778),_0x368319);let _0x228d3c=S[_0x2a45b4(0x52b)](_0x2a45b4(0x1dc))['API_KEY'],_0x3c610b=_0x291a4f[_0x2a45b4(0x679)][_0x2a45b4(0x691)];if(console[_0x2a45b4(0x340)](_0x2a45b4(0x2f9),_0x3c610b),_0x228d3c[_0x2a45b4(0x658)]!==_0x3c610b){console[_0x2a45b4(0x340)](_0x2a45b4(0x350));try{let _0x1f56a3=await le[_0x2a45b4(0x288)][_0x2a45b4(0x33f)](_0x4c7c28);if(console[_0x2a45b4(0x340)](_0x2a45b4(0x2f3),_0x1f56a3),!_0x1f56a3||_0x1f56a3[_0x2a45b4(0x691)]!==_0x3c610b)return console[_0x2a45b4(0x340)](_0x2a45b4(0x60a)),_0x318c4b[_0x2a45b4(0x65f)](0x191)[_0x2a45b4(0x429)]('API\x20Key\x20inválida.');}catch(_0x1037bd){return console[_0x2a45b4(0x2e0)](_0x2a45b4(0x562),_0x1037bd),_0x318c4b[_0x2a45b4(0x65f)](0x191)[_0x2a45b4(0x429)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await qe(_0x4c7c28))return _0x318c4b['status'](0x194)[_0x2a45b4(0x429)](_0x2a45b4(0x34a));_0x318c4b['setHeader'](_0x2a45b4(0x2c3),_0x2a45b4(0x6cc)),_0x318c4b[_0x2a45b4(0x234)](_0x2a45b4(0x44a),_0x2a45b4(0x45f)),_0x318c4b[_0x2a45b4(0x234)]('Connection',_0x2a45b4(0x789)),_0x318c4b['flushHeaders']();let _0xd46390=_0x2a45b4(0x3dd)+JSON[_0x2a45b4(0x296)]({'info':_0x2a45b4(0x552)})+'\x0a\x0a';_0x318c4b[_0x2a45b4(0x46e)](_0xd46390),Wa(_0x4c7c28,_0x591e33,_0x318c4b,_0x368319),_0x291a4f['on'](_0x2a45b4(0x738),()=>{const _0x3553eb=_0x2a45b4;console[_0x3553eb(0x340)](_0x3553eb(0x5ca)+_0x4c7c28),Ha(_0x4c7c28,_0x591e33);});}),Nt['get']('/clients-info',(_0x44bccd,_0x2a5c10)=>{let _0x283308=Ka();_0x2a5c10['json'](_0x283308);})['get']('/',(_0x426a8d,_0x284344)=>{const _0x3dcf87=a0_0x556deb;let _0x505e37=S[_0x3dcf87(0x52b)]('SSL_CONF'),_0x16887c=_0x505e37&&_0x505e37['FULLCHAIN'][_0x3dcf87(0x23e)]('/')[0x4];if(_0x16887c){let _0x1008c4=encodeURIComponent(_0x3dcf87(0x276)+_0x16887c);_0x284344[_0x3dcf87(0x481)](_0x3dcf87(0x366)+_0x1008c4);}else _0x284344[_0x3dcf87(0x481)](_0x3dcf87(0x642));})['put']('/exit',...ue,async(_0x15e585,_0x474de2)=>{const _0x4f5b6a=a0_0x556deb;try{console['log']('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x474de2[_0x4f5b6a(0x65f)](0xc8)['json']({'message':_0x4f5b6a(0x3a9)}),_0x474de2['on']('finish',()=>process[_0x4f5b6a(0x3f2)](0x0));}catch(_0xfd2c56){console[_0x4f5b6a(0x2e0)](_0x4f5b6a(0x523),_0xfd2c56),_0x474de2[_0x4f5b6a(0x65f)](0x1f4)[_0x4f5b6a(0x6c4)]({'message':_0x4f5b6a(0x54e)});}})['use'](a0_0x556deb(0x28f),new nt(S,...ue)['router'],new yt(rs)[a0_0x556deb(0x39b)])[a0_0x556deb(0x43a)]('/message',new wt(...ue)['router'])[a0_0x556deb(0x43a)]('/chat',new ze(...ue)[a0_0x556deb(0x39b)])[a0_0x556deb(0x43a)](a0_0x556deb(0x330),new ot(...ue)['router'])[a0_0x556deb(0x43a)](a0_0x556deb(0x79a),new St(...ue)[a0_0x556deb(0x39b)])[a0_0x556deb(0x43a)](a0_0x556deb(0x3b9),new Et(...ue)['router']);var g=class{constructor(..._0x149912){const _0x57cb97=a0_0x556deb;throw{'status':0x190,'error':_0x57cb97(0x328),'message':_0x149912['length']>0x0?_0x149912:void 0x0};}},ie=class{constructor(..._0x53228f){const _0x565055=a0_0x556deb;throw{'status':0x191,'error':'Unauthorized','message':_0x53228f[_0x565055(0x72a)]>0x0?_0x53228f:void 0x0};}},oe=class{constructor(..._0xec9672){const _0x5d38c6=a0_0x556deb;throw{'status':0x193,'error':'Forbidden','message':_0xec9672[_0x5d38c6(0x72a)]>0x0?_0xec9672:void 0x0};}},x=class{constructor(..._0xee8049){const _0x52ab9d=a0_0x556deb;throw{'status':0x194,'error':_0x52ab9d(0x657),'message':_0xee8049[_0x52ab9d(0x72a)]>0x0?_0xee8049:void 0x0};}},A=class{constructor(..._0x2a70f9){const _0x21fcfb=a0_0x556deb;throw{'status':0x1f4,'error':_0x21fcfb(0x7a5),'message':_0x2a70f9[_0x21fcfb(0x72a)]>0x0?_0x2a70f9:void 0x0};}},de=require(a0_0x556deb(0x227));async function ds(_0x1a4ee3){const _0x36d4fa=a0_0x556deb;let _0x555a24=new C(ds['name']),_0x4e6fdf=M[_0x36d4fa(0x48c)](),_0x466c13=_0x4e6fdf['db'](S[_0x36d4fa(0x52b)](_0x36d4fa(0x621))['CONNECTION'][_0x36d4fa(0x4d7)]+'-instances')['collection'](_0x1a4ee3),_0x201f36=async(_0xbd24ab,_0x12efe2)=>{const _0x268d7c=_0x36d4fa;try{return await _0x4e6fdf[_0x268d7c(0x3d9)](),await _0x466c13[_0x268d7c(0x2d1)]({'_id':_0x12efe2},JSON[_0x268d7c(0x273)](JSON['stringify'](_0xbd24ab,de[_0x268d7c(0x2b2)][_0x268d7c(0x2df)])),{'upsert':!0x0});}catch{}},_0x2a2ab1=async _0x47a237=>{const _0x15e852=_0x36d4fa;try{await _0x4e6fdf[_0x15e852(0x3d9)]();let _0x2a5bf4=await _0x466c13['findOne']({'_id':_0x47a237}),_0x3bdfb4=JSON[_0x15e852(0x296)](_0x2a5bf4);return JSON[_0x15e852(0x273)](_0x3bdfb4,de[_0x15e852(0x2b2)][_0x15e852(0x74a)]);}catch{}},_0x4e682a=async _0x193f02=>{const _0x298be6=_0x36d4fa;try{return await _0x4e6fdf[_0x298be6(0x3d9)](),await _0x466c13['deleteOne']({'_id':_0x193f02});}catch{}},_0x2c4109=await _0x2a2ab1('creds')||(0x0,de[_0x36d4fa(0x37d)])();return{'state':{'creds':_0x2c4109,'keys':{'get':async(_0x1cc1c2,_0x2eb6eb)=>{let _0x5144ae={};return await Promise['all'](_0x2eb6eb['map'](async _0x1f2d27=>{const _0x5306fc=a0_0x2d74;let _0x124d76=await _0x2a2ab1(_0x1cc1c2+'-'+_0x1f2d27);_0x1cc1c2===_0x5306fc(0x416)&&_0x124d76&&(_0x124d76=de['proto'][_0x5306fc(0x3a4)][_0x5306fc(0x578)]['fromObject'](_0x124d76)),_0x5144ae[_0x1f2d27]=_0x124d76;})),_0x5144ae;},'set':async _0xf3d8d8=>{const _0xbb3d9b=_0x36d4fa;let _0x564ff6=[];for(let _0x252dc4 in _0xf3d8d8)for(let _0x2f86f5 in _0xf3d8d8[_0x252dc4]){let _0x2a364c=_0xf3d8d8[_0x252dc4][_0x2f86f5],_0x5069e3=_0x252dc4+'-'+_0x2f86f5;_0x564ff6[_0xbb3d9b(0x73a)](_0x2a364c?_0x201f36(_0x2a364c,_0x5069e3):_0x4e682a(_0x5069e3));}await Promise['all'](_0x564ff6);}}},'saveCreds':async()=>_0x201f36(_0x2c4109,_0x36d4fa(0x394))};}var gs=T(require('long')),ms=T(require(a0_0x556deb(0x2a3))),Rt=require('@whiskeysockets/baileys'),Ya=require(a0_0x556deb(0x4e4)),Tt=require(a0_0x556deb(0x227)),Ct;function Ko(_0x2ef201){const _0x167997=a0_0x556deb;return Ct||(Ct=(0x0,Ya[_0x167997(0x1f8)])({'url':_0x2ef201[_0x167997(0x293)]}),Ct[_0x167997(0x3d9)]()),Ct;}var ne=class c{constructor(_0x15f2de,_0x45902a){const _0x37ad62=a0_0x556deb;this[_0x37ad62(0x69a)]=_0x15f2de,this['instanceName']=_0x45902a,this['logger']=new C(c['name']),this[_0x37ad62(0x75e)]=Ko(_0x15f2de);}set[a0_0x556deb(0x483)](_0x4ef4fa){const _0x5af993=a0_0x556deb;this[_0x5af993(0x780)]=_0x4ef4fa;}async[a0_0x556deb(0x2e9)](){const _0x36dbb8=a0_0x556deb;try{return await this[_0x36dbb8(0x75e)][_0x36dbb8(0x617)]([_0x36dbb8(0x561),this[_0x36dbb8(0x69a)][_0x36dbb8(0x784)]+':*']);}catch(_0x176875){this['logger'][_0x36dbb8(0x2e0)](_0x176875);}}async[a0_0x556deb(0x462)](_0x458661,_0x4aad5f){const _0x33d6c9=a0_0x556deb;try{let _0x41d27f=JSON[_0x33d6c9(0x296)](_0x4aad5f,Tt[_0x33d6c9(0x2b2)][_0x33d6c9(0x2df)]);return await this[_0x33d6c9(0x75e)]['hSet'](this[_0x33d6c9(0x69a)]['PREFIX_KEY']+':'+this[_0x33d6c9(0x780)],_0x458661,_0x41d27f);}catch(_0x589d6b){this[_0x33d6c9(0x256)][_0x33d6c9(0x2e0)](_0x589d6b);}}async[a0_0x556deb(0x6f4)](){const _0x2e9a53=a0_0x556deb;try{let _0x3a7150=await this[_0x2e9a53(0x75e)][_0x2e9a53(0x5d2)](this[_0x2e9a53(0x69a)][_0x2e9a53(0x784)]+':'+this[_0x2e9a53(0x780)]);if(_0x3a7150){for(let _0x2f2cff in _0x3a7150)Object[_0x2e9a53(0x4a6)]['hasOwnProperty']['call'](_0x3a7150,_0x2f2cff)&&(_0x3a7150[_0x2f2cff]=JSON[_0x2e9a53(0x273)](_0x3a7150[_0x2f2cff],Tt[_0x2e9a53(0x2b2)][_0x2e9a53(0x74a)]));return _0x3a7150;}}catch(_0x2ef3ea){this[_0x2e9a53(0x256)]['error'](_0x2ef3ea);}}async['readData'](_0x5cce4b){const _0x455126=a0_0x556deb;try{let _0x59e73a=await this[_0x455126(0x75e)]['hGet'](this[_0x455126(0x69a)][_0x455126(0x784)]+':'+this[_0x455126(0x780)],_0x5cce4b);if(_0x59e73a)return JSON[_0x455126(0x273)](_0x59e73a,Tt[_0x455126(0x2b2)][_0x455126(0x74a)]);}catch(_0x3e3ac8){this[_0x455126(0x256)]['error'](_0x3e3ac8);}}async[a0_0x556deb(0x73e)](_0x5db7be){const _0x228e63=a0_0x556deb;try{return await this[_0x228e63(0x75e)][_0x228e63(0x6af)](this[_0x228e63(0x69a)][_0x228e63(0x784)]+':'+this[_0x228e63(0x780)],_0x5db7be);}catch(_0x54c301){this['logger']['error'](_0x54c301);}}async['delAll'](_0x57d1e4){const _0x49b3a9=a0_0x556deb;try{return await this['client'][_0x49b3a9(0x49a)](_0x57d1e4||this[_0x49b3a9(0x69a)]['PREFIX_KEY']+':'+this[_0x49b3a9(0x780)]);}catch(_0x2ce080){this[_0x49b3a9(0x256)][_0x49b3a9(0x2e0)](_0x2ce080);}}};async function ps(_0x21376b,_0x37c3e5){const _0x4a3e2d=a0_0x556deb;let _0x54f7ec=new C(ps[_0x4a3e2d(0x750)]),_0x50e53d=new ne(_0x21376b,_0x37c3e5),_0x5c1731=async(_0x423233,_0x106c29)=>{const _0x4b466c=_0x4a3e2d;try{return await _0x50e53d[_0x4b466c(0x462)](_0x106c29,_0x423233);}catch(_0x25d828){return _0x54f7ec['error']({'localError':_0x4b466c(0x462),'error':_0x25d828});}},_0x3044e3=async _0xff3647=>{const _0x55392e=_0x4a3e2d;try{return await _0x50e53d[_0x55392e(0x796)](_0xff3647);}catch(_0x399063){_0x54f7ec[_0x55392e(0x2e0)]({'readData':'writeData','error':_0x399063});return;}},_0x375854=async _0x5836e6=>{const _0x230f8c=_0x4a3e2d;try{return await _0x50e53d[_0x230f8c(0x73e)](_0x5836e6);}catch(_0x25da51){_0x54f7ec[_0x230f8c(0x2e0)]({'readData':'removeData','error':_0x25da51});}},_0x3ddcd9=await _0x3044e3(_0x4a3e2d(0x394))||(0x0,Rt['initAuthCreds'])();return{'state':{'creds':_0x3ddcd9,'keys':{'get':async(_0x2dd068,_0x2631ff)=>{const _0x1ca511=_0x4a3e2d;let _0x2fcf52={};return await Promise[_0x1ca511(0x25d)](_0x2631ff[_0x1ca511(0x608)](async _0x2686a0=>{const _0x3b36bd=_0x1ca511;let _0x3b98bc=await _0x3044e3(_0x2dd068+'-'+_0x2686a0);_0x2dd068===_0x3b36bd(0x416)&&_0x3b98bc&&(_0x3b98bc=Rt[_0x3b36bd(0x353)]['Message']['AppStateSyncKeyData'][_0x3b36bd(0x2d9)](_0x3b98bc)),_0x2fcf52[_0x2686a0]=_0x3b98bc;})),_0x2fcf52;},'set':async _0x4dd4ed=>{const _0x21902b=_0x4a3e2d;let _0x8529d2=[];for(let _0x2a62d9 in _0x4dd4ed)for(let _0x3f4fe5 in _0x4dd4ed[_0x2a62d9]){let _0x3da60e=_0x4dd4ed[_0x2a62d9][_0x3f4fe5],_0x4bbd72=_0x2a62d9+'-'+_0x3f4fe5;_0x8529d2[_0x21902b(0x73a)](_0x3da60e?await _0x5c1731(_0x3da60e,_0x4bbd72):await _0x375854(_0x4bbd72));}await Promise[_0x21902b(0x25d)](_0x8529d2);}}},'saveCreds':async()=>await _0x5c1731(_0x3ddcd9,_0x4a3e2d(0x394))};}var P=T(require('fs')),It=require(a0_0x556deb(0x51e)),Ot=T(require(a0_0x556deb(0x407)));function G(_0x3180b9){const _0x1ecf2d=a0_0x556deb;if(_0x3180b9[_0x1ecf2d(0x6db)]||_0x3180b9['viewOnceMessageV2']){let _0x599e37=_0x3180b9[_0x1ecf2d(0x6db)]?_0x3180b9[_0x1ecf2d(0x6db)][_0x1ecf2d(0x64b)]:_0x3180b9[_0x1ecf2d(0x47a)][_0x1ecf2d(0x64b)];return(0x0,w['getContentType'])(_0x599e37);}return _0x3180b9['pollCreationMessageV3']?_0x1ecf2d(0x1ed):_0x3180b9['pollCreationMessageV2']?'pollCreationMessageV2':(0x0,w[_0x1ecf2d(0x209)])(_0x3180b9);}var ye=class c{constructor(_0x24049c,_0x4bdc63,_0x246050){const _0x122ad0=a0_0x556deb;this[_0x122ad0(0x31b)]=_0x24049c,this['eventEmitter']=_0x4bdc63,this['repository']=_0x246050,this['AutomateSystem']=null,this[_0x122ad0(0x256)]=new C(c['name']),this['instance']={},this['localWebhook']={},this[_0x122ad0(0x360)]={'state':_0x122ad0(0x738)},this['storePath']=(0x0,$['join'])(Q,'downloads'),this['msgRetryCounterCache']=new ms[(_0x122ad0(0x595))](),this[_0x122ad0(0x4be)]=new ms[(_0x122ad0(0x595))](),this[_0x122ad0(0x1e3)]=!0x1,this[_0x122ad0(0x2cd)]={'status.instance':_0x122ad0(0x529),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x122ad0(0x6b4),'messages.update':_0x122ad0(0x573),'send.message':'/wa-message','group.upsert':_0x122ad0(0x1d2),'group.update':_0x122ad0(0x1d2),'group-participants.update':'/wa-groups','connection.update':_0x122ad0(0x529),'messages.set':'/wa-message','contacts.set':_0x122ad0(0x3c7),'contacts.upsert':_0x122ad0(0x3c7),'contacts.update':_0x122ad0(0x3c7),'presence.update':'/wa-presence','chats.set':_0x122ad0(0x6cf),'chats.update':_0x122ad0(0x6cf),'chats.upsert':_0x122ad0(0x6cf),'chats.delete':_0x122ad0(0x6cf)},this[_0x122ad0(0x504)]=0x0,this[_0x122ad0(0x383)]=[],this[_0x122ad0(0x404)]=0xf,this[_0x122ad0(0x36a)]=0x7530,this[_0x122ad0(0x71b)]=!0x1,this[_0x122ad0(0x54f)]={'chats.upsert':async(_0x409de2,_0x49ff98)=>{const _0x3c1850=_0x122ad0;let _0x157746=[];for await(let _0x59390c of _0x409de2)_0x157746[_0x3c1850(0x73a)]({'_id':_0x59390c['id'],'owner':this[_0x3c1850(0x4b7)][_0x3c1850(0x30d)],'group':_0x59390c['id']['endsWith']('@g.us'),'name':_0x59390c['name']||_0x59390c[_0x3c1850(0x487)]||null,'contactname':null,'lastmsg':_0x59390c[_0x3c1850(0x351)]&&_0x59390c[_0x3c1850(0x351)]['toString']()[_0x3c1850(0x72a)]<0xd?_0x59390c['conversationTimestamp']*0x3e8:_0x59390c[_0x3c1850(0x351)]||null,'archived':_0x59390c[_0x3c1850(0x2ed)]||!0x1,'unreadcount':_0x59390c['unreadCount']||0x0});this[_0x3c1850(0x292)]('chats.upsert',_0x157746);},'chats.update':async(_0x467659,_0x56dac5)=>{const _0x448b68=_0x122ad0;for(let _0x62976f of _0x467659){let _0x486994={'_id':_0x62976f['id'],'owner':this[_0x448b68(0x4b7)]['wuid'],'group':_0x62976f['id'][_0x448b68(0x740)](_0x448b68(0x2f5)),'name':_0x62976f[_0x448b68(0x750)]||_0x62976f[_0x448b68(0x487)],'archived':_0x62976f['archived']},_0x12ea50=!0x1,_0x330f55={};_0x486994[_0x448b68(0x2ed)]!=null&&(this[_0x448b68(0x256)]['verbose'](this[_0x448b68(0x780)]+'\x20('+this[_0x448b68(0x4b7)][_0x448b68(0x30d)]+_0x448b68(0x2b0)+_0x62976f[_0x448b68(0x2ed)]),_0x12ea50=!0x0,_0x330f55[_0x448b68(0x2ed)]=_0x62976f[_0x448b68(0x2ed)]),_0x62976f['name']!=null&&(this[_0x448b68(0x256)][_0x448b68(0x31f)](this['instanceName']+'\x20('+this[_0x448b68(0x4b7)][_0x448b68(0x30d)]+_0x448b68(0x3d0)+_0x62976f[_0x448b68(0x750)]),_0x12ea50=!0x0,_0x330f55[_0x448b68(0x750)]=_0x62976f['name']),_0x62976f[_0x448b68(0x487)]!=null&&(this['logger'][_0x448b68(0x31f)](this[_0x448b68(0x780)]+'\x20('+this[_0x448b68(0x4b7)][_0x448b68(0x30d)]+_0x448b68(0x74f)+_0x62976f[_0x448b68(0x487)]),_0x12ea50=!0x0,_0x330f55[_0x448b68(0x750)]=_0x62976f[_0x448b68(0x487)]);let _0x1b7ab3;_0x12ea50&&(_0x1b7ab3=await this[_0x448b68(0x3df)][_0x448b68(0x1dd)][_0x448b68(0x51f)]({'where':{'_id':_0x62976f['id'],'owner':this[_0x448b68(0x4b7)]['wuid']}},_0x330f55)),_0x1b7ab3&&F(this[_0x448b68(0x780)],'chats',{'chat':_0x1b7ab3});}},'chats.delete':async _0x3fa8a6=>{const _0x1dddc3=_0x122ad0;this[_0x1dddc3(0x292)](_0x1dddc3(0x53f),[..._0x3fa8a6]);}},this[_0x122ad0(0x42c)]={'contacts.upsert':async(_0x4eecf8,_0x46cc5b)=>{const _0x1f4757=_0x122ad0;let _0x48a937=await this[_0x1f4757(0x3df)][_0x1f4757(0x4f1)][_0x1f4757(0x33f)]({'where':{'owner':this['instance']['wuid']}}),_0x8f96f6=[];for await(let _0xb1cb34 of _0x4eecf8)_0x48a937['find'](_0x1f3605=>_0x1f3605['_id']===_0xb1cb34['id'])||_0x8f96f6[_0x1f4757(0x73a)]({'_id':_0xb1cb34['id'],'pushName':_0xb1cb34?.['name']||_0xb1cb34?.[_0x1f4757(0x73d)],'owner':this['instance'][_0x1f4757(0x30d)]});this[_0x1f4757(0x292)](_0x1f4757(0x43c),_0x8f96f6),await this[_0x1f4757(0x3df)][_0x1f4757(0x4f1)][_0x1f4757(0x345)](_0x8f96f6);},'contacts.update':async(_0x27bf82,_0x4bee30)=>{const _0x41651c=_0x122ad0;let _0x2bc033=[];for await(let _0x4a6f1c of _0x27bf82)_0x2bc033[_0x41651c(0x73a)]({'_id':_0x4a6f1c['id'],'pushName':_0x4a6f1c?.['name']??_0x4a6f1c?.[_0x41651c(0x73d)],'owner':this[_0x41651c(0x4b7)][_0x41651c(0x30d)]});this['sendDataWebhook'](_0x41651c(0x6a8),_0x2bc033);}},this['messageHandle']={'messaging-history.set':async({messages:_0x2658bd,chats:_0x426902,isLatest:_0x21ca94},_0x582c63)=>{const _0x228f44=_0x122ad0;if(_0x21ca94){let _0x3af99a=await Promise[_0x228f44(0x25d)](_0x426902[_0x228f44(0x608)](async _0x1c6d4d=>({'_id':_0x1c6d4d['id'],'owner':this[_0x228f44(0x4b7)]['wuid'],'group':_0x1c6d4d['id'][_0x228f44(0x740)](_0x228f44(0x2f5)),'name':_0x1c6d4d[_0x228f44(0x750)]||_0x1c6d4d['displayName']||null,'contactname':null,'lastmsg':_0x1c6d4d['conversationTimestamp']&&_0x1c6d4d[_0x228f44(0x351)][_0x228f44(0x77f)]()[_0x228f44(0x72a)]<0xd?_0x1c6d4d[_0x228f44(0x351)]*0x3e8:_0x1c6d4d[_0x228f44(0x351)]||null,'archived':_0x1c6d4d[_0x228f44(0x2ed)]||!0x1,'unreadcount':_0x1c6d4d['unreadCount']||0x0})));this['sendDataWebhook'](_0x228f44(0x68b),_0x3af99a),await this[_0x228f44(0x510)](_0x3af99a,_0x582c63);}let _0x32a8bf=[],_0x3b23de=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x38cff8]of Object['entries'](_0x2658bd)){if(_0x38cff8['message']?.['protocolMessage']||_0x38cff8[_0x228f44(0x64b)]?.[_0x228f44(0x511)]||!_0x38cff8['message']||_0x38cff8[_0x228f44(0x66e)][_0x228f44(0x4a9)]===_0x228f44(0x565)||(gs[_0x228f44(0x595)][_0x228f44(0x5f5)](_0x38cff8?.['messageTimestamp'])&&(_0x38cff8[_0x228f44(0x54d)]=_0x38cff8[_0x228f44(0x54d)]?.['toNumber']()),_0x38cff8[_0x228f44(0x54d)]&&_0x38cff8[_0x228f44(0x54d)]['toString']()[_0x228f44(0x72a)]<0xd&&(_0x38cff8['messageTimestamp']=_0x38cff8[_0x228f44(0x54d)]*0x3e8),_0x38cff8[_0x228f44(0x54d)]<_0x3b23de))continue;let {message_normalized:_0x37e911}=this[_0x228f44(0x3b4)](_0x38cff8['message'],G(_0x38cff8[_0x228f44(0x64b)]),null);Object[_0x228f44(0x561)](_0x37e911)[_0x228f44(0x72a)]>0x0&&_0x32a8bf[_0x228f44(0x73a)]({'_id':_0x38cff8['key']['id'],'key':_0x38cff8[_0x228f44(0x66e)],'pushName':_0x38cff8[_0x228f44(0x2fd)],'participant':_0x38cff8['participant'],'message':{..._0x38cff8['message']},'messageType':G(_0x38cff8['message']),'message_normalized':{'key':_0x38cff8[_0x228f44(0x66e)],'pushName':_0x38cff8[_0x228f44(0x2fd)],'messageTimestamp':_0x38cff8[_0x228f44(0x54d)],..._0x37e911},'messageTimestamp':_0x38cff8['messageTimestamp'],'owner':this[_0x228f44(0x4b7)][_0x228f44(0x30d)]});}_0x582c63[_0x228f44(0x662)]&&_0x32a8bf[_0x228f44(0x72a)]>0x0&&(this['logger']['verbose'](this[_0x228f44(0x780)]+'\x20('+this[_0x228f44(0x4b7)]['wuid']+_0x228f44(0x24c)+_0x32a8bf[_0x228f44(0x72a)]+_0x228f44(0x6a9)+this[_0x228f44(0x4b7)]['wuid']+_0x228f44(0x467)),await this[_0x228f44(0x3df)][_0x228f44(0x64b)][_0x228f44(0x345)]([..._0x32a8bf])),this[_0x228f44(0x292)]('messages.set',[..._0x32a8bf]),_0x2658bd=void 0x0;},'messages.upsert':async({messages:_0x28ec70,type:_0xe7781b},_0x3974e5)=>{const _0x238688=_0x122ad0;let _0x458d00=_0x28ec70[0x0];if(_0xe7781b!=='notify'||!_0x458d00?.['message']||_0x458d00[_0x238688(0x64b)]?.[_0x238688(0x5c5)]||_0x458d00[_0x238688(0x64b)][_0x238688(0x511)]||_0x458d00[_0x238688(0x66e)][_0x238688(0x4a9)]===_0x238688(0x565))return;let _0x5df821=null,_0x3efff6=null;try{_0x5df821=await this[_0x238688(0x685)](_0x458d00),_0x3efff6=_0x5df821?_0x5df821['join'](','):null;}catch(_0x15a296){this[_0x238688(0x256)]['verbose'](this[_0x238688(0x780)]+'\x20('+this['instance'][_0x238688(0x30d)]+'):\x20'+JSON[_0x238688(0x296)](_0x15a296,null,0x2)),_0x3efff6='error\x20get\x20vote';}if(this['client']['sendPresenceUpdate'](_0x238688(0x354)),gs[_0x238688(0x595)][_0x238688(0x5f5)](_0x458d00['messageTimestamp'])&&(_0x458d00['messageTimestamp']=_0x458d00[_0x238688(0x54d)]?.['toNumber']()),this[_0x238688(0x76b)]?.[_0x238688(0x5f7)]&&_0x458d00[_0x238688(0x66e)][_0x238688(0x4a9)][_0x238688(0x619)]('@g.us')){this[_0x238688(0x256)][_0x238688(0x31f)](_0x238688(0x75a));return;}_0x458d00[_0x238688(0x54d)]&&_0x458d00['messageTimestamp'][_0x238688(0x77f)]()[_0x238688(0x72a)]<0xd&&(_0x458d00['messageTimestamp']=_0x458d00[_0x238688(0x54d)]*0x3e8);let _0x5a14cc=_0x458d00[_0x238688(0x64b)],{messageContent:_0x2db555,message_normalized:_0x139de5}=this[_0x238688(0x3b4)](_0x5a14cc,G(_0x458d00[_0x238688(0x64b)]),_0x3efff6);_0x2db555||console['error'](_0x238688(0x385));let _0x3476b3={'_id':_0x458d00['key']['id'],'key':_0x458d00['key'],'pushName':_0x458d00[_0x238688(0x2fd)],'message':{..._0x458d00[_0x238688(0x64b)]},'messageType':G(_0x458d00[_0x238688(0x64b)]),'message_normalized':{'key':_0x458d00[_0x238688(0x66e)],'pushName':_0x458d00[_0x238688(0x2fd)],'messageTimestamp':_0x458d00[_0x238688(0x54d)],'source':(0x0,w[_0x238688(0x310)])(_0x458d00[_0x238688(0x66e)]['id']),..._0x139de5},'messageTimestamp':_0x458d00[_0x238688(0x54d)],'owner':this[_0x238688(0x4b7)]['wuid']};this[_0x238688(0x256)][_0x238688(0x340)](_0x3476b3),await this[_0x238688(0x3df)]['message']['insert']([_0x3476b3]),this[_0x238688(0x292)](_0x238688(0x2f6),_0x3476b3),F(this[_0x238688(0x780)],_0x238688(0x2b8),{'message':_0x3476b3}),_0x458d00[_0x238688(0x66e)][_0x238688(0x4a9)]!==_0x238688(0x565)&&await this[_0x238688(0x761)](_0x3974e5,_0x3476b3,_0x238688(0x22c));},'messages.update':async(_0xeb2bf7,_0x3e77f6)=>{const _0x20dadd=_0x122ad0;let _0x4f8534={0x0:_0x20dadd(0x44f),0x1:_0x20dadd(0x206),0x2:_0x20dadd(0x375),0x3:'DELIVERY_ACK',0x4:_0x20dadd(0x661),0x5:'PLAYED'};for await(let {key:_0x128a5f,update:_0x49d528}of _0xeb2bf7){if(this[_0x20dadd(0x76b)]?.[_0x20dadd(0x5f7)]&&_0x128a5f[_0x20dadd(0x4a9)]['includes']('@g.us')){this[_0x20dadd(0x256)]['verbose'](_0x20dadd(0x75a));return;}if(_0x128a5f[_0x20dadd(0x4a9)]!==_0x20dadd(0x565)){let _0x15e866=Date['now'](),_0x32154c;_0x49d528[_0x20dadd(0x64b)]===null&&_0x49d528[_0x20dadd(0x65f)]===void 0x0?_0x32154c=_0x20dadd(0x38f):_0x32154c=_0x4f8534[_0x49d528[_0x20dadd(0x65f)]];let _0x4eed40=_0x128a5f['remoteJid'][_0x20dadd(0x3f6)](/:\d{1,2}@/g,'@'),_0xbbb02d={..._0x128a5f,'remoteJid':_0x4eed40,'status':_0x32154c,'datetime':_0x15e866,'owner':this['instance']['wuid']};this[_0x20dadd(0x292)](_0x20dadd(0x666),_0xbbb02d),await this[_0x20dadd(0x3f5)](_0x128a5f,_0x4eed40,_0xbbb02d);}}}},this[_0x122ad0(0x701)]={'groups.upsert':_0xac67b3=>{const _0x440a4c=_0x122ad0;this[_0x440a4c(0x292)](_0x440a4c(0x727),_0xac67b3);},'groups.update':_0xb3b5c6=>{const _0x38e266=_0x122ad0;this['sendDataWebhook'](_0x38e266(0x594),_0xb3b5c6);},'group-participants.update':_0x5a3cd6=>{const _0x15a1bf=_0x122ad0;this['sendDataWebhook'](_0x15a1bf(0x592),_0x5a3cd6);}},this[_0x122ad0(0x685)]=async _0x5a1a92=>{const _0x35d704=_0x122ad0;if(_0x5a1a92[_0x35d704(0x64b)]?.['pollUpdateMessage']){let _0x42d90d=await this[_0x35d704(0x363)](_0x5a1a92[_0x35d704(0x64b)]['pollUpdateMessage']['pollCreationMessageKey'],!0x0);if(_0x42d90d){let _0x45f973=_0x42d90d['key'][_0x35d704(0x2b7)]?this['instance'][_0x35d704(0x30d)]+_0x35d704(0x26c):_0x42d90d[_0x35d704(0x66e)][_0x35d704(0x464)]||_0x42d90d[_0x35d704(0x66e)]['remoteJid'],_0x491e04=_0x42d90d[_0x35d704(0x66e)]['id'],_0xc3a901=_0x42d90d[_0x35d704(0x64b)],_0x1fdd9=Buffer[_0x35d704(0x272)](_0xc3a901['messageContextInfo']['messageSecret'][_0x35d704(0x77f)](_0x35d704(0x4f4)),_0x35d704(0x4f4)),_0x2a1a74=(0x0,w[_0x35d704(0x322)])(_0x5a1a92[_0x35d704(0x64b)][_0x35d704(0x5f4)][_0x35d704(0x31c)],{'pollCreatorJid':_0x45f973,'pollMsgId':_0x491e04,'pollEncKey':_0x1fdd9,'voterJid':_0x5a1a92[_0x35d704(0x66e)][_0x35d704(0x2b7)]?this['instance']['wuid']+_0x35d704(0x26c):_0x5a1a92[_0x35d704(0x66e)][_0x35d704(0x4a9)][_0x35d704(0x740)](_0x35d704(0x2c1))?_0x5a1a92[_0x35d704(0x66e)][_0x35d704(0x464)]:_0x5a1a92[_0x35d704(0x66e)][_0x35d704(0x4a9)]}),_0x13febd=[],_0x383802=_0x2a1a74[_0x35d704(0x6ff)][_0x35d704(0x608)](_0x332988=>Buffer[_0x35d704(0x272)](_0x332988)[_0x35d704(0x77f)](_0x35d704(0x4f4)));for(let {optionName:_0x2d086a}of _0xc3a901[_0x35d704(0x3a2)]?.[_0x35d704(0x6bd)]||_0xc3a901['pollCreationMessageV3']?.[_0x35d704(0x6bd)]||_0xc3a901[_0x35d704(0x651)]?.['options'])_0x383802['indexOf']((0x0,w[_0x35d704(0x5af)])(Buffer[_0x35d704(0x272)](_0x2d086a))['toString'](_0x35d704(0x4f4)))>-0x1&&_0x13febd[_0x35d704(0x73a)](_0x2d086a);return _0x13febd;}}return null;},this[_0x122ad0(0x3b4)]=(_0x10fa40,_0x4169b1,_0x28ffe8)=>{const _0xa71ab2=_0x122ad0;let _0x4c0965=_0x4169b1?_0x10fa40[_0x4169b1]:void 0x0,_0x423cbc={},_0x38b766=null,_0x2b0987=null,_0x35e585=null;if(_0x10fa40['viewOnceMessageV2']?_0x4c0965=_0x10fa40['viewOnceMessageV2']['message'][_0x4169b1]:_0x10fa40[_0xa71ab2(0x6db)]?_0x4c0965=_0x10fa40['viewOnceMessage'][_0xa71ab2(0x64b)][_0x4169b1]:_0x10fa40[_0xa71ab2(0x525)]?_0x4c0965=_0x10fa40['ephemeralMessage']['message'][_0x4169b1]:_0x10fa40[_0xa71ab2(0x754)]?.[_0xa71ab2(0x64b)]?.[_0xa71ab2(0x5c5)]?.[_0xa71ab2(0x754)]?(_0x38b766=_0x10fa40[_0xa71ab2(0x754)]['message'][_0xa71ab2(0x5c5)]['key']['id'],_0x10fa40[_0xa71ab2(0x754)][_0xa71ab2(0x64b)][_0xa71ab2(0x5c5)]['editedMessage'][_0xa71ab2(0x6cb)]?_0x4c0965=_0x10fa40[_0xa71ab2(0x754)][_0xa71ab2(0x64b)]['protocolMessage'][_0xa71ab2(0x754)][_0xa71ab2(0x6cb)]:_0x10fa40[_0xa71ab2(0x754)]['message']['protocolMessage']['editedMessage'][_0xa71ab2(0x2b9)]?_0x4c0965=_0x10fa40[_0xa71ab2(0x754)][_0xa71ab2(0x64b)]['protocolMessage']['editedMessage']['imageMessage'][_0xa71ab2(0x5df)]:_0x10fa40[_0xa71ab2(0x754)][_0xa71ab2(0x64b)][_0xa71ab2(0x5c5)][_0xa71ab2(0x754)][_0xa71ab2(0x60e)]?_0x4c0965=_0x10fa40['editedMessage']['message']['protocolMessage']['editedMessage']['videoMessage'][_0xa71ab2(0x5df)]:_0x10fa40[_0xa71ab2(0x754)][_0xa71ab2(0x64b)][_0xa71ab2(0x5c5)][_0xa71ab2(0x754)][_0xa71ab2(0x5a9)]?_0x4c0965=_0x10fa40['editedMessage']['message']['protocolMessage'][_0xa71ab2(0x754)][_0xa71ab2(0x5a9)][_0xa71ab2(0x64b)][_0xa71ab2(0x299)]['caption']:_0x4c0965=_0x10fa40['editedMessage'][_0xa71ab2(0x64b)][_0xa71ab2(0x5c5)][_0xa71ab2(0x754)]):_0x4c0965=_0x10fa40[_0x4169b1],!_0x4169b1||!_0x4c0965)return console['error'](_0xa71ab2(0x71e),_0x10fa40),{'messageType':_0x4169b1,'messageContent':_0x4c0965,'message_normalized':{}};_0x10fa40[_0x4169b1]?.['contextInfo']?.[_0xa71ab2(0x585)]&&_0x10fa40[_0x4169b1]?.['contextInfo']?.['quotedMessage']&&(_0x2b0987=_0x10fa40[_0x4169b1][_0xa71ab2(0x720)]['stanzaId']),_0x10fa40[_0xa71ab2(0x1e8)]&&(_0x35e585=_0x10fa40[_0xa71ab2(0x1e8)]['key']['id']);let _0x15d551;if(_0x4c0965&&typeof _0x4c0965==_0xa71ab2(0x1ff)&&'pollCreationMessageKey'in _0x4c0965&&({pollCreationMessageKey:_0x15d551}=_0x4c0965),_0x4169b1===_0xa71ab2(0x5a9)){let _0x24aa08=_0x4c0965?.[_0xa71ab2(0x64b)]?.[_0xa71ab2(0x299)];_0x24aa08&&(_0x4c0965=_0x24aa08);}if(_0x4169b1===_0xa71ab2(0x3a2)||_0x4169b1===_0xa71ab2(0x651)||_0x4169b1===_0xa71ab2(0x1ed)){let _0x109a10=_0x4c0965[_0xa71ab2(0x6bd)]['map'](_0x3e07f2=>_0x3e07f2[_0xa71ab2(0x6ac)])[_0xa71ab2(0x226)]('|');_0x423cbc[_0xa71ab2(0x434)]=_0x109a10;}let _0xb9e732=_0x4c0965[_0xa71ab2(0x750)]||_0x4c0965['caption']||_0x4c0965[_0xa71ab2(0x6cb)]||_0x4c0965['displayName'];if(_0x4c0965[_0xa71ab2(0x729)]){let _0x409086=this['formatVCard'](JSON['stringify'](_0x4c0965[_0xa71ab2(0x729)],null,0x2));_0xb9e732=_0xb9e732+'\x0a'+_0x409086;}if(_0x4c0965){let {displayName:_0x59ccd5,vcard:_0x2d23b3,contactVcard:_0x1f72a8,name:_0x7072b5,caption:_0x48df67,conversation:_0x3b2b9e,pollCreationMessageKey:_0x50d9b9,footerText:_0x4e0167,contentText:_0x3aa700,pageCount:_0x13c2c7,headerType:_0x3ae07b,isAvatar:_0x32acb0,isAnimated:_0x2d86b1,fallbackLc:_0x2d3a05,fallbackLg:_0xd9beee,namespace:_0xb5c8f8,elementName:_0x5a876a,localizableParams:_0x50f8f7,viewOnce:_0x258979,height:_0x5750b5,width:_0x409cb0,key:_0x3af832,firstScanLength:_0x9a674,firstScanSidecar:_0x2dcdb2,gifPlayback:_0x5dd58c,gifAttribution:_0x11b106,midQualityFileSha256:_0x32575b,scansSidecar:_0x2d313b,streamingSidecar:_0x3352e8,thumbnailHeight:_0x201deb,thumbnailWidth:_0x5a877b,thumbnailEncSha256:_0x1994b5,thumbnailDirectPath:_0x1f416d,canonicalUrl:_0x493020,matchedText:_0x28aa7f,previewType:_0x41329b,thumbnailSha256:_0x1cac23,deviceListMetadataVersion:_0x4f970a,inviteLinkGroupTypeV2:_0x258254,interactiveAnnotations:_0x4f7f23,scanLengths:_0x2dddca,jpegThumbnail:_0x47f780,url:_0x2e1a5f,mediaKeyTimestamp:_0x2c45f7,waveform:_0xc4428a,stickerSentTs:_0x551cd2,firstFrameLength:_0x3efbf6,fileEncSha256:_0x463157,contextInfo:_0x321803,firstFrameSidecar:_0x4c762d,directPath:_0x3789da,fileSha256:_0x5319b0,mediaKey:_0x4d0f97,senderTimestampMs:_0xf98240,..._0x384f91}=_0x4c0965;typeof _0x4c0965=='string'?_0x423cbc={'text':_0x4c0965,'type':_0x4169b1||'conversation',..._0x38b766&&{'edited':_0x38b766},..._0x2b0987&&{'quoted':_0x2b0987},..._0x35e585&&{'reaction':_0x35e585}}:_0x423cbc={'text':_0xb9e732,..._0x384f91,..._0x4169b1===_0xa71ab2(0x5f4)?{'poll_id':_0x4c0965[_0xa71ab2(0x56d)]['id'],'vote':_0x28ffe8}:{},'type':_0x4169b1,..._0x38b766&&{'edited':_0x38b766},..._0x2b0987&&{'quoted':_0x2b0987},..._0x35e585&&{'reaction':_0x35e585},...(_0x4169b1===_0xa71ab2(0x3a2)||_0x4169b1==='pollCreationMessageV2'||_0x4169b1===_0xa71ab2(0x1ed))&&{'convertedOptions':_0x423cbc['convertedOptions']}};}return{'messageType':_0x4169b1,'messageContent':_0x4c0965,'message_normalized':_0x423cbc};},this[_0x122ad0(0x6fd)]=null,this[_0x122ad0(0x342)]=0x0,this[_0x122ad0(0x244)]=null,(this['cleanStore'](),this[_0x122ad0(0x4b7)][_0x122ad0(0x59a)]={'count':0x0});}set[a0_0x556deb(0x780)](_0xb5a02d){const _0x4dc83a=a0_0x556deb;if(!_0xb5a02d){this[_0x4dc83a(0x4b7)][_0x4dc83a(0x750)]=(0x0,Za['v4'])();return;}this['instance'][_0x4dc83a(0x750)]=_0xb5a02d,this[_0x4dc83a(0x292)](_0x4dc83a(0x376),{'instance':this['instance'][_0x4dc83a(0x750)],'status':_0x4dc83a(0x339)});}get['instanceName'](){const _0x22d0b4=a0_0x556deb;return this[_0x22d0b4(0x4b7)]['name'];}get[a0_0x556deb(0x30d)](){const _0x682da8=a0_0x556deb;return this[_0x682da8(0x4b7)]['wuid'];}async[a0_0x556deb(0x73c)](){const _0x1126ef=a0_0x556deb;let _0x97b900=this[_0x1126ef(0x75e)][_0x1126ef(0x4ce)]?.[_0x1126ef(0x750)]??this['client'][_0x1126ef(0x4ce)]?.[_0x1126ef(0x73d)];if(!_0x97b900){if(this[_0x1126ef(0x31b)][_0x1126ef(0x52b)](_0x1126ef(0x621))[_0x1126ef(0x662)]){let _0xac0d63=await M[_0x1126ef(0x48c)]()['db'](this[_0x1126ef(0x31b)][_0x1126ef(0x52b)]('DATABASE')[_0x1126ef(0x29c)][_0x1126ef(0x4d7)]+_0x1126ef(0x4ae))[_0x1126ef(0x6a4)](this[_0x1126ef(0x780)])['findOne']({'_id':_0x1126ef(0x394)});if(_0xac0d63){let _0x310591=JSON[_0x1126ef(0x273)](JSON['stringify'](_0xac0d63),w[_0x1126ef(0x2b2)]['reviver']);_0x97b900=_0x310591['me']?.[_0x1126ef(0x750)]||_0x310591['me']?.[_0x1126ef(0x73d)];}}else{if((0x0,Te[_0x1126ef(0x40b)])((0x0,$['join'])(V,this[_0x1126ef(0x780)],_0x1126ef(0x2ca)))){let _0x594bf5=JSON[_0x1126ef(0x273)]((0x0,Te[_0x1126ef(0x40f)])((0x0,$[_0x1126ef(0x226)])(V,this[_0x1126ef(0x780)],_0x1126ef(0x2ca)),{'encoding':_0x1126ef(0x3ea)}));_0x97b900=_0x594bf5['me']?.['name']||_0x594bf5['me']?.[_0x1126ef(0x73d)];}}}return _0x97b900;}get[a0_0x556deb(0x620)](){return this['instance']['profilePictureUrl'];}get['qrCode'](){const _0x23e43e=a0_0x556deb;return{'code':this[_0x23e43e(0x4b7)][_0x23e43e(0x59a)]?.['code'],'base64':this[_0x23e43e(0x4b7)]['qrcode']?.[_0x23e43e(0x4bf)]};}async[a0_0x556deb(0x74b)](){const _0x51a44c=a0_0x556deb;let _0x3baa36=await this['repository'][_0x51a44c(0x77b)][_0x51a44c(0x33f)](this[_0x51a44c(0x780)]);this[_0x51a44c(0x76b)][_0x51a44c(0x668)]=_0x3baa36?.[_0x51a44c(0x668)],this['localWebhook'][_0x51a44c(0x6d1)]=_0x3baa36?.['enabled'],this[_0x51a44c(0x76b)]['local_map']=_0x3baa36?.[_0x51a44c(0x6fa)],this[_0x51a44c(0x76b)][_0x51a44c(0x201)]=_0x3baa36?.['STATUS_INSTANCE'],this[_0x51a44c(0x76b)][_0x51a44c(0x5fb)]=_0x3baa36?.['QRCODE_UPDATED'],this[_0x51a44c(0x76b)][_0x51a44c(0x5c1)]=_0x3baa36?.[_0x51a44c(0x5c1)],this['localWebhook']['MESSAGES_UPSERT']=_0x3baa36?.[_0x51a44c(0x22c)],this['localWebhook'][_0x51a44c(0x3a6)]=_0x3baa36?.['MESSAGES_UPDATE'],this[_0x51a44c(0x76b)][_0x51a44c(0x5be)]=_0x3baa36?.[_0x51a44c(0x5be)],this['localWebhook'][_0x51a44c(0x5e2)]=_0x3baa36?.[_0x51a44c(0x5e2)],this['localWebhook'][_0x51a44c(0x4da)]=_0x3baa36?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x51a44c(0x76b)][_0x51a44c(0x5b0)]=_0x3baa36?.[_0x51a44c(0x5b0)],this[_0x51a44c(0x76b)][_0x51a44c(0x479)]=_0x3baa36?.[_0x51a44c(0x479)],this[_0x51a44c(0x76b)][_0x51a44c(0x399)]=_0x3baa36?.[_0x51a44c(0x399)],this[_0x51a44c(0x76b)][_0x51a44c(0x674)]=_0x3baa36?.[_0x51a44c(0x674)],this[_0x51a44c(0x76b)][_0x51a44c(0x41b)]=_0x3baa36?.['CONTACTS_SET'],this[_0x51a44c(0x76b)][_0x51a44c(0x4d2)]=_0x3baa36?.[_0x51a44c(0x4d2)],this[_0x51a44c(0x76b)][_0x51a44c(0x2cc)]=_0x3baa36?.['CONTACTS_UPDATE'],this[_0x51a44c(0x76b)][_0x51a44c(0x6d6)]=_0x3baa36?.['PRESENCE_UPDATE'],this[_0x51a44c(0x76b)][_0x51a44c(0x290)]=_0x3baa36?.[_0x51a44c(0x290)],this['localWebhook']['CONNECTION_UPDATE']=_0x3baa36?.['CONNECTION_UPDATE'],this[_0x51a44c(0x76b)][_0x51a44c(0x5f7)]=_0x3baa36?.[_0x51a44c(0x5f7)];}async['setWebhook'](_0x20fdf5){const _0x2f0734=a0_0x556deb;let _0x14ec72=['_id','url',_0x2f0734(0x6d1),'local_map','STATUS_INSTANCE','QRCODE_UPDATED',_0x2f0734(0x3a6),_0x2f0734(0x22c),_0x2f0734(0x5c1),_0x2f0734(0x5be),_0x2f0734(0x5e2),_0x2f0734(0x4da),_0x2f0734(0x5b0),'CHATS_UPSERT',_0x2f0734(0x399),'CHATS_DELETE',_0x2f0734(0x41b),'CONTACTS_UPSERT',_0x2f0734(0x2cc),'PRESENCE_UPDATE',_0x2f0734(0x290),_0x2f0734(0x2c9),_0x2f0734(0x5f7)],_0x48a42d={};return _0x14ec72[_0x2f0734(0x513)](_0x7c3afe=>{_0x20fdf5[_0x7c3afe]!==void 0x0&&(_0x48a42d[_0x7c3afe]=_0x20fdf5[_0x7c3afe]);}),await this[_0x2f0734(0x3df)][_0x2f0734(0x77b)][_0x2f0734(0x5e3)](_0x48a42d,this['instanceName']),Object[_0x2f0734(0x3db)](this[_0x2f0734(0x76b)],_0x48a42d),await this['repository'][_0x2f0734(0x77b)][_0x2f0734(0x33f)](this[_0x2f0734(0x780)]);}async[a0_0x556deb(0x43e)](){const _0x13fef7=a0_0x556deb;return await this[_0x13fef7(0x3df)]['webhook'][_0x13fef7(0x33f)](this[_0x13fef7(0x780)]);}async['sendDataWebhook'](_0x87f501,_0x46db77){const _0x2aea53=a0_0x556deb;let _0x1cf7b5=this['configService'][_0x2aea53(0x52b)](_0x2aea53(0x214)),_0x28338b=_0x87f501[_0x2aea53(0x3f6)](/[\.-]/gm,'_')['toUpperCase'](),_0x2e7d38=this[_0x2aea53(0x76b)][_0x2aea53(0x6d1)]&&(0x0,_['isURL'])(this[_0x2aea53(0x76b)][_0x2aea53(0x668)])?this[_0x2aea53(0x76b)]['url']+(this[_0x2aea53(0x76b)][_0x2aea53(0x6fa)]?this[_0x2aea53(0x2cd)][_0x87f501]:''):null,_0x34af95=_0x1cf7b5?.[_0x2aea53(0x202)],_0x49cd95=_0x34af95&&_0x34af95?.[_0x2aea53(0x662)]&&(0x0,_[_0x2aea53(0x70d)])(_0x34af95[_0x2aea53(0x760)])?_0x34af95[_0x2aea53(0x760)]+(_0x1cf7b5[_0x2aea53(0x2d8)]?this[_0x2aea53(0x2cd)][_0x87f501]:''):null,_0x208762=this[_0x2aea53(0x76b)][_0x28338b],_0x362df5=_0x1cf7b5?.[_0x2aea53(0x697)]?.[_0x28338b];if(_0x208762&&_0x2e7d38)try{await ce['default']['create']({'baseURL':_0x2e7d38})['post']('',{'event':_0x87f501,'instance':this[_0x2aea53(0x4b7)][_0x2aea53(0x750)],'data':_0x46db77}),this[_0x2aea53(0x256)][_0x2aea53(0x340)](_0x2aea53(0x655)+_0x87f501+':\x20'+_0x2e7d38);}catch(_0x545927){this[_0x2aea53(0x256)]['error'](this[_0x2aea53(0x780)]+'\x20('+this['instance'][_0x2aea53(0x30d)]+'):\x20'+{'local':c[_0x2aea53(0x750)]+'.sendDataWebhook-local','message':_0x545927?.['message'],'hostName':_0x545927?.[_0x2aea53(0x42f)],'syscall':_0x545927?.['syscall'],'code':_0x545927?.[_0x2aea53(0x2b5)],'error':_0x545927?.['errno'],'stack':_0x545927?.['stack'],'name':_0x545927?.[_0x2aea53(0x750)]});}if(_0x362df5&&_0x49cd95)try{await ce[_0x2aea53(0x595)][_0x2aea53(0x5e3)]({'baseURL':_0x49cd95})[_0x2aea53(0x719)]('',{'event':_0x87f501,'instance':this['instance']['name'],'data':_0x46db77}),this[_0x2aea53(0x256)][_0x2aea53(0x340)](_0x2aea53(0x228)+_0x87f501+':\x20'+_0x49cd95);}catch(_0x39e1ff){this['logger']['error'](this[_0x2aea53(0x780)]+'\x20('+this['instance'][_0x2aea53(0x30d)]+_0x2aea53(0x24c)+{'local':c[_0x2aea53(0x750)]+_0x2aea53(0x770),'message':_0x39e1ff?.['message'],'hostName':_0x39e1ff?.['hostname'],'syscall':_0x39e1ff?.[_0x2aea53(0x726)],'code':_0x39e1ff?.[_0x2aea53(0x2b5)],'error':_0x39e1ff?.['errno'],'stack':_0x39e1ff?.[_0x2aea53(0x373)],'name':_0x39e1ff?.[_0x2aea53(0x750)]});}}async[a0_0x556deb(0x55d)]({qr:_0xaed21d,connection:_0x5e40f0,lastDisconnect:_0x9ba981}){const _0x7dec5d=a0_0x556deb;if(_0xaed21d){if(this[_0x7dec5d(0x4b7)][_0x7dec5d(0x59a)][_0x7dec5d(0x43f)]===this['configService'][_0x7dec5d(0x52b)]('QRCODE')[_0x7dec5d(0x6ec)])return this[_0x7dec5d(0x292)](_0x7dec5d(0x257),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x7dec5d(0x305)][_0x7dec5d(0x53c)]}),this[_0x7dec5d(0x292)](_0x7dec5d(0x68e),{'instance':this[_0x7dec5d(0x4b7)][_0x7dec5d(0x750)],'state':_0x7dec5d(0x51a),'statusReason':w[_0x7dec5d(0x305)][_0x7dec5d(0x6e8)]}),this[_0x7dec5d(0x292)]('status.instance',{'instance':this[_0x7dec5d(0x4b7)][_0x7dec5d(0x750)],'status':_0x7dec5d(0x747)}),this['endSession']=!0x0,this[_0x7dec5d(0x718)]['emit'](_0x7dec5d(0x4fa),this[_0x7dec5d(0x4b7)][_0x7dec5d(0x750)]);this[_0x7dec5d(0x4b7)][_0x7dec5d(0x59a)][_0x7dec5d(0x43f)]++;let _0x51bca2={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x7dec5d(0x52a),'dark':_0x7dec5d(0x2ce)}};eo[_0x7dec5d(0x595)][_0x7dec5d(0x1ce)](_0xaed21d,_0x51bca2,(_0x57a53d,_0x5a9fcd)=>{const _0x5af6be=_0x7dec5d;if(_0x57a53d){this[_0x5af6be(0x256)][_0x5af6be(0x2e0)](this['instanceName']+'\x20('+this[_0x5af6be(0x4b7)][_0x5af6be(0x30d)]+_0x5af6be(0x790)+JSON['stringify'](_0x57a53d,null,0x2));return;}this['instance'][_0x5af6be(0x59a)][_0x5af6be(0x4bf)]=_0x5a9fcd,this[_0x5af6be(0x4b7)]['qrcode']['code']=_0xaed21d,this[_0x5af6be(0x292)](_0x5af6be(0x257),{'qrcode':{'instance':this[_0x5af6be(0x4b7)][_0x5af6be(0x750)],'code':_0xaed21d,'base64':_0x5a9fcd}});}),to[_0x7dec5d(0x595)][_0x7dec5d(0x390)](_0xaed21d,{'small':!0x0},_0x184f50=>this[_0x7dec5d(0x256)][_0x7dec5d(0x340)](_0x7dec5d(0x411)+this[_0x7dec5d(0x4b7)][_0x7dec5d(0x750)]+_0x7dec5d(0x5e7)+this[_0x7dec5d(0x4b7)]['qrcode'][_0x7dec5d(0x43f)]+'\x20}\x0a'+_0x184f50));}if(_0x5e40f0&&(this['stateConnection']={'state':_0x5e40f0,'statusReason':_0x9ba981?.[_0x7dec5d(0x2e0)]?.['output']?.['statusCode']??0xc8},this['sendDataWebhook'](_0x7dec5d(0x68e),{'instance':this[_0x7dec5d(0x4b7)]['name'],...this[_0x7dec5d(0x360)]})),_0x5e40f0===_0x7dec5d(0x738)){if(this[_0x7dec5d(0x504)]++,this['reconnectTimestamps'][_0x7dec5d(0x73a)](Date['now']()),this['reconnectTimestamps']=this['reconnectTimestamps']['filter'](_0xa5fa01=>Date[_0x7dec5d(0x23b)]()-_0xa5fa01<this[_0x7dec5d(0x36a)]),_0x9ba981[_0x7dec5d(0x2e0)]?.[_0x7dec5d(0x396)]?.[_0x7dec5d(0x2ef)]!==w['DisconnectReason'][_0x7dec5d(0x1e9)]&&this['reconnectTimestamps'][_0x7dec5d(0x72a)]<=this[_0x7dec5d(0x404)])await this[_0x7dec5d(0x2ee)]();else{this[_0x7dec5d(0x292)]('status.instance',{'instance':this[_0x7dec5d(0x4b7)][_0x7dec5d(0x750)],'status':'removed'}),this[_0x7dec5d(0x20f)]=!0x1;try{this[_0x7dec5d(0x256)]['verbose'](this[_0x7dec5d(0x780)]+'\x20('+this['instance'][_0x7dec5d(0x30d)]+_0x7dec5d(0x6ea));let _0x4290e0=await this[_0x7dec5d(0x3df)][_0x7dec5d(0x64b)][_0x7dec5d(0x374)](this[_0x7dec5d(0x4b7)][_0x7dec5d(0x30d)]);_0x4290e0['success']?this[_0x7dec5d(0x256)][_0x7dec5d(0x31f)](this[_0x7dec5d(0x780)]+'\x20('+this['instance'][_0x7dec5d(0x30d)]+_0x7dec5d(0x27a)):console[_0x7dec5d(0x2e0)](_0x7dec5d(0x693),_0x4290e0[_0x7dec5d(0x2e0)]);}catch(_0x22a15b){console[_0x7dec5d(0x2e0)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x22a15b);}this[_0x7dec5d(0x550)]!==null&&(this[_0x7dec5d(0x256)][_0x7dec5d(0x31f)](this[_0x7dec5d(0x780)]+'\x20('+this['instance']['wuid']+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x7dec5d(0x550)]),this[_0x7dec5d(0x550)]=null),this[_0x7dec5d(0x256)][_0x7dec5d(0x31f)](this['instanceName']+'\x20('+this[_0x7dec5d(0x4b7)][_0x7dec5d(0x30d)]+_0x7dec5d(0x771)),this[_0x7dec5d(0x640)]=null,this[_0x7dec5d(0x718)][_0x7dec5d(0x1e7)](_0x7dec5d(0x6ee),this['instance']['name'],'inner'),this['client']?.['ws']?.[_0x7dec5d(0x738)](),this[_0x7dec5d(0x75e)][_0x7dec5d(0x66f)](new Error(_0x7dec5d(0x3aa)));}}if(_0x5e40f0===_0x7dec5d(0x267)){this[_0x7dec5d(0x5d7)],this[_0x7dec5d(0x4b7)]['wuid']=this['client']['user']['id'][_0x7dec5d(0x3f6)](/:\d+/,'')[_0x7dec5d(0x3f6)](_0x7dec5d(0x26c),''),this[_0x7dec5d(0x4b7)]['profilePictureUrl']=(await this[_0x7dec5d(0x21a)](this[_0x7dec5d(0x4b7)][_0x7dec5d(0x30d)]+_0x7dec5d(0x26c)))[_0x7dec5d(0x620)];let _0x557f9e=_0x7dec5d(0x2d7)+this['instance'][_0x7dec5d(0x30d)],_0x376196=0x28,_0x5e1548=Math['floor']((_0x376196-_0x557f9e['length'])/0x2),_0x201f4b='\x20'[_0x7dec5d(0x445)](_0x5e1548),_0x1d9e23='CONECTADO\x20À\x20UAZAPI',_0x402160=_0x7dec5d(0x231)+this[_0x7dec5d(0x4b7)][_0x7dec5d(0x750)],_0x219be8=(''+_0x201f4b+_0x557f9e+_0x201f4b)[_0x7dec5d(0x723)](_0x376196,'\x20'),_0x1a0e7f=(''+_0x201f4b+_0x1d9e23+_0x201f4b)[_0x7dec5d(0x723)](_0x376196,'\x20'),_0x269bf7=(''+_0x201f4b+_0x402160+_0x201f4b)['padEnd'](_0x376196,'\x20'),_0x20ebfa=Math[_0x7dec5d(0x530)](_0x219be8[_0x7dec5d(0x72a)],_0x1a0e7f[_0x7dec5d(0x72a)],_0x269bf7[_0x7dec5d(0x72a)]),_0x3744e7=_0x219be8[_0x7dec5d(0x723)](_0x20ebfa,'\x20'),_0x2bcab3=_0x1a0e7f[_0x7dec5d(0x723)](_0x20ebfa,'\x20'),_0x1cea3c=_0x269bf7[_0x7dec5d(0x723)](_0x20ebfa,'\x20');this['logger']['info']((_0x7dec5d(0x50a)+'─'[_0x7dec5d(0x445)](_0x20ebfa)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x2bcab3+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x1cea3c+_0x7dec5d(0x454)+_0x3744e7+_0x7dec5d(0x582)+'─'[_0x7dec5d(0x445)](_0x20ebfa)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x7dec5d(0x2a5)](),this[_0x7dec5d(0x20f)]=!0x0;}}[a0_0x556deb(0x5d7)](){const _0x36f5ae=a0_0x556deb;this['reconnectAttempts']=0x0,this[_0x36f5ae(0x383)]=[];}async['getMessage'](_0x4ca108,_0x39290b=!0x1){const _0x3ed434=a0_0x556deb;try{let _0x5aa69c=await this[_0x3ed434(0x3df)][_0x3ed434(0x64b)][_0x3ed434(0x33f)]({'where':{'owner':this[_0x3ed434(0x4b7)][_0x3ed434(0x30d)],'_id':_0x4ca108['id']}});return _0x39290b?_0x5aa69c[0x0]:_0x5aa69c[0x0][_0x3ed434(0x64b)];}catch{return{'conversation':''};}}[a0_0x556deb(0x237)](){const _0x1d65bc=a0_0x556deb;let _0x3d2764=this[_0x1d65bc(0x31b)]['get'](_0x1d65bc(0x528)),_0x186e58=this['configService'][_0x1d65bc(0x52b)](_0x1d65bc(0x621));_0x3d2764?.[_0x1d65bc(0x362)]&&!_0x186e58[_0x1d65bc(0x662)]&&setInterval(()=>{const _0x35ad9=_0x1d65bc;try{for(let [_0x1ae026,_0x101a3f]of Object['entries'](_0x3d2764))_0x101a3f===!0x0&&(0x0,Dt[_0x35ad9(0x564)])(_0x35ad9(0x5e9)+(0x0,$[_0x35ad9(0x226)])(this[_0x35ad9(0x25a)],_0x1ae026[_0x35ad9(0x2fc)](),this[_0x35ad9(0x4b7)][_0x35ad9(0x30d)])+'/*.json');}catch{}},(_0x3d2764?.[_0x1d65bc(0x362)]??0xe10)*0x3e8);}async[a0_0x556deb(0x60c)](){const _0x3a7699=a0_0x556deb;let _0x447221=this[_0x3a7699(0x31b)]['get']('DATABASE'),_0x78c34b=this[_0x3a7699(0x31b)][_0x3a7699(0x52b)](_0x3a7699(0x587));return _0x78c34b?.[_0x3a7699(0x662)]?await ps(_0x78c34b,this[_0x3a7699(0x4b7)]['name']):_0x447221[_0x3a7699(0x662)]?await ds(this[_0x3a7699(0x4b7)][_0x3a7699(0x750)]):await(0x0,w[_0x3a7699(0x72d)])((0x0,$[_0x3a7699(0x226)])(V,this[_0x3a7699(0x4b7)][_0x3a7699(0x750)]));}async['AutomateFunctions'](){const _0xca7540=a0_0x556deb;let _0x11ad80=()=>Math['floor'](Math[_0xca7540(0x533)]()*0x2711)+0x7d0,_0x48e04f=async()=>{const _0x7e8287=_0xca7540;if(!this[_0x7e8287(0x20f)]){this[_0x7e8287(0x256)]['verbose']('Desconectado,\x20parando\x20execução.'),this[_0x7e8287(0x71b)]=!0x1;return;}if(this[_0x7e8287(0x4b7)][_0x7e8287(0x30d)]&&this[_0x7e8287(0x640)]&&this['delayMessage']!==null&&this[_0x7e8287(0x550)]!==void 0x0){let _0x1c71d9=Math['round'](this[_0x7e8287(0x550)]/0xea60);this[_0x7e8287(0x256)][_0x7e8287(0x31f)](this[_0x7e8287(0x780)]+'\x20('+this[_0x7e8287(0x4b7)][_0x7e8287(0x30d)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x1c71d9+_0x7e8287(0x317)),this['isRunning']=!0x1;return;}else this[_0x7e8287(0x4b7)]['wuid']&&(this[_0x7e8287(0x256)][_0x7e8287(0x31f)](this['instanceName']+'\x20('+this[_0x7e8287(0x4b7)]['wuid']+_0x7e8287(0x6e2)),this[_0x7e8287(0x640)]||await this[_0x7e8287(0x6cd)](),(this[_0x7e8287(0x550)]===null||this[_0x7e8287(0x550)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x7e8287(0x71b)]){let _0x176987=_0x11ad80();this[_0x7e8287(0x256)]['verbose'](this[_0x7e8287(0x780)]+_0x7e8287(0x28e)+_0x176987/0x3e8+_0x7e8287(0x435)),setTimeout(_0x48e04f,_0x176987);}};if(this['isRunning'])return;this[_0xca7540(0x71b)]=!0x0;let _0x135e8e=_0x11ad80();setTimeout(_0x48e04f,_0x135e8e);}async[a0_0x556deb(0x2ee)](){const _0xab9cc0=a0_0x556deb;try{this[_0xab9cc0(0x74b)](),this[_0xab9cc0(0x4b7)][_0xab9cc0(0x3cb)]=await this[_0xab9cc0(0x60c)]();let {version:_0x54d0f5}=await(0x0,w[_0xab9cc0(0x6a1)])(),_0x19eac0=this[_0xab9cc0(0x31b)]['get']('CONFIG_SESSION_PHONE'),_0x5592b5=[_0x19eac0[_0xab9cc0(0x2e8)],_0x19eac0['NAME'],(0x0,so[_0xab9cc0(0x6f7)])()],_0x39480d={'auth':{'creds':this[_0xab9cc0(0x4b7)][_0xab9cc0(0x3cb)][_0xab9cc0(0x5e1)][_0xab9cc0(0x394)],'keys':(0x0,w[_0xab9cc0(0x62c)])(this['instance']['authState'][_0xab9cc0(0x5e1)][_0xab9cc0(0x561)],(0x0,Mt['default'])({'level':_0xab9cc0(0x2e0)}))},'logger':(0x0,Mt[_0xab9cc0(0x595)])({'level':_0xab9cc0(0x2e0)}),'printQRInTerminal':!0x1,'browser':_0x5592b5,'version':_0x54d0f5,'retryRequestDelayMs':0xa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x3bc920=>await this[_0xab9cc0(0x363)](_0x3bc920),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0xab9cc0(0x4be)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x31cfec=>(!!(_0x31cfec[_0xab9cc0(0x447)]||_0x31cfec[_0xab9cc0(0x51c)])&&(_0x31cfec={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x31cfec}}}),_0x31cfec)};return this[_0xab9cc0(0x1e3)]=!0x1,this[_0xab9cc0(0x75e)]=(0x0,w['default'])(_0x39480d),this[_0xab9cc0(0x497)](),this['client'];}catch(_0x5f1e48){throw this[_0xab9cc0(0x256)][_0xab9cc0(0x2e0)](this[_0xab9cc0(0x780)]+'\x20('+this[_0xab9cc0(0x4b7)]['wuid']+_0xab9cc0(0x24c)+JSON[_0xab9cc0(0x296)](_0x5f1e48,null,0x2)),new A(_0x5f1e48?.[_0xab9cc0(0x77f)]());}}['eventHandler'](){const _0x37840e=a0_0x556deb;this[_0x37840e(0x75e)]['ev']['process'](_0x1d9c12=>{const _0x1329d9=_0x37840e;if(!this['endSession']){let _0x26e874=this[_0x1329d9(0x31b)][_0x1329d9(0x52b)]('DATABASE');if(_0x1d9c12[_0x1329d9(0x68e)]&&this[_0x1329d9(0x55d)](_0x1d9c12[_0x1329d9(0x68e)]),_0x1d9c12['creds.update']&&this['instance'][_0x1329d9(0x3cb)]['saveCreds'](),_0x1d9c12['messaging-history.set']){let _0x103f05=_0x1d9c12[_0x1329d9(0x29d)];this['messageHandle'][_0x1329d9(0x29d)](_0x103f05,_0x26e874);}if(_0x1d9c12['messages.upsert']){let _0xc24f68=_0x1d9c12[_0x1329d9(0x2f6)];this[_0x1329d9(0x6d9)][_0x1329d9(0x2f6)](_0xc24f68,_0x26e874);}if(_0x1d9c12[_0x1329d9(0x666)]){let _0x517f44=_0x1d9c12['messages.update'];this[_0x1329d9(0x6d9)][_0x1329d9(0x666)](_0x517f44,_0x26e874);}if(_0x1d9c12[_0x1329d9(0x600)]){let _0x2f995e=_0x1d9c12[_0x1329d9(0x600)];if(this[_0x1329d9(0x76b)]?.[_0x1329d9(0x5f7)]&&_0x2f995e['id']['includes']('@g.us'))return;this['sendDataWebhook'](_0x1329d9(0x600),_0x2f995e);}if(!this[_0x1329d9(0x76b)]?.[_0x1329d9(0x5f7)]){if(_0x1d9c12[_0x1329d9(0x727)]){let _0x2fb3f3=_0x1d9c12['groups.upsert'];this[_0x1329d9(0x701)][_0x1329d9(0x727)](_0x2fb3f3);}if(_0x1d9c12[_0x1329d9(0x594)]){let _0x4327bb=_0x1d9c12['groups.update'];this[_0x1329d9(0x701)][_0x1329d9(0x594)](_0x4327bb);}if(_0x1d9c12[_0x1329d9(0x592)]){let _0x55c8f6=_0x1d9c12[_0x1329d9(0x592)];this[_0x1329d9(0x701)][_0x1329d9(0x592)](_0x55c8f6);}}if(_0x1d9c12['chats.upsert']){let _0x34ee28=_0x1d9c12['chats.upsert'];this['chatHandle']['chats.upsert'](_0x34ee28,_0x26e874);}if(_0x1d9c12[_0x1329d9(0x55b)]){let _0x1edc18=_0x1d9c12[_0x1329d9(0x55b)];this[_0x1329d9(0x54f)]['chats.update'](_0x1edc18,_0x26e874);}if(_0x1d9c12['chats.delete']){let _0x2456f1=_0x1d9c12[_0x1329d9(0x53f)];this[_0x1329d9(0x54f)][_0x1329d9(0x53f)](_0x2456f1);}if(_0x1d9c12[_0x1329d9(0x43c)]){let _0x57bb1b=_0x1d9c12['contacts.upsert'];this[_0x1329d9(0x42c)][_0x1329d9(0x43c)](_0x57bb1b,_0x26e874);}if(_0x1d9c12[_0x1329d9(0x6a8)]){let _0x5e7efc=_0x1d9c12[_0x1329d9(0x6a8)];this['contactHandle'][_0x1329d9(0x6a8)](_0x5e7efc,_0x26e874);}}});}[a0_0x556deb(0x21e)](_0x4eada5){let _0x21b79e=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x4eada5);if(_0x21b79e&&_0x21b79e[0x1]==='55'){let _0x313c8c=_0x21b79e[0x2],_0x50600a=_0x21b79e[0x3],_0x59c924=_0x21b79e[0x4];if(_0x313c8c>='31'&&_0x50600a==='9')return _0x21b79e[0x1]+_0x313c8c+_0x59c924;}return _0x4eada5;}[a0_0x556deb(0x1eb)](_0x26c32e){const _0xce082f=a0_0x556deb;return _0x26c32e[_0xce082f(0x619)](_0xce082f(0x2f5))||_0x26c32e[_0xce082f(0x619)](_0xce082f(0x26c))||_0x26c32e[_0xce082f(0x619)](_0xce082f(0x309))?_0x26c32e:(_0x26c32e=_0x26c32e?.['replace'](/\s/g,'')[_0xce082f(0x3f6)](/\+/g,'')[_0xce082f(0x3f6)](/\(/g,'')['replace'](/\)/g,'')[_0xce082f(0x23e)](/\:/)[0x0][_0xce082f(0x23e)]('@')[0x0],_0x26c32e['length']>=0x12?(_0x26c32e=_0x26c32e[_0xce082f(0x3f6)](/[^\d-]/g,''),_0x26c32e+'@g.us'):(_0x26c32e=_0x26c32e[_0xce082f(0x3f6)](/\D/g,''),this['formatBRNumber'](_0x26c32e)+'@s.whatsapp.net'));}async[a0_0x556deb(0x332)](_0x29df46){const _0x2b157b=a0_0x556deb;let _0x207c9c=this[_0x2b157b(0x1eb)](_0x29df46[_0x2b157b(0x33a)]),_0x4ccf05=(await this['whatsappNumber']({'numbers':[_0x207c9c]}))[0x0];if(!_0x4ccf05[_0x2b157b(0x598)]&&!(0x0,w[_0x2b157b(0x401)])(_0x4ccf05[_0x2b157b(0x2c7)]))throw new g(_0x4ccf05);let _0x376aa8=(0x0,w[_0x2b157b(0x401)])(_0x207c9c)?_0x207c9c:_0x4ccf05[_0x2b157b(0x2c7)];if((0x0,w[_0x2b157b(0x401)])(_0x376aa8))try{await this['client'][_0x2b157b(0x62b)](_0x376aa8);}catch{throw new x('Group\x20not\x20found');}try{return await this['client'][_0x2b157b(0x36f)](_0x376aa8),await this['client'][_0x2b157b(0x519)](_0x29df46[_0x2b157b(0x1f3)],_0x207c9c),{'status':0xc8,'presence':_0x29df46[_0x2b157b(0x1f3)]};}catch(_0x5cf31e){throw new g(_0x5cf31e[_0x2b157b(0x77f)]());}}async[a0_0x556deb(0x21a)](_0x54ee30){const _0x5b88b4=a0_0x556deb;let _0x36e927=this[_0x5b88b4(0x1eb)](_0x54ee30);try{return{'wuid':_0x36e927,'profilePictureUrl':await this['client'][_0x5b88b4(0x620)](_0x36e927,_0x5b88b4(0x50e))};}catch{return{'wuid':_0x36e927,'profilePictureUrl':null};}}async[a0_0x556deb(0x357)](_0x93cd17,_0x28ce77,_0x41097c){const _0x221c40=a0_0x556deb;let _0x4dd231=(await this['whatsappNumber']({'numbers':[_0x93cd17]}))[0x0];if(!_0x4dd231[_0x221c40(0x598)]&&!(0x0,w[_0x221c40(0x401)])(_0x4dd231[_0x221c40(0x2c7)])&&!_0x4dd231[_0x221c40(0x2c7)][_0x221c40(0x619)](_0x221c40(0x309)))throw new g(_0x4dd231);let _0x1206e1=_0x4dd231[_0x221c40(0x2c7)];try{_0x41097c?.['delay']&&(await this[_0x221c40(0x75e)][_0x221c40(0x36f)](_0x1206e1),await this[_0x221c40(0x75e)][_0x221c40(0x519)](_0x41097c?.[_0x221c40(0x1f3)]??_0x221c40(0x2af),_0x1206e1),await(0x0,w[_0x221c40(0x22f)])(_0x41097c[_0x221c40(0x22f)]),await this[_0x221c40(0x75e)]['sendPresenceUpdate']('paused',_0x1206e1));let _0xa1cadc=_0x41097c?.[_0x221c40(0x559)]!=!0x1?void 0x0:!0x1,_0x448636;if(_0x41097c?.['quoted']){let _0x403148=_0x41097c?.['quoted'],_0x28fa98=_0x403148?.['message']?_0x403148:await this[_0x221c40(0x363)](_0x403148[_0x221c40(0x66e)],!0x0);if(!_0x28fa98)throw _0x221c40(0x71f);_0x448636=_0x28fa98;}let _0x14befb;if((0x0,w[_0x221c40(0x401)])(_0x1206e1))try{let _0x4bfd8b=await this[_0x221c40(0x75e)][_0x221c40(0x62b)](_0x1206e1);if(!_0x4bfd8b)throw new x(_0x221c40(0x3e0));_0x41097c?.['mentions']&&(_0x41097c[_0x221c40(0x781)]?.['everyOne']?_0x14befb=_0x4bfd8b[_0x221c40(0x5aa)][_0x221c40(0x608)](_0x4d504a=>_0x4d504a['id']):_0x41097c['mentions']?.[_0x221c40(0x232)]?.[_0x221c40(0x72a)]&&(_0x14befb=_0x41097c[_0x221c40(0x781)][_0x221c40(0x232)][_0x221c40(0x608)](_0x160298=>{const _0x413931=_0x221c40;let _0x161b2b=this[_0x413931(0x1eb)](_0x160298);return(0x0,w[_0x413931(0x401)])(_0x161b2b)?null:_0x161b2b;})));}catch{throw new x('Group\x20not\x20found');}let _0x4f4bb8=await((async()=>{const _0x32d014=_0x221c40;let _0x2d62c4={'quoted':_0x448636};if(!_0x28ce77[_0x32d014(0x3c4)]&&!_0x28ce77[_0x32d014(0x534)]&&!_0x28ce77[_0x32d014(0x613)]&&!_0x28ce77['conversation']&&_0x1206e1!==_0x32d014(0x565)&&!_0x28ce77[_0x32d014(0x3c4)])return await this[_0x32d014(0x75e)]['sendMessage'](_0x1206e1,{'forward':{'key':{'remoteJid':this[_0x32d014(0x4b7)][_0x32d014(0x30d)],'fromMe':!0x0},'message':_0x28ce77},'mentions':_0x14befb},_0x2d62c4);if(_0x28ce77['reactionMessage'])return await this[_0x32d014(0x75e)][_0x32d014(0x460)](_0x1206e1,{'react':{'text':_0x28ce77[_0x32d014(0x1e8)][_0x32d014(0x72c)],'key':_0x28ce77[_0x32d014(0x1e8)][_0x32d014(0x66e)]}},_0x2d62c4);if(_0x28ce77['conversation']){let _0xdcf11c=_0x28ce77['conversation'];return _0x41097c?.[_0x32d014(0x3ed)]&&(_0xdcf11c=await this[_0x32d014(0x70b)](_0xdcf11c,_0x1206e1)),await this[_0x32d014(0x75e)]['sendMessage'](_0x1206e1,{'text':_0xdcf11c,'mentions':_0x14befb,'linkPreview':_0xa1cadc},_0x2d62c4);}return _0x1206e1===_0x32d014(0x565)?await this[_0x32d014(0x75e)][_0x32d014(0x460)](_0x1206e1,_0x28ce77[_0x32d014(0x65f)][_0x32d014(0x4e8)],{'backgroundColor':_0x28ce77['status']['option'][_0x32d014(0x5cd)],'font':_0x28ce77[_0x32d014(0x65f)][_0x32d014(0x334)]['font'],'statusJidList':_0x28ce77[_0x32d014(0x65f)]['option'][_0x32d014(0x338)]}):await this['client'][_0x32d014(0x460)](_0x1206e1,_0x28ce77,_0x2d62c4);})()),{message_normalized:_0x458237}=this[_0x221c40(0x3b4)](_0x4f4bb8[_0x221c40(0x64b)],G(_0x4f4bb8[_0x221c40(0x64b)]),null),_0x560425={'_id':_0x4f4bb8[_0x221c40(0x66e)]['id'],'key':_0x4f4bb8['key'],'pushName':_0x4f4bb8[_0x221c40(0x2fd)],'message':{..._0x4f4bb8['message']},'messageType':G(_0x4f4bb8[_0x221c40(0x64b)]),'message_normalized':{'key':_0x4f4bb8['key'],'pushName':_0x4f4bb8[_0x221c40(0x2fd)],'messageTimestamp':_0x4f4bb8[_0x221c40(0x54d)]&&_0x4f4bb8[_0x221c40(0x54d)]['toString']()[_0x221c40(0x72a)]<0xd?_0x4f4bb8[_0x221c40(0x54d)]*0x3e8:_0x4f4bb8[_0x221c40(0x54d)]||null,'source':(0x0,w[_0x221c40(0x310)])(_0x4f4bb8[_0x221c40(0x66e)]['id']),..._0x458237},'messageTimestamp':_0x4f4bb8[_0x221c40(0x54d)]&&_0x4f4bb8[_0x221c40(0x54d)][_0x221c40(0x77f)]()['length']<0xd?_0x4f4bb8[_0x221c40(0x54d)]*0x3e8:_0x4f4bb8[_0x221c40(0x54d)]||null,'owner':this[_0x221c40(0x4b7)][_0x221c40(0x30d)],'source':(0x0,w[_0x221c40(0x310)])(_0x4f4bb8['key']['id'])};return this[_0x221c40(0x256)][_0x221c40(0x340)](_0x560425),this['sendDataWebhook'](_0x221c40(0x762),_0x560425),F(this[_0x221c40(0x780)],'messages',{'message':_0x560425}),this[_0x221c40(0x761)](this[_0x221c40(0x31b)][_0x221c40(0x52b)](_0x221c40(0x621)),_0x560425,_0x221c40(0x5c1)),await this['repository'][_0x221c40(0x64b)]['insert']([_0x560425]),_0x4f4bb8;}catch(_0x1830c3){throw this[_0x221c40(0x256)][_0x221c40(0x2e0)](this[_0x221c40(0x780)]+'\x20('+this[_0x221c40(0x4b7)][_0x221c40(0x30d)]+_0x221c40(0x24c)+_0x1830c3[_0x221c40(0x77f)]()),new g(_0x1830c3[_0x221c40(0x77f)]());}}get[a0_0x556deb(0x39d)](){const _0x769b21=a0_0x556deb;return this[_0x769b21(0x360)];}async['textMessage'](_0x5ab70d){const _0x27cbd3=a0_0x556deb;let _0x3bcf04=this['configService']['get']('TRIAL_AD'),_0x54d761=this[_0x27cbd3(0x31b)][_0x27cbd3(0x52b)](_0x27cbd3(0x23d));return _0x54d761&&this[_0x27cbd3(0x780)][_0x27cbd3(0x2fc)]()[_0x27cbd3(0x619)](_0x54d761[_0x27cbd3(0x2fc)]())&&(_0x5ab70d[_0x27cbd3(0x49e)][_0x27cbd3(0x72c)]+='\x0a\x0a'+_0x3bcf04),await this[_0x27cbd3(0x357)](_0x5ab70d[_0x27cbd3(0x33a)],{'conversation':_0x5ab70d['textMessage'][_0x27cbd3(0x72c)]},_0x5ab70d?.['options']);}async[a0_0x556deb(0x356)](_0x1254d7){const _0x3203e5=a0_0x556deb;if(!_0x1254d7[_0x3203e5(0x634)])throw new g(_0x3203e5(0x486));if(!_0x1254d7[_0x3203e5(0x4e8)])throw new g(_0x3203e5(0x6a2));if(_0x1254d7[_0x3203e5(0x5c8)]){let _0x241941=await this[_0x3203e5(0x3df)][_0x3203e5(0x4f1)]['find']({'where':{'owner':this['instance'][_0x3203e5(0x30d)]}});if(!_0x241941[_0x3203e5(0x72a)])throw new g(_0x3203e5(0x421));_0x1254d7[_0x3203e5(0x338)]=_0x241941[_0x3203e5(0x298)](_0x473e09=>_0x473e09[_0x3203e5(0x2fd)])['map'](_0x31f2aa=>_0x31f2aa[_0x3203e5(0x782)]);}if(!_0x1254d7[_0x3203e5(0x338)]?.[_0x3203e5(0x72a)]&&!_0x1254d7[_0x3203e5(0x5c8)])throw new g(_0x3203e5(0x61b));if(_0x1254d7[_0x3203e5(0x634)]===_0x3203e5(0x72c)){if(!_0x1254d7[_0x3203e5(0x5cd)])throw new g(_0x3203e5(0x739));if(!_0x1254d7['font'])throw new g('Font\x20is\x20required');return{'content':{'text':_0x1254d7[_0x3203e5(0x4e8)]},'option':{'backgroundColor':_0x1254d7[_0x3203e5(0x5cd)],'font':_0x1254d7[_0x3203e5(0x532)],'statusJidList':_0x1254d7[_0x3203e5(0x338)]}};}if(_0x1254d7[_0x3203e5(0x634)]===_0x3203e5(0x50e))return{'content':{'image':{'url':_0x1254d7[_0x3203e5(0x4e8)]},'caption':_0x1254d7['caption']},'option':{'statusJidList':_0x1254d7[_0x3203e5(0x338)]}};if(_0x1254d7[_0x3203e5(0x634)]===_0x3203e5(0x6e0))return{'content':{'video':{'url':_0x1254d7[_0x3203e5(0x4e8)]},'caption':_0x1254d7[_0x3203e5(0x5df)]},'option':{'statusJidList':_0x1254d7['statusJidList']}};if(_0x1254d7[_0x3203e5(0x634)]===_0x3203e5(0x3c4)){this[_0x3203e5(0x256)]['verbose']('Type\x20defined\x20as\x20audio'),this[_0x3203e5(0x256)][_0x3203e5(0x31f)]('Processing\x20audio');let _0x4bef57=await this[_0x3203e5(0x6f6)](_0x1254d7['content']);if(typeof _0x4bef57==_0x3203e5(0x20c)){this[_0x3203e5(0x256)]['verbose'](_0x3203e5(0x5de));let _0x44878b=P['readFileSync'](_0x4bef57)[_0x3203e5(0x77f)](_0x3203e5(0x4bf)),_0x3587ad={'content':{'audio':Buffer['from'](_0x44878b,'base64'),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x1254d7[_0x3203e5(0x338)]}};return P[_0x3203e5(0x4a8)](_0x4bef57),_0x3587ad;}else throw new A(_0x4bef57);}throw new g(_0x3203e5(0x303));}async[a0_0x556deb(0x263)](_0x4b54d8){const _0x7eb2e=a0_0x556deb;return await this['sendMessageWithTyping'](_0x7eb2e(0x565),{'status':await this['formatStatusMessage'](_0x4b54d8[_0x7eb2e(0x263)])});}async['prepareMediaMessage'](_0x193dca){const _0x50b20f=a0_0x556deb;try{let _0x3d5d83=await(0x0,w[_0x50b20f(0x649)])({[_0x193dca[_0x50b20f(0x64a)]]:(0x0,_['isURL'])(_0x193dca[_0x50b20f(0x32d)])?{'url':_0x193dca[_0x50b20f(0x32d)]}:Buffer[_0x50b20f(0x272)](_0x193dca[_0x50b20f(0x32d)],_0x50b20f(0x4bf))},{'upload':this[_0x50b20f(0x75e)][_0x50b20f(0x5e6)]}),_0xe88ce4=_0x193dca[_0x50b20f(0x64a)]+_0x50b20f(0x3a4);if(_0x193dca[_0x50b20f(0x64a)]===_0x50b20f(0x466)&&!_0x193dca[_0x50b20f(0x265)]){let _0x553767=new RegExp(/.*\/(.+?)\./)[_0x50b20f(0x4f2)](_0x193dca['media']);_0x193dca[_0x50b20f(0x265)]=_0x553767?_0x553767[0x1]:null;}let _0x14d4b1=(0x0,_['isURL'])(_0x193dca[_0x50b20f(0x32d)])?_0x193dca[_0x50b20f(0x32d)]['split']('?')[0x0]:_0x193dca[_0x50b20f(0x32d)];this[_0x50b20f(0x256)]['verbose'](_0x50b20f(0x663)+_0x14d4b1);let _0x1a2b8e;_0x193dca['fileName']?_0x1a2b8e=(0x0,At['getMIMEType'])(_0x193dca[_0x50b20f(0x265)]):(0x0,_[_0x50b20f(0x70d)])(_0x193dca['media'])?_0x1a2b8e=(0x0,At[_0x50b20f(0x30e)])(_0x14d4b1):_0x1a2b8e=(0x0,At[_0x50b20f(0x30e)])(_0x193dca[_0x50b20f(0x32d)]);let _0x219d75=this[_0x50b20f(0x31b)][_0x50b20f(0x52b)]('TRIAL_AD'),_0x300ada=this[_0x50b20f(0x31b)][_0x50b20f(0x52b)]('TRIAL_INSTANCE_NAME');return _0x300ada&&this[_0x50b20f(0x780)][_0x50b20f(0x2fc)]()[_0x50b20f(0x619)](_0x300ada[_0x50b20f(0x2fc)]())&&(_0x193dca['caption']+='\x0a\x0a'+_0x219d75),_0x3d5d83[_0xe88ce4][_0x50b20f(0x5df)]=_0x193dca?.['caption'],_0x3d5d83[_0xe88ce4][_0x50b20f(0x6c8)]=_0x1a2b8e,_0x3d5d83[_0xe88ce4][_0x50b20f(0x265)]=_0x193dca[_0x50b20f(0x265)],_0x193dca[_0x50b20f(0x64a)]===_0x50b20f(0x6e0)&&(_0x3d5d83[_0xe88ce4][_0x50b20f(0x287)]=Uint8Array[_0x50b20f(0x272)]((0x0,Te[_0x50b20f(0x40f)])((0x0,$[_0x50b20f(0x226)])(process[_0x50b20f(0x468)](),_0x50b20f(0x5a8)))),_0x3d5d83[_0xe88ce4][_0x50b20f(0x78d)]=!0x1),(0x0,w[_0x50b20f(0x4ed)])('',{[_0xe88ce4]:{..._0x3d5d83[_0xe88ce4]}},{'userJid':this[_0x50b20f(0x4b7)][_0x50b20f(0x30d)]});}catch(_0x2035dc){throw this[_0x50b20f(0x256)][_0x50b20f(0x2e0)](this[_0x50b20f(0x780)]+'\x20('+this[_0x50b20f(0x4b7)][_0x50b20f(0x30d)]+_0x50b20f(0x24c)+JSON[_0x50b20f(0x296)](_0x2035dc,null,0x2)),new A(_0x2035dc?.[_0x50b20f(0x77f)]()||_0x2035dc);}}async['mediaMessage'](_0x3bbc24){const _0x20f79c=a0_0x556deb;let _0x26f891=await this[_0x20f79c(0x219)](_0x3bbc24[_0x20f79c(0x57a)]);return await this[_0x20f79c(0x357)](_0x3bbc24[_0x20f79c(0x33a)],{..._0x26f891[_0x20f79c(0x64b)]},_0x3bbc24?.[_0x20f79c(0x6bd)]);}async[a0_0x556deb(0x603)](_0x14105b,_0x5752b2){const _0x163216=a0_0x556deb;try{this['logger'][_0x163216(0x31f)]('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x403bc6,_0x2b160a=_0x5752b2+'-'+new Date()[_0x163216(0x474)]();this['logger'][_0x163216(0x31f)](_0x163216(0x4ea)+_0x2b160a);let _0x27e5a6=''+(0x0,$[_0x163216(0x226)])(this[_0x163216(0x25a)],_0x2b160a+_0x163216(0x295));if(this[_0x163216(0x256)][_0x163216(0x31f)]('Output\x20path:\x20'+_0x27e5a6),(0x0,_['isBase64'])(_0x14105b)){this['logger']['verbose'](_0x163216(0x3f3));let _0x49e299=_0x14105b[_0x163216(0x3f6)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x3fc853=Buffer[_0x163216(0x272)](_0x49e299,_0x163216(0x4bf));_0x403bc6=''+(0x0,$[_0x163216(0x226)])(this[_0x163216(0x25a)],_0x163216(0x451)+_0x2b160a+_0x163216(0x69f)),this['logger'][_0x163216(0x31f)](_0x163216(0x67a)+_0x403bc6),await(0x0,Ot[_0x163216(0x595)])(_0x3fc853)['toFile'](_0x403bc6),this[_0x163216(0x256)]['verbose']('Image\x20created');}else{this['logger'][_0x163216(0x31f)](_0x163216(0x1d8));let _0x4ab7bc=new Date()['getTime'](),_0x4c2cba=_0x14105b+'?timestamp='+_0x4ab7bc;this[_0x163216(0x256)][_0x163216(0x31f)](_0x163216(0x590)+_0x4c2cba);let _0x1141a9=await ce[_0x163216(0x595)][_0x163216(0x52b)](_0x4c2cba,{'responseType':_0x163216(0x25e)});this[_0x163216(0x256)]['verbose']('Getting\x20image\x20from\x20url');let _0x3750d8=Buffer[_0x163216(0x272)](_0x1141a9[_0x163216(0x2a7)],_0x163216(0x656));_0x403bc6=''+(0x0,$[_0x163216(0x226)])(this[_0x163216(0x25a)],_0x163216(0x451)+_0x2b160a+_0x163216(0x69f)),this[_0x163216(0x256)]['verbose'](_0x163216(0x67a)+_0x403bc6),await(0x0,Ot[_0x163216(0x595)])(_0x3750d8)[_0x163216(0x5b3)](_0x403bc6),this[_0x163216(0x256)][_0x163216(0x31f)](_0x163216(0x46a));}return await(0x0,Ot['default'])(_0x403bc6)[_0x163216(0x5b7)]()['toFile'](_0x27e5a6),this[_0x163216(0x256)][_0x163216(0x31f)](_0x163216(0x641)),P[_0x163216(0x4a8)](_0x403bc6),this[_0x163216(0x256)][_0x163216(0x31f)](_0x163216(0x245)),_0x27e5a6;}catch(_0x18ca3a){console[_0x163216(0x2e0)](_0x163216(0x397),JSON['stringify'](_0x18ca3a,null,0x2));}}async[a0_0x556deb(0x30f)](_0x57de58){const _0x19ed26=a0_0x556deb;let _0x32a517=await this[_0x19ed26(0x603)](_0x57de58['stickerMessage'][_0x19ed26(0x50e)],_0x57de58[_0x19ed26(0x33a)]),_0x3aa9db=await this['sendMessageWithTyping'](_0x57de58['number'],{'sticker':{'url':_0x32a517}},_0x57de58?.['options']);return P[_0x19ed26(0x4a8)](_0x32a517),this[_0x19ed26(0x256)][_0x19ed26(0x31f)]('Converted\x20image\x20deleted'),_0x3aa9db;}async[a0_0x556deb(0x6e9)](_0x114ee0){const _0x4cebc7=a0_0x556deb;if(this['logger']['verbose'](_0x4cebc7(0x37c)),!_0x114ee0[_0x4cebc7(0x6bd)]?.['encoding']&&_0x114ee0[_0x4cebc7(0x6bd)]?.[_0x4cebc7(0x79c)]!==!0x1&&(_0x114ee0[_0x4cebc7(0x6bd)][_0x4cebc7(0x79c)]=!0x0),_0x114ee0[_0x4cebc7(0x6bd)]?.['encoding']){let _0x48c99b=await this[_0x4cebc7(0x6f6)](_0x114ee0[_0x4cebc7(0x60b)][_0x4cebc7(0x3c4)]);if(typeof _0x48c99b==_0x4cebc7(0x20c)){let _0x3779ab=P[_0x4cebc7(0x40f)](_0x48c99b)[_0x4cebc7(0x77f)](_0x4cebc7(0x4bf)),_0x16459d=this[_0x4cebc7(0x357)](_0x114ee0[_0x4cebc7(0x33a)],{'audio':Buffer[_0x4cebc7(0x272)](_0x3779ab,_0x4cebc7(0x4bf)),'ptt':!0x0,'mimetype':_0x4cebc7(0x596)},{'presence':_0x4cebc7(0x48f),'delay':_0x114ee0?.['options']?.[_0x4cebc7(0x22f)]});return P[_0x4cebc7(0x4a8)](_0x48c99b),this['logger'][_0x4cebc7(0x31f)](_0x4cebc7(0x5ab)),_0x16459d;}else throw new A(_0x48c99b);}return await this[_0x4cebc7(0x357)](_0x114ee0[_0x4cebc7(0x33a)],{'audio':(0x0,_[_0x4cebc7(0x70d)])(_0x114ee0['audioMessage']['audio'])?{'url':_0x114ee0[_0x4cebc7(0x60b)][_0x4cebc7(0x3c4)]}:Buffer[_0x4cebc7(0x272)](_0x114ee0[_0x4cebc7(0x60b)][_0x4cebc7(0x3c4)],_0x4cebc7(0x4bf)),'ptt':!0x0,'mimetype':_0x4cebc7(0x753)},{'presence':'recording','delay':_0x114ee0?.[_0x4cebc7(0x6bd)]?.[_0x4cebc7(0x22f)]});}async[a0_0x556deb(0x6f6)](_0x6c8487){const _0x217456=a0_0x556deb;this[_0x217456(0x256)]['verbose'](_0x217456(0x1f4));let _0x389d3c,_0x4065f5,_0x3f0d15=(0x0,It['v4'])();if(this['logger'][_0x217456(0x31f)](_0x217456(0x28b)+_0x3f0d15),(0x0,_[_0x217456(0x70d)])(_0x6c8487)){this[_0x217456(0x256)][_0x217456(0x31f)]('Audio\x20is\x20url'),_0x4065f5=''+(0x0,$[_0x217456(0x226)])(this[_0x217456(0x25a)],_0x3f0d15+_0x217456(0x703)),_0x389d3c=''+(0x0,$['join'])(this[_0x217456(0x25a)],_0x217456(0x451)+_0x3f0d15+_0x217456(0x3ce)),this[_0x217456(0x256)][_0x217456(0x31f)]('Output\x20audio\x20path:\x20'+_0x4065f5),this[_0x217456(0x256)][_0x217456(0x31f)](_0x217456(0x5fe)+_0x389d3c);let _0x5d52ce=new Date()[_0x217456(0x474)](),_0x84043=_0x6c8487+'?timestamp='+_0x5d52ce;this[_0x217456(0x256)]['verbose'](_0x217456(0x20e)+_0x84043);let _0x4de3c0=await ce[_0x217456(0x595)][_0x217456(0x52b)](_0x84043,{'responseType':_0x217456(0x25e)});this[_0x217456(0x256)][_0x217456(0x31f)](_0x217456(0x6eb)),P[_0x217456(0x72b)](_0x389d3c,_0x4de3c0['data']);}else{this[_0x217456(0x256)][_0x217456(0x31f)](_0x217456(0x5b5)),_0x4065f5=''+(0x0,$['join'])(this['storePath'],_0x3f0d15+_0x217456(0x703)),_0x389d3c=''+(0x0,$[_0x217456(0x226)])(this['storePath'],_0x217456(0x451)+_0x3f0d15+_0x217456(0x3ce)),this['logger'][_0x217456(0x31f)](_0x217456(0x577)+_0x4065f5),this['logger']['verbose'](_0x217456(0x5fe)+_0x389d3c);let _0x100146=Buffer['from'](_0x6c8487,_0x217456(0x4bf));P[_0x217456(0x72b)](_0x389d3c,_0x100146),this[_0x217456(0x256)][_0x217456(0x31f)](_0x217456(0x5e5));}return this[_0x217456(0x256)][_0x217456(0x31f)](_0x217456(0x65a)),new Promise((_0x4b14db,_0x5f22ac)=>{const _0x5b30f8=_0x217456;(0x0,Dt[_0x5b30f8(0x4f2)])(Xa[_0x5b30f8(0x595)][_0x5b30f8(0x35c)]+_0x5b30f8(0x30b)+_0x389d3c+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x4065f5+_0x5b30f8(0x498),_0x5b73c8=>{const _0x58894c=_0x5b30f8;P[_0x58894c(0x4a8)](_0x389d3c),this['logger'][_0x58894c(0x31f)](_0x58894c(0x477)),_0x5b73c8&&_0x5f22ac(_0x5b73c8),this[_0x58894c(0x256)][_0x58894c(0x31f)](_0x58894c(0x6b2)),_0x4b14db(_0x4065f5);});});}async['buttonMessage'](_0x2d3668){const _0x96dc5f=a0_0x556deb;let _0x207f2a={},_0x5f1562='TEXT';if(_0x2d3668[_0x96dc5f(0x4d8)]?.[_0x96dc5f(0x57a)]){_0x5f1562=_0x2d3668[_0x96dc5f(0x4d8)][_0x96dc5f(0x57a)]?.[_0x96dc5f(0x64a)][_0x96dc5f(0x6bf)]()??_0x96dc5f(0x643),_0x207f2a[_0x96dc5f(0x541)]=_0x5f1562[_0x96dc5f(0x2fc)]()+_0x96dc5f(0x3a4);let _0xff9d6a=await this[_0x96dc5f(0x219)](_0x2d3668['buttonMessage'][_0x96dc5f(0x57a)]);_0x207f2a['message']=_0xff9d6a[_0x96dc5f(0x64b)][_0x207f2a[_0x96dc5f(0x541)]],_0x207f2a[_0x96dc5f(0x1cf)]='*'+_0x2d3668[_0x96dc5f(0x4d8)]['title']+_0x96dc5f(0x68d)+_0x2d3668['buttonMessage'][_0x96dc5f(0x765)];}let _0x4ac3a8={'text':_0x2d3668['buttonMessage']['buttons'][_0x96dc5f(0x608)](_0x43de30=>_0x43de30['buttonText']),'ids':_0x2d3668[_0x96dc5f(0x4d8)][_0x96dc5f(0x2bb)][_0x96dc5f(0x608)](_0x3c8754=>_0x3c8754['buttonId'])};if(!(0x0,_[_0x96dc5f(0x67f)])(_0x4ac3a8['text'])||!(0x0,_['arrayUnique'])(_0x4ac3a8[_0x96dc5f(0x31e)]))throw new g(_0x96dc5f(0x1fc),_0x96dc5f(0x74d));return await this['sendMessageWithTyping'](_0x2d3668[_0x96dc5f(0x33a)],{'buttonsMessage':{'text':_0x207f2a?.[_0x96dc5f(0x541)]?void 0x0:_0x2d3668[_0x96dc5f(0x4d8)][_0x96dc5f(0x369)],'contentText':_0x207f2a?.['contentText']??_0x2d3668[_0x96dc5f(0x4d8)][_0x96dc5f(0x765)],'footerText':_0x2d3668['buttonMessage']?.[_0x96dc5f(0x52d)],'buttons':_0x2d3668['buttonMessage']['buttons']['map'](_0x35e3e5=>({'buttonText':{'displayText':_0x35e3e5[_0x96dc5f(0x63d)]},'buttonId':_0x35e3e5[_0x96dc5f(0x300)],'type':0x1})),'headerType':w[_0x96dc5f(0x353)]['Message']['ButtonsMessage'][_0x96dc5f(0x23a)][_0x5f1562],[_0x207f2a?.['mediaKey']]:_0x207f2a?.[_0x96dc5f(0x64b)]}},_0x2d3668?.[_0x96dc5f(0x6bd)]);}async[a0_0x556deb(0x3e6)](_0x5943b3){const _0x3adfcb=a0_0x556deb;return await this['sendMessageWithTyping'](_0x5943b3[_0x3adfcb(0x33a)],{'locationMessage':{'degreesLatitude':_0x5943b3['locationMessage'][_0x3adfcb(0x50c)],'degreesLongitude':_0x5943b3[_0x3adfcb(0x3e6)][_0x3adfcb(0x230)],'name':_0x5943b3[_0x3adfcb(0x3e6)]?.[_0x3adfcb(0x750)],'address':_0x5943b3[_0x3adfcb(0x3e6)]?.[_0x3adfcb(0x39a)]}},_0x5943b3?.[_0x3adfcb(0x6bd)]);}async[a0_0x556deb(0x51c)](_0xa49318){const _0x5b7513=a0_0x556deb;return await this[_0x5b7513(0x357)](_0xa49318[_0x5b7513(0x33a)],{'listMessage':{'title':_0xa49318[_0x5b7513(0x51c)][_0x5b7513(0x369)],'description':_0xa49318[_0x5b7513(0x51c)]['description'],'buttonText':_0xa49318[_0x5b7513(0x51c)]?.[_0x5b7513(0x63d)],'footerText':_0xa49318[_0x5b7513(0x51c)]?.['footerText'],'sections':_0xa49318['listMessage']['sections'],'listType':0x1}},_0xa49318?.[_0x5b7513(0x6bd)]);}async['contactMessage'](_0x105c85){const _0x576c9c=a0_0x556deb;let _0x11ad04={},_0x2e3e3d=_0x4c253e=>{const _0x4a808c=a0_0x2d74;let _0x4d906e=_0x4a808c(0x2cf)+_0x4c253e[_0x4a808c(0x4ad)]+_0x4a808c(0x1e2)+_0x4c253e[_0x4a808c(0x4ad)]+'\x0a';_0x4c253e['organization']&&(_0x4d906e+=_0x4a808c(0x70a)+_0x4c253e[_0x4a808c(0x4af)]+';\x0a'),_0x4c253e[_0x4a808c(0x54a)]&&(_0x4d906e+='EMAIL:'+_0x4c253e['email']+'\x0a'),_0x4c253e['url']&&(_0x4d906e+=_0x4a808c(0x274)+_0x4c253e['url']+'\x0a');let _0x3b1834='';return _0x4c253e[_0x4a808c(0x44c)]&&_0x4c253e[_0x4a808c(0x44c)]['split']('|')[_0x4a808c(0x513)]((_0x93e1a3,_0x1a22a0)=>{const _0x44df07=_0x4a808c;let _0x3cd434=this[_0x44df07(0x1eb)](_0x93e1a3)[_0x44df07(0x3f6)]('@s.whatsapp.net','');_0x3b1834+=_0x44df07(0x5c7)+(_0x1a22a0+0x1)+_0x44df07(0x2e5)+_0x3cd434+':'+_0x93e1a3+_0x44df07(0x628)+(_0x1a22a0+0x1)+_0x44df07(0x5cb);}),_0x4d906e+=_0x3b1834+_0x4a808c(0x614),_0x4d906e;};return _0x105c85[_0x576c9c(0x68c)][_0x576c9c(0x72a)]===0x1?_0x11ad04['contactMessage']={'displayName':_0x105c85['contactMessage'][0x0]['fullName'],'vcard':_0x2e3e3d(_0x105c85[_0x576c9c(0x68c)][0x0])}:_0x11ad04[_0x576c9c(0x4a2)]={'displayName':_0x105c85[_0x576c9c(0x68c)][_0x576c9c(0x72a)]+_0x576c9c(0x3e1),'contacts':_0x105c85[_0x576c9c(0x68c)][_0x576c9c(0x608)](_0x422a89=>({'displayName':_0x422a89[_0x576c9c(0x4ad)],'vcard':_0x2e3e3d(_0x422a89)}))},await this[_0x576c9c(0x357)](_0x105c85['number'],{..._0x11ad04},_0x105c85?.[_0x576c9c(0x6bd)]);}async[a0_0x556deb(0x1e8)](_0x5e2676){const _0x53c4ab=a0_0x556deb;return await this['sendMessageWithTyping'](_0x5e2676['reactionMessage'][_0x53c4ab(0x66e)]['remoteJid'],{'reactionMessage':{'key':_0x5e2676[_0x53c4ab(0x1e8)][_0x53c4ab(0x66e)],'text':_0x5e2676['reactionMessage'][_0x53c4ab(0x236)]}});}async[a0_0x556deb(0x551)](_0x2e1951){const _0x548c7b=a0_0x556deb;let _0x2003ad=[];for await(let _0x3c27ac of _0x2e1951[_0x548c7b(0x458)]){let _0x20fd1f=this['createJid'](_0x3c27ac);if((0x0,w['isJidGroup'])(_0x20fd1f)){let _0x3beeaf=await this[_0x548c7b(0x3eb)]({'groupJid':_0x20fd1f},_0x548c7b(0x6b9));_0x2003ad['push'](new fe(_0x3beeaf[_0x548c7b(0x47e)]['id'],!!_0x3beeaf?.[_0x548c7b(0x47e)]['id'],_0x3beeaf?.['metadata']['subject']));}else try{let _0x5400c9=(await this['client'][_0x548c7b(0x72e)](_0x20fd1f))[0x0];_0x2003ad[_0x548c7b(0x73a)](new fe(_0x5400c9['jid'],_0x5400c9[_0x548c7b(0x598)]));}catch{_0x2003ad[_0x548c7b(0x73a)](new fe(_0x3c27ac,!0x1));}}return _0x2003ad;}async[a0_0x556deb(0x425)](_0x3c2e1c){const _0xe8cc8d=a0_0x556deb;try{let _0x1619e8=_0x3c2e1c[_0xe8cc8d(0x3a0)][_0xe8cc8d(0x298)](_0xbfcaff=>(0x0,w[_0xe8cc8d(0x401)])(_0xbfcaff['remoteJid'])||(0x0,w[_0xe8cc8d(0x2d0)])(_0xbfcaff['remoteJid']))['map'](_0x1f9531=>({'remoteJid':_0x1f9531[_0xe8cc8d(0x4a9)],'fromMe':_0x1f9531['fromMe'],'id':_0x1f9531['id']}));await this[_0xe8cc8d(0x75e)][_0xe8cc8d(0x3a0)](_0x1619e8);let _0x3846d1=_0x1619e8[_0xe8cc8d(0x608)](_0x3ca854=>this[_0xe8cc8d(0x3f5)](_0x3ca854,_0x3ca854['remoteJid'],{'status':_0xe8cc8d(0x661),'owner':this[_0xe8cc8d(0x4b7)][_0xe8cc8d(0x30d)]})),_0x3025b3=_0x1619e8[_0xe8cc8d(0x608)](_0x1ccebf=>this[_0xe8cc8d(0x3df)]['chat'][_0xe8cc8d(0x51f)]({'where':{'_id':_0x1ccebf[_0xe8cc8d(0x4a9)],'owner':this[_0xe8cc8d(0x4b7)]['wuid']}},{'unreadcount':0x0})),[_0x4f26f1,_0x4dc75b]=await Promise[_0xe8cc8d(0x25d)]([Promise[_0xe8cc8d(0x25d)](_0x3846d1),Promise[_0xe8cc8d(0x25d)](_0x3025b3)]);return _0x4dc75b[_0xe8cc8d(0x298)](_0x26cee9=>_0x26cee9!==null)[_0xe8cc8d(0x513)](_0x358df2=>{const _0x45438f=_0xe8cc8d;F(this[_0x45438f(0x780)],_0x45438f(0x2d6),{'chat':_0x358df2});}),{'message':_0xe8cc8d(0x4a3),'read':_0xe8cc8d(0x6d4)};}catch(_0x2245c4){throw console[_0xe8cc8d(0x2e0)]('Error\x20in\x20markMessageAsRead:',_0x2245c4),new A(_0xe8cc8d(0x1e4),_0x2245c4['toString']());}}async[a0_0x556deb(0x560)](_0x4fe909){const _0x28a9c4=a0_0x556deb;let _0x523fd0=await this[_0x28a9c4(0x200)]({'where':{'key':{'remoteJid':_0x4fe909},'owner':this[_0x28a9c4(0x4b7)]['name']}}),_0x20e8f1=_0x523fd0[_0x28a9c4(0x3be)]();for(let _0x45c979 of _0x523fd0)_0x45c979['messageTimestamp']>=_0x20e8f1['messageTimestamp']&&(_0x20e8f1=_0x45c979);return _0x20e8f1;}async[a0_0x556deb(0x1d1)](_0x4ee71b){const _0xb5b612=a0_0x556deb;this[_0xb5b612(0x256)][_0xb5b612(0x31f)](_0xb5b612(0x66d));try{let _0x17c877=_0x4ee71b[_0xb5b612(0x1db)],_0x2046cb=_0x4ee71b[_0xb5b612(0x1dd)];if(!_0x17c877&&_0x2046cb?_0x17c877=await this[_0xb5b612(0x560)](_0x2046cb):(_0x17c877=_0x4ee71b['lastMessage'],_0x17c877[_0xb5b612(0x54d)]=_0x17c877?.[_0xb5b612(0x54d)]??Date[_0xb5b612(0x23b)](),_0x2046cb=_0x17c877?.[_0xb5b612(0x66e)]?.[_0xb5b612(0x4a9)]),!_0x17c877||Object[_0xb5b612(0x561)](_0x17c877)[_0xb5b612(0x72a)]===0x0)throw new x(_0xb5b612(0x423));await this[_0xb5b612(0x75e)][_0xb5b612(0x50d)]({'archive':_0x4ee71b[_0xb5b612(0x5fd)],'lastMessages':[_0x17c877]},this[_0xb5b612(0x1eb)](_0x2046cb));let _0x5c8cd4=await this[_0xb5b612(0x3df)]['chat'][_0xb5b612(0x51f)]({'where':{'_id':_0x17c877?.[_0xb5b612(0x66e)]?.[_0xb5b612(0x4a9)],'owner':this[_0xb5b612(0x4b7)][_0xb5b612(0x30d)]}},{'archived':_0x4ee71b[_0xb5b612(0x5fd)]});return _0x5c8cd4&&F(this['instanceName'],_0xb5b612(0x2d6),{'chat':_0x5c8cd4}),{'chatId':_0x2046cb,'archived':_0x4ee71b[_0xb5b612(0x5fd)]};}catch(_0x5c0622){throw new A({'archived':!0x1,'message':[_0xb5b612(0x6d0),_0x5c0622[_0xb5b612(0x77f)]()]});}}async[a0_0x556deb(0x5b1)](_0xac5a){const _0x2b7f9c=a0_0x556deb;try{let _0x554bb2=await this[_0x2b7f9c(0x75e)]['sendMessage'](_0xac5a[_0x2b7f9c(0x4a9)],{'delete':_0xac5a});try{let _0x4ed7e4=await this['updateMessage'](_0xac5a,_0xac5a[_0x2b7f9c(0x4a9)],{'status':_0x2b7f9c(0x38f),'owner':this['instance'][_0x2b7f9c(0x30d)]});this[_0x2b7f9c(0x256)]['verbose'](this[_0x2b7f9c(0x780)]+'\x20('+this[_0x2b7f9c(0x4b7)]['wuid']+_0x2b7f9c(0x4dd)+_0x4ed7e4);}catch(_0x57069f){console[_0x2b7f9c(0x2e0)](_0x2b7f9c(0x31d),_0x57069f);}return _0x554bb2;}catch(_0x3efe16){throw new A(_0x2b7f9c(0x3b6),_0x3efe16?.[_0x2b7f9c(0x77f)]());}}async[a0_0x556deb(0x3d7)](_0x3206ef){const _0x4e2a26=a0_0x556deb;try{let _0x5a9955=_0x3206ef?.['message']?_0x3206ef:await this[_0x4e2a26(0x363)](_0x3206ef['key'],!0x0);for(let _0x4ac8f8 of Qs)_0x5a9955[_0x4e2a26(0x64b)][_0x4ac8f8]&&(_0x5a9955[_0x4e2a26(0x64b)]=_0x5a9955['message'][_0x4ac8f8][_0x4e2a26(0x64b)]);let _0x255ede,_0x5acc4f;for(let _0x1e290d of zs)if(_0x255ede=_0x5a9955[_0x4e2a26(0x64b)][_0x1e290d],_0x255ede){_0x5acc4f=_0x1e290d;break;}if(!_0x255ede)throw _0x4e2a26(0x65e);typeof _0x255ede['mediaKey']==_0x4e2a26(0x1ff)&&(_0x5a9955[_0x4e2a26(0x64b)]=JSON['parse'](JSON[_0x4e2a26(0x296)](_0x5a9955[_0x4e2a26(0x64b)])));let _0x3e185e=await(0x0,w[_0x4e2a26(0x59f)])({'key':_0x5a9955?.[_0x4e2a26(0x66e)],'message':_0x5a9955?.[_0x4e2a26(0x64b)]},_0x4e2a26(0x5b6),{},{'logger':(0x0,Mt[_0x4e2a26(0x595)])({'level':_0x4e2a26(0x2e0)}),'reuploadRequest':this['client'][_0x4e2a26(0x5f2)]});if(!(_0x3e185e instanceof Buffer))throw new Error(_0x4e2a26(0x260));let _0xe24f19=this[_0x4e2a26(0x31b)][_0x4e2a26(0x52b)](_0x4e2a26(0x621)),_0x275962,_0x5bbca7;if(_0x255ede[_0x4e2a26(0x265)])_0x275962=_0x255ede['fileName'];else{let _0x588d39=_0x255ede['mimetype']?.[_0x4e2a26(0x249)](/\/(\w+)/),_0x3ac69e=_0x588d39?_0x588d39[0x1]:null;if(!_0x3ac69e)throw new Error(_0x4e2a26(0x2fb));_0x275962=(0x0,It['v4'])()+'.'+_0x3ac69e;}_0x5acc4f===_0x4e2a26(0x60b)&&_0x255ede['mimetype']===_0x4e2a26(0x5f3)?(_0x275962=(0x0,It['v4'])()+_0x4e2a26(0x1f9),_0x5bbca7=_0x4e2a26(0x746)+await this[_0x4e2a26(0x6f6)](_0x3e185e[_0x4e2a26(0x77f)](_0x4e2a26(0x4bf)))):(await this[_0x4e2a26(0x41c)](_0x3e185e,_0x275962),_0x5bbca7=_0x4e2a26(0x746)+_0x275962);let _0x1dabcf=this[_0x4e2a26(0x31b)][_0x4e2a26(0x52b)]('SSL_CONF'),_0x23cd26=this['configService'][_0x4e2a26(0x52b)](_0x4e2a26(0x4f9))[_0x4e2a26(0x3de)],_0x166b02=_0x1dabcf&&_0x1dabcf['FULLCHAIN']['split']('/')[0x4];_0x23cd26===0x1bb&&(_0x5bbca7=''+('https://'+_0x166b02)+_0x5bbca7);let _0x46b35c=0xc*0x3c*0x3c*0x3e8,_0x2659ac={'where':{'_id':_0x5a9955[_0x4e2a26(0x66e)]['id'],'owner':this[_0x4e2a26(0x4b7)][_0x4e2a26(0x30d)]}};_0x5a9955[_0x4e2a26(0x66e)][_0x4e2a26(0x4a9)][_0x4e2a26(0x740)](_0x4e2a26(0x2f5))&&(_0x2659ac[_0x4e2a26(0x270)][_0x4e2a26(0x66e)][_0x4e2a26(0x464)]=_0x5a9955[_0x4e2a26(0x66e)]['participant']);let _0x572ed9={'message_normalized.fileUrl':_0x5bbca7,'message_normalized.expires_fileUrl':Date[_0x4e2a26(0x23b)]()+_0x46b35c};try{let _0x572dd6=await this[_0x4e2a26(0x3df)]['message'][_0x4e2a26(0x241)](_0x2659ac,_0x572ed9);_0x572dd6&&F(this['instanceName'],_0x4e2a26(0x2b8),{'message':_0x572dd6});}catch{}return{'mediaType':_0x5acc4f,'fileName':_0x255ede['fileName'],'caption':_0x255ede[_0x4e2a26(0x5df)],'size':{'fileLength':_0x255ede[_0x4e2a26(0x6d8)],'height':_0x255ede[_0x4e2a26(0x536)],'width':_0x255ede['width']},'mimetype':_0x255ede[_0x4e2a26(0x6c8)],'base64':_0x3e185e['toString'](_0x4e2a26(0x4bf)),'fileUrl':_0x5bbca7,'expires_fileUrl':Date[_0x4e2a26(0x23b)]()+_0x46b35c};}catch(_0x44cea8){throw this[_0x4e2a26(0x256)]['error'](this['instanceName']+'\x20('+this[_0x4e2a26(0x4b7)][_0x4e2a26(0x30d)]+'):\x20'+JSON[_0x4e2a26(0x296)](_0x44cea8,null,0x2)),new g(_0x44cea8[_0x4e2a26(0x77f)]());}}async[a0_0x556deb(0x41c)](_0x197859,_0x25e190){const _0x43dbfa=a0_0x556deb;console['log'](_0x43dbfa(0x46b),__dirname),console['log'](_0x43dbfa(0x3a5),_0x25e190);let _0x23004a=$[_0x43dbfa(0x595)][_0x43dbfa(0x226)](__dirname,_0x43dbfa(0x5d5));console[_0x43dbfa(0x340)](_0x43dbfa(0x581),_0x23004a),P[_0x43dbfa(0x40b)](_0x23004a)||(this['logger'][_0x43dbfa(0x340)](_0x43dbfa(0x6d5)),P[_0x43dbfa(0x68f)](_0x23004a,{'recursive':!0x0}));let _0x34efb3=$[_0x43dbfa(0x595)]['join'](_0x23004a,_0x25e190);return console['log'](_0x43dbfa(0x607),_0x34efb3),new Promise((_0x1beb93,_0x41f980)=>{const _0x1d4387=_0x43dbfa;P[_0x1d4387(0x777)](_0x34efb3,_0x197859,_0x55ccfd=>{const _0x1ecfae=_0x1d4387;_0x55ccfd?(this[_0x1ecfae(0x256)][_0x1ecfae(0x2e0)](_0x1ecfae(0x763)+JSON[_0x1ecfae(0x296)](_0x55ccfd,null,0x2)),_0x41f980(_0x55ccfd)):(this[_0x1ecfae(0x256)][_0x1ecfae(0x340)](_0x1ecfae(0x4f6)+_0x34efb3),_0x1beb93(_0x34efb3));});});}async[a0_0x556deb(0x47c)](_0x47d3ee){const _0x2c33a7=a0_0x556deb;return _0x47d3ee?.[_0x2c33a7(0x270)]?_0x47d3ee[_0x2c33a7(0x270)][_0x2c33a7(0x698)]=this[_0x2c33a7(0x4b7)][_0x2c33a7(0x30d)]:_0x47d3ee={'where':{'owner':this['instance'][_0x2c33a7(0x30d)]}},await this['repository'][_0x2c33a7(0x4f1)][_0x2c33a7(0x33f)](_0x47d3ee);}async[a0_0x556deb(0x200)](_0x388089){const _0x2ce3cc=a0_0x556deb;return _0x388089?.[_0x2ce3cc(0x270)]?_0x388089['where'][_0x2ce3cc(0x698)]=this['instance'][_0x2ce3cc(0x30d)]:_0x388089={'where':{'owner':this[_0x2ce3cc(0x4b7)][_0x2ce3cc(0x30d)]},'limit':_0x388089?.[_0x2ce3cc(0x6ef)]},await this['repository']['message'][_0x2ce3cc(0x33f)](_0x388089);}async[a0_0x556deb(0x26a)](){const _0x5da01b=a0_0x556deb;let _0x37a8f4=[{'query':{'where':{'owner':this[_0x5da01b(0x4b7)][_0x5da01b(0x30d)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this['instance'][_0x5da01b(0x30d)],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this[_0x5da01b(0x3df)][_0x5da01b(0x1dd)][_0x5da01b(0x673)](_0x37a8f4),await this[_0x5da01b(0x3df)][_0x5da01b(0x1dd)][_0x5da01b(0x33f)]({'where':{'owner':this['instance'][_0x5da01b(0x30d)]}});}async[a0_0x556deb(0x5a5)](){const _0x5c6893=a0_0x556deb;return await this[_0x5c6893(0x75e)][_0x5c6893(0x5a5)]();}async[a0_0x556deb(0x76f)](_0x3b255d){const _0x6d750d=a0_0x556deb;try{return await this[_0x6d750d(0x75e)][_0x6d750d(0x210)](_0x3b255d[_0x6d750d(0x4aa)][_0x6d750d(0x4a4)]),await this[_0x6d750d(0x75e)][_0x6d750d(0x216)](_0x3b255d[_0x6d750d(0x4aa)][_0x6d750d(0x547)]),await this[_0x6d750d(0x75e)][_0x6d750d(0x2f1)](_0x3b255d[_0x6d750d(0x4aa)][_0x6d750d(0x65f)]),await this['client']['updateOnlinePrivacy'](_0x3b255d[_0x6d750d(0x4aa)][_0x6d750d(0x2dd)]),await this[_0x6d750d(0x75e)][_0x6d750d(0x246)](_0x3b255d['privacySettings']['last']),await this['client'][_0x6d750d(0x6c2)](_0x3b255d[_0x6d750d(0x4aa)][_0x6d750d(0x6be)]),this['client']?.['ws']?.['close'](),{'update':'success','data':{'readreceipts':_0x3b255d[_0x6d750d(0x4aa)][_0x6d750d(0x4a4)],'profile':_0x3b255d[_0x6d750d(0x4aa)][_0x6d750d(0x547)],'status':_0x3b255d[_0x6d750d(0x4aa)][_0x6d750d(0x65f)],'online':_0x3b255d[_0x6d750d(0x4aa)][_0x6d750d(0x2dd)],'last':_0x3b255d[_0x6d750d(0x4aa)]['last'],'groupadd':_0x3b255d['privacySettings']['groupadd']}};}catch(_0x1ea0f0){throw new A('Error\x20updating\x20privacy\x20settings',_0x1ea0f0[_0x6d750d(0x77f)]());}}async[a0_0x556deb(0x291)](_0x5e7fbf){const _0x1f9c7e=a0_0x556deb;let _0x21ef79=_0x5e7fbf?this[_0x1f9c7e(0x1eb)](_0x5e7fbf):this[_0x1f9c7e(0x75e)]?.[_0x1f9c7e(0x4ce)]?.['id'];this[_0x1f9c7e(0x256)][_0x1f9c7e(0x31f)]('Getting\x20profile\x20with\x20jid:\x20'+_0x21ef79);try{if(this[_0x1f9c7e(0x256)][_0x1f9c7e(0x31f)](_0x1f9c7e(0x294)),_0x5e7fbf){let _0x1d2f15=(await this['whatsappNumber']({'numbers':[_0x21ef79]}))?.[_0x1f9c7e(0x308)](),_0x411a1a=await this[_0x1f9c7e(0x21a)](_0x1d2f15?.[_0x1f9c7e(0x2c7)]),_0x4c959f=await this['getStatus'](_0x1d2f15?.[_0x1f9c7e(0x2c7)]),_0x23661f=await this[_0x1f9c7e(0x709)](_0x1d2f15?.[_0x1f9c7e(0x2c7)]);return{'wuid':_0x1d2f15?.[_0x1f9c7e(0x2c7)]||_0x21ef79,'name':_0x1d2f15?.['name'],'numberExists':_0x1d2f15?.[_0x1f9c7e(0x598)],'picture':_0x411a1a?.['profilePictureUrl'],'status':_0x4c959f?.[_0x1f9c7e(0x65f)],'isBusiness':_0x23661f[_0x1f9c7e(0x6f0)],'email':_0x23661f?.['email'],'description':_0x23661f?.[_0x1f9c7e(0x765)],'website':_0x23661f?.[_0x1f9c7e(0x503)]?.[_0x1f9c7e(0x308)]()};}}catch{return this[_0x1f9c7e(0x256)][_0x1f9c7e(0x31f)]('Profile\x20not\x20found'),{'wuid':_0x21ef79,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x556deb(0x75f)](_0x2bef2a){const _0x4fe8e2=a0_0x556deb;let _0x573772=(_0x2bef2a?this['createJid'](_0x2bef2a):this[_0x4fe8e2(0x75e)]?.[_0x4fe8e2(0x4ce)]?.['id'])[_0x4fe8e2(0x3f6)](/:\d{1,2}@/g,'@');this['logger'][_0x4fe8e2(0x31f)](_0x4fe8e2(0x588)+_0x573772);let _0x21e949=await this['repository'][_0x4fe8e2(0x4f1)]['findOne']({'where':{'_id':_0x573772,'owner':this[_0x4fe8e2(0x4b7)][_0x4fe8e2(0x30d)]}}),_0x12d840=_0x21e949?_0x21e949['pushName']:null;try{let _0x51bb59=(await this[_0x4fe8e2(0x551)]({'numbers':[_0x573772]}))?.['shift'](),_0x243256=await this['profilePicture'](_0x51bb59?.[_0x4fe8e2(0x2c7)]),_0xc30a73=await this[_0x4fe8e2(0x569)](_0x51bb59?.[_0x4fe8e2(0x2c7)]),_0x3bc37c=await this[_0x4fe8e2(0x709)](_0x51bb59?.[_0x4fe8e2(0x2c7)]),_0x2577dc={'imagechat':_0x243256?.[_0x4fe8e2(0x620)],'contactname':_0x12d840||null,'status':_0xc30a73?.[_0x4fe8e2(0x65f)],'isBusiness':_0x3bc37c['isBusiness'],'email':_0x3bc37c?.[_0x4fe8e2(0x54a)],'description':_0x3bc37c?.[_0x4fe8e2(0x765)],'website':_0x3bc37c?.['website']?.[_0x4fe8e2(0x308)](),'lastcache':Date[_0x4fe8e2(0x23b)]()},_0xa7c800=await this[_0x4fe8e2(0x3df)]['chat'][_0x4fe8e2(0x51f)]({'where':{'_id':_0x573772,'owner':this[_0x4fe8e2(0x4b7)][_0x4fe8e2(0x30d)]}},_0x2577dc),_0xaa89c7={'owner':this[_0x4fe8e2(0x4b7)][_0x4fe8e2(0x30d)],'_id':_0x573772,'profilePictureUrl':_0x243256?.[_0x4fe8e2(0x620)],'status':_0xc30a73?.[_0x4fe8e2(0x65f)]};return this[_0x4fe8e2(0x3df)][_0x4fe8e2(0x4f1)][_0x4fe8e2(0x241)]([_0xaa89c7],this['instance'][_0x4fe8e2(0x30d)]),_0xa7c800&&F(this[_0x4fe8e2(0x780)],'chats',{'chat':_0xa7c800}),{'wuid':_0x51bb59?.['jid']||_0x573772,'name':_0x51bb59?.['name'],'numberExists':_0x51bb59?.[_0x4fe8e2(0x598)],'picture':_0x243256?.['profilePictureUrl'],'status':_0xc30a73?.['status'],'isBusiness':_0x3bc37c['isBusiness'],'email':_0x3bc37c?.[_0x4fe8e2(0x54a)],'description':_0x3bc37c?.[_0x4fe8e2(0x765)],'website':_0x3bc37c?.['website']?.[_0x4fe8e2(0x308)]()};}catch(_0x4d1949){return this[_0x4fe8e2(0x256)][_0x4fe8e2(0x2e0)](_0x4fe8e2(0x5f6)+JSON['stringify'](_0x4d1949,null,0x2)),{};}}async['fetchBusinessProfile'](_0x5b90ae){const _0x10761c=a0_0x556deb;this[_0x10761c(0x256)][_0x10761c(0x31f)](_0x10761c(0x556));try{let _0x121a49=_0x5b90ae?this[_0x10761c(0x1eb)](_0x5b90ae):this[_0x10761c(0x4b7)][_0x10761c(0x30d)],_0x361bb1=await this['client']['getBusinessProfile'](_0x121a49);return this[_0x10761c(0x256)][_0x10761c(0x31f)]('Trying\x20to\x20get\x20business\x20profile'),_0x361bb1?(this['logger'][_0x10761c(0x31f)](_0x10761c(0x5f1)),{'isBusiness':!0x0,..._0x361bb1}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x10761c(0x551)]({'numbers':[_0x121a49]}))?.[_0x10761c(0x308)]()};}catch(_0x226bc2){throw new A(_0x10761c(0x42d),_0x226bc2[_0x10761c(0x77f)]());}}async[a0_0x556deb(0x569)](_0x5098c7){const _0x50647b=a0_0x556deb;let _0x346004=this[_0x50647b(0x1eb)](_0x5098c7);try{return{'wuid':_0x346004,'status':(await this[_0x50647b(0x75e)][_0x50647b(0x62d)](_0x346004))?.[_0x50647b(0x65f)]};}catch{return{'wuid':_0x346004,'status':null};}}async[a0_0x556deb(0x2da)](_0x15a402){const _0x28ee7d=a0_0x556deb;try{return await this['client'][_0x28ee7d(0x2da)](_0x15a402),{'update':'success'};}catch(_0x34769e){throw new A('Error\x20updating\x20profile\x20name',_0x34769e[_0x28ee7d(0x77f)]());}}async['updateProfileStatus'](_0x208bdf){const _0x41badd=a0_0x556deb;try{return await this[_0x41badd(0x75e)][_0x41badd(0x5a3)](_0x208bdf),{'update':_0x41badd(0x6d4)};}catch(_0x57f5d7){throw new A(_0x41badd(0x708),_0x57f5d7[_0x41badd(0x77f)]());}}async[a0_0x556deb(0x24d)](_0x3ae21a){const _0x47b6d9=a0_0x556deb;try{let _0x2943a5;if((0x0,_[_0x47b6d9(0x70d)])(_0x3ae21a)){let _0x2254cb=new Date()['getTime'](),_0x1139ae=_0x3ae21a+_0x47b6d9(0x4bc)+_0x2254cb;_0x2943a5=(await ce[_0x47b6d9(0x595)][_0x47b6d9(0x52b)](_0x1139ae,{'responseType':_0x47b6d9(0x25e)}))[_0x47b6d9(0x2a7)];}else{if((0x0,_[_0x47b6d9(0x56c)])(_0x3ae21a))_0x2943a5=Buffer[_0x47b6d9(0x272)](_0x3ae21a,_0x47b6d9(0x4bf));else throw new g('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x47b6d9(0x75e)]['updateProfilePicture'](this[_0x47b6d9(0x4b7)][_0x47b6d9(0x30d)],_0x2943a5),{'update':_0x47b6d9(0x6d4)};}catch(_0x1d1644){throw new A(_0x47b6d9(0x337),_0x1d1644[_0x47b6d9(0x77f)]());}}async['removeProfilePicture'](){const _0x13f94c=a0_0x556deb;try{return await this['client'][_0x13f94c(0x449)](this[_0x13f94c(0x4b7)][_0x13f94c(0x30d)]),{'update':_0x13f94c(0x6d4)};}catch(_0x58a836){throw new A(_0x13f94c(0x3ac),_0x58a836['toString']());}}async[a0_0x556deb(0x6c1)](_0x180200){const _0x5a5aac=a0_0x556deb;try{let _0x1780ec=_0x180200[_0x5a5aac(0x5aa)][_0x5a5aac(0x608)](_0x460e97=>this[_0x5a5aac(0x1eb)](_0x460e97)),{id:_0x479e5b}=await this[_0x5a5aac(0x75e)][_0x5a5aac(0x459)](_0x180200[_0x5a5aac(0x5c4)],_0x1780ec);return _0x180200?.[_0x5a5aac(0x765)]&&await this[_0x5a5aac(0x75e)][_0x5a5aac(0x61c)](_0x479e5b,_0x180200[_0x5a5aac(0x765)]),{'metadata':await this['client'][_0x5a5aac(0x62b)](_0x479e5b)};}catch(_0x16584d){throw this[_0x5a5aac(0x256)][_0x5a5aac(0x2e0)](this['instanceName']+'\x20('+this[_0x5a5aac(0x4b7)][_0x5a5aac(0x30d)]+'):\x20'+JSON[_0x5a5aac(0x296)](_0x16584d,null,0x2)),new A(_0x5a5aac(0x605),_0x16584d[_0x5a5aac(0x77f)]());}}async['updateGroupPicture'](_0x58f01a){const _0x17f126=a0_0x556deb;try{let _0x56366c;if((0x0,_['isURL'])(_0x58f01a[_0x17f126(0x50e)])){let _0x1d5fec=new Date()[_0x17f126(0x474)](),_0x10e0f5=_0x58f01a['image']+_0x17f126(0x4bc)+_0x1d5fec;_0x56366c=(await ce['default'][_0x17f126(0x52b)](_0x10e0f5,{'responseType':_0x17f126(0x25e)}))[_0x17f126(0x2a7)];}else{if((0x0,_['isBase64'])(_0x58f01a[_0x17f126(0x50e)]))_0x56366c=Buffer[_0x17f126(0x272)](_0x58f01a['image'],_0x17f126(0x4bf));else throw new g(_0x17f126(0x463));}return await this['client'][_0x17f126(0x24d)](_0x58f01a['groupJid'],_0x56366c),{'update':_0x17f126(0x6d4)};}catch(_0x4d6238){throw new A(_0x17f126(0x5ee),_0x4d6238[_0x17f126(0x77f)]());}}async[a0_0x556deb(0x3eb)](_0x5109e3,_0x3df6b5=a0_0x556deb(0x21c)){const _0x3ba66c=a0_0x556deb;try{let _0x4ee04a=await this[_0x3ba66c(0x75e)]['groupMetadata'](_0x5109e3[_0x3ba66c(0x4a7)]),_0x451c02=null;try{_0x451c02=(await this['profilePicture'](_0x5109e3[_0x3ba66c(0x4a7)]))[_0x3ba66c(0x620)];}catch(_0x15230a){this['logger']['verbose'](this[_0x3ba66c(0x780)]+'\x20('+this['instance'][_0x3ba66c(0x30d)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x5109e3[_0x3ba66c(0x4a7)]+':\x20'+JSON[_0x3ba66c(0x296)](_0x15230a,null,0x2));}let _0x8c7539=await this[_0x3ba66c(0x3df)][_0x3ba66c(0x1dd)][_0x3ba66c(0x51f)]({'where':{'_id':_0x5109e3['groupJid'],'owner':this['instance'][_0x3ba66c(0x30d)]}},{'imagechat':_0x451c02,'name':_0x4ee04a[_0x3ba66c(0x5c4)],'group_size':_0x4ee04a[_0x3ba66c(0x696)],'group_announce':_0x4ee04a['announce'],'lastcache':Date['now']()});return _0x8c7539&&F(this[_0x3ba66c(0x780)],_0x3ba66c(0x2d6),{'chat':_0x8c7539}),{'metadata':_0x4ee04a,'image':_0x451c02};}catch(_0x48dc63){if(_0x3df6b5===_0x3ba66c(0x6b9))return;throw new x(_0x3ba66c(0x2a4),_0x48dc63[_0x3ba66c(0x77f)]());}}async[a0_0x556deb(0x681)](_0x2e2fd5){const _0xb15569=a0_0x556deb;try{return await this[_0xb15569(0x75e)][_0xb15569(0x61c)](_0x2e2fd5[_0xb15569(0x4a7)],_0x2e2fd5[_0xb15569(0x765)]),{'update':_0xb15569(0x6d4)};}catch(_0x6343e7){throw new A('Error\x20change\x20group\x20description',_0x6343e7['toString']());}}async[a0_0x556deb(0x3ba)](_0x58d350){const _0x133537=a0_0x556deb;try{return await this[_0x133537(0x75e)][_0x133537(0x508)](_0x58d350[_0x133537(0x4a7)],_0x58d350['name']),{'update':_0x133537(0x6d4)};}catch(_0x5303ba){throw new A(_0x133537(0x4eb),_0x5303ba[_0x133537(0x77f)]());}}async[a0_0x556deb(0x494)](_0x7043d2){const _0x1d2699=a0_0x556deb;try{return await this[_0x1d2699(0x75e)]['groupSettingUpdate'](_0x7043d2[_0x1d2699(0x4a7)],_0x7043d2[_0x1d2699(0x4b0)]),{'update':_0x1d2699(0x6d4)};}catch(_0x151da9){throw new A(_0x1d2699(0x6b5),_0x151da9[_0x1d2699(0x77f)]());}}async[a0_0x556deb(0x400)](){const _0x33442f=a0_0x556deb;try{let _0x2dd3de=[],_0x6fa87d=await this[_0x33442f(0x75e)]['groupFetchAllParticipating'](),_0x356411=Object[_0x33442f(0x742)](_0x6fa87d),_0x5a0287=_0x356411[_0x33442f(0x298)](_0x67d717=>(0x0,w[_0x33442f(0x401)])(_0x67d717?.['id']))[_0x33442f(0x608)](async _0x4525e8=>{const _0x266078=_0x33442f;try{return await this['client'][_0x266078(0x620)](_0x4525e8['id'],_0x266078(0x751));}catch(_0x1d1c6b){return this[_0x266078(0x256)][_0x266078(0x31f)](this[_0x266078(0x780)]+'\x20('+this['instance']['wuid']+_0x266078(0x2e7)+_0x4525e8['id']+':\x20'+JSON[_0x266078(0x296)](_0x1d1c6b,null,0x2)),null;}}),_0x5e3e02=await Promise[_0x33442f(0x25d)](_0x5a0287);for(let _0x13a442=0x0;_0x13a442<_0x356411['length'];_0x13a442++){let _0x39ca2c=_0x356411[_0x13a442];(0x0,w[_0x33442f(0x401)])(_0x39ca2c?.['id'])&&_0x2dd3de[_0x33442f(0x73a)]({'groupJid':_0x39ca2c?.['id'],'subject':_0x39ca2c?.[_0x33442f(0x5c4)],'subjectOwner':_0x39ca2c?.[_0x33442f(0x5d3)]?.['split']('@')[0x0],'subjectTime':_0x39ca2c?.[_0x33442f(0x443)],'size':_0x39ca2c?.['participants']?.[_0x33442f(0x72a)],'owner':_0x39ca2c?.[_0x33442f(0x698)]?.['split']('@')[0x0],'creation':_0x39ca2c?.[_0x33442f(0x3d8)],'desc':_0x39ca2c?.[_0x33442f(0x606)],'restrict':_0x39ca2c?.[_0x33442f(0x44b)],'announce':_0x39ca2c?.[_0x33442f(0x436)],'image':_0x5e3e02[_0x13a442]});}return _0x2dd3de;}catch(_0x52d76b){throw new x(_0x33442f(0x2a4),_0x52d76b['toString']());}}async[a0_0x556deb(0x2f8)](_0x33d1c9){const _0x5bcbdb=a0_0x556deb;try{let _0x268fc5=await this[_0x5bcbdb(0x75e)][_0x5bcbdb(0x304)](_0x33d1c9[_0x5bcbdb(0x4a7)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x268fc5,'inviteCode':_0x268fc5};}catch(_0x4e3d76){throw new x('No\x20invite\x20code',_0x4e3d76[_0x5bcbdb(0x77f)]());}}async[a0_0x556deb(0x77d)](_0x3f0358){const _0x944ddf=a0_0x556deb;try{let _0x2bad2e=await this[_0x944ddf(0x75e)][_0x944ddf(0x3a1)](_0x3f0358[_0x944ddf(0x4a7)]);return{'revoked':!0x0,'inviteUrl':_0x944ddf(0x3a8)+_0x2bad2e,'inviteCode':_0x2bad2e};}catch(_0x71b448){throw new x('Revoke\x20error',_0x71b448[_0x944ddf(0x77f)]());}}async[a0_0x556deb(0x69d)](_0x24611e){const _0x5c669b=a0_0x556deb;try{if((0x0,_['isURL'])(_0x24611e['inviteCode']))var _0x57a37d=_0x24611e[_0x5c669b(0x2f8)][_0x5c669b(0x23e)]('/')[0x3];else var _0x57a37d=_0x24611e[_0x5c669b(0x2f8)];let _0x1afb20=await this[_0x5c669b(0x75e)][_0x5c669b(0x40d)](_0x57a37d);return this[_0x5c669b(0x256)][_0x5c669b(0x31f)](this['instanceName']+'\x20('+this[_0x5c669b(0x4b7)][_0x5c669b(0x30d)]+'):\x20'+_0x1afb20),{'join':!0x0,'inviteCode':_0x57a37d,'groupJid':_0x1afb20};}catch(_0xeba082){throw new x(_0x5c669b(0x664),_0xeba082[_0x5c669b(0x77f)]());}}async[a0_0x556deb(0x79d)](_0x1aeff9){const _0x18b6ec=a0_0x556deb;try{return{'participants':(await this['client'][_0x18b6ec(0x62b)](_0x1aeff9[_0x18b6ec(0x4a7)]))['participants']};}catch(_0x22b21c){throw new x(_0x18b6ec(0x58e),_0x22b21c[_0x18b6ec(0x77f)]());}}async['updateGParticipant'](_0x2095e4){const _0x158fc0=a0_0x556deb;try{let _0x491407=_0x2095e4[_0x158fc0(0x5aa)]['map'](_0x23b57e=>this[_0x158fc0(0x1eb)](_0x23b57e));return{'updateParticipants':await this[_0x158fc0(0x75e)][_0x158fc0(0x223)](_0x2095e4[_0x158fc0(0x4a7)],_0x491407,_0x2095e4[_0x158fc0(0x6b3)])};}catch(_0x432682){throw new g('Error\x20updating\x20participants',_0x432682['toString']());}}async[a0_0x556deb(0x3b5)](_0x132cf4){const _0x4829c6=a0_0x556deb;try{let _0xe13a52=await this[_0x4829c6(0x75e)][_0x4829c6(0x27b)](_0x132cf4[_0x4829c6(0x4a7)],_0x132cf4[_0x4829c6(0x3b7)]);return{'success':!0x0};}catch(_0x14c008){throw new g('Error\x20updating\x20setting',_0x14c008['toString']());}}async['leaveGroup'](_0x825b80){const _0x285b40=a0_0x556deb;try{return await this[_0x285b40(0x75e)]['groupLeave'](_0x825b80[_0x285b40(0x4a7)]),{'groupJid':_0x825b80[_0x285b40(0x4a7)],'leave':!0x0};}catch(_0x4a45f9){throw new g(_0x285b40(0x2ba),_0x4a45f9[_0x285b40(0x77f)]());}}async[a0_0x556deb(0x4e9)](_0x197a2d){const _0xa0306=a0_0x556deb;return await this['sendMessageWithTyping'](_0x197a2d['number'],{'poll':{'name':_0x197a2d[_0xa0306(0x4e9)]?.['name'],'selectableCount':_0x197a2d[_0xa0306(0x4e9)][_0xa0306(0x203)],'values':_0x197a2d[_0xa0306(0x4e9)][_0xa0306(0x742)]}},_0x197a2d?.[_0xa0306(0x6bd)]);}async['updateMessage'](_0x578661,_0x3561a3,_0x3c843a){const _0x4cc1dd=a0_0x556deb;if(await this[_0x4cc1dd(0x363)](_0x578661,!0x0)){let _0x11bcd6={'where':{'_id':_0x578661['id'],'owner':this[_0x4cc1dd(0x4b7)]['wuid']}},_0x51d473={'status':[_0x3c843a[_0x4cc1dd(0x65f)]][0x0]};try{let _0x42eade=await this[_0x4cc1dd(0x3df)][_0x4cc1dd(0x64b)]['update'](_0x11bcd6,_0x51d473);_0x42eade&&F(this['instanceName'],_0x4cc1dd(0x2b8),{'message':_0x42eade});}catch{}}}[a0_0x556deb(0x70c)](_0x28840b){const _0x312734=a0_0x556deb;let _0x4a3f84=_0x28840b[_0x312734(0x3f6)](/\\n/g,'\x0a')[_0x312734(0x23e)]('\x0a')[_0x312734(0x298)](_0x2a8271=>_0x2a8271[_0x312734(0x619)](_0x312734(0x3fb))||_0x2a8271[_0x312734(0x619)](_0x312734(0x5d1))),_0x4a1fb4='';return _0x4a3f84['forEach'](_0x49c46a=>{const _0x58eb3a=_0x312734;let _0x252352=/TEL(?:.*):(.+)/,_0x371997=/EMAIL(?:.*):(.+)/,_0x30ecb4=_0x49c46a[_0x58eb3a(0x249)](_0x252352),_0x2f8566=_0x49c46a[_0x58eb3a(0x249)](_0x371997);if(_0x30ecb4){let _0x1dbbb8=_0x30ecb4[0x1][_0x58eb3a(0x3f6)](/-| |\+|\(|\)/g,'')[_0x58eb3a(0x419)]();_0x4a1fb4+=_0x58eb3a(0x2aa)+_0x1dbbb8+'\x0a';}else{if(_0x2f8566){let _0x122fc8=_0x2f8566[0x1][_0x58eb3a(0x419)]();_0x4a1fb4+='E-mail:\x20'+_0x122fc8+'\x0a';}}}),_0x4a1fb4[_0x312734(0x419)]();}async[a0_0x556deb(0x761)](_0x20a1c5,_0x14141c,_0x4a7c7c){const _0x3f6af0=a0_0x556deb;let _0x56cca1=_0x14141c[_0x3f6af0(0x66e)][_0x3f6af0(0x4a9)]['replace'](/:\d{1,2}@/g,'@'),_0x3cf6ea=_0x14141c[_0x3f6af0(0x66e)][_0x3f6af0(0x2b7)],_0x230365=_0x56cca1[_0x3f6af0(0x740)](_0x3f6af0(0x2f5));if(!_0x20a1c5[_0x3f6af0(0x662)])return;let _0x29fc87={'lastmsg':_0x14141c[_0x3f6af0(0x54d)]||Date[_0x3f6af0(0x23b)](),'unreadcount':_0x3cf6ea?0x0:0x1,..._0x3cf6ea||_0x230365?{}:{'name':_0x14141c['pushName']},..._0x230365?{'group':_0x230365}:{}},_0x3609cc=await this[_0x3f6af0(0x3df)][_0x3f6af0(0x1dd)][_0x3f6af0(0x51f)]({'where':{'_id':_0x56cca1,'owner':this[_0x3f6af0(0x4b7)]['wuid']}},_0x29fc87,{'new':!0x0,'upsert':!0x0});if(!_0x230365&&(!_0x3609cc?.[_0x3f6af0(0x1cd)]||!_0x3609cc['leadInfo']['nome'])&&_0x14141c[_0x3f6af0(0x2fd)]&&!_0x3cf6ea&&await this[_0x3f6af0(0x3df)][_0x3f6af0(0x1dd)][_0x3f6af0(0x51f)]({'where':{'_id':_0x56cca1,'owner':this[_0x3f6af0(0x4b7)][_0x3f6af0(0x30d)]}},{'leadInfo.nome':_0x14141c['pushName']},{'new':!0x0,'upsert':!0x1}),_0x3609cc)F(this[_0x3f6af0(0x780)],'chats',{'chat':_0x3609cc});else{this['logger'][_0x3f6af0(0x2e0)](this[_0x3f6af0(0x780)]+'\x20('+this[_0x3f6af0(0x4b7)][_0x3f6af0(0x30d)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this['AutomateSystem']?.[_0x3f6af0(0x795)][_0x3f6af0(0x6d1)])return this[_0x3f6af0(0x256)][_0x3f6af0(0x31f)](this[_0x3f6af0(0x780)]+'\x20('+this[_0x3f6af0(0x4b7)][_0x3f6af0(0x30d)]+'):\x20Flow\x20desativado'),null;if(_0x3609cc[_0x3f6af0(0x782)]['includes'](_0x3f6af0(0x2f5))&&this[_0x3f6af0(0x640)]?.[_0x3f6af0(0x795)][_0x3f6af0(0x36b)]===!0x0)return this[_0x3f6af0(0x256)][_0x3f6af0(0x31f)](this[_0x3f6af0(0x780)]+'\x20('+this[_0x3f6af0(0x4b7)][_0x3f6af0(0x30d)]+_0x3f6af0(0x38b)),null;if(_0x3609cc[_0x3f6af0(0x1cd)]){if(_0x3609cc['leadInfo'][_0x3f6af0(0x452)]===0x0||_0x3609cc[_0x3f6af0(0x1cd)][_0x3f6af0(0x741)])return this[_0x3f6af0(0x256)][_0x3f6af0(0x31f)](this['instanceName']+'\x20('+this[_0x3f6af0(0x4b7)][_0x3f6af0(0x30d)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x56cca1+_0x3f6af0(0x713)),null;if(_0x3609cc[_0x3f6af0(0x1cd)][_0x3f6af0(0x452)]>Date[_0x3f6af0(0x23b)]())return this[_0x3f6af0(0x256)]['verbose'](this[_0x3f6af0(0x780)]+'\x20('+this[_0x3f6af0(0x4b7)][_0x3f6af0(0x30d)]+_0x3f6af0(0x2f7)+new Date(_0x3609cc[_0x3f6af0(0x1cd)]['desativadoFluxoAte'])[_0x3f6af0(0x229)]()+',\x20saindo.'),null;}this[_0x3f6af0(0x256)][_0x3f6af0(0x31f)](this[_0x3f6af0(0x780)]+'\x20('+this[_0x3f6af0(0x4b7)][_0x3f6af0(0x30d)]+_0x3f6af0(0x24e)),this[_0x3f6af0(0x40c)](_0x4a7c7c,_0x14141c,this[_0x3f6af0(0x4b7)][_0x3f6af0(0x30d)]);}async['upsertChats'](_0x140146,_0x5f761a){const _0x320c0d=a0_0x556deb;if(_0x5f761a['ENABLED']){let _0x2b3e82=_0x140146[_0x320c0d(0x608)](async _0x539f8b=>{const _0x7b66c=_0x320c0d;try{let _0x5f32d3={'_id':_0x539f8b[_0x7b66c(0x782)],'owner':_0x539f8b[_0x7b66c(0x698)],'lastcache':0x0};if(_0x539f8b['group']!==null&&(_0x5f32d3[_0x7b66c(0x2f4)]=_0x539f8b[_0x7b66c(0x2f4)]),_0x539f8b[_0x7b66c(0x750)]!==null&&(_0x5f32d3[_0x7b66c(0x750)]=_0x539f8b['name']),_0x539f8b[_0x7b66c(0x2a1)]!==null&&(_0x5f32d3[_0x7b66c(0x2a1)]=_0x539f8b[_0x7b66c(0x2a1)]),_0x539f8b[_0x7b66c(0x5c0)]!==null&&(_0x5f32d3[_0x7b66c(0x5c0)]=_0x539f8b[_0x7b66c(0x5c0)]),_0x539f8b['imagechat']===null&&(_0x5f32d3[_0x7b66c(0x5c0)]='Imagem\x20não\x20encontrada'),_0x539f8b[_0x7b66c(0x686)]!==null&&(_0x5f32d3[_0x7b66c(0x686)]=_0x539f8b[_0x7b66c(0x686)]),_0x539f8b[_0x7b66c(0x2ed)]!==null&&(_0x5f32d3[_0x7b66c(0x2ed)]=_0x539f8b[_0x7b66c(0x2ed)]),_0x539f8b[_0x7b66c(0x58b)]!==null&&(_0x5f32d3[_0x7b66c(0x58b)]=_0x539f8b[_0x7b66c(0x58b)]),Object[_0x7b66c(0x561)](_0x5f32d3)[_0x7b66c(0x72a)]>0x0)return await this['repository'][_0x7b66c(0x1dd)][_0x7b66c(0x51f)]({'where':{'_id':_0x539f8b[_0x7b66c(0x782)],'owner':_0x539f8b[_0x7b66c(0x698)]}},_0x5f32d3);}catch(_0xd6ce79){return console['error'](_0x7b66c(0x49b)+_0x539f8b[_0x7b66c(0x782)]+':',_0xd6ce79),null;}}),_0x1e2868=(await Promise[_0x320c0d(0x25d)](_0x2b3e82))[_0x320c0d(0x298)](_0x2b7c94=>_0x2b7c94!==null)[_0x320c0d(0x72a)];this['logger'][_0x320c0d(0x31f)](this[_0x320c0d(0x780)]+'\x20('+this['instance']['wuid']+_0x320c0d(0x24c)+_0x1e2868+_0x320c0d(0x507)+this[_0x320c0d(0x4b7)][_0x320c0d(0x30d)]+_0x320c0d(0x4cd));}}async['readMessageBot'](_0x3280bc){const _0x568c69=a0_0x556deb;this[_0x568c69(0x256)]['verbose'](this[_0x568c69(0x780)]+'\x20('+this[_0x568c69(0x4b7)][_0x568c69(0x30d)]+'):\x20Ler\x20mensagem');let _0x4d0991={'readMessages':[{'remoteJid':_0x3280bc['chatLog']['lastReceivedMessage'][_0x568c69(0x66e)][_0x568c69(0x4a9)],'fromMe':_0x3280bc[_0x568c69(0x5ae)][_0x568c69(0x250)]['key']['fromMe'],'id':_0x3280bc['chatLog'][_0x568c69(0x250)]['key']['id']}]};await this[_0x568c69(0x425)](_0x4d0991);}async[a0_0x556deb(0x40c)](_0x1e59a2,_0x51b30f,_0x3c9719){const _0x457530=a0_0x556deb;try{let {key:_0x2b4668,message_normalized:_0x3d2c9a}=_0x51b30f,_0x303747=_0x3d2c9a,_0x3b92bc=_0x3d2c9a['text']||_0x3d2c9a[_0x457530(0x5df)]||_0x3d2c9a[_0x457530(0x31c)]||_0x3d2c9a[_0x457530(0x750)],_0x32aa07=_0x2b4668[_0x457530(0x4a9)],_0x5b6a4a;if(_0x303747[_0x457530(0x66e)][_0x457530(0x2b7)]&&_0x3b92bc['trim']()!==this[_0x457530(0x640)]?.[_0x457530(0x795)]['stopConversation']['trim']())return this['logger']['verbose'](this[_0x457530(0x780)]+'\x20('+this[_0x457530(0x4b7)][_0x457530(0x30d)]+_0x457530(0x34c)),null;if(_0x303747[_0x457530(0x66e)]['fromMe']&&_0x3b92bc[_0x457530(0x419)]()===this[_0x457530(0x640)]?.[_0x457530(0x795)][_0x457530(0x1de)][_0x457530(0x419)]()){this['logger'][_0x457530(0x31f)](this[_0x457530(0x780)]+'\x20('+this[_0x457530(0x4b7)][_0x457530(0x30d)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x21dc77=await J[_0x457530(0x33f)]({'owner':_0x3c9719,'remoteJid':_0x32aa07,'status':'open'});this[_0x457530(0x256)][_0x457530(0x31f)](this[_0x457530(0x780)]+'\x20('+this[_0x457530(0x4b7)]['wuid']+_0x457530(0x6ca)+_0x21dc77);let _0x58640b=Date[_0x457530(0x23b)](),_0x577b0b;return this[_0x457530(0x640)]?.['flowConfig'][_0x457530(0x437)]===0x0?_0x577b0b={'stoppedUntil':_0x58640b+0x7591f6200}:_0x577b0b={'stoppedUntil':_0x58640b+this[_0x457530(0x640)]?.[_0x457530(0x795)][_0x457530(0x437)]*0x3c*0x3e8},this[_0x457530(0x256)][_0x457530(0x31f)](this[_0x457530(0x780)]+'\x20('+this[_0x457530(0x4b7)][_0x457530(0x30d)]+_0x457530(0x6ab)+_0x577b0b),this[_0x457530(0x424)](_0x5b6a4a,_0x577b0b['stoppedUntil']),null;}if(_0x3b92bc&&_0x3b92bc[_0x457530(0x41a)](this[_0x457530(0x640)]?.['flowConfig']['prefixCommand'])&&_0x3b92bc[_0x457530(0x72a)]>0x4){let _0xa750d6=await I[_0x457530(0x3ef)]({'owner':_0x3c9719,'startCommandWord':_0x3b92bc});if(this['logger'][_0x457530(0x31f)](this[_0x457530(0x780)]+'\x20('+this[_0x457530(0x4b7)]['wuid']+_0x457530(0x647)),_0xa750d6)_0x5b6a4a=await this[_0x457530(0x704)](_0xa750d6,_0x303747['key'],_0x303747);else return this[_0x457530(0x256)][_0x457530(0x31f)](this[_0x457530(0x780)]+'\x20('+this[_0x457530(0x4b7)][_0x457530(0x30d)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x5b6a4a=await this[_0x457530(0x2ea)](_0x3c9719,_0x32aa07,_0x303747);if(_0x5b6a4a){this[_0x457530(0x256)][_0x457530(0x31f)](this[_0x457530(0x780)]+'\x20('+this['instance']['wuid']+_0x457530(0x2dc)),!_0x2b4668[_0x457530(0x2b7)]&&_0x5b6a4a[_0x457530(0x3a0)]&&this['readMessageBot'](_0x5b6a4a);let _0x45aacd=await this[_0x457530(0x211)](_0x5b6a4a);_0x45aacd&&await this[_0x457530(0x220)](_0x5b6a4a,_0x45aacd,_0x5b6a4a[_0x457530(0x4a9)]);}}catch(_0x271bc0){this['logger'][_0x457530(0x2e0)](this[_0x457530(0x780)]+'\x20('+this[_0x457530(0x4b7)][_0x457530(0x30d)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+JSON['stringify'](_0x271bc0,null,0x2));}}['flattenObject'](_0x33171e,_0x2dd048='',_0x200888={},_0x38df67=!0x0){const _0x52bbd4=a0_0x556deb;for(let _0x4f5377 in _0x33171e){let _0x2cdf35=_0x38df67?'_'+_0x4f5377:''+_0x2dd048+_0x4f5377;typeof _0x33171e[_0x4f5377]==_0x52bbd4(0x1ff)&&_0x33171e[_0x4f5377]!==null?this[_0x52bbd4(0x4c9)](_0x33171e[_0x4f5377],_0x2cdf35+'.',_0x200888,!0x1):_0x200888[_0x2cdf35]=String(_0x33171e[_0x4f5377]);}return _0x200888;}[a0_0x556deb(0x520)](_0x42621c){const _0x387a5b=a0_0x556deb;let _0x109d94={};for(let _0x4a8997 of _0x42621c)typeof _0x4a8997[_0x387a5b(0x750)]==_0x387a5b(0x20c)&&typeof _0x4a8997[_0x387a5b(0x65d)]==_0x387a5b(0x20c)&&(_0x109d94[_0x4a8997[_0x387a5b(0x750)]]=_0x4a8997[_0x387a5b(0x65d)]);return _0x109d94;}async[a0_0x556deb(0x211)](_0x224012){const _0x549a21=a0_0x556deb;if(!this[_0x549a21(0x640)]?.[_0x549a21(0x795)][_0x549a21(0x6d1)]||_0x224012[_0x549a21(0x65f)]!==_0x549a21(0x267)&&_0x224012[_0x549a21(0x722)]==='')return null;let _0x4619f1=_0x224012[_0x549a21(0x5ae)][_0x549a21(0x2e6)]||_0x549a21(0x612);typeof _0x224012['chatLog'][_0x549a21(0x3b8)]>'u'&&(_0x224012[_0x549a21(0x5ae)][_0x549a21(0x3b8)]=!0x0);let _0x3a4aee=_0x224012[_0x549a21(0x5ae)][_0x549a21(0x3b8)];this[_0x549a21(0x256)][_0x549a21(0x31f)](this[_0x549a21(0x780)]+'\x20('+this[_0x549a21(0x4b7)][_0x549a21(0x30d)]+_0x549a21(0x586)+_0x4619f1+_0x549a21(0x505)+_0x3a4aee);let _0x14533d=_0x4619f1==='start'?_0x224012['blocks']['find'](_0xd4659c=>_0xd4659c[_0x549a21(0x634)]===_0x549a21(0x612)):_0x224012['blocks'][_0x549a21(0x33f)](_0xd9c7ab=>_0xd9c7ab[_0x549a21(0x782)][_0x549a21(0x77f)]()===_0x4619f1[_0x549a21(0x77f)]());if(!_0x14533d)return this[_0x549a21(0x256)][_0x549a21(0x2e0)](this[_0x549a21(0x780)]+'\x20('+this[_0x549a21(0x4b7)][_0x549a21(0x30d)]+_0x549a21(0x5d8)+_0x4619f1),null;let _0x179e0c={'_pushName':_0x224012[_0x549a21(0x5ae)][_0x549a21(0x250)][_0x549a21(0x2fd)],..._0x224012['chatLog'][_0x549a21(0x706)]},_0x15b5d3=null;if(_0x224012['waitingPoll_id']){let _0x2bfdc2=_0x224012[_0x549a21(0x5ae)][_0x549a21(0x250)][_0x549a21(0x31c)],_0x17582e=_0x224012[_0x549a21(0x331)][_0x549a21(0x33f)](_0x53a594=>_0x53a594[_0x549a21(0x334)]===_0x2bfdc2);if(_0x17582e){let _0x1815b5=_0x17582e[_0x549a21(0x259)];if(_0x15b5d3=_0x224012[_0x549a21(0x262)][_0x549a21(0x33f)](_0x235eb9=>_0x235eb9['groupId']===_0x1815b5&&_0x235eb9[_0x549a21(0x215)]===0x1),_0x14533d[_0x549a21(0x629)][_0x549a21(0x2c2)]){let _0x2fedde={'id':_0x224012[_0x549a21(0x722)],'remoteJid':_0x224012[_0x549a21(0x4a9)],'fromMe':!0x0};await this[_0x549a21(0x5b1)](_0x2fedde);}if(_0x14533d[_0x549a21(0x629)]['pollOnReplyDelete']&&_0x14533d[_0x549a21(0x629)][_0x549a21(0x324)]){let _0x2c6585={'number':_0x224012[_0x549a21(0x4a9)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x224012[_0x549a21(0x409)]+_0x549a21(0x3c3)+_0x2bfdc2}};await this[_0x549a21(0x49e)](_0x2c6585);}_0x224012[_0x549a21(0x65f)]=_0x549a21(0x267),_0x224012['waitingPoll_id']='',_0x224012[_0x549a21(0x409)]='',_0x224012['waitingPoll_replyOptions']=[];}else{this[_0x549a21(0x256)][_0x549a21(0x31f)](this[_0x549a21(0x780)]+'\x20('+this[_0x549a21(0x4b7)][_0x549a21(0x30d)]+_0x549a21(0x431));let _0x4369d9={'activatedCount':_0x224012['chatLog'][_0x549a21(0x5cc)]['filter'](_0x51fc7a=>String(_0x51fc7a[_0x549a21(0x4b8)])===String(_0x4619f1))[_0x549a21(0x72a)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x14533d['uazapi'][_0x549a21(0x439)]){let _0x30826b={'number':_0x224012[_0x549a21(0x4a9)],'options':{'delay':0x0},'textMessage':{'text':_0x14533d['uazapi'][_0x549a21(0x439)]}};await this[_0x549a21(0x49e)](_0x30826b);}if(_0x14533d[_0x549a21(0x5fc)]!==void 0x0&&_0x4369d9[_0x549a21(0x53e)]>=_0x14533d[_0x549a21(0x5fc)]){let _0x33d55c=Date[_0x549a21(0x23b)](),_0x201107=_0x14533d[_0x549a21(0x485)]??0xa;isNaN(_0x201107)&&(_0x201107=0xa);let _0x1e6291=_0x33d55c+_0x201107*0x3c*0x3e8;_0x4369d9['newStoppedUntil']=_0x1e6291,_0x4369d9[_0x549a21(0x5a7)][_0x549a21(0x73a)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x549a21(0x424)](_0x224012,_0x1e6291),_0x224012[_0x549a21(0x722)]='',_0x224012[_0x549a21(0x409)]='',_0x224012[_0x549a21(0x331)]=[];}return this[_0x549a21(0x779)](_0x224012,_0x14533d,_0x4369d9,!0x0),null;}}if(_0x3a4aee&&_0x14533d[_0x549a21(0x259)]&&!_0x224012['waitingPoll_id']){let _0x203a95=_0x224012['blocks']['filter'](_0x1d438c=>_0x1d438c[_0x549a21(0x341)][_0x549a21(0x77f)]()===_0x14533d[_0x549a21(0x259)][_0x549a21(0x77f)]())['sort']((_0x1602e6,_0x53611e)=>_0x1602e6['order']-_0x53611e['order']);_0x203a95[_0x549a21(0x72a)]>0x0&&(_0x15b5d3=_0x203a95[0x0]);}if(!_0x15b5d3){let _0x3ee568=_0x14533d[_0x549a21(0x341)],_0x193c3a=_0x224012[_0x549a21(0x262)][_0x549a21(0x298)](_0x52530b=>_0x52530b[_0x549a21(0x341)]===_0x3ee568&&_0x52530b[_0x549a21(0x215)]>_0x14533d[_0x549a21(0x215)])['sort']((_0x61a4c1,_0x48df96)=>_0x61a4c1[_0x549a21(0x215)]-_0x48df96[_0x549a21(0x215)]);_0x193c3a[_0x549a21(0x72a)]>0x0&&(_0x15b5d3=_0x193c3a[0x0]);}if(!_0x15b5d3)return _0x224012[_0x549a21(0x65f)]=_0x549a21(0x461),null;_0x224012[_0x549a21(0x5ae)][_0x549a21(0x706)]=_0x179e0c;let _0x2ab41d=JSON[_0x549a21(0x273)](JSON[_0x549a21(0x296)](_0x15b5d3));return this['replaceVariablesInObject'](_0x2ab41d,_0x224012['chatLog'][_0x549a21(0x706)]),_0x224012['chatLog'][_0x549a21(0x2e6)]=_0x2ab41d[_0x549a21(0x782)],_0x224012[_0x549a21(0x5ae)]['lastCondition']=!0x0,_0x2ab41d;}[a0_0x556deb(0x465)](_0x42339c,_0x385821){const _0x196867=a0_0x556deb;return _0x42339c[_0x196867(0x3f6)](/\{\{([^}]+)\}\}/g,(_0x349e15,_0x49d334)=>_0x385821[_0x49d334]||'');}['replaceVariablesInObject'](_0x2e9e4c,_0x74c459){const _0x36391a=a0_0x556deb;for(let _0x252944 in _0x2e9e4c)typeof _0x2e9e4c[_0x252944]==_0x36391a(0x20c)?_0x2e9e4c[_0x252944]=this[_0x36391a(0x465)](_0x2e9e4c[_0x252944],_0x74c459):typeof _0x2e9e4c[_0x252944]=='object'&&this[_0x36391a(0x412)](_0x2e9e4c[_0x252944],_0x74c459);}async['goNextblock'](_0x3d9179,_0x5a972c){const _0x15d9fe=a0_0x556deb;let _0x242a6e=_0x5a972c[_0x15d9fe(0x782)];if(_0x3d9179[_0x15d9fe(0x5ae)]&&_0x3d9179[_0x15d9fe(0x5ae)]['blockLogs']){let _0x8c611f=_0x3d9179[_0x15d9fe(0x5ae)]['blockLogs'][_0x15d9fe(0x298)](_0x314cb9=>String(_0x314cb9[_0x15d9fe(0x4b8)])===String(_0x242a6e))[_0x15d9fe(0x3be)]();if(_0x8c611f&&_0x8c611f[_0x15d9fe(0x2e0)]&&_0x5a972c[_0x15d9fe(0x239)])return _0x3d9179[_0x15d9fe(0x65f)]='closed',await this['saveConversationToDatabase'](_0x3d9179),null;}if(_0x5a972c[_0x15d9fe(0x634)]===_0x15d9fe(0x629)&&_0x5a972c['uazapi'][_0x15d9fe(0x537)]===_0x15d9fe(0x63e)&&_0x3d9179[_0x15d9fe(0x722)])return _0x3d9179[_0x15d9fe(0x5ae)][_0x15d9fe(0x2e6)]=_0x242a6e,await this['saveConversationToDatabase'](_0x3d9179),null;let _0x27272d=await this['NextBlock'](_0x3d9179);if(_0x3d9179['chatLog']&&_0x3d9179[_0x15d9fe(0x5ae)][_0x15d9fe(0x5cc)]){let _0x3168ba=_0x3d9179['chatLog']['blockLogs'][_0x15d9fe(0x298)](_0xcd4536=>String(_0xcd4536[_0x15d9fe(0x4b8)])===String(_0x242a6e))['length'];if(_0x5a972c[_0x15d9fe(0x5fc)]!==void 0x0&&_0x3168ba>=_0x5a972c[_0x15d9fe(0x5fc)]){let _0x568524=Date['now'](),_0x2176e6=_0x5a972c['stopMinutesMaxActives']??0xa;isNaN(_0x2176e6)&&(_0x2176e6=0xa);let _0x32e5f2=_0x568524+_0x2176e6*0x3c*0x3e8,_0x1cee61={'newStoppedUntil':_0x32e5f2};return this['updateStopChat'](_0x3d9179,_0x32e5f2),this[_0x15d9fe(0x779)](_0x3d9179,_0x5a972c,_0x1cee61,!0x0),null;}}_0x27272d&&_0x27272d[_0x15d9fe(0x634)]!=='save'&&await this['processblock'](_0x3d9179,_0x27272d,_0x3d9179['remoteJid']),_0x27272d||await this['saveConversationToDatabase'](_0x3d9179),_0x27272d&&_0x27272d[_0x15d9fe(0x634)]===_0x15d9fe(0x752)&&(_0x3d9179[_0x15d9fe(0x5ae)][_0x15d9fe(0x2e6)]=_0x242a6e,await this[_0x15d9fe(0x783)](_0x3d9179));}async['processblock'](_0x220157,_0x2033dc,_0x17c375){const _0x5cc064=a0_0x556deb;try{let _0xa40e1d=_0x2033dc[_0x5cc064(0x634)];this[_0x5cc064(0x256)][_0x5cc064(0x31f)](this[_0x5cc064(0x780)]+'\x20('+this['instance']['wuid']+_0x5cc064(0x66a)+_0xa40e1d);let _0x5a9f50={'uazapi':()=>this[_0x5cc064(0x50b)](_0x220157,_0x2033dc,_0x17c375),'save':()=>this[_0x5cc064(0x67b)](_0x220157,_0x2033dc),'stop':()=>this[_0x5cc064(0x1de)](_0x220157,_0x2033dc),'condition':()=>this[_0x5cc064(0x72f)](_0x220157,_0x2033dc),'varedit':()=>this[_0x5cc064(0x1df)](_0x220157,_0x2033dc),'apirequest':()=>this[_0x5cc064(0x671)](_0x220157,_0x2033dc),'goToFlow':()=>this[_0x5cc064(0x406)](_0x220157,_0x2033dc)}[_0xa40e1d];_0x5a9f50&&await _0x5a9f50();}catch(_0x265109){this['logger'][_0x5cc064(0x2e0)](this['instanceName']+'\x20('+this[_0x5cc064(0x4b7)][_0x5cc064(0x30d)]+'):\x20Error\x20processing\x20the\x20block:\x20'+JSON['stringify'](_0x265109,null,0x2));}}async['processgoToFlow'](_0x4276f8,_0x9b73a0){const _0x2f2c80=a0_0x556deb;if(this[_0x2f2c80(0x256)][_0x2f2c80(0x31f)](this[_0x2f2c80(0x780)]+'\x20('+this[_0x2f2c80(0x4b7)]['wuid']+_0x2f2c80(0x524)),!_0x4276f8||!_0x9b73a0)return this['logger'][_0x2f2c80(0x2e0)](this[_0x2f2c80(0x780)]+'\x20('+this[_0x2f2c80(0x4b7)][_0x2f2c80(0x30d)]+_0x2f2c80(0x365)),null;await this['updateConversation'](_0x4276f8,_0x9b73a0,{},!0x0,!0x0),console['log']('nextBlock:'),console[_0x2f2c80(0x340)](_0x9b73a0);let _0x5c694e=_0x9b73a0[_0x2f2c80(0x48e)];console[_0x2f2c80(0x340)](_0x2f2c80(0x542),_0x5c694e),_0x4276f8=await this[_0x2f2c80(0x5c2)](_0x5c694e,_0x4276f8[_0x2f2c80(0x4a9)],_0x4276f8[_0x2f2c80(0x5ae)][_0x2f2c80(0x706)]),this['logger'][_0x2f2c80(0x31f)](this[_0x2f2c80(0x780)]+'\x20('+this[_0x2f2c80(0x4b7)]['wuid']+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x1b0506=await this['NextBlock'](_0x4276f8);_0x1b0506&&await this[_0x2f2c80(0x220)](_0x4276f8,_0x1b0506,_0x4276f8[_0x2f2c80(0x4a9)]);}async[a0_0x556deb(0x5c2)](_0x38600e,_0x1a1f3f,_0x3579ab){const _0x5b6443=a0_0x556deb;this[_0x5b6443(0x256)][_0x5b6443(0x31f)](this[_0x5b6443(0x780)]+'\x20('+this[_0x5b6443(0x4b7)]['wuid']+_0x5b6443(0x576));try{if(_0x38600e=await I[_0x5b6443(0x3ef)]({'owner':this[_0x5b6443(0x4b7)][_0x5b6443(0x30d)],'name':_0x38600e}),!_0x38600e)return this[_0x5b6443(0x256)][_0x5b6443(0x2e0)](this[_0x5b6443(0x780)]+'\x20('+this[_0x5b6443(0x4b7)]['wuid']+_0x5b6443(0x39c)),null;let _0x2cf04c=require(_0x5b6443(0x2f2))[_0x5b6443(0x444)],_0x8986ae=Date[_0x5b6443(0x23b)](),_0x2c33ff='start',_0x38062e={},_0x1944b8={},_0x39da83={..._0x38600e['_doc'],'chatLog':null},_0x54acdf={'lastReceivedMessage':_0x38062e,'lastSendMessage':_0x1944b8,'lastBlockId':_0x2c33ff,'lastCondition':!0x0,'realVariables':_0x3579ab};_0x39da83[_0x5b6443(0x5ae)]=_0x54acdf,_0x39da83[_0x5b6443(0x5ae)][_0x5b6443(0x706)]={..._0x3579ab},delete _0x39da83[_0x5b6443(0x782)],_0x39da83[_0x5b6443(0x782)]=new _0x2cf04c(),_0x39da83[_0x5b6443(0x255)]=_0x8986ae,_0x39da83[_0x5b6443(0x65f)]=_0x5b6443(0x267),_0x39da83[_0x5b6443(0x4a9)]=_0x1a1f3f;let _0x11e826=await J[_0x5b6443(0x5e3)](_0x39da83);return this['logger'][_0x5b6443(0x31f)](this[_0x5b6443(0x780)]+'\x20('+this[_0x5b6443(0x4b7)][_0x5b6443(0x30d)]+_0x5b6443(0x47d)),_0x11e826?_0x39da83:null;}catch(_0x5e5726){throw this[_0x5b6443(0x256)][_0x5b6443(0x2e0)](this[_0x5b6443(0x780)]+'\x20('+this[_0x5b6443(0x4b7)][_0x5b6443(0x30d)]+_0x5b6443(0x75c)+JSON[_0x5b6443(0x296)](_0x5e5726,null,0x2)),new g(_0x5e5726[_0x5b6443(0x64b)]);}}async[a0_0x556deb(0x671)](_0x5cb89a,_0x5d9fbf){const _0x560013=a0_0x556deb;let _0x134bb2,_0x84c070;try{let _0x52b491=_0x5d9fbf[_0x560013(0x4c7)];if(!_0x52b491||!_0x52b491[_0x560013(0x668)]||!_0x52b491[_0x560013(0x2bd)])throw new Error(_0x560013(0x5d9));let _0x4d9b60={'method':_0x52b491[_0x560013(0x2bd)],'url':_0x52b491[_0x560013(0x668)],'headers':_0x52b491[_0x560013(0x74c)]||{},'data':_0x52b491[_0x560013(0x417)]||{}};_0x134bb2=(await(0x0,ce[_0x560013(0x595)])(_0x4d9b60))['data'];let _0x2c1f33=_0x5cb89a[_0x560013(0x5ae)]['realVariables'],_0x337480=this[_0x560013(0x4c9)](_0x134bb2);return Object[_0x560013(0x3db)](_0x2c1f33,_0x337480),_0x5cb89a[_0x560013(0x5ae)]['realVariables']=_0x2c1f33,_0x84c070={'error':!0x1,'apiResponse':_0x134bb2},this[_0x560013(0x779)](_0x5cb89a,_0x5d9fbf,_0x84c070),_0x134bb2;}catch(_0x44a468){console[_0x560013(0x2e0)](_0x560013(0x70f),_0x44a468),_0x44a468[_0x560013(0x61a)]&&(_0x134bb2=_0x44a468['response'][_0x560013(0x2a7)]);let _0x51f159=_0x5cb89a[_0x560013(0x5ae)][_0x560013(0x706)],_0x5ddf9e=this['flattenObject'](_0x134bb2);return Object[_0x560013(0x3db)](_0x51f159,_0x5ddf9e),_0x5cb89a[_0x560013(0x5ae)][_0x560013(0x706)]=_0x51f159,_0x84c070={'error':!0x0,'errorLog':_0x44a468['toString'](),'apiResponse':_0x134bb2},this[_0x560013(0x779)](_0x5cb89a,_0x5d9fbf,_0x84c070),{'success':!0x1};}}[a0_0x556deb(0x4ee)](_0x17838e,_0x451b2b){const _0x539157=a0_0x556deb;let _0x23593f=_0x2b7d90=>{const _0x334795=a0_0x2d74;let _0x1e01c2=_0x2b7d90['replace'](/[^0-9.,-]/g,'')[_0x334795(0x3f6)](',','.'),_0x111deb=parseFloat(_0x1e01c2);return isNaN(_0x111deb)?null:_0x111deb;},_0x1cb10d=_0x451b2b[_0x539157(0x320)],_0x1dd175=_0x451b2b[_0x539157(0x6f3)];typeof _0x1cb10d=='string'&&(_0x1cb10d=this['replaceVariables'](_0x1cb10d,_0x17838e['chatLog'][_0x539157(0x706)])??''),typeof _0x1dd175==_0x539157(0x20c)&&(_0x1dd175=this[_0x539157(0x465)](_0x1dd175,_0x17838e[_0x539157(0x5ae)][_0x539157(0x706)])??'');let _0x313b63=null;if(!_0x1cb10d||!_0x451b2b['editOperator'])return null;switch(this[_0x539157(0x256)]['verbose'](this[_0x539157(0x780)]+'\x20('+this['instance'][_0x539157(0x30d)]+_0x539157(0x798)+_0x1cb10d),this[_0x539157(0x256)][_0x539157(0x31f)](this['instanceName']+'\x20('+this[_0x539157(0x4b7)][_0x539157(0x30d)]+_0x539157(0x3ab)+_0x1dd175),_0x451b2b['editOperator']){case'+':case'-':case'*':case'/':let _0x37d80a=_0x23593f(_0x1cb10d),_0x3d9706=_0x23593f(_0x1dd175||'0');if(_0x37d80a===null)return null;switch(_0x451b2b[_0x539157(0x2e4)]){case'+':_0x313b63=_0x37d80a+(_0x3d9706??0x0);break;case'-':_0x313b63=_0x37d80a-(_0x3d9706??0x0);break;case'*':_0x313b63=_0x37d80a*(_0x3d9706??0x1);break;case'/':_0x3d9706!==0x0&&(_0x313b63=_0x37d80a/(_0x3d9706??0x1));break;}break;case _0x539157(0x318):case _0x539157(0x570):let _0xb0915d=_0x1dd175,_0x77a7d4=_0x451b2b[_0x539157(0x768)];if(typeof _0x77a7d4==_0x539157(0x20c)&&(_0x77a7d4=this[_0x539157(0x465)](_0x77a7d4,_0x17838e['chatLog'][_0x539157(0x706)])??''),_0xb0915d&&_0x77a7d4!==void 0x0){let _0x400ee8=_0x451b2b['editOperator']===_0x539157(0x318)?new RegExp(_0xb0915d['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x539157(0x591)),'g'):new RegExp(_0xb0915d,'g');_0x313b63=_0x1cb10d[_0x539157(0x3f6)](_0x400ee8,_0x77a7d4);}else console['warn']('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0x313b63=_0x1dd175;break;case'extractRegex':let _0x4d3033=_0x1cb10d[_0x539157(0x249)](new RegExp(_0x1dd175||''));_0x313b63=_0x4d3033?_0x4d3033[0x0]:'';break;case _0x539157(0x43d):_0x313b63=_0x1cb10d[_0x539157(0x6d7)](0x0,parseInt(_0x1dd175||'0'));break;case _0x539157(0x1f2):let _0x4b8ae6=parseInt(_0x1dd175||'0');_0x313b63=_0x1cb10d[_0x539157(0x6d7)](_0x1cb10d['length']-_0x4b8ae6);break;case _0x539157(0x49c):let _0x237ff4=_0x23593f(_0x1cb10d),_0x2c3fd6=parseInt(_0x1dd175||'0');_0x2c3fd6=Math[_0x539157(0x2d3)](_0x2c3fd6),_0x237ff4!==null?_0x313b63=_0x237ff4['toLocaleString'](_0x539157(0x28d),{'minimumFractionDigits':_0x2c3fd6,'maximumFractionDigits':_0x2c3fd6}):(console[_0x539157(0x509)](_0x539157(0x689)+_0x1cb10d),_0x313b63=null);break;case _0x539157(0x20d):let _0x2cb50c=_0x23593f(_0x1cb10d);_0x2cb50c!==null?_0x313b63=_0x2cb50c['toLocaleString'](_0x539157(0x28d),{'style':_0x539157(0x676),'currency':_0x539157(0x359)}):(console[_0x539157(0x509)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x1cb10d),_0x313b63=null);break;case _0x539157(0x748):_0x313b63=_0x1cb10d[_0x539157(0x6bf)]();break;case'lowerCase':_0x313b63=_0x1cb10d[_0x539157(0x2fc)]();break;case _0x539157(0x29b):_0x313b63=_0x1cb10d[_0x539157(0x23e)]('\x20')[_0x539157(0x608)](_0x598ef6=>_0x598ef6[_0x539157(0x319)](0x0)[_0x539157(0x6bf)]()+_0x598ef6[_0x539157(0x6d7)](0x1)['toLowerCase']())[_0x539157(0x226)]('\x20');break;case _0x539157(0x233):_0x313b63=_0x1cb10d['trim']();break;default:_0x313b63=_0x1cb10d;}return _0x313b63!==null?_0x313b63['toString']():null;}async[a0_0x556deb(0x1df)](_0x320b79,_0x49b432){const _0x3f99eb=a0_0x556deb;try{let _0x25dc01=_0x320b79[_0x3f99eb(0x4d9)]?.['filter'](_0xad1edb=>_0xad1edb[_0x3f99eb(0x4b8)]===_0x49b432['_id']?.['toString']())||[],_0x15777d=_0x49b432['saveVariable'],_0x4ca965=null,_0x33c849=[],_0x40a873=_0x320b79[_0x3f99eb(0x5ae)][_0x3f99eb(0x706)][_0x15777d];_0x33c849['push'](_0x3f99eb(0x648)+_0x40a873+'\x22');for(let _0x4ad108 of _0x25dc01){_0x4ad108[_0x3f99eb(0x320)]=_0x40a873,_0x4ca965=_0x4ad108['firstValue'];let _0x69bcb5;try{_0x69bcb5=this[_0x3f99eb(0x4ee)](_0x320b79,_0x4ad108);}catch(_0x4306b5){console[_0x3f99eb(0x2e0)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x4306b5[_0x3f99eb(0x64b)]);continue;}if(_0x69bcb5!==null){let _0x3a6dd7='Operador:\x20\x22'+_0x4ad108[_0x3f99eb(0x2e4)]+'\x22',_0x505620=[_0x3f99eb(0x20d),_0x3f99eb(0x748),'lowerCase','capitalizedWords','trimmed'];_0x4ad108[_0x3f99eb(0x2e4)]===_0x3f99eb(0x318)||_0x4ad108[_0x3f99eb(0x2e4)]===_0x3f99eb(0x570)?_0x3a6dd7+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x4ad108[_0x3f99eb(0x6f3)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x4ad108['replaceValue']+'\x22':!_0x505620[_0x3f99eb(0x619)](_0x4ad108['editOperator'])&&_0x4ad108[_0x3f99eb(0x6f3)]!==null&&_0x4ad108[_0x3f99eb(0x6f3)]!==void 0x0&&(_0x3a6dd7+=_0x3f99eb(0x653)+_0x4ad108[_0x3f99eb(0x6f3)]+'\x22'),_0x3a6dd7+=',\x20resultado:\x20'+_0x69bcb5+'.',_0x33c849[_0x3f99eb(0x73a)](_0x3a6dd7);}_0x69bcb5!==null&&(_0x40a873=_0x69bcb5);}if(_0x320b79[_0x3f99eb(0x5ae)][_0x3f99eb(0x706)]&&_0x49b432[_0x3f99eb(0x1d0)]){_0x320b79[_0x3f99eb(0x5ae)][_0x3f99eb(0x706)][_0x49b432[_0x3f99eb(0x1d0)]]=_0x40a873;let _0x5f3c74={'variable':_0x49b432[_0x3f99eb(0x1d0)],'oldValue':_0x4ca965,'newValue':_0x40a873,'moreLogs':_0x33c849};try{this[_0x3f99eb(0x779)](_0x320b79,_0x49b432,_0x5f3c74);}catch(_0x1672a1){console[_0x3f99eb(0x2e0)](_0x3f99eb(0x38a)+_0x1672a1[_0x3f99eb(0x64b)]);}}return _0x15777d;}catch(_0x18a6d9){return console[_0x3f99eb(0x2e0)](_0x3f99eb(0x277)+_0x18a6d9[_0x3f99eb(0x64b)]),null;}}async['processConditions'](_0x4ebb4e,_0x63feb0){const _0x8c20a9=a0_0x556deb;try{let _0x589ed1=[],_0x203581=_0x4ebb4e[_0x8c20a9(0x5c9)][_0x8c20a9(0x298)](_0x419596=>_0x419596[_0x8c20a9(0x4b8)]===_0x63feb0[_0x8c20a9(0x782)][_0x8c20a9(0x77f)]()),_0x54c471=null,_0x1be447=!0x1;for(let _0x3f3bab of _0x203581){let _0x27c8e8=this['evaluateCondition'](_0x4ebb4e,_0x3f3bab);_0x589ed1[_0x8c20a9(0x73a)](_0x8c20a9(0x5a0)+_0x3f3bab[_0x8c20a9(0x320)]+_0x8c20a9(0x2e3)+_0x3f3bab[_0x8c20a9(0x63a)]+_0x8c20a9(0x4c0)+_0x3f3bab[_0x8c20a9(0x6f3)]+_0x8c20a9(0x75b)+_0x27c8e8),_0x54c471===null?_0x54c471=_0x27c8e8:_0x3f3bab[_0x8c20a9(0x4e0)]===_0x8c20a9(0x3bf)?(_0x54c471=_0x54c471&&_0x27c8e8,_0x27c8e8||(_0x1be447=!0x0)):_0x3f3bab[_0x8c20a9(0x4e0)]==='or'&&(_0x1be447||(_0x54c471=_0x54c471||_0x27c8e8));}_0x54c471===null&&(_0x54c471=!0x0);let _0x3d1306={'moreLogs':_0x589ed1};_0x4ebb4e[_0x8c20a9(0x5ae)][_0x8c20a9(0x3b8)]=_0x54c471,await this[_0x8c20a9(0x779)](_0x4ebb4e,_0x63feb0,_0x3d1306);}catch(_0x49bb7e){this['logger'][_0x8c20a9(0x2e0)](this['instanceName']+'\x20('+this[_0x8c20a9(0x4b7)][_0x8c20a9(0x30d)]+_0x8c20a9(0x3b1)+JSON['stringify'](_0x49bb7e,null,0x2));}}[a0_0x556deb(0x500)](_0x1bc7a3,_0x409e0d){const _0x30d217=a0_0x556deb;let _0x4b2a55=_0x409e0d[_0x30d217(0x320)],_0x2409ee=_0x409e0d[_0x30d217(0x6f3)];typeof _0x4b2a55==_0x30d217(0x20c)&&(_0x4b2a55=this[_0x30d217(0x465)](_0x4b2a55,_0x1bc7a3[_0x30d217(0x5ae)][_0x30d217(0x706)])??''),typeof _0x2409ee=='string'&&(_0x2409ee=this[_0x30d217(0x465)](_0x2409ee,_0x1bc7a3['chatLog']['realVariables'])??'');try{switch(_0x409e0d['expression']){case _0x30d217(0x6de):return _0x4b2a55===_0x2409ee;case _0x30d217(0x540):return _0x4b2a55!==_0x2409ee;case'contains':return _0x4b2a55[_0x30d217(0x619)](_0x2409ee);case _0x30d217(0x6a3):return!_0x4b2a55['includes'](_0x2409ee);case'greater':return parseFloat(_0x4b2a55)>parseFloat(_0x2409ee);case'less':return parseFloat(_0x4b2a55)<parseFloat(_0x2409ee);case'notEmpty':return _0x4b2a55!=='';case _0x30d217(0x4b6):return _0x4b2a55==='';case _0x30d217(0x2ac):return new RegExp(_0x2409ee)[_0x30d217(0x2e1)](_0x4b2a55);case _0x30d217(0x2ab):return!new RegExp(_0x2409ee)[_0x30d217(0x2e1)](_0x4b2a55);default:return!0x1;}}catch(_0x3fb651){return console['error'](_0x30d217(0x682)+_0x3fb651),!0x1;}}[a0_0x556deb(0x21f)](_0x51fc7d){const _0x1123c2=a0_0x556deb;let _0x425572=!0x0,_0x2b928d=null;for(let _0x1bedf7 of _0x51fc7d){let _0xa96d03=this[_0x1123c2(0x31a)](_0x1bedf7);if(_0x2b928d==='or'&&_0xa96d03){_0x425572=!0x0;break;}if(_0x2b928d===_0x1123c2(0x3bf)&&!_0xa96d03){_0x425572=!0x1;break;}_0x2b928d=_0x1bedf7[_0x1123c2(0x4e0)];}return _0x425572;}[a0_0x556deb(0x31a)](_0x3f23ca){const _0xde8a2e=a0_0x556deb;let _0x1eeb98=_0x3f23ca[_0xde8a2e(0x320)],_0x510f3f=_0x3f23ca[_0xde8a2e(0x6f3)];try{switch(_0x3f23ca[_0xde8a2e(0x63a)]){case _0xde8a2e(0x6de):return String(_0x1eeb98)===String(_0x510f3f);case _0xde8a2e(0x540):return String(_0x1eeb98)!==String(_0x510f3f);case'contains':return String(_0x1eeb98)[_0xde8a2e(0x619)](String(_0x510f3f));case'notContains':return!String(_0x1eeb98)[_0xde8a2e(0x619)](String(_0x510f3f));case _0xde8a2e(0x714):return parseFloat(String(_0x1eeb98))>parseFloat(String(_0x510f3f));case'less':return parseFloat(String(_0x1eeb98))<parseFloat(String(_0x510f3f));case'notEmpty':return String(_0x1eeb98)!=='';case _0xde8a2e(0x4b6):return String(_0x1eeb98)==='';case'matchRegex':return new RegExp(String(_0x510f3f))[_0xde8a2e(0x2e1)](String(_0x1eeb98));case _0xde8a2e(0x2ab):return!new RegExp(String(_0x510f3f))[_0xde8a2e(0x2e1)](String(_0x1eeb98));default:return!0x1;}}catch(_0x2fb7de){return console[_0xde8a2e(0x2e0)](_0xde8a2e(0x682)+_0x2fb7de),!0x1;}}async[a0_0x556deb(0x67b)](_0x4aabec,_0x11d71f){const _0xc0cba7=a0_0x556deb;if(this[_0xc0cba7(0x256)]['verbose'](this[_0xc0cba7(0x780)]+'\x20('+this['instance'][_0xc0cba7(0x30d)]+_0xc0cba7(0x1f0)),!_0x4aabec||!_0x11d71f)return this[_0xc0cba7(0x256)][_0xc0cba7(0x2e0)](this[_0xc0cba7(0x780)]+'\x20('+this['instance']['wuid']+_0xc0cba7(0x365)),null;let _0x4c8b0a=_0x11d71f['saveVariable'],_0x367ba4=_0x4aabec[_0xc0cba7(0x5ae)][_0xc0cba7(0x250)]['text']||_0x4aabec[_0xc0cba7(0x5ae)]['lastReceivedMessage'][_0xc0cba7(0x5df)]||_0x4aabec[_0xc0cba7(0x5ae)]['lastReceivedMessage'][_0xc0cba7(0x31c)];try{_0x4aabec[_0xc0cba7(0x5ae)]['realVariables']||(_0x4aabec[_0xc0cba7(0x5ae)][_0xc0cba7(0x706)]={});let _0x5c30ac=_0x4aabec['chatLog'][_0xc0cba7(0x706)][_0x4c8b0a];_0x4aabec[_0xc0cba7(0x5ae)][_0xc0cba7(0x706)][_0x4c8b0a]=_0x367ba4;let _0x2d6804={'variable':_0x4c8b0a,'oldValue':_0x5c30ac,'newValue':_0x367ba4};this[_0xc0cba7(0x779)](_0x4aabec,_0x11d71f,_0x2d6804),this[_0xc0cba7(0x256)][_0xc0cba7(0x31f)](this[_0xc0cba7(0x780)]+'\x20('+this[_0xc0cba7(0x4b7)][_0xc0cba7(0x30d)]+_0xc0cba7(0x79b));}catch(_0x222f54){let _0x1c2aa1={'error':!0x0,'errorLog':_0x222f54['toString']()};return this['updateConversation'](_0x4aabec,_0x11d71f,_0x1c2aa1),this[_0xc0cba7(0x256)][_0xc0cba7(0x2e0)](this[_0xc0cba7(0x780)]+'\x20('+this['instance']['wuid']+_0xc0cba7(0x526)+JSON[_0xc0cba7(0x296)](_0x222f54,null,0x2)),null;}}async['stopConversation'](_0x56e7fa,_0x36c43f){const _0x522bcc=a0_0x556deb;if(this[_0x522bcc(0x256)][_0x522bcc(0x31f)](this['instanceName']+'\x20('+this['instance'][_0x522bcc(0x30d)]+_0x522bcc(0x380)),!_0x56e7fa||!_0x36c43f)return this['logger'][_0x522bcc(0x2e0)](this[_0x522bcc(0x780)]+'\x20('+this[_0x522bcc(0x4b7)][_0x522bcc(0x30d)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x3fa337=Date[_0x522bcc(0x23b)](),_0x1b3a0b=parseInt(_0x36c43f[_0x522bcc(0x437)],0xa);if(isNaN(_0x1b3a0b))return this['logger'][_0x522bcc(0x2e0)](this[_0x522bcc(0x780)]+'\x20('+this['instance'][_0x522bcc(0x30d)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x3da100={'newStoppedUntil':_0x3fa337+_0x1b3a0b*0x3c*0x3e8};return await this[_0x522bcc(0x779)](_0x56e7fa,_0x36c43f,_0x3da100,!0x0),null;}async[a0_0x556deb(0x50b)](_0x4faeb5,_0x112ed5,_0x187bc4){const _0x3dff09=a0_0x556deb;try{switch(_0x112ed5[_0x3dff09(0x629)][_0x3dff09(0x537)]){case _0x3dff09(0x5c3):await this['uazapiSendText'](_0x4faeb5,_0x112ed5,_0x187bc4);break;case _0x3dff09(0x610):await this[_0x3dff09(0x710)](_0x4faeb5,_0x112ed5,_0x187bc4);break;case _0x3dff09(0x635):await this[_0x3dff09(0x538)](_0x4faeb5,_0x112ed5,_0x187bc4);break;case _0x3dff09(0x63f):await this[_0x3dff09(0x2bc)](_0x4faeb5,_0x112ed5,_0x187bc4);break;case _0x3dff09(0x413):await this[_0x3dff09(0x4fb)](_0x4faeb5,_0x112ed5,_0x187bc4);break;case _0x3dff09(0x63e):await this[_0x3dff09(0x4e6)](_0x4faeb5,_0x112ed5,_0x187bc4);break;case'deleteMessage':await this[_0x3dff09(0x5ff)](_0x4faeb5,_0x112ed5,_0x187bc4);break;default:this['logger']['error'](this['instanceName']+'\x20('+this[_0x3dff09(0x4b7)][_0x3dff09(0x30d)]+'):\x20Comando\x20desconhecido:\x20'+_0x112ed5[_0x3dff09(0x629)][_0x3dff09(0x537)]);}}catch(_0x2cbe80){this[_0x3dff09(0x256)][_0x3dff09(0x2e0)](this['instanceName']+'\x20('+this[_0x3dff09(0x4b7)]['wuid']+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+JSON[_0x3dff09(0x296)](_0x2cbe80,null,0x2));}}async[a0_0x556deb(0x779)](_0x24e8b7,_0xa43d1f,_0x3b6780,_0x35daa1=!0x1,_0x42c9c2=!0x1){const _0x509bc4=a0_0x556deb;_0x24e8b7[_0x509bc4(0x5ae)][_0x509bc4(0x5cc)]||(_0x24e8b7[_0x509bc4(0x5ae)]['blockLogs']=[]);let _0x166746=(_0x24e8b7[_0x509bc4(0x5ae)][_0x509bc4(0x5cc)]?.[_0x509bc4(0x72a)]??0x0)+0x1,_0x4a51d8=_0x24e8b7[_0x509bc4(0x5ae)]['blockLogs'][_0x509bc4(0x298)](_0x231977=>String(_0x231977[_0x509bc4(0x4b8)])===String(_0xa43d1f[_0x509bc4(0x782)]))['length']+0x1,_0x247d96=_0x3b6780?.[_0x509bc4(0x1ee)]??Date[_0x509bc4(0x23b)](),_0x5bbb87=_0x3b6780?.['error']?_0x3b6780[_0x509bc4(0x3d2)]??_0x3b6780[_0x509bc4(0x2e0)][_0x509bc4(0x77f)]():void 0x0,_0x5b6346={'onTime':_0x247d96,'blockId':_0xa43d1f[_0x509bc4(0x782)],'order':_0x166746,'activatedCount':_0x4a51d8,'error':_0x3b6780?.[_0x509bc4(0x2e0)]??!0x1,'messageId':_0x3b6780?.[_0x509bc4(0x306)],'apiResponse':_0x3b6780?.['apiResponse'],'apiResponseString':_0x3b6780?.[_0x509bc4(0x208)]?JSON['stringify'](_0x3b6780?.[_0x509bc4(0x208)]):void 0x0,'variable':_0x3b6780?.[_0x509bc4(0x1d6)],'oldValue':_0x3b6780?.[_0x509bc4(0x44e)],'newValue':_0x3b6780?.[_0x509bc4(0x6f8)],'newStoppedUntil':_0x3b6780?.[_0x509bc4(0x654)],'moreLogs':_0x3b6780?.[_0x509bc4(0x5a7)],'errorLog':_0x5bbb87};if(_0x3b6780[_0x509bc4(0x5a7)]&&_0x3b6780[_0x509bc4(0x5a7)][_0x509bc4(0x72a)]>0x0){let _0x15b59c=_0x3b6780[_0x509bc4(0x5a7)][_0x509bc4(0x608)](_0x574ea8=>this[_0x509bc4(0x475)](_0x574ea8,_0x24e8b7['chatLog'][_0x509bc4(0x706)]));_0x5b6346[_0x509bc4(0x5a7)]=_0x15b59c;}_0x24e8b7[_0x509bc4(0x5ae)]['realVariables']||(_0x24e8b7[_0x509bc4(0x5ae)][_0x509bc4(0x706)]={}),_0x24e8b7['chatLog'][_0x509bc4(0x706)][_0x509bc4(0x29e)]=String(_0x4a51d8),_0x24e8b7[_0x509bc4(0x5ae)][_0x509bc4(0x706)][_0x509bc4(0x4c6)]=String(_0x3b6780[_0x509bc4(0x2e0)]??!0x1),_0x24e8b7[_0x509bc4(0x5ae)][_0x509bc4(0x5cc)][_0x509bc4(0x73a)](_0x5b6346),_0x24e8b7['chatLog'][_0x509bc4(0x2e6)]=_0xa43d1f[_0x509bc4(0x782)][_0x509bc4(0x77f)](),_0x24e8b7[_0x509bc4(0x5ae)][_0x509bc4(0x346)]&&(_0x24e8b7[_0x509bc4(0x5ae)][_0x509bc4(0x346)]=_0x24e8b7[_0x509bc4(0x5ae)][_0x509bc4(0x346)]),_0x24e8b7[_0x509bc4(0x5ae)][_0x509bc4(0x250)]&&(_0x24e8b7[_0x509bc4(0x5ae)]['lastReceivedMessage']=_0x24e8b7[_0x509bc4(0x5ae)][_0x509bc4(0x250)]),_0x24e8b7[_0x509bc4(0x5ae)][_0x509bc4(0x3b8)]&&(_0x24e8b7['chatLog']['lastCondition']=_0x24e8b7['chatLog'][_0x509bc4(0x3b8)]),_0x42c9c2&&(_0x24e8b7[_0x509bc4(0x65f)]=_0x509bc4(0x461)),_0x35daa1?this[_0x509bc4(0x783)](_0x24e8b7):this[_0x509bc4(0x47f)](_0x24e8b7,_0xa43d1f);}['replaceVariablesLogs'](_0x36c3ba,_0x1d19f2){const _0x5ad156=a0_0x556deb;return _0x36c3ba[_0x5ad156(0x3f6)](/\{\{([^}]+)\}\}/g,(_0x255e4e,_0x2d742f)=>_0x1d19f2[_0x2d742f]?'{{'+_0x2d742f+_0x5ad156(0x430)+_0x1d19f2[_0x2d742f]+'\x22':'{{'+_0x2d742f+_0x5ad156(0x611));}async[a0_0x556deb(0x783)](_0x308ef2){const _0x16c1d0=a0_0x556deb;try{let _0x41b47f=Object[_0x16c1d0(0x627)](_0x308ef2[_0x16c1d0(0x5ae)]['realVariables'])[_0x16c1d0(0x608)](([_0x25b808,_0x1acf7c])=>({'name':_0x25b808,'value':_0x1acf7c})),_0x43ef9e=await J['findOneAndUpdate']({'_id':_0x308ef2['_id']},{'$set':{'chatLog.lastBlockId':_0x308ef2[_0x16c1d0(0x5ae)][_0x16c1d0(0x2e6)],'blocks':_0x308ef2[_0x16c1d0(0x262)],'chatLog.lastSendMessage':_0x308ef2[_0x16c1d0(0x5ae)]['lastSendMessage'],'chatLog.lastReceivedMessage':_0x308ef2[_0x16c1d0(0x5ae)][_0x16c1d0(0x250)],'chatLog.lastCondition':_0x308ef2[_0x16c1d0(0x5ae)][_0x16c1d0(0x3b8)],'chatLog.chatVariables':_0x41b47f,'chatLog.realVariables':_0x308ef2['chatLog']['realVariables'],'status':_0x308ef2[_0x16c1d0(0x65f)],'chatLog.blockLogs':_0x308ef2['chatLog'][_0x16c1d0(0x5cc)],'waitingPoll_id':_0x308ef2['waitingPoll_id'],'waitingPoll_name':_0x308ef2[_0x16c1d0(0x409)],'waitingPoll_replyOptions':_0x308ef2['waitingPoll_replyOptions']}},{'new':!0x0});if(_0x43ef9e){this[_0x16c1d0(0x256)][_0x16c1d0(0x31f)](this[_0x16c1d0(0x780)]+'\x20('+this['instance'][_0x16c1d0(0x30d)]+_0x16c1d0(0x35f)+_0x43ef9e[_0x16c1d0(0x782)]);try{let _0x3a0ee4=[_0x16c1d0(0x268),_0x16c1d0(0x224),'email',_0x16c1d0(0x2c0),_0x16c1d0(0x65f),_0x16c1d0(0x2cb),_0x16c1d0(0x626),_0x16c1d0(0x66c)];if(!this[_0x16c1d0(0x640)]&&(await this[_0x16c1d0(0x6cd)](),!this[_0x16c1d0(0x640)]))throw new Error(_0x16c1d0(0x386));let _0x5cf863=this[_0x16c1d0(0x640)]?.[_0x16c1d0(0x6a5)]['map'](_0x434af1=>_0x434af1[_0x16c1d0(0x750)]),_0x5cf4ff={};Object['entries'](_0x308ef2['chatLog'][_0x16c1d0(0x706)])[_0x16c1d0(0x513)](([_0x141af7,_0x381af0])=>{const _0x2b6fb3=_0x16c1d0;_0x3a0ee4[_0x2b6fb3(0x619)](_0x141af7)&&(_0x141af7==='tags'&&typeof _0x381af0==_0x2b6fb3(0x20c)?_0x5cf4ff[_0x141af7]=_0x381af0['split'](',')['map'](_0x329b95=>_0x329b95[_0x2b6fb3(0x419)]())['filter'](_0x1f7b4a=>_0x1f7b4a!==''):_0x5cf4ff[_0x141af7]=_0x381af0);});let _0x2d9258=_0x308ef2['chatLog'][_0x16c1d0(0x5cc)][_0x308ef2['chatLog'][_0x16c1d0(0x5cc)][_0x16c1d0(0x72a)]-0x1];if(_0x2d9258){let _0x282020=_0x2d9258['newStoppedUntil'];_0x282020!==void 0x0&&(_0x5cf4ff['desativadoFluxoAte']=_0x282020[_0x16c1d0(0x77f)]());}let _0x18f9d8=_0x41b47f[_0x16c1d0(0x298)](_0x595776=>_0x5cf863['includes'](_0x595776[_0x16c1d0(0x750)]));this['logger'][_0x16c1d0(0x31f)](this[_0x16c1d0(0x780)]+'\x20('+this['instance'][_0x16c1d0(0x30d)]+_0x16c1d0(0x65b)),this[_0x16c1d0(0x256)][_0x16c1d0(0x31f)](_0x5cf4ff),this['logger'][_0x16c1d0(0x31f)](this['instanceName']+'\x20('+this[_0x16c1d0(0x4b7)][_0x16c1d0(0x30d)]+_0x16c1d0(0x563)),this[_0x16c1d0(0x256)][_0x16c1d0(0x31f)](_0x18f9d8);let _0x26472e=_0x18f9d8['map'](_0x42fab5=>{const _0x451e74=_0x16c1d0;let _0x59dbaf=this[_0x451e74(0x640)]?.[_0x451e74(0x6a5)][_0x451e74(0x33f)](_0x4a125f=>_0x4a125f[_0x451e74(0x750)]===_0x42fab5['name']);if(!_0x59dbaf)throw new Error(_0x451e74(0x22e)+_0x42fab5['name']);return{'_id':_0x59dbaf['_id'],'value':_0x42fab5[_0x451e74(0x65d)]};});this[_0x16c1d0(0x256)][_0x16c1d0(0x31f)](this[_0x16c1d0(0x780)]+'\x20('+this[_0x16c1d0(0x4b7)][_0x16c1d0(0x30d)]+_0x16c1d0(0x289)),this[_0x16c1d0(0x256)][_0x16c1d0(0x31f)](_0x26472e),await this[_0x16c1d0(0x3e9)](_0x308ef2['remoteJid'],_0x5cf4ff,_0x26472e);}catch(_0x1a49f5){this['logger']['error'](this[_0x16c1d0(0x780)]+'\x20('+this['instance'][_0x16c1d0(0x30d)]+_0x16c1d0(0x5b9)+JSON[_0x16c1d0(0x296)](_0x1a49f5));}}else this[_0x16c1d0(0x256)][_0x16c1d0(0x2e0)](this[_0x16c1d0(0x780)]+'\x20('+this[_0x16c1d0(0x4b7)][_0x16c1d0(0x30d)]+_0x16c1d0(0x3f9));}catch(_0x303a82){this[_0x16c1d0(0x256)]['error'](this[_0x16c1d0(0x780)]+'\x20('+this['instance']['wuid']+_0x16c1d0(0x61f)+JSON[_0x16c1d0(0x296)](_0x303a82));}}async[a0_0x556deb(0x3e9)](_0x4e23ba,_0x29fc7b,_0x3662fa){const _0xf537a1=a0_0x556deb;try{let _0x527e03={'leadInfo.leadnome':_0x29fc7b[_0xf537a1(0x268)],'leadInfo.nomecompleto':_0x29fc7b[_0xf537a1(0x224)],'leadInfo.email':_0x29fc7b[_0xf537a1(0x54a)],'leadInfo.cpf':_0x29fc7b[_0xf537a1(0x2c0)],'leadInfo.status':_0x29fc7b[_0xf537a1(0x65f)],'leadInfo.notas':_0x29fc7b[_0xf537a1(0x2cb)],'leadInfo.responsavelid':_0x29fc7b[_0xf537a1(0x626)],'leadInfo.tags':_0x29fc7b[_0xf537a1(0x66c)],'leadInfo.customFields':_0x3662fa};if('desativadoFluxoAte'in _0x29fc7b){let _0x10fa6d=_0x29fc7b[_0xf537a1(0x452)];_0x527e03[_0xf537a1(0x24a)]=_0x10fa6d?Number(_0x10fa6d):null;}let _0x5a25b3=await this[_0xf537a1(0x3df)][_0xf537a1(0x1dd)][_0xf537a1(0x51f)]({'where':{'_id':_0x4e23ba,'owner':this[_0xf537a1(0x4b7)][_0xf537a1(0x30d)]}},_0x527e03);_0x5a25b3?(this[_0xf537a1(0x256)]['verbose'](this[_0xf537a1(0x780)]+'\x20('+this['instance'][_0xf537a1(0x30d)]+_0xf537a1(0x58c)+_0x5a25b3[_0xf537a1(0x782)]),F(this[_0xf537a1(0x780)],_0xf537a1(0x2d6),{'chat':_0x5a25b3})):this['logger'][_0xf537a1(0x2e0)](this[_0xf537a1(0x780)]+'\x20('+this['instance'][_0xf537a1(0x30d)]+_0xf537a1(0x422));}catch(_0x285f61){this['logger']['error'](this[_0xf537a1(0x780)]+'\x20('+this[_0xf537a1(0x4b7)][_0xf537a1(0x30d)]+_0xf537a1(0x20a)+JSON['stringify'](_0x285f61,null,0x2));}}async['updateStopChat'](_0x1d354e,_0x21de6e){const _0x18b1fa=a0_0x556deb;this['logger'][_0x18b1fa(0x31f)](this[_0x18b1fa(0x780)]+'\x20('+this[_0x18b1fa(0x4b7)][_0x18b1fa(0x30d)]+_0x18b1fa(0x597)+_0x21de6e);try{let _0x2211f5=await this['repository'][_0x18b1fa(0x1dd)][_0x18b1fa(0x51f)]({'where':{'_id':_0x1d354e[_0x18b1fa(0x4a9)],'owner':_0x1d354e[_0x18b1fa(0x698)]}},{'leadInfo.desativadoFluxoAte':_0x21de6e});this['logger'][_0x18b1fa(0x31f)](this[_0x18b1fa(0x780)]+'\x20('+this[_0x18b1fa(0x4b7)]['wuid']+_0x18b1fa(0x644)+_0x1d354e[_0x18b1fa(0x782)]),this[_0x18b1fa(0x256)]['verbose'](this['instanceName']+'\x20('+this[_0x18b1fa(0x4b7)][_0x18b1fa(0x30d)]+'):\x20atualização\x20chat:\x20'+JSON[_0x18b1fa(0x296)](_0x2211f5,null,0x2)),_0x2211f5&&F(this[_0x18b1fa(0x780)],_0x18b1fa(0x2d6),{'chat':_0x2211f5});}catch(_0x116629){this['logger'][_0x18b1fa(0x2e0)](this[_0x18b1fa(0x780)]+'\x20('+this[_0x18b1fa(0x4b7)]['wuid']+_0x18b1fa(0x4b1)+JSON[_0x18b1fa(0x296)](_0x116629));}}async['findFlow'](_0x20a220,_0x1aa435){const _0x591464=a0_0x556deb;try{this[_0x591464(0x256)][_0x591464(0x31f)](this[_0x591464(0x780)]+'\x20('+this[_0x591464(0x4b7)][_0x591464(0x30d)]+_0x591464(0x281));let _0x5a9a4c=_0x1aa435[_0x591464(0x3f6)](/\D/g,''),_0x3e89e8=await I['findOne']({'owner':_0x20a220,'testingWith':_0x5a9a4c});return _0x3e89e8||(this[_0x591464(0x256)][_0x591464(0x31f)](this[_0x591464(0x780)]+'\x20('+this[_0x591464(0x4b7)][_0x591464(0x30d)]+_0x591464(0x7a1)),_0x3e89e8=await I[_0x591464(0x3ef)]({'owner':_0x20a220,'default':!0x0})),_0x3e89e8||(this[_0x591464(0x256)][_0x591464(0x31f)](this[_0x591464(0x780)]+'\x20('+this[_0x591464(0x4b7)]['wuid']+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x354da3){return this[_0x591464(0x256)][_0x591464(0x2e0)](this[_0x591464(0x780)]+'\x20('+this[_0x591464(0x4b7)][_0x591464(0x30d)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+JSON['stringify'](_0x354da3,null,0x2)),null;}}async[a0_0x556deb(0x2ea)](_0x208231,_0x20f164,_0x51346b){const _0x3b803a=a0_0x556deb;try{let _0x1d5e15=!!_0x51346b[_0x3b803a(0x31c)],_0x507995=_0x51346b['poll_id'],_0x1aa232=null;if(this[_0x3b803a(0x256)][_0x3b803a(0x31f)](this[_0x3b803a(0x780)]+'\x20('+this[_0x3b803a(0x4b7)][_0x3b803a(0x30d)]+_0x3b803a(0x499)+_0x1d5e15+'poll_id'+_0x507995),_0x1d5e15)return this[_0x3b803a(0x256)][_0x3b803a(0x31f)](this[_0x3b803a(0x780)]+'\x20('+this['instance'][_0x3b803a(0x30d)]+_0x3b803a(0x55f)),_0x1aa232=await J[_0x3b803a(0x3ef)]({'owner':_0x208231,'remoteJid':_0x20f164,'waitingPoll_id':_0x507995}),_0x1aa232?(_0x1aa232[_0x3b803a(0x255)]=Date[_0x3b803a(0x23b)](),_0x1aa232[_0x3b803a(0x5ae)][_0x3b803a(0x250)]=_0x51346b,_0x1aa232):(this['logger'][_0x3b803a(0x31f)](this[_0x3b803a(0x780)]+'\x20('+this[_0x3b803a(0x4b7)][_0x3b803a(0x30d)]+_0x3b803a(0x6e3)),null);{if(this['logger'][_0x3b803a(0x31f)](this[_0x3b803a(0x780)]+'\x20('+this[_0x3b803a(0x4b7)][_0x3b803a(0x30d)]+'):\x20'+this[_0x3b803a(0x4b7)]['wuid']+_0x3b803a(0x1e1)),this['logger'][_0x3b803a(0x31f)](this['instanceName']+'\x20('+this[_0x3b803a(0x4b7)][_0x3b803a(0x30d)]+_0x3b803a(0x5f0)),_0x1aa232=await J[_0x3b803a(0x3ef)]({'owner':_0x208231,'remoteJid':_0x20f164,'status':_0x3b803a(0x267)}),!_0x1aa232){let _0x4f04d4=await this[_0x3b803a(0x372)](_0x208231,_0x20f164);if(_0x4f04d4&&(_0x1aa232=await this[_0x3b803a(0x704)](_0x4f04d4,_0x51346b['key'],_0x51346b)),!_0x1aa232)return null;}let _0x33a558=Date[_0x3b803a(0x23b)](),_0x20723c=_0x1aa232?.[_0x3b803a(0x4fe)]||0x0,_0x289f2f=_0x33a558-_0x20723c*0x3c*0x3e8;if(this[_0x3b803a(0x256)]['verbose'](this[_0x3b803a(0x780)]+'\x20('+this['instance'][_0x3b803a(0x30d)]+_0x3b803a(0x47b)+_0x33a558+_0x3b803a(0x489)+_0x20723c+_0x3b803a(0x221)+_0x289f2f),this[_0x3b803a(0x256)][_0x3b803a(0x31f)](this['instanceName']+'\x20('+this[_0x3b803a(0x4b7)][_0x3b803a(0x30d)]+_0x3b803a(0x3fa)),this[_0x3b803a(0x256)][_0x3b803a(0x31f)](this[_0x3b803a(0x780)]+'\x20('+this[_0x3b803a(0x4b7)]['wuid']+_0x3b803a(0x2b4)+_0x1aa232[_0x3b803a(0x255)]),this['logger'][_0x3b803a(0x31f)](this[_0x3b803a(0x780)]+'\x20('+this[_0x3b803a(0x4b7)][_0x3b803a(0x30d)]+_0x3b803a(0x535)+_0x289f2f),_0x1aa232[_0x3b803a(0x255)]<_0x289f2f){this[_0x3b803a(0x256)]['verbose'](this['instanceName']+'\x20('+this[_0x3b803a(0x4b7)][_0x3b803a(0x30d)]+'):\x20Conversa\x20está\x20expirada');let _0x3abdb0=await this[_0x3b803a(0x372)](_0x208231,_0x20f164);if(_0x3abdb0===null)return null;_0x1aa232&&await J[_0x3b803a(0x51f)]({'_id':_0x1aa232[_0x3b803a(0x782)]},{'status':'closed'}),_0x1aa232=await this[_0x3b803a(0x704)](_0x3abdb0,_0x51346b[_0x3b803a(0x66e)],_0x51346b);}return _0x1aa232[_0x3b803a(0x255)]=_0x33a558,_0x1aa232[_0x3b803a(0x5ae)]['lastReceivedMessage']=_0x51346b,_0x1aa232;}}catch(_0x33bcde){return this[_0x3b803a(0x256)][_0x3b803a(0x2e0)](this[_0x3b803a(0x780)]+'\x20('+this['instance'][_0x3b803a(0x30d)]+_0x3b803a(0x378)+JSON['stringify'](_0x33bcde,null,0x2)),null;}}async[a0_0x556deb(0x704)](_0x249cfc,_0x416420,_0x493c6e){const _0x5d77d5=a0_0x556deb;this[_0x5d77d5(0x256)][_0x5d77d5(0x31f)](this[_0x5d77d5(0x780)]+'\x20('+this['instance'][_0x5d77d5(0x30d)]+_0x5d77d5(0x576));try{let _0x4ea4fd=require(_0x5d77d5(0x2f2))[_0x5d77d5(0x444)],_0x530844=Date[_0x5d77d5(0x23b)](),_0x34ee53=_0x5d77d5(0x612),_0x4d099c=_0x416420[_0x5d77d5(0x2b7)]?null:_0x493c6e,_0x5096d0=_0x416420[_0x5d77d5(0x2b7)]?_0x493c6e:null,_0x45cd02=_0x416420['remoteJid'];await this[_0x5d77d5(0x2c8)](_0x45cd02);let _0x5477a5={..._0x249cfc[_0x5d77d5(0x275)],'chatLog':null},_0x5ae77e=await this[_0x5d77d5(0x520)](_0x5477a5[_0x5d77d5(0x32e)]),_0x481745=await this[_0x5d77d5(0x5bb)](_0x45cd02),_0x2ce897={..._0x5ae77e,..._0x481745,'_remoteJid':_0x45cd02},_0x574383={'lastReceivedMessage':_0x4d099c,'lastSendMessage':_0x5096d0,'lastBlockId':_0x34ee53,'lastCondition':!0x0,'realVariables':_0x2ce897};_0x5477a5['chatLog']=_0x574383,delete _0x5477a5[_0x5d77d5(0x782)],_0x5477a5[_0x5d77d5(0x782)]=new _0x4ea4fd(),_0x5477a5['lastInteraction']=_0x530844,_0x5477a5['status']='open',_0x5477a5['remoteJid']=_0x45cd02;let _0x2bfa33=await J[_0x5d77d5(0x5e3)](_0x5477a5);return this[_0x5d77d5(0x256)][_0x5d77d5(0x31f)](this[_0x5d77d5(0x780)]+'\x20('+this[_0x5d77d5(0x4b7)][_0x5d77d5(0x30d)]+_0x5d77d5(0x47d)),_0x2bfa33?_0x5477a5:null;}catch(_0x4c1248){return this['logger'][_0x5d77d5(0x2e0)](this[_0x5d77d5(0x780)]+'\x20('+this[_0x5d77d5(0x4b7)][_0x5d77d5(0x30d)]+_0x5d77d5(0x75c)+JSON[_0x5d77d5(0x296)](_0x4c1248,null,0x2)),_0x4c1248;}}async['uazapiSendText'](_0xb62248,_0x17e8d9,_0x41a74e){const _0x166aff=a0_0x556deb;this[_0x166aff(0x256)][_0x166aff(0x31f)](this['instanceName']+'\x20('+this[_0x166aff(0x4b7)][_0x166aff(0x30d)]+_0x166aff(0x42b));let _0x1638af={'number':_0x41a74e,'options':{'delay':_0x17e8d9[_0x166aff(0x629)][_0x166aff(0x22f)]},'textMessage':{'text':_0x17e8d9[_0x166aff(0x629)][_0x166aff(0x72c)]}};try{let _0x25aa11=await this[_0x166aff(0x49e)](_0x1638af);if(_0x25aa11){let _0x39a1b0={'_id':_0x25aa11[_0x166aff(0x66e)]['id'],'_fromMe':_0x25aa11[_0x166aff(0x66e)][_0x166aff(0x2b7)],'_remoteJid':_0x25aa11[_0x166aff(0x66e)]['remoteJid']};_0xb62248['chatLog'][_0x166aff(0x2e6)]=_0x17e8d9[_0x166aff(0x782)]['toString']();let {message_normalized:_0x29b4bf}=this['normalizeMessage'](_0x25aa11[_0x166aff(0x64b)],G(_0x25aa11['message']),null);_0xb62248[_0x166aff(0x5ae)][_0x166aff(0x346)]=await _0x29b4bf;let _0x46d789={'messageId':_0x25aa11['key']['id']},_0xcb0c5=_0xb62248[_0x166aff(0x5ae)][_0x166aff(0x706)];Object[_0x166aff(0x3db)](_0xcb0c5,_0x39a1b0),_0xb62248['chatLog'][_0x166aff(0x706)]=_0xcb0c5,this[_0x166aff(0x779)](_0xb62248,_0x17e8d9,_0x46d789);}else{let _0x46d594={'error':!0x0};this[_0x166aff(0x779)](_0xb62248,_0x17e8d9,_0x46d594),this[_0x166aff(0x256)][_0x166aff(0x2e0)](this[_0x166aff(0x780)]+'\x20('+this['instance'][_0x166aff(0x30d)]+_0x166aff(0x3d3));}}catch(_0x3ca062){let _0x455b73={'error':!0x0,'errorLog':_0x3ca062[_0x166aff(0x77f)]()};this[_0x166aff(0x779)](_0xb62248,_0x17e8d9,_0x455b73),this[_0x166aff(0x256)]['error'](this[_0x166aff(0x780)]+'\x20('+this['instance'][_0x166aff(0x30d)]+_0x166aff(0x349)+JSON[_0x166aff(0x296)](_0x3ca062,null,0x2));}}async[a0_0x556deb(0x710)](_0xb327be,_0x3da7f9,_0x4f4944){const _0x3669c6=a0_0x556deb;this[_0x3669c6(0x256)][_0x3669c6(0x31f)](this[_0x3669c6(0x780)]+'\x20('+this['instance'][_0x3669c6(0x30d)]+'):\x20Enviando\x20mídia');let _0x282d7c={'number':_0x4f4944,'options':{'delay':_0x3da7f9['uazapi'][_0x3669c6(0x22f)]},'mediaMessage':{'mediatype':_0x3da7f9[_0x3669c6(0x629)][_0x3669c6(0x64a)],'caption':_0x3da7f9[_0x3669c6(0x629)][_0x3669c6(0x5df)],'media':_0x3da7f9[_0x3669c6(0x629)][_0x3669c6(0x32d)],'fileName':_0x3da7f9[_0x3669c6(0x629)][_0x3669c6(0x265)]}};try{let _0x5424d3=await this[_0x3669c6(0x57a)](_0x282d7c);if(_0x5424d3){let _0x4387e4={'_id':_0x5424d3[_0x3669c6(0x66e)]['id'],'_fromMe':_0x5424d3[_0x3669c6(0x66e)][_0x3669c6(0x2b7)],'_remoteJid':_0x5424d3[_0x3669c6(0x66e)]['remoteJid']};_0xb327be[_0x3669c6(0x5ae)][_0x3669c6(0x2e6)]=_0x3da7f9['_id'][_0x3669c6(0x77f)]();let {message_normalized:_0x24641d}=this[_0x3669c6(0x3b4)](_0x5424d3[_0x3669c6(0x64b)],G(_0x5424d3['message']),null);_0xb327be[_0x3669c6(0x5ae)][_0x3669c6(0x346)]=await _0x24641d;let _0x5f5b80={'messageId':_0x5424d3[_0x3669c6(0x66e)]['id']},_0x10e87b=_0xb327be[_0x3669c6(0x5ae)][_0x3669c6(0x706)];Object['assign'](_0x10e87b,_0x4387e4),_0xb327be[_0x3669c6(0x5ae)][_0x3669c6(0x706)]=_0x10e87b,this['updateConversation'](_0xb327be,_0x3da7f9,_0x5f5b80);}else{let _0x2999a0={'error':!0x0};this[_0x3669c6(0x779)](_0xb327be,_0x3da7f9,_0x2999a0),this[_0x3669c6(0x256)][_0x3669c6(0x2e0)](this[_0x3669c6(0x780)]+'\x20('+this[_0x3669c6(0x4b7)]['wuid']+_0x3669c6(0x491));}}catch(_0x265848){let _0x2bc506={'error':!0x0,'errorLog':_0x265848[_0x3669c6(0x77f)]()};this[_0x3669c6(0x779)](_0xb327be,_0x3da7f9,_0x2bc506),this['logger'][_0x3669c6(0x2e0)](this['instanceName']+'\x20('+this[_0x3669c6(0x4b7)][_0x3669c6(0x30d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+JSON['stringify'](_0x265848,null,0x2));}}async[a0_0x556deb(0x538)](_0x28fa7e,_0x3aee91,_0x53d72a){const _0x330b6e=a0_0x556deb;this[_0x330b6e(0x256)]['verbose'](this['instanceName']+'\x20('+this[_0x330b6e(0x4b7)][_0x330b6e(0x30d)]+'):\x20Enviando\x20localização');let _0x3b61fc={'number':_0x53d72a,'options':{'delay':_0x3aee91[_0x330b6e(0x629)][_0x330b6e(0x22f)]},'locationMessage':{'name':_0x3aee91[_0x330b6e(0x629)][_0x330b6e(0x750)],'address':_0x3aee91[_0x330b6e(0x629)][_0x330b6e(0x39a)],'latitude':_0x3aee91[_0x330b6e(0x629)][_0x330b6e(0x50c)],'longitude':_0x3aee91[_0x330b6e(0x629)]['longitude']}};try{let _0x519516=await this[_0x330b6e(0x3e6)](_0x3b61fc);if(_0x519516){let _0x5650aa={'_id':_0x519516[_0x330b6e(0x66e)]['id'],'_fromMe':_0x519516[_0x330b6e(0x66e)][_0x330b6e(0x2b7)],'_remoteJid':_0x519516[_0x330b6e(0x66e)]['remoteJid']};_0x28fa7e['chatLog'][_0x330b6e(0x2e6)]=_0x3aee91[_0x330b6e(0x782)]['toString']();let {message_normalized:_0x4a6f36}=this['normalizeMessage'](_0x519516['message'],G(_0x519516[_0x330b6e(0x64b)]),null);_0x28fa7e[_0x330b6e(0x5ae)][_0x330b6e(0x346)]=await _0x4a6f36;let _0x464f58={'messageId':_0x519516[_0x330b6e(0x66e)]['id']},_0x4c72b2=_0x28fa7e['chatLog']['realVariables'];Object[_0x330b6e(0x3db)](_0x4c72b2,_0x5650aa),_0x28fa7e[_0x330b6e(0x5ae)]['realVariables']=_0x4c72b2,this[_0x330b6e(0x779)](_0x28fa7e,_0x3aee91,_0x464f58);}else{let _0x3d464e={'error':!0x0};this[_0x330b6e(0x779)](_0x28fa7e,_0x3aee91,_0x3d464e),this['logger'][_0x330b6e(0x2e0)](this[_0x330b6e(0x780)]+'\x20('+this['instance'][_0x330b6e(0x30d)]+_0x330b6e(0x1fb));}}catch(_0x222a73){let _0x3f6e03={'error':!0x0,'errorLog':_0x222a73[_0x330b6e(0x77f)]()};this[_0x330b6e(0x779)](_0x28fa7e,_0x3aee91,_0x3f6e03),this[_0x330b6e(0x256)][_0x330b6e(0x2e0)](this[_0x330b6e(0x780)]+'\x20('+this[_0x330b6e(0x4b7)][_0x330b6e(0x30d)]+_0x330b6e(0x2b1)+JSON[_0x330b6e(0x296)](_0x222a73,null,0x2));}}async[a0_0x556deb(0x2bc)](_0x4a94f4,_0xede75e,_0x5df725){const _0x4aeefa=a0_0x556deb;this[_0x4aeefa(0x256)][_0x4aeefa(0x31f)](this[_0x4aeefa(0x780)]+'\x20('+this[_0x4aeefa(0x4b7)][_0x4aeefa(0x30d)]+_0x4aeefa(0x248));let _0x5e8d70={'number':_0x5df725,'options':{'delay':_0xede75e[_0x4aeefa(0x629)]['delay']},'audioMessage':{'audio':_0xede75e[_0x4aeefa(0x629)][_0x4aeefa(0x3c4)]}};try{let _0x532889=await this[_0x4aeefa(0x6e9)](_0x5e8d70);if(_0x532889){let _0x429959={'_id':_0x532889[_0x4aeefa(0x66e)]['id'],'_fromMe':_0x532889['key']['fromMe'],'_remoteJid':_0x532889[_0x4aeefa(0x66e)][_0x4aeefa(0x4a9)]};_0x4a94f4[_0x4aeefa(0x5ae)][_0x4aeefa(0x2e6)]=_0xede75e['_id'][_0x4aeefa(0x77f)]();let {message_normalized:_0x51ce2f}=this['normalizeMessage'](_0x532889[_0x4aeefa(0x64b)],G(_0x532889['message']),null);_0x4a94f4[_0x4aeefa(0x5ae)][_0x4aeefa(0x346)]=await _0x51ce2f;let _0x1fd045={'messageId':_0x532889[_0x4aeefa(0x66e)]['id']},_0x3e4687=_0x4a94f4[_0x4aeefa(0x5ae)][_0x4aeefa(0x706)];Object['assign'](_0x3e4687,_0x429959),_0x4a94f4[_0x4aeefa(0x5ae)]['realVariables']=_0x3e4687,this[_0x4aeefa(0x779)](_0x4a94f4,_0xede75e,_0x1fd045);}else{let _0x58a07f={'error':!0x0};this['updateConversation'](_0x4a94f4,_0xede75e,_0x58a07f),this[_0x4aeefa(0x256)][_0x4aeefa(0x2e0)](this[_0x4aeefa(0x780)]+'\x20('+this[_0x4aeefa(0x4b7)][_0x4aeefa(0x30d)]+_0x4aeefa(0x3d1));}}catch(_0x253fb0){let _0x586ee4={'error':!0x0,'errorLog':_0x253fb0[_0x4aeefa(0x77f)]()};this[_0x4aeefa(0x779)](_0x4a94f4,_0xede75e,_0x586ee4),this[_0x4aeefa(0x256)][_0x4aeefa(0x2e0)](this[_0x4aeefa(0x780)]+'\x20('+this[_0x4aeefa(0x4b7)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+JSON[_0x4aeefa(0x296)](_0x253fb0,null,0x2));}}async[a0_0x556deb(0x4fb)](_0x193c75,_0x94a0b5,_0x553d3d){const _0x499746=a0_0x556deb;this[_0x499746(0x256)][_0x499746(0x31f)](this[_0x499746(0x780)]+'\x20('+this[_0x499746(0x4b7)]['wuid']+_0x499746(0x56f));let _0x159083={'number':_0x553d3d,'options':{'delay':_0x94a0b5[_0x499746(0x629)]['delay']},'contactMessage':[{'fullName':_0x94a0b5['uazapi']['fullName'],'phoneNumber':_0x94a0b5['uazapi'][_0x499746(0x44c)]}]};try{let _0x2ae9ad=await this[_0x499746(0x68c)](_0x159083);if(_0x2ae9ad){let _0x1df90d={'_id':_0x2ae9ad[_0x499746(0x66e)]['id'],'_fromMe':_0x2ae9ad[_0x499746(0x66e)]['fromMe'],'_remoteJid':_0x2ae9ad['key'][_0x499746(0x4a9)]};_0x193c75['chatLog'][_0x499746(0x2e6)]=_0x94a0b5[_0x499746(0x782)][_0x499746(0x77f)]();let {message_normalized:_0x1057b8}=this[_0x499746(0x3b4)](_0x2ae9ad[_0x499746(0x64b)],G(_0x2ae9ad['message']),null);_0x193c75[_0x499746(0x5ae)][_0x499746(0x346)]=await _0x1057b8;let _0x21f9f9={'messageId':_0x2ae9ad[_0x499746(0x66e)]['id']},_0x4510c0=_0x193c75[_0x499746(0x5ae)][_0x499746(0x706)];Object[_0x499746(0x3db)](_0x4510c0,_0x1df90d),_0x193c75[_0x499746(0x5ae)][_0x499746(0x706)]=_0x4510c0,this[_0x499746(0x779)](_0x193c75,_0x94a0b5,_0x21f9f9);}else{let _0x43bafc={'error':!0x0};this[_0x499746(0x779)](_0x193c75,_0x94a0b5,_0x43bafc),this['logger'][_0x499746(0x2e0)](this[_0x499746(0x780)]+'\x20('+this[_0x499746(0x4b7)][_0x499746(0x30d)]+_0x499746(0x4f3));}}catch(_0x28c496){let _0x2be92b={'error':!0x0,'errorLog':_0x28c496[_0x499746(0x77f)]()};this['updateConversation'](_0x193c75,_0x94a0b5,_0x2be92b),this[_0x499746(0x256)][_0x499746(0x2e0)](this[_0x499746(0x780)]+'\x20('+this['instance'][_0x499746(0x30d)]+_0x499746(0x311)+JSON['stringify'](_0x28c496,null,0x2));}}[a0_0x556deb(0x405)](_0x41cf4f,_0x38b166){const _0x3e52e1=a0_0x556deb;for(let _0x50fec0 of _0x41cf4f)_0x50fec0[_0x3e52e1(0x334)]&&(_0x50fec0[_0x3e52e1(0x334)]=this['replaceVariables'](_0x50fec0[_0x3e52e1(0x334)],_0x38b166)),_0x50fec0[_0x3e52e1(0x5bf)]&&(_0x50fec0[_0x3e52e1(0x5bf)]=this['replaceVariables'](_0x50fec0[_0x3e52e1(0x5bf)],_0x38b166));}async[a0_0x556deb(0x4e6)](_0x200797,_0xa9381,_0x444968){const _0x5cba56=a0_0x556deb;this[_0x5cba56(0x256)]['verbose'](this[_0x5cba56(0x780)]+'\x20('+this[_0x5cba56(0x4b7)][_0x5cba56(0x30d)]+'):\x20Enviando\x20enquete');let _0x2cecdb=_0x200797['replyOptions'][_0x5cba56(0x298)](_0x1ffe8f=>_0x1ffe8f[_0x5cba56(0x4b8)]===_0xa9381[_0x5cba56(0x782)]);this[_0x5cba56(0x405)](_0x2cecdb,_0x200797[_0x5cba56(0x5ae)][_0x5cba56(0x706)]);let _0x4eab76=_0x2cecdb[_0x5cba56(0x608)](_0x3fd4ca=>_0x3fd4ca['option']),_0x5c52a0={'number':_0x444968,'options':{'delay':_0xa9381['uazapi']['delay']},'pollMessage':{'name':_0xa9381[_0x5cba56(0x629)][_0x5cba56(0x750)],'selectableCount':0x1,'values':_0x4eab76}};try{let _0x4847ee=await this[_0x5cba56(0x4e9)](_0x5c52a0);if(_0x4847ee){let _0x51a40b={'_id':_0x4847ee[_0x5cba56(0x66e)]['id'],'_fromMe':_0x4847ee[_0x5cba56(0x66e)]['fromMe'],'_remoteJid':_0x4847ee[_0x5cba56(0x66e)][_0x5cba56(0x4a9)]};this[_0x5cba56(0x256)]['verbose'](this[_0x5cba56(0x780)]+'\x20('+this[_0x5cba56(0x4b7)][_0x5cba56(0x30d)]+_0x5cba56(0x3a3)+_0xa9381[_0x5cba56(0x629)][_0x5cba56(0x750)]),_0x200797['waitingPoll_id']=_0x4847ee['key']['id'],_0x200797[_0x5cba56(0x409)]=_0xa9381[_0x5cba56(0x629)][_0x5cba56(0x750)],_0x200797['waitingPoll_replyOptions']=_0x2cecdb,this[_0x5cba56(0x256)]['verbose'](this[_0x5cba56(0x780)]+'\x20('+this[_0x5cba56(0x4b7)][_0x5cba56(0x30d)]+'):\x20conversation.waitingPollname'+_0x200797[_0x5cba56(0x409)]),_0x200797[_0x5cba56(0x5ae)][_0x5cba56(0x2e6)]=_0xa9381[_0x5cba56(0x782)][_0x5cba56(0x77f)]();let {message_normalized:_0x4f2c9c}=this[_0x5cba56(0x3b4)](_0x4847ee['message'],G(_0x4847ee['message']),null);_0x200797[_0x5cba56(0x5ae)][_0x5cba56(0x346)]=await _0x4f2c9c;let _0xa40c84={'messageId':_0x4847ee[_0x5cba56(0x66e)]['id']},_0x255186=_0x200797[_0x5cba56(0x5ae)]['realVariables'];Object['assign'](_0x255186,_0x51a40b),_0x200797[_0x5cba56(0x5ae)][_0x5cba56(0x706)]=_0x255186,this[_0x5cba56(0x779)](_0x200797,_0xa9381,_0xa40c84);}else{let _0x254a58={'error':!0x0};this[_0x5cba56(0x779)](_0x200797,_0xa9381,_0x254a58),this[_0x5cba56(0x256)][_0x5cba56(0x2e0)](this[_0x5cba56(0x780)]+'\x20('+this[_0x5cba56(0x4b7)][_0x5cba56(0x30d)]+_0x5cba56(0x42a));}}catch(_0x246eb8){let _0xd59919={'error':!0x0,'errorLog':JSON['stringify'](_0x246eb8,null,0x2)};this[_0x5cba56(0x779)](_0x200797,_0xa9381,_0xd59919),this['logger']['error'](this[_0x5cba56(0x780)]+'\x20('+this[_0x5cba56(0x4b7)][_0x5cba56(0x30d)]+_0x5cba56(0x6dd)+JSON[_0x5cba56(0x296)](_0x246eb8,null,0x2));}}async[a0_0x556deb(0x5ff)](_0x3116d7,_0x2725d8,_0x54077c){const _0x59c48f=a0_0x556deb;this[_0x59c48f(0x256)][_0x59c48f(0x31f)](this['instanceName']+'\x20('+this[_0x59c48f(0x4b7)][_0x59c48f(0x30d)]+_0x59c48f(0x1d4));let _0x4285c1=_0x3116d7[_0x59c48f(0x5ae)][_0x59c48f(0x5cc)]['find'](_0x2d064a=>_0x2d064a['blockId']['toString']()===_0x2725d8[_0x59c48f(0x629)][_0x59c48f(0x4b8)][_0x59c48f(0x77f)]()),_0xb262c6={'id':_0x4285c1[_0x59c48f(0x306)],'remoteJid':_0x4285c1['remoteJid'],'fromMe':_0x4285c1[_0x59c48f(0x2b7)]};try{let _0x150ab3=await this[_0x59c48f(0x5b1)](_0xb262c6);if(_0x150ab3){_0x3116d7[_0x59c48f(0x5ae)][_0x59c48f(0x2e6)]=_0x2725d8[_0x59c48f(0x782)][_0x59c48f(0x77f)]();let {message_normalized:_0x3de845}=this[_0x59c48f(0x3b4)](_0x150ab3[_0x59c48f(0x64b)],G(_0x150ab3['message']),null);_0x3116d7['chatLog'][_0x59c48f(0x346)]=await _0x3de845;let _0x247cc5={};this[_0x59c48f(0x779)](_0x3116d7,_0x2725d8,_0x247cc5);}else{let _0x169878={'error':!0x0};this[_0x59c48f(0x779)](_0x3116d7,_0x2725d8,_0x169878),this['logger'][_0x59c48f(0x2e0)](this['instanceName']+'\x20('+this[_0x59c48f(0x4b7)][_0x59c48f(0x30d)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x79b081){let _0x5f3302={'error':!0x0,'errorLog':JSON[_0x59c48f(0x296)](_0x79b081,null,0x2)};this[_0x59c48f(0x779)](_0x3116d7,_0x2725d8,_0x5f3302),this['logger']['error'](this['instanceName']+'\x20('+this[_0x59c48f(0x4b7)][_0x59c48f(0x30d)]+_0x59c48f(0x677)+JSON[_0x59c48f(0x296)](_0x79b081,null,0x2));}}async['createFlow'](_0x29a8d9){const _0x4f3953=a0_0x556deb;try{if(this[_0x4f3953(0x256)][_0x4f3953(0x31f)](this['instanceName']+'\x20('+this[_0x4f3953(0x4b7)]['wuid']+'):\x20Criando\x20fluxo...'),await I['findOne']({'owner':this[_0x4f3953(0x4b7)]['wuid'],'name':_0x29a8d9[_0x4f3953(0x750)]}))return{'message':_0x4f3953(0x22b)};_0x29a8d9[_0x4f3953(0x595)]===!0x0&&await I[_0x4f3953(0x673)]({'owner':this[_0x4f3953(0x4b7)][_0x4f3953(0x30d)]},{'default':!0x1});let _0x59b904=new pe[(_0x4f3953(0x3fe))][(_0x4f3953(0x444))](),_0x5ee2e7={'_id':_0x59b904,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x240468={'_id':new pe[(_0x4f3953(0x3fe))]['ObjectId'](),'order':0x1,'groupId':_0x59b904[_0x4f3953(0x77f)](),'type':_0x4f3953(0x612)};return await I[_0x4f3953(0x5e3)]({'owner':this[_0x4f3953(0x4b7)]['wuid'],'name':_0x29a8d9[_0x4f3953(0x750)],'groups':[_0x5ee2e7],'blocks':[_0x240468],..._0x29a8d9});}catch(_0x5cf272){throw this[_0x4f3953(0x256)]['error'](this['instanceName']+'\x20('+this[_0x4f3953(0x4b7)]['wuid']+_0x4f3953(0x471)+JSON[_0x4f3953(0x296)](_0x5cf272,null,0x2)),new g(_0x4f3953(0x33c)+_0x5cf272);}}async['deleteFlow'](_0xa82af0){const _0x577a19=a0_0x556deb;try{return this[_0x577a19(0x256)][_0x577a19(0x31f)](this[_0x577a19(0x780)]+'\x20('+this['instance']['wuid']+'):\x20Deletando\x20fluxo...'),await I[_0x577a19(0x6fb)]({'owner':this[_0x577a19(0x4b7)][_0x577a19(0x30d)],'name':_0xa82af0});}catch(_0x17bf28){return this['logger']['error'](this[_0x577a19(0x780)]+'\x20('+this[_0x577a19(0x4b7)][_0x577a19(0x30d)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+JSON['stringify'](_0x17bf28,null,0x2)),{'message':_0x577a19(0x788)+_0x17bf28};}}async['getFlow'](_0x3e8f42){const _0x15e2f7=a0_0x556deb;try{this[_0x15e2f7(0x256)][_0x15e2f7(0x31f)](this[_0x15e2f7(0x780)]+'\x20('+this[_0x15e2f7(0x4b7)][_0x15e2f7(0x30d)]+'):\x20Buscando\x20flow...');let _0x40a445=await I[_0x15e2f7(0x3ef)]({'owner':this[_0x15e2f7(0x4b7)][_0x15e2f7(0x30d)],'name':_0x3e8f42});if(!_0x40a445)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x15e2f7(0x640)]&&(await this[_0x15e2f7(0x6cd)](),!this['AutomateSystem']))return null;let _0x2ceda6=this['AutomateSystem']?.[_0x15e2f7(0x6a5)][_0x15e2f7(0x608)](_0x714758=>_0x714758[_0x15e2f7(0x750)]),_0x5458da=[_0x15e2f7(0x268),_0x15e2f7(0x224),_0x15e2f7(0x54a),_0x15e2f7(0x2c0),'status',_0x15e2f7(0x2cb),_0x15e2f7(0x626),_0x15e2f7(0x66c)];return _0x40a445[_0x15e2f7(0x32e)]=_0x40a445[_0x15e2f7(0x32e)][_0x15e2f7(0x298)](_0x438784=>!(_0x438784[_0x15e2f7(0x7a3)]===_0x15e2f7(0x1cd)||_0x438784[_0x15e2f7(0x1cd)])),_0x5458da['forEach'](_0x2d5463=>{const _0x43e7ac=_0x15e2f7;_0x40a445[_0x43e7ac(0x32e)][_0x43e7ac(0x73a)]({'folder':'leadInfo','name':_0x2d5463,'value':'','doc':'','leadInfo':!0x0});}),_0x2ceda6[_0x15e2f7(0x513)](_0x4bc3aa=>{const _0x25a442=_0x15e2f7;let _0x3a16d0=_0x40a445[_0x25a442(0x32e)]['findIndex'](_0xc7ac20=>_0xc7ac20['name']===_0x4bc3aa);_0x3a16d0===-0x1?_0x40a445[_0x25a442(0x32e)][_0x25a442(0x73a)]({'folder':_0x25a442(0x1cd),'name':_0x4bc3aa,'value':'','doc':'','leadInfo':!0x0}):(_0x40a445['variables'][_0x3a16d0][_0x25a442(0x7a3)]=_0x25a442(0x1cd),_0x40a445[_0x25a442(0x32e)][_0x3a16d0][_0x25a442(0x1cd)]=!0x0);}),_0x40a445[_0x15e2f7(0x262)]&&_0x40a445[_0x15e2f7(0x262)][_0x15e2f7(0x72a)]>0x0&&_0x40a445[_0x15e2f7(0x262)]['forEach'](_0x5a18cd=>{const _0x4920d7=_0x15e2f7;_0x5a18cd[_0x4920d7(0x341)]&&_0x5a18cd['next_groupId']&&_0x5a18cd[_0x4920d7(0x341)]===_0x5a18cd[_0x4920d7(0x259)]&&(_0x5a18cd['next_groupId']=null);}),await _0x40a445[_0x15e2f7(0x752)](),_0x40a445;}catch(_0x33df1b){throw this[_0x15e2f7(0x256)]['error'](this['instanceName']+'\x20('+this[_0x15e2f7(0x4b7)][_0x15e2f7(0x30d)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+JSON[_0x15e2f7(0x296)](_0x33df1b,null,0x2)),new g(_0x15e2f7(0x672)+_0x33df1b);}}async[a0_0x556deb(0x46d)](){const _0x187e3f=a0_0x556deb;try{return this['logger'][_0x187e3f(0x31f)](this[_0x187e3f(0x780)]+'\x20('+this[_0x187e3f(0x4b7)][_0x187e3f(0x30d)]+_0x187e3f(0x615)),await I[_0x187e3f(0x33f)]({'owner':this[_0x187e3f(0x4b7)]['wuid']});}catch(_0x5d778a){return this[_0x187e3f(0x256)]['error'](this[_0x187e3f(0x780)]+'\x20('+this[_0x187e3f(0x4b7)]['wuid']+_0x187e3f(0x48a)+JSON['stringify'](_0x5d778a,null,0x2)),{'message':_0x187e3f(0x367)+_0x5d778a};}}async[a0_0x556deb(0x6a7)](_0xa3ab06){const _0x2a2289=a0_0x556deb;try{this['logger'][_0x2a2289(0x31f)](this['instanceName']+'\x20('+this[_0x2a2289(0x4b7)][_0x2a2289(0x30d)]+_0x2a2289(0x694));let _0x100b7a=await I[_0x2a2289(0x3ef)]({'owner':this['instance'][_0x2a2289(0x30d)],'name':_0xa3ab06[_0x2a2289(0x750)]});if(!_0x100b7a)return{'message':_0x2a2289(0x5ec)};if(_0xa3ab06[_0x2a2289(0x595)]===!0x0&&await I['updateMany']({'owner':this['instance']['wuid']},{'default':!0x1}),_0xa3ab06[_0x2a2289(0x580)]){if(await I['findOne']({'owner':this[_0x2a2289(0x4b7)][_0x2a2289(0x30d)],'name':_0xa3ab06['newName']}))return{'message':_0x2a2289(0x1f1)};_0xa3ab06[_0x2a2289(0x750)]=_0xa3ab06[_0x2a2289(0x580)],delete _0xa3ab06['newName'];}return await I[_0x2a2289(0x516)](_0x100b7a['_id'],{'$set':_0xa3ab06},{'new':!0x0});}catch(_0x9f7c9d){throw this['logger']['error'](this[_0x2a2289(0x780)]+'\x20('+this['instance']['wuid']+_0x2a2289(0x5ea)+JSON[_0x2a2289(0x296)](_0x9f7c9d,null,0x2)),new g(_0x2a2289(0x77c)+JSON[_0x2a2289(0x296)](_0x9f7c9d,null,0x2));}}async['editFlowBlock'](_0x785a75){const _0x3e20c2=a0_0x556deb;try{this[_0x3e20c2(0x256)][_0x3e20c2(0x31f)](this[_0x3e20c2(0x780)]+'\x20('+this[_0x3e20c2(0x4b7)][_0x3e20c2(0x30d)]+'):\x20Editando\x20bloco...');let _0x3b605e={'owner':this['instance'][_0x3e20c2(0x30d)],'name':_0x785a75['name']},_0x32b676=await I[_0x3e20c2(0x3ef)](_0x3b605e);_0x32b676||this['throwAndLogError'](_0x3e20c2(0x352));let {block:_0x390917}=_0x785a75;return _0x390917?.[_0x3e20c2(0x5b4)]?this[_0x3e20c2(0x6d3)](_0x32b676,_0x785a75):_0x390917?.['delete']?this[_0x3e20c2(0x3ec)](_0x32b676,_0x785a75):_0x390917['_id']?await this[_0x3e20c2(0x4ca)](_0x32b676,_0x785a75):this['addBlock'](_0x32b676,_0x785a75),await _0x32b676[_0x3e20c2(0x752)](),_0x32b676;}catch(_0x5565dc){this[_0x3e20c2(0x567)](_0x3e20c2(0x343)+_0x5565dc);}}async['copyBlock'](_0x493e8d,_0x48a247){const _0x584238=a0_0x556deb;let _0x404c21=_0x48a247[_0x584238(0x4f7)]['_id'],_0x32a9c0=_0x493e8d[_0x584238(0x262)][_0x584238(0x33f)](_0x549630=>_0x549630[_0x584238(0x782)][_0x584238(0x77f)]()===_0x404c21);if(!_0x32a9c0){this[_0x584238(0x256)]['error'](this[_0x584238(0x780)]+'\x20('+this[_0x584238(0x4b7)]['wuid']+_0x584238(0x731)+_0x404c21+_0x584238(0x4f0));return;}this[_0x584238(0x256)]['verbose'](this[_0x584238(0x780)]+'\x20('+this[_0x584238(0x4b7)]['wuid']+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x584238(0x296)](_0x32a9c0));let _0x3a87ee=JSON[_0x584238(0x273)](JSON[_0x584238(0x296)](_0x32a9c0));_0x3a87ee[_0x584238(0x782)]=new pe['default'][(_0x584238(0x3fe))][(_0x584238(0x444))](),this['logger'][_0x584238(0x31f)](this[_0x584238(0x780)]+'\x20('+this[_0x584238(0x4b7)][_0x584238(0x30d)]+_0x584238(0x57f)+JSON['stringify'](_0x3a87ee)),_0x493e8d[_0x584238(0x262)][_0x584238(0x73a)](_0x3a87ee),this['reorderBlocks'](_0x493e8d[_0x584238(0x262)],_0x3a87ee[_0x584238(0x341)]);}[a0_0x556deb(0x567)](_0x469410){const _0x40ca9a=a0_0x556deb;throw this[_0x40ca9a(0x256)][_0x40ca9a(0x2e0)](this[_0x40ca9a(0x780)]+'\x20('+this[_0x40ca9a(0x4b7)][_0x40ca9a(0x30d)]+'):\x20'+_0x469410),new g(_0x469410);}[a0_0x556deb(0x3ec)](_0x1940db,_0x3a2a86){const _0x3810d4=a0_0x556deb;let {block:_0x3fc8f4}=_0x3a2a86;if(_0x3fc8f4[_0x3810d4(0x634)]===_0x3810d4(0x612)){this['throwAndLogError'](_0x3810d4(0x1f7));return;}if(!_0x3fc8f4['_id']){this['throwAndLogError'](_0x3810d4(0x361));return;}let _0x544df6=_0x1940db[_0x3810d4(0x262)][_0x3810d4(0x33f)](_0x185bef=>_0x185bef['_id'][_0x3810d4(0x77f)]()===_0x3a2a86['block'][_0x3810d4(0x782)][_0x3810d4(0x77f)]());if(!_0x544df6){this[_0x3810d4(0x567)](_0x3810d4(0x3e7)+_0x3fc8f4['_id']+'\x20não\x20encontrado');return;}_0x1940db[_0x3810d4(0x262)]=_0x1940db[_0x3810d4(0x262)][_0x3810d4(0x298)](_0x3ea1ff=>_0x3ea1ff['_id'][_0x3810d4(0x77f)]()!==_0x3a2a86[_0x3810d4(0x4f7)][_0x3810d4(0x782)][_0x3810d4(0x77f)]()),_0x1940db[_0x3810d4(0x5c9)]=_0x1940db['conditions'][_0x3810d4(0x298)](_0x1cd4d2=>_0x1cd4d2[_0x3810d4(0x4b8)]!==_0x3fc8f4[_0x3810d4(0x782)]['toString']()),_0x1940db[_0x3810d4(0x4d9)]=_0x1940db['varedits'][_0x3810d4(0x298)](_0x160e4d=>_0x160e4d[_0x3810d4(0x4b8)]!==_0x3fc8f4['_id']['toString']()),_0x1940db[_0x3810d4(0x56e)]=_0x1940db[_0x3810d4(0x56e)]['filter'](_0x547d10=>_0x547d10[_0x3810d4(0x4b8)]!==_0x3fc8f4[_0x3810d4(0x782)][_0x3810d4(0x77f)]()),this[_0x3810d4(0x6c0)](_0x1940db['blocks'],_0x544df6[_0x3810d4(0x341)]);}async[a0_0x556deb(0x4ca)](_0x4be2e4,_0x272a83){const _0x4ac31a=a0_0x556deb;let _0x2bcba1=_0x4be2e4[_0x4ac31a(0x262)][_0x4ac31a(0x571)](_0x169683=>_0x169683[_0x4ac31a(0x782)][_0x4ac31a(0x77f)]()===_0x272a83[_0x4ac31a(0x4f7)][_0x4ac31a(0x782)][_0x4ac31a(0x77f)]());if(this[_0x4ac31a(0x256)][_0x4ac31a(0x31f)](this[_0x4ac31a(0x780)]+'\x20('+this[_0x4ac31a(0x4b7)][_0x4ac31a(0x30d)]+_0x4ac31a(0x6c6)+_0x2bcba1),_0x2bcba1===-0x1){this[_0x4ac31a(0x256)][_0x4ac31a(0x31f)](_0x4ac31a(0x3e7)+_0x272a83[_0x4ac31a(0x4f7)][_0x4ac31a(0x782)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x4be2e4[_0x4ac31a(0x262)][_0x2bcba1][_0x4ac31a(0x634)]===_0x4ac31a(0x612)){let _0x246d89=Object['keys'](_0x272a83[_0x4ac31a(0x4f7)]);if(_0x246d89[_0x4ac31a(0x72a)]>0x2||_0x246d89[_0x4ac31a(0x72a)]===0x2&&!_0x246d89[_0x4ac31a(0x619)]('next_groupId')){this[_0x4ac31a(0x567)](_0x4ac31a(0x4cb));return;}}let _0x43a8f6=_0x4be2e4['blocks'][_0x2bcba1][_0x4ac31a(0x341)];for(let _0x1bfc7e in _0x272a83['block'])_0x272a83[_0x4ac31a(0x4f7)][_0x4ac31a(0x684)](_0x1bfc7e)&&(_0x4be2e4[_0x4ac31a(0x262)][_0x2bcba1][_0x1bfc7e]=_0x272a83['block'][_0x1bfc7e]);if(this[_0x4ac31a(0x256)][_0x4ac31a(0x31f)](this[_0x4ac31a(0x780)]+'\x20('+this[_0x4ac31a(0x4b7)][_0x4ac31a(0x30d)]+_0x4ac31a(0x71c)+JSON[_0x4ac31a(0x296)](_0x4be2e4[_0x4ac31a(0x262)][_0x2bcba1])),_0x4be2e4[_0x4ac31a(0x262)][_0x2bcba1][_0x4ac31a(0x4c7)]&&'header'in _0x4be2e4['blocks'][_0x2bcba1][_0x4ac31a(0x4c7)]){this[_0x4ac31a(0x256)][_0x4ac31a(0x31f)](this[_0x4ac31a(0x780)]+'\x20('+this[_0x4ac31a(0x4b7)][_0x4ac31a(0x30d)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x31e38b=JSON[_0x4ac31a(0x296)](_0x4be2e4['blocks'][_0x2bcba1][_0x4ac31a(0x4c7)]['header'],null,0x1);_0x31e38b[_0x4ac31a(0x72a)]>0x2&&(_0x31e38b=_0x31e38b[_0x4ac31a(0x212)](0x1,_0x31e38b['length']-0x1)['trim']()),_0x4be2e4[_0x4ac31a(0x262)][_0x2bcba1][_0x4ac31a(0x4c7)]['headerString']=_0x31e38b;}if(_0x4be2e4['blocks'][_0x2bcba1][_0x4ac31a(0x4c7)]&&_0x4ac31a(0x417)in _0x4be2e4[_0x4ac31a(0x262)][_0x2bcba1][_0x4ac31a(0x4c7)]){this['logger'][_0x4ac31a(0x31f)](this[_0x4ac31a(0x780)]+'\x20('+this[_0x4ac31a(0x4b7)]['wuid']+_0x4ac31a(0x403));let _0x2599ec=JSON[_0x4ac31a(0x296)](_0x4be2e4[_0x4ac31a(0x262)][_0x2bcba1]['apirequest'][_0x4ac31a(0x417)],null,0x1);_0x2599ec['length']>0x2&&(_0x2599ec=_0x2599ec['substring'](0x1,_0x2599ec[_0x4ac31a(0x72a)]-0x1)[_0x4ac31a(0x419)]()),_0x4be2e4[_0x4ac31a(0x262)][_0x2bcba1]['apirequest']['bodyString']=_0x2599ec;}let _0x52a78e=_0x4be2e4[_0x4ac31a(0x262)][_0x2bcba1][_0x4ac31a(0x341)];_0x43a8f6!==_0x52a78e?(this[_0x4ac31a(0x6c0)](_0x4be2e4['blocks'],_0x43a8f6),this[_0x4ac31a(0x6c0)](_0x4be2e4[_0x4ac31a(0x262)],_0x52a78e)):this['reorderBlocks'](_0x4be2e4['blocks'],_0x43a8f6);}[a0_0x556deb(0x4df)](_0x48fb34,_0x10a6c8){const _0x3d5697=a0_0x556deb;if(_0x10a6c8[_0x3d5697(0x4f7)][_0x3d5697(0x634)]===_0x3d5697(0x612)){this[_0x3d5697(0x567)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x10a6c8[_0x3d5697(0x4f7)][_0x3d5697(0x4c7)]&&_0x3d5697(0x74c)in _0x10a6c8[_0x3d5697(0x4f7)][_0x3d5697(0x4c7)]){this['logger'][_0x3d5697(0x31f)](this[_0x3d5697(0x780)]+'\x20('+this[_0x3d5697(0x4b7)][_0x3d5697(0x30d)]+_0x3d5697(0x3ca));let _0x32f1f4=JSON[_0x3d5697(0x296)](_0x10a6c8[_0x3d5697(0x4f7)][_0x3d5697(0x4c7)][_0x3d5697(0x74c)],null,0x1);_0x32f1f4[_0x3d5697(0x72a)]>0x2&&(_0x32f1f4=_0x32f1f4[_0x3d5697(0x212)](0x1,_0x32f1f4[_0x3d5697(0x72a)]-0x1)['trim']()),_0x10a6c8['block'][_0x3d5697(0x4c7)]['headerString']=_0x32f1f4;}_0x10a6c8[_0x3d5697(0x4f7)][_0x3d5697(0x4c7)]&&'body'in _0x10a6c8[_0x3d5697(0x4f7)][_0x3d5697(0x4c7)]&&(this[_0x3d5697(0x256)]['verbose'](this[_0x3d5697(0x780)]+'\x20('+this[_0x3d5697(0x4b7)][_0x3d5697(0x30d)]+_0x3d5697(0x403)),_0x10a6c8[_0x3d5697(0x4f7)][_0x3d5697(0x4c7)][_0x3d5697(0x4dc)]=JSON[_0x3d5697(0x296)](_0x10a6c8[_0x3d5697(0x4f7)][_0x3d5697(0x4c7)][_0x3d5697(0x417)],null,0x1)[_0x3d5697(0x419)]()),_0x48fb34[_0x3d5697(0x262)][_0x3d5697(0x73a)](_0x10a6c8[_0x3d5697(0x4f7)]),this[_0x3d5697(0x6c0)](_0x48fb34[_0x3d5697(0x262)],_0x10a6c8[_0x3d5697(0x4f7)][_0x3d5697(0x341)]);}[a0_0x556deb(0x6c0)](_0x4dd95a,_0x21c6aa){const _0x55027e=a0_0x556deb;let _0x3460c1=_0x4dd95a[_0x55027e(0x298)](_0xa4fb50=>_0xa4fb50['groupId']===_0x21c6aa);_0x3460c1[_0x55027e(0x279)]((_0x39757d,_0x45bcf2)=>_0x39757d[_0x55027e(0x215)]-_0x45bcf2['order']),_0x3460c1['forEach']((_0x32cc8d,_0x3cc67c)=>_0x32cc8d[_0x55027e(0x215)]=_0x3cc67c+0x1);}async[a0_0x556deb(0x1ea)](_0xfff99c){const _0x322ada=a0_0x556deb;try{if(this[_0x322ada(0x256)][_0x322ada(0x31f)](this['instanceName']+'\x20('+this[_0x322ada(0x4b7)][_0x322ada(0x30d)]+_0x322ada(0x793)),!_0xfff99c||!_0xfff99c[_0x322ada(0x217)]){this[_0x322ada(0x567)](_0x322ada(0x4f5));return;}let _0x36224f={'owner':this['instance'][_0x322ada(0x30d)],'name':_0xfff99c[_0x322ada(0x750)]},_0x1b216f=await I[_0x322ada(0x3ef)](_0x36224f);_0x1b216f||this['throwAndLogError'](_0x322ada(0x352));let {replyOption:_0x2372b7}=_0xfff99c;return _0x2372b7?.[_0x322ada(0x733)]?this[_0x322ada(0x636)](_0x1b216f,_0xfff99c):_0x2372b7['_id']?await this[_0x322ada(0x4d6)](_0x1b216f,_0xfff99c):this[_0x322ada(0x4c5)](_0x1b216f,_0xfff99c),await _0x1b216f[_0x322ada(0x752)](),_0x1b216f;}catch(_0x1f04db){this[_0x322ada(0x567)](_0x322ada(0x7a4)+_0x1f04db);}}[a0_0x556deb(0x636)](_0x31a600,_0x46f4bc){const _0x23f889=a0_0x556deb;let {replyOption:_0x2ccb5f}=_0x46f4bc;if(!_0x2ccb5f['_id']){this[_0x23f889(0x567)](_0x23f889(0x348));return;}if(!_0x31a600[_0x23f889(0x56e)][_0x23f889(0x33f)](_0xc3328=>_0xc3328[_0x23f889(0x782)][_0x23f889(0x77f)]()===_0x46f4bc[_0x23f889(0x217)][_0x23f889(0x782)][_0x23f889(0x77f)]())){this[_0x23f889(0x567)](_0x23f889(0x3f8)+_0x2ccb5f['_id']+_0x23f889(0x35e));return;}_0x31a600[_0x23f889(0x56e)]=_0x31a600['replyOptions'][_0x23f889(0x298)](_0x2b7701=>_0x2b7701[_0x23f889(0x782)][_0x23f889(0x77f)]()!==_0x46f4bc[_0x23f889(0x217)][_0x23f889(0x782)]['toString']());}async[a0_0x556deb(0x4d6)](_0x24924d,_0x612c78){const _0x3ac4e4=a0_0x556deb;let _0x378712=_0x24924d[_0x3ac4e4(0x56e)]['findIndex'](_0x212423=>_0x212423['_id'][_0x3ac4e4(0x77f)]()===_0x612c78['replyOption'][_0x3ac4e4(0x782)]['toString']());if(_0x378712===-0x1){this[_0x3ac4e4(0x567)]('ReplyOption\x20com\x20ID\x20'+_0x612c78[_0x3ac4e4(0x217)][_0x3ac4e4(0x782)]+_0x3ac4e4(0x5f9));return;}for(let _0x60c0c6 in _0x612c78[_0x3ac4e4(0x217)])_0x612c78['replyOption'][_0x3ac4e4(0x684)](_0x60c0c6)&&(_0x24924d[_0x3ac4e4(0x56e)][_0x378712][_0x60c0c6]=_0x612c78[_0x3ac4e4(0x217)][_0x60c0c6]);}['addReplyOption'](_0x4a9bb8,_0x37cd60){const _0x1ce66f=a0_0x556deb;_0x4a9bb8[_0x1ce66f(0x56e)][_0x1ce66f(0x73a)](_0x37cd60[_0x1ce66f(0x217)]);}async['editFlowGroup'](_0x55d6c1){const _0x410faf=a0_0x556deb;this['logger'][_0x410faf(0x31f)](this[_0x410faf(0x780)]+'\x20('+this[_0x410faf(0x4b7)][_0x410faf(0x30d)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x55d6c1);try{this['logger'][_0x410faf(0x31f)](this[_0x410faf(0x780)]+'\x20('+this[_0x410faf(0x4b7)][_0x410faf(0x30d)]+_0x410faf(0x70e));let _0x131964={'owner':this[_0x410faf(0x4b7)][_0x410faf(0x30d)],'name':_0x55d6c1[_0x410faf(0x750)]},_0x8b4504=await I[_0x410faf(0x3ef)](_0x131964);if(!_0x8b4504)throw new Error(_0x410faf(0x352));if(_0x55d6c1[_0x410faf(0x2f4)]&&_0x55d6c1['group']?.[_0x410faf(0x733)]===!0x0){if(this[_0x410faf(0x256)]['verbose'](this[_0x410faf(0x780)]+'\x20('+this['instance'][_0x410faf(0x30d)]+'):\x20delete\x20=\x20true'),_0x55d6c1['group'][_0x410faf(0x595)]===!0x0)return{'message':_0x410faf(0x6e4)};if(_0x8b4504[_0x410faf(0x262)][_0x410faf(0x730)](_0x5071ca=>_0x5071ca[_0x410faf(0x341)][_0x410faf(0x77f)]()===_0x55d6c1[_0x410faf(0x2f4)][_0x410faf(0x782)]))return this['logger'][_0x410faf(0x31f)](this['instanceName']+'\x20('+this[_0x410faf(0x4b7)]['wuid']+_0x410faf(0x60d)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x8b4504['groups']=_0x8b4504[_0x410faf(0x609)]['filter'](_0x39a8d6=>_0x39a8d6[_0x410faf(0x782)][_0x410faf(0x77f)]()!==_0x55d6c1['group']['_id']);}else{if(_0x55d6c1[_0x410faf(0x2f4)]){if(_0x55d6c1[_0x410faf(0x2f4)]['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x55d6c1[_0x410faf(0x2f4)]['_id']){let _0x1bc35e=_0x8b4504[_0x410faf(0x609)][_0x410faf(0x33f)](_0x2edc84=>_0x2edc84[_0x410faf(0x782)][_0x410faf(0x77f)]()===_0x55d6c1[_0x410faf(0x2f4)][_0x410faf(0x782)]);_0x1bc35e&&(_0x55d6c1[_0x410faf(0x2f4)]['x']<0x0&&(_0x55d6c1[_0x410faf(0x2f4)]['x']=0x0),_0x55d6c1[_0x410faf(0x2f4)]['y']<0x0&&(_0x55d6c1[_0x410faf(0x2f4)]['y']=0x0),Object[_0x410faf(0x3db)](_0x1bc35e,_0x55d6c1[_0x410faf(0x2f4)]));}else _0x8b4504[_0x410faf(0x609)][_0x410faf(0x73a)](_0x55d6c1[_0x410faf(0x2f4)]);}}return await _0x8b4504[_0x410faf(0x752)](),_0x8b4504;}catch(_0x2e6828){throw this[_0x410faf(0x256)][_0x410faf(0x2e0)](this[_0x410faf(0x780)]+'\x20('+this[_0x410faf(0x4b7)][_0x410faf(0x30d)]+_0x410faf(0x3c0)+JSON[_0x410faf(0x296)](_0x2e6828,null,0x2)),new g(_0x410faf(0x5ac)+JSON['stringify'](_0x2e6828,null,0x2));}}async['editFlowCondition'](_0xbb4c7){const _0x2380ed=a0_0x556deb;try{this['logger'][_0x2380ed(0x31f)](this[_0x2380ed(0x780)]+'\x20('+this[_0x2380ed(0x4b7)][_0x2380ed(0x30d)]+_0x2380ed(0x3fc));let _0x3f5453={'owner':this[_0x2380ed(0x4b7)][_0x2380ed(0x30d)],'name':_0xbb4c7['name']},_0x4ccc1b=await I[_0x2380ed(0x3ef)](_0x3f5453);if(!_0x4ccc1b)throw new Error(_0x2380ed(0x352));let _0x118965=!0x1;if(_0xbb4c7['condition']?.[_0x2380ed(0x733)]===!0x0)_0x4ccc1b[_0x2380ed(0x5c9)]=_0x4ccc1b['conditions'][_0x2380ed(0x298)](_0x4302b3=>_0x4302b3&&_0xbb4c7[_0x2380ed(0x73f)]&&_0x4302b3['_id']&&_0xbb4c7[_0x2380ed(0x73f)][_0x2380ed(0x782)]&&_0x4302b3[_0x2380ed(0x782)][_0x2380ed(0x77f)]()!==_0xbb4c7[_0x2380ed(0x73f)][_0x2380ed(0x782)][_0x2380ed(0x77f)]()),_0x118965=!0x0;else{let _0x23b42b=_0x4ccc1b[_0x2380ed(0x5c9)][_0x2380ed(0x33f)](_0x5ade26=>_0x5ade26&&_0xbb4c7[_0x2380ed(0x73f)]&&_0x5ade26[_0x2380ed(0x782)]&&_0xbb4c7['condition']['_id']&&_0x5ade26[_0x2380ed(0x782)]['toString']()===_0xbb4c7['condition']['_id'][_0x2380ed(0x77f)]());_0x23b42b?(_0x118965=_0x23b42b[_0x2380ed(0x215)]!==_0xbb4c7[_0x2380ed(0x73f)][_0x2380ed(0x215)],Object[_0x2380ed(0x3db)](_0x23b42b,_0xbb4c7[_0x2380ed(0x73f)])):(_0x4ccc1b[_0x2380ed(0x5c9)][_0x2380ed(0x73a)](_0xbb4c7[_0x2380ed(0x73f)]),_0x118965=!0x0);}if(_0x118965){_0x4ccc1b[_0x2380ed(0x5c9)][_0x2380ed(0x279)]((_0x5b8bc5,_0x390b7c)=>_0x5b8bc5[_0x2380ed(0x215)]>_0x390b7c[_0x2380ed(0x215)]?0x1:_0x390b7c[_0x2380ed(0x215)]>_0x5b8bc5[_0x2380ed(0x215)]?-0x1:0x0);for(let _0x5d5e9a=0x0;_0x5d5e9a<_0x4ccc1b[_0x2380ed(0x5c9)]['length'];_0x5d5e9a++)_0x4ccc1b[_0x2380ed(0x5c9)][_0x5d5e9a][_0x2380ed(0x215)]=_0x5d5e9a+0x1;_0x4ccc1b['conditions'][_0x2380ed(0x72a)]>0x0&&(_0x4ccc1b['conditions'][0x0][_0x2380ed(0x4e0)]='and');}return await _0x4ccc1b[_0x2380ed(0x752)](),_0x4ccc1b;}catch(_0x30704f){throw this[_0x2380ed(0x256)]['error'](this[_0x2380ed(0x780)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+JSON['stringify'](_0x30704f,null,0x2)),new Error(_0x2380ed(0x3e8)+_0x30704f);}}async[a0_0x556deb(0x457)](_0x24c5bb){const _0xba1a55=a0_0x556deb;try{this[_0xba1a55(0x256)][_0xba1a55(0x31f)](this[_0xba1a55(0x780)]+'\x20('+this[_0xba1a55(0x4b7)][_0xba1a55(0x30d)]+_0xba1a55(0x39f));let _0x7a6419={'owner':this[_0xba1a55(0x4b7)][_0xba1a55(0x30d)],'name':_0x24c5bb['name']},_0xa98cf=await I['findOne'](_0x7a6419);if(!_0xa98cf)throw new Error(_0xba1a55(0x352));let _0x43b860=!0x1;if(_0x24c5bb[_0xba1a55(0x792)]?.[_0xba1a55(0x733)]===!0x0)_0xa98cf[_0xba1a55(0x4d9)]=_0xa98cf[_0xba1a55(0x4d9)][_0xba1a55(0x298)](_0x9008b1=>_0x9008b1&&_0x24c5bb['varedit']&&_0x9008b1[_0xba1a55(0x782)]&&_0x24c5bb[_0xba1a55(0x792)][_0xba1a55(0x782)]&&_0x9008b1['_id']['toString']()!==_0x24c5bb[_0xba1a55(0x792)][_0xba1a55(0x782)][_0xba1a55(0x77f)]()),_0x43b860=!0x0;else{let _0x534278=_0xa98cf[_0xba1a55(0x4d9)]['find'](_0x4448bf=>_0x4448bf&&_0x24c5bb[_0xba1a55(0x792)]&&_0x4448bf['_id']&&_0x24c5bb[_0xba1a55(0x792)][_0xba1a55(0x782)]&&_0x4448bf[_0xba1a55(0x782)]['toString']()===_0x24c5bb[_0xba1a55(0x792)][_0xba1a55(0x782)]['toString']());_0x534278?(_0x43b860=_0x534278[_0xba1a55(0x215)]!==_0x24c5bb['varedit'][_0xba1a55(0x215)],Object[_0xba1a55(0x3db)](_0x534278,_0x24c5bb[_0xba1a55(0x792)])):(_0xa98cf[_0xba1a55(0x4d9)][_0xba1a55(0x73a)](_0x24c5bb[_0xba1a55(0x792)]),_0x43b860=!0x0);}if(_0x43b860){_0xa98cf[_0xba1a55(0x4d9)][_0xba1a55(0x279)]((_0x2a5a93,_0x13d738)=>_0x2a5a93['order']>_0x13d738[_0xba1a55(0x215)]?0x1:_0x13d738['order']>_0x2a5a93[_0xba1a55(0x215)]?-0x1:0x0);for(let _0x461f43=0x0;_0x461f43<_0xa98cf[_0xba1a55(0x4d9)][_0xba1a55(0x72a)];_0x461f43++)_0xa98cf[_0xba1a55(0x4d9)][_0x461f43][_0xba1a55(0x215)]=_0x461f43+0x1;}return await _0xa98cf[_0xba1a55(0x752)](),_0xa98cf;}catch(_0x48151a){throw this[_0xba1a55(0x256)]['error'](this[_0xba1a55(0x780)]+'\x20('+this[_0xba1a55(0x4b7)][_0xba1a55(0x30d)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+JSON['stringify'](_0x48151a,null,0x2)),new g(_0xba1a55(0x3e8)+_0x48151a);}}async[a0_0x556deb(0x737)](_0x4d912e){const _0x271bf4=a0_0x556deb;try{this[_0x271bf4(0x256)][_0x271bf4(0x31f)](this[_0x271bf4(0x780)]+'\x20('+this[_0x271bf4(0x4b7)][_0x271bf4(0x30d)]+_0x271bf4(0x4fd));let _0x9d6725={'owner':this['instance'][_0x271bf4(0x30d)],'name':_0x4d912e[_0x271bf4(0x750)]},_0xf9a688=await I['findOne'](_0x9d6725);if(!_0xf9a688)throw new Error(_0x271bf4(0x352));_0x4d912e[_0x271bf4(0x1d6)]['name']=_0x4d912e[_0x271bf4(0x1d6)]['name'][_0x271bf4(0x419)](),_0x4d912e[_0x271bf4(0x1d6)][_0x271bf4(0x750)][_0x271bf4(0x41a)]('_')&&(_0x4d912e[_0x271bf4(0x1d6)]['name']=_0x4d912e[_0x271bf4(0x1d6)][_0x271bf4(0x750)]['substring'](0x1)),_0x4d912e[_0x271bf4(0x1d6)][_0x271bf4(0x750)]=_0x4d912e[_0x271bf4(0x1d6)][_0x271bf4(0x750)]['trim']();let _0x1ca922=_0xf9a688[_0x271bf4(0x32e)][_0x271bf4(0x33f)](_0x1f22ba=>_0x1f22ba[_0x271bf4(0x750)]===_0x4d912e[_0x271bf4(0x1d6)][_0x271bf4(0x750)]);if(_0x1ca922?.[_0x271bf4(0x1cd)]===!0x0)throw new Error(_0x271bf4(0x242));if(_0x4d912e[_0x271bf4(0x1d6)]?.[_0x271bf4(0x733)]===!0x0){if(!_0x1ca922)return{'message':'Variável\x20não\x20encontrada!'};_0xf9a688[_0x271bf4(0x32e)]=_0xf9a688[_0x271bf4(0x32e)][_0x271bf4(0x298)](_0x5be572=>_0x5be572['name']!==_0x4d912e[_0x271bf4(0x1d6)][_0x271bf4(0x750)]);}else _0x1ca922?Object[_0x271bf4(0x3db)](_0x1ca922,_0x4d912e[_0x271bf4(0x1d6)]):_0xf9a688[_0x271bf4(0x32e)]['push'](_0x4d912e['variable']);return await _0xf9a688['save'](),_0xf9a688;}catch(_0x568f81){throw this[_0x271bf4(0x256)][_0x271bf4(0x2e0)](this['instanceName']+'\x20('+this['instance'][_0x271bf4(0x30d)]+_0x271bf4(0x45c)+JSON['stringify'](_0x568f81,null,0x2)),new g(_0x271bf4(0x78f)+JSON[_0x271bf4(0x296)](_0x568f81,null,0x2));}}async[a0_0x556deb(0x4ac)](_0x4608ff){const _0x335d9c=a0_0x556deb;let _0x4ac417=null;try{if(!this[_0x335d9c(0x640)]?.[_0x335d9c(0x795)]['enabled'])throw new g(_0x335d9c(0x392));this[_0x335d9c(0x256)][_0x335d9c(0x31f)](this[_0x335d9c(0x780)]+'\x20('+this[_0x335d9c(0x4b7)][_0x335d9c(0x30d)]+'):\x20Iniciando\x20bot...');let _0x4c7b88=(await this['whatsappNumber']({'numbers':[_0x4608ff['remoteJid']]}))[0x0];if(!_0x4c7b88[_0x335d9c(0x598)]&&!(0x0,w[_0x335d9c(0x401)])(_0x4c7b88[_0x335d9c(0x2c7)])&&!_0x4c7b88[_0x335d9c(0x2c7)]['includes'](_0x335d9c(0x309)))throw _0x4ac417=JSON['stringify'](_0x4c7b88,null,0x2),new g(_0x4c7b88);let _0x524fbe=await I[_0x335d9c(0x3ef)]({'owner':this['instance'][_0x335d9c(0x30d)],'name':_0x4608ff[_0x335d9c(0x750)]});if(!_0x524fbe)return this[_0x335d9c(0x256)]['error'](this['instanceName']+'\x20('+this[_0x335d9c(0x4b7)][_0x335d9c(0x30d)]+'):\x20Flow\x20não\x20encontrado'),{'message':'Flow\x20não\x20encontrado'};let _0x18cb15=await this[_0x335d9c(0x25b)](_0x524fbe,_0x4c7b88[_0x335d9c(0x2c7)],_0x4608ff[_0x335d9c(0x3ed)]);if(_0x18cb15){this[_0x335d9c(0x256)]['verbose'](this[_0x335d9c(0x780)]+'\x20('+this['instance'][_0x335d9c(0x30d)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x410d15=await this[_0x335d9c(0x211)](_0x18cb15);return _0x410d15&&await this[_0x335d9c(0x220)](_0x18cb15,_0x410d15,_0x18cb15[_0x335d9c(0x4a9)]),{'message':'Flow\x20iniciado\x20com\x20'+_0x4608ff[_0x335d9c(0x4a9)]};}}catch(_0x3ab1be){if(this[_0x335d9c(0x256)][_0x335d9c(0x2e0)](this[_0x335d9c(0x780)]+'\x20('+this[_0x335d9c(0x4b7)]['wuid']+_0x335d9c(0x35b)+JSON['stringify'](_0x3ab1be,null,0x2)),_0x4ac417=JSON[_0x335d9c(0x296)](_0x3ab1be,null,0x2),_0x4ac417)throw new g(_0x335d9c(0x427)+_0x4ac417);}}async['closeExistingConversations'](_0x44d9cc){const _0x322e97=a0_0x556deb;let _0x32ae5b=await J[_0x322e97(0x673)]({'owner':this[_0x322e97(0x4b7)][_0x322e97(0x30d)],'remoteJid':_0x44d9cc,'status':'open'},{'$set':{'status':'closed'}});return this[_0x322e97(0x256)][_0x322e97(0x31f)](this[_0x322e97(0x780)]+'\x20('+this['instance'][_0x322e97(0x30d)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x32ae5b;}async[a0_0x556deb(0x25b)](_0x21c1ee,_0x31a719,_0x405c83){const _0x21b630=a0_0x556deb;this[_0x21b630(0x256)][_0x21b630(0x31f)](this[_0x21b630(0x780)]+'\x20('+this[_0x21b630(0x4b7)]['wuid']+_0x21b630(0x576)),await this[_0x21b630(0x2c8)](_0x31a719);try{let _0x2bb146=require('mongodb')['ObjectId'],_0x42ce74=Date[_0x21b630(0x23b)](),_0x133a4d=_0x21b630(0x612),_0x86652={},_0x45d452={},_0x19514b={..._0x21c1ee[_0x21b630(0x275)],'chatLog':null},_0x49eed0=await this[_0x21b630(0x520)](_0x19514b[_0x21b630(0x32e)]),_0x5be3c2=await this[_0x21b630(0x5bb)](_0x31a719),_0x5c7521={..._0x49eed0,..._0x5be3c2,'_remoteJid':_0x31a719},_0x299709={'lastReceivedMessage':_0x86652,'lastSendMessage':_0x45d452,'lastBlockId':_0x133a4d,'lastCondition':!0x0,'realVariables':_0x5c7521};_0x19514b[_0x21b630(0x5ae)]=_0x299709,_0x19514b['chatLog']['realVariables']={..._0x5c7521,..._0x405c83},delete _0x19514b['_id'],_0x19514b[_0x21b630(0x782)]=new _0x2bb146(),_0x19514b[_0x21b630(0x255)]=_0x42ce74,_0x19514b[_0x21b630(0x65f)]=_0x21b630(0x267),_0x19514b[_0x21b630(0x4a9)]=_0x31a719;let _0x46a484=await J['create'](_0x19514b);return this[_0x21b630(0x256)][_0x21b630(0x31f)](this['instanceName']+'\x20('+this[_0x21b630(0x4b7)]['wuid']+_0x21b630(0x47d)),_0x46a484?_0x19514b:null;}catch(_0x400af0){throw this[_0x21b630(0x256)][_0x21b630(0x2e0)](this[_0x21b630(0x780)]+'\x20('+this['instance'][_0x21b630(0x30d)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+JSON[_0x21b630(0x296)](_0x400af0,null,0x2)),new g(_0x400af0['message']);}}async[a0_0x556deb(0x2b6)](_0x5c0f99){const _0x2dd5db=a0_0x556deb;try{return this['logger']['verbose'](this[_0x2dd5db(0x780)]+'\x20('+this[_0x2dd5db(0x4b7)][_0x2dd5db(0x30d)]+'):\x20Buscando\x20conversa...'),this['logger'][_0x2dd5db(0x31f)](this[_0x2dd5db(0x780)]+'\x20('+this[_0x2dd5db(0x4b7)][_0x2dd5db(0x30d)]+'):\x20Query\x20params:'+{'owner':this['instance']['wuid'],'_id':_0x5c0f99}),await J[_0x2dd5db(0x3ef)]({'owner':this[_0x2dd5db(0x4b7)]['wuid'],'_id':_0x5c0f99});}catch(_0x4fb76a){throw this[_0x2dd5db(0x256)][_0x2dd5db(0x2e0)](this[_0x2dd5db(0x780)]+'\x20('+this['instance'][_0x2dd5db(0x30d)]+_0x2dd5db(0x622)+JSON['stringify'](_0x4fb76a,null,0x2)),new g('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x4fb76a['message']);}}async[a0_0x556deb(0x358)](_0x26156f,_0x1eae7f=0x64){const _0x16a763=a0_0x556deb;try{this[_0x16a763(0x256)][_0x16a763(0x31f)](this[_0x16a763(0x780)]+'\x20('+this[_0x16a763(0x4b7)][_0x16a763(0x30d)]+_0x16a763(0x336));let _0x41c402={..._0x26156f,'owner':this[_0x16a763(0x4b7)]['wuid']};return this['logger'][_0x16a763(0x31f)](_0x41c402),await J[_0x16a763(0x33f)](_0x41c402)['limit'](_0x1eae7f)[_0x16a763(0x279)]({'lastInteraction':-0x1});}catch(_0x219ab6){throw this[_0x16a763(0x256)][_0x16a763(0x2e0)](this[_0x16a763(0x780)]+'\x20('+this['instance'][_0x16a763(0x30d)]+_0x16a763(0x3dc)+JSON[_0x16a763(0x296)](_0x219ab6,null,0x2)),new g(_0x16a763(0x3d4)+_0x219ab6[_0x16a763(0x64b)]);}}async[a0_0x556deb(0x408)](_0x1c35a2){const _0x3468c1=a0_0x556deb;try{return this['logger'][_0x3468c1(0x31f)](this[_0x3468c1(0x780)]+'\x20('+this[_0x3468c1(0x4b7)]['wuid']+'):\x20Deletando\x20conversa...'),this[_0x3468c1(0x256)]['verbose'](this['instanceName']+'\x20('+this[_0x3468c1(0x4b7)]['wuid']+'):\x20Query\x20params:'+{'owner':this['instance'][_0x3468c1(0x30d)],'_id':_0x1c35a2}),(await J[_0x3468c1(0x6fb)]({'owner':this[_0x3468c1(0x4b7)]['wuid'],'_id':_0x1c35a2}))['deletedCount']===0x0?{'message':_0x3468c1(0x4ab)}:{'message':_0x3468c1(0x5d6)};}catch(_0x37cf6b){throw this[_0x3468c1(0x256)][_0x3468c1(0x2e0)](this[_0x3468c1(0x780)]+'\x20('+this[_0x3468c1(0x4b7)]['wuid']+_0x3468c1(0x631)+JSON[_0x3468c1(0x296)](_0x37cf6b,null,0x2)),new g(_0x3468c1(0x3b3)+_0x37cf6b[_0x3468c1(0x64b)]);}}async[a0_0x556deb(0x3cd)](_0x218de4){const _0x37be5a=a0_0x556deb;try{let {_id:_0x3f19fe,chatLog:_0x1f7e6e,status:_0x3d72ac}=_0x218de4;if(!_0x3f19fe)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x4f8063={};if(_0x3d72ac!==void 0x0&&(_0x4f8063[_0x37be5a(0x65f)]=_0x3d72ac),Object[_0x37be5a(0x561)](_0x4f8063)[_0x37be5a(0x72a)]===0x0)return{'message':_0x37be5a(0x670)};let _0x481abf=this[_0x37be5a(0x4b7)][_0x37be5a(0x30d)],_0x330f84=await J['findOneAndUpdate']({'_id':_0x3f19fe,'owner':_0x481abf},{'$set':_0x4f8063},{'new':!0x0});return _0x330f84||{'message':_0x37be5a(0x333)};}catch(_0x28d620){throw this[_0x37be5a(0x256)][_0x37be5a(0x2e0)](this['instanceName']+'\x20('+this[_0x37be5a(0x4b7)][_0x37be5a(0x30d)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+JSON[_0x37be5a(0x296)](_0x28d620,null,0x2)),new g('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x28d620[_0x37be5a(0x64b)]);}}async[a0_0x556deb(0x745)](_0x40054a){const _0x496a75=a0_0x556deb;try{_0x40054a[_0x496a75(0x782)]=this['createJid'](_0x40054a[_0x496a75(0x782)]);let {_id:_0x4ad516,leadInfo:_0x5976f4}=_0x40054a;if(!_0x4ad516)throw new Error(_0x496a75(0x426));let _0x124d93=(_0xcee30f,_0x4d6079,_0x53fec7)=>{const _0xc7600=_0x496a75;_0x53fec7[_0xc7600(0x513)](_0x585f22=>{_0xcee30f[_0x585f22]!==void 0x0&&(_0x4d6079['leadInfo.'+_0x585f22]=_0xcee30f[_0x585f22]);});},_0x5d263b={};if(_0x124d93(_0x5976f4,_0x5d263b,[_0x496a75(0x268),'nomecompleto',_0x496a75(0x54a),_0x496a75(0x2c0),'status','notas','tags',_0x496a75(0x741),'responsavelid']),Array[_0x496a75(0x2be)](_0x5976f4[_0x496a75(0x6a5)])&&(_0x5d263b['leadInfo.customFields']=_0x5976f4[_0x496a75(0x6a5)][_0x496a75(0x608)](_0x59baac=>({'_id':_0x59baac[_0x496a75(0x782)],'value':_0x59baac['value']}))),_0x40054a[_0x496a75(0x1cd)][_0x496a75(0x452)]!==void 0x0&&(_0x5d263b[_0x496a75(0x24a)]=Number(_0x40054a['leadInfo'][_0x496a75(0x452)])),_0x40054a[_0x496a75(0x58b)]!==void 0x0&&(_0x5d263b['unreadcount']=Number(_0x40054a['unreadcount'])),Object[_0x496a75(0x561)](_0x5d263b)[_0x496a75(0x72a)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x22074a=this[_0x496a75(0x4b7)][_0x496a75(0x30d)];if(!_0x22074a)throw new Error(_0x496a75(0x7a6));if(!await this[_0x496a75(0x3df)]['chat'][_0x496a75(0x3ef)]({'where':{'_id':_0x40054a[_0x496a75(0x782)],'owner':_0x22074a}})){let _0x3d31fa=(await this[_0x496a75(0x551)]({'numbers':[_0x40054a[_0x496a75(0x782)]]}))[0x0];if(!_0x3d31fa[_0x496a75(0x598)]&&!(0x0,w[_0x496a75(0x401)])(_0x3d31fa[_0x496a75(0x2c7)])&&!_0x3d31fa[_0x496a75(0x2c7)]['includes'](_0x496a75(0x309)))throw new g(_0x3d31fa);_0x40054a[_0x496a75(0x782)]=_0x3d31fa[_0x496a75(0x2c7)];}let _0x32280a=await this[_0x496a75(0x3df)][_0x496a75(0x1dd)][_0x496a75(0x51f)]({'where':{'_id':_0x40054a[_0x496a75(0x782)],'owner':_0x22074a}},_0x5d263b);return _0x32280a&&F(this[_0x496a75(0x780)],'chats',{'chat':_0x32280a}),_0x32280a?(this['logger'][_0x496a75(0x31f)](this['instanceName']+'\x20('+this[_0x496a75(0x4b7)]['wuid']+_0x496a75(0x24c)+_0x32280a),_0x32280a):{'message':_0x496a75(0x728)};}catch(_0x3a27a2){throw this[_0x496a75(0x256)][_0x496a75(0x2e0)](this[_0x496a75(0x780)]+'\x20('+this[_0x496a75(0x4b7)][_0x496a75(0x30d)]+_0x496a75(0x43b)+JSON[_0x496a75(0x296)](_0x3a27a2,null,0x2)),new g('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x3a27a2[_0x496a75(0x64b)]);}}async[a0_0x556deb(0x56a)](_0x503d33){const _0x36f726=a0_0x556deb;let _0x4abf7a=this[_0x36f726(0x4b7)][_0x36f726(0x30d)];try{let _0x2df370=await ae[_0x36f726(0x55a)](_0x4abf7a);_0x2df370||(_0x2df370=new ae({'_id':_0x4abf7a}),await _0x2df370[_0x36f726(0x752)]());let _0x3d0f04=_0x503d33[_0x36f726(0x782)]?_0x2df370[_0x36f726(0x297)][_0x36f726(0x571)](_0x3406e6=>_0x3406e6[_0x36f726(0x782)]===_0x503d33[_0x36f726(0x782)]):-0x1;if(_0x503d33[_0x36f726(0x733)]&&_0x3d0f04>-0x1)_0x2df370[_0x36f726(0x297)]['splice'](_0x3d0f04,0x1);else{if(_0x3d0f04>-0x1){let _0x49b152=_0x2df370['agents'][_0x3d0f04];_0x503d33[_0x36f726(0x4f8)]&&(_0x49b152['fone']=_0x503d33['fone']),_0x503d33[_0x36f726(0x750)]&&(_0x49b152[_0x36f726(0x750)]=_0x503d33[_0x36f726(0x750)]),_0x503d33[_0x36f726(0x54a)]&&(_0x49b152[_0x36f726(0x54a)]=_0x503d33[_0x36f726(0x54a)]),_0x503d33['role']&&(_0x49b152[_0x36f726(0x6c3)]=_0x503d33[_0x36f726(0x6c3)]);}else _0x2df370['agents'][_0x36f726(0x73a)]({'_id':_0x503d33[_0x36f726(0x782)]||new pe['default'][(_0x36f726(0x3fe))][(_0x36f726(0x444))]()[_0x36f726(0x77f)](),'fone':_0x503d33['fone'],'name':_0x503d33['name'],'email':_0x503d33[_0x36f726(0x54a)],'role':_0x503d33[_0x36f726(0x6c3)]});}let _0x5dc887=await _0x2df370[_0x36f726(0x752)]();return this[_0x36f726(0x640)]=_0x5dc887,this[_0x36f726(0x256)]['verbose'](this[_0x36f726(0x780)]+'\x20('+this[_0x36f726(0x4b7)]['wuid']+_0x36f726(0x4d4)),this[_0x36f726(0x256)][_0x36f726(0x31f)](this[_0x36f726(0x780)]+'\x20('+this['instance'][_0x36f726(0x30d)]+_0x36f726(0x24c)+this[_0x36f726(0x640)]),_0x5dc887;}catch(_0x5b1f19){throw this[_0x36f726(0x256)][_0x36f726(0x2e0)](this[_0x36f726(0x780)]+'\x20('+this['instance'][_0x36f726(0x30d)]+_0x36f726(0x554)+JSON[_0x36f726(0x296)](_0x5b1f19,null,0x2)),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x5b1f19[_0x36f726(0x64b)]);}}async[a0_0x556deb(0x1d5)](_0x3427e3){const _0x477b43=a0_0x556deb;let _0x2977f4=this[_0x477b43(0x4b7)][_0x477b43(0x30d)];try{let _0x46084c=await ae[_0x477b43(0x55a)](_0x2977f4);_0x46084c||(_0x46084c=new ae({'_id':_0x2977f4}),await _0x46084c['save']());let _0x5c4b84=_0x3427e3[_0x477b43(0x782)]?_0x46084c[_0x477b43(0x6a5)][_0x477b43(0x571)](_0x3a0014=>_0x3a0014[_0x477b43(0x782)]===_0x3427e3[_0x477b43(0x782)]):-0x1,_0x54a0c2=!0x1,_0x2099b3=_0x46084c[_0x477b43(0x6a5)][_0x477b43(0x730)](_0x563437=>_0x563437['order']===_0x3427e3['order']);if(_0x3427e3[_0x477b43(0x733)]&&_0x5c4b84>-0x1)_0x46084c[_0x477b43(0x6a5)][_0x477b43(0x38e)](_0x5c4b84,0x1),_0x54a0c2=!0x0;else{if(_0x5c4b84>-0x1){if(_0x46084c['customFields']['some'](_0x283bdd=>_0x283bdd[_0x477b43(0x750)]===_0x3427e3['name']&&_0x283bdd[_0x477b43(0x782)]!==_0x3427e3[_0x477b43(0x782)]))throw new Error(_0x477b43(0x4bd));let _0x46558d=_0x46084c['customFields'][_0x5c4b84];_0x3427e3[_0x477b43(0x215)]&&(_0x2099b3||!Number[_0x477b43(0x364)](_0x3427e3[_0x477b43(0x215)]))&&(_0x46558d[_0x477b43(0x215)]=_0x3427e3['order'],_0x54a0c2=!0x0),_0x3427e3[_0x477b43(0x750)]&&(_0x46558d[_0x477b43(0x750)]=_0x3427e3[_0x477b43(0x750)]);}else{if(_0x46084c[_0x477b43(0x6a5)][_0x477b43(0x730)](_0x42c12f=>_0x42c12f['name']===_0x3427e3[_0x477b43(0x750)]&&_0x42c12f[_0x477b43(0x782)]!==_0x3427e3[_0x477b43(0x782)]))throw new Error(_0x477b43(0x4bd));_0x46084c[_0x477b43(0x6a5)][_0x477b43(0x73a)]({'_id':_0x3427e3[_0x477b43(0x782)]||new pe['default'][(_0x477b43(0x3fe))][(_0x477b43(0x444))]()[_0x477b43(0x77f)](),'order':_0x3427e3[_0x477b43(0x215)],'name':_0x3427e3[_0x477b43(0x750)]}),_0x54a0c2=!0x0;}}if(_0x54a0c2){_0x46084c[_0x477b43(0x6a5)][_0x477b43(0x279)]((_0x1972fa,_0x28519d)=>_0x1972fa['order']>_0x28519d['order']?0x1:_0x28519d[_0x477b43(0x215)]>_0x1972fa[_0x477b43(0x215)]?-0x1:0x0);for(let _0x4573a3=0x0;_0x4573a3<_0x46084c[_0x477b43(0x6a5)]['length'];_0x4573a3++)_0x46084c[_0x477b43(0x6a5)][_0x4573a3][_0x477b43(0x215)]=_0x4573a3+0x1;}let _0x49d303=await _0x46084c['save']();return this['AutomateSystem']=_0x49d303,this[_0x477b43(0x256)][_0x477b43(0x31f)](this[_0x477b43(0x780)]+'\x20('+this[_0x477b43(0x4b7)][_0x477b43(0x30d)]+_0x477b43(0x301)),this[_0x477b43(0x256)][_0x477b43(0x31f)](this['instanceName']+'\x20('+this[_0x477b43(0x4b7)]['wuid']+_0x477b43(0x24c)+this[_0x477b43(0x640)]),_0x49d303;}catch(_0x44f7b2){throw this['logger'][_0x477b43(0x2e0)](this[_0x477b43(0x780)]+'\x20('+this['instance']['wuid']+_0x477b43(0x492)+JSON[_0x477b43(0x296)](_0x44f7b2,null,0x2)),new g(_0x477b43(0x772)+_0x44f7b2[_0x477b43(0x64b)]);}}async[a0_0x556deb(0x45a)](_0x67d71c){const _0x253e9b=a0_0x556deb;let _0x59f863=this['instance'][_0x253e9b(0x30d)];try{let _0x53cf02=await ae['findById'](_0x59f863);_0x53cf02||(_0x53cf02=new ae({'_id':_0x59f863}),await _0x53cf02[_0x253e9b(0x752)]()),_0x53cf02[_0x253e9b(0x795)][_0x253e9b(0x6d1)]=_0x67d71c?.[_0x253e9b(0x6d1)]!==void 0x0?_0x67d71c?.['enabled']:_0x53cf02['flowConfig']['enabled'],_0x53cf02[_0x253e9b(0x795)][_0x253e9b(0x36b)]=_0x67d71c?.[_0x253e9b(0x36b)]!==void 0x0?_0x67d71c?.[_0x253e9b(0x36b)]:_0x53cf02[_0x253e9b(0x795)][_0x253e9b(0x36b)],_0x53cf02[_0x253e9b(0x795)][_0x253e9b(0x6e6)]=_0x67d71c?.[_0x253e9b(0x6e6)]??_0x53cf02[_0x253e9b(0x795)][_0x253e9b(0x6e6)],_0x53cf02[_0x253e9b(0x795)][_0x253e9b(0x1de)]=_0x67d71c?.[_0x253e9b(0x1de)]??_0x53cf02['flowConfig'][_0x253e9b(0x1de)],_0x53cf02[_0x253e9b(0x795)][_0x253e9b(0x437)]=_0x67d71c?.[_0x253e9b(0x437)]??_0x53cf02['flowConfig'][_0x253e9b(0x437)];let _0x4e95b0=await _0x53cf02['save']();return this[_0x253e9b(0x640)]=_0x4e95b0,this['logger'][_0x253e9b(0x31f)](this[_0x253e9b(0x780)]+'\x20('+this[_0x253e9b(0x4b7)][_0x253e9b(0x30d)]+_0x253e9b(0x4d4)),this['logger'][_0x253e9b(0x31f)](this[_0x253e9b(0x780)]+'\x20('+this[_0x253e9b(0x4b7)][_0x253e9b(0x30d)]+_0x253e9b(0x24c)+this['AutomateSystem']),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x4e95b0;}catch(_0x260561){throw this[_0x253e9b(0x256)]['error'](this[_0x253e9b(0x780)]+'\x20('+this['instance']['wuid']+_0x253e9b(0x554)+JSON[_0x253e9b(0x296)](_0x260561,null,0x2)),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x260561['message']);}}async['getAutomateSystem'](){const _0x15ca84=a0_0x556deb;let _0x257021=this[_0x15ca84(0x4b7)][_0x15ca84(0x30d)];try{let _0x16cb53=await ae[_0x15ca84(0x55a)](_0x257021);return _0x16cb53||(_0x16cb53=new ae({'_id':_0x257021})),_0x16cb53['flowConfig']=_0x16cb53['flowConfig']||{},_0x16cb53[_0x15ca84(0x795)][_0x15ca84(0x6d1)]===void 0x0&&(_0x16cb53[_0x15ca84(0x795)][_0x15ca84(0x6d1)]=!0x1),_0x16cb53[_0x15ca84(0x795)][_0x15ca84(0x36b)]===void 0x0&&(_0x16cb53[_0x15ca84(0x795)]['ignoreGroups']=!0x0),_0x16cb53[_0x15ca84(0x795)][_0x15ca84(0x6e6)]===void 0x0&&(_0x16cb53[_0x15ca84(0x795)][_0x15ca84(0x6e6)]='!'),_0x16cb53[_0x15ca84(0x795)][_0x15ca84(0x1de)]===void 0x0&&(_0x16cb53[_0x15ca84(0x795)][_0x15ca84(0x1de)]=_0x15ca84(0x4b2)),_0x16cb53['flowConfig'][_0x15ca84(0x437)]===void 0x0&&(_0x16cb53[_0x15ca84(0x795)][_0x15ca84(0x437)]=0x14),await _0x16cb53['save'](),this[_0x15ca84(0x640)]=_0x16cb53,this[_0x15ca84(0x256)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x15ca84(0x30d)]+_0x15ca84(0x6b8)),this[_0x15ca84(0x256)][_0x15ca84(0x31f)](this[_0x15ca84(0x640)]),_0x16cb53;}catch(_0x4ded23){throw this[_0x15ca84(0x256)]['error'](this[_0x15ca84(0x780)]+'\x20('+this['instance'][_0x15ca84(0x30d)]+_0x15ca84(0x438)+JSON[_0x15ca84(0x296)](_0x4ded23,null,0x2)),new g('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x4ded23[_0x15ca84(0x64b)]);}}async[a0_0x556deb(0x4a1)](){const _0x176818=a0_0x556deb;this[_0x176818(0x244)]&&clearTimeout(this['timerId']),this[_0x176818(0x244)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x556deb(0x387)](){const _0x32120=a0_0x556deb;Date[_0x32120(0x23b)]()-this[_0x32120(0x342)]>=0x1d4c0&&(this['logger'][_0x32120(0x31f)](this['instanceName']+'\x20('+this['instance'][_0x32120(0x30d)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x32120(0x6fd)]=null,this[_0x32120(0x342)]=0x0,this['delayMessage']=0x0,await this[_0x32120(0x6c7)]());}async[a0_0x556deb(0x6c7)](){const _0x40e91e=a0_0x556deb;let _0xa42c5f=()=>{const _0x28f192=a0_0x2d74;this[_0x28f192(0x256)][_0x28f192(0x31f)](this[_0x28f192(0x780)]+'\x20('+this[_0x28f192(0x4b7)]['wuid']+_0x28f192(0x29a)+this['processingScheduleMessageId']+_0x28f192(0x59e));},_0x3d6015=async()=>{const _0x258a9a=a0_0x2d74;this[_0x258a9a(0x256)][_0x258a9a(0x31f)](this['instanceName']+'\x20('+this['instance'][_0x258a9a(0x30d)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x28993a=Date[_0x258a9a(0x23b)]()-0xc*0x3c*0x3c*0x3e8;return await L[_0x258a9a(0x33f)]({'owner':this[_0x258a9a(0x4b7)][_0x258a9a(0x30d)],'status':{'$in':[_0x258a9a(0x2de),'sending']},'$or':[{'when':{'$lte':Date[_0x258a9a(0x23b)](),'$gte':_0x28993a}},{'when':0x0}]});},_0x3b9576=async _0x26a603=>{const _0x55dde1=a0_0x2d74;for(let _0x5315fe of _0x26a603){if(!await L[_0x55dde1(0x624)]({'_id':_0x5315fe[_0x55dde1(0x782)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x55dde1(0x23b)]()-0x1770}}]},{'$set':{'startSend':Date['now']()}}))return;if(!this[_0x55dde1(0x20f)]){this['logger'][_0x55dde1(0x31f)](this[_0x55dde1(0x780)]+'\x20('+this['instance'][_0x55dde1(0x30d)]+_0x55dde1(0x574));break;}if(_0x5315fe[_0x55dde1(0x634)]===_0x55dde1(0x55c)&&!this[_0x55dde1(0x640)]?.[_0x55dde1(0x795)][_0x55dde1(0x6d1)]){this[_0x55dde1(0x256)][_0x55dde1(0x2e0)](this[_0x55dde1(0x780)]+'\x20('+this[_0x55dde1(0x4b7)][_0x55dde1(0x30d)]+_0x55dde1(0x4e7));continue;}(!_0x5315fe[_0x55dde1(0x1d3)]||_0x5315fe['remoteJidsRemaining'][_0x55dde1(0x72a)]===0x0)&&(_0x5315fe=await L['findByIdAndUpdate'](_0x5315fe['_id'],{'$set':{'status':'sending','remoteJidsRemaining':[..._0x5315fe['remoteJids']]}},{'new':!0x0}));for(let _0x1396a0 of _0x5315fe['remoteJidsRemaining']){if(await this['setRestartTimer'](),this[_0x55dde1(0x342)]=Date[_0x55dde1(0x23b)](),_0x5315fe[_0x55dde1(0x6ed)][_0x55dde1(0x730)](_0x33159d=>_0x33159d[_0x55dde1(0x4a9)]===_0x1396a0)){this[_0x55dde1(0x256)]['verbose'](this[_0x55dde1(0x780)]+'\x20('+this['instance'][_0x55dde1(0x30d)]+_0x55dde1(0x1d9)+_0x1396a0+_0x55dde1(0x65c));continue;}if(!this[_0x55dde1(0x20f)]){this[_0x55dde1(0x256)][_0x55dde1(0x31f)](this[_0x55dde1(0x780)]+'\x20('+this[_0x55dde1(0x4b7)][_0x55dde1(0x30d)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this['processingScheduleMessageId']){this[_0x55dde1(0x256)][_0x55dde1(0x31f)](this[_0x55dde1(0x780)]+'\x20('+this[_0x55dde1(0x4b7)][_0x55dde1(0x30d)]+_0x55dde1(0x61d)+_0x5315fe[_0x55dde1(0x782)]+_0x55dde1(0x48d));break;}if(_0x5315fe[_0x55dde1(0x634)]===_0x55dde1(0x55c)&&!this[_0x55dde1(0x640)]?.[_0x55dde1(0x795)][_0x55dde1(0x6d1)]){this[_0x55dde1(0x256)]['error'](this[_0x55dde1(0x780)]+'\x20('+this[_0x55dde1(0x4b7)][_0x55dde1(0x30d)]+_0x55dde1(0x4e7));break;}try{let _0x4997b8=await this[_0x55dde1(0x6da)](_0x1396a0,_0x5315fe),_0x193a7d=_0x4997b8[_0x55dde1(0x2e0)]===!0x0,_0x15ad49={'remoteJid':_0x1396a0,'error':_0x193a7d,'id':_0x193a7d?null:_0x4997b8['id'],'error_log':_0x193a7d?_0x4997b8[_0x55dde1(0x395)]?_0x4997b8[_0x55dde1(0x395)]['toString']():'':null,'log_timestamp':Date[_0x55dde1(0x23b)]()};if((await L[_0x55dde1(0x516)](_0x5315fe[_0x55dde1(0x782)],{'$push':{'messagesSend':_0x15ad49},'$pull':{'remoteJidsRemaining':_0x1396a0}},{'new':!0x0}))[_0x55dde1(0x65f)]===_0x55dde1(0x2a8)){this[_0x55dde1(0x256)][_0x55dde1(0x31f)](this[_0x55dde1(0x780)]+'\x20('+this[_0x55dde1(0x4b7)][_0x55dde1(0x30d)]+_0x55dde1(0x61d)+_0x5315fe[_0x55dde1(0x782)]+_0x55dde1(0x618));break;}if(_0x193a7d)continue;let _0xf2cfd5=this[_0x55dde1(0x724)](_0x5315fe[_0x55dde1(0x1da)],_0x5315fe[_0x55dde1(0x45e)]);await this['sleep'](_0xf2cfd5);}catch(_0x55c754){this[_0x55dde1(0x256)][_0x55dde1(0x2e0)](this['instanceName']+'\x20('+this[_0x55dde1(0x4b7)][_0x55dde1(0x30d)]+_0x55dde1(0x28a)+_0x1396a0+':\x20'+JSON[_0x55dde1(0x296)](_0x55c754,null,0x2));let _0x3d6e26={'remoteJid':_0x1396a0,'error':!0x0,'id':null,'error_log':_0x55c754[_0x55dde1(0x64b)],'log_timestamp':Date[_0x55dde1(0x23b)]()};await L['findByIdAndUpdate'](_0x5315fe[_0x55dde1(0x782)],{'$push':{'messagesSend':_0x3d6e26},'$pull':{'remoteJidsRemaining':_0x1396a0}},{'new':!0x0});}}let _0x26ffb7=await L[_0x55dde1(0x55a)](_0x5315fe[_0x55dde1(0x782)]);_0x26ffb7[_0x55dde1(0x1d3)][_0x55dde1(0x72a)]===0x0&&_0x26ffb7[_0x55dde1(0x65f)]!==_0x55dde1(0x2a8)&&await L[_0x55dde1(0x516)](_0x5315fe[_0x55dde1(0x782)],{'$set':{'status':_0x55dde1(0x302)}},{'new':!0x0}),await new Promise(_0x1947f9=>setTimeout(_0x1947f9,0x1388));}},_0x17f1f7=async()=>{const _0x311c4d=a0_0x2d74;let _0x4a96d6=await L['findOne']({'owner':this['instance'][_0x311c4d(0x30d)],'status':'scheduled','when':{'$gt':Date[_0x311c4d(0x23b)]()}})[_0x311c4d(0x279)]({'when':0x1});_0x4a96d6&&_0x4a96d6[_0x311c4d(0x63c)]-Date['now']()<=0x5265c00?this['delayMessage']=_0x4a96d6[_0x311c4d(0x63c)]-Date[_0x311c4d(0x23b)]():this[_0x311c4d(0x550)]=(0x3c+Math[_0x311c4d(0x3f0)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x311c4d(0x550)]=Math[_0x311c4d(0x530)](this[_0x311c4d(0x550)],0x7d0);let _0x55fb20=Math['round'](this[_0x311c4d(0x550)]/0xea60);if(_0x4a96d6){let _0x5541de=new Date(_0x4a96d6[_0x311c4d(0x63c)])['toLocaleString']();this[_0x311c4d(0x256)][_0x311c4d(0x31f)](this['instanceName']+'\x20('+this[_0x311c4d(0x4b7)]['wuid']+_0x311c4d(0x57d)+_0x5541de+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x55fb20+_0x311c4d(0x3c2));}else this['logger']['verbose'](this[_0x311c4d(0x780)]+'\x20('+this[_0x311c4d(0x4b7)][_0x311c4d(0x30d)]+_0x311c4d(0x557)+_0x55fb20+_0x311c4d(0x3c2));setTimeout(()=>this[_0x311c4d(0x6c7)](),this[_0x311c4d(0x550)]);};if(this['processingScheduleMessageId']){await this[_0x40e91e(0x4a1)](),_0xa42c5f();return;}if(!this[_0x40e91e(0x20f)]){this[_0x40e91e(0x256)][_0x40e91e(0x31f)](this[_0x40e91e(0x780)]+'\x20('+this[_0x40e91e(0x4b7)][_0x40e91e(0x30d)]+_0x40e91e(0x384)),this[_0x40e91e(0x6fd)]=null,this['lastSend']=0x0,this[_0x40e91e(0x550)]=0x0;return;}try{let _0x3d48e9=await _0x3d6015();_0x3d48e9[_0x40e91e(0x72a)]===0x0?this['logger'][_0x40e91e(0x31f)](this['instanceName']+'\x20('+this[_0x40e91e(0x4b7)][_0x40e91e(0x30d)]+_0x40e91e(0x6b6)):(this[_0x40e91e(0x6fd)]=_0x3d48e9[0x0]['_id'],await _0x3b9576(_0x3d48e9)),await _0x17f1f7(),this[_0x40e91e(0x6fd)]=null;}catch(_0x112276){this[_0x40e91e(0x256)][_0x40e91e(0x2e0)]('Error\x20in\x20scheduleNextCheck:\x20'+JSON[_0x40e91e(0x296)](_0x112276,null,0x2));}}[a0_0x556deb(0x724)](_0x4e07e8,_0x44c269){const _0x1b195e=a0_0x556deb;return _0x4e07e8=Math[_0x1b195e(0x530)](0.5,_0x4e07e8),_0x44c269=Math['max'](0x3,_0x44c269),Math[_0x1b195e(0x3f0)](Math[_0x1b195e(0x533)]()*(_0x44c269-_0x4e07e8+0x1)+_0x4e07e8)*0x3e8;}[a0_0x556deb(0x725)](_0x3f088f){return new Promise(_0x454e83=>setTimeout(_0x454e83,_0x3f088f));}async[a0_0x556deb(0x5bb)](_0x30d232){const _0x298ff6=a0_0x556deb;if(!this[_0x298ff6(0x640)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0x30d232=this['createJid'](_0x30d232);let _0x4b66cc=await this[_0x298ff6(0x3df)][_0x298ff6(0x1dd)][_0x298ff6(0x3ef)]({'where':{'_id':_0x30d232,'owner':this[_0x298ff6(0x4b7)][_0x298ff6(0x30d)]}}),_0xaef04d={};if(_0x4b66cc&&_0x4b66cc[_0x298ff6(0x1cd)]){let _0x332f19=_0x4b66cc[_0x298ff6(0x1cd)];typeof _0x332f19[_0x298ff6(0x268)]==_0x298ff6(0x20c)&&(_0xaef04d[_0x298ff6(0x268)]=_0x332f19[_0x298ff6(0x268)]),typeof _0x332f19[_0x298ff6(0x224)]==_0x298ff6(0x20c)&&(_0xaef04d[_0x298ff6(0x224)]=_0x332f19[_0x298ff6(0x224)]),typeof _0x332f19['email']==_0x298ff6(0x20c)&&(_0xaef04d['email']=_0x332f19[_0x298ff6(0x54a)]),typeof _0x332f19[_0x298ff6(0x2c0)]==_0x298ff6(0x20c)&&(_0xaef04d['cpf']=_0x332f19['cpf']),typeof _0x332f19[_0x298ff6(0x65f)]==_0x298ff6(0x20c)&&(_0xaef04d[_0x298ff6(0x65f)]=_0x332f19['status']),typeof _0x332f19['notas']=='string'&&(_0xaef04d[_0x298ff6(0x2cb)]=_0x332f19[_0x298ff6(0x2cb)]),typeof _0x332f19[_0x298ff6(0x626)]=='string'&&(_0xaef04d['responsavelid']=_0x332f19[_0x298ff6(0x626)]),Array[_0x298ff6(0x2be)](_0x332f19[_0x298ff6(0x66c)])&&(_0xaef04d[_0x298ff6(0x66c)]=_0x332f19[_0x298ff6(0x66c)][_0x298ff6(0x226)](',\x20'));}return _0x4b66cc&&_0x4b66cc[_0x298ff6(0x1cd)]&&_0x4b66cc[_0x298ff6(0x1cd)]['customFields']&&_0x4b66cc[_0x298ff6(0x1cd)][_0x298ff6(0x6a5)][_0x298ff6(0x513)](_0xfb527b=>{const _0xfc85bd=_0x298ff6;let _0x520504=this[_0xfc85bd(0x640)]?.[_0xfc85bd(0x6a5)]['find'](_0x292a65=>_0x292a65[_0xfc85bd(0x782)]===_0xfb527b[_0xfc85bd(0x782)]);_0x520504&&(_0xaef04d[_0x520504[_0xfc85bd(0x750)]]=_0xfb527b[_0xfc85bd(0x65d)]);}),_0xaef04d;}async[a0_0x556deb(0x70b)](_0x28fa45,_0x40f89c){const _0x5f462d=a0_0x556deb;let _0x6bb813=await this[_0x5f462d(0x5bb)](_0x40f89c);return this[_0x5f462d(0x465)](_0x28fa45,_0x6bb813);}async[a0_0x556deb(0x502)](_0x55b5f3){const _0x6277f0=a0_0x556deb;try{if(this[_0x6277f0(0x256)][_0x6277f0(0x31f)](this[_0x6277f0(0x780)]+'\x20('+this[_0x6277f0(0x4b7)][_0x6277f0(0x30d)]+_0x6277f0(0x514)),_0x55b5f3[_0x6277f0(0x733)]&&_0x55b5f3[_0x6277f0(0x782)]){if(this[_0x6277f0(0x6fd)]===_0x55b5f3[_0x6277f0(0x782)][_0x6277f0(0x77f)]())throw new Error(_0x6277f0(0x42e));let _0x5bf74c=await L['findByIdAndDelete'](_0x55b5f3[_0x6277f0(0x782)]);return setTimeout(()=>this[_0x6277f0(0x6c7)](),0x7d0),_0x5bf74c;}let _0x6ab832;if(_0x55b5f3[_0x6277f0(0x782)]&&(_0x6ab832=await L['findOne']({'owner':this['instance'][_0x6277f0(0x30d)],'_id':_0x55b5f3[_0x6277f0(0x782)]})),_0x6ab832){let _0x16904c=_0x55b5f3;this[_0x6277f0(0x6fd)]===_0x6ab832[_0x6277f0(0x782)][_0x6277f0(0x77f)]()&&(_0x16904c={'status':_0x55b5f3['status'],'_id':_0x55b5f3[_0x6277f0(0x782)]});let _0x17f436=await L['findByIdAndUpdate'](_0x6ab832[_0x6277f0(0x782)],{'$set':_0x16904c},{'new':!0x0});return setTimeout(()=>this[_0x6277f0(0x6c7)](),0x7d0),_0x17f436;}else{_0x55b5f3[_0x6277f0(0x698)]=this['instance'][_0x6277f0(0x30d)];let _0x1f7740=await new L(_0x55b5f3)[_0x6277f0(0x752)]();return setTimeout(()=>this[_0x6277f0(0x6c7)](),0x7d0),_0x1f7740;}}catch(_0x1165c5){throw this[_0x6277f0(0x256)][_0x6277f0(0x2e0)](this[_0x6277f0(0x780)]+'\x20('+this['instance'][_0x6277f0(0x30d)]+_0x6277f0(0x568)+JSON['stringify'](_0x1165c5,null,0x2)),new g('Erro:'+_0x1165c5['message']);}}async[a0_0x556deb(0x4ef)](){const _0x5a8e6d=a0_0x556deb;try{return await L[_0x5a8e6d(0x33f)]({'owner':this[_0x5a8e6d(0x4b7)][_0x5a8e6d(0x30d)]})[_0x5a8e6d(0x279)]({'when':0x1});}catch(_0x416383){throw this[_0x5a8e6d(0x256)][_0x5a8e6d(0x2e0)](this['instanceName']+'\x20('+this[_0x5a8e6d(0x4b7)]['wuid']+_0x5a8e6d(0x5ba)+JSON[_0x5a8e6d(0x296)](_0x416383,null,0x2)),new g(_0x5a8e6d(0x773)+_0x416383[_0x5a8e6d(0x64b)]);}}async['deleteDoneMessages'](){const _0x44768c=a0_0x556deb;try{return await L[_0x44768c(0x786)]({'owner':this[_0x44768c(0x4b7)][_0x44768c(0x30d)],'status':'done'}),this[_0x44768c(0x256)][_0x44768c(0x31f)](this['instanceName']+'\x20('+this[_0x44768c(0x4b7)]['wuid']+_0x44768c(0x1ec)),this['getScheduleMessage']();}catch(_0x5519dc){throw this[_0x44768c(0x256)][_0x44768c(0x2e0)](this[_0x44768c(0x780)]+'\x20('+this['instance'][_0x44768c(0x30d)]+_0x44768c(0x517)+JSON[_0x44768c(0x296)](_0x5519dc,null,0x2)),new g(_0x44768c(0x773)+_0x5519dc[_0x44768c(0x64b)]);}}async['SendScheduleMessage'](_0x4244b5,_0x1860ba){const _0x16ecc9=a0_0x556deb;try{if(_0x1860ba[_0x16ecc9(0x634)]==='flow'&&!this[_0x16ecc9(0x640)]?.['flowConfig'][_0x16ecc9(0x6d1)])return this[_0x16ecc9(0x256)][_0x16ecc9(0x2e0)](this['instanceName']+'\x20('+this[_0x16ecc9(0x4b7)]['wuid']+_0x16ecc9(0x669)),{'error':!0x0,'detail':_0x16ecc9(0x392)};switch(_0x1860ba[_0x16ecc9(0x634)]){case _0x16ecc9(0x72c):return await this[_0x16ecc9(0x286)](_0x1860ba,_0x4244b5);case _0x16ecc9(0x32d):return await this['scheduleSendMedia'](_0x1860ba,_0x4244b5);case _0x16ecc9(0x3c4):return await this[_0x16ecc9(0x2bf)](_0x1860ba,_0x4244b5);case _0x16ecc9(0x55c):let _0x597c6b=new Pe();return _0x597c6b[_0x16ecc9(0x750)]=_0x1860ba[_0x16ecc9(0x512)],_0x597c6b['remoteJid']=_0x4244b5,await this[_0x16ecc9(0x4ac)](_0x597c6b);break;default:return this[_0x16ecc9(0x256)][_0x16ecc9(0x2e0)](this[_0x16ecc9(0x780)]+'\x20('+this['instance'][_0x16ecc9(0x30d)]+_0x16ecc9(0x37a)+_0x1860ba[_0x16ecc9(0x634)]),{'error':!0x0,'detail':_0x16ecc9(0x5ed)};}}catch(_0x6a9a4f){return this[_0x16ecc9(0x256)][_0x16ecc9(0x2e0)](this[_0x16ecc9(0x780)]+'\x20('+this[_0x16ecc9(0x4b7)][_0x16ecc9(0x30d)]+_0x16ecc9(0x222)+JSON[_0x16ecc9(0x296)](_0x6a9a4f,null,0x2)),{'error':!0x0,'detail':_0x6a9a4f['message']};}}[a0_0x556deb(0x1e0)](_0x257ed3){const _0x79d2e0=a0_0x556deb;let _0x593ffa=_0x257ed3[_0x79d2e0(0x23e)]('|'),_0x4540bc=Math['floor'](Math['random']()*_0x593ffa[_0x79d2e0(0x72a)]);return _0x593ffa[_0x4540bc][_0x79d2e0(0x419)]();}async[a0_0x556deb(0x286)](_0x11b902,_0x3ba8c0){const _0x2dd72a=a0_0x556deb;if(this[_0x2dd72a(0x256)]['verbose'](this['instanceName']+'\x20('+this[_0x2dd72a(0x4b7)][_0x2dd72a(0x30d)]+'):\x20Enviando\x20texto'),!_0x11b902[_0x2dd72a(0x64b)]['text']||_0x11b902[_0x2dd72a(0x64b)]['text'][_0x2dd72a(0x72a)]===0x0)return{'error':!0x0,'detail':_0x2dd72a(0x734)};let _0x1addbe=this['getRandomText'](_0x11b902['message']['text']),_0x65326e=await this[_0x2dd72a(0x70b)](_0x1addbe,_0x3ba8c0),_0x39d4e4={'number':_0x3ba8c0,'options':{'delay':_0x11b902[_0x2dd72a(0x64b)][_0x2dd72a(0x22f)]},'textMessage':{'text':_0x65326e}},_0x1057e9=null;try{let _0x5661cf=await this[_0x2dd72a(0x49e)](_0x39d4e4);if(_0x5661cf&&_0x5661cf[_0x2dd72a(0x65f)])return{'error':!0x1,'id':_0x5661cf['key']['id']};_0x1057e9=JSON[_0x2dd72a(0x296)](_0x5661cf),this[_0x2dd72a(0x256)]['verbose'](this[_0x2dd72a(0x780)]+'\x20('+this[_0x2dd72a(0x4b7)]['wuid']+_0x2dd72a(0x24c)+_0x1057e9);}catch(_0xa5a32c){this[_0x2dd72a(0x256)][_0x2dd72a(0x2e0)](this[_0x2dd72a(0x780)]+'\x20('+this[_0x2dd72a(0x4b7)][_0x2dd72a(0x30d)]+_0x2dd72a(0x6aa)+JSON[_0x2dd72a(0x296)](_0xa5a32c,null,0x2)),_0x1057e9=_0xa5a32c[_0x2dd72a(0x64b)];}if(_0x1057e9)return{'error':!0x0,'detail':(typeof _0x1057e9==_0x2dd72a(0x1ff)?JSON[_0x2dd72a(0x296)](_0x1057e9,null,0x2):_0x1057e9)['replace'](/[\[\]{}\n]/g,'\x20')[_0x2dd72a(0x3f6)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x1b9aee,_0x5e2fe7){const _0x5d6232=a0_0x556deb;this[_0x5d6232(0x256)][_0x5d6232(0x31f)](this[_0x5d6232(0x780)]+'\x20('+this[_0x5d6232(0x4b7)][_0x5d6232(0x30d)]+_0x5d6232(0x204));let _0x87c618;if(_0x1b9aee[_0x5d6232(0x64b)][_0x5d6232(0x72c)]&&_0x1b9aee[_0x5d6232(0x64b)][_0x5d6232(0x72c)]['length']>0x0){let _0x24c00a=this['getRandomText'](_0x1b9aee[_0x5d6232(0x64b)][_0x5d6232(0x72c)]);_0x87c618=await this[_0x5d6232(0x70b)](_0x24c00a,_0x5e2fe7);}let _0x526275={'number':_0x5e2fe7,'options':{'delay':_0x1b9aee[_0x5d6232(0x64b)][_0x5d6232(0x22f)]},'mediaMessage':{'mediatype':_0x1b9aee[_0x5d6232(0x64b)][_0x5d6232(0x64a)],'caption':_0x87c618,'media':_0x1b9aee[_0x5d6232(0x64b)][_0x5d6232(0x26d)]}},_0x37307e=null;try{let _0x57b6ef=await this[_0x5d6232(0x57a)](_0x526275);if(_0x57b6ef&&_0x57b6ef[_0x5d6232(0x65f)])return{'error':!0x1,'id':_0x57b6ef[_0x5d6232(0x66e)]['id']};_0x37307e=JSON[_0x5d6232(0x296)](_0x57b6ef),this['logger'][_0x5d6232(0x31f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5d6232(0x24c)+_0x37307e);}catch(_0x4a7fc5){this[_0x5d6232(0x256)][_0x5d6232(0x2e0)](this[_0x5d6232(0x780)]+'\x20('+this['instance'][_0x5d6232(0x30d)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+JSON['stringify'](_0x4a7fc5,null,0x2)),_0x37307e=_0x4a7fc5[_0x5d6232(0x64b)];}if(_0x37307e)return{'error':!0x0,'detail':(typeof _0x37307e=='object'?JSON[_0x5d6232(0x296)](_0x37307e,null,0x2):_0x37307e)['replace'](/[\[\]{}\n]/g,'\x20')[_0x5d6232(0x3f6)](/  +/g,'\x20')};}async[a0_0x556deb(0x2bf)](_0x308718,_0x38c108){const _0x44ec73=a0_0x556deb;this[_0x44ec73(0x256)][_0x44ec73(0x31f)](this[_0x44ec73(0x780)]+'\x20('+this['instance'][_0x44ec73(0x30d)]+_0x44ec73(0x248));let _0xf78014={'number':_0x38c108,'options':{'delay':_0x308718['message']['delay']},'audioMessage':{'audio':_0x308718[_0x44ec73(0x64b)][_0x44ec73(0x26d)]}},_0x5ecdde=null;try{let _0x1bc76b=await this[_0x44ec73(0x6e9)](_0xf78014);if(_0x1bc76b&&_0x1bc76b[_0x44ec73(0x65f)])return{'error':!0x1,'id':_0x1bc76b[_0x44ec73(0x66e)]['id']};_0x5ecdde=JSON[_0x44ec73(0x296)](_0x1bc76b),this[_0x44ec73(0x256)]['verbose'](this['instanceName']+'\x20('+this[_0x44ec73(0x4b7)][_0x44ec73(0x30d)]+_0x44ec73(0x24c)+_0x5ecdde);}catch(_0x588278){this[_0x44ec73(0x256)]['error'](this[_0x44ec73(0x780)]+'\x20('+this[_0x44ec73(0x4b7)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+JSON[_0x44ec73(0x296)](_0x588278,null,0x2)),_0x5ecdde=_0x588278['message'];}if(_0x5ecdde)return{'error':!0x0,'detail':(typeof _0x5ecdde==_0x44ec73(0x1ff)?JSON[_0x44ec73(0x296)](_0x5ecdde,null,0x2):_0x5ecdde)['replace'](/[\[\]{}\n]/g,'\x20')[_0x44ec73(0x3f6)](/  +/g,'\x20')};}},be=require(a0_0x556deb(0x35c)),_t=class c{constructor(_0x45894b,_0x3ebc5f,_0x4aed5b){const _0x3bcc17=a0_0x556deb;this[_0x3bcc17(0x718)]=_0x45894b,this[_0x3bcc17(0x31b)]=_0x3ebc5f,this[_0x3bcc17(0x3df)]=_0x4aed5b,this['db']={},this[_0x3bcc17(0x5e0)]={},this[_0x3bcc17(0x256)]=new C(c[_0x3bcc17(0x750)]),this[_0x3bcc17(0x69e)]={},(this[_0x3bcc17(0x25f)](),this[_0x3bcc17(0x593)](),this[_0x3bcc17(0x5a2)](),Object[_0x3bcc17(0x3db)](this['db'],_0x3ebc5f[_0x3bcc17(0x52b)](_0x3bcc17(0x621))),Object[_0x3bcc17(0x3db)](this[_0x3bcc17(0x5e0)],_0x3ebc5f[_0x3bcc17(0x52b)]('REDIS')),this['dbInstance']=this['db'][_0x3bcc17(0x662)]?this[_0x3bcc17(0x3df)][_0x3bcc17(0x240)]?.['db'](this['db']['CONNECTION'][_0x3bcc17(0x4d7)]+_0x3bcc17(0x4ae)):void 0x0,this[_0x3bcc17(0x3c6)]=this[_0x3bcc17(0x5e0)][_0x3bcc17(0x662)]?new ne(this[_0x3bcc17(0x5e0)]):void 0x0);}['delInstanceTime'](_0x1bb8b8){const _0x26e773=a0_0x556deb;let _0x3543c6=this[_0x26e773(0x31b)][_0x26e773(0x52b)]('DEL_INSTANCE');typeof _0x3543c6==_0x26e773(0x33a)&&_0x3543c6>0x0&&setTimeout(()=>{const _0x1b74e3=_0x26e773;this['waInstances'][_0x1bb8b8]?.[_0x1b74e3(0x39d)]?.[_0x1b74e3(0x5e1)]!=='open'&&delete this[_0x1b74e3(0x69e)][_0x1bb8b8];},0x3e8*0x3c*_0x3543c6);}async[a0_0x556deb(0x572)](_0x46b0c0){const _0x5607e7=a0_0x556deb;if(_0x46b0c0&&!this['waInstances'][_0x46b0c0])throw new x(_0x5607e7(0x2c5)+_0x46b0c0+_0x5607e7(0x480));let _0x58b0b2=[];for await(let [_0xf2630a,_0x1a4634]of Object[_0x5607e7(0x627)](this[_0x5607e7(0x69e)]))if(_0x1a4634&&_0x1a4634[_0x5607e7(0x39d)][_0x5607e7(0x5e1)]===_0x5607e7(0x267)){let _0x3c69f8=await this[_0x5607e7(0x3df)][_0x5607e7(0x288)][_0x5607e7(0x33f)](_0xf2630a);_0x58b0b2[_0x5607e7(0x73a)]({'instance':{'instanceName':_0xf2630a,'apikey':_0x3c69f8['apikey'],'owner':_0x1a4634['wuid'],'profileName':await _0x1a4634[_0x5607e7(0x73c)]()||_0x5607e7(0x543),'profilePictureUrl':_0x1a4634[_0x5607e7(0x620)]}});}return _0x58b0b2[_0x5607e7(0x33f)](_0x2b3d13=>_0x2b3d13[_0x5607e7(0x4b7)][_0x5607e7(0x780)]===_0x46b0c0)??_0x58b0b2;}[a0_0x556deb(0x5a2)](){setInterval(async()=>{const _0x1c790b=a0_0x2d74;if(this['db'][_0x1c790b(0x662)])(await this[_0x1c790b(0x1d7)][_0x1c790b(0x604)]())[_0x1c790b(0x513)](async _0x421b4c=>{const _0x58a6e8=_0x1c790b;let _0xe5886b=_0x421b4c[_0x58a6e8(0x432)][_0x58a6e8(0x3f6)](/^[\w-]+./,'');await this[_0x58a6e8(0x1d7)]['collection'](_0xe5886b)[_0x58a6e8(0x786)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x5968e1=(0x0,te['opendirSync'])(V,{'encoding':_0x1c790b(0x3ea)});for await(let _0x581ea0 of _0x5968e1)_0x581ea0[_0x1c790b(0x283)]()&&(0x0,te[_0x1c790b(0x736)])((0x0,be[_0x1c790b(0x226)])(V,_0x581ea0[_0x1c790b(0x750)]),{'encoding':_0x1c790b(0x3ea)})['forEach'](async _0x21f454=>{const _0x340b21=_0x1c790b;(_0x21f454['match'](/^app.state.*/)||_0x21f454[_0x340b21(0x249)](/^session-.*/))&&(0x0,te[_0x340b21(0x5e8)])((0x0,be['join'])(V,_0x581ea0[_0x340b21(0x750)],_0x21f454),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x556deb(0x26e)](_0x4a0263){const _0x1c5189=a0_0x556deb;this['db']['ENABLED']&&(await this[_0x1c5189(0x3df)][_0x1c5189(0x240)][_0x1c5189(0x3d9)](),(await this[_0x1c5189(0x1d7)][_0x1c5189(0x604)]())[_0x1c5189(0x72a)]>0x0&&await this[_0x1c5189(0x1d7)][_0x1c5189(0x4cf)](_0x4a0263)),this[_0x1c5189(0x5e0)][_0x1c5189(0x662)]&&(this[_0x1c5189(0x3c6)]['reference']=_0x4a0263,await this['redisCache'][_0x1c5189(0x54c)]()),!this['db']['ENABLED']&&!this['redis']['ENABLED']&&(0x0,te['rmSync'])((0x0,be[_0x1c5189(0x226)])(V,_0x4a0263),{'recursive':!0x0,'force':!0x0});}async[a0_0x556deb(0x476)](){const _0x40c3b1=a0_0x556deb;let _0x104ae7=async _0x2417fa=>{const _0x27bf4b=a0_0x2d74;let _0x34d156=new ye(this['configService'],this['eventEmitter'],this['repository']);_0x34d156['instanceName']=_0x2417fa,await _0x34d156[_0x27bf4b(0x2ee)](),this['waInstances'][_0x2417fa]=_0x34d156;};try{if(this['redis'][_0x40c3b1(0x662)]){let _0x2522a5=await this[_0x40c3b1(0x3c6)][_0x40c3b1(0x2e9)]();_0x2522a5?.[_0x40c3b1(0x72a)]>0x0&&_0x2522a5[_0x40c3b1(0x513)](async _0x2e83f5=>await _0x104ae7(_0x2e83f5[_0x40c3b1(0x23e)](':')[0x1]));}if(this['db'][_0x40c3b1(0x662)]){await this[_0x40c3b1(0x3df)][_0x40c3b1(0x240)][_0x40c3b1(0x3d9)]();let _0x5e8c6c=await this[_0x40c3b1(0x1d7)][_0x40c3b1(0x604)]();_0x5e8c6c[_0x40c3b1(0x72a)]>0x0&&_0x5e8c6c[_0x40c3b1(0x513)](async _0x2e0fac=>await _0x104ae7(_0x2e0fac[_0x40c3b1(0x432)]['replace'](/^[\w-]+\./,'')));return;}let _0x4146ea=(0x0,te[_0x40c3b1(0x707)])(V,{'encoding':_0x40c3b1(0x3ea)});for await(let _0xc79ee0 of _0x4146ea)if(_0xc79ee0[_0x40c3b1(0x283)]()){if((0x0,te[_0x40c3b1(0x736)])((0x0,be['join'])(V,_0xc79ee0[_0x40c3b1(0x750)]),{'encoding':_0x40c3b1(0x3ea)})[_0x40c3b1(0x72a)]===0x0){(0x0,te['rmSync'])((0x0,be['join'])(V,_0xc79ee0[_0x40c3b1(0x750)]),{'recursive':!0x0,'force':!0x0});break;}await _0x104ae7(_0xc79ee0[_0x40c3b1(0x750)]);}}catch(_0x29ae1e){this[_0x40c3b1(0x256)][_0x40c3b1(0x2e0)](_0x29ae1e);}}['removeInstance'](){const _0x42195b=a0_0x556deb;this[_0x42195b(0x718)]['on'](_0x42195b(0x6ee),async _0x272727=>{const _0x524465=_0x42195b;try{this[_0x524465(0x69e)][_0x272727]=void 0x0;}catch{}try{this[_0x524465(0x26e)](_0x272727);}finally{this[_0x524465(0x256)]['warn'](_0x524465(0x2c5)+_0x272727+_0x524465(0x616));}});}[a0_0x556deb(0x593)](){const _0x59507c=a0_0x556deb;this[_0x59507c(0x718)]['on'](_0x59507c(0x4fa),async _0x435a87=>{const _0x225978=_0x59507c;try{this[_0x225978(0x69e)][_0x435a87]=void 0x0,this[_0x225978(0x26e)](_0x435a87);}catch(_0x1276a5){this['logger'][_0x225978(0x2e0)]({'localError':_0x225978(0x593),'warn':'Error\x20deleting\x20instance\x20from\x20memory.','error':_0x1276a5});}finally{this['logger'][_0x225978(0x509)](_0x225978(0x2c5)+_0x435a87+_0x225978(0x7a7));}});}},Pt=class extends W{constructor(_0x113ece){super(_0x113ece),this['configService']=_0x113ece;}[a0_0x556deb(0x67e)](_0xb8e6b0){return xs(_0xb8e6b0);}async['insert'](_0x2e87d1){const _0x43e367=a0_0x556deb;if(_0x2e87d1[_0x43e367(0x72a)]!==0x0)try{return{'insertCount':(await this[_0x43e367(0x67e)](_0x2e87d1[0x0]['owner'])[_0x43e367(0x4d1)]([..._0x2e87d1]))[_0x43e367(0x72a)]};}catch(_0x5a51bb){return _0x5a51bb;}}async[a0_0x556deb(0x33f)](_0x3863dc){const _0x2e4f0d=a0_0x556deb;try{return await this[_0x2e4f0d(0x67e)](_0x3863dc[_0x2e4f0d(0x270)][_0x2e4f0d(0x698)])[_0x2e4f0d(0x33f)]({..._0x3863dc['where']})[_0x2e4f0d(0x279)]({'lastmsg':-0x1})[_0x2e4f0d(0x6ef)](_0x3863dc?.['limit']??0x0)[_0x2e4f0d(0x4c2)]();}catch{return[];}}async['delete'](_0x2bedac){const _0x1900d7=a0_0x556deb;try{return{'deletedCount':(await this[_0x1900d7(0x67e)](_0x2bedac[_0x1900d7(0x270)]['owner'])[_0x1900d7(0x786)]({..._0x2bedac[_0x1900d7(0x270)]}))[_0x1900d7(0x678)]};}catch(_0x225fbd){return{'error':_0x225fbd?.['toString']()};}}async[a0_0x556deb(0x374)](_0x10e8dd){const _0x9bc28a=a0_0x556deb;try{return await this['getChatModelForOwner'](_0x10e8dd[_0x9bc28a(0x270)][_0x9bc28a(0x698)])[_0x9bc28a(0x786)]({..._0x10e8dd[_0x9bc28a(0x270)]}),[];}catch(_0x265736){return{'error':_0x265736?.['toString']()};}}async['findOne'](_0x2cc173){const _0x5b6b91=a0_0x556deb;try{return await this['getChatModelForOwner'](_0x2cc173[_0x5b6b91(0x270)][_0x5b6b91(0x698)])[_0x5b6b91(0x3ef)]({..._0x2cc173[_0x5b6b91(0x270)]})[_0x5b6b91(0x4c2)]();}catch{return null;}}async['updateOne'](_0x112267,_0x47b099,_0x590474){const _0x58bb46=a0_0x556deb;try{let _0x1e823c={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x590474};return await this[_0x58bb46(0x67e)](_0x112267[_0x58bb46(0x270)][_0x58bb46(0x698)])[_0x58bb46(0x624)]({..._0x112267[_0x58bb46(0x270)]},{'$set':_0x47b099},_0x1e823c);}catch(_0x453e91){return console[_0x58bb46(0x2e0)](_0x453e91),null;}}async[a0_0x556deb(0x673)](_0x3ab4c8){const _0x583379=a0_0x556deb;try{let _0x564d16=this[_0x583379(0x67e)](_0x3ab4c8[0x0][_0x583379(0x679)][_0x583379(0x270)][_0x583379(0x698)]),_0x208bfd=_0x3ab4c8['map'](_0x5cefc3=>({'updateOne':{'filter':{..._0x5cefc3[_0x583379(0x679)][_0x583379(0x270)]},'update':{'$set':_0x5cefc3[_0x583379(0x241)]}}}));return(await _0x564d16[_0x583379(0x29f)](_0x208bfd))[_0x583379(0x759)];}catch(_0x59a3d7){return console['error'](_0x59a3d7),0x0;}}},xt=class{constructor(_0x4a8fb2){const _0x1054b4=a0_0x556deb;this[_0x1054b4(0x60f)]=_0x4a8fb2;}async[a0_0x556deb(0x745)]({instanceName:_0x2b7976},_0x50c51c){const _0x2758d5=a0_0x556deb;return await this[_0x2758d5(0x60f)][_0x2758d5(0x69e)][_0x2b7976]['editChat'](_0x50c51c);}async[a0_0x556deb(0x551)]({instanceName:_0x9ceffd},_0x5afe9f){const _0x595536=a0_0x556deb;return await this[_0x595536(0x60f)][_0x595536(0x69e)][_0x9ceffd][_0x595536(0x551)](_0x5afe9f);}async[a0_0x556deb(0x584)]({instanceName:_0x1f92c5},_0x36610a){const _0x4c97ec=a0_0x556deb;return await this[_0x4c97ec(0x60f)][_0x4c97ec(0x69e)][_0x1f92c5][_0x4c97ec(0x425)](_0x36610a);}async[a0_0x556deb(0x1d1)]({instanceName:_0x561dfe},_0x29094a){const _0x135b5c=a0_0x556deb;return await this[_0x135b5c(0x60f)][_0x135b5c(0x69e)][_0x561dfe][_0x135b5c(0x1d1)](_0x29094a);}async[a0_0x556deb(0x5b1)]({instanceName:_0xb8378d},_0xdabaa9){const _0x156129=a0_0x556deb;return await this[_0x156129(0x60f)][_0x156129(0x69e)][_0xb8378d]['deleteMessage'](_0xdabaa9);}async[a0_0x556deb(0x307)]({instanceName:_0x213caa},_0xc32c28){const _0x371d9f=a0_0x556deb;return await this[_0x371d9f(0x60f)][_0x371d9f(0x69e)][_0x213caa][_0x371d9f(0x21a)](_0xc32c28['number']);}async[a0_0x556deb(0x75f)]({instanceName:_0xc8dfc1},_0x488feb){const _0x2bd4d9=a0_0x556deb;return await this[_0x2bd4d9(0x60f)]['waInstances'][_0xc8dfc1]['fetchProfile'](_0x488feb[_0x2bd4d9(0x33a)]);}async['updatePresence']({instanceName:_0x4dd637},_0x56b6df){const _0xbd7aa6=a0_0x556deb;return await this[_0xbd7aa6(0x60f)]['waInstances'][_0x4dd637][_0xbd7aa6(0x332)](_0x56b6df);}async[a0_0x556deb(0x47c)]({instanceName:_0x24d958},_0x40ed62){const _0x5be2d3=a0_0x556deb;return await this[_0x5be2d3(0x60f)]['waInstances'][_0x24d958]['fetchContacts'](_0x40ed62);}async[a0_0x556deb(0x3d7)]({instanceName:_0x54c77f},_0x3cfabb){const _0x1ff565=a0_0x556deb;return await this[_0x1ff565(0x60f)]['waInstances'][_0x54c77f][_0x1ff565(0x3d7)](_0x3cfabb);}async[a0_0x556deb(0x200)]({instanceName:_0x384c8b},_0x1d35dd){const _0x1503fa=a0_0x556deb;return await this[_0x1503fa(0x60f)][_0x1503fa(0x69e)][_0x384c8b][_0x1503fa(0x200)](_0x1d35dd);}async[a0_0x556deb(0x26a)]({instanceName:_0xaded8e}){const _0x974324=a0_0x556deb;return await this['waMonitor'][_0x974324(0x69e)][_0xaded8e][_0x974324(0x26a)]();}async[a0_0x556deb(0x5a5)]({instanceName:_0x989281}){const _0xde9dce=a0_0x556deb;return await this['waMonitor'][_0xde9dce(0x69e)][_0x989281][_0xde9dce(0x5a5)]();}async[a0_0x556deb(0x76f)]({instanceName:_0x48f771},_0x1b96c7){const _0x4312dc=a0_0x556deb;return await this[_0x4312dc(0x60f)][_0x4312dc(0x69e)][_0x48f771][_0x4312dc(0x76f)](_0x1b96c7);}async['fetchBusinessProfile']({instanceName:_0xa01c24},_0xdc1f3a){const _0x5a3489=a0_0x556deb;return await this[_0x5a3489(0x60f)]['waInstances'][_0xa01c24]['fetchBusinessProfile'](_0xdc1f3a[_0x5a3489(0x33a)]);}async[a0_0x556deb(0x2da)]({instanceName:_0x447c12},_0x6c8611){const _0x72664c=a0_0x556deb;return await this[_0x72664c(0x60f)][_0x72664c(0x69e)][_0x447c12][_0x72664c(0x2da)](_0x6c8611[_0x72664c(0x750)]);}async['updateProfileStatus']({instanceName:_0x3b61ac},_0x47232e){const _0x3f80f1=a0_0x556deb;return await this['waMonitor'][_0x3f80f1(0x69e)][_0x3b61ac][_0x3f80f1(0x5a3)](_0x47232e['status']);}async[a0_0x556deb(0x24d)]({instanceName:_0x5186ec},_0x187981){const _0x37f83c=a0_0x556deb;return await this[_0x37f83c(0x60f)]['waInstances'][_0x5186ec][_0x37f83c(0x24d)](_0x187981[_0x37f83c(0x62f)]);}async[a0_0x556deb(0x449)]({instanceName:_0x5a442e},_0x433bbd){const _0xd771d=a0_0x556deb;return await this['waMonitor']['waInstances'][_0x5a442e][_0xd771d(0x449)]();}},hs=require(a0_0x556deb(0x227)),$t=class c{constructor(_0x322535,_0x3fd3b0,_0x47150f,_0x487cdb,_0x684cef){const _0x5e3dc7=a0_0x556deb;this['waMonitor']=_0x322535,this[_0x5e3dc7(0x31b)]=_0x3fd3b0,this[_0x5e3dc7(0x3df)]=_0x47150f,this[_0x5e3dc7(0x718)]=_0x487cdb,this[_0x5e3dc7(0x442)]=_0x684cef,this['logger']=new C(c['name']);}async['createInstance']({instanceName:_0x3f050a,apikey:_0x25b788}){const _0x4e2038=a0_0x556deb;let _0x5b9a91=new ye(this['configService'],this[_0x4e2038(0x718)],this[_0x4e2038(0x3df)]);_0x5b9a91[_0x4e2038(0x780)]=_0x3f050a,this['waMonitor'][_0x4e2038(0x69e)][_0x5b9a91[_0x4e2038(0x780)]]=_0x5b9a91,this['waMonitor'][_0x4e2038(0x4d3)](_0x5b9a91[_0x4e2038(0x780)]);let _0x484599={};_0x25b788?(await this[_0x4e2038(0x3df)][_0x4e2038(0x288)][_0x4e2038(0x5e3)]({'apikey':_0x25b788},_0x3f050a),_0x484599[_0x4e2038(0x691)]=_0x25b788):_0x484599=await this[_0x4e2038(0x442)][_0x4e2038(0x388)]({'instanceName':_0x5b9a91['instanceName']});let _0x4da284;return await _0x5b9a91[_0x4e2038(0x2ee)](),await(0x0,hs[_0x4e2038(0x22f)])(0x7d0),_0x4da284=_0x5b9a91['qrCode'],{'instance':{'instanceName':_0x5b9a91[_0x4e2038(0x780)],'status':_0x4e2038(0x339)},'hash':_0x484599,'qrcode':_0x4da284};}async[a0_0x556deb(0x2ee)]({instanceName:_0x3c7a47}){const _0x29203b=a0_0x556deb;try{let _0x1037e6=this[_0x29203b(0x60f)][_0x29203b(0x69e)][_0x3c7a47];switch(_0x1037e6[_0x29203b(0x39d)]?.[_0x29203b(0x5e1)]){case _0x29203b(0x738):return await _0x1037e6['connectToWhatsapp'](),await(0x0,hs['delay'])(0x7d0),_0x1037e6['qrCode'];case _0x29203b(0x6a0):return _0x1037e6[_0x29203b(0x4b3)];default:return await this[_0x29203b(0x4e5)]({'instanceName':_0x3c7a47});}}catch(_0x3928d9){this[_0x29203b(0x256)][_0x29203b(0x340)](_0x3928d9);}}async[a0_0x556deb(0x4e5)]({instanceName:_0x2ac151}){const _0x9d8442=a0_0x556deb;let _0x4922b0=this['waMonitor']['waInstances'][_0x2ac151]['connectionStatus'],_0x146ab3=null;_0x4922b0[_0x9d8442(0x5e1)]===_0x9d8442(0x267)&&_0x2ac151&&(_0x146ab3=await this[_0x9d8442(0x60f)][_0x9d8442(0x572)](_0x2ac151));let _0x36f93d=null;return _0x4922b0['state']==='connecting'&&_0x2ac151&&(_0x36f93d=this[_0x9d8442(0x60f)][_0x9d8442(0x69e)][_0x2ac151][_0x9d8442(0x4b3)]),{'instance':_0x2ac151,'connectionStatus':_0x4922b0,'instanceInfo':_0x146ab3,'qrcode':_0x36f93d};}async[a0_0x556deb(0x33b)]({instanceName:_0x1d3ca7}){const _0x4c44bb=a0_0x556deb;try{return this['waMonitor'][_0x4c44bb(0x69e)][_0x1d3ca7]?.[_0x4c44bb(0x75e)]?.['ws']?.[_0x4c44bb(0x738)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x4c44bb(0x207)}};}catch(_0x32340b){this[_0x4c44bb(0x256)][_0x4c44bb(0x2e0)](_0x32340b);}}async['fetchInstances']({instanceName:_0x155f45}){const _0x22c66c=a0_0x556deb;return _0x155f45?this[_0x22c66c(0x60f)][_0x22c66c(0x572)](_0x155f45):this['waMonitor']['instanceInfo']();}async[a0_0x556deb(0x3d6)]({instanceName:_0x2bb897}){const _0x2de634=a0_0x556deb;try{return await this[_0x2de634(0x60f)][_0x2de634(0x69e)][_0x2bb897]?.[_0x2de634(0x75e)]?.[_0x2de634(0x3d6)]('Log\x20out\x20instance:\x20'+_0x2bb897),{'error':!0x1,'message':_0x2de634(0x370)};}catch(_0x41bdcb){throw new A(_0x41bdcb[_0x2de634(0x77f)]());}}async[a0_0x556deb(0x2ad)]({instanceName:_0x530157}){const _0x5c56e1=a0_0x556deb;if((await this[_0x5c56e1(0x4e5)]({'instanceName':_0x530157}))[_0x5c56e1(0x39d)][_0x5c56e1(0x5e1)]==='open')throw new g([_0x5c56e1(0x735),_0x5c56e1(0x1e6)]);try{return delete this[_0x5c56e1(0x60f)]['waInstances'][_0x530157],{'error':!0x1,'message':_0x5c56e1(0x515)};}catch(_0xc676c3){throw new g(_0xc676c3[_0x5c56e1(0x77f)]());}}async[a0_0x556deb(0x484)](_0x4ed596,_0x11a411){return await this['authService']['refreshToken'](_0x11a411);}},se=require(a0_0x556deb(0x675)),kt=class{constructor(_0x475bea){const _0x22617c=a0_0x556deb;this[_0x22617c(0x60f)]=_0x475bea;}async['sendText']({instanceName:_0x27ccbd},_0x31c805){const _0x172f82=a0_0x556deb;return await this[_0x172f82(0x60f)]['waInstances'][_0x27ccbd][_0x172f82(0x49e)](_0x31c805);}async[a0_0x556deb(0x610)]({instanceName:_0x17b487},_0x2b35ab){const _0x2e742c=a0_0x556deb;if((0x0,se[_0x2e742c(0x56c)])(_0x2b35ab?.[_0x2e742c(0x57a)]?.[_0x2e742c(0x32d)])&&!_0x2b35ab?.['mediaMessage']?.[_0x2e742c(0x265)])throw new g(_0x2e742c(0x4c4));if((0x0,se[_0x2e742c(0x70d)])(_0x2b35ab?.['mediaMessage']?.[_0x2e742c(0x32d)])||(0x0,se[_0x2e742c(0x56c)])(_0x2b35ab?.[_0x2e742c(0x57a)]?.[_0x2e742c(0x32d)]))return await this[_0x2e742c(0x60f)]['waInstances'][_0x17b487][_0x2e742c(0x57a)](_0x2b35ab);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x556deb(0x6ae)]({instanceName:_0x31a51f},_0x1d655e){const _0x364a5e=a0_0x556deb;if((0x0,se[_0x364a5e(0x70d)])(_0x1d655e[_0x364a5e(0x347)][_0x364a5e(0x50e)])||(0x0,se[_0x364a5e(0x56c)])(_0x1d655e[_0x364a5e(0x347)][_0x364a5e(0x50e)]))return await this[_0x364a5e(0x60f)][_0x364a5e(0x69e)][_0x31a51f][_0x364a5e(0x30f)](_0x1d655e);throw new g(_0x364a5e(0x776));}async['sendWhatsAppAudio']({instanceName:_0x3e19ee},_0x389806){const _0x50a9fd=a0_0x556deb;if((0x0,se[_0x50a9fd(0x70d)])(_0x389806[_0x50a9fd(0x60b)][_0x50a9fd(0x3c4)])||(0x0,se['isBase64'])(_0x389806[_0x50a9fd(0x60b)][_0x50a9fd(0x3c4)]))return await this[_0x50a9fd(0x60f)][_0x50a9fd(0x69e)][_0x3e19ee]['audioWhatsapp'](_0x389806);throw new g(_0x50a9fd(0x776));}async[a0_0x556deb(0x313)]({instanceName:_0x20ce48},_0x1ff1f8){const _0x418e20=a0_0x556deb;if((0x0,se[_0x418e20(0x56c)])(_0x1ff1f8[_0x418e20(0x4d8)][_0x418e20(0x57a)]?.['media'])&&!_0x1ff1f8[_0x418e20(0x4d8)][_0x418e20(0x57a)]?.[_0x418e20(0x265)])throw new g(_0x418e20(0x4c4));return await this['waMonitor']['waInstances'][_0x20ce48][_0x418e20(0x4d8)](_0x1ff1f8);}async[a0_0x556deb(0x635)]({instanceName:_0x3b8cb1},_0x464264){const _0x18c931=a0_0x556deb;return await this[_0x18c931(0x60f)]['waInstances'][_0x3b8cb1]['locationMessage'](_0x464264);}async[a0_0x556deb(0x63e)]({instanceName:_0x22f7d4},_0x1ae61e){const _0x4b4ada=a0_0x556deb;return await this['waMonitor'][_0x4b4ada(0x69e)][_0x22f7d4][_0x4b4ada(0x4e9)](_0x1ae61e);}async[a0_0x556deb(0x5a6)]({instanceName:_0x19f150},_0x55f80a){const _0x31a5d8=a0_0x556deb;return await this[_0x31a5d8(0x60f)][_0x31a5d8(0x69e)][_0x19f150][_0x31a5d8(0x51c)](_0x55f80a);}async[a0_0x556deb(0x413)]({instanceName:_0x2a5aca},_0x309011){const _0x31a94d=a0_0x556deb;return await this[_0x31a94d(0x60f)][_0x31a94d(0x69e)][_0x2a5aca][_0x31a94d(0x68c)](_0x309011);}async[a0_0x556deb(0x40e)]({instanceName:_0x2da3a2},_0x20c0a4){const _0x429b5e=a0_0x556deb;if(!_0x20c0a4[_0x429b5e(0x1e8)][_0x429b5e(0x236)][_0x429b5e(0x249)](/[^\(\)\w\sà-ú"-\+]+/))throw new g('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this['waMonitor'][_0x429b5e(0x69e)][_0x2da3a2][_0x429b5e(0x1e8)](_0x20c0a4);}async['sendStatus']({instanceName:_0x2a45d3},_0x55ce00){const _0x472aba=a0_0x556deb;return await this[_0x472aba(0x60f)]['waInstances'][_0x2a45d3][_0x472aba(0x263)](_0x55ce00);}},Lt=class{constructor(_0x5887af){const _0x5ae423=a0_0x556deb;this[_0x5ae423(0x60f)]=_0x5887af;}async[a0_0x556deb(0x6c1)](_0x57c019,_0x379bb2){const _0xcdef9=a0_0x556deb;return await this[_0xcdef9(0x60f)][_0xcdef9(0x69e)][_0x57c019[_0xcdef9(0x780)]][_0xcdef9(0x6c1)](_0x379bb2);}async[a0_0x556deb(0x418)](_0x4d2740,_0x55a770){const _0x124fd3=a0_0x556deb;return await this[_0x124fd3(0x60f)][_0x124fd3(0x69e)][_0x4d2740[_0x124fd3(0x780)]]['updateGroupPicture'](_0x55a770);}async[a0_0x556deb(0x681)](_0x26432f,_0x223354){const _0x21f27d=a0_0x556deb;return await this[_0x21f27d(0x60f)][_0x21f27d(0x69e)][_0x26432f['instanceName']][_0x21f27d(0x681)](_0x223354);}async[a0_0x556deb(0x3ba)](_0x55ec0e,_0x23dd4c){const _0xc7fe46=a0_0x556deb;return await this[_0xc7fe46(0x60f)]['waInstances'][_0x55ec0e[_0xc7fe46(0x780)]][_0xc7fe46(0x3ba)](_0x23dd4c);}async[a0_0x556deb(0x494)](_0x3e9e51,_0x2d55e3){const _0x4665f6=a0_0x556deb;return await this[_0x4665f6(0x60f)][_0x4665f6(0x69e)][_0x3e9e51[_0x4665f6(0x780)]]['groupSetting'](_0x2d55e3);}async['findGroupInfo'](_0x4375fc,_0x4d73aa){const _0x5d4691=a0_0x556deb;return await this['waMonitor'][_0x5d4691(0x69e)][_0x4375fc[_0x5d4691(0x780)]][_0x5d4691(0x3eb)](_0x4d73aa);}async[a0_0x556deb(0x400)](_0x340177){const _0x176ef0=a0_0x556deb;return await this[_0x176ef0(0x60f)][_0x176ef0(0x69e)][_0x340177[_0x176ef0(0x780)]][_0x176ef0(0x400)]();}async[a0_0x556deb(0x2f8)](_0x23c590,_0x3bb26d){const _0x288e7a=a0_0x556deb;return await this['waMonitor']['waInstances'][_0x23c590['instanceName']][_0x288e7a(0x2f8)](_0x3bb26d);}async[a0_0x556deb(0x69d)](_0x4817ea,_0x5d6f67){const _0x425968=a0_0x556deb;return await this['waMonitor'][_0x425968(0x69e)][_0x4817ea[_0x425968(0x780)]][_0x425968(0x69d)](_0x5d6f67);}async[a0_0x556deb(0x77d)](_0x11ab59,_0x2cf716){const _0x494d63=a0_0x556deb;return await this[_0x494d63(0x60f)][_0x494d63(0x69e)][_0x11ab59[_0x494d63(0x780)]][_0x494d63(0x77d)](_0x2cf716);}async[a0_0x556deb(0x79d)](_0x213413,_0x5c2888){const _0x43124e=a0_0x556deb;return await this['waMonitor']['waInstances'][_0x213413[_0x43124e(0x780)]][_0x43124e(0x79d)](_0x5c2888);}async[a0_0x556deb(0x218)](_0x15b587,_0x445766){const _0x10103f=a0_0x556deb;return await this[_0x10103f(0x60f)][_0x10103f(0x69e)][_0x15b587['instanceName']][_0x10103f(0x36d)](_0x445766);}async[a0_0x556deb(0x3b5)](_0x542c36,_0x2a4ca0){const _0x4bfef7=a0_0x556deb;return await this[_0x4bfef7(0x60f)][_0x4bfef7(0x69e)][_0x542c36[_0x4bfef7(0x780)]][_0x4bfef7(0x3b5)](_0x2a4ca0);}async['leaveGroup'](_0x18c55a,_0x135bc2){const _0x56e9f9=a0_0x556deb;return await this[_0x56e9f9(0x60f)][_0x56e9f9(0x69e)][_0x18c55a[_0x56e9f9(0x780)]][_0x56e9f9(0x3d5)](_0x135bc2);}},Ut=class{constructor(_0x17af9a,_0x510977){const _0x882385=a0_0x556deb;this[_0x882385(0x6bc)]=_0x17af9a,this['configService']=_0x510977;}async[a0_0x556deb(0x59a)](_0x22b1fd,_0x2b2f48){const _0x43c34c=a0_0x556deb;try{let _0xdc475e=_0x22b1fd[_0x43c34c(0x39e)];if(this['waMonit'][_0x43c34c(0x69e)][_0xdc475e[_0x43c34c(0x780)]][_0x43c34c(0x39d)][_0x43c34c(0x5e1)]===_0x43c34c(0x267))throw new g('The\x20instance\x20is\x20already\x20connected');let _0x56a058=this[_0x43c34c(0x31b)]['get']('AUTHENTICATION')['TYPE'];return _0x2b2f48[_0x43c34c(0x65f)](0xc8)[_0x43c34c(0x469)](_0x43c34c(0x59a),{'type':_0x56a058,..._0xdc475e});}catch(_0x1b18b0){console[_0x43c34c(0x340)](_0x43c34c(0x59b),_0x1b18b0);}}},Vt=class{constructor(_0x512e80){this['waMonitor']=_0x512e80;}['create'](_0xbf7760,_0x3f4324){const _0x2c68f0=a0_0x556deb;return this[_0x2c68f0(0x60f)][_0x2c68f0(0x69e)][_0xbf7760[_0x2c68f0(0x780)]][_0x2c68f0(0x4cc)](_0x3f4324);}async[a0_0x556deb(0x33f)](_0x19c6a3){const _0x155e4f=a0_0x556deb;try{return await this[_0x155e4f(0x60f)]['waInstances'][_0x19c6a3[_0x155e4f(0x780)]][_0x155e4f(0x43e)]();}catch{return{'enabled':null,'url':''};}}},id=new C('FlowController'),Jt=class{constructor(_0x5ea3f5){this['waMonitor']=_0x5ea3f5;}async[a0_0x556deb(0x502)](_0x3029d1,_0x31f48e){const _0x3b9166=a0_0x556deb;return await this[_0x3b9166(0x60f)]['waInstances'][_0x3029d1[_0x3b9166(0x780)]][_0x3b9166(0x502)](_0x31f48e);}async[a0_0x556deb(0x4ef)](_0x444e0c){const _0x2cc709=a0_0x556deb;return await this[_0x2cc709(0x60f)]['waInstances'][_0x444e0c['instanceName']][_0x2cc709(0x4ef)]();}async['deleteDoneMessages'](_0x46329e){const _0x4b64ec=a0_0x556deb;return await this[_0x4b64ec(0x60f)][_0x4b64ec(0x69e)][_0x46329e[_0x4b64ec(0x780)]][_0x4b64ec(0x6f9)]();}async[a0_0x556deb(0x6cd)](_0x4124b7){const _0x296db8=a0_0x556deb;return await this[_0x296db8(0x60f)]['waInstances'][_0x4124b7[_0x296db8(0x780)]][_0x296db8(0x6cd)]();}async[a0_0x556deb(0x56a)](_0x264937,_0x5bd761){const _0x46e770=a0_0x556deb;return await this[_0x46e770(0x60f)][_0x46e770(0x69e)][_0x264937[_0x46e770(0x780)]]['updateAgent'](_0x5bd761);}async[a0_0x556deb(0x1d5)](_0x377605,_0x4ff8d8){const _0x3b7218=a0_0x556deb;return await this[_0x3b7218(0x60f)][_0x3b7218(0x69e)][_0x377605[_0x3b7218(0x780)]][_0x3b7218(0x1d5)](_0x4ff8d8);}async[a0_0x556deb(0x45a)](_0x2dafa9,_0xc4523a){const _0x2b3795=a0_0x556deb;return await this[_0x2b3795(0x60f)][_0x2b3795(0x69e)][_0x2dafa9[_0x2b3795(0x780)]][_0x2b3795(0x45a)](_0xc4523a);}async[a0_0x556deb(0x4ac)](_0x43abf1,_0x1457db){const _0x268fbd=a0_0x556deb;return await this[_0x268fbd(0x60f)][_0x268fbd(0x69e)][_0x43abf1[_0x268fbd(0x780)]][_0x268fbd(0x4ac)](_0x1457db);}async[a0_0x556deb(0x2b6)](_0x38e0a1,_0x2271db){const _0x344325=a0_0x556deb;return await this[_0x344325(0x60f)]['waInstances'][_0x38e0a1['instanceName']][_0x344325(0x2b6)](_0x2271db);}async[a0_0x556deb(0x358)](_0x1438a1,_0x206942){const _0x5d784f=a0_0x556deb;return await this[_0x5d784f(0x60f)][_0x5d784f(0x69e)][_0x1438a1[_0x5d784f(0x780)]][_0x5d784f(0x358)](_0x206942);}async[a0_0x556deb(0x3cd)](_0x361b47,_0x17949d){const _0x4a3672=a0_0x556deb;return await this['waMonitor'][_0x4a3672(0x69e)][_0x361b47[_0x4a3672(0x780)]][_0x4a3672(0x3cd)](_0x17949d);}async['deleteConversation'](_0x30bb18,_0x29884c){const _0xf0c792=a0_0x556deb;return await this[_0xf0c792(0x60f)][_0xf0c792(0x69e)][_0x30bb18[_0xf0c792(0x780)]]['deleteConversation'](_0x29884c);}async['getFlow'](_0x1f3283,_0x560585){const _0x7b3468=a0_0x556deb;return await this[_0x7b3468(0x60f)][_0x7b3468(0x69e)][_0x1f3283[_0x7b3468(0x780)]][_0x7b3468(0x2f0)](_0x560585[_0x7b3468(0x750)]);}async['createFlow'](_0x52c0f4,_0x96ef3a){const _0x22dcba=a0_0x556deb;return await this[_0x22dcba(0x60f)][_0x22dcba(0x69e)][_0x52c0f4[_0x22dcba(0x780)]][_0x22dcba(0x323)](_0x96ef3a);}async[a0_0x556deb(0x6a7)](_0x3fa461,_0x582498){const _0x3c01c9=a0_0x556deb;return await this['waMonitor'][_0x3c01c9(0x69e)][_0x3fa461[_0x3c01c9(0x780)]][_0x3c01c9(0x6a7)](_0x582498);}async[a0_0x556deb(0x493)](_0x4f1a77,_0x1344be){const _0x9d4ab0=a0_0x556deb;return await this['waMonitor'][_0x9d4ab0(0x69e)][_0x4f1a77[_0x9d4ab0(0x780)]][_0x9d4ab0(0x493)](_0x1344be);}async['editFlowReply'](_0x5f11c5,_0x160a26){const _0x276c59=a0_0x556deb;return await this[_0x276c59(0x60f)]['waInstances'][_0x5f11c5['instanceName']][_0x276c59(0x1ea)](_0x160a26);}async['editFlowGroup'](_0x135017,_0x262825){const _0x2b2e43=a0_0x556deb;return await this[_0x2b2e43(0x60f)][_0x2b2e43(0x69e)][_0x135017[_0x2b2e43(0x780)]][_0x2b2e43(0x46c)](_0x262825);}async[a0_0x556deb(0x314)](_0x574fdd,_0x233f73){const _0x174bd8=a0_0x556deb;return await this[_0x174bd8(0x60f)][_0x174bd8(0x69e)][_0x574fdd[_0x174bd8(0x780)]]['editFlowCondition'](_0x233f73);}async[a0_0x556deb(0x457)](_0x103484,_0x5c63fc){const _0x545463=a0_0x556deb;return await this[_0x545463(0x60f)][_0x545463(0x69e)][_0x103484[_0x545463(0x780)]][_0x545463(0x457)](_0x5c63fc);}async[a0_0x556deb(0x737)](_0x19a27b,_0x4925d9){const _0x25e5ec=a0_0x556deb;return await this['waMonitor']['waInstances'][_0x19a27b[_0x25e5ec(0x780)]][_0x25e5ec(0x737)](_0x4925d9);}async[a0_0x556deb(0x3c9)](_0x2637cf,_0x2d9024){const _0x4ea29a=a0_0x556deb;return await this[_0x4ea29a(0x60f)][_0x4ea29a(0x69e)][_0x2637cf[_0x4ea29a(0x780)]][_0x4ea29a(0x3c9)](_0x2d9024['name']);}async[a0_0x556deb(0x46d)](_0x1ddb48){const _0x17ab5a=a0_0x556deb;return await this[_0x17ab5a(0x60f)][_0x17ab5a(0x69e)][_0x1ddb48[_0x17ab5a(0x780)]][_0x17ab5a(0x46d)]();}},jt=class{constructor(_0x2fec9){this['webhookService']=_0x2fec9;}async[a0_0x556deb(0x5ef)](_0xebf651,_0x5e4d30){const _0x3b32ca=a0_0x556deb;return this[_0x3b32ca(0x2db)][_0x3b32ca(0x5e3)](_0xebf651,_0x5e4d30);}async[a0_0x556deb(0x43e)](_0x5472e2){const _0x586c22=a0_0x556deb;return this[_0x586c22(0x2db)]['find'](_0x5472e2);}},Ft=class{constructor(_0x532007,_0x20377a,_0xcc6ad4,_0x1b631a,_0x2091fa,_0xd4cbf9){const _0x36db64=a0_0x556deb;this['message']=_0x532007,this[_0x36db64(0x1dd)]=_0x20377a,this['contact']=_0xcc6ad4,this[_0x36db64(0x77b)]=_0x1b631a,this[_0x36db64(0x288)]=_0x2091fa,this[_0x36db64(0x700)]=_0xd4cbf9;}get['dbServer'](){return this['dbClient'];}},fs=require(a0_0x556deb(0x35c)),ao=require('fs'),Bt=class extends W{constructor(_0x1906b3,_0x455404){const _0x36c00e=a0_0x556deb;super(_0x455404),this['webhookModel']=_0x1906b3,this[_0x36c00e(0x31b)]=_0x455404;}async[a0_0x556deb(0x5e3)](_0x440ac6,_0x3b24bc){const _0x4b4221=a0_0x556deb;try{return this[_0x4b4221(0x791)][_0x4b4221(0x662)]?{'insertCount':(await this[_0x4b4221(0x645)]['replaceOne']({'_id':_0x3b24bc},{..._0x440ac6},{'upsert':!0x0}))[_0x4b4221(0x759)]}:(this[_0x4b4221(0x329)]({'path':(0x0,fs[_0x4b4221(0x226)])(this['storePath'],_0x4b4221(0x77b)),'fileName':_0x3b24bc,'data':_0x440ac6}),{'insertCount':0x1});}catch(_0x1e7283){return _0x1e7283;}}async['find'](_0x33d301){const _0x68223b=a0_0x556deb;try{return this[_0x68223b(0x791)][_0x68223b(0x662)]?await this[_0x68223b(0x645)][_0x68223b(0x3ef)]({'_id':_0x33d301}):JSON[_0x68223b(0x273)]((0x0,ao[_0x68223b(0x40f)])((0x0,fs[_0x68223b(0x226)])(this['storePath'],_0x68223b(0x77b),_0x33d301+'.json'),{'encoding':_0x68223b(0x3ea)}));}catch{return{};}}},ws=require(a0_0x556deb(0x35c)),oo=require('fs'),qt=class extends W{constructor(_0x263894,_0x12b97e){const _0x30b9ad=a0_0x556deb;super(_0x12b97e),this[_0x30b9ad(0x785)]=_0x263894,this['configService']=_0x12b97e,this['auth']=_0x12b97e['get'](_0x30b9ad(0x1dc));}async['create'](_0xed7c62,_0x552ca9){const _0x383a6d=a0_0x556deb;try{return this[_0x383a6d(0x791)]['ENABLED']?{'insertCount':(await this[_0x383a6d(0x785)][_0x383a6d(0x2d1)]({'_id':_0x552ca9},{..._0xed7c62},{'upsert':!0x0}))[_0x383a6d(0x759)]}:(this['writeStore']({'path':(0x0,ws[_0x383a6d(0x226)])(Gt,this[_0x383a6d(0x288)][_0x383a6d(0x61e)]),'fileName':_0x552ca9,'data':_0xed7c62}),{'insertCount':0x1});}catch(_0x4e098b){return{'error':_0x4e098b};}}async[a0_0x556deb(0x33f)](_0x52fd6a){const _0x3f62f7=a0_0x556deb;try{return this[_0x3f62f7(0x791)][_0x3f62f7(0x662)]?await this['authModel'][_0x3f62f7(0x3ef)]({'_id':_0x52fd6a}):JSON[_0x3f62f7(0x273)]((0x0,oo[_0x3f62f7(0x40f)])((0x0,ws[_0x3f62f7(0x226)])(Gt,this['auth']['TYPE'],_0x52fd6a+_0x3f62f7(0x252)),{'encoding':_0x3f62f7(0x3ea)}));}catch{return{};}}},zo=new C(a0_0x556deb(0x650)),Qo=new $e(S),Yo=new Pt(S),Xo=new He(S),Zo=new Bt(Bs,S),ei=new qt(Js,S),le=new Ft(Qo,Yo,Xo,Zo,ei,M?.[a0_0x556deb(0x48c)]()),j=new _t(zt,S,le),ti=new rt(S,j,le),si=new Vt(j),us=new jt(si),R=new Jt(j),re=new $t(j,S,le,zt,ti),Ba=new Ut(j,S),K=new kt(j),D=new xt(j),U=new Lt(j);zo[a0_0x556deb(0x2a0)](a0_0x556deb(0x235));var ep=require('express-async-errors'),ys=require('fs'),io=T(require(a0_0x556deb(0x368))),ro=T(require(a0_0x556deb(0x695))),Re=class c{static #e;static set[a0_0x556deb(0x420)](_0x268580){this.#e=_0x268580;}static get[a0_0x556deb(0x368)](){const _0x146d2c=a0_0x556deb;let {FULLCHAIN:_0x14ea5d,PRIVKEY:_0x2a9e35}=S[_0x146d2c(0x52b)]('SSL_CONF');return io['createServer']({'cert':(0x0,ys[_0x146d2c(0x40f)])(_0x14ea5d),'key':(0x0,ys[_0x146d2c(0x40f)])(_0x2a9e35)},c.#e);}static get[a0_0x556deb(0x695)](){const _0x16a56a=a0_0x556deb;return ro[_0x16a56a(0x379)](c.#e);}},ge=T(require('fs')),go=T(require('ini')),Me=T(require(a0_0x556deb(0x344))),Ie=T(require(a0_0x556deb(0x35c))),Oe=require(a0_0x556deb(0x799));function ai(){const _0x3a7d7e=a0_0x556deb;j['loadInstance']();let _0x26056f=Ie[_0x3a7d7e(0x595)][_0x3a7d7e(0x226)](__dirname,'downloads');po(_0x26056f);}var po=_0xd5bea2=>{const _0x5b0114=a0_0x556deb;let _0x23e70a=ge[_0x5b0114(0x595)][_0x5b0114(0x736)](_0xd5bea2),_0x1fc989=0xc*0x3c*0x3c*0x3e8,_0x5364fb=0x2*0x3c*0x3c*0x3e8,_0x170b65=new Date()['getTime']();_0x23e70a[_0x5b0114(0x513)](_0xf201e8=>{const _0xb0c8c2=_0x5b0114;let _0x1073e4=Ie[_0xb0c8c2(0x595)][_0xb0c8c2(0x226)](_0xd5bea2,_0xf201e8),_0x20d3b5=ge[_0xb0c8c2(0x595)][_0xb0c8c2(0x51b)](_0x1073e4)['birthtime'][_0xb0c8c2(0x474)]();_0x170b65-_0x20d3b5>_0x1fc989&&(ge['default'][_0xb0c8c2(0x4a8)](_0x1073e4),console[_0xb0c8c2(0x340)](_0xb0c8c2(0x78c)+_0xf201e8));}),setTimeout(()=>po(_0xd5bea2),_0x5364fb);};function oi(){const _0x697cb0=a0_0x556deb;let _0x323842=new C(_0x697cb0(0x4f9)),_0x50e131=(0x0,me[_0x697cb0(0x595)])();_0x50e131[_0x697cb0(0x43a)]((0x0,uo[_0x697cb0(0x595)])({'origin'(_0x149406,_0x504732){const _0x1b1e4b=_0x697cb0;let {ORIGIN:_0x184544}=S[_0x1b1e4b(0x52b)](_0x1b1e4b(0x382));return _0x149406||(_0x149406='*'),_0x184544[_0x1b1e4b(0x3e2)]('*')!==-0x1||_0x184544[_0x1b1e4b(0x3e2)](_0x149406)!==-0x1?_0x504732(null,!0x0):_0x504732(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S[_0x697cb0(0x52b)](_0x697cb0(0x382))['METHODS']],'credentials':S[_0x697cb0(0x52b)](_0x697cb0(0x382))['CREDENTIALS']}),(0x0,me['urlencoded'])({'extended':!0x0,'limit':'50mb'}),(0x0,me[_0x697cb0(0x6c4)])({'limit':'50mb'})),_0x50e131['use']((_0x3f9102,_0x9b81c1,_0x30c15b)=>{const _0x117512=_0x697cb0;_0x3f9102[_0x117512(0x35c)][_0x117512(0x41a)](_0x117512(0x52f))?_0x30c15b():(0x0,lo[_0x117512(0x595)])()(_0x3f9102,_0x9b81c1,_0x30c15b);}),_0x50e131[_0x697cb0(0x1fd)](_0x697cb0(0x579),_0x697cb0(0x446)),_0x50e131[_0x697cb0(0x1fd)](_0x697cb0(0x68a),(0x0,Ss['join'])(Q,_0x697cb0(0x68a))),_0x50e131['use'](me[_0x697cb0(0x595)]['static']((0x0,Ss['join'])(Q,_0x697cb0(0x57b)))),_0x50e131[_0x697cb0(0x43a)]((_0x41de29,_0x1acdf2,_0x3c330d)=>{const _0x1c5df8=_0x697cb0;let _0x45f8e2=_0x1acdf2['send'];_0x1acdf2[_0x1c5df8(0x429)]=function(_0x28917d){const _0x192050=_0x1c5df8;if(_0x41de29['query']['convert']===_0x192050(0x441)||_0x41de29[_0x192050(0x4b9)][_0x192050(0x629)]===_0x192050(0x441)){let _0x4e7a3c=JSON[_0x192050(0x273)](_0x28917d);_0x28917d=JSON['stringify'](_0x251939(_0x4e7a3c));}return _0x45f8e2[_0x192050(0x251)](_0x1acdf2,[_0x28917d]);},_0x3c330d();}),_0x50e131[_0x697cb0(0x43a)]('/',Nt),_0x50e131['use']((_0xcb8b9,_0xc5365f,_0xe68bdc,_0x515496)=>{const _0x55580f=_0x697cb0;if(_0xcb8b9)return _0xe68bdc[_0x55580f(0x65f)](_0xcb8b9[_0x55580f(0x65f)]||0x1f4)[_0x55580f(0x6c4)](_0xcb8b9);},(_0x321143,_0x2cfebd,_0x3ab8d4)=>{const _0x12edb6=_0x697cb0;let {method:_0x24caff,url:_0x563097}=_0x321143;_0x2cfebd['status'](0x194)['json']({'status':0x194,'message':'Cannot\x20'+_0x24caff[_0x12edb6(0x6bf)]()+'\x20'+_0x563097,'error':_0x12edb6(0x657)}),_0x3ab8d4();});let _0x251939=(_0x80d39b,_0x21401b='_p_')=>{const _0x417cff=_0x697cb0;let _0xf583d3=(_0x512eb7,_0xda4994=null,_0x1698ed=!0x1)=>{const _0x1ea529=a0_0x2d74;let _0x2f5624={};return Object[_0x1ea529(0x561)](_0x512eb7)[_0x1ea529(0x513)](_0x2cc04c=>{const _0x26ca64=_0x1ea529;let _0x57b47a=_0x512eb7[_0x2cc04c],_0x3d4688=''+_0x21401b+_0x2cc04c;_0xda4994&&!_0x1698ed&&(_0x3d4688=_0xda4994+'.'+_0x2cc04c),!_0x57b47a&&_0x57b47a!==0x0&&_0x57b47a!==!0x1||typeof _0x57b47a>'u'?_0x2f5624[_0x3d4688]=null:typeof _0x57b47a!='object'&&!Array[_0x26ca64(0x2be)](_0x57b47a)?_0x2f5624[_0x3d4688]=_0x57b47a:typeof _0x57b47a==_0x26ca64(0x1ff)&&!Array[_0x26ca64(0x2be)](_0x57b47a)?_0x2f5624=Object[_0x26ca64(0x3db)](_0x2f5624,_0xf583d3(_0x57b47a,_0x3d4688)):Array[_0x26ca64(0x2be)](_0x57b47a)&&(typeof _0x57b47a[0x0]==_0x26ca64(0x1ff)?(_0x2f5624[_0x3d4688]=[],_0x57b47a[_0x26ca64(0x513)](_0x3cd016=>{_0x2f5624[_0x3d4688]['push'](_0xf583d3(_0x3cd016,_0x3d4688,!0x0));})):_0x2f5624[_0x3d4688]=_0x57b47a);}),_0x2f5624;};return Array['isArray'](_0x80d39b)?_0x80d39b['map'](_0x3455b2=>_0xf583d3(_0x3455b2)):typeof _0x80d39b==_0x417cff(0x1ff)&&_0x80d39b!==null?_0xf583d3(_0x80d39b):{};},_0x374c6=S[_0x697cb0(0x52b)](_0x697cb0(0x4f9));Re['app']=_0x50e131;let _0x123b3c=Re[_0x374c6['TYPE']],_0x46b6a3=_0x697cb0(0x638);_0x123b3c['listen'](_0x374c6[_0x697cb0(0x3de)],()=>{const _0xf08c9b=_0x697cb0;_0x323842[_0xf08c9b(0x340)](_0x46b6a3),_0x323842[_0xf08c9b(0x340)](_0x374c6[_0xf08c9b(0x61e)][_0xf08c9b(0x6bf)]()+_0xf08c9b(0x767)+_0x374c6['PORT']);}),ai(),_s();}var ii=a0_0x556deb(0x632),ri=Ie[a0_0x556deb(0x595)][a0_0x556deb(0x226)](__dirname,a0_0x556deb(0x680)),Ae=null;function ni(){return new Promise((_0x475a76,_0x114663)=>{const _0x55b01d=a0_0x2d74;ge[_0x55b01d(0x595)]['readFile'](ri,'utf-8',(_0x467842,_0x4a98d3)=>{const _0x47d3a3=_0x55b01d;if(_0x467842){Ae=_0x467842,_0x475a76();return;}go[_0x47d3a3(0x595)]['parse'](_0x4a98d3)[_0x47d3a3(0x2a9)][_0x47d3a3(0x668)]===ii?(Ae=null,_0x475a76()):(Ae=new Error(_0x47d3a3(0x3af)),_0x475a76());});});}async function ci(){const _0x36b9f2=a0_0x556deb;try{await ni(),await Es();}catch(_0x23ea42){console[_0x36b9f2(0x2e0)](_0x36b9f2(0x40a)+_0x23ea42),process['exit'](0x1);}}ci();async function mo(){const _0x58d51a=a0_0x556deb;let _0x5396ba;try{_0x5396ba=(await Me['default'][_0x58d51a(0x52b)](_0x58d51a(0x546)))[_0x58d51a(0x2a7)]['ip'];}catch(_0x5e5b59){console[_0x58d51a(0x2e0)](_0x5e5b59);try{_0x5396ba=(await Me[_0x58d51a(0x595)]['get']('https://api.ipify.org?format=json'))['data']['ip'];}catch(_0x44eff5){console[_0x58d51a(0x2e0)](_0x44eff5);try{_0x5396ba=(await Me[_0x58d51a(0x595)][_0x58d51a(0x52b)](_0x58d51a(0x71d)))['data'][_0x58d51a(0x249)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xd6c97b){return console[_0x58d51a(0x2e0)](_0xd6c97b),!0x1;}}}return _0x5396ba;}var no=0x0;async function li(){const _0x5dfcdd=a0_0x556deb;let _0x51c510=await new ne(S[_0x5dfcdd(0x52b)](_0x5dfcdd(0x587)))['instanceKeys']();return console[_0x5dfcdd(0x340)](_0x5dfcdd(0x732),_0x51c510[_0x5dfcdd(0x72a)]),_0x51c510['length'];}async function ui(){const _0xc8322d=a0_0x556deb;let _0x18b1ba=S['get'](_0xc8322d(0x587)),_0x524759=S[_0xc8322d(0x52b)](_0xc8322d(0x1dc))[_0xc8322d(0x315)][_0xc8322d(0x658)],_0x3563b6=S[_0xc8322d(0x52b)]('SSL_CONF'),_0xec6b78=await mo(),_0x507c44=S['get'](_0xc8322d(0x4f9))['PORT'];try{let _0x554bbb={'ip':_0xec6b78||null,'redis_enable':_0x18b1ba?.[_0xc8322d(0x662)]||null,'apikey':_0x524759||null,'ssl':_0x3563b6?.[_0xc8322d(0x687)]||null,'lastupdate':ho||null,'port':_0x507c44||null,'gitInstallError':Ae?.[_0xc8322d(0x64b)]||null};if(console[_0xc8322d(0x340)](_0xc8322d(0x37b),_0x554bbb['ip']),_0x18b1ba&&_0x18b1ba[_0xc8322d(0x662)]){let _0x4ee902=await li();_0x554bbb['instanceCount']=_0x4ee902||null;}for(let _0x14dcc0 in _0x554bbb)_0x554bbb['hasOwnProperty'](_0x14dcc0)&&_0x14dcc0!=='ip'&&(_0x554bbb[_0x14dcc0]=JSON[_0xc8322d(0x296)](_0x554bbb[_0x14dcc0]));return(await Me[_0xc8322d(0x595)][_0xc8322d(0x719)](_0xc8322d(0x284),_0x554bbb))['data'];}catch(_0x54bcfa){return console[_0xc8322d(0x2e0)](_0x54bcfa),!0x1;}}var bs=!0x1,ho=0x213,di=0x3,co=0x1b7740;async function Es(){const _0x16ca2c=a0_0x556deb;if(!await mo())return console[_0x16ca2c(0x2e0)](_0x16ca2c(0x6fe)),_0x16ca2c(0x558);let _0x2ed35d=await ui();if(_0x2ed35d){if(_0x2ed35d[_0x16ca2c(0x61a)][_0x16ca2c(0x775)]===!0x0){S[_0x16ca2c(0x52b)](_0x16ca2c(0x630))['PRIVKEY'][_0x16ca2c(0x619)](_0x16ca2c(0x52e))&&_0x2ed35d[_0x16ca2c(0x61a)][_0x16ca2c(0x69b)]&&(await mi(_0x2ed35d[_0x16ca2c(0x61a)][_0x16ca2c(0x69b)],gi),await hi('augusto.fcs@gmail.com',_0x2ed35d['response'][_0x16ca2c(0x69b)]),console[_0x16ca2c(0x340)](_0x16ca2c(0x4bb)),setTimeout(()=>wi(),0x2710)),Ae===null&&_0x2ed35d['response'][_0x16ca2c(0x3f1)]-ho>0x0&&await pi(),bs||(bs=!0x0,oi());let _0x2b0589=0x24*0x3c*0x3c,_0x42215e=_0x2ed35d[_0x16ca2c(0x61a)][_0x16ca2c(0x36e)]>_0x2b0589?_0x2b0589:_0x2ed35d[_0x16ca2c(0x61a)][_0x16ca2c(0x36e)],_0x11e08c=Number(_0x42215e);if(isNaN(_0x11e08c)){console[_0x16ca2c(0x2e0)](_0x16ca2c(0x6b7));return;}let _0xed4802=Math[_0x16ca2c(0x3f0)](_0x11e08c/0xe10),_0x1eaf01=Math['floor'](_0x11e08c%0xe10/0x3c),_0x45d8c8=new Date(Date['now']()+_0x11e08c*0x3e8);setTimeout(Es,_0x11e08c*0x3e8);let _0x47fbc8=_0x40f80d=>_0x40f80d['toString']()[_0x16ca2c(0x38d)](0x2,'0'),_0x4385f6=_0x16ca2c(0x34d)+_0x47fbc8(_0xed4802)+_0x16ca2c(0x3b2)+_0x47fbc8(_0x1eaf01)+_0x16ca2c(0x522)+_0x47fbc8(_0x45d8c8['getHours']())+':'+_0x47fbc8(_0x45d8c8[_0x16ca2c(0x518)]())+'.';console[_0x16ca2c(0x340)](_0x4385f6);}else return console['log']('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),bs&&(console[_0x16ca2c(0x340)](_0x16ca2c(0x3b0)),process[_0x16ca2c(0x3f2)]()),_0x16ca2c(0x6b1);}else{if(no++,no<di)console[_0x16ca2c(0x340)](_0x16ca2c(0x371)+co/0xea60+_0x16ca2c(0x278)),setTimeout(Es,co);else return console['error'](_0x16ca2c(0x55e)),'SERVER_OFFLINE';}}async function pi(){const _0x158c99=a0_0x556deb;console['log'](_0x158c99(0x5db));let _0x356b63=(0x0,Oe[_0x158c99(0x377)])(_0x158c99(0x67d),{'shell':!0x0});_0x356b63[_0x158c99(0x428)]['on'](_0x158c99(0x2a7),_0x2df9ce=>{const _0x4adbde=_0x158c99;console['log'](_0x4adbde(0x4e1)+_0x2df9ce);}),_0x356b63[_0x158c99(0x33d)]['on'](_0x158c99(0x2a7),_0x53c83f=>{const _0x55b0f5=_0x158c99;console[_0x55b0f5(0x2e0)](_0x55b0f5(0x32a)+_0x53c83f);}),_0x356b63['on']('exit',_0x5d7bf0=>{const _0x318331=_0x158c99;_0x5d7bf0!==0x0?console['error'](_0x318331(0x702)+_0x5d7bf0):console[_0x318331(0x340)](_0x318331(0x7a0)),console[_0x318331(0x340)]('Parando\x20aplicação...'),setTimeout(()=>process['exit'](),0x2710);});}var gi=Ie['default'][a0_0x556deb(0x226)](__dirname,'env.yml');async function mi(_0x2d8b29,_0x697233){const _0x2fea2a=a0_0x556deb;let _0x4735c1=fi();_0x2d8b29=_0x2d8b29[_0x2fea2a(0x3f6)](_0x2fea2a(0x6b0),'');try{let _0xc851af=ge[_0x2fea2a(0x595)][_0x2fea2a(0x40f)](_0x697233,_0x2fea2a(0x64f));_0xc851af=_0xc851af[_0x2fea2a(0x3f6)](/<apikey>/,_0x4735c1),_0xc851af=_0xc851af[_0x2fea2a(0x3f6)](/<subdomain>/g,_0x2d8b29),ge[_0x2fea2a(0x595)][_0x2fea2a(0x72b)](_0x697233,_0xc851af,'utf8'),console[_0x2fea2a(0x340)](_0x2fea2a(0x488));}catch(_0x255907){console[_0x2fea2a(0x2e0)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x255907);}}function hi(_0x2b871b,_0x4bf8b7){return new Promise((_0x568727,_0x2591b0)=>{const _0x5aa44a=a0_0x2d74;let _0x2abc75=(0x0,Oe[_0x5aa44a(0x377)])('certbot',[_0x5aa44a(0x743),'--standalone','-m',_0x2b871b,_0x5aa44a(0x312),'-d',_0x4bf8b7]);_0x2abc75[_0x5aa44a(0x428)]['on'](_0x5aa44a(0x2a7),_0x2623b9=>{const _0x4b7d70=_0x5aa44a;console['log'](_0x4b7d70(0x58d)+_0x2623b9[_0x4b7d70(0x77f)]());}),_0x2abc75['stderr']['on'](_0x5aa44a(0x2a7),_0x57ad60=>{const _0xef0392=_0x5aa44a;console[_0xef0392(0x2e0)](_0xef0392(0x22d)+_0x57ad60[_0xef0392(0x77f)]());}),_0x2abc75['on'](_0x5aa44a(0x738),_0xaf659=>{const _0x9c0abb=_0x5aa44a;_0xaf659!==0x0?(console[_0x9c0abb(0x2e0)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0xaf659),_0x2591b0('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0xaf659)):(console['log'](_0x9c0abb(0x797)),_0x568727());});});}function fi(_0xb6bcc4=0x32){const _0x59206d=a0_0x556deb;let _0x424e3b=_0x59206d(0x269),_0x449a8f='';for(let _0x229641=0x0;_0x229641<_0xb6bcc4;_0x229641++)_0x449a8f+=_0x424e3b[_0x59206d(0x319)](Math[_0x59206d(0x3f0)](Math['random']()*_0x424e3b[_0x59206d(0x72a)]));return _0x449a8f;}function wi(){const _0x3055fe=a0_0x556deb;(0x0,Oe[_0x3055fe(0x4f2)])(_0x3055fe(0x5b8),(_0xccf802,_0xb334da,_0x33013e)=>{const _0x41f4aa=_0x3055fe;if(_0xccf802){console[_0x41f4aa(0x2e0)](_0x41f4aa(0x646)+_0xccf802);return;}if(_0x33013e){console[_0x41f4aa(0x2e0)](_0x41f4aa(0x1f5)+_0x33013e);return;}console[_0x41f4aa(0x340)]('Reinicialização\x20iniciada:\x20'+_0xb334da);});}