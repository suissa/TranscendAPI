const a0_0x4b3f0f=a0_0x473d;(function(_0x1f693a,_0x394f55){const _0xef797b=a0_0x473d,_0x194d39=_0x1f693a();while(!![]){try{const _0x25ae8e=parseInt(_0xef797b(0x499))/0x1+-parseInt(_0xef797b(0x479))/0x2*(-parseInt(_0xef797b(0x18d))/0x3)+-parseInt(_0xef797b(0x396))/0x4*(parseInt(_0xef797b(0x4f6))/0x5)+parseInt(_0xef797b(0x256))/0x6*(-parseInt(_0xef797b(0x4f5))/0x7)+parseInt(_0xef797b(0x32d))/0x8*(parseInt(_0xef797b(0x12c))/0x9)+parseInt(_0xef797b(0x1b5))/0xa+-parseInt(_0xef797b(0x2d2))/0xb;if(_0x25ae8e===_0x394f55)break;else _0x194d39['push'](_0x194d39['shift']());}catch(_0x30a0f0){_0x194d39['push'](_0x194d39['shift']());}}}(a0_0x1987,0xbac24));var wo=Object[a0_0x4b3f0f(0x35d)],Cs=Object[a0_0x4b3f0f(0x19c)],yo=Object[a0_0x4b3f0f(0x320)],bo=Object[a0_0x4b3f0f(0x646)],So=Object[a0_0x4b3f0f(0x656)],Eo=Object[a0_0x4b3f0f(0x4a0)][a0_0x4b3f0f(0x194)],vo=(_0x55ea51,_0x23d5bc,_0x430ed5,_0x24c821)=>{const _0x2e182a=a0_0x4b3f0f;if(_0x23d5bc&&typeof _0x23d5bc=='object'||typeof _0x23d5bc=='function'){for(let _0x4dc81c of bo(_0x23d5bc))!Eo[_0x2e182a(0x198)](_0x55ea51,_0x4dc81c)&&_0x4dc81c!==_0x430ed5&&Cs(_0x55ea51,_0x4dc81c,{'get':()=>_0x23d5bc[_0x4dc81c],'enumerable':!(_0x24c821=yo(_0x23d5bc,_0x4dc81c))||_0x24c821[_0x2e182a(0x3db)]});}return _0x55ea51;},T=(_0x26e320,_0x559c1e,_0x4cf2fe)=>(_0x4cf2fe=_0x26e320!=null?wo(So(_0x26e320)):{},vo(_0x559c1e||!_0x26e320||!_0x26e320[a0_0x4b3f0f(0x5c9)]?Cs(_0x4cf2fe,a0_0x4b3f0f(0x4ea),{'value':_0x26e320,'enumerable':!0x0}):_0x4cf2fe,_0x26e320)),lo=T(require('compression')),Ts=require('fs'),Rs=require('js-yaml'),Ms=require('path'),_e=require(a0_0x4b3f0f(0x19d)),Q=process[a0_0x4b3f0f(0x5e5)](),V=(0x0,_e[a0_0x4b3f0f(0x488)])(Q,a0_0x4b3f0f(0x621)),Ns=(0x0,_e[a0_0x4b3f0f(0x488)])(Q,a0_0x4b3f0f(0x4f7)),Gt=(0x0,_e[a0_0x4b3f0f(0x488)])(Q,a0_0x4b3f0f(0x3aa),a0_0x4b3f0f(0x53d)),As=require(a0_0x4b3f0f(0x1a4)),Jt=class{constructor(){this['loadEnv']();}[a0_0x4b3f0f(0x2a0)](_0x529a66){const _0x2af27=a0_0x4b3f0f;return this[_0x2af27(0x192)][_0x529a66];}[a0_0x4b3f0f(0x46f)](){const _0x3d222f=a0_0x4b3f0f;this[_0x3d222f(0x192)]=process['env']?.[_0x3d222f(0x47a)]!==_0x3d222f(0x4d4)?this['envYaml']():this['envProcess'](),this[_0x3d222f(0x192)][_0x3d222f(0x150)]=process[_0x3d222f(0x192)]?.[_0x3d222f(0x1cf)]===_0x3d222f(0x5b3),process[_0x3d222f(0x192)]?.['DOCKER_ENV']==='true'&&(this[_0x3d222f(0x192)]['SERVER']['TYPE']=_0x3d222f(0x599),this[_0x3d222f(0x192)][_0x3d222f(0x271)][_0x3d222f(0x5cd)]=Number[_0x3d222f(0x10b)](process[_0x3d222f(0x192)]?.[_0x3d222f(0x178)]??_0x3d222f(0x3d2)));}['envYaml'](){const _0x374875=a0_0x4b3f0f;return(0x0,Rs[_0x374875(0x1cb)])((0x0,Ts['readFileSync'])((0x0,Ms[_0x374875(0x488)])(Ns,_0x374875(0x614)),{'encoding':'utf-8'}));}[a0_0x4b3f0f(0x14f)](){const _0x2af0d2=a0_0x4b3f0f;return{'SERVER':{'TYPE':process[_0x2af0d2(0x192)]['SERVER_TYPE'],'PORT':Number[_0x2af0d2(0x10b)](process['env'][_0x2af0d2(0x178)])},'CORS':{'ORIGIN':process[_0x2af0d2(0x192)][_0x2af0d2(0x576)][_0x2af0d2(0x318)](','),'METHODS':process[_0x2af0d2(0x192)]['CORS_METHODS'][_0x2af0d2(0x318)](','),'CREDENTIALS':process['env']?.[_0x2af0d2(0x37c)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x2af0d2(0x192)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x27f)]},'STORE':{'CLEANING_INTERVAL':Number[_0x2af0d2(0x30e)](process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x351)])?Number[_0x2af0d2(0x10b)](process[_0x2af0d2(0x192)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x36a)]===_0x2af0d2(0x4d4),'CONTACTS':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x416)]===_0x2af0d2(0x4d4),'CHATS':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x3fd)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process['env']?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x2af0d2(0x10b)](process['env']?.[_0x2af0d2(0x389)]),'USER':process[_0x2af0d2(0x192)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x2af0d2(0x192)][_0x2af0d2(0x496)],'URI':process[_0x2af0d2(0x192)][_0x2af0d2(0x51b)],'DB_PREFIX_NAME':process[_0x2af0d2(0x192)][_0x2af0d2(0x3e8)]},'ENABLED':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x24c)]===_0x2af0d2(0x4d4)},'REDIS':{'ENABLED':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x4a6)]===_0x2af0d2(0x4d4),'URI':process[_0x2af0d2(0x192)][_0x2af0d2(0x4b1)],'PREFIX_KEY':process['env'][_0x2af0d2(0x131)]},'LOG':{'LEVEL':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x409)][_0x2af0d2(0x318)](','),'COLOR':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x44d)]===_0x2af0d2(0x4d4)},'DEL_INSTANCE':(0x0,As['isBooleanString'])(process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x132)])?process[_0x2af0d2(0x192)]['DEL_INSTANCE']==='true':Number['parseInt'](process[_0x2af0d2(0x192)][_0x2af0d2(0x132)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x2af0d2(0x192)][_0x2af0d2(0x24f)]?process[_0x2af0d2(0x192)][_0x2af0d2(0x24f)]==='true':!0x1,'GLOBAL':{'URL':process[_0x2af0d2(0x192)]?.['WEBHOOK_GLOBAL_URL'],'ENABLED':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0xad)]==='true'},'EVENTS':{'STATUS_INSTANCE':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x47c)]===_0x2af0d2(0x4d4),'QRCODE_UPDATED':process['env']?.[_0x2af0d2(0x5de)]===_0x2af0d2(0x4d4),'MESSAGES_SET':process[_0x2af0d2(0x192)]?.['WEBHOOK_EVENTS_MESSAGES_SET']===_0x2af0d2(0x4d4),'MESSAGES_UPSERT':process[_0x2af0d2(0x192)]?.['WEBHOOK_EVENTS_MESSAGES_UPSERT']===_0x2af0d2(0x4d4),'MESSAGES_UPDATE':process['env']?.[_0x2af0d2(0x366)]===_0x2af0d2(0x4d4),'SEND_MESSAGE':process['env']?.[_0x2af0d2(0x284)]===_0x2af0d2(0x4d4),'CONTACTS_SET':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x19a)]===_0x2af0d2(0x4d4),'CONTACTS_UPDATE':process['env']?.['WEBHOOK_EVENTS_CONTACTS_UPDATE']===_0x2af0d2(0x4d4),'CONTACTS_UPSERT':process['env']?.[_0x2af0d2(0x2b7)]===_0x2af0d2(0x4d4),'PRESENCE_UPDATE':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x41f)]===_0x2af0d2(0x4d4),'CHATS_SET':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x167)]===_0x2af0d2(0x4d4),'CHATS_UPDATE':process[_0x2af0d2(0x192)]?.['WEBHOOK_EVENTS_CHATS_UPDATE']===_0x2af0d2(0x4d4),'CHATS_UPSERT':process['env']?.[_0x2af0d2(0x492)]===_0x2af0d2(0x4d4),'CHATS_DELETE':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x60a)]==='true','CONNECTION_UPDATE':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x10e)]==='true','GROUPS_UPSERT':process[_0x2af0d2(0x192)]?.['WEBHOOK_EVENTS_GROUPS_UPSERT']===_0x2af0d2(0x4d4),'GROUP_UPDATE':process[_0x2af0d2(0x192)]?.['WEBHOOK_EVENTS_GROUPS_UPDATE']==='true','GROUP_PARTICIPANTS_UPDATE':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x1fa)]===_0x2af0d2(0x4d4),'NEW_JWT_TOKEN':process['env']?.[_0x2af0d2(0x25c)]===_0x2af0d2(0x4d4)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x2af0d2(0x192)]?.['CONFIG_SESSION_PHONE_CLIENT']||_0x2af0d2(0x47b),'NAME':process['env']?.[_0x2af0d2(0xab)]||_0x2af0d2(0x418)},'QRCODE':{'LIMIT':Number[_0x2af0d2(0x10b)](process['env']['QRCODE_LIMIT'])||0x5},'TRIAL_AD':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x5fd)],'TRIAL_INSTANCE_NAME':process[_0x2af0d2(0x192)]?.[_0x2af0d2(0x148)],'AUTHENTICATION':{'TYPE':process[_0x2af0d2(0x192)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x2af0d2(0x192)][_0x2af0d2(0x5c7)]},'JWT':{'EXPIRIN_IN':Number[_0x2af0d2(0x30e)](process['env']?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x2af0d2(0x10b)](process[_0x2af0d2(0x192)][_0x2af0d2(0x252)]):0xe10,'SECRET':process['env'][_0x2af0d2(0x50b)]}}};}},E=new Jt(),uo=T(require('cors')),pe=T(require(a0_0x4b3f0f(0x170))),bs=require(a0_0x4b3f0f(0x19d)),Wt=T(require(a0_0x4b3f0f(0x2e1))),Ht=(_0x59e0c8=>(_0x59e0c8['LOG']=a0_0x4b3f0f(0x547),_0x59e0c8[a0_0x4b3f0f(0x647)]='\x1b[34m',_0x59e0c8[a0_0x4b3f0f(0x669)]='\x1b[33m',_0x59e0c8['ERROR']=a0_0x4b3f0f(0x4dc),_0x59e0c8[a0_0x4b3f0f(0x122)]='\x1b[36m',_0x59e0c8[a0_0x4b3f0f(0x587)]=a0_0x4b3f0f(0x2a9),_0x59e0c8[a0_0x4b3f0f(0x2be)]=a0_0x4b3f0f(0x570),_0x59e0c8))(Ht||{}),Is=(_0x33f809=>(_0x33f809['LOG']=a0_0x4b3f0f(0xb1),_0x33f809[a0_0x4b3f0f(0x2be)]=a0_0x4b3f0f(0x3b7),_0x33f809['INFO']=a0_0x4b3f0f(0x277),_0x33f809['WARN']='\x1b[33m%s\x1b[0m',_0x33f809[a0_0x4b3f0f(0x515)]=a0_0x4b3f0f(0x3c0),_0x33f809[a0_0x4b3f0f(0x122)]=a0_0x4b3f0f(0x358),_0x33f809['VERBOSE']=a0_0x4b3f0f(0x206),_0x33f809))(Is||{}),Ds=(_0x1486a7=>(_0x1486a7['LOG']=a0_0x4b3f0f(0x153),_0x1486a7[a0_0x4b3f0f(0x669)]='WARN',_0x1486a7[a0_0x4b3f0f(0x647)]=a0_0x4b3f0f(0x647),_0x1486a7[a0_0x4b3f0f(0x2be)]=a0_0x4b3f0f(0x2be),_0x1486a7[a0_0x4b3f0f(0x515)]=a0_0x4b3f0f(0x515),_0x1486a7[a0_0x4b3f0f(0x122)]=a0_0x4b3f0f(0x122),_0x1486a7[a0_0x4b3f0f(0x587)]='VERBOSE',_0x1486a7))(Ds||{}),_s=(_0x198efa=>(_0x198efa['LOG']=a0_0x4b3f0f(0x1fc),_0x198efa[a0_0x4b3f0f(0x647)]=a0_0x4b3f0f(0x160),_0x198efa['WARN']=a0_0x4b3f0f(0x5bc),_0x198efa[a0_0x4b3f0f(0x2be)]=a0_0x4b3f0f(0x37d),_0x198efa['ERROR']='\x1b[41m',_0x198efa[a0_0x4b3f0f(0x122)]='\x1b[46m',_0x198efa['VERBOSE']=a0_0x4b3f0f(0x4cf),_0x198efa))(_s||{}),N=class{constructor(_0x196cc3=a0_0x4b3f0f(0x102)){const _0x5c6e78=a0_0x4b3f0f;this[_0x5c6e78(0x2cb)]=_0x196cc3,this[_0x5c6e78(0x32b)]=E;}['setContext'](_0x516556){const _0x3ca02c=a0_0x4b3f0f;this[_0x3ca02c(0x2cb)]=_0x516556;}['console'](_0x3fad,_0x151d36){const _0x244722=a0_0x4b3f0f;let _0x364d41=[];this[_0x244722(0x32b)][_0x244722(0x2a0)](_0x244722(0x153))[_0x244722(0x52c)][_0x244722(0x557)](_0x1e8513=>_0x364d41[_0x244722(0x346)](Ds[_0x1e8513]));let _0x401d63=typeof _0x3fad;_0x364d41[_0x244722(0x531)](_0x151d36)&&(E[_0x244722(0x2a0)](_0x244722(0x153))[_0x244722(0x4ff)]?(console['log'](_0x244722(0x11f)+Is[_0x151d36],_0x244722(0x21b),(0x0,Wt['default'])()[_0x244722(0x618)](_0x244722(0x24b)),_0x244722(0x3fe),Ht[_0x151d36]+_s[_0x151d36]+_0x244722(0x11f),_0x151d36+_0x244722(0x58b),_0x244722(0x23f),this[_0x244722(0x2cb)]+'\x1b[0m',Ht[_0x151d36],_0x401d63!==_0x244722(0x64a)?_0x3fad:'',_0x244722(0x3fe)),_0x401d63==='object'&&console['log'](_0x3fad,'\x0a')):console[_0x244722(0x21a)]((0x0,Wt[_0x244722(0x4ea)])()[_0x244722(0x618)]('HH:mm:ss'),_0x151d36+'\x20',''+this[_0x244722(0x2cb)],_0x3fad));}[a0_0x4b3f0f(0x21a)](_0x53be82){const _0x5d19aa=a0_0x4b3f0f;this['console'](_0x53be82,_0x5d19aa(0x153));}[a0_0x4b3f0f(0x5f7)](_0x7fb8e3){const _0x392eba=a0_0x4b3f0f;this[_0x392eba(0x520)](_0x7fb8e3,_0x392eba(0x647));}[a0_0x4b3f0f(0x1e8)](_0x1fa2cd){const _0x1bff0c=a0_0x4b3f0f;this[_0x1bff0c(0x520)](_0x1fa2cd,_0x1bff0c(0x669));}[a0_0x4b3f0f(0x622)](_0x4f84bd){const _0x3279b6=a0_0x4b3f0f;this[_0x3279b6(0x520)](_0x4f84bd,'ERROR');}['verbose'](_0x2c48ae){const _0x23a0b1=a0_0x4b3f0f;this['console'](_0x2c48ae,_0x23a0b1(0x587));}[a0_0x4b3f0f(0x42b)](_0x166b9e){const _0x24711a=a0_0x4b3f0f;this[_0x24711a(0x520)](_0x166b9e,_0x24711a(0x122));}[a0_0x4b3f0f(0x12d)](_0x27fcc2){this['console'](_0x27fcc2,'DARK');}};function Os(){const _0x5b032d=a0_0x4b3f0f;process['on'](_0x5b032d(0x188),(_0x2257f4,_0x500be9)=>{const _0x300854=_0x5b032d;new N(_0x300854(0x188))[_0x300854(0x622)]({'origin':_0x500be9,'stderr':process['stderr']['fd'],'error':_0x2257f4});}),process['on'](_0x5b032d(0x676),(_0x2dbc7b,_0x112388)=>{const _0x5225bd=_0x5b032d;new N(_0x5225bd(0x676))[_0x5225bd(0x622)]({'origin':_0x112388,'stderr':process[_0x5225bd(0x2ee)]['fd'],'error':_0x2dbc7b});});}var Ps=T(require(a0_0x4b3f0f(0x62d))),Kt=new Ps['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Oe=require('mongoose'),zt=T(require(a0_0x4b3f0f(0x53b))),Co=new N(a0_0x4b3f0f(0xb0)),G=E[a0_0x4b3f0f(0x2a0)]('DATABASE'),M=G['ENABLED']?G[a0_0x4b3f0f(0x244)][a0_0x4b3f0f(0x209)]?zt['default'][a0_0x4b3f0f(0x45d)](G[a0_0x4b3f0f(0x244)][a0_0x4b3f0f(0x209)],{'dbName':G[a0_0x4b3f0f(0x244)][a0_0x4b3f0f(0x571)]+'-whatsapp-api'}):zt['default']['createConnection'](a0_0x4b3f0f(0x413)+G[a0_0x4b3f0f(0x244)]['HOST']+':'+G[a0_0x4b3f0f(0x244)][a0_0x4b3f0f(0x5cd)]+a0_0x4b3f0f(0x59f),{'user':G[a0_0x4b3f0f(0x244)][a0_0x4b3f0f(0x497)],'pass':G[a0_0x4b3f0f(0x244)][a0_0x4b3f0f(0x266)],'dbName':G['CONNECTION']['DB_PREFIX_NAME']+a0_0x4b3f0f(0x113)}):null;G[a0_0x4b3f0f(0x4b6)]&&Co[a0_0x4b3f0f(0x5f7)](a0_0x4b3f0f(0x530)+M[a0_0x4b3f0f(0x5ef)]);var No=new Oe['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),To=new Oe['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[No],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Ro=new Oe[(a0_0x4b3f0f(0x65e))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':To,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),xs=_0x51e30b=>{const _0x33a34d=a0_0x4b3f0f;let _0x5bcf10='z_'+_0x51e30b+_0x33a34d(0x29e);return M?.[_0x33a34d(0x1d6)](_0x33a34d(0x3fc),Ro,_0x5bcf10);},$s=require(a0_0x4b3f0f(0x53b)),Mo=new $s['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ks=_0xec3c47=>{const _0x1caaa6=a0_0x4b3f0f;let _0x3f118b='z_'+_0xec3c47+'_Contacts';return M?.[_0x1caaa6(0x1d6)](_0x1caaa6(0x16d),Mo,_0x3f118b);},Ls=require(a0_0x4b3f0f(0x53b)),Ao=new Ls[(a0_0x4b3f0f(0x65e))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x4b3f0f(0x47e),a0_0x4b3f0f(0x215),a0_0x4b3f0f(0x3ca)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Us=_0x3f248a=>{const _0x2e6c1d=a0_0x4b3f0f;let _0x7094d='z_'+_0x3f248a+_0x2e6c1d(0x58a);return M?.[_0x2e6c1d(0x1d6)](_0x2e6c1d(0x42d),Ao,_0x7094d);},Vs=require(a0_0x4b3f0f(0x53b)),Qt=class{},Io=new Vs['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),js=M?.[a0_0x4b3f0f(0x1d6)](Qt[a0_0x4b3f0f(0x11c)],Io,a0_0x4b3f0f(0x1e0)),Fs=require(a0_0x4b3f0f(0x53b)),Yt=class{},Bs=new Fs[(a0_0x4b3f0f(0x65e))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Bs[a0_0x4b3f0f(0x55a)]('save',function(_0x588c1e){const _0x471f82=a0_0x4b3f0f;delete this[_0x471f82(0x501)],delete this[_0x471f82(0x645)],delete this['flowPrefixCommand'],delete this[_0x471f82(0x4a8)],delete this[_0x471f82(0x3d5)],_0x588c1e();});var qs=M?.[a0_0x4b3f0f(0x1d6)](Yt['name'],Bs,a0_0x4b3f0f(0x596)),_=require(a0_0x4b3f0f(0x53b)),Gs=new _[(a0_0x4b3f0f(0x65e))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Xt=new _[(a0_0x4b3f0f(0x65e))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Do=new _[(a0_0x4b3f0f(0x65e))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x4b3f0f(0x636)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Js=new _['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),_o=new _[(a0_0x4b3f0f(0x65e))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Oo=new _['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ws=new _[(a0_0x4b3f0f(0x65e))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Do},'apirequest':_o,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),as=new _[(a0_0x4b3f0f(0x65e))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Hs=new _[(a0_0x4b3f0f(0x65e))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Zt=class{},Ks=new _[(a0_0x4b3f0f(0x65e))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x2e73a0=a0_0x4b3f0f;return _0x2e73a0(0x257)+Math[_0x2e73a0(0x21e)]()[_0x2e73a0(0x16e)](0x24)[_0x2e73a0(0x101)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[as],'variablesNotFound':{'type':[String]},'blocks':[Ws],'groups':[Gs],'conditions':[Js],'varedits':[Hs],'replyOptions':{'type':[Xt],'default':[]}});Ks['pre'](a0_0x4b3f0f(0x3c9),function(_0x2440c8){const _0x51f866=a0_0x4b3f0f;let _0x37e7ac=new Set(),_0x4d2151=new Set(this['variables']?.[_0x51f866(0x53c)](_0x4a770c=>_0x4a770c[_0x51f866(0x11c)])),_0x2983b5=JSON[_0x51f866(0x3c6)](this),_0x4ddcd6=/{{(?!_)([^}]*)}}/g,_0x357ffb;for(;(_0x357ffb=_0x4ddcd6[_0x51f866(0x5c3)](_0x2983b5))!==null;)_0x4d2151[_0x51f866(0x331)](_0x357ffb[0x1])||_0x37e7ac[_0x51f866(0x4ab)](_0x357ffb[0x1]);_0x37e7ac[_0x51f866(0x449)]>0x0?(console[_0x51f866(0x1e8)](_0x51f866(0x54f),Array[_0x51f866(0x439)](_0x37e7ac)),this[_0x51f866(0xc9)]=Array[_0x51f866(0x439)](_0x37e7ac)):this[_0x51f866(0xc9)]=[],_0x2440c8();});var I=M?.['model'](Zt[a0_0x4b3f0f(0x11c)],Ks,'flow'),Po=new _[(a0_0x4b3f0f(0x65e))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[as],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Oo]},{'_id':!0x1}),es=class{},xo=new _[(a0_0x4b3f0f(0x65e))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[as],'blocks':[Ws],'groups':[Gs],'conditions':[Js],'varedits':[Hs],'replyOptions':{'type':[Xt],'default':[]},'chatLog':Po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x4b3f0f(0x655)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[Xt],'default':[]}}),j=M?.[a0_0x4b3f0f(0x1d6)](es[a0_0x4b3f0f(0x11c)],xo,a0_0x4b3f0f(0x5cb)),ts=class{},$o=new _[(a0_0x4b3f0f(0x65e))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ko=new _[(a0_0x4b3f0f(0x65e))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':$o,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),L=M?.['model'](ts['name'],ko,a0_0x4b3f0f(0x3f5)),ss=class{},Lo=new _[(a0_0x4b3f0f(0x65e))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Uo=new _[(a0_0x4b3f0f(0x65e))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x4b3f0f(0x2ba)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),Vo=new _[(a0_0x4b3f0f(0x65e))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),jo=new _[(a0_0x4b3f0f(0x65e))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Vo]},'customFields':{'type':[Lo]},'flowConfig':{'type':Uo,'default':{}}}),ae=M?.['model'](ss[a0_0x4b3f0f(0x11c)],jo,a0_0x4b3f0f(0x26b)),ge=require('fs'),os=require(a0_0x4b3f0f(0x19d)),W=class{constructor(_0x2d7bbf){const _0x4461c2=a0_0x4b3f0f;this[_0x4461c2(0xc5)]=(0x0,os['join'])(Q,_0x4461c2(0x3aa)),this[_0x4461c2(0x402)]=_0x4c289e=>{const _0x4259fa=_0x4461c2;(0x0,ge['existsSync'])(_0x4c289e[_0x4259fa(0x19d)])||(0x0,ge[_0x4259fa(0x1c7)])(_0x4c289e[_0x4259fa(0x19d)],{'recursive':!0x0});try{return(0x0,ge['writeFileSync'])((0x0,os[_0x4259fa(0x488)])(_0x4c289e[_0x4259fa(0x19d)],_0x4c289e[_0x4259fa(0x61c)]+_0x4259fa(0x356)),JSON[_0x4259fa(0x3c6)]({..._0x4c289e[_0x4259fa(0x337)]}),{'encoding':'utf-8'}),{'message':_0x4259fa(0x245)};}finally{_0x4c289e[_0x4259fa(0x337)]=void 0x0;}},this[_0x4461c2(0x5df)]=_0x2d7bbf[_0x4461c2(0x2a0)]('DATABASE');}[a0_0x4b3f0f(0x528)](_0x830670,_0x13b92a=!0x1){const _0x5c550f=a0_0x4b3f0f;throw new Error(_0x5c550f(0x2e3));}[a0_0x4b3f0f(0x28c)](_0xc86495){const _0x239856=a0_0x4b3f0f;throw new Error(_0x239856(0x2e3));}[a0_0x4b3f0f(0x527)](_0x56c15c,_0xa7aa03){throw new Error('Method\x20not\x20implemented.');}},Pe=class{},xe=class extends W{constructor(_0xa67d6c){const _0x4bb092=a0_0x4b3f0f;super(_0xa67d6c),this[_0x4bb092(0x32b)]=_0xa67d6c;}[a0_0x4b3f0f(0x522)](_0x365756){return Us(_0x365756);}async['insert'](_0x374eeb){const _0x4a2587=a0_0x4b3f0f;if(_0x374eeb[_0x4a2587(0x529)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x374eeb[0x0]['owner'])[_0x4a2587(0x5fb)]([..._0x374eeb]))[_0x4a2587(0x529)]};}catch(_0x22c30f){return console[_0x4a2587(0x21a)](_0x4a2587(0x315),_0x22c30f),_0x22c30f;}}async[a0_0x4b3f0f(0x28c)](_0x3c0707){const _0x2a89a6=a0_0x4b3f0f;try{let _0x167f98=this[_0x2a89a6(0x522)](_0x3c0707[_0x2a89a6(0xa7)][_0x2a89a6(0x53a)]);if(_0x3c0707?.['where']?.[_0x2a89a6(0x268)]){for(let [_0x50db98,_0x2bfe0d]of Object[_0x2a89a6(0x5ee)](_0x3c0707[_0x2a89a6(0xa7)][_0x2a89a6(0x268)]))_0x3c0707[_0x2a89a6(0xa7)]['key.'+_0x50db98]=_0x2bfe0d;delete _0x3c0707?.[_0x2a89a6(0xa7)]?.[_0x2a89a6(0x268)];}return await _0x167f98[_0x2a89a6(0x28c)]({..._0x3c0707[_0x2a89a6(0xa7)]})['sort']({'messageTimestamp':-0x1})['limit'](_0x3c0707?.[_0x2a89a6(0x183)]??0x0)[_0x2a89a6(0x1bc)]();}catch{return[];}}async[a0_0x4b3f0f(0x527)](_0x249694){const _0x35b9d7=a0_0x4b3f0f;try{await this[_0x35b9d7(0x522)](_0x249694[_0x35b9d7(0xa7)][_0x35b9d7(0x53a)])[_0x35b9d7(0x66f)]({..._0x249694[_0x35b9d7(0xa7)]});}catch(_0x3797be){console[_0x35b9d7(0x622)](_0x3797be);}}async['update'](_0x24031a,_0x3ab8b0){const _0x55043d=a0_0x4b3f0f;try{return await this[_0x55043d(0x522)](_0x24031a[_0x55043d(0xa7)][_0x55043d(0x53a)])[_0x55043d(0x391)]({..._0x24031a[_0x55043d(0xa7)]},{'$set':_0x3ab8b0},{'new':!0x0});}catch(_0x4322aa){throw console[_0x55043d(0x622)](_0x4322aa),_0x4322aa;}}async[a0_0x4b3f0f(0x5fb)](_0x1c435b){const _0x460037=a0_0x4b3f0f;if(_0x1c435b[_0x460037(0x529)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x460037(0x522)](_0x1c435b[0x0][_0x460037(0x53a)])[_0x460037(0x5fb)]([..._0x1c435b]))[_0x460037(0x529)]};}catch(_0x2aae94){return console[_0x460037(0x21a)](_0x460037(0x315),_0x2aae94),_0x2aae94;}}async[a0_0x4b3f0f(0x486)](_0x5651f5){const _0x569381=a0_0x4b3f0f;try{return await this[_0x569381(0x522)](_0x5651f5)[_0x569381(0x282)][_0x569381(0x18a)](),{'success':!0x0};}catch(_0x2efa86){return console['error'](_0x2efa86),{'success':!0x1,'error':_0x2efa86};}}},te=require('fs'),Xa=T(require('@ffmpeg-installer/ffmpeg')),w=T(require('@whiskeysockets/baileys')),Te=require('fs'),$=T(require(a0_0x4b3f0f(0x19d))),ne=T(require(a0_0x4b3f0f(0x1f8))),Za=require(a0_0x4b3f0f(0x164)),eo=T(require(a0_0x4b3f0f(0x1f1))),to=T(require(a0_0x4b3f0f(0x267))),zs=[a0_0x4b3f0f(0x35c),'documentMessage','audioMessage',a0_0x4b3f0f(0xc2),a0_0x4b3f0f(0x1a2)],Qs=['ephemeralMessage',a0_0x4b3f0f(0x235),a0_0x4b3f0f(0x2da),'viewOnceMessageV2'],so=require('os'),Rt=T(require('pino')),Dt=require(a0_0x4b3f0f(0x1ca)),Mt=require('node-mime-types'),we=T(require(a0_0x4b3f0f(0x53b))),O=require(a0_0x4b3f0f(0x1a4)),me=class{constructor(_0xe31bec,_0x51915e,_0x15dba0){const _0x5f551f=a0_0x4b3f0f;this[_0x5f551f(0x52d)]=_0xe31bec,this[_0x5f551f(0x447)]=_0x51915e,this['name']=_0x15dba0;}},$e=class{},ke=class{},Se=class{},Le=class{},Ue=class{},he=class{},Ve=class{},je=class{},Fe=class{},Be=class{},Et=T(require(a0_0x4b3f0f(0x170))),Ys=require('fs'),Xs=require(a0_0x4b3f0f(0x19d));async function qe(_0x19ba67){const _0x11fb16=a0_0x4b3f0f;let _0x5a7042=F['waInstances'][_0x19ba67];if(G['ENABLED']){let _0x4f0171=M[_0x11fb16(0x1b6)]()['db'](G[_0x11fb16(0x244)][_0x11fb16(0x571)]+'-instances')[_0x11fb16(0x282)](_0x19ba67);return _0x5a7042||(await _0x4f0171[_0x11fb16(0x28c)]({})['toArray']())[_0x11fb16(0x529)]>0x0;}return _0x5a7042||(0x0,Ys['existsSync'])((0x0,Xs[_0x11fb16(0x488)])(V,_0x19ba67));}async function rs(_0x285eb5,_0x4e269d,_0x437d16){const _0x527bb0=a0_0x4b3f0f;if(_0x285eb5[_0x527bb0(0x4ec)]['includes'](_0x527bb0(0x4c6))||_0x285eb5['originalUrl']['includes'](_0x527bb0(0x5c5))||_0x285eb5[_0x527bb0(0x4ec)][_0x527bb0(0x531)](_0x527bb0(0x633)))return _0x437d16();let _0x343956=_0x285eb5['params'];if(!_0x343956?.['instanceName'])throw new g(_0x527bb0(0x371));if(!await qe(_0x343956[_0x527bb0(0x40d)]))throw new x(_0x527bb0(0x2b5)+_0x343956[_0x527bb0(0x40d)]+_0x527bb0(0xf4));_0x437d16();}async function Zs(_0x50764f,_0x2e4c16,_0x35ba1c){const _0x2710af=a0_0x4b3f0f;if(_0x50764f[_0x2710af(0x4ec)]['includes']('/instance/create')){let _0x16c534=_0x50764f['body'];if(await qe(_0x16c534[_0x2710af(0x40d)]))throw new oe(_0x2710af(0x52e)+_0x16c534[_0x2710af(0x40d)]+_0x2710af(0xcb));F[_0x2710af(0x2d0)][_0x16c534[_0x2710af(0x40d)]]&&delete F[_0x2710af(0x2d0)][_0x16c534[_0x2710af(0x40d)]];}_0x35ba1c();}var ea=require(a0_0x4b3f0f(0x1a4)),ta=T(require(a0_0x4b3f0f(0x310))),Ge='uazapi',Bo=new N(a0_0x4b3f0f(0xe3));async function qo(_0x2ca6b7,_0x229b25,_0x155f32){const _0x4f07b0=a0_0x4b3f0f;let _0x49d7cd=_0x2ca6b7[_0x4f07b0(0x2a0)](_0x4f07b0(0x13e));if(_0x49d7cd&&E['get']('AUTHENTICATION')[_0x4f07b0(0x671)][_0x4f07b0(0x18e)]!==_0x49d7cd)throw new re();if(E[_0x4f07b0(0x2a0)](_0x4f07b0(0x37b))['API_KEY'][_0x4f07b0(0x18e)]===_0x49d7cd)return _0x155f32();if((_0x2ca6b7[_0x4f07b0(0x4ec)][_0x4f07b0(0x531)]('/instance/create')||_0x2ca6b7[_0x4f07b0(0x4ec)][_0x4f07b0(0x531)]('/instance/fetchInstances'))&&!_0x49d7cd)throw new oe(_0x4f07b0(0x670),_0x4f07b0(0xa4));let _0x28f23f=E[_0x4f07b0(0x2a0)](_0x4f07b0(0x37b))[_0x4f07b0(0x4a4)];try{let [_0x1e9775,_0x506078]=_0x2ca6b7['get'](_0x4f07b0(0x10a))[_0x4f07b0(0x318)]('\x20');if(_0x1e9775[_0x4f07b0(0x40c)]()!==_0x4f07b0(0x1d3))throw new re();if(!(0x0,ea['isJWT'])(_0x506078))throw new re();let _0x1a8feb=_0x2ca6b7[_0x4f07b0(0x154)],_0x454ccb=ta['default']['verify'](_0x506078,_0x28f23f[_0x4f07b0(0xa8)],{'ignoreExpiration':_0x28f23f[_0x4f07b0(0x30a)]===0x0});if(_0x1a8feb[_0x4f07b0(0x40d)]!==_0x454ccb[_0x4f07b0(0x40d)]||Ge!==_0x454ccb[_0x4f07b0(0x399)])throw new re();return _0x155f32();}catch(_0x3e6d86){throw Bo[_0x4f07b0(0x622)](_0x3e6d86),new re();}}async function Go(_0x27b557,_0xcdde35,_0x474cb3){const _0x102937=a0_0x4b3f0f;let _0x1605ff=E['get'](_0x102937(0x37b))[_0x102937(0x671)],_0x5138e5=_0x27b557[_0x102937(0x2a0)](_0x102937(0x13e));if(_0x1605ff[_0x102937(0x18e)]===_0x5138e5)return _0x474cb3();if(_0x27b557['originalUrl'][_0x102937(0x531)]('/instance/create')){let _0x38c423=E[_0x102937(0x2a0)](_0x102937(0x148)),_0x129f3c=_0x27b557[_0x102937(0x103)][_0x102937(0x40d)];if(_0x38c423&&_0x129f3c[_0x102937(0x40c)]()['startsWith'](_0x38c423['toLowerCase']()))return _0x474cb3();if(!_0x5138e5)throw new oe('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x27b557['originalUrl']['includes'](_0x102937(0x5c5))&&!_0x5138e5)throw new oe('Missing\x20global\x20api\x20key',_0x102937(0xa4));if(_0x27b557[_0x102937(0x4ec)]['includes'](_0x102937(0x633))&&!_0x5138e5)throw new oe(_0x102937(0x670),_0x102937(0xa4));try{let _0x16d2ea=_0x27b557[_0x102937(0x154)];if((await ce[_0x102937(0x53d)][_0x102937(0x28c)](_0x16d2ea[_0x102937(0x40d)]))[_0x102937(0x13e)]===_0x5138e5)return _0x474cb3();}catch{}throw new re();}var sa={'jwt':qo,'apikey':Go},ka=require(a0_0x4b3f0f(0x170)),v=require(a0_0x4b3f0f(0x164)),S=(..._0x2339d1)=>{const _0x447880=a0_0x4b3f0f;let _0x4e771d={};return _0x2339d1[_0x447880(0x557)](_0xf31c7c=>_0x4e771d[_0xf31c7c]={'minLength':0x1,'description':_0x447880(0x2d1)+_0xf31c7c+_0x447880(0x2f6)}),{'if':{'propertyNames':{'enum':[..._0x2339d1]}},'then':{'properties':_0x4e771d}};},C={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'instanceName':{'type':a0_0x4b3f0f(0x4b9)}},...S(a0_0x4b3f0f(0x40d))},aa={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x4b3f0f(0x637)],...S('oldToken')},dn={'properties':{'key':{'type':a0_0x4b3f0f(0x64a),'properties':{'id':{'type':a0_0x4b3f0f(0x4b9)},'remoteJid':{'type':a0_0x4b3f0f(0x4b9)},'fromMe':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4b3f0f(0x110),a0_0x4b3f0f(0x38c)],...S('id',a0_0x4b3f0f(0x110))},'message':{'type':a0_0x4b3f0f(0x64a)}}},Y={'properties':{'delay':{'type':a0_0x4b3f0f(0x4e7),'description':a0_0x4b3f0f(0x619)},'presence':{'type':'string','enum':[a0_0x4b3f0f(0x385),'available',a0_0x4b3f0f(0x643),a0_0x4b3f0f(0x9f),a0_0x4b3f0f(0x1e4)]}}},X={'type':a0_0x4b3f0f(0x4b9),'pattern':a0_0x4b3f0f(0x368),'description':'Invalid\x20format'},oa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'textMessage':{'type':a0_0x4b3f0f(0x64a),'properties':{'text':{'type':a0_0x4b3f0f(0x4b9)}},'required':['text'],...S(a0_0x4b3f0f(0x506))}},'required':[a0_0x4b3f0f(0x17e),a0_0x4b3f0f(0x465)]},ra={'type':a0_0x4b3f0f(0x4b9),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x4b3f0f(0x481)},pn={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'number':{...ra},'options':{...Y},'textMessage':{'type':a0_0x4b3f0f(0x64a),'properties':{'text':{'type':a0_0x4b3f0f(0x4b9)}},'required':['text'],...S(a0_0x4b3f0f(0x506))}},'required':[a0_0x4b3f0f(0x17e),a0_0x4b3f0f(0x465)]},gn={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'number':{...ra},'options':{...Y},'mediaMessage':{'type':a0_0x4b3f0f(0x64a),'properties':{'mediatype':{'type':a0_0x4b3f0f(0x4b9),'enum':[a0_0x4b3f0f(0x1d8),a0_0x4b3f0f(0x36c),a0_0x4b3f0f(0x258),'audio']},'media':{'type':a0_0x4b3f0f(0x4b9)},'fileName':{'type':a0_0x4b3f0f(0x4b9)},'caption':{'type':a0_0x4b3f0f(0x4b9)}},'required':['mediatype',a0_0x4b3f0f(0x3e9)],...S(a0_0x4b3f0f(0x61c),a0_0x4b3f0f(0x5a6),'media')}},'required':[a0_0x4b3f0f(0x514),a0_0x4b3f0f(0x465)]},ia={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'number':{...X},'options':{...Y},'stickerMessage':{'type':a0_0x4b3f0f(0x64a),'properties':{'image':{'type':a0_0x4b3f0f(0x4b9)}},'required':[a0_0x4b3f0f(0x1d8)],...S('image')}},'required':[a0_0x4b3f0f(0x1a2),a0_0x4b3f0f(0x465)]},na={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x4b3f0f(0x4b9),'enum':[a0_0x4b3f0f(0x506),'image','audio',a0_0x4b3f0f(0x258)]},'content':{'type':a0_0x4b3f0f(0x4b9)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x4b3f0f(0x4b9)},'font':{'type':a0_0x4b3f0f(0x4e7),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4b3f0f(0x4b9),'pattern':a0_0x4b3f0f(0x155),'description':a0_0x4b3f0f(0x3de)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x4b3f0f(0x533),'content'],...S(a0_0x4b3f0f(0x533),a0_0x4b3f0f(0x5bd))}},'required':[a0_0x4b3f0f(0x125)]},ca={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'mediaMessage':{'type':a0_0x4b3f0f(0x64a),'properties':{'mediatype':{'type':a0_0x4b3f0f(0x4b9),'enum':[a0_0x4b3f0f(0x1d8),a0_0x4b3f0f(0x36c),'video',a0_0x4b3f0f(0x642)]},'media':{'type':a0_0x4b3f0f(0x4b9)},'fileName':{'type':a0_0x4b3f0f(0x4b9)},'caption':{'type':'string'}},'required':[a0_0x4b3f0f(0x242),'media'],...S(a0_0x4b3f0f(0x61c),a0_0x4b3f0f(0x5a6),a0_0x4b3f0f(0x3e9))}},'required':['mediaMessage',a0_0x4b3f0f(0x465)]},la={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x4b3f0f(0x4b9)}},'required':[a0_0x4b3f0f(0x642)],...S(a0_0x4b3f0f(0x642))}},'required':[a0_0x4b3f0f(0x4e8),a0_0x4b3f0f(0x465)]},ua={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'number':{...X},'pollMessage':{'type':a0_0x4b3f0f(0x64a),'properties':{'name':{'type':a0_0x4b3f0f(0x4b9)},'selectableCount':{'type':a0_0x4b3f0f(0x465)},'values':{'type':a0_0x4b3f0f(0x41d),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4b3f0f(0x11c),a0_0x4b3f0f(0x265),a0_0x4b3f0f(0x57a)],...S(a0_0x4b3f0f(0x11c),a0_0x4b3f0f(0x265),a0_0x4b3f0f(0x57a))}},'required':[a0_0x4b3f0f(0x465),a0_0x4b3f0f(0x305)]},da={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'number':{...X},'options':{...Y},'buttonMessage':{'type':a0_0x4b3f0f(0x64a),'properties':{'title':{'type':a0_0x4b3f0f(0x4b9)},'description':{'type':'string'},'footerText':{'type':a0_0x4b3f0f(0x4b9)},'buttons':{'type':a0_0x4b3f0f(0x41d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4b3f0f(0x64a),'properties':{'buttonText':{'type':a0_0x4b3f0f(0x4b9)},'buttonId':{'type':a0_0x4b3f0f(0x4b9)}},'required':[a0_0x4b3f0f(0x428),a0_0x4b3f0f(0x4a1)],...S(a0_0x4b3f0f(0x428),a0_0x4b3f0f(0x4a1))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x4b3f0f(0x4b9)},'fileName':{'type':a0_0x4b3f0f(0x4b9)},'mediatype':{'type':a0_0x4b3f0f(0x4b9),'enum':[a0_0x4b3f0f(0x1d8),a0_0x4b3f0f(0x36c),a0_0x4b3f0f(0x258)]}},'required':['media',a0_0x4b3f0f(0x242)],...S('media',a0_0x4b3f0f(0x61c))}},'required':[a0_0x4b3f0f(0x46c),a0_0x4b3f0f(0x5d0)],...S(a0_0x4b3f0f(0x46c),'description')}},'required':[a0_0x4b3f0f(0x465),a0_0x4b3f0f(0x591)]},pa={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'number':{...X},'options':{...Y},'locationMessage':{'type':a0_0x4b3f0f(0x64a),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x4b3f0f(0x465)},'name':{'type':a0_0x4b3f0f(0x4b9)},'address':{'type':a0_0x4b3f0f(0x4b9)}},'required':[a0_0x4b3f0f(0x28f),a0_0x4b3f0f(0x5dd)],...S(a0_0x4b3f0f(0x11c),'addresss')}},'required':[a0_0x4b3f0f(0x465),a0_0x4b3f0f(0x4fe)]},ga={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'number':{...X},'options':{...Y},'listMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':'string'},'buttonText':{'type':a0_0x4b3f0f(0x4b9)},'sections':{'type':a0_0x4b3f0f(0x41d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4b3f0f(0x64a),'properties':{'title':{'type':a0_0x4b3f0f(0x4b9)},'rows':{'type':a0_0x4b3f0f(0x41d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4b3f0f(0x64a),'properties':{'title':{'type':a0_0x4b3f0f(0x4b9)},'description':{'type':'string'},'rowId':{'type':'string'}},'required':[a0_0x4b3f0f(0x46c),a0_0x4b3f0f(0x540),'rowId'],...S(a0_0x4b3f0f(0x46c),'description','rowId')}}},'required':['title',a0_0x4b3f0f(0x524)],...S('title')}}},'required':[a0_0x4b3f0f(0x46c),'description',a0_0x4b3f0f(0x428),a0_0x4b3f0f(0x241)],...S(a0_0x4b3f0f(0x46c),'description','buttonText','footerText')}},'required':[a0_0x4b3f0f(0x465),a0_0x4b3f0f(0x4ce)]},ma={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...X},'options':{...Y},'contactMessage':{'type':a0_0x4b3f0f(0x41d),'items':{'type':a0_0x4b3f0f(0x64a),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x4b3f0f(0x4b9),'minLength':0xa}},'required':[a0_0x4b3f0f(0x550),'phoneNumber'],...S('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x4b3f0f(0x4ba)]},ha={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'reactionMessage':{'type':a0_0x4b3f0f(0x64a),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x4b3f0f(0x4b9)},'remoteJid':{'type':a0_0x4b3f0f(0x4b9)},'fromMe':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4b3f0f(0x110),'fromMe'],...S('id',a0_0x4b3f0f(0x110))},'reaction':{'type':'string'}},'required':[a0_0x4b3f0f(0x268),'reaction'],...S(a0_0x4b3f0f(0x13d))}},'required':[a0_0x4b3f0f(0x34f)]},fa={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'numbers':{'type':a0_0x4b3f0f(0x41d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4b3f0f(0x4b9),'pattern':a0_0x4b3f0f(0x155),'description':a0_0x4b3f0f(0x66d)}}}},wa={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'readMessages':{'type':a0_0x4b3f0f(0x41d),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x4b3f0f(0x4b9)},'fromMe':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4b3f0f(0x4b9)}},'required':['id','fromMe','remoteJid'],...S('id',a0_0x4b3f0f(0x110))}}},'required':[a0_0x4b3f0f(0x2c2)]},ya={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':'string','enum':[a0_0x4b3f0f(0x592),a0_0x4b3f0f(0xc3)]},'profile':{'type':a0_0x4b3f0f(0x4b9),'enum':[a0_0x4b3f0f(0x592),a0_0x4b3f0f(0x572),'contact_blacklist',a0_0x4b3f0f(0xc3)]},'status':{'type':a0_0x4b3f0f(0x4b9),'enum':[a0_0x4b3f0f(0x592),a0_0x4b3f0f(0x572),'contact_blacklist',a0_0x4b3f0f(0xc3)]},'online':{'type':'string','enum':[a0_0x4b3f0f(0x592),a0_0x4b3f0f(0xfd)]},'last':{'type':a0_0x4b3f0f(0x4b9),'enum':[a0_0x4b3f0f(0x592),a0_0x4b3f0f(0x572),a0_0x4b3f0f(0x5af),a0_0x4b3f0f(0xc3)]},'groupadd':{'type':a0_0x4b3f0f(0x4b9),'enum':[a0_0x4b3f0f(0x592),a0_0x4b3f0f(0x572),a0_0x4b3f0f(0x5af),a0_0x4b3f0f(0xc3)]}},'required':['readreceipts',a0_0x4b3f0f(0x460),a0_0x4b3f0f(0x238),a0_0x4b3f0f(0x54c),a0_0x4b3f0f(0x28e),'groupadd'],...S('readreceipts',a0_0x4b3f0f(0x460),a0_0x4b3f0f(0x238),a0_0x4b3f0f(0x54c),a0_0x4b3f0f(0x28e),a0_0x4b3f0f(0x1bd))}},'required':[a0_0x4b3f0f(0x394)]},ba={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x4b3f0f(0x4b9)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]}},'required':['id','fromMe','remoteJid'],...S('id',a0_0x4b3f0f(0x110))},'messageTimestamp':{'type':a0_0x4b3f0f(0x4e7),'minLength':0x1}},'required':[a0_0x4b3f0f(0x268)],...S(a0_0x4b3f0f(0x2fa))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x4b3f0f(0x4c9),a0_0x4b3f0f(0x21d)]},Sa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'id':{'type':a0_0x4b3f0f(0x4b9)},'fromMe':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4b3f0f(0x4b9)},'participant':{'type':a0_0x4b3f0f(0x4b9)}},'required':['id',a0_0x4b3f0f(0x38c),'remoteJid'],...S('id',a0_0x4b3f0f(0x110),a0_0x4b3f0f(0x3fa))},Ea={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x4b3f0f(0x4b9),'minLength':0x1},'pushName':{'type':a0_0x4b3f0f(0x4b9),'minLength':0x1},'id':{'type':a0_0x4b3f0f(0x4b9),'minLength':0x1}},...S('_id','id',a0_0x4b3f0f(0x420))}}},va={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'name':{'type':'string'}},...S(a0_0x4b3f0f(0x11c))},Ca={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'status':{'type':a0_0x4b3f0f(0x4b9)}},...S('status')},Ee={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{'type':a0_0x4b3f0f(0x4b9)},'picture':{'type':a0_0x4b3f0f(0x4b9)}}},Na={'type':a0_0x4b3f0f(0x64a),'properties':{'wuid':{'type':a0_0x4b3f0f(0x4b9)},'name':{'type':'string'},'picture':{'type':'string'},'status':{'type':a0_0x4b3f0f(0x4b9)},'isBusiness':{'type':a0_0x4b3f0f(0x3d4)}}},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'where':{'type':a0_0x4b3f0f(0x64a),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x4b3f0f(0x38c),a0_0x4b3f0f(0x110),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x4b3f0f(0x4b9),'minLength':0x1,'description':a0_0x4b3f0f(0x430)},'id':{'type':a0_0x4b3f0f(0x4b9),'minLength':0x1,'description':a0_0x4b3f0f(0x430)},'fromMe':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x4b3f0f(0x64a)}},...S(a0_0x4b3f0f(0x2e8))},'limit':{'type':a0_0x4b3f0f(0x4e7)}}},mn={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'where':{'type':a0_0x4b3f0f(0x64a),'properties':{'_id':{'type':a0_0x4b3f0f(0x4b9)},'remoteJid':{'type':'string'},'id':{'type':'string'},'fromMe':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x4b3f0f(0x4b9)},'status':{'type':a0_0x4b3f0f(0x4b9),'enum':[a0_0x4b3f0f(0x515),a0_0x4b3f0f(0x4e9),a0_0x4b3f0f(0x32c),'DELIVERY_ACK',a0_0x4b3f0f(0x45e),'PLAYED']}},...S(a0_0x4b3f0f(0x2e8),a0_0x4b3f0f(0x110),'id',a0_0x4b3f0f(0x238))},'limit':{'type':a0_0x4b3f0f(0x4e7)}}},Ra={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'number':{...X},'presence':{'type':a0_0x4b3f0f(0x4b9),'enum':[a0_0x4b3f0f(0x385),a0_0x4b3f0f(0x349),a0_0x4b3f0f(0x643),a0_0x4b3f0f(0x9f),a0_0x4b3f0f(0x1e4)]}},'required':[a0_0x4b3f0f(0x214),a0_0x4b3f0f(0x465)]},Ma={'$id':(0x0,v['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x4b3f0f(0x4b9)},'description':{'type':a0_0x4b3f0f(0x4b9)},'profilePicture':{'type':a0_0x4b3f0f(0x4b9)},'participants':{'type':a0_0x4b3f0f(0x41d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4b3f0f(0x4b9),'minLength':0xa,'pattern':a0_0x4b3f0f(0x60b),'description':a0_0x4b3f0f(0x3b0)}}},'required':['subject',a0_0x4b3f0f(0x3b8)],...S(a0_0x4b3f0f(0x5e7),a0_0x4b3f0f(0x540),a0_0x4b3f0f(0x224))},ve={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'groupJid':{'type':a0_0x4b3f0f(0x4b9),'pattern':a0_0x4b3f0f(0x5d2)}},'required':[a0_0x4b3f0f(0x5e1)],...S(a0_0x4b3f0f(0x5e1))},Aa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x4b3f0f(0x4b9),'enum':[a0_0x4b3f0f(0x4ab),'remove',a0_0x4b3f0f(0x44b),a0_0x4b3f0f(0x272)]},'participants':{'type':a0_0x4b3f0f(0x41d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4b3f0f(0x4b9),'minLength':0xa,'pattern':a0_0x4b3f0f(0x60b),'description':a0_0x4b3f0f(0x3b0)}}},'required':[a0_0x4b3f0f(0x5e1),a0_0x4b3f0f(0xca),a0_0x4b3f0f(0x3b8)],...S(a0_0x4b3f0f(0x5e1),'action')},Ia={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4b3f0f(0x4b9)},'expiration':{'type':a0_0x4b3f0f(0x465),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x4b3f0f(0x5e1),'expiration'],...S(a0_0x4b3f0f(0x5e1),'expiration')},Da={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'groupJid':{'type':a0_0x4b3f0f(0x4b9)},'image':{'type':'string'}},'required':[a0_0x4b3f0f(0x5e1),a0_0x4b3f0f(0x1d8)],...S('groupJid',a0_0x4b3f0f(0x1d8))},_a={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'groupJid':{'type':a0_0x4b3f0f(0x4b9)},'description':{'type':a0_0x4b3f0f(0x4b9)}},'required':[a0_0x4b3f0f(0x5e1),'description'],...S(a0_0x4b3f0f(0x5e1),'description')},Oa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4b3f0f(0x4b9)},'name':{'type':a0_0x4b3f0f(0x4b9)}},'required':[a0_0x4b3f0f(0x5e1),a0_0x4b3f0f(0x11c)],...S('groupJid',a0_0x4b3f0f(0x11c))},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'groupJid':{'type':a0_0x4b3f0f(0x4b9)},'setting':{'type':a0_0x4b3f0f(0x4b9),'enum':[a0_0x4b3f0f(0x2ec),'not_announcement',a0_0x4b3f0f(0x586),a0_0x4b3f0f(0x57c)]}},'required':[a0_0x4b3f0f(0x5e1),'setting'],...S(a0_0x4b3f0f(0x5e1),a0_0x4b3f0f(0x395))},xa={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'inviteCode':{'type':a0_0x4b3f0f(0x4b9)}},'required':[a0_0x4b3f0f(0x327)],...S(a0_0x4b3f0f(0x327))},$a={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'url':{'type':a0_0x4b3f0f(0x4b9)},'enabled':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]}},'required':[a0_0x4b3f0f(0x4fd),a0_0x4b3f0f(0x500)]},hn={'$id':(0x0,v['v4'])(),'type':a0_0x4b3f0f(0x64a),'properties':{'local_map':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x4b3f0f(0x3d4),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x4b3f0f(0x36d),a0_0x4b3f0f(0xa2),'QRCODE_UPDATED',a0_0x4b3f0f(0x25b),'MESSAGES_UPDATE','MESSAGES_UPSERT','SEND_MESSAGE',a0_0x4b3f0f(0x606),'CONTACTS_UPSERT',a0_0x4b3f0f(0xa3),a0_0x4b3f0f(0x2e4),a0_0x4b3f0f(0x549),'CHATS_UPSERT','CHATS_UPDATE',a0_0x4b3f0f(0x360),a0_0x4b3f0f(0xac),a0_0x4b3f0f(0x279),'GROUPS_UPDATE',a0_0x4b3f0f(0x565)],...S(a0_0x4b3f0f(0x36d),a0_0x4b3f0f(0xa2),a0_0x4b3f0f(0x2e6),a0_0x4b3f0f(0x25b),a0_0x4b3f0f(0x10c),a0_0x4b3f0f(0x5c8),'SEND_MESSAGE',a0_0x4b3f0f(0x606),a0_0x4b3f0f(0xc6),a0_0x4b3f0f(0xa3),a0_0x4b3f0f(0x2e4),a0_0x4b3f0f(0x549),a0_0x4b3f0f(0xaa),'CHATS_UPDATE',a0_0x4b3f0f(0x360),a0_0x4b3f0f(0xac),a0_0x4b3f0f(0x279),a0_0x4b3f0f(0x5c6),a0_0x4b3f0f(0x565))},Je=class{},We=class extends W{constructor(_0x26defc){const _0x4ca761=a0_0x4b3f0f;super(_0x26defc),this[_0x4ca761(0x32b)]=_0x26defc;}[a0_0x4b3f0f(0x270)](_0x367a98){return ks(_0x367a98);}async[a0_0x4b3f0f(0x528)](_0x4f10a2){const _0x4fc344=a0_0x4b3f0f;if(_0x4f10a2[_0x4fc344(0x529)]!==0x0)try{return{'insertCount':(await this[_0x4fc344(0x270)](_0x4f10a2[0x0][_0x4fc344(0x53a)])[_0x4fc344(0x5fb)]([..._0x4f10a2]))['length']};}catch(_0x2d71e4){return _0x2d71e4;}}async[a0_0x4b3f0f(0x527)](_0x36c9a5){const _0x49adc1=a0_0x4b3f0f;try{return{'deletedCount':(await this[_0x49adc1(0x270)](_0x36c9a5[_0x49adc1(0xa7)][_0x49adc1(0x53a)])['deleteMany']({..._0x36c9a5['where']}))['deletedCount']};}catch(_0x5c8b6d){return{'error':_0x5c8b6d?.[_0x49adc1(0x16e)]()};}}async[a0_0x4b3f0f(0x3f0)](_0x1cd152,_0x291c06){const _0x3f1e69=a0_0x4b3f0f;try{if(_0x1cd152['length']===0x0)return;let _0x2b660d=this[_0x3f1e69(0x270)](_0x291c06),_0x11848c=_0x1cd152[_0x3f1e69(0x53c)](_0x19e6c4=>({'updateOne':{'filter':{'_id':_0x19e6c4[_0x3f1e69(0x2e8)],'owner':_0x291c06},'update':{..._0x19e6c4}}})),{modifiedCount:_0x3df83d}=await _0x2b660d[_0x3f1e69(0x2c9)](_0x11848c);return{'insertCount':_0x3df83d};}catch{return;}}async['find'](_0x3a9b88){const _0x25c020=a0_0x4b3f0f;try{return await this[_0x25c020(0x270)](_0x3a9b88[_0x25c020(0xa7)]['owner'])[_0x25c020(0x28c)]({..._0x3a9b88[_0x25c020(0xa7)]})['limit'](_0x3a9b88?.[_0x25c020(0x183)]??0x0)[_0x25c020(0x1bc)]();}catch{return[];}}async[a0_0x4b3f0f(0x134)](_0x39cedb){const _0x29244d=a0_0x4b3f0f;try{return await this[_0x29244d(0x270)](_0x39cedb[_0x29244d(0xa7)][_0x29244d(0x53a)])[_0x29244d(0x134)]({..._0x39cedb[_0x29244d(0xa7)]})[_0x29244d(0x1bc)]();}catch{return null;}}async[a0_0x4b3f0f(0x486)](_0x18e8b7){const _0x229b71=a0_0x4b3f0f;try{return await this[_0x229b71(0x270)](_0x18e8b7)[_0x229b71(0x282)][_0x229b71(0x18a)](),{'success':!0x0};}catch(_0x5b754a){return console['error'](_0x5b754a),{'success':!0x1,'error':_0x5b754a};}}},He=require(a0_0x4b3f0f(0x211)),Cn=require('express-async-errors'),is=new N(a0_0x4b3f0f(0x273)),k=class{constructor(){}[a0_0x4b3f0f(0x41a)](_0x47e4d6,_0x267c96=!0x0){const _0x480a72=a0_0x4b3f0f;let _0xed8378='/'+_0x47e4d6;return _0x267c96&&(_0xed8378+=_0x480a72(0x556)),_0xed8378;}async[a0_0x4b3f0f(0x605)](_0x355583){const _0x18a4cd=a0_0x4b3f0f;let {request:_0x1d5da6,schema:_0x4ee833,ClassRef:_0x155ffe,execute:_0x280866}=_0x355583,_0x527fef=new _0x155ffe(),_0xe16a1a=_0x1d5da6[_0x18a4cd(0x103)],_0x3a0dfa=_0x1d5da6[_0x18a4cd(0x154)];_0x1d5da6?.[_0x18a4cd(0x59b)]&&Object[_0x18a4cd(0x1c8)](_0x1d5da6['query'])[_0x18a4cd(0x529)]>0x0&&Object[_0x18a4cd(0x3dd)](_0x3a0dfa,_0x1d5da6[_0x18a4cd(0x59b)]),_0x1d5da6['originalUrl'][_0x18a4cd(0x531)](_0x18a4cd(0x4c6))&&Object[_0x18a4cd(0x3dd)](_0x3a0dfa,_0xe16a1a),Object[_0x18a4cd(0x3dd)](_0x527fef,_0xe16a1a);let _0x5061b2=_0x4ee833?(0x0,He['validate'])(_0x527fef,_0x4ee833):{'valid':!0x0,'errors':[]};if(!_0x5061b2[_0x18a4cd(0x616)]){let _0x295c2e=_0x5061b2[_0x18a4cd(0xe6)][_0x18a4cd(0x53c)](({property:_0x5e822b,stack:_0x253968,schema:_0x52d5a8})=>{const _0x1c4407=_0x18a4cd;let _0x30885d;return _0x52d5a8[_0x1c4407(0x540)]?_0x30885d=_0x52d5a8[_0x1c4407(0x540)]:_0x30885d=_0x253968[_0x1c4407(0x2f7)](_0x1c4407(0x648),''),{'property':_0x5e822b[_0x1c4407(0x2f7)](_0x1c4407(0x648),''),'message':_0x30885d};});throw is['error']([..._0x295c2e]),new g(..._0x295c2e);}return await _0x280866(_0x3a0dfa,_0x527fef);}async[a0_0x4b3f0f(0xef)](_0x506da3){const _0xc4fcc=a0_0x4b3f0f;let {request:_0x42e63e,ClassRef:_0x5e1ffc,schema:_0x1b04e6,execute:_0x5aa729}=_0x506da3,_0x310a68=_0x42e63e[_0xc4fcc(0x59b)];if(!_0x310a68?.[_0xc4fcc(0x5e1)])throw new g(_0xc4fcc(0x54b),_0xc4fcc(0x1a0));let _0x22c08e=_0x42e63e[_0xc4fcc(0x154)],_0x397c59=_0x42e63e[_0xc4fcc(0x103)],_0x10468f=new _0x5e1ffc();Object['assign'](_0x397c59,_0x310a68),Object[_0xc4fcc(0x3dd)](_0x10468f,_0x397c59);let _0x2ee0cf=(0x0,He['validate'])(_0x10468f,_0x1b04e6);if(!_0x2ee0cf[_0xc4fcc(0x616)]){let _0x5d54b1=_0x2ee0cf['errors'][_0xc4fcc(0x53c)](({property:_0x4d241c,stack:_0x2be672,schema:_0xd03bd2})=>{const _0x4c9478=_0xc4fcc;let _0x14c963;return _0xd03bd2[_0x4c9478(0x540)]?_0x14c963=_0xd03bd2[_0x4c9478(0x540)]:_0x14c963=_0x2be672['replace']('instance.',''),{'property':_0x4d241c['replace'](_0x4c9478(0x648),''),'message':_0x14c963};});throw is[_0xc4fcc(0x622)]([..._0x5d54b1]),new g(..._0x5d54b1);}return await _0x5aa729(_0x22c08e,_0x10468f);}async[a0_0x4b3f0f(0x1f0)](_0x58160f){const _0x49e3aa=a0_0x4b3f0f;let {request:_0x4cbd27,ClassRef:_0x39413c,schema:_0xd7b439,execute:_0x2bd397}=_0x58160f,_0x233dc4=_0x4cbd27['body'];if(!_0x233dc4?.[_0x49e3aa(0x327)])throw new g(_0x49e3aa(0x589),_0x49e3aa(0x473));let _0xc2ee85=_0x4cbd27[_0x49e3aa(0x154)],_0xf74aac=_0x4cbd27[_0x49e3aa(0x103)],_0x77d704=new _0x39413c();Object[_0x49e3aa(0x3dd)](_0xf74aac,_0x233dc4),Object['assign'](_0x77d704,_0xf74aac);let _0x52de73=(0x0,He[_0x49e3aa(0x63b)])(_0x77d704,_0xd7b439);if(!_0x52de73[_0x49e3aa(0x616)]){let _0x2be4bf=_0x52de73[_0x49e3aa(0xe6)]['map'](({property:_0x1772fc,stack:_0x542cc5,schema:_0x2b325a})=>{const _0x5d01ce=_0x49e3aa;let _0x2e5b88;return _0x2b325a[_0x5d01ce(0x540)]?_0x2e5b88=_0x2b325a[_0x5d01ce(0x540)]:_0x2e5b88=_0x542cc5['replace'](_0x5d01ce(0x648),''),{'property':_0x1772fc[_0x5d01ce(0x2f7)](_0x5d01ce(0x648),''),'message':_0x2e5b88};});throw is[_0x49e3aa(0x622)]([..._0x2be4bf]),new g(..._0x2be4bf);}return await _0x2bd397(_0xc2ee85,_0x77d704);}},b=class{},Ke=class extends k{constructor(..._0x3fe3a2){const _0xcba155=a0_0x4b3f0f;super(),this[_0xcba155(0x4ad)]=(0x0,ka[_0xcba155(0x1ee)])(),this[_0xcba155(0x4ad)]['post'](this[_0xcba155(0x41a)](_0xcba155(0xd4)),..._0x3fe3a2,async(_0x394c67,_0x15d799)=>{const _0x189923=_0xcba155;let _0x2d67fb=await this[_0x189923(0x605)]({'request':_0x394c67,'schema':Ra,'ClassRef':$e,'execute':(_0x1d9474,_0x466fa7)=>D['updatePresence'](_0x1d9474,_0x466fa7)});return _0x15d799['status'](0xc9)['json'](_0x2d67fb);})[_0xcba155(0x126)](this[_0xcba155(0x41a)]('whatsappNumbers'),..._0x3fe3a2,async(_0x1b96fb,_0xde2f40)=>{const _0x31203e=_0xcba155;let _0x25d71d=await this['dataValidate']({'request':_0x1b96fb,'schema':fa,'ClassRef':ke,'execute':(_0x244e24,_0xa5c98a)=>D[_0x31203e(0x1c4)](_0x244e24,_0xa5c98a)});return _0xde2f40[_0x31203e(0x238)](0xc9)[_0x31203e(0x4cd)](_0x25d71d);})['post'](this[_0xcba155(0x41a)](_0xcba155(0x5a9)),..._0x3fe3a2,async(_0x311c36,_0xfa3c03)=>{const _0x57448f=_0xcba155;let _0xc281db=await this['dataValidate']({'request':_0x311c36,'schema':C,'ClassRef':b,'execute':(_0x54c742,_0x6faf80)=>D[_0x57448f(0x5a9)](_0x54c742,_0x6faf80)});return _0xfa3c03['status'](0xc9)[_0x57448f(0x4cd)](_0xc281db);})[_0xcba155(0x325)](this[_0xcba155(0x41a)](_0xcba155(0x2c8)),..._0x3fe3a2,async(_0xe9473c,_0x187ed6)=>{const _0x2ae2aa=_0xcba155;let _0x17a29b=await this[_0x2ae2aa(0x605)]({'request':_0xe9473c,'schema':wa,'ClassRef':Ve,'execute':(_0x23d511,_0x5968e0)=>D[_0x2ae2aa(0x573)](_0x23d511,_0x5968e0)});return _0x187ed6[_0x2ae2aa(0x238)](0xc9)[_0x2ae2aa(0x4cd)](_0x17a29b);})[_0xcba155(0x325)](this[_0xcba155(0x41a)]('archiveChat'),..._0x3fe3a2,async(_0x1fb435,_0xafda32)=>{const _0x5e645f=_0xcba155;let _0x1f9189=await this[_0x5e645f(0x605)]({'request':_0x1fb435,'schema':ba,'ClassRef':je,'execute':(_0x423fbb,_0x290cc5)=>D[_0x5e645f(0xf3)](_0x423fbb,_0x290cc5)});return _0xafda32[_0x5e645f(0x238)](0xc9)['json'](_0x1f9189);})[_0xcba155(0x527)](this[_0xcba155(0x41a)](_0xcba155(0x2ce)),..._0x3fe3a2,async(_0x200c09,_0x22772e)=>{const _0x3adf06=_0xcba155;let _0x242e03=await this['dataValidate']({'request':_0x200c09,'schema':Sa,'ClassRef':Be,'execute':(_0x26d858,_0x323042)=>D['deleteMessage'](_0x26d858,_0x323042)});return _0x22772e[_0x3adf06(0x238)](0xc9)[_0x3adf06(0x4cd)](_0x242e03);})['post'](this['routerPath']('fetchProfilePictureUrl'),..._0x3fe3a2,async(_0x6008c1,_0x2c9f08)=>{const _0x1244cc=_0xcba155;let _0x3700e0=await this[_0x1244cc(0x605)]({'request':_0x6008c1,'schema':Ee,'ClassRef':Se,'execute':(_0x4eed31,_0x4d37aa)=>D[_0x1244cc(0x23e)](_0x4eed31,_0x4d37aa)});return _0x2c9f08[_0x1244cc(0x238)](0xc8)[_0x1244cc(0x4cd)](_0x3700e0);})[_0xcba155(0x126)](this[_0xcba155(0x41a)](_0xcba155(0x2fd)),..._0x3fe3a2,async(_0x5840a0,_0x1abbb6)=>{const _0x1e4452=_0xcba155;let _0x47137f=await this[_0x1e4452(0x605)]({'request':_0x5840a0,'schema':Na,'ClassRef':Se,'execute':(_0x40699c,_0x3e9338)=>D[_0x1e4452(0x2fd)](_0x40699c,_0x3e9338)});return _0x1abbb6[_0x1e4452(0x238)](0xc8)[_0x1e4452(0x4cd)](_0x47137f);})['post'](this[_0xcba155(0x41a)](_0xcba155(0x55d)),..._0x3fe3a2,async(_0x15083e,_0x5492e1)=>{const _0x4da53c=_0xcba155;let _0x4860ab=await this['dataValidate']({'request':_0x15083e,'schema':Ea,'ClassRef':Je,'execute':(_0x541ed7,_0x3cdc7b)=>D[_0x4da53c(0x1c1)](_0x541ed7,_0x3cdc7b)});return _0x5492e1[_0x4da53c(0x238)](0xc8)[_0x4da53c(0x4cd)](_0x4860ab);})[_0xcba155(0x126)](this[_0xcba155(0x41a)](_0xcba155(0x462)),..._0x3fe3a2,async(_0x15743e,_0x43870b)=>{const _0x17ef2d=_0xcba155;let _0x3ec6ee=await this[_0x17ef2d(0x605)]({'request':_0x15743e,'schema':null,'ClassRef':Object,'execute':(_0x4218c2,_0x5ab91b)=>D[_0x17ef2d(0x462)](_0x4218c2,_0x5ab91b)});return _0x43870b[_0x17ef2d(0x238)](0xc9)['json'](_0x3ec6ee);})[_0xcba155(0x126)](this['routerPath'](_0xcba155(0x290)),..._0x3fe3a2,async(_0x4bb1cf,_0x44382a)=>{const _0x771e09=_0xcba155;let _0x334223=await this[_0x771e09(0x605)]({'request':_0x4bb1cf,'schema':Ta,'ClassRef':Pe,'execute':(_0x31affd,_0x3323a1)=>D['fetchMessages'](_0x31affd,_0x3323a1)});return _0x44382a[_0x771e09(0x238)](0xc8)[_0x771e09(0x4cd)](_0x334223);})[_0xcba155(0x2a0)](this['routerPath']('findChats'),..._0x3fe3a2,async(_0x5b24ef,_0x36df77)=>{const _0x2b63dc=_0xcba155;let _0x3afe5d=await this[_0x2b63dc(0x605)]({'request':_0x5b24ef,'schema':null,'ClassRef':b,'execute':_0x5eaa40=>D['fetchChats'](_0x5eaa40)});return _0x36df77[_0x2b63dc(0x238)](0xc8)[_0x2b63dc(0x4cd)](_0x3afe5d);})[_0xcba155(0x2a0)](this[_0xcba155(0x41a)]('fetchPrivacySettings'),..._0x3fe3a2,async(_0x1a241b,_0x1d1a92)=>{const _0x5ad215=_0xcba155;let _0x29fe1c=await this[_0x5ad215(0x605)]({'request':_0x1a241b,'schema':null,'ClassRef':b,'execute':_0x49ca9c=>D[_0x5ad215(0x3e5)](_0x49ca9c)});return _0x1d1a92[_0x5ad215(0x238)](0xc8)[_0x5ad215(0x4cd)](_0x29fe1c);})[_0xcba155(0x325)](this['routerPath'](_0xcba155(0x316)),..._0x3fe3a2,async(_0x511477,_0x15d18a)=>{const _0x487ec3=_0xcba155;let _0x17431c=await this[_0x487ec3(0x605)]({'request':_0x511477,'schema':ya,'ClassRef':Fe,'execute':(_0x4e5c9d,_0xc26a0c)=>D['updatePrivacySettings'](_0x4e5c9d,_0xc26a0c)});return _0x15d18a['status'](0xc9)[_0x487ec3(0x4cd)](_0x17431c);})['post'](this[_0xcba155(0x41a)]('fetchBusinessProfile'),..._0x3fe3a2,async(_0xe937aa,_0x40d25b)=>{const _0x428b6e=_0xcba155;let _0x1f9e36=await this[_0x428b6e(0x605)]({'request':_0xe937aa,'schema':Ee,'ClassRef':he,'execute':(_0x52ed45,_0x3dee7f)=>D[_0x428b6e(0x56a)](_0x52ed45,_0x3dee7f)});return _0x40d25b['status'](0xc8)[_0x428b6e(0x4cd)](_0x1f9e36);})[_0xcba155(0x126)](this['routerPath']('updateProfileName'),..._0x3fe3a2,async(_0x164c6d,_0x3caec4)=>{const _0x4a03cf=_0xcba155;let _0x218a74=await this[_0x4a03cf(0x605)]({'request':_0x164c6d,'schema':va,'ClassRef':Le,'execute':(_0x28c7de,_0x18abd4)=>D[_0x4a03cf(0x388)](_0x28c7de,_0x18abd4)});return _0x3caec4[_0x4a03cf(0x238)](0xc8)[_0x4a03cf(0x4cd)](_0x218a74);})[_0xcba155(0x126)](this[_0xcba155(0x41a)](_0xcba155(0x46e)),..._0x3fe3a2,async(_0x5e9e80,_0x3be717)=>{const _0x579e75=_0xcba155;let _0x4e2e0c=await this[_0x579e75(0x605)]({'request':_0x5e9e80,'schema':Ca,'ClassRef':Ue,'execute':(_0xc76cbd,_0x2f6223)=>D[_0x579e75(0x46e)](_0xc76cbd,_0x2f6223)});return _0x3be717['status'](0xc8)['json'](_0x4e2e0c);})[_0xcba155(0x325)](this[_0xcba155(0x41a)](_0xcba155(0x3dc)),..._0x3fe3a2,async(_0x2f5353,_0x30258b)=>{const _0x3d36ba=_0xcba155;let _0x378bb8=await this['dataValidate']({'request':_0x2f5353,'schema':Ee,'ClassRef':he,'execute':(_0x2b8b25,_0x45c8f9)=>D[_0x3d36ba(0x3dc)](_0x2b8b25,_0x45c8f9)});return _0x30258b[_0x3d36ba(0x238)](0xc8)[_0x3d36ba(0x4cd)](_0x378bb8);})['delete'](this[_0xcba155(0x41a)]('removeProfilePicture'),..._0x3fe3a2,async(_0x54f5e4,_0x553393)=>{const _0x3ca58a=_0xcba155;let _0x458480=await this[_0x3ca58a(0x605)]({'request':_0x54f5e4,'schema':Ee,'ClassRef':he,'execute':(_0x3179d3,_0x54023b)=>D[_0x3ca58a(0x1e9)](_0x3179d3,_0x54023b)});return _0x553393[_0x3ca58a(0x238)](0xc8)['json'](_0x458480);});}},La=require(a0_0x4b3f0f(0x170)),ze=class{},Qe=class{},Ye=class{},Xe=class{},Ze=class{},Z=class{},et=class{},tt=class extends Z{},st=class extends Z{},at=class extends k{constructor(..._0xf22499){const _0x245683=a0_0x4b3f0f;super(),this[_0x245683(0x4ad)]=(0x0,La[_0x245683(0x1ee)])(),this[_0x245683(0x4ad)]['post'](this['routerPath'](_0x245683(0x35d)),..._0xf22499,async(_0x14bfe6,_0x3dd9ce)=>{const _0x21d6bd=_0x245683;let _0x63fd3a=await this[_0x21d6bd(0x605)]({'request':_0x14bfe6,'schema':Ma,'ClassRef':ze,'execute':(_0x2c8c9f,_0x180c72)=>U[_0x21d6bd(0x476)](_0x2c8c9f,_0x180c72)});_0x3dd9ce['status'](0xc9)[_0x21d6bd(0x4cd)](_0x63fd3a);})['put'](this[_0x245683(0x41a)]('updateGroupPicture'),..._0xf22499,async(_0x1a423d,_0x1a6c2c)=>{const _0x2e94e7=_0x245683;let _0x5ee665=await this[_0x2e94e7(0xef)]({'request':_0x1a423d,'schema':Da,'ClassRef':Qe,'execute':(_0x46a901,_0x3b7e7e)=>U['updateGroupPicture'](_0x46a901,_0x3b7e7e)});_0x1a6c2c[_0x2e94e7(0x238)](0xc9)['json'](_0x5ee665);})[_0x245683(0x325)](this[_0x245683(0x41a)](_0x245683(0x5a4)),..._0xf22499,async(_0x3c0a08,_0x12f7b8)=>{const _0x4222f4=_0x245683;let _0x7bbd98=await this[_0x4222f4(0xef)]({'request':_0x3c0a08,'schema':_a,'ClassRef':Ye,'execute':(_0x422235,_0x51d8a0)=>U[_0x4222f4(0x5a4)](_0x422235,_0x51d8a0)});_0x12f7b8[_0x4222f4(0x238)](0xc9)[_0x4222f4(0x4cd)](_0x7bbd98);})[_0x245683(0x325)](this[_0x245683(0x41a)](_0x245683(0x49e)),..._0xf22499,async(_0xec34e0,_0x305c56)=>{const _0x3446f1=_0x245683;let _0x365a48=await this[_0x3446f1(0xef)]({'request':_0xec34e0,'schema':Oa,'ClassRef':Xe,'execute':(_0x25de58,_0x5271d4)=>U[_0x3446f1(0x49e)](_0x25de58,_0x5271d4)});_0x305c56['status'](0xc9)[_0x3446f1(0x4cd)](_0x365a48);})[_0x245683(0x325)](this[_0x245683(0x41a)](_0x245683(0x66a)),..._0xf22499,async(_0x15a58c,_0x11d33a)=>{const _0x1d3d60=_0x245683;let _0x1166ad=await this[_0x1d3d60(0xef)]({'request':_0x15a58c,'schema':Pa,'ClassRef':Ze,'execute':(_0x50d2b3,_0x13a5d3)=>U[_0x1d3d60(0x66a)](_0x50d2b3,_0x13a5d3)});_0x11d33a['status'](0xc9)[_0x1d3d60(0x4cd)](_0x1166ad);})['put'](this[_0x245683(0x41a)](_0x245683(0x2c1)),..._0xf22499,async(_0x2dc73d,_0x403926)=>{const _0x11ebc6=_0x245683;let _0x5b64ce=await this[_0x11ebc6(0xef)]({'request':_0x2dc73d,'schema':Ia,'ClassRef':st,'execute':(_0x4ba01e,_0x4b8e3c)=>U[_0x11ebc6(0x2c1)](_0x4ba01e,_0x4b8e3c)});_0x403926[_0x11ebc6(0x238)](0xc9)[_0x11ebc6(0x4cd)](_0x5b64ce);})[_0x245683(0x2a0)](this['routerPath'](_0x245683(0x3b2)),..._0xf22499,async(_0x2c5214,_0x528cbf)=>{const _0x99ed3e=_0x245683;let _0x4bea92=await this['groupValidate']({'request':_0x2c5214,'schema':ve,'ClassRef':Z,'execute':(_0x22f811,_0x3759f5)=>U[_0x99ed3e(0x35f)](_0x22f811,_0x3759f5)});_0x528cbf[_0x99ed3e(0x238)](0xc8)[_0x99ed3e(0x4cd)](_0x4bea92);})[_0x245683(0x2a0)](this[_0x245683(0x41a)](_0x245683(0x44e)),..._0xf22499,async(_0x175e49,_0x3150fb)=>{const _0x369487=_0x245683;let _0x1ad418=await this[_0x369487(0x605)]({'request':_0x175e49,'schema':C,'ClassRef':b,'execute':_0x316c8e=>U[_0x369487(0x44e)](_0x316c8e)});_0x3150fb[_0x369487(0x238)](0xc8)[_0x369487(0x4cd)](_0x1ad418);})[_0x245683(0x2a0)](this[_0x245683(0x41a)](_0x245683(0x3b8)),..._0xf22499,async(_0x1d6946,_0x289104)=>{const _0x1ac708=_0x245683;let _0x5d0d1f=await this[_0x1ac708(0xef)]({'request':_0x1d6946,'schema':ve,'ClassRef':Z,'execute':(_0x505e3a,_0x300fc3)=>U[_0x1ac708(0x508)](_0x505e3a,_0x300fc3)});_0x289104[_0x1ac708(0x238)](0xc8)[_0x1ac708(0x4cd)](_0x5d0d1f);})[_0x245683(0x2a0)](this[_0x245683(0x41a)](_0x245683(0x327)),..._0xf22499,async(_0x35098f,_0x249e40)=>{const _0x12c43e=_0x245683;let _0x117635=await this['groupValidate']({'request':_0x35098f,'schema':ve,'ClassRef':Z,'execute':(_0x2139d0,_0x10ba33)=>U['inviteCode'](_0x2139d0,_0x10ba33)});_0x249e40[_0x12c43e(0x238)](0xc8)[_0x12c43e(0x4cd)](_0x117635);})[_0x245683(0x325)](this[_0x245683(0x41a)](_0x245683(0x1e7)),..._0xf22499,async(_0x1934bb,_0x31f320)=>{const _0x51f1aa=_0x245683;let _0x5d5214=await this[_0x51f1aa(0x1f0)]({'request':_0x1934bb,'schema':xa,'ClassRef':et,'execute':(_0x50f2a2,_0x2c6f58)=>U[_0x51f1aa(0x1e7)](_0x50f2a2,_0x2c6f58)});_0x31f320[_0x51f1aa(0x238)](0xc9)[_0x51f1aa(0x4cd)](_0x5d5214);})[_0x245683(0x325)](this['routerPath'](_0x245683(0x1b2)),..._0xf22499,async(_0x355f30,_0x58ee1e)=>{const _0x514df9=_0x245683;let _0x21646e=await this[_0x514df9(0xef)]({'request':_0x355f30,'schema':ve,'ClassRef':Z,'execute':(_0x562a63,_0x1f4a5c)=>U[_0x514df9(0x1b2)](_0x562a63,_0x1f4a5c)});_0x58ee1e[_0x514df9(0x238)](0xc9)['json'](_0x21646e);})[_0x245683(0x325)](this['routerPath'](_0x245683(0x483)),..._0xf22499,async(_0x2427d6,_0x449a62)=>{const _0x463f38=_0x245683;let _0x5df287=await this[_0x463f38(0xef)]({'request':_0x2427d6,'schema':Aa,'ClassRef':tt,'execute':(_0x10df4d,_0x5b587a)=>U['updateGParticipate'](_0x10df4d,_0x5b587a)});_0x449a62[_0x463f38(0x238)](0xc9)['json'](_0x5df287);})[_0x245683(0x527)](this[_0x245683(0x41a)](_0x245683(0x600)),..._0xf22499,async(_0xb976dc,_0x2ae6bb)=>{const _0x4b44bd=_0x245683;let _0x22c19c=await this[_0x4b44bd(0xef)]({'request':_0xb976dc,'schema':{},'ClassRef':Z,'execute':(_0x4a7ac9,_0x1345b2)=>U[_0x4b44bd(0x600)](_0x4a7ac9,_0x1345b2)});_0x2ae6bb[_0x4b44bd(0x238)](0xc8)[_0x4b44bd(0x4cd)](_0x22c19c);});}},ja=require(a0_0x4b3f0f(0x170)),Ce=require(a0_0x4b3f0f(0x310)),ns=require('uuid'),Ua=require(a0_0x4b3f0f(0x1a4)),Va=T(require('axios')),ot=class{},rt=class c{constructor(_0x56c8db,_0x433612,_0xda3049){const _0x393b1f=a0_0x4b3f0f;this[_0x393b1f(0x32b)]=_0x56c8db,this[_0x393b1f(0x294)]=_0x433612,this[_0x393b1f(0x1ea)]=_0xda3049,this[_0x393b1f(0x3f6)]=new N(c[_0x393b1f(0x11c)]);}async[a0_0x4b3f0f(0x43b)](_0x2dbe0e){const _0x2bcbf7=a0_0x4b3f0f;let _0xcb4a0a=this[_0x2bcbf7(0x32b)]['get']('AUTHENTICATION')['JWT'],_0x19ffec=(0x0,Ce[_0x2bcbf7(0x197)])({'instanceName':_0x2dbe0e[_0x2bcbf7(0x40d)],'apiName':Ge,'tokenId':(0x0,ns['v4'])()},_0xcb4a0a[_0x2bcbf7(0xa8)],{'expiresIn':_0xcb4a0a[_0x2bcbf7(0x30a)],'encoding':_0x2bcbf7(0x375),'subject':_0x2bcbf7(0x569)}),_0x1aecdf=await this[_0x2bcbf7(0x1ea)][_0x2bcbf7(0x53d)][_0x2bcbf7(0x35d)]({'jwt':_0x19ffec},_0x2dbe0e['instanceName']);if(_0x1aecdf[_0x2bcbf7(0x622)])throw this[_0x2bcbf7(0x3f6)][_0x2bcbf7(0x622)]({'localError':c[_0x2bcbf7(0x11c)]+'.jwt','error':_0x1aecdf[_0x2bcbf7(0x622)]}),new g('Authentication\x20error',_0x1aecdf[_0x2bcbf7(0x622)]?.['toString']());return{'jwt':_0x19ffec};}async[a0_0x4b3f0f(0x13e)](_0x24b30c){const _0x3c8c48=a0_0x4b3f0f;let _0x27cd31=(0x0,ns['v4'])()[_0x3c8c48(0x431)](),_0x2db256=await this[_0x3c8c48(0x1ea)][_0x3c8c48(0x53d)][_0x3c8c48(0x35d)]({'apikey':_0x27cd31},_0x24b30c['instanceName']);if(_0x2db256[_0x3c8c48(0x622)])throw this[_0x3c8c48(0x3f6)][_0x3c8c48(0x622)]({'localError':c[_0x3c8c48(0x11c)]+_0x3c8c48(0x563),'error':_0x2db256[_0x3c8c48(0x622)]}),new g(_0x3c8c48(0x332),_0x2db256[_0x3c8c48(0x622)]?.['toString']());return{'apikey':_0x27cd31};}async['generateHash'](_0xdbf2a9){const _0x368105=a0_0x4b3f0f;let _0x20a21e=this[_0x368105(0x32b)]['get'](_0x368105(0x37b));return await this[_0x20a21e[_0x368105(0x667)]](_0xdbf2a9);}async[a0_0x4b3f0f(0x613)]({oldToken:_0x1356de}){const _0x36d197=a0_0x4b3f0f;if(!(0x0,Ua[_0x36d197(0x397)])(_0x1356de))throw new g('Invalid\x20\x22oldToken\x22');try{let _0x254ea6=this['configService'][_0x36d197(0x2a0)](_0x36d197(0x37b))['JWT'],_0x494d5d=(0x0,Ce[_0x36d197(0x38b)])(_0x1356de,_0x254ea6[_0x36d197(0xa8)],{'ignoreExpiration':!0x0}),_0x54ef5b=await this[_0x36d197(0x1ea)][_0x36d197(0x53d)]['find'](_0x494d5d[_0x36d197(0x40d)]),_0x380891=(0x0,Ce[_0x36d197(0x38b)])(_0x54ef5b[_0x36d197(0x43b)],_0x254ea6[_0x36d197(0xa8)],{'ignoreExpiration':!0x0});if(_0x494d5d[_0x36d197(0x1fd)]!==_0x380891[_0x36d197(0x1fd)])throw new g(_0x36d197(0x24d));let _0x3c6c1b={'jwt':(await this[_0x36d197(0x43b)]({'instanceName':_0x494d5d['instanceName']}))[_0x36d197(0x43b)],'instanceName':_0x494d5d['instanceName']};try{let _0x241494=await this[_0x36d197(0x1ea)][_0x36d197(0x596)][_0x36d197(0x28c)](_0x494d5d[_0x36d197(0x40d)]);_0x241494?.[_0x36d197(0x500)]&&this[_0x36d197(0x32b)]['get'](_0x36d197(0x202))[_0x36d197(0x650)][_0x36d197(0x22b)]&&await Va['default']['create']({'baseURL':_0x241494[_0x36d197(0x4fd)]})[_0x36d197(0x126)]('',{'event':'new.jwt','instance':_0x494d5d[_0x36d197(0x40d)],'data':_0x3c6c1b},{'params':{'owner':this['waMonitor'][_0x36d197(0x2d0)][_0x494d5d[_0x36d197(0x40d)]][_0x36d197(0x1c6)]}});}catch(_0x24f029){this[_0x36d197(0x3f6)][_0x36d197(0x622)](_0x24f029);}return _0x3c6c1b;}catch(_0x50457e){throw this['logger'][_0x36d197(0x622)]({'localError':c['name']+_0x36d197(0x1df),'error':_0x50457e}),new g(_0x36d197(0x24d));}}},it=class extends k{constructor(_0x25009d,..._0x23adc6){const _0x23ebc8=a0_0x4b3f0f;super(),this[_0x23ebc8(0x32b)]=_0x25009d,this[_0x23ebc8(0x4ad)]=(0x0,ja['Router'])();let _0x27acb9=_0x25009d[_0x23ebc8(0x2a0)](_0x23ebc8(0x37b));this[_0x23ebc8(0x4ad)]['post'](_0x23ebc8(0x23c),..._0x23adc6,async(_0x191120,_0x1f50b3)=>{const _0x585015=_0x23ebc8;let {instanceName:_0x1fef7a,apikey:_0x56789c}=_0x191120[_0x585015(0x103)],_0x3c79db=await ie[_0x585015(0x436)]({'instanceName':_0x1fef7a,'apikey':_0x56789c});return _0x1f50b3['status'](0xc9)[_0x585015(0x4cd)](_0x3c79db);})[_0x23ebc8(0x325)](this[_0x23ebc8(0x41a)](_0x23ebc8(0x352)),..._0x23adc6,async(_0x2caea3,_0x78405b)=>{const _0x1c3a65=_0x23ebc8;let _0x672a26=await this['dataValidate']({'request':_0x2caea3,'schema':C,'ClassRef':b,'execute':_0x338598=>ie[_0x1c3a65(0x5cf)](_0x338598)});return _0x78405b['status'](0xc8)[_0x1c3a65(0x4cd)](_0x672a26);})[_0x23ebc8(0x2a0)](this[_0x23ebc8(0x41a)](_0x23ebc8(0x5c2)),..._0x23adc6,async(_0x20f53b,_0x52da9c)=>{const _0x504188=_0x23ebc8;let _0x4200e8=await this[_0x504188(0x605)]({'request':_0x20f53b,'schema':C,'ClassRef':b,'execute':_0x3262ee=>ie[_0x504188(0x56b)](_0x3262ee)});return _0x52da9c[_0x504188(0x238)](0xc8)[_0x504188(0x4cd)](_0x4200e8);})[_0x23ebc8(0x2a0)](this[_0x23ebc8(0x41a)]('connectionState'),..._0x23adc6,async(_0xdba690,_0x192cfc)=>{const _0x13a61e=_0x23ebc8;let _0x393865=await this[_0x13a61e(0x605)]({'request':_0xdba690,'schema':C,'ClassRef':b,'execute':_0x190490=>ie[_0x13a61e(0x4c3)](_0x190490)});return _0x192cfc['status'](0xc8)[_0x13a61e(0x4cd)](_0x393865);})['get'](this['routerPath']('fetchInstances',!0x1),..._0x23adc6,async(_0x349082,_0x30f906)=>{const _0x736c81=_0x23ebc8;let _0x5afbea=await this[_0x736c81(0x605)]({'request':_0x349082,'schema':null,'ClassRef':b,'execute':_0x5f4589=>ie[_0x736c81(0xdc)](_0x5f4589)});return _0x30f906[_0x736c81(0x238)](0xc8)['json'](_0x5afbea);})['delete'](this[_0x23ebc8(0x41a)]('logout'),..._0x23adc6,async(_0x128220,_0x3f3a89)=>{const _0x5233ae=_0x23ebc8;let _0x2f4945=await this[_0x5233ae(0x605)]({'request':_0x128220,'schema':C,'ClassRef':b,'execute':_0x4845eb=>ie[_0x5233ae(0x285)](_0x4845eb)});return _0x3f3a89[_0x5233ae(0x238)](0xc8)[_0x5233ae(0x4cd)](_0x2f4945);})[_0x23ebc8(0x527)](this[_0x23ebc8(0x41a)]('delete'),..._0x23adc6,async(_0x3fe192,_0x56a6af)=>{const _0x1eebbc=_0x23ebc8;let _0x172cdc=await this[_0x1eebbc(0x605)]({'request':_0x3fe192,'schema':C,'ClassRef':b,'execute':_0x3efdce=>ie['deleteInstance'](_0x3efdce)});return _0x56a6af[_0x1eebbc(0x238)](0xc8)[_0x1eebbc(0x4cd)](_0x172cdc);}),_0x27acb9[_0x23ebc8(0x667)]===_0x23ebc8(0x43b)&&this['router'][_0x23ebc8(0x325)](_0x23ebc8(0x278),async(_0x14aa74,_0x4e73af)=>{const _0x53f012=_0x23ebc8;let _0x4e06eb=await this[_0x53f012(0x605)]({'request':_0x14aa74,'schema':aa,'ClassRef':ot,'execute':(_0x1fd2b0,_0x3eaa6f)=>ie['refreshToken'](_0x1fd2b0,_0x3eaa6f)});return _0x4e73af['status'](0xc9)[_0x53f012(0x4cd)](_0x4e06eb);});}},Fa=require(a0_0x4b3f0f(0x170)),cs=class{},z=class extends cs{},nt=class extends z{},ct=class extends z{},lt=class extends z{},Ne=class extends z{},ut=class extends z{},dt=class extends z{},pt=class extends z{},gt=class extends z{},mt=class extends z{},ht=class{},ft=class extends k{constructor(..._0x552dac){const _0x4ddb16=a0_0x4b3f0f;super(),this[_0x4ddb16(0x4ad)]=(0x0,Fa[_0x4ddb16(0x1ee)])(),this[_0x4ddb16(0x4ad)][_0x4ddb16(0x126)](this['routerPath'](_0x4ddb16(0x64c)),..._0x552dac,async(_0x257321,_0x420c81)=>{const _0x404b38=_0x4ddb16;let _0x308dca=await this[_0x404b38(0x605)]({'request':_0x257321,'schema':oa,'ClassRef':nt,'execute':(_0x3b84f2,_0x182ff0)=>K[_0x404b38(0x64c)](_0x3b84f2,_0x182ff0)});return _0x420c81[_0x404b38(0x238)](0xc9)[_0x404b38(0x4cd)](_0x308dca);})['post'](this[_0x4ddb16(0x41a)](_0x4ddb16(0x45c)),..._0x552dac,async(_0x5f569e,_0x3bb572)=>{const _0x79b20e=_0x4ddb16;let _0x2a295b=await this[_0x79b20e(0x605)]({'request':_0x5f569e,'schema':ca,'ClassRef':Ne,'execute':(_0x24f289,_0x3326fb)=>K[_0x79b20e(0x45c)](_0x24f289,_0x3326fb)});return _0x3bb572['status'](0xc9)[_0x79b20e(0x4cd)](_0x2a295b);})[_0x4ddb16(0x126)](this[_0x4ddb16(0x41a)](_0x4ddb16(0xfe)),..._0x552dac,async(_0x52f672,_0x27a40b)=>{const _0x549302=_0x4ddb16;let _0x96a9fc=await this[_0x549302(0x605)]({'request':_0x52f672,'schema':la,'ClassRef':Ne,'execute':(_0x5a416e,_0x20a0bf)=>K[_0x549302(0xfe)](_0x5a416e,_0x20a0bf)});return _0x27a40b[_0x549302(0x238)](0xc9)[_0x549302(0x4cd)](_0x96a9fc);})['post'](this[_0x4ddb16(0x41a)]('sendButtons'),..._0x552dac,async(_0x1592c6,_0x4d4622)=>{const _0x49bea4=_0x4ddb16;let _0x8f3492=await this[_0x49bea4(0x605)]({'request':_0x1592c6,'schema':da,'ClassRef':dt,'execute':(_0x1bac3e,_0x5acef1)=>K[_0x49bea4(0x307)](_0x1bac3e,_0x5acef1)});return _0x4d4622[_0x49bea4(0x238)](0xc9)[_0x49bea4(0x4cd)](_0x8f3492);})['post'](this[_0x4ddb16(0x41a)]('sendLocation'),..._0x552dac,async(_0x4b60d2,_0x2c75d0)=>{const _0x3c556f=_0x4ddb16;let _0x26943c=await this['dataValidate']({'request':_0x4b60d2,'schema':pa,'ClassRef':pt,'execute':(_0xee43bd,_0x4c3546)=>K[_0x3c556f(0x65c)](_0xee43bd,_0x4c3546)});return _0x2c75d0['status'](0xc9)[_0x3c556f(0x4cd)](_0x26943c);})['post'](this[_0x4ddb16(0x41a)](_0x4ddb16(0x4a9)),..._0x552dac,async(_0x46c650,_0x2509f6)=>{const _0x562984=_0x4ddb16;let _0x39ec88=await this[_0x562984(0x605)]({'request':_0x46c650,'schema':ga,'ClassRef':gt,'execute':(_0x268ec3,_0xbc2f3a)=>K['sendList'](_0x268ec3,_0xbc2f3a)});return _0x2509f6[_0x562984(0x238)](0xc9)[_0x562984(0x4cd)](_0x39ec88);})['post'](this[_0x4ddb16(0x41a)]('sendContact'),..._0x552dac,async(_0x2a28b1,_0x569cf1)=>{const _0x2f2954=_0x4ddb16;let _0x3748cb=await this[_0x2f2954(0x605)]({'request':_0x2a28b1,'schema':ma,'ClassRef':mt,'execute':(_0x440157,_0x37c26a)=>K[_0x2f2954(0x3ea)](_0x440157,_0x37c26a)});return _0x569cf1[_0x2f2954(0x238)](0xc9)['json'](_0x3748cb);})['post'](this[_0x4ddb16(0x41a)]('sendReaction'),..._0x552dac,async(_0x244cd6,_0x5a28b7)=>{const _0x5aa795=_0x4ddb16;let _0xdf107c=await this[_0x5aa795(0x605)]({'request':_0x244cd6,'schema':ha,'ClassRef':ht,'execute':(_0xea88cc,_0x2c9193)=>K['sendReaction'](_0xea88cc,_0x2c9193)});return _0x5a28b7[_0x5aa795(0x238)](0xc9)[_0x5aa795(0x4cd)](_0xdf107c);})[_0x4ddb16(0x126)](this[_0x4ddb16(0x41a)](_0x4ddb16(0x335)),..._0x552dac,async(_0x23ecc9,_0x406c20)=>{const _0x12913f=_0x4ddb16;let _0x2420fc=await this[_0x12913f(0x605)]({'request':_0x23ecc9,'schema':ua,'ClassRef':lt,'execute':(_0x5ebc35,_0x2e6c63)=>K['sendPoll'](_0x5ebc35,_0x2e6c63)});return _0x406c20['status'](0xc9)[_0x12913f(0x4cd)](_0x2420fc);})[_0x4ddb16(0x126)](this[_0x4ddb16(0x41a)](_0x4ddb16(0x66c)),..._0x552dac,async(_0x288615,_0x5d2d3a)=>{const _0x92e7a=_0x4ddb16;let _0x48881b=await this['dataValidate']({'request':_0x288615,'schema':na,'ClassRef':ct,'execute':(_0x4924fe,_0x54a363)=>K[_0x92e7a(0x66c)](_0x4924fe,_0x54a363)});return _0x5d2d3a[_0x92e7a(0x238)](0xc9)[_0x92e7a(0x4cd)](_0x48881b);})['post'](this['routerPath'](_0x4ddb16(0x477)),..._0x552dac,async(_0x14f48c,_0x3668be)=>{const _0x1749eb=_0x4ddb16;let _0x3bccc1=await this['dataValidate']({'request':_0x14f48c,'schema':ia,'ClassRef':ut,'execute':(_0x3f11d9,_0x180e69)=>K[_0x1749eb(0x477)](_0x3f11d9,_0x180e69)});return _0x3668be[_0x1749eb(0x238)](0xc9)['json'](_0x3bccc1);});}},Ba=require('express'),wt=class extends k{constructor(..._0x34c344){const _0x59090e=a0_0x4b3f0f;super(),this['router']=(0x0,Ba[_0x59090e(0x1ee)])(),this[_0x59090e(0x4ad)][_0x59090e(0x2a0)](this[_0x59090e(0x41a)]('qrcode'),..._0x34c344,(_0x14605a,_0x5127b0)=>qa[_0x59090e(0x1f1)](_0x14605a,_0x5127b0));}},Ga=require(a0_0x4b3f0f(0x170)),yt=class{},bt=class extends k{constructor(..._0x2c7690){const _0x15b04b=a0_0x4b3f0f;super(),this[_0x15b04b(0x4ad)]=(0x0,Ga[_0x15b04b(0x1ee)])(),this[_0x15b04b(0x4ad)][_0x15b04b(0x126)](this[_0x15b04b(0x41a)](_0x15b04b(0x41b)),..._0x2c7690,async(_0x3d2324,_0x5e42e1)=>{const _0x18ddcf=_0x15b04b;let _0x471c60=await this['dataValidate']({'request':_0x3d2324,'schema':$a,'ClassRef':yt,'execute':(_0x518c94,_0x50f1e3)=>ls[_0x18ddcf(0x4ef)](_0x518c94,_0x50f1e3)});_0x5e42e1[_0x18ddcf(0x238)](0xc9)[_0x18ddcf(0x4cd)](_0x471c60);})[_0x15b04b(0x2a0)](this[_0x15b04b(0x41a)](_0x15b04b(0x28c)),..._0x2c7690,async(_0x5f0e6d,_0x4ca302)=>{const _0xd335a9=_0x15b04b;let _0x15a448=await this[_0xd335a9(0x605)]({'request':_0x5f0e6d,'schema':C,'ClassRef':b,'execute':_0x537912=>ls[_0xd335a9(0x2ea)](_0x537912)});_0x4ca302[_0xd335a9(0x238)](0xc8)[_0xd335a9(0x4cd)](_0x15a448);});}},Ja=require('express'),m=new N('FlowRouter'),St=class extends k{constructor(..._0x5b82bb){const _0x1fe89b=a0_0x4b3f0f;super(),this[_0x1fe89b(0x4ad)]=(0x0,Ja[_0x1fe89b(0x1ee)])(),this[_0x1fe89b(0x4ad)]['post'](this[_0x1fe89b(0x41a)](_0x1fe89b(0x22f)),..._0x5b82bb,async(_0x17b902,_0x4ae926)=>{const _0x3481ca=_0x1fe89b;let _0x496fac=_0x17b902['body'];m['verbose'](_0x3481ca(0x1ba)),m[_0x3481ca(0x5e6)]('request\x20body:\x20'),m[_0x3481ca(0x5e6)](_0x17b902['body']);let _0x392794=await this[_0x3481ca(0x605)]({'request':_0x17b902,'schema':C,'ClassRef':b,'execute':_0xef6854=>R['editScheduleMessage'](_0xef6854,_0x496fac)});_0x4ae926[_0x3481ca(0x238)](0xc8)[_0x3481ca(0x4cd)](_0x392794);})[_0x1fe89b(0x2a0)](this[_0x1fe89b(0x41a)](_0x1fe89b(0x22f)),..._0x5b82bb,async(_0x54d14a,_0x2ed6fb)=>{const _0x36f18a=_0x1fe89b;let _0x1207ed=await this[_0x36f18a(0x605)]({'request':_0x54d14a,'schema':C,'ClassRef':b,'execute':_0x201dc7=>R[_0x36f18a(0x169)](_0x201dc7)});_0x2ed6fb[_0x36f18a(0x238)](0xc8)[_0x36f18a(0x4cd)](_0x1207ed);})[_0x1fe89b(0x527)](this['routerPath']('deleteDoneMessages'),..._0x5b82bb,async(_0x263f5e,_0x5e77f3)=>{const _0x5b1fba=_0x1fe89b;m['verbose'](_0x5b1fba(0x254));let _0x4e36d2=await this[_0x5b1fba(0x605)]({'request':_0x263f5e,'schema':C,'ClassRef':b,'execute':_0x13a06a=>R[_0x5b1fba(0x5a8)](_0x13a06a)});_0x5e77f3['status'](0xc8)[_0x5b1fba(0x4cd)](_0x4e36d2);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)](_0x1fe89b(0x58e)),..._0x5b82bb,async(_0x4319fc,_0x1724ae)=>{const _0x20727b=_0x1fe89b;let _0x80aebe=_0x4319fc[_0x20727b(0x103)];m[_0x20727b(0x5e6)]('request\x20received\x20in\x20starFlow'),m[_0x20727b(0x5e6)]('request\x20body:\x20'),m[_0x20727b(0x5e6)](_0x4319fc[_0x20727b(0x103)]);let _0x1f8f0b=await this[_0x20727b(0x605)]({'request':_0x4319fc,'schema':C,'ClassRef':b,'execute':_0x41c2df=>R[_0x20727b(0x58e)](_0x41c2df,_0x80aebe)});_0x1724ae['status'](0xc8)[_0x20727b(0x4cd)](_0x1f8f0b);})[_0x1fe89b(0x2a0)](this['routerPath'](_0x1fe89b(0xcf)),..._0x5b82bb,async(_0x16ef72,_0x40bb2d)=>{const _0x2572fb=_0x1fe89b;m['verbose'](_0x2572fb(0x1a1));let _0x394dbb=await this[_0x2572fb(0x605)]({'request':_0x16ef72,'schema':C,'ClassRef':b,'execute':_0x12b851=>R['getAutomateSystem'](_0x12b851)});_0x40bb2d[_0x2572fb(0x238)](0xc8)[_0x2572fb(0x4cd)](_0x394dbb);})[_0x1fe89b(0x2a0)](this[_0x1fe89b(0x41a)](_0x1fe89b(0x280)),..._0x5b82bb,async(_0x260666,_0x468fef)=>{const _0x43345e=_0x1fe89b;m['verbose']('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x19e1fb=await this[_0x43345e(0x605)]({'request':_0x260666,'schema':C,'ClassRef':b,'execute':_0x4a28b6=>R[_0x43345e(0xcf)](_0x4a28b6)});_0x468fef[_0x43345e(0x238)](0xc8)[_0x43345e(0x4cd)](_0x19e1fb);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)](_0x1fe89b(0xfa)),..._0x5b82bb,async(_0x523343,_0x214c19)=>{const _0x28c728=_0x1fe89b;let _0x223e5f=_0x523343[_0x28c728(0x103)];m[_0x28c728(0x5e6)](_0x28c728(0x172)),m['verbose'](_0x28c728(0x408)),m[_0x28c728(0x5e6)](_0x523343['body']);let _0x26d7b3=await this['dataValidate']({'request':_0x523343,'schema':C,'ClassRef':b,'execute':_0x2a223c=>R[_0x28c728(0xfa)](_0x2a223c,_0x223e5f)});_0x214c19['status'](0xc8)[_0x28c728(0x4cd)](_0x26d7b3);})['post'](this[_0x1fe89b(0x41a)](_0x1fe89b(0x4da)),..._0x5b82bb,async(_0x1f2f5e,_0x3574a4)=>{const _0x2f1186=_0x1fe89b;let _0x39b455=_0x1f2f5e[_0x2f1186(0x103)];m[_0x2f1186(0x5e6)]('request\x20received\x20in\x20updateCustomFields'),m['verbose'](_0x2f1186(0x408)),m[_0x2f1186(0x5e6)](_0x1f2f5e[_0x2f1186(0x103)]);let _0x30e877=await this['dataValidate']({'request':_0x1f2f5e,'schema':C,'ClassRef':b,'execute':_0x198ec0=>R[_0x2f1186(0x4da)](_0x198ec0,_0x39b455)});_0x3574a4['status'](0xc8)[_0x2f1186(0x4cd)](_0x30e877);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)](_0x1fe89b(0x2d8)),..._0x5b82bb,async(_0x431305,_0xb4d5c6)=>{const _0x2aa246=_0x1fe89b;let _0x554f87=_0x431305[_0x2aa246(0x103)];m['verbose']('request\x20received\x20in\x20updateFlowConfig'),m[_0x2aa246(0x5e6)](_0x2aa246(0x408)),m['verbose'](_0x431305['body']);let _0x2b002a=await this['dataValidate']({'request':_0x431305,'schema':C,'ClassRef':b,'execute':_0x1a5269=>R[_0x2aa246(0x2d8)](_0x1a5269,_0x554f87)});_0xb4d5c6[_0x2aa246(0x238)](0xc8)['json'](_0x2b002a);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)](_0x1fe89b(0x34c)),..._0x5b82bb,async(_0x51ac85,_0x5b4cc3)=>{const _0x5e1b1c=_0x1fe89b;let _0x37ba9e=_0x51ac85[_0x5e1b1c(0x103)];m[_0x5e1b1c(0x5e6)](_0x5e1b1c(0x112)),m[_0x5e1b1c(0x5e6)]('request\x20body:\x20'),m[_0x5e1b1c(0x5e6)](_0x51ac85['body']);let _0x1d6434=await this[_0x5e1b1c(0x605)]({'request':_0x51ac85,'schema':C,'ClassRef':b,'execute':_0x15beac=>R[_0x5e1b1c(0x34c)](_0x15beac,_0x37ba9e)});_0x5b4cc3['status'](0xc8)['json'](_0x1d6434);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)]('fetchConversation'),..._0x5b82bb,async(_0x1ec920,_0x3a4bbf)=>{const _0x371940=_0x1fe89b;let _0x555e29=_0x1ec920[_0x371940(0x103)];m[_0x371940(0x5e6)](_0x371940(0x36f)),m[_0x371940(0x5e6)]('request\x20body:\x20'),m[_0x371940(0x5e6)](_0x1ec920['body']);let _0x109d05=await this['dataValidate']({'request':_0x1ec920,'schema':C,'ClassRef':b,'execute':_0xb3c88a=>R['fetchConversation'](_0xb3c88a,_0x555e29)});_0x3a4bbf['status'](0xc8)[_0x371940(0x4cd)](_0x109d05);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)](_0x1fe89b(0x4f3)),..._0x5b82bb,async(_0x451028,_0x47d728)=>{const _0x3d2323=_0x1fe89b;let _0x4102a6=_0x451028[_0x3d2323(0x103)];m[_0x3d2323(0x5e6)](_0x3d2323(0x1d0)),m['verbose'](_0x3d2323(0x408)),m['verbose'](_0x451028[_0x3d2323(0x103)]);let _0x27ed55=await this['dataValidate']({'request':_0x451028,'schema':C,'ClassRef':b,'execute':_0x13ab9e=>R['editConversation'](_0x13ab9e,_0x4102a6)});_0x47d728[_0x3d2323(0x238)](0xc8)[_0x3d2323(0x4cd)](_0x27ed55);})[_0x1fe89b(0x527)](this[_0x1fe89b(0x41a)]('deleteConversation'),..._0x5b82bb,async(_0x5efa05,_0x364bce)=>{const _0x1cf3c3=_0x1fe89b;let _0x46af2b=_0x5efa05[_0x1cf3c3(0x103)];m['verbose'](_0x1cf3c3(0x1ac)),m['verbose'](_0x1cf3c3(0x408)),m[_0x1cf3c3(0x5e6)](_0x5efa05['body']);let _0x4865e8=await this[_0x1cf3c3(0x605)]({'request':_0x5efa05,'schema':C,'ClassRef':b,'execute':_0x4d022f=>R[_0x1cf3c3(0x212)](_0x4d022f,_0x46af2b)});_0x364bce[_0x1cf3c3(0x238)](0xc8)[_0x1cf3c3(0x4cd)](_0x4865e8);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)](_0x1fe89b(0x1aa)),..._0x5b82bb,async(_0x5db8f3,_0x1dee49)=>{const _0x30c74a=_0x1fe89b;let _0x409d87=_0x5db8f3['body'];m['verbose'](_0x30c74a(0x3ec)),m[_0x30c74a(0x5e6)](_0x30c74a(0x408)),m[_0x30c74a(0x5e6)](_0x5db8f3[_0x30c74a(0x103)]);let _0xbb5ea7=await this[_0x30c74a(0x605)]({'request':_0x5db8f3,'schema':C,'ClassRef':b,'execute':_0x1ffe62=>R['createFlow'](_0x1ffe62,_0x409d87)});_0x1dee49['status'](0xc8)[_0x30c74a(0x4cd)](_0xbb5ea7);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)](_0x1fe89b(0x49a)),..._0x5b82bb,async(_0x4bb102,_0x3a25dc)=>{const _0x52531b=_0x1fe89b;let _0x1c7781=_0x4bb102[_0x52531b(0x103)];m['verbose'](_0x52531b(0x5c4)),m[_0x52531b(0x5e6)](_0x52531b(0x408)),m[_0x52531b(0x5e6)](_0x4bb102[_0x52531b(0x103)]),delete _0x1c7781[_0x52531b(0x64e)],delete _0x1c7781[_0x52531b(0x2b8)],delete _0x1c7781[_0x52531b(0x5a0)],delete _0x1c7781['conditions'];let _0x5d782b=await this['dataValidate']({'request':_0x4bb102,'schema':C,'ClassRef':b,'execute':_0x5a5730=>R['editFlow'](_0x5a5730,_0x1c7781)});_0x3a25dc[_0x52531b(0x238)](0xc8)[_0x52531b(0x4cd)](_0x5d782b);})['post'](this[_0x1fe89b(0x41a)]('editflowblock'),..._0x5b82bb,async(_0x320933,_0xa8baa1)=>{const _0x122cf7=_0x1fe89b;let _0x13625d=_0x320933[_0x122cf7(0x103)];m[_0x122cf7(0x5e6)](_0x122cf7(0x5c4)),m[_0x122cf7(0x5e6)](_0x122cf7(0x408)),m['verbose'](_0x320933[_0x122cf7(0x103)]);let _0x5a7e23=await this[_0x122cf7(0x605)]({'request':_0x320933,'schema':C,'ClassRef':b,'execute':_0x188278=>R[_0x122cf7(0x347)](_0x188278,_0x13625d)});_0xa8baa1[_0x122cf7(0x238)](0xc8)[_0x122cf7(0x4cd)](_0x5a7e23);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)]('editflowreply'),..._0x5b82bb,async(_0x4140ee,_0x3132c1)=>{const _0x175dd8=_0x1fe89b;let _0x1caa06=_0x4140ee['body'];m[_0x175dd8(0x5e6)](_0x175dd8(0x5c4)),m[_0x175dd8(0x5e6)](_0x175dd8(0x408)),m[_0x175dd8(0x5e6)](_0x4140ee[_0x175dd8(0x103)]);let _0x5f04d9=await this[_0x175dd8(0x605)]({'request':_0x4140ee,'schema':C,'ClassRef':b,'execute':_0x3514a6=>R[_0x175dd8(0x367)](_0x3514a6,_0x1caa06)});_0x3132c1[_0x175dd8(0x238)](0xc8)[_0x175dd8(0x4cd)](_0x5f04d9);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)](_0x1fe89b(0x249)),..._0x5b82bb,async(_0x345554,_0x232101)=>{const _0x31cc87=_0x1fe89b;let _0x417ca6=_0x345554[_0x31cc87(0x103)];m['verbose'](_0x31cc87(0x5c4)),m[_0x31cc87(0x5e6)](_0x31cc87(0x408)),m['verbose'](_0x345554['body']);let _0xf982b7=await this['dataValidate']({'request':_0x345554,'schema':C,'ClassRef':b,'execute':_0x2d600d=>R[_0x31cc87(0x638)](_0x2d600d,_0x417ca6)});_0x232101[_0x31cc87(0x238)](0xc8)[_0x31cc87(0x4cd)](_0xf982b7);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)](_0x1fe89b(0x634)),..._0x5b82bb,async(_0xf3f2e9,_0x163523)=>{const _0x58e2d8=_0x1fe89b;let _0x2d3790=_0xf3f2e9['body'];m[_0x58e2d8(0x5e6)](_0x58e2d8(0xe1)),m[_0x58e2d8(0x5e6)]('request\x20body:\x20'),m[_0x58e2d8(0x5e6)](_0xf3f2e9['body']);let _0x2995bf=await this['dataValidate']({'request':_0xf3f2e9,'schema':C,'ClassRef':b,'execute':_0x1e8d07=>R[_0x58e2d8(0x551)](_0x1e8d07,_0x2d3790)});_0x163523[_0x58e2d8(0x238)](0xc8)['json'](_0x2995bf);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)]('editflowcondition'),..._0x5b82bb,async(_0x55e290,_0x37ee75)=>{const _0x2a2377=_0x1fe89b;let _0x4e1ff5=_0x55e290[_0x2a2377(0x103)];m[_0x2a2377(0x5e6)](_0x2a2377(0x407)),m[_0x2a2377(0x5e6)](_0x2a2377(0x408)),m[_0x2a2377(0x5e6)](_0x55e290[_0x2a2377(0x103)]);let _0x5c6042=await this[_0x2a2377(0x605)]({'request':_0x55e290,'schema':C,'ClassRef':b,'execute':_0x4d8016=>R[_0x2a2377(0x51a)](_0x4d8016,_0x4e1ff5)});_0x37ee75[_0x2a2377(0x238)](0xc8)[_0x2a2377(0x4cd)](_0x5c6042);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)]('editflowvariable'),..._0x5b82bb,async(_0x42a13b,_0x464bb7)=>{const _0x316201=_0x1fe89b;let _0x4c5fa7=_0x42a13b[_0x316201(0x103)];m[_0x316201(0x5e6)](_0x316201(0x328)),m['verbose'](_0x316201(0x408)),m['verbose'](_0x42a13b['body']);let _0x951d49=await this[_0x316201(0x605)]({'request':_0x42a13b,'schema':C,'ClassRef':b,'execute':_0x5a0b06=>R[_0x316201(0x16f)](_0x5a0b06,_0x4c5fa7)});_0x464bb7[_0x316201(0x238)](0xc8)[_0x316201(0x4cd)](_0x951d49);})[_0x1fe89b(0x126)](this[_0x1fe89b(0x41a)](_0x1fe89b(0x2f3)),..._0x5b82bb,async(_0x57c3e7,_0x5a87ac)=>{const _0x4b3879=_0x1fe89b;let _0x7053c6=_0x57c3e7[_0x4b3879(0x103)];m[_0x4b3879(0x5e6)]('request\x20received\x20in\x20getFlow'),m[_0x4b3879(0x5e6)](_0x4b3879(0x408)),m[_0x4b3879(0x5e6)](_0x57c3e7[_0x4b3879(0x103)]);let _0x50f922=await this[_0x4b3879(0x605)]({'request':_0x57c3e7,'schema':C,'ClassRef':b,'execute':_0x465283=>R[_0x4b3879(0x491)](_0x465283,_0x7053c6)});_0x5a87ac[_0x4b3879(0x238)](0xc8)['json'](_0x50f922);})[_0x1fe89b(0x527)](this[_0x1fe89b(0x41a)](_0x1fe89b(0x34b)),..._0x5b82bb,async(_0x262f2f,_0x4e8161)=>{const _0x5b757a=_0x1fe89b;let _0x553649=_0x262f2f[_0x5b757a(0x103)];m[_0x5b757a(0x5e6)](_0x5b757a(0x3ec)),m['verbose'](_0x5b757a(0x408)),m[_0x5b757a(0x5e6)](_0x262f2f['body']);let _0x4d164b=await this['dataValidate']({'request':_0x262f2f,'schema':C,'ClassRef':b,'execute':_0x2682bd=>R['deleteFlow'](_0x2682bd,_0x553649)});_0x4e8161[_0x5b757a(0x238)](0xc8)[_0x5b757a(0x4cd)](_0x4d164b);})[_0x1fe89b(0x2a0)](this[_0x1fe89b(0x41a)](_0x1fe89b(0x195)),..._0x5b82bb,async(_0x2c1e57,_0xd7c965)=>{const _0xd57a1f=_0x1fe89b;m[_0xd57a1f(0x5e6)](_0xd57a1f(0x577));let _0x2d1817=await this[_0xd57a1f(0x605)]({'request':_0x2c1e57,'schema':C,'ClassRef':b,'execute':_0x28d4d3=>R['allFlows'](_0x28d4d3)});_0xd7c965[_0xd57a1f(0x238)](0xc8)['json'](_0x2d1817);});}},za=T(require(a0_0x4b3f0f(0x19d))),ee={};function Wa(_0x201d02,_0x315f6e,_0x47aee,_0xe59a61){ee[_0x201d02]||(ee[_0x201d02]={}),ee[_0x201d02][_0x315f6e]={'id':_0x315f6e,'response':_0x47aee,'events':_0xe59a61};}function Ha(_0x41e7de,_0x333e54){!ee[_0x41e7de]||!ee[_0x41e7de][_0x333e54]||delete ee[_0x41e7de][_0x333e54];}function B(_0x416b0,_0x1f4c35,_0x325084){const _0x4633a5=a0_0x4b3f0f;if(!ee[_0x416b0])return;let _0x1a6e2d=_0x4633a5(0x5f4)+JSON[_0x4633a5(0x3c6)](_0x325084)+'\x0a\x0a';Object[_0x4633a5(0x57a)](ee[_0x416b0])[_0x4633a5(0x557)](_0x2c01b8=>{const _0x21b900=_0x4633a5;_0x2c01b8[_0x21b900(0x2c0)][_0x21b900(0x531)](_0x1f4c35)&&_0x2c01b8[_0x21b900(0x3bc)][_0x21b900(0x4d0)](_0x1a6e2d);});}function Ka(){const _0x28d724=a0_0x4b3f0f;let _0x4fc2ee={};for(let _0x293c14 in ee)_0x4fc2ee[_0x293c14]=Object[_0x28d724(0x57a)](ee[_0x293c14])[_0x28d724(0x53c)](_0x1da92f=>({'id':_0x1da92f['id'],'events':_0x1da92f[_0x28d724(0x2c0)]}));return _0x4fc2ee;}var Qa=require('uuid'),Jo=za[a0_0x4b3f0f(0x4ea)][a0_0x4b3f0f(0x488)](__dirname,'downloads'),vt=(0x0,Et[a0_0x4b3f0f(0x1ee)])(),Wo=E['get'](a0_0x4b3f0f(0x37b))[a0_0x4b3f0f(0x667)],le=[rs,Zs,sa[Wo]];vt[a0_0x4b3f0f(0x5aa)](a0_0x4b3f0f(0x478),Et[a0_0x4b3f0f(0x4ea)][a0_0x4b3f0f(0x2a8)](Jo))[a0_0x4b3f0f(0x2a0)]('/events/:instance',async(_0x5c6d8b,_0x13cbdd)=>{const _0x185e91=a0_0x4b3f0f;console[_0x185e91(0x21a)]('bateu\x20events');let _0x5aeeca=_0x5c6d8b[_0x185e91(0x154)][_0x185e91(0x62a)],_0x5e9f70=(_0x5c6d8b['query']['events']||'')[_0x185e91(0x318)](','),_0x43447b=(0x0,Qa['v4'])();console[_0x185e91(0x21a)](_0x185e91(0x3cd),_0x5aeeca),console[_0x185e91(0x21a)](_0x185e91(0x559),_0x5e9f70);let _0x492583=E[_0x185e91(0x2a0)](_0x185e91(0x37b))[_0x185e91(0x671)],_0x2f0c3d=_0x5c6d8b[_0x185e91(0x59b)][_0x185e91(0x13e)];if(console[_0x185e91(0x21a)](_0x185e91(0x4f0),_0x2f0c3d),_0x492583[_0x185e91(0x18e)]!==_0x2f0c3d){console[_0x185e91(0x21a)](_0x185e91(0x482));try{let _0x2b59f6=await ce['auth']['find'](_0x5aeeca);if(console[_0x185e91(0x21a)](_0x185e91(0x2bf),_0x2b59f6),!_0x2b59f6||_0x2b59f6[_0x185e91(0x13e)]!==_0x2f0c3d)return console[_0x185e91(0x21a)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x13cbdd['status'](0x191)[_0x185e91(0x43c)](_0x185e91(0x184));}catch(_0x43fc7e){return console[_0x185e91(0x622)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x43fc7e),_0x13cbdd[_0x185e91(0x238)](0x191)[_0x185e91(0x43c)](_0x185e91(0x312));}}if(!await qe(_0x5aeeca))return _0x13cbdd[_0x185e91(0x238)](0x194)['send'](_0x185e91(0xba));_0x13cbdd[_0x185e91(0x66e)](_0x185e91(0x39a),_0x185e91(0x293)),_0x13cbdd[_0x185e91(0x66e)](_0x185e91(0x182),_0x185e91(0x44a)),_0x13cbdd[_0x185e91(0x66e)](_0x185e91(0x574),_0x185e91(0x57d)),_0x13cbdd[_0x185e91(0x338)]();let _0x5a0de5='data:\x20'+JSON[_0x185e91(0x3c6)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x13cbdd[_0x185e91(0x4d0)](_0x5a0de5),Wa(_0x5aeeca,_0x43447b,_0x13cbdd,_0x5e9f70),_0x5c6d8b['on']('close',()=>{const _0x561b58=_0x185e91;console[_0x561b58(0x21a)](_0x561b58(0x29d)+_0x5aeeca),Ha(_0x5aeeca,_0x43447b);});}),vt['get'](a0_0x4b3f0f(0x147),(_0x1087a1,_0x51cc7b)=>{const _0x59c44a=a0_0x4b3f0f;let _0x3bc5be=Ka();_0x51cc7b[_0x59c44a(0x4cd)](_0x3bc5be);})['get']('/',(_0x3dc919,_0x242f80)=>{const _0x39a233=a0_0x4b3f0f;let _0x182a12=E['get'](_0x39a233(0x438)),_0x4362ca=_0x182a12&&_0x182a12[_0x39a233(0x4b8)][_0x39a233(0x318)]('/')[0x4];if(_0x4362ca){let _0x347b4e=encodeURIComponent(_0x39a233(0x42c)+_0x4362ca);_0x242f80['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x347b4e);}else _0x242f80['redirect'](_0x39a233(0x189));})[a0_0x4b3f0f(0x325)]('/exit',...le,async(_0x32b40d,_0x429e67)=>{const _0x2ce24a=a0_0x4b3f0f;try{console[_0x2ce24a(0x21a)](_0x2ce24a(0x660)),_0x429e67['status'](0xc8)[_0x2ce24a(0x4cd)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x429e67['on']('finish',()=>process['exit'](0x0));}catch(_0x1c8da7){console[_0x2ce24a(0x622)](_0x2ce24a(0xce),_0x1c8da7),_0x429e67['status'](0x1f4)[_0x2ce24a(0x4cd)]({'message':_0x2ce24a(0x13b)});}})[a0_0x4b3f0f(0x5aa)](a0_0x4b3f0f(0x1a3),new it(E,...le)[a0_0x4b3f0f(0x4ad)],new wt(rs)[a0_0x4b3f0f(0x4ad)])[a0_0x4b3f0f(0x5aa)](a0_0x4b3f0f(0x15a),new ft(...le)[a0_0x4b3f0f(0x4ad)])[a0_0x4b3f0f(0x5aa)](a0_0x4b3f0f(0x443),new Ke(...le)['router'])[a0_0x4b3f0f(0x5aa)](a0_0x4b3f0f(0x30b),new at(...le)[a0_0x4b3f0f(0x4ad)])[a0_0x4b3f0f(0x5aa)]('/webhook',new bt(...le)[a0_0x4b3f0f(0x4ad)])['use'](a0_0x4b3f0f(0x48b),new St(...le)['router']);var g=class{constructor(..._0x28e545){const _0x389f1d=a0_0x4b3f0f;throw{'status':0x190,'error':_0x389f1d(0x31c),'message':_0x28e545[_0x389f1d(0x529)]>0x0?_0x28e545:void 0x0};}},re=class{constructor(..._0x12c739){const _0x3f2249=a0_0x4b3f0f;throw{'status':0x191,'error':_0x3f2249(0x108),'message':_0x12c739[_0x3f2249(0x529)]>0x0?_0x12c739:void 0x0};}},oe=class{constructor(..._0x1ba584){const _0x12dd41=a0_0x4b3f0f;throw{'status':0x193,'error':_0x12dd41(0x18f),'message':_0x1ba584[_0x12dd41(0x529)]>0x0?_0x1ba584:void 0x0};}},x=class{constructor(..._0x4129b1){throw{'status':0x194,'error':'Not\x20Found','message':_0x4129b1['length']>0x0?_0x4129b1:void 0x0};}},A=class{constructor(..._0x3c2e6e){const _0xbc3037=a0_0x4b3f0f;throw{'status':0x1f4,'error':_0xbc3037(0x4fb),'message':_0x3c2e6e['length']>0x0?_0x3c2e6e:void 0x0};}},ue=require(a0_0x4b3f0f(0x1be));async function us(_0x1baae3){const _0x43b508=a0_0x4b3f0f;let _0x2dad1c=new N(us['name']),_0x183ca3=M[_0x43b508(0x1b6)](),_0x302b8f=_0x183ca3['db'](E[_0x43b508(0x2a0)](_0x43b508(0x162))[_0x43b508(0x244)][_0x43b508(0x571)]+_0x43b508(0x287))['collection'](_0x1baae3),_0x4bd68c=async(_0x4b21e1,_0x2ca244)=>{const _0x18b425=_0x43b508;try{return await _0x183ca3[_0x18b425(0x5c2)](),await _0x302b8f['replaceOne']({'_id':_0x2ca244},JSON['parse'](JSON['stringify'](_0x4b21e1,ue[_0x18b425(0x237)][_0x18b425(0x584)])),{'upsert':!0x0});}catch{}},_0x3b98a6=async _0x1bd581=>{const _0x3c5c12=_0x43b508;try{await _0x183ca3[_0x3c5c12(0x5c2)]();let _0x4e0472=await _0x302b8f['findOne']({'_id':_0x1bd581}),_0x15a003=JSON['stringify'](_0x4e0472);return JSON[_0x3c5c12(0x5d5)](_0x15a003,ue['BufferJSON']['reviver']);}catch{}},_0x58194f=async _0x113a77=>{const _0x353473=_0x43b508;try{return await _0x183ca3[_0x353473(0x5c2)](),await _0x302b8f[_0x353473(0x165)]({'_id':_0x113a77});}catch{}},_0x1da7cb=await _0x3b98a6(_0x43b508(0x39c))||(0x0,ue[_0x43b508(0x27d)])();return{'state':{'creds':_0x1da7cb,'keys':{'get':async(_0xf338c2,_0x2c744b)=>{const _0x5d6df4=_0x43b508;let _0x2b3613={};return await Promise[_0x5d6df4(0x592)](_0x2c744b['map'](async _0x4e5c80=>{const _0x514fb7=_0x5d6df4;let _0x23eb54=await _0x3b98a6(_0xf338c2+'-'+_0x4e5c80);_0xf338c2===_0x514fb7(0x345)&&_0x23eb54&&(_0x23eb54=ue[_0x514fb7(0x25d)][_0x514fb7(0x5d6)][_0x514fb7(0x510)][_0x514fb7(0x4e3)](_0x23eb54)),_0x2b3613[_0x4e5c80]=_0x23eb54;})),_0x2b3613;},'set':async _0x244200=>{const _0x1b2e09=_0x43b508;let _0x3d38fd=[];for(let _0x34af2d in _0x244200)for(let _0x5ee30f in _0x244200[_0x34af2d]){let _0x4fdee4=_0x244200[_0x34af2d][_0x5ee30f],_0x27d107=_0x34af2d+'-'+_0x5ee30f;_0x3d38fd['push'](_0x4fdee4?_0x4bd68c(_0x4fdee4,_0x27d107):_0x58194f(_0x27d107));}await Promise[_0x1b2e09(0x592)](_0x3d38fd);}}},'saveCreds':async()=>_0x4bd68c(_0x1da7cb,'creds')};}var ps=T(require(a0_0x4b3f0f(0x3c4))),gs=T(require(a0_0x4b3f0f(0x427))),Tt=require('@whiskeysockets/baileys'),Ya=require(a0_0x4b3f0f(0x1da)),Nt=require(a0_0x4b3f0f(0x1be)),Ct;function Ho(_0x3103f8){const _0x2eae6d=a0_0x4b3f0f;return Ct||(Ct=(0x0,Ya[_0x2eae6d(0x519)])({'url':_0x3103f8['URI']}),Ct['connect']()),Ct;}var fe=class c{constructor(_0x47d9c2,_0x249e58){const _0x3fbd12=a0_0x4b3f0f;this[_0x3fbd12(0x104)]=_0x47d9c2,this[_0x3fbd12(0x40d)]=_0x249e58,this['logger']=new N(c[_0x3fbd12(0x11c)]),this[_0x3fbd12(0x593)]=Ho(_0x47d9c2);}set[a0_0x4b3f0f(0x3e7)](_0x325fde){const _0x5449f6=a0_0x4b3f0f;this[_0x5449f6(0x40d)]=_0x325fde;}async[a0_0x4b3f0f(0x262)](){const _0x42cf7d=a0_0x4b3f0f;try{return await this[_0x42cf7d(0x593)][_0x42cf7d(0x36b)]([_0x42cf7d(0x1c8),this[_0x42cf7d(0x104)]['PREFIX_KEY']+':*']);}catch(_0x470b45){this['logger']['error'](_0x470b45);}}async[a0_0x4b3f0f(0x4cb)](_0x4661bc,_0x49744d){const _0x18b19a=a0_0x4b3f0f;try{let _0x82f30b=JSON[_0x18b19a(0x3c6)](_0x49744d,Nt[_0x18b19a(0x237)][_0x18b19a(0x584)]);return await this[_0x18b19a(0x593)][_0x18b19a(0x2f2)](this['redisEnv'][_0x18b19a(0x50c)]+':'+this[_0x18b19a(0x40d)],_0x4661bc,_0x82f30b);}catch(_0x38290f){this['logger'][_0x18b19a(0x622)](_0x38290f);}}async[a0_0x4b3f0f(0x57b)](){const _0x3be069=a0_0x4b3f0f;try{let _0x28ac0d=await this[_0x3be069(0x593)][_0x3be069(0x665)](this[_0x3be069(0x104)][_0x3be069(0x50c)]+':'+this[_0x3be069(0x40d)]);if(_0x28ac0d){for(let _0x32a067 in _0x28ac0d)Object[_0x3be069(0x4a0)]['hasOwnProperty'][_0x3be069(0x198)](_0x28ac0d,_0x32a067)&&(_0x28ac0d[_0x32a067]=JSON[_0x3be069(0x5d5)](_0x28ac0d[_0x32a067],Nt['BufferJSON'][_0x3be069(0x135)]));return _0x28ac0d;}}catch(_0x5ef42e){this[_0x3be069(0x3f6)][_0x3be069(0x622)](_0x5ef42e);}}async['readData'](_0x4a14a4){const _0x43fd1e=a0_0x4b3f0f;try{let _0x2bc8a1=await this['client'][_0x43fd1e(0x228)](this[_0x43fd1e(0x104)]['PREFIX_KEY']+':'+this[_0x43fd1e(0x40d)],_0x4a14a4);if(_0x2bc8a1)return JSON[_0x43fd1e(0x5d5)](_0x2bc8a1,Nt[_0x43fd1e(0x237)][_0x43fd1e(0x135)]);}catch(_0x3faa56){this[_0x43fd1e(0x3f6)][_0x43fd1e(0x622)](_0x3faa56);}}async['removeData'](_0xe698dd){const _0xe502a1=a0_0x4b3f0f;try{return await this[_0xe502a1(0x593)][_0xe502a1(0x42a)](this[_0xe502a1(0x104)][_0xe502a1(0x50c)]+':'+this['instanceName'],_0xe698dd);}catch(_0x39b5ce){this[_0xe502a1(0x3f6)][_0xe502a1(0x622)](_0x39b5ce);}}async['delAll'](_0xf7acca){const _0x3711e7=a0_0x4b3f0f;try{return await this[_0x3711e7(0x593)][_0x3711e7(0x343)](_0xf7acca||this[_0x3711e7(0x104)][_0x3711e7(0x50c)]+':'+this[_0x3711e7(0x40d)]);}catch(_0x198a94){this[_0x3711e7(0x3f6)][_0x3711e7(0x622)](_0x198a94);}}};async function ds(_0xd29d16,_0x1827e2){const _0x354322=a0_0x4b3f0f;let _0x20eb9f=new N(ds[_0x354322(0x11c)]),_0xa4c20b=new fe(_0xd29d16,_0x1827e2),_0x15eff9=async(_0x441250,_0x13fcf1)=>{const _0x2424db=_0x354322;try{return await _0xa4c20b['writeData'](_0x13fcf1,_0x441250);}catch(_0x31b20e){return _0x20eb9f[_0x2424db(0x622)]({'localError':_0x2424db(0x4cb),'error':_0x31b20e});}},_0x223cea=async _0x30dc68=>{const _0x142ba9=_0x354322;try{return await _0xa4c20b[_0x142ba9(0x4b5)](_0x30dc68);}catch(_0x3db96e){_0x20eb9f[_0x142ba9(0x622)]({'readData':'writeData','error':_0x3db96e});return;}},_0x55d029=async _0x3e80c4=>{const _0x29e3a6=_0x354322;try{return await _0xa4c20b['removeData'](_0x3e80c4);}catch(_0x389b08){_0x20eb9f[_0x29e3a6(0x622)]({'readData':_0x29e3a6(0x43a),'error':_0x389b08});}},_0x512058=await _0x223cea(_0x354322(0x39c))||(0x0,Tt[_0x354322(0x27d)])();return{'state':{'creds':_0x512058,'keys':{'get':async(_0x522c3b,_0x1d9617)=>{const _0xdc31f1=_0x354322;let _0x59df0a={};return await Promise[_0xdc31f1(0x592)](_0x1d9617[_0xdc31f1(0x53c)](async _0x333c49=>{const _0x47c845=_0xdc31f1;let _0x586f67=await _0x223cea(_0x522c3b+'-'+_0x333c49);_0x522c3b===_0x47c845(0x345)&&_0x586f67&&(_0x586f67=Tt[_0x47c845(0x25d)][_0x47c845(0x5d6)][_0x47c845(0x510)][_0x47c845(0x4e3)](_0x586f67)),_0x59df0a[_0x333c49]=_0x586f67;})),_0x59df0a;},'set':async _0x31c55c=>{const _0x1adee4=_0x354322;let _0x36d2b5=[];for(let _0x2e706b in _0x31c55c)for(let _0x5d2144 in _0x31c55c[_0x2e706b]){let _0x1a7b16=_0x31c55c[_0x2e706b][_0x5d2144],_0x51d56c=_0x2e706b+'-'+_0x5d2144;_0x36d2b5[_0x1adee4(0x346)](_0x1a7b16?await _0x15eff9(_0x1a7b16,_0x51d56c):await _0x55d029(_0x51d56c));}await Promise['all'](_0x36d2b5);}}},'saveCreds':async()=>await _0x15eff9(_0x512058,_0x354322(0x39c))};}var P=T(require('fs')),At=require(a0_0x4b3f0f(0x164)),It=T(require('sharp'));function J(_0x1ddb33){const _0x5d77cb=a0_0x4b3f0f;if(_0x1ddb33['viewOnceMessage']||_0x1ddb33[_0x5d77cb(0xbd)]){let _0x592a64=_0x1ddb33[_0x5d77cb(0x2da)]?_0x1ddb33['viewOnceMessage']['message']:_0x1ddb33[_0x5d77cb(0xbd)][_0x5d77cb(0x46a)];return(0x0,w[_0x5d77cb(0x60f)])(_0x592a64);}return _0x1ddb33[_0x5d77cb(0x674)]?'pollCreationMessageV3':_0x1ddb33[_0x5d77cb(0x28d)]?_0x5d77cb(0x28d):(0x0,w[_0x5d77cb(0x60f)])(_0x1ddb33);}var ye=class c{constructor(_0xe6d34c,_0x3ec6e0,_0x3b28ed){const _0x1b9480=a0_0x4b3f0f;this[_0x1b9480(0x32b)]=_0xe6d34c,this[_0x1b9480(0x319)]=_0x3ec6e0,this['repository']=_0x3b28ed,this[_0x1b9480(0x26b)]=null,this[_0x1b9480(0x3f6)]=new N(c['name']),this[_0x1b9480(0x62a)]={},this[_0x1b9480(0x594)]={},this[_0x1b9480(0x3ce)]={'state':_0x1b9480(0x33e)},this[_0x1b9480(0xc5)]=(0x0,$[_0x1b9480(0x488)])(Q,_0x1b9480(0x545)),this[_0x1b9480(0x3d6)]=new gs[(_0x1b9480(0x4ea))](),this[_0x1b9480(0x626)]=new gs[(_0x1b9480(0x4ea))](),this[_0x1b9480(0xe5)]=!0x1,this['webhookMap']={'status.instance':_0x1b9480(0x36e),'qrcode.updated':_0x1b9480(0x4e2),'messages.upsert':_0x1b9480(0x63e),'messages.update':_0x1b9480(0x19b),'send.message':_0x1b9480(0x63e),'group.upsert':'/wa-groups','group.update':_0x1b9480(0x54d),'group-participants.update':_0x1b9480(0x54d),'connection.update':'/wa-connection-update','messages.set':_0x1b9480(0x63e),'contacts.set':_0x1b9480(0x608),'contacts.upsert':'/wa-contacts','contacts.update':_0x1b9480(0x608),'presence.update':_0x1b9480(0x54a),'chats.set':_0x1b9480(0xec),'chats.update':'/wa-chats','chats.upsert':_0x1b9480(0xec),'chats.delete':_0x1b9480(0xec)},this[_0x1b9480(0x3cb)]=0x0,this[_0x1b9480(0x173)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xf,this[_0x1b9480(0x509)]=0x7530,this[_0x1b9480(0x455)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x2cef96,_0x54f347)=>{const _0x42211f=_0x1b9480;let _0x45f007=[];for await(let _0x2d7942 of _0x2cef96)_0x45f007[_0x42211f(0x346)]({'_id':_0x2d7942['id'],'owner':this['instance'][_0x42211f(0x1c6)],'group':_0x2d7942['id'][_0x42211f(0xd2)](_0x42211f(0x2ca)),'name':_0x2d7942[_0x42211f(0x11c)]||_0x2d7942[_0x42211f(0x52a)]||null,'contactname':null,'lastmsg':_0x2d7942[_0x42211f(0x193)]&&_0x2d7942[_0x42211f(0x193)][_0x42211f(0x16e)]()[_0x42211f(0x529)]<0xd?_0x2d7942[_0x42211f(0x193)]*0x3e8:_0x2d7942[_0x42211f(0x193)]||null,'archived':_0x2d7942['archived']||!0x1,'unreadcount':_0x2d7942[_0x42211f(0x435)]||0x0});await this[_0x42211f(0x5b8)](_0x42211f(0x5ff),_0x45f007);},'chats.update':async(_0x56901f,_0x26108f)=>{const _0x3351bd=_0x1b9480;for(let _0x550032 of _0x56901f){let _0x1392a8={'_id':_0x550032['id'],'owner':this[_0x3351bd(0x62a)][_0x3351bd(0x1c6)],'group':_0x550032['id'][_0x3351bd(0xd2)](_0x3351bd(0x2ca)),'name':_0x550032[_0x3351bd(0x11c)]||_0x550032['displayName'],'archived':_0x550032[_0x3351bd(0x458)]},_0x2586da=!0x1,_0x48ba0e={};_0x1392a8[_0x3351bd(0x458)]!=null&&(this[_0x3351bd(0x3f6)][_0x3351bd(0x5e6)](this[_0x3351bd(0x40d)]+'\x20('+this[_0x3351bd(0x62a)][_0x3351bd(0x1c6)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x550032[_0x3351bd(0x458)]),_0x2586da=!0x0,_0x48ba0e[_0x3351bd(0x458)]=_0x550032[_0x3351bd(0x458)]),_0x550032[_0x3351bd(0x11c)]!=null&&(this[_0x3351bd(0x3f6)][_0x3351bd(0x5e6)](this['instanceName']+'\x20('+this['instance'][_0x3351bd(0x1c6)]+_0x3351bd(0x4b7)+_0x550032[_0x3351bd(0x11c)]),_0x2586da=!0x0,_0x48ba0e[_0x3351bd(0x11c)]=_0x550032[_0x3351bd(0x11c)]),_0x550032[_0x3351bd(0x52a)]!=null&&(this['logger'][_0x3351bd(0x5e6)](this[_0x3351bd(0x40d)]+'\x20('+this[_0x3351bd(0x62a)][_0x3351bd(0x1c6)]+_0x3351bd(0x1b0)+_0x550032[_0x3351bd(0x52a)]),_0x2586da=!0x0,_0x48ba0e['name']=_0x550032[_0x3351bd(0x52a)]);let _0x8a5fa4;_0x2586da&&(_0x8a5fa4=await this[_0x3351bd(0x1ea)][_0x3351bd(0x5db)][_0x3351bd(0x4db)]({'where':{'_id':_0x550032['id'],'owner':this[_0x3351bd(0x62a)][_0x3351bd(0x1c6)]}},_0x48ba0e)),_0x8a5fa4&&B(this['instanceName'],_0x3351bd(0x417),{'chat':_0x8a5fa4});}},'chats.delete':async _0x4523b7=>{const _0x518cc5=_0x1b9480;await this['sendDataWebhook'](_0x518cc5(0x598),[..._0x4523b7]);}},this[_0x1b9480(0x4eb)]={'contacts.upsert':async(_0x3ce8e2,_0x18a035)=>{const _0x31bddc=_0x1b9480;let _0x1a6f97=await this[_0x31bddc(0x1ea)][_0x31bddc(0x339)][_0x31bddc(0x28c)]({'where':{'owner':this['instance']['wuid']}}),_0x1dd291=[];for await(let _0x47454b of _0x3ce8e2)_0x1a6f97[_0x31bddc(0x28c)](_0x4e328d=>_0x4e328d[_0x31bddc(0x2e8)]===_0x47454b['id'])||_0x1dd291['push']({'_id':_0x47454b['id'],'pushName':_0x47454b?.[_0x31bddc(0x11c)]||_0x47454b?.[_0x31bddc(0x535)],'owner':this[_0x31bddc(0x62a)]['wuid']});await this[_0x31bddc(0x5b8)](_0x31bddc(0x4d9),_0x1dd291),await this[_0x31bddc(0x1ea)][_0x31bddc(0x339)][_0x31bddc(0x528)](_0x1dd291);},'contacts.update':async(_0x596dbd,_0x2f590b)=>{const _0x12875b=_0x1b9480;let _0x57bd58=[];for await(let _0x15b268 of _0x596dbd)_0x57bd58[_0x12875b(0x346)]({'_id':_0x15b268['id'],'pushName':_0x15b268?.[_0x12875b(0x11c)]??_0x15b268?.['verifiedName'],'owner':this['instance'][_0x12875b(0x1c6)]});await this[_0x12875b(0x5b8)](_0x12875b(0x60d),_0x57bd58);}},this['messageHandle']={'messaging-history.set':async({messages:_0x208e96,chats:_0x149ea9,isLatest:_0x55fedd},_0xae74ff)=>{const _0x17cda8=_0x1b9480;if(_0x55fedd){let _0x50f3f8=await Promise['all'](_0x149ea9['map'](async _0x19732a=>({'_id':_0x19732a['id'],'owner':this[_0x17cda8(0x62a)][_0x17cda8(0x1c6)],'group':_0x19732a['id'][_0x17cda8(0xd2)]('@g.us'),'name':_0x19732a[_0x17cda8(0x11c)]||_0x19732a[_0x17cda8(0x52a)]||null,'contactname':null,'lastmsg':_0x19732a[_0x17cda8(0x193)]&&_0x19732a['conversationTimestamp'][_0x17cda8(0x16e)]()[_0x17cda8(0x529)]<0xd?_0x19732a[_0x17cda8(0x193)]*0x3e8:_0x19732a[_0x17cda8(0x193)]||null,'archived':_0x19732a[_0x17cda8(0x458)]||!0x1,'unreadcount':_0x19732a[_0x17cda8(0x435)]||0x0})));await this[_0x17cda8(0x5b8)](_0x17cda8(0xe8),_0x50f3f8),await this['upsertChats'](_0x50f3f8,_0xae74ff);}let _0x2bd5e1=[],_0x465a1b=Date[_0x17cda8(0x18b)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x154426]of Object[_0x17cda8(0x5ee)](_0x208e96)){if(_0x154426[_0x17cda8(0x46a)]?.[_0x17cda8(0x4f8)]||_0x154426['message']?.[_0x17cda8(0x1c2)]||!_0x154426[_0x17cda8(0x46a)]||_0x154426[_0x17cda8(0x268)]['remoteJid']===_0x17cda8(0x632)||(ps[_0x17cda8(0x4ea)][_0x17cda8(0xf6)](_0x154426?.[_0x17cda8(0x2fa)])&&(_0x154426[_0x17cda8(0x2fa)]=_0x154426[_0x17cda8(0x2fa)]?.[_0x17cda8(0x60c)]()),_0x154426[_0x17cda8(0x2fa)]&&_0x154426['messageTimestamp']['toString']()[_0x17cda8(0x529)]<0xd&&(_0x154426[_0x17cda8(0x2fa)]=_0x154426['messageTimestamp']*0x3e8),_0x154426[_0x17cda8(0x2fa)]<_0x465a1b))continue;let {message_normalized:_0x1b722f}=this['normalizeMessage'](_0x154426[_0x17cda8(0x46a)],J(_0x154426[_0x17cda8(0x46a)]),null);Object['keys'](_0x1b722f)[_0x17cda8(0x529)]>0x0&&_0x2bd5e1['push']({'_id':_0x154426[_0x17cda8(0x268)]['id'],'key':_0x154426[_0x17cda8(0x268)],'pushName':_0x154426[_0x17cda8(0x420)],'participant':_0x154426[_0x17cda8(0x3fa)],'message':{..._0x154426[_0x17cda8(0x46a)]},'messageType':J(_0x154426[_0x17cda8(0x46a)]),'message_normalized':{'key':_0x154426[_0x17cda8(0x268)],'pushName':_0x154426[_0x17cda8(0x420)],'messageTimestamp':_0x154426[_0x17cda8(0x2fa)],..._0x1b722f},'messageTimestamp':_0x154426[_0x17cda8(0x2fa)],'owner':this[_0x17cda8(0x62a)][_0x17cda8(0x1c6)]});}_0xae74ff[_0x17cda8(0x4b6)]&&_0x2bd5e1['length']>0x0&&(this[_0x17cda8(0x3f6)]['verbose'](this['instanceName']+'\x20('+this[_0x17cda8(0x62a)][_0x17cda8(0x1c6)]+_0x17cda8(0x39b)+_0x2bd5e1['length']+_0x17cda8(0x39e)+this[_0x17cda8(0x62a)]['wuid']+_0x17cda8(0x5ce)),await this[_0x17cda8(0x1ea)][_0x17cda8(0x46a)][_0x17cda8(0x528)]([..._0x2bd5e1])),this[_0x17cda8(0x5b8)](_0x17cda8(0x513),[..._0x2bd5e1]),_0x208e96=void 0x0;},'messages.upsert':async({messages:_0x3681cb,type:_0x3f06f8},_0x2459ef)=>{const _0x577092=_0x1b9480;let _0x3bd362=_0x3681cb[0x0];if(_0x3f06f8!==_0x577092(0x28b)||!_0x3bd362?.['message']||_0x3bd362['message']?.['protocolMessage']||_0x3bd362['message'][_0x577092(0x1c2)]||_0x3bd362[_0x577092(0x268)][_0x577092(0x110)]===_0x577092(0x632))return;let _0x2071cd=null,_0x30a4d4=null;try{_0x2071cd=await this[_0x577092(0xfb)](_0x3bd362),_0x30a4d4=_0x2071cd?_0x2071cd['join'](','):null;}catch(_0x3f4411){this['logger'][_0x577092(0x5e6)](this[_0x577092(0x40d)]+'\x20('+this[_0x577092(0x62a)][_0x577092(0x1c6)]+'):\x20'+_0x3f4411[_0x577092(0x46a)]),_0x30a4d4=_0x577092(0x106);}if(this[_0x577092(0x593)]['sendPresenceUpdate'](_0x577092(0x385)),ps[_0x577092(0x4ea)][_0x577092(0xf6)](_0x3bd362[_0x577092(0x2fa)])&&(_0x3bd362[_0x577092(0x2fa)]=_0x3bd362[_0x577092(0x2fa)]?.[_0x577092(0x60c)]()),this[_0x577092(0x594)]?.[_0x577092(0x1de)]&&_0x3bd362[_0x577092(0x268)][_0x577092(0x110)][_0x577092(0x531)]('@g.us')){this[_0x577092(0x3f6)][_0x577092(0x5e6)](_0x577092(0x3f4));return;}_0x3bd362[_0x577092(0x2fa)]&&_0x3bd362['messageTimestamp'][_0x577092(0x16e)]()[_0x577092(0x529)]<0xd&&(_0x3bd362[_0x577092(0x2fa)]=_0x3bd362[_0x577092(0x2fa)]*0x3e8);let _0x78041d=_0x3bd362[_0x577092(0x46a)],{messageContent:_0x3d7d1d,message_normalized:_0x3a1f90}=this[_0x577092(0x624)](_0x78041d,J(_0x3bd362[_0x577092(0x46a)]),_0x30a4d4);_0x3d7d1d||console[_0x577092(0x622)](_0x577092(0x4e1));let _0x3cc5c4={'_id':_0x3bd362[_0x577092(0x268)]['id'],'key':_0x3bd362[_0x577092(0x268)],'pushName':_0x3bd362['pushName'],'message':{..._0x3bd362[_0x577092(0x46a)]},'messageType':J(_0x3bd362[_0x577092(0x46a)]),'message_normalized':{'key':_0x3bd362[_0x577092(0x268)],'pushName':_0x3bd362['pushName'],'messageTimestamp':_0x3bd362['messageTimestamp'],'source':(0x0,w['getDevice'])(_0x3bd362['key']['id']),..._0x3a1f90},'messageTimestamp':_0x3bd362[_0x577092(0x2fa)],'owner':this[_0x577092(0x62a)][_0x577092(0x1c6)]};this[_0x577092(0x3f6)][_0x577092(0x21a)](_0x3cc5c4),await this[_0x577092(0x1ea)][_0x577092(0x46a)][_0x577092(0x528)]([_0x3cc5c4]),await this[_0x577092(0x5b8)](_0x577092(0x4be),_0x3cc5c4),B(this[_0x577092(0x40d)],'messages',{'message':_0x3cc5c4}),_0x3bd362[_0x577092(0x268)][_0x577092(0x110)]!==_0x577092(0x632)&&await this[_0x577092(0x456)](_0x2459ef,_0x3cc5c4,_0x577092(0x5c8));},'messages.update':async(_0x3985ea,_0x3d25ad)=>{const _0x111878=_0x1b9480;let _0x49a2c7={0x0:'ERROR',0x1:'PENDING',0x2:_0x111878(0x32c),0x3:_0x111878(0xe4),0x4:_0x111878(0x45e),0x5:'PLAYED'};for await(let {key:_0xead043,update:_0x99a237}of _0x3985ea){if(this[_0x111878(0x594)]?.[_0x111878(0x1de)]&&_0xead043[_0x111878(0x110)][_0x111878(0x531)](_0x111878(0x2ca))){this[_0x111878(0x3f6)][_0x111878(0x5e6)](_0x111878(0x3f4));return;}if(_0xead043[_0x111878(0x110)]!==_0x111878(0x632)){let _0x31706f=Date[_0x111878(0x18b)](),_0x1b96d5;_0x99a237[_0x111878(0x46a)]===null&&_0x99a237[_0x111878(0x238)]===void 0x0?_0x1b96d5=_0x111878(0x30c):_0x1b96d5=_0x49a2c7[_0x99a237['status']];let _0x5a921b=_0xead043['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x1f46b5={..._0xead043,'remoteJid':_0x5a921b,'status':_0x1b96d5,'datetime':_0x31706f,'owner':this[_0x111878(0x62a)][_0x111878(0x1c6)]};await this['sendDataWebhook'](_0x111878(0x40f),_0x1f46b5),await this[_0x111878(0x387)](_0xead043,_0x5a921b,_0x1f46b5);}}}},this[_0x1b9480(0x378)]={'groups.upsert':_0x540811=>{const _0x1bbc0a=_0x1b9480;this[_0x1bbc0a(0x5b8)](_0x1bbc0a(0x67d),_0x540811);},'groups.update':_0x4da38a=>{const _0x5bfbeb=_0x1b9480;this[_0x5bfbeb(0x5b8)](_0x5bfbeb(0x679),_0x4da38a);},'group-participants.update':_0x2437e3=>{const _0x19715c=_0x1b9480;this[_0x19715c(0x5b8)](_0x19715c(0x425),_0x2437e3);}},this[_0x1b9480(0xfb)]=async _0xe0e562=>{const _0x4178b9=_0x1b9480;if(_0xe0e562[_0x4178b9(0x46a)]?.[_0x4178b9(0x63d)]){let _0x3d1d79=await this[_0x4178b9(0x3d9)](_0xe0e562[_0x4178b9(0x46a)][_0x4178b9(0x63d)][_0x4178b9(0x46d)],!0x0);if(_0x3d1d79){let _0x5e68d9=_0x3d1d79[_0x4178b9(0x268)][_0x4178b9(0x38c)]?this[_0x4178b9(0x62a)]['wuid']+_0x4178b9(0x11d):_0x3d1d79[_0x4178b9(0x268)][_0x4178b9(0x3fa)]||_0x3d1d79[_0x4178b9(0x268)][_0x4178b9(0x110)],_0x59235b=_0x3d1d79[_0x4178b9(0x268)]['id'],_0x3a565c=_0x3d1d79[_0x4178b9(0x46a)],_0x48dc5d=Buffer[_0x4178b9(0x439)](_0x3a565c[_0x4178b9(0x48f)][_0x4178b9(0x459)][_0x4178b9(0x16e)]('hex'),_0x4178b9(0x3e4)),_0x584df5=(0x0,w[_0x4178b9(0x13a)])(_0xe0e562[_0x4178b9(0x46a)][_0x4178b9(0x63d)][_0x4178b9(0x32a)],{'pollCreatorJid':_0x5e68d9,'pollMsgId':_0x59235b,'pollEncKey':_0x48dc5d,'voterJid':_0xe0e562[_0x4178b9(0x268)][_0x4178b9(0x38c)]?this[_0x4178b9(0x62a)][_0x4178b9(0x1c6)]+_0x4178b9(0x11d):_0xe0e562[_0x4178b9(0x268)][_0x4178b9(0x110)][_0x4178b9(0xd2)](_0x4178b9(0x2b2))?_0xe0e562[_0x4178b9(0x268)][_0x4178b9(0x3fa)]:_0xe0e562[_0x4178b9(0x268)][_0x4178b9(0x110)]}),_0x5d7972=[],_0x4a644f=_0x584df5[_0x4178b9(0x1e5)][_0x4178b9(0x53c)](_0x5eaa0d=>Buffer['from'](_0x5eaa0d)[_0x4178b9(0x16e)](_0x4178b9(0x3e4)));for(let {optionName:_0x2f08d0}of _0x3a565c['pollCreationMessage']?.[_0x4178b9(0x59e)]||_0x3a565c[_0x4178b9(0x674)]?.[_0x4178b9(0x59e)]||_0x3a565c[_0x4178b9(0x28d)]?.[_0x4178b9(0x59e)])_0x4a644f[_0x4178b9(0x5f6)]((0x0,w[_0x4178b9(0x62f)])(Buffer[_0x4178b9(0x439)](_0x2f08d0))[_0x4178b9(0x16e)](_0x4178b9(0x3e4)))>-0x1&&_0x5d7972[_0x4178b9(0x346)](_0x2f08d0);return _0x5d7972;}}return null;},this[_0x1b9480(0x624)]=(_0x56c129,_0x345d4b,_0x333167)=>{const _0x903fad=_0x1b9480;let _0x8fcf0a=_0x345d4b?_0x56c129[_0x345d4b]:void 0x0,_0x4cedf3={},_0x208ef0=null,_0x187649=null,_0x3f6aaa=null;if(_0x56c129[_0x903fad(0xbd)]?_0x8fcf0a=_0x56c129['viewOnceMessageV2'][_0x903fad(0x46a)][_0x345d4b]:_0x56c129[_0x903fad(0x2da)]?_0x8fcf0a=_0x56c129[_0x903fad(0x2da)]['message'][_0x345d4b]:_0x56c129[_0x903fad(0x512)]?_0x8fcf0a=_0x56c129[_0x903fad(0x512)][_0x903fad(0x46a)][_0x345d4b]:_0x56c129[_0x903fad(0x3eb)]?.['message']?.[_0x903fad(0x4f8)]?.[_0x903fad(0x3eb)]?(_0x208ef0=_0x56c129['editedMessage']['message']['protocolMessage'][_0x903fad(0x268)]['id'],_0x56c129[_0x903fad(0x3eb)]['message'][_0x903fad(0x4f8)][_0x903fad(0x3eb)][_0x903fad(0x11e)]?_0x8fcf0a=_0x56c129[_0x903fad(0x3eb)][_0x903fad(0x46a)][_0x903fad(0x4f8)][_0x903fad(0x3eb)]['conversation']:_0x56c129['editedMessage']['message']['protocolMessage'][_0x903fad(0x3eb)][_0x903fad(0x35c)]?_0x8fcf0a=_0x56c129[_0x903fad(0x3eb)][_0x903fad(0x46a)][_0x903fad(0x4f8)][_0x903fad(0x3eb)][_0x903fad(0x35c)][_0x903fad(0x5a6)]:_0x56c129[_0x903fad(0x3eb)]['message'][_0x903fad(0x4f8)][_0x903fad(0x3eb)][_0x903fad(0xc2)]?_0x8fcf0a=_0x56c129[_0x903fad(0x3eb)][_0x903fad(0x46a)]['protocolMessage'][_0x903fad(0x3eb)][_0x903fad(0xc2)][_0x903fad(0x5a6)]:_0x56c129[_0x903fad(0x3eb)][_0x903fad(0x46a)]['protocolMessage'][_0x903fad(0x3eb)]['documentWithCaptionMessage']?_0x8fcf0a=_0x56c129[_0x903fad(0x3eb)]['message'][_0x903fad(0x4f8)][_0x903fad(0x3eb)][_0x903fad(0x235)][_0x903fad(0x46a)][_0x903fad(0xb8)][_0x903fad(0x5a6)]:_0x8fcf0a=_0x56c129[_0x903fad(0x3eb)][_0x903fad(0x46a)][_0x903fad(0x4f8)][_0x903fad(0x3eb)]):_0x8fcf0a=_0x56c129[_0x345d4b],!_0x345d4b||!_0x8fcf0a)return console[_0x903fad(0x622)]('Unknown\x20message\x20type\x20or\x20empty\x20message',_0x56c129),{'messageType':_0x345d4b,'messageContent':_0x8fcf0a,'message_normalized':{}};_0x56c129[_0x345d4b]?.[_0x903fad(0xd6)]?.['stanzaId']&&_0x56c129[_0x345d4b]?.[_0x903fad(0xd6)]?.[_0x903fad(0x26f)]&&(_0x187649=_0x56c129[_0x345d4b][_0x903fad(0xd6)][_0x903fad(0x22d)]),_0x56c129[_0x903fad(0x34f)]&&(_0x3f6aaa=_0x56c129[_0x903fad(0x34f)]['key']['id']);let _0x205657;if(_0x8fcf0a&&typeof _0x8fcf0a==_0x903fad(0x64a)&&_0x903fad(0x46d)in _0x8fcf0a&&({pollCreationMessageKey:_0x205657}=_0x8fcf0a),_0x345d4b===_0x903fad(0x235)){let _0xb9371e=_0x8fcf0a?.[_0x903fad(0x46a)]?.[_0x903fad(0xb8)];_0xb9371e&&(_0x8fcf0a=_0xb9371e);}if(_0x345d4b===_0x903fad(0x45a)||_0x345d4b===_0x903fad(0x28d)||_0x345d4b===_0x903fad(0x674)){let _0x109ad1=_0x8fcf0a[_0x903fad(0x59e)][_0x903fad(0x53c)](_0x20fdc1=>_0x20fdc1[_0x903fad(0x3d1)])['join']('|');_0x4cedf3[_0x903fad(0x298)]=_0x109ad1;}let _0x1bb9d5=_0x8fcf0a[_0x903fad(0x11c)]||_0x8fcf0a[_0x903fad(0x5a6)]||_0x8fcf0a[_0x903fad(0x11e)]||_0x8fcf0a[_0x903fad(0x52a)];if(_0x8fcf0a['vcard']){let _0x529f90=this[_0x903fad(0x344)](JSON[_0x903fad(0x3c6)](_0x8fcf0a[_0x903fad(0x3ba)],null,0x2));_0x1bb9d5=_0x1bb9d5+'\x0a'+_0x529f90;}if(_0x8fcf0a){let {displayName:_0x51e564,vcard:_0x33c735,contactVcard:_0x10e80b,name:_0x35373d,caption:_0x24b876,conversation:_0x4cf5b8,pollCreationMessageKey:_0x134309,footerText:_0x3dc235,contentText:_0x46ef77,pageCount:_0x13119d,headerType:_0x16d5d0,isAvatar:_0x1e410e,isAnimated:_0xf2eaca,fallbackLc:_0x39b2a8,fallbackLg:_0x397b4b,namespace:_0x45d8e1,elementName:_0x38d447,localizableParams:_0x3813ae,viewOnce:_0x49cb47,height:_0x96b2f8,width:_0xa3a890,key:_0x24e144,firstScanLength:_0x173110,firstScanSidecar:_0x2f79f6,gifPlayback:_0x48933b,gifAttribution:_0x1bb31e,midQualityFileSha256:_0x3dc7a9,scansSidecar:_0x39a014,streamingSidecar:_0x2152a9,thumbnailHeight:_0x433291,thumbnailWidth:_0x451587,thumbnailEncSha256:_0x175525,thumbnailDirectPath:_0x361e99,canonicalUrl:_0x1d796b,matchedText:_0x47a279,previewType:_0x56e5f0,thumbnailSha256:_0x36b32f,deviceListMetadataVersion:_0x3e4fab,inviteLinkGroupTypeV2:_0x46dbdf,interactiveAnnotations:_0x1204b5,scanLengths:_0x238175,jpegThumbnail:_0xc516e6,url:_0x32b099,mediaKeyTimestamp:_0x38851f,waveform:_0x31fad4,stickerSentTs:_0x4036be,firstFrameLength:_0x4fb29a,fileEncSha256:_0x4f25fe,contextInfo:_0x2b12ae,firstFrameSidecar:_0x17d09e,directPath:_0x514618,fileSha256:_0x831e28,mediaKey:_0x5a7cf1,senderTimestampMs:_0x377423,..._0xb60110}=_0x8fcf0a;typeof _0x8fcf0a==_0x903fad(0x4b9)?_0x4cedf3={'text':_0x8fcf0a,'type':_0x345d4b||_0x903fad(0x11e),..._0x208ef0&&{'edited':_0x208ef0},..._0x187649&&{'quoted':_0x187649},..._0x3f6aaa&&{'reaction':_0x3f6aaa}}:_0x4cedf3={'text':_0x1bb9d5,..._0xb60110,..._0x345d4b===_0x903fad(0x63d)?{'poll_id':_0x8fcf0a[_0x903fad(0x46d)]['id'],'vote':_0x333167}:{},'type':_0x345d4b,..._0x208ef0&&{'edited':_0x208ef0},..._0x187649&&{'quoted':_0x187649},..._0x3f6aaa&&{'reaction':_0x3f6aaa},...(_0x345d4b===_0x903fad(0x45a)||_0x345d4b==='pollCreationMessageV2'||_0x345d4b===_0x903fad(0x674))&&{'convertedOptions':_0x4cedf3['convertedOptions']}};}return{'messageType':_0x345d4b,'messageContent':_0x8fcf0a,'message_normalized':_0x4cedf3};},this[_0x1b9480(0x657)]=null,this[_0x1b9480(0x611)]=0x0,(this[_0x1b9480(0xb5)](),this['instance'][_0x1b9480(0x1f1)]={'count':0x0});}set[a0_0x4b3f0f(0x40d)](_0x4452bd){const _0xb4ac15=a0_0x4b3f0f;if(!_0x4452bd){this['instance'][_0xb4ac15(0x11c)]=(0x0,Za['v4'])();return;}this[_0xb4ac15(0x62a)][_0xb4ac15(0x11c)]=_0x4452bd,this[_0xb4ac15(0x5b8)](_0xb4ac15(0x580),{'instance':this[_0xb4ac15(0x62a)][_0xb4ac15(0x11c)],'status':'created'});}get[a0_0x4b3f0f(0x40d)](){const _0x2563d1=a0_0x4b3f0f;return this[_0x2563d1(0x62a)]['name'];}get[a0_0x4b3f0f(0x1c6)](){const _0x1b62ae=a0_0x4b3f0f;return this['instance'][_0x1b62ae(0x1c6)];}async[a0_0x4b3f0f(0x355)](){const _0x4c626d=a0_0x4b3f0f;let _0x5043ed=this[_0x4c626d(0x593)][_0x4c626d(0x43d)]?.[_0x4c626d(0x11c)]??this[_0x4c626d(0x593)]['user']?.[_0x4c626d(0x535)];if(!_0x5043ed){if(this['configService'][_0x4c626d(0x2a0)](_0x4c626d(0x162))['ENABLED']){let _0x435668=await M['getClient']()['db'](this[_0x4c626d(0x32b)]['get'](_0x4c626d(0x162))[_0x4c626d(0x244)][_0x4c626d(0x571)]+'-instances')[_0x4c626d(0x282)](this[_0x4c626d(0x40d)])[_0x4c626d(0x134)]({'_id':'creds'});if(_0x435668){let _0x282f07=JSON[_0x4c626d(0x5d5)](JSON[_0x4c626d(0x3c6)](_0x435668),w[_0x4c626d(0x237)][_0x4c626d(0x135)]);_0x5043ed=_0x282f07['me']?.[_0x4c626d(0x11c)]||_0x282f07['me']?.[_0x4c626d(0x535)];}}else{if((0x0,Te[_0x4c626d(0x4d7)])((0x0,$[_0x4c626d(0x488)])(V,this[_0x4c626d(0x40d)],_0x4c626d(0x4cc)))){let _0x2df528=JSON[_0x4c626d(0x5d5)]((0x0,Te['readFileSync'])((0x0,$[_0x4c626d(0x488)])(V,this[_0x4c626d(0x40d)],_0x4c626d(0x4cc)),{'encoding':_0x4c626d(0x50f)}));_0x5043ed=_0x2df528['me']?.[_0x4c626d(0x11c)]||_0x2df528['me']?.[_0x4c626d(0x535)];}}}return _0x5043ed;}get[a0_0x4b3f0f(0x2b4)](){const _0x4b77a3=a0_0x4b3f0f;return this[_0x4b77a3(0x62a)][_0x4b77a3(0x2b4)];}get[a0_0x4b3f0f(0x342)](){const _0x404923=a0_0x4b3f0f;return{'code':this[_0x404923(0x62a)][_0x404923(0x1f1)]?.[_0x404923(0x156)],'base64':this[_0x404923(0x62a)][_0x404923(0x1f1)]?.[_0x404923(0x3d3)]};}async['loadWebhook'](){const _0x146bb9=a0_0x4b3f0f;let _0x2071f6=await this['repository'][_0x146bb9(0x596)]['find'](this['instanceName']);this[_0x146bb9(0x594)][_0x146bb9(0x4fd)]=_0x2071f6?.[_0x146bb9(0x4fd)],this['localWebhook'][_0x146bb9(0x500)]=_0x2071f6?.[_0x146bb9(0x500)],this['localWebhook']['local_map']=_0x2071f6?.[_0x146bb9(0x36d)],this[_0x146bb9(0x594)][_0x146bb9(0xa2)]=_0x2071f6?.['STATUS_INSTANCE'],this[_0x146bb9(0x594)]['QRCODE_UPDATED']=_0x2071f6?.[_0x146bb9(0x2e6)],this[_0x146bb9(0x594)][_0x146bb9(0x357)]=_0x2071f6?.[_0x146bb9(0x357)],this[_0x146bb9(0x594)][_0x146bb9(0x5c8)]=_0x2071f6?.[_0x146bb9(0x5c8)],this[_0x146bb9(0x594)][_0x146bb9(0x10c)]=_0x2071f6?.[_0x146bb9(0x10c)],this[_0x146bb9(0x594)][_0x146bb9(0x279)]=_0x2071f6?.[_0x146bb9(0x279)],this[_0x146bb9(0x594)]['GROUPS_UPDATE']=_0x2071f6?.[_0x146bb9(0x5c6)],this[_0x146bb9(0x594)]['GROUP_PARTICIPANTS_UPDATE']=_0x2071f6?.[_0x146bb9(0x565)],this[_0x146bb9(0x594)][_0x146bb9(0x549)]=_0x2071f6?.[_0x146bb9(0x549)],this[_0x146bb9(0x594)][_0x146bb9(0xaa)]=_0x2071f6?.[_0x146bb9(0xaa)],this[_0x146bb9(0x594)][_0x146bb9(0x17d)]=_0x2071f6?.[_0x146bb9(0x17d)],this[_0x146bb9(0x594)][_0x146bb9(0x360)]=_0x2071f6?.[_0x146bb9(0x360)],this[_0x146bb9(0x594)]['CONTACTS_SET']=_0x2071f6?.[_0x146bb9(0x606)],this['localWebhook']['CONTACTS_UPSERT']=_0x2071f6?.[_0x146bb9(0xc6)],this['localWebhook'][_0x146bb9(0xa3)]=_0x2071f6?.['CONTACTS_UPDATE'],this[_0x146bb9(0x594)][_0x146bb9(0x2e4)]=_0x2071f6?.[_0x146bb9(0x2e4)],this['localWebhook']['MESSAGES_SET']=_0x2071f6?.['MESSAGES_SET'],this[_0x146bb9(0x594)][_0x146bb9(0xac)]=_0x2071f6?.[_0x146bb9(0xac)],this[_0x146bb9(0x594)][_0x146bb9(0x1de)]=_0x2071f6?.[_0x146bb9(0x1de)];}async[a0_0x4b3f0f(0x649)](_0x31aa56){const _0x102fad=a0_0x4b3f0f;let _0x2111d7=[_0x102fad(0x2e8),_0x102fad(0x4fd),_0x102fad(0x500),_0x102fad(0x36d),'STATUS_INSTANCE',_0x102fad(0x2e6),_0x102fad(0x10c),_0x102fad(0x5c8),'SEND_MESSAGE',_0x102fad(0x279),_0x102fad(0x5c6),_0x102fad(0x565),_0x102fad(0x549),_0x102fad(0xaa),_0x102fad(0x17d),_0x102fad(0x360),_0x102fad(0x606),_0x102fad(0xc6),_0x102fad(0xa3),_0x102fad(0x2e4),_0x102fad(0x25b),_0x102fad(0xac),_0x102fad(0x1de)],_0xcff1c0={};return _0x2111d7[_0x102fad(0x557)](_0x38487c=>{_0x31aa56[_0x38487c]!==void 0x0&&(_0xcff1c0[_0x38487c]=_0x31aa56[_0x38487c]);}),await this['repository'][_0x102fad(0x596)][_0x102fad(0x35d)](_0xcff1c0,this[_0x102fad(0x40d)]),Object['assign'](this[_0x102fad(0x594)],_0xcff1c0),await this[_0x102fad(0x1ea)][_0x102fad(0x596)][_0x102fad(0x28c)](this['instanceName']);}async[a0_0x4b3f0f(0x2ea)](){const _0x33ffa1=a0_0x4b3f0f;return await this[_0x33ffa1(0x1ea)][_0x33ffa1(0x596)][_0x33ffa1(0x28c)](this[_0x33ffa1(0x40d)]);}async[a0_0x4b3f0f(0x5b8)](_0x1290a1,_0x5209e2){const _0x55a672=a0_0x4b3f0f;let _0x16e134=this[_0x55a672(0x32b)][_0x55a672(0x2a0)](_0x55a672(0x202)),_0x475b7f=_0x1290a1[_0x55a672(0x2f7)](/[\.-]/gm,'_')['toUpperCase'](),_0x558168=this[_0x55a672(0x594)][_0x55a672(0x500)]&&(0x0,O[_0x55a672(0x1b1)])(this[_0x55a672(0x594)][_0x55a672(0x4fd)])?this[_0x55a672(0x594)][_0x55a672(0x4fd)]+(this['localWebhook'][_0x55a672(0x36d)]?this[_0x55a672(0x124)][_0x1290a1]:''):null,_0x59f420=_0x16e134?.[_0x55a672(0x196)],_0x2dee83=_0x59f420&&_0x59f420?.['ENABLED']&&(0x0,O[_0x55a672(0x1b1)])(_0x59f420[_0x55a672(0x65a)])?_0x59f420[_0x55a672(0x65a)]+(_0x16e134['WEBHOOK_MAP']?this[_0x55a672(0x124)][_0x1290a1]:''):null,_0x1b26b3=this[_0x55a672(0x594)][_0x475b7f],_0x4e70b5=_0x16e134?.[_0x55a672(0x650)]?.[_0x475b7f];if(_0x1b26b3&&_0x558168)try{await ne[_0x55a672(0x4ea)][_0x55a672(0x35d)]({'baseURL':_0x558168})['post']('',{'event':_0x1290a1,'instance':this[_0x55a672(0x62a)][_0x55a672(0x11c)],'data':_0x5209e2}),this[_0x55a672(0x3f6)][_0x55a672(0x21a)](_0x55a672(0x4ae)+_0x1290a1+':\x20'+_0x558168);}catch(_0x1fd339){this[_0x55a672(0x3f6)][_0x55a672(0x622)](this[_0x55a672(0x40d)]+'\x20('+this[_0x55a672(0x62a)][_0x55a672(0x1c6)]+_0x55a672(0x39b)+{'local':c[_0x55a672(0x11c)]+_0x55a672(0x321),'message':_0x1fd339?.[_0x55a672(0x46a)],'hostName':_0x1fd339?.[_0x55a672(0x2b3)],'syscall':_0x1fd339?.[_0x55a672(0x523)],'code':_0x1fd339?.[_0x55a672(0x156)],'error':_0x1fd339?.[_0x55a672(0x176)],'stack':_0x1fd339?.[_0x55a672(0x61b)],'name':_0x1fd339?.['name']});}if(_0x4e70b5&&_0x2dee83)try{await ne[_0x55a672(0x4ea)][_0x55a672(0x35d)]({'baseURL':_0x2dee83})['post']('',{'event':_0x1290a1,'instance':this[_0x55a672(0x62a)][_0x55a672(0x11c)],'data':_0x5209e2}),this[_0x55a672(0x3f6)][_0x55a672(0x21a)](_0x55a672(0x461)+_0x1290a1+':\x20'+_0x2dee83);}catch(_0x3dc038){this[_0x55a672(0x3f6)]['error'](this[_0x55a672(0x40d)]+'\x20('+this[_0x55a672(0x62a)][_0x55a672(0x1c6)]+'):\x20'+{'local':c[_0x55a672(0x11c)]+_0x55a672(0x359),'message':_0x3dc038?.[_0x55a672(0x46a)],'hostName':_0x3dc038?.[_0x55a672(0x2b3)],'syscall':_0x3dc038?.[_0x55a672(0x523)],'code':_0x3dc038?.['code'],'error':_0x3dc038?.['errno'],'stack':_0x3dc038?.[_0x55a672(0x61b)],'name':_0x3dc038?.[_0x55a672(0x11c)]});}}async['connectionUpdate']({qr:_0x16f178,connection:_0x572346,lastDisconnect:_0xa78825}){const _0x217681=a0_0x4b3f0f;if(_0x16f178){if(this[_0x217681(0x62a)][_0x217681(0x1f1)][_0x217681(0x175)]===this[_0x217681(0x32b)][_0x217681(0x2a0)](_0x217681(0x442))[_0x217681(0x398)])return this[_0x217681(0x5b8)](_0x217681(0x2d7),{'message':_0x217681(0x4c4),'statusCode':w['DisconnectReason'][_0x217681(0x299)]}),this['sendDataWebhook'](_0x217681(0x292),{'instance':this['instance'][_0x217681(0x11c)],'state':'refused','statusReason':w[_0x217681(0x3a3)][_0x217681(0x127)]}),this[_0x217681(0x5b8)](_0x217681(0x580),{'instance':this['instance']['name'],'status':_0x217681(0x602)}),this[_0x217681(0xe5)]=!0x0,this[_0x217681(0x319)][_0x217681(0x5ad)]('no.connection',this['instance'][_0x217681(0x11c)]);this[_0x217681(0x62a)][_0x217681(0x1f1)][_0x217681(0x175)]++;let _0x5ce435={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x217681(0x2af),'dark':_0x217681(0x2a7)}};eo[_0x217681(0x4ea)][_0x217681(0x1a7)](_0x16f178,_0x5ce435,(_0xabd1c0,_0x46e87a)=>{const _0x5a8ff8=_0x217681;if(_0xabd1c0){this['logger']['error'](this['instanceName']+'\x20('+this[_0x5a8ff8(0x62a)][_0x5a8ff8(0x1c6)]+_0x5a8ff8(0x1f4)+_0xabd1c0['toString']());return;}this[_0x5a8ff8(0x62a)][_0x5a8ff8(0x1f1)][_0x5a8ff8(0x3d3)]=_0x46e87a,this[_0x5a8ff8(0x62a)][_0x5a8ff8(0x1f1)][_0x5a8ff8(0x156)]=_0x16f178,this[_0x5a8ff8(0x5b8)](_0x5a8ff8(0x2d7),{'qrcode':{'instance':this['instance'][_0x5a8ff8(0x11c)],'code':_0x16f178,'base64':_0x46e87a}});}),to[_0x217681(0x4ea)][_0x217681(0x4d2)](_0x16f178,{'small':!0x0},_0x530459=>this[_0x217681(0x3f6)]['log'](_0x217681(0x46b)+this[_0x217681(0x62a)]['name']+',\x20qrcodeCount:\x20'+this['instance'][_0x217681(0x1f1)][_0x217681(0x175)]+_0x217681(0x434)+_0x530459));}if(_0x572346&&(this['stateConnection']={'state':_0x572346,'statusReason':_0xa78825?.[_0x217681(0x622)]?.[_0x217681(0xd5)]?.['statusCode']??0xc8},this[_0x217681(0x5b8)](_0x217681(0x292),{'instance':this[_0x217681(0x62a)][_0x217681(0x11c)],...this['stateConnection']})),_0x572346===_0x217681(0x33e)){if(this[_0x217681(0x3cb)]++,this[_0x217681(0x173)][_0x217681(0x346)](Date[_0x217681(0x18b)]()),this[_0x217681(0x173)]=this[_0x217681(0x173)][_0x217681(0x651)](_0x24ff8e=>Date[_0x217681(0x18b)]()-_0x24ff8e<this[_0x217681(0x509)]),_0xa78825[_0x217681(0x622)]?.[_0x217681(0xd5)]?.[_0x217681(0x4c5)]!==w['DisconnectReason'][_0x217681(0x1e3)]&&this['reconnectTimestamps'][_0x217681(0x529)]<=this['MAX_RECONNECT_ATTEMPTS'])await this['connectToWhatsapp']();else{this[_0x217681(0x5b8)](_0x217681(0x580),{'instance':this[_0x217681(0x62a)][_0x217681(0x11c)],'status':_0x217681(0x602)}),this[_0x217681(0xe2)]=!0x1;try{this['logger'][_0x217681(0x5e6)](this[_0x217681(0x40d)]+'\x20('+this['instance'][_0x217681(0x1c6)]+_0x217681(0x609));let _0x7af254=await this['repository'][_0x217681(0x46a)][_0x217681(0x486)](this[_0x217681(0x62a)][_0x217681(0x1c6)]);_0x7af254[_0x217681(0x493)]?this[_0x217681(0x3f6)][_0x217681(0x5e6)](this[_0x217681(0x40d)]+'\x20('+this[_0x217681(0x62a)][_0x217681(0x1c6)]+_0x217681(0x2a4)):console['error'](_0x217681(0x2a1),_0x7af254[_0x217681(0x622)]);}catch(_0x247669){console[_0x217681(0x622)](_0x217681(0xd1),_0x247669);}this['delayMessage']!==null&&(this[_0x217681(0x3f6)][_0x217681(0x5e6)](this[_0x217681(0x40d)]+'\x20('+this[_0x217681(0x62a)][_0x217681(0x1c6)]+_0x217681(0x4f9)),clearInterval(this['delayMessage']),this[_0x217681(0x259)]=null),this[_0x217681(0x3f6)][_0x217681(0x5e6)](this['instanceName']+'\x20('+this[_0x217681(0x62a)]['wuid']+'):\x20Limpando\x20AutomateSystem'),this[_0x217681(0x26b)]=null,this['eventEmitter'][_0x217681(0x5ad)](_0x217681(0x62b),this['instance']['name'],_0x217681(0xed)),this[_0x217681(0x593)]?.['ws']?.['close'](),this['client'][_0x217681(0x2db)](new Error('Close\x20connection'));}}if(_0x572346==='open'){this[_0x217681(0x363)],this[_0x217681(0x62a)]['wuid']=this[_0x217681(0x593)][_0x217681(0x43d)]['id'][_0x217681(0x2f7)](/:\d+/,'')[_0x217681(0x2f7)](_0x217681(0x11d),''),this[_0x217681(0x62a)]['profilePictureUrl']=(await this[_0x217681(0x224)](this[_0x217681(0x62a)][_0x217681(0x1c6)]+'@s.whatsapp.net'))['profilePictureUrl'];let _0x3e043e=_0x217681(0x27a)+this['instance'][_0x217681(0x1c6)],_0x19a273=0x28,_0xc4264f=Math['floor']((_0x19a273-_0x3e043e[_0x217681(0x529)])/0x2),_0x4d6672='\x20'[_0x217681(0x177)](_0xc4264f),_0x39924a='CONECTADO\x20À\x20UAZAPI',_0x1e3581=_0x217681(0x3c1)+this[_0x217681(0x62a)][_0x217681(0x11c)],_0x2233c4=(''+_0x4d6672+_0x3e043e+_0x4d6672)[_0x217681(0x446)](_0x19a273,'\x20'),_0x421b38=(''+_0x4d6672+_0x39924a+_0x4d6672)[_0x217681(0x446)](_0x19a273,'\x20'),_0x496273=(''+_0x4d6672+_0x1e3581+_0x4d6672)[_0x217681(0x446)](_0x19a273,'\x20'),_0x4215a2=Math[_0x217681(0x20c)](_0x2233c4[_0x217681(0x529)],_0x421b38['length'],_0x496273[_0x217681(0x529)]),_0x26a19c=_0x2233c4[_0x217681(0x446)](_0x4215a2,'\x20'),_0x494ec3=_0x421b38[_0x217681(0x446)](_0x4215a2,'\x20'),_0x4b86e2=_0x496273[_0x217681(0x446)](_0x4215a2,'\x20');this[_0x217681(0x3f6)][_0x217681(0x5f7)]((_0x217681(0x4ee)+'─'[_0x217681(0x177)](_0x4215a2)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x494ec3+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x4b86e2+_0x217681(0x9d)+_0x26a19c+_0x217681(0x330)+'─'[_0x217681(0x177)](_0x4215a2)+'┘')[_0x217681(0x2f7)](/^ +/gm,'\x20\x20')),this[_0x217681(0xae)](),this[_0x217681(0xe2)]=!0x0;}}['resetReconnectionVariables'](){const _0x22c135=a0_0x4b3f0f;this['reconnectAttempts']=0x0,this[_0x22c135(0x173)]=[];}async['getMessage'](_0x56c701,_0x2bc807=!0x1){const _0x4f4e1c=a0_0x4b3f0f;try{let _0x264092=await this[_0x4f4e1c(0x1ea)][_0x4f4e1c(0x46a)][_0x4f4e1c(0x28c)]({'where':{'owner':this['instance'][_0x4f4e1c(0x1c6)],'_id':_0x56c701['id']}});return _0x2bc807?_0x264092[0x0]:_0x264092[0x0][_0x4f4e1c(0x46a)];}catch{return{'conversation':''};}}[a0_0x4b3f0f(0xb5)](){const _0x4f761a=a0_0x4b3f0f;let _0x2d2126=this[_0x4f761a(0x32b)][_0x4f761a(0x2a0)]('STORE'),_0x4ab95e=this[_0x4f761a(0x32b)]['get'](_0x4f761a(0x162));_0x2d2126?.[_0x4f761a(0x380)]&&!_0x4ab95e[_0x4f761a(0x4b6)]&&setInterval(()=>{const _0x11146d=_0x4f761a;try{for(let [_0x109561,_0x5ce153]of Object[_0x11146d(0x5ee)](_0x2d2126))_0x5ce153===!0x0&&(0x0,Dt['execSync'])(_0x11146d(0x544)+(0x0,$['join'])(this[_0x11146d(0xc5)],_0x109561[_0x11146d(0x40c)](),this['instance']['wuid'])+_0x11146d(0x1f5));}catch{}},(_0x2d2126?.[_0x4f761a(0x380)]??0xe10)*0x3e8);}async[a0_0x4b3f0f(0x33a)](){const _0x54e7ec=a0_0x4b3f0f;let _0x569de8=this[_0x54e7ec(0x32b)]['get'](_0x54e7ec(0x162)),_0x3c3642=this[_0x54e7ec(0x32b)][_0x54e7ec(0x2a0)](_0x54e7ec(0xff));return _0x3c3642?.['ENABLED']?await ds(_0x3c3642,this[_0x54e7ec(0x62a)][_0x54e7ec(0x11c)]):_0x569de8[_0x54e7ec(0x4b6)]?await us(this['instance'][_0x54e7ec(0x11c)]):await(0x0,w[_0x54e7ec(0x5bb)])((0x0,$['join'])(V,this[_0x54e7ec(0x62a)][_0x54e7ec(0x11c)]));}async['AutomateFunctions'](){const _0x1279ff=a0_0x4b3f0f;let _0x4fbbab=()=>Math[_0x1279ff(0x468)](Math[_0x1279ff(0x21e)]()*0x2711)+0x7d0,_0x16226e=async()=>{const _0x210d9a=_0x1279ff;if(!this[_0x210d9a(0xe2)]){this[_0x210d9a(0x3f6)][_0x210d9a(0x5e6)]('Desconectado,\x20parando\x20execução.'),this[_0x210d9a(0x455)]=!0x1;return;}if(this['instance']['wuid']&&this[_0x210d9a(0x26b)]&&this[_0x210d9a(0x259)]!==null&&this['delayMessage']!==void 0x0){let _0x352457=Math[_0x210d9a(0x3b5)](this[_0x210d9a(0x259)]/0xea60);this[_0x210d9a(0x3f6)][_0x210d9a(0x5e6)](this['instanceName']+'\x20('+this[_0x210d9a(0x62a)][_0x210d9a(0x1c6)]+_0x210d9a(0x1e2)+_0x352457+'\x20minutos\x20verificará\x20novas\x20mensagens'),this['isRunning']=!0x1;return;}else this[_0x210d9a(0x62a)][_0x210d9a(0x1c6)]&&(this[_0x210d9a(0x3f6)][_0x210d9a(0x5e6)](this[_0x210d9a(0x40d)]+'\x20('+this[_0x210d9a(0x62a)][_0x210d9a(0x1c6)]+_0x210d9a(0x542)),this[_0x210d9a(0x26b)]||await this[_0x210d9a(0xcf)](),(this[_0x210d9a(0x259)]===null||this[_0x210d9a(0x259)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x210d9a(0x455)]){let _0x33b950=_0x4fbbab();this[_0x210d9a(0x3f6)][_0x210d9a(0x5e6)](this['instanceName']+_0x210d9a(0x14c)+_0x33b950/0x3e8+'\x20segundos'),setTimeout(_0x16226e,_0x33b950);}};if(this[_0x1279ff(0x455)])return;this[_0x1279ff(0x455)]=!0x0;let _0xd3caaf=_0x4fbbab();setTimeout(_0x16226e,_0xd3caaf);}async[a0_0x4b3f0f(0x56b)](){const _0x587077=a0_0x4b3f0f;try{this['loadWebhook'](),this[_0x587077(0x62a)][_0x587077(0x1f3)]=await this[_0x587077(0x33a)]();let {version:_0x3d787a}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x10e5d9=this[_0x587077(0x32b)][_0x587077(0x2a0)](_0x587077(0x33f)),_0x9bf8d8=[_0x10e5d9[_0x587077(0x142)],_0x10e5d9[_0x587077(0x2c3)],(0x0,so[_0x587077(0x4df)])()],_0x5d6e34={'auth':{'creds':this[_0x587077(0x62a)]['authState'][_0x587077(0xc7)][_0x587077(0x39c)],'keys':(0x0,w[_0x587077(0x503)])(this[_0x587077(0x62a)]['authState']['state'][_0x587077(0x1c8)],(0x0,Rt[_0x587077(0x4ea)])({'level':_0x587077(0x622)}))},'logger':(0x0,Rt[_0x587077(0x4ea)])({'level':_0x587077(0x622)}),'printQRInTerminal':!0x1,'browser':_0x9bf8d8,'version':_0x3d787a,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x587077(0x3d6)],'getMessage':async _0x45f9ca=>await this['getMessage'](_0x45f9ca),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x587077(0x626)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x281f7a=>(!!(_0x281f7a['buttonsMessage']||_0x281f7a[_0x587077(0x4ce)])&&(_0x281f7a={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x281f7a}}}),_0x281f7a)};return this['endSession']=!0x1,this['client']=(0x0,w[_0x587077(0x4ea)])(_0x5d6e34),this[_0x587077(0x5cc)](),this[_0x587077(0x593)];}catch(_0x3e1ea6){throw this[_0x587077(0x3f6)]['error'](this[_0x587077(0x40d)]+'\x20('+this[_0x587077(0x62a)][_0x587077(0x1c6)]+_0x587077(0x39b)+_0x3e1ea6),new A(_0x3e1ea6?.[_0x587077(0x16e)]());}}[a0_0x4b3f0f(0x5cc)](){const _0x1a3c99=a0_0x4b3f0f;this[_0x1a3c99(0x593)]['ev']['process'](_0x2d29b6=>{const _0x5db97f=_0x1a3c99;if(!this[_0x5db97f(0xe5)]){let _0x47d189=this[_0x5db97f(0x32b)]['get'](_0x5db97f(0x162));if(_0x2d29b6[_0x5db97f(0x292)]&&this[_0x5db97f(0x50e)](_0x2d29b6['connection.update']),_0x2d29b6['creds.update']&&this[_0x5db97f(0x62a)][_0x5db97f(0x1f3)]['saveCreds'](),_0x2d29b6[_0x5db97f(0x5e4)]){let _0x5e5e63=_0x2d29b6['messaging-history.set'];this[_0x5db97f(0x3c7)][_0x5db97f(0x5e4)](_0x5e5e63,_0x47d189);}if(_0x2d29b6[_0x5db97f(0x4be)]){let _0x42aa09=_0x2d29b6['messages.upsert'];this[_0x5db97f(0x3c7)][_0x5db97f(0x4be)](_0x42aa09,_0x47d189);}if(_0x2d29b6[_0x5db97f(0x40f)]){let _0x236ae2=_0x2d29b6[_0x5db97f(0x40f)];this[_0x5db97f(0x3c7)][_0x5db97f(0x40f)](_0x236ae2,_0x47d189);}if(_0x2d29b6['presence.update']){let _0xab241d=_0x2d29b6[_0x5db97f(0x386)];if(this[_0x5db97f(0x594)]?.['groups_ignore']&&_0xab241d['id'][_0x5db97f(0x531)](_0x5db97f(0x2ca)))return;this[_0x5db97f(0x5b8)](_0x5db97f(0x386),_0xab241d);}if(!this['localWebhook']?.['groups_ignore']){if(_0x2d29b6['groups.upsert']){let _0x32db53=_0x2d29b6[_0x5db97f(0x67d)];this[_0x5db97f(0x378)][_0x5db97f(0x67d)](_0x32db53);}if(_0x2d29b6['groups.update']){let _0x4afefa=_0x2d29b6[_0x5db97f(0x679)];this[_0x5db97f(0x378)][_0x5db97f(0x679)](_0x4afefa);}if(_0x2d29b6['group-participants.update']){let _0x229165=_0x2d29b6[_0x5db97f(0x425)];this[_0x5db97f(0x378)][_0x5db97f(0x425)](_0x229165);}}if(_0x2d29b6[_0x5db97f(0x5ff)]){let _0x2ec3f5=_0x2d29b6[_0x5db97f(0x5ff)];this['chatHandle']['chats.upsert'](_0x2ec3f5,_0x47d189);}if(_0x2d29b6[_0x5db97f(0xb6)]){let _0x80528f=_0x2d29b6['chats.update'];this[_0x5db97f(0x34d)]['chats.update'](_0x80528f,_0x47d189);}if(_0x2d29b6[_0x5db97f(0x598)]){let _0x38cc09=_0x2d29b6[_0x5db97f(0x598)];this['chatHandle'][_0x5db97f(0x598)](_0x38cc09);}if(_0x2d29b6[_0x5db97f(0x4d9)]){let _0x2acdee=_0x2d29b6[_0x5db97f(0x4d9)];this[_0x5db97f(0x4eb)]['contacts.upsert'](_0x2acdee,_0x47d189);}if(_0x2d29b6[_0x5db97f(0x60d)]){let _0xad09e=_0x2d29b6[_0x5db97f(0x60d)];this[_0x5db97f(0x4eb)][_0x5db97f(0x60d)](_0xad09e,_0x47d189);}}});}[a0_0x4b3f0f(0x276)](_0x30ed26){const _0x315826=a0_0x4b3f0f;let _0x502f0b=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x315826(0x5c3)](_0x30ed26);if(_0x502f0b&&_0x502f0b[0x1]==='55'){let _0x5f3bcd=_0x502f0b[0x2],_0x1cfb85=_0x502f0b[0x3],_0x444689=_0x502f0b[0x4];if(_0x5f3bcd>='31'&&_0x1cfb85==='9')return _0x502f0b[0x1]+_0x5f3bcd+_0x444689;}return _0x30ed26;}[a0_0x4b3f0f(0x2f0)](_0x2684a0){const _0xb69006=a0_0x4b3f0f;return _0x2684a0[_0xb69006(0x531)](_0xb69006(0x2ca))||_0x2684a0[_0xb69006(0x531)]('@s.whatsapp.net')||_0x2684a0[_0xb69006(0x531)]('@broadcast')?_0x2684a0:(_0x2684a0=_0x2684a0?.[_0xb69006(0x2f7)](/\s/g,'')[_0xb69006(0x2f7)](/\+/g,'')['replace'](/\(/g,'')[_0xb69006(0x2f7)](/\)/g,'')[_0xb69006(0x318)](/\:/)[0x0]['split']('@')[0x0],_0x2684a0['length']>=0x12?(_0x2684a0=_0x2684a0[_0xb69006(0x2f7)](/[^\d-]/g,''),_0x2684a0+_0xb69006(0x2ca)):(_0x2684a0=_0x2684a0[_0xb69006(0x2f7)](/\D/g,''),this[_0xb69006(0x276)](_0x2684a0)+_0xb69006(0x11d)));}async[a0_0x4b3f0f(0xd4)](_0x3d7f76){const _0x538777=a0_0x4b3f0f;let _0x3b7cb7=this[_0x538777(0x2f0)](_0x3d7f76[_0x538777(0x465)]),_0x1a48ad=(await this[_0x538777(0x1c4)]({'numbers':[_0x3b7cb7]}))[0x0];if(!_0x1a48ad[_0x538777(0x447)]&&!(0x0,w['isJidGroup'])(_0x1a48ad['jid']))throw new g(_0x1a48ad);let _0x11da19=(0x0,w[_0x538777(0x381)])(_0x3b7cb7)?_0x3b7cb7:_0x1a48ad[_0x538777(0x52d)];if((0x0,w[_0x538777(0x381)])(_0x11da19))try{await this[_0x538777(0x593)][_0x538777(0x302)](_0x11da19);}catch{throw new x(_0x538777(0x151));}try{return await this[_0x538777(0x593)][_0x538777(0x220)](_0x11da19),await this[_0x538777(0x593)][_0x538777(0x376)](_0x3d7f76[_0x538777(0x214)],_0x3b7cb7),{'status':0xc8,'presence':_0x3d7f76['presence']};}catch(_0x470af6){throw new g(_0x470af6[_0x538777(0x16e)]());}}async[a0_0x4b3f0f(0x224)](_0x28657a){const _0x56175e=a0_0x4b3f0f;let _0x4a3f2b=this[_0x56175e(0x2f0)](_0x28657a);try{return{'wuid':_0x4a3f2b,'profilePictureUrl':await this[_0x56175e(0x593)][_0x56175e(0x2b4)](_0x4a3f2b,'image')};}catch{return{'wuid':_0x4a3f2b,'profilePictureUrl':null};}}async[a0_0x4b3f0f(0x4d1)](_0x5977d5,_0x1f7e05,_0x686474){const _0x5b8183=a0_0x4b3f0f;let _0x3b3370=(await this[_0x5b8183(0x1c4)]({'numbers':[_0x5977d5]}))[0x0];if(!_0x3b3370[_0x5b8183(0x447)]&&!(0x0,w[_0x5b8183(0x381)])(_0x3b3370['jid'])&&!_0x3b3370[_0x5b8183(0x52d)][_0x5b8183(0x531)](_0x5b8183(0xd3)))throw new g(_0x3b3370);let _0x132d37=_0x3b3370[_0x5b8183(0x52d)];try{_0x686474?.[_0x5b8183(0x3a6)]&&(await this['client'][_0x5b8183(0x220)](_0x132d37),await this['client'][_0x5b8183(0x376)](_0x686474?.['presence']??_0x5b8183(0x643),_0x132d37),await(0x0,w[_0x5b8183(0x3a6)])(_0x686474[_0x5b8183(0x3a6)]),await this['client'][_0x5b8183(0x376)]('paused',_0x132d37));let _0x700fea=_0x686474?.[_0x5b8183(0x5b6)]!=!0x1?void 0x0:!0x1,_0x176d41;if(_0x686474?.[_0x5b8183(0x14a)]){let _0x33b1c0=_0x686474?.[_0x5b8183(0x14a)],_0x27ac90=_0x33b1c0?.[_0x5b8183(0x46a)]?_0x33b1c0:await this['getMessage'](_0x33b1c0[_0x5b8183(0x268)],!0x0);if(!_0x27ac90)throw _0x5b8183(0x537);_0x176d41=_0x27ac90;}let _0x52074b;if((0x0,w[_0x5b8183(0x381)])(_0x132d37))try{let _0xbc32f4=await this[_0x5b8183(0x593)][_0x5b8183(0x302)](_0x132d37);if(!_0xbc32f4)throw new x('Group\x20not\x20found');_0x686474?.[_0x5b8183(0x677)]&&(_0x686474[_0x5b8183(0x677)]?.[_0x5b8183(0x2fc)]?_0x52074b=_0xbc32f4[_0x5b8183(0x3b8)]['map'](_0x5792ad=>_0x5792ad['id']):_0x686474[_0x5b8183(0x677)]?.[_0x5b8183(0x1ec)]?.[_0x5b8183(0x529)]&&(_0x52074b=_0x686474[_0x5b8183(0x677)][_0x5b8183(0x1ec)][_0x5b8183(0x53c)](_0x23f807=>{const _0x1c75a9=_0x5b8183;let _0x4990dd=this['createJid'](_0x23f807);return(0x0,w[_0x1c75a9(0x381)])(_0x4990dd)?null:_0x4990dd;})));}catch{throw new x(_0x5b8183(0x151));}let _0x3aa8a4=await((async()=>{const _0x366ad1=_0x5b8183;let _0x122181={'quoted':_0x176d41};if(!_0x1f7e05['audio']&&!_0x1f7e05[_0x366ad1(0x490)]&&!_0x1f7e05[_0x366ad1(0x4b3)]&&!_0x1f7e05[_0x366ad1(0x11e)]&&_0x132d37!==_0x366ad1(0x632)&&!_0x1f7e05['audio'])return await this[_0x366ad1(0x593)][_0x366ad1(0x3ee)](_0x132d37,{'forward':{'key':{'remoteJid':this[_0x366ad1(0x62a)][_0x366ad1(0x1c6)],'fromMe':!0x0},'message':_0x1f7e05},'mentions':_0x52074b},_0x122181);if(_0x1f7e05[_0x366ad1(0x11e)]){let _0x3a4908=_0x1f7e05[_0x366ad1(0x11e)];return _0x686474?.[_0x366ad1(0x230)]&&(_0x3a4908=await this[_0x366ad1(0x1ae)](_0x3a4908,_0x132d37)),await this[_0x366ad1(0x593)]['sendMessage'](_0x132d37,{'text':_0x3a4908,'mentions':_0x52074b,'linkPreview':_0x700fea},_0x122181);}return _0x132d37===_0x366ad1(0x632)?await this[_0x366ad1(0x593)]['sendMessage'](_0x132d37,_0x1f7e05[_0x366ad1(0x238)][_0x366ad1(0x5bd)],{'backgroundColor':_0x1f7e05[_0x366ad1(0x238)]['option'][_0x366ad1(0x44c)],'font':_0x1f7e05[_0x366ad1(0x238)][_0x366ad1(0x623)][_0x366ad1(0x22c)],'statusJidList':_0x1f7e05['status'][_0x366ad1(0x623)][_0x366ad1(0x617)]}):await this[_0x366ad1(0x593)][_0x366ad1(0x3ee)](_0x132d37,_0x1f7e05,_0x122181);})()),{message_normalized:_0x3f25e6}=this[_0x5b8183(0x624)](_0x3aa8a4['message'],J(_0x3aa8a4['message']),null),_0xa364fd={'_id':_0x3aa8a4[_0x5b8183(0x268)]['id'],'key':_0x3aa8a4[_0x5b8183(0x268)],'pushName':_0x3aa8a4[_0x5b8183(0x420)],'message':{..._0x3aa8a4[_0x5b8183(0x46a)]},'messageType':J(_0x3aa8a4['message']),'message_normalized':{'key':_0x3aa8a4[_0x5b8183(0x268)],'pushName':_0x3aa8a4[_0x5b8183(0x420)],'messageTimestamp':_0x3aa8a4[_0x5b8183(0x2fa)]&&_0x3aa8a4[_0x5b8183(0x2fa)][_0x5b8183(0x16e)]()['length']<0xd?_0x3aa8a4['messageTimestamp']*0x3e8:_0x3aa8a4['messageTimestamp']||null,'source':(0x0,w['getDevice'])(_0x3aa8a4[_0x5b8183(0x268)]['id']),..._0x3f25e6},'messageTimestamp':_0x3aa8a4[_0x5b8183(0x2fa)]&&_0x3aa8a4[_0x5b8183(0x2fa)][_0x5b8183(0x16e)]()['length']<0xd?_0x3aa8a4[_0x5b8183(0x2fa)]*0x3e8:_0x3aa8a4[_0x5b8183(0x2fa)]||null,'owner':this['instance'][_0x5b8183(0x1c6)],'source':(0x0,w[_0x5b8183(0x2e2)])(_0x3aa8a4[_0x5b8183(0x268)]['id'])};return this[_0x5b8183(0x3f6)][_0x5b8183(0x21a)](_0xa364fd),await this[_0x5b8183(0x5b8)](_0x5b8183(0x414),_0xa364fd),B(this[_0x5b8183(0x40d)],_0x5b8183(0x3ac),{'message':_0xa364fd}),this['updateChatWithMessage'](this[_0x5b8183(0x32b)][_0x5b8183(0x2a0)](_0x5b8183(0x162)),_0xa364fd,_0x5b8183(0x357)),await this[_0x5b8183(0x1ea)][_0x5b8183(0x46a)][_0x5b8183(0x528)]([_0xa364fd]),_0x3aa8a4;}catch(_0x266720){throw this['logger']['error'](this[_0x5b8183(0x40d)]+'\x20('+this['instance'][_0x5b8183(0x1c6)]+'):\x20'+_0x266720[_0x5b8183(0x16e)]()),new g(_0x266720['toString']());}}get['connectionStatus'](){const _0x1e0b7c=a0_0x4b3f0f;return this[_0x1e0b7c(0x3ce)];}async['textMessage'](_0x1d613e){const _0x1065bb=a0_0x4b3f0f;let _0x3b1964=this[_0x1065bb(0x32b)][_0x1065bb(0x2a0)](_0x1065bb(0x5fd)),_0x32038d=this['configService'][_0x1065bb(0x2a0)](_0x1065bb(0x148));return _0x32038d&&this['instanceName'][_0x1065bb(0x40c)]()[_0x1065bb(0x531)](_0x32038d[_0x1065bb(0x40c)]())&&(_0x1d613e[_0x1065bb(0x17e)][_0x1065bb(0x506)]+='\x0a\x0a'+_0x3b1964),await this[_0x1065bb(0x4d1)](_0x1d613e['number'],{'conversation':_0x1d613e['textMessage'][_0x1065bb(0x506)]},_0x1d613e?.[_0x1065bb(0x59e)]);}async[a0_0x4b3f0f(0x222)](_0x908dd2){const _0xee60e0=a0_0x4b3f0f;if(!_0x908dd2[_0xee60e0(0x533)])throw new g(_0xee60e0(0x26a));if(!_0x908dd2[_0xee60e0(0x5bd)])throw new g('Content\x20is\x20required');if(_0x908dd2['allContacts']){let _0x470479=await this[_0xee60e0(0x1ea)][_0xee60e0(0x339)][_0xee60e0(0x28c)]({'where':{'owner':this[_0xee60e0(0x62a)][_0xee60e0(0x1c6)]}});if(!_0x470479[_0xee60e0(0x529)])throw new g(_0xee60e0(0x2a2));_0x908dd2['statusJidList']=_0x470479[_0xee60e0(0x651)](_0x23b0e6=>_0x23b0e6['pushName'])[_0xee60e0(0x53c)](_0x246aaf=>_0x246aaf[_0xee60e0(0x2e8)]);}if(!_0x908dd2['statusJidList']?.[_0xee60e0(0x529)]&&!_0x908dd2[_0xee60e0(0x190)])throw new g(_0xee60e0(0x444));if(_0x908dd2[_0xee60e0(0x533)]===_0xee60e0(0x506)){if(!_0x908dd2[_0xee60e0(0x44c)])throw new g(_0xee60e0(0x118));if(!_0x908dd2[_0xee60e0(0x22c)])throw new g(_0xee60e0(0x33c));return{'content':{'text':_0x908dd2[_0xee60e0(0x5bd)]},'option':{'backgroundColor':_0x908dd2[_0xee60e0(0x44c)],'font':_0x908dd2[_0xee60e0(0x22c)],'statusJidList':_0x908dd2['statusJidList']}};}if(_0x908dd2[_0xee60e0(0x533)]===_0xee60e0(0x1d8))return{'content':{'image':{'url':_0x908dd2[_0xee60e0(0x5bd)]},'caption':_0x908dd2[_0xee60e0(0x5a6)]},'option':{'statusJidList':_0x908dd2[_0xee60e0(0x617)]}};if(_0x908dd2['type']===_0xee60e0(0x258))return{'content':{'video':{'url':_0x908dd2['content']},'caption':_0x908dd2[_0xee60e0(0x5a6)]},'option':{'statusJidList':_0x908dd2['statusJidList']}};if(_0x908dd2[_0xee60e0(0x533)]===_0xee60e0(0x642)){this[_0xee60e0(0x3f6)][_0xee60e0(0x5e6)](_0xee60e0(0x171)),this[_0xee60e0(0x3f6)][_0xee60e0(0x5e6)]('Processing\x20audio');let _0xd63013=await this[_0xee60e0(0x2dc)](_0x908dd2[_0xee60e0(0x5bd)]);if(typeof _0xd63013==_0xee60e0(0x4b9)){this['logger']['verbose'](_0xee60e0(0x561));let _0x6cee67=P[_0xee60e0(0x2bd)](_0xd63013)[_0xee60e0(0x16e)](_0xee60e0(0x3d3)),_0x26d1ce={'content':{'audio':Buffer['from'](_0x6cee67,_0xee60e0(0x3d3)),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x908dd2[_0xee60e0(0x617)]}};return P['unlinkSync'](_0xd63013),_0x26d1ce;}else throw new A(_0xd63013);}throw new g(_0xee60e0(0x326));}async[a0_0x4b3f0f(0x125)](_0x273a13){const _0xd197d1=a0_0x4b3f0f;return await this[_0xd197d1(0x4d1)](_0xd197d1(0x632),{'status':await this['formatStatusMessage'](_0x273a13['statusMessage'])});}async['prepareMediaMessage'](_0x160aa4){const _0x30b96c=a0_0x4b3f0f;try{let _0x50a4a3=await(0x0,w['prepareWAMessageMedia'])({[_0x160aa4[_0x30b96c(0x242)]]:(0x0,O[_0x30b96c(0x1b1)])(_0x160aa4['media'])?{'url':_0x160aa4[_0x30b96c(0x3e9)]}:Buffer['from'](_0x160aa4[_0x30b96c(0x3e9)],_0x30b96c(0x3d3))},{'upload':this[_0x30b96c(0x593)]['waUploadToServer']}),_0x188324=_0x160aa4[_0x30b96c(0x242)]+_0x30b96c(0x5d6);if(_0x160aa4[_0x30b96c(0x242)]===_0x30b96c(0x36c)&&!_0x160aa4['fileName']){let _0x3ccd31=new RegExp(/.*\/(.+?)\./)[_0x30b96c(0x5c3)](_0x160aa4[_0x30b96c(0x3e9)]);_0x160aa4[_0x30b96c(0x61c)]=_0x3ccd31?_0x3ccd31[0x1]:null;}let _0x501bfe=(0x0,O[_0x30b96c(0x1b1)])(_0x160aa4[_0x30b96c(0x3e9)])?_0x160aa4[_0x30b96c(0x3e9)][_0x30b96c(0x318)]('?')[0x0]:_0x160aa4[_0x30b96c(0x3e9)];this[_0x30b96c(0x3f6)][_0x30b96c(0x5e6)]('URL\x20limpa:\x20'+_0x501bfe);let _0x8ce1e0;_0x160aa4[_0x30b96c(0x61c)]?_0x8ce1e0=(0x0,Mt[_0x30b96c(0x10d)])(_0x160aa4[_0x30b96c(0x61c)]):(0x0,O['isURL'])(_0x160aa4[_0x30b96c(0x3e9)])?_0x8ce1e0=(0x0,Mt[_0x30b96c(0x10d)])(_0x501bfe):_0x8ce1e0=(0x0,Mt[_0x30b96c(0x10d)])(_0x160aa4['media']);let _0x3fa5cc=this[_0x30b96c(0x32b)][_0x30b96c(0x2a0)](_0x30b96c(0x5fd)),_0x58e27b=this[_0x30b96c(0x32b)][_0x30b96c(0x2a0)](_0x30b96c(0x148));return _0x58e27b&&this['instanceName'][_0x30b96c(0x40c)]()[_0x30b96c(0x531)](_0x58e27b[_0x30b96c(0x40c)]())&&(_0x160aa4['caption']+='\x0a\x0a'+_0x3fa5cc),_0x50a4a3[_0x188324][_0x30b96c(0x5a6)]=_0x160aa4?.[_0x30b96c(0x5a6)],_0x50a4a3[_0x188324][_0x30b96c(0x5f2)]=_0x8ce1e0,_0x50a4a3[_0x188324][_0x30b96c(0x61c)]=_0x160aa4[_0x30b96c(0x61c)],_0x160aa4[_0x30b96c(0x242)]===_0x30b96c(0x258)&&(_0x50a4a3[_0x188324][_0x30b96c(0x37a)]=Uint8Array[_0x30b96c(0x439)]((0x0,Te[_0x30b96c(0x2bd)])((0x0,$[_0x30b96c(0x488)])(process[_0x30b96c(0x5e5)](),_0x30b96c(0x1cd)))),_0x50a4a3[_0x188324][_0x30b96c(0x5dc)]=!0x1),(0x0,w[_0x30b96c(0x631)])('',{[_0x188324]:{..._0x50a4a3[_0x188324]}},{'userJid':this[_0x30b96c(0x62a)][_0x30b96c(0x1c6)]});}catch(_0x3cf889){throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x30b96c(0x1c6)]+'):\x20'+_0x3cf889),new A(_0x3cf889?.[_0x30b96c(0x16e)]()||_0x3cf889);}}async[a0_0x4b3f0f(0x514)](_0x5e850b){const _0xcf54b9=a0_0x4b3f0f;let _0x524478=await this[_0xcf54b9(0x498)](_0x5e850b['mediaMessage']);return await this[_0xcf54b9(0x4d1)](_0x5e850b['number'],{..._0x524478['message']},_0x5e850b?.['options']);}async[a0_0x4b3f0f(0x30f)](_0xb4c924,_0x30746a){const _0x150509=a0_0x4b3f0f;try{this[_0x150509(0x3f6)]['verbose'](_0x150509(0x1f7));let _0x42646c,_0x2810b5=_0x30746a+'-'+new Date()['getTime']();this[_0x150509(0x3f6)][_0x150509(0x5e6)](_0x150509(0x38e)+_0x2810b5);let _0xb2b323=''+(0x0,$[_0x150509(0x488)])(this[_0x150509(0xc5)],_0x2810b5+_0x150509(0x2f5));if(this['logger'][_0x150509(0x5e6)](_0x150509(0x1b7)+_0xb2b323),(0x0,O['isBase64'])(_0xb4c924)){this['logger']['verbose'](_0x150509(0x521));let _0x96170a=_0xb4c924[_0x150509(0x2f7)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4e8ac6=Buffer[_0x150509(0x439)](_0x96170a,_0x150509(0x3d3));_0x42646c=''+(0x0,$[_0x150509(0x488)])(this[_0x150509(0xc5)],'temp-'+_0x2810b5+_0x150509(0x67e)),this[_0x150509(0x3f6)]['verbose'](_0x150509(0x133)+_0x42646c),await(0x0,It[_0x150509(0x4ea)])(_0x4e8ac6)[_0x150509(0x225)](_0x42646c),this[_0x150509(0x3f6)]['verbose'](_0x150509(0x3a7));}else{this['logger'][_0x150509(0x5e6)](_0x150509(0x2b6));let _0xa6e71e=new Date()[_0x150509(0x57f)](),_0x42e882=_0xb4c924+_0x150509(0xbc)+_0xa6e71e;this['logger'][_0x150509(0x5e6)](_0x150509(0x2dd)+_0x42e882);let _0xe5fa7e=await ne[_0x150509(0x4ea)][_0x150509(0x2a0)](_0x42e882,{'responseType':_0x150509(0x421)});this[_0x150509(0x3f6)][_0x150509(0x5e6)](_0x150509(0x5ec));let _0x5446ec=Buffer['from'](_0xe5fa7e[_0x150509(0x337)],'binary');_0x42646c=''+(0x0,$[_0x150509(0x488)])(this['storePath'],_0x150509(0x4f4)+_0x2810b5+_0x150509(0x67e)),this[_0x150509(0x3f6)][_0x150509(0x5e6)](_0x150509(0x133)+_0x42646c),await(0x0,It[_0x150509(0x4ea)])(_0x5446ec)['toFile'](_0x42646c),this[_0x150509(0x3f6)][_0x150509(0x5e6)](_0x150509(0x3a7));}return await(0x0,It['default'])(_0x42646c)[_0x150509(0xbf)]()[_0x150509(0x225)](_0xb2b323),this[_0x150509(0x3f6)]['verbose'](_0x150509(0x38a)),P['unlinkSync'](_0x42646c),this['logger']['verbose'](_0x150509(0x4a7)),_0xb2b323;}catch(_0xf3840){console[_0x150509(0x622)](_0x150509(0x379),_0xf3840);}}async[a0_0x4b3f0f(0x1fb)](_0x1b1868){const _0x492d4f=a0_0x4b3f0f;let _0x5e3da3=await this[_0x492d4f(0x30f)](_0x1b1868[_0x492d4f(0x1a2)][_0x492d4f(0x1d8)],_0x1b1868['number']),_0x3d5afc=await this[_0x492d4f(0x4d1)](_0x1b1868[_0x492d4f(0x465)],{'sticker':{'url':_0x5e3da3}},_0x1b1868?.[_0x492d4f(0x59e)]);return P[_0x492d4f(0x583)](_0x5e3da3),this[_0x492d4f(0x3f6)]['verbose']('Converted\x20image\x20deleted'),_0x3d5afc;}async['audioWhatsapp'](_0x3f38cd){const _0x42e364=a0_0x4b3f0f;if(this[_0x42e364(0x3f6)][_0x42e364(0x5e6)](_0x42e364(0x382)),!_0x3f38cd[_0x42e364(0x59e)]?.['encoding']&&_0x3f38cd[_0x42e364(0x59e)]?.[_0x42e364(0x1dd)]!==!0x1&&(_0x3f38cd[_0x42e364(0x59e)][_0x42e364(0x1dd)]=!0x0),_0x3f38cd[_0x42e364(0x59e)]?.[_0x42e364(0x1dd)]){let _0x6d6187=await this[_0x42e364(0x2dc)](_0x3f38cd['audioMessage']['audio']);if(typeof _0x6d6187==_0x42e364(0x4b9)){let _0x13bd92=P[_0x42e364(0x2bd)](_0x6d6187)['toString'](_0x42e364(0x3d3)),_0x25f162=this[_0x42e364(0x4d1)](_0x3f38cd['number'],{'audio':Buffer[_0x42e364(0x439)](_0x13bd92,_0x42e364(0x3d3)),'ptt':!0x0,'mimetype':_0x42e364(0x216)},{'presence':_0x42e364(0x9f),'delay':_0x3f38cd?.['options']?.['delay']});return P[_0x42e364(0x583)](_0x6d6187),this[_0x42e364(0x3f6)]['verbose']('Converted\x20audio\x20deleted'),_0x25f162;}else throw new A(_0x6d6187);}return await this[_0x42e364(0x4d1)](_0x3f38cd[_0x42e364(0x465)],{'audio':(0x0,O[_0x42e364(0x1b1)])(_0x3f38cd[_0x42e364(0x4e8)][_0x42e364(0x642)])?{'url':_0x3f38cd[_0x42e364(0x4e8)][_0x42e364(0x642)]}:Buffer[_0x42e364(0x439)](_0x3f38cd[_0x42e364(0x4e8)][_0x42e364(0x642)],'base64'),'ptt':!0x0,'mimetype':_0x42e364(0x429)},{'presence':_0x42e364(0x9f),'delay':_0x3f38cd?.[_0x42e364(0x59e)]?.[_0x42e364(0x3a6)]});}async[a0_0x4b3f0f(0x2dc)](_0xcb5028){const _0x4de1bc=a0_0x4b3f0f;this[_0x4de1bc(0x3f6)][_0x4de1bc(0x5e6)](_0x4de1bc(0x5d1));let _0x59d91c,_0xf92f9,_0x1b44a8=(0x0,At['v4'])();if(this[_0x4de1bc(0x3f6)][_0x4de1bc(0x5e6)](_0x4de1bc(0x5b1)+_0x1b44a8),(0x0,O['isURL'])(_0xcb5028)){this['logger']['verbose']('Audio\x20is\x20url'),_0xf92f9=''+(0x0,$[_0x4de1bc(0x488)])(this[_0x4de1bc(0xc5)],_0x1b44a8+_0x4de1bc(0x12e)),_0x59d91c=''+(0x0,$[_0x4de1bc(0x488)])(this[_0x4de1bc(0xc5)],_0x4de1bc(0x4f4)+_0x1b44a8+_0x4de1bc(0xbe)),this[_0x4de1bc(0x3f6)][_0x4de1bc(0x5e6)](_0x4de1bc(0xe7)+_0xf92f9),this[_0x4de1bc(0x3f6)][_0x4de1bc(0x5e6)](_0x4de1bc(0x23a)+_0x59d91c);let _0x2e679e=new Date()['getTime'](),_0x4cb05f=_0xcb5028+_0x4de1bc(0xbc)+_0x2e679e;this['logger']['verbose']('Including\x20timestamp\x20in\x20url:\x20'+_0x4cb05f);let _0x420f74=await ne[_0x4de1bc(0x4ea)][_0x4de1bc(0x2a0)](_0x4cb05f,{'responseType':_0x4de1bc(0x421)});this[_0x4de1bc(0x3f6)]['verbose'](_0x4de1bc(0x3fb)),P[_0x4de1bc(0x49f)](_0x59d91c,_0x420f74['data']);}else{this[_0x4de1bc(0x3f6)][_0x4de1bc(0x5e6)](_0x4de1bc(0x2a6)),_0xf92f9=''+(0x0,$[_0x4de1bc(0x488)])(this[_0x4de1bc(0xc5)],_0x1b44a8+_0x4de1bc(0x12e)),_0x59d91c=''+(0x0,$[_0x4de1bc(0x488)])(this[_0x4de1bc(0xc5)],_0x4de1bc(0x4f4)+_0x1b44a8+_0x4de1bc(0xbe)),this['logger'][_0x4de1bc(0x5e6)](_0x4de1bc(0xe7)+_0xf92f9),this[_0x4de1bc(0x3f6)][_0x4de1bc(0x5e6)](_0x4de1bc(0x23a)+_0x59d91c);let _0x3c8db2=Buffer[_0x4de1bc(0x439)](_0xcb5028,_0x4de1bc(0x3d3));P[_0x4de1bc(0x49f)](_0x59d91c,_0x3c8db2),this[_0x4de1bc(0x3f6)][_0x4de1bc(0x5e6)](_0x4de1bc(0x3bf));}return this[_0x4de1bc(0x3f6)]['verbose'](_0x4de1bc(0x52b)),new Promise((_0x179063,_0x512ca6)=>{const _0x362f9c=_0x4de1bc;(0x0,Dt[_0x362f9c(0x5c3)])(Xa['default'][_0x362f9c(0x19d)]+'\x20-i\x20'+_0x59d91c+_0x362f9c(0x39d)+_0xf92f9+_0x362f9c(0x659),_0x20145e=>{const _0x2ebb33=_0x362f9c;P[_0x2ebb33(0x583)](_0x59d91c),this[_0x2ebb33(0x3f6)][_0x2ebb33(0x5e6)](_0x2ebb33(0x51d)),_0x20145e&&_0x512ca6(_0x20145e),this['logger'][_0x2ebb33(0x5e6)](_0x2ebb33(0x16c)),_0x179063(_0xf92f9);});});}async[a0_0x4b3f0f(0x591)](_0x20736e){const _0x2040ad=a0_0x4b3f0f;let _0x2a0e23={},_0x5af7ca=_0x2040ad(0x39f);if(_0x20736e[_0x2040ad(0x591)]?.['mediaMessage']){_0x5af7ca=_0x20736e['buttonMessage'][_0x2040ad(0x514)]?.[_0x2040ad(0x242)][_0x2040ad(0x431)]()??'TEXT',_0x2a0e23[_0x2040ad(0x2b0)]=_0x5af7ca[_0x2040ad(0x40c)]()+_0x2040ad(0x5d6);let _0x4d6a58=await this[_0x2040ad(0x498)](_0x20736e[_0x2040ad(0x591)][_0x2040ad(0x514)]);_0x2a0e23[_0x2040ad(0x46a)]=_0x4d6a58[_0x2040ad(0x46a)][_0x2a0e23[_0x2040ad(0x2b0)]],_0x2a0e23[_0x2040ad(0x663)]='*'+_0x20736e[_0x2040ad(0x591)][_0x2040ad(0x46c)]+_0x2040ad(0x144)+_0x20736e[_0x2040ad(0x591)][_0x2040ad(0x540)];}let _0x472fb0={'text':_0x20736e[_0x2040ad(0x591)]['buttons'][_0x2040ad(0x53c)](_0x223bec=>_0x223bec[_0x2040ad(0x428)]),'ids':_0x20736e[_0x2040ad(0x591)][_0x2040ad(0x5d0)][_0x2040ad(0x53c)](_0xd434f6=>_0xd434f6['buttonId'])};if(!(0x0,O['arrayUnique'])(_0x472fb0[_0x2040ad(0x506)])||!(0x0,O[_0x2040ad(0x304)])(_0x472fb0[_0x2040ad(0x4d8)]))throw new g('Button\x20texts\x20cannot\x20be\x20repeated',_0x2040ad(0x219));return await this[_0x2040ad(0x4d1)](_0x20736e[_0x2040ad(0x465)],{'buttonsMessage':{'text':_0x2a0e23?.[_0x2040ad(0x2b0)]?void 0x0:_0x20736e['buttonMessage'][_0x2040ad(0x46c)],'contentText':_0x2a0e23?.[_0x2040ad(0x663)]??_0x20736e[_0x2040ad(0x591)][_0x2040ad(0x540)],'footerText':_0x20736e[_0x2040ad(0x591)]?.[_0x2040ad(0x1ef)],'buttons':_0x20736e[_0x2040ad(0x591)][_0x2040ad(0x5d0)]['map'](_0x39ece8=>({'buttonText':{'displayText':_0x39ece8[_0x2040ad(0x428)]},'buttonId':_0x39ece8[_0x2040ad(0x4a1)],'type':0x1})),'headerType':w[_0x2040ad(0x25d)][_0x2040ad(0x5d6)]['ButtonsMessage'][_0x2040ad(0x410)][_0x5af7ca],[_0x2a0e23?.[_0x2040ad(0x2b0)]]:_0x2a0e23?.[_0x2040ad(0x46a)]}},_0x20736e?.['options']);}async[a0_0x4b3f0f(0x4fe)](_0x40c58d){const _0x1e013d=a0_0x4b3f0f;return await this[_0x1e013d(0x4d1)](_0x40c58d['number'],{'locationMessage':{'degreesLatitude':_0x40c58d[_0x1e013d(0x4fe)]['latitude'],'degreesLongitude':_0x40c58d[_0x1e013d(0x4fe)][_0x1e013d(0x5dd)],'name':_0x40c58d[_0x1e013d(0x4fe)]?.['name'],'address':_0x40c58d[_0x1e013d(0x4fe)]?.[_0x1e013d(0x13f)]}},_0x40c58d?.[_0x1e013d(0x59e)]);}async['listMessage'](_0x4a0347){const _0x27d384=a0_0x4b3f0f;return await this['sendMessageWithTyping'](_0x4a0347[_0x27d384(0x465)],{'listMessage':{'title':_0x4a0347[_0x27d384(0x4ce)][_0x27d384(0x46c)],'description':_0x4a0347[_0x27d384(0x4ce)][_0x27d384(0x540)],'buttonText':_0x4a0347[_0x27d384(0x4ce)]?.['buttonText'],'footerText':_0x4a0347[_0x27d384(0x4ce)]?.[_0x27d384(0x1ef)],'sections':_0x4a0347[_0x27d384(0x4ce)][_0x27d384(0x241)],'listType':0x1}},_0x4a0347?.[_0x27d384(0x59e)]);}async['contactMessage'](_0x13dcde){const _0x408adc=a0_0x4b3f0f;let _0x40b101={},_0x21a21c=_0x3aef6e=>{const _0x3845ca=a0_0x473d;let _0x5259b9='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x3aef6e[_0x3845ca(0x550)]+'\x0aFN:'+_0x3aef6e[_0x3845ca(0x550)]+'\x0a';_0x3aef6e[_0x3845ca(0x53f)]&&(_0x5259b9+=_0x3845ca(0x181)+_0x3aef6e[_0x3845ca(0x53f)]+';\x0a'),_0x3aef6e['email']&&(_0x5259b9+=_0x3845ca(0x3f2)+_0x3aef6e['email']+'\x0a'),_0x3aef6e[_0x3845ca(0x4fd)]&&(_0x5259b9+='URL:'+_0x3aef6e[_0x3845ca(0x4fd)]+'\x0a');let _0x444447='';return _0x3aef6e['phoneNumber']&&_0x3aef6e[_0x3845ca(0x480)][_0x3845ca(0x318)]('|')[_0x3845ca(0x557)]((_0x324961,_0x2476f8)=>{const _0x30ce3c=_0x3845ca;let _0x1daadd=this[_0x30ce3c(0x2f0)](_0x324961)[_0x30ce3c(0x2f7)](_0x30ce3c(0x11d),'');_0x444447+='item'+(_0x2476f8+0x1)+'.TEL;waid='+_0x1daadd+':'+_0x324961+_0x30ce3c(0x48a)+(_0x2476f8+0x1)+_0x30ce3c(0x3f9);}),_0x5259b9+=_0x444447+_0x3845ca(0x401),_0x5259b9;};return _0x13dcde[_0x408adc(0x4ba)][_0x408adc(0x529)]===0x1?_0x40b101[_0x408adc(0x4ba)]={'displayName':_0x13dcde['contactMessage'][0x0][_0x408adc(0x550)],'vcard':_0x21a21c(_0x13dcde[_0x408adc(0x4ba)][0x0])}:_0x40b101[_0x408adc(0x411)]={'displayName':_0x13dcde[_0x408adc(0x4ba)][_0x408adc(0x529)]+_0x408adc(0x23d),'contacts':_0x13dcde[_0x408adc(0x4ba)][_0x408adc(0x53c)](_0x1dbf7e=>({'displayName':_0x1dbf7e[_0x408adc(0x550)],'vcard':_0x21a21c(_0x1dbf7e)}))},await this[_0x408adc(0x4d1)](_0x13dcde['number'],{..._0x40b101},_0x13dcde?.['options']);}async['reactionMessage'](_0x4aeaa2){const _0x4e06b7=a0_0x4b3f0f;return await this[_0x4e06b7(0x4d1)](_0x4aeaa2[_0x4e06b7(0x34f)][_0x4e06b7(0x268)][_0x4e06b7(0x110)],{'reactionMessage':{'key':_0x4aeaa2['reactionMessage'][_0x4e06b7(0x268)],'text':_0x4aeaa2[_0x4e06b7(0x34f)]['reaction']}});}async['whatsappNumber'](_0xc18567){const _0x495cfa=a0_0x4b3f0f;let _0xa0117b=[];for await(let _0x68837b of _0xc18567['numbers']){let _0x31d2ff=this[_0x495cfa(0x2f0)](_0x68837b);if((0x0,w['isJidGroup'])(_0x31d2ff)){let _0x2815ad=await this[_0x495cfa(0x336)]({'groupJid':_0x31d2ff},_0x495cfa(0xed));_0xa0117b[_0x495cfa(0x346)](new me(_0x2815ad[_0x495cfa(0x29a)]['id'],!!_0x2815ad?.[_0x495cfa(0x29a)]['id'],_0x2815ad?.[_0x495cfa(0x29a)][_0x495cfa(0x5e7)]));}else try{let _0x484e71=(await this[_0x495cfa(0x593)][_0x495cfa(0x253)](_0x31d2ff))[0x0];_0xa0117b[_0x495cfa(0x346)](new me(_0x484e71[_0x495cfa(0x52d)],_0x484e71[_0x495cfa(0x447)]));}catch{_0xa0117b[_0x495cfa(0x346)](new me(_0x68837b,!0x1));}}return _0xa0117b;}async['markMessageAsRead'](_0x2daf6a){const _0xb7575b=a0_0x4b3f0f;try{let _0x7f9a24=_0x2daf6a['readMessages'][_0xb7575b(0x651)](_0x54fd33=>(0x0,w['isJidGroup'])(_0x54fd33['remoteJid'])||(0x0,w[_0xb7575b(0xd9)])(_0x54fd33[_0xb7575b(0x110)]))['map'](_0x511af4=>({'remoteJid':_0x511af4['remoteJid'],'fromMe':_0x511af4['fromMe'],'id':_0x511af4['id']}));await this[_0xb7575b(0x593)]['readMessages'](_0x7f9a24);let _0x5ae5c9=_0x7f9a24[_0xb7575b(0x53c)](_0x32212d=>this[_0xb7575b(0x387)](_0x32212d,_0x32212d[_0xb7575b(0x110)],{'status':_0xb7575b(0x45e),'owner':this[_0xb7575b(0x62a)][_0xb7575b(0x1c6)]})),_0x5a0f50=_0x7f9a24['map'](_0x2411ef=>this['repository'][_0xb7575b(0x5db)][_0xb7575b(0x4db)]({'where':{'_id':_0x2411ef['remoteJid'],'owner':this['instance'][_0xb7575b(0x1c6)]}},{'unreadcount':0x0})),[_0x50230a,_0x28e332]=await Promise[_0xb7575b(0x592)]([Promise[_0xb7575b(0x592)](_0x5ae5c9),Promise['all'](_0x5a0f50)]);return _0x28e332['filter'](_0x24d833=>_0x24d833!==null)[_0xb7575b(0x557)](_0x3bb918=>{const _0x1b84a2=_0xb7575b;B(this[_0x1b84a2(0x40d)],_0x1b84a2(0x417),{'chat':_0x3bb918});}),{'message':_0xb7575b(0xfc),'read':_0xb7575b(0x493)};}catch(_0x161273){throw console[_0xb7575b(0x622)](_0xb7575b(0x20f),_0x161273),new A('Read\x20messages\x20fail',_0x161273[_0xb7575b(0x16e)]());}}async[a0_0x4b3f0f(0x47f)](_0x1e8a6d){const _0x143eff=a0_0x4b3f0f;let _0x142af1=await this['fetchMessages']({'where':{'key':{'remoteJid':_0x1e8a6d},'owner':this['instance'][_0x143eff(0x11c)]}}),_0x38e772=_0x142af1[_0x143eff(0x115)]();for(let _0x2541ff of _0x142af1)_0x2541ff['messageTimestamp']>=_0x38e772[_0x143eff(0x2fa)]&&(_0x38e772=_0x2541ff);return _0x38e772;}async['archiveChat'](_0x2b5db4){const _0x50879a=a0_0x4b3f0f;this[_0x50879a(0x3f6)][_0x50879a(0x5e6)](_0x50879a(0x575));try{let _0x25b691=_0x2b5db4[_0x50879a(0x4c9)],_0x581b3e=_0x2b5db4[_0x50879a(0x5db)];if(!_0x25b691&&_0x581b3e?_0x25b691=await this[_0x50879a(0x47f)](_0x581b3e):(_0x25b691=_0x2b5db4[_0x50879a(0x4c9)],_0x25b691[_0x50879a(0x2fa)]=_0x25b691?.[_0x50879a(0x2fa)]??Date['now'](),_0x581b3e=_0x25b691?.[_0x50879a(0x268)]?.['remoteJid']),!_0x25b691||Object[_0x50879a(0x1c8)](_0x25b691)[_0x50879a(0x529)]===0x0)throw new x(_0x50879a(0x538));await this[_0x50879a(0x593)][_0x50879a(0x63a)]({'archive':_0x2b5db4['archive'],'lastMessages':[_0x25b691]},this['createJid'](_0x581b3e));let _0x53534f=await this[_0x50879a(0x1ea)][_0x50879a(0x5db)][_0x50879a(0x4db)]({'where':{'_id':_0x25b691?.[_0x50879a(0x268)]?.['remoteJid'],'owner':this['instance'][_0x50879a(0x1c6)]}},{'archived':_0x2b5db4[_0x50879a(0x21d)]});return _0x53534f&&B(this[_0x50879a(0x40d)],_0x50879a(0x417),{'chat':_0x53534f}),{'chatId':_0x581b3e,'archived':_0x2b5db4[_0x50879a(0x21d)]};}catch(_0x4955f8){throw new A({'archived':!0x1,'message':[_0x50879a(0x275),_0x4955f8[_0x50879a(0x16e)]()]});}}async[a0_0x4b3f0f(0x25a)](_0x43afc7){const _0x2bca7a=a0_0x4b3f0f;try{let _0x42dc2e=await this[_0x2bca7a(0x593)][_0x2bca7a(0x3ee)](_0x43afc7[_0x2bca7a(0x110)],{'delete':_0x43afc7});try{let _0x4aa7df=await this[_0x2bca7a(0x387)](_0x43afc7,_0x43afc7[_0x2bca7a(0x110)],{'status':_0x2bca7a(0x30c),'owner':this[_0x2bca7a(0x62a)][_0x2bca7a(0x1c6)]});this[_0x2bca7a(0x3f6)][_0x2bca7a(0x5e6)](this[_0x2bca7a(0x40d)]+'\x20('+this[_0x2bca7a(0x62a)][_0x2bca7a(0x1c6)]+_0x2bca7a(0x504)+_0x4aa7df);}catch(_0x32ca4f){console[_0x2bca7a(0x622)](_0x2bca7a(0x364),_0x32ca4f);}return _0x42dc2e;}catch(_0x313fcb){throw new A('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x313fcb?.[_0x2bca7a(0x16e)]());}}async[a0_0x4b3f0f(0x462)](_0x472178){const _0x123236=a0_0x4b3f0f;try{let _0x4aa78d=_0x472178?.['message']?_0x472178:await this[_0x123236(0x3d9)](_0x472178[_0x123236(0x268)],!0x0);for(let _0x55548e of Qs)_0x4aa78d[_0x123236(0x46a)][_0x55548e]&&(_0x4aa78d['message']=_0x4aa78d[_0x123236(0x46a)][_0x55548e][_0x123236(0x46a)]);let _0x30bcc0,_0x23ad51;for(let _0x28e9dc of zs)if(_0x30bcc0=_0x4aa78d[_0x123236(0x46a)][_0x28e9dc],_0x30bcc0){_0x23ad51=_0x28e9dc;break;}if(!_0x30bcc0)throw _0x123236(0x140);typeof _0x30bcc0[_0x123236(0x2b0)]==_0x123236(0x64a)&&(_0x4aa78d[_0x123236(0x46a)]=JSON[_0x123236(0x5d5)](JSON[_0x123236(0x3c6)](_0x4aa78d[_0x123236(0x46a)])));let _0x3ff9dc=await(0x0,w[_0x123236(0x26d)])({'key':_0x4aa78d?.[_0x123236(0x268)],'message':_0x4aa78d?.['message']},_0x123236(0x377),{},{'logger':(0x0,Rt[_0x123236(0x4ea)])({'level':_0x123236(0x622)}),'reuploadRequest':this[_0x123236(0x593)]['updateMediaMessage']});if(!(_0x3ff9dc instanceof Buffer))throw new Error(_0x123236(0x324));let _0x42ae1a=this[_0x123236(0x32b)][_0x123236(0x2a0)](_0x123236(0x162)),_0x37ec2f,_0x2df79b;if(_0x30bcc0['fileName'])_0x37ec2f=_0x30bcc0[_0x123236(0x61c)];else{let _0x5c3a05=_0x30bcc0[_0x123236(0x5f2)]?.[_0x123236(0x5fa)](/\/(\w+)/),_0x134dee=_0x5c3a05?_0x5c3a05[0x1]:null;if(!_0x134dee)throw new Error(_0x123236(0x247));_0x37ec2f=(0x0,At['v4'])()+'.'+_0x134dee;}_0x23ad51===_0x123236(0x4e8)&&_0x30bcc0[_0x123236(0x5f2)]==='audio/ogg'?(_0x37ec2f=(0x0,At['v4'])()+_0x123236(0x644),_0x2df79b=_0x123236(0x552)+await this[_0x123236(0x2dc)](_0x3ff9dc[_0x123236(0x16e)](_0x123236(0x3d3)))):(await this[_0x123236(0x3e3)](_0x3ff9dc,_0x37ec2f),_0x2df79b=_0x123236(0x552)+_0x37ec2f);let _0x25ea41=this[_0x123236(0x32b)][_0x123236(0x2a0)](_0x123236(0x438)),_0x1efbf7=this[_0x123236(0x32b)][_0x123236(0x2a0)](_0x123236(0x271))[_0x123236(0x5cd)],_0x33d5fb=_0x25ea41&&_0x25ea41['FULLCHAIN'][_0x123236(0x318)]('/')[0x4];_0x1efbf7===0x1bb&&(_0x2df79b=''+(_0x123236(0x42c)+_0x33d5fb)+_0x2df79b);let _0x4627d0=0xc*0x3c*0x3c*0x3e8,_0x52cefb={'where':{'_id':_0x4aa78d[_0x123236(0x268)]['id'],'owner':this[_0x123236(0x62a)][_0x123236(0x1c6)]}};_0x4aa78d['key']['remoteJid'][_0x123236(0xd2)](_0x123236(0x2ca))&&(_0x52cefb[_0x123236(0xa7)][_0x123236(0x268)][_0x123236(0x3fa)]=_0x4aa78d[_0x123236(0x268)][_0x123236(0x3fa)]);let _0x13349d={'message_normalized.fileUrl':_0x2df79b,'message_normalized.expires_fileUrl':Date[_0x123236(0x18b)]()+_0x4627d0};try{let _0x593e1e=await this[_0x123236(0x1ea)][_0x123236(0x46a)]['update'](_0x52cefb,_0x13349d);_0x593e1e&&B(this[_0x123236(0x40d)],'messages',{'message':_0x593e1e});}catch{}return{'mediaType':_0x23ad51,'fileName':_0x30bcc0[_0x123236(0x61c)],'caption':_0x30bcc0['caption'],'size':{'fileLength':_0x30bcc0[_0x123236(0x58f)],'height':_0x30bcc0[_0x123236(0x567)],'width':_0x30bcc0[_0x123236(0x1d1)]},'mimetype':_0x30bcc0[_0x123236(0x5f2)],'base64':_0x3ff9dc[_0x123236(0x16e)]('base64'),'fileUrl':_0x2df79b,'expires_fileUrl':Date[_0x123236(0x18b)]()+_0x4627d0};}catch(_0x25090e){throw this[_0x123236(0x3f6)][_0x123236(0x622)](this[_0x123236(0x40d)]+'\x20('+this[_0x123236(0x62a)][_0x123236(0x1c6)]+'):\x20'+_0x25090e),new g(_0x25090e[_0x123236(0x16e)]());}}async[a0_0x4b3f0f(0x3e3)](_0x4d8509,_0x20f687){const _0x409331=a0_0x4b3f0f;console[_0x409331(0x21a)]('Initial\x20__dirname:',__dirname),console[_0x409331(0x21a)](_0x409331(0x33d),_0x20f687);let _0x9a6b38=$[_0x409331(0x4ea)][_0x409331(0x488)](__dirname,_0x409331(0x545));console[_0x409331(0x21a)](_0x409331(0x283),_0x9a6b38),P['existsSync'](_0x9a6b38)||(this[_0x409331(0x3f6)][_0x409331(0x21a)](_0x409331(0x35b)),P[_0x409331(0x1c7)](_0x9a6b38,{'recursive':!0x0}));let _0x2c1661=$['default'][_0x409331(0x488)](_0x9a6b38,_0x20f687);return console['log'](_0x409331(0x31f),_0x2c1661),new Promise((_0xd1cc3b,_0x71e1ba)=>{P['writeFile'](_0x2c1661,_0x4d8509,_0x56153d=>{const _0x2c9394=a0_0x473d;_0x56153d?(this[_0x2c9394(0x3f6)]['error'](_0x2c9394(0x597)+_0x56153d[_0x2c9394(0x46a)]),_0x71e1ba(_0x56153d)):(this[_0x2c9394(0x3f6)]['log'](_0x2c9394(0x3be)+_0x2c1661),_0xd1cc3b(_0x2c1661));});});}async[a0_0x4b3f0f(0x1c1)](_0x5012bc){const _0x4f0b50=a0_0x4b3f0f;return _0x5012bc?.[_0x4f0b50(0xa7)]?_0x5012bc['where'][_0x4f0b50(0x53a)]=this[_0x4f0b50(0x62a)]['wuid']:_0x5012bc={'where':{'owner':this[_0x4f0b50(0x62a)][_0x4f0b50(0x1c6)]}},await this[_0x4f0b50(0x1ea)][_0x4f0b50(0x339)]['find'](_0x5012bc);}async[a0_0x4b3f0f(0x3a1)](_0xb3c55f){const _0xeddb81=a0_0x4b3f0f;return _0xb3c55f?.[_0xeddb81(0xa7)]?_0xb3c55f[_0xeddb81(0xa7)]['owner']=this['instance'][_0xeddb81(0x1c6)]:_0xb3c55f={'where':{'owner':this['instance'][_0xeddb81(0x1c6)]},'limit':_0xb3c55f?.[_0xeddb81(0x183)]},await this[_0xeddb81(0x1ea)][_0xeddb81(0x46a)][_0xeddb81(0x28c)](_0xb3c55f);}async[a0_0x4b3f0f(0x640)](){const _0x1a33ea=a0_0x4b3f0f;return await this[_0x1a33ea(0x1ea)][_0x1a33ea(0x5db)][_0x1a33ea(0x28c)]({'where':{'owner':this['instance'][_0x1a33ea(0x1c6)]}});}async[a0_0x4b3f0f(0x3e5)](){const _0x3f263c=a0_0x4b3f0f;return await this[_0x3f263c(0x593)][_0x3f263c(0x3e5)]();}async[a0_0x4b3f0f(0x316)](_0x2cbc72){const _0x294d3c=a0_0x4b3f0f;try{return await this[_0x294d3c(0x593)]['updateReadReceiptsPrivacy'](_0x2cbc72[_0x294d3c(0x394)][_0x294d3c(0x15e)]),await this[_0x294d3c(0x593)][_0x294d3c(0xd8)](_0x2cbc72['privacySettings'][_0x294d3c(0x460)]),await this[_0x294d3c(0x593)]['updateStatusPrivacy'](_0x2cbc72['privacySettings'][_0x294d3c(0x238)]),await this['client'][_0x294d3c(0x518)](_0x2cbc72[_0x294d3c(0x394)]['online']),await this[_0x294d3c(0x593)][_0x294d3c(0x3a0)](_0x2cbc72[_0x294d3c(0x394)][_0x294d3c(0x28e)]),await this[_0x294d3c(0x593)][_0x294d3c(0x4af)](_0x2cbc72[_0x294d3c(0x394)][_0x294d3c(0x1bd)]),this[_0x294d3c(0x593)]?.['ws']?.[_0x294d3c(0x33e)](),{'update':'success','data':{'readreceipts':_0x2cbc72[_0x294d3c(0x394)][_0x294d3c(0x15e)],'profile':_0x2cbc72[_0x294d3c(0x394)][_0x294d3c(0x460)],'status':_0x2cbc72[_0x294d3c(0x394)]['status'],'online':_0x2cbc72[_0x294d3c(0x394)][_0x294d3c(0x54c)],'last':_0x2cbc72[_0x294d3c(0x394)][_0x294d3c(0x28e)],'groupadd':_0x2cbc72[_0x294d3c(0x394)]['groupadd']}};}catch(_0x1d5134){throw new A(_0x294d3c(0x51c),_0x1d5134[_0x294d3c(0x16e)]());}}async['fetchProfile2'](_0x24a3f9){const _0x41f3b1=a0_0x4b3f0f;let _0xcc0e3e=_0x24a3f9?this['createJid'](_0x24a3f9):this['client']?.[_0x41f3b1(0x43d)]?.['id'];this[_0x41f3b1(0x3f6)][_0x41f3b1(0x5e6)]('Getting\x20profile\x20with\x20jid:\x20'+_0xcc0e3e);try{if(this[_0x41f3b1(0x3f6)]['verbose'](_0x41f3b1(0x64d)),_0x24a3f9){let _0x172023=(await this[_0x41f3b1(0x1c4)]({'numbers':[_0xcc0e3e]}))?.[_0x41f3b1(0x250)](),_0x58a886=await this['profilePicture'](_0x172023?.[_0x41f3b1(0x52d)]),_0x51e619=await this['getStatus'](_0x172023?.[_0x41f3b1(0x52d)]),_0x4b5c87=await this[_0x41f3b1(0x56a)](_0x172023?.[_0x41f3b1(0x52d)]);return{'wuid':_0x172023?.[_0x41f3b1(0x52d)]||_0xcc0e3e,'name':_0x172023?.['name'],'numberExists':_0x172023?.[_0x41f3b1(0x447)],'picture':_0x58a886?.['profilePictureUrl'],'status':_0x51e619?.[_0x41f3b1(0x238)],'isBusiness':_0x4b5c87[_0x41f3b1(0x53e)],'email':_0x4b5c87?.[_0x41f3b1(0xf7)],'description':_0x4b5c87?.[_0x41f3b1(0x540)],'website':_0x4b5c87?.[_0x41f3b1(0x5ac)]?.['shift']()};}}catch{return this[_0x41f3b1(0x3f6)][_0x41f3b1(0x5e6)](_0x41f3b1(0x303)),{'wuid':_0xcc0e3e,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x55376a){const _0x169b7c=a0_0x4b3f0f;let _0x5c396f=(_0x55376a?this['createJid'](_0x55376a):this[_0x169b7c(0x593)]?.['user']?.['id'])[_0x169b7c(0x2f7)](/:\d{1,2}@/g,'@');this[_0x169b7c(0x3f6)]['verbose'](_0x169b7c(0x369)+_0x5c396f);let _0x26a03f=await this[_0x169b7c(0x1ea)][_0x169b7c(0x339)][_0x169b7c(0x134)]({'where':{'_id':_0x5c396f,'owner':this[_0x169b7c(0x62a)][_0x169b7c(0x1c6)]}}),_0x553a0a=_0x26a03f?_0x26a03f[_0x169b7c(0x420)]:null;try{let _0x3c15a1=(await this[_0x169b7c(0x1c4)]({'numbers':[_0x5c396f]}))?.[_0x169b7c(0x250)](),_0x5367fb=await this[_0x169b7c(0x224)](_0x3c15a1?.[_0x169b7c(0x52d)]),_0x3e6f6f=await this['getStatus'](_0x3c15a1?.['jid']),_0x2bf11c=await this[_0x169b7c(0x56a)](_0x3c15a1?.[_0x169b7c(0x52d)]),_0x7fdbf9={'imagechat':_0x5367fb?.['profilePictureUrl'],'contactname':_0x553a0a||null,'status':_0x3e6f6f?.[_0x169b7c(0x238)],'isBusiness':_0x2bf11c[_0x169b7c(0x53e)],'email':_0x2bf11c?.[_0x169b7c(0xf7)],'description':_0x2bf11c?.[_0x169b7c(0x540)],'website':_0x2bf11c?.[_0x169b7c(0x5ac)]?.[_0x169b7c(0x250)](),'lastcache':Date[_0x169b7c(0x18b)]()},_0x5914fa=await this['repository']['chat']['updateOne']({'where':{'_id':_0x5c396f,'owner':this[_0x169b7c(0x62a)][_0x169b7c(0x1c6)]}},_0x7fdbf9),_0x668544={'owner':this[_0x169b7c(0x62a)][_0x169b7c(0x1c6)],'_id':_0x5c396f,'profilePictureUrl':_0x5367fb?.[_0x169b7c(0x2b4)],'status':_0x3e6f6f?.[_0x169b7c(0x238)]};return this['repository'][_0x169b7c(0x339)]['update']([_0x668544],this[_0x169b7c(0x62a)][_0x169b7c(0x1c6)]),_0x5914fa&&B(this[_0x169b7c(0x40d)],_0x169b7c(0x417),{'chat':_0x5914fa}),{'wuid':_0x3c15a1?.[_0x169b7c(0x52d)]||_0x5c396f,'name':_0x3c15a1?.[_0x169b7c(0x11c)],'numberExists':_0x3c15a1?.[_0x169b7c(0x447)],'picture':_0x5367fb?.[_0x169b7c(0x2b4)],'status':_0x3e6f6f?.['status'],'isBusiness':_0x2bf11c[_0x169b7c(0x53e)],'email':_0x2bf11c?.[_0x169b7c(0xf7)],'description':_0x2bf11c?.['description'],'website':_0x2bf11c?.[_0x169b7c(0x5ac)]?.[_0x169b7c(0x250)]()};}catch(_0x1bef19){return this[_0x169b7c(0x3f6)][_0x169b7c(0x622)](_0x169b7c(0x393)+_0x1bef19),{};}}async[a0_0x4b3f0f(0x56a)](_0x25682c){const _0x1bfde4=a0_0x4b3f0f;this[_0x1bfde4(0x3f6)][_0x1bfde4(0x5e6)](_0x1bfde4(0x403));try{let _0x2273f5=_0x25682c?this[_0x1bfde4(0x2f0)](_0x25682c):this['instance'][_0x1bfde4(0x1c6)],_0x12c566=await this[_0x1bfde4(0x593)][_0x1bfde4(0x517)](_0x2273f5);return this[_0x1bfde4(0x3f6)][_0x1bfde4(0x5e6)](_0x1bfde4(0x26c)),_0x12c566?(this[_0x1bfde4(0x3f6)][_0x1bfde4(0x5e6)](_0x1bfde4(0x1ed)),{'isBusiness':!0x0,..._0x12c566}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x1bfde4(0x1c4)]({'numbers':[_0x2273f5]}))?.[_0x1bfde4(0x250)]()};}catch(_0x24788d){throw new A(_0x1bfde4(0x12b),_0x24788d['toString']());}}async[a0_0x4b3f0f(0x119)](_0x5f1809){const _0x5688b7=a0_0x4b3f0f;let _0x123477=this[_0x5688b7(0x2f0)](_0x5f1809);try{return{'wuid':_0x123477,'status':(await this[_0x5688b7(0x593)][_0x5688b7(0x29b)](_0x123477))?.[_0x5688b7(0x238)]};}catch{return{'wuid':_0x123477,'status':null};}}async[a0_0x4b3f0f(0x388)](_0x50b78a){const _0xc5697b=a0_0x4b3f0f;try{return await this['client'][_0xc5697b(0x388)](_0x50b78a),{'update':'success'};}catch(_0x215ef8){throw new A(_0xc5697b(0x12b),_0x215ef8[_0xc5697b(0x16e)]());}}async['updateProfileStatus'](_0x2183c8){const _0x3b5cf4=a0_0x4b3f0f;try{return await this[_0x3b5cf4(0x593)]['updateProfileStatus'](_0x2183c8),{'update':'success'};}catch(_0x9f1b9c){throw new A('Error\x20updating\x20profile\x20status',_0x9f1b9c['toString']());}}async[a0_0x4b3f0f(0x3dc)](_0x45c784){const _0x56fd27=a0_0x4b3f0f;try{let _0x37595d;if((0x0,O['isURL'])(_0x45c784)){let _0x542086=new Date()[_0x56fd27(0x57f)](),_0x57d3d7=_0x45c784+_0x56fd27(0xbc)+_0x542086;_0x37595d=(await ne['default'][_0x56fd27(0x2a0)](_0x57d3d7,{'responseType':_0x56fd27(0x421)}))[_0x56fd27(0x337)];}else{if((0x0,O[_0x56fd27(0x4a3)])(_0x45c784))_0x37595d=Buffer[_0x56fd27(0x439)](_0x45c784,_0x56fd27(0x3d3));else throw new g(_0x56fd27(0x672));}return await this['client'][_0x56fd27(0x3dc)](this[_0x56fd27(0x62a)]['wuid'],_0x37595d),{'update':'success'};}catch(_0x4b18cb){throw new A(_0x56fd27(0x43f),_0x4b18cb['toString']());}}async[a0_0x4b3f0f(0x1e9)](){const _0x4f211d=a0_0x4b3f0f;try{return await this[_0x4f211d(0x593)][_0x4f211d(0x1e9)](this[_0x4f211d(0x62a)]['wuid']),{'update':_0x4f211d(0x493)};}catch(_0xbce91e){throw new A(_0x4f211d(0x289),_0xbce91e[_0x4f211d(0x16e)]());}}async[a0_0x4b3f0f(0x476)](_0x1b61fe){const _0x4f15a9=a0_0x4b3f0f;try{let _0x410b8a=_0x1b61fe[_0x4f15a9(0x3b8)][_0x4f15a9(0x53c)](_0x1af45e=>this['createJid'](_0x1af45e)),{id:_0xfa5e25}=await this[_0x4f15a9(0x593)][_0x4f15a9(0x208)](_0x1b61fe[_0x4f15a9(0x5e7)],_0x410b8a);return _0x1b61fe?.[_0x4f15a9(0x540)]&&await this['client']['groupUpdateDescription'](_0xfa5e25,_0x1b61fe['description']),{'metadata':await this[_0x4f15a9(0x593)][_0x4f15a9(0x302)](_0xfa5e25)};}catch(_0x96931c){throw this[_0x4f15a9(0x3f6)][_0x4f15a9(0x622)](this[_0x4f15a9(0x40d)]+'\x20('+this['instance'][_0x4f15a9(0x1c6)]+_0x4f15a9(0x39b)+_0x96931c),new A('Error\x20creating\x20group',_0x96931c[_0x4f15a9(0x16e)]());}}async[a0_0x4b3f0f(0x4a2)](_0x1919de){const _0x353dce=a0_0x4b3f0f;try{let _0x5760bf;if((0x0,O[_0x353dce(0x1b1)])(_0x1919de[_0x353dce(0x1d8)])){let _0xa72108=new Date()[_0x353dce(0x57f)](),_0xab0d0b=_0x1919de[_0x353dce(0x1d8)]+_0x353dce(0xbc)+_0xa72108;_0x5760bf=(await ne[_0x353dce(0x4ea)][_0x353dce(0x2a0)](_0xab0d0b,{'responseType':_0x353dce(0x421)}))[_0x353dce(0x337)];}else{if((0x0,O[_0x353dce(0x4a3)])(_0x1919de[_0x353dce(0x1d8)]))_0x5760bf=Buffer[_0x353dce(0x439)](_0x1919de[_0x353dce(0x1d8)],_0x353dce(0x3d3));else throw new g(_0x353dce(0x672));}return await this['client'][_0x353dce(0x3dc)](_0x1919de[_0x353dce(0x5e1)],_0x5760bf),{'update':_0x353dce(0x493)};}catch(_0x427a62){throw new A(_0x353dce(0x3c8),_0x427a62[_0x353dce(0x16e)]());}}async[a0_0x4b3f0f(0x336)](_0x27f33d,_0x75b4b8=a0_0x4b3f0f(0x261)){const _0x5cf67c=a0_0x4b3f0f;try{let _0x1fc4e7=await this[_0x5cf67c(0x593)][_0x5cf67c(0x302)](_0x27f33d[_0x5cf67c(0x5e1)]),_0x1bf06b=null;try{_0x1bf06b=(await this[_0x5cf67c(0x224)](_0x27f33d[_0x5cf67c(0x5e1)]))[_0x5cf67c(0x2b4)];}catch(_0x27686e){this[_0x5cf67c(0x3f6)][_0x5cf67c(0x5e6)](this[_0x5cf67c(0x40d)]+'\x20('+this[_0x5cf67c(0x62a)]['wuid']+_0x5cf67c(0x1e1)+_0x27f33d[_0x5cf67c(0x5e1)]+':\x20'+_0x27686e['toString']());}let _0x1b1a89=await this[_0x5cf67c(0x1ea)][_0x5cf67c(0x5db)][_0x5cf67c(0x4db)]({'where':{'_id':_0x27f33d[_0x5cf67c(0x5e1)],'owner':this[_0x5cf67c(0x62a)]['wuid']}},{'imagechat':_0x1bf06b,'name':_0x1fc4e7[_0x5cf67c(0x5e7)],'group_size':_0x1fc4e7[_0x5cf67c(0x449)],'group_announce':_0x1fc4e7[_0x5cf67c(0x673)],'lastcache':Date[_0x5cf67c(0x18b)]()});return _0x1b1a89&&B(this[_0x5cf67c(0x40d)],'chats',{'chat':_0x1b1a89}),{'metadata':_0x1fc4e7,'image':_0x1bf06b};}catch(_0x54ba4a){if(_0x75b4b8==='inner')return;throw new x(_0x5cf67c(0x581),_0x54ba4a['toString']());}}async[a0_0x4b3f0f(0x5a4)](_0x1a7109){const _0x32c9cf=a0_0x4b3f0f;try{return await this[_0x32c9cf(0x593)]['groupUpdateDescription'](_0x1a7109[_0x32c9cf(0x5e1)],_0x1a7109[_0x32c9cf(0x540)]),{'update':_0x32c9cf(0x493)};}catch(_0x50be5d){throw new A(_0x32c9cf(0xde),_0x50be5d[_0x32c9cf(0x16e)]());}}async[a0_0x4b3f0f(0x49e)](_0x2541da){const _0x5049d5=a0_0x4b3f0f;try{return await this[_0x5049d5(0x593)][_0x5049d5(0xf2)](_0x2541da[_0x5049d5(0x5e1)],_0x2541da[_0x5049d5(0x11c)]),{'update':_0x5049d5(0x493)};}catch(_0x588334){throw new A('Error\x20change\x20group\x20name',_0x588334[_0x5049d5(0x16e)]());}}async[a0_0x4b3f0f(0x66a)](_0x351769){const _0x22b436=a0_0x4b3f0f;try{return await this[_0x22b436(0x593)][_0x22b436(0x240)](_0x351769[_0x22b436(0x5e1)],_0x351769[_0x22b436(0x395)]),{'update':'success'};}catch(_0x4368da){throw new A('Error\x20change\x20group\x20setting',_0x4368da[_0x22b436(0x16e)]());}}async[a0_0x4b3f0f(0x44e)](){const _0x4d84b7=a0_0x4b3f0f;try{let _0x17c1aa=[],_0x4a9efc=await this['client'][_0x4d84b7(0x2ae)](),_0x3569d4=Object['values'](_0x4a9efc),_0x44c2db=_0x3569d4[_0x4d84b7(0x651)](_0x2288a1=>(0x0,w['isJidGroup'])(_0x2288a1?.['id']))[_0x4d84b7(0x53c)](async _0x2daded=>{const _0x26b642=_0x4d84b7;try{return await this[_0x26b642(0x593)][_0x26b642(0x2b4)](_0x2daded['id'],_0x26b642(0xf0));}catch(_0x42de78){return this[_0x26b642(0x3f6)][_0x26b642(0x5e6)](this['instanceName']+'\x20('+this[_0x26b642(0x62a)][_0x26b642(0x1c6)]+_0x26b642(0x1e1)+_0x2daded['id']+':\x20'+_0x42de78['toString']()),null;}}),_0x5d6c50=await Promise[_0x4d84b7(0x592)](_0x44c2db);for(let _0x5e79e0=0x0;_0x5e79e0<_0x3569d4['length'];_0x5e79e0++){let _0x24cfa5=_0x3569d4[_0x5e79e0];(0x0,w[_0x4d84b7(0x381)])(_0x24cfa5?.['id'])&&_0x17c1aa['push']({'groupJid':_0x24cfa5?.['id'],'subject':_0x24cfa5?.[_0x4d84b7(0x5e7)],'subjectOwner':_0x24cfa5?.[_0x4d84b7(0x2cf)]?.[_0x4d84b7(0x318)]('@')[0x0],'subjectTime':_0x24cfa5?.['subjectTime'],'size':_0x24cfa5?.['participants']?.[_0x4d84b7(0x529)],'owner':_0x24cfa5?.[_0x4d84b7(0x53a)]?.[_0x4d84b7(0x318)]('@')[0x0],'creation':_0x24cfa5?.['creation'],'desc':_0x24cfa5?.[_0x4d84b7(0x4f1)],'restrict':_0x24cfa5?.['restrict'],'announce':_0x24cfa5?.[_0x4d84b7(0x673)],'image':_0x5d6c50[_0x5e79e0]});}return _0x17c1aa;}catch(_0x5e46f4){throw new x('Error\x20fetching\x20group',_0x5e46f4[_0x4d84b7(0x16e)]());}}async[a0_0x4b3f0f(0x327)](_0x242e06){const _0x1e490b=a0_0x4b3f0f;try{let _0x318e2e=await this[_0x1e490b(0x593)][_0x1e490b(0x42f)](_0x242e06['groupJid']);return{'inviteUrl':_0x1e490b(0x137)+_0x318e2e,'inviteCode':_0x318e2e};}catch(_0xdde678){throw new x(_0x1e490b(0x45b),_0xdde678[_0x1e490b(0x16e)]());}}async[a0_0x4b3f0f(0x1b2)](_0x5156ad){const _0x398e29=a0_0x4b3f0f;try{let _0x5ed98f=await this[_0x398e29(0x593)]['groupRevokeInvite'](_0x5156ad[_0x398e29(0x5e1)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x5ed98f,'inviteCode':_0x5ed98f};}catch(_0x19edc0){throw new x(_0x398e29(0x309),_0x19edc0[_0x398e29(0x16e)]());}}async[a0_0x4b3f0f(0x1e7)](_0x4cdceb){const _0x4b854e=a0_0x4b3f0f;try{if((0x0,O[_0x4b854e(0x1b1)])(_0x4cdceb[_0x4b854e(0x327)]))var _0x3775a2=_0x4cdceb[_0x4b854e(0x327)][_0x4b854e(0x318)]('/')[0x3];else var _0x3775a2=_0x4cdceb[_0x4b854e(0x327)];let _0x511a6d=await this[_0x4b854e(0x593)][_0x4b854e(0x471)](_0x3775a2);return this[_0x4b854e(0x3f6)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4b854e(0x1c6)]+_0x4b854e(0x39b)+_0x511a6d),{'join':!0x0,'inviteCode':_0x3775a2,'groupJid':_0x511a6d};}catch(_0x5ae207){throw new x(_0x4b854e(0x223),_0x5ae207[_0x4b854e(0x16e)]());}}async[a0_0x4b3f0f(0x508)](_0x22a9e4){const _0x13c3ec=a0_0x4b3f0f;try{return{'participants':(await this[_0x13c3ec(0x593)][_0x13c3ec(0x302)](_0x22a9e4[_0x13c3ec(0x5e1)]))[_0x13c3ec(0x3b8)]};}catch(_0x22cbe3){throw new x(_0x13c3ec(0x29c),_0x22cbe3[_0x13c3ec(0x16e)]());}}async[a0_0x4b3f0f(0x3f3)](_0x5c424b){const _0xe60766=a0_0x4b3f0f;try{let _0x61b453=_0x5c424b[_0xe60766(0x3b8)][_0xe60766(0x53c)](_0x9d9f94=>this[_0xe60766(0x2f0)](_0x9d9f94));return{'updateParticipants':await this[_0xe60766(0x593)][_0xe60766(0x469)](_0x5c424b[_0xe60766(0x5e1)],_0x61b453,_0x5c424b[_0xe60766(0xca)])};}catch(_0x5b4bda){throw new g(_0xe60766(0x1d4),_0x5b4bda[_0xe60766(0x16e)]());}}async[a0_0x4b3f0f(0x2c1)](_0x408cce){const _0x49144e=a0_0x4b3f0f;try{let _0xc7100e=await this[_0x49144e(0x593)][_0x49144e(0x2ab)](_0x408cce[_0x49144e(0x5e1)],_0x408cce[_0x49144e(0x3ae)]);return{'success':!0x0};}catch(_0x42399c){throw new g(_0x49144e(0x568),_0x42399c['toString']());}}async[a0_0x4b3f0f(0x600)](_0x1f002d){const _0x4d7b0a=a0_0x4b3f0f;try{return await this[_0x4d7b0a(0x593)][_0x4d7b0a(0x3a4)](_0x1f002d[_0x4d7b0a(0x5e1)]),{'groupJid':_0x1f002d[_0x4d7b0a(0x5e1)],'leave':!0x0};}catch(_0x19298b){throw new g(_0x4d7b0a(0x472),_0x19298b[_0x4d7b0a(0x16e)]());}}async[a0_0x4b3f0f(0x305)](_0x44a15f){const _0x38cf14=a0_0x4b3f0f;return await this[_0x38cf14(0x4d1)](_0x44a15f[_0x38cf14(0x465)],{'poll':{'name':_0x44a15f[_0x38cf14(0x305)]?.[_0x38cf14(0x11c)],'selectableCount':_0x44a15f['pollMessage']['selectableCount'],'values':_0x44a15f[_0x38cf14(0x305)][_0x38cf14(0x57a)]}},_0x44a15f?.[_0x38cf14(0x59e)]);}async['updateMessage'](_0x4bc593,_0x31f18a,_0x244f5d){const _0x1289d2=a0_0x4b3f0f;if(await this['getMessage'](_0x4bc593,!0x0)){let _0x513e9f={'where':{'_id':_0x4bc593['id'],'owner':this[_0x1289d2(0x62a)][_0x1289d2(0x1c6)]}},_0x31d314={'status':[_0x244f5d[_0x1289d2(0x238)]][0x0]};try{let _0x42126f=await this['repository']['message'][_0x1289d2(0x3f0)](_0x513e9f,_0x31d314);_0x42126f&&B(this['instanceName'],'messages',{'message':_0x42126f});}catch{}}}[a0_0x4b3f0f(0x344)](_0x36ab75){const _0x2ab3c4=a0_0x4b3f0f;let _0x41d23e=_0x36ab75['replace'](/\\n/g,'\x0a')[_0x2ab3c4(0x318)]('\x0a')[_0x2ab3c4(0x651)](_0x25f8d2=>_0x25f8d2[_0x2ab3c4(0x531)](_0x2ab3c4(0x24a))||_0x25f8d2[_0x2ab3c4(0x531)](_0x2ab3c4(0x49b))),_0x3a2c7b='';return _0x41d23e[_0x2ab3c4(0x557)](_0x3cfc99=>{const _0x2470df=_0x2ab3c4;let _0x393027=/TEL(?:.*):(.+)/,_0x36c810=/EMAIL(?:.*):(.+)/,_0x5f3c59=_0x3cfc99[_0x2470df(0x5fa)](_0x393027),_0x252969=_0x3cfc99[_0x2470df(0x5fa)](_0x36c810);if(_0x5f3c59){let _0x47c5c9=_0x5f3c59[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x2470df(0x322)]();_0x3a2c7b+=_0x2470df(0x2d6)+_0x47c5c9+'\x0a';}else{if(_0x252969){let _0x4772f0=_0x252969[0x1][_0x2470df(0x322)]();_0x3a2c7b+=_0x2470df(0x532)+_0x4772f0+'\x0a';}}}),_0x3a2c7b['trim']();}async[a0_0x4b3f0f(0x456)](_0x4690bc,_0x5b8976,_0x1ffd55){const _0x4a016f=a0_0x4b3f0f;let _0x41d272=_0x5b8976[_0x4a016f(0x268)][_0x4a016f(0x110)]['replace'](/:\d{1,2}@/g,'@'),_0xd7e012=_0x5b8976[_0x4a016f(0x268)][_0x4a016f(0x38c)],_0x5afacd=_0x41d272[_0x4a016f(0xd2)](_0x4a016f(0x2ca));if(!_0x4690bc['ENABLED'])return;let _0x441514={'lastmsg':_0x5b8976['messageTimestamp']||Date[_0x4a016f(0x18b)](),'unreadcount':_0xd7e012?0x0:0x1,..._0xd7e012||_0x5afacd?{}:{'name':_0x5b8976[_0x4a016f(0x420)]},..._0x5afacd?{'group':_0x5afacd}:{}},_0x1837e3=await this[_0x4a016f(0x1ea)][_0x4a016f(0x5db)]['updateOne']({'where':{'_id':_0x41d272,'owner':this[_0x4a016f(0x62a)][_0x4a016f(0x1c6)]}},_0x441514,{'new':!0x0,'upsert':!0x0});if(!_0x5afacd&&(!_0x1837e3?.[_0x4a016f(0x232)]||!_0x1837e3[_0x4a016f(0x232)][_0x4a016f(0x1cc)])&&_0x5b8976[_0x4a016f(0x420)]&&!_0xd7e012&&await this[_0x4a016f(0x1ea)][_0x4a016f(0x5db)]['updateOne']({'where':{'_id':_0x41d272,'owner':this['instance'][_0x4a016f(0x1c6)]}},{'leadInfo.nome':_0x5b8976[_0x4a016f(0x420)]},{'new':!0x0,'upsert':!0x1}),_0x1837e3?B(this[_0x4a016f(0x40d)],_0x4a016f(0x417),{'chat':_0x1837e3}):this[_0x4a016f(0x3f6)][_0x4a016f(0x622)](this[_0x4a016f(0x40d)]+'\x20('+this[_0x4a016f(0x62a)][_0x4a016f(0x1c6)]+_0x4a016f(0x3f1)),!this[_0x4a016f(0x26b)]?.[_0x4a016f(0x20b)][_0x4a016f(0x500)])return this[_0x4a016f(0x3f6)][_0x4a016f(0x5e6)](this[_0x4a016f(0x40d)]+'\x20('+this[_0x4a016f(0x62a)][_0x4a016f(0x1c6)]+_0x4a016f(0x1c0)),null;if(_0x1837e3[_0x4a016f(0x2e8)][_0x4a016f(0x531)](_0x4a016f(0x2ca))&&this[_0x4a016f(0x26b)]?.['flowConfig']['ignoreGroups']===!0x0)return this[_0x4a016f(0x3f6)][_0x4a016f(0x5e6)](this['instanceName']+'\x20('+this[_0x4a016f(0x62a)][_0x4a016f(0x1c6)]+_0x4a016f(0x59c)),null;if(_0x1837e3[_0x4a016f(0x232)]){if(_0x1837e3[_0x4a016f(0x232)]['desativadoFluxoAte']===0x0||_0x1837e3[_0x4a016f(0x232)][_0x4a016f(0x487)])return this['logger'][_0x4a016f(0x5e6)](this[_0x4a016f(0x40d)]+'\x20('+this[_0x4a016f(0x62a)][_0x4a016f(0x1c6)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x41d272+_0x4a016f(0x475)),null;if(_0x1837e3[_0x4a016f(0x232)]['desativadoFluxoAte']>Date[_0x4a016f(0x18b)]())return this['logger']['verbose'](this[_0x4a016f(0x40d)]+'\x20('+this['instance'][_0x4a016f(0x1c6)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x1837e3[_0x4a016f(0x232)][_0x4a016f(0x16a)])[_0x4a016f(0xc8)]()+_0x4a016f(0x475)),null;}this['logger'][_0x4a016f(0x5e6)](this[_0x4a016f(0x40d)]+'\x20('+this[_0x4a016f(0x62a)][_0x4a016f(0x1c6)]+_0x4a016f(0xdf)),this[_0x4a016f(0x635)](_0x1ffd55,_0x5b8976,this[_0x4a016f(0x62a)][_0x4a016f(0x1c6)]);}async['upsertChats'](_0x5275e2,_0x21968f){const _0x6cfb30=a0_0x4b3f0f;if(_0x21968f['ENABLED']){let _0x37f11d=_0x5275e2[_0x6cfb30(0x53c)](async _0xd1b67a=>{const _0x3a8978=_0x6cfb30;try{let _0x383186={'_id':_0xd1b67a[_0x3a8978(0x2e8)],'owner':_0xd1b67a[_0x3a8978(0x53a)],'lastcache':0x0};if(_0xd1b67a[_0x3a8978(0x5a2)]!==null&&(_0x383186[_0x3a8978(0x5a2)]=_0xd1b67a[_0x3a8978(0x5a2)]),_0xd1b67a[_0x3a8978(0x11c)]!==null&&(_0x383186[_0x3a8978(0x11c)]=_0xd1b67a[_0x3a8978(0x11c)]),_0xd1b67a[_0x3a8978(0x675)]!==null&&(_0x383186[_0x3a8978(0x675)]=_0xd1b67a[_0x3a8978(0x675)]),_0xd1b67a['imagechat']!==null&&(_0x383186['imagechat']=_0xd1b67a[_0x3a8978(0x5be)]),_0xd1b67a[_0x3a8978(0x5be)]===null&&(_0x383186[_0x3a8978(0x5be)]=_0x3a8978(0x40e)),_0xd1b67a['lastmsg']!==null&&(_0x383186[_0x3a8978(0x308)]=_0xd1b67a[_0x3a8978(0x308)]),_0xd1b67a[_0x3a8978(0x458)]!==null&&(_0x383186['archived']=_0xd1b67a[_0x3a8978(0x458)]),_0xd1b67a['unreadcount']!==null&&(_0x383186[_0x3a8978(0x467)]=_0xd1b67a[_0x3a8978(0x467)]),Object[_0x3a8978(0x1c8)](_0x383186)[_0x3a8978(0x529)]>0x0)return await this[_0x3a8978(0x1ea)][_0x3a8978(0x5db)][_0x3a8978(0x4db)]({'where':{'_id':_0xd1b67a[_0x3a8978(0x2e8)],'owner':_0xd1b67a['owner']}},_0x383186);}catch(_0x1bddae){return console[_0x3a8978(0x622)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0xd1b67a[_0x3a8978(0x2e8)]+':',_0x1bddae),null;}}),_0xd29a5e=(await Promise[_0x6cfb30(0x592)](_0x37f11d))[_0x6cfb30(0x651)](_0x360138=>_0x360138!==null)[_0x6cfb30(0x529)];this[_0x6cfb30(0x3f6)][_0x6cfb30(0x5e6)](this[_0x6cfb30(0x40d)]+'\x20('+this[_0x6cfb30(0x62a)][_0x6cfb30(0x1c6)]+_0x6cfb30(0x39b)+_0xd29a5e+_0x6cfb30(0x1f2)+this[_0x6cfb30(0x62a)]['wuid']+_0x6cfb30(0x5e2));}}async[a0_0x4b3f0f(0xb9)](_0x552996){const _0x4e452d=a0_0x4b3f0f;this[_0x4e452d(0x3f6)]['verbose'](this[_0x4e452d(0x40d)]+'\x20('+this[_0x4e452d(0x62a)][_0x4e452d(0x1c6)]+_0x4e452d(0x451));let _0x3d799a={'readMessages':[{'remoteJid':_0x552996[_0x4e452d(0x61a)][_0x4e452d(0x205)][_0x4e452d(0x268)][_0x4e452d(0x110)],'fromMe':_0x552996[_0x4e452d(0x61a)][_0x4e452d(0x205)]['key'][_0x4e452d(0x38c)],'id':_0x552996[_0x4e452d(0x61a)]['lastReceivedMessage']['key']['id']}]};await this[_0x4e452d(0x2c8)](_0x3d799a);}async[a0_0x4b3f0f(0x635)](_0x5793ef,_0xb9efec,_0x1458ca){const _0x2b8754=a0_0x4b3f0f;try{let {key:_0x581582,message_normalized:_0x28a9e1}=_0xb9efec,_0x3be15a=_0x28a9e1,_0x2ff935=_0x28a9e1[_0x2b8754(0x506)]||_0x28a9e1[_0x2b8754(0x5a6)]||_0x28a9e1[_0x2b8754(0x32a)]||_0x28a9e1[_0x2b8754(0x11c)],_0x2d2a17=_0x581582[_0x2b8754(0x110)],_0x419c4f;if(_0x3be15a[_0x2b8754(0x268)][_0x2b8754(0x38c)]&&_0x2ff935[_0x2b8754(0x322)]()!==this[_0x2b8754(0x26b)]?.[_0x2b8754(0x20b)]['stopConversation'][_0x2b8754(0x322)]())return this[_0x2b8754(0x3f6)][_0x2b8754(0x5e6)](this['instanceName']+'\x20('+this[_0x2b8754(0x62a)][_0x2b8754(0x1c6)]+_0x2b8754(0x5b5)),null;if(_0x3be15a['key'][_0x2b8754(0x38c)]&&_0x2ff935[_0x2b8754(0x322)]()===this[_0x2b8754(0x26b)]?.[_0x2b8754(0x20b)][_0x2b8754(0x139)][_0x2b8754(0x322)]()){this['logger']['verbose'](this[_0x2b8754(0x40d)]+'\x20('+this[_0x2b8754(0x62a)][_0x2b8754(0x1c6)]+_0x2b8754(0x2c6));let _0x47e731=await j['find']({'owner':_0x1458ca,'remoteJid':_0x2d2a17,'status':_0x2b8754(0x655)});this[_0x2b8754(0x3f6)][_0x2b8754(0x5e6)](this[_0x2b8754(0x40d)]+'\x20('+this['instance'][_0x2b8754(0x1c6)]+_0x2b8754(0x263)+_0x47e731);let _0x1c1876=Date[_0x2b8754(0x18b)](),_0x1670d8;return this[_0x2b8754(0x26b)]?.['flowConfig']['stopMinutes']===0x0?_0x1670d8={'stoppedUntil':_0x1c1876+0x7591f6200}:_0x1670d8={'stoppedUntil':_0x1c1876+this['AutomateSystem']?.[_0x2b8754(0x20b)][_0x2b8754(0x585)]*0x3c*0x3e8},this[_0x2b8754(0x3f6)][_0x2b8754(0x5e6)](this[_0x2b8754(0x40d)]+'\x20('+this['instance'][_0x2b8754(0x1c6)]+_0x2b8754(0x14b)+_0x1670d8),this[_0x2b8754(0x4ac)](_0x419c4f,_0x1670d8['stoppedUntil']),null;}if(_0x2ff935&&_0x2ff935[_0x2b8754(0x433)](this[_0x2b8754(0x26b)]?.['flowConfig'][_0x2b8754(0x27b)])&&_0x2ff935['length']>0x4){let _0x5e42ae=await I['findOne']({'owner':_0x1458ca,'startCommandWord':_0x2ff935});if(this[_0x2b8754(0x3f6)][_0x2b8754(0x5e6)](this[_0x2b8754(0x40d)]+'\x20('+this['instance']['wuid']+_0x2b8754(0x3ff)),_0x5e42ae)_0x419c4f=await this[_0x2b8754(0x4bc)](_0x5e42ae,_0x3be15a[_0x2b8754(0x268)],_0x3be15a);else return this[_0x2b8754(0x3f6)][_0x2b8754(0x5e6)](this['instanceName']+'\x20('+this[_0x2b8754(0x62a)][_0x2b8754(0x1c6)]+_0x2b8754(0x1d2)),null;}else _0x419c4f=await this[_0x2b8754(0x4d5)](_0x1458ca,_0x2d2a17,_0x3be15a);if(_0x419c4f){this['logger'][_0x2b8754(0x5e6)](this[_0x2b8754(0x40d)]+'\x20('+this[_0x2b8754(0x62a)][_0x2b8754(0x1c6)]+_0x2b8754(0x20d)),!_0x581582[_0x2b8754(0x38c)]&&_0x419c4f[_0x2b8754(0x2c2)]&&this['readMessageBot'](_0x419c4f);let _0x485946=await this[_0x2b8754(0x37e)](_0x419c4f);_0x485946&&await this[_0x2b8754(0x2a3)](_0x419c4f,_0x485946,_0x419c4f['remoteJid']);}}catch(_0x38cfa1){this['logger']['error'](this[_0x2b8754(0x40d)]+'\x20('+this[_0x2b8754(0x62a)]['wuid']+_0x2b8754(0x615)+_0x38cfa1);}}[a0_0x4b3f0f(0x400)](_0x57dc67,_0x38fe6b='',_0x9f9704={},_0x4aadfe=!0x0){const _0x2e9af6=a0_0x4b3f0f;for(let _0x18d52c in _0x57dc67){let _0x1e62c2=_0x4aadfe?'_'+_0x18d52c:''+_0x38fe6b+_0x18d52c;typeof _0x57dc67[_0x18d52c]==_0x2e9af6(0x64a)&&_0x57dc67[_0x18d52c]!==null?this[_0x2e9af6(0x400)](_0x57dc67[_0x18d52c],_0x1e62c2+'.',_0x9f9704,!0x1):_0x9f9704[_0x1e62c2]=String(_0x57dc67[_0x18d52c]);}return _0x9f9704;}[a0_0x4b3f0f(0x56c)](_0xc84889){const _0x1f36a7=a0_0x4b3f0f;let _0x570ac8={};for(let _0x532b3a of _0xc84889)typeof _0x532b3a[_0x1f36a7(0x11c)]==_0x1f36a7(0x4b9)&&typeof _0x532b3a[_0x1f36a7(0x5b7)]==_0x1f36a7(0x4b9)&&(_0x570ac8[_0x532b3a[_0x1f36a7(0x11c)]]=_0x532b3a[_0x1f36a7(0x5b7)]);return _0x570ac8;}async[a0_0x4b3f0f(0x37e)](_0x2598f0){const _0xeed0ee=a0_0x4b3f0f;if(!this['AutomateSystem']?.[_0xeed0ee(0x20b)][_0xeed0ee(0x500)]||_0x2598f0[_0xeed0ee(0x238)]!==_0xeed0ee(0x655)&&_0x2598f0[_0xeed0ee(0x28a)]==='')return null;let _0x548288=_0x2598f0['chatLog'][_0xeed0ee(0x4ca)]||_0xeed0ee(0x191);typeof _0x2598f0[_0xeed0ee(0x61a)][_0xeed0ee(0x163)]>'u'&&(_0x2598f0[_0xeed0ee(0x61a)]['lastCondition']=!0x0);let _0x431bba=_0x2598f0[_0xeed0ee(0x61a)]['lastCondition'];this[_0xeed0ee(0x3f6)][_0xeed0ee(0x5e6)](this[_0xeed0ee(0x40d)]+'\x20('+this['instance'][_0xeed0ee(0x1c6)]+_0xeed0ee(0x5e3)+_0x548288+_0xeed0ee(0x56f)+_0x431bba);let _0x2cbf0b=_0x548288===_0xeed0ee(0x191)?_0x2598f0[_0xeed0ee(0x64e)][_0xeed0ee(0x28c)](_0x42fd9d=>_0x42fd9d['type']===_0xeed0ee(0x191)):_0x2598f0[_0xeed0ee(0x64e)][_0xeed0ee(0x28c)](_0x2039c0=>_0x2039c0[_0xeed0ee(0x2e8)][_0xeed0ee(0x16e)]()===_0x548288['toString']());if(!_0x2cbf0b)return this[_0xeed0ee(0x3f6)]['error'](this[_0xeed0ee(0x40d)]+'\x20('+this[_0xeed0ee(0x62a)][_0xeed0ee(0x1c6)]+_0xeed0ee(0x5e8)+_0x548288),null;let _0x466e83={'_pushName':_0x2598f0[_0xeed0ee(0x61a)][_0xeed0ee(0x205)][_0xeed0ee(0x420)],..._0x2598f0[_0xeed0ee(0x61a)]['realVariables']},_0xd5a2d7=null;if(_0x2598f0[_0xeed0ee(0x28a)]){let _0x200b29=_0x2598f0[_0xeed0ee(0x61a)][_0xeed0ee(0x205)][_0xeed0ee(0x32a)],_0x2ad282=_0x2598f0[_0xeed0ee(0x2c7)][_0xeed0ee(0x28c)](_0x38ff7d=>_0x38ff7d[_0xeed0ee(0x623)]===_0x200b29);if(_0x2ad282){let _0x11c2ab=_0x2ad282[_0xeed0ee(0x218)];if(_0xd5a2d7=_0x2598f0[_0xeed0ee(0x64e)][_0xeed0ee(0x28c)](_0x310f63=>_0x310f63['groupId']===_0x11c2ab&&_0x310f63['order']===0x1),_0x2cbf0b['uazapi'][_0xeed0ee(0x546)]){let _0x3884b2={'id':_0x2598f0[_0xeed0ee(0x28a)],'remoteJid':_0x2598f0['remoteJid'],'fromMe':!0x0};await this[_0xeed0ee(0x25a)](_0x3884b2);}if(_0x2cbf0b[_0xeed0ee(0x47b)][_0xeed0ee(0x546)]&&_0x2cbf0b[_0xeed0ee(0x47b)]['pollMessageOnDelete']){let _0x4449db={'number':_0x2598f0[_0xeed0ee(0x110)],'options':{'delay':0x0},'textMessage':{'text':_0xeed0ee(0x485)+_0x2598f0['waitingPoll_name']+'\x0a*Você\x20respondeu*:\x0a'+_0x200b29}};await this[_0xeed0ee(0x17e)](_0x4449db);}_0x2598f0[_0xeed0ee(0x238)]=_0xeed0ee(0x655),_0x2598f0[_0xeed0ee(0x28a)]='',_0x2598f0[_0xeed0ee(0x65d)]='',_0x2598f0[_0xeed0ee(0x2c7)]=[];}else{this['logger'][_0xeed0ee(0x5e6)](this[_0xeed0ee(0x40d)]+'\x20('+this[_0xeed0ee(0x62a)][_0xeed0ee(0x1c6)]+_0xeed0ee(0x25e));let _0x4a33ec={'activatedCount':_0x2598f0['chatLog']['blockLogs']['filter'](_0x24b0fc=>String(_0x24b0fc[_0xeed0ee(0x186)])===String(_0x548288))[_0xeed0ee(0x529)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x2cbf0b[_0xeed0ee(0x47b)]['pollErrorMessage']){let _0x36b288={'number':_0x2598f0[_0xeed0ee(0x110)],'options':{'delay':0x0},'textMessage':{'text':_0x2cbf0b['uazapi']['pollErrorMessage']}};await this[_0xeed0ee(0x17e)](_0x36b288);}if(_0x2cbf0b[_0xeed0ee(0x353)]!==void 0x0&&_0x4a33ec[_0xeed0ee(0x5d8)]>=_0x2cbf0b[_0xeed0ee(0x353)]){let _0x336381=Date[_0xeed0ee(0x18b)](),_0x3d1fdd=_0x2cbf0b[_0xeed0ee(0x2d4)]??0xa;isNaN(_0x3d1fdd)&&(_0x3d1fdd=0xa);let _0xf7fde1=_0x336381+_0x3d1fdd*0x3c*0x3e8;_0x4a33ec[_0xeed0ee(0x5eb)]=_0xf7fde1,_0x4a33ec[_0xeed0ee(0x333)][_0xeed0ee(0x346)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this['updateStopChat'](_0x2598f0,_0xf7fde1),_0x2598f0[_0xeed0ee(0x28a)]='',_0x2598f0[_0xeed0ee(0x65d)]='',_0x2598f0[_0xeed0ee(0x2c7)]=[];}return this[_0xeed0ee(0x5b2)](_0x2598f0,_0x2cbf0b,_0x4a33ec,!0x0),null;}}if(_0x431bba&&_0x2cbf0b['next_groupId']&&!_0x2598f0[_0xeed0ee(0x28a)]){let _0x8d38a7=_0x2598f0[_0xeed0ee(0x64e)][_0xeed0ee(0x651)](_0x29e686=>_0x29e686['groupId']['toString']()===_0x2cbf0b[_0xeed0ee(0x218)][_0xeed0ee(0x16e)]())['sort']((_0x59daad,_0x423441)=>_0x59daad[_0xeed0ee(0x14e)]-_0x423441[_0xeed0ee(0x14e)]);_0x8d38a7['length']>0x0&&(_0xd5a2d7=_0x8d38a7[0x0]);}if(!_0xd5a2d7){let _0x1bd9e0=_0x2cbf0b[_0xeed0ee(0x291)],_0x50455e=_0x2598f0[_0xeed0ee(0x64e)][_0xeed0ee(0x651)](_0x3e7534=>_0x3e7534[_0xeed0ee(0x291)]===_0x1bd9e0&&_0x3e7534['order']>_0x2cbf0b[_0xeed0ee(0x14e)])[_0xeed0ee(0x5f1)]((_0x34ec16,_0x432a00)=>_0x34ec16['order']-_0x432a00[_0xeed0ee(0x14e)]);_0x50455e[_0xeed0ee(0x529)]>0x0&&(_0xd5a2d7=_0x50455e[0x0]);}if(!_0xd5a2d7)return _0x2598f0[_0xeed0ee(0x238)]=_0xeed0ee(0x179),null;_0x2598f0['chatLog']['realVariables']=_0x466e83;let _0x3aa6d3=JSON['parse'](JSON[_0xeed0ee(0x3c6)](_0xd5a2d7));return this[_0xeed0ee(0x233)](_0x3aa6d3,_0x2598f0[_0xeed0ee(0x61a)][_0xeed0ee(0x62c)]),_0x2598f0[_0xeed0ee(0x61a)]['lastBlockId']=_0x3aa6d3['_id'],_0x2598f0[_0xeed0ee(0x61a)][_0xeed0ee(0x163)]=!0x0,_0x3aa6d3;}[a0_0x4b3f0f(0x5a5)](_0x523b52,_0x2b2aea){const _0x262a93=a0_0x4b3f0f;return _0x523b52[_0x262a93(0x2f7)](/\{\{([^}]+)\}\}/g,(_0x95a34,_0x3eaf44)=>_0x2b2aea[_0x3eaf44]||'');}[a0_0x4b3f0f(0x233)](_0x3253c8,_0x34b91f){const _0x46a5ab=a0_0x4b3f0f;for(let _0x284605 in _0x3253c8)typeof _0x3253c8[_0x284605]==_0x46a5ab(0x4b9)?_0x3253c8[_0x284605]=this[_0x46a5ab(0x5a5)](_0x3253c8[_0x284605],_0x34b91f):typeof _0x3253c8[_0x284605]=='object'&&this[_0x46a5ab(0x233)](_0x3253c8[_0x284605],_0x34b91f);}async[a0_0x4b3f0f(0x3a9)](_0x3f9706,_0x47eaf2){const _0x1fcaa9=a0_0x4b3f0f;let _0x291353=_0x47eaf2[_0x1fcaa9(0x2e8)];if(_0x3f9706[_0x1fcaa9(0x61a)]&&_0x3f9706[_0x1fcaa9(0x61a)][_0x1fcaa9(0x17f)]){let _0x1d50b4=_0x3f9706[_0x1fcaa9(0x61a)][_0x1fcaa9(0x17f)]['filter'](_0x1ed6d6=>String(_0x1ed6d6[_0x1fcaa9(0x186)])===String(_0x291353))['pop']();if(_0x1d50b4&&_0x1d50b4[_0x1fcaa9(0x622)]&&_0x47eaf2[_0x1fcaa9(0x129)])return _0x3f9706[_0x1fcaa9(0x238)]='closed',await this[_0x1fcaa9(0xf1)](_0x3f9706),null;}if(_0x47eaf2[_0x1fcaa9(0x533)]===_0x1fcaa9(0x47b)&&_0x47eaf2[_0x1fcaa9(0x47b)][_0x1fcaa9(0x2ad)]===_0x1fcaa9(0x335)&&_0x3f9706[_0x1fcaa9(0x28a)])return _0x3f9706[_0x1fcaa9(0x61a)][_0x1fcaa9(0x4ca)]=_0x291353,await this[_0x1fcaa9(0xf1)](_0x3f9706),null;let _0x1cb1ed=await this['NextBlock'](_0x3f9706);if(_0x3f9706[_0x1fcaa9(0x61a)]&&_0x3f9706['chatLog'][_0x1fcaa9(0x17f)]){let _0x9e0ec5=_0x3f9706[_0x1fcaa9(0x61a)]['blockLogs'][_0x1fcaa9(0x651)](_0x3bd034=>String(_0x3bd034[_0x1fcaa9(0x186)])===String(_0x291353))[_0x1fcaa9(0x529)];if(_0x47eaf2['maxActives']!==void 0x0&&_0x9e0ec5>=_0x47eaf2['maxActives']){let _0x5e84e9=Date[_0x1fcaa9(0x18b)](),_0x115c47=_0x47eaf2[_0x1fcaa9(0x2d4)]??0xa;isNaN(_0x115c47)&&(_0x115c47=0xa);let _0x4e40e8=_0x5e84e9+_0x115c47*0x3c*0x3e8,_0x2e5cc3={'newStoppedUntil':_0x4e40e8};return this['updateStopChat'](_0x3f9706,_0x4e40e8),this[_0x1fcaa9(0x5b2)](_0x3f9706,_0x47eaf2,_0x2e5cc3,!0x0),null;}}_0x1cb1ed&&_0x1cb1ed['type']!==_0x1fcaa9(0x3c9)&&await this[_0x1fcaa9(0x2a3)](_0x3f9706,_0x1cb1ed,_0x3f9706[_0x1fcaa9(0x110)]),_0x1cb1ed||await this[_0x1fcaa9(0xf1)](_0x3f9706),_0x1cb1ed&&_0x1cb1ed[_0x1fcaa9(0x533)]===_0x1fcaa9(0x3c9)&&(_0x3f9706[_0x1fcaa9(0x61a)][_0x1fcaa9(0x4ca)]=_0x291353,await this[_0x1fcaa9(0xf1)](_0x3f9706));}async[a0_0x4b3f0f(0x2a3)](_0x885091,_0x327a1a,_0x240c00){const _0x58d8f6=a0_0x4b3f0f;try{let _0x316a5d=_0x327a1a['type'];this[_0x58d8f6(0x3f6)][_0x58d8f6(0x5e6)](this[_0x58d8f6(0x40d)]+'\x20('+this[_0x58d8f6(0x62a)]['wuid']+_0x58d8f6(0x260)+_0x316a5d);let _0x168156={'uazapi':()=>this['processUazapi'](_0x885091,_0x327a1a,_0x240c00),'save':()=>this['saveTextReply'](_0x885091,_0x327a1a),'stop':()=>this[_0x58d8f6(0x139)](_0x885091,_0x327a1a),'condition':()=>this[_0x58d8f6(0x1ab)](_0x885091,_0x327a1a),'varedit':()=>this[_0x58d8f6(0x474)](_0x885091,_0x327a1a),'apirequest':()=>this[_0x58d8f6(0x628)](_0x885091,_0x327a1a),'goToFlow':()=>this[_0x58d8f6(0x251)](_0x885091,_0x327a1a)}[_0x316a5d];_0x168156&&await _0x168156();}catch(_0x247ecc){this[_0x58d8f6(0x3f6)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x58d8f6(0x484)+_0x247ecc);}}async[a0_0x4b3f0f(0x251)](_0x232554,_0x2fa34e){const _0x151880=a0_0x4b3f0f;if(this[_0x151880(0x3f6)][_0x151880(0x5e6)](this[_0x151880(0x40d)]+'\x20('+this['instance']['wuid']+_0x151880(0x340)),!_0x232554||!_0x2fa34e)return this[_0x151880(0x3f6)][_0x151880(0x622)](this[_0x151880(0x40d)]+'\x20('+this[_0x151880(0x62a)][_0x151880(0x1c6)]+_0x151880(0x4f2)),null;await this[_0x151880(0x5b2)](_0x232554,_0x2fa34e,{},!0x0,!0x0),console[_0x151880(0x21a)](_0x151880(0xc0)),console[_0x151880(0x21a)](_0x2fa34e);let _0x579976=_0x2fa34e[_0x151880(0x448)];console[_0x151880(0x21a)](_0x151880(0xd7),_0x579976),_0x232554=await this[_0x151880(0x374)](_0x579976,_0x232554['remoteJid'],_0x232554[_0x151880(0x61a)][_0x151880(0x62c)]),this[_0x151880(0x3f6)][_0x151880(0x5e6)](this[_0x151880(0x40d)]+'\x20('+this[_0x151880(0x62a)]['wuid']+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0xb4f805=await this[_0x151880(0x37e)](_0x232554);_0xb4f805&&await this[_0x151880(0x2a3)](_0x232554,_0xb4f805,_0x232554[_0x151880(0x110)]);}async[a0_0x4b3f0f(0x374)](_0x257527,_0x13fad9,_0x59e12c){const _0xc745d2=a0_0x4b3f0f;this[_0xc745d2(0x3f6)][_0xc745d2(0x5e6)](this['instanceName']+'\x20('+this[_0xc745d2(0x62a)][_0xc745d2(0x1c6)]+_0xc745d2(0x55b));try{if(_0x257527=await I[_0xc745d2(0x134)]({'owner':this[_0xc745d2(0x62a)][_0xc745d2(0x1c6)],'name':_0x257527}),!_0x257527)return this[_0xc745d2(0x3f6)][_0xc745d2(0x622)](this['instanceName']+'\x20('+this[_0xc745d2(0x62a)][_0xc745d2(0x1c6)]+_0xc745d2(0x630)),null;let _0x4ee8eb=require(_0xc745d2(0x502))[_0xc745d2(0x15f)],_0x2147c4=Date['now'](),_0x444d07=_0xc745d2(0x191),_0x4a9951={},_0x1836a6={},_0x2e03c1={..._0x257527[_0xc745d2(0x5ed)],'chatLog':null},_0x5064a2={'lastReceivedMessage':_0x4a9951,'lastSendMessage':_0x1836a6,'lastBlockId':_0x444d07,'lastCondition':!0x0,'realVariables':_0x59e12c};_0x2e03c1[_0xc745d2(0x61a)]=_0x5064a2,_0x2e03c1[_0xc745d2(0x61a)][_0xc745d2(0x62c)]={..._0x59e12c},delete _0x2e03c1[_0xc745d2(0x2e8)],_0x2e03c1[_0xc745d2(0x2e8)]=new _0x4ee8eb(),_0x2e03c1[_0xc745d2(0x121)]=_0x2147c4,_0x2e03c1[_0xc745d2(0x238)]=_0xc745d2(0x655),_0x2e03c1[_0xc745d2(0x110)]=_0x13fad9;let _0x140770=await j[_0xc745d2(0x35d)](_0x2e03c1);return this[_0xc745d2(0x3f6)][_0xc745d2(0x5e6)](this[_0xc745d2(0x40d)]+'\x20('+this[_0xc745d2(0x62a)][_0xc745d2(0x1c6)]+_0xc745d2(0xb2)),_0x140770?_0x2e03c1:null;}catch(_0x354e71){throw this[_0xc745d2(0x3f6)][_0xc745d2(0x622)](this['instanceName']+'\x20('+this[_0xc745d2(0x62a)][_0xc745d2(0x1c6)]+_0xc745d2(0x243)+_0x354e71),new g(_0x354e71[_0xc745d2(0x46a)]);}}async[a0_0x4b3f0f(0x628)](_0x4f4b47,_0x4b8424){const _0x26f496=a0_0x4b3f0f;let _0x385de3,_0x14758a;try{let _0x476077=_0x4b8424[_0x26f496(0x1bb)];if(!_0x476077||!_0x476077[_0x26f496(0x4fd)]||!_0x476077[_0x26f496(0x128)])throw new Error(_0x26f496(0x3cf));let _0x484804={'method':_0x476077[_0x26f496(0x128)],'url':_0x476077[_0x26f496(0x4fd)],'headers':_0x476077['header']||{},'data':_0x476077[_0x26f496(0x103)]||{}};_0x385de3=(await(0x0,ne['default'])(_0x484804))[_0x26f496(0x337)];let _0xcf64dc=_0x4f4b47[_0x26f496(0x61a)][_0x26f496(0x62c)],_0x647633=this['flattenObject'](_0x385de3);return Object['assign'](_0xcf64dc,_0x647633),_0x4f4b47[_0x26f496(0x61a)][_0x26f496(0x62c)]=_0xcf64dc,_0x14758a={'error':!0x1,'apiResponse':_0x385de3},this[_0x26f496(0x5b2)](_0x4f4b47,_0x4b8424,_0x14758a),_0x385de3;}catch(_0x58cc66){console['error'](_0x26f496(0x204),_0x58cc66),_0x58cc66[_0x26f496(0x3bc)]&&(_0x385de3=_0x58cc66[_0x26f496(0x3bc)][_0x26f496(0x337)]);let _0x3a3040=_0x4f4b47[_0x26f496(0x61a)][_0x26f496(0x62c)],_0x2fb6ff=this[_0x26f496(0x400)](_0x385de3);return Object['assign'](_0x3a3040,_0x2fb6ff),_0x4f4b47[_0x26f496(0x61a)]['realVariables']=_0x3a3040,_0x14758a={'error':!0x0,'errorLog':_0x58cc66[_0x26f496(0x16e)](),'apiResponse':_0x385de3},this[_0x26f496(0x5b2)](_0x4f4b47,_0x4b8424,_0x14758a),{'success':!0x1};}}[a0_0x4b3f0f(0x11b)](_0x14040d,_0x52f190){const _0x2cf9d8=a0_0x4b3f0f;let _0x4367c6=_0x5a1901=>{const _0x530316=a0_0x473d;let _0x4fd2b8=_0x5a1901[_0x530316(0x2f7)](/[^0-9.,-]/g,'')[_0x530316(0x2f7)](',','.'),_0x3de4a5=parseFloat(_0x4fd2b8);return isNaN(_0x3de4a5)?null:_0x3de4a5;},_0x5950b6=_0x52f190['firstValue'],_0x2b6fe2=_0x52f190[_0x2cf9d8(0x4aa)];typeof _0x5950b6==_0x2cf9d8(0x4b9)&&(_0x5950b6=this[_0x2cf9d8(0x5a5)](_0x5950b6,_0x14040d[_0x2cf9d8(0x61a)]['realVariables'])??''),typeof _0x2b6fe2==_0x2cf9d8(0x4b9)&&(_0x2b6fe2=this['replaceVariables'](_0x2b6fe2,_0x14040d[_0x2cf9d8(0x61a)][_0x2cf9d8(0x62c)])??'');let _0x4a8ca8=null;if(!_0x5950b6||!_0x52f190[_0x2cf9d8(0x3e1)])return null;switch(this[_0x2cf9d8(0x3f6)][_0x2cf9d8(0x5e6)](this[_0x2cf9d8(0x40d)]+'\x20('+this[_0x2cf9d8(0x62a)][_0x2cf9d8(0x1c6)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x5950b6),this[_0x2cf9d8(0x3f6)][_0x2cf9d8(0x5e6)](this[_0x2cf9d8(0x40d)]+'\x20('+this[_0x2cf9d8(0x62a)][_0x2cf9d8(0x1c6)]+_0x2cf9d8(0xb7)+_0x2b6fe2),_0x52f190[_0x2cf9d8(0x3e1)]){case'+':case'-':case'*':case'/':let _0x3fb3da=_0x4367c6(_0x5950b6),_0xf112cd=_0x4367c6(_0x2b6fe2||'0');if(_0x3fb3da===null)return null;switch(_0x52f190[_0x2cf9d8(0x3e1)]){case'+':_0x4a8ca8=_0x3fb3da+(_0xf112cd??0x0);break;case'-':_0x4a8ca8=_0x3fb3da-(_0xf112cd??0x0);break;case'*':_0x4a8ca8=_0x3fb3da*(_0xf112cd??0x1);break;case'/':_0xf112cd!==0x0&&(_0x4a8ca8=_0x3fb3da/(_0xf112cd??0x1));break;}break;case'findAndReplace':case _0x2cf9d8(0x269):let _0x167b44=_0x2b6fe2,_0x1d9303=_0x52f190[_0x2cf9d8(0x27e)];if(typeof _0x1d9303==_0x2cf9d8(0x4b9)&&(_0x1d9303=this[_0x2cf9d8(0x5a5)](_0x1d9303,_0x14040d[_0x2cf9d8(0x61a)][_0x2cf9d8(0x62c)])??''),_0x167b44&&_0x1d9303!==void 0x0){let _0x31fd72=_0x52f190[_0x2cf9d8(0x3e1)]===_0x2cf9d8(0x42e)?new RegExp(_0x167b44[_0x2cf9d8(0x2f7)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x167b44,'g');_0x4a8ca8=_0x5950b6[_0x2cf9d8(0x2f7)](_0x31fd72,_0x1d9303);}else console[_0x2cf9d8(0x1e8)](_0x2cf9d8(0x541));break;case _0x2cf9d8(0x610):_0x4a8ca8=_0x2b6fe2;break;case _0x2cf9d8(0x64b):let _0x3aa301=_0x5950b6[_0x2cf9d8(0x5fa)](new RegExp(_0x2b6fe2||''));_0x4a8ca8=_0x3aa301?_0x3aa301[0x0]:'';break;case _0x2cf9d8(0x35a):_0x4a8ca8=_0x5950b6[_0x2cf9d8(0x101)](0x0,parseInt(_0x2b6fe2||'0'));break;case _0x2cf9d8(0x32e):let _0x310a8c=parseInt(_0x2b6fe2||'0');_0x4a8ca8=_0x5950b6[_0x2cf9d8(0x101)](_0x5950b6[_0x2cf9d8(0x529)]-_0x310a8c);break;case _0x2cf9d8(0x603):let _0x4b0275=_0x4367c6(_0x5950b6),_0x5e5313=parseInt(_0x2b6fe2||'0');_0x5e5313=Math[_0x2cf9d8(0xee)](_0x5e5313),_0x4b0275!==null?_0x4a8ca8=_0x4b0275['toLocaleString'](_0x2cf9d8(0x120),{'minimumFractionDigits':_0x5e5313,'maximumFractionDigits':_0x5e5313}):(console[_0x2cf9d8(0x1e8)](_0x2cf9d8(0x4d6)+_0x5950b6),_0x4a8ca8=null);break;case _0x2cf9d8(0x201):let _0x359ee8=_0x4367c6(_0x5950b6);_0x359ee8!==null?_0x4a8ca8=_0x359ee8[_0x2cf9d8(0xc8)](_0x2cf9d8(0x120),{'style':'currency','currency':_0x2cf9d8(0x37f)}):(console[_0x2cf9d8(0x1e8)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x5950b6),_0x4a8ca8=null);break;case'upperCase':_0x4a8ca8=_0x5950b6[_0x2cf9d8(0x431)]();break;case _0x2cf9d8(0x437):_0x4a8ca8=_0x5950b6[_0x2cf9d8(0x40c)]();break;case _0x2cf9d8(0x44f):_0x4a8ca8=_0x5950b6[_0x2cf9d8(0x318)]('\x20')[_0x2cf9d8(0x53c)](_0x18d9cf=>_0x18d9cf[_0x2cf9d8(0x20e)](0x0)['toUpperCase']()+_0x18d9cf['slice'](0x1)[_0x2cf9d8(0x40c)]())[_0x2cf9d8(0x488)]('\x20');break;case _0x2cf9d8(0x61d):_0x4a8ca8=_0x5950b6['trim']();break;default:_0x4a8ca8=_0x5950b6;}return _0x4a8ca8!==null?_0x4a8ca8['toString']():null;}async[a0_0x4b3f0f(0x474)](_0x442765,_0x45e43d){const _0x3b7723=a0_0x4b3f0f;try{let _0x26208c=_0x442765[_0x3b7723(0xd0)]?.[_0x3b7723(0x651)](_0xb7ec94=>_0xb7ec94['blockId']===_0x45e43d['_id']?.[_0x3b7723(0x16e)]())||[],_0x515711=_0x45e43d[_0x3b7723(0x2e0)],_0x353fa5=null,_0x403a39=[],_0x59475f=_0x442765[_0x3b7723(0x61a)][_0x3b7723(0x62c)][_0x515711];_0x403a39[_0x3b7723(0x346)](_0x3b7723(0x664)+_0x59475f+'\x22');for(let _0x3aba2c of _0x26208c){_0x3aba2c[_0x3b7723(0x1f9)]=_0x59475f,_0x353fa5=_0x3aba2c[_0x3b7723(0x1f9)];let _0x42df47;try{_0x42df47=this[_0x3b7723(0x11b)](_0x442765,_0x3aba2c);}catch(_0x33ec01){console[_0x3b7723(0x622)](_0x3b7723(0x65b)+_0x33ec01['message']);continue;}if(_0x42df47!==null){let _0x35604d=_0x3b7723(0x3a8)+_0x3aba2c[_0x3b7723(0x3e1)]+'\x22',_0x102cc7=['toBRL',_0x3b7723(0x3ed),'lowerCase','capitalizedWords','trimmed'];_0x3aba2c['editOperator']===_0x3b7723(0x42e)||_0x3aba2c['editOperator']===_0x3b7723(0x269)?_0x35604d+=_0x3b7723(0x370)+_0x3aba2c[_0x3b7723(0x4aa)]+_0x3b7723(0x662)+_0x3aba2c[_0x3b7723(0x27e)]+'\x22':!_0x102cc7[_0x3b7723(0x531)](_0x3aba2c[_0x3b7723(0x3e1)])&&_0x3aba2c['secondValue']!==null&&_0x3aba2c['secondValue']!==void 0x0&&(_0x35604d+=_0x3b7723(0x466)+_0x3aba2c[_0x3b7723(0x4aa)]+'\x22'),_0x35604d+=_0x3b7723(0x2ff)+_0x42df47+'.',_0x403a39['push'](_0x35604d);}_0x42df47!==null&&(_0x59475f=_0x42df47);}if(_0x442765[_0x3b7723(0x61a)][_0x3b7723(0x62c)]&&_0x45e43d[_0x3b7723(0x2e0)]){_0x442765[_0x3b7723(0x61a)]['realVariables'][_0x45e43d[_0x3b7723(0x2e0)]]=_0x59475f;let _0x456004={'variable':_0x45e43d[_0x3b7723(0x2e0)],'oldValue':_0x353fa5,'newValue':_0x59475f,'moreLogs':_0x403a39};try{this['updateConversation'](_0x442765,_0x45e43d,_0x456004);}catch(_0x256dbe){console[_0x3b7723(0x622)](_0x3b7723(0x3d8)+_0x256dbe[_0x3b7723(0x46a)]);}}return _0x515711;}catch(_0x71ee44){return console['error'](_0x3b7723(0x1b3)+_0x71ee44[_0x3b7723(0x46a)]),null;}}async['processConditions'](_0x28c97b,_0x5765ee){const _0xd9d8c4=a0_0x4b3f0f;try{let _0x1b79ee=[],_0x1c8275=_0x28c97b[_0xd9d8c4(0x5fe)]['filter'](_0x3b0a4e=>_0x3b0a4e[_0xd9d8c4(0x186)]===_0x5765ee[_0xd9d8c4(0x2e8)]['toString']()),_0x5d50ac=null,_0x40ed5d=!0x1;for(let _0x277b88 of _0x1c8275){let _0x11762c=this['evaluateCondition'](_0x28c97b,_0x277b88);_0x1b79ee[_0xd9d8c4(0x346)](_0xd9d8c4(0x2ac)+_0x277b88[_0xd9d8c4(0x1f9)]+',\x20Comparador:\x20'+_0x277b88['expression']+',\x20Segundo\x20Valor:\x20'+_0x277b88['secondValue']+',\x20Resultado:\x20'+_0x11762c),_0x5d50ac===null?_0x5d50ac=_0x11762c:_0x277b88[_0xd9d8c4(0x1b8)]===_0xd9d8c4(0x5f9)?(_0x5d50ac=_0x5d50ac&&_0x11762c,_0x11762c||(_0x40ed5d=!0x0)):_0x277b88[_0xd9d8c4(0x1b8)]==='or'&&(_0x40ed5d||(_0x5d50ac=_0x5d50ac||_0x11762c));}_0x5d50ac===null&&(_0x5d50ac=!0x0);let _0x88627={'moreLogs':_0x1b79ee};_0x28c97b[_0xd9d8c4(0x61a)][_0xd9d8c4(0x163)]=_0x5d50ac,await this[_0xd9d8c4(0x5b2)](_0x28c97b,_0x5765ee,_0x88627);}catch(_0x5c6536){this[_0xd9d8c4(0x3f6)][_0xd9d8c4(0x622)](this[_0xd9d8c4(0x40d)]+'\x20('+this[_0xd9d8c4(0x62a)][_0xd9d8c4(0x1c6)]+_0xd9d8c4(0x2c5)+_0x5c6536);}}[a0_0x4b3f0f(0x511)](_0x90e057,_0x36c9ce){const _0x1702e0=a0_0x4b3f0f;let _0x4b1fc6=_0x36c9ce[_0x1702e0(0x1f9)],_0x11e809=_0x36c9ce[_0x1702e0(0x4aa)];typeof _0x4b1fc6=='string'&&(_0x4b1fc6=this['replaceVariables'](_0x4b1fc6,_0x90e057[_0x1702e0(0x61a)][_0x1702e0(0x62c)])??''),typeof _0x11e809==_0x1702e0(0x4b9)&&(_0x11e809=this[_0x1702e0(0x5a5)](_0x11e809,_0x90e057[_0x1702e0(0x61a)][_0x1702e0(0x62c)])??'');try{switch(_0x36c9ce[_0x1702e0(0x56d)]){case _0x1702e0(0x22a):return _0x4b1fc6===_0x11e809;case'notEqual':return _0x4b1fc6!==_0x11e809;case _0x1702e0(0x48d):return _0x4b1fc6[_0x1702e0(0x531)](_0x11e809);case'notContains':return!_0x4b1fc6['includes'](_0x11e809);case _0x1702e0(0x3bd):return parseFloat(_0x4b1fc6)>parseFloat(_0x11e809);case _0x1702e0(0x117):return parseFloat(_0x4b1fc6)<parseFloat(_0x11e809);case _0x1702e0(0x2c4):return _0x4b1fc6!=='';case'empty':return _0x4b1fc6==='';case'matchRegex':return new RegExp(_0x11e809)[_0x1702e0(0x5f5)](_0x4b1fc6);case _0x1702e0(0x2cd):return!new RegExp(_0x11e809)['test'](_0x4b1fc6);default:return!0x1;}}catch(_0x39f987){return console[_0x1702e0(0x622)](_0x1702e0(0x38d)+_0x39f987),!0x1;}}[a0_0x4b3f0f(0x5a7)](_0x15aff2){const _0x30ea85=a0_0x4b3f0f;let _0x2d871b=!0x0,_0x1e0f97=null;for(let _0x2a4bf1 of _0x15aff2){let _0xed4e61=this[_0x30ea85(0x588)](_0x2a4bf1);if(_0x1e0f97==='or'&&_0xed4e61){_0x2d871b=!0x0;break;}if(_0x1e0f97===_0x30ea85(0x5f9)&&!_0xed4e61){_0x2d871b=!0x1;break;}_0x1e0f97=_0x2a4bf1[_0x30ea85(0x1b8)];}return _0x2d871b;}[a0_0x4b3f0f(0x588)](_0x396dc0){const _0x486b5c=a0_0x4b3f0f;let _0x62367f=_0x396dc0[_0x486b5c(0x1f9)],_0x35c936=_0x396dc0['secondValue'];try{switch(_0x396dc0[_0x486b5c(0x56d)]){case _0x486b5c(0x22a):return String(_0x62367f)===String(_0x35c936);case'notEqual':return String(_0x62367f)!==String(_0x35c936);case _0x486b5c(0x48d):return String(_0x62367f)[_0x486b5c(0x531)](String(_0x35c936));case _0x486b5c(0x2de):return!String(_0x62367f)[_0x486b5c(0x531)](String(_0x35c936));case _0x486b5c(0x3bd):return parseFloat(String(_0x62367f))>parseFloat(String(_0x35c936));case _0x486b5c(0x117):return parseFloat(String(_0x62367f))<parseFloat(String(_0x35c936));case _0x486b5c(0x2c4):return String(_0x62367f)!=='';case'empty':return String(_0x62367f)==='';case _0x486b5c(0x361):return new RegExp(String(_0x35c936))[_0x486b5c(0x5f5)](String(_0x62367f));case _0x486b5c(0x2cd):return!new RegExp(String(_0x35c936))[_0x486b5c(0x5f5)](String(_0x62367f));default:return!0x1;}}catch(_0x4dc3e4){return console[_0x486b5c(0x622)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x4dc3e4),!0x1;}}async[a0_0x4b3f0f(0x3ad)](_0x5769d5,_0x3bd01a){const _0x5b795f=a0_0x4b3f0f;if(this[_0x5b795f(0x3f6)][_0x5b795f(0x5e6)](this[_0x5b795f(0x40d)]+'\x20('+this[_0x5b795f(0x62a)]['wuid']+_0x5b795f(0x63c)),!_0x5769d5||!_0x3bd01a)return this[_0x5b795f(0x3f6)][_0x5b795f(0x622)](this[_0x5b795f(0x40d)]+'\x20('+this[_0x5b795f(0x62a)]['wuid']+_0x5b795f(0x4f2)),null;let _0xa90262=_0x3bd01a[_0x5b795f(0x2e0)],_0xc07ea8=_0x5769d5[_0x5b795f(0x61a)][_0x5b795f(0x205)][_0x5b795f(0x506)]||_0x5769d5[_0x5b795f(0x61a)][_0x5b795f(0x205)][_0x5b795f(0x5a6)]||_0x5769d5[_0x5b795f(0x61a)][_0x5b795f(0x205)][_0x5b795f(0x32a)];try{_0x5769d5[_0x5b795f(0x61a)]['realVariables']||(_0x5769d5[_0x5b795f(0x61a)][_0x5b795f(0x62c)]={});let _0x4cd15f=_0x5769d5['chatLog'][_0x5b795f(0x62c)][_0xa90262];_0x5769d5[_0x5b795f(0x61a)][_0x5b795f(0x62c)][_0xa90262]=_0xc07ea8;let _0x34b27d={'variable':_0xa90262,'oldValue':_0x4cd15f,'newValue':_0xc07ea8};this[_0x5b795f(0x5b2)](_0x5769d5,_0x3bd01a,_0x34b27d),this[_0x5b795f(0x3f6)][_0x5b795f(0x5e6)](this[_0x5b795f(0x40d)]+'\x20('+this[_0x5b795f(0x62a)][_0x5b795f(0x1c6)]+_0x5b795f(0xf9));}catch(_0x5a66cf){let _0x1d8797={'error':!0x0,'errorLog':_0x5a66cf[_0x5b795f(0x16e)]()};return this[_0x5b795f(0x5b2)](_0x5769d5,_0x3bd01a,_0x1d8797),this[_0x5b795f(0x3f6)][_0x5b795f(0x622)](this[_0x5b795f(0x40d)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+_0x5a66cf[_0x5b795f(0x46a)]),null;}}async[a0_0x4b3f0f(0x139)](_0x171778,_0x4b793b){const _0x429ec1=a0_0x4b3f0f;if(this[_0x429ec1(0x3f6)][_0x429ec1(0x5e6)](this['instanceName']+'\x20('+this[_0x429ec1(0x62a)][_0x429ec1(0x1c6)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x171778||!_0x4b793b)return this[_0x429ec1(0x3f6)][_0x429ec1(0x622)](this[_0x429ec1(0x40d)]+'\x20('+this[_0x429ec1(0x62a)][_0x429ec1(0x1c6)]+_0x429ec1(0x4f2)),null;let _0x119010=Date[_0x429ec1(0x18b)](),_0x2c0d2d=parseInt(_0x4b793b[_0x429ec1(0x585)],0xa);if(isNaN(_0x2c0d2d))return this[_0x429ec1(0x3f6)][_0x429ec1(0x622)](this['instanceName']+'\x20('+this[_0x429ec1(0x62a)]['wuid']+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x3dc7cc={'newStoppedUntil':_0x119010+_0x2c0d2d*0x3c*0x3e8};return await this['updateConversation'](_0x171778,_0x4b793b,_0x3dc7cc,!0x0),null;}async[a0_0x4b3f0f(0x3d7)](_0x185f52,_0x523567,_0x1d47ec){const _0x43ead6=a0_0x4b3f0f;try{switch(_0x523567[_0x43ead6(0x47b)]['command']){case _0x43ead6(0x64c):await this['uazapiSendText'](_0x185f52,_0x523567,_0x1d47ec);break;case _0x43ead6(0x45c):await this[_0x43ead6(0x564)](_0x185f52,_0x523567,_0x1d47ec);break;case _0x43ead6(0x65c):await this[_0x43ead6(0x10f)](_0x185f52,_0x523567,_0x1d47ec);break;case _0x43ead6(0x543):await this[_0x43ead6(0x4d3)](_0x185f52,_0x523567,_0x1d47ec);break;case _0x43ead6(0x3ea):await this['uazapiSendContact'](_0x185f52,_0x523567,_0x1d47ec);break;case _0x43ead6(0x335):await this['uazapiSendPoll'](_0x185f52,_0x523567,_0x1d47ec);break;case _0x43ead6(0x25a):await this[_0x43ead6(0x390)](_0x185f52,_0x523567,_0x1d47ec);break;default:this[_0x43ead6(0x3f6)][_0x43ead6(0x622)](this[_0x43ead6(0x40d)]+'\x20('+this['instance'][_0x43ead6(0x1c6)]+_0x43ead6(0x57e)+_0x523567[_0x43ead6(0x47b)]['command']);}}catch(_0x16b297){this[_0x43ead6(0x3f6)]['error'](this['instanceName']+'\x20('+this['instance'][_0x43ead6(0x1c6)]+_0x43ead6(0x1f6)+_0x16b297);}}async[a0_0x4b3f0f(0x5b2)](_0x21f474,_0x4a1ab4,_0x350c1d,_0x33192a=!0x1,_0x34a678=!0x1){const _0x11bc25=a0_0x4b3f0f;_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x17f)]||(_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x17f)]=[]);let _0x3aa6ca=(_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x17f)]?.['length']??0x0)+0x1,_0x57d25b=_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x17f)]['filter'](_0x5cb736=>String(_0x5cb736[_0x11bc25(0x186)])===String(_0x4a1ab4[_0x11bc25(0x2e8)]))[_0x11bc25(0x529)]+0x1,_0x299f19=_0x350c1d?.[_0x11bc25(0x1d9)]??Date[_0x11bc25(0x18b)](),_0x54b878=_0x350c1d?.[_0x11bc25(0x622)]?_0x350c1d[_0x11bc25(0x558)]??_0x350c1d[_0x11bc25(0x622)][_0x11bc25(0x16e)]():void 0x0,_0x888b14={'onTime':_0x299f19,'blockId':_0x4a1ab4[_0x11bc25(0x2e8)],'order':_0x3aa6ca,'activatedCount':_0x57d25b,'error':_0x350c1d?.[_0x11bc25(0x622)]??!0x1,'messageId':_0x350c1d?.[_0x11bc25(0x14d)],'apiResponse':_0x350c1d?.[_0x11bc25(0x264)],'apiResponseString':_0x350c1d?.[_0x11bc25(0x264)]?JSON[_0x11bc25(0x3c6)](_0x350c1d?.[_0x11bc25(0x264)]):void 0x0,'variable':_0x350c1d?.[_0x11bc25(0x5f0)],'oldValue':_0x350c1d?.[_0x11bc25(0x536)],'newValue':_0x350c1d?.[_0x11bc25(0x5fc)],'newStoppedUntil':_0x350c1d?.[_0x11bc25(0x5eb)],'moreLogs':_0x350c1d?.[_0x11bc25(0x333)],'errorLog':_0x54b878};if(_0x350c1d[_0x11bc25(0x333)]&&_0x350c1d[_0x11bc25(0x333)][_0x11bc25(0x529)]>0x0){let _0x42efa9=_0x350c1d['moreLogs'][_0x11bc25(0x53c)](_0x539a01=>this['replaceVariablesLogs'](_0x539a01,_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x62c)]));_0x888b14[_0x11bc25(0x333)]=_0x42efa9;}_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x62c)]||(_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x62c)]={}),_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x62c)][_0x11bc25(0x62e)]=String(_0x57d25b),_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x62c)]['_error']=String(_0x350c1d[_0x11bc25(0x622)]??!0x1),_0x21f474['chatLog'][_0x11bc25(0x17f)][_0x11bc25(0x346)](_0x888b14),_0x21f474['chatLog'][_0x11bc25(0x4ca)]=_0x4a1ab4[_0x11bc25(0x2e8)][_0x11bc25(0x16e)](),_0x21f474['chatLog'][_0x11bc25(0x12a)]&&(_0x21f474[_0x11bc25(0x61a)]['lastSendMessage']=_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x12a)]),_0x21f474[_0x11bc25(0x61a)]['lastReceivedMessage']&&(_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x205)]=_0x21f474[_0x11bc25(0x61a)]['lastReceivedMessage']),_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x163)]&&(_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x163)]=_0x21f474[_0x11bc25(0x61a)][_0x11bc25(0x163)]),_0x34a678&&(_0x21f474[_0x11bc25(0x238)]=_0x11bc25(0x179)),_0x33192a?this['saveConversationToDatabase'](_0x21f474):this[_0x11bc25(0x3a9)](_0x21f474,_0x4a1ab4);}[a0_0x4b3f0f(0x678)](_0xb32805,_0x51e002){const _0x3beda4=a0_0x4b3f0f;return _0xb32805[_0x3beda4(0x2f7)](/\{\{([^}]+)\}\}/g,(_0x59031e,_0x30336)=>_0x51e002[_0x30336]?'{{'+_0x30336+_0x3beda4(0x9e)+_0x51e002[_0x30336]+'\x22':'{{'+_0x30336+_0x3beda4(0x419));}async['saveConversationToDatabase'](_0x41527b){const _0x5150d8=a0_0x4b3f0f;try{let _0xc94511=Object['entries'](_0x41527b[_0x5150d8(0x61a)][_0x5150d8(0x62c)])[_0x5150d8(0x53c)](([_0x3746b8,_0x43e73f])=>({'name':_0x3746b8,'value':_0x43e73f})),_0x353666=await j['findOneAndUpdate']({'_id':_0x41527b[_0x5150d8(0x2e8)]},{'$set':{'chatLog.lastBlockId':_0x41527b['chatLog'][_0x5150d8(0x4ca)],'blocks':_0x41527b[_0x5150d8(0x64e)],'chatLog.lastSendMessage':_0x41527b[_0x5150d8(0x61a)][_0x5150d8(0x12a)],'chatLog.lastReceivedMessage':_0x41527b['chatLog']['lastReceivedMessage'],'chatLog.lastCondition':_0x41527b[_0x5150d8(0x61a)][_0x5150d8(0x163)],'chatLog.chatVariables':_0xc94511,'chatLog.realVariables':_0x41527b['chatLog'][_0x5150d8(0x62c)],'status':_0x41527b[_0x5150d8(0x238)],'chatLog.blockLogs':_0x41527b['chatLog'][_0x5150d8(0x17f)],'waitingPoll_id':_0x41527b[_0x5150d8(0x28a)],'waitingPoll_name':_0x41527b[_0x5150d8(0x65d)],'waitingPoll_replyOptions':_0x41527b[_0x5150d8(0x2c7)]}},{'new':!0x0});if(_0x353666){this[_0x5150d8(0x3f6)][_0x5150d8(0x5e6)](this[_0x5150d8(0x40d)]+'\x20('+this[_0x5150d8(0x62a)][_0x5150d8(0x1c6)]+_0x5150d8(0x1c3)+_0x353666[_0x5150d8(0x2e8)]);try{let _0x25a6a3=[_0x5150d8(0x1cc),'nomecompleto',_0x5150d8(0xf7),'cpf',_0x5150d8(0x238),_0x5150d8(0x329),_0x5150d8(0x1d5),'tags'];if(!this[_0x5150d8(0x26b)]&&(await this[_0x5150d8(0xcf)](),!this[_0x5150d8(0x26b)]))throw new Error(_0x5150d8(0x158));let _0x3073cd=this[_0x5150d8(0x26b)]?.[_0x5150d8(0x494)][_0x5150d8(0x53c)](_0x4e9f56=>_0x4e9f56['name']),_0x1d31eb={};Object[_0x5150d8(0x5ee)](_0x41527b['chatLog']['realVariables'])['forEach'](([_0x1ad1e5,_0x4b44d8])=>{const _0x53fec4=_0x5150d8;_0x25a6a3['includes'](_0x1ad1e5)&&(_0x1ad1e5===_0x53fec4(0x525)&&typeof _0x4b44d8==_0x53fec4(0x4b9)?_0x1d31eb[_0x1ad1e5]=_0x4b44d8['split'](',')[_0x53fec4(0x53c)](_0x4d02e5=>_0x4d02e5[_0x53fec4(0x322)]())[_0x53fec4(0x651)](_0x2ae11d=>_0x2ae11d!==''):_0x1d31eb[_0x1ad1e5]=_0x4b44d8);});let _0x477094=_0x41527b[_0x5150d8(0x61a)][_0x5150d8(0x17f)][_0x41527b[_0x5150d8(0x61a)][_0x5150d8(0x17f)][_0x5150d8(0x529)]-0x1];if(_0x477094){let _0x104a89=_0x477094['newStoppedUntil'];_0x104a89!==void 0x0&&(_0x1d31eb['desativadoFluxoAte']=_0x104a89['toString']());}let _0x3188de=_0xc94511[_0x5150d8(0x651)](_0x3f83b6=>_0x3073cd[_0x5150d8(0x531)](_0x3f83b6['name']));this[_0x5150d8(0x3f6)][_0x5150d8(0x5e6)](this[_0x5150d8(0x40d)]+'\x20('+this[_0x5150d8(0x62a)][_0x5150d8(0x1c6)]+_0x5150d8(0x1db)),this[_0x5150d8(0x3f6)]['verbose'](_0x1d31eb),this[_0x5150d8(0x3f6)][_0x5150d8(0x5e6)](this[_0x5150d8(0x40d)]+'\x20('+this[_0x5150d8(0x62a)][_0x5150d8(0x1c6)]+_0x5150d8(0x2cc)),this[_0x5150d8(0x3f6)][_0x5150d8(0x5e6)](_0x3188de);let _0x5d762c=_0x3188de[_0x5150d8(0x53c)](_0x263d26=>{const _0x279181=_0x5150d8;let _0x2f5bf2=this[_0x279181(0x26b)]?.[_0x279181(0x494)][_0x279181(0x28c)](_0x597cb1=>_0x597cb1['name']===_0x263d26['name']);if(!_0x2f5bf2)throw new Error(_0x279181(0x452)+_0x263d26['name']);return{'_id':_0x2f5bf2['_id'],'value':_0x263d26[_0x279181(0x5b7)]};});this[_0x5150d8(0x3f6)][_0x5150d8(0x5e6)](this['instanceName']+'\x20('+this[_0x5150d8(0x62a)][_0x5150d8(0x1c6)]+_0x5150d8(0x404)),this[_0x5150d8(0x3f6)]['verbose'](_0x5d762c),await this[_0x5150d8(0x143)](_0x41527b[_0x5150d8(0x110)],_0x1d31eb,_0x5d762c);}catch(_0x580a7e){this[_0x5150d8(0x3f6)][_0x5150d8(0x622)](this[_0x5150d8(0x40d)]+'\x20('+this[_0x5150d8(0x62a)]['wuid']+_0x5150d8(0x5c1)+JSON[_0x5150d8(0x3c6)](_0x580a7e));}}else this[_0x5150d8(0x3f6)][_0x5150d8(0x622)](this[_0x5150d8(0x40d)]+'\x20('+this[_0x5150d8(0x62a)][_0x5150d8(0x1c6)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x13295d){this[_0x5150d8(0x3f6)][_0x5150d8(0x622)](this['instanceName']+'\x20('+this['instance'][_0x5150d8(0x1c6)]+_0x5150d8(0x1bf)+JSON[_0x5150d8(0x3c6)](_0x13295d));}}async[a0_0x4b3f0f(0x143)](_0x395b0a,_0x2a6cf7,_0x16c6a1){const _0x4dc8b7=a0_0x4b3f0f;try{let _0x5e4357={'leadInfo.leadnome':_0x2a6cf7[_0x4dc8b7(0x1cc)],'leadInfo.nomecompleto':_0x2a6cf7['nomecompleto'],'leadInfo.email':_0x2a6cf7[_0x4dc8b7(0xf7)],'leadInfo.cpf':_0x2a6cf7[_0x4dc8b7(0x5ab)],'leadInfo.status':_0x2a6cf7['status'],'leadInfo.notas':_0x2a6cf7[_0x4dc8b7(0x329)],'leadInfo.responsavelid':_0x2a6cf7[_0x4dc8b7(0x1d5)],'leadInfo.tags':_0x2a6cf7[_0x4dc8b7(0x525)],'leadInfo.customFields':_0x16c6a1};if('desativadoFluxoAte'in _0x2a6cf7){let _0x5bb259=_0x2a6cf7[_0x4dc8b7(0x16a)];_0x5e4357['leadInfo.desativadoFluxoAte']=_0x5bb259?Number(_0x5bb259):null;}let _0x2a08bd=await this[_0x4dc8b7(0x1ea)][_0x4dc8b7(0x5db)][_0x4dc8b7(0x4db)]({'where':{'_id':_0x395b0a,'owner':this['instance'][_0x4dc8b7(0x1c6)]}},_0x5e4357);_0x2a08bd?(this[_0x4dc8b7(0x3f6)][_0x4dc8b7(0x5e6)](this[_0x4dc8b7(0x40d)]+'\x20('+this[_0x4dc8b7(0x62a)]['wuid']+_0x4dc8b7(0x620)+_0x2a08bd['_id']),B(this[_0x4dc8b7(0x40d)],'chats',{'chat':_0x2a08bd})):this[_0x4dc8b7(0x3f6)][_0x4dc8b7(0x622)](this[_0x4dc8b7(0x40d)]+'\x20('+this[_0x4dc8b7(0x62a)][_0x4dc8b7(0x1c6)]+_0x4dc8b7(0x313));}catch(_0x2fc2c3){this[_0x4dc8b7(0x3f6)]['error'](this[_0x4dc8b7(0x40d)]+'\x20('+this[_0x4dc8b7(0x62a)][_0x4dc8b7(0x1c6)]+_0x4dc8b7(0x141)+_0x2fc2c3);}}async['updateStopChat'](_0x4f5d90,_0x4f9c70){const _0x33e8cb=a0_0x4b3f0f;this[_0x33e8cb(0x3f6)][_0x33e8cb(0x5e6)](this[_0x33e8cb(0x40d)]+'\x20('+this[_0x33e8cb(0x62a)][_0x33e8cb(0x1c6)]+'):\x20atualização\x20chat:\x20'+_0x4f9c70);try{let _0x9acf97=await this['repository']['chat']['updateOne']({'where':{'_id':_0x4f5d90[_0x33e8cb(0x110)],'owner':_0x4f5d90['owner']}},{'leadInfo.desativadoFluxoAte':_0x4f9c70});this[_0x33e8cb(0x3f6)][_0x33e8cb(0x5e6)](this[_0x33e8cb(0x40d)]+'\x20('+this[_0x33e8cb(0x62a)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x4f5d90[_0x33e8cb(0x2e8)]),this['logger'][_0x33e8cb(0x5e6)](this['instanceName']+'\x20('+this[_0x33e8cb(0x62a)][_0x33e8cb(0x1c6)]+_0x33e8cb(0x2ef)+JSON[_0x33e8cb(0x3c6)](_0x9acf97,null,0x2)),_0x9acf97&&B(this[_0x33e8cb(0x40d)],'chats',{'chat':_0x9acf97});}catch(_0x52efe6){this['logger'][_0x33e8cb(0x622)](this[_0x33e8cb(0x40d)]+'\x20('+this[_0x33e8cb(0x62a)][_0x33e8cb(0x1c6)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+JSON[_0x33e8cb(0x3c6)](_0x52efe6));}}async[a0_0x4b3f0f(0x217)](_0xc90177,_0x2470fc){const _0x4a4e7a=a0_0x4b3f0f;try{this[_0x4a4e7a(0x3f6)][_0x4a4e7a(0x5e6)](this[_0x4a4e7a(0x40d)]+'\x20('+this[_0x4a4e7a(0x62a)][_0x4a4e7a(0x1c6)]+_0x4a4e7a(0x286));let _0x42772a=_0x2470fc['replace'](/\D/g,''),_0x49024c=await I[_0x4a4e7a(0x134)]({'owner':_0xc90177,'testingWith':_0x42772a});return _0x49024c||(this[_0x4a4e7a(0x3f6)][_0x4a4e7a(0x5e6)](this[_0x4a4e7a(0x40d)]+'\x20('+this['instance'][_0x4a4e7a(0x1c6)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x49024c=await I['findOne']({'owner':_0xc90177,'default':!0x0})),_0x49024c||(this[_0x4a4e7a(0x3f6)][_0x4a4e7a(0x5e6)](this[_0x4a4e7a(0x40d)]+'\x20('+this[_0x4a4e7a(0x62a)][_0x4a4e7a(0x1c6)]+_0x4a4e7a(0x59d)),null);}catch(_0x368b60){return this[_0x4a4e7a(0x3f6)][_0x4a4e7a(0x622)](this['instanceName']+'\x20('+this[_0x4a4e7a(0x62a)][_0x4a4e7a(0x1c6)]+_0x4a4e7a(0x58d)+_0x368b60),null;}}async[a0_0x4b3f0f(0x4d5)](_0x2e4f9e,_0xe1fe91,_0x1b8627){const _0x23b79d=a0_0x4b3f0f;try{let _0x12731e=!!_0x1b8627['vote'],_0xb549fc=_0x1b8627[_0x23b79d(0x612)],_0x5cda9b=null;if(this[_0x23b79d(0x3f6)][_0x23b79d(0x5e6)](this[_0x23b79d(0x40d)]+'\x20('+this[_0x23b79d(0x62a)][_0x23b79d(0x1c6)]+_0x23b79d(0x2d5)+_0x12731e+_0x23b79d(0x612)+_0xb549fc),_0x12731e)return this[_0x23b79d(0x3f6)][_0x23b79d(0x5e6)](this['instanceName']+'\x20('+this['instance'][_0x23b79d(0x1c6)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto'),_0x5cda9b=await j['findOne']({'owner':_0x2e4f9e,'remoteJid':_0xe1fe91,'waitingPoll_id':_0xb549fc}),_0x5cda9b?(_0x5cda9b[_0x23b79d(0x121)]=Date[_0x23b79d(0x18b)](),_0x5cda9b[_0x23b79d(0x61a)][_0x23b79d(0x205)]=_0x1b8627,_0x5cda9b):(this['logger'][_0x23b79d(0x5e6)](this['instanceName']+'\x20('+this[_0x23b79d(0x62a)]['wuid']+_0x23b79d(0x159)),null);{if(this[_0x23b79d(0x3f6)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x23b79d(0x1c6)]+_0x23b79d(0x39b)+this[_0x23b79d(0x62a)]['wuid']+_0x23b79d(0x578)),this[_0x23b79d(0x3f6)]['verbose'](this['instanceName']+'\x20('+this[_0x23b79d(0x62a)][_0x23b79d(0x1c6)]+_0x23b79d(0x354)),_0x5cda9b=await j[_0x23b79d(0x134)]({'owner':_0x2e4f9e,'remoteJid':_0xe1fe91,'status':_0x23b79d(0x655)}),!_0x5cda9b){let _0x2f3942=await this[_0x23b79d(0x217)](_0x2e4f9e,_0xe1fe91);if(_0x2f3942&&(_0x5cda9b=await this['createNewConversation'](_0x2f3942,_0x1b8627[_0x23b79d(0x268)],_0x1b8627)),!_0x5cda9b)return null;}let _0x751f1=Date[_0x23b79d(0x18b)](),_0x579114=_0x5cda9b?.['minutesToClose']||0x0,_0x1932de=_0x751f1-_0x579114*0x3c*0x3e8;if(this[_0x23b79d(0x3f6)][_0x23b79d(0x5e6)](this[_0x23b79d(0x40d)]+'\x20('+this[_0x23b79d(0x62a)][_0x23b79d(0x1c6)]+_0x23b79d(0x63f)+_0x751f1+_0x23b79d(0x3da)+_0x579114+_0x23b79d(0x41e)+_0x1932de),this[_0x23b79d(0x3f6)][_0x23b79d(0x5e6)](this[_0x23b79d(0x40d)]+'\x20('+this[_0x23b79d(0x62a)]['wuid']+_0x23b79d(0x66b)),this[_0x23b79d(0x3f6)][_0x23b79d(0x5e6)](this['instanceName']+'\x20('+this[_0x23b79d(0x62a)][_0x23b79d(0x1c6)]+'):\x20conversation.lastInteraction:\x20'+_0x5cda9b[_0x23b79d(0x121)]),this[_0x23b79d(0x3f6)][_0x23b79d(0x5e6)](this[_0x23b79d(0x40d)]+'\x20('+this[_0x23b79d(0x62a)][_0x23b79d(0x1c6)]+'):\x20expirationTime:\x20'+_0x1932de),_0x5cda9b['lastInteraction']<_0x1932de){this['logger'][_0x23b79d(0x5e6)](this['instanceName']+'\x20('+this[_0x23b79d(0x62a)]['wuid']+_0x23b79d(0x560));let _0x154908=await this[_0x23b79d(0x217)](_0x2e4f9e,_0xe1fe91);if(_0x154908===null)return null;_0x5cda9b&&await j[_0x23b79d(0x4db)]({'_id':_0x5cda9b[_0x23b79d(0x2e8)]},{'status':_0x23b79d(0x179)}),_0x5cda9b=await this[_0x23b79d(0x4bc)](_0x154908,_0x1b8627['key'],_0x1b8627);}return _0x5cda9b[_0x23b79d(0x121)]=_0x751f1,_0x5cda9b[_0x23b79d(0x61a)][_0x23b79d(0x205)]=_0x1b8627,_0x5cda9b;}}catch(_0x4022d6){return this[_0x23b79d(0x3f6)][_0x23b79d(0x622)](this[_0x23b79d(0x40d)]+'\x20('+this['instance'][_0x23b79d(0x1c6)]+_0x23b79d(0x5ca)+_0x4022d6),null;}}async[a0_0x4b3f0f(0x4bc)](_0x420676,_0x17970d,_0x4f509b){const _0x5e7e97=a0_0x4b3f0f;this['logger'][_0x5e7e97(0x5e6)](this[_0x5e7e97(0x40d)]+'\x20('+this[_0x5e7e97(0x62a)][_0x5e7e97(0x1c6)]+_0x5e7e97(0x55b));try{let _0x11eb60=require(_0x5e7e97(0x502))[_0x5e7e97(0x15f)],_0x40eb21=Date[_0x5e7e97(0x18b)](),_0x292619=_0x5e7e97(0x191),_0x4e6f83=_0x17970d['fromMe']?null:_0x4f509b,_0x459160=_0x17970d[_0x5e7e97(0x38c)]?_0x4f509b:null,_0x49cac8=_0x17970d['remoteJid'];await this[_0x5e7e97(0x4c7)](_0x49cac8);let _0x163136={..._0x420676[_0x5e7e97(0x5ed)],'chatLog':null},_0x2a4632=await this[_0x5e7e97(0x56c)](_0x163136['variables']),_0x2539f0=await this[_0x5e7e97(0x450)](_0x49cac8),_0x3de571={..._0x2a4632,..._0x2539f0,'_remoteJid':_0x49cac8},_0x4c6de6={'lastReceivedMessage':_0x4e6f83,'lastSendMessage':_0x459160,'lastBlockId':_0x292619,'lastCondition':!0x0,'realVariables':_0x3de571};_0x163136[_0x5e7e97(0x61a)]=_0x4c6de6,delete _0x163136[_0x5e7e97(0x2e8)],_0x163136[_0x5e7e97(0x2e8)]=new _0x11eb60(),_0x163136[_0x5e7e97(0x121)]=_0x40eb21,_0x163136[_0x5e7e97(0x238)]='open',_0x163136[_0x5e7e97(0x110)]=_0x49cac8;let _0x20ae55=await j[_0x5e7e97(0x35d)](_0x163136);return this[_0x5e7e97(0x3f6)][_0x5e7e97(0x5e6)](this[_0x5e7e97(0x40d)]+'\x20('+this[_0x5e7e97(0x62a)][_0x5e7e97(0x1c6)]+_0x5e7e97(0xb2)),_0x20ae55?_0x163136:null;}catch(_0x47e9c3){return this[_0x5e7e97(0x3f6)][_0x5e7e97(0x622)](this['instanceName']+'\x20('+this[_0x5e7e97(0x62a)]['wuid']+_0x5e7e97(0x243)+_0x47e9c3),_0x47e9c3;}}async['uazapiSendText'](_0x3458de,_0x2947fb,_0x197b80){const _0x2fded8=a0_0x4b3f0f;this['logger'][_0x2fded8(0x5e6)](this[_0x2fded8(0x40d)]+'\x20('+this[_0x2fded8(0x62a)]['wuid']+'):\x20Enviando\x20texto');let _0x24123b={'number':_0x197b80,'options':{'delay':_0x2947fb[_0x2fded8(0x47b)][_0x2fded8(0x3a6)]},'textMessage':{'text':_0x2947fb[_0x2fded8(0x47b)]['text']}};try{let _0x282a6f=await this[_0x2fded8(0x17e)](_0x24123b);if(_0x282a6f){let _0x162fc5={'_id':_0x282a6f['key']['id'],'_fromMe':_0x282a6f[_0x2fded8(0x268)][_0x2fded8(0x38c)],'_remoteJid':_0x282a6f[_0x2fded8(0x268)][_0x2fded8(0x110)]};_0x3458de[_0x2fded8(0x61a)][_0x2fded8(0x4ca)]=_0x2947fb[_0x2fded8(0x2e8)][_0x2fded8(0x16e)]();let {message_normalized:_0x4f4edf}=this[_0x2fded8(0x624)](_0x282a6f['message'],J(_0x282a6f[_0x2fded8(0x46a)]),null);_0x3458de[_0x2fded8(0x61a)][_0x2fded8(0x12a)]=await _0x4f4edf;let _0x43c879={'messageId':_0x282a6f[_0x2fded8(0x268)]['id']},_0xf4321b=_0x3458de[_0x2fded8(0x61a)][_0x2fded8(0x62c)];Object['assign'](_0xf4321b,_0x162fc5),_0x3458de[_0x2fded8(0x61a)]['realVariables']=_0xf4321b,this[_0x2fded8(0x5b2)](_0x3458de,_0x2947fb,_0x43c879);}else{let _0x47e8d7={'error':!0x0};this[_0x2fded8(0x5b2)](_0x3458de,_0x2947fb,_0x47e8d7),this[_0x2fded8(0x3f6)][_0x2fded8(0x622)](this[_0x2fded8(0x40d)]+'\x20('+this[_0x2fded8(0x62a)][_0x2fded8(0x1c6)]+_0x2fded8(0x152));}}catch(_0xb3eb77){let _0x42f18a={'error':!0x0,'errorLog':_0xb3eb77[_0x2fded8(0x16e)]()};this[_0x2fded8(0x5b2)](_0x3458de,_0x2947fb,_0x42f18a),this[_0x2fded8(0x3f6)][_0x2fded8(0x622)](this[_0x2fded8(0x40d)]+'\x20('+this[_0x2fded8(0x62a)][_0x2fded8(0x1c6)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+_0xb3eb77['toString']());}}async['uazapiSendMedia'](_0x51ef8a,_0x598b71,_0xf45d94){const _0x5302e4=a0_0x4b3f0f;this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5302e4(0x1c6)]+'):\x20Enviando\x20mídia');let _0xc178f0={'number':_0xf45d94,'options':{'delay':_0x598b71['uazapi'][_0x5302e4(0x3a6)]},'mediaMessage':{'mediatype':_0x598b71[_0x5302e4(0x47b)][_0x5302e4(0x242)],'caption':_0x598b71[_0x5302e4(0x47b)]['caption'],'media':_0x598b71['uazapi'][_0x5302e4(0x3e9)],'fileName':_0x598b71[_0x5302e4(0x47b)][_0x5302e4(0x61c)]}};try{let _0x55fad6=await this[_0x5302e4(0x514)](_0xc178f0);if(_0x55fad6){let _0x56e72e={'_id':_0x55fad6[_0x5302e4(0x268)]['id'],'_fromMe':_0x55fad6[_0x5302e4(0x268)][_0x5302e4(0x38c)],'_remoteJid':_0x55fad6[_0x5302e4(0x268)][_0x5302e4(0x110)]};_0x51ef8a[_0x5302e4(0x61a)]['lastBlockId']=_0x598b71[_0x5302e4(0x2e8)]['toString']();let {message_normalized:_0x4afa8d}=this[_0x5302e4(0x624)](_0x55fad6[_0x5302e4(0x46a)],J(_0x55fad6['message']),null);_0x51ef8a[_0x5302e4(0x61a)][_0x5302e4(0x12a)]=await _0x4afa8d;let _0x4e7c35={'messageId':_0x55fad6[_0x5302e4(0x268)]['id']},_0x36764d=_0x51ef8a[_0x5302e4(0x61a)][_0x5302e4(0x62c)];Object['assign'](_0x36764d,_0x56e72e),_0x51ef8a[_0x5302e4(0x61a)]['realVariables']=_0x36764d,this['updateConversation'](_0x51ef8a,_0x598b71,_0x4e7c35);}else{let _0x495275={'error':!0x0};this[_0x5302e4(0x5b2)](_0x51ef8a,_0x598b71,_0x495275),this[_0x5302e4(0x3f6)][_0x5302e4(0x622)](this[_0x5302e4(0x40d)]+'\x20('+this['instance'][_0x5302e4(0x1c6)]+_0x5302e4(0x246));}}catch(_0x34e420){let _0x282470={'error':!0x0,'errorLog':_0x34e420['toString']()};this[_0x5302e4(0x5b2)](_0x51ef8a,_0x598b71,_0x282470),this[_0x5302e4(0x3f6)][_0x5302e4(0x622)](this[_0x5302e4(0x40d)]+'\x20('+this[_0x5302e4(0x62a)][_0x5302e4(0x1c6)]+_0x5302e4(0x489)+_0x34e420[_0x5302e4(0x16e)]());}}async['uazapiSendLocation'](_0x4f5096,_0xc4d694,_0x569bd9){const _0x228258=a0_0x4b3f0f;this[_0x228258(0x3f6)][_0x228258(0x5e6)](this[_0x228258(0x40d)]+'\x20('+this['instance'][_0x228258(0x1c6)]+_0x228258(0x654));let _0x4feb8e={'number':_0x569bd9,'options':{'delay':_0xc4d694['uazapi'][_0x228258(0x3a6)]},'locationMessage':{'name':_0xc4d694[_0x228258(0x47b)][_0x228258(0x11c)],'address':_0xc4d694[_0x228258(0x47b)]['address'],'latitude':_0xc4d694[_0x228258(0x47b)][_0x228258(0x28f)],'longitude':_0xc4d694[_0x228258(0x47b)][_0x228258(0x5dd)]}};try{let _0x1fbc55=await this['locationMessage'](_0x4feb8e);if(_0x1fbc55){let _0x12e17a={'_id':_0x1fbc55['key']['id'],'_fromMe':_0x1fbc55[_0x228258(0x268)][_0x228258(0x38c)],'_remoteJid':_0x1fbc55['key']['remoteJid']};_0x4f5096[_0x228258(0x61a)][_0x228258(0x4ca)]=_0xc4d694[_0x228258(0x2e8)][_0x228258(0x16e)]();let {message_normalized:_0xe19c5e}=this['normalizeMessage'](_0x1fbc55[_0x228258(0x46a)],J(_0x1fbc55[_0x228258(0x46a)]),null);_0x4f5096[_0x228258(0x61a)][_0x228258(0x12a)]=await _0xe19c5e;let _0x562aab={'messageId':_0x1fbc55['key']['id']},_0x332fbd=_0x4f5096['chatLog']['realVariables'];Object[_0x228258(0x3dd)](_0x332fbd,_0x12e17a),_0x4f5096['chatLog'][_0x228258(0x62c)]=_0x332fbd,this[_0x228258(0x5b2)](_0x4f5096,_0xc4d694,_0x562aab);}else{let _0x2904e2={'error':!0x0};this[_0x228258(0x5b2)](_0x4f5096,_0xc4d694,_0x2904e2),this[_0x228258(0x3f6)][_0x228258(0x622)](this[_0x228258(0x40d)]+'\x20('+this[_0x228258(0x62a)]['wuid']+_0x228258(0x25f));}}catch(_0x3d8347){let _0x119645={'error':!0x0,'errorLog':_0x3d8347[_0x228258(0x16e)]()};this[_0x228258(0x5b2)](_0x4f5096,_0xc4d694,_0x119645),this[_0x228258(0x3f6)][_0x228258(0x622)](this[_0x228258(0x40d)]+'\x20('+this[_0x228258(0x62a)][_0x228258(0x1c6)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+_0x3d8347[_0x228258(0x16e)]());}}async[a0_0x4b3f0f(0x4d3)](_0x57bb60,_0x27650d,_0x29d489){const _0x2330b5=a0_0x4b3f0f;this[_0x2330b5(0x3f6)][_0x2330b5(0x5e6)](this['instanceName']+'\x20('+this[_0x2330b5(0x62a)][_0x2330b5(0x1c6)]+_0x2330b5(0x2e7));let _0x3eeafa={'number':_0x29d489,'options':{'delay':_0x27650d[_0x2330b5(0x47b)][_0x2330b5(0x3a6)]},'audioMessage':{'audio':_0x27650d[_0x2330b5(0x47b)][_0x2330b5(0x642)]}};try{let _0x2f891c=await this[_0x2330b5(0x41c)](_0x3eeafa);if(_0x2f891c){let _0x1c3cf0={'_id':_0x2f891c['key']['id'],'_fromMe':_0x2f891c['key'][_0x2330b5(0x38c)],'_remoteJid':_0x2f891c['key'][_0x2330b5(0x110)]};_0x57bb60['chatLog'][_0x2330b5(0x4ca)]=_0x27650d[_0x2330b5(0x2e8)][_0x2330b5(0x16e)]();let {message_normalized:_0x13ac6f}=this['normalizeMessage'](_0x2f891c['message'],J(_0x2f891c['message']),null);_0x57bb60[_0x2330b5(0x61a)][_0x2330b5(0x12a)]=await _0x13ac6f;let _0x56afdf={'messageId':_0x2f891c[_0x2330b5(0x268)]['id']},_0x2224d7=_0x57bb60['chatLog'][_0x2330b5(0x62c)];Object[_0x2330b5(0x3dd)](_0x2224d7,_0x1c3cf0),_0x57bb60[_0x2330b5(0x61a)][_0x2330b5(0x62c)]=_0x2224d7,this[_0x2330b5(0x5b2)](_0x57bb60,_0x27650d,_0x56afdf);}else{let _0x5c919b={'error':!0x0};this[_0x2330b5(0x5b2)](_0x57bb60,_0x27650d,_0x5c919b),this['logger'][_0x2330b5(0x622)](this[_0x2330b5(0x40d)]+'\x20('+this[_0x2330b5(0x62a)][_0x2330b5(0x1c6)]+_0x2330b5(0x15d));}}catch(_0xb01848){let _0x5972f7={'error':!0x0,'errorLog':_0xb01848['toString']()};this[_0x2330b5(0x5b2)](_0x57bb60,_0x27650d,_0x5972f7),this[_0x2330b5(0x3f6)][_0x2330b5(0x622)](this[_0x2330b5(0x40d)]+'\x20('+this[_0x2330b5(0x62a)][_0x2330b5(0x1c6)]+_0x2330b5(0xcd)+_0xb01848[_0x2330b5(0x16e)]());}}async[a0_0x4b3f0f(0x12f)](_0x24793e,_0x378489,_0xcb8ba0){const _0x3857d7=a0_0x4b3f0f;this['logger'][_0x3857d7(0x5e6)](this[_0x3857d7(0x40d)]+'\x20('+this[_0x3857d7(0x62a)][_0x3857d7(0x1c6)]+_0x3857d7(0x3ef));let _0x264c39={'number':_0xcb8ba0,'options':{'delay':_0x378489['uazapi'][_0x3857d7(0x3a6)]},'contactMessage':[{'fullName':_0x378489[_0x3857d7(0x47b)]['fullName'],'phoneNumber':_0x378489[_0x3857d7(0x47b)]['phoneNumber']}]};try{let _0x4be377=await this['contactMessage'](_0x264c39);if(_0x4be377){let _0x2c280a={'_id':_0x4be377[_0x3857d7(0x268)]['id'],'_fromMe':_0x4be377[_0x3857d7(0x268)][_0x3857d7(0x38c)],'_remoteJid':_0x4be377[_0x3857d7(0x268)][_0x3857d7(0x110)]};_0x24793e[_0x3857d7(0x61a)][_0x3857d7(0x4ca)]=_0x378489[_0x3857d7(0x2e8)][_0x3857d7(0x16e)]();let {message_normalized:_0x7abbc1}=this[_0x3857d7(0x624)](_0x4be377['message'],J(_0x4be377[_0x3857d7(0x46a)]),null);_0x24793e['chatLog'][_0x3857d7(0x12a)]=await _0x7abbc1;let _0x3762ee={'messageId':_0x4be377[_0x3857d7(0x268)]['id']},_0x74f226=_0x24793e[_0x3857d7(0x61a)][_0x3857d7(0x62c)];Object['assign'](_0x74f226,_0x2c280a),_0x24793e[_0x3857d7(0x61a)][_0x3857d7(0x62c)]=_0x74f226,this['updateConversation'](_0x24793e,_0x378489,_0x3762ee);}else{let _0x9c8d6c={'error':!0x0};this[_0x3857d7(0x5b2)](_0x24793e,_0x378489,_0x9c8d6c),this[_0x3857d7(0x3f6)][_0x3857d7(0x622)](this[_0x3857d7(0x40d)]+'\x20('+this[_0x3857d7(0x62a)][_0x3857d7(0x1c6)]+_0x3857d7(0x15c));}}catch(_0x2ceca4){let _0x5718af={'error':!0x0,'errorLog':_0x2ceca4[_0x3857d7(0x16e)]()};this[_0x3857d7(0x5b2)](_0x24793e,_0x378489,_0x5718af),this[_0x3857d7(0x3f6)][_0x3857d7(0x622)](this[_0x3857d7(0x40d)]+'\x20('+this[_0x3857d7(0x62a)][_0x3857d7(0x1c6)]+_0x3857d7(0x666)+_0x2ceca4[_0x3857d7(0x16e)]());}}[a0_0x4b3f0f(0x32f)](_0x1f06d6,_0x18cba1){const _0x307a7b=a0_0x4b3f0f;for(let _0x41080f of _0x1f06d6)_0x41080f[_0x307a7b(0x623)]&&(_0x41080f['option']=this[_0x307a7b(0x5a5)](_0x41080f[_0x307a7b(0x623)],_0x18cba1)),_0x41080f[_0x307a7b(0x4de)]&&(_0x41080f['optionDescription']=this[_0x307a7b(0x5a5)](_0x41080f[_0x307a7b(0x4de)],_0x18cba1));}async[a0_0x4b3f0f(0x2ed)](_0x1b109c,_0x544e11,_0x1c5bf0){const _0x49114f=a0_0x4b3f0f;this[_0x49114f(0x3f6)][_0x49114f(0x5e6)](this[_0x49114f(0x40d)]+'\x20('+this[_0x49114f(0x62a)]['wuid']+'):\x20Enviando\x20enquete');let _0x1b2d64=_0x1b109c[_0x49114f(0x107)][_0x49114f(0x651)](_0x203f6d=>_0x203f6d[_0x49114f(0x186)]===_0x544e11[_0x49114f(0x2e8)]);this[_0x49114f(0x32f)](_0x1b2d64,_0x1b109c[_0x49114f(0x61a)][_0x49114f(0x62c)]);let _0x2e148a=_0x1b2d64[_0x49114f(0x53c)](_0x413954=>_0x413954[_0x49114f(0x623)]),_0x1efa08={'number':_0x1c5bf0,'options':{'delay':_0x544e11[_0x49114f(0x47b)][_0x49114f(0x3a6)]},'pollMessage':{'name':_0x544e11[_0x49114f(0x47b)][_0x49114f(0x11c)],'selectableCount':0x1,'values':_0x2e148a}};try{let _0x1b3921=await this[_0x49114f(0x305)](_0x1efa08);if(_0x1b3921){let _0x196e33={'_id':_0x1b3921[_0x49114f(0x268)]['id'],'_fromMe':_0x1b3921[_0x49114f(0x268)][_0x49114f(0x38c)],'_remoteJid':_0x1b3921[_0x49114f(0x268)]['remoteJid']};this[_0x49114f(0x3f6)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x49114f(0x38f)+_0x544e11['uazapi'][_0x49114f(0x11c)]),_0x1b109c['waitingPoll_id']=_0x1b3921[_0x49114f(0x268)]['id'],_0x1b109c['waitingPoll_name']=_0x544e11['uazapi'][_0x49114f(0x11c)],_0x1b109c[_0x49114f(0x2c7)]=_0x1b2d64,this[_0x49114f(0x3f6)]['verbose'](this[_0x49114f(0x40d)]+'\x20('+this['instance'][_0x49114f(0x1c6)]+'):\x20conversation.waitingPollname'+_0x1b109c[_0x49114f(0x65d)]),_0x1b109c[_0x49114f(0x61a)][_0x49114f(0x4ca)]=_0x544e11['_id']['toString']();let {message_normalized:_0x180ad2}=this[_0x49114f(0x624)](_0x1b3921[_0x49114f(0x46a)],J(_0x1b3921[_0x49114f(0x46a)]),null);_0x1b109c[_0x49114f(0x61a)][_0x49114f(0x12a)]=await _0x180ad2;let _0x31376a={'messageId':_0x1b3921[_0x49114f(0x268)]['id']},_0x16b312=_0x1b109c[_0x49114f(0x61a)][_0x49114f(0x62c)];Object[_0x49114f(0x3dd)](_0x16b312,_0x196e33),_0x1b109c[_0x49114f(0x61a)][_0x49114f(0x62c)]=_0x16b312,this[_0x49114f(0x5b2)](_0x1b109c,_0x544e11,_0x31376a);}else{let _0x10cc2f={'error':!0x0};this[_0x49114f(0x5b2)](_0x1b109c,_0x544e11,_0x10cc2f),this['logger']['error'](this[_0x49114f(0x40d)]+'\x20('+this[_0x49114f(0x62a)][_0x49114f(0x1c6)]+_0x49114f(0x639));}}catch(_0x3c8269){let _0x5d29c8={'error':!0x0,'errorLog':_0x3c8269[_0x49114f(0x16e)]()};this['updateConversation'](_0x1b109c,_0x544e11,_0x5d29c8),this[_0x49114f(0x3f6)][_0x49114f(0x622)](this[_0x49114f(0x40d)]+'\x20('+this[_0x49114f(0x62a)][_0x49114f(0x1c6)]+_0x49114f(0x109)+_0x3c8269[_0x49114f(0x16e)]());}}async[a0_0x4b3f0f(0x390)](_0x32bbbe,_0x1cf141,_0x434201){const _0xdf71ec=a0_0x4b3f0f;this[_0xdf71ec(0x3f6)][_0xdf71ec(0x5e6)](this[_0xdf71ec(0x40d)]+'\x20('+this['instance'][_0xdf71ec(0x1c6)]+_0xdf71ec(0x20a));let _0x135454=_0x32bbbe[_0xdf71ec(0x61a)][_0xdf71ec(0x17f)]['find'](_0x5c36d9=>_0x5c36d9[_0xdf71ec(0x186)][_0xdf71ec(0x16e)]()===_0x1cf141[_0xdf71ec(0x47b)][_0xdf71ec(0x186)][_0xdf71ec(0x16e)]()),_0x2c9aa4={'id':_0x135454['messageId'],'remoteJid':_0x135454['remoteJid'],'fromMe':_0x135454[_0xdf71ec(0x38c)]};try{let _0x4bbb58=await this['deleteMessage'](_0x2c9aa4);if(_0x4bbb58){_0x32bbbe[_0xdf71ec(0x61a)]['lastBlockId']=_0x1cf141['_id'][_0xdf71ec(0x16e)]();let {message_normalized:_0x53791d}=this[_0xdf71ec(0x624)](_0x4bbb58[_0xdf71ec(0x46a)],J(_0x4bbb58[_0xdf71ec(0x46a)]),null);_0x32bbbe['chatLog'][_0xdf71ec(0x12a)]=await _0x53791d;let _0x1ffb76={};this[_0xdf71ec(0x5b2)](_0x32bbbe,_0x1cf141,_0x1ffb76);}else{let _0x5e99a7={'error':!0x0};this[_0xdf71ec(0x5b2)](_0x32bbbe,_0x1cf141,_0x5e99a7),this[_0xdf71ec(0x3f6)][_0xdf71ec(0x622)](this[_0xdf71ec(0x40d)]+'\x20('+this['instance']['wuid']+_0xdf71ec(0x17c));}}catch(_0x275262){let _0x16bd1f={'error':!0x0,'errorLog':_0x275262[_0xdf71ec(0x16e)]()};this[_0xdf71ec(0x5b2)](_0x32bbbe,_0x1cf141,_0x16bd1f),this[_0xdf71ec(0x3f6)]['error'](this['instanceName']+'\x20('+this[_0xdf71ec(0x62a)]['wuid']+_0xdf71ec(0x55e)+_0x275262['toString']());}}async['createFlow'](_0xe334f5){const _0x2ee57e=a0_0x4b3f0f;try{if(this[_0x2ee57e(0x3f6)]['verbose'](this[_0x2ee57e(0x40d)]+'\x20('+this['instance'][_0x2ee57e(0x1c6)]+'):\x20Criando\x20fluxo...'),await I[_0x2ee57e(0x134)]({'owner':this[_0x2ee57e(0x62a)][_0x2ee57e(0x1c6)],'name':_0xe334f5[_0x2ee57e(0x11c)]}))return{'message':_0x2ee57e(0x67c)};_0xe334f5[_0x2ee57e(0x4ea)]===!0x0&&await I[_0x2ee57e(0x296)]({'owner':this[_0x2ee57e(0x62a)]['wuid']},{'default':!0x1});let _0x1205d4=new we[(_0x2ee57e(0x40b))][(_0x2ee57e(0x15f))](),_0x21392b={'_id':_0x1205d4,'default':!0x0,'title':_0x2ee57e(0x1ce),'x':0x0,'y':0x0},_0x544cf2={'_id':new we[(_0x2ee57e(0x40b))][(_0x2ee57e(0x15f))](),'order':0x1,'groupId':_0x1205d4[_0x2ee57e(0x16e)](),'type':_0x2ee57e(0x191)};return await I[_0x2ee57e(0x35d)]({'owner':this[_0x2ee57e(0x62a)][_0x2ee57e(0x1c6)],'name':_0xe334f5[_0x2ee57e(0x11c)],'groups':[_0x21392b],'blocks':[_0x544cf2],..._0xe334f5});}catch(_0x1fceb6){throw this[_0x2ee57e(0x3f6)][_0x2ee57e(0x622)](this['instanceName']+'\x20('+this[_0x2ee57e(0x62a)][_0x2ee57e(0x1c6)]+_0x2ee57e(0x641)+_0x1fceb6),new g(_0x2ee57e(0x58c)+_0x1fceb6);}}async[a0_0x4b3f0f(0x157)](_0x2cd6ce){const _0x4b5c47=a0_0x4b3f0f;try{return this[_0x4b5c47(0x3f6)][_0x4b5c47(0x5e6)](this[_0x4b5c47(0x40d)]+'\x20('+this[_0x4b5c47(0x62a)][_0x4b5c47(0x1c6)]+'):\x20Deletando\x20fluxo...'),await I[_0x4b5c47(0x165)]({'owner':this[_0x4b5c47(0x62a)][_0x4b5c47(0x1c6)],'name':_0x2cd6ce});}catch(_0x4cb32b){return this[_0x4b5c47(0x3f6)][_0x4b5c47(0x622)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4b5c47(0x5b4)+_0x4cb32b),{'message':_0x4b5c47(0x4c0)+_0x4cb32b};}}async['getFlow'](_0x328391){const _0x272c86=a0_0x4b3f0f;try{this['logger']['verbose'](this[_0x272c86(0x40d)]+'\x20('+this[_0x272c86(0x62a)][_0x272c86(0x1c6)]+_0x272c86(0x286));let _0x29ed4c=await I[_0x272c86(0x134)]({'owner':this[_0x272c86(0x62a)]['wuid'],'name':_0x328391});if(!_0x29ed4c)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x272c86(0x26b)]&&(await this[_0x272c86(0xcf)](),!this[_0x272c86(0x26b)]))return null;let _0x34c056=this[_0x272c86(0x26b)]?.['customFields'][_0x272c86(0x53c)](_0x1c7bf2=>_0x1c7bf2[_0x272c86(0x11c)]),_0x579384=[_0x272c86(0x1cc),_0x272c86(0x67f),_0x272c86(0xf7),_0x272c86(0x5ab),'status',_0x272c86(0x329),_0x272c86(0x1d5),_0x272c86(0x525)];return _0x29ed4c['variables']=_0x29ed4c['variables']['filter'](_0x5ba0a3=>!(_0x5ba0a3[_0x272c86(0x4a5)]===_0x272c86(0x232)||_0x5ba0a3[_0x272c86(0x232)])),_0x579384[_0x272c86(0x557)](_0x2d0c16=>{const _0x45c5e7=_0x272c86;_0x29ed4c[_0x45c5e7(0x2b8)][_0x45c5e7(0x346)]({'folder':_0x45c5e7(0x232),'name':_0x2d0c16,'value':'','doc':'','leadInfo':!0x0});}),_0x34c056[_0x272c86(0x557)](_0x5eef3b=>{const _0x4f6de5=_0x272c86;let _0x3ec421=_0x29ed4c[_0x4f6de5(0x2b8)][_0x4f6de5(0x48e)](_0x4db1c7=>_0x4db1c7[_0x4f6de5(0x11c)]===_0x5eef3b);_0x3ec421===-0x1?_0x29ed4c[_0x4f6de5(0x2b8)][_0x4f6de5(0x346)]({'folder':_0x4f6de5(0x232),'name':_0x5eef3b,'value':'','doc':'','leadInfo':!0x0}):(_0x29ed4c[_0x4f6de5(0x2b8)][_0x3ec421][_0x4f6de5(0x4a5)]=_0x4f6de5(0x232),_0x29ed4c[_0x4f6de5(0x2b8)][_0x3ec421][_0x4f6de5(0x232)]=!0x0);}),_0x29ed4c[_0x272c86(0x64e)]&&_0x29ed4c[_0x272c86(0x64e)][_0x272c86(0x529)]>0x0&&_0x29ed4c['blocks']['forEach'](_0x3013ef=>{const _0x47cd95=_0x272c86;_0x3013ef[_0x47cd95(0x291)]&&_0x3013ef['next_groupId']&&_0x3013ef[_0x47cd95(0x291)]===_0x3013ef['next_groupId']&&(_0x3013ef[_0x47cd95(0x218)]=null);}),await _0x29ed4c[_0x272c86(0x3c9)](),_0x29ed4c;}catch(_0x392520){throw this[_0x272c86(0x3f6)][_0x272c86(0x622)](this[_0x272c86(0x40d)]+'\x20('+this[_0x272c86(0x62a)][_0x272c86(0x1c6)]+_0x272c86(0x4bb)+_0x392520),new g(_0x272c86(0x248)+_0x392520);}}async[a0_0x4b3f0f(0x67b)](){const _0x1c47b6=a0_0x4b3f0f;try{return this[_0x1c47b6(0x3f6)]['verbose'](this[_0x1c47b6(0x40d)]+'\x20('+this[_0x1c47b6(0x62a)][_0x1c47b6(0x1c6)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await I[_0x1c47b6(0x28c)]({'owner':this[_0x1c47b6(0x62a)]['wuid']});}catch(_0xf6b850){return this['logger'][_0x1c47b6(0x622)](this[_0x1c47b6(0x40d)]+'\x20('+this[_0x1c47b6(0x62a)][_0x1c47b6(0x1c6)]+_0x1c47b6(0x4e5)+_0xf6b850),{'message':_0x1c47b6(0x566)+_0xf6b850};}}async[a0_0x4b3f0f(0x31a)](_0x8cc3e1){const _0x5dffd9=a0_0x4b3f0f;try{this[_0x5dffd9(0x3f6)][_0x5dffd9(0x5e6)](this['instanceName']+'\x20('+this[_0x5dffd9(0x62a)][_0x5dffd9(0x1c6)]+_0x5dffd9(0x60e));let _0x56814c=await I[_0x5dffd9(0x134)]({'owner':this['instance'][_0x5dffd9(0x1c6)],'name':_0x8cc3e1[_0x5dffd9(0x11c)]});if(!_0x56814c)return{'message':_0x5dffd9(0x226)};if(_0x8cc3e1[_0x5dffd9(0x4ea)]===!0x0&&await I[_0x5dffd9(0x296)]({'owner':this[_0x5dffd9(0x62a)][_0x5dffd9(0x1c6)]},{'default':!0x1}),_0x8cc3e1[_0x5dffd9(0x5e9)]){if(await I[_0x5dffd9(0x134)]({'owner':this[_0x5dffd9(0x62a)][_0x5dffd9(0x1c6)],'name':_0x8cc3e1[_0x5dffd9(0x5e9)]}))return{'message':_0x5dffd9(0x207)};_0x8cc3e1[_0x5dffd9(0x11c)]=_0x8cc3e1[_0x5dffd9(0x5e9)],delete _0x8cc3e1[_0x5dffd9(0x5e9)];}return await I['findByIdAndUpdate'](_0x56814c[_0x5dffd9(0x2e8)],{'$set':_0x8cc3e1},{'new':!0x0});}catch(_0x17fa59){throw this[_0x5dffd9(0x3f6)][_0x5dffd9(0x622)](this[_0x5dffd9(0x40d)]+'\x20('+this['instance'][_0x5dffd9(0x1c6)]+_0x5dffd9(0x130)+_0x17fa59),new g(_0x5dffd9(0x317)+_0x17fa59);}}async[a0_0x4b3f0f(0x347)](_0x34a485){const _0x16d326=a0_0x4b3f0f;try{this[_0x16d326(0x3f6)][_0x16d326(0x5e6)](this[_0x16d326(0x40d)]+'\x20('+this[_0x16d326(0x62a)][_0x16d326(0x1c6)]+_0x16d326(0xa6));let _0x3aaf65={'owner':this[_0x16d326(0x62a)][_0x16d326(0x1c6)],'name':_0x34a485[_0x16d326(0x11c)]},_0x3c73ce=await I['findOne'](_0x3aaf65);_0x3c73ce||this[_0x16d326(0x2f4)](_0x16d326(0x203));let {block:_0x4b5efc}=_0x34a485;return _0x4b5efc?.[_0x16d326(0x527)]?this[_0x16d326(0x295)](_0x3c73ce,_0x34a485):_0x4b5efc[_0x16d326(0x2e8)]?await this[_0x16d326(0x373)](_0x3c73ce,_0x34a485):this[_0x16d326(0x348)](_0x3c73ce,_0x34a485),await _0x3c73ce['save'](),_0x3c73ce;}catch(_0x39255b){this['throwAndLogError'](_0x16d326(0xe0)+_0x39255b);}}['throwAndLogError'](_0x419c02){const _0x2e1cf0=a0_0x4b3f0f;throw this[_0x2e1cf0(0x3f6)][_0x2e1cf0(0x622)](this[_0x2e1cf0(0x40d)]+'\x20('+this['instance'][_0x2e1cf0(0x1c6)]+'):\x20'+_0x419c02),new g(_0x419c02);}[a0_0x4b3f0f(0x295)](_0x535436,_0x3d036c){const _0x1fa2bd=a0_0x4b3f0f;let {block:_0x2b62e1}=_0x3d036c;if(_0x2b62e1[_0x1fa2bd(0x533)]===_0x1fa2bd(0x191)){this['throwAndLogError']('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x2b62e1['_id']){this['throwAndLogError'](_0x1fa2bd(0x65f));return;}let _0x2b5912=_0x535436[_0x1fa2bd(0x64e)]['find'](_0x22b0c=>_0x22b0c['_id'][_0x1fa2bd(0x16e)]()===_0x3d036c['block'][_0x1fa2bd(0x2e8)][_0x1fa2bd(0x16e)]());if(!_0x2b5912){this[_0x1fa2bd(0x2f4)](_0x1fa2bd(0x604)+_0x2b62e1['_id']+_0x1fa2bd(0x3f8));return;}_0x535436[_0x1fa2bd(0x64e)]=_0x535436[_0x1fa2bd(0x64e)]['filter'](_0x2b0dba=>_0x2b0dba[_0x1fa2bd(0x2e8)][_0x1fa2bd(0x16e)]()!==_0x3d036c[_0x1fa2bd(0x105)][_0x1fa2bd(0x2e8)][_0x1fa2bd(0x16e)]()),_0x535436['conditions']=_0x535436['conditions']['filter'](_0x19fd80=>_0x19fd80[_0x1fa2bd(0x186)]!==_0x2b62e1['_id'][_0x1fa2bd(0x16e)]()),_0x535436[_0x1fa2bd(0xd0)]=_0x535436[_0x1fa2bd(0xd0)]['filter'](_0x34a79c=>_0x34a79c[_0x1fa2bd(0x186)]!==_0x2b62e1[_0x1fa2bd(0x2e8)][_0x1fa2bd(0x16e)]()),_0x535436[_0x1fa2bd(0x107)]=_0x535436[_0x1fa2bd(0x107)][_0x1fa2bd(0x651)](_0x5eba6b=>_0x5eba6b[_0x1fa2bd(0x186)]!==_0x2b62e1[_0x1fa2bd(0x2e8)][_0x1fa2bd(0x16e)]()),this[_0x1fa2bd(0x49c)](_0x535436['blocks'],_0x2b5912['groupId']);}async[a0_0x4b3f0f(0x373)](_0xce4e7d,_0x146716){const _0x2ab9a9=a0_0x4b3f0f;let _0x3d12b7=_0xce4e7d[_0x2ab9a9(0x64e)][_0x2ab9a9(0x48e)](_0x3e6fab=>_0x3e6fab[_0x2ab9a9(0x2e8)][_0x2ab9a9(0x16e)]()===_0x146716[_0x2ab9a9(0x105)][_0x2ab9a9(0x2e8)][_0x2ab9a9(0x16e)]());if(this[_0x2ab9a9(0x3f6)][_0x2ab9a9(0x5e6)](this[_0x2ab9a9(0x40d)]+'\x20('+this['instance'][_0x2ab9a9(0x1c6)]+_0x2ab9a9(0x595)+_0x3d12b7),_0x3d12b7===-0x1){this[_0x2ab9a9(0x3f6)][_0x2ab9a9(0x5e6)](_0x2ab9a9(0x604)+_0x146716[_0x2ab9a9(0x105)]['_id']+_0x2ab9a9(0x288));return;}if(_0xce4e7d['blocks'][_0x3d12b7]['type']===_0x2ab9a9(0x191)){let _0xb441c1=Object[_0x2ab9a9(0x1c8)](_0x146716[_0x2ab9a9(0x105)]);if(_0xb441c1[_0x2ab9a9(0x529)]>0x2||_0xb441c1[_0x2ab9a9(0x529)]===0x2&&!_0xb441c1[_0x2ab9a9(0x531)]('next_groupId')){this[_0x2ab9a9(0x2f4)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x209151=_0xce4e7d[_0x2ab9a9(0x64e)][_0x3d12b7][_0x2ab9a9(0x291)];for(let _0x48ab51 in _0x146716[_0x2ab9a9(0x105)])_0x146716['block']['hasOwnProperty'](_0x48ab51)&&(_0xce4e7d['blocks'][_0x3d12b7][_0x48ab51]=_0x146716['block'][_0x48ab51]);if(this[_0x2ab9a9(0x3f6)][_0x2ab9a9(0x5e6)](this[_0x2ab9a9(0x40d)]+'\x20('+this['instance'][_0x2ab9a9(0x1c6)]+_0x2ab9a9(0x2f9)+JSON['stringify'](_0xce4e7d[_0x2ab9a9(0x64e)][_0x3d12b7])),_0xce4e7d[_0x2ab9a9(0x64e)][_0x3d12b7][_0x2ab9a9(0x1bb)]&&_0x2ab9a9(0x365)in _0xce4e7d[_0x2ab9a9(0x64e)][_0x3d12b7][_0x2ab9a9(0x1bb)]){this[_0x2ab9a9(0x3f6)][_0x2ab9a9(0x5e6)](this[_0x2ab9a9(0x40d)]+'\x20('+this['instance'][_0x2ab9a9(0x1c6)]+_0x2ab9a9(0x50a));let _0x1af573=JSON[_0x2ab9a9(0x3c6)](_0xce4e7d['blocks'][_0x3d12b7][_0x2ab9a9(0x1bb)]['header'],null,0x1);_0x1af573['length']>0x2&&(_0x1af573=_0x1af573['substring'](0x1,_0x1af573['length']-0x1)[_0x2ab9a9(0x322)]()),_0xce4e7d['blocks'][_0x3d12b7][_0x2ab9a9(0x1bb)][_0x2ab9a9(0x441)]=_0x1af573;}if(_0xce4e7d[_0x2ab9a9(0x64e)][_0x3d12b7]['apirequest']&&_0x2ab9a9(0x103)in _0xce4e7d[_0x2ab9a9(0x64e)][_0x3d12b7][_0x2ab9a9(0x1bb)]){this[_0x2ab9a9(0x3f6)]['verbose'](this[_0x2ab9a9(0x40d)]+'\x20('+this[_0x2ab9a9(0x62a)][_0x2ab9a9(0x1c6)]+_0x2ab9a9(0x1af));let _0x5bfbf2=JSON[_0x2ab9a9(0x3c6)](_0xce4e7d[_0x2ab9a9(0x64e)][_0x3d12b7][_0x2ab9a9(0x1bb)]['body'],null,0x1);_0x5bfbf2[_0x2ab9a9(0x529)]>0x2&&(_0x5bfbf2=_0x5bfbf2[_0x2ab9a9(0x47d)](0x1,_0x5bfbf2[_0x2ab9a9(0x529)]-0x1)[_0x2ab9a9(0x322)]()),_0xce4e7d[_0x2ab9a9(0x64e)][_0x3d12b7][_0x2ab9a9(0x1bb)][_0x2ab9a9(0x34a)]=_0x5bfbf2;}let _0x1c4596=_0xce4e7d[_0x2ab9a9(0x64e)][_0x3d12b7][_0x2ab9a9(0x291)];_0x209151!==_0x1c4596?(this[_0x2ab9a9(0x49c)](_0xce4e7d[_0x2ab9a9(0x64e)],_0x209151),this[_0x2ab9a9(0x49c)](_0xce4e7d[_0x2ab9a9(0x64e)],_0x1c4596)):this[_0x2ab9a9(0x49c)](_0xce4e7d[_0x2ab9a9(0x64e)],_0x209151);}[a0_0x4b3f0f(0x348)](_0x143b69,_0x21c8a7){const _0x32c342=a0_0x4b3f0f;if(_0x21c8a7[_0x32c342(0x105)][_0x32c342(0x533)]===_0x32c342(0x191)){this[_0x32c342(0x2f4)](_0x32c342(0x5a1));return;}if(_0x21c8a7[_0x32c342(0x105)]['apirequest']&&_0x32c342(0x365)in _0x21c8a7[_0x32c342(0x105)][_0x32c342(0x1bb)]){this[_0x32c342(0x3f6)][_0x32c342(0x5e6)](this['instanceName']+'\x20('+this[_0x32c342(0x62a)][_0x32c342(0x1c6)]+_0x32c342(0x50a));let _0x1a2a30=JSON[_0x32c342(0x3c6)](_0x21c8a7[_0x32c342(0x105)]['apirequest']['header'],null,0x1);_0x1a2a30[_0x32c342(0x529)]>0x2&&(_0x1a2a30=_0x1a2a30[_0x32c342(0x47d)](0x1,_0x1a2a30[_0x32c342(0x529)]-0x1)['trim']()),_0x21c8a7['block']['apirequest'][_0x32c342(0x441)]=_0x1a2a30;}_0x21c8a7['block'][_0x32c342(0x1bb)]&&_0x32c342(0x103)in _0x21c8a7[_0x32c342(0x105)][_0x32c342(0x1bb)]&&(this[_0x32c342(0x3f6)][_0x32c342(0x5e6)](this[_0x32c342(0x40d)]+'\x20('+this[_0x32c342(0x62a)]['wuid']+_0x32c342(0x1af)),_0x21c8a7[_0x32c342(0x105)]['apirequest'][_0x32c342(0x34a)]=JSON[_0x32c342(0x3c6)](_0x21c8a7[_0x32c342(0x105)][_0x32c342(0x1bb)][_0x32c342(0x103)],null,0x1)[_0x32c342(0x322)]()),_0x143b69[_0x32c342(0x64e)]['push'](_0x21c8a7[_0x32c342(0x105)]),this[_0x32c342(0x49c)](_0x143b69[_0x32c342(0x64e)],_0x21c8a7[_0x32c342(0x105)][_0x32c342(0x291)]);}[a0_0x4b3f0f(0x49c)](_0x2ce9cc,_0x214e9){const _0x331a94=a0_0x4b3f0f;let _0x20f54a=_0x2ce9cc[_0x331a94(0x651)](_0x3b96e4=>_0x3b96e4[_0x331a94(0x291)]===_0x214e9);_0x20f54a[_0x331a94(0x5f1)]((_0x4fb06c,_0x9c4868)=>_0x4fb06c[_0x331a94(0x14e)]-_0x9c4868[_0x331a94(0x14e)]),_0x20f54a['forEach']((_0x58a526,_0x15ba5b)=>_0x58a526[_0x331a94(0x14e)]=_0x15ba5b+0x1);}async[a0_0x4b3f0f(0x367)](_0x16594a){const _0x15c60c=a0_0x4b3f0f;try{if(this[_0x15c60c(0x3f6)][_0x15c60c(0x5e6)](this[_0x15c60c(0x40d)]+'\x20('+this[_0x15c60c(0x62a)]['wuid']+'):\x20Editando\x20replyOption...'),!_0x16594a||!_0x16594a[_0x15c60c(0x2f8)]){this[_0x15c60c(0x2f4)](_0x15c60c(0x297));return;}let _0x1d87ad={'owner':this[_0x15c60c(0x62a)][_0x15c60c(0x1c6)],'name':_0x16594a[_0x15c60c(0x11c)]},_0x6c8717=await I[_0x15c60c(0x134)](_0x1d87ad);_0x6c8717||this['throwAndLogError'](_0x15c60c(0x203));let {replyOption:_0x70a22e}=_0x16594a;return _0x70a22e?.[_0x15c60c(0x527)]?this[_0x15c60c(0x4c1)](_0x6c8717,_0x16594a):_0x70a22e[_0x15c60c(0x2e8)]?await this[_0x15c60c(0x554)](_0x6c8717,_0x16594a):this[_0x15c60c(0x3b4)](_0x6c8717,_0x16594a),await _0x6c8717['save'](),_0x6c8717;}catch(_0x265896){this[_0x15c60c(0x2f4)](_0x15c60c(0xc4)+_0x265896);}}[a0_0x4b3f0f(0x4c1)](_0x534229,_0x53d9ec){const _0x2ca9d4=a0_0x4b3f0f;let {replyOption:_0x4b4e0b}=_0x53d9ec;if(!_0x4b4e0b[_0x2ca9d4(0x2e8)]){this[_0x2ca9d4(0x2f4)](_0x2ca9d4(0x255));return;}if(!_0x534229[_0x2ca9d4(0x107)][_0x2ca9d4(0x28c)](_0x2cdcb8=>_0x2cdcb8['_id']['toString']()===_0x53d9ec[_0x2ca9d4(0x2f8)]['_id'][_0x2ca9d4(0x16e)]())){this[_0x2ca9d4(0x2f4)](_0x2ca9d4(0x1c5)+_0x4b4e0b[_0x2ca9d4(0x2e8)]+_0x2ca9d4(0x3f8));return;}_0x534229[_0x2ca9d4(0x107)]=_0x534229[_0x2ca9d4(0x107)]['filter'](_0x1a69ec=>_0x1a69ec['_id'][_0x2ca9d4(0x16e)]()!==_0x53d9ec[_0x2ca9d4(0x2f8)][_0x2ca9d4(0x2e8)][_0x2ca9d4(0x16e)]());}async['updateReplyOption'](_0x1fdbca,_0x57d00d){const _0x171956=a0_0x4b3f0f;let _0x5d2093=_0x1fdbca[_0x171956(0x107)]['findIndex'](_0x129589=>_0x129589[_0x171956(0x2e8)][_0x171956(0x16e)]()===_0x57d00d[_0x171956(0x2f8)][_0x171956(0x2e8)][_0x171956(0x16e)]());if(_0x5d2093===-0x1){this['throwAndLogError'](_0x171956(0x1c5)+_0x57d00d[_0x171956(0x2f8)][_0x171956(0x2e8)]+_0x171956(0x288));return;}for(let _0x1f13af in _0x57d00d[_0x171956(0x2f8)])_0x57d00d[_0x171956(0x2f8)][_0x171956(0x194)](_0x1f13af)&&(_0x1fdbca[_0x171956(0x107)][_0x5d2093][_0x1f13af]=_0x57d00d[_0x171956(0x2f8)][_0x1f13af]);}[a0_0x4b3f0f(0x3b4)](_0x554cad,_0x44e63c){const _0x56cf96=a0_0x4b3f0f;_0x554cad[_0x56cf96(0x107)]['push'](_0x44e63c[_0x56cf96(0x2f8)]);}async[a0_0x4b3f0f(0x551)](_0x479f56){const _0x30e68b=a0_0x4b3f0f;this[_0x30e68b(0x3f6)][_0x30e68b(0x5e6)](this['instanceName']+'\x20('+this['instance'][_0x30e68b(0x1c6)]+_0x30e68b(0xf5)+_0x479f56);try{this[_0x30e68b(0x3f6)][_0x30e68b(0x5e6)](this[_0x30e68b(0x40d)]+'\x20('+this[_0x30e68b(0x62a)][_0x30e68b(0x1c6)]+_0x30e68b(0x29f));let _0x4e4177={'owner':this[_0x30e68b(0x62a)][_0x30e68b(0x1c6)],'name':_0x479f56[_0x30e68b(0x11c)]},_0x3218bb=await I[_0x30e68b(0x134)](_0x4e4177);if(!_0x3218bb)throw new Error('Flow\x20não\x20encontrado');if(_0x479f56[_0x30e68b(0x5a2)]&&_0x479f56[_0x30e68b(0x5a2)]?.[_0x30e68b(0x527)]===!0x0){if(this[_0x30e68b(0x3f6)][_0x30e68b(0x5e6)](this[_0x30e68b(0x40d)]+'\x20('+this[_0x30e68b(0x62a)][_0x30e68b(0x1c6)]+'):\x20delete\x20=\x20true'),_0x479f56['group']['default']===!0x0)return{'message':_0x30e68b(0x5bf)};if(_0x3218bb[_0x30e68b(0x64e)][_0x30e68b(0x1ff)](_0x46ea12=>_0x46ea12[_0x30e68b(0x291)][_0x30e68b(0x16e)]()===_0x479f56[_0x30e68b(0x5a2)][_0x30e68b(0x2e8)]))return this['logger'][_0x30e68b(0x5e6)](this[_0x30e68b(0x40d)]+'\x20('+this['instance']['wuid']+_0x30e68b(0x625)),{'message':_0x30e68b(0x213)};_0x3218bb[_0x30e68b(0x5a0)]=_0x3218bb[_0x30e68b(0x5a0)][_0x30e68b(0x651)](_0x7acd7d=>_0x7acd7d[_0x30e68b(0x2e8)]['toString']()!==_0x479f56[_0x30e68b(0x5a2)][_0x30e68b(0x2e8)]);}else{if(_0x479f56[_0x30e68b(0x5a2)]){if(_0x479f56['group'][_0x30e68b(0x4ea)]===!0x0)return{'message':_0x30e68b(0x2fe)};if(_0x479f56[_0x30e68b(0x5a2)][_0x30e68b(0x2e8)]){let _0x10f509=_0x3218bb[_0x30e68b(0x5a0)]['find'](_0xbec810=>_0xbec810['_id']['toString']()===_0x479f56[_0x30e68b(0x5a2)]['_id']);_0x10f509&&(_0x479f56[_0x30e68b(0x5a2)]['x']<0x0&&(_0x479f56[_0x30e68b(0x5a2)]['x']=0x0),_0x479f56[_0x30e68b(0x5a2)]['y']<0x0&&(_0x479f56['group']['y']=0x0),Object[_0x30e68b(0x3dd)](_0x10f509,_0x479f56[_0x30e68b(0x5a2)]));}else _0x3218bb[_0x30e68b(0x5a0)][_0x30e68b(0x346)](_0x479f56['group']);}}return await _0x3218bb[_0x30e68b(0x3c9)](),_0x3218bb;}catch(_0x1f73d0){throw this[_0x30e68b(0x3f6)][_0x30e68b(0x622)](this[_0x30e68b(0x40d)]+'\x20('+this[_0x30e68b(0x62a)]['wuid']+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+_0x1f73d0),new g(_0x30e68b(0x1b4)+_0x1f73d0);}}async['editFlowCondition'](_0x5385f7){const _0x14b658=a0_0x4b3f0f;try{this[_0x14b658(0x3f6)][_0x14b658(0x5e6)](this[_0x14b658(0x40d)]+'\x20('+this[_0x14b658(0x62a)]['wuid']+_0x14b658(0x3d0));let _0x41cefa={'owner':this[_0x14b658(0x62a)][_0x14b658(0x1c6)],'name':_0x5385f7[_0x14b658(0x11c)]},_0xc98446=await I['findOne'](_0x41cefa);if(!_0xc98446)throw new Error(_0x14b658(0x203));let _0x4e5888=!0x1;if(_0x5385f7[_0x14b658(0x2bb)]?.[_0x14b658(0x527)]===!0x0)_0xc98446['conditions']=_0xc98446[_0x14b658(0x5fe)][_0x14b658(0x651)](_0x558825=>_0x558825&&_0x5385f7[_0x14b658(0x2bb)]&&_0x558825[_0x14b658(0x2e8)]&&_0x5385f7[_0x14b658(0x2bb)][_0x14b658(0x2e8)]&&_0x558825[_0x14b658(0x2e8)][_0x14b658(0x16e)]()!==_0x5385f7[_0x14b658(0x2bb)][_0x14b658(0x2e8)]['toString']()),_0x4e5888=!0x0;else{let _0x5295cf=_0xc98446[_0x14b658(0x5fe)][_0x14b658(0x28c)](_0x48fc5f=>_0x48fc5f&&_0x5385f7[_0x14b658(0x2bb)]&&_0x48fc5f['_id']&&_0x5385f7[_0x14b658(0x2bb)][_0x14b658(0x2e8)]&&_0x48fc5f[_0x14b658(0x2e8)]['toString']()===_0x5385f7[_0x14b658(0x2bb)]['_id'][_0x14b658(0x16e)]());_0x5295cf?(_0x4e5888=_0x5295cf[_0x14b658(0x14e)]!==_0x5385f7['condition'][_0x14b658(0x14e)],Object[_0x14b658(0x3dd)](_0x5295cf,_0x5385f7['condition'])):(_0xc98446[_0x14b658(0x5fe)]['push'](_0x5385f7[_0x14b658(0x2bb)]),_0x4e5888=!0x0);}if(_0x4e5888){_0xc98446[_0x14b658(0x5fe)][_0x14b658(0x5f1)]((_0x1df1eb,_0x28aeb8)=>_0x1df1eb[_0x14b658(0x14e)]>_0x28aeb8['order']?0x1:_0x28aeb8['order']>_0x1df1eb['order']?-0x1:0x0);for(let _0x119b96=0x0;_0x119b96<_0xc98446[_0x14b658(0x5fe)][_0x14b658(0x529)];_0x119b96++)_0xc98446[_0x14b658(0x5fe)][_0x119b96][_0x14b658(0x14e)]=_0x119b96+0x1;_0xc98446[_0x14b658(0x5fe)]['length']>0x0&&(_0xc98446[_0x14b658(0x5fe)][0x0][_0x14b658(0x1b8)]='and');}return await _0xc98446[_0x14b658(0x3c9)](),_0xc98446;}catch(_0x48517a){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x14b658(0x62a)][_0x14b658(0x1c6)]+_0x14b658(0x3bb)+_0x48517a),new Error(_0x14b658(0x5b0)+_0x48517a);}}async['editFlowVaredit'](_0x5aa501){const _0x39c626=a0_0x4b3f0f;try{this[_0x39c626(0x3f6)][_0x39c626(0x5e6)](this[_0x39c626(0x40d)]+'\x20('+this['instance'][_0x39c626(0x1c6)]+_0x39c626(0x5f8));let _0xba1de5={'owner':this[_0x39c626(0x62a)][_0x39c626(0x1c6)],'name':_0x5aa501[_0x39c626(0x11c)]},_0x352111=await I[_0x39c626(0x134)](_0xba1de5);if(!_0x352111)throw new Error(_0x39c626(0x203));let _0x2970a1=!0x1;if(_0x5aa501[_0x39c626(0x23b)]?.[_0x39c626(0x527)]===!0x0)_0x352111[_0x39c626(0xd0)]=_0x352111[_0x39c626(0xd0)]['filter'](_0x3f6a64=>_0x3f6a64&&_0x5aa501['varedit']&&_0x3f6a64['_id']&&_0x5aa501[_0x39c626(0x23b)][_0x39c626(0x2e8)]&&_0x3f6a64[_0x39c626(0x2e8)][_0x39c626(0x16e)]()!==_0x5aa501[_0x39c626(0x23b)][_0x39c626(0x2e8)][_0x39c626(0x16e)]()),_0x2970a1=!0x0;else{let _0x28fde4=_0x352111[_0x39c626(0xd0)]['find'](_0x5df828=>_0x5df828&&_0x5aa501[_0x39c626(0x23b)]&&_0x5df828[_0x39c626(0x2e8)]&&_0x5aa501[_0x39c626(0x23b)][_0x39c626(0x2e8)]&&_0x5df828[_0x39c626(0x2e8)][_0x39c626(0x16e)]()===_0x5aa501[_0x39c626(0x23b)][_0x39c626(0x2e8)]['toString']());_0x28fde4?(_0x2970a1=_0x28fde4['order']!==_0x5aa501[_0x39c626(0x23b)]['order'],Object['assign'](_0x28fde4,_0x5aa501[_0x39c626(0x23b)])):(_0x352111[_0x39c626(0xd0)][_0x39c626(0x346)](_0x5aa501[_0x39c626(0x23b)]),_0x2970a1=!0x0);}if(_0x2970a1){_0x352111[_0x39c626(0xd0)][_0x39c626(0x5f1)]((_0x1393ea,_0xfcfcc4)=>_0x1393ea['order']>_0xfcfcc4[_0x39c626(0x14e)]?0x1:_0xfcfcc4[_0x39c626(0x14e)]>_0x1393ea[_0x39c626(0x14e)]?-0x1:0x0);for(let _0x5d1b3d=0x0;_0x5d1b3d<_0x352111[_0x39c626(0xd0)]['length'];_0x5d1b3d++)_0x352111['varedits'][_0x5d1b3d][_0x39c626(0x14e)]=_0x5d1b3d+0x1;}return await _0x352111['save'](),_0x352111;}catch(_0x3ab9a7){throw this[_0x39c626(0x3f6)][_0x39c626(0x622)](this['instanceName']+'\x20('+this[_0x39c626(0x62a)][_0x39c626(0x1c6)]+_0x39c626(0x3bb)+_0x3ab9a7),new g(_0x39c626(0x5b0)+_0x3ab9a7);}}async[a0_0x4b3f0f(0x16f)](_0x348cd8){const _0x20898a=a0_0x4b3f0f;try{this[_0x20898a(0x3f6)][_0x20898a(0x5e6)](this[_0x20898a(0x40d)]+'\x20('+this[_0x20898a(0x62a)][_0x20898a(0x1c6)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x40583c={'owner':this[_0x20898a(0x62a)][_0x20898a(0x1c6)],'name':_0x348cd8['name']},_0x11b66d=await I[_0x20898a(0x134)](_0x40583c);if(!_0x11b66d)throw new Error('Flow\x20não\x20encontrado');_0x348cd8[_0x20898a(0x5f0)][_0x20898a(0x11c)]=_0x348cd8[_0x20898a(0x5f0)][_0x20898a(0x11c)]['trim'](),_0x348cd8[_0x20898a(0x5f0)][_0x20898a(0x11c)][_0x20898a(0x433)]('_')&&(_0x348cd8[_0x20898a(0x5f0)]['name']=_0x348cd8['variable'][_0x20898a(0x11c)][_0x20898a(0x47d)](0x1)),_0x348cd8[_0x20898a(0x5f0)][_0x20898a(0x11c)]=_0x348cd8['variable'][_0x20898a(0x11c)]['trim']();let _0x88d696=_0x11b66d[_0x20898a(0x2b8)][_0x20898a(0x28c)](_0x4a200f=>_0x4a200f[_0x20898a(0x11c)]===_0x348cd8['variable'][_0x20898a(0x11c)]);if(_0x88d696?.[_0x20898a(0x232)]===!0x0)throw new Error(_0x20898a(0xa5));if(_0x348cd8[_0x20898a(0x5f0)]?.[_0x20898a(0x527)]===!0x0){if(!_0x88d696)return{'message':_0x20898a(0xf8)};_0x11b66d[_0x20898a(0x2b8)]=_0x11b66d[_0x20898a(0x2b8)][_0x20898a(0x651)](_0x5df0a5=>_0x5df0a5[_0x20898a(0x11c)]!==_0x348cd8[_0x20898a(0x5f0)][_0x20898a(0x11c)]);}else _0x88d696?Object[_0x20898a(0x3dd)](_0x88d696,_0x348cd8['variable']):_0x11b66d['variables'][_0x20898a(0x346)](_0x348cd8[_0x20898a(0x5f0)]);return await _0x11b66d['save'](),_0x11b66d;}catch(_0x2ccfcd){throw this['logger']['error'](this[_0x20898a(0x40d)]+'\x20('+this[_0x20898a(0x62a)][_0x20898a(0x1c6)]+_0x20898a(0x3e2)+_0x2ccfcd),new g(_0x20898a(0x2eb)+_0x2ccfcd);}}async['startFlow'](_0x5cb6c8){const _0x575b9c=a0_0x4b3f0f;try{if(!this[_0x575b9c(0x26b)]?.['flowConfig'][_0x575b9c(0x500)])throw new g(_0x575b9c(0x424));this['logger'][_0x575b9c(0x5e6)](this['instanceName']+'\x20('+this[_0x575b9c(0x62a)][_0x575b9c(0x1c6)]+'):\x20Iniciando\x20bot...');let _0x41beae=(await this[_0x575b9c(0x1c4)]({'numbers':[_0x5cb6c8[_0x575b9c(0x110)]]}))[0x0];if(!_0x41beae[_0x575b9c(0x447)]&&!(0x0,w[_0x575b9c(0x381)])(_0x41beae[_0x575b9c(0x52d)])&&!_0x41beae['jid']['includes'](_0x575b9c(0xd3)))throw new g(_0x41beae);let _0x50c6f5=await I['findOne']({'owner':this[_0x575b9c(0x62a)]['wuid'],'name':_0x5cb6c8['name']});if(!_0x50c6f5)return this[_0x575b9c(0x3f6)][_0x575b9c(0x622)](this[_0x575b9c(0x40d)]+'\x20('+this['instance']['wuid']+_0x575b9c(0x630)),{'message':_0x575b9c(0x203)};let _0x1d3008=await this[_0x575b9c(0x4fa)](_0x50c6f5,_0x41beae['jid'],_0x5cb6c8['changeVariables']);if(_0x1d3008){this[_0x575b9c(0x3f6)]['verbose'](this[_0x575b9c(0x40d)]+'\x20('+this[_0x575b9c(0x62a)]['wuid']+_0x575b9c(0xeb));let _0x32fe63=await this[_0x575b9c(0x37e)](_0x1d3008);return _0x32fe63&&await this[_0x575b9c(0x2a3)](_0x1d3008,_0x32fe63,_0x1d3008[_0x575b9c(0x110)]),{'message':_0x575b9c(0x553)+_0x5cb6c8[_0x575b9c(0x110)]};}}catch(_0x24ddeb){if(this[_0x575b9c(0x3f6)][_0x575b9c(0x622)](this['instanceName']+'\x20('+this[_0x575b9c(0x62a)][_0x575b9c(0x1c6)]+_0x575b9c(0x22e)+_0x24ddeb),_0x24ddeb&&_0x24ddeb['message']&&Array['isArray'](_0x24ddeb[_0x575b9c(0x46a)])&&_0x24ddeb[_0x575b9c(0x46a)][0x0]){let {jid:_0x38ce62,exists:_0x3366d1}=_0x24ddeb[_0x575b9c(0x46a)][0x0];}throw new g(_0x575b9c(0x372)+_0x24ddeb[_0x575b9c(0x46a)]);}}async[a0_0x4b3f0f(0x4c7)](_0x11007e){const _0xd0fb2e=a0_0x4b3f0f;let _0x195a44=await j['updateMany']({'owner':this[_0xd0fb2e(0x62a)][_0xd0fb2e(0x1c6)],'remoteJid':_0x11007e,'status':_0xd0fb2e(0x655)},{'$set':{'status':_0xd0fb2e(0x179)}});return this[_0xd0fb2e(0x3f6)][_0xd0fb2e(0x5e6)](this['instanceName']+'\x20('+this[_0xd0fb2e(0x62a)][_0xd0fb2e(0x1c6)]+_0xd0fb2e(0x4b4)),_0x195a44;}async[a0_0x4b3f0f(0x4fa)](_0x47c8a8,_0xf410ba,_0x5cde01){const _0x157b1a=a0_0x4b3f0f;this[_0x157b1a(0x3f6)][_0x157b1a(0x5e6)](this[_0x157b1a(0x40d)]+'\x20('+this['instance']['wuid']+'):\x20Criando\x20nova\x20conversa'),await this[_0x157b1a(0x4c7)](_0xf410ba);try{let _0x3f5bfe=require(_0x157b1a(0x502))[_0x157b1a(0x15f)],_0xe6685=Date['now'](),_0x21495e=_0x157b1a(0x191),_0x4a60c2={},_0x5c9091={},_0x5e005f={..._0x47c8a8[_0x157b1a(0x5ed)],'chatLog':null},_0x14fc1c=await this[_0x157b1a(0x56c)](_0x5e005f[_0x157b1a(0x2b8)]),_0xe1c60f=await this[_0x157b1a(0x450)](_0xf410ba),_0x22a238={..._0x14fc1c,..._0xe1c60f,'_remoteJid':_0xf410ba},_0x564acd={'lastReceivedMessage':_0x4a60c2,'lastSendMessage':_0x5c9091,'lastBlockId':_0x21495e,'lastCondition':!0x0,'realVariables':_0x22a238};_0x5e005f[_0x157b1a(0x61a)]=_0x564acd,_0x5e005f['chatLog'][_0x157b1a(0x62c)]={..._0x22a238,..._0x5cde01},delete _0x5e005f[_0x157b1a(0x2e8)],_0x5e005f[_0x157b1a(0x2e8)]=new _0x3f5bfe(),_0x5e005f[_0x157b1a(0x121)]=_0xe6685,_0x5e005f[_0x157b1a(0x238)]=_0x157b1a(0x655),_0x5e005f['remoteJid']=_0xf410ba;let _0xf8e37a=await j[_0x157b1a(0x35d)](_0x5e005f);return this['logger'][_0x157b1a(0x5e6)](this[_0x157b1a(0x40d)]+'\x20('+this['instance']['wuid']+_0x157b1a(0xb2)),_0xf8e37a?_0x5e005f:null;}catch(_0x482f4d){throw this[_0x157b1a(0x3f6)]['error'](this[_0x157b1a(0x40d)]+'\x20('+this['instance'][_0x157b1a(0x1c6)]+_0x157b1a(0x243)+_0x482f4d),new g(_0x482f4d[_0x157b1a(0x46a)]);}}async[a0_0x4b3f0f(0x34c)](_0x527e43){const _0x15a12f=a0_0x4b3f0f;try{return this[_0x15a12f(0x3f6)]['verbose'](this[_0x15a12f(0x40d)]+'\x20('+this['instance'][_0x15a12f(0x1c6)]+'):\x20Buscando\x20conversa...'),this[_0x15a12f(0x3f6)][_0x15a12f(0x5e6)](this[_0x15a12f(0x40d)]+'\x20('+this[_0x15a12f(0x62a)][_0x15a12f(0x1c6)]+_0x15a12f(0x362)+{'owner':this[_0x15a12f(0x62a)][_0x15a12f(0x1c6)],'_id':_0x527e43}),await j[_0x15a12f(0x134)]({'owner':this[_0x15a12f(0x62a)][_0x15a12f(0x1c6)],'_id':_0x527e43});}catch(_0x3e970d){throw this['logger'][_0x15a12f(0x622)](this[_0x15a12f(0x40d)]+'\x20('+this[_0x15a12f(0x62a)][_0x15a12f(0x1c6)]+_0x15a12f(0x383)+_0x3e970d),new g('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x3e970d[_0x15a12f(0x46a)]);}}async[a0_0x4b3f0f(0x26e)](_0x2bb16c,_0x89d0f9=0x64){const _0x2a6b6c=a0_0x4b3f0f;try{this[_0x2a6b6c(0x3f6)][_0x2a6b6c(0x5e6)](this[_0x2a6b6c(0x40d)]+'\x20('+this[_0x2a6b6c(0x62a)]['wuid']+_0x2a6b6c(0x180));let _0x5c970c={..._0x2bb16c,'owner':this[_0x2a6b6c(0x62a)][_0x2a6b6c(0x1c6)]};return this[_0x2a6b6c(0x3f6)][_0x2a6b6c(0x5e6)](_0x5c970c),await j[_0x2a6b6c(0x28c)](_0x5c970c)['limit'](_0x89d0f9)['sort']({'lastInteraction':-0x1});}catch(_0x59fba3){throw this[_0x2a6b6c(0x3f6)][_0x2a6b6c(0x622)](this[_0x2a6b6c(0x40d)]+'\x20('+this[_0x2a6b6c(0x62a)][_0x2a6b6c(0x1c6)]+_0x2a6b6c(0x5e0)+_0x59fba3),new g(_0x2a6b6c(0x1c9)+_0x59fba3['message']);}}async[a0_0x4b3f0f(0x212)](_0x439117){const _0x797612=a0_0x4b3f0f;try{return this[_0x797612(0x3f6)]['verbose'](this['instanceName']+'\x20('+this[_0x797612(0x62a)]['wuid']+_0x797612(0x323)),this[_0x797612(0x3f6)][_0x797612(0x5e6)](this['instanceName']+'\x20('+this['instance'][_0x797612(0x1c6)]+'):\x20Query\x20params:'+{'owner':this[_0x797612(0x62a)]['wuid'],'_id':_0x439117}),(await j[_0x797612(0x165)]({'owner':this[_0x797612(0x62a)]['wuid'],'_id':_0x439117}))['deletedCount']===0x0?{'message':_0x797612(0x5a3)}:{'message':_0x797612(0x629)};}catch(_0x28bcc0){throw this[_0x797612(0x3f6)][_0x797612(0x622)](this[_0x797612(0x40d)]+'\x20('+this[_0x797612(0x62a)][_0x797612(0x1c6)]+_0x797612(0x5b9)+_0x28bcc0),new g(_0x797612(0x562)+_0x28bcc0['message']);}}async[a0_0x4b3f0f(0x4f3)](_0x12876c){const _0x1a511d=a0_0x4b3f0f;try{let {_id:_0x52701e,chatLog:_0x5605ad,status:_0x2e458e}=_0x12876c;if(!_0x52701e)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x2de4f8={};if(_0x2e458e!==void 0x0&&(_0x2de4f8['status']=_0x2e458e),Object[_0x1a511d(0x1c8)](_0x2de4f8)['length']===0x0)return{'message':_0x1a511d(0x415)};let _0xbcbcad=this[_0x1a511d(0x62a)]['wuid'],_0x4362a0=await j[_0x1a511d(0x391)]({'_id':_0x52701e,'owner':_0xbcbcad},{'$set':_0x2de4f8},{'new':!0x0});return _0x4362a0||{'message':_0x1a511d(0x55f)};}catch(_0x53a78c){throw this['logger'][_0x1a511d(0x622)](this['instanceName']+'\x20('+this[_0x1a511d(0x62a)][_0x1a511d(0x1c6)]+_0x1a511d(0x4e6)+_0x53a78c),new g(_0x1a511d(0x3cc)+_0x53a78c[_0x1a511d(0x46a)]);}}async[a0_0x4b3f0f(0x5a9)](_0x750e51){const _0x4f2121=a0_0x4b3f0f;try{_0x750e51['_id']=this[_0x4f2121(0x2f0)](_0x750e51[_0x4f2121(0x2e8)]);let {_id:_0x24e13b,leadInfo:_0x4b5bb4}=_0x750e51;if(!_0x24e13b)throw new Error(_0x4f2121(0x507));let _0x4b1862=(_0xea68a8,_0x4ecefb,_0x34c893)=>{const _0x38d9f3=_0x4f2121;_0x34c893[_0x38d9f3(0x557)](_0x284e51=>{const _0x3100c6=_0x38d9f3;_0xea68a8[_0x284e51]!==void 0x0&&(_0x4ecefb[_0x3100c6(0x200)+_0x284e51]=_0xea68a8[_0x284e51]);});},_0x1b73de={};if(_0x4b1862(_0x4b5bb4,_0x1b73de,[_0x4f2121(0x1cc),_0x4f2121(0x67f),'email',_0x4f2121(0x5ab),_0x4f2121(0x238),_0x4f2121(0x329),_0x4f2121(0x525),_0x4f2121(0x487),_0x4f2121(0x1d5)]),Array[_0x4f2121(0x5ae)](_0x4b5bb4[_0x4f2121(0x494)])&&(_0x1b73de[_0x4f2121(0x422)]=_0x4b5bb4[_0x4f2121(0x494)]['map'](_0x49ef66=>({'_id':_0x49ef66[_0x4f2121(0x2e8)],'value':_0x49ef66[_0x4f2121(0x5b7)]}))),_0x750e51['leadInfo'][_0x4f2121(0x16a)]!==void 0x0&&(_0x1b73de[_0x4f2121(0x145)]=Number(_0x750e51[_0x4f2121(0x232)][_0x4f2121(0x16a)])),_0x750e51[_0x4f2121(0x467)]!==void 0x0&&(_0x1b73de['unreadcount']=Number(_0x750e51[_0x4f2121(0x467)])),Object[_0x4f2121(0x1c8)](_0x1b73de)[_0x4f2121(0x529)]===0x0)throw new Error(_0x4f2121(0x415));let _0x225e62=this[_0x4f2121(0x62a)][_0x4f2121(0x1c6)];if(!_0x225e62)throw new Error('Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.');if(!await this[_0x4f2121(0x1ea)][_0x4f2121(0x5db)][_0x4f2121(0x134)]({'where':{'_id':_0x750e51[_0x4f2121(0x2e8)],'owner':_0x225e62}})){let _0x521347=(await this[_0x4f2121(0x1c4)]({'numbers':[_0x750e51['_id']]}))[0x0];if(!_0x521347['exists']&&!(0x0,w[_0x4f2121(0x381)])(_0x521347[_0x4f2121(0x52d)])&&!_0x521347['jid'][_0x4f2121(0x531)](_0x4f2121(0xd3)))throw new g(_0x521347);_0x750e51[_0x4f2121(0x2e8)]=_0x521347[_0x4f2121(0x52d)];}let _0x1bed7a=await this[_0x4f2121(0x1ea)][_0x4f2121(0x5db)][_0x4f2121(0x4db)]({'where':{'_id':_0x750e51[_0x4f2121(0x2e8)],'owner':_0x225e62}},_0x1b73de);return _0x1bed7a&&B(this['instanceName'],_0x4f2121(0x417),{'chat':_0x1bed7a}),_0x1bed7a?(this[_0x4f2121(0x3f6)][_0x4f2121(0x5e6)](this[_0x4f2121(0x40d)]+'\x20('+this[_0x4f2121(0x62a)][_0x4f2121(0x1c6)]+_0x4f2121(0x39b)+_0x1bed7a),_0x1bed7a):{'message':_0x4f2121(0x4bd)};}catch(_0x320a79){throw this[_0x4f2121(0x3f6)][_0x4f2121(0x622)](this[_0x4f2121(0x40d)]+'\x20('+this['instance'][_0x4f2121(0x1c6)]+_0x4f2121(0xea)+_0x320a79),new g(_0x4f2121(0x1e6)+_0x320a79[_0x4f2121(0x46a)]);}}async['updateAgent'](_0x2c3ec0){const _0x2fc1b3=a0_0x4b3f0f;let _0x5b5ecd=this[_0x2fc1b3(0x62a)][_0x2fc1b3(0x1c6)];try{let _0x1b34ca=await ae[_0x2fc1b3(0x658)](_0x5b5ecd);_0x1b34ca||(_0x1b34ca=new ae({'_id':_0x5b5ecd}),await _0x1b34ca['save']());let _0x5debc3=_0x2c3ec0[_0x2fc1b3(0x2e8)]?_0x1b34ca[_0x2fc1b3(0x2df)]['findIndex'](_0x7ec706=>_0x7ec706[_0x2fc1b3(0x2e8)]===_0x2c3ec0['_id']):-0x1;if(_0x2c3ec0[_0x2fc1b3(0x527)]&&_0x5debc3>-0x1)_0x1b34ca[_0x2fc1b3(0x2df)][_0x2fc1b3(0x3a2)](_0x5debc3,0x1);else{if(_0x5debc3>-0x1){let _0x315ed1=_0x1b34ca[_0x2fc1b3(0x2df)][_0x5debc3];_0x2c3ec0['fone']&&(_0x315ed1[_0x2fc1b3(0x229)]=_0x2c3ec0['fone']),_0x2c3ec0[_0x2fc1b3(0x11c)]&&(_0x315ed1[_0x2fc1b3(0x11c)]=_0x2c3ec0[_0x2fc1b3(0x11c)]),_0x2c3ec0[_0x2fc1b3(0xf7)]&&(_0x315ed1[_0x2fc1b3(0xf7)]=_0x2c3ec0[_0x2fc1b3(0xf7)]),_0x2c3ec0[_0x2fc1b3(0x457)]&&(_0x315ed1[_0x2fc1b3(0x457)]=_0x2c3ec0[_0x2fc1b3(0x457)]);}else _0x1b34ca[_0x2fc1b3(0x2df)][_0x2fc1b3(0x346)]({'_id':_0x2c3ec0[_0x2fc1b3(0x2e8)]||new we[(_0x2fc1b3(0x4ea))][(_0x2fc1b3(0x40b))][(_0x2fc1b3(0x15f))]()[_0x2fc1b3(0x16e)](),'fone':_0x2c3ec0[_0x2fc1b3(0x229)],'name':_0x2c3ec0[_0x2fc1b3(0x11c)],'email':_0x2c3ec0[_0x2fc1b3(0xf7)],'role':_0x2c3ec0[_0x2fc1b3(0x457)]});}let _0x2920ee=await _0x1b34ca[_0x2fc1b3(0x3c9)]();return this[_0x2fc1b3(0x26b)]=_0x2920ee,this[_0x2fc1b3(0x3f6)][_0x2fc1b3(0x5e6)](this[_0x2fc1b3(0x40d)]+'\x20('+this[_0x2fc1b3(0x62a)][_0x2fc1b3(0x1c6)]+_0x2fc1b3(0x48c)),this[_0x2fc1b3(0x3f6)][_0x2fc1b3(0x5e6)](this[_0x2fc1b3(0x40d)]+'\x20('+this[_0x2fc1b3(0x62a)][_0x2fc1b3(0x1c6)]+'):\x20'+this['AutomateSystem']),_0x2920ee;}catch(_0x1cd89c){throw this['logger'][_0x2fc1b3(0x622)](this['instanceName']+'\x20('+this[_0x2fc1b3(0x62a)][_0x2fc1b3(0x1c6)]+_0x2fc1b3(0x582)+_0x1cd89c),new g(_0x2fc1b3(0x61f)+_0x1cd89c[_0x2fc1b3(0x46a)]);}}async[a0_0x4b3f0f(0x4da)](_0x5425d1){const _0x4952cd=a0_0x4b3f0f;let _0x2580cb=this[_0x4952cd(0x62a)][_0x4952cd(0x1c6)];try{let _0x379fb7=await ae[_0x4952cd(0x658)](_0x2580cb);_0x379fb7||(_0x379fb7=new ae({'_id':_0x2580cb}),await _0x379fb7[_0x4952cd(0x3c9)]());let _0x48698a=_0x5425d1[_0x4952cd(0x2e8)]?_0x379fb7[_0x4952cd(0x494)][_0x4952cd(0x48e)](_0x259008=>_0x259008[_0x4952cd(0x2e8)]===_0x5425d1[_0x4952cd(0x2e8)]):-0x1,_0x44ce0e=!0x1,_0x2d69bf=_0x379fb7['customFields'][_0x4952cd(0x1ff)](_0x3ee03f=>_0x3ee03f['order']===_0x5425d1[_0x4952cd(0x14e)]);if(_0x5425d1[_0x4952cd(0x527)]&&_0x48698a>-0x1)_0x379fb7[_0x4952cd(0x494)]['splice'](_0x48698a,0x1),_0x44ce0e=!0x0;else{if(_0x48698a>-0x1){if(_0x379fb7[_0x4952cd(0x494)][_0x4952cd(0x1ff)](_0x10f8b5=>_0x10f8b5['name']===_0x5425d1['name']&&_0x10f8b5[_0x4952cd(0x2e8)]!==_0x5425d1[_0x4952cd(0x2e8)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x4ab8cf=_0x379fb7[_0x4952cd(0x494)][_0x48698a];_0x5425d1[_0x4952cd(0x14e)]&&(_0x2d69bf||!Number[_0x4952cd(0x30e)](_0x5425d1[_0x4952cd(0x14e)]))&&(_0x4ab8cf[_0x4952cd(0x14e)]=_0x5425d1[_0x4952cd(0x14e)],_0x44ce0e=!0x0),_0x5425d1[_0x4952cd(0x11c)]&&(_0x4ab8cf['name']=_0x5425d1['name']);}else{if(_0x379fb7['customFields']['some'](_0x20d4e5=>_0x20d4e5[_0x4952cd(0x11c)]===_0x5425d1[_0x4952cd(0x11c)]&&_0x20d4e5[_0x4952cd(0x2e8)]!==_0x5425d1[_0x4952cd(0x2e8)]))throw new Error(_0x4952cd(0x100));_0x379fb7[_0x4952cd(0x494)][_0x4952cd(0x346)]({'_id':_0x5425d1[_0x4952cd(0x2e8)]||new we['default'][(_0x4952cd(0x40b))][(_0x4952cd(0x15f))]()[_0x4952cd(0x16e)](),'order':_0x5425d1['order'],'name':_0x5425d1[_0x4952cd(0x11c)]}),_0x44ce0e=!0x0;}}if(_0x44ce0e){_0x379fb7[_0x4952cd(0x494)][_0x4952cd(0x5f1)]((_0x4906cc,_0x4c5d08)=>_0x4906cc['order']>_0x4c5d08[_0x4952cd(0x14e)]?0x1:_0x4c5d08['order']>_0x4906cc[_0x4952cd(0x14e)]?-0x1:0x0);for(let _0x5d251a=0x0;_0x5d251a<_0x379fb7[_0x4952cd(0x494)][_0x4952cd(0x529)];_0x5d251a++)_0x379fb7[_0x4952cd(0x494)][_0x5d251a]['order']=_0x5d251a+0x1;}let _0x28b657=await _0x379fb7['save']();return this[_0x4952cd(0x26b)]=_0x28b657,this['logger']['verbose'](this[_0x4952cd(0x40d)]+'\x20('+this[_0x4952cd(0x62a)][_0x4952cd(0x1c6)]+_0x4952cd(0x168)),this[_0x4952cd(0x3f6)][_0x4952cd(0x5e6)](this[_0x4952cd(0x40d)]+'\x20('+this[_0x4952cd(0x62a)][_0x4952cd(0x1c6)]+_0x4952cd(0x39b)+this['AutomateSystem']),_0x28b657;}catch(_0x389cc3){throw this['logger'][_0x4952cd(0x622)](this[_0x4952cd(0x40d)]+'\x20('+this['instance'][_0x4952cd(0x1c6)]+_0x4952cd(0x539)+_0x389cc3),new g('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x389cc3['message']);}}async[a0_0x4b3f0f(0x2d8)](_0x12bd22){const _0x5f3ac2=a0_0x4b3f0f;let _0x12d5ad=this[_0x5f3ac2(0x62a)][_0x5f3ac2(0x1c6)];try{let _0x587cf6=await ae[_0x5f3ac2(0x658)](_0x12d5ad);_0x587cf6||(_0x587cf6=new ae({'_id':_0x12d5ad}),await _0x587cf6['save']()),_0x587cf6[_0x5f3ac2(0x20b)][_0x5f3ac2(0x500)]=_0x12bd22?.['enabled']!==void 0x0?_0x12bd22?.[_0x5f3ac2(0x500)]:_0x587cf6[_0x5f3ac2(0x20b)][_0x5f3ac2(0x500)],_0x587cf6[_0x5f3ac2(0x20b)][_0x5f3ac2(0x3f7)]=_0x12bd22?.['ignoreGroups']!==void 0x0?_0x12bd22?.[_0x5f3ac2(0x3f7)]:_0x587cf6[_0x5f3ac2(0x20b)][_0x5f3ac2(0x3f7)],_0x587cf6['flowConfig'][_0x5f3ac2(0x27b)]=_0x12bd22?.[_0x5f3ac2(0x27b)]??_0x587cf6[_0x5f3ac2(0x20b)]['prefixCommand'],_0x587cf6['flowConfig'][_0x5f3ac2(0x139)]=_0x12bd22?.[_0x5f3ac2(0x139)]??_0x587cf6[_0x5f3ac2(0x20b)][_0x5f3ac2(0x139)],_0x587cf6[_0x5f3ac2(0x20b)][_0x5f3ac2(0x585)]=_0x12bd22?.[_0x5f3ac2(0x585)]??_0x587cf6[_0x5f3ac2(0x20b)][_0x5f3ac2(0x585)];let _0xaed3c0=await _0x587cf6[_0x5f3ac2(0x3c9)]();return this[_0x5f3ac2(0x26b)]=_0xaed3c0,this['logger'][_0x5f3ac2(0x5e6)](this[_0x5f3ac2(0x40d)]+'\x20('+this[_0x5f3ac2(0x62a)][_0x5f3ac2(0x1c6)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x5f3ac2(0x3f6)][_0x5f3ac2(0x5e6)](this[_0x5f3ac2(0x40d)]+'\x20('+this[_0x5f3ac2(0x62a)]['wuid']+_0x5f3ac2(0x39b)+this[_0x5f3ac2(0x26b)]),_0xaed3c0;}catch(_0x3b8bb9){throw this[_0x5f3ac2(0x3f6)]['error'](this[_0x5f3ac2(0x40d)]+'\x20('+this[_0x5f3ac2(0x62a)][_0x5f3ac2(0x1c6)]+_0x5f3ac2(0x582)+_0x3b8bb9),new g(_0x5f3ac2(0x61f)+_0x3b8bb9[_0x5f3ac2(0x46a)]);}}async[a0_0x4b3f0f(0xcf)](){const _0x2bf3f7=a0_0x4b3f0f;let _0xfeca17=this['instance'][_0x2bf3f7(0x1c6)];try{let _0x52ef4c=await ae['findById'](_0xfeca17);return _0x52ef4c||(_0x52ef4c=new ae({'_id':_0xfeca17})),_0x52ef4c[_0x2bf3f7(0x20b)]=_0x52ef4c[_0x2bf3f7(0x20b)]||{},_0x52ef4c[_0x2bf3f7(0x20b)]['enabled']===void 0x0&&(_0x52ef4c[_0x2bf3f7(0x20b)]['enabled']=!0x1),_0x52ef4c['flowConfig'][_0x2bf3f7(0x3f7)]===void 0x0&&(_0x52ef4c[_0x2bf3f7(0x20b)][_0x2bf3f7(0x3f7)]=!0x0),_0x52ef4c[_0x2bf3f7(0x20b)][_0x2bf3f7(0x27b)]===void 0x0&&(_0x52ef4c[_0x2bf3f7(0x20b)]['prefixCommand']='!'),_0x52ef4c['flowConfig'][_0x2bf3f7(0x139)]===void 0x0&&(_0x52ef4c['flowConfig'][_0x2bf3f7(0x139)]=_0x2bf3f7(0x2ba)),_0x52ef4c[_0x2bf3f7(0x20b)][_0x2bf3f7(0x585)]===void 0x0&&(_0x52ef4c[_0x2bf3f7(0x20b)][_0x2bf3f7(0x585)]=0x14),await _0x52ef4c[_0x2bf3f7(0x3c9)](),this[_0x2bf3f7(0x26b)]=_0x52ef4c,this[_0x2bf3f7(0x3f6)][_0x2bf3f7(0x5e6)](this['instanceName']+'\x20('+this[_0x2bf3f7(0x62a)][_0x2bf3f7(0x1c6)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x2bf3f7(0x3f6)][_0x2bf3f7(0x5e6)](this[_0x2bf3f7(0x26b)]),_0x52ef4c;}catch(_0x53b6c2){throw this[_0x2bf3f7(0x3f6)]['error'](this[_0x2bf3f7(0x40d)]+'\x20('+this[_0x2bf3f7(0x62a)][_0x2bf3f7(0x1c6)]+_0x2bf3f7(0x3c5)+_0x53b6c2[_0x2bf3f7(0x46a)]),new g(_0x2bf3f7(0x3c3)+_0x53b6c2[_0x2bf3f7(0x46a)]);}}async[a0_0x4b3f0f(0x27c)](){const _0x2accdc=a0_0x4b3f0f;let _0x38716a=()=>{const _0x2791c3=a0_0x473d;this[_0x2791c3(0x3f6)][_0x2791c3(0x5e6)](this[_0x2791c3(0x40d)]+'\x20('+this[_0x2791c3(0x62a)][_0x2791c3(0x1c6)]+_0x2791c3(0x4e0)+this[_0x2791c3(0x657)]+_0x2791c3(0x210));},_0x5ac408=async()=>{const _0x4a5fe9=a0_0x473d;this['logger'][_0x4a5fe9(0x5e6)](this['instanceName']+'\x20('+this[_0x4a5fe9(0x62a)][_0x4a5fe9(0x1c6)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x3b4ecc=Date[_0x4a5fe9(0x18b)]()-0xc*0x3c*0x3c*0x3e8;return await L['find']({'owner':this['instance'][_0x4a5fe9(0x1c6)],'status':{'$in':[_0x4a5fe9(0x516),_0x4a5fe9(0x1ad)]},'$or':[{'when':{'$lte':Date[_0x4a5fe9(0x18b)](),'$gte':_0x3b4ecc}},{'when':0x0}]});},_0x3e7321=async _0x1493e1=>{const _0x5b3f94=a0_0x473d;for(let _0x35096e of _0x1493e1){if(!await L['findOneAndUpdate']({'_id':_0x35096e[_0x5b3f94(0x2e8)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x5b3f94(0x18b)]()-0x1770}}]},{'$set':{'startSend':Date[_0x5b3f94(0x18b)]()}}))return;if(!this['isConnected']){this['logger'][_0x5b3f94(0x5e6)](this[_0x5b3f94(0x40d)]+'\x20('+this['instance']['wuid']+_0x5b3f94(0x306));break;}(!_0x35096e[_0x5b3f94(0x3b3)]||_0x35096e[_0x5b3f94(0x3b3)][_0x5b3f94(0x529)]===0x0)&&(_0x35096e=await L[_0x5b3f94(0x111)](_0x35096e['_id'],{'$set':{'status':_0x5b3f94(0x1ad),'remoteJidsRemaining':[..._0x35096e[_0x5b3f94(0xda)]]}},{'new':!0x0}));for(let _0x2a949d of _0x35096e[_0x5b3f94(0x3b3)]){if(this[_0x5b3f94(0x611)]=Date[_0x5b3f94(0x18b)](),_0x35096e[_0x5b3f94(0x17b)][_0x5b3f94(0x1ff)](_0x505fb9=>_0x505fb9[_0x5b3f94(0x110)]===_0x2a949d)){this[_0x5b3f94(0x3f6)][_0x5b3f94(0x5e6)](this[_0x5b3f94(0x40d)]+'\x20('+this[_0x5b3f94(0x62a)][_0x5b3f94(0x1c6)]+_0x5b3f94(0x31b)+_0x2a949d+_0x5b3f94(0x50d));continue;}try{let _0x1b5186=await this[_0x5b3f94(0x392)](_0x2a949d,_0x35096e),_0x579883={'remoteJid':_0x2a949d,'error':_0x1b5186[_0x5b3f94(0x622)],'id':_0x1b5186['id']||null,'error_log':_0x1b5186['error_log']||null,'log_timestamp':Date['now']()};if((await L[_0x5b3f94(0x111)](_0x35096e['_id'],{'$push':{'messagesSend':_0x579883},'$pull':{'remoteJidsRemaining':_0x2a949d}},{'new':!0x0}))['status']===_0x5b3f94(0x2fb)){this[_0x5b3f94(0x3f6)][_0x5b3f94(0x5e6)](this['instanceName']+'\x20('+this[_0x5b3f94(0x62a)][_0x5b3f94(0x1c6)]+_0x5b3f94(0x138)+_0x35096e[_0x5b3f94(0x2e8)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}if(!this['isConnected']){this[_0x5b3f94(0x3f6)][_0x5b3f94(0x5e6)](this[_0x5b3f94(0x40d)]+'\x20('+this[_0x5b3f94(0x62a)]['wuid']+_0x5b3f94(0x3df));break;}if(!this[_0x5b3f94(0x657)]){this[_0x5b3f94(0x3f6)]['verbose'](this[_0x5b3f94(0x40d)]+'\x20('+this[_0x5b3f94(0x62a)][_0x5b3f94(0x1c6)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x35096e[_0x5b3f94(0x2e8)]+_0x5b3f94(0x653));break;}let _0x4bd69c=this[_0x5b3f94(0x1a9)](_0x35096e['delaySecMin'],_0x35096e['delaySecMax']);await this[_0x5b3f94(0x5ba)](_0x4bd69c);}catch(_0x4e79e4){this[_0x5b3f94(0x3f6)][_0x5b3f94(0x622)](this[_0x5b3f94(0x40d)]+'\x20('+this[_0x5b3f94(0x62a)][_0x5b3f94(0x1c6)]+_0x5b3f94(0x15b)+_0x2a949d+':\x20'+_0x4e79e4[_0x5b3f94(0x46a)]);let _0x54cb11={'remoteJid':_0x2a949d,'status':_0x5b3f94(0x622),'timestamp':Date[_0x5b3f94(0x18b)](),'error':_0x4e79e4[_0x5b3f94(0x46a)]};await L['findByIdAndUpdate'](_0x35096e[_0x5b3f94(0x2e8)],{'$push':{'messagesSend':_0x54cb11},'$pull':{'remoteJidsRemaining':_0x2a949d}},{'new':!0x0});}}let _0x285a0e=await L['findById'](_0x35096e[_0x5b3f94(0x2e8)]);_0x285a0e[_0x5b3f94(0x3b3)][_0x5b3f94(0x529)]===0x0&&_0x285a0e[_0x5b3f94(0x238)]!=='stopped'&&await L[_0x5b3f94(0x111)](_0x35096e[_0x5b3f94(0x2e8)],{'$set':{'status':'done'}},{'new':!0x0}),await new Promise(_0xae9b2c=>setTimeout(_0xae9b2c,0x1388));}},_0x5f4459=async()=>{const _0x46a59b=a0_0x473d;let _0x2a6c54=await L[_0x46a59b(0x134)]({'owner':this['instance'][_0x46a59b(0x1c6)],'status':_0x46a59b(0x516),'when':{'$gt':Date[_0x46a59b(0x18b)]()}})['sort']({'when':0x1});_0x2a6c54&&_0x2a6c54['when']-Date[_0x46a59b(0x18b)]()<=0x5265c00?this[_0x46a59b(0x259)]=_0x2a6c54[_0x46a59b(0x149)]-Date['now']():this['delayMessage']=(0x3c+Math[_0x46a59b(0x468)](Math[_0x46a59b(0x21e)]()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0x46a59b(0x20c)](this[_0x46a59b(0x259)],0x7d0);let _0x462099=Math[_0x46a59b(0x3b5)](this[_0x46a59b(0x259)]/0xea60);if(_0x2a6c54){let _0x18cee6=new Date(_0x2a6c54['when'])['toLocaleString']();this[_0x46a59b(0x3f6)]['verbose'](this['instanceName']+'\x20('+this[_0x46a59b(0x62a)][_0x46a59b(0x1c6)]+_0x46a59b(0x652)+_0x18cee6+_0x46a59b(0x187)+_0x462099+_0x46a59b(0x5d3));}else this['logger'][_0x46a59b(0x5e6)](this['instanceName']+'\x20('+this[_0x46a59b(0x62a)][_0x46a59b(0x1c6)]+_0x46a59b(0xcc)+_0x462099+'\x20minutos');setTimeout(()=>this[_0x46a59b(0x27c)](),this[_0x46a59b(0x259)]);};if(this[_0x2accdc(0x657)]&&Date[_0x2accdc(0x18b)]()-this['lastSend']<0x1d4c0){_0x38716a();return;}try{let _0x5c16cb=await _0x5ac408();_0x5c16cb['length']===0x0?this[_0x2accdc(0x3f6)][_0x2accdc(0x5e6)](this[_0x2accdc(0x40d)]+'\x20('+this[_0x2accdc(0x62a)]['wuid']+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this['processingScheduleMessageId']=_0x5c16cb[0x0][_0x2accdc(0x2e8)],await _0x3e7321(_0x5c16cb)),await _0x5f4459(),this[_0x2accdc(0x657)]=null;}catch(_0x55d347){this[_0x2accdc(0x3f6)][_0x2accdc(0x622)](_0x2accdc(0x4b2)+_0x55d347[_0x2accdc(0x46a)]);}}[a0_0x4b3f0f(0x1a9)](_0x3ce96a,_0x563ab5){const _0x1fdeda=a0_0x4b3f0f;return _0x3ce96a=Math[_0x1fdeda(0x20c)](0.5,_0x3ce96a),_0x563ab5=Math[_0x1fdeda(0x20c)](0x3,_0x563ab5),Math[_0x1fdeda(0x468)](Math[_0x1fdeda(0x21e)]()*(_0x563ab5-_0x3ce96a+0x1)+_0x3ce96a)*0x3e8;}[a0_0x4b3f0f(0x5ba)](_0x4ff2dc){return new Promise(_0x258cd8=>setTimeout(_0x258cd8,_0x4ff2dc));}async[a0_0x4b3f0f(0x450)](_0x62a52c){const _0x45aae3=a0_0x4b3f0f;if(!this[_0x45aae3(0x26b)]&&(await this[_0x45aae3(0xcf)](),!this['AutomateSystem']))return null;_0x62a52c=this[_0x45aae3(0x2f0)](_0x62a52c);let _0x14fbbb=await this[_0x45aae3(0x1ea)][_0x45aae3(0x5db)][_0x45aae3(0x134)]({'where':{'_id':_0x62a52c,'owner':this['instance'][_0x45aae3(0x1c6)]}}),_0x862ece={};if(_0x14fbbb&&_0x14fbbb['leadInfo']){let _0x51daae=_0x14fbbb[_0x45aae3(0x232)];typeof _0x51daae[_0x45aae3(0x1cc)]=='string'&&(_0x862ece[_0x45aae3(0x1cc)]=_0x51daae[_0x45aae3(0x1cc)]),typeof _0x51daae[_0x45aae3(0x67f)]==_0x45aae3(0x4b9)&&(_0x862ece[_0x45aae3(0x67f)]=_0x51daae[_0x45aae3(0x67f)]),typeof _0x51daae[_0x45aae3(0xf7)]=='string'&&(_0x862ece['email']=_0x51daae['email']),typeof _0x51daae['cpf']==_0x45aae3(0x4b9)&&(_0x862ece[_0x45aae3(0x5ab)]=_0x51daae[_0x45aae3(0x5ab)]),typeof _0x51daae[_0x45aae3(0x238)]=='string'&&(_0x862ece[_0x45aae3(0x238)]=_0x51daae[_0x45aae3(0x238)]),typeof _0x51daae[_0x45aae3(0x329)]=='string'&&(_0x862ece['notas']=_0x51daae[_0x45aae3(0x329)]),typeof _0x51daae['responsavelid']==_0x45aae3(0x4b9)&&(_0x862ece['responsavelid']=_0x51daae['responsavelid']),Array[_0x45aae3(0x5ae)](_0x51daae[_0x45aae3(0x525)])&&(_0x862ece[_0x45aae3(0x525)]=_0x51daae[_0x45aae3(0x525)][_0x45aae3(0x488)](',\x20'));}return _0x14fbbb&&_0x14fbbb[_0x45aae3(0x232)]&&_0x14fbbb[_0x45aae3(0x232)]['customFields']&&_0x14fbbb[_0x45aae3(0x232)][_0x45aae3(0x494)][_0x45aae3(0x557)](_0x5239f1=>{const _0x3082b2=_0x45aae3;let _0x39710b=this[_0x3082b2(0x26b)]?.[_0x3082b2(0x494)][_0x3082b2(0x28c)](_0x189c98=>_0x189c98[_0x3082b2(0x2e8)]===_0x5239f1[_0x3082b2(0x2e8)]);_0x39710b&&(_0x862ece[_0x39710b[_0x3082b2(0x11c)]]=_0x5239f1[_0x3082b2(0x5b7)]);}),_0x862ece;}async['replaceVariablesChat'](_0x373fb2,_0x2f8aee){const _0xfe801f=a0_0x4b3f0f;let _0x11e4bc=await this[_0xfe801f(0x450)](_0x2f8aee);return this[_0xfe801f(0x5a5)](_0x373fb2,_0x11e4bc);}async[a0_0x4b3f0f(0x1fe)](_0x531d5c){const _0xe5cc62=a0_0x4b3f0f;try{if(this[_0xe5cc62(0x3f6)]['verbose'](this[_0xe5cc62(0x40d)]+'\x20('+this[_0xe5cc62(0x62a)][_0xe5cc62(0x1c6)]+_0xe5cc62(0x2d9)),_0x531d5c[_0xe5cc62(0x527)]&&_0x531d5c[_0xe5cc62(0x2e8)]){if(this['processingScheduleMessageId']===_0x531d5c[_0xe5cc62(0x2e8)][_0xe5cc62(0x16e)]())throw new Error(_0xe5cc62(0x505));let _0x15728c=await L[_0xe5cc62(0x405)](_0x531d5c['_id']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x15728c;}let _0x226bfd;if(_0x531d5c[_0xe5cc62(0x2e8)]&&(_0x226bfd=await L[_0xe5cc62(0x134)]({'owner':this[_0xe5cc62(0x62a)]['wuid'],'_id':_0x531d5c[_0xe5cc62(0x2e8)]})),_0x226bfd){let _0xcf57c2=_0x531d5c;this[_0xe5cc62(0x657)]===_0x226bfd[_0xe5cc62(0x2e8)][_0xe5cc62(0x16e)]()&&(_0xcf57c2={'status':_0x531d5c[_0xe5cc62(0x238)],'_id':_0x531d5c[_0xe5cc62(0x2e8)]});let _0x388c3f=await L['findByIdAndUpdate'](_0x226bfd['_id'],{'$set':_0xcf57c2},{'new':!0x0});return setTimeout(()=>this[_0xe5cc62(0x27c)](),0x7d0),_0x388c3f;}else{_0x531d5c[_0xe5cc62(0x53a)]=this[_0xe5cc62(0x62a)][_0xe5cc62(0x1c6)];let _0x554534=await new L(_0x531d5c)['save']();return setTimeout(()=>this[_0xe5cc62(0x27c)](),0x7d0),_0x554534;}}catch(_0x1e2522){throw this['logger'][_0xe5cc62(0x622)](this[_0xe5cc62(0x40d)]+'\x20('+this[_0xe5cc62(0x62a)][_0xe5cc62(0x1c6)]+_0xe5cc62(0x463)+_0x1e2522),new g(_0xe5cc62(0x4fc)+_0x1e2522[_0xe5cc62(0x46a)]);}}async['getScheduleMessage'](){const _0xd3ac06=a0_0x4b3f0f;try{return await L[_0xd3ac06(0x28c)]({'owner':this[_0xd3ac06(0x62a)][_0xd3ac06(0x1c6)]})[_0xd3ac06(0x5f1)]({'when':0x1});}catch(_0x258ed0){throw this[_0xd3ac06(0x3f6)]['error'](this[_0xd3ac06(0x40d)]+'\x20('+this[_0xd3ac06(0x62a)][_0xd3ac06(0x1c6)]+_0xd3ac06(0x5d4)+_0x258ed0),new g(_0xd3ac06(0x4fc)+_0x258ed0[_0xd3ac06(0x46a)]);}}async[a0_0x4b3f0f(0x5a8)](){const _0x49e295=a0_0x4b3f0f;try{return await L[_0x49e295(0x66f)]({'owner':this[_0x49e295(0x62a)]['wuid'],'status':_0x49e295(0x54e)}),this[_0x49e295(0x3f6)][_0x49e295(0x5e6)](this[_0x49e295(0x40d)]+'\x20('+this['instance']['wuid']+_0x49e295(0x4bf)),this['getScheduleMessage']();}catch(_0xcc4478){throw this['logger']['error'](this[_0x49e295(0x40d)]+'\x20('+this[_0x49e295(0x62a)][_0x49e295(0x1c6)]+_0x49e295(0x412)+_0xcc4478),new g(_0x49e295(0x4fc)+_0xcc4478['message']);}}async['SendScheduleMessage'](_0x66d82,_0x3b161b){const _0xd057b1=a0_0x4b3f0f;try{switch(_0x3b161b[_0xd057b1(0x533)]){case'text':return await this[_0xd057b1(0x3b6)](_0x3b161b,_0x66d82);case _0xd057b1(0x3e9):return await this['scheduleSendMedia'](_0x3b161b,_0x66d82);case _0xd057b1(0x642):return await this[_0xd057b1(0x43e)](_0x3b161b,_0x66d82);default:return this['logger'][_0xd057b1(0x622)](this[_0xd057b1(0x40d)]+'\x20('+this['instance'][_0xd057b1(0x1c6)]+_0xd057b1(0x57e)+_0x3b161b[_0xd057b1(0x533)]),{'status':_0xd057b1(0x622),'detail':_0xd057b1(0x166)};}}catch(_0x3d2b72){return this['logger'][_0xd057b1(0x622)](this[_0xd057b1(0x40d)]+'\x20('+this[_0xd057b1(0x62a)][_0xd057b1(0x1c6)]+_0xd057b1(0x51e)+_0x3d2b72),{'status':_0xd057b1(0x622),'detail':_0x3d2b72[_0xd057b1(0x46a)]};}}[a0_0x4b3f0f(0x440)](_0x1849af){const _0x1f8623=a0_0x4b3f0f;let _0x100682=_0x1849af[_0x1f8623(0x318)]('|'),_0x26c794=Math[_0x1f8623(0x468)](Math['random']()*_0x100682[_0x1f8623(0x529)]);return _0x100682[_0x26c794][_0x1f8623(0x322)]();}async[a0_0x4b3f0f(0x3b6)](_0x396f24,_0x4243bf){const _0x2ac816=a0_0x4b3f0f;if(this['logger'][_0x2ac816(0x5e6)](this['instanceName']+'\x20('+this['instance'][_0x2ac816(0x1c6)]+_0x2ac816(0x3a5)),!_0x396f24[_0x2ac816(0x46a)][_0x2ac816(0x506)]||_0x396f24[_0x2ac816(0x46a)][_0x2ac816(0x506)][_0x2ac816(0x529)]===0x0)return{'error':!0x0,'error_log':_0x2ac816(0x21f)};let _0x4c1971=this['getRandomText'](_0x396f24['message'][_0x2ac816(0x506)]),_0x2fb466=await this[_0x2ac816(0x1ae)](_0x4c1971,_0x4243bf),_0x46c090={'number':_0x4243bf,'options':{'delay':_0x396f24[_0x2ac816(0x46a)][_0x2ac816(0x3a6)]},'textMessage':{'text':_0x2fb466}},_0x478365=null;try{let _0x276549=await this[_0x2ac816(0x17e)](_0x46c090);if(_0x276549&&_0x276549[_0x2ac816(0x238)])return{'error':!0x1,'id':_0x276549[_0x2ac816(0x268)]['id']};_0x478365=JSON[_0x2ac816(0x3c6)](_0x276549),this['logger'][_0x2ac816(0x5e6)](this[_0x2ac816(0x40d)]+'\x20('+this['instance'][_0x2ac816(0x1c6)]+_0x2ac816(0x39b)+_0x478365);}catch(_0xee4ebf){this[_0x2ac816(0x3f6)]['error'](this[_0x2ac816(0x40d)]+'\x20('+this['instance'][_0x2ac816(0x1c6)]+_0x2ac816(0x114)+_0xee4ebf),_0x478365=_0xee4ebf[_0x2ac816(0x46a)];}if(_0x478365)return{'error':!0x0,'error_log':(typeof _0x478365==_0x2ac816(0x64a)?JSON[_0x2ac816(0x3c6)](_0x478365,null,0x2):_0x478365)[_0x2ac816(0x2f7)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x4b3f0f(0x601)](_0x57f64f,_0x247bd7){const _0x521a13=a0_0x4b3f0f;this['logger']['verbose'](this[_0x521a13(0x40d)]+'\x20('+this[_0x521a13(0x62a)][_0x521a13(0x1c6)]+'):\x20Enviando\x20mídia');let _0x247ce5;if(_0x57f64f[_0x521a13(0x46a)][_0x521a13(0x506)]&&_0x57f64f[_0x521a13(0x46a)][_0x521a13(0x506)]['length']>0x0){let _0x2aae81=this[_0x521a13(0x440)](_0x57f64f[_0x521a13(0x46a)][_0x521a13(0x506)]);_0x247ce5=await this[_0x521a13(0x1ae)](_0x2aae81,_0x247bd7);}let _0x31dc0b={'number':_0x247bd7,'options':{'delay':_0x57f64f[_0x521a13(0x46a)]['delay']},'mediaMessage':{'mediatype':_0x57f64f[_0x521a13(0x46a)][_0x521a13(0x242)],'caption':_0x247ce5,'media':_0x57f64f[_0x521a13(0x46a)]['urlOrBase64']}},_0x22415d=null;try{let _0x162df8=await this[_0x521a13(0x514)](_0x31dc0b);if(_0x162df8&&_0x162df8[_0x521a13(0x238)])return{'error':!0x1,'id':_0x162df8['key']['id']};_0x22415d=JSON[_0x521a13(0x3c6)](_0x162df8),this[_0x521a13(0x3f6)][_0x521a13(0x5e6)](this['instanceName']+'\x20('+this[_0x521a13(0x62a)][_0x521a13(0x1c6)]+_0x521a13(0x39b)+_0x22415d);}catch(_0x99d2aa){this[_0x521a13(0x3f6)][_0x521a13(0x622)](this[_0x521a13(0x40d)]+'\x20('+this[_0x521a13(0x62a)][_0x521a13(0x1c6)]+_0x521a13(0xa9)+_0x99d2aa[_0x521a13(0x46a)]),_0x22415d=_0x99d2aa[_0x521a13(0x46a)];}if(_0x22415d)return{'error':!0x0,'error_log':(typeof _0x22415d==_0x521a13(0x64a)?JSON[_0x521a13(0x3c6)](_0x22415d,null,0x2):_0x22415d)[_0x521a13(0x2f7)](/[\[\]{}\n]/g,'\x20')[_0x521a13(0x2f7)](/  +/g,'\x20')};}async[a0_0x4b3f0f(0x43e)](_0x3367e0,_0x17449d){const _0x4c0fff=a0_0x4b3f0f;this[_0x4c0fff(0x3f6)]['verbose'](this[_0x4c0fff(0x40d)]+'\x20('+this[_0x4c0fff(0x62a)][_0x4c0fff(0x1c6)]+_0x4c0fff(0x2e7));let _0x544d23={'number':_0x17449d,'options':{'delay':_0x3367e0[_0x4c0fff(0x46a)][_0x4c0fff(0x3a6)]},'audioMessage':{'audio':_0x3367e0[_0x4c0fff(0x46a)][_0x4c0fff(0x5f3)]}},_0x4d1719=null;try{let _0x137546=await this[_0x4c0fff(0x41c)](_0x544d23);if(_0x137546&&_0x137546[_0x4c0fff(0x238)])return{'error':!0x1,'id':_0x137546[_0x4c0fff(0x268)]['id']};_0x4d1719=JSON[_0x4c0fff(0x3c6)](_0x137546),this[_0x4c0fff(0x3f6)][_0x4c0fff(0x5e6)](this[_0x4c0fff(0x40d)]+'\x20('+this['instance'][_0x4c0fff(0x1c6)]+_0x4c0fff(0x39b)+_0x4d1719);}catch(_0x175720){this['logger'][_0x4c0fff(0x622)](this[_0x4c0fff(0x40d)]+'\x20('+this[_0x4c0fff(0x62a)]['wuid']+_0x4c0fff(0x314)+_0x175720),_0x4d1719=_0x175720[_0x4c0fff(0x46a)];}if(_0x4d1719)return{'error':!0x0,'error_log':(typeof _0x4d1719==_0x4c0fff(0x64a)?JSON['stringify'](_0x4d1719,null,0x2):_0x4d1719)[_0x4c0fff(0x2f7)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},be=require(a0_0x4b3f0f(0x19d)),_t=class c{constructor(_0x1b334a,_0x4c70dd,_0x2a8bfe){const _0x533dfd=a0_0x4b3f0f;this[_0x533dfd(0x319)]=_0x1b334a,this[_0x533dfd(0x32b)]=_0x4c70dd,this[_0x533dfd(0x1ea)]=_0x2a8bfe,this['db']={},this[_0x533dfd(0x24e)]={},this[_0x533dfd(0x3f6)]=new N(c[_0x533dfd(0x11c)]),this[_0x533dfd(0x2d0)]={},(this[_0x533dfd(0x64f)](),this[_0x533dfd(0x174)](),this[_0x533dfd(0x17a)](),Object[_0x533dfd(0x3dd)](this['db'],_0x4c70dd[_0x533dfd(0x2a0)](_0x533dfd(0x162))),Object['assign'](this[_0x533dfd(0x24e)],_0x4c70dd[_0x533dfd(0x2a0)](_0x533dfd(0xff))),this[_0x533dfd(0x34e)]=this['db'][_0x533dfd(0x4b6)]?this[_0x533dfd(0x1ea)][_0x533dfd(0x534)]?.['db'](this['db'][_0x533dfd(0x244)]['DB_PREFIX_NAME']+_0x533dfd(0x287)):void 0x0,this['redisCache']=this[_0x533dfd(0x24e)][_0x533dfd(0x4b6)]?new fe(this[_0x533dfd(0x24e)]):void 0x0);}[a0_0x4b3f0f(0x548)](_0x5ed64c){const _0xfee72=a0_0x4b3f0f;let _0x21ac20=this['configService'][_0xfee72(0x2a0)](_0xfee72(0x132));typeof _0x21ac20==_0xfee72(0x465)&&_0x21ac20>0x0&&setTimeout(()=>{const _0x5c3433=_0xfee72;this['waInstances'][_0x5ed64c]?.[_0x5c3433(0x231)]?.[_0x5c3433(0xc7)]!==_0x5c3433(0x655)&&delete this[_0x5c3433(0x2d0)][_0x5ed64c];},0x3e8*0x3c*_0x21ac20);}async['instanceInfo'](_0xc466e3){const _0x473119=a0_0x4b3f0f;if(_0xc466e3&&!this[_0x473119(0x2d0)][_0xc466e3])throw new x(_0x473119(0x495)+_0xc466e3+_0x473119(0x2b9));let _0x130ee6=[];for await(let [_0x429045,_0x525425]of Object[_0x473119(0x5ee)](this[_0x473119(0x2d0)]))if(_0x525425&&_0x525425[_0x473119(0x231)][_0x473119(0xc7)]===_0x473119(0x655)){let _0x249e08=await this[_0x473119(0x1ea)][_0x473119(0x53d)][_0x473119(0x28c)](_0x429045);_0x130ee6[_0x473119(0x346)]({'instance':{'instanceName':_0x429045,'apikey':_0x249e08[_0x473119(0x13e)],'owner':_0x525425[_0x473119(0x1c6)],'profileName':await _0x525425[_0x473119(0x355)]()||'not\x20loaded','profilePictureUrl':_0x525425[_0x473119(0x2b4)]}});}return _0x130ee6['find'](_0xfdfa35=>_0xfdfa35['instance']['instanceName']===_0xc466e3)??_0x130ee6;}[a0_0x4b3f0f(0x17a)](){setInterval(async()=>{const _0x162b9c=a0_0x473d;if(this['db'][_0x162b9c(0x4b6)])(await this['dbInstance'][_0x162b9c(0x526)]())[_0x162b9c(0x557)](async _0x766621=>{const _0x450833=_0x162b9c;let _0x560724=_0x766621[_0x450833(0x661)]['replace'](/^[\w-]+./,'');await this[_0x450833(0x34e)]['collection'](_0x560724)[_0x450833(0x66f)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x89bfe6=(0x0,te['opendirSync'])(V,{'encoding':_0x162b9c(0x50f)});for await(let _0x5b823c of _0x89bfe6)_0x5b823c[_0x162b9c(0x5ea)]()&&(0x0,te[_0x162b9c(0x341)])((0x0,be['join'])(V,_0x5b823c[_0x162b9c(0x11c)]),{'encoding':'utf-8'})[_0x162b9c(0x557)](async _0x4d2ec8=>{const _0xe5dc01=_0x162b9c;(_0x4d2ec8[_0xe5dc01(0x5fa)](/^app.state.*/)||_0x4d2ec8[_0xe5dc01(0x5fa)](/^session-.*/))&&(0x0,te['rmSync'])((0x0,be['join'])(V,_0x5b823c[_0xe5dc01(0x11c)],_0x4d2ec8),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x4b3f0f(0x199)](_0x9d691d){const _0x5e4234=a0_0x4b3f0f;this['db'][_0x5e4234(0x4b6)]&&(await this[_0x5e4234(0x1ea)][_0x5e4234(0x534)]['connect'](),(await this['dbInstance'][_0x5e4234(0x526)]())[_0x5e4234(0x529)]>0x0&&await this[_0x5e4234(0x34e)][_0x5e4234(0x2e5)](_0x9d691d)),this[_0x5e4234(0x24e)][_0x5e4234(0x4b6)]&&(this[_0x5e4234(0x350)][_0x5e4234(0x3e7)]=_0x9d691d,await this['redisCache'][_0x5e4234(0xb3)]()),!this['db'][_0x5e4234(0x4b6)]&&!this[_0x5e4234(0x24e)][_0x5e4234(0x4b6)]&&(0x0,te['rmSync'])((0x0,be[_0x5e4234(0x488)])(V,_0x9d691d),{'recursive':!0x0,'force':!0x0});}async[a0_0x4b3f0f(0x555)](){const _0x5913f7=a0_0x4b3f0f;let _0x5b24ba=async _0x25175d=>{const _0x4432b2=a0_0x473d;let _0x4f527b=new ye(this[_0x4432b2(0x32b)],this['eventEmitter'],this[_0x4432b2(0x1ea)]);_0x4f527b[_0x4432b2(0x40d)]=_0x25175d,await _0x4f527b['connectToWhatsapp'](),this[_0x4432b2(0x2d0)][_0x25175d]=_0x4f527b;};try{if(this[_0x5913f7(0x24e)]['ENABLED']){let _0x19f9ba=await this[_0x5913f7(0x350)][_0x5913f7(0x262)]();_0x19f9ba?.[_0x5913f7(0x529)]>0x0&&_0x19f9ba[_0x5913f7(0x557)](async _0x212e60=>await _0x5b24ba(_0x212e60[_0x5913f7(0x318)](':')[0x1]));}if(this['db'][_0x5913f7(0x4b6)]){await this[_0x5913f7(0x1ea)][_0x5913f7(0x534)][_0x5913f7(0x5c2)]();let _0x168e25=await this[_0x5913f7(0x34e)][_0x5913f7(0x526)]();_0x168e25[_0x5913f7(0x529)]>0x0&&_0x168e25[_0x5913f7(0x557)](async _0x2acc1d=>await _0x5b24ba(_0x2acc1d[_0x5913f7(0x661)][_0x5913f7(0x2f7)](/^[\w-]+\./,'')));return;}let _0x1ad758=(0x0,te[_0x5913f7(0x221)])(V,{'encoding':_0x5913f7(0x50f)});for await(let _0x19dc84 of _0x1ad758)if(_0x19dc84[_0x5913f7(0x5ea)]()){if((0x0,te[_0x5913f7(0x341)])((0x0,be[_0x5913f7(0x488)])(V,_0x19dc84[_0x5913f7(0x11c)]),{'encoding':_0x5913f7(0x50f)})[_0x5913f7(0x529)]===0x0){(0x0,te['rmSync'])((0x0,be[_0x5913f7(0x488)])(V,_0x19dc84[_0x5913f7(0x11c)]),{'recursive':!0x0,'force':!0x0});break;}await _0x5b24ba(_0x19dc84[_0x5913f7(0x11c)]);}}catch(_0x442fbb){this[_0x5913f7(0x3f6)][_0x5913f7(0x622)](_0x442fbb);}}['removeInstance'](){const _0x5e768f=a0_0x4b3f0f;this[_0x5e768f(0x319)]['on'](_0x5e768f(0x62b),async _0x1ab145=>{const _0x2aaca5=_0x5e768f;try{this[_0x2aaca5(0x2d0)][_0x1ab145]=void 0x0;}catch{}try{this[_0x2aaca5(0x199)](_0x1ab145);}finally{this[_0x2aaca5(0x3f6)][_0x2aaca5(0x1e8)](_0x2aaca5(0x495)+_0x1ab145+_0x2aaca5(0x61e));}});}[a0_0x4b3f0f(0x174)](){const _0x3fdcd6=a0_0x4b3f0f;this[_0x3fdcd6(0x319)]['on'](_0x3fdcd6(0x334),async _0x1caa8a=>{const _0x5e55ca=_0x3fdcd6;try{this[_0x5e55ca(0x2d0)][_0x1caa8a]=void 0x0,this[_0x5e55ca(0x199)](_0x1caa8a);}catch(_0x28390a){this[_0x5e55ca(0x3f6)]['error']({'localError':_0x5e55ca(0x174),'warn':'Error\x20deleting\x20instance\x20from\x20memory.','error':_0x28390a});}finally{this[_0x5e55ca(0x3f6)]['warn'](_0x5e55ca(0x495)+_0x1caa8a+_0x5e55ca(0x5da));}});}},Ot=class extends W{constructor(_0x3bbd20){const _0x22ee2c=a0_0x4b3f0f;super(_0x3bbd20),this[_0x22ee2c(0x32b)]=_0x3bbd20;}[a0_0x4b3f0f(0x51f)](_0x16b637){return xs(_0x16b637);}async[a0_0x4b3f0f(0x528)](_0x1a8ad7){const _0x2d8b5b=a0_0x4b3f0f;if(_0x1a8ad7[_0x2d8b5b(0x529)]!==0x0)try{return{'insertCount':(await this[_0x2d8b5b(0x51f)](_0x1a8ad7[0x0][_0x2d8b5b(0x53a)])[_0x2d8b5b(0x5fb)]([..._0x1a8ad7]))[_0x2d8b5b(0x529)]};}catch(_0x5f57f5){return _0x5f57f5;}}async['find'](_0x441064){const _0x86bd8f=a0_0x4b3f0f;try{return await this[_0x86bd8f(0x51f)](_0x441064['where'][_0x86bd8f(0x53a)])[_0x86bd8f(0x28c)]({..._0x441064['where']})['sort']({'lastmsg':-0x1})[_0x86bd8f(0x183)](_0x441064?.['limit']??0x0)[_0x86bd8f(0x1bc)]();}catch{return[];}}async[a0_0x4b3f0f(0x527)](_0x2f8240){const _0x39befd=a0_0x4b3f0f;try{return{'deletedCount':(await this[_0x39befd(0x51f)](_0x2f8240[_0x39befd(0xa7)][_0x39befd(0x53a)])[_0x39befd(0x66f)]({..._0x2f8240[_0x39befd(0xa7)]}))['deletedCount']};}catch(_0x7e7b1d){return{'error':_0x7e7b1d?.[_0x39befd(0x16e)]()};}}async[a0_0x4b3f0f(0x486)](_0x42281e){const _0xf05c55=a0_0x4b3f0f;try{return await this[_0xf05c55(0x51f)](_0x42281e[_0xf05c55(0xa7)][_0xf05c55(0x53a)])[_0xf05c55(0x66f)]({..._0x42281e['where']}),[];}catch(_0x1f32f2){return{'error':_0x1f32f2?.[_0xf05c55(0x16e)]()};}}async[a0_0x4b3f0f(0x134)](_0x5d6c28){const _0x4d0c61=a0_0x4b3f0f;try{return await this['getChatModelForOwner'](_0x5d6c28[_0x4d0c61(0xa7)]['owner'])[_0x4d0c61(0x134)]({..._0x5d6c28[_0x4d0c61(0xa7)]})[_0x4d0c61(0x1bc)]();}catch{return null;}}async[a0_0x4b3f0f(0x4db)](_0x39b3e9,_0x1eaebd,_0x3654ed){const _0x2163b0=a0_0x4b3f0f;try{let _0x4dd897={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3654ed};return await this[_0x2163b0(0x51f)](_0x39b3e9[_0x2163b0(0xa7)]['owner'])['findOneAndUpdate']({..._0x39b3e9[_0x2163b0(0xa7)]},{'$set':_0x1eaebd},_0x4dd897);}catch(_0xe035f6){return console['error'](_0xe035f6),null;}}async['updateMany'](_0x3f85ab){const _0x55a7d8=a0_0x4b3f0f;try{let _0x67eedd=this[_0x55a7d8(0x51f)](_0x3f85ab[0x0][_0x55a7d8(0x59b)]['where'][_0x55a7d8(0x53a)]),_0x329c01=_0x3f85ab[_0x55a7d8(0x53c)](_0x58c929=>({'updateOne':{'filter':{..._0x58c929['query'][_0x55a7d8(0xa7)]},'update':{'$set':_0x58c929[_0x55a7d8(0x3f0)]}}}));return(await _0x67eedd[_0x55a7d8(0x2c9)](_0x329c01))[_0x55a7d8(0x236)];}catch(_0xbadfcf){return console['error'](_0xbadfcf),0x0;}}},Pt=class{constructor(_0x1557a7){const _0x2a23dc=a0_0x4b3f0f;this[_0x2a23dc(0x294)]=_0x1557a7;}async[a0_0x4b3f0f(0x5a9)]({instanceName:_0x390a08},_0x38fa44){const _0x10eb1e=a0_0x4b3f0f;return await this[_0x10eb1e(0x294)][_0x10eb1e(0x2d0)][_0x390a08]['editChat'](_0x38fa44);}async['whatsappNumber']({instanceName:_0x1bce47},_0x1417c9){const _0x4a751c=a0_0x4b3f0f;return await this[_0x4a751c(0x294)]['waInstances'][_0x1bce47]['whatsappNumber'](_0x1417c9);}async[a0_0x4b3f0f(0x573)]({instanceName:_0x37b458},_0x190c58){const _0x17bc63=a0_0x4b3f0f;return await this[_0x17bc63(0x294)]['waInstances'][_0x37b458][_0x17bc63(0x2c8)](_0x190c58);}async[a0_0x4b3f0f(0xf3)]({instanceName:_0x52a8a4},_0x64cb1d){const _0x5a63f6=a0_0x4b3f0f;return await this[_0x5a63f6(0x294)]['waInstances'][_0x52a8a4]['archiveChat'](_0x64cb1d);}async['deleteMessage']({instanceName:_0x57f75b},_0x3cbb1c){const _0x17d2bc=a0_0x4b3f0f;return await this[_0x17d2bc(0x294)][_0x17d2bc(0x2d0)][_0x57f75b]['deleteMessage'](_0x3cbb1c);}async[a0_0x4b3f0f(0x23e)]({instanceName:_0x37bb92},_0x4638f1){const _0x1ce84e=a0_0x4b3f0f;return await this[_0x1ce84e(0x294)][_0x1ce84e(0x2d0)][_0x37bb92][_0x1ce84e(0x224)](_0x4638f1[_0x1ce84e(0x465)]);}async[a0_0x4b3f0f(0x2fd)]({instanceName:_0x4bd857},_0x24b889){const _0x4cf22e=a0_0x4b3f0f;return await this[_0x4cf22e(0x294)][_0x4cf22e(0x2d0)][_0x4bd857]['fetchProfile'](_0x24b889[_0x4cf22e(0x465)]);}async[a0_0x4b3f0f(0xd4)]({instanceName:_0x102640},_0x429c15){const _0x454e3d=a0_0x4b3f0f;return await this[_0x454e3d(0x294)][_0x454e3d(0x2d0)][_0x102640][_0x454e3d(0xd4)](_0x429c15);}async['fetchContacts']({instanceName:_0xd9f1aa},_0x511181){const _0x4f47fc=a0_0x4b3f0f;return await this[_0x4f47fc(0x294)][_0x4f47fc(0x2d0)][_0xd9f1aa]['fetchContacts'](_0x511181);}async[a0_0x4b3f0f(0x462)]({instanceName:_0x40324c},_0x4d90fe){const _0x23709d=a0_0x4b3f0f;return await this['waMonitor'][_0x23709d(0x2d0)][_0x40324c][_0x23709d(0x462)](_0x4d90fe);}async[a0_0x4b3f0f(0x3a1)]({instanceName:_0x52fa2f},_0x27ed07){const _0x483610=a0_0x4b3f0f;return await this[_0x483610(0x294)][_0x483610(0x2d0)][_0x52fa2f][_0x483610(0x3a1)](_0x27ed07);}async[a0_0x4b3f0f(0x640)]({instanceName:_0x174d5}){const _0x3fb1b9=a0_0x4b3f0f;return await this[_0x3fb1b9(0x294)][_0x3fb1b9(0x2d0)][_0x174d5][_0x3fb1b9(0x640)]();}async[a0_0x4b3f0f(0x3e5)]({instanceName:_0x1ef88b}){const _0x1eec0a=a0_0x4b3f0f;return await this[_0x1eec0a(0x294)][_0x1eec0a(0x2d0)][_0x1ef88b][_0x1eec0a(0x3e5)]();}async[a0_0x4b3f0f(0x316)]({instanceName:_0x516672},_0x56bca4){const _0x5e7546=a0_0x4b3f0f;return await this[_0x5e7546(0x294)]['waInstances'][_0x516672]['updatePrivacySettings'](_0x56bca4);}async[a0_0x4b3f0f(0x56a)]({instanceName:_0xa7d40b},_0x37bc58){const _0x1f9945=a0_0x4b3f0f;return await this['waMonitor'][_0x1f9945(0x2d0)][_0xa7d40b][_0x1f9945(0x56a)](_0x37bc58['number']);}async[a0_0x4b3f0f(0x388)]({instanceName:_0x22ea41},_0x18d7e8){const _0x10b421=a0_0x4b3f0f;return await this[_0x10b421(0x294)][_0x10b421(0x2d0)][_0x22ea41][_0x10b421(0x388)](_0x18d7e8[_0x10b421(0x11c)]);}async[a0_0x4b3f0f(0x46e)]({instanceName:_0x3cb97f},_0x1d4150){const _0x1f00cb=a0_0x4b3f0f;return await this[_0x1f00cb(0x294)]['waInstances'][_0x3cb97f][_0x1f00cb(0x46e)](_0x1d4150[_0x1f00cb(0x238)]);}async['updateProfilePicture']({instanceName:_0x534322},_0x38ec0e){const _0x16bc24=a0_0x4b3f0f;return await this[_0x16bc24(0x294)][_0x16bc24(0x2d0)][_0x534322]['updateProfilePicture'](_0x38ec0e['picture']);}async['removeProfilePicture']({instanceName:_0x170ce5},_0x4d905c){const _0x264fbd=a0_0x4b3f0f;return await this['waMonitor'][_0x264fbd(0x2d0)][_0x170ce5][_0x264fbd(0x1e9)]();}},ms=require(a0_0x4b3f0f(0x1be)),xt=class c{constructor(_0x1b3c8d,_0x1fb799,_0x149f0e,_0x4d4416,_0x4bf731){const _0x4e0e84=a0_0x4b3f0f;this['waMonitor']=_0x1b3c8d,this[_0x4e0e84(0x32b)]=_0x1fb799,this[_0x4e0e84(0x1ea)]=_0x149f0e,this['eventEmitter']=_0x4d4416,this[_0x4e0e84(0x4c2)]=_0x4bf731,this[_0x4e0e84(0x3f6)]=new N(c[_0x4e0e84(0x11c)]);}async[a0_0x4b3f0f(0x436)]({instanceName:_0x332039,apikey:_0x2a7b55}){const _0x5c9d55=a0_0x4b3f0f;let _0x47007e=new ye(this['configService'],this[_0x5c9d55(0x319)],this['repository']);_0x47007e[_0x5c9d55(0x40d)]=_0x332039,this[_0x5c9d55(0x294)]['waInstances'][_0x47007e[_0x5c9d55(0x40d)]]=_0x47007e,this['waMonitor'][_0x5c9d55(0x548)](_0x47007e[_0x5c9d55(0x40d)]);let _0x206277={};_0x2a7b55?(await this[_0x5c9d55(0x1ea)][_0x5c9d55(0x53d)][_0x5c9d55(0x35d)]({'apikey':_0x2a7b55},_0x332039),_0x206277[_0x5c9d55(0x13e)]=_0x2a7b55):_0x206277=await this['authService'][_0x5c9d55(0x3e0)]({'instanceName':_0x47007e['instanceName']});let _0xbca061;return await _0x47007e[_0x5c9d55(0x56b)](),await(0x0,ms[_0x5c9d55(0x3a6)])(0x7d0),_0xbca061=_0x47007e[_0x5c9d55(0x342)],{'instance':{'instanceName':_0x47007e[_0x5c9d55(0x40d)],'status':'created'},'hash':_0x206277,'qrcode':_0xbca061};}async[a0_0x4b3f0f(0x56b)]({instanceName:_0x3b77a0}){const _0x5a1383=a0_0x4b3f0f;try{let _0x15013=this[_0x5a1383(0x294)][_0x5a1383(0x2d0)][_0x3b77a0];switch(_0x15013[_0x5a1383(0x231)]?.[_0x5a1383(0xc7)]){case _0x5a1383(0x33e):return await _0x15013['connectToWhatsapp'](),await(0x0,ms[_0x5a1383(0x3a6)])(0x7d0),_0x15013['qrCode'];case _0x5a1383(0xb4):return _0x15013[_0x5a1383(0x342)];default:return await this[_0x5a1383(0x4c3)]({'instanceName':_0x3b77a0});}}catch(_0x4d894d){this['logger'][_0x5a1383(0x21a)](_0x4d894d);}}async[a0_0x4b3f0f(0x4c3)]({instanceName:_0x52b571}){const _0x16feb4=a0_0x4b3f0f;let _0x3b1660=this[_0x16feb4(0x294)][_0x16feb4(0x2d0)][_0x52b571][_0x16feb4(0x231)],_0x4781fd=null;_0x3b1660[_0x16feb4(0xc7)]===_0x16feb4(0x655)&&_0x52b571&&(_0x4781fd=await this[_0x16feb4(0x294)]['instanceInfo'](_0x52b571));let _0x523b41=null;return _0x3b1660[_0x16feb4(0xc7)]===_0x16feb4(0xb4)&&_0x52b571&&(_0x523b41=this['waMonitor'][_0x16feb4(0x2d0)][_0x52b571][_0x16feb4(0x342)]),{'instance':_0x52b571,'connectionStatus':_0x3b1660,'instanceInfo':_0x4781fd,'qrcode':_0x523b41};}async[a0_0x4b3f0f(0x5cf)]({instanceName:_0x3f0dc1}){const _0x3ca74e=a0_0x4b3f0f;try{return this[_0x3ca74e(0x294)][_0x3ca74e(0x2d0)][_0x3f0dc1]?.[_0x3ca74e(0x593)]?.['ws']?.[_0x3ca74e(0x33e)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x3ca74e(0x30d)}};}catch(_0x57c827){this[_0x3ca74e(0x3f6)][_0x3ca74e(0x622)](_0x57c827);}}async[a0_0x4b3f0f(0xdc)]({instanceName:_0x108168}){const _0x15f86e=a0_0x4b3f0f;return _0x108168?this[_0x15f86e(0x294)][_0x15f86e(0x5c0)](_0x108168):this[_0x15f86e(0x294)][_0x15f86e(0x5c0)]();}async['logout']({instanceName:_0x26b6cf}){const _0x5b70a1=a0_0x4b3f0f;try{return await this[_0x5b70a1(0x294)][_0x5b70a1(0x2d0)][_0x26b6cf]?.[_0x5b70a1(0x593)]?.[_0x5b70a1(0x285)](_0x5b70a1(0x55c)+_0x26b6cf),{'error':!0x1,'message':_0x5b70a1(0x33b)};}catch(_0x40e96c){throw new A(_0x40e96c[_0x5b70a1(0x16e)]());}}async[a0_0x4b3f0f(0x18c)]({instanceName:_0x43af78}){const _0x5d42b3=a0_0x4b3f0f;if((await this[_0x5d42b3(0x4c3)]({'instanceName':_0x43af78}))[_0x5d42b3(0x231)][_0x5d42b3(0xc7)]===_0x5d42b3(0x655))throw new g([_0x5d42b3(0x1a6),_0x5d42b3(0x3af)]);try{return delete this[_0x5d42b3(0x294)][_0x5d42b3(0x2d0)][_0x43af78],{'error':!0x1,'message':_0x5d42b3(0xa1)};}catch(_0xf0a5f7){throw new g(_0xf0a5f7[_0x5d42b3(0x16e)]());}}async[a0_0x4b3f0f(0x613)](_0x5a5572,_0x36eb8e){const _0x39caa4=a0_0x4b3f0f;return await this[_0x39caa4(0x4c2)][_0x39caa4(0x613)](_0x36eb8e);}},se=require('class-validator'),$t=class{constructor(_0x2ddc51){const _0x4af9c8=a0_0x4b3f0f;this[_0x4af9c8(0x294)]=_0x2ddc51;}async['sendText']({instanceName:_0x1faf3b},_0x20b03c){const _0x2d9258=a0_0x4b3f0f;return await this[_0x2d9258(0x294)][_0x2d9258(0x2d0)][_0x1faf3b]['textMessage'](_0x20b03c);}async[a0_0x4b3f0f(0x45c)]({instanceName:_0x164970},_0x3b3762){const _0x36124c=a0_0x4b3f0f;if((0x0,se['isBase64'])(_0x3b3762?.['mediaMessage']?.[_0x36124c(0x3e9)])&&!_0x3b3762?.[_0x36124c(0x514)]?.[_0x36124c(0x61c)])throw new g(_0x36124c(0x31e));if((0x0,se[_0x36124c(0x1b1)])(_0x3b3762?.[_0x36124c(0x514)]?.['media'])||(0x0,se[_0x36124c(0x4a3)])(_0x3b3762?.[_0x36124c(0x514)]?.[_0x36124c(0x3e9)]))return await this[_0x36124c(0x294)][_0x36124c(0x2d0)][_0x164970][_0x36124c(0x514)](_0x3b3762);throw new g(_0x36124c(0x281));}async['sendSticker']({instanceName:_0x40c687},_0x287624){const _0x23212c=a0_0x4b3f0f;if((0x0,se[_0x23212c(0x1b1)])(_0x287624[_0x23212c(0x1a2)]['image'])||(0x0,se[_0x23212c(0x4a3)])(_0x287624[_0x23212c(0x1a2)][_0x23212c(0x1d8)]))return await this[_0x23212c(0x294)][_0x23212c(0x2d0)][_0x40c687][_0x23212c(0x1fb)](_0x287624);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x4b3f0f(0xfe)]({instanceName:_0x18ba70},_0x27182d){const _0x225366=a0_0x4b3f0f;if((0x0,se[_0x225366(0x1b1)])(_0x27182d['audioMessage']['audio'])||(0x0,se['isBase64'])(_0x27182d[_0x225366(0x4e8)][_0x225366(0x642)]))return await this[_0x225366(0x294)]['waInstances'][_0x18ba70][_0x225366(0x41c)](_0x27182d);throw new g(_0x225366(0x281));}async['sendButtons']({instanceName:_0x2969d1},_0x2bd77f){const _0x1d0b97=a0_0x4b3f0f;if((0x0,se[_0x1d0b97(0x4a3)])(_0x2bd77f[_0x1d0b97(0x591)]['mediaMessage']?.[_0x1d0b97(0x3e9)])&&!_0x2bd77f[_0x1d0b97(0x591)][_0x1d0b97(0x514)]?.[_0x1d0b97(0x61c)])throw new g(_0x1d0b97(0x31e));return await this[_0x1d0b97(0x294)][_0x1d0b97(0x2d0)][_0x2969d1][_0x1d0b97(0x591)](_0x2bd77f);}async[a0_0x4b3f0f(0x65c)]({instanceName:_0x5139dc},_0x21327f){const _0x3cf0ba=a0_0x4b3f0f;return await this[_0x3cf0ba(0x294)][_0x3cf0ba(0x2d0)][_0x5139dc][_0x3cf0ba(0x4fe)](_0x21327f);}async[a0_0x4b3f0f(0x335)]({instanceName:_0x388d39},_0x382b74){const _0x439799=a0_0x4b3f0f;return await this[_0x439799(0x294)][_0x439799(0x2d0)][_0x388d39][_0x439799(0x305)](_0x382b74);}async[a0_0x4b3f0f(0x4a9)]({instanceName:_0x4c9c3c},_0x35b225){const _0x36f461=a0_0x4b3f0f;return await this[_0x36f461(0x294)][_0x36f461(0x2d0)][_0x4c9c3c][_0x36f461(0x4ce)](_0x35b225);}async[a0_0x4b3f0f(0x3ea)]({instanceName:_0x1a8422},_0x5c1775){const _0x55837c=a0_0x4b3f0f;return await this['waMonitor'][_0x55837c(0x2d0)][_0x1a8422][_0x55837c(0x4ba)](_0x5c1775);}async['sendReaction']({instanceName:_0xb48f7e},_0x113b6e){const _0x3483c2=a0_0x4b3f0f;if(!_0x113b6e[_0x3483c2(0x34f)][_0x3483c2(0x13d)][_0x3483c2(0x5fa)](/[^\(\)\w\sà-ú"-\+]+/))throw new g('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x3483c2(0x294)]['waInstances'][_0xb48f7e]['reactionMessage'](_0x113b6e);}async[a0_0x4b3f0f(0x66c)]({instanceName:_0x14ccd3},_0x1808aa){const _0x1ce62b=a0_0x4b3f0f;return await this['waMonitor'][_0x1ce62b(0x2d0)][_0x14ccd3][_0x1ce62b(0x125)](_0x1808aa);}},kt=class{constructor(_0x5bd8d6){const _0x204c47=a0_0x4b3f0f;this[_0x204c47(0x294)]=_0x5bd8d6;}async[a0_0x4b3f0f(0x476)](_0x286a13,_0x32707d){const _0x31bbfb=a0_0x4b3f0f;return await this[_0x31bbfb(0x294)][_0x31bbfb(0x2d0)][_0x286a13[_0x31bbfb(0x40d)]][_0x31bbfb(0x476)](_0x32707d);}async['updateGroupPicture'](_0x20448e,_0x522fa7){const _0x2b7fd5=a0_0x4b3f0f;return await this[_0x2b7fd5(0x294)][_0x2b7fd5(0x2d0)][_0x20448e[_0x2b7fd5(0x40d)]][_0x2b7fd5(0x4a2)](_0x522fa7);}async['groupDesc'](_0x3b52cd,_0x133304){const _0x59f8a7=a0_0x4b3f0f;return await this[_0x59f8a7(0x294)][_0x59f8a7(0x2d0)][_0x3b52cd['instanceName']][_0x59f8a7(0x5a4)](_0x133304);}async['groupName'](_0x632a21,_0x2e6111){const _0x4f1250=a0_0x4b3f0f;return await this[_0x4f1250(0x294)][_0x4f1250(0x2d0)][_0x632a21['instanceName']][_0x4f1250(0x49e)](_0x2e6111);}async[a0_0x4b3f0f(0x66a)](_0x4a8548,_0x475d64){const _0x1286cf=a0_0x4b3f0f;return await this[_0x1286cf(0x294)][_0x1286cf(0x2d0)][_0x4a8548['instanceName']][_0x1286cf(0x66a)](_0x475d64);}async[a0_0x4b3f0f(0x35f)](_0x7ae0e3,_0x505399){const _0x1b8f21=a0_0x4b3f0f;return await this[_0x1b8f21(0x294)][_0x1b8f21(0x2d0)][_0x7ae0e3[_0x1b8f21(0x40d)]][_0x1b8f21(0x336)](_0x505399);}async[a0_0x4b3f0f(0x44e)](_0x2a92d9){const _0x54fd28=a0_0x4b3f0f;return await this['waMonitor'][_0x54fd28(0x2d0)][_0x2a92d9[_0x54fd28(0x40d)]][_0x54fd28(0x44e)]();}async[a0_0x4b3f0f(0x327)](_0x9413ad,_0x574cda){const _0xf5ac22=a0_0x4b3f0f;return await this['waMonitor'][_0xf5ac22(0x2d0)][_0x9413ad[_0xf5ac22(0x40d)]][_0xf5ac22(0x327)](_0x574cda);}async[a0_0x4b3f0f(0x1e7)](_0x3cb32b,_0x195377){const _0x1f231e=a0_0x4b3f0f;return await this[_0x1f231e(0x294)]['waInstances'][_0x3cb32b[_0x1f231e(0x40d)]][_0x1f231e(0x1e7)](_0x195377);}async['revokeInviteCode'](_0x56acfd,_0x20bf26){const _0x26ff46=a0_0x4b3f0f;return await this['waMonitor'][_0x26ff46(0x2d0)][_0x56acfd[_0x26ff46(0x40d)]][_0x26ff46(0x1b2)](_0x20bf26);}async[a0_0x4b3f0f(0x508)](_0xf35a7e,_0x555ad9){const _0x21dc63=a0_0x4b3f0f;return await this[_0x21dc63(0x294)][_0x21dc63(0x2d0)][_0xf35a7e['instanceName']]['findParticipants'](_0x555ad9);}async['updateGParticipate'](_0x498858,_0xd4f492){const _0x1bcc25=a0_0x4b3f0f;return await this[_0x1bcc25(0x294)][_0x1bcc25(0x2d0)][_0x498858['instanceName']][_0x1bcc25(0x3f3)](_0xd4f492);}async[a0_0x4b3f0f(0x2c1)](_0x1abc04,_0xf04176){const _0x54d7ca=a0_0x4b3f0f;return await this['waMonitor'][_0x54d7ca(0x2d0)][_0x1abc04['instanceName']][_0x54d7ca(0x2c1)](_0xf04176);}async[a0_0x4b3f0f(0x600)](_0x107adf,_0x577943){const _0x12a6ed=a0_0x4b3f0f;return await this['waMonitor'][_0x12a6ed(0x2d0)][_0x107adf['instanceName']][_0x12a6ed(0x600)](_0x577943);}},Lt=class{constructor(_0x4f80d9,_0x483d81){const _0x54d7e1=a0_0x4b3f0f;this[_0x54d7e1(0x311)]=_0x4f80d9,this[_0x54d7e1(0x32b)]=_0x483d81;}async[a0_0x4b3f0f(0x1f1)](_0x362ed5,_0x4529b2){const _0x2ffa45=a0_0x4b3f0f;try{let _0x198dee=_0x362ed5[_0x2ffa45(0x154)];if(this['waMonit'][_0x2ffa45(0x2d0)][_0x198dee[_0x2ffa45(0x40d)]][_0x2ffa45(0x231)][_0x2ffa45(0xc7)]===_0x2ffa45(0x655))throw new g('The\x20instance\x20is\x20already\x20connected');let _0x1955c4=this['configService'][_0x2ffa45(0x2a0)](_0x2ffa45(0x37b))[_0x2ffa45(0x667)];return _0x4529b2['status'](0xc8)[_0x2ffa45(0x1b9)]('qrcode',{'type':_0x1955c4,..._0x198dee});}catch(_0x56cb9a){console['log']('ERROR:\x20',_0x56cb9a);}}},Ut=class{constructor(_0x41e0a0){const _0x477dcf=a0_0x4b3f0f;this[_0x477dcf(0x294)]=_0x41e0a0;}[a0_0x4b3f0f(0x35d)](_0xc744db,_0x50c499){const _0x569a3d=a0_0x4b3f0f;return this[_0x569a3d(0x294)][_0x569a3d(0x2d0)][_0xc744db[_0x569a3d(0x40d)]][_0x569a3d(0x649)](_0x50c499);}async['find'](_0x50e6e3){const _0x505044=a0_0x4b3f0f;try{return await this['waMonitor'][_0x505044(0x2d0)][_0x50e6e3[_0x505044(0x40d)]][_0x505044(0x2ea)]();}catch{return{'enabled':null,'url':''};}}},ad=new N(a0_0x4b3f0f(0x4ed)),Vt=class{constructor(_0x509a68){const _0xda7772=a0_0x4b3f0f;this[_0xda7772(0x294)]=_0x509a68;}async['editScheduleMessage'](_0x4c4901,_0x397f64){const _0x3fe1aa=a0_0x4b3f0f;return await this['waMonitor']['waInstances'][_0x4c4901[_0x3fe1aa(0x40d)]][_0x3fe1aa(0x1fe)](_0x397f64);}async[a0_0x4b3f0f(0x169)](_0x2a22ef){const _0x557251=a0_0x4b3f0f;return await this[_0x557251(0x294)][_0x557251(0x2d0)][_0x2a22ef[_0x557251(0x40d)]][_0x557251(0x169)]();}async[a0_0x4b3f0f(0x5a8)](_0x243d9f){const _0x27122d=a0_0x4b3f0f;return await this['waMonitor'][_0x27122d(0x2d0)][_0x243d9f['instanceName']]['deleteDoneMessages']();}async[a0_0x4b3f0f(0xcf)](_0x578466){const _0x33eb72=a0_0x4b3f0f;return await this[_0x33eb72(0x294)][_0x33eb72(0x2d0)][_0x578466[_0x33eb72(0x40d)]][_0x33eb72(0xcf)]();}async['updateAgent'](_0x43dc4c,_0x531775){const _0x1548e8=a0_0x4b3f0f;return await this[_0x1548e8(0x294)][_0x1548e8(0x2d0)][_0x43dc4c['instanceName']][_0x1548e8(0xfa)](_0x531775);}async['updateCustomFields'](_0xc3fc6b,_0x361c32){const _0x324ab3=a0_0x4b3f0f;return await this[_0x324ab3(0x294)][_0x324ab3(0x2d0)][_0xc3fc6b[_0x324ab3(0x40d)]][_0x324ab3(0x4da)](_0x361c32);}async[a0_0x4b3f0f(0x2d8)](_0x4a04b2,_0xdc4830){const _0x36121c=a0_0x4b3f0f;return await this[_0x36121c(0x294)][_0x36121c(0x2d0)][_0x4a04b2[_0x36121c(0x40d)]]['updateFlowConfig'](_0xdc4830);}async['startFlow'](_0x3a7802,_0x4746b6){const _0x5b7369=a0_0x4b3f0f;return await this[_0x5b7369(0x294)][_0x5b7369(0x2d0)][_0x3a7802[_0x5b7369(0x40d)]][_0x5b7369(0x58e)](_0x4746b6);}async['getConversation'](_0xc6c0d8,_0x4f658d){const _0x4878ca=a0_0x4b3f0f;return await this[_0x4878ca(0x294)]['waInstances'][_0xc6c0d8[_0x4878ca(0x40d)]]['getConversation'](_0x4f658d);}async['fetchConversation'](_0x5caf2c,_0x52a844){const _0x180b23=a0_0x4b3f0f;return await this['waMonitor']['waInstances'][_0x5caf2c[_0x180b23(0x40d)]][_0x180b23(0x26e)](_0x52a844);}async[a0_0x4b3f0f(0x4f3)](_0x5cad57,_0x25b25e){const _0x3c4561=a0_0x4b3f0f;return await this['waMonitor'][_0x3c4561(0x2d0)][_0x5cad57['instanceName']][_0x3c4561(0x4f3)](_0x25b25e);}async[a0_0x4b3f0f(0x212)](_0x16b344,_0x3432bc){const _0x48aaaf=a0_0x4b3f0f;return await this[_0x48aaaf(0x294)][_0x48aaaf(0x2d0)][_0x16b344[_0x48aaaf(0x40d)]][_0x48aaaf(0x212)](_0x3432bc);}async[a0_0x4b3f0f(0x491)](_0x1db67,_0xef435a){const _0x2c9613=a0_0x4b3f0f;return await this[_0x2c9613(0x294)][_0x2c9613(0x2d0)][_0x1db67['instanceName']][_0x2c9613(0x491)](_0xef435a[_0x2c9613(0x11c)]);}async[a0_0x4b3f0f(0xdd)](_0x16df40,_0x388646){const _0x2643c6=a0_0x4b3f0f;return await this[_0x2643c6(0x294)]['waInstances'][_0x16df40[_0x2643c6(0x40d)]][_0x2643c6(0xdd)](_0x388646);}async[a0_0x4b3f0f(0x31a)](_0x14603d,_0x587c99){const _0xd28f29=a0_0x4b3f0f;return await this[_0xd28f29(0x294)][_0xd28f29(0x2d0)][_0x14603d['instanceName']][_0xd28f29(0x31a)](_0x587c99);}async[a0_0x4b3f0f(0x347)](_0x437d98,_0x53600f){const _0x4522b1=a0_0x4b3f0f;return await this[_0x4522b1(0x294)][_0x4522b1(0x2d0)][_0x437d98['instanceName']][_0x4522b1(0x347)](_0x53600f);}async[a0_0x4b3f0f(0x367)](_0x4fae09,_0x24940d){const _0x2110bf=a0_0x4b3f0f;return await this[_0x2110bf(0x294)][_0x2110bf(0x2d0)][_0x4fae09[_0x2110bf(0x40d)]][_0x2110bf(0x367)](_0x24940d);}async[a0_0x4b3f0f(0x551)](_0x5072b5,_0x224ee7){const _0x397b78=a0_0x4b3f0f;return await this[_0x397b78(0x294)]['waInstances'][_0x5072b5[_0x397b78(0x40d)]][_0x397b78(0x551)](_0x224ee7);}async[a0_0x4b3f0f(0x51a)](_0x2eed81,_0x43eb09){const _0x4915b7=a0_0x4b3f0f;return await this[_0x4915b7(0x294)][_0x4915b7(0x2d0)][_0x2eed81[_0x4915b7(0x40d)]]['editFlowCondition'](_0x43eb09);}async[a0_0x4b3f0f(0x638)](_0x37c87c,_0x2756b5){const _0x302233=a0_0x4b3f0f;return await this[_0x302233(0x294)][_0x302233(0x2d0)][_0x37c87c['instanceName']][_0x302233(0x638)](_0x2756b5);}async[a0_0x4b3f0f(0x16f)](_0x175f04,_0x387d7e){const _0x430456=a0_0x4b3f0f;return await this[_0x430456(0x294)]['waInstances'][_0x175f04['instanceName']][_0x430456(0x16f)](_0x387d7e);}async[a0_0x4b3f0f(0x157)](_0x3aa8b6,_0x501b2b){const _0x1af992=a0_0x4b3f0f;return await this[_0x1af992(0x294)]['waInstances'][_0x3aa8b6[_0x1af992(0x40d)]][_0x1af992(0x157)](_0x501b2b['name']);}async['allFlows'](_0x375dfa){const _0x3ef292=a0_0x4b3f0f;return await this[_0x3ef292(0x294)][_0x3ef292(0x2d0)][_0x375dfa['instanceName']][_0x3ef292(0x67b)]();}},jt=class{constructor(_0x580e6d){const _0x5b9e5f=a0_0x4b3f0f;this[_0x5b9e5f(0x35e)]=_0x580e6d;}async[a0_0x4b3f0f(0x4ef)](_0x19d73d,_0x2cf45b){const _0xd7c7df=a0_0x4b3f0f;return this[_0xd7c7df(0x35e)][_0xd7c7df(0x35d)](_0x19d73d,_0x2cf45b);}async[a0_0x4b3f0f(0x2ea)](_0x12a3c0){const _0x4b29a8=a0_0x4b3f0f;return this[_0x4b29a8(0x35e)][_0x4b29a8(0x28c)](_0x12a3c0);}},Ft=class{constructor(_0x1bde69,_0x4e5abd,_0x3822e8,_0x58ccf2,_0x321e46,_0x1e2cb5){const _0x10d9ae=a0_0x4b3f0f;this[_0x10d9ae(0x46a)]=_0x1bde69,this['chat']=_0x4e5abd,this['contact']=_0x3822e8,this[_0x10d9ae(0x596)]=_0x58ccf2,this[_0x10d9ae(0x53d)]=_0x321e46,this[_0x10d9ae(0x274)]=_0x1e2cb5;}get['dbServer'](){const _0x7f604b=a0_0x4b3f0f;return this[_0x7f604b(0x274)];}},hs=require('path'),ao=require('fs'),Bt=class extends W{constructor(_0x8e9f1a,_0x3d3bcf){const _0x20b1cd=a0_0x4b3f0f;super(_0x3d3bcf),this[_0x20b1cd(0x59a)]=_0x8e9f1a,this[_0x20b1cd(0x32b)]=_0x3d3bcf;}async['create'](_0x42ec61,_0x312d48){const _0x305317=a0_0x4b3f0f;try{return this[_0x305317(0x5df)]['ENABLED']?{'insertCount':(await this[_0x305317(0x59a)][_0x305317(0x590)]({'_id':_0x312d48},{..._0x42ec61},{'upsert':!0x0}))[_0x305317(0x236)]}:(this[_0x305317(0x402)]({'path':(0x0,hs[_0x305317(0x488)])(this[_0x305317(0xc5)],_0x305317(0x596)),'fileName':_0x312d48,'data':_0x42ec61}),{'insertCount':0x1});}catch(_0x22d174){return _0x22d174;}}async[a0_0x4b3f0f(0x28c)](_0x50ebf1){const _0x484708=a0_0x4b3f0f;try{return this[_0x484708(0x5df)]['ENABLED']?await this[_0x484708(0x59a)][_0x484708(0x134)]({'_id':_0x50ebf1}):JSON[_0x484708(0x5d5)]((0x0,ao['readFileSync'])((0x0,hs[_0x484708(0x488)])(this['storePath'],'webhook',_0x50ebf1+_0x484708(0x356)),{'encoding':_0x484708(0x50f)}));}catch{return{};}}},fs=require('path'),oo=require('fs'),qt=class extends W{constructor(_0x10af5d,_0x3fa5f8){const _0x246c3e=a0_0x4b3f0f;super(_0x3fa5f8),this[_0x246c3e(0x627)]=_0x10af5d,this[_0x246c3e(0x32b)]=_0x3fa5f8,this['auth']=_0x3fa5f8[_0x246c3e(0x2a0)](_0x246c3e(0x37b));}async[a0_0x4b3f0f(0x35d)](_0x57b158,_0x271bd1){const _0x202f69=a0_0x4b3f0f;try{return this[_0x202f69(0x5df)]['ENABLED']?{'insertCount':(await this[_0x202f69(0x627)][_0x202f69(0x590)]({'_id':_0x271bd1},{..._0x57b158},{'upsert':!0x0}))['modifiedCount']}:(this['writeStore']({'path':(0x0,fs[_0x202f69(0x488)])(Gt,this[_0x202f69(0x53d)][_0x202f69(0x667)]),'fileName':_0x271bd1,'data':_0x57b158}),{'insertCount':0x1});}catch(_0x3d7020){return{'error':_0x3d7020};}}async[a0_0x4b3f0f(0x28c)](_0x479113){const _0x54363e=a0_0x4b3f0f;try{return this['dbSettings'][_0x54363e(0x4b6)]?await this[_0x54363e(0x627)]['findOne']({'_id':_0x479113}):JSON[_0x54363e(0x5d5)]((0x0,oo[_0x54363e(0x2bd)])((0x0,fs[_0x54363e(0x488)])(Gt,this['auth'][_0x54363e(0x667)],_0x479113+_0x54363e(0x356)),{'encoding':'utf-8'}));}catch{return{};}}},Ko=new N(a0_0x4b3f0f(0x2bc)),zo=new xe(E),Qo=new Ot(E),Yo=new We(E),Xo=new Bt(qs,E),Zo=new qt(js,E),ce=new Ft(zo,Qo,Yo,Xo,Zo,M?.[a0_0x4b3f0f(0x1b6)]()),F=new _t(Kt,E,ce),er=new rt(E,F,ce),tr=new Ut(F),ls=new jt(tr),R=new Vt(F),ie=new xt(F,E,ce,Kt,er),qa=new Lt(F,E),K=new $t(F),D=new Pt(F),U=new kt(F);Ko[a0_0x4b3f0f(0x5f7)](a0_0x4b3f0f(0x3b1));function a0_0x473d(_0x1a6710,_0x4ec27e){const _0x198703=a0_0x1987();return a0_0x473d=function(_0x473d94,_0x5c083a){_0x473d94=_0x473d94-0x9d;let _0x2c4341=_0x198703[_0x473d94];return _0x2c4341;},a0_0x473d(_0x1a6710,_0x4ec27e);}var Xd=require(a0_0x4b3f0f(0x16b)),ws=require('fs'),ro=T(require(a0_0x4b3f0f(0x2b1))),io=T(require(a0_0x4b3f0f(0x599))),Re=class c{static #e;static set[a0_0x4b3f0f(0x470)](_0x58648c){this.#e=_0x58648c;}static get[a0_0x4b3f0f(0x2b1)](){const _0x319017=a0_0x4b3f0f;let {FULLCHAIN:_0x55d96f,PRIVKEY:_0x2a4d85}=E[_0x319017(0x2a0)](_0x319017(0x438));return ro[_0x319017(0x445)]({'cert':(0x0,ws[_0x319017(0x2bd)])(_0x55d96f),'key':(0x0,ws[_0x319017(0x2bd)])(_0x2a4d85)},c.#e);}static get[a0_0x4b3f0f(0x599)](){const _0xefbb8c=a0_0x4b3f0f;return io[_0xefbb8c(0x445)](c.#e);}},de=T(require('fs')),go=T(require(a0_0x4b3f0f(0x4b0))),Me=T(require(a0_0x4b3f0f(0x1f8))),Ie=T(require(a0_0x4b3f0f(0x19d))),De=require(a0_0x4b3f0f(0x1ca)),Es=T(require(a0_0x4b3f0f(0x21c)));function sr(){const _0x4732e4=a0_0x4b3f0f;F['loadInstance']();let _0xe30b78=Ie[_0x4732e4(0x4ea)][_0x4732e4(0x488)](__dirname,_0x4732e4(0x545));po(_0xe30b78);}var po=_0x1b35c4=>{const _0x130b04=a0_0x4b3f0f;let _0x35a34b=de[_0x130b04(0x4ea)][_0x130b04(0x341)](_0x1b35c4),_0x39d1cd=0xc*0x3c*0x3c*0x3e8,_0x7f1b80=0x2*0x3c*0x3c*0x3e8,_0x1c55ca=new Date()[_0x130b04(0x57f)]();_0x35a34b['forEach'](_0x4b7b16=>{const _0x4b4e00=_0x130b04;let _0x37f132=Ie[_0x4b4e00(0x4ea)][_0x4b4e00(0x488)](_0x1b35c4,_0x4b7b16),_0xce6c18=de[_0x4b4e00(0x4ea)]['statSync'](_0x37f132)[_0x4b4e00(0x136)]['getTime']();_0x1c55ca-_0xce6c18>_0x39d1cd&&(de[_0x4b4e00(0x4ea)]['unlinkSync'](_0x37f132),console['log']('Deleted\x20'+_0x4b7b16));}),setTimeout(()=>po(_0x1b35c4),_0x7f1b80);};function ar(){const _0xeed3ae=a0_0x4b3f0f;let _0x45e9e4=new N('SERVER'),_0x9a1757=(0x0,pe[_0xeed3ae(0x4ea)])();_0x9a1757[_0xeed3ae(0x5aa)]((0x0,uo['default'])({'origin'(_0x44df1e,_0x2f6ea3){const _0x2571ad=_0xeed3ae;let {ORIGIN:_0x5729bf}=E[_0x2571ad(0x2a0)](_0x2571ad(0x300));return _0x44df1e||(_0x44df1e='*'),_0x5729bf[_0x2571ad(0x5f6)]('*')!==-0x1||_0x5729bf['indexOf'](_0x44df1e)!==-0x1?_0x2f6ea3(null,!0x0):_0x2f6ea3(new Error(_0x2571ad(0x4dd)));},'methods':[...E[_0xeed3ae(0x2a0)](_0xeed3ae(0x300))['METHODS']],'credentials':E['get'](_0xeed3ae(0x300))['CREDENTIALS']}),(0x0,pe['urlencoded'])({'extended':!0x0,'limit':_0xeed3ae(0x5d9)}),(0x0,pe['json'])({'limit':'50mb'})),_0x9a1757[_0xeed3ae(0x5aa)]((_0x5820f6,_0x1d706e,_0x3d22d5)=>{const _0x4984e6=_0xeed3ae;_0x5820f6[_0x4984e6(0x19d)][_0x4984e6(0x433)]('/events')?_0x3d22d5():(0x0,lo['default'])()(_0x5820f6,_0x1d706e,_0x3d22d5);}),_0x9a1757['set'](_0xeed3ae(0xa0),_0xeed3ae(0x123)),_0x9a1757[_0xeed3ae(0x41b)](_0xeed3ae(0x56e),(0x0,bs[_0xeed3ae(0x488)])(Q,_0xeed3ae(0x56e))),_0x9a1757['use'](pe['default'][_0xeed3ae(0x2a8)]((0x0,bs[_0xeed3ae(0x488)])(Q,_0xeed3ae(0x185)))),_0x9a1757['use']((_0x3207b9,_0x28b84c,_0xb254d1)=>{let _0x440ff6=_0x28b84c['send'];_0x28b84c['send']=function(_0x31c7e8){const _0x568f12=a0_0x473d;if(_0x3207b9[_0x568f12(0x59b)]['convert']===_0x568f12(0x4d4)||_0x3207b9[_0x568f12(0x426)][_0x568f12(0x47b)]===_0x568f12(0x4d4)){let _0x1096e1=JSON[_0x568f12(0x5d5)](_0x31c7e8);_0x31c7e8=JSON[_0x568f12(0x3c6)](_0x59e32b(_0x1096e1));}return _0x440ff6[_0x568f12(0x668)](_0x28b84c,[_0x31c7e8]);},_0xb254d1();}),_0x9a1757[_0xeed3ae(0x5aa)]('/',vt),_0x9a1757['use']((_0x31a85c,_0x121202,_0x51bc01,_0x20a60c)=>{const _0x1701cb=_0xeed3ae;if(_0x31a85c)return _0x51bc01[_0x1701cb(0x238)](_0x31a85c[_0x1701cb(0x238)]||0x1f4)[_0x1701cb(0x4cd)](_0x31a85c);},(_0x5065ba,_0x66707e,_0x13872a)=>{const _0x5e3b87=_0xeed3ae;let {method:_0x1798b1,url:_0x41d96a}=_0x5065ba;_0x66707e[_0x5e3b87(0x238)](0x194)[_0x5e3b87(0x4cd)]({'status':0x194,'message':_0x5e3b87(0x52f)+_0x1798b1[_0x5e3b87(0x431)]()+'\x20'+_0x41d96a,'error':'Not\x20Found'}),_0x13872a();});let _0x59e32b=(_0x368e8c,_0x4e82ec='_p_')=>{const _0x3939e5=_0xeed3ae;let _0x3c2aed=(_0x5dc258,_0x3af89d=null,_0x7db159=!0x1)=>{const _0x5de859=a0_0x473d;let _0x3a0e02={};return Object[_0x5de859(0x1c8)](_0x5dc258)[_0x5de859(0x557)](_0xf7edee=>{const _0x3aaaa7=_0x5de859;let _0x5dcd45=_0x5dc258[_0xf7edee],_0x38373a=''+_0x4e82ec+_0xf7edee;_0x3af89d&&!_0x7db159&&(_0x38373a=_0x3af89d+'.'+_0xf7edee),!_0x5dcd45&&_0x5dcd45!==0x0&&_0x5dcd45!==!0x1||typeof _0x5dcd45>'u'?_0x3a0e02[_0x38373a]=null:typeof _0x5dcd45!=_0x3aaaa7(0x64a)&&!Array[_0x3aaaa7(0x5ae)](_0x5dcd45)?_0x3a0e02[_0x38373a]=_0x5dcd45:typeof _0x5dcd45=='object'&&!Array[_0x3aaaa7(0x5ae)](_0x5dcd45)?_0x3a0e02=Object[_0x3aaaa7(0x3dd)](_0x3a0e02,_0x3c2aed(_0x5dcd45,_0x38373a)):Array[_0x3aaaa7(0x5ae)](_0x5dcd45)&&(typeof _0x5dcd45[0x0]==_0x3aaaa7(0x64a)?(_0x3a0e02[_0x38373a]=[],_0x5dcd45['forEach'](_0x2bcfd2=>{const _0x5b5156=_0x3aaaa7;_0x3a0e02[_0x38373a][_0x5b5156(0x346)](_0x3c2aed(_0x2bcfd2,_0x38373a,!0x0));})):_0x3a0e02[_0x38373a]=_0x5dcd45);}),_0x3a0e02;};return Array[_0x3939e5(0x5ae)](_0x368e8c)?_0x368e8c[_0x3939e5(0x53c)](_0x3c3750=>_0x3c2aed(_0x3c3750)):typeof _0x368e8c==_0x3939e5(0x64a)&&_0x368e8c!==null?_0x3c2aed(_0x368e8c):{};},_0x11ad5f=E[_0xeed3ae(0x2a0)](_0xeed3ae(0x271));Re[_0xeed3ae(0x470)]=_0x9a1757;let _0x1b5032=Re[_0x11ad5f[_0xeed3ae(0x667)]],_0x17f217=_0xeed3ae(0x13c);_0x1b5032[_0xeed3ae(0xc1)](_0x11ad5f['PORT'],()=>{const _0x340e09=_0xeed3ae;_0x45e9e4['log'](_0x17f217),_0x45e9e4['log'](_0x11ad5f[_0x340e09(0x667)][_0x340e09(0x431)]()+'\x20-\x20ON:\x20'+_0x11ad5f[_0x340e09(0x5cd)]);}),sr(),Os();}var or='https://github.com/uazapi/uazapi.git',rr=Ie[a0_0x4b3f0f(0x4ea)][a0_0x4b3f0f(0x488)](__dirname,'./.git/config'),Ae=null;function ir(){return new Promise((_0x21c9c1,_0x579cfa)=>{const _0xf4fcfe=a0_0x473d;de[_0xf4fcfe(0x4ea)][_0xf4fcfe(0x4e4)](rr,_0xf4fcfe(0x50f),(_0x22d396,_0x47af16)=>{const _0x3fb205=_0xf4fcfe;if(_0x22d396){Ae=_0x22d396,_0x21c9c1();return;}go['default']['parse'](_0x47af16)[_0x3fb205(0x1a8)][_0x3fb205(0x4fd)]===or?(Ae=null,_0x21c9c1()):(Ae=new Error(_0x3fb205(0x464)),_0x21c9c1());});});}async function nr(){const _0x3edd04=a0_0x4b3f0f;try{await ir(),await Ss();}catch(_0x214297){console[_0x3edd04(0x622)](_0x3edd04(0x2aa)+_0x214297),process['exit'](0x1);}}nr();function a0_0x1987(){const _0x518b5d=['stopMinutes','unlocked','VERBOSE','evaluateConditionTest','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','_Messages','\x20\x1b[0m','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','startFlow','fileLength','replaceOne','buttonMessage','all','client','localWebhook','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','webhook','Error\x20writing\x20file:\x20','chats.delete','http','webhookModel','query','):\x20Ignoring\x20group\x20messages.','):\x20Não\x20achou\x20nenhum\x20flow','options','?authSource=admin&readPreference=primary&directConnection=true','groups','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','group','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','groupDesc','replaceVariables','caption','processConditionsTest','deleteDoneMessages','editChat','use','cpf','website','emit','isArray','contact_blacklist','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Hash\x20to\x20audio\x20name:\x20','updateConversation','PROD','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','linkPreview','value','sendDataWebhook','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','sleep','useMultiFileAuthState','\x1b[43m','content','imagechat','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','instanceInfo','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','connect','exec','request\x20received\x20in\x20editFlow','/instance/fetchInstances','GROUPS_UPDATE','AUTHENTICATION_API_KEY','MESSAGES_UPSERT','__esModule','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','flowConversation','eventHandler','PORT','\x20inseridas\x20no\x20banco\x20de\x20dados...','restartInstance','buttons','Processing\x20audio','^\x5cd+([-]\x5cd+)*@g.us$','\x20minutos','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','parse','Message','Atualização:\x20','activatedCount','50mb','\x22\x20-\x20NOT\x20CONNECTION','chat','gifPlayback','longitude','WEBHOOK_EVENTS_QRCODE_UPDATED','dbSettings','):\x20Erro\x20ao\x20buscar\x20conversas\x20','groupJid','\x20inseridos\x20no\x20banco\x20de\x20dados...','):\x20lastBlockId:\x20','messaging-history.set','cwd','verbose','subject','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','newName','isDirectory','newStoppedUntil','Getting\x20image\x20from\x20url','_doc','entries','$dbName','variable','sort','mimetype','urlOrBase64','data:\x20','test','indexOf','info','):\x20Editando\x20edição\x20do\x20fluxo...','and','match','insertMany','newValue','TRIAL_AD','conditions','chats.upsert','leaveGroup','scheduleSendMedia','removed','toBrazilianNumberFormat','Bloco\x20com\x20ID\x20','dataValidate','CONTACTS_SET','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','/wa-contacts','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','WEBHOOK_EVENTS_CHATS_DELETE','\x5cd+','toNumber','contacts.update','):\x20Alterando\x20fluxo...','getContentType','setNewValue','lastSend','poll_id','refreshToken','../env.yml','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','valid','statusJidList','format','Enter\x20a\x20value\x20in\x20milliseconds','chatLog','stack','fileName','trimmed','\x22\x20-\x20REMOVED','Erro\x20ao\x20editar\x20agentes:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','instances','error','option','normalizeMessage','):\x20tem\x20blocks','userDevicesCache','authModel','processApiRequest','Conversa\x20deletada\x20com\x20sucesso.','instance','remove.instance','realVariables','eventemitter2','_activatedCount','sha256','):\x20Flow\x20não\x20encontrado','generateWAMessageFromContent','status@broadcast','/exit','editflowgroup','StartBot','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','oldToken','editFlowVaredit','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','chatModify','validate','):\x20Entrou\x20na\x20função\x20saveReply','pollUpdateMessage','/wa-message','):\x20Current\x20Time:\x20','fetchChats','):\x20Erro\x20ao\x20criar\x20fluxo\x20','audio','composing','.ogg','flowIgnoreGroups','getOwnPropertyNames','INFO','instance.','setWebhook','object','extractRegex','sendText','Getting\x20profile\x20info','blocks','removeInstance','EVENTS','filter','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','):\x20Enviando\x20localização','open','getPrototypeOf','processingScheduleMessageId','findById','\x20-y','URL','Erro\x20ao\x20aplicar\x20varedit:\x20','sendLocation','waitingPoll_name','Schema','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','namespace','\x22,\x20valor\x20a\x20substituir:\x20\x22','contentText','Valor\x20inicial:\x20\x22','hGetAll','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','TYPE','apply','WARN','groupSetting','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','sendStatus','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','setHeader','deleteMany','Missing\x20global\x20api\x20key','API_KEY','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','announce','pollCreationMessageV3','contactname','unhandledRejection','mentions','replaceVariablesLogs','groups.update','spawn','allFlows','Flow\x20already\x20exists','groups.upsert','.png','nomecompleto','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','}}\x20->\x20\x22','recording','view\x20engine','Instance\x20deleted','STATUS_INSTANCE','CONTACTS_UPDATE','The\x20global\x20api\x20key\x20must\x20be\x20set','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','):\x20Editando\x20bloco...','where','SECRET','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:','CHATS_UPSERT','CONFIG_SESSION_PHONE_NAME','CONNECTION_UPDATE','WEBHOOK_GLOBAL_ENABLED','AutomateFunctions','/etc/letsencrypt/live/','Db\x20Connection','\x1b[32m%s\x1b[0m','):\x20Conversa\x20inserida\x20com\x20sucesso.','delAll','connecting','cleanStore','chats.update','):\x20newSecondValue\x20após\x20replaceVariables:','documentMessage','readMessageBot','Instância\x20não\x20encontrada.','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','?timestamp=','viewOnceMessageV2','.mp3','webp','nextBlock:','listen','videoMessage','none','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','storePath','CONTACTS_UPSERT','state','toLocaleString','variablesNotFound','action','\x20is\x20already\x20in\x20use.','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','getAutomateSystem','varedits','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','endsWith','@broadcast','updatePresence','output','contextInfo','flowname:\x20','updateProfilePicturePrivacy','isJidUser','remoteJids','Reinicialização\x20iniciada:\x20','fetchInstances','createFlow','Error\x20change\x20group\x20description','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','Erro\x20ao\x20editar\x20o\x20bloco:\x20','request\x20received\x20in\x20editFlowgroup','isConnected','GUARD','DELIVERY_ACK','endSession','errors','Output\x20audio\x20path:\x20','chats.set','exit','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','):\x20Criou\x20conversa\x20no\x20startFlow:','/wa-chats','inner','abs','groupValidate','preview','saveConversationToDatabase','groupUpdateSubject','archiveChat','\x20instance\x20does\x20not\x20exist','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','isLong','email','Variável\x20não\x20encontrada!','):\x20Conversa\x20atualizada\x20em\x20memória','updateAgent','processPollUpdateMessage','Read\x20messages','match_last_seen','sendWhatsAppAudio','REDIS','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','slice','Logger','body','redisEnv','block','error\x20get\x20vote','replyOptions','Unauthorized','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','authorization','parseInt','MESSAGES_UPDATE','getMIMEType','WEBHOOK_EVENTS_CONNECTION_UPDATE','uazapiSendLocation','remoteJid','findByIdAndUpdate','request\x20received\x20in\x20getConversation','-whatsapp-api','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','pop','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','less','Background\x20color\x20is\x20required','getStatus','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','applyvaredit','name','@s.whatsapp.net','conversation','\x1b[1m','pt-BR','lastInteraction','DEBUG','hbs','webhookMap','statusMessage','post','connectionClosed','method','stopIfLastReturnedError','lastSendMessage','Error\x20updating\x20profile\x20name','447075tZudLf','dark','.mp4','uazapiSendContact','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','REDIS_PREFIX_KEY','DEL_INSTANCE','Image\x20path:\x20','findOne','reviver','birthtime','https://chat.whatsapp.com/','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','stopConversation','decryptPollVote','Erro\x20ao\x20encerrar\x20a\x20API','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','reaction','apikey','address','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','CLIENT','saveChatVariables','*\x0a\x0a','leadInfo.desativadoFluxoAte','licenca','/clients-info','TRIAL_INSTANCE_NAME','when','quoted','):\x20Campos\x20a\x20serem\x20atualizados:',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','messageId','order','envProcess','PRODUCTION','Group\x20not\x20found','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','LOG','params','^\x5cd+','code','deleteFlow','AutomateSystem\x20não\x20foi\x20inicializado','):\x20não\x20encontrou','/message','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','readreceipts','ObjectId','\x1b[44m','.uazapi.dev/fullchain.pem','DATABASE','lastCondition','uuid','deleteOne','Comando\x20desconhecido','WEBHOOK_EVENTS_CHATS_SET','):\x20debug\x20alterando\x20this.AutomateSystem','getScheduleMessage','desativadoFluxoAte','express-async-errors','Audio\x20converted\x20to\x20mp4','ContactModel','toString','editFlowVariable','express','Type\x20defined\x20as\x20audio','request\x20received\x20in\x20updateAgent','reconnectTimestamps','noConnection','count','errno','repeat','SERVER_PORT','closed','delInstanceFiles','messagesSend','):\x20Falha\x20ao\x20deletar\x20mensagem.','CHATS_UPDATE','textMessage','blockLogs','):\x20Buscando\x20conversas...','ORG:','Cache-Control','limit','API\x20Key\x20inválida.','public','blockId',',\x20fará\x20nova\x20verificação\x20em\x20','uncaughtException','https://uazapi-plugin.bubbleapps.io/','drop','now','deleteInstance','309sYJNMH','KEY','Forbidden','allContacts','start','env','conversationTimestamp','hasOwnProperty','allflows','GLOBAL','sign','call','cleaningUp','WEBHOOK_EVENTS_CONTACTS_SET','/wa-message-update','defineProperty','path','\x20--agree-tos\x20-d\x20','.uazapi.dev','ex:\x20\x22groupJid=120362@g.us\x22','request\x20received\x20in\x20getAutomateSystem','stickerMessage','/instance','class-validator','Certbot\x20executado\x20com\x20sucesso:\x20','Deletion\x20failed','toDataURL','remote\x20\x22origin\x22','getDelay','createflow','processConditions','request\x20received\x20in\x20deleteConversation','sending','replaceVariablesChat','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','):\x20teve\x20mudanças\x20chat.displayName:\x20','isURL','revokeInviteCode','Erro\x20inesperado\x20em\x20processvaredits:\x20','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','5305470IpOlUu','getClient','Output\x20path:\x20','OrAnd','render','request\x20received\x20in\x20scheduleMessage','apirequest','lean','groupadd','@whiskeysockets/baileys','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','):\x20Flow\x20desativado','fetchContacts','senderKeyDistributionMessage','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','whatsappNumber','ReplyOption\x20com\x20ID\x20','wuid','mkdirSync','keys','Erro\x20ao\x20buscar\x20conversas:\x20','child_process','load','nome','video-cover.png','Início','NODE_ENV','request\x20received\x20in\x20editConversation','width','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','bearer','Error\x20updating\x20participants','responsavelid','model','Erro\x20de\x20atualização:\x20','image','onTime','@redis/client','):\x20leadInfoVariables','Parando\x20aplicação...','encoding','groups_ignore','.refreshToken','authentication','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','loggedOut','paused','selectedOptions','Erro\x20ao\x20editar\x20o\x20chat:\x20','joinGroup','warn','removeProfilePicture','repository','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','mentioned','Business\x20profile\x20fetched','Router','footerText','joinGroupValidate','qrcode','\x20chats\x20de\x20','authState','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','/*.json','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Converting\x20image\x20to\x20WebP\x20to\x20sticker','axios','firstValue','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','mediaSticker','\x1b[42m','tokenId','editScheduleMessage','some','leadInfo.','toBRL','WEBHOOK','Flow\x20não\x20encontrado','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','lastReceivedMessage','\x1b[37m%s\x1b[0m','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','groupCreate','URI','):\x20Deletando\x20mensagem','flowConfig','max','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','charAt','Error\x20in\x20markMessageAsRead:','\x20saindo\x20da\x20função','jsonschema','deleteConversation','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','presence','web','audio/mp4','findFlow','next_groupId','Button\x20IDs\x20cannot\x20be\x20repeated.','log','\x1b[1m\x1b[37m','js-yaml','archive','random','sem\x20texto\x20na\x20mensagem','presenceSubscribe','opendirSync','formatStatusMessage','No\x20join\x20group\x20invite\x20code\x20or\x20url','profilePicture','toFile','Fluxo\x20não\x20encontrado','subdomain','hGet','fone','equal','NEW_JWT_TOKEN','font','stanzaId','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','scheduleMessage','changeVariables','connectionStatus','leadInfo','replaceVariablesInObject','\x20minutos.\x20Será\x20às\x20','documentWithCaptionMessage','modifiedCount','BufferJSON','status','augusto.fcs@gmail.com','Temp\x20audio\x20path:\x20','varedit','/create','\x20contacts','fetchProfilePicture','\x1b[33m\x1b[1m','groupSettingUpdate','sections','mediatype','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','CONNECTION','create\x20-\x20success','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','editflowvaredit','TEL','DD/MM\x20HH:mm:ss','DATABASE_ENABLED','Invalid\x20\x22oldToken\x22','redis','WEBHOOK_MAP','shift','processgoToFlow','AUTHENTICATION_JWT_EXPIRIN_IN','onWhatsApp','request\x20received\x20in\x20deleteDoneMessages','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','1832118QqCuTJ','!cmd_','video','delayMessage','deleteMessage','MESSAGES_SET','WEBHOOK_EVENTS_NEW_JWT_TOKEN','proto','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','):\x20Going\x20to\x20','out','instanceKeys','):\x20Conversas\x20encontradas:','apiResponse','selectableCount','PASSWORD','qrcode-terminal','key','findAndReplaceRegex','Type\x20is\x20required','AutomateSystem','Trying\x20to\x20get\x20business\x20profile','downloadMediaMessage','fetchConversation','quotedMessage','getContactModelForOwner','SERVER','demote','Validate','dbClient','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','formatBRNumber','\x1b[34m%s\x1b[0m','/refreshToken','GROUPS_UPSERT','Número:\x20','prefixCommand','scheduleNextCheck','initAuthCreds','replaceValue','SSL_CONF_FULLCHAIN','getTicketSystem','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','collection','Media\x20folder\x20path:','WEBHOOK_EVENTS_SEND_MESSAGE','logout','):\x20Buscando\x20flow...','-instances','\x20não\x20encontrado\x20para\x20atualização.','Error\x20removing\x20profile\x20picture','waitingPoll_id','notify','find','pollCreationMessageV2','last','latitude','findMessages','groupId','connection.update','text/event-stream','waMonitor','deleteBlock','updateMany','Data\x20inválida\x20fornecida','convertedOptions','badSession','metadata','fetchStatus','No\x20participants','Connection\x20closed\x20for\x20instance:\x20','_Chats','):\x20Editando\x20grupo\x20do\x20fluxo...','get','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','Contacts\x20not\x20found','processblock','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','http://checkip.dyndns.org','Audio\x20is\x20base64','#000000','static','\x1b[37m','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','groupToggleEphemeral','Primeiro\x20Valor:\x20','command','groupFetchAllParticipating','#ffffff','mediaKey','https','g.us','hostname','profilePictureUrl','The\x20','Image\x20is\x20url','WEBHOOK_EVENTS_CONTACTS_UPSERT','variables','\x22\x20not\x20found','!stop','condition','WA\x20MODULE','readFileSync','DARK','Instance\x20Key\x20from\x20DB:','events','toggleEphemeral','readMessages','NAME','notEmpty','):\x20Error\x20processing\x20conditions:\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','waitingPoll_replyOptions','markMessageAsRead','bulkWrite','@g.us','context','):\x20customFieldVariables','notMatchRegex','deleteMessageForEveryone','subjectOwner','waInstances','The\x20\x22','12134661uOGRqa','dump','stopMinutesMaxActives','):\x20isVote','Telefone:\x20','qrcode.updated','updateFlowConfig','):\x20Edit\x20schedule\x20message...','viewOnceMessage','end','convertaudio','including\x20timestamp\x20in\x20url:\x20','notContains','agents','saveVariable','dayjs','getDevice','Method\x20not\x20implemented.','PRESENCE_UPDATE','dropCollection','QRCODE_UPDATED','):\x20Enviando\x20áudio','_id','Parando\x20aplicação,\x20atualização\x20recebida','findWebhook','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','announcement','uazapiSendPoll','stderr','):\x20atualização\x20chat:\x20','createJid','getHours','hSet','getflow','throwAndLogError','.webp','\x22\x20cannot\x20be\x20empty','replace','replyOption','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','messageTimestamp','stopped','everyOne','fetchProfile','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão',',\x20resultado:\x20','CORS','Erro\x20ao\x20executar\x20o\x20Certbot:\x20','groupMetadata','Profile\x20not\x20found','arrayUnique','pollMessage','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','sendButtons','lastmsg','Revoke\x20error','EXPIRIN_IN','/group','DELETED','Instance\x20restarted','isInteger','convertToWebP','jsonwebtoken','waMonit','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','ERROR:\x20','updatePrivacySettings','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','split','eventEmitter','editFlow','):\x20Mensagem\x20já\x20enviada\x20para\x20','Bad\x20Request','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Full\x20file\x20path:','getOwnPropertyDescriptor','.sendDataWebhook-local','trim','):\x20Deletando\x20conversa...','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','put','Type\x20not\x20found','inviteCode','request\x20received\x20in\x20editFlowvariable','notas','vote','configService','SERVER_ACK','160rDpDIA','truncatedtoEnd','replaceVariablesInReplyOptions','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','has','Authentication\x20error','moreLogs','no.connection','sendPoll','findGroup','data','flushHeaders','contact','defineAuthState','Instance\x20logged\x20out','Font\x20is\x20required','Original\x20filename:','close','CONFIG_SESSION_PHONE','):\x20Entrou\x20na\x20função\x20goToFlow','readdirSync','qrCode','del','formatVCard','app-state-sync-key','push','editFlowBlock','addBlock','available','bodyString','deleteflow','getConversation','chatHandle','dbInstance','reactionMessage','redisCache','STORE_CLEANING_TERMINAL','restart','maxActives','):\x20Procurando\x20conversa','getProfileName','.json','SEND_MESSAGE','\x1b[36m%s\x1b[0m','.sendDataWebhook-global','truncatedto','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','imageMessage','create','webhookService','findGroupInfo','CHATS_DELETE','matchRegex','):\x20Query\x20params:','resetReconnectionVariables','Error\x20updating\x20message\x20status:','header','WEBHOOK_EVENTS_MESSAGES_UPDATE','editFlowReply','^\x5cd+[\x5c.@\x5cw-]+','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','STORE_MESSAGE','sendCommand','document','local_map','/wa-connection-update','request\x20received\x20in\x20fetchConversation',',\x20valor\x20a\x20encontrar:\x20\x22','instanceName\x20not\x20provided.','Erro\x20ao\x20iniciar\x20fluxo:\x20','updateBlock','createConversationforgoToFlow','utf8','sendPresenceUpdate','buffer','groupHandler','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','jpegThumbnail','AUTHENTICATION','CORS_CREDENTIALS','\x1b[40m','NextBlock','BRL','CLEANING_INTERVAL','isJidGroup','Sending\x20audio\x20whatsapp','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','Erro\x20de\x20reinicialização:\x20','unavailable','presence.update','updateMessage','updateProfileName','DATABASE_CONNECTION_HOST','Image\x20converted\x20to\x20WebP','verify','fromMe','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Hash\x20to\x20image\x20name:\x20','):\x20nextBlock.uazapi.name','uazapiDeleteMessage','findOneAndUpdate','SendScheduleMessage','Error\x20fetching\x20and\x20updating\x20profile:\x20','privacySettings','setting','106988AdxVUA','isJWT','LIMIT','apiName','Content-Type','):\x20','creds','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','\x20mensagens\x20de\x20','TEXT','updateLastSeenPrivacy','fetchMessages','splice','DisconnectReason','groupLeave','):\x20Enviando\x20texto','delay','Image\x20created','Operador:\x20\x22','goNextblock','store','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','messages','saveTextReply','expiration','The\x20instance\x20needs\x20to\x20be\x20disconnected','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Module\x20-\x20ON','findGroupInfos','remoteJidsRemaining','addReplyOption','round','scheduleSendText','\x1b[30m%s\x1b[0m','participants','segundos','vcard','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','response','greater','File\x20written\x20to\x20path:\x20','Temp\x20audio\x20created','\x1b[31m%s\x1b[0m','Instância:\x20','stdout','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','long','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','stringify','messageHandle','Error\x20update\x20group\x20picture','save','ios','reconnectAttempts','Erro\x20ao\x20editar\x20a\x20conversa:\x20','Instance\x20ID:','stateConnection','Falta\x20informação\x20para\x20a\x20chamada\x20API','):\x20Editando\x20condição\x20do\x20fluxo...','optionName','8080','base64','boolean','flowStopMinutes','msgRetryCounterCache','processUazapi','Erro\x20ao\x20atualizar\x20conversa:\x20','getMessage',',\x20Minutes\x20to\x20Close:\x20','enumerable','updateProfilePicture','assign','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','generateHash','editOperator','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','saveMediaToFile','hex','fetchPrivacySettings','PRIVKEY','reference','DATABASE_CONNECTION_DB_PREFIX_NAME','media','sendContact','editedMessage','request\x20received\x20in\x20createFlow','upperCase','sendMessage','):\x20Enviando\x20contato','update','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','EMAIL:','updateGParticipant','group\x20ignored','scheduleMessages','logger','ignoreGroups','\x20não\x20encontrado','.X-ABLabel:Celular\x0a','participant','Getting\x20audio\x20from\x20url','ChatModel','STORE_CHATS','\x1b[0m','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','flattenObject','END:VCARD','writeStore','Fetching\x20business\x20profile','):\x20transformedCustomFieldVariables','findByIdAndDelete','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','request\x20received\x20in\x20editFlowcondition','request\x20body:\x20','LOG_LEVEL','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','Types','toLowerCase','instanceName','Imagem\x20não\x20encontrada','messages.update','HeaderType','contactsArrayMessage','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','mongodb://','send.message','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','STORE_CONTACTS','chats','chrome','}}\x20->\x20valor\x20não\x20encontrado','routerPath','set','audioWhatsapp','array',',\x20Expiration\x20Time:\x20','WEBHOOK_EVENTS_PRESENCE_UPDATE','pushName','arraybuffer','leadInfo.customFields','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Fluxos\x20não\x20estão\x20ativados','group-participants.update','headers','node-cache','buttonText','audio/ogg;\x20codecs=opus','hDel','debug','https://','MessageModel','findAndReplace','groupInviteCode','The\x20property\x20cannot\x20be\x20empty','toUpperCase','shutdown\x20-r\x20now','startsWith','\x20}\x0a','unreadCount','createInstance','lowerCase','SSL_CONF','from','removeData','jwt','send','user','scheduleSendAudio','Error\x20updating\x20profile\x20picture','getRandomText','headerString','QRCODE','/chat','StatusJidList\x20is\x20required','createServer','padEnd','exists','goToFlow','size','no-cache','promote','backgroundColor','LOG_COLOR','findGroups','capitalizedWords','getVariablesChat','):\x20Ler\x20mensagem','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','<subdomain>','ip:\x20','isRunning','updateChatWithMessage','role','archived','messageSecret','pollCreationMessage','No\x20invite\x20code','sendMedia','createConnection','READ','Erro\x20do\x20Certbot:\x20','profile','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','getBase64FromMediaMessage','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','number',',\x20valor\x20passado:\x20\x22','unreadcount','floor','groupParticipantsUpdate','message','\x0a{\x20instance:\x20','title','pollCreationMessageKey','updateProfileStatus','loadEnv','app','groupAcceptInvite','Unable\x20to\x20leave\x20the\x20group','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','processvaredits',',\x20saindo.','createGroup','sendSticker','/media','24446ETrfTr','DOCKER_ENV','uazapi','WEBHOOK_EVENTS_STATUS_INSTANCE','substring','android','getLastMessage','phoneNumber','Invalid\x20format','env.KEY\x20!==\x20key','updateParticipant','):\x20Error\x20processing\x20the\x20block:\x20','*Pergunta*:\x20\x0a','deleteAll','atendimentoAberto','join','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','\x0aitem','/automate','):\x20alterando\x20this.AutomateSystem','contains','findIndex','messageContextInfo','poll','getFlow','WEBHOOK_EVENTS_CHATS_UPSERT','success','customFields','Instance\x20\x22','DATABASE_CONNECTION_PASSWORD','USER','prepareMediaMessage','926167vMpULB','editflow','EMAIL','reorderBlocks','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','groupName','writeFileSync','prototype','buttonId','updateGroupPicture','isBase64','JWT','folder','REDIS_ENABLED','Temp\x20image\x20deleted','flowStopConversation','sendList','secondValue','add','updateStopChat','router','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','updateGroupsAddPrivacy','ini','REDIS_URI','Error\x20in\x20scheduleNextCheck:\x20','sticker','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','readData','ENABLED','):\x20teve\x20mudanças\x20chat.name:\x20','FULLCHAIN','string','contactMessage','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','createNewConversation','Nenhum\x20chat\x20encontrado\x20para\x20editar.','messages.upsert','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','deleteReplyOption','authService','connectionState','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode','/instance/create','closeExistingConversations','\x20horas\x20e\x20','lastMessage','lastBlockId','writeData','creds.json','json','listMessage','\x1b[47m','write','sendMessageWithTyping','generate','uazapiSendAudio','true','findConversation','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','existsSync','ids','contacts.upsert','updateCustomFields','updateOne','\x1b[31m','Not\x20allowed\x20by\x20CORS','optionDescription','release','):\x20this.processingScheduleMessageId:\x20','Mensagem\x20não\x20suportada','/wa-qrcode','fromObject','readFile','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','integer','audioMessage','PENDING','default','contactHandle','originalUrl','FlowController','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','createWebhook','API\x20Key\x20from\x20Request:','desc','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','editConversation','temp-','14PaFOpq','230TWctEL','src','protocolMessage','):\x20Limpando\x20delayMessage','createConversationforStartFlow','Internal\x20Server\x20Error','Erro:','url','locationMessage','COLOR','enabled','flowActive','mongodb','makeCacheableSignalKeyStore','):\x20updateResult:','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','text','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','findParticipants','RECONNECT_TIME_FRAME','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','AUTHENTICATION_JWT_SECRET','PREFIX_KEY','.\x20Pulando.','connectionUpdate','utf-8','AppStateSyncKeyData','evaluateCondition','ephemeralMessage','messages.set','mediaMessage','ERROR','scheduled','getBusinessProfile','updateOnlinePrivacy','createClient','editFlowCondition','DATABASE_CONNECTION_URI','Error\x20updating\x20privacy\x20settings','Temp\x20audio\x20deleted','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','getChatModelForOwner','console','Image\x20is\x20base64','getMessageModelForOwner','syscall','rows','tags','collections','delete','insert','length','displayName','Converting\x20audio\x20to\x20mp4','LEVEL','jid','This\x20name\x20','Cannot\x20','ON\x20-\x20dbName:\x20','includes','E-mail:\x20','type','dbServer','verifiedName','oldValue','Message\x20not\x20found','Last\x20message\x20not\x20found','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','owner','mongoose','map','auth','isBusiness','organization','description','Valor\x20de\x20find\x20ou\x20replace\x20ausente','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','sendAudio','rm\x20-rf\x20','downloads','pollOnReplyDelete','\x1b[32m','delInstanceTime','CHATS_SET','/wa-presence','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','online','/wa-groups','done','Variáveis\x20não\x20encontradas:','fullName','editFlowGroup','/media/','Flow\x20iniciado\x20com\x20','updateReplyOption','loadInstance','/:instanceName','forEach','errorLog','Subscribed\x20Events:','pre','):\x20Criando\x20nova\x20conversa','Log\x20out\x20instance:\x20','findContacts','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','):\x20Conversa\x20está\x20expirada','Audio\x20processed','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','.jwt','uazapiSendMedia','GROUP_PARTICIPANTS_UPDATE','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','height','Error\x20updating\x20setting','g-t','fetchBusinessProfile','connectToWhatsapp','variablesToObject','expression','views',',\x20lastCondition:\x20','\x1b[30m','DB_PREFIX_NAME','contacts','readMessage','Connection','Archiving\x20chat','CORS_ORIGIN','request\x20received\x20in\x20allFlows','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','values','getAllData','locked','keep-alive','):\x20Comando\x20desconhecido:\x20','getTime','status.instance','Error\x20fetching\x20group','):\x20Erro\x20ao\x20editar\x20agentes:\x20','unlinkSync','replacer'];a0_0x1987=function(){return _0x518b5d;};return a0_0x1987();}async function mo(){const _0x503dda=a0_0x4b3f0f;let _0x4a5198;try{_0x4a5198=(await Me[_0x503dda(0x4ea)][_0x503dda(0x2a0)]('https://jsonip.com'))['data']['ip'];}catch(_0x1278f4){console['error'](_0x1278f4);try{_0x4a5198=(await Me['default'][_0x503dda(0x2a0)]('https://api.ipify.org?format=json'))[_0x503dda(0x337)]['ip'];}catch(_0x579f88){console[_0x503dda(0x622)](_0x579f88);try{_0x4a5198=(await Me[_0x503dda(0x4ea)][_0x503dda(0x2a0)](_0x503dda(0x2a5)))[_0x503dda(0x337)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x564bb2){return console[_0x503dda(0x622)](_0x564bb2),!0x1;}}}return _0x4a5198;}var no=0x0;async function cr(){const _0x1e4479=a0_0x4b3f0f;let _0x4a6061=E[_0x1e4479(0x2a0)](_0x1e4479(0xff)),_0x476400=E[_0x1e4479(0x2a0)](_0x1e4479(0x37b))[_0x1e4479(0x671)][_0x1e4479(0x18e)],_0x3d9032=E['get'](_0x1e4479(0x438)),_0x1d50d1=await mo(),_0x25593b=E['get']('SERVER')['PORT'];try{let _0x421928={'ip':_0x1d50d1||null,'redis_enable':_0x4a6061?.[_0x1e4479(0x4b6)]||null,'apikey':_0x476400||null,'ssl':_0x3d9032?.[_0x1e4479(0x3e6)]||null,'lastupdate':ho||null,'port':_0x25593b||null,'gitInstallError':Ae?.[_0x1e4479(0x46a)]||null};console[_0x1e4479(0x21a)](_0x1e4479(0x454),_0x421928['ip']);for(let _0x44d374 in _0x421928)_0x421928[_0x1e4479(0x194)](_0x44d374)&&_0x44d374!=='ip'&&(_0x421928[_0x44d374]=JSON['stringify'](_0x421928[_0x44d374]));return(await Me[_0x1e4479(0x4ea)]['post'](_0x1e4479(0x49d),_0x421928))[_0x1e4479(0x337)];}catch(_0x54ab65){return console['error'](_0x54ab65),!0x1;}}var ys=!0x1,ho=0x20f,lr=0x3,co=0x1b7740;async function Ss(){const _0x374ce0=a0_0x4b3f0f;if(!await mo())return console[_0x374ce0(0x622)](_0x374ce0(0x607)),'NO_IP';let _0x78dd7d=await cr();if(_0x78dd7d){if(_0x78dd7d[_0x374ce0(0x3bc)][_0x374ce0(0x146)]===!0x0){E[_0x374ce0(0x2a0)](_0x374ce0(0x438))[_0x374ce0(0x3e6)]['includes'](_0x374ce0(0x453))&&_0x78dd7d[_0x374ce0(0x3bc)][_0x374ce0(0x227)]&&await pr(_0x78dd7d[_0x374ce0(0x3bc)]['subdomain'],dr),Ae===null&&_0x78dd7d[_0x374ce0(0x3bc)]['last_update']-ho>0x0&&await ur(),ys||(ys=!0x0,ar());let _0x34ce2e=0x24*0x3c*0x3c,_0x5c3902=_0x78dd7d[_0x374ce0(0x3bc)][_0x374ce0(0x3b9)]>_0x34ce2e?_0x34ce2e:_0x78dd7d[_0x374ce0(0x3bc)][_0x374ce0(0x3b9)],_0x1b4f40=Number(_0x5c3902);if(isNaN(_0x1b4f40)){console[_0x374ce0(0x622)]('interval\x20não\x20é\x20um\x20número');return;}let _0x3e46e4=Math[_0x374ce0(0x468)](_0x1b4f40/0xe10),_0xe8474d=Math[_0x374ce0(0x468)](_0x1b4f40%0xe10/0x3c),_0x22a86d=new Date(Date[_0x374ce0(0x18b)]()+_0x1b4f40*0x3e8);setTimeout(Ss,_0x1b4f40*0x3e8);let _0x5811aa=_0x396660=>_0x396660[_0x374ce0(0x16e)]()['padStart'](0x2,'0'),_0x51ae0e=_0x374ce0(0x423)+_0x5811aa(_0x3e46e4)+_0x374ce0(0x4c8)+_0x5811aa(_0xe8474d)+_0x374ce0(0x234)+_0x5811aa(_0x22a86d[_0x374ce0(0x2f1)]())+':'+_0x5811aa(_0x22a86d['getMinutes']())+'.';console[_0x374ce0(0x21a)](_0x51ae0e);}else return console['log'](_0x374ce0(0x406)),ys&&(console[_0x374ce0(0x21a)](_0x374ce0(0x40a)),process[_0x374ce0(0xe9)]()),'LICENSE_INVALID';}else{if(no++,no<lr)console['log'](_0x374ce0(0x116)+co/0xea60+'\x20minutos...'),setTimeout(Ss,co);else return console[_0x374ce0(0x622)](_0x374ce0(0xbb)),'SERVER_OFFLINE';}}async function ur(){const _0x8149c0=a0_0x4b3f0f;console[_0x8149c0(0x21a)](_0x8149c0(0x2e9));let _0x14475d=(0x0,De[_0x8149c0(0x67a)])(_0x8149c0(0x3ab),{'shell':!0x0});_0x14475d[_0x8149c0(0x3c2)]['on'](_0x8149c0(0x337),_0x27b831=>{const _0xa520fc=_0x8149c0;console[_0xa520fc(0x21a)](_0xa520fc(0x5d7)+_0x27b831);}),_0x14475d[_0x8149c0(0x2ee)]['on'](_0x8149c0(0x337),_0x4a9ed5=>{const _0x1eb94a=_0x8149c0;console['error'](_0x1eb94a(0x1d7)+_0x4a9ed5);}),_0x14475d['on'](_0x8149c0(0xe9),_0x5c1564=>{const _0x5bdd2d=_0x8149c0;_0x5c1564!==0x0?console[_0x5bdd2d(0x622)](_0x5bdd2d(0x31d)+_0x5c1564):console[_0x5bdd2d(0x21a)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x5bdd2d(0x21a)](_0x5bdd2d(0x1dc)),setTimeout(()=>process[_0x5bdd2d(0xe9)](),0x2710);});}var dr=Ie[a0_0x4b3f0f(0x4ea)][a0_0x4b3f0f(0x488)](__dirname,'env.yml');async function pr(_0x3d53b9,_0x293266){const _0x5cbeff=a0_0x4b3f0f;let _0x75292c=mr();try{let _0xa90d32=de[_0x5cbeff(0x4ea)]['readFileSync'](_0x293266,'utf8'),_0x3c5938=Es[_0x5cbeff(0x4ea)]['load'](_0xa90d32);_0x3c5938[_0x5cbeff(0x37b)]['API_KEY'][_0x5cbeff(0x18e)]=_0x75292c,_0x3c5938[_0x5cbeff(0x438)][_0x5cbeff(0x3e6)]=_0x5cbeff(0xaf)+_0x3d53b9+'.uazapi.dev/privkey.pem',_0x3c5938[_0x5cbeff(0x438)][_0x5cbeff(0x4b8)]=_0x5cbeff(0xaf)+_0x3d53b9+_0x5cbeff(0x161),_0x3c5938['CONFIG_SESSION_PHONE'][_0x5cbeff(0x142)]=_0x3d53b9;let _0x4024df=Es[_0x5cbeff(0x4ea)][_0x5cbeff(0x2d3)](_0x3c5938);de['default'][_0x5cbeff(0x49f)](_0x293266,_0x4024df,_0x5cbeff(0x375)),console[_0x5cbeff(0x21a)](_0x5cbeff(0x1eb)),gr(_0x3d53b9),console['log'](_0x5cbeff(0x1dc)),setTimeout(()=>hr(),0x2710);}catch(_0x4ff8bb){console[_0x5cbeff(0x622)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x4ff8bb);}}function gr(_0x48ed86){const _0x21a418=a0_0x4b3f0f;let _0x498be0=_0x21a418(0x239),_0x1b5793=_0x48ed86+_0x21a418(0x19f),_0x31fb9b='certbot\x20certonly\x20--standalone\x20-m\x20'+_0x498be0+_0x21a418(0x19e)+_0x1b5793;(0x0,De['exec'])(_0x31fb9b,(_0x26bd46,_0x3646dc,_0x348b07)=>{const _0x40a88d=_0x21a418;if(_0x26bd46){console[_0x40a88d(0x622)](_0x40a88d(0x301)+_0x26bd46[_0x40a88d(0x46a)]);return;}if(_0x348b07){console[_0x40a88d(0x622)](_0x40a88d(0x45f)+_0x348b07);return;}console[_0x40a88d(0x21a)](_0x40a88d(0x1a5)+_0x3646dc);});}function mr(_0x1bbb5a=0x32){const _0xb20fb9=a0_0x4b3f0f;let _0xdfb5b4=_0xb20fb9(0x11a),_0x2a20c4='';for(let _0x48e413=0x0;_0x48e413<_0x1bbb5a;_0x48e413++)_0x2a20c4+=_0xdfb5b4[_0xb20fb9(0x20e)](Math['floor'](Math[_0xb20fb9(0x21e)]()*_0xdfb5b4[_0xb20fb9(0x529)]));return _0x2a20c4;}function hr(){const _0x2d52b0=a0_0x4b3f0f;(0x0,De['exec'])(_0x2d52b0(0x432),(_0x3ca243,_0x52d1e5,_0x2f12e4)=>{const _0x4fb0cc=_0x2d52b0;if(_0x3ca243){console[_0x4fb0cc(0x622)](_0x4fb0cc(0x579)+_0x3ca243);return;}if(_0x2f12e4){console[_0x4fb0cc(0x622)](_0x4fb0cc(0x384)+_0x2f12e4);return;}console[_0x4fb0cc(0x21a)](_0x4fb0cc(0xdb)+_0x52d1e5);});}