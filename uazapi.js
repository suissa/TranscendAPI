const a0_0x2e4b91=a0_0x22a8;(function(_0x368523,_0x3cea51){const _0x4d62e5=a0_0x22a8,_0x375aa6=_0x368523();while(!![]){try{const _0x273ecd=-parseInt(_0x4d62e5(0x2fc))/0x1+parseInt(_0x4d62e5(0x3c7))/0x2*(-parseInt(_0x4d62e5(0x239))/0x3)+parseInt(_0x4d62e5(0x467))/0x4+parseInt(_0x4d62e5(0x567))/0x5*(-parseInt(_0x4d62e5(0x51d))/0x6)+parseInt(_0x4d62e5(0x750))/0x7+parseInt(_0x4d62e5(0x5a1))/0x8*(-parseInt(_0x4d62e5(0x687))/0x9)+parseInt(_0x4d62e5(0x6c9))/0xa*(parseInt(_0x4d62e5(0x1a8))/0xb);if(_0x273ecd===_0x3cea51)break;else _0x375aa6['push'](_0x375aa6['shift']());}catch(_0x58027c){_0x375aa6['push'](_0x375aa6['shift']());}}}(a0_0x21ee,0x484c1));var xr=Object[a0_0x2e4b91(0x74b)],Ie=Object[a0_0x2e4b91(0x244)],_r=Object[a0_0x2e4b91(0x399)],Pr=Object[a0_0x2e4b91(0x6c0)],$r=Object[a0_0x2e4b91(0x4c2)],kr=Object['prototype'][a0_0x2e4b91(0x1f7)],Lr=(_0x27bec7,_0x5b223d)=>{for(var _0x508fea in _0x5b223d)Ie(_0x27bec7,_0x508fea,{'get':_0x5b223d[_0x508fea],'enumerable':!0x0});},Ds=(_0x3d9ccb,_0x3abcbd,_0x5cfa50,_0x2d5889)=>{const _0x14e903=a0_0x2e4b91;if(_0x3abcbd&&typeof _0x3abcbd==_0x14e903(0x481)||typeof _0x3abcbd==_0x14e903(0x625)){for(let _0x2f1122 of Pr(_0x3abcbd))!kr[_0x14e903(0x77e)](_0x3d9ccb,_0x2f1122)&&_0x2f1122!==_0x5cfa50&&Ie(_0x3d9ccb,_0x2f1122,{'get':()=>_0x3abcbd[_0x2f1122],'enumerable':!(_0x2d5889=_r(_0x3abcbd,_0x2f1122))||_0x2d5889[_0x14e903(0x34c)]});}return _0x3d9ccb;},R=(_0x26ecb3,_0x5c543a,_0x9c041b)=>(_0x9c041b=_0x26ecb3!=null?xr($r(_0x26ecb3)):{},Ds(_0x5c543a||!_0x26ecb3||!_0x26ecb3[a0_0x2e4b91(0x18e)]?Ie(_0x9c041b,a0_0x2e4b91(0x5f2),{'value':_0x26ecb3,'enumerable':!0x0}):_0x9c041b,_0x26ecb3)),Fr=_0x39e28f=>Ds(Ie({},a0_0x2e4b91(0x18e),{'value':!0x0}),_0x39e28f),zo={};Lr(zo,{'subdomain':()=>Cs}),module['exports']=Fr(zo);var Rr=R(require(a0_0x2e4b91(0x415))),_s=require('fs'),Ps=require(a0_0x2e4b91(0x347)),$s=require(a0_0x2e4b91(0x2ed)),De=require('path'),ae=process[a0_0x2e4b91(0x2ab)](),pe=(0x0,De[a0_0x2e4b91(0x727)])(ae,a0_0x2e4b91(0x69e)),xs=(0x0,De['join'])(ae,a0_0x2e4b91(0x599)),ji=(0x0,De['join'])(ae,a0_0x2e4b91(0x53c),a0_0x2e4b91(0x6b0)),Qt=class{constructor(){const _0x1a7c2a=a0_0x2e4b91;this[_0x1a7c2a(0x19d)]();}['get'](_0x22f3b3){const _0x1daa0d=a0_0x2e4b91;return this[_0x1daa0d(0x5ed)][_0x22f3b3];}[a0_0x2e4b91(0x19d)](){const _0x220f86=a0_0x2e4b91;this[_0x220f86(0x5ed)]=process[_0x220f86(0x5ed)]?.[_0x220f86(0x4eb)]!==_0x220f86(0x6db)?this['envYaml']():this[_0x220f86(0x457)](),process['env']?.[_0x220f86(0x4eb)]===_0x220f86(0x6db)&&(this[_0x220f86(0x5ed)]['SERVER']['TYPE']=_0x220f86(0x655),this[_0x220f86(0x5ed)]['SERVER'][_0x220f86(0x350)]=Number['parseInt'](process[_0x220f86(0x5ed)]?.['SERVER_PORT']??_0x220f86(0x5a0)));}[a0_0x2e4b91(0x681)](){const _0x311b6b=a0_0x2e4b91;return(0x0,Ps[_0x311b6b(0x771)])((0x0,_s[_0x311b6b(0x61e)])((0x0,$s[_0x311b6b(0x727)])(xs,_0x311b6b(0x60c)),{'encoding':_0x311b6b(0x748)}));}[a0_0x2e4b91(0x457)](){const _0xe09415=a0_0x2e4b91;return{'SERVER':{'TYPE':process[_0xe09415(0x5ed)][_0xe09415(0x7a5)],'PORT':Number[_0xe09415(0x4da)](process[_0xe09415(0x5ed)][_0xe09415(0x5d8)]),'URL':process['env'][_0xe09415(0x59c)]},'CORS':{'ORIGIN':process['env'][_0xe09415(0x44a)][_0xe09415(0x4ad)](','),'METHODS':process['env'][_0xe09415(0x32e)]['split'](','),'CREDENTIALS':process[_0xe09415(0x5ed)]?.[_0xe09415(0x30f)]===_0xe09415(0x6db)},'SSL_CONF':{'PRIVKEY':process[_0xe09415(0x5ed)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process['env']?.[_0xe09415(0x42b)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0xe09415(0x5ed)]?.['STORE_CLEANING_TERMINAL'])?Number['parseInt'](process[_0xe09415(0x5ed)][_0xe09415(0x5fb)]):void 0x0,'MESSAGES':process[_0xe09415(0x5ed)]?.[_0xe09415(0x228)]===_0xe09415(0x6db),'CONTACTS':process[_0xe09415(0x5ed)]?.[_0xe09415(0x42c)]===_0xe09415(0x6db),'CHATS':process[_0xe09415(0x5ed)]?.[_0xe09415(0x6fd)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0xe09415(0x5ed)]?.[_0xe09415(0x57a)],'PORT':Number[_0xe09415(0x4da)](process[_0xe09415(0x5ed)]?.[_0xe09415(0x57a)]),'USER':process[_0xe09415(0x5ed)][_0xe09415(0x230)],'PASSWORD':process[_0xe09415(0x5ed)][_0xe09415(0x4e4)],'URI':process[_0xe09415(0x5ed)][_0xe09415(0x4b7)],'DB_PREFIX_NAME':process['env'][_0xe09415(0x2bc)]},'ENABLED':process[_0xe09415(0x5ed)]?.[_0xe09415(0x764)]===_0xe09415(0x6db)},'REDIS':{'ENABLED':process[_0xe09415(0x5ed)]?.[_0xe09415(0x6f2)]===_0xe09415(0x6db),'URI':process[_0xe09415(0x5ed)][_0xe09415(0x4ee)]||_0xe09415(0x527),'PREFIX_KEY':process[_0xe09415(0x5ed)][_0xe09415(0x6b2)]||_0xe09415(0x55c)},'LOG':{'LEVEL':process[_0xe09415(0x5ed)]?.[_0xe09415(0x67d)]['split'](','),'COLOR':process[_0xe09415(0x5ed)]?.['LOG_COLOR']===_0xe09415(0x6db)},'AUTHENTICATION':{'TYPE':process[_0xe09415(0x5ed)][_0xe09415(0x162)],'API_KEY':{'KEY':process['env']['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0xe09415(0x65e)](process['env']?.[_0xe09415(0x200)])?Number['parseInt'](process[_0xe09415(0x5ed)][_0xe09415(0x200)]):0xe10,'SECRET':process[_0xe09415(0x5ed)][_0xe09415(0x3a3)]}}};}},b=new Qt(),Tr=R(require(a0_0x2e4b91(0x284))),de=R(require(a0_0x2e4b91(0x45a))),As=require(a0_0x2e4b91(0x2ed)),Yt=R(require('dayjs')),Xt=(_0x57652c=>(_0x57652c[a0_0x2e4b91(0x517)]=a0_0x2e4b91(0x708),_0x57652c[a0_0x2e4b91(0x33f)]=a0_0x2e4b91(0x5cf),_0x57652c[a0_0x2e4b91(0x707)]='\x1b[33m',_0x57652c['ERROR']=a0_0x2e4b91(0x532),_0x57652c['DEBUG']=a0_0x2e4b91(0x15e),_0x57652c[a0_0x2e4b91(0x530)]=a0_0x2e4b91(0x305),_0x57652c[a0_0x2e4b91(0x430)]=a0_0x2e4b91(0x299),_0x57652c))(Xt||{}),ks=(_0x2bea15=>(_0x2bea15['LOG']=a0_0x2e4b91(0x154),_0x2bea15[a0_0x2e4b91(0x430)]=a0_0x2e4b91(0x705),_0x2bea15[a0_0x2e4b91(0x33f)]=a0_0x2e4b91(0x54a),_0x2bea15[a0_0x2e4b91(0x707)]=a0_0x2e4b91(0x72c),_0x2bea15[a0_0x2e4b91(0x485)]=a0_0x2e4b91(0x542),_0x2bea15[a0_0x2e4b91(0x6ff)]=a0_0x2e4b91(0x548),_0x2bea15[a0_0x2e4b91(0x530)]='\x1b[37m%s\x1b[0m',_0x2bea15))(ks||{}),Ls=(_0x5c413a=>(_0x5c413a[a0_0x2e4b91(0x517)]=a0_0x2e4b91(0x517),_0x5c413a[a0_0x2e4b91(0x707)]=a0_0x2e4b91(0x707),_0x5c413a[a0_0x2e4b91(0x33f)]='INFO',_0x5c413a['DARK']=a0_0x2e4b91(0x430),_0x5c413a[a0_0x2e4b91(0x485)]=a0_0x2e4b91(0x485),_0x5c413a[a0_0x2e4b91(0x6ff)]=a0_0x2e4b91(0x6ff),_0x5c413a['VERBOSE']=a0_0x2e4b91(0x530),_0x5c413a))(Ls||{}),Fs=(_0x282c44=>(_0x282c44['LOG']=a0_0x2e4b91(0x520),_0x282c44['INFO']='\x1b[44m',_0x282c44[a0_0x2e4b91(0x707)]=a0_0x2e4b91(0x421),_0x282c44['DARK']=a0_0x2e4b91(0x285),_0x282c44[a0_0x2e4b91(0x485)]='\x1b[41m',_0x282c44[a0_0x2e4b91(0x6ff)]=a0_0x2e4b91(0x3a6),_0x282c44['VERBOSE']=a0_0x2e4b91(0x6e6),_0x282c44))(Fs||{}),v=class{constructor(_0x13d5fc='Logger'){const _0xdbb96e=a0_0x2e4b91;this['context']=_0x13d5fc,this[_0xdbb96e(0x435)]=b;}[a0_0x2e4b91(0x68e)](_0x221770){const _0x2ba695=a0_0x2e4b91;this[_0x2ba695(0x275)]=_0x221770;}[a0_0x2e4b91(0x1eb)](_0x4ca2cc,_0x3e462a){const _0x4531af=a0_0x2e4b91;let _0x227d2c=[];this[_0x4531af(0x435)][_0x4531af(0x535)](_0x4531af(0x517))['LEVEL'][_0x4531af(0x2de)](_0x1e6099=>_0x227d2c[_0x4531af(0x20c)](Ls[_0x1e6099]));let _0x3964a3=typeof _0x4ca2cc;_0x227d2c[_0x4531af(0x5fa)](_0x3e462a)&&(b[_0x4531af(0x535)](_0x4531af(0x517))[_0x4531af(0x1cb)]?(console[_0x4531af(0x54d)](_0x4531af(0x4e7)+ks[_0x3e462a],_0x4531af(0x3cc),(0x0,Yt[_0x4531af(0x5f2)])()[_0x4531af(0x68a)]('DD/MM\x20HH:mm:ss'),_0x4531af(0x4d7),Xt[_0x3e462a]+Fs[_0x3e462a]+'\x1b[1m',_0x3e462a+_0x4531af(0x2a5),_0x4531af(0x637),this['context']+_0x4531af(0x4d7),Xt[_0x3e462a],_0x3964a3!==_0x4531af(0x481)?_0x4ca2cc:'','\x1b[0m'),_0x3964a3===_0x4531af(0x481)&&console[_0x4531af(0x54d)](_0x4ca2cc,'\x0a')):console['log']((0x0,Yt[_0x4531af(0x5f2)])()[_0x4531af(0x68a)](_0x4531af(0x330)),_0x3e462a+'\x20',''+this['context'],_0x4ca2cc));}[a0_0x2e4b91(0x54d)](_0x457018){const _0x19f111=a0_0x2e4b91;this['console'](_0x457018,_0x19f111(0x517));}[a0_0x2e4b91(0x23f)](_0x23eab4){const _0x5f1b3b=a0_0x2e4b91;this[_0x5f1b3b(0x1eb)](_0x23eab4,_0x5f1b3b(0x33f));}[a0_0x2e4b91(0x7a0)](_0xbd82e){const _0x15e4ce=a0_0x2e4b91;this[_0x15e4ce(0x1eb)](_0xbd82e,'WARN');}[a0_0x2e4b91(0x27b)](_0x2d5540){const _0x41c1c1=a0_0x2e4b91;this['console'](_0x2d5540,_0x41c1c1(0x485));}[a0_0x2e4b91(0x477)](_0x248c12){const _0x2fd220=a0_0x2e4b91;this[_0x2fd220(0x1eb)](_0x248c12,'VERBOSE');}[a0_0x2e4b91(0x789)](_0x341340){this['console'](_0x341340,'DEBUG');}[a0_0x2e4b91(0x788)](_0x3123ba){const _0x2bd02b=a0_0x2e4b91;this['console'](_0x3123ba,_0x2bd02b(0x430));}};function Us(){const _0x1d0703=a0_0x2e4b91;process['on'](_0x1d0703(0x3c1),(_0x57665f,_0xb89e0e)=>{const _0x3c051f=_0x1d0703;new v(_0x3c051f(0x3c1))[_0x3c051f(0x27b)]({'origin':_0xb89e0e,'stderr':process[_0x3c051f(0x62d)]['fd'],'error':_0x57665f});}),process['on'](_0x1d0703(0x620),(_0x8ff63b,_0x28a612)=>{const _0x506e49=_0x1d0703;new v('unhandledRejection')[_0x506e49(0x27b)]({'origin':_0x28a612,'stderr':process['stderr']['fd'],'error':_0x8ff63b});});}var Js=R(require(a0_0x2e4b91(0x331))),Zt=new Js[(a0_0x2e4b91(0x5f2))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),xe=require(a0_0x2e4b91(0x57f)),es=R(require(a0_0x2e4b91(0x57f))),Ur=new v(a0_0x2e4b91(0x1a4)),V=b[a0_0x2e4b91(0x535)]('DATABASE'),N=V['ENABLED']?V[a0_0x2e4b91(0x5e9)][a0_0x2e4b91(0x29d)]?es['default'][a0_0x2e4b91(0x492)](V[a0_0x2e4b91(0x5e9)][a0_0x2e4b91(0x29d)],{'dbName':V[a0_0x2e4b91(0x5e9)][a0_0x2e4b91(0x1c3)]+a0_0x2e4b91(0x329)}):es[a0_0x2e4b91(0x5f2)][a0_0x2e4b91(0x492)]('mongodb://'+V['CONNECTION'][a0_0x2e4b91(0x79f)]+':'+V[a0_0x2e4b91(0x5e9)][a0_0x2e4b91(0x350)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':V[a0_0x2e4b91(0x5e9)][a0_0x2e4b91(0x3ef)],'pass':V[a0_0x2e4b91(0x5e9)][a0_0x2e4b91(0x2a8)],'dbName':V[a0_0x2e4b91(0x5e9)][a0_0x2e4b91(0x1c3)]+a0_0x2e4b91(0x329)}):null;V[a0_0x2e4b91(0x6cd)]&&Ur[a0_0x2e4b91(0x23f)](a0_0x2e4b91(0x722)+N[a0_0x2e4b91(0x72b)]);var Jr=new xe[(a0_0x2e4b91(0x781))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String},'chatId':{'type':String}}),jr=new xe['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),qr=new xe[(a0_0x2e4b91(0x781))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':jr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String]}}),js=_0x4b391c=>{const _0x511c82=a0_0x2e4b91;let _0x3496e6='z_'+_0x4b391c+_0x511c82(0x689);return N?.[_0x511c82(0x55a)](_0x511c82(0x3ed),qr,_0x3496e6);},qs=require('mongoose'),Vr=new qs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x4ee3e5=>{const _0x30fd0a=a0_0x2e4b91;let _0x2529a1='z_'+_0x4ee3e5+_0x30fd0a(0x4ec);return N?.[_0x30fd0a(0x55a)]('ContactModel',Vr,_0x2529a1);},Bs=require(a0_0x2e4b91(0x57f)),Br=new Bs[(a0_0x2e4b91(0x781))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x52aa77=>{const _0x876ec8=a0_0x2e4b91;let _0x56e26e='z_'+_0x52aa77+_0x876ec8(0x333);return N?.[_0x876ec8(0x55a)](_0x876ec8(0x189),Br,_0x56e26e);},Ws=require('mongoose'),ts=class{},Gr=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'proxy':{'type':String}}),zs=N?.['model'](ts[a0_0x2e4b91(0x307)],Gr,a0_0x2e4b91(0x5c7)),Hs=require(a0_0x2e4b91(0x57f)),ss=class{},Ks=new Hs['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0x2e4b91(0x1e5)](a0_0x2e4b91(0x794),function(_0x45b142){const _0x28c4e5=a0_0x2e4b91;delete this[_0x28c4e5(0x338)],delete this[_0x28c4e5(0x465)],delete this[_0x28c4e5(0x20a)],delete this['flowStopConversation'],delete this[_0x28c4e5(0x165)],_0x45b142();});var Qs=N?.[a0_0x2e4b91(0x55a)](ss[a0_0x2e4b91(0x307)],Ks,a0_0x2e4b91(0x2bf)),x=require('mongoose'),_e=class{},Ys=new x[(a0_0x2e4b91(0x781))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),as=new x[(a0_0x2e4b91(0x781))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Wr=new x['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x2e4b91(0x62c)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x2e4b91(0x54c)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x2e4b91(0x2cc)},'pollErrorMessage':{'type':String,'default':a0_0x2e4b91(0x783)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new x[(a0_0x2e4b91(0x781))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),zr=new x[(a0_0x2e4b91(0x781))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Hr=new x[(a0_0x2e4b91(0x781))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new x[(a0_0x2e4b91(0x781))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Wr},'apirequest':zr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),cs=new x[(a0_0x2e4b91(0x781))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new x[(a0_0x2e4b91(0x781))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),rs=class{},ls=new x[(a0_0x2e4b91(0x781))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x6a18d3=a0_0x2e4b91;return'!cmd_'+Math[_0x6a18d3(0x1cf)]()['toString'](0x24)[_0x6a18d3(0x501)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[cs],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[as],'default':[]}});ls[a0_0x2e4b91(0x1e5)](a0_0x2e4b91(0x794),function(_0x4d060c){const _0x44df25=a0_0x2e4b91;let _0x4e5884=new Set(),_0x10fc61=new Set(this['variables']?.['map'](_0x4828df=>_0x4828df[_0x44df25(0x307)])),_0x44dfe3=JSON[_0x44df25(0x1ba)](this),_0x338fd4=/{{(?!_)([^}]*)}}/g,_0x4c5c1d;for(;(_0x4c5c1d=_0x338fd4[_0x44df25(0x16b)](_0x44dfe3))!==null;)_0x10fc61[_0x44df25(0x5df)](_0x4c5c1d[0x1])||_0x4e5884[_0x44df25(0x4a1)](_0x4c5c1d[0x1]);_0x4e5884[_0x44df25(0x255)]>0x0?(console[_0x44df25(0x7a0)](_0x44df25(0x6d3),Array[_0x44df25(0x2d6)](_0x4e5884)),this[_0x44df25(0x4ea)]=Array[_0x44df25(0x2d6)](_0x4e5884)):this['variablesNotFound']=[],_0x4d060c();});var ta=_0x56196b=>{const _0x123266=a0_0x2e4b91;let _0x46838e='z_'+_0x56196b+_0x123266(0x270);return N?.[_0x123266(0x55a)](_0x123266(0x50d),ls,_0x46838e);},sa=N?.[a0_0x2e4b91(0x55a)](rs[a0_0x2e4b91(0x307)],ls,a0_0x2e4b91(0x3d8)),Kr=new x[(a0_0x2e4b91(0x781))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[cs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Hr]},{'_id':!0x1}),os=class{},aa=new x['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[cs],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[as],'default':[]},'chatLog':Kr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x2e4b91(0x2cc)},'waitingMenu_replyOptions':{'type':[as],'default':[]}}),ra=_0x17eacc=>{const _0x44eb3c=a0_0x2e4b91;let _0x2cb646='z_'+_0x17eacc+_0x44eb3c(0x745);return N?.[_0x44eb3c(0x55a)](_0x44eb3c(0x1a1),aa,_0x2cb646);},oa=N?.[a0_0x2e4b91(0x55a)](os[a0_0x2e4b91(0x307)],aa,a0_0x2e4b91(0x782)),is=class{},Qr=new x['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Yr=new x['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new x['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x2e4b91(0x664)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Yr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Qr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x142544=>{const _0xef0884=a0_0x2e4b91;let _0x553a89='z_'+_0x142544+'_ScheduleMessages';return N?.[_0xef0884(0x55a)](_0xef0884(0x2a1),ia,_0x553a89);},ca=N?.[a0_0x2e4b91(0x55a)](is[a0_0x2e4b91(0x307)],ia,a0_0x2e4b91(0x1f8)),ns=class{},Xr=new x['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Zr=new x[(a0_0x2e4b91(0x781))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x2e4b91(0x422)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),eo=new x[(a0_0x2e4b91(0x781))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),to=new x['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[eo]},'customFields':{'type':[Xr]},'flowConfig':{'type':Zr,'default':{}}}),Pe=N?.[a0_0x2e4b91(0x55a)](ns['name'],to,a0_0x2e4b91(0x3c4)),la=require(a0_0x2e4b91(0x57f)),so=new la['Schema']({'_id':{'type':String},'name':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x4fcd29=>{const _0x335dbc=a0_0x2e4b91;let _0x384fd8='z_'+_0x4fcd29+'_Labels';return N?.[_0x335dbc(0x55a)](_0x335dbc(0x3d1),so,_0x384fd8);},I=class{constructor(_0x16d95f){const _0x7fa282=a0_0x2e4b91;this['dbSettings']=_0x16d95f['get'](_0x7fa282(0x1b0));}};function A(_0x10ffa5){const _0x4af854=a0_0x2e4b91;let _0x20ee35={};for(let [_0x4cdb93,_0x1321b0]of Object[_0x4af854(0x3fe)](_0x10ffa5))if(typeof _0x1321b0==_0x4af854(0x481)&&!Array[_0x4af854(0x604)](_0x1321b0)){for(let [_0x406960,_0x282e8c]of Object[_0x4af854(0x3fe)](_0x1321b0))_0x20ee35[_0x4cdb93+'.'+_0x406960]=_0x282e8c;}else _0x20ee35[_0x4cdb93]=_0x1321b0;return _0x20ee35;}var $e=class{constructor(_0x58ab8c,_0xa999f3,_0x50db9c,_0x21344a,_0x13290c,_0x95b6ae,_0x637996,_0x2a32cd,_0x471eb3,_0x46e068,_0x599589){const _0x520904=a0_0x2e4b91;this[_0x520904(0x662)]=_0x58ab8c,this['chat']=_0xa999f3,this[_0x520904(0x1c1)]=_0x50db9c,this[_0x520904(0x2bf)]=_0x21344a,this[_0x520904(0x6b0)]=_0x13290c,this[_0x520904(0x3d8)]=_0x95b6ae,this[_0x520904(0x782)]=_0x637996,this[_0x520904(0x693)]=_0x2a32cd,this[_0x520904(0x559)]=_0x471eb3,this[_0x520904(0x6b9)]=_0x46e068,this['dbClient']=_0x599589;}get[a0_0x2e4b91(0x458)](){const _0x512bf9=a0_0x2e4b91;return this[_0x512bf9(0x359)];}},ke=class{},Le=class extends I{[a0_0x2e4b91(0x640)](_0x2bc4ec){return Gs(_0x2bc4ec);}async[a0_0x2e4b91(0x441)](_0x35ec81,_0x2c3355){const _0x1aee9e=a0_0x2e4b91;if(_0x35ec81['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1aee9e(0x640)](_0x2c3355)[_0x1aee9e(0x2bb)]([..._0x35ec81]))[_0x1aee9e(0x52c)]};}catch(_0x41f2b4){return console[_0x1aee9e(0x54d)](_0x1aee9e(0x6e1),_0x41f2b4),_0x41f2b4;}}async[a0_0x2e4b91(0x18c)](_0x22640a,_0x5c36af){const _0x44698d=a0_0x2e4b91;try{let _0x5267d3=this['getMessageModelForOwner'](_0x5c36af),_0x22e51e=A(_0x22640a[_0x44698d(0x199)]);return await _0x5267d3[_0x44698d(0x18c)](_0x22e51e)['sort']({'messageTimestamp':-0x1})[_0x44698d(0x75f)](_0x22640a?.['limit']??0x0)[_0x44698d(0x2af)]();}catch{return[];}}async['delete'](_0x4bbef5,_0x48183c){const _0xe18221=a0_0x2e4b91;try{let _0xef801e=this[_0xe18221(0x640)](_0x48183c),_0x1f3e54=A(_0x4bbef5['where']);await _0xef801e[_0xe18221(0x40e)](_0x1f3e54);}catch(_0x8ed8ec){console[_0xe18221(0x27b)](_0x8ed8ec);}}async[a0_0x2e4b91(0x21f)](_0x23c6ac,_0x249bda,_0x3a3cf0){const _0x46dbe8=a0_0x2e4b91;try{let _0x383aad=this[_0x46dbe8(0x640)](_0x3a3cf0),_0x458b31=A(_0x23c6ac[_0x46dbe8(0x199)]);return await _0x383aad[_0x46dbe8(0x73a)](_0x458b31,{'$set':_0x249bda},{'new':!0x0});}catch(_0x4ceb6f){throw console[_0x46dbe8(0x27b)](_0x4ceb6f),_0x4ceb6f;}}async[a0_0x2e4b91(0x2bb)](_0x25359b,_0x495d8e){const _0x5bff1e=a0_0x2e4b91;if(_0x25359b[_0x5bff1e(0x52c)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5bff1e(0x640)](_0x495d8e)[_0x5bff1e(0x2bb)]([..._0x25359b]))[_0x5bff1e(0x52c)]};}catch(_0x31976b){return console[_0x5bff1e(0x54d)](_0x5bff1e(0x6e1),_0x31976b),_0x31976b;}}async[a0_0x2e4b91(0x2c6)](_0x1dbbd2){const _0x19f3e2=a0_0x2e4b91;try{return await this[_0x19f3e2(0x640)](_0x1dbbd2)[_0x19f3e2(0x1e3)][_0x19f3e2(0x57e)](),{'success':!0x0};}catch(_0x35ce31){return console[_0x19f3e2(0x27b)](_0x35ce31),{'success':!0x1,'error':_0x35ce31};}}},hr=R(require(a0_0x2e4b91(0x648))),y=R(require(a0_0x2e4b91(0x378))),Me=require('fs'),P=R(require('path')),se=R(require('axios')),mr=require(a0_0x2e4b91(0x64e)),fr=R(require(a0_0x2e4b91(0x5e5))),yr=R(require('qrcode-terminal')),da=[a0_0x2e4b91(0x30a),'documentMessage',a0_0x2e4b91(0x5be),a0_0x2e4b91(0x5c8),a0_0x2e4b91(0x2ac)],pa=[a0_0x2e4b91(0x413),a0_0x2e4b91(0x4b3),a0_0x2e4b91(0x79c),'viewOnceMessageV2'],bs=require('os'),At=R(require(a0_0x2e4b91(0x603))),Dt=require(a0_0x2e4b91(0x733)),Ot=require(a0_0x2e4b91(0x73e)),ne=R(require(a0_0x2e4b91(0x57f))),$=require(a0_0x2e4b91(0x417)),ge=class{constructor(_0x2034ec,_0x12e1c4,_0x414b2e){const _0x54c0a1=a0_0x2e4b91;this[_0x54c0a1(0x23b)]=_0x2034ec,this['exists']=_0x12e1c4,this[_0x54c0a1(0x307)]=_0x414b2e;}},Fe=class{},Ue=class{},we=class{},Je=class{},je=class{},he=class{},qe=class{},Ve=class{},Be=class{},Ge=class{},Ct=R(require(a0_0x2e4b91(0x45a))),ga=require('fs'),ha=require(a0_0x2e4b91(0x2ed));async function We(_0x2c0abc){const _0x3da211=a0_0x2e4b91;let _0x3e8353=B[_0x3da211(0x320)][_0x2c0abc];if(V[_0x3da211(0x6cd)]){let _0x27f33d=N[_0x3da211(0x4b5)]()['db'](V[_0x3da211(0x5e9)][_0x3da211(0x1c3)]+_0x3da211(0x1ef))[_0x3da211(0x1e3)](_0x2c0abc);return _0x3e8353||(await _0x27f33d[_0x3da211(0x18c)]({})[_0x3da211(0x509)]())[_0x3da211(0x52c)]>0x0;}return _0x3e8353||(0x0,ga['existsSync'])((0x0,ha[_0x3da211(0x727)])(pe,_0x2c0abc));}async function ma(_0x379a9c,_0x103d0e,_0x42eda2){const _0x3d53f5=a0_0x2e4b91;if(_0x379a9c[_0x3d53f5(0x294)][_0x3d53f5(0x5fa)](_0x3d53f5(0x554))||_0x379a9c[_0x3d53f5(0x294)][_0x3d53f5(0x5fa)](_0x3d53f5(0x2c1))||_0x379a9c[_0x3d53f5(0x294)][_0x3d53f5(0x5fa)](_0x3d53f5(0x15c))||_0x379a9c[_0x3d53f5(0x294)][_0x3d53f5(0x5fa)]('/config')||_0x379a9c['originalUrl'][_0x3d53f5(0x5fa)](_0x3d53f5(0x410))||_0x379a9c[_0x3d53f5(0x294)][_0x3d53f5(0x5fa)](_0x3d53f5(0x78b))||_0x379a9c[_0x3d53f5(0x294)][_0x3d53f5(0x5fa)](_0x3d53f5(0x3e4)))return _0x42eda2();let _0x59ec75=_0x379a9c['params'];if(!_0x59ec75?.[_0x3d53f5(0x5bc)])throw new h(_0x3d53f5(0x212));if(!await We(_0x59ec75['instanceName']))throw new L('The\x20'+_0x59ec75['instanceName']+_0x3d53f5(0x187));_0x42eda2();}async function fa(_0x24c601,_0x37e34c,_0x48ce13){const _0x403c44=a0_0x2e4b91;if(_0x24c601[_0x403c44(0x294)]['includes'](_0x403c44(0x554))){let _0x39b34d=_0x24c601[_0x403c44(0x43f)];if(await We(_0x39b34d[_0x403c44(0x5bc)]))throw new K(_0x403c44(0x522)+_0x39b34d[_0x403c44(0x5bc)]+_0x403c44(0x4cb));B['waInstances'][_0x39b34d[_0x403c44(0x5bc)]]&&delete B['waInstances'][_0x39b34d[_0x403c44(0x5bc)]];}_0x48ce13();}var ya=require(a0_0x2e4b91(0x417)),wa=R(require(a0_0x2e4b91(0x762))),ze=a0_0x2e4b91(0x55c),ro=new v('GUARD');async function oo(_0xfa926c,_0x4c8b69,_0x3407f8){const _0x123fe8=a0_0x2e4b91;let _0x170ef3=_0xfa926c[_0x123fe8(0x535)](_0x123fe8(0x19f));if(_0x170ef3&&b['get'](_0x123fe8(0x56a))[_0x123fe8(0x227)]['KEY']!==_0x170ef3)throw new ee();if(b[_0x123fe8(0x535)]('AUTHENTICATION')[_0x123fe8(0x227)][_0x123fe8(0x2ff)]===_0x170ef3)return _0x3407f8();if((_0xfa926c['originalUrl'][_0x123fe8(0x5fa)](_0x123fe8(0x554))||_0xfa926c[_0x123fe8(0x294)]['includes']('/instance/fetchInstances'))&&!_0x170ef3)throw new K(_0x123fe8(0x2b5),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x4f7ab2=b[_0x123fe8(0x535)](_0x123fe8(0x56a))[_0x123fe8(0x192)];try{let [_0x2cf9c4,_0x22fbe6]=_0xfa926c[_0x123fe8(0x535)]('authorization')[_0x123fe8(0x4ad)]('\x20');if(_0x2cf9c4['toLowerCase']()!==_0x123fe8(0x5e8))throw new ee();if(!(0x0,ya[_0x123fe8(0x6d4)])(_0x22fbe6))throw new ee();let _0x5470f5=_0xfa926c[_0x123fe8(0x3f2)],_0x4c0cce=wa['default'][_0x123fe8(0x24f)](_0x22fbe6,_0x4f7ab2[_0x123fe8(0x51e)],{'ignoreExpiration':_0x4f7ab2[_0x123fe8(0x32f)]===0x0});if(_0x5470f5[_0x123fe8(0x5bc)]!==_0x4c0cce[_0x123fe8(0x5bc)]||ze!==_0x4c0cce[_0x123fe8(0x76b)])throw new ee();return _0x3407f8();}catch(_0x1f4164){throw ro[_0x123fe8(0x27b)](_0x1f4164),new ee();}}async function io(_0x2a9d7f,_0x5b21e6,_0x56f411){const _0x49602e=a0_0x2e4b91;let _0x2a5fa3=b[_0x49602e(0x535)](_0x49602e(0x56a))[_0x49602e(0x227)],_0xa5ed76=_0x2a9d7f[_0x49602e(0x535)](_0x49602e(0x19f));if(_0x2a5fa3[_0x49602e(0x2ff)]===_0xa5ed76)return _0x56f411();if(_0x2a9d7f['originalUrl'][_0x49602e(0x5fa)](_0x49602e(0x554))){let _0x2c2dac=He,_0x1dbf57=_0x2a9d7f['body'][_0x49602e(0x5bc)];if(_0x2c2dac&&_0x1dbf57[_0x49602e(0x610)]()[_0x49602e(0x798)](_0x2c2dac[_0x49602e(0x610)]()))return _0x56f411();if(!_0xa5ed76)throw new K(_0x49602e(0x2b5),_0x49602e(0x741));}if(_0x2a9d7f[_0x49602e(0x294)][_0x49602e(0x5fa)](_0x49602e(0x2c1))&&!_0xa5ed76)throw new K(_0x49602e(0x2b5),_0x49602e(0x741));if(_0x2a9d7f[_0x49602e(0x294)][_0x49602e(0x5fa)](_0x49602e(0x15c))&&!_0xa5ed76)throw new K('Missing\x20global\x20api\x20key',_0x49602e(0x741));if(_0x2a9d7f[_0x49602e(0x294)][_0x49602e(0x5fa)](_0x49602e(0x3bb))&&!_0xa5ed76)throw new K('Missing\x20global\x20api\x20key',_0x49602e(0x741));try{let _0x2810d9=_0x2a9d7f[_0x49602e(0x3f2)];if((await ce[_0x49602e(0x6b0)][_0x49602e(0x18c)](_0x2810d9[_0x49602e(0x5bc)]))[_0x49602e(0x19f)]===_0xa5ed76)return _0x56f411();}catch{}throw new ee();}var ba={'jwt':oo,'apikey':io},Za=require('express'),M=require(a0_0x2e4b91(0x64e)),E=(..._0x39d253)=>{const _0x43b888=a0_0x2e4b91;let _0x1ab9c9={};return _0x39d253['forEach'](_0xb78484=>_0x1ab9c9[_0xb78484]={'minLength':0x1,'description':_0x43b888(0x160)+_0xb78484+_0x43b888(0x2ba)}),{'if':{'propertyNames':{'enum':[..._0x39d253]}},'then':{'properties':_0x1ab9c9}};},C={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'instanceName':{'type':a0_0x2e4b91(0x49c)}},...E(a0_0x2e4b91(0x5bc))},Hn={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x2e4b91(0x5a7)],...E(a0_0x2e4b91(0x5a7))},Kn={'properties':{'key':{'type':a0_0x2e4b91(0x481),'properties':{'id':{'type':a0_0x2e4b91(0x49c)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x2e4b91(0x48b)],...E('id','remoteJid')},'message':{'type':a0_0x2e4b91(0x481)}}},Q={'properties':{'delay':{'type':a0_0x2e4b91(0x729),'description':a0_0x2e4b91(0x608)},'presence':{'type':a0_0x2e4b91(0x49c),'enum':[a0_0x2e4b91(0x576),a0_0x2e4b91(0x434),'composing',a0_0x2e4b91(0x1f0),a0_0x2e4b91(0x5d4)]}}},z={'type':a0_0x2e4b91(0x49c),'pattern':a0_0x2e4b91(0x43d),'description':'Invalid\x20format'},Sa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x2e4b91(0x481),'properties':{'text':{'type':'string'}},'required':[a0_0x2e4b91(0x6c1)],...E(a0_0x2e4b91(0x6c1))}},'required':[a0_0x2e4b91(0x666),a0_0x2e4b91(0x577)]},Ea={'type':a0_0x2e4b91(0x49c),'pattern':a0_0x2e4b91(0x171),'description':'Invalid\x20format'},Qn={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':a0_0x2e4b91(0x481),'properties':{'text':{'type':a0_0x2e4b91(0x49c)}},'required':[a0_0x2e4b91(0x6c1)],...E('text')}},'required':['textMessage','number']},Yn={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x2e4b91(0x49c),'enum':[a0_0x2e4b91(0x72f),a0_0x2e4b91(0x45d),a0_0x2e4b91(0x3e9),'audio']},'media':{'type':a0_0x2e4b91(0x49c)},'fileName':{'type':'string'},'caption':{'type':a0_0x2e4b91(0x49c)}},'required':[a0_0x2e4b91(0x26d),'media'],...E(a0_0x2e4b91(0x2dd),a0_0x2e4b91(0x186),'media')}},'required':[a0_0x2e4b91(0x1e8),a0_0x2e4b91(0x577)]},Ma={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x2e4b91(0x481),'properties':{'image':{'type':'string'}},'required':[a0_0x2e4b91(0x72f)],...E(a0_0x2e4b91(0x72f))}},'required':[a0_0x2e4b91(0x2ac),a0_0x2e4b91(0x577)]},Ca={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'statusMessage':{'type':a0_0x2e4b91(0x481),'properties':{'type':{'type':a0_0x2e4b91(0x49c),'enum':[a0_0x2e4b91(0x6c1),a0_0x2e4b91(0x72f),a0_0x2e4b91(0x47e),a0_0x2e4b91(0x3e9)]},'content':{'type':a0_0x2e4b91(0x49c)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x2e4b91(0x49c)},'font':{'type':a0_0x2e4b91(0x729),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x2e4b91(0x1b8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2e4b91(0x49c),'pattern':a0_0x2e4b91(0x76d),'description':a0_0x2e4b91(0x18f)}},'allContacts':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]}},'required':[a0_0x2e4b91(0x4af),'content'],...E('type',a0_0x2e4b91(0x6cb))}},'required':[a0_0x2e4b91(0x418)]},va={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x2e4b91(0x49c),'enum':[a0_0x2e4b91(0x72f),a0_0x2e4b91(0x45d),a0_0x2e4b91(0x3e9),a0_0x2e4b91(0x47e)]},'media':{'type':a0_0x2e4b91(0x49c)},'fileName':{'type':a0_0x2e4b91(0x49c)},'caption':{'type':a0_0x2e4b91(0x49c)}},'required':[a0_0x2e4b91(0x26d),a0_0x2e4b91(0x43e)],...E(a0_0x2e4b91(0x2dd),a0_0x2e4b91(0x186),'media')}},'required':[a0_0x2e4b91(0x1e8),a0_0x2e4b91(0x577)]},Na={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x2e4b91(0x481),'properties':{'audio':{'type':'string'}},'required':['audio'],...E('audio')}},'required':['audioMessage',a0_0x2e4b91(0x577)]},Ra={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'number':{...z},'pollMessage':{'type':a0_0x2e4b91(0x481),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x2e4b91(0x577)},'values':{'type':a0_0x2e4b91(0x1b8),'minItems':0x2,'uniqueItems':!0x0}},'required':['name','selectableCount',a0_0x2e4b91(0x63b)],...E(a0_0x2e4b91(0x307),a0_0x2e4b91(0x38d),a0_0x2e4b91(0x63b))}},'required':[a0_0x2e4b91(0x577),'pollMessage']},Ta={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'number':{...z},'menuMessage':{'type':a0_0x2e4b91(0x481),'properties':{'text':{'type':a0_0x2e4b91(0x49c)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x2e4b91(0x6c1),a0_0x2e4b91(0x1fe)],...E('text',a0_0x2e4b91(0x1fe))}},'required':[a0_0x2e4b91(0x577),a0_0x2e4b91(0x645)]},Aa={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x2e4b91(0x481),'properties':{'title':{'type':a0_0x2e4b91(0x49c)},'description':{'type':a0_0x2e4b91(0x49c)},'footerText':{'type':'string'},'buttons':{'type':a0_0x2e4b91(0x1b8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x2e4b91(0x49c)},'buttonId':{'type':a0_0x2e4b91(0x49c)}},'required':[a0_0x2e4b91(0x61c),a0_0x2e4b91(0x1d8)],...E('buttonText',a0_0x2e4b91(0x1d8))}},'mediaMessage':{'type':a0_0x2e4b91(0x481),'properties':{'media':{'type':a0_0x2e4b91(0x49c)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x2e4b91(0x49c),'enum':['image','document',a0_0x2e4b91(0x3e9)]}},'required':[a0_0x2e4b91(0x43e),a0_0x2e4b91(0x26d)],...E('media',a0_0x2e4b91(0x2dd))}},'required':[a0_0x2e4b91(0x53b),'buttons'],...E(a0_0x2e4b91(0x53b),a0_0x2e4b91(0x474))}},'required':[a0_0x2e4b91(0x577),'buttonMessage']},Oa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x2e4b91(0x481),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x2e4b91(0x577)},'name':{'type':a0_0x2e4b91(0x49c)},'address':{'type':a0_0x2e4b91(0x49c)}},'required':['latitude',a0_0x2e4b91(0x43b)],...E('name',a0_0x2e4b91(0x1da))}},'required':['number',a0_0x2e4b91(0x1be)]},Ia={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x2e4b91(0x481),'properties':{'title':{'type':a0_0x2e4b91(0x49c)},'description':{'type':'string'},'footerText':{'type':a0_0x2e4b91(0x49c)},'buttonText':{'type':a0_0x2e4b91(0x49c)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2e4b91(0x481),'properties':{'title':{'type':a0_0x2e4b91(0x49c)},'rows':{'type':a0_0x2e4b91(0x1b8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2e4b91(0x481),'properties':{'title':{'type':a0_0x2e4b91(0x49c)},'description':{'type':a0_0x2e4b91(0x49c)},'rowId':{'type':'string'}},'required':['title',a0_0x2e4b91(0x661)],...E(a0_0x2e4b91(0x53b),a0_0x2e4b91(0x661))}}},'required':[a0_0x2e4b91(0x53b),'rows'],...E(a0_0x2e4b91(0x53b))}}},'required':[a0_0x2e4b91(0x53b),'description','buttonText',a0_0x2e4b91(0x1a3)],...E(a0_0x2e4b91(0x53b),'description',a0_0x2e4b91(0x61c),a0_0x2e4b91(0x5d5))}},'required':[a0_0x2e4b91(0x577),a0_0x2e4b91(0x6c2)]},Da={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x2e4b91(0x1b8),'items':{'type':'object','properties':{'fullName':{'type':a0_0x2e4b91(0x49c)},'phoneNumber':{'type':a0_0x2e4b91(0x49c),'minLength':0xa}},'required':[a0_0x2e4b91(0x414),a0_0x2e4b91(0x614)],...E('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x2e4b91(0x577),a0_0x2e4b91(0x726)]},xa={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'reactionMessage':{'type':a0_0x2e4b91(0x481),'properties':{'key':{'type':a0_0x2e4b91(0x481),'properties':{'id':{'type':a0_0x2e4b91(0x49c)},'remoteJid':{'type':a0_0x2e4b91(0x49c)},'fromMe':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2e4b91(0x78d),a0_0x2e4b91(0x48b)],...E('id',a0_0x2e4b91(0x78d))},'reaction':{'type':a0_0x2e4b91(0x49c)}},'required':[a0_0x2e4b91(0x16e),'reaction'],...E(a0_0x2e4b91(0x5b5))}},'required':['reactionMessage']},_a={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'numbers':{'type':a0_0x2e4b91(0x1b8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2e4b91(0x49c),'pattern':a0_0x2e4b91(0x76d),'description':a0_0x2e4b91(0x353)}}}},Pa={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'readMessages':{'type':a0_0x2e4b91(0x1b8),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x2e4b91(0x49c)},'fromMe':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2e4b91(0x49c)}},'required':['id',a0_0x2e4b91(0x48b),'remoteJid'],...E('id',a0_0x2e4b91(0x78d))}}},'required':[a0_0x2e4b91(0x240)]},$a={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'privacySettings':{'type':a0_0x2e4b91(0x481),'properties':{'readreceipts':{'type':'string','enum':[a0_0x2e4b91(0x58a),a0_0x2e4b91(0x16f)]},'profile':{'type':a0_0x2e4b91(0x49c),'enum':['all',a0_0x2e4b91(0x715),a0_0x2e4b91(0x5b6),a0_0x2e4b91(0x16f)]},'status':{'type':'string','enum':['all',a0_0x2e4b91(0x715),'contact_blacklist',a0_0x2e4b91(0x16f)]},'online':{'type':'string','enum':[a0_0x2e4b91(0x58a),a0_0x2e4b91(0x3db)]},'last':{'type':'string','enum':[a0_0x2e4b91(0x58a),a0_0x2e4b91(0x715),'contact_blacklist',a0_0x2e4b91(0x16f)]},'groupadd':{'type':a0_0x2e4b91(0x49c),'enum':[a0_0x2e4b91(0x58a),a0_0x2e4b91(0x715),a0_0x2e4b91(0x5b6),'none']}},'required':['readreceipts',a0_0x2e4b91(0x2da),a0_0x2e4b91(0x221),a0_0x2e4b91(0x1d5),'last',a0_0x2e4b91(0x173)],...E(a0_0x2e4b91(0x663),a0_0x2e4b91(0x2da),'status','online',a0_0x2e4b91(0x2d0),a0_0x2e4b91(0x173))}},'required':[a0_0x2e4b91(0x6ee)]},ka={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'lastMessage':{'type':a0_0x2e4b91(0x481),'properties':{'key':{'type':a0_0x2e4b91(0x481),'properties':{'id':{'type':a0_0x2e4b91(0x49c)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2e4b91(0x48b),a0_0x2e4b91(0x78d)],...E('id',a0_0x2e4b91(0x78d))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x2e4b91(0x16e)],...E(a0_0x2e4b91(0x36e))},'archive':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x2e4b91(0x761)]},La={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'id':{'type':a0_0x2e4b91(0x49c)},'fromMe':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2e4b91(0x49c)},'participant':{'type':a0_0x2e4b91(0x49c)}},'required':['id',a0_0x2e4b91(0x48b),a0_0x2e4b91(0x78d)],...E('id',a0_0x2e4b91(0x78d),a0_0x2e4b91(0x6a5))},Fa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'where':{'type':a0_0x2e4b91(0x481),'properties':{'_id':{'type':a0_0x2e4b91(0x49c),'minLength':0x1},'pushName':{'type':a0_0x2e4b91(0x49c),'minLength':0x1},'id':{'type':a0_0x2e4b91(0x49c),'minLength':0x1}},...E(a0_0x2e4b91(0x264),'id','pushName')}}},Ua={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'name':{'type':a0_0x2e4b91(0x49c)}},...E(a0_0x2e4b91(0x307))},Ja={'$id':(0x0,M['v4'])(),'type':'object','properties':{'status':{'type':a0_0x2e4b91(0x49c)}},...E(a0_0x2e4b91(0x221))},be={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'number':{'type':'string'},'picture':{'type':'string'}}},ja={'type':a0_0x2e4b91(0x481),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x2e4b91(0x49c)},'picture':{'type':'string'},'status':{'type':a0_0x2e4b91(0x49c)},'isBusiness':{'type':a0_0x2e4b91(0x62a)}}},qa={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'where':{'type':a0_0x2e4b91(0x481),'properties':{'_id':{'type':a0_0x2e4b91(0x49c),'minLength':0x1},'key':{'type':a0_0x2e4b91(0x481),'if':{'propertyNames':{'enum':[a0_0x2e4b91(0x48b),a0_0x2e4b91(0x78d),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x2e4b91(0x49c),'minLength':0x1,'description':a0_0x2e4b91(0x76a)},'id':{'type':a0_0x2e4b91(0x49c),'minLength':0x1,'description':a0_0x2e4b91(0x76a)},'fromMe':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x2e4b91(0x481)}},...E(a0_0x2e4b91(0x264))},'limit':{'type':a0_0x2e4b91(0x729)}}},Xn={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'where':{'type':a0_0x2e4b91(0x481),'properties':{'_id':{'type':a0_0x2e4b91(0x49c)},'remoteJid':{'type':a0_0x2e4b91(0x49c)},'id':{'type':'string'},'fromMe':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x2e4b91(0x49c)},'status':{'type':a0_0x2e4b91(0x49c),'enum':[a0_0x2e4b91(0x485),a0_0x2e4b91(0x190),a0_0x2e4b91(0x70d),a0_0x2e4b91(0x198),a0_0x2e4b91(0x5db),a0_0x2e4b91(0x302)]}},...E(a0_0x2e4b91(0x264),a0_0x2e4b91(0x78d),'id',a0_0x2e4b91(0x221))},'limit':{'type':'integer'}}},Va={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':a0_0x2e4b91(0x49c),'enum':[a0_0x2e4b91(0x576),'available',a0_0x2e4b91(0x696),a0_0x2e4b91(0x1f0),'paused']}},'required':[a0_0x2e4b91(0x427),'number']},Ba={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'subject':{'type':a0_0x2e4b91(0x49c)},'description':{'type':a0_0x2e4b91(0x49c)},'profilePicture':{'type':a0_0x2e4b91(0x49c)},'participants':{'type':a0_0x2e4b91(0x1b8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2e4b91(0x49c),'minLength':0xa,'pattern':a0_0x2e4b91(0x39f),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject','participants'],...E(a0_0x2e4b91(0x51a),a0_0x2e4b91(0x474),a0_0x2e4b91(0x692))},Se={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'groupJid':{'type':a0_0x2e4b91(0x49c),'pattern':a0_0x2e4b91(0x48f)}},'required':[a0_0x2e4b91(0x3a9)],...E(a0_0x2e4b91(0x3a9))},Ga={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2e4b91(0x49c)},'action':{'type':a0_0x2e4b91(0x49c),'enum':[a0_0x2e4b91(0x4a1),a0_0x2e4b91(0x30b),a0_0x2e4b91(0x631),'demote']},'participants':{'type':a0_0x2e4b91(0x1b8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2e4b91(0x49c),'minLength':0xa,'pattern':a0_0x2e4b91(0x39f),'description':a0_0x2e4b91(0x4c7)}}},'required':[a0_0x2e4b91(0x3a9),a0_0x2e4b91(0x695),a0_0x2e4b91(0x25f)],...E('groupJid',a0_0x2e4b91(0x695))},Wa={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x2e4b91(0x577),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x2e4b91(0x3a9),a0_0x2e4b91(0x3ae)],...E('groupJid','expiration')},za={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'groupJid':{'type':a0_0x2e4b91(0x49c)},'image':{'type':a0_0x2e4b91(0x49c)}},'required':[a0_0x2e4b91(0x3a9),a0_0x2e4b91(0x72f)],...E(a0_0x2e4b91(0x3a9),a0_0x2e4b91(0x72f))},Ha={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'groupJid':{'type':a0_0x2e4b91(0x49c)},'description':{'type':a0_0x2e4b91(0x49c)}},'required':[a0_0x2e4b91(0x3a9),'description'],...E(a0_0x2e4b91(0x3a9),a0_0x2e4b91(0x474))},Ka={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'groupJid':{'type':a0_0x2e4b91(0x49c)},'name':{'type':'string'}},'required':[a0_0x2e4b91(0x3a9),a0_0x2e4b91(0x307)],...E('groupJid',a0_0x2e4b91(0x307))},Qa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2e4b91(0x49c)},'setting':{'type':a0_0x2e4b91(0x49c),'enum':['announcement','not_announcement','unlocked',a0_0x2e4b91(0x15d)]}},'required':['groupJid',a0_0x2e4b91(0x273)],...E('groupJid',a0_0x2e4b91(0x273))},Ya={'$id':(0x0,M['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x2e4b91(0x49c)}},'required':[a0_0x2e4b91(0x549)],...E(a0_0x2e4b91(0x549))},Xa={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'url':{'type':a0_0x2e4b91(0x49c)},'enabled':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]}},'required':[a0_0x2e4b91(0x3c3),a0_0x2e4b91(0x5a3)]},Zn={'$id':(0x0,M['v4'])(),'type':a0_0x2e4b91(0x481),'properties':{'local_map':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x2e4b91(0x62a),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x2e4b91(0x306),a0_0x2e4b91(0x590),a0_0x2e4b91(0x506),'MESSAGES_UPDATE','MESSAGES_UPSERT',a0_0x2e4b91(0x51f),'CONTACTS_SET',a0_0x2e4b91(0x1c9),a0_0x2e4b91(0x6dd),a0_0x2e4b91(0x4a4),'CHATS_SET','CHATS_UPSERT',a0_0x2e4b91(0x246),a0_0x2e4b91(0x1f1),a0_0x2e4b91(0x541),a0_0x2e4b91(0x220),a0_0x2e4b91(0x303),'GROUP_PARTICIPANTS_UPDATE'],...E(a0_0x2e4b91(0x3ec),a0_0x2e4b91(0x306),'QRCODE_UPDATED',a0_0x2e4b91(0x506),a0_0x2e4b91(0x6b3),a0_0x2e4b91(0x4ae),a0_0x2e4b91(0x51f),'CONTACTS_SET',a0_0x2e4b91(0x1c9),a0_0x2e4b91(0x6dd),a0_0x2e4b91(0x4a4),'CHATS_SET',a0_0x2e4b91(0x375),a0_0x2e4b91(0x246),a0_0x2e4b91(0x1f1),a0_0x2e4b91(0x541),a0_0x2e4b91(0x220),a0_0x2e4b91(0x303),a0_0x2e4b91(0x174))},Ke=class{},Qe=class extends I{['getContactModelForOwner'](_0x50c72a){return Vs(_0x50c72a);}async[a0_0x2e4b91(0x441)](_0x49ba1d){const _0x2dc368=a0_0x2e4b91;if(_0x49ba1d[_0x2dc368(0x52c)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x49ba1d[0x0][_0x2dc368(0x1d6)])[_0x2dc368(0x2bb)]([..._0x49ba1d]))[_0x2dc368(0x52c)]};}catch(_0x514908){return _0x514908;}}async[a0_0x2e4b91(0x6bb)](_0x2fc894,_0x1e29f7){const _0x5000ad=a0_0x2e4b91;try{return{'deletedCount':(await this[_0x5000ad(0x253)](_0x1e29f7)[_0x5000ad(0x40e)]({..._0x2fc894[_0x5000ad(0x199)]}))[_0x5000ad(0x2ee)]};}catch(_0xbdd4a8){return{'error':_0xbdd4a8?.[_0x5000ad(0x40f)]()};}}async[a0_0x2e4b91(0x21f)](_0x377da2,_0x5362e0){const _0x40d66b=a0_0x2e4b91;try{if(_0x377da2['length']===0x0)return;let _0x43ed81=this[_0x40d66b(0x253)](_0x5362e0),_0x1ce00d=_0x377da2[_0x40d66b(0x3fa)](_0x213677=>({'updateOne':{'filter':{'_id':_0x213677['_id'],'owner':_0x5362e0},'update':{..._0x213677}}})),{modifiedCount:_0x4fe958}=await _0x43ed81['bulkWrite'](_0x1ce00d);return{'insertCount':_0x4fe958};}catch{return;}}async['find'](_0x7f52f3,_0x17be6a){const _0x486ec7=a0_0x2e4b91;try{let _0x554e71=this[_0x486ec7(0x253)](_0x17be6a),_0x36baf4=A(_0x7f52f3[_0x486ec7(0x199)]);return await _0x554e71[_0x486ec7(0x18c)](_0x36baf4)[_0x486ec7(0x75f)](_0x7f52f3?.[_0x486ec7(0x75f)]??0x0)[_0x486ec7(0x2af)]();}catch{return[];}}async[a0_0x2e4b91(0x5aa)](_0x176664,_0xd0dab8){const _0xcd23fc=a0_0x2e4b91;try{let _0x5c3578=this['getContactModelForOwner'](_0xd0dab8),_0x26c470=A(_0x176664['where']);return await _0x5c3578[_0xcd23fc(0x5aa)](_0x26c470)[_0xcd23fc(0x2af)]();}catch{return null;}}async['deleteAll'](_0x29acbb){const _0x4914aa=a0_0x2e4b91;try{return await this[_0x4914aa(0x253)](_0x29acbb)['collection'][_0x4914aa(0x57e)](),{'success':!0x0};}catch(_0xaef862){return console[_0x4914aa(0x27b)](_0xaef862),{'success':!0x1,'error':_0xaef862};}}},Ye=require(a0_0x2e4b91(0x31d)),cc=require(a0_0x2e4b91(0x1fc)),us=new v('Validate'),j=class{[a0_0x2e4b91(0x6c8)](_0x123f74,_0x545770=!0x0){const _0x303fbc=a0_0x2e4b91;let _0x3b82a3='/'+_0x123f74;return _0x545770&&(_0x3b82a3+=_0x303fbc(0x675)),_0x3b82a3;}async['dataValidate'](_0x5f5aa0){const _0x236399=a0_0x2e4b91;let {request:_0x424011,schema:_0x11cfac,ClassRef:_0x242396,execute:_0x9083b5}=_0x5f5aa0,_0x98a8ec=new _0x242396(),_0x3a63c4=_0x424011[_0x236399(0x43f)],_0x30972c=_0x424011[_0x236399(0x3f2)];_0x424011?.[_0x236399(0x25a)]&&Object[_0x236399(0x6ab)](_0x424011[_0x236399(0x25a)])['length']>0x0&&Object[_0x236399(0x274)](_0x30972c,_0x424011[_0x236399(0x25a)]),_0x424011[_0x236399(0x294)][_0x236399(0x5fa)](_0x236399(0x554))&&Object[_0x236399(0x274)](_0x30972c,_0x3a63c4),Object[_0x236399(0x274)](_0x98a8ec,_0x3a63c4);let _0x25b48f=_0x11cfac?(0x0,Ye[_0x236399(0x5e3)])(_0x98a8ec,_0x11cfac):{'valid':!0x0,'errors':[]};if(!_0x25b48f[_0x236399(0x5e0)]){let _0x510c84=_0x25b48f['errors'][_0x236399(0x3fa)](({property:_0x5cec5d,stack:_0x1e2a8c,schema:_0x43dbba})=>{const _0x1e891a=_0x236399;let _0x2efc80;return _0x43dbba[_0x1e891a(0x474)]?_0x2efc80=_0x43dbba[_0x1e891a(0x474)]:_0x2efc80=_0x1e2a8c[_0x1e891a(0x3ca)](_0x1e891a(0x188),''),{'property':_0x5cec5d['replace'](_0x1e891a(0x188),''),'message':_0x2efc80};});throw us['error']([..._0x510c84]),new h(..._0x510c84);}return await _0x9083b5(_0x30972c,_0x98a8ec);}async[a0_0x2e4b91(0x5f4)](_0x144d61){const _0x16c2a1=a0_0x2e4b91;let {request:_0x23d180,ClassRef:_0x3c5b9b,schema:_0x2e839d,execute:_0x5b489d}=_0x144d61,_0x35a0f6=_0x23d180[_0x16c2a1(0x25a)];if(!_0x35a0f6?.[_0x16c2a1(0x3a9)])throw new h(_0x16c2a1(0x29b),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x47835a=_0x23d180['params'],_0xd7f82c=_0x23d180[_0x16c2a1(0x43f)],_0x209970=new _0x3c5b9b();Object['assign'](_0xd7f82c,_0x35a0f6),Object[_0x16c2a1(0x274)](_0x209970,_0xd7f82c);let _0x4c43ef=(0x0,Ye['validate'])(_0x209970,_0x2e839d);if(!_0x4c43ef[_0x16c2a1(0x5e0)]){let _0x905aa1=_0x4c43ef[_0x16c2a1(0x370)][_0x16c2a1(0x3fa)](({property:_0x4c6cc5,stack:_0x33349d,schema:_0x12adbb})=>{const _0x1ddd0f=_0x16c2a1;let _0x30fdf5;return _0x12adbb[_0x1ddd0f(0x474)]?_0x30fdf5=_0x12adbb['description']:_0x30fdf5=_0x33349d[_0x1ddd0f(0x3ca)]('instance.',''),{'property':_0x4c6cc5[_0x1ddd0f(0x3ca)](_0x1ddd0f(0x188),''),'message':_0x30fdf5};});throw us['error']([..._0x905aa1]),new h(..._0x905aa1);}return await _0x5b489d(_0x47835a,_0x209970);}async[a0_0x2e4b91(0x433)](_0x52eeda){const _0x2c719e=a0_0x2e4b91;let {request:_0x13a95d,ClassRef:_0x251547,schema:_0x1e9b6f,execute:_0x120d14}=_0x52eeda,_0x47c490=_0x13a95d[_0x2c719e(0x43f)];if(!_0x47c490?.[_0x2c719e(0x549)])throw new h('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x2c719e(0x503));let _0x456b7b=_0x13a95d['params'],_0x371fd4=_0x13a95d['body'],_0xfd06=new _0x251547();Object[_0x2c719e(0x274)](_0x371fd4,_0x47c490),Object[_0x2c719e(0x274)](_0xfd06,_0x371fd4);let _0x427fbd=(0x0,Ye['validate'])(_0xfd06,_0x1e9b6f);if(!_0x427fbd[_0x2c719e(0x5e0)]){let _0x340a9f=_0x427fbd[_0x2c719e(0x370)]['map'](({property:_0x5c5dc4,stack:_0x4b5523,schema:_0x26b392})=>{const _0x30d581=_0x2c719e;let _0x57d820;return _0x26b392[_0x30d581(0x474)]?_0x57d820=_0x26b392['description']:_0x57d820=_0x4b5523[_0x30d581(0x3ca)](_0x30d581(0x188),''),{'property':_0x5c5dc4[_0x30d581(0x3ca)](_0x30d581(0x188),''),'message':_0x57d820};});throw us[_0x2c719e(0x27b)]([..._0x340a9f]),new h(..._0x340a9f);}return await _0x120d14(_0x456b7b,_0xfd06);}},S=class{},Cc=new v('ChatRouter'),Xe=class extends j{constructor(..._0x3a80c2){const _0x1211d2=a0_0x2e4b91;super(),this[_0x1211d2(0x483)]=(0x0,Za['Router'])(),this['router']['post'](this[_0x1211d2(0x6c8)]('updatePresence'),..._0x3a80c2,async(_0x4577a4,_0xfa217f)=>{const _0x85f32c=_0x1211d2;let _0x35b122=await this[_0x85f32c(0x2d2)]({'request':_0x4577a4,'schema':Va,'ClassRef':Fe,'execute':(_0x574440,_0x53c328)=>D[_0x85f32c(0x7a2)](_0x574440,_0x53c328)});return _0xfa217f[_0x85f32c(0x221)](0xc9)['json'](_0x35b122);})[_0x1211d2(0x2a7)](this[_0x1211d2(0x6c8)](_0x1211d2(0x2cf)),..._0x3a80c2,async(_0x566e06,_0x36bc3a)=>{const _0x5bd4cb=_0x1211d2;let _0x2f8821=await this['dataValidate']({'request':_0x566e06,'schema':_a,'ClassRef':Ue,'execute':(_0x506bbe,_0x37a00c)=>D[_0x5bd4cb(0x277)](_0x506bbe,_0x37a00c)});return _0x36bc3a[_0x5bd4cb(0x221)](0xc9)[_0x5bd4cb(0x4be)](_0x2f8821);})[_0x1211d2(0x2a7)](this[_0x1211d2(0x6c8)](_0x1211d2(0x3d2)),..._0x3a80c2,async(_0x1d06df,_0x1c6633)=>{const _0x4883ba=_0x1211d2;let _0x182c8f=await this['dataValidate']({'request':_0x1d06df,'schema':C,'ClassRef':S,'execute':(_0x4241e8,_0x4f87fa)=>D[_0x4883ba(0x3d2)](_0x4241e8,_0x4f87fa)});return _0x1c6633[_0x4883ba(0x221)](0xc9)[_0x4883ba(0x4be)](_0x182c8f);})[_0x1211d2(0x44c)](this['routerPath']('markMessageAsRead'),..._0x3a80c2,async(_0x5ee074,_0x22199b)=>{const _0x4f8f5a=_0x1211d2;let _0x703721=await this[_0x4f8f5a(0x2d2)]({'request':_0x5ee074,'schema':Pa,'ClassRef':qe,'execute':(_0x278884,_0x4413ab)=>D['readMessage'](_0x278884,_0x4413ab)});return _0x22199b[_0x4f8f5a(0x221)](0xc9)[_0x4f8f5a(0x4be)](_0x703721);})['put'](this[_0x1211d2(0x6c8)](_0x1211d2(0x203)),..._0x3a80c2,async(_0x4dbb6e,_0x243af9)=>{const _0xf8bf1f=_0x1211d2;let _0x438136=await this[_0xf8bf1f(0x2d2)]({'request':_0x4dbb6e,'schema':ka,'ClassRef':Ve,'execute':(_0x417fdc,_0x108ae1)=>D[_0xf8bf1f(0x203)](_0x417fdc,_0x108ae1)});return _0x243af9[_0xf8bf1f(0x221)](0xc9)[_0xf8bf1f(0x4be)](_0x438136);})[_0x1211d2(0x6bb)](this[_0x1211d2(0x6c8)](_0x1211d2(0x332)),..._0x3a80c2,async(_0x4ab716,_0x2943a8)=>{const _0x9ee3d7=_0x1211d2;let _0x185693=await this[_0x9ee3d7(0x2d2)]({'request':_0x4ab716,'schema':La,'ClassRef':Ge,'execute':(_0x3a83b0,_0x90c4b4)=>D['deleteMessage'](_0x3a83b0,_0x90c4b4)});return _0x2943a8['status'](0xc9)[_0x9ee3d7(0x4be)](_0x185693);})[_0x1211d2(0x2a7)](this[_0x1211d2(0x6c8)](_0x1211d2(0x58c)),..._0x3a80c2,async(_0x2547fb,_0x235eb2)=>{const _0x44469f=_0x1211d2;let _0x4912b4=await this[_0x44469f(0x2d2)]({'request':_0x2547fb,'schema':be,'ClassRef':we,'execute':(_0xb2ca2d,_0x59e812)=>D[_0x44469f(0x420)](_0xb2ca2d,_0x59e812)});return _0x235eb2[_0x44469f(0x221)](0xc8)[_0x44469f(0x4be)](_0x4912b4);})[_0x1211d2(0x2a7)](this[_0x1211d2(0x6c8)](_0x1211d2(0x298)),..._0x3a80c2,async(_0x559327,_0x249f4d)=>{const _0x2dd776=_0x1211d2;let _0xd81f8b=await this[_0x2dd776(0x2d2)]({'request':_0x559327,'schema':ja,'ClassRef':we,'execute':(_0x30a0b3,_0x381f9b)=>D[_0x2dd776(0x298)](_0x30a0b3,_0x381f9b)});return _0x249f4d['status'](0xc8)['json'](_0xd81f8b);})['post'](this[_0x1211d2(0x6c8)](_0x1211d2(0x3fc)),..._0x3a80c2,async(_0x20ff53,_0x2f8449)=>{const _0x497217=_0x1211d2;let _0x55d841=await this[_0x497217(0x2d2)]({'request':_0x20ff53,'schema':Fa,'ClassRef':Ke,'execute':(_0x3ed38f,_0x5ede86)=>D['fetchContacts'](_0x3ed38f,_0x5ede86)});return _0x2f8449[_0x497217(0x221)](0xc8)[_0x497217(0x4be)](_0x55d841);})['post'](this[_0x1211d2(0x6c8)](_0x1211d2(0x6b7)),..._0x3a80c2,async(_0x413f15,_0x46443b)=>{const _0x48b7f8=_0x1211d2;let _0x470c21=await this[_0x48b7f8(0x2d2)]({'request':_0x413f15,'schema':null,'ClassRef':Object,'execute':(_0x3bff0e,_0x406f8a)=>D[_0x48b7f8(0x6b7)](_0x3bff0e,_0x406f8a)});return _0x46443b[_0x48b7f8(0x221)](0xc9)[_0x48b7f8(0x4be)](_0x470c21);})[_0x1211d2(0x2a7)](this['routerPath'](_0x1211d2(0x639)),..._0x3a80c2,async(_0x5a1dda,_0x543c6b)=>{const _0x55a7da=_0x1211d2;let _0x2288ab=await this[_0x55a7da(0x2d2)]({'request':_0x5a1dda,'schema':qa,'ClassRef':ke,'execute':(_0x38e3d5,_0x570e8c)=>D[_0x55a7da(0x751)](_0x38e3d5,_0x570e8c)});return _0x543c6b[_0x55a7da(0x221)](0xc8)[_0x55a7da(0x4be)](_0x2288ab);})[_0x1211d2(0x535)](this[_0x1211d2(0x6c8)]('findChats'),..._0x3a80c2,async(_0x4b85d4,_0x5aa49d)=>{const _0x5b8338=_0x1211d2;let _0x2f260a=await this['dataValidate']({'request':_0x4b85d4,'schema':null,'ClassRef':S,'execute':_0x179468=>D['fetchChats'](_0x179468)});return _0x5aa49d['status'](0xc8)[_0x5b8338(0x4be)](_0x2f260a);})[_0x1211d2(0x535)](this['routerPath'](_0x1211d2(0x581)),..._0x3a80c2,async(_0x115838,_0x53b163)=>{const _0x3117b2=_0x1211d2;let _0x141675=await this['dataValidate']({'request':_0x115838,'schema':null,'ClassRef':S,'execute':_0x1ba582=>D[_0x3117b2(0x2fa)](_0x1ba582)});return _0x53b163[_0x3117b2(0x221)](0xc8)[_0x3117b2(0x4be)](_0x141675);})[_0x1211d2(0x44c)](this[_0x1211d2(0x6c8)](_0x1211d2(0x660)),..._0x3a80c2,async(_0x3ae306,_0x25a6e9)=>{const _0xd8a0df=_0x1211d2;let _0x1de81b=await this['dataValidate']({'request':_0x3ae306,'schema':null,'ClassRef':Array,'execute':(_0x270698,_0x2cf4ce)=>D[_0xd8a0df(0x660)](_0x270698,_0x2cf4ce)});return _0x25a6e9['status'](0xc8)['json'](_0x1de81b);})[_0x1211d2(0x535)](this[_0x1211d2(0x6c8)](_0x1211d2(0x65b)),..._0x3a80c2,async(_0x5562ad,_0x36f9b8)=>{const _0x552f54=_0x1211d2;let _0x3346a5=await this[_0x552f54(0x2d2)]({'request':_0x5562ad,'schema':null,'ClassRef':S,'execute':_0x2388be=>D['fetchPrivacySettings'](_0x2388be)});return _0x36f9b8['status'](0xc8)[_0x552f54(0x4be)](_0x3346a5);})[_0x1211d2(0x44c)](this[_0x1211d2(0x6c8)](_0x1211d2(0x374)),..._0x3a80c2,async(_0x469237,_0x19e746)=>{const _0x472d89=_0x1211d2;let _0x2cfd2d=await this['dataValidate']({'request':_0x469237,'schema':$a,'ClassRef':Be,'execute':(_0x4cd372,_0x494768)=>D[_0x472d89(0x374)](_0x4cd372,_0x494768)});return _0x19e746[_0x472d89(0x221)](0xc9)[_0x472d89(0x4be)](_0x2cfd2d);})['post'](this[_0x1211d2(0x6c8)](_0x1211d2(0x2d9)),..._0x3a80c2,async(_0x2f3f70,_0x4562f2)=>{const _0x9ef7b7=_0x1211d2;let _0x3ab807=await this[_0x9ef7b7(0x2d2)]({'request':_0x2f3f70,'schema':be,'ClassRef':he,'execute':(_0x21da17,_0x49242a)=>D[_0x9ef7b7(0x2d9)](_0x21da17,_0x49242a)});return _0x4562f2['status'](0xc8)[_0x9ef7b7(0x4be)](_0x3ab807);})[_0x1211d2(0x2a7)](this['routerPath']('updateProfileName'),..._0x3a80c2,async(_0x3896bc,_0x54e0ae)=>{const _0x46ae1b=_0x1211d2;let _0x2e78d5=await this[_0x46ae1b(0x2d2)]({'request':_0x3896bc,'schema':Ua,'ClassRef':Je,'execute':(_0x3d8e95,_0x1fad68)=>D[_0x46ae1b(0x49a)](_0x3d8e95,_0x1fad68)});return _0x54e0ae[_0x46ae1b(0x221)](0xc8)[_0x46ae1b(0x4be)](_0x2e78d5);})[_0x1211d2(0x2a7)](this['routerPath'](_0x1211d2(0x792)),..._0x3a80c2,async(_0x2bb6b3,_0x3c9171)=>{const _0x278b76=_0x1211d2;let _0x461124=await this[_0x278b76(0x2d2)]({'request':_0x2bb6b3,'schema':Ja,'ClassRef':je,'execute':(_0x32a6a8,_0x58ab42)=>D[_0x278b76(0x792)](_0x32a6a8,_0x58ab42)});return _0x3c9171[_0x278b76(0x221)](0xc8)['json'](_0x461124);})[_0x1211d2(0x44c)](this['routerPath']('updateProfilePicture'),..._0x3a80c2,async(_0x396d56,_0x5240bf)=>{const _0x7e54be=_0x1211d2;let _0x170001=await this['dataValidate']({'request':_0x396d56,'schema':be,'ClassRef':he,'execute':(_0x383867,_0x2b9747)=>D[_0x7e54be(0x34f)](_0x383867,_0x2b9747)});return _0x5240bf['status'](0xc8)[_0x7e54be(0x4be)](_0x170001);})[_0x1211d2(0x6bb)](this[_0x1211d2(0x6c8)](_0x1211d2(0x3a4)),..._0x3a80c2,async(_0x10312e,_0x1986de)=>{const _0x1613bb=_0x1211d2;let _0x5d488d=await this[_0x1613bb(0x2d2)]({'request':_0x10312e,'schema':be,'ClassRef':he,'execute':(_0x20ea8a,_0x307433)=>D[_0x1613bb(0x3a4)](_0x20ea8a,_0x307433)});return _0x1986de[_0x1613bb(0x221)](0xc8)[_0x1613bb(0x4be)](_0x5d488d);});}},er=require('express'),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},rt=class{},ot=class extends Y{},it=class extends Y{},nt=class extends j{constructor(..._0xa0afc0){const _0x2b75e6=a0_0x2e4b91;super(),this[_0x2b75e6(0x483)]=(0x0,er[_0x2b75e6(0x1aa)])(),this[_0x2b75e6(0x483)][_0x2b75e6(0x2a7)](this[_0x2b75e6(0x6c8)](_0x2b75e6(0x74b)),..._0xa0afc0,async(_0x580e0a,_0x56b2d0)=>{const _0x376a89=_0x2b75e6;let _0x3d1746=await this[_0x376a89(0x2d2)]({'request':_0x580e0a,'schema':Ba,'ClassRef':Ze,'execute':(_0x679b03,_0x261c62)=>J[_0x376a89(0x2c9)](_0x679b03,_0x261c62)});_0x56b2d0[_0x376a89(0x221)](0xc9)[_0x376a89(0x4be)](_0x3d1746);})[_0x2b75e6(0x44c)](this[_0x2b75e6(0x6c8)]('updateGroupPicture'),..._0xa0afc0,async(_0x38baf1,_0x1e93b9)=>{let _0x357cc4=await this['groupValidate']({'request':_0x38baf1,'schema':za,'ClassRef':et,'execute':(_0x538a94,_0x5dd2f0)=>J['updateGroupPicture'](_0x538a94,_0x5dd2f0)});_0x1e93b9['status'](0xc9)['json'](_0x357cc4);})[_0x2b75e6(0x44c)](this['routerPath'](_0x2b75e6(0x2c8)),..._0xa0afc0,async(_0x1d9fbc,_0x5d9217)=>{const _0x3865d4=_0x2b75e6;let _0x4eacfa=await this['groupValidate']({'request':_0x1d9fbc,'schema':Ha,'ClassRef':tt,'execute':(_0x600f9,_0x14eaa9)=>J['groupDesc'](_0x600f9,_0x14eaa9)});_0x5d9217[_0x3865d4(0x221)](0xc9)[_0x3865d4(0x4be)](_0x4eacfa);})['put'](this[_0x2b75e6(0x6c8)](_0x2b75e6(0x53a)),..._0xa0afc0,async(_0x5982dd,_0x432b6a)=>{const _0x1b5cc1=_0x2b75e6;let _0x4270d8=await this[_0x1b5cc1(0x5f4)]({'request':_0x5982dd,'schema':Ka,'ClassRef':st,'execute':(_0x27059f,_0x3ea774)=>J['groupName'](_0x27059f,_0x3ea774)});_0x432b6a['status'](0xc9)[_0x1b5cc1(0x4be)](_0x4270d8);})[_0x2b75e6(0x44c)](this[_0x2b75e6(0x6c8)](_0x2b75e6(0x2be)),..._0xa0afc0,async(_0x3c9f22,_0x5d8b4d)=>{const _0x30112e=_0x2b75e6;let _0x3b18fa=await this[_0x30112e(0x5f4)]({'request':_0x3c9f22,'schema':Qa,'ClassRef':at,'execute':(_0x2ab3fe,_0x552135)=>J['groupSetting'](_0x2ab3fe,_0x552135)});_0x5d8b4d[_0x30112e(0x221)](0xc9)[_0x30112e(0x4be)](_0x3b18fa);})[_0x2b75e6(0x44c)](this[_0x2b75e6(0x6c8)](_0x2b75e6(0x5e2)),..._0xa0afc0,async(_0x1e29d3,_0x2de6ba)=>{const _0x19f50b=_0x2b75e6;let _0xdc523=await this[_0x19f50b(0x5f4)]({'request':_0x1e29d3,'schema':Wa,'ClassRef':it,'execute':(_0x2389d8,_0x54cf26)=>J[_0x19f50b(0x5e2)](_0x2389d8,_0x54cf26)});_0x2de6ba['status'](0xc9)['json'](_0xdc523);})[_0x2b75e6(0x535)](this[_0x2b75e6(0x6c8)]('findGroupInfos'),..._0xa0afc0,async(_0x5c77b0,_0x35a01e)=>{const _0x28594b=_0x2b75e6;let _0x1d399d=await this[_0x28594b(0x5f4)]({'request':_0x5c77b0,'schema':Se,'ClassRef':Y,'execute':(_0x406700,_0x941a5b)=>J[_0x28594b(0x3f7)](_0x406700,_0x941a5b)});_0x35a01e[_0x28594b(0x221)](0xc8)[_0x28594b(0x4be)](_0x1d399d);})[_0x2b75e6(0x535)](this[_0x2b75e6(0x6c8)]('findGroups'),..._0xa0afc0,async(_0x4cc03b,_0x512851)=>{const _0x9df52f=_0x2b75e6;let _0x884b52=await this[_0x9df52f(0x2d2)]({'request':_0x4cc03b,'schema':C,'ClassRef':S,'execute':_0x37ee49=>J[_0x9df52f(0x740)](_0x37ee49)});_0x512851[_0x9df52f(0x221)](0xc8)[_0x9df52f(0x4be)](_0x884b52);})[_0x2b75e6(0x535)](this['routerPath']('participants'),..._0xa0afc0,async(_0x24508e,_0x7e3806)=>{const _0x1569d9=_0x2b75e6;let _0x2d58f5=await this[_0x1569d9(0x5f4)]({'request':_0x24508e,'schema':Se,'ClassRef':Y,'execute':(_0x4abca9,_0x1b855e)=>J['findParticipants'](_0x4abca9,_0x1b855e)});_0x7e3806[_0x1569d9(0x221)](0xc8)[_0x1569d9(0x4be)](_0x2d58f5);})[_0x2b75e6(0x535)](this[_0x2b75e6(0x6c8)](_0x2b75e6(0x549)),..._0xa0afc0,async(_0x4ef400,_0x26b00d)=>{const _0x8fb775=_0x2b75e6;let _0x28d0f6=await this['groupValidate']({'request':_0x4ef400,'schema':Se,'ClassRef':Y,'execute':(_0x4662f1,_0xa24308)=>J[_0x8fb775(0x549)](_0x4662f1,_0xa24308)});_0x26b00d[_0x8fb775(0x221)](0xc8)[_0x8fb775(0x4be)](_0x28d0f6);})[_0x2b75e6(0x44c)](this[_0x2b75e6(0x6c8)](_0x2b75e6(0x77a)),..._0xa0afc0,async(_0x328d8b,_0x138575)=>{const _0x333ee0=_0x2b75e6;let _0x2f1fc5=await this['joinGroupValidate']({'request':_0x328d8b,'schema':Ya,'ClassRef':rt,'execute':(_0x59bc07,_0x4cf84c)=>J[_0x333ee0(0x77a)](_0x59bc07,_0x4cf84c)});_0x138575[_0x333ee0(0x221)](0xc9)[_0x333ee0(0x4be)](_0x2f1fc5);})['put'](this[_0x2b75e6(0x6c8)]('revokeInviteCode'),..._0xa0afc0,async(_0x2bf58f,_0x5d9818)=>{const _0x1f13f0=_0x2b75e6;let _0x4d2973=await this[_0x1f13f0(0x5f4)]({'request':_0x2bf58f,'schema':Se,'ClassRef':Y,'execute':(_0x2eae59,_0x3f2964)=>J[_0x1f13f0(0x450)](_0x2eae59,_0x3f2964)});_0x5d9818[_0x1f13f0(0x221)](0xc9)[_0x1f13f0(0x4be)](_0x4d2973);})[_0x2b75e6(0x44c)](this['routerPath'](_0x2b75e6(0x3b5)),..._0xa0afc0,async(_0x562089,_0x2459a1)=>{const _0x54816e=_0x2b75e6;let _0x1c5013=await this['groupValidate']({'request':_0x562089,'schema':Ga,'ClassRef':ot,'execute':(_0x4d3a02,_0x4d455b)=>J[_0x54816e(0x2d1)](_0x4d3a02,_0x4d455b)});_0x2459a1['status'](0xc9)[_0x54816e(0x4be)](_0x1c5013);})[_0x2b75e6(0x6bb)](this['routerPath'](_0x2b75e6(0x778)),..._0xa0afc0,async(_0x1abecb,_0x27a4a3)=>{const _0x2ac2c8=_0x2b75e6;let _0xefc20c=await this[_0x2ac2c8(0x5f4)]({'request':_0x1abecb,'schema':{},'ClassRef':Y,'execute':(_0x2e7ecf,_0x1f7c3e)=>J[_0x2ac2c8(0x778)](_0x2e7ecf,_0x1f7c3e)});_0x27a4a3['status'](0xc8)[_0x2ac2c8(0x4be)](_0xefc20c);});}},tr=require(a0_0x2e4b91(0x45a)),ct=class extends j{constructor(_0xf0c95c,..._0x51b7b6){const _0x132387=a0_0x2e4b91;super(),this[_0x132387(0x435)]=_0xf0c95c,this['router']=(0x0,tr['Router'])();let _0x3ce908=_0xf0c95c[_0x132387(0x535)](_0x132387(0x56a));this[_0x132387(0x483)][_0x132387(0x2a7)]('/create',..._0x51b7b6,async(_0x571082,_0x5f4a60)=>{const _0x10d00e=_0x132387;let {instanceName:_0x3ea273,apikey:_0x18d51b,number:_0x20b494}=_0x571082['body'],_0x3a0fa8=await re['createInstance']({'instanceName':_0x3ea273,'apikey':_0x18d51b,'number':_0x20b494});return _0x5f4a60['status'](0xc9)[_0x10d00e(0x4be)](_0x3a0fa8);})[_0x132387(0x44c)](this[_0x132387(0x6c8)](_0x132387(0x500)),..._0x51b7b6,async(_0xe5f80,_0x2e54bc)=>{const _0x195dbe=_0x132387;let _0x3e01b9=await this[_0x195dbe(0x2d2)]({'request':_0xe5f80,'schema':C,'ClassRef':S,'execute':_0x1fb9ba=>re[_0x195dbe(0x743)](_0x1fb9ba)});return _0x2e54bc[_0x195dbe(0x221)](0xc8)[_0x195dbe(0x4be)](_0x3e01b9);})['post'](this[_0x132387(0x6c8)]('connect'),..._0x51b7b6,async(_0x447697,_0x548a58)=>{const _0xd0b9b3=_0x132387;let _0x2fd4bb=await this[_0xd0b9b3(0x2d2)]({'request':_0x447697,'schema':C,'ClassRef':S,'execute':_0x29126e=>re[_0xd0b9b3(0x607)](_0x29126e)});return _0x548a58[_0xd0b9b3(0x221)](0xc8)[_0xd0b9b3(0x4be)](_0x2fd4bb);})[_0x132387(0x535)](this[_0x132387(0x6c8)]('connectionState'),..._0x51b7b6,async(_0x5d410e,_0x1dd1b8)=>{const _0x1aa3ee=_0x132387;let _0x3f13d8=await this[_0x1aa3ee(0x2d2)]({'request':_0x5d410e,'schema':C,'ClassRef':S,'execute':_0x623e57=>re[_0x1aa3ee(0x665)](_0x623e57)});return _0x1dd1b8[_0x1aa3ee(0x221)](0xc8)[_0x1aa3ee(0x4be)](_0x3f13d8);})[_0x132387(0x535)](this[_0x132387(0x6c8)](_0x132387(0x3cf),!0x1),..._0x51b7b6,async(_0x83d95,_0x5c2943)=>{const _0x299312=_0x132387;let _0x2bc3d1=await this['dataValidate']({'request':_0x83d95,'schema':null,'ClassRef':S,'execute':_0xdcd6b9=>re[_0x299312(0x3cf)](_0xdcd6b9)});return _0x5c2943['status'](0xc8)['json'](_0x2bc3d1);})['delete'](this['routerPath'](_0x132387(0x611)),..._0x51b7b6,async(_0x31583e,_0x5cc4a8)=>{const _0x12f88b=_0x132387;let _0x2964f4=await this[_0x12f88b(0x2d2)]({'request':_0x31583e,'schema':C,'ClassRef':S,'execute':_0x422b81=>re[_0x12f88b(0x611)](_0x422b81)});return _0x5cc4a8['status'](0xc8)[_0x12f88b(0x4be)](_0x2964f4);})[_0x132387(0x6bb)](this[_0x132387(0x6c8)]('delete'),..._0x51b7b6,async(_0x54fa02,_0x30acf9)=>{const _0x125fcb=_0x132387;let _0x87a15b=await this[_0x125fcb(0x2d2)]({'request':_0x54fa02,'schema':C,'ClassRef':S,'execute':_0xade16e=>re[_0x125fcb(0x683)](_0xade16e)});return _0x30acf9['status'](0xc8)[_0x125fcb(0x4be)](_0x87a15b);});}},sr=require(a0_0x2e4b91(0x45a)),ds=class{},W=class extends ds{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ee=class extends W{},gt=class extends W{},ht=class extends W{},mt=class extends W{},ft=class extends W{},yt=class extends W{},wt=class{},bt=class extends j{constructor(..._0x3bde40){const _0x1e722a=a0_0x2e4b91;super(),this['router']=(0x0,sr[_0x1e722a(0x1aa)])(),this['router'][_0x1e722a(0x2a7)](this[_0x1e722a(0x6c8)](_0x1e722a(0x1ad)),..._0x3bde40,async(_0x43d0a6,_0x2c72ee)=>{const _0x205e54=_0x1e722a;let _0xa4dfeb=await this[_0x205e54(0x2d2)]({'request':_0x43d0a6,'schema':Sa,'ClassRef':lt,'execute':(_0x23a8ca,_0x1ef2c1)=>G[_0x205e54(0x1ad)](_0x23a8ca,_0x1ef2c1)});return _0x2c72ee['status'](0xc9)['json'](_0xa4dfeb);})[_0x1e722a(0x2a7)](this[_0x1e722a(0x6c8)](_0x1e722a(0x618)),..._0x3bde40,async(_0x429bc1,_0x381c75)=>{const _0x17bbd0=_0x1e722a;let _0x15b740=await this[_0x17bbd0(0x2d2)]({'request':_0x429bc1,'schema':va,'ClassRef':Ee,'execute':(_0x19a791,_0x161af4)=>G[_0x17bbd0(0x618)](_0x19a791,_0x161af4)});return _0x381c75[_0x17bbd0(0x221)](0xc9)[_0x17bbd0(0x4be)](_0x15b740);})[_0x1e722a(0x2a7)](this['routerPath'](_0x1e722a(0x364)),..._0x3bde40,async(_0x3e6b80,_0x2a1478)=>{const _0x9a341=_0x1e722a;let _0x4e6e0e=await this[_0x9a341(0x2d2)]({'request':_0x3e6b80,'schema':Ta,'ClassRef':pt,'execute':(_0x3aef2e,_0x312e81)=>G['sendMenu'](_0x3aef2e,_0x312e81)});return _0x2a1478['status'](0xc9)['json'](_0x4e6e0e);})[_0x1e722a(0x2a7)](this[_0x1e722a(0x6c8)](_0x1e722a(0x25c)),..._0x3bde40,async(_0x360c9a,_0x455516)=>{let _0x52a8c5=await this['dataValidate']({'request':_0x360c9a,'schema':Na,'ClassRef':Ee,'execute':(_0x198ca1,_0x1086b1)=>G['sendWhatsAppAudio'](_0x198ca1,_0x1086b1)});return _0x455516['status'](0xc9)['json'](_0x52a8c5);})['post'](this['routerPath'](_0x1e722a(0x313)),..._0x3bde40,async(_0x4aec0d,_0x2079a2)=>{const _0x91ad15=_0x1e722a;let _0x45b5b5=await this[_0x91ad15(0x2d2)]({'request':_0x4aec0d,'schema':Aa,'ClassRef':ht,'execute':(_0x3fe720,_0x528973)=>G['sendButtons'](_0x3fe720,_0x528973)});return _0x2079a2[_0x91ad15(0x221)](0xc9)[_0x91ad15(0x4be)](_0x45b5b5);})[_0x1e722a(0x2a7)](this['routerPath'](_0x1e722a(0x6a4)),..._0x3bde40,async(_0x429790,_0x115039)=>{const _0x3331e3=_0x1e722a;let _0x2da71a=await this[_0x3331e3(0x2d2)]({'request':_0x429790,'schema':Oa,'ClassRef':mt,'execute':(_0x4390c1,_0x5e7199)=>G[_0x3331e3(0x6a4)](_0x4390c1,_0x5e7199)});return _0x115039[_0x3331e3(0x221)](0xc9)[_0x3331e3(0x4be)](_0x2da71a);})[_0x1e722a(0x2a7)](this[_0x1e722a(0x6c8)](_0x1e722a(0x46f)),..._0x3bde40,async(_0x4c430c,_0x4b5095)=>{const _0x5be7be=_0x1e722a;let _0x451bd4=await this['dataValidate']({'request':_0x4c430c,'schema':Ia,'ClassRef':ft,'execute':(_0x287b15,_0x472e07)=>G[_0x5be7be(0x46f)](_0x287b15,_0x472e07)});return _0x4b5095[_0x5be7be(0x221)](0xc9)[_0x5be7be(0x4be)](_0x451bd4);})['post'](this[_0x1e722a(0x6c8)](_0x1e722a(0x2a2)),..._0x3bde40,async(_0x4203af,_0x3456de)=>{const _0x332c37=_0x1e722a;let _0x1d6b97=await this[_0x332c37(0x2d2)]({'request':_0x4203af,'schema':Da,'ClassRef':yt,'execute':(_0x5d5618,_0x418a9a)=>G[_0x332c37(0x2a2)](_0x5d5618,_0x418a9a)});return _0x3456de[_0x332c37(0x221)](0xc9)[_0x332c37(0x4be)](_0x1d6b97);})[_0x1e722a(0x2a7)](this[_0x1e722a(0x6c8)]('sendReaction'),..._0x3bde40,async(_0x238e22,_0x2b705f)=>{const _0x145401=_0x1e722a;let _0x4e3bdf=await this[_0x145401(0x2d2)]({'request':_0x238e22,'schema':xa,'ClassRef':wt,'execute':(_0x384dbb,_0x5a571a)=>G[_0x145401(0x767)](_0x384dbb,_0x5a571a)});return _0x2b705f['status'](0xc9)['json'](_0x4e3bdf);})[_0x1e722a(0x2a7)](this[_0x1e722a(0x6c8)](_0x1e722a(0x2df)),..._0x3bde40,async(_0x485256,_0x455663)=>{const _0x1ce340=_0x1e722a;let _0x912410=await this['dataValidate']({'request':_0x485256,'schema':Ra,'ClassRef':dt,'execute':(_0x1589c6,_0x52beae)=>G[_0x1ce340(0x2df)](_0x1589c6,_0x52beae)});return _0x455663[_0x1ce340(0x221)](0xc9)['json'](_0x912410);})[_0x1e722a(0x2a7)](this['routerPath'](_0x1e722a(0x4b1)),..._0x3bde40,async(_0x15ac6e,_0x187994)=>{const _0x2f5ace=_0x1e722a;let _0x260f71=await this['dataValidate']({'request':_0x15ac6e,'schema':Ca,'ClassRef':ut,'execute':(_0x35f9ff,_0x196339)=>G[_0x2f5ace(0x4b1)](_0x35f9ff,_0x196339)});return _0x187994[_0x2f5ace(0x221)](0xc9)[_0x2f5ace(0x4be)](_0x260f71);})[_0x1e722a(0x2a7)](this['routerPath']('sendSticker'),..._0x3bde40,async(_0x38e145,_0x369d43)=>{const _0x3808db=_0x1e722a;let _0x5eeed2=await this['dataValidate']({'request':_0x38e145,'schema':Ma,'ClassRef':gt,'execute':(_0x3aad98,_0x3da69e)=>G[_0x3808db(0x795)](_0x3aad98,_0x3da69e)});return _0x369d43[_0x3808db(0x221)](0xc9)['json'](_0x5eeed2);});}},ar=require(a0_0x2e4b91(0x45a)),St=class{},Et=class extends j{constructor(..._0x126dca){const _0x588c39=a0_0x2e4b91;super(),this[_0x588c39(0x483)]=(0x0,ar[_0x588c39(0x1aa)])(),this[_0x588c39(0x483)][_0x588c39(0x2a7)](this['routerPath'](_0x588c39(0x292)),..._0x126dca,async(_0x209461,_0x1b5e93)=>{const _0x40a7c5=_0x588c39;let _0x574c91=await this['dataValidate']({'request':_0x209461,'schema':Xa,'ClassRef':St,'execute':(_0x1d7535,_0x530a04)=>ps[_0x40a7c5(0x440)](_0x1d7535,_0x530a04)});_0x1b5e93[_0x40a7c5(0x221)](0xc9)['json'](_0x574c91);})['get'](this[_0x588c39(0x6c8)](_0x588c39(0x18c)),..._0x126dca,async(_0x111a28,_0x195304)=>{const _0x3de1f0=_0x588c39;let _0x516dd9=await this[_0x3de1f0(0x2d2)]({'request':_0x111a28,'schema':C,'ClassRef':S,'execute':_0x1b9219=>ps[_0x3de1f0(0x4bb)](_0x1b9219)});_0x195304[_0x3de1f0(0x221)](0xc8)['json'](_0x516dd9);});}},rr=require(a0_0x2e4b91(0x45a)),f=new v(a0_0x2e4b91(0x5b4)),Mt=class extends j{constructor(..._0x284b98){const _0x596ec9=a0_0x2e4b91;super(),this[_0x596ec9(0x483)]=(0x0,rr[_0x596ec9(0x1aa)])(),this[_0x596ec9(0x483)][_0x596ec9(0x2a7)](this['routerPath'](_0x596ec9(0x559)),..._0x284b98,async(_0x301f53,_0x4184df)=>{const _0x2ee663=_0x596ec9;let _0x1d4166=_0x301f53[_0x2ee663(0x43f)];f[_0x2ee663(0x477)]('request\x20received\x20in\x20scheduleMessage'),f[_0x2ee663(0x477)](_0x2ee663(0x6eb)),f[_0x2ee663(0x477)](_0x301f53[_0x2ee663(0x43f)]);let _0x47b081=await this[_0x2ee663(0x2d2)]({'request':_0x301f53,'schema':C,'ClassRef':S,'execute':_0x5f5762=>T['editScheduleMessage'](_0x5f5762,_0x1d4166)});_0x4184df[_0x2ee663(0x221)](0xc8)[_0x2ee663(0x4be)](_0x47b081);})['get'](this['routerPath'](_0x596ec9(0x559)),..._0x284b98,async(_0x32c771,_0xd824a3)=>{const _0x1bf6ed=_0x596ec9;let _0x4b6ff2=await this[_0x1bf6ed(0x2d2)]({'request':_0x32c771,'schema':C,'ClassRef':S,'execute':_0x519d70=>T['getScheduleMessage'](_0x519d70)});_0xd824a3[_0x1bf6ed(0x221)](0xc8)[_0x1bf6ed(0x4be)](_0x4b6ff2);})[_0x596ec9(0x6bb)](this[_0x596ec9(0x6c8)](_0x596ec9(0x41e)),..._0x284b98,async(_0x687c6e,_0x1a52da)=>{const _0x11b8f9=_0x596ec9;f['verbose'](_0x11b8f9(0x4c4));let _0x5d77ca=await this[_0x11b8f9(0x2d2)]({'request':_0x687c6e,'schema':C,'ClassRef':S,'execute':_0x3282e7=>T[_0x11b8f9(0x41e)](_0x3282e7)});_0x1a52da[_0x11b8f9(0x221)](0xc8)[_0x11b8f9(0x4be)](_0x5d77ca);})[_0x596ec9(0x2a7)](this['routerPath'](_0x596ec9(0x451)),..._0x284b98,async(_0x4da072,_0x5907db)=>{const _0x416d66=_0x596ec9;let _0x12164f=_0x4da072[_0x416d66(0x43f)];f[_0x416d66(0x477)](_0x416d66(0x325)),f[_0x416d66(0x477)](_0x416d66(0x6eb)),f[_0x416d66(0x477)](_0x4da072[_0x416d66(0x43f)]);let _0x23f9f5=await this[_0x416d66(0x2d2)]({'request':_0x4da072,'schema':C,'ClassRef':S,'execute':_0x5a35f8=>T[_0x416d66(0x451)](_0x5a35f8,_0x12164f)});_0x5907db[_0x416d66(0x221)](0xc8)[_0x416d66(0x4be)](_0x23f9f5);})[_0x596ec9(0x535)](this['routerPath'](_0x596ec9(0x4e9)),..._0x284b98,async(_0x3e758a,_0x49bcb4)=>{const _0x883fa8=_0x596ec9;f[_0x883fa8(0x477)]('request\x20received\x20in\x20getAutomateSystem');let _0x36923b=await this[_0x883fa8(0x2d2)]({'request':_0x3e758a,'schema':C,'ClassRef':S,'execute':_0x4825b1=>T[_0x883fa8(0x4e9)](_0x4825b1)});_0x49bcb4['status'](0xc8)[_0x883fa8(0x4be)](_0x36923b);})[_0x596ec9(0x535)](this[_0x596ec9(0x6c8)]('getTicketSystem'),..._0x284b98,async(_0x20fcfd,_0x3b06db)=>{const _0xa11130=_0x596ec9;f['verbose']('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x2605af=await this[_0xa11130(0x2d2)]({'request':_0x20fcfd,'schema':C,'ClassRef':S,'execute':_0x52b4ca=>T['getAutomateSystem'](_0x52b4ca)});_0x3b06db[_0xa11130(0x221)](0xc8)['json'](_0x2605af);})[_0x596ec9(0x2a7)](this['routerPath'](_0x596ec9(0x36b)),..._0x284b98,async(_0x5bc4ad,_0x538639)=>{const _0xbee57f=_0x596ec9;let _0x40d382=_0x5bc4ad[_0xbee57f(0x43f)];f['verbose'](_0xbee57f(0x4ef)),f['verbose'](_0xbee57f(0x6eb)),f[_0xbee57f(0x477)](_0x5bc4ad['body']);let _0xc64022=await this[_0xbee57f(0x2d2)]({'request':_0x5bc4ad,'schema':C,'ClassRef':S,'execute':_0x541767=>T[_0xbee57f(0x36b)](_0x541767,_0x40d382)});_0x538639[_0xbee57f(0x221)](0xc8)['json'](_0xc64022);})[_0x596ec9(0x2a7)](this[_0x596ec9(0x6c8)](_0x596ec9(0x56c)),..._0x284b98,async(_0x37e308,_0x5d1fa7)=>{const _0xb79363=_0x596ec9;let _0x1b34eb=_0x37e308[_0xb79363(0x43f)];f['verbose'](_0xb79363(0x4cd)),f['verbose']('request\x20body:\x20'),f[_0xb79363(0x477)](_0x37e308[_0xb79363(0x43f)]);let _0x2809f2=await this['dataValidate']({'request':_0x37e308,'schema':C,'ClassRef':S,'execute':_0x299fc6=>T['updateCustomFields'](_0x299fc6,_0x1b34eb)});_0x5d1fa7['status'](0xc8)[_0xb79363(0x4be)](_0x2809f2);})[_0x596ec9(0x2a7)](this[_0x596ec9(0x6c8)](_0x596ec9(0x698)),..._0x284b98,async(_0x57dcc8,_0x32c24d)=>{const _0x30016d=_0x596ec9;let _0x5bfed5=_0x57dcc8[_0x30016d(0x43f)];f[_0x30016d(0x477)]('request\x20received\x20in\x20updateFlowConfig'),f[_0x30016d(0x477)](_0x30016d(0x6eb)),f[_0x30016d(0x477)](_0x57dcc8[_0x30016d(0x43f)]);let _0x5e49cc=await this[_0x30016d(0x2d2)]({'request':_0x57dcc8,'schema':C,'ClassRef':S,'execute':_0x1bb480=>T[_0x30016d(0x698)](_0x1bb480,_0x5bfed5)});_0x32c24d['status'](0xc8)[_0x30016d(0x4be)](_0x5e49cc);})[_0x596ec9(0x2a7)](this[_0x596ec9(0x6c8)](_0x596ec9(0x4f6)),..._0x284b98,async(_0x28985f,_0xe56735)=>{const _0x2a8c14=_0x596ec9;let _0x36cf86=_0x28985f[_0x2a8c14(0x43f)];f[_0x2a8c14(0x477)](_0x2a8c14(0x21b)),f[_0x2a8c14(0x477)](_0x2a8c14(0x6eb)),f[_0x2a8c14(0x477)](_0x28985f[_0x2a8c14(0x43f)]);let _0x5780ff=await this[_0x2a8c14(0x2d2)]({'request':_0x28985f,'schema':C,'ClassRef':S,'execute':_0x44f454=>T[_0x2a8c14(0x4f6)](_0x44f454,_0x36cf86)});_0xe56735[_0x2a8c14(0x221)](0xc8)[_0x2a8c14(0x4be)](_0x5780ff);})[_0x596ec9(0x2a7)](this['routerPath'](_0x596ec9(0x74e)),..._0x284b98,async(_0x370b34,_0x54eaeb)=>{const _0x363df7=_0x596ec9;let _0x4a88d0=_0x370b34[_0x363df7(0x43f)];f[_0x363df7(0x477)](_0x363df7(0x262)),f[_0x363df7(0x477)](_0x363df7(0x6eb)),f[_0x363df7(0x477)](_0x370b34[_0x363df7(0x43f)]);let _0x2bd354=await this[_0x363df7(0x2d2)]({'request':_0x370b34,'schema':C,'ClassRef':S,'execute':_0x6efce7=>T[_0x363df7(0x74e)](_0x6efce7,_0x4a88d0)});_0x54eaeb['status'](0xc8)['json'](_0x2bd354);})[_0x596ec9(0x2a7)](this['routerPath']('editConversation'),..._0x284b98,async(_0xb94a36,_0x45da20)=>{const _0x4d302c=_0x596ec9;let _0x4901cd=_0xb94a36[_0x4d302c(0x43f)];f[_0x4d302c(0x477)](_0x4d302c(0x1b9)),f[_0x4d302c(0x477)](_0x4d302c(0x6eb)),f[_0x4d302c(0x477)](_0xb94a36[_0x4d302c(0x43f)]);let _0x111790=await this[_0x4d302c(0x2d2)]({'request':_0xb94a36,'schema':C,'ClassRef':S,'execute':_0x251811=>T[_0x4d302c(0x398)](_0x251811,_0x4901cd)});_0x45da20[_0x4d302c(0x221)](0xc8)[_0x4d302c(0x4be)](_0x111790);})[_0x596ec9(0x6bb)](this[_0x596ec9(0x6c8)](_0x596ec9(0x380)),..._0x284b98,async(_0x5b0919,_0x38e386)=>{const _0x5eb87c=_0x596ec9;let _0x2a259c=_0x5b0919['body'];f[_0x5eb87c(0x477)]('request\x20received\x20in\x20deleteConversation'),f['verbose'](_0x5eb87c(0x6eb)),f[_0x5eb87c(0x477)](_0x5b0919[_0x5eb87c(0x43f)]);let _0x2ab2b5=await this[_0x5eb87c(0x2d2)]({'request':_0x5b0919,'schema':C,'ClassRef':S,'execute':_0x37ad0a=>T[_0x5eb87c(0x380)](_0x37ad0a,_0x2a259c)});_0x38e386[_0x5eb87c(0x221)](0xc8)['json'](_0x2ab2b5);})[_0x596ec9(0x2a7)](this[_0x596ec9(0x6c8)](_0x596ec9(0x2a3)),..._0x284b98,async(_0x43fb41,_0x12d3ea)=>{const _0x1209fe=_0x596ec9;let _0x2928cb=_0x43fb41['body'];f[_0x1209fe(0x477)]('request\x20received\x20in\x20createFlow'),f['verbose'](_0x1209fe(0x6eb)),f[_0x1209fe(0x477)](_0x43fb41[_0x1209fe(0x43f)]);let _0x37b1b7=await this[_0x1209fe(0x2d2)]({'request':_0x43fb41,'schema':C,'ClassRef':S,'execute':_0x15b856=>T[_0x1209fe(0x371)](_0x15b856,_0x2928cb)});_0x12d3ea[_0x1209fe(0x221)](0xc8)[_0x1209fe(0x4be)](_0x37b1b7);})['post'](this[_0x596ec9(0x6c8)](_0x596ec9(0x6c5)),..._0x284b98,async(_0x15aeea,_0x4008e7)=>{const _0xeb7f14=_0x596ec9;let _0x25582c=_0x15aeea[_0xeb7f14(0x43f)];f[_0xeb7f14(0x477)](_0xeb7f14(0x445)),f[_0xeb7f14(0x477)](_0xeb7f14(0x6eb)),f[_0xeb7f14(0x477)](_0x15aeea[_0xeb7f14(0x43f)]),delete _0x25582c['blocks'],delete _0x25582c[_0xeb7f14(0x217)],delete _0x25582c[_0xeb7f14(0x70f)],delete _0x25582c['conditions'];let _0x4a747e=await this[_0xeb7f14(0x2d2)]({'request':_0x15aeea,'schema':C,'ClassRef':S,'execute':_0x2a7b19=>T['editFlow'](_0x2a7b19,_0x25582c)});_0x4008e7[_0xeb7f14(0x221)](0xc8)[_0xeb7f14(0x4be)](_0x4a747e);})[_0x596ec9(0x2a7)](this[_0x596ec9(0x6c8)](_0x596ec9(0x32b)),..._0x284b98,async(_0x56cbca,_0x81bb66)=>{const _0x5c3719=_0x596ec9;let _0x4b70a8=_0x56cbca[_0x5c3719(0x43f)];f[_0x5c3719(0x477)]('request\x20received\x20in\x20editFlow'),f[_0x5c3719(0x477)](_0x5c3719(0x6eb)),f[_0x5c3719(0x477)](_0x56cbca[_0x5c3719(0x43f)]);let _0x4097dc=await this['dataValidate']({'request':_0x56cbca,'schema':C,'ClassRef':S,'execute':_0x5f4958=>T[_0x5c3719(0x460)](_0x5f4958,_0x4b70a8)});_0x81bb66[_0x5c3719(0x221)](0xc8)[_0x5c3719(0x4be)](_0x4097dc);})[_0x596ec9(0x2a7)](this[_0x596ec9(0x6c8)](_0x596ec9(0x468)),..._0x284b98,async(_0x5d1565,_0x49260c)=>{const _0x5d4e06=_0x596ec9;let _0x4596e5=_0x5d1565[_0x5d4e06(0x43f)];f[_0x5d4e06(0x477)](_0x5d4e06(0x445)),f[_0x5d4e06(0x477)]('request\x20body:\x20'),f[_0x5d4e06(0x477)](_0x5d1565[_0x5d4e06(0x43f)]);let _0x5c6354=await this['dataValidate']({'request':_0x5d1565,'schema':C,'ClassRef':S,'execute':_0x5c155a=>T['editFlowReply'](_0x5c155a,_0x4596e5)});_0x49260c[_0x5d4e06(0x221)](0xc8)[_0x5d4e06(0x4be)](_0x5c6354);})[_0x596ec9(0x2a7)](this['routerPath'](_0x596ec9(0x59b)),..._0x284b98,async(_0x540c7e,_0x102ad1)=>{const _0x4603ea=_0x596ec9;let _0x360cbd=_0x540c7e[_0x4603ea(0x43f)];f[_0x4603ea(0x477)](_0x4603ea(0x445)),f[_0x4603ea(0x477)](_0x4603ea(0x6eb)),f[_0x4603ea(0x477)](_0x540c7e[_0x4603ea(0x43f)]);let _0x1210c9=await this[_0x4603ea(0x2d2)]({'request':_0x540c7e,'schema':C,'ClassRef':S,'execute':_0x3d8015=>T[_0x4603ea(0x62b)](_0x3d8015,_0x360cbd)});_0x102ad1[_0x4603ea(0x221)](0xc8)['json'](_0x1210c9);})[_0x596ec9(0x2a7)](this['routerPath'](_0x596ec9(0x4bd)),..._0x284b98,async(_0x42005b,_0x3b2880)=>{const _0x18ab7c=_0x596ec9;let _0xd4f2d1=_0x42005b[_0x18ab7c(0x43f)];f['verbose'](_0x18ab7c(0x72d)),f[_0x18ab7c(0x477)](_0x18ab7c(0x6eb)),f[_0x18ab7c(0x477)](_0x42005b[_0x18ab7c(0x43f)]);let _0x11153f=await this[_0x18ab7c(0x2d2)]({'request':_0x42005b,'schema':C,'ClassRef':S,'execute':_0x320e1d=>T[_0x18ab7c(0x29f)](_0x320e1d,_0xd4f2d1)});_0x3b2880[_0x18ab7c(0x221)](0xc8)[_0x18ab7c(0x4be)](_0x11153f);})['post'](this[_0x596ec9(0x6c8)](_0x596ec9(0x1e6)),..._0x284b98,async(_0x5d475f,_0xc86ff4)=>{const _0x4d7ab7=_0x596ec9;let _0x5b30ef=_0x5d475f[_0x4d7ab7(0x43f)];f[_0x4d7ab7(0x477)](_0x4d7ab7(0x6d9)),f[_0x4d7ab7(0x477)](_0x4d7ab7(0x6eb)),f[_0x4d7ab7(0x477)](_0x5d475f['body']);let _0x41b731=await this[_0x4d7ab7(0x2d2)]({'request':_0x5d475f,'schema':C,'ClassRef':S,'execute':_0x1f4ca0=>T[_0x4d7ab7(0x35e)](_0x1f4ca0,_0x5b30ef)});_0xc86ff4[_0x4d7ab7(0x221)](0xc8)[_0x4d7ab7(0x4be)](_0x41b731);})['post'](this[_0x596ec9(0x6c8)]('editflowvariable'),..._0x284b98,async(_0x45f063,_0x111c60)=>{const _0x10b1e3=_0x596ec9;let _0x271abf=_0x45f063['body'];f['verbose'](_0x10b1e3(0x486)),f[_0x10b1e3(0x477)](_0x10b1e3(0x6eb)),f[_0x10b1e3(0x477)](_0x45f063[_0x10b1e3(0x43f)]);let _0x162578=await this[_0x10b1e3(0x2d2)]({'request':_0x45f063,'schema':C,'ClassRef':S,'execute':_0x1a5038=>T[_0x10b1e3(0x214)](_0x1a5038,_0x271abf)});_0x111c60['status'](0xc8)[_0x10b1e3(0x4be)](_0x162578);})['post'](this[_0x596ec9(0x6c8)](_0x596ec9(0x686)),..._0x284b98,async(_0x2e27ac,_0xeb66f)=>{const _0x42785a=_0x596ec9;let _0x59cfbe=_0x2e27ac[_0x42785a(0x43f)];f[_0x42785a(0x477)](_0x42785a(0x207)),f[_0x42785a(0x477)]('request\x20body:\x20'),f[_0x42785a(0x477)](_0x2e27ac['body']);let _0x1d2533=await this[_0x42785a(0x2d2)]({'request':_0x2e27ac,'schema':C,'ClassRef':S,'execute':_0x1cb200=>T['getFlow'](_0x1cb200,_0x59cfbe)});_0xeb66f[_0x42785a(0x221)](0xc8)[_0x42785a(0x4be)](_0x1d2533);})[_0x596ec9(0x6bb)](this[_0x596ec9(0x6c8)](_0x596ec9(0x17b)),..._0x284b98,async(_0x147997,_0x21b7c9)=>{const _0x2c96a4=_0x596ec9;let _0x595054=_0x147997[_0x2c96a4(0x43f)];f[_0x2c96a4(0x477)](_0x2c96a4(0x3a0)),f[_0x2c96a4(0x477)](_0x2c96a4(0x6eb)),f[_0x2c96a4(0x477)](_0x147997[_0x2c96a4(0x43f)]);let _0x561de6=await this['dataValidate']({'request':_0x147997,'schema':C,'ClassRef':S,'execute':_0x3eecb6=>T[_0x2c96a4(0x446)](_0x3eecb6,_0x595054)});_0x21b7c9['status'](0xc8)['json'](_0x561de6);})['get'](this[_0x596ec9(0x6c8)](_0x596ec9(0x22b)),..._0x284b98,async(_0x5cf825,_0x3268be)=>{const _0x3e9bbd=_0x596ec9;f['verbose'](_0x3e9bbd(0x709));let _0x14c137=await this[_0x3e9bbd(0x2d2)]({'request':_0x5cf825,'schema':C,'ClassRef':S,'execute':_0x24796f=>T['allFlows'](_0x24796f)});_0x3268be['status'](0xc8)[_0x3e9bbd(0x4be)](_0x14c137);});}},cr=R(require(a0_0x2e4b91(0x2ed))),X={};function or(_0x447ba6,_0x16b0da,_0x56bb7c,_0x95172e){X[_0x447ba6]||(X[_0x447ba6]={}),X[_0x447ba6][_0x16b0da]={'id':_0x16b0da,'response':_0x56bb7c,'events':_0x95172e};}function ir(_0x2f0fb8,_0x4f39e7){!X[_0x2f0fb8]||!X[_0x2f0fb8][_0x4f39e7]||delete X[_0x2f0fb8][_0x4f39e7];}function q(_0x5f0f68,_0x57dd39,_0x1def02){const _0x23e4b6=a0_0x2e4b91;if(!X[_0x5f0f68])return;let _0x1b06aa=_0x23e4b6(0x587)+JSON['stringify'](_0x1def02)+'\x0a\x0a';Object[_0x23e4b6(0x63b)](X[_0x5f0f68])[_0x23e4b6(0x2de)](_0xe18e86=>{const _0x5796eb=_0x23e4b6;_0xe18e86[_0x5796eb(0x3bd)][_0x5796eb(0x5fa)](_0x57dd39)&&_0xe18e86[_0x5796eb(0x5b8)][_0x5796eb(0x409)](_0x1b06aa);});}function nr(){const _0x4ee2e5=a0_0x2e4b91;let _0x69e4a2={};for(let _0x5e67da in X)_0x69e4a2[_0x5e67da]=Object[_0x4ee2e5(0x63b)](X[_0x5e67da])[_0x4ee2e5(0x3fa)](_0x4f03e4=>({'id':_0x4f03e4['id'],'events':_0x4f03e4[_0x4ee2e5(0x3bd)]}));return _0x69e4a2;}var lr=require('uuid'),hs=require('mongoose'),gs=class{},no=new hs[(a0_0x2e4b91(0x781))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),co=new hs[(a0_0x2e4b91(0x781))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':no},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),me=N?.[a0_0x2e4b91(0x55a)](gs[a0_0x2e4b91(0x307)],co,a0_0x2e4b91(0x308)),lo=cr[a0_0x2e4b91(0x5f2)]['join'](__dirname,'downloads'),vt=(0x0,Ct['Router'])(),uo=b['get'](a0_0x2e4b91(0x56a))['TYPE'],te=[ma,fa,ba[uo]];vt[a0_0x2e4b91(0x531)](a0_0x2e4b91(0x6ae),Ct[a0_0x2e4b91(0x5f2)][a0_0x2e4b91(0x2cb)](lo))[a0_0x2e4b91(0x535)](a0_0x2e4b91(0x48c),async(_0x5d3e3e,_0x547c04)=>{const _0xde4e47=a0_0x2e4b91;console[_0xde4e47(0x54d)](_0xde4e47(0x196));let _0x2f3fdb=_0x5d3e3e[_0xde4e47(0x3f2)][_0xde4e47(0x638)],_0x3a846b=(_0x5d3e3e['query'][_0xde4e47(0x3bd)]||'')[_0xde4e47(0x4ad)](','),_0x3498d5=(0x0,lr['v4'])();console[_0xde4e47(0x54d)](_0xde4e47(0x2e6),_0x2f3fdb),console['log'](_0xde4e47(0x536),_0x3a846b);let _0x1946ff=b[_0xde4e47(0x535)](_0xde4e47(0x56a))[_0xde4e47(0x227)],_0x178a8a=_0x5d3e3e['query']['apikey'];if(console[_0xde4e47(0x54d)](_0xde4e47(0x234),_0x178a8a),_0x1946ff['KEY']!==_0x178a8a){console['log'](_0xde4e47(0x6a0));try{let _0x265b42=await ce[_0xde4e47(0x6b0)]['find'](_0x2f3fdb);if(console['log'](_0xde4e47(0x250),_0x265b42),!_0x265b42||_0x265b42['apikey']!==_0x178a8a)return console['log'](_0xde4e47(0x3dd)),_0x547c04['status'](0x191)[_0xde4e47(0x2f4)]('API\x20Key\x20inválida.');}catch(_0x4760f7){return console['error'](_0xde4e47(0x53d),_0x4760f7),_0x547c04[_0xde4e47(0x221)](0x191)[_0xde4e47(0x2f4)](_0xde4e47(0x5ff));}}if(!await We(_0x2f3fdb))return _0x547c04[_0xde4e47(0x221)](0x194)[_0xde4e47(0x2f4)](_0xde4e47(0x4ed));_0x547c04[_0xde4e47(0x402)](_0xde4e47(0x738),_0xde4e47(0x4fd)),_0x547c04[_0xde4e47(0x402)](_0xde4e47(0x185),_0xde4e47(0x754)),_0x547c04[_0xde4e47(0x402)]('Connection',_0xde4e47(0x1cd)),_0x547c04[_0xde4e47(0x395)]();let _0xd0f1f0=_0xde4e47(0x587)+JSON[_0xde4e47(0x1ba)]({'info':_0xde4e47(0x4dd)})+'\x0a\x0a';_0x547c04[_0xde4e47(0x409)](_0xd0f1f0),or(_0x2f3fdb,_0x3498d5,_0x547c04,_0x3a846b),_0x5d3e3e['on']('close',()=>{const _0x3cfc29=_0xde4e47;console['log'](_0x3cfc29(0x4a6)+_0x2f3fdb),ir(_0x2f3fdb,_0x3498d5);});}),vt[a0_0x2e4b91(0x535)]('/clients-info',(_0x539d3d,_0x2dd9d5)=>{const _0x2005f3=a0_0x2e4b91;let _0xb2fd41=nr();_0x2dd9d5[_0x2005f3(0x4be)](_0xb2fd41);})[a0_0x2e4b91(0x535)]('/',(_0x7d6984,_0x28899f)=>{const _0x1c728c=a0_0x2e4b91;let _0x2c638a=b[_0x1c728c(0x535)](_0x1c728c(0x5f8)),_0x3e6ee5=_0x2c638a&&_0x2c638a[_0x1c728c(0x669)][_0x1c728c(0x4ad)]('/')[0x4];if(_0x3e6ee5){let _0x52fb7c=encodeURIComponent('https://'+_0x3e6ee5);_0x28899f[_0x1c728c(0x1bb)](_0x1c728c(0x276)+_0x52fb7c);}else _0x28899f[_0x1c728c(0x1bb)](_0x1c728c(0x3e3));})[a0_0x2e4b91(0x44c)](a0_0x2e4b91(0x15c),...te,async(_0x527a4b,_0x1ea753)=>{const _0x189458=a0_0x2e4b91;try{console['log'](_0x189458(0x224)),_0x1ea753[_0x189458(0x221)](0xc8)[_0x189458(0x4be)]({'message':_0x189458(0x1bc)}),_0x1ea753['on'](_0x189458(0x42a),()=>process[_0x189458(0x712)](0x0));}catch(_0x59bf17){console[_0x189458(0x27b)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x59bf17),_0x1ea753['status'](0x1f4)['json']({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x2e4b91(0x44c)](a0_0x2e4b91(0x3bb),...te,async(_0x345bef,_0x3d8551)=>{const _0x154bf0=a0_0x2e4b91;try{let _0x4bdf6d=_0x345bef[_0x154bf0(0x43f)];await me[_0x154bf0(0x3fb)]({},{'$set':_0x4bdf6d},{'upsert':!0x0});let _0x5a4bb2=await me[_0x154bf0(0x5aa)]();_0x3d8551[_0x154bf0(0x4be)](_0x5a4bb2);}catch(_0xa53b87){_0x3d8551['status'](0x190)[_0x154bf0(0x2f4)](_0xa53b87['message']);}})['get']('/config',...te,async(_0x5ba60b,_0x822501)=>{const _0x4e657c=a0_0x2e4b91;try{let _0x1414dd=await me[_0x4e657c(0x5aa)]();if(!_0x1414dd)return _0x822501['json']({});_0x822501['json'](_0x1414dd);}catch(_0x467dcd){_0x822501['status'](0x1f4)[_0x4e657c(0x2f4)](_0x467dcd[_0x4e657c(0x662)]);}})[a0_0x2e4b91(0x531)]('/instance',new ct(b,...te)[a0_0x2e4b91(0x483)])[a0_0x2e4b91(0x531)]('/message',new bt(...te)['router'])[a0_0x2e4b91(0x531)](a0_0x2e4b91(0x2ce),new Xe(...te)['router'])['use']('/group',new nt(...te)[a0_0x2e4b91(0x483)])[a0_0x2e4b91(0x531)]('/webhook',new Et(...te)[a0_0x2e4b91(0x483)])[a0_0x2e4b91(0x531)]('/automate',new Mt(...te)[a0_0x2e4b91(0x483)]);function a0_0x22a8(_0x49adc9,_0x54be3b){const _0x21eefb=a0_0x21ee();return a0_0x22a8=function(_0x22a8fe,_0x5aa9a4){_0x22a8fe=_0x22a8fe-0x154;let _0x8eec82=_0x21eefb[_0x22a8fe];return _0x8eec82;},a0_0x22a8(_0x49adc9,_0x54be3b);}var h=class{constructor(..._0x2c5415){const _0x2dd255=a0_0x2e4b91;throw{'status':0x190,'error':_0x2dd255(0x504),'message':_0x2c5415[_0x2dd255(0x52c)]>0x0?_0x2c5415:void 0x0};}},ee=class{constructor(..._0x2de9ff){const _0x1958b2=a0_0x2e4b91;throw{'status':0x191,'error':_0x1958b2(0x210),'message':_0x2de9ff[_0x1958b2(0x52c)]>0x0?_0x2de9ff:void 0x0};}},K=class{constructor(..._0x56e46b){throw{'status':0x193,'error':'Forbidden','message':_0x56e46b['length']>0x0?_0x56e46b:void 0x0};}},L=class{constructor(..._0xc39133){const _0x3d0de7=a0_0x2e4b91;throw{'status':0x194,'error':_0x3d0de7(0x2ca),'message':_0xc39133['length']>0x0?_0xc39133:void 0x0};}},O=class{constructor(..._0x3da8fb){const _0x47be06=a0_0x2e4b91;throw{'status':0x1f4,'error':_0x47be06(0x2aa),'message':_0x3da8fb[_0x47be06(0x52c)]>0x0?_0x3da8fb:void 0x0};}},le=require(a0_0x2e4b91(0x378));async function ms(_0x15f072){const _0x4c95b3=a0_0x2e4b91;let _0x554740=new v(ms[_0x4c95b3(0x307)]),_0x5f7368=N[_0x4c95b3(0x4b5)](),_0x4a65f9=_0x5f7368['db'](b[_0x4c95b3(0x535)](_0x4c95b3(0x1b0))[_0x4c95b3(0x5e9)]['DB_PREFIX_NAME']+'-instances')[_0x4c95b3(0x1e3)](_0x15f072),_0x359baa=async(_0x5c4300,_0x402f65)=>{const _0x3f8802=_0x4c95b3;try{return await _0x5f7368[_0x3f8802(0x5f1)](),await _0x4a65f9[_0x3f8802(0x3c8)]({'_id':_0x402f65},JSON['parse'](JSON[_0x3f8802(0x1ba)](_0x5c4300,le[_0x3f8802(0x3ff)][_0x3f8802(0x213)])),{'upsert':!0x0});}catch{}},_0x56cd8f=async _0x1df284=>{const _0x589845=_0x4c95b3;try{await _0x5f7368[_0x589845(0x5f1)]();let _0x533d2d=await _0x4a65f9[_0x589845(0x5aa)]({'_id':_0x1df284}),_0x49ab2a=JSON[_0x589845(0x1ba)](_0x533d2d);return JSON[_0x589845(0x31b)](_0x49ab2a,le[_0x589845(0x3ff)][_0x589845(0x552)]);}catch{}},_0x10a7e7=async _0x4ab9b2=>{const _0x34b06c=_0x4c95b3;try{return await _0x5f7368[_0x34b06c(0x5f1)](),await _0x4a65f9[_0x34b06c(0x259)]({'_id':_0x4ab9b2});}catch{}},_0xd7d62=await _0x56cd8f(_0x4c95b3(0x39a))||(0x0,le[_0x4c95b3(0x497)])();return{'state':{'creds':_0xd7d62,'keys':{'get':async(_0x36c1d4,_0xebf6a4)=>{const _0xd5f332=_0x4c95b3;let _0x30d9b0={};return await Promise[_0xd5f332(0x58a)](_0xebf6a4[_0xd5f332(0x3fa)](async _0x1bb4eb=>{const _0x11081b=_0xd5f332;let _0x433092=await _0x56cd8f(_0x36c1d4+'-'+_0x1bb4eb);_0x36c1d4===_0x11081b(0x2d4)&&_0x433092&&(_0x433092=le[_0x11081b(0x55d)][_0x11081b(0x595)][_0x11081b(0x34a)][_0x11081b(0x3af)](_0x433092)),_0x30d9b0[_0x1bb4eb]=_0x433092;})),_0x30d9b0;},'set':async _0x34a7ab=>{const _0x3cad65=_0x4c95b3;let _0x12915d=[];for(let _0x42930d in _0x34a7ab)for(let _0x3371af in _0x34a7ab[_0x42930d]){let _0x40c2d8=_0x34a7ab[_0x42930d][_0x3371af],_0x24f305=_0x42930d+'-'+_0x3371af;_0x12915d[_0x3cad65(0x20c)](_0x40c2d8?_0x359baa(_0x40c2d8,_0x24f305):_0x10a7e7(_0x24f305));}await Promise[_0x3cad65(0x58a)](_0x12915d);}}},'saveCreds':async()=>_0x359baa(_0xd7d62,_0x4c95b3(0x39a))};}var Ss=R(require('long')),Es=R(require('node-cache')),Tt=require(a0_0x2e4b91(0x378)),ur=require(a0_0x2e4b91(0x777)),Rt=require(a0_0x2e4b91(0x378)),Nt;function po(_0x49c9e7){const _0x3b3a14=a0_0x2e4b91;return Nt||(Nt=(0x0,ur[_0x3b3a14(0x4c9)])({'url':_0x49c9e7['URI']}),Nt['connect']()),Nt;}var oe=class c{constructor(_0x501904,_0x2cea6a){const _0x541459=a0_0x2e4b91;this[_0x541459(0x3be)]=_0x501904,this['instanceName']=_0x2cea6a,this['logger']=new v(c['name']),this[_0x541459(0x626)]=po(_0x501904);}set[a0_0x2e4b91(0x774)](_0x78c4de){const _0x2b1cc8=a0_0x2e4b91;this[_0x2b1cc8(0x5bc)]=_0x78c4de;}async[a0_0x2e4b91(0x323)](){const _0xc357b1=a0_0x2e4b91;try{return await this['client'][_0xc357b1(0x72a)](['keys',this['redisEnv'][_0xc357b1(0x519)]+':*']);}catch(_0x31d8cf){this[_0xc357b1(0x76f)]['error'](_0x31d8cf);}}async[a0_0x2e4b91(0x423)](_0x2691c8,_0x4c0619){const _0x406918=a0_0x2e4b91;try{let _0x59793f=JSON['stringify'](_0x4c0619,Rt[_0x406918(0x3ff)][_0x406918(0x213)]);return await this[_0x406918(0x626)][_0x406918(0x272)](this[_0x406918(0x3be)][_0x406918(0x519)]+':'+this[_0x406918(0x5bc)],_0x2691c8,_0x59793f);}catch(_0x286915){this[_0x406918(0x76f)][_0x406918(0x27b)](_0x286915);}}async[a0_0x2e4b91(0x67a)](){const _0x427cbb=a0_0x2e4b91;try{let _0x52db50=await this[_0x427cbb(0x626)][_0x427cbb(0x20e)](this['redisEnv'][_0x427cbb(0x519)]+':'+this['instanceName']);if(_0x52db50){for(let _0x25467d in _0x52db50)Object[_0x427cbb(0x6ef)]['hasOwnProperty'][_0x427cbb(0x77e)](_0x52db50,_0x25467d)&&(_0x52db50[_0x25467d]=JSON[_0x427cbb(0x31b)](_0x52db50[_0x25467d],Rt[_0x427cbb(0x3ff)]['reviver']));return _0x52db50;}}catch(_0x51c892){this['logger'][_0x427cbb(0x27b)](_0x51c892);}}async[a0_0x2e4b91(0x58b)](_0x445704){const _0x48e28b=a0_0x2e4b91;try{let _0xf074f7=await this[_0x48e28b(0x626)]['hGet'](this[_0x48e28b(0x3be)][_0x48e28b(0x519)]+':'+this[_0x48e28b(0x5bc)],_0x445704);if(_0xf074f7)return JSON[_0x48e28b(0x31b)](_0xf074f7,Rt[_0x48e28b(0x3ff)][_0x48e28b(0x552)]);}catch(_0x4db99b){this[_0x48e28b(0x76f)]['error'](_0x4db99b);}}async['removeData'](_0x3ae625){const _0x3e4834=a0_0x2e4b91;try{return await this['client'][_0x3e4834(0x5cb)](this['redisEnv'][_0x3e4834(0x519)]+':'+this[_0x3e4834(0x5bc)],_0x3ae625);}catch(_0x4dbcdc){this[_0x3e4834(0x76f)][_0x3e4834(0x27b)](_0x4dbcdc);}}async[a0_0x2e4b91(0x3e8)](_0x5c65d8){const _0x1a5c37=a0_0x2e4b91;try{return await this['client'][_0x1a5c37(0x4e8)](_0x5c65d8||this[_0x1a5c37(0x3be)]['PREFIX_KEY']+':'+this[_0x1a5c37(0x5bc)]);}catch(_0x420561){this[_0x1a5c37(0x76f)][_0x1a5c37(0x27b)](_0x420561);}}};async function fs(_0x1a386d,_0x9b2950){const _0x2a9f28=a0_0x2e4b91;let _0x46ff85=new v(fs['name']),_0x358b4f=new oe(_0x1a386d,_0x9b2950),_0x441762=async(_0x43ba79,_0x4a2177)=>{const _0x5902cc=a0_0x22a8;try{return await _0x358b4f[_0x5902cc(0x423)](_0x4a2177,_0x43ba79);}catch(_0x13189d){return _0x46ff85[_0x5902cc(0x27b)]({'localError':_0x5902cc(0x423),'error':_0x13189d});}},_0x237d88=async _0x35e5ec=>{try{return await _0x358b4f['readData'](_0x35e5ec);}catch(_0x550e76){_0x46ff85['error']({'readData':'writeData','error':_0x550e76});return;}},_0x1dd6f8=async _0x41093d=>{const _0x1c5d28=a0_0x22a8;try{return await _0x358b4f[_0x1c5d28(0x70c)](_0x41093d);}catch(_0x2f3669){_0x46ff85['error']({'readData':_0x1c5d28(0x70c),'error':_0x2f3669});}},_0x5d2539=await _0x237d88(_0x2a9f28(0x39a))||(0x0,Tt[_0x2a9f28(0x497)])();return{'state':{'creds':_0x5d2539,'keys':{'get':async(_0x43da1d,_0x33d733)=>{const _0x2f1154=_0x2a9f28;let _0x18f96a={};return await Promise['all'](_0x33d733[_0x2f1154(0x3fa)](async _0x1e4991=>{const _0x1fbbd7=_0x2f1154;let _0x118129=await _0x237d88(_0x43da1d+'-'+_0x1e4991);_0x43da1d===_0x1fbbd7(0x2d4)&&_0x118129&&(_0x118129=Tt[_0x1fbbd7(0x55d)][_0x1fbbd7(0x595)][_0x1fbbd7(0x34a)][_0x1fbbd7(0x3af)](_0x118129)),_0x18f96a[_0x1e4991]=_0x118129;})),_0x18f96a;},'set':async _0x3b6b7e=>{const _0x126a01=_0x2a9f28;let _0x365b9a=[];for(let _0x493329 in _0x3b6b7e)for(let _0x2e5663 in _0x3b6b7e[_0x493329]){let _0x14c8a6=_0x3b6b7e[_0x493329][_0x2e5663],_0xd0c847=_0x493329+'-'+_0x2e5663;_0x365b9a[_0x126a01(0x20c)](_0x14c8a6?await _0x441762(_0x14c8a6,_0xd0c847):await _0x1dd6f8(_0xd0c847));}await Promise[_0x126a01(0x58a)](_0x365b9a);}}},'saveCreds':async()=>await _0x441762(_0x5d2539,'creds')};}var k=R(require('fs')),fe=require('uuid'),It=R(require(a0_0x2e4b91(0x739))),wr=require(a0_0x2e4b91(0x4a0)),go=a0_0x2e4b91(0x286)[a0_0x2e4b91(0x2ec)](),ys=go[a0_0x2e4b91(0x4ad)]('\x0a')['map'](_0x52d3c3=>{const _0x3cd45=a0_0x2e4b91;let _0x4fd125=_0x52d3c3[_0x3cd45(0x4ad)](':');return{'host':_0x4fd125[0x0],'port':_0x4fd125[0x1],'username':_0x4fd125[0x2],'password':_0x4fd125[0x3],'protocol':_0x3cd45(0x655)};});function dr(){const _0xd314e0=a0_0x2e4b91;if(ys[_0xd314e0(0x52c)]===0x0)return null;let _0x1669c5=Math[_0xd314e0(0x40b)](Math[_0xd314e0(0x1cf)]()*ys[_0xd314e0(0x52c)]);return ys[_0x1669c5];}function ws(_0x4ef287){const _0x18a312=a0_0x2e4b91;return _0x4ef287&&_0x4ef287[_0x18a312(0x553)]&&_0x4ef287[_0x18a312(0x75c)]&&_0x4ef287['username']&&_0x4ef287[_0x18a312(0x49e)];}var br=a0_0x2e4b91(0x4d0),Ms,ie=null,pr=null,He=null,ho=0x3,mo=null,Sr=!0x1;async function fo(){const _0x2ad76e=a0_0x2e4b91;let _0x2e2887=await me[_0x2ad76e(0x5aa)]();ie=_0x2e2887?.[_0x2ad76e(0x3a5)]??null,mo=_0x2e2887?.[_0x2ad76e(0x5b9)]??null,br=_0x2e2887?.[_0x2ad76e(0x516)]??_0x2ad76e(0x4d0),Ms=_0x2e2887?.[_0x2ad76e(0x5ee)]??Cs??_0x2ad76e(0x55c),Sr=_0x2e2887?.[_0x2ad76e(0x1c5)]??!0x1,console[_0x2ad76e(0x54d)](_0x2ad76e(0x555)),console[_0x2ad76e(0x54d)](_0x2e2887);}async function yo(){await fo();}yo();function _(_0x4e4745){const _0x534d2c=a0_0x2e4b91;if(_0x4e4745[_0x534d2c(0x79c)]||_0x4e4745[_0x534d2c(0x1e7)]){let _0x485f93=_0x4e4745[_0x534d2c(0x79c)]?_0x4e4745[_0x534d2c(0x79c)][_0x534d2c(0x662)]:_0x4e4745[_0x534d2c(0x1e7)][_0x534d2c(0x662)];return(0x0,y[_0x534d2c(0x381)])(_0x485f93);}return _0x4e4745[_0x534d2c(0x4de)]?'pollCreationMessageV3':_0x4e4745['pollCreationMessageV2']?_0x534d2c(0x2b2):_0x4e4745[_0x534d2c(0x718)]?_0x534d2c(0x718):(0x0,y['getContentType'])(_0x4e4745);}function a0_0x21ee(){const _0x1ea83a=['filter','contacts','getScheduleMessageModelForOwner','createConversationforgoToFlow','viewOnceMessageV2Extension','getBusinessProfile','Error\x20updating\x20message\x20status:','makeCacheableSignalKeyStore','Erro\x20de\x20atualização:\x20','collections','):\x20Dados\x20migrados\x20com\x20sucesso','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','.uazapi.dev','presenceSubscribe','ON\x20-\x20dbName:\x20','findAndReplace','creation','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','contactMessage','join','):\x20Deletando\x20mensagem','integer','sendCommand','$dbName','\x1b[33m%s\x1b[0m','request\x20received\x20in\x20editFlowgroup','connectToWhatsapp','image','AutomateFunctions','leadInfo.desativadoFluxoAte','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','child_process','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','\x20-y','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Content-Type','sharp','findOneAndUpdate','firstValue','delaySecMin','CORS','node-mime-types','value','findGroups','The\x20global\x20api\x20key\x20must\x20be\x20set','temp-','restartInstance','\x20saindo\x20da\x20função','_FlowHistorico','\x20quoted:\x20','):\x20Ignoring\x20group\x20messages.','utf-8','createJid','lastSendMessage','create','out','audio/aac','fetchConversation','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','1129415tnVPPA','fetchMessages','listResponseMessage','):\x20Entrou\x20na\x20função\x20goToFlow','no-cache','Including\x20timestamp\x20in\x20url:\x20','Erro\x20do\x20Certbot:\x20','processPollUpdateMessage','\x0aFN:','oldValue','lastMessage','createAndSave','port','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','errno','limit','fone','archive','jsonwebtoken','):\x20teve\x20mudanças\x20chat.displayName:\x20','DATABASE_ENABLED','atendimentoAberto','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','sendReaction','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','order','The\x20property\x20cannot\x20be\x20empty','apiName','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','^\x5cd+',',\x20valor\x20passado:\x20\x22','logger','resetReconnectionVariables','load','view\x20engine','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','reference','ephemeralExpiration','editFlowReply','@redis/client','leaveGroup','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','joinGroup','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','leadInfo.customFields','chats','call','realVariables','insertCount','Schema','flowConversation','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','):\x20Editando\x20grupo\x20do\x20fluxo...','saveConversationToDatabase','testProxy','notEqual','dark','debug','----------------------------','/instance/connectionState','getFlow','remoteJid','fetchChats','FlowController','badSession','role','updateProfileStatus','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','save','sendSticker','truncatedtoEnd','request','startsWith','close','\x0a{\x20instance:\x20','):\x20alterando\x20this.AutomateSystem','viewOnceMessage','processConditions','stdout','HOST','warn','Business\x20profile\x20fetched','updatePresence','updateConversation','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','SERVER_TYPE','\x1b[32m%s\x1b[0m','\x22\x20-\x20REMOVED','env.yml','chatModify','Valor\x20de\x20find\x20ou\x20replace\x20ausente','\x20using\x20the\x20proxy:','changeVariables',',\x20lastCondition:\x20','/exit','locked','\x1b[36m','):\x20','The\x20\x22','listType','AUTHENTICATION_TYPE','):\x20Visualizando\x20AutomateSystem','urlencoded','flowStopMinutes','updateMany','qrCode','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','gifPlayback','updateGParticipant','exec','):\x20Conversa\x20atualizada\x20em\x20memória','):\x20conversation.waitingMenu_name','key','none','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','):\x20isVote:\x20','groupadd','GROUP_PARTICIPANTS_UPDATE','):\x20expirationTime:\x20','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','delayMessage','lastSend','Processing\x20audio','messageContextInfo','deleteflow','getHours','preview','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','connectionStatus','Type\x20is\x20required','updateBlock','isBase64','):\x20atualização\x20chat:\x20','Image\x20is\x20base64','Cache-Control','caption','\x20instance\x20does\x20not\x20exist','instance.','MessageModel','groupToggleEphemeral','lastReceivedMessage','find','):\x20Deletando\x20fluxo...','__esModule','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','PENDING','Cannot\x20','JWT','equal','Error\x20while\x20deleting\x20message\x20for\x20everyone','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','bateu\x20events','quoted','DELIVERY_ACK','where','):\x20Editando\x20variável\x20do\x20fluxo...','Audio\x20processed','generateWAMessageFromContent','loadEnv','toDataURL','apikey','.mp4','ConversationModel','uazapiSendLocation','sections','Db\x20Connection','E-mail:\x20','notContains','isLong','6546287SgfQrv','evaluateConditionTest','Router','):\x20Enviando\x20contato','header','sendText','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','.X-ABLabel:Celular\x0a','DATABASE','notas','Nenhum\x20chat\x20encontrado\x20para\x20editar.','):\x20Fluxos\x20não\x20estão\x20ativados','updateReplyOption','Flow\x20não\x20encontrado','done','profilePictureUrl','array','request\x20received\x20in\x20editConversation','stringify','redirect','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','arraybuffer','locationMessage','unknown\x20operation\x20type\x20[','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','contact','removeInstance','DB_PREFIX_NAME','chats.update','AllProxy','@broadcast','toUpperCase','connectionUpdate','CONTACTS_UPSERT','InstancesAsDisconnectedX','COLOR','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','keep-alive','lowerCase','random','dropCollection','):\x20Entrou\x20na\x20função\x20saveReply','count','):\x20Enviando\x20áudio','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','online','owner','base64','buttonId','test','addresss','fileLength','no.connection','Erro\x20inesperado\x20em\x20processvaredits:\x20','editScheduleMessage','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','messages.set','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','minutesToClose','collection','downloads','pre','editflowcondition','viewOnceMessageV2','mediaMessage','):\x20Procurando\x20conversa','loadInstance','console','authModel','localWebhook','statSync','-instances','recording','CHATS_DELETE','audio/mp4','):\x20Conversa\x20inserida\x20com\x20sucesso.','protocolMessage','vote','currency','hasOwnProperty','scheduleMessages','replaceValue','stopWhenYouSendMsg','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','express-async-errors','protocol','choices','.jwt','AUTHENTICATION_JWT_EXPIRIN_IN','isBusiness','website','archiveChat','Erro\x20ao\x20atualizar\x20o\x20fluxo:','subjectTime','updateOnlinePrivacy','request\x20received\x20in\x20getFlow','uazapiSendAudio','TEL','flowPrefixCommand','unlinkSync','push','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','hGetAll',',\x20saindo.','Unauthorized','cleanStore','instanceName\x20not\x20provided.','replacer','editFlowVariable','segundos','less','variables','):\x20nextBlock.uazapi.name','Deletion\x20failed','\x22,\x20valor\x20a\x20substituir:\x20\x22','request\x20received\x20in\x20getConversation','createConversationforStartFlow','audio/ogg','next_groupId','update','GROUPS_UPSERT','status','encoding','goNextblock','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','File\x20written\x20to\x20path:\x20','API_KEY','STORE_MESSAGE','silent','):\x20leadInfoVariables','allflows','):\x20Bloco\x20com\x20ID\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Unknown\x20message\x20type\x20or\x20empty\x20message','onTime','DATABASE_CONNECTION_USER','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','\x20horas\x20e\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','API\x20Key\x20from\x20Request:','throwAndLogError','):\x20Query\x20params:','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','waUploadToServer','6qwxOtT','sending','jid','options','Label\x20','contentText','info','readMessages','RemoveChatLabel','customFields','editFlow','defineProperty','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','CHATS_UPDATE','createSectionsFromValues','subjectOwner','leadInfo','Parando\x20aplicação,\x20atualização\x20recebida','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','chats.set','$addToSet','Full\x20file\x20path:','verify','Instance\x20Key\x20from\x20DB:','remoteJids','Imagem\x20não\x20encontrada','getContactModelForOwner','MAX_RECONNECT_ATTEMPTS','size','groupUpdateSubject','/wa-presence','stopped','deleteOne','query','isRunning','sendWhatsAppAudio','ReplyOption\x20com\x20ID\x20','execSync','participants','$set','replaceVariablesLogs','request\x20received\x20in\x20fetchConversation','TYPE','_id','toNumber','upsertChats','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','readdirSync','):\x20debug\x20alterando\x20this.AutomateSystem','.\x20Pulando.','--standalone','saveVariable','mediatype','Error\x20data:','width','_Flows','extractRegex','hSet','setting','assign','context','https://uazapi-plugin.bubbleapps.io/?url=','whatsappNumber','matchRegex','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','Trying\x20to\x20get\x20business\x20profile','error',',\x20Minutes\x20to\x20Close:\x20','\x20contacts','capitalizedWords','requested\x20testProxy','mkdirSync','displayName','Audio\x20is\x20base64','repeat','cors','\x1b[40m','\x0a38.154.227.167:5868:bkcihaei:jxnd6wd97u0s\x0a185.199.229.156:7492:bkcihaei:jxnd6wd97u0s\x0a185.199.228.220:7300:bkcihaei:jxnd6wd97u0s\x0a185.199.231.45:8382:bkcihaei:jxnd6wd97u0s\x0a188.74.210.207:6286:bkcihaei:jxnd6wd97u0s\x0a188.74.183.10:8279:bkcihaei:jxnd6wd97u0s\x0a188.74.210.21:6100:bkcihaei:jxnd6wd97u0s\x0a45.155.68.129:8133:bkcihaei:jxnd6wd97u0s\x0a154.95.36.199:6893:bkcihaei:jxnd6wd97u0s\x0a45.94.47.66:8110:bkcihaei:jxnd6wd97u0s\x0a','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','#000000',',\x20valor\x20a\x20encontrar:\x20\x22','Getting\x20profile\x20info','Error\x20message:','Error\x20change\x20group\x20setting','Error\x20updating\x20profile\x20status','timerId','):\x20Limpando\x20AutomateSystem','\x20inseridas\x20no\x20banco\x20de\x20dados...','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','set',',\x20Segundo\x20Valor:\x20','originalUrl','stopMinutes','menuExpiredMessage','end','fetchProfile','\x1b[30m','Output\x20audio\x20path:\x20','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','webhookMap','URI','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','editFlowGroup','notMatchRegex','ScheduleMessageModel','sendContact','createflow','including\x20timestamp\x20in\x20url:\x20','\x20\x1b[0m','flowConfig','post','PASSWORD','\x5c$&','Internal\x20Server\x20Error','cwd','stickerMessage','checkAndRestartProcess','deleteReplyOption','lean','instanceInfo','secondValue','pollCreationMessageV2','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','blockId','Missing\x20global\x20api\x20key','AddChatLabel','indexOf','toFile','CHATS_SET','\x22\x20cannot\x20be\x20empty','insertMany','DATABASE_CONNECTION_DB_PREFIX_NAME','scheduleSendText','groupSetting','webhook','waMonitor','/instance/fetchInstances','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','Content\x20is\x20required','urlOrBase64','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','deleteAll','redis','groupDesc','createGroup','Not\x20Found','static','Esse\x20fluxo\x20expirou','now','/chat','whatsappNumbers','last','updateGParticipate','dataValidate','ObjectId','app-state-sync-key','ProxyAgent','from','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','fetchBusinessProfile','profile','Last\x20message\x20not\x20found','Falta\x20informação\x20para\x20a\x20chamada\x20API','fileName','forEach','sendPoll','lastCondition','scheduleSendMedia','messageHandle','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','PRIVKEY','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Instance\x20ID:','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','/wa-message','getFlowModelForOwner','/wa-qrcode','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','trim','path','deletedCount','.sendDataWebhook-local','working','readFile','pollCreationMessage','CONECTADO\x20À\x20UAZAPI','send','closeExistingConversations','Erro\x20ao\x20inserir\x20chats:','fetchLatestBaileysVersion','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','fetchLabels','variablesToObject','484411TPUtDU','Image\x20converted\x20to\x20WebP','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','KEY','nomecompleto','sendMessageWithTyping','PLAYED','GROUPS_UPDATE','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','\x1b[37m','STATUS_INSTANCE','name','All_Instances_Config','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','imageMessage','remove','PRODUCT_LIST','modifiedCount','eventHandler','CORS_CREDENTIALS','testProxy\x20response\x20from\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','requestPairingCode','sendButtons','ipify.org','SERVER','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','code','https://api.ipify.org?format=json','getScheduleMessage','leadInfo.customFields.','parse','statusJidList','jsonschema','entrou\x20na\x20função\x20importChats2','contains','waInstances','fileUrl','downloadMediaMessage','instanceKeys','):\x20Enviando\x20enquete','request\x20received\x20in\x20starFlow','getVariablesChat','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','-whatsapp-api','round','editflowblock','):\x20Mensagem\x20já\x20enviada\x20para\x20','):\x20Criou\x20conversa\x20no\x20startFlow:','CORS_METHODS','EXPIRIN_IN','HH:mm:ss','eventemitter2','deleteMessageForEveryone','_Messages','presence.update','group-participants.update','Erro\x20ao\x20aplicar\x20varedit:\x20','messageId','flowActive','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','deleted','item','Erro\x20ao\x20editar\x20agentes:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','buttonMessage','INFO','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','font','buttons','sectionsToString','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','maxActives','js-yaml','Error\x20updating\x20profile\x20name','desc','AppStateSyncKeyData','processingScheduleMessageId','enumerable','chatId','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','updateProfilePicture','PORT','lastInteraction','):\x20Error\x20processing\x20conditions:\x20','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','updateGroupPicture','subdomain','application/octet-stream','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','replaceVariables','dbClient','@s.whatsapp.net','content-disposition','namespace','ensureChatIdsExist','editFlowCondition','\x20-\x20ON:\x20','decryptPollVote','/wa-connection-update','/wa-groups','addBlock','sendMenu','):\x20this.processingScheduleMessageId:\x20','everyOne','truncatedto','markMessageAsRead','pairingCode','selectedOptions','updateAgent','replaceVariablesChat','EMAIL:','messageTimestamp','fetchStatus','errors','createFlow','trimmed','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','updatePrivacySettings','CHATS_UPSERT','shutdown\x20-r\x20now','getDevice','@whiskeysockets/baileys','/events','user','\x20segundos','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Converting\x20audio\x20to\x20mp4','rm\x20-rf\x20','DELETED','deleteConversation','getContentType','block','):\x20Buscando\x20conversa...','extname','wuid','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','Error\x20headers:','group\x20ignored','backgroundColor','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','):\x20teve\x20mudanças\x20chat.archived:\x20','sendPresenceUpdate','selectableCount','):\x20Conversa\x20está\x20expirada','toBRL','):\x20Editando\x20condição\x20do\x20fluxo...','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','updateLastSeenPrivacy','/wa-contacts','createInstance','flushHeaders','state','getLastMessage','editConversation','getOwnPropertyDescriptor','creds','Unable\x20to\x20leave\x20the\x20group','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','greater','----------------------REMOVE----------------------------','\x5cd+','request\x20received\x20in\x20deleteFlow','expression','https://jsonip.com','AUTHENTICATION_JWT_SECRET','removeProfilePicture','WebhookGlobal','\x1b[46m','Error\x20updating\x20participants','\x20inseridos\x20no\x20banco\x20de\x20dados...','groupJid','\x20minutos.\x20Será\x20às\x20','scheduleNextCheck','responsavelid','remove.instance','expiration','fromObject','Error\x20fetching\x20group','contacts.update','unreadcount','contextInfo','Fluxo\x20não\x20encontrado','updateParticipant','optionName','bodyString','\x0a*Você\x20respondeu*:\x0a','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','/config','connecting','events','redisEnv','Error\x20removing\x20profile\x20picture','substring','uncaughtException','syscall','url','AutomateSystem','Original\x20filename:','):\x20Buscando\x20flow...','393916gNeEZQ','replaceOne','documentMessage','replace','sign','\x1b[1m\x1b[37m','message_normalized','Media\x20folder\x20path:','fetchInstances','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','LabelModel','editChat','):\x20Erro\x20ao\x20buscar\x20conversas\x20','sendMessage','Log\x20out\x20instance:\x20','status.instance','Fluxos\x20não\x20estão\x20ativados','flow','formatVCard','):\x20Criando\x20nova\x20conversa[createNewConversation]','match_last_seen','Failed\x20to\x20get\x20IP\x20from\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','replyOption','labels.edit','):\x20Going\x20to\x20','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','https://uazapi-plugin.bubbleapps.io/','/instance/delete','vcard','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','uazapiSendMenu','delAll','video','Not\x20is\x20business\x20profile','sticker','local_map','ChatModel','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','USER','repository','webhookModel','params','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','match','updateOneById','charAt','findGroupInfo','pollOnReplyDelete','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','map','updateOne','findContacts','reconnectTimestamps','entries','BufferJSON','editedMessage','Variável\x20não\x20encontrada!','setHeader','uazapiSendMedia','messages','replaceVariablesInObject','connectionClosed','lastmsg','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','write','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','floor','mongodb','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','deleteMany','toString','/instance/connect','$pull','convert','ephemeralMessage','fullName','compression','Initial\x20__dirname:','class-validator','statusMessage','release','lastBlockId','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','some','uazapiDeleteMessage','deleteDoneMessages','Error\x20writing\x20file:\x20','fetchProfilePicture','\x1b[43m','!stop','writeData','readMessageBot','max','getMessage','presence','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','finish','SSL_CONF_FULLCHAIN','STORE_CONTACTS','isURL','method','.png','DARK','Instância:\x20','copyBlock','joinGroupValidate','available','configService','Fetching\x20business\x20profile','DisconnectReason','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','Getting\x20image\x20from\x20url','):\x20Editando\x20edição\x20do\x20fluxo...','longitude','pollUpdateMessage','^\x5cd+[\x5c.@\x5cw-]+','media','body','createWebhook','insert','open','CLEANING_INTERVAL','\x20adicionado\x20ao\x20chat\x20','request\x20received\x20in\x20editFlow','deleteFlow','start','incrementIsValidAttempts','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','CORS_ORIGIN','prefixCommand','put','licenca','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','EMAIL','revokeInviteCode','startFlow','STORE','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20Conversas\x20encontradas:','NO_IP','chatHandle','envProcess','dbServer','):\x20Iniciando\x20bot...','express','toBrazilianNumberFormat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','document','restrict','findFlow','editFlowBlock','certonly','URL\x20limpa:\x20','):\x20Bloco\x20copiado:\x20','and','flowIgnoreGroups','):\x20Query\x20params:\x20','974412FWbIIA','editflowreply','latitude','Erro\x20ao\x20editar\x20a\x20conversa:\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','applyvaredit','createNewConversation','sha256','sendList','):\x20Error\x20processing\x20the\x20block:\x20','URL','messagesSend','saveMediaToFile','description','interval\x20não\x20é\x20um\x20número','ids','verbose','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','varedits','g-t','remoteJidsRemaining','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','dbSettings','audio','mentioned','Button\x20texts\x20cannot\x20be\x20repeated','object','Erro\x20ao\x20atualizar\x20o\x20flow.','router','Início','ERROR','request\x20received\x20in\x20editFlowvariable','processgoToFlow','color','BRL','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','fromMe','/events/:instance','Erro\x20ao\x20copiar\x20dados:','isConnected','^\x5cd+([-]\x5cd+)*@g.us$','):\x20não\x20encontrou','apiResponse','createConnection','Audio\x20is\x20url','convertedOptions','qrcode.updated','):\x20Edit\x20schedule\x20message...','initAuthCreds','groups_ignore','padEnd','updateProfileName','Bloco\x20com\x20ID\x20','string','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','password','.TEL;waid=','proxy-agent','add','):\x20Enviando\x20texto','sendDataWebhook','PRESENCE_UPDATE','address','Connection\x20closed\x20for\x20instance:\x20','/*.json','deleteChat','chats.delete','ListType','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','processblock','split','MESSAGES_UPSERT','type','findById','sendStatus','Profile\x20not\x20found','documentWithCaptionMessage','archived','getClient','RECONNECT_TIME_FRAME','DATABASE_CONNECTION_URI','Image\x20is\x20url','sem\x20texto\x20na\x20mensagem','labels','findWebhook','nextBlock:','editflowgroup','json','\x22reaction\x22\x20must\x20be\x20an\x20emoji','replaceVariablesInReplyOptions','http://checkip.dyndns.org','getPrototypeOf','noConnection','request\x20received\x20in\x20deleteDoneMessages','prepareMediaMessage','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Conversa\x20está\x20expirada\x20-\x20voto','createClient','username','\x20is\x20already\x20in\x20use.','updateAll','request\x20received\x20in\x20updateCustomFields','generate','closed','Chrome','nome','Error\x20fetching\x20and\x20updating\x20profile:\x20','headerString','findIndex','writeFileSync','proxy','\x1b[0m','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','rows','parseInt','Temp\x20image\x20deleted','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','Conexão\x20estabelecida','pollCreationMessageV3','metadata','contactname','Error\x20update\x20group\x20picture','getMIMEType','No\x20join\x20group\x20invite\x20code\x20or\x20url','DATABASE_CONNECTION_PASSWORD','END:VCARD','50mb','\x1b[1m','del','getAutomateSystem','variablesNotFound','DOCKER_ENV','_Contacts','Instância\x20não\x20encontrada.','REDIS_URI','request\x20received\x20in\x20updateAgent','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','groupInviteCode','Getting\x20audio\x20from\x20url','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','getConversation','bulkWrite',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Error\x20in\x20markMessageAsRead:','ReplyOptions\x20finais\x20após\x20reordenação:','variable','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','text/event-stream','notify','Database\x20is\x20not\x20enabled','restart','slice','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','Bad\x20Request','cache','MESSAGES_SET','notEmpty','):\x20Bloco\x20original\x20para\x20cópia:\x20','toArray','mediaKey','output','Audio\x20converted\x20to\x20mp4','FlowModel','readMessage','desativadoFluxoAte','https://chat.whatsapp.com/','\x20não\x20encontrado','):\x20Alterando\x20fluxo...','statusCode','):\x20delete\x20=\x20true','eventEmitter','connectedClient','LOG','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','PREFIX_KEY','subject','Read\x20messages','ORG:','174uUMqXM','SECRET','SEND_MESSAGE','\x1b[42m','Instance\x20logged\x20out','This\x20name\x20','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','Reinicialização\x20iniciada:\x20','flowName','birthtime','redis://127.0.0.1:6379','moreLogs','Erro:','_p_','getMinutes','length','OrAnd','error_log','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','VERBOSE','use','\x1b[31m','convertToWebP','Error\x20in\x20scheduleNextCheck:\x20','get','Subscribed\x20Events:','REDIS','creds.json','endSession','groupName','title','store','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','Getting\x20profile\x20with\x20jid:\x20','delaySecMax','status@broadcast','CONNECTION_UPDATE','\x1b[31m%s\x1b[0m','Número:\x20','Type\x20defined\x20as\x20audio','.webp','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','padStart','\x1b[36m%s\x1b[0m','inviteCode','\x1b[34m%s\x1b[0m','arrayUnique','Selecione','log','dbInstance','copyDataToNewModel','allContacts','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','reviver','host','/instance/create','CONFIGURAÇÃO\x20GERAL:','Mensagem\x20não\x20suportada','emit','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','scheduleMessage','model','app','uazapi','proto','Image\x20created','splice','Image\x20path:\x20',',\x20fará\x20nova\x20verificação\x20em\x20','isJidGroup','updateStopChat','menuIgnoreNonVotes','\x20minutos...','ignoreGroups','101945SpJfHm','Sending\x20audio\x20whatsapp','activatedCount','AUTHENTICATION','WA\x20MODULE','updateCustomFields','sleep','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','Sistema\x20atualizado\x20com\x20sucesso!','createProxyConfig','updateMediaMessage','views','mentions','senderKeyDistributionMessage','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','unavailable','number','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','processvaredits','DATABASE_CONNECTION_HOST','setRestartTimer','Atualização:\x20','NextBlock','drop','mongoose','):\x20Enviando\x20mídia','findLabels','):\x20newFirstValue\x20após\x20replaceVariables:','Close\x20connection','waitingMenu_id','getProfileName','webp','data:\x20','):\x20Buscando\x20todos\x20os\x20fluxos...','chat','all','readData','fetchProfilePictureUrl','jpegThumbnail','Erro\x20ao\x20buscar\x20conversa:\x20','Não\x20respondeu\x20com\x20a\x20enquete.','QRCODE_UPDATED','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','flowname:\x20','waitingMenu_ExpiredMessage','Error\x20updating\x20profile\x20picture','Message','\x20minutos','inner','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','src','/wa-chats','editflowvaredit','SERVER_URL','newStoppedUntil','announce','blockLogs','8080','16MglJTC','Instance\x20restarted','enabled','video-cover.png','mimetype','stack','oldToken','agents','optionDescription','findOne','updateGroupsAddPrivacy','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','toLocaleString','saveTextReply','unreadCount','data','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','createServer','certbot','FlowRouter','reaction','contact_blacklist','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','response','DaysToDelete','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','):\x20newSecondValue\x20após\x20replaceVariables:','instanceName','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','audioMessage','\x20com\x20sucesso.','findAndReplaceRegex','messages.update','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','conversationTimestamp','Error\x20change\x20group\x20name','when','Primeiro\x20Valor:\x20','authentication','videoMessage','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','reconnectAttempts','hDel','groups.upsert','reorderReplyOptions','):\x20tem\x20blocks','\x1b[34m','TEXT','loggedOut','CREDENTIALS','saveChatVariables','paused','footerText','groups.update','?timestamp=','SERVER_PORT','messaging-history.set','):\x20Flow\x20desativado','READ','getRandomText','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','<subdomain>','has','valid','webhookService','toggleEphemeral','validate','stopConversation','qrcode','mediaSticker','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','bearer','CONNECTION','headers','g.us','Hash\x20to\x20image\x20name:\x20','env','connectedName','exports','Type\x20not\x20found','connect','default','):\x20conversation.status:\x20','groupValidate','blocks','):\x20Comando\x20desconhecido:\x20','Read\x20messages\x20fail','SSL_CONF','labels.association','includes','STORE_CLEANING_TERMINAL','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','hex','findGroup','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','option','):\x20Erro\x20ao\x20editar\x20agentes:\x20','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','pino','isArray','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','pop','connectToWhatsappController','Enter\x20a\x20value\x20in\x20milliseconds','isJidUser','Operador:\x20\x22','msgRetryCounterCache','../env.yml','endsWith','Error\x20updating\x20privacy\x20settings','saveCreds','toLowerCase','logout','uazapiSendText','findAll','phoneNumber','chats.upsert','groupId','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','sendMedia','Background\x20color\x20is\x20required','allFlows','folder','buttonText','utf8','readFileSync','Desconectado,\x20parando\x20execução.','unhandledRejection','uazapiSendContact','listen','formatStatusMessage','@g.us','function','client','Group\x20not\x20found','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Converting\x20image\x20to\x20WebP\x20to\x20sticker','boolean','editFlowVaredit','list','stderr','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','https','loadWebhook','promote','pollCreationMessageKey','getConversationModelForOwner','copy','stateConnection','picture','\x1b[33m\x1b[1m','instance','findMessages','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','values','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','InstancesAlterarTodas','hbs','updateMessage','getMessageModelForOwner','):\x20Criando\x20fluxo...','flattenObject','chatLog','Authentication\x20error','menuMessage','goToFlow','addReplyOption','@ffmpeg-installer/ffmpeg','varedit','ListMessage','reorderBlocks','pt-BR','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','uuid','updateChatWithMessage','command','HeaderType','getStatus','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','cpf','http','#ffffff','):\x20transformedCustomFieldVariables','exists','groupCreate','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','fetchPrivacySettings','tags','CONTACTS_SET','isInteger','storePath','importChats','rowId','message','readreceipts','scheduled','connectionState','textMessage','waitingMenu_replyOptions','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','FULLCHAIN','Output\x20path:\x20','deleteBlock','getDelay','editOperator','spawn','SINGLE_SELECT','Configuração\x20de\x20proxy\x20inválida\x20gerada.','audioWhatsapp','checkAndUpdateChatStatus','shift','):\x20conversation.lastInteraction:\x20','/:instanceName','conditions','poll','defineAuthState','/media/','getAllData','axios','Temp\x20audio\x20created','LOG_LEVEL','sort','fetchProfile2','empty','envYaml','delay','deleteInstance','):\x20Deletando\x20conversa...','existsSync','getflow','1910529YbcUmV','quotedMessage','_Chats','format','imagechat','Instance\x20\x22','Flow\x20iniciado\x20com\x20','setContext','conversation','tryProxy','cleaningUp','profilePicture','label','\x20mensagens\x20de\x20','action','composing','updateProfilePicturePrivacy','updateFlowConfig','findOrCreate','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','pollMessageOnDelete','_activatedCount','.mp3','instances','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','env.KEY\x20!==\x20key','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','getLabelModelForOwner','\x22\x20-\x20NOT\x20CONNECTION','sendLocation','participant','pushName','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','menuType','waitingMenu_text','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','keys','condition','useMultiFileAuthState','/media','Erro\x20ao\x20iniciar\x20fluxo:\x20','auth','):\x20updateResult:','REDIS_PREFIX_KEY','MESSAGES_UPDATE','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','messages.upsert','authService','getBase64FromMediaMessage','stoppedUntil','automateSystem','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','delete','verifiedName','getChatModelForOwner','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','hostname','getOwnPropertyNames','text','listMessage','Converted\x20image\x20deleted','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','editflow','apirequest','StatusJidList\x20is\x20required','routerPath','30uGaBri','detail','content','Erro\x20ao\x20normalizar\x20a\x20mensagem:','ENABLED','):\x20Erro\x20ao\x20criar\x20fluxo\x20','contactHandle','not\x20loaded','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Temp\x20audio\x20path:\x20','Variáveis\x20não\x20encontradas:','isJWT','findParticipants','fetchContacts','errorLog','augusto.fcs@gmail.com','request\x20received\x20in\x20editFlowcondition','Types','true','.chatId','CONTACTS_UPDATE','created','contactsArrayMessage','contacts.upsert','ERROR:\x20','\x20não\x20encontrado\x20para\x20cópia','replyOptions','Safari\x20(Mac\x20OS)','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','\x1b[47m','group','\x20minutos\x20verificará\x20novas\x20mensagens','authState','deleteMessage','request\x20body:\x20','connection.update','groupMetadata','privacySettings','prototype','process','://','REDIS_ENABLED','Rótulo\x20atualizado:','groupHandler','success','Valor\x20inicial:\x20\x22','getTime','pollMessage','scheduleSendAudio','reactionMessage','):\x20Limpando\x20delayMessage','--agree-tos','STORE_CHATS','\x22\x20not\x20found','DEBUG',',\x20Expiration\x20Time:\x20','pollErrorMessage','ButtonsMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','generateHash','\x1b[30m%s\x1b[0m','findByIdAndUpdate','WARN','\x1b[32m','request\x20received\x20in\x20allFlows','normalizeMessage','email','removeData','SERVER_ACK','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','groups','evaluateCondition','Erro\x20ao\x20remover\x20label\x20','exit','messageSecret'];a0_0x21ee=function(){return _0x1ea83a;};return a0_0x21ee();}var gr={},ye=class c{constructor(_0x2e7343,_0x163c1a,_0x59aa56){const _0x5558ee=a0_0x2e4b91;this[_0x5558ee(0x435)]=_0x2e7343,this['eventEmitter']=_0x163c1a,this[_0x5558ee(0x3f0)]=_0x59aa56,this[_0x5558ee(0x3c4)]=null,this[_0x5558ee(0x76f)]=new v(c[_0x5558ee(0x307)]),this['instance']={},this['localWebhook']={},this[_0x5558ee(0x635)]={'state':_0x5558ee(0x799)},this[_0x5558ee(0x65f)]=(0x0,P['join'])(ae,_0x5558ee(0x1e4)),this[_0x5558ee(0x60b)]=new Es[(_0x5558ee(0x5f2))](),this['userDevicesCache']=new Es[(_0x5558ee(0x5f2))](),this['endSession']=!0x1,this[_0x5558ee(0x29c)]={'status.instance':_0x5558ee(0x361),'qrcode.updated':_0x5558ee(0x2ea),'messages.upsert':_0x5558ee(0x2e8),'messages.update':'/wa-message-update','send.message':_0x5558ee(0x2e8),'group.upsert':'/wa-groups','group.update':_0x5558ee(0x362),'group-participants.update':_0x5558ee(0x362),'connection.update':_0x5558ee(0x361),'messages.set':'/wa-message','contacts.set':_0x5558ee(0x393),'contacts.upsert':_0x5558ee(0x393),'contacts.update':'/wa-contacts','presence.update':_0x5558ee(0x257),'chats.set':_0x5558ee(0x59a),'chats.update':_0x5558ee(0x59a),'chats.upsert':'/wa-chats','chats.delete':_0x5558ee(0x59a)},this[_0x5558ee(0x5ca)]=0x0,this['reconnectTimestamps']=[],this[_0x5558ee(0x254)]=0xf,this['RECONNECT_TIME_FRAME']=0x7530,this['isRunning']=!0x1,this['chatHandle']={'chats.upsert':async(_0xefa1b6,_0x55c662)=>{const _0x59ffb3=_0x5558ee;let _0x11d340=[];for await(let _0x2c6faa of _0xefa1b6)_0x11d340[_0x59ffb3(0x20c)]({'_id':_0x2c6faa['id'],'owner':this['instance'][_0x59ffb3(0x385)],'group':_0x2c6faa['id']['endsWith']('@g.us'),'name':_0x2c6faa[_0x59ffb3(0x307)]||_0x2c6faa['displayName']||null,'contactname':null,'lastmsg':_0x2c6faa[_0x59ffb3(0x5c3)]&&_0x2c6faa['conversationTimestamp'][_0x59ffb3(0x40f)]()['length']<0xd?_0x2c6faa[_0x59ffb3(0x5c3)]*0x3e8:_0x2c6faa[_0x59ffb3(0x5c3)]||null,'archived':_0x2c6faa[_0x59ffb3(0x4b4)]||!0x1,'unreadcount':_0x2c6faa[_0x59ffb3(0x5af)]||0x0});this[_0x59ffb3(0x4a3)](_0x59ffb3(0x615),_0x11d340);},'chats.update':async(_0x493a8b,_0x534fb4)=>{const _0x51547e=_0x5558ee;for(let _0x4215b7 of _0x493a8b){let _0x48bf40={'_id':_0x4215b7['id'],'owner':this['instance']['wuid'],'group':_0x4215b7['id'][_0x51547e(0x60d)]('@g.us'),'name':_0x4215b7['name']||_0x4215b7[_0x51547e(0x281)],'archived':_0x4215b7[_0x51547e(0x4b4)],'ephemeralExpiration':_0x4215b7[_0x51547e(0x775)]},_0x59d87a=!0x1,_0x589b09={};_0x48bf40[_0x51547e(0x4b4)]!=null&&(this[_0x51547e(0x76f)][_0x51547e(0x477)](this[_0x51547e(0x5bc)]+'\x20('+this['instance'][_0x51547e(0x385)]+_0x51547e(0x38b)+_0x4215b7[_0x51547e(0x4b4)]),_0x59d87a=!0x0,_0x589b09[_0x51547e(0x4b4)]=_0x4215b7['archived']),_0x4215b7['name']!=null&&(this[_0x51547e(0x76f)][_0x51547e(0x477)](this[_0x51547e(0x5bc)]+'\x20('+this[_0x51547e(0x638)][_0x51547e(0x385)]+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x4215b7[_0x51547e(0x307)]),_0x59d87a=!0x0,_0x589b09[_0x51547e(0x307)]=_0x4215b7['name']),_0x4215b7['displayName']!=null&&(this['logger'][_0x51547e(0x477)](this[_0x51547e(0x5bc)]+'\x20('+this[_0x51547e(0x638)][_0x51547e(0x385)]+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x4215b7[_0x51547e(0x281)]),_0x59d87a=!0x0,_0x589b09[_0x51547e(0x307)]=_0x4215b7[_0x51547e(0x281)]),_0x4215b7[_0x51547e(0x775)]!=null&&(this[_0x51547e(0x76f)][_0x51547e(0x477)](this[_0x51547e(0x5bc)]+'\x20('+this[_0x51547e(0x638)]['wuid']+_0x51547e(0x763)+_0x4215b7[_0x51547e(0x775)]),_0x59d87a=!0x0,_0x589b09[_0x51547e(0x775)]=_0x4215b7['ephemeralExpiration']);let _0xb6d797;_0x59d87a&&(_0xb6d797=await this[_0x51547e(0x3f0)][_0x51547e(0x589)]['updateOne']({'where':{'_id':_0x4215b7['id']}},_0x589b09,this['instance']['wuid'])),_0xb6d797&&q(this['instanceName'],_0x51547e(0x77d),{'chat':_0xb6d797});}},'chats.delete':async _0x5283e2=>{const _0x34e586=_0x5558ee;this['sendDataWebhook'](_0x34e586(0x4a9),[..._0x5283e2]);}},this['contactHandle']={'contacts.upsert':async(_0x13f269,_0x1e41f4)=>{const _0x2aec3f=_0x5558ee;let _0xb66b2d=await this['repository']['contact'][_0x2aec3f(0x18c)]({'where':{}},this[_0x2aec3f(0x638)][_0x2aec3f(0x385)]),_0x2a5d75=[];for await(let _0x553346 of _0x13f269)_0xb66b2d[_0x2aec3f(0x18c)](_0x1df359=>_0x1df359[_0x2aec3f(0x264)]===_0x553346['id'])||_0x2a5d75[_0x2aec3f(0x20c)]({'_id':_0x553346['id'],'pushName':_0x553346?.[_0x2aec3f(0x307)]||_0x553346?.[_0x2aec3f(0x6bc)],'owner':this[_0x2aec3f(0x638)][_0x2aec3f(0x385)]});this[_0x2aec3f(0x4a3)](_0x2aec3f(0x6e0),_0x2a5d75),await this[_0x2aec3f(0x3f0)]['contact']['insert'](_0x2a5d75);},'contacts.update':async(_0x118578,_0x51b9e4)=>{const _0x56b01a=_0x5558ee;let _0x39b79d=[];for await(let _0x1fb16e of _0x118578)_0x39b79d[_0x56b01a(0x20c)]({'_id':_0x1fb16e['id'],'pushName':_0x1fb16e?.[_0x56b01a(0x307)]??_0x1fb16e?.[_0x56b01a(0x6bc)],'owner':this['instance'][_0x56b01a(0x385)]});this[_0x56b01a(0x4a3)](_0x56b01a(0x3b1),_0x39b79d);}},this[_0x5558ee(0x2e2)]={'messaging-history.set':async({messages:_0xedc52,chats:_0x499cee,isLatest:_0x8e1012},_0x57b116)=>{const _0x3a49d6=_0x5558ee;if(_0x8e1012){let _0x1d3a93=await Promise['all'](_0x499cee[_0x3a49d6(0x3fa)](async _0x47f077=>({'_id':_0x47f077['id'],'owner':this[_0x3a49d6(0x638)][_0x3a49d6(0x385)],'group':_0x47f077['id']['endsWith']('@g.us'),'name':_0x47f077[_0x3a49d6(0x307)]||_0x47f077[_0x3a49d6(0x281)]||null,'contactname':null,'lastmsg':_0x47f077[_0x3a49d6(0x5c3)]&&_0x47f077[_0x3a49d6(0x5c3)][_0x3a49d6(0x40f)]()['length']<0xd?_0x47f077[_0x3a49d6(0x5c3)]*0x3e8:_0x47f077[_0x3a49d6(0x5c3)]||null,'archived':_0x47f077['archived']||!0x1,'unreadcount':_0x47f077[_0x3a49d6(0x5af)]||0x0})));this['sendDataWebhook'](_0x3a49d6(0x24c),_0x1d3a93),await this[_0x3a49d6(0x266)](_0x1d3a93,_0x57b116);}let _0x59a037=[],_0xebe89f=Date[_0x3a49d6(0x2cd)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x314140]of Object[_0x3a49d6(0x3fe)](_0xedc52)){if(_0x314140[_0x3a49d6(0x662)]?.[_0x3a49d6(0x1f4)]||_0x314140[_0x3a49d6(0x662)]?.[_0x3a49d6(0x574)]||!_0x314140[_0x3a49d6(0x662)]||_0x314140[_0x3a49d6(0x16e)][_0x3a49d6(0x78d)]===_0x3a49d6(0x540)||(Ss['default'][_0x3a49d6(0x1a7)](_0x314140?.[_0x3a49d6(0x36e)])&&(_0x314140[_0x3a49d6(0x36e)]=_0x314140[_0x3a49d6(0x36e)]?.[_0x3a49d6(0x265)]()),_0x314140[_0x3a49d6(0x36e)]&&_0x314140[_0x3a49d6(0x36e)][_0x3a49d6(0x40f)]()[_0x3a49d6(0x52c)]<0xd&&(_0x314140[_0x3a49d6(0x36e)]=_0x314140[_0x3a49d6(0x36e)]*0x3e8),_0x314140[_0x3a49d6(0x36e)]<_0xebe89f))continue;let {message_normalized:_0x32d4ea}=this[_0x3a49d6(0x70a)](_0x314140['message'],_(_0x314140['message']),null);Object[_0x3a49d6(0x6ab)](_0x32d4ea)[_0x3a49d6(0x52c)]>0x0&&_0x59a037['push']({'_id':_0x314140[_0x3a49d6(0x16e)]['id'],'key':_0x314140['key'],'pushName':_0x314140[_0x3a49d6(0x6a6)],'participant':_0x314140[_0x3a49d6(0x6a5)],'message':{..._0x314140['message']},'messageType':_(_0x314140[_0x3a49d6(0x662)]),'message_normalized':{'key':_0x314140[_0x3a49d6(0x16e)],'pushName':_0x314140[_0x3a49d6(0x6a6)],'messageTimestamp':_0x314140[_0x3a49d6(0x36e)],..._0x32d4ea},'messageTimestamp':_0x314140[_0x3a49d6(0x36e)],'owner':this['instance'][_0x3a49d6(0x385)]});}_0x57b116['ENABLED']&&_0x59a037[_0x3a49d6(0x52c)]>0x0&&(this[_0x3a49d6(0x76f)]['verbose'](this[_0x3a49d6(0x5bc)]+'\x20('+this[_0x3a49d6(0x638)]['wuid']+'):\x20'+_0x59a037[_0x3a49d6(0x52c)]+_0x3a49d6(0x694)+this[_0x3a49d6(0x638)][_0x3a49d6(0x385)]+_0x3a49d6(0x290)),await this['repository'][_0x3a49d6(0x662)]['insert']([..._0x59a037],this['instance'][_0x3a49d6(0x385)])),this[_0x3a49d6(0x4a3)](_0x3a49d6(0x1e0),[..._0x59a037]),_0xedc52=void 0x0;},'messages.upsert':async({messages:_0x11ee8a,type:_0x492d05},_0x5c07cc)=>{const _0x54f702=_0x5558ee;let _0x23f009=_0x11ee8a[0x0];if(_0x492d05!=='notify'||!_0x23f009?.[_0x54f702(0x662)]||_0x23f009[_0x54f702(0x662)]?.[_0x54f702(0x1f4)]||_0x23f009[_0x54f702(0x662)][_0x54f702(0x574)]||_0x23f009[_0x54f702(0x16e)]['remoteJid']==='status@broadcast')return;let _0x391590=null,_0x463edd=null;try{_0x391590=await this[_0x54f702(0x757)](_0x23f009),_0x463edd=_0x391590?_0x391590[_0x54f702(0x727)](','):null;}catch(_0xf21531){this[_0x54f702(0x76f)][_0x54f702(0x477)](this[_0x54f702(0x5bc)]+'\x20('+this[_0x54f702(0x638)]['wuid']+_0x54f702(0x15f)+(_0xf21531 instanceof Error?_0xf21531[_0x54f702(0x662)]:JSON[_0x54f702(0x1ba)](_0xf21531,null,0x2))),_0x463edd='error\x20get\x20vote';}if(this['client'][_0x54f702(0x38c)](_0x54f702(0x576)),Ss[_0x54f702(0x5f2)][_0x54f702(0x1a7)](_0x23f009[_0x54f702(0x36e)])&&(_0x23f009[_0x54f702(0x36e)]=_0x23f009[_0x54f702(0x36e)]?.[_0x54f702(0x265)]()),this[_0x54f702(0x1ed)]?.['groups_ignore']&&_0x23f009[_0x54f702(0x16e)]['remoteJid'][_0x54f702(0x5fa)](_0x54f702(0x624))){this[_0x54f702(0x76f)][_0x54f702(0x477)](_0x54f702(0x388));return;}_0x23f009[_0x54f702(0x36e)]&&_0x23f009[_0x54f702(0x36e)][_0x54f702(0x40f)]()[_0x54f702(0x52c)]<0xd&&(_0x23f009[_0x54f702(0x36e)]=_0x23f009['messageTimestamp']*0x3e8);let _0x4e7698=_0x23f009[_0x54f702(0x662)],{messageContent:_0x11dfd6,message_normalized:_0x15be63}=this[_0x54f702(0x70a)](_0x4e7698,_(_0x23f009[_0x54f702(0x662)]),_0x463edd);_0x11dfd6||console[_0x54f702(0x27b)](_0x54f702(0x556));let _0xfd358d={'_id':_0x23f009[_0x54f702(0x16e)]['id'],'key':_0x23f009[_0x54f702(0x16e)],'pushName':_0x23f009[_0x54f702(0x6a6)],'message':{..._0x23f009['message']},'messageType':_(_0x23f009['message']),'message_normalized':{'key':_0x23f009[_0x54f702(0x16e)],'pushName':_0x23f009[_0x54f702(0x6a6)],'messageTimestamp':_0x23f009[_0x54f702(0x36e)],'source':(0x0,y[_0x54f702(0x377)])(_0x23f009['key']['id']),..._0x15be63},'messageTimestamp':_0x23f009[_0x54f702(0x36e)],'owner':this['instance']['wuid'],'source':(0x0,y[_0x54f702(0x377)])(_0x23f009[_0x54f702(0x16e)]['id'])};this[_0x54f702(0x76f)][_0x54f702(0x54d)](_0xfd358d),await this[_0x54f702(0x3f0)][_0x54f702(0x662)][_0x54f702(0x441)]([_0xfd358d],this[_0x54f702(0x638)][_0x54f702(0x385)]),this[_0x54f702(0x4a3)](_0x54f702(0x6b5),_0xfd358d),q(this['instanceName'],_0x54f702(0x404),{'message':_0xfd358d}),_0x23f009[_0x54f702(0x16e)]['remoteJid']!=='status@broadcast'&&await this[_0x54f702(0x64f)](_0x5c07cc,_0xfd358d,_0x54f702(0x4ae));},'messages.update':async(_0x4ed6f3,_0xff1c78)=>{const _0x2f480d=_0x5558ee;let _0x14b27f={0x0:_0x2f480d(0x485),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0x2f480d(0x198),0x4:_0x2f480d(0x5db),0x5:_0x2f480d(0x302)};for await(let {key:_0x18d695,update:_0x4d0312}of _0x4ed6f3){if(this[_0x2f480d(0x1ed)]?.[_0x2f480d(0x498)]&&_0x18d695['remoteJid'][_0x2f480d(0x5fa)](_0x2f480d(0x624))){this[_0x2f480d(0x76f)][_0x2f480d(0x477)]('group\x20ignored');return;}if(_0x18d695['remoteJid']!=='status@broadcast'){let _0x4f0def=Date[_0x2f480d(0x2cd)](),_0x1b820b;_0x4d0312[_0x2f480d(0x662)]===null&&_0x4d0312[_0x2f480d(0x221)]===void 0x0?_0x1b820b=_0x2f480d(0x37f):_0x1b820b=_0x14b27f[_0x4d0312['status']];let _0x2cc61a=_0x18d695[_0x2f480d(0x78d)][_0x2f480d(0x3ca)](/:\d{1,2}@/g,'@'),_0x17e107={..._0x18d695,'remoteJid':_0x2cc61a,'status':_0x1b820b,'datetime':_0x4f0def,'owner':this[_0x2f480d(0x638)][_0x2f480d(0x385)]};this[_0x2f480d(0x4a3)](_0x2f480d(0x5c1),_0x17e107),await this[_0x2f480d(0x63f)](_0x18d695,_0x17e107);}}},'labels.association':async({type:_0x478857,association:_0x29acbd})=>{const _0x58d5eb=_0x5558ee;if(_0x29acbd[_0x58d5eb(0x4af)]==='label_jid')switch(_0x478857){case'add':console[_0x58d5eb(0x54d)]('----------------------ADD----------------------------'),console[_0x58d5eb(0x54d)](_0x29acbd),await this[_0x58d5eb(0x3f0)][_0x58d5eb(0x589)]['updateOne']({'where':{'_id':_0x29acbd[_0x58d5eb(0x34d)]}},{'labels':_0x29acbd['labelId']},this[_0x58d5eb(0x638)]['wuid'],void 0x0,_0x58d5eb(0x24d));break;case _0x58d5eb(0x30b):console[_0x58d5eb(0x54d)](_0x58d5eb(0x39e)),console[_0x58d5eb(0x54d)](_0x29acbd),await this[_0x58d5eb(0x3f0)]['chat'][_0x58d5eb(0x3fb)]({'where':{'_id':_0x29acbd[_0x58d5eb(0x34d)]}},{'labels':_0x29acbd['labelId']},this['instance'][_0x58d5eb(0x385)],void 0x0,_0x58d5eb(0x411));break;default:console['error'](_0x58d5eb(0x1bf)+_0x478857+']');}},'labels.edit':async _0x11ec54=>{const _0x15b96d=_0x5558ee;if(!_0x11ec54||!_0x11ec54['id']){console[_0x15b96d(0x27b)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}let _0xb0643c={'_id':_0x11ec54['id'],'color':_0x11ec54?.[_0x15b96d(0x488)],'name':_0x11ec54?.[_0x15b96d(0x307)],'owner':this[_0x15b96d(0x638)]['wuid']};await this[_0x15b96d(0x3f0)][_0x15b96d(0x693)][_0x15b96d(0x3fb)]({'where':{'_id':_0x11ec54['id']}},_0xb0643c,this[_0x15b96d(0x638)][_0x15b96d(0x385)]),console[_0x15b96d(0x54d)](_0x15b96d(0x6f3),_0x11ec54),_0x11ec54[_0x15b96d(0x33a)]&&(await this[_0x15b96d(0x3f0)][_0x15b96d(0x693)][_0x15b96d(0x6bb)]({'where':{'_id':_0x11ec54['id']}},this[_0x15b96d(0x638)][_0x15b96d(0x385)]),console['log']('Rótulo\x20deletado:',_0x11ec54['id']));}},this[_0x5558ee(0x6f4)]={'groups.upsert':_0x567311=>{const _0x4e73ce=_0x5558ee;this[_0x4e73ce(0x4a3)](_0x4e73ce(0x5cc),_0x567311);},'groups.update':_0x3bd95a=>{const _0x2d5591=_0x5558ee;this[_0x2d5591(0x4a3)](_0x2d5591(0x5d6),_0x3bd95a);},'group-participants.update':_0x921be6=>{this['sendDataWebhook']('group-participants.update',_0x921be6);}},this[_0x5558ee(0x757)]=async _0x572d46=>{const _0x531b3c=_0x5558ee;if(_0x572d46[_0x531b3c(0x662)]?.[_0x531b3c(0x43c)]){let _0xb70418=await this[_0x531b3c(0x426)](_0x572d46[_0x531b3c(0x662)][_0x531b3c(0x43c)][_0x531b3c(0x632)],!0x0);if(_0xb70418){let _0x2f4130=_0xb70418[_0x531b3c(0x16e)][_0x531b3c(0x48b)]?this['instance'][_0x531b3c(0x385)]+'@s.whatsapp.net':_0xb70418[_0x531b3c(0x16e)][_0x531b3c(0x6a5)]||_0xb70418[_0x531b3c(0x16e)][_0x531b3c(0x78d)],_0x2a7ad0=_0xb70418[_0x531b3c(0x16e)]['id'],_0x5630be=_0xb70418[_0x531b3c(0x662)],_0x3cf7c1=Buffer[_0x531b3c(0x2d6)](_0x5630be[_0x531b3c(0x17a)][_0x531b3c(0x713)][_0x531b3c(0x40f)](_0x531b3c(0x5fd)),_0x531b3c(0x5fd)),_0x4b05d8=(0x0,y[_0x531b3c(0x360)])(_0x572d46[_0x531b3c(0x662)][_0x531b3c(0x43c)][_0x531b3c(0x1f5)],{'pollCreatorJid':_0x2f4130,'pollMsgId':_0x2a7ad0,'pollEncKey':_0x3cf7c1,'voterJid':_0x572d46[_0x531b3c(0x16e)][_0x531b3c(0x48b)]?this[_0x531b3c(0x638)]['wuid']+'@s.whatsapp.net':_0x572d46[_0x531b3c(0x16e)]['remoteJid'][_0x531b3c(0x60d)](_0x531b3c(0x5eb))?_0x572d46[_0x531b3c(0x16e)][_0x531b3c(0x6a5)]:_0x572d46[_0x531b3c(0x16e)]['remoteJid']}),_0x494221=[],_0x578a15=_0x4b05d8[_0x531b3c(0x36a)][_0x531b3c(0x3fa)](_0x198654=>Buffer['from'](_0x198654)['toString'](_0x531b3c(0x5fd)));for(let {optionName:_0x1963ed}of _0x5630be[_0x531b3c(0x2f2)]?.[_0x531b3c(0x23c)]||_0x5630be['pollCreationMessageV3']?.[_0x531b3c(0x23c)]||_0x5630be[_0x531b3c(0x2b2)]?.[_0x531b3c(0x23c)])_0x578a15[_0x531b3c(0x2b7)]((0x0,y[_0x531b3c(0x46e)])(Buffer['from'](_0x1963ed))['toString'](_0x531b3c(0x5fd)))>-0x1&&_0x494221[_0x531b3c(0x20c)](_0x1963ed);return _0x494221;}}return null;},this[_0x5558ee(0x70a)]=(_0x35d86b,_0x5b672c,_0x56a0f0)=>{const _0x3b4757=_0x5558ee;try{let _0x26cac4=_0x5b672c?_0x35d86b[_0x5b672c]:void 0x0,_0x494ee4={},_0x4200c2=null,_0x23acf5=null,_0x58a509=null;if(_0x35d86b[_0x3b4757(0x1e7)]?(_0x5b672c=_(_0x35d86b['viewOnceMessageV2'][_0x3b4757(0x662)]),_0x26cac4=_0x35d86b['viewOnceMessageV2'][_0x3b4757(0x662)][_0x5b672c]):_0x35d86b['viewOnceMessageV2Extension']?(_0x5b672c=_(_0x35d86b[_0x3b4757(0x718)][_0x3b4757(0x662)]),_0x26cac4=_0x35d86b[_0x3b4757(0x718)]['message'][_0x5b672c]):_0x35d86b[_0x3b4757(0x79c)]?(_0x5b672c=_(_0x35d86b['viewOnceMessage'][_0x3b4757(0x662)]),_0x26cac4=_0x35d86b['viewOnceMessage']['message'][_0x5b672c]):_0x35d86b[_0x3b4757(0x413)]?(_0x5b672c=_(_0x35d86b[_0x3b4757(0x662)][_0x3b4757(0x413)][_0x3b4757(0x662)]),_0x26cac4=_0x35d86b[_0x3b4757(0x662)]['ephemeralMessage'][_0x3b4757(0x662)][_0x5b672c]):_0x35d86b['editedMessage']?.[_0x3b4757(0x662)]?.[_0x3b4757(0x1f4)]?.[_0x3b4757(0x400)]?(_0x5b672c=_(_0x35d86b[_0x3b4757(0x400)]['message'][_0x3b4757(0x1f4)]['editedMessage']),_0x4200c2=_0x35d86b[_0x3b4757(0x400)][_0x3b4757(0x662)][_0x3b4757(0x1f4)][_0x3b4757(0x16e)]['id'],_0x26cac4=_0x35d86b[_0x3b4757(0x400)][_0x3b4757(0x662)][_0x3b4757(0x1f4)][_0x3b4757(0x400)][_0x5b672c]):_0x26cac4=_0x35d86b[_0x5b672c],!_0x5b672c||!_0x26cac4)return console[_0x3b4757(0x27b)](_0x3b4757(0x22e),_0x35d86b),{'messageType':_0x5b672c,'messageContent':_0x26cac4,'message_normalized':{}};_0x35d86b[_0x5b672c]?.['contextInfo']?.['stanzaId']&&_0x35d86b[_0x5b672c]?.['contextInfo']?.[_0x3b4757(0x688)]&&(_0x23acf5=_0x35d86b[_0x5b672c][_0x3b4757(0x3b3)]['stanzaId']),_0x35d86b['reactionMessage']&&(_0x58a509=_0x35d86b[_0x3b4757(0x6fa)][_0x3b4757(0x16e)]['id']);let _0x1a7a78;if(_0x26cac4&&typeof _0x26cac4=='object'&&'pollCreationMessageKey'in _0x26cac4&&({pollCreationMessageKey:_0x1a7a78}=_0x26cac4),_0x5b672c===_0x3b4757(0x4b3)){let _0x4e5b42=_0x26cac4?.[_0x3b4757(0x662)]?.[_0x3b4757(0x3c9)];_0x4e5b42&&(_0x26cac4=_0x4e5b42);}if(_0x5b672c===_0x3b4757(0x2f2)||_0x5b672c===_0x3b4757(0x2b2)||_0x5b672c===_0x3b4757(0x4de)){let _0x3e5e93=_0x26cac4[_0x3b4757(0x23c)][_0x3b4757(0x3fa)](_0x2f7bf9=>_0x2f7bf9[_0x3b4757(0x3b6)])[_0x3b4757(0x727)]('|');_0x494ee4[_0x3b4757(0x494)]=_0x3e5e93;}let _0x55ac1f=_0x26cac4[_0x3b4757(0x307)]||_0x26cac4[_0x3b4757(0x186)]||_0x26cac4[_0x3b4757(0x68f)]||_0x26cac4[_0x3b4757(0x281)];if(_0x5b672c===_0x3b4757(0x6c2)){_0x55ac1f=(_0x26cac4[_0x3b4757(0x53b)]||'')+'\x0a'+(_0x26cac4[_0x3b4757(0x474)]||'')+'\x0a'+(_0x26cac4['footerText']||'');let _0x2dab37=this[_0x3b4757(0x344)](_0x26cac4[_0x3b4757(0x1a3)]);_0x494ee4[_0x3b4757(0x494)]=_0x2dab37;}if(_0x5b672c===_0x3b4757(0x752)&&(_0x56a0f0=_0x26cac4[_0x3b4757(0x53b)]),_0x26cac4['vcard']){let _0x480695=this[_0x3b4757(0x3d9)](JSON['stringify'](_0x26cac4[_0x3b4757(0x3e5)],null,0x2));_0x55ac1f=_0x55ac1f+'\x0a'+_0x480695;}if(_0x26cac4){let {sections:_0x1f8c9d,listType:_0x2ba489,displayName:_0x2c3b7b,vcard:_0x7c6c1,contactVcard:_0x57444b,name:_0x409a05,caption:_0x2a4d8f,conversation:_0x2ed415,pollCreationMessageKey:_0x2c3866,footerText:_0x12bb54,contentText:_0x1b1030,pageCount:_0x1d1733,headerType:_0x3c3510,isAvatar:_0x1baff9,isAnimated:_0x396904,fallbackLc:_0x534d00,fallbackLg:_0x125fb3,namespace:_0x6b42d9,elementName:_0x2d479d,localizableParams:_0x5164f2,viewOnce:_0x3f0526,height:_0x3789ba,width:_0x4e977a,key:_0x2094b9,firstScanLength:_0x2d846b,firstScanSidecar:_0x4a1aa1,gifPlayback:_0x285f98,gifAttribution:_0x10e54c,midQualityFileSha256:_0x16d164,scansSidecar:_0x5cf8f5,streamingSidecar:_0x4d4f02,thumbnailHeight:_0x46cf7b,thumbnailWidth:_0x1cdd85,thumbnailEncSha256:_0x4aa5f4,thumbnailDirectPath:_0x22ff7e,canonicalUrl:_0x18b757,matchedText:_0x2d52b2,previewType:_0x3a2d8e,thumbnailSha256:_0x4bbbb1,deviceListMetadataVersion:_0x40143c,inviteLinkGroupTypeV2:_0x47d8ce,interactiveAnnotations:_0x5eb4ff,scanLengths:_0x66d151,jpegThumbnail:_0x12b1a9,url:_0x5c6135,mediaKeyTimestamp:_0x57134a,waveform:_0x432034,stickerSentTs:_0x3137dd,firstFrameLength:_0x2790e6,fileEncSha256:_0x1d4543,contextInfo:_0x3f1ff2,firstFrameSidecar:_0xdf3028,directPath:_0x36de46,fileSha256:_0x4f3b38,mediaKey:_0x2ef2b6,senderTimestampMs:_0x2b829b,..._0x942b66}=_0x26cac4;(_0x5b672c===_0x3b4757(0x6c2)||_0x5b672c===_0x3b4757(0x752))&&(delete _0x942b66[_0x3b4757(0x53b)],delete _0x942b66[_0x3b4757(0x474)]),typeof _0x26cac4=='string'?_0x494ee4={'text':_0x26cac4,'type':_0x5b672c||_0x3b4757(0x68f),..._0x4200c2&&{'edited':_0x4200c2},..._0x23acf5&&{'quoted':_0x23acf5},..._0x58a509&&{'reaction':_0x58a509}}:_0x494ee4={'text':_0x55ac1f,..._0x942b66,..._0x5b672c==='pollUpdateMessage'?{'poll_id':_0x26cac4[_0x3b4757(0x632)]['id'],'quoted':_0x26cac4[_0x3b4757(0x632)]['id'],'vote':_0x56a0f0}:{},..._0x5b672c==='listResponseMessage'?{'vote':_0x56a0f0}:{},'type':_0x5b672c,..._0x4200c2&&{'edited':_0x4200c2},..._0x23acf5&&{'quoted':_0x23acf5},..._0x58a509&&{'reaction':_0x58a509},...(_0x5b672c===_0x3b4757(0x2f2)||_0x5b672c===_0x3b4757(0x2b2)||_0x5b672c===_0x3b4757(0x4de)||_0x5b672c===_0x3b4757(0x6c2))&&{'convertedOptions':_0x494ee4['convertedOptions']}};}return{'messageType':_0x5b672c,'messageContent':_0x26cac4,'message_normalized':_0x494ee4};}catch(_0x5ebc1a){console[_0x3b4757(0x27b)](_0x3b4757(0x6cc),_0x5ebc1a);}},this[_0x5558ee(0x34b)]=null,this['lastSend']=0x0,this['timerId']=null,(this['cleanStore'](),this[_0x5558ee(0x638)][_0x5558ee(0x5e5)]={'count':0x0});}set[a0_0x2e4b91(0x5bc)](_0x3bbb36){const _0x1dcca2=a0_0x2e4b91;if(!_0x3bbb36){this[_0x1dcca2(0x638)][_0x1dcca2(0x307)]=(0x0,mr['v4'])();return;}this[_0x1dcca2(0x638)][_0x1dcca2(0x307)]=_0x3bbb36,this[_0x1dcca2(0x4a3)]('status.instance',{'instance':this[_0x1dcca2(0x638)][_0x1dcca2(0x307)],'status':_0x1dcca2(0x6de)});}get[a0_0x2e4b91(0x5bc)](){const _0x40eeeb=a0_0x2e4b91;return this[_0x40eeeb(0x638)][_0x40eeeb(0x307)];}get['wuid'](){return this['instance']['wuid'];}async[a0_0x2e4b91(0x585)](){const _0x4e21ac=a0_0x2e4b91;let _0x51e09f=this[_0x4e21ac(0x626)][_0x4e21ac(0x37a)]?.[_0x4e21ac(0x307)]??this[_0x4e21ac(0x626)]['user']?.[_0x4e21ac(0x6bc)];if(!_0x51e09f){if(this[_0x4e21ac(0x435)][_0x4e21ac(0x535)]('DATABASE')[_0x4e21ac(0x6cd)]){let _0x37c0ba=await N[_0x4e21ac(0x4b5)]()['db'](this[_0x4e21ac(0x435)][_0x4e21ac(0x535)](_0x4e21ac(0x1b0))[_0x4e21ac(0x5e9)][_0x4e21ac(0x1c3)]+_0x4e21ac(0x1ef))['collection'](this[_0x4e21ac(0x5bc)])[_0x4e21ac(0x5aa)]({'_id':_0x4e21ac(0x39a)});if(_0x37c0ba){let _0x49b5de=JSON[_0x4e21ac(0x31b)](JSON[_0x4e21ac(0x1ba)](_0x37c0ba),y['BufferJSON'][_0x4e21ac(0x552)]);_0x51e09f=_0x49b5de['me']?.[_0x4e21ac(0x307)]||_0x49b5de['me']?.[_0x4e21ac(0x6bc)];}}else{if((0x0,Me['existsSync'])((0x0,P[_0x4e21ac(0x727)])(pe,this[_0x4e21ac(0x5bc)],_0x4e21ac(0x538)))){let _0x3a6538=JSON[_0x4e21ac(0x31b)]((0x0,Me[_0x4e21ac(0x61e)])((0x0,P[_0x4e21ac(0x727)])(pe,this['instanceName'],'creds.json'),{'encoding':_0x4e21ac(0x748)}));_0x51e09f=_0x3a6538['me']?.['name']||_0x3a6538['me']?.[_0x4e21ac(0x6bc)];}}}return _0x51e09f;}get[a0_0x2e4b91(0x1b7)](){return this['instance']['profilePictureUrl'];}get[a0_0x2e4b91(0x167)](){const _0x4afc88=a0_0x2e4b91;return{'pairingCode':this[_0x4afc88(0x638)][_0x4afc88(0x5e5)]?.[_0x4afc88(0x369)],'code':this[_0x4afc88(0x638)][_0x4afc88(0x5e5)]?.[_0x4afc88(0x317)],'base64':this[_0x4afc88(0x638)][_0x4afc88(0x5e5)]?.[_0x4afc88(0x1d7)]};}async[a0_0x2e4b91(0x630)](){const _0x427671=a0_0x2e4b91;let _0x5ea5bb=await this[_0x427671(0x3f0)][_0x427671(0x2bf)][_0x427671(0x18c)](this[_0x427671(0x5bc)]);this[_0x427671(0x1ed)][_0x427671(0x3c3)]=_0x5ea5bb?.['url'],this[_0x427671(0x1ed)][_0x427671(0x5a3)]=_0x5ea5bb?.[_0x427671(0x5a3)],this['localWebhook']['local_map']=_0x5ea5bb?.[_0x427671(0x3ec)],this[_0x427671(0x1ed)][_0x427671(0x306)]=_0x5ea5bb?.[_0x427671(0x306)],this[_0x427671(0x1ed)][_0x427671(0x590)]=_0x5ea5bb?.[_0x427671(0x590)],this[_0x427671(0x1ed)]['SEND_MESSAGE']=_0x5ea5bb?.[_0x427671(0x51f)],this[_0x427671(0x1ed)][_0x427671(0x4ae)]=_0x5ea5bb?.[_0x427671(0x4ae)],this[_0x427671(0x1ed)]['MESSAGES_UPDATE']=_0x5ea5bb?.[_0x427671(0x6b3)],this['localWebhook']['GROUPS_UPSERT']=_0x5ea5bb?.[_0x427671(0x220)],this[_0x427671(0x1ed)][_0x427671(0x303)]=_0x5ea5bb?.['GROUPS_UPDATE'],this[_0x427671(0x1ed)][_0x427671(0x174)]=_0x5ea5bb?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x427671(0x1ed)][_0x427671(0x2b9)]=_0x5ea5bb?.[_0x427671(0x2b9)],this[_0x427671(0x1ed)][_0x427671(0x375)]=_0x5ea5bb?.['CHATS_UPSERT'],this[_0x427671(0x1ed)][_0x427671(0x246)]=_0x5ea5bb?.[_0x427671(0x246)],this[_0x427671(0x1ed)][_0x427671(0x1f1)]=_0x5ea5bb?.[_0x427671(0x1f1)],this[_0x427671(0x1ed)]['CONTACTS_SET']=_0x5ea5bb?.[_0x427671(0x65d)],this['localWebhook'][_0x427671(0x1c9)]=_0x5ea5bb?.[_0x427671(0x1c9)],this['localWebhook']['CONTACTS_UPDATE']=_0x5ea5bb?.['CONTACTS_UPDATE'],this[_0x427671(0x1ed)][_0x427671(0x4a4)]=_0x5ea5bb?.[_0x427671(0x4a4)],this[_0x427671(0x1ed)][_0x427671(0x506)]=_0x5ea5bb?.[_0x427671(0x506)],this[_0x427671(0x1ed)][_0x427671(0x541)]=_0x5ea5bb?.[_0x427671(0x541)],this['localWebhook'][_0x427671(0x498)]=_0x5ea5bb?.[_0x427671(0x498)];}async['setWebhook'](_0x11c3bb){const _0x23fedb=a0_0x2e4b91;let _0x1d1a93=['_id',_0x23fedb(0x3c3),_0x23fedb(0x5a3),'local_map','STATUS_INSTANCE','QRCODE_UPDATED',_0x23fedb(0x6b3),'MESSAGES_UPSERT','SEND_MESSAGE',_0x23fedb(0x220),_0x23fedb(0x303),_0x23fedb(0x174),_0x23fedb(0x2b9),_0x23fedb(0x375),_0x23fedb(0x246),'CHATS_DELETE',_0x23fedb(0x65d),_0x23fedb(0x1c9),'CONTACTS_UPDATE',_0x23fedb(0x4a4),'MESSAGES_SET','CONNECTION_UPDATE',_0x23fedb(0x498)],_0x4a6d6b={};return _0x1d1a93[_0x23fedb(0x2de)](_0x34ce9c=>{_0x11c3bb[_0x34ce9c]!==void 0x0&&(_0x4a6d6b[_0x34ce9c]=_0x11c3bb[_0x34ce9c]);}),await this[_0x23fedb(0x3f0)][_0x23fedb(0x2bf)]['create'](_0x4a6d6b,this[_0x23fedb(0x5bc)]),Object[_0x23fedb(0x274)](this[_0x23fedb(0x1ed)],_0x4a6d6b),await this[_0x23fedb(0x3f0)][_0x23fedb(0x2bf)][_0x23fedb(0x18c)](this[_0x23fedb(0x5bc)]);}async['findWebhook'](){const _0x18876f=a0_0x2e4b91;return await this['repository']['webhook'][_0x18876f(0x18c)](this[_0x18876f(0x5bc)]);}async[a0_0x2e4b91(0x4a3)](_0x1fb70e,_0x1928a7){const _0x5764c3=a0_0x2e4b91;let _0x5868e8=_0x1fb70e[_0x5764c3(0x3ca)](/[\.-]/gm,'_')[_0x5764c3(0x1c7)](),_0x2a7700=this['localWebhook'][_0x5764c3(0x5a3)]&&(0x0,$['isURL'])(this['localWebhook']['url'])?this[_0x5764c3(0x1ed)][_0x5764c3(0x3c3)]+(this['localWebhook'][_0x5764c3(0x3ec)]?this[_0x5764c3(0x29c)][_0x1fb70e]:''):null,_0x3e15c1=this[_0x5764c3(0x1ed)][_0x5868e8],_0x239c01=ie&&ie[_0x5764c3(0x5a3)]&&(0x0,$[_0x5764c3(0x42d)])(ie['url'])?ie[_0x5764c3(0x3c3)]+(ie[_0x5764c3(0x3ec)]?this[_0x5764c3(0x29c)][_0x1fb70e]:''):null,_0xec0475=ie?ie[_0x5868e8]:null;if(_0x3e15c1&&_0x2a7700)try{await se[_0x5764c3(0x5f2)][_0x5764c3(0x74b)]({'baseURL':_0x2a7700})[_0x5764c3(0x2a7)]('',{'event':_0x1fb70e,'instance':this[_0x5764c3(0x638)][_0x5764c3(0x307)],'data':_0x1928a7}),this[_0x5764c3(0x76f)][_0x5764c3(0x54d)](_0x5764c3(0x195)+_0x1fb70e+':\x20'+_0x2a7700);}catch(_0x5043d4){this[_0x5764c3(0x76f)][_0x5764c3(0x27b)](this['instanceName']+'\x20('+this['instance'][_0x5764c3(0x385)]+_0x5764c3(0x15f)+{'local':c[_0x5764c3(0x307)]+_0x5764c3(0x2ef),'message':_0x5043d4?.[_0x5764c3(0x662)],'hostName':_0x5043d4?.[_0x5764c3(0x6bf)],'syscall':_0x5043d4?.[_0x5764c3(0x3c2)],'code':_0x5043d4?.[_0x5764c3(0x317)],'error':_0x5043d4?.[_0x5764c3(0x75e)],'stack':_0x5043d4?.[_0x5764c3(0x5a6)],'name':_0x5043d4?.[_0x5764c3(0x307)]});}if(_0xec0475&&_0x239c01)try{await se[_0x5764c3(0x5f2)][_0x5764c3(0x74b)]({'baseURL':_0x239c01})[_0x5764c3(0x2a7)]('',{'event':_0x1fb70e,'instance':this[_0x5764c3(0x638)][_0x5764c3(0x307)],'data':_0x1928a7}),this[_0x5764c3(0x76f)][_0x5764c3(0x54d)](_0x5764c3(0x37c)+_0x1fb70e+':\x20'+_0x239c01);}catch(_0x3c7968){this['logger'][_0x5764c3(0x27b)](this[_0x5764c3(0x5bc)]+'\x20('+this['instance'][_0x5764c3(0x385)]+_0x5764c3(0x15f)+{'local':c['name']+'.sendDataWebhook-global','message':_0x3c7968?.[_0x5764c3(0x662)],'hostName':_0x3c7968?.[_0x5764c3(0x6bf)],'syscall':_0x3c7968?.['syscall'],'code':_0x3c7968?.['code'],'error':_0x3c7968?.[_0x5764c3(0x75e)],'stack':_0x3c7968?.[_0x5764c3(0x5a6)],'name':_0x3c7968?.[_0x5764c3(0x307)]});}}async[a0_0x2e4b91(0x1c8)]({qr:_0x198873,connection:_0x452af0,lastDisconnect:_0x3bf860}){const _0x2a5e34=a0_0x2e4b91;if(_0x198873){if(this[_0x2a5e34(0x638)][_0x2a5e34(0x5e5)][_0x2a5e34(0x1d2)]===ho)return this[_0x2a5e34(0x4a3)](_0x2a5e34(0x495),{'message':_0x2a5e34(0x1d4),'statusCode':y['DisconnectReason'][_0x2a5e34(0x790)]}),this['stateConnection']={'state':'refused','statusReason':y['DisconnectReason'][_0x2a5e34(0x406)]},this[_0x2a5e34(0x4a3)]('connection.update',{'instance':this[_0x2a5e34(0x638)][_0x2a5e34(0x307)],...this[_0x2a5e34(0x635)]}),this['sendDataWebhook'](_0x2a5e34(0x3d6),{'instance':this[_0x2a5e34(0x638)][_0x2a5e34(0x307)],'status':'removed'}),this['repository'][_0x2a5e34(0x6b0)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x2a5e34(0x638)][_0x2a5e34(0x307)]),this[_0x2a5e34(0x539)]=!0x0,this[_0x2a5e34(0x515)][_0x2a5e34(0x557)](_0x2a5e34(0x1dc),this[_0x2a5e34(0x638)]['name']);this[_0x2a5e34(0x638)][_0x2a5e34(0x5e5)][_0x2a5e34(0x1d2)]++;let _0x473383={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x2a5e34(0x656),'dark':_0x2a5e34(0x288)}};fr[_0x2a5e34(0x5f2)][_0x2a5e34(0x19e)](_0x198873,_0x473383,(_0x1e52ef,_0x5353ce)=>{const _0x31626d=_0x2a5e34;if(_0x1e52ef){this[_0x31626d(0x76f)][_0x31626d(0x27b)](this[_0x31626d(0x5bc)]+'\x20('+this['instance']['wuid']+_0x31626d(0x69a)+(_0x1e52ef instanceof Error?_0x1e52ef[_0x31626d(0x662)]:JSON[_0x31626d(0x1ba)](_0x1e52ef,null,0x2)));return;}this[_0x31626d(0x638)][_0x31626d(0x5e5)][_0x31626d(0x1d7)]=_0x5353ce,this['instance'][_0x31626d(0x5e5)]['code']=_0x198873,this[_0x31626d(0x4a3)](_0x31626d(0x495),{'qrcode':{'instance':this[_0x31626d(0x638)]['name'],'pairingCode':this[_0x31626d(0x638)]['qrcode'][_0x31626d(0x369)],'code':_0x198873,'base64':_0x5353ce}});}),this[_0x2a5e34(0x614)]?this[_0x2a5e34(0x638)][_0x2a5e34(0x5e5)][_0x2a5e34(0x369)]=await this[_0x2a5e34(0x626)][_0x2a5e34(0x312)](this[_0x2a5e34(0x614)]):this['instance'][_0x2a5e34(0x5e5)][_0x2a5e34(0x369)]=null,yr['default'][_0x2a5e34(0x4ce)](_0x198873,{'small':!0x0},_0x4bbe28=>this[_0x2a5e34(0x76f)]['log'](_0x2a5e34(0x79a)+this[_0x2a5e34(0x638)][_0x2a5e34(0x307)]+',\x20qrcodeCount:\x20'+this[_0x2a5e34(0x638)][_0x2a5e34(0x5e5)][_0x2a5e34(0x1d2)]+',\x20pairCode:\x20'+this['instance'][_0x2a5e34(0x5e5)][_0x2a5e34(0x369)]+'\x20}\x0a'+_0x4bbe28));}if(_0x452af0&&(this[_0x2a5e34(0x635)]={'state':_0x452af0,'statusReason':_0x3bf860?.[_0x2a5e34(0x27b)]?.[_0x2a5e34(0x50b)]?.[_0x2a5e34(0x513)]??0xc8},this[_0x2a5e34(0x4a3)]('connection.update',{'instance':this[_0x2a5e34(0x638)]['name'],...this[_0x2a5e34(0x635)]})),_0x452af0===_0x2a5e34(0x799)){if(this[_0x2a5e34(0x5ca)]++,this['reconnectTimestamps'][_0x2a5e34(0x20c)](Date[_0x2a5e34(0x2cd)]()),this[_0x2a5e34(0x3fd)]=this[_0x2a5e34(0x3fd)][_0x2a5e34(0x714)](_0x258c69=>Date['now']()-_0x258c69<this[_0x2a5e34(0x4b6)]),_0x3bf860[_0x2a5e34(0x27b)]?.[_0x2a5e34(0x50b)]?.[_0x2a5e34(0x513)]!==y[_0x2a5e34(0x437)][_0x2a5e34(0x5d1)]&&this[_0x2a5e34(0x3fd)][_0x2a5e34(0x52c)]<=this[_0x2a5e34(0x254)])await this[_0x2a5e34(0x72e)]();else{this[_0x2a5e34(0x4a3)]('status.instance',{'instance':this[_0x2a5e34(0x638)][_0x2a5e34(0x307)],'status':'removed'}),this[_0x2a5e34(0x48e)]=!0x1,this[_0x2a5e34(0x3f0)][_0x2a5e34(0x2bf)][_0x2a5e34(0x6bb)](this[_0x2a5e34(0x5bc)]),this['repository']['auth'][_0x2a5e34(0x74b)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2a5e34(0x2cd)]()},this[_0x2a5e34(0x638)][_0x2a5e34(0x307)]);try{this[_0x2a5e34(0x76f)]['verbose'](this[_0x2a5e34(0x5bc)]+'\x20('+this[_0x2a5e34(0x638)]['wuid']+_0x2a5e34(0x779));let _0x417395=await this[_0x2a5e34(0x3f0)][_0x2a5e34(0x662)][_0x2a5e34(0x2c6)](this[_0x2a5e34(0x638)]['wuid']);_0x417395[_0x2a5e34(0x6f5)]?this[_0x2a5e34(0x76f)][_0x2a5e34(0x477)](this[_0x2a5e34(0x5bc)]+'\x20('+this['instance'][_0x2a5e34(0x385)]+_0x2a5e34(0x5ac)):console[_0x2a5e34(0x27b)](_0x2a5e34(0x291),_0x417395['error']);}catch(_0x53ca49){console[_0x2a5e34(0x27b)](_0x2a5e34(0x341),_0x53ca49);}this['delayMessage']!==null&&(this[_0x2a5e34(0x76f)][_0x2a5e34(0x477)](this[_0x2a5e34(0x5bc)]+'\x20('+this[_0x2a5e34(0x638)][_0x2a5e34(0x385)]+_0x2a5e34(0x6fb)),clearInterval(this[_0x2a5e34(0x177)]),this[_0x2a5e34(0x177)]=null),this[_0x2a5e34(0x76f)][_0x2a5e34(0x477)](this[_0x2a5e34(0x5bc)]+'\x20('+this[_0x2a5e34(0x638)][_0x2a5e34(0x385)]+_0x2a5e34(0x28f)),this[_0x2a5e34(0x3c4)]=null,this[_0x2a5e34(0x515)][_0x2a5e34(0x557)](_0x2a5e34(0x3ad),this[_0x2a5e34(0x638)]['name'],_0x2a5e34(0x597)),this[_0x2a5e34(0x626)]?.['ws']?.[_0x2a5e34(0x799)](),this['client'][_0x2a5e34(0x297)](new Error(_0x2a5e34(0x583)));}}if(_0x452af0===_0x2a5e34(0x442)){this[_0x2a5e34(0x770)],this[_0x2a5e34(0x638)][_0x2a5e34(0x385)]=this[_0x2a5e34(0x626)][_0x2a5e34(0x37a)]['id'][_0x2a5e34(0x3ca)](/:\d+/,'')['replace'](_0x2a5e34(0x35a),''),this[_0x2a5e34(0x638)]['profilePictureUrl']=(await this[_0x2a5e34(0x692)](this['instance'][_0x2a5e34(0x385)]+_0x2a5e34(0x35a)))[_0x2a5e34(0x1b7)],this[_0x2a5e34(0x3f0)][_0x2a5e34(0x6b0)]['create']({'online':!0x0,'owner':this[_0x2a5e34(0x638)][_0x2a5e34(0x385)],'lastDisconnect':null},this['instance'][_0x2a5e34(0x307)]);let _0x19d43f=_0x2a5e34(0x543)+this[_0x2a5e34(0x638)][_0x2a5e34(0x385)],_0x3d40fb=0x28,_0x3f4fe1=Math['floor']((_0x3d40fb-_0x19d43f[_0x2a5e34(0x52c)])/0x2),_0x2b0619='\x20'[_0x2a5e34(0x283)](_0x3f4fe1),_0x4895b2=_0x2a5e34(0x2f3),_0x5e9de9=_0x2a5e34(0x431)+this[_0x2a5e34(0x638)][_0x2a5e34(0x307)],_0x2b2929=(''+_0x2b0619+_0x19d43f+_0x2b0619)[_0x2a5e34(0x499)](_0x3d40fb,'\x20'),_0x17ffa6=(''+_0x2b0619+_0x4895b2+_0x2b0619)[_0x2a5e34(0x499)](_0x3d40fb,'\x20'),_0x57b24c=(''+_0x2b0619+_0x5e9de9+_0x2b0619)[_0x2a5e34(0x499)](_0x3d40fb,'\x20'),_0x23058a=Math[_0x2a5e34(0x425)](_0x2b2929[_0x2a5e34(0x52c)],_0x17ffa6[_0x2a5e34(0x52c)],_0x57b24c[_0x2a5e34(0x52c)]),_0x3cdc58=_0x2b2929['padEnd'](_0x23058a,'\x20'),_0xc5e80=_0x17ffa6['padEnd'](_0x23058a,'\x20'),_0x1b56fa=_0x57b24c['padEnd'](_0x23058a,'\x20');this[_0x2a5e34(0x76f)]['info']((_0x2a5e34(0x1e1)+'─'[_0x2a5e34(0x283)](_0x23058a)+_0x2a5e34(0x69f)+_0xc5e80+_0x2a5e34(0x773)+_0x1b56fa+_0x2a5e34(0x773)+_0x3cdc58+_0x2a5e34(0x311)+'─'[_0x2a5e34(0x283)](_0x23058a)+'┘')[_0x2a5e34(0x3ca)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x2a5e34(0x48e)]=!0x0;}}[a0_0x2e4b91(0x770)](){this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[];}async['getMessage'](_0x434e14,_0x2b00fb=!0x1){const _0x29e418=a0_0x2e4b91;try{let _0x47b5ce=await this[_0x29e418(0x3f0)][_0x29e418(0x662)]['find']({'where':{'_id':_0x434e14['id']}},this[_0x29e418(0x638)][_0x29e418(0x385)]);return _0x2b00fb?_0x47b5ce[0x0]:_0x47b5ce[0x0][_0x29e418(0x662)];}catch{return{'conversation':''};}}[a0_0x2e4b91(0x211)](){const _0x32177f=a0_0x2e4b91;let _0x297359=this[_0x32177f(0x435)][_0x32177f(0x535)](_0x32177f(0x452)),_0x5787f9=this['configService']['get'](_0x32177f(0x1b0));_0x297359?.[_0x32177f(0x443)]&&!_0x5787f9[_0x32177f(0x6cd)]&&setInterval(()=>{const _0x3c2907=_0x32177f;try{for(let [_0x5cdb83,_0x4ec315]of Object[_0x3c2907(0x3fe)](_0x297359))_0x4ec315===!0x0&&(0x0,Dt[_0x3c2907(0x25e)])(_0x3c2907(0x37e)+(0x0,P[_0x3c2907(0x727)])(this[_0x3c2907(0x65f)],_0x5cdb83[_0x3c2907(0x610)](),this[_0x3c2907(0x638)][_0x3c2907(0x385)])+_0x3c2907(0x4a7));}catch{}},(_0x297359?.[_0x32177f(0x443)]??0xe10)*0x3e8);}async[a0_0x2e4b91(0x678)](){const _0x257221=a0_0x2e4b91;let _0x3af0a2=this[_0x257221(0x435)][_0x257221(0x535)](_0x257221(0x1b0)),_0x37affb=this['configService'][_0x257221(0x535)](_0x257221(0x537));return _0x37affb?.[_0x257221(0x6cd)]?await fs(_0x37affb,this['instance'][_0x257221(0x307)]):_0x3af0a2[_0x257221(0x6cd)]?await ms(this[_0x257221(0x638)][_0x257221(0x307)]):await(0x0,y[_0x257221(0x6ad)])((0x0,P[_0x257221(0x727)])(pe,this[_0x257221(0x638)][_0x257221(0x307)]));}async[a0_0x2e4b91(0x730)](){const _0x4004b0=a0_0x2e4b91;let _0x1a1af8=()=>Math[_0x4004b0(0x40b)](Math[_0x4004b0(0x1cf)]()*0x2711)+0x7d0,_0x25d5fa=async()=>{const _0xf9d31e=_0x4004b0;if(!this[_0xf9d31e(0x48e)]){this[_0xf9d31e(0x76f)]['verbose'](_0xf9d31e(0x61f)),this[_0xf9d31e(0x25b)]=!0x1;return;}if(this[_0xf9d31e(0x638)][_0xf9d31e(0x385)]&&this[_0xf9d31e(0x3c4)]&&this[_0xf9d31e(0x177)]!==null&&this[_0xf9d31e(0x177)]!==void 0x0){let _0x48f064=Math[_0xf9d31e(0x32a)](this[_0xf9d31e(0x177)]/0xea60);this['logger'][_0xf9d31e(0x477)](this[_0xf9d31e(0x5bc)]+'\x20('+this['instance'][_0xf9d31e(0x385)]+_0xf9d31e(0x1fb)+_0x48f064+_0xf9d31e(0x6e8)),this[_0xf9d31e(0x25b)]=!0x1;return;}else this[_0xf9d31e(0x638)][_0xf9d31e(0x385)]&&(this[_0xf9d31e(0x76f)]['verbose'](this['instanceName']+'\x20('+this[_0xf9d31e(0x638)][_0xf9d31e(0x385)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),await this[_0xf9d31e(0x3f0)][_0xf9d31e(0x782)]['copyDataToNewModel'](this[_0xf9d31e(0x638)][_0xf9d31e(0x385)]),await this[_0xf9d31e(0x3f0)]['flow'][_0xf9d31e(0x54f)](this[_0xf9d31e(0x638)][_0xf9d31e(0x385)]),await this['repository']['scheduleMessage'][_0xf9d31e(0x54f)](this[_0xf9d31e(0x638)][_0xf9d31e(0x385)]),this[_0xf9d31e(0x76f)]['verbose'](this[_0xf9d31e(0x5bc)]+'\x20('+this[_0xf9d31e(0x638)][_0xf9d31e(0x385)]+_0xf9d31e(0x71e)),this['AutomateSystem']||await this[_0xf9d31e(0x4e9)](),(this['delayMessage']===null||this[_0xf9d31e(0x177)]===void 0x0)&&await this[_0xf9d31e(0x3ab)]());if(this[_0xf9d31e(0x25b)]){let _0x102c01=_0x1a1af8();this[_0xf9d31e(0x76f)][_0xf9d31e(0x477)](this[_0xf9d31e(0x5bc)]+_0xf9d31e(0x4f8)+_0x102c01/0x3e8+_0xf9d31e(0x37b)),setTimeout(_0x25d5fa,_0x102c01);}};if(this[_0x4004b0(0x25b)])return;this[_0x4004b0(0x25b)]=!0x0;let _0x105fad=_0x1a1af8();setTimeout(_0x25d5fa,_0x105fad);}async['testProxy'](_0xbd059a,_0x15c2ca,_0x2b9403,_0x2caba8,_0x4b4df3){const _0xc25fc3=a0_0x2e4b91;this[_0xc25fc3(0x76f)][_0xc25fc3(0x477)](_0xc25fc3(0x27f));try{let _0x238865={'host':_0xbd059a,'port':parseInt(_0x15c2ca),'protocol':_0x2b9403};_0x2caba8&&_0x4b4df3&&(_0x238865={..._0x238865,'auth':{'username':_0x2caba8,'password':_0x4b4df3}});let _0x902415=[_0xc25fc3(0x3a2),'https://api.ipify.org?format=json','http://checkip.dyndns.org'];for(let _0x50a9da of _0x902415)try{let _0x14578d=await se[_0xc25fc3(0x5f2)]['get'](_0x50a9da,{'proxy':_0x238865}),_0x5dc6bc;return _0x50a9da['includes']('jsonip.com')||_0x50a9da[_0xc25fc3(0x5fa)](_0xc25fc3(0x314))?_0x5dc6bc=_0x14578d[_0xc25fc3(0x5b0)]['ip']:_0x50a9da['includes']('dyndns.org')&&(_0x5dc6bc=_0x14578d[_0xc25fc3(0x5b0)]['match'](/\d+\.\d+\.\d+\.\d+/)[0x0]),this[_0xc25fc3(0x76f)][_0xc25fc3(0x477)](_0xc25fc3(0x310)+_0x50a9da+':\x20'+_0x5dc6bc),!0x0;}catch(_0x6b3d2c){this[_0xc25fc3(0x76f)]['error'](_0xc25fc3(0x3dc)+_0x50a9da+_0xc25fc3(0x159)+_0x6b3d2c);}return!0x1;}catch(_0x2ba622){return this[_0xc25fc3(0x76f)][_0xc25fc3(0x27b)]('testProxy\x20error:\x20'+_0x2ba622),_0x2ba622[_0xc25fc3(0x5b8)]?(this[_0xc25fc3(0x76f)][_0xc25fc3(0x27b)](_0xc25fc3(0x26e)+_0x2ba622['response'][_0xc25fc3(0x5b0)]),this[_0xc25fc3(0x76f)][_0xc25fc3(0x27b)]('Error\x20status:'+_0x2ba622[_0xc25fc3(0x5b8)]['status']),this[_0xc25fc3(0x76f)][_0xc25fc3(0x27b)](_0xc25fc3(0x387)+_0x2ba622[_0xc25fc3(0x5b8)][_0xc25fc3(0x5ea)])):_0x2ba622[_0xc25fc3(0x797)]?this[_0xc25fc3(0x76f)][_0xc25fc3(0x27b)]('No\x20response\x20received:'+_0x2ba622[_0xc25fc3(0x797)]):this[_0xc25fc3(0x76f)][_0xc25fc3(0x27b)](_0xc25fc3(0x28b)+_0x2ba622[_0xc25fc3(0x662)]),!0x1;}}async[a0_0x2e4b91(0x690)](_0x36caa8){const _0x5e85dd=a0_0x2e4b91;if(console[_0x5e85dd(0x54d)](_0x5e85dd(0x690)),await this[_0x5e85dd(0x786)](_0x36caa8[_0x5e85dd(0x553)],_0x36caa8[_0x5e85dd(0x75c)],_0x36caa8['protocol'],_0x36caa8[_0x5e85dd(0x4ca)],_0x36caa8[_0x5e85dd(0x49e)])){console[_0x5e85dd(0x54d)](_0x5e85dd(0x2f0));let _0x3eca5c=_0x36caa8[_0x5e85dd(0x1fd)]+_0x5e85dd(0x6f1)+_0x36caa8[_0x5e85dd(0x553)]+':'+_0x36caa8[_0x5e85dd(0x75c)];return _0x36caa8['username']&&_0x36caa8[_0x5e85dd(0x49e)]&&(_0x3eca5c=_0x36caa8[_0x5e85dd(0x4ca)]+':'+_0x36caa8[_0x5e85dd(0x49e)]+'@'+_0x3eca5c),this[_0x5e85dd(0x3f0)][_0x5e85dd(0x6b0)][_0x5e85dd(0x74b)]({'proxy':_0x3eca5c},this['instance'][_0x5e85dd(0x307)]),{'agent':new wr[(_0x5e85dd(0x2d5))](_0x3eca5c)};}return null;}[a0_0x2e4b91(0x570)](_0x441204){const _0x355cbf=a0_0x2e4b91;let _0x53005c=_0x441204['split'](':');if(_0x53005c[_0x355cbf(0x52c)]!==0x4)throw new Error('Formato\x20inválido\x20de\x20proxy');return{'host':_0x53005c[0x0],'port':_0x53005c[0x1],'username':_0x53005c[0x2],'password':_0x53005c[0x3],'protocol':_0x355cbf(0x655)};}async['connectToWhatsapp'](_0x4ea094,_0x38ea93=!0x0){const _0x4e5738=a0_0x2e4b91;try{let _0x316410={},_0xa2107e=0x0;if(Sr&&_0x38ea93){let _0x201667;try{let _0x2f65df=(await this[_0x4e5738(0x3f0)][_0x4e5738(0x6b0)]['find'](this['instanceName']))[_0x4e5738(0x4d6)];for(_0x2f65df&&(_0x201667=this[_0x4e5738(0x570)](_0x2f65df)),_0x2f65df&&ws(_0x201667)&&(_0x316410=await this['tryProxy'](_0x201667),_0x316410&&_0xa2107e++);!_0x316410&&_0xa2107e<0x3;){let _0x571ee3=dr();if(_0x571ee3){if(_0x201667=this[_0x4e5738(0x570)](_0x571ee3[_0x4e5738(0x553)]+':'+_0x571ee3['port']+':'+_0x571ee3[_0x4e5738(0x4ca)]+':'+_0x571ee3['password']),ws(_0x201667)){if(_0x316410=await this['tryProxy'](_0x201667),_0x316410)break;}else this['logger']['error'](_0x4e5738(0x670));}_0xa2107e++;}}catch(_0x4fbc2f){this[_0x4e5738(0x76f)][_0x4e5738(0x27b)]('Erro\x20ao\x20configurar\x20proxy:\x20'+_0x4fbc2f),_0x316410={};}!_0x316410&&_0xa2107e>=0x3&&(this[_0x4e5738(0x76f)][_0x4e5738(0x7a0)]('Nenhum\x20proxy\x20funcional\x20encontrado\x20após\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.'),_0x316410={});}this[_0x4e5738(0x630)](),this[_0x4e5738(0x638)][_0x4e5738(0x6e9)]=await this[_0x4e5738(0x678)]();let {version:_0x3cb009}=await(0x0,y[_0x4e5738(0x2f7)])(),_0xeffaaf=[Ms,br,(0x0,bs['release'])()];console[_0x4e5738(0x54d)]('options'),console[_0x4e5738(0x54d)](_0x316410);let _0x39c1d9={..._0x316410,'auth':{'creds':this['instance'][_0x4e5738(0x6e9)][_0x4e5738(0x396)][_0x4e5738(0x39a)],'keys':(0x0,y[_0x4e5738(0x71b)])(this['instance'][_0x4e5738(0x6e9)]['state']['keys'],(0x0,At['default'])({'level':_0x4e5738(0x27b)}))},'logger':(0x0,At[_0x4e5738(0x5f2)])({'level':_0x4e5738(0x27b)}),'printQRInTerminal':!0x1,'browser':_0x4ea094?[_0x4e5738(0x6e4),Ms,(0x0,bs[_0x4e5738(0x419)])()]:_0xeffaaf,'version':_0x3cb009,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x4e5738(0x60b)],'getMessage':async _0x4a400f=>await this[_0x4e5738(0x426)](_0x4a400f),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0xb9207d=>(_0xb9207d[_0x4e5738(0x6c2)]?.[_0x4e5738(0x161)]==y['proto'][_0x4e5738(0x595)][_0x4e5738(0x64a)][_0x4e5738(0x4aa)][_0x4e5738(0x30c)]&&(_0xb9207d=JSON[_0x4e5738(0x31b)](JSON[_0x4e5738(0x1ba)](_0xb9207d)),_0xb9207d[_0x4e5738(0x6c2)][_0x4e5738(0x161)]=y[_0x4e5738(0x55d)][_0x4e5738(0x595)][_0x4e5738(0x64a)][_0x4e5738(0x4aa)][_0x4e5738(0x66f)]),_0xb9207d)};return this['endSession']=!0x1,this[_0x4e5738(0x626)]=(0x0,y[_0x4e5738(0x5f2)])(_0x39c1d9),this['eventHandler'](),this[_0x4e5738(0x614)]=_0x4ea094,this['client'];}catch(_0x19ec98){throw this['logger'][_0x4e5738(0x27b)](this[_0x4e5738(0x5bc)]+'\x20('+this[_0x4e5738(0x638)]['wuid']+_0x4e5738(0x15f)+(_0x19ec98 instanceof Error?_0x19ec98[_0x4e5738(0x662)]:JSON[_0x4e5738(0x1ba)](_0x19ec98,null,0x2))),new O(_0x19ec98?.[_0x4e5738(0x40f)]());}}[a0_0x2e4b91(0x30e)](){const _0x192078=a0_0x2e4b91;this[_0x192078(0x626)]['ev'][_0x192078(0x6f0)](_0x26333d=>{const _0x1e4127=_0x192078;if(!this['endSession']){let _0x462305=this[_0x1e4127(0x435)]['get']('DATABASE');if(_0x26333d[_0x1e4127(0x3df)]){let _0x440893=_0x26333d['labels.edit'];this[_0x1e4127(0x2e2)][_0x1e4127(0x3df)](_0x440893);}if(_0x26333d[_0x1e4127(0x5f9)]){let _0x256ee9=_0x26333d[_0x1e4127(0x5f9)];this['messageHandle']['labels.association'](_0x256ee9);}if(_0x26333d[_0x1e4127(0x6ec)]&&this[_0x1e4127(0x1c8)](_0x26333d['connection.update']),_0x26333d['creds.update']&&this[_0x1e4127(0x638)][_0x1e4127(0x6e9)][_0x1e4127(0x60f)](),_0x26333d['messaging-history.set']){let _0x2c45d7=_0x26333d[_0x1e4127(0x5d9)];this[_0x1e4127(0x2e2)][_0x1e4127(0x5d9)](_0x2c45d7,_0x462305);}if(_0x26333d[_0x1e4127(0x6b5)]){let _0x30d885=_0x26333d[_0x1e4127(0x6b5)];this[_0x1e4127(0x2e2)][_0x1e4127(0x6b5)](_0x30d885,_0x462305);}if(_0x26333d[_0x1e4127(0x5c1)]){let _0x106bf6=_0x26333d[_0x1e4127(0x5c1)];_0x106bf6[_0x1e4127(0x2de)](_0x11fc30=>{const _0x45695b=_0x1e4127;if(gr[_0x11fc30[_0x45695b(0x16e)]['id']]){this[_0x45695b(0x626)]['ev'][_0x45695b(0x557)](_0x45695b(0x6b5),{'messages':[_0x11fc30],'type':_0x45695b(0x4fe)}),delete gr[_0x11fc30[_0x45695b(0x16e)]['id']];return;}}),this[_0x1e4127(0x2e2)][_0x1e4127(0x5c1)](_0x106bf6,_0x462305);}if(_0x26333d[_0x1e4127(0x334)]){let _0x2e81b7=_0x26333d['presence.update'];if(this[_0x1e4127(0x1ed)]?.[_0x1e4127(0x498)]&&_0x2e81b7['id'][_0x1e4127(0x5fa)](_0x1e4127(0x624)))return;this[_0x1e4127(0x4a3)](_0x1e4127(0x334),_0x2e81b7);}if(!this[_0x1e4127(0x1ed)]?.[_0x1e4127(0x498)]){if(_0x26333d[_0x1e4127(0x5cc)]){let _0x183277=_0x26333d['groups.upsert'];this['groupHandler'][_0x1e4127(0x5cc)](_0x183277);}if(_0x26333d[_0x1e4127(0x5d6)]){let _0x3b9292=_0x26333d[_0x1e4127(0x5d6)];this[_0x1e4127(0x6f4)][_0x1e4127(0x5d6)](_0x3b9292);}if(_0x26333d[_0x1e4127(0x335)]){let _0x9aa65c=_0x26333d[_0x1e4127(0x335)];this[_0x1e4127(0x6f4)][_0x1e4127(0x335)](_0x9aa65c);}}if(_0x26333d[_0x1e4127(0x615)]){let _0x3eed02=_0x26333d['chats.upsert'];this['chatHandle']['chats.upsert'](_0x3eed02,_0x462305);}if(_0x26333d[_0x1e4127(0x1c4)]){let _0xf2db47=_0x26333d[_0x1e4127(0x1c4)];this[_0x1e4127(0x456)][_0x1e4127(0x1c4)](_0xf2db47,_0x462305);}if(_0x26333d[_0x1e4127(0x4a9)]){let _0x5c09a1=_0x26333d[_0x1e4127(0x4a9)];this[_0x1e4127(0x456)][_0x1e4127(0x4a9)](_0x5c09a1);}if(_0x26333d['contacts.upsert']){let _0x3847aa=_0x26333d[_0x1e4127(0x6e0)];this[_0x1e4127(0x6cf)]['contacts.upsert'](_0x3847aa,_0x462305);}if(_0x26333d[_0x1e4127(0x3b1)]){let _0x5a982a=_0x26333d[_0x1e4127(0x3b1)];this[_0x1e4127(0x6cf)][_0x1e4127(0x3b1)](_0x5a982a,_0x462305);}}});}['formatBRNumber'](_0x5cdde4){const _0x569f96=a0_0x2e4b91;let _0x5d6d23=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x569f96(0x16b)](_0x5cdde4);if(_0x5d6d23&&_0x5d6d23[0x1]==='55'){let _0x40b1d6=_0x5d6d23[0x2],_0x4eeef9=_0x5d6d23[0x3],_0x11f840=_0x5d6d23[0x4];if(_0x40b1d6>='31'&&_0x4eeef9==='9')return _0x5d6d23[0x1]+_0x40b1d6+_0x11f840;}return _0x5cdde4;}['createJid'](_0x3254ed){const _0x14e464=a0_0x2e4b91;return _0x3254ed['includes']('@g.us')||_0x3254ed[_0x14e464(0x5fa)](_0x14e464(0x35a))||_0x3254ed[_0x14e464(0x5fa)](_0x14e464(0x1c6))?_0x3254ed:(_0x3254ed=_0x3254ed?.['replace'](/\s/g,'')[_0x14e464(0x3ca)](/\+/g,'')['replace'](/\(/g,'')[_0x14e464(0x3ca)](/\)/g,'')[_0x14e464(0x4ad)](/\:/)[0x0][_0x14e464(0x4ad)]('@')[0x0],_0x3254ed[_0x14e464(0x52c)]>=0x12?(_0x3254ed=_0x3254ed[_0x14e464(0x3ca)](/[^\d-]/g,''),_0x3254ed+'@g.us'):(_0x3254ed=_0x3254ed['replace'](/\D/g,''),this['formatBRNumber'](_0x3254ed)+_0x14e464(0x35a)));}async[a0_0x2e4b91(0x7a2)](_0x2f881a){const _0xfd208d=a0_0x2e4b91;let _0x3bf734=this['createJid'](_0x2f881a[_0xfd208d(0x577)]),_0x90f8d6=(await this[_0xfd208d(0x277)]({'numbers':[_0x3bf734]}))[0x0];if(!_0x90f8d6['exists']&&!(0x0,y['isJidGroup'])(_0x90f8d6[_0xfd208d(0x23b)]))throw new h(_0x90f8d6);let _0x372a58=(0x0,y[_0xfd208d(0x562)])(_0x3bf734)?_0x3bf734:_0x90f8d6[_0xfd208d(0x23b)];if((0x0,y[_0xfd208d(0x562)])(_0x372a58))try{await this[_0xfd208d(0x626)][_0xfd208d(0x6ed)](_0x372a58);}catch{throw new L(_0xfd208d(0x627));}try{return await this[_0xfd208d(0x626)]['presenceSubscribe'](_0x372a58),await this[_0xfd208d(0x626)]['sendPresenceUpdate'](_0x2f881a[_0xfd208d(0x427)],_0x3bf734),{'status':0xc8,'presence':_0x2f881a[_0xfd208d(0x427)]};}catch(_0x54bdf5){throw new h(_0x54bdf5['toString']());}}async[a0_0x2e4b91(0x692)](_0x218f35){const _0x6da5f2=a0_0x2e4b91;let _0x4f1249=this[_0x6da5f2(0x749)](_0x218f35);try{return{'wuid':_0x4f1249,'profilePictureUrl':await this[_0x6da5f2(0x626)][_0x6da5f2(0x1b7)](_0x4f1249,_0x6da5f2(0x72f))};}catch{return{'wuid':_0x4f1249,'profilePictureUrl':null};}}async[a0_0x2e4b91(0x301)](_0x5330c8,_0x371203,_0x2cc7c1){const _0x45e5f5=a0_0x2e4b91;_0x2cc7c1||(_0x2cc7c1={});let _0x32e0de=(await this[_0x45e5f5(0x277)]({'numbers':[_0x5330c8]}))[0x0];if(!_0x32e0de[_0x45e5f5(0x658)]&&!(0x0,y[_0x45e5f5(0x562)])(_0x32e0de[_0x45e5f5(0x23b)])&&!_0x32e0de[_0x45e5f5(0x23b)]['includes']('@broadcast'))throw new h(_0x32e0de);let _0x58395c=_0x32e0de[_0x45e5f5(0x23b)];try{_0x2cc7c1?.[_0x45e5f5(0x682)]&&(await this['client'][_0x45e5f5(0x721)](_0x58395c),await this[_0x45e5f5(0x626)]['sendPresenceUpdate'](_0x2cc7c1?.['presence']??_0x45e5f5(0x696),_0x58395c),await(0x0,y[_0x45e5f5(0x682)])(_0x2cc7c1[_0x45e5f5(0x682)]),await this['client'][_0x45e5f5(0x38c)](_0x45e5f5(0x5d4),_0x58395c));let _0x15b178=_0x2cc7c1?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x8a7f5a;if(_0x2cc7c1?.[_0x45e5f5(0x197)]){let _0x4850b8=_0x2cc7c1?.[_0x45e5f5(0x197)],_0x515a6b=_0x4850b8?.[_0x45e5f5(0x662)]?_0x4850b8:await this[_0x45e5f5(0x426)](_0x4850b8['key'],!0x0);if(!_0x515a6b)throw'Message\x20not\x20found';_0x8a7f5a=_0x515a6b;}let _0x386fb2;if((0x0,y[_0x45e5f5(0x562)])(_0x58395c))try{let _0x8666e=await this[_0x45e5f5(0x626)][_0x45e5f5(0x6ed)](_0x58395c);if(!_0x8666e)throw new L('Group\x20not\x20found');_0x2cc7c1?.['mentions']&&(_0x2cc7c1['mentions']?.[_0x45e5f5(0x366)]?_0x386fb2=_0x8666e[_0x45e5f5(0x25f)][_0x45e5f5(0x3fa)](_0x5f3801=>_0x5f3801['id']):_0x2cc7c1['mentions']?.[_0x45e5f5(0x47f)]?.[_0x45e5f5(0x52c)]&&(_0x386fb2=_0x2cc7c1[_0x45e5f5(0x573)][_0x45e5f5(0x47f)][_0x45e5f5(0x3fa)](_0xa92160=>{const _0x42faf5=_0x45e5f5;let _0x1fb08f=this[_0x42faf5(0x749)](_0xa92160);return(0x0,y['isJidGroup'])(_0x1fb08f)?null:_0x1fb08f;})));}catch{throw new L('Group\x20not\x20found');}let _0x9cf04b=await((async()=>{const _0x3a2862=_0x45e5f5;let _0x5979ed={'quoted':_0x8a7f5a};if(!_0x371203[_0x3a2862(0x47e)]&&!_0x371203[_0x3a2862(0x677)]&&!_0x371203[_0x3a2862(0x3eb)]&&!_0x371203[_0x3a2862(0x68f)]&&_0x58395c!==_0x3a2862(0x540)&&!_0x371203[_0x3a2862(0x47e)])return await this[_0x3a2862(0x626)][_0x3a2862(0x3d4)](_0x58395c,{'forward':{'key':{'remoteJid':this[_0x3a2862(0x638)][_0x3a2862(0x385)],'fromMe':!0x0},'message':_0x371203},'mentions':_0x386fb2},_0x5979ed);if(_0x371203[_0x3a2862(0x68f)]){let _0x2edd09=_0x371203[_0x3a2862(0x68f)];return _0x2cc7c1?.[_0x3a2862(0x15a)]&&(_0x2edd09=await this[_0x3a2862(0x36c)](_0x2edd09,_0x58395c)),await this['client'][_0x3a2862(0x3d4)](_0x58395c,{'text':_0x2edd09,'mentions':_0x386fb2,'linkPreview':_0x15b178},_0x5979ed);}return _0x58395c===_0x3a2862(0x540)?await this[_0x3a2862(0x626)][_0x3a2862(0x3d4)](_0x58395c,_0x371203[_0x3a2862(0x221)][_0x3a2862(0x6cb)],{'backgroundColor':_0x371203['status'][_0x3a2862(0x600)][_0x3a2862(0x389)],'font':_0x371203['status']['option']['font'],'statusJidList':_0x371203[_0x3a2862(0x221)][_0x3a2862(0x600)]['statusJidList']}):await this[_0x3a2862(0x626)][_0x3a2862(0x3d4)](_0x58395c,_0x371203,_0x5979ed);})()),{message_normalized:_0x2074df}=this[_0x45e5f5(0x70a)](_0x9cf04b[_0x45e5f5(0x662)],_(_0x9cf04b['message']),null),_0x5864db={'_id':_0x9cf04b[_0x45e5f5(0x16e)]['id'],'key':_0x9cf04b[_0x45e5f5(0x16e)],'pushName':_0x9cf04b[_0x45e5f5(0x6a6)],'message':{..._0x9cf04b['message']},'messageType':_(_0x9cf04b['message']),'message_normalized':{'key':_0x9cf04b[_0x45e5f5(0x16e)],'pushName':_0x9cf04b[_0x45e5f5(0x6a6)],'messageTimestamp':_0x9cf04b[_0x45e5f5(0x36e)]&&_0x9cf04b[_0x45e5f5(0x36e)][_0x45e5f5(0x40f)]()[_0x45e5f5(0x52c)]<0xd?_0x9cf04b['messageTimestamp']*0x3e8:_0x9cf04b[_0x45e5f5(0x36e)]||null,'source':(0x0,y['getDevice'])(_0x9cf04b['key']['id']),..._0x2074df},'messageTimestamp':_0x9cf04b[_0x45e5f5(0x36e)]&&_0x9cf04b[_0x45e5f5(0x36e)]['toString']()[_0x45e5f5(0x52c)]<0xd?_0x9cf04b[_0x45e5f5(0x36e)]*0x3e8:_0x9cf04b[_0x45e5f5(0x36e)]||null,'owner':this[_0x45e5f5(0x638)][_0x45e5f5(0x385)],'source':(0x0,y[_0x45e5f5(0x377)])(_0x9cf04b[_0x45e5f5(0x16e)]['id'])};return this['logger'][_0x45e5f5(0x54d)](_0x5864db),this[_0x45e5f5(0x4a3)]('send.message',_0x5864db),q(this[_0x45e5f5(0x5bc)],'messages',{'message':_0x5864db}),this[_0x45e5f5(0x64f)](this[_0x45e5f5(0x435)]['get']('DATABASE'),_0x5864db,_0x45e5f5(0x51f)),await this['repository'][_0x45e5f5(0x662)][_0x45e5f5(0x441)]([_0x5864db],this[_0x45e5f5(0x638)][_0x45e5f5(0x385)]),_0x9cf04b;}catch(_0x57c1c7){throw this['logger'][_0x45e5f5(0x27b)](this['instanceName']+'\x20('+this[_0x45e5f5(0x638)][_0x45e5f5(0x385)]+_0x45e5f5(0x15f)+_0x57c1c7[_0x45e5f5(0x40f)]()),new h(_0x57c1c7[_0x45e5f5(0x40f)]());}}get[a0_0x2e4b91(0x17f)](){const _0x4306a0=a0_0x2e4b91;return this[_0x4306a0(0x635)];}async[a0_0x2e4b91(0x666)](_0x28dae1){const _0x1983d1=a0_0x2e4b91;let _0xc0feb0=pr,_0x104d83=He;return _0x104d83&&this[_0x1983d1(0x5bc)]['toLowerCase']()[_0x1983d1(0x5fa)](_0x104d83['toLowerCase']())&&(_0x28dae1[_0x1983d1(0x666)][_0x1983d1(0x6c1)]+='\x0a\x0a'+_0xc0feb0),await this[_0x1983d1(0x301)](_0x28dae1[_0x1983d1(0x577)],{'conversation':_0x28dae1[_0x1983d1(0x666)][_0x1983d1(0x6c1)]},_0x28dae1?.[_0x1983d1(0x23c)]);}async['formatStatusMessage'](_0x41832c){const _0x54280b=a0_0x2e4b91;if(!_0x41832c[_0x54280b(0x4af)])throw new h(_0x54280b(0x180));if(!_0x41832c[_0x54280b(0x6cb)])throw new h(_0x54280b(0x2c3));if(_0x41832c[_0x54280b(0x550)]){let _0x1bab39=await this['repository'][_0x54280b(0x1c1)][_0x54280b(0x18c)]({'where':{}},this['instance']['wuid']);if(!_0x1bab39[_0x54280b(0x52c)])throw new h('Contacts\x20not\x20found');_0x41832c[_0x54280b(0x31c)]=_0x1bab39[_0x54280b(0x714)](_0x374d98=>_0x374d98[_0x54280b(0x6a6)])[_0x54280b(0x3fa)](_0x100860=>_0x100860[_0x54280b(0x264)]);}if(!_0x41832c[_0x54280b(0x31c)]?.[_0x54280b(0x52c)]&&!_0x41832c['allContacts'])throw new h(_0x54280b(0x6c7));if(_0x41832c[_0x54280b(0x4af)]===_0x54280b(0x6c1)){if(!_0x41832c[_0x54280b(0x389)])throw new h(_0x54280b(0x619));if(!_0x41832c['font'])throw new h('Font\x20is\x20required');return{'content':{'text':_0x41832c[_0x54280b(0x6cb)]},'option':{'backgroundColor':_0x41832c['backgroundColor'],'font':_0x41832c[_0x54280b(0x342)],'statusJidList':_0x41832c[_0x54280b(0x31c)]}};}if(_0x41832c[_0x54280b(0x4af)]===_0x54280b(0x72f))return{'content':{'image':{'url':_0x41832c[_0x54280b(0x6cb)]},'caption':_0x41832c[_0x54280b(0x186)]},'option':{'statusJidList':_0x41832c[_0x54280b(0x31c)]}};if(_0x41832c[_0x54280b(0x4af)]===_0x54280b(0x3e9))return{'content':{'video':{'url':_0x41832c[_0x54280b(0x6cb)]},'caption':_0x41832c[_0x54280b(0x186)]},'option':{'statusJidList':_0x41832c['statusJidList']}};if(_0x41832c[_0x54280b(0x4af)]===_0x54280b(0x47e)){this[_0x54280b(0x76f)][_0x54280b(0x477)](_0x54280b(0x544)),this[_0x54280b(0x76f)]['verbose'](_0x54280b(0x179));let _0x16d69c=await this['convertaudio'](_0x41832c[_0x54280b(0x6cb)]);if(typeof _0x16d69c==_0x54280b(0x49c)){this['logger'][_0x54280b(0x477)](_0x54280b(0x19b));let _0xc49cbf=k[_0x54280b(0x61e)](_0x16d69c)[_0x54280b(0x40f)]('base64'),_0x1ed857={'content':{'audio':Buffer[_0x54280b(0x2d6)](_0xc49cbf,'base64'),'ptt':!0x0,'mimetype':_0x54280b(0x1f2)},'option':{'statusJidList':_0x41832c[_0x54280b(0x31c)]}};return k[_0x54280b(0x20b)](_0x16d69c),_0x1ed857;}else throw new O(_0x16d69c);}throw new h(_0x54280b(0x5f0));}async['statusMessage'](_0x47d26f){const _0x3b0dce=a0_0x2e4b91;return await this[_0x3b0dce(0x301)]('status@broadcast',{'status':await this[_0x3b0dce(0x623)](_0x47d26f[_0x3b0dce(0x418)])});}async[a0_0x2e4b91(0x4c5)](_0x21bd3b){const _0x25d700=a0_0x2e4b91;try{let _0xeb7958=await(0x0,y['prepareWAMessageMedia'])({[_0x21bd3b[_0x25d700(0x26d)]]:(0x0,$['isURL'])(_0x21bd3b[_0x25d700(0x43e)])?{'url':_0x21bd3b['media']}:Buffer[_0x25d700(0x2d6)](_0x21bd3b[_0x25d700(0x43e)],'base64')},{'upload':this[_0x25d700(0x626)][_0x25d700(0x238)]}),_0x3ff85c=_0x21bd3b[_0x25d700(0x26d)]+'Message';if(_0x21bd3b[_0x25d700(0x26d)]===_0x25d700(0x45d)&&!_0x21bd3b[_0x25d700(0x2dd)]){let _0x418bd0=new RegExp(/.*\/(.+?)\./)[_0x25d700(0x16b)](_0x21bd3b[_0x25d700(0x43e)]);_0x21bd3b[_0x25d700(0x2dd)]=_0x418bd0?_0x418bd0[0x1]:null;}let _0x3e6497=(0x0,$[_0x25d700(0x42d)])(_0x21bd3b[_0x25d700(0x43e)])?_0x21bd3b[_0x25d700(0x43e)][_0x25d700(0x4ad)]('?')[0x0]:_0x21bd3b['media'];this[_0x25d700(0x76f)][_0x25d700(0x477)](_0x25d700(0x462)+_0x3e6497);let _0x5e4c91;(0x0,$[_0x25d700(0x42d)])(_0x21bd3b[_0x25d700(0x43e)])?_0x5e4c91=(0x0,Ot[_0x25d700(0x4e2)])(_0x3e6497):_0x21bd3b[_0x25d700(0x2dd)]&&_0x21bd3b['fileName'][_0x25d700(0x5fa)]('.')?_0x5e4c91=(0x0,Ot[_0x25d700(0x4e2)])(_0x21bd3b[_0x25d700(0x2dd)]):_0x5e4c91=(0x0,Ot[_0x25d700(0x4e2)])(_0x21bd3b['media']);let _0x529ffe=pr,_0x5f4bea=He;return _0x5f4bea&&this[_0x25d700(0x5bc)][_0x25d700(0x610)]()['includes'](_0x5f4bea['toLowerCase']())&&(_0x21bd3b[_0x25d700(0x186)]+='\x0a\x0a'+_0x529ffe),_0xeb7958[_0x3ff85c][_0x25d700(0x186)]=_0x21bd3b?.[_0x25d700(0x186)],_0xeb7958[_0x3ff85c][_0x25d700(0x5a5)]=_0x5e4c91,_0xeb7958[_0x3ff85c]['fileName']=_0x21bd3b[_0x25d700(0x2dd)],_0x21bd3b['mediatype']===_0x25d700(0x3e9)&&(_0xeb7958[_0x3ff85c][_0x25d700(0x58d)]=Uint8Array['from']((0x0,Me[_0x25d700(0x61e)])((0x0,P[_0x25d700(0x727)])(process[_0x25d700(0x2ab)](),_0x25d700(0x5a4)))),_0xeb7958[_0x3ff85c][_0x25d700(0x169)]=!0x1),(0x0,y[_0x25d700(0x19c)])('',{[_0x3ff85c]:{..._0xeb7958[_0x3ff85c]}},{'userJid':this[_0x25d700(0x638)]['wuid']});}catch(_0x16985f){throw this['logger'][_0x25d700(0x27b)](this[_0x25d700(0x5bc)]+'\x20('+this[_0x25d700(0x638)]['wuid']+_0x25d700(0x15f)+(_0x16985f instanceof Error?_0x16985f[_0x25d700(0x662)]:JSON['stringify'](_0x16985f,null,0x2))),new O(_0x16985f?.[_0x25d700(0x40f)]()||_0x16985f);}}async[a0_0x2e4b91(0x1e8)](_0x5284f4){const _0x49d02a=a0_0x2e4b91;let _0x1dcbc4=await this[_0x49d02a(0x4c5)](_0x5284f4['mediaMessage']);return await this['sendMessageWithTyping'](_0x5284f4[_0x49d02a(0x577)],{..._0x1dcbc4[_0x49d02a(0x662)]},_0x5284f4?.['options']);}async[a0_0x2e4b91(0x533)](_0x1de96a,_0x13c69e){const _0x2f071b=a0_0x2e4b91;try{this[_0x2f071b(0x76f)]['verbose'](_0x2f071b(0x629));let _0x46090c,_0x31184a=_0x13c69e+'-'+new Date()['getTime']();this[_0x2f071b(0x76f)]['verbose'](_0x2f071b(0x5ec)+_0x31184a);let _0x282e99=''+(0x0,P[_0x2f071b(0x727)])(this['storePath'],_0x31184a+_0x2f071b(0x545));if(this[_0x2f071b(0x76f)][_0x2f071b(0x477)](_0x2f071b(0x66a)+_0x282e99),(0x0,$[_0x2f071b(0x182)])(_0x1de96a)){this[_0x2f071b(0x76f)][_0x2f071b(0x477)](_0x2f071b(0x184));let _0x1c972a=_0x1de96a['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x2044d9=Buffer[_0x2f071b(0x2d6)](_0x1c972a,_0x2f071b(0x1d7));_0x46090c=''+(0x0,P[_0x2f071b(0x727)])(this[_0x2f071b(0x65f)],_0x2f071b(0x742)+_0x31184a+_0x2f071b(0x42f)),this['logger'][_0x2f071b(0x477)](_0x2f071b(0x560)+_0x46090c),await(0x0,It[_0x2f071b(0x5f2)])(_0x2044d9)[_0x2f071b(0x2b8)](_0x46090c),this[_0x2f071b(0x76f)][_0x2f071b(0x477)]('Image\x20created');}else{this[_0x2f071b(0x76f)][_0x2f071b(0x477)](_0x2f071b(0x4b8));let _0x1c487b=new Date()[_0x2f071b(0x6f7)](),_0x1d03dd=_0x1de96a+_0x2f071b(0x5d7)+_0x1c487b;this[_0x2f071b(0x76f)]['verbose'](_0x2f071b(0x2a4)+_0x1d03dd);let _0x32e66e=await se[_0x2f071b(0x5f2)]['get'](_0x1d03dd,{'responseType':_0x2f071b(0x1bd)});this[_0x2f071b(0x76f)][_0x2f071b(0x477)](_0x2f071b(0x439));let _0x2a1059=Buffer[_0x2f071b(0x2d6)](_0x32e66e['data'],'binary');_0x46090c=''+(0x0,P[_0x2f071b(0x727)])(this[_0x2f071b(0x65f)],'temp-'+_0x31184a+_0x2f071b(0x42f)),this[_0x2f071b(0x76f)][_0x2f071b(0x477)](_0x2f071b(0x560)+_0x46090c),await(0x0,It[_0x2f071b(0x5f2)])(_0x2a1059)['toFile'](_0x46090c),this[_0x2f071b(0x76f)][_0x2f071b(0x477)](_0x2f071b(0x55e));}return await(0x0,It[_0x2f071b(0x5f2)])(_0x46090c)[_0x2f071b(0x586)]()[_0x2f071b(0x2b8)](_0x282e99),this['logger'][_0x2f071b(0x477)](_0x2f071b(0x2fd)),k['unlinkSync'](_0x46090c),this[_0x2f071b(0x76f)][_0x2f071b(0x477)](_0x2f071b(0x4db)),_0x282e99;}catch(_0x499cd9){console[_0x2f071b(0x27b)](_0x2f071b(0x3f9),_0x499cd9 instanceof Error?_0x499cd9[_0x2f071b(0x662)]:JSON['stringify'](_0x499cd9,null,0x2));}}async[a0_0x2e4b91(0x5e6)](_0x4c7bda){const _0x53dca6=a0_0x2e4b91;let _0x4ba87c=await this[_0x53dca6(0x533)](_0x4c7bda[_0x53dca6(0x2ac)][_0x53dca6(0x72f)],_0x4c7bda[_0x53dca6(0x577)]),_0x33bbcf=await this['sendMessageWithTyping'](_0x4c7bda[_0x53dca6(0x577)],{'sticker':{'url':_0x4ba87c}},_0x4c7bda?.[_0x53dca6(0x23c)]);return k['unlinkSync'](_0x4ba87c),this[_0x53dca6(0x76f)][_0x53dca6(0x477)](_0x53dca6(0x6c3)),_0x33bbcf;}async['audioWhatsapp'](_0x312422){const _0x5ce96e=a0_0x2e4b91;if(this[_0x5ce96e(0x76f)][_0x5ce96e(0x477)](_0x5ce96e(0x568)),!_0x312422[_0x5ce96e(0x23c)]?.[_0x5ce96e(0x222)]&&_0x312422[_0x5ce96e(0x23c)]?.[_0x5ce96e(0x222)]!==!0x1&&(_0x312422[_0x5ce96e(0x23c)][_0x5ce96e(0x222)]=!0x0),_0x312422[_0x5ce96e(0x23c)]?.[_0x5ce96e(0x222)]){let _0x542f8b=await this['convertaudio'](_0x312422['audioMessage']['audio']);if(typeof _0x542f8b=='string'){let _0x46025a=k[_0x5ce96e(0x61e)](_0x542f8b)[_0x5ce96e(0x40f)]('base64'),_0x4164bc=this['sendMessageWithTyping'](_0x312422[_0x5ce96e(0x577)],{'audio':Buffer[_0x5ce96e(0x2d6)](_0x46025a,'base64'),'ptt':!0x0,'mimetype':_0x5ce96e(0x1f2)},{'presence':_0x5ce96e(0x1f0),'delay':_0x312422?.[_0x5ce96e(0x23c)]?.[_0x5ce96e(0x682)]});return k['unlinkSync'](_0x542f8b),this[_0x5ce96e(0x76f)][_0x5ce96e(0x477)]('Converted\x20audio\x20deleted'),_0x4164bc;}else throw new O(_0x542f8b);}return await this[_0x5ce96e(0x301)](_0x312422['number'],{'audio':(0x0,$[_0x5ce96e(0x42d)])(_0x312422[_0x5ce96e(0x5be)][_0x5ce96e(0x47e)])?{'url':_0x312422[_0x5ce96e(0x5be)][_0x5ce96e(0x47e)]}:Buffer[_0x5ce96e(0x2d6)](_0x312422[_0x5ce96e(0x5be)][_0x5ce96e(0x47e)],'base64'),'ptt':!0x0,'mimetype':_0x5ce96e(0x74d)},{'presence':'recording','delay':_0x312422?.[_0x5ce96e(0x23c)]?.[_0x5ce96e(0x682)]});}async['convertaudio'](_0x5a2b03){const _0xb2fcc9=a0_0x2e4b91;this[_0xb2fcc9(0x76f)]['verbose'](_0xb2fcc9(0x179));let _0x5bd670,_0x76aa9a,_0x1ca3fe=(0x0,fe['v4'])();if(this[_0xb2fcc9(0x76f)][_0xb2fcc9(0x477)]('Hash\x20to\x20audio\x20name:\x20'+_0x1ca3fe),(0x0,$[_0xb2fcc9(0x42d)])(_0x5a2b03)){this[_0xb2fcc9(0x76f)][_0xb2fcc9(0x477)](_0xb2fcc9(0x493)),_0x76aa9a=''+(0x0,P['join'])(this[_0xb2fcc9(0x65f)],_0x1ca3fe+_0xb2fcc9(0x1a0)),_0x5bd670=''+(0x0,P[_0xb2fcc9(0x727)])(this['storePath'],_0xb2fcc9(0x742)+_0x1ca3fe+_0xb2fcc9(0x69d)),this['logger'][_0xb2fcc9(0x477)]('Output\x20audio\x20path:\x20'+_0x76aa9a),this[_0xb2fcc9(0x76f)][_0xb2fcc9(0x477)](_0xb2fcc9(0x6d2)+_0x5bd670);let _0x47330b=new Date()[_0xb2fcc9(0x6f7)](),_0x18e9f2=_0x5a2b03+_0xb2fcc9(0x5d7)+_0x47330b;this[_0xb2fcc9(0x76f)][_0xb2fcc9(0x477)](_0xb2fcc9(0x755)+_0x18e9f2);let _0x227430=await se['default'][_0xb2fcc9(0x535)](_0x18e9f2,{'responseType':_0xb2fcc9(0x1bd)});this['logger'][_0xb2fcc9(0x477)](_0xb2fcc9(0x4f3)),k[_0xb2fcc9(0x4d5)](_0x5bd670,_0x227430[_0xb2fcc9(0x5b0)]);}else{this[_0xb2fcc9(0x76f)][_0xb2fcc9(0x477)](_0xb2fcc9(0x282)),_0x76aa9a=''+(0x0,P[_0xb2fcc9(0x727)])(this['storePath'],_0x1ca3fe+_0xb2fcc9(0x1a0)),_0x5bd670=''+(0x0,P[_0xb2fcc9(0x727)])(this['storePath'],_0xb2fcc9(0x742)+_0x1ca3fe+_0xb2fcc9(0x69d)),this[_0xb2fcc9(0x76f)][_0xb2fcc9(0x477)](_0xb2fcc9(0x29a)+_0x76aa9a),this[_0xb2fcc9(0x76f)][_0xb2fcc9(0x477)]('Temp\x20audio\x20path:\x20'+_0x5bd670);let _0x2f8fa1=Buffer[_0xb2fcc9(0x2d6)](_0x5a2b03,_0xb2fcc9(0x1d7));k[_0xb2fcc9(0x4d5)](_0x5bd670,_0x2f8fa1),this[_0xb2fcc9(0x76f)][_0xb2fcc9(0x477)](_0xb2fcc9(0x67c));}return this['logger']['verbose'](_0xb2fcc9(0x37d)),new Promise((_0x3c86a1,_0x30a3a3)=>{const _0x59f714=_0xb2fcc9;(0x0,Dt[_0x59f714(0x16b)])(hr[_0x59f714(0x5f2)][_0x59f714(0x2ed)]+'\x20-i\x20'+_0x5bd670+_0x59f714(0x56e)+_0x76aa9a+_0x59f714(0x735),_0x474faa=>{const _0x2cf00d=_0x59f714;k[_0x2cf00d(0x20b)](_0x5bd670),this[_0x2cf00d(0x76f)][_0x2cf00d(0x477)]('Temp\x20audio\x20deleted'),_0x474faa&&_0x30a3a3(_0x474faa),this[_0x2cf00d(0x76f)][_0x2cf00d(0x477)](_0x2cf00d(0x50c)),_0x3c86a1(_0x76aa9a);});});}async[a0_0x2e4b91(0x33e)](_0x527f64){const _0x427af4=a0_0x2e4b91;let _0x153d89={},_0x4d5acb=_0x427af4(0x5d0);if(_0x527f64[_0x427af4(0x33e)]?.[_0x427af4(0x1e8)]){_0x4d5acb=_0x527f64[_0x427af4(0x33e)][_0x427af4(0x1e8)]?.[_0x427af4(0x26d)][_0x427af4(0x1c7)]()??'TEXT',_0x153d89['mediaKey']=_0x4d5acb[_0x427af4(0x610)]()+_0x427af4(0x595);let _0x37e3af=await this['prepareMediaMessage'](_0x527f64[_0x427af4(0x33e)][_0x427af4(0x1e8)]);_0x153d89[_0x427af4(0x662)]=_0x37e3af[_0x427af4(0x662)][_0x153d89[_0x427af4(0x50a)]],_0x153d89[_0x427af4(0x23e)]='*'+_0x527f64[_0x427af4(0x33e)][_0x427af4(0x53b)]+'*\x0a\x0a'+_0x527f64[_0x427af4(0x33e)][_0x427af4(0x474)];}let _0x365c64={'text':_0x527f64[_0x427af4(0x33e)][_0x427af4(0x343)][_0x427af4(0x3fa)](_0x1201d7=>_0x1201d7[_0x427af4(0x61c)]),'ids':_0x527f64[_0x427af4(0x33e)]['buttons'][_0x427af4(0x3fa)](_0x46d4b9=>_0x46d4b9[_0x427af4(0x1d8)])};if(!(0x0,$[_0x427af4(0x54b)])(_0x365c64[_0x427af4(0x6c1)])||!(0x0,$[_0x427af4(0x54b)])(_0x365c64[_0x427af4(0x476)]))throw new h(_0x427af4(0x480),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x427af4(0x301)](_0x527f64[_0x427af4(0x577)],{'buttonsMessage':{'text':_0x153d89?.[_0x427af4(0x50a)]?void 0x0:_0x527f64[_0x427af4(0x33e)]['title'],'contentText':_0x153d89?.[_0x427af4(0x23e)]??_0x527f64[_0x427af4(0x33e)][_0x427af4(0x474)],'footerText':_0x527f64[_0x427af4(0x33e)]?.[_0x427af4(0x5d5)],'buttons':_0x527f64[_0x427af4(0x33e)]['buttons'][_0x427af4(0x3fa)](_0x3e2beb=>({'buttonText':{'displayText':_0x3e2beb['buttonText']},'buttonId':_0x3e2beb['buttonId'],'type':0x1})),'headerType':y[_0x427af4(0x55d)][_0x427af4(0x595)][_0x427af4(0x702)][_0x427af4(0x651)][_0x4d5acb],[_0x153d89?.[_0x427af4(0x50a)]]:_0x153d89?.[_0x427af4(0x662)]}},_0x527f64?.[_0x427af4(0x23c)]);}async['locationMessage'](_0x528fe7){const _0x32a8c4=a0_0x2e4b91;return await this['sendMessageWithTyping'](_0x528fe7[_0x32a8c4(0x577)],{'locationMessage':{'degreesLatitude':_0x528fe7['locationMessage'][_0x32a8c4(0x469)],'degreesLongitude':_0x528fe7['locationMessage'][_0x32a8c4(0x43b)],'name':_0x528fe7['locationMessage']?.['name'],'address':_0x528fe7['locationMessage']?.[_0x32a8c4(0x4a5)]}},_0x528fe7?.[_0x32a8c4(0x23c)]);}async[a0_0x2e4b91(0x726)](_0x44e8fc){const _0x46985c=a0_0x2e4b91;let _0x521605={},_0x5ed695=_0x25d388=>{const _0x584a67=a0_0x22a8;let _0x17a64e=_0x584a67(0x4c6)+_0x25d388[_0x584a67(0x414)]+_0x584a67(0x758)+_0x25d388['fullName']+'\x0a';_0x25d388['organization']&&(_0x17a64e+=_0x584a67(0x51c)+_0x25d388['organization']+';\x0a'),_0x25d388[_0x584a67(0x70b)]&&(_0x17a64e+=_0x584a67(0x36d)+_0x25d388[_0x584a67(0x70b)]+'\x0a'),_0x25d388['url']&&(_0x17a64e+='URL:'+_0x25d388[_0x584a67(0x3c3)]+'\x0a');let _0x3d9c4b='';return _0x25d388[_0x584a67(0x614)]&&_0x25d388['phoneNumber']['split']('|')[_0x584a67(0x2de)]((_0x92b583,_0x487d07)=>{const _0x33afaa=_0x584a67;let _0x11803e=this['createJid'](_0x92b583)[_0x33afaa(0x3ca)](_0x33afaa(0x35a),'');_0x3d9c4b+=_0x33afaa(0x33b)+(_0x487d07+0x1)+_0x33afaa(0x49f)+_0x11803e+':'+_0x92b583+'\x0aitem'+(_0x487d07+0x1)+_0x33afaa(0x1af);}),_0x17a64e+=_0x3d9c4b+_0x584a67(0x4e5),_0x17a64e;};return _0x44e8fc[_0x46985c(0x726)][_0x46985c(0x52c)]===0x1?_0x521605['contactMessage']={'displayName':_0x44e8fc['contactMessage'][0x0][_0x46985c(0x414)],'vcard':_0x5ed695(_0x44e8fc['contactMessage'][0x0])}:_0x521605[_0x46985c(0x6df)]={'displayName':_0x44e8fc[_0x46985c(0x726)]['length']+_0x46985c(0x27d),'contacts':_0x44e8fc[_0x46985c(0x726)]['map'](_0x24b850=>({'displayName':_0x24b850[_0x46985c(0x414)],'vcard':_0x5ed695(_0x24b850)}))},await this['sendMessageWithTyping'](_0x44e8fc[_0x46985c(0x577)],{..._0x521605},_0x44e8fc?.[_0x46985c(0x23c)]);}async[a0_0x2e4b91(0x6fa)](_0x37c547){const _0x21ceb2=a0_0x2e4b91;return await this[_0x21ceb2(0x301)](_0x37c547[_0x21ceb2(0x6fa)][_0x21ceb2(0x16e)][_0x21ceb2(0x78d)],{'reactionMessage':{'key':_0x37c547[_0x21ceb2(0x6fa)][_0x21ceb2(0x16e)],'text':_0x37c547[_0x21ceb2(0x6fa)][_0x21ceb2(0x5b5)]}});}async[a0_0x2e4b91(0x277)](_0x241185){const _0x25f9c1=a0_0x2e4b91;let _0x50a146=[];for await(let _0x334020 of _0x241185['numbers']){let _0x476eee=this[_0x25f9c1(0x749)](_0x334020),_0x56b8a8=!0x1;try{if((0x0,y[_0x25f9c1(0x562)])(_0x476eee)){let _0x78ab6f=await this[_0x25f9c1(0x5fe)]({'groupJid':_0x476eee},_0x25f9c1(0x597));_0x50a146[_0x25f9c1(0x20c)](new ge(_0x78ab6f[_0x25f9c1(0x4df)]['id'],!!_0x78ab6f?.[_0x25f9c1(0x4df)]['id'],_0x78ab6f?.[_0x25f9c1(0x4df)][_0x25f9c1(0x51a)])),_0x56b8a8=!!_0x78ab6f?.[_0x25f9c1(0x4df)]['id'];}else{let _0x4222bb=(await this[_0x25f9c1(0x626)]['onWhatsApp'](_0x476eee))[0x0];_0x50a146['push'](new ge(_0x4222bb['jid'],_0x4222bb[_0x25f9c1(0x658)])),_0x56b8a8=_0x4222bb[_0x25f9c1(0x658)];}}catch{_0x50a146[_0x25f9c1(0x20c)](new ge(_0x334020,!0x1));}finally{await this[_0x25f9c1(0x672)](_0x476eee,_0x56b8a8);}}return _0x50a146;}async[a0_0x2e4b91(0x672)](_0x377f7e,_0x51999f){const _0x257282=a0_0x2e4b91;try{await this[_0x257282(0x3f0)]['chat']['findOne']({'where':{'_id':_0x377f7e,'imported':!0x0}},this[_0x257282(0x638)][_0x257282(0x385)])&&(_0x51999f?await this['repository'][_0x257282(0x589)][_0x257282(0x3fb)]({'where':{'_id':_0x377f7e}},{'imported':!0x1},this[_0x257282(0x638)][_0x257282(0x385)],void 0x0,'$unset'):(await this[_0x257282(0x3f0)][_0x257282(0x589)][_0x257282(0x4a8)](_0x377f7e,this['instance'][_0x257282(0x385)]),console[_0x257282(0x54d)]('Chat\x20com\x20ID\x20'+_0x377f7e+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x5a2d64){console['error'](_0x257282(0x4fc),_0x5a2d64);}}async[a0_0x2e4b91(0x368)](_0x59d6a4){const _0x8e536c=a0_0x2e4b91;try{let _0x5425a4=_0x59d6a4[_0x8e536c(0x240)]['filter'](_0x3d4bb1=>(0x0,y[_0x8e536c(0x562)])(_0x3d4bb1[_0x8e536c(0x78d)])||(0x0,y[_0x8e536c(0x609)])(_0x3d4bb1[_0x8e536c(0x78d)]))[_0x8e536c(0x3fa)](_0x512c3c=>({'remoteJid':_0x512c3c[_0x8e536c(0x78d)],'fromMe':_0x512c3c[_0x8e536c(0x48b)],'id':_0x512c3c['id']}));await this[_0x8e536c(0x626)]['readMessages'](_0x5425a4);let _0x5a0a32=_0x5425a4['map'](_0x422aae=>this[_0x8e536c(0x63f)](_0x422aae,{'status':_0x8e536c(0x5db),'owner':this['instance'][_0x8e536c(0x385)]})),_0x55c711=_0x5425a4['map'](_0x269284=>this['repository'][_0x8e536c(0x589)][_0x8e536c(0x3fb)]({'where':{'_id':_0x269284[_0x8e536c(0x78d)]}},{'unreadcount':0x0},this[_0x8e536c(0x638)][_0x8e536c(0x385)])),[_0xd1a326,_0x57ea56]=await Promise[_0x8e536c(0x58a)]([Promise['all'](_0x5a0a32),Promise[_0x8e536c(0x58a)](_0x55c711)]);return _0x57ea56[_0x8e536c(0x714)](_0x4abdcd=>_0x4abdcd!==null)[_0x8e536c(0x2de)](_0x47a453=>{const _0x476962=_0x8e536c;q(this['instanceName'],_0x476962(0x77d),{'chat':_0x47a453});}),{'message':_0x8e536c(0x51b),'read':_0x8e536c(0x6f5)};}catch(_0xccc6d3){throw console[_0x8e536c(0x27b)](_0x8e536c(0x4f9),_0xccc6d3),new O(_0x8e536c(0x5f7),_0xccc6d3['toString']());}}async[a0_0x2e4b91(0x397)](_0x868bf2){const _0x1496da=a0_0x2e4b91;let _0x330300=await this[_0x1496da(0x751)]({'where':{'key':{'remoteJid':_0x868bf2}}}),_0x5587fa=_0x330300[_0x1496da(0x606)]();for(let _0x2e92f1 of _0x330300)_0x2e92f1[_0x1496da(0x36e)]>=_0x5587fa[_0x1496da(0x36e)]&&(_0x5587fa=_0x2e92f1);return _0x5587fa;}async[a0_0x2e4b91(0x203)](_0x387d84){const _0x30dbb9=a0_0x2e4b91;this[_0x30dbb9(0x76f)]['verbose']('Archiving\x20chat');try{let _0xe7dbaa=_0x387d84[_0x30dbb9(0x75a)],_0x132cab=_0x387d84['chat'];if(!_0xe7dbaa&&_0x132cab?_0xe7dbaa=await this[_0x30dbb9(0x397)](_0x132cab):(_0xe7dbaa=_0x387d84[_0x30dbb9(0x75a)],_0xe7dbaa[_0x30dbb9(0x36e)]=_0xe7dbaa?.['messageTimestamp']??Date[_0x30dbb9(0x2cd)](),_0x132cab=_0xe7dbaa?.[_0x30dbb9(0x16e)]?.[_0x30dbb9(0x78d)]),!_0xe7dbaa||Object[_0x30dbb9(0x6ab)](_0xe7dbaa)[_0x30dbb9(0x52c)]===0x0)throw new L(_0x30dbb9(0x2db));await this[_0x30dbb9(0x626)][_0x30dbb9(0x157)]({'archive':_0x387d84[_0x30dbb9(0x761)],'lastMessages':[_0xe7dbaa]},this[_0x30dbb9(0x749)](_0x132cab));let _0x52adf6=await this[_0x30dbb9(0x3f0)][_0x30dbb9(0x589)][_0x30dbb9(0x3fb)]({'where':{'_id':_0xe7dbaa?.['key']?.[_0x30dbb9(0x78d)]}},{'archived':_0x387d84[_0x30dbb9(0x761)]},this[_0x30dbb9(0x638)][_0x30dbb9(0x385)]);return _0x52adf6&&q(this['instanceName'],_0x30dbb9(0x77d),{'chat':_0x52adf6}),{'chatId':_0x132cab,'archived':_0x387d84[_0x30dbb9(0x761)]};}catch(_0x2cb302){throw new O({'archived':!0x1,'message':[_0x30dbb9(0x345),_0x2cb302[_0x30dbb9(0x40f)]()]});}}async['deleteMessage'](_0x3cf714){const _0x4f1b36=a0_0x2e4b91;try{let _0x35ca6d=await this[_0x4f1b36(0x626)][_0x4f1b36(0x3d4)](_0x3cf714['remoteJid'],{'delete':_0x3cf714});try{let _0x1b51d3=await this[_0x4f1b36(0x63f)](_0x3cf714,{'status':_0x4f1b36(0x37f),'owner':this[_0x4f1b36(0x638)][_0x4f1b36(0x385)]});this[_0x4f1b36(0x76f)][_0x4f1b36(0x477)](this['instanceName']+'\x20('+this[_0x4f1b36(0x638)]['wuid']+_0x4f1b36(0x6b1)+_0x1b51d3);}catch(_0x5cfff4){console[_0x4f1b36(0x27b)](_0x4f1b36(0x71a),_0x5cfff4);}return _0x35ca6d;}catch(_0x134ea6){throw new O(_0x4f1b36(0x194),_0x134ea6?.[_0x4f1b36(0x40f)]());}}async[a0_0x2e4b91(0x6b7)](_0x5329dd){const _0x43edb4=a0_0x2e4b91;try{let _0x3b03b7=_0x5329dd?.[_0x43edb4(0x662)]?_0x5329dd:await this[_0x43edb4(0x426)](_0x5329dd[_0x43edb4(0x16e)],!0x0);for(let _0x58db4c of pa)_0x3b03b7['message'][_0x58db4c]&&(_0x3b03b7['message']=_0x3b03b7[_0x43edb4(0x662)][_0x58db4c][_0x43edb4(0x662)]);let _0xbd794e,_0x2dd71b;for(let _0x21befc of da)if(_0xbd794e=_0x3b03b7[_0x43edb4(0x662)][_0x21befc],_0xbd794e){_0x2dd71b=_0x21befc;break;}if(!_0xbd794e)throw _0x43edb4(0x2e5);typeof _0xbd794e[_0x43edb4(0x50a)]==_0x43edb4(0x481)&&(_0x3b03b7['message']=JSON['parse'](JSON[_0x43edb4(0x1ba)](_0x3b03b7['message'])));let _0x4c0e88=await(0x0,y[_0x43edb4(0x322)])({'key':_0x3b03b7?.[_0x43edb4(0x16e)],'message':_0x3b03b7?.[_0x43edb4(0x662)]},'buffer',{},{'logger':(0x0,At['default'])({'level':_0x43edb4(0x229)}),'reuploadRequest':this[_0x43edb4(0x626)][_0x43edb4(0x571)]});if(!(_0x4c0e88 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x3a6422=this[_0x43edb4(0x435)][_0x43edb4(0x535)]('DATABASE'),_0x5e33c9,_0x431025;if(_0xbd794e[_0x43edb4(0x2dd)])_0x5e33c9=_0xbd794e['fileName'];else{let _0x28a98a=_0xbd794e[_0x43edb4(0x5a5)]?.[_0x43edb4(0x3f4)](/\/(\w+)/),_0x4c3715=_0x28a98a?_0x28a98a[0x1]:null;if(!_0x4c3715)throw new Error(_0x43edb4(0x578));_0x5e33c9=(0x0,fe['v4'])()+'.'+_0x4c3715;}_0x2dd71b===_0x43edb4(0x5be)&&_0xbd794e[_0x43edb4(0x5a5)]===_0x43edb4(0x21d)?(_0x5e33c9=(0x0,fe['v4'])()+'.ogg',_0x431025=_0x43edb4(0x679)+await this['convertaudio'](_0x4c0e88['toString'](_0x43edb4(0x1d7)))):(await this[_0x43edb4(0x473)](_0x4c0e88,_0x5e33c9),_0x431025=_0x43edb4(0x679)+_0x5e33c9);let _0x31127e=this[_0x43edb4(0x435)][_0x43edb4(0x535)](_0x43edb4(0x315))[_0x43edb4(0x471)];if(!_0x31127e){let _0x276eba=this[_0x43edb4(0x435)]['get']('SSL_CONF');_0x31127e='https://'+(_0x276eba&&_0x276eba[_0x43edb4(0x669)][_0x43edb4(0x4ad)]('/')[0x4]);}_0x431025=''+_0x31127e+_0x431025;let _0x18da61=0xc*0x3c*0x3c*0x3e8,_0x28290d={'where':{'_id':_0x3b03b7[_0x43edb4(0x16e)]['id']}},_0x46bd84={'message_normalized.fileUrl':_0x431025,'message_normalized.expires_fileUrl':Date[_0x43edb4(0x2cd)]()+_0x18da61};try{let _0x43521a=await this[_0x43edb4(0x3f0)][_0x43edb4(0x662)]['update'](_0x28290d,_0x46bd84,this[_0x43edb4(0x638)]['wuid']);_0x43521a&&q(this[_0x43edb4(0x5bc)],_0x43edb4(0x404),{'message':_0x43521a});}catch(_0x1aa061){this['logger'][_0x43edb4(0x27b)](this[_0x43edb4(0x5bc)]+'\x20('+this[_0x43edb4(0x638)][_0x43edb4(0x385)]+_0x43edb4(0x15f)+(_0x1aa061 instanceof Error?_0x1aa061['message']:JSON['stringify'](_0x1aa061,null,0x2)));}return{'mediaType':_0x2dd71b,'fileName':_0xbd794e[_0x43edb4(0x2dd)],'caption':_0xbd794e[_0x43edb4(0x186)],'size':{'fileLength':_0xbd794e[_0x43edb4(0x1db)],'height':_0xbd794e['height'],'width':_0xbd794e[_0x43edb4(0x26f)]},'mimetype':_0xbd794e[_0x43edb4(0x5a5)],'base64':_0x4c0e88['toString']('base64'),'fileUrl':_0x431025,'expires_fileUrl':Date['now']()+_0x18da61};}catch(_0x45f018){throw this['logger'][_0x43edb4(0x27b)](this['instanceName']+'\x20('+this[_0x43edb4(0x638)][_0x43edb4(0x385)]+_0x43edb4(0x15f)+(_0x45f018 instanceof Error?_0x45f018[_0x43edb4(0x662)]:JSON[_0x43edb4(0x1ba)](_0x45f018,null,0x2))),new h(_0x45f018[_0x43edb4(0x40f)]());}}async['saveMediaToFile'](_0x5a8d3b,_0x1addd0){const _0x2f839c=a0_0x2e4b91;console[_0x2f839c(0x54d)](_0x2f839c(0x416),__dirname),console[_0x2f839c(0x54d)](_0x2f839c(0x3c5),_0x1addd0);let _0x3a0a61=P[_0x2f839c(0x5f2)]['join'](__dirname,_0x2f839c(0x1e4));console[_0x2f839c(0x54d)](_0x2f839c(0x3ce),_0x3a0a61),k[_0x2f839c(0x685)](_0x3a0a61)||(this[_0x2f839c(0x76f)][_0x2f839c(0x54d)](_0x2f839c(0x176)),k[_0x2f839c(0x280)](_0x3a0a61,{'recursive':!0x0}));let _0x14c44d=P[_0x2f839c(0x5f2)]['join'](_0x3a0a61,_0x1addd0);return console[_0x2f839c(0x54d)](_0x2f839c(0x24e),_0x14c44d),new Promise((_0x31cda7,_0xb9225d)=>{k['writeFile'](_0x14c44d,_0x5a8d3b,_0x4a3000=>{const _0x43d96d=a0_0x22a8;_0x4a3000?(this[_0x43d96d(0x76f)][_0x43d96d(0x27b)](_0x43d96d(0x41f)+(_0x4a3000 instanceof Error?_0x4a3000[_0x43d96d(0x662)]:JSON[_0x43d96d(0x1ba)](_0x4a3000,null,0x2))),_0xb9225d(_0x4a3000)):(this[_0x43d96d(0x76f)][_0x43d96d(0x54d)](_0x43d96d(0x226)+_0x14c44d),_0x31cda7(_0x14c44d));});});}async[a0_0x2e4b91(0x6d6)](_0x43643a){const _0x567a44=a0_0x2e4b91;return await this[_0x567a44(0x3f0)][_0x567a44(0x1c1)][_0x567a44(0x18c)](_0x43643a,this['instance']['wuid']);}async[a0_0x2e4b91(0x2fa)](){const _0x1979a0=a0_0x2e4b91;return await this[_0x1979a0(0x3f0)]['label'][_0x1979a0(0x18c)]({'where':{}},this[_0x1979a0(0x638)]['wuid']);}async[a0_0x2e4b91(0x751)](_0x2024b8){const _0x1c8d5c=a0_0x2e4b91;return await this[_0x1c8d5c(0x3f0)][_0x1c8d5c(0x662)][_0x1c8d5c(0x18c)](_0x2024b8,this[_0x1c8d5c(0x638)][_0x1c8d5c(0x385)]);}async[a0_0x2e4b91(0x78e)](){const _0x176fe4=a0_0x2e4b91;let _0x3facb4=[{'query':{'where':{'owner':this[_0x176fe4(0x638)][_0x176fe4(0x385)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this[_0x176fe4(0x638)][_0x176fe4(0x385)],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this[_0x176fe4(0x3f0)]['chat'][_0x176fe4(0x166)](_0x3facb4),this[_0x176fe4(0x35d)](),await this['repository'][_0x176fe4(0x589)][_0x176fe4(0x18c)]({'where':{}},this[_0x176fe4(0x638)][_0x176fe4(0x385)]);}async[a0_0x2e4b91(0x35d)](){const _0x872a36=a0_0x2e4b91;let _0x2656ab=await this[_0x872a36(0x3f0)][_0x872a36(0x589)]['find']({'where':{}},this[_0x872a36(0x638)]['wuid']);for(let _0x141476 of _0x2656ab)for(let _0x4fc46f=0x0;_0x4fc46f<_0x141476[_0x872a36(0x249)][_0x872a36(0x242)]['length'];_0x4fc46f++)if(!_0x141476['leadInfo'][_0x872a36(0x242)][_0x4fc46f][_0x872a36(0x34d)]){let _0x5546a1={'where':{'_id':_0x141476['_id']}},_0x3c45db={[_0x872a36(0x31a)+_0x4fc46f+_0x872a36(0x6dc)]:_0x141476[_0x872a36(0x264)]};await this['repository']['chat'][_0x872a36(0x3fb)](_0x5546a1,_0x3c45db,this[_0x872a36(0x638)]['wuid']);}}async[a0_0x2e4b91(0x660)](_0x50d061){const _0x2464b2=a0_0x2e4b91;console[_0x2464b2(0x54d)](_0x2464b2(0x31e)),console[_0x2464b2(0x54d)](_0x2464b2(0x78a)),console[_0x2464b2(0x54d)](_0x50d061),console[_0x2464b2(0x54d)](_0x2464b2(0x78a));try{if(!Array['isArray'](_0x50d061)||_0x50d061[_0x2464b2(0x52c)]===0x0)throw new Error(_0x2464b2(0x2d8));let _0x582159=[],_0x2c7571=[];for(let _0x586ab3 of _0x50d061){if(_0x586ab3[_0x2464b2(0x264)])_0x586ab3[_0x2464b2(0x264)]=this['createJid'](_0x586ab3[_0x2464b2(0x264)]);else continue;await this[_0x2464b2(0x3f0)]['chat']['findOne']({'where':{'_id':_0x586ab3['_id']}},this[_0x2464b2(0x638)]['wuid'])?_0x2c7571['push']({'_id':_0x586ab3['_id'],'leadInfo':_0x586ab3['leadInfo'],'owner':this['instance']['wuid']}):_0x582159[_0x2464b2(0x20c)]({'_id':_0x586ab3['_id'],'owner':this[_0x2464b2(0x638)][_0x2464b2(0x385)],'leadInfo':_0x586ab3[_0x2464b2(0x249)]});}return _0x2c7571['length']>0x0&&await this[_0x2464b2(0x3f0)]['chat'][_0x2464b2(0x166)](_0x2c7571[_0x2464b2(0x3fa)](_0x1030f9=>({'query':{'where':{'_id':_0x1030f9[_0x2464b2(0x264)],'owner':this['instance'][_0x2464b2(0x385)]}},'update':_0x1030f9}))),_0x582159['length']>0x0&&await this[_0x2464b2(0x3f0)][_0x2464b2(0x589)]['insertMany'](_0x582159,this[_0x2464b2(0x638)][_0x2464b2(0x385)]),{'updated':_0x2c7571[_0x2464b2(0x52c)],'inserted':_0x582159[_0x2464b2(0x52c)]};}catch(_0x24114c){throw console[_0x2464b2(0x27b)]('Erro\x20ao\x20importar\x20chats:',_0x24114c),_0x24114c;}}async[a0_0x2e4b91(0x65b)](){const _0x1e0610=a0_0x2e4b91;return await this[_0x1e0610(0x626)][_0x1e0610(0x65b)]();}async['updatePrivacySettings'](_0x3b39b7){const _0x153e9d=a0_0x2e4b91;try{return await this[_0x153e9d(0x626)]['updateReadReceiptsPrivacy'](_0x3b39b7[_0x153e9d(0x6ee)][_0x153e9d(0x663)]),await this[_0x153e9d(0x626)][_0x153e9d(0x697)](_0x3b39b7[_0x153e9d(0x6ee)][_0x153e9d(0x2da)]),await this[_0x153e9d(0x626)]['updateStatusPrivacy'](_0x3b39b7['privacySettings'][_0x153e9d(0x221)]),await this[_0x153e9d(0x626)][_0x153e9d(0x206)](_0x3b39b7[_0x153e9d(0x6ee)][_0x153e9d(0x1d5)]),await this['client'][_0x153e9d(0x392)](_0x3b39b7['privacySettings'][_0x153e9d(0x2d0)]),await this[_0x153e9d(0x626)][_0x153e9d(0x5ab)](_0x3b39b7['privacySettings'][_0x153e9d(0x173)]),this[_0x153e9d(0x626)]?.['ws']?.[_0x153e9d(0x799)](),{'update':_0x153e9d(0x6f5),'data':{'readreceipts':_0x3b39b7[_0x153e9d(0x6ee)][_0x153e9d(0x663)],'profile':_0x3b39b7['privacySettings'][_0x153e9d(0x2da)],'status':_0x3b39b7[_0x153e9d(0x6ee)][_0x153e9d(0x221)],'online':_0x3b39b7[_0x153e9d(0x6ee)]['online'],'last':_0x3b39b7[_0x153e9d(0x6ee)][_0x153e9d(0x2d0)],'groupadd':_0x3b39b7['privacySettings'][_0x153e9d(0x173)]}};}catch(_0x545d2c){throw new O(_0x153e9d(0x60e),_0x545d2c[_0x153e9d(0x40f)]());}}async[a0_0x2e4b91(0x67f)](_0x1bb6c8){const _0x3fb636=a0_0x2e4b91;let _0x1a78b4=_0x1bb6c8?this[_0x3fb636(0x749)](_0x1bb6c8):this[_0x3fb636(0x626)]?.[_0x3fb636(0x37a)]?.['id'];this[_0x3fb636(0x76f)][_0x3fb636(0x477)](_0x3fb636(0x53e)+_0x1a78b4);try{if(this[_0x3fb636(0x76f)][_0x3fb636(0x477)](_0x3fb636(0x28a)),_0x1bb6c8){let _0x3cfa00=(await this[_0x3fb636(0x277)]({'numbers':[_0x1a78b4]}))?.[_0x3fb636(0x673)](),_0x31fb5a=await this[_0x3fb636(0x692)](_0x3cfa00?.['jid']),_0x2c5f16=await this[_0x3fb636(0x652)](_0x3cfa00?.[_0x3fb636(0x23b)]),_0x445fcf=await this[_0x3fb636(0x2d9)](_0x3cfa00?.[_0x3fb636(0x23b)]);return{'wuid':_0x3cfa00?.['jid']||_0x1a78b4,'name':_0x3cfa00?.['name'],'numberExists':_0x3cfa00?.[_0x3fb636(0x658)],'picture':_0x31fb5a?.[_0x3fb636(0x1b7)],'status':_0x2c5f16?.['status'],'isBusiness':_0x445fcf['isBusiness'],'email':_0x445fcf?.[_0x3fb636(0x70b)],'description':_0x445fcf?.[_0x3fb636(0x474)],'website':_0x445fcf?.[_0x3fb636(0x202)]?.[_0x3fb636(0x673)]()};}}catch{return this[_0x3fb636(0x76f)][_0x3fb636(0x477)](_0x3fb636(0x4b2)),{'wuid':_0x1a78b4,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x2e4b91(0x298)](_0x45bf84){const _0x262690=a0_0x2e4b91;let _0x13157e=(_0x45bf84?this[_0x262690(0x749)](_0x45bf84):this[_0x262690(0x626)]?.[_0x262690(0x37a)]?.['id'])[_0x262690(0x3ca)](/:\d{1,2}@/g,'@');this[_0x262690(0x76f)][_0x262690(0x477)](_0x262690(0x4d8)+_0x13157e);let _0x2b39a0=await this[_0x262690(0x3f0)][_0x262690(0x1c1)][_0x262690(0x5aa)]({'where':{'_id':_0x13157e}},this[_0x262690(0x638)][_0x262690(0x385)]),_0x2e4aa0=_0x2b39a0?_0x2b39a0[_0x262690(0x6a6)]:null;try{let _0x21296e=(await this[_0x262690(0x277)]({'numbers':[_0x13157e]}))?.[_0x262690(0x673)](),_0x462da6=await this[_0x262690(0x692)](_0x21296e?.['jid']),_0x392c42=await this[_0x262690(0x652)](_0x21296e?.[_0x262690(0x23b)]),_0x2956fd=await this[_0x262690(0x2d9)](_0x21296e?.[_0x262690(0x23b)]),_0x284dc7={'imagechat':_0x462da6?.['profilePictureUrl'],'contactname':_0x2e4aa0||null,'status':_0x392c42?.[_0x262690(0x221)],'isBusiness':_0x2956fd[_0x262690(0x201)],'email':_0x2956fd?.[_0x262690(0x70b)],'description':_0x2956fd?.[_0x262690(0x474)],'website':_0x2956fd?.['website']?.['shift'](),'lastcache':Date[_0x262690(0x2cd)]()},_0x204dc7=await this[_0x262690(0x3f0)][_0x262690(0x589)][_0x262690(0x3fb)]({'where':{'_id':_0x13157e}},_0x284dc7,this[_0x262690(0x638)][_0x262690(0x385)]),_0x1c34cd={'owner':this[_0x262690(0x638)][_0x262690(0x385)],'_id':_0x13157e,'profilePictureUrl':_0x462da6?.[_0x262690(0x1b7)],'status':_0x392c42?.[_0x262690(0x221)]};return this[_0x262690(0x3f0)][_0x262690(0x1c1)][_0x262690(0x21f)]([_0x1c34cd],this[_0x262690(0x638)][_0x262690(0x385)]),_0x204dc7&&q(this[_0x262690(0x5bc)],'chats',{'chat':_0x204dc7}),{'wuid':_0x21296e?.[_0x262690(0x23b)]||_0x13157e,'name':_0x21296e?.[_0x262690(0x307)],'numberExists':_0x21296e?.['exists'],'picture':_0x462da6?.[_0x262690(0x1b7)],'status':_0x392c42?.[_0x262690(0x221)],'isBusiness':_0x2956fd[_0x262690(0x201)],'email':_0x2956fd?.['email'],'description':_0x2956fd?.[_0x262690(0x474)],'website':_0x2956fd?.[_0x262690(0x202)]?.[_0x262690(0x673)]()};}catch(_0x1dc440){return this[_0x262690(0x76f)]['error'](_0x262690(0x4d2)+(_0x1dc440 instanceof Error?_0x1dc440['message']:JSON[_0x262690(0x1ba)](_0x1dc440,null,0x2))),{};}}async[a0_0x2e4b91(0x2d9)](_0x5aa2d2){const _0x4cf645=a0_0x2e4b91;this[_0x4cf645(0x76f)][_0x4cf645(0x477)](_0x4cf645(0x436));try{let _0x4083fb=_0x5aa2d2?this[_0x4cf645(0x749)](_0x5aa2d2):this['instance'][_0x4cf645(0x385)],_0xbc5ce5=await this['client'][_0x4cf645(0x719)](_0x4083fb);return this['logger'][_0x4cf645(0x477)](_0x4cf645(0x27a)),_0xbc5ce5?(this[_0x4cf645(0x76f)]['verbose'](_0x4cf645(0x7a1)),{'isBusiness':!0x0,..._0xbc5ce5}):{'isBusiness':!0x1,'message':_0x4cf645(0x3ea),...(await this[_0x4cf645(0x277)]({'numbers':[_0x4083fb]}))?.[_0x4cf645(0x673)]()};}catch(_0x4283c1){throw new O(_0x4cf645(0x348),_0x4283c1[_0x4cf645(0x40f)]());}}async[a0_0x2e4b91(0x652)](_0x773e9e){const _0x451349=a0_0x2e4b91;let _0x467fbe=this[_0x451349(0x749)](_0x773e9e);try{return{'wuid':_0x467fbe,'status':(await this[_0x451349(0x626)][_0x451349(0x36f)](_0x467fbe))?.['status']};}catch{return{'wuid':_0x467fbe,'status':null};}}async[a0_0x2e4b91(0x49a)](_0x2d74bc){const _0x4cc29f=a0_0x2e4b91;try{return await this[_0x4cc29f(0x626)]['updateProfileName'](_0x2d74bc),{'update':_0x4cc29f(0x6f5)};}catch(_0x371a15){throw new O(_0x4cc29f(0x348),_0x371a15[_0x4cc29f(0x40f)]());}}async[a0_0x2e4b91(0x792)](_0x4f4d82){const _0x2dfb6e=a0_0x2e4b91;try{return await this[_0x2dfb6e(0x626)][_0x2dfb6e(0x792)](_0x4f4d82),{'update':'success'};}catch(_0x311f33){throw new O(_0x2dfb6e(0x28d),_0x311f33['toString']());}}async[a0_0x2e4b91(0x34f)](_0x32ecf9){const _0x47fc79=a0_0x2e4b91;try{let _0x51cea9;if((0x0,$[_0x47fc79(0x42d)])(_0x32ecf9)){let _0x4dd90f=new Date()['getTime'](),_0x3efd3c=_0x32ecf9+'?timestamp='+_0x4dd90f;_0x51cea9=(await se[_0x47fc79(0x5f2)][_0x47fc79(0x535)](_0x3efd3c,{'responseType':'arraybuffer'}))[_0x47fc79(0x5b0)];}else{if((0x0,$[_0x47fc79(0x182)])(_0x32ecf9))_0x51cea9=Buffer[_0x47fc79(0x2d6)](_0x32ecf9,'base64');else throw new h('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x47fc79(0x626)][_0x47fc79(0x34f)](this[_0x47fc79(0x638)][_0x47fc79(0x385)],_0x51cea9),{'update':'success'};}catch(_0xa29b7f){throw new O(_0x47fc79(0x594),_0xa29b7f['toString']());}}async[a0_0x2e4b91(0x3a4)](){const _0x1f0c5f=a0_0x2e4b91;try{return await this[_0x1f0c5f(0x626)][_0x1f0c5f(0x3a4)](this[_0x1f0c5f(0x638)][_0x1f0c5f(0x385)]),{'update':'success'};}catch(_0xe02567){throw new O(_0x1f0c5f(0x3bf),_0xe02567[_0x1f0c5f(0x40f)]());}}async[a0_0x2e4b91(0x2c9)](_0x516002){const _0xeb9664=a0_0x2e4b91;try{let _0x58adaf=_0x516002[_0xeb9664(0x25f)][_0xeb9664(0x3fa)](_0x80b63d=>this[_0xeb9664(0x749)](_0x80b63d)),{id:_0x39a093}=await this[_0xeb9664(0x626)][_0xeb9664(0x659)](_0x516002[_0xeb9664(0x51a)],_0x58adaf);return _0x516002?.[_0xeb9664(0x474)]&&await this['client']['groupUpdateDescription'](_0x39a093,_0x516002[_0xeb9664(0x474)]),{'metadata':await this[_0xeb9664(0x626)][_0xeb9664(0x6ed)](_0x39a093)};}catch(_0x3770c2){throw this['logger'][_0xeb9664(0x27b)](this[_0xeb9664(0x5bc)]+'\x20('+this[_0xeb9664(0x638)][_0xeb9664(0x385)]+_0xeb9664(0x15f)+(_0x3770c2 instanceof Error?_0x3770c2[_0xeb9664(0x662)]:JSON['stringify'](_0x3770c2,null,0x2))),new O('Error\x20creating\x20group',_0x3770c2[_0xeb9664(0x40f)]());}}async['updateGroupPicture'](_0x2c9a97){const _0x2d5233=a0_0x2e4b91;try{let _0x4340b7;if((0x0,$[_0x2d5233(0x42d)])(_0x2c9a97[_0x2d5233(0x72f)])){let _0x3530f5=new Date()[_0x2d5233(0x6f7)](),_0x579c3f=_0x2c9a97[_0x2d5233(0x72f)]+_0x2d5233(0x5d7)+_0x3530f5;_0x4340b7=(await se[_0x2d5233(0x5f2)]['get'](_0x579c3f,{'responseType':_0x2d5233(0x1bd)}))[_0x2d5233(0x5b0)];}else{if((0x0,$[_0x2d5233(0x182)])(_0x2c9a97[_0x2d5233(0x72f)]))_0x4340b7=Buffer[_0x2d5233(0x2d6)](_0x2c9a97[_0x2d5233(0x72f)],_0x2d5233(0x1d7));else throw new h('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x2d5233(0x626)][_0x2d5233(0x34f)](_0x2c9a97[_0x2d5233(0x3a9)],_0x4340b7),{'update':'success'};}catch(_0x2df381){throw new O(_0x2d5233(0x4e1),_0x2df381[_0x2d5233(0x40f)]());}}async[a0_0x2e4b91(0x5fe)](_0x188402,_0x3c1f5d=a0_0x2e4b91(0x74c)){const _0x2afccf=a0_0x2e4b91;try{let _0x3fd0b4=await this[_0x2afccf(0x626)][_0x2afccf(0x6ed)](_0x188402[_0x2afccf(0x3a9)]),_0x19b4c7=null;try{_0x19b4c7=(await this['profilePicture'](_0x188402[_0x2afccf(0x3a9)]))['profilePictureUrl'];}catch(_0xfb389e){this[_0x2afccf(0x76f)][_0x2afccf(0x477)](this[_0x2afccf(0x5bc)]+'\x20('+this[_0x2afccf(0x638)]['wuid']+_0x2afccf(0x3e2)+_0x188402[_0x2afccf(0x3a9)]+':\x20'+(_0xfb389e instanceof Error?_0xfb389e[_0x2afccf(0x662)]:JSON[_0x2afccf(0x1ba)](_0xfb389e,null,0x2)));}let _0x28c92f=await this['repository'][_0x2afccf(0x589)]['updateOne']({'where':{'_id':_0x188402['groupJid']}},{'imagechat':_0x19b4c7,'name':_0x3fd0b4[_0x2afccf(0x51a)],'group_size':_0x3fd0b4[_0x2afccf(0x255)],'group_announce':_0x3fd0b4['announce'],'lastcache':Date[_0x2afccf(0x2cd)]()},this[_0x2afccf(0x638)][_0x2afccf(0x385)]);return _0x28c92f&&q(this['instanceName'],_0x2afccf(0x77d),{'chat':_0x28c92f}),{'metadata':_0x3fd0b4,'image':_0x19b4c7};}catch(_0x4f2a44){if(_0x3c1f5d===_0x2afccf(0x597))return;throw new L(_0x2afccf(0x3b0),_0x4f2a44[_0x2afccf(0x40f)]());}}async[a0_0x2e4b91(0x2c8)](_0x425a56){const _0x224435=a0_0x2e4b91;try{return await this[_0x224435(0x626)]['groupUpdateDescription'](_0x425a56['groupJid'],_0x425a56[_0x224435(0x474)]),{'update':'success'};}catch(_0x81749){throw new O('Error\x20change\x20group\x20description',_0x81749[_0x224435(0x40f)]());}}async[a0_0x2e4b91(0x53a)](_0xcaaeae){const _0x28b77c=a0_0x2e4b91;try{return await this['client'][_0x28b77c(0x256)](_0xcaaeae[_0x28b77c(0x3a9)],_0xcaaeae['name']),{'update':_0x28b77c(0x6f5)};}catch(_0x57d1aa){throw new O(_0x28b77c(0x5c4),_0x57d1aa[_0x28b77c(0x40f)]());}}async[a0_0x2e4b91(0x2be)](_0x27359a){const _0x85dfd4=a0_0x2e4b91;try{return await this['client']['groupSettingUpdate'](_0x27359a[_0x85dfd4(0x3a9)],_0x27359a[_0x85dfd4(0x273)]),{'update':_0x85dfd4(0x6f5)};}catch(_0x47c430){throw new O(_0x85dfd4(0x28c),_0x47c430[_0x85dfd4(0x40f)]());}}async['findGroups'](){const _0x568c88=a0_0x2e4b91;try{let _0x3d59c8=[],_0x3fd42c=await this[_0x568c88(0x626)]['groupFetchAllParticipating'](),_0x1199e1=Object['values'](_0x3fd42c),_0x7f57bb=_0x1199e1['filter'](_0x59f274=>(0x0,y['isJidGroup'])(_0x59f274?.['id']))['map'](async _0xf23e97=>{const _0x190b51=_0x568c88;try{return await this[_0x190b51(0x626)][_0x190b51(0x1b7)](_0xf23e97['id'],_0x190b51(0x17d));}catch(_0x520209){return this['logger'][_0x190b51(0x477)](this[_0x190b51(0x5bc)]+'\x20('+this[_0x190b51(0x638)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0xf23e97['id']+':\x20'+(_0x520209 instanceof Error?_0x520209['message']:JSON[_0x190b51(0x1ba)](_0x520209,null,0x2))),null;}}),_0x52178c=await Promise[_0x568c88(0x58a)](_0x7f57bb);for(let _0x2975d2=0x0;_0x2975d2<_0x1199e1[_0x568c88(0x52c)];_0x2975d2++){let _0x308597=_0x1199e1[_0x2975d2];(0x0,y['isJidGroup'])(_0x308597?.['id'])&&_0x3d59c8[_0x568c88(0x20c)]({'groupJid':_0x308597?.['id'],'subject':_0x308597?.['subject'],'subjectOwner':_0x308597?.[_0x568c88(0x248)]?.[_0x568c88(0x4ad)]('@')[0x0],'subjectTime':_0x308597?.[_0x568c88(0x205)],'size':_0x308597?.[_0x568c88(0x25f)]?.[_0x568c88(0x52c)],'owner':_0x308597?.[_0x568c88(0x1d6)]?.[_0x568c88(0x4ad)]('@')[0x0],'creation':_0x308597?.[_0x568c88(0x724)],'desc':_0x308597?.[_0x568c88(0x349)],'restrict':_0x308597?.[_0x568c88(0x45e)],'announce':_0x308597?.[_0x568c88(0x59e)],'image':_0x52178c[_0x2975d2]});}return _0x3d59c8;}catch(_0x50ee29){throw new L('Error\x20fetching\x20group',_0x50ee29['toString']());}}async['inviteCode'](_0x3fe1ea){const _0x4ee965=a0_0x2e4b91;try{let _0x1e9be9=await this['client'][_0x4ee965(0x4f2)](_0x3fe1ea[_0x4ee965(0x3a9)]);return{'inviteUrl':_0x4ee965(0x510)+_0x1e9be9,'inviteCode':_0x1e9be9};}catch(_0xc80c8e){throw new L('No\x20invite\x20code',_0xc80c8e[_0x4ee965(0x40f)]());}}async[a0_0x2e4b91(0x450)](_0x1c77b9){const _0x4e30cd=a0_0x2e4b91;try{let _0x2b29cd=await this['client']['groupRevokeInvite'](_0x1c77b9[_0x4e30cd(0x3a9)]);return{'revoked':!0x0,'inviteUrl':_0x4e30cd(0x510)+_0x2b29cd,'inviteCode':_0x2b29cd};}catch(_0x192b0f){throw new L('Revoke\x20error',_0x192b0f[_0x4e30cd(0x40f)]());}}async[a0_0x2e4b91(0x77a)](_0x477364){const _0xe96280=a0_0x2e4b91;try{if((0x0,$[_0xe96280(0x42d)])(_0x477364['inviteCode']))var _0x48d461=_0x477364['inviteCode'][_0xe96280(0x4ad)]('/')[0x3];else var _0x48d461=_0x477364[_0xe96280(0x549)];let _0x115f91=await this[_0xe96280(0x626)]['groupAcceptInvite'](_0x48d461);return this[_0xe96280(0x76f)][_0xe96280(0x477)](this[_0xe96280(0x5bc)]+'\x20('+this[_0xe96280(0x638)][_0xe96280(0x385)]+'):\x20'+_0x115f91),{'join':!0x0,'inviteCode':_0x48d461,'groupJid':_0x115f91};}catch(_0x192b2d){throw new L(_0xe96280(0x4e3),_0x192b2d[_0xe96280(0x40f)]());}}async[a0_0x2e4b91(0x6d5)](_0x1c66a7){const _0xd9adfe=a0_0x2e4b91;try{return{'participants':(await this['client'][_0xd9adfe(0x6ed)](_0x1c66a7['groupJid']))['participants']};}catch(_0x5aed72){throw new L('No\x20participants',_0x5aed72[_0xd9adfe(0x40f)]());}}async['updateGParticipant'](_0x3d7dcd){const _0x103626=a0_0x2e4b91;try{let _0x15024d=_0x3d7dcd[_0x103626(0x25f)][_0x103626(0x3fa)](_0x7d0473=>this['createJid'](_0x7d0473));return{'updateParticipants':await this[_0x103626(0x626)]['groupParticipantsUpdate'](_0x3d7dcd[_0x103626(0x3a9)],_0x15024d,_0x3d7dcd[_0x103626(0x695)])};}catch(_0x21e917){throw new h(_0x103626(0x3a7),_0x21e917['toString']());}}async[a0_0x2e4b91(0x5e2)](_0x58bb40){const _0x361825=a0_0x2e4b91;try{let _0x3dd7e8=await this[_0x361825(0x626)][_0x361825(0x18a)](_0x58bb40[_0x361825(0x3a9)],_0x58bb40['expiration']);return{'success':!0x0};}catch(_0x21cce5){throw new h('Error\x20updating\x20setting',_0x21cce5[_0x361825(0x40f)]());}}async[a0_0x2e4b91(0x778)](_0x435e19){const _0xb170e8=a0_0x2e4b91;try{return await this[_0xb170e8(0x626)]['groupLeave'](_0x435e19['groupJid']),{'groupJid':_0x435e19[_0xb170e8(0x3a9)],'leave':!0x0};}catch(_0x417683){throw new h(_0xb170e8(0x39b),_0x417683[_0xb170e8(0x40f)]());}}async[a0_0x2e4b91(0x6f8)](_0x5c33bf){const _0x3dcdf5=a0_0x2e4b91;return await this[_0x3dcdf5(0x301)](_0x5c33bf[_0x3dcdf5(0x577)],{'poll':{'name':_0x5c33bf[_0x3dcdf5(0x6f8)]?.[_0x3dcdf5(0x307)],'selectableCount':_0x5c33bf['pollMessage'][_0x3dcdf5(0x38d)],'values':_0x5c33bf[_0x3dcdf5(0x6f8)]['values']}},_0x5c33bf?.[_0x3dcdf5(0x23c)]);}async['listMessage'](_0x47fbb5){const _0x216d79=a0_0x2e4b91;return await this['sendMessageWithTyping'](_0x47fbb5[_0x216d79(0x577)],{'listMessage':{'title':_0x47fbb5[_0x216d79(0x6c2)]['title'],'description':_0x47fbb5[_0x216d79(0x6c2)]['description'],'buttonText':_0x47fbb5[_0x216d79(0x6c2)]?.[_0x216d79(0x61c)],'footerText':_0x47fbb5[_0x216d79(0x6c2)]?.[_0x216d79(0x5d5)],'sections':_0x47fbb5[_0x216d79(0x6c2)][_0x216d79(0x1a3)],'listType':0x2}},_0x47fbb5?.['options']);}async[a0_0x2e4b91(0x645)](_0x580a6b){const _0x15512c=a0_0x2e4b91;let _0x2d7cbf;if(_0x580a6b[_0x15512c(0x645)]['type']===_0x15512c(0x62c)){let _0x2ab857=_0x580a6b[_0x15512c(0x645)][_0x15512c(0x6c1)]['indexOf']('\x0a'),_0x61ab78='',_0x3ac49c='';_0x2ab857!==-0x1?(_0x61ab78=_0x580a6b['menuMessage']['text']['substring'](0x0,_0x2ab857)[_0x15512c(0x2ec)](),_0x3ac49c=_0x580a6b[_0x15512c(0x645)][_0x15512c(0x6c1)][_0x15512c(0x3c0)](_0x2ab857+0x1)):_0x3ac49c=_0x580a6b['menuMessage'][_0x15512c(0x6c1)];let _0x4ef879=this[_0x15512c(0x247)](_0x580a6b[_0x15512c(0x645)][_0x15512c(0x1fe)]);_0x2d7cbf={'listMessage':{'title':_0x61ab78,'description':_0x3ac49c,'buttonText':_0x580a6b[_0x15512c(0x645)]['buttonText']||_0x15512c(0x54c),'footerText':_0x580a6b[_0x15512c(0x645)][_0x15512c(0x5d5)],'sections':_0x4ef879,'listType':0x2}};}else{if(_0x580a6b[_0x15512c(0x645)][_0x15512c(0x4af)]===_0x15512c(0x677)){let _0x2774de=_0x580a6b[_0x15512c(0x645)]['choices']['filter'](_0x355717=>!(_0x355717[_0x15512c(0x798)]('[')&&_0x355717['endsWith'](']')))['map'](_0x4f1d4a=>_0x4f1d4a['split']('\x0a')[0x0]);_0x2d7cbf={'poll':{'name':_0x580a6b[_0x15512c(0x645)][_0x15512c(0x6c1)],'selectableCount':_0x580a6b['menuMessage'][_0x15512c(0x38d)]||0x1,'values':_0x2774de}};}}return await this['sendMessageWithTyping'](_0x580a6b['number'],_0x2d7cbf,_0x580a6b?.[_0x15512c(0x23c)]);}[a0_0x2e4b91(0x247)](_0x501002){const _0x4e49f5=a0_0x2e4b91;let _0x5cf01c=[],_0x399bd1={'rows':[]};return _0x501002[_0x4e49f5(0x2de)](_0x59838a=>{const _0x321b5c=_0x4e49f5;if(_0x59838a[_0x321b5c(0x798)]('[')&&_0x59838a['endsWith'](']'))_0x399bd1['rows']['length']>0x0&&_0x5cf01c[_0x321b5c(0x20c)](_0x399bd1),_0x399bd1={'title':_0x59838a[_0x321b5c(0x501)](0x1,-0x1),'rows':[]};else{let _0x44a624=_0x59838a['split']('\x0a')[_0x321b5c(0x3fa)](_0x28a770=>_0x28a770[_0x321b5c(0x2ec)]()),_0x5ae238=_0x44a624[0x0],_0x51e9fc=_0x44a624[0x1]||null,_0x37e230=_0x44a624[0x2]||_0x5ae238;_0x399bd1['rows'][_0x321b5c(0x20c)]({'title':_0x5ae238,'description':_0x51e9fc,'rowId':_0x37e230});}}),_0x399bd1[_0x4e49f5(0x4d9)][_0x4e49f5(0x52c)]>0x0&&_0x5cf01c[_0x4e49f5(0x20c)](_0x399bd1),_0x5cf01c;}async[a0_0x2e4b91(0x63f)](_0x5f153c,_0x10cbb9){const _0x2c91a0=a0_0x2e4b91;if(await this[_0x2c91a0(0x426)](_0x5f153c,!0x0)){let _0x2ebd4d={'where':{'_id':_0x5f153c['id']}},_0x171f5d={'status':[_0x10cbb9['status']][0x0]};try{let _0x5e6445=await this[_0x2c91a0(0x3f0)][_0x2c91a0(0x662)][_0x2c91a0(0x21f)](_0x2ebd4d,_0x171f5d,this[_0x2c91a0(0x638)][_0x2c91a0(0x385)]);_0x5e6445&&q(this[_0x2c91a0(0x5bc)],_0x2c91a0(0x404),{'message':_0x5e6445});}catch{}}}[a0_0x2e4b91(0x344)](_0x4d6a67){const _0x49516f=a0_0x2e4b91;let _0x323a3a=[];return _0x4d6a67[_0x49516f(0x2de)](_0x20150c=>{const _0x964fba=_0x49516f;_0x20150c[_0x964fba(0x53b)]&&_0x323a3a[_0x964fba(0x20c)]('['+_0x20150c['title']+']'),_0x20150c[_0x964fba(0x4d9)][_0x964fba(0x2de)](_0x3b5979=>{const _0x129416=_0x964fba;let _0x3c696b=_0x3b5979[_0x129416(0x53b)];_0x3b5979[_0x129416(0x474)]&&(_0x3c696b+='\x0a'+_0x3b5979[_0x129416(0x474)]),_0x3c696b+='\x0a'+_0x3b5979[_0x129416(0x661)],_0x323a3a[_0x129416(0x20c)](_0x3c696b);});}),_0x323a3a[_0x49516f(0x727)]('|');}[a0_0x2e4b91(0x3d9)](_0xf5a312){const _0x3ee5af=a0_0x2e4b91;let _0x3ac698=_0xf5a312[_0x3ee5af(0x3ca)](/\\n/g,'\x0a')[_0x3ee5af(0x4ad)]('\x0a')[_0x3ee5af(0x714)](_0x4328b6=>_0x4328b6[_0x3ee5af(0x5fa)](_0x3ee5af(0x209))||_0x4328b6[_0x3ee5af(0x5fa)](_0x3ee5af(0x44f))),_0x16651e='';return _0x3ac698[_0x3ee5af(0x2de)](_0x21a922=>{const _0x21c503=_0x3ee5af;let _0x276b00=/TEL(?:.*):(.+)/,_0x3949db=/EMAIL(?:.*):(.+)/,_0x309d1f=_0x21a922[_0x21c503(0x3f4)](_0x276b00),_0x1f21e2=_0x21a922['match'](_0x3949db);if(_0x309d1f){let _0x3507ec=_0x309d1f[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x21c503(0x2ec)]();_0x16651e+='Telefone:\x20'+_0x3507ec+'\x0a';}else{if(_0x1f21e2){let _0x1d09bb=_0x1f21e2[0x1][_0x21c503(0x2ec)]();_0x16651e+=_0x21c503(0x1a5)+_0x1d09bb+'\x0a';}}}),_0x16651e[_0x3ee5af(0x2ec)]();}async[a0_0x2e4b91(0x64f)](_0x2402cf,_0x18e501,_0x4055fd){const _0x370167=a0_0x2e4b91;if(!_0x2402cf['ENABLED'])return;let _0x4aad2d=_0x18e501[_0x370167(0x16e)][_0x370167(0x78d)]['replace'](/:\d{1,2}@/g,'@'),_0xbc3860=_0x18e501[_0x370167(0x16e)][_0x370167(0x48b)],_0x171c01=_0x4aad2d[_0x370167(0x60d)](_0x370167(0x624)),_0x33223f=_0x18e501[_0x370167(0x3cd)]?.['text']||_0x18e501[_0x370167(0x3cd)]?.[_0x370167(0x186)]||_0x18e501[_0x370167(0x3cd)]?.[_0x370167(0x1f5)]||_0x18e501[_0x370167(0x3cd)]?.['name'],_0x24db8e={'lastmsg':_0x18e501[_0x370167(0x36e)]||Date[_0x370167(0x2cd)](),'unreadcount':_0xbc3860?0x0:0x1,..._0xbc3860||_0x171c01?{}:{'name':_0x18e501[_0x370167(0x6a6)]},..._0x171c01?{'group':_0x171c01}:{}};if(_0x4055fd==='MESSAGES_UPSERT'&&_0xbc3860&&this[_0x370167(0x3c4)]?.[_0x370167(0x2a6)][_0x370167(0x5a3)]&&!_0x33223f['startsWith'](this[_0x370167(0x3c4)]?.[_0x370167(0x2a6)][_0x370167(0x44b)])){let _0x24c976=(this[_0x370167(0x3c4)]?.[_0x370167(0x2a6)][_0x370167(0x1fa)]||0x5)*0xea60,_0x307a22=Date[_0x370167(0x2cd)]()+_0x24c976;_0x24db8e[_0x370167(0x731)]=_0x307a22,this[_0x370167(0x76f)][_0x370167(0x477)](this[_0x370167(0x5bc)]+'\x20('+this[_0x370167(0x638)][_0x370167(0x385)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x307a22+'.');}let _0x4b1d05=await this[_0x370167(0x3f0)][_0x370167(0x589)][_0x370167(0x3fb)]({'where':{'_id':_0x4aad2d}},_0x24db8e,this[_0x370167(0x638)][_0x370167(0x385)],{'new':!0x0,'upsert':!0x0});if(!_0x171c01&&(!_0x4b1d05?.[_0x370167(0x249)]||!_0x4b1d05['leadInfo'][_0x370167(0x4d1)])&&_0x18e501[_0x370167(0x6a6)]&&!_0xbc3860&&await this['repository'][_0x370167(0x589)]['updateOne']({'where':{'_id':_0x4aad2d}},{'leadInfo':{'nome':_0x18e501[_0x370167(0x6a6)]}},this[_0x370167(0x638)][_0x370167(0x385)],{'new':!0x0,'upsert':!0x1}),_0x4b1d05)q(this[_0x370167(0x5bc)],'chats',{'chat':_0x4b1d05});else{this[_0x370167(0x76f)][_0x370167(0x27b)](this[_0x370167(0x5bc)]+'\x20('+this[_0x370167(0x638)][_0x370167(0x385)]+_0x370167(0x5fc));return;}if(!this[_0x370167(0x3c4)]?.[_0x370167(0x2a6)]['enabled'])return this[_0x370167(0x76f)][_0x370167(0x477)](this[_0x370167(0x5bc)]+'\x20('+this[_0x370167(0x638)][_0x370167(0x385)]+_0x370167(0x5da)),null;if(_0x4b1d05['_id'][_0x370167(0x5fa)](_0x370167(0x624))&&this[_0x370167(0x3c4)]?.[_0x370167(0x2a6)][_0x370167(0x566)]===!0x0)return this[_0x370167(0x76f)][_0x370167(0x477)](this[_0x370167(0x5bc)]+'\x20('+this[_0x370167(0x638)][_0x370167(0x385)]+_0x370167(0x747)),null;if(_0x4b1d05[_0x370167(0x249)]){if(_0x4b1d05[_0x370167(0x249)]['desativadoFluxoAte']===0x0||_0x4b1d05[_0x370167(0x249)][_0x370167(0x765)])return this[_0x370167(0x76f)][_0x370167(0x477)](this[_0x370167(0x5bc)]+'\x20('+this[_0x370167(0x638)]['wuid']+_0x370167(0x38a)+_0x4aad2d+_0x370167(0x20f)),null;if(_0x4b1d05[_0x370167(0x249)][_0x370167(0x50f)]>Date[_0x370167(0x2cd)]()&&!_0x18e501[_0x370167(0x3cd)]?.['vote'])return this[_0x370167(0x76f)][_0x370167(0x477)](this[_0x370167(0x5bc)]+'\x20('+this['instance'][_0x370167(0x385)]+_0x370167(0x2e7)+new Date(_0x4b1d05[_0x370167(0x249)]['desativadoFluxoAte'])[_0x370167(0x5ad)]()+_0x370167(0x20f)),null;}this[_0x370167(0x76f)][_0x370167(0x477)](this['instanceName']+'\x20('+this[_0x370167(0x638)][_0x370167(0x385)]+_0x370167(0x2c2)),this['StartBot'](_0x4055fd,_0x18e501);}async['upsertChats'](_0x2c2fb9,_0x22f4ce){const _0x55789a=a0_0x2e4b91;if(_0x22f4ce[_0x55789a(0x6cd)]){let _0x3d4c80=_0x2c2fb9['map'](async _0x28e8f9=>{const _0x507456=_0x55789a;try{let _0x45638c={'_id':_0x28e8f9[_0x507456(0x264)],'owner':_0x28e8f9[_0x507456(0x1d6)],'lastcache':0x0};if(_0x28e8f9['group']!==null&&(_0x45638c['group']=_0x28e8f9[_0x507456(0x6e7)]),_0x28e8f9[_0x507456(0x307)]!==null&&(_0x45638c['name']=_0x28e8f9[_0x507456(0x307)]),_0x28e8f9[_0x507456(0x4e0)]!==null&&(_0x45638c['contactname']=_0x28e8f9[_0x507456(0x4e0)]),_0x28e8f9[_0x507456(0x68b)]!==null&&(_0x45638c['imagechat']=_0x28e8f9['imagechat']),_0x28e8f9['imagechat']===null&&(_0x45638c[_0x507456(0x68b)]=_0x507456(0x252)),_0x28e8f9[_0x507456(0x407)]!==null&&(_0x45638c['lastmsg']=_0x28e8f9[_0x507456(0x407)]),_0x28e8f9[_0x507456(0x4b4)]!==null&&(_0x45638c[_0x507456(0x4b4)]=_0x28e8f9[_0x507456(0x4b4)]),_0x28e8f9[_0x507456(0x3b2)]!==null&&(_0x45638c[_0x507456(0x3b2)]=_0x28e8f9[_0x507456(0x3b2)]),Object[_0x507456(0x6ab)](_0x45638c)[_0x507456(0x52c)]>0x0)return await this[_0x507456(0x3f0)][_0x507456(0x589)]['updateOne']({'where':{'_id':_0x28e8f9['_id']}},_0x45638c,this[_0x507456(0x638)][_0x507456(0x385)]);}catch(_0x4174fa){return console[_0x507456(0x27b)](_0x507456(0x34e)+_0x28e8f9['_id']+':',_0x4174fa),null;}}),_0x27ad20=(await Promise[_0x55789a(0x58a)](_0x3d4c80))['filter'](_0x63ba76=>_0x63ba76!==null)[_0x55789a(0x52c)];this['logger']['verbose'](this[_0x55789a(0x5bc)]+'\x20('+this[_0x55789a(0x638)][_0x55789a(0x385)]+_0x55789a(0x15f)+_0x27ad20+'\x20chats\x20de\x20'+this[_0x55789a(0x638)]['wuid']+_0x55789a(0x3a8));}}async[a0_0x2e4b91(0x424)](_0x43e867){const _0x52f50f=a0_0x2e4b91;this[_0x52f50f(0x76f)][_0x52f50f(0x477)](this[_0x52f50f(0x5bc)]+'\x20('+this[_0x52f50f(0x638)][_0x52f50f(0x385)]+'):\x20Ler\x20mensagem');let _0x1991b6={'readMessages':[{'remoteJid':_0x43e867[_0x52f50f(0x643)][_0x52f50f(0x18b)][_0x52f50f(0x16e)]['remoteJid'],'fromMe':_0x43e867['chatLog'][_0x52f50f(0x18b)][_0x52f50f(0x16e)][_0x52f50f(0x48b)],'id':_0x43e867[_0x52f50f(0x643)][_0x52f50f(0x18b)][_0x52f50f(0x16e)]['id']}]};await this[_0x52f50f(0x368)](_0x1991b6);}async['StartBot'](_0x42a07b,_0x346092){const _0x21d77b=a0_0x2e4b91;try{let {key:_0x4763cc,message_normalized:_0x2c5440}=_0x346092,_0x4ce27d=_0x2c5440,_0x3c6996=_0x2c5440[_0x21d77b(0x6c1)]||_0x2c5440[_0x21d77b(0x186)]||_0x2c5440[_0x21d77b(0x1f5)]||_0x2c5440[_0x21d77b(0x307)],_0x558929=_0x4763cc['remoteJid'],_0x3be32f;if(_0x4ce27d[_0x21d77b(0x16e)][_0x21d77b(0x48b)]&&_0x3c6996[_0x21d77b(0x2ec)]()!==this[_0x21d77b(0x3c4)]?.[_0x21d77b(0x2a6)][_0x21d77b(0x5e4)][_0x21d77b(0x2ec)]())return this[_0x21d77b(0x76f)][_0x21d77b(0x477)](this['instanceName']+'\x20('+this[_0x21d77b(0x638)][_0x21d77b(0x385)]+_0x21d77b(0x3f3)),null;if(_0x4ce27d['key']['fromMe']&&_0x3c6996[_0x21d77b(0x2ec)]()===this['AutomateSystem']?.[_0x21d77b(0x2a6)][_0x21d77b(0x5e4)][_0x21d77b(0x2ec)]()){this[_0x21d77b(0x76f)][_0x21d77b(0x477)](this[_0x21d77b(0x5bc)]+'\x20('+this['instance'][_0x21d77b(0x385)]+_0x21d77b(0x340));let _0x814690=await this[_0x21d77b(0x3f0)][_0x21d77b(0x782)][_0x21d77b(0x18c)]({'where':{'remoteJid':_0x558929,'status':_0x21d77b(0x442)}},this['instance']['wuid']);this[_0x21d77b(0x76f)][_0x21d77b(0x477)](this[_0x21d77b(0x5bc)]+'\x20('+this['instance'][_0x21d77b(0x385)]+_0x21d77b(0x454)+_0x814690);let _0xcaf804=Date[_0x21d77b(0x2cd)](),_0xbcab01;return this['AutomateSystem']?.[_0x21d77b(0x2a6)][_0x21d77b(0x295)]===0x0?_0xbcab01={'stoppedUntil':_0xcaf804+0x7591f6200}:_0xbcab01={'stoppedUntil':_0xcaf804+this[_0x21d77b(0x3c4)]?.[_0x21d77b(0x2a6)][_0x21d77b(0x295)]*0x3c*0x3e8},this[_0x21d77b(0x76f)][_0x21d77b(0x477)](this[_0x21d77b(0x5bc)]+'\x20('+this[_0x21d77b(0x638)]['wuid']+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0xbcab01),this['updateStopChat'](_0x3be32f,_0xbcab01[_0x21d77b(0x6b8)]),null;}if(_0x3c6996&&_0x3c6996[_0x21d77b(0x798)](this['AutomateSystem']?.['flowConfig'][_0x21d77b(0x44b)])&&_0x3c6996[_0x21d77b(0x52c)]>0x4){let _0x211993=await this[_0x21d77b(0x3f0)][_0x21d77b(0x3d8)][_0x21d77b(0x5aa)]({'where':{'startCommandWord':_0x3c6996}},this['instance'][_0x21d77b(0x385)]);if(this[_0x21d77b(0x76f)]['verbose'](this[_0x21d77b(0x5bc)]+'\x20('+this[_0x21d77b(0x638)][_0x21d77b(0x385)]+_0x21d77b(0x5e7)),_0x211993)_0x3be32f=await this[_0x21d77b(0x46d)](_0x211993,_0x4ce27d[_0x21d77b(0x16e)],_0x4ce27d);else return this['logger'][_0x21d77b(0x477)](this[_0x21d77b(0x5bc)]+'\x20('+this[_0x21d77b(0x638)][_0x21d77b(0x385)]+_0x21d77b(0x22d)),null;}else _0x3be32f=await this['findConversation'](_0x558929,_0x4ce27d);if(_0x3be32f){this[_0x21d77b(0x76f)][_0x21d77b(0x477)](this[_0x21d77b(0x5bc)]+'\x20('+this[_0x21d77b(0x638)][_0x21d77b(0x385)]+_0x21d77b(0x6be)),!_0x4763cc[_0x21d77b(0x48b)]&&_0x3be32f[_0x21d77b(0x240)]&&this[_0x21d77b(0x424)](_0x3be32f);let _0x4ae596=await this[_0x21d77b(0x57d)](_0x3be32f);_0x4ae596&&await this['processblock'](_0x3be32f,_0x4ae596);}}catch(_0x338671){this[_0x21d77b(0x76f)][_0x21d77b(0x27b)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x21d77b(0x39c)+(_0x338671 instanceof Error?_0x338671[_0x21d77b(0x662)]:JSON[_0x21d77b(0x1ba)](_0x338671,null,0x2)));}}[a0_0x2e4b91(0x642)](_0x5f1563,_0x265cd9='',_0x2eb884={},_0x550ed2=!0x0){const _0x39458a=a0_0x2e4b91;for(let _0x3a20ba in _0x5f1563){let _0x2a0060=_0x550ed2?'_'+_0x3a20ba:''+_0x265cd9+_0x3a20ba;typeof _0x5f1563[_0x3a20ba]==_0x39458a(0x481)&&_0x5f1563[_0x3a20ba]!==null?this[_0x39458a(0x642)](_0x5f1563[_0x3a20ba],_0x2a0060+'.',_0x2eb884,!0x1):_0x2eb884[_0x2a0060]=String(_0x5f1563[_0x3a20ba]);}return _0x2eb884;}[a0_0x2e4b91(0x2fb)](_0x2e5ce5){const _0x1c3c6c=a0_0x2e4b91;let _0x677bc6={};for(let _0x59be5e of _0x2e5ce5)typeof _0x59be5e[_0x1c3c6c(0x307)]==_0x1c3c6c(0x49c)&&typeof _0x59be5e[_0x1c3c6c(0x73f)]==_0x1c3c6c(0x49c)&&(_0x677bc6[_0x59be5e[_0x1c3c6c(0x307)]]=_0x59be5e[_0x1c3c6c(0x73f)]);return _0x677bc6;}async['NextBlock'](_0x4580fb){const _0x57d899=a0_0x2e4b91;if(!this[_0x57d899(0x3c4)]?.[_0x57d899(0x2a6)]['enabled']||_0x4580fb[_0x57d899(0x221)]!==_0x57d899(0x442)&&_0x4580fb[_0x57d899(0x584)]==='')return null;let _0x3b59d9=_0x4580fb[_0x57d899(0x643)][_0x57d899(0x41a)]||_0x57d899(0x447);typeof _0x4580fb[_0x57d899(0x643)]['lastCondition']>'u'&&(_0x4580fb[_0x57d899(0x643)][_0x57d899(0x2e0)]=!0x0);let _0xccd149=_0x4580fb['chatLog'][_0x57d899(0x2e0)];this['logger'][_0x57d899(0x477)](this['instanceName']+'\x20('+this[_0x57d899(0x638)]['wuid']+'):\x20lastBlockId:\x20'+_0x3b59d9+_0x57d899(0x15b)+_0xccd149);let _0x1cd24a=_0x3b59d9===_0x57d899(0x447)?_0x4580fb[_0x57d899(0x5f5)][_0x57d899(0x18c)](_0x3d4c87=>_0x3d4c87[_0x57d899(0x4af)]===_0x57d899(0x447)):_0x4580fb[_0x57d899(0x5f5)][_0x57d899(0x18c)](_0x1f75b1=>_0x1f75b1[_0x57d899(0x264)][_0x57d899(0x40f)]()===_0x3b59d9[_0x57d899(0x40f)]());if(!_0x1cd24a)return this[_0x57d899(0x76f)][_0x57d899(0x27b)](this[_0x57d899(0x5bc)]+'\x20('+this[_0x57d899(0x638)][_0x57d899(0x385)]+_0x57d899(0x304)+_0x3b59d9),null;let _0x184600={'_pushName':_0x4580fb[_0x57d899(0x643)][_0x57d899(0x18b)][_0x57d899(0x6a6)],..._0x4580fb[_0x57d899(0x643)][_0x57d899(0x77f)]},_0x3c0c4c=null;if(_0x4580fb[_0x57d899(0x584)]){let _0x42c266=_0x4580fb[_0x57d899(0x643)][_0x57d899(0x18b)]['vote'],_0x2d8fff=_0x4580fb[_0x57d899(0x667)][_0x57d899(0x18c)](_0x3951fb=>_0x3951fb['option']===_0x42c266);if(_0x2d8fff){let _0x4682ce=_0x2d8fff[_0x57d899(0x21e)];if(_0x3c0c4c=_0x4580fb[_0x57d899(0x5f5)][_0x57d899(0x18c)](_0x2ad66e=>_0x2ad66e[_0x57d899(0x616)]===_0x4682ce&&_0x2ad66e[_0x57d899(0x769)]===0x1),_0x1cd24a[_0x57d899(0x55c)][_0x57d899(0x3f8)]){let _0x57ffb7={'id':_0x4580fb[_0x57d899(0x584)],'remoteJid':_0x4580fb[_0x57d899(0x78d)],'fromMe':!0x0};await this['deleteMessage'](_0x57ffb7);}if(_0x1cd24a[_0x57d899(0x55c)][_0x57d899(0x3f8)]&&_0x1cd24a['uazapi'][_0x57d899(0x69b)]&&_0x1cd24a[_0x57d899(0x55c)][_0x57d899(0x6a8)]===_0x57d899(0x677)){let _0x51b62a={'number':_0x4580fb[_0x57d899(0x78d)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x4580fb['waitingMenu_text']+_0x57d899(0x3b8)+_0x42c266}};await this[_0x57d899(0x666)](_0x51b62a);}_0x4580fb[_0x57d899(0x221)]=_0x57d899(0x442),_0x4580fb[_0x57d899(0x584)]='',_0x4580fb[_0x57d899(0x6a9)]='',_0x4580fb['waitingMenu_replyOptions']=[];}else{this[_0x57d899(0x76f)][_0x57d899(0x477)](this['instanceName']+'\x20('+this[_0x57d899(0x638)][_0x57d899(0x385)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x478c37={'activatedCount':_0x4580fb[_0x57d899(0x643)][_0x57d899(0x59f)][_0x57d899(0x714)](_0x1d0a20=>String(_0x1d0a20['blockId'])===String(_0x3b59d9))['length'],'moreLogs':[_0x57d899(0x58f)]};if(_0x1cd24a['uazapi'][_0x57d899(0x701)]){let _0x4e5d4d={'number':_0x4580fb[_0x57d899(0x78d)],'options':{'delay':0x0},'textMessage':{'text':_0x1cd24a[_0x57d899(0x55c)][_0x57d899(0x701)]}};await this[_0x57d899(0x666)](_0x4e5d4d);}if(_0x1cd24a[_0x57d899(0x346)]!==void 0x0&&_0x478c37[_0x57d899(0x569)]>=_0x1cd24a[_0x57d899(0x346)]){let _0x1d03cf=Date['now'](),_0x158c2d=_0x1cd24a['stopMinutesMaxActives']??0xa;isNaN(_0x158c2d)&&(_0x158c2d=0xa);let _0x2c9afc=_0x1d03cf+_0x158c2d*0x3c*0x3e8;_0x478c37['newStoppedUntil']=_0x2c9afc,_0x478c37['moreLogs'][_0x57d899(0x20c)](_0x57d899(0x339)),this[_0x57d899(0x563)](_0x4580fb,_0x2c9afc),_0x4580fb[_0x57d899(0x584)]='',_0x4580fb[_0x57d899(0x6a9)]='',_0x4580fb[_0x57d899(0x667)]=[];}return this[_0x57d899(0x7a3)](_0x4580fb,_0x1cd24a,_0x478c37,!0x0),null;}}if(_0xccd149&&_0x1cd24a['next_groupId']&&!_0x4580fb[_0x57d899(0x584)]){let _0x38f568=_0x4580fb[_0x57d899(0x5f5)][_0x57d899(0x714)](_0x5d9ab4=>_0x5d9ab4[_0x57d899(0x616)][_0x57d899(0x40f)]()===_0x1cd24a[_0x57d899(0x21e)]['toString']())[_0x57d899(0x67e)]((_0x277931,_0x33c91c)=>_0x277931[_0x57d899(0x769)]-_0x33c91c[_0x57d899(0x769)]);_0x38f568['length']>0x0&&(_0x3c0c4c=_0x38f568[0x0]);}if(!_0x3c0c4c){let _0x1fe9a2=_0x1cd24a[_0x57d899(0x616)],_0x2a24f4=_0x4580fb[_0x57d899(0x5f5)][_0x57d899(0x714)](_0x33aff5=>_0x33aff5[_0x57d899(0x616)]===_0x1fe9a2&&_0x33aff5[_0x57d899(0x769)]>_0x1cd24a['order'])['sort']((_0x1988e1,_0x1687a8)=>_0x1988e1[_0x57d899(0x769)]-_0x1687a8[_0x57d899(0x769)]);_0x2a24f4[_0x57d899(0x52c)]>0x0&&(_0x3c0c4c=_0x2a24f4[0x0]);}if(!_0x3c0c4c)return _0x4580fb[_0x57d899(0x221)]=_0x57d899(0x4cf),null;_0x4580fb[_0x57d899(0x643)][_0x57d899(0x77f)]=_0x184600;let _0x28ecec=JSON[_0x57d899(0x31b)](JSON[_0x57d899(0x1ba)](_0x3c0c4c));return this[_0x57d899(0x405)](_0x28ecec,_0x4580fb[_0x57d899(0x643)][_0x57d899(0x77f)]),_0x4580fb[_0x57d899(0x643)]['lastBlockId']=_0x28ecec[_0x57d899(0x264)],_0x4580fb[_0x57d899(0x643)][_0x57d899(0x2e0)]=!0x0,_0x28ecec;}['replaceVariables'](_0x5cf76d,_0x181d26){const _0x4792e5=a0_0x2e4b91;return _0x5cf76d[_0x4792e5(0x3ca)](/\{\{([^}]+)\}\}/g,(_0x479832,_0x55af15)=>_0x181d26[_0x55af15]||'');}[a0_0x2e4b91(0x405)](_0x597bb9,_0x443e75){const _0x3c9765=a0_0x2e4b91;for(let _0x863030 in _0x597bb9)typeof _0x597bb9[_0x863030]==_0x3c9765(0x49c)?_0x597bb9[_0x863030]=this[_0x3c9765(0x358)](_0x597bb9[_0x863030],_0x443e75):typeof _0x597bb9[_0x863030]==_0x3c9765(0x481)&&this['replaceVariablesInObject'](_0x597bb9[_0x863030],_0x443e75);}async[a0_0x2e4b91(0x223)](_0x33c808,_0x5c990c){const _0x3f0221=a0_0x2e4b91;let _0x8d7823=_0x5c990c[_0x3f0221(0x264)];if(_0x33c808[_0x3f0221(0x643)]&&_0x33c808['chatLog'][_0x3f0221(0x59f)]){let _0x287f41=_0x33c808[_0x3f0221(0x643)][_0x3f0221(0x59f)][_0x3f0221(0x714)](_0x46de97=>String(_0x46de97[_0x3f0221(0x2b4)])===String(_0x8d7823))[_0x3f0221(0x606)]();if(_0x287f41&&_0x287f41[_0x3f0221(0x27b)]&&_0x5c990c['stopIfLastReturnedError'])return _0x33c808[_0x3f0221(0x221)]=_0x3f0221(0x4cf),await this[_0x3f0221(0x785)](_0x33c808),null;}if(_0x5c990c['type']===_0x3f0221(0x55c)&&_0x5c990c[_0x3f0221(0x55c)][_0x3f0221(0x650)]===_0x3f0221(0x2df)&&_0x33c808[_0x3f0221(0x584)])return _0x33c808[_0x3f0221(0x643)][_0x3f0221(0x41a)]=_0x8d7823,await this['saveConversationToDatabase'](_0x33c808),null;let _0x1dc7ba=await this['NextBlock'](_0x33c808);if(_0x33c808[_0x3f0221(0x643)]&&_0x33c808[_0x3f0221(0x643)][_0x3f0221(0x59f)]){let _0x4257df=_0x33c808[_0x3f0221(0x643)][_0x3f0221(0x59f)][_0x3f0221(0x714)](_0x2204c5=>String(_0x2204c5[_0x3f0221(0x2b4)])===String(_0x8d7823))['length'];if(_0x5c990c['maxActives']!==void 0x0&&_0x4257df>=_0x5c990c[_0x3f0221(0x346)]){let _0x295d2d=Date['now'](),_0x8008b6=_0x5c990c['stopMinutesMaxActives']??0xa;isNaN(_0x8008b6)&&(_0x8008b6=0xa);let _0xacd166=_0x295d2d+_0x8008b6*0x3c*0x3e8,_0x3dc751={'newStoppedUntil':_0xacd166};return this[_0x3f0221(0x563)](_0x33c808,_0xacd166),this[_0x3f0221(0x7a3)](_0x33c808,_0x5c990c,_0x3dc751,!0x0),null;}}_0x1dc7ba&&_0x1dc7ba[_0x3f0221(0x4af)]!==_0x3f0221(0x794)&&await this[_0x3f0221(0x4ac)](_0x33c808,_0x1dc7ba),_0x1dc7ba||await this['saveConversationToDatabase'](_0x33c808),_0x1dc7ba&&_0x1dc7ba[_0x3f0221(0x4af)]===_0x3f0221(0x794)&&(_0x33c808[_0x3f0221(0x643)][_0x3f0221(0x41a)]=_0x8d7823,await this[_0x3f0221(0x785)](_0x33c808));}async[a0_0x2e4b91(0x4ac)](_0x50f194,_0x183b7d){const _0x4ccb29=a0_0x2e4b91;try{let _0x322464=_0x183b7d[_0x4ccb29(0x4af)];this['logger'][_0x4ccb29(0x477)](this['instanceName']+'\x20('+this[_0x4ccb29(0x638)][_0x4ccb29(0x385)]+_0x4ccb29(0x3e0)+_0x322464);let _0x1688bc={'uazapi':()=>this['processUazapi'](_0x50f194,_0x183b7d),'save':()=>this[_0x4ccb29(0x5ae)](_0x50f194,_0x183b7d),'stop':()=>this[_0x4ccb29(0x5e4)](_0x50f194,_0x183b7d),'condition':()=>this[_0x4ccb29(0x79d)](_0x50f194,_0x183b7d),'varedit':()=>this[_0x4ccb29(0x579)](_0x50f194,_0x183b7d),'apirequest':()=>this['processApiRequest'](_0x50f194,_0x183b7d),'goToFlow':()=>this[_0x4ccb29(0x487)](_0x50f194,_0x183b7d)}[_0x322464];_0x1688bc&&await _0x1688bc();}catch(_0x4962c8){this[_0x4ccb29(0x76f)]['error'](this[_0x4ccb29(0x5bc)]+'\x20('+this[_0x4ccb29(0x638)][_0x4ccb29(0x385)]+_0x4ccb29(0x470)+(_0x4962c8 instanceof Error?_0x4962c8[_0x4ccb29(0x662)]:JSON[_0x4ccb29(0x1ba)](_0x4962c8,null,0x2)));}}async[a0_0x2e4b91(0x487)](_0x524ef1,_0x507421){const _0x33c48f=a0_0x2e4b91;if(this['logger'][_0x33c48f(0x477)](this['instanceName']+'\x20('+this['instance'][_0x33c48f(0x385)]+_0x33c48f(0x753)),!_0x524ef1||!_0x507421)return this[_0x33c48f(0x76f)][_0x33c48f(0x27b)](this[_0x33c48f(0x5bc)]+'\x20('+this['instance']['wuid']+_0x33c48f(0x558)),null;await this[_0x33c48f(0x7a3)](_0x524ef1,_0x507421,{},!0x0,!0x0),console[_0x33c48f(0x54d)](_0x33c48f(0x4bc)),console[_0x33c48f(0x54d)](_0x507421);let _0x364271=_0x507421[_0x33c48f(0x646)];console[_0x33c48f(0x54d)](_0x33c48f(0x592),_0x364271),_0x524ef1=await this[_0x33c48f(0x717)](_0x364271,_0x524ef1[_0x33c48f(0x78d)],_0x524ef1[_0x33c48f(0x643)]['realVariables']),this[_0x33c48f(0x76f)][_0x33c48f(0x477)](this[_0x33c48f(0x5bc)]+'\x20('+this[_0x33c48f(0x638)][_0x33c48f(0x385)]+_0x33c48f(0x47c));let _0x11517f=await this[_0x33c48f(0x57d)](_0x524ef1);_0x11517f&&await this['processblock'](_0x524ef1,_0x11517f);}async[a0_0x2e4b91(0x717)](_0xd9fb30,_0x238944,_0x24a50f){const _0x5137b3=a0_0x2e4b91;this[_0x5137b3(0x76f)]['verbose'](this[_0x5137b3(0x5bc)]+'\x20('+this[_0x5137b3(0x638)][_0x5137b3(0x385)]+_0x5137b3(0x6d1));try{if(_0xd9fb30=await this[_0x5137b3(0x3f0)][_0x5137b3(0x3d8)][_0x5137b3(0x5aa)]({'where':{'name':_0xd9fb30}},this['instance'][_0x5137b3(0x385)]),!_0xd9fb30)return this[_0x5137b3(0x76f)][_0x5137b3(0x27b)](this[_0x5137b3(0x5bc)]+'\x20('+this[_0x5137b3(0x638)][_0x5137b3(0x385)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x435381=require('mongodb')['ObjectId'],_0x4556bc=Date[_0x5137b3(0x2cd)](),_0x347b21=_0x5137b3(0x447),_0x434ddb={},_0x1b47b8={},_0x3811d0={..._0xd9fb30,'chatLog':null},_0x23cbb0={'lastReceivedMessage':_0x434ddb,'lastSendMessage':_0x1b47b8,'lastBlockId':_0x347b21,'lastCondition':!0x0,'realVariables':_0x24a50f};_0x3811d0['chatLog']=_0x23cbb0,_0x3811d0[_0x5137b3(0x643)][_0x5137b3(0x77f)]={..._0x24a50f},delete _0x3811d0[_0x5137b3(0x264)],_0x3811d0[_0x5137b3(0x264)]=new _0x435381(),_0x3811d0[_0x5137b3(0x351)]=_0x4556bc,_0x3811d0['status']='open',_0x3811d0[_0x5137b3(0x78d)]=_0x238944;let _0x1f8767=await this[_0x5137b3(0x3f0)][_0x5137b3(0x782)][_0x5137b3(0x3fb)](_0x3811d0['_id'],_0x3811d0,this[_0x5137b3(0x638)][_0x5137b3(0x385)]);return this[_0x5137b3(0x76f)][_0x5137b3(0x477)](this[_0x5137b3(0x5bc)]+'\x20('+this[_0x5137b3(0x638)][_0x5137b3(0x385)]+_0x5137b3(0x1f3)),_0x1f8767?_0x3811d0:null;}catch(_0x57dd11){throw this[_0x5137b3(0x76f)][_0x5137b3(0x27b)](this['instanceName']+'\x20('+this['instance'][_0x5137b3(0x385)]+_0x5137b3(0x1ae)+(_0x57dd11 instanceof Error?_0x57dd11[_0x5137b3(0x662)]:JSON['stringify'](_0x57dd11,null,0x2))),new h(_0x57dd11[_0x5137b3(0x662)]);}}async['processApiRequest'](_0x2d5db4,_0x413367){const _0x594dd6=a0_0x2e4b91;let _0x46175d,_0x383b26;try{let _0x149d77=_0x413367['apirequest'];if(!_0x149d77||!_0x149d77[_0x594dd6(0x3c3)]||!_0x149d77['method'])throw new Error(_0x594dd6(0x2dc));let _0x5ea5d8={'method':_0x149d77[_0x594dd6(0x42e)],'url':_0x149d77[_0x594dd6(0x3c3)],'headers':_0x149d77['header']||{},'data':_0x149d77[_0x594dd6(0x43f)]||{}},_0x4b6d2e=await(0x0,se[_0x594dd6(0x5f2)])(_0x5ea5d8),_0x4f1a3d=_0x4b6d2e[_0x594dd6(0x5ea)]['content-type'];if(_0x4f1a3d&&_0x4f1a3d[_0x594dd6(0x5fa)]('application/json')){_0x46175d=_0x4b6d2e[_0x594dd6(0x5b0)];let _0x5d3e42=_0x2d5db4[_0x594dd6(0x643)][_0x594dd6(0x77f)],_0x3dde69=this[_0x594dd6(0x642)](_0x46175d);return Object['assign'](_0x5d3e42,_0x3dde69),_0x2d5db4['chatLog'][_0x594dd6(0x77f)]=_0x5d3e42,_0x383b26={'error':!0x1,'apiResponse':_0x46175d},this[_0x594dd6(0x7a3)](_0x2d5db4,_0x413367,_0x383b26),_0x46175d;}else{if(_0x4f1a3d&&(_0x4f1a3d[_0x594dd6(0x5fa)](_0x594dd6(0x356))||_0x4f1a3d[_0x594dd6(0x5fa)](_0x594dd6(0x72f))||_0x4f1a3d['includes'](_0x594dd6(0x47e))||_0x4f1a3d[_0x594dd6(0x5fa)]('video'))){let _0x139b2f=''+(0x0,fe['v4'])(),_0x40b11b=_0x4b6d2e[_0x594dd6(0x5ea)][_0x594dd6(0x35b)];if(_0x40b11b){let _0x1f501d=_0x40b11b[_0x594dd6(0x3f4)](/filename="?(.+)"?/);if(_0x1f501d&&_0x1f501d[0x1]){let _0x1a1013=_0x1f501d[0x1],_0xc8b36c=P['default'][_0x594dd6(0x384)](_0x1a1013);_0x139b2f=''+(0x0,fe['v4'])()+_0xc8b36c;}}let _0x223d83=this[_0x594dd6(0x435)][_0x594dd6(0x535)]('SERVER')['URL'];if(!_0x223d83){let _0x5148f6=this[_0x594dd6(0x435)]['get'](_0x594dd6(0x5f8));_0x223d83='https://'+(_0x5148f6&&_0x5148f6['FULLCHAIN'][_0x594dd6(0x4ad)]('/')[0x4]);}let _0x2406cb=Buffer[_0x594dd6(0x2d6)](_0x4b6d2e[_0x594dd6(0x5b0)]);await this[_0x594dd6(0x473)](_0x2406cb,_0x139b2f);let _0x3d17d7=_0x594dd6(0x679)+_0x139b2f;return _0x3d17d7=''+_0x223d83+_0x3d17d7,_0x46175d={'fileUrl':_0x3d17d7},_0x2d5db4[_0x594dd6(0x643)][_0x594dd6(0x77f)][_0x594dd6(0x321)]=_0x3d17d7,_0x383b26={'error':!0x1,'apiResponse':{'fileUrl':_0x3d17d7}},this['updateConversation'](_0x2d5db4,_0x413367,_0x383b26),_0x46175d;}}}catch(_0x354f50){console['error'](_0x594dd6(0x65a),_0x354f50),_0x354f50[_0x594dd6(0x5b8)]&&(_0x46175d=_0x354f50[_0x594dd6(0x5b8)][_0x594dd6(0x5b0)]);let _0xdf5ccd=_0x2d5db4[_0x594dd6(0x643)][_0x594dd6(0x77f)],_0x2e27c2=this['flattenObject'](_0x46175d);return Object[_0x594dd6(0x274)](_0xdf5ccd,_0x2e27c2),_0x2d5db4[_0x594dd6(0x643)][_0x594dd6(0x77f)]=_0xdf5ccd,_0x383b26={'error':!0x0,'errorLog':_0x354f50['toString'](),'apiResponse':_0x46175d},this[_0x594dd6(0x7a3)](_0x2d5db4,_0x413367,_0x383b26),{'success':!0x1};}}[a0_0x2e4b91(0x46c)](_0x1306f8,_0x45468c){const _0x325f3d=a0_0x2e4b91;let _0x2d1c00=_0x4fb65d=>{const _0x3b1cc7=a0_0x22a8;let _0x4bb80d=_0x4fb65d[_0x3b1cc7(0x3ca)](/[^0-9.,-]/g,'')[_0x3b1cc7(0x3ca)](',','.'),_0x15bcf2=parseFloat(_0x4bb80d);return isNaN(_0x15bcf2)?null:_0x15bcf2;},_0x586a9f=_0x45468c[_0x325f3d(0x73b)],_0xe9c90a=_0x45468c[_0x325f3d(0x2b1)];typeof _0x586a9f=='string'&&(_0x586a9f=this['replaceVariables'](_0x586a9f,_0x1306f8[_0x325f3d(0x643)][_0x325f3d(0x77f)])??''),typeof _0xe9c90a==_0x325f3d(0x49c)&&(_0xe9c90a=this[_0x325f3d(0x358)](_0xe9c90a,_0x1306f8[_0x325f3d(0x643)][_0x325f3d(0x77f)])??'');let _0xb14333=null;if(!_0x45468c[_0x325f3d(0x66d)])return null;switch(this['logger'][_0x325f3d(0x477)](this['instanceName']+'\x20('+this[_0x325f3d(0x638)][_0x325f3d(0x385)]+_0x325f3d(0x582)+_0x586a9f),this[_0x325f3d(0x76f)][_0x325f3d(0x477)](this[_0x325f3d(0x5bc)]+'\x20('+this[_0x325f3d(0x638)][_0x325f3d(0x385)]+_0x325f3d(0x5bb)+_0xe9c90a),_0x45468c[_0x325f3d(0x66d)]){case'+':case'-':case'*':case'/':let _0x374039=_0x2d1c00(_0x586a9f||'0'),_0x4d0603=_0x2d1c00(_0xe9c90a||'0');if(_0x374039===null)return null;switch(_0x45468c['editOperator']){case'+':_0xb14333=_0x374039+(_0x4d0603??0x0);break;case'-':_0xb14333=_0x374039-(_0x4d0603??0x0);break;case'*':_0xb14333=_0x374039*(_0x4d0603??0x1);break;case'/':_0x4d0603!==0x0&&(_0xb14333=_0x374039/(_0x4d0603??0x1));break;}break;case'findAndReplace':case _0x325f3d(0x5c0):let _0x5bf3b3=_0xe9c90a,_0x2ba679=_0x45468c[_0x325f3d(0x1f9)];if(typeof _0x2ba679==_0x325f3d(0x49c)&&(_0x2ba679=this[_0x325f3d(0x358)](_0x2ba679,_0x1306f8['chatLog']['realVariables'])??''),_0x5bf3b3&&_0x2ba679!==void 0x0){let _0x3c3b3a=_0x45468c[_0x325f3d(0x66d)]===_0x325f3d(0x723)?new RegExp(_0x5bf3b3[_0x325f3d(0x3ca)](/[-\/\\^$*+?.()|[\]{}]/g,_0x325f3d(0x2a9)),'g'):new RegExp(_0x5bf3b3,'g');_0xb14333=_0x586a9f[_0x325f3d(0x3ca)](_0x3c3b3a,_0x2ba679);}else console[_0x325f3d(0x7a0)](_0x325f3d(0x158));break;case'setNewValue':_0xb14333=_0xe9c90a;break;case _0x325f3d(0x271):let _0x2ecf35=_0x586a9f[_0x325f3d(0x3f4)](new RegExp(_0xe9c90a||''));_0xb14333=_0x2ecf35?_0x2ecf35[0x0]:'';break;case _0x325f3d(0x367):_0xb14333=_0x586a9f[_0x325f3d(0x501)](0x0,parseInt(_0xe9c90a||'0'));break;case _0x325f3d(0x796):let _0x1bd8b7=parseInt(_0xe9c90a||'0');_0xb14333=_0x586a9f[_0x325f3d(0x501)](_0x586a9f[_0x325f3d(0x52c)]-_0x1bd8b7);break;case _0x325f3d(0x45b):let _0x4fedbd=_0x2d1c00(_0x586a9f),_0x57ec7a=parseInt(_0xe9c90a||'0');_0x57ec7a=Math['abs'](_0x57ec7a),_0x4fedbd!==null?_0xb14333=_0x4fedbd[_0x325f3d(0x5ad)](_0x325f3d(0x64c),{'minimumFractionDigits':_0x57ec7a,'maximumFractionDigits':_0x57ec7a}):(console[_0x325f3d(0x7a0)](_0x325f3d(0x168)+_0x586a9f),_0xb14333=null);break;case _0x325f3d(0x38f):let _0x336c07=_0x2d1c00(_0x586a9f);_0x336c07!==null?_0xb14333=_0x336c07[_0x325f3d(0x5ad)](_0x325f3d(0x64c),{'style':_0x325f3d(0x1f6),'currency':_0x325f3d(0x489)}):(console[_0x325f3d(0x7a0)](_0x325f3d(0x40d)+_0x586a9f),_0xb14333=null);break;case'upperCase':_0xb14333=_0x586a9f[_0x325f3d(0x1c7)]();break;case _0x325f3d(0x1ce):_0xb14333=_0x586a9f['toLowerCase']();break;case _0x325f3d(0x27e):_0xb14333=_0x586a9f[_0x325f3d(0x4ad)]('\x20')[_0x325f3d(0x3fa)](_0x418f3d=>_0x418f3d[_0x325f3d(0x3f6)](0x0)[_0x325f3d(0x1c7)]()+_0x418f3d['slice'](0x1)['toLowerCase']())[_0x325f3d(0x727)]('\x20');break;case _0x325f3d(0x372):_0xb14333=_0x586a9f[_0x325f3d(0x2ec)]();break;default:_0xb14333=_0x586a9f;}return _0xb14333!==null?_0xb14333[_0x325f3d(0x40f)]():null;}async['processvaredits'](_0x5ea549,_0x3eeb8a){const _0x31fe5e=a0_0x2e4b91;try{let _0x8220ea=_0x5ea549[_0x31fe5e(0x479)]?.[_0x31fe5e(0x714)](_0x1f3a16=>_0x1f3a16[_0x31fe5e(0x2b4)]===_0x3eeb8a[_0x31fe5e(0x264)]?.[_0x31fe5e(0x40f)]())||[],_0x22aacf=_0x3eeb8a[_0x31fe5e(0x26c)],_0x508068=null,_0x40dd3f=[],_0x38f510=_0x5ea549[_0x31fe5e(0x643)][_0x31fe5e(0x77f)][_0x22aacf];_0x40dd3f[_0x31fe5e(0x20c)](_0x31fe5e(0x6f6)+_0x38f510+'\x22');for(let _0x42e732 of _0x8220ea){_0x42e732['firstValue']=_0x38f510,_0x508068=_0x42e732[_0x31fe5e(0x73b)];let _0x136f08;try{_0x136f08=this[_0x31fe5e(0x46c)](_0x5ea549,_0x42e732);}catch(_0x26ccca){console[_0x31fe5e(0x27b)](_0x31fe5e(0x336)+_0x26ccca['message']);continue;}if(_0x136f08!==null){let _0x1cf3a6=_0x31fe5e(0x60a)+_0x42e732[_0x31fe5e(0x66d)]+'\x22',_0x3eec65=[_0x31fe5e(0x38f),'upperCase','lowerCase',_0x31fe5e(0x27e),_0x31fe5e(0x372)];_0x42e732[_0x31fe5e(0x66d)]===_0x31fe5e(0x723)||_0x42e732[_0x31fe5e(0x66d)]===_0x31fe5e(0x5c0)?_0x1cf3a6+=_0x31fe5e(0x289)+_0x42e732[_0x31fe5e(0x2b1)]+_0x31fe5e(0x21a)+_0x42e732[_0x31fe5e(0x1f9)]+'\x22':!_0x3eec65[_0x31fe5e(0x5fa)](_0x42e732[_0x31fe5e(0x66d)])&&_0x42e732['secondValue']!==null&&_0x42e732['secondValue']!==void 0x0&&(_0x1cf3a6+=_0x31fe5e(0x76e)+_0x42e732[_0x31fe5e(0x2b1)]+'\x22'),_0x1cf3a6+=',\x20resultado:\x20'+_0x136f08+'.',_0x40dd3f['push'](_0x1cf3a6);}_0x136f08!==null&&(_0x38f510=_0x136f08);}if(_0x5ea549[_0x31fe5e(0x643)][_0x31fe5e(0x77f)]&&_0x3eeb8a[_0x31fe5e(0x26c)]){_0x5ea549[_0x31fe5e(0x643)][_0x31fe5e(0x77f)][_0x3eeb8a[_0x31fe5e(0x26c)]]=_0x38f510;let _0xee9e96={'variable':_0x3eeb8a['saveVariable'],'oldValue':_0x508068,'newValue':_0x38f510,'moreLogs':_0x40dd3f};try{this[_0x31fe5e(0x7a3)](_0x5ea549,_0x3eeb8a,_0xee9e96);}catch(_0x978712){console['error']('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x978712['message']);}}return _0x22aacf;}catch(_0x325e7b){return console[_0x31fe5e(0x27b)](_0x31fe5e(0x1dd)+_0x325e7b[_0x31fe5e(0x662)]),null;}}async[a0_0x2e4b91(0x79d)](_0x40994b,_0x175d92){const _0x52e2af=a0_0x2e4b91;try{let _0x4875b4=[],_0x36ef7e=_0x40994b['conditions'][_0x52e2af(0x714)](_0x28d8f2=>_0x28d8f2[_0x52e2af(0x2b4)]===_0x175d92[_0x52e2af(0x264)][_0x52e2af(0x40f)]()),_0x4e7b53=null,_0x232fc9=!0x1;for(let _0x6db809 of _0x36ef7e){let _0x5a0a9a=this[_0x52e2af(0x710)](_0x40994b,_0x6db809);_0x4875b4[_0x52e2af(0x20c)](_0x52e2af(0x5c6)+_0x6db809[_0x52e2af(0x73b)]+',\x20Comparador:\x20'+_0x6db809[_0x52e2af(0x3a1)]+_0x52e2af(0x293)+_0x6db809[_0x52e2af(0x2b1)]+',\x20Resultado:\x20'+_0x5a0a9a),_0x4e7b53===null?_0x4e7b53=_0x5a0a9a:_0x6db809[_0x52e2af(0x52d)]===_0x52e2af(0x464)?(_0x4e7b53=_0x4e7b53&&_0x5a0a9a,_0x5a0a9a||(_0x232fc9=!0x0)):_0x6db809[_0x52e2af(0x52d)]==='or'&&(_0x232fc9||(_0x4e7b53=_0x4e7b53||_0x5a0a9a));}_0x4e7b53===null&&(_0x4e7b53=!0x0);let _0x20b9d8={'moreLogs':_0x4875b4};_0x40994b['chatLog']['lastCondition']=_0x4e7b53,await this[_0x52e2af(0x7a3)](_0x40994b,_0x175d92,_0x20b9d8);}catch(_0x4eefa6){this[_0x52e2af(0x76f)][_0x52e2af(0x27b)](this['instanceName']+'\x20('+this[_0x52e2af(0x638)][_0x52e2af(0x385)]+_0x52e2af(0x352)+(_0x4eefa6 instanceof Error?_0x4eefa6['message']:JSON[_0x52e2af(0x1ba)](_0x4eefa6,null,0x2)));}}[a0_0x2e4b91(0x710)](_0x438233,_0x5d52ff){const _0x1580d1=a0_0x2e4b91;let _0x5187ea=_0x5d52ff[_0x1580d1(0x73b)],_0x37ac02=_0x5d52ff[_0x1580d1(0x2b1)];typeof _0x5187ea==_0x1580d1(0x49c)&&(_0x5187ea=this[_0x1580d1(0x358)](_0x5187ea,_0x438233['chatLog'][_0x1580d1(0x77f)])??''),typeof _0x37ac02==_0x1580d1(0x49c)&&(_0x37ac02=this[_0x1580d1(0x358)](_0x37ac02,_0x438233[_0x1580d1(0x643)][_0x1580d1(0x77f)])??'');try{switch(_0x5d52ff[_0x1580d1(0x3a1)]){case _0x1580d1(0x193):return _0x5187ea===_0x37ac02;case _0x1580d1(0x787):return _0x5187ea!==_0x37ac02;case _0x1580d1(0x31f):return _0x5187ea[_0x1580d1(0x5fa)](_0x37ac02);case _0x1580d1(0x1a6):return!_0x5187ea[_0x1580d1(0x5fa)](_0x37ac02);case _0x1580d1(0x39d):return parseFloat(_0x5187ea)>parseFloat(_0x37ac02);case'less':return parseFloat(_0x5187ea)<parseFloat(_0x37ac02);case _0x1580d1(0x507):return _0x5187ea!=='';case _0x1580d1(0x680):return _0x5187ea==='';case _0x1580d1(0x278):return new RegExp(_0x37ac02)['test'](_0x5187ea);case _0x1580d1(0x2a0):return!new RegExp(_0x37ac02)['test'](_0x5187ea);default:return!0x1;}}catch(_0xe8bbee){return console[_0x1580d1(0x27b)](_0x1580d1(0x5c9)+_0xe8bbee),!0x1;}}['processConditionsTest'](_0x34c6b6){const _0x5c5122=a0_0x2e4b91;let _0x342137=!0x0,_0x2c554e=null;for(let _0x31fce9 of _0x34c6b6){let _0x3e8d7d=this[_0x5c5122(0x1a9)](_0x31fce9);if(_0x2c554e==='or'&&_0x3e8d7d){_0x342137=!0x0;break;}if(_0x2c554e===_0x5c5122(0x464)&&!_0x3e8d7d){_0x342137=!0x1;break;}_0x2c554e=_0x31fce9[_0x5c5122(0x52d)];}return _0x342137;}[a0_0x2e4b91(0x1a9)](_0x47cd34){const _0x3a46c7=a0_0x2e4b91;let _0x14885c=_0x47cd34[_0x3a46c7(0x73b)],_0x6a42a3=_0x47cd34[_0x3a46c7(0x2b1)];try{switch(_0x47cd34[_0x3a46c7(0x3a1)]){case _0x3a46c7(0x193):return String(_0x14885c)===String(_0x6a42a3);case _0x3a46c7(0x787):return String(_0x14885c)!==String(_0x6a42a3);case _0x3a46c7(0x31f):return String(_0x14885c)[_0x3a46c7(0x5fa)](String(_0x6a42a3));case _0x3a46c7(0x1a6):return!String(_0x14885c)[_0x3a46c7(0x5fa)](String(_0x6a42a3));case'greater':return parseFloat(String(_0x14885c))>parseFloat(String(_0x6a42a3));case _0x3a46c7(0x216):return parseFloat(String(_0x14885c))<parseFloat(String(_0x6a42a3));case'notEmpty':return String(_0x14885c)!=='';case'empty':return String(_0x14885c)==='';case _0x3a46c7(0x278):return new RegExp(String(_0x6a42a3))[_0x3a46c7(0x1d9)](String(_0x14885c));case _0x3a46c7(0x2a0):return!new RegExp(String(_0x6a42a3))['test'](String(_0x14885c));default:return!0x1;}}catch(_0x4c4ddb){return console['error'](_0x3a46c7(0x5c9)+_0x4c4ddb),!0x1;}}async[a0_0x2e4b91(0x5ae)](_0xcc3aab,_0x1164df){const _0x37b9b8=a0_0x2e4b91;if(this[_0x37b9b8(0x76f)][_0x37b9b8(0x477)](this[_0x37b9b8(0x5bc)]+'\x20('+this[_0x37b9b8(0x638)][_0x37b9b8(0x385)]+_0x37b9b8(0x1d1)),!_0xcc3aab||!_0x1164df)return this[_0x37b9b8(0x76f)][_0x37b9b8(0x27b)](this['instanceName']+'\x20('+this[_0x37b9b8(0x638)][_0x37b9b8(0x385)]+_0x37b9b8(0x558)),null;let _0x3faa21=_0x1164df[_0x37b9b8(0x26c)],_0xe74be7=_0xcc3aab[_0x37b9b8(0x643)]['lastReceivedMessage'][_0x37b9b8(0x6c1)]||_0xcc3aab[_0x37b9b8(0x643)]['lastReceivedMessage'][_0x37b9b8(0x186)]||_0xcc3aab[_0x37b9b8(0x643)][_0x37b9b8(0x18b)][_0x37b9b8(0x1f5)];try{_0xcc3aab[_0x37b9b8(0x643)][_0x37b9b8(0x77f)]||(_0xcc3aab[_0x37b9b8(0x643)]['realVariables']={});let _0x1113c8=_0xcc3aab[_0x37b9b8(0x643)][_0x37b9b8(0x77f)][_0x3faa21];_0xcc3aab[_0x37b9b8(0x643)][_0x37b9b8(0x77f)][_0x3faa21]=_0xe74be7;let _0x296ff0={'variable':_0x3faa21,'oldValue':_0x1113c8,'newValue':_0xe74be7};this[_0x37b9b8(0x7a3)](_0xcc3aab,_0x1164df,_0x296ff0),this[_0x37b9b8(0x76f)]['verbose'](this['instanceName']+'\x20('+this[_0x37b9b8(0x638)][_0x37b9b8(0x385)]+_0x37b9b8(0x16c));}catch(_0x255d9d){let _0x45d650={'error':!0x0,'errorLog':_0x255d9d[_0x37b9b8(0x40f)]()};return this[_0x37b9b8(0x7a3)](_0xcc3aab,_0x1164df,_0x45d650),this['logger'][_0x37b9b8(0x27b)](this['instanceName']+'\x20('+this[_0x37b9b8(0x638)]['wuid']+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x255d9d instanceof Error?_0x255d9d[_0x37b9b8(0x662)]:JSON[_0x37b9b8(0x1ba)](_0x255d9d,null,0x2))),null;}}async[a0_0x2e4b91(0x5e4)](_0x50bdd5,_0x44e3e7){const _0x93a1af=a0_0x2e4b91;if(this[_0x93a1af(0x76f)][_0x93a1af(0x477)](this[_0x93a1af(0x5bc)]+'\x20('+this[_0x93a1af(0x638)][_0x93a1af(0x385)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x50bdd5||!_0x44e3e7)return this['logger']['error'](this[_0x93a1af(0x5bc)]+'\x20('+this[_0x93a1af(0x638)][_0x93a1af(0x385)]+_0x93a1af(0x558)),null;let _0x5c95d1=Date[_0x93a1af(0x2cd)](),_0x56bad8=parseInt(_0x44e3e7[_0x93a1af(0x295)],0xa);if(isNaN(_0x56bad8))return this['logger']['error'](this[_0x93a1af(0x5bc)]+'\x20('+this[_0x93a1af(0x638)][_0x93a1af(0x385)]+_0x93a1af(0x3ba)),null;let _0x23abf8={'newStoppedUntil':_0x5c95d1+_0x56bad8*0x3c*0x3e8};return await this[_0x93a1af(0x7a3)](_0x50bdd5,_0x44e3e7,_0x23abf8,!0x0),null;}async['processUazapi'](_0x553099,_0x95c73f){const _0x1418b9=a0_0x2e4b91;try{switch(_0x95c73f[_0x1418b9(0x55c)][_0x1418b9(0x650)]){case _0x1418b9(0x1ad):await this[_0x1418b9(0x612)](_0x553099,_0x95c73f);break;case _0x1418b9(0x618):await this[_0x1418b9(0x403)](_0x553099,_0x95c73f);break;case'sendLocation':await this['uazapiSendLocation'](_0x553099,_0x95c73f);break;case'sendAudio':await this[_0x1418b9(0x208)](_0x553099,_0x95c73f);break;case _0x1418b9(0x2a2):await this[_0x1418b9(0x621)](_0x553099,_0x95c73f);break;case _0x1418b9(0x2df):await this['uazapiSendMenu'](_0x553099,_0x95c73f);break;case _0x1418b9(0x364):await this[_0x1418b9(0x3e7)](_0x553099,_0x95c73f);break;case _0x1418b9(0x6ea):await this[_0x1418b9(0x41d)](_0x553099,_0x95c73f);break;default:this[_0x1418b9(0x76f)][_0x1418b9(0x27b)](this['instanceName']+'\x20('+this['instance'][_0x1418b9(0x385)]+'):\x20Comando\x20desconhecido:\x20'+_0x95c73f['uazapi'][_0x1418b9(0x650)]);}}catch(_0x454fae){this[_0x1418b9(0x76f)][_0x1418b9(0x27b)](this[_0x1418b9(0x5bc)]+'\x20('+this[_0x1418b9(0x638)][_0x1418b9(0x385)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x454fae instanceof Error?_0x454fae[_0x1418b9(0x662)]:JSON[_0x1418b9(0x1ba)](_0x454fae,null,0x2)));}}async[a0_0x2e4b91(0x7a3)](_0x47c60e,_0x444dcc,_0x3809b0,_0x5360f3=!0x1,_0x4988cc=!0x1){const _0x265b4f=a0_0x2e4b91;_0x47c60e[_0x265b4f(0x643)][_0x265b4f(0x59f)]||(_0x47c60e[_0x265b4f(0x643)][_0x265b4f(0x59f)]=[]);let _0x53e1f7=(_0x47c60e[_0x265b4f(0x643)][_0x265b4f(0x59f)]?.['length']??0x0)+0x1,_0x156803=_0x47c60e['chatLog']['blockLogs'][_0x265b4f(0x714)](_0x34d116=>String(_0x34d116[_0x265b4f(0x2b4)])===String(_0x444dcc[_0x265b4f(0x264)]))['length']+0x1,_0x4a6a31=_0x3809b0?.[_0x265b4f(0x22f)]??Date[_0x265b4f(0x2cd)](),_0x8cd7d8=_0x3809b0?.[_0x265b4f(0x27b)]?_0x3809b0[_0x265b4f(0x6d7)]??_0x3809b0[_0x265b4f(0x27b)][_0x265b4f(0x40f)]():void 0x0,_0x36060b={'onTime':_0x4a6a31,'blockId':_0x444dcc[_0x265b4f(0x264)],'order':_0x53e1f7,'activatedCount':_0x156803,'error':_0x3809b0?.[_0x265b4f(0x27b)]??!0x1,'messageId':_0x3809b0?.[_0x265b4f(0x337)],'apiResponse':_0x3809b0?.[_0x265b4f(0x491)],'apiResponseString':_0x3809b0?.['apiResponse']?JSON['stringify'](_0x3809b0?.[_0x265b4f(0x491)]):void 0x0,'variable':_0x3809b0?.['variable'],'oldValue':_0x3809b0?.[_0x265b4f(0x759)],'newValue':_0x3809b0?.['newValue'],'newStoppedUntil':_0x3809b0?.[_0x265b4f(0x59d)],'moreLogs':_0x3809b0?.[_0x265b4f(0x528)],'errorLog':_0x8cd7d8};if(_0x3809b0[_0x265b4f(0x528)]&&_0x3809b0[_0x265b4f(0x528)]['length']>0x0){let _0x2855ea=_0x3809b0[_0x265b4f(0x528)]['map'](_0x136062=>this[_0x265b4f(0x261)](_0x136062,_0x47c60e['chatLog'][_0x265b4f(0x77f)]));_0x36060b['moreLogs']=_0x2855ea;}_0x47c60e['chatLog']['realVariables']||(_0x47c60e[_0x265b4f(0x643)][_0x265b4f(0x77f)]={}),_0x47c60e[_0x265b4f(0x643)][_0x265b4f(0x77f)][_0x265b4f(0x69c)]=String(_0x156803),_0x47c60e[_0x265b4f(0x643)][_0x265b4f(0x77f)]['_error']=String(_0x3809b0[_0x265b4f(0x27b)]??!0x1),_0x47c60e['chatLog'][_0x265b4f(0x59f)]['push'](_0x36060b),_0x47c60e[_0x265b4f(0x643)][_0x265b4f(0x41a)]=_0x444dcc[_0x265b4f(0x264)][_0x265b4f(0x40f)](),_0x47c60e[_0x265b4f(0x643)][_0x265b4f(0x74a)]&&(_0x47c60e[_0x265b4f(0x643)][_0x265b4f(0x74a)]=_0x47c60e[_0x265b4f(0x643)][_0x265b4f(0x74a)]),_0x47c60e['chatLog'][_0x265b4f(0x18b)]&&(_0x47c60e[_0x265b4f(0x643)]['lastReceivedMessage']=_0x47c60e['chatLog'][_0x265b4f(0x18b)]),_0x47c60e[_0x265b4f(0x643)][_0x265b4f(0x2e0)]&&(_0x47c60e['chatLog']['lastCondition']=_0x47c60e['chatLog'][_0x265b4f(0x2e0)]),_0x4988cc&&(_0x47c60e[_0x265b4f(0x221)]=_0x265b4f(0x4cf)),_0x5360f3?this[_0x265b4f(0x785)](_0x47c60e):this[_0x265b4f(0x223)](_0x47c60e,_0x444dcc);}[a0_0x2e4b91(0x261)](_0x3611b3,_0xf55e5f){const _0x2952e2=a0_0x2e4b91;return _0x3611b3[_0x2952e2(0x3ca)](/\{\{([^}]+)\}\}/g,(_0xe9bcbd,_0x246c9d)=>_0xf55e5f[_0x246c9d]?'{{'+_0x246c9d+'}}\x20->\x20\x22'+_0xf55e5f[_0x246c9d]+'\x22':'{{'+_0x246c9d+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x2e4b91(0x785)](_0x378ced){const _0x9a2c9a=a0_0x2e4b91;try{let _0x486651=Object[_0x9a2c9a(0x3fe)](_0x378ced[_0x9a2c9a(0x643)]['realVariables'])['map'](([_0x59f5e3,_0x224ca0])=>({'name':_0x59f5e3,'value':_0x224ca0})),_0xfb1872={'status':_0x378ced[_0x9a2c9a(0x221)],'blocks':_0x378ced[_0x9a2c9a(0x5f5)],'waitingMenu_id':_0x378ced[_0x9a2c9a(0x584)],'waitingMenu_text':_0x378ced['waitingMenu_text'],'waitingMenu_replyOptions':_0x378ced[_0x9a2c9a(0x667)],'chatLog':{'lastBlockId':_0x378ced[_0x9a2c9a(0x643)]['lastBlockId'],'lastSendMessage':_0x378ced[_0x9a2c9a(0x643)][_0x9a2c9a(0x74a)],'lastReceivedMessage':_0x378ced[_0x9a2c9a(0x643)][_0x9a2c9a(0x18b)],'lastCondition':_0x378ced[_0x9a2c9a(0x643)]['lastCondition'],'chatVariables':_0x486651,'realVariables':_0x378ced[_0x9a2c9a(0x643)][_0x9a2c9a(0x77f)],'blockLogs':_0x378ced['chatLog'][_0x9a2c9a(0x59f)]}},_0x3ca474=await this[_0x9a2c9a(0x3f0)]['flowConversation'][_0x9a2c9a(0x3fb)](_0x378ced[_0x9a2c9a(0x264)],_0xfb1872,this['instance'][_0x9a2c9a(0x385)]);if(_0x3ca474){this[_0x9a2c9a(0x76f)][_0x9a2c9a(0x477)](this[_0x9a2c9a(0x5bc)]+'\x20('+this[_0x9a2c9a(0x638)]['wuid']+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x3ca474[_0x9a2c9a(0x264)]);try{let _0x12f3eb=['nome','nomecompleto',_0x9a2c9a(0x70b),_0x9a2c9a(0x654),_0x9a2c9a(0x221),_0x9a2c9a(0x1b1),'responsavelid',_0x9a2c9a(0x65c)];if(!this[_0x9a2c9a(0x3c4)]&&(await this[_0x9a2c9a(0x4e9)](),!this[_0x9a2c9a(0x3c4)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x38acd3=this[_0x9a2c9a(0x3c4)]?.[_0x9a2c9a(0x242)][_0x9a2c9a(0x3fa)](_0xcb2df4=>_0xcb2df4['name']),_0x41c654={};Object[_0x9a2c9a(0x3fe)](_0x378ced[_0x9a2c9a(0x643)][_0x9a2c9a(0x77f)])[_0x9a2c9a(0x2de)](([_0x92c6fb,_0x4c19d1])=>{const _0x346e59=_0x9a2c9a;_0x12f3eb[_0x346e59(0x5fa)](_0x92c6fb)&&(_0x92c6fb===_0x346e59(0x65c)&&typeof _0x4c19d1==_0x346e59(0x49c)?_0x41c654[_0x92c6fb]=_0x4c19d1[_0x346e59(0x4ad)](',')[_0x346e59(0x3fa)](_0x1a7780=>_0x1a7780[_0x346e59(0x2ec)]())[_0x346e59(0x714)](_0x243b4f=>_0x243b4f!==''):_0x41c654[_0x92c6fb]=_0x4c19d1);});let _0x2f9c39=_0x378ced[_0x9a2c9a(0x643)][_0x9a2c9a(0x59f)][_0x378ced['chatLog'][_0x9a2c9a(0x59f)][_0x9a2c9a(0x52c)]-0x1];if(_0x2f9c39){let _0x12b420=_0x2f9c39['newStoppedUntil'];_0x12b420!==void 0x0&&(_0x41c654[_0x9a2c9a(0x50f)]=_0x12b420[_0x9a2c9a(0x40f)]());}let _0x1a87b5=_0x486651['filter'](_0x5a8803=>_0x38acd3[_0x9a2c9a(0x5fa)](_0x5a8803[_0x9a2c9a(0x307)]));this[_0x9a2c9a(0x76f)][_0x9a2c9a(0x477)](this[_0x9a2c9a(0x5bc)]+'\x20('+this[_0x9a2c9a(0x638)]['wuid']+_0x9a2c9a(0x22a)),this[_0x9a2c9a(0x76f)][_0x9a2c9a(0x477)](_0x41c654),this[_0x9a2c9a(0x76f)][_0x9a2c9a(0x477)](this['instanceName']+'\x20('+this[_0x9a2c9a(0x638)][_0x9a2c9a(0x385)]+'):\x20customFieldVariables'),this[_0x9a2c9a(0x76f)]['verbose'](_0x1a87b5);let _0x4b1574=_0x1a87b5[_0x9a2c9a(0x3fa)](_0x141fd4=>{const _0x1edda7=_0x9a2c9a;let _0x4ee3da=this[_0x1edda7(0x3c4)]?.[_0x1edda7(0x242)][_0x1edda7(0x18c)](_0x537658=>_0x537658[_0x1edda7(0x307)]===_0x141fd4[_0x1edda7(0x307)]);if(!_0x4ee3da)throw new Error(_0x1edda7(0x602)+_0x141fd4['name']);return{'_id':_0x4ee3da[_0x1edda7(0x264)],'value':_0x141fd4[_0x1edda7(0x73f)]};});this['logger'][_0x9a2c9a(0x477)](this[_0x9a2c9a(0x5bc)]+'\x20('+this[_0x9a2c9a(0x638)][_0x9a2c9a(0x385)]+_0x9a2c9a(0x657)),this['logger'][_0x9a2c9a(0x477)](_0x4b1574),await this['saveChatVariables'](_0x378ced[_0x9a2c9a(0x78d)],_0x41c654,_0x4b1574);}catch(_0x9c7d89){this[_0x9a2c9a(0x76f)]['error'](this[_0x9a2c9a(0x5bc)]+'\x20('+this[_0x9a2c9a(0x638)][_0x9a2c9a(0x385)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x9c7d89 instanceof Error?_0x9c7d89[_0x9a2c9a(0x662)]:JSON[_0x9a2c9a(0x1ba)](_0x9c7d89,null,0x2)));}}else this[_0x9a2c9a(0x76f)][_0x9a2c9a(0x27b)](this[_0x9a2c9a(0x5bc)]+'\x20('+this['instance'][_0x9a2c9a(0x385)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x45fbb6){this[_0x9a2c9a(0x76f)]['error'](this[_0x9a2c9a(0x5bc)]+'\x20('+this['instance'][_0x9a2c9a(0x385)]+_0x9a2c9a(0x225)+(_0x45fbb6 instanceof Error?_0x45fbb6[_0x9a2c9a(0x662)]:JSON[_0x9a2c9a(0x1ba)](_0x45fbb6,null,0x2)));}}async[a0_0x2e4b91(0x5d3)](_0x50a0cc,_0x57f864,_0x3a3f7f){const _0x30dde8=a0_0x2e4b91;try{let _0xd97f04={'leadInfo.leadnome':_0x57f864['nome'],'leadInfo.nomecompleto':_0x57f864[_0x30dde8(0x300)],'leadInfo.email':_0x57f864[_0x30dde8(0x70b)],'leadInfo.cpf':_0x57f864[_0x30dde8(0x654)],'leadInfo.status':_0x57f864['status'],'leadInfo.notas':_0x57f864['notas'],'leadInfo.responsavelid':_0x57f864[_0x30dde8(0x3ac)],'leadInfo.tags':_0x57f864[_0x30dde8(0x65c)],'leadInfo.customFields':_0x3a3f7f};if(_0x30dde8(0x50f)in _0x57f864){let _0x319c0=_0x57f864[_0x30dde8(0x50f)];_0xd97f04[_0x30dde8(0x731)]=_0x319c0?Number(_0x319c0):null;}let _0x250775=await this[_0x30dde8(0x3f0)][_0x30dde8(0x589)]['updateOne']({'where':{'_id':_0x50a0cc}},_0xd97f04,this[_0x30dde8(0x638)]['wuid']);_0x250775?(this[_0x30dde8(0x76f)]['verbose'](this['instanceName']+'\x20('+this[_0x30dde8(0x638)][_0x30dde8(0x385)]+_0x30dde8(0x7a4)+_0x250775['_id']),q(this[_0x30dde8(0x5bc)],'chats',{'chat':_0x250775})):this[_0x30dde8(0x76f)][_0x30dde8(0x27b)](this[_0x30dde8(0x5bc)]+'\x20('+this[_0x30dde8(0x638)]['wuid']+_0x30dde8(0x737));}catch(_0x4079c){this[_0x30dde8(0x76f)]['error'](this[_0x30dde8(0x5bc)]+'\x20('+this[_0x30dde8(0x638)][_0x30dde8(0x385)]+_0x30dde8(0x575)+(_0x4079c instanceof Error?_0x4079c[_0x30dde8(0x662)]:JSON[_0x30dde8(0x1ba)](_0x4079c,null,0x2)));}}async[a0_0x2e4b91(0x563)](_0x15a001,_0x27df08){const _0x10c643=a0_0x2e4b91;this[_0x10c643(0x76f)]['verbose'](this[_0x10c643(0x5bc)]+'\x20('+this['instance']['wuid']+_0x10c643(0x183)+_0x27df08);try{let _0x33cb3f=await this[_0x10c643(0x3f0)][_0x10c643(0x589)][_0x10c643(0x3fb)]({'where':{'_id':_0x15a001[_0x10c643(0x78d)]}},{'leadInfo.desativadoFluxoAte':_0x27df08},this[_0x10c643(0x638)][_0x10c643(0x385)]);this[_0x10c643(0x76f)][_0x10c643(0x477)](this[_0x10c643(0x5bc)]+'\x20('+this[_0x10c643(0x638)][_0x10c643(0x385)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x15a001[_0x10c643(0x264)]),this[_0x10c643(0x76f)][_0x10c643(0x477)](this[_0x10c643(0x5bc)]+'\x20('+this[_0x10c643(0x638)][_0x10c643(0x385)]+'):\x20atualização\x20chat:\x20'+JSON[_0x10c643(0x1ba)](_0x33cb3f,null,0x2)),_0x33cb3f&&q(this[_0x10c643(0x5bc)],'chats',{'chat':_0x33cb3f});}catch(_0x503ef6){this[_0x10c643(0x76f)][_0x10c643(0x27b)](this[_0x10c643(0x5bc)]+'\x20('+this['instance'][_0x10c643(0x385)]+_0x10c643(0x449)+(_0x503ef6 instanceof Error?_0x503ef6[_0x10c643(0x662)]:JSON[_0x10c643(0x1ba)](_0x503ef6,null,0x2)));}}async[a0_0x2e4b91(0x45f)](_0x4a0725){const _0x3b9f81=a0_0x2e4b91;try{this[_0x3b9f81(0x76f)][_0x3b9f81(0x477)](this[_0x3b9f81(0x5bc)]+'\x20('+this[_0x3b9f81(0x638)]['wuid']+_0x3b9f81(0x3c6));let _0x339e41=_0x4a0725[_0x3b9f81(0x3ca)](/\D/g,''),_0x567573=await this[_0x3b9f81(0x3f0)][_0x3b9f81(0x3d8)]['findOne']({'where':{'testingWith':_0x339e41}},this[_0x3b9f81(0x638)][_0x3b9f81(0x385)]);return _0x567573||(this[_0x3b9f81(0x76f)]['verbose'](this[_0x3b9f81(0x5bc)]+'\x20('+this['instance'][_0x3b9f81(0x385)]+_0x3b9f81(0x3b9)),_0x567573=await this['repository'][_0x3b9f81(0x3d8)][_0x3b9f81(0x5aa)]({'where':{'default':!0x0}},this[_0x3b9f81(0x638)][_0x3b9f81(0x385)])),_0x567573||(this[_0x3b9f81(0x76f)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3b9f81(0x385)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x4070eb){return this['logger'][_0x3b9f81(0x27b)](this[_0x3b9f81(0x5bc)]+'\x20('+this['instance'][_0x3b9f81(0x385)]+_0x3b9f81(0x29e)+(_0x4070eb instanceof Error?_0x4070eb['message']:JSON[_0x3b9f81(0x1ba)](_0x4070eb,null,0x2))),null;}}async['findConversation'](_0x4bd5ab,_0x2422bd){const _0x3810bf=a0_0x2e4b91;try{let _0x59e277=!!_0x2422bd[_0x3810bf(0x1f5)],_0x2150da=_0x2422bd[_0x3810bf(0x197)],_0x4f80ff=null;if(this[_0x3810bf(0x76f)][_0x3810bf(0x477)](this[_0x3810bf(0x5bc)]+'\x20('+this[_0x3810bf(0x638)][_0x3810bf(0x385)]+_0x3810bf(0x172)+_0x59e277+_0x3810bf(0x746)+_0x2150da),_0x59e277){this[_0x3810bf(0x76f)][_0x3810bf(0x477)](this[_0x3810bf(0x5bc)]+'\x20('+this[_0x3810bf(0x638)][_0x3810bf(0x385)]+_0x3810bf(0x2c5));let _0xbb949e={'where':{'remoteJid':_0x4bd5ab,'waitingMenu_id':_0x2150da}};if(_0x4f80ff=await this['repository'][_0x3810bf(0x782)][_0x3810bf(0x5aa)](_0xbb949e,this[_0x3810bf(0x638)]['wuid']),!_0x4f80ff)return this[_0x3810bf(0x76f)][_0x3810bf(0x477)](this[_0x3810bf(0x5bc)]+'\x20('+this[_0x3810bf(0x638)][_0x3810bf(0x385)]+_0x3810bf(0x490)),null;let _0x1de491=Date[_0x3810bf(0x2cd)](),_0x57c6c4=_0x4f80ff?.[_0x3810bf(0x1e2)]||0x0,_0x3f050b=_0x1de491-_0x57c6c4*0x3c*0x3e8;if(_0x4f80ff['lastInteraction']<_0x3f050b){this[_0x3810bf(0x76f)][_0x3810bf(0x477)](this['instanceName']+'\x20('+this[_0x3810bf(0x638)][_0x3810bf(0x385)]+_0x3810bf(0x4c8));let _0x23520a={'number':_0x4f80ff[_0x3810bf(0x78d)],'options':{'delay':0x0},'textMessage':{'text':_0x4f80ff['waitingMenu_ExpiredMessage']}};await this['textMessage'](_0x23520a);let _0x327e00={'status':_0x3810bf(0x4cf),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x3810bf(0x3f0)][_0x3810bf(0x782)][_0x3810bf(0x3fb)](_0x4f80ff[_0x3810bf(0x264)],_0x327e00,this[_0x3810bf(0x638)][_0x3810bf(0x385)]),null;}return _0x4f80ff[_0x3810bf(0x351)]=Date['now'](),_0x4f80ff[_0x3810bf(0x643)]['lastReceivedMessage']=_0x2422bd,_0x4f80ff;}else{this[_0x3810bf(0x76f)]['verbose'](this['instanceName']+'\x20('+this[_0x3810bf(0x638)]['wuid']+'):\x20'+this['instance'][_0x3810bf(0x385)]+_0x3810bf(0x5dd)),this[_0x3810bf(0x76f)]['verbose'](this[_0x3810bf(0x5bc)]+'\x20('+this[_0x3810bf(0x638)][_0x3810bf(0x385)]+_0x3810bf(0x1e9));let _0x57ea68={'where':{'remoteJid':_0x4bd5ab,'status':_0x3810bf(0x442)}};if(_0x4f80ff=await this[_0x3810bf(0x3f0)][_0x3810bf(0x782)][_0x3810bf(0x5aa)](_0x57ea68,this[_0x3810bf(0x638)]['wuid']),!_0x4f80ff){let _0x241b7d=await this[_0x3810bf(0x45f)](_0x4bd5ab);if(_0x241b7d&&(_0x4f80ff=await this[_0x3810bf(0x46d)](_0x241b7d,_0x2422bd[_0x3810bf(0x16e)],_0x2422bd)),!_0x4f80ff)return null;}let _0x453d48=Date['now'](),_0xb12f1d=_0x4f80ff?.[_0x3810bf(0x1e2)]||0x0,_0x2ebc6c=_0x453d48-_0xb12f1d*0x3c*0x3e8;if(this[_0x3810bf(0x76f)][_0x3810bf(0x477)](this[_0x3810bf(0x5bc)]+'\x20('+this[_0x3810bf(0x638)][_0x3810bf(0x385)]+'):\x20Current\x20Time:\x20'+_0x453d48+_0x3810bf(0x27c)+_0xb12f1d+_0x3810bf(0x700)+_0x2ebc6c),this[_0x3810bf(0x76f)][_0x3810bf(0x477)](this[_0x3810bf(0x5bc)]+'\x20('+this[_0x3810bf(0x638)][_0x3810bf(0x385)]+_0x3810bf(0x231)),this['logger'][_0x3810bf(0x477)](this[_0x3810bf(0x5bc)]+'\x20('+this[_0x3810bf(0x638)][_0x3810bf(0x385)]+_0x3810bf(0x674)+_0x4f80ff[_0x3810bf(0x351)]),this['logger'][_0x3810bf(0x477)](this[_0x3810bf(0x5bc)]+'\x20('+this[_0x3810bf(0x638)]['wuid']+_0x3810bf(0x175)+_0x2ebc6c),_0x4f80ff[_0x3810bf(0x351)]<_0x2ebc6c){this[_0x3810bf(0x76f)][_0x3810bf(0x477)](this[_0x3810bf(0x5bc)]+'\x20('+this['instance'][_0x3810bf(0x385)]+_0x3810bf(0x38e));let _0x26a70d=await this['findFlow'](_0x4bd5ab);if(_0x26a70d===null)return null;_0x4f80ff&&await this['repository'][_0x3810bf(0x782)]['updateOne'](_0x4f80ff[_0x3810bf(0x264)],{'status':_0x3810bf(0x4cf)},this[_0x3810bf(0x638)]['wuid']),_0x4f80ff=await this['createNewConversation'](_0x26a70d,_0x2422bd[_0x3810bf(0x16e)],_0x2422bd);}return _0x4f80ff[_0x3810bf(0x351)]=_0x453d48,_0x4f80ff[_0x3810bf(0x643)][_0x3810bf(0x18b)]=_0x2422bd,_0x4f80ff;}}catch(_0x677832){return this[_0x3810bf(0x76f)]['error'](this['instanceName']+'\x20('+this[_0x3810bf(0x638)][_0x3810bf(0x385)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x677832 instanceof Error?_0x677832[_0x3810bf(0x662)]:JSON[_0x3810bf(0x1ba)](_0x677832,null,0x2))),null;}}async[a0_0x2e4b91(0x46d)](_0x2ab48d,_0x523125,_0xf14ab4){const _0x4381ca=a0_0x2e4b91;this['logger'][_0x4381ca(0x477)](this['instanceName']+'\x20('+this[_0x4381ca(0x638)][_0x4381ca(0x385)]+_0x4381ca(0x3da));try{let _0x2fbd5d=require(_0x4381ca(0x40c))['ObjectId'],_0x2e344d=Date[_0x4381ca(0x2cd)](),_0xa7862d=_0x4381ca(0x447),_0x5458ed=_0x523125['fromMe']?null:_0xf14ab4,_0x5d900d=_0x523125[_0x4381ca(0x48b)]?_0xf14ab4:null,_0x110468=_0x523125[_0x4381ca(0x78d)];await this['closeExistingConversations'](_0x110468);let _0x2c11b8={..._0x2ab48d,'chatLog':null},_0x2e03e1=await this[_0x4381ca(0x2fb)](_0x2c11b8[_0x4381ca(0x217)]),_0x5b142f=await this[_0x4381ca(0x326)](_0x110468),_0x31c599={..._0x2e03e1,..._0x5b142f,'_remoteJid':_0x110468},_0x4e366a={'lastReceivedMessage':_0x5458ed,'lastSendMessage':_0x5d900d,'lastBlockId':_0xa7862d,'lastCondition':!0x0,'realVariables':_0x31c599};_0x2c11b8[_0x4381ca(0x643)]=_0x4e366a,delete _0x2c11b8[_0x4381ca(0x264)],_0x2c11b8[_0x4381ca(0x264)]=new _0x2fbd5d(),_0x2c11b8[_0x4381ca(0x351)]=_0x2e344d,_0x2c11b8[_0x4381ca(0x221)]=_0x4381ca(0x442),_0x2c11b8[_0x4381ca(0x78d)]=_0x110468;let _0x38b59a=await this[_0x4381ca(0x3f0)]['flowConversation'][_0x4381ca(0x3fb)](_0x2c11b8['_id'],_0x2c11b8,this[_0x4381ca(0x638)][_0x4381ca(0x385)]);return this[_0x4381ca(0x76f)][_0x4381ca(0x477)](this[_0x4381ca(0x5bc)]+'\x20('+this[_0x4381ca(0x638)][_0x4381ca(0x385)]+_0x4381ca(0x1f3)),_0x38b59a?_0x2c11b8:null;}catch(_0x409d00){return this[_0x4381ca(0x76f)][_0x4381ca(0x27b)](this['instanceName']+'\x20('+this[_0x4381ca(0x638)][_0x4381ca(0x385)]+_0x4381ca(0x1ae)+(_0x409d00 instanceof Error?_0x409d00[_0x4381ca(0x662)]:JSON[_0x4381ca(0x1ba)](_0x409d00,null,0x2))),_0x409d00;}}async[a0_0x2e4b91(0x612)](_0x36c873,_0x31844e){const _0x437d4b=a0_0x2e4b91;let _0x24e694=_0x36c873[_0x437d4b(0x78d)];_0x31844e[_0x437d4b(0x55c)]['remoteJid']&&_0x31844e[_0x437d4b(0x55c)][_0x437d4b(0x78d)][_0x437d4b(0x2ec)]()!==''&&(_0x24e694=_0x31844e[_0x437d4b(0x55c)][_0x437d4b(0x78d)][_0x437d4b(0x2ec)]()),this[_0x437d4b(0x76f)]['verbose'](this[_0x437d4b(0x5bc)]+'\x20('+this[_0x437d4b(0x638)][_0x437d4b(0x385)]+_0x437d4b(0x4a2));let _0x57ae69={'number':_0x24e694,'options':{'delay':_0x31844e[_0x437d4b(0x55c)]['delay']},'textMessage':{'text':_0x31844e[_0x437d4b(0x55c)][_0x437d4b(0x6c1)]}};try{let _0xfcfd20=await this['textMessage'](_0x57ae69);if(_0xfcfd20){let _0x23f5ae={'_id':_0xfcfd20[_0x437d4b(0x16e)]['id'],'_fromMe':_0xfcfd20[_0x437d4b(0x16e)][_0x437d4b(0x48b)],'_remoteJid':_0xfcfd20[_0x437d4b(0x16e)][_0x437d4b(0x78d)]};_0x36c873[_0x437d4b(0x643)][_0x437d4b(0x41a)]=_0x31844e[_0x437d4b(0x264)]['toString']();let {message_normalized:_0x2836f0}=this[_0x437d4b(0x70a)](_0xfcfd20[_0x437d4b(0x662)],_(_0xfcfd20['message']),null);_0x36c873[_0x437d4b(0x643)][_0x437d4b(0x74a)]=await _0x2836f0;let _0xcdf0ad={'messageId':_0xfcfd20[_0x437d4b(0x16e)]['id']},_0x3d0c82=_0x36c873[_0x437d4b(0x643)][_0x437d4b(0x77f)];Object[_0x437d4b(0x274)](_0x3d0c82,_0x23f5ae),_0x36c873[_0x437d4b(0x643)]['realVariables']=_0x3d0c82,this[_0x437d4b(0x7a3)](_0x36c873,_0x31844e,_0xcdf0ad);}else{let _0x4f8ae5={'error':!0x0};this[_0x437d4b(0x7a3)](_0x36c873,_0x31844e,_0x4f8ae5),this[_0x437d4b(0x76f)]['error'](this['instanceName']+'\x20('+this[_0x437d4b(0x638)][_0x437d4b(0x385)]+_0x437d4b(0x703));}}catch(_0x4d13f7){let _0x8e8219={'error':!0x0,'errorLog':_0x4d13f7[_0x437d4b(0x40f)]()};this[_0x437d4b(0x7a3)](_0x36c873,_0x31844e,_0x8e8219),this[_0x437d4b(0x76f)][_0x437d4b(0x27b)](this[_0x437d4b(0x5bc)]+'\x20('+this[_0x437d4b(0x638)][_0x437d4b(0x385)]+_0x437d4b(0x1cc)+(_0x4d13f7 instanceof Error?_0x4d13f7['message']:JSON[_0x437d4b(0x1ba)](_0x4d13f7,null,0x2)));}}async[a0_0x2e4b91(0x403)](_0x4a64e9,_0x161207){const _0x5487cc=a0_0x2e4b91;let _0x2e9bf7=_0x4a64e9['remoteJid'];_0x161207[_0x5487cc(0x55c)]['remoteJid']&&_0x161207[_0x5487cc(0x55c)][_0x5487cc(0x78d)][_0x5487cc(0x2ec)]()!==''&&(_0x2e9bf7=_0x161207['uazapi'][_0x5487cc(0x78d)][_0x5487cc(0x2ec)]()),this[_0x5487cc(0x76f)][_0x5487cc(0x477)](this[_0x5487cc(0x5bc)]+'\x20('+this['instance'][_0x5487cc(0x385)]+_0x5487cc(0x580));let _0x2f2687={'number':_0x2e9bf7,'options':{'delay':_0x161207[_0x5487cc(0x55c)][_0x5487cc(0x682)]},'mediaMessage':{'mediatype':_0x161207[_0x5487cc(0x55c)][_0x5487cc(0x26d)],'caption':_0x161207['uazapi'][_0x5487cc(0x186)],'media':_0x161207[_0x5487cc(0x55c)][_0x5487cc(0x43e)],'fileName':_0x161207['uazapi'][_0x5487cc(0x2dd)]}};try{let _0x3865ff=await this[_0x5487cc(0x1e8)](_0x2f2687);if(_0x3865ff){let _0xaefe={'_id':_0x3865ff[_0x5487cc(0x16e)]['id'],'_fromMe':_0x3865ff[_0x5487cc(0x16e)]['fromMe'],'_remoteJid':_0x3865ff[_0x5487cc(0x16e)][_0x5487cc(0x78d)]};_0x4a64e9[_0x5487cc(0x643)]['lastBlockId']=_0x161207[_0x5487cc(0x264)][_0x5487cc(0x40f)]();let {message_normalized:_0x19b550}=this[_0x5487cc(0x70a)](_0x3865ff['message'],_(_0x3865ff['message']),null);_0x4a64e9[_0x5487cc(0x643)]['lastSendMessage']=await _0x19b550;let _0x19493a={'messageId':_0x3865ff['key']['id']},_0x4bd8e8=_0x4a64e9[_0x5487cc(0x643)]['realVariables'];Object[_0x5487cc(0x274)](_0x4bd8e8,_0xaefe),_0x4a64e9['chatLog'][_0x5487cc(0x77f)]=_0x4bd8e8,this[_0x5487cc(0x7a3)](_0x4a64e9,_0x161207,_0x19493a);}else{let _0x4d856a={'error':!0x0};this[_0x5487cc(0x7a3)](_0x4a64e9,_0x161207,_0x4d856a),this[_0x5487cc(0x76f)]['error'](this[_0x5487cc(0x5bc)]+'\x20('+this[_0x5487cc(0x638)][_0x5487cc(0x385)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x541214){let _0x31adbf={'error':!0x0,'errorLog':_0x541214[_0x5487cc(0x40f)]()};this[_0x5487cc(0x7a3)](_0x4a64e9,_0x161207,_0x31adbf),this[_0x5487cc(0x76f)][_0x5487cc(0x27b)](this[_0x5487cc(0x5bc)]+'\x20('+this['instance'][_0x5487cc(0x385)]+_0x5487cc(0x2f8)+(_0x541214 instanceof Error?_0x541214[_0x5487cc(0x662)]:JSON[_0x5487cc(0x1ba)](_0x541214,null,0x2)));}}async[a0_0x2e4b91(0x1a2)](_0x1c317d,_0x11e48c){const _0x46e89a=a0_0x2e4b91;let _0x30c765=_0x1c317d[_0x46e89a(0x78d)];_0x11e48c[_0x46e89a(0x55c)][_0x46e89a(0x78d)]&&_0x11e48c[_0x46e89a(0x55c)][_0x46e89a(0x78d)][_0x46e89a(0x2ec)]()!==''&&(_0x30c765=_0x11e48c['uazapi'][_0x46e89a(0x78d)]['trim']()),this[_0x46e89a(0x76f)][_0x46e89a(0x477)](this[_0x46e89a(0x5bc)]+'\x20('+this[_0x46e89a(0x638)][_0x46e89a(0x385)]+'):\x20Enviando\x20localização');let _0x1f76e9={'number':_0x30c765,'options':{'delay':_0x11e48c[_0x46e89a(0x55c)][_0x46e89a(0x682)]},'locationMessage':{'name':_0x11e48c[_0x46e89a(0x55c)][_0x46e89a(0x307)],'address':_0x11e48c[_0x46e89a(0x55c)][_0x46e89a(0x4a5)],'latitude':_0x11e48c['uazapi'][_0x46e89a(0x469)],'longitude':_0x11e48c['uazapi'][_0x46e89a(0x43b)]}};try{let _0x5d5ea2=await this[_0x46e89a(0x1be)](_0x1f76e9);if(_0x5d5ea2){let _0x3ac5e8={'_id':_0x5d5ea2[_0x46e89a(0x16e)]['id'],'_fromMe':_0x5d5ea2[_0x46e89a(0x16e)][_0x46e89a(0x48b)],'_remoteJid':_0x5d5ea2[_0x46e89a(0x16e)][_0x46e89a(0x78d)]};_0x1c317d['chatLog'][_0x46e89a(0x41a)]=_0x11e48c[_0x46e89a(0x264)]['toString']();let {message_normalized:_0x2e65d1}=this[_0x46e89a(0x70a)](_0x5d5ea2[_0x46e89a(0x662)],_(_0x5d5ea2[_0x46e89a(0x662)]),null);_0x1c317d[_0x46e89a(0x643)][_0x46e89a(0x74a)]=await _0x2e65d1;let _0x29dc89={'messageId':_0x5d5ea2['key']['id']},_0x4188e4=_0x1c317d[_0x46e89a(0x643)]['realVariables'];Object[_0x46e89a(0x274)](_0x4188e4,_0x3ac5e8),_0x1c317d[_0x46e89a(0x643)][_0x46e89a(0x77f)]=_0x4188e4,this[_0x46e89a(0x7a3)](_0x1c317d,_0x11e48c,_0x29dc89);}else{let _0x23c8f2={'error':!0x0};this[_0x46e89a(0x7a3)](_0x1c317d,_0x11e48c,_0x23c8f2),this[_0x46e89a(0x76f)][_0x46e89a(0x27b)](this['instanceName']+'\x20('+this['instance'][_0x46e89a(0x385)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x1c5a30){let _0x53b7fc={'error':!0x0,'errorLog':_0x1c5a30[_0x46e89a(0x40f)]()};this[_0x46e89a(0x7a3)](_0x1c317d,_0x11e48c,_0x53b7fc),this[_0x46e89a(0x76f)][_0x46e89a(0x27b)](this[_0x46e89a(0x5bc)]+'\x20('+this[_0x46e89a(0x638)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x1c5a30 instanceof Error?_0x1c5a30[_0x46e89a(0x662)]:JSON[_0x46e89a(0x1ba)](_0x1c5a30,null,0x2)));}}async[a0_0x2e4b91(0x208)](_0x33334e,_0x2686f7){const _0x15e887=a0_0x2e4b91;let _0x17be12=_0x33334e[_0x15e887(0x78d)];_0x2686f7['uazapi'][_0x15e887(0x78d)]&&_0x2686f7['uazapi'][_0x15e887(0x78d)][_0x15e887(0x2ec)]()!==''&&(_0x17be12=_0x2686f7[_0x15e887(0x55c)][_0x15e887(0x78d)][_0x15e887(0x2ec)]()),this[_0x15e887(0x76f)][_0x15e887(0x477)](this[_0x15e887(0x5bc)]+'\x20('+this[_0x15e887(0x638)][_0x15e887(0x385)]+_0x15e887(0x1d3));let _0x48a308={'number':_0x17be12,'options':{'delay':_0x2686f7[_0x15e887(0x55c)][_0x15e887(0x682)]},'audioMessage':{'audio':_0x2686f7[_0x15e887(0x55c)][_0x15e887(0x47e)]}};try{let _0x4c387e=await this[_0x15e887(0x671)](_0x48a308);if(_0x4c387e){let _0x43e931={'_id':_0x4c387e['key']['id'],'_fromMe':_0x4c387e[_0x15e887(0x16e)][_0x15e887(0x48b)],'_remoteJid':_0x4c387e['key']['remoteJid']};_0x33334e[_0x15e887(0x643)][_0x15e887(0x41a)]=_0x2686f7[_0x15e887(0x264)][_0x15e887(0x40f)]();let {message_normalized:_0x4327ba}=this[_0x15e887(0x70a)](_0x4c387e[_0x15e887(0x662)],_(_0x4c387e[_0x15e887(0x662)]),null);_0x33334e[_0x15e887(0x643)][_0x15e887(0x74a)]=await _0x4327ba;let _0x1d57f6={'messageId':_0x4c387e[_0x15e887(0x16e)]['id']},_0x138e37=_0x33334e['chatLog']['realVariables'];Object[_0x15e887(0x274)](_0x138e37,_0x43e931),_0x33334e['chatLog']['realVariables']=_0x138e37,this[_0x15e887(0x7a3)](_0x33334e,_0x2686f7,_0x1d57f6);}else{let _0x1457e1={'error':!0x0};this[_0x15e887(0x7a3)](_0x33334e,_0x2686f7,_0x1457e1),this['logger'][_0x15e887(0x27b)](this[_0x15e887(0x5bc)]+'\x20('+this['instance'][_0x15e887(0x385)]+_0x15e887(0x45c));}}catch(_0x54e5a3){let _0x879ddb={'error':!0x0,'errorLog':_0x54e5a3[_0x15e887(0x40f)]()};this[_0x15e887(0x7a3)](_0x33334e,_0x2686f7,_0x879ddb),this[_0x15e887(0x76f)]['error'](this[_0x15e887(0x5bc)]+'\x20('+this[_0x15e887(0x638)][_0x15e887(0x385)]+_0x15e887(0x33d)+(_0x54e5a3 instanceof Error?_0x54e5a3[_0x15e887(0x662)]:JSON['stringify'](_0x54e5a3,null,0x2)));}}async[a0_0x2e4b91(0x621)](_0x38c74a,_0x61882a){const _0x3e2c89=a0_0x2e4b91;let _0x5f3f02=_0x38c74a[_0x3e2c89(0x78d)];_0x61882a[_0x3e2c89(0x55c)][_0x3e2c89(0x78d)]&&_0x61882a['uazapi'][_0x3e2c89(0x78d)][_0x3e2c89(0x2ec)]()!==''&&(_0x5f3f02=_0x61882a['uazapi'][_0x3e2c89(0x78d)][_0x3e2c89(0x2ec)]()),this[_0x3e2c89(0x76f)][_0x3e2c89(0x477)](this[_0x3e2c89(0x5bc)]+'\x20('+this[_0x3e2c89(0x638)][_0x3e2c89(0x385)]+_0x3e2c89(0x1ab));let _0x5bbbea={'number':_0x5f3f02,'options':{'delay':_0x61882a['uazapi'][_0x3e2c89(0x682)]},'contactMessage':[{'fullName':_0x61882a[_0x3e2c89(0x55c)][_0x3e2c89(0x414)],'phoneNumber':_0x61882a['uazapi']['phoneNumber']}]};try{let _0x188a41=await this[_0x3e2c89(0x726)](_0x5bbbea);if(_0x188a41){let _0x2231aa={'_id':_0x188a41['key']['id'],'_fromMe':_0x188a41[_0x3e2c89(0x16e)][_0x3e2c89(0x48b)],'_remoteJid':_0x188a41['key'][_0x3e2c89(0x78d)]};_0x38c74a[_0x3e2c89(0x643)][_0x3e2c89(0x41a)]=_0x61882a[_0x3e2c89(0x264)]['toString']();let {message_normalized:_0xfeef41}=this[_0x3e2c89(0x70a)](_0x188a41[_0x3e2c89(0x662)],_(_0x188a41['message']),null);_0x38c74a['chatLog'][_0x3e2c89(0x74a)]=await _0xfeef41;let _0x167069={'messageId':_0x188a41['key']['id']},_0x2cbc37=_0x38c74a['chatLog'][_0x3e2c89(0x77f)];Object[_0x3e2c89(0x274)](_0x2cbc37,_0x2231aa),_0x38c74a['chatLog'][_0x3e2c89(0x77f)]=_0x2cbc37,this[_0x3e2c89(0x7a3)](_0x38c74a,_0x61882a,_0x167069);}else{let _0x4aa864={'error':!0x0};this[_0x3e2c89(0x7a3)](_0x38c74a,_0x61882a,_0x4aa864),this[_0x3e2c89(0x76f)][_0x3e2c89(0x27b)](this['instanceName']+'\x20('+this[_0x3e2c89(0x638)][_0x3e2c89(0x385)]+_0x3e2c89(0x71f));}}catch(_0x1d4885){let _0x1c28e1={'error':!0x0,'errorLog':_0x1d4885[_0x3e2c89(0x40f)]()};this['updateConversation'](_0x38c74a,_0x61882a,_0x1c28e1),this[_0x3e2c89(0x76f)][_0x3e2c89(0x27b)](this[_0x3e2c89(0x5bc)]+'\x20('+this[_0x3e2c89(0x638)][_0x3e2c89(0x385)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x1d4885 instanceof Error?_0x1d4885[_0x3e2c89(0x662)]:JSON['stringify'](_0x1d4885,null,0x2)));}}[a0_0x2e4b91(0x4c0)](_0x29764d,_0xaab727){const _0xebae92=a0_0x2e4b91;for(let _0x36884d of _0x29764d)_0x36884d[_0xebae92(0x600)]&&(_0x36884d[_0xebae92(0x600)]=this[_0xebae92(0x358)](_0x36884d[_0xebae92(0x600)],_0xaab727)),_0x36884d['optionDescription']&&(_0x36884d['optionDescription']=this[_0xebae92(0x358)](_0x36884d[_0xebae92(0x5a9)],_0xaab727));}async[a0_0x2e4b91(0x3e7)](_0x5dae0f,_0x188d0c){const _0x10cc10=a0_0x2e4b91;let _0x3cab60=_0x5dae0f[_0x10cc10(0x78d)];_0x188d0c[_0x10cc10(0x55c)][_0x10cc10(0x78d)]&&_0x188d0c['uazapi'][_0x10cc10(0x78d)][_0x10cc10(0x2ec)]()!==''&&(_0x3cab60=_0x188d0c[_0x10cc10(0x55c)][_0x10cc10(0x78d)][_0x10cc10(0x2ec)]()),this['logger'][_0x10cc10(0x477)](this[_0x10cc10(0x5bc)]+'\x20('+this['instance']['wuid']+_0x10cc10(0x324));let _0x20f91b=_0x5dae0f[_0x10cc10(0x6e3)][_0x10cc10(0x714)](_0x185b93=>_0x185b93[_0x10cc10(0x2b4)]===_0x188d0c[_0x10cc10(0x264)])['sort']((_0x20e80f,_0x50da38)=>_0x20e80f['order']-_0x50da38[_0x10cc10(0x769)]);this[_0x10cc10(0x4c0)](_0x20f91b,_0x5dae0f[_0x10cc10(0x643)][_0x10cc10(0x77f)]);let _0x131a71=_0x20f91b[_0x10cc10(0x3fa)](_0x4e4369=>_0x4e4369['option']),_0x629a29={'number':_0x3cab60,'menuMessage':{'type':_0x188d0c[_0x10cc10(0x55c)][_0x10cc10(0x6a8)]||_0x10cc10(0x677),'text':_0x188d0c[_0x10cc10(0x55c)][_0x10cc10(0x6c1)]||_0x188d0c[_0x10cc10(0x55c)][_0x10cc10(0x307)],'footerText':_0x188d0c[_0x10cc10(0x55c)][_0x10cc10(0x5d5)],'buttonText':_0x188d0c[_0x10cc10(0x55c)][_0x10cc10(0x61c)],'selectableCount':0x1,'choices':_0x131a71},'options':{'delay':_0x188d0c[_0x10cc10(0x55c)][_0x10cc10(0x682)]}};try{let _0x213068=await this['menuMessage'](_0x629a29);if(_0x213068){let _0x3eccf7={'_id':_0x213068[_0x10cc10(0x16e)]['id'],'_fromMe':_0x213068[_0x10cc10(0x16e)][_0x10cc10(0x48b)],'_remoteJid':_0x213068[_0x10cc10(0x16e)][_0x10cc10(0x78d)]};_0x188d0c[_0x10cc10(0x55c)][_0x10cc10(0x564)]===!0x0&&(_0x5dae0f[_0x10cc10(0x221)]='waitingForReplyMenu',this[_0x10cc10(0x76f)]['verbose'](this[_0x10cc10(0x5bc)]+'\x20('+this[_0x10cc10(0x638)][_0x10cc10(0x385)]+_0x10cc10(0x5f3)+_0x5dae0f[_0x10cc10(0x221)])),this['logger'][_0x10cc10(0x477)](this[_0x10cc10(0x5bc)]+'\x20('+this[_0x10cc10(0x638)]['wuid']+_0x10cc10(0x218)+(_0x188d0c[_0x10cc10(0x55c)]['name']||_0x188d0c[_0x10cc10(0x55c)]['text'])),_0x5dae0f[_0x10cc10(0x584)]=_0x213068[_0x10cc10(0x16e)]['id'],_0x5dae0f[_0x10cc10(0x6a9)]=_0x188d0c[_0x10cc10(0x55c)]['name']||_0x188d0c[_0x10cc10(0x55c)]['text'],_0x5dae0f['waitingMenu_replyOptions']=_0x20f91b,_0x188d0c[_0x10cc10(0x55c)][_0x10cc10(0x296)]&&(_0x5dae0f[_0x10cc10(0x593)]=_0x188d0c[_0x10cc10(0x55c)][_0x10cc10(0x296)]),this['logger']['verbose'](this[_0x10cc10(0x5bc)]+'\x20('+this[_0x10cc10(0x638)][_0x10cc10(0x385)]+_0x10cc10(0x16d)+_0x5dae0f[_0x10cc10(0x6a9)]),_0x5dae0f['chatLog'][_0x10cc10(0x41a)]=_0x188d0c[_0x10cc10(0x264)][_0x10cc10(0x40f)]();let {message_normalized:_0x55fe7e}=this['normalizeMessage'](_0x213068[_0x10cc10(0x662)],_(_0x213068[_0x10cc10(0x662)]),null);_0x5dae0f[_0x10cc10(0x643)][_0x10cc10(0x74a)]=await _0x55fe7e;let _0x48073a={'messageId':_0x213068[_0x10cc10(0x16e)]['id']},_0x1ec95a=_0x5dae0f[_0x10cc10(0x643)][_0x10cc10(0x77f)];Object[_0x10cc10(0x274)](_0x1ec95a,_0x3eccf7),_0x5dae0f[_0x10cc10(0x643)][_0x10cc10(0x77f)]=_0x1ec95a,this[_0x10cc10(0x7a3)](_0x5dae0f,_0x188d0c,_0x48073a);}else{let _0x56f8f3={'error':!0x0};this['updateConversation'](_0x5dae0f,_0x188d0c,_0x56f8f3),this['logger'][_0x10cc10(0x27b)](this[_0x10cc10(0x5bc)]+'\x20('+this[_0x10cc10(0x638)][_0x10cc10(0x385)]+_0x10cc10(0x429));}}catch(_0x24e5b6){let _0x15ce64={'error':!0x0,'errorLog':_0x24e5b6 instanceof Error?_0x24e5b6['message']:JSON['stringify'](_0x24e5b6,null,0x2)};this[_0x10cc10(0x7a3)](_0x5dae0f,_0x188d0c,_0x15ce64),this[_0x10cc10(0x76f)]['error'](this[_0x10cc10(0x5bc)]+'\x20('+this[_0x10cc10(0x638)][_0x10cc10(0x385)]+_0x10cc10(0x24b)+(_0x24e5b6 instanceof Error?_0x24e5b6['message']:JSON['stringify'](_0x24e5b6,null,0x2)));}}async['uazapiDeleteMessage'](_0x409ea8,_0x5e494d){const _0x1a0288=a0_0x2e4b91;this['logger'][_0x1a0288(0x477)](this['instanceName']+'\x20('+this[_0x1a0288(0x638)]['wuid']+_0x1a0288(0x728));let _0x3b9c5a=_0x409ea8[_0x1a0288(0x643)][_0x1a0288(0x59f)]['find'](_0x115a92=>_0x115a92[_0x1a0288(0x2b4)]['toString']()===_0x5e494d[_0x1a0288(0x55c)][_0x1a0288(0x2b4)]['toString']()),_0x179e89={'id':_0x3b9c5a[_0x1a0288(0x337)],'remoteJid':_0x3b9c5a[_0x1a0288(0x78d)],'fromMe':_0x3b9c5a[_0x1a0288(0x48b)]};try{let _0x2a4cad=await this[_0x1a0288(0x6ea)](_0x179e89);if(_0x2a4cad){_0x409ea8['chatLog'][_0x1a0288(0x41a)]=_0x5e494d[_0x1a0288(0x264)]['toString']();let {message_normalized:_0x455569}=this[_0x1a0288(0x70a)](_0x2a4cad[_0x1a0288(0x662)],_(_0x2a4cad[_0x1a0288(0x662)]),null);_0x409ea8[_0x1a0288(0x643)]['lastSendMessage']=await _0x455569;let _0x15f1ce={};this['updateConversation'](_0x409ea8,_0x5e494d,_0x15f1ce);}else{let _0x2a2ff7={'error':!0x0};this[_0x1a0288(0x7a3)](_0x409ea8,_0x5e494d,_0x2a2ff7),this[_0x1a0288(0x76f)][_0x1a0288(0x27b)](this[_0x1a0288(0x5bc)]+'\x20('+this['instance'][_0x1a0288(0x385)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x5465c0){let _0xe7df25={'error':!0x0,'errorLog':_0x5465c0 instanceof Error?_0x5465c0[_0x1a0288(0x662)]:JSON[_0x1a0288(0x1ba)](_0x5465c0,null,0x2)};this['updateConversation'](_0x409ea8,_0x5e494d,_0xe7df25),this[_0x1a0288(0x76f)][_0x1a0288(0x27b)](this['instanceName']+'\x20('+this[_0x1a0288(0x638)][_0x1a0288(0x385)]+_0x1a0288(0x628)+(_0x5465c0 instanceof Error?_0x5465c0[_0x1a0288(0x662)]:JSON['stringify'](_0x5465c0,null,0x2)));}}async[a0_0x2e4b91(0x371)](_0x49667d){const _0x24ac52=a0_0x2e4b91;try{if(this[_0x24ac52(0x76f)][_0x24ac52(0x477)](this[_0x24ac52(0x5bc)]+'\x20('+this['instance'][_0x24ac52(0x385)]+_0x24ac52(0x641)),await this[_0x24ac52(0x3f0)]['flow'][_0x24ac52(0x5aa)]({'where':{'name':_0x49667d[_0x24ac52(0x307)]}},this['instance'][_0x24ac52(0x385)]))return{'message':'Flow\x20already\x20exists'};_0x49667d[_0x24ac52(0x5f2)]===!0x0&&await this['repository'][_0x24ac52(0x3d8)]['updateMany']({},{'default':!0x1},this['instance'][_0x24ac52(0x385)]);let _0x506b0e=new ne[(_0x24ac52(0x6da))][(_0x24ac52(0x2d3))](),_0xef866c={'_id':_0x506b0e,'default':!0x0,'title':_0x24ac52(0x484),'x':0x0,'y':0x0},_0x582fc3={'_id':new ne[(_0x24ac52(0x6da))]['ObjectId'](),'order':0x1,'groupId':_0x506b0e['toString'](),'type':'start'},_0xb52bb5={'_id':new ne['Types'][(_0x24ac52(0x2d3))](),'owner':this[_0x24ac52(0x638)][_0x24ac52(0x385)],'name':_0x49667d[_0x24ac52(0x307)],'groups':[_0xef866c],'blocks':[_0x582fc3],..._0x49667d};return _0xb52bb5=await this[_0x24ac52(0x3f0)][_0x24ac52(0x3d8)][_0x24ac52(0x75b)](_0xb52bb5,this[_0x24ac52(0x638)][_0x24ac52(0x385)]),_0xb52bb5;}catch(_0x2c2aec){throw this['logger'][_0x24ac52(0x27b)](this[_0x24ac52(0x5bc)]+'\x20('+this[_0x24ac52(0x638)]['wuid']+_0x24ac52(0x6ce)+(_0x2c2aec instanceof Error?_0x2c2aec[_0x24ac52(0x662)]:JSON[_0x24ac52(0x1ba)](_0x2c2aec,null,0x2))),new h(_0x24ac52(0x70e)+_0x2c2aec);}}async[a0_0x2e4b91(0x446)](_0x4ac159){const _0x59eb0f=a0_0x2e4b91;try{return this[_0x59eb0f(0x76f)][_0x59eb0f(0x477)](this[_0x59eb0f(0x5bc)]+'\x20('+this[_0x59eb0f(0x638)][_0x59eb0f(0x385)]+_0x59eb0f(0x18d)),await this[_0x59eb0f(0x3f0)][_0x59eb0f(0x3d8)][_0x59eb0f(0x259)]({'where':{'name':_0x4ac159}},this[_0x59eb0f(0x638)]['wuid']);}catch(_0x21fe53){return this[_0x59eb0f(0x76f)][_0x59eb0f(0x27b)](this[_0x59eb0f(0x5bc)]+'\x20('+this[_0x59eb0f(0x638)]['wuid']+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x21fe53 instanceof Error?_0x21fe53[_0x59eb0f(0x662)]:JSON[_0x59eb0f(0x1ba)](_0x21fe53,null,0x2))),{'message':_0x59eb0f(0x74f)+_0x21fe53};}}async[a0_0x2e4b91(0x78c)](_0x4438a5){const _0x30c93d=a0_0x2e4b91;try{this[_0x30c93d(0x76f)][_0x30c93d(0x477)](this[_0x30c93d(0x5bc)]+'\x20('+this[_0x30c93d(0x638)][_0x30c93d(0x385)]+_0x30c93d(0x3c6));let _0xa2fd86=await this[_0x30c93d(0x3f0)][_0x30c93d(0x3d8)][_0x30c93d(0x5aa)]({'where':{'name':_0x4438a5}},this['instance'][_0x30c93d(0x385)]);if(!_0xa2fd86)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x30c93d(0x3c4)]&&(await this['getAutomateSystem'](),!this[_0x30c93d(0x3c4)]))return null;let _0xb323e4=this[_0x30c93d(0x3c4)]?.[_0x30c93d(0x242)][_0x30c93d(0x3fa)](_0x5d7e94=>_0x5d7e94[_0x30c93d(0x307)]),_0x14f01f=[_0x30c93d(0x4d1),_0x30c93d(0x300),_0x30c93d(0x70b),_0x30c93d(0x654),_0x30c93d(0x221),_0x30c93d(0x1b1),_0x30c93d(0x3ac),_0x30c93d(0x65c)];_0xa2fd86[_0x30c93d(0x217)]=_0xa2fd86[_0x30c93d(0x217)]['filter'](_0x1c95c3=>!(_0x1c95c3[_0x30c93d(0x61b)]==='leadInfo'||_0x1c95c3[_0x30c93d(0x249)])),_0x14f01f[_0x30c93d(0x2de)](_0x403776=>{const _0x496fc1=_0x30c93d;_0xa2fd86[_0x496fc1(0x217)][_0x496fc1(0x20c)]({'folder':_0x496fc1(0x249),'name':_0x403776,'value':'','doc':'','leadInfo':!0x0});}),_0xb323e4[_0x30c93d(0x2de)](_0x1facc4=>{const _0x2d34b2=_0x30c93d;let _0x124345=_0xa2fd86[_0x2d34b2(0x217)][_0x2d34b2(0x4d4)](_0x478a7c=>_0x478a7c[_0x2d34b2(0x307)]===_0x1facc4);_0x124345===-0x1?_0xa2fd86[_0x2d34b2(0x217)][_0x2d34b2(0x20c)]({'folder':'leadInfo','name':_0x1facc4,'value':'','doc':'','leadInfo':!0x0}):(_0xa2fd86[_0x2d34b2(0x217)][_0x124345][_0x2d34b2(0x61b)]=_0x2d34b2(0x249),_0xa2fd86[_0x2d34b2(0x217)][_0x124345]['leadInfo']=!0x0);}),_0xa2fd86[_0x30c93d(0x5f5)]&&_0xa2fd86['blocks'][_0x30c93d(0x52c)]>0x0&&_0xa2fd86[_0x30c93d(0x5f5)][_0x30c93d(0x2de)](_0x235f8b=>{const _0x3cc72e=_0x30c93d;_0x235f8b['groupId']&&_0x235f8b['next_groupId']&&_0x235f8b[_0x3cc72e(0x616)]===_0x235f8b[_0x3cc72e(0x21e)]&&(_0x235f8b['next_groupId']=null);});let _0x3adb68=await this['repository'][_0x30c93d(0x3d8)][_0x30c93d(0x3fb)](_0xa2fd86[_0x30c93d(0x264)],_0xa2fd86,this[_0x30c93d(0x638)]['wuid']);if(!_0x3adb68)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3adb68;}catch(_0x2fde3d){throw this[_0x30c93d(0x76f)][_0x30c93d(0x27b)](this['instanceName']+'\x20('+this['instance'][_0x30c93d(0x385)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x2fde3d instanceof Error?_0x2fde3d[_0x30c93d(0x662)]:JSON[_0x30c93d(0x1ba)](_0x2fde3d,null,0x2))),new h(_0x30c93d(0x309)+_0x2fde3d);}}async[a0_0x2e4b91(0x61a)](){const _0x217e0e=a0_0x2e4b91;try{return this[_0x217e0e(0x76f)]['verbose'](this[_0x217e0e(0x5bc)]+'\x20('+this[_0x217e0e(0x638)]['wuid']+_0x217e0e(0x588)),await this[_0x217e0e(0x3f0)][_0x217e0e(0x3d8)]['findAll']({'where':{}},this[_0x217e0e(0x638)][_0x217e0e(0x385)]);}catch(_0x36c66d){return this[_0x217e0e(0x76f)][_0x217e0e(0x27b)](this[_0x217e0e(0x5bc)]+'\x20('+this['instance']['wuid']+_0x217e0e(0x6a1)+(_0x36c66d instanceof Error?_0x36c66d[_0x217e0e(0x662)]:JSON['stringify'](_0x36c66d,null,0x2))),{'message':_0x217e0e(0x518)+_0x36c66d};}}async[a0_0x2e4b91(0x243)](_0x5711d7){const _0x345fa4=a0_0x2e4b91;try{this[_0x345fa4(0x76f)][_0x345fa4(0x477)](this[_0x345fa4(0x5bc)]+'\x20('+this[_0x345fa4(0x638)]['wuid']+_0x345fa4(0x512));let _0x409316=await this[_0x345fa4(0x3f0)][_0x345fa4(0x3d8)][_0x345fa4(0x5aa)]({'where':{'name':_0x5711d7[_0x345fa4(0x307)]}},this[_0x345fa4(0x638)][_0x345fa4(0x385)]);return _0x409316?(_0x5711d7['default']===!0x0&&await this[_0x345fa4(0x3f0)][_0x345fa4(0x3d8)][_0x345fa4(0x166)]({},{'default':!0x1},this['instance'][_0x345fa4(0x385)]),await this['repository'][_0x345fa4(0x3d8)][_0x345fa4(0x3fb)](_0x409316['_id'],_0x5711d7,this[_0x345fa4(0x638)][_0x345fa4(0x385)])):{'message':_0x345fa4(0x3b4)};}catch(_0x2fe2e7){throw this[_0x345fa4(0x76f)][_0x345fa4(0x27b)](this['instanceName']+'\x20('+this[_0x345fa4(0x638)][_0x345fa4(0x385)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x2fe2e7 instanceof Error?_0x2fe2e7['message']:JSON[_0x345fa4(0x1ba)](_0x2fe2e7,null,0x2))),new h(_0x345fa4(0x2d7)+(_0x2fe2e7 instanceof Error?_0x2fe2e7[_0x345fa4(0x662)]:JSON[_0x345fa4(0x1ba)](_0x2fe2e7,null,0x2)));}}async[a0_0x2e4b91(0x460)](_0x5a3d49){const _0x41d112=a0_0x2e4b91;try{this[_0x41d112(0x76f)][_0x41d112(0x477)](this[_0x41d112(0x5bc)]+'\x20('+this[_0x41d112(0x638)][_0x41d112(0x385)]+'):\x20Editando\x20bloco...');let _0x307157=await this[_0x41d112(0x3f0)][_0x41d112(0x3d8)][_0x41d112(0x5aa)]({'where':{'name':_0x5a3d49[_0x41d112(0x307)]}},this[_0x41d112(0x638)][_0x41d112(0x385)]);_0x307157||this[_0x41d112(0x235)](_0x41d112(0x1b5));let {block:_0x29b323}=_0x5a3d49;_0x29b323?.[_0x41d112(0x634)]?this[_0x41d112(0x432)](_0x307157,_0x5a3d49):_0x29b323?.['delete']?this[_0x41d112(0x66b)](_0x307157,_0x5a3d49):_0x29b323[_0x41d112(0x264)]?await this['updateBlock'](_0x307157,_0x5a3d49):this[_0x41d112(0x363)](_0x307157,_0x5a3d49);let _0x3e8e98=await this[_0x41d112(0x3f0)][_0x41d112(0x3d8)]['updateOne'](_0x307157[_0x41d112(0x264)],_0x307157,this[_0x41d112(0x638)]['wuid']);if(!_0x3e8e98)throw new Error(_0x41d112(0x482));return _0x3e8e98;}catch(_0x3d070e){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x3d070e);}}async[a0_0x2e4b91(0x432)](_0x8256a7,_0x40bc80){const _0x3f8dfa=a0_0x2e4b91;let _0x1807fc=_0x40bc80[_0x3f8dfa(0x382)][_0x3f8dfa(0x264)],_0x518813=_0x8256a7[_0x3f8dfa(0x5f5)][_0x3f8dfa(0x18c)](_0x4b9e91=>_0x4b9e91['_id'][_0x3f8dfa(0x40f)]()===_0x1807fc);if(!_0x518813){this[_0x3f8dfa(0x76f)][_0x3f8dfa(0x27b)](this[_0x3f8dfa(0x5bc)]+'\x20('+this[_0x3f8dfa(0x638)][_0x3f8dfa(0x385)]+_0x3f8dfa(0x22c)+_0x1807fc+_0x3f8dfa(0x6e2));return;}this[_0x3f8dfa(0x76f)][_0x3f8dfa(0x477)](this['instanceName']+'\x20('+this[_0x3f8dfa(0x638)]['wuid']+_0x3f8dfa(0x508)+JSON[_0x3f8dfa(0x1ba)](_0x518813));let _0x889fd=JSON[_0x3f8dfa(0x31b)](JSON[_0x3f8dfa(0x1ba)](_0x518813));_0x889fd['_id']=new ne[(_0x3f8dfa(0x5f2))][(_0x3f8dfa(0x6da))][(_0x3f8dfa(0x2d3))](),this[_0x3f8dfa(0x76f)][_0x3f8dfa(0x477)](this['instanceName']+'\x20('+this['instance'][_0x3f8dfa(0x385)]+_0x3f8dfa(0x463)+JSON[_0x3f8dfa(0x1ba)](_0x889fd)),_0x8256a7['blocks'][_0x3f8dfa(0x20c)](_0x889fd),this['reorderBlocks'](_0x8256a7[_0x3f8dfa(0x5f5)],_0x889fd['groupId']);}['throwAndLogError'](_0x2e6fa3){const _0x2526ff=a0_0x2e4b91;throw this[_0x2526ff(0x76f)][_0x2526ff(0x27b)](this[_0x2526ff(0x5bc)]+'\x20('+this[_0x2526ff(0x638)][_0x2526ff(0x385)]+_0x2526ff(0x15f)+_0x2e6fa3),new h(_0x2e6fa3);}[a0_0x2e4b91(0x66b)](_0x1cb2d5,_0x5e2405){const _0x375f02=a0_0x2e4b91;let {block:_0x3dd08c}=_0x5e2405;if(_0x3dd08c[_0x375f02(0x4af)]==='start'){this['throwAndLogError'](_0x375f02(0x546));return;}if(!_0x3dd08c[_0x375f02(0x264)]){this[_0x375f02(0x235)](_0x375f02(0x40a));return;}let _0x3abe3a=_0x1cb2d5['blocks'][_0x375f02(0x18c)](_0x57cc7a=>_0x57cc7a[_0x375f02(0x264)]['toString']()===_0x5e2405['block'][_0x375f02(0x264)][_0x375f02(0x40f)]());if(!_0x3abe3a){this[_0x375f02(0x235)](_0x375f02(0x49b)+_0x3dd08c[_0x375f02(0x264)]+_0x375f02(0x511));return;}_0x1cb2d5['blocks']=_0x1cb2d5[_0x375f02(0x5f5)][_0x375f02(0x714)](_0xa4ff2e=>_0xa4ff2e[_0x375f02(0x264)]['toString']()!==_0x5e2405[_0x375f02(0x382)][_0x375f02(0x264)]['toString']()),_0x1cb2d5[_0x375f02(0x676)]=_0x1cb2d5[_0x375f02(0x676)][_0x375f02(0x714)](_0x6a8b3f=>_0x6a8b3f['blockId']!==_0x3dd08c[_0x375f02(0x264)][_0x375f02(0x40f)]()),_0x1cb2d5['varedits']=_0x1cb2d5[_0x375f02(0x479)][_0x375f02(0x714)](_0x177c81=>_0x177c81[_0x375f02(0x2b4)]!==_0x3dd08c['_id'][_0x375f02(0x40f)]()),_0x1cb2d5[_0x375f02(0x6e3)]=_0x1cb2d5['replyOptions'][_0x375f02(0x714)](_0x3421bb=>_0x3421bb[_0x375f02(0x2b4)]!==_0x3dd08c[_0x375f02(0x264)]['toString']()),this[_0x375f02(0x64b)](_0x1cb2d5[_0x375f02(0x5f5)],_0x3abe3a[_0x375f02(0x616)]);}async[a0_0x2e4b91(0x181)](_0x36205d,_0x186b2c){const _0x1e9ed8=a0_0x2e4b91;let _0x372b4b=_0x36205d['blocks']['findIndex'](_0x3dea44=>_0x3dea44['_id'][_0x1e9ed8(0x40f)]()===_0x186b2c[_0x1e9ed8(0x382)][_0x1e9ed8(0x264)][_0x1e9ed8(0x40f)]());if(this[_0x1e9ed8(0x76f)][_0x1e9ed8(0x477)](this[_0x1e9ed8(0x5bc)]+'\x20('+this[_0x1e9ed8(0x638)][_0x1e9ed8(0x385)]+_0x1e9ed8(0x591)+_0x372b4b),_0x372b4b===-0x1){this[_0x1e9ed8(0x76f)][_0x1e9ed8(0x477)](_0x1e9ed8(0x49b)+_0x186b2c[_0x1e9ed8(0x382)][_0x1e9ed8(0x264)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x36205d[_0x1e9ed8(0x5f5)][_0x372b4b]['type']===_0x1e9ed8(0x447)){let _0x42f69b=Object[_0x1e9ed8(0x6ab)](_0x186b2c[_0x1e9ed8(0x382)]);if(_0x42f69b[_0x1e9ed8(0x52c)]>0x2||_0x42f69b['length']===0x2&&!_0x42f69b[_0x1e9ed8(0x5fa)]('next_groupId')){this[_0x1e9ed8(0x235)](_0x1e9ed8(0x6aa));return;}}let _0x157018=_0x36205d[_0x1e9ed8(0x5f5)][_0x372b4b][_0x1e9ed8(0x616)];for(let _0x1841f6 in _0x186b2c[_0x1e9ed8(0x382)])_0x186b2c['block'][_0x1e9ed8(0x1f7)](_0x1841f6)&&(_0x36205d[_0x1e9ed8(0x5f5)][_0x372b4b][_0x1841f6]=_0x186b2c[_0x1e9ed8(0x382)][_0x1841f6]);if(this[_0x1e9ed8(0x76f)][_0x1e9ed8(0x477)](this[_0x1e9ed8(0x5bc)]+'\x20('+this[_0x1e9ed8(0x638)]['wuid']+_0x1e9ed8(0x316)+JSON[_0x1e9ed8(0x1ba)](_0x36205d[_0x1e9ed8(0x5f5)][_0x372b4b])),_0x36205d[_0x1e9ed8(0x5f5)][_0x372b4b]['apirequest']&&_0x1e9ed8(0x1ac)in _0x36205d[_0x1e9ed8(0x5f5)][_0x372b4b][_0x1e9ed8(0x6c6)]){this[_0x1e9ed8(0x76f)][_0x1e9ed8(0x477)](this['instanceName']+'\x20('+this['instance'][_0x1e9ed8(0x385)]+_0x1e9ed8(0x77b));let _0x2752f2=JSON[_0x1e9ed8(0x1ba)](_0x36205d[_0x1e9ed8(0x5f5)][_0x372b4b][_0x1e9ed8(0x6c6)]['header'],null,0x1);_0x2752f2[_0x1e9ed8(0x52c)]>0x2&&(_0x2752f2=_0x2752f2[_0x1e9ed8(0x3c0)](0x1,_0x2752f2['length']-0x1)['trim']()),_0x36205d[_0x1e9ed8(0x5f5)][_0x372b4b][_0x1e9ed8(0x6c6)][_0x1e9ed8(0x4d3)]=_0x2752f2;}if(_0x36205d['blocks'][_0x372b4b][_0x1e9ed8(0x6c6)]&&'body'in _0x36205d[_0x1e9ed8(0x5f5)][_0x372b4b][_0x1e9ed8(0x6c6)]){this[_0x1e9ed8(0x76f)][_0x1e9ed8(0x477)](this[_0x1e9ed8(0x5bc)]+'\x20('+this[_0x1e9ed8(0x638)][_0x1e9ed8(0x385)]+_0x1e9ed8(0x233));let _0x260326=JSON[_0x1e9ed8(0x1ba)](_0x36205d[_0x1e9ed8(0x5f5)][_0x372b4b][_0x1e9ed8(0x6c6)][_0x1e9ed8(0x43f)],null,0x1);_0x260326[_0x1e9ed8(0x52c)]>0x2&&(_0x260326=_0x260326['substring'](0x1,_0x260326[_0x1e9ed8(0x52c)]-0x1)[_0x1e9ed8(0x2ec)]()),_0x36205d[_0x1e9ed8(0x5f5)][_0x372b4b][_0x1e9ed8(0x6c6)]['bodyString']=_0x260326;}let _0x2ab744=_0x36205d[_0x1e9ed8(0x5f5)][_0x372b4b]['groupId'];_0x157018!==_0x2ab744?(this[_0x1e9ed8(0x64b)](_0x36205d[_0x1e9ed8(0x5f5)],_0x157018),this[_0x1e9ed8(0x64b)](_0x36205d[_0x1e9ed8(0x5f5)],_0x2ab744)):this[_0x1e9ed8(0x64b)](_0x36205d['blocks'],_0x157018);}[a0_0x2e4b91(0x363)](_0x2f8d7e,_0x3ede7b){const _0x147c8b=a0_0x2e4b91;if(_0x3ede7b[_0x147c8b(0x382)][_0x147c8b(0x4af)]===_0x147c8b(0x447)){this['throwAndLogError'](_0x147c8b(0x20d));return;}if(_0x3ede7b[_0x147c8b(0x382)]['apirequest']&&_0x147c8b(0x1ac)in _0x3ede7b[_0x147c8b(0x382)][_0x147c8b(0x6c6)]){this[_0x147c8b(0x76f)][_0x147c8b(0x477)](this['instanceName']+'\x20('+this[_0x147c8b(0x638)]['wuid']+_0x147c8b(0x77b));let _0x588c33=JSON['stringify'](_0x3ede7b[_0x147c8b(0x382)][_0x147c8b(0x6c6)][_0x147c8b(0x1ac)],null,0x1);_0x588c33[_0x147c8b(0x52c)]>0x2&&(_0x588c33=_0x588c33[_0x147c8b(0x3c0)](0x1,_0x588c33['length']-0x1)[_0x147c8b(0x2ec)]()),_0x3ede7b[_0x147c8b(0x382)][_0x147c8b(0x6c6)][_0x147c8b(0x4d3)]=_0x588c33;}_0x3ede7b['block'][_0x147c8b(0x6c6)]&&'body'in _0x3ede7b[_0x147c8b(0x382)][_0x147c8b(0x6c6)]&&(this[_0x147c8b(0x76f)][_0x147c8b(0x477)](this[_0x147c8b(0x5bc)]+'\x20('+this[_0x147c8b(0x638)][_0x147c8b(0x385)]+_0x147c8b(0x233)),_0x3ede7b[_0x147c8b(0x382)][_0x147c8b(0x6c6)][_0x147c8b(0x3b7)]=JSON[_0x147c8b(0x1ba)](_0x3ede7b[_0x147c8b(0x382)]['apirequest'][_0x147c8b(0x43f)],null,0x1)[_0x147c8b(0x2ec)]()),_0x2f8d7e['blocks']['push'](_0x3ede7b[_0x147c8b(0x382)]),this[_0x147c8b(0x64b)](_0x2f8d7e[_0x147c8b(0x5f5)],_0x3ede7b[_0x147c8b(0x382)][_0x147c8b(0x616)]);}[a0_0x2e4b91(0x64b)](_0x32debf,_0x438911){const _0x4a3aa9=a0_0x2e4b91;let _0x4dc176=_0x32debf[_0x4a3aa9(0x714)](_0x1b9d65=>_0x1b9d65[_0x4a3aa9(0x616)]===_0x438911);_0x4dc176[_0x4a3aa9(0x67e)]((_0x402b52,_0x101ad5)=>_0x402b52[_0x4a3aa9(0x769)]-_0x101ad5[_0x4a3aa9(0x769)]),_0x4dc176[_0x4a3aa9(0x2de)]((_0xd55f1f,_0x348d5c)=>_0xd55f1f[_0x4a3aa9(0x769)]=_0x348d5c+0x1);}async[a0_0x2e4b91(0x776)](_0x585afc){const _0x407290=a0_0x2e4b91;try{if(this['logger'][_0x407290(0x477)](this['instanceName']+'\x20('+this['instance'][_0x407290(0x385)]+'):\x20Editando\x20replyOption...'),!_0x585afc||!_0x585afc['replyOption']){this[_0x407290(0x235)]('Data\x20inválida\x20fornecida');return;}let _0x99cd43=await this[_0x407290(0x3f0)][_0x407290(0x3d8)][_0x407290(0x5aa)]({'where':{'name':_0x585afc[_0x407290(0x307)]}},this['instance'][_0x407290(0x385)]);_0x99cd43||this[_0x407290(0x235)](_0x407290(0x1b5));let {replyOption:_0x309614}=_0x585afc;_0x309614?.[_0x407290(0x6bb)]?(this[_0x407290(0x2ae)](_0x99cd43,_0x585afc),this['reorderReplyOptions'](_0x99cd43[_0x407290(0x6e3)],_0x585afc[_0x407290(0x3de)][_0x407290(0x2b4)])):_0x309614[_0x407290(0x264)]?(await this[_0x407290(0x1b4)](_0x99cd43,_0x585afc),this[_0x407290(0x5cd)](_0x99cd43[_0x407290(0x6e3)],_0x585afc[_0x407290(0x3de)]['blockId'])):(this[_0x407290(0x647)](_0x99cd43,_0x585afc),this[_0x407290(0x5cd)](_0x99cd43[_0x407290(0x6e3)],_0x585afc[_0x407290(0x3de)]['blockId']));let _0x3c98b1=await this[_0x407290(0x3f0)][_0x407290(0x3d8)][_0x407290(0x3fb)](_0x99cd43[_0x407290(0x264)],_0x99cd43,this['instance']['wuid']);if(!_0x3c98b1)throw new Error(_0x407290(0x482));return _0x3c98b1;}catch(_0x32e7e8){this['throwAndLogError'](_0x407290(0x428)+_0x32e7e8);}}['reorderReplyOptions'](_0x1e05a5,_0xe2e0b4){const _0x2694f2=a0_0x2e4b91;console[_0x2694f2(0x54d)](_0x2694f2(0x287),_0xe2e0b4),_0x1e05a5[_0x2694f2(0x2de)](_0xa45248=>{const _0x7cdf6c=_0x2694f2;_0xa45248[_0x7cdf6c(0x2b4)]===_0xe2e0b4&&_0xa45248['order']===void 0x0&&(_0xa45248[_0x7cdf6c(0x769)]=0x270f);});let _0x32b583=_0x1e05a5[_0x2694f2(0x714)](_0x57386b=>_0x57386b[_0x2694f2(0x2b4)]===_0xe2e0b4);_0x32b583[_0x2694f2(0x67e)]((_0x9b413f,_0x4e35fa)=>_0x9b413f[_0x2694f2(0x769)]-_0x4e35fa[_0x2694f2(0x769)]),_0x32b583[_0x2694f2(0x2de)]((_0x120c7c,_0x2f6d83)=>{_0x120c7c['order']=_0x2f6d83+0x1;}),_0x1e05a5[_0x2694f2(0x2de)](_0x54126a=>{const _0x5b8b36=_0x2694f2;if(_0x54126a[_0x5b8b36(0x2b4)]===_0xe2e0b4){let _0x218063=_0x32b583[_0x5b8b36(0x18c)](_0x47d680=>_0x47d680[_0x5b8b36(0x264)][_0x5b8b36(0x40f)]()===_0x54126a[_0x5b8b36(0x264)][_0x5b8b36(0x40f)]());_0x218063&&(_0x54126a['order']=_0x218063['order']);}}),console[_0x2694f2(0x54d)](_0x2694f2(0x4fa),_0x1e05a5);}[a0_0x2e4b91(0x2ae)](_0x281ea8,_0x3ffcf1){const _0x3ba8d5=a0_0x2e4b91;let {replyOption:_0x40f13d}=_0x3ffcf1;if(!_0x40f13d['_id']){this['throwAndLogError']('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x281ea8['replyOptions']['find'](_0x22e406=>_0x22e406[_0x3ba8d5(0x264)][_0x3ba8d5(0x40f)]()===_0x3ffcf1['replyOption'][_0x3ba8d5(0x264)][_0x3ba8d5(0x40f)]())){this[_0x3ba8d5(0x235)]('ReplyOption\x20com\x20ID\x20'+_0x40f13d[_0x3ba8d5(0x264)]+_0x3ba8d5(0x511));return;}_0x281ea8['replyOptions']=_0x281ea8[_0x3ba8d5(0x6e3)]['filter'](_0x911eee=>_0x911eee[_0x3ba8d5(0x264)]['toString']()!==_0x3ffcf1['replyOption']['_id'][_0x3ba8d5(0x40f)]());}async[a0_0x2e4b91(0x1b4)](_0x3ce28f,_0x456690){const _0x3c6b53=a0_0x2e4b91;let _0x4c5f4c=_0x3ce28f['replyOptions'][_0x3c6b53(0x4d4)](_0xeadc7b=>_0xeadc7b[_0x3c6b53(0x264)][_0x3c6b53(0x40f)]()===_0x456690['replyOption'][_0x3c6b53(0x264)][_0x3c6b53(0x40f)]());if(_0x4c5f4c===-0x1){this[_0x3c6b53(0x235)](_0x3c6b53(0x25d)+_0x456690[_0x3c6b53(0x3de)][_0x3c6b53(0x264)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x4b8e61 in _0x456690[_0x3c6b53(0x3de)])_0x456690[_0x3c6b53(0x3de)][_0x3c6b53(0x1f7)](_0x4b8e61)&&(_0x3ce28f[_0x3c6b53(0x6e3)][_0x4c5f4c][_0x4b8e61]=_0x456690['replyOption'][_0x4b8e61]);}[a0_0x2e4b91(0x647)](_0x3e3948,_0x26a5a1){const _0x2a9c11=a0_0x2e4b91;_0x3e3948['replyOptions'][_0x2a9c11(0x20c)](_0x26a5a1[_0x2a9c11(0x3de)]);}async[a0_0x2e4b91(0x29f)](_0x199889){const _0x546cc0=a0_0x2e4b91;this[_0x546cc0(0x76f)][_0x546cc0(0x477)](this['instanceName']+'\x20('+this['instance'][_0x546cc0(0x385)]+_0x546cc0(0x267)+_0x199889);try{this[_0x546cc0(0x76f)][_0x546cc0(0x477)](this[_0x546cc0(0x5bc)]+'\x20('+this['instance'][_0x546cc0(0x385)]+_0x546cc0(0x784));let _0x47f732=await this[_0x546cc0(0x3f0)][_0x546cc0(0x3d8)][_0x546cc0(0x5aa)]({'where':{'name':_0x199889[_0x546cc0(0x307)]}},this[_0x546cc0(0x638)][_0x546cc0(0x385)]);if(!_0x47f732)throw new Error(_0x546cc0(0x1b5));if(_0x199889[_0x546cc0(0x6e7)]&&_0x199889['group']?.[_0x546cc0(0x6bb)]===!0x0){if(this[_0x546cc0(0x76f)][_0x546cc0(0x477)](this[_0x546cc0(0x5bc)]+'\x20('+this[_0x546cc0(0x638)][_0x546cc0(0x385)]+_0x546cc0(0x514)),_0x199889[_0x546cc0(0x6e7)][_0x546cc0(0x5f2)]===!0x0)return{'message':_0x546cc0(0x3d0)};if(_0x47f732['blocks']['some'](_0x1ed507=>_0x1ed507[_0x546cc0(0x616)]['toString']()===_0x199889['group'][_0x546cc0(0x264)]))return this[_0x546cc0(0x76f)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x546cc0(0x5ce)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x47f732[_0x546cc0(0x70f)]=_0x47f732[_0x546cc0(0x70f)][_0x546cc0(0x714)](_0x48fd96=>_0x48fd96[_0x546cc0(0x264)]['toString']()!==_0x199889[_0x546cc0(0x6e7)][_0x546cc0(0x264)]);}else{if(_0x199889['group']){if(_0x199889[_0x546cc0(0x6e7)][_0x546cc0(0x5f2)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x199889[_0x546cc0(0x6e7)][_0x546cc0(0x264)]){let _0x114016=_0x47f732[_0x546cc0(0x70f)][_0x546cc0(0x18c)](_0x1920c7=>_0x1920c7['_id'][_0x546cc0(0x40f)]()===_0x199889[_0x546cc0(0x6e7)][_0x546cc0(0x264)]);_0x114016&&(_0x199889['group']['x']<0x0&&(_0x199889[_0x546cc0(0x6e7)]['x']=0x0),_0x199889[_0x546cc0(0x6e7)]['y']<0x0&&(_0x199889[_0x546cc0(0x6e7)]['y']=0x0),Object[_0x546cc0(0x274)](_0x114016,_0x199889[_0x546cc0(0x6e7)]));}else _0x47f732[_0x546cc0(0x70f)][_0x546cc0(0x20c)](_0x199889['group']);}}let _0x3d1659=await this[_0x546cc0(0x3f0)][_0x546cc0(0x3d8)][_0x546cc0(0x3fb)](_0x47f732[_0x546cc0(0x264)],_0x47f732,this[_0x546cc0(0x638)][_0x546cc0(0x385)]);if(!_0x3d1659)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3d1659;}catch(_0x2188d3){throw this[_0x546cc0(0x76f)]['error'](this['instanceName']+'\x20('+this['instance'][_0x546cc0(0x385)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x2188d3 instanceof Error?_0x2188d3['message']:JSON[_0x546cc0(0x1ba)](_0x2188d3,null,0x2))),new h(_0x546cc0(0x2e3)+(_0x2188d3 instanceof Error?_0x2188d3[_0x546cc0(0x662)]:JSON[_0x546cc0(0x1ba)](_0x2188d3,null,0x2)));}}async[a0_0x2e4b91(0x35e)](_0x1bec92){const _0x1d3419=a0_0x2e4b91;try{this[_0x1d3419(0x76f)][_0x1d3419(0x477)](this['instanceName']+'\x20('+this['instance'][_0x1d3419(0x385)]+_0x1d3419(0x390));let _0x4760cd=await this[_0x1d3419(0x3f0)]['flow'][_0x1d3419(0x5aa)]({'where':{'name':_0x1bec92[_0x1d3419(0x307)]}},this[_0x1d3419(0x638)][_0x1d3419(0x385)]);if(!_0x4760cd)throw new Error(_0x1d3419(0x1b5));let _0x5a9c46=!0x1;if(_0x1bec92[_0x1d3419(0x6ac)]?.['delete']===!0x0)_0x4760cd['conditions']=_0x4760cd[_0x1d3419(0x676)][_0x1d3419(0x714)](_0x23ff47=>_0x23ff47&&_0x1bec92[_0x1d3419(0x6ac)]&&_0x23ff47[_0x1d3419(0x264)]&&_0x1bec92[_0x1d3419(0x6ac)]['_id']&&_0x23ff47[_0x1d3419(0x264)]['toString']()!==_0x1bec92[_0x1d3419(0x6ac)][_0x1d3419(0x264)][_0x1d3419(0x40f)]()),_0x5a9c46=!0x0;else{let _0xbee1be=_0x4760cd[_0x1d3419(0x676)][_0x1d3419(0x18c)](_0x23069a=>_0x23069a&&_0x1bec92[_0x1d3419(0x6ac)]&&_0x23069a[_0x1d3419(0x264)]&&_0x1bec92[_0x1d3419(0x6ac)][_0x1d3419(0x264)]&&_0x23069a[_0x1d3419(0x264)][_0x1d3419(0x40f)]()===_0x1bec92['condition'][_0x1d3419(0x264)][_0x1d3419(0x40f)]());_0xbee1be?(_0x5a9c46=_0xbee1be[_0x1d3419(0x769)]!==_0x1bec92[_0x1d3419(0x6ac)]['order'],Object[_0x1d3419(0x274)](_0xbee1be,_0x1bec92[_0x1d3419(0x6ac)])):(_0x4760cd[_0x1d3419(0x676)][_0x1d3419(0x20c)](_0x1bec92[_0x1d3419(0x6ac)]),_0x5a9c46=!0x0);}if(_0x5a9c46){_0x4760cd['conditions'][_0x1d3419(0x67e)]((_0x193540,_0x102957)=>_0x193540[_0x1d3419(0x769)]>_0x102957[_0x1d3419(0x769)]?0x1:_0x102957[_0x1d3419(0x769)]>_0x193540[_0x1d3419(0x769)]?-0x1:0x0);for(let _0x18c895=0x0;_0x18c895<_0x4760cd['conditions']['length'];_0x18c895++)_0x4760cd['conditions'][_0x18c895][_0x1d3419(0x769)]=_0x18c895+0x1;_0x4760cd[_0x1d3419(0x676)]['length']>0x0&&(_0x4760cd['conditions'][0x0]['OrAnd']=_0x1d3419(0x464));}let _0x427db2=await this['repository']['flow']['updateOne'](_0x4760cd[_0x1d3419(0x264)],_0x4760cd,this[_0x1d3419(0x638)][_0x1d3419(0x385)]);if(!_0x427db2)throw new Error(_0x1d3419(0x482));return _0x427db2;}catch(_0xfcfa3c){throw this[_0x1d3419(0x76f)][_0x1d3419(0x27b)](this[_0x1d3419(0x5bc)]+'\x20('+this['instance'][_0x1d3419(0x385)]+_0x1d3419(0x63a)+(_0xfcfa3c instanceof Error?_0xfcfa3c['message']:JSON[_0x1d3419(0x1ba)](_0xfcfa3c,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0xfcfa3c instanceof Error?_0xfcfa3c[_0x1d3419(0x662)]:JSON[_0x1d3419(0x1ba)](_0xfcfa3c,null,0x2)));}}async['editFlowVaredit'](_0x52b553){const _0x4db505=a0_0x2e4b91;try{this[_0x4db505(0x76f)][_0x4db505(0x477)](this['instanceName']+'\x20('+this[_0x4db505(0x638)]['wuid']+_0x4db505(0x43a));let _0x3ef7f3=await this[_0x4db505(0x3f0)][_0x4db505(0x3d8)][_0x4db505(0x5aa)]({'where':{'name':_0x52b553['name']}},this[_0x4db505(0x638)][_0x4db505(0x385)]);if(!_0x3ef7f3)throw new Error('Flow\x20não\x20encontrado');let _0x1e4026=!0x1;if(_0x52b553[_0x4db505(0x649)]?.[_0x4db505(0x6bb)]===!0x0)_0x3ef7f3[_0x4db505(0x479)]=_0x3ef7f3['varedits'][_0x4db505(0x714)](_0x537179=>_0x537179&&_0x52b553['varedit']&&_0x537179[_0x4db505(0x264)]&&_0x52b553['varedit']['_id']&&_0x537179['_id'][_0x4db505(0x40f)]()!==_0x52b553[_0x4db505(0x649)][_0x4db505(0x264)][_0x4db505(0x40f)]()),_0x1e4026=!0x0;else{let _0x17d561=_0x3ef7f3[_0x4db505(0x479)][_0x4db505(0x18c)](_0xfcc777=>_0xfcc777&&_0x52b553[_0x4db505(0x649)]&&_0xfcc777[_0x4db505(0x264)]&&_0x52b553[_0x4db505(0x649)][_0x4db505(0x264)]&&_0xfcc777[_0x4db505(0x264)][_0x4db505(0x40f)]()===_0x52b553[_0x4db505(0x649)][_0x4db505(0x264)]['toString']());_0x17d561?(_0x1e4026=_0x17d561[_0x4db505(0x769)]!==_0x52b553[_0x4db505(0x649)][_0x4db505(0x769)],Object[_0x4db505(0x274)](_0x17d561,_0x52b553[_0x4db505(0x649)])):(_0x3ef7f3[_0x4db505(0x479)][_0x4db505(0x20c)](_0x52b553[_0x4db505(0x649)]),_0x1e4026=!0x0);}if(_0x1e4026){_0x3ef7f3[_0x4db505(0x479)]['sort']((_0xc7a578,_0x481aca)=>_0xc7a578[_0x4db505(0x769)]>_0x481aca[_0x4db505(0x769)]?0x1:_0x481aca['order']>_0xc7a578['order']?-0x1:0x0);for(let _0x4f4282=0x0;_0x4f4282<_0x3ef7f3[_0x4db505(0x479)][_0x4db505(0x52c)];_0x4f4282++)_0x3ef7f3[_0x4db505(0x479)][_0x4f4282][_0x4db505(0x769)]=_0x4f4282+0x1;}let _0x4114ff=await this['repository'][_0x4db505(0x3d8)][_0x4db505(0x3fb)](_0x3ef7f3[_0x4db505(0x264)],_0x3ef7f3,this[_0x4db505(0x638)][_0x4db505(0x385)]);if(!_0x4114ff)throw new Error(_0x4db505(0x482));return _0x4114ff;}catch(_0x32d6d3){throw this[_0x4db505(0x76f)][_0x4db505(0x27b)](this[_0x4db505(0x5bc)]+'\x20('+this[_0x4db505(0x638)][_0x4db505(0x385)]+_0x4db505(0x63a)+(_0x32d6d3 instanceof Error?_0x32d6d3[_0x4db505(0x662)]:JSON[_0x4db505(0x1ba)](_0x32d6d3,null,0x2))),new h('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x32d6d3 instanceof Error?_0x32d6d3[_0x4db505(0x662)]:JSON[_0x4db505(0x1ba)](_0x32d6d3,null,0x2)));}}async[a0_0x2e4b91(0x214)](_0x72bfa2){const _0x8151d4=a0_0x2e4b91;try{this[_0x8151d4(0x76f)]['verbose'](this[_0x8151d4(0x5bc)]+'\x20('+this[_0x8151d4(0x638)][_0x8151d4(0x385)]+_0x8151d4(0x19a));let _0x2587d0=await this[_0x8151d4(0x3f0)][_0x8151d4(0x3d8)][_0x8151d4(0x5aa)]({'where':{'name':_0x72bfa2[_0x8151d4(0x307)]}},this[_0x8151d4(0x638)][_0x8151d4(0x385)]);if(!_0x2587d0)throw new Error(_0x8151d4(0x1b5));_0x72bfa2['variable'][_0x8151d4(0x307)]=_0x72bfa2[_0x8151d4(0x4fb)]['name'][_0x8151d4(0x2ec)](),_0x72bfa2[_0x8151d4(0x4fb)]['name'][_0x8151d4(0x798)]('_')&&(_0x72bfa2[_0x8151d4(0x4fb)][_0x8151d4(0x307)]=_0x72bfa2['variable'][_0x8151d4(0x307)][_0x8151d4(0x3c0)](0x1)),_0x72bfa2[_0x8151d4(0x4fb)][_0x8151d4(0x307)]=_0x72bfa2[_0x8151d4(0x4fb)]['name'][_0x8151d4(0x2ec)]();let _0x4dc886=_0x2587d0[_0x8151d4(0x217)][_0x8151d4(0x18c)](_0x1d37d0=>_0x1d37d0[_0x8151d4(0x307)]===_0x72bfa2['variable'][_0x8151d4(0x307)]);if(_0x4dc886?.['leadInfo']===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x72bfa2[_0x8151d4(0x4fb)]?.[_0x8151d4(0x6bb)]===!0x0){if(!_0x4dc886)return{'message':_0x8151d4(0x401)};_0x2587d0[_0x8151d4(0x217)]=_0x2587d0[_0x8151d4(0x217)][_0x8151d4(0x714)](_0x4d4401=>_0x4d4401[_0x8151d4(0x307)]!==_0x72bfa2[_0x8151d4(0x4fb)][_0x8151d4(0x307)]);}else _0x4dc886?Object[_0x8151d4(0x274)](_0x4dc886,_0x72bfa2[_0x8151d4(0x4fb)]):_0x2587d0[_0x8151d4(0x217)][_0x8151d4(0x20c)](_0x72bfa2[_0x8151d4(0x4fb)]);let _0x55813c=await this['repository'][_0x8151d4(0x3d8)][_0x8151d4(0x3fb)](_0x2587d0[_0x8151d4(0x264)],_0x2587d0,this['instance'][_0x8151d4(0x385)]);if(!_0x55813c)throw new Error(_0x8151d4(0x482));return _0x55813c;}catch(_0xc74d6c){throw this[_0x8151d4(0x76f)][_0x8151d4(0x27b)](this['instanceName']+'\x20('+this[_0x8151d4(0x638)]['wuid']+_0x8151d4(0x6ba)+(_0xc74d6c instanceof Error?_0xc74d6c['message']:JSON[_0x8151d4(0x1ba)](_0xc74d6c,null,0x2))),new h(_0x8151d4(0x357)+(_0xc74d6c instanceof Error?_0xc74d6c[_0x8151d4(0x662)]:JSON[_0x8151d4(0x1ba)](_0xc74d6c,null,0x2)));}}async[a0_0x2e4b91(0x451)](_0x1ce00a){const _0x46b74d=a0_0x2e4b91;let _0x2c73d1=null;try{if(!this[_0x46b74d(0x3c4)]?.[_0x46b74d(0x2a6)]['enabled'])throw new h(_0x46b74d(0x3d7));this['logger'][_0x46b74d(0x477)](this[_0x46b74d(0x5bc)]+'\x20('+this[_0x46b74d(0x638)]['wuid']+_0x46b74d(0x459));let _0x20ea47=(await this[_0x46b74d(0x277)]({'numbers':[_0x1ce00a[_0x46b74d(0x78d)]]}))[0x0];if(!_0x20ea47[_0x46b74d(0x658)]&&!(0x0,y[_0x46b74d(0x562)])(_0x20ea47[_0x46b74d(0x23b)])&&!_0x20ea47[_0x46b74d(0x23b)][_0x46b74d(0x5fa)](_0x46b74d(0x1c6)))throw _0x2c73d1=JSON[_0x46b74d(0x1ba)](_0x20ea47,null,0x2),new h(_0x20ea47);let _0x5721c9=await this[_0x46b74d(0x3f0)][_0x46b74d(0x3d8)][_0x46b74d(0x5aa)]({'where':{'name':_0x1ce00a[_0x46b74d(0x307)]}},this[_0x46b74d(0x638)]['wuid']);if(!_0x5721c9)return this['logger'][_0x46b74d(0x27b)](this[_0x46b74d(0x5bc)]+'\x20('+this[_0x46b74d(0x638)][_0x46b74d(0x385)]+'):\x20Flow\x20não\x20encontrado'),{'message':_0x46b74d(0x1b5)};let _0x11e70b=await this[_0x46b74d(0x21c)](_0x5721c9,_0x20ea47[_0x46b74d(0x23b)],_0x1ce00a[_0x46b74d(0x15a)]);if(_0x11e70b){this[_0x46b74d(0x76f)][_0x46b74d(0x477)](this[_0x46b74d(0x5bc)]+'\x20('+this[_0x46b74d(0x638)]['wuid']+_0x46b74d(0x32d));let _0x21f456=await this[_0x46b74d(0x57d)](_0x11e70b);return _0x21f456&&await this[_0x46b74d(0x4ac)](_0x11e70b,_0x21f456),{'message':_0x46b74d(0x68d)+_0x1ce00a[_0x46b74d(0x78d)]};}}catch(_0x1b6c35){if(this[_0x46b74d(0x76f)][_0x46b74d(0x27b)](this[_0x46b74d(0x5bc)]+'\x20('+this[_0x46b74d(0x638)]['wuid']+_0x46b74d(0x523)+(_0x1b6c35 instanceof Error?_0x1b6c35['message']:JSON['stringify'](_0x1b6c35,null,0x2))),_0x2c73d1=_0x1b6c35 instanceof Error?_0x1b6c35['message']:JSON[_0x46b74d(0x1ba)](_0x1b6c35,null,0x2),_0x2c73d1)throw new h(_0x46b74d(0x6af)+_0x2c73d1);}}async[a0_0x2e4b91(0x2f5)](_0x2fb55d){const _0x1342d9=a0_0x2e4b91;try{let _0x46d556={'remoteJid':_0x2fb55d,'status':'open'},_0x48c22f={'status':'closed'},_0x1a3c00=await this[_0x1342d9(0x3f0)]['flowConversation'][_0x1342d9(0x166)](_0x46d556,_0x48c22f,this[_0x1342d9(0x638)][_0x1342d9(0x385)]);return this[_0x1342d9(0x76f)][_0x1342d9(0x477)](this[_0x1342d9(0x5bc)]+'\x20('+this[_0x1342d9(0x638)]['wuid']+_0x1342d9(0x4ab)),_0x1a3c00;}catch(_0x405e84){throw this['logger'][_0x1342d9(0x27b)](this[_0x1342d9(0x5bc)]+'\x20('+this[_0x1342d9(0x638)][_0x1342d9(0x385)]+_0x1342d9(0x4dc)+_0x405e84[_0x1342d9(0x662)]),_0x405e84;}}async[a0_0x2e4b91(0x21c)](_0x5c36cb,_0x154623,_0xf116bd){const _0x12f619=a0_0x2e4b91;this['logger']['verbose'](this[_0x12f619(0x5bc)]+'\x20('+this[_0x12f619(0x638)][_0x12f619(0x385)]+_0x12f619(0x725)),await this['closeExistingConversations'](_0x154623);try{let _0x4b1ce1=require('mongodb')[_0x12f619(0x2d3)],_0x5db1b6=Date[_0x12f619(0x2cd)](),_0x12501e='start',_0x1120e4={},_0x1b060c={},_0xf6d036={..._0x5c36cb,'chatLog':null},_0x53fa08=await this[_0x12f619(0x2fb)](_0xf6d036[_0x12f619(0x217)]),_0x20bc47=await this[_0x12f619(0x326)](_0x154623),_0x174821={..._0x53fa08,..._0x20bc47,'_remoteJid':_0x154623},_0x5cdf4f={'lastReceivedMessage':_0x1120e4,'lastSendMessage':_0x1b060c,'lastBlockId':_0x12501e,'lastCondition':!0x0,'realVariables':_0x174821};_0xf6d036[_0x12f619(0x643)]=_0x5cdf4f,_0xf6d036[_0x12f619(0x643)][_0x12f619(0x77f)]={..._0x174821,..._0xf116bd},delete _0xf6d036['_id'],_0xf6d036[_0x12f619(0x264)]=new _0x4b1ce1(),_0xf6d036[_0x12f619(0x351)]=_0x5db1b6,_0xf6d036[_0x12f619(0x221)]='open',_0xf6d036[_0x12f619(0x78d)]=_0x154623;let _0x290f87=await this[_0x12f619(0x3f0)][_0x12f619(0x782)]['updateOne'](_0xf6d036[_0x12f619(0x264)],_0xf6d036,this[_0x12f619(0x638)][_0x12f619(0x385)]);return this['logger'][_0x12f619(0x477)](this[_0x12f619(0x5bc)]+'\x20('+this[_0x12f619(0x638)][_0x12f619(0x385)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x290f87?_0xf6d036:null;}catch(_0x59876c){throw this[_0x12f619(0x76f)][_0x12f619(0x27b)](this['instanceName']+'\x20('+this[_0x12f619(0x638)][_0x12f619(0x385)]+_0x12f619(0x1ae)+(_0x59876c instanceof Error?_0x59876c[_0x12f619(0x662)]:JSON[_0x12f619(0x1ba)](_0x59876c,null,0x2))),new h(_0x59876c['message']);}}async[a0_0x2e4b91(0x4f6)](_0x1e38d0){const _0x1ab766=a0_0x2e4b91;try{this[_0x1ab766(0x76f)][_0x1ab766(0x477)](this[_0x1ab766(0x5bc)]+'\x20('+this[_0x1ab766(0x638)]['wuid']+_0x1ab766(0x383)),this[_0x1ab766(0x76f)][_0x1ab766(0x477)](this[_0x1ab766(0x5bc)]+'\x20('+this[_0x1ab766(0x638)]['wuid']+_0x1ab766(0x466)+_0x1e38d0);let _0x386eb9={'where':{'_id':_0x1e38d0}};return await this['repository'][_0x1ab766(0x782)][_0x1ab766(0x5aa)](_0x386eb9,this[_0x1ab766(0x638)][_0x1ab766(0x385)]);}catch(_0x4a3b62){throw this[_0x1ab766(0x76f)][_0x1ab766(0x27b)](this[_0x1ab766(0x5bc)]+'\x20('+this['instance']['wuid']+_0x1ab766(0x668)+(_0x4a3b62 instanceof Error?_0x4a3b62[_0x1ab766(0x662)]:JSON[_0x1ab766(0x1ba)](_0x4a3b62,null,0x2))),new h(_0x1ab766(0x58e)+_0x4a3b62[_0x1ab766(0x662)]);}}async[a0_0x2e4b91(0x74e)](_0x15fefc,_0x51990a=0x64){const _0x70b171=a0_0x2e4b91;try{return this[_0x70b171(0x76f)][_0x70b171(0x477)](this[_0x70b171(0x5bc)]+'\x20('+this['instance'][_0x70b171(0x385)]+'):\x20Buscando\x20conversas...'),await this[_0x70b171(0x3f0)]['flowConversation'][_0x70b171(0x18c)](_0x15fefc,this[_0x70b171(0x638)][_0x70b171(0x385)]);}catch(_0x205fc5){throw this[_0x70b171(0x76f)][_0x70b171(0x27b)](this[_0x70b171(0x5bc)]+'\x20('+this[_0x70b171(0x638)][_0x70b171(0x385)]+_0x70b171(0x3d3)+(_0x205fc5 instanceof Error?_0x205fc5['message']:JSON['stringify'](_0x205fc5,null,0x2))),new h('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x205fc5[_0x70b171(0x662)]);}}async[a0_0x2e4b91(0x380)](_0x3043c5){const _0x25c3e7=a0_0x2e4b91;try{return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x25c3e7(0x638)]['wuid']+_0x25c3e7(0x684)),this[_0x25c3e7(0x76f)][_0x25c3e7(0x477)](this['instanceName']+'\x20('+this[_0x25c3e7(0x638)]['wuid']+_0x25c3e7(0x236)+_0x3043c5),(await this[_0x25c3e7(0x3f0)]['flowConversation'][_0x25c3e7(0x259)]({'where':{'_id':_0x3043c5}},this[_0x25c3e7(0x638)][_0x25c3e7(0x385)]))[_0x25c3e7(0x2ee)]===0x0?{'message':_0x25c3e7(0x327)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x1adcc0){throw this[_0x25c3e7(0x76f)]['error'](this['instanceName']+'\x20('+this[_0x25c3e7(0x638)][_0x25c3e7(0x385)]+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0x1adcc0 instanceof Error?_0x1adcc0[_0x25c3e7(0x662)]:JSON[_0x25c3e7(0x1ba)](_0x1adcc0,null,0x2))),new h(_0x25c3e7(0x736)+_0x1adcc0[_0x25c3e7(0x662)]);}}async['editConversation'](_0x470fb3){const _0x569f22=a0_0x2e4b91;try{let {_id:_0x39f845,chatLog:_0x1c4095,status:_0x2a4f8f}=_0x470fb3;if(!_0x39f845)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x16251f={};if(_0x2a4f8f!==void 0x0&&(_0x16251f['status']=_0x2a4f8f),Object[_0x569f22(0x6ab)](_0x16251f)['length']===0x0)return{'message':_0x569f22(0x245)};let _0x4c4a5d=await this[_0x569f22(0x3f0)][_0x569f22(0x782)]['updateOne'](_0x39f845,_0x16251f,this['instance'][_0x569f22(0x385)]);return _0x4c4a5d||{'message':_0x569f22(0x237)};}catch(_0x4a3f8d){throw this[_0x569f22(0x76f)][_0x569f22(0x27b)](this['instanceName']+'\x20('+this[_0x569f22(0x638)][_0x569f22(0x385)]+_0x569f22(0x279)+(_0x4a3f8d instanceof Error?_0x4a3f8d['message']:JSON[_0x569f22(0x1ba)](_0x4a3f8d,null,0x2))),new h(_0x569f22(0x46a)+_0x4a3f8d[_0x569f22(0x662)]);}}async[a0_0x2e4b91(0x3d2)](_0x5a11e7){const _0x181d2d=a0_0x2e4b91;try{_0x5a11e7['_id']=this[_0x181d2d(0x749)](_0x5a11e7[_0x181d2d(0x264)]);let {_id:_0x56c14d,leadInfo:_0x356e55}=_0x5a11e7;if(!_0x56c14d)throw new Error(_0x181d2d(0x478));let _0x25f883=(_0x50286b,_0x1d62fc,_0x1f667b)=>{const _0x373dcd=_0x181d2d;_0x1f667b[_0x373dcd(0x2de)](_0x452e23=>{_0x50286b[_0x452e23]!==void 0x0&&(_0x1d62fc['leadInfo.'+_0x452e23]=_0x50286b[_0x452e23]);});},_0x3e5334={};if(_0x25f883(_0x356e55,_0x3e5334,[_0x181d2d(0x4d1),'nomecompleto',_0x181d2d(0x70b),_0x181d2d(0x654),'status',_0x181d2d(0x1b1),_0x181d2d(0x65c),_0x181d2d(0x765),_0x181d2d(0x3ac)]),Array[_0x181d2d(0x604)](_0x356e55['customFields'])&&(_0x3e5334[_0x181d2d(0x77c)]=_0x356e55[_0x181d2d(0x242)][_0x181d2d(0x3fa)](_0x56618b=>({'_id':_0x56618b[_0x181d2d(0x264)],'value':_0x56618b[_0x181d2d(0x73f)]}))),_0x5a11e7['leadInfo'][_0x181d2d(0x50f)]!==void 0x0&&(_0x3e5334[_0x181d2d(0x731)]=Number(_0x5a11e7['leadInfo'][_0x181d2d(0x50f)])),_0x5a11e7[_0x181d2d(0x3b2)]!==void 0x0&&(_0x3e5334['unreadcount']=Number(_0x5a11e7['unreadcount'])),Object[_0x181d2d(0x6ab)](_0x3e5334)['length']===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x2ea4d4=await this[_0x181d2d(0x3f0)][_0x181d2d(0x589)][_0x181d2d(0x5aa)]({'where':{'_id':_0x5a11e7[_0x181d2d(0x264)]}},this['instance'][_0x181d2d(0x385)]);if(!_0x2ea4d4){let _0x4dd79e=(await this[_0x181d2d(0x277)]({'numbers':[_0x5a11e7['_id']]}))[0x0];if(!_0x4dd79e[_0x181d2d(0x658)]&&!(0x0,y[_0x181d2d(0x562)])(_0x4dd79e['jid'])&&!_0x4dd79e[_0x181d2d(0x23b)][_0x181d2d(0x5fa)](_0x181d2d(0x1c6)))throw new h(_0x4dd79e);_0x5a11e7[_0x181d2d(0x264)]=_0x4dd79e[_0x181d2d(0x23b)];}if(_0x5a11e7[_0x181d2d(0x4ba)]!==void 0x0){let _0x4ba5e5=await this['repository']['label'][_0x181d2d(0x18c)]({'where':{}},this[_0x181d2d(0x638)][_0x181d2d(0x385)]),_0x2aa931=new Set(_0x2ea4d4[_0x181d2d(0x4ba)]||[]),_0x447c4e=new Set(_0x5a11e7['labels']),_0x45510f=new Set(_0x4ba5e5['map'](_0x20286d=>_0x20286d[_0x181d2d(0x264)])),_0x6878e0=[..._0x447c4e][_0x181d2d(0x714)](_0x54fcdc=>!_0x2aa931[_0x181d2d(0x5df)](_0x54fcdc)&&_0x45510f[_0x181d2d(0x5df)](_0x54fcdc)),_0x521275=[..._0x2aa931][_0x181d2d(0x714)](_0x3df9cb=>!_0x447c4e[_0x181d2d(0x5df)](_0x3df9cb));for(let _0x51cc07 of _0x6878e0)await this[_0x181d2d(0x2b6)](_0x51cc07,_0x5a11e7[_0x181d2d(0x264)]),_0x2aa931[_0x181d2d(0x4a1)](_0x51cc07);for(let _0x28da09 of _0x521275)await this[_0x181d2d(0x241)](_0x28da09,_0x5a11e7[_0x181d2d(0x264)]),_0x2aa931[_0x181d2d(0x6bb)](_0x28da09);_0x3e5334[_0x181d2d(0x4ba)]=[..._0x2aa931];}let _0x1df6bb=await this[_0x181d2d(0x3f0)][_0x181d2d(0x589)]['updateOne']({'where':{'_id':_0x5a11e7[_0x181d2d(0x264)]}},_0x3e5334,this[_0x181d2d(0x638)][_0x181d2d(0x385)]);return _0x1df6bb&&q(this[_0x181d2d(0x5bc)],_0x181d2d(0x77d),{'chat':_0x1df6bb}),_0x1df6bb?(this['logger'][_0x181d2d(0x477)](this[_0x181d2d(0x5bc)]+'\x20('+this[_0x181d2d(0x638)][_0x181d2d(0x385)]+_0x181d2d(0x15f)+JSON[_0x181d2d(0x1ba)](_0x1df6bb,null,0x2)),_0x1df6bb):{'message':_0x181d2d(0x1b2)};}catch(_0x2e7eb7){throw this[_0x181d2d(0x76f)]['error'](this[_0x181d2d(0x5bc)]+'\x20('+this['instance'][_0x181d2d(0x385)]+_0x181d2d(0x5b1)+(_0x2e7eb7 instanceof Error?_0x2e7eb7[_0x181d2d(0x662)]:JSON[_0x181d2d(0x1ba)](_0x2e7eb7,null,0x2))),new h('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x2e7eb7['message']);}}async[a0_0x2e4b91(0x2b6)](_0x353b10,_0x4d2038){const _0xe5e72e=a0_0x2e4b91;try{await this[_0xe5e72e(0x626)]['addChatLabel'](_0x4d2038,_0x353b10),console['log'](_0xe5e72e(0x23d)+_0x353b10+_0xe5e72e(0x444)+_0x4d2038+_0xe5e72e(0x5bf));}catch(_0x56a5f4){console[_0xe5e72e(0x27b)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x353b10+'\x20ao\x20chat\x20'+_0x4d2038+':',_0x56a5f4);}}async[a0_0x2e4b91(0x241)](_0x3c6f5b,_0x470526){const _0x35c661=a0_0x2e4b91;try{await this[_0x35c661(0x626)]['removeChatLabel'](_0x470526,_0x3c6f5b),console['log']('Label\x20'+_0x3c6f5b+'\x20removido\x20do\x20chat\x20'+_0x470526+_0x35c661(0x5bf));}catch(_0x43f5b2){console['error'](_0x35c661(0x711)+_0x3c6f5b+'\x20do\x20chat\x20'+_0x470526+':',_0x43f5b2);}}async['updateAgent'](_0x177b2e){const _0x4b89c3=a0_0x2e4b91;try{let _0x49aa3b=await this[_0x4b89c3(0x3f0)][_0x4b89c3(0x6b9)][_0x4b89c3(0x699)](this[_0x4b89c3(0x638)]['wuid']),_0x2764c8=_0x177b2e['_id']?_0x49aa3b[_0x4b89c3(0x5a8)][_0x4b89c3(0x4d4)](_0x4dda16=>_0x4dda16[_0x4b89c3(0x264)]===_0x177b2e[_0x4b89c3(0x264)]):-0x1;if(_0x177b2e[_0x4b89c3(0x6bb)]&&_0x2764c8>-0x1)_0x49aa3b[_0x4b89c3(0x5a8)][_0x4b89c3(0x55f)](_0x2764c8,0x1);else{if(_0x2764c8>-0x1){let _0x1a1205=_0x49aa3b[_0x4b89c3(0x5a8)][_0x2764c8];_0x177b2e[_0x4b89c3(0x760)]&&(_0x1a1205['fone']=_0x177b2e['fone']),_0x177b2e['name']&&(_0x1a1205[_0x4b89c3(0x307)]=_0x177b2e[_0x4b89c3(0x307)]),_0x177b2e['email']&&(_0x1a1205[_0x4b89c3(0x70b)]=_0x177b2e[_0x4b89c3(0x70b)]),_0x177b2e[_0x4b89c3(0x791)]&&(_0x1a1205[_0x4b89c3(0x791)]=_0x177b2e[_0x4b89c3(0x791)]);}else _0x49aa3b[_0x4b89c3(0x5a8)][_0x4b89c3(0x20c)]({'_id':_0x177b2e[_0x4b89c3(0x264)]||new ne[(_0x4b89c3(0x5f2))]['Types']['ObjectId']()['toString'](),'fone':_0x177b2e[_0x4b89c3(0x760)],'name':_0x177b2e[_0x4b89c3(0x307)],'email':_0x177b2e[_0x4b89c3(0x70b)],'role':_0x177b2e['role']});}let _0x35777d={'agents':_0x49aa3b[_0x4b89c3(0x5a8)]},_0x58ab08=await this[_0x4b89c3(0x3f0)][_0x4b89c3(0x6b9)][_0x4b89c3(0x21f)](_0x35777d,this['instance'][_0x4b89c3(0x385)]);return this[_0x4b89c3(0x3c4)]=_0x58ab08,this[_0x4b89c3(0x76f)]['verbose'](this[_0x4b89c3(0x5bc)]+'\x20('+this[_0x4b89c3(0x638)][_0x4b89c3(0x385)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x4b89c3(0x76f)][_0x4b89c3(0x477)](this[_0x4b89c3(0x5bc)]+'\x20('+this['instance'][_0x4b89c3(0x385)]+'):\x20'+this[_0x4b89c3(0x3c4)]),_0x58ab08;}catch(_0x4e9462){throw this[_0x4b89c3(0x76f)][_0x4b89c3(0x27b)](this[_0x4b89c3(0x5bc)]+'\x20('+this[_0x4b89c3(0x638)][_0x4b89c3(0x385)]+_0x4b89c3(0x601)+(_0x4e9462 instanceof Error?_0x4e9462['message']:JSON[_0x4b89c3(0x1ba)](_0x4e9462,null,0x2))),new h(_0x4b89c3(0x33c)+_0x4e9462[_0x4b89c3(0x662)]);}}async[a0_0x2e4b91(0x56c)](_0x181c22){const _0x596a62=a0_0x2e4b91;try{let _0x2d4e1e=await this[_0x596a62(0x3f0)][_0x596a62(0x6b9)]['findOrCreate'](this[_0x596a62(0x638)]['wuid']),_0x1a7431=_0x181c22['_id']?_0x2d4e1e['customFields'][_0x596a62(0x4d4)](_0x2b6b19=>_0x2b6b19[_0x596a62(0x264)]===_0x181c22[_0x596a62(0x264)]):-0x1,_0x540c1=!0x1,_0x1a35cc=_0x2d4e1e[_0x596a62(0x242)][_0x596a62(0x41c)](_0x2afa64=>_0x2afa64[_0x596a62(0x769)]===_0x181c22[_0x596a62(0x769)]);if(_0x181c22['delete']&&_0x1a7431>-0x1)_0x2d4e1e[_0x596a62(0x242)][_0x596a62(0x55f)](_0x1a7431,0x1),_0x540c1=!0x0;else{if(_0x1a7431>-0x1){if(_0x2d4e1e[_0x596a62(0x242)]['some'](_0x52e7b6=>_0x52e7b6['name']===_0x181c22['name']&&_0x52e7b6['_id']!==_0x181c22[_0x596a62(0x264)]))throw new Error(_0x596a62(0x46b));let _0x21838b=_0x2d4e1e['customFields'][_0x1a7431];_0x181c22['order']&&(_0x1a35cc||!Number['isInteger'](_0x181c22[_0x596a62(0x769)]))&&(_0x21838b[_0x596a62(0x769)]=_0x181c22['order'],_0x540c1=!0x0),_0x181c22['name']&&(_0x21838b[_0x596a62(0x307)]=_0x181c22[_0x596a62(0x307)]);}else{if(_0x2d4e1e[_0x596a62(0x242)]['some'](_0x18f625=>_0x18f625[_0x596a62(0x307)]===_0x181c22['name']&&_0x18f625[_0x596a62(0x264)]!==_0x181c22[_0x596a62(0x264)]))throw new Error(_0x596a62(0x46b));_0x2d4e1e[_0x596a62(0x242)][_0x596a62(0x20c)]({'_id':_0x181c22[_0x596a62(0x264)]||new ne['default'][(_0x596a62(0x6da))][(_0x596a62(0x2d3))]()[_0x596a62(0x40f)](),'order':_0x181c22[_0x596a62(0x769)],'name':_0x181c22[_0x596a62(0x307)]}),_0x540c1=!0x0;}}if(_0x540c1){_0x2d4e1e[_0x596a62(0x242)][_0x596a62(0x67e)]((_0x2f6936,_0x4a0320)=>_0x2f6936['order']>_0x4a0320[_0x596a62(0x769)]?0x1:_0x4a0320['order']>_0x2f6936[_0x596a62(0x769)]?-0x1:0x0);for(let _0x3cee42=0x0;_0x3cee42<_0x2d4e1e['customFields']['length'];_0x3cee42++)_0x2d4e1e['customFields'][_0x3cee42][_0x596a62(0x769)]=_0x3cee42+0x1;}let _0x58463d=await this[_0x596a62(0x3f0)][_0x596a62(0x6b9)][_0x596a62(0x21f)](_0x2d4e1e,this[_0x596a62(0x638)]['wuid']);return this[_0x596a62(0x3c4)]=_0x58463d,this[_0x596a62(0x76f)][_0x596a62(0x477)](this[_0x596a62(0x5bc)]+'\x20('+this[_0x596a62(0x638)][_0x596a62(0x385)]+_0x596a62(0x269)),this[_0x596a62(0x76f)]['verbose'](this[_0x596a62(0x5bc)]+'\x20('+this[_0x596a62(0x638)][_0x596a62(0x385)]+_0x596a62(0x15f)+this[_0x596a62(0x3c4)]),_0x58463d;}catch(_0x1b8a7c){throw this[_0x596a62(0x76f)]['error'](this[_0x596a62(0x5bc)]+'\x20('+this[_0x596a62(0x638)][_0x596a62(0x385)]+_0x596a62(0x734)+(_0x1b8a7c instanceof Error?_0x1b8a7c[_0x596a62(0x662)]:JSON['stringify'](_0x1b8a7c,null,0x2))),new h(_0x596a62(0x617)+_0x1b8a7c['message']);}}async[a0_0x2e4b91(0x698)](_0x466561){const _0x3f5684=a0_0x2e4b91;try{let _0x5f1f4a=await this['repository']['automateSystem'][_0x3f5684(0x699)](this[_0x3f5684(0x638)]['wuid']);if(!_0x5f1f4a)throw new Error(_0x3f5684(0x6e5));let _0x4b81dd={'_id':_0x5f1f4a[_0x3f5684(0x264)],'flowConfig':{'enabled':_0x466561[_0x3f5684(0x5a3)]??_0x5f1f4a['flowConfig'][_0x3f5684(0x5a3)],'ignoreGroups':_0x466561[_0x3f5684(0x566)]??_0x5f1f4a['flowConfig']['ignoreGroups'],'prefixCommand':_0x466561[_0x3f5684(0x44b)]??_0x5f1f4a[_0x3f5684(0x2a6)][_0x3f5684(0x44b)],'stopConversation':_0x466561['stopConversation']??_0x5f1f4a[_0x3f5684(0x2a6)][_0x3f5684(0x5e4)],'stopMinutes':_0x466561['stopMinutes']??_0x5f1f4a[_0x3f5684(0x2a6)][_0x3f5684(0x295)],'stopWhenYouSendMsg':_0x466561[_0x3f5684(0x1fa)]??_0x5f1f4a[_0x3f5684(0x2a6)][_0x3f5684(0x1fa)]}},_0x143e8c=await this[_0x3f5684(0x3f0)][_0x3f5684(0x6b9)][_0x3f5684(0x21f)](_0x4b81dd,this[_0x3f5684(0x638)][_0x3f5684(0x385)]);return this[_0x3f5684(0x3c4)]=_0x143e8c,this[_0x3f5684(0x76f)][_0x3f5684(0x477)](this[_0x3f5684(0x5bc)]+'\x20('+this[_0x3f5684(0x638)]['wuid']+_0x3f5684(0x79b)),this[_0x3f5684(0x76f)][_0x3f5684(0x477)](this['instanceName']+'\x20('+this[_0x3f5684(0x638)][_0x3f5684(0x385)]+_0x3f5684(0x15f)+this[_0x3f5684(0x3c4)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x143e8c;}catch(_0x3fcc50){throw this[_0x3f5684(0x76f)][_0x3f5684(0x27b)](this[_0x3f5684(0x5bc)]+'\x20('+this[_0x3f5684(0x638)]['wuid']+_0x3f5684(0x17e)+(_0x3fcc50 instanceof Error?_0x3fcc50[_0x3f5684(0x662)]:JSON[_0x3f5684(0x1ba)](_0x3fcc50,null,0x2))),new h(_0x3f5684(0x4f0)+_0x3fcc50['message']);}}async[a0_0x2e4b91(0x4e9)](){const _0x40be33=a0_0x2e4b91;try{let _0x45f7a6=await this[_0x40be33(0x3f0)][_0x40be33(0x6b9)]['findOrCreate'](this['instance']['wuid']);return this[_0x40be33(0x3c4)]=_0x45f7a6,this[_0x40be33(0x76f)][_0x40be33(0x477)](this[_0x40be33(0x5bc)]+'\x20('+this[_0x40be33(0x638)][_0x40be33(0x385)]+_0x40be33(0x163)),this[_0x40be33(0x76f)][_0x40be33(0x477)](this['AutomateSystem']),_0x45f7a6;}catch(_0x21fb4f){throw this[_0x40be33(0x76f)][_0x40be33(0x27b)](this[_0x40be33(0x5bc)]+'\x20('+this[_0x40be33(0x638)][_0x40be33(0x385)]+_0x40be33(0x373)+(_0x21fb4f instanceof Error?_0x21fb4f[_0x40be33(0x662)]:JSON[_0x40be33(0x1ba)](_0x21fb4f,null,0x2))),new h(_0x40be33(0x63c)+_0x21fb4f[_0x40be33(0x662)]);}}async['setRestartTimer'](){const _0xe0ec97=a0_0x2e4b91;this[_0xe0ec97(0x28e)]&&clearTimeout(this[_0xe0ec97(0x28e)]),this['timerId']=setTimeout(()=>{const _0x1ecfe4=_0xe0ec97;this[_0x1ecfe4(0x2ad)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x2e4b91(0x2ad)](){const _0x45aedd=a0_0x2e4b91;Date[_0x45aedd(0x2cd)]()-this[_0x45aedd(0x178)]>=0x1d4c0&&(this[_0x45aedd(0x76f)]['verbose'](this[_0x45aedd(0x5bc)]+'\x20('+this['instance'][_0x45aedd(0x385)]+_0x45aedd(0x5b7)),this[_0x45aedd(0x34b)]=null,this[_0x45aedd(0x178)]=0x0,this[_0x45aedd(0x177)]=0x0,await this[_0x45aedd(0x3ab)]());}async['scheduleNextCheck'](){const _0x1631a1=a0_0x2e4b91;let _0xcbb1f8=()=>{const _0x85b65c=a0_0x22a8;this['logger'][_0x85b65c(0x477)](this['instanceName']+'\x20('+this[_0x85b65c(0x638)]['wuid']+_0x85b65c(0x365)+this[_0x85b65c(0x34b)]+_0x85b65c(0x744));},_0x355456=async()=>{const _0x173bdf=a0_0x22a8;this[_0x173bdf(0x76f)][_0x173bdf(0x477)](this[_0x173bdf(0x5bc)]+'\x20('+this['instance'][_0x173bdf(0x385)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x2c0836=Date[_0x173bdf(0x2cd)]()-0xc*0x3c*0x3c*0x3e8,_0x29a6ee={'where':{'status':{'$in':[_0x173bdf(0x664),_0x173bdf(0x23a)]},'$or':[{'when':{'$lte':Date[_0x173bdf(0x2cd)](),'$gte':_0x2c0836}},{'when':0x0}]}};return await this[_0x173bdf(0x3f0)][_0x173bdf(0x559)][_0x173bdf(0x18c)](_0x29a6ee,this[_0x173bdf(0x638)][_0x173bdf(0x385)]);},_0x222427=async _0x10a0fe=>{const _0xe3c4bd=a0_0x22a8;for(let _0x369087 of _0x10a0fe){let _0x4f7805={'_id':_0x369087[_0xe3c4bd(0x264)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0xe3c4bd(0x2cd)]()-0x1770}}]},_0x263ddb={'startSend':Date[_0xe3c4bd(0x2cd)]()};if(!await this['repository']['scheduleMessage'][_0xe3c4bd(0x3fb)](_0x4f7805,_0x263ddb,this['instance'][_0xe3c4bd(0x385)]))return;if(!this['isConnected']){this['logger'][_0xe3c4bd(0x477)](this[_0xe3c4bd(0x5bc)]+'\x20('+this['instance'][_0xe3c4bd(0x385)]+_0xe3c4bd(0x5bd));break;}if(_0x369087[_0xe3c4bd(0x4af)]===_0xe3c4bd(0x3d8)&&!this[_0xe3c4bd(0x3c4)]?.[_0xe3c4bd(0x2a6)][_0xe3c4bd(0x5a3)]){this[_0xe3c4bd(0x76f)][_0xe3c4bd(0x27b)](this['instanceName']+'\x20('+this[_0xe3c4bd(0x638)][_0xe3c4bd(0x385)]+_0xe3c4bd(0x732));continue;}(!_0x369087[_0xe3c4bd(0x47b)]||_0x369087[_0xe3c4bd(0x47b)]['length']===0x0)&&(_0x369087=await this['repository'][_0xe3c4bd(0x559)][_0xe3c4bd(0x3f5)](_0x369087[_0xe3c4bd(0x264)],{'status':_0xe3c4bd(0x23a),'remoteJidsRemaining':[..._0x369087[_0xe3c4bd(0x251)]]},this['instance'][_0xe3c4bd(0x385)]));for(let _0x349346 of _0x369087[_0xe3c4bd(0x47b)]){if(await this[_0xe3c4bd(0x57b)](),this[_0xe3c4bd(0x178)]=Date[_0xe3c4bd(0x2cd)](),_0x369087[_0xe3c4bd(0x472)]['some'](_0x1c7409=>_0x1c7409[_0xe3c4bd(0x78d)]===_0x349346)){this[_0xe3c4bd(0x76f)][_0xe3c4bd(0x477)](this[_0xe3c4bd(0x5bc)]+'\x20('+this[_0xe3c4bd(0x638)][_0xe3c4bd(0x385)]+_0xe3c4bd(0x32c)+_0x349346+_0xe3c4bd(0x26a));continue;}if(!this['isConnected']){this[_0xe3c4bd(0x76f)][_0xe3c4bd(0x477)](this['instanceName']+'\x20('+this[_0xe3c4bd(0x638)][_0xe3c4bd(0x385)]+_0xe3c4bd(0x653));break;}if(!this[_0xe3c4bd(0x34b)]){this[_0xe3c4bd(0x76f)][_0xe3c4bd(0x477)](this[_0xe3c4bd(0x5bc)]+'\x20('+this[_0xe3c4bd(0x638)][_0xe3c4bd(0x385)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x369087[_0xe3c4bd(0x264)]+_0xe3c4bd(0x4f5));break;}if(_0x369087[_0xe3c4bd(0x4af)]===_0xe3c4bd(0x3d8)&&!this[_0xe3c4bd(0x3c4)]?.[_0xe3c4bd(0x2a6)][_0xe3c4bd(0x5a3)]){this['logger'][_0xe3c4bd(0x27b)](this[_0xe3c4bd(0x5bc)]+'\x20('+this['instance']['wuid']+_0xe3c4bd(0x732));break;}let _0x41e236={'remoteJid':_0x349346,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0xe3c4bd(0x2cd)]()},_0x132d0e=null;try{let _0x270a71=await this['SendScheduleMessage'](_0x349346,_0x369087);_0x41e236[_0xe3c4bd(0x27b)]=_0x270a71[_0xe3c4bd(0x27b)],_0x41e236['id']=_0x270a71[_0xe3c4bd(0x27b)]?null:_0x270a71['id'],_0x41e236[_0xe3c4bd(0x52e)]=_0x270a71[_0xe3c4bd(0x27b)]?_0x270a71['detail']?_0x270a71[_0xe3c4bd(0x6ca)][_0xe3c4bd(0x40f)]():'':null;let _0x449783={'$push':{'messagesSend':_0x41e236},'$pull':{'remoteJidsRemaining':_0x349346}},_0x5572e5=_0x369087[_0xe3c4bd(0x264)];if(_0x132d0e=await this[_0xe3c4bd(0x3f0)][_0xe3c4bd(0x559)][_0xe3c4bd(0x3f5)](_0x5572e5,_0x449783,this[_0xe3c4bd(0x638)][_0xe3c4bd(0x385)]),_0x270a71[_0xe3c4bd(0x27b)])continue;let _0x21f100=this[_0xe3c4bd(0x66c)](_0x369087[_0xe3c4bd(0x73c)],_0x369087[_0xe3c4bd(0x53f)]);await this[_0xe3c4bd(0x56d)](_0x21f100);}catch(_0x18a052){this[_0xe3c4bd(0x76f)][_0xe3c4bd(0x27b)](this[_0xe3c4bd(0x5bc)]+'\x20('+this[_0xe3c4bd(0x638)][_0xe3c4bd(0x385)]+_0xe3c4bd(0x1df)+_0x349346+':\x20'+(_0x18a052 instanceof Error?_0x18a052[_0xe3c4bd(0x662)]:JSON[_0xe3c4bd(0x1ba)](_0x18a052,null,0x2))),_0x41e236[_0xe3c4bd(0x27b)]=!0x0,_0x41e236[_0xe3c4bd(0x52e)]=_0x18a052['message'];let _0x2c2658={'$push':{'messagesSend':_0x41e236},'$pull':{'remoteJidsRemaining':_0x349346}},_0x38d8d9=_0x369087[_0xe3c4bd(0x264)];_0x132d0e=await this[_0xe3c4bd(0x3f0)][_0xe3c4bd(0x559)]['updateOneById'](_0x38d8d9,_0x2c2658,this[_0xe3c4bd(0x638)][_0xe3c4bd(0x385)]);}finally{if(_0x132d0e&&_0x132d0e[_0xe3c4bd(0x221)]===_0xe3c4bd(0x258)){this[_0xe3c4bd(0x76f)][_0xe3c4bd(0x477)](this[_0xe3c4bd(0x5bc)]+'\x20('+this[_0xe3c4bd(0x638)][_0xe3c4bd(0x385)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x369087[_0xe3c4bd(0x264)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x3bfa72=await this[_0xe3c4bd(0x3f0)][_0xe3c4bd(0x559)][_0xe3c4bd(0x4b0)](_0x369087[_0xe3c4bd(0x264)],this[_0xe3c4bd(0x638)]['wuid']);if(_0x3bfa72[_0xe3c4bd(0x47b)][_0xe3c4bd(0x52c)]===0x0&&_0x3bfa72['status']!=='stopped'){let _0x314264={'$set':{'status':_0xe3c4bd(0x1b6)}},_0x3c6b28=_0x3bfa72['_id'];await this[_0xe3c4bd(0x3f0)][_0xe3c4bd(0x559)][_0xe3c4bd(0x3f5)](_0x3c6b28,_0x314264,this[_0xe3c4bd(0x638)][_0xe3c4bd(0x385)]);}await new Promise(_0x49b1b6=>setTimeout(_0x49b1b6,0x1388));}},_0x55c406=async()=>{const _0x445153=a0_0x22a8;let _0x2f101a={'where':{'status':_0x445153(0x664),'when':{'$gt':Date[_0x445153(0x2cd)]()}}},_0x746785=await this[_0x445153(0x3f0)][_0x445153(0x559)][_0x445153(0x5aa)](_0x2f101a,this[_0x445153(0x638)][_0x445153(0x385)]);_0x746785&&_0x746785[_0x445153(0x5c5)]-Date[_0x445153(0x2cd)]()<=0x5265c00?this[_0x445153(0x177)]=_0x746785['when']-Date[_0x445153(0x2cd)]():this['delayMessage']=(0x3c+Math[_0x445153(0x40b)](Math[_0x445153(0x1cf)]()*0x3c))*0x3c*0x3e8,this[_0x445153(0x177)]=Math[_0x445153(0x425)](this[_0x445153(0x177)],0x7d0);let _0x53aa6e=Math[_0x445153(0x32a)](this[_0x445153(0x177)]/0xea60);if(_0x746785){let _0x2efcfa=new Date(_0x746785[_0x445153(0x5c5)])[_0x445153(0x5ad)]();this['logger'][_0x445153(0x477)](this[_0x445153(0x5bc)]+'\x20('+this[_0x445153(0x638)][_0x445153(0x385)]+_0x445153(0x4f1)+_0x2efcfa+_0x445153(0x561)+_0x53aa6e+_0x445153(0x596));}else this[_0x445153(0x76f)]['verbose'](this[_0x445153(0x5bc)]+'\x20('+this[_0x445153(0x638)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x53aa6e+_0x445153(0x596));setTimeout(()=>this[_0x445153(0x3ab)](),this[_0x445153(0x177)]);};if(this['processingScheduleMessageId']){await this['setRestartTimer'](),_0xcbb1f8();return;}if(!this[_0x1631a1(0x48e)]){this[_0x1631a1(0x76f)]['verbose'](this[_0x1631a1(0x5bc)]+'\x20('+this[_0x1631a1(0x638)][_0x1631a1(0x385)]+_0x1631a1(0x62e)),this[_0x1631a1(0x34b)]=null,this[_0x1631a1(0x178)]=0x0,this[_0x1631a1(0x177)]=0x0;return;}try{let _0xa02aa6=await _0x355456();_0xa02aa6[_0x1631a1(0x52c)]===0x0?this[_0x1631a1(0x76f)][_0x1631a1(0x477)](this[_0x1631a1(0x5bc)]+'\x20('+this[_0x1631a1(0x638)][_0x1631a1(0x385)]+_0x1631a1(0x2fe)):(this['processingScheduleMessageId']=_0xa02aa6[0x0][_0x1631a1(0x264)],await _0x222427(_0xa02aa6)),await _0x55c406(),this[_0x1631a1(0x34b)]=null;}catch(_0xde3a9f){this[_0x1631a1(0x76f)][_0x1631a1(0x27b)](_0x1631a1(0x534)+(_0xde3a9f instanceof Error?_0xde3a9f[_0x1631a1(0x662)]:JSON[_0x1631a1(0x1ba)](_0xde3a9f,null,0x2)));}}[a0_0x2e4b91(0x66c)](_0x340e4a,_0x3e2a66){const _0x2c992f=a0_0x2e4b91;return _0x340e4a=Math['max'](0.5,_0x340e4a),_0x3e2a66=Math['min'](Math[_0x2c992f(0x425)](0x3,_0x3e2a66),0x78),Math['floor'](Math[_0x2c992f(0x1cf)]()*(_0x3e2a66-_0x340e4a+0x1)+_0x340e4a)*0x3e8;}[a0_0x2e4b91(0x56d)](_0x4d02f8){return new Promise(_0x4cdf4d=>setTimeout(_0x4cdf4d,_0x4d02f8));}async['getVariablesChat'](_0x4d51c3){const _0x1bbbf2=a0_0x2e4b91;if(!this[_0x1bbbf2(0x3c4)]&&(await this[_0x1bbbf2(0x4e9)](),!this['AutomateSystem']))return null;_0x4d51c3=this['createJid'](_0x4d51c3);let _0x3df95e=await this[_0x1bbbf2(0x3f0)]['chat'][_0x1bbbf2(0x5aa)]({'where':{'_id':_0x4d51c3}},this[_0x1bbbf2(0x638)][_0x1bbbf2(0x385)]),_0x37f660={};if(_0x3df95e&&_0x3df95e['leadInfo']){let _0x262630=_0x3df95e[_0x1bbbf2(0x249)];typeof _0x262630['nome']==_0x1bbbf2(0x49c)&&(_0x37f660[_0x1bbbf2(0x4d1)]=_0x262630[_0x1bbbf2(0x4d1)]),typeof _0x262630[_0x1bbbf2(0x300)]==_0x1bbbf2(0x49c)&&(_0x37f660[_0x1bbbf2(0x300)]=_0x262630[_0x1bbbf2(0x300)]),typeof _0x262630[_0x1bbbf2(0x70b)]=='string'&&(_0x37f660[_0x1bbbf2(0x70b)]=_0x262630[_0x1bbbf2(0x70b)]),typeof _0x262630['cpf']==_0x1bbbf2(0x49c)&&(_0x37f660[_0x1bbbf2(0x654)]=_0x262630[_0x1bbbf2(0x654)]),typeof _0x262630[_0x1bbbf2(0x221)]==_0x1bbbf2(0x49c)&&(_0x37f660[_0x1bbbf2(0x221)]=_0x262630[_0x1bbbf2(0x221)]),typeof _0x262630[_0x1bbbf2(0x1b1)]=='string'&&(_0x37f660['notas']=_0x262630[_0x1bbbf2(0x1b1)]),typeof _0x262630[_0x1bbbf2(0x3ac)]==_0x1bbbf2(0x49c)&&(_0x37f660['responsavelid']=_0x262630[_0x1bbbf2(0x3ac)]),Array[_0x1bbbf2(0x604)](_0x262630[_0x1bbbf2(0x65c)])&&(_0x37f660[_0x1bbbf2(0x65c)]=_0x262630[_0x1bbbf2(0x65c)]['join'](',\x20'));}return _0x3df95e&&_0x3df95e[_0x1bbbf2(0x249)]&&_0x3df95e[_0x1bbbf2(0x249)]['customFields']&&_0x3df95e[_0x1bbbf2(0x249)]['customFields']['forEach'](_0x2538b9=>{const _0x38adcf=_0x1bbbf2;let _0x2c8336=this['AutomateSystem']?.[_0x38adcf(0x242)][_0x38adcf(0x18c)](_0x3b159=>_0x3b159[_0x38adcf(0x264)]===_0x2538b9[_0x38adcf(0x264)]);_0x2c8336&&(_0x37f660[_0x2c8336[_0x38adcf(0x307)]]=_0x2538b9[_0x38adcf(0x73f)]);}),_0x37f660;}async[a0_0x2e4b91(0x36c)](_0x2214ed,_0x530ffa){let _0x1b641b=await this['getVariablesChat'](_0x530ffa);return this['replaceVariables'](_0x2214ed,_0x1b641b);}async['editScheduleMessage'](_0x2af9db){const _0x222f27=a0_0x2e4b91;try{if(this['logger']['verbose'](this[_0x222f27(0x5bc)]+'\x20('+this[_0x222f27(0x638)][_0x222f27(0x385)]+_0x222f27(0x496)),_0x2af9db[_0x222f27(0x6bb)]&&_0x2af9db[_0x222f27(0x264)]){if(this['processingScheduleMessageId']===_0x2af9db[_0x222f27(0x264)][_0x222f27(0x40f)]())throw new Error(_0x222f27(0x766));let _0xacc73d=await this[_0x222f27(0x3f0)][_0x222f27(0x559)][_0x222f27(0x259)](_0x2af9db[_0x222f27(0x264)],this[_0x222f27(0x638)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0xacc73d;}let _0x3b79ca;if(_0x2af9db[_0x222f27(0x264)]&&(_0x3b79ca=await this['repository']['scheduleMessage'][_0x222f27(0x4b0)](_0x2af9db[_0x222f27(0x264)],this[_0x222f27(0x638)][_0x222f27(0x385)])),_0x3b79ca){let _0x5ca455;if(this['processingScheduleMessageId']===_0x3b79ca[_0x222f27(0x264)][_0x222f27(0x40f)]())_0x5ca455={'$set':{'status':_0x2af9db[_0x222f27(0x221)]}};else{let {_id:_0x4c908f,..._0x3bf412}=_0x2af9db;_0x5ca455={'$set':_0x3bf412};}let _0x9d0c4f=await this[_0x222f27(0x3f0)][_0x222f27(0x559)][_0x222f27(0x3f5)](_0x2af9db[_0x222f27(0x264)],_0x5ca455,this['instance']['wuid']);return setTimeout(()=>this[_0x222f27(0x3ab)](),0x7d0),_0x9d0c4f;}else{_0x2af9db[_0x222f27(0x1d6)]=this[_0x222f27(0x638)][_0x222f27(0x385)];let _0x6d59dc=await this['repository'][_0x222f27(0x559)][_0x222f27(0x75b)](_0x2af9db,this['instance'][_0x222f27(0x385)]);return setTimeout(()=>this[_0x222f27(0x3ab)](),0x7d0),_0x6d59dc;}}catch(_0x8c8ba3){throw this[_0x222f27(0x76f)][_0x222f27(0x27b)](this[_0x222f27(0x5bc)]+'\x20('+this[_0x222f27(0x638)]['wuid']+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+(_0x8c8ba3 instanceof Error?_0x8c8ba3[_0x222f27(0x662)]:JSON[_0x222f27(0x1ba)](_0x8c8ba3,null,0x2))),new h(_0x222f27(0x529)+_0x8c8ba3['message']);}}async['getScheduleMessage'](){const _0x11b7bc=a0_0x2e4b91;try{return await this[_0x11b7bc(0x3f0)][_0x11b7bc(0x559)][_0x11b7bc(0x18c)]({'where':{}},this[_0x11b7bc(0x638)][_0x11b7bc(0x385)]);}catch(_0x11a744){throw this[_0x11b7bc(0x76f)][_0x11b7bc(0x27b)](this[_0x11b7bc(0x5bc)]+'\x20('+this[_0x11b7bc(0x638)]['wuid']+_0x11b7bc(0x408)+(_0x11a744 instanceof Error?_0x11a744[_0x11b7bc(0x662)]:JSON[_0x11b7bc(0x1ba)](_0x11a744,null,0x2))),new h(_0x11b7bc(0x529)+_0x11a744[_0x11b7bc(0x662)]);}}async[a0_0x2e4b91(0x41e)](){const _0x43e784=a0_0x2e4b91;try{let _0x4fd88b={'status':_0x43e784(0x1b6)},_0x3ce760=await this['repository'][_0x43e784(0x559)]['deleteMany'](_0x4fd88b,this[_0x43e784(0x638)]['wuid']);if(!_0x3ce760[_0x43e784(0x27b)])this['logger'][_0x43e784(0x477)](this[_0x43e784(0x5bc)]+'\x20('+this[_0x43e784(0x638)][_0x43e784(0x385)]+_0x43e784(0x1c0));else throw new Error(_0x3ce760[_0x43e784(0x27b)][_0x43e784(0x662)]||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this[_0x43e784(0x319)]();}catch(_0x16e010){throw this[_0x43e784(0x76f)]['error'](this['instanceName']+'\x20('+this[_0x43e784(0x638)][_0x43e784(0x385)]+_0x43e784(0x391)+(_0x16e010 instanceof Error?_0x16e010[_0x43e784(0x662)]:JSON[_0x43e784(0x1ba)](_0x16e010,null,0x2))),new h('Erro:'+_0x16e010[_0x43e784(0x662)]);}}async['SendScheduleMessage'](_0x29cea5,_0x499a38){const _0x53e1f5=a0_0x2e4b91;try{if(_0x499a38['type']===_0x53e1f5(0x3d8)&&!this[_0x53e1f5(0x3c4)]?.['flowConfig'][_0x53e1f5(0x5a3)])return this[_0x53e1f5(0x76f)][_0x53e1f5(0x27b)](this[_0x53e1f5(0x5bc)]+'\x20('+this['instance'][_0x53e1f5(0x385)]+_0x53e1f5(0x1b3)),{'error':!0x0,'detail':_0x53e1f5(0x3d7)};switch(_0x499a38[_0x53e1f5(0x4af)]){case _0x53e1f5(0x6c1):return await this['scheduleSendText'](_0x499a38,_0x29cea5);case _0x53e1f5(0x43e):return await this['scheduleSendMedia'](_0x499a38,_0x29cea5);case _0x53e1f5(0x47e):return await this['scheduleSendAudio'](_0x499a38,_0x29cea5);case _0x53e1f5(0x3d8):let _0xa7ed2c=new _e();return _0xa7ed2c[_0x53e1f5(0x307)]=_0x499a38[_0x53e1f5(0x525)],_0xa7ed2c[_0x53e1f5(0x78d)]=_0x29cea5,await this['startFlow'](_0xa7ed2c);break;default:return this['logger']['error'](this['instanceName']+'\x20('+this[_0x53e1f5(0x638)][_0x53e1f5(0x385)]+_0x53e1f5(0x5f6)+_0x499a38[_0x53e1f5(0x4af)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x102f4d){return this[_0x53e1f5(0x76f)][_0x53e1f5(0x27b)](this[_0x53e1f5(0x5bc)]+'\x20('+this[_0x53e1f5(0x638)][_0x53e1f5(0x385)]+_0x53e1f5(0x5ba)+(_0x102f4d instanceof Error?_0x102f4d[_0x53e1f5(0x662)]:JSON[_0x53e1f5(0x1ba)](_0x102f4d,null,0x2))),{'error':!0x0,'detail':_0x102f4d[_0x53e1f5(0x662)]};}}[a0_0x2e4b91(0x5dc)](_0x2082fe){const _0x4863ad=a0_0x2e4b91;let _0x5b2c14=_0x2082fe[_0x4863ad(0x4ad)]('|'),_0x58e74e=Math[_0x4863ad(0x40b)](Math['random']()*_0x5b2c14['length']);return _0x5b2c14[_0x58e74e][_0x4863ad(0x2ec)]();}async[a0_0x2e4b91(0x2bd)](_0x4e4813,_0x1ff510){const _0x3ad248=a0_0x2e4b91;if(this['logger'][_0x3ad248(0x477)](this['instanceName']+'\x20('+this['instance'][_0x3ad248(0x385)]+_0x3ad248(0x4a2)),!_0x4e4813[_0x3ad248(0x662)]['text']||_0x4e4813[_0x3ad248(0x662)][_0x3ad248(0x6c1)]['length']===0x0)return{'error':!0x0,'detail':_0x3ad248(0x4b9)};let _0x1e1f21=this[_0x3ad248(0x5dc)](_0x4e4813[_0x3ad248(0x662)][_0x3ad248(0x6c1)]),_0x16616a=await this[_0x3ad248(0x36c)](_0x1e1f21,_0x1ff510),_0x3f1717={'number':_0x1ff510,'options':{'delay':_0x4e4813['message'][_0x3ad248(0x682)]},'textMessage':{'text':_0x16616a}},_0x418433=null;try{let _0x763f85=await this['textMessage'](_0x3f1717);if(_0x763f85&&_0x763f85['status'])return{'error':!0x1,'id':_0x763f85[_0x3ad248(0x16e)]['id']};_0x418433=JSON[_0x3ad248(0x1ba)](_0x763f85),this[_0x3ad248(0x76f)][_0x3ad248(0x477)](this[_0x3ad248(0x5bc)]+'\x20('+this['instance']['wuid']+_0x3ad248(0x15f)+_0x418433);}catch(_0x489239){this[_0x3ad248(0x76f)]['error'](this[_0x3ad248(0x5bc)]+'\x20('+this[_0x3ad248(0x638)]['wuid']+_0x3ad248(0x52f)+(_0x489239 instanceof Error?_0x489239[_0x3ad248(0x662)]:JSON['stringify'](_0x489239,null,0x2))),_0x418433=_0x489239[_0x3ad248(0x662)];}if(_0x418433)return{'error':!0x0,'detail':(typeof _0x418433==_0x3ad248(0x481)?JSON[_0x3ad248(0x1ba)](_0x418433,null,0x2):_0x418433)['replace'](/[\[\]{}\n]/g,'\x20')[_0x3ad248(0x3ca)](/  +/g,'\x20')};}async[a0_0x2e4b91(0x2e1)](_0x22a694,_0x4364af){const _0x181596=a0_0x2e4b91;this['logger'][_0x181596(0x477)](this[_0x181596(0x5bc)]+'\x20('+this[_0x181596(0x638)][_0x181596(0x385)]+'):\x20Enviando\x20mídia');let _0x2feca2;if(_0x22a694[_0x181596(0x662)][_0x181596(0x6c1)]&&_0x22a694['message'][_0x181596(0x6c1)]['length']>0x0){let _0xbee0d2=this['getRandomText'](_0x22a694['message'][_0x181596(0x6c1)]);_0x2feca2=await this['replaceVariablesChat'](_0xbee0d2,_0x4364af);}let _0x4b6bf2={'number':_0x4364af,'options':{'delay':_0x22a694[_0x181596(0x662)][_0x181596(0x682)]},'mediaMessage':{'mediatype':_0x22a694[_0x181596(0x662)][_0x181596(0x26d)],'caption':_0x2feca2,'media':_0x22a694[_0x181596(0x662)][_0x181596(0x2c4)]}},_0x5d0b1a=null;try{let _0x3e8893=await this[_0x181596(0x1e8)](_0x4b6bf2);if(_0x3e8893&&_0x3e8893[_0x181596(0x221)])return{'error':!0x1,'id':_0x3e8893[_0x181596(0x16e)]['id']};_0x5d0b1a=JSON[_0x181596(0x1ba)](_0x3e8893),this[_0x181596(0x76f)][_0x181596(0x477)](this[_0x181596(0x5bc)]+'\x20('+this[_0x181596(0x638)][_0x181596(0x385)]+'):\x20'+_0x5d0b1a);}catch(_0x38d907){this[_0x181596(0x76f)][_0x181596(0x27b)](this[_0x181596(0x5bc)]+'\x20('+this[_0x181596(0x638)][_0x181596(0x385)]+_0x181596(0x4f4)+(_0x38d907 instanceof Error?_0x38d907[_0x181596(0x662)]:JSON[_0x181596(0x1ba)](_0x38d907,null,0x2))),_0x5d0b1a=_0x38d907['message'];}if(_0x5d0b1a)return{'error':!0x0,'detail':(typeof _0x5d0b1a==_0x181596(0x481)?JSON[_0x181596(0x1ba)](_0x5d0b1a,null,0x2):_0x5d0b1a)[_0x181596(0x3ca)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x2e4b91(0x6f9)](_0x502738,_0x5d18d9){const _0x509bd0=a0_0x2e4b91;this[_0x509bd0(0x76f)][_0x509bd0(0x477)](this['instanceName']+'\x20('+this[_0x509bd0(0x638)][_0x509bd0(0x385)]+'):\x20Enviando\x20áudio');let _0x3eba3e={'number':_0x5d18d9,'options':{'delay':_0x502738[_0x509bd0(0x662)][_0x509bd0(0x682)]},'audioMessage':{'audio':_0x502738[_0x509bd0(0x662)][_0x509bd0(0x2c4)]}},_0x38a204=null;try{let _0x52ee35=await this[_0x509bd0(0x671)](_0x3eba3e);if(_0x52ee35&&_0x52ee35[_0x509bd0(0x221)])return{'error':!0x1,'id':_0x52ee35['key']['id']};_0x38a204=JSON[_0x509bd0(0x1ba)](_0x52ee35),this[_0x509bd0(0x76f)]['verbose'](this[_0x509bd0(0x5bc)]+'\x20('+this[_0x509bd0(0x638)][_0x509bd0(0x385)]+_0x509bd0(0x15f)+_0x38a204);}catch(_0x1fa859){this[_0x509bd0(0x76f)][_0x509bd0(0x27b)](this[_0x509bd0(0x5bc)]+'\x20('+this['instance'][_0x509bd0(0x385)]+_0x509bd0(0x328)+(_0x1fa859 instanceof Error?_0x1fa859[_0x509bd0(0x662)]:JSON['stringify'](_0x1fa859,null,0x2))),_0x38a204=_0x1fa859['message'];}if(_0x38a204)return{'error':!0x0,'detail':(typeof _0x38a204==_0x509bd0(0x481)?JSON[_0x509bd0(0x1ba)](_0x38a204,null,0x2):_0x38a204)[_0x509bd0(0x3ca)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},xt=class c{constructor(_0x1c491c,_0x260e36,_0x5e05f1){const _0xc68253=a0_0x2e4b91;this[_0xc68253(0x515)]=_0x1c491c,this['configService']=_0x260e36,this[_0xc68253(0x3f0)]=_0x5e05f1,this['db']={},this['redis']={},this['logger']=new v(c[_0xc68253(0x307)]),this[_0xc68253(0x320)]={},(this['removeInstance'](),this[_0xc68253(0x4c3)](),Object[_0xc68253(0x274)](this['db'],_0x260e36[_0xc68253(0x535)](_0xc68253(0x1b0))),Object['assign'](this[_0xc68253(0x2c7)],_0x260e36[_0xc68253(0x535)](_0xc68253(0x537))),this[_0xc68253(0x54e)]=this['db'][_0xc68253(0x6cd)]?this[_0xc68253(0x3f0)]['dbServer']?.['db'](this['db'][_0xc68253(0x5e9)][_0xc68253(0x1c3)]+'-instances'):void 0x0,this[_0xc68253(0x505)]=this[_0xc68253(0x2c7)][_0xc68253(0x6cd)]?new oe(this[_0xc68253(0x2c7)]):void 0x0);}async['instanceInfo'](_0x9850b2){const _0x3ce883=a0_0x2e4b91;if(_0x9850b2&&!this[_0x3ce883(0x320)][_0x9850b2])throw new L(_0x3ce883(0x68c)+_0x9850b2+_0x3ce883(0x6fe));let _0x27453=[];for await(let [_0x42819b,_0x599895]of Object[_0x3ce883(0x3fe)](this['waInstances']))if(_0x599895&&_0x599895[_0x3ce883(0x17f)]['state']===_0x3ce883(0x442)){let _0xac5995=await this[_0x3ce883(0x3f0)][_0x3ce883(0x6b0)][_0x3ce883(0x18c)](_0x42819b);_0x27453[_0x3ce883(0x20c)]({'instance':{'instanceName':_0x42819b,'apikey':_0xac5995[_0x3ce883(0x19f)],'owner':_0x599895[_0x3ce883(0x385)],'profileName':await _0x599895[_0x3ce883(0x585)]()||_0x3ce883(0x6d0),'profilePictureUrl':_0x599895[_0x3ce883(0x1b7)]}});}return _0x27453[_0x3ce883(0x18c)](_0x3c8ba9=>_0x3c8ba9[_0x3ce883(0x638)][_0x3ce883(0x5bc)]===_0x9850b2)??_0x27453;}async[a0_0x2e4b91(0x691)](_0x35db74){const _0x3ec9ef=a0_0x2e4b91;if(this['db']['ENABLED']&&(await this[_0x3ec9ef(0x3f0)]['dbServer'][_0x3ec9ef(0x5f1)](),(await this[_0x3ec9ef(0x54e)][_0x3ec9ef(0x71d)]())[_0x3ec9ef(0x52c)]>0x0&&await this['dbInstance'][_0x3ec9ef(0x1d0)](_0x35db74)),this[_0x3ec9ef(0x2c7)]['ENABLED']){this[_0x3ec9ef(0x505)][_0x3ec9ef(0x774)]=_0x35db74,await this['cache'][_0x3ec9ef(0x3e8)]();return;}}async[a0_0x2e4b91(0x1ea)](){const _0x726721=a0_0x2e4b91;await this['InstancesAlterarTodas']();let _0x5d3291=async _0x25ede0=>{const _0x3a9ad0=a0_0x22a8;let _0x2fcb5b=new ye(this[_0x3a9ad0(0x435)],this['eventEmitter'],this[_0x3a9ad0(0x3f0)]);_0x2fcb5b[_0x3a9ad0(0x5bc)]=_0x25ede0,await _0x2fcb5b['connectToWhatsapp'](),this[_0x3a9ad0(0x320)][_0x25ede0]=_0x2fcb5b;};try{if(this[_0x726721(0x2c7)][_0x726721(0x6cd)]){let _0x207ece=await this[_0x726721(0x505)][_0x726721(0x323)]();_0x207ece?.[_0x726721(0x52c)]>0x0&&_0x207ece[_0x726721(0x2de)](async _0x473fd0=>await _0x5d3291(_0x473fd0[_0x726721(0x4ad)](':')[0x1]));return;}if(this['db'][_0x726721(0x6cd)]){await this['repository']['dbServer'][_0x726721(0x5f1)]();let _0x56073e=await this[_0x726721(0x54e)]['collections']();_0x56073e[_0x726721(0x52c)]>0x0&&_0x56073e[_0x726721(0x2de)](async _0x4ce72f=>await _0x5d3291(_0x4ce72f[_0x726721(0x35c)][_0x726721(0x3ca)](/^[\w-]+\./,'')));return;}}catch(_0x18fc49){this['logger'][_0x726721(0x27b)](_0x18fc49);}}async[a0_0x2e4b91(0x1ca)](){const _0x59fb4b=a0_0x2e4b91;let _0x13f217=await this[_0x59fb4b(0x3f0)][_0x59fb4b(0x6b0)][_0x59fb4b(0x613)](),_0x4c5693=_0x13f217[_0x59fb4b(0x714)](_0x314231=>!this[_0x59fb4b(0x320)][_0x314231[_0x59fb4b(0x264)]]&&(_0x314231['online']||typeof _0x314231[_0x59fb4b(0x1d5)]>'u'));_0x4c5693[_0x59fb4b(0x52c)]>0x0&&await Promise['all'](_0x4c5693['map'](async _0x5530c0=>{const _0x32acac=_0x59fb4b;let _0x3c0e78={'online':!0x1,'lastDisconnect':Date[_0x32acac(0x2cd)]()};await this[_0x32acac(0x3f0)][_0x32acac(0x6b0)][_0x32acac(0x74b)](_0x3c0e78,_0x5530c0[_0x32acac(0x264)]);}));let _0x2c5eb0=Date[_0x59fb4b(0x2cd)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x495ed3=_0x13f217[_0x59fb4b(0x714)](_0x430b03=>!this[_0x59fb4b(0x320)][_0x430b03[_0x59fb4b(0x264)]]&&typeof _0x430b03['lastDisconnect']<'u'&&_0x430b03['lastDisconnect']<_0x2c5eb0);_0x495ed3[_0x59fb4b(0x52c)]>0x0&&await Promise['all'](_0x495ed3[_0x59fb4b(0x3fa)](async _0x32072a=>{}));}async[a0_0x2e4b91(0x63d)](){const _0x44f6ab=a0_0x2e4b91;try{let _0x9a1003={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x112aca={'online':!0x1,'lastDisconnect':Date[_0x44f6ab(0x2cd)]()},_0x46768f=await this['repository']['auth'][_0x44f6ab(0x4cc)](_0x9a1003,_0x112aca);console['log'](_0x44f6ab(0x76c)+_0x46768f[_0x44f6ab(0x780)]),await this['removeOlderDisconnectedInstances']();}catch(_0x40dcf){console[_0x44f6ab(0x27b)](_0x44f6ab(0x3e6),_0x40dcf);}}async['removeOlderDisconnectedInstances'](){const _0x53bed2=a0_0x2e4b91;try{let _0x3fc5a2={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x1a68e9=await this[_0x53bed2(0x3f0)][_0x53bed2(0x6b0)][_0x53bed2(0x40e)](_0x3fc5a2);console[_0x53bed2(0x54d)](_0x53bed2(0x49d)+_0x1a68e9['insertCount']);}catch(_0x1fe9de){console[_0x53bed2(0x27b)]('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x1fe9de);}}[a0_0x2e4b91(0x1c2)](){const _0x5c3ac3=a0_0x2e4b91;this['eventEmitter']['on'](_0x5c3ac3(0x3ad),async _0x477523=>{const _0x46a40a=_0x5c3ac3;try{this[_0x46a40a(0x320)][_0x477523]=void 0x0;}catch{}try{this[_0x46a40a(0x691)](_0x477523);}finally{this['logger'][_0x46a40a(0x7a0)](_0x46a40a(0x68c)+_0x477523+_0x46a40a(0x155));}});}[a0_0x2e4b91(0x4c3)](){const _0x49e74b=a0_0x2e4b91;this[_0x49e74b(0x515)]['on'](_0x49e74b(0x1dc),async _0x31c698=>{const _0x2beda5=_0x49e74b;try{this['waInstances'][_0x31c698]=void 0x0;}catch{}try{this[_0x2beda5(0x691)](_0x31c698);}finally{this['logger'][_0x2beda5(0x7a0)](_0x2beda5(0x68c)+_0x31c698+_0x2beda5(0x6a3));}});}},_t=class extends I{[a0_0x2e4b91(0x6bd)](_0x5810a2){return js(_0x5810a2);}async['insert'](_0x4a66f9){const _0x4ef90d=a0_0x2e4b91;if(_0x4a66f9[_0x4ef90d(0x52c)]!==0x0)try{return{'insertCount':(await this[_0x4ef90d(0x6bd)](_0x4a66f9[0x0][_0x4ef90d(0x1d6)])[_0x4ef90d(0x2bb)]([..._0x4a66f9]))['length']};}catch(_0x4ca2cb){return _0x4ca2cb;}}async[a0_0x2e4b91(0x18c)](_0x59126a,_0xbdd95b){const _0x149500=a0_0x2e4b91;try{let _0x44bf38=this[_0x149500(0x6bd)](_0xbdd95b),_0x2fa351=A(_0x59126a[_0x149500(0x199)]);return await _0x44bf38[_0x149500(0x18c)](_0x2fa351)[_0x149500(0x67e)]({'lastmsg':-0x1})[_0x149500(0x75f)](_0x59126a?.[_0x149500(0x75f)]??0x0)[_0x149500(0x2af)]();}catch{return[];}}async[a0_0x2e4b91(0x2c6)](_0x488f2d,_0x1b0d9c){try{return await this['getChatModelForOwner'](_0x1b0d9c)['deleteMany']({..._0x488f2d['where']}),[];}catch(_0x33ea1c){return{'error':_0x33ea1c?.['toString']()};}}async[a0_0x2e4b91(0x5aa)](_0x16c25d,_0x1e7a8b){const _0x494374=a0_0x2e4b91;try{let _0x5e5b4f=this[_0x494374(0x6bd)](_0x1e7a8b),_0x110087=A(_0x16c25d[_0x494374(0x199)]);return await _0x5e5b4f[_0x494374(0x5aa)](_0x110087)[_0x494374(0x2af)]();}catch{return null;}}async['updateOne'](_0x2aa175,_0xa095a0,_0x50a0a7,_0x2e726a,_0x1ad29c=a0_0x2e4b91(0x260)){const _0x4b22d8=a0_0x2e4b91;try{let _0x3f8057={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2e726a},_0xc50dd7=this[_0x4b22d8(0x6bd)](_0x50a0a7),_0x87eb72=A(_0x2aa175['where']),_0x3b22dc={};return _0x3b22dc[_0x1ad29c]=_0xa095a0,await _0xc50dd7[_0x4b22d8(0x73a)](_0x87eb72,_0x3b22dc,_0x3f8057);}catch(_0x569ed8){return console[_0x4b22d8(0x27b)](_0x569ed8),null;}}async[a0_0x2e4b91(0x166)](_0x5ce608){const _0x61c77a=a0_0x2e4b91;try{let _0x325bde=this[_0x61c77a(0x6bd)](_0x5ce608[0x0][_0x61c77a(0x25a)][_0x61c77a(0x199)][_0x61c77a(0x1d6)]),_0x536716=_0x5ce608[_0x61c77a(0x3fa)](_0x247056=>({'updateOne':{'filter':{..._0x247056['query'][_0x61c77a(0x199)]},'update':{'$set':_0x247056[_0x61c77a(0x21f)]}}}));return(await _0x325bde[_0x61c77a(0x4f7)](_0x536716))[_0x61c77a(0x30d)];}catch(_0x43722f){return console[_0x61c77a(0x27b)](_0x43722f),0x0;}}async[a0_0x2e4b91(0x2bb)](_0x41972d,_0x5d69ae){const _0x2907a3=a0_0x2e4b91;if(!Array[_0x2907a3(0x604)](_0x41972d)||_0x41972d[_0x2907a3(0x52c)]===0x0)throw new Error(_0x2907a3(0x502));try{return(await this['getChatModelForOwner'](_0x5d69ae)[_0x2907a3(0x2bb)](_0x41972d))[_0x2907a3(0x52c)];}catch(_0x2ee03a){throw console[_0x2907a3(0x27b)](_0x2907a3(0x2f6),_0x2ee03a),_0x2ee03a;}}async[a0_0x2e4b91(0x448)](_0x2f1899,_0x344a7f){const _0x5564e1=a0_0x2e4b91;try{await this[_0x5564e1(0x6bd)](_0x344a7f)[_0x5564e1(0x3fb)]({'_id':_0x2f1899},{'$inc':{'isValidAttempts':0x1}});}catch(_0x3e8782){throw console[_0x5564e1(0x27b)]('Erro\x20ao\x20incrementar\x20isValidAttempts:',_0x3e8782),_0x3e8782;}}async[a0_0x2e4b91(0x4a8)](_0x598c77,_0x35c34b){const _0x59f375=a0_0x2e4b91;try{await this['getChatModelForOwner'](_0x35c34b)[_0x59f375(0x259)]({'_id':_0x598c77});}catch(_0x3c438f){throw console[_0x59f375(0x27b)]('Erro\x20ao\x20deletar\x20chat:',_0x3c438f),_0x3c438f;}}},Pt=class extends I{[a0_0x2e4b91(0x6a2)](_0x2c600e){return ua(_0x2c600e);}async[a0_0x2e4b91(0x3fb)](_0x326624,_0x49ec28,_0x2ae284,_0x48cac7){const _0x181777=a0_0x2e4b91;try{let _0x44e462={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x48cac7},_0x4e7d9b=this['getLabelModelForOwner'](_0x2ae284),_0x463412=A(_0x326624[_0x181777(0x199)]);return await _0x4e7d9b[_0x181777(0x73a)](_0x463412,{'$set':_0x49ec28},_0x44e462);}catch(_0x2a1411){return console[_0x181777(0x27b)](_0x2a1411),null;}}async[a0_0x2e4b91(0x18c)](_0x492ea3,_0x248ed7){const _0x25256b=a0_0x2e4b91;try{let _0x1f21c5=this[_0x25256b(0x6a2)](_0x248ed7),_0x2422c8=A(_0x492ea3['where']);return await _0x1f21c5[_0x25256b(0x18c)](_0x2422c8);}catch(_0x5cd99c){console[_0x25256b(0x27b)](_0x5cd99c);}}async[a0_0x2e4b91(0x6bb)](_0x1bd1a0,_0x438c62){const _0x3ecc7b=a0_0x2e4b91;try{let _0x454cfa=this['getLabelModelForOwner'](_0x438c62),_0x20d7d7=A(_0x1bd1a0['where']);await _0x454cfa[_0x3ecc7b(0x40e)](_0x20d7d7);}catch(_0x510f60){console[_0x3ecc7b(0x27b)](_0x510f60);}}async[a0_0x2e4b91(0x2c6)](_0x2c06fe){const _0x3d37a8=a0_0x2e4b91;try{return await this[_0x3d37a8(0x6a2)](_0x2c06fe)[_0x3d37a8(0x1e3)][_0x3d37a8(0x57e)](),{'success':!0x0};}catch(_0x51ca55){return console['error'](_0x51ca55),{'success':!0x1,'error':_0x51ca55};}}},$t=class{constructor(_0x12fe27){const _0x525c04=a0_0x2e4b91;this[_0x525c04(0x2c0)]=_0x12fe27;}async[a0_0x2e4b91(0x3d2)]({instanceName:_0x13c1fc},_0xc646d8){const _0xe5b822=a0_0x2e4b91;return await this[_0xe5b822(0x2c0)][_0xe5b822(0x320)][_0x13c1fc][_0xe5b822(0x3d2)](_0xc646d8);}async[a0_0x2e4b91(0x277)]({instanceName:_0x206eaf},_0x50d4fa){const _0x43ac84=a0_0x2e4b91;return await this['waMonitor']['waInstances'][_0x206eaf][_0x43ac84(0x277)](_0x50d4fa);}async[a0_0x2e4b91(0x660)]({instanceName:_0x112f74},_0x1bb02){const _0x3283ee=a0_0x2e4b91;return await this[_0x3283ee(0x2c0)][_0x3283ee(0x320)][_0x112f74][_0x3283ee(0x660)](_0x1bb02);}async[a0_0x2e4b91(0x50e)]({instanceName:_0x12e5fb},_0x299405){const _0x30df14=a0_0x2e4b91;return await this[_0x30df14(0x2c0)][_0x30df14(0x320)][_0x12e5fb]['markMessageAsRead'](_0x299405);}async[a0_0x2e4b91(0x203)]({instanceName:_0x35ba34},_0x426628){const _0x28a112=a0_0x2e4b91;return await this[_0x28a112(0x2c0)][_0x28a112(0x320)][_0x35ba34]['archiveChat'](_0x426628);}async[a0_0x2e4b91(0x6ea)]({instanceName:_0x308d9b},_0x269e30){const _0x49482a=a0_0x2e4b91;return await this['waMonitor']['waInstances'][_0x308d9b][_0x49482a(0x6ea)](_0x269e30);}async[a0_0x2e4b91(0x420)]({instanceName:_0x3db70d},_0x1a35cb){const _0x32a093=a0_0x2e4b91;return await this[_0x32a093(0x2c0)][_0x32a093(0x320)][_0x3db70d]['profilePicture'](_0x1a35cb[_0x32a093(0x577)]);}async[a0_0x2e4b91(0x298)]({instanceName:_0xa97dbb},_0x396ca4){const _0x2ab1b7=a0_0x2e4b91;return await this[_0x2ab1b7(0x2c0)][_0x2ab1b7(0x320)][_0xa97dbb][_0x2ab1b7(0x298)](_0x396ca4['number']);}async[a0_0x2e4b91(0x7a2)]({instanceName:_0x354582},_0x2654ef){const _0x24a619=a0_0x2e4b91;return await this[_0x24a619(0x2c0)]['waInstances'][_0x354582]['updatePresence'](_0x2654ef);}async[a0_0x2e4b91(0x6d6)]({instanceName:_0x1bed3e},_0x333cbe){const _0x4a9d32=a0_0x2e4b91;return await this[_0x4a9d32(0x2c0)][_0x4a9d32(0x320)][_0x1bed3e]['fetchContacts'](_0x333cbe);}async[a0_0x2e4b91(0x6b7)]({instanceName:_0x383532},_0x53a3e2){const _0x59e253=a0_0x2e4b91;return await this[_0x59e253(0x2c0)][_0x59e253(0x320)][_0x383532][_0x59e253(0x6b7)](_0x53a3e2);}async[a0_0x2e4b91(0x751)]({instanceName:_0xcc6f1f},_0x27d208){const _0x44bf06=a0_0x2e4b91;return await this[_0x44bf06(0x2c0)][_0x44bf06(0x320)][_0xcc6f1f][_0x44bf06(0x751)](_0x27d208);}async[a0_0x2e4b91(0x2fa)]({instanceName:_0x959792}){const _0x2e66d1=a0_0x2e4b91;return await this[_0x2e66d1(0x2c0)][_0x2e66d1(0x320)][_0x959792]['fetchLabels']();}async[a0_0x2e4b91(0x78e)]({instanceName:_0xfb4529}){const _0x1e9a0e=a0_0x2e4b91;return await this[_0x1e9a0e(0x2c0)][_0x1e9a0e(0x320)][_0xfb4529]['fetchChats']();}async['fetchPrivacySettings']({instanceName:_0x4faae8}){const _0x3c2f53=a0_0x2e4b91;return await this['waMonitor']['waInstances'][_0x4faae8][_0x3c2f53(0x65b)]();}async[a0_0x2e4b91(0x374)]({instanceName:_0x25d381},_0xa9e7ee){const _0x2fd981=a0_0x2e4b91;return await this[_0x2fd981(0x2c0)][_0x2fd981(0x320)][_0x25d381][_0x2fd981(0x374)](_0xa9e7ee);}async[a0_0x2e4b91(0x2d9)]({instanceName:_0x12afe8},_0x58d4e0){const _0x32e8c8=a0_0x2e4b91;return await this[_0x32e8c8(0x2c0)][_0x32e8c8(0x320)][_0x12afe8]['fetchBusinessProfile'](_0x58d4e0[_0x32e8c8(0x577)]);}async[a0_0x2e4b91(0x49a)]({instanceName:_0x288d9c},_0x197767){return await this['waMonitor']['waInstances'][_0x288d9c]['updateProfileName'](_0x197767['name']);}async['updateProfileStatus']({instanceName:_0x514297},_0x200804){const _0x3a17a3=a0_0x2e4b91;return await this[_0x3a17a3(0x2c0)][_0x3a17a3(0x320)][_0x514297][_0x3a17a3(0x792)](_0x200804[_0x3a17a3(0x221)]);}async[a0_0x2e4b91(0x34f)]({instanceName:_0x2c2ee0},_0x2f9c8c){const _0x3bcf20=a0_0x2e4b91;return await this[_0x3bcf20(0x2c0)]['waInstances'][_0x2c2ee0][_0x3bcf20(0x34f)](_0x2f9c8c[_0x3bcf20(0x636)]);}async['removeProfilePicture']({instanceName:_0x2d23e1},_0x343d75){const _0x2ffd6d=a0_0x2e4b91;return await this[_0x2ffd6d(0x2c0)][_0x2ffd6d(0x320)][_0x2d23e1]['removeProfilePicture']();}},vs=require(a0_0x2e4b91(0x378)),kt=class c{constructor(_0x169aa2,_0x1a1239,_0x38cc46,_0x465779,_0x4e4c5d){const _0x40e5e6=a0_0x2e4b91;this[_0x40e5e6(0x2c0)]=_0x169aa2,this['configService']=_0x1a1239,this[_0x40e5e6(0x3f0)]=_0x38cc46,this[_0x40e5e6(0x515)]=_0x465779,this['authService']=_0x4e4c5d,this[_0x40e5e6(0x76f)]=new v(c['name']);}async[a0_0x2e4b91(0x394)]({instanceName:_0x318b82,apikey:_0x48fb7e,number:_0xf35e4f,proxy:_0x46e2b5=!0x0}){const _0x5c0824=a0_0x2e4b91;try{let _0x356c0f=new ye(this[_0x5c0824(0x435)],this['eventEmitter'],this['repository']);_0x356c0f[_0x5c0824(0x5bc)]=_0x318b82,this[_0x5c0824(0x2c0)]['waInstances'][_0x356c0f[_0x5c0824(0x5bc)]]=_0x356c0f;let _0x557788={};_0x48fb7e?(await this[_0x5c0824(0x3f0)][_0x5c0824(0x6b0)][_0x5c0824(0x74b)]({'apikey':_0x48fb7e},_0x318b82),_0x557788['apikey']=_0x48fb7e):_0x557788=await this[_0x5c0824(0x6b6)][_0x5c0824(0x704)]({'instanceName':_0x356c0f[_0x5c0824(0x5bc)]});let _0x30a747;return await _0x356c0f[_0x5c0824(0x72e)](_0xf35e4f,_0x46e2b5),await(0x0,vs[_0x5c0824(0x682)])(0x7d0),_0x30a747=_0x356c0f[_0x5c0824(0x167)],{'instance':{'instanceName':_0x356c0f[_0x5c0824(0x5bc)],'status':_0x5c0824(0x6de)},'hash':_0x557788,'qrcode':_0x30a747};}catch(_0x3100c4){this[_0x5c0824(0x76f)][_0x5c0824(0x27b)](_0x3100c4);}}async[a0_0x2e4b91(0x607)]({instanceName:_0x4cfb02,number:_0xbadc9b=null,proxy:_0x4ed02e=!0x0}){const _0x4abba4=a0_0x2e4b91;try{let _0x56be54=this['waMonitor']['waInstances'][_0x4cfb02];switch(_0x56be54?.[_0x4abba4(0x17f)]?.[_0x4abba4(0x396)]){case _0x4abba4(0x799):return await _0x56be54['connectToWhatsapp'](_0xbadc9b,_0x4ed02e),await(0x0,vs['delay'])(0x7d0),_0x56be54['qrCode'];case _0x4abba4(0x3bc):return _0x56be54['qrCode'];default:return await this[_0x4abba4(0x665)]({'instanceName':_0x4cfb02});}}catch(_0x17f33a){this[_0x4abba4(0x76f)][_0x4abba4(0x54d)](_0x17f33a);}}async[a0_0x2e4b91(0x665)]({instanceName:_0x3723b8}){const _0x42522a=a0_0x2e4b91;let _0x442cc4=this[_0x42522a(0x2c0)][_0x42522a(0x320)][_0x3723b8]['connectionStatus'],_0x60f7a1=null;_0x442cc4[_0x42522a(0x396)]===_0x42522a(0x442)&&_0x3723b8&&(_0x60f7a1=await this[_0x42522a(0x2c0)][_0x42522a(0x2b0)](_0x3723b8));let _0x493634=null;return _0x442cc4[_0x42522a(0x396)]===_0x42522a(0x3bc)&&_0x3723b8&&(_0x493634=this[_0x42522a(0x2c0)][_0x42522a(0x320)][_0x3723b8]['qrCode']),{'instance':_0x3723b8,'connectionStatus':_0x442cc4,'instanceInfo':_0x60f7a1,'qrcode':_0x493634};}async[a0_0x2e4b91(0x743)]({instanceName:_0x29a299}){const _0x1cbc05=a0_0x2e4b91;try{return this[_0x1cbc05(0x2c0)][_0x1cbc05(0x320)][_0x29a299]?.[_0x1cbc05(0x626)]?.['ws']?.['close'](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x1cbc05(0x5a2)}};}catch(_0x1c5fd2){this[_0x1cbc05(0x76f)]['error'](_0x1c5fd2);}}async[a0_0x2e4b91(0x3cf)]({instanceName:_0x415d23}){const _0x116b26=a0_0x2e4b91;return _0x415d23?this[_0x116b26(0x2c0)]['instanceInfo'](_0x415d23):this[_0x116b26(0x2c0)][_0x116b26(0x2b0)]();}async[a0_0x2e4b91(0x611)]({instanceName:_0x353838}){const _0x11f8f3=a0_0x2e4b91;try{return await this[_0x11f8f3(0x2c0)]['waInstances'][_0x353838]?.[_0x11f8f3(0x626)]?.[_0x11f8f3(0x611)](_0x11f8f3(0x3d5)+_0x353838),{'error':!0x1,'message':_0x11f8f3(0x521)};}catch(_0x41a23c){throw new O(_0x41a23c[_0x11f8f3(0x40f)]());}}async[a0_0x2e4b91(0x683)]({instanceName:_0x281603}){const _0x3f73b7=a0_0x2e4b91;if((await this['connectionState']({'instanceName':_0x281603}))[_0x3f73b7(0x17f)]['state']===_0x3f73b7(0x442))throw new h([_0x3f73b7(0x219),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this['waMonitor'][_0x3f73b7(0x320)][_0x281603],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x29e58f){throw new h(_0x29e58f[_0x3f73b7(0x40f)]());}}},Z=require(a0_0x2e4b91(0x417)),Lt=class{constructor(_0x8e5bc){const _0xdd5597=a0_0x2e4b91;this[_0xdd5597(0x2c0)]=_0x8e5bc;}async[a0_0x2e4b91(0x1ad)]({instanceName:_0x2ef88f},_0x35ea28){const _0x362cd0=a0_0x2e4b91;return await this['waMonitor'][_0x362cd0(0x320)][_0x2ef88f][_0x362cd0(0x666)](_0x35ea28);}async[a0_0x2e4b91(0x364)]({instanceName:_0x5b5b61},_0x5d2dd1){const _0x594a79=a0_0x2e4b91;return await this[_0x594a79(0x2c0)]['waInstances'][_0x5b5b61][_0x594a79(0x645)](_0x5d2dd1);}async[a0_0x2e4b91(0x618)]({instanceName:_0x5aa101},_0x42e401){const _0x22f448=a0_0x2e4b91;if((0x0,Z['isBase64'])(_0x42e401?.['mediaMessage']?.['media'])&&!_0x42e401?.[_0x22f448(0x1e8)]?.['fileName'])throw new h(_0x22f448(0x2f9));if((0x0,Z[_0x22f448(0x42d)])(_0x42e401?.[_0x22f448(0x1e8)]?.[_0x22f448(0x43e)])||(0x0,Z[_0x22f448(0x182)])(_0x42e401?.[_0x22f448(0x1e8)]?.['media']))return await this[_0x22f448(0x2c0)][_0x22f448(0x320)][_0x5aa101][_0x22f448(0x1e8)](_0x42e401);throw new h(_0x22f448(0x6b4));}async[a0_0x2e4b91(0x795)]({instanceName:_0x423181},_0x262dab){const _0x8f7550=a0_0x2e4b91;if((0x0,Z[_0x8f7550(0x42d)])(_0x262dab['stickerMessage']['image'])||(0x0,Z[_0x8f7550(0x182)])(_0x262dab[_0x8f7550(0x2ac)]['image']))return await this[_0x8f7550(0x2c0)]['waInstances'][_0x423181]['mediaSticker'](_0x262dab);throw new h('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x2e4b91(0x25c)]({instanceName:_0x297947},_0x120b8d){const _0x16d093=a0_0x2e4b91;if((0x0,Z['isURL'])(_0x120b8d['audioMessage'][_0x16d093(0x47e)])||(0x0,Z[_0x16d093(0x182)])(_0x120b8d[_0x16d093(0x5be)][_0x16d093(0x47e)]))return await this[_0x16d093(0x2c0)][_0x16d093(0x320)][_0x297947][_0x16d093(0x671)](_0x120b8d);throw new h(_0x16d093(0x6b4));}async[a0_0x2e4b91(0x313)]({instanceName:_0x2d8760},_0x2ba120){const _0x21b869=a0_0x2e4b91;if((0x0,Z[_0x21b869(0x182)])(_0x2ba120[_0x21b869(0x33e)][_0x21b869(0x1e8)]?.['media'])&&!_0x2ba120[_0x21b869(0x33e)][_0x21b869(0x1e8)]?.[_0x21b869(0x2dd)])throw new h(_0x21b869(0x2f9));return await this[_0x21b869(0x2c0)][_0x21b869(0x320)][_0x2d8760][_0x21b869(0x33e)](_0x2ba120);}async[a0_0x2e4b91(0x6a4)]({instanceName:_0x54f6e8},_0x446e4d){const _0x3aaeb2=a0_0x2e4b91;return await this[_0x3aaeb2(0x2c0)][_0x3aaeb2(0x320)][_0x54f6e8][_0x3aaeb2(0x1be)](_0x446e4d);}async['sendPoll']({instanceName:_0x5126f1},_0x417e8a){const _0x159855=a0_0x2e4b91;return await this[_0x159855(0x2c0)][_0x159855(0x320)][_0x5126f1][_0x159855(0x6f8)](_0x417e8a);}async[a0_0x2e4b91(0x46f)]({instanceName:_0x1448b1},_0x4dd860){const _0x5afce8=a0_0x2e4b91;return await this['waMonitor'][_0x5afce8(0x320)][_0x1448b1]['listMessage'](_0x4dd860);}async[a0_0x2e4b91(0x2a2)]({instanceName:_0x220c00},_0x546b90){const _0x4eaa04=a0_0x2e4b91;return await this['waMonitor'][_0x4eaa04(0x320)][_0x220c00][_0x4eaa04(0x726)](_0x546b90);}async[a0_0x2e4b91(0x767)]({instanceName:_0x4cf8ec},_0x5e707f){const _0x25818e=a0_0x2e4b91;if(!_0x5e707f[_0x25818e(0x6fa)][_0x25818e(0x5b5)][_0x25818e(0x3f4)](/[^\(\)\w\sà-ú"-\+]+/))throw new h(_0x25818e(0x4bf));return await this['waMonitor']['waInstances'][_0x4cf8ec][_0x25818e(0x6fa)](_0x5e707f);}async[a0_0x2e4b91(0x4b1)]({instanceName:_0x3991b7},_0x2b4f21){const _0x216473=a0_0x2e4b91;return await this[_0x216473(0x2c0)][_0x216473(0x320)][_0x3991b7][_0x216473(0x418)](_0x2b4f21);}},Er=require(a0_0x2e4b91(0x762)),Ns=require('uuid'),Ft=class c{constructor(_0x2510bd,_0x3704b4,_0x4d4c49){const _0x1e6f6a=a0_0x2e4b91;this[_0x1e6f6a(0x435)]=_0x2510bd,this[_0x1e6f6a(0x2c0)]=_0x3704b4,this['repository']=_0x4d4c49,this[_0x1e6f6a(0x76f)]=new v(c['name']);}async['jwt'](_0x1f0d86){const _0x485f3c=a0_0x2e4b91;let _0xf2d9c6=this[_0x485f3c(0x435)]['get'](_0x485f3c(0x56a))[_0x485f3c(0x192)],_0x10ff8d=(0x0,Er[_0x485f3c(0x3cb)])({'instanceName':_0x1f0d86[_0x485f3c(0x5bc)],'apiName':ze,'tokenId':(0x0,Ns['v4'])()},_0xf2d9c6[_0x485f3c(0x51e)],{'expiresIn':_0xf2d9c6['EXPIRIN_IN'],'encoding':_0x485f3c(0x61d),'subject':_0x485f3c(0x47a)}),_0x3b88bf=await this[_0x485f3c(0x3f0)][_0x485f3c(0x6b0)][_0x485f3c(0x74b)]({'jwt':_0x10ff8d},_0x1f0d86[_0x485f3c(0x5bc)]);if(_0x3b88bf['error'])throw this[_0x485f3c(0x76f)][_0x485f3c(0x27b)]({'localError':c['name']+_0x485f3c(0x1ff),'error':_0x3b88bf[_0x485f3c(0x27b)]}),new h(_0x485f3c(0x644),_0x3b88bf[_0x485f3c(0x27b)]?.[_0x485f3c(0x40f)]());return{'jwt':_0x10ff8d};}async[a0_0x2e4b91(0x19f)](_0x3a7306){const _0x266a2a=a0_0x2e4b91;let _0x58de30=(0x0,Ns['v4'])()[_0x266a2a(0x1c7)](),_0x216fc9=await this[_0x266a2a(0x3f0)]['auth'][_0x266a2a(0x74b)]({'apikey':_0x58de30},_0x3a7306[_0x266a2a(0x5bc)]);if(_0x216fc9[_0x266a2a(0x27b)])throw this[_0x266a2a(0x76f)][_0x266a2a(0x27b)]({'localError':c['name']+_0x266a2a(0x1ff),'error':_0x216fc9[_0x266a2a(0x27b)]}),new h('Authentication\x20error',_0x216fc9[_0x266a2a(0x27b)]?.['toString']());return{'apikey':_0x58de30};}async[a0_0x2e4b91(0x704)](_0x4f5cd7){const _0x381254=a0_0x2e4b91;let _0x167313=this[_0x381254(0x435)][_0x381254(0x535)]('AUTHENTICATION');return await this[_0x167313[_0x381254(0x263)]](_0x4f5cd7);}},Ut=class{constructor(_0x2f3c0f){const _0x4fc65d=a0_0x2e4b91;this[_0x4fc65d(0x2c0)]=_0x2f3c0f;}async[a0_0x2e4b91(0x2c9)](_0x334023,_0x2f5a5c){const _0xc2ce33=a0_0x2e4b91;return await this[_0xc2ce33(0x2c0)][_0xc2ce33(0x320)][_0x334023['instanceName']][_0xc2ce33(0x2c9)](_0x2f5a5c);}async[a0_0x2e4b91(0x354)](_0x156843,_0x494484){const _0x2cb4c9=a0_0x2e4b91;return await this[_0x2cb4c9(0x2c0)][_0x2cb4c9(0x320)][_0x156843[_0x2cb4c9(0x5bc)]][_0x2cb4c9(0x354)](_0x494484);}async[a0_0x2e4b91(0x2c8)](_0x40edf1,_0x37d93a){const _0x3efde6=a0_0x2e4b91;return await this[_0x3efde6(0x2c0)]['waInstances'][_0x40edf1[_0x3efde6(0x5bc)]][_0x3efde6(0x2c8)](_0x37d93a);}async[a0_0x2e4b91(0x53a)](_0x32b3a8,_0x1ef2cb){const _0x5b8728=a0_0x2e4b91;return await this[_0x5b8728(0x2c0)]['waInstances'][_0x32b3a8['instanceName']][_0x5b8728(0x53a)](_0x1ef2cb);}async['groupSetting'](_0x569a20,_0x271df0){const _0x58dbed=a0_0x2e4b91;return await this[_0x58dbed(0x2c0)][_0x58dbed(0x320)][_0x569a20[_0x58dbed(0x5bc)]]['groupSetting'](_0x271df0);}async[a0_0x2e4b91(0x3f7)](_0x1157d6,_0x16fd75){const _0x66717e=a0_0x2e4b91;return await this[_0x66717e(0x2c0)][_0x66717e(0x320)][_0x1157d6[_0x66717e(0x5bc)]]['findGroup'](_0x16fd75);}async[a0_0x2e4b91(0x740)](_0x40cca9){const _0x194bcd=a0_0x2e4b91;return await this[_0x194bcd(0x2c0)][_0x194bcd(0x320)][_0x40cca9[_0x194bcd(0x5bc)]]['findGroups']();}async[a0_0x2e4b91(0x549)](_0x428a85,_0x134b0b){const _0x7a2243=a0_0x2e4b91;return await this[_0x7a2243(0x2c0)][_0x7a2243(0x320)][_0x428a85[_0x7a2243(0x5bc)]]['inviteCode'](_0x134b0b);}async['joinGroup'](_0x191ee0,_0x118ee7){const _0x43ea0b=a0_0x2e4b91;return await this[_0x43ea0b(0x2c0)]['waInstances'][_0x191ee0[_0x43ea0b(0x5bc)]][_0x43ea0b(0x77a)](_0x118ee7);}async[a0_0x2e4b91(0x450)](_0x58a11c,_0x185ca6){const _0x12c6e9=a0_0x2e4b91;return await this[_0x12c6e9(0x2c0)][_0x12c6e9(0x320)][_0x58a11c['instanceName']][_0x12c6e9(0x450)](_0x185ca6);}async[a0_0x2e4b91(0x6d5)](_0x226036,_0x5c41a4){const _0x4991ed=a0_0x2e4b91;return await this[_0x4991ed(0x2c0)][_0x4991ed(0x320)][_0x226036[_0x4991ed(0x5bc)]][_0x4991ed(0x6d5)](_0x5c41a4);}async['updateGParticipate'](_0x44af04,_0x150c16){const _0x462056=a0_0x2e4b91;return await this[_0x462056(0x2c0)]['waInstances'][_0x44af04[_0x462056(0x5bc)]][_0x462056(0x16a)](_0x150c16);}async[a0_0x2e4b91(0x5e2)](_0x236eb6,_0xd3951b){const _0x56ad2c=a0_0x2e4b91;return await this[_0x56ad2c(0x2c0)][_0x56ad2c(0x320)][_0x236eb6[_0x56ad2c(0x5bc)]][_0x56ad2c(0x5e2)](_0xd3951b);}async[a0_0x2e4b91(0x778)](_0x5c5b56,_0x131703){const _0x4d6adb=a0_0x2e4b91;return await this[_0x4d6adb(0x2c0)][_0x4d6adb(0x320)][_0x5c5b56[_0x4d6adb(0x5bc)]][_0x4d6adb(0x778)](_0x131703);}},Jt=class{constructor(_0x35f9f8){const _0x516936=a0_0x2e4b91;this[_0x516936(0x2c0)]=_0x35f9f8;}[a0_0x2e4b91(0x74b)](_0x4e1d26,_0x22a456){const _0x20ad1b=a0_0x2e4b91;return this[_0x20ad1b(0x2c0)][_0x20ad1b(0x320)][_0x4e1d26[_0x20ad1b(0x5bc)]]['setWebhook'](_0x22a456);}async[a0_0x2e4b91(0x18c)](_0x26b237){const _0x370817=a0_0x2e4b91;try{return await this['waMonitor']['waInstances'][_0x26b237[_0x370817(0x5bc)]][_0x370817(0x4bb)]();}catch{return{'enabled':null,'url':''};}}},Qd=new v(a0_0x2e4b91(0x78f)),jt=class{constructor(_0xbd280b){const _0x5d1b39=a0_0x2e4b91;this[_0x5d1b39(0x2c0)]=_0xbd280b;}async[a0_0x2e4b91(0x1de)](_0xcf2035,_0x23b9f7){const _0x33d44d=a0_0x2e4b91;return await this[_0x33d44d(0x2c0)]['waInstances'][_0xcf2035[_0x33d44d(0x5bc)]][_0x33d44d(0x1de)](_0x23b9f7);}async[a0_0x2e4b91(0x319)](_0x422f7e){const _0x3665e6=a0_0x2e4b91;return await this[_0x3665e6(0x2c0)][_0x3665e6(0x320)][_0x422f7e[_0x3665e6(0x5bc)]][_0x3665e6(0x319)]();}async[a0_0x2e4b91(0x41e)](_0x57cc02){const _0x2d899e=a0_0x2e4b91;return await this['waMonitor'][_0x2d899e(0x320)][_0x57cc02['instanceName']][_0x2d899e(0x41e)]();}async['getAutomateSystem'](_0x253cff){const _0x5e580e=a0_0x2e4b91;return await this['waMonitor'][_0x5e580e(0x320)][_0x253cff[_0x5e580e(0x5bc)]]['getAutomateSystem']();}async[a0_0x2e4b91(0x36b)](_0x13db29,_0x3d0dda){const _0x105f2d=a0_0x2e4b91;return await this[_0x105f2d(0x2c0)][_0x105f2d(0x320)][_0x13db29[_0x105f2d(0x5bc)]][_0x105f2d(0x36b)](_0x3d0dda);}async[a0_0x2e4b91(0x56c)](_0x25b3df,_0x128798){const _0x120ca6=a0_0x2e4b91;return await this[_0x120ca6(0x2c0)][_0x120ca6(0x320)][_0x25b3df[_0x120ca6(0x5bc)]][_0x120ca6(0x56c)](_0x128798);}async['updateFlowConfig'](_0x301b24,_0x3523ed){const _0x23c5ce=a0_0x2e4b91;return await this[_0x23c5ce(0x2c0)][_0x23c5ce(0x320)][_0x301b24[_0x23c5ce(0x5bc)]][_0x23c5ce(0x698)](_0x3523ed);}async[a0_0x2e4b91(0x451)](_0x4121a0,_0x44256d){const _0x5a872b=a0_0x2e4b91;return await this['waMonitor']['waInstances'][_0x4121a0['instanceName']][_0x5a872b(0x451)](_0x44256d);}async['getConversation'](_0x14908f,_0x2c30bf){const _0x29f3db=a0_0x2e4b91;return await this[_0x29f3db(0x2c0)][_0x29f3db(0x320)][_0x14908f[_0x29f3db(0x5bc)]]['getConversation'](_0x2c30bf);}async[a0_0x2e4b91(0x74e)](_0x1798d6,_0x228063){const _0x24b396=a0_0x2e4b91;return await this['waMonitor'][_0x24b396(0x320)][_0x1798d6[_0x24b396(0x5bc)]]['fetchConversation'](_0x228063);}async[a0_0x2e4b91(0x398)](_0x24736a,_0x4d91b5){const _0x7c19cf=a0_0x2e4b91;return await this['waMonitor'][_0x7c19cf(0x320)][_0x24736a[_0x7c19cf(0x5bc)]]['editConversation'](_0x4d91b5);}async[a0_0x2e4b91(0x380)](_0xf5ba85,_0x276595){const _0x2212a0=a0_0x2e4b91;return await this[_0x2212a0(0x2c0)][_0x2212a0(0x320)][_0xf5ba85[_0x2212a0(0x5bc)]]['deleteConversation'](_0x276595);}async[a0_0x2e4b91(0x78c)](_0x391410,_0x10d83e){const _0x46ce98=a0_0x2e4b91;return await this['waMonitor'][_0x46ce98(0x320)][_0x391410['instanceName']][_0x46ce98(0x78c)](_0x10d83e['name']);}async[a0_0x2e4b91(0x371)](_0x5c44ae,_0x198bb9){const _0x4aa5e1=a0_0x2e4b91;return await this[_0x4aa5e1(0x2c0)][_0x4aa5e1(0x320)][_0x5c44ae[_0x4aa5e1(0x5bc)]][_0x4aa5e1(0x371)](_0x198bb9);}async[a0_0x2e4b91(0x243)](_0x3ad493,_0x4aad17){const _0x2291d1=a0_0x2e4b91;return await this[_0x2291d1(0x2c0)][_0x2291d1(0x320)][_0x3ad493[_0x2291d1(0x5bc)]][_0x2291d1(0x243)](_0x4aad17);}async[a0_0x2e4b91(0x460)](_0x32a584,_0xbfdf89){const _0x102c4f=a0_0x2e4b91;return await this[_0x102c4f(0x2c0)][_0x102c4f(0x320)][_0x32a584[_0x102c4f(0x5bc)]][_0x102c4f(0x460)](_0xbfdf89);}async['editFlowReply'](_0x46e17f,_0x49168c){const _0x14ffa8=a0_0x2e4b91;return await this['waMonitor'][_0x14ffa8(0x320)][_0x46e17f[_0x14ffa8(0x5bc)]][_0x14ffa8(0x776)](_0x49168c);}async[a0_0x2e4b91(0x29f)](_0x5c6ab5,_0x47d155){const _0x24383a=a0_0x2e4b91;return await this[_0x24383a(0x2c0)][_0x24383a(0x320)][_0x5c6ab5[_0x24383a(0x5bc)]][_0x24383a(0x29f)](_0x47d155);}async[a0_0x2e4b91(0x35e)](_0x48d2f3,_0x3eb087){const _0xfb2ef4=a0_0x2e4b91;return await this['waMonitor'][_0xfb2ef4(0x320)][_0x48d2f3[_0xfb2ef4(0x5bc)]][_0xfb2ef4(0x35e)](_0x3eb087);}async[a0_0x2e4b91(0x62b)](_0x4576bf,_0x26d3e3){const _0x1f8a1d=a0_0x2e4b91;return await this[_0x1f8a1d(0x2c0)][_0x1f8a1d(0x320)][_0x4576bf[_0x1f8a1d(0x5bc)]][_0x1f8a1d(0x62b)](_0x26d3e3);}async[a0_0x2e4b91(0x214)](_0x5d22a3,_0x5c22dd){const _0x17d9ce=a0_0x2e4b91;return await this['waMonitor'][_0x17d9ce(0x320)][_0x5d22a3[_0x17d9ce(0x5bc)]][_0x17d9ce(0x214)](_0x5c22dd);}async[a0_0x2e4b91(0x446)](_0x315340,_0x3d7ac5){const _0x4aede9=a0_0x2e4b91;return await this['waMonitor'][_0x4aede9(0x320)][_0x315340[_0x4aede9(0x5bc)]][_0x4aede9(0x446)](_0x3d7ac5['name']);}async[a0_0x2e4b91(0x61a)](_0x36a6d5){const _0x1bb619=a0_0x2e4b91;return await this[_0x1bb619(0x2c0)][_0x1bb619(0x320)][_0x36a6d5['instanceName']]['allFlows']();}},qt=class{constructor(_0x569c43){const _0xee5ead=a0_0x2e4b91;this[_0xee5ead(0x5e1)]=_0x569c43;}async[a0_0x2e4b91(0x440)](_0x4d229c,_0x4fb4a6){const _0x49a862=a0_0x2e4b91;return this[_0x49a862(0x5e1)][_0x49a862(0x74b)](_0x4d229c,_0x4fb4a6);}async[a0_0x2e4b91(0x4bb)](_0x24acbb){const _0x32ce22=a0_0x2e4b91;return this[_0x32ce22(0x5e1)][_0x32ce22(0x18c)](_0x24acbb);}},Vt=class extends I{constructor(_0x2f0961,_0x2ab50e){const _0x5abde6=a0_0x2e4b91;super(_0x2ab50e),this[_0x5abde6(0x3f1)]=_0x2f0961,this[_0x5abde6(0x435)]=_0x2ab50e;}async['create'](_0x31e16e,_0x528fa9){const _0x2bea0c=a0_0x2e4b91;try{return this[_0x2bea0c(0x47d)][_0x2bea0c(0x6cd)]?{'insertCount':(await this[_0x2bea0c(0x3f1)][_0x2bea0c(0x3c8)]({'_id':_0x528fa9},{..._0x31e16e},{'upsert':!0x0}))[_0x2bea0c(0x30d)]}:{'insertCount':0x1};}catch(_0x5bcdca){return _0x5bcdca;}}async[a0_0x2e4b91(0x6bb)](_0x496c85){const _0xce2b69=a0_0x2e4b91;try{if(this[_0xce2b69(0x47d)][_0xce2b69(0x6cd)]){await this['webhookModel'][_0xce2b69(0x259)]({'_id':_0x496c85});return;}}catch(_0x5458f3){return{'error':_0x5458f3};}}async[a0_0x2e4b91(0x18c)](_0x3b391b){try{if(this['dbSettings']['ENABLED'])return await this['webhookModel']['findOne']({'_id':_0x3b391b});}catch{return{};}}},Bt=class extends I{constructor(_0x55ac58,_0x42efe5){const _0x252e23=a0_0x2e4b91;super(_0x42efe5),this['authModel']=_0x55ac58,this[_0x252e23(0x435)]=_0x42efe5,this[_0x252e23(0x6b0)]=_0x42efe5[_0x252e23(0x535)]('AUTHENTICATION');}async[a0_0x2e4b91(0x74b)](_0x2d7347,_0x2f0bb4){const _0x457603=a0_0x2e4b91;try{if(this[_0x457603(0x47d)][_0x457603(0x6cd)])return{'insertCount':(await this[_0x457603(0x1ec)][_0x457603(0x3fb)]({'_id':_0x2f0bb4},{'$set':{..._0x2d7347}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x41131f){return{'error':_0x41131f};}}async[a0_0x2e4b91(0x4cc)](_0x30aa1c,_0x964ae){const _0x54f486=a0_0x2e4b91;try{if(this[_0x54f486(0x47d)][_0x54f486(0x6cd)])return{'insertCount':(await this[_0x54f486(0x1ec)]['updateMany'](_0x30aa1c,{'$set':_0x964ae},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x54f486(0x4ff));}catch(_0x4f877a){return{'error':_0x4f877a};}}async['deleteMany'](_0x295def){const _0x51cffe=a0_0x2e4b91;try{if(this[_0x51cffe(0x47d)]['ENABLED'])return{'insertCount':(await this[_0x51cffe(0x1ec)][_0x51cffe(0x40e)](_0x295def))[_0x51cffe(0x2ee)]};throw new Error(_0x51cffe(0x4ff));}catch(_0x5f1cce){return{'error':_0x5f1cce};}}async[a0_0x2e4b91(0x6bb)](_0x38eb5d){const _0x46aa69=a0_0x2e4b91;try{if(this[_0x46aa69(0x47d)][_0x46aa69(0x6cd)]){await this[_0x46aa69(0x1ec)][_0x46aa69(0x259)]({'_id':_0x38eb5d});return;}}catch(_0x36c476){return{'error':_0x36c476};}}async[a0_0x2e4b91(0x18c)](_0x20ea13){const _0x3abe7e=a0_0x2e4b91;try{if(this['dbSettings']['ENABLED'])return await this[_0x3abe7e(0x1ec)][_0x3abe7e(0x5aa)]({'_id':_0x20ea13});}catch{return{};}}async[a0_0x2e4b91(0x613)](){const _0x6cbd41=a0_0x2e4b91;try{if(this[_0x6cbd41(0x47d)][_0x6cbd41(0x6cd)])return await this[_0x6cbd41(0x1ec)][_0x6cbd41(0x18c)]();}catch{return[];}}},Gt=class extends I{[a0_0x2e4b91(0x2e9)](_0x421653){return ta(_0x421653);}async[a0_0x2e4b91(0x54f)](_0x1200cc){const _0x526ab8=a0_0x2e4b91;try{let _0x4e83ec=sa,_0x298a4b=this[_0x526ab8(0x2e9)](_0x1200cc),_0x197dc6=await _0x4e83ec['find']({'owner':_0x1200cc})['lean'](),_0x324b4f=[],_0x57b14a=[];for(let _0x578c4f of _0x197dc6)await _0x298a4b['findById'](_0x578c4f['_id'])[_0x526ab8(0x2af)]()||(_0x324b4f[_0x526ab8(0x20c)](_0x578c4f),_0x57b14a[_0x526ab8(0x20c)](_0x578c4f[_0x526ab8(0x264)]));return _0x324b4f['length']>0x0&&await _0x298a4b[_0x526ab8(0x2bb)](_0x324b4f,{'ordered':!0x1}),{'success':!0x0};}catch(_0x11d81d){return console[_0x526ab8(0x27b)](_0x526ab8(0x48d),_0x11d81d),{'success':!0x1,'error':_0x11d81d};}}async[a0_0x2e4b91(0x6bb)](_0x2d179b,_0x2bd992){const _0x43e04f=a0_0x2e4b91;try{let _0x2f08c9=this[_0x43e04f(0x2e9)](_0x2bd992),_0x5f5d75=A(_0x2d179b[_0x43e04f(0x199)]);return{'deletedCount':(await _0x2f08c9['deleteMany'](_0x5f5d75))[_0x43e04f(0x2ee)]};}catch(_0x366c95){return{'error':_0x366c95?.[_0x43e04f(0x40f)]()};}}async[a0_0x2e4b91(0x259)](_0x50fb98,_0x10acad){const _0x4ccd9a=a0_0x2e4b91;try{let _0xe73ab9=this['getFlowModelForOwner'](_0x10acad),_0x5b0f7d=A(_0x50fb98['where']);return{'deletedCount':(await _0xe73ab9[_0x4ccd9a(0x259)](_0x5b0f7d))[_0x4ccd9a(0x2ee)]};}catch(_0x5e2a04){return{'error':_0x5e2a04?.[_0x4ccd9a(0x40f)]()};}}async[a0_0x2e4b91(0x3fb)](_0x3e1da6,_0x4c2c4d,_0xde4a48){const _0x13e6c6=a0_0x2e4b91;try{return await this['getFlowModelForOwner'](_0xde4a48)[_0x13e6c6(0x706)](_0x3e1da6,_0x4c2c4d,{'new':!0x0});}catch(_0x5c8d56){return console[_0x13e6c6(0x27b)](_0x13e6c6(0x204),_0x5c8d56),null;}}async[a0_0x2e4b91(0x75b)](_0x253d5a,_0x5b2f17){const _0x56ae7d=a0_0x2e4b91;try{let _0x19ef72=this[_0x56ae7d(0x2e9)](_0x5b2f17);return await new _0x19ef72(_0x253d5a)[_0x56ae7d(0x794)]();}catch(_0xb2014b){return console[_0x56ae7d(0x27b)](_0x56ae7d(0x768),_0xb2014b),null;}}async['updateMany'](_0x1b8704,_0x76a3c0,_0x36d052){const _0x5a129f=a0_0x2e4b91;try{return{'modifiedCount':(await this[_0x5a129f(0x2e9)](_0x36d052)[_0x5a129f(0x166)](_0x1b8704,{'$set':_0x76a3c0}))['modifiedCount']};}catch(_0xa1b17a){return console[_0x5a129f(0x27b)](_0x5a129f(0x2eb),_0xa1b17a),{'error':_0xa1b17a};}}async['findAll'](_0xba5748,_0x430c34){const _0x564d18=a0_0x2e4b91;try{let _0x1ef7ba=this[_0x564d18(0x2e9)](_0x430c34),_0x5081e1=A(_0xba5748['where']);return await _0x1ef7ba[_0x564d18(0x18c)](_0x5081e1)['limit'](_0xba5748?.['limit']??0x0)[_0x564d18(0x2af)]();}catch{return[];}}async['findOne'](_0x1a061b,_0x1358b6){const _0x3619bf=a0_0x2e4b91;try{let _0x1050e6=this[_0x3619bf(0x2e9)](_0x1358b6),_0x438c2f=A(_0x1a061b[_0x3619bf(0x199)]);return await _0x1050e6[_0x3619bf(0x5aa)](_0x438c2f)[_0x3619bf(0x2af)]();}catch{return null;}}async[a0_0x2e4b91(0x2c6)](_0x2b26ba){const _0x175e42=a0_0x2e4b91;try{return await this['getFlowModelForOwner'](_0x2b26ba)[_0x175e42(0x1e3)][_0x175e42(0x57e)](),{'success':!0x0};}catch(_0x220f59){return console[_0x175e42(0x27b)](_0x220f59),{'success':!0x1,'error':_0x220f59};}}},Wt=class extends I{['getConversationModelForOwner'](_0x153987){return ra(_0x153987);}async[a0_0x2e4b91(0x54f)](_0xd9bd64){const _0x228a8d=a0_0x2e4b91;try{let _0x3999ae=oa,_0xd891fc=this[_0x228a8d(0x633)](_0xd9bd64),_0x2d936e=await _0x3999ae[_0x228a8d(0x18c)]({'owner':_0xd9bd64})[_0x228a8d(0x2af)](),_0x1dc6c1=[],_0x159766=[];for(let _0x21202a of _0x2d936e)await _0xd891fc[_0x228a8d(0x4b0)](_0x21202a[_0x228a8d(0x264)])[_0x228a8d(0x2af)]()||(_0x1dc6c1[_0x228a8d(0x20c)](_0x21202a),_0x159766[_0x228a8d(0x20c)](_0x21202a[_0x228a8d(0x264)]));return _0x1dc6c1['length']>0x0&&await _0xd891fc[_0x228a8d(0x2bb)](_0x1dc6c1,{'ordered':!0x1}),{'success':!0x0};}catch(_0x19d3be){return console[_0x228a8d(0x27b)](_0x228a8d(0x48d),_0x19d3be),{'success':!0x1,'error':_0x19d3be};}}async[a0_0x2e4b91(0x441)](_0x5d6fbd){const _0xd28cd4=a0_0x2e4b91;if(_0x5d6fbd[_0xd28cd4(0x52c)]!==0x0)try{return{'insertCount':(await this[_0xd28cd4(0x633)](_0x5d6fbd[0x0][_0xd28cd4(0x1d6)])[_0xd28cd4(0x2bb)]([..._0x5d6fbd]))[_0xd28cd4(0x52c)]};}catch(_0x464fa1){return _0x464fa1;}}async[a0_0x2e4b91(0x6bb)](_0x1472ea,_0xd98808){const _0x490dd8=a0_0x2e4b91;try{let _0x4e6162=this[_0x490dd8(0x633)](_0xd98808),_0x46d571=A(_0x1472ea[_0x490dd8(0x199)]);return{'deletedCount':(await _0x4e6162['deleteMany'](_0x46d571))[_0x490dd8(0x2ee)]};}catch(_0x2c0e24){return{'error':_0x2c0e24?.[_0x490dd8(0x40f)]()};}}async[a0_0x2e4b91(0x259)](_0x24dcbd,_0x30784f){const _0xc7d69a=a0_0x2e4b91;try{let _0x2ce674=this[_0xc7d69a(0x633)](_0x30784f),_0x564771=A(_0x24dcbd[_0xc7d69a(0x199)]);return{'deletedCount':(await _0x2ce674['deleteOne'](_0x564771))[_0xc7d69a(0x2ee)]};}catch(_0x190abf){return{'error':_0x190abf?.[_0xc7d69a(0x40f)]()};}}async['update'](_0x1c622d,_0x38e471){const _0x4d5eeb=a0_0x2e4b91;try{if(_0x1c622d['length']===0x0)return;let _0x546fd9=this[_0x4d5eeb(0x633)](_0x38e471),_0x5232a0=_0x1c622d[_0x4d5eeb(0x3fa)](_0x150bcd=>({'updateOne':{'filter':{'name':_0x150bcd['name'],'owner':_0x38e471},'update':{..._0x150bcd}}})),{modifiedCount:_0x37f09e}=await _0x546fd9[_0x4d5eeb(0x4f7)](_0x5232a0);return{'insertCount':_0x37f09e};}catch{return;}}async[a0_0x2e4b91(0x166)](_0x3f09ec,_0x4554f2,_0x38d9d5){const _0x10a515=a0_0x2e4b91;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x38d9d5)[_0x10a515(0x166)](_0x3f09ec,{'$set':_0x4554f2}))[_0x10a515(0x30d)]};}catch(_0x30b24a){return console[_0x10a515(0x27b)](_0x10a515(0x438),_0x30b24a),{'error':_0x30b24a};}}async[a0_0x2e4b91(0x3fb)](_0x2a2e07,_0x5a4e86,_0x1096f6){const _0x15e48e=a0_0x2e4b91;try{return await this['getConversationModelForOwner'](_0x1096f6)[_0x15e48e(0x73a)]({'_id':_0x2a2e07},{'$set':_0x5a4e86},{'new':!0x0,'upsert':!0x0})[_0x15e48e(0x2af)]();}catch(_0x5b0b39){return console[_0x15e48e(0x27b)](_0x5b0b39),null;}}async[a0_0x2e4b91(0x18c)](_0x406e3a,_0x56cb8b){const _0x205223=a0_0x2e4b91;try{let _0x199c6f=this[_0x205223(0x633)](_0x56cb8b),_0x13a2ce=A(_0x406e3a['where']);return await _0x199c6f[_0x205223(0x18c)](_0x13a2ce)[_0x205223(0x75f)](_0x406e3a?.[_0x205223(0x75f)]??0x0)[_0x205223(0x67e)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x2e4b91(0x5aa)](_0x5babbb,_0x51ea0d){const _0x13e5c1=a0_0x2e4b91;try{return await this[_0x13e5c1(0x633)](_0x51ea0d)[_0x13e5c1(0x5aa)]({..._0x5babbb[_0x13e5c1(0x199)]})[_0x13e5c1(0x2af)]();}catch{return null;}}async[a0_0x2e4b91(0x2c6)](_0x13805d){const _0x503162=a0_0x2e4b91;try{return await this['getConversationModelForOwner'](_0x13805d)[_0x503162(0x1e3)]['drop'](),{'success':!0x0};}catch(_0x3f3812){return console[_0x503162(0x27b)](_0x3f3812),{'success':!0x1,'error':_0x3f3812};}}},zt=class extends I{[a0_0x2e4b91(0x716)](_0x3772a4){return na(_0x3772a4);}async[a0_0x2e4b91(0x54f)](_0x33e476){const _0x923f94=a0_0x2e4b91;try{let _0x5b02d5=ca,_0x331ac3=this[_0x923f94(0x716)](_0x33e476),_0x1d7185=await _0x5b02d5[_0x923f94(0x18c)]({'owner':_0x33e476})[_0x923f94(0x2af)](),_0x54be4f=[],_0x2caf1b=[];for(let _0x418c39 of _0x1d7185)await _0x331ac3['findById'](_0x418c39[_0x923f94(0x264)])[_0x923f94(0x2af)]()||(_0x54be4f[_0x923f94(0x20c)](_0x418c39),_0x2caf1b['push'](_0x418c39[_0x923f94(0x264)]));return _0x54be4f[_0x923f94(0x52c)]>0x0&&await _0x331ac3[_0x923f94(0x2bb)](_0x54be4f,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1f836e){return console[_0x923f94(0x27b)](_0x923f94(0x48d),_0x1f836e),{'success':!0x1,'error':_0x1f836e};}}async['createAndSave'](_0x872969,_0x55689a){const _0x443e81=a0_0x2e4b91;try{let _0xb036aa=this[_0x443e81(0x716)](_0x55689a);return await new _0xb036aa(_0x872969)[_0x443e81(0x794)]();}catch(_0x1f1265){return console[_0x443e81(0x27b)](_0x443e81(0x768),_0x1f1265),null;}}async[a0_0x2e4b91(0x259)](_0xf43cbe,_0x3ffaf8){const _0x3ce498=a0_0x2e4b91;try{return await this[_0x3ce498(0x716)](_0x3ffaf8)['findByIdAndDelete'](_0xf43cbe),{};}catch(_0x2f5891){return{'error':_0x2f5891?.[_0x3ce498(0x40f)]()};}}async[a0_0x2e4b91(0x3fb)](_0x5955b4,_0x47ec1c,_0x5bc902){const _0x571fad=a0_0x2e4b91;try{return await this[_0x571fad(0x716)](_0x5bc902)[_0x571fad(0x73a)](_0x5955b4,{'$set':_0x47ec1c},{'new':!0x0})['lean']();}catch(_0x3e20c9){return console['error'](_0x571fad(0x551),_0x3e20c9),null;}}async[a0_0x2e4b91(0x3f5)](_0x454117,_0x14ccfd,_0x495f5c){const _0x4165ec=a0_0x2e4b91;try{return await this[_0x4165ec(0x716)](_0x495f5c)[_0x4165ec(0x706)](_0x454117,_0x14ccfd,{'new':!0x0})['lean']();}catch(_0x4169bb){return console[_0x4165ec(0x27b)](_0x4165ec(0x551),_0x4169bb),null;}}async[a0_0x2e4b91(0x18c)](_0x502814,_0x424f9f){const _0x4b335b=a0_0x2e4b91;try{return await this[_0x4b335b(0x716)](_0x424f9f)[_0x4b335b(0x18c)](_0x502814[_0x4b335b(0x199)])[_0x4b335b(0x75f)](_0x502814?.[_0x4b335b(0x75f)]??0x0)[_0x4b335b(0x67e)]({'when':0x1})[_0x4b335b(0x2af)]();}catch{return[];}}async[a0_0x2e4b91(0x5aa)](_0x503c61,_0x1e1d74){const _0x1fe7df=a0_0x2e4b91;try{return await this[_0x1fe7df(0x716)](_0x1e1d74)[_0x1fe7df(0x5aa)](_0x503c61['where'])[_0x1fe7df(0x67e)]({'when':0x1})[_0x1fe7df(0x2af)]();}catch{return null;}}async['findById'](_0x1a8014,_0x4e88c2){const _0x5a3a19=a0_0x2e4b91;try{return await this[_0x5a3a19(0x716)](_0x4e88c2)[_0x5a3a19(0x4b0)](_0x1a8014)['lean']();}catch{return null;}}async['deleteMany'](_0x3ad92b,_0x19993b){const _0x25eb2c=a0_0x2e4b91;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x19993b)['deleteMany'](_0x3ad92b))[_0x25eb2c(0x2ee)]};}catch(_0x205ce1){return console['error']('Erro\x20ao\x20deletar\x20mensagens:',_0x205ce1),{'error':_0x205ce1};}}async[a0_0x2e4b91(0x2c6)](_0x91c8e3){const _0x427134=a0_0x2e4b91;try{return await this['getScheduleMessageModelForOwner'](_0x91c8e3)[_0x427134(0x1e3)][_0x427134(0x57e)](),{'success':!0x0};}catch(_0x215262){return console['error'](_0x215262),{'success':!0x1,'error':_0x215262};}}},Ht=class extends I{async['update'](_0x350db2,_0x3df614){const _0x2a9cc9=a0_0x2e4b91;try{if(this[_0x2a9cc9(0x47d)][_0x2a9cc9(0x6cd)]){let _0x4b4573=await Pe[_0x2a9cc9(0x73a)]({'_id':_0x3df614},{'$set':_0x350db2},{'new':!0x0});return console[_0x2a9cc9(0x54d)]('Resultado\x20da\x20atualização:',_0x4b4573),_0x4b4573;}}catch(_0x17f05d){throw console[_0x2a9cc9(0x27b)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x17f05d),_0x17f05d;}}async[a0_0x2e4b91(0x699)](_0x422872){const _0x36bf6b=a0_0x2e4b91;try{let _0x1f1c80=await Pe[_0x36bf6b(0x4b0)](_0x422872);return _0x1f1c80||(_0x1f1c80=new Pe({'_id':_0x422872}),await _0x1f1c80[_0x36bf6b(0x794)]()),_0x1f1c80;}catch(_0x4eaf4a){return console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x4eaf4a),null;}}},wo=new v(a0_0x2e4b91(0x56b)),bo=new Le(b),So=new _t(b),Eo=new Qe(b),Mo=new Vt(Qs,b),Co=new Bt(zs,b),vo=new Gt(b),No=new Pt(b),Ro=new Wt(b),To=new zt(b),Ao=new Ht(b),ce=new $e(bo,So,Eo,Mo,Co,vo,Ro,No,To,Ao,N?.[a0_0x2e4b91(0x4b5)]()),B=new xt(Zt,b,ce),Oo=new Ft(b,B,ce),Io=new Jt(B),ps=new qt(Io),T=new jt(B),re=new kt(B,b,ce,Zt,Oo),G=new Lt(B),D=new $t(B),J=new Ut(B);wo[a0_0x2e4b91(0x23f)]('Module\x20-\x20ON');var pg=require(a0_0x2e4b91(0x1fc)),Rs=require('fs'),Mr=R(require('https')),Cr=R(require(a0_0x2e4b91(0x655))),Ce=class c{static #e;static set[a0_0x2e4b91(0x55b)](_0x7c74c9){this.#e=_0x7c74c9;}static get[a0_0x2e4b91(0x62f)](){const _0x5dc440=a0_0x2e4b91;let {FULLCHAIN:_0x41229c,PRIVKEY:_0x4f81f9}=b['get']('SSL_CONF');return Mr[_0x5dc440(0x5b2)]({'cert':(0x0,Rs[_0x5dc440(0x61e)])(_0x41229c),'key':(0x0,Rs[_0x5dc440(0x61e)])(_0x4f81f9)},c.#e);}static get[a0_0x2e4b91(0x655)](){return Cr['createServer'](c.#e);}},ue=R(require('fs')),Or=R(require('ini')),ve=R(require(a0_0x2e4b91(0x67b))),Re=R(require(a0_0x2e4b91(0x2ed))),Te=require(a0_0x2e4b91(0x733));function Do(){const _0x6dafdb=a0_0x2e4b91;B[_0x6dafdb(0x1ea)]();let _0x1d466f=Re[_0x6dafdb(0x5f2)][_0x6dafdb(0x727)](__dirname,'downloads');Ar(_0x1d466f);}var Ar=_0x26728f=>{const _0x59f2cf=a0_0x2e4b91;let _0x575aaf=ue['default'][_0x59f2cf(0x268)](_0x26728f),_0x5a2106=0xc*0x3c*0x3c*0x3e8,_0x3587a5=0x2*0x3c*0x3c*0x3e8,_0x5c0f6d=new Date()[_0x59f2cf(0x6f7)]();_0x575aaf[_0x59f2cf(0x2de)](_0x4e827c=>{const _0xf029f=_0x59f2cf;let _0x2796c3=Re[_0xf029f(0x5f2)][_0xf029f(0x727)](_0x26728f,_0x4e827c),_0x3dd348=ue['default'][_0xf029f(0x1ee)](_0x2796c3)[_0xf029f(0x526)]['getTime']();_0x5c0f6d-_0x3dd348>_0x5a2106&&(ue[_0xf029f(0x5f2)][_0xf029f(0x20b)](_0x2796c3),console[_0xf029f(0x54d)]('Deleted\x20'+_0x4e827c));}),setTimeout(()=>Ar(_0x26728f),_0x3587a5);};function xo(){const _0x3e3260=a0_0x2e4b91;let _0x6ecf10=new v(_0x3e3260(0x315)),_0x41724d=(0x0,de[_0x3e3260(0x5f2)])();_0x41724d[_0x3e3260(0x531)]((0x0,Tr[_0x3e3260(0x5f2)])({'origin'(_0x5f49cb,_0x19ad4d){const _0x4b9617=_0x3e3260;let {ORIGIN:_0x1de083}=b[_0x4b9617(0x535)](_0x4b9617(0x73d));return _0x5f49cb||(_0x5f49cb='*'),_0x1de083[_0x4b9617(0x2b7)]('*')!==-0x1||_0x1de083['indexOf'](_0x5f49cb)!==-0x1?_0x19ad4d(null,!0x0):_0x19ad4d(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b['get'](_0x3e3260(0x73d))['METHODS']],'credentials':b[_0x3e3260(0x535)](_0x3e3260(0x73d))[_0x3e3260(0x5d2)]}),(0x0,de[_0x3e3260(0x164)])({'extended':!0x0,'limit':_0x3e3260(0x4e6)}),(0x0,de[_0x3e3260(0x4be)])({'limit':_0x3e3260(0x4e6)})),_0x41724d['use']((_0x52838e,_0x22b804,_0x4d07ad)=>{const _0x2e5d06=_0x3e3260;_0x52838e[_0x2e5d06(0x2ed)][_0x2e5d06(0x798)](_0x2e5d06(0x379))?_0x4d07ad():(0x0,Rr[_0x2e5d06(0x5f2)])()(_0x52838e,_0x22b804,_0x4d07ad);}),_0x41724d[_0x3e3260(0x292)](_0x3e3260(0x772),_0x3e3260(0x63e)),_0x41724d['set'](_0x3e3260(0x572),(0x0,As[_0x3e3260(0x727)])(ae,'views')),_0x41724d[_0x3e3260(0x531)](de[_0x3e3260(0x5f2)][_0x3e3260(0x2cb)]((0x0,As[_0x3e3260(0x727)])(ae,'public'))),_0x41724d[_0x3e3260(0x531)]((_0x434ace,_0x5a0aa1,_0x14abf9)=>{const _0x3883a9=_0x3e3260;let _0x155e93=_0x5a0aa1[_0x3883a9(0x2f4)];_0x5a0aa1[_0x3883a9(0x2f4)]=function(_0x166ca3){const _0x396577=_0x3883a9;if(_0x434ace['query'][_0x396577(0x412)]===_0x396577(0x6db)||_0x434ace['headers'][_0x396577(0x55c)]==='true'){let _0x138178=JSON[_0x396577(0x31b)](_0x166ca3);_0x166ca3=JSON[_0x396577(0x1ba)](_0x4b9f0d(_0x138178));}return _0x155e93['apply'](_0x5a0aa1,[_0x166ca3]);},_0x14abf9();}),_0x41724d[_0x3e3260(0x531)]('/',vt),_0x41724d['use']((_0x55f1d3,_0x18d6d5,_0x362db6,_0x40001e)=>{const _0x3a243f=_0x3e3260;if(_0x55f1d3)return _0x362db6[_0x3a243f(0x221)](_0x55f1d3[_0x3a243f(0x221)]||0x1f4)['json'](_0x55f1d3);},(_0x3a674f,_0x325456,_0x2ed53b)=>{const _0x13c6dc=_0x3e3260;let {method:_0x22cf82,url:_0x3e0dfe}=_0x3a674f;_0x325456[_0x13c6dc(0x221)](0x194)[_0x13c6dc(0x4be)]({'status':0x194,'message':_0x13c6dc(0x191)+_0x22cf82['toUpperCase']()+'\x20'+_0x3e0dfe,'error':'Not\x20Found'}),_0x2ed53b();});let _0x4b9f0d=(_0x16d09e,_0x54a153=_0x3e3260(0x52a))=>{const _0x228cbc=_0x3e3260;let _0x2bc287=(_0x3443e5,_0x51c88e=null,_0x342e56=!0x1)=>{const _0x33f81e=a0_0x22a8;let _0x4dbb3d={};return Object[_0x33f81e(0x6ab)](_0x3443e5)[_0x33f81e(0x2de)](_0x501c74=>{const _0x12674e=_0x33f81e;let _0x30d544=_0x3443e5[_0x501c74],_0x1c189e=''+_0x54a153+_0x501c74;_0x51c88e&&!_0x342e56&&(_0x1c189e=_0x51c88e+'.'+_0x501c74),!_0x30d544&&_0x30d544!==0x0&&_0x30d544!==!0x1||typeof _0x30d544>'u'?_0x4dbb3d[_0x1c189e]=null:typeof _0x30d544!=_0x12674e(0x481)&&!Array[_0x12674e(0x604)](_0x30d544)?_0x4dbb3d[_0x1c189e]=_0x30d544:typeof _0x30d544==_0x12674e(0x481)&&!Array[_0x12674e(0x604)](_0x30d544)?_0x4dbb3d=Object[_0x12674e(0x274)](_0x4dbb3d,_0x2bc287(_0x30d544,_0x1c189e)):Array['isArray'](_0x30d544)&&(typeof _0x30d544[0x0]=='object'?(_0x4dbb3d[_0x1c189e]=[],_0x30d544[_0x12674e(0x2de)](_0xf44ce4=>{_0x4dbb3d[_0x1c189e]['push'](_0x2bc287(_0xf44ce4,_0x1c189e,!0x0));})):_0x4dbb3d[_0x1c189e]=_0x30d544);}),_0x4dbb3d;};return Array[_0x228cbc(0x604)](_0x16d09e)?_0x16d09e[_0x228cbc(0x3fa)](_0x27c889=>_0x2bc287(_0x27c889)):typeof _0x16d09e==_0x228cbc(0x481)&&_0x16d09e!==null?_0x2bc287(_0x16d09e):{};},_0x5e354e=b[_0x3e3260(0x535)](_0x3e3260(0x315));Ce[_0x3e3260(0x55b)]=_0x41724d;let _0x4ec58c=Ce[_0x5e354e[_0x3e3260(0x263)]],_0x1833a5=_0x3e3260(0x48a);_0x4ec58c[_0x3e3260(0x622)](_0x5e354e[_0x3e3260(0x350)],()=>{const _0x5c2ef8=_0x3e3260;_0x6ecf10[_0x5c2ef8(0x54d)](_0x1833a5),_0x6ecf10[_0x5c2ef8(0x54d)](_0x5e354e[_0x5c2ef8(0x263)]['toUpperCase']()+_0x5c2ef8(0x35f)+_0x5e354e[_0x5c2ef8(0x350)]);}),Do(),Us();}var _o='https://github.com/uazapi/uazapi.git',Po=Re[a0_0x2e4b91(0x5f2)][a0_0x2e4b91(0x727)](__dirname,'./.git/config'),Ne=null;function $o(){return new Promise((_0x5ad3b6,_0x94a1b8)=>{const _0x2edb45=a0_0x22a8;ue[_0x2edb45(0x5f2)][_0x2edb45(0x2f1)](Po,_0x2edb45(0x748),(_0xba61d8,_0x54afad)=>{const _0x5cfa92=_0x2edb45;if(_0xba61d8){Ne=_0xba61d8,_0x5ad3b6();return;}Or[_0x5cfa92(0x5f2)][_0x5cfa92(0x31b)](_0x54afad)['remote\x20\x22origin\x22'][_0x5cfa92(0x3c3)]===_o?(Ne=null,_0x5ad3b6()):(Ne=new Error(_0x5cfa92(0x598)),_0x5ad3b6());});});}async function ko(){const _0x22926e=a0_0x2e4b91;try{await $o(),await Os();}catch(_0x586b05){console['error'](_0x22926e(0x44e)+_0x586b05),process[_0x22926e(0x712)](0x1);}}ko();async function Ir(){const _0x33b3b3=a0_0x2e4b91;let _0x540a48;try{_0x540a48=(await ve[_0x33b3b3(0x5f2)][_0x33b3b3(0x535)](_0x33b3b3(0x3a2)))[_0x33b3b3(0x5b0)]['ip'];}catch(_0x45341e){console[_0x33b3b3(0x27b)](_0x45341e);try{_0x540a48=(await ve[_0x33b3b3(0x5f2)][_0x33b3b3(0x535)](_0x33b3b3(0x318)))[_0x33b3b3(0x5b0)]['ip'];}catch(_0x1fa234){console[_0x33b3b3(0x27b)](_0x1fa234);try{_0x540a48=(await ve[_0x33b3b3(0x5f2)][_0x33b3b3(0x535)](_0x33b3b3(0x4c1)))['data'][_0x33b3b3(0x3f4)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4e2951){return console['error'](_0x4e2951),!0x1;}}}return _0x540a48;}var vr=0x0;async function Lo(){const _0x4a1047=a0_0x2e4b91;let _0x392197=await new oe(b[_0x4a1047(0x535)](_0x4a1047(0x537)))['instanceKeys']();return console[_0x4a1047(0x54d)]('instancias:\x20',_0x392197['length']),_0x392197['length'];}function Fo(_0x491cbb){const _0xb963b8=a0_0x2e4b91;let _0x35beb0=_0x491cbb[_0xb963b8(0x535)](_0xb963b8(0x315))[_0xb963b8(0x471)],_0x51d3db=_0x491cbb[_0xb963b8(0x535)]('SSL_CONF'),_0x282a49;if(_0x35beb0){let _0x484a34=_0x35beb0[_0xb963b8(0x3f4)](/\/\/(.*?)\./);_0x484a34&&_0x484a34[0x1]&&(_0x282a49=_0x484a34[0x1]);}if(!_0x282a49&&_0x51d3db&&_0x51d3db[_0xb963b8(0x669)]){let _0x500fac=_0x51d3db[_0xb963b8(0x669)][_0xb963b8(0x4ad)]('/'),_0xfd8857=_0x500fac[_0x500fac[_0xb963b8(0x52c)]-0x2];if(_0xfd8857){let _0x14fbac=_0xfd8857['split']('.');_0x14fbac[_0xb963b8(0x52c)]>0x2&&(_0x282a49=_0x14fbac[0x0]);}}return _0x282a49;}var Cs=Fo(b);async function Uo(){const _0x313b26=a0_0x2e4b91;let _0x257fa9=b[_0x313b26(0x535)](_0x313b26(0x537)),_0x17d646=b[_0x313b26(0x535)](_0x313b26(0x56a))[_0x313b26(0x227)][_0x313b26(0x2ff)],_0x4360e5=b[_0x313b26(0x535)]('SSL_CONF'),_0x2ab0c8=await Ir(),_0x4c2499=b[_0x313b26(0x535)]('SERVER')[_0x313b26(0x350)],_0x385936=b[_0x313b26(0x535)](_0x313b26(0x315))['URL'];try{let _0x12eaee={'ip':_0x2ab0c8||null,'redis_enable':_0x257fa9?.[_0x313b26(0x6cd)]||null,'apikey':_0x17d646||null,'ssl':_0x4360e5?.[_0x313b26(0x2e4)]||null,'lastupdate':Dr||null,'port':_0x4c2499||null,'gitInstallError':Ne?.[_0x313b26(0x662)]||null,'url':_0x385936||null};if(console[_0x313b26(0x54d)]('ip:\x20',_0x12eaee['ip']),_0x257fa9&&_0x257fa9[_0x313b26(0x6cd)]){let _0x5304d9=await Lo();_0x12eaee['instanceCount']=_0x5304d9||null;}for(let _0x119be6 in _0x12eaee)_0x12eaee[_0x313b26(0x1f7)](_0x119be6)&&_0x119be6!=='ip'&&(_0x12eaee[_0x119be6]=JSON[_0x313b26(0x1ba)](_0x12eaee[_0x119be6]));return(await ve[_0x313b26(0x5f2)][_0x313b26(0x2a7)](_0x313b26(0x75d),_0x12eaee))['data'];}catch(_0xe42da9){return console[_0x313b26(0x27b)](_0xe42da9),!0x1;}}var Ts=!0x1,Dr=0x21c,Jo=0x3,Nr=0x1b7740;async function Os(){const _0x29e763=a0_0x2e4b91;if(!await Ir())return console['error'](_0x29e763(0x41b)),_0x29e763(0x455);let _0x587491=await Uo();if(_0x587491){if(_0x587491[_0x29e763(0x5b8)][_0x29e763(0x44d)]===!0x0){b[_0x29e763(0x535)]('SSL_CONF')[_0x29e763(0x2e4)][_0x29e763(0x5fa)](_0x29e763(0x5de))&&_0x587491['response'][_0x29e763(0x355)]&&(await Vo(_0x587491[_0x29e763(0x5b8)][_0x29e763(0x355)],qo),await Bo(_0x29e763(0x6d8),_0x587491[_0x29e763(0x5b8)][_0x29e763(0x355)]),console[_0x29e763(0x54d)](_0x29e763(0x6c4)),setTimeout(()=>Wo(),0x2710)),Ne===null&&_0x587491['response']['last_update']-Dr>0x0&&await jo(),Ts||(Ts=!0x0,xo());let _0x3e727d=0x24*0x3c*0x3c,_0x563e4a=_0x587491[_0x29e763(0x5b8)][_0x29e763(0x215)]>_0x3e727d?_0x3e727d:_0x587491[_0x29e763(0x5b8)][_0x29e763(0x215)],_0x1ed91e=Number(_0x563e4a);if(isNaN(_0x1ed91e)){console[_0x29e763(0x27b)](_0x29e763(0x475));return;}let _0x590bb6=Math[_0x29e763(0x40b)](_0x1ed91e/0xe10),_0xd54d99=Math['floor'](_0x1ed91e%0xe10/0x3c),_0x4a6be8=new Date(Date[_0x29e763(0x2cd)]()+_0x1ed91e*0x3e8);setTimeout(Os,_0x1ed91e*0x3e8);let _0x5d23a0=_0x5919d5=>_0x5919d5[_0x29e763(0x40f)]()[_0x29e763(0x547)](0x2,'0'),_0x4ff9e8=_0x29e763(0x793)+_0x5d23a0(_0x590bb6)+_0x29e763(0x232)+_0x5d23a0(_0xd54d99)+_0x29e763(0x3aa)+_0x5d23a0(_0x4a6be8[_0x29e763(0x17c)]())+':'+_0x5d23a0(_0x4a6be8[_0x29e763(0x52b)]())+'.';console[_0x29e763(0x54d)](_0x4ff9e8);}else return console[_0x29e763(0x54d)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Ts&&(console[_0x29e763(0x54d)](_0x29e763(0x3e1)),process[_0x29e763(0x712)]()),'LICENSE_INVALID';}else{if(vr++,vr<Jo)console['log'](_0x29e763(0x386)+Nr/0xea60+_0x29e763(0x565)),setTimeout(Os,Nr);else return console[_0x29e763(0x27b)](_0x29e763(0x6a7)),'SERVER_OFFLINE';}}async function jo(){const _0xd01555=a0_0x2e4b91;console['log'](_0xd01555(0x24a));let _0x2f8a4b=(0x0,Te['spawn'])(_0xd01555(0x5c2),{'shell':!0x0});_0x2f8a4b[_0xd01555(0x79e)]['on'](_0xd01555(0x5b0),_0x41a24e=>{const _0x1a5bc2=_0xd01555;console[_0x1a5bc2(0x54d)](_0x1a5bc2(0x57c)+_0x41a24e);}),_0x2f8a4b[_0xd01555(0x62d)]['on'](_0xd01555(0x5b0),_0x1d3636=>{const _0x278a22=_0xd01555;console[_0x278a22(0x27b)](_0x278a22(0x71c)+_0x1d3636);}),_0x2f8a4b['on'](_0xd01555(0x712),_0x42ae16=>{const _0x313414=_0xd01555;_0x42ae16!==0x0?console['error'](_0x313414(0x453)+_0x42ae16):console[_0x313414(0x54d)](_0x313414(0x56f)),console[_0x313414(0x54d)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x313414(0x712)](),0x2710);});}var qo=Re[a0_0x2e4b91(0x5f2)][a0_0x2e4b91(0x727)](__dirname,a0_0x2e4b91(0x156));async function Vo(_0x292f5a,_0x1dd8e7){const _0x4713fd=a0_0x2e4b91;let _0x2c17cd=Go();_0x292f5a=_0x292f5a['replace'](_0x4713fd(0x720),'');try{let _0x3b5cdc=ue['default'][_0x4713fd(0x61e)](_0x1dd8e7,_0x4713fd(0x61d));_0x3b5cdc=_0x3b5cdc['replace'](/<apikey>/,_0x2c17cd),_0x3b5cdc=_0x3b5cdc[_0x4713fd(0x3ca)](/<subdomain>/g,_0x292f5a),ue[_0x4713fd(0x5f2)][_0x4713fd(0x4d5)](_0x1dd8e7,_0x3b5cdc,_0x4713fd(0x61d)),console[_0x4713fd(0x54d)](_0x4713fd(0x3ee));}catch(_0x53f3d9){console['error'](_0x4713fd(0x170),_0x53f3d9);}}function Bo(_0x200beb,_0x871b7e){return new Promise((_0x5ae592,_0x157324)=>{const _0x472c5f=a0_0x22a8;let _0x3a651d=(0x0,Te[_0x472c5f(0x66e)])(_0x472c5f(0x5b3),[_0x472c5f(0x461),_0x472c5f(0x26b),'-m',_0x200beb,_0x472c5f(0x6fc),'-d',_0x871b7e]);_0x3a651d[_0x472c5f(0x79e)]['on'](_0x472c5f(0x5b0),_0x5c1385=>{const _0x45343a=_0x472c5f;console[_0x45343a(0x54d)]('Certbot:\x20'+_0x5c1385['toString']());}),_0x3a651d[_0x472c5f(0x62d)]['on'](_0x472c5f(0x5b0),_0x467982=>{const _0x482f59=_0x472c5f;console['error'](_0x482f59(0x756)+_0x467982[_0x482f59(0x40f)]());}),_0x3a651d['on']('close',_0x4bbb16=>{const _0x16a709=_0x472c5f;_0x4bbb16!==0x0?(console['error'](_0x16a709(0x64d)+_0x4bbb16),_0x157324(_0x16a709(0x64d)+_0x4bbb16)):(console[_0x16a709(0x54d)]('Certbot\x20executado\x20com\x20sucesso.'),_0x5ae592());});});}function Go(_0x197598=0x32){const _0x1b7117=a0_0x2e4b91;let _0x487a7a=_0x1b7117(0x605),_0x393896='';for(let _0x1744db=0x0;_0x1744db<_0x197598;_0x1744db++)_0x393896+=_0x487a7a[_0x1b7117(0x3f6)](Math[_0x1b7117(0x40b)](Math['random']()*_0x487a7a[_0x1b7117(0x52c)]));return _0x393896;}function Wo(){const _0x3741b0=a0_0x2e4b91;(0x0,Te[_0x3741b0(0x16b)])(_0x3741b0(0x376),(_0x4c1b65,_0x3e6b95,_0x2b512d)=>{const _0x3e2c3a=_0x3741b0;if(_0x4c1b65){console[_0x3e2c3a(0x27b)](_0x3e2c3a(0x2b3)+_0x4c1b65);return;}if(_0x2b512d){console['error']('Erro\x20de\x20reinicialização:\x20'+_0x2b512d);return;}console[_0x3e2c3a(0x54d)](_0x3e2c3a(0x524)+_0x3e6b95);});}0x0&&(module[a0_0x2e4b91(0x5ef)]={'subdomain':subdomain});