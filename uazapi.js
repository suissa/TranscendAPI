const a0_0x389422=a0_0x3fdd;(function(_0x16f87d,_0x3a4223){const _0x47c2fd=a0_0x3fdd,_0x13bfec=_0x16f87d();while(!![]){try{const _0x379772=parseInt(_0x47c2fd(0x64a))/0x1*(parseInt(_0x47c2fd(0x1c7))/0x2)+-parseInt(_0x47c2fd(0x6ca))/0x3*(parseInt(_0x47c2fd(0x6fe))/0x4)+-parseInt(_0x47c2fd(0x182))/0x5*(-parseInt(_0x47c2fd(0x6bb))/0x6)+-parseInt(_0x47c2fd(0x1ae))/0x7*(parseInt(_0x47c2fd(0x1ec))/0x8)+-parseInt(_0x47c2fd(0x86e))/0x9*(parseInt(_0x47c2fd(0x8eb))/0xa)+parseInt(_0x47c2fd(0x3fa))/0xb*(parseInt(_0x47c2fd(0x8b3))/0xc)+parseInt(_0x47c2fd(0x405))/0xd;if(_0x379772===_0x3a4223)break;else _0x13bfec['push'](_0x13bfec['shift']());}catch(_0x1766e1){_0x13bfec['push'](_0x13bfec['shift']());}}}(a0_0x4723,0x7194b));var Bi=Object['create'],qe=Object['defineProperty'],Wi=Object[a0_0x389422(0x806)],zi=Object[a0_0x389422(0x836)],Hi=Object['getPrototypeOf'],Ki=Object[a0_0x389422(0x223)][a0_0x389422(0x550)],Qi=(_0x577842,_0x5193dd)=>{for(var _0x44fd24 in _0x5193dd)qe(_0x577842,_0x44fd24,{'get':_0x5193dd[_0x44fd24],'enumerable':!0x0});},Bs=(_0x20e0d5,_0x5c23c4,_0x456197,_0x869906)=>{const _0x53828f=a0_0x389422;if(_0x5c23c4&&typeof _0x5c23c4==_0x53828f(0x26d)||typeof _0x5c23c4==_0x53828f(0x339)){for(let _0x4611f3 of zi(_0x5c23c4))!Ki['call'](_0x20e0d5,_0x4611f3)&&_0x4611f3!==_0x456197&&qe(_0x20e0d5,_0x4611f3,{'get':()=>_0x5c23c4[_0x4611f3],'enumerable':!(_0x869906=Wi(_0x5c23c4,_0x4611f3))||_0x869906[_0x53828f(0x2bf)]});}return _0x20e0d5;},I=(_0xa3a631,_0x45b6f7,_0x4c5433)=>(_0x4c5433=_0xa3a631!=null?Bi(Hi(_0xa3a631)):{},Bs(_0x45b6f7||!_0xa3a631||!_0xa3a631[a0_0x389422(0x332)]?qe(_0x4c5433,'default',{'value':_0xa3a631,'enumerable':!0x0}):_0x4c5433,_0xa3a631)),Yi=_0x8af0fc=>Bs(qe({},a0_0x389422(0x332),{'value':!0x0}),_0x8af0fc),hr={};Qi(hr,{'fullURL':()=>Gs,'subdomain':()=>B}),module[a0_0x389422(0x803)]=Yi(hr);var Ui=I(require(a0_0x389422(0x781))),zs=require('fs'),Hs=require(a0_0x389422(0x824)),Ks=require(a0_0x389422(0x63f)),Ve=require(a0_0x389422(0x63f)),le=process[a0_0x389422(0x419)](),Se=(0x0,Ve[a0_0x389422(0x5ee)])(le,'instances'),Ws=(0x0,Ve['join'])(le,'src'),mn=(0x0,Ve[a0_0x389422(0x5ee)])(le,a0_0x389422(0x1e8),a0_0x389422(0x32a)),us=class{constructor(){const _0x1538ad=a0_0x389422;this[_0x1538ad(0x5c3)]();}[a0_0x389422(0x3a9)](_0xccebeb){const _0x456793=a0_0x389422;return this[_0x456793(0x455)][_0xccebeb];}[a0_0x389422(0x5c3)](){const _0x1e312f=a0_0x389422;this[_0x1e312f(0x455)]=process[_0x1e312f(0x455)]?.[_0x1e312f(0x25a)]!=='true'?this[_0x1e312f(0x8db)]():this['envProcess'](),process[_0x1e312f(0x455)]?.['DOCKER_ENV']===_0x1e312f(0x646)&&(this['env'][_0x1e312f(0x605)][_0x1e312f(0x8bf)]=_0x1e312f(0x408),this[_0x1e312f(0x455)][_0x1e312f(0x605)]['PORT']=Number[_0x1e312f(0x559)](process['env']?.['SERVER_PORT']??_0x1e312f(0x6e1)));}[a0_0x389422(0x8db)](){const _0x46bed5=a0_0x389422;return(0x0,Hs[_0x46bed5(0x284)])((0x0,zs['readFileSync'])((0x0,Ks[_0x46bed5(0x5ee)])(Ws,_0x46bed5(0x7b9)),{'encoding':_0x46bed5(0x5df)}));}[a0_0x389422(0x7b5)](){const _0x43bbe3=a0_0x389422;return{'SERVER':{'TYPE':process[_0x43bbe3(0x455)][_0x43bbe3(0x8a2)],'PORT':Number[_0x43bbe3(0x559)](process[_0x43bbe3(0x455)][_0x43bbe3(0x56b)]),'URL':process[_0x43bbe3(0x455)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x43bbe3(0x455)][_0x43bbe3(0x3e3)]['split'](','),'METHODS':process['env'][_0x43bbe3(0x7d1)][_0x43bbe3(0x1eb)](','),'CREDENTIALS':process[_0x43bbe3(0x455)]?.[_0x43bbe3(0x76a)]===_0x43bbe3(0x646)},'SSL_CONF':{'PRIVKEY':process[_0x43bbe3(0x455)]?.[_0x43bbe3(0x41f)],'FULLCHAIN':process[_0x43bbe3(0x455)]?.[_0x43bbe3(0x1d3)]},'STORE':{'CLEANING_INTERVAL':Number[_0x43bbe3(0x612)](process[_0x43bbe3(0x455)]?.[_0x43bbe3(0x532)])?Number['parseInt'](process['env'][_0x43bbe3(0x532)]):void 0x0,'MESSAGES':process[_0x43bbe3(0x455)]?.['STORE_MESSAGE']===_0x43bbe3(0x646),'CONTACTS':process[_0x43bbe3(0x455)]?.[_0x43bbe3(0x792)]==='true','CHATS':process[_0x43bbe3(0x455)]?.['STORE_CHATS']==='true'},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x43bbe3(0x648)],'PORT':Number[_0x43bbe3(0x559)](process[_0x43bbe3(0x455)]?.[_0x43bbe3(0x648)]),'USER':process[_0x43bbe3(0x455)][_0x43bbe3(0x32e)],'PASSWORD':process[_0x43bbe3(0x455)][_0x43bbe3(0x2ba)],'URI':process[_0x43bbe3(0x455)][_0x43bbe3(0x6da)],'DB_PREFIX_NAME':process[_0x43bbe3(0x455)][_0x43bbe3(0x2eb)]},'ENABLED':process['env']?.['DATABASE_ENABLED']===_0x43bbe3(0x646)},'REDIS':{'ENABLED':process['env']?.['REDIS_ENABLED']===_0x43bbe3(0x646),'URI':process['env'][_0x43bbe3(0x661)]||_0x43bbe3(0x826),'PREFIX_KEY':process['env'][_0x43bbe3(0x685)]||'uazapi'},'LOG':{'LEVEL':process['env']?.[_0x43bbe3(0x307)][_0x43bbe3(0x1eb)](','),'COLOR':process[_0x43bbe3(0x455)]?.[_0x43bbe3(0x758)]===_0x43bbe3(0x646)},'PROXY':process['env']?.[_0x43bbe3(0x8b6)]===_0x43bbe3(0x646),'AUTHENTICATION':{'TYPE':process['env'][_0x43bbe3(0x6ae)],'API_KEY':{'KEY':process[_0x43bbe3(0x455)][_0x43bbe3(0x7fe)]},'JWT':{'EXPIRIN_IN':Number[_0x43bbe3(0x612)](process[_0x43bbe3(0x455)]?.[_0x43bbe3(0x318)])?Number['parseInt'](process[_0x43bbe3(0x455)][_0x43bbe3(0x318)]):0xe10,'SECRET':process[_0x43bbe3(0x455)]['AUTHENTICATION_JWT_SECRET']}}};}},S=new us(),ji=I(require('cors')),ye=I(require('express')),qs=require(a0_0x389422(0x63f)),ds=I(require(a0_0x389422(0x24e))),ps=(_0x5db970=>(_0x5db970['LOG']=a0_0x389422(0x38d),_0x5db970[a0_0x389422(0x79e)]=a0_0x389422(0x30a),_0x5db970[a0_0x389422(0x1df)]=a0_0x389422(0x7c2),_0x5db970[a0_0x389422(0x8e9)]='\x1b[31m',_0x5db970['DEBUG']='\x1b[36m',_0x5db970[a0_0x389422(0x690)]='\x1b[37m',_0x5db970[a0_0x389422(0x613)]=a0_0x389422(0x4f7),_0x5db970))(ps||{}),Qs=(_0x550be8=>(_0x550be8[a0_0x389422(0x2a8)]='\x1b[32m%s\x1b[0m',_0x550be8[a0_0x389422(0x613)]=a0_0x389422(0x46d),_0x550be8[a0_0x389422(0x79e)]='\x1b[34m%s\x1b[0m',_0x550be8['WARN']='\x1b[33m%s\x1b[0m',_0x550be8[a0_0x389422(0x8e9)]='\x1b[31m%s\x1b[0m',_0x550be8['DEBUG']=a0_0x389422(0x393),_0x550be8[a0_0x389422(0x690)]=a0_0x389422(0x5c8),_0x550be8))(Qs||{}),Ys=(_0x2bbce4=>(_0x2bbce4['LOG']=a0_0x389422(0x2a8),_0x2bbce4[a0_0x389422(0x1df)]=a0_0x389422(0x1df),_0x2bbce4[a0_0x389422(0x79e)]=a0_0x389422(0x79e),_0x2bbce4[a0_0x389422(0x613)]=a0_0x389422(0x613),_0x2bbce4[a0_0x389422(0x8e9)]='ERROR',_0x2bbce4['DEBUG']=a0_0x389422(0x6cc),_0x2bbce4[a0_0x389422(0x690)]=a0_0x389422(0x690),_0x2bbce4))(Ys||{}),Xs=(_0x417265=>(_0x417265[a0_0x389422(0x2a8)]=a0_0x389422(0x2a9),_0x417265[a0_0x389422(0x79e)]=a0_0x389422(0x862),_0x417265[a0_0x389422(0x1df)]=a0_0x389422(0x383),_0x417265['DARK']=a0_0x389422(0x490),_0x417265['ERROR']='\x1b[41m',_0x417265[a0_0x389422(0x6cc)]=a0_0x389422(0x4e6),_0x417265[a0_0x389422(0x690)]=a0_0x389422(0x87c),_0x417265))(Xs||{}),$=class{constructor(_0x14c133=a0_0x389422(0x4e4)){this['context']=_0x14c133,this['configService']=S;}[a0_0x389422(0x3d1)](_0xd09eac){const _0x49ac16=a0_0x389422;this[_0x49ac16(0x1b2)]=_0xd09eac;}[a0_0x389422(0x358)](_0x21adae,_0x1cd14){const _0x3016e9=a0_0x389422;let _0x563d65=[];this[_0x3016e9(0x33c)][_0x3016e9(0x3a9)](_0x3016e9(0x2a8))[_0x3016e9(0x82e)][_0x3016e9(0x785)](_0xafe62=>_0x563d65[_0x3016e9(0x3ae)](Ys[_0xafe62]));let _0x4d2065=typeof _0x21adae;_0x563d65[_0x3016e9(0x908)](_0x1cd14)&&(S[_0x3016e9(0x3a9)](_0x3016e9(0x2a8))[_0x3016e9(0x805)]?(console[_0x3016e9(0x361)](_0x3016e9(0x1ce)+Qs[_0x1cd14],_0x3016e9(0x71b),(0x0,ds['default'])()['format'](_0x3016e9(0x639)),_0x3016e9(0x281),ps[_0x1cd14]+Xs[_0x1cd14]+_0x3016e9(0x1ce),_0x1cd14+_0x3016e9(0x8a0),_0x3016e9(0x28b),this[_0x3016e9(0x1b2)]+'\x1b[0m',ps[_0x1cd14],_0x4d2065!==_0x3016e9(0x26d)?_0x21adae:'',_0x3016e9(0x281)),_0x4d2065===_0x3016e9(0x26d)&&console['log'](_0x21adae,'\x0a')):console[_0x3016e9(0x361)]((0x0,ds['default'])()[_0x3016e9(0x292)](_0x3016e9(0x6fc)),_0x1cd14+'\x20',''+this[_0x3016e9(0x1b2)],_0x21adae));}[a0_0x389422(0x361)](_0x2c7bff){const _0x30ed1b=a0_0x389422;this['console'](_0x2c7bff,_0x30ed1b(0x2a8));}[a0_0x389422(0x379)](_0x433fcf){const _0x481439=a0_0x389422;this[_0x481439(0x358)](_0x433fcf,'INFO');}[a0_0x389422(0x74f)](_0x2c6db1){const _0x2fce71=a0_0x389422;this[_0x2fce71(0x358)](_0x2c6db1,'WARN');}[a0_0x389422(0x5b6)](_0x4a239f){const _0x27f573=a0_0x389422;this[_0x27f573(0x358)](_0x4a239f,_0x27f573(0x8e9));}['verbose'](_0x5d2cfd){const _0x5718b6=a0_0x389422;this[_0x5718b6(0x358)](_0x5d2cfd,'VERBOSE');}[a0_0x389422(0x633)](_0x5006d2){const _0x16404d=a0_0x389422;this[_0x16404d(0x358)](_0x5006d2,'DEBUG');}[a0_0x389422(0x196)](_0x512a91){const _0x3433f6=a0_0x389422;this[_0x3433f6(0x358)](_0x512a91,_0x3433f6(0x613));}};function Zs(){const _0x255503=a0_0x389422;process['on'](_0x255503(0x572),(_0x28c95e,_0x457f76)=>{const _0x3a58d5=_0x255503;new $(_0x3a58d5(0x572))['error']({'origin':_0x457f76,'stderr':process[_0x3a58d5(0x77a)]['fd'],'error':_0x28c95e});}),process['on']('unhandledRejection',(_0x2db107,_0x4a6bf4)=>{const _0x2cc622=_0x255503;new $(_0x2cc622(0x67a))[_0x2cc622(0x5b6)]({'origin':_0x4a6bf4,'stderr':process[_0x2cc622(0x77a)]['fd'],'error':_0x2db107});});}function a0_0x3fdd(_0x2836ce,_0x12c3f1){const _0x4723a1=a0_0x4723();return a0_0x3fdd=function(_0x3fddd8,_0x574cbf){_0x3fddd8=_0x3fddd8-0x181;let _0x58a99a=_0x4723a1[_0x3fddd8];return _0x58a99a;},a0_0x3fdd(_0x2836ce,_0x12c3f1);}var ea=I(require(a0_0x389422(0x258))),hs=new ea['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require('mongoose'),Ae=I(require(a0_0x389422(0x201))),Ge=new $(a0_0x389422(0x85f)),L=S[a0_0x389422(0x3a9)](a0_0x389422(0x831)),T=L[a0_0x389422(0x290)]?L['CONNECTION']['URI']?Ae[a0_0x389422(0x37f)]['createConnection'](L['CONNECTION'][a0_0x389422(0x713)],{'dbName':L[a0_0x389422(0x429)][a0_0x389422(0x625)]+a0_0x389422(0x46f)}):Ae[a0_0x389422(0x37f)][a0_0x389422(0x73d)](a0_0x389422(0x5a1)+L['CONNECTION']['HOST']+':'+L[a0_0x389422(0x429)]['PORT']+a0_0x389422(0x316),{'user':L['CONNECTION']['USER'],'pass':L[a0_0x389422(0x429)][a0_0x389422(0x80e)],'dbName':L[a0_0x389422(0x429)][a0_0x389422(0x625)]+a0_0x389422(0x46f)}):null;L['ENABLED']&&Ge[a0_0x389422(0x379)](a0_0x389422(0x2f1)+T['$dbName']);function a0_0x4723(){const _0x3f25a0=['):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','lastFetchAwaitingApproval','js-yaml','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','redis://127.0.0.1:6379','revokeInviteCode','repository','editMessagesInGroup','flowStopMinutes','Error\x20in\x20chatModify\x20for\x20number\x20','promote','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','LEVEL','findAndReplaceRegex','pollCreationMessageKey','DATABASE','Erro\x20ao\x20alterar\x20privacidade','updateMissingEtiquetas','processclearVariables','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','getOwnPropertyNames','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','connectToWhatsapp','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','send.message','stopMinutes','Primeiro\x20Valor:\x20','):Image\x20path:\x20','vote','isCommunity','IP\x20confirmed:\x20','PRESENCE_UPDATE','applyvaredit','remoteJids','Module\x20-\x20ON','ephemeralMessage','/chat','evaluateCondition','waitingMenu_replyOptions','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','updateLastSeenPrivacy','/wa-groups','min','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','\x27...','getAllData','):Desconectado,\x20parando\x20execução.','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','mediaMessage','/instance','autoCompleteMessages','updateChatGroupData','processblock','audioWhatsapp','Erro\x20ao\x20aplicar\x20varedit:\x20','ip6eui','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','AddUserFlow','The\x20global\x20api\x20key\x20must\x20be\x20set','color','Db\x20Connection','jsonwebtoken','^\x5cd+','\x1b[44m','data','presence','randomMac','address','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','findGroupsEspecial','listMessage','contact','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','editflow','presenceSubscribe','9YiFdRm','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','namespace','editChat','Instance\x20logged\x20out','fetchLabels','memberAddMode','reviver','profile','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','3EB0','editflowreply','getAutomateSystem','.pptx','\x1b[47m','leadInfo.','startID','latitude','updateProfilePicture','Authentication\x20error','crypto','documentWithCaptionMessage','defineAuthState','validate','media','cacheContact','groups_ignore','statusJidList','displayName','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','unlinkSync','):\x20Removendo\x20\x27','app-state-sync-key','profilePictureUrl','selectedRowId','):\x20Comando\x20desconhecido:\x20','findOne','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','replyOption','pairingCode','minutesToClose','remoteJid','Instance\x20deleted','loadInstance','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','editflowgroup','mediatype','modifiedCount','website','_activatedCount','\x20\x1b[0m','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','SERVER_TYPE','addToProcessedMessages','Bad\x20Request','Erro\x20ao\x20buscar\x20a\x20conversa','contacts.upsert','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','detail',',\x20Segundo\x20Valor:\x20','):\x20Bloco\x20copiado:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','mongodb','Background\x20color\x20is\x20required','^\x5cd+([-]\x5cd+)*@g.us$','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','keys','deleteChat','connectToWhatsappController','12MWPFaV','selectedDisplayText','scheduleSendText','PROXY','request_time','flow','chats.upsert','webhook','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','long','createHash','TYPE','mentions','createIPv6','_error','unavailable','profilePicture','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','fetchPrivacySettings','cachedData-whatsapp','imported','autoCompleteMessages.command','processgoToFlow','imgUrl','leadInfo','networkInterface','body','inviteCode','conversationTimestamp','pendingMessages','interactiveResponseMessage','https','whatsappNumber','):\x20Conversa\x20está\x20expirada\x20-\x20voto','output','call','createAndSave','assign',',\x20pairCode:\x20','envYaml','Erro\x20ao\x20normalizar\x20a\x20mensagem:','/instance/connectionState','badSession','reorderMessages',',\x20Novo\x20tamanho:\x20','class-validator','idSchedule','isCommunityAnnounce','admin','chat','indexOf','subjectTime','verify','ERROR','inviteUrl','5294390klQovs','qrcode','labels.association','processScheduleFlow','):Output\x20path:\x20','_Messages','DELETED','cleanStore','findChats','updateGroupParticipantsWebhook','autoCompleteMessages.command_1','pollUpdateMessage','contacts','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','document','ip\x20-6\x20addr\x20add\x20','fromMe','https://github.com/uazapi/uazapi.git','\x22\x20cannot\x20be\x20empty','video','description','getUniqueFlowName','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','Instance\x20restarted','templateButtonReplyMessage','CORS','notMatchRegex','):\x20transformedCustomFieldVariables','WA\x20MODULE','includes','contextInfo','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','capitalizedWords','array','Erro\x20ao\x20tentar\x20updateCustomFields','/automate','generateHash','IPv6\x20addresses\x20detected:\x20','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','detectIPv6PrefixAndInterface','4593255euBEYu',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','flowPrefixCommand','EMAIL:','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','updateAutoCompleteMessages','eventEmitter','waInstances','fromObject','profileName','backgroundColor','\x0a{\x20instance:\x20','removeData','delayMessage','):\x20newFirstValue\x20após\x20replaceVariables:','optionDescription','messageHandle','sendDataWebhook','):\x20Buscando\x20conversa...','dark','getSeconds','Parando\x20aplicação...','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','buttons','Internal\x20Server\x20Error','replaceVariables','connectionState','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','Subscribed\x20Events:','API\x20Key\x20inválida.','some','scheduleNextCheck','axios','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','value','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','content-type','base64','downloadMediaMessage','stopWhenYouSendMsg','findOneAndUpdate','footer','4576089AWXAvU','/wa-contacts','isValidIPv6Config','[service]\x20request\x20received\x20in\x20sendButtons','context','reduce','Cache-Control','addMessagesToGroup','CONNECTION_UPDATE','readMessage','Instance\x20Name:','buffer','):\x20debug\x20alterando\x20this.AutomateSystem','):Audio\x20converted\x20and\x20stored\x20in\x20cache','groups.update','/media/','synchronizeAndMapFlows','createButtonSectionsFromValues','onTime','groupName','_FlowHistorico','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','errors','lastUpdate','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','430NzGxhr','#92ceac','insertMany','express','updateConversation','create','getMonth','\x1b[1m','urlencoded','getConversation','delaySecMin','#01d0e2','SSL_CONF_FULLCHAIN','sendMenu','count','request\x20received\x20in\x20updateFlowConfig','OrAnd','\x20quoted:\x20','reorderReplyOptions','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','FULLCHAIN','release','display_text','\x20:\x20','WARN','}}\x20->\x20valor\x20não\x20encontrado','replaceVariablesInObject','menu_options','_month','undefined','transformScheduledMessagesByType','deletedCount','write','store','getTicketSystem','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','split','8UKCIpx','everyOne','isConnected','Erro\x20ao\x20atualizar\x20o\x20flow.','groupId','error_log','\x20com\x20sucesso.','Erro\x20ao\x20buscar\x20fluxos:','buttonMessage','):\x20whoCanEdit\x20before\x20validation:\x20','MESSAGES_UPSERT','toUpperCase','announce','Erro\x20ao\x20importar\x20chats','sort','createButtonsFromValues','isArray','chats.update','setUpdate','setWebhook','cacheContactModel','mongoose','.svg','#56ccb4','copyBlock','groupToggleEphemeral','updateProfilePicturePrivacy','):Type\x20defined\x20as\x20audio','.wav','updatePrivacySettings','blockLogs','):Image\x20converted\x20to\x20WebP','ERROR:\x20','stopMinutesMaxActives','SECRET','pollCreationMessageV3','isBase64','chats.set','goNextblock','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','open','isJidUser','delete','model','--------------------------------------','lastInteraction','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','test','privacySettings','):\x20Buscando\x20flow,\x20id:\x20','leadInfo.etiquetas','mentioned','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','sendMessage','prototype','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','logout',',\x20Comparador:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','toLocaleString','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','font','closeExistingConversations','listType','\x20}\x0a','deleteConversation','updateReadReceiptsPrivacy','content','groupJid','The\x20','SINGLE_SELECT','messages.set','):Archiving\x20chat','chatHandle','):\x20enviado\x20para\x20[','fora\x20do\x20git','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','):\x20Fluxo\x20\x27','groupUpdateDescription','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','owner','):\x20Conversa\x20inserida\x20com\x20sucesso.','atendimentoAberto','queue','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','text','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','URL:','router','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','instance','https://uazapi-plugin.bubbleapps.io/?url=','normalizeMessage','The\x20\x22','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','dayjs','getValidWhatsAppNumbers','bodyString','inviteCodeDetails','editFlowCondition','close','child_process','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','getDevice','Falhou\x20ao\x20encontrar\x20chat\x20','eventemitter2','apply','DOCKER_ENV','api','MAX_SAFE_INTEGER','stack','collection','deleteMessageForEveryone','varedits','ignoreGroups','vcard','Filtered\x20network\x20interfaces:\x20','writeFileSync','):\x20Editando\x20condição\x20do\x20fluxo...','normalizeMessageContent','/:instanceName','generateWAMessageFromContent','findAndReplace','messageTimestamp','):\x20[messages.upsert]\x20group\x20ignored','messageLogs','object','isURL','):\x20error:\x20','Mac\x20OS','params','):\x20Usando\x20extensão\x20padrão:\x20','connectionClosed','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','menuExpiredMessage','startFlowWebhook','getFullYear','Forbidden','query','endSession','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','button','fetchConversation','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','https://api64.ipify.org?format=json','repeat','\x1b[0m','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','admin_add','load','updateGParticipant','notEmpty','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','choices','processvaredits','/64\x20dev\x20','\x1b[33m\x1b[1m','muteEndTime','decryptPollVote','last','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','ENABLED','processReadyMessages','format','extractRegex','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','.mimetype','sendContact','Error\x20testing\x20IP\x20with\x20','#dfaef0','oldValue','upsertChats','Rótulo\x20deletado:\x27,\x20','order','trim','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','scheduleSendAudio','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','DisconnectReason','and','width','presence.update','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','recording','drop','LOG','\x1b[42m','uazapiSendText','\x27\x20do\x20banco\x20de\x20dados...','Partes\x20do\x20domínio:','licenca','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','ScheduleMessageModel','.xlsx','\x20-i\x20','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Entrou\x20na\x20função\x20goToFlow','Enter\x20a\x20value\x20in\x20milliseconds','dbConnection','verbose','organization','image','audioMessage','DATABASE_CONNECTION_PASSWORD','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','ObjectId','sendText','groupadd','enumerable','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','processingGroup','):\x20Buscando\x20conversas...','Instância:\x20','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','enabled','option','updateOnlinePrivacy','):\x20customFieldVariables','):\x20Limpando\x20delayMessage','METHODS','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','https://','):\x20whoCanUse\x20after\x20validation:\x20','InstancesAlterarTodas','stringify','findGroup','throwAndLogError',',\x20lastCondition:\x20','recebido\x20de','updateOne','):\x20Criando\x20fluxo\x20compartilhado...','RECONNECT_TIME_FRAME','/wa-message-update','pollOnReplyDelete','restrict','[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','linkPreview','findConversation','cachedContact','request\x20received\x20in\x20editFlow','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','Esse\x20fluxo\x20não\x20permite\x20importação.','blockId','fone','cachedContacts-whatsapp','instance.','uazapi','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','label','nativeFlowMessage','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','DATABASE_CONNECTION_DB_PREFIX_NAME','#000000','Falha\x20ao\x20processar\x20fetchBusinessProfile','Comando\x20desconhecido','stickerMessage','Erro\x20ao\x20iniciar\x20fluxo:\x20','ON\x20-\x20dbName:\x20','imagechat','number','Deletion\x20failed','):\x20atualização\x20chat:\x20','participants','Grupo\x20não\x20encontrado','pre','\x0aFN:','.pdf','\x20segundos\x20antes\x20de\x20reconectar...','Last\x20message\x20not\x20found\x20for\x20number:\x20','deleteBlock','!stop','createFlow',',\x20valor\x20passado:\x20\x22','saveChatVariables','updateFlowConfig','Resultado\x20da\x20correspondência\x20de\x20URL:','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','bodyStringErrorParse','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','LOG_LEVEL','removeInstance','configureIPv6','\x1b[34m','deleteMany','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','userDevicesCache','BufferJSON','sendList','beforeExit','use','groupGetInviteInfo','toDataURL','flows','?authSource=admin&readPreference=primary&directConnection=true','updateAll','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','startCommand','):Getting\x20image\x20from\x20url','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','paramsJson','_remoteJid','SSL_CONF','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','groupHandler','.mp3','random','groupBetterSetting','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','connectionUpdate','chats','when','auth','flowStopConversation','convertToWebP','Error\x20updating\x20message\x20status:','DATABASE_CONNECTION_USER','clear','localWebhook','announcement','__esModule','):\x20Bloco\x20com\x20ID\x20','fetchChats','expiration','menuType','PRODUCT_LIST','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','function','instanceName','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','configService','Rodapé\x20de\x20Teste','updateAgent','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','folder','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','createSectionsFromValues','statusMessage','getBusinessProfile','formatVCard','AutomateSystem','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','.webm','imageMessage','apikey','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','creds.update','originalUrl','messaging-history.set','integer','Types','newValue','connectedName','single_select','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','Message','delayChatLabel_RETRY_DELAY_MS','console','leadInfo.desativadoFluxoAte','Erro\x20ao\x20executar\x20bulkWrite:','unknown\x20operation\x20type\x20[','msgRetryCounterCache','\x20ao\x20chat\x20','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','getContactModelForOwner','EXPIRIN_IN','log','\x20-\x20ON:\x20','moreLogs','existsSync','findGroupInfo','Limpando\x20logs\x20do\x20PM2...','sections','/exit','sharePass','saveVariable','CHATS_SET','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','.url','Error\x20finding\x20many\x20contacts:','Database\x20is\x20not\x20enabled','put','prepareMediaMessage','TEL','chats.delete','catch','):\x20','header','getBase64FromMediaMessage',',\x20isAdmin:\x20','info','removeIPv6ById','headerString','timeoutPromise','labels.edit','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','default','instanceKeys','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','mimetype','\x1b[43m','ip\x20-6\x20addr\x20show\x20dev\x20','\x20minutos\x20verificará\x20novas\x20mensagens','sectionsToString','Router','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','archived','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','updateChatWithMessage','\x1b[32m','getChatModelForOwner','getMessage','uazapiSendAudio','quick_reply','):\x20Criando\x20fluxo...','\x1b[36m%s\x1b[0m','):\x20sender\x20=\x20number:\x20','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','request\x20body:\x20','):\x20\x27Deletando\x20fluxo,\x20id:\x20','$dbName','sendMessageWithTyping','\x20foi\x20interrompido\x20pelo\x20usuário.','.ogg','):\x20Query\x20params:','charAt','mediaSticker','@whiskeysockets/baileys','hGetAll','groupDesc','ipv6Prefix','createOrUpdate','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','@g.us','initAuthCreds','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','AddChatLabel','get','jid','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','creds','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','push','):\x20Entrou\x20na\x20função\x20scheduleFlow','waitingMenu_id','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','done','editFlow','reorderBlocks','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','downloads','QRCODE_UPDATED','getLabelModelForOwner','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','CLEANING_INTERVAL','.webp','verifiedName','convert','not\x20loaded','buttonsResponseMessage','match_last_seen','Erro\x20inesperado\x20em\x20processvaredits:\x20','participant','demote','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','request\x20received\x20in\x20editFlowgroup','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','Novo\x20IP\x20criado:\x20','selectedOptions','RemoveChatLabel','iniciando\x20fluxo\x20router','scheduleFlow','Esse\x20fluxo\x20expirou','realVariables','menuMessage','has','authorization','setContext','Contacts\x20not\x20found','selectedId','StartBot','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','truncatedto','status','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','):\x20Editando\x20bloco...','telefone','delay','):\x20Enviando\x20mídia','):\x20lastBlockId:\x20','):Delete\x20chat','type','#b4ebff','):\x20Going\x20to\x20','CORS_ORIGIN','Adicionando\x20novo\x20participante:\x20','generateRandomIPv6','getTime','groupdata','subjectOwner','toFile','map','Type\x20is\x20required','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','ip:\x20','static','pm2\x20flush','thumbnailUrl','lastReceivedMessage','toBrazilianNumberFormat','):\x20Não\x20achou\x20nenhum\x20flow','):Trying\x20to\x20get\x20business\x20profile','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','createClient','uazapiSendMenu','instanceInfo','request\x20received\x20in\x20getAutomateSystem','5230115FuyqAb','.doc','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Error\x20while\x20deleting\x20message\x20for\x20everyone','Network\x20Interface\x20detected:\x20','findAll','composing','hDel','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','\x27\x20removido\x20do\x20AutomateSystem.','6473506Smxtjr','sendCommand','next_groupId','http','labelId','):\x20Editando\x20mensagens\x20no\x20grupo...','exit','lastSendMessage','processPollUpdateMessage','getDate','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','replaceOne','g.us','Erro\x20ao\x20deletar\x20a\x20conversa','stopIfLastReturnedError','):Hash\x20to\x20image\x20name:\x20','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','/message','trimmed','):\x20Entrou\x20na\x20função\x20saveReply','cwd','):\x20whoCanUse\x20before\x20validation:\x20','sign','/instance/create','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','caption','SSL_CONF_PRIVKEY','config','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','joinApprovalMode','createGroup','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','\x27\x20não\x20encontrado','Content\x20is\x20required','find','CONNECTION','deleteReplyOption','Error\x20removing\x20IPv6\x20address:\x20','Not\x20Found','groupMemberAddMode','apirequest','removed','):\x20Rótulo\x20atualizado:\x20','sendAudio','KEY','Garbage\x20collection\x20não\x20está\x20disponível.','closed','https://api.elevenlabs.io/v1/text-to-speech/','Unauthorized','nome','Missing\x20global\x20api\x20key','groupUpdateSubject','global','webhookModel','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','uazapiSendContact','):\x20delete\x20=\x20true','.TEL;waid=','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','\x20and\x20data:','buttonParamsJson','notEqual','isAdmin','pollCreationMessage','changeVariables','floor','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','cacheInstanceRepository','equal','getConversationModelForOwner','[all]','expression','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','stopped','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','HOST','pollMessageOnDelete','_hour','env','updateMany','cache','MessageModel',',\x20valor\x20a\x20encontrar:\x20\x22','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','creds.json','updateProfileStatus','authService','-instances','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','):\x20conversation.lastInteraction:\x20','sendPresenceUpdate','reactionMessage','flowName','\x22,\x20valor\x20a\x20substituir:\x20\x22','uuid','name','triedToSend','approve','from','Fluxo\x20não\x20encontrado\x20na\x20memória.','):\x20conversation.waitingMenu_name','\x1b[30m%s\x1b[0m','toString','-whatsapp-api','findMany','$addToSet','uazapiSendLocation','Instance\x20Key\x20from\x20DB:','):\x20Flow\x20desativado','condition','documentMessage','relayMessage','proto','readdirSync','updateGParticipate','\x5c$&','race','):Processing\x20audio','parse','reference','Log\x20out\x20instance:\x20','isJidBroadcast','textMessage','list','getContentType','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','maxActives','gifPlayback','\x20depois\x20','#ffae04','):\x20Error\x20processing\x20the\x20block:\x20','sendMedia','text/event-stream','API_KEY','del','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','\x1b[40m','):Image\x20created','Fluxos\x20não\x20estão\x20ativados','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20Grupo\x20','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','client','Valor\x20inicial:\x20\x22','keyPattern','fetchContacts','webhookService','https://uazapi-plugin.bubbleapps.io/','SUCCESS','contactHandle','#d8e651','sendPoll','insert','update','chatLog','variables','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','view\x20engine','Falha\x20ao\x20processar\x20a\x20solicitação','Not\x20is\x20business\x20profile','timeInMinutes','/instance/connect','group-participants.update','off','):\x20Alterando\x20fluxo...','Database\x20update\x20result:','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20',',\x20qrcodeCount:\x20','numbers','connection.update','connectedClient','):\x20Entrou\x20na\x20função\x20clearVariables','desativadoFluxoAte','fetchProfilePictureUrl','getScheduleMessage',',\x20saindo.','dataValidate','editFlowReply','sendMessageAck','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','.fileUrl','cleaningUp','variablesNotFound','Erro\x20ao\x20editar\x20o\x20chat','makeCacheableSignalKeyStore','ListMessage','PREFIX_KEY','chatModify','fileUrl','shift','initializeQueue','toBRL','fileName','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','greater','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','updateStatusPrivacy','):\x20Error\x20processing\x20conditions:\x20','groups.upsert','groups','CONTACTS_SET','command','waitingMenu_text','NextBlock','chat\x20não\x20encontrado','fetchStatus','nomecompleto','This\x20name\x20','Not\x20allowed\x20by\x20CORS','process','lastRealGroupsFetch','updateMissingTags','shareOwners','Parando\x20aplicação,\x20atualização\x20recebida','):\x20ev.flush\x20realizado','code','qrcode.updated','cpf','Message\x20absent\x20from\x20node','save','Logger','delaySecMax','\x1b[46m','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','Configured\x20IPv6:\x20','automateSystem','email','updateMissingCustomFields','\x20segundos','lean','util','audio','views','):\x20Limpando\x20AutomateSystem','\x5cd+','):\x20Falha\x20ao\x20deletar\x20mensagem.','Subdomínio\x20final:','Pausado\x20por\x20','ff:fe','\x1b[30m','SERVER_OFFLINE','delAll','):\x20Adicionando\x20\x27','copy','ContactModel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','verifyWhatsAppNumber','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','AppStateSyncKeyData','group','setNewValue','poll','variablesToObject','beautifyWithPlaceholders','redirect','webp',',\x20fará\x20nova\x20verificação\x20em\x20','isMessageProcessed','flattenObject','MESSAGES_SET','.extension','mediaKey','http://checkip.dyndns.org','/config','):\x20Erro\x20durante\x20a\x20atualização:\x20','contact_blacklist','findContacts','empty','method','GROUPS_UPDATE','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','contactMessage','URL','messageContextInfo','groupInviteCode','fetchInstances','READ',',\x20Resultado:\x20','viewOnceMessageV2','updateGroupWebhook','groupParticipantsUpdate','Font\x20is\x20required','ScheduleMessage','pino','_p_','menuIgnoreNonVotes','max','):Sending\x20audio\x20whatsapp','@ffmpeg-installer/ffmpeg','.mp4','connectionStatus','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','messageLogsModel','lastMessage','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','Chat\x20com\x20ID\x20','STORE_CLEANING_TERMINAL','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','bulkWrite','randomBytes','formatBRNumber','prepareWAMessageMedia','):\x20Ignoring\x20group\x20messages.','messagesLogs','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','request\x20received\x20in\x20createFlow','removeChatLabel','):Fetching\x20business\x20profile','pollCreationMessageV2','_id','loggedOut','PORT','reaction','[AUTH]\x20Database\x20is\x20not\x20enabled','\x20não\x20encontrado','apiResponse','Erro\x20ao\x20buscar\x20Schedule\x20Messages','\x20adicionado\x20ao\x20chat\x20','findIndex','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','addReplyOption','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','data:\x20','variable','waUploadToServer','waMonitor','hasOwnProperty','CONTACTS_UPSERT',',\x20global:\x20','connecting','request_method','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','/*.json','onWhatsApp','parseInt','url','groupSetting','evaluateConditionTest','):Error\x20in\x20converting\x20audio','myAppStateKeyId','slice','/wa-message','Error\x20removing\x20unused\x20chat\x20fields:','Opção\x20Falsa\x20','birthtime','start','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Conversa\x20atualizada\x20em\x20memória','editflowvaredit','protocolMessage','Erro\x20ao\x20criar\x20fluxo','Usando\x20IP\x20existente:\x20','SERVER_PORT','_fromMe','Erro\x20ao\x20buscar\x20o\x20fluxo','reject','):\x20Instancia\x20isBusiness:\x20','convertToString','fetchMessages','uncaughtException','${Message\x20absent\x20from\x20node}','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','exists','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','fullName','groupJoinApprovalMode','subject','Removidas\x20as\x20variáveis:\x20','interactiveMessage','):\x20Enviando\x20enquete','spawn','pow','post','):\x20Bloco\x20original\x20para\x20cópia:\x20','getflow','message','updateProfileName','boolean','Nenhum\x20chat\x20encontrado\x20para\x20editar.','chatId','messageStubParameters','Erro\x20ao\x20editar\x20o\x20bloco:\x20','getMinutes','.ogv','readreceipts','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','}}\x20->\x20\x22','Flow\x20\x27','truncatedtoEnd','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','writeData','REDIS','saveCreds','replaceVariablesInReplyOptions','getLastMessage','Deleted\x20','size','firstValue','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','Número:\x20','delayChatLabel_MAX_RETRIES','customFields','contacts.update',',\x20Expiration\x20Time:\x20','Tentando\x20reconectar...','mongodb://','flowConfig','dbClient','Não\x20respondeu\x20com\x20a\x20enquete.','Erro\x20ao\x20remover\x20label\x20','exec','Configuração\x20SSL\x20recuperada:','fetchProfile','Sistema\x20atualizado\x20com\x20sucesso!','setRestartTimeout','pollMessage','removeProfilePicture','local_map','.txt','sendReaction','importChatsBatch','/wa-chats','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','fetchProfilePicture','Generated\x20IPv6:\x20','flushHeaders','error','not_announcement','action','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','status.instance','leaveGroup','Operador:\x20\x22','unreadcount','deleted','editFlowBlock','):\x20[messages.update]\x20group\x20ignored','\x20não\x20encontrado\x20para\x20atualização.','editflowcondition','loadEnv','arraybuffer','nativeFlowResponseMessage','Validate','\x20tentativas.','\x1b[37m%s\x1b[0m','rows','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','editScheduleMessage','):\x20Fluxos\x20não\x20estão\x20ativados','editFlowVaredit','groupMetadata','routerPath','SERVER_ACK','):\x20Mensagem\x20já\x20enviada\x20para\x20','getScheduleMessageModelForOwner','Mensagem\x20não\x20suportada',']\x20(','pop','FlowRouter','padStart','isListOfNumbers','CONTACTS_UPDATE','.X-ABLabel:Celular\x0a','editConversation','BRL','hGet','editFlowVariable','utf-8','processConditions','videoMessage','lastSend','quoted','ini','enviado\x20para','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','_minute','Type\x20not\x20found','\x20instance\x20does\x20not\x20exist','Falha\x20ao\x20criar\x20IPv6.','getProfileName','this.reconnectAttempts:\x20','Content-Type','join','ListType','ip\x20-6\x20addr\x20del\x20','/clients-info','):\x20Buscando\x20todos\x20os\x20fluxos...','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','request\x20received\x20in\x20getConversation','upsertedCount','authState','Selecione','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','getReadyToSendMessages','splice','encoding','getDelay','):\x20conversation.status:\x20','createServer','createWebhook','editflowvariable','):\x20Iniciando\x20bot...','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','/group','SERVER','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','):Converted\x20image\x20deleted','Read\x20messages','getMessageModelForOwner','dbSettings','replaceValue','resetReconnectionVariables','conversation','sendSticker','getVariablesChat','):\x20Enviando\x20localização','Cache\x20instance\x20update\x20result:\x20','isInteger','DARK','goToFlow','pollErrorMessage','updateMessage','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Erro\x20de\x20atualização:\x20','/wa-connection-update','Número\x20não\x20possui\x20WhatsApp.','):Notifying\x20clients\x20for\x20chat:\x20','Instance\x20\x22','rowId',',\x20Minutes\x20to\x20Close:\x20','send','whoCanEdit','delayChatLabel','Connection\x20closed\x20for\x20instance:\x20','deleteDoneMessages','isRunning','DB_PREFIX_NAME','):\x20Entrou\x20na\x20função\x20processawaitSeconds','scheduleMessage','node-mime-types','reconnectTimestamps','replacer','AutomateSystem\x20não\x20foi\x20inicializado','markMessageAsRead','sleep','allContacts','50mb','user','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','Erro\x20ao\x20editar\x20agentes','debug','MESSAGES_UPDATE','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','request\x20received\x20in\x20editConversation','):\x20mediaMessageInfoId\x20:\x20','\x20minutos','DD/MM\x20HH:mm:ss','.png','):\x20alterando\x20this.AutomateSystem','findRealGroups','isJidGroup','storePath','path','Imagem\x20não\x20encontrada','checkAndRestartProcess','isBusiness','findLabels','utf8','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','true','Failed\x20to\x20send\x20buttons\x20message','DATABASE_CONNECTION_HOST','Nenhum\x20participante\x20válido\x20encontrado.','2678xPLWeG','Valor\x20da\x20URL\x20recuperada:','):\x20\x27Enviando\x20audio\x20para\x20\x27','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','connect','buttonText','useMultiFileAuthState','startCommandWord','clearVariables','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','findWebhook','jwt','audio/ogg;\x20codecs=opus','wuid','stateConnection','readMessages','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','deleteFlow','messages.upsert','Cannot\x20','retrySendMessage','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','REDIS_URI','abs','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','AutomateFunctions','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','):Business\x20profile\x20fetched','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','_Chats','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','selectableCount','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','#6f7bcf','headers','requestFile','):\x20whoCanEdit\x20after\x20validation:\x20','sticker','\x20-y','no.connection','locked','result','unhandledRejection','cleanDisconnectedInstances','.ppt','removeIPv6','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','success','Atualização:\x20','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','updateCustomFields','json','descOwner','REDIS_PREFIX_KEY','Failed\x20to\x20prepare\x20media\x20message','findByIdAndUpdate','STATUS_INSTANCE','ms\x20(tentativa\x20','Instance\x20ID:','secondValue','Valor\x20de\x20find\x20ou\x20replace\x20ausente','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','):\x20Deletando\x20mensagem','block','VERBOSE','remove','senderKeyDistributionMessage','stanzaId','):\x20Flow\x20\x27','sendWhatsAppAudio','DELIVERY_ACK','video-cover.png','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','RemoteJid:','notas','saveTextReply','setting','temp-','.type','/instance/fetchInstances','awaitingApproval','redisEnv','padEnd','groupAcceptInvite','noConnection','$set','stopConversation','authModel','isValidAndUniqueIPv6','updateGroupPicture','then','/webhook','?timestamp=','DaysToDelete','AUTHENTICATION_TYPE','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','jsonschema','label_jid','loadWebhook','readFileSync','Invalid\x20format','findById','ConversationModel','available','formatStatusMessage','lastBlockId','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','6EhglTV','):Audio\x20processed','redis','\x20is\x20already\x20in\x20use.','uazapiDeleteMessage','):\x20Entrou\x20na\x20função\x20stop','match','):Temp\x20image\x20deleted','GROUP_PARTICIPANTS_UPDATE','Stack\x20trace:','eventHandler','ChatRouter','#9568cf','locationMessage','messages.update','15RJSldg','toNumber','DEBUG','message_normalized','Erro\x20na\x20função\x20updateChatWithMessage:\x20','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','role','Início','Erro\x20ao\x20buscar\x20conversas','https://chat.whatsapp.com/','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','dbServer','conditions','sendMessageWithTypingButtons','logger','DATABASE_CONNECTION_URI','instances','buttonOrList_id','_Labels','globalShow','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','https://api.openai.com/v1/audio/speech','8080','getFlow','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','hSet','where','contains','):\x20Buscando\x20flow...','newStoppedUntil','application/octet-stream','):\x20Criou\x20conversa\x20no\x20startFlow','values','oldToken','updateBlock','dbInstance','currency','shareFlow','removeUnusedChatFields','remove.instance','sha256','allFlows','saveConversationToDatabase','AUTHENTICATION','digest','cacheInstanceModel','archive','groupCreate','replyOptions','HH:mm:ss','Telefone:\x20','655564IKhZVA','STORE','height','The\x20property\x20cannot\x20be\x20empty','):\x20isVote:\x20','\x20chats\x20de\x20','CHATS_UPSERT','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','request\x20received\x20in\x20editFlowcondition','listResponseMessage','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','string','):\x20Conversa\x20está\x20expirada','_year','request\x20received\x20in\x20deleteConversation','updateReplyOption','findParticipants','footerText','app','CacheContacts\x20database\x20connection\x20closed.','deleteAll','URI','createNewConversation','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','createConversationforgoToFlow','IPv6\x20address\x20configured:\x20','./.git/config',',\x20resultado:\x20','saveMediaToFile','\x1b[1m\x1b[37m','Error\x20updating\x20cache\x20contact:','.\x20Aguardando\x20','key','@newsletter','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','Network\x20interfaces\x20detected:\x20','archiveChat','getHours','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','express-async-errors','JWT','substring','convertedOptions','hex','Instância\x20não\x20encontrada.','extractPhoneNumber','@s.whatsapp.net','contactsArrayMessage','updatePresence','entries','unreadCount','restartInstance','docker','GET','/wa-all-message','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','#ffc5c7','online','XX:XX:XX:XX:XX:XX','scheduleSendMedia','paused','notContains','createConnection','all','\x20Tentativa\x20de\x20reconexão\x20','The\x20instance\x20needs\x20to\x20be\x20disconnected','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','cta_url','finish','inner','getClient','.gif','No\x20suitable\x20network\x20interface\x20found','_Contacts','agents','Error\x20fetching\x20and\x20updating\x20profile:\x20','@broadcast','allflows','IPv6\x20Prefix\x20detected:\x20','warn','processApiRequest','\x22\x20-\x20NOT\x20CONNECTION','env.KEY\x20!==\x20key','_second','request\x20received\x20in\x20getFlow','now','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','Error\x20fetching\x20group','LOG_COLOR','startsWith','findMessages',',\x20canSendMessage:\x20','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','GUARD','joinGroup','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','setHeader','CHATS_UPDATE','updateGroupsAddPrivacy','messageId','findGroups','add','groupSettingUpdate','collections','promisify','updateOneById','CORS_CREDENTIALS','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','editOperator','createConversationforStartFlow','request\x20received\x20in\x20deleteDoneMessages','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','none','Botão\x201','Erro\x20ao\x20copiar\x20o\x20documento','etiquetas','canSendMessage','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','StatusJidList\x20is\x20required','deleteInstance','ChatModel','stderr','.\x20Pulando.','getStatus','request\x20received\x20in\x20editFlowvariable','waitingMenu_ExpiredMessage','convertaudio','deleteImportedChat','compression','startFlow','joinGroupValidate','upperCase','forEach','response','Erro\x20ao\x20alterar\x20fluxo','matchRegex','\x22\x20not\x20found','leadInfo.atendimentoAberto','blocks','Variáveis\x20não\x20encontradas:','\x20inseridos\x20no\x20banco\x20de\x20dados...','.xls','lastCondition','createJid','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','STORE_CONTACTS','replace','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','segundos','\x20do\x20chat\x20','#9ba6ff','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','ip\x20-br\x20link\x20show','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','creation','sendLocation','endsWith','INFO','updateStopChat','_pushName','processedMessagesCache','yes','):Image\x20is\x20base64','editedMessage','ReplyOption\x20com\x20ID\x20','\x20removido\x20do\x20chat\x20','keep-alive','findFlow','URL\x20completa:','interval\x20não\x20é\x20um\x20número','filter','notify','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','fileLength','scheduled','):\x20leadInfoVariables','toLowerCase','phoneNumber','addBlock','findAndUpdateCacheContact','envProcess','qrCode','#00a1f2','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','../env.yml','messages','qrcode-terminal','importChats','timeout','API\x20Key\x20from\x20Request:','singleSelectReply','toggleEphemeral','author','\x1b[33m','deleteOne','events','false','_activedCount','silent','uazapiSendMedia','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','replaceVariablesChat','Erro\x20ao\x20deletar\x20mensagens:','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','statusCode','tags','length','CORS_METHODS','readFile','username','request\x20received\x20in\x20scheduleMessage','PLAYED','status@broadcast','/wa-qrcode','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','groupdata.participants','processUazapi','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','limit','options','findOrCreate','valid','processawaitSeconds','Schema','LICENSE_INVALID','addresss','flowConversation','):\x20Editando\x20replyOption...','CONECTADO\x20À\x20UAZAPI','superadmin','/create','title','urlOrBase64','remote\x20\x22origin\x22','_sender','):\x20Label\x20','whoCanUse','messageType','Last\x20message\x20not\x20found','apiName','less','readMessageBot','findManyByIds','):\x20Iniciando\x20processReadyMessages','Safari','pushName','CHATS_DELETE','pictureUrl','sendStatus','reconnectAttempts','created','GROUPS_UPSERT','AUTHENTICATION_API_KEY','\x20mensagens\x20de\x20','varedit','ephemeralExpiration','webhookMap','exports','groupValidate','COLOR','getOwnPropertyDescriptor','responsavelid','SEND_MESSAGE','execSync','optionName','@redis/client','fetchBusinessProfile','editFlowGroup','PASSWORD','updateParticipant','testingWith','Botão\x202','leadInfo.customFields','deleteMessage','):\x20Enviando\x20contato','Falta\x20informação\x20para\x20a\x20chamada\x20API','deviceSentMessage','statSync','Erro\x20ao\x20adicionar\x20label\x20','state','):\x20Deletando\x20conversa...','fakeReceived','.docx','whatsappNumbers','p-queue','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','):\x20expirationTime:\x20','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20'];a0_0x4723=function(){return _0x3f25a0;};return a0_0x4723();}var X=L[a0_0x389422(0x290)]?L[a0_0x389422(0x429)][a0_0x389422(0x713)]?Ae[a0_0x389422(0x37f)][a0_0x389422(0x73d)](L[a0_0x389422(0x429)]['URI'],{'dbName':a0_0x389422(0x8c7)}):Ae[a0_0x389422(0x37f)][a0_0x389422(0x73d)](a0_0x389422(0x5a1)+L['CONNECTION'][a0_0x389422(0x452)]+':'+L['CONNECTION'][a0_0x389422(0x541)]+a0_0x389422(0x316),{'user':L[a0_0x389422(0x429)]['USER'],'pass':L[a0_0x389422(0x429)][a0_0x389422(0x80e)],'dbName':a0_0x389422(0x2e4)}):null;X&&Ge['info'](a0_0x389422(0x2f1)+X[a0_0x389422(0x398)]),process['on'](a0_0x389422(0x311),()=>{const _0x5c8027=a0_0x389422;T&&T['close'](()=>{const _0x4ead2e=a0_0x3fdd;Ge[_0x4ead2e(0x379)]('Database\x20connection\x20closed.');}),X&&X[_0x5c8027(0x253)](()=>{const _0x18ea94=_0x5c8027;Ge['info'](_0x18ea94(0x711));});});var Xi=new Me[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zi=new Me[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),eo=new Me['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),to=new Me[(a0_0x389422(0x7e1))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xi],'default':[]}},{'_id':!0x1}),so=new Me[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':to,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zi},'groupdata':{'type':eo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x482056=>{const _0x176ec4=a0_0x389422;let _0x52c6c3='z_'+_0x482056+_0x176ec4(0x66a);return T?.[_0x176ec4(0x217)](_0x176ec4(0x779),so,_0x52c6c3);},sa=require(a0_0x389422(0x201)),ao=new sa[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x22ac9b=>{const _0x37d5d6=a0_0x389422;let _0x208eb3='z_'+_0x22ac9b+_0x37d5d6(0x749);return T?.['model'](_0x37d5d6(0x4fc),ao,_0x208eb3);},ia=require(a0_0x389422(0x201)),gs=class{},io=new ia[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=X?.['model'](gs[a0_0x389422(0x467)],io,'ContactsAndGroups'),ra=require(a0_0x389422(0x201)),ms=class{},oo=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=X?.['model'](ms[a0_0x389422(0x467)],oo,a0_0x389422(0x6db)),ws=require(a0_0x389422(0x201)),fs=class{},ro=new ws[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),no=new ws['Schema']({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=X?.['model'](fs[a0_0x389422(0x467)],no,a0_0x389422(0x539)),ca=_0x2c3736=>{const _0x51afe1=a0_0x389422;let _0x402f3c='z_'+_0x2c3736+_0x51afe1(0x8f0);return T?.[_0x51afe1(0x217)](_0x51afe1(0x458),ro,_0x402f3c);},la=require(a0_0x389422(0x201)),ys=class{},co=new la[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=T?.[a0_0x389422(0x217)](ys[a0_0x389422(0x467)],co,'authentication'),da=require(a0_0x389422(0x201)),bs=class{},pa=new da[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x389422(0x2f8)](a0_0x389422(0x4e3),function(_0x128ecd){const _0x1cacf1=a0_0x389422;delete this['flowActive'],delete this['flowIgnoreGroups'],delete this[_0x1cacf1(0x185)],delete this[_0x1cacf1(0x32b)],delete this[_0x1cacf1(0x82a)],_0x128ecd();});var ha=T?.[a0_0x389422(0x217)](bs[a0_0x389422(0x467)],pa,'webhook'),P=require(a0_0x389422(0x201)),Ss=require('uuid'),We=class{},Ms=class{},ma=new P[(a0_0x389422(0x7e1))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x389422(0x7e1))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),lo=new P[(a0_0x389422(0x7e1))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x389422(0x483)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x389422(0x5f8)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x389422(0x3cc)},'pollErrorMessage':{'type':String,'default':a0_0x389422(0x2c5)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0x389422(0x7e1))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),uo=new P[(a0_0x389422(0x7e1))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),po=new P[(a0_0x389422(0x7e1))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new P['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x389422(0x7e1))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P[(a0_0x389422(0x7e1))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':lo},'apirequest':uo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ho,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x389422(0x7e1))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x3b4dd6=a0_0x389422;return'!cmd_'+Math['random']()[_0x3b4dd6(0x46e)](0x24)[_0x3b4dd6(0x55f)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x389422(0x7c5)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x389422(0x2f8)](a0_0x389422(0x1ac),function(_0x37121b){const _0x43264c=a0_0x389422;let _0xf8ac7b=this['getUpdate']();if(_0xf8ac7b&&typeof _0xf8ac7b=='object'&&_0x43264c(0x6a5)in _0xf8ac7b){let _0x2e51bb=_0xf8ac7b[_0x43264c(0x6a5)];if(_0x2e51bb){let _0x23ed14=new Set(),_0x4d4d8e=new Set(_0x2e51bb[_0x43264c(0x4a3)]?.['map'](_0x1eae83=>_0x1eae83[_0x43264c(0x467)])),_0xfe5e2c=JSON[_0x43264c(0x2d0)](_0x2e51bb),_0x17b023=/{{(?!_)([^}]*)}}/g,_0x3cb4b2;for(;(_0x3cb4b2=_0x17b023[_0x43264c(0x5a6)](_0xfe5e2c))!==null;)_0x4d4d8e[_0x43264c(0x3cf)](_0x3cb4b2[0x1])||_0x23ed14[_0x43264c(0x765)](_0x3cb4b2[0x1]);_0x23ed14[_0x43264c(0x598)]>0x0?(console[_0x43264c(0x74f)](_0x43264c(0x78c),Array['from'](_0x23ed14)),_0x2e51bb[_0x43264c(0x4be)]=Array[_0x43264c(0x46a)](_0x23ed14)):_0x2e51bb[_0x43264c(0x4be)]=[],this[_0x43264c(0x1fe)]({'$set':_0x2e51bb});}}_0x37121b();});var Ce=T?.[a0_0x389422(0x217)](Ms['name'],ba,a0_0x389422(0x6f4)),go=new P[(a0_0x389422(0x7e1))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[po]},{'_id':!0x1}),mo=new P[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':go,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x389422(0x214)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x21411e=>{const _0x462296=a0_0x389422;let _0x71115d='z_'+_0x21411e+_0x462296(0x1c2);return T?.[_0x462296(0x217)](_0x462296(0x6b6),mo,_0x71115d);},fo=new P['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P['Schema']({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),wo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x389422(0x7af)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[fo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x1c628f=>{const _0xf2a76e=a0_0x389422;let _0x3ece93='z_'+_0x1c628f+'_ScheduleMessages';return T?.['model'](_0xf2a76e(0x2af),wo,_0x3ece93);},Es=class{},yo=new P[(a0_0x389422(0x7e1))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),bo=new P[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),So=new P[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Mo=new P[(a0_0x389422(0x7e1))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x389422(0x2fe)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Co=new P[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P[(a0_0x389422(0x7e1))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Co]},'customFields':{'type':[So]},'flowConfig':{'type':Mo,'default':{}},'flows':{'type':[bo],'default':[]},'autoCompleteMessages':{'type':[yo],'default':[]}}),Te=T?.['model'](Es[a0_0x389422(0x467)],Eo,a0_0x389422(0x346)),Ca=require(a0_0x389422(0x201)),vo=new Ca[(a0_0x389422(0x7e1))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x3e48e6=>{const _0x404f2c=a0_0x389422;let _0x21c77a='z_'+_0x3e48e6+_0x404f2c(0x6dd);return T?.[_0x404f2c(0x217)]('LabelModel',vo,_0x21c77a);},_=class{constructor(_0x1f8c1d){const _0x440d90=a0_0x389422;this[_0x440d90(0x60a)]=_0x1f8c1d['get'](_0x440d90(0x831));}};function A(_0x2a9b5b){const _0x4cfd1e=a0_0x389422;let _0x4b782b={};for(let [_0x2aa739,_0x146209]of Object[_0x4cfd1e(0x730)](_0x2a9b5b))if(typeof _0x146209==_0x4cfd1e(0x26d)&&!Array['isArray'](_0x146209)){for(let [_0x4ae7c4,_0x4f5647]of Object[_0x4cfd1e(0x730)](_0x146209))_0x4b782b[_0x2aa739+'.'+_0x4ae7c4]=_0x4f5647;}else _0x4b782b[_0x2aa739]=_0x146209;return _0x4b782b;}var ze=class{constructor(_0x4a91e8,_0x2347de,_0x5b74fe,_0x2a1270,_0x2b824e,_0x40b282,_0x554bc2,_0x4001fb,_0x4033cb,_0x15872f,_0x3602ea,_0x5da547,_0x3a6b5b,_0x3be9aa){const _0x4b15b8=a0_0x389422;this[_0x4b15b8(0x582)]=_0x4a91e8,this[_0x4b15b8(0x8e5)]=_0x2347de,this[_0x4b15b8(0x86a)]=_0x5b74fe,this[_0x4b15b8(0x887)]=_0x2a1270,this[_0x4b15b8(0x26c)]=_0x2b824e,this[_0x4b15b8(0x8ba)]=_0x40b282,this['auth']=_0x554bc2,this[_0x4b15b8(0x248)]=_0x4001fb,this[_0x4b15b8(0x8b8)]=_0x4033cb,this[_0x4b15b8(0x7e4)]=_0x15872f,this[_0x4b15b8(0x2e8)]=_0x3602ea,this['scheduleMessage']=_0x5da547,this['automateSystem']=_0x3a6b5b,this[_0x4b15b8(0x5a3)]=_0x3be9aa;}get[a0_0x389422(0x6d6)](){const _0x593787=a0_0x389422;return this[_0x593787(0x5a3)];}},He=class{},Ke=class extends _{['getMessageModelForOwner'](_0x20385e){return ca(_0x20385e);}async[a0_0x389422(0x4a0)](_0x19bab8,_0x3f8357){const _0x49543d=a0_0x389422;if(_0x19bab8[_0x49543d(0x7d0)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x3f8357)[_0x49543d(0x1c9)]([..._0x19bab8]))['length']};}catch(_0x90ecac){return _0x90ecac;}}async['find'](_0x353129,_0xa844f9){const _0x3d1d28=a0_0x389422;try{let _0x2ad333=this['getMessageModelForOwner'](_0xa844f9),_0x191aca=A(_0x353129[_0x3d1d28(0x6e5)]);return await _0x2ad333[_0x3d1d28(0x428)](_0x191aca)[_0x3d1d28(0x1fa)]({'messageTimestamp':-0x1})['limit'](_0x353129?.[_0x3d1d28(0x7dc)]??0x0)[_0x3d1d28(0x4ed)]();}catch{return[];}}async[a0_0x389422(0x216)](_0x234713,_0x221614){const _0x36504a=a0_0x389422;try{let _0x1b5743=this[_0x36504a(0x609)](_0x221614),_0x3dc9dd=A(_0x234713[_0x36504a(0x6e5)]);await _0x1b5743[_0x36504a(0x30b)](_0x3dc9dd);}catch(_0x267df7){console[_0x36504a(0x5b6)](_0x267df7);}}async[a0_0x389422(0x4a1)](_0x3d887b,_0x210ecc,_0x10a404){const _0xa2627c=a0_0x389422;try{let _0x51e128=this[_0xa2627c(0x609)](_0x10a404),_0x393707=A(_0x3d887b['where']);return await _0x51e128[_0xa2627c(0x1ac)](_0x393707,{'$set':_0x210ecc},{'new':!0x0});}catch(_0x31dfec){throw console[_0xa2627c(0x5b6)](_0x31dfec),_0x31dfec;}}async[a0_0x389422(0x1c9)](_0x2c05ee,_0x388e4b){const _0x2e2e7f=a0_0x389422;if(_0x2c05ee[_0x2e2e7f(0x7d0)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2e2e7f(0x609)](_0x388e4b)[_0x2e2e7f(0x1c9)]([..._0x2c05ee]))[_0x2e2e7f(0x7d0)]};}catch(_0x34cba0){return console[_0x2e2e7f(0x361)](_0x2e2e7f(0x20c),_0x34cba0),_0x34cba0;}}async[a0_0x389422(0x712)](_0x178336){const _0x7efd8b=a0_0x389422;try{return await this[_0x7efd8b(0x609)](_0x178336)['collection'][_0x7efd8b(0x2a7)](),{'success':!0x0};}catch(_0x2fe0c9){return console['error'](_0x2fe0c9),{'success':!0x1,'error':_0x2fe0c9};}}},Ps=I(require(a0_0x389422(0x52a))),w=I(require(a0_0x389422(0x39f))),Le=require('fs'),j=I(require(a0_0x389422(0x63f))),Q=I(require(a0_0x389422(0x1a4))),Ti=require(a0_0x389422(0x466)),Ii=I(require(a0_0x389422(0x8ec))),_i=I(require(a0_0x389422(0x7bb))),va=[a0_0x389422(0x34a),a0_0x389422(0x476),a0_0x389422(0x2b9),a0_0x389422(0x5e1),a0_0x389422(0x2ef)],Na=[a0_0x389422(0x845),a0_0x389422(0x883),'viewOnceMessage',a0_0x389422(0x520)],Ds=require('os'),Ft=I(require(a0_0x389422(0x525))),Fe=require(a0_0x389422(0x254)),Oi=require(a0_0x389422(0x628)),ge=I(require(a0_0x389422(0x201))),J=require(a0_0x389422(0x8e1)),ue=class{constructor(_0x24bdee,_0x12e164,_0x2be468){const _0x266b51=a0_0x389422;this['jid']=_0x24bdee,this['exists']=_0x12e164,this[_0x266b51(0x467)]=_0x2be468;}},Qe=class{},Ye=class{},Ie=class{},Xe=class{},Ze=class{},Ee=class{},et=class{},tt=class{},st=class{},at=class{},Ot=I(require(a0_0x389422(0x1ca))),$a=require('fs'),Ra=require(a0_0x389422(0x63f));async function _e(_0x369f24){const _0x4648fe=a0_0x389422;let _0x4dc544=G['waInstances'][_0x369f24];if(L[_0x4648fe(0x290)]){let _0x7c32ab=T[_0x4648fe(0x746)]()['db'](L['CONNECTION']['DB_PREFIX_NAME']+_0x4648fe(0x45e))[_0x4648fe(0x25e)](_0x369f24);return _0x4dc544||(await _0x7c32ab[_0x4648fe(0x428)]({})['toArray']())[_0x4648fe(0x7d0)]>0x0;}return _0x4dc544||(0x0,$a['existsSync'])((0x0,Ra[_0x4648fe(0x5ee)])(Se,_0x369f24));}async function Aa(_0x1fccac,_0x1ca09e,_0x3e48b9){const _0x22f9ba=a0_0x389422;if(_0x1fccac[_0x22f9ba(0x34e)]['includes'](_0x22f9ba(0x41c))||_0x1fccac[_0x22f9ba(0x34e)]['includes'](_0x22f9ba(0x69f))||_0x1fccac[_0x22f9ba(0x34e)][_0x22f9ba(0x908)](_0x22f9ba(0x368))||_0x1fccac[_0x22f9ba(0x34e)][_0x22f9ba(0x908)]('/config')||_0x1fccac[_0x22f9ba(0x34e)]['includes'](_0x22f9ba(0x4a9))||_0x1fccac[_0x22f9ba(0x34e)]['includes'](_0x22f9ba(0x8dd))||_0x1fccac[_0x22f9ba(0x34e)][_0x22f9ba(0x908)]('/instance/delete'))return _0x3e48b9();let _0x420e1f=_0x1fccac[_0x22f9ba(0x271)];if(!_0x420e1f?.[_0x22f9ba(0x33a)])throw new m('instanceName\x20not\x20provided.');if(!await _e(_0x420e1f[_0x22f9ba(0x33a)]))throw new U(_0x22f9ba(0x233)+_0x420e1f['instanceName']+_0x22f9ba(0x5e9));_0x3e48b9();}async function Ta(_0x52447d,_0x27a0eb,_0x2a8767){const _0x54530c=a0_0x389422;if(_0x52447d[_0x54530c(0x34e)][_0x54530c(0x908)](_0x54530c(0x41c))){let _0x4cced6=_0x52447d[_0x54530c(0x8ce)];if(await _e(_0x4cced6[_0x54530c(0x33a)]))throw new Z(_0x54530c(0x4d7)+_0x4cced6[_0x54530c(0x33a)]+_0x54530c(0x6be));G[_0x54530c(0x18a)][_0x4cced6[_0x54530c(0x33a)]]&&delete G['waInstances'][_0x4cced6['instanceName']];}_0x2a8767();}var Ia=require(a0_0x389422(0x8e1)),_a=I(require(a0_0x389422(0x860))),it='uazapi',$o=new $(a0_0x389422(0x75d));async function Ro(_0x1efc01,_0x45a56f,_0x3b779d){const _0x17e6cb=a0_0x389422;let _0x280842=_0x1efc01[_0x17e6cb(0x3a9)](_0x17e6cb(0x34b));if(_0x280842&&S['get'](_0x17e6cb(0x6f6))[_0x17e6cb(0x48d)][_0x17e6cb(0x432)]!==_0x280842)throw new ie();if(S[_0x17e6cb(0x3a9)](_0x17e6cb(0x6f6))[_0x17e6cb(0x48d)][_0x17e6cb(0x432)]===_0x280842)return _0x3b779d();if((_0x1efc01[_0x17e6cb(0x34e)][_0x17e6cb(0x908)](_0x17e6cb(0x41c))||_0x1efc01[_0x17e6cb(0x34e)][_0x17e6cb(0x908)](_0x17e6cb(0x69f)))&&!_0x280842)throw new Z(_0x17e6cb(0x438),_0x17e6cb(0x85d));let _0x54d2b3=S[_0x17e6cb(0x3a9)](_0x17e6cb(0x6f6))[_0x17e6cb(0x727)];try{let [_0xb3ecbd,_0x587d71]=_0x1efc01[_0x17e6cb(0x3a9)](_0x17e6cb(0x3d0))[_0x17e6cb(0x1eb)]('\x20');if(_0xb3ecbd['toLowerCase']()!=='bearer')throw new ie();if(!(0x0,Ia['isJWT'])(_0x587d71))throw new ie();let _0x31fc9f=_0x1efc01[_0x17e6cb(0x271)],_0x4a3d05=_a['default'][_0x17e6cb(0x8e8)](_0x587d71,_0x54d2b3[_0x17e6cb(0x20e)],{'ignoreExpiration':_0x54d2b3[_0x17e6cb(0x360)]===0x0});if(_0x31fc9f[_0x17e6cb(0x33a)]!==_0x4a3d05['instanceName']||it!==_0x4a3d05[_0x17e6cb(0x7f1)])throw new ie();return _0x3b779d();}catch(_0x11ca14){throw $o[_0x17e6cb(0x5b6)](_0x11ca14),new ie();}}async function Ao(_0x32fe63,_0x50829b,_0x226d72){const _0xd2fa67=a0_0x389422;let _0x4d7e67=S['get'](_0xd2fa67(0x6f6))['API_KEY'],_0x25e28b=_0x32fe63[_0xd2fa67(0x3a9)](_0xd2fa67(0x34b));if(_0x4d7e67[_0xd2fa67(0x432)]===_0x25e28b)return _0x226d72();if(_0x32fe63[_0xd2fa67(0x34e)]['includes']('/instance/create')){let _0x39bcbb=xa,_0x2a4d4b=_0x32fe63['body']['instanceName'];if(_0x39bcbb&&_0x2a4d4b[_0xd2fa67(0x7b1)]()['startsWith'](_0x39bcbb[_0xd2fa67(0x7b1)]()))return _0x226d72();if(!_0x25e28b)throw new Z(_0xd2fa67(0x438),_0xd2fa67(0x85d));}if(_0x32fe63[_0xd2fa67(0x34e)]['includes'](_0xd2fa67(0x69f))&&!_0x25e28b)throw new Z('Missing\x20global\x20api\x20key',_0xd2fa67(0x85d));if(_0x32fe63[_0xd2fa67(0x34e)][_0xd2fa67(0x908)](_0xd2fa67(0x368))&&!_0x25e28b)throw new Z(_0xd2fa67(0x438),_0xd2fa67(0x85d));if(_0x32fe63[_0xd2fa67(0x34e)][_0xd2fa67(0x908)]('/config')&&!_0x25e28b)throw new Z(_0xd2fa67(0x438),_0xd2fa67(0x85d));try{let _0x68e65d=_0x32fe63['params'],_0x2fc26d=await fe['auth'][_0xd2fa67(0x428)](_0x68e65d[_0xd2fa67(0x33a)]);if(_0x2fc26d&&_0x2fc26d[_0xd2fa67(0x34b)]===_0x25e28b)return _0x226d72();}catch{}throw new ie();}var Oa={'jwt':Ro,'apikey':Ao},pi=require('express'),C=require(a0_0x389422(0x466)),E=(..._0x553fb9)=>{const _0x35c0c0=a0_0x389422;let _0x41f50a={};return _0x553fb9['forEach'](_0x26eb4f=>_0x41f50a[_0x26eb4f]={'minLength':0x1,'description':_0x35c0c0(0x24b)+_0x26eb4f+_0x35c0c0(0x8fd)}),{'if':{'propertyNames':{'enum':[..._0x553fb9]}},'then':{'properties':_0x41f50a}};},N={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x389422(0x709)}},...E('instanceName')},Ac={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'oldToken':{'type':a0_0x389422(0x709)}},'required':[a0_0x389422(0x6ec)],...E('oldToken')},Tc={'properties':{'key':{'type':a0_0x389422(0x26d),'properties':{'id':{'type':a0_0x389422(0x709)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]}},'required':['id',a0_0x389422(0x897),a0_0x389422(0x8fb)],...E('id',a0_0x389422(0x897))},'message':{'type':a0_0x389422(0x26d)}}},oe={'properties':{'delay':{'type':'integer','description':a0_0x389422(0x2b4)},'presence':{'type':a0_0x389422(0x709),'enum':[a0_0x389422(0x8c3),a0_0x389422(0x6b7),'composing',a0_0x389422(0x2a6),a0_0x389422(0x73b)]}}},ee={'type':a0_0x389422(0x709),'description':a0_0x389422(0x6b4)},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'number':{...ee},'options':{...oe},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x389422(0x709)}},'required':['text'],...E(a0_0x389422(0x243))}},'required':['textMessage',a0_0x389422(0x2f3)]},Da={'type':a0_0x389422(0x709),'pattern':a0_0x389422(0x43c),'description':a0_0x389422(0x6b4)},Ic={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'number':{...Da},'options':{...oe},'textMessage':{'type':a0_0x389422(0x26d),'properties':{'text':{'type':'string'}},'required':['text'],...E(a0_0x389422(0x243))}},'required':[a0_0x389422(0x482),a0_0x389422(0x2f3)]},_c={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'number':{...Da},'options':{...oe},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x389422(0x709),'enum':[a0_0x389422(0x2b8),'document',a0_0x389422(0x8fe),a0_0x389422(0x4ef)]},'media':{'type':a0_0x389422(0x709)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':['mediatype','media'],...E(a0_0x389422(0x4c8),a0_0x389422(0x41e),'media')}},'required':[a0_0x389422(0x853),a0_0x389422(0x2f3)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'number':{...ee},'options':{...oe},'stickerMessage':{'type':a0_0x389422(0x26d),'properties':{'image':{'type':'string'}},'required':['image'],...E(a0_0x389422(0x2b8))}},'required':[a0_0x389422(0x2ef),a0_0x389422(0x2f3)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'statusMessage':{'type':a0_0x389422(0x26d),'properties':{'type':{'type':a0_0x389422(0x709),'enum':[a0_0x389422(0x243),a0_0x389422(0x2b8),'audio',a0_0x389422(0x8fe)]},'content':{'type':a0_0x389422(0x709)},'caption':{'type':a0_0x389422(0x709)},'backgroundColor':{'type':a0_0x389422(0x709)},'font':{'type':a0_0x389422(0x350),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x389422(0x90c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x389422(0x709),'pattern':a0_0x389422(0x861),'description':a0_0x389422(0x86f)}},'allContacts':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]}},'required':[a0_0x389422(0x3e0),a0_0x389422(0x231)],...E(a0_0x389422(0x3e0),'content')}},'required':[a0_0x389422(0x343)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'number':{...ee},'options':{...oe},'mediaMessage':{'type':a0_0x389422(0x26d),'properties':{'mediatype':{'type':a0_0x389422(0x709),'enum':[a0_0x389422(0x2b8),a0_0x389422(0x8f9),a0_0x389422(0x8fe),'audio']},'media':{'type':a0_0x389422(0x709)},'fileName':{'type':a0_0x389422(0x709)},'caption':{'type':a0_0x389422(0x709)}},'required':['mediatype',a0_0x389422(0x886)],...E(a0_0x389422(0x4c8),a0_0x389422(0x41e),a0_0x389422(0x886))}},'required':[a0_0x389422(0x853),a0_0x389422(0x2f3)]},Ua={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'audioMessage':{'type':a0_0x389422(0x26d),'properties':{'audio':{'type':a0_0x389422(0x709)}},'required':['audio'],...E(a0_0x389422(0x4ef))}},'required':[a0_0x389422(0x2b9),a0_0x389422(0x2f3)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'number':{...ee},'pollMessage':{'type':a0_0x389422(0x26d),'properties':{'name':{'type':'string'},'selectableCount':{'type':'number'},'values':{'type':a0_0x389422(0x90c),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x389422(0x467),a0_0x389422(0x66c),a0_0x389422(0x6eb)],...E('name','selectableCount',a0_0x389422(0x6eb))}},'required':['number',a0_0x389422(0x5ab)]},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'number':{...ee},'menuMessage':{'type':a0_0x389422(0x26d),'properties':{'text':{'type':a0_0x389422(0x709)},'choices':{'type':'array','uniqueItems':!0x0}},'required':[a0_0x389422(0x243),a0_0x389422(0x288)],...E('text',a0_0x389422(0x288))}},'required':['number',a0_0x389422(0x3ce)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'number':{...ee},'options':{...oe},'locationMessage':{'type':a0_0x389422(0x26d),'properties':{'latitude':{'type':a0_0x389422(0x2f3)},'longitude':{'type':'number'},'name':{'type':a0_0x389422(0x709)},'address':{'type':a0_0x389422(0x709)}},'required':[a0_0x389422(0x87f),'longitude'],...E(a0_0x389422(0x467),a0_0x389422(0x7e3))}},'required':['number',a0_0x389422(0x6c8)]},Va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'listMessage':{'type':a0_0x389422(0x26d),'properties':{'title':{'type':a0_0x389422(0x709)},'description':{'type':'string'},'footerText':{'type':a0_0x389422(0x709)},'buttonText':{'type':'string'},'sections':{'type':a0_0x389422(0x90c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x389422(0x26d),'properties':{'title':{'type':a0_0x389422(0x709)},'rows':{'type':a0_0x389422(0x90c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x389422(0x26d),'properties':{'title':{'type':a0_0x389422(0x709)},'description':{'type':a0_0x389422(0x709)},'rowId':{'type':a0_0x389422(0x709)}},'required':[a0_0x389422(0x7e9),a0_0x389422(0x61d)],...E('title',a0_0x389422(0x61d))}}},'required':[a0_0x389422(0x7e9),'rows'],...E(a0_0x389422(0x7e9))}}},'required':[a0_0x389422(0x7e9),'description',a0_0x389422(0x650),a0_0x389422(0x367)],...E(a0_0x389422(0x7e9),'description',a0_0x389422(0x650),a0_0x389422(0x70f))}},'required':[a0_0x389422(0x2f3),a0_0x389422(0x869)]},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...ee},'options':{...oe},'contactMessage':{'type':a0_0x389422(0x90c),'items':{'type':a0_0x389422(0x26d),'properties':{'fullName':{'type':a0_0x389422(0x709)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x389422(0x577),a0_0x389422(0x7b2)],...E(a0_0x389422(0x577))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x389422(0x519)]},Ba={'$id':(0x0,C['v4'])(),'type':'object','properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x389422(0x709)},'remoteJid':{'type':a0_0x389422(0x709)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x389422(0x897),a0_0x389422(0x8fb)],...E('id',a0_0x389422(0x897))},'reaction':{'type':a0_0x389422(0x709)}},'required':['key',a0_0x389422(0x542)],...E('reaction')}},'required':[a0_0x389422(0x463)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'numbers':{'type':a0_0x389422(0x90c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':a0_0x389422(0x565)}}}},za={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x389422(0x709)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x389422(0x709)}},'required':['id','fromMe','remoteJid'],...E('id',a0_0x389422(0x897))}}},'required':['readMessages']},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':'string','enum':[a0_0x389422(0x73e),a0_0x389422(0x771)]},'profile':{'type':'string','enum':['all','contacts',a0_0x389422(0x513),a0_0x389422(0x771)]},'status':{'type':a0_0x389422(0x709),'enum':[a0_0x389422(0x73e),'contacts',a0_0x389422(0x513),a0_0x389422(0x771)]},'online':{'type':a0_0x389422(0x709),'enum':['all',a0_0x389422(0x3c0)]},'last':{'type':a0_0x389422(0x709),'enum':[a0_0x389422(0x73e),a0_0x389422(0x8f7),a0_0x389422(0x513),a0_0x389422(0x771)]},'groupadd':{'type':a0_0x389422(0x709),'enum':[a0_0x389422(0x73e),a0_0x389422(0x8f7),a0_0x389422(0x513),a0_0x389422(0x771)]}},'required':[a0_0x389422(0x58b),a0_0x389422(0x876),'status',a0_0x389422(0x738),a0_0x389422(0x28e),a0_0x389422(0x2be)],...E(a0_0x389422(0x58b),a0_0x389422(0x876),a0_0x389422(0x3d8),'online','last',a0_0x389422(0x2be))}},'required':[a0_0x389422(0x21d)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x389422(0x26d),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]}},'required':['id',a0_0x389422(0x8fb),a0_0x389422(0x897)],...E('id','remoteJid')},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x389422(0x71e)],...E(a0_0x389422(0x26a))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x389422(0x52f),a0_0x389422(0x6f9)]},Qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'id':{'type':a0_0x389422(0x709)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x389422(0x709)},'participant':{'type':'string'}},'required':['id',a0_0x389422(0x8fb),a0_0x389422(0x897)],...E('id',a0_0x389422(0x897),a0_0x389422(0x3c2))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'where':{'type':a0_0x389422(0x26d),'properties':{'_id':{'type':a0_0x389422(0x709),'minLength':0x1},'pushName':{'type':a0_0x389422(0x709),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...E(a0_0x389422(0x53f),'id','pushName')}}},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':'string'}},...E('name')},Za={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'status':{'type':a0_0x389422(0x709)}},...E(a0_0x389422(0x3d8))},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'number':{'type':a0_0x389422(0x709)},'picture':{'type':a0_0x389422(0x709)}}},ei={'type':a0_0x389422(0x26d),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x389422(0x709)},'picture':{'type':a0_0x389422(0x709)},'status':{'type':a0_0x389422(0x709)},'isBusiness':{'type':a0_0x389422(0x584)}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'where':{'type':a0_0x389422(0x26d),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x389422(0x26d),'if':{'propertyNames':{'enum':[a0_0x389422(0x8fb),a0_0x389422(0x897),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x389422(0x701)},'id':{'type':a0_0x389422(0x709),'minLength':0x1,'description':a0_0x389422(0x701)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x389422(0x26d)}},...E(a0_0x389422(0x53f))},'limit':{'type':a0_0x389422(0x350)}}},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'where':{'type':a0_0x389422(0x26d),'properties':{'_id':{'type':a0_0x389422(0x709)},'remoteJid':{'type':a0_0x389422(0x709)},'id':{'type':'string'},'fromMe':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':'string','enum':[a0_0x389422(0x8e9),'PENDING',a0_0x389422(0x5d0),a0_0x389422(0x696),a0_0x389422(0x51e),a0_0x389422(0x7d5)]}},...E(a0_0x389422(0x53f),a0_0x389422(0x897),'id',a0_0x389422(0x3d8))},'limit':{'type':a0_0x389422(0x350)}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'number':{...ee},'presence':{'type':'string','enum':[a0_0x389422(0x8c3),'available',a0_0x389422(0x401),'recording',a0_0x389422(0x73b)]}},'required':[a0_0x389422(0x864),a0_0x389422(0x2f3)]},ai={'$id':(0x0,C['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x389422(0x709)},'description':{'type':'string'},'profilePicture':{'type':'string'},'participants':{'type':a0_0x389422(0x90c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x389422(0x709),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x389422(0x75c)}}},'required':['subject','participants'],...E(a0_0x389422(0x579),a0_0x389422(0x8ff),a0_0x389422(0x8c4))},xe={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'groupJid':{'type':a0_0x389422(0x709),'pattern':a0_0x389422(0x8ae)}},'required':[a0_0x389422(0x232)],...E(a0_0x389422(0x232))},ii={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x389422(0x709),'enum':[a0_0x389422(0x765),'remove',a0_0x389422(0x82c),a0_0x389422(0x3c3),a0_0x389422(0x56e),a0_0x389422(0x469)]},'participants':{'type':a0_0x389422(0x90c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x389422(0x4f2),'description':a0_0x389422(0x75c)}}},'required':[a0_0x389422(0x232),a0_0x389422(0x5b8),a0_0x389422(0x2f6)],...E(a0_0x389422(0x232),a0_0x389422(0x5b8))},oi={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'groupJid':{'type':a0_0x389422(0x709)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x389422(0x335)],...E(a0_0x389422(0x232),a0_0x389422(0x335))},ri={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x389422(0x709)},'image':{'type':a0_0x389422(0x709)}},'required':[a0_0x389422(0x232),a0_0x389422(0x2b8)],...E(a0_0x389422(0x232),a0_0x389422(0x2b8))},ni={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x389422(0x709)},'description':{'type':a0_0x389422(0x709)}},'required':[a0_0x389422(0x232),a0_0x389422(0x8ff)],...E('groupJid','description')},ci={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x389422(0x709)},'name':{'type':a0_0x389422(0x709)}},'required':[a0_0x389422(0x232),a0_0x389422(0x467)],...E(a0_0x389422(0x232),a0_0x389422(0x467))},li={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x389422(0x709),'enum':[a0_0x389422(0x331),'not_announcement','unlocked',a0_0x389422(0x678)]}},'required':[a0_0x389422(0x232),'setting'],...E(a0_0x389422(0x232),a0_0x389422(0x69c))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'groupJid':{'type':a0_0x389422(0x709)},'restrict':{'type':a0_0x389422(0x584)},'announce':{'type':a0_0x389422(0x584)},'memberAddMode':{'type':a0_0x389422(0x584)},'joinApprovalMode':{'type':a0_0x389422(0x584)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x389422(0x709)},'image':{'type':a0_0x389422(0x709)}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'inviteCode':{'type':a0_0x389422(0x709)}},'required':[a0_0x389422(0x8cf)],...E('inviteCode')},di={'$id':(0x0,C['v4'])(),'type':a0_0x389422(0x26d),'properties':{'url':{'type':a0_0x389422(0x709)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x389422(0x55a),a0_0x389422(0x2c6)]},xc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x389422(0x584),'enum':[!0x0,!0x1]}},'required':['local_map','STATUS_INSTANCE',a0_0x389422(0x3b7),a0_0x389422(0x50d),a0_0x389422(0x634),a0_0x389422(0x1f6),a0_0x389422(0x808),a0_0x389422(0x4d0),a0_0x389422(0x551),a0_0x389422(0x5d9),a0_0x389422(0x841),a0_0x389422(0x36b),a0_0x389422(0x704),'CHATS_UPDATE','CHATS_DELETE',a0_0x389422(0x1b6),a0_0x389422(0x7fd),a0_0x389422(0x517),a0_0x389422(0x6c3)],...E(a0_0x389422(0x5ad),a0_0x389422(0x688),a0_0x389422(0x3b7),a0_0x389422(0x50d),a0_0x389422(0x634),a0_0x389422(0x1f6),a0_0x389422(0x808),a0_0x389422(0x4d0),a0_0x389422(0x551),'CONTACTS_UPDATE',a0_0x389422(0x841),'CHATS_SET',a0_0x389422(0x704),a0_0x389422(0x761),a0_0x389422(0x7f8),a0_0x389422(0x1b6),'GROUPS_UPSERT',a0_0x389422(0x517),a0_0x389422(0x6c3))},ot=class{},rt=class extends _{[a0_0x389422(0x35f)](_0x15df80){return aa(_0x15df80);}async[a0_0x389422(0x4a0)](_0x3537fb){const _0x167b2b=a0_0x389422;if(_0x3537fb[_0x167b2b(0x7d0)]!==0x0)try{return{'insertCount':(await this[_0x167b2b(0x35f)](_0x3537fb[0x0]['owner'])[_0x167b2b(0x1c9)]([..._0x3537fb]))[_0x167b2b(0x7d0)]};}catch(_0x20eb03){return _0x20eb03;}}async[a0_0x389422(0x216)](_0x3a91fe,_0x1ecedf){const _0x3a2c59=a0_0x389422;try{return{'deletedCount':(await this[_0x3a2c59(0x35f)](_0x1ecedf)[_0x3a2c59(0x30b)]({..._0x3a91fe['where']}))['deletedCount']};}catch(_0x1f70b0){return{'error':_0x1f70b0?.[_0x3a2c59(0x46e)]()};}}async[a0_0x389422(0x4a1)](_0x4c2ab0,_0x27c137){const _0x68bcc1=a0_0x389422;try{if(_0x4c2ab0[_0x68bcc1(0x7d0)]===0x0)return;let _0x4b2a7a=this[_0x68bcc1(0x35f)](_0x27c137),_0x48e2a0=_0x4c2ab0['map'](_0x271ac1=>({'updateOne':{'filter':{'_id':_0x271ac1[_0x68bcc1(0x53f)],'owner':_0x27c137},'update':{..._0x271ac1}}})),{modifiedCount:_0x546973}=await _0x4b2a7a[_0x68bcc1(0x534)](_0x48e2a0);return{'insertCount':_0x546973};}catch{return;}}async[a0_0x389422(0x428)](_0x2f0322,_0x546b10){const _0x4cb356=a0_0x389422;try{let _0x5bcd67=this[_0x4cb356(0x35f)](_0x546b10),_0x567532=A(_0x2f0322[_0x4cb356(0x6e5)]);return await _0x5bcd67[_0x4cb356(0x428)](_0x567532)['limit'](_0x2f0322?.[_0x4cb356(0x7dc)]??0x0)[_0x4cb356(0x4ed)]();}catch{return[];}}async[a0_0x389422(0x892)](_0x362e84,_0x49913f){const _0x1f5995=a0_0x389422;try{let _0x381c30=this[_0x1f5995(0x35f)](_0x49913f),_0x41ec82=A(_0x362e84['where']);return await _0x381c30[_0x1f5995(0x892)](_0x41ec82)[_0x1f5995(0x4ed)]();}catch{return null;}}async[a0_0x389422(0x712)](_0x400cb3){const _0x365b90=a0_0x389422;try{return await this['getContactModelForOwner'](_0x400cb3)['collection'][_0x365b90(0x2a7)](),{'success':!0x0};}catch(_0x10b79f){return console['error'](_0x10b79f),{'success':!0x1,'error':_0x10b79f};}}},nt=require(a0_0x389422(0x6b0)),qc=require(a0_0x389422(0x726)),$s=new $(a0_0x389422(0x5c6)),V=class{[a0_0x389422(0x5cf)](_0x6481ec,_0x414430=!0x0){const _0x11a3d5=a0_0x389422;let _0x43558d='/'+_0x6481ec;return _0x414430&&(_0x43558d+=_0x11a3d5(0x267)),_0x43558d;}async[a0_0x389422(0x4b8)](_0xe157d9){const _0x563b61=a0_0x389422;let {request:_0xa6d144,schema:_0x5f22e9,ClassRef:_0x328fe3,execute:_0x1295b2}=_0xe157d9,_0x5cb230=new _0x328fe3(),_0x168cef=_0xa6d144[_0x563b61(0x8ce)],_0x44fbff=_0xa6d144[_0x563b61(0x271)];_0xa6d144?.['query']&&Object[_0x563b61(0x8b0)](_0xa6d144[_0x563b61(0x279)])[_0x563b61(0x7d0)]>0x0&&Object['assign'](_0x44fbff,_0xa6d144[_0x563b61(0x279)]),_0xa6d144[_0x563b61(0x34e)][_0x563b61(0x908)]('/instance/create')&&Object[_0x563b61(0x8d9)](_0x44fbff,_0x168cef),Object[_0x563b61(0x8d9)](_0x5cb230,_0x168cef);let _0x50bff8=_0x5f22e9?(0x0,nt['validate'])(_0x5cb230,_0x5f22e9):{'valid':!0x0,'errors':[]};if(!_0x50bff8[_0x563b61(0x7df)]){let _0x744fdd=_0x50bff8['errors'][_0x563b61(0x3ea)](({property:_0x3cdfef,stack:_0x216c6c,schema:_0x3c32f5})=>{const _0x703e51=_0x563b61;let _0x1e3892;return _0x3c32f5[_0x703e51(0x8ff)]?_0x1e3892=_0x3c32f5[_0x703e51(0x8ff)]:_0x1e3892=_0x216c6c['replace'](_0x703e51(0x2e5),''),{'property':_0x3cdfef[_0x703e51(0x793)]('instance.',''),'message':_0x1e3892};});throw $s[_0x563b61(0x5b6)]([..._0x744fdd]),new m(..._0x744fdd);}return await _0x1295b2(_0x44fbff,_0x5cb230);}async['groupValidate'](_0x5ac919){const _0x27a131=a0_0x389422;let {request:_0x45944d,ClassRef:_0x5d429e,schema:_0x392785,execute:_0xa51807}=_0x5ac919,_0x464666=_0x45944d[_0x27a131(0x279)];if(!_0x464666?.[_0x27a131(0x232)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','ex:\x20\x22groupJid=120362@g.us\x22');let _0x176719=_0x45944d[_0x27a131(0x271)],_0x2d924b=_0x45944d['body'],_0x2d3ada=new _0x5d429e();Object['assign'](_0x2d924b,_0x464666),Object[_0x27a131(0x8d9)](_0x2d3ada,_0x2d924b);let _0x167ea2=(0x0,nt[_0x27a131(0x885)])(_0x2d3ada,_0x392785);if(!_0x167ea2[_0x27a131(0x7df)]){let _0x35f203=_0x167ea2['errors'][_0x27a131(0x3ea)](({property:_0x4f4394,stack:_0x54cc75,schema:_0x4d1f90})=>{const _0x506d9a=_0x27a131;let _0x5cdee1;return _0x4d1f90['description']?_0x5cdee1=_0x4d1f90[_0x506d9a(0x8ff)]:_0x5cdee1=_0x54cc75[_0x506d9a(0x793)](_0x506d9a(0x2e5),''),{'property':_0x4f4394[_0x506d9a(0x793)](_0x506d9a(0x2e5),''),'message':_0x5cdee1};});throw $s[_0x27a131(0x5b6)]([..._0x35f203]),new m(..._0x35f203);}return await _0xa51807(_0x176719,_0x2d3ada);}async[a0_0x389422(0x783)](_0x169b24){const _0x2315c9=a0_0x389422;let {request:_0x497579,ClassRef:_0x14f0cb,schema:_0x28a283,execute:_0x285895}=_0x169b24,_0x362acb=_0x497579['body'];if(!_0x362acb?.[_0x2315c9(0x8cf)])throw new m(_0x2315c9(0x4a4),_0x2315c9(0x742));let _0x56b0c7=_0x497579[_0x2315c9(0x271)],_0xad0cbf=_0x497579[_0x2315c9(0x8ce)],_0x546d63=new _0x14f0cb();Object[_0x2315c9(0x8d9)](_0xad0cbf,_0x362acb),Object[_0x2315c9(0x8d9)](_0x546d63,_0xad0cbf);let _0x275fbf=(0x0,nt['validate'])(_0x546d63,_0x28a283);if(!_0x275fbf[_0x2315c9(0x7df)]){let _0x3d4afb=_0x275fbf[_0x2315c9(0x1c4)][_0x2315c9(0x3ea)](({property:_0x22f502,stack:_0x8f10b6,schema:_0x2800e4})=>{const _0x4e351f=_0x2315c9;let _0x39b468;return _0x2800e4[_0x4e351f(0x8ff)]?_0x39b468=_0x2800e4[_0x4e351f(0x8ff)]:_0x39b468=_0x8f10b6['replace']('instance.',''),{'property':_0x22f502['replace'](_0x4e351f(0x2e5),''),'message':_0x39b468};});throw $s[_0x2315c9(0x5b6)]([..._0x3d4afb]),new m(..._0x3d4afb);}return await _0x285895(_0x56b0c7,_0x546d63);}},M=class{},al=new $(a0_0x389422(0x6c6)),ct=class extends V{constructor(..._0x258dca){const _0x27b924=a0_0x389422;super(),this['router']=(0x0,pi['Router'])(),this['router'][_0x27b924(0x57f)](this['routerPath'](_0x27b924(0x72f)),..._0x258dca,async(_0x484271,_0x2fb7fc)=>{const _0x185686=_0x27b924;let _0x5bb257=await this[_0x185686(0x4b8)]({'request':_0x484271,'schema':si,'ClassRef':Qe,'execute':(_0x4c98c6,_0x14a811)=>D[_0x185686(0x72f)](_0x4c98c6,_0x14a811)});return _0x2fb7fc[_0x185686(0x3d8)](0xc9)[_0x185686(0x683)](_0x5bb257);})[_0x27b924(0x57f)](this[_0x27b924(0x5cf)](_0x27b924(0x81d)),..._0x258dca,async(_0x459a29,_0x3f6631)=>{const _0x597fda=_0x27b924;let _0x2c5e7b=await this[_0x597fda(0x4b8)]({'request':_0x459a29,'schema':Wa,'ClassRef':Ye,'execute':(_0x5515f0,_0x511741)=>D[_0x597fda(0x8d4)](_0x5515f0,_0x511741)});return _0x3f6631[_0x597fda(0x3d8)](0xc9)[_0x597fda(0x683)](_0x2c5e7b);})[_0x27b924(0x57f)](this[_0x27b924(0x5cf)](_0x27b924(0x871)),..._0x258dca,async(_0x30185a,_0x5458e5)=>{const _0x335441=_0x27b924;let _0x4568ae=await this[_0x335441(0x4b8)]({'request':_0x30185a,'schema':N,'ClassRef':M,'execute':(_0x3c93e8,_0x19ea4f)=>D[_0x335441(0x871)](_0x3c93e8,_0x19ea4f)});return _0x5458e5[_0x335441(0x3d8)](0xc9)['json'](_0x4568ae);})[_0x27b924(0x370)](this[_0x27b924(0x5cf)](_0x27b924(0x62c)),..._0x258dca,async(_0x37923a,_0x56363a)=>{const _0x52eb71=_0x27b924;let _0x130660=await this['dataValidate']({'request':_0x37923a,'schema':za,'ClassRef':et,'execute':(_0x560344,_0xc6391b)=>D[_0x52eb71(0x1b7)](_0x560344,_0xc6391b)});return _0x56363a[_0x52eb71(0x3d8)](0xc9)[_0x52eb71(0x683)](_0x130660);})[_0x27b924(0x370)](this[_0x27b924(0x5cf)](_0x27b924(0x722)),..._0x258dca,async(_0x3857f1,_0x4137d3)=>{const _0x767633=_0x27b924;let _0xfbf8fc=await this[_0x767633(0x4b8)]({'request':_0x3857f1,'schema':Ka,'ClassRef':tt,'execute':(_0x427be2,_0xe90369)=>D['archiveChat'](_0x427be2,_0xe90369)});return _0x4137d3[_0x767633(0x3d8)](0xc9)[_0x767633(0x683)](_0xfbf8fc);})[_0x27b924(0x216)](this[_0x27b924(0x5cf)](_0x27b924(0x25f)),..._0x258dca,async(_0x36ef24,_0x2ca09e)=>{const _0x147654=_0x27b924;let _0x37c39c=await this[_0x147654(0x4b8)]({'request':_0x36ef24,'schema':Qa,'ClassRef':at,'execute':(_0x249b1c,_0x251642)=>D[_0x147654(0x813)](_0x249b1c,_0x251642)});return _0x2ca09e[_0x147654(0x3d8)](0xc9)['json'](_0x37c39c);})[_0x27b924(0x57f)](this[_0x27b924(0x5cf)](_0x27b924(0x4b5)),..._0x258dca,async(_0x13829e,_0x314af8)=>{const _0x1e6e59=_0x27b924;let _0x22a971=await this[_0x1e6e59(0x4b8)]({'request':_0x13829e,'schema':Oe,'ClassRef':Ie,'execute':(_0x2991da,_0x1d8233)=>D['fetchProfilePicture'](_0x2991da,_0x1d8233)});return _0x314af8[_0x1e6e59(0x3d8)](0xc8)[_0x1e6e59(0x683)](_0x22a971);})[_0x27b924(0x57f)](this[_0x27b924(0x5cf)](_0x27b924(0x5a8)),..._0x258dca,async(_0x1c69b4,_0x51cc8d)=>{const _0x1ef4b3=_0x27b924;let _0x260f24=await this[_0x1ef4b3(0x4b8)]({'request':_0x1c69b4,'schema':ei,'ClassRef':Ie,'execute':(_0x447ba2,_0x1fa831)=>D[_0x1ef4b3(0x5a8)](_0x447ba2,_0x1fa831)});return _0x51cc8d[_0x1ef4b3(0x3d8)](0xc8)[_0x1ef4b3(0x683)](_0x260f24);})[_0x27b924(0x57f)](this[_0x27b924(0x5cf)](_0x27b924(0x514)),..._0x258dca,async(_0x544841,_0x9e8f9b)=>{const _0x13d231=_0x27b924;let _0xecdf31=await this[_0x13d231(0x4b8)]({'request':_0x544841,'schema':Ya,'ClassRef':ot,'execute':(_0x7254c7,_0x5f2508)=>D[_0x13d231(0x499)](_0x7254c7,_0x5f2508)});return _0x9e8f9b['status'](0xc8)['json'](_0xecdf31);})[_0x27b924(0x57f)](this[_0x27b924(0x5cf)](_0x27b924(0x377)),..._0x258dca,async(_0x4cd637,_0x59e2c1)=>{const _0x21f7b5=_0x27b924;let _0xb57d73=await this['dataValidate']({'request':_0x4cd637,'schema':null,'ClassRef':Object,'execute':(_0x2cf7b0,_0x4eb2db)=>D[_0x21f7b5(0x377)](_0x2cf7b0,_0x4eb2db)});return _0x59e2c1[_0x21f7b5(0x3d8)](0xc9)[_0x21f7b5(0x683)](_0xb57d73);})[_0x27b924(0x57f)](this[_0x27b924(0x5cf)](_0x27b924(0x75a)),..._0x258dca,async(_0x129182,_0x2d7c70)=>{const _0x86b21a=_0x27b924;let _0x18ad47=await this[_0x86b21a(0x4b8)]({'request':_0x129182,'schema':ti,'ClassRef':He,'execute':(_0x39b4e4,_0x2bfb29)=>D[_0x86b21a(0x571)](_0x39b4e4,_0x2bfb29)});return _0x2d7c70[_0x86b21a(0x3d8)](0xc8)['json'](_0x18ad47);})[_0x27b924(0x3a9)](this[_0x27b924(0x5cf)](_0x27b924(0x8f3)),..._0x258dca,async(_0x2d58f2,_0x5f4bc9)=>{const _0x5b2d6c=_0x27b924;let _0x3ba612=await this['dataValidate']({'request':_0x2d58f2,'schema':null,'ClassRef':M,'execute':_0x234dd3=>D[_0x5b2d6c(0x334)](_0x234dd3)});return _0x5f4bc9['status'](0xc8)[_0x5b2d6c(0x683)](_0x3ba612);})[_0x27b924(0x3a9)](this[_0x27b924(0x5cf)](_0x27b924(0x643)),..._0x258dca,async(_0x7916cb,_0x4e8206)=>{const _0x90d28c=_0x27b924;let _0x2be727=await this[_0x90d28c(0x4b8)]({'request':_0x7916cb,'schema':null,'ClassRef':M,'execute':_0x78ca4d=>D[_0x90d28c(0x873)](_0x78ca4d)});return _0x4e8206['status'](0xc8)[_0x90d28c(0x683)](_0x2be727);})[_0x27b924(0x370)](this['routerPath'](_0x27b924(0x7bc)),..._0x258dca,async(_0xa41d50,_0x377e5e)=>{const _0x577bc6=_0x27b924;let _0x37557e=await this[_0x577bc6(0x4b8)]({'request':_0xa41d50,'schema':null,'ClassRef':Array,'execute':(_0x7c4e11,_0x5e394)=>D[_0x577bc6(0x7bc)](_0x7c4e11,_0x5e394)});return _0x377e5e[_0x577bc6(0x3d8)](0xc8)[_0x577bc6(0x683)](_0x37557e);})[_0x27b924(0x3a9)](this[_0x27b924(0x5cf)]('fetchPrivacySettings'),..._0x258dca,async(_0x31f4e1,_0x4a41f3)=>{const _0x52e421=_0x27b924;let _0x725189=await this[_0x52e421(0x4b8)]({'request':_0x31f4e1,'schema':null,'ClassRef':M,'execute':_0x5910f4=>D[_0x52e421(0x8c6)](_0x5910f4)});return _0x4a41f3[_0x52e421(0x3d8)](0xc8)['json'](_0x725189);})['put'](this[_0x27b924(0x5cf)](_0x27b924(0x209)),..._0x258dca,async(_0x5decde,_0x252b35)=>{const _0x2d7b85=_0x27b924;let _0x24b4f1=await this[_0x2d7b85(0x4b8)]({'request':_0x5decde,'schema':Ha,'ClassRef':st,'execute':(_0x1f1ba6,_0x3cd31a)=>D[_0x2d7b85(0x209)](_0x1f1ba6,_0x3cd31a)});return _0x252b35[_0x2d7b85(0x3d8)](0xc9)[_0x2d7b85(0x683)](_0x24b4f1);})[_0x27b924(0x57f)](this[_0x27b924(0x5cf)](_0x27b924(0x80c)),..._0x258dca,async(_0x2642fd,_0x38a35e)=>{const _0x5646a3=_0x27b924;let _0x133e3f=await this[_0x5646a3(0x4b8)]({'request':_0x2642fd,'schema':Oe,'ClassRef':Ee,'execute':(_0x3852be,_0x543562)=>D['fetchBusinessProfile'](_0x3852be,_0x543562)});return _0x38a35e['status'](0xc8)[_0x5646a3(0x683)](_0x133e3f);})[_0x27b924(0x57f)](this[_0x27b924(0x5cf)](_0x27b924(0x583)),..._0x258dca,async(_0x2f6659,_0x710f2c)=>{const _0x5b9686=_0x27b924;let _0x2c1d99=await this[_0x5b9686(0x4b8)]({'request':_0x2f6659,'schema':Xa,'ClassRef':Xe,'execute':(_0x1be760,_0x18c14c)=>D[_0x5b9686(0x583)](_0x1be760,_0x18c14c)});return _0x710f2c[_0x5b9686(0x3d8)](0xc8)[_0x5b9686(0x683)](_0x2c1d99);})[_0x27b924(0x57f)](this['routerPath'](_0x27b924(0x45c)),..._0x258dca,async(_0x5ad749,_0x27eed8)=>{const _0x4f30ec=_0x27b924;let _0x4d22bc=await this[_0x4f30ec(0x4b8)]({'request':_0x5ad749,'schema':Za,'ClassRef':Ze,'execute':(_0x35fdce,_0xaed276)=>D[_0x4f30ec(0x45c)](_0x35fdce,_0xaed276)});return _0x27eed8['status'](0xc8)[_0x4f30ec(0x683)](_0x4d22bc);})[_0x27b924(0x370)](this[_0x27b924(0x5cf)]('updateProfilePicture'),..._0x258dca,async(_0x149a46,_0xca3fff)=>{let _0x261dec=await this['dataValidate']({'request':_0x149a46,'schema':Oe,'ClassRef':Ee,'execute':(_0x32129a,_0x1d6449)=>D['updateProfilePicture'](_0x32129a,_0x1d6449)});return _0xca3fff['status'](0xc8)['json'](_0x261dec);})[_0x27b924(0x216)](this[_0x27b924(0x5cf)]('removeProfilePicture'),..._0x258dca,async(_0x4aeaa5,_0x45b2ab)=>{const _0x342cff=_0x27b924;let _0x4e0f1c=await this['dataValidate']({'request':_0x4aeaa5,'schema':Oe,'ClassRef':Ee,'execute':(_0x18a4d1,_0x3d930b)=>D[_0x342cff(0x5ac)](_0x18a4d1,_0x3d930b)});return _0x45b2ab[_0x342cff(0x3d8)](0xc8)[_0x342cff(0x683)](_0x4e0f1c);});}},hi=require(a0_0x389422(0x1ca)),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},Pe=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0x381c6d){const _0x104fc9=a0_0x389422;super(),this[_0x104fc9(0x246)]=(0x0,hi[_0x104fc9(0x387)])(),this[_0x104fc9(0x246)][_0x104fc9(0x57f)](this[_0x104fc9(0x5cf)](_0x104fc9(0x1cc)),..._0x381c6d,async(_0x255e91,_0x1965e1)=>{const _0x302c0b=_0x104fc9;let _0x45e0d6=await this[_0x302c0b(0x4b8)]({'request':_0x255e91,'schema':ai,'ClassRef':lt,'execute':(_0x43c63d,_0xaa48f2)=>q[_0x302c0b(0x423)](_0x43c63d,_0xaa48f2)});_0x1965e1[_0x302c0b(0x3d8)](0xc9)[_0x302c0b(0x683)](_0x45e0d6);})['put'](this[_0x104fc9(0x5cf)]('updateGroupPicture'),..._0x381c6d,async(_0x2d71b3,_0xf9e893)=>{const _0x1f3b63=_0x104fc9;let _0x1b6b7e=await this[_0x1f3b63(0x804)]({'request':_0x2d71b3,'schema':ri,'ClassRef':ut,'execute':(_0x136889,_0x2259b8)=>q[_0x1f3b63(0x6a9)](_0x136889,_0x2259b8)});_0xf9e893[_0x1f3b63(0x3d8)](0xc9)[_0x1f3b63(0x683)](_0x1b6b7e);})[_0x104fc9(0x370)](this[_0x104fc9(0x5cf)](_0x104fc9(0x3a1)),..._0x381c6d,async(_0x1cf361,_0x146507)=>{const _0x219759=_0x104fc9;let _0x17c847=await this[_0x219759(0x804)]({'request':_0x1cf361,'schema':ni,'ClassRef':dt,'execute':(_0x17d6ef,_0x514355)=>q[_0x219759(0x3a1)](_0x17d6ef,_0x514355)});_0x146507[_0x219759(0x3d8)](0xc9)[_0x219759(0x683)](_0x17c847);})['put'](this[_0x104fc9(0x5cf)](_0x104fc9(0x1c1)),..._0x381c6d,async(_0x3ffca1,_0x1a534d)=>{const _0x54f18c=_0x104fc9;let _0x114a62=await this['groupValidate']({'request':_0x3ffca1,'schema':ci,'ClassRef':pt,'execute':(_0x220228,_0x543c9f)=>q[_0x54f18c(0x1c1)](_0x220228,_0x543c9f)});_0x1a534d['status'](0xc9)[_0x54f18c(0x683)](_0x114a62);})[_0x104fc9(0x370)](this[_0x104fc9(0x5cf)]('groupBetterSetting'),..._0x381c6d,async(_0x4fd601,_0x4148a5)=>{const _0x657b26=_0x104fc9;let _0x2e6d52=await this['groupValidate']({'request':_0x4fd601,'schema':ui,'ClassRef':gt,'execute':(_0x56a4eb,_0xc4962d)=>q[_0x657b26(0x325)](_0x56a4eb,_0xc4962d)});_0x4148a5[_0x657b26(0x3d8)](0xc9)[_0x657b26(0x683)](_0x2e6d52);})['put'](this[_0x104fc9(0x5cf)]('groupSetting'),..._0x381c6d,async(_0x5a2f6a,_0xec7548)=>{const _0x5a3529=_0x104fc9;let _0x42e378=await this[_0x5a3529(0x804)]({'request':_0x5a2f6a,'schema':li,'ClassRef':ht,'execute':(_0x377994,_0x1a786f)=>q[_0x5a3529(0x55b)](_0x377994,_0x1a786f)});_0xec7548[_0x5a3529(0x3d8)](0xc9)[_0x5a3529(0x683)](_0x42e378);})[_0x104fc9(0x370)](this[_0x104fc9(0x5cf)]('toggleEphemeral'),..._0x381c6d,async(_0x305cea,_0x457fb8)=>{const _0x1d524e=_0x104fc9;let _0x2c61d9=await this[_0x1d524e(0x804)]({'request':_0x305cea,'schema':oi,'ClassRef':ft,'execute':(_0x2afff0,_0x380f56)=>q[_0x1d524e(0x7c0)](_0x2afff0,_0x380f56)});_0x457fb8['status'](0xc9)['json'](_0x2c61d9);})[_0x104fc9(0x3a9)](this[_0x104fc9(0x5cf)]('findGroupInfos'),..._0x381c6d,async(_0x1b7210,_0x56910d)=>{const _0x531bdd=_0x104fc9;let _0x20ec8b=await this[_0x531bdd(0x804)]({'request':_0x1b7210,'schema':xe,'ClassRef':te,'execute':(_0x1d1f81,_0x4a13e0)=>q[_0x531bdd(0x365)](_0x1d1f81,_0x4a13e0)});_0x56910d[_0x531bdd(0x3d8)](0xc8)[_0x531bdd(0x683)](_0x20ec8b);})[_0x104fc9(0x3a9)](this[_0x104fc9(0x5cf)]('findGroups'),..._0x381c6d,async(_0x260ec,_0x5c1299)=>{const _0x436eba=_0x104fc9;let _0xa76dc5=await this[_0x436eba(0x4b8)]({'request':_0x260ec,'schema':N,'ClassRef':M,'execute':_0x13e60b=>q[_0x436eba(0x764)](_0x13e60b)});_0x5c1299[_0x436eba(0x3d8)](0xc8)[_0x436eba(0x683)](_0xa76dc5);})[_0x104fc9(0x3a9)](this['routerPath'](_0x104fc9(0x2f6)),..._0x381c6d,async(_0x1e9f3c,_0x1183a9)=>{const _0x293239=_0x104fc9;let _0xa35b0b=await this[_0x293239(0x804)]({'request':_0x1e9f3c,'schema':xe,'ClassRef':te,'execute':(_0x1c6e73,_0x5ee99a)=>q[_0x293239(0x70e)](_0x1c6e73,_0x5ee99a)});_0x1183a9[_0x293239(0x3d8)](0xc8)[_0x293239(0x683)](_0xa35b0b);})[_0x104fc9(0x3a9)](this['routerPath']('inviteCode'),..._0x381c6d,async(_0x18b2dc,_0x273df0)=>{const _0x2ef864=_0x104fc9;let _0x294f21=await this[_0x2ef864(0x804)]({'request':_0x18b2dc,'schema':xe,'ClassRef':te,'execute':(_0x310340,_0x43c2ff)=>q['inviteCode'](_0x310340,_0x43c2ff)});_0x273df0[_0x2ef864(0x3d8)](0xc8)[_0x2ef864(0x683)](_0x294f21);})[_0x104fc9(0x57f)](this['routerPath'](_0x104fc9(0x251)),..._0x381c6d,async(_0x1f54f1,_0x982bd3)=>{const _0x466c2a=_0x104fc9;let _0x3ad806=await this[_0x466c2a(0x783)]({'request':_0x1f54f1,'schema':Ns,'ClassRef':Pe,'execute':(_0xa81bdc,_0x2e7558)=>q[_0x466c2a(0x313)](_0xa81bdc,_0x2e7558)});_0x982bd3['status'](0xc9)[_0x466c2a(0x683)](_0x3ad806);})[_0x104fc9(0x370)](this[_0x104fc9(0x5cf)]('joinGroup'),..._0x381c6d,async(_0x5a2f1a,_0x3ff599)=>{const _0x576a1e=_0x104fc9;let _0x4ba26b=await this[_0x576a1e(0x783)]({'request':_0x5a2f1a,'schema':Ns,'ClassRef':Pe,'execute':(_0xff6d9e,_0x31cd63)=>q[_0x576a1e(0x75e)](_0xff6d9e,_0x31cd63)});_0x3ff599['status'](0xc9)[_0x576a1e(0x683)](_0x4ba26b);})['put'](this['routerPath']('revokeInviteCode'),..._0x381c6d,async(_0x5efb5b,_0x20f76b)=>{const _0x3799a2=_0x104fc9;let _0x4cec5e=await this[_0x3799a2(0x804)]({'request':_0x5efb5b,'schema':xe,'ClassRef':te,'execute':(_0x2ab453,_0x5e58b0)=>q[_0x3799a2(0x827)](_0x2ab453,_0x5e58b0)});_0x20f76b['status'](0xc9)[_0x3799a2(0x683)](_0x4cec5e);})[_0x104fc9(0x370)](this['routerPath'](_0x104fc9(0x80f)),..._0x381c6d,async(_0x126a65,_0x7ade75)=>{const _0x434fde=_0x104fc9;let _0xcb45b4=await this[_0x434fde(0x804)]({'request':_0x126a65,'schema':ii,'ClassRef':mt,'execute':(_0x459a16,_0x2d730b)=>q[_0x434fde(0x47a)](_0x459a16,_0x2d730b)});_0x7ade75[_0x434fde(0x3d8)](0xc9)[_0x434fde(0x683)](_0xcb45b4);})[_0x104fc9(0x216)](this[_0x104fc9(0x5cf)](_0x104fc9(0x5bb)),..._0x381c6d,async(_0x152ded,_0x38520d)=>{const _0x36e9d9=_0x104fc9;let _0xcca656=await this['groupValidate']({'request':_0x152ded,'schema':{},'ClassRef':te,'execute':(_0x21c3e2,_0xe36abc)=>q[_0x36e9d9(0x5bb)](_0x21c3e2,_0xe36abc)});_0x38520d[_0x36e9d9(0x3d8)](0xc8)[_0x36e9d9(0x683)](_0xcca656);});}},gi=require(a0_0x389422(0x1ca)),yt=class extends V{constructor(_0x37a01d,..._0x3e0d3b){const _0x1de030=a0_0x389422;super(),this['configService']=_0x37a01d,this[_0x1de030(0x246)]=(0x0,gi[_0x1de030(0x387)])();let _0x2d65f8=_0x37a01d[_0x1de030(0x3a9)]('AUTHENTICATION');this['router']['post'](_0x1de030(0x7e8),..._0x3e0d3b,async(_0x5adf0a,_0x368096)=>{const _0x2b6291=_0x1de030;let {instanceName:_0x36da2b,apikey:_0x13b456,number:_0x3fab7c}=_0x5adf0a['body'],_0x394a16=await de['createInstance']({'instanceName':_0x36da2b,'apikey':_0x13b456,'number':_0x3fab7c});return _0x368096[_0x2b6291(0x3d8)](0xc9)[_0x2b6291(0x683)](_0x394a16);})[_0x1de030(0x370)](this['routerPath']('restart'),..._0x3e0d3b,async(_0x5123b6,_0x35747b)=>{const _0x5ea556=_0x1de030;let _0x639645=await this[_0x5ea556(0x4b8)]({'request':_0x5123b6,'schema':N,'ClassRef':M,'execute':_0x1065d0=>de[_0x5ea556(0x732)](_0x1065d0)});return _0x35747b['status'](0xc8)[_0x5ea556(0x683)](_0x639645);})['get'](this[_0x1de030(0x5cf)]('connect'),..._0x3e0d3b,async(_0x5bae04,_0x53edb4)=>{const _0x1cf089=_0x1de030;let _0x1d18f5=await this[_0x1cf089(0x4b8)]({'request':_0x5bae04,'schema':N,'ClassRef':M,'execute':_0x54ce0a=>de[_0x1cf089(0x8b2)](_0x54ce0a)});return _0x53edb4[_0x1cf089(0x3d8)](0xc8)[_0x1cf089(0x683)](_0x1d18f5);})[_0x1de030(0x3a9)](this['routerPath'](_0x1de030(0x19e)),..._0x3e0d3b,async(_0x206f8e,_0x18c197)=>{const _0xe0480e=_0x1de030;let _0x365292=await this[_0xe0480e(0x4b8)]({'request':_0x206f8e,'schema':N,'ClassRef':M,'execute':_0x5f015f=>de[_0xe0480e(0x19e)](_0x5f015f)});return _0x18c197['status'](0xc8)[_0xe0480e(0x683)](_0x365292);})[_0x1de030(0x3a9)](this[_0x1de030(0x5cf)](_0x1de030(0x51d),!0x1),..._0x3e0d3b,async(_0x1c96ed,_0x190a63)=>{const _0x5732fa=_0x1de030;let _0x252c74=await this[_0x5732fa(0x4b8)]({'request':_0x1c96ed,'schema':null,'ClassRef':M,'execute':_0x52a5b2=>de[_0x5732fa(0x51d)](_0x52a5b2)});return _0x190a63['status'](0xc8)[_0x5732fa(0x683)](_0x252c74);})[_0x1de030(0x216)](this[_0x1de030(0x5cf)]('logout'),..._0x3e0d3b,async(_0x51fbf0,_0x485897)=>{const _0xbe9b29=_0x1de030;let _0xd51d50=await this[_0xbe9b29(0x4b8)]({'request':_0x51fbf0,'schema':N,'ClassRef':M,'execute':_0x432663=>de['logout'](_0x432663)});return _0x485897['status'](0xc8)[_0xbe9b29(0x683)](_0xd51d50);})[_0x1de030(0x216)](this['routerPath']('delete'),..._0x3e0d3b,async(_0x5425a2,_0x3176a3)=>{const _0x3288ac=_0x1de030;let _0x1d29cf=await this[_0x3288ac(0x4b8)]({'request':_0x5425a2,'schema':N,'ClassRef':M,'execute':_0x3834a6=>de['deleteInstance'](_0x3834a6)});return _0x3176a3[_0x3288ac(0x3d8)](0xc8)[_0x3288ac(0x683)](_0x1d29cf);});}},mi=require(a0_0x389422(0x1ca)),Rs=class{},K=class extends Rs{},bt=class extends K{},St=class extends K{},Mt=class extends K{},Ct=class extends K{},De=class extends K{},Et=class extends K{},vt=class extends K{},Nt=class extends K{},$t=class extends K{},Rt=class{},At=class extends V{constructor(..._0x32ee0d){const _0x3f29ba=a0_0x389422;super(),this[_0x3f29ba(0x246)]=(0x0,mi['Router'])(),this[_0x3f29ba(0x246)][_0x3f29ba(0x57f)](this[_0x3f29ba(0x5cf)](_0x3f29ba(0x2bd)),..._0x32ee0d,async(_0x5ab383,_0x3dc85c)=>{const _0x3d27a1=_0x3f29ba;let _0x18bcc7=await this[_0x3d27a1(0x4b8)]({'request':_0x5ab383,'schema':Pa,'ClassRef':bt,'execute':(_0x3acb5d,_0x489f2a)=>W[_0x3d27a1(0x2bd)](_0x3acb5d,_0x489f2a)});return _0x3dc85c[_0x3d27a1(0x3d8)](0xc9)[_0x3d27a1(0x683)](_0x18bcc7);})[_0x3f29ba(0x57f)](this[_0x3f29ba(0x5cf)](_0x3f29ba(0x48b)),..._0x32ee0d,async(_0x223bbd,_0x4d6b19)=>{const _0xf7fca3=_0x3f29ba;let _0x54aec0=await this[_0xf7fca3(0x4b8)]({'request':_0x223bbd,'schema':Fa,'ClassRef':De,'execute':(_0x2cd44d,_0x37d04d)=>W[_0xf7fca3(0x48b)](_0x2cd44d,_0x37d04d)});return _0x4d6b19[_0xf7fca3(0x3d8)](0xc9)[_0xf7fca3(0x683)](_0x54aec0);})[_0x3f29ba(0x57f)](this[_0x3f29ba(0x5cf)](_0x3f29ba(0x1d4)),..._0x32ee0d,async(_0x155e0f,_0xd112fb)=>{const _0x25ce54=_0x3f29ba;let _0x4b0839=await this[_0x25ce54(0x4b8)]({'request':_0x155e0f,'schema':Ja,'ClassRef':Ct,'execute':(_0x5e6500,_0x1988d6)=>W[_0x25ce54(0x1d4)](_0x5e6500,_0x1988d6)});return _0xd112fb['status'](0xc9)[_0x25ce54(0x683)](_0x4b0839);})[_0x3f29ba(0x57f)](this['routerPath']('sendWhatsAppAudio'),..._0x32ee0d,async(_0x482505,_0x35f964)=>{const _0xd5bb83=_0x3f29ba;let _0x1978bf=await this['dataValidate']({'request':_0x482505,'schema':Ua,'ClassRef':De,'execute':(_0x15978a,_0x22746d)=>W[_0xd5bb83(0x695)](_0x15978a,_0x22746d)});return _0x35f964[_0xd5bb83(0x3d8)](0xc9)[_0xd5bb83(0x683)](_0x1978bf);})[_0x3f29ba(0x57f)](this[_0x3f29ba(0x5cf)](_0x3f29ba(0x79c)),..._0x32ee0d,async(_0x234e9f,_0x3d7688)=>{const _0x2106ef=_0x3f29ba;let _0x5cd50d=await this[_0x2106ef(0x4b8)]({'request':_0x234e9f,'schema':qa,'ClassRef':vt,'execute':(_0x9df21,_0x11cbe5)=>W[_0x2106ef(0x79c)](_0x9df21,_0x11cbe5)});return _0x3d7688[_0x2106ef(0x3d8)](0xc9)['json'](_0x5cd50d);})[_0x3f29ba(0x57f)](this['routerPath']('sendList'),..._0x32ee0d,async(_0x4252fc,_0x1a35a4)=>{const _0x32b8ce=_0x3f29ba;let _0x5d164c=await this['dataValidate']({'request':_0x4252fc,'schema':Va,'ClassRef':Nt,'execute':(_0x313d72,_0x52b341)=>W[_0x32b8ce(0x310)](_0x313d72,_0x52b341)});return _0x1a35a4['status'](0xc9)['json'](_0x5d164c);})[_0x3f29ba(0x57f)](this[_0x3f29ba(0x5cf)](_0x3f29ba(0x296)),..._0x32ee0d,async(_0x129aca,_0x2eed9c)=>{const _0x50892b=_0x3f29ba;let _0x3586e8=await this[_0x50892b(0x4b8)]({'request':_0x129aca,'schema':Ga,'ClassRef':$t,'execute':(_0x3ee07d,_0x1b835b)=>W[_0x50892b(0x296)](_0x3ee07d,_0x1b835b)});return _0x2eed9c[_0x50892b(0x3d8)](0xc9)[_0x50892b(0x683)](_0x3586e8);})[_0x3f29ba(0x57f)](this[_0x3f29ba(0x5cf)](_0x3f29ba(0x5af)),..._0x32ee0d,async(_0x1054d1,_0x52ad3e)=>{const _0x464b4e=_0x3f29ba;let _0x544e88=await this[_0x464b4e(0x4b8)]({'request':_0x1054d1,'schema':Ba,'ClassRef':Rt,'execute':(_0x3f296e,_0x30d845)=>W[_0x464b4e(0x5af)](_0x3f296e,_0x30d845)});return _0x52ad3e[_0x464b4e(0x3d8)](0xc9)[_0x464b4e(0x683)](_0x544e88);})[_0x3f29ba(0x57f)](this[_0x3f29ba(0x5cf)](_0x3f29ba(0x49f)),..._0x32ee0d,async(_0x14d173,_0xa13d83)=>{const _0x20dc41=_0x3f29ba;let _0x1be9fc=await this[_0x20dc41(0x4b8)]({'request':_0x14d173,'schema':ja,'ClassRef':Mt,'execute':(_0xfe154,_0xa5248f)=>W[_0x20dc41(0x49f)](_0xfe154,_0xa5248f)});return _0xa13d83[_0x20dc41(0x3d8)](0xc9)[_0x20dc41(0x683)](_0x1be9fc);})[_0x3f29ba(0x57f)](this[_0x3f29ba(0x5cf)]('sendStatus'),..._0x32ee0d,async(_0x2ffdd9,_0x314f2d)=>{const _0x47569d=_0x3f29ba;let _0x42cde8=await this[_0x47569d(0x4b8)]({'request':_0x2ffdd9,'schema':La,'ClassRef':St,'execute':(_0x55bb78,_0x4b5767)=>W[_0x47569d(0x7fa)](_0x55bb78,_0x4b5767)});return _0x314f2d[_0x47569d(0x3d8)](0xc9)[_0x47569d(0x683)](_0x42cde8);})[_0x3f29ba(0x57f)](this['routerPath']('sendSticker'),..._0x32ee0d,async(_0x35451f,_0x1e46c8)=>{const _0x3e9198=_0x3f29ba;let _0x285b43=await this[_0x3e9198(0x4b8)]({'request':_0x35451f,'schema':ka,'ClassRef':Et,'execute':(_0x5b7447,_0x22a477)=>W[_0x3e9198(0x60e)](_0x5b7447,_0x22a477)});return _0x1e46c8[_0x3e9198(0x3d8)](0xc9)[_0x3e9198(0x683)](_0x285b43);});}},fi=require('express'),Tt=class{},It=class extends V{constructor(..._0x3d9460){const _0xfa6599=a0_0x389422;super(),this[_0xfa6599(0x246)]=(0x0,fi[_0xfa6599(0x387)])(),this[_0xfa6599(0x246)][_0xfa6599(0x57f)](this[_0xfa6599(0x5cf)]('set'),..._0x3d9460,async(_0xfd12b6,_0x61fae0)=>{const _0x14b9c8=_0xfa6599;let _0x133312=await this[_0x14b9c8(0x4b8)]({'request':_0xfd12b6,'schema':di,'ClassRef':Tt,'execute':(_0x7f2cb2,_0xbdb2f0)=>As[_0x14b9c8(0x600)](_0x7f2cb2,_0xbdb2f0)});_0x61fae0['status'](0xc9)[_0x14b9c8(0x683)](_0x133312);})[_0xfa6599(0x3a9)](this[_0xfa6599(0x5cf)](_0xfa6599(0x428)),..._0x3d9460,async(_0x5bc715,_0x5a6821)=>{const _0x4d8ceb=_0xfa6599;let _0x3fdbc1=await this[_0x4d8ceb(0x4b8)]({'request':_0x5bc715,'schema':N,'ClassRef':M,'execute':_0x1d3d85=>As[_0x4d8ceb(0x655)](_0x1d3d85)});_0x5a6821['status'](0xc8)[_0x4d8ceb(0x683)](_0x3fdbc1);});}},wi=require('express'),y=new $(a0_0x389422(0x5d6)),_t=class extends V{constructor(..._0x1ca478){const _0x213665=a0_0x389422;super(),this[_0x213665(0x246)]=(0x0,wi[_0x213665(0x387)])(),this[_0x213665(0x246)][_0x213665(0x57f)](this['routerPath']('scheduleMessage'),..._0x1ca478,async(_0x1a67d4,_0x281ea4)=>{const _0x586ac8=_0x213665;let _0xd9ac52=_0x1a67d4[_0x586ac8(0x8ce)];y[_0x586ac8(0x2b6)](_0x586ac8(0x7d4)),y[_0x586ac8(0x2b6)](_0x586ac8(0x396)),y[_0x586ac8(0x2b6)](_0x1a67d4[_0x586ac8(0x8ce)]);let _0x20e625=await this[_0x586ac8(0x4b8)]({'request':_0x1a67d4,'schema':N,'ClassRef':M,'execute':_0x30c31b=>O[_0x586ac8(0x5cb)](_0x30c31b,_0xd9ac52)});_0x281ea4[_0x586ac8(0x3d8)](0xc8)[_0x586ac8(0x683)](_0x20e625);})[_0x213665(0x3a9)](this[_0x213665(0x5cf)](_0x213665(0x627)),..._0x1ca478,async(_0x295ce8,_0x3a0e56)=>{const _0x4d2e7f=_0x213665;let _0x5b8ca2=await this[_0x4d2e7f(0x4b8)]({'request':_0x295ce8,'schema':N,'ClassRef':M,'execute':_0xe0ddab=>O[_0x4d2e7f(0x4b6)](_0xe0ddab)});_0x3a0e56[_0x4d2e7f(0x3d8)](0xc8)[_0x4d2e7f(0x683)](_0x5b8ca2);})[_0x213665(0x216)](this[_0x213665(0x5cf)](_0x213665(0x623)),..._0x1ca478,async(_0xb33fc3,_0x12880a)=>{const _0x1d894f=_0x213665;y[_0x1d894f(0x2b6)](_0x1d894f(0x76e));let _0x2c0689=await this[_0x1d894f(0x4b8)]({'request':_0xb33fc3,'schema':N,'ClassRef':M,'execute':_0x5aacad=>O[_0x1d894f(0x623)](_0x5aacad)});_0x12880a[_0x1d894f(0x3d8)](0xc8)[_0x1d894f(0x683)](_0x2c0689);})[_0x213665(0x57f)](this[_0x213665(0x5cf)](_0x213665(0x782)),..._0x1ca478,async(_0x20588f,_0x251e27)=>{const _0x23daa0=_0x213665;let _0x3e0679=_0x20588f[_0x23daa0(0x8ce)];y['verbose']('request\x20received\x20in\x20starFlow'),y[_0x23daa0(0x2b6)](_0x23daa0(0x396)),y[_0x23daa0(0x2b6)](_0x20588f[_0x23daa0(0x8ce)]);let _0x16bf09=await this[_0x23daa0(0x4b8)]({'request':_0x20588f,'schema':N,'ClassRef':M,'execute':_0x15452a=>O['startFlow'](_0x15452a,_0x3e0679)});_0x251e27[_0x23daa0(0x3d8)](0xc8)[_0x23daa0(0x683)](_0x16bf09);})[_0x213665(0x3a9)](this[_0x213665(0x5cf)](_0x213665(0x87a)),..._0x1ca478,async(_0x11b618,_0x49d0b5)=>{const _0x4657ee=_0x213665;y['verbose'](_0x4657ee(0x3f9));let _0x5afe39=await this[_0x4657ee(0x4b8)]({'request':_0x11b618,'schema':N,'ClassRef':M,'execute':_0x3438dd=>O[_0x4657ee(0x87a)](_0x3438dd)});_0x49d0b5[_0x4657ee(0x3d8)](0xc8)[_0x4657ee(0x683)](_0x5afe39);})['get'](this[_0x213665(0x5cf)](_0x213665(0x1e9)),..._0x1ca478,async(_0x6187b1,_0x31fe5a)=>{const _0x5e8954=_0x213665;y[_0x5e8954(0x2b6)](_0x5e8954(0x6e3));let _0x3ff1a6=await this[_0x5e8954(0x4b8)]({'request':_0x6187b1,'schema':N,'ClassRef':M,'execute':_0x2da805=>O[_0x5e8954(0x87a)](_0x2da805)});_0x31fe5a[_0x5e8954(0x3d8)](0xc8)[_0x5e8954(0x683)](_0x3ff1a6);})[_0x213665(0x57f)](this[_0x213665(0x5cf)](_0x213665(0x33e)),..._0x1ca478,async(_0x5e2532,_0x1c87c6)=>{const _0x1c3834=_0x213665;let _0x5e8e7a=_0x5e2532[_0x1c3834(0x8ce)];y['verbose']('request\x20received\x20in\x20updateAgent'),y[_0x1c3834(0x2b6)](_0x1c3834(0x396)),y[_0x1c3834(0x2b6)](_0x5e2532[_0x1c3834(0x8ce)]);let _0x5769bd=await this['dataValidate']({'request':_0x5e2532,'schema':N,'ClassRef':M,'execute':_0x5b9366=>O['updateAgent'](_0x5b9366,_0x5e8e7a)});_0x1c87c6[_0x1c3834(0x3d8)](0xc8)[_0x1c3834(0x683)](_0x5769bd);})[_0x213665(0x57f)](this['routerPath'](_0x213665(0x682)),..._0x1ca478,async(_0x403a79,_0x364f79)=>{const _0x30d42e=_0x213665;let _0x47f4a0=_0x403a79[_0x30d42e(0x8ce)];y['verbose']('request\x20received\x20in\x20updateCustomFields'),y['verbose'](_0x30d42e(0x396)),y['verbose'](_0x403a79['body']);let _0x5bd7af=await this[_0x30d42e(0x4b8)]({'request':_0x403a79,'schema':N,'ClassRef':M,'execute':_0x15b7b5=>O[_0x30d42e(0x682)](_0x15b7b5,_0x47f4a0)});_0x364f79[_0x30d42e(0x3d8)](0xc8)['json'](_0x5bd7af);})[_0x213665(0x57f)](this['routerPath'](_0x213665(0x188)),..._0x1ca478,async(_0xb800f,_0x808b23)=>{const _0x1f1c47=_0x213665;let _0xee6113=_0xb800f[_0x1f1c47(0x8ce)];y[_0x1f1c47(0x2b6)]('request\x20received\x20in\x20updateAutoCompleteMessages'),y[_0x1f1c47(0x2b6)](_0x1f1c47(0x396)),y[_0x1f1c47(0x2b6)](_0xb800f[_0x1f1c47(0x8ce)]);let _0x1a3f52=await this[_0x1f1c47(0x4b8)]({'request':_0xb800f,'schema':N,'ClassRef':M,'execute':_0x49180a=>O[_0x1f1c47(0x188)](_0x49180a,_0xee6113)});_0x808b23[_0x1f1c47(0x3d8)](0xc8)[_0x1f1c47(0x683)](_0x1a3f52);})[_0x213665(0x57f)](this['routerPath'](_0x213665(0x302)),..._0x1ca478,async(_0x2d4db5,_0x21d846)=>{const _0x5626aa=_0x213665;let _0x467519=_0x2d4db5['body'];y[_0x5626aa(0x2b6)](_0x5626aa(0x1d6)),y[_0x5626aa(0x2b6)]('request\x20body:\x20'),y[_0x5626aa(0x2b6)](_0x2d4db5[_0x5626aa(0x8ce)]);let _0x1eb97f=await this[_0x5626aa(0x4b8)]({'request':_0x2d4db5,'schema':N,'ClassRef':M,'execute':_0x2b40b6=>O[_0x5626aa(0x302)](_0x2b40b6,_0x467519)});_0x21d846[_0x5626aa(0x3d8)](0xc8)[_0x5626aa(0x683)](_0x1eb97f);})[_0x213665(0x57f)](this[_0x213665(0x5cf)]('getConversation'),..._0x1ca478,async(_0x1edf34,_0x8034a)=>{const _0x2f2995=_0x213665;let _0x2b6a9b=_0x1edf34[_0x2f2995(0x8ce)];y[_0x2f2995(0x2b6)](_0x2f2995(0x5f5)),y[_0x2f2995(0x2b6)]('request\x20body:\x20'),y[_0x2f2995(0x2b6)](_0x1edf34['body']);let _0x9e1ad4=await this[_0x2f2995(0x4b8)]({'request':_0x1edf34,'schema':N,'ClassRef':M,'execute':_0x1d2d2c=>O['getConversation'](_0x1d2d2c,_0x2b6a9b)});_0x8034a[_0x2f2995(0x3d8)](0xc8)[_0x2f2995(0x683)](_0x9e1ad4);})[_0x213665(0x57f)](this[_0x213665(0x5cf)](_0x213665(0x27d)),..._0x1ca478,async(_0x3c28a4,_0x3b905e)=>{const _0x3d6607=_0x213665;let _0x49c87c=_0x3c28a4[_0x3d6607(0x8ce)];y[_0x3d6607(0x2b6)]('request\x20received\x20in\x20fetchConversation'),y[_0x3d6607(0x2b6)]('request\x20body:\x20'),y[_0x3d6607(0x2b6)](_0x3c28a4['body']);let _0x1f88d1=await this[_0x3d6607(0x4b8)]({'request':_0x3c28a4,'schema':N,'ClassRef':M,'execute':_0x2ad092=>O[_0x3d6607(0x27d)](_0x2ad092,_0x49c87c)});_0x3b905e[_0x3d6607(0x3d8)](0xc8)[_0x3d6607(0x683)](_0x1f88d1);})['post'](this[_0x213665(0x5cf)](_0x213665(0x5db)),..._0x1ca478,async(_0x46947b,_0xeec91c)=>{const _0x12df97=_0x213665;let _0x4b26c1=_0x46947b[_0x12df97(0x8ce)];y[_0x12df97(0x2b6)](_0x12df97(0x636)),y[_0x12df97(0x2b6)](_0x12df97(0x396)),y['verbose'](_0x46947b['body']);let _0x4a9b78=await this['dataValidate']({'request':_0x46947b,'schema':N,'ClassRef':M,'execute':_0x447d22=>O[_0x12df97(0x5db)](_0x447d22,_0x4b26c1)});_0xeec91c[_0x12df97(0x3d8)](0xc8)[_0x12df97(0x683)](_0x4a9b78);})['delete'](this[_0x213665(0x5cf)](_0x213665(0x22f)),..._0x1ca478,async(_0x4f972d,_0x48a8ae)=>{const _0x5650a9=_0x213665;let _0x4009e4=_0x4f972d[_0x5650a9(0x8ce)];y[_0x5650a9(0x2b6)](_0x5650a9(0x70c)),y[_0x5650a9(0x2b6)](_0x5650a9(0x396)),y['verbose'](_0x4f972d['body']);let _0x14c7a8=await this[_0x5650a9(0x4b8)]({'request':_0x4f972d,'schema':N,'ClassRef':M,'execute':_0x216a30=>O[_0x5650a9(0x22f)](_0x216a30,_0x4009e4)});_0x48a8ae[_0x5650a9(0x3d8)](0xc8)[_0x5650a9(0x683)](_0x14c7a8);})[_0x213665(0x57f)](this[_0x213665(0x5cf)]('createflow'),..._0x1ca478,async(_0x2c3bd1,_0x3ae68e)=>{const _0x4a9d9b=_0x213665;let _0x4bdccb=_0x2c3bd1['body'],_0x5ce049=_0x2c3bd1[_0x4a9d9b(0x672)][_0x4a9d9b(0x34b)];y[_0x4a9d9b(0x2b6)](_0x4a9d9b(0x53b)),y[_0x4a9d9b(0x2b6)](_0x4a9d9b(0x396)),y[_0x4a9d9b(0x2b6)](_0x2c3bd1[_0x4a9d9b(0x8ce)]);let _0x38cb19=await this['dataValidate']({'request':_0x2c3bd1,'schema':N,'ClassRef':M,'execute':_0x1d2690=>O[_0x4a9d9b(0x2ff)](_0x1d2690,_0x4bdccb,_0x5ce049)});_0x3ae68e[_0x4a9d9b(0x3d8)](0xc8)[_0x4a9d9b(0x683)](_0x38cb19);})['post'](this['routerPath'](_0x213665(0x86c)),..._0x1ca478,async(_0x3c3d8f,_0x25dff5)=>{const _0x4b5c53=_0x213665;let _0x15407d=_0x3c3d8f[_0x4b5c53(0x8ce)],_0x5850c7=_0x3c3d8f[_0x4b5c53(0x672)][_0x4b5c53(0x34b)];y[_0x4b5c53(0x2b6)](_0x4b5c53(0x2df)),y[_0x4b5c53(0x2b6)](_0x4b5c53(0x396)),y[_0x4b5c53(0x2b6)](_0x3c3d8f[_0x4b5c53(0x8ce)]),delete _0x15407d[_0x4b5c53(0x78b)],delete _0x15407d[_0x4b5c53(0x4a3)],delete _0x15407d['groups'],delete _0x15407d[_0x4b5c53(0x6d7)];let _0xd6aec9=await this[_0x4b5c53(0x4b8)]({'request':_0x3c3d8f,'schema':N,'ClassRef':M,'execute':_0x39caa1=>O[_0x4b5c53(0x3b3)](_0x39caa1,_0x15407d,_0x5850c7)});_0x25dff5[_0x4b5c53(0x3d8)](0xc8)[_0x4b5c53(0x683)](_0xd6aec9);})['post'](this[_0x213665(0x5cf)]('editflowblock'),..._0x1ca478,async(_0x5efffd,_0x4e9920)=>{const _0x5315fc=_0x213665;let _0x1f96b0=_0x5efffd[_0x5315fc(0x8ce)];y['verbose'](_0x5315fc(0x2df)),y[_0x5315fc(0x2b6)](_0x5315fc(0x396)),y[_0x5315fc(0x2b6)](_0x5efffd[_0x5315fc(0x8ce)]);let _0x32c692=await this[_0x5315fc(0x4b8)]({'request':_0x5efffd,'schema':N,'ClassRef':M,'execute':_0x12c153=>O[_0x5315fc(0x5bf)](_0x12c153,_0x1f96b0)});_0x4e9920['status'](0xc8)['json'](_0x32c692);})[_0x213665(0x57f)](this['routerPath'](_0x213665(0x879)),..._0x1ca478,async(_0x5c9e6a,_0x6a7f69)=>{const _0x671a43=_0x213665;let _0x2c92de=_0x5c9e6a[_0x671a43(0x8ce)];y['verbose'](_0x671a43(0x2df)),y[_0x671a43(0x2b6)](_0x671a43(0x396)),y[_0x671a43(0x2b6)](_0x5c9e6a['body']);let _0x4e787a=await this[_0x671a43(0x4b8)]({'request':_0x5c9e6a,'schema':N,'ClassRef':M,'execute':_0xd7fa0=>O[_0x671a43(0x4b9)](_0xd7fa0,_0x2c92de)});_0x6a7f69[_0x671a43(0x3d8)](0xc8)[_0x671a43(0x683)](_0x4e787a);})[_0x213665(0x57f)](this['routerPath'](_0x213665(0x567)),..._0x1ca478,async(_0x55d4f6,_0x1c9ed5)=>{const _0x5877ed=_0x213665;let _0x66975f=_0x55d4f6['body'];y[_0x5877ed(0x2b6)](_0x5877ed(0x2df)),y[_0x5877ed(0x2b6)](_0x5877ed(0x396)),y[_0x5877ed(0x2b6)](_0x55d4f6[_0x5877ed(0x8ce)]);let _0x318ba1=await this['dataValidate']({'request':_0x55d4f6,'schema':N,'ClassRef':M,'execute':_0x1297f5=>O[_0x5877ed(0x5cd)](_0x1297f5,_0x66975f)});_0x1c9ed5['status'](0xc8)[_0x5877ed(0x683)](_0x318ba1);})[_0x213665(0x57f)](this[_0x213665(0x5cf)](_0x213665(0x89b)),..._0x1ca478,async(_0x5583e7,_0x5b4f46)=>{const _0x565ad6=_0x213665;let _0x37bc02=_0x5583e7[_0x565ad6(0x8ce)];y[_0x565ad6(0x2b6)](_0x565ad6(0x3c5)),y[_0x565ad6(0x2b6)](_0x565ad6(0x396)),y[_0x565ad6(0x2b6)](_0x5583e7[_0x565ad6(0x8ce)]);let _0x12fcc6=await this[_0x565ad6(0x4b8)]({'request':_0x5583e7,'schema':N,'ClassRef':M,'execute':_0x374ab9=>O[_0x565ad6(0x80d)](_0x374ab9,_0x37bc02)});_0x5b4f46[_0x565ad6(0x3d8)](0xc8)['json'](_0x12fcc6);})[_0x213665(0x57f)](this['routerPath'](_0x213665(0x5c2)),..._0x1ca478,async(_0xc1772d,_0x591fe1)=>{const _0x57f4d6=_0x213665;let _0x1381d7=_0xc1772d[_0x57f4d6(0x8ce)];y[_0x57f4d6(0x2b6)](_0x57f4d6(0x706)),y[_0x57f4d6(0x2b6)]('request\x20body:\x20'),y[_0x57f4d6(0x2b6)](_0xc1772d[_0x57f4d6(0x8ce)]);let _0x4e851f=await this[_0x57f4d6(0x4b8)]({'request':_0xc1772d,'schema':N,'ClassRef':M,'execute':_0x4dcd70=>O[_0x57f4d6(0x252)](_0x4dcd70,_0x1381d7)});_0x591fe1['status'](0xc8)[_0x57f4d6(0x683)](_0x4e851f);})['post'](this[_0x213665(0x5cf)](_0x213665(0x601)),..._0x1ca478,async(_0x5e9d56,_0x1c26ff)=>{const _0x172873=_0x213665;let _0x464605=_0x5e9d56[_0x172873(0x8ce)];y[_0x172873(0x2b6)](_0x172873(0x77d)),y['verbose'](_0x172873(0x396)),y[_0x172873(0x2b6)](_0x5e9d56[_0x172873(0x8ce)]);let _0x5dc1c4=await this[_0x172873(0x4b8)]({'request':_0x5e9d56,'schema':N,'ClassRef':M,'execute':_0x30e55b=>O['editFlowVariable'](_0x30e55b,_0x464605)});_0x1c26ff[_0x172873(0x3d8)](0xc8)['json'](_0x5dc1c4);})[_0x213665(0x57f)](this[_0x213665(0x5cf)](_0x213665(0x581)),..._0x1ca478,async(_0x45e4d6,_0x14a5c7)=>{const _0x33d202=_0x213665;let _0xf986f0=_0x45e4d6[_0x33d202(0x8ce)];y[_0x33d202(0x2b6)](_0x33d202(0x754)),y[_0x33d202(0x2b6)](_0x33d202(0x396)),y[_0x33d202(0x2b6)](_0x45e4d6[_0x33d202(0x8ce)]);let _0x1a6998=await this[_0x33d202(0x4b8)]({'request':_0x45e4d6,'schema':N,'ClassRef':M,'execute':_0x145dff=>O[_0x33d202(0x6e2)](_0x145dff,_0xf986f0)});_0x14a5c7['status'](0xc8)[_0x33d202(0x683)](_0x1a6998);})[_0x213665(0x216)](this[_0x213665(0x5cf)]('deleteflow'),..._0x1ca478,async(_0x14bd7a,_0x27796f)=>{const _0x5d51fc=_0x213665;let _0x19bbba=_0x14bd7a[_0x5d51fc(0x8ce)];y['verbose']('request\x20received\x20in\x20deleteFlow'),y[_0x5d51fc(0x2b6)](_0x5d51fc(0x396)),y[_0x5d51fc(0x2b6)](_0x14bd7a[_0x5d51fc(0x8ce)]);let _0x31acbf=await this[_0x5d51fc(0x4b8)]({'request':_0x14bd7a,'schema':N,'ClassRef':M,'execute':_0x3096ed=>O['deleteFlow'](_0x3096ed,_0x19bbba)});_0x27796f['status'](0xc8)[_0x5d51fc(0x683)](_0x31acbf);})[_0x213665(0x3a9)](this['routerPath'](_0x213665(0x74d)),..._0x1ca478,async(_0x523d4e,_0x114400)=>{const _0x18bd2a=_0x213665;y[_0x18bd2a(0x2b6)]('request\x20received\x20in\x20allFlows');let _0x1073f2=await this[_0x18bd2a(0x4b8)]({'request':_0x523d4e,'schema':N,'ClassRef':M,'execute':_0x587bc9=>O['allFlows'](_0x587bc9)});_0x114400[_0x18bd2a(0x3d8)](0xc8)[_0x18bd2a(0x683)](_0x1073f2);});}},Mi=I(require('path')),se={};function yi(_0x47bf89,_0x526d58,_0x2c3235,_0x49762c){se[_0x47bf89]||(se[_0x47bf89]={}),se[_0x47bf89][_0x526d58]={'id':_0x526d58,'response':_0x2c3235,'events':_0x49762c};}function bi(_0x587b70,_0x8062fc){!se[_0x587b70]||!se[_0x587b70][_0x8062fc]||delete se[_0x587b70][_0x8062fc];}function F(_0x4a9e56,_0x450610,_0x4ec5d9){const _0x105267=a0_0x389422;if(!se[_0x4a9e56])return;let _0xf98c06=_0x105267(0x54c)+JSON[_0x105267(0x2d0)](_0x4ec5d9)+'\x0a\x0a';Object['values'](se[_0x4a9e56])['forEach'](_0x2139a9=>{const _0x222930=_0x105267;_0x2139a9[_0x222930(0x7c4)][_0x222930(0x908)](_0x450610)&&_0x2139a9['response'][_0x222930(0x1e7)](_0xf98c06);});}function Si(){const _0x186cec=a0_0x389422;let _0xcdb293={};for(let _0x3a4a90 in se)_0xcdb293[_0x3a4a90]=Object[_0x186cec(0x6eb)](se[_0x3a4a90])['map'](_0x2bde9a=>({'id':_0x2bde9a['id'],'events':_0x2bde9a[_0x186cec(0x7c4)]}));return _0xcdb293;}var Ci=require('uuid'),Is=require(a0_0x389422(0x201)),Ts=class{},To=new Is[(a0_0x389422(0x7e1))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Io=new Is[(a0_0x389422(0x7e1))]({'_id':{'type':String,'default':a0_0x389422(0x420)},'WebhookGlobal':{'type':To},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=T?.[a0_0x389422(0x217)](Ts[a0_0x389422(0x467)],Io,'All_Instances_Config'),_o=Mi[a0_0x389422(0x37f)][a0_0x389422(0x5ee)](__dirname,a0_0x389422(0x3b6)),ke=(0x0,Ot[a0_0x389422(0x387)])(),Oo=S[a0_0x389422(0x3a9)]('AUTHENTICATION')[a0_0x389422(0x8bf)],re=[Aa,Ta,Oa[Oo]];ke[a0_0x389422(0x312)]('/media',Ot['default']['static'](_o))[a0_0x389422(0x3a9)]('/events/:instance',async(_0x43afde,_0x586b35)=>{const _0x3deee3=a0_0x389422;console[_0x3deee3(0x361)]('bateu\x20events');let _0x466510=_0x43afde['params']['instance'],_0x4c6e14=(_0x43afde['query']['events']||'')[_0x3deee3(0x1eb)](','),_0x44476b=(0x0,Ci['v4'])();console[_0x3deee3(0x361)](_0x3deee3(0x68a),_0x466510),console['log'](_0x3deee3(0x1a0),_0x4c6e14);let _0x266af7=S[_0x3deee3(0x3a9)](_0x3deee3(0x6f6))[_0x3deee3(0x48d)],_0x1f3856=_0x43afde[_0x3deee3(0x279)][_0x3deee3(0x34b)];if(console[_0x3deee3(0x361)](_0x3deee3(0x7be),_0x1f3856),_0x266af7[_0x3deee3(0x432)]!==_0x1f3856){console['log'](_0x3deee3(0x752));try{let _0x2731c7=await fe[_0x3deee3(0x32a)][_0x3deee3(0x428)](_0x466510);if(console['log'](_0x3deee3(0x473),_0x2731c7),!_0x2731c7||_0x2731c7[_0x3deee3(0x34b)]!==_0x1f3856)return console[_0x3deee3(0x361)](_0x3deee3(0x3d9)),_0x586b35['status'](0x191)[_0x3deee3(0x61f)](_0x3deee3(0x1a1));}catch(_0xbb3133){return console['error'](_0x3deee3(0x36c),_0xbb3133),_0x586b35[_0x3deee3(0x3d8)](0x191)[_0x3deee3(0x61f)](_0x3deee3(0x6d0));}}if(!await _e(_0x466510))return _0x586b35['status'](0x194)[_0x3deee3(0x61f)](_0x3deee3(0x72b));_0x586b35[_0x3deee3(0x760)](_0x3deee3(0x5ed),_0x3deee3(0x48c)),_0x586b35[_0x3deee3(0x760)](_0x3deee3(0x1b4),'no-cache'),_0x586b35['setHeader']('Connection',_0x3deee3(0x7a7)),_0x586b35[_0x3deee3(0x5b5)]();let _0x49dba4=_0x3deee3(0x54c)+JSON[_0x3deee3(0x2d0)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x586b35[_0x3deee3(0x1e7)](_0x49dba4),yi(_0x466510,_0x44476b,_0x586b35,_0x4c6e14),_0x43afde['on'](_0x3deee3(0x253),()=>{const _0x4148e7=_0x3deee3;console[_0x4148e7(0x361)](_0x4148e7(0x622)+_0x466510),bi(_0x466510,_0x44476b);});}),ke['post']('/startFlow/:instance/:startID',async(_0x3bd63e,_0x30e4a1)=>{const _0x16a804=a0_0x389422;console[_0x16a804(0x361)](_0x16a804(0x3ca));let _0x328d94=_0x3bd63e[_0x16a804(0x271)][_0x16a804(0x248)],_0x3ef72f=_0x3bd63e[_0x16a804(0x271)][_0x16a804(0x87e)],_0x112eff=_0x3bd63e[_0x16a804(0x279)][_0x16a804(0x897)]||'',_0x24c49e=_0x3bd63e[_0x16a804(0x8ce)];console[_0x16a804(0x361)](_0x16a804(0x1b8),_0x328d94),console[_0x16a804(0x361)]('StartID:',_0x3ef72f),console['log'](_0x16a804(0x699),_0x112eff),console['log']('Request\x20Body:',_0x24c49e);try{if(!await _e(_0x328d94))return _0x30e4a1['status'](0x194)[_0x16a804(0x61f)](_0x16a804(0x72b));let _0x311f1b=await O[_0x16a804(0x276)](_0x328d94,_0x3ef72f,_0x112eff,_0x24c49e);_0x30e4a1[_0x16a804(0x61f)](_0x311f1b);}catch(_0x56c3b1){console[_0x16a804(0x5b6)](_0x56c3b1),_0x30e4a1['status'](0x1f4)['send']('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),ke[a0_0x389422(0x3a9)](a0_0x389422(0x5f1),(_0x4f755c,_0x5e9d80)=>{let _0x4e49c7=Si();_0x5e9d80['json'](_0x4e49c7);})[a0_0x389422(0x3a9)]('/',(_0x5958f1,_0x3bd188)=>{const _0x276f1=a0_0x389422;let _0x22f917=S[_0x276f1(0x3a9)](_0x276f1(0x605))[_0x276f1(0x51a)];if(_0x22f917){let _0x4bae83=encodeURIComponent(''+_0x22f917);_0x3bd188[_0x276f1(0x508)](_0x276f1(0x249)+_0x4bae83);return;}let _0xde6f62=S[_0x276f1(0x3a9)](_0x276f1(0x320)),_0x4c80a4=_0xde6f62&&_0xde6f62['FULLCHAIN']['split']('/')[0x4];if(_0x4c80a4){let _0x4a1946=encodeURIComponent(_0x276f1(0x2cd)+_0x4c80a4);_0x3bd188[_0x276f1(0x508)](_0x276f1(0x249)+_0x4a1946);}else _0x3bd188[_0x276f1(0x508)](_0x276f1(0x49b));})[a0_0x389422(0x370)](a0_0x389422(0x368),...re,async(_0x2743d7,_0x26ad3e)=>{const _0x4dd9c4=a0_0x389422;try{console[_0x4dd9c4(0x361)](_0x4dd9c4(0x75f)),_0x26ad3e[_0x4dd9c4(0x3d8)](0xc8)[_0x4dd9c4(0x683)]({'message':_0x4dd9c4(0x27b)}),_0x26ad3e['on'](_0x4dd9c4(0x744),()=>process['exit'](0x0));}catch(_0x4289b9){console[_0x4dd9c4(0x5b6)](_0x4dd9c4(0x415),_0x4289b9),_0x26ad3e[_0x4dd9c4(0x3d8)](0x1f4)[_0x4dd9c4(0x683)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x389422(0x370)](a0_0x389422(0x511),...re,async(_0x57aef4,_0x4ee2bd)=>{const _0x383dd6=a0_0x389422;try{let _0x502100=_0x57aef4['body'];await ve[_0x383dd6(0x2d5)]({},{'$set':_0x502100},{'upsert':!0x0});let _0x2b2957=await ve[_0x383dd6(0x892)]();_0x4ee2bd[_0x383dd6(0x683)](_0x2b2957);}catch(_0x449f96){_0x4ee2bd['status'](0x190)[_0x383dd6(0x61f)](_0x449f96[_0x383dd6(0x582)]);}})[a0_0x389422(0x3a9)](a0_0x389422(0x511),...re,async(_0x4e08d1,_0x39f23e)=>{const _0x30d9ee=a0_0x389422;try{let _0x5267dc=await ve[_0x30d9ee(0x892)]();if(!_0x5267dc)return _0x39f23e[_0x30d9ee(0x683)]({});_0x39f23e['json'](_0x5267dc);}catch(_0x5e41c7){_0x39f23e[_0x30d9ee(0x3d8)](0x1f4)[_0x30d9ee(0x61f)](_0x5e41c7[_0x30d9ee(0x582)]);}})['use'](a0_0x389422(0x854),new yt(S,...re)['router'])[a0_0x389422(0x312)](a0_0x389422(0x416),new At(...re)['router'])[a0_0x389422(0x312)](a0_0x389422(0x846),new ct(...re)[a0_0x389422(0x246)])['use'](a0_0x389422(0x604),new wt(...re)[a0_0x389422(0x246)])[a0_0x389422(0x312)](a0_0x389422(0x6ab),new It(...re)['router'])[a0_0x389422(0x312)](a0_0x389422(0x90e),new _t(...re)[a0_0x389422(0x246)]);var m=class{constructor(..._0x32df20){const _0x43868c=a0_0x389422;throw{'status':0x190,'error':_0x43868c(0x8a4),'message':_0x32df20[_0x43868c(0x7d0)]>0x0?_0x32df20:void 0x0};}},ie=class{constructor(..._0x401ccf){const _0x52eb2d=a0_0x389422;throw{'status':0x191,'error':_0x52eb2d(0x436),'message':_0x401ccf[_0x52eb2d(0x7d0)]>0x0?_0x401ccf:void 0x0};}},Z=class{constructor(..._0x512c5f){const _0x8100e=a0_0x389422;throw{'status':0x193,'error':_0x8100e(0x278),'message':_0x512c5f[_0x8100e(0x7d0)]>0x0?_0x512c5f:void 0x0};}},U=class{constructor(..._0x2601a8){const _0x10170a=a0_0x389422;throw{'status':0x194,'error':'Not\x20Found','message':_0x2601a8[_0x10170a(0x7d0)]>0x0?_0x2601a8:void 0x0};}},x=class{constructor(..._0x21808b){const _0x1dbefa=a0_0x389422;throw{'status':0x1f4,'error':_0x1dbefa(0x19c),'message':_0x21808b[_0x1dbefa(0x7d0)]>0x0?_0x21808b:void 0x0};}},we=require(a0_0x389422(0x39f));async function _s(_0x5620eb){const _0x1951f0=a0_0x389422;let _0x1b63c9=new $(_s['name']),_0x56b6e2=T['getClient'](),_0x16e0fc=_0x56b6e2['db'](S[_0x1951f0(0x3a9)](_0x1951f0(0x831))[_0x1951f0(0x429)]['DB_PREFIX_NAME']+_0x1951f0(0x45e))[_0x1951f0(0x25e)](_0x5620eb),_0x222262=async(_0x24c1fe,_0xa88d3)=>{const _0x3939e8=_0x1951f0;try{return await _0x56b6e2[_0x3939e8(0x64f)](),await _0x16e0fc[_0x3939e8(0x410)]({'_id':_0xa88d3},JSON[_0x3939e8(0x47e)](JSON[_0x3939e8(0x2d0)](_0x24c1fe,we['BufferJSON'][_0x3939e8(0x62a)])),{'upsert':!0x0});}catch{}},_0x1b902c=async _0x16dcc6=>{const _0x508f6a=_0x1951f0;try{await _0x56b6e2[_0x508f6a(0x64f)]();let _0x343980=await _0x16e0fc['findOne']({'_id':_0x16dcc6}),_0x373f25=JSON[_0x508f6a(0x2d0)](_0x343980);return JSON[_0x508f6a(0x47e)](_0x373f25,we[_0x508f6a(0x30f)]['reviver']);}catch{}},_0x5de322=async _0x5e684d=>{const _0x3d08d9=_0x1951f0;try{return await _0x56b6e2[_0x3d08d9(0x64f)](),await _0x16e0fc['deleteOne']({'_id':_0x5e684d});}catch{}},_0x13be71=await _0x1b902c(_0x1951f0(0x3ac))||(0x0,we['initAuthCreds'])();return{'state':{'creds':_0x13be71,'keys':{'get':async(_0xe95358,_0x2e7f2a)=>{let _0x4d8707={};return await Promise['all'](_0x2e7f2a['map'](async _0x4fd0e6=>{const _0x549e3e=a0_0x3fdd;let _0xb57e2b=await _0x1b902c(_0xe95358+'-'+_0x4fd0e6);_0xe95358===_0x549e3e(0x88e)&&_0xb57e2b&&(_0xb57e2b=we[_0x549e3e(0x478)][_0x549e3e(0x356)]['AppStateSyncKeyData'][_0x549e3e(0x18b)](_0xb57e2b)),_0x4d8707[_0x4fd0e6]=_0xb57e2b;})),_0x4d8707;},'set':async _0x39485f=>{const _0x2cccf9=_0x1951f0;let _0x52922d=[];for(let _0x862ee1 in _0x39485f)for(let _0x237af2 in _0x39485f[_0x862ee1]){let _0x5f0e35=_0x39485f[_0x862ee1][_0x237af2],_0x2a5a66=_0x862ee1+'-'+_0x237af2;_0x52922d[_0x2cccf9(0x3ae)](_0x5f0e35?_0x222262(_0x5f0e35,_0x2a5a66):_0x5de322(_0x2a5a66));}await Promise['all'](_0x52922d);}}},'saveCreds':async()=>_0x222262(_0x13be71,_0x1951f0(0x3ac))};}var ks=I(require(a0_0x389422(0x8bd))),Ls=I(require('node-cache')),Dt=require(a0_0x389422(0x39f)),Ei=require(a0_0x389422(0x80b)),Pt=require(a0_0x389422(0x39f)),xt;function xo(_0x286e3c){const _0x293d99=a0_0x389422;return xt||(xt=(0x0,Ei[_0x293d99(0x3f6)])({'url':_0x286e3c['URI']}),xt[_0x293d99(0x64f)]()),xt;}var pe=class u{constructor(_0x2b045b,_0x296666){const _0x1d3671=a0_0x389422;this['redisEnv']=_0x2b045b,this['instanceName']=_0x296666,this[_0x1d3671(0x6d9)]=new $(u[_0x1d3671(0x467)]),this[_0x1d3671(0x496)]=xo(_0x2b045b);}set[a0_0x389422(0x47f)](_0x248619){const _0x48cafe=a0_0x389422;this[_0x48cafe(0x33a)]=_0x248619;}async['instanceKeys'](){const _0x434e0e=a0_0x389422;try{return await this['client'][_0x434e0e(0x406)]([_0x434e0e(0x8b0),this[_0x434e0e(0x6a1)]['PREFIX_KEY']+':*']);}catch(_0x3535d0){this[_0x434e0e(0x6d9)]['error'](_0x3535d0);}}async[a0_0x389422(0x592)](_0x33e799,_0x3a1508){const _0x1feb33=a0_0x389422;try{let _0x3ecc11=JSON['stringify'](_0x3a1508,Pt[_0x1feb33(0x30f)]['replacer']);return await this[_0x1feb33(0x496)][_0x1feb33(0x6e4)](this[_0x1feb33(0x6a1)]['PREFIX_KEY']+':'+this['instanceName'],_0x33e799,_0x3ecc11);}catch(_0x172a0c){this[_0x1feb33(0x6d9)][_0x1feb33(0x5b6)](_0x172a0c);}}async[a0_0x389422(0x84f)](){const _0x52ce31=a0_0x389422;try{let _0x4d48a8=await this[_0x52ce31(0x496)][_0x52ce31(0x3a0)](this[_0x52ce31(0x6a1)][_0x52ce31(0x4c2)]+':'+this[_0x52ce31(0x33a)]);if(_0x4d48a8){for(let _0x482140 in _0x4d48a8)Object[_0x52ce31(0x223)][_0x52ce31(0x550)][_0x52ce31(0x8d7)](_0x4d48a8,_0x482140)&&(_0x4d48a8[_0x482140]=JSON[_0x52ce31(0x47e)](_0x4d48a8[_0x482140],Pt[_0x52ce31(0x30f)][_0x52ce31(0x875)]));return _0x4d48a8;}}catch(_0x596fe4){this[_0x52ce31(0x6d9)][_0x52ce31(0x5b6)](_0x596fe4);}}async['readData'](_0x1ca910){const _0x49f2b3=a0_0x389422;try{let _0x34f0d1=await this[_0x49f2b3(0x496)][_0x49f2b3(0x5dd)](this[_0x49f2b3(0x6a1)][_0x49f2b3(0x4c2)]+':'+this[_0x49f2b3(0x33a)],_0x1ca910);if(_0x34f0d1)return JSON['parse'](_0x34f0d1,Pt[_0x49f2b3(0x30f)][_0x49f2b3(0x875)]);}catch(_0x2314d1){this[_0x49f2b3(0x6d9)][_0x49f2b3(0x5b6)](_0x2314d1);}}async[a0_0x389422(0x18f)](_0xe8ca2c){const _0x5c8e3f=a0_0x389422;try{return await this[_0x5c8e3f(0x496)][_0x5c8e3f(0x402)](this[_0x5c8e3f(0x6a1)][_0x5c8e3f(0x4c2)]+':'+this[_0x5c8e3f(0x33a)],_0xe8ca2c);}catch(_0x338ee8){this[_0x5c8e3f(0x6d9)]['error'](_0x338ee8);}}async['delAll'](_0x246c76){const _0x4c398a=a0_0x389422;try{return await this[_0x4c398a(0x496)][_0x4c398a(0x48e)](_0x246c76||this[_0x4c398a(0x6a1)][_0x4c398a(0x4c2)]+':'+this[_0x4c398a(0x33a)]);}catch(_0x3b84cc){this[_0x4c398a(0x6d9)][_0x4c398a(0x5b6)](_0x3b84cc);}}};async function Os(_0x2025c6,_0x18a0a5){const _0x3dc281=a0_0x389422;let _0x51959c=new $(Os[_0x3dc281(0x467)]),_0x530162=new pe(_0x2025c6,_0x18a0a5),_0x4d1da9=async(_0x25ede3,_0x410c95)=>{const _0x5e8655=_0x3dc281;try{return await _0x530162[_0x5e8655(0x592)](_0x410c95,_0x25ede3);}catch(_0x160693){return _0x51959c[_0x5e8655(0x5b6)]({'localError':_0x5e8655(0x592),'error':_0x160693});}},_0x227153=async _0x13e25e=>{const _0x49a5a1=_0x3dc281;try{return await _0x530162['readData'](_0x13e25e);}catch(_0xc4eb9b){_0x51959c['error']({'readData':_0x49a5a1(0x592),'error':_0xc4eb9b});return;}},_0x341cf9=async _0x120872=>{const _0x5bae22=_0x3dc281;try{return await _0x530162[_0x5bae22(0x18f)](_0x120872);}catch(_0x162d43){_0x51959c[_0x5bae22(0x5b6)]({'readData':_0x5bae22(0x18f),'error':_0x162d43});}},_0x11d3c5=await _0x227153(_0x3dc281(0x3ac))||(0x0,Dt[_0x3dc281(0x3a6)])();return{'state':{'creds':_0x11d3c5,'keys':{'get':async(_0xa2abee,_0x2e9f52)=>{const _0x36ffa6=_0x3dc281;let _0x37e75b={};return await Promise[_0x36ffa6(0x73e)](_0x2e9f52[_0x36ffa6(0x3ea)](async _0x2fb61f=>{const _0x4c791b=_0x36ffa6;let _0x221aba=await _0x227153(_0xa2abee+'-'+_0x2fb61f);_0xa2abee==='app-state-sync-key'&&_0x221aba&&(_0x221aba=Dt[_0x4c791b(0x478)]['Message'][_0x4c791b(0x502)][_0x4c791b(0x18b)](_0x221aba)),_0x37e75b[_0x2fb61f]=_0x221aba;})),_0x37e75b;},'set':async _0x2ddbc1=>{const _0x465a70=_0x3dc281;let _0x29a9c4=[];for(let _0x5cdcc6 in _0x2ddbc1)for(let _0x3fa20a in _0x2ddbc1[_0x5cdcc6]){let _0x587898=_0x2ddbc1[_0x5cdcc6][_0x3fa20a],_0x33a4d1=_0x5cdcc6+'-'+_0x3fa20a;_0x29a9c4[_0x465a70(0x3ae)](_0x587898?await _0x4d1da9(_0x587898,_0x33a4d1):await _0x341cf9(_0x33a4d1));}await Promise[_0x465a70(0x73e)](_0x29a9c4);}}},'saveCreds':async()=>await _0x4d1da9(_0x11d3c5,_0x3dc281(0x3ac))};}var k=I(require('fs')),Y=require(a0_0x389422(0x466)),Ut=I(require('sharp')),ne=require(a0_0x389422(0x882)),vi=require(a0_0x389422(0x254)),Ni=require(a0_0x389422(0x4ee)),$i=I(require(a0_0x389422(0x1a4))),Ne=class extends _{constructor(_0xb82449,_0xba9b78,_0x1a4a69){const _0x4d505c=a0_0x389422;super(_0xba9b78),this[_0x4d505c(0x6f8)]=_0xb82449,this[_0x4d505c(0x33c)]=_0xba9b78,this['dbConnection']=_0x1a4a69;}async['createOrUpdate'](_0x512be7,_0x37e88c){const _0x1a19ff=a0_0x389422;try{if(this[_0x1a19ff(0x60a)][_0x1a19ff(0x290)]){console[_0x1a19ff(0x361)]('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0x37e88c+_0x1a19ff(0x442),_0x512be7);let _0x46e6f1=await this['cacheInstanceModel'][_0x1a19ff(0x1ac)]({'_id':_0x37e88c},{'$set':_0x512be7},{'new':!0x0,'upsert':!0x0});return console[_0x1a19ff(0x361)](_0x1a19ff(0x4ad),_0x46e6f1),_0x46e6f1;}}catch(_0x278558){throw console[_0x1a19ff(0x5b6)]('Erro\x20ao\x20atualizar\x20cacheInstance:',_0x278558),_0x278558;}return null;}async[a0_0x389422(0x7c3)](_0x305a81){const _0x18fe52=a0_0x389422;try{let _0x2172c7=A(_0x305a81['where']);return{'deletedCount':(await this[_0x18fe52(0x6f8)][_0x18fe52(0x7c3)](_0x2172c7))[_0x18fe52(0x1e6)]};}catch(_0x34dadb){return{'error':_0x34dadb?.[_0x18fe52(0x46e)]()};}}async[a0_0x389422(0x892)](_0x2b4cd0){const _0x39df6b=a0_0x389422;try{let _0x31b54a=A(_0x2b4cd0[_0x39df6b(0x6e5)]);return await this['cacheInstanceModel'][_0x39df6b(0x892)](_0x31b54a)[_0x39df6b(0x4ed)]();}catch{return null;}}},kt=(0x0,Ni[a0_0x389422(0x768)])(vi[a0_0x389422(0x5a6)]),Po=S[a0_0x389422(0x3a9)](a0_0x389422(0x8b6)),xs=class{constructor(){const _0x20a604=a0_0x389422;this[_0x20a604(0x44a)]=new Ne(Be,S),(!this[_0x20a604(0x3a2)]||!this[_0x20a604(0x8cd)])&&Po&&this[_0x20a604(0x181)]()[_0x20a604(0x6aa)](()=>{const _0x29511e=_0x20a604;console[_0x29511e(0x361)](_0x29511e(0x74e)+this['ipv6Prefix']),console[_0x29511e(0x361)](_0x29511e(0x3ff)+this['networkInterface']);})[_0x20a604(0x374)](_0x4611be=>{const _0x131cdf=_0x20a604;console[_0x131cdf(0x5b6)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20'+_0x4611be[_0x131cdf(0x582)]);});}async[a0_0x389422(0x181)](){const _0x5efb7d=a0_0x389422;try{let {stdout:_0x33d7ab}=await kt(_0x5efb7d(0x799));console[_0x5efb7d(0x361)](_0x5efb7d(0x721)+_0x33d7ab);let _0x1e394e=_0x33d7ab['split']('\x0a')['map'](_0x7a736a=>_0x7a736a[_0x5efb7d(0x1eb)]('\x20')[0x0])[_0x5efb7d(0x7ab)](_0x261b49=>!_0x261b49[_0x5efb7d(0x908)]('lo')&&!_0x261b49[_0x5efb7d(0x908)](_0x5efb7d(0x733))&&!_0x261b49['includes']('vir')&&!_0x261b49[_0x5efb7d(0x908)]('wl')&&!_0x261b49['includes']('@'));if(console[_0x5efb7d(0x361)](_0x5efb7d(0x263)+_0x1e394e),_0x1e394e[_0x5efb7d(0x7d0)]===0x0)throw new Error(_0x5efb7d(0x748));this[_0x5efb7d(0x8cd)]=_0x1e394e[0x0];let {stdout:_0x50c5b0}=await kt(_0x5efb7d(0x384)+this[_0x5efb7d(0x8cd)]);console[_0x5efb7d(0x361)](_0x5efb7d(0x910)+_0x50c5b0);let _0x2829f9=_0x50c5b0[_0x5efb7d(0x1eb)]('\x0a')[_0x5efb7d(0x428)](_0x1fba16=>_0x1fba16['includes']('inet6')&&_0x1fba16[_0x5efb7d(0x908)]('global'));if(!_0x2829f9)throw new Error(_0x5efb7d(0x495));let _0x3478a9=_0x2829f9[_0x5efb7d(0x6c1)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x3478a9)throw new Error('Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address');let [_0x25287a,_0x2d0d62,_0xd16fbb]=_0x3478a9,_0x3e75f9=Math['floor'](Number(_0xd16fbb)/0x10),_0x2e1fcf=Number(_0xd16fbb)%0x10,_0x5c8322=_0x2d0d62[_0x5efb7d(0x1eb)](':')[_0x5efb7d(0x55f)](0x0,_0x3e75f9)[_0x5efb7d(0x5ee)](':');if(_0x2e1fcf>0x0){let _0x17fc24=_0x2d0d62[_0x5efb7d(0x1eb)](':')[_0x3e75f9],_0x4bffbf=0xffff<<0x10-_0x2e1fcf&0xffff,_0x4424f6=(parseInt(_0x17fc24,0x10)&_0x4bffbf)[_0x5efb7d(0x46e)](0x10)[_0x5efb7d(0x5d7)](0x4,'0');_0x5c8322+=':'+_0x4424f6;}this[_0x5efb7d(0x3a2)]=_0x5c8322+':';}catch(_0x749662){console[_0x5efb7d(0x5b6)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0x749662);}}async[a0_0x389422(0x309)](_0x51d17b){const _0x44c8f1=a0_0x389422;let _0x269383=_0x44c8f1(0x8fa)+_0x51d17b+_0x44c8f1(0x28a)+this[_0x44c8f1(0x8cd)];try{await kt(_0x269383),console['log'](_0x44c8f1(0x717)+_0x51d17b);}catch(_0x19166d){console['error']('Error\x20adding\x20IPv6\x20address:\x20'+_0x19166d);}}async[a0_0x389422(0x67d)](_0x29848a){const _0x1f8067=a0_0x389422;let _0x5ecfab=_0x1f8067(0x5f0)+_0x29848a+_0x1f8067(0x28a)+this['networkInterface'];try{await kt(_0x5ecfab),console['log']('IPv6\x20address\x20removed:\x20'+_0x29848a);}catch(_0x1b414b){console[_0x1f8067(0x5b6)](_0x1f8067(0x42b)+_0x1b414b);}}[a0_0x389422(0x865)](){const _0x373dbb=a0_0x389422;return _0x373dbb(0x739)['replace'](/X/g,()=>'0123456789ABCDEF'[_0x373dbb(0x39d)](Math['floor'](Math[_0x373dbb(0x324)]()*0x10)));}[a0_0x389422(0x85a)](_0xa0d0c8,_0x288c58){const _0x37a12d=a0_0x389422;let _0x39d687=_0x288c58[_0x37a12d(0x1eb)](':');return _0x39d687[0x0]=(parseInt(_0x39d687[0x0],0x10)^0x2)[_0x37a12d(0x46e)](0x10)[_0x37a12d(0x5d7)](0x2,'0'),''+_0xa0d0c8+_0x39d687[0x0]+_0x39d687[0x1]+':'+_0x39d687[0x2]+_0x37a12d(0x4f6)+_0x39d687[0x3]+':'+_0x39d687[0x4]+_0x39d687[0x5];}[a0_0x389422(0x3e5)](){const _0x4bf447=a0_0x389422;let _0x505ad7=this[_0x4bf447(0x3a2)];_0x505ad7['endsWith'](':')||(_0x505ad7+=':');let _0x347d70=this[_0x4bf447(0x865)]();return this[_0x4bf447(0x85a)](_0x505ad7,_0x347d70);}[a0_0x389422(0x1b0)](_0x1e2771){const _0x110066=a0_0x389422;return new RegExp(_0x110066(0x4ff))[_0x110066(0x21c)](_0x1e2771);}async['testIPv6'](_0x4279ec){const _0xa93f23=a0_0x389422;let _0xd3adf3=[{'url':'https://ipv6.jsonip.com','parse':_0x5668f5=>_0x5668f5['ip']},{'url':_0xa93f23(0x27f),'parse':_0x5e426c=>_0x5e426c['ip']},{'url':'https://ifconfig.me/ip','parse':_0x25f79e=>_0x25f79e[_0xa93f23(0x29d)]()},{'url':'https://v6.ident.me','parse':_0x4e79d1=>_0x4e79d1['trim']()}],_0x160827=_0xd3adf3[Math['floor'](Math[_0xa93f23(0x324)]()*_0xd3adf3[_0xa93f23(0x7d0)])];try{let _0x37140a=await $i[_0xa93f23(0x37f)][_0xa93f23(0x3a9)](_0x160827['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x4279ec}}),_0x311f4d=_0x160827[_0xa93f23(0x47e)](_0x37140a[_0xa93f23(0x863)]);return _0x311f4d['toLowerCase']()===_0x4279ec[_0xa93f23(0x7b1)]()?(console[_0xa93f23(0x361)](_0xa93f23(0x840)+_0x4279ec),!0x0):(console['error']('IP\x20mismatch:\x20configured\x20'+_0x4279ec+',\x20received\x20'+_0x311f4d),!0x1);}catch(_0x1473a8){return console['error'](_0xa93f23(0x297)+_0x160827[_0xa93f23(0x55a)]+':\x20'+_0x1473a8['message']),!0x1;}}async[a0_0x389422(0x8c1)](_0x20748f,_0x5a4196){const _0x2e819d=a0_0x389422;if(!this['ipv6Prefix']||!this['networkInterface'])return console[_0x2e819d(0x5b6)]('IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.'),null;let _0x3a1d9e;do _0x3a1d9e=this[_0x2e819d(0x3e5)](),console[_0x2e819d(0x361)](_0x2e819d(0x5b4)+_0x3a1d9e);while(!await this[_0x2e819d(0x6a8)](_0x3a1d9e));await this[_0x2e819d(0x309)](_0x3a1d9e),console[_0x2e819d(0x361)](_0x2e819d(0x4e8)+_0x3a1d9e);let _0xd7802d={'_id':_0x20748f+'-'+_0x5a4196,'ip':_0x3a1d9e},_0x2bfb14=await this[_0x2e819d(0x44a)][_0x2e819d(0x3a3)](_0xd7802d,_0xd7802d['_id']);return console['log'](_0x2e819d(0x611)+_0x2bfb14),_0x3a1d9e;}async[a0_0x389422(0x6a8)](_0x385b6c){const _0x53f064=a0_0x389422;return this[_0x53f064(0x1b0)](_0x385b6c)?!await this[_0x53f064(0x44a)][_0x53f064(0x892)]({'where':{'ip':_0x385b6c}}):!0x1;}async[a0_0x389422(0x37a)](_0x272a27,_0x4bad84){const _0x3a9158=a0_0x389422;let _0x9a8805=_0x272a27+'-'+_0x4bad84,_0x14d489=await this[_0x3a9158(0x44a)][_0x3a9158(0x892)]({'where':{'_id':_0x9a8805}});_0x14d489&&_0x14d489['ip']&&(await this[_0x3a9158(0x67d)](_0x14d489['ip']),await this['cacheInstanceRepository']['deleteOne']({'where':{'_id':_0x9a8805}}));}},Do=new xs(),ae=Do,Fs=a0_0x389422(0x7f6),xi,he=null,xa=null,ko=0x3,Lo=null,Ri=S[a0_0x389422(0x3a9)](a0_0x389422(0x6f6))[a0_0x389422(0x48d)][a0_0x389422(0x432)],Ai=S[a0_0x389422(0x3a9)](a0_0x389422(0x8b6));async function Fo(){const _0x543a30=a0_0x389422;let _0x1cba86=await ve[_0x543a30(0x892)]();he=_0x1cba86?.['WebhookGlobal']??null,Lo=_0x1cba86?.[_0x543a30(0x6ad)]??null,Fs=_0x1cba86?.[_0x543a30(0x4b2)]??'Safari',xi=_0x1cba86?.[_0x543a30(0x353)]??B??_0x543a30(0x2e6);}async function Uo(){await Fo();}Uo();var Lt={},$e=class u{constructor(_0x5e4859,_0x14fc0c,_0x385b2a){const _0x5ea640=a0_0x389422;this[_0x5ea640(0x33c)]=_0x5e4859,this[_0x5ea640(0x189)]=_0x14fc0c,this[_0x5ea640(0x828)]=_0x385b2a,this[_0x5ea640(0x7a1)]={},this[_0x5ea640(0x346)]=null,this['logger']=new $(u['name']),this[_0x5ea640(0x248)]={},this[_0x5ea640(0x330)]={},this['stateConnection']={'state':_0x5ea640(0x253)},this[_0x5ea640(0x63e)]=(0x0,j[_0x5ea640(0x5ee)])(le,_0x5ea640(0x3b6)),this[_0x5ea640(0x35c)]=new Ls['default'](),this[_0x5ea640(0x30e)]=new Ls[(_0x5ea640(0x37f))](),this[_0x5ea640(0x27a)]=!0x1,this['webhookMap']={'status.instance':_0x5ea640(0x619),'connection.update':_0x5ea640(0x619),'qrcode.updated':_0x5ea640(0x7d7),'messages.upsert':_0x5ea640(0x560),'send.message':_0x5ea640(0x560),'messages.update':_0x5ea640(0x2d8),'group.upsert':_0x5ea640(0x84b),'group.update':_0x5ea640(0x84b),'group-participants.update':'/wa-groups','messages.set':_0x5ea640(0x735),'contacts.set':'/wa-contacts','contacts.upsert':_0x5ea640(0x1af),'contacts.update':_0x5ea640(0x1af),'presence.update':'/wa-presence','chats.set':_0x5ea640(0x5b1),'chats.update':_0x5ea640(0x5b1),'chats.upsert':_0x5ea640(0x5b1),'chats.delete':_0x5ea640(0x5b1)},this[_0x5ea640(0x7fb)]=0x0,this['reconnectTimestamps']=[],this[_0x5ea640(0x2d7)]=0xea60,this[_0x5ea640(0x624)]=!0x1,this[_0x5ea640(0x237)]={'chats.upsert':async(_0x1eb542,_0xf02d94)=>{const _0x449c51=_0x5ea640;let _0x5016ba=[];for await(let _0x28b4c6 of _0x1eb542)_0x5016ba[_0x449c51(0x3ae)]({'_id':_0x28b4c6['id'],'owner':this[_0x449c51(0x248)]['wuid'],'group':_0x28b4c6['id']['endsWith'](_0x449c51(0x3a5)),'name':_0x28b4c6[_0x449c51(0x467)]||_0x28b4c6[_0x449c51(0x88a)]||null,'contactname':null,'lastmsg':_0x28b4c6['conversationTimestamp']&&_0x28b4c6[_0x449c51(0x8d0)][_0x449c51(0x46e)]()[_0x449c51(0x7d0)]<0xd?_0x28b4c6['conversationTimestamp']*0x3e8:_0x28b4c6[_0x449c51(0x8d0)]||null,'archived':_0x28b4c6[_0x449c51(0x389)]||!0x1,'unreadcount':_0x28b4c6[_0x449c51(0x731)]||0x0,'ephemeralExpiration':_0x28b4c6[_0x449c51(0x801)]||0x0});this['sendDataWebhook']('chats.upsert',_0x5016ba);},'chats.update':async(_0x5421c,_0x4e7ef5)=>{const _0x4e8527=_0x5ea640;for(let _0x2820a3 of _0x5421c){let _0x4ee12e={'_id':_0x2820a3['id'],'owner':this[_0x4e8527(0x248)][_0x4e8527(0x658)],'archived':_0x2820a3[_0x4e8527(0x389)],'muteEndTime':_0x2820a3[_0x4e8527(0x28c)],'ephemeralExpiration':_0x2820a3[_0x4e8527(0x801)]},_0x4b7a44=!0x1,_0x2465b9={};_0x4ee12e[_0x4e8527(0x389)]!=null&&(this[_0x4e8527(0x6d9)][_0x4e8527(0x2b6)](this[_0x4e8527(0x33a)]+'\x20('+this[_0x4e8527(0x248)][_0x4e8527(0x658)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x2820a3['id']+_0x4e8527(0x1de)+_0x2820a3['archived']),_0x4b7a44=!0x0,_0x2465b9[_0x4e8527(0x389)]=_0x2820a3[_0x4e8527(0x389)]),_0x4e8527(0x28c)in _0x2820a3&&(this[_0x4e8527(0x6d9)][_0x4e8527(0x2b6)](this['instanceName']+'\x20('+this['instance'][_0x4e8527(0x658)]+_0x4e8527(0x7db)+_0x2820a3['id']+'\x20:\x20'+(_0x2820a3[_0x4e8527(0x28c)]??'0')),_0x4b7a44=!0x0,_0x2465b9[_0x4e8527(0x28c)]=_0x2820a3['muteEndTime']??0x0),_0x4e8527(0x801)in _0x2820a3&&(this[_0x4e8527(0x6d9)][_0x4e8527(0x2b6)](this[_0x4e8527(0x33a)]+'\x20('+this[_0x4e8527(0x248)][_0x4e8527(0x658)]+_0x4e8527(0x798)+_0x2820a3['id']+_0x4e8527(0x1de)+(_0x2820a3[_0x4e8527(0x801)]!==void 0x0?_0x2820a3[_0x4e8527(0x801)]:_0x4e8527(0x1e4))),_0x2465b9[_0x4e8527(0x801)]=_0x2820a3[_0x4e8527(0x801)]===null?0x0:_0x2820a3[_0x4e8527(0x801)],_0x4b7a44=!0x0);let _0x1a3a60;_0x4b7a44&&(_0x1a3a60=await this[_0x4e8527(0x828)][_0x4e8527(0x8e5)]['updateOne']({'where':{'_id':_0x2820a3['id']}},_0x2465b9,this['instance'][_0x4e8527(0x658)])),_0x1a3a60&&F(this['instanceName'],'chats',{'chat':_0x1a3a60});}},'chats.delete':async _0x173aac=>{const _0x2af47a=_0x5ea640;for(let _0x404557 of _0x173aac)if(_0x404557[_0x2af47a(0x79d)](_0x2af47a(0x3a5))){await this[_0x2af47a(0x828)][_0x2af47a(0x8e5)]['delete']({'where':{'_id':_0x404557}},this['instance'][_0x2af47a(0x658)]);let _0x2f472e={'where':{'key':{'remoteJid':_0x404557}}};await this['repository'][_0x2af47a(0x582)][_0x2af47a(0x216)](_0x2f472e,this[_0x2af47a(0x248)]['wuid']);}else{await this['repository'][_0x2af47a(0x8e5)][_0x2af47a(0x2d5)]({'where':{'_id':_0x404557}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']);let _0x4643b2={'where':{'key':{'remoteJid':_0x404557}}};await this[_0x2af47a(0x828)][_0x2af47a(0x582)][_0x2af47a(0x216)](_0x4643b2,this[_0x2af47a(0x248)][_0x2af47a(0x658)]);}this[_0x2af47a(0x194)](_0x2af47a(0x373),[..._0x173aac]);}},this[_0x5ea640(0x49d)]={'contacts.upsert':async(_0x19aa10,_0x5294bc)=>{const _0x41354a=_0x5ea640;let _0x3bb182=await this['repository'][_0x41354a(0x86a)][_0x41354a(0x428)]({'where':{}},this[_0x41354a(0x248)][_0x41354a(0x658)]),_0xf3ffb6=[];for await(let _0x23e0db of _0x19aa10)_0x3bb182[_0x41354a(0x428)](_0x13f965=>_0x13f965['_id']===_0x23e0db['id'])||_0xf3ffb6[_0x41354a(0x3ae)]({'_id':_0x23e0db['id'],'pushName':_0x23e0db?.[_0x41354a(0x467)]||_0x23e0db?.[_0x41354a(0x3bc)],'owner':this[_0x41354a(0x248)][_0x41354a(0x658)]});this[_0x41354a(0x194)](_0x41354a(0x8a6),_0xf3ffb6),await this[_0x41354a(0x828)][_0x41354a(0x86a)][_0x41354a(0x4a0)](_0xf3ffb6);},'contacts.update':async(_0x441a7c,_0x13c328)=>{const _0x2839b7=_0x5ea640;let _0x1403fc=[];for await(let _0x4c5b6f of _0x441a7c)_0x1403fc['push']({'_id':_0x4c5b6f['id'],'pushName':_0x4c5b6f?.[_0x2839b7(0x467)]??_0x4c5b6f?.['verifiedName'],'owner':this[_0x2839b7(0x248)][_0x2839b7(0x658)]});this[_0x2839b7(0x194)](_0x2839b7(0x59e),_0x1403fc);}},this['messageHandle']={'messaging-history.set':async({messages:_0x2686e1,chats:_0x12b648,isLatest:_0x5d7177},_0x51bfef)=>{const _0x200bee=_0x5ea640;if(_0x5d7177){let _0x2adfc2=await Promise[_0x200bee(0x73e)](_0x12b648[_0x200bee(0x3ea)](async _0x47dc15=>({'_id':_0x47dc15['id'],'owner':this[_0x200bee(0x248)]['wuid'],'group':_0x47dc15['id'][_0x200bee(0x79d)](_0x200bee(0x3a5)),'name':_0x47dc15[_0x200bee(0x467)]||_0x47dc15['displayName']||_0x47dc15[_0x200bee(0x7d3)]||null,'contactname':null,'lastmsg':_0x47dc15[_0x200bee(0x8d0)]&&_0x47dc15['conversationTimestamp'][_0x200bee(0x46e)]()[_0x200bee(0x7d0)]<0xd?_0x47dc15[_0x200bee(0x8d0)]*0x3e8:_0x47dc15[_0x200bee(0x8d0)]||null,'archived':_0x47dc15[_0x200bee(0x389)]||!0x1,'unreadcount':_0x47dc15['unreadCount']||0x0,'ephemeralExpiration':_0x47dc15[_0x200bee(0x801)]||0x0,'muteEndTime':_0x47dc15[_0x200bee(0x28c)]||0x0})));this['sendDataWebhook'](_0x200bee(0x211),_0x2adfc2),await this[_0x200bee(0x29a)](_0x2adfc2,_0x51bfef);}let _0x340334=[],_0x3cb2ef=Date[_0x200bee(0x755)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2eb0af]of Object['entries'](_0x2686e1)){if(_0x2eb0af[_0x200bee(0x582)]?.['protocolMessage']||_0x2eb0af['message']?.[_0x200bee(0x692)]||!_0x2eb0af[_0x200bee(0x582)]||_0x2eb0af[_0x200bee(0x71e)][_0x200bee(0x897)]==='status@broadcast'||(ks['default']['isLong'](_0x2eb0af?.[_0x200bee(0x26a)])&&(_0x2eb0af[_0x200bee(0x26a)]=_0x2eb0af[_0x200bee(0x26a)]?.[_0x200bee(0x6cb)]()),_0x2eb0af['messageTimestamp']&&_0x2eb0af[_0x200bee(0x26a)][_0x200bee(0x46e)]()[_0x200bee(0x7d0)]<0xd&&(_0x2eb0af[_0x200bee(0x26a)]=_0x2eb0af[_0x200bee(0x26a)]*0x3e8),_0x2eb0af['messageTimestamp']<_0x3cb2ef))continue;let _0x4ef966=(0x0,w[_0x200bee(0x266)])(_0x2eb0af['message']),_0x37066b=(0x0,w['getContentType'])(_0x4ef966),{message_normalized:_0x1fa1a8}=this[_0x200bee(0x24a)](_0x4ef966,_0x37066b,null);Object[_0x200bee(0x8b0)](_0x1fa1a8)[_0x200bee(0x7d0)]>0x0&&_0x340334['push']({'_id':_0x2eb0af['key']['id'],'key':_0x2eb0af[_0x200bee(0x71e)],'pushName':_0x2eb0af[_0x200bee(0x7f7)],'participant':_0x2eb0af[_0x200bee(0x3c2)],'message':_0x4ef966,'messageType':_0x37066b,'message_normalized':{'key':_0x2eb0af[_0x200bee(0x71e)],'pushName':_0x2eb0af[_0x200bee(0x7f7)],'messageTimestamp':_0x2eb0af['messageTimestamp'],..._0x1fa1a8},'messageTimestamp':_0x2eb0af['messageTimestamp'],'owner':this[_0x200bee(0x248)][_0x200bee(0x658)]});}_0x51bfef[_0x200bee(0x290)]&&_0x340334[_0x200bee(0x7d0)]>0x0&&(this[_0x200bee(0x6d9)][_0x200bee(0x2b6)](this['instanceName']+'\x20('+this[_0x200bee(0x248)][_0x200bee(0x658)]+_0x200bee(0x375)+_0x340334[_0x200bee(0x7d0)]+_0x200bee(0x7ff)+this[_0x200bee(0x248)][_0x200bee(0x658)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository'][_0x200bee(0x582)][_0x200bee(0x4a0)]([..._0x340334],this['instance']['wuid'])),this['sendDataWebhook'](_0x200bee(0x235),[..._0x340334]),_0x2686e1=void 0x0;},'messages.upsert':async({messages:_0x2e03ef,type:_0x4688f6},_0x1488e4)=>{const _0x23820d=_0x5ea640;for(let _0x1ad454 of _0x2e03ef){if(this['localWebhook']?.['groups_ignore']&&_0x1ad454[_0x23820d(0x71e)]['remoteJid'][_0x23820d(0x908)]('@g.us')){this[_0x23820d(0x6d9)][_0x23820d(0x2b6)](this[_0x23820d(0x33a)]+'\x20('+this['instance'][_0x23820d(0x658)]+_0x23820d(0x26b));continue;}if(_0x1ad454[_0x23820d(0x71e)][_0x23820d(0x897)][_0x23820d(0x908)](_0x23820d(0x71f))||_0x1ad454[_0x23820d(0x71e)][_0x23820d(0x897)]===_0x23820d(0x7d6))continue;if(_0x1ad454[_0x23820d(0x587)]&&_0x1ad454[_0x23820d(0x587)][0x0]===_0x23820d(0x4e2)){console[_0x23820d(0x5b6)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),await this[_0x23820d(0x81b)](_0x1ad454),Lt[_0x1ad454['key']['id']]=_0x1ad454,this[_0x23820d(0x65f)](_0x1ad454,0x0);continue;}if(_0x4688f6!==_0x23820d(0x7ac)||!_0x1ad454?.[_0x23820d(0x582)]||_0x1ad454['message']?.['protocolMessage']||_0x1ad454['message']?.['senderKeyDistributionMessage'])continue;let _0x514904=null,_0x9c3be1=null;if(Lt[_0x1ad454[_0x23820d(0x71e)]['id']]&&(console[_0x23820d(0x5b6)](_0x23820d(0x2cc)),await this[_0x23820d(0x828)][_0x23820d(0x26c)][_0x23820d(0x216)]({'where':{'_id':_0x1ad454[_0x23820d(0x71e)]['id']}}),delete Lt[_0x1ad454['key']['id']]),this[_0x23820d(0x50b)](this[_0x23820d(0x248)][_0x23820d(0x658)],_0x1ad454[_0x23820d(0x71e)]['id'])){this[_0x23820d(0x6d9)][_0x23820d(0x2b6)](this[_0x23820d(0x33a)]+'\x20('+this[_0x23820d(0x248)]['wuid']+'):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada');continue;}this['addToProcessedMessages'](this[_0x23820d(0x248)]['wuid'],_0x1ad454[_0x23820d(0x71e)]['id']);try{_0x514904=await this[_0x23820d(0x40d)](_0x1ad454),_0x9c3be1=_0x514904?_0x514904[_0x23820d(0x5ee)](','):null;}catch(_0x54eb55){this['logger'][_0x23820d(0x2b6)](this['instanceName']+'\x20('+this[_0x23820d(0x248)][_0x23820d(0x658)]+_0x23820d(0x375)+(_0x54eb55 instanceof Error?_0x54eb55[_0x23820d(0x582)]:JSON['stringify'](_0x54eb55,null,0x2))),_0x9c3be1='error\x20get\x20vote';}this[_0x23820d(0x496)][_0x23820d(0x462)](_0x23820d(0x8c3)),ks[_0x23820d(0x37f)]['isLong'](_0x1ad454[_0x23820d(0x26a)])&&(_0x1ad454[_0x23820d(0x26a)]=_0x1ad454[_0x23820d(0x26a)]?.[_0x23820d(0x6cb)]()),_0x1ad454['messageTimestamp']&&_0x1ad454[_0x23820d(0x26a)][_0x23820d(0x46e)]()['length']<0xd&&(_0x1ad454[_0x23820d(0x26a)]=_0x1ad454[_0x23820d(0x26a)]*0x3e8);let _0x4ea87e=_0x1ad454[_0x23820d(0x582)],_0x37c8a7=(0x0,w[_0x23820d(0x266)])(_0x4ea87e),_0x16c957=(0x0,w[_0x23820d(0x484)])(_0x37c8a7),{messageContent:_0x1ab562,message_normalized:_0x3a1f61}=this['normalizeMessage'](_0x37c8a7,_0x16c957,_0x9c3be1);if(_0x16c957===_0x23820d(0x568)&&_0x1ab562?.[_0x23820d(0x7a4)]&&(_0x16c957=_0x23820d(0x7a4)),_0x16c957===_0x23820d(0x57b)&&_0x1ad454['key'][_0x23820d(0x8fb)])continue;let _0x4e2a51,_0x5444ff=_0x1ad454[_0x23820d(0x71e)][_0x23820d(0x897)][_0x23820d(0x79d)]('@g.us');if(_0x1ad454['key'][_0x23820d(0x8fb)])_0x4e2a51=this['instance'][_0x23820d(0x88f)];else{let _0x1e0337=_0x5444ff?_0x1ad454[_0x23820d(0x71e)][_0x23820d(0x3c2)]:_0x1ad454[_0x23820d(0x71e)][_0x23820d(0x897)];_0x4e2a51=(await this['findAndUpdateCacheContact'](_0x1e0337,_0x1ad454[_0x23820d(0x7f7)],!0x1))[_0x23820d(0x2de)]['pictureUrl'];}let _0x277289={'_id':_0x1ad454['key']['id'],'key':_0x1ad454[_0x23820d(0x71e)],'isGroup':_0x5444ff,'profilePictureUrl':_0x4e2a51,'pushName':_0x1ad454['pushName'],'message':_0x37c8a7,'messageType':_0x16c957,'message_normalized':{'key':_0x1ad454[_0x23820d(0x71e)],'pushName':_0x1ad454[_0x23820d(0x7f7)],'messageTimestamp':_0x1ad454[_0x23820d(0x26a)],'source':(0x0,w['getDevice'])(_0x1ad454[_0x23820d(0x71e)]['id']),..._0x3a1f61},'messageTimestamp':_0x1ad454[_0x23820d(0x26a)],'owner':this[_0x23820d(0x248)]['wuid'],'source':(0x0,w[_0x23820d(0x256)])(_0x1ad454[_0x23820d(0x71e)]['id']),'expiration':_0x1ab562?.[_0x23820d(0x909)]?.[_0x23820d(0x335)]||0x0};if(_0x1ab562||(this[_0x23820d(0x6d9)][_0x23820d(0x5b6)](_0x23820d(0x5d3)),this[_0x23820d(0x6d9)]['error'](_0x277289)),_0x3a1f61['text']===_0x23820d(0x573)){console['error'](_0x23820d(0x45f)),await this['fakeReceived'](_0x1ad454);continue;}this['logger'][_0x23820d(0x361)](this[_0x23820d(0x33a)]+'\x20('+this[_0x23820d(0x248)][_0x23820d(0x658)]+_0x23820d(0x375)+(_0x277289['key']?.[_0x23820d(0x8fb)]?'enviado\x20para':_0x23820d(0x2d4))+'\x20['+_0x277289[_0x23820d(0x71e)]?.['remoteJid'][_0x23820d(0x793)](_0x23820d(0x72d),'')+_0x23820d(0x5d4)+_0x277289[_0x23820d(0x7ef)]+')'),_0x277289[_0x23820d(0x6cd)]?.[_0x23820d(0x243)]&&this[_0x23820d(0x6d9)][_0x23820d(0x361)](_0x1ad454[_0x23820d(0x71e)]['id']+':\x20'+_0x277289[_0x23820d(0x6cd)]?.[_0x23820d(0x243)]),await this['repository'][_0x23820d(0x582)]['insert']([_0x277289],this['instance'][_0x23820d(0x658)]),this[_0x23820d(0x194)](_0x23820d(0x65d),_0x277289),F(this[_0x23820d(0x33a)],'messages',{'message':_0x277289}),_0x1ad454['key'][_0x23820d(0x897)]!==_0x23820d(0x7d6)&&await this[_0x23820d(0x38c)](_0x1488e4,_0x277289,_0x23820d(0x1f6));}},'messages.update':async(_0x18a72d,_0x1cf24c)=>{const _0x37d16a=_0x5ea640;let _0x3a7076={0x0:'ERROR',0x1:'PENDING',0x2:_0x37d16a(0x5d0),0x3:_0x37d16a(0x696),0x4:_0x37d16a(0x51e),0x5:_0x37d16a(0x7d5)};for await(let {key:_0x4467cf,update:_0x3876f7}of _0x18a72d){if(this['localWebhook']?.[_0x37d16a(0x888)]&&_0x4467cf['remoteJid'][_0x37d16a(0x908)]('@g.us')){this[_0x37d16a(0x6d9)][_0x37d16a(0x2b6)](this[_0x37d16a(0x33a)]+'\x20('+this[_0x37d16a(0x248)]['wuid']+_0x37d16a(0x5c0));return;}if(_0x4467cf[_0x37d16a(0x897)]!==_0x37d16a(0x7d6)){let _0x4a8e63=Date[_0x37d16a(0x755)](),_0xe828a3;_0x3876f7[_0x37d16a(0x582)]===null&&_0x3876f7[_0x37d16a(0x3d8)]===void 0x0?_0xe828a3=_0x37d16a(0x8f1):_0xe828a3=_0x3a7076[_0x3876f7[_0x37d16a(0x3d8)]];let _0x14c1b9=_0x4467cf[_0x37d16a(0x897)][_0x37d16a(0x793)](/:\d{1,2}@/g,'@'),_0x108d2f={..._0x4467cf,'remoteJid':_0x14c1b9,'status':_0xe828a3,'datetime':_0x4a8e63,'owner':this[_0x37d16a(0x248)][_0x37d16a(0x658)]};this[_0x37d16a(0x194)](_0x37d16a(0x6c9),_0x108d2f),await this[_0x37d16a(0x616)](_0x4467cf,_0x108d2f);}}},'labels.association':async({type:_0x5dfd52,association:_0x41092c})=>{const _0x90ccba=_0x5ea640;if(_0x41092c['type']===_0x90ccba(0x6b1)){let _0x374cb3,_0x48c824=0x0;for(;!_0x374cb3&&_0x48c824<this[_0x90ccba(0x59c)];)_0x374cb3=await this[_0x90ccba(0x828)][_0x90ccba(0x8e5)][_0x90ccba(0x892)]({'where':{'_id':_0x41092c[_0x90ccba(0x586)]}},this[_0x90ccba(0x248)][_0x90ccba(0x658)]),_0x374cb3||(_0x48c824++,this[_0x90ccba(0x6d9)][_0x90ccba(0x379)](this['instanceName']+'\x20('+this[_0x90ccba(0x248)][_0x90ccba(0x658)]+'):\x20Chat\x20'+_0x41092c[_0x90ccba(0x586)]+_0x90ccba(0x756)+this[_0x90ccba(0x357)]+_0x90ccba(0x689)+_0x48c824+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x90ccba(0x621)](this[_0x90ccba(0x357)]));if(!_0x374cb3){this[_0x90ccba(0x6d9)][_0x90ccba(0x5b6)](_0x90ccba(0x257)+_0x41092c['chatId']+_0x90ccba(0x488)+this['delayChatLabel_MAX_RETRIES']+_0x90ccba(0x5c7));return;}switch(_0x5dfd52){case _0x90ccba(0x765):console[_0x90ccba(0x361)](_0x41092c),await this[_0x90ccba(0x828)][_0x90ccba(0x8e5)][_0x90ccba(0x2d5)]({'where':{'_id':_0x41092c[_0x90ccba(0x586)]}},{'leadInfo.etiquetas':_0x41092c[_0x90ccba(0x409)]},this[_0x90ccba(0x248)]['wuid'],void 0x0,_0x90ccba(0x471));break;case _0x90ccba(0x691):console[_0x90ccba(0x361)](_0x41092c),await this[_0x90ccba(0x828)][_0x90ccba(0x8e5)][_0x90ccba(0x2d5)]({'where':{'_id':_0x41092c[_0x90ccba(0x586)]}},{'leadInfo.etiquetas':_0x41092c['labelId']},this[_0x90ccba(0x248)][_0x90ccba(0x658)],void 0x0,'$pull');break;default:this['logger']['error'](_0x90ccba(0x35b)+_0x5dfd52+']');}}},'labels.edit':async _0x4dbcaf=>{const _0x4303d9=_0x5ea640;if(!_0x4dbcaf||!_0x4dbcaf['id']){this[_0x4303d9(0x6d9)]['error'](_0x4303d9(0x347));return;}if(!_0x4dbcaf[_0x4303d9(0x5be)]){let _0x2d63ee=['#ff9484','#64c4ff','#fed428',_0x4303d9(0x298),'#9ab6c1',_0x4303d9(0x203),'#fe9dfe','#d3a91f',_0x4303d9(0x671),_0x4303d9(0x49e),_0x4303d9(0x1d2),_0x4303d9(0x737),_0x4303d9(0x1c8),'#f64847',_0x4303d9(0x7b7),'#83e421',_0x4303d9(0x489),_0x4303d9(0x3e1),_0x4303d9(0x797),_0x4303d9(0x6c7)],_0x2494ed;typeof _0x4dbcaf[_0x4303d9(0x85e)]==_0x4303d9(0x2f3)&&_0x4dbcaf[_0x4303d9(0x85e)]>=0x0&&_0x4dbcaf['color']<_0x2d63ee[_0x4303d9(0x7d0)]?_0x2494ed=_0x2d63ee[_0x4dbcaf[_0x4303d9(0x85e)]]:(this[_0x4303d9(0x6d9)][_0x4303d9(0x5b6)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x4dbcaf['color']),_0x2494ed='#000000');let _0x4d8228={'_id':_0x4dbcaf['id'],'colorHex':_0x2494ed,'color':_0x4dbcaf?.[_0x4303d9(0x85e)],'name':_0x4dbcaf?.[_0x4303d9(0x467)],'owner':this[_0x4303d9(0x248)]['wuid']};await this[_0x4303d9(0x828)][_0x4303d9(0x2e8)][_0x4303d9(0x2d5)]({'where':{'_id':_0x4dbcaf['id']}},_0x4d8228,this['instance'][_0x4303d9(0x658)]),this[_0x4303d9(0x6d9)][_0x4303d9(0x379)](this[_0x4303d9(0x33a)]+'\x20('+this['instance'][_0x4303d9(0x658)]+_0x4303d9(0x430)+_0x4dbcaf);}_0x4dbcaf[_0x4303d9(0x5be)]&&(await this[_0x4303d9(0x828)][_0x4303d9(0x2e8)][_0x4303d9(0x216)]({'where':{'_id':_0x4dbcaf['id']}},this[_0x4303d9(0x248)]['wuid']),this[_0x4303d9(0x6d9)][_0x4303d9(0x379)](_0x4303d9(0x29b)+_0x4dbcaf['id']));}},this[_0x5ea640(0x322)]={'groups.upsert':async _0x281b63=>{const _0x5a25cc=_0x5ea640;this[_0x5a25cc(0x330)]?.['groups_ignore']||this[_0x5a25cc(0x194)]('groups.upsert',_0x281b63);for(let _0x18d5bd of _0x281b63)await this[_0x5a25cc(0x521)](_0x18d5bd);},'groups.update':async _0x5eb77a=>{const _0x2406b1=_0x5ea640;this[_0x2406b1(0x330)]?.[_0x2406b1(0x888)]||this[_0x2406b1(0x194)]('groups.update',_0x5eb77a);for(let _0x557067 of _0x5eb77a)await this[_0x2406b1(0x521)](_0x557067);},'group-participants.update':async _0x4bd704=>{const _0x5c92e5=_0x5ea640;this[_0x5c92e5(0x330)]?.[_0x5c92e5(0x888)]||this[_0x5c92e5(0x194)]('group-participants.update',_0x4bd704),await this[_0x5c92e5(0x8f4)](_0x4bd704);}},this[_0x5ea640(0x59c)]=0x5,this[_0x5ea640(0x357)]=0x1388,this[_0x5ea640(0x4da)]=0x0,this['processPollUpdateMessage']=async _0x43bfb2=>{const _0x4b34d4=_0x5ea640;if(_0x43bfb2[_0x4b34d4(0x582)]?.[_0x4b34d4(0x8f6)]){let _0x162857=await this[_0x4b34d4(0x38f)](_0x43bfb2[_0x4b34d4(0x582)][_0x4b34d4(0x8f6)][_0x4b34d4(0x830)],!0x0);if(_0x162857){let _0x8a340=_0x162857[_0x4b34d4(0x71e)][_0x4b34d4(0x8fb)]?this[_0x4b34d4(0x248)][_0x4b34d4(0x658)]+_0x4b34d4(0x72d):_0x162857[_0x4b34d4(0x71e)]['participant']||_0x162857[_0x4b34d4(0x71e)]['remoteJid'],_0x342608=_0x162857[_0x4b34d4(0x71e)]['id'],_0x31db83=_0x162857[_0x4b34d4(0x582)],_0x1fe205=Buffer[_0x4b34d4(0x46a)](_0x31db83[_0x4b34d4(0x51b)]['messageSecret'][_0x4b34d4(0x46e)](_0x4b34d4(0x72a)),_0x4b34d4(0x72a)),_0x231f64=(0x0,w[_0x4b34d4(0x28d)])(_0x43bfb2['message']['pollUpdateMessage']['vote'],{'pollCreatorJid':_0x8a340,'pollMsgId':_0x342608,'pollEncKey':_0x1fe205,'voterJid':_0x43bfb2['key'][_0x4b34d4(0x8fb)]?this[_0x4b34d4(0x248)][_0x4b34d4(0x658)]+'@s.whatsapp.net':_0x43bfb2[_0x4b34d4(0x71e)][_0x4b34d4(0x897)][_0x4b34d4(0x79d)](_0x4b34d4(0x411))?_0x43bfb2[_0x4b34d4(0x71e)][_0x4b34d4(0x3c2)]:_0x43bfb2[_0x4b34d4(0x71e)]['remoteJid']}),_0x1e9ad5=[],_0x5180cd=_0x231f64[_0x4b34d4(0x3c8)][_0x4b34d4(0x3ea)](_0x3dc6c1=>Buffer[_0x4b34d4(0x46a)](_0x3dc6c1)[_0x4b34d4(0x46e)]('hex'));for(let {optionName:_0x2b9d8a}of _0x31db83['pollCreationMessage']?.[_0x4b34d4(0x7dd)]||_0x31db83['pollCreationMessageV3']?.[_0x4b34d4(0x7dd)]||_0x31db83[_0x4b34d4(0x53e)]?.[_0x4b34d4(0x7dd)])_0x5180cd[_0x4b34d4(0x8e6)]((0x0,w[_0x4b34d4(0x6f3)])(Buffer[_0x4b34d4(0x46a)](_0x2b9d8a))[_0x4b34d4(0x46e)](_0x4b34d4(0x72a)))>-0x1&&_0x1e9ad5['push'](_0x2b9d8a);return _0x1e9ad5;}}return null;},this[_0x5ea640(0x24a)]=(_0x34053d,_0x76dc30,_0x17e2ba)=>{const _0x496741=_0x5ea640;try{let _0x2b8e75=_0x34053d?(0x0,w['extractMessageContent'])(_0x34053d)[_0x76dc30]:void 0x0,_0x45441c={},_0x35e04c=null,_0x2f370a=null,_0x58877b=null,_0x38a4b8=null;_0x76dc30===_0x496741(0x568)&&_0x2b8e75?.[_0x496741(0x7a4)]&&(_0x76dc30=(0x0,w['getContentType'])(_0x2b8e75['editedMessage']),_0x35e04c=_0x34053d[_0x496741(0x568)][_0x496741(0x71e)]['id'],_0x2b8e75=_0x34053d[_0x496741(0x568)][_0x496741(0x7a4)][_0x76dc30]),_0x34053d[_0x76dc30]?.['contextInfo']?.[_0x496741(0x693)]&&_0x34053d[_0x76dc30]?.[_0x496741(0x909)]?.['quotedMessage']&&(_0x2f370a=_0x34053d[_0x76dc30]['contextInfo'][_0x496741(0x693)]),_0x34053d['reactionMessage']&&(_0x58877b=_0x34053d[_0x496741(0x463)]['key']['id']);let _0x8da503;if(_0x2b8e75&&typeof _0x2b8e75=='object'&&'pollCreationMessageKey'in _0x2b8e75&&({pollCreationMessageKey:_0x8da503}=_0x2b8e75),_0x76dc30===_0x496741(0x446)||_0x76dc30===_0x496741(0x53e)||_0x76dc30===_0x496741(0x20f)){let _0x3f6433=_0x2b8e75[_0x496741(0x7dd)][_0x496741(0x3ea)](_0x4b6a11=>_0x4b6a11[_0x496741(0x80a)])[_0x496741(0x5ee)]('|');_0x45441c['convertedOptions']=_0x3f6433;}if(_0x76dc30===_0x496741(0x57b)){let _0x511bae=_0x2b8e75[_0x496741(0x2e9)][_0x496741(0x19b)][_0x496741(0x3ea)](_0x328270=>JSON[_0x496741(0x47e)](_0x328270[_0x496741(0x443)])[_0x496741(0x1dd)])[_0x496741(0x5ee)]('|');_0x45441c[_0x496741(0x729)]=_0x511bae;}_0x76dc30==='listResponseMessage'&&(_0x45441c[_0x496741(0x6dc)]=_0x2b8e75?.[_0x496741(0x7bf)]?.[_0x496741(0x890)]);let _0x700ba5='';if(_0x2b8e75&&(_0x700ba5+=_0x2b8e75[_0x496741(0x467)]?_0x2b8e75[_0x496741(0x467)]:'',_0x700ba5+=_0x2b8e75[_0x496741(0x41e)]?'\x20'+_0x2b8e75['caption']:'',_0x700ba5+=_0x2b8e75[_0x496741(0x60d)]?'\x20'+_0x2b8e75['conversation']:'',_0x700ba5+=_0x2b8e75[_0x496741(0x88a)]?'\x20'+_0x2b8e75[_0x496741(0x88a)]:'',_0x76dc30!==_0x496741(0x8d2)&&(_0x700ba5+=_0x2b8e75[_0x496741(0x8ce)]?.[_0x496741(0x243)]?'\x20'+_0x2b8e75[_0x496741(0x8ce)][_0x496741(0x243)]:''),_0x700ba5+=_0x2b8e75?.[_0x496741(0x1ad)]?.[_0x496741(0x243)]?'\x20'+_0x2b8e75?.[_0x496741(0x1ad)]?.['text']:''),_0x76dc30===_0x496741(0x869)){_0x700ba5=(_0x2b8e75[_0x496741(0x7e9)]||'')+'\x0a'+(_0x2b8e75[_0x496741(0x8ff)]||'')+'\x0a'+(_0x2b8e75[_0x496741(0x70f)]||'');let _0x4de915=this[_0x496741(0x386)](_0x2b8e75['sections']);_0x45441c[_0x496741(0x729)]=_0x4de915;}if(_0x76dc30==='listResponseMessage'&&(_0x17e2ba=_0x2b8e75['title'],_0x38a4b8=_0x2b8e75?.[_0x496741(0x7bf)]?.[_0x496741(0x890)]),_0x76dc30===_0x496741(0x8d2)){let _0x13660a=_0x2b8e75?.[_0x496741(0x5c5)];_0x13660a&&_0x13660a[_0x496741(0x467)]===_0x496741(0x1e2)&&(_0x38a4b8=JSON[_0x496741(0x47e)](_0x13660a[_0x496741(0x31e)])['id']),_0x17e2ba=_0x2b8e75?.[_0x496741(0x8ce)]?.[_0x496741(0x243)];}if(_0x76dc30===_0x496741(0x903)&&(_0x17e2ba=_0x2b8e75?.[_0x496741(0x8b4)],_0x38a4b8=_0x2b8e75?.[_0x496741(0x3d3)]),_0x76dc30===_0x496741(0x3bf)&&(_0x17e2ba=_0x2b8e75?.[_0x496741(0x8b4)],_0x38a4b8=_0x2b8e75?.['selectedButtonId']),_0x2b8e75&&_0x2b8e75[_0x496741(0x262)]){let _0x26d0d9=this[_0x496741(0x345)](JSON[_0x496741(0x2d0)](_0x2b8e75[_0x496741(0x262)],null,0x2));_0x700ba5=_0x700ba5+'\x0a'+_0x26d0d9;}if(_0x2b8e75){let {selectedButtonId:_0x1a103f,nativeFlowResponseMessage:_0x564836,selectedId:_0x45ed1a,selectedDisplayText:_0x4d0d66,selectedIndex:_0x461b1b,body:_0x9d68c8,nativeFlowMessage:_0x1b0305,singleSelectReply:_0x234006,sections:_0x29907a,listType:_0xb90ab1,displayName:_0x4c77ac,vcard:_0x34fcd4,contactVcard:_0x1ce7e2,name:_0x1ed4b0,caption:_0x4dae6b,conversation:_0x3408f1,pollCreationMessageKey:_0x10d04e,footerText:_0xce26a4,contentText:_0x3c6bce,pageCount:_0x39b466,headerType:_0x49b03e,isAvatar:_0x5a5dac,isAnimated:_0x49ab10,fallbackLc:_0x44a6d9,fallbackLg:_0x1bac6f,namespace:_0xf13c00,elementName:_0x5380c2,localizableParams:_0x500160,viewOnce:_0x415f39,height:_0x8c412f,width:_0x4bbebc,key:_0x2ed421,firstScanLength:_0x34d03e,firstScanSidecar:_0x4fbaaa,gifPlayback:_0x186703,gifAttribution:_0x3608af,midQualityFileSha256:_0x34832e,scansSidecar:_0x4ba112,streamingSidecar:_0x3667ea,thumbnailHeight:_0x404d14,thumbnailWidth:_0x46830b,thumbnailEncSha256:_0x4f6bd0,thumbnailDirectPath:_0x375269,canonicalUrl:_0x409a7c,matchedText:_0x477ead,previewType:_0x80dabe,thumbnailSha256:_0x2659a2,deviceListMetadataVersion:_0x9e72a7,inviteLinkGroupTypeV2:_0x3b2aa6,interactiveAnnotations:_0x1da531,scanLengths:_0x5c0988,jpegThumbnail:_0x3c2b4f,url:_0x5324b7,mediaKeyTimestamp:_0x593747,waveform:_0x339783,stickerSentTs:_0x291d8f,firstFrameLength:_0x1ecc33,fileEncSha256:_0x4d80c5,contextInfo:_0x1e1880,firstFrameSidecar:_0x7d1ddf,directPath:_0x50ee39,fileSha256:_0x23dda0,mediaKey:_0x48ec01,senderTimestampMs:_0x4725e3,..._0x28bda2}=_0x2b8e75;(_0x76dc30==='listMessage'||_0x76dc30===_0x496741(0x707))&&(delete _0x28bda2[_0x496741(0x7e9)],delete _0x28bda2[_0x496741(0x8ff)]),typeof _0x2b8e75=='string'?_0x45441c={'text':_0x2b8e75,'type':_0x76dc30||_0x496741(0x60d),..._0x35e04c&&{'edited':_0x35e04c},..._0x2f370a&&{'quoted':_0x2f370a},..._0x58877b&&{'reaction':_0x58877b}}:_0x45441c={'text':_0x700ba5,..._0x28bda2,..._0x76dc30==='pollUpdateMessage'?{'poll_id':_0x2b8e75[_0x496741(0x830)]['id'],'quoted':_0x2b8e75['pollCreationMessageKey']['id'],'vote':_0x17e2ba}:{},..._0x76dc30==='listResponseMessage'?{'buttonOrList_id':_0x38a4b8,'vote':_0x17e2ba}:{},..._0x76dc30===_0x496741(0x8d2)?{'buttonOrList_id':_0x38a4b8,'vote':_0x17e2ba}:{},..._0x76dc30==='templateButtonReplyMessage'?{'buttonOrList_id':_0x38a4b8,'vote':_0x17e2ba}:{},..._0x76dc30===_0x496741(0x3bf)?{'buttonOrList_id':_0x38a4b8,'vote':_0x17e2ba}:{},'type':_0x76dc30,..._0x35e04c&&{'edited':_0x35e04c},..._0x2f370a&&{'quoted':_0x2f370a},..._0x58877b&&{'reaction':_0x58877b},...(_0x76dc30===_0x496741(0x446)||_0x76dc30===_0x496741(0x53e)||_0x76dc30==='pollCreationMessageV3'||_0x76dc30==='listMessage'||_0x76dc30===_0x496741(0x57b))&&{'convertedOptions':_0x45441c[_0x496741(0x729)]}};}return{'messageType':_0x76dc30,'messageContent':_0x2b8e75,'message_normalized':_0x45441c};}catch(_0x8f9099){return this[_0x496741(0x6d9)][_0x496741(0x5b6)](_0x496741(0x8dc)+_0x8f9099),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['pendingMessages']=[],(this['cleanStore'](),this[_0x5ea640(0x4c6)](),this[_0x5ea640(0x248)][_0x5ea640(0x8ec)]={'count':0x0},this[_0x5ea640(0x248)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}[a0_0x389422(0x8a3)](_0x5e0f6f,_0x5bb64b){const _0x93196f=a0_0x389422;this[_0x93196f(0x7a1)][_0x5e0f6f]||(this[_0x93196f(0x7a1)][_0x5e0f6f]=new Set()),this[_0x93196f(0x7a1)][_0x5e0f6f][_0x93196f(0x765)](_0x5bb64b),setTimeout(()=>this['processedMessagesCache'][_0x5e0f6f][_0x93196f(0x216)](_0x5bb64b),0x2710);}[a0_0x389422(0x50b)](_0x490c9a,_0x203376){const _0x28ecb3=a0_0x389422;return this[_0x28ecb3(0x7a1)][_0x490c9a]?.[_0x28ecb3(0x3cf)](_0x203376)??!0x1;}set['instanceName'](_0x2007fd){const _0xef9094=a0_0x389422;if(!_0x2007fd){this[_0xef9094(0x248)][_0xef9094(0x467)]=(0x0,Ti['v4'])();return;}this[_0xef9094(0x248)][_0xef9094(0x467)]=_0x2007fd,this[_0xef9094(0x194)](_0xef9094(0x5ba),{'instance':this[_0xef9094(0x248)][_0xef9094(0x467)],'status':_0xef9094(0x7fc)});}get['instanceName'](){const _0xb8bf77=a0_0x389422;return this[_0xb8bf77(0x248)][_0xb8bf77(0x467)];}get[a0_0x389422(0x658)](){const _0x1a5e70=a0_0x389422;return this[_0x1a5e70(0x248)][_0x1a5e70(0x658)];}async[a0_0x389422(0x5eb)](){const _0x2173a2=a0_0x389422;let _0x41b1a9=this[_0x2173a2(0x496)][_0x2173a2(0x630)]?.['name']??this[_0x2173a2(0x496)][_0x2173a2(0x630)]?.[_0x2173a2(0x3bc)];if(!_0x41b1a9){if(this[_0x2173a2(0x33c)][_0x2173a2(0x3a9)]('DATABASE')[_0x2173a2(0x290)]){let _0x5c7521=await T[_0x2173a2(0x746)]()['db'](this['configService'][_0x2173a2(0x3a9)](_0x2173a2(0x831))[_0x2173a2(0x429)][_0x2173a2(0x625)]+'-instances')[_0x2173a2(0x25e)](this['instanceName'])[_0x2173a2(0x892)]({'_id':_0x2173a2(0x3ac)});if(_0x5c7521){let _0x34c626=JSON[_0x2173a2(0x47e)](JSON['stringify'](_0x5c7521),w[_0x2173a2(0x30f)][_0x2173a2(0x875)]);_0x41b1a9=_0x34c626['me']?.[_0x2173a2(0x467)]||_0x34c626['me']?.[_0x2173a2(0x3bc)];}}else{if((0x0,Le['existsSync'])((0x0,j[_0x2173a2(0x5ee)])(Se,this[_0x2173a2(0x33a)],_0x2173a2(0x45b)))){let _0x58ebe4=JSON[_0x2173a2(0x47e)]((0x0,Le[_0x2173a2(0x6b3)])((0x0,j[_0x2173a2(0x5ee)])(Se,this[_0x2173a2(0x33a)],_0x2173a2(0x45b)),{'encoding':_0x2173a2(0x5df)}));_0x41b1a9=_0x58ebe4['me']?.['name']||_0x58ebe4['me']?.[_0x2173a2(0x3bc)];}}}return _0x41b1a9;}get[a0_0x389422(0x88f)](){const _0x3701be=a0_0x389422;return this[_0x3701be(0x248)]['profilePictureUrl'];}async['isBusinessInstance'](){const _0x2e6560=a0_0x389422;let _0x4d9b22=this['instance'][_0x2e6560(0x658)]+'@s.whatsapp.net';try{await this[_0x2e6560(0x496)][_0x2e6560(0x344)](_0x4d9b22)?this[_0x2e6560(0x248)][_0x2e6560(0x642)]=!0x0:this[_0x2e6560(0x248)]['isBusiness']=!0x1;}catch{this[_0x2e6560(0x248)]['isBusiness']=!0x1;}return this[_0x2e6560(0x6d9)][_0x2e6560(0x379)](this[_0x2e6560(0x33a)]+'\x20('+this[_0x2e6560(0x248)][_0x2e6560(0x658)]+_0x2e6560(0x56f)+this[_0x2e6560(0x248)][_0x2e6560(0x642)]),this[_0x2e6560(0x248)][_0x2e6560(0x642)];}get['qrCode'](){const _0x3680bf=a0_0x389422;return this[_0x3680bf(0x248)][_0x3680bf(0x8ec)]?.[_0x3680bf(0x895)]?{'pairingCode':this['instance'][_0x3680bf(0x8ec)]?.[_0x3680bf(0x895)]}:{'code':this['instance'][_0x3680bf(0x8ec)]?.[_0x3680bf(0x4df)],'base64':this['instance'][_0x3680bf(0x8ec)]?.[_0x3680bf(0x1a9)]};}async[a0_0x389422(0x6b2)](){const _0x5514a1=a0_0x389422;let _0x3bf2b1=await this[_0x5514a1(0x828)][_0x5514a1(0x8ba)][_0x5514a1(0x428)](this[_0x5514a1(0x33a)]);this[_0x5514a1(0x330)][_0x5514a1(0x55a)]=_0x3bf2b1?.['url'],this[_0x5514a1(0x330)]['enabled']=_0x3bf2b1?.['enabled'],this[_0x5514a1(0x330)][_0x5514a1(0x5ad)]=_0x3bf2b1?.[_0x5514a1(0x5ad)],this[_0x5514a1(0x330)][_0x5514a1(0x688)]=_0x3bf2b1?.[_0x5514a1(0x688)],this[_0x5514a1(0x330)]['QRCODE_UPDATED']=_0x3bf2b1?.['QRCODE_UPDATED'],this[_0x5514a1(0x330)][_0x5514a1(0x808)]=_0x3bf2b1?.['SEND_MESSAGE'],this[_0x5514a1(0x330)][_0x5514a1(0x1f6)]=_0x3bf2b1?.['MESSAGES_UPSERT'],this[_0x5514a1(0x330)]['MESSAGES_UPDATE']=_0x3bf2b1?.[_0x5514a1(0x634)],this[_0x5514a1(0x330)][_0x5514a1(0x7fd)]=_0x3bf2b1?.[_0x5514a1(0x7fd)],this[_0x5514a1(0x330)][_0x5514a1(0x517)]=_0x3bf2b1?.[_0x5514a1(0x517)],this[_0x5514a1(0x330)][_0x5514a1(0x6c3)]=_0x3bf2b1?.[_0x5514a1(0x6c3)],this[_0x5514a1(0x330)][_0x5514a1(0x36b)]=_0x3bf2b1?.[_0x5514a1(0x36b)],this[_0x5514a1(0x330)][_0x5514a1(0x704)]=_0x3bf2b1?.[_0x5514a1(0x704)],this[_0x5514a1(0x330)][_0x5514a1(0x761)]=_0x3bf2b1?.[_0x5514a1(0x761)],this['localWebhook']['CHATS_DELETE']=_0x3bf2b1?.['CHATS_DELETE'],this[_0x5514a1(0x330)]['CONTACTS_SET']=_0x3bf2b1?.[_0x5514a1(0x4d0)],this[_0x5514a1(0x330)]['CONTACTS_UPSERT']=_0x3bf2b1?.[_0x5514a1(0x551)],this['localWebhook'][_0x5514a1(0x5d9)]=_0x3bf2b1?.[_0x5514a1(0x5d9)],this[_0x5514a1(0x330)][_0x5514a1(0x841)]=_0x3bf2b1?.['PRESENCE_UPDATE'],this['localWebhook'][_0x5514a1(0x50d)]=_0x3bf2b1?.[_0x5514a1(0x50d)],this['localWebhook'][_0x5514a1(0x1b6)]=_0x3bf2b1?.[_0x5514a1(0x1b6)],this[_0x5514a1(0x330)][_0x5514a1(0x888)]=_0x3bf2b1?.[_0x5514a1(0x888)];}async[a0_0x389422(0x1ff)](_0x236b52){const _0x53399a=a0_0x389422;let _0x676eb9=[_0x53399a(0x53f),_0x53399a(0x55a),_0x53399a(0x2c6),_0x53399a(0x5ad),_0x53399a(0x688),'QRCODE_UPDATED',_0x53399a(0x634),_0x53399a(0x1f6),'SEND_MESSAGE',_0x53399a(0x7fd),_0x53399a(0x517),_0x53399a(0x6c3),_0x53399a(0x36b),_0x53399a(0x704),_0x53399a(0x761),_0x53399a(0x7f8),'CONTACTS_SET',_0x53399a(0x551),'CONTACTS_UPDATE',_0x53399a(0x841),'MESSAGES_SET',_0x53399a(0x1b6),_0x53399a(0x888)],_0x583ad0={};return _0x676eb9['forEach'](_0xc88656=>{_0x236b52[_0xc88656]!==void 0x0&&(_0x583ad0[_0xc88656]=_0x236b52[_0xc88656]);}),_0x583ad0[_0x53399a(0x55a)]&&(_0x583ad0[_0x53399a(0x55a)]=_0x583ad0[_0x53399a(0x55a)][_0x53399a(0x29d)]()),await this[_0x53399a(0x828)][_0x53399a(0x8ba)][_0x53399a(0x1cc)](_0x583ad0,this[_0x53399a(0x33a)]),Object[_0x53399a(0x8d9)](this[_0x53399a(0x330)],_0x583ad0),await this[_0x53399a(0x828)]['webhook'][_0x53399a(0x428)](this[_0x53399a(0x33a)]);}async[a0_0x389422(0x655)](){const _0x474936=a0_0x389422;return await this[_0x474936(0x828)]['webhook'][_0x474936(0x428)](this[_0x474936(0x33a)]);}async['sendDataWebhook'](_0x5ec620,_0x164c31){const _0x591461=a0_0x389422;let _0x441aa0=_0x5ec620['replace'](/[\.-]/gm,'_')[_0x591461(0x1f7)](),_0x1f2f0f=this[_0x591461(0x330)][_0x591461(0x2c6)]&&(0x0,J['isURL'])(this[_0x591461(0x330)][_0x591461(0x55a)])?this['localWebhook'][_0x591461(0x55a)]+(this['localWebhook'][_0x591461(0x5ad)]?this[_0x591461(0x802)][_0x5ec620]:''):null,_0x16307b=this['localWebhook'][_0x441aa0],_0x1055f1=he&&he[_0x591461(0x2c6)]&&(0x0,J['isURL'])(he[_0x591461(0x55a)])?he['url']+(he[_0x591461(0x5ad)]?this[_0x591461(0x802)][_0x5ec620]:''):null,_0x4e8b3a=he?he[_0x441aa0]:null;if(_0x16307b&&_0x1f2f0f)try{await Q[_0x591461(0x37f)][_0x591461(0x1cc)]({'baseURL':_0x1f2f0f})[_0x591461(0x57f)]('',{'event':_0x5ec620,'instance':this['instance']['name'],'apikey':this[_0x591461(0x248)][_0x591461(0x34b)],'data':_0x164c31}),this['logger'][_0x591461(0x361)](this['instanceName']+'\x20('+this[_0x591461(0x248)][_0x591461(0x658)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x5ec620+':\x20'+_0x1f2f0f);}catch{this[_0x591461(0x6d9)][_0x591461(0x5b6)](this[_0x591461(0x33a)]+'\x20('+this[_0x591461(0x248)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x5ec620+':\x20'+_0x1f2f0f);}if(_0x4e8b3a&&_0x1055f1)try{await Q[_0x591461(0x37f)][_0x591461(0x1cc)]({'baseURL':_0x1055f1})['post']('',{'event':_0x5ec620,'instance':this[_0x591461(0x248)][_0x591461(0x467)],'apikey':this[_0x591461(0x248)][_0x591461(0x34b)],'data':_0x164c31}),this['logger'][_0x591461(0x361)](this[_0x591461(0x33a)]+'\x20('+this[_0x591461(0x248)][_0x591461(0x658)]+_0x591461(0x65b)+_0x5ec620+':\x20'+_0x1055f1);}catch{this['logger']['error'](this[_0x591461(0x33a)]+'\x20('+this[_0x591461(0x248)]['wuid']+_0x591461(0x66e)+_0x5ec620+':\x20'+_0x1055f1);}}async[a0_0x389422(0x327)]({qr:_0x27cd69,connection:_0x771342,lastDisconnect:_0x1cbf8b}){const _0x5a4334=a0_0x389422;if(_0x27cd69){if(this[_0x5a4334(0x248)]['qrcode']['count']===ko)return this[_0x5a4334(0x194)](_0x5a4334(0x4e0),{'message':_0x5a4334(0x224),'statusCode':w[_0x5a4334(0x2a1)][_0x5a4334(0x8de)]}),this['stateConnection']={'state':'refused','statusReason':w['DisconnectReason'][_0x5a4334(0x273)]},this[_0x5a4334(0x194)]('connection.update',{'instance':this[_0x5a4334(0x248)][_0x5a4334(0x467)],...this[_0x5a4334(0x659)]}),this[_0x5a4334(0x194)]('status.instance',{'instance':this[_0x5a4334(0x248)]['name'],'status':_0x5a4334(0x42f)}),this[_0x5a4334(0x828)][_0x5a4334(0x32a)][_0x5a4334(0x216)](this[_0x5a4334(0x248)][_0x5a4334(0x467)]),this[_0x5a4334(0x27a)]=!0x0,ae[_0x5a4334(0x37a)](B,this[_0x5a4334(0x248)][_0x5a4334(0x467)]),this['eventEmitter']['emit']('no.connection',this['instance'][_0x5a4334(0x467)]);this[_0x5a4334(0x248)][_0x5a4334(0x8ec)][_0x5a4334(0x1d5)]++;let _0x55a62c={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x5a4334(0x2ec)}};Ii[_0x5a4334(0x37f)][_0x5a4334(0x314)](_0x27cd69,_0x55a62c,(_0x4daddb,_0x42bd27)=>{const _0x2fa94b=_0x5a4334;if(_0x4daddb){this['logger'][_0x2fa94b(0x5b6)](this[_0x2fa94b(0x33a)]+'\x20('+this['instance'][_0x2fa94b(0x658)]+_0x2fa94b(0x822)+(_0x4daddb instanceof Error?_0x4daddb[_0x2fa94b(0x582)]:JSON[_0x2fa94b(0x2d0)](_0x4daddb,null,0x2)));return;}this[_0x2fa94b(0x248)]['qrcode'][_0x2fa94b(0x1a9)]=_0x42bd27,this[_0x2fa94b(0x248)][_0x2fa94b(0x8ec)]['code']=_0x27cd69,!this[_0x2fa94b(0x7b2)]&&this[_0x2fa94b(0x194)](_0x2fa94b(0x4e0),{'qrcode':{'instance':this[_0x2fa94b(0x248)][_0x2fa94b(0x467)],'pairingCode':this[_0x2fa94b(0x248)]['qrcode'][_0x2fa94b(0x895)],'code':_0x27cd69,'base64':_0x42bd27}});}),this['phoneNumber']?this[_0x5a4334(0x248)][_0x5a4334(0x8ec)][_0x5a4334(0x895)]||(await(0x0,w[_0x5a4334(0x3dc)])(0x7d0),this[_0x5a4334(0x248)][_0x5a4334(0x8ec)][_0x5a4334(0x895)]=await this[_0x5a4334(0x496)]['requestPairingCode'](this[_0x5a4334(0x7b2)])):this[_0x5a4334(0x248)][_0x5a4334(0x8ec)][_0x5a4334(0x895)]=null,_i['default']['generate'](_0x27cd69,{'small':!0x0},_0x4a5b25=>this['logger'][_0x5a4334(0x361)](_0x5a4334(0x18e)+this[_0x5a4334(0x248)][_0x5a4334(0x467)]+_0x5a4334(0x4af)+this[_0x5a4334(0x248)]['qrcode'][_0x5a4334(0x1d5)]+_0x5a4334(0x8da)+this[_0x5a4334(0x248)][_0x5a4334(0x8ec)][_0x5a4334(0x895)]+_0x5a4334(0x22e)+_0x4a5b25));}if(_0x771342&&(this[_0x5a4334(0x659)]={'state':_0x771342,'statusReason':_0x1cbf8b?.[_0x5a4334(0x5b6)]?.['output']?.[_0x5a4334(0x7ce)]??0xc8},this['sendDataWebhook'](_0x5a4334(0x4b1),{'instance':this[_0x5a4334(0x248)][_0x5a4334(0x467)],...this[_0x5a4334(0x659)]})),_0x771342==='close'){if(this[_0x5a4334(0x7fb)]++,this['reconnectTimestamps'][_0x5a4334(0x3ae)](Date[_0x5a4334(0x755)]()),this['reconnectTimestamps']=this[_0x5a4334(0x629)][_0x5a4334(0x7ab)](_0x1a0b4c=>Date['now']()-_0x1a0b4c<this[_0x5a4334(0x2d7)]),_0x1cbf8b['error']?.[_0x5a4334(0x8d6)]?.[_0x5a4334(0x7ce)]!==w[_0x5a4334(0x2a1)][_0x5a4334(0x540)]){let _0x4680ff=this[_0x5a4334(0x7fb)]<=0x1?0x0:Math['min'](Math[_0x5a4334(0x57e)](0x2,this[_0x5a4334(0x7fb)]-0x1)*0x3e8,0x493e0);console['log'](this[_0x5a4334(0x33a)]+_0x5a4334(0x73f)+this[_0x5a4334(0x7fb)]+_0x5a4334(0x71d)+_0x4680ff/0x3e8+_0x5a4334(0x2fb)),await new Promise(_0x4be39e=>setTimeout(_0x4be39e,_0x4680ff)),console['log'](_0x5a4334(0x5a0)),await this[_0x5a4334(0x838)]();}else{this['sendDataWebhook'](_0x5a4334(0x5ba),{'instance':this[_0x5a4334(0x248)][_0x5a4334(0x467)],'status':_0x5a4334(0x42f)}),this[_0x5a4334(0x248)][_0x5a4334(0x524)][_0x5a4334(0x1ee)]=!0x1,this[_0x5a4334(0x828)][_0x5a4334(0x8ba)][_0x5a4334(0x216)](this['instanceName']),this[_0x5a4334(0x828)][_0x5a4334(0x32a)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x5a4334(0x755)]()},this[_0x5a4334(0x248)][_0x5a4334(0x467)]),ae[_0x5a4334(0x37a)](B,this[_0x5a4334(0x248)][_0x5a4334(0x467)]);try{this['logger'][_0x5a4334(0x2b6)](this[_0x5a4334(0x33a)]+'\x20('+this[_0x5a4334(0x248)][_0x5a4334(0x658)]+_0x5a4334(0x835));let _0x25123f=await this[_0x5a4334(0x828)][_0x5a4334(0x582)][_0x5a4334(0x712)](this[_0x5a4334(0x248)][_0x5a4334(0x658)]);_0x25123f[_0x5a4334(0x67f)]?this[_0x5a4334(0x6d9)][_0x5a4334(0x2b6)](this['instanceName']+'\x20('+this[_0x5a4334(0x248)]['wuid']+_0x5a4334(0x591)):this[_0x5a4334(0x6d9)][_0x5a4334(0x5b6)](_0x5a4334(0x21a)+_0x25123f['error']);}catch(_0x2c9995){this[_0x5a4334(0x6d9)][_0x5a4334(0x5b6)](_0x5a4334(0x81f)+_0x2c9995[_0x5a4334(0x582)]);}this[_0x5a4334(0x248)][_0x5a4334(0x524)]['delayMessage']!==null&&(this[_0x5a4334(0x6d9)]['verbose'](this[_0x5a4334(0x33a)]+'\x20('+this[_0x5a4334(0x248)][_0x5a4334(0x658)]+_0x5a4334(0x2ca)),clearInterval(this[_0x5a4334(0x248)][_0x5a4334(0x524)][_0x5a4334(0x190)]),this[_0x5a4334(0x248)]['ScheduleMessage'][_0x5a4334(0x190)]=null),this[_0x5a4334(0x6d9)][_0x5a4334(0x2b6)](this[_0x5a4334(0x33a)]+'\x20('+this[_0x5a4334(0x248)][_0x5a4334(0x658)]+_0x5a4334(0x4f1)),this[_0x5a4334(0x346)]=null,this[_0x5a4334(0x189)]['emit'](_0x5a4334(0x6f2),this['instance']['name'],_0x5a4334(0x745)),this[_0x5a4334(0x496)]?.['ws']?.[_0x5a4334(0x253)](),this[_0x5a4334(0x496)]['end'](new Error('Close\x20connection'));}}if(_0x771342==='open'){this[_0x5a4334(0x6d9)][_0x5a4334(0x74f)](this['instanceName']+'\x20('+this[_0x5a4334(0x248)][_0x5a4334(0x658)]+_0x5a4334(0x631)+this['client']['authState']['creds']?.['myAppStateKeyId']),this[_0x5a4334(0x496)][_0x5a4334(0x5f7)][_0x5a4334(0x3ac)]?.[_0x5a4334(0x55e)]||(this[_0x5a4334(0x6d9)][_0x5a4334(0x74f)](this[_0x5a4334(0x33a)]+'\x20('+this[_0x5a4334(0x248)]['wuid']+_0x5a4334(0x4de)),this[_0x5a4334(0x496)]['ev']['flush']()),this[_0x5a4334(0x60c)],this[_0x5a4334(0x248)][_0x5a4334(0x658)]=this[_0x5a4334(0x496)][_0x5a4334(0x630)]['id']['replace'](/:\d+/,'')[_0x5a4334(0x793)](_0x5a4334(0x72d),''),this[_0x5a4334(0x248)][_0x5a4334(0x88f)]=(await this[_0x5a4334(0x8c4)](this[_0x5a4334(0x248)][_0x5a4334(0x658)]+_0x5a4334(0x72d)))[_0x5a4334(0x88f)],this[_0x5a4334(0x828)]['auth'][_0x5a4334(0x1cc)]({'online':!0x0,'owner':this[_0x5a4334(0x248)][_0x5a4334(0x658)],'lastDisconnect':null},this[_0x5a4334(0x248)][_0x5a4334(0x467)]);let _0x3c1528=_0x5a4334(0x59b)+this[_0x5a4334(0x248)][_0x5a4334(0x658)],_0x387da9=0x28,_0x3a005a=Math[_0x5a4334(0x448)]((_0x387da9-_0x3c1528[_0x5a4334(0x7d0)])/0x2),_0x379a20='\x20'[_0x5a4334(0x280)](_0x3a005a),_0x2e453f=_0x5a4334(0x7e6),_0x4bf8b5=_0x5a4334(0x2c4)+this['instance'][_0x5a4334(0x467)],_0x8b20a2=(''+_0x379a20+_0x3c1528+_0x379a20)[_0x5a4334(0x6a2)](_0x387da9,'\x20'),_0x3a854c=(''+_0x379a20+_0x2e453f+_0x379a20)[_0x5a4334(0x6a2)](_0x387da9,'\x20'),_0x57ceb0=(''+_0x379a20+_0x4bf8b5+_0x379a20)[_0x5a4334(0x6a2)](_0x387da9,'\x20'),_0xd6e2c8=Math[_0x5a4334(0x528)](_0x8b20a2['length'],_0x3a854c[_0x5a4334(0x7d0)],_0x57ceb0[_0x5a4334(0x7d0)]),_0x379aba=_0x8b20a2[_0x5a4334(0x6a2)](_0xd6e2c8,'\x20'),_0x8129f6=_0x3a854c['padEnd'](_0xd6e2c8,'\x20'),_0x58fe05=_0x57ceb0['padEnd'](_0xd6e2c8,'\x20');this[_0x5a4334(0x6d9)][_0x5a4334(0x379)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x5a4334(0x280)](_0xd6e2c8)+_0x5a4334(0x2b2)+_0x8129f6+_0x5a4334(0x242)+_0x58fe05+_0x5a4334(0x242)+_0x379aba+_0x5a4334(0x6af)+'─'['repeat'](_0xd6e2c8)+'┘')[_0x5a4334(0x793)](/^ +/gm,'\x20\x20')),this[_0x5a4334(0x664)](),this[_0x5a4334(0x248)]['ScheduleMessage']['isConnected']=!0x0;}}[a0_0x389422(0x60c)](){const _0x3e9247=a0_0x389422;this[_0x3e9247(0x7fb)]=0x0,this[_0x3e9247(0x629)]=[];}async[a0_0x389422(0x38f)](_0x6195d,_0x5b5efb=!0x1){const _0x381da7=a0_0x389422;try{let _0x4eecd7=await this[_0x381da7(0x828)][_0x381da7(0x582)]['find']({'where':{'_id':_0x6195d['id']}},this[_0x381da7(0x248)][_0x381da7(0x658)]);return _0x5b5efb?_0x4eecd7[0x0]:_0x4eecd7[0x0][_0x381da7(0x582)];}catch{return{'conversation':''};}}[a0_0x389422(0x8f2)](){const _0x1758bf=a0_0x389422;let _0x2c1ad4=this[_0x1758bf(0x33c)][_0x1758bf(0x3a9)](_0x1758bf(0x6ff)),_0x17f8b2=this[_0x1758bf(0x33c)][_0x1758bf(0x3a9)](_0x1758bf(0x831));_0x2c1ad4?.[_0x1758bf(0x3ba)]&&!_0x17f8b2['ENABLED']&&setInterval(()=>{const _0x28c715=_0x1758bf;try{for(let [_0x3c69f7,_0x381960]of Object[_0x28c715(0x730)](_0x2c1ad4))_0x381960===!0x0&&(0x0,Fe[_0x28c715(0x809)])('rm\x20-rf\x20'+(0x0,j[_0x28c715(0x5ee)])(this[_0x28c715(0x63e)],_0x3c69f7[_0x28c715(0x7b1)](),this[_0x28c715(0x248)][_0x28c715(0x658)])+_0x28c715(0x557));}catch{}},(_0x2c1ad4?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x389422(0x884)](){const _0x2f4071=a0_0x389422;let _0x483be8=this['configService'][_0x2f4071(0x3a9)](_0x2f4071(0x831)),_0x26558f=this['configService'][_0x2f4071(0x3a9)](_0x2f4071(0x593));return _0x26558f?.['ENABLED']?await Os(_0x26558f,this[_0x2f4071(0x248)][_0x2f4071(0x467)]):_0x483be8[_0x2f4071(0x290)]?await _s(this[_0x2f4071(0x248)][_0x2f4071(0x467)]):await(0x0,w[_0x2f4071(0x651)])((0x0,j['join'])(Se,this[_0x2f4071(0x248)][_0x2f4071(0x467)]));}async[a0_0x389422(0x664)](){const _0x38572b=a0_0x389422;let _0x400e62=()=>Math['floor'](Math[_0x38572b(0x324)]()*0x4e21)+0x7d0,_0x496125=async()=>{const _0x33e41e=_0x38572b;if(!this['instance'][_0x33e41e(0x524)]['isConnected']){this[_0x33e41e(0x6d9)][_0x33e41e(0x2b6)](this['instanceName']+'\x20('+this[_0x33e41e(0x248)][_0x33e41e(0x658)]+_0x33e41e(0x850)),this[_0x33e41e(0x624)]=!0x1;return;}if(this[_0x33e41e(0x248)][_0x33e41e(0x658)]&&this[_0x33e41e(0x346)]&&this[_0x33e41e(0x248)]['ScheduleMessage']['delayMessage']!==null&&this[_0x33e41e(0x248)][_0x33e41e(0x524)][_0x33e41e(0x190)]!==void 0x0){let _0x34a67c=Math['round'](this[_0x33e41e(0x248)][_0x33e41e(0x524)][_0x33e41e(0x190)]/0xea60);this[_0x33e41e(0x6d9)][_0x33e41e(0x2b6)](this[_0x33e41e(0x33a)]+'\x20('+this[_0x33e41e(0x248)][_0x33e41e(0x658)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x34a67c+_0x33e41e(0x385)),this[_0x33e41e(0x624)]=!0x1;return;}else this[_0x33e41e(0x248)]['wuid']&&(this[_0x33e41e(0x6d9)]['verbose'](this['instanceName']+'\x20('+this[_0x33e41e(0x248)][_0x33e41e(0x658)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x33e41e(0x346)]||(await this[_0x33e41e(0x87a)](),this[_0x33e41e(0x63c)](),this[_0x33e41e(0x1be)]()),(this[_0x33e41e(0x248)]['ScheduleMessage'][_0x33e41e(0x190)]===null||this['instance'][_0x33e41e(0x524)]['delayMessage']===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x33e41e(0x624)]){let _0x366741=_0x400e62();this[_0x33e41e(0x6d9)][_0x33e41e(0x2b6)](this[_0x33e41e(0x33a)]+_0x33e41e(0x183)+_0x366741/0x3e8+_0x33e41e(0x4ec)),setTimeout(_0x496125,_0x366741);}};if(this[_0x38572b(0x624)])return;this[_0x38572b(0x624)]=!0x0;let _0x3d51f8=_0x400e62();setTimeout(_0x496125,_0x3d51f8);}async[a0_0x389422(0x1be)](){const _0x5da226=a0_0x389422;let _0x45eca9=this[_0x5da226(0x248)]['wuid'];try{let _0x13b97a=await this[_0x5da226(0x828)][_0x5da226(0x8b8)]['findAll']({'where':{'$or':[{'owner':_0x45eca9},{'whoCanUse':{'$in':[_0x45eca9]}},{'shareOwners':{'$in':[_0x45eca9]}}]}}),_0x3a8e92=new Map(this[_0x5da226(0x346)][_0x5da226(0x315)]['map'](_0x105d53=>[_0x105d53['_id'],_0x105d53])),_0x197644=_0x13b97a[_0x5da226(0x3ea)](_0x3222e8=>{const _0x35b17e=_0x5da226;let _0x2fe7e3=_0x3a8e92[_0x35b17e(0x3a9)](_0x3222e8[_0x35b17e(0x53f)]?.['toString']());return{'_id':_0x3222e8[_0x35b17e(0x53f)]?.[_0x35b17e(0x46e)](),'name':_0x2fe7e3?.[_0x35b17e(0x467)]??_0x3222e8[_0x35b17e(0x467)],'default':_0x2fe7e3?.[_0x35b17e(0x37f)]??_0x3222e8[_0x35b17e(0x37f)]??!0x1,'startCommand':_0x2fe7e3?.['startCommand']??_0x3222e8[_0x35b17e(0x652)],'minutesToClose':_0x2fe7e3?.[_0x35b17e(0x896)]??_0x3222e8['minutesToClose']??0xa,'readMessages':_0x2fe7e3?.[_0x35b17e(0x65a)]??_0x3222e8[_0x35b17e(0x65a)]??!0x1,'testingWith':_0x2fe7e3?.[_0x35b17e(0x810)]??_0x3222e8[_0x35b17e(0x810)],'canEdit':_0x3222e8[_0x35b17e(0x23e)]===_0x45eca9||(_0x3222e8[_0x35b17e(0x620)]??[])[_0x35b17e(0x908)](_0x45eca9),'usersCount':(_0x3222e8[_0x35b17e(0x4dc)]??[])[_0x35b17e(0x7d0)]??0x0};}),_0x1c3206=!0x1;_0x197644[_0x5da226(0x785)](_0x495188=>{const _0x1a1516=_0x5da226;_0x495188[_0x1a1516(0x37f)]&&(_0x1c3206?_0x495188[_0x1a1516(0x37f)]=!0x1:_0x1c3206=!0x0);}),this[_0x5da226(0x346)][_0x5da226(0x315)]=_0x197644;let _0x19098c={'flows':_0x197644};return await this[_0x5da226(0x828)]['automateSystem'][_0x5da226(0x4a1)](_0x19098c,_0x45eca9),this['logger'][_0x5da226(0x2b6)](this[_0x5da226(0x33a)]+'\x20('+_0x45eca9+_0x5da226(0x29e)),_0x197644[_0x5da226(0x7d0)];}catch(_0x33d32a){return this[_0x5da226(0x6d9)][_0x5da226(0x5b6)](this[_0x5da226(0x33a)]+'\x20('+_0x45eca9+_0x5da226(0x821)+(_0x33d32a instanceof Error?_0x33d32a[_0x5da226(0x582)]:JSON[_0x5da226(0x2d0)](_0x33d32a,null,0x2))),{'message':_0x5da226(0x403)+(_0x33d32a instanceof Error?_0x33d32a['message']:JSON[_0x5da226(0x2d0)](_0x33d32a,null,0x2))};}}async[a0_0x389422(0x838)](_0x1d824a){const _0x7d579=a0_0x389422;try{let _0x5f3ed1=await this[_0x7d579(0x828)][_0x7d579(0x248)]['findOne']({'where':{'_id':B+'-'+this[_0x7d579(0x33a)]}}),_0x3307d3,_0x50a92c=!ae[_0x7d579(0x3a2)]||!ae[_0x7d579(0x8cd)];console[_0x7d579(0x361)](_0x7d579(0x218)),console[_0x7d579(0x361)]('proxy:\x20',Ai),console[_0x7d579(0x361)](_0x7d579(0x5ec),this[_0x7d579(0x7fb)]),console[_0x7d579(0x361)]('--------------------------------------'),Ai&&!_0x50a92c&&(this[_0x7d579(0x7fb)]<0x4||!this['reconnectAttempts']?_0x5f3ed1&&_0x5f3ed1['ip']?(_0x3307d3=_0x5f3ed1['ip'],console[_0x7d579(0x361)](_0x7d579(0x56a)+_0x3307d3)):(_0x3307d3=await ae[_0x7d579(0x8c1)](B,this[_0x7d579(0x248)][_0x7d579(0x467)]),_0x3307d3?(console[_0x7d579(0x361)](_0x7d579(0x3c7)+_0x3307d3),await(0x0,w[_0x7d579(0x3dc)])(0x7d0)):console[_0x7d579(0x5b6)](_0x7d579(0x5ea))):this[_0x7d579(0x7fb)]<0x6&&(await ae[_0x7d579(0x37a)](B,this[_0x7d579(0x248)][_0x7d579(0x467)]),console[_0x7d579(0x361)](_0x7d579(0x555)),_0x3307d3=await ae[_0x7d579(0x8c1)](B,this[_0x7d579(0x248)]['name']),_0x3307d3?(console[_0x7d579(0x361)](_0x7d579(0x3c7)+_0x3307d3),await(0x0,w[_0x7d579(0x3dc)])(0x7d0)):console[_0x7d579(0x5b6)]('Falha\x20ao\x20recriar\x20IPv6.'))),this[_0x7d579(0x6b2)](),this[_0x7d579(0x248)]['apikey']=(await this['repository'][_0x7d579(0x32a)][_0x7d579(0x428)](this[_0x7d579(0x248)][_0x7d579(0x467)]))[_0x7d579(0x34b)],this[_0x7d579(0x248)][_0x7d579(0x5f7)]=await this[_0x7d579(0x884)]();let _0x2e5563=[xi,Fs,(0x0,Ds[_0x7d579(0x1dc)])()],_0x2374c={'localAddress':_0x3307d3,'auth':{'creds':this[_0x7d579(0x248)][_0x7d579(0x5f7)]['state']['creds'],'keys':(0x0,w[_0x7d579(0x4c0)])(this['instance'][_0x7d579(0x5f7)][_0x7d579(0x819)][_0x7d579(0x8b0)],(0x0,Ft[_0x7d579(0x37f)])({'level':'error'}))},'logger':(0x0,Ft[_0x7d579(0x37f)])({'level':_0x7d579(0x5b6)}),'printQRInTerminal':!0x1,'browser':_0x1d824a?[_0x7d579(0x270),Fs,(0x0,Ds[_0x7d579(0x1dc)])()]:_0x2e5563,'version':[0x2,0x9d1,0x1],'retryRequestDelayMs':0x15e,'maxMsgRetryCount':0x4,'fireInitQueries':!0x0,'connectTimeoutMs':0x4e20,'keepAliveIntervalMs':0x7530,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2fa865=>{const _0xe93bee=_0x7d579;let _0x1eef0e=this['localWebhook']?.[_0xe93bee(0x888)]&&(0x0,w['isJidGroup'])(_0x2fa865);return(0x0,w[_0xe93bee(0x481)])(_0x2fa865)||_0x1eef0e;},'msgRetryCounterCache':this[_0x7d579(0x35c)],'getMessage':async _0x29aeb6=>await this[_0x7d579(0x38f)](_0x29aeb6),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x25407c){const _0xfb2805=_0x7d579;return _0x25407c[_0xfb2805(0x816)]?.[_0xfb2805(0x582)]?.[_0xfb2805(0x869)]?.[_0xfb2805(0x22d)]===w[_0xfb2805(0x478)][_0xfb2805(0x356)][_0xfb2805(0x4c1)]['ListType'][_0xfb2805(0x337)]&&(_0x25407c=JSON[_0xfb2805(0x47e)](JSON[_0xfb2805(0x2d0)](_0x25407c)),_0x25407c[_0xfb2805(0x816)][_0xfb2805(0x582)][_0xfb2805(0x869)][_0xfb2805(0x22d)]=w['proto'][_0xfb2805(0x356)]['ListMessage']['ListType'][_0xfb2805(0x234)]),_0x25407c[_0xfb2805(0x869)]?.[_0xfb2805(0x22d)]==w['proto'][_0xfb2805(0x356)][_0xfb2805(0x4c1)][_0xfb2805(0x5ef)]['PRODUCT_LIST']&&(_0x25407c=JSON['parse'](JSON['stringify'](_0x25407c)),_0x25407c[_0xfb2805(0x869)]['listType']=w[_0xfb2805(0x478)][_0xfb2805(0x356)][_0xfb2805(0x4c1)][_0xfb2805(0x5ef)][_0xfb2805(0x234)]),_0x25407c;}};return this[_0x7d579(0x27a)]=!0x1,this['client']=(0x0,w[_0x7d579(0x37f)])(_0x2374c),this[_0x7d579(0x6c5)](),this[_0x7d579(0x7b2)]=_0x1d824a,this[_0x7d579(0x496)];}catch(_0xb2e507){let _0x1549e1=_0x7d579(0x4e7),_0x4fe0d7=_0xb2e507 instanceof Error?_0xb2e507['message']:typeof _0xb2e507==_0x7d579(0x26d)?JSON['stringify'](_0xb2e507):_0xb2e507,_0x515400=_0x1549e1+':\x20'+_0x4fe0d7;throw this[_0x7d579(0x6d9)][_0x7d579(0x5b6)](this[_0x7d579(0x33a)]+'\x20('+this[_0x7d579(0x248)]['wuid']+_0x7d579(0x375)+_0x515400),console[_0x7d579(0x5b6)]('Detalhes\x20do\x20erro:',_0xb2e507),_0xb2e507 instanceof Error&&console[_0x7d579(0x5b6)](_0x7d579(0x6c4),_0xb2e507[_0x7d579(0x25d)]),new x(_0x515400);}}[a0_0x389422(0x6c5)](){const _0x508e10=a0_0x389422;this[_0x508e10(0x496)]['ev'][_0x508e10(0x4d9)](_0x157237=>{const _0x5112cb=_0x508e10;if(!this[_0x5112cb(0x27a)]){let _0xb8d645=this[_0x5112cb(0x33c)][_0x5112cb(0x3a9)](_0x5112cb(0x831));if(_0x157237[_0x5112cb(0x37d)]){let _0x378944=_0x157237[_0x5112cb(0x37d)];this['messageHandle'][_0x5112cb(0x37d)](_0x378944);}if(_0x157237[_0x5112cb(0x8ed)]){let _0x2112be=_0x157237['labels.association'];this['messageHandle']['labels.association'](_0x2112be);}if(_0x157237['connection.update']&&this[_0x5112cb(0x327)](_0x157237[_0x5112cb(0x4b1)]),_0x157237[_0x5112cb(0x34d)]&&this[_0x5112cb(0x248)][_0x5112cb(0x5f7)][_0x5112cb(0x594)](),_0x157237[_0x5112cb(0x34f)]){let _0x599e3e=_0x157237['messaging-history.set'];this['messageHandle'][_0x5112cb(0x34f)](_0x599e3e,_0xb8d645);}if(_0x157237['messages.upsert']){let _0x560e3e=_0x157237[_0x5112cb(0x65d)];this['messageHandle'][_0x5112cb(0x65d)](_0x560e3e,_0xb8d645);}if(_0x157237[_0x5112cb(0x6c9)]){let _0x2c4b67=_0x157237[_0x5112cb(0x6c9)];this[_0x5112cb(0x193)][_0x5112cb(0x6c9)](_0x2c4b67,_0xb8d645);}if(_0x157237[_0x5112cb(0x2a4)]){let _0x32f136=_0x157237[_0x5112cb(0x2a4)];if(this[_0x5112cb(0x330)]?.[_0x5112cb(0x888)]&&_0x32f136['id'][_0x5112cb(0x908)](_0x5112cb(0x3a5)))return;this[_0x5112cb(0x194)]('presence.update',_0x32f136);}if(_0x157237[_0x5112cb(0x4ce)]){let _0x1f4d1c=_0x157237['groups.upsert'];this[_0x5112cb(0x322)][_0x5112cb(0x4ce)](_0x1f4d1c);}if(_0x157237[_0x5112cb(0x1bc)]){let _0x5858e7=_0x157237[_0x5112cb(0x1bc)];this[_0x5112cb(0x322)][_0x5112cb(0x1bc)](_0x5858e7);}if(_0x157237['group-participants.update']){let _0x2362f1=_0x157237[_0x5112cb(0x4aa)];this[_0x5112cb(0x322)][_0x5112cb(0x4aa)](_0x2362f1);}if(_0x157237[_0x5112cb(0x8b9)]){let _0x38535c=_0x157237[_0x5112cb(0x8b9)];this['chatHandle'][_0x5112cb(0x8b9)](_0x38535c,_0xb8d645);}if(_0x157237[_0x5112cb(0x1fd)]){let _0x1a27f9=_0x157237['chats.update'];this[_0x5112cb(0x237)][_0x5112cb(0x1fd)](_0x1a27f9,_0xb8d645);}if(_0x157237[_0x5112cb(0x373)]){let _0x261fd3=_0x157237[_0x5112cb(0x373)];this[_0x5112cb(0x237)][_0x5112cb(0x373)](_0x261fd3);}if(_0x157237[_0x5112cb(0x8a6)]){let _0x2fc4d7=_0x157237[_0x5112cb(0x8a6)];this[_0x5112cb(0x49d)][_0x5112cb(0x8a6)](_0x2fc4d7,_0xb8d645);}if(_0x157237[_0x5112cb(0x59e)]){let _0x5210ac=_0x157237['contacts.update'];this['contactHandle'][_0x5112cb(0x59e)](_0x5210ac,_0xb8d645);}}});}async[a0_0x389422(0x65f)](_0x48a1b1,_0x17cb3c){const _0x559920=a0_0x389422;if(_0x17cb3c>=0xa){console['error'](this['instanceName']+'\x20('+this['instance'][_0x559920(0x658)]+_0x559920(0x654)),delete Lt[_0x48a1b1['key']['id']];return;}try{console[_0x559920(0x5b6)](this[_0x559920(0x33a)]+'\x20('+this[_0x559920(0x248)][_0x559920(0x658)]+'):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20'+(_0x17cb3c+0x1)),await this[_0x559920(0x496)][_0x559920(0x4ba)](JSON[_0x559920(0x47e)](_0x48a1b1[_0x559920(0x587)][0x1],w[_0x559920(0x30f)][_0x559920(0x875)])),console[_0x559920(0x5b6)](_0x559920(0x839));}catch(_0x5cd1a5){console[_0x559920(0x5b6)](this[_0x559920(0x33a)]+'\x20('+this[_0x559920(0x248)][_0x559920(0x658)]+_0x559920(0x3fc)+_0x5cd1a5),setTimeout(()=>this[_0x559920(0x65f)](_0x48a1b1,_0x17cb3c+0x1),Math[_0x559920(0x57e)](0x2,_0x17cb3c)*0x3e8);}}async[a0_0x389422(0x81b)](_0x197638){const _0x3e0e7b=a0_0x389422;let _0x5eb61e=_0x197638[_0x3e0e7b(0x71e)][_0x3e0e7b(0x897)][_0x3e0e7b(0x79d)](_0x3e0e7b(0x3a5)),_0x1275da;if(_0x197638['key'][_0x3e0e7b(0x8fb)])_0x1275da=this[_0x3e0e7b(0x248)][_0x3e0e7b(0x88f)];else{let _0x43f39d=_0x5eb61e?_0x197638['key']['participant']:_0x197638[_0x3e0e7b(0x71e)][_0x3e0e7b(0x897)];_0x1275da=(await this['findAndUpdateCacheContact'](_0x43f39d,_0x197638[_0x3e0e7b(0x7f7)],!0x1))[_0x3e0e7b(0x2de)][_0x3e0e7b(0x7f9)];}_0x197638[_0x3e0e7b(0x26a)]&&_0x197638['messageTimestamp'][_0x3e0e7b(0x46e)]()[_0x3e0e7b(0x7d0)]<0xd&&(_0x197638[_0x3e0e7b(0x26a)]=_0x197638['messageTimestamp']*0x3e8);let _0x400348={'_id':_0x197638[_0x3e0e7b(0x71e)]['id'],'key':_0x197638[_0x3e0e7b(0x71e)],'isGroup':_0x5eb61e,'profilePictureUrl':_0x1275da,'pushName':_0x197638[_0x3e0e7b(0x7f7)],'message':{'text':_0x3e0e7b(0x2db)},'messageType':_0x3e0e7b(0x5b6),'message_normalized':{'key':_0x197638[_0x3e0e7b(0x71e)],'pushName':_0x197638[_0x3e0e7b(0x7f7)],'messageTimestamp':_0x197638[_0x3e0e7b(0x26a)],'source':(0x0,w['getDevice'])(_0x197638[_0x3e0e7b(0x71e)]['id']),'text':_0x3e0e7b(0x2db)},'messageTimestamp':_0x197638['messageTimestamp'],'owner':this[_0x3e0e7b(0x248)][_0x3e0e7b(0x658)],'source':(0x0,w[_0x3e0e7b(0x256)])(_0x197638['key']['id'])};this['logger']['error'](this[_0x3e0e7b(0x33a)]+'\x20('+this['instance'][_0x3e0e7b(0x658)]+'):\x20'+(_0x400348['key']?.['fromMe']?_0x3e0e7b(0x5e5):_0x3e0e7b(0x2d4))+'\x20['+_0x400348['key']?.['remoteJid'][_0x3e0e7b(0x793)](_0x3e0e7b(0x72d),'')+_0x3e0e7b(0x5d4)+_0x400348['messageType']+')'),_0x400348[_0x3e0e7b(0x6cd)]?.[_0x3e0e7b(0x243)]&&this['logger'][_0x3e0e7b(0x5b6)](_0x197638['key']['id']+':\x20'+_0x400348[_0x3e0e7b(0x6cd)]?.[_0x3e0e7b(0x243)]),await this[_0x3e0e7b(0x828)][_0x3e0e7b(0x582)][_0x3e0e7b(0x4a0)]([_0x400348],this[_0x3e0e7b(0x248)][_0x3e0e7b(0x658)]),await this[_0x3e0e7b(0x828)]['messageLogs'][_0x3e0e7b(0x4a0)]([_0x400348]),this[_0x3e0e7b(0x194)](_0x3e0e7b(0x65d),_0x400348),F(this[_0x3e0e7b(0x33a)],'messages',{'message':_0x400348});}[a0_0x389422(0x621)](_0x3d7a8a){return new Promise(_0x230068=>setTimeout(_0x230068,_0x3d7a8a));}['formatBRNumber'](_0x5a5c83){const _0x5760fb=a0_0x389422;_0x5a5c83=_0x5a5c83[_0x5760fb(0x793)](/\D/g,'');let _0x302c8f=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5760fb(0x5a6)](_0x5a5c83);if(_0x302c8f&&_0x302c8f[0x1]==='55'){let _0x14d52b=_0x302c8f[0x2],_0x2869b1=_0x302c8f[0x3],_0x124286=_0x302c8f[0x4];if(parseInt(_0x14d52b)>=0x1f&&_0x2869b1==='9')return _0x302c8f[0x1]+_0x14d52b+_0x124286;}return _0x5a5c83;}['createJid'](_0x16657f){const _0x2cf061=a0_0x389422;return _0x16657f[_0x2cf061(0x908)](_0x2cf061(0x3a5))||_0x16657f[_0x2cf061(0x908)](_0x2cf061(0x72d))||_0x16657f[_0x2cf061(0x908)](_0x2cf061(0x74c))?_0x16657f:(_0x16657f=_0x16657f?.['replace'](/\s/g,'')[_0x2cf061(0x793)](/\+/g,'')[_0x2cf061(0x793)](/\(/g,'')['replace'](/\)/g,'')[_0x2cf061(0x1eb)](/\:/)[0x0][_0x2cf061(0x1eb)]('@')[0x0],_0x16657f['length']>=0x12?(_0x16657f=_0x16657f[_0x2cf061(0x793)](/[^\d-]/g,''),_0x16657f+_0x2cf061(0x3a5)):(_0x16657f=_0x16657f[_0x2cf061(0x793)](/\D/g,''),_0x16657f+'@s.whatsapp.net'));}async[a0_0x389422(0x72f)](_0x460672){const _0x1c95b4=a0_0x389422;let _0x3e8eb8=(await this[_0x1c95b4(0x8d4)]({'numbers':[_0x460672[_0x1c95b4(0x2f3)]]}))[0x0];if(!_0x3e8eb8['exists']&&!(0x0,w[_0x1c95b4(0x63d)])(_0x3e8eb8[_0x1c95b4(0x3aa)])&&!_0x3e8eb8['jid'][_0x1c95b4(0x908)](_0x1c95b4(0x74c)))throw new m(_0x3e8eb8);let _0x194012=_0x3e8eb8[_0x1c95b4(0x3aa)];try{return await this['client'][_0x1c95b4(0x86d)](_0x194012),await this[_0x1c95b4(0x496)][_0x1c95b4(0x462)](_0x460672[_0x1c95b4(0x864)],_0x194012),{'status':0xc8,'presence':_0x460672[_0x1c95b4(0x864)]};}catch(_0xb6f5ac){let _0x19501e='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x33ee2f=_0xb6f5ac instanceof Error?_0xb6f5ac['message']:typeof _0xb6f5ac=='object'?JSON[_0x1c95b4(0x2d0)](_0xb6f5ac):_0xb6f5ac,_0xbb01d8=_0x19501e+':\x20'+_0x33ee2f;throw this['logger'][_0x1c95b4(0x5b6)](this['instanceName']+'\x20('+this[_0x1c95b4(0x248)]['wuid']+_0x1c95b4(0x375)+_0xbb01d8),new m(_0xbb01d8);}}async[a0_0x389422(0x7b4)](_0x471ca4,_0x5948c6,_0x3a5b8e,_0x2264a3=!0x0){const _0x23389f=a0_0x389422;let _0xffeaed=await this['repository'][_0x23389f(0x887)][_0x23389f(0x892)]({'where':{'_id':_0x471ca4}});if(!_0xffeaed&&!_0x2264a3)return;let _0x5cb767={'lastUpdate':Date[_0x23389f(0x755)]()};if(_0x3a5b8e||!_0xffeaed?.[_0x23389f(0x1c5)]||Date['now']()-_0xffeaed[_0x23389f(0x1c5)]>0x18*0x3c*0x3c*0x3e8)try{let _0x41d82e=(await this[_0x23389f(0x8c4)](_0x471ca4))[_0x23389f(0x88f)];_0x5cb767[_0x23389f(0x7f9)]=_0x41d82e;}catch(_0x3e1648){let _0x155add=_0x23389f(0x1a7),_0x11d3b2=_0x3e1648 instanceof Error?_0x3e1648[_0x23389f(0x582)]:typeof _0x3e1648=='object'?JSON[_0x23389f(0x2d0)](_0x3e1648):_0x3e1648,_0x326ed9=_0x155add+':\x20'+_0x11d3b2;throw this['logger'][_0x23389f(0x5b6)](this[_0x23389f(0x33a)]+'\x20('+this[_0x23389f(0x248)]['wuid']+'):\x20'+_0x326ed9),new m(_0x326ed9);}return _0x5948c6&&_0xffeaed?.[_0x23389f(0x467)]!==_0x5948c6&&(_0x5cb767[_0x23389f(0x467)]=_0x5948c6),Object[_0x23389f(0x8b0)](_0x5cb767)[_0x23389f(0x7d0)]>0x1&&(_0xffeaed?await this[_0x23389f(0x828)][_0x23389f(0x887)][_0x23389f(0x4a1)]({'where':{'_id':_0x471ca4}},_0x5cb767):await this[_0x23389f(0x828)]['cacheContact'][_0x23389f(0x4a0)]([{'_id':_0x471ca4,..._0x5cb767}]),_0xffeaed={..._0xffeaed,..._0x5cb767}),{'cachedContact':_0xffeaed};}async['profilePicture'](_0x560a9c){const _0x4370e6=a0_0x389422;let _0x317a36=this[_0x4370e6(0x790)](_0x560a9c);try{return{'wuid':_0x317a36,'profilePictureUrl':await this[_0x4370e6(0x496)][_0x4370e6(0x88f)](_0x317a36,'image')};}catch{return{'wuid':_0x317a36,'profilePictureUrl':null};}}async[a0_0x389422(0x399)](_0xb4b6ba,_0x4a2b93,_0x4a1b8f){const _0x241880=a0_0x389422;let _0x37495e;try{let _0x21d9d9=(await this[_0x241880(0x8d4)]({'numbers':[_0xb4b6ba]}))?.[_0x241880(0x4c5)]();if(!_0x21d9d9['exists']&&!(0x0,w[_0x241880(0x63d)])(_0x21d9d9['jid'])&&!_0x21d9d9['jid']['includes']('@broadcast'))throw new m(_0x21d9d9);_0x37495e=_0x21d9d9[_0x241880(0x3aa)];}catch(_0x50d393){_0x37495e=_0xb4b6ba,this[_0x241880(0x6d9)][_0x241880(0x74f)](this['instanceName']+'\x20('+this[_0x241880(0x248)][_0x241880(0x658)]+_0x241880(0x26f)+_0x50d393[_0x241880(0x582)]),this['logger'][_0x241880(0x74f)](this[_0x241880(0x33a)]+'\x20('+this['instance'][_0x241880(0x658)]+_0x241880(0x394)+_0x37495e);}try{if(_0x37495e||(_0x37495e=_0xb4b6ba,this[_0x241880(0x6d9)][_0x241880(0x74f)](this[_0x241880(0x33a)]+'\x20('+this[_0x241880(0x248)][_0x241880(0x658)]+_0x241880(0x22a)+_0x37495e)),_0x4a1b8f||(_0x4a1b8f={}),_0x4a1b8f?.[_0x241880(0x3dc)]){await this['client'][_0x241880(0x86d)](_0x37495e),await this[_0x241880(0x496)][_0x241880(0x462)](_0x4a1b8f?.['presence']??_0x241880(0x401),_0x37495e);let _0x168901=Math[_0x241880(0x84c)](_0x4a1b8f[_0x241880(0x3dc)],0x2710);await(0x0,w[_0x241880(0x3dc)])(_0x168901),await this[_0x241880(0x496)]['sendPresenceUpdate'](_0x241880(0x73b),_0x37495e);}let _0x493ef7=_0x4a1b8f?.[_0x241880(0x2dc)]!=!0x1?void 0x0:!0x1,_0x334a24;if(_0x4a1b8f?.[_0x241880(0x5e3)]){let _0x54c9f1=_0x4a1b8f?.[_0x241880(0x5e3)],_0x168227=_0x54c9f1?.[_0x241880(0x582)]?_0x54c9f1:await this[_0x241880(0x38f)](_0x54c9f1[_0x241880(0x71e)],!0x0);_0x168227&&(_0x334a24=_0x168227);}let _0x162173=await this[_0x241880(0x828)][_0x241880(0x8e5)][_0x241880(0x892)]({'where':{'_id':_0x37495e}},this['instance']['wuid']),_0x225fcf,_0x20ff32=null;if((0x0,w[_0x241880(0x63d)])(_0x37495e))try{if(_0x20ff32=_0x162173['groupdata'],!_0x20ff32)throw new U(_0x241880(0x2f7));if(!_0x20ff32[_0x241880(0x775)])throw new m(_0x241880(0x556));_0x4a1b8f?.[_0x241880(0x8c0)]&&(_0x4a1b8f['mentions']?.[_0x241880(0x1ed)]?_0x225fcf=_0x20ff32[_0x241880(0x2f6)]['map'](_0x517995=>_0x517995['id']):_0x4a1b8f[_0x241880(0x8c0)]?.['mentioned']?.[_0x241880(0x7d0)]&&(_0x225fcf=_0x4a1b8f['mentions'][_0x241880(0x220)][_0x241880(0x3ea)](_0x17afe3=>{const _0x4365ed=_0x241880;let _0x900c3c=this[_0x4365ed(0x790)](_0x17afe3);return(0x0,w[_0x4365ed(0x63d)])(_0x900c3c)?null:_0x900c3c;})));}catch(_0x10c7e0){throw _0x10c7e0 instanceof U?new U(_0x241880(0x2f7)):_0x10c7e0 instanceof m?new m(_0x241880(0x556)):new Error(_0x241880(0x6d5));}let _0x4ee51a=await((async()=>{const _0x2bc8d2=_0x241880;let _0x556464={'quoted':_0x334a24,'ephemeralExpiration':_0x162173?.[_0x2bc8d2(0x801)]??0x0};if(!_0x4a2b93[_0x2bc8d2(0x4ef)]&&!_0x4a2b93[_0x2bc8d2(0x505)]&&!_0x4a2b93[_0x2bc8d2(0x675)]&&!_0x4a2b93[_0x2bc8d2(0x60d)]&&_0x37495e!==_0x2bc8d2(0x7d6)&&_0x4a2b93[_0x2bc8d2(0x463)])return await this[_0x2bc8d2(0x496)]['sendMessage'](_0x37495e,{'react':{'text':_0x4a2b93['reactionMessage'][_0x2bc8d2(0x243)],'key':_0x4a2b93[_0x2bc8d2(0x463)][_0x2bc8d2(0x71e)]}},_0x556464);if(_0x4a2b93['conversation']){let _0x4479af=_0x4a2b93[_0x2bc8d2(0x60d)];return _0x4a1b8f?.[_0x2bc8d2(0x447)]&&(_0x4479af=await this[_0x2bc8d2(0x7cb)](_0x4479af,_0x37495e)),await this[_0x2bc8d2(0x496)][_0x2bc8d2(0x222)](_0x37495e,{'text':_0x4479af,'mentions':_0x225fcf,'linkPreview':_0x493ef7},_0x556464);}return!_0x4a2b93[_0x2bc8d2(0x4ef)]&&!_0x4a2b93[_0x2bc8d2(0x505)]&&_0x37495e!=_0x2bc8d2(0x7d6)?await this[_0x2bc8d2(0x496)][_0x2bc8d2(0x222)](_0x37495e,{'forward':{'key':{'remoteJid':this[_0x2bc8d2(0x248)][_0x2bc8d2(0x658)],'fromMe':!0x0},'message':_0x4a2b93},'mentions':_0x225fcf},_0x556464):_0x37495e===_0x2bc8d2(0x7d6)?await this[_0x2bc8d2(0x496)]['sendMessage'](_0x37495e,_0x4a2b93['status'][_0x2bc8d2(0x231)],{'backgroundColor':_0x4a2b93[_0x2bc8d2(0x3d8)][_0x2bc8d2(0x2c7)][_0x2bc8d2(0x18d)],'font':_0x4a2b93['status'][_0x2bc8d2(0x2c7)][_0x2bc8d2(0x22b)],'statusJidList':_0x4a2b93[_0x2bc8d2(0x3d8)]['option'][_0x2bc8d2(0x889)]}):await this[_0x2bc8d2(0x496)][_0x2bc8d2(0x222)](_0x37495e,_0x4a2b93,_0x556464);})()),_0x4426f8=(0x0,w[_0x241880(0x266)])(_0x4ee51a[_0x241880(0x582)]),_0x2e07db=(0x0,w[_0x241880(0x484)])(_0x4426f8),{message_normalized:_0x372c59}=this[_0x241880(0x24a)](_0x4426f8,_0x2e07db,null),_0x86330c={'_id':_0x4ee51a[_0x241880(0x71e)]['id'],'key':_0x4ee51a[_0x241880(0x71e)],'pushName':_0x4ee51a[_0x241880(0x7f7)],'isGroup':_0x4ee51a[_0x241880(0x71e)][_0x241880(0x897)]['endsWith'](_0x241880(0x3a5)),'profilePictureUrl':this[_0x241880(0x248)]['profilePictureUrl'],'message':_0x4426f8,'messageType':_0x2e07db,'message_normalized':{'key':_0x4ee51a[_0x241880(0x71e)],'pushName':_0x4ee51a[_0x241880(0x7f7)],'messageTimestamp':_0x4ee51a[_0x241880(0x26a)]&&_0x4ee51a['messageTimestamp'][_0x241880(0x46e)]()[_0x241880(0x7d0)]<0xd?_0x4ee51a[_0x241880(0x26a)]*0x3e8:_0x4ee51a[_0x241880(0x26a)]||null,'source':(0x0,w[_0x241880(0x256)])(_0x4ee51a[_0x241880(0x71e)]['id']),..._0x372c59},'messageTimestamp':_0x4ee51a[_0x241880(0x26a)]&&_0x4ee51a[_0x241880(0x26a)][_0x241880(0x46e)]()[_0x241880(0x7d0)]<0xd?_0x4ee51a['messageTimestamp']*0x3e8:_0x4ee51a[_0x241880(0x26a)]||null,'owner':this['instance'][_0x241880(0x658)],'source':(0x0,w['getDevice'])(_0x4ee51a[_0x241880(0x71e)]['id'])};return this[_0x241880(0x6d9)][_0x241880(0x74f)](this[_0x241880(0x33a)]+'\x20('+this[_0x241880(0x248)][_0x241880(0x658)]+_0x241880(0x238)+_0x86330c[_0x241880(0x71e)]?.[_0x241880(0x897)]['replace'](_0x241880(0x72d),'')+_0x241880(0x5d4)+_0x86330c[_0x241880(0x7ef)]+')'),_0x86330c[_0x241880(0x6cd)]?.[_0x241880(0x243)]&&this[_0x241880(0x6d9)][_0x241880(0x74f)](_0x86330c[_0x241880(0x6cd)]?.[_0x241880(0x243)]),this[_0x241880(0x194)](_0x241880(0x83a),_0x86330c),F(this[_0x241880(0x33a)],_0x241880(0x7ba),{'message':_0x86330c}),this['updateChatWithMessage'](this[_0x241880(0x33c)]['get']('DATABASE'),_0x86330c,_0x241880(0x808),_0x162173),await this[_0x241880(0x828)][_0x241880(0x582)]['insert']([_0x86330c],this[_0x241880(0x248)][_0x241880(0x658)]),_0x4ee51a;}catch(_0x24bc29){let _0x5b193c=_0x241880(0x2a0)+_0x37495e,_0x11359b=_0x24bc29 instanceof Error?_0x24bc29[_0x241880(0x582)]:typeof _0x24bc29==_0x241880(0x26d)?JSON[_0x241880(0x2d0)](_0x24bc29):_0x24bc29,_0x1bc23a=_0x5b193c+':\x20'+_0x11359b;throw this[_0x241880(0x6d9)][_0x241880(0x5b6)](this[_0x241880(0x33a)]+'\x20('+this[_0x241880(0x248)][_0x241880(0x658)]+_0x241880(0x375)+_0x1bc23a),new m(_0x1bc23a);}}async[a0_0x389422(0x6d8)](_0x27acc0,_0x4ee1fd,_0x2dd759){const _0x462b3d=a0_0x389422;let _0x77f2f8=this['createJid'](_0x27acc0),_0x3f1ae5=(await this['whatsappNumber']({'numbers':[_0x77f2f8]}))[0x0];if(!_0x3f1ae5[_0x462b3d(0x575)]&&!(0x0,w[_0x462b3d(0x63d)])(_0x3f1ae5['jid']))throw new m(_0x3f1ae5);let _0x5cdbba=(0x0,w[_0x462b3d(0x63d)])(_0x77f2f8)?_0x77f2f8:_0x3f1ae5['jid'];if((0x0,w[_0x462b3d(0x63d)])(_0x5cdbba))try{await this[_0x462b3d(0x496)][_0x462b3d(0x5ce)](_0x5cdbba);}catch{throw new m('Group\x20not\x20found');}try{_0x2dd759?.[_0x462b3d(0x3dc)]&&(await this['client'][_0x462b3d(0x86d)](_0x5cdbba),await this[_0x462b3d(0x496)][_0x462b3d(0x462)](_0x2dd759?.[_0x462b3d(0x864)]??'composing',_0x77f2f8),await(0x0,w['delay'])(_0x2dd759['delay']),await this[_0x462b3d(0x496)][_0x462b3d(0x462)]('paused',_0x5cdbba));let _0x4c70b7=await((async()=>{const _0xa7e16a=_0x462b3d;let _0x59fab2,_0x399582='3EB0'+(0x0,ne[_0xa7e16a(0x535)])(0x12)['toString'](_0xa7e16a(0x72a))['toUpperCase'](),_0x5c32fa=(0x0,w['generateWAMessageFromContent'])(_0x5cdbba,_0x4ee1fd,{'timestamp':new Date(),'userJid':this[_0xa7e16a(0x248)][_0xa7e16a(0x658)],'messageId':_0x399582,'quoted':_0x59fab2}),_0x16a716=await this['client'][_0xa7e16a(0x477)](_0x5cdbba,_0x5c32fa[_0xa7e16a(0x582)],{'messageId':_0x399582});_0x5c32fa[_0xa7e16a(0x71e)]={'id':_0x16a716,'remoteJid':_0x77f2f8,'participant':(0x0,w[_0xa7e16a(0x215)])(_0x77f2f8)?void 0x0:_0x77f2f8,'fromMe':!0x0};for(let [_0x6c2f3d,_0x144b5b]of Object[_0xa7e16a(0x730)](_0x5c32fa))(!_0x144b5b||Array[_0xa7e16a(0x1fc)](_0x144b5b)&&_0x144b5b[_0xa7e16a(0x7d0)]===0x0)&&delete _0x5c32fa[_0x6c2f3d];return this['client']['ev']['emit'](_0xa7e16a(0x65d),{'messages':[_0x5c32fa],'type':_0xa7e16a(0x7ac)}),_0x5c32fa;})()),_0x3a556d=await this[_0x462b3d(0x828)][_0x462b3d(0x8e5)][_0x462b3d(0x892)]({'where':{'_id':_0x5cdbba}},this[_0x462b3d(0x248)][_0x462b3d(0x658)]),_0x49dbf5=(0x0,w[_0x462b3d(0x266)])(_0x4c70b7[_0x462b3d(0x582)]),_0x1f2779=(0x0,w[_0x462b3d(0x484)])(_0x49dbf5),{message_normalized:_0x29744e}=this[_0x462b3d(0x24a)](_0x49dbf5,_0x1f2779,null),_0x588632={'_id':_0x4c70b7['key']['id'],'key':_0x4c70b7[_0x462b3d(0x71e)],'pushName':_0x4c70b7['pushName'],'isGroup':_0x4c70b7[_0x462b3d(0x71e)][_0x462b3d(0x897)]['endsWith'](_0x462b3d(0x3a5)),'profilePictureUrl':this[_0x462b3d(0x248)][_0x462b3d(0x88f)],'message':_0x49dbf5,'messageType':_0x1f2779,'message_normalized':{'key':_0x4c70b7['key'],'pushName':_0x4c70b7[_0x462b3d(0x7f7)],'messageTimestamp':_0x4c70b7[_0x462b3d(0x26a)]&&_0x4c70b7['messageTimestamp']['toString']()['length']<0xd?_0x4c70b7[_0x462b3d(0x26a)]*0x3e8:_0x4c70b7[_0x462b3d(0x26a)]||null,'source':(0x0,w[_0x462b3d(0x256)])(_0x4c70b7[_0x462b3d(0x71e)]['id']),..._0x29744e},'messageTimestamp':_0x4c70b7[_0x462b3d(0x26a)]&&_0x4c70b7['messageTimestamp'][_0x462b3d(0x46e)]()['length']<0xd?_0x4c70b7['messageTimestamp']*0x3e8:_0x4c70b7['messageTimestamp']||null,'owner':this[_0x462b3d(0x248)][_0x462b3d(0x658)],'source':(0x0,w['getDevice'])(_0x4c70b7[_0x462b3d(0x71e)]['id'])};return this[_0x462b3d(0x6d9)][_0x462b3d(0x74f)](this[_0x462b3d(0x33a)]+'\x20('+this[_0x462b3d(0x248)]['wuid']+_0x462b3d(0x238)+_0x588632[_0x462b3d(0x71e)]?.[_0x462b3d(0x897)][_0x462b3d(0x793)](_0x462b3d(0x72d),'')+_0x462b3d(0x5d4)+_0x588632['messageType']+')'),_0x588632['message_normalized']?.['text']&&this[_0x462b3d(0x6d9)]['warn'](_0x588632[_0x462b3d(0x6cd)]?.[_0x462b3d(0x243)]),this['sendDataWebhook'](_0x462b3d(0x83a),_0x588632),F(this['instanceName'],_0x462b3d(0x7ba),{'message':_0x588632}),this[_0x462b3d(0x38c)](this[_0x462b3d(0x33c)][_0x462b3d(0x3a9)](_0x462b3d(0x831)),_0x588632,_0x462b3d(0x808),_0x3a556d),await this['repository'][_0x462b3d(0x582)][_0x462b3d(0x4a0)]([_0x588632],this[_0x462b3d(0x248)][_0x462b3d(0x658)]),_0x4c70b7;}catch(_0x47e6a4){throw this[_0x462b3d(0x6d9)][_0x462b3d(0x5b6)](_0x47e6a4),new m(_0x47e6a4[_0x462b3d(0x46e)]());}}get[a0_0x389422(0x52c)](){const _0x1efeb1=a0_0x389422;return this[_0x1efeb1(0x659)];}async[a0_0x389422(0x482)](_0x43874f){const _0x399c1e=a0_0x389422;return await this[_0x399c1e(0x399)](_0x43874f[_0x399c1e(0x2f3)],{'conversation':_0x43874f['textMessage'][_0x399c1e(0x243)]},_0x43874f?.[_0x399c1e(0x7dd)]);}async[a0_0x389422(0x6b8)](_0x4fd255){const _0x39fa86=a0_0x389422;if(!_0x4fd255[_0x39fa86(0x3e0)])throw new m(_0x39fa86(0x3eb));if(!_0x4fd255[_0x39fa86(0x231)])throw new m(_0x39fa86(0x427));if(_0x4fd255[_0x39fa86(0x62e)]){let _0x11f131=await this[_0x39fa86(0x828)][_0x39fa86(0x86a)][_0x39fa86(0x428)]({'where':{}},this[_0x39fa86(0x248)][_0x39fa86(0x658)]);if(!_0x11f131['length'])throw new m(_0x39fa86(0x3d2));_0x4fd255[_0x39fa86(0x889)]=_0x11f131['filter'](_0x4fb20c=>_0x4fb20c['pushName'])[_0x39fa86(0x3ea)](_0x5c5769=>_0x5c5769[_0x39fa86(0x53f)]);}if(!_0x4fd255[_0x39fa86(0x889)]?.[_0x39fa86(0x7d0)]&&!_0x4fd255['allContacts'])throw new m(_0x39fa86(0x777));if(_0x4fd255['type']===_0x39fa86(0x243)){if(!_0x4fd255['backgroundColor'])throw new m(_0x39fa86(0x8ad));if(!_0x4fd255['font'])throw new m(_0x39fa86(0x523));return{'content':{'text':_0x4fd255[_0x39fa86(0x231)]},'option':{'backgroundColor':_0x4fd255[_0x39fa86(0x18d)],'font':_0x4fd255['font'],'statusJidList':_0x4fd255[_0x39fa86(0x889)]}};}if(_0x4fd255[_0x39fa86(0x3e0)]===_0x39fa86(0x2b8))return{'content':{'image':{'url':_0x4fd255[_0x39fa86(0x231)]},'caption':_0x4fd255[_0x39fa86(0x41e)]},'option':{'statusJidList':_0x4fd255[_0x39fa86(0x889)]}};if(_0x4fd255[_0x39fa86(0x3e0)]===_0x39fa86(0x8fe))return{'content':{'video':{'url':_0x4fd255[_0x39fa86(0x231)]},'caption':_0x4fd255[_0x39fa86(0x41e)]},'option':{'statusJidList':_0x4fd255[_0x39fa86(0x889)]}};if(_0x4fd255[_0x39fa86(0x3e0)]==='audio'){this[_0x39fa86(0x6d9)]['verbose'](this['instanceName']+'\x20('+this[_0x39fa86(0x248)][_0x39fa86(0x658)]+_0x39fa86(0x207)),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x39fa86(0x248)][_0x39fa86(0x658)]+_0x39fa86(0x47d));let _0x322698=await this[_0x39fa86(0x77f)](_0x4fd255[_0x39fa86(0x231)]);if(typeof _0x322698=='string'){this[_0x39fa86(0x6d9)]['verbose'](this['instanceName']+'\x20('+this[_0x39fa86(0x248)][_0x39fa86(0x658)]+_0x39fa86(0x6bc));let _0xdde0eb=k['readFileSync'](_0x322698)[_0x39fa86(0x46e)]('base64');return{'content':{'audio':Buffer[_0x39fa86(0x46a)](_0xdde0eb,_0x39fa86(0x1a9)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x4fd255['statusJidList']}};}else throw new x(_0x322698);}throw new m(_0x39fa86(0x5e8));}async[a0_0x389422(0x343)](_0x26dc89){const _0x606d99=a0_0x389422;return await this[_0x606d99(0x399)](_0x606d99(0x7d6),{'status':await this['formatStatusMessage'](_0x26dc89[_0x606d99(0x343)])});}async[a0_0x389422(0x371)](_0x130edb){const _0x3a6c30=a0_0x389422;try{let _0x462884=await(0x0,w[_0x3a6c30(0x537)])({[_0x130edb[_0x3a6c30(0x89c)]]:(0x0,J[_0x3a6c30(0x26e)])(_0x130edb[_0x3a6c30(0x886)])?{'url':_0x130edb['media']}:Buffer['from'](_0x130edb['media'],_0x3a6c30(0x1a9))},{'upload':this[_0x3a6c30(0x496)][_0x3a6c30(0x54e)]}),_0x2d2213=_0x130edb[_0x3a6c30(0x89c)]+'Message';if(_0x130edb[_0x3a6c30(0x89c)]==='document'&&!_0x130edb[_0x3a6c30(0x4c8)]){let _0x415224=new RegExp(/.*\/(.+?)\./)[_0x3a6c30(0x5a6)](_0x130edb[_0x3a6c30(0x886)]);_0x130edb[_0x3a6c30(0x4c8)]=_0x415224?_0x415224[0x1]:null;}let _0x4a5e4e;return(0x0,J['isURL'])(_0x130edb[_0x3a6c30(0x886)])?_0x4a5e4e=(await Q[_0x3a6c30(0x37f)][_0x3a6c30(0x3a9)](_0x130edb[_0x3a6c30(0x886)],{'responseType':_0x3a6c30(0x5c4)}))[_0x3a6c30(0x672)][_0x3a6c30(0x1a8)]:_0x4a5e4e=(0x0,Oi['getMIMEType'])(_0x130edb[_0x3a6c30(0x4c8)]),_0x462884[_0x2d2213][_0x3a6c30(0x41e)]=_0x130edb?.[_0x3a6c30(0x41e)],_0x462884[_0x2d2213][_0x3a6c30(0x382)]=_0x4a5e4e,_0x462884[_0x2d2213][_0x3a6c30(0x4c8)]=_0x130edb[_0x3a6c30(0x4c8)],_0x130edb[_0x3a6c30(0x89c)]===_0x3a6c30(0x8fe)&&(_0x462884[_0x2d2213]['jpegThumbnail']=Uint8Array['from']((0x0,Le[_0x3a6c30(0x6b3)])((0x0,j[_0x3a6c30(0x5ee)])(process[_0x3a6c30(0x419)](),_0x3a6c30(0x697)))),_0x462884[_0x2d2213][_0x3a6c30(0x487)]=!0x1),(0x0,w[_0x3a6c30(0x268)])('',{[_0x2d2213]:{..._0x462884[_0x2d2213]}},{'userJid':this['instance'][_0x3a6c30(0x658)]});}catch(_0x5d2818){let _0xcd7c27=_0x3a6c30(0x213),_0x18cc83=_0x5d2818 instanceof Error?_0x5d2818[_0x3a6c30(0x582)]:typeof _0x5d2818=='object'?JSON[_0x3a6c30(0x2d0)](_0x5d2818):_0x5d2818,_0x3f7f10=_0xcd7c27+':\x20'+_0x18cc83;throw this[_0x3a6c30(0x6d9)]['error'](this[_0x3a6c30(0x33a)]+'\x20('+this[_0x3a6c30(0x248)]['wuid']+_0x3a6c30(0x375)+_0x3f7f10),new x(_0x3f7f10);}}async[a0_0x389422(0x853)](_0x543b22){const _0x4f234e=a0_0x389422;let _0x58910a=await this[_0x4f234e(0x371)](_0x543b22[_0x4f234e(0x853)]);return await this[_0x4f234e(0x399)](_0x543b22[_0x4f234e(0x2f3)],{..._0x58910a['message']},_0x543b22?.[_0x4f234e(0x7dd)]);}async['convertToWebP'](_0x3cdcd2,_0x5a15de){const _0x411dc1=a0_0x389422;try{this[_0x411dc1(0x6d9)][_0x411dc1(0x2b6)](this[_0x411dc1(0x33a)]+'\x20('+this[_0x411dc1(0x248)]['wuid']+_0x411dc1(0x725));let _0x490598,_0x35647c=_0x5a15de+'-'+new Date()['getTime']();this['logger'][_0x411dc1(0x2b6)](this[_0x411dc1(0x33a)]+'\x20('+this[_0x411dc1(0x248)][_0x411dc1(0x658)]+_0x411dc1(0x414)+_0x35647c);let _0x360ceb=''+(0x0,j['join'])(this['storePath'],_0x35647c+_0x411dc1(0x3bb));if(this['logger'][_0x411dc1(0x2b6)](this[_0x411dc1(0x33a)]+'\x20('+this['instance'][_0x411dc1(0x658)]+_0x411dc1(0x8ef)+_0x360ceb),(0x0,J[_0x411dc1(0x210)])(_0x3cdcd2)){this[_0x411dc1(0x6d9)][_0x411dc1(0x2b6)](this['instanceName']+'\x20('+this[_0x411dc1(0x248)][_0x411dc1(0x658)]+_0x411dc1(0x7a3));let _0x3f89c2=_0x3cdcd2['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5955d5=Buffer[_0x411dc1(0x46a)](_0x3f89c2,_0x411dc1(0x1a9));_0x490598=''+(0x0,j[_0x411dc1(0x5ee)])(this[_0x411dc1(0x63e)],_0x411dc1(0x69d)+_0x35647c+'.png'),this['logger'][_0x411dc1(0x2b6)](this['instanceName']+'\x20('+this['instance'][_0x411dc1(0x658)]+_0x411dc1(0x83d)+_0x490598),await(0x0,Ut['default'])(_0x5955d5)[_0x411dc1(0x3e9)](_0x490598),this['logger']['verbose'](this[_0x411dc1(0x33a)]+'\x20('+this['instance']['wuid']+'):Image\x20created');}else{this['logger'][_0x411dc1(0x2b6)](this['instanceName']+'\x20('+this['instance'][_0x411dc1(0x658)]+'):Image\x20is\x20url');let _0xc49f1f=new Date()['getTime'](),_0x36d1eb=_0x3cdcd2+_0x411dc1(0x6ac)+_0xc49f1f;this[_0x411dc1(0x6d9)][_0x411dc1(0x2b6)](this[_0x411dc1(0x33a)]+'\x20('+this[_0x411dc1(0x248)]['wuid']+'):including\x20timestamp\x20in\x20url:\x20'+_0x36d1eb);let _0x6e1869=await Q[_0x411dc1(0x37f)][_0x411dc1(0x3a9)](_0x36d1eb,{'responseType':_0x411dc1(0x5c4)});this[_0x411dc1(0x6d9)][_0x411dc1(0x2b6)](this['instanceName']+'\x20('+this[_0x411dc1(0x248)][_0x411dc1(0x658)]+_0x411dc1(0x31c));let _0xe303ec=Buffer[_0x411dc1(0x46a)](_0x6e1869[_0x411dc1(0x863)],'binary');_0x490598=''+(0x0,j[_0x411dc1(0x5ee)])(this[_0x411dc1(0x63e)],_0x411dc1(0x69d)+_0x35647c+_0x411dc1(0x63a)),this[_0x411dc1(0x6d9)][_0x411dc1(0x2b6)](this[_0x411dc1(0x33a)]+'\x20('+this['instance']['wuid']+_0x411dc1(0x83d)+_0x490598),await(0x0,Ut[_0x411dc1(0x37f)])(_0xe303ec)[_0x411dc1(0x3e9)](_0x490598),this[_0x411dc1(0x6d9)]['verbose'](this[_0x411dc1(0x33a)]+'\x20('+this[_0x411dc1(0x248)]['wuid']+_0x411dc1(0x491));}return await(0x0,Ut[_0x411dc1(0x37f)])(_0x490598)[_0x411dc1(0x509)]()['toFile'](_0x360ceb),this[_0x411dc1(0x6d9)]['verbose'](this['instanceName']+'\x20('+this[_0x411dc1(0x248)][_0x411dc1(0x658)]+_0x411dc1(0x20b)),k[_0x411dc1(0x88c)](_0x490598),this[_0x411dc1(0x6d9)][_0x411dc1(0x2b6)](this[_0x411dc1(0x33a)]+'\x20('+this[_0x411dc1(0x248)][_0x411dc1(0x658)]+_0x411dc1(0x6c2)),_0x360ceb;}catch(_0x2169f3){let _0x228750=_0x411dc1(0x40f),_0x567d13=_0x2169f3 instanceof Error?_0x2169f3[_0x411dc1(0x582)]:typeof _0x2169f3==_0x411dc1(0x26d)?JSON[_0x411dc1(0x2d0)](_0x2169f3):_0x2169f3,_0xb560a3=_0x228750+':\x20'+_0x567d13;this['logger']['error'](this[_0x411dc1(0x33a)]+'\x20('+this[_0x411dc1(0x248)][_0x411dc1(0x658)]+'):\x20'+_0xb560a3);}}async[a0_0x389422(0x39e)](_0x22ff28){const _0xd7b89a=a0_0x389422;let _0x482448=await this[_0xd7b89a(0x32c)](_0x22ff28[_0xd7b89a(0x2ef)][_0xd7b89a(0x2b8)],_0x22ff28['number']),_0x5cb799=await this[_0xd7b89a(0x399)](_0x22ff28[_0xd7b89a(0x2f3)],{'sticker':{'url':_0x482448}},_0x22ff28?.[_0xd7b89a(0x7dd)]);return k[_0xd7b89a(0x88c)](_0x482448),this['logger'][_0xd7b89a(0x2b6)](this[_0xd7b89a(0x33a)]+'\x20('+this[_0xd7b89a(0x248)][_0xd7b89a(0x658)]+_0xd7b89a(0x607)),_0x5cb799;}async[a0_0x389422(0x858)](_0x165ccf){const _0x190d9e=a0_0x389422;if(this['logger'][_0x190d9e(0x2b6)](this[_0x190d9e(0x33a)]+'\x20('+this[_0x190d9e(0x248)][_0x190d9e(0x658)]+_0x190d9e(0x529)),!_0x165ccf['options']?.['encoding']&&_0x165ccf[_0x190d9e(0x7dd)]?.[_0x190d9e(0x5fc)]!==!0x1&&(_0x165ccf[_0x190d9e(0x7dd)][_0x190d9e(0x5fc)]=!0x0),_0x165ccf[_0x190d9e(0x7dd)]?.['encoding']){let _0x121299=await this[_0x190d9e(0x77f)](_0x165ccf['audioMessage'][_0x190d9e(0x4ef)]);if(typeof _0x121299==_0x190d9e(0x709)){let _0x56fc90=k['readFileSync'](_0x121299)[_0x190d9e(0x46e)](_0x190d9e(0x1a9));return this['sendMessageWithTyping'](_0x165ccf[_0x190d9e(0x2f3)],{'audio':Buffer[_0x190d9e(0x46a)](_0x56fc90,_0x190d9e(0x1a9)),'ptt':!0x0,'mimetype':_0x190d9e(0x657)},{'presence':_0x190d9e(0x2a6),'delay':_0x165ccf?.[_0x190d9e(0x7dd)]?.[_0x190d9e(0x3dc)]});}else throw new x(_0x121299);}return await this[_0x190d9e(0x399)](_0x165ccf[_0x190d9e(0x2f3)],{'audio':(0x0,J['isURL'])(_0x165ccf['audioMessage'][_0x190d9e(0x4ef)])?{'url':_0x165ccf[_0x190d9e(0x2b9)]['audio']}:Buffer[_0x190d9e(0x46a)](_0x165ccf[_0x190d9e(0x2b9)]['audio'],_0x190d9e(0x1a9)),'ptt':!0x0,'mimetype':_0x190d9e(0x657)},{'presence':'recording','delay':_0x165ccf?.['options']?.['delay']});}async[a0_0x389422(0x77f)](_0x4d31bb){const _0x2b2f41=a0_0x389422;this[_0x2b2f41(0x6d9)][_0x2b2f41(0x2b6)](this[_0x2b2f41(0x33a)]+'\x20('+this[_0x2b2f41(0x248)][_0x2b2f41(0x658)]+'):Processing\x20audio');let _0x1f95cd=(0x0,J[_0x2b2f41(0x26e)])(_0x4d31bb)?(0x0,ne[_0x2b2f41(0x8be)])(_0x2b2f41(0x6f3))['update'](_0x4d31bb)[_0x2b2f41(0x6f7)](_0x2b2f41(0x72a)):(0x0,ne[_0x2b2f41(0x8be)])(_0x2b2f41(0x6f3))[_0x2b2f41(0x4a1)](_0x4d31bb)['digest'](_0x2b2f41(0x72a)),_0x2edf9c=''+(0x0,j[_0x2b2f41(0x5ee)])(this[_0x2b2f41(0x63e)],_0x1f95cd+_0x2b2f41(0x39b));if(k[_0x2b2f41(0x364)](_0x2edf9c))return this['logger'][_0x2b2f41(0x2b6)](this[_0x2b2f41(0x33a)]+'\x20('+this[_0x2b2f41(0x248)][_0x2b2f41(0x658)]+_0x2b2f41(0x5b2)),_0x2edf9c;let _0x2e09ab=''+(0x0,j[_0x2b2f41(0x5ee)])(this[_0x2b2f41(0x63e)],'temp-'+(0x0,Y['v4'])()+_0x2b2f41(0x323));if((0x0,J['isURL'])(_0x4d31bb)){let _0x28611d=new Date()[_0x2b2f41(0x3e6)](),_0x178b7c=_0x4d31bb+_0x2b2f41(0x6ac)+_0x28611d,_0x4cc12d=await Q['default'][_0x2b2f41(0x3a9)](_0x178b7c,{'responseType':'arraybuffer'});k[_0x2b2f41(0x264)](_0x2e09ab,_0x4cc12d[_0x2b2f41(0x863)]);}else{let _0x2499fb=Buffer[_0x2b2f41(0x46a)](_0x4d31bb,'base64');k[_0x2b2f41(0x264)](_0x2e09ab,_0x2499fb);}return new Promise((_0x3b5669,_0x25f316)=>{const _0x367098=_0x2b2f41;(0x0,Fe['exec'])(Ps[_0x367098(0x37f)]['path']+_0x367098(0x2b1)+_0x2e09ab+_0x367098(0x500)+_0x2edf9c+_0x367098(0x676),_0x19eb8e=>{const _0x7a120a=_0x367098;if(k[_0x7a120a(0x88c)](_0x2e09ab),_0x19eb8e){this[_0x7a120a(0x6d9)][_0x7a120a(0x2b6)](this[_0x7a120a(0x33a)]+'\x20('+this[_0x7a120a(0x248)]['wuid']+_0x7a120a(0x55d)),_0x25f316(_0x19eb8e);return;}this['logger'][_0x7a120a(0x2b6)](this[_0x7a120a(0x33a)]+'\x20('+this[_0x7a120a(0x248)][_0x7a120a(0x658)]+_0x7a120a(0x1bb)),_0x3b5669(_0x2edf9c);});});}async['convertaudioMP3'](_0x327c09){const _0x26894f=a0_0x389422;this[_0x26894f(0x6d9)]['verbose'](this[_0x26894f(0x33a)]+'\x20('+this[_0x26894f(0x248)]['wuid']+_0x26894f(0x47d));let _0x14e3f0=(0x0,ne[_0x26894f(0x8be)])(_0x26894f(0x6f3))[_0x26894f(0x4a1)](_0x327c09)[_0x26894f(0x6f7)](_0x26894f(0x72a)),_0x63c436=''+(0x0,j[_0x26894f(0x5ee)])(this[_0x26894f(0x63e)],_0x14e3f0+_0x26894f(0x323));if(k['existsSync'](_0x63c436))return this[_0x26894f(0x6d9)][_0x26894f(0x2b6)](this[_0x26894f(0x33a)]+'\x20('+this[_0x26894f(0x248)][_0x26894f(0x658)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),j[_0x26894f(0x37f)]['basename'](_0x63c436);let _0x183857=''+(0x0,j['join'])(this[_0x26894f(0x63e)],_0x26894f(0x69d)+_0x14e3f0+_0x26894f(0x39b));if((0x0,J[_0x26894f(0x26e)])(_0x327c09)){let _0x61bbbf=new Date()[_0x26894f(0x3e6)](),_0x672cd4=_0x327c09+_0x26894f(0x6ac)+_0x61bbbf,_0x110969=await Q[_0x26894f(0x37f)]['get'](_0x672cd4,{'responseType':'arraybuffer'});k[_0x26894f(0x264)](_0x183857,_0x110969['data']);}else{let _0x1e6c63=Buffer[_0x26894f(0x46a)](_0x327c09,_0x26894f(0x1a9));k[_0x26894f(0x264)](_0x183857,_0x1e6c63);}return new Promise((_0x40275a,_0x3391ca)=>{const _0x29ee6b=_0x26894f;(0x0,Fe['exec'])(Ps[_0x29ee6b(0x37f)]['path']+_0x29ee6b(0x2b1)+_0x183857+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x63c436+_0x29ee6b(0x676),_0xda94a0=>{const _0x3c6879=_0x29ee6b;if(k[_0x3c6879(0x88c)](_0x183857),_0xda94a0){this[_0x3c6879(0x6d9)]['verbose'](this['instanceName']+'\x20('+this[_0x3c6879(0x248)]['wuid']+'):Error\x20in\x20converting\x20audio'),_0x3391ca(_0xda94a0);return;}this[_0x3c6879(0x6d9)][_0x3c6879(0x2b6)](this[_0x3c6879(0x33a)]+'\x20('+this[_0x3c6879(0x248)][_0x3c6879(0x658)]+_0x3c6879(0x1bb)),_0x40275a(j['default']['basename'](_0x63c436));});});}async[a0_0x389422(0x1f4)](_0x5aafa5){const _0x1b2814=a0_0x389422;console[_0x1b2814(0x361)](_0x1b2814(0x1b1),_0x5aafa5);let _0x2b5686;try{_0x5aafa5[_0x1b2814(0x1f4)]?.['thumbnailUrl']&&(_0x2b5686=await this[_0x1b2814(0x371)]({'mediatype':_0x1b2814(0x2b8),'media':_0x5aafa5[_0x1b2814(0x1f4)][_0x1b2814(0x3f0)]}));}catch(_0x5ebf16){throw console[_0x1b2814(0x5b6)]('Error\x20in\x20prepareMediaMessage:',_0x5ebf16),new Error(_0x1b2814(0x686));}try{let _0x4d12f9={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':'*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a'},'footer':{'text':_0x1b2814(0x33d)},'header':((()=>{const _0x3fb628=_0x1b2814;if(_0x2b5686?.[_0x3fb628(0x582)]?.['imageMessage'])return{'hasMediaAttachment':!!_0x2b5686[_0x3fb628(0x582)][_0x3fb628(0x34a)],'imageMessage':_0x2b5686[_0x3fb628(0x582)][_0x3fb628(0x34a)]};})()),'nativeFlowMessage':{'buttons':[{'name':_0x1b2814(0x391),'buttonParamsJson':JSON[_0x1b2814(0x2d0)]({'display_text':_0x1b2814(0x772),'id':'1'})},{'name':'quick_reply','buttonParamsJson':JSON[_0x1b2814(0x2d0)]({'display_text':_0x1b2814(0x811),'id':'2'})}],'messageParamsJson':JSON[_0x1b2814(0x2d0)]({'from':_0x1b2814(0x25b),'templateId':_0x1b2814(0x878)+(0x0,ne[_0x1b2814(0x535)])(0x12)[_0x1b2814(0x46e)](_0x1b2814(0x72a))[_0x1b2814(0x1f7)]()})}}}}};return await this[_0x1b2814(0x6d8)](_0x5aafa5[_0x1b2814(0x2f3)],_0x4d12f9,_0x5aafa5?.[_0x1b2814(0x7dd)]);}catch(_0x5c5263){throw console[_0x1b2814(0x5b6)]('Error\x20in\x20buttonsMessage\x20function:',_0x5c5263),new Error(_0x1b2814(0x647));}}async[a0_0x389422(0x6c8)](_0x476d45){const _0x234032=a0_0x389422;return await this[_0x234032(0x399)](_0x476d45[_0x234032(0x2f3)],{'locationMessage':{'degreesLatitude':_0x476d45[_0x234032(0x6c8)][_0x234032(0x87f)],'degreesLongitude':_0x476d45[_0x234032(0x6c8)]['longitude'],'name':_0x476d45[_0x234032(0x6c8)]?.[_0x234032(0x467)],'address':_0x476d45[_0x234032(0x6c8)]?.[_0x234032(0x866)]}},_0x476d45?.[_0x234032(0x7dd)]);}async[a0_0x389422(0x519)](_0x486c2c){const _0x24218d=a0_0x389422;let _0x3c9bdf={},_0x102d8b=async _0x3dc057=>{const _0x16fdb1=a0_0x3fdd;let _0x5d29a0='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x3dc057[_0x16fdb1(0x577)]+_0x16fdb1(0x2f9)+_0x3dc057[_0x16fdb1(0x577)]+'\x0a';_0x3dc057[_0x16fdb1(0x2b7)]&&(_0x5d29a0+='ORG:'+_0x3dc057[_0x16fdb1(0x2b7)]+';\x0a'),_0x3dc057[_0x16fdb1(0x4ea)]&&(_0x5d29a0+=_0x16fdb1(0x186)+_0x3dc057[_0x16fdb1(0x4ea)]+'\x0a'),_0x3dc057['url']&&(_0x5d29a0+=_0x16fdb1(0x245)+_0x3dc057[_0x16fdb1(0x55a)]+'\x0a');let _0x31bca6='',_0x7a917e=0x1;if(_0x3dc057[_0x16fdb1(0x7b2)]){let _0xfa55f9=_0x3dc057[_0x16fdb1(0x7b2)][_0x16fdb1(0x1eb)]('|');for(let _0x5c3bd1 of _0xfa55f9){let _0x2187e3=await this[_0x16fdb1(0x8d4)]({'numbers':[_0x5c3bd1]}),_0xb4d48d=(_0x2187e3['length']>0x0?_0x2187e3[0x0][_0x16fdb1(0x3aa)]:this[_0x16fdb1(0x790)](_0x5c3bd1))[_0x16fdb1(0x793)]('@s.whatsapp.net','');_0x31bca6+='item'+_0x7a917e+_0x16fdb1(0x43f)+_0xb4d48d+':'+_0x5c3bd1+'\x0aitem'+_0x7a917e+_0x16fdb1(0x5da),_0x7a917e++;}}return _0x5d29a0+=_0x31bca6+'END:VCARD',_0x5d29a0;};return _0x486c2c[_0x24218d(0x519)][_0x24218d(0x7d0)]===0x1?_0x3c9bdf['contactMessage']={'displayName':_0x486c2c[_0x24218d(0x519)][0x0][_0x24218d(0x577)],'vcard':await _0x102d8b(_0x486c2c[_0x24218d(0x519)][0x0])}:_0x3c9bdf[_0x24218d(0x72e)]={'displayName':_0x486c2c[_0x24218d(0x519)][_0x24218d(0x7d0)]+'\x20contacts','contacts':await Promise['all'](_0x486c2c['contactMessage'][_0x24218d(0x3ea)](async _0x2d9e03=>({'displayName':_0x2d9e03[_0x24218d(0x577)],'vcard':await _0x102d8b(_0x2d9e03)})))},await this[_0x24218d(0x399)](_0x486c2c['number'],{..._0x3c9bdf},_0x486c2c?.['options']);}async[a0_0x389422(0x463)](_0x4485fb){const _0x3f2ef2=a0_0x389422;return await this[_0x3f2ef2(0x399)](_0x4485fb[_0x3f2ef2(0x463)]['key'][_0x3f2ef2(0x897)],{'reactionMessage':{'key':_0x4485fb['reactionMessage'][_0x3f2ef2(0x71e)],'text':_0x4485fb[_0x3f2ef2(0x463)][_0x3f2ef2(0x542)]}});}async[a0_0x389422(0x8d4)](_0xcfb286){const _0x110baf=a0_0x389422;let _0x4bb955=[];for await(let _0x426d57 of _0xcfb286[_0x110baf(0x4b0)]){let _0x905b85=this['createJid'](_0x426d57),_0x3d3cd5=!0x1;try{if((0x0,w[_0x110baf(0x63d)])(_0x905b85)){let _0x551347=(await this[_0x110baf(0x828)][_0x110baf(0x8e5)][_0x110baf(0x892)]({'where':{'_id':_0x905b85}},this['instance'][_0x110baf(0x658)]))['groupdata'];_0x551347?(_0x3d3cd5=!0x0,_0x4bb955['push'](new ue(_0x551347['id'],_0x3d3cd5,_0x551347?.['subject']))):(_0x551347=await this['findGroup']({'groupJid':_0x905b85},_0x110baf(0x745)),_0x4bb955[_0x110baf(0x3ae)](new ue(_0x551347['id'],!!_0x551347?.['id'],_0x551347?.['subject'])));}else{if(_0x905b85[_0x110baf(0x908)](_0x110baf(0x74c)))_0x4bb955[_0x110baf(0x3ae)](new ue(_0x905b85,!0x0));else{let _0x245afc=(await this['client'][_0x110baf(0x558)](_0x905b85))[0x0];_0x4bb955[_0x110baf(0x3ae)](new ue(_0x245afc[_0x110baf(0x3aa)],_0x245afc['exists']));}}}catch{(0x0,w[_0x110baf(0x63d)])(_0x905b85)||await this[_0x110baf(0x780)](_0x905b85),_0x4bb955[_0x110baf(0x3ae)](new ue(_0x426d57,!0x1));}}return _0x4bb955;}async['deleteImportedChat'](_0x360a46){const _0x5afb04=a0_0x389422;try{await this[_0x5afb04(0x828)]['chat'][_0x5afb04(0x892)]({'where':{'_id':_0x360a46,'imported':!0x0}},this[_0x5afb04(0x248)]['wuid'])&&(await this[_0x5afb04(0x828)][_0x5afb04(0x8e5)][_0x5afb04(0x8b1)](_0x360a46,this[_0x5afb04(0x248)]['wuid']),this[_0x5afb04(0x6d9)][_0x5afb04(0x379)](_0x5afb04(0x531)+_0x360a46+_0x5afb04(0x3a4)));}catch(_0x1e7bf0){let _0x22a616=_0x5afb04(0x5e6),_0x5098b0=_0x1e7bf0 instanceof Error?_0x1e7bf0['message']:typeof _0x1e7bf0==_0x5afb04(0x26d)?JSON['stringify'](_0x1e7bf0):_0x1e7bf0,_0x364ca8=_0x22a616+':\x20'+_0x5098b0;this[_0x5afb04(0x6d9)][_0x5afb04(0x5b6)](this[_0x5afb04(0x33a)]+'\x20('+this[_0x5afb04(0x248)][_0x5afb04(0x658)]+_0x5afb04(0x375)+_0x364ca8);}}async[a0_0x389422(0x62c)](_0x54573a){const _0x2c892e=a0_0x389422;try{let _0x421d51=_0x54573a[_0x2c892e(0x65a)]['filter'](_0x32e3b5=>(0x0,w['isJidGroup'])(_0x32e3b5[_0x2c892e(0x897)])||(0x0,w[_0x2c892e(0x215)])(_0x32e3b5[_0x2c892e(0x897)]))[_0x2c892e(0x3ea)](_0x5ed76b=>({'remoteJid':_0x5ed76b[_0x2c892e(0x897)],'fromMe':_0x5ed76b[_0x2c892e(0x8fb)],'id':_0x5ed76b['id']}));await this[_0x2c892e(0x496)]['readMessages'](_0x421d51);let _0x2cb4a2=_0x421d51[_0x2c892e(0x3ea)](_0x424198=>this[_0x2c892e(0x616)](_0x424198,{'status':_0x2c892e(0x51e),'owner':this[_0x2c892e(0x248)][_0x2c892e(0x658)]})),_0xde5ae7=_0x421d51[_0x2c892e(0x3ea)](_0x570bf9=>this[_0x2c892e(0x828)][_0x2c892e(0x8e5)]['updateOne']({'where':{'_id':_0x570bf9[_0x2c892e(0x897)]}},{'unreadcount':0x0},this[_0x2c892e(0x248)]['wuid'])),[_0x4b79a7,_0x3cb946]=await Promise[_0x2c892e(0x73e)]([Promise[_0x2c892e(0x73e)](_0x2cb4a2),Promise[_0x2c892e(0x73e)](_0xde5ae7)]);return _0x3cb946[_0x2c892e(0x7ab)](_0x2c0860=>_0x2c0860!==null)[_0x2c892e(0x785)](_0x2063ef=>{const _0x2021ea=_0x2c892e;F(this[_0x2021ea(0x33a)],_0x2021ea(0x328),{'chat':_0x2063ef});}),{'message':_0x2c892e(0x608),'read':'success'};}catch(_0x3ee0f3){let _0x553332='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x501cd5=_0x3ee0f3 instanceof Error?_0x3ee0f3['message']:typeof _0x3ee0f3=='object'?JSON[_0x2c892e(0x2d0)](_0x3ee0f3):_0x3ee0f3,_0x548983=_0x553332+':\x20'+_0x501cd5;throw this['logger'][_0x2c892e(0x5b6)](this[_0x2c892e(0x33a)]+'\x20('+this[_0x2c892e(0x248)][_0x2c892e(0x658)]+_0x2c892e(0x375)+_0x548983),new x(_0x548983);}}async[a0_0x389422(0x596)](_0x5e18cf){const _0x23f9e1=a0_0x389422;let _0x51f3d2={'where':{'key':{'remoteJid':_0x5e18cf}},'limit':0x1},_0x3cd87a=await this[_0x23f9e1(0x571)](_0x51f3d2);return _0x3cd87a||(this['logger'][_0x23f9e1(0x5b6)](_0x23f9e1(0x2fc)+_0x5e18cf),null);}async[a0_0x389422(0x722)](_0x1c45a8){const _0x50fbb7=a0_0x389422;this[_0x50fbb7(0x6d9)][_0x50fbb7(0x2b6)](this[_0x50fbb7(0x33a)]+'\x20('+this[_0x50fbb7(0x248)][_0x50fbb7(0x658)]+_0x50fbb7(0x236));try{let _0x42821b=_0x1c45a8[_0x50fbb7(0x52f)],_0x2d1469=_0x1c45a8[_0x50fbb7(0x8e5)];if(!_0x42821b&&_0x2d1469?_0x42821b=await this['getLastMessage'](_0x2d1469):(_0x42821b=_0x1c45a8[_0x50fbb7(0x52f)],_0x42821b[_0x50fbb7(0x26a)]=_0x42821b?.[_0x50fbb7(0x26a)]??Date[_0x50fbb7(0x755)](),_0x2d1469=_0x42821b?.[_0x50fbb7(0x71e)]?.[_0x50fbb7(0x897)]),!_0x42821b||Object[_0x50fbb7(0x8b0)](_0x42821b)[_0x50fbb7(0x7d0)]===0x0)throw new U('Last\x20message\x20not\x20found');this['logger']['verbose'](this[_0x50fbb7(0x33a)]+'\x20('+this[_0x50fbb7(0x248)][_0x50fbb7(0x658)]+_0x50fbb7(0x84d)+_0x2d1469);try{await this[_0x50fbb7(0x496)][_0x50fbb7(0x4c3)]({'archive':_0x1c45a8['archive'],'lastMessages':[_0x42821b]},this['createJid'](_0x2d1469));}catch(_0x120201){let _0x5a8a49='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x2d1469,_0x4f566c=_0x120201 instanceof Error?_0x120201[_0x50fbb7(0x582)]:typeof _0x120201==_0x50fbb7(0x26d)?JSON[_0x50fbb7(0x2d0)](_0x120201):_0x120201,_0x228b3d=_0x5a8a49+':\x20'+_0x4f566c;this['logger']['error'](this[_0x50fbb7(0x33a)]+'\x20('+this['instance']['wuid']+_0x50fbb7(0x375)+_0x228b3d);}this[_0x50fbb7(0x6d9)][_0x50fbb7(0x2b6)](this[_0x50fbb7(0x33a)]+'\x20('+this[_0x50fbb7(0x248)][_0x50fbb7(0x658)]+_0x50fbb7(0x221)+_0x2d1469);let _0x4dba0f=await this[_0x50fbb7(0x828)][_0x50fbb7(0x8e5)]['updateOne']({'where':{'_id':_0x42821b?.[_0x50fbb7(0x71e)]?.[_0x50fbb7(0x897)]}},{'archived':_0x1c45a8[_0x50fbb7(0x6f9)]},this[_0x50fbb7(0x248)]['wuid']);return _0x4dba0f?(this[_0x50fbb7(0x6d9)][_0x50fbb7(0x2b6)](this[_0x50fbb7(0x33a)]+'\x20('+this[_0x50fbb7(0x248)][_0x50fbb7(0x658)]+_0x50fbb7(0x61b)+JSON['stringify'](_0x4dba0f)),F(this[_0x50fbb7(0x33a)],_0x50fbb7(0x328),{'chat':_0x4dba0f})):this[_0x50fbb7(0x6d9)]['error'](this['instanceName']+'\x20('+this[_0x50fbb7(0x248)][_0x50fbb7(0x658)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x2d1469),{'chatId':_0x2d1469,'archived':_0x1c45a8[_0x50fbb7(0x6f9)]};}catch(_0x5b8573){let _0x57b684='Erro\x20ao\x20arquivar\x20chat',_0x5a458f=_0x5b8573 instanceof Error?_0x5b8573[_0x50fbb7(0x582)]:typeof _0x5b8573==_0x50fbb7(0x26d)?JSON[_0x50fbb7(0x2d0)](_0x5b8573):_0x5b8573,_0x43d96a=_0x57b684+':\x20'+_0x5a458f;throw this[_0x50fbb7(0x6d9)][_0x50fbb7(0x5b6)](this[_0x50fbb7(0x33a)]+'\x20('+this[_0x50fbb7(0x248)][_0x50fbb7(0x658)]+_0x50fbb7(0x375)+_0x43d96a),new x(_0x43d96a);}}async[a0_0x389422(0x8b1)](_0x205981){const _0x56bb1a=a0_0x389422;this[_0x56bb1a(0x6d9)][_0x56bb1a(0x2b6)](this[_0x56bb1a(0x33a)]+'\x20('+this['instance'][_0x56bb1a(0x658)]+_0x56bb1a(0x3df));try{let _0xf896a5=await this[_0x56bb1a(0x596)](_0x205981);if(!_0xf896a5||Object[_0x56bb1a(0x8b0)](_0xf896a5)['length']===0x0)throw new U(_0x56bb1a(0x7f0));let _0x515b66=_0xf896a5[0x0];this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x56bb1a(0x248)][_0x56bb1a(0x658)]+_0x56bb1a(0x2e0)+_0x205981);try{await this[_0x56bb1a(0x496)][_0x56bb1a(0x4c3)]({'delete':!0x0,'lastMessages':[{'key':_0x515b66['key'],'messageTimestamp':_0x515b66[_0x56bb1a(0x26a)]}]},this[_0x56bb1a(0x790)](_0x205981));}catch(_0x23bb9f){this['logger'][_0x56bb1a(0x5b6)](_0x56bb1a(0x82b)+_0x205981+':\x20'+_0x23bb9f[_0x56bb1a(0x46e)]());}this[_0x56bb1a(0x6d9)]['verbose'](this[_0x56bb1a(0x33a)]+'\x20('+this['instance'][_0x56bb1a(0x658)]+_0x56bb1a(0x221)+_0x205981);return;}catch(_0x34c3a6){throw this[_0x56bb1a(0x6d9)][_0x56bb1a(0x5b6)](this['instanceName']+'\x20('+this[_0x56bb1a(0x248)][_0x56bb1a(0x658)]+_0x56bb1a(0x7ca)+_0x34c3a6['toString']()),new x({'archived':!0x1,'message':[_0x56bb1a(0x851),_0x34c3a6['toString']()]});}}async[a0_0x389422(0x813)](_0x1e328d){const _0x278a4b=a0_0x389422;try{let _0x162e90=await this[_0x278a4b(0x496)][_0x278a4b(0x222)](_0x1e328d[_0x278a4b(0x897)],{'delete':_0x1e328d});try{let _0x33cc36=await this['updateMessage'](_0x1e328d,{'status':_0x278a4b(0x8f1),'owner':this['instance'][_0x278a4b(0x658)]});this[_0x278a4b(0x6d9)][_0x278a4b(0x2b6)](this[_0x278a4b(0x33a)]+'\x20('+this[_0x278a4b(0x248)][_0x278a4b(0x658)]+'):\x20updateResult:'+_0x33cc36);}catch(_0x2f4737){this[_0x278a4b(0x6d9)][_0x278a4b(0x5b6)](_0x278a4b(0x32d)+_0x2f4737);}return _0x162e90;}catch(_0x4688c7){throw new x(_0x278a4b(0x3fe),_0x4688c7?.['toString']());}}async[a0_0x389422(0x377)](_0x5e6afe){const _0x4ae872=a0_0x389422;try{let _0x2a167e=_0x5e6afe?.['message']?_0x5e6afe:await this[_0x4ae872(0x38f)](_0x5e6afe[_0x4ae872(0x71e)],!0x0);for(let _0x452a37 of Na)_0x2a167e[_0x4ae872(0x582)][_0x452a37]&&(_0x2a167e[_0x4ae872(0x582)]=_0x2a167e[_0x4ae872(0x582)][_0x452a37]['message']);let _0xa5c0b2,_0x4a85d6;for(let _0x2f25a0 of va)if(_0xa5c0b2=_0x2a167e[_0x4ae872(0x582)][_0x2f25a0],_0xa5c0b2){_0x4a85d6=_0x2f25a0;break;}if(!_0xa5c0b2)throw _0x4ae872(0x52d);typeof _0xa5c0b2[_0x4ae872(0x50f)]==_0x4ae872(0x26d)&&(_0x2a167e[_0x4ae872(0x582)]=JSON[_0x4ae872(0x47e)](JSON[_0x4ae872(0x2d0)](_0x2a167e['message'])));let _0xeef50=await(0x0,w[_0x4ae872(0x1aa)])({'key':_0x2a167e?.[_0x4ae872(0x71e)],'message':_0x2a167e?.[_0x4ae872(0x582)]},_0x4ae872(0x1b9),{},{'logger':(0x0,Ft['default'])({'level':_0x4ae872(0x7c7)}),'reuploadRequest':this[_0x4ae872(0x496)]['updateMediaMessage']});if(!(_0xeef50 instanceof Buffer))throw new Error(_0x4ae872(0x5ca));let _0xa9c5c8=this[_0x4ae872(0x33c)]['get'](_0x4ae872(0x831)),_0x3327d5,_0xcede69;if(_0xa5c0b2[_0x4ae872(0x4c8)])_0x3327d5=_0xa5c0b2['fileName'];else{let _0xc71f55=_0xa5c0b2[_0x4ae872(0x382)]?.[_0x4ae872(0x6c1)](/\/(\w+)/),_0x1a1166=_0xc71f55?_0xc71f55[0x1]:null;if(!_0x1a1166)throw new Error(_0x4ae872(0x85b));_0x3327d5=(0x0,Y['v4'])()+'.'+_0x1a1166;}_0x4a85d6===_0x4ae872(0x2b9)?_0xcede69=_0x4ae872(0x1bd)+await this['convertaudioMP3'](_0xeef50['toString'](_0x4ae872(0x1a9))):(await this[_0x4ae872(0x71a)](_0xeef50,_0x3327d5),_0xcede69=_0x4ae872(0x1bd)+_0x3327d5);let _0x5ac597=this[_0x4ae872(0x33c)][_0x4ae872(0x3a9)](_0x4ae872(0x605))[_0x4ae872(0x51a)];if(!_0x5ac597){let _0x3cc33f=this[_0x4ae872(0x33c)][_0x4ae872(0x3a9)](_0x4ae872(0x320));_0x5ac597=_0x4ae872(0x2cd)+(_0x3cc33f&&_0x3cc33f['FULLCHAIN'][_0x4ae872(0x1eb)]('/')[0x4]);}_0xcede69=''+_0x5ac597+_0xcede69;let _0x1a3399=0xc*0x3c*0x3c*0x3e8,_0x4ecbfc={'where':{'_id':_0x2a167e[_0x4ae872(0x71e)]['id']}},_0x4898a8={'message_normalized.fileUrl':_0xcede69,'message_normalized.expires_fileUrl':Date['now']()+_0x1a3399};try{let _0x38c889=await this[_0x4ae872(0x828)][_0x4ae872(0x582)][_0x4ae872(0x4a1)](_0x4ecbfc,_0x4898a8,this[_0x4ae872(0x248)][_0x4ae872(0x658)]);_0x38c889&&F(this[_0x4ae872(0x33a)],'messages',{'message':_0x38c889});}catch(_0xd1c010){let _0x3d8c9d=_0x4ae872(0x901),_0x59b1bf=_0xd1c010 instanceof Error?_0xd1c010[_0x4ae872(0x582)]:typeof _0xd1c010==_0x4ae872(0x26d)?JSON[_0x4ae872(0x2d0)](_0xd1c010):_0xd1c010,_0x4f64e7=_0x3d8c9d+':\x20'+_0x59b1bf;this['logger']['error'](this[_0x4ae872(0x33a)]+'\x20('+this[_0x4ae872(0x248)][_0x4ae872(0x658)]+_0x4ae872(0x375)+_0x4f64e7);}return{'mediaType':_0x4a85d6,'fileName':_0xa5c0b2[_0x4ae872(0x4c8)],'caption':_0xa5c0b2[_0x4ae872(0x41e)],'size':{'fileLength':_0xa5c0b2[_0x4ae872(0x7ae)],'height':_0xa5c0b2[_0x4ae872(0x700)],'width':_0xa5c0b2[_0x4ae872(0x2a3)]},'mimetype':_0xa5c0b2['mimetype'],'base64':_0xeef50[_0x4ae872(0x46e)]('base64'),'fileUrl':_0xcede69,'expires_fileUrl':Date['now']()+_0x1a3399};}catch(_0x5d550e){let _0x17c402=_0x4ae872(0x4a6),_0x552abd=_0x5d550e instanceof Error?_0x5d550e['message']:typeof _0x5d550e==_0x4ae872(0x26d)?JSON[_0x4ae872(0x2d0)](_0x5d550e):_0x5d550e,_0x29b544=_0x17c402+':\x20'+_0x552abd;throw this[_0x4ae872(0x6d9)][_0x4ae872(0x5b6)](this[_0x4ae872(0x33a)]+'\x20('+this[_0x4ae872(0x248)][_0x4ae872(0x658)]+_0x4ae872(0x375)+_0x29b544),new m(_0x29b544);}}async[a0_0x389422(0x71a)](_0x309216,_0xdff89d){const _0x10ee2c=a0_0x389422;let _0x299d9a=j[_0x10ee2c(0x37f)][_0x10ee2c(0x5ee)](__dirname,_0x10ee2c(0x3b6));k[_0x10ee2c(0x364)](_0x299d9a)||k['mkdirSync'](_0x299d9a,{'recursive':!0x0});let _0x38774f=j[_0x10ee2c(0x37f)][_0x10ee2c(0x5ee)](_0x299d9a,_0xdff89d);return new Promise((_0xebbbfb,_0x3a893b)=>{k['writeFile'](_0x38774f,_0x309216,_0x857958=>{const _0x2725ef=a0_0x3fdd;_0x857958?(this[_0x2725ef(0x6d9)][_0x2725ef(0x5b6)]('Error\x20writing\x20file:\x20'+(_0x857958 instanceof Error?_0x857958[_0x2725ef(0x582)]:JSON['stringify'](_0x857958,null,0x2))),_0x3a893b(_0x857958)):(this['logger'][_0x2725ef(0x361)]('File\x20written\x20to\x20path:\x20'+_0x38774f),_0xebbbfb(_0x38774f));});});}async['fetchContacts'](_0x3c5222){const _0x4a8100=a0_0x389422;return await this[_0x4a8100(0x828)][_0x4a8100(0x86a)][_0x4a8100(0x428)](_0x3c5222,this[_0x4a8100(0x248)][_0x4a8100(0x658)]);}async['fetchLabels'](){const _0x46155d=a0_0x389422;return await this[_0x46155d(0x828)][_0x46155d(0x2e8)][_0x46155d(0x428)]({'where':{}},this['instance'][_0x46155d(0x658)]);}async[a0_0x389422(0x571)](_0x4c1892){const _0x2add0c=a0_0x389422;return await this[_0x2add0c(0x828)][_0x2add0c(0x582)][_0x2add0c(0x428)](_0x4c1892,this[_0x2add0c(0x248)][_0x2add0c(0x658)]);}async[a0_0x389422(0x334)](){const _0x52b900=a0_0x389422;return this['repository']['chat'][_0x52b900(0x6f1)](this['instance'][_0x52b900(0x658)]),this[_0x52b900(0x828)][_0x52b900(0x8e5)][_0x52b900(0x833)](this['instance']['wuid']),this[_0x52b900(0x828)][_0x52b900(0x8e5)]['updateMissingTags'](this['instance'][_0x52b900(0x658)]),this[_0x52b900(0x828)]['chat'][_0x52b900(0x4eb)](this[_0x52b900(0x248)][_0x52b900(0x658)]),await this['repository'][_0x52b900(0x8e5)][_0x52b900(0x428)]({'where':{}},this[_0x52b900(0x248)][_0x52b900(0x658)]);}async['importChatsAntigo'](_0x6f6a59){const _0x5c0976=a0_0x389422;try{if(!Array[_0x5c0976(0x1fc)](_0x6f6a59)||_0x6f6a59[_0x5c0976(0x7d0)]===0x0)throw new Error(_0x5c0976(0x38b));let _0x26a371=[],_0x4629ae=[];for(let _0x595ca0 of _0x6f6a59){if(_0x595ca0[_0x5c0976(0x53f)])_0x595ca0[_0x5c0976(0x53f)]=this[_0x5c0976(0x790)](_0x595ca0['_id']);else continue;await this['repository']['chat']['findOne']({'where':{'_id':_0x595ca0['_id']}},this[_0x5c0976(0x248)][_0x5c0976(0x658)])?_0x4629ae[_0x5c0976(0x3ae)]({'_id':_0x595ca0[_0x5c0976(0x53f)],'leadInfo':_0x595ca0['leadInfo'],'owner':this[_0x5c0976(0x248)][_0x5c0976(0x658)]}):_0x26a371[_0x5c0976(0x3ae)]({'_id':_0x595ca0['_id'],'owner':this['instance'][_0x5c0976(0x658)],'leadInfo':_0x595ca0[_0x5c0976(0x8cc)],'imported':!0x0});}return _0x4629ae[_0x5c0976(0x7d0)]>0x0&&await this[_0x5c0976(0x828)][_0x5c0976(0x8e5)][_0x5c0976(0x456)](_0x4629ae[_0x5c0976(0x3ea)](_0x587472=>({'query':{'where':{'_id':_0x587472['_id'],'owner':this[_0x5c0976(0x248)]['wuid']}},'update':_0x587472}))),_0x26a371[_0x5c0976(0x7d0)]>0x0&&await this[_0x5c0976(0x828)]['chat'][_0x5c0976(0x1c9)](_0x26a371,this['instance'][_0x5c0976(0x658)]),{'updated':_0x4629ae[_0x5c0976(0x7d0)],'inserted':_0x26a371[_0x5c0976(0x7d0)]};}catch(_0x5ddcbb){let _0x3ed2f6=_0x5c0976(0x1f9),_0x352bbc=_0x5ddcbb instanceof Error?_0x5ddcbb[_0x5c0976(0x582)]:typeof _0x5ddcbb=='object'?JSON[_0x5c0976(0x2d0)](_0x5ddcbb):_0x5ddcbb,_0x923a88=_0x3ed2f6+':\x20'+_0x352bbc;throw this['logger'][_0x5c0976(0x5b6)](this[_0x5c0976(0x33a)]+'\x20('+this[_0x5c0976(0x248)][_0x5c0976(0x658)]+_0x5c0976(0x375)+_0x923a88),new m(_0x923a88);}}async[a0_0x389422(0x7bc)](_0x5de367){const _0x324f60=a0_0x389422;try{if(!Array[_0x324f60(0x1fc)](_0x5de367)||_0x5de367['length']===0x0)throw new Error(_0x324f60(0x38b));let _0x322b29=0x64,_0x26a8ae=0x0;for(let _0x8e48ad=0x0;_0x8e48ad<_0x5de367[_0x324f60(0x7d0)];_0x8e48ad+=_0x322b29){let _0x2421cf=_0x5de367[_0x324f60(0x55f)](_0x8e48ad,_0x8e48ad+_0x322b29),{updated:_0x50b469}=await this[_0x324f60(0x5b0)](_0x2421cf);_0x26a8ae+=_0x50b469;}return{'updated':_0x26a8ae};}catch(_0x104b9a){let _0xa43d0f=_0x324f60(0x1f9),_0x50c91f=_0x104b9a instanceof Error?_0x104b9a[_0x324f60(0x582)]:typeof _0x104b9a==_0x324f60(0x26d)?JSON['stringify'](_0x104b9a):_0x104b9a,_0xbdd28e=_0xa43d0f+':\x20'+_0x50c91f;throw this[_0x324f60(0x6d9)]['error'](this['instanceName']+'\x20('+this[_0x324f60(0x248)]['wuid']+_0x324f60(0x375)+_0xbdd28e),new m(_0xbdd28e);}}async[a0_0x389422(0x5b0)](_0x5ec88f){const _0xc1dc4d=a0_0x389422;try{let _0x33d850=await this[_0xc1dc4d(0x828)][_0xc1dc4d(0x2e8)][_0xc1dc4d(0x428)]({'where':{}},this[_0xc1dc4d(0x248)][_0xc1dc4d(0x658)]),_0x4e27d6=new Set(_0x33d850['map'](_0x42666b=>_0x42666b['_id'])),_0x314dea=[],_0x45b31d=[];for(let _0x4ee660 of _0x5ec88f){if(!_0x4ee660[_0xc1dc4d(0x53f)])continue;_0x4ee660[_0xc1dc4d(0x53f)]=this[_0xc1dc4d(0x790)](_0x4ee660[_0xc1dc4d(0x53f)]);let _0x2ade4a=await this[_0xc1dc4d(0x828)][_0xc1dc4d(0x8e5)][_0xc1dc4d(0x892)]({'where':{'_id':_0x4ee660[_0xc1dc4d(0x53f)]}},this[_0xc1dc4d(0x248)][_0xc1dc4d(0x658)]),_0x1bef9e={};if(Object[_0xc1dc4d(0x730)](_0x4ee660[_0xc1dc4d(0x8cc)])[_0xc1dc4d(0x785)](([_0x48ffb3,_0x31f71b])=>{const _0x2e5997=_0xc1dc4d;_0x1bef9e[_0x2e5997(0x87d)+_0x48ffb3]=_0x31f71b;}),_0x2ade4a&&!_0x2ade4a[_0xc1dc4d(0x8c8)]){let _0x46c814=(_0x4ee660[_0xc1dc4d(0x8cc)][_0xc1dc4d(0x774)]||[])[_0xc1dc4d(0x7ab)](_0x5a533a=>_0x4e27d6[_0xc1dc4d(0x3cf)](_0x5a533a)),_0x21cbdc=new Set(_0x2ade4a[_0xc1dc4d(0x8cc)][_0xc1dc4d(0x774)]||[]),_0x12af9f=_0x46c814['filter'](_0x294b7a=>!_0x21cbdc[_0xc1dc4d(0x3cf)](_0x294b7a)),_0x364c0e=[..._0x21cbdc]['filter'](_0x5b940b=>!_0x46c814[_0xc1dc4d(0x908)](_0x5b940b));_0x45b31d[_0xc1dc4d(0x3ae)](..._0x12af9f[_0xc1dc4d(0x3ea)](_0x80583a=>this[_0xc1dc4d(0x3a8)](_0x80583a,_0x4ee660[_0xc1dc4d(0x53f)]))),_0x45b31d[_0xc1dc4d(0x3ae)](..._0x364c0e[_0xc1dc4d(0x3ea)](_0x365a9b=>this[_0xc1dc4d(0x3c9)](_0x365a9b,_0x4ee660['_id']))),_0x4ee660[_0xc1dc4d(0x8cc)][_0xc1dc4d(0x774)]=_0x46c814,_0x314dea['push']({'query':{'where':{'_id':_0x4ee660[_0xc1dc4d(0x53f)],'owner':this[_0xc1dc4d(0x248)][_0xc1dc4d(0x658)]}},'update':_0x1bef9e});}else _0x1bef9e[_0xc1dc4d(0x8c8)]=!0x0,_0x314dea[_0xc1dc4d(0x3ae)]({'query':{'where':{'_id':_0x4ee660[_0xc1dc4d(0x53f)],'owner':this[_0xc1dc4d(0x248)][_0xc1dc4d(0x658)]}},'update':_0x1bef9e});}let _0x26064a=await this['repository'][_0xc1dc4d(0x8e5)][_0xc1dc4d(0x456)](_0x314dea);return await Promise[_0xc1dc4d(0x73e)](_0x45b31d),{'updated':_0x26064a};}catch(_0x5626ca){let _0x41fb5b=_0xc1dc4d(0x1f9),_0x394848=_0x5626ca instanceof Error?_0x5626ca[_0xc1dc4d(0x582)]:typeof _0x5626ca==_0xc1dc4d(0x26d)?JSON[_0xc1dc4d(0x2d0)](_0x5626ca):_0x5626ca,_0x115e01=_0x41fb5b+':\x20'+_0x394848;throw this['logger'][_0xc1dc4d(0x5b6)](this['instanceName']+'\x20('+this['instance'][_0xc1dc4d(0x658)]+_0xc1dc4d(0x375)+_0x115e01),new m(_0x115e01);}}async[a0_0x389422(0x8c6)](){const _0x4af99d=a0_0x389422;return await this[_0x4af99d(0x496)][_0x4af99d(0x8c6)]();}async[a0_0x389422(0x209)](_0x366742){const _0xf20c61=a0_0x389422;try{return await this[_0xf20c61(0x496)][_0xf20c61(0x230)](_0x366742[_0xf20c61(0x21d)][_0xf20c61(0x58b)]),await this[_0xf20c61(0x496)][_0xf20c61(0x206)](_0x366742['privacySettings'][_0xf20c61(0x876)]),await this['client'][_0xf20c61(0x4cc)](_0x366742[_0xf20c61(0x21d)][_0xf20c61(0x3d8)]),await this[_0xf20c61(0x496)][_0xf20c61(0x2c8)](_0x366742[_0xf20c61(0x21d)][_0xf20c61(0x738)]),await this[_0xf20c61(0x496)][_0xf20c61(0x84a)](_0x366742[_0xf20c61(0x21d)][_0xf20c61(0x28e)]),await this[_0xf20c61(0x496)][_0xf20c61(0x762)](_0x366742['privacySettings']['groupadd']),this['client']?.['ws']?.[_0xf20c61(0x253)](),{'update':_0xf20c61(0x67f),'data':{'readreceipts':_0x366742[_0xf20c61(0x21d)][_0xf20c61(0x58b)],'profile':_0x366742[_0xf20c61(0x21d)][_0xf20c61(0x876)],'status':_0x366742[_0xf20c61(0x21d)][_0xf20c61(0x3d8)],'online':_0x366742['privacySettings'][_0xf20c61(0x738)],'last':_0x366742[_0xf20c61(0x21d)][_0xf20c61(0x28e)],'groupadd':_0x366742[_0xf20c61(0x21d)][_0xf20c61(0x2be)]}};}catch(_0x2ea58d){let _0x252d68=_0xf20c61(0x832),_0x2e74e4=_0x2ea58d instanceof Error?_0x2ea58d[_0xf20c61(0x582)]:typeof _0x2ea58d==_0xf20c61(0x26d)?JSON[_0xf20c61(0x2d0)](_0x2ea58d):_0x2ea58d,_0x191dde=_0x252d68+':\x20'+_0x2e74e4;throw this[_0xf20c61(0x6d9)]['error'](this[_0xf20c61(0x33a)]+'\x20('+this[_0xf20c61(0x248)][_0xf20c61(0x658)]+_0xf20c61(0x375)+_0x191dde),new m(_0x191dde);}}async[a0_0x389422(0x5a8)](_0x5cd957){const _0x1aa976=a0_0x389422;let _0x24582a=(_0x5cd957?this[_0x1aa976(0x790)](_0x5cd957):this[_0x1aa976(0x496)]?.['user']?.['id'])[_0x1aa976(0x793)](/:\d{1,2}@/g,'@');this[_0x1aa976(0x6d9)][_0x1aa976(0x2b6)](this[_0x1aa976(0x33a)]+'\x20('+this[_0x1aa976(0x248)][_0x1aa976(0x658)]+_0x1aa976(0x576)+_0x24582a);let _0x4e8198=await this['repository'][_0x1aa976(0x86a)]['findOne']({'where':{'_id':_0x24582a}},this[_0x1aa976(0x248)][_0x1aa976(0x658)]),_0x1e3810=_0x4e8198?_0x4e8198[_0x1aa976(0x7f7)]:null;try{let _0x1f05da=(await this['whatsappNumber']({'numbers':[_0x24582a]}))?.[_0x1aa976(0x4c5)](),_0x300ee2=(await this[_0x1aa976(0x7b4)](_0x24582a,null,!0x1))['cachedContact'][_0x1aa976(0x7f9)],_0x4c0203=await this[_0x1aa976(0x77c)](_0x1f05da?.[_0x1aa976(0x3aa)]),_0xcd9313=await this[_0x1aa976(0x80c)](_0x1f05da?.[_0x1aa976(0x3aa)]),_0x531e04=(await this[_0x1aa976(0x7b4)](_0x24582a,null,!0x1))[_0x1aa976(0x2de)]['name'],_0x3d0038=await this[_0x1aa976(0x828)][_0x1aa976(0x8e5)]['findOne']({'where':{'_id':_0x24582a}},this['instance'][_0x1aa976(0x658)]),_0x2fc15e={'imagechat':_0x300ee2,'contactname':_0x1e3810||null,'pushName':_0x531e04,'status':_0x4c0203?.[_0x1aa976(0x3d8)],'isBusiness':_0xcd9313['isBusiness'],'email':_0xcd9313?.[_0x1aa976(0x4ea)],'description':_0xcd9313?.[_0x1aa976(0x8ff)],'website':_0xcd9313?.[_0x1aa976(0x89e)]?.[_0x1aa976(0x4c5)](),'lastcache':Date[_0x1aa976(0x755)](),'imported':!_0x3d0038},_0x3ce35a=await this[_0x1aa976(0x828)][_0x1aa976(0x8e5)]['updateOne']({'where':{'_id':_0x24582a}},_0x2fc15e,this[_0x1aa976(0x248)]['wuid']),_0x43ccda={'owner':this['instance'][_0x1aa976(0x658)],'_id':_0x24582a,'profilePictureUrl':_0x300ee2,'status':_0x4c0203?.[_0x1aa976(0x3d8)]};return this['repository'][_0x1aa976(0x86a)][_0x1aa976(0x4a1)]([_0x43ccda],this[_0x1aa976(0x248)]['wuid']),_0x3ce35a&&F(this['instanceName'],'chats',{'chat':_0x3ce35a}),{'wuid':_0x1f05da?.[_0x1aa976(0x3aa)]||_0x24582a,'name':_0x1f05da?.['name'],'pushName':_0x531e04,'numberExists':_0x1f05da?.[_0x1aa976(0x575)],'picture':_0x300ee2,'status':_0x4c0203?.[_0x1aa976(0x3d8)],'isBusiness':_0xcd9313[_0x1aa976(0x642)],'email':_0xcd9313?.[_0x1aa976(0x4ea)],'description':_0xcd9313?.[_0x1aa976(0x8ff)],'website':_0xcd9313?.[_0x1aa976(0x89e)]?.[_0x1aa976(0x4c5)]()};}catch(_0x16c9d0){return this['logger']['error'](_0x1aa976(0x74b)+(_0x16c9d0 instanceof Error?_0x16c9d0['message']:JSON[_0x1aa976(0x2d0)](_0x16c9d0,null,0x2))),{};}}async['fetchBusinessProfile'](_0x13e5eb){const _0x40617a=a0_0x389422;this[_0x40617a(0x6d9)]['verbose'](this['instanceName']+'\x20('+this[_0x40617a(0x248)][_0x40617a(0x658)]+_0x40617a(0x53d));try{let _0xed4dc=_0x13e5eb?this['createJid'](_0x13e5eb):this['instance']['wuid'],_0x93714a=await this[_0x40617a(0x496)]['getBusinessProfile'](_0xed4dc);return this[_0x40617a(0x6d9)]['verbose'](this[_0x40617a(0x33a)]+'\x20('+this[_0x40617a(0x248)][_0x40617a(0x658)]+_0x40617a(0x3f4)),_0x93714a?(this['logger'][_0x40617a(0x2b6)](this[_0x40617a(0x33a)]+'\x20('+this[_0x40617a(0x248)][_0x40617a(0x658)]+_0x40617a(0x666)),{'isBusiness':!0x0,..._0x93714a}):{'isBusiness':!0x1,'message':_0x40617a(0x4a7),...(await this['whatsappNumber']({'numbers':[_0xed4dc]}))?.[_0x40617a(0x4c5)]()};}catch(_0x46b3b5){let _0x3f719c=_0x40617a(0x2ed),_0x2238be=_0x46b3b5 instanceof Error?_0x46b3b5[_0x40617a(0x582)]:typeof _0x46b3b5==_0x40617a(0x26d)?JSON['stringify'](_0x46b3b5):_0x46b3b5,_0x570718=_0x3f719c+':\x20'+_0x2238be;throw this[_0x40617a(0x6d9)]['error'](this['instanceName']+'\x20('+this[_0x40617a(0x248)]['wuid']+_0x40617a(0x375)+_0x570718),new x(_0x570718);}}async['getStatus'](_0x335da3){const _0x4beaf2=a0_0x389422;let _0x19d723=this[_0x4beaf2(0x790)](_0x335da3);try{return{'wuid':_0x19d723,'status':(await this[_0x4beaf2(0x496)][_0x4beaf2(0x4d5)](_0x19d723))[0x0]?.[_0x4beaf2(0x3d8)]};}catch{return{'wuid':_0x19d723,'status':null};}}async[a0_0x389422(0x583)](_0x48feb9){const _0x17139f=a0_0x389422;try{return await this[_0x17139f(0x496)][_0x17139f(0x583)](_0x48feb9),{'update':_0x17139f(0x67f)};}catch(_0x1eb113){let _0x43ff4f=_0x17139f(0x82d),_0x36f761=_0x1eb113 instanceof Error?_0x1eb113[_0x17139f(0x582)]:typeof _0x1eb113=='object'?JSON['stringify'](_0x1eb113):_0x1eb113,_0xeba6a6=_0x43ff4f+':\x20'+_0x36f761;throw this[_0x17139f(0x6d9)][_0x17139f(0x5b6)](this[_0x17139f(0x33a)]+'\x20('+this[_0x17139f(0x248)][_0x17139f(0x658)]+_0x17139f(0x375)+_0xeba6a6),new x(_0xeba6a6);}}async[a0_0x389422(0x45c)](_0x2b1f70){const _0x4f0a36=a0_0x389422;try{return await this[_0x4f0a36(0x496)]['updateProfileStatus'](_0x2b1f70),{'update':'success'};}catch(_0x4b2854){let _0x200f33=_0x4f0a36(0x19a),_0x13dcc6=_0x4b2854 instanceof Error?_0x4b2854[_0x4f0a36(0x582)]:typeof _0x4b2854==_0x4f0a36(0x26d)?JSON['stringify'](_0x4b2854):_0x4b2854,_0x55f1ca=_0x200f33+':\x20'+_0x13dcc6;throw this[_0x4f0a36(0x6d9)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4f0a36(0x375)+_0x55f1ca),new x(_0x55f1ca);}}async[a0_0x389422(0x880)](_0x614307){const _0x51bcc8=a0_0x389422;try{let _0xa502e1;if((0x0,J[_0x51bcc8(0x26e)])(_0x614307)){let _0x1d6a3c=new Date()['getTime'](),_0x1e7d63=_0x614307+_0x51bcc8(0x6ac)+_0x1d6a3c;_0xa502e1=(await Q[_0x51bcc8(0x37f)][_0x51bcc8(0x3a9)](_0x1e7d63,{'responseType':_0x51bcc8(0x5c4)}))[_0x51bcc8(0x863)];}else{if((0x0,J[_0x51bcc8(0x210)])(_0x614307))_0xa502e1=Buffer['from'](_0x614307,'base64');else throw new m(_0x51bcc8(0x338));}return await this[_0x51bcc8(0x496)]['updateProfilePicture'](this[_0x51bcc8(0x248)][_0x51bcc8(0x658)],_0xa502e1),{'update':_0x51bcc8(0x67f)};}catch(_0x1683da){let _0x54aad4=_0x51bcc8(0x45a),_0x171ed9=_0x1683da instanceof Error?_0x1683da[_0x51bcc8(0x582)]:typeof _0x1683da==_0x51bcc8(0x26d)?JSON[_0x51bcc8(0x2d0)](_0x1683da):_0x1683da,_0x46e829=_0x54aad4+':\x20'+_0x171ed9;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x51bcc8(0x248)]['wuid']+_0x51bcc8(0x375)+_0x46e829),new x(_0x46e829);}}async['removeProfilePicture'](){const _0x1893f8=a0_0x389422;try{return await this[_0x1893f8(0x496)][_0x1893f8(0x5ac)](this[_0x1893f8(0x248)][_0x1893f8(0x658)]),{'update':_0x1893f8(0x67f)};}catch(_0x4be7a8){let _0x1d2091=_0x1893f8(0x668),_0x474ae0=_0x4be7a8 instanceof Error?_0x4be7a8['message']:typeof _0x4be7a8==_0x1893f8(0x26d)?JSON[_0x1893f8(0x2d0)](_0x4be7a8):_0x4be7a8,_0x218659=_0x1d2091+':\x20'+_0x474ae0;throw this[_0x1893f8(0x6d9)][_0x1893f8(0x5b6)](this[_0x1893f8(0x33a)]+'\x20('+this[_0x1893f8(0x248)][_0x1893f8(0x658)]+_0x1893f8(0x375)+_0x218659),new x(_0x218659);}}async[a0_0x389422(0x423)](_0x145bf4){const _0x64ee8=a0_0x389422;try{let _0x263432=(await this[_0x64ee8(0x8d4)]({'numbers':_0x145bf4[_0x64ee8(0x2f6)]}))[_0x64ee8(0x7ab)](_0x157c96=>_0x157c96[_0x64ee8(0x575)])[_0x64ee8(0x3ea)](_0x2058cb=>_0x2058cb[_0x64ee8(0x3aa)]),{id:_0x25916e}=await this[_0x64ee8(0x496)][_0x64ee8(0x6fa)](_0x145bf4[_0x64ee8(0x579)],_0x263432);_0x145bf4?.[_0x64ee8(0x8ff)]&&await this[_0x64ee8(0x496)][_0x64ee8(0x23c)](_0x25916e,_0x145bf4[_0x64ee8(0x8ff)]);let _0x3442af=await this[_0x64ee8(0x496)]['groupMetadata'](_0x25916e);return _0x3442af[_0x64ee8(0x6a0)]=[],await this[_0x64ee8(0x856)](_0x3442af),{'metadata':_0x3442af};}catch(_0x52df24){let _0x148532='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x52c1d1=_0x52df24 instanceof Error?_0x52df24[_0x64ee8(0x582)]:typeof _0x52df24==_0x64ee8(0x26d)?JSON[_0x64ee8(0x2d0)](_0x52df24):_0x52df24,_0x4676d2=_0x148532+':\x20'+_0x52c1d1;throw this[_0x64ee8(0x6d9)][_0x64ee8(0x5b6)](this['instanceName']+'\x20('+this[_0x64ee8(0x248)][_0x64ee8(0x658)]+_0x64ee8(0x375)+_0x4676d2),new x(_0x4676d2);}}async[a0_0x389422(0x325)](_0x2964d9){const _0x3a8211=a0_0x389422;try{if(_0x2964d9[_0x3a8211(0x2da)]===!0x0&&await this[_0x3a8211(0x496)]['groupSettingUpdate'](_0x2964d9[_0x3a8211(0x232)],'locked'),_0x2964d9[_0x3a8211(0x2da)]===!0x1&&await this[_0x3a8211(0x496)][_0x3a8211(0x766)](_0x2964d9[_0x3a8211(0x232)],'unlocked'),_0x2964d9['announce']===!0x0&&await this[_0x3a8211(0x496)]['groupSettingUpdate'](_0x2964d9['groupJid'],_0x3a8211(0x331)),_0x2964d9[_0x3a8211(0x1f8)]===!0x1&&await this[_0x3a8211(0x496)]['groupSettingUpdate'](_0x2964d9['groupJid'],_0x3a8211(0x5b7)),_0x2964d9[_0x3a8211(0x874)]===!0x0&&await this[_0x3a8211(0x496)][_0x3a8211(0x42d)](_0x2964d9[_0x3a8211(0x232)],'all_member_add'),_0x2964d9['memberAddMode']===!0x1&&await this['client'][_0x3a8211(0x42d)](_0x2964d9[_0x3a8211(0x232)],_0x3a8211(0x283)),_0x2964d9[_0x3a8211(0x422)]===!0x0&&await this[_0x3a8211(0x496)][_0x3a8211(0x578)](_0x2964d9[_0x3a8211(0x232)],'on'),_0x2964d9[_0x3a8211(0x422)]===!0x1&&await this[_0x3a8211(0x496)]['groupJoinApprovalMode'](_0x2964d9[_0x3a8211(0x232)],_0x3a8211(0x4ab)),typeof _0x2964d9[_0x3a8211(0x335)]<'u'&&_0x2964d9['expiration']!==null&&await this[_0x3a8211(0x496)][_0x3a8211(0x205)](_0x2964d9[_0x3a8211(0x232)],_0x2964d9['expiration']),_0x2964d9[_0x3a8211(0x467)]&&await this[_0x3a8211(0x496)][_0x3a8211(0x439)](_0x2964d9['groupJid'],_0x2964d9[_0x3a8211(0x467)]),_0x2964d9[_0x3a8211(0x8ff)]&&await this[_0x3a8211(0x496)][_0x3a8211(0x23c)](_0x2964d9['groupJid'],_0x2964d9[_0x3a8211(0x8ff)]),_0x2964d9[_0x3a8211(0x2b8)]){let _0x397c11;if((0x0,J[_0x3a8211(0x26e)])(_0x2964d9[_0x3a8211(0x2b8)])){let _0x1b6236=new Date()['getTime'](),_0x55267d=_0x2964d9['image']+_0x3a8211(0x6ac)+_0x1b6236;_0x397c11=(await Q[_0x3a8211(0x37f)][_0x3a8211(0x3a9)](_0x55267d,{'responseType':'arraybuffer'}))[_0x3a8211(0x863)];}else{if((0x0,J[_0x3a8211(0x210)])(_0x2964d9[_0x3a8211(0x2b8)]))_0x397c11=Buffer[_0x3a8211(0x46a)](_0x2964d9[_0x3a8211(0x2b8)],_0x3a8211(0x1a9));else throw new m(_0x3a8211(0x338));}await this['client']['updateProfilePicture'](_0x2964d9['groupJid'],_0x397c11);}return await this[_0x3a8211(0x2d1)]({'groupJid':_0x2964d9[_0x3a8211(0x232)]});}catch(_0x27938d){let _0x28e82a=_0x3a8211(0x64e),_0x9cf837=_0x27938d instanceof Error?_0x27938d[_0x3a8211(0x582)]:typeof _0x27938d==_0x3a8211(0x26d)?JSON[_0x3a8211(0x2d0)](_0x27938d):_0x27938d,_0x36ea5e=_0x28e82a+':\x20'+_0x9cf837;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x3a8211(0x248)][_0x3a8211(0x658)]+_0x3a8211(0x375)+_0x36ea5e),new x(_0x36ea5e);}}async['updateGParticipant'](_0x3daad6){const _0x34305f=a0_0x389422;try{let _0xdfc136=_0x3daad6[_0x34305f(0x2f6)][_0x34305f(0x3ea)](_0xaeeaae=>this[_0x34305f(0x790)](_0xaeeaae));if(_0x3daad6[_0x34305f(0x5b8)]==='approve'||_0x3daad6[_0x34305f(0x5b8)]==='reject')await this[_0x34305f(0x496)]['groupRequestParticipantsUpdate'](_0x3daad6['groupJid'],_0xdfc136,_0x3daad6[_0x34305f(0x5b8)]);else{if(_0x3daad6[_0x34305f(0x5b8)]===_0x34305f(0x765)){let _0x2141ee=(await this[_0x34305f(0x8d4)]({'numbers':_0x3daad6[_0x34305f(0x2f6)]}))[_0x34305f(0x7ab)](_0x6cf9d7=>_0x6cf9d7[_0x34305f(0x575)])[_0x34305f(0x3ea)](_0x1080db=>this[_0x34305f(0x790)](_0x1080db[_0x34305f(0x3aa)]));if(_0x2141ee[_0x34305f(0x7d0)]===0x0)throw new m(_0x34305f(0x649));await this[_0x34305f(0x496)][_0x34305f(0x522)](_0x3daad6['groupJid'],_0x2141ee,'add');}else await this[_0x34305f(0x496)][_0x34305f(0x522)](_0x3daad6[_0x34305f(0x232)],_0xdfc136,_0x3daad6[_0x34305f(0x5b8)]);}return await this[_0x34305f(0x2d1)]({'groupJid':_0x3daad6[_0x34305f(0x232)]});}catch(_0x3371f7){let _0x114d44=_0x34305f(0x852),_0x17f502=_0x3371f7 instanceof Error?_0x3371f7[_0x34305f(0x582)]:typeof _0x3371f7==_0x34305f(0x26d)?JSON['stringify'](_0x3371f7):_0x3371f7,_0x2ea9ac=_0x114d44+':\x20'+_0x17f502;throw this[_0x34305f(0x6d9)][_0x34305f(0x5b6)](this[_0x34305f(0x33a)]+'\x20('+this[_0x34305f(0x248)][_0x34305f(0x658)]+_0x34305f(0x375)+_0x2ea9ac),new m(_0x2ea9ac);}}async[a0_0x389422(0x313)](_0x3ff2e8){const _0x27bea6=a0_0x389422;try{return await this['client'][_0x27bea6(0x313)](_0x3ff2e8['inviteCode']);}catch(_0xaa7428){let _0x322b78='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x188bf3=_0xaa7428 instanceof Error?_0xaa7428['message']:typeof _0xaa7428==_0x27bea6(0x26d)?JSON[_0x27bea6(0x2d0)](_0xaa7428):_0xaa7428,_0x51b4b8=_0x322b78+':\x20'+_0x188bf3;throw this[_0x27bea6(0x6d9)]['error'](this[_0x27bea6(0x33a)]+'\x20('+this[_0x27bea6(0x248)]['wuid']+_0x27bea6(0x375)+_0x51b4b8),new m(_0x51b4b8);}}async[a0_0x389422(0x2d1)](_0x5da503,_0x1f8598='out'){const _0x475b54=a0_0x389422;try{let _0x14a448=await this['repository'][_0x475b54(0x8e5)][_0x475b54(0x892)]({'where':{'_id':_0x5da503[_0x475b54(0x232)]}},this['instance'][_0x475b54(0x658)]),_0x411568=_0x14a448?_0x14a448['groupdata']:null,_0x1c3b64=0x18*0x3c*0x3c*0x3e8;if(!_0x411568||_0x411568[_0x475b54(0x1c5)]&&Date['now']()-_0x411568[_0x475b54(0x1c5)]>_0x1c3b64){let _0x439134=await this[_0x475b54(0x496)][_0x475b54(0x5ce)](_0x5da503[_0x475b54(0x232)]);if(_0x439134[_0x475b54(0x8e7)]=_0x439134?.[_0x475b54(0x8e7)]&&_0x439134[_0x475b54(0x8e7)]['toString']()[_0x475b54(0x7d0)]<0xd?_0x439134?.['subjectTime']*0x3e8:_0x439134?.[_0x475b54(0x8e7)]||null,_0x439134[_0x475b54(0x79b)]=_0x439134?.['creation']&&_0x439134[_0x475b54(0x79b)][_0x475b54(0x46e)]()[_0x475b54(0x7d0)]<0xd?_0x439134?.[_0x475b54(0x79b)]*0x3e8:_0x439134?.['creation']||null,_0x411568={..._0x439134,'lastUpdate':Date[_0x475b54(0x755)]()},!_0x439134)return;}let _0x100de6=_0x411568[_0x475b54(0x2f6)]?.[_0x475b54(0x1a2)](_0x1a07d2=>_0x1a07d2['id']===this[_0x475b54(0x248)][_0x475b54(0x658)]+'@s.whatsapp.net'&&_0x1a07d2[_0x475b54(0x8e4)]!=null)||!0x1;!_0x411568[_0x475b54(0x8cf)]&&_0x100de6&&(_0x411568[_0x475b54(0x8cf)]=(await this['inviteCode'](_0x5da503,!0x1))[_0x475b54(0x8ea)]);let _0x2963af=(!_0x411568[_0x475b54(0x1f8)]||_0x100de6)&&(!_0x411568[_0x475b54(0x83f)]||_0x100de6);_0x411568[_0x475b54(0x445)]=_0x100de6,_0x411568['canSendMessage']=_0x2963af;let _0x58da83=[];if(_0x100de6&&_0x411568[_0x475b54(0x422)])try{_0x58da83=await this['client']['groupRequestParticipantsList'](_0x5da503[_0x475b54(0x232)]),_0x411568['lastFetchAwaitingApproval']=Date[_0x475b54(0x755)]();}catch(_0x2c5bc1){this[_0x475b54(0x6d9)][_0x475b54(0x2b6)](this['instanceName']+'\x20('+this[_0x475b54(0x248)][_0x475b54(0x658)]+_0x475b54(0x877)+_0x5da503[_0x475b54(0x232)]+':\x20'+(_0x2c5bc1 instanceof Error?_0x2c5bc1['message']:JSON[_0x475b54(0x2d0)](_0x2c5bc1,null,0x2)));}try{_0x411568[_0x475b54(0x2b8)]=(await this[_0x475b54(0x7b4)](_0x5da503[_0x475b54(0x232)],null,!0x0))[_0x475b54(0x2de)][_0x475b54(0x7f9)];}catch(_0x3dcb92){this[_0x475b54(0x6d9)][_0x475b54(0x2b6)](this['instanceName']+'\x20('+this[_0x475b54(0x248)]['wuid']+_0x475b54(0x227)+_0x5da503['groupJid']+':\x20'+(_0x3dcb92 instanceof Error?_0x3dcb92[_0x475b54(0x582)]:JSON[_0x475b54(0x2d0)](_0x3dcb92,null,0x2)));}let _0x41d52f=_0x411568['participants'][_0x475b54(0x3ea)](_0x9d83f2=>_0x9d83f2['id']),_0x128f96=_0x58da83[_0x475b54(0x3ea)](_0x1eecce=>_0x1eecce[_0x475b54(0x3aa)]),_0x2e5f6f=await this[_0x475b54(0x828)]['cacheContact'][_0x475b54(0x7f4)]([..._0x41d52f,..._0x128f96]);_0x411568[_0x475b54(0x2f6)]=_0x411568[_0x475b54(0x2f6)]['map'](_0x1af510=>{const _0x2b5f7e=_0x475b54;let _0x2263cd=_0x2e5f6f[_0x2b5f7e(0x428)](_0x5e5330=>_0x5e5330['_id']===_0x1af510['id']);return{'id':_0x1af510['id'],'isAdmin':[_0x2b5f7e(0x8e4),_0x2b5f7e(0x7e7)]['includes'](_0x1af510[_0x2b5f7e(0x8e4)]),'admin':_0x1af510[_0x2b5f7e(0x8e4)],'pushName':_0x2263cd?.[_0x2b5f7e(0x467)],'profilePictureUrl':_0x2263cd?.[_0x2b5f7e(0x7f9)]};}),_0x411568[_0x475b54(0x6a0)]=_0x58da83[_0x475b54(0x3ea)](_0x470993=>{const _0xe91f1a=_0x475b54;let _0x123c72=_0x2e5f6f[_0xe91f1a(0x428)](_0x39d125=>_0x39d125[_0xe91f1a(0x53f)]===_0x470993['jid']);return{'id':_0x470993[_0xe91f1a(0x3aa)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x123c72?.[_0xe91f1a(0x467)],'profilePictureUrl':_0x123c72?.[_0xe91f1a(0x7f9)],'request_method':_0x470993[_0xe91f1a(0x554)],'request_time':_0x470993[_0xe91f1a(0x8b7)]};});let _0x4cc928=await this[_0x475b54(0x828)][_0x475b54(0x8e5)]['updateOne']({'where':{'_id':_0x5da503['groupJid']}},{'imagechat':_0x411568[_0x475b54(0x2b8)],'name':_0x411568[_0x475b54(0x579)],'lastcache':Date[_0x475b54(0x755)](),'groupdata':_0x411568},this[_0x475b54(0x248)][_0x475b54(0x658)]);return F(this[_0x475b54(0x33a)],_0x475b54(0x328),{'chat':_0x4cc928}),{'metadata':_0x411568};}catch(_0x2ab431){if(_0x1f8598===_0x475b54(0x745))return;throw new U(_0x475b54(0x757),_0x2ab431['message'][_0x475b54(0x46e)]());}}async['findGroups'](){const _0x1eccbc=a0_0x389422;try{this[_0x1eccbc(0x6d9)][_0x1eccbc(0x379)]('Retornando\x20grupos\x20COM\x20cache');let _0x359163=Date['now'](),_0x87ec32=0x3*0x3c*0x3c*0x3e8;return _0x359163-this[_0x1eccbc(0x4da)]>_0x87ec32&&(this['findRealGroups'](),this[_0x1eccbc(0x4da)]=_0x359163),(await this[_0x1eccbc(0x828)][_0x1eccbc(0x8e5)][_0x1eccbc(0x868)]({'where':{'group':!0x0}},this[_0x1eccbc(0x248)][_0x1eccbc(0x658)]))['map'](_0x5818f3=>({..._0x5818f3[_0x1eccbc(0x3e7)],'groupJid':_0x5818f3?.[_0x1eccbc(0x53f)],'participants':_0x5818f3?.[_0x1eccbc(0x3e7)]?.['participants']||[],'awaitingApproval':_0x5818f3?.[_0x1eccbc(0x3e7)]?.['awaitingApproval']||[],'image':_0x5818f3?.[_0x1eccbc(0x2f2)]}));}catch(_0x4faf2f){let _0x2eb645=_0x1eccbc(0x8c5),_0x4d6936=_0x4faf2f instanceof Error?_0x4faf2f[_0x1eccbc(0x582)]:typeof _0x4faf2f==_0x1eccbc(0x26d)?JSON[_0x1eccbc(0x2d0)](_0x4faf2f):_0x4faf2f,_0x2a37d5=_0x2eb645+':\x20'+_0x4d6936;throw this[_0x1eccbc(0x6d9)][_0x1eccbc(0x5b6)](this[_0x1eccbc(0x33a)]+'\x20('+this['instance'][_0x1eccbc(0x658)]+_0x1eccbc(0x375)+_0x2a37d5),new U(_0x2a37d5);}}async[a0_0x389422(0x63c)](){const _0x152c84=a0_0x389422;try{this[_0x152c84(0x6d9)][_0x152c84(0x379)]('Retornando\x20grupos\x20SEM\x20cache');let _0x533724=[],_0x54fee6=await this['client']['groupFetchAllParticipating'](),_0x3cd864=Object['values'](_0x54fee6);for(let _0x4067b6=0x0;_0x4067b6<_0x3cd864[_0x152c84(0x7d0)];_0x4067b6++){let _0x24a9ec=_0x3cd864[_0x4067b6];(0x0,w[_0x152c84(0x63d)])(_0x24a9ec?.['id'])&&(_0x533724[_0x152c84(0x3ae)]({'groupJid':_0x24a9ec?.['id'],'subject':_0x24a9ec?.[_0x152c84(0x579)],'subjectOwner':_0x24a9ec?.[_0x152c84(0x3e8)]?.[_0x152c84(0x1eb)]('@')[0x0],'subjectTime':_0x24a9ec?.['subjectTime'],'creation':_0x24a9ec?.[_0x152c84(0x79b)],'size':_0x24a9ec?.[_0x152c84(0x2f6)]?.[_0x152c84(0x7d0)],'owner':_0x24a9ec?.[_0x152c84(0x23e)]?.[_0x152c84(0x1eb)]('@')[0x0],'desc':_0x24a9ec?.['desc'],'restrict':_0x24a9ec?.['restrict'],'announce':_0x24a9ec?.[_0x152c84(0x1f8)],'image':null,'isCommunity':_0x24a9ec?.['isCommunity'],'joinApprovalMode':_0x24a9ec?.[_0x152c84(0x422)],'memberCanAddParticipant':_0x24a9ec?.[_0x152c84(0x874)],'participants':_0x24a9ec?.[_0x152c84(0x2f6)],'descOwner':_0x24a9ec?.[_0x152c84(0x684)],'descId':_0x24a9ec?.['descId'],'memberAddMode':_0x24a9ec?.[_0x152c84(0x874)],'isCommunityAnnounce':_0x24a9ec?.[_0x152c84(0x8e3)],'ephemeralDuration':_0x24a9ec?.['ephemeralDuration']||0x0,'author':_0x24a9ec?.[_0x152c84(0x7c1)]}),this['updateChatGroupData'](_0x3cd864[_0x4067b6]));}return _0x533724;}catch(_0x5618cf){let _0x128cec=_0x152c84(0x421),_0x308625=_0x5618cf instanceof Error?_0x5618cf[_0x152c84(0x582)]:typeof _0x5618cf=='object'?JSON[_0x152c84(0x2d0)](_0x5618cf):_0x5618cf,_0x83857a=_0x128cec+':\x20'+_0x308625;throw this['logger'][_0x152c84(0x5b6)](this['instanceName']+'\x20('+this[_0x152c84(0x248)][_0x152c84(0x658)]+_0x152c84(0x375)+_0x83857a),new U(_0x83857a);}}async[a0_0x389422(0x856)](_0x2a6829){const _0x53fa80=a0_0x389422;let _0x11347f=await this[_0x53fa80(0x828)][_0x53fa80(0x8e5)][_0x53fa80(0x892)]({'where':{'_id':_0x2a6829['id']}},this[_0x53fa80(0x248)][_0x53fa80(0x658)]);if(_0x2a6829[_0x53fa80(0x8e7)]=_0x2a6829?.[_0x53fa80(0x8e7)]&&_0x2a6829[_0x53fa80(0x8e7)][_0x53fa80(0x46e)]()[_0x53fa80(0x7d0)]<0xd?_0x2a6829?.[_0x53fa80(0x8e7)]*0x3e8:_0x2a6829?.[_0x53fa80(0x8e7)]||null,_0x2a6829[_0x53fa80(0x79b)]=_0x2a6829?.['creation']&&_0x2a6829[_0x53fa80(0x79b)][_0x53fa80(0x46e)]()[_0x53fa80(0x7d0)]<0xd?_0x2a6829?.[_0x53fa80(0x79b)]*0x3e8:_0x2a6829?.[_0x53fa80(0x79b)]||null,!_0x2a6829[_0x53fa80(0x2b8)])try{_0x2a6829[_0x53fa80(0x2b8)]=await this[_0x53fa80(0x496)][_0x53fa80(0x88f)](_0x2a6829['id'],'preview');}catch(_0x248e9e){this[_0x53fa80(0x6d9)]['verbose'](this[_0x53fa80(0x33a)]+'\x20('+this[_0x53fa80(0x248)]['wuid']+_0x53fa80(0x227)+_0x2a6829['id']+':\x20'+(_0x248e9e instanceof Error?_0x248e9e[_0x53fa80(0x582)]:JSON[_0x53fa80(0x2d0)](_0x248e9e,null,0x2)));}let _0x403355=_0x2a6829[_0x53fa80(0x2f6)][_0x53fa80(0x3ea)](_0x4b0865=>{const _0xa80648=_0x53fa80;let _0x179122=_0x11347f?.[_0xa80648(0x3e7)]?.['participants'][_0xa80648(0x428)](_0x407aaf=>_0x407aaf['id']===_0x4b0865['id']);return{..._0x4b0865,'isAdmin':[_0xa80648(0x8e4),'superadmin'][_0xa80648(0x908)](_0x4b0865[_0xa80648(0x8e4)]),'admin':_0x4b0865[_0xa80648(0x8e4)],'name':_0x179122?.['name']||_0x4b0865['name'],'imgUrl':_0x179122?.['imgUrl']||_0x4b0865[_0xa80648(0x8cb)]};}),_0x4834a8=_0x403355[_0x53fa80(0x1a2)](_0xce52a7=>_0xce52a7['id']===this['instance'][_0x53fa80(0x658)]+_0x53fa80(0x72d)&&_0xce52a7[_0x53fa80(0x8e4)]!=null)||!0x1,_0x5547f5=(!_0x2a6829[_0x53fa80(0x1f8)]||_0x4834a8)&&(!_0x2a6829[_0x53fa80(0x83f)]||_0x4834a8),_0x11166d={..._0x2a6829,'participants':_0x403355,'awaitingApproval':_0x11347f?.['groupdata']?.[_0x53fa80(0x6a0)]||[],'lastFetchAwaitingApproval':_0x11347f?.[_0x53fa80(0x3e7)]?.[_0x53fa80(0x823)],'isAdmin':_0x4834a8,'canSendMessage':_0x5547f5,'lastUpdate':Date['now']()};await this[_0x53fa80(0x828)][_0x53fa80(0x8e5)][_0x53fa80(0x2d5)]({'where':{'_id':_0x2a6829['id']}},{'imagechat':_0x2a6829['image'],'name':_0x2a6829[_0x53fa80(0x579)],'group':!0x0,'groupdata':_0x11166d,'lastcache':Date['now']()},this[_0x53fa80(0x248)][_0x53fa80(0x658)]),F(this[_0x53fa80(0x33a)],_0x53fa80(0x328),{'chat':_0x2a6829});}async[a0_0x389422(0x521)](_0x31d2e4){const _0x3cc024=a0_0x389422;let _0x5f0d0e=await this[_0x3cc024(0x828)][_0x3cc024(0x8e5)][_0x3cc024(0x892)]({'where':{'_id':_0x31d2e4['id']}},this[_0x3cc024(0x248)][_0x3cc024(0x658)]);_0x31d2e4[_0x3cc024(0x8e7)]=_0x31d2e4?.[_0x3cc024(0x8e7)]&&_0x31d2e4[_0x3cc024(0x8e7)][_0x3cc024(0x46e)]()[_0x3cc024(0x7d0)]<0xd?_0x31d2e4?.[_0x3cc024(0x8e7)]*0x3e8:_0x31d2e4?.[_0x3cc024(0x8e7)]||null,_0x31d2e4[_0x3cc024(0x79b)]=_0x31d2e4?.[_0x3cc024(0x79b)]&&_0x31d2e4[_0x3cc024(0x79b)]['toString']()[_0x3cc024(0x7d0)]<0xd?_0x31d2e4?.[_0x3cc024(0x79b)]*0x3e8:_0x31d2e4?.[_0x3cc024(0x79b)]||null,_0x31d2e4[_0x3cc024(0x8cf)]&&(_0x31d2e4[_0x3cc024(0x8cf)]=_0x3cc024(0x6d4)+_0x31d2e4[_0x3cc024(0x8cf)]);let _0x14998e=_0x5f0d0e?.[_0x3cc024(0x3e7)]?{..._0x5f0d0e['groupdata']}:{};Object[_0x3cc024(0x8b0)](_0x31d2e4)[_0x3cc024(0x785)](_0x43b585=>{_0x43b585!=='id'&&(_0x14998e[_0x43b585]=_0x31d2e4[_0x43b585]);});let _0x4ef28b=_0x14998e['participants']?.[_0x3cc024(0x1a2)](_0x4f812b=>_0x4f812b['id']===this[_0x3cc024(0x248)][_0x3cc024(0x658)]+'@s.whatsapp.net'&&_0x4f812b['admin']!=null)||!0x1;_0x14998e[_0x3cc024(0x445)]=_0x4ef28b;let _0x4c15d1=(!_0x14998e[_0x3cc024(0x1f8)]||_0x4ef28b)&&(!_0x14998e[_0x3cc024(0x83f)]||_0x4ef28b);_0x14998e[_0x3cc024(0x775)]=_0x4c15d1;let _0x5646b8={'group':!0x0,'groupdata':_0x14998e};_0x31d2e4[_0x3cc024(0x579)]&&(_0x5646b8[_0x3cc024(0x467)]=_0x31d2e4[_0x3cc024(0x579)]),await this[_0x3cc024(0x828)][_0x3cc024(0x8e5)][_0x3cc024(0x2d5)]({'where':{'_id':_0x31d2e4['id']}},_0x5646b8,this[_0x3cc024(0x248)][_0x3cc024(0x658)],{'upsert':!0x0}),F(this[_0x3cc024(0x33a)],_0x3cc024(0x328),{'chat':_0x5646b8});}async['updateGroupParticipantsWebhook'](_0x28ff9d){const _0x188eb2=a0_0x389422;let _0x5a0d18=await this['repository'][_0x188eb2(0x8e5)][_0x188eb2(0x892)]({'where':{'_id':_0x28ff9d['id']}},this['instance'][_0x188eb2(0x658)]);if(!_0x5a0d18||!_0x5a0d18['groupdata']){this[_0x188eb2(0x6d9)]['info'](this[_0x188eb2(0x33a)]+'\x20('+this[_0x188eb2(0x248)][_0x188eb2(0x658)]+_0x188eb2(0x681)+_0x28ff9d['id']);return;}let _0x3af787=await this[_0x188eb2(0x828)][_0x188eb2(0x887)][_0x188eb2(0x7f4)](_0x28ff9d[_0x188eb2(0x2f6)]),_0x118f75=[..._0x5a0d18['groupdata']?.[_0x188eb2(0x2f6)]];switch(_0x28ff9d[_0x188eb2(0x5b8)]){case'add':_0x3af787[_0x188eb2(0x3ea)](_0x4dd67d=>({'id':_0x4dd67d['_id'],'isAdmin':!0x1,'name':_0x4dd67d['name'],'imgUrl':_0x4dd67d[_0x188eb2(0x7f9)]}))[_0x188eb2(0x785)](_0x48869d=>{const _0x490a3c=_0x188eb2;_0x118f75[_0x490a3c(0x1a2)](_0x4b19da=>_0x4b19da['id']===_0x48869d['id'])||(_0x118f75[_0x490a3c(0x3ae)](_0x48869d),this[_0x490a3c(0x6d9)][_0x490a3c(0x379)](_0x490a3c(0x3e4)+JSON[_0x490a3c(0x2d0)](_0x48869d)));});break;case'remove':_0x118f75=_0x118f75[_0x188eb2(0x7ab)](_0x18fc87=>!_0x28ff9d[_0x188eb2(0x2f6)][_0x188eb2(0x908)](_0x18fc87['id']));break;case'promote':_0x118f75=_0x118f75[_0x188eb2(0x3ea)](_0x2a7648=>_0x28ff9d[_0x188eb2(0x2f6)][_0x188eb2(0x908)](_0x2a7648['id'])?{..._0x2a7648,'isAdmin':!0x0,'admin':_0x188eb2(0x8e4)}:_0x2a7648);break;case _0x188eb2(0x3c3):_0x118f75=_0x118f75[_0x188eb2(0x3ea)](_0x42cd34=>_0x28ff9d[_0x188eb2(0x2f6)][_0x188eb2(0x908)](_0x42cd34['id'])?{..._0x42cd34,'isAdmin':!0x1,'admin':null}:_0x42cd34);break;}let _0x538ef9=_0x118f75['length'],_0x554b1c=_0x118f75[_0x188eb2(0x1a2)](_0x18de5e=>_0x18de5e['id']===this[_0x188eb2(0x248)][_0x188eb2(0x658)]+_0x188eb2(0x72d)),_0x5cba9a=_0x554b1c&&_0x118f75[_0x188eb2(0x1a2)](_0x276c17=>_0x276c17['id']===this['instance'][_0x188eb2(0x658)]+_0x188eb2(0x72d)&&_0x276c17[_0x188eb2(0x8e4)]!=null)||!0x1,_0x4df47a=_0x554b1c&&(!_0x5a0d18[_0x188eb2(0x3e7)][_0x188eb2(0x1f8)]||_0x5cba9a)&&(!_0x5a0d18[_0x188eb2(0x3e7)][_0x188eb2(0x83f)]||_0x5cba9a);await this[_0x188eb2(0x828)][_0x188eb2(0x8e5)]['updateOne']({'where':{'_id':_0x28ff9d['id']}},{'groupdata':{..._0x5a0d18[_0x188eb2(0x3e7)],'participants':_0x118f75,'size':_0x538ef9,'isAdmin':_0x5cba9a,'canSendMessage':_0x4df47a}},this[_0x188eb2(0x248)][_0x188eb2(0x658)]),this[_0x188eb2(0x6d9)][_0x188eb2(0x379)](this['instanceName']+'\x20('+this['instance'][_0x188eb2(0x658)]+_0x188eb2(0x494)+_0x28ff9d['id']+_0x188eb2(0x3c6)+_0x28ff9d[_0x188eb2(0x5b8)]+_0x188eb2(0x8e0)+_0x538ef9+_0x188eb2(0x378)+_0x5cba9a+_0x188eb2(0x75b)+_0x4df47a);}async[a0_0x389422(0x8cf)](_0x18d4b0,_0x32487a=!0x0){const _0x32823f=a0_0x389422;try{let _0x4820d1=await this[_0x32823f(0x496)][_0x32823f(0x51c)](_0x18d4b0[_0x32823f(0x232)]),_0x45d967={'groupdata.inviteCode':_0x32823f(0x6d4)+_0x4820d1};if(_0x32487a){let _0x458eb0=await this[_0x32823f(0x828)][_0x32823f(0x8e5)][_0x32823f(0x2d5)]({'where':{'_id':_0x18d4b0[_0x32823f(0x232)]}},_0x45d967,this['instance']['wuid']);}return{'inviteUrl':_0x32823f(0x6d4)+_0x4820d1,'inviteCode':_0x4820d1};}catch(_0x50a99d){let _0x49860d=_0x32823f(0x8bc),_0x127568=_0x50a99d instanceof Error?_0x50a99d[_0x32823f(0x582)]:typeof _0x50a99d=='object'?JSON[_0x32823f(0x2d0)](_0x50a99d):_0x50a99d,_0x440ec0=_0x49860d+':\x20'+_0x127568;throw this[_0x32823f(0x6d9)][_0x32823f(0x5b6)](this['instanceName']+'\x20('+this[_0x32823f(0x248)]['wuid']+_0x32823f(0x375)+_0x440ec0),new U(_0x440ec0);}}async[a0_0x389422(0x827)](_0x3837e8){const _0x6804da=a0_0x389422;try{let _0x3db2ad=await this['client']['groupRevokeInvite'](_0x3837e8['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x6804da(0x6d4)+_0x3db2ad,'inviteCode':_0x3db2ad};}catch(_0xb93c46){let _0x50044a=_0x6804da(0x3d5),_0x3fcaad=_0xb93c46 instanceof Error?_0xb93c46[_0x6804da(0x582)]:typeof _0xb93c46==_0x6804da(0x26d)?JSON['stringify'](_0xb93c46):_0xb93c46,_0x17541e=_0x50044a+':\x20'+_0x3fcaad;throw this[_0x6804da(0x6d9)][_0x6804da(0x5b6)](this[_0x6804da(0x33a)]+'\x20('+this['instance']['wuid']+_0x6804da(0x375)+_0x17541e),new U(_0x17541e);}}async[a0_0x389422(0x75e)](_0x40dd82){const _0x27f3a7=a0_0x389422;try{if((0x0,J[_0x27f3a7(0x26e)])(_0x40dd82[_0x27f3a7(0x8cf)]))var _0x324137=_0x40dd82[_0x27f3a7(0x8cf)][_0x27f3a7(0x1eb)]('/')[0x3];else var _0x324137=_0x40dd82[_0x27f3a7(0x8cf)];let _0x2f907c=await this[_0x27f3a7(0x496)][_0x27f3a7(0x6a3)](_0x324137);return this[_0x27f3a7(0x6d9)][_0x27f3a7(0x2b6)](this[_0x27f3a7(0x33a)]+'\x20('+this[_0x27f3a7(0x248)]['wuid']+_0x27f3a7(0x375)+_0x2f907c),{'join':!0x0,'inviteCode':_0x324137,'groupJid':_0x2f907c};}catch(_0x4308cb){let _0x7ba6d=_0x27f3a7(0x21b),_0x2fb13f=_0x4308cb instanceof Error?_0x4308cb[_0x27f3a7(0x582)]:typeof _0x4308cb==_0x27f3a7(0x26d)?JSON[_0x27f3a7(0x2d0)](_0x4308cb):_0x4308cb,_0x23eb84=_0x7ba6d+':\x20'+_0x2fb13f;throw this[_0x27f3a7(0x6d9)][_0x27f3a7(0x5b6)](this[_0x27f3a7(0x33a)]+'\x20('+this[_0x27f3a7(0x248)][_0x27f3a7(0x658)]+'):\x20'+_0x23eb84),new U(_0x23eb84);}}async[a0_0x389422(0x70e)](_0x518d24){const _0x11864d=a0_0x389422;try{return{'participants':(await this['repository'][_0x11864d(0x8e5)]['findOne']({'where':{'_id':_0x518d24[_0x11864d(0x232)]}},this[_0x11864d(0x248)][_0x11864d(0x658)]))[_0x11864d(0x3e7)][_0x11864d(0x2f6)]};}catch(_0x2a4c3){let _0x534d68=_0x11864d(0x2ae),_0x4a64a3=_0x2a4c3 instanceof Error?_0x2a4c3['message']:typeof _0x2a4c3==_0x11864d(0x26d)?JSON[_0x11864d(0x2d0)](_0x2a4c3):_0x2a4c3,_0x3564fa=_0x534d68+':\x20'+_0x4a64a3;throw this[_0x11864d(0x6d9)][_0x11864d(0x5b6)](this[_0x11864d(0x33a)]+'\x20('+this['instance'][_0x11864d(0x658)]+_0x11864d(0x375)+_0x3564fa),new U(_0x3564fa);}}async[a0_0x389422(0x5bb)](_0x3ab39e){const _0x196ba2=a0_0x389422;try{return await this[_0x196ba2(0x496)]['groupLeave'](_0x3ab39e[_0x196ba2(0x232)]),{'groupJid':_0x3ab39e[_0x196ba2(0x232)],'leave':!0x0};}catch(_0x5a3418){let _0x3f706b='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x45167d=_0x5a3418 instanceof Error?_0x5a3418[_0x196ba2(0x582)]:typeof _0x5a3418=='object'?JSON['stringify'](_0x5a3418):_0x5a3418,_0x17c74e=_0x3f706b+':\x20'+_0x45167d;throw this[_0x196ba2(0x6d9)][_0x196ba2(0x5b6)](this[_0x196ba2(0x33a)]+'\x20('+this['instance'][_0x196ba2(0x658)]+_0x196ba2(0x375)+_0x17c74e),new m(_0x17c74e);}}async[a0_0x389422(0x5ab)](_0x33f8a9){const _0x11db57=a0_0x389422;return await this[_0x11db57(0x399)](_0x33f8a9[_0x11db57(0x2f3)],{'poll':{'name':_0x33f8a9[_0x11db57(0x5ab)]?.[_0x11db57(0x467)],'selectableCount':_0x33f8a9[_0x11db57(0x5ab)]['selectableCount'],'values':_0x33f8a9[_0x11db57(0x5ab)]['values']}},_0x33f8a9?.[_0x11db57(0x7dd)]);}async[a0_0x389422(0x869)](_0x29fd95){const _0x28ec49=a0_0x389422;return await this[_0x28ec49(0x399)](_0x29fd95[_0x28ec49(0x2f3)],{'listMessage':{'title':_0x29fd95[_0x28ec49(0x869)][_0x28ec49(0x7e9)],'description':_0x29fd95[_0x28ec49(0x869)]['description'],'buttonText':_0x29fd95[_0x28ec49(0x869)]?.['buttonText'],'footerText':_0x29fd95['listMessage']?.['footerText'],'sections':_0x29fd95['listMessage'][_0x28ec49(0x367)],'listType':0x2}},_0x29fd95?.[_0x28ec49(0x7dd)]);}async[a0_0x389422(0x3ce)](_0x3c8a63){const _0x221123=a0_0x389422;this[_0x221123(0x248)][_0x221123(0x642)]===void 0x0&&await this['isBusinessInstance']();let _0x204cd7;if(_0x3c8a63['menuMessage'][_0x221123(0x3e0)]==='list'||_0x3c8a63['menuMessage'][_0x221123(0x3e0)]==='list2'){let _0x214818=_0x3c8a63[_0x221123(0x3ce)][_0x221123(0x243)][_0x221123(0x8e6)]('\x0a'),_0x153b30='',_0x4f6b30='';_0x214818!==-0x1?(_0x153b30=_0x3c8a63[_0x221123(0x3ce)]['text'][_0x221123(0x728)](0x0,_0x214818)[_0x221123(0x29d)](),_0x4f6b30=_0x3c8a63[_0x221123(0x3ce)][_0x221123(0x243)][_0x221123(0x728)](_0x214818+0x1)):_0x4f6b30=_0x3c8a63[_0x221123(0x3ce)][_0x221123(0x243)];let _0xa2f59f=_0x3c8a63[_0x221123(0x3ce)][_0x221123(0x288)][_0x221123(0x7ab)](_0x1f444b=>_0x1f444b['trim']()!==''),_0x22f9fe=this[_0x221123(0x342)](_0xa2f59f);_0x204cd7={'listMessage':{'title':_0x153b30,'description':_0x4f6b30,'buttonText':_0x3c8a63[_0x221123(0x3ce)][_0x221123(0x650)]||_0x221123(0x5f8),'footerText':_0x3c8a63[_0x221123(0x3ce)]['footerText'],'sections':_0x22f9fe,'listType':0x2}};}else{if(_0x3c8a63[_0x221123(0x3ce)][_0x221123(0x3e0)]===_0x221123(0x505)){let _0x5afd8a=_0x3c8a63['menuMessage']['choices'][_0x221123(0x7ab)](_0x2c02ca=>!(_0x2c02ca['startsWith']('[')&&_0x2c02ca['endsWith'](']'))&&_0x2c02ca[_0x221123(0x29d)]()!=='')['map'](_0x4c9813=>_0x4c9813[_0x221123(0x1eb)]('\x0a')[0x0]);for(;_0x5afd8a[_0x221123(0x7d0)]<0x2;)_0x5afd8a[_0x221123(0x3ae)](_0x221123(0x562)+(_0x5afd8a[_0x221123(0x7d0)]+0x1));_0x204cd7={'poll':{'name':_0x3c8a63['menuMessage'][_0x221123(0x243)],'selectableCount':_0x3c8a63[_0x221123(0x3ce)][_0x221123(0x66c)]||0x1,'values':_0x5afd8a}};}else{if(_0x3c8a63['menuMessage']['type']===_0x221123(0x27c)){let _0x15cdc2=this['createButtonsFromValues'](_0x3c8a63[_0x221123(0x3ce)]['choices'][_0x221123(0x7ab)](_0x248a24=>!(_0x248a24[_0x221123(0x759)]('[')&&_0x248a24[_0x221123(0x79d)](']'))));return _0x204cd7={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x3c8a63[_0x221123(0x3ce)][_0x221123(0x243)]},'footer':_0x3c8a63['menuMessage'][_0x221123(0x70f)]?{'text':_0x3c8a63[_0x221123(0x3ce)][_0x221123(0x70f)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x15cdc2,'messageParamsJson':JSON[_0x221123(0x2d0)]({'from':_0x221123(0x25b),'templateId':'3EB0'+(0x0,ne[_0x221123(0x535)])(0x12)['toString'](_0x221123(0x72a))[_0x221123(0x1f7)]()})}}}}},await this[_0x221123(0x6d8)](_0x3c8a63[_0x221123(0x2f3)],_0x204cd7,_0x3c8a63?.['options']);}else{if(_0x3c8a63[_0x221123(0x3ce)][_0x221123(0x3e0)]==='list3'){let _0x36d180=this[_0x221123(0x1bf)](_0x3c8a63[_0x221123(0x3ce)][_0x221123(0x288)]);return _0x204cd7={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x3c8a63[_0x221123(0x3ce)][_0x221123(0x243)]},'footer':_0x3c8a63[_0x221123(0x3ce)][_0x221123(0x70f)]?{'text':_0x3c8a63[_0x221123(0x3ce)]['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x36d180,'messageParamsJson':JSON[_0x221123(0x2d0)]({'from':'api','templateId':_0x221123(0x878)+(0x0,ne[_0x221123(0x535)])(0x12)[_0x221123(0x46e)](_0x221123(0x72a))[_0x221123(0x1f7)]()})}}}}},await this[_0x221123(0x6d8)](_0x3c8a63[_0x221123(0x2f3)],_0x204cd7,_0x3c8a63?.[_0x221123(0x7dd)]);}}}}return await this[_0x221123(0x399)](_0x3c8a63[_0x221123(0x2f3)],_0x204cd7,_0x3c8a63?.[_0x221123(0x7dd)]);}[a0_0x389422(0x1fb)](_0x2d37a3){return _0x2d37a3['map'](_0xf85c68=>{const _0x161379=a0_0x3fdd;let _0x6df0da=_0xf85c68['split']('\x0a')[_0x161379(0x3ea)](_0x3a178f=>_0x3a178f[_0x161379(0x29d)]()),_0x581041=_0x6df0da[0x0],_0x3e5ded=_0x6df0da[0x1]||_0x581041,_0x54b45a=_0x3e5ded[_0x161379(0x759)]('http')?_0x161379(0x743):'quick_reply';return{'name':_0x54b45a,'buttonParamsJson':JSON[_0x161379(0x2d0)]({'display_text':_0x581041,'id':_0x54b45a===_0x161379(0x391)?_0x3e5ded:void 0x0,'url':_0x54b45a===_0x161379(0x743)?_0x3e5ded:void 0x0})};});}[a0_0x389422(0x1bf)](_0x142b83){const _0x4279ff=a0_0x389422;let _0x512e7f=[],_0x2f1e5e={'title':'','rows':[]};return _0x142b83[_0x4279ff(0x785)](_0x57b804=>{const _0x59d228=_0x4279ff;if(_0x57b804[_0x59d228(0x759)]('[')&&_0x57b804[_0x59d228(0x79d)](']'))_0x2f1e5e[_0x59d228(0x5c9)][_0x59d228(0x7d0)]>0x0&&_0x512e7f['push'](_0x2f1e5e),_0x2f1e5e={'title':_0x57b804[_0x59d228(0x55f)](0x1,-0x1),'rows':[]};else{let _0x141ba3=_0x57b804[_0x59d228(0x1eb)]('\x0a')[_0x59d228(0x3ea)](_0x13b94e=>_0x13b94e[_0x59d228(0x29d)]()),_0x2e8362=_0x141ba3[0x0],_0x4ba0bd=_0x141ba3[0x1]?_0x141ba3[0x1]:void 0x0,_0x30ee6a=_0x141ba3[0x2]||_0x2e8362;_0x2f1e5e[_0x59d228(0x5c9)][_0x59d228(0x3ae)]({'title':_0x2e8362,'description':_0x4ba0bd,'id':_0x30ee6a});}}),_0x2f1e5e[_0x4279ff(0x5c9)][_0x4279ff(0x7d0)]>0x0&&_0x512e7f[_0x4279ff(0x3ae)](_0x2f1e5e),[{'name':_0x4279ff(0x354),'buttonParamsJson':JSON[_0x4279ff(0x2d0)]({'title':'Selecione\x20uma\x20opção','sections':_0x512e7f})}];}[a0_0x389422(0x342)](_0x25bea8){const _0x22545c=a0_0x389422;let _0x49fade=[],_0x108722={'rows':[]};return _0x25bea8['forEach'](_0x2c08b1=>{const _0x221740=a0_0x3fdd;if(_0x2c08b1[_0x221740(0x759)]('[')&&_0x2c08b1[_0x221740(0x79d)](']'))_0x108722[_0x221740(0x5c9)]['length']>0x0&&_0x49fade[_0x221740(0x3ae)](_0x108722),_0x108722={'title':_0x2c08b1[_0x221740(0x55f)](0x1,-0x1),'rows':[]};else{let _0x384873=_0x2c08b1[_0x221740(0x1eb)]('\x0a')[_0x221740(0x3ea)](_0x3643ec=>_0x3643ec[_0x221740(0x29d)]()),_0x266718=_0x384873[0x0],_0x283c72=_0x384873[0x1]||null,_0x5361a5=_0x384873[0x2]||_0x266718;_0x108722[_0x221740(0x5c9)][_0x221740(0x3ae)]({'title':_0x266718,'description':_0x283c72,'rowId':_0x5361a5});}}),_0x108722[_0x22545c(0x5c9)][_0x22545c(0x7d0)]>0x0&&_0x49fade['push'](_0x108722),_0x49fade;}async['updateMessage'](_0x52dbfa,_0x5d8bfc){const _0x3b1b04=a0_0x389422;if(await this[_0x3b1b04(0x38f)](_0x52dbfa,!0x0)){let _0x2d58b4={'where':{'_id':_0x52dbfa['id']}},_0x585db5={'status':[_0x5d8bfc[_0x3b1b04(0x3d8)]][0x0]};try{let _0x228d33=await this[_0x3b1b04(0x828)][_0x3b1b04(0x582)][_0x3b1b04(0x4a1)](_0x2d58b4,_0x585db5,this[_0x3b1b04(0x248)]['wuid']);_0x228d33&&F(this['instanceName'],_0x3b1b04(0x7ba),{'message':_0x228d33});}catch{}}}[a0_0x389422(0x386)](_0x198fa1){const _0x223fa3=a0_0x389422;let _0x3356e6=[];return _0x198fa1[_0x223fa3(0x785)](_0x277d10=>{const _0x280a3c=_0x223fa3;_0x277d10[_0x280a3c(0x7e9)]&&_0x3356e6[_0x280a3c(0x3ae)]('['+_0x277d10[_0x280a3c(0x7e9)]+']'),_0x277d10[_0x280a3c(0x5c9)]['forEach'](_0x4c02e8=>{const _0x3b6b63=_0x280a3c;_0x3356e6[_0x3b6b63(0x3ae)](_0x4c02e8[_0x3b6b63(0x7e9)]);});}),_0x3356e6[_0x223fa3(0x5ee)]('|');}['formatVCard'](_0x28be1e){const _0xd70d43=a0_0x389422;let _0x1c6f29=_0x28be1e['replace'](/\\n/g,'\x0a')[_0xd70d43(0x1eb)]('\x0a')[_0xd70d43(0x7ab)](_0x4d3901=>_0x4d3901['includes'](_0xd70d43(0x372))||_0x4d3901[_0xd70d43(0x908)]('EMAIL')),_0x2fe100='';return _0x1c6f29['forEach'](_0x36363e=>{const _0x580684=_0xd70d43;let _0x2cd195=/TEL(?:.*):(.+)/,_0x57e59e=/EMAIL(?:.*):(.+)/,_0x10fef3=_0x36363e[_0x580684(0x6c1)](_0x2cd195),_0x5ed429=_0x36363e['match'](_0x57e59e);if(_0x10fef3){let _0x307262=_0x10fef3[0x1][_0x580684(0x793)](/-| |\+|\(|\)/g,'')[_0x580684(0x29d)]();_0x2fe100+=_0x580684(0x6fd)+_0x307262+'\x0a';}else{if(_0x5ed429){let _0x34178c=_0x5ed429[0x1][_0x580684(0x29d)]();_0x2fe100+='E-mail:\x20'+_0x34178c+'\x0a';}}}),_0x2fe100[_0xd70d43(0x29d)]();}async[a0_0x389422(0x38c)](_0x37afd9,_0xbadede,_0x41a371,_0x5a9960=null){const _0x315327=a0_0x389422;if(_0x37afd9['ENABLED'])try{let _0x1c5db6=_0xbadede[_0x315327(0x71e)][_0x315327(0x897)]['replace'](/:\d{1,2}@/g,'@'),_0x2fbe8f=_0xbadede[_0x315327(0x71e)][_0x315327(0x8fb)],_0x2e32a5=_0x1c5db6[_0x315327(0x79d)](_0x315327(0x3a5)),_0xcf9a1d=_0xbadede[_0x315327(0x3c2)]?.['replace'](/:\d{1,2}@/g,'@')||'',_0x5d4bbb=_0xbadede['message_normalized']?.[_0x315327(0x243)]||_0xbadede[_0x315327(0x6cd)]?.[_0x315327(0x41e)]||_0xbadede[_0x315327(0x6cd)]?.[_0x315327(0x83e)]||_0xbadede[_0x315327(0x6cd)]?.['name']||'',_0x4ce759={'_id':_0xbadede[_0x315327(0x53f)],'remoteJid':_0x2fbe8f?this['instance'][_0x315327(0x658)]:_0x2e32a5?_0xcf9a1d:_0x1c5db6,'pushName':_0x2fbe8f?this['instance'][_0x315327(0x18c)]||'Eu':_0xbadede[_0x315327(0x7f7)],'text':_0x5d4bbb,'type':_0xbadede['messageType'],'when':_0xbadede[_0x315327(0x26a)]||Date[_0x315327(0x755)]()};_0x5a9960||(_0x5a9960=await this[_0x315327(0x828)][_0x315327(0x8e5)][_0x315327(0x892)]({'where':{'_id':_0x1c5db6}},this[_0x315327(0x248)][_0x315327(0x658)]));let _0x2f3240=_0x2fbe8f?0x0:_0x5a9960?(_0x5a9960[_0x315327(0x5bd)]||0x0)+0x1:0x1,_0x2295ed={'lastmsg':_0xbadede[_0x315327(0x26a)]||Date['now'](),'ephemeralExpiration':_0xbadede['expiration'],'lastMessage':_0x4ce759,'unreadcount':_0x2f3240,..._0x2fbe8f||_0x2e32a5?{}:{'name':_0xbadede[_0x315327(0x7f7)]},..._0x2e32a5?{'group':_0x2e32a5}:{},...!_0x2fbe8f&&!_0x2e32a5&&_0xbadede[_0x315327(0x88f)]?{'imagechat':_0xbadede[_0x315327(0x88f)]}:{}};if(!_0x2e32a5&&(!_0x5a9960?.[_0x315327(0x8cc)]||!_0x5a9960['leadInfo']['nome'])&&_0xbadede['pushName']&&!_0x2fbe8f&&(_0x2295ed={..._0x2295ed,'leadInfo.nome':_0xbadede[_0x315327(0x7f7)]}),_0x5a9960?.[_0x315327(0x8cc)][_0x315327(0x774)]||(_0x2295ed={..._0x2295ed,'leadInfo.etiquetas':[]}),_0x5a9960?.['leadInfo'][_0x315327(0x59d)]||(_0x2295ed={..._0x2295ed,'leadInfo.customFields':[]}),_0x5a9960?.[_0x315327(0x8cc)][_0x315327(0x7cf)]||(_0x2295ed={..._0x2295ed,'leadInfo.tags':[]}),_0x5a9960&&_0x5a9960?.[_0x315327(0x8c8)]){let _0x2ea0cb=await this[_0x315327(0x828)]['label'][_0x315327(0x428)]({'where':{}},this['instance'][_0x315327(0x658)]),_0x470410=new Set(_0x2ea0cb['map'](_0x5d1a3b=>_0x5d1a3b[_0x315327(0x53f)])),_0x19cc26=(_0x5a9960['leadInfo']?.[_0x315327(0x774)]||[])[_0x315327(0x7ab)](_0x5267d6=>_0x470410[_0x315327(0x3cf)](_0x5267d6));_0x2295ed={..._0x2295ed,'imported':!0x1,'leadInfo.etiquetas':_0x19cc26};for(let _0x58045e of _0x19cc26)await this[_0x315327(0x3a8)](_0x58045e,_0x1c5db6);}if(!this['AutomateSystem']['flows'][_0x315327(0x428)](_0x36ce09=>_0x36ce09[_0x315327(0x31b)]&&_0x5d4bbb[_0x315327(0x908)](_0x36ce09[_0x315327(0x31b)]))&&_0x41a371==='MESSAGES_UPSERT'&&_0x2fbe8f&&this[_0x315327(0x346)]?.[_0x315327(0x5a2)][_0x315327(0x2c6)]&&_0x5d4bbb[_0x315327(0x29d)]()!==this[_0x315327(0x346)]?.[_0x315327(0x5a2)][_0x315327(0x6a6)][_0x315327(0x29d)]()){let _0x4fae71=(this[_0x315327(0x346)]?.[_0x315327(0x5a2)][_0x315327(0x1ab)]||0x0)*0xea60,_0x4581c3=Date[_0x315327(0x755)]()+_0x4fae71;_0x5a9960?.[_0x315327(0x8cc)]?.[_0x315327(0x4b4)]===0x0||(_0x2295ed={..._0x2295ed,'leadInfo.desativadoFluxoAte':_0x4581c3},this['logger'][_0x315327(0x2b6)](this[_0x315327(0x33a)]+'\x20('+this['instance'][_0x315327(0x658)]+_0x315327(0x708)+_0x4581c3+'.'));}if(_0x5d4bbb[_0x315327(0x29d)]()===this[_0x315327(0x346)]?.[_0x315327(0x5a2)]['stopConversation'][_0x315327(0x29d)]()){this[_0x315327(0x6d9)][_0x315327(0x2b6)](this[_0x315327(0x33a)]+'\x20('+this['instance'][_0x315327(0x658)]+'):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20'+_0x5d4bbb);let _0x16bf83=Date[_0x315327(0x755)]();this[_0x315327(0x346)]?.[_0x315327(0x5a2)][_0x315327(0x83b)]===0x0?_0x2295ed={..._0x2295ed,'leadInfo.desativadoFluxoAte':_0x16bf83+0x7591f6200}:_0x2295ed={..._0x2295ed,'leadInfo.desativadoFluxoAte':_0x16bf83+this[_0x315327(0x346)]?.[_0x315327(0x5a2)][_0x315327(0x83b)]*0x3c*0x3e8};}if(_0x5a9960=await this[_0x315327(0x828)]['chat'][_0x315327(0x2d5)]({'where':{'_id':_0x1c5db6}},_0x2295ed,this['instance'][_0x315327(0x658)],{'new':!0x0,'upsert':!0x0}),_0x5a9960)F(this[_0x315327(0x33a)],'chats',{'chat':_0x5a9960});else{this[_0x315327(0x6d9)][_0x315327(0x5b6)](this['instanceName']+'\x20('+this[_0x315327(0x248)][_0x315327(0x658)]+_0x315327(0x441));return;}if(_0x2fbe8f)return this[_0x315327(0x6d9)][_0x315327(0x2b6)](this[_0x315327(0x33a)]+'\x20('+this[_0x315327(0x248)][_0x315327(0x658)]+_0x315327(0x41d)),null;if(!this[_0x315327(0x346)]?.[_0x315327(0x5a2)][_0x315327(0x2c6)])return this['logger']['verbose'](this[_0x315327(0x33a)]+'\x20('+this[_0x315327(0x248)][_0x315327(0x658)]+_0x315327(0x474)),null;if(_0x5a9960[_0x315327(0x53f)][_0x315327(0x908)](_0x315327(0x3a5))&&this[_0x315327(0x346)]?.[_0x315327(0x5a2)][_0x315327(0x261)]===!0x0)return this[_0x315327(0x6d9)][_0x315327(0x2b6)](this['instanceName']+'\x20('+this[_0x315327(0x248)][_0x315327(0x658)]+_0x315327(0x538)),null;if(_0x5a9960[_0x315327(0x8cc)]){if(_0x5a9960[_0x315327(0x8cc)]['desativadoFluxoAte']===0x0||_0x5a9960['leadInfo'][_0x315327(0x240)])return this[_0x315327(0x6d9)][_0x315327(0x2b6)](this[_0x315327(0x33a)]+'\x20('+this[_0x315327(0x248)][_0x315327(0x658)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x1c5db6+_0x315327(0x4b7)),null;if(_0x5a9960['leadInfo'][_0x315327(0x4b4)]>Date[_0x315327(0x755)]()&&!_0xbadede['message_normalized']?.[_0x315327(0x83e)])return this[_0x315327(0x6d9)]['verbose'](this['instanceName']+'\x20('+this[_0x315327(0x248)][_0x315327(0x658)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x5a9960[_0x315327(0x8cc)][_0x315327(0x4b4)])[_0x315327(0x229)]()+_0x315327(0x4b7)),null;}this[_0x315327(0x6d9)][_0x315327(0x2b6)](this[_0x315327(0x33a)]+'\x20('+this['instance'][_0x315327(0x658)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x315327(0x3d4)](_0xbadede,_0x41a371);}catch(_0x3ba635){let _0x415fa8=_0x315327(0x6ce),_0x197be3=_0x3ba635 instanceof Error?_0x3ba635[_0x315327(0x582)]:typeof _0x3ba635==_0x315327(0x26d)?JSON[_0x315327(0x2d0)](_0x3ba635):_0x3ba635,_0x24c972=_0x415fa8+':\x20'+_0x197be3;return this['logger'][_0x315327(0x5b6)](this[_0x315327(0x33a)]+'\x20('+this[_0x315327(0x248)][_0x315327(0x658)]+_0x315327(0x375)+_0x24c972),null;}}async[a0_0x389422(0x29a)](_0x5593e0,_0x249055){const _0x4da504=a0_0x389422;if(_0x249055['ENABLED']){let _0x3d5d00=_0x5593e0['map'](async _0x5949ec=>{const _0x56d906=a0_0x3fdd;try{let _0x1ad1ce={'_id':_0x5949ec['_id'],'owner':_0x5949ec['owner'],'lastcache':0x0};if(Object[_0x56d906(0x8b0)](_0x5949ec)[_0x56d906(0x785)](_0xbdc7c6=>{_0x5949ec[_0xbdc7c6]!==null&&(_0x1ad1ce[_0xbdc7c6]=_0x5949ec[_0xbdc7c6]);}),_0x1ad1ce['imagechat']===null&&(_0x1ad1ce[_0x56d906(0x2f2)]=_0x56d906(0x640)),Object['keys'](_0x1ad1ce)['length']>0x0)return await this[_0x56d906(0x828)][_0x56d906(0x8e5)][_0x56d906(0x2d5)]({'where':{'_id':_0x5949ec['_id']}},_0x1ad1ce,this['instance'][_0x56d906(0x658)]);}catch(_0x287c08){let _0x203ed8=_0x56d906(0x4ae)+_0x5949ec[_0x56d906(0x53f)],_0x1e5e2f=_0x287c08 instanceof Error?_0x287c08['message']:typeof _0x287c08==_0x56d906(0x26d)?JSON['stringify'](_0x287c08):_0x287c08,_0x35c9f2=_0x203ed8+':\x20'+_0x1e5e2f;return this[_0x56d906(0x6d9)][_0x56d906(0x5b6)](this[_0x56d906(0x33a)]+'\x20('+this[_0x56d906(0x248)][_0x56d906(0x658)]+_0x56d906(0x375)+_0x35c9f2),null;}}),_0x30145f=(await Promise[_0x4da504(0x73e)](_0x3d5d00))[_0x4da504(0x7ab)](_0x3729a9=>_0x3729a9!==null)[_0x4da504(0x7d0)];this['logger'][_0x4da504(0x2b6)](this['instanceName']+'\x20('+this[_0x4da504(0x248)][_0x4da504(0x658)]+'):\x20'+_0x30145f+_0x4da504(0x703)+this[_0x4da504(0x248)][_0x4da504(0x658)]+_0x4da504(0x78d));}}async['readMessageBot'](_0x3ca8e7){const _0x7a64fa=a0_0x389422;this['logger'][_0x7a64fa(0x2b6)](this[_0x7a64fa(0x33a)]+'\x20('+this[_0x7a64fa(0x248)][_0x7a64fa(0x658)]+'):\x20Ler\x20mensagem');let _0x33791b={'readMessages':[{'remoteJid':_0x3ca8e7[_0x7a64fa(0x4a2)][_0x7a64fa(0x3f1)][_0x7a64fa(0x71e)]['remoteJid'],'fromMe':_0x3ca8e7[_0x7a64fa(0x4a2)][_0x7a64fa(0x3f1)]['key'][_0x7a64fa(0x8fb)],'id':_0x3ca8e7[_0x7a64fa(0x4a2)][_0x7a64fa(0x3f1)]['key']['id']}]};await this[_0x7a64fa(0x62c)](_0x33791b);}async[a0_0x389422(0x3d4)](_0x113c8d,_0x149056){const _0x38de1f=a0_0x389422;try{let {key:_0x1b7a4a,message_normalized:_0x204f17}=_0x113c8d,_0x78cd36=_0x204f17,_0x55f69d=_0x204f17[_0x38de1f(0x243)]||_0x204f17[_0x38de1f(0x41e)]||_0x204f17[_0x38de1f(0x83e)]||_0x204f17[_0x38de1f(0x467)]||'',_0x3f4527=_0x1b7a4a[_0x38de1f(0x897)],_0x75f30a=null,_0x450ca8=this['AutomateSystem'][_0x38de1f(0x315)][_0x38de1f(0x428)](_0x6f7c07=>_0x6f7c07['startCommand']&&_0x55f69d['includes'](_0x6f7c07[_0x38de1f(0x31b)]));if(_0x450ca8&&_0x149056===_0x38de1f(0x1f6)){let _0x3db536=await this['repository'][_0x38de1f(0x8b8)][_0x38de1f(0x892)]({'where':{'_id':_0x450ca8['_id']}});if(this['logger'][_0x38de1f(0x2b6)](this[_0x38de1f(0x33a)]+'\x20('+this['instance']['wuid']+_0x38de1f(0x3f5)),_0x3db536&&_0x3db536[_0x38de1f(0x7ee)]?.[_0x38de1f(0x908)](this[_0x38de1f(0x248)][_0x38de1f(0x658)]))_0x75f30a=await this[_0x38de1f(0x714)](_0x3db536,_0x1b7a4a,_0x78cd36);else return this[_0x38de1f(0x6d9)][_0x38de1f(0x2b6)](this[_0x38de1f(0x33a)]+'\x20('+this[_0x38de1f(0x248)]['wuid']+_0x38de1f(0x321)),null;}else this['logger'][_0x38de1f(0x2b6)](this[_0x38de1f(0x33a)]+'\x20('+this['instance'][_0x38de1f(0x658)]+_0x38de1f(0x7cd));if(_0x75f30a=await this[_0x38de1f(0x2dd)](_0x3f4527,_0x78cd36),_0x75f30a){this[_0x38de1f(0x6d9)]['verbose'](this['instanceName']+'\x20('+this[_0x38de1f(0x248)][_0x38de1f(0x658)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x1b7a4a['fromMe']&&_0x75f30a[_0x38de1f(0x65a)]&&this[_0x38de1f(0x7f3)](_0x75f30a);let _0x11b5bf=await this[_0x38de1f(0x4d3)](_0x75f30a);_0x11b5bf&&await this[_0x38de1f(0x857)](_0x75f30a,_0x11b5bf);}}catch(_0x18e1d5){this[_0x38de1f(0x6d9)][_0x38de1f(0x5b6)](this[_0x38de1f(0x33a)]+'\x20('+this[_0x38de1f(0x248)][_0x38de1f(0x658)]+_0x38de1f(0x837)+(_0x18e1d5 instanceof Error?_0x18e1d5[_0x38de1f(0x582)]:JSON['stringify'](_0x18e1d5,null,0x2)));}}[a0_0x389422(0x50c)](_0x44dfb0,_0x3bfd90='',_0x5c0d8f={}){const _0x1b68fe=a0_0x389422;return typeof _0x44dfb0!=_0x1b68fe(0x26d)||_0x44dfb0===null?(_0x3bfd90&&(_0x5c0d8f[_0x3bfd90]=_0x44dfb0),_0x5c0d8f):(Object[_0x1b68fe(0x730)](_0x44dfb0)[_0x1b68fe(0x785)](([_0x53b16e,_0x59066d])=>{const _0x41892b=_0x1b68fe;let _0x2fa06d=_0x3bfd90?_0x3bfd90+'.'+_0x53b16e:'_'+_0x53b16e;Array[_0x41892b(0x1fc)](_0x59066d)?_0x59066d[_0x41892b(0x785)]((_0x57339c,_0x10e699)=>{const _0x28c209=_0x41892b;this[_0x28c209(0x50c)](_0x57339c,_0x2fa06d+'['+_0x10e699+']',_0x5c0d8f);}):typeof _0x59066d==_0x41892b(0x26d)&&_0x59066d!==null?this['flattenObject'](_0x59066d,_0x2fa06d,_0x5c0d8f):_0x5c0d8f[_0x2fa06d]=String(_0x59066d);}),_0x5c0d8f);}['variablesToObject'](_0x27260e){const _0xd96c9a=a0_0x389422;let _0x3cee04={};for(let _0x511547 of _0x27260e)typeof _0x511547[_0xd96c9a(0x467)]=='string'&&typeof _0x511547['value']==_0xd96c9a(0x709)&&(_0x3cee04[_0x511547[_0xd96c9a(0x467)]]=_0x511547[_0xd96c9a(0x1a6)]);return _0x3cee04;}async[a0_0x389422(0x4d3)](_0x5e6047){const _0x4874af=a0_0x389422;if(!this[_0x4874af(0x346)]?.[_0x4874af(0x5a2)][_0x4874af(0x2c6)]||_0x5e6047[_0x4874af(0x3d8)]!=='open'&&_0x5e6047['waitingMenu_id']==='')return null;let _0x153b09=_0x5e6047[_0x4874af(0x4a2)][_0x4874af(0x6b9)]||'start';typeof _0x5e6047[_0x4874af(0x4a2)][_0x4874af(0x78f)]>'u'&&(_0x5e6047['chatLog']['lastCondition']=!0x0);let _0x5e7e5d=_0x5e6047[_0x4874af(0x4a2)][_0x4874af(0x78f)];this['logger'][_0x4874af(0x2b6)](this[_0x4874af(0x33a)]+'\x20('+this[_0x4874af(0x248)][_0x4874af(0x658)]+_0x4874af(0x3de)+_0x153b09+_0x4874af(0x2d3)+_0x5e7e5d);let _0x2dff11=_0x153b09===_0x4874af(0x564)?_0x5e6047[_0x4874af(0x78b)][_0x4874af(0x428)](_0x61172d=>_0x61172d[_0x4874af(0x3e0)]==='start'):_0x5e6047[_0x4874af(0x78b)][_0x4874af(0x428)](_0x5d3fcc=>_0x5d3fcc[_0x4874af(0x53f)]['toString']()===_0x153b09['toString']());if(!_0x2dff11)return this[_0x4874af(0x6d9)]['error'](this[_0x4874af(0x33a)]+'\x20('+this[_0x4874af(0x248)][_0x4874af(0x658)]+_0x4874af(0x7b8)+_0x153b09),null;let _0x459516={'_pushName':_0x5e6047?.[_0x4874af(0x4a2)]?.['lastReceivedMessage']?.['pushName']||'','_sender':this['instance'][_0x4874af(0x658)]||'',..._0x5e6047['chatLog'][_0x4874af(0x3cd)]},_0x3730f1=new Date();_0x459516['_day']=_0x3730f1[_0x4874af(0x40e)](),_0x459516[_0x4874af(0x1e3)]=_0x3730f1[_0x4874af(0x1cd)]()+0x1,_0x459516[_0x4874af(0x70b)]=_0x3730f1[_0x4874af(0x277)](),_0x459516[_0x4874af(0x454)]=_0x3730f1[_0x4874af(0x723)](),_0x459516[_0x4874af(0x5e7)]=_0x3730f1[_0x4874af(0x589)](),_0x459516[_0x4874af(0x753)]=_0x3730f1[_0x4874af(0x197)]();let _0x204117=null;if(_0x5e6047[_0x4874af(0x3b0)]){let _0x3e9c6e=_0x5e6047[_0x4874af(0x4a2)][_0x4874af(0x3f1)][_0x4874af(0x83e)],_0x28f0cc=_0x5e6047['waitingMenu_replyOptions']['find'](_0x11b035=>_0x11b035['option']===_0x3e9c6e);if(_0x28f0cc){let _0x1c5c29=_0x28f0cc['next_groupId'];if(_0x204117=_0x5e6047[_0x4874af(0x78b)][_0x4874af(0x428)](_0x6c8871=>_0x6c8871['groupId']===_0x1c5c29&&_0x6c8871[_0x4874af(0x29c)]===0x1),_0x2dff11['uazapi'][_0x4874af(0x2d9)]){let _0x279cc4={'id':_0x5e6047[_0x4874af(0x3b0)],'remoteJid':_0x5e6047[_0x4874af(0x897)],'fromMe':!0x0};await this[_0x4874af(0x813)](_0x279cc4);}if(_0x2dff11[_0x4874af(0x2e6)][_0x4874af(0x2d9)]&&_0x2dff11[_0x4874af(0x2e6)][_0x4874af(0x453)]&&_0x2dff11['uazapi'][_0x4874af(0x336)]===_0x4874af(0x505)){let _0x354e72={'number':_0x5e6047['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x5e6047[_0x4874af(0x4d2)]+'\x0a*Você\x20respondeu*:\x0a'+_0x3e9c6e}};await this['textMessage'](_0x354e72);}_0x459516['_lastVote']=_0x3e9c6e,_0x5e6047['status']=_0x4874af(0x214),_0x5e6047[_0x4874af(0x3b0)]='',_0x5e6047[_0x4874af(0x4d2)]='',_0x5e6047['waitingMenu_replyOptions']=[];}else{this[_0x4874af(0x6d9)][_0x4874af(0x2b6)](this[_0x4874af(0x33a)]+'\x20('+this[_0x4874af(0x248)]['wuid']+_0x4874af(0x33b));let _0x32b493={'activatedCount':_0x5e6047['chatLog']['blockLogs'][_0x4874af(0x7ab)](_0x54b4b8=>String(_0x54b4b8[_0x4874af(0x2e2)])===String(_0x153b09))[_0x4874af(0x7d0)],'moreLogs':[_0x4874af(0x5a4)]};if(_0x2dff11['uazapi'][_0x4874af(0x615)]){let _0x6b559={'number':_0x5e6047[_0x4874af(0x897)],'options':{'delay':0x0},'textMessage':{'text':_0x2dff11[_0x4874af(0x2e6)]['pollErrorMessage']}};await this[_0x4874af(0x482)](_0x6b559);}if(_0x2dff11['maxActives']!==void 0x0&&_0x32b493['activatedCount']>=_0x2dff11[_0x4874af(0x486)]){let _0x245a03=Date[_0x4874af(0x755)](),_0x2b54af=_0x2dff11[_0x4874af(0x20d)]??0xa;isNaN(_0x2b54af)&&(_0x2b54af=0xa);let _0x29c729=_0x245a03+_0x2b54af*0x3c*0x3e8;_0x32b493[_0x4874af(0x6e8)]=_0x29c729,_0x32b493[_0x4874af(0x363)]['push'](_0x4874af(0x5f4)),this['updateStopChat'](_0x5e6047,_0x29c729),_0x5e6047[_0x4874af(0x3b0)]='',_0x5e6047[_0x4874af(0x4d2)]='',_0x5e6047[_0x4874af(0x848)]=[];}return this[_0x4874af(0x1cb)](_0x5e6047,_0x2dff11,_0x32b493,!0x0),null;}}if(_0x5e7e5d&&_0x2dff11['next_groupId']&&!_0x5e6047[_0x4874af(0x3b0)]){let _0xf70b3a=_0x5e6047[_0x4874af(0x78b)][_0x4874af(0x7ab)](_0x43515a=>_0x43515a['groupId']['toString']()===_0x2dff11['next_groupId']['toString']())['sort']((_0xdf5072,_0x30e080)=>_0xdf5072[_0x4874af(0x29c)]-_0x30e080[_0x4874af(0x29c)]);_0xf70b3a[_0x4874af(0x7d0)]>0x0&&(_0x204117=_0xf70b3a[0x0]);}if(!_0x204117){let _0x12d17b=_0x2dff11['groupId'],_0x28465b=_0x5e6047[_0x4874af(0x78b)]['filter'](_0x19a4ed=>_0x19a4ed[_0x4874af(0x1f0)]===_0x12d17b&&_0x19a4ed[_0x4874af(0x29c)]>_0x2dff11[_0x4874af(0x29c)])['sort']((_0x26268c,_0x8f4a3a)=>_0x26268c[_0x4874af(0x29c)]-_0x8f4a3a['order']);_0x28465b[_0x4874af(0x7d0)]>0x0&&(_0x204117=_0x28465b[0x0]);}if(!_0x204117)return _0x5e6047[_0x4874af(0x3d8)]=_0x4874af(0x434),null;_0x5e6047['chatLog']['realVariables']=_0x459516;let _0x210875=JSON[_0x4874af(0x47e)](JSON['stringify'](_0x204117));return this[_0x4874af(0x1e1)](_0x210875,_0x5e6047['chatLog'][_0x4874af(0x3cd)]),_0x5e6047[_0x4874af(0x4a2)]['lastBlockId']=_0x210875['_id'],_0x5e6047[_0x4874af(0x4a2)]['lastCondition']=!0x0,_0x210875;}['replaceVariables'](_0x3e33b3,_0x2e3de8){const _0x1d5f6e=a0_0x389422;return _0x3e33b3[_0x1d5f6e(0x793)](/\{\{([^}]+)\}\}/g,(_0x2f507a,_0x4b0a26)=>_0x2e3de8[_0x4b0a26]||'');}['replaceVariablesInObject'](_0x2c196c,_0x42e34c){const _0x48a827=a0_0x389422;for(let _0xaac788 in _0x2c196c)typeof _0x2c196c[_0xaac788]==_0x48a827(0x709)?_0x2c196c[_0xaac788]=this[_0x48a827(0x19d)](_0x2c196c[_0xaac788],_0x42e34c):typeof _0x2c196c[_0xaac788]==_0x48a827(0x26d)&&this[_0x48a827(0x1e1)](_0x2c196c[_0xaac788],_0x42e34c);}async[a0_0x389422(0x212)](_0x2651c1,_0x463b09){const _0x2c31c9=a0_0x389422;let _0x464805=_0x463b09['_id'];if(_0x2651c1[_0x2c31c9(0x4a2)]&&_0x2651c1[_0x2c31c9(0x4a2)]['blockLogs']){let _0x902065=_0x2651c1[_0x2c31c9(0x4a2)][_0x2c31c9(0x20a)][_0x2c31c9(0x7ab)](_0x34fb8a=>String(_0x34fb8a[_0x2c31c9(0x2e2)])===String(_0x464805))[_0x2c31c9(0x5d5)]();if(_0x902065&&_0x902065[_0x2c31c9(0x5b6)]&&_0x463b09[_0x2c31c9(0x413)])return _0x2651c1['status']=_0x2c31c9(0x434),await this[_0x2c31c9(0x6f5)](_0x2651c1),null;}if(_0x463b09[_0x2c31c9(0x3e0)]===_0x2c31c9(0x2e6)&&_0x463b09[_0x2c31c9(0x2e6)][_0x2c31c9(0x4d1)]===_0x2c31c9(0x49f)&&_0x2651c1['waitingMenu_id'])return _0x2651c1[_0x2c31c9(0x4a2)][_0x2c31c9(0x6b9)]=_0x464805,await this[_0x2c31c9(0x6f5)](_0x2651c1),null;let _0x23919b=await this['NextBlock'](_0x2651c1);if(_0x2651c1[_0x2c31c9(0x4a2)]&&_0x2651c1[_0x2c31c9(0x4a2)][_0x2c31c9(0x20a)]){let _0x1219c3=_0x2651c1['chatLog'][_0x2c31c9(0x20a)][_0x2c31c9(0x7ab)](_0x5d7ef0=>String(_0x5d7ef0[_0x2c31c9(0x2e2)])===String(_0x464805))['length'];if(_0x463b09[_0x2c31c9(0x486)]!==void 0x0&&_0x1219c3>=_0x463b09[_0x2c31c9(0x486)]){let _0x56e56d=Date[_0x2c31c9(0x755)](),_0x1b199e=_0x463b09[_0x2c31c9(0x20d)]??0xa;isNaN(_0x1b199e)&&(_0x1b199e=0xa);let _0x45fec5=_0x56e56d+_0x1b199e*0x3c*0x3e8,_0x422e00={'newStoppedUntil':_0x45fec5};return this['updateStopChat'](_0x2651c1,_0x45fec5),this['updateConversation'](_0x2651c1,_0x463b09,_0x422e00,!0x0),null;}}_0x23919b&&_0x23919b[_0x2c31c9(0x3e0)]!==_0x2c31c9(0x4e3)&&await this[_0x2c31c9(0x857)](_0x2651c1,_0x23919b),_0x23919b||await this['saveConversationToDatabase'](_0x2651c1),_0x23919b&&_0x23919b[_0x2c31c9(0x3e0)]===_0x2c31c9(0x4e3)&&(_0x2651c1[_0x2c31c9(0x4a2)][_0x2c31c9(0x6b9)]=_0x464805,await this[_0x2c31c9(0x6f5)](_0x2651c1));}async[a0_0x389422(0x857)](_0x1f65a8,_0x3eee3b){const _0x5917c0=a0_0x389422;try{let _0xf5f951=_0x3eee3b[_0x5917c0(0x3e0)];this[_0x5917c0(0x6d9)][_0x5917c0(0x2b6)](this['instanceName']+'\x20('+this[_0x5917c0(0x248)][_0x5917c0(0x658)]+_0x5917c0(0x3e2)+_0xf5f951);let _0x2e26f7={'uazapi':()=>this[_0x5917c0(0x7da)](_0x1f65a8,_0x3eee3b),'save':()=>this[_0x5917c0(0x69b)](_0x1f65a8,_0x3eee3b),'stop':()=>this[_0x5917c0(0x6a6)](_0x1f65a8,_0x3eee3b),'condition':()=>this[_0x5917c0(0x5e0)](_0x1f65a8,_0x3eee3b),'varedit':()=>this[_0x5917c0(0x289)](_0x1f65a8,_0x3eee3b),'apirequest':()=>this[_0x5917c0(0x750)](_0x1f65a8,_0x3eee3b),'goToFlow':()=>this[_0x5917c0(0x8ca)](_0x1f65a8,_0x3eee3b),'scheduleFlow':()=>this[_0x5917c0(0x8ee)](_0x1f65a8,_0x3eee3b),'awaitSeconds':()=>this[_0x5917c0(0x7e0)](_0x1f65a8,_0x3eee3b),'clearVariables':()=>this['processclearVariables'](_0x1f65a8,_0x3eee3b)}[_0xf5f951];_0x2e26f7&&await _0x2e26f7();}catch(_0x50c86c){this[_0x5917c0(0x6d9)]['error'](this[_0x5917c0(0x33a)]+'\x20('+this[_0x5917c0(0x248)]['wuid']+_0x5917c0(0x48a)+(_0x50c86c instanceof Error?_0x50c86c['message']:JSON[_0x5917c0(0x2d0)](_0x50c86c,null,0x2)));}}async[a0_0x389422(0x7e0)](_0xf05a8d,_0x38cb91){const _0x477589=a0_0x389422;if(this[_0x477589(0x6d9)][_0x477589(0x2b6)](this['instanceName']+'\x20('+this[_0x477589(0x248)]['wuid']+_0x477589(0x626)),!_0xf05a8d||!_0x38cb91)return this[_0x477589(0x6d9)]['error'](this[_0x477589(0x33a)]+'\x20('+this[_0x477589(0x248)]['wuid']+_0x477589(0x6ba)),null;let _0x3b4fc3=+_0x38cb91['awaitSeconds'];isNaN(_0x3b4fc3)&&(_0x3b4fc3=0x0),_0x3b4fc3=Math[_0x477589(0x84c)](_0x3b4fc3,0x3c),await(0x0,w[_0x477589(0x3dc)])(_0x3b4fc3*0x3e8);let _0x2a806d={'moreLogs':[_0x477589(0x4f5)+_0x3b4fc3+_0x477589(0x4ec)]};return await this[_0x477589(0x1cb)](_0xf05a8d,_0x38cb91,_0x2a806d),_0x3b4fc3;}async[a0_0x389422(0x834)](_0x2487b6,_0x27cdc0){const _0x2628b9=a0_0x389422;if(this['logger'][_0x2628b9(0x2b6)](this[_0x2628b9(0x33a)]+'\x20('+this['instance']['wuid']+_0x2628b9(0x4b3)),!_0x2487b6||!_0x27cdc0)return this[_0x2628b9(0x6d9)][_0x2628b9(0x5b6)](this[_0x2628b9(0x33a)]+'\x20('+this['instance'][_0x2628b9(0x658)]+_0x2628b9(0x6ba)),null;let _0x302e59=[];if(_0x27cdc0[_0x2628b9(0x653)][_0x2628b9(0x29d)]()===_0x2628b9(0x44d)){let _0x1f9d6f=[_0x2628b9(0x7ec),_0x2628b9(0x7a0),_0x2628b9(0x8c2),_0x2628b9(0x7c6),_0x2628b9(0x31f),'_id',_0x2628b9(0x56c)];_0x302e59=Object[_0x2628b9(0x8b0)](_0x2487b6[_0x2628b9(0x4a2)]['realVariables'])[_0x2628b9(0x7ab)](_0x74a982=>_0x74a982[_0x2628b9(0x759)]('_')&&!_0x1f9d6f[_0x2628b9(0x908)](_0x74a982));}else _0x302e59=_0x27cdc0[_0x2628b9(0x653)][_0x2628b9(0x1eb)]('|')['map'](_0x443752=>(_0x443752=_0x443752['replace'](/[{}]/g,'')['trim'](),_0x443752[_0x2628b9(0x759)]('_')?_0x443752:'_'+_0x443752));let _0x1987e0=[];_0x302e59[_0x2628b9(0x785)](_0xa3d16a=>{const _0x15541b=_0x2628b9;_0xa3d16a in _0x2487b6['chatLog'][_0x15541b(0x3cd)]&&(delete _0x2487b6['chatLog'][_0x15541b(0x3cd)][_0xa3d16a],_0x1987e0[_0x15541b(0x3ae)](_0xa3d16a));}),_0x1987e0['length']>0x0?this[_0x2628b9(0x6d9)]['verbose'](this['instanceName']+'\x20('+this[_0x2628b9(0x248)][_0x2628b9(0x658)]+_0x2628b9(0x304)+_0x1987e0[_0x2628b9(0x5ee)](',\x20')):this['logger'][_0x2628b9(0x2b6)](this[_0x2628b9(0x33a)]+'\x20('+this['instance'][_0x2628b9(0x658)]+_0x2628b9(0x6df));let _0x208f6f={'moreLogs':[_0x2628b9(0x57a)+_0x1987e0[_0x2628b9(0x5ee)](',\x20')]};return await this[_0x2628b9(0x1cb)](_0x2487b6,_0x27cdc0,_0x208f6f),null;}async[a0_0x389422(0x8ee)](_0x1dc34e,_0x2c39ff){const _0x393161=a0_0x389422;if(this[_0x393161(0x6d9)][_0x393161(0x2b6)](this['instanceName']+'\x20('+this[_0x393161(0x248)][_0x393161(0x658)]+_0x393161(0x3af)),!_0x1dc34e||!_0x2c39ff)return this[_0x393161(0x6d9)][_0x393161(0x5b6)](this[_0x393161(0x33a)]+'\x20('+this[_0x393161(0x248)]['wuid']+_0x393161(0x6ba)),null;let _0x4f3784=_0x1dc34e[_0x393161(0x897)];_0x2c39ff[_0x393161(0x3cb)]['remoteJid']&&_0x2c39ff[_0x393161(0x3cb)][_0x393161(0x897)][_0x393161(0x29d)]()!==''&&(_0x4f3784=_0x2c39ff[_0x393161(0x2e6)][_0x393161(0x897)][_0x393161(0x29d)]());let _0x45244b=_0x2c39ff[_0x393161(0x3cb)][_0x393161(0x4a8)]*0xea60,_0x47998c=Date[_0x393161(0x755)]()+_0x45244b,_0x223951={'status':_0x393161(0x7af),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x1dc34e[_0x393161(0x467)],'remoteJids':[_0x4f3784],'when':_0x47998c,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x393161(0x8b8),'flowName':_0x2c39ff['scheduleFlow'][_0x393161(0x464)]};this[_0x393161(0x5cb)](_0x223951);let _0x3e4bee=await this[_0x393161(0x4d3)](_0x1dc34e);_0x3e4bee&&await this[_0x393161(0x857)](_0x1dc34e,_0x3e4bee);}async[a0_0x389422(0x8ca)](_0x217d80,_0x2b87ae){const _0x269d98=a0_0x389422;if(this[_0x269d98(0x6d9)][_0x269d98(0x2b6)](this[_0x269d98(0x33a)]+'\x20('+this[_0x269d98(0x248)][_0x269d98(0x658)]+_0x269d98(0x2b3)),!_0x217d80||!_0x2b87ae)return this[_0x269d98(0x6d9)][_0x269d98(0x5b6)](this['instanceName']+'\x20('+this[_0x269d98(0x248)][_0x269d98(0x658)]+_0x269d98(0x6ba)),null;await this[_0x269d98(0x1cb)](_0x217d80,_0x2b87ae,{},!0x0,!0x0);let _0x21c1cb=_0x2b87ae[_0x269d98(0x614)];_0x217d80=await this['createConversationforgoToFlow'](_0x21c1cb,_0x217d80[_0x269d98(0x897)],_0x217d80[_0x269d98(0x4a2)]['realVariables']);let _0x3dfc60=await this[_0x269d98(0x4d3)](_0x217d80);_0x3dfc60&&await this[_0x269d98(0x857)](_0x217d80,_0x3dfc60);}async[a0_0x389422(0x716)](_0x3d2fb5,_0x2f874f,_0x1be966){const _0x1b5bef=a0_0x389422;this[_0x1b5bef(0x6d9)][_0x1b5bef(0x2b6)](this[_0x1b5bef(0x33a)]+'\x20('+this[_0x1b5bef(0x248)]['wuid']+_0x1b5bef(0x8f8));try{let _0x33b8f8=this[_0x1b5bef(0x346)][_0x1b5bef(0x315)][_0x1b5bef(0x428)](_0x4b3ffc=>_0x4b3ffc[_0x1b5bef(0x53f)]===_0x3d2fb5);_0x33b8f8||this[_0x1b5bef(0x6d9)]['error'](this[_0x1b5bef(0x33a)]+'\x20('+this[_0x1b5bef(0x248)][_0x1b5bef(0x658)]+'):\x20Flow\x20\x27'+_0x3d2fb5+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x4ec7b7=await this['repository'][_0x1b5bef(0x8b8)][_0x1b5bef(0x892)]({'where':{'_id':_0x33b8f8[_0x1b5bef(0x53f)]}});if(!_0x4ec7b7||!_0x4ec7b7[_0x1b5bef(0x7ee)]?.[_0x1b5bef(0x908)](this[_0x1b5bef(0x248)][_0x1b5bef(0x658)]))throw this[_0x1b5bef(0x6d9)][_0x1b5bef(0x5b6)](this['instanceName']+'\x20('+this[_0x1b5bef(0x248)][_0x1b5bef(0x658)]+_0x1b5bef(0x694)+_0x3d2fb5+_0x1b5bef(0x88b)),new m(_0x1b5bef(0x58e)+_0x3d2fb5+_0x1b5bef(0x88b));let _0x36b62e=require(_0x1b5bef(0x8ac))[_0x1b5bef(0x2bc)],_0x854396=Date[_0x1b5bef(0x755)](),_0x57408b=_0x1b5bef(0x564),_0x24cfd0={},_0x5da4d0={},_0x4edb50=this['AutomateSystem'][_0x1b5bef(0x315)][_0x1b5bef(0x428)](_0x2eb845=>_0x2eb845[_0x1b5bef(0x53f)]===_0x4ec7b7[_0x1b5bef(0x53f)]?.[_0x1b5bef(0x46e)]()),_0x5a4dc3=_0x4edb50?.[_0x1b5bef(0x896)]??_0x4ec7b7[_0x1b5bef(0x896)]??0x0,_0x5e90f8=_0x4edb50?.['readMessages']??_0x4ec7b7[_0x1b5bef(0x65a)]??!0x1,_0xb09fc={'flowId':_0x33b8f8['_id'],'readMessages':_0x33b8f8[_0x1b5bef(0x65a)],..._0x4ec7b7,'chatLog':null},_0x2a48f8={'lastReceivedMessage':_0x24cfd0,'lastSendMessage':_0x5da4d0,'lastBlockId':_0x57408b,'lastCondition':!0x0,'realVariables':_0x1be966};_0xb09fc[_0x1b5bef(0x4a2)]=_0x2a48f8,_0xb09fc[_0x1b5bef(0x4a2)]['realVariables']={..._0x1be966},delete _0xb09fc['_id'],_0xb09fc[_0x1b5bef(0x53f)]=new _0x36b62e(),_0xb09fc[_0x1b5bef(0x219)]=_0x854396,_0xb09fc[_0x1b5bef(0x3d8)]=_0x1b5bef(0x214),_0xb09fc[_0x1b5bef(0x897)]=_0x2f874f,_0xb09fc[_0x1b5bef(0x896)]=_0x5a4dc3,_0xb09fc[_0x1b5bef(0x65a)]=_0x5e90f8;let _0x513a63=await this['repository'][_0x1b5bef(0x7e4)]['updateOne'](_0xb09fc['_id'],_0xb09fc,this['instance'][_0x1b5bef(0x658)]);return this['logger'][_0x1b5bef(0x2b6)](this[_0x1b5bef(0x33a)]+'\x20('+this[_0x1b5bef(0x248)][_0x1b5bef(0x658)]+_0x1b5bef(0x23f)),_0x513a63?_0xb09fc:null;}catch(_0x276881){let _0x14336d=_0x1b5bef(0x773),_0x2275f0=_0x276881 instanceof Error?_0x276881['message']:typeof _0x276881==_0x1b5bef(0x26d)?JSON['stringify'](_0x276881):_0x276881,_0xd700c9=_0x14336d+':\x20'+_0x2275f0;throw this[_0x1b5bef(0x6d9)][_0x1b5bef(0x5b6)](this['instanceName']+'\x20('+this[_0x1b5bef(0x248)][_0x1b5bef(0x658)]+_0x1b5bef(0x375)+_0xd700c9),new m(_0xd700c9);}}async[a0_0x389422(0x750)](_0x5e5b15,_0x300629){const _0x31d010=a0_0x389422;let _0xc8a756,_0xf0bcb6;try{let _0x3c7733=_0x300629[_0x31d010(0x42e)];if(!_0x3c7733||!_0x3c7733[_0x31d010(0x55a)]||!_0x3c7733[_0x31d010(0x516)])throw new Error(_0x31d010(0x815));let _0x43ac65;([_0x31d010(0x6e0),'https://api.openai.com/v1/images/generations',_0x31d010(0x435)]['some'](_0x955a8d=>_0x3c7733[_0x31d010(0x55a)][_0x31d010(0x908)](_0x955a8d))||_0x3c7733[_0x31d010(0x673)])&&(_0x43ac65='arraybuffer');let _0x111e59='\u205f',_0x5ae562;try{_0x5ae562=JSON[_0x31d010(0x47e)](_0x3c7733['bodyString'][_0x31d010(0x793)](new RegExp(_0x111e59,'g'),''));}catch(_0x2c3bc7){throw _0x2c3bc7;}let _0x1ef49f={'method':_0x3c7733[_0x31d010(0x516)],'url':_0x3c7733[_0x31d010(0x55a)],'headers':_0x3c7733[_0x31d010(0x376)]||{},..._0x3c7733[_0x31d010(0x516)][_0x31d010(0x1f7)]()!==_0x31d010(0x734)&&_0x3c7733[_0x31d010(0x250)]?{'data':JSON[_0x31d010(0x47e)](_0x3c7733[_0x31d010(0x250)]['replace'](new RegExp(_0x111e59,'g'),''))}:{},..._0x43ac65&&{'responseType':_0x43ac65}},_0x37911c=await(0x0,Q['default'])(_0x1ef49f),_0x3d07a4=_0x37911c['headers'][_0x31d010(0x1a8)];if(_0x3d07a4&&_0x3d07a4['includes']('application/json')||typeof _0x37911c[_0x31d010(0x863)]==_0x31d010(0x709)){if(typeof _0x37911c[_0x31d010(0x863)]==_0x31d010(0x709)){let _0xb58622=_0x37911c['data']['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0xc8a756=JSON[_0x31d010(0x47e)](_0xb58622);}catch(_0x3cb692){this[_0x31d010(0x6d9)][_0x31d010(0x5b6)](_0x31d010(0x667)+_0x3cb692[_0x31d010(0x582)]),_0xc8a756={'_apiResponse':_0x37911c[_0x31d010(0x863)]};}}else _0xc8a756=_0x37911c[_0x31d010(0x863)];let _0x52e59f=_0x5e5b15[_0x31d010(0x4a2)][_0x31d010(0x3cd)],_0x345245=this['flattenObject'](_0xc8a756);return Object[_0x31d010(0x8d9)](_0x52e59f,_0x345245),_0x5e5b15[_0x31d010(0x4a2)][_0x31d010(0x3cd)]=_0x52e59f,_0xf0bcb6={'error':!0x1,'apiResponse':_0xc8a756},this[_0x31d010(0x1cb)](_0x5e5b15,_0x300629,_0xf0bcb6),_0xc8a756;}if(_0x3d07a4&&(_0x3d07a4[_0x31d010(0x908)](_0x31d010(0x6e9))||_0x3d07a4[_0x31d010(0x908)]('image')||_0x3d07a4[_0x31d010(0x908)](_0x31d010(0x4ef))||_0x3d07a4[_0x31d010(0x908)](_0x31d010(0x8fe)))){this[_0x31d010(0x6d9)][_0x31d010(0x2b6)](this[_0x31d010(0x33a)]+'\x20('+this[_0x31d010(0x248)]['wuid']+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x3d07a4);let _0xc26b2e=(0x0,Y['v4'])(),_0x19d37a='',_0x16905a={'image/jpeg':'.jpg','image/png':_0x31d010(0x63a),'image/gif':_0x31d010(0x747),'image/webp':_0x31d010(0x3bb),'image/svg+xml':_0x31d010(0x202),'audio/mpeg':'.mp3','audio/ogg':_0x31d010(0x39b),'audio/wav':_0x31d010(0x208),'video/mp4':_0x31d010(0x52b),'video/webm':_0x31d010(0x349),'video/ogg':_0x31d010(0x58a),'text/plain':_0x31d010(0x5ae),'application/pdf':_0x31d010(0x2fa),'application/msword':_0x31d010(0x3fb),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x31d010(0x81c),'application/vnd.ms-excel':_0x31d010(0x78e),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x31d010(0x2b0),'application/vnd.ms-powerpoint':_0x31d010(0x67c),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x31d010(0x87b)};_0x16905a[_0x3d07a4]?(_0x19d37a=_0x16905a[_0x3d07a4],this[_0x31d010(0x6d9)][_0x31d010(0x2b6)](this[_0x31d010(0x33a)]+'\x20('+this['instance'][_0x31d010(0x658)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x19d37a)):(_0x19d37a='.error',this[_0x31d010(0x6d9)]['verbose'](this[_0x31d010(0x33a)]+'\x20('+this['instance']['wuid']+_0x31d010(0x272)+_0x19d37a)),_0xc26b2e+=_0x19d37a,this[_0x31d010(0x6d9)]['verbose'](this['instanceName']+'\x20('+this[_0x31d010(0x248)]['wuid']+_0x31d010(0x8a7)+_0xc26b2e);let _0x2649af=this[_0x31d010(0x33c)]['get']('SERVER')[_0x31d010(0x51a)];if(!_0x2649af){let _0x47f283=this[_0x31d010(0x33c)][_0x31d010(0x3a9)]('SSL_CONF');_0x2649af=_0x31d010(0x2cd)+(_0x47f283&&_0x47f283[_0x31d010(0x1db)][_0x31d010(0x1eb)]('/')[0x4]);}let _0x46f14a=Buffer[_0x31d010(0x46a)](_0x37911c['data']);await this[_0x31d010(0x71a)](_0x46f14a,_0xc26b2e);let _0x120230=_0x31d010(0x1bd)+_0xc26b2e;_0x120230=''+_0x2649af+_0x120230,_0xc8a756={'fileUrl':_0x120230},_0x5e5b15[_0x31d010(0x4a2)][_0x31d010(0x3cd)][_0x31d010(0x4c4)]=_0x120230;let _0x24d2ea=_0x5e5b15[_0x31d010(0x4a2)][_0x31d010(0x3cd)],_0x1cbb47=this[_0x31d010(0x50c)](_0xc8a756);return Object[_0x31d010(0x8d9)](_0x24d2ea,_0x1cbb47),_0x5e5b15[_0x31d010(0x4a2)][_0x31d010(0x3cd)]=_0x24d2ea,_0xf0bcb6={'error':!0x1,'apiResponse':{'fileUrl':_0x120230}},this[_0x31d010(0x1cb)](_0x5e5b15,_0x300629,_0xf0bcb6),_0xc8a756;}}catch(_0x2712fc){this[_0x31d010(0x6d9)]['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0x2712fc[_0x31d010(0x582)]),_0x2712fc[_0x31d010(0x786)]&&(_0xc8a756=_0x2712fc['response'][_0x31d010(0x863)]);let _0x31b07b=_0x5e5b15[_0x31d010(0x4a2)]['realVariables'],_0x4fb225=this[_0x31d010(0x50c)](_0xc8a756);return Object[_0x31d010(0x8d9)](_0x31b07b,_0x4fb225),_0x5e5b15[_0x31d010(0x4a2)]['realVariables']=_0x31b07b,_0xf0bcb6={'error':!0x0,'errorLog':_0x2712fc[_0x31d010(0x46e)](),'apiResponse':_0xc8a756},this[_0x31d010(0x1cb)](_0x5e5b15,_0x300629,_0xf0bcb6),{'success':!0x1};}}['applyvaredit'](_0x48ee65,_0xff05a){const _0x3fec6e=a0_0x389422;let _0x10f515=_0x5dda44=>{const _0x5d25da=a0_0x3fdd;let _0x44c4ed=_0x5dda44[_0x5d25da(0x793)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x130151=parseFloat(_0x44c4ed);return isNaN(_0x130151)?null:_0x130151;},_0x119491=_0xff05a[_0x3fec6e(0x599)],_0x416a7e=_0xff05a['secondValue'];typeof _0x119491=='string'&&(_0x119491=this[_0x3fec6e(0x19d)](_0x119491,_0x48ee65[_0x3fec6e(0x4a2)][_0x3fec6e(0x3cd)])??''),typeof _0x416a7e==_0x3fec6e(0x709)&&(_0x416a7e=this[_0x3fec6e(0x19d)](_0x416a7e,_0x48ee65[_0x3fec6e(0x4a2)][_0x3fec6e(0x3cd)])??'');let _0x36059a=null;if(!_0xff05a['editOperator'])return null;switch(this[_0x3fec6e(0x6d9)][_0x3fec6e(0x2b6)](this[_0x3fec6e(0x33a)]+'\x20('+this[_0x3fec6e(0x248)][_0x3fec6e(0x658)]+_0x3fec6e(0x191)+_0x119491),this[_0x3fec6e(0x6d9)][_0x3fec6e(0x2b6)](this[_0x3fec6e(0x33a)]+'\x20('+this[_0x3fec6e(0x248)]['wuid']+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x416a7e),_0xff05a['editOperator']){case'+':case'-':case'*':case'/':let _0x37954e=_0x10f515(_0x119491||'0'),_0x2e67d8=_0x10f515(_0x416a7e||'0');if(_0x37954e===null)return null;switch(_0xff05a[_0x3fec6e(0x76c)]){case'+':_0x36059a=_0x37954e+(_0x2e67d8??0x0);break;case'-':_0x36059a=_0x37954e-(_0x2e67d8??0x0);break;case'*':_0x36059a=_0x37954e*(_0x2e67d8??0x1);break;case'/':_0x2e67d8!==0x0&&(_0x36059a=_0x37954e/(_0x2e67d8??0x1));break;}break;case _0x3fec6e(0x269):case _0x3fec6e(0x82f):let _0x3e7b08=_0x416a7e,_0x444aac=_0xff05a[_0x3fec6e(0x60b)];if(typeof _0x444aac=='string'&&(_0x444aac=this[_0x3fec6e(0x19d)](_0x444aac,_0x48ee65['chatLog'][_0x3fec6e(0x3cd)])??''),_0x3e7b08&&_0x444aac!==void 0x0){let _0x2e9d4f=_0xff05a[_0x3fec6e(0x76c)]==='findAndReplace'?new RegExp(_0x3e7b08['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x3fec6e(0x47b)),'g'):new RegExp(_0x3e7b08,'g');_0x36059a=_0x119491[_0x3fec6e(0x793)](_0x2e9d4f,_0x444aac);}else console[_0x3fec6e(0x74f)](_0x3fec6e(0x68c));break;case _0x3fec6e(0x504):_0x36059a=_0x416a7e;break;case _0x3fec6e(0x293):let _0x283ab8=_0x119491[_0x3fec6e(0x6c1)](new RegExp(_0x416a7e||''));_0x36059a=_0x283ab8?_0x283ab8[0x0]:'';break;case _0x3fec6e(0x3d7):_0x36059a=_0x119491['slice'](0x0,parseInt(_0x416a7e||'0'));break;case _0x3fec6e(0x58f):let _0x212e13=parseInt(_0x416a7e||'0');_0x36059a=_0x119491[_0x3fec6e(0x55f)](_0x119491['length']-_0x212e13);break;case _0x3fec6e(0x3f2):let _0x3c36c5=_0x10f515(_0x119491),_0x59769f=parseInt(_0x416a7e||'0');_0x59769f=Math[_0x3fec6e(0x662)](_0x59769f),_0x3c36c5!==null?_0x36059a=_0x3c36c5[_0x3fec6e(0x229)]('pt-BR',{'minimumFractionDigits':_0x59769f,'maximumFractionDigits':_0x59769f}):(console['warn'](_0x3fec6e(0x348)+_0x119491),_0x36059a=null);break;case _0x3fec6e(0x4c7):let _0x5db72a=_0x10f515(_0x119491);_0x5db72a!==null?_0x36059a=_0x5db72a[_0x3fec6e(0x229)]('pt-BR',{'style':_0x3fec6e(0x6ef),'currency':_0x3fec6e(0x5dc)}):(console['warn'](_0x3fec6e(0x67e)+_0x119491),_0x36059a=null);break;case _0x3fec6e(0x784):_0x36059a=_0x119491[_0x3fec6e(0x1f7)]();break;case'lowerCase':_0x36059a=_0x119491[_0x3fec6e(0x7b1)]();break;case _0x3fec6e(0x90b):_0x36059a=_0x119491[_0x3fec6e(0x1eb)]('\x20')['map'](_0x5ba32c=>_0x5ba32c[_0x3fec6e(0x39d)](0x0)['toUpperCase']()+_0x5ba32c[_0x3fec6e(0x55f)](0x1)[_0x3fec6e(0x7b1)]())[_0x3fec6e(0x5ee)]('\x20');break;case _0x3fec6e(0x570):_0x36059a=JSON[_0x3fec6e(0x2d0)](_0x119491);break;case'trimmed':_0x36059a=_0x119491[_0x3fec6e(0x29d)]();break;default:_0x36059a=_0x119491;}return _0x36059a!==null?_0x36059a['toString']():null;}async['processvaredits'](_0x432722,_0x4b6df9){const _0x77d66=a0_0x389422;try{let _0x490eab=_0x432722[_0x77d66(0x260)]?.[_0x77d66(0x7ab)](_0x29dca3=>_0x29dca3[_0x77d66(0x2e2)]===_0x4b6df9[_0x77d66(0x53f)]?.['toString']())||[],_0x37f3b0=_0x4b6df9['saveVariable'],_0x43cdf3=null,_0xef0699=[],_0x109594=_0x432722[_0x77d66(0x4a2)][_0x77d66(0x3cd)][_0x37f3b0];_0xef0699['push'](_0x77d66(0x497)+_0x109594+'\x22');for(let _0xd9ec6f of _0x490eab){_0xd9ec6f['firstValue']=_0x109594,_0x43cdf3=_0xd9ec6f[_0x77d66(0x599)];let _0x235ba7;try{_0x235ba7=this[_0x77d66(0x842)](_0x432722,_0xd9ec6f);}catch(_0x451d71){this['logger'][_0x77d66(0x5b6)](_0x77d66(0x859)+_0x451d71[_0x77d66(0x582)]);continue;}if(_0x235ba7!==null){let _0x319ca5=_0x77d66(0x5bc)+_0xd9ec6f[_0x77d66(0x76c)]+'\x22',_0x3c7066=['toBRL',_0x77d66(0x784),'lowerCase',_0x77d66(0x90b),_0x77d66(0x417)];_0xd9ec6f[_0x77d66(0x76c)]===_0x77d66(0x269)||_0xd9ec6f[_0x77d66(0x76c)]===_0x77d66(0x82f)?_0x319ca5+=_0x77d66(0x459)+_0xd9ec6f['secondValue']+_0x77d66(0x465)+_0xd9ec6f[_0x77d66(0x60b)]+'\x22':!_0x3c7066[_0x77d66(0x908)](_0xd9ec6f[_0x77d66(0x76c)])&&_0xd9ec6f[_0x77d66(0x68b)]!==null&&_0xd9ec6f['secondValue']!==void 0x0&&(_0x319ca5+=_0x77d66(0x300)+_0xd9ec6f[_0x77d66(0x68b)]+'\x22'),_0x319ca5+=_0x77d66(0x719)+_0x235ba7+'.',_0xef0699['push'](_0x319ca5);}_0x235ba7!==null&&(_0x109594=_0x235ba7);}if(_0x432722[_0x77d66(0x4a2)][_0x77d66(0x3cd)]&&_0x4b6df9[_0x77d66(0x36a)]){_0x432722[_0x77d66(0x4a2)][_0x77d66(0x3cd)][_0x4b6df9['saveVariable']]=_0x109594;let _0x3697c3={'variable':_0x4b6df9[_0x77d66(0x36a)],'oldValue':_0x43cdf3,'newValue':_0x109594,'moreLogs':_0xef0699};try{this[_0x77d66(0x1cb)](_0x432722,_0x4b6df9,_0x3697c3);}catch(_0x111e97){this[_0x77d66(0x6d9)][_0x77d66(0x5b6)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x111e97[_0x77d66(0x582)]);}}return _0x37f3b0;}catch(_0x58fd98){return this[_0x77d66(0x6d9)][_0x77d66(0x5b6)](_0x77d66(0x3c1)+_0x58fd98['message']),null;}}async[a0_0x389422(0x5e0)](_0x23bed9,_0x231ae4){const _0x1300f6=a0_0x389422;try{let _0x2defd7=[],_0x94673=_0x23bed9[_0x1300f6(0x6d7)][_0x1300f6(0x7ab)](_0x5bafd9=>_0x5bafd9[_0x1300f6(0x2e2)]===_0x231ae4[_0x1300f6(0x53f)][_0x1300f6(0x46e)]()),_0x4cef2f=null,_0x3ebfbc=!0x1;for(let _0x215a2d of _0x94673){let _0x5de4c9=this[_0x1300f6(0x847)](_0x23bed9,_0x215a2d);_0x2defd7[_0x1300f6(0x3ae)](_0x1300f6(0x83c)+_0x215a2d[_0x1300f6(0x599)]+_0x1300f6(0x226)+_0x215a2d[_0x1300f6(0x44e)]+_0x1300f6(0x8a9)+_0x215a2d[_0x1300f6(0x68b)]+_0x1300f6(0x51f)+_0x5de4c9),_0x4cef2f===null?_0x4cef2f=_0x5de4c9:_0x215a2d[_0x1300f6(0x1d7)]===_0x1300f6(0x2a2)?(_0x4cef2f=_0x4cef2f&&_0x5de4c9,_0x5de4c9||(_0x3ebfbc=!0x0)):_0x215a2d['OrAnd']==='or'&&(_0x3ebfbc||(_0x4cef2f=_0x4cef2f||_0x5de4c9));}_0x4cef2f===null&&(_0x4cef2f=!0x0);let _0x58e1b3={'moreLogs':_0x2defd7};_0x23bed9[_0x1300f6(0x4a2)]['lastCondition']=_0x4cef2f,await this[_0x1300f6(0x1cb)](_0x23bed9,_0x231ae4,_0x58e1b3);}catch(_0x35239b){this[_0x1300f6(0x6d9)][_0x1300f6(0x5b6)](this['instanceName']+'\x20('+this[_0x1300f6(0x248)][_0x1300f6(0x658)]+_0x1300f6(0x4cd)+(_0x35239b instanceof Error?_0x35239b[_0x1300f6(0x582)]:JSON[_0x1300f6(0x2d0)](_0x35239b,null,0x2)));}}[a0_0x389422(0x847)](_0x34e12b,_0x8ecc77){const _0x1360c7=a0_0x389422;let _0x3ec096=_0x8ecc77[_0x1360c7(0x599)],_0x4a868c=_0x8ecc77['secondValue'];typeof _0x3ec096==_0x1360c7(0x709)&&(_0x3ec096=this[_0x1360c7(0x19d)](_0x3ec096,_0x34e12b['chatLog']['realVariables'])??''),typeof _0x4a868c=='string'&&(_0x4a868c=this[_0x1360c7(0x19d)](_0x4a868c,_0x34e12b[_0x1360c7(0x4a2)][_0x1360c7(0x3cd)])??'');try{switch(_0x8ecc77[_0x1360c7(0x44e)]){case _0x1360c7(0x44b):return _0x3ec096===_0x4a868c;case _0x1360c7(0x444):return _0x3ec096!==_0x4a868c;case _0x1360c7(0x6e6):return this['contains'](_0x3ec096,_0x4a868c);case'notContains':return!this[_0x1360c7(0x6e6)](_0x3ec096,_0x4a868c);case _0x1360c7(0x4ca):return parseFloat(_0x3ec096)>parseFloat(_0x4a868c);case _0x1360c7(0x7f2):return parseFloat(_0x3ec096)<parseFloat(_0x4a868c);case _0x1360c7(0x286):return _0x3ec096!=='';case'empty':return _0x3ec096==='';case _0x1360c7(0x788):return new RegExp(_0x4a868c)[_0x1360c7(0x21c)](_0x3ec096);case'notMatchRegex':return!new RegExp(_0x4a868c)[_0x1360c7(0x21c)](_0x3ec096);default:return!0x1;}}catch(_0x1ee88e){return this[_0x1360c7(0x6d9)]['error'](_0x1360c7(0x4bb)+_0x1ee88e),!0x1;}}[a0_0x389422(0x6e6)](_0x32f446,_0x492d82){const _0x3165a4=a0_0x389422;if(_0x32f446===_0x492d82&&/^\d+$/['test'](_0x32f446))return!0x0;if(this[_0x3165a4(0x5d8)](_0x32f446)&&/^\d+$/['test'](_0x492d82)){let _0x12871b=_0x32f446[_0x3165a4(0x1eb)](',')['map'](_0x2783b9=>parseInt(_0x2783b9[_0x3165a4(0x29d)]())),_0x5c99bc=parseInt(_0x492d82);return _0x12871b[_0x3165a4(0x908)](_0x5c99bc);}return _0x32f446[_0x3165a4(0x908)](_0x492d82);}[a0_0x389422(0x5d8)](_0x2d4efd){const _0x2d44e3=a0_0x389422;return/^\d+(,\d+)*$/[_0x2d44e3(0x21c)](_0x2d4efd);}['processConditionsTest'](_0x334770){const _0x1338c9=a0_0x389422;let _0x2d3bcd=!0x0,_0x3cd8ec=null;for(let _0x153a1a of _0x334770){let _0x481838=this[_0x1338c9(0x55c)](_0x153a1a);if(_0x3cd8ec==='or'&&_0x481838){_0x2d3bcd=!0x0;break;}if(_0x3cd8ec===_0x1338c9(0x2a2)&&!_0x481838){_0x2d3bcd=!0x1;break;}_0x3cd8ec=_0x153a1a[_0x1338c9(0x1d7)];}return _0x2d3bcd;}[a0_0x389422(0x55c)](_0x5e0102){const _0x294507=a0_0x389422;let _0x1ccca1=_0x5e0102[_0x294507(0x599)],_0x5aeb1f=_0x5e0102[_0x294507(0x68b)];try{switch(_0x5e0102[_0x294507(0x44e)]){case _0x294507(0x44b):return String(_0x1ccca1)===String(_0x5aeb1f);case _0x294507(0x444):return String(_0x1ccca1)!==String(_0x5aeb1f);case _0x294507(0x6e6):return String(_0x1ccca1)['includes'](String(_0x5aeb1f));case _0x294507(0x73c):return!String(_0x1ccca1)['includes'](String(_0x5aeb1f));case _0x294507(0x4ca):return parseFloat(String(_0x1ccca1))>parseFloat(String(_0x5aeb1f));case _0x294507(0x7f2):return parseFloat(String(_0x1ccca1))<parseFloat(String(_0x5aeb1f));case _0x294507(0x286):return String(_0x1ccca1)!=='';case _0x294507(0x515):return String(_0x1ccca1)==='';case'matchRegex':return new RegExp(String(_0x5aeb1f))[_0x294507(0x21c)](String(_0x1ccca1));case _0x294507(0x905):return!new RegExp(String(_0x5aeb1f))[_0x294507(0x21c)](String(_0x1ccca1));default:return!0x1;}}catch(_0x276bb1){return this[_0x294507(0x6d9)][_0x294507(0x5b6)](_0x294507(0x4bb)+_0x276bb1),!0x1;}}async[a0_0x389422(0x69b)](_0x1ea56f,_0x27b002){const _0x2b8a22=a0_0x389422;if(this[_0x2b8a22(0x6d9)][_0x2b8a22(0x2b6)](this['instanceName']+'\x20('+this[_0x2b8a22(0x248)][_0x2b8a22(0x658)]+_0x2b8a22(0x418)),!_0x1ea56f||!_0x27b002)return this[_0x2b8a22(0x6d9)][_0x2b8a22(0x5b6)](this[_0x2b8a22(0x33a)]+'\x20('+this[_0x2b8a22(0x248)][_0x2b8a22(0x658)]+_0x2b8a22(0x6ba)),null;let _0x337cbb=_0x1ea56f['chatLog'][_0x2b8a22(0x3f1)][_0x2b8a22(0x71e)]['id'];this[_0x2b8a22(0x6d9)][_0x2b8a22(0x2b6)](this['instanceName']+'\x20('+this['instance'][_0x2b8a22(0x658)]+_0x2b8a22(0x637)+_0x337cbb);let _0xfd3b0a={'key':{'id':_0x337cbb}},_0x5908e0=_0x27b002[_0x2b8a22(0x36a)];_0x1ea56f[_0x2b8a22(0x4a2)]['realVariables']['_'+_0x5908e0+_0x2b8a22(0x4bc)]=null,_0x1ea56f[_0x2b8a22(0x4a2)][_0x2b8a22(0x3cd)]['_'+_0x5908e0+_0x2b8a22(0x295)]=null,_0x1ea56f[_0x2b8a22(0x4a2)]['realVariables']['_'+_0x5908e0+'.extension']=null,_0x1ea56f[_0x2b8a22(0x4a2)][_0x2b8a22(0x3cd)]['_'+_0x5908e0+_0x2b8a22(0x69e)]=_0x1ea56f['chatLog'][_0x2b8a22(0x3f1)][_0x2b8a22(0x3e0)];try{let _0x4d1563=await this['getBase64FromMediaMessage'](_0xfd3b0a);this['logger'][_0x2b8a22(0x2b6)](this[_0x2b8a22(0x33a)]+'\x20('+this[_0x2b8a22(0x248)][_0x2b8a22(0x658)]+_0x2b8a22(0x54b)),_0x1ea56f['chatLog'][_0x2b8a22(0x3cd)]['_'+_0x5908e0+_0x2b8a22(0x36d)]=_0x4d1563[_0x2b8a22(0x4c4)],_0x1ea56f[_0x2b8a22(0x4a2)][_0x2b8a22(0x3cd)]['_'+_0x5908e0+_0x2b8a22(0x295)]=_0x4d1563['mimetype'];let _0x3427f9=_0x4d1563[_0x2b8a22(0x382)][_0x2b8a22(0x6c1)](/\/(\w+)$/),_0x527d4c=_0x3427f9?_0x3427f9[0x1]:null;_0x1ea56f[_0x2b8a22(0x4a2)][_0x2b8a22(0x3cd)]['_'+_0x5908e0+_0x2b8a22(0x50e)]=_0x527d4c,this['logger'][_0x2b8a22(0x2b6)](this[_0x2b8a22(0x33a)]+'\x20('+this[_0x2b8a22(0x248)]['wuid']+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x5908e0+'\x27.');}catch(_0xe55f){this['logger'][_0x2b8a22(0x5b6)](this[_0x2b8a22(0x33a)]+'\x20('+this[_0x2b8a22(0x248)][_0x2b8a22(0x658)]+_0x2b8a22(0x5f3)+_0xe55f[_0x2b8a22(0x582)]);}let _0x4abd46=_0x1ea56f[_0x2b8a22(0x4a2)][_0x2b8a22(0x3f1)][_0x2b8a22(0x243)]||_0x1ea56f[_0x2b8a22(0x4a2)]['lastReceivedMessage'][_0x2b8a22(0x41e)]||_0x1ea56f['chatLog'][_0x2b8a22(0x3f1)][_0x2b8a22(0x83e)];try{_0x1ea56f[_0x2b8a22(0x4a2)][_0x2b8a22(0x3cd)]||(_0x1ea56f[_0x2b8a22(0x4a2)][_0x2b8a22(0x3cd)]={});let _0x96f9de=_0x1ea56f[_0x2b8a22(0x4a2)][_0x2b8a22(0x3cd)][_0x5908e0];_0x1ea56f[_0x2b8a22(0x4a2)]['realVariables'][_0x5908e0]=_0x4abd46;let _0x57b7af={'variable':_0x5908e0,'oldValue':_0x96f9de,'newValue':_0x4abd46};this[_0x2b8a22(0x1cb)](_0x1ea56f,_0x27b002,_0x57b7af),this[_0x2b8a22(0x6d9)][_0x2b8a22(0x2b6)](this[_0x2b8a22(0x33a)]+'\x20('+this[_0x2b8a22(0x248)][_0x2b8a22(0x658)]+_0x2b8a22(0x566));}catch(_0x15c50c){let _0x5b4fdd={'error':!0x0,'errorLog':_0x15c50c['toString']()};return this['updateConversation'](_0x1ea56f,_0x27b002,_0x5b4fdd),this['logger'][_0x2b8a22(0x5b6)](this[_0x2b8a22(0x33a)]+'\x20('+this[_0x2b8a22(0x248)][_0x2b8a22(0x658)]+_0x2b8a22(0x512)+(_0x15c50c instanceof Error?_0x15c50c[_0x2b8a22(0x582)]:JSON['stringify'](_0x15c50c,null,0x2))),null;}}async['stopConversation'](_0x10ff74,_0x2bf9e9){const _0x50cc54=a0_0x389422;if(this[_0x50cc54(0x6d9)][_0x50cc54(0x2b6)](this[_0x50cc54(0x33a)]+'\x20('+this[_0x50cc54(0x248)]['wuid']+_0x50cc54(0x6c0)),!_0x10ff74||!_0x2bf9e9)return this['logger'][_0x50cc54(0x5b6)](this[_0x50cc54(0x33a)]+'\x20('+this[_0x50cc54(0x248)]['wuid']+_0x50cc54(0x6ba)),null;let _0x57ee32=Date[_0x50cc54(0x755)](),_0x4c72ac=parseInt(_0x2bf9e9['stopMinutes'],0xa);if(isNaN(_0x4c72ac))return this[_0x50cc54(0x6d9)][_0x50cc54(0x5b6)](this[_0x50cc54(0x33a)]+'\x20('+this[_0x50cc54(0x248)][_0x50cc54(0x658)]+_0x50cc54(0x1c3)),null;let _0x48f565={'newStoppedUntil':_0x57ee32+_0x4c72ac*0x3c*0x3e8};return await this[_0x50cc54(0x1cb)](_0x10ff74,_0x2bf9e9,_0x48f565,!0x0),null;}async[a0_0x389422(0x7da)](_0x1325cc,_0x8bebda){const _0xa6f268=a0_0x389422;try{switch(_0x8bebda['uazapi'][_0xa6f268(0x4d1)]){case _0xa6f268(0x2bd):await this['uazapiSendText'](_0x1325cc,_0x8bebda);break;case _0xa6f268(0x48b):await this[_0xa6f268(0x7c8)](_0x1325cc,_0x8bebda);break;case _0xa6f268(0x79c):await this[_0xa6f268(0x472)](_0x1325cc,_0x8bebda);break;case _0xa6f268(0x431):await this['uazapiSendAudio'](_0x1325cc,_0x8bebda);break;case'sendContact':await this[_0xa6f268(0x43d)](_0x1325cc,_0x8bebda);break;case _0xa6f268(0x49f):await this[_0xa6f268(0x3f7)](_0x1325cc,_0x8bebda);break;case'sendMenu':await this[_0xa6f268(0x3f7)](_0x1325cc,_0x8bebda);break;case _0xa6f268(0x813):await this[_0xa6f268(0x6bf)](_0x1325cc,_0x8bebda);break;default:this[_0xa6f268(0x6d9)]['error'](this[_0xa6f268(0x33a)]+'\x20('+this[_0xa6f268(0x248)][_0xa6f268(0x658)]+_0xa6f268(0x891)+_0x8bebda[_0xa6f268(0x2e6)][_0xa6f268(0x4d1)]);}}catch(_0xa21ca5){this[_0xa6f268(0x6d9)][_0xa6f268(0x5b6)](this[_0xa6f268(0x33a)]+'\x20('+this[_0xa6f268(0x248)][_0xa6f268(0x658)]+_0xa6f268(0x603)+(_0xa21ca5 instanceof Error?_0xa21ca5[_0xa6f268(0x582)]:JSON[_0xa6f268(0x2d0)](_0xa21ca5,null,0x2)));}}async[a0_0x389422(0x1cb)](_0x211f6e,_0x2185bf,_0x5d5895,_0x514b5c=!0x1,_0x5afd88=!0x1){const _0x4407e4=a0_0x389422;_0x211f6e[_0x4407e4(0x4a2)]['blockLogs']||(_0x211f6e['chatLog'][_0x4407e4(0x20a)]=[]);let _0x36fa0e=(_0x211f6e[_0x4407e4(0x4a2)]['blockLogs']?.[_0x4407e4(0x7d0)]??0x0)+0x1,_0x4e7d88=_0x211f6e[_0x4407e4(0x4a2)]['blockLogs'][_0x4407e4(0x7ab)](_0x10fda5=>String(_0x10fda5['blockId'])===String(_0x2185bf[_0x4407e4(0x53f)]))[_0x4407e4(0x7d0)]+0x1,_0x2c74fc=_0x5d5895?.[_0x4407e4(0x1c0)]??Date[_0x4407e4(0x755)](),_0x5a6cf6=_0x5d5895?.['error']?_0x5d5895['errorLog']??_0x5d5895[_0x4407e4(0x5b6)]['toString']():void 0x0,_0x51d506={'onTime':_0x2c74fc,'blockId':_0x2185bf[_0x4407e4(0x53f)],'order':_0x36fa0e,'activatedCount':_0x4e7d88,'error':_0x5d5895?.[_0x4407e4(0x5b6)]??!0x1,'messageId':_0x5d5895?.[_0x4407e4(0x763)],'apiResponse':_0x5d5895?.[_0x4407e4(0x545)],'apiResponseString':_0x5d5895?.[_0x4407e4(0x545)]?JSON[_0x4407e4(0x2d0)](_0x5d5895?.['apiResponse']):void 0x0,'variable':_0x5d5895?.['variable'],'oldValue':_0x5d5895?.[_0x4407e4(0x299)],'newValue':_0x5d5895?.[_0x4407e4(0x352)],'newStoppedUntil':_0x5d5895?.['newStoppedUntil'],'moreLogs':_0x5d5895?.[_0x4407e4(0x363)],'errorLog':_0x5a6cf6};if(_0x5d5895[_0x4407e4(0x363)]&&_0x5d5895[_0x4407e4(0x363)][_0x4407e4(0x7d0)]>0x0){let _0x75bae0=_0x5d5895[_0x4407e4(0x363)][_0x4407e4(0x3ea)](_0x25ce37=>this['replaceVariablesLogs'](_0x25ce37,_0x211f6e[_0x4407e4(0x4a2)][_0x4407e4(0x3cd)]));_0x51d506['moreLogs']=_0x75bae0;}if(_0x211f6e['chatLog'][_0x4407e4(0x3cd)]||(_0x211f6e['chatLog']['realVariables']={}),_0x211f6e[_0x4407e4(0x4a2)][_0x4407e4(0x3cd)][_0x4407e4(0x89f)]=String(_0x4e7d88),_0x211f6e['chatLog']['realVariables'][_0x4407e4(0x8c2)]=String(_0x5d5895[_0x4407e4(0x5b6)]??!0x1),_0x211f6e['chatLog'][_0x4407e4(0x20a)][_0x4407e4(0x3ae)](_0x51d506),_0x211f6e[_0x4407e4(0x4a2)][_0x4407e4(0x3cd)][_0x4407e4(0x3db)]&&_0x211f6e['chatLog'][_0x4407e4(0x3cd)][_0x4407e4(0x3db)]!==_0x211f6e[_0x4407e4(0x897)]){let _0x127d8c=(await this[_0x4407e4(0x8d4)]({'numbers':[_0x211f6e[_0x4407e4(0x4a2)][_0x4407e4(0x3cd)][_0x4407e4(0x3db)]]}))[0x0][_0x4407e4(0x3aa)];_0x211f6e[_0x4407e4(0x4a2)][_0x4407e4(0x3cd)][_0x4407e4(0x3db)]=_0x127d8c,_0x211f6e['remoteJid']=_0x127d8c;try{let _0x5faddf={'_id':{'$ne':_0x211f6e[_0x4407e4(0x53f)]},'remoteJid':_0x127d8c,'status':_0x4407e4(0x214)},_0x1771b3={'status':_0x4407e4(0x434)};await this[_0x4407e4(0x828)][_0x4407e4(0x7e4)][_0x4407e4(0x456)](_0x5faddf,_0x1771b3,this[_0x4407e4(0x248)][_0x4407e4(0x658)]),this[_0x4407e4(0x6d9)][_0x4407e4(0x2b6)](this['instanceName']+'\x20('+this[_0x4407e4(0x248)][_0x4407e4(0x658)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x2eb6bd){this[_0x4407e4(0x6d9)][_0x4407e4(0x5b6)](this[_0x4407e4(0x33a)]+'\x20('+this[_0x4407e4(0x248)][_0x4407e4(0x658)]+_0x4407e4(0x19f)+_0x2eb6bd[_0x4407e4(0x582)]);}try{let _0x5494aa=_0x211f6e[_0x4407e4(0x4a2)][_0x4407e4(0x3cd)],_0x1bc24a=await this['getVariablesChat'](_0x127d8c),_0x25111a={..._0x5494aa,..._0x1bc24a,'_remoteJid':_0x127d8c};_0x211f6e['chatLog'][_0x4407e4(0x3cd)]=_0x25111a;}catch(_0x98ed9d){this[_0x4407e4(0x6d9)][_0x4407e4(0x5b6)](this[_0x4407e4(0x33a)]+'\x20('+this['instance'][_0x4407e4(0x658)]+_0x4407e4(0x34c)+_0x98ed9d['message']);}}_0x211f6e[_0x4407e4(0x4a2)][_0x4407e4(0x6b9)]=_0x2185bf[_0x4407e4(0x53f)][_0x4407e4(0x46e)](),_0x211f6e[_0x4407e4(0x4a2)]['lastSendMessage']&&(_0x211f6e['chatLog'][_0x4407e4(0x40c)]=_0x211f6e['chatLog']['lastSendMessage']),_0x211f6e['chatLog'][_0x4407e4(0x3f1)]&&(_0x211f6e[_0x4407e4(0x4a2)][_0x4407e4(0x3f1)]=_0x211f6e['chatLog'][_0x4407e4(0x3f1)]),_0x211f6e[_0x4407e4(0x4a2)][_0x4407e4(0x78f)]&&(_0x211f6e[_0x4407e4(0x4a2)][_0x4407e4(0x78f)]=_0x211f6e[_0x4407e4(0x4a2)][_0x4407e4(0x78f)]),_0x5afd88&&(_0x211f6e[_0x4407e4(0x3d8)]='closed'),_0x514b5c?this[_0x4407e4(0x6f5)](_0x211f6e):this[_0x4407e4(0x212)](_0x211f6e,_0x2185bf);}['replaceVariablesLogs'](_0x2775a4,_0x490f38){const _0x2884d1=a0_0x389422;return _0x2775a4[_0x2884d1(0x793)](/\{\{([^}]+)\}\}/g,(_0xf7eb1e,_0x41f318)=>_0x490f38[_0x41f318]?'{{'+_0x41f318+_0x2884d1(0x58d)+_0x490f38[_0x41f318]+'\x22':'{{'+_0x41f318+_0x2884d1(0x1e0));}async[a0_0x389422(0x6f5)](_0x1cfbc8){const _0x2ce176=a0_0x389422;try{let _0x57af7d=Object[_0x2ce176(0x730)](_0x1cfbc8[_0x2ce176(0x4a2)][_0x2ce176(0x3cd)])[_0x2ce176(0x3ea)](([_0x374dee,_0x5b74c0])=>({'name':_0x374dee,'value':_0x5b74c0})),_0x42a24c={'status':_0x1cfbc8['status'],'remoteJid':_0x1cfbc8[_0x2ce176(0x897)],'blocks':_0x1cfbc8[_0x2ce176(0x78b)],'waitingMenu_id':_0x1cfbc8[_0x2ce176(0x3b0)],'waitingMenu_text':_0x1cfbc8['waitingMenu_text'],'waitingMenu_replyOptions':_0x1cfbc8['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x1cfbc8[_0x2ce176(0x4a2)][_0x2ce176(0x6b9)],'lastSendMessage':_0x1cfbc8[_0x2ce176(0x4a2)][_0x2ce176(0x40c)],'lastReceivedMessage':_0x1cfbc8[_0x2ce176(0x4a2)][_0x2ce176(0x3f1)],'lastCondition':_0x1cfbc8['chatLog'][_0x2ce176(0x78f)],'chatVariables':_0x57af7d,'realVariables':_0x1cfbc8[_0x2ce176(0x4a2)][_0x2ce176(0x3cd)],'blockLogs':_0x1cfbc8[_0x2ce176(0x4a2)][_0x2ce176(0x20a)]}},_0x3e3c0a=await this['repository'][_0x2ce176(0x7e4)]['updateOne'](_0x1cfbc8['_id'],_0x42a24c,this[_0x2ce176(0x248)][_0x2ce176(0x658)]);if(_0x3e3c0a){this['logger']['verbose'](this[_0x2ce176(0x33a)]+'\x20('+this[_0x2ce176(0x248)]['wuid']+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x3e3c0a[_0x2ce176(0x53f)]);try{let _0x37c31d=['nome',_0x2ce176(0x4d6),_0x2ce176(0x4ea),_0x2ce176(0x4e1),_0x2ce176(0x3d8),_0x2ce176(0x69a),_0x2ce176(0x807),_0x2ce176(0x7cf),'etiquetas',_0x2ce176(0x240)];if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x2ce176(0x346)]))throw new Error(_0x2ce176(0x62b));let _0x5515bf=this[_0x2ce176(0x346)]?.[_0x2ce176(0x59d)]['map'](_0x51b0a1=>_0x51b0a1[_0x2ce176(0x467)]),_0x26ae92={};Object[_0x2ce176(0x730)](_0x1cfbc8['chatLog']['realVariables'])['forEach'](([_0x111aec,_0x5f7378])=>{const _0x34bf18=_0x2ce176;_0x37c31d[_0x34bf18(0x908)](_0x111aec)&&(_0x111aec===_0x34bf18(0x7cf)&&typeof _0x5f7378==_0x34bf18(0x709)?_0x26ae92[_0x111aec]=_0x5f7378[_0x34bf18(0x1eb)](',')[_0x34bf18(0x3ea)](_0x163fcc=>_0x163fcc[_0x34bf18(0x29d)]())[_0x34bf18(0x7ab)](_0x4c397b=>_0x4c397b!==''):_0x111aec===_0x34bf18(0x774)&&typeof _0x5f7378==_0x34bf18(0x709)?_0x26ae92[_0x111aec]=_0x5f7378[_0x34bf18(0x1eb)](',')[_0x34bf18(0x3ea)](_0x5e1ff2=>_0x5e1ff2['trim']())[_0x34bf18(0x7ab)](_0x5490a2=>_0x5490a2!==''):_0x26ae92[_0x111aec]=_0x5f7378);});let _0xb9b2a=_0x1cfbc8[_0x2ce176(0x4a2)][_0x2ce176(0x20a)][_0x1cfbc8[_0x2ce176(0x4a2)][_0x2ce176(0x20a)]['length']-0x1];if(_0xb9b2a){let _0x14a8d9=_0xb9b2a[_0x2ce176(0x6e8)];_0x14a8d9!==void 0x0&&(_0x26ae92[_0x2ce176(0x4b4)]=_0x14a8d9[_0x2ce176(0x46e)]());}let _0xdb044f=_0x57af7d[_0x2ce176(0x7ab)](_0x4ac213=>_0x5515bf[_0x2ce176(0x908)](_0x4ac213[_0x2ce176(0x467)]));this[_0x2ce176(0x6d9)][_0x2ce176(0x2b6)](this[_0x2ce176(0x33a)]+'\x20('+this['instance'][_0x2ce176(0x658)]+_0x2ce176(0x7b0)),this[_0x2ce176(0x6d9)][_0x2ce176(0x2b6)](_0x26ae92),this[_0x2ce176(0x6d9)]['verbose'](this[_0x2ce176(0x33a)]+'\x20('+this[_0x2ce176(0x248)][_0x2ce176(0x658)]+_0x2ce176(0x2c9)),this[_0x2ce176(0x6d9)][_0x2ce176(0x2b6)](_0xdb044f);let _0x5872f3=_0xdb044f[_0x2ce176(0x3ea)](_0xaf7f33=>{const _0x292791=_0x2ce176;let _0x446d15=this[_0x292791(0x346)]?.[_0x292791(0x59d)][_0x292791(0x428)](_0x57e030=>_0x57e030[_0x292791(0x467)]===_0xaf7f33[_0x292791(0x467)]);if(!_0x446d15)throw new Error(_0x292791(0x381)+_0xaf7f33['name']);return{'_id':_0x446d15['_id'],'value':_0xaf7f33[_0x292791(0x1a6)]};});this[_0x2ce176(0x6d9)][_0x2ce176(0x2b6)](this['instanceName']+'\x20('+this[_0x2ce176(0x248)][_0x2ce176(0x658)]+_0x2ce176(0x906)),this[_0x2ce176(0x6d9)][_0x2ce176(0x2b6)](_0x5872f3),await this[_0x2ce176(0x301)](_0x1cfbc8['remoteJid'],_0x26ae92,_0x5872f3);}catch(_0x4fcd92){this[_0x2ce176(0x6d9)]['error'](this[_0x2ce176(0x33a)]+'\x20('+this[_0x2ce176(0x248)][_0x2ce176(0x658)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x4fcd92 instanceof Error?_0x4fcd92['message']:JSON[_0x2ce176(0x2d0)](_0x4fcd92,null,0x2)));}}else this[_0x2ce176(0x6d9)][_0x2ce176(0x5b6)](this[_0x2ce176(0x33a)]+'\x20('+this['instance'][_0x2ce176(0x658)]+_0x2ce176(0x7d8));}catch(_0xe77204){this['logger']['error'](this[_0x2ce176(0x33a)]+'\x20('+this[_0x2ce176(0x248)][_0x2ce176(0x658)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0xe77204 instanceof Error?_0xe77204['message']:JSON['stringify'](_0xe77204,null,0x2)));}}async['saveChatVariables'](_0x1ec1a7,_0x13dfe6,_0x459562){const _0x11b05b=a0_0x389422;try{let _0x15282e={'leadInfo.leadnome':_0x13dfe6['nome'],'leadInfo.nomecompleto':_0x13dfe6['nomecompleto'],'leadInfo.email':_0x13dfe6[_0x11b05b(0x4ea)],'leadInfo.cpf':_0x13dfe6[_0x11b05b(0x4e1)],'leadInfo.status':_0x13dfe6[_0x11b05b(0x3d8)],'leadInfo.notas':_0x13dfe6[_0x11b05b(0x69a)],'leadInfo.responsavelid':_0x13dfe6['responsavelid'],'leadInfo.tags':_0x13dfe6[_0x11b05b(0x7cf)],'leadInfo.etiquetas':_0x13dfe6[_0x11b05b(0x774)],'leadInfo.customFields':_0x459562,'leadInfo.atendimentoAberto':_0x13dfe6[_0x11b05b(0x240)]},_0x18e675=await this['repository']['chat'][_0x11b05b(0x892)]({'where':{'_id':_0x1ec1a7}},this['instance'][_0x11b05b(0x658)]);if(!_0x18e675)return _0x11b05b(0x4d4);let _0x18d2b6=new Set(_0x18e675[_0x11b05b(0x8cc)]['etiquetas']||[]),_0x203920=new Set(_0x13dfe6[_0x11b05b(0x774)]||[]),_0x31256f=await this[_0x11b05b(0x828)][_0x11b05b(0x2e8)][_0x11b05b(0x428)]({'where':{}},this[_0x11b05b(0x248)][_0x11b05b(0x658)]),_0x1825e8=new Set(_0x31256f[_0x11b05b(0x3ea)](_0x3ef67a=>_0x3ef67a['_id'])),_0x47c21a=[..._0x203920][_0x11b05b(0x7ab)](_0x183f99=>!_0x18d2b6['has'](_0x183f99)&&_0x1825e8[_0x11b05b(0x3cf)](_0x183f99)),_0x464be8=[..._0x18d2b6][_0x11b05b(0x7ab)](_0x1a566d=>!_0x203920[_0x11b05b(0x3cf)](_0x1a566d));for(let _0x153e30 of _0x47c21a)await this[_0x11b05b(0x3a8)](_0x153e30,_0x18e675[_0x11b05b(0x53f)]),_0x18d2b6['add'](_0x153e30);for(let _0x5b6743 of _0x464be8)await this['RemoveChatLabel'](_0x5b6743,_0x18e675['_id']),_0x18d2b6[_0x11b05b(0x216)](_0x5b6743);if('desativadoFluxoAte'in _0x13dfe6){let _0x128990=_0x13dfe6[_0x11b05b(0x4b4)];_0x15282e[_0x11b05b(0x359)]=_0x128990?Number(_0x128990):null;}if(_0x11b05b(0x240)in _0x13dfe6){let _0x2626d4=_0x13dfe6['atendimentoAberto']['toLowerCase']();_0x15282e[_0x11b05b(0x78a)]=_0x2626d4==='true'||_0x2626d4==='1'||_0x2626d4===_0x11b05b(0x7a2)||_0x2626d4==='sim';}let _0x29f9f8=await this['repository']['chat'][_0x11b05b(0x2d5)]({'where':{'_id':_0x1ec1a7}},_0x15282e,this[_0x11b05b(0x248)][_0x11b05b(0x658)]);_0x29f9f8?(this[_0x11b05b(0x6d9)][_0x11b05b(0x2b6)](this['instanceName']+'\x20('+this[_0x11b05b(0x248)]['wuid']+_0x11b05b(0x3d6)+_0x29f9f8[_0x11b05b(0x53f)]),F(this['instanceName'],_0x11b05b(0x328),{'chat':_0x29f9f8})):this[_0x11b05b(0x6d9)][_0x11b05b(0x5b6)](this[_0x11b05b(0x33a)]+'\x20('+this[_0x11b05b(0x248)][_0x11b05b(0x658)]+_0x11b05b(0x8ab));}catch(_0x2eaed5){this[_0x11b05b(0x6d9)][_0x11b05b(0x5b6)](this[_0x11b05b(0x33a)]+'\x20('+this[_0x11b05b(0x248)]['wuid']+_0x11b05b(0x33f)+(_0x2eaed5 instanceof Error?_0x2eaed5[_0x11b05b(0x582)]:JSON[_0x11b05b(0x2d0)](_0x2eaed5,null,0x2)));}}async[a0_0x389422(0x79f)](_0x2ec782,_0x5d4702){const _0x3449ef=a0_0x389422;this[_0x3449ef(0x6d9)][_0x3449ef(0x2b6)](this[_0x3449ef(0x33a)]+'\x20('+this[_0x3449ef(0x248)][_0x3449ef(0x658)]+_0x3449ef(0x2f5)+_0x5d4702);try{let _0x3630b2=await this['repository'][_0x3449ef(0x8e5)][_0x3449ef(0x2d5)]({'where':{'_id':_0x2ec782[_0x3449ef(0x897)]}},{'leadInfo.desativadoFluxoAte':_0x5d4702},this[_0x3449ef(0x248)]['wuid']);this[_0x3449ef(0x6d9)][_0x3449ef(0x2b6)](this[_0x3449ef(0x33a)]+'\x20('+this['instance']['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x2ec782[_0x3449ef(0x53f)]),this[_0x3449ef(0x6d9)][_0x3449ef(0x2b6)](this[_0x3449ef(0x33a)]+'\x20('+this[_0x3449ef(0x248)]['wuid']+'):\x20atualização\x20chat:\x20'+JSON[_0x3449ef(0x2d0)](_0x3630b2,null,0x2)),_0x3630b2&&F(this[_0x3449ef(0x33a)],'chats',{'chat':_0x3630b2});}catch(_0x3f3d0c){this[_0x3449ef(0x6d9)]['error'](this['instanceName']+'\x20('+this[_0x3449ef(0x248)]['wuid']+_0x3449ef(0x3ad)+(_0x3f3d0c instanceof Error?_0x3f3d0c[_0x3449ef(0x582)]:JSON[_0x3449ef(0x2d0)](_0x3f3d0c,null,0x2)));}}async['findFlow'](_0x173811){const _0x2ebeee=a0_0x389422;try{this[_0x2ebeee(0x6d9)][_0x2ebeee(0x2b6)](this[_0x2ebeee(0x33a)]+'\x20('+this[_0x2ebeee(0x248)][_0x2ebeee(0x658)]+_0x2ebeee(0x6e7));let _0x502189=_0x173811['replace'](/\D/g,''),_0x29c69a=this[_0x2ebeee(0x346)]['flows']['find'](_0x59ed66=>_0x59ed66['testingWith']===_0x502189);if(_0x29c69a||(this[_0x2ebeee(0x6d9)]['verbose'](this[_0x2ebeee(0x33a)]+'\x20('+this['instance'][_0x2ebeee(0x658)]+_0x2ebeee(0x776)),_0x29c69a=this[_0x2ebeee(0x346)][_0x2ebeee(0x315)]['find'](_0x260a1c=>_0x260a1c[_0x2ebeee(0x37f)]===!0x0)),!_0x29c69a)return this[_0x2ebeee(0x6d9)][_0x2ebeee(0x2b6)](this[_0x2ebeee(0x33a)]+'\x20('+this[_0x2ebeee(0x248)][_0x2ebeee(0x658)]+_0x2ebeee(0x3f3)),null;let _0x56d904=await this[_0x2ebeee(0x828)]['flow']['findOne']({'where':{'_id':_0x29c69a[_0x2ebeee(0x53f)]}});if(!_0x56d904||!_0x56d904['whoCanUse']?.[_0x2ebeee(0x908)](this[_0x2ebeee(0x248)][_0x2ebeee(0x658)]))throw this[_0x2ebeee(0x6d9)]['error'](this['instanceName']+'\x20('+this[_0x2ebeee(0x248)][_0x2ebeee(0x658)]+_0x2ebeee(0x694)+_0x56d904['_id']+_0x2ebeee(0x88b)),new m(_0x2ebeee(0x58e)+_0x56d904[_0x2ebeee(0x53f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x56d904;}catch(_0x2123d3){return this[_0x2ebeee(0x6d9)][_0x2ebeee(0x5b6)](this[_0x2ebeee(0x33a)]+'\x20('+this[_0x2ebeee(0x248)][_0x2ebeee(0x658)]+_0x2ebeee(0x451)+(_0x2123d3 instanceof Error?_0x2123d3[_0x2ebeee(0x582)]:JSON[_0x2ebeee(0x2d0)](_0x2123d3,null,0x2))),null;}}async[a0_0x389422(0x2dd)](_0x2be5df,_0x254b65){const _0x8b7bd6=a0_0x389422;try{let _0x38fa8b=!!_0x254b65[_0x8b7bd6(0x83e)],_0x2c1f93=_0x254b65[_0x8b7bd6(0x5e3)],_0x16418c=null;if(this[_0x8b7bd6(0x6d9)]['verbose'](this[_0x8b7bd6(0x33a)]+'\x20('+this[_0x8b7bd6(0x248)][_0x8b7bd6(0x658)]+_0x8b7bd6(0x702)+_0x38fa8b+_0x8b7bd6(0x1d8)+_0x2c1f93),_0x38fa8b){this[_0x8b7bd6(0x6d9)]['verbose'](this[_0x8b7bd6(0x33a)]+'\x20('+this['instance'][_0x8b7bd6(0x658)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x27f916={'where':{'remoteJid':_0x2be5df,'waitingMenu_id':_0x2c1f93}};if(_0x16418c=await this[_0x8b7bd6(0x828)][_0x8b7bd6(0x7e4)][_0x8b7bd6(0x892)](_0x27f916,this['instance'][_0x8b7bd6(0x658)]),!_0x16418c)return this['logger'][_0x8b7bd6(0x2b6)](this[_0x8b7bd6(0x33a)]+'\x20('+this['instance'][_0x8b7bd6(0x658)]+'):\x20não\x20encontrou'),null;let _0x2f9087=Date[_0x8b7bd6(0x755)](),_0x457539=_0x16418c?.['minutesToClose']||0x0,_0x121983=_0x2f9087-_0x457539*0x3c*0x3e8;if(_0x16418c['lastInteraction']<_0x121983){this[_0x8b7bd6(0x6d9)]['verbose'](this[_0x8b7bd6(0x33a)]+'\x20('+this['instance'][_0x8b7bd6(0x658)]+_0x8b7bd6(0x8d5));let _0x191404={'number':_0x16418c[_0x8b7bd6(0x897)],'options':{'delay':0x0},'textMessage':{'text':_0x16418c[_0x8b7bd6(0x77e)]}};await this[_0x8b7bd6(0x482)](_0x191404);let _0x40693c={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x8b7bd6(0x828)][_0x8b7bd6(0x7e4)][_0x8b7bd6(0x2d5)](_0x16418c[_0x8b7bd6(0x53f)],_0x40693c,this['instance'][_0x8b7bd6(0x658)]),null;}return _0x16418c[_0x8b7bd6(0x219)]=Date[_0x8b7bd6(0x755)](),_0x16418c[_0x8b7bd6(0x4a2)]['lastReceivedMessage']=_0x254b65,_0x16418c;}else{this['logger'][_0x8b7bd6(0x2b6)](this[_0x8b7bd6(0x33a)]+'\x20('+this[_0x8b7bd6(0x248)]['wuid']+_0x8b7bd6(0x375)+this[_0x8b7bd6(0x248)][_0x8b7bd6(0x658)]+_0x8b7bd6(0x7c9)),this[_0x8b7bd6(0x6d9)]['verbose'](this[_0x8b7bd6(0x33a)]+'\x20('+this['instance'][_0x8b7bd6(0x658)]+'):\x20Procurando\x20conversa');let _0x24344b={'where':{'remoteJid':_0x2be5df,'status':_0x8b7bd6(0x214)}};if(_0x16418c=await this[_0x8b7bd6(0x828)][_0x8b7bd6(0x7e4)][_0x8b7bd6(0x892)](_0x24344b,this[_0x8b7bd6(0x248)][_0x8b7bd6(0x658)]),!_0x16418c){let _0x5c3119=await this[_0x8b7bd6(0x7a8)](_0x2be5df);if(_0x5c3119&&(_0x16418c=await this[_0x8b7bd6(0x714)](_0x5c3119,_0x254b65[_0x8b7bd6(0x71e)],_0x254b65)),!_0x16418c)return null;}let _0xdaa4e3=Date[_0x8b7bd6(0x755)](),_0x35641c=_0x16418c?.[_0x8b7bd6(0x896)]||0x0,_0x3d37c3=_0xdaa4e3-_0x35641c*0x3c*0x3e8;if(this[_0x8b7bd6(0x6d9)][_0x8b7bd6(0x2b6)](this[_0x8b7bd6(0x33a)]+'\x20('+this[_0x8b7bd6(0x248)][_0x8b7bd6(0x658)]+'):\x20Current\x20Time:\x20'+_0xdaa4e3+_0x8b7bd6(0x61e)+_0x35641c+_0x8b7bd6(0x59f)+_0x3d37c3),this[_0x8b7bd6(0x6d9)][_0x8b7bd6(0x2b6)](this[_0x8b7bd6(0x33a)]+'\x20('+this[_0x8b7bd6(0x248)][_0x8b7bd6(0x658)]+_0x8b7bd6(0x388)),this[_0x8b7bd6(0x6d9)]['verbose'](this[_0x8b7bd6(0x33a)]+'\x20('+this[_0x8b7bd6(0x248)][_0x8b7bd6(0x658)]+_0x8b7bd6(0x461)+_0x16418c[_0x8b7bd6(0x219)]),this[_0x8b7bd6(0x6d9)]['verbose'](this[_0x8b7bd6(0x33a)]+'\x20('+this[_0x8b7bd6(0x248)][_0x8b7bd6(0x658)]+_0x8b7bd6(0x820)+_0x3d37c3),_0x16418c[_0x8b7bd6(0x219)]<_0x3d37c3){this[_0x8b7bd6(0x6d9)]['verbose'](this[_0x8b7bd6(0x33a)]+'\x20('+this[_0x8b7bd6(0x248)][_0x8b7bd6(0x658)]+_0x8b7bd6(0x70a));let _0x3dfbbe=await this[_0x8b7bd6(0x7a8)](_0x2be5df);if(_0x3dfbbe===null)return null;_0x16418c&&await this[_0x8b7bd6(0x828)][_0x8b7bd6(0x7e4)]['updateOne'](_0x16418c[_0x8b7bd6(0x53f)],{'status':'closed'},this['instance'][_0x8b7bd6(0x658)]),_0x16418c=await this[_0x8b7bd6(0x714)](_0x3dfbbe,_0x254b65['key'],_0x254b65);}return _0x16418c['lastInteraction']=_0xdaa4e3,_0x16418c[_0x8b7bd6(0x4a2)][_0x8b7bd6(0x3f1)]=_0x254b65,_0x16418c;}}catch(_0x2388ca){return this[_0x8b7bd6(0x6d9)][_0x8b7bd6(0x5b6)](this['instanceName']+'\x20('+this['instance'][_0x8b7bd6(0x658)]+_0x8b7bd6(0x79a)+(_0x2388ca instanceof Error?_0x2388ca['message']:JSON[_0x8b7bd6(0x2d0)](_0x2388ca,null,0x2))),null;}}async[a0_0x389422(0x714)](_0x54ac70,_0xdcd6bc,_0x4bd3cb){const _0x5a9195=a0_0x389422;this[_0x5a9195(0x6d9)][_0x5a9195(0x2b6)](this['instanceName']+'\x20('+this[_0x5a9195(0x248)][_0x5a9195(0x658)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x3c4255=require(_0x5a9195(0x8ac))['ObjectId'],_0x4e7b89=Date[_0x5a9195(0x755)](),_0x540f58='start',_0x29beac=_0xdcd6bc[_0x5a9195(0x8fb)]?null:_0x4bd3cb,_0x4139c7=_0xdcd6bc['fromMe']?_0x4bd3cb:null,_0x22d255=_0xdcd6bc[_0x5a9195(0x897)],_0x62f45a=this[_0x5a9195(0x346)][_0x5a9195(0x315)]['find'](_0x562b94=>_0x562b94[_0x5a9195(0x53f)]===_0x54ac70['_id']?.['toString']()),_0x4835b3=_0x62f45a?.[_0x5a9195(0x896)]??_0x54ac70[_0x5a9195(0x896)]??0x0,_0x19aada=_0x62f45a?.[_0x5a9195(0x65a)]??_0x54ac70['readMessages']??!0x1;await this[_0x5a9195(0x22c)](_0x22d255);let _0x2b3c56={'flowId':_0x54ac70[_0x5a9195(0x53f)],..._0x54ac70,'chatLog':null},_0x167cd6=await this[_0x5a9195(0x506)](_0x2b3c56[_0x5a9195(0x4a3)]),_0xe00195=await this[_0x5a9195(0x60f)](_0x22d255),_0x201e61={..._0x167cd6,..._0xe00195,'_remoteJid':_0x22d255},_0x45a77f={'lastReceivedMessage':_0x29beac,'lastSendMessage':_0x4139c7,'lastBlockId':_0x540f58,'lastCondition':!0x0,'realVariables':_0x201e61};_0x2b3c56['chatLog']=_0x45a77f,delete _0x2b3c56[_0x5a9195(0x53f)],_0x2b3c56[_0x5a9195(0x53f)]=new _0x3c4255(),_0x2b3c56[_0x5a9195(0x219)]=_0x4e7b89,_0x2b3c56[_0x5a9195(0x3d8)]=_0x5a9195(0x214),_0x2b3c56[_0x5a9195(0x897)]=_0x22d255,_0x2b3c56['minutesToClose']=_0x4835b3,_0x2b3c56[_0x5a9195(0x65a)]=_0x19aada;let _0x1d4442=await this[_0x5a9195(0x828)][_0x5a9195(0x7e4)][_0x5a9195(0x2d5)](_0x2b3c56[_0x5a9195(0x53f)],_0x2b3c56,this[_0x5a9195(0x248)][_0x5a9195(0x658)]);return this['logger']['verbose'](this[_0x5a9195(0x33a)]+'\x20('+this[_0x5a9195(0x248)][_0x5a9195(0x658)]+_0x5a9195(0x23f)),_0x1d4442?_0x2b3c56:null;}catch(_0x778a06){return this[_0x5a9195(0x6d9)][_0x5a9195(0x5b6)](this[_0x5a9195(0x33a)]+'\x20('+this[_0x5a9195(0x248)][_0x5a9195(0x658)]+_0x5a9195(0x2bb)+(_0x778a06 instanceof Error?_0x778a06[_0x5a9195(0x582)]:JSON[_0x5a9195(0x2d0)](_0x778a06,null,0x2))),_0x778a06;}}async[a0_0x389422(0x2aa)](_0x7689dc,_0x226dd0){const _0x5af6f9=a0_0x389422;let _0x31a57b=_0x7689dc['remoteJid'];_0x226dd0[_0x5af6f9(0x2e6)][_0x5af6f9(0x897)]&&_0x226dd0[_0x5af6f9(0x2e6)][_0x5af6f9(0x897)][_0x5af6f9(0x29d)]()!==''&&(_0x31a57b=_0x226dd0[_0x5af6f9(0x2e6)][_0x5af6f9(0x897)]['trim']()),this['logger'][_0x5af6f9(0x2b6)](this['instanceName']+'\x20('+this[_0x5af6f9(0x248)][_0x5af6f9(0x658)]+'):\x20Enviando\x20texto');let _0x2ae2f9={'number':_0x31a57b,'options':{'delay':_0x226dd0[_0x5af6f9(0x2e6)][_0x5af6f9(0x3dc)],'linkPreview':_0x226dd0['uazapi'][_0x5af6f9(0x2dc)]},'textMessage':{'text':_0x226dd0[_0x5af6f9(0x2e6)][_0x5af6f9(0x243)]}};try{let _0x2941f3=await this[_0x5af6f9(0x482)](_0x2ae2f9);if(_0x2941f3){let _0x1b0e09={'_id':_0x2941f3[_0x5af6f9(0x71e)]['id'],'_fromMe':_0x2941f3[_0x5af6f9(0x71e)][_0x5af6f9(0x8fb)],'_remoteJid':_0x2941f3[_0x5af6f9(0x71e)][_0x5af6f9(0x897)]},_0x357396=(0x0,w['normalizeMessageContent'])(_0x2941f3[_0x5af6f9(0x582)]),_0x19083b=(0x0,w[_0x5af6f9(0x484)])(_0x357396);_0x7689dc[_0x5af6f9(0x4a2)][_0x5af6f9(0x6b9)]=_0x226dd0[_0x5af6f9(0x53f)][_0x5af6f9(0x46e)]();let {message_normalized:_0x277b2c}=this[_0x5af6f9(0x24a)](_0x357396,_0x19083b,null);_0x7689dc[_0x5af6f9(0x4a2)][_0x5af6f9(0x40c)]=await _0x277b2c;let _0x486cad={'messageId':_0x2941f3[_0x5af6f9(0x71e)]['id']},_0x3dc0e5=_0x7689dc[_0x5af6f9(0x4a2)][_0x5af6f9(0x3cd)];Object[_0x5af6f9(0x8d9)](_0x3dc0e5,_0x1b0e09),_0x7689dc[_0x5af6f9(0x4a2)][_0x5af6f9(0x3cd)]=_0x3dc0e5,this[_0x5af6f9(0x1cb)](_0x7689dc,_0x226dd0,_0x486cad);}else{let _0x49af28={'error':!0x0};this[_0x5af6f9(0x1cb)](_0x7689dc,_0x226dd0,_0x49af28),this[_0x5af6f9(0x6d9)][_0x5af6f9(0x5b6)](this[_0x5af6f9(0x33a)]+'\x20('+this[_0x5af6f9(0x248)]['wuid']+_0x5af6f9(0x341));}}catch(_0x285857){let _0x374042={'error':!0x0,'errorLog':_0x285857[_0x5af6f9(0x46e)]()};this[_0x5af6f9(0x1cb)](_0x7689dc,_0x226dd0,_0x374042),this[_0x5af6f9(0x6d9)][_0x5af6f9(0x5b6)](this[_0x5af6f9(0x33a)]+'\x20('+this[_0x5af6f9(0x248)][_0x5af6f9(0x658)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x285857 instanceof Error?_0x285857[_0x5af6f9(0x582)]:JSON[_0x5af6f9(0x2d0)](_0x285857,null,0x2)));}}async['uazapiSendMedia'](_0x32fa59,_0x1ff3b4){const _0x5d56f7=a0_0x389422;let _0x12e623=_0x32fa59[_0x5d56f7(0x897)];_0x1ff3b4['uazapi']['remoteJid']&&_0x1ff3b4[_0x5d56f7(0x2e6)][_0x5d56f7(0x897)]['trim']()!==''&&(_0x12e623=_0x1ff3b4[_0x5d56f7(0x2e6)]['remoteJid'][_0x5d56f7(0x29d)]()),this[_0x5d56f7(0x6d9)][_0x5d56f7(0x2b6)](this['instanceName']+'\x20('+this['instance'][_0x5d56f7(0x658)]+_0x5d56f7(0x3dd));let _0x5980c7={'number':_0x12e623,'options':{'delay':_0x1ff3b4[_0x5d56f7(0x2e6)][_0x5d56f7(0x3dc)],'linkPreview':_0x1ff3b4['uazapi'][_0x5d56f7(0x2dc)]},'mediaMessage':{'mediatype':_0x1ff3b4[_0x5d56f7(0x2e6)][_0x5d56f7(0x89c)],'caption':_0x1ff3b4[_0x5d56f7(0x2e6)]['caption'],'media':_0x1ff3b4[_0x5d56f7(0x2e6)][_0x5d56f7(0x886)],'fileName':_0x1ff3b4[_0x5d56f7(0x2e6)][_0x5d56f7(0x4c8)]}};try{let _0x1c2967=await this['mediaMessage'](_0x5980c7);if(_0x1c2967){let _0x183200={'_id':_0x1c2967[_0x5d56f7(0x71e)]['id'],'_fromMe':_0x1c2967[_0x5d56f7(0x71e)]['fromMe'],'_remoteJid':_0x1c2967['key']['remoteJid']},_0x44c5ee=(0x0,w[_0x5d56f7(0x266)])(_0x1c2967[_0x5d56f7(0x582)]),_0x5e9980=(0x0,w[_0x5d56f7(0x484)])(_0x44c5ee);_0x32fa59[_0x5d56f7(0x4a2)][_0x5d56f7(0x6b9)]=_0x1ff3b4[_0x5d56f7(0x53f)]['toString']();let {message_normalized:_0x1578b7}=this['normalizeMessage'](_0x44c5ee,_0x5e9980,null);_0x32fa59[_0x5d56f7(0x4a2)]['lastSendMessage']=await _0x1578b7;let _0x3968d9={'messageId':_0x1c2967[_0x5d56f7(0x71e)]['id']},_0xae2b2f=_0x32fa59[_0x5d56f7(0x4a2)][_0x5d56f7(0x3cd)];Object[_0x5d56f7(0x8d9)](_0xae2b2f,_0x183200),_0x32fa59[_0x5d56f7(0x4a2)]['realVariables']=_0xae2b2f,this['updateConversation'](_0x32fa59,_0x1ff3b4,_0x3968d9);}else{let _0x3d5159={'error':!0x0};this[_0x5d56f7(0x1cb)](_0x32fa59,_0x1ff3b4,_0x3d5159),this[_0x5d56f7(0x6d9)][_0x5d56f7(0x5b6)](this[_0x5d56f7(0x33a)]+'\x20('+this[_0x5d56f7(0x248)][_0x5d56f7(0x658)]+_0x5d56f7(0x867));}}catch(_0x28cf7b){let _0xa37780={'error':!0x0,'errorLog':_0x28cf7b[_0x5d56f7(0x46e)]()};this[_0x5d56f7(0x1cb)](_0x32fa59,_0x1ff3b4,_0xa37780),this[_0x5d56f7(0x6d9)][_0x5d56f7(0x5b6)](this[_0x5d56f7(0x33a)]+'\x20('+this[_0x5d56f7(0x248)][_0x5d56f7(0x658)]+_0x5d56f7(0x4cb)+(_0x28cf7b instanceof Error?_0x28cf7b[_0x5d56f7(0x582)]:JSON[_0x5d56f7(0x2d0)](_0x28cf7b,null,0x2)));}}async['uazapiSendLocation'](_0x3c69e4,_0x25ae67){const _0x2c0101=a0_0x389422;let _0x2b74eb=_0x3c69e4[_0x2c0101(0x897)];_0x25ae67[_0x2c0101(0x2e6)][_0x2c0101(0x897)]&&_0x25ae67[_0x2c0101(0x2e6)][_0x2c0101(0x897)]['trim']()!==''&&(_0x2b74eb=_0x25ae67[_0x2c0101(0x2e6)][_0x2c0101(0x897)]['trim']()),this['logger']['verbose'](this[_0x2c0101(0x33a)]+'\x20('+this['instance'][_0x2c0101(0x658)]+_0x2c0101(0x610));let _0x4a981a={'number':_0x2b74eb,'options':{'delay':_0x25ae67[_0x2c0101(0x2e6)]['delay']},'locationMessage':{'name':_0x25ae67[_0x2c0101(0x2e6)][_0x2c0101(0x467)],'address':_0x25ae67[_0x2c0101(0x2e6)]['address'],'latitude':_0x25ae67[_0x2c0101(0x2e6)][_0x2c0101(0x87f)],'longitude':_0x25ae67[_0x2c0101(0x2e6)]['longitude']}};try{let _0x601ecc=await this[_0x2c0101(0x6c8)](_0x4a981a);if(_0x601ecc){let _0x4872e8={'_id':_0x601ecc[_0x2c0101(0x71e)]['id'],'_fromMe':_0x601ecc[_0x2c0101(0x71e)]['fromMe'],'_remoteJid':_0x601ecc['key']['remoteJid']},_0x295d6d=(0x0,w[_0x2c0101(0x266)])(_0x601ecc[_0x2c0101(0x582)]),_0x5a648e=(0x0,w[_0x2c0101(0x484)])(_0x295d6d);_0x3c69e4[_0x2c0101(0x4a2)][_0x2c0101(0x6b9)]=_0x25ae67[_0x2c0101(0x53f)][_0x2c0101(0x46e)]();let {message_normalized:_0x4464ff}=this[_0x2c0101(0x24a)](_0x295d6d,_0x5a648e,null);_0x3c69e4[_0x2c0101(0x4a2)][_0x2c0101(0x40c)]=await _0x4464ff;let _0x3fe12a={'messageId':_0x601ecc[_0x2c0101(0x71e)]['id']},_0x2cfafc=_0x3c69e4[_0x2c0101(0x4a2)][_0x2c0101(0x3cd)];Object[_0x2c0101(0x8d9)](_0x2cfafc,_0x4872e8),_0x3c69e4[_0x2c0101(0x4a2)][_0x2c0101(0x3cd)]=_0x2cfafc,this[_0x2c0101(0x1cb)](_0x3c69e4,_0x25ae67,_0x3fe12a);}else{let _0x31b948={'error':!0x0};this[_0x2c0101(0x1cb)](_0x3c69e4,_0x25ae67,_0x31b948),this[_0x2c0101(0x6d9)][_0x2c0101(0x5b6)](this[_0x2c0101(0x33a)]+'\x20('+this['instance'][_0x2c0101(0x658)]+_0x2c0101(0x319));}}catch(_0x30bbac){let _0x4df348={'error':!0x0,'errorLog':_0x30bbac[_0x2c0101(0x46e)]()};this['updateConversation'](_0x3c69e4,_0x25ae67,_0x4df348),this[_0x2c0101(0x6d9)][_0x2c0101(0x5b6)](this[_0x2c0101(0x33a)]+'\x20('+this[_0x2c0101(0x248)][_0x2c0101(0x658)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x30bbac instanceof Error?_0x30bbac['message']:JSON[_0x2c0101(0x2d0)](_0x30bbac,null,0x2)));}}async[a0_0x389422(0x390)](_0x34b755,_0x3c1b39){const _0x1c85e7=a0_0x389422;let _0x16292e=_0x34b755[_0x1c85e7(0x897)];_0x3c1b39[_0x1c85e7(0x2e6)][_0x1c85e7(0x897)]&&_0x3c1b39[_0x1c85e7(0x2e6)]['remoteJid'][_0x1c85e7(0x29d)]()!==''&&(_0x16292e=_0x3c1b39['uazapi'][_0x1c85e7(0x897)][_0x1c85e7(0x29d)]()),this[_0x1c85e7(0x6d9)][_0x1c85e7(0x2b6)](this['instanceName']+'\x20('+this[_0x1c85e7(0x248)][_0x1c85e7(0x658)]+'):\x20Enviando\x20áudio');let _0x598c8a={'number':_0x16292e,'options':{'delay':_0x3c1b39[_0x1c85e7(0x2e6)][_0x1c85e7(0x3dc)]},'audioMessage':{'audio':_0x3c1b39[_0x1c85e7(0x2e6)][_0x1c85e7(0x4ef)]}};try{let _0x435d7e=await this[_0x1c85e7(0x858)](_0x598c8a);if(_0x435d7e){let _0x41d980={'_id':_0x435d7e[_0x1c85e7(0x71e)]['id'],'_fromMe':_0x435d7e[_0x1c85e7(0x71e)][_0x1c85e7(0x8fb)],'_remoteJid':_0x435d7e[_0x1c85e7(0x71e)]['remoteJid']},_0x2319f1=(0x0,w[_0x1c85e7(0x266)])(_0x435d7e[_0x1c85e7(0x582)]),_0x37cff9=(0x0,w['getContentType'])(_0x2319f1);_0x34b755[_0x1c85e7(0x4a2)][_0x1c85e7(0x6b9)]=_0x3c1b39[_0x1c85e7(0x53f)][_0x1c85e7(0x46e)]();let {message_normalized:_0x5d3232}=this['normalizeMessage'](_0x2319f1,_0x37cff9,null);_0x34b755[_0x1c85e7(0x4a2)][_0x1c85e7(0x40c)]=await _0x5d3232;let _0x1cdd79={'messageId':_0x435d7e[_0x1c85e7(0x71e)]['id']},_0xe6b33f=_0x34b755[_0x1c85e7(0x4a2)][_0x1c85e7(0x3cd)];Object[_0x1c85e7(0x8d9)](_0xe6b33f,_0x41d980),_0x34b755[_0x1c85e7(0x4a2)][_0x1c85e7(0x3cd)]=_0xe6b33f,this[_0x1c85e7(0x1cb)](_0x34b755,_0x3c1b39,_0x1cdd79);}else{let _0x5bf455={'error':!0x0};this[_0x1c85e7(0x1cb)](_0x34b755,_0x3c1b39,_0x5bf455),this[_0x1c85e7(0x6d9)][_0x1c85e7(0x5b6)](this[_0x1c85e7(0x33a)]+'\x20('+this[_0x1c85e7(0x248)][_0x1c85e7(0x658)]+_0x1c85e7(0x287));}}catch(_0x57a016){let _0x498d7b={'error':!0x0,'errorLog':_0x57a016[_0x1c85e7(0x46e)]()};this['updateConversation'](_0x34b755,_0x3c1b39,_0x498d7b),this['logger']['error'](this[_0x1c85e7(0x33a)]+'\x20('+this['instance'][_0x1c85e7(0x658)]+_0x1c85e7(0x24d)+(_0x57a016 instanceof Error?_0x57a016[_0x1c85e7(0x582)]:JSON[_0x1c85e7(0x2d0)](_0x57a016,null,0x2)));}}async[a0_0x389422(0x43d)](_0xfafb0f,_0x1f8029){const _0xbf579b=a0_0x389422;let _0x280cc8=_0xfafb0f[_0xbf579b(0x897)];_0x1f8029[_0xbf579b(0x2e6)]['remoteJid']&&_0x1f8029[_0xbf579b(0x2e6)][_0xbf579b(0x897)][_0xbf579b(0x29d)]()!==''&&(_0x280cc8=_0x1f8029[_0xbf579b(0x2e6)][_0xbf579b(0x897)][_0xbf579b(0x29d)]()),this[_0xbf579b(0x6d9)][_0xbf579b(0x2b6)](this[_0xbf579b(0x33a)]+'\x20('+this['instance'][_0xbf579b(0x658)]+_0xbf579b(0x814));let _0x2b6a56={'number':_0x280cc8,'options':{'delay':_0x1f8029[_0xbf579b(0x2e6)][_0xbf579b(0x3dc)]},'contactMessage':[{'fullName':_0x1f8029[_0xbf579b(0x2e6)][_0xbf579b(0x577)],'phoneNumber':_0x1f8029['uazapi'][_0xbf579b(0x7b2)]}]};try{let _0x5c6b67=await this['contactMessage'](_0x2b6a56);if(_0x5c6b67){let _0x580d94={'_id':_0x5c6b67[_0xbf579b(0x71e)]['id'],'_fromMe':_0x5c6b67[_0xbf579b(0x71e)][_0xbf579b(0x8fb)],'_remoteJid':_0x5c6b67[_0xbf579b(0x71e)][_0xbf579b(0x897)]},_0x58f9fe=(0x0,w[_0xbf579b(0x266)])(_0x5c6b67[_0xbf579b(0x582)]),_0x60c265=(0x0,w[_0xbf579b(0x484)])(_0x58f9fe);_0xfafb0f['chatLog'][_0xbf579b(0x6b9)]=_0x1f8029[_0xbf579b(0x53f)][_0xbf579b(0x46e)]();let {message_normalized:_0x4fe671}=this[_0xbf579b(0x24a)](_0x58f9fe,_0x60c265,null);_0xfafb0f[_0xbf579b(0x4a2)][_0xbf579b(0x40c)]=await _0x4fe671;let _0x2f0d16={'messageId':_0x5c6b67['key']['id']},_0x4891e4=_0xfafb0f[_0xbf579b(0x4a2)][_0xbf579b(0x3cd)];Object[_0xbf579b(0x8d9)](_0x4891e4,_0x580d94),_0xfafb0f[_0xbf579b(0x4a2)]['realVariables']=_0x4891e4,this[_0xbf579b(0x1cb)](_0xfafb0f,_0x1f8029,_0x2f0d16);}else{let _0x550fec={'error':!0x0};this['updateConversation'](_0xfafb0f,_0x1f8029,_0x550fec),this['logger'][_0xbf579b(0x5b6)](this['instanceName']+'\x20('+this['instance'][_0xbf579b(0x658)]+_0xbf579b(0x4fd));}}catch(_0x11e92c){let _0x5b7da6={'error':!0x0,'errorLog':_0x11e92c[_0xbf579b(0x46e)]()};this[_0xbf579b(0x1cb)](_0xfafb0f,_0x1f8029,_0x5b7da6),this[_0xbf579b(0x6d9)][_0xbf579b(0x5b6)](this[_0xbf579b(0x33a)]+'\x20('+this[_0xbf579b(0x248)][_0xbf579b(0x658)]+_0xbf579b(0x5f9)+(_0x11e92c instanceof Error?_0x11e92c[_0xbf579b(0x582)]:JSON[_0xbf579b(0x2d0)](_0x11e92c,null,0x2)));}}[a0_0x389422(0x595)](_0x209561,_0x3cdf27){const _0x634209=a0_0x389422;for(let _0x409712 of _0x209561)_0x409712[_0x634209(0x2c7)]&&(_0x409712[_0x634209(0x2c7)]=this[_0x634209(0x19d)](_0x409712['option'],_0x3cdf27)),_0x409712[_0x634209(0x192)]&&(_0x409712['optionDescription']=this[_0x634209(0x19d)](_0x409712['optionDescription'],_0x3cdf27));}async[a0_0x389422(0x3f7)](_0x2e9957,_0x3dadcf){const _0x37d6fc=a0_0x389422;let _0xd51252=_0x2e9957[_0x37d6fc(0x897)];_0x3dadcf[_0x37d6fc(0x2e6)]['remoteJid']&&_0x3dadcf[_0x37d6fc(0x2e6)]['remoteJid']['trim']()!==''&&(_0xd51252=_0x3dadcf[_0x37d6fc(0x2e6)]['remoteJid']['trim']()),this[_0x37d6fc(0x6d9)][_0x37d6fc(0x2b6)](this['instanceName']+'\x20('+this[_0x37d6fc(0x248)][_0x37d6fc(0x658)]+_0x37d6fc(0x57c));let _0x37c923=_0x2e9957[_0x37d6fc(0x6fb)][_0x37d6fc(0x7ab)](_0x2874c7=>_0x2874c7[_0x37d6fc(0x2e2)]===_0x3dadcf[_0x37d6fc(0x53f)])[_0x37d6fc(0x1fa)]((_0x337f7d,_0x59f910)=>_0x337f7d[_0x37d6fc(0x29c)]-_0x59f910['order']);this['replaceVariablesInReplyOptions'](_0x37c923,_0x2e9957[_0x37d6fc(0x4a2)][_0x37d6fc(0x3cd)]);let _0x1a2785=_0x37c923[_0x37d6fc(0x3ea)](_0x45d0ef=>_0x45d0ef[_0x37d6fc(0x2c7)]),_0x8c3509={'number':_0xd51252,'menuMessage':{'type':_0x3dadcf['uazapi']['menuType']||_0x37d6fc(0x505),'text':_0x3dadcf['uazapi'][_0x37d6fc(0x243)]||_0x3dadcf['uazapi']['name'],'footerText':_0x3dadcf[_0x37d6fc(0x2e6)]['footerText'],'buttonText':_0x3dadcf[_0x37d6fc(0x2e6)][_0x37d6fc(0x650)],'selectableCount':0x1,'choices':_0x1a2785},'options':{'delay':_0x3dadcf[_0x37d6fc(0x2e6)][_0x37d6fc(0x3dc)]}};try{let _0x28b05f=await this['menuMessage'](_0x8c3509);if(_0x28b05f){let _0x10bc24={'_id':_0x28b05f['key']['id'],'_fromMe':_0x28b05f[_0x37d6fc(0x71e)][_0x37d6fc(0x8fb)],'_remoteJid':_0x28b05f[_0x37d6fc(0x71e)]['remoteJid']};_0x3dadcf[_0x37d6fc(0x2e6)][_0x37d6fc(0x527)]===!0x0&&(_0x2e9957['status']='waitingForReplyMenu',this['logger'][_0x37d6fc(0x2b6)](this[_0x37d6fc(0x33a)]+'\x20('+this[_0x37d6fc(0x248)][_0x37d6fc(0x658)]+_0x37d6fc(0x5fe)+_0x2e9957['status'])),this['logger'][_0x37d6fc(0x2b6)](this[_0x37d6fc(0x33a)]+'\x20('+this[_0x37d6fc(0x248)][_0x37d6fc(0x658)]+'):\x20nextBlock.uazapi.name'+(_0x3dadcf['uazapi']['name']||_0x3dadcf[_0x37d6fc(0x2e6)][_0x37d6fc(0x243)])),_0x2e9957['waitingMenu_id']=_0x28b05f[_0x37d6fc(0x71e)]['id'],_0x2e9957[_0x37d6fc(0x4d2)]=_0x3dadcf[_0x37d6fc(0x2e6)][_0x37d6fc(0x467)]||_0x3dadcf['uazapi']['text'],_0x2e9957['waitingMenu_replyOptions']=_0x37c923,_0x3dadcf[_0x37d6fc(0x2e6)][_0x37d6fc(0x275)]&&(_0x2e9957[_0x37d6fc(0x77e)]=_0x3dadcf[_0x37d6fc(0x2e6)][_0x37d6fc(0x275)]),this['logger'][_0x37d6fc(0x2b6)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x37d6fc(0x46c)+_0x2e9957[_0x37d6fc(0x4d2)]);let _0x3a9234=(0x0,w[_0x37d6fc(0x266)])(_0x28b05f[_0x37d6fc(0x582)]),_0x3cc8ac=(0x0,w[_0x37d6fc(0x484)])(_0x3a9234);_0x2e9957['chatLog'][_0x37d6fc(0x6b9)]=_0x3dadcf[_0x37d6fc(0x53f)][_0x37d6fc(0x46e)]();let {message_normalized:_0x51b89f}=this[_0x37d6fc(0x24a)](_0x3a9234,_0x3cc8ac,null);_0x2e9957[_0x37d6fc(0x4a2)][_0x37d6fc(0x40c)]=await _0x51b89f;let _0x3f210c={'messageId':_0x28b05f[_0x37d6fc(0x71e)]['id']},_0xfdd7de=_0x2e9957[_0x37d6fc(0x4a2)][_0x37d6fc(0x3cd)];Object[_0x37d6fc(0x8d9)](_0xfdd7de,_0x10bc24),_0x2e9957[_0x37d6fc(0x4a2)]['realVariables']=_0xfdd7de,this[_0x37d6fc(0x1cb)](_0x2e9957,_0x3dadcf,_0x3f210c);}else{let _0x2319f9={'error':!0x0};this['updateConversation'](_0x2e9957,_0x3dadcf,_0x2319f9),this[_0x37d6fc(0x6d9)][_0x37d6fc(0x5b6)](this[_0x37d6fc(0x33a)]+'\x20('+this[_0x37d6fc(0x248)][_0x37d6fc(0x658)]+_0x37d6fc(0x736));}}catch(_0x465eb7){let _0x28ed73={'error':!0x0,'errorLog':_0x465eb7 instanceof Error?_0x465eb7[_0x37d6fc(0x582)]:JSON[_0x37d6fc(0x2d0)](_0x465eb7,null,0x2)};this[_0x37d6fc(0x1cb)](_0x2e9957,_0x3dadcf,_0x28ed73),this[_0x37d6fc(0x6d9)]['error'](this[_0x37d6fc(0x33a)]+'\x20('+this['instance']['wuid']+_0x37d6fc(0x38a)+(_0x465eb7 instanceof Error?_0x465eb7[_0x37d6fc(0x582)]:JSON[_0x37d6fc(0x2d0)](_0x465eb7,null,0x2)));}}async['uazapiDeleteMessage'](_0xe2106b,_0x3258b9){const _0x52574b=a0_0x389422;this[_0x52574b(0x6d9)][_0x52574b(0x2b6)](this[_0x52574b(0x33a)]+'\x20('+this['instance'][_0x52574b(0x658)]+_0x52574b(0x68e));let _0x3ab509=_0xe2106b[_0x52574b(0x4a2)][_0x52574b(0x20a)][_0x52574b(0x428)](_0x4a91af=>_0x4a91af[_0x52574b(0x2e2)][_0x52574b(0x46e)]()===_0x3258b9[_0x52574b(0x2e6)][_0x52574b(0x2e2)]['toString']()),_0x6da5a1={'id':_0x3ab509[_0x52574b(0x763)],'remoteJid':_0x3ab509[_0x52574b(0x897)],'fromMe':_0x3ab509[_0x52574b(0x8fb)]};try{let _0x466193=await this[_0x52574b(0x813)](_0x6da5a1);if(_0x466193){let _0x337473=(0x0,w[_0x52574b(0x266)])(_0x466193['message']),_0x5a425f=(0x0,w[_0x52574b(0x484)])(_0x337473);_0xe2106b['chatLog'][_0x52574b(0x6b9)]=_0x3258b9['_id'][_0x52574b(0x46e)]();let {message_normalized:_0x231669}=this['normalizeMessage'](_0x337473,_0x5a425f,null);_0xe2106b['chatLog']['lastSendMessage']=await _0x231669;let _0x4ec360={};this[_0x52574b(0x1cb)](_0xe2106b,_0x3258b9,_0x4ec360);}else{let _0x16032e={'error':!0x0};this[_0x52574b(0x1cb)](_0xe2106b,_0x3258b9,_0x16032e),this['logger'][_0x52574b(0x5b6)](this['instanceName']+'\x20('+this[_0x52574b(0x248)][_0x52574b(0x658)]+_0x52574b(0x4f3));}}catch(_0x17d788){let _0x397250={'error':!0x0,'errorLog':_0x17d788 instanceof Error?_0x17d788[_0x52574b(0x582)]:JSON[_0x52574b(0x2d0)](_0x17d788,null,0x2)};this[_0x52574b(0x1cb)](_0xe2106b,_0x3258b9,_0x397250),this[_0x52574b(0x6d9)][_0x52574b(0x5b6)](this['instanceName']+'\x20('+this[_0x52574b(0x248)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x17d788 instanceof Error?_0x17d788['message']:JSON[_0x52574b(0x2d0)](_0x17d788,null,0x2)));}}async[a0_0x389422(0x2ff)](_0x2ea172,_0x39f709){const _0x3bfacf=a0_0x389422;if(_0x2ea172[_0x3bfacf(0x467)]||(_0x2ea172[_0x3bfacf(0x467)]=(0x0,Y['v4'])()),_0x39f709!==Ri&&_0x2ea172?.[_0x3bfacf(0x6de)])throw new m(_0x3bfacf(0x59a));if(_0x3bfacf(0x53f)in _0x2ea172&&_0x3bfacf(0x23e)in _0x2ea172)return this[_0x3bfacf(0x85c)](_0x2ea172['owner'],_0x2ea172['_id']);this[_0x3bfacf(0x6d9)][_0x3bfacf(0x2b6)](this[_0x3bfacf(0x33a)]+'\x20('+this['instance'][_0x3bfacf(0x658)]+_0x3bfacf(0x392));let _0x8fde9f=this[_0x3bfacf(0x900)](_0x2ea172['name']),_0x528cc3=new ge[(_0x3bfacf(0x351))][(_0x3bfacf(0x2bc))](),_0x3054a7={'_id':_0x528cc3,'default':!0x0,'title':_0x3bfacf(0x6d2),'x':0x0,'y':0x0},_0x1d8b3e={'_id':new ge[(_0x3bfacf(0x351))][(_0x3bfacf(0x2bc))](),'order':0x1,'groupId':_0x528cc3[_0x3bfacf(0x46e)](),'type':_0x3bfacf(0x564)},_0x111f92=this[_0x3bfacf(0x248)][_0x3bfacf(0x658)],_0x340edb={'_id':(0x0,Y['v4'])(),'owner':_0x111f92,'name':_0x8fde9f,'whoCanEdit':[_0x111f92],'whoCanUse':[_0x111f92],'groups':[_0x3054a7],'blocks':[_0x1d8b3e],..._0x2ea172};try{let _0x369411=await this[_0x3bfacf(0x828)]['flow'][_0x3bfacf(0x8d8)](_0x340edb);return await this[_0x3bfacf(0x1be)](),_0x369411;}catch(_0x2fbfeb){let _0x560b99=_0x3bfacf(0x569),_0x2a6689=_0x2fbfeb instanceof Error?_0x2fbfeb[_0x3bfacf(0x582)]:typeof _0x2fbfeb==_0x3bfacf(0x26d)?JSON['stringify'](_0x2fbfeb):_0x2fbfeb,_0x5ad2c9=_0x560b99+':\x20'+_0x2a6689;throw this['logger'][_0x3bfacf(0x5b6)](this['instanceName']+'\x20('+this[_0x3bfacf(0x248)]['wuid']+_0x3bfacf(0x375)+_0x5ad2c9),new m(_0x5ad2c9);}}async[a0_0x389422(0x85c)](_0x5afffe,_0x4d68bf){const _0xad827d=a0_0x389422;try{this['logger'][_0xad827d(0x2b6)](this[_0xad827d(0x33a)]+'\x20('+this[_0xad827d(0x248)]['wuid']+_0xad827d(0x2d6));let _0x1b63e1=await this[_0xad827d(0x828)]['flow']['findOne']({'where':{'_id':_0x4d68bf,'owner':_0x5afffe}});if(!_0x1b63e1)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x1b63e1[_0xad827d(0x6f0)]===!0x1&&!_0x1b63e1['globalShow'])throw new m(_0xad827d(0x2e1));let _0x2bbe2e=new Set(_0x1b63e1['whoCanUse']??[]);_0x2bbe2e[_0xad827d(0x765)](this[_0xad827d(0x248)]['wuid']);let _0x13ebf1=await this[_0xad827d(0x828)]['flow'][_0xad827d(0x2d5)](_0x4d68bf,{..._0x1b63e1,'whoCanUse':Array['from'](_0x2bbe2e)});return await this[_0xad827d(0x1be)](),_0x13ebf1;}catch(_0x434efb){let _0xd6b3e7='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x479131=_0x434efb instanceof Error?_0x434efb['message']:typeof _0x434efb==_0xad827d(0x26d)?JSON['stringify'](_0x434efb):_0x434efb,_0x174084=_0xd6b3e7+':\x20'+_0x479131;throw this[_0xad827d(0x6d9)][_0xad827d(0x5b6)](this['instanceName']+'\x20('+this[_0xad827d(0x248)]['wuid']+_0xad827d(0x375)+_0x174084),new m(_0x174084);}}[a0_0x389422(0x900)](_0x435ad9){const _0x98096=a0_0x389422;let _0x4302af=_0x435ad9,_0x33dd34=0x1;for(;this[_0x98096(0x346)][_0x98096(0x315)][_0x98096(0x1a2)](_0x1d9cf5=>_0x1d9cf5[_0x98096(0x467)]===_0x4302af);)_0x33dd34++,_0x4302af=_0x435ad9+'\x20('+_0x33dd34+')';return _0x4302af;}async['deleteFlow'](_0x2b0c69){const _0x5d25bd=a0_0x389422;try{if(this[_0x5d25bd(0x6d9)][_0x5d25bd(0x2b6)](this[_0x5d25bd(0x33a)]+'\x20('+this[_0x5d25bd(0x248)][_0x5d25bd(0x658)]+_0x5d25bd(0x397)+_0x2b0c69['_id']+_0x5d25bd(0x552)+_0x2b0c69['global']),!this[_0x5d25bd(0x346)][_0x5d25bd(0x315)]['find'](_0xb56289=>_0xb56289['_id']===_0x2b0c69['_id']))throw this['logger'][_0x5d25bd(0x2b6)](this[_0x5d25bd(0x33a)]+'\x20('+this[_0x5d25bd(0x248)][_0x5d25bd(0x658)]+_0x5d25bd(0x23b)+_0x2b0c69[_0x5d25bd(0x53f)]+_0x5d25bd(0x426)),new m(_0x5d25bd(0x46b));let _0x55d340=await this[_0x5d25bd(0x828)][_0x5d25bd(0x8b8)]['findOne']({'where':{'_id':_0x2b0c69['_id']}});if(!_0x55d340)throw new m(_0x5d25bd(0x530));if(this[_0x5d25bd(0x248)][_0x5d25bd(0x658)]===_0x55d340[_0x5d25bd(0x23e)]){this['logger'][_0x5d25bd(0x2b6)](this[_0x5d25bd(0x33a)]+'\x20('+this[_0x5d25bd(0x248)][_0x5d25bd(0x658)]+_0x5d25bd(0x501)+_0x2b0c69[_0x5d25bd(0x53f)]+_0x5d25bd(0x2ab));let _0x8e045c=await this[_0x5d25bd(0x828)][_0x5d25bd(0x8b8)]['deleteOne']({'where':{'_id':_0x2b0c69[_0x5d25bd(0x53f)]}});return await this[_0x5d25bd(0x1be)](),_0x8e045c;}return this[_0x5d25bd(0x6d9)][_0x5d25bd(0x2b6)](this[_0x5d25bd(0x33a)]+'\x20('+this['instance'][_0x5d25bd(0x658)]+_0x5d25bd(0x88d)+this[_0x5d25bd(0x248)][_0x5d25bd(0x658)]+_0x5d25bd(0x4c9)+_0x2b0c69['_id']+_0x5d25bd(0x84e)),_0x55d340[_0x5d25bd(0x7ee)]=(_0x55d340[_0x5d25bd(0x7ee)]??[])[_0x5d25bd(0x7ab)](_0x3b02df=>_0x3b02df!==this['instance']['wuid']),_0x55d340[_0x5d25bd(0x620)]=(_0x55d340[_0x5d25bd(0x620)]??[])[_0x5d25bd(0x7ab)](_0xa4253e=>_0xa4253e!==this[_0x5d25bd(0x248)][_0x5d25bd(0x658)]),_0x55d340[_0x5d25bd(0x620)][_0x5d25bd(0x7d0)]===0x0&&_0x55d340[_0x5d25bd(0x7ee)]['length']>0x0&&(_0x55d340['whoCanEdit'][_0x5d25bd(0x3ae)](_0x55d340['whoCanUse'][0x0]),this[_0x5d25bd(0x6d9)][_0x5d25bd(0x2b6)](this[_0x5d25bd(0x33a)]+'\x20('+this[_0x5d25bd(0x248)][_0x5d25bd(0x658)]+_0x5d25bd(0x4fa)+_0x55d340[_0x5d25bd(0x7ee)][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0x2b0c69[_0x5d25bd(0x53f)]+_0x5d25bd(0x84e))),await this[_0x5d25bd(0x828)][_0x5d25bd(0x8b8)][_0x5d25bd(0x2d5)](_0x55d340[_0x5d25bd(0x53f)],_0x55d340),await this[_0x5d25bd(0x1be)](),{'message':'Fluxo\x20\x27'+_0x2b0c69[_0x5d25bd(0x467)]+_0x5d25bd(0x404)};}catch(_0x44bd81){return this[_0x5d25bd(0x6d9)][_0x5d25bd(0x5b6)](this['instanceName']+'\x20('+this[_0x5d25bd(0x248)]['wuid']+_0x5d25bd(0x8a1)+(_0x44bd81 instanceof Error?_0x44bd81[_0x5d25bd(0x582)]:JSON[_0x5d25bd(0x2d0)](_0x44bd81,null,0x2))),{'message':_0x5d25bd(0x23a)+(_0x44bd81 instanceof Error?_0x44bd81[_0x5d25bd(0x582)]:JSON['stringify'](_0x44bd81,null,0x2))};}}async[a0_0x389422(0x6e2)](_0xfff689){const _0x5da354=a0_0x389422;try{if(this[_0x5da354(0x6d9)][_0x5da354(0x379)](this[_0x5da354(0x33a)]+'\x20('+this[_0x5da354(0x248)][_0x5da354(0x658)]+_0x5da354(0x21e)+_0xfff689),!this[_0x5da354(0x346)]&&(await this[_0x5da354(0x87a)](),!this['AutomateSystem']))return null;let _0x24c66e=await this[_0x5da354(0x828)][_0x5da354(0x8b8)][_0x5da354(0x892)]({'where':{'_id':_0xfff689}});if(!_0x24c66e)throw new m('Fluxo\x20id\x20\x27'+_0xfff689+_0x5da354(0x590));if(!(_0x24c66e[_0x5da354(0x6de)]||_0x24c66e[_0x5da354(0x7ee)]?.[_0x5da354(0x908)](this[_0x5da354(0x248)][_0x5da354(0x658)])))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27'+name+'\x27');_0x24c66e[_0x5da354(0x6de)]&&!_0x24c66e[_0x5da354(0x7ee)]?.[_0x5da354(0x908)](this[_0x5da354(0x248)][_0x5da354(0x658)])&&(_0x24c66e[_0x5da354(0x7ee)]=[..._0x24c66e[_0x5da354(0x7ee)]??[],this[_0x5da354(0x248)][_0x5da354(0x658)]],await this[_0x5da354(0x828)]['flow'][_0x5da354(0x2d5)](_0x24c66e[_0x5da354(0x53f)],_0x24c66e),this[_0x5da354(0x1be)]());let _0x2cc0bc=this[_0x5da354(0x346)]?.[_0x5da354(0x59d)][_0x5da354(0x3ea)](_0x2f598f=>_0x2f598f[_0x5da354(0x467)]),_0x8224b=['nome',_0x5da354(0x4d6),_0x5da354(0x4ea),_0x5da354(0x4e1),_0x5da354(0x3d8),_0x5da354(0x69a),_0x5da354(0x807),'tags','etiquetas',_0x5da354(0x3db),'atendimentoAberto'];_0x24c66e[_0x5da354(0x4a3)]=_0x24c66e[_0x5da354(0x4a3)][_0x5da354(0x7ab)](_0x3b052b=>!(_0x3b052b[_0x5da354(0x340)]===_0x5da354(0x8cc)||_0x3b052b[_0x5da354(0x8cc)])),_0x8224b[_0x5da354(0x785)](_0x2a270e=>{const _0x28ed29=_0x5da354;_0x24c66e[_0x28ed29(0x4a3)][_0x28ed29(0x3ae)]({'folder':_0x28ed29(0x8cc),'name':_0x2a270e,'value':'','doc':'','leadInfo':!0x0});}),_0x2cc0bc['forEach'](_0x4b5797=>{const _0x4093f0=_0x5da354;let _0x373866=_0x24c66e[_0x4093f0(0x4a3)][_0x4093f0(0x548)](_0x16eb58=>_0x16eb58[_0x4093f0(0x467)]===_0x4b5797);_0x373866===-0x1?_0x24c66e[_0x4093f0(0x4a3)]['push']({'folder':_0x4093f0(0x8cc),'name':_0x4b5797,'value':'','doc':'','leadInfo':!0x0}):(_0x24c66e[_0x4093f0(0x4a3)][_0x373866][_0x4093f0(0x340)]=_0x4093f0(0x8cc),_0x24c66e[_0x4093f0(0x4a3)][_0x373866][_0x4093f0(0x8cc)]=!0x0);}),_0x24c66e[_0x5da354(0x78b)]&&_0x24c66e[_0x5da354(0x78b)][_0x5da354(0x7d0)]>0x0&&_0x24c66e[_0x5da354(0x78b)][_0x5da354(0x785)](_0x1584a3=>{const _0x36cd24=_0x5da354;_0x1584a3[_0x36cd24(0x1f0)]&&_0x1584a3[_0x36cd24(0x407)]&&_0x1584a3[_0x36cd24(0x1f0)]===_0x1584a3[_0x36cd24(0x407)]&&(_0x1584a3[_0x36cd24(0x407)]=null);});let _0x3c44be=await this['repository'][_0x5da354(0x8b8)][_0x5da354(0x2d5)](_0x24c66e[_0x5da354(0x53f)],_0x24c66e);if(!_0x3c44be)throw new Error(_0x5da354(0x1ef));return _0x3c44be;}catch(_0x3ec995){let _0x428a29=_0x5da354(0x56d),_0x30a36d=_0x3ec995 instanceof Error?_0x3ec995['message']:typeof _0x3ec995==_0x5da354(0x26d)?JSON[_0x5da354(0x2d0)](_0x3ec995):_0x3ec995,_0xbabdc6=_0x428a29+':\x20'+_0x30a36d;throw this[_0x5da354(0x6d9)][_0x5da354(0x5b6)](this[_0x5da354(0x33a)]+'\x20('+this['instance'][_0x5da354(0x658)]+_0x5da354(0x375)+_0xbabdc6),new m(_0xbabdc6);}}async[a0_0x389422(0x6f4)](){const _0x4d80ee=a0_0x389422;try{this[_0x4d80ee(0x6d9)][_0x4d80ee(0x2b6)](this['instanceName']+'\x20('+this[_0x4d80ee(0x248)][_0x4d80ee(0x658)]+_0x4d80ee(0x5f2)),await this[_0x4d80ee(0x1be)]();let _0x3b55df=await this[_0x4d80ee(0x828)]['flow'][_0x4d80ee(0x400)]({'where':{'globalShow':!0x0}});return[...this['AutomateSystem'][_0x4d80ee(0x315)],..._0x3b55df];}catch(_0x165fae){return this[_0x4d80ee(0x6d9)][_0x4d80ee(0x5b6)](this['instanceName']+'\x20('+this[_0x4d80ee(0x248)][_0x4d80ee(0x658)]+_0x4d80ee(0x574)+(_0x165fae instanceof Error?_0x165fae[_0x4d80ee(0x582)]:JSON[_0x4d80ee(0x2d0)](_0x165fae,null,0x2))),{'message':_0x4d80ee(0x425)+(_0x165fae instanceof Error?_0x165fae['message']:String(_0x165fae))};}}async['editFlow'](_0x28c365,_0x403378){const _0x426a65=a0_0x389422;try{this[_0x426a65(0x6d9)][_0x426a65(0x2b6)](this[_0x426a65(0x33a)]+'\x20('+this[_0x426a65(0x248)][_0x426a65(0x658)]+_0x426a65(0x4ac));let _0x187c80=this[_0x426a65(0x346)][_0x426a65(0x315)][_0x426a65(0x428)](_0x12ce03=>_0x12ce03[_0x426a65(0x53f)]===_0x28c365[_0x426a65(0x53f)]);if(!_0x187c80)throw this[_0x426a65(0x6d9)][_0x426a65(0x2b6)](this[_0x426a65(0x33a)]+'\x20('+this[_0x426a65(0x248)][_0x426a65(0x658)]+_0x426a65(0x23b)+_0x28c365[_0x426a65(0x53f)]+_0x426a65(0x426)),new m(_0x426a65(0x46b));let _0x41f680=await this[_0x426a65(0x828)][_0x426a65(0x8b8)][_0x426a65(0x892)]({'where':{'_id':_0x28c365[_0x426a65(0x53f)]}});if(!_0x41f680||!_0x41f680[_0x426a65(0x7ee)]?.[_0x426a65(0x908)](this['instance']['wuid']))throw this[_0x426a65(0x6d9)]['error'](this['instanceName']+'\x20('+this[_0x426a65(0x248)]['wuid']+_0x426a65(0x694)+_0x28c365[_0x426a65(0x53f)]+_0x426a65(0x88b)),new m(_0x426a65(0x58e)+_0x28c365[_0x426a65(0x53f)]+_0x426a65(0x88b));let _0x1d66c0=this[_0x426a65(0x346)][_0x426a65(0x315)][_0x426a65(0x548)](_0x5eba4f=>_0x5eba4f['_id']===_0x187c80[_0x426a65(0x53f)]);if(_0x1d66c0!==-0x1){let _0x335d7b=this[_0x426a65(0x346)][_0x426a65(0x315)][_0x1d66c0];if(_0x335d7b[_0x426a65(0x467)]=_0x28c365['name']??_0x335d7b[_0x426a65(0x467)],_0x335d7b[_0x426a65(0x37f)]=_0x28c365[_0x426a65(0x37f)]??_0x335d7b[_0x426a65(0x37f)],_0x335d7b[_0x426a65(0x810)]=_0x28c365[_0x426a65(0x810)]??_0x335d7b['testingWith'],_0x335d7b[_0x426a65(0x31b)]=_0x28c365[_0x426a65(0x652)]??_0x335d7b[_0x426a65(0x31b)],_0x335d7b[_0x426a65(0x896)]=_0x28c365['minutesToClose']??_0x335d7b[_0x426a65(0x896)],_0x335d7b['readMessages']=_0x28c365[_0x426a65(0x65a)]??_0x335d7b[_0x426a65(0x65a)],_0x28c365[_0x426a65(0x37f)]&&this[_0x426a65(0x346)][_0x426a65(0x315)][_0x426a65(0x785)]((_0x2e1e49,_0x1ac876)=>{const _0x38c700=_0x426a65;_0x1ac876!==_0x1d66c0&&(_0x2e1e49[_0x38c700(0x37f)]=!0x1);}),this[_0x426a65(0x346)][_0x426a65(0x315)][_0x1d66c0]=_0x335d7b,!await this[_0x426a65(0x828)]['automateSystem']['update']({'flows':this['AutomateSystem'][_0x426a65(0x315)]},this[_0x426a65(0x248)]['wuid']))throw new m(_0x426a65(0x2c1));}let _0x49c516=[_0x426a65(0x43a),'startID',_0x426a65(0x369),_0x426a65(0x4dc)];for(let _0x57a001 of _0x49c516)delete _0x28c365[_0x57a001];if(_0x41f680['whoCanEdit']?.['includes'](this[_0x426a65(0x248)][_0x426a65(0x658)])||(_0x28c365={'_id':_0x28c365[_0x426a65(0x53f)]}),_0x403378!==Ri&&_0x28c365?.[_0x426a65(0x6de)]&&!_0x41f680?.['globalShow'])throw new m(_0x426a65(0x31a));let _0x30b4b5=new Set(_0x28c365[_0x426a65(0x620)]??_0x41f680[_0x426a65(0x620)]);_0x30b4b5['add'](_0x41f680['owner']);let _0x290858=new Set(_0x28c365[_0x426a65(0x7ee)]??_0x41f680[_0x426a65(0x7ee)]??[]);_0x30b4b5[_0x426a65(0x785)](_0x58cbe1=>_0x290858[_0x426a65(0x765)](_0x58cbe1)),_0x290858[_0x426a65(0x765)](_0x41f680[_0x426a65(0x23e)]),this[_0x426a65(0x6d9)][_0x426a65(0x2b6)](this[_0x426a65(0x33a)]+'\x20('+this[_0x426a65(0x248)][_0x426a65(0x658)]+_0x426a65(0x1f5)+Array['from'](_0x30b4b5)),this[_0x426a65(0x6d9)][_0x426a65(0x2b6)](this[_0x426a65(0x33a)]+'\x20('+this['instance']['wuid']+_0x426a65(0x41a)+Array[_0x426a65(0x46a)](_0x290858));let _0xb354a=await this[_0x426a65(0x24f)](Array[_0x426a65(0x46a)](_0x290858)),_0x44d45a=Array[_0x426a65(0x46a)](_0x30b4b5)[_0x426a65(0x7ab)](_0x20481e=>_0xb354a['includes'](_0x20481e)),_0x36edaa=Array[_0x426a65(0x46a)](_0x290858)['filter'](_0xfce601=>_0xb354a[_0x426a65(0x908)](_0xfce601));this[_0x426a65(0x6d9)][_0x426a65(0x2b6)](this[_0x426a65(0x33a)]+'\x20('+this['instance'][_0x426a65(0x658)]+_0x426a65(0x674)+_0x44d45a),this[_0x426a65(0x6d9)][_0x426a65(0x2b6)](this[_0x426a65(0x33a)]+'\x20('+this[_0x426a65(0x248)]['wuid']+_0x426a65(0x2ce)+_0x36edaa);let _0x4ff72d={..._0x41f680,..._0x28c365,'whoCanEdit':_0x44d45a,'whoCanUse':_0x36edaa},_0x38e43e=await this[_0x426a65(0x828)][_0x426a65(0x8b8)][_0x426a65(0x2d5)](_0x41f680[_0x426a65(0x53f)],_0x4ff72d);return await this[_0x426a65(0x1be)](),_0x38e43e;}catch(_0x376547){let _0x141f00=_0x426a65(0x787),_0x28aaa9=_0x376547 instanceof Error?_0x376547[_0x426a65(0x582)]:typeof _0x376547==_0x426a65(0x26d)?JSON['stringify'](_0x376547):_0x376547,_0x414ff1=_0x141f00+':\x20'+_0x28aaa9;throw this[_0x426a65(0x6d9)]['error'](this[_0x426a65(0x33a)]+'\x20('+this[_0x426a65(0x248)]['wuid']+_0x426a65(0x375)+_0x414ff1),new m(_0x414ff1);}}async[a0_0x389422(0x24f)](_0x21eb50){const _0x302c62=a0_0x389422;let _0x584efe={'numbers':_0x21eb50};return(await this[_0x302c62(0x8d4)](_0x584efe))[_0x302c62(0x7ab)](_0x1ba7d9=>_0x1ba7d9[_0x302c62(0x575)])[_0x302c62(0x3ea)](_0x4f29a3=>_0x4f29a3[_0x302c62(0x3aa)])['map'](_0x5b9533=>this[_0x302c62(0x72c)](_0x5b9533));}[a0_0x389422(0x72c)](_0x21dd62){const _0x2ded8c=a0_0x389422;let _0x2a3281=_0x21dd62[_0x2ded8c(0x6c1)](/\d+/);return _0x2a3281?_0x2a3281[0x0]:'';}async[a0_0x389422(0x5bf)](_0x16b3f5){const _0x1f4d3c=a0_0x389422;try{if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1f4d3c(0x248)][_0x1f4d3c(0x658)]+_0x1f4d3c(0x3da)),!this[_0x1f4d3c(0x346)][_0x1f4d3c(0x315)][_0x1f4d3c(0x428)](_0x39c3dc=>_0x39c3dc[_0x1f4d3c(0x53f)]===_0x16b3f5['_id']))throw this['logger']['verbose'](this[_0x1f4d3c(0x33a)]+'\x20('+this[_0x1f4d3c(0x248)]['wuid']+_0x1f4d3c(0x23b)+_0x16b3f5[_0x1f4d3c(0x53f)]+_0x1f4d3c(0x426)),new m(_0x1f4d3c(0x46b));let _0x13d11=await this['repository'][_0x1f4d3c(0x8b8)][_0x1f4d3c(0x892)]({'where':{'_id':_0x16b3f5[_0x1f4d3c(0x53f)]}});if(!_0x13d11||!_0x13d11['whoCanUse']?.[_0x1f4d3c(0x908)](this['instance'][_0x1f4d3c(0x658)]))throw this[_0x1f4d3c(0x6d9)][_0x1f4d3c(0x5b6)](this[_0x1f4d3c(0x33a)]+'\x20('+this['instance'][_0x1f4d3c(0x658)]+'):\x20Flow\x20\x27'+_0x16b3f5[_0x1f4d3c(0x53f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x1f4d3c(0x58e)+_0x16b3f5[_0x1f4d3c(0x53f)]+_0x1f4d3c(0x88b));if(!_0x13d11[_0x1f4d3c(0x620)]?.[_0x1f4d3c(0x908)](this[_0x1f4d3c(0x248)][_0x1f4d3c(0x658)]))throw new m(_0x1f4d3c(0x794));let {block:_0x3bf9c0}=_0x16b3f5;_0x3bf9c0?.[_0x1f4d3c(0x4fb)]?this[_0x1f4d3c(0x204)](_0x13d11,_0x16b3f5):_0x3bf9c0?.[_0x1f4d3c(0x216)]?this[_0x1f4d3c(0x2fd)](_0x13d11,_0x16b3f5):_0x3bf9c0[_0x1f4d3c(0x53f)]?await this[_0x1f4d3c(0x6ed)](_0x13d11,_0x16b3f5):this[_0x1f4d3c(0x7b3)](_0x13d11,_0x16b3f5);let _0x24323c=await this[_0x1f4d3c(0x828)][_0x1f4d3c(0x8b8)][_0x1f4d3c(0x2d5)](_0x13d11[_0x1f4d3c(0x53f)],_0x13d11);if(!_0x24323c)throw new Error(_0x1f4d3c(0x1ef));return _0x24323c;}catch(_0x39bace){this[_0x1f4d3c(0x2d2)](_0x1f4d3c(0x588)+_0x39bace[_0x1f4d3c(0x582)]);}}async['copyBlock'](_0x1085e1,_0x525342){const _0x695074=a0_0x389422;let _0x43c9b8=_0x525342[_0x695074(0x68f)][_0x695074(0x53f)],_0x4d1cae=_0x1085e1[_0x695074(0x78b)][_0x695074(0x428)](_0xd8bb2e=>_0xd8bb2e[_0x695074(0x53f)][_0x695074(0x46e)]()===_0x43c9b8);if(!_0x4d1cae){this[_0x695074(0x6d9)]['error'](this[_0x695074(0x33a)]+'\x20('+this[_0x695074(0x248)][_0x695074(0x658)]+_0x695074(0x333)+_0x43c9b8+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x695074(0x6d9)]['verbose'](this[_0x695074(0x33a)]+'\x20('+this[_0x695074(0x248)]['wuid']+_0x695074(0x580)+JSON[_0x695074(0x2d0)](_0x4d1cae));let _0x2dd72f=JSON[_0x695074(0x47e)](JSON['stringify'](_0x4d1cae));_0x2dd72f['_id']=new ge[(_0x695074(0x37f))][(_0x695074(0x351))][(_0x695074(0x2bc))](),this[_0x695074(0x6d9)]['verbose'](this[_0x695074(0x33a)]+'\x20('+this[_0x695074(0x248)][_0x695074(0x658)]+_0x695074(0x8aa)+JSON[_0x695074(0x2d0)](_0x2dd72f)),_0x1085e1['blocks']['push'](_0x2dd72f),this[_0x695074(0x3b4)](_0x1085e1[_0x695074(0x78b)],_0x2dd72f[_0x695074(0x1f0)]);}[a0_0x389422(0x2d2)](_0x2386e8){const _0x5633d6=a0_0x389422;throw this[_0x5633d6(0x6d9)]['error'](this['instanceName']+'\x20('+this['instance'][_0x5633d6(0x658)]+'):\x20'+_0x2386e8),new m(_0x2386e8);}[a0_0x389422(0x2fd)](_0x821221,_0x1d800b){const _0x4f7eb4=a0_0x389422;let {block:_0xa5d576}=_0x1d800b;if(_0xa5d576[_0x4f7eb4(0x3e0)]===_0x4f7eb4(0x564)){this['throwAndLogError']('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0xa5d576[_0x4f7eb4(0x53f)]){this[_0x4f7eb4(0x2d2)](_0x4f7eb4(0x255));return;}let _0x467949=_0x821221[_0x4f7eb4(0x78b)][_0x4f7eb4(0x428)](_0x443187=>_0x443187[_0x4f7eb4(0x53f)]['toString']()===_0x1d800b['block']['_id'][_0x4f7eb4(0x46e)]());if(!_0x467949){this[_0x4f7eb4(0x2d2)]('Bloco\x20com\x20ID\x20'+_0xa5d576[_0x4f7eb4(0x53f)]+_0x4f7eb4(0x544));return;}_0x821221[_0x4f7eb4(0x78b)]=_0x821221[_0x4f7eb4(0x78b)]['filter'](_0x92e8f2=>_0x92e8f2[_0x4f7eb4(0x53f)][_0x4f7eb4(0x46e)]()!==_0x1d800b[_0x4f7eb4(0x68f)][_0x4f7eb4(0x53f)][_0x4f7eb4(0x46e)]()),_0x821221[_0x4f7eb4(0x6d7)]=_0x821221[_0x4f7eb4(0x6d7)][_0x4f7eb4(0x7ab)](_0x56b612=>_0x56b612[_0x4f7eb4(0x2e2)]!==_0xa5d576[_0x4f7eb4(0x53f)]['toString']()),_0x821221['varedits']=_0x821221[_0x4f7eb4(0x260)]['filter'](_0x237e29=>_0x237e29['blockId']!==_0xa5d576['_id'][_0x4f7eb4(0x46e)]()),_0x821221[_0x4f7eb4(0x6fb)]=_0x821221[_0x4f7eb4(0x6fb)][_0x4f7eb4(0x7ab)](_0xee99e2=>_0xee99e2[_0x4f7eb4(0x2e2)]!==_0xa5d576[_0x4f7eb4(0x53f)][_0x4f7eb4(0x46e)]()),this[_0x4f7eb4(0x3b4)](_0x821221[_0x4f7eb4(0x78b)],_0x467949[_0x4f7eb4(0x1f0)]);}async[a0_0x389422(0x6ed)](_0x21e895,_0x3ba058){const _0x595adc=a0_0x389422;let _0x4753a3=_0x21e895[_0x595adc(0x78b)]['findIndex'](_0x6973e9=>_0x6973e9[_0x595adc(0x53f)][_0x595adc(0x46e)]()===_0x3ba058[_0x595adc(0x68f)]['_id'][_0x595adc(0x46e)]());if(this[_0x595adc(0x6d9)][_0x595adc(0x2b6)](this[_0x595adc(0x33a)]+'\x20('+this['instance'][_0x595adc(0x658)]+_0x595adc(0x37e)+_0x4753a3),_0x4753a3===-0x1){this['logger'][_0x595adc(0x2b6)]('Bloco\x20com\x20ID\x20'+_0x3ba058['block'][_0x595adc(0x53f)]+_0x595adc(0x5c1));return;}if(_0x21e895[_0x595adc(0x78b)][_0x4753a3][_0x595adc(0x3e0)]==='start'){let _0x481042=Object[_0x595adc(0x8b0)](_0x3ba058[_0x595adc(0x68f)]);if(_0x481042[_0x595adc(0x7d0)]>0x2||_0x481042[_0x595adc(0x7d0)]===0x2&&!_0x481042[_0x595adc(0x908)]('next_groupId')){this[_0x595adc(0x2d2)](_0x595adc(0x3b5));return;}}let _0x3b3930=_0x21e895[_0x595adc(0x78b)][_0x4753a3][_0x595adc(0x1f0)];for(let _0x1e1948 in _0x3ba058['block'])_0x3ba058['block'][_0x595adc(0x550)](_0x1e1948)&&(_0x21e895[_0x595adc(0x78b)][_0x4753a3][_0x1e1948]=_0x3ba058[_0x595adc(0x68f)][_0x1e1948]);if(this[_0x595adc(0x6d9)][_0x595adc(0x2b6)](this['instanceName']+'\x20('+this['instance'][_0x595adc(0x658)]+_0x595adc(0x617)+JSON[_0x595adc(0x2d0)](_0x21e895['blocks'][_0x4753a3])),_0x21e895[_0x595adc(0x78b)][_0x4753a3][_0x595adc(0x42e)]&&_0x595adc(0x376)in _0x21e895['blocks'][_0x4753a3][_0x595adc(0x42e)]){this[_0x595adc(0x6d9)][_0x595adc(0x2b6)](this['instanceName']+'\x20('+this[_0x595adc(0x248)][_0x595adc(0x658)]+_0x595adc(0x741));let _0x22b03a=JSON[_0x595adc(0x2d0)](_0x21e895['blocks'][_0x4753a3][_0x595adc(0x42e)]['header'],null,0x1);_0x22b03a[_0x595adc(0x7d0)]>0x2&&(_0x22b03a=_0x22b03a[_0x595adc(0x728)](0x1,_0x22b03a[_0x595adc(0x7d0)]-0x1)[_0x595adc(0x29d)]()),_0x21e895[_0x595adc(0x78b)][_0x4753a3][_0x595adc(0x42e)][_0x595adc(0x37b)]=_0x22b03a;}if(_0x21e895['blocks'][_0x4753a3][_0x595adc(0x42e)]&&_0x595adc(0x8ce)in _0x21e895[_0x595adc(0x78b)][_0x4753a3][_0x595adc(0x42e)]&&!(_0x595adc(0x250)in _0x21e895[_0x595adc(0x78b)][_0x4753a3][_0x595adc(0x42e)])){this[_0x595adc(0x6d9)]['verbose'](this[_0x595adc(0x33a)]+'\x20('+this[_0x595adc(0x248)][_0x595adc(0x658)]+_0x595adc(0x3fd)),_0x21e895[_0x595adc(0x78b)][_0x4753a3][_0x595adc(0x42e)][_0x595adc(0x305)]=!0x1;let _0x583534=JSON[_0x595adc(0x2d0)](_0x21e895['blocks'][_0x4753a3][_0x595adc(0x42e)][_0x595adc(0x8ce)],null,0x2);_0x21e895[_0x595adc(0x78b)][_0x4753a3][_0x595adc(0x42e)][_0x595adc(0x250)]=_0x583534;}if(_0x21e895[_0x595adc(0x78b)][_0x4753a3]['apirequest']&&_0x595adc(0x250)in _0x21e895['blocks'][_0x4753a3][_0x595adc(0x42e)]){_0x21e895[_0x595adc(0x78b)][_0x4753a3][_0x595adc(0x42e)][_0x595adc(0x305)]=!0x1;let _0x75c994=_0x21e895['blocks'][_0x4753a3][_0x595adc(0x42e)][_0x595adc(0x250)],_0x53f290=this[_0x595adc(0x507)](_0x75c994);_0x21e895['blocks'][_0x4753a3]['apirequest'][_0x595adc(0x250)]=_0x53f290[_0x595adc(0x679)],_0x21e895[_0x595adc(0x78b)][_0x4753a3][_0x595adc(0x42e)]['bodyStringErrorParse']=_0x53f290[_0x595adc(0x5b6)];}let _0x1ea715=_0x21e895['blocks'][_0x4753a3][_0x595adc(0x1f0)];_0x3b3930!==_0x1ea715?(this[_0x595adc(0x3b4)](_0x21e895[_0x595adc(0x78b)],_0x3b3930),this['reorderBlocks'](_0x21e895[_0x595adc(0x78b)],_0x1ea715)):this[_0x595adc(0x3b4)](_0x21e895[_0x595adc(0x78b)],_0x3b3930);}[a0_0x389422(0x507)](_0x4e46ed){const _0x20eaab=a0_0x389422;let _0x5eb90f='\u205f',_0x31de05=!0x1,_0x1918ea='';for(let _0x9139a0=0x0;_0x9139a0<_0x4e46ed[_0x20eaab(0x7d0)];_0x9139a0++){let _0x3533bd=_0x4e46ed[_0x9139a0];_0x3533bd==='\x22'&&(_0x9139a0===0x0||_0x4e46ed[_0x9139a0-0x1]!=='\x5c')&&(_0x31de05=!_0x31de05),!(!_0x31de05&&(_0x3533bd==='\x0a'||_0x3533bd==='\x20'||_0x3533bd===_0x5eb90f))&&(_0x1918ea+=_0x3533bd);}let _0x48a2ff={},_0x51626b=9876543210.1234,_0x4bd9b4=_0x1918ea[_0x20eaab(0x793)](/\{\{([^}]+)\}\}/g,_0x1e7e54=>{let _0x4e92ac=_0x1e7e54,_0x10d49e=''+_0x51626b;return _0x48a2ff[_0x10d49e]=_0x4e92ac,_0x51626b+=0.0001,_0x10d49e;}),_0x5ea437='',_0x191817=!0x1;try{let _0x31b958=JSON[_0x20eaab(0x47e)](_0x4bd9b4);_0x5ea437=JSON[_0x20eaab(0x2d0)](_0x31b958,null,0x2),_0x5ea437=_0x5ea437[_0x20eaab(0x793)](/\n( +)/g,(_0x40f1ef,_0x271c5f)=>{const _0x599a0d=_0x20eaab;let _0x119cfa=_0x271c5f[_0x599a0d(0x7d0)];return'\x0a'+_0x5eb90f[_0x599a0d(0x280)](_0x119cfa*0x2);}),_0x5ea437=_0x5ea437[_0x20eaab(0x793)](/(\d{10,}\.\d+)/g,_0x26b99b=>_0x48a2ff[_0x26b99b]||_0x26b99b);}catch(_0x3153b7){this[_0x20eaab(0x6d9)][_0x20eaab(0x5b6)]('Error\x20parsing\x20JSON:'+_0x3153b7),_0x5ea437=_0x4e46ed,_0x191817=!0x0;}return{'result':_0x5ea437,'error':_0x191817};}[a0_0x389422(0x7b3)](_0x5e2ffb,_0x373487){const _0x289cca=a0_0x389422;if(_0x373487['block'][_0x289cca(0x3e0)]===_0x289cca(0x564)){this[_0x289cca(0x2d2)](_0x289cca(0x549));return;}if(_0x373487[_0x289cca(0x68f)][_0x289cca(0x42e)]&&_0x289cca(0x376)in _0x373487[_0x289cca(0x68f)][_0x289cca(0x42e)]){this['logger'][_0x289cca(0x2b6)](this[_0x289cca(0x33a)]+'\x20('+this[_0x289cca(0x248)][_0x289cca(0x658)]+_0x289cca(0x741));let _0x4043eb=JSON[_0x289cca(0x2d0)](_0x373487[_0x289cca(0x68f)][_0x289cca(0x42e)][_0x289cca(0x376)],null,0x1);_0x4043eb['length']>0x2&&(_0x4043eb=_0x4043eb['substring'](0x1,_0x4043eb[_0x289cca(0x7d0)]-0x1)[_0x289cca(0x29d)]()),_0x373487[_0x289cca(0x68f)]['apirequest']['headerString']=_0x4043eb;}_0x373487['block'][_0x289cca(0x42e)]&&'body'in _0x373487[_0x289cca(0x68f)]['apirequest']&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x289cca(0x248)]['wuid']+_0x289cca(0x3fd)),_0x373487[_0x289cca(0x68f)][_0x289cca(0x42e)]['bodyString']=JSON[_0x289cca(0x2d0)](_0x373487['block']['apirequest']['body'],null,0x1)[_0x289cca(0x29d)]()),_0x5e2ffb[_0x289cca(0x78b)][_0x289cca(0x3ae)](_0x373487[_0x289cca(0x68f)]),this[_0x289cca(0x3b4)](_0x5e2ffb[_0x289cca(0x78b)],_0x373487[_0x289cca(0x68f)][_0x289cca(0x1f0)]);}[a0_0x389422(0x3b4)](_0x379729,_0x9a2cb1){const _0x366c9c=a0_0x389422;let _0x5b1ff8=_0x379729[_0x366c9c(0x7ab)](_0x49948b=>_0x49948b[_0x366c9c(0x1f0)]===_0x9a2cb1);_0x5b1ff8[_0x366c9c(0x1fa)]((_0x504f31,_0x36d778)=>_0x504f31[_0x366c9c(0x29c)]-_0x36d778[_0x366c9c(0x29c)]),_0x5b1ff8[_0x366c9c(0x785)]((_0xd55fe2,_0x511527)=>_0xd55fe2[_0x366c9c(0x29c)]=_0x511527+0x1);}async[a0_0x389422(0x4b9)](_0x58e912){const _0x1af01c=a0_0x389422;try{if(this[_0x1af01c(0x6d9)][_0x1af01c(0x2b6)](this[_0x1af01c(0x33a)]+'\x20('+this[_0x1af01c(0x248)][_0x1af01c(0x658)]+_0x1af01c(0x7e5)),!_0x58e912||!_0x58e912['replyOption']){this[_0x1af01c(0x2d2)]('Data\x20inválida\x20fornecida');return;}if(!this['AutomateSystem'][_0x1af01c(0x315)][_0x1af01c(0x428)](_0x163cbb=>_0x163cbb[_0x1af01c(0x53f)]===_0x58e912['_id']))throw this[_0x1af01c(0x6d9)][_0x1af01c(0x2b6)](this['instanceName']+'\x20('+this[_0x1af01c(0x248)][_0x1af01c(0x658)]+'):\x20Fluxo\x20\x27'+_0x58e912[_0x1af01c(0x53f)]+_0x1af01c(0x426)),new m(_0x1af01c(0x46b));let _0x9b5434=await this[_0x1af01c(0x828)][_0x1af01c(0x8b8)][_0x1af01c(0x892)]({'where':{'_id':_0x58e912[_0x1af01c(0x53f)]}});if(!_0x9b5434||!_0x9b5434[_0x1af01c(0x7ee)]?.[_0x1af01c(0x908)](this['instance'][_0x1af01c(0x658)]))throw this[_0x1af01c(0x6d9)][_0x1af01c(0x5b6)](this[_0x1af01c(0x33a)]+'\x20('+this['instance']['wuid']+_0x1af01c(0x694)+_0x58e912[_0x1af01c(0x53f)]+_0x1af01c(0x88b)),new m(_0x1af01c(0x58e)+_0x58e912['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x9b5434[_0x1af01c(0x620)]?.[_0x1af01c(0x908)](this['instance'][_0x1af01c(0x658)]))throw new m(_0x1af01c(0x794));let {replyOption:_0xd4b691}=_0x58e912;_0xd4b691?.[_0x1af01c(0x216)]?(this[_0x1af01c(0x42a)](_0x9b5434,_0x58e912),this['reorderReplyOptions'](_0x9b5434[_0x1af01c(0x6fb)],_0x58e912[_0x1af01c(0x894)][_0x1af01c(0x2e2)])):_0xd4b691['_id']?(await this[_0x1af01c(0x70d)](_0x9b5434,_0x58e912),this[_0x1af01c(0x1d9)](_0x9b5434[_0x1af01c(0x6fb)],_0x58e912[_0x1af01c(0x894)][_0x1af01c(0x2e2)])):(this[_0x1af01c(0x54a)](_0x9b5434,_0x58e912),this[_0x1af01c(0x1d9)](_0x9b5434[_0x1af01c(0x6fb)],_0x58e912[_0x1af01c(0x894)]['blockId']));let _0x350f11=await this[_0x1af01c(0x828)][_0x1af01c(0x8b8)][_0x1af01c(0x2d5)](_0x9b5434['_id'],_0x9b5434);if(!_0x350f11)throw new Error(_0x1af01c(0x1ef));return _0x350f11;}catch(_0x4d3d7d){this[_0x1af01c(0x2d2)](_0x1af01c(0x64d)+_0x4d3d7d);}}[a0_0x389422(0x1d9)](_0x46641b,_0x3af11f){const _0x80afeb=a0_0x389422;_0x46641b['forEach'](_0x534a90=>{const _0x5538b7=a0_0x3fdd;_0x534a90[_0x5538b7(0x2e2)]===_0x3af11f&&_0x534a90['order']===void 0x0&&(_0x534a90['order']=0x270f);});let _0xd00130=_0x46641b[_0x80afeb(0x7ab)](_0x16ade9=>_0x16ade9['blockId']===_0x3af11f);_0xd00130[_0x80afeb(0x1fa)]((_0x54da25,_0x278604)=>_0x54da25[_0x80afeb(0x29c)]-_0x278604[_0x80afeb(0x29c)]),_0xd00130['forEach']((_0x43c2a2,_0x88e5ee)=>{const _0x584c39=_0x80afeb;_0x43c2a2[_0x584c39(0x29c)]=_0x88e5ee+0x1;}),_0x46641b[_0x80afeb(0x785)](_0x5661fa=>{const _0x43e6c3=_0x80afeb;if(_0x5661fa[_0x43e6c3(0x2e2)]===_0x3af11f){let _0x6757f9=_0xd00130[_0x43e6c3(0x428)](_0x3a9051=>_0x3a9051['_id']&&_0x5661fa['_id']&&_0x3a9051[_0x43e6c3(0x53f)][_0x43e6c3(0x46e)]()===_0x5661fa[_0x43e6c3(0x53f)][_0x43e6c3(0x46e)]());_0x6757f9&&(_0x5661fa[_0x43e6c3(0x29c)]=_0x6757f9[_0x43e6c3(0x29c)]);}});}[a0_0x389422(0x42a)](_0x3cf7cb,_0x4fd6c6){const _0xccb713=a0_0x389422;let {replyOption:_0x368790}=_0x4fd6c6;if(!_0x368790[_0xccb713(0x53f)]){this[_0xccb713(0x2d2)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x3cf7cb[_0xccb713(0x6fb)][_0xccb713(0x428)](_0x6534e6=>_0x6534e6[_0xccb713(0x53f)][_0xccb713(0x46e)]()===_0x4fd6c6[_0xccb713(0x894)][_0xccb713(0x53f)]['toString']())){this['throwAndLogError'](_0xccb713(0x7a5)+_0x368790[_0xccb713(0x53f)]+_0xccb713(0x544));return;}_0x3cf7cb[_0xccb713(0x6fb)]=_0x3cf7cb[_0xccb713(0x6fb)][_0xccb713(0x7ab)](_0x246cd3=>_0x246cd3['_id']['toString']()!==_0x4fd6c6[_0xccb713(0x894)][_0xccb713(0x53f)][_0xccb713(0x46e)]());}async[a0_0x389422(0x70d)](_0x493561,_0x143fff){const _0x41e49b=a0_0x389422;let _0x5973dc=_0x493561[_0x41e49b(0x6fb)][_0x41e49b(0x548)](_0x3860ae=>_0x3860ae[_0x41e49b(0x53f)][_0x41e49b(0x46e)]()===_0x143fff[_0x41e49b(0x894)]['_id'][_0x41e49b(0x46e)]());if(_0x5973dc===-0x1){this[_0x41e49b(0x2d2)](_0x41e49b(0x7a5)+_0x143fff[_0x41e49b(0x894)][_0x41e49b(0x53f)]+_0x41e49b(0x5c1));return;}for(let _0x7d0dcf in _0x143fff[_0x41e49b(0x894)])_0x143fff[_0x41e49b(0x894)][_0x41e49b(0x550)](_0x7d0dcf)&&(_0x493561[_0x41e49b(0x6fb)][_0x5973dc][_0x7d0dcf]=_0x143fff[_0x41e49b(0x894)][_0x7d0dcf]);}[a0_0x389422(0x54a)](_0x2a9e8f,_0x168620){const _0x489e0c=a0_0x389422;_0x2a9e8f[_0x489e0c(0x6fb)][_0x489e0c(0x3ae)](_0x168620[_0x489e0c(0x894)]);}async['editFlowGroup'](_0x5f0d18){const _0x55de36=a0_0x389422;this[_0x55de36(0x6d9)][_0x55de36(0x2b6)](this[_0x55de36(0x33a)]+'\x20('+this['instance'][_0x55de36(0x658)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20'+JSON[_0x55de36(0x2d0)](_0x5f0d18,null,0x2));try{if(this[_0x55de36(0x6d9)][_0x55de36(0x2b6)](this[_0x55de36(0x33a)]+'\x20('+this[_0x55de36(0x248)][_0x55de36(0x658)]+'):\x20Editando\x20grupo\x20do\x20fluxo...'),!this[_0x55de36(0x346)][_0x55de36(0x315)][_0x55de36(0x428)](_0x3c6ef5=>_0x3c6ef5['_id']===_0x5f0d18['_id']))throw this[_0x55de36(0x6d9)][_0x55de36(0x2b6)](this[_0x55de36(0x33a)]+'\x20('+this[_0x55de36(0x248)]['wuid']+_0x55de36(0x23b)+_0x5f0d18['_id']+'\x27\x20não\x20encontrado'),new m(_0x55de36(0x46b));let _0x45fc5b=await this[_0x55de36(0x828)][_0x55de36(0x8b8)]['findOne']({'where':{'_id':_0x5f0d18[_0x55de36(0x53f)]}});if(!_0x45fc5b||!_0x45fc5b[_0x55de36(0x7ee)]?.['includes'](this[_0x55de36(0x248)][_0x55de36(0x658)]))throw this['logger'][_0x55de36(0x5b6)](this[_0x55de36(0x33a)]+'\x20('+this[_0x55de36(0x248)][_0x55de36(0x658)]+_0x55de36(0x694)+_0x5f0d18[_0x55de36(0x53f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x55de36(0x58e)+_0x5f0d18['_id']+_0x55de36(0x88b));if(!_0x45fc5b[_0x55de36(0x620)]?.[_0x55de36(0x908)](this[_0x55de36(0x248)]['wuid']))throw new m(_0x55de36(0x794));if(_0x5f0d18[_0x55de36(0x503)]&&_0x5f0d18['group']?.['delete']===!0x0){if(this[_0x55de36(0x6d9)][_0x55de36(0x2b6)](this[_0x55de36(0x33a)]+'\x20('+this[_0x55de36(0x248)][_0x55de36(0x658)]+_0x55de36(0x43e)),_0x5f0d18[_0x55de36(0x503)][_0x55de36(0x37f)]===!0x0)return{'message':_0x55de36(0x76b)};if(_0x45fc5b[_0x55de36(0x78b)][_0x55de36(0x1a2)](_0x14e44c=>_0x14e44c[_0x55de36(0x1f0)][_0x55de36(0x46e)]()===_0x5f0d18[_0x55de36(0x503)][_0x55de36(0x53f)]))return this[_0x55de36(0x6d9)][_0x55de36(0x2b6)](this['instanceName']+'\x20('+this[_0x55de36(0x248)][_0x55de36(0x658)]+'):\x20tem\x20blocks'),{'message':_0x55de36(0x6cf)};_0x45fc5b['groups']=_0x45fc5b[_0x55de36(0x4cf)][_0x55de36(0x7ab)](_0x145b8d=>_0x145b8d['_id'][_0x55de36(0x46e)]()!==_0x5f0d18[_0x55de36(0x503)]['_id']);}else{if(_0x5f0d18['group']){if(_0x5f0d18['group'][_0x55de36(0x37f)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x5f0d18['group'][_0x55de36(0x53f)]){let _0x4b8ade=_0x45fc5b['groups'][_0x55de36(0x428)](_0xcf0d81=>_0xcf0d81[_0x55de36(0x53f)]['toString']()===_0x5f0d18['group'][_0x55de36(0x53f)]);_0x4b8ade&&(_0x5f0d18['group']['x']<0x0&&(_0x5f0d18[_0x55de36(0x503)]['x']=0x0),_0x5f0d18[_0x55de36(0x503)]['y']<0x0&&(_0x5f0d18[_0x55de36(0x503)]['y']=0x0),Object[_0x55de36(0x8d9)](_0x4b8ade,_0x5f0d18['group']));}else _0x45fc5b['groups'][_0x55de36(0x3ae)](_0x5f0d18['group']);}}let _0x46be27=await this[_0x55de36(0x828)][_0x55de36(0x8b8)][_0x55de36(0x2d5)](_0x45fc5b['_id'],_0x45fc5b);if(!_0x46be27)throw new Error(_0x55de36(0x1ef));return _0x46be27;}catch(_0x5b9015){let _0xcab46d='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x3696ce=_0x5b9015 instanceof Error?_0x5b9015[_0x55de36(0x582)]:typeof _0x5b9015=='object'?JSON[_0x55de36(0x2d0)](_0x5b9015):_0x5b9015,_0x29785f=_0xcab46d+':\x20'+_0x3696ce;throw this[_0x55de36(0x6d9)]['error'](this[_0x55de36(0x33a)]+'\x20('+this[_0x55de36(0x248)][_0x55de36(0x658)]+'):\x20'+_0x29785f),new m(_0x29785f);}}async[a0_0x389422(0x252)](_0x544c68){const _0x16c5eb=a0_0x389422;try{if(this[_0x16c5eb(0x6d9)][_0x16c5eb(0x2b6)](this[_0x16c5eb(0x33a)]+'\x20('+this['instance'][_0x16c5eb(0x658)]+_0x16c5eb(0x265)),!this[_0x16c5eb(0x346)][_0x16c5eb(0x315)][_0x16c5eb(0x428)](_0x59bccc=>_0x59bccc['_id']===_0x544c68[_0x16c5eb(0x53f)]))throw this[_0x16c5eb(0x6d9)][_0x16c5eb(0x2b6)](this['instanceName']+'\x20('+this[_0x16c5eb(0x248)]['wuid']+_0x16c5eb(0x23b)+_0x544c68[_0x16c5eb(0x53f)]+_0x16c5eb(0x426)),new m(_0x16c5eb(0x46b));let _0x1c9993=await this[_0x16c5eb(0x828)][_0x16c5eb(0x8b8)][_0x16c5eb(0x892)]({'where':{'_id':_0x544c68[_0x16c5eb(0x53f)]}});if(!_0x1c9993||!_0x1c9993['whoCanUse']?.['includes'](this['instance'][_0x16c5eb(0x658)]))throw this[_0x16c5eb(0x6d9)][_0x16c5eb(0x5b6)](this[_0x16c5eb(0x33a)]+'\x20('+this[_0x16c5eb(0x248)][_0x16c5eb(0x658)]+_0x16c5eb(0x694)+_0x544c68['_id']+_0x16c5eb(0x88b)),new m(_0x16c5eb(0x58e)+_0x544c68[_0x16c5eb(0x53f)]+_0x16c5eb(0x88b));if(!_0x1c9993['whoCanEdit']?.[_0x16c5eb(0x908)](this[_0x16c5eb(0x248)][_0x16c5eb(0x658)]))throw new m(_0x16c5eb(0x794));let _0x39c750=!0x1;if(_0x544c68[_0x16c5eb(0x475)]?.['delete']===!0x0)_0x1c9993[_0x16c5eb(0x6d7)]=_0x1c9993[_0x16c5eb(0x6d7)][_0x16c5eb(0x7ab)](_0x433edc=>_0x433edc&&_0x544c68[_0x16c5eb(0x475)]&&_0x433edc[_0x16c5eb(0x53f)]&&_0x544c68[_0x16c5eb(0x475)][_0x16c5eb(0x53f)]&&_0x433edc[_0x16c5eb(0x53f)][_0x16c5eb(0x46e)]()!==_0x544c68['condition']['_id'][_0x16c5eb(0x46e)]()),_0x39c750=!0x0;else{let _0x3866a6=_0x1c9993['conditions']['find'](_0x57c91f=>_0x57c91f&&_0x544c68[_0x16c5eb(0x475)]&&_0x57c91f[_0x16c5eb(0x53f)]&&_0x544c68[_0x16c5eb(0x475)][_0x16c5eb(0x53f)]&&_0x57c91f[_0x16c5eb(0x53f)][_0x16c5eb(0x46e)]()===_0x544c68[_0x16c5eb(0x475)][_0x16c5eb(0x53f)][_0x16c5eb(0x46e)]());_0x3866a6?(_0x39c750=_0x3866a6[_0x16c5eb(0x29c)]!==_0x544c68[_0x16c5eb(0x475)][_0x16c5eb(0x29c)],Object[_0x16c5eb(0x8d9)](_0x3866a6,_0x544c68[_0x16c5eb(0x475)])):(_0x1c9993[_0x16c5eb(0x6d7)][_0x16c5eb(0x3ae)](_0x544c68['condition']),_0x39c750=!0x0);}if(_0x39c750){_0x1c9993[_0x16c5eb(0x6d7)][_0x16c5eb(0x1fa)]((_0x22eb46,_0x487498)=>_0x22eb46[_0x16c5eb(0x29c)]>_0x487498[_0x16c5eb(0x29c)]?0x1:_0x487498[_0x16c5eb(0x29c)]>_0x22eb46[_0x16c5eb(0x29c)]?-0x1:0x0);for(let _0x7c3394=0x0;_0x7c3394<_0x1c9993[_0x16c5eb(0x6d7)][_0x16c5eb(0x7d0)];_0x7c3394++)_0x1c9993[_0x16c5eb(0x6d7)][_0x7c3394][_0x16c5eb(0x29c)]=_0x7c3394+0x1;_0x1c9993[_0x16c5eb(0x6d7)][_0x16c5eb(0x7d0)]>0x0&&(_0x1c9993[_0x16c5eb(0x6d7)][0x0][_0x16c5eb(0x1d7)]='and');}let _0x58637d=await this[_0x16c5eb(0x828)][_0x16c5eb(0x8b8)][_0x16c5eb(0x2d5)](_0x1c9993['_id'],_0x1c9993);if(!_0x58637d)throw new Error(_0x16c5eb(0x1ef));return _0x58637d;}catch(_0x3b1ce4){let _0x416800=_0x16c5eb(0x635),_0x4b7dee=_0x3b1ce4 instanceof Error?_0x3b1ce4[_0x16c5eb(0x582)]:typeof _0x3b1ce4==_0x16c5eb(0x26d)?JSON[_0x16c5eb(0x2d0)](_0x3b1ce4):_0x3b1ce4,_0x3e4dba=_0x416800+':\x20'+_0x4b7dee;throw this['logger'][_0x16c5eb(0x5b6)](this[_0x16c5eb(0x33a)]+'\x20('+this[_0x16c5eb(0x248)][_0x16c5eb(0x658)]+_0x16c5eb(0x375)+_0x3e4dba),new m(_0x3e4dba);}}async[a0_0x389422(0x5cd)](_0x3a4243){const _0x210fa5=a0_0x389422;try{if(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x210fa5(0x658)]+_0x210fa5(0x493)),!this['AutomateSystem']['flows'][_0x210fa5(0x428)](_0x54d285=>_0x54d285[_0x210fa5(0x53f)]===_0x3a4243[_0x210fa5(0x53f)]))throw this['logger']['verbose'](this[_0x210fa5(0x33a)]+'\x20('+this['instance'][_0x210fa5(0x658)]+_0x210fa5(0x23b)+_0x3a4243['_id']+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x2a0052=await this['repository']['flow'][_0x210fa5(0x892)]({'where':{'_id':_0x3a4243[_0x210fa5(0x53f)]}});if(!_0x2a0052||!_0x2a0052[_0x210fa5(0x7ee)]?.[_0x210fa5(0x908)](this[_0x210fa5(0x248)]['wuid']))throw this[_0x210fa5(0x6d9)][_0x210fa5(0x5b6)](this[_0x210fa5(0x33a)]+'\x20('+this['instance'][_0x210fa5(0x658)]+_0x210fa5(0x694)+_0x3a4243[_0x210fa5(0x53f)]+_0x210fa5(0x88b)),new m(_0x210fa5(0x58e)+_0x3a4243['_id']+_0x210fa5(0x88b));if(!_0x2a0052[_0x210fa5(0x620)]?.[_0x210fa5(0x908)](this['instance'][_0x210fa5(0x658)]))throw new m(_0x210fa5(0x794));let _0x16ba15=!0x1;if(_0x3a4243['varedit']?.['delete']===!0x0)_0x2a0052[_0x210fa5(0x260)]=_0x2a0052[_0x210fa5(0x260)][_0x210fa5(0x7ab)](_0x55729d=>_0x55729d&&_0x3a4243[_0x210fa5(0x800)]&&_0x55729d[_0x210fa5(0x53f)]&&_0x3a4243[_0x210fa5(0x800)][_0x210fa5(0x53f)]&&_0x55729d[_0x210fa5(0x53f)][_0x210fa5(0x46e)]()!==_0x3a4243[_0x210fa5(0x800)]['_id'][_0x210fa5(0x46e)]()),_0x16ba15=!0x0;else{let _0x25cc57=_0x2a0052[_0x210fa5(0x260)]['find'](_0x416ba6=>_0x416ba6&&_0x3a4243[_0x210fa5(0x800)]&&_0x416ba6['_id']&&_0x3a4243[_0x210fa5(0x800)][_0x210fa5(0x53f)]&&_0x416ba6['_id']['toString']()===_0x3a4243['varedit'][_0x210fa5(0x53f)][_0x210fa5(0x46e)]());_0x25cc57?(_0x16ba15=_0x25cc57[_0x210fa5(0x29c)]!==_0x3a4243['varedit'][_0x210fa5(0x29c)],Object[_0x210fa5(0x8d9)](_0x25cc57,_0x3a4243[_0x210fa5(0x800)])):(_0x2a0052[_0x210fa5(0x260)][_0x210fa5(0x3ae)](_0x3a4243[_0x210fa5(0x800)]),_0x16ba15=!0x0);}if(_0x16ba15){_0x2a0052[_0x210fa5(0x260)][_0x210fa5(0x1fa)]((_0x4aede6,_0x3c8cec)=>_0x4aede6['order']>_0x3c8cec[_0x210fa5(0x29c)]?0x1:_0x3c8cec[_0x210fa5(0x29c)]>_0x4aede6[_0x210fa5(0x29c)]?-0x1:0x0);for(let _0x1f07fe=0x0;_0x1f07fe<_0x2a0052[_0x210fa5(0x260)][_0x210fa5(0x7d0)];_0x1f07fe++)_0x2a0052[_0x210fa5(0x260)][_0x1f07fe]['order']=_0x1f07fe+0x1;}let _0xceab79=await this[_0x210fa5(0x828)][_0x210fa5(0x8b8)]['updateOne'](_0x2a0052['_id'],_0x2a0052);if(!_0xceab79)throw new Error(_0x210fa5(0x1ef));return _0xceab79;}catch(_0x184e63){let _0x7dc0f6=_0x210fa5(0x635),_0x56272f=_0x184e63 instanceof Error?_0x184e63[_0x210fa5(0x582)]:typeof _0x184e63=='object'?JSON['stringify'](_0x184e63):_0x184e63,_0x5d7c87=_0x7dc0f6+':\x20'+_0x56272f;throw this[_0x210fa5(0x6d9)][_0x210fa5(0x5b6)](this[_0x210fa5(0x33a)]+'\x20('+this[_0x210fa5(0x248)][_0x210fa5(0x658)]+_0x210fa5(0x375)+_0x5d7c87),new m(_0x5d7c87);}}async['editFlowVariable'](_0x1a402f){const _0x28502b=a0_0x389422;try{if(this['logger'][_0x28502b(0x2b6)](this[_0x28502b(0x33a)]+'\x20('+this['instance'][_0x28502b(0x658)]+'):\x20Editando\x20variável\x20do\x20fluxo...'),!this['AutomateSystem'][_0x28502b(0x315)][_0x28502b(0x428)](_0x5159ec=>_0x5159ec[_0x28502b(0x53f)]===_0x1a402f['_id']))throw this[_0x28502b(0x6d9)][_0x28502b(0x2b6)](this[_0x28502b(0x33a)]+'\x20('+this['instance'][_0x28502b(0x658)]+'):\x20Fluxo\x20\x27'+_0x1a402f[_0x28502b(0x53f)]+_0x28502b(0x426)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x5616b6=await this[_0x28502b(0x828)][_0x28502b(0x8b8)][_0x28502b(0x892)]({'where':{'_id':_0x1a402f['_id']}});if(!_0x5616b6||!_0x5616b6[_0x28502b(0x7ee)]?.[_0x28502b(0x908)](this['instance'][_0x28502b(0x658)]))throw this[_0x28502b(0x6d9)][_0x28502b(0x5b6)](this[_0x28502b(0x33a)]+'\x20('+this[_0x28502b(0x248)]['wuid']+_0x28502b(0x694)+_0x1a402f[_0x28502b(0x53f)]+_0x28502b(0x88b)),new m('Flow\x20\x27'+_0x1a402f[_0x28502b(0x53f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x5616b6[_0x28502b(0x620)]?.['includes'](this[_0x28502b(0x248)][_0x28502b(0x658)]))throw new m(_0x28502b(0x794));_0x1a402f[_0x28502b(0x54d)][_0x28502b(0x467)]=_0x1a402f[_0x28502b(0x54d)][_0x28502b(0x467)][_0x28502b(0x29d)](),_0x1a402f[_0x28502b(0x54d)]['name'][_0x28502b(0x759)]('_')&&(_0x1a402f['variable']['name']=_0x1a402f['variable'][_0x28502b(0x467)][_0x28502b(0x728)](0x1)),_0x1a402f[_0x28502b(0x54d)][_0x28502b(0x467)]=_0x1a402f[_0x28502b(0x54d)][_0x28502b(0x467)][_0x28502b(0x29d)]();let _0x2ae4a3=_0x5616b6[_0x28502b(0x4a3)][_0x28502b(0x428)](_0x3ae94d=>_0x3ae94d[_0x28502b(0x467)]===_0x1a402f[_0x28502b(0x54d)][_0x28502b(0x467)]);if(_0x2ae4a3?.[_0x28502b(0x8cc)]===!0x0)throw new Error(_0x28502b(0x670));if(_0x1a402f[_0x28502b(0x54d)]?.['delete']===!0x0){if(!_0x2ae4a3)return{'message':'Variável\x20não\x20encontrada!'};_0x5616b6['variables']=_0x5616b6['variables'][_0x28502b(0x7ab)](_0x429556=>_0x429556['name']!==_0x1a402f[_0x28502b(0x54d)][_0x28502b(0x467)]);}else _0x2ae4a3?Object[_0x28502b(0x8d9)](_0x2ae4a3,_0x1a402f[_0x28502b(0x54d)]):_0x5616b6['variables'][_0x28502b(0x3ae)](_0x1a402f[_0x28502b(0x54d)]);let _0x27e15d=await this['repository'][_0x28502b(0x8b8)][_0x28502b(0x2d5)](_0x5616b6[_0x28502b(0x53f)],_0x5616b6);if(!_0x27e15d)throw new Error(_0x28502b(0x1ef));return _0x27e15d;}catch(_0x3e16c2){let _0x1eb5ad=_0x28502b(0x449),_0x2eb091=_0x3e16c2 instanceof Error?_0x3e16c2[_0x28502b(0x582)]:typeof _0x3e16c2==_0x28502b(0x26d)?JSON['stringify'](_0x3e16c2):_0x3e16c2,_0x36b31d=_0x1eb5ad+':\x20'+_0x2eb091;throw this[_0x28502b(0x6d9)]['error'](this[_0x28502b(0x33a)]+'\x20('+this[_0x28502b(0x248)][_0x28502b(0x658)]+'):\x20'+_0x36b31d),new m(_0x36b31d);}}async[a0_0x389422(0x782)](_0x44332b){const _0x87ebb4=a0_0x389422;let _0x1a58a1=null;try{if(!this[_0x87ebb4(0x346)]?.['flowConfig'][_0x87ebb4(0x2c6)])throw new m(_0x87ebb4(0x492));this['logger'][_0x87ebb4(0x2b6)](this[_0x87ebb4(0x33a)]+'\x20('+this[_0x87ebb4(0x248)][_0x87ebb4(0x658)]+_0x87ebb4(0x602));let _0x4844b4=(await this[_0x87ebb4(0x8d4)]({'numbers':[_0x44332b[_0x87ebb4(0x897)]]}))[0x0];if(!_0x4844b4[_0x87ebb4(0x575)]&&!(0x0,w[_0x87ebb4(0x63d)])(_0x4844b4[_0x87ebb4(0x3aa)])&&!_0x4844b4[_0x87ebb4(0x3aa)][_0x87ebb4(0x908)](_0x87ebb4(0x74c)))throw _0x1a58a1=JSON[_0x87ebb4(0x2d0)](_0x4844b4,null,0x2),new m(_0x4844b4);let _0x51f2fc;if(_0x44332b[_0x87ebb4(0x467)][_0x87ebb4(0x7d0)]===0x24&&/^[0-9a-fA-F-]{36}$/['test'](_0x44332b[_0x87ebb4(0x467)])?_0x51f2fc=this[_0x87ebb4(0x346)][_0x87ebb4(0x315)][_0x87ebb4(0x428)](_0x6bcd73=>_0x6bcd73[_0x87ebb4(0x53f)]===_0x44332b[_0x87ebb4(0x467)]):_0x51f2fc=this[_0x87ebb4(0x346)][_0x87ebb4(0x315)]['find'](_0xada1f2=>_0xada1f2['name']===_0x44332b['name']),!_0x51f2fc)throw this[_0x87ebb4(0x6d9)]['verbose'](this[_0x87ebb4(0x33a)]+'\x20('+this['instance'][_0x87ebb4(0x658)]+'):\x20Fluxo\x20\x27'+_0x44332b['name']+'\x27\x20não\x20encontrado'),new m(_0x87ebb4(0x46b));let _0x5df400=await this[_0x87ebb4(0x828)][_0x87ebb4(0x8b8)][_0x87ebb4(0x892)]({'where':{'_id':_0x51f2fc[_0x87ebb4(0x53f)]}});if(!_0x5df400||!_0x5df400[_0x87ebb4(0x7ee)]?.[_0x87ebb4(0x908)](this[_0x87ebb4(0x248)][_0x87ebb4(0x658)]))throw this[_0x87ebb4(0x6d9)][_0x87ebb4(0x5b6)](this[_0x87ebb4(0x33a)]+'\x20('+this['instance'][_0x87ebb4(0x658)]+_0x87ebb4(0x694)+_0x51f2fc[_0x87ebb4(0x53f)]+_0x87ebb4(0x88b)),_0x1a58a1=_0x87ebb4(0x58e)+_0x51f2fc[_0x87ebb4(0x53f)]+_0x87ebb4(0x88b),new m(_0x1a58a1);let _0x1eafa8=await this[_0x87ebb4(0x76d)](_0x5df400,_0x4844b4[_0x87ebb4(0x3aa)],_0x44332b[_0x87ebb4(0x447)]);if(_0x1eafa8){this['logger'][_0x87ebb4(0x2b6)](this[_0x87ebb4(0x33a)]+'\x20('+this['instance'][_0x87ebb4(0x658)]+_0x87ebb4(0x6ea));let _0x19bb6a=await this[_0x87ebb4(0x4d3)](_0x1eafa8);return _0x19bb6a&&await this[_0x87ebb4(0x857)](_0x1eafa8,_0x19bb6a),{'message':'Flow\x20iniciado\x20com\x20'+_0x44332b[_0x87ebb4(0x897)]};}}catch(_0x418329){if(this[_0x87ebb4(0x6d9)]['error'](this[_0x87ebb4(0x33a)]+'\x20('+this['instance'][_0x87ebb4(0x658)]+_0x87ebb4(0x326)+(_0x418329 instanceof Error?_0x418329['message']:JSON[_0x87ebb4(0x2d0)](_0x418329,null,0x2))),_0x1a58a1=_0x418329 instanceof Error?_0x418329[_0x87ebb4(0x582)]:JSON[_0x87ebb4(0x2d0)](_0x418329,null,0x2),_0x1a58a1)throw new m(_0x87ebb4(0x2f0)+_0x1a58a1);}}async[a0_0x389422(0x276)](_0x37b704,_0x66c51d,_0xe54831){const _0x24bb52=a0_0x389422;let _0x20e510=null;try{if(!this['AutomateSystem']?.[_0x24bb52(0x5a2)][_0x24bb52(0x2c6)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this[_0x24bb52(0x6d9)][_0x24bb52(0x2b6)](this[_0x24bb52(0x33a)]+'\x20('+this[_0x24bb52(0x248)][_0x24bb52(0x658)]+_0x24bb52(0x602)),_0x66c51d){let _0x3a7878=(await this[_0x24bb52(0x8d4)]({'numbers':[_0x66c51d]}))[0x0];if(!_0x3a7878[_0x24bb52(0x575)]&&!(0x0,w['isJidGroup'])(_0x3a7878[_0x24bb52(0x3aa)])&&!_0x3a7878[_0x24bb52(0x3aa)]['includes'](_0x24bb52(0x74c)))throw _0x20e510=JSON[_0x24bb52(0x2d0)](_0x3a7878,null,0x2),new m(_0x3a7878);_0x66c51d=_0x3a7878[_0x24bb52(0x3aa)];}else _0x66c51d||(_0x66c51d=(0x0,Y['v4'])());let _0x502df0=await this['repository']['flow']['findOne']({'where':{'_id':_0x37b704}});if(!_0x502df0||!_0x502df0[_0x24bb52(0x7ee)]?.[_0x24bb52(0x908)](this[_0x24bb52(0x248)]['wuid']))throw this[_0x24bb52(0x6d9)][_0x24bb52(0x5b6)](this[_0x24bb52(0x33a)]+'\x20('+this[_0x24bb52(0x248)][_0x24bb52(0x658)]+_0x24bb52(0x694)+_0x37b704+_0x24bb52(0x88b)),new m(_0x24bb52(0x58e)+_0x37b704+_0x24bb52(0x88b));let _0x1ddb4a=await this[_0x24bb52(0x76d)](_0x502df0,_0x66c51d,null);if(_0x1ddb4a){this['logger']['verbose'](this[_0x24bb52(0x33a)]+'\x20('+this['instance'][_0x24bb52(0x658)]+_0x24bb52(0x3c4));let _0x190be9;if(_0xe54831){let _0x2ee3d3=_0x1ddb4a[_0x24bb52(0x4a2)][_0x24bb52(0x3cd)],_0x126292=this[_0x24bb52(0x50c)](_0xe54831);Object[_0x24bb52(0x8d9)](_0x2ee3d3,_0x126292),_0x1ddb4a[_0x24bb52(0x4a2)]['realVariables']=_0x2ee3d3,_0x190be9={'error':!0x1,'apiResponse':_0xe54831};}let _0x3adcfc=await this[_0x24bb52(0x4d3)](_0x1ddb4a);return _0x3adcfc&&await this['processblock'](_0x1ddb4a,_0x3adcfc),{'message':'Flow\x20iniciado'};}}catch(_0x249b4){if(this[_0x24bb52(0x6d9)]['error'](this[_0x24bb52(0x33a)]+'\x20('+this[_0x24bb52(0x248)][_0x24bb52(0x658)]+_0x24bb52(0x326)+(_0x249b4 instanceof Error?_0x249b4['message']:JSON[_0x24bb52(0x2d0)](_0x249b4,null,0x2))),_0x20e510=_0x249b4 instanceof Error?_0x249b4[_0x24bb52(0x582)]:JSON[_0x24bb52(0x2d0)](_0x249b4,null,0x2),_0x20e510)throw new m(_0x24bb52(0x2f0)+_0x20e510);}}async[a0_0x389422(0x22c)](_0x19a30e){const _0x57759e=a0_0x389422;try{let _0x357b83={'remoteJid':_0x19a30e,'status':_0x57759e(0x214)},_0xf01477={'status':_0x57759e(0x434)},_0xd76b57=await this[_0x57759e(0x828)]['flowConversation'][_0x57759e(0x456)](_0x357b83,_0xf01477,this['instance'][_0x57759e(0x658)]);return this[_0x57759e(0x6d9)][_0x57759e(0x2b6)](this[_0x57759e(0x33a)]+'\x20('+this[_0x57759e(0x248)][_0x57759e(0x658)]+_0x57759e(0x35e)),_0xd76b57;}catch(_0x1f4cdb){throw this[_0x57759e(0x6d9)][_0x57759e(0x5b6)](this[_0x57759e(0x33a)]+'\x20('+this['instance'][_0x57759e(0x658)]+_0x57759e(0x19f)+_0x1f4cdb['message']),_0x1f4cdb;}}async[a0_0x389422(0x76d)](_0x1ec0da,_0xfd22b4,_0x5477ea){const _0x22eecd=a0_0x389422;this['logger'][_0x22eecd(0x2b6)](this[_0x22eecd(0x33a)]+'\x20('+this[_0x22eecd(0x248)]['wuid']+_0x22eecd(0x2ea)),await this[_0x22eecd(0x22c)](_0xfd22b4);try{let _0x1e6976=require('mongodb')['ObjectId'],_0x9f809e=Date[_0x22eecd(0x755)](),_0x58aeca=_0x22eecd(0x564),_0x1609c6={},_0x27bf81={},_0x3e0bbe=this[_0x22eecd(0x346)][_0x22eecd(0x315)][_0x22eecd(0x428)](_0x113f95=>_0x113f95['_id']===_0x1ec0da['_id']?.[_0x22eecd(0x46e)]()),_0x3c088a=_0x3e0bbe?.[_0x22eecd(0x896)]??_0x1ec0da[_0x22eecd(0x896)]??0x0,_0x1a0561=_0x3e0bbe?.[_0x22eecd(0x65a)]??_0x1ec0da[_0x22eecd(0x65a)]??!0x1,_0x4cf238={'flowId':_0x1ec0da[_0x22eecd(0x53f)],..._0x1ec0da,'chatLog':null},_0x54a0a5=await this[_0x22eecd(0x506)](_0x4cf238[_0x22eecd(0x4a3)]),_0x3203b7=await this['getVariablesChat'](_0xfd22b4),_0x216ca5={..._0x54a0a5,..._0x3203b7,'_remoteJid':_0xfd22b4},_0x34f6f0={'lastReceivedMessage':_0x1609c6,'lastSendMessage':_0x27bf81,'lastBlockId':_0x58aeca,'lastCondition':!0x0,'realVariables':_0x216ca5};_0x4cf238[_0x22eecd(0x4a2)]=_0x34f6f0,_0x4cf238[_0x22eecd(0x4a2)][_0x22eecd(0x3cd)]={..._0x216ca5,..._0x5477ea},delete _0x4cf238[_0x22eecd(0x53f)],_0x4cf238[_0x22eecd(0x53f)]=new _0x1e6976(),_0x4cf238[_0x22eecd(0x219)]=_0x9f809e,_0x4cf238[_0x22eecd(0x3d8)]='open',_0x4cf238['remoteJid']=_0xfd22b4,_0x4cf238['minutesToClose']=_0x3c088a,_0x4cf238[_0x22eecd(0x65a)]=_0x1a0561,_0x4cf238[_0x22eecd(0x53f)]=_0x1ec0da[_0x22eecd(0x53f)];let _0x5050e5=await this[_0x22eecd(0x828)]['flowConversation'][_0x22eecd(0x2d5)](_0x4cf238[_0x22eecd(0x53f)],_0x4cf238,this[_0x22eecd(0x248)][_0x22eecd(0x658)]);return this[_0x22eecd(0x6d9)][_0x22eecd(0x2b6)](this['instanceName']+'\x20('+this[_0x22eecd(0x248)]['wuid']+_0x22eecd(0x23f)),_0x5050e5?_0x4cf238:null;}catch(_0x18ccf9){let _0x2366c1=_0x22eecd(0x773),_0x573935=_0x18ccf9 instanceof Error?_0x18ccf9[_0x22eecd(0x582)]:typeof _0x18ccf9==_0x22eecd(0x26d)?JSON[_0x22eecd(0x2d0)](_0x18ccf9):_0x18ccf9,_0x2f1cd2=_0x2366c1+':\x20'+_0x573935;throw this[_0x22eecd(0x6d9)][_0x22eecd(0x5b6)](this['instanceName']+'\x20('+this[_0x22eecd(0x248)]['wuid']+_0x22eecd(0x375)+_0x2f1cd2),new m(_0x2f1cd2);}}async[a0_0x389422(0x1d0)](_0x3b7498){const _0x24bb59=a0_0x389422;try{this[_0x24bb59(0x6d9)][_0x24bb59(0x2b6)](this[_0x24bb59(0x33a)]+'\x20('+this[_0x24bb59(0x248)][_0x24bb59(0x658)]+_0x24bb59(0x195)),this['logger'][_0x24bb59(0x2b6)](this['instanceName']+'\x20('+this['instance'][_0x24bb59(0x658)]+'):\x20Query\x20params:\x20'+_0x3b7498);let _0x13779c={'where':{'_id':_0x3b7498}};return await this[_0x24bb59(0x828)][_0x24bb59(0x7e4)][_0x24bb59(0x892)](_0x13779c,this[_0x24bb59(0x248)][_0x24bb59(0x658)]);}catch(_0x4cc666){let _0x408938=_0x24bb59(0x8a5),_0x3c7ec9=_0x4cc666 instanceof Error?_0x4cc666[_0x24bb59(0x582)]:typeof _0x4cc666==_0x24bb59(0x26d)?JSON[_0x24bb59(0x2d0)](_0x4cc666):_0x4cc666,_0x3ab754=_0x408938+':\x20'+_0x3c7ec9;throw this[_0x24bb59(0x6d9)][_0x24bb59(0x5b6)](this['instanceName']+'\x20('+this[_0x24bb59(0x248)][_0x24bb59(0x658)]+_0x24bb59(0x375)+_0x3ab754),new m(_0x3ab754);}}async['fetchConversation'](_0x5de64e){const _0x1befb7=a0_0x389422;try{return this[_0x1befb7(0x6d9)][_0x1befb7(0x2b6)](this[_0x1befb7(0x33a)]+'\x20('+this[_0x1befb7(0x248)]['wuid']+_0x1befb7(0x2c3)),await this[_0x1befb7(0x828)][_0x1befb7(0x7e4)][_0x1befb7(0x428)](_0x5de64e,this[_0x1befb7(0x248)][_0x1befb7(0x658)]);}catch(_0x27a8ad){let _0x1aa26a=_0x1befb7(0x6d3),_0x3cd922=_0x27a8ad instanceof Error?_0x27a8ad['message']:typeof _0x27a8ad==_0x1befb7(0x26d)?JSON[_0x1befb7(0x2d0)](_0x27a8ad):_0x27a8ad,_0x1eb881=_0x1aa26a+':\x20'+_0x3cd922;throw this[_0x1befb7(0x6d9)]['error'](this[_0x1befb7(0x33a)]+'\x20('+this['instance'][_0x1befb7(0x658)]+_0x1befb7(0x375)+_0x1eb881),new m(_0x1eb881);}}async[a0_0x389422(0x22f)](_0x99a596){const _0x426897=a0_0x389422;try{return this[_0x426897(0x6d9)]['verbose'](this[_0x426897(0x33a)]+'\x20('+this['instance'][_0x426897(0x658)]+_0x426897(0x81a)),this[_0x426897(0x6d9)][_0x426897(0x2b6)](this[_0x426897(0x33a)]+'\x20('+this[_0x426897(0x248)][_0x426897(0x658)]+_0x426897(0x39c)+_0x99a596),(await this['repository'][_0x426897(0x7e4)][_0x426897(0x7c3)]({'where':{'_id':_0x99a596['_id']}},this[_0x426897(0x248)][_0x426897(0x658)]))[_0x426897(0x1e6)]===0x0?{'message':_0x426897(0x228)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x2815cd){let _0x129617=_0x426897(0x412),_0x1fa2b7=_0x2815cd instanceof Error?_0x2815cd[_0x426897(0x582)]:typeof _0x2815cd==_0x426897(0x26d)?JSON[_0x426897(0x2d0)](_0x2815cd):_0x2815cd,_0x201125=_0x129617+':\x20'+_0x1fa2b7;throw this[_0x426897(0x6d9)][_0x426897(0x5b6)](this[_0x426897(0x33a)]+'\x20('+this['instance'][_0x426897(0x658)]+_0x426897(0x375)+_0x201125),new m(_0x201125);}}async[a0_0x389422(0x5db)](_0x2466fe){const _0x371498=a0_0x389422;try{let {_id:_0x57cb00,chatLog:_0x542d5b,status:_0x53706c}=_0x2466fe;if(!_0x57cb00)return{'message':_0x371498(0x669)};let _0x4a50b5={};if(_0x53706c!==void 0x0&&(_0x4a50b5[_0x371498(0x3d8)]=_0x53706c),Object['keys'](_0x4a50b5)[_0x371498(0x7d0)]===0x0)return{'message':_0x371498(0x705)};let _0x2eca91=await this['repository']['flowConversation'][_0x371498(0x2d5)](_0x57cb00,_0x4a50b5,this['instance'][_0x371498(0x658)]);return _0x2eca91||{'message':_0x371498(0x791)};}catch(_0x4f5abe){let _0x3dbd51='Erro\x20ao\x20editar\x20a\x20conversa',_0x432c21=_0x4f5abe instanceof Error?_0x4f5abe['message']:typeof _0x4f5abe==_0x371498(0x26d)?JSON[_0x371498(0x2d0)](_0x4f5abe):_0x4f5abe,_0x46a948=_0x3dbd51+':\x20'+_0x432c21;throw this[_0x371498(0x6d9)][_0x371498(0x5b6)](this['instanceName']+'\x20('+this['instance'][_0x371498(0x658)]+_0x371498(0x375)+_0x46a948),new m(_0x46a948);}}async[a0_0x389422(0x871)](_0x254d95){const _0x7cb10c=a0_0x389422;try{_0x254d95[_0x7cb10c(0x53f)]=this[_0x7cb10c(0x790)](_0x254d95[_0x7cb10c(0x53f)]);let _0x4dc492=await this['repository'][_0x7cb10c(0x8e5)][_0x7cb10c(0x892)]({'where':{'_id':_0x254d95[_0x7cb10c(0x53f)]}},this['instance'][_0x7cb10c(0x658)]);if(!_0x4dc492)throw new m(_0x7cb10c(0x825));let {_id:_0x189501,leadInfo:_0x4df44f}=_0x254d95;if(!_0x189501)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x254d95['delete']==='all')return await this[_0x7cb10c(0x8b1)](_0x254d95['_id']),await this[_0x7cb10c(0x828)][_0x7cb10c(0x8e5)][_0x7cb10c(0x216)]({'where':{'_id':_0x254d95[_0x7cb10c(0x53f)]}},this[_0x7cb10c(0x248)][_0x7cb10c(0x658)]),await this['repository'][_0x7cb10c(0x582)][_0x7cb10c(0x216)]({'where':{'key':{'remoteJid':_0x254d95[_0x7cb10c(0x53f)]}}},this['instance'][_0x7cb10c(0x658)]),_0x254d95=await this[_0x7cb10c(0x828)][_0x7cb10c(0x8e5)]['updateOne']({'where':{'_id':_0x254d95[_0x7cb10c(0x53f)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x7cb10c(0x658)]),F(this[_0x7cb10c(0x33a)],'chats',{'chat':_0x254d95}),{'message':_0x7cb10c(0x533)};if(_0x254d95[_0x7cb10c(0x216)]===_0x7cb10c(0x7ba))return await this[_0x7cb10c(0x828)][_0x7cb10c(0x582)][_0x7cb10c(0x216)]({'where':{'key':{'remoteJid':_0x254d95[_0x7cb10c(0x53f)]}}},this[_0x7cb10c(0x248)][_0x7cb10c(0x658)]),_0x254d95=await this[_0x7cb10c(0x828)]['chat'][_0x7cb10c(0x2d5)]({'where':{'_id':_0x254d95['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x7cb10c(0x248)][_0x7cb10c(0x658)]),F(this[_0x7cb10c(0x33a)],_0x7cb10c(0x328),{'chat':_0x254d95}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x5862b6=(_0x53947c,_0x341dbc,_0x2ab7f7)=>{const _0x5673b8=_0x7cb10c;_0x53947c&&_0x2ab7f7[_0x5673b8(0x785)](_0x9978cd=>{_0x53947c[_0x9978cd]!==void 0x0&&(_0x341dbc['leadInfo.'+_0x9978cd]=_0x53947c[_0x9978cd]);});},_0x474a3f={};if('muteEndTime'in _0x254d95&&(this[_0x7cb10c(0x6d9)][_0x7cb10c(0x2b6)](this['instanceName']+'\x20('+this[_0x7cb10c(0x248)][_0x7cb10c(0x658)]+'):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x254d95[_0x7cb10c(0x53f)]),_0x254d95[_0x7cb10c(0x28c)]=_0x254d95[_0x7cb10c(0x28c)]===0x0?null:-0x1,await this[_0x7cb10c(0x496)][_0x7cb10c(0x4c3)]({'mute':_0x254d95[_0x7cb10c(0x28c)]},_0x254d95['_id']),_0x474a3f[_0x7cb10c(0x28c)]=Number(_0x254d95['muteEndTime'])),_0x4df44f&&(_0x5862b6(_0x4df44f,_0x474a3f,['nome',_0x7cb10c(0x4d6),_0x7cb10c(0x4ea),'cpf',_0x7cb10c(0x3d8),'notas',_0x7cb10c(0x7cf),'atendimentoAberto',_0x7cb10c(0x807),_0x7cb10c(0x774),_0x7cb10c(0x4b4)]),Array[_0x7cb10c(0x1fc)](_0x4df44f[_0x7cb10c(0x59d)])&&(_0x474a3f[_0x7cb10c(0x812)]=_0x4df44f[_0x7cb10c(0x59d)][_0x7cb10c(0x3ea)](_0x35d620=>({'_id':_0x35d620[_0x7cb10c(0x53f)],'value':_0x35d620[_0x7cb10c(0x1a6)]}))),_0x254d95[_0x7cb10c(0x8cc)]['etiquetas']!==void 0x0)){let _0x5e78cd=await this[_0x7cb10c(0x828)][_0x7cb10c(0x2e8)]['find']({'where':{}},this['instance'][_0x7cb10c(0x658)]),_0x1ef18f=new Set(_0x254d95[_0x7cb10c(0x8cc)][_0x7cb10c(0x774)]||[]),_0x1d0e35=new Set(_0x254d95['leadInfo'][_0x7cb10c(0x774)]),_0x126035=new Set(_0x5e78cd[_0x7cb10c(0x3ea)](_0x15c10a=>_0x15c10a[_0x7cb10c(0x53f)])),_0x54dcdf=[..._0x1d0e35][_0x7cb10c(0x7ab)](_0x4e0482=>!_0x1ef18f[_0x7cb10c(0x3cf)](_0x4e0482)&&_0x126035[_0x7cb10c(0x3cf)](_0x4e0482)),_0x5199db=[..._0x1ef18f][_0x7cb10c(0x7ab)](_0x4cd475=>!_0x1d0e35[_0x7cb10c(0x3cf)](_0x4cd475));if(_0x474a3f[_0x7cb10c(0x21f)]=[..._0x1ef18f],_0x4dc492&&!_0x4dc492['imported']){for(let _0x5b1fa2 of _0x54dcdf)await this['AddChatLabel'](_0x5b1fa2,_0x254d95[_0x7cb10c(0x53f)]),_0x1ef18f[_0x7cb10c(0x765)](_0x5b1fa2);for(let _0x3882bd of _0x5199db)await this['RemoveChatLabel'](_0x3882bd,_0x254d95['_id']),_0x1ef18f['delete'](_0x3882bd);}}if(_0x254d95[_0x7cb10c(0x5bd)]!==void 0x0&&(_0x474a3f['unreadcount']=Number(_0x254d95[_0x7cb10c(0x5bd)])),Object[_0x7cb10c(0x8b0)](_0x474a3f)[_0x7cb10c(0x7d0)]===0x0)throw new Error(_0x7cb10c(0x705));let _0x55358b=await this['repository'][_0x7cb10c(0x8e5)][_0x7cb10c(0x2d5)]({'where':{'_id':_0x254d95[_0x7cb10c(0x53f)]}},_0x474a3f,this[_0x7cb10c(0x248)][_0x7cb10c(0x658)]);return _0x55358b&&F(this[_0x7cb10c(0x33a)],_0x7cb10c(0x328),{'chat':_0x55358b}),_0x55358b?(this[_0x7cb10c(0x6d9)][_0x7cb10c(0x2b6)](this[_0x7cb10c(0x33a)]+'\x20('+this[_0x7cb10c(0x248)][_0x7cb10c(0x658)]+_0x7cb10c(0x375)+JSON[_0x7cb10c(0x2d0)](_0x55358b,null,0x2)),_0x55358b):{'message':_0x7cb10c(0x585)};}catch(_0x378f94){let _0x3832ea=_0x7cb10c(0x4bf),_0x2a5f4b=_0x378f94 instanceof Error?_0x378f94['message']:typeof _0x378f94==_0x7cb10c(0x26d)?JSON[_0x7cb10c(0x2d0)](_0x378f94):_0x378f94,_0x1192a3=_0x3832ea+':\x20'+_0x2a5f4b;throw this[_0x7cb10c(0x6d9)][_0x7cb10c(0x5b6)](this[_0x7cb10c(0x33a)]+'\x20('+this[_0x7cb10c(0x248)][_0x7cb10c(0x658)]+_0x7cb10c(0x375)+_0x1192a3),new m(_0x1192a3);}}async[a0_0x389422(0x3a8)](_0x2e1c76,_0x3bd6a5){const _0x281c40=a0_0x389422;try{await this[_0x281c40(0x496)]['addChatLabel'](_0x3bd6a5,_0x2e1c76),this[_0x281c40(0x6d9)]['info'](this['instanceName']+'\x20('+this[_0x281c40(0x248)][_0x281c40(0x658)]+_0x281c40(0x7ed)+_0x2e1c76+_0x281c40(0x547)+_0x3bd6a5+_0x281c40(0x1f2));}catch(_0x10afef){this['logger'][_0x281c40(0x5b6)](_0x281c40(0x818)+_0x2e1c76+_0x281c40(0x35d)+_0x3bd6a5+':\x20'+_0x10afef);}}async[a0_0x389422(0x3c9)](_0x4d7a3b,_0x17de7a){const _0x3403f6=a0_0x389422;try{await this[_0x3403f6(0x496)][_0x3403f6(0x53c)](_0x17de7a,_0x4d7a3b),this[_0x3403f6(0x6d9)]['info'](this[_0x3403f6(0x33a)]+'\x20('+this[_0x3403f6(0x248)]['wuid']+_0x3403f6(0x7ed)+_0x4d7a3b+_0x3403f6(0x7a6)+_0x17de7a+_0x3403f6(0x1f2));}catch(_0x54a8b0){this[_0x3403f6(0x6d9)]['error'](_0x3403f6(0x5a5)+_0x4d7a3b+_0x3403f6(0x796)+_0x17de7a+':\x20'+_0x54a8b0);}}async['updateAgent'](_0x34076c){const _0x4f2a48=a0_0x389422;try{let _0x17d10f=await this[_0x4f2a48(0x828)][_0x4f2a48(0x4e9)][_0x4f2a48(0x7de)](this[_0x4f2a48(0x248)]['wuid']),_0x2f5f8b=_0x34076c[_0x4f2a48(0x53f)]?_0x17d10f['agents'][_0x4f2a48(0x548)](_0x1be8e2=>_0x1be8e2[_0x4f2a48(0x53f)]===_0x34076c[_0x4f2a48(0x53f)]):-0x1;if(_0x34076c[_0x4f2a48(0x216)]&&_0x2f5f8b>-0x1)_0x17d10f[_0x4f2a48(0x74a)][_0x4f2a48(0x5fb)](_0x2f5f8b,0x1);else{if(_0x2f5f8b>-0x1){let _0x105883=_0x17d10f[_0x4f2a48(0x74a)][_0x2f5f8b];_0x34076c['fone']&&(_0x105883[_0x4f2a48(0x2e3)]=_0x34076c[_0x4f2a48(0x2e3)]),_0x34076c[_0x4f2a48(0x467)]&&(_0x105883[_0x4f2a48(0x467)]=_0x34076c[_0x4f2a48(0x467)]),_0x34076c[_0x4f2a48(0x4ea)]&&(_0x105883[_0x4f2a48(0x4ea)]=_0x34076c[_0x4f2a48(0x4ea)]),_0x34076c[_0x4f2a48(0x6d1)]&&(_0x105883[_0x4f2a48(0x6d1)]=_0x34076c[_0x4f2a48(0x6d1)]);}else _0x17d10f[_0x4f2a48(0x74a)][_0x4f2a48(0x3ae)]({'_id':_0x34076c[_0x4f2a48(0x53f)]||new ge[(_0x4f2a48(0x37f))][(_0x4f2a48(0x351))][(_0x4f2a48(0x2bc))]()[_0x4f2a48(0x46e)](),'fone':_0x34076c['fone'],'name':_0x34076c[_0x4f2a48(0x467)],'email':_0x34076c[_0x4f2a48(0x4ea)],'role':_0x34076c[_0x4f2a48(0x6d1)]});}let _0x6cfa8f={'agents':_0x17d10f[_0x4f2a48(0x74a)]},_0x115ef6=await this['repository'][_0x4f2a48(0x4e9)][_0x4f2a48(0x4a1)](_0x6cfa8f,this[_0x4f2a48(0x248)][_0x4f2a48(0x658)]);return this[_0x4f2a48(0x346)]=_0x115ef6,this[_0x4f2a48(0x6d9)]['verbose'](this['instanceName']+'\x20('+this[_0x4f2a48(0x248)][_0x4f2a48(0x658)]+_0x4f2a48(0x63b)),this[_0x4f2a48(0x6d9)]['verbose'](this[_0x4f2a48(0x33a)]+'\x20('+this[_0x4f2a48(0x248)][_0x4f2a48(0x658)]+_0x4f2a48(0x375)+this['AutomateSystem']),_0x115ef6;}catch(_0x556403){let _0xab8d56=_0x4f2a48(0x632),_0x359058=_0x556403 instanceof Error?_0x556403[_0x4f2a48(0x582)]:typeof _0x556403==_0x4f2a48(0x26d)?JSON[_0x4f2a48(0x2d0)](_0x556403):_0x556403,_0xea1281=_0xab8d56+':\x20'+_0x359058;throw this[_0x4f2a48(0x6d9)]['error'](this[_0x4f2a48(0x33a)]+'\x20('+this[_0x4f2a48(0x248)][_0x4f2a48(0x658)]+'):\x20'+_0xea1281),new m(_0xea1281);}}async['updateCustomFields'](_0x13b618){const _0x1b2dbf=a0_0x389422;try{let _0x12868f=await this[_0x1b2dbf(0x828)][_0x1b2dbf(0x4e9)]['findOrCreate'](this['instance'][_0x1b2dbf(0x658)]),_0x40ddc1=_0x13b618[_0x1b2dbf(0x53f)]?_0x12868f[_0x1b2dbf(0x59d)]['findIndex'](_0x4301c3=>_0x4301c3['_id']===_0x13b618[_0x1b2dbf(0x53f)]):-0x1,_0x5085dd=!0x1,_0x543174=_0x12868f[_0x1b2dbf(0x59d)][_0x1b2dbf(0x1a2)](_0x19c8f=>_0x19c8f['order']===_0x13b618[_0x1b2dbf(0x29c)]);if(_0x13b618[_0x1b2dbf(0x216)]&&_0x40ddc1>-0x1)_0x12868f[_0x1b2dbf(0x59d)][_0x1b2dbf(0x5fb)](_0x40ddc1,0x1),_0x5085dd=!0x0;else{if(_0x40ddc1>-0x1){if(_0x12868f[_0x1b2dbf(0x59d)][_0x1b2dbf(0x1a2)](_0x184cae=>_0x184cae['name']===_0x13b618['name']&&_0x184cae[_0x1b2dbf(0x53f)]!==_0x13b618[_0x1b2dbf(0x53f)]))throw new Error(_0x1b2dbf(0x485));let _0x48b414=_0x12868f[_0x1b2dbf(0x59d)][_0x40ddc1];_0x13b618[_0x1b2dbf(0x29c)]&&(_0x543174||!Number[_0x1b2dbf(0x612)](_0x13b618[_0x1b2dbf(0x29c)]))&&(_0x48b414[_0x1b2dbf(0x29c)]=_0x13b618[_0x1b2dbf(0x29c)],_0x5085dd=!0x0),_0x13b618[_0x1b2dbf(0x467)]&&(_0x48b414[_0x1b2dbf(0x467)]=_0x13b618[_0x1b2dbf(0x467)]);}else{if(_0x12868f[_0x1b2dbf(0x59d)][_0x1b2dbf(0x1a2)](_0x4307a5=>_0x4307a5['name']===_0x13b618[_0x1b2dbf(0x467)]&&_0x4307a5[_0x1b2dbf(0x53f)]!==_0x13b618[_0x1b2dbf(0x53f)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x12868f['customFields']['push']({'_id':_0x13b618[_0x1b2dbf(0x53f)]||new ge[(_0x1b2dbf(0x37f))][(_0x1b2dbf(0x351))][(_0x1b2dbf(0x2bc))]()[_0x1b2dbf(0x46e)](),'order':_0x13b618['order'],'name':_0x13b618[_0x1b2dbf(0x467)]}),_0x5085dd=!0x0;}}if(_0x5085dd){_0x12868f[_0x1b2dbf(0x59d)][_0x1b2dbf(0x1fa)]((_0x357614,_0x17231e)=>_0x357614[_0x1b2dbf(0x29c)]>_0x17231e['order']?0x1:_0x17231e['order']>_0x357614[_0x1b2dbf(0x29c)]?-0x1:0x0);for(let _0x4f4850=0x0;_0x4f4850<_0x12868f[_0x1b2dbf(0x59d)][_0x1b2dbf(0x7d0)];_0x4f4850++)_0x12868f[_0x1b2dbf(0x59d)][_0x4f4850][_0x1b2dbf(0x29c)]=_0x4f4850+0x1;}let _0x27fcf1=await this[_0x1b2dbf(0x828)][_0x1b2dbf(0x4e9)]['update'](_0x12868f,this[_0x1b2dbf(0x248)][_0x1b2dbf(0x658)]);return this[_0x1b2dbf(0x346)]=_0x27fcf1,this['logger'][_0x1b2dbf(0x2b6)](this['instanceName']+'\x20('+this[_0x1b2dbf(0x248)][_0x1b2dbf(0x658)]+_0x1b2dbf(0x1ba)),this[_0x1b2dbf(0x6d9)][_0x1b2dbf(0x2b6)](this['instanceName']+'\x20('+this[_0x1b2dbf(0x248)][_0x1b2dbf(0x658)]+'):\x20'+this[_0x1b2dbf(0x346)]),_0x27fcf1;}catch(_0x442e10){let _0x270ad6=_0x1b2dbf(0x90d),_0x49d5e8=_0x442e10 instanceof Error?_0x442e10[_0x1b2dbf(0x582)]:typeof _0x442e10==_0x1b2dbf(0x26d)?JSON[_0x1b2dbf(0x2d0)](_0x442e10):_0x442e10,_0xcca23e=_0x270ad6+':\x20'+_0x49d5e8;throw this['logger'][_0x1b2dbf(0x5b6)](this[_0x1b2dbf(0x33a)]+'\x20('+this['instance']['wuid']+_0x1b2dbf(0x375)+_0xcca23e),new m(_0xcca23e);}}async[a0_0x389422(0x188)](_0x3dee90){const _0x57c730=a0_0x389422;try{let _0x5cf155=await this[_0x57c730(0x828)][_0x57c730(0x4e9)]['findOrCreate'](this[_0x57c730(0x248)][_0x57c730(0x658)]),_0x211eda=_0x5cf155?.[_0x57c730(0x855)]?.[_0x57c730(0x548)](_0x3eb4c9=>_0x3eb4c9['_id']===_0x3dee90?.[_0x57c730(0x53f)]);if(_0x3dee90?.['delete'])_0x211eda>-0x1&&_0x5cf155?.['autoCompleteMessages']?.[_0x57c730(0x5fb)](_0x211eda,0x1);else{if(_0x211eda>-0x1){let _0x38fa86=_0x5cf155[_0x57c730(0x855)][_0x211eda];_0x38fa86['order']=_0x3dee90?.[_0x57c730(0x29c)]||_0x38fa86[_0x57c730(0x29c)],_0x38fa86['command']=_0x3dee90?.[_0x57c730(0x4d1)]||_0x38fa86[_0x57c730(0x4d1)],_0x38fa86[_0x57c730(0x582)]=_0x3dee90?.[_0x57c730(0x582)]||_0x38fa86['message'];}else{let _0x1fa7b4={'_id':_0x3dee90?.[_0x57c730(0x53f)]||new ge[(_0x57c730(0x37f))][(_0x57c730(0x351))][(_0x57c730(0x2bc))]()[_0x57c730(0x46e)](),'order':_0x3dee90?.[_0x57c730(0x29c)],'command':_0x3dee90?.[_0x57c730(0x4d1)],'message':_0x3dee90?.['message']};_0x5cf155?.[_0x57c730(0x855)]?.['push'](_0x1fa7b4);}}_0x5cf155?.[_0x57c730(0x855)]?.[_0x57c730(0x1fa)]((_0x2d3236,_0x1075d0)=>_0x2d3236[_0x57c730(0x29c)]-_0x1075d0[_0x57c730(0x29c)]);let _0xd72977=await this[_0x57c730(0x828)][_0x57c730(0x4e9)][_0x57c730(0x4a1)](_0x5cf155,this[_0x57c730(0x248)][_0x57c730(0x658)]);return this['AutomateSystem']=_0xd72977,this[_0x57c730(0x6d9)][_0x57c730(0x2b6)](this[_0x57c730(0x33a)]+'\x20('+this[_0x57c730(0x248)][_0x57c730(0x658)]+_0x57c730(0x1ba)),_0xd72977;}catch(_0x11aebb){let _0x42e298='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x1cc3c2=_0x11aebb instanceof Error?_0x11aebb[_0x57c730(0x582)]:typeof _0x11aebb==_0x57c730(0x26d)?JSON['stringify'](_0x11aebb):_0x11aebb,_0x18cf67=_0x42e298+':\x20'+_0x1cc3c2;throw this['logger'][_0x57c730(0x5b6)](this[_0x57c730(0x33a)]+'\x20('+this[_0x57c730(0x248)][_0x57c730(0x658)]+_0x57c730(0x375)+_0x18cf67),new m(_0x18cf67);}}async[a0_0x389422(0x302)](_0x9d19c8){const _0x501ab7=a0_0x389422;try{let _0x1ed804=await this['repository'][_0x501ab7(0x4e9)]['findOrCreate'](this[_0x501ab7(0x248)]['wuid']);if(!_0x1ed804)throw new Error(_0x501ab7(0x3b9));let _0x506c97={'_id':_0x1ed804[_0x501ab7(0x53f)],'flowConfig':{'enabled':_0x9d19c8[_0x501ab7(0x2c6)]??_0x1ed804[_0x501ab7(0x5a2)]['enabled'],'ignoreGroups':_0x9d19c8[_0x501ab7(0x261)]??_0x1ed804[_0x501ab7(0x5a2)][_0x501ab7(0x261)],'stopConversation':_0x9d19c8[_0x501ab7(0x6a6)]['trim']()??_0x1ed804[_0x501ab7(0x5a2)][_0x501ab7(0x6a6)]['trim'](),'stopMinutes':_0x9d19c8[_0x501ab7(0x83b)]??_0x1ed804[_0x501ab7(0x5a2)][_0x501ab7(0x83b)],'stopWhenYouSendMsg':_0x9d19c8[_0x501ab7(0x1ab)]??_0x1ed804[_0x501ab7(0x5a2)][_0x501ab7(0x1ab)]}},_0x48cf41=await this[_0x501ab7(0x828)][_0x501ab7(0x4e9)]['update'](_0x506c97,this[_0x501ab7(0x248)][_0x501ab7(0x658)]);return this[_0x501ab7(0x346)]=_0x48cf41,this[_0x501ab7(0x6d9)]['verbose'](this[_0x501ab7(0x33a)]+'\x20('+this[_0x501ab7(0x248)][_0x501ab7(0x658)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x501ab7(0x6d9)][_0x501ab7(0x2b6)](this[_0x501ab7(0x33a)]+'\x20('+this['instance'][_0x501ab7(0x658)]+_0x501ab7(0x375)+this[_0x501ab7(0x346)]),setTimeout(()=>this[_0x501ab7(0x1a3)](),0x7d0),_0x48cf41;}catch(_0x4f0858){let _0x53e181=_0x501ab7(0x849),_0x1ff99f=_0x4f0858 instanceof Error?_0x4f0858[_0x501ab7(0x582)]:typeof _0x4f0858=='object'?JSON[_0x501ab7(0x2d0)](_0x4f0858):_0x4f0858,_0x5edb5b=_0x53e181+':\x20'+_0x1ff99f;throw this[_0x501ab7(0x6d9)][_0x501ab7(0x5b6)](this[_0x501ab7(0x33a)]+'\x20('+this[_0x501ab7(0x248)][_0x501ab7(0x658)]+'):\x20'+_0x5edb5b),new m(_0x5edb5b);}}async['getAutomateSystem'](){const _0x6005c7=a0_0x389422;try{let _0xed6c68=await this[_0x6005c7(0x828)][_0x6005c7(0x4e9)]['findOrCreate'](this[_0x6005c7(0x248)][_0x6005c7(0x658)]);return this['AutomateSystem']=_0xed6c68,_0xed6c68;}catch(_0x180bba){let _0x425023='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x5805f0=_0x180bba instanceof Error?_0x180bba['message']:typeof _0x180bba=='object'?JSON[_0x6005c7(0x2d0)](_0x180bba):_0x180bba,_0x475435=_0x425023+':\x20'+_0x5805f0;throw this['logger'][_0x6005c7(0x5b6)](this['instanceName']+'\x20('+this['instance'][_0x6005c7(0x658)]+_0x6005c7(0x375)+_0x475435),new m(_0x475435);}}async[a0_0x389422(0x4c6)](){const _0x5d7d4d=a0_0x389422;let _0x11cbb4=(await import(_0x5d7d4d(0x81e)))[_0x5d7d4d(0x37f)];this[_0x5d7d4d(0x241)]=new _0x11cbb4({'concurrency':0x1});}async[a0_0x389422(0x5aa)](){const _0x4ff1e8=a0_0x389422;this[_0x4ff1e8(0x248)][_0x4ff1e8(0x524)][_0x4ff1e8(0x7bd)]&&clearTimeout(this[_0x4ff1e8(0x248)][_0x4ff1e8(0x524)][_0x4ff1e8(0x7bd)]),this[_0x4ff1e8(0x248)][_0x4ff1e8(0x524)][_0x4ff1e8(0x7bd)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x389422(0x641)](){const _0x2add35=a0_0x389422;let _0xe09806=this[_0x2add35(0x248)][_0x2add35(0x524)][_0x2add35(0x5e2)];(_0xe09806===0x0||_0xe09806===null||Date[_0x2add35(0x755)]()-_0xe09806>=0x1d4c0)&&(this[_0x2add35(0x6d9)][_0x2add35(0x2b6)](this[_0x2add35(0x33a)]+'\x20('+this[_0x2add35(0x248)][_0x2add35(0x658)]+_0x2add35(0x8af)),this[_0x2add35(0x248)]['ScheduleMessage'][_0x2add35(0x2c2)]=null,this[_0x2add35(0x248)][_0x2add35(0x524)][_0x2add35(0x5e2)]=0x0,this[_0x2add35(0x248)][_0x2add35(0x524)]['delayMessage']=0x0,await this[_0x2add35(0x1a3)]());}async['scheduleNextCheck'](){const _0x85db7a=a0_0x389422;this[_0x85db7a(0x6d9)][_0x85db7a(0x74f)](this['instanceName']+'\x20('+this[_0x85db7a(0x248)][_0x85db7a(0x658)]+'):\x20Procurando\x20mensagens\x20para\x20envio'),await this[_0x85db7a(0x1e5)]();let _0xba5285=await this[_0x85db7a(0x5fa)]();_0xba5285[_0x85db7a(0x7d0)]>0x0&&(setTimeout(()=>this[_0x85db7a(0x641)](),0x14*0x3e8),this[_0x85db7a(0x6d9)][_0x85db7a(0x74f)](this[_0x85db7a(0x33a)]+'\x20('+this[_0x85db7a(0x248)]['wuid']+'):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila'),this[_0x85db7a(0x241)][_0x85db7a(0x32f)](),this[_0x85db7a(0x241)][_0x85db7a(0x765)](()=>this[_0x85db7a(0x291)](_0xba5285)));let _0x1165a1={'where':{'status':_0x85db7a(0x7af),'when':{'$gt':Date['now']()}}},_0x53bf5b=await this['repository'][_0x85db7a(0x627)][_0x85db7a(0x892)](_0x1165a1,this[_0x85db7a(0x248)][_0x85db7a(0x658)]);_0x53bf5b&&_0x53bf5b['when']-Date[_0x85db7a(0x755)]()<=0x6ddd00?this['instance']['ScheduleMessage'][_0x85db7a(0x190)]=_0x53bf5b[_0x85db7a(0x329)]-Date[_0x85db7a(0x755)]():this[_0x85db7a(0x248)][_0x85db7a(0x524)][_0x85db7a(0x190)]=(0x3c+Math['floor'](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x85db7a(0x248)]['ScheduleMessage']['delayMessage']=Math[_0x85db7a(0x528)](this[_0x85db7a(0x248)]['ScheduleMessage']['delayMessage'],0x1*0x2*0x3e8);let _0x45cbd0=Math['round'](this[_0x85db7a(0x248)][_0x85db7a(0x524)][_0x85db7a(0x190)]/0xea60);if(_0x53bf5b){let _0x2faad8=new Date(_0x53bf5b[_0x85db7a(0x329)])[_0x85db7a(0x229)]();this['logger'][_0x85db7a(0x74f)](this[_0x85db7a(0x33a)]+'\x20('+this['instance'][_0x85db7a(0x658)]+_0x85db7a(0x30d)+_0x2faad8+_0x85db7a(0x50a)+_0x45cbd0+_0x85db7a(0x638));}else this[_0x85db7a(0x6d9)]['warn'](this[_0x85db7a(0x33a)]+'\x20('+this[_0x85db7a(0x248)][_0x85db7a(0x658)]+_0x85db7a(0x2c0)+_0x45cbd0+_0x85db7a(0x638));setTimeout(()=>{this['scheduleNextCheck']();},this['instance']['ScheduleMessage'][_0x85db7a(0x190)]);}async[a0_0x389422(0x5fa)](){const _0x3ba47a=a0_0x389422;this[_0x3ba47a(0x6d9)][_0x3ba47a(0x74f)](this[_0x3ba47a(0x33a)]+'\x20('+this[_0x3ba47a(0x248)][_0x3ba47a(0x658)]+_0x3ba47a(0x911));let _0x28bb7d=Date[_0x3ba47a(0x755)]()-0xc*0x3c*0x3c*0x3e8,_0x591a25={'where':{'status':{'$in':[_0x3ba47a(0x7af),'sending']},'$or':[{'when':{'$lte':Date[_0x3ba47a(0x755)](),'$gte':_0x28bb7d}},{'when':0x0}]}},_0x38abe8=await this[_0x3ba47a(0x828)]['scheduleMessage'][_0x3ba47a(0x428)](_0x591a25,this['instance']['wuid']);return this['logger'][_0x3ba47a(0x74f)](this[_0x3ba47a(0x33a)]+'\x20('+this[_0x3ba47a(0x248)][_0x3ba47a(0x658)]+'):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20'+_0x38abe8['length']),_0x38abe8;}async['processReadyMessages'](_0x953336){const _0x3555d7=a0_0x389422;this['logger'][_0x3555d7(0x74f)](this[_0x3555d7(0x33a)]+'\x20('+this[_0x3555d7(0x248)][_0x3555d7(0x658)]+_0x3555d7(0x7f5));let _0x1e3464=0x3*0x3e8,_0x27e6fa=0x8*0x3e8,_0x1ebfc9=Math[_0x3555d7(0x448)](Math[_0x3555d7(0x324)]()*(_0x27e6fa-_0x1e3464+0x1))+_0x1e3464,_0x5027a8=()=>this['pendingMessages'][_0x3555d7(0x7d0)]===0x0?null:this[_0x3555d7(0x8d1)][_0x3555d7(0x1b3)]((_0x2518a8,_0x8bd950)=>(_0x2518a8['order']??Number['MAX_SAFE_INTEGER'])<(_0x8bd950[_0x3555d7(0x29c)]??Number[_0x3555d7(0x25c)])?_0x2518a8:_0x8bd950,this['pendingMessages'][0x0]);_0x953336=await this[_0x3555d7(0x5fa)]();for(let _0x17019d of _0x953336){await this[_0x3555d7(0x5aa)]();let _0x4a3110=0x3*0x3e8,_0x5df2c2={'_id':_0x17019d['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3555d7(0x755)]()-_0x4a3110}}]},_0x34d059={'startSend':Date[_0x3555d7(0x755)](),'status':'sending'},_0x237385=await this[_0x3555d7(0x828)][_0x3555d7(0x627)][_0x3555d7(0x2d5)](_0x5df2c2,_0x34d059,this[_0x3555d7(0x248)][_0x3555d7(0x658)]);if(this[_0x3555d7(0x8d1)]=_0x237385[_0x3555d7(0x7ba)]['filter'](_0x255366=>!_0x255366['triedToSend']),!_0x237385){setTimeout(()=>this[_0x3555d7(0x641)](),0xa*0x3e8);continue;}if(this[_0x3555d7(0x248)][_0x3555d7(0x524)][_0x3555d7(0x2c2)]=_0x237385,!this[_0x3555d7(0x248)]['ScheduleMessage']['isConnected']){this['logger']['warn'](this['instanceName']+'\x20('+this[_0x3555d7(0x248)][_0x3555d7(0x658)]+_0x3555d7(0x1a5));break;}for(;this[_0x3555d7(0x8d1)][_0x3555d7(0x7d0)]>0x0;){await this[_0x3555d7(0x5aa)]();let _0x4867a6=_0x5027a8();if(!_0x4867a6)break;let _0x66fafa=_0x17019d[_0x3555d7(0x7ba)][_0x3555d7(0x428)](_0x107a2b=>_0x107a2b['_id']===_0x4867a6[_0x3555d7(0x53f)]);if(!_0x66fafa)break;if(this[_0x3555d7(0x248)][_0x3555d7(0x524)]['lastSend']=Date[_0x3555d7(0x755)](),_0x66fafa[_0x3555d7(0x468)]){this['logger'][_0x3555d7(0x74f)](this[_0x3555d7(0x33a)]+'\x20('+this[_0x3555d7(0x248)]['wuid']+_0x3555d7(0x5d1)+_0x66fafa[_0x3555d7(0x897)]+_0x3555d7(0x77b)),this['pendingMessages']=this['pendingMessages'][_0x3555d7(0x7ab)](_0x39eabb=>_0x39eabb[_0x3555d7(0x53f)]!==_0x66fafa['_id']);continue;}if(!this[_0x3555d7(0x248)][_0x3555d7(0x524)]['isConnected']){this['logger']['warn'](this['instanceName']+'\x20('+this[_0x3555d7(0x248)][_0x3555d7(0x658)]+_0x3555d7(0x395));break;}if(!this[_0x3555d7(0x248)][_0x3555d7(0x524)][_0x3555d7(0x2c2)]){this[_0x3555d7(0x6d9)]['warn'](this[_0x3555d7(0x33a)]+'\x20('+this[_0x3555d7(0x248)][_0x3555d7(0x658)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x17019d[_0x3555d7(0x53f)]+_0x3555d7(0x39a));break;}let _0x4433d4={'idControl':_0x66fafa[_0x3555d7(0x53f)],'remoteJid':_0x66fafa[_0x3555d7(0x897)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x3555d7(0x755)]()},_0x547051=null;try{this[_0x3555d7(0x6d9)]['warn'](this[_0x3555d7(0x33a)]+'\x20('+this[_0x3555d7(0x248)][_0x3555d7(0x658)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0x66fafa[_0x3555d7(0x897)]);let _0x23dcb6=await Promise[_0x3555d7(0x47c)]([this['SendScheduleMessage'](_0x66fafa[_0x3555d7(0x897)],_0x66fafa),this[_0x3555d7(0x37c)](0x78*0x3e8)]);_0x4433d4[_0x3555d7(0x5b6)]=_0x23dcb6['error'],_0x4433d4['id']=_0x23dcb6['error']?null:_0x23dcb6['id'],_0x4433d4[_0x3555d7(0x1f1)]=_0x23dcb6[_0x3555d7(0x5b6)]?_0x23dcb6[_0x3555d7(0x8a8)]?_0x23dcb6[_0x3555d7(0x8a8)][_0x3555d7(0x46e)]():'':null;let _0xbd9a92=_0x17019d['messages'][_0x3555d7(0x548)](_0x322cd5=>_0x322cd5[_0x3555d7(0x53f)]===_0x66fafa[_0x3555d7(0x53f)]);_0xbd9a92!==-0x1&&(_0x17019d[_0x3555d7(0x7ba)][_0xbd9a92][_0x3555d7(0x468)]=!0x0);let _0x3c3887={'$push':{'messagesSend':_0x4433d4},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x560e07=[{'elem._id':_0x66fafa[_0x3555d7(0x53f)]}];if(this[_0x3555d7(0x6d9)]['warn'](this[_0x3555d7(0x33a)]+'\x20('+this[_0x3555d7(0x248)]['wuid']+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x66fafa[_0x3555d7(0x53f)]),_0x547051=await this[_0x3555d7(0x828)]['scheduleMessage']['updateOne']({'_id':_0x17019d[_0x3555d7(0x53f)]},_0x3c3887,this[_0x3555d7(0x248)][_0x3555d7(0x658)],{'arrayFilters':_0x560e07}),_0x23dcb6[_0x3555d7(0x5b6)]){this[_0x3555d7(0x6d9)][_0x3555d7(0x5b6)](this[_0x3555d7(0x33a)]+'\x20('+this[_0x3555d7(0x248)][_0x3555d7(0x658)]+_0x3555d7(0x1da)+_0x23dcb6[_0x3555d7(0x8a8)]);continue;}let _0xf245c3=this[_0x3555d7(0x5fd)](_0x17019d[_0x3555d7(0x1d1)],_0x17019d[_0x3555d7(0x4e5)]);await this['sleep'](_0xf245c3);}catch(_0x497bd4){this[_0x3555d7(0x6d9)][_0x3555d7(0x5b6)](this['instanceName']+'\x20('+this['instance'][_0x3555d7(0x658)]+_0x3555d7(0x1ea)+_0x66fafa[_0x3555d7(0x897)]+':\x20'+(_0x497bd4 instanceof Error?_0x497bd4[_0x3555d7(0x582)]:JSON[_0x3555d7(0x2d0)](_0x497bd4,null,0x2))),_0x4433d4['error']=!0x0,_0x4433d4['error_log']=_0x497bd4[_0x3555d7(0x582)];let _0x3b0980=_0x17019d['messages'][_0x3555d7(0x548)](_0x18ca97=>_0x18ca97['_id']===_0x66fafa[_0x3555d7(0x53f)]);_0x3b0980!==-0x1&&(_0x17019d[_0x3555d7(0x7ba)][_0x3b0980]['triedToSend']=!0x0);let _0x9f0d3e={'$push':{'messagesSend':_0x4433d4},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x59c951=[{'elem._id':_0x66fafa[_0x3555d7(0x53f)]}];this[_0x3555d7(0x6d9)][_0x3555d7(0x74f)](this['instanceName']+'\x20('+this['instance'][_0x3555d7(0x658)]+'):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20'+_0x66fafa[_0x3555d7(0x53f)]),_0x547051=await this[_0x3555d7(0x828)][_0x3555d7(0x627)][_0x3555d7(0x2d5)]({'_id':_0x17019d[_0x3555d7(0x53f)]},_0x9f0d3e,this[_0x3555d7(0x248)][_0x3555d7(0x658)],{'arrayFilters':_0x59c951});}finally{if(_0x547051&&_0x547051['status']==='stopped'){this[_0x3555d7(0x6d9)][_0x3555d7(0x74f)](this[_0x3555d7(0x33a)]+'\x20('+this[_0x3555d7(0x248)][_0x3555d7(0x658)]+_0x3555d7(0x31d)+_0x66fafa[_0x3555d7(0x53f)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}let _0x392d01=_0x547051['messages']['find'](_0x5c832d=>_0x5c832d['_id']===_0x66fafa[_0x3555d7(0x53f)]);if(_0x392d01&&!_0x392d01[_0x3555d7(0x468)]){let _0x425b99={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x7c640d=[{'elem._id':_0x66fafa[_0x3555d7(0x53f)]}];await this[_0x3555d7(0x828)][_0x3555d7(0x627)]['updateOne']({'_id':_0x547051[_0x3555d7(0x53f)]},_0x425b99,this['instance'][_0x3555d7(0x658)],{'arrayFilters':_0x7c640d});}if(this[_0x3555d7(0x8d1)]=_0x547051['messages'][_0x3555d7(0x7ab)](_0x5afda5=>!_0x5afda5[_0x3555d7(0x468)]),!this[_0x3555d7(0x248)][_0x3555d7(0x524)][_0x3555d7(0x2c2)]){await this['setRestartTimeout'](),this[_0x3555d7(0x6d9)][_0x3555d7(0x74f)](this[_0x3555d7(0x33a)]+'\x20('+this['instance']['wuid']+_0x3555d7(0x31d)+_0x17019d[_0x3555d7(0x53f)]+_0x3555d7(0x39a));break;}}}this[_0x3555d7(0x8d1)]=[];let _0x3f8540=await this[_0x3555d7(0x828)][_0x3555d7(0x627)][_0x3555d7(0x6b5)](_0x17019d[_0x3555d7(0x53f)],this[_0x3555d7(0x248)]['wuid']);if(_0x3f8540[_0x3555d7(0x7ba)]['every'](_0x5ea8ce=>_0x5ea8ce[_0x3555d7(0x468)])&&_0x3f8540['status']!==_0x3555d7(0x450)){let _0x106bca={'$set':{'status':_0x3555d7(0x3b2)}};await this['repository']['scheduleMessage'][_0x3555d7(0x769)](_0x3f8540['_id'],_0x106bca,this[_0x3555d7(0x248)][_0x3555d7(0x658)]);}await new Promise(_0x54775e=>setTimeout(_0x54775e,_0x1ebfc9)),global['gc']?global['gc']():console[_0x3555d7(0x74f)](_0x3555d7(0x433));}}[a0_0x389422(0x37c)](_0x50dd49){return new Promise((_0xb22411,_0x4c39db)=>setTimeout(()=>_0x4c39db(new Error('Timeout\x20exceeded')),_0x50dd49));}[a0_0x389422(0x5fd)](_0x3d28d5,_0x1d0e9b){const _0x5b64ec=a0_0x389422;return _0x3d28d5=Math[_0x5b64ec(0x528)](0.5,_0x3d28d5),_0x1d0e9b=Math['min'](Math['max'](0x3,_0x1d0e9b),0x78),Math[_0x5b64ec(0x448)](Math[_0x5b64ec(0x324)]()*(_0x1d0e9b-_0x3d28d5+0x1)+_0x3d28d5)*0x3e8;}[a0_0x389422(0x62d)](_0x4f4dcf){return new Promise(_0x4b9121=>setTimeout(_0x4b9121,_0x4f4dcf));}async[a0_0x389422(0x60f)](_0x34b83b){const _0x302a92=a0_0x389422;if(!this['AutomateSystem']&&(await this[_0x302a92(0x87a)](),!this['AutomateSystem']))return null;_0x34b83b=this['createJid'](_0x34b83b);let _0x101a73=await this[_0x302a92(0x828)][_0x302a92(0x8e5)][_0x302a92(0x892)]({'where':{'_id':_0x34b83b}},this[_0x302a92(0x248)][_0x302a92(0x658)]),_0x3bc6d1={};if(_0x101a73&&_0x101a73[_0x302a92(0x8cc)]){let _0x50bfa1=_0x101a73[_0x302a92(0x8cc)];typeof _0x50bfa1[_0x302a92(0x437)]==_0x302a92(0x709)&&(_0x3bc6d1['nome']=_0x50bfa1['nome']),typeof _0x50bfa1[_0x302a92(0x4d6)]==_0x302a92(0x709)&&(_0x3bc6d1['nomecompleto']=_0x50bfa1[_0x302a92(0x4d6)]),typeof _0x50bfa1[_0x302a92(0x4ea)]=='string'&&(_0x3bc6d1[_0x302a92(0x4ea)]=_0x50bfa1[_0x302a92(0x4ea)]),typeof _0x50bfa1[_0x302a92(0x4e1)]=='string'&&(_0x3bc6d1[_0x302a92(0x4e1)]=_0x50bfa1[_0x302a92(0x4e1)]),typeof _0x50bfa1[_0x302a92(0x3d8)]==_0x302a92(0x709)&&(_0x3bc6d1['status']=_0x50bfa1['status']),typeof _0x50bfa1[_0x302a92(0x69a)]=='string'&&(_0x3bc6d1[_0x302a92(0x69a)]=_0x50bfa1[_0x302a92(0x69a)]),typeof _0x50bfa1['responsavelid']==_0x302a92(0x709)&&(_0x3bc6d1['responsavelid']=_0x50bfa1[_0x302a92(0x807)]),Array[_0x302a92(0x1fc)](_0x50bfa1['tags'])&&(_0x3bc6d1[_0x302a92(0x7cf)]=_0x50bfa1['tags'][_0x302a92(0x5ee)](',\x20')),Array[_0x302a92(0x1fc)](_0x50bfa1[_0x302a92(0x774)])&&(_0x3bc6d1['etiquetas']=_0x50bfa1[_0x302a92(0x774)][_0x302a92(0x5ee)](',\x20'));}return _0x101a73&&_0x101a73['leadInfo']&&_0x101a73[_0x302a92(0x8cc)]['customFields']&&_0x101a73[_0x302a92(0x8cc)]['customFields'][_0x302a92(0x785)](_0x569558=>{const _0x2002ec=_0x302a92;let _0x10c133=this[_0x2002ec(0x346)]?.[_0x2002ec(0x59d)]['find'](_0x5b0f45=>_0x5b0f45['_id']===_0x569558[_0x2002ec(0x53f)]);_0x10c133&&(_0x3bc6d1[_0x10c133[_0x2002ec(0x467)]]=_0x569558['value']);}),_0x3bc6d1;}async[a0_0x389422(0x7cb)](_0x33a942,_0x1e774b){const _0x566bbc=a0_0x389422;try{let _0x266e06=await this['getVariablesChat'](_0x1e774b);return this[_0x566bbc(0x19d)](_0x33a942,_0x266e06);}catch(_0x5756b3){return this[_0x566bbc(0x6d9)]['error'](_0x566bbc(0x48f)+_0x1e774b+':\x20'+_0x5756b3),_0x33a942;}}async['transformScheduledMessagesByType'](){const _0xa80fc5=a0_0x389422;let _0x4ef8bb=async(_0x428b81,_0x232702)=>{const _0x3b1085=a0_0x3fdd;let _0x373060=(await this[_0x3b1085(0x828)][_0x3b1085(0x627)][_0x3b1085(0x428)]({'where':{'type':_0x428b81}},this[_0x3b1085(0x248)][_0x3b1085(0x658)]))['map'](async _0x20c12f=>{const _0x11421d=_0x3b1085;let _0x38c5fe=_0x232702(_0x20c12f),_0x13d59e=_0x4b3c31=>/^\d+$/['test'](_0x4b3c31),_0x1e87f0=_0x20c12f[_0x11421d(0x843)][_0x11421d(0x7ab)](_0x590599=>_0x590599['endsWith'](_0x11421d(0x72d))?_0x590599['length']>0x19:_0x590599[_0x11421d(0x79d)]('@g.us')?_0x590599[_0x11421d(0x7d0)]>0xf:_0x13d59e(_0x590599)?_0x590599['length']>=0xb:!0x1)[_0x11421d(0x3ea)](_0x9159d4=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x20c12f[_0x11421d(0x53f)],'type':_0x38c5fe,'remoteJid':_0x9159d4,'flow':_0x20c12f[_0x11421d(0x464)],'text':_0x20c12f['message']?.[_0x11421d(0x243)],'delay':_0x20c12f[_0x11421d(0x582)]?.['delay'],'urlOrBase64':_0x20c12f[_0x11421d(0x582)]?.[_0x11421d(0x7ea)],'linkPreview':_0x20c12f[_0x11421d(0x582)]?.[_0x11421d(0x2dc)],'fileName':_0x20c12f[_0x11421d(0x582)]?.[_0x11421d(0x4c8)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x11421d(0x828)][_0x11421d(0x627)][_0x11421d(0x769)](_0x20c12f[_0x11421d(0x53f)],{'$set':{'messages':_0x1e87f0},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this['instance'][_0x11421d(0x658)]);}catch(_0x25bb5a){console[_0x11421d(0x5b6)]('Erro\x20ao\x20atualizar\x20agendamento\x20'+_0x20c12f['_id']+':',_0x25bb5a);}});await Promise[_0x3b1085(0x73e)](_0x373060);};await _0x4ef8bb(_0xa80fc5(0x243),_0x4b5a45=>_0xa80fc5(0x243)),await _0x4ef8bb(_0xa80fc5(0x886),_0x2a8e3d=>_0x2a8e3d[_0xa80fc5(0x582)]?.['mediatype']||_0xa80fc5(0x886)),await _0x4ef8bb('audio',_0x14fae5=>_0xa80fc5(0x4ef)),await _0x4ef8bb('flow',_0x10b4fe=>_0xa80fc5(0x8b8)),await _0x4ef8bb(_0xa80fc5(0x2b8),_0x2bf849=>_0xa80fc5(0x2b8)),await _0x4ef8bb(_0xa80fc5(0x8fe),_0x2b811a=>_0xa80fc5(0x8fe)),await _0x4ef8bb(_0xa80fc5(0x8f9),_0x5a77a6=>'document'),this[_0xa80fc5(0x6d9)]['warn'](this[_0xa80fc5(0x33a)]+'\x20('+this[_0xa80fc5(0x248)][_0xa80fc5(0x658)]+_0xa80fc5(0x66d));}async[a0_0x389422(0x5cb)](_0x31680a){const _0x505bed=a0_0x389422;try{if(this[_0x505bed(0x6d9)][_0x505bed(0x74f)](this[_0x505bed(0x33a)]+'\x20('+this[_0x505bed(0x248)][_0x505bed(0x658)]+_0x505bed(0x7ad)),_0x31680a[_0x505bed(0x53f)]||(_0x31680a['_id']=(0x0,Y['v4'])()),this[_0x505bed(0x248)][_0x505bed(0x524)][_0x505bed(0x2c2)]?.['_id']===_0x31680a[_0x505bed(0x53f)]?.[_0x505bed(0x46e)]()){if(_0x31680a['status']===_0x505bed(0x450))this['instance'][_0x505bed(0x524)]['processingGroup']=null;else throw new Error(_0x505bed(0x698));}if(_0x31680a['delete']&&_0x31680a[_0x505bed(0x53f)]){let _0x239a6c=await this[_0x505bed(0x828)][_0x505bed(0x627)][_0x505bed(0x7c3)](_0x31680a[_0x505bed(0x53f)],this[_0x505bed(0x248)][_0x505bed(0x658)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x239a6c;}let _0x8ca8ed=null;if(_0x31680a[_0x505bed(0x53f)]&&(_0x8ca8ed=await this[_0x505bed(0x828)]['scheduleMessage'][_0x505bed(0x6b5)](_0x31680a[_0x505bed(0x53f)],this['instance'][_0x505bed(0x658)])),_0x8ca8ed){let {_id:_0x53e782,owner:_0xe1405e,messages:_0x359b5e,..._0x279153}=_0x31680a;if(_0x359b5e){let _0xebcdbd=_0x359b5e[_0x505bed(0x7ab)](_0x20108c=>!_0x20108c['_id']),_0x364485=_0x359b5e[_0x505bed(0x7ab)](_0x1b8ff7=>_0x1b8ff7[_0x505bed(0x53f)]&&!_0x1b8ff7[_0x505bed(0x216)]),_0x419fdd=_0x359b5e['filter'](_0x5157c5=>_0x5157c5[_0x505bed(0x53f)]&&_0x5157c5[_0x505bed(0x216)]);if(_0xebcdbd[_0x505bed(0x7d0)]>0x0&&await this[_0x505bed(0x1b5)](_0x31680a[_0x505bed(0x53f)],_0xebcdbd),_0x364485[_0x505bed(0x7d0)]>0x0&&await this[_0x505bed(0x829)]({'_id':_0x31680a[_0x505bed(0x53f)],'messages':_0x364485}),_0x419fdd['length']>0x0){let _0x4b0fa3=_0x419fdd[_0x505bed(0x3ea)](_0x3497ee=>({'updateOne':{'filter':{'_id':_0x31680a['_id']},'update':{'$pull':{'messages':{'_id':_0x3497ee[_0x505bed(0x53f)]}}}}}));await this[_0x505bed(0x828)][_0x505bed(0x627)]['bulkWrite'](_0x4b0fa3,this[_0x505bed(0x248)][_0x505bed(0x658)]);}}let _0x4d765f={'$set':{..._0x279153,'status':_0x31680a[_0x505bed(0x3d8)]||_0x8ca8ed[_0x505bed(0x3d8)]}},_0x23c413=await this[_0x505bed(0x828)]['scheduleMessage'][_0x505bed(0x769)](_0x31680a[_0x505bed(0x53f)],_0x4d765f,this[_0x505bed(0x248)][_0x505bed(0x658)]);return _0x23c413&&(this['reorderMessages'](_0x23c413[_0x505bed(0x7ba)]),await this['repository'][_0x505bed(0x627)][_0x505bed(0x769)](_0x23c413[_0x505bed(0x53f)],{'$set':{'messages':_0x23c413[_0x505bed(0x7ba)]}},this[_0x505bed(0x248)][_0x505bed(0x658)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this[_0x505bed(0x1e5)](),_0x23c413;}else{_0x31680a[_0x505bed(0x23e)]=this[_0x505bed(0x248)]['wuid'],_0x31680a[_0x505bed(0x7ba)]&&_0x31680a[_0x505bed(0x7ba)][_0x505bed(0x785)](_0x19ccb8=>{const _0x38eec8=_0x505bed;_0x19ccb8[_0x38eec8(0x53f)]||(_0x19ccb8[_0x38eec8(0x53f)]=(0x0,Y['v4'])()),_0x19ccb8['idSchedule']||(_0x19ccb8['idSchedule']=_0x31680a[_0x38eec8(0x53f)]),delete _0x19ccb8[_0x38eec8(0x468)];});let _0x255798=await this[_0x505bed(0x828)][_0x505bed(0x627)][_0x505bed(0x8d8)](_0x31680a,this[_0x505bed(0x248)][_0x505bed(0x658)]);return _0x255798&&(this['reorderMessages'](_0x255798['messages']),await this['repository'][_0x505bed(0x627)][_0x505bed(0x769)](_0x255798[_0x505bed(0x53f)],{'$set':{'messages':_0x255798[_0x505bed(0x7ba)]}},this[_0x505bed(0x248)][_0x505bed(0x658)])),setTimeout(()=>this[_0x505bed(0x1a3)](),0x7d0),_0x255798;}}catch(_0x5aa3a6){let _0x3e6e48=_0x505bed(0x5b9),_0x4282e8=_0x5aa3a6 instanceof Error?_0x5aa3a6[_0x505bed(0x582)]:typeof _0x5aa3a6==_0x505bed(0x26d)?JSON[_0x505bed(0x2d0)](_0x5aa3a6):_0x5aa3a6,_0x37fe21=_0x3e6e48+':\x20'+_0x4282e8;throw this[_0x505bed(0x6d9)]['error'](this[_0x505bed(0x33a)]+'\x20('+this[_0x505bed(0x248)][_0x505bed(0x658)]+_0x505bed(0x375)+_0x37fe21),new m(_0x37fe21);}}async['addMessagesToGroup'](_0x5b14b5,_0x275dae){const _0x14da4f=a0_0x389422;try{this[_0x14da4f(0x6d9)][_0x14da4f(0x2b6)](this['instanceName']+'\x20('+this['instance'][_0x14da4f(0x658)]+_0x14da4f(0x66b)),_0x275dae[_0x14da4f(0x785)](_0x511caa=>{const _0x62cb2f=_0x14da4f;_0x511caa['_id']||(_0x511caa[_0x62cb2f(0x53f)]=(0x0,Y['v4'])()),_0x511caa[_0x62cb2f(0x8e2)]||(_0x511caa[_0x62cb2f(0x8e2)]=_0x5b14b5),delete _0x511caa[_0x62cb2f(0x468)];});let _0x524152={'$push':{'messages':{'$each':_0x275dae}}},_0x4a014a=await this[_0x14da4f(0x828)]['scheduleMessage'][_0x14da4f(0x769)](_0x5b14b5,_0x524152,this[_0x14da4f(0x248)][_0x14da4f(0x658)]);return _0x4a014a&&(this[_0x14da4f(0x8df)](_0x4a014a[_0x14da4f(0x7ba)]),await this[_0x14da4f(0x828)][_0x14da4f(0x627)][_0x14da4f(0x769)](_0x4a014a[_0x14da4f(0x53f)],{'$set':{'messages':_0x4a014a[_0x14da4f(0x7ba)]}},this[_0x14da4f(0x248)][_0x14da4f(0x658)])),_0x4a014a;}catch(_0xa9de74){let _0xe83089=_0x14da4f(0x44f),_0x23fdb0=_0xa9de74 instanceof Error?_0xa9de74[_0x14da4f(0x582)]:typeof _0xa9de74==_0x14da4f(0x26d)?JSON[_0x14da4f(0x2d0)](_0xa9de74):_0xa9de74,_0x42b743=_0xe83089+':\x20'+_0x23fdb0;throw this['logger'][_0x14da4f(0x5b6)](this[_0x14da4f(0x33a)]+'\x20('+this[_0x14da4f(0x248)][_0x14da4f(0x658)]+_0x14da4f(0x375)+_0x42b743),new m(_0x42b743);}}async[a0_0x389422(0x829)](_0x106013){const _0x95a3e=a0_0x389422;try{if(this[_0x95a3e(0x6d9)][_0x95a3e(0x2b6)](this[_0x95a3e(0x33a)]+'\x20('+this[_0x95a3e(0x248)]['wuid']+_0x95a3e(0x40a)),!_0x106013['_id']||!_0x106013[_0x95a3e(0x7ba)])throw new Error('Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.');let _0x4b5d82=_0x106013[_0x95a3e(0x53f)],_0x4d0167=_0x106013[_0x95a3e(0x7ba)],_0x2ae42b=_0x4d0167['filter'](_0x49e617=>!_0x49e617[_0x95a3e(0x216)])[_0x95a3e(0x3ea)](_0x59639a=>{const _0x410b59=_0x95a3e;let _0x3a09ab=_0x59639a[_0x410b59(0x53f)];if(!_0x3a09ab)throw new Error(_0x410b59(0x30c));return _0x59639a[_0x410b59(0x8e2)]||(_0x59639a[_0x410b59(0x8e2)]=_0x4b5d82),delete _0x59639a[_0x410b59(0x468)],{'updateOne':{'filter':{'_id':_0x4b5d82,'messages._id':_0x3a09ab},'update':{'$set':{'messages.$[elem]':_0x59639a}},'arrayFilters':[{'elem._id':_0x3a09ab}]}};}),_0x327ce0=_0x4d0167[_0x95a3e(0x7ab)](_0x8d1a01=>_0x8d1a01[_0x95a3e(0x216)])['map'](_0x139332=>{const _0x3dd538=_0x95a3e;let _0x364e15=_0x139332[_0x3dd538(0x53f)];if(!_0x364e15)throw new Error(_0x3dd538(0x274));return{'updateOne':{'filter':{'_id':_0x4b5d82},'update':{'$pull':{'messages':{'_id':_0x364e15}}}}};}),_0x14e094=[..._0x2ae42b,..._0x327ce0],_0x5279b7=await this[_0x95a3e(0x828)][_0x95a3e(0x627)][_0x95a3e(0x534)](_0x14e094,this[_0x95a3e(0x248)][_0x95a3e(0x658)]),_0x277641=await this[_0x95a3e(0x828)][_0x95a3e(0x627)][_0x95a3e(0x6b5)](_0x4b5d82,this[_0x95a3e(0x248)][_0x95a3e(0x658)]);return _0x277641&&(this[_0x95a3e(0x8df)](_0x277641[_0x95a3e(0x7ba)]),await this[_0x95a3e(0x828)][_0x95a3e(0x627)][_0x95a3e(0x769)](_0x277641[_0x95a3e(0x53f)],{'$set':{'messages':_0x277641[_0x95a3e(0x7ba)]}},this['instance'][_0x95a3e(0x658)])),_0x277641;}catch(_0x2f5a29){let _0xc134d5=_0x95a3e(0x2e7),_0x57c4bc=_0x2f5a29 instanceof Error?_0x2f5a29[_0x95a3e(0x582)]:typeof _0x2f5a29==_0x95a3e(0x26d)?JSON[_0x95a3e(0x2d0)](_0x2f5a29):_0x2f5a29,_0x869847=_0xc134d5+':\x20'+_0x57c4bc;throw this[_0x95a3e(0x6d9)][_0x95a3e(0x5b6)](this[_0x95a3e(0x33a)]+'\x20('+this[_0x95a3e(0x248)][_0x95a3e(0x658)]+_0x95a3e(0x375)+_0x869847),new m(_0x869847);}}async[a0_0x389422(0x623)](){const _0x33751f=a0_0x389422;try{let _0x109b4d={'status':_0x33751f(0x3b2)},_0x294266=await this[_0x33751f(0x828)]['scheduleMessage'][_0x33751f(0x30b)](_0x109b4d,this[_0x33751f(0x248)][_0x33751f(0x658)]);if(!_0x294266[_0x33751f(0x5b6)])this['logger'][_0x33751f(0x2b6)](this[_0x33751f(0x33a)]+'\x20('+this['instance']['wuid']+_0x33751f(0x244));else throw new Error(_0x294266[_0x33751f(0x5b6)]['message']||_0x33751f(0x1c6));return this[_0x33751f(0x4b6)]();}catch(_0x7b50d){let _0x48620d=_0x33751f(0x3ec),_0x597921=_0x7b50d instanceof Error?_0x7b50d[_0x33751f(0x582)]:typeof _0x7b50d==_0x33751f(0x26d)?JSON[_0x33751f(0x2d0)](_0x7b50d):_0x7b50d,_0x2eecd4=_0x48620d+':\x20'+_0x597921;throw this[_0x33751f(0x6d9)][_0x33751f(0x5b6)](this[_0x33751f(0x33a)]+'\x20('+this['instance'][_0x33751f(0x658)]+'):\x20'+_0x2eecd4),new m(_0x2eecd4);}}async[a0_0x389422(0x4b6)](){const _0x17bfaa=a0_0x389422;try{return await this[_0x17bfaa(0x828)][_0x17bfaa(0x627)][_0x17bfaa(0x428)]({'where':{}},this[_0x17bfaa(0x248)][_0x17bfaa(0x658)]);}catch(_0x19b876){let _0x5ca580=_0x17bfaa(0x546),_0x58a3fc=_0x19b876 instanceof Error?_0x19b876['message']:typeof _0x19b876=='object'?JSON[_0x17bfaa(0x2d0)](_0x19b876):_0x19b876,_0x23afcb=_0x5ca580+':\x20'+_0x58a3fc;throw this[_0x17bfaa(0x6d9)][_0x17bfaa(0x5b6)](this['instanceName']+'\x20('+this[_0x17bfaa(0x248)][_0x17bfaa(0x658)]+_0x17bfaa(0x375)+_0x23afcb),new m(_0x23afcb);}}['reorderMessages'](_0xc9be3d){const _0x476396=a0_0x389422;_0xc9be3d[_0x476396(0x1fa)]((_0x24e992,_0x1fa90a)=>_0x24e992[_0x476396(0x29c)]-_0x1fa90a[_0x476396(0x29c)]),_0xc9be3d[_0x476396(0x785)]((_0x2afbb1,_0x514aa0)=>{const _0x2562b4=_0x476396;_0x2afbb1[_0x2562b4(0x29c)]=_0x514aa0+0x1;});}async['SendScheduleMessage'](_0x686e45,_0x560ad0){const _0x3620e3=a0_0x389422;try{if(!_0x560ad0)return this[_0x3620e3(0x6d9)][_0x3620e3(0x5b6)](this[_0x3620e3(0x33a)]+'\x20('+this['instance']['wuid']+_0x3620e3(0x3ab)),{'error':!0x0,'detail':_0x3620e3(0x282)};if(_0x560ad0[_0x3620e3(0x3e0)]===_0x3620e3(0x8b8)&&!this[_0x3620e3(0x346)]?.['flowConfig']['enabled'])return this[_0x3620e3(0x6d9)][_0x3620e3(0x5b6)](this[_0x3620e3(0x33a)]+'\x20('+this[_0x3620e3(0x248)][_0x3620e3(0x658)]+_0x3620e3(0x5cc)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x560ad0[_0x3620e3(0x3e0)]){case _0x3620e3(0x243):return await this[_0x3620e3(0x8b5)](_0x560ad0,_0x686e45);case _0x3620e3(0x8fe):case _0x3620e3(0x2b8):case'document':return await this[_0x3620e3(0x73a)](_0x560ad0,_0x686e45);case _0x3620e3(0x4ef):return await this[_0x3620e3(0x29f)](_0x560ad0,_0x686e45);case _0x3620e3(0x8b8):let _0x4b494a=new We();return _0x4b494a[_0x3620e3(0x467)]=_0x560ad0[_0x3620e3(0x8b8)],_0x4b494a[_0x3620e3(0x897)]=_0x686e45,await this[_0x3620e3(0x782)](_0x4b494a);default:return this[_0x3620e3(0x6d9)][_0x3620e3(0x5b6)](this[_0x3620e3(0x33a)]+'\x20('+this[_0x3620e3(0x248)][_0x3620e3(0x658)]+_0x3620e3(0x891)+_0x560ad0[_0x3620e3(0x3e0)]),{'error':!0x0,'detail':_0x3620e3(0x2ee)};}}catch(_0x31cddc){return this[_0x3620e3(0x6d9)][_0x3620e3(0x5b6)](this['instanceName']+'\x20('+this[_0x3620e3(0x248)]['wuid']+_0x3620e3(0x3a7)+(_0x31cddc instanceof Error?_0x31cddc['message']:JSON[_0x3620e3(0x2d0)](_0x31cddc,null,0x2))),{'error':!0x0,'detail':_0x31cddc[_0x3620e3(0x582)]};}}async[a0_0x389422(0x8b5)](_0x1e2684,_0x5db766){const _0x5aea73=a0_0x389422;if(this[_0x5aea73(0x6d9)][_0x5aea73(0x2b6)](this[_0x5aea73(0x33a)]+'\x20('+this[_0x5aea73(0x248)][_0x5aea73(0x658)]+'):\x20\x27Enviando\x20texto\x20para\x20\x27'+_0x5db766+'\x27'),!_0x1e2684[_0x5aea73(0x243)]||_0x1e2684[_0x5aea73(0x243)]['length']===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x476c7d=await this['replaceVariablesChat'](_0x1e2684['text'],_0x5db766),_0x5164d6={'number':_0x5db766,'options':{'delay':_0x1e2684[_0x5aea73(0x3dc)],'linkPreview':_0x1e2684[_0x5aea73(0x2dc)]},'textMessage':{'text':_0x476c7d}},_0x59ade6=null;try{let _0xf8bdfa=await this['textMessage'](_0x5164d6);if(_0xf8bdfa&&_0xf8bdfa[_0x5aea73(0x3d8)])return{'error':!0x1,'id':_0xf8bdfa['key']['id']};_0x59ade6=JSON[_0x5aea73(0x2d0)](_0xf8bdfa),this[_0x5aea73(0x6d9)][_0x5aea73(0x2b6)](this['instanceName']+'\x20('+this['instance'][_0x5aea73(0x658)]+_0x5aea73(0x375)+_0x59ade6);}catch(_0x40c0e1){this[_0x5aea73(0x6d9)][_0x5aea73(0x5b6)](this[_0x5aea73(0x33a)]+'\x20('+this[_0x5aea73(0x248)]['wuid']+_0x5aea73(0x893)+(_0x40c0e1 instanceof Error?_0x40c0e1[_0x5aea73(0x582)]:JSON[_0x5aea73(0x2d0)](_0x40c0e1,null,0x2))),_0x59ade6=_0x40c0e1['message'];}if(_0x59ade6)return{'error':!0x0,'detail':(typeof _0x59ade6==_0x5aea73(0x26d)?JSON[_0x5aea73(0x2d0)](_0x59ade6,null,0x2):_0x59ade6)[_0x5aea73(0x793)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x389422(0x73a)](_0x3b0aa9,_0xb2632b){const _0x3795f1=a0_0x389422;this[_0x3795f1(0x6d9)][_0x3795f1(0x2b6)](this[_0x3795f1(0x33a)]+'\x20('+this[_0x3795f1(0x248)][_0x3795f1(0x658)]+'):\x20\x27Enviando\x20mídia\x20para\x20\x27'+_0xb2632b+'\x27');let _0x25e0dc;_0x3b0aa9[_0x3795f1(0x243)]&&_0x3b0aa9[_0x3795f1(0x243)][_0x3795f1(0x7d0)]>0x0&&(_0x25e0dc=await this[_0x3795f1(0x7cb)](_0x3b0aa9[_0x3795f1(0x243)],_0xb2632b));let _0x573a37={'number':_0xb2632b,'options':{'delay':_0x3b0aa9[_0x3795f1(0x3dc)],'linkPreview':_0x3b0aa9['linkPreview']},'mediaMessage':{'mediatype':_0x3b0aa9[_0x3795f1(0x3e0)],'caption':_0x25e0dc,'media':_0x3b0aa9[_0x3795f1(0x7ea)]}},_0x857a06=null;try{let _0x11046f=await this['mediaMessage'](_0x573a37);if(_0x11046f&&_0x11046f[_0x3795f1(0x3d8)])return{'error':!0x1,'id':_0x11046f[_0x3795f1(0x71e)]['id']};_0x857a06=JSON[_0x3795f1(0x2d0)](_0x11046f),this[_0x3795f1(0x6d9)][_0x3795f1(0x2b6)](this[_0x3795f1(0x33a)]+'\x20('+this[_0x3795f1(0x248)][_0x3795f1(0x658)]+_0x3795f1(0x375)+_0x857a06);}catch(_0x5dc2ee){this[_0x3795f1(0x6d9)][_0x3795f1(0x5b6)](this['instanceName']+'\x20('+this[_0x3795f1(0x248)][_0x3795f1(0x658)]+_0x3795f1(0x90a)+(_0x5dc2ee instanceof Error?_0x5dc2ee[_0x3795f1(0x582)]:JSON[_0x3795f1(0x2d0)](_0x5dc2ee,null,0x2))),_0x857a06=_0x5dc2ee[_0x3795f1(0x582)];}if(_0x857a06)return{'error':!0x0,'detail':(typeof _0x857a06==_0x3795f1(0x26d)?JSON['stringify'](_0x857a06,null,0x2):_0x857a06)[_0x3795f1(0x793)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x389422(0x29f)](_0xa3be7b,_0x4aaf13){const _0xb394d3=a0_0x389422;this[_0xb394d3(0x6d9)]['verbose'](this['instanceName']+'\x20('+this[_0xb394d3(0x248)]['wuid']+_0xb394d3(0x64c)+_0x4aaf13+'\x27');let _0x2ee922={'number':_0x4aaf13,'options':{'delay':_0xa3be7b[_0xb394d3(0x3dc)]},'audioMessage':{'audio':_0xa3be7b['urlOrBase64']}},_0x2f548e=null;try{let _0x10ab7b=await this[_0xb394d3(0x858)](_0x2ee922);if(_0x10ab7b&&_0x10ab7b['status'])return{'error':!0x1,'id':_0x10ab7b['key']['id']};_0x2f548e=JSON[_0xb394d3(0x2d0)](_0x10ab7b),this[_0xb394d3(0x6d9)][_0xb394d3(0x2b6)](this[_0xb394d3(0x33a)]+'\x20('+this['instance'][_0xb394d3(0x658)]+_0xb394d3(0x375)+_0x2f548e);}catch(_0x3e8c2d){this[_0xb394d3(0x6d9)][_0xb394d3(0x5b6)](this['instanceName']+'\x20('+this[_0xb394d3(0x248)][_0xb394d3(0x658)]+_0xb394d3(0x23d)+(_0x3e8c2d instanceof Error?_0x3e8c2d[_0xb394d3(0x582)]:JSON[_0xb394d3(0x2d0)](_0x3e8c2d,null,0x2))),_0x2f548e=_0x3e8c2d[_0xb394d3(0x582)];}if(_0x2f548e)return{'error':!0x0,'detail':(typeof _0x2f548e==_0xb394d3(0x26d)?JSON['stringify'](_0x2f548e,null,0x2):_0x2f548e)[_0xb394d3(0x793)](/[\[\]{}\n]/g,'\x20')[_0xb394d3(0x793)](/  +/g,'\x20')};}async[a0_0x389422(0x3a1)](_0x503e7a){const _0x26defe=a0_0x389422;try{return await this['client'][_0x26defe(0x23c)](_0x503e7a['groupJid'],_0x503e7a['description']),{'update':'success'};}catch(_0x4a220d){let _0x264b87=_0x26defe(0x27e),_0x693590=_0x4a220d instanceof Error?_0x4a220d[_0x26defe(0x582)]:typeof _0x4a220d==_0x26defe(0x26d)?JSON[_0x26defe(0x2d0)](_0x4a220d):_0x4a220d,_0x43aed7=_0x264b87+':\x20'+_0x693590;throw this[_0x26defe(0x6d9)]['error'](this[_0x26defe(0x33a)]+'\x20('+this[_0x26defe(0x248)][_0x26defe(0x658)]+_0x26defe(0x375)+_0x43aed7),new x(_0x43aed7);}}async[a0_0x389422(0x1c1)](_0x393ddc){const _0x4797a8=a0_0x389422;try{return await this[_0x4797a8(0x496)][_0x4797a8(0x439)](_0x393ddc[_0x4797a8(0x232)],_0x393ddc[_0x4797a8(0x467)]),{'update':_0x4797a8(0x67f)};}catch(_0xb54d55){let _0x414811=_0x4797a8(0x518),_0x598e5c=_0xb54d55 instanceof Error?_0xb54d55[_0x4797a8(0x582)]:typeof _0xb54d55==_0x4797a8(0x26d)?JSON[_0x4797a8(0x2d0)](_0xb54d55):_0xb54d55,_0x1e853f=_0x414811+':\x20'+_0x598e5c;throw this[_0x4797a8(0x6d9)][_0x4797a8(0x5b6)](this[_0x4797a8(0x33a)]+'\x20('+this[_0x4797a8(0x248)]['wuid']+_0x4797a8(0x375)+_0x1e853f),new x(_0x1e853f);}}async[a0_0x389422(0x7c0)](_0x345d48){const _0x3b2515=a0_0x389422;try{let _0x59b372=await this['client'][_0x3b2515(0x205)](_0x345d48[_0x3b2515(0x232)],_0x345d48[_0x3b2515(0x335)]);return{'success':!0x0};}catch(_0x5e820e){let _0x281a74=_0x3b2515(0x770),_0x50b243=_0x5e820e instanceof Error?_0x5e820e[_0x3b2515(0x582)]:typeof _0x5e820e=='object'?JSON['stringify'](_0x5e820e):_0x5e820e,_0x21b520=_0x281a74+':\x20'+_0x50b243;throw this[_0x3b2515(0x6d9)][_0x3b2515(0x5b6)](this['instanceName']+'\x20('+this[_0x3b2515(0x248)][_0x3b2515(0x658)]+'):\x20'+_0x21b520),new x(_0x21b520);}}async[a0_0x389422(0x55b)](_0x23b03d){const _0x43ed78=a0_0x389422;try{return await this[_0x43ed78(0x496)][_0x43ed78(0x766)](_0x23b03d[_0x43ed78(0x232)],_0x23b03d['setting']),{'update':'success'};}catch(_0x416c52){let _0x15e75a=_0x43ed78(0x460),_0x552da5=_0x416c52 instanceof Error?_0x416c52[_0x43ed78(0x582)]:typeof _0x416c52==_0x43ed78(0x26d)?JSON[_0x43ed78(0x2d0)](_0x416c52):_0x416c52,_0xa3c10e=_0x15e75a+':\x20'+_0x552da5;throw this[_0x43ed78(0x6d9)][_0x43ed78(0x5b6)](this[_0x43ed78(0x33a)]+'\x20('+this[_0x43ed78(0x248)][_0x43ed78(0x658)]+'):\x20'+_0xa3c10e),new x(_0xa3c10e);}}async[a0_0x389422(0x6a9)](_0x222575){const _0x4eadc2=a0_0x389422;try{let _0x1e5309;if((0x0,J[_0x4eadc2(0x26e)])(_0x222575[_0x4eadc2(0x2b8)])){let _0x3484b0=new Date()[_0x4eadc2(0x3e6)](),_0x1f0247=_0x222575[_0x4eadc2(0x2b8)]+_0x4eadc2(0x6ac)+_0x3484b0;_0x1e5309=(await Q['default']['get'](_0x1f0247,{'responseType':_0x4eadc2(0x5c4)}))[_0x4eadc2(0x863)];}else{if((0x0,J[_0x4eadc2(0x210)])(_0x222575[_0x4eadc2(0x2b8)]))_0x1e5309=Buffer[_0x4eadc2(0x46a)](_0x222575[_0x4eadc2(0x2b8)],_0x4eadc2(0x1a9));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x4eadc2(0x496)][_0x4eadc2(0x880)](_0x222575['groupJid'],_0x1e5309),{'update':_0x4eadc2(0x67f)};}catch(_0x37b030){let _0x3ea39c=_0x4eadc2(0x306),_0x5dbef5=_0x37b030 instanceof Error?_0x37b030[_0x4eadc2(0x582)]:typeof _0x37b030=='object'?JSON[_0x4eadc2(0x2d0)](_0x37b030):_0x37b030,_0x400dbd=_0x3ea39c+':\x20'+_0x5dbef5;throw this['logger'][_0x4eadc2(0x5b6)](this[_0x4eadc2(0x33a)]+'\x20('+this[_0x4eadc2(0x248)][_0x4eadc2(0x658)]+_0x4eadc2(0x375)+_0x400dbd),new x(_0x400dbd);}}},jt=class u{constructor(_0x549b37,_0x17456d,_0x31dfc3){const _0x31d5d6=a0_0x389422;this[_0x31d5d6(0x189)]=_0x549b37,this['configService']=_0x17456d,this[_0x31d5d6(0x828)]=_0x31dfc3,this['db']={},this[_0x31d5d6(0x6bd)]={},this[_0x31d5d6(0x6d9)]=new $(u[_0x31d5d6(0x467)]),this[_0x31d5d6(0x18a)]={},(this[_0x31d5d6(0x308)](),this[_0x31d5d6(0x6a4)](),Object['assign'](this['db'],_0x17456d[_0x31d5d6(0x3a9)]('DATABASE')),Object[_0x31d5d6(0x8d9)](this['redis'],_0x17456d[_0x31d5d6(0x3a9)](_0x31d5d6(0x593))),this[_0x31d5d6(0x6ee)]=this['db'][_0x31d5d6(0x290)]?this[_0x31d5d6(0x828)][_0x31d5d6(0x6d6)]?.['db'](this['db']['CONNECTION'][_0x31d5d6(0x625)]+_0x31d5d6(0x45e)):void 0x0,this[_0x31d5d6(0x457)]=this['redis'][_0x31d5d6(0x290)]?new pe(this[_0x31d5d6(0x6bd)]):void 0x0);}async[a0_0x389422(0x3f8)](_0x51425c){const _0x3d1f61=a0_0x389422;if(_0x51425c&&!this['waInstances'][_0x51425c])throw new U(_0x3d1f61(0x61c)+_0x51425c+_0x3d1f61(0x789));let _0x11f1c4=[];for await(let [_0x1b78c4,_0x260a96]of Object[_0x3d1f61(0x730)](this['waInstances']))if(_0x260a96&&_0x260a96[_0x3d1f61(0x52c)]['state']===_0x3d1f61(0x214)){let _0x7d18ff=await this[_0x3d1f61(0x828)][_0x3d1f61(0x32a)]['find'](_0x1b78c4);_0x11f1c4['push']({'instance':{'instanceName':_0x1b78c4,'apikey':_0x7d18ff[_0x3d1f61(0x34b)],'owner':_0x260a96[_0x3d1f61(0x658)],'profileName':await _0x260a96[_0x3d1f61(0x5eb)]()||_0x3d1f61(0x3be),'profilePictureUrl':_0x260a96['profilePictureUrl']}});}return _0x11f1c4[_0x3d1f61(0x428)](_0x1f02a6=>_0x1f02a6[_0x3d1f61(0x248)]['instanceName']===_0x51425c)??_0x11f1c4;}async[a0_0x389422(0x4bd)](_0x2586bc){const _0x313f3a=a0_0x389422;if(this['db'][_0x313f3a(0x290)]&&(await this[_0x313f3a(0x828)][_0x313f3a(0x6d6)][_0x313f3a(0x64f)](),(await this[_0x313f3a(0x6ee)][_0x313f3a(0x767)]())[_0x313f3a(0x7d0)]>0x0&&await this[_0x313f3a(0x6ee)]['dropCollection'](_0x2586bc)),this['redis'][_0x313f3a(0x290)]){this[_0x313f3a(0x457)][_0x313f3a(0x47f)]=_0x2586bc,await this['cache'][_0x313f3a(0x4f9)]();return;}}async['loadInstance'](){const _0x30d039=a0_0x389422;await this[_0x30d039(0x2cf)]();let _0x4adb2e=async _0x3743d8=>{const _0x4ab2c9=_0x30d039;let _0x105638=new $e(this[_0x4ab2c9(0x33c)],this[_0x4ab2c9(0x189)],this[_0x4ab2c9(0x828)]);_0x105638['instanceName']=_0x3743d8,await _0x105638[_0x4ab2c9(0x838)](),this['waInstances'][_0x3743d8]=_0x105638;};try{if(this[_0x30d039(0x6bd)]['ENABLED']){let _0x4b12d0=await this['cache'][_0x30d039(0x380)]();_0x4b12d0?.[_0x30d039(0x7d0)]>0x0&&_0x4b12d0[_0x30d039(0x785)](async _0x108c8a=>await _0x4adb2e(_0x108c8a[_0x30d039(0x1eb)](':')[0x1]));return;}if(this['db'][_0x30d039(0x290)]){await this['repository'][_0x30d039(0x6d6)][_0x30d039(0x64f)]();let _0x272279=await this[_0x30d039(0x6ee)]['collections']();_0x272279[_0x30d039(0x7d0)]>0x0&&_0x272279['forEach'](async _0x4a0458=>await _0x4adb2e(_0x4a0458[_0x30d039(0x870)][_0x30d039(0x793)](/^[\w-]+\./,'')));return;}}catch(_0x2e801b){this[_0x30d039(0x6d9)][_0x30d039(0x5b6)](_0x2e801b);}}async['cleanDisconnectedInstances'](){const _0x2d3ad2=a0_0x389422;try{let _0x16dad5=await this[_0x2d3ad2(0x828)]['auth'][_0x2d3ad2(0x470)]({'online':!0x1});for(let _0x2a480d of _0x16dad5){let _0x50b90d=_0x2a480d[_0x2d3ad2(0x53f)];await ae[_0x2d3ad2(0x37a)](B,_0x50b90d);}console['log'](_0x2d3ad2(0x199)+_0x16dad5['length']);let _0x4074b2={'online':!0x1},_0x559e2a=await this[_0x2d3ad2(0x828)][_0x2d3ad2(0x32a)][_0x2d3ad2(0x30b)](_0x4074b2);console[_0x2d3ad2(0x361)]('Instâncias\x20removidas:\x20'+_0x559e2a['insertCount']);}catch(_0x26b801){console[_0x2d3ad2(0x5b6)](_0x2d3ad2(0x187),_0x26b801);}}async[a0_0x389422(0x2cf)](){const _0x23d26a=a0_0x389422;try{let _0x2171bb={'online':!0x1},_0x425246={'online':!0x1,'lastDisconnect':Date[_0x23d26a(0x755)]()},_0x50c488=await this[_0x23d26a(0x828)][_0x23d26a(0x32a)][_0x23d26a(0x317)](_0x2171bb,_0x425246);await this[_0x23d26a(0x67b)]();}catch(_0x29aa26){console['error'](_0x23d26a(0x8bb),_0x29aa26);}}[a0_0x389422(0x308)](){this['eventEmitter']['on']('remove.instance',async _0x31f8f4=>{const _0x38ec5f=a0_0x3fdd;try{this[_0x38ec5f(0x18a)][_0x31f8f4]=void 0x0;}catch{}try{this[_0x38ec5f(0x4bd)](_0x31f8f4);}finally{this[_0x38ec5f(0x6d9)][_0x38ec5f(0x74f)](_0x38ec5f(0x61c)+_0x31f8f4+'\x22\x20-\x20REMOVED');}});}[a0_0x389422(0x6a4)](){const _0x20cf0f=a0_0x389422;this[_0x20cf0f(0x189)]['on'](_0x20cf0f(0x677),async _0x406e4b=>{const _0x6c0b8a=_0x20cf0f;try{this[_0x6c0b8a(0x18a)][_0x406e4b]=void 0x0;}catch{}try{this[_0x6c0b8a(0x4bd)](_0x406e4b);}finally{this[_0x6c0b8a(0x6d9)][_0x6c0b8a(0x74f)]('Instance\x20\x22'+_0x406e4b+_0x6c0b8a(0x751));}});}},Jt=class extends _{['getChatModelForOwner'](_0x2e3406){return ta(_0x2e3406);}async[a0_0x389422(0x4a0)](_0xe392a2){const _0x5f0151=a0_0x389422;if(_0xe392a2['length']!==0x0)try{return{'insertCount':(await this[_0x5f0151(0x38e)](_0xe392a2[0x0]['owner'])[_0x5f0151(0x1c9)]([..._0xe392a2]))[_0x5f0151(0x7d0)]};}catch(_0x3a4476){return _0x3a4476;}}async['find'](_0x26698a,_0x1899fb){const _0x1228aa=a0_0x389422;try{let _0x11a2c6=this[_0x1228aa(0x38e)](_0x1899fb),_0x1670f6=A(_0x26698a['where']);return await _0x11a2c6['find'](_0x1670f6)['sort']({'lastmsg':-0x1})[_0x1228aa(0x7dc)](_0x26698a?.[_0x1228aa(0x7dc)]??0x0)[_0x1228aa(0x4ed)]();}catch{return[];}}async[a0_0x389422(0x868)](_0x96ebfc,_0x1820ab){const _0x5e6336=a0_0x389422;try{let _0x10027a=this[_0x5e6336(0x38e)](_0x1820ab),_0x161269=A(_0x96ebfc[_0x5e6336(0x6e5)]);return _0x161269[_0x5e6336(0x7d9)]={'$ne':[]},await _0x10027a[_0x5e6336(0x428)](_0x161269)['sort']({'lastmsg':-0x1})[_0x5e6336(0x7dc)](_0x96ebfc?.[_0x5e6336(0x7dc)]??0x0)[_0x5e6336(0x4ed)]();}catch{return[];}}async[a0_0x389422(0x216)](_0x270db7,_0x3a9d95){const _0x223a7f=a0_0x389422;try{return{'deletedCount':(await this[_0x223a7f(0x38e)](_0x3a9d95)[_0x223a7f(0x30b)]({..._0x270db7['where']}))[_0x223a7f(0x1e6)]};}catch(_0x4845f3){return{'error':_0x4845f3?.[_0x223a7f(0x46e)]()};}}async[a0_0x389422(0x712)](_0x331ec1,_0x4471dd){const _0x1dd132=a0_0x389422;try{return await this[_0x1dd132(0x38e)](_0x4471dd)['deleteMany']({..._0x331ec1['where']}),[];}catch(_0x5b189e){return{'error':_0x5b189e?.[_0x1dd132(0x46e)]()};}}async[a0_0x389422(0x892)](_0x3b6687,_0x5811a2){const _0x4bab11=a0_0x389422;try{let _0x391b4b=this[_0x4bab11(0x38e)](_0x5811a2),_0x53bac8=A(_0x3b6687['where']);return await _0x391b4b[_0x4bab11(0x892)](_0x53bac8)[_0x4bab11(0x4ed)]();}catch{return null;}}async[a0_0x389422(0x2d5)](_0x4bfff6,_0x2b957a,_0x2b66ab,_0x1b0935,_0x2707c8=a0_0x389422(0x6a5)){const _0xc171ab=a0_0x389422;try{let _0x147c7d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1b0935},_0x526004=this[_0xc171ab(0x38e)](_0x2b66ab),_0x11ac2e=A(_0x4bfff6['where']);Object[_0xc171ab(0x8b0)](_0x2b957a)[_0xc171ab(0x785)](_0x2ca91c=>{_0x2b957a[_0x2ca91c]==null&&delete _0x2b957a[_0x2ca91c];});let _0x2086cc={};return _0x2086cc[_0x2707c8]=_0x2b957a,await _0x526004[_0xc171ab(0x1ac)](_0x11ac2e,_0x2086cc,_0x147c7d);}catch(_0x4f72e3){return console[_0xc171ab(0x5b6)](_0x4f72e3),null;}}async[a0_0x389422(0x456)](_0x49adda){const _0x3ad40b=a0_0x389422;try{let _0x2c6673=this[_0x3ad40b(0x38e)](_0x49adda[0x0][_0x3ad40b(0x279)][_0x3ad40b(0x6e5)][_0x3ad40b(0x23e)]),_0x33cf6a=_0x49adda['map'](_0x57eb85=>({'updateOne':{'filter':{..._0x57eb85['query']['where']},'update':{'$set':_0x57eb85['update']},'upsert':!0x0}})),_0x326893=await _0x2c6673[_0x3ad40b(0x534)](_0x33cf6a);return _0x326893[_0x3ad40b(0x89d)]+_0x326893[_0x3ad40b(0x5f6)];}catch(_0x1da499){return console[_0x3ad40b(0x5b6)](_0x1da499),0x0;}}async[a0_0x389422(0x6f1)](_0x5a1861){const _0x44e760=a0_0x389422;try{let _0x88282f={'group_isCommunity':'','group_announce':'','group_size':''},_0x2bb0d2={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x2afe90={'$unset':_0x88282f};return(await this[_0x44e760(0x38e)](_0x5a1861)['updateMany'](_0x2bb0d2,_0x2afe90))[_0x44e760(0x89d)];}catch(_0x354ce7){return console[_0x44e760(0x5b6)](_0x44e760(0x561),_0x354ce7),0x0;}}async[a0_0x389422(0x833)](_0x1c4d09){const _0x973968=a0_0x389422;try{let _0x123f4b=this[_0x973968(0x38e)](_0x1c4d09),_0x39cd0e={'leadInfo.etiquetas':{'$exists':!0x1}},_0x553389={'$set':{'leadInfo.etiquetas':[]}};return(await _0x123f4b[_0x973968(0x456)](_0x39cd0e,_0x553389))[_0x973968(0x89d)];}catch(_0x119b3c){return console[_0x973968(0x5b6)](_0x119b3c),0x0;}}async[a0_0x389422(0x4db)](_0x31082c){const _0x501a0d=a0_0x389422;try{let _0x3d5f72=this[_0x501a0d(0x38e)](_0x31082c),_0x10dc83={'leadInfo.tags':{'$exists':!0x1}},_0x401af4={'$set':{'leadInfo.tags':[]}};return(await _0x3d5f72[_0x501a0d(0x456)](_0x10dc83,_0x401af4))[_0x501a0d(0x89d)];}catch(_0x500b7f){return console['error'](_0x500b7f),0x0;}}async[a0_0x389422(0x4eb)](_0x5521ef){const _0x470e03=a0_0x389422;try{let _0x33db72=this[_0x470e03(0x38e)](_0x5521ef),_0x486ced={'leadInfo.customFields':{'$exists':!0x1}},_0x476c9b={'$set':{'leadInfo.customFields':[]}};return(await _0x33db72[_0x470e03(0x456)](_0x486ced,_0x476c9b))[_0x470e03(0x89d)];}catch(_0x3b5aeb){return console[_0x470e03(0x5b6)](_0x3b5aeb),0x0;}}async['insertMany'](_0x3354d5,_0x25c6fe){const _0xb2739c=a0_0x389422;if(!Array[_0xb2739c(0x1fc)](_0x3354d5)||_0x3354d5['length']===0x0)throw new Error(_0xb2739c(0x89a));try{return(await this[_0xb2739c(0x38e)](_0x25c6fe)[_0xb2739c(0x1c9)](_0x3354d5))[_0xb2739c(0x7d0)];}catch(_0x51ec25){throw console[_0xb2739c(0x5b6)]('Erro\x20ao\x20inserir\x20chats:',_0x51ec25),_0x51ec25;}}async[a0_0x389422(0x8b1)](_0x2e60cc,_0x55779e){const _0x3483e0=a0_0x389422;try{await this[_0x3483e0(0x38e)](_0x55779e)[_0x3483e0(0x7c3)]({'_id':_0x2e60cc});}catch(_0x41eb74){throw console[_0x3483e0(0x5b6)]('Erro\x20ao\x20deletar\x20chat:',_0x41eb74),_0x41eb74;}}},qt=class extends _{constructor(_0x3cc8d7,_0x562fd6,_0x312abb){const _0x1587d2=a0_0x389422;super(_0x562fd6),this[_0x1587d2(0x200)]=_0x3cc8d7,this[_0x1587d2(0x33c)]=_0x562fd6,this[_0x1587d2(0x2b5)]=_0x312abb;}async[a0_0x389422(0x4a0)](_0xe3e74a){const _0xb3e38c=a0_0x389422;if(_0xe3e74a['length']!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0xb3e38c(0x1c9)]([..._0xe3e74a]))['length']};}catch(_0x1f82c0){return _0x1f82c0;}}async[a0_0x389422(0x4a1)](_0x294bc2,_0x12c090){const _0x3769ee=a0_0x389422;try{let _0x5d89a8=A(_0x294bc2[_0x3769ee(0x6e5)]);return{'updatedCount':(await this[_0x3769ee(0x200)][_0x3769ee(0x456)](_0x5d89a8,{'$set':_0x12c090}))[_0x3769ee(0x89d)]};}catch(_0x2a780e){return console['error'](_0x3769ee(0x71c),_0x2a780e),{'error':_0x2a780e[_0x3769ee(0x46e)]()};}}async[a0_0x389422(0x7f4)](_0x541716){const _0x3581b1=a0_0x389422;try{let _0x12da08={'_id':{'$in':_0x541716}};return await this[_0x3581b1(0x200)][_0x3581b1(0x428)](_0x12da08)[_0x3581b1(0x4ed)]();}catch(_0x116153){return console[_0x3581b1(0x5b6)](_0x3581b1(0x36e),_0x116153),[];}}async[a0_0x389422(0x216)](_0x499509){const _0x34fd99=a0_0x389422;try{return{'deletedCount':(await this[_0x34fd99(0x200)][_0x34fd99(0x30b)]({..._0x499509[_0x34fd99(0x6e5)]}))[_0x34fd99(0x1e6)]};}catch(_0x5f5c9a){return{'error':_0x5f5c9a?.[_0x34fd99(0x46e)]()};}}async[a0_0x389422(0x428)](_0x4f674b){const _0x5cb238=a0_0x389422;try{let _0xcd2cf0=A(_0x4f674b[_0x5cb238(0x6e5)]);return await this['cacheContactModel'][_0x5cb238(0x428)](_0xcd2cf0)['limit'](_0x4f674b?.[_0x5cb238(0x7dc)]??0x0)['lean']();}catch{return[];}}async[a0_0x389422(0x892)](_0x38892e){const _0xc37647=a0_0x389422;try{let _0x4fdee8=A(_0x38892e[_0xc37647(0x6e5)]);return await this['cacheContactModel'][_0xc37647(0x892)](_0x4fdee8)[_0xc37647(0x4ed)]();}catch{return null;}}},Vt=class extends _{constructor(_0x29204e,_0x40f69e,_0xa88dee){const _0x8c1c77=a0_0x389422;super(_0x40f69e),this[_0x8c1c77(0x52e)]=_0x29204e,this['configService']=_0x40f69e,this[_0x8c1c77(0x2b5)]=_0xa88dee;}async[a0_0x389422(0x4a0)](_0x5c99bd){const _0x258dbf=a0_0x389422;if(_0x5c99bd[_0x258dbf(0x7d0)]!==0x0)try{return{'insertCount':(await this[_0x258dbf(0x52e)]['insertMany']([..._0x5c99bd]))[_0x258dbf(0x7d0)]};}catch(_0x1a8c79){return _0x1a8c79;}}async['update'](_0x341da5,_0x5038c0){const _0x2c1204=a0_0x389422;try{let _0x43728d=A(_0x341da5[_0x2c1204(0x6e5)]);return{'updatedCount':(await this[_0x2c1204(0x52e)][_0x2c1204(0x456)](_0x43728d,{'$set':_0x5038c0}))['modifiedCount']};}catch(_0x3be502){return console[_0x2c1204(0x5b6)](_0x2c1204(0x71c),_0x3be502),{'error':_0x3be502['toString']()};}}async[a0_0x389422(0x216)](_0x2819e6){const _0x5d9aaf=a0_0x389422;try{return{'deletedCount':(await this[_0x5d9aaf(0x52e)]['deleteMany']({..._0x2819e6[_0x5d9aaf(0x6e5)]}))[_0x5d9aaf(0x1e6)]};}catch(_0x1232ea){return{'error':_0x1232ea?.['toString']()};}}async['findOne'](_0x341896){const _0x1d97a4=a0_0x389422;try{let _0x4d4a6c=A(_0x341896[_0x1d97a4(0x6e5)]);return await this[_0x1d97a4(0x52e)][_0x1d97a4(0x892)](_0x4d4a6c)[_0x1d97a4(0x4ed)]();}catch{return null;}}},Gt=class extends _{[a0_0x389422(0x3b8)](_0x4dc2b4){return Ea(_0x4dc2b4);}async['updateOne'](_0x1270e3,_0x171b29,_0x289a61,_0x1ad887){const _0x205160=a0_0x389422;try{let _0x29cdd0={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1ad887},_0x3652d8=this[_0x205160(0x3b8)](_0x289a61),_0x3b1b0b=A(_0x1270e3['where']);return await _0x3652d8[_0x205160(0x1ac)](_0x3b1b0b,{'$set':_0x171b29},_0x29cdd0);}catch(_0x132b53){return console[_0x205160(0x5b6)](_0x132b53),null;}}async[a0_0x389422(0x428)](_0x461518,_0x2aae06){const _0x1ed625=a0_0x389422;try{let _0x5d9420=this[_0x1ed625(0x3b8)](_0x2aae06),_0x19250f=A(_0x461518['where']);return await _0x5d9420[_0x1ed625(0x428)](_0x19250f);}catch(_0x5b5364){console[_0x1ed625(0x5b6)](_0x5b5364);}}async[a0_0x389422(0x216)](_0x3a8e19,_0x498657){const _0x1c171a=a0_0x389422;try{let _0x32a48f=this['getLabelModelForOwner'](_0x498657),_0x2efffd=A(_0x3a8e19[_0x1c171a(0x6e5)]);await _0x32a48f[_0x1c171a(0x30b)](_0x2efffd);}catch(_0x14db98){console[_0x1c171a(0x5b6)](_0x14db98);}}async[a0_0x389422(0x712)](_0x5082ab){const _0xda742f=a0_0x389422;try{return await this['getLabelModelForOwner'](_0x5082ab)[_0xda742f(0x25e)][_0xda742f(0x2a7)](),{'success':!0x0};}catch(_0x398de5){return console['error'](_0x398de5),{'success':!0x1,'error':_0x398de5};}}},Bt=class{constructor(_0x4ae40a){const _0x545d45=a0_0x389422;this[_0x545d45(0x54f)]=_0x4ae40a;}async[a0_0x389422(0x871)]({instanceName:_0x5a67dc},_0x2d88f4){const _0xa957a3=a0_0x389422;return await this['waMonitor'][_0xa957a3(0x18a)][_0x5a67dc][_0xa957a3(0x871)](_0x2d88f4);}async[a0_0x389422(0x8d4)]({instanceName:_0x488db0},_0x15b5f7){const _0x5c5fff=a0_0x389422;return await this[_0x5c5fff(0x54f)]['waInstances'][_0x488db0][_0x5c5fff(0x8d4)](_0x15b5f7);}async[a0_0x389422(0x7bc)]({instanceName:_0x3385d9},_0x1a3312){const _0x5c2a96=a0_0x389422;return await this['waMonitor'][_0x5c2a96(0x18a)][_0x3385d9][_0x5c2a96(0x7bc)](_0x1a3312);}async['readMessage']({instanceName:_0x11edad},_0x175144){const _0x3066ef=a0_0x389422;return await this[_0x3066ef(0x54f)]['waInstances'][_0x11edad][_0x3066ef(0x62c)](_0x175144);}async[a0_0x389422(0x722)]({instanceName:_0x296293},_0x1a4cee){const _0x1b5f5a=a0_0x389422;return await this['waMonitor']['waInstances'][_0x296293][_0x1b5f5a(0x722)](_0x1a4cee);}async[a0_0x389422(0x813)]({instanceName:_0x8d7a72},_0xfd10e4){const _0x1fcd17=a0_0x389422;return await this[_0x1fcd17(0x54f)]['waInstances'][_0x8d7a72]['deleteMessage'](_0xfd10e4);}async[a0_0x389422(0x5b3)]({instanceName:_0x7d5796},_0xc0f16){const _0x1ac2e3=a0_0x389422;return await this[_0x1ac2e3(0x54f)][_0x1ac2e3(0x18a)][_0x7d5796][_0x1ac2e3(0x8c4)](_0xc0f16[_0x1ac2e3(0x2f3)]);}async['fetchProfile']({instanceName:_0x2a143e},_0x31fc92){const _0x660a66=a0_0x389422;return await this[_0x660a66(0x54f)]['waInstances'][_0x2a143e][_0x660a66(0x5a8)](_0x31fc92[_0x660a66(0x2f3)]);}async[a0_0x389422(0x72f)]({instanceName:_0x1d4f02},_0x3bc0d8){const _0x585bcb=a0_0x389422;return await this[_0x585bcb(0x54f)][_0x585bcb(0x18a)][_0x1d4f02][_0x585bcb(0x72f)](_0x3bc0d8);}async[a0_0x389422(0x499)]({instanceName:_0x56e640},_0x395543){const _0x49a992=a0_0x389422;return await this[_0x49a992(0x54f)][_0x49a992(0x18a)][_0x56e640][_0x49a992(0x499)](_0x395543);}async[a0_0x389422(0x377)]({instanceName:_0x25ab4e},_0x41b12a){const _0xe407a2=a0_0x389422;return await this['waMonitor'][_0xe407a2(0x18a)][_0x25ab4e]['getBase64FromMediaMessage'](_0x41b12a);}async[a0_0x389422(0x571)]({instanceName:_0x468531},_0x3dc40a){const _0x69a680=a0_0x389422;return await this['waMonitor'][_0x69a680(0x18a)][_0x468531][_0x69a680(0x571)](_0x3dc40a);}async[a0_0x389422(0x873)]({instanceName:_0x82b071}){const _0x5c31f6=a0_0x389422;return await this['waMonitor'][_0x5c31f6(0x18a)][_0x82b071][_0x5c31f6(0x873)]();}async[a0_0x389422(0x334)]({instanceName:_0x132589}){const _0x411dab=a0_0x389422;return await this[_0x411dab(0x54f)][_0x411dab(0x18a)][_0x132589][_0x411dab(0x334)]();}async[a0_0x389422(0x8c6)]({instanceName:_0x20ec7e}){const _0x25c56c=a0_0x389422;return await this[_0x25c56c(0x54f)][_0x25c56c(0x18a)][_0x20ec7e][_0x25c56c(0x8c6)]();}async['updatePrivacySettings']({instanceName:_0x315273},_0x2f7904){const _0x1aebb8=a0_0x389422;return await this[_0x1aebb8(0x54f)][_0x1aebb8(0x18a)][_0x315273][_0x1aebb8(0x209)](_0x2f7904);}async['fetchBusinessProfile']({instanceName:_0x4cf8dc},_0x1be892){const _0x457dd5=a0_0x389422;return await this['waMonitor'][_0x457dd5(0x18a)][_0x4cf8dc][_0x457dd5(0x80c)](_0x1be892['number']);}async[a0_0x389422(0x583)]({instanceName:_0xcccb97},_0x223c1c){const _0x43f11e=a0_0x389422;return await this['waMonitor'][_0x43f11e(0x18a)][_0xcccb97][_0x43f11e(0x583)](_0x223c1c[_0x43f11e(0x467)]);}async[a0_0x389422(0x45c)]({instanceName:_0xe927bc},_0x41e6f4){const _0x2a61b8=a0_0x389422;return await this[_0x2a61b8(0x54f)][_0x2a61b8(0x18a)][_0xe927bc][_0x2a61b8(0x45c)](_0x41e6f4[_0x2a61b8(0x3d8)]);}async[a0_0x389422(0x880)]({instanceName:_0x54de9b},_0x3872a0){const _0x137eeb=a0_0x389422;return await this[_0x137eeb(0x54f)][_0x137eeb(0x18a)][_0x54de9b][_0x137eeb(0x880)](_0x3872a0['picture']);}async[a0_0x389422(0x5ac)]({instanceName:_0x239131},_0x189a83){const _0x5e5de5=a0_0x389422;return await this[_0x5e5de5(0x54f)][_0x5e5de5(0x18a)][_0x239131][_0x5e5de5(0x5ac)]();}},Wt=require('@whiskeysockets/baileys'),zt=class u{constructor(_0x4c3497,_0x240b37,_0x2f5a2e,_0x3082d6,_0x306582){const _0x4bf360=a0_0x389422;this[_0x4bf360(0x54f)]=_0x4c3497,this[_0x4bf360(0x33c)]=_0x240b37,this[_0x4bf360(0x828)]=_0x2f5a2e,this[_0x4bf360(0x189)]=_0x3082d6,this[_0x4bf360(0x45d)]=_0x306582,this[_0x4bf360(0x6d9)]=new $(u[_0x4bf360(0x467)]);}async['createInstance']({instanceName:_0x48394b,apikey:_0x458c47,number:_0x43a9bc,proxy:_0x502cde=!0x0}){const _0x516085=a0_0x389422;try{let _0x3df261=new $e(this['configService'],this['eventEmitter'],this['repository']);_0x3df261[_0x516085(0x33a)]=_0x48394b,this[_0x516085(0x54f)][_0x516085(0x18a)][_0x3df261[_0x516085(0x33a)]]=_0x3df261;let _0x15257e={};_0x458c47?(await this[_0x516085(0x828)]['auth'][_0x516085(0x1cc)]({'apikey':_0x458c47},_0x48394b),_0x15257e['apikey']=_0x458c47):_0x15257e=await this[_0x516085(0x45d)][_0x516085(0x90f)]({'instanceName':_0x3df261[_0x516085(0x33a)]});let _0x54b4f3;if(_0x43a9bc){if(_0x54b4f3=await this[_0x516085(0x4fe)](_0x43a9bc),_0x54b4f3[_0x516085(0x5b6)])throw new x(_0x54b4f3[_0x516085(0x5b6)][_0x516085(0x46e)]());_0x43a9bc=_0x54b4f3[_0x516085(0x2f3)];}let _0x1b10b1;return await _0x3df261[_0x516085(0x838)](_0x43a9bc),await(0x0,Wt[_0x516085(0x3dc)])(0xfa0),_0x43a9bc&&await(0x0,Wt['delay'])(0xbb8),_0x1b10b1=_0x3df261['qrCode'],{'instance':{'instanceName':_0x3df261[_0x516085(0x33a)],'status':_0x516085(0x7fc)},'hash':_0x15257e,'qrcode':_0x1b10b1};}catch(_0x314d10){throw this[_0x516085(0x6d9)][_0x516085(0x5b6)](_0x314d10),_0x314d10;}}async[a0_0x389422(0x8b2)]({instanceName:_0x29082c,number:_0x3466b0=null}){const _0x4ea994=a0_0x389422;try{let _0x377c44=this[_0x4ea994(0x54f)][_0x4ea994(0x18a)][_0x29082c];switch(_0x377c44?.[_0x4ea994(0x52c)]?.[_0x4ea994(0x819)]){case'close':return await _0x377c44['connectToWhatsapp'](_0x3466b0),await(0x0,Wt[_0x4ea994(0x3dc)])(0x7d0),_0x377c44[_0x4ea994(0x7b6)];case _0x4ea994(0x553):return _0x377c44[_0x4ea994(0x7b6)];default:return await this[_0x4ea994(0x19e)]({'instanceName':_0x29082c});}}catch(_0xe71dc5){this[_0x4ea994(0x6d9)][_0x4ea994(0x361)](_0xe71dc5);}}async['connectionState']({instanceName:_0x4affcf}){const _0x20e664=a0_0x389422;let _0x29c88f=this[_0x20e664(0x54f)][_0x20e664(0x18a)][_0x4affcf][_0x20e664(0x52c)],_0x253a9f=null;_0x29c88f[_0x20e664(0x819)]==='open'&&_0x4affcf&&(_0x253a9f=await this[_0x20e664(0x54f)][_0x20e664(0x3f8)](_0x4affcf));let _0x6b2e4a=null;return _0x29c88f['state']==='connecting'&&_0x4affcf&&(_0x6b2e4a=this['waMonitor'][_0x20e664(0x18a)][_0x4affcf][_0x20e664(0x7b6)]),{'instance':_0x4affcf,'connectionStatus':_0x29c88f,'instanceInfo':_0x253a9f,'qrcode':_0x6b2e4a};}async[a0_0x389422(0x4fe)](_0x7f278c){const _0x3c972f=a0_0x389422;_0x7f278c=_0x7f278c[_0x3c972f(0x793)](/\D/g,'');let _0x130a0e=Object['keys'](this['waMonitor'][_0x3c972f(0x18a)])['filter'](_0x1200d9=>{const _0x288049=_0x3c972f;let _0x146b82=this[_0x288049(0x54f)][_0x288049(0x18a)][_0x1200d9];return _0x146b82&&_0x146b82[_0x288049(0x52c)]&&_0x146b82[_0x288049(0x52c)][_0x288049(0x819)]===_0x288049(0x214);});if(_0x130a0e['length']===0x0)return{'number':this[_0x3c972f(0x536)](_0x7f278c)};let _0x3f04bd=Math[_0x3c972f(0x448)](Math[_0x3c972f(0x324)]()*_0x130a0e[_0x3c972f(0x7d0)]),_0x12a76d=_0x130a0e[_0x3f04bd];try{let _0x2aa088=(await this['waMonitor']['waInstances'][_0x12a76d]['whatsappNumber']({'numbers':[_0x7f278c]}))[_0x3c972f(0x4c5)]();return _0x2aa088['exists']?{'number':_0x2aa088[_0x3c972f(0x3aa)][_0x3c972f(0x793)](_0x3c972f(0x72d),'')}:{'number':_0x7f278c,'error':_0x3c972f(0x61a)};}catch(_0x12e824){return this[_0x3c972f(0x6d9)][_0x3c972f(0x5b6)](_0x3c972f(0x715)+_0x12e824),{'number':_0x7f278c,'error':_0x3c972f(0x645)};}}['formatBRNumber'](_0x34e9e7){const _0x42e11e=a0_0x389422;let _0x114ff3=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x42e11e(0x5a6)](_0x34e9e7);if(_0x114ff3&&_0x114ff3[0x1]==='55'){let _0x21e476=_0x114ff3[0x2],_0x5665b0=_0x114ff3[0x3],_0x1eacc8=_0x114ff3[0x4];if(parseInt(_0x21e476)>=0x1f&&_0x5665b0==='9')return _0x114ff3[0x1]+_0x21e476+_0x1eacc8;}return _0x34e9e7;}async['restartInstance']({instanceName:_0x4d3df8}){const _0x6ae34e=a0_0x389422;try{return this[_0x6ae34e(0x54f)]['waInstances'][_0x4d3df8]?.[_0x6ae34e(0x496)]?.['ws']?.[_0x6ae34e(0x253)](),{'status':_0x6ae34e(0x49c),'error':!0x1,'response':{'message':_0x6ae34e(0x902)}};}catch(_0x3417f5){this[_0x6ae34e(0x6d9)][_0x6ae34e(0x5b6)](_0x3417f5);}}async[a0_0x389422(0x51d)]({instanceName:_0x33458a}){const _0x5bdccc=a0_0x389422;return _0x33458a?this[_0x5bdccc(0x54f)][_0x5bdccc(0x3f8)](_0x33458a):this[_0x5bdccc(0x54f)][_0x5bdccc(0x3f8)]();}async[a0_0x389422(0x225)]({instanceName:_0x5c4d52}){const _0x284771=a0_0x389422;try{return await this[_0x284771(0x54f)][_0x284771(0x18a)][_0x5c4d52]?.[_0x284771(0x496)]?.['logout'](_0x284771(0x480)+_0x5c4d52),{'error':!0x1,'message':_0x284771(0x872)};}catch(_0x10804e){throw new x(_0x10804e[_0x284771(0x46e)]());}}async[a0_0x389422(0x778)]({instanceName:_0x2962ae}){const _0xdcc7e0=a0_0x389422;if((await this[_0xdcc7e0(0x19e)]({'instanceName':_0x2962ae}))['connectionStatus']['state']===_0xdcc7e0(0x214))throw new m([_0xdcc7e0(0x2f4),_0xdcc7e0(0x740)]);try{return delete this[_0xdcc7e0(0x54f)][_0xdcc7e0(0x18a)][_0x2962ae],{'error':!0x1,'message':_0xdcc7e0(0x898)};}catch(_0x4464da){throw new m(_0x4464da[_0xdcc7e0(0x46e)]());}}},ce=require(a0_0x389422(0x8e1)),Ht=class{constructor(_0x4c9027){const _0x295776=a0_0x389422;this[_0x295776(0x54f)]=_0x4c9027;}async[a0_0x389422(0x2bd)]({instanceName:_0x38ea18},_0x5d55cc){const _0x5795f1=a0_0x389422;return await this[_0x5795f1(0x54f)][_0x5795f1(0x18a)][_0x38ea18][_0x5795f1(0x482)](_0x5d55cc);}async[a0_0x389422(0x1d4)]({instanceName:_0x36e28e},_0x46e1de){const _0x269c5b=a0_0x389422;return await this['waMonitor'][_0x269c5b(0x18a)][_0x36e28e]['menuMessage'](_0x46e1de);}async[a0_0x389422(0x48b)]({instanceName:_0x570075},_0x1d8b9c){const _0x242216=a0_0x389422;if((0x0,ce[_0x242216(0x210)])(_0x1d8b9c?.[_0x242216(0x853)]?.['media'])&&!_0x1d8b9c?.[_0x242216(0x853)]?.[_0x242216(0x4c8)])throw new m(_0x242216(0x68d));if((0x0,ce[_0x242216(0x26e)])(_0x1d8b9c?.[_0x242216(0x853)]?.['media'])||(0x0,ce[_0x242216(0x210)])(_0x1d8b9c?.['mediaMessage']?.[_0x242216(0x886)]))return await this[_0x242216(0x54f)][_0x242216(0x18a)][_0x570075][_0x242216(0x853)](_0x1d8b9c);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x389422(0x60e)]({instanceName:_0x5dcd5a},_0x317bcb){const _0x6c65c3=a0_0x389422;if((0x0,ce[_0x6c65c3(0x26e)])(_0x317bcb[_0x6c65c3(0x2ef)][_0x6c65c3(0x2b8)])||(0x0,ce[_0x6c65c3(0x210)])(_0x317bcb[_0x6c65c3(0x2ef)][_0x6c65c3(0x2b8)]))return await this[_0x6c65c3(0x54f)]['waInstances'][_0x5dcd5a][_0x6c65c3(0x39e)](_0x317bcb);throw new m(_0x6c65c3(0x184));}async[a0_0x389422(0x695)]({instanceName:_0x5b1b8e},_0x435246){const _0x2d489c=a0_0x389422;if((0x0,ce['isURL'])(_0x435246[_0x2d489c(0x2b9)]['audio'])||(0x0,ce[_0x2d489c(0x210)])(_0x435246[_0x2d489c(0x2b9)]['audio']))return await this['waMonitor'][_0x2d489c(0x18a)][_0x5b1b8e][_0x2d489c(0x858)](_0x435246);throw new m(_0x2d489c(0x184));}async['sendButtons']({instanceName:_0x1332ab},_0x1d6f72){const _0x4010a8=a0_0x389422;return await this[_0x4010a8(0x54f)][_0x4010a8(0x18a)][_0x1332ab][_0x4010a8(0x1f4)](_0x1d6f72);}async[a0_0x389422(0x79c)]({instanceName:_0x55ff4b},_0x2cd976){const _0x627929=a0_0x389422;return await this[_0x627929(0x54f)]['waInstances'][_0x55ff4b][_0x627929(0x6c8)](_0x2cd976);}async['sendPoll']({instanceName:_0x576888},_0x3f9f70){const _0x2aab69=a0_0x389422;return await this[_0x2aab69(0x54f)][_0x2aab69(0x18a)][_0x576888][_0x2aab69(0x5ab)](_0x3f9f70);}async[a0_0x389422(0x310)]({instanceName:_0x3f6c1f},_0x136202){const _0x31a649=a0_0x389422;return await this[_0x31a649(0x54f)][_0x31a649(0x18a)][_0x3f6c1f][_0x31a649(0x869)](_0x136202);}async[a0_0x389422(0x296)]({instanceName:_0x235434},_0x16a33c){const _0x2d28c3=a0_0x389422;return await this[_0x2d28c3(0x54f)][_0x2d28c3(0x18a)][_0x235434][_0x2d28c3(0x519)](_0x16a33c);}async[a0_0x389422(0x5af)]({instanceName:_0x4b0440},_0x289d5e){const _0x3c1416=a0_0x389422;if(!_0x289d5e['reactionMessage'][_0x3c1416(0x542)][_0x3c1416(0x6c1)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x3c1416(0x54f)][_0x3c1416(0x18a)][_0x4b0440]['reactionMessage'](_0x289d5e);}async[a0_0x389422(0x7fa)]({instanceName:_0xd43721},_0x33d498){const _0x34022a=a0_0x389422;return await this[_0x34022a(0x54f)][_0x34022a(0x18a)][_0xd43721][_0x34022a(0x343)](_0x33d498);}},Pi=require(a0_0x389422(0x860)),Us=require(a0_0x389422(0x466)),Kt=class u{constructor(_0x4290a9,_0x12f45b,_0x2533fa){const _0x4290e2=a0_0x389422;this[_0x4290e2(0x33c)]=_0x4290a9,this[_0x4290e2(0x54f)]=_0x12f45b,this['repository']=_0x2533fa,this['logger']=new $(u[_0x4290e2(0x467)]);}async[a0_0x389422(0x656)](_0xa7a484){const _0xa8e475=a0_0x389422;let _0x416387=this[_0xa8e475(0x33c)]['get']('AUTHENTICATION')[_0xa8e475(0x727)],_0x5e06b5=(0x0,Pi[_0xa8e475(0x41b)])({'instanceName':_0xa7a484['instanceName'],'apiName':it,'tokenId':(0x0,Us['v4'])()},_0x416387['SECRET'],{'expiresIn':_0x416387[_0xa8e475(0x360)],'encoding':_0xa8e475(0x644),'subject':'g-t'}),_0x3a5830=await this[_0xa8e475(0x828)]['auth']['create']({'jwt':_0x5e06b5},_0xa7a484[_0xa8e475(0x33a)]);if(_0x3a5830[_0xa8e475(0x5b6)])throw this[_0xa8e475(0x6d9)][_0xa8e475(0x5b6)]({'localError':u[_0xa8e475(0x467)]+'.jwt','error':_0x3a5830[_0xa8e475(0x5b6)]}),new m(_0xa8e475(0x881),_0x3a5830[_0xa8e475(0x5b6)]?.[_0xa8e475(0x46e)]());return{'jwt':_0x5e06b5};}async['apikey'](_0x1ae6ca){const _0x403d07=a0_0x389422;let _0x41ed94=(0x0,Us['v4'])()[_0x403d07(0x1f7)](),_0x4ea6de=await this['repository']['auth'][_0x403d07(0x1cc)]({'apikey':_0x41ed94},_0x1ae6ca['instanceName']);if(_0x4ea6de['error'])throw this[_0x403d07(0x6d9)][_0x403d07(0x5b6)]({'localError':u[_0x403d07(0x467)]+'.jwt','error':_0x4ea6de[_0x403d07(0x5b6)]}),new m('Authentication\x20error',_0x4ea6de[_0x403d07(0x5b6)]?.[_0x403d07(0x46e)]());return{'apikey':_0x41ed94};}async[a0_0x389422(0x90f)](_0x3f24a8){const _0x4d1cc3=a0_0x389422;let _0x9f5dec=this[_0x4d1cc3(0x33c)][_0x4d1cc3(0x3a9)](_0x4d1cc3(0x6f6));return await this[_0x9f5dec[_0x4d1cc3(0x8bf)]](_0x3f24a8);}},Qt=class{constructor(_0x82f1cb){this['waMonitor']=_0x82f1cb;}async[a0_0x389422(0x423)](_0x46fa52,_0x5debaa){const _0x1bbf83=a0_0x389422;return await this[_0x1bbf83(0x54f)]['waInstances'][_0x46fa52[_0x1bbf83(0x33a)]][_0x1bbf83(0x423)](_0x5debaa);}async[a0_0x389422(0x6a9)](_0x27cacb,_0x418537){const _0x4d0259=a0_0x389422;return await this[_0x4d0259(0x54f)][_0x4d0259(0x18a)][_0x27cacb[_0x4d0259(0x33a)]]['updateGroupPicture'](_0x418537);}async[a0_0x389422(0x3a1)](_0x423374,_0x5b26ca){const _0xd25d1f=a0_0x389422;return await this[_0xd25d1f(0x54f)][_0xd25d1f(0x18a)][_0x423374[_0xd25d1f(0x33a)]][_0xd25d1f(0x3a1)](_0x5b26ca);}async['groupName'](_0x1dedad,_0x507ecf){const _0x33dddd=a0_0x389422;return await this['waMonitor'][_0x33dddd(0x18a)][_0x1dedad['instanceName']]['groupName'](_0x507ecf);}async[a0_0x389422(0x325)](_0x54905d,_0x2ae66c){const _0x2567cf=a0_0x389422;return await this[_0x2567cf(0x54f)][_0x2567cf(0x18a)][_0x54905d[_0x2567cf(0x33a)]][_0x2567cf(0x325)](_0x2ae66c);}async[a0_0x389422(0x55b)](_0x39076f,_0x5afebb){const _0x65c15f=a0_0x389422;return await this['waMonitor'][_0x65c15f(0x18a)][_0x39076f[_0x65c15f(0x33a)]][_0x65c15f(0x55b)](_0x5afebb);}async[a0_0x389422(0x365)](_0x2a0d75,_0x10ccf2){const _0xdbb26e=a0_0x389422;return await this[_0xdbb26e(0x54f)][_0xdbb26e(0x18a)][_0x2a0d75['instanceName']][_0xdbb26e(0x2d1)](_0x10ccf2);}async[a0_0x389422(0x764)](_0x1531fd){const _0x48f48f=a0_0x389422;return await this['waMonitor']['waInstances'][_0x1531fd[_0x48f48f(0x33a)]][_0x48f48f(0x764)]();}async[a0_0x389422(0x8cf)](_0x1e3abf,_0x25e559){const _0x3326aa=a0_0x389422;return await this[_0x3326aa(0x54f)][_0x3326aa(0x18a)][_0x1e3abf[_0x3326aa(0x33a)]]['inviteCode'](_0x25e559);}async[a0_0x389422(0x75e)](_0x552a29,_0x246b9a){const _0x210865=a0_0x389422;return await this[_0x210865(0x54f)][_0x210865(0x18a)][_0x552a29[_0x210865(0x33a)]][_0x210865(0x75e)](_0x246b9a);}async[a0_0x389422(0x313)](_0x1d6a8a,_0x3bb67d){const _0x1180f7=a0_0x389422;return await this[_0x1180f7(0x54f)][_0x1180f7(0x18a)][_0x1d6a8a[_0x1180f7(0x33a)]][_0x1180f7(0x313)](_0x3bb67d);}async[a0_0x389422(0x827)](_0x48eeae,_0x41c45f){const _0x4d6528=a0_0x389422;return await this[_0x4d6528(0x54f)]['waInstances'][_0x48eeae[_0x4d6528(0x33a)]]['revokeInviteCode'](_0x41c45f);}async['findParticipants'](_0x5cc2fe,_0x577d52){const _0xaba4e1=a0_0x389422;return await this[_0xaba4e1(0x54f)][_0xaba4e1(0x18a)][_0x5cc2fe[_0xaba4e1(0x33a)]][_0xaba4e1(0x70e)](_0x577d52);}async[a0_0x389422(0x47a)](_0x13acdd,_0x1433b9){const _0x19ab9d=a0_0x389422;return await this['waMonitor'][_0x19ab9d(0x18a)][_0x13acdd[_0x19ab9d(0x33a)]][_0x19ab9d(0x285)](_0x1433b9);}async['toggleEphemeral'](_0x253867,_0x3528a5){const _0x3a68ce=a0_0x389422;return await this[_0x3a68ce(0x54f)][_0x3a68ce(0x18a)][_0x253867[_0x3a68ce(0x33a)]][_0x3a68ce(0x7c0)](_0x3528a5);}async['leaveGroup'](_0x63d0f1,_0x92afa5){const _0x468ad4=a0_0x389422;return await this[_0x468ad4(0x54f)][_0x468ad4(0x18a)][_0x63d0f1[_0x468ad4(0x33a)]]['leaveGroup'](_0x92afa5);}},Yt=class{constructor(_0x283dd1){const _0x18bcb6=a0_0x389422;this[_0x18bcb6(0x54f)]=_0x283dd1;}['create'](_0x4d1057,_0x4b6eae){const _0x291e99=a0_0x389422;return this['waMonitor'][_0x291e99(0x18a)][_0x4d1057['instanceName']][_0x291e99(0x1ff)](_0x4b6eae);}async[a0_0x389422(0x428)](_0x2db10f){const _0xc47d7c=a0_0x389422;try{return await this[_0xc47d7c(0x54f)][_0xc47d7c(0x18a)][_0x2db10f['instanceName']][_0xc47d7c(0x655)]();}catch{return{'enabled':null,'url':''};}}},lh=new $('FlowController'),Xt=class{constructor(_0x8a06a3){this['waMonitor']=_0x8a06a3;}async[a0_0x389422(0x5cb)](_0x405df4,_0x463cfd){return await this['waMonitor']['waInstances'][_0x405df4['instanceName']]['editScheduleMessage'](_0x463cfd);}async[a0_0x389422(0x4b6)](_0x2c1acc){const _0x1b68b9=a0_0x389422;return await this[_0x1b68b9(0x54f)][_0x1b68b9(0x18a)][_0x2c1acc[_0x1b68b9(0x33a)]][_0x1b68b9(0x4b6)]();}async['deleteDoneMessages'](_0x487f27){const _0x1abf3f=a0_0x389422;return await this[_0x1abf3f(0x54f)][_0x1abf3f(0x18a)][_0x487f27[_0x1abf3f(0x33a)]][_0x1abf3f(0x623)]();}async[a0_0x389422(0x87a)](_0x417336){const _0x50bed8=a0_0x389422;return await this['waMonitor'][_0x50bed8(0x18a)][_0x417336[_0x50bed8(0x33a)]][_0x50bed8(0x87a)]();}async['updateAgent'](_0x27be5d,_0x5f2a38){const _0x26f53f=a0_0x389422;return await this['waMonitor'][_0x26f53f(0x18a)][_0x27be5d[_0x26f53f(0x33a)]][_0x26f53f(0x33e)](_0x5f2a38);}async[a0_0x389422(0x682)](_0x3c989f,_0x296dd4){const _0x1b40ca=a0_0x389422;return await this[_0x1b40ca(0x54f)][_0x1b40ca(0x18a)][_0x3c989f[_0x1b40ca(0x33a)]][_0x1b40ca(0x682)](_0x296dd4);}async[a0_0x389422(0x188)](_0x51dd3e,_0xcdf214){const _0x206597=a0_0x389422;return await this[_0x206597(0x54f)]['waInstances'][_0x51dd3e[_0x206597(0x33a)]]['updateAutoCompleteMessages'](_0xcdf214);}async[a0_0x389422(0x302)](_0x13e80d,_0x47abe4){const _0x53e5c4=a0_0x389422;return await this[_0x53e5c4(0x54f)][_0x53e5c4(0x18a)][_0x13e80d['instanceName']][_0x53e5c4(0x302)](_0x47abe4);}async[a0_0x389422(0x782)](_0x655baf,_0x304c87){const _0x2d6fd6=a0_0x389422;return await this[_0x2d6fd6(0x54f)][_0x2d6fd6(0x18a)][_0x655baf['instanceName']][_0x2d6fd6(0x782)](_0x304c87);}async[a0_0x389422(0x276)](_0x1147f5,_0xd5990f,_0x2a242e,_0x56b95e){const _0x277bcb=a0_0x389422;return await this[_0x277bcb(0x54f)]['waInstances'][_0x1147f5][_0x277bcb(0x276)](_0xd5990f,_0x2a242e,_0x56b95e);}async[a0_0x389422(0x1d0)](_0x1301f5,_0xfec275){const _0x190ed6=a0_0x389422;return await this[_0x190ed6(0x54f)][_0x190ed6(0x18a)][_0x1301f5[_0x190ed6(0x33a)]][_0x190ed6(0x1d0)](_0xfec275);}async[a0_0x389422(0x27d)](_0x442160,_0x450dbc){const _0x20a4ca=a0_0x389422;return await this[_0x20a4ca(0x54f)][_0x20a4ca(0x18a)][_0x442160[_0x20a4ca(0x33a)]]['fetchConversation'](_0x450dbc);}async[a0_0x389422(0x5db)](_0x3edeef,_0x20133b){const _0x398068=a0_0x389422;return await this['waMonitor']['waInstances'][_0x3edeef[_0x398068(0x33a)]][_0x398068(0x5db)](_0x20133b);}async[a0_0x389422(0x22f)](_0x3cf2b0,_0x154e84){const _0x432b8b=a0_0x389422;return await this['waMonitor']['waInstances'][_0x3cf2b0[_0x432b8b(0x33a)]][_0x432b8b(0x22f)](_0x154e84);}async[a0_0x389422(0x6e2)](_0x5f2a2b,_0x43c91f){const _0x1d0c9e=a0_0x389422;return await this['waMonitor']['waInstances'][_0x5f2a2b[_0x1d0c9e(0x33a)]][_0x1d0c9e(0x6e2)](_0x43c91f[_0x1d0c9e(0x53f)]);}async[a0_0x389422(0x2ff)](_0xa8e288,_0x2aeb6b,_0x3700ef){const _0x231210=a0_0x389422;return await this[_0x231210(0x54f)]['waInstances'][_0xa8e288[_0x231210(0x33a)]][_0x231210(0x2ff)](_0x2aeb6b,_0x3700ef);}async[a0_0x389422(0x3b3)](_0x35ae45,_0x5e1d15,_0x188c71){const _0x43e49b=a0_0x389422;return await this[_0x43e49b(0x54f)][_0x43e49b(0x18a)][_0x35ae45['instanceName']][_0x43e49b(0x3b3)](_0x5e1d15,_0x188c71);}async[a0_0x389422(0x5bf)](_0x9ca7a6,_0x3fbf95){const _0x25c106=a0_0x389422;return await this[_0x25c106(0x54f)][_0x25c106(0x18a)][_0x9ca7a6[_0x25c106(0x33a)]]['editFlowBlock'](_0x3fbf95);}async[a0_0x389422(0x4b9)](_0xc97d39,_0x3a982a){const _0xeb499e=a0_0x389422;return await this['waMonitor'][_0xeb499e(0x18a)][_0xc97d39['instanceName']][_0xeb499e(0x4b9)](_0x3a982a);}async[a0_0x389422(0x80d)](_0x56da7c,_0x409921){const _0x59afb2=a0_0x389422;return await this[_0x59afb2(0x54f)][_0x59afb2(0x18a)][_0x56da7c['instanceName']][_0x59afb2(0x80d)](_0x409921);}async[a0_0x389422(0x252)](_0x3cd58a,_0x3e9c11){const _0x516f10=a0_0x389422;return await this[_0x516f10(0x54f)][_0x516f10(0x18a)][_0x3cd58a[_0x516f10(0x33a)]][_0x516f10(0x252)](_0x3e9c11);}async[a0_0x389422(0x5cd)](_0xb32b92,_0x53bddb){const _0x2ab2ab=a0_0x389422;return await this[_0x2ab2ab(0x54f)][_0x2ab2ab(0x18a)][_0xb32b92[_0x2ab2ab(0x33a)]]['editFlowVaredit'](_0x53bddb);}async[a0_0x389422(0x5de)](_0x2ff233,_0x271c51){const _0x1c79b4=a0_0x389422;return await this[_0x1c79b4(0x54f)][_0x1c79b4(0x18a)][_0x2ff233[_0x1c79b4(0x33a)]][_0x1c79b4(0x5de)](_0x271c51);}async['deleteFlow'](_0x2afbc4,_0x50a874){const _0x3b43ca=a0_0x389422;return await this[_0x3b43ca(0x54f)][_0x3b43ca(0x18a)][_0x2afbc4[_0x3b43ca(0x33a)]][_0x3b43ca(0x65c)](_0x50a874);}async[a0_0x389422(0x6f4)](_0x5c3b24){const _0x5bf17d=a0_0x389422;return await this[_0x5bf17d(0x54f)][_0x5bf17d(0x18a)][_0x5c3b24[_0x5bf17d(0x33a)]][_0x5bf17d(0x6f4)]();}},Zt=class{constructor(_0x1c3fef){const _0x529238=a0_0x389422;this[_0x529238(0x49a)]=_0x1c3fef;}async[a0_0x389422(0x600)](_0xf8956e,_0x221c09){return this['webhookService']['create'](_0xf8956e,_0x221c09);}async[a0_0x389422(0x655)](_0x3f5071){const _0x25c1fe=a0_0x389422;return this[_0x25c1fe(0x49a)][_0x25c1fe(0x428)](_0x3f5071);}},es=class extends _{constructor(_0x2703e5,_0xbb4163){const _0x3386e9=a0_0x389422;super(_0xbb4163),this[_0x3386e9(0x43b)]=_0x2703e5,this[_0x3386e9(0x33c)]=_0xbb4163;}async[a0_0x389422(0x1cc)](_0x1969cd,_0x2bd6c1){const _0x30af40=a0_0x389422;try{return this[_0x30af40(0x60a)][_0x30af40(0x290)]?{'insertCount':(await this[_0x30af40(0x43b)][_0x30af40(0x410)]({'_id':_0x2bd6c1},{..._0x1969cd},{'upsert':!0x0}))[_0x30af40(0x89d)]}:{'insertCount':0x1};}catch(_0x1f080a){return _0x1f080a;}}async[a0_0x389422(0x216)](_0x4be19a){const _0x46ad7f=a0_0x389422;try{if(this['dbSettings'][_0x46ad7f(0x290)]){await this[_0x46ad7f(0x43b)][_0x46ad7f(0x7c3)]({'_id':_0x4be19a});return;}}catch(_0x2b070c){return{'error':_0x2b070c};}}async[a0_0x389422(0x428)](_0x2633e7){const _0x2c82f2=a0_0x389422;try{if(this[_0x2c82f2(0x60a)]['ENABLED'])return await this['webhookModel'][_0x2c82f2(0x892)]({'_id':_0x2633e7});}catch{return{};}}},ts=class extends _{constructor(_0x46560d,_0x1f8549){const _0x2e30f1=a0_0x389422;super(_0x1f8549),this['authModel']=_0x46560d,this[_0x2e30f1(0x33c)]=_0x1f8549,this[_0x2e30f1(0x32a)]=_0x1f8549['get'](_0x2e30f1(0x6f6));}async[a0_0x389422(0x1cc)](_0x50caf1,_0x5b53f2){const _0xa25a7=a0_0x389422;try{if(this['dbSettings'][_0xa25a7(0x290)])return{'insertCount':(await this[_0xa25a7(0x6a7)][_0xa25a7(0x2d5)]({'_id':_0x5b53f2},{'$set':{..._0x50caf1}},{'upsert':!0x0}))[_0xa25a7(0x89d)]};}catch(_0x3dbeac){return{'error':_0x3dbeac};}}async[a0_0x389422(0x317)](_0x4a2395,_0x553db7){const _0x4654b3=a0_0x389422;try{if(this[_0x4654b3(0x60a)]['ENABLED'])return{'insertCount':(await this[_0x4654b3(0x6a7)][_0x4654b3(0x456)](_0x4a2395,{'$set':_0x553db7},{'upsert':!0x1}))[_0x4654b3(0x89d)]};throw new Error(_0x4654b3(0x36f));}catch(_0x108f1e){return{'error':_0x108f1e};}}async[a0_0x389422(0x30b)](_0x2aa036){const _0x785e02=a0_0x389422;try{if(this[_0x785e02(0x60a)][_0x785e02(0x290)])return{'insertCount':(await this[_0x785e02(0x6a7)]['deleteMany'](_0x2aa036))['deletedCount']};throw new Error(_0x785e02(0x543));}catch(_0x34edd3){return{'error':_0x34edd3};}}async[a0_0x389422(0x216)](_0x2e6cf2){const _0x334a33=a0_0x389422;try{if(this[_0x334a33(0x60a)][_0x334a33(0x290)]){await this[_0x334a33(0x6a7)][_0x334a33(0x7c3)]({'_id':_0x2e6cf2});return;}}catch(_0x3f2be){return{'error':_0x3f2be};}}async[a0_0x389422(0x428)](_0x18d5df){const _0x1e158d=a0_0x389422;try{if(this[_0x1e158d(0x60a)][_0x1e158d(0x290)])return await this['authModel']['findOne']({'_id':_0x18d5df});}catch{return{};}}async[a0_0x389422(0x400)](){const _0x3352df=a0_0x389422;try{if(this[_0x3352df(0x60a)][_0x3352df(0x290)])return await this['authModel']['find']();}catch{return[];}}async[a0_0x389422(0x470)](_0x231b65){const _0x170f8d=a0_0x389422;try{if(this[_0x170f8d(0x60a)][_0x170f8d(0x290)])return await this[_0x170f8d(0x6a7)]['find'](_0x231b65);}catch{return[];}}},ss=class extends _{async[a0_0x389422(0x7c3)](_0x59979a){const _0xa8a479=a0_0x389422;try{let _0x38d70d=A(_0x59979a[_0xa8a479(0x6e5)]);return{'deletedCount':(await Ce[_0xa8a479(0x7c3)](_0x38d70d))[_0xa8a479(0x1e6)]};}catch(_0x304d97){return{'error':_0x304d97?.['toString']()};}}async['updateOne'](_0x449ad0,_0x456166){const _0x539d32=a0_0x389422;try{let _0x53a2c0=await Ce[_0x539d32(0x6b5)](_0x449ad0);return _0x53a2c0?(Object[_0x539d32(0x8d9)](_0x53a2c0,_0x456166),await _0x53a2c0['save']()):(console['error'](_0x539d32(0x660),_0x449ad0),null);}catch(_0x1b0885){return console[_0x539d32(0x5b6)](_0x539d32(0x66f),_0x1b0885),null;}}async['createAndSave'](_0x40cdcf){const _0x15e2cf=a0_0x389422;try{return await new Ce(_0x40cdcf)[_0x15e2cf(0x4e3)]();}catch(_0x209cad){return console[_0x15e2cf(0x5b6)](_0x15e2cf(0x663),_0x209cad),null;}}async[a0_0x389422(0x400)](_0x457361){const _0x3a8c24=a0_0x389422;try{let _0x54d2ac=_0x457361[_0x3a8c24(0x6e5)]??{};return await Ce['find'](_0x54d2ac)[_0x3a8c24(0x7dc)](_0x457361['limit']??0x0)[_0x3a8c24(0x4ed)]();}catch(_0x3e061c){return console[_0x3a8c24(0x5b6)](_0x3a8c24(0x1f3),_0x3e061c),[];}}async[a0_0x389422(0x892)](_0x40c3ca){const _0x1c8612=a0_0x389422;try{let _0x3ebb17=A(_0x40c3ca['where']);return await Ce[_0x1c8612(0x892)](_0x3ebb17)[_0x1c8612(0x4ed)]();}catch{return null;}}},as=class extends _{[a0_0x389422(0x44c)](_0x2ba00d){return Sa(_0x2ba00d);}async[a0_0x389422(0x4a0)](_0x2916f8){const _0x21d9c9=a0_0x389422;if(_0x2916f8['length']!==0x0)try{return{'insertCount':(await this[_0x21d9c9(0x44c)](_0x2916f8[0x0][_0x21d9c9(0x23e)])['insertMany']([..._0x2916f8]))['length']};}catch(_0x59e465){return _0x59e465;}}async[a0_0x389422(0x216)](_0x4c420b,_0x48b0f1){const _0x4f59f7=a0_0x389422;try{let _0x558dfb=this['getConversationModelForOwner'](_0x48b0f1),_0x15df8b=A(_0x4c420b['where']);return{'deletedCount':(await _0x558dfb[_0x4f59f7(0x30b)](_0x15df8b))['deletedCount']};}catch(_0x31512d){return{'error':_0x31512d?.[_0x4f59f7(0x46e)]()};}}async[a0_0x389422(0x7c3)](_0x2d616c,_0x25c43f){const _0x1325ff=a0_0x389422;try{let _0x1afea7=this[_0x1325ff(0x44c)](_0x25c43f),_0x12c343=A(_0x2d616c['where']);return{'deletedCount':(await _0x1afea7[_0x1325ff(0x7c3)](_0x12c343))[_0x1325ff(0x1e6)]};}catch(_0x594300){return{'error':_0x594300?.['toString']()};}}async[a0_0x389422(0x4a1)](_0x2e7735,_0x25f9fa){const _0x4128ef=a0_0x389422;try{if(_0x2e7735['length']===0x0)return;let _0x3b13ac=this[_0x4128ef(0x44c)](_0x25f9fa),_0xa6edf3=_0x2e7735[_0x4128ef(0x3ea)](_0x5a9ad2=>({'updateOne':{'filter':{'name':_0x5a9ad2['name'],'owner':_0x25f9fa},'update':{..._0x5a9ad2}}})),{modifiedCount:_0x58e5f9}=await _0x3b13ac[_0x4128ef(0x534)](_0xa6edf3);return{'insertCount':_0x58e5f9};}catch{return;}}async['updateMany'](_0x25b502,_0x2167b8,_0x475392){const _0x19ac41=a0_0x389422;try{return{'modifiedCount':(await this[_0x19ac41(0x44c)](_0x475392)['updateMany'](_0x25b502,{'$set':_0x2167b8})[_0x19ac41(0x5a6)]())[_0x19ac41(0x89d)]};}catch(_0x582c66){return console['error']('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x582c66),{'error':_0x582c66};}}async[a0_0x389422(0x2d5)](_0x25adc4,_0x577fc7,_0x5cea95){const _0x656cb2=a0_0x389422;try{return await this['getConversationModelForOwner'](_0x5cea95)['findOneAndUpdate']({'_id':_0x25adc4},{'$set':_0x577fc7},{'new':!0x0,'upsert':!0x0})[_0x656cb2(0x4ed)]();}catch(_0x4f70d2){return console[_0x656cb2(0x5b6)](_0x4f70d2),null;}}async[a0_0x389422(0x428)](_0x4e4cd3,_0x577d69){const _0x5b168f=a0_0x389422;try{return await this[_0x5b168f(0x44c)](_0x577d69)[_0x5b168f(0x428)](_0x4e4cd3)[_0x5b168f(0x1fa)]({'lastInteraction':-0x1})[_0x5b168f(0x4ed)]();}catch{return[];}}async[a0_0x389422(0x892)](_0x14bab6,_0x5c2495){const _0x28c9f8=a0_0x389422;try{return await this[_0x28c9f8(0x44c)](_0x5c2495)[_0x28c9f8(0x892)]({..._0x14bab6[_0x28c9f8(0x6e5)]})[_0x28c9f8(0x4ed)]();}catch{return null;}}async[a0_0x389422(0x712)](_0x1b6591){const _0x4ab6fb=a0_0x389422;try{return await this[_0x4ab6fb(0x44c)](_0x1b6591)[_0x4ab6fb(0x25e)]['drop'](),{'success':!0x0};}catch(_0xd3d676){return console[_0x4ab6fb(0x5b6)](_0xd3d676),{'success':!0x1,'error':_0xd3d676};}}},is=class extends _{[a0_0x389422(0x5d2)](_0x1ed3d4){return Ma(_0x1ed3d4);}async['bulkWrite'](_0x56ada0,_0x29f021){const _0x1cf134=a0_0x389422;try{return await this['getScheduleMessageModelForOwner'](_0x29f021)[_0x1cf134(0x534)](_0x56ada0);}catch(_0x5de4b7){return console['error'](_0x1cf134(0x35a),_0x5de4b7),null;}}async[a0_0x389422(0x8d8)](_0xd97d28,_0x5dd791){const _0x18bcd8=a0_0x389422;try{let _0x375829=this['getScheduleMessageModelForOwner'](_0x5dd791);return await new _0x375829(_0xd97d28)['save']();}catch(_0x214b41){return console[_0x18bcd8(0x5b6)](_0x18bcd8(0x2a5),_0x214b41),null;}}async[a0_0x389422(0x7c3)](_0x42730c,_0xdb2658){try{return await this['getScheduleMessageModelForOwner'](_0xdb2658)['findByIdAndDelete'](_0x42730c),{};}catch(_0x50780a){return{'error':_0x50780a?.['toString']()};}}async[a0_0x389422(0x2d5)](_0x5a9ee3,_0x405131,_0x55b44a,_0x58f0b5={}){const _0x1da31a=a0_0x389422;try{return await this[_0x1da31a(0x5d2)](_0x55b44a)[_0x1da31a(0x1ac)](_0x5a9ee3,_0x405131,{..._0x58f0b5,'new':!0x0})[_0x1da31a(0x4ed)]();}catch(_0xd599a9){return console[_0x1da31a(0x5b6)](_0x1da31a(0x28f),_0xd599a9),null;}}async[a0_0x389422(0x769)](_0x5ca089,_0x4dfe52,_0x4cfd21){const _0x551e95=a0_0x389422;try{return await this[_0x551e95(0x5d2)](_0x4cfd21)[_0x551e95(0x687)](_0x5ca089,_0x4dfe52,{'new':!0x0})['lean']();}catch(_0x5f4982){return console[_0x551e95(0x5b6)](_0x551e95(0x28f),_0x5f4982),null;}}async[a0_0x389422(0x428)](_0x2c806a,_0x302366){const _0x25ded3=a0_0x389422;try{return await this[_0x25ded3(0x5d2)](_0x302366)[_0x25ded3(0x428)](_0x2c806a[_0x25ded3(0x6e5)])[_0x25ded3(0x7dc)](_0x2c806a?.['limit']??0x0)[_0x25ded3(0x1fa)]({'when':0x1})[_0x25ded3(0x4ed)]();}catch{return[];}}async['findOne'](_0x202bf0,_0x4dcc94){const _0x22468d=a0_0x389422;try{return await this[_0x22468d(0x5d2)](_0x4dcc94)['findOne'](_0x202bf0[_0x22468d(0x6e5)])[_0x22468d(0x1fa)]({'when':0x1})[_0x22468d(0x4ed)]();}catch{return null;}}async[a0_0x389422(0x6b5)](_0x40099f,_0x3767f1){const _0xb38fef=a0_0x389422;try{return await this[_0xb38fef(0x5d2)](_0x3767f1)[_0xb38fef(0x6b5)](_0x40099f)[_0xb38fef(0x4ed)]();}catch{return null;}}async[a0_0x389422(0x30b)](_0x1a80c,_0x2194ae){const _0xcb13fe=a0_0x389422;try{return{'deletedCount':(await this[_0xcb13fe(0x5d2)](_0x2194ae)[_0xcb13fe(0x30b)](_0x1a80c))[_0xcb13fe(0x1e6)]};}catch(_0x14242d){return console[_0xcb13fe(0x5b6)](_0xcb13fe(0x7cc),_0x14242d),{'error':_0x14242d};}}async[a0_0x389422(0x712)](_0x247b77){const _0xf134d=a0_0x389422;try{return await this[_0xf134d(0x5d2)](_0x247b77)[_0xf134d(0x25e)][_0xf134d(0x2a7)](),{'success':!0x0};}catch(_0x5af5ee){return console[_0xf134d(0x5b6)](_0x5af5ee),{'success':!0x1,'error':_0x5af5ee};}}},os=class extends _{async['update'](_0x5b564b,_0x21876d){const _0x7d82df=a0_0x389422;try{if(this[_0x7d82df(0x60a)]['ENABLED'])return await Te['findOneAndUpdate']({'_id':_0x21876d},{'$set':_0x5b564b},{'new':!0x0});}catch(_0x42c00f){throw console[_0x7d82df(0x5b6)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x42c00f),_0x42c00f;}}async[a0_0x389422(0x7de)](_0x5d2513){const _0x4d0117=a0_0x389422;try{let _0x21809b=await Te[_0x4d0117(0x6b5)](_0x5d2513);return _0x21809b?_0x21809b['autoCompleteMessages']||(_0x21809b[_0x4d0117(0x855)]=[],await _0x21809b['save']()):(_0x21809b=new Te({'_id':_0x5d2513,'autoCompleteMessages':[]}),await _0x21809b['save']()),_0x21809b;}catch(_0xed53df){return _0xed53df['code']===0x2af8&&_0xed53df[_0x4d0117(0x498)]&&_0xed53df[_0x4d0117(0x498)][_0x4d0117(0x8c9)]?(console[_0x4d0117(0x5b6)](_0x4d0117(0x294)),await Te[_0x4d0117(0x25e)]['dropIndex'](_0x4d0117(0x8f5)),null):(console[_0x4d0117(0x5b6)](_0x4d0117(0x606),_0xed53df),null);}}},jo=new $(a0_0x389422(0x907)),Jo=new Ke(S),qo=new Jt(S),Vo=new rt(S),Go=new qt(oa,S),Bo=new Vt(na,S),Wo=new es(ha,S),zo=new ts(ua,S),Ho=new Ne(Be,S),Ko=new ss(S),Qo=new Gt(S),Yo=new as(S),Xo=new is(S),Zo=new os(S),fe=new ze(Jo,qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Yo,Qo,Xo,Zo,T?.[a0_0x389422(0x746)]()),G=new jt(hs,S,fe),er=new Kt(S,G,fe),tr=new Yt(G),As=new Zt(tr),O=new Xt(G),de=new zt(G,S,fe,hs,er),W=new Ht(G),D=new Bt(G),q=new Qt(G);jo[a0_0x389422(0x379)](a0_0x389422(0x844));var Rg=require(a0_0x389422(0x726)),js=require('fs'),Di=I(require('https')),ki=I(require(a0_0x389422(0x408))),Ue=class u{static #e;static set['app'](_0x4d5268){this.#e=_0x4d5268;}static get[a0_0x389422(0x8d3)](){const _0x4cef85=a0_0x389422;let {FULLCHAIN:_0x1ddbde,PRIVKEY:_0x1fc7bc}=S[_0x4cef85(0x3a9)](_0x4cef85(0x320));return Di[_0x4cef85(0x5ff)]({'cert':(0x0,js['readFileSync'])(_0x1ddbde),'key':(0x0,js[_0x4cef85(0x6b3)])(_0x1fc7bc)},u.#e);}static get[a0_0x389422(0x408)](){const _0x31eb4e=a0_0x389422;return ki[_0x31eb4e(0x5ff)](u.#e);}},je=I(require('fs')),qi=I(require(a0_0x389422(0x5e4))),Je=I(require(a0_0x389422(0x1a4))),ns=I(require(a0_0x389422(0x63f))),rs=require(a0_0x389422(0x254));function sr(){const _0x4caaa9=a0_0x389422;G[_0x4caaa9(0x899)]();let _0x4c75d4=ns[_0x4caaa9(0x37f)][_0x4caaa9(0x5ee)](__dirname,_0x4caaa9(0x3b6));Ji(_0x4c75d4);}var Ji=_0x19acd6=>{const _0xb01099=a0_0x389422;let _0x2d9000=je[_0xb01099(0x37f)][_0xb01099(0x479)](_0x19acd6),_0x4252cb=0xc*0x3c*0x3c*0x3e8,_0x20f910=0x2*0x3c*0x3c*0x3e8,_0x4f45b2=new Date()[_0xb01099(0x3e6)]();_0x2d9000[_0xb01099(0x785)](_0x55be1a=>{const _0x3728ad=_0xb01099;let _0x279d7e=ns[_0x3728ad(0x37f)][_0x3728ad(0x5ee)](_0x19acd6,_0x55be1a),_0x511c5e=je[_0x3728ad(0x37f)][_0x3728ad(0x817)](_0x279d7e)[_0x3728ad(0x563)][_0x3728ad(0x3e6)]();_0x4f45b2-_0x511c5e>_0x4252cb&&(je[_0x3728ad(0x37f)][_0x3728ad(0x88c)](_0x279d7e),console['log'](_0x3728ad(0x597)+_0x55be1a));}),setTimeout(()=>Ji(_0x19acd6),_0x20f910);};function ar(){const _0x43b1a9=a0_0x389422;let _0x49109e=new $('SERVER'),_0x208732=(0x0,ye[_0x43b1a9(0x37f)])();_0x208732['use']((0x0,ji[_0x43b1a9(0x37f)])({'origin'(_0x448b06,_0x3c4730){const _0x488e16=_0x43b1a9;let {ORIGIN:_0x591639}=S['get'](_0x488e16(0x904));return _0x448b06||(_0x448b06='*'),_0x591639[_0x488e16(0x8e6)]('*')!==-0x1||_0x591639[_0x488e16(0x8e6)](_0x448b06)!==-0x1?_0x3c4730(null,!0x0):_0x3c4730(new Error(_0x488e16(0x4d8)));},'methods':[...S[_0x43b1a9(0x3a9)](_0x43b1a9(0x904))[_0x43b1a9(0x2cb)]],'credentials':S[_0x43b1a9(0x3a9)](_0x43b1a9(0x904))['CREDENTIALS']}),(0x0,ye[_0x43b1a9(0x1cf)])({'extended':!0x0,'limit':'50mb'}),(0x0,ye[_0x43b1a9(0x683)])({'limit':_0x43b1a9(0x62f)})),_0x208732[_0x43b1a9(0x312)]((_0x18436a,_0x911707,_0x16e90b)=>{const _0x18839f=_0x43b1a9;_0x18436a[_0x18839f(0x63f)][_0x18839f(0x759)]('/events')?_0x16e90b():(0x0,Ui[_0x18839f(0x37f)])()(_0x18436a,_0x911707,_0x16e90b);}),_0x208732['set'](_0x43b1a9(0x4a5),'hbs'),_0x208732['set'](_0x43b1a9(0x4f0),(0x0,qs[_0x43b1a9(0x5ee)])(le,_0x43b1a9(0x4f0))),_0x208732[_0x43b1a9(0x312)](ye[_0x43b1a9(0x37f)][_0x43b1a9(0x3ee)]((0x0,qs['join'])(le,'public'))),_0x208732[_0x43b1a9(0x312)]((_0x14ea74,_0x3e37cd,_0x1f9cb1)=>{const _0x3eb28c=_0x43b1a9;let _0x28b832=_0x3e37cd['send'];_0x3e37cd[_0x3eb28c(0x61f)]=function(_0x8316ad){const _0x3ac0f1=_0x3eb28c;if(_0x14ea74[_0x3ac0f1(0x279)][_0x3ac0f1(0x3bd)]===_0x3ac0f1(0x646)||_0x14ea74['headers'][_0x3ac0f1(0x2e6)]==='true'){let _0x1475bd=JSON[_0x3ac0f1(0x47e)](_0x8316ad);_0x8316ad=JSON[_0x3ac0f1(0x2d0)](_0x462378(_0x1475bd));}return _0x28b832[_0x3ac0f1(0x259)](_0x3e37cd,[_0x8316ad]);},_0x1f9cb1();}),_0x208732[_0x43b1a9(0x312)]('/',ke),_0x208732[_0x43b1a9(0x312)]((_0x55df60,_0x39e41b,_0x20f91b,_0x254b8a)=>{const _0x3755c7=_0x43b1a9;if(_0x55df60)return _0x20f91b[_0x3755c7(0x3d8)](_0x55df60[_0x3755c7(0x3d8)]||0x1f4)[_0x3755c7(0x683)](_0x55df60);},(_0x55de58,_0x438a93,_0x57eafa)=>{const _0x5873e5=_0x43b1a9;let {method:_0x37a7b3,url:_0x4ccc9c}=_0x55de58;_0x438a93[_0x5873e5(0x3d8)](0x194)[_0x5873e5(0x683)]({'status':0x194,'message':_0x5873e5(0x65e)+_0x37a7b3[_0x5873e5(0x1f7)]()+'\x20'+_0x4ccc9c,'error':_0x5873e5(0x42c)}),_0x57eafa();});let _0x462378=(_0x4ddbe3,_0x3ef96b=_0x43b1a9(0x526))=>{const _0x16f8e7=_0x43b1a9;let _0x1d46ff=(_0x201430,_0x2342a4=null,_0x17d652=!0x1)=>{const _0x487b80=a0_0x3fdd;let _0x167caf={};return Object['keys'](_0x201430)[_0x487b80(0x785)](_0x3b187b=>{const _0x46b333=_0x487b80;let _0x52fdc3=_0x201430[_0x3b187b],_0x1af4b3=''+_0x3ef96b+_0x3b187b;_0x2342a4&&!_0x17d652&&(_0x1af4b3=_0x2342a4+'.'+_0x3b187b),!_0x52fdc3&&_0x52fdc3!==0x0&&_0x52fdc3!==!0x1||typeof _0x52fdc3>'u'?_0x167caf[_0x1af4b3]=null:typeof _0x52fdc3!='object'&&!Array[_0x46b333(0x1fc)](_0x52fdc3)?_0x167caf[_0x1af4b3]=_0x52fdc3:typeof _0x52fdc3=='object'&&!Array[_0x46b333(0x1fc)](_0x52fdc3)?_0x167caf=Object[_0x46b333(0x8d9)](_0x167caf,_0x1d46ff(_0x52fdc3,_0x1af4b3)):Array[_0x46b333(0x1fc)](_0x52fdc3)&&(typeof _0x52fdc3[0x0]==_0x46b333(0x26d)?(_0x167caf[_0x1af4b3]=[],_0x52fdc3[_0x46b333(0x785)](_0xc92483=>{const _0x3dd0d0=_0x46b333;_0x167caf[_0x1af4b3][_0x3dd0d0(0x3ae)](_0x1d46ff(_0xc92483,_0x1af4b3,!0x0));})):_0x167caf[_0x1af4b3]=_0x52fdc3);}),_0x167caf;};return Array[_0x16f8e7(0x1fc)](_0x4ddbe3)?_0x4ddbe3[_0x16f8e7(0x3ea)](_0x5bc6b8=>_0x1d46ff(_0x5bc6b8)):typeof _0x4ddbe3==_0x16f8e7(0x26d)&&_0x4ddbe3!==null?_0x1d46ff(_0x4ddbe3):{};},_0x3d3e6c=S[_0x43b1a9(0x3a9)]('SERVER');Ue[_0x43b1a9(0x710)]=_0x208732;let _0x28abe9=Ue[_0x3d3e6c[_0x43b1a9(0x8bf)]],_0x39f6e1='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x28abe9['listen'](_0x3d3e6c[_0x43b1a9(0x541)],()=>{const _0x50a913=_0x43b1a9;_0x49109e[_0x50a913(0x361)](_0x39f6e1),_0x49109e['log'](_0x3d3e6c['TYPE'][_0x50a913(0x1f7)]()+_0x50a913(0x362)+_0x3d3e6c[_0x50a913(0x541)]);}),sr(),Zs();}var ir=a0_0x389422(0x8fc),or=ns[a0_0x389422(0x37f)]['join'](__dirname,a0_0x389422(0x718)),Re=null;function rr(){return new Promise((_0x3e3147,_0x391434)=>{const _0xa92c04=a0_0x3fdd;je['default'][_0xa92c04(0x7d2)](or,'utf-8',(_0x49626d,_0xaceb76)=>{const _0x7e726a=_0xa92c04;if(_0x49626d){Re=_0x49626d,_0x3e3147();return;}qi[_0x7e726a(0x37f)][_0x7e726a(0x47e)](_0xaceb76)[_0x7e726a(0x7eb)][_0x7e726a(0x55a)]===ir?(Re=null,_0x3e3147()):(Re=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x3e3147());});});}async function nr(){const _0x2d2050=a0_0x389422;try{await rr(),await Vs();}catch(_0x160096){console['error'](_0x2d2050(0x665)+_0x160096),process[_0x2d2050(0x40b)](0x1);}}nr();async function Vi(){const _0x27bd15=a0_0x389422;let _0x4a75c5;try{_0x4a75c5=(await Je[_0x27bd15(0x37f)]['get']('https://jsonip.com'))[_0x27bd15(0x863)]['ip'];}catch(_0x4e8534){console['error'](_0x4e8534);try{_0x4a75c5=(await Je[_0x27bd15(0x37f)]['get']('https://api.ipify.org?format=json'))[_0x27bd15(0x863)]['ip'];}catch(_0x1c7840){console[_0x27bd15(0x5b6)](_0x1c7840);try{_0x4a75c5=(await Je['default']['get'](_0x27bd15(0x510)))[_0x27bd15(0x863)][_0x27bd15(0x6c1)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1cba89){return console[_0x27bd15(0x5b6)](_0x1cba89),!0x1;}}}return _0x4a75c5;}var Li=0x0;async function cr(){const _0x9cae05=a0_0x389422;let _0xd7060=await new pe(S['get'](_0x9cae05(0x593)))[_0x9cae05(0x380)]();return console[_0x9cae05(0x361)]('instancias:\x20',_0xd7060[_0x9cae05(0x7d0)]),_0xd7060[_0x9cae05(0x7d0)];}function lr(_0x393141){const _0x5d0761=a0_0x389422;let _0x3a2edf=_0x393141[_0x5d0761(0x3a9)](_0x5d0761(0x605))['URL'],_0x488379=_0x393141[_0x5d0761(0x3a9)]('SSL_CONF');console[_0x5d0761(0x361)](_0x5d0761(0x64b),_0x3a2edf),console[_0x5d0761(0x361)](_0x5d0761(0x5a7),_0x488379);let _0x13a6e5='',_0x926b3a=_0x3a2edf||'';if(_0x3a2edf){let _0x528e60=_0x3a2edf['match'](/\/\/(.*?)\./);console[_0x5d0761(0x361)](_0x5d0761(0x303),_0x528e60),_0x528e60&&_0x528e60[0x1]&&(_0x13a6e5=_0x528e60[0x1],console[_0x5d0761(0x361)]('Subdomínio\x20extraído\x20da\x20URL:',_0x13a6e5));}if(!_0x13a6e5&&_0x488379&&_0x488379[_0x5d0761(0x1db)]){let _0x263a0b=_0x488379['FULLCHAIN'][_0x5d0761(0x1eb)]('/');console[_0x5d0761(0x361)]('Partes\x20do\x20caminho\x20FULLCHAIN:',_0x263a0b);let _0x2c5d44=_0x263a0b[_0x263a0b['length']-0x2];if(console[_0x5d0761(0x361)]('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x2c5d44),_0x2c5d44){let _0x4d3f34=_0x2c5d44['split']('.');console[_0x5d0761(0x361)](_0x5d0761(0x2ac),_0x4d3f34),_0x4d3f34[_0x5d0761(0x7d0)]>0x2&&(_0x13a6e5=_0x4d3f34[0x0],console['log'](_0x5d0761(0x58c),_0x13a6e5),_0x926b3a=''+_0x2c5d44);}}return{'subdomain':_0x13a6e5||'Subdomínio\x20não\x20encontrado','fullURL':_0x926b3a||'URL\x20não\x20disponível'};}var {subdomain:B,fullURL:Gs}=lr(S);console[a0_0x389422(0x361)](a0_0x389422(0x4f4),B),console[a0_0x389422(0x361)](a0_0x389422(0x7a9),Gs);async function ur(){const _0x20a810=a0_0x389422;let _0x4a7d89=S[_0x20a810(0x3a9)]('REDIS'),_0x11a6d8=S['get']('AUTHENTICATION')[_0x20a810(0x48d)]['KEY'],_0x14b539=S['get'](_0x20a810(0x320)),_0x12f40d=await Vi(),_0x26c398=S[_0x20a810(0x3a9)]('SERVER')['PORT'],_0x47d6eb=Gs;try{let _0x8e7898={'ip':_0x12f40d||null,'redis_enable':_0x4a7d89?.[_0x20a810(0x290)]||null,'apikey':_0x11a6d8||null,'ssl':_0x14b539?.['PRIVKEY']||null,'lastupdate':Gi||null,'port':_0x26c398||null,'gitInstallError':Re?.[_0x20a810(0x582)]||null,'url':_0x47d6eb||null,'subdomain':B};if(console[_0x20a810(0x361)](_0x20a810(0x3ed),_0x8e7898['ip']),_0x4a7d89&&_0x4a7d89[_0x20a810(0x290)]){let _0x3efd18=await cr();_0x8e7898['instanceCount']=_0x3efd18||null;}for(let _0x4a0eb4 in _0x8e7898)_0x8e7898[_0x20a810(0x550)](_0x4a0eb4)&&_0x4a0eb4!=='ip'&&(_0x8e7898[_0x4a0eb4]=JSON[_0x20a810(0x2d0)](_0x8e7898[_0x4a0eb4]));return(await Je[_0x20a810(0x37f)]['post']('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x8e7898))[_0x20a810(0x863)];}catch(_0x30f230){return console['error'](_0x30f230),!0x1;}}var Js=!0x1,Gi=0x276,dr=0x3,Fi=0x1b7740;async function Vs(){const _0x55eb74=a0_0x389422;let _0x48bafb=_0x55eb74(0x239);Re===null&&(_0x48bafb=await Vi());let _0x2787ff=await ur();if(_0x2787ff){if(_0x2787ff[_0x55eb74(0x786)][_0x55eb74(0x2ad)]===!0x0){Re===null&&_0x2787ff[_0x55eb74(0x786)]['last_update']-Gi>0x0&&await pr(),Js||(Js=!0x0,ar());let _0x499fd6=0x24*0x3c*0x3c,_0x4565a6=_0x2787ff['response'][_0x55eb74(0x795)]>_0x499fd6?_0x499fd6:_0x2787ff[_0x55eb74(0x786)][_0x55eb74(0x795)],_0x37d6d8=Number(_0x4565a6);if(isNaN(_0x37d6d8)){console[_0x55eb74(0x5b6)](_0x55eb74(0x7aa));return;}let _0x4c0d2c=Math[_0x55eb74(0x448)](_0x37d6d8/0xe10),_0x2662c1=Math[_0x55eb74(0x448)](_0x37d6d8%0xe10/0x3c),_0x26d6d2=new Date(Date[_0x55eb74(0x755)]()+_0x37d6d8*0x3e8);setTimeout(Vs,_0x37d6d8*0x3e8);let _0x1a1220=_0x4f5891=>_0x4f5891[_0x55eb74(0x46e)]()['padStart'](0x2,'0'),_0x1cdb91=_0x55eb74(0x247)+_0x1a1220(_0x4c0d2c)+'\x20horas\x20e\x20'+_0x1a1220(_0x2662c1)+'\x20minutos.\x20Será\x20às\x20'+_0x1a1220(_0x26d6d2[_0x55eb74(0x723)]())+':'+_0x1a1220(_0x26d6d2[_0x55eb74(0x589)]())+'.';console[_0x55eb74(0x361)](_0x1cdb91);}else return console['log']('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Js&&(console[_0x55eb74(0x361)](_0x55eb74(0x440)),process[_0x55eb74(0x40b)]()),_0x55eb74(0x7e2);}else{if(Li++,Li<dr)console[_0x55eb74(0x361)](_0x55eb74(0x424)+Fi/0xea60+'\x20minutos...'),setTimeout(Vs,Fi);else return console[_0x55eb74(0x5b6)](_0x55eb74(0x24c)),_0x55eb74(0x4f8);}}async function pr(){const _0x507f6d=a0_0x389422;console[_0x507f6d(0x361)](_0x507f6d(0x4dd)),console[_0x507f6d(0x361)](_0x507f6d(0x366)),(0x0,rs[_0x507f6d(0x57d)])(_0x507f6d(0x3ef),{'shell':!0x0})['on'](_0x507f6d(0x253),_0xdec93d=>{const _0x4a068f=_0x507f6d;_0xdec93d!==0x0?console[_0x4a068f(0x5b6)](_0x4a068f(0x76f)):(console[_0x4a068f(0x361)](_0x4a068f(0x3b1)),console[_0x4a068f(0x361)](_0x4a068f(0x355)),(0x0,rs[_0x4a068f(0x57d)])(_0x4a068f(0x720),{'shell':!0x0})['on'](_0x4a068f(0x253),_0x214e0a=>{const _0x2d8a02=_0x4a068f;if(_0x214e0a!==0x0)console[_0x2d8a02(0x5b6)]('Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.');else{console[_0x2d8a02(0x361)](_0x2d8a02(0x53a));let _0x181810=(0x0,rs['spawn'])(_0x2d8a02(0x86b),{'shell':!0x0});_0x181810['stdout']['on']('data',_0x7a3f7c=>{const _0x26941e=_0x2d8a02;console[_0x26941e(0x361)](_0x26941e(0x680)+_0x7a3f7c);}),_0x181810['stderr']['on'](_0x2d8a02(0x863),_0x52a82e=>{const _0x56fe11=_0x2d8a02;console[_0x56fe11(0x5b6)](_0x56fe11(0x618)+_0x52a82e);}),_0x181810['on']('exit',_0x34b1d8=>{const _0x50cf1e=_0x2d8a02;_0x34b1d8!==0x0?console[_0x50cf1e(0x5b6)](_0x50cf1e(0x724)+_0x34b1d8):console[_0x50cf1e(0x361)](_0x50cf1e(0x5a9)),console[_0x50cf1e(0x361)](_0x50cf1e(0x198)),setTimeout(()=>process['exit'](),0x2710);});}}));});}0x0&&(module[a0_0x389422(0x803)]={'fullURL':fullURL,'subdomain':subdomain});