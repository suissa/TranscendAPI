const a0_0x4fecf3=a0_0x5137;(function(_0x1148c0,_0x38796c){const _0x9c971b=a0_0x5137,_0x90acf8=_0x1148c0();while(!![]){try{const _0x481a48=-parseInt(_0x9c971b(0x5c2))/0x1+-parseInt(_0x9c971b(0x518))/0x2*(-parseInt(_0x9c971b(0x613))/0x3)+parseInt(_0x9c971b(0x2fa))/0x4*(-parseInt(_0x9c971b(0x71e))/0x5)+parseInt(_0x9c971b(0x331))/0x6+parseInt(_0x9c971b(0x6e9))/0x7*(parseInt(_0x9c971b(0x472))/0x8)+parseInt(_0x9c971b(0x3f5))/0x9+-parseInt(_0x9c971b(0x194))/0xa;if(_0x481a48===_0x38796c)break;else _0x90acf8['push'](_0x90acf8['shift']());}catch(_0x30885f){_0x90acf8['push'](_0x90acf8['shift']());}}}(a0_0x19f3,0xb5bca));var Br=Object[a0_0x4fecf3(0x187)],Pe=Object['defineProperty'],Gr=Object[a0_0x4fecf3(0x378)],Wr=Object[a0_0x4fecf3(0x5b9)],zr=Object[a0_0x4fecf3(0x7e4)],Hr=Object[a0_0x4fecf3(0x1b9)]['hasOwnProperty'],Kr=(_0x28a502,_0x11fb15)=>{for(var _0x363ec5 in _0x11fb15)Pe(_0x28a502,_0x363ec5,{'get':_0x11fb15[_0x363ec5],'enumerable':!0x0});},Us=(_0x2867fc,_0x4a2dfc,_0x503267,_0x184621)=>{const _0x51f808=a0_0x4fecf3;if(_0x4a2dfc&&typeof _0x4a2dfc==_0x51f808(0x646)||typeof _0x4a2dfc==_0x51f808(0x423)){for(let _0x3aaafd of Wr(_0x4a2dfc))!Hr[_0x51f808(0x211)](_0x2867fc,_0x3aaafd)&&_0x3aaafd!==_0x503267&&Pe(_0x2867fc,_0x3aaafd,{'get':()=>_0x4a2dfc[_0x3aaafd],'enumerable':!(_0x184621=Gr(_0x4a2dfc,_0x3aaafd))||_0x184621[_0x51f808(0x3b8)]});}return _0x2867fc;},O=(_0x205a35,_0x47926f,_0x685901)=>(_0x685901=_0x205a35!=null?Br(zr(_0x205a35)):{},Us(_0x47926f||!_0x205a35||!_0x205a35[a0_0x4fecf3(0x636)]?Pe(_0x685901,'default',{'value':_0x205a35,'enumerable':!0x0}):_0x685901,_0x205a35)),Qr=_0x53c758=>Us(Pe({},a0_0x4fecf3(0x636),{'value':!0x0}),_0x53c758),io={};Kr(io,{'subdomain':()=>_s}),module[a0_0x4fecf3(0x442)]=Qr(io);var Lr=O(require('compression')),Js=require('fs'),Vs=require(a0_0x4fecf3(0x38c)),Bs=require(a0_0x4fecf3(0x7e8)),$e=require(a0_0x4fecf3(0x7e8)),ie=process['cwd'](),ge=(0x0,$e[a0_0x4fecf3(0x386)])(ie,a0_0x4fecf3(0x4c9)),qs=(0x0,$e['join'])(ie,a0_0x4fecf3(0x1da)),Xo=(0x0,$e[a0_0x4fecf3(0x386)])(ie,a0_0x4fecf3(0x699),'auth'),os=class{constructor(){const _0x1d047e=a0_0x4fecf3;this[_0x1d047e(0x433)]();}[a0_0x4fecf3(0x46f)](_0x1f3aec){const _0x4b4e8d=a0_0x4fecf3;return this[_0x4b4e8d(0x4c6)][_0x1f3aec];}[a0_0x4fecf3(0x433)](){const _0x5e3857=a0_0x4fecf3;this[_0x5e3857(0x4c6)]=process[_0x5e3857(0x4c6)]?.['DOCKER_ENV']!==_0x5e3857(0x5a3)?this['envYaml']():this[_0x5e3857(0x3de)](),process[_0x5e3857(0x4c6)]?.[_0x5e3857(0x1b1)]===_0x5e3857(0x5a3)&&(this[_0x5e3857(0x4c6)][_0x5e3857(0x3cd)][_0x5e3857(0x2d9)]=_0x5e3857(0x38b),this['env'][_0x5e3857(0x3cd)][_0x5e3857(0x5c6)]=Number[_0x5e3857(0x712)](process[_0x5e3857(0x4c6)]?.[_0x5e3857(0x539)]??_0x5e3857(0x5b2)));}[a0_0x4fecf3(0x59b)](){const _0x45fb27=a0_0x4fecf3;return(0x0,Vs[_0x45fb27(0x4d9)])((0x0,Js[_0x45fb27(0x638)])((0x0,Bs['join'])(qs,_0x45fb27(0x666)),{'encoding':_0x45fb27(0x45d)}));}[a0_0x4fecf3(0x3de)](){const _0x417879=a0_0x4fecf3;return{'SERVER':{'TYPE':process[_0x417879(0x4c6)][_0x417879(0x639)],'PORT':Number[_0x417879(0x712)](process[_0x417879(0x4c6)][_0x417879(0x539)]),'URL':process[_0x417879(0x4c6)][_0x417879(0x454)]},'CORS':{'ORIGIN':process[_0x417879(0x4c6)][_0x417879(0x206)][_0x417879(0x579)](','),'METHODS':process[_0x417879(0x4c6)]['CORS_METHODS'][_0x417879(0x579)](','),'CREDENTIALS':process[_0x417879(0x4c6)]?.['CORS_CREDENTIALS']===_0x417879(0x5a3)},'SSL_CONF':{'PRIVKEY':process[_0x417879(0x4c6)]?.[_0x417879(0x30f)],'FULLCHAIN':process[_0x417879(0x4c6)]?.[_0x417879(0x17d)]},'STORE':{'CLEANING_INTERVAL':Number[_0x417879(0x775)](process[_0x417879(0x4c6)]?.[_0x417879(0x628)])?Number[_0x417879(0x712)](process[_0x417879(0x4c6)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x417879(0x4c6)]?.[_0x417879(0x7e3)]===_0x417879(0x5a3),'CONTACTS':process[_0x417879(0x4c6)]?.['STORE_CONTACTS']===_0x417879(0x5a3),'CHATS':process[_0x417879(0x4c6)]?.[_0x417879(0x31e)]===_0x417879(0x5a3)},'DATABASE':{'CONNECTION':{'HOST':process[_0x417879(0x4c6)]?.[_0x417879(0x798)],'PORT':Number[_0x417879(0x712)](process[_0x417879(0x4c6)]?.[_0x417879(0x798)]),'USER':process[_0x417879(0x4c6)][_0x417879(0x7ed)],'PASSWORD':process[_0x417879(0x4c6)][_0x417879(0x40f)],'URI':process[_0x417879(0x4c6)][_0x417879(0x30d)],'DB_PREFIX_NAME':process[_0x417879(0x4c6)][_0x417879(0x3ea)]},'ENABLED':process[_0x417879(0x4c6)]?.[_0x417879(0x588)]===_0x417879(0x5a3)},'REDIS':{'ENABLED':process[_0x417879(0x4c6)]?.[_0x417879(0x6cd)]==='true','URI':process[_0x417879(0x4c6)]['REDIS_URI']||_0x417879(0x18e),'PREFIX_KEY':process[_0x417879(0x4c6)]['REDIS_PREFIX_KEY']||_0x417879(0x354)},'LOG':{'LEVEL':process[_0x417879(0x4c6)]?.[_0x417879(0x27d)][_0x417879(0x579)](','),'COLOR':process[_0x417879(0x4c6)]?.[_0x417879(0x1cd)]==='true'},'PROXY':Number['parseInt'](process[_0x417879(0x4c6)]?.['PROXY']),'AUTHENTICATION':{'TYPE':process[_0x417879(0x4c6)][_0x417879(0x4b7)],'API_KEY':{'KEY':process[_0x417879(0x4c6)][_0x417879(0x156)]},'JWT':{'EXPIRIN_IN':Number[_0x417879(0x775)](process['env']?.[_0x417879(0x677)])?Number[_0x417879(0x712)](process['env'][_0x417879(0x677)]):0xe10,'SECRET':process['env']['AUTHENTICATION_JWT_SECRET']}}};}},b=new os(),jr=O(require('cors')),he=O(require('express')),js=require('path'),ns=O(require(a0_0x4fecf3(0x7e0))),cs=(_0x15d93b=>(_0x15d93b['LOG']='\x1b[32m',_0x15d93b[a0_0x4fecf3(0x59c)]=a0_0x4fecf3(0x2d7),_0x15d93b['WARN']=a0_0x4fecf3(0x657),_0x15d93b['ERROR']=a0_0x4fecf3(0x49b),_0x15d93b['DEBUG']=a0_0x4fecf3(0x492),_0x15d93b[a0_0x4fecf3(0x2b9)]=a0_0x4fecf3(0x419),_0x15d93b[a0_0x4fecf3(0x508)]='\x1b[30m',_0x15d93b))(cs||{}),Gs=(_0x3f9aca=>(_0x3f9aca[a0_0x4fecf3(0x314)]='\x1b[32m%s\x1b[0m',_0x3f9aca[a0_0x4fecf3(0x508)]=a0_0x4fecf3(0x761),_0x3f9aca['INFO']=a0_0x4fecf3(0x680),_0x3f9aca[a0_0x4fecf3(0x1e4)]='\x1b[33m%s\x1b[0m',_0x3f9aca[a0_0x4fecf3(0x27e)]=a0_0x4fecf3(0x221),_0x3f9aca[a0_0x4fecf3(0x4c7)]=a0_0x4fecf3(0x752),_0x3f9aca[a0_0x4fecf3(0x2b9)]=a0_0x4fecf3(0x4e2),_0x3f9aca))(Gs||{}),Ws=(_0x11be11=>(_0x11be11[a0_0x4fecf3(0x314)]=a0_0x4fecf3(0x314),_0x11be11[a0_0x4fecf3(0x1e4)]=a0_0x4fecf3(0x1e4),_0x11be11['INFO']=a0_0x4fecf3(0x59c),_0x11be11[a0_0x4fecf3(0x508)]=a0_0x4fecf3(0x508),_0x11be11[a0_0x4fecf3(0x27e)]=a0_0x4fecf3(0x27e),_0x11be11[a0_0x4fecf3(0x4c7)]=a0_0x4fecf3(0x4c7),_0x11be11[a0_0x4fecf3(0x2b9)]=a0_0x4fecf3(0x2b9),_0x11be11))(Ws||{}),zs=(_0x413549=>(_0x413549[a0_0x4fecf3(0x314)]=a0_0x4fecf3(0x1bd),_0x413549[a0_0x4fecf3(0x59c)]=a0_0x4fecf3(0x233),_0x413549[a0_0x4fecf3(0x1e4)]=a0_0x4fecf3(0x47c),_0x413549['DARK']=a0_0x4fecf3(0x5e6),_0x413549[a0_0x4fecf3(0x27e)]=a0_0x4fecf3(0x485),_0x413549[a0_0x4fecf3(0x4c7)]=a0_0x4fecf3(0x251),_0x413549[a0_0x4fecf3(0x2b9)]='\x1b[47m',_0x413549))(zs||{}),v=class{constructor(_0x1aa599=a0_0x4fecf3(0x671)){const _0x1ad7e3=a0_0x4fecf3;this['context']=_0x1aa599,this[_0x1ad7e3(0x6e7)]=b;}[a0_0x4fecf3(0x744)](_0x54b573){this['context']=_0x54b573;}[a0_0x4fecf3(0x6d2)](_0x7a0315,_0x2e42da){const _0x529763=a0_0x4fecf3;let _0x36c080=[];this[_0x529763(0x6e7)]['get'](_0x529763(0x314))['LEVEL'][_0x529763(0x697)](_0x58c559=>_0x36c080[_0x529763(0x4b4)](Ws[_0x58c559]));let _0xadd0fd=typeof _0x7a0315;_0x36c080[_0x529763(0x207)](_0x2e42da)&&(b[_0x529763(0x46f)](_0x529763(0x314))[_0x529763(0x5e2)]?(console['log'](_0x529763(0x349)+Gs[_0x2e42da],_0x529763(0x2e4),(0x0,ns[_0x529763(0x3cc)])()[_0x529763(0x159)](_0x529763(0x232)),'\x1b[0m',cs[_0x2e42da]+zs[_0x2e42da]+_0x529763(0x349),_0x2e42da+_0x529763(0x453),_0x529763(0x1b0),this[_0x529763(0x52f)]+_0x529763(0x58f),cs[_0x2e42da],_0xadd0fd!==_0x529763(0x646)?_0x7a0315:'','\x1b[0m'),_0xadd0fd===_0x529763(0x646)&&console[_0x529763(0x635)](_0x7a0315,'\x0a')):console[_0x529763(0x635)]((0x0,ns[_0x529763(0x3cc)])()[_0x529763(0x159)](_0x529763(0x243)),_0x2e42da+'\x20',''+this[_0x529763(0x52f)],_0x7a0315));}['log'](_0x3460e1){const _0x3e2953=a0_0x4fecf3;this['console'](_0x3460e1,_0x3e2953(0x314));}[a0_0x4fecf3(0x69f)](_0x521050){const _0x13103c=a0_0x4fecf3;this[_0x13103c(0x6d2)](_0x521050,'INFO');}[a0_0x4fecf3(0x70e)](_0x57580e){const _0x4fe55c=a0_0x4fecf3;this[_0x4fe55c(0x6d2)](_0x57580e,'WARN');}[a0_0x4fecf3(0x2cb)](_0x138ba2){const _0x15da89=a0_0x4fecf3;this[_0x15da89(0x6d2)](_0x138ba2,_0x15da89(0x27e));}['verbose'](_0xc0edce){const _0x335242=a0_0x4fecf3;this[_0x335242(0x6d2)](_0xc0edce,_0x335242(0x2b9));}[a0_0x4fecf3(0x217)](_0x4b64f4){const _0x53ac42=a0_0x4fecf3;this[_0x53ac42(0x6d2)](_0x4b64f4,_0x53ac42(0x4c7));}[a0_0x4fecf3(0x177)](_0xfe11ba){const _0x1f0f65=a0_0x4fecf3;this[_0x1f0f65(0x6d2)](_0xfe11ba,'DARK');}};function Hs(){const _0x1080d0=a0_0x4fecf3;process['on'](_0x1080d0(0x4dd),(_0x4f1823,_0x4d5c37)=>{const _0x54725d=_0x1080d0;new v(_0x54725d(0x4dd))[_0x54725d(0x2cb)]({'origin':_0x4d5c37,'stderr':process[_0x54725d(0x19f)]['fd'],'error':_0x4f1823});}),process['on'](_0x1080d0(0x600),(_0x3e16b1,_0x3ec0eb)=>{const _0x44dcb2=_0x1080d0;new v(_0x44dcb2(0x600))[_0x44dcb2(0x2cb)]({'origin':_0x3ec0eb,'stderr':process[_0x44dcb2(0x19f)]['fd'],'error':_0x3e16b1});});}var Ks=O(require(a0_0x4fecf3(0x6ce))),ls=new Ks[(a0_0x4fecf3(0x3cc))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Le=require(a0_0x4fecf3(0x294)),Se=O(require(a0_0x4fecf3(0x294))),ke=new v('Db\x20Connection'),k=b[a0_0x4fecf3(0x46f)](a0_0x4fecf3(0x19a)),N=k[a0_0x4fecf3(0x3c6)]?k[a0_0x4fecf3(0x2ac)][a0_0x4fecf3(0x275)]?Se[a0_0x4fecf3(0x3cc)]['createConnection'](k[a0_0x4fecf3(0x2ac)]['URI'],{'dbName':k[a0_0x4fecf3(0x2ac)][a0_0x4fecf3(0x53b)]+a0_0x4fecf3(0x204)}):Se[a0_0x4fecf3(0x3cc)]['createConnection']('mongodb://'+k[a0_0x4fecf3(0x2ac)][a0_0x4fecf3(0x5c8)]+':'+k[a0_0x4fecf3(0x2ac)][a0_0x4fecf3(0x5c6)]+a0_0x4fecf3(0x7af),{'user':k['CONNECTION'][a0_0x4fecf3(0x1eb)],'pass':k[a0_0x4fecf3(0x2ac)][a0_0x4fecf3(0x76e)],'dbName':k[a0_0x4fecf3(0x2ac)][a0_0x4fecf3(0x53b)]+'-whatsapp-api'}):null;k[a0_0x4fecf3(0x3c6)]&&ke[a0_0x4fecf3(0x69f)]('ON\x20-\x20dbName:\x20'+N[a0_0x4fecf3(0x398)]);var me=k[a0_0x4fecf3(0x3c6)]?k['CONNECTION'][a0_0x4fecf3(0x275)]?Se[a0_0x4fecf3(0x3cc)][a0_0x4fecf3(0x3b7)](k[a0_0x4fecf3(0x2ac)][a0_0x4fecf3(0x275)],{'dbName':'cachedData-whatsapp'}):Se['default']['createConnection'](a0_0x4fecf3(0x711)+k['CONNECTION']['HOST']+':'+k[a0_0x4fecf3(0x2ac)][a0_0x4fecf3(0x5c6)]+a0_0x4fecf3(0x7af),{'user':k[a0_0x4fecf3(0x2ac)][a0_0x4fecf3(0x1eb)],'pass':k[a0_0x4fecf3(0x2ac)]['PASSWORD'],'dbName':a0_0x4fecf3(0x60e)}):null;me&&ke[a0_0x4fecf3(0x69f)]('ON\x20-\x20dbName:\x20'+me[a0_0x4fecf3(0x398)]),process['on'](a0_0x4fecf3(0x4a1),()=>{const _0x302500=a0_0x4fecf3;N&&N[_0x302500(0x291)](()=>{const _0x466575=_0x302500;ke['info'](_0x466575(0x1f7));}),me&&me[_0x302500(0x291)](()=>{const _0x408884=_0x302500;ke[_0x408884(0x69f)](_0x408884(0x3f6));});});var Yr=new Le[(a0_0x4fecf3(0x700))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xr=new Le[(a0_0x4fecf3(0x700))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Zr=new Le[(a0_0x4fecf3(0x700))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Xr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Qs=_0x4081dc=>{const _0x15ff2a=a0_0x4fecf3;let _0x5dedb7='z_'+_0x4081dc+_0x15ff2a(0x7f9);return N?.[_0x15ff2a(0x48e)](_0x15ff2a(0x1c1),Zr,_0x5dedb7);},Ys=require(a0_0x4fecf3(0x294)),ei=new Ys[(a0_0x4fecf3(0x700))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Xs=_0x10c2ec=>{const _0x14b40d=a0_0x4fecf3;let _0x3b1b42='z_'+_0x10c2ec+_0x14b40d(0x7bc);return N?.['model'](_0x14b40d(0x611),ei,_0x3b1b42);},Zs=require(a0_0x4fecf3(0x294)),us=class{},ti=new Zs[(a0_0x4fecf3(0x700))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=me?.[a0_0x4fecf3(0x48e)](us['name'],ti,'ContactsAndGroups'),ta=require('mongoose'),si=new ta[(a0_0x4fecf3(0x700))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),sa=_0x1b62a4=>{const _0x2f03dd=a0_0x4fecf3;let _0x51e06a='z_'+_0x1b62a4+'_Messages';return N?.[_0x2f03dd(0x48e)](_0x2f03dd(0x21a),si,_0x51e06a);},aa=require(a0_0x4fecf3(0x294)),ds=class{},ai=new aa[(a0_0x4fecf3(0x700))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ra=N?.[a0_0x4fecf3(0x48e)](ds['name'],ai,a0_0x4fecf3(0x327)),ia=require(a0_0x4fecf3(0x294)),ps=class{},oa=new ia[(a0_0x4fecf3(0x700))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});oa['pre'](a0_0x4fecf3(0x809),function(_0x4b1e50){const _0x2348df=a0_0x4fecf3;delete this['flowActive'],delete this[_0x2348df(0x2ab)],delete this[_0x2348df(0x773)],delete this[_0x2348df(0x42d)],delete this[_0x2348df(0x2e9)],_0x4b1e50();});var na=N?.[a0_0x4fecf3(0x48e)](ps[a0_0x4fecf3(0x804)],oa,a0_0x4fecf3(0x58e)),L=require(a0_0x4fecf3(0x294)),ca=require(a0_0x4fecf3(0x3df)),je=class{},la=new L[(a0_0x4fecf3(0x700))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),hs=new L[(a0_0x4fecf3(0x700))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ri=new L[(a0_0x4fecf3(0x700))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x4fecf3(0x267)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x4fecf3(0x320)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x4fecf3(0x1a8)},'pollErrorMessage':{'type':String,'default':a0_0x4fecf3(0x44d)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ua=new L[(a0_0x4fecf3(0x700))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ii=new L[(a0_0x4fecf3(0x700))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),oi=new L[(a0_0x4fecf3(0x700))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ys=new L[(a0_0x4fecf3(0x700))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),da=new L[(a0_0x4fecf3(0x700))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ri},'apirequest':ii,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),pa=new L[(a0_0x4fecf3(0x700))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),gs=class{},Fe=new L[(a0_0x4fecf3(0x700))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,ca['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x28f2c6=a0_0x4fecf3;return _0x28f2c6(0x66f)+Math[_0x28f2c6(0x5fe)]()[_0x28f2c6(0x2c2)](0x24)[_0x28f2c6(0x704)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ys],'variablesNotFound':{'type':[String]},'blocks':[da],'groups':[la],'conditions':[ua],'varedits':[pa],'replyOptions':{'type':[hs],'default':[]}});Fe[a0_0x4fecf3(0x790)](a0_0x4fecf3(0x809),function(_0x1ece4b){const _0x3ad87d=a0_0x4fecf3;let _0x4851ab=new Set(),_0x445ace=new Set(this[_0x3ad87d(0x163)]?.[_0x3ad87d(0x428)](_0x2034a1=>_0x2034a1[_0x3ad87d(0x804)])),_0x13aa19=JSON[_0x3ad87d(0x155)](this),_0x1ac591=/{{(?!_)([^}]*)}}/g,_0x3f254b;for(;(_0x3f254b=_0x1ac591[_0x3ad87d(0x57c)](_0x13aa19))!==null;)_0x445ace[_0x3ad87d(0x311)](_0x3f254b[0x1])||_0x4851ab[_0x3ad87d(0x32b)](_0x3f254b[0x1]);_0x4851ab[_0x3ad87d(0x425)]>0x0?(console[_0x3ad87d(0x70e)](_0x3ad87d(0x2c8),Array[_0x3ad87d(0x7f5)](_0x4851ab)),this[_0x3ad87d(0x500)]=Array['from'](_0x4851ab)):this['variablesNotFound']=[],_0x1ece4b();}),Fe[a0_0x4fecf3(0x790)](a0_0x4fecf3(0x4c3),function(_0x562bcd){const _0x1ee034=a0_0x4fecf3;let _0x2a06d4=this['getUpdate']();if(_0x2a06d4&&typeof _0x2a06d4=='object'&&_0x1ee034(0x27f)in _0x2a06d4){let _0x27b8b9=_0x2a06d4[_0x1ee034(0x27f)];if(_0x27b8b9){let _0x12855a=new Set(),_0x27aca8=new Set(_0x27b8b9['variables']?.[_0x1ee034(0x428)](_0x5bc759=>_0x5bc759[_0x1ee034(0x804)])),_0x35a57b=JSON[_0x1ee034(0x155)](_0x27b8b9),_0x9e62cc=/{{(?!_)([^}]*)}}/g,_0x47b20f;for(;(_0x47b20f=_0x9e62cc[_0x1ee034(0x57c)](_0x35a57b))!==null;)_0x27aca8[_0x1ee034(0x311)](_0x47b20f[0x1])||_0x12855a[_0x1ee034(0x32b)](_0x47b20f[0x1]);_0x12855a['size']>0x0?(console[_0x1ee034(0x70e)]('Variáveis\x20não\x20encontradas:',Array[_0x1ee034(0x7f5)](_0x12855a)),_0x27b8b9[_0x1ee034(0x500)]=Array[_0x1ee034(0x7f5)](_0x12855a)):_0x27b8b9[_0x1ee034(0x500)]=[],this[_0x1ee034(0x220)]({'$set':_0x27b8b9});}}_0x562bcd();});var ha=_0x2edfb9=>{const _0x3684b8=a0_0x4fecf3;let _0x536cf6='z_'+_0x2edfb9+_0x3684b8(0x265);return N?.[_0x3684b8(0x48e)](_0x3684b8(0x48f),Fe,_0x536cf6);},ga=N?.[a0_0x4fecf3(0x48e)](gs[a0_0x4fecf3(0x804)],Fe,a0_0x4fecf3(0x22c)),ni=new L[(a0_0x4fecf3(0x700))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ys],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[oi]},{'_id':!0x1}),ms=class{},ma=new L['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ys],'blocks':[da],'groups':[la],'conditions':[ua],'varedits':[pa],'replyOptions':{'type':[hs],'default':[]},'chatLog':ni,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[hs],'default':[]}}),fa=_0x4b4fc4=>{const _0x1f5a1a=a0_0x4fecf3;let _0x1fdc5b='z_'+_0x4b4fc4+'_FlowHistorico';return N?.[_0x1f5a1a(0x48e)](_0x1f5a1a(0x820),ma,_0x1fdc5b);},wa=N?.[a0_0x4fecf3(0x48e)](ms[a0_0x4fecf3(0x804)],ma,a0_0x4fecf3(0x3bb)),fs=class{},ci=new L[(a0_0x4fecf3(0x700))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),li=new L['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ya=new L[(a0_0x4fecf3(0x700))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':li,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ci],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ba=_0x3e0725=>{const _0x333c1b=a0_0x4fecf3;let _0x45896b='z_'+_0x3e0725+_0x333c1b(0x6b6);return N?.['model'](_0x333c1b(0x802),ya,_0x45896b);},Sa=N?.['model'](fs[a0_0x4fecf3(0x804)],ya,'scheduleMessages'),ws=class{},ui=new L[(a0_0x4fecf3(0x700))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),di=new L['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),pi=new L[(a0_0x4fecf3(0x700))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),hi=new L[(a0_0x4fecf3(0x700))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[pi]},'customFields':{'type':[ui]},'flowConfig':{'type':di,'default':{}}}),Ue=N?.[a0_0x4fecf3(0x48e)](ws[a0_0x4fecf3(0x804)],hi,'AutomateSystem'),Ca=require(a0_0x4fecf3(0x294)),gi=new Ca[(a0_0x4fecf3(0x700))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x451fff=>{const _0x39b201=a0_0x4fecf3;let _0x4ef0c6='z_'+_0x451fff+_0x39b201(0x4e8);return N?.[_0x39b201(0x48e)](_0x39b201(0x620),gi,_0x4ef0c6);},D=class{constructor(_0x14fba5){const _0x5b4d7a=a0_0x4fecf3;this[_0x5b4d7a(0x24e)]=_0x14fba5[_0x5b4d7a(0x46f)](_0x5b4d7a(0x19a));}};function A(_0x16dca0){const _0x5b8bc8=a0_0x4fecf3;let _0x4acba5={};for(let [_0x1fdd5d,_0x3816f1]of Object['entries'](_0x16dca0))if(typeof _0x3816f1==_0x5b8bc8(0x646)&&!Array[_0x5b8bc8(0x5ff)](_0x3816f1)){for(let [_0x10eacb,_0x218dc3]of Object['entries'](_0x3816f1))_0x4acba5[_0x1fdd5d+'.'+_0x10eacb]=_0x218dc3;}else _0x4acba5[_0x1fdd5d]=_0x3816f1;return _0x4acba5;}var qe=class{constructor(_0x2e30c3,_0x57aef9,_0x443e2e,_0x38a94e,_0x440fc7,_0x2fb78d,_0x51ee0e,_0x2b13d2,_0x2594b7,_0x495cd9,_0x4c63ce,_0x208376){const _0xe0c51c=a0_0x4fecf3;this[_0xe0c51c(0x6c9)]=_0x2e30c3,this['chat']=_0x57aef9,this[_0xe0c51c(0x661)]=_0x443e2e,this[_0xe0c51c(0x78e)]=_0x38a94e,this[_0xe0c51c(0x58e)]=_0x440fc7,this['auth']=_0x2fb78d,this[_0xe0c51c(0x22c)]=_0x51ee0e,this[_0xe0c51c(0x3bb)]=_0x2b13d2,this[_0xe0c51c(0x40e)]=_0x2594b7,this[_0xe0c51c(0x29a)]=_0x495cd9,this[_0xe0c51c(0x253)]=_0x4c63ce,this['dbClient']=_0x208376;}get[a0_0x4fecf3(0x269)](){const _0x29afe3=a0_0x4fecf3;return this[_0x29afe3(0x209)];}},Je=class{},Ve=class extends D{['getMessageModelForOwner'](_0x53e64d){return sa(_0x53e64d);}async['insert'](_0x2a374a,_0x6bc969){const _0x5de046=a0_0x4fecf3;if(_0x2a374a[_0x5de046(0x7da)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5de046(0x71a)](_0x6bc969)[_0x5de046(0x688)]([..._0x2a374a]))[_0x5de046(0x7da)]};}catch(_0x32506b){return _0x32506b;}}async[a0_0x4fecf3(0x201)](_0x46c8cb,_0xe529d9){const _0x37f8b4=a0_0x4fecf3;try{let _0x232d77=this[_0x37f8b4(0x71a)](_0xe529d9),_0x2f3055=A(_0x46c8cb['where']);return await _0x232d77[_0x37f8b4(0x201)](_0x2f3055)[_0x37f8b4(0x374)]({'messageTimestamp':-0x1})[_0x37f8b4(0x2d4)](_0x46c8cb?.['limit']??0x0)[_0x37f8b4(0x531)]();}catch{return[];}}async[a0_0x4fecf3(0x1c0)](_0x46d262,_0x5cbbbc){const _0x343980=a0_0x4fecf3;try{let _0x5112fd=this[_0x343980(0x71a)](_0x5cbbbc),_0x5ac5cb=A(_0x46d262[_0x343980(0x73e)]);await _0x5112fd[_0x343980(0x717)](_0x5ac5cb);}catch(_0x47c039){console['error'](_0x47c039);}}async[a0_0x4fecf3(0x724)](_0x7fc8e,_0x1ed816,_0x2e9fef){const _0x1abbba=a0_0x4fecf3;try{let _0x5625b3=this[_0x1abbba(0x71a)](_0x2e9fef),_0x428832=A(_0x7fc8e[_0x1abbba(0x73e)]);return await _0x5625b3[_0x1abbba(0x4c3)](_0x428832,{'$set':_0x1ed816},{'new':!0x0});}catch(_0x16ec37){throw console[_0x1abbba(0x2cb)](_0x16ec37),_0x16ec37;}}async[a0_0x4fecf3(0x688)](_0x4a09d0,_0x3f43c5){const _0x13546=a0_0x4fecf3;if(_0x4a09d0['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x3f43c5)[_0x13546(0x688)]([..._0x4a09d0]))[_0x13546(0x7da)]};}catch(_0x5b24a3){return console['log'](_0x13546(0x371),_0x5b24a3),_0x5b24a3;}}async[a0_0x4fecf3(0x270)](_0x1817ff){const _0x3ca791=a0_0x4fecf3;try{return await this['getMessageModelForOwner'](_0x1817ff)[_0x3ca791(0x7cc)][_0x3ca791(0x427)](),{'success':!0x0};}catch(_0x4075e1){return console[_0x3ca791(0x2cb)](_0x4075e1),{'success':!0x1,'error':_0x4075e1};}}},Tr=O(require('@ffmpeg-installer/ffmpeg')),m=O(require('@whiskeysockets/baileys')),Te=require('fs'),J=O(require(a0_0x4fecf3(0x7e8))),Z=O(require(a0_0x4fecf3(0x810))),Or=require(a0_0x4fecf3(0x3df)),Ar=O(require('qrcode')),Ir=O(require('qrcode-terminal')),Ma=[a0_0x4fecf3(0x3eb),'documentMessage',a0_0x4fecf3(0x4f6),'videoMessage',a0_0x4fecf3(0x763)],va=[a0_0x4fecf3(0x1d8),a0_0x4fecf3(0x2c7),'viewOnceMessage','viewOnceMessageV2'],Os=require('os'),$t=O(require(a0_0x4fecf3(0x4ab))),Ft=require(a0_0x4fecf3(0x250)),kt=require(a0_0x4fecf3(0x5a4)),le=O(require('mongoose')),P=require(a0_0x4fecf3(0x7df)),fe=class{constructor(_0x483eff,_0x3fa461,_0x14ca25){const _0x26351c=a0_0x4fecf3;this[_0x26351c(0x43c)]=_0x483eff,this['exists']=_0x3fa461,this['name']=_0x14ca25;}},Be=class{},Ge=class{},Ce=class{},We=class{},ze=class{},we=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},At=O(require(a0_0x4fecf3(0x3b0))),Na=require('fs'),Ra=require(a0_0x4fecf3(0x7e8));async function Xe(_0x43140b){const _0x361237=a0_0x4fecf3;let _0xc801d2=B[_0x361237(0x5cb)][_0x43140b];if(k[_0x361237(0x3c6)]){let _0x21208f=N['getClient']()['db'](k[_0x361237(0x2ac)][_0x361237(0x53b)]+'-instances')['collection'](_0x43140b);return _0xc801d2||(await _0x21208f['find']({})['toArray']())[_0x361237(0x7da)]>0x0;}return _0xc801d2||(0x0,Na['existsSync'])((0x0,Ra['join'])(ge,_0x43140b));}async function Ta(_0x528c9e,_0x494615,_0xfded73){const _0x2b4f69=a0_0x4fecf3;if(_0x528c9e[_0x2b4f69(0x5eb)][_0x2b4f69(0x207)](_0x2b4f69(0x6b1))||_0x528c9e['originalUrl'][_0x2b4f69(0x207)](_0x2b4f69(0x46c))||_0x528c9e[_0x2b4f69(0x5eb)]['includes']('/exit')||_0x528c9e[_0x2b4f69(0x5eb)]['includes'](_0x2b4f69(0x432))||_0x528c9e[_0x2b4f69(0x5eb)][_0x2b4f69(0x207)](_0x2b4f69(0x54d))||_0x528c9e[_0x2b4f69(0x5eb)]['includes'](_0x2b4f69(0x41c))||_0x528c9e[_0x2b4f69(0x5eb)][_0x2b4f69(0x207)]('/instance/delete'))return _0xfded73();let _0x20604d=_0x528c9e['params'];if(!_0x20604d?.['instanceName'])throw new w(_0x2b4f69(0x1f1));if(!await Xe(_0x20604d[_0x2b4f69(0x1e0)]))throw new j(_0x2b4f69(0x29c)+_0x20604d[_0x2b4f69(0x1e0)]+_0x2b4f69(0x5f9));_0xfded73();}async function Oa(_0x42ed69,_0x1db444,_0x4448a8){const _0x3acf3f=a0_0x4fecf3;if(_0x42ed69[_0x3acf3f(0x5eb)][_0x3acf3f(0x207)]('/instance/create')){let _0x4ec4a8=_0x42ed69[_0x3acf3f(0x34d)];if(await Xe(_0x4ec4a8['instanceName']))throw new K(_0x3acf3f(0x670)+_0x4ec4a8[_0x3acf3f(0x1e0)]+'\x20is\x20already\x20in\x20use.');B[_0x3acf3f(0x5cb)][_0x4ec4a8[_0x3acf3f(0x1e0)]]&&delete B['waInstances'][_0x4ec4a8['instanceName']];}_0x4448a8();}var Aa=require(a0_0x4fecf3(0x7df)),Ia=O(require(a0_0x4fecf3(0x274))),Ze='uazapi',fi=new v(a0_0x4fecf3(0x754));async function wi(_0x2e3101,_0x35963b,_0x3f9386){const _0x97fd26=a0_0x4fecf3;let _0x4b4814=_0x2e3101[_0x97fd26(0x46f)]('apikey');if(_0x4b4814&&b[_0x97fd26(0x46f)]('AUTHENTICATION')[_0x97fd26(0x3e8)][_0x97fd26(0x2aa)]!==_0x4b4814)throw new te();if(b[_0x97fd26(0x46f)](_0x97fd26(0x2a8))[_0x97fd26(0x3e8)][_0x97fd26(0x2aa)]===_0x4b4814)return _0x3f9386();if((_0x2e3101[_0x97fd26(0x5eb)][_0x97fd26(0x207)](_0x97fd26(0x6b1))||_0x2e3101[_0x97fd26(0x5eb)][_0x97fd26(0x207)](_0x97fd26(0x46c)))&&!_0x4b4814)throw new K(_0x97fd26(0x282),_0x97fd26(0x706));let _0x2b038b=b['get'](_0x97fd26(0x2a8))[_0x97fd26(0x575)];try{let [_0x58b327,_0x4b0569]=_0x2e3101[_0x97fd26(0x46f)](_0x97fd26(0x26a))[_0x97fd26(0x579)]('\x20');if(_0x58b327['toLowerCase']()!==_0x97fd26(0x736))throw new te();if(!(0x0,Aa[_0x97fd26(0x53f)])(_0x4b0569))throw new te();let _0x24a73b=_0x2e3101[_0x97fd26(0x60d)],_0x47a648=Ia[_0x97fd26(0x3cc)]['verify'](_0x4b0569,_0x2b038b['SECRET'],{'ignoreExpiration':_0x2b038b[_0x97fd26(0x520)]===0x0});if(_0x24a73b[_0x97fd26(0x1e0)]!==_0x47a648[_0x97fd26(0x1e0)]||Ze!==_0x47a648[_0x97fd26(0x46d)])throw new te();return _0x3f9386();}catch(_0x3221d1){throw fi[_0x97fd26(0x2cb)](_0x3221d1),new te();}}async function yi(_0x5920eb,_0x137260,_0x59ee56){const _0x22715e=a0_0x4fecf3;let _0x2e4f91=b[_0x22715e(0x46f)](_0x22715e(0x2a8))[_0x22715e(0x3e8)],_0x5ed90c=_0x5920eb[_0x22715e(0x46f)](_0x22715e(0x20b));if(_0x2e4f91[_0x22715e(0x2aa)]===_0x5ed90c)return _0x59ee56();if(_0x5920eb[_0x22715e(0x5eb)]['includes'](_0x22715e(0x6b1))){let _0x47892d=et,_0x20abc3=_0x5920eb['body']['instanceName'];if(_0x47892d&&_0x20abc3[_0x22715e(0x34a)]()[_0x22715e(0x24a)](_0x47892d[_0x22715e(0x34a)]()))return _0x59ee56();if(!_0x5ed90c)throw new K(_0x22715e(0x282),_0x22715e(0x706));}if(_0x5920eb[_0x22715e(0x5eb)]['includes'](_0x22715e(0x46c))&&!_0x5ed90c)throw new K('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x5920eb[_0x22715e(0x5eb)]['includes'](_0x22715e(0x542))&&!_0x5ed90c)throw new K(_0x22715e(0x282),_0x22715e(0x706));if(_0x5920eb[_0x22715e(0x5eb)][_0x22715e(0x207)](_0x22715e(0x432))&&!_0x5ed90c)throw new K(_0x22715e(0x282),_0x22715e(0x706));try{let _0x2aa7c1=_0x5920eb[_0x22715e(0x60d)],_0x43e2de=await ue[_0x22715e(0x585)][_0x22715e(0x201)](_0x2aa7c1[_0x22715e(0x1e0)]);if(_0x43e2de&&_0x43e2de[_0x22715e(0x20b)]===_0x5ed90c)return _0x59ee56();}catch{}throw new te();}var xa={'jwt':wi,'apikey':yi},dr=require(a0_0x4fecf3(0x3b0)),E=require(a0_0x4fecf3(0x3df)),C=(..._0x29ce92)=>{const _0xf69ef9=a0_0x4fecf3;let _0x4f9191={};return _0x29ce92[_0xf69ef9(0x697)](_0x3e0c85=>_0x4f9191[_0x3e0c85]={'minLength':0x1,'description':_0xf69ef9(0x705)+_0x3e0c85+_0xf69ef9(0x387)}),{'if':{'propertyNames':{'enum':[..._0x29ce92]}},'then':{'properties':_0x4f9191}};},M={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'instanceName':{'type':a0_0x4fecf3(0x78b)}},...C(a0_0x4fecf3(0x1e0))},cc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x4fecf3(0x78b)}},'required':['oldToken'],...C(a0_0x4fecf3(0x640))},lc={'properties':{'key':{'type':a0_0x4fecf3(0x646),'properties':{'id':{'type':a0_0x4fecf3(0x78b)},'remoteJid':{'type':a0_0x4fecf3(0x78b)},'fromMe':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4fecf3(0x48b),a0_0x4fecf3(0x235)],...C('id',a0_0x4fecf3(0x48b))},'message':{'type':a0_0x4fecf3(0x646)}}},Q={'properties':{'delay':{'type':a0_0x4fecf3(0x46b),'description':a0_0x4fecf3(0x396)},'presence':{'type':a0_0x4fecf3(0x78b),'enum':[a0_0x4fecf3(0x591),a0_0x4fecf3(0x490),a0_0x4fecf3(0x44b),a0_0x4fecf3(0x2b5),'paused']}}},z={'type':a0_0x4fecf3(0x78b),'pattern':a0_0x4fecf3(0x65c),'description':a0_0x4fecf3(0x27c)},Da={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x4fecf3(0x646),'properties':{'text':{'type':a0_0x4fecf3(0x78b)}},'required':[a0_0x4fecf3(0x384)],...C(a0_0x4fecf3(0x384))}},'required':[a0_0x4fecf3(0x308),a0_0x4fecf3(0x816)]},_a={'type':'string','pattern':a0_0x4fecf3(0x689),'description':a0_0x4fecf3(0x27c)},uc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{..._a},'options':{...Q},'textMessage':{'type':a0_0x4fecf3(0x646),'properties':{'text':{'type':a0_0x4fecf3(0x78b)}},'required':[a0_0x4fecf3(0x384)],...C(a0_0x4fecf3(0x384))}},'required':[a0_0x4fecf3(0x308),a0_0x4fecf3(0x816)]},dc={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'number':{..._a},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x4fecf3(0x78b),'enum':[a0_0x4fecf3(0x543),a0_0x4fecf3(0x70c),a0_0x4fecf3(0x4f3),a0_0x4fecf3(0x81b)]},'media':{'type':a0_0x4fecf3(0x78b)},'fileName':{'type':a0_0x4fecf3(0x78b)},'caption':{'type':a0_0x4fecf3(0x78b)}},'required':[a0_0x4fecf3(0x322),a0_0x4fecf3(0x7cf)],...C(a0_0x4fecf3(0x3e1),a0_0x4fecf3(0x2da),a0_0x4fecf3(0x7cf))}},'required':[a0_0x4fecf3(0x601),a0_0x4fecf3(0x816)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x4fecf3(0x646),'properties':{'image':{'type':'string'}},'required':[a0_0x4fecf3(0x543)],...C(a0_0x4fecf3(0x543))}},'required':['stickerMessage','number']},$a={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'statusMessage':{'type':a0_0x4fecf3(0x646),'properties':{'type':{'type':a0_0x4fecf3(0x78b),'enum':[a0_0x4fecf3(0x384),a0_0x4fecf3(0x543),a0_0x4fecf3(0x81b),'video']},'content':{'type':a0_0x4fecf3(0x78b)},'caption':{'type':a0_0x4fecf3(0x78b)},'backgroundColor':{'type':a0_0x4fecf3(0x78b)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x4fecf3(0x23d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x4fecf3(0x160),'description':a0_0x4fecf3(0x80c)}},'allContacts':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]}},'required':[a0_0x4fecf3(0x1bf),a0_0x4fecf3(0x326)],...C(a0_0x4fecf3(0x1bf),a0_0x4fecf3(0x326))}},'required':['statusMessage']},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x4fecf3(0x646),'properties':{'mediatype':{'type':a0_0x4fecf3(0x78b),'enum':[a0_0x4fecf3(0x543),a0_0x4fecf3(0x70c),a0_0x4fecf3(0x4f3),a0_0x4fecf3(0x81b)]},'media':{'type':a0_0x4fecf3(0x78b)},'fileName':{'type':a0_0x4fecf3(0x78b)},'caption':{'type':a0_0x4fecf3(0x78b)}},'required':[a0_0x4fecf3(0x322),'media'],...C(a0_0x4fecf3(0x3e1),'caption','media')}},'required':[a0_0x4fecf3(0x601),a0_0x4fecf3(0x816)]},La={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x4fecf3(0x646),'properties':{'audio':{'type':a0_0x4fecf3(0x78b)}},'required':[a0_0x4fecf3(0x81b)],...C(a0_0x4fecf3(0x81b))}},'required':[a0_0x4fecf3(0x4f6),a0_0x4fecf3(0x816)]},ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x4fecf3(0x78b)},'selectableCount':{'type':'number'},'values':{'type':a0_0x4fecf3(0x23d),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x4fecf3(0x50f),a0_0x4fecf3(0x289)],...C(a0_0x4fecf3(0x804),a0_0x4fecf3(0x50f),a0_0x4fecf3(0x289))}},'required':[a0_0x4fecf3(0x816),'pollMessage']},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'number':{...z},'menuMessage':{'type':a0_0x4fecf3(0x646),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x4fecf3(0x23d),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4fecf3(0x384),'choices'],...C(a0_0x4fecf3(0x384),a0_0x4fecf3(0x339))}},'required':['number','menuMessage']},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x4fecf3(0x646),'properties':{'title':{'type':a0_0x4fecf3(0x78b)},'description':{'type':a0_0x4fecf3(0x78b)},'footerText':{'type':a0_0x4fecf3(0x78b)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4fecf3(0x646),'properties':{'buttonText':{'type':a0_0x4fecf3(0x78b)},'buttonId':{'type':a0_0x4fecf3(0x78b)}},'required':[a0_0x4fecf3(0x3a9),a0_0x4fecf3(0x2ba)],...C(a0_0x4fecf3(0x3a9),'buttonId')}},'mediaMessage':{'type':a0_0x4fecf3(0x646),'properties':{'media':{'type':a0_0x4fecf3(0x78b)},'fileName':{'type':'string'},'mediatype':{'type':'string','enum':['image',a0_0x4fecf3(0x70c),a0_0x4fecf3(0x4f3)]}},'required':['media',a0_0x4fecf3(0x322)],...C(a0_0x4fecf3(0x7cf),a0_0x4fecf3(0x3e1))}},'required':['title',a0_0x4fecf3(0x5a5)],...C('title',a0_0x4fecf3(0x759))}},'required':['number','buttonMessage']},qa={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x4fecf3(0x646),'properties':{'latitude':{'type':a0_0x4fecf3(0x816)},'longitude':{'type':a0_0x4fecf3(0x816)},'name':{'type':a0_0x4fecf3(0x78b)},'address':{'type':a0_0x4fecf3(0x78b)}},'required':[a0_0x4fecf3(0x609),a0_0x4fecf3(0x59d)],...C(a0_0x4fecf3(0x804),a0_0x4fecf3(0x5fa))}},'required':['number','locationMessage']},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x4fecf3(0x646),'properties':{'title':{'type':'string'},'description':{'type':a0_0x4fecf3(0x78b)},'footerText':{'type':a0_0x4fecf3(0x78b)},'buttonText':{'type':a0_0x4fecf3(0x78b)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4fecf3(0x646),'properties':{'title':{'type':a0_0x4fecf3(0x78b)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4fecf3(0x646),'properties':{'title':{'type':'string'},'description':{'type':a0_0x4fecf3(0x78b)},'rowId':{'type':'string'}},'required':[a0_0x4fecf3(0x3d0),a0_0x4fecf3(0x5d3)],...C(a0_0x4fecf3(0x3d0),a0_0x4fecf3(0x5d3))}}},'required':['title',a0_0x4fecf3(0x2df)],...C(a0_0x4fecf3(0x3d0))}}},'required':[a0_0x4fecf3(0x3d0),'description','buttonText',a0_0x4fecf3(0x1ff)],...C(a0_0x4fecf3(0x3d0),a0_0x4fecf3(0x759),a0_0x4fecf3(0x3a9),a0_0x4fecf3(0x6d8))}},'required':[a0_0x4fecf3(0x816),a0_0x4fecf3(0x4d0)]},Va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x4fecf3(0x23d),'items':{'type':a0_0x4fecf3(0x646),'properties':{'fullName':{'type':a0_0x4fecf3(0x78b)},'phoneNumber':{'type':a0_0x4fecf3(0x78b),'minLength':0xa}},'required':[a0_0x4fecf3(0x248),'phoneNumber'],...C(a0_0x4fecf3(0x248))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x4fecf3(0x816),a0_0x4fecf3(0x316)]},Ba={'$id':(0x0,E['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x4fecf3(0x646),'properties':{'key':{'type':a0_0x4fecf3(0x646),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x4fecf3(0x78b)},'fromMe':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4fecf3(0x48b),'fromMe'],...C('id',a0_0x4fecf3(0x48b))},'reaction':{'type':a0_0x4fecf3(0x78b)}},'required':['key',a0_0x4fecf3(0x710)],...C(a0_0x4fecf3(0x710))}},'required':['reactionMessage']},Ga={'$id':(0x0,E['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x4fecf3(0x23d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4fecf3(0x78b),'pattern':a0_0x4fecf3(0x160),'description':a0_0x4fecf3(0x548)}}}},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'readMessages':{'type':a0_0x4fecf3(0x23d),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4fecf3(0x78b)}},'required':['id',a0_0x4fecf3(0x235),a0_0x4fecf3(0x48b)],...C('id',a0_0x4fecf3(0x48b))}}},'required':[a0_0x4fecf3(0x47d)]},za={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'privacySettings':{'type':a0_0x4fecf3(0x646),'properties':{'readreceipts':{'type':a0_0x4fecf3(0x78b),'enum':[a0_0x4fecf3(0x5dd),a0_0x4fecf3(0x81e)]},'profile':{'type':'string','enum':['all',a0_0x4fecf3(0x6c5),a0_0x4fecf3(0x5cd),a0_0x4fecf3(0x81e)]},'status':{'type':a0_0x4fecf3(0x78b),'enum':[a0_0x4fecf3(0x5dd),'contacts',a0_0x4fecf3(0x5cd),a0_0x4fecf3(0x81e)]},'online':{'type':a0_0x4fecf3(0x78b),'enum':[a0_0x4fecf3(0x5dd),'match_last_seen']},'last':{'type':'string','enum':[a0_0x4fecf3(0x5dd),a0_0x4fecf3(0x6c5),a0_0x4fecf3(0x5cd),a0_0x4fecf3(0x81e)]},'groupadd':{'type':a0_0x4fecf3(0x78b),'enum':['all',a0_0x4fecf3(0x6c5),a0_0x4fecf3(0x5cd),a0_0x4fecf3(0x81e)]}},'required':[a0_0x4fecf3(0x27b),a0_0x4fecf3(0x21e),a0_0x4fecf3(0x395),'online',a0_0x4fecf3(0x4a0),'groupadd'],...C('readreceipts',a0_0x4fecf3(0x21e),a0_0x4fecf3(0x395),a0_0x4fecf3(0x606),a0_0x4fecf3(0x4a0),a0_0x4fecf3(0x216))}},'required':['privacySettings']},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'lastMessage':{'type':a0_0x4fecf3(0x646),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x4fecf3(0x78b)},'remoteJid':{'type':a0_0x4fecf3(0x78b)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x4fecf3(0x48b)],...C('id',a0_0x4fecf3(0x48b))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x4fecf3(0x283)],...C(a0_0x4fecf3(0x37a))},'archive':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]}},'required':[a0_0x4fecf3(0x6b7),'archive']},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4fecf3(0x78b)},'participant':{'type':a0_0x4fecf3(0x78b)}},'required':['id',a0_0x4fecf3(0x235),a0_0x4fecf3(0x48b)],...C('id','remoteJid',a0_0x4fecf3(0x61a))},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'where':{'type':a0_0x4fecf3(0x646),'properties':{'_id':{'type':a0_0x4fecf3(0x78b),'minLength':0x1},'pushName':{'type':a0_0x4fecf3(0x78b),'minLength':0x1},'id':{'type':a0_0x4fecf3(0x78b),'minLength':0x1}},...C(a0_0x4fecf3(0x4d1),'id',a0_0x4fecf3(0x5ef))}}},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'name':{'type':a0_0x4fecf3(0x78b)}},...C(a0_0x4fecf3(0x804))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'status':{'type':'string'}},...C(a0_0x4fecf3(0x395))},Ee={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'number':{'type':a0_0x4fecf3(0x78b)},'picture':{'type':a0_0x4fecf3(0x78b)}}},Za={'type':a0_0x4fecf3(0x646),'properties':{'wuid':{'type':a0_0x4fecf3(0x78b)},'name':{'type':a0_0x4fecf3(0x78b)},'picture':{'type':a0_0x4fecf3(0x78b)},'status':{'type':a0_0x4fecf3(0x78b)},'isBusiness':{'type':a0_0x4fecf3(0x6b0)}}},er={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x4fecf3(0x646),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x4fecf3(0x235),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x4fecf3(0x78b),'minLength':0x1,'description':a0_0x4fecf3(0x659)},'id':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x4fecf3(0x646)}},...C(a0_0x4fecf3(0x4d1))},'limit':{'type':'integer'}}},pc={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'where':{'type':a0_0x4fecf3(0x646),'properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x4fecf3(0x78b)},'status':{'type':a0_0x4fecf3(0x78b),'enum':[a0_0x4fecf3(0x27e),a0_0x4fecf3(0x511),a0_0x4fecf3(0x69d),a0_0x4fecf3(0x6a1),a0_0x4fecf3(0x3af),'PLAYED']}},...C(a0_0x4fecf3(0x4d1),'remoteJid','id',a0_0x4fecf3(0x395))},'limit':{'type':'integer'}}},tr={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'number':{...z},'presence':{'type':a0_0x4fecf3(0x78b),'enum':[a0_0x4fecf3(0x591),a0_0x4fecf3(0x490),'composing',a0_0x4fecf3(0x2b5),a0_0x4fecf3(0x37e)]}},'required':['presence',a0_0x4fecf3(0x816)]},sr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x4fecf3(0x78b)},'description':{'type':a0_0x4fecf3(0x78b)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x4fecf3(0x23d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4fecf3(0x78b),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x4fecf3(0x58b)}}},'required':['subject',a0_0x4fecf3(0x24d)],...C(a0_0x4fecf3(0x4d8),'description',a0_0x4fecf3(0x5e5))},Me={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'groupJid':{'type':a0_0x4fecf3(0x78b),'pattern':a0_0x4fecf3(0x6f3)}},'required':[a0_0x4fecf3(0x62b)],...C(a0_0x4fecf3(0x62b))},ar={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4fecf3(0x78b)},'action':{'type':'string','enum':[a0_0x4fecf3(0x32b),a0_0x4fecf3(0x498),a0_0x4fecf3(0x310),a0_0x4fecf3(0x18a),a0_0x4fecf3(0x738),'approve']},'participants':{'type':a0_0x4fecf3(0x23d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4fecf3(0x78b),'minLength':0xa,'pattern':a0_0x4fecf3(0x645),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x4fecf3(0x62b),a0_0x4fecf3(0x2ca),a0_0x4fecf3(0x24d)],...C(a0_0x4fecf3(0x62b),a0_0x4fecf3(0x2ca))},rr={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'groupJid':{'type':a0_0x4fecf3(0x78b)},'expiration':{'type':a0_0x4fecf3(0x816),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x4fecf3(0x62b),'expiration'],...C(a0_0x4fecf3(0x62b),a0_0x4fecf3(0x801))},ir={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4fecf3(0x78b)},'image':{'type':a0_0x4fecf3(0x78b)}},'required':[a0_0x4fecf3(0x62b),a0_0x4fecf3(0x543)],...C(a0_0x4fecf3(0x62b),a0_0x4fecf3(0x543))},or={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x4fecf3(0x78b)}},'required':[a0_0x4fecf3(0x62b),'description'],...C(a0_0x4fecf3(0x62b),'description')},nr={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x4fecf3(0x78b)}},'required':[a0_0x4fecf3(0x62b),a0_0x4fecf3(0x804)],...C(a0_0x4fecf3(0x62b),a0_0x4fecf3(0x804))},cr={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'groupJid':{'type':a0_0x4fecf3(0x78b)},'setting':{'type':a0_0x4fecf3(0x78b),'enum':['announcement',a0_0x4fecf3(0x415),'unlocked',a0_0x4fecf3(0x5c9)]}},'required':[a0_0x4fecf3(0x62b),a0_0x4fecf3(0x2eb)],...C(a0_0x4fecf3(0x62b),a0_0x4fecf3(0x2eb))},lr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4fecf3(0x78b)},'restrict':{'type':a0_0x4fecf3(0x6b0)},'announce':{'type':a0_0x4fecf3(0x6b0)},'memberAddMode':{'type':a0_0x4fecf3(0x6b0)},'joinApprovalMode':{'type':a0_0x4fecf3(0x6b0)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x4fecf3(0x78b)},'description':{'type':'string'},'image':{'type':'string'}}},bs={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'inviteCode':{'type':a0_0x4fecf3(0x78b)}},'required':[a0_0x4fecf3(0x733)],...C(a0_0x4fecf3(0x733))},ur={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]}},'required':['url','enabled']},hc={'$id':(0x0,E['v4'])(),'type':a0_0x4fecf3(0x646),'properties':{'local_map':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x4fecf3(0x6b0),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x4fecf3(0x59a),a0_0x4fecf3(0x1c8),a0_0x4fecf3(0x4b8),a0_0x4fecf3(0x6e6),'MESSAGES_UPDATE',a0_0x4fecf3(0x357),'SEND_MESSAGE','CONTACTS_SET',a0_0x4fecf3(0x3f3),a0_0x4fecf3(0x42b),a0_0x4fecf3(0x6f0),a0_0x4fecf3(0x67f),a0_0x4fecf3(0x189),'CHATS_UPDATE',a0_0x4fecf3(0x162),a0_0x4fecf3(0x225),a0_0x4fecf3(0x226),a0_0x4fecf3(0x1fb),'GROUP_PARTICIPANTS_UPDATE'],...C(a0_0x4fecf3(0x59a),a0_0x4fecf3(0x1c8),a0_0x4fecf3(0x4b8),a0_0x4fecf3(0x6e6),a0_0x4fecf3(0x5aa),a0_0x4fecf3(0x357),a0_0x4fecf3(0x228),'CONTACTS_SET',a0_0x4fecf3(0x3f3),a0_0x4fecf3(0x42b),a0_0x4fecf3(0x6f0),'CHATS_SET','CHATS_UPSERT','CHATS_UPDATE',a0_0x4fecf3(0x162),a0_0x4fecf3(0x225),a0_0x4fecf3(0x226),a0_0x4fecf3(0x1fb),a0_0x4fecf3(0x4ee))},tt=class{},st=class extends D{[a0_0x4fecf3(0x278)](_0x7f9878){return Xs(_0x7f9878);}async[a0_0x4fecf3(0x462)](_0x121f63){const _0x16bea5=a0_0x4fecf3;if(_0x121f63[_0x16bea5(0x7da)]!==0x0)try{return{'insertCount':(await this[_0x16bea5(0x278)](_0x121f63[0x0][_0x16bea5(0x480)])[_0x16bea5(0x688)]([..._0x121f63]))['length']};}catch(_0x1ed523){return _0x1ed523;}}async['delete'](_0xc12cee,_0x3bb20a){const _0x3b5c8f=a0_0x4fecf3;try{return{'deletedCount':(await this[_0x3b5c8f(0x278)](_0x3bb20a)['deleteMany']({..._0xc12cee[_0x3b5c8f(0x73e)]}))[_0x3b5c8f(0x7b8)]};}catch(_0x16e34c){return{'error':_0x16e34c?.[_0x3b5c8f(0x2c2)]()};}}async[a0_0x4fecf3(0x724)](_0x54b204,_0x47df5c){const _0x521e06=a0_0x4fecf3;try{if(_0x54b204[_0x521e06(0x7da)]===0x0)return;let _0x581263=this[_0x521e06(0x278)](_0x47df5c),_0x52b64b=_0x54b204[_0x521e06(0x428)](_0x15b6e6=>({'updateOne':{'filter':{'_id':_0x15b6e6[_0x521e06(0x4d1)],'owner':_0x47df5c},'update':{..._0x15b6e6}}})),{modifiedCount:_0x196155}=await _0x581263[_0x521e06(0x690)](_0x52b64b);return{'insertCount':_0x196155};}catch{return;}}async[a0_0x4fecf3(0x201)](_0x300695,_0x1b19b4){const _0x2a425b=a0_0x4fecf3;try{let _0x18a937=this[_0x2a425b(0x278)](_0x1b19b4),_0x261e04=A(_0x300695[_0x2a425b(0x73e)]);return await _0x18a937[_0x2a425b(0x201)](_0x261e04)[_0x2a425b(0x2d4)](_0x300695?.['limit']??0x0)[_0x2a425b(0x531)]();}catch{return[];}}async[a0_0x4fecf3(0x338)](_0x2fbeb8,_0x57eb50){const _0x4910e5=a0_0x4fecf3;try{let _0xc6ca=this[_0x4910e5(0x278)](_0x57eb50),_0xf2ea70=A(_0x2fbeb8['where']);return await _0xc6ca[_0x4910e5(0x338)](_0xf2ea70)[_0x4910e5(0x531)]();}catch{return null;}}async[a0_0x4fecf3(0x270)](_0x3c0695){const _0x56ecb2=a0_0x4fecf3;try{return await this['getContactModelForOwner'](_0x3c0695)[_0x56ecb2(0x7cc)][_0x56ecb2(0x427)](),{'success':!0x0};}catch(_0x23f765){return console[_0x56ecb2(0x2cb)](_0x23f765),{'success':!0x1,'error':_0x23f765};}}},at=require(a0_0x4fecf3(0x77c)),Ec=require('express-async-errors'),Ss=new v('Validate'),V=class{[a0_0x4fecf3(0x470)](_0x3c248e,_0x204792=!0x0){const _0x464a2c=a0_0x4fecf3;let _0x5c296e='/'+_0x3c248e;return _0x204792&&(_0x5c296e+=_0x464a2c(0x7d7)),_0x5c296e;}async['dataValidate'](_0x190e97){const _0xa299b5=a0_0x4fecf3;let {request:_0x277dba,schema:_0x4b4d9a,ClassRef:_0x3e54c3,execute:_0x54ce99}=_0x190e97,_0x57010a=new _0x3e54c3(),_0x4521d5=_0x277dba[_0xa299b5(0x34d)],_0x3b4b4d=_0x277dba['params'];_0x277dba?.[_0xa299b5(0x2c0)]&&Object[_0xa299b5(0x3bf)](_0x277dba['query'])[_0xa299b5(0x7da)]>0x0&&Object[_0xa299b5(0x5c3)](_0x3b4b4d,_0x277dba[_0xa299b5(0x2c0)]),_0x277dba[_0xa299b5(0x5eb)][_0xa299b5(0x207)](_0xa299b5(0x6b1))&&Object[_0xa299b5(0x5c3)](_0x3b4b4d,_0x4521d5),Object['assign'](_0x57010a,_0x4521d5);let _0x4bee10=_0x4b4d9a?(0x0,at[_0xa299b5(0x1fd)])(_0x57010a,_0x4b4d9a):{'valid':!0x0,'errors':[]};if(!_0x4bee10[_0xa299b5(0x2fe)]){let _0x448261=_0x4bee10['errors']['map'](({property:_0x5977c6,stack:_0x440e2d,schema:_0x4d30d3})=>{const _0x4529d2=_0xa299b5;let _0x6e2b4e;return _0x4d30d3[_0x4529d2(0x759)]?_0x6e2b4e=_0x4d30d3[_0x4529d2(0x759)]:_0x6e2b4e=_0x440e2d[_0x4529d2(0x6eb)]('instance.',''),{'property':_0x5977c6[_0x4529d2(0x6eb)](_0x4529d2(0x36f),''),'message':_0x6e2b4e};});throw Ss[_0xa299b5(0x2cb)]([..._0x448261]),new w(..._0x448261);}return await _0x54ce99(_0x3b4b4d,_0x57010a);}async[a0_0x4fecf3(0x73a)](_0x4a454d){const _0x2afec6=a0_0x4fecf3;let {request:_0x4236cb,ClassRef:_0x3d10c6,schema:_0x1438ce,execute:_0x3366e6}=_0x4a454d,_0x41ca40=_0x4236cb[_0x2afec6(0x2c0)];if(!_0x41ca40?.[_0x2afec6(0x62b)])throw new w('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x2afec6(0x1ce));let _0x352f6d=_0x4236cb[_0x2afec6(0x60d)],_0x3cf2b6=_0x4236cb[_0x2afec6(0x34d)],_0x306f41=new _0x3d10c6();Object['assign'](_0x3cf2b6,_0x41ca40),Object[_0x2afec6(0x5c3)](_0x306f41,_0x3cf2b6);let _0x36aed5=(0x0,at['validate'])(_0x306f41,_0x1438ce);if(!_0x36aed5[_0x2afec6(0x2fe)]){let _0x263e98=_0x36aed5[_0x2afec6(0x663)][_0x2afec6(0x428)](({property:_0x1890c8,stack:_0x1ac6bd,schema:_0x230ac9})=>{const _0x5822e8=_0x2afec6;let _0x59980a;return _0x230ac9[_0x5822e8(0x759)]?_0x59980a=_0x230ac9['description']:_0x59980a=_0x1ac6bd[_0x5822e8(0x6eb)](_0x5822e8(0x36f),''),{'property':_0x1890c8[_0x5822e8(0x6eb)](_0x5822e8(0x36f),''),'message':_0x59980a};});throw Ss[_0x2afec6(0x2cb)]([..._0x263e98]),new w(..._0x263e98);}return await _0x3366e6(_0x352f6d,_0x306f41);}async['joinGroupValidate'](_0x4008d0){const _0x4597c4=a0_0x4fecf3;let {request:_0x2f92de,ClassRef:_0x3d01eb,schema:_0x44ddef,execute:_0x599fd3}=_0x4008d0,_0x229e1e=_0x2f92de[_0x4597c4(0x34d)];if(!_0x229e1e?.[_0x4597c4(0x733)])throw new w(_0x4597c4(0x7c1),_0x4597c4(0x1b6));let _0xa437b8=_0x2f92de[_0x4597c4(0x60d)],_0x5f5ef7=_0x2f92de[_0x4597c4(0x34d)],_0x10334e=new _0x3d01eb();Object[_0x4597c4(0x5c3)](_0x5f5ef7,_0x229e1e),Object[_0x4597c4(0x5c3)](_0x10334e,_0x5f5ef7);let _0x1b2b00=(0x0,at[_0x4597c4(0x1fd)])(_0x10334e,_0x44ddef);if(!_0x1b2b00[_0x4597c4(0x2fe)]){let _0x498975=_0x1b2b00[_0x4597c4(0x663)][_0x4597c4(0x428)](({property:_0x4071bc,stack:_0x1b32ed,schema:_0x1b45bd})=>{const _0x1eb29e=_0x4597c4;let _0x388337;return _0x1b45bd[_0x1eb29e(0x759)]?_0x388337=_0x1b45bd[_0x1eb29e(0x759)]:_0x388337=_0x1b32ed[_0x1eb29e(0x6eb)](_0x1eb29e(0x36f),''),{'property':_0x4071bc[_0x1eb29e(0x6eb)](_0x1eb29e(0x36f),''),'message':_0x388337};});throw Ss[_0x4597c4(0x2cb)]([..._0x498975]),new w(..._0x498975);}return await _0x599fd3(_0xa437b8,_0x10334e);}},S=class{},Lc=new v('ChatRouter'),rt=class extends V{constructor(..._0x36658f){const _0x358f49=a0_0x4fecf3;super(),this[_0x358f49(0x3c4)]=(0x0,dr[_0x358f49(0x524)])(),this[_0x358f49(0x3c4)]['post'](this['routerPath'](_0x358f49(0x35d)),..._0x36658f,async(_0x502dcc,_0x24aa24)=>{const _0x7d17b6=_0x358f49;let _0x5e6371=await this[_0x7d17b6(0x6a6)]({'request':_0x502dcc,'schema':tr,'ClassRef':Be,'execute':(_0x240d06,_0x1728f2)=>_[_0x7d17b6(0x35d)](_0x240d06,_0x1728f2)});return _0x24aa24[_0x7d17b6(0x395)](0xc9)['json'](_0x5e6371);})[_0x358f49(0x47b)](this[_0x358f49(0x470)](_0x358f49(0x1f9)),..._0x36658f,async(_0x49b4a0,_0xdab35b)=>{const _0x15d773=_0x358f49;let _0x5c1b97=await this['dataValidate']({'request':_0x49b4a0,'schema':Ga,'ClassRef':Ge,'execute':(_0x555d2b,_0x43a0df)=>_[_0x15d773(0x45b)](_0x555d2b,_0x43a0df)});return _0xdab35b[_0x15d773(0x395)](0xc9)[_0x15d773(0x5db)](_0x5c1b97);})[_0x358f49(0x47b)](this[_0x358f49(0x470)]('editChat'),..._0x36658f,async(_0x2da0d1,_0x5167c6)=>{const _0x11c034=_0x358f49;let _0x2250aa=await this['dataValidate']({'request':_0x2da0d1,'schema':M,'ClassRef':S,'execute':(_0x4d767e,_0x462e22)=>_[_0x11c034(0x76f)](_0x4d767e,_0x462e22)});return _0x5167c6[_0x11c034(0x395)](0xc9)[_0x11c034(0x5db)](_0x2250aa);})[_0x358f49(0x76a)](this[_0x358f49(0x470)]('markMessageAsRead'),..._0x36658f,async(_0x59e6ba,_0x5f2106)=>{const _0x159144=_0x358f49;let _0x5a8764=await this[_0x159144(0x6a6)]({'request':_0x59e6ba,'schema':Wa,'ClassRef':He,'execute':(_0x51540f,_0xa4a810)=>_[_0x159144(0x348)](_0x51540f,_0xa4a810)});return _0x5f2106['status'](0xc9)['json'](_0x5a8764);})['put'](this['routerPath'](_0x358f49(0x2c9)),..._0x36658f,async(_0x34d736,_0x4f59ea)=>{const _0x567560=_0x358f49;let _0x33fff8=await this[_0x567560(0x6a6)]({'request':_0x34d736,'schema':Ha,'ClassRef':Ke,'execute':(_0x5681cf,_0x33e8a0)=>_[_0x567560(0x2c9)](_0x5681cf,_0x33e8a0)});return _0x4f59ea[_0x567560(0x395)](0xc9)['json'](_0x33fff8);})[_0x358f49(0x1c0)](this[_0x358f49(0x470)](_0x358f49(0x1c4)),..._0x36658f,async(_0x4146c3,_0x302e47)=>{const _0x413130=_0x358f49;let _0x4607e2=await this[_0x413130(0x6a6)]({'request':_0x4146c3,'schema':Ka,'ClassRef':Ye,'execute':(_0x2ffa34,_0x35e404)=>_[_0x413130(0x3fc)](_0x2ffa34,_0x35e404)});return _0x302e47[_0x413130(0x395)](0xc9)[_0x413130(0x5db)](_0x4607e2);})[_0x358f49(0x47b)](this[_0x358f49(0x470)](_0x358f49(0x556)),..._0x36658f,async(_0x5cf19f,_0x1da9b8)=>{const _0x569362=_0x358f49;let _0x387802=await this[_0x569362(0x6a6)]({'request':_0x5cf19f,'schema':Ee,'ClassRef':Ce,'execute':(_0x4cb631,_0x14f14a)=>_[_0x569362(0x818)](_0x4cb631,_0x14f14a)});return _0x1da9b8[_0x569362(0x395)](0xc8)[_0x569362(0x5db)](_0x387802);})[_0x358f49(0x47b)](this[_0x358f49(0x470)]('fetchProfile'),..._0x36658f,async(_0x1bd7e1,_0x4c46b7)=>{const _0x4242fd=_0x358f49;let _0x5cde8c=await this[_0x4242fd(0x6a6)]({'request':_0x1bd7e1,'schema':Za,'ClassRef':Ce,'execute':(_0x562696,_0x5e3131)=>_[_0x4242fd(0x6d9)](_0x562696,_0x5e3131)});return _0x4c46b7[_0x4242fd(0x395)](0xc8)[_0x4242fd(0x5db)](_0x5cde8c);})[_0x358f49(0x47b)](this[_0x358f49(0x470)](_0x358f49(0x4c4)),..._0x36658f,async(_0x3871cd,_0x4ae8f8)=>{const _0x302890=_0x358f49;let _0x3295da=await this['dataValidate']({'request':_0x3871cd,'schema':Qa,'ClassRef':tt,'execute':(_0x5554f1,_0x171af9)=>_[_0x302890(0x7ef)](_0x5554f1,_0x171af9)});return _0x4ae8f8['status'](0xc8)['json'](_0x3295da);})['post'](this[_0x358f49(0x470)](_0x358f49(0x5e8)),..._0x36658f,async(_0x2147a4,_0x1dbf6c)=>{const _0x5bd002=_0x358f49;let _0x183ed9=await this[_0x5bd002(0x6a6)]({'request':_0x2147a4,'schema':null,'ClassRef':Object,'execute':(_0x50e62a,_0x2ea92f)=>_[_0x5bd002(0x5e8)](_0x50e62a,_0x2ea92f)});return _0x1dbf6c[_0x5bd002(0x395)](0xc9)[_0x5bd002(0x5db)](_0x183ed9);})[_0x358f49(0x47b)](this[_0x358f49(0x470)](_0x358f49(0x3ae)),..._0x36658f,async(_0x3de461,_0x477a11)=>{const _0x1f9f61=_0x358f49;let _0x2d98e5=await this[_0x1f9f61(0x6a6)]({'request':_0x3de461,'schema':er,'ClassRef':Je,'execute':(_0x2d010d,_0x5082a8)=>_[_0x1f9f61(0x505)](_0x2d010d,_0x5082a8)});return _0x477a11[_0x1f9f61(0x395)](0xc8)[_0x1f9f61(0x5db)](_0x2d98e5);})[_0x358f49(0x46f)](this[_0x358f49(0x470)](_0x358f49(0x34b)),..._0x36658f,async(_0x26329c,_0x4b8f1d)=>{const _0x5a11cf=_0x358f49;let _0x36b771=await this[_0x5a11cf(0x6a6)]({'request':_0x26329c,'schema':null,'ClassRef':S,'execute':_0x66fb66=>_[_0x5a11cf(0x290)](_0x66fb66)});return _0x4b8f1d[_0x5a11cf(0x395)](0xc8)[_0x5a11cf(0x5db)](_0x36b771);})[_0x358f49(0x46f)](this[_0x358f49(0x470)](_0x358f49(0x48c)),..._0x36658f,async(_0x1b5c5a,_0x5e756d)=>{const _0x41fe5f=_0x358f49;let _0x223beb=await this[_0x41fe5f(0x6a6)]({'request':_0x1b5c5a,'schema':null,'ClassRef':S,'execute':_0x41a4bf=>_[_0x41fe5f(0x740)](_0x41a4bf)});return _0x5e756d[_0x41fe5f(0x395)](0xc8)['json'](_0x223beb);})[_0x358f49(0x76a)](this['routerPath']('importChats'),..._0x36658f,async(_0x498dc9,_0x48f178)=>{const _0x43c559=_0x358f49;let _0x11f619=await this['dataValidate']({'request':_0x498dc9,'schema':null,'ClassRef':Array,'execute':(_0x1e2a53,_0x20e941)=>_['importChats'](_0x1e2a53,_0x20e941)});return _0x48f178['status'](0xc8)[_0x43c559(0x5db)](_0x11f619);})['get'](this[_0x358f49(0x470)](_0x358f49(0x783)),..._0x36658f,async(_0x5c3699,_0x5d202d)=>{const _0x5497db=_0x358f49;let _0x5f088c=await this[_0x5497db(0x6a6)]({'request':_0x5c3699,'schema':null,'ClassRef':S,'execute':_0x45199f=>_['fetchPrivacySettings'](_0x45199f)});return _0x5d202d[_0x5497db(0x395)](0xc8)[_0x5497db(0x5db)](_0x5f088c);})['put'](this[_0x358f49(0x470)](_0x358f49(0x7f6)),..._0x36658f,async(_0x277bf3,_0x37e1f)=>{const _0x5010f7=_0x358f49;let _0x1f38c4=await this[_0x5010f7(0x6a6)]({'request':_0x277bf3,'schema':za,'ClassRef':Qe,'execute':(_0x30117f,_0x6a63c0)=>_[_0x5010f7(0x7f6)](_0x30117f,_0x6a63c0)});return _0x37e1f[_0x5010f7(0x395)](0xc9)['json'](_0x1f38c4);})[_0x358f49(0x47b)](this[_0x358f49(0x470)](_0x358f49(0x153)),..._0x36658f,async(_0x3625f2,_0x55ad4d)=>{const _0x38bc88=_0x358f49;let _0x54c098=await this[_0x38bc88(0x6a6)]({'request':_0x3625f2,'schema':Ee,'ClassRef':we,'execute':(_0x9506fb,_0x5569ab)=>_[_0x38bc88(0x153)](_0x9506fb,_0x5569ab)});return _0x55ad4d[_0x38bc88(0x395)](0xc8)[_0x38bc88(0x5db)](_0x54c098);})[_0x358f49(0x47b)](this['routerPath'](_0x358f49(0x40c)),..._0x36658f,async(_0xa11758,_0x362ab3)=>{const _0x428710=_0x358f49;let _0x2bd1e4=await this[_0x428710(0x6a6)]({'request':_0xa11758,'schema':Ya,'ClassRef':We,'execute':(_0x27addc,_0x55325e)=>_[_0x428710(0x40c)](_0x27addc,_0x55325e)});return _0x362ab3[_0x428710(0x395)](0xc8)[_0x428710(0x5db)](_0x2bd1e4);})[_0x358f49(0x47b)](this[_0x358f49(0x470)](_0x358f49(0x439)),..._0x36658f,async(_0x276301,_0x27422a)=>{const _0x48d5ec=_0x358f49;let _0x199b92=await this[_0x48d5ec(0x6a6)]({'request':_0x276301,'schema':Xa,'ClassRef':ze,'execute':(_0x250a69,_0x5cfa01)=>_[_0x48d5ec(0x439)](_0x250a69,_0x5cfa01)});return _0x27422a[_0x48d5ec(0x395)](0xc8)[_0x48d5ec(0x5db)](_0x199b92);})[_0x358f49(0x76a)](this['routerPath'](_0x358f49(0x72d)),..._0x36658f,async(_0xda9709,_0x5168a6)=>{const _0x2e3edc=_0x358f49;let _0x2997da=await this['dataValidate']({'request':_0xda9709,'schema':Ee,'ClassRef':we,'execute':(_0x10fa27,_0x4ae443)=>_['updateProfilePicture'](_0x10fa27,_0x4ae443)});return _0x5168a6[_0x2e3edc(0x395)](0xc8)[_0x2e3edc(0x5db)](_0x2997da);})[_0x358f49(0x1c0)](this[_0x358f49(0x470)](_0x358f49(0x44a)),..._0x36658f,async(_0xaaeab,_0x218c01)=>{const _0x2ff087=_0x358f49;let _0x120ee2=await this[_0x2ff087(0x6a6)]({'request':_0xaaeab,'schema':Ee,'ClassRef':we,'execute':(_0x56f72a,_0x1d9da1)=>_[_0x2ff087(0x44a)](_0x56f72a,_0x1d9da1)});return _0x218c01[_0x2ff087(0x395)](0xc8)[_0x2ff087(0x5db)](_0x120ee2);});}},pr=require('express'),it=class{},ot=class{},nt=class{},ct=class{},lt=class{},ut=class{},Y=class{},ve=class{},dt=class extends Y{},pt=class extends Y{},ht=class extends V{constructor(..._0x485792){const _0x296587=a0_0x4fecf3;super(),this['router']=(0x0,pr[_0x296587(0x524)])(),this[_0x296587(0x3c4)][_0x296587(0x47b)](this[_0x296587(0x470)](_0x296587(0x187)),..._0x485792,async(_0x1d5e6e,_0x5d5873)=>{const _0x18f124=_0x296587;let _0x21c67c=await this[_0x18f124(0x6a6)]({'request':_0x1d5e6e,'schema':sr,'ClassRef':it,'execute':(_0x563681,_0x2ec87b)=>U[_0x18f124(0x213)](_0x563681,_0x2ec87b)});_0x5d5873[_0x18f124(0x395)](0xc9)[_0x18f124(0x5db)](_0x21c67c);})['put'](this['routerPath'](_0x296587(0x66d)),..._0x485792,async(_0x5ebb74,_0x1e3f2a)=>{const _0x156d3b=_0x296587;let _0x4a87c2=await this[_0x156d3b(0x73a)]({'request':_0x5ebb74,'schema':ir,'ClassRef':ot,'execute':(_0x8f32ca,_0x373e14)=>U[_0x156d3b(0x66d)](_0x8f32ca,_0x373e14)});_0x1e3f2a[_0x156d3b(0x395)](0xc9)[_0x156d3b(0x5db)](_0x4a87c2);})[_0x296587(0x76a)](this[_0x296587(0x470)]('groupDesc'),..._0x485792,async(_0x4b5ad8,_0x17f33c)=>{const _0x1f3b6c=_0x296587;let _0x5f30e8=await this[_0x1f3b6c(0x73a)]({'request':_0x4b5ad8,'schema':or,'ClassRef':nt,'execute':(_0x1cadb3,_0x2601d1)=>U[_0x1f3b6c(0x29e)](_0x1cadb3,_0x2601d1)});_0x17f33c[_0x1f3b6c(0x395)](0xc9)[_0x1f3b6c(0x5db)](_0x5f30e8);})[_0x296587(0x76a)](this[_0x296587(0x470)](_0x296587(0x502)),..._0x485792,async(_0x2d7845,_0x5534a7)=>{const _0x2d287a=_0x296587;let _0x43fcb9=await this[_0x2d287a(0x73a)]({'request':_0x2d7845,'schema':nr,'ClassRef':ct,'execute':(_0x67e273,_0x393d7c)=>U['groupName'](_0x67e273,_0x393d7c)});_0x5534a7['status'](0xc9)[_0x2d287a(0x5db)](_0x43fcb9);})['put'](this[_0x296587(0x470)]('groupBetterSetting'),..._0x485792,async(_0x590788,_0x5cc022)=>{const _0x3c029c=_0x296587;let _0x553501=await this['groupValidate']({'request':_0x590788,'schema':lr,'ClassRef':ut,'execute':(_0x14ce13,_0x188143)=>U[_0x3c029c(0x183)](_0x14ce13,_0x188143)});_0x5cc022['status'](0xc9)[_0x3c029c(0x5db)](_0x553501);})[_0x296587(0x76a)](this[_0x296587(0x470)](_0x296587(0x241)),..._0x485792,async(_0x536452,_0x421e01)=>{const _0xf6158e=_0x296587;let _0x764aa0=await this['groupValidate']({'request':_0x536452,'schema':cr,'ClassRef':lt,'execute':(_0x23b675,_0x1676f7)=>U[_0xf6158e(0x241)](_0x23b675,_0x1676f7)});_0x421e01[_0xf6158e(0x395)](0xc9)['json'](_0x764aa0);})[_0x296587(0x76a)](this[_0x296587(0x470)](_0x296587(0x459)),..._0x485792,async(_0x2bd381,_0x5ed3b4)=>{const _0x23a745=_0x296587;let _0x17dd65=await this['groupValidate']({'request':_0x2bd381,'schema':rr,'ClassRef':pt,'execute':(_0x1cd4ba,_0x5b170c)=>U[_0x23a745(0x459)](_0x1cd4ba,_0x5b170c)});_0x5ed3b4[_0x23a745(0x395)](0xc9)[_0x23a745(0x5db)](_0x17dd65);})[_0x296587(0x46f)](this[_0x296587(0x470)](_0x296587(0x429)),..._0x485792,async(_0x4e48c9,_0x175032)=>{const _0x416f02=_0x296587;let _0x56c4ba=await this['groupValidate']({'request':_0x4e48c9,'schema':Me,'ClassRef':Y,'execute':(_0x78052b,_0x298b1e)=>U[_0x416f02(0x703)](_0x78052b,_0x298b1e)});_0x175032[_0x416f02(0x395)](0xc8)['json'](_0x56c4ba);})[_0x296587(0x46f)](this['routerPath'](_0x296587(0x1ac)),..._0x485792,async(_0x313eba,_0x3231a1)=>{const _0x311fc4=_0x296587;let _0x2b5370=await this[_0x311fc4(0x6a6)]({'request':_0x313eba,'schema':M,'ClassRef':S,'execute':_0x2f8e5b=>U[_0x311fc4(0x1ac)](_0x2f8e5b)});_0x3231a1[_0x311fc4(0x395)](0xc8)[_0x311fc4(0x5db)](_0x2b5370);})[_0x296587(0x46f)](this['routerPath']('participants'),..._0x485792,async(_0x501101,_0x46ee2c)=>{const _0x2ecfe7=_0x296587;let _0x321ac4=await this['groupValidate']({'request':_0x501101,'schema':Me,'ClassRef':Y,'execute':(_0x24c9f7,_0x1127ab)=>U[_0x2ecfe7(0x229)](_0x24c9f7,_0x1127ab)});_0x46ee2c[_0x2ecfe7(0x395)](0xc8)['json'](_0x321ac4);})['get'](this[_0x296587(0x470)](_0x296587(0x733)),..._0x485792,async(_0x22acaf,_0x4be6eb)=>{const _0x2b017b=_0x296587;let _0x37420f=await this[_0x2b017b(0x73a)]({'request':_0x22acaf,'schema':Me,'ClassRef':Y,'execute':(_0xa4193e,_0x3dbafe)=>U[_0x2b017b(0x733)](_0xa4193e,_0x3dbafe)});_0x4be6eb[_0x2b017b(0x395)](0xc8)[_0x2b017b(0x5db)](_0x37420f);})[_0x296587(0x47b)](this[_0x296587(0x470)](_0x296587(0x6bf)),..._0x485792,async(_0x205da4,_0x928a0c)=>{const _0x3a50fa=_0x296587;let _0x53f266=await this[_0x3a50fa(0x499)]({'request':_0x205da4,'schema':bs,'ClassRef':ve,'execute':(_0x5abfdb,_0x26a21c)=>U[_0x3a50fa(0x757)](_0x5abfdb,_0x26a21c)});_0x928a0c[_0x3a50fa(0x395)](0xc9)[_0x3a50fa(0x5db)](_0x53f266);})[_0x296587(0x76a)](this[_0x296587(0x470)](_0x296587(0x33d)),..._0x485792,async(_0x44a8b1,_0x4a867d)=>{const _0x1a6837=_0x296587;let _0x1f40d5=await this[_0x1a6837(0x499)]({'request':_0x44a8b1,'schema':bs,'ClassRef':ve,'execute':(_0x40b3e9,_0x59358c)=>U[_0x1a6837(0x33d)](_0x40b3e9,_0x59358c)});_0x4a867d[_0x1a6837(0x395)](0xc9)[_0x1a6837(0x5db)](_0x1f40d5);})[_0x296587(0x76a)](this['routerPath']('revokeInviteCode'),..._0x485792,async(_0x355ed0,_0x18e56b)=>{const _0x44ff7c=_0x296587;let _0x385ce3=await this[_0x44ff7c(0x73a)]({'request':_0x355ed0,'schema':Me,'ClassRef':Y,'execute':(_0x9c742a,_0x525f8b)=>U[_0x44ff7c(0x6f5)](_0x9c742a,_0x525f8b)});_0x18e56b['status'](0xc9)['json'](_0x385ce3);})[_0x296587(0x76a)](this[_0x296587(0x470)]('updateParticipant'),..._0x485792,async(_0xaed40b,_0x39a1c8)=>{const _0x2d07bd=_0x296587;let _0x180174=await this[_0x2d07bd(0x73a)]({'request':_0xaed40b,'schema':ar,'ClassRef':dt,'execute':(_0x2e6dad,_0x51eb89)=>U[_0x2d07bd(0x1f6)](_0x2e6dad,_0x51eb89)});_0x39a1c8[_0x2d07bd(0x395)](0xc9)['json'](_0x180174);})[_0x296587(0x1c0)](this[_0x296587(0x470)](_0x296587(0x2d6)),..._0x485792,async(_0x61d494,_0x4db148)=>{const _0x51d722=_0x296587;let _0x5cd26f=await this['groupValidate']({'request':_0x61d494,'schema':{},'ClassRef':Y,'execute':(_0xd22f5a,_0x459847)=>U[_0x51d722(0x2d6)](_0xd22f5a,_0x459847)});_0x4db148[_0x51d722(0x395)](0xc8)['json'](_0x5cd26f);});}},hr=require(a0_0x4fecf3(0x3b0)),gt=class extends V{constructor(_0x259419,..._0x3139ec){const _0x2d2620=a0_0x4fecf3;super(),this[_0x2d2620(0x6e7)]=_0x259419,this[_0x2d2620(0x3c4)]=(0x0,hr[_0x2d2620(0x524)])();let _0x1f4699=_0x259419[_0x2d2620(0x46f)](_0x2d2620(0x2a8));this['router'][_0x2d2620(0x47b)](_0x2d2620(0x642),..._0x3139ec,async(_0x51dd86,_0x3ce27e)=>{const _0x57212d=_0x2d2620;let {instanceName:_0x2b434a,apikey:_0x359666,number:_0x4d65ab}=_0x51dd86[_0x57212d(0x34d)],_0xb947a9=await oe['createInstance']({'instanceName':_0x2b434a,'apikey':_0x359666,'number':_0x4d65ab});return _0x3ce27e['status'](0xc9)[_0x57212d(0x5db)](_0xb947a9);})[_0x2d2620(0x76a)](this['routerPath'](_0x2d2620(0x506)),..._0x3139ec,async(_0x570361,_0x493427)=>{const _0x4c13c6=_0x2d2620;let _0x12e57c=await this[_0x4c13c6(0x6a6)]({'request':_0x570361,'schema':M,'ClassRef':S,'execute':_0x51f19b=>oe[_0x4c13c6(0x382)](_0x51f19b)});return _0x493427[_0x4c13c6(0x395)](0xc8)[_0x4c13c6(0x5db)](_0x12e57c);})['get'](this['routerPath'](_0x2d2620(0x193)),..._0x3139ec,async(_0x1e6f76,_0x1666da)=>{const _0x610eb4=_0x2d2620;let _0x211eb3=await this[_0x610eb4(0x6a6)]({'request':_0x1e6f76,'schema':M,'ClassRef':S,'execute':_0x539b6d=>oe['connectToWhatsappController'](_0x539b6d)});return _0x1666da['status'](0xc8)[_0x610eb4(0x5db)](_0x211eb3);})[_0x2d2620(0x46f)](this[_0x2d2620(0x470)](_0x2d2620(0x6f1)),..._0x3139ec,async(_0x1e4307,_0x418e1e)=>{const _0x172642=_0x2d2620;let _0x38cf2c=await this[_0x172642(0x6a6)]({'request':_0x1e4307,'schema':M,'ClassRef':S,'execute':_0x10b298=>oe[_0x172642(0x6f1)](_0x10b298)});return _0x418e1e[_0x172642(0x395)](0xc8)[_0x172642(0x5db)](_0x38cf2c);})[_0x2d2620(0x46f)](this[_0x2d2620(0x470)](_0x2d2620(0x4a6),!0x1),..._0x3139ec,async(_0x3c005f,_0x3ac1c0)=>{const _0x3ae5c1=_0x2d2620;let _0x4ee5dd=await this['dataValidate']({'request':_0x3c005f,'schema':null,'ClassRef':S,'execute':_0x57e325=>oe['fetchInstances'](_0x57e325)});return _0x3ac1c0[_0x3ae5c1(0x395)](0xc8)[_0x3ae5c1(0x5db)](_0x4ee5dd);})['delete'](this[_0x2d2620(0x470)](_0x2d2620(0x6a0)),..._0x3139ec,async(_0x351b89,_0x55f325)=>{const _0x2cfeff=_0x2d2620;let _0x3c7973=await this[_0x2cfeff(0x6a6)]({'request':_0x351b89,'schema':M,'ClassRef':S,'execute':_0x28a7e7=>oe[_0x2cfeff(0x6a0)](_0x28a7e7)});return _0x55f325[_0x2cfeff(0x395)](0xc8)[_0x2cfeff(0x5db)](_0x3c7973);})[_0x2d2620(0x1c0)](this[_0x2d2620(0x470)](_0x2d2620(0x1c0)),..._0x3139ec,async(_0x3f9caf,_0x36ac93)=>{const _0x16c843=_0x2d2620;let _0x342d23=await this[_0x16c843(0x6a6)]({'request':_0x3f9caf,'schema':M,'ClassRef':S,'execute':_0x959045=>oe[_0x16c843(0x3ac)](_0x959045)});return _0x36ac93['status'](0xc8)['json'](_0x342d23);});}},gr=require(a0_0x4fecf3(0x3b0)),Cs=class{},W=class extends Cs{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Ne=class extends W{},bt=class extends W{},St=class extends W{},Ct=class extends W{},Et=class extends W{},Mt=class extends W{},vt=class{},Nt=class extends V{constructor(..._0xd4b3c8){const _0x23c546=a0_0x4fecf3;super(),this[_0x23c546(0x3c4)]=(0x0,gr[_0x23c546(0x524)])(),this[_0x23c546(0x3c4)][_0x23c546(0x47b)](this[_0x23c546(0x470)](_0x23c546(0x70d)),..._0xd4b3c8,async(_0x4c5cbb,_0x13089b)=>{const _0xb3a83d=_0x23c546;let _0x1eac63=await this[_0xb3a83d(0x6a6)]({'request':_0x4c5cbb,'schema':Da,'ClassRef':mt,'execute':(_0x8bd11c,_0x148ff0)=>G[_0xb3a83d(0x70d)](_0x8bd11c,_0x148ff0)});return _0x13089b[_0xb3a83d(0x395)](0xc9)[_0xb3a83d(0x5db)](_0x1eac63);})['post'](this[_0x23c546(0x470)]('sendMedia'),..._0xd4b3c8,async(_0x2e3083,_0x5d26c1)=>{const _0x585e59=_0x23c546;let _0x127815=await this['dataValidate']({'request':_0x2e3083,'schema':ka,'ClassRef':Ne,'execute':(_0x36a425,_0x3fd671)=>G['sendMedia'](_0x36a425,_0x3fd671)});return _0x5d26c1['status'](0xc9)[_0x585e59(0x5db)](_0x127815);})[_0x23c546(0x47b)](this['routerPath'](_0x23c546(0x7f3)),..._0xd4b3c8,async(_0x32ae37,_0x230d90)=>{const _0x3f2e40=_0x23c546;let _0x1a1272=await this[_0x3f2e40(0x6a6)]({'request':_0x32ae37,'schema':Fa,'ClassRef':yt,'execute':(_0x41d0b5,_0x46c9c0)=>G[_0x3f2e40(0x7f3)](_0x41d0b5,_0x46c9c0)});return _0x230d90[_0x3f2e40(0x395)](0xc9)['json'](_0x1a1272);})['post'](this[_0x23c546(0x470)](_0x23c546(0x7a6)),..._0xd4b3c8,async(_0x5e6222,_0x406a01)=>{const _0x376326=_0x23c546;let _0x16c3c4=await this[_0x376326(0x6a6)]({'request':_0x5e6222,'schema':La,'ClassRef':Ne,'execute':(_0x179bd3,_0x13482c)=>G[_0x376326(0x7a6)](_0x179bd3,_0x13482c)});return _0x406a01[_0x376326(0x395)](0xc9)[_0x376326(0x5db)](_0x16c3c4);})[_0x23c546(0x47b)](this[_0x23c546(0x470)](_0x23c546(0x373)),..._0xd4b3c8,async(_0x13b060,_0x106a16)=>{const _0x7814d6=_0x23c546;let _0x149040=await this[_0x7814d6(0x6a6)]({'request':_0x13b060,'schema':Ua,'ClassRef':St,'execute':(_0x2fcb5a,_0x274cc2)=>G['sendButtons'](_0x2fcb5a,_0x274cc2)});return _0x106a16['status'](0xc9)[_0x7814d6(0x5db)](_0x149040);})['post'](this[_0x23c546(0x470)](_0x23c546(0x7a3)),..._0xd4b3c8,async(_0x8997f,_0x3f6779)=>{const _0x536e79=_0x23c546;let _0x1d1414=await this[_0x536e79(0x6a6)]({'request':_0x8997f,'schema':qa,'ClassRef':Ct,'execute':(_0x335df5,_0x1fc65e)=>G[_0x536e79(0x7a3)](_0x335df5,_0x1fc65e)});return _0x3f6779[_0x536e79(0x395)](0xc9)[_0x536e79(0x5db)](_0x1d1414);})[_0x23c546(0x47b)](this[_0x23c546(0x470)](_0x23c546(0x26e)),..._0xd4b3c8,async(_0x2c51ed,_0x581862)=>{const _0xe9580b=_0x23c546;let _0x2b133a=await this[_0xe9580b(0x6a6)]({'request':_0x2c51ed,'schema':Ja,'ClassRef':Et,'execute':(_0x48fd87,_0x190aef)=>G[_0xe9580b(0x26e)](_0x48fd87,_0x190aef)});return _0x581862[_0xe9580b(0x395)](0xc9)[_0xe9580b(0x5db)](_0x2b133a);})['post'](this['routerPath'](_0x23c546(0x7d9)),..._0xd4b3c8,async(_0x1f936d,_0x259c27)=>{const _0x4360f9=_0x23c546;let _0x494b06=await this['dataValidate']({'request':_0x1f936d,'schema':Va,'ClassRef':Mt,'execute':(_0x39cadf,_0x54529d)=>G['sendContact'](_0x39cadf,_0x54529d)});return _0x259c27['status'](0xc9)[_0x4360f9(0x5db)](_0x494b06);})[_0x23c546(0x47b)](this[_0x23c546(0x470)]('sendReaction'),..._0xd4b3c8,async(_0x5795d8,_0x5e3d23)=>{const _0x2a5cd0=_0x23c546;let _0x37f610=await this[_0x2a5cd0(0x6a6)]({'request':_0x5795d8,'schema':Ba,'ClassRef':vt,'execute':(_0x2b514b,_0x1fe5ac)=>G['sendReaction'](_0x2b514b,_0x1fe5ac)});return _0x5e3d23[_0x2a5cd0(0x395)](0xc9)[_0x2a5cd0(0x5db)](_0x37f610);})[_0x23c546(0x47b)](this[_0x23c546(0x470)](_0x23c546(0x522)),..._0xd4b3c8,async(_0x5d73c2,_0x45e5a6)=>{const _0x5e5849=_0x23c546;let _0xbf54b4=await this[_0x5e5849(0x6a6)]({'request':_0x5d73c2,'schema':ja,'ClassRef':wt,'execute':(_0x23d312,_0x273170)=>G[_0x5e5849(0x522)](_0x23d312,_0x273170)});return _0x45e5a6[_0x5e5849(0x395)](0xc9)[_0x5e5849(0x5db)](_0xbf54b4);})[_0x23c546(0x47b)](this[_0x23c546(0x470)]('sendStatus'),..._0xd4b3c8,async(_0x4d584a,_0x1d20f5)=>{const _0x1a4e89=_0x23c546;let _0x5ddeb5=await this[_0x1a4e89(0x6a6)]({'request':_0x4d584a,'schema':$a,'ClassRef':ft,'execute':(_0xc319c2,_0x28ef54)=>G[_0x1a4e89(0x25e)](_0xc319c2,_0x28ef54)});return _0x1d20f5[_0x1a4e89(0x395)](0xc9)[_0x1a4e89(0x5db)](_0x5ddeb5);})[_0x23c546(0x47b)](this[_0x23c546(0x470)](_0x23c546(0x647)),..._0xd4b3c8,async(_0x31f70f,_0x3b60bd)=>{const _0xecf5df=_0x23c546;let _0x3335d6=await this[_0xecf5df(0x6a6)]({'request':_0x31f70f,'schema':Pa,'ClassRef':bt,'execute':(_0x4bd0b0,_0x58930c)=>G[_0xecf5df(0x647)](_0x4bd0b0,_0x58930c)});return _0x3b60bd['status'](0xc9)[_0xecf5df(0x5db)](_0x3335d6);});}},mr=require('express'),Rt=class{},Tt=class extends V{constructor(..._0x3c6a25){const _0x2cb0fe=a0_0x4fecf3;super(),this[_0x2cb0fe(0x3c4)]=(0x0,mr[_0x2cb0fe(0x524)])(),this[_0x2cb0fe(0x3c4)][_0x2cb0fe(0x47b)](this[_0x2cb0fe(0x470)](_0x2cb0fe(0x4e9)),..._0x3c6a25,async(_0xc184f9,_0xfb0670)=>{const _0xe356d8=_0x2cb0fe;let _0x57b3be=await this[_0xe356d8(0x6a6)]({'request':_0xc184f9,'schema':ur,'ClassRef':Rt,'execute':(_0x54bce7,_0x5606d8)=>Es[_0xe356d8(0x72e)](_0x54bce7,_0x5606d8)});_0xfb0670[_0xe356d8(0x395)](0xc9)[_0xe356d8(0x5db)](_0x57b3be);})['get'](this[_0x2cb0fe(0x470)]('find'),..._0x3c6a25,async(_0x25f08e,_0x30bf83)=>{const _0x3493a5=_0x2cb0fe;let _0x3ce434=await this[_0x3493a5(0x6a6)]({'request':_0x25f08e,'schema':M,'ClassRef':S,'execute':_0x47d68b=>Es[_0x3493a5(0x236)](_0x47d68b)});_0x30bf83['status'](0xc8)[_0x3493a5(0x5db)](_0x3ce434);});}},fr=require(a0_0x4fecf3(0x3b0)),y=new v(a0_0x4fecf3(0x418)),Ot=class extends V{constructor(..._0x574b6e){const _0x28c926=a0_0x4fecf3;super(),this[_0x28c926(0x3c4)]=(0x0,fr[_0x28c926(0x524)])(),this[_0x28c926(0x3c4)][_0x28c926(0x47b)](this[_0x28c926(0x470)](_0x28c926(0x29a)),..._0x574b6e,async(_0x48ac48,_0x11b4ea)=>{const _0x55a98a=_0x28c926;let _0x164746=_0x48ac48['body'];y[_0x55a98a(0x769)](_0x55a98a(0x682)),y[_0x55a98a(0x769)](_0x55a98a(0x39d)),y['verbose'](_0x48ac48[_0x55a98a(0x34d)]);let _0x3f8647=await this[_0x55a98a(0x6a6)]({'request':_0x48ac48,'schema':M,'ClassRef':S,'execute':_0x28f758=>x[_0x55a98a(0x6b3)](_0x28f758,_0x164746)});_0x11b4ea[_0x55a98a(0x395)](0xc8)[_0x55a98a(0x5db)](_0x3f8647);})['get'](this[_0x28c926(0x470)]('scheduleMessage'),..._0x574b6e,async(_0x388293,_0x4cdb19)=>{const _0x355af3=_0x28c926;let _0x5742fe=await this[_0x355af3(0x6a6)]({'request':_0x388293,'schema':M,'ClassRef':S,'execute':_0x212516=>x['getScheduleMessage'](_0x212516)});_0x4cdb19[_0x355af3(0x395)](0xc8)[_0x355af3(0x5db)](_0x5742fe);})[_0x28c926(0x1c0)](this[_0x28c926(0x470)]('deleteDoneMessages'),..._0x574b6e,async(_0x27e794,_0x1707a4)=>{const _0x4399fc=_0x28c926;y['verbose'](_0x4399fc(0x263));let _0x3d03f4=await this[_0x4399fc(0x6a6)]({'request':_0x27e794,'schema':M,'ClassRef':S,'execute':_0x1255a2=>x['deleteDoneMessages'](_0x1255a2)});_0x1707a4[_0x4399fc(0x395)](0xc8)['json'](_0x3d03f4);})[_0x28c926(0x47b)](this[_0x28c926(0x470)]('startFlow'),..._0x574b6e,async(_0x5c1d6c,_0x39ed71)=>{const _0x108754=_0x28c926;let _0x3fe852=_0x5c1d6c[_0x108754(0x34d)];y[_0x108754(0x769)](_0x108754(0x79c)),y[_0x108754(0x769)](_0x108754(0x39d)),y[_0x108754(0x769)](_0x5c1d6c['body']);let _0x4a9773=await this[_0x108754(0x6a6)]({'request':_0x5c1d6c,'schema':M,'ClassRef':S,'execute':_0x4e32bb=>x['startFlow'](_0x4e32bb,_0x3fe852)});_0x39ed71[_0x108754(0x395)](0xc8)['json'](_0x4a9773);})[_0x28c926(0x46f)](this[_0x28c926(0x470)](_0x28c926(0x287)),..._0x574b6e,async(_0x106468,_0x406c56)=>{const _0x105611=_0x28c926;y[_0x105611(0x769)]('request\x20received\x20in\x20getAutomateSystem');let _0xee4b86=await this[_0x105611(0x6a6)]({'request':_0x106468,'schema':M,'ClassRef':S,'execute':_0x5f3176=>x[_0x105611(0x287)](_0x5f3176)});_0x406c56[_0x105611(0x395)](0xc8)[_0x105611(0x5db)](_0xee4b86);})['get'](this['routerPath'](_0x28c926(0x173)),..._0x574b6e,async(_0x19bd0f,_0x4a4bca)=>{const _0x25a1c8=_0x28c926;y[_0x25a1c8(0x769)](_0x25a1c8(0x78f));let _0x46bb12=await this[_0x25a1c8(0x6a6)]({'request':_0x19bd0f,'schema':M,'ClassRef':S,'execute':_0x3e2f16=>x[_0x25a1c8(0x287)](_0x3e2f16)});_0x4a4bca[_0x25a1c8(0x395)](0xc8)[_0x25a1c8(0x5db)](_0x46bb12);})['post'](this['routerPath']('updateAgent'),..._0x574b6e,async(_0x3cb1ff,_0x2eef31)=>{const _0x12bf95=_0x28c926;let _0x1feabb=_0x3cb1ff[_0x12bf95(0x34d)];y['verbose'](_0x12bf95(0x765)),y[_0x12bf95(0x769)](_0x12bf95(0x39d)),y[_0x12bf95(0x769)](_0x3cb1ff['body']);let _0x4b0963=await this[_0x12bf95(0x6a6)]({'request':_0x3cb1ff,'schema':M,'ClassRef':S,'execute':_0x1ec3d9=>x['updateAgent'](_0x1ec3d9,_0x1feabb)});_0x2eef31['status'](0xc8)[_0x12bf95(0x5db)](_0x4b0963);})[_0x28c926(0x47b)](this['routerPath'](_0x28c926(0x3b1)),..._0x574b6e,async(_0x125700,_0xb27f75)=>{const _0x4ad6be=_0x28c926;let _0x1ae3e4=_0x125700[_0x4ad6be(0x34d)];y[_0x4ad6be(0x769)](_0x4ad6be(0x590)),y['verbose']('request\x20body:\x20'),y[_0x4ad6be(0x769)](_0x125700[_0x4ad6be(0x34d)]);let _0x4cc968=await this[_0x4ad6be(0x6a6)]({'request':_0x125700,'schema':M,'ClassRef':S,'execute':_0x59ad84=>x[_0x4ad6be(0x3b1)](_0x59ad84,_0x1ae3e4)});_0xb27f75['status'](0xc8)['json'](_0x4cc968);})[_0x28c926(0x47b)](this['routerPath'](_0x28c926(0x41a)),..._0x574b6e,async(_0x59ed20,_0x4d18c2)=>{const _0x22bbe1=_0x28c926;let _0x2c8264=_0x59ed20[_0x22bbe1(0x34d)];y['verbose'](_0x22bbe1(0x597)),y[_0x22bbe1(0x769)](_0x22bbe1(0x39d)),y['verbose'](_0x59ed20[_0x22bbe1(0x34d)]);let _0x15dbf5=await this[_0x22bbe1(0x6a6)]({'request':_0x59ed20,'schema':M,'ClassRef':S,'execute':_0xe03a8e=>x[_0x22bbe1(0x41a)](_0xe03a8e,_0x2c8264)});_0x4d18c2[_0x22bbe1(0x395)](0xc8)[_0x22bbe1(0x5db)](_0x15dbf5);})[_0x28c926(0x47b)](this[_0x28c926(0x470)](_0x28c926(0x446)),..._0x574b6e,async(_0x59f138,_0x4f53a1)=>{const _0x536c95=_0x28c926;let _0xc6f4d5=_0x59f138[_0x536c95(0x34d)];y[_0x536c95(0x769)](_0x536c95(0x33e)),y[_0x536c95(0x769)](_0x536c95(0x39d)),y['verbose'](_0x59f138[_0x536c95(0x34d)]);let _0x1f581a=await this[_0x536c95(0x6a6)]({'request':_0x59f138,'schema':M,'ClassRef':S,'execute':_0x10da5d=>x[_0x536c95(0x446)](_0x10da5d,_0xc6f4d5)});_0x4f53a1[_0x536c95(0x395)](0xc8)[_0x536c95(0x5db)](_0x1f581a);})[_0x28c926(0x47b)](this['routerPath']('fetchConversation'),..._0x574b6e,async(_0x50d420,_0xd7028d)=>{const _0x2a7dc7=_0x28c926;let _0x5b6440=_0x50d420[_0x2a7dc7(0x34d)];y[_0x2a7dc7(0x769)](_0x2a7dc7(0x753)),y['verbose'](_0x2a7dc7(0x39d)),y['verbose'](_0x50d420[_0x2a7dc7(0x34d)]);let _0x16b381=await this['dataValidate']({'request':_0x50d420,'schema':M,'ClassRef':S,'execute':_0x4dd328=>x[_0x2a7dc7(0x45e)](_0x4dd328,_0x5b6440)});_0xd7028d[_0x2a7dc7(0x395)](0xc8)[_0x2a7dc7(0x5db)](_0x16b381);})['post'](this[_0x28c926(0x470)](_0x28c926(0x3d4)),..._0x574b6e,async(_0x3fd679,_0xaa14a2)=>{const _0x80a5f7=_0x28c926;let _0x1493ae=_0x3fd679[_0x80a5f7(0x34d)];y[_0x80a5f7(0x769)](_0x80a5f7(0x4cb)),y[_0x80a5f7(0x769)](_0x80a5f7(0x39d)),y[_0x80a5f7(0x769)](_0x3fd679[_0x80a5f7(0x34d)]);let _0x2e5a98=await this['dataValidate']({'request':_0x3fd679,'schema':M,'ClassRef':S,'execute':_0x153420=>x[_0x80a5f7(0x3d4)](_0x153420,_0x1493ae)});_0xaa14a2['status'](0xc8)['json'](_0x2e5a98);})[_0x28c926(0x1c0)](this[_0x28c926(0x470)](_0x28c926(0x5af)),..._0x574b6e,async(_0x325778,_0x4d7b1e)=>{const _0x3f24cb=_0x28c926;let _0x1c2296=_0x325778['body'];y[_0x3f24cb(0x769)](_0x3f24cb(0x50a)),y['verbose'](_0x3f24cb(0x39d)),y[_0x3f24cb(0x769)](_0x325778['body']);let _0xb60a20=await this[_0x3f24cb(0x6a6)]({'request':_0x325778,'schema':M,'ClassRef':S,'execute':_0x1c78c3=>x[_0x3f24cb(0x5af)](_0x1c78c3,_0x1c2296)});_0x4d7b1e[_0x3f24cb(0x395)](0xc8)[_0x3f24cb(0x5db)](_0xb60a20);})['post'](this[_0x28c926(0x470)](_0x28c926(0x550)),..._0x574b6e,async(_0x5e1933,_0x3a8a82)=>{const _0x3321d2=_0x28c926;let _0x36754c=_0x5e1933[_0x3321d2(0x34d)];y[_0x3321d2(0x769)]('request\x20received\x20in\x20createFlow'),y[_0x3321d2(0x769)]('request\x20body:\x20'),y[_0x3321d2(0x769)](_0x5e1933[_0x3321d2(0x34d)]);let _0x543fcd=await this[_0x3321d2(0x6a6)]({'request':_0x5e1933,'schema':M,'ClassRef':S,'execute':_0x1614db=>x['createFlow'](_0x1614db,_0x36754c)});_0x3a8a82[_0x3321d2(0x395)](0xc8)[_0x3321d2(0x5db)](_0x543fcd);})['post'](this[_0x28c926(0x470)](_0x28c926(0x31a)),..._0x574b6e,async(_0x3a7a4,_0x1a82ec)=>{const _0x415fd6=_0x28c926;let _0x156a7b=_0x3a7a4['body'];y[_0x415fd6(0x769)](_0x415fd6(0x486)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x3a7a4[_0x415fd6(0x34d)]),delete _0x156a7b[_0x415fd6(0x6ab)],delete _0x156a7b[_0x415fd6(0x163)],delete _0x156a7b[_0x415fd6(0x77b)],delete _0x156a7b['conditions'];let _0x26cc5b=await this[_0x415fd6(0x6a6)]({'request':_0x3a7a4,'schema':M,'ClassRef':S,'execute':_0x432308=>x[_0x415fd6(0x456)](_0x432308,_0x156a7b)});_0x1a82ec[_0x415fd6(0x395)](0xc8)[_0x415fd6(0x5db)](_0x26cc5b);})[_0x28c926(0x47b)](this[_0x28c926(0x470)](_0x28c926(0x5f0)),..._0x574b6e,async(_0x1ca516,_0x2f0ff2)=>{const _0x73eec9=_0x28c926;let _0x42db96=_0x1ca516[_0x73eec9(0x34d)];y['verbose']('request\x20received\x20in\x20editFlow'),y['verbose']('request\x20body:\x20'),y[_0x73eec9(0x769)](_0x1ca516[_0x73eec9(0x34d)]);let _0x2223de=await this[_0x73eec9(0x6a6)]({'request':_0x1ca516,'schema':M,'ClassRef':S,'execute':_0x3a4b91=>x[_0x73eec9(0x39e)](_0x3a4b91,_0x42db96)});_0x2f0ff2[_0x73eec9(0x395)](0xc8)[_0x73eec9(0x5db)](_0x2223de);})[_0x28c926(0x47b)](this[_0x28c926(0x470)](_0x28c926(0x22f)),..._0x574b6e,async(_0x1272f1,_0x337c9e)=>{const _0x5930b9=_0x28c926;let _0x1e658d=_0x1272f1['body'];y[_0x5930b9(0x769)](_0x5930b9(0x486)),y['verbose'](_0x5930b9(0x39d)),y[_0x5930b9(0x769)](_0x1272f1[_0x5930b9(0x34d)]);let _0x47c4ec=await this[_0x5930b9(0x6a6)]({'request':_0x1272f1,'schema':M,'ClassRef':S,'execute':_0x3cd682=>x[_0x5930b9(0x272)](_0x3cd682,_0x1e658d)});_0x337c9e[_0x5930b9(0x395)](0xc8)[_0x5930b9(0x5db)](_0x47c4ec);})['post'](this[_0x28c926(0x470)](_0x28c926(0x64b)),..._0x574b6e,async(_0x592e8d,_0x1c889e)=>{const _0x4fffdf=_0x28c926;let _0x3a54c6=_0x592e8d[_0x4fffdf(0x34d)];y['verbose'](_0x4fffdf(0x486)),y[_0x4fffdf(0x769)]('request\x20body:\x20'),y[_0x4fffdf(0x769)](_0x592e8d[_0x4fffdf(0x34d)]);let _0x1101b2=await this[_0x4fffdf(0x6a6)]({'request':_0x592e8d,'schema':M,'ClassRef':S,'execute':_0x46fece=>x[_0x4fffdf(0x203)](_0x46fece,_0x3a54c6)});_0x1c889e[_0x4fffdf(0x395)](0xc8)[_0x4fffdf(0x5db)](_0x1101b2);})[_0x28c926(0x47b)](this[_0x28c926(0x470)](_0x28c926(0x237)),..._0x574b6e,async(_0x450e76,_0x545a5f)=>{const _0xef6e9d=_0x28c926;let _0x57ac0b=_0x450e76[_0xef6e9d(0x34d)];y[_0xef6e9d(0x769)](_0xef6e9d(0x1a6)),y['verbose'](_0xef6e9d(0x39d)),y[_0xef6e9d(0x769)](_0x450e76[_0xef6e9d(0x34d)]);let _0x5c875d=await this[_0xef6e9d(0x6a6)]({'request':_0x450e76,'schema':M,'ClassRef':S,'execute':_0x5894a5=>x[_0xef6e9d(0x1aa)](_0x5894a5,_0x57ac0b)});_0x545a5f[_0xef6e9d(0x395)](0xc8)['json'](_0x5c875d);})[_0x28c926(0x47b)](this[_0x28c926(0x470)]('editflowcondition'),..._0x574b6e,async(_0x43e305,_0x5b4565)=>{const _0x1d48ff=_0x28c926;let _0x261d66=_0x43e305['body'];y[_0x1d48ff(0x769)](_0x1d48ff(0x6ea)),y[_0x1d48ff(0x769)](_0x1d48ff(0x39d)),y[_0x1d48ff(0x769)](_0x43e305['body']);let _0x38031e=await this['dataValidate']({'request':_0x43e305,'schema':M,'ClassRef':S,'execute':_0x3b16fe=>x[_0x1d48ff(0x772)](_0x3b16fe,_0x261d66)});_0x5b4565['status'](0xc8)['json'](_0x38031e);})['post'](this[_0x28c926(0x470)](_0x28c926(0x656)),..._0x574b6e,async(_0x2dae18,_0x4c471f)=>{const _0x51934=_0x28c926;let _0x41d035=_0x2dae18[_0x51934(0x34d)];y[_0x51934(0x769)](_0x51934(0x416)),y['verbose'](_0x51934(0x39d)),y['verbose'](_0x2dae18[_0x51934(0x34d)]);let _0x33722e=await this['dataValidate']({'request':_0x2dae18,'schema':M,'ClassRef':S,'execute':_0x445ed7=>x[_0x51934(0x562)](_0x445ed7,_0x41d035)});_0x4c471f[_0x51934(0x395)](0xc8)[_0x51934(0x5db)](_0x33722e);})[_0x28c926(0x47b)](this[_0x28c926(0x470)]('getflow'),..._0x574b6e,async(_0x9e1d93,_0x294687)=>{const _0x3ab0cc=_0x28c926;let _0x421ef1=_0x9e1d93['body'];y[_0x3ab0cc(0x769)](_0x3ab0cc(0x256)),y[_0x3ab0cc(0x769)](_0x3ab0cc(0x39d)),y[_0x3ab0cc(0x769)](_0x9e1d93['body']);let _0x312a37=await this['dataValidate']({'request':_0x9e1d93,'schema':M,'ClassRef':S,'execute':_0x2807c5=>x['getFlow'](_0x2807c5,_0x421ef1)});_0x294687[_0x3ab0cc(0x395)](0xc8)[_0x3ab0cc(0x5db)](_0x312a37);})[_0x28c926(0x1c0)](this[_0x28c926(0x470)]('deleteflow'),..._0x574b6e,async(_0x45dc68,_0x44412c)=>{const _0x20e153=_0x28c926;let _0x49862c=_0x45dc68[_0x20e153(0x34d)];y['verbose'](_0x20e153(0x7aa)),y[_0x20e153(0x769)](_0x20e153(0x39d)),y[_0x20e153(0x769)](_0x45dc68['body']);let _0x338c19=await this['dataValidate']({'request':_0x45dc68,'schema':M,'ClassRef':S,'execute':_0x4c5f3e=>x[_0x20e153(0x66b)](_0x4c5f3e,_0x49862c)});_0x44412c[_0x20e153(0x395)](0xc8)[_0x20e153(0x5db)](_0x338c19);})[_0x28c926(0x46f)](this[_0x28c926(0x470)](_0x28c926(0x179)),..._0x574b6e,async(_0x1a2a2c,_0x25fec8)=>{const _0x3d223b=_0x28c926;y[_0x3d223b(0x769)](_0x3d223b(0x436));let _0x56ba63=await this[_0x3d223b(0x6a6)]({'request':_0x1a2a2c,'schema':M,'ClassRef':S,'execute':_0x3f882a=>x[_0x3d223b(0x6e4)](_0x3f882a)});_0x25fec8['status'](0xc8)[_0x3d223b(0x5db)](_0x56ba63);});}},Sr=O(require(a0_0x4fecf3(0x7e8))),X={};function wr(_0x44c4d3,_0x3d0fdd,_0x52f6b0,_0x224bb8){X[_0x44c4d3]||(X[_0x44c4d3]={}),X[_0x44c4d3][_0x3d0fdd]={'id':_0x3d0fdd,'response':_0x52f6b0,'events':_0x224bb8};}function yr(_0x1ad487,_0x3a7222){!X[_0x1ad487]||!X[_0x1ad487][_0x3a7222]||delete X[_0x1ad487][_0x3a7222];}function F(_0x4b557f,_0x4e866a,_0x12cc40){const _0xca1079=a0_0x4fecf3;if(!X[_0x4b557f])return;let _0x5b490d=_0xca1079(0x158)+JSON['stringify'](_0x12cc40)+'\x0a\x0a';Object['values'](X[_0x4b557f])[_0xca1079(0x697)](_0x829bb9=>{const _0x1c5491=_0xca1079;_0x829bb9[_0x1c5491(0x817)][_0x1c5491(0x207)](_0x4e866a)&&_0x829bb9['response'][_0x1c5491(0x1b3)](_0x5b490d);});}function br(){const _0x41e411=a0_0x4fecf3;let _0x255c0b={};for(let _0x33699b in X)_0x255c0b[_0x33699b]=Object[_0x41e411(0x289)](X[_0x33699b])['map'](_0x362d26=>({'id':_0x362d26['id'],'events':_0x362d26[_0x41e411(0x817)]}));return _0x255c0b;}var Cr=require(a0_0x4fecf3(0x3df)),vs=require(a0_0x4fecf3(0x294)),Ms=class{},bi=new vs[(a0_0x4fecf3(0x700))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Si=new vs[(a0_0x4fecf3(0x700))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':bi},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=N?.[a0_0x4fecf3(0x48e)](Ms[a0_0x4fecf3(0x804)],Si,a0_0x4fecf3(0x18d)),Ci=Sr[a0_0x4fecf3(0x3cc)][a0_0x4fecf3(0x386)](__dirname,a0_0x4fecf3(0x767)),It=(0x0,At[a0_0x4fecf3(0x524)])(),Ei=b[a0_0x4fecf3(0x46f)]('AUTHENTICATION')['TYPE'],se=[Ta,Oa,xa[Ei]];It[a0_0x4fecf3(0x795)](a0_0x4fecf3(0x325),At['default'][a0_0x4fecf3(0x53e)](Ci))[a0_0x4fecf3(0x46f)](a0_0x4fecf3(0x68e),async(_0x7d93ca,_0x14631b)=>{const _0x2efb6a=a0_0x4fecf3;console[_0x2efb6a(0x635)](_0x2efb6a(0x5f6));let _0x4516f3=_0x7d93ca[_0x2efb6a(0x60d)][_0x2efb6a(0x3f9)],_0x985ecd=(_0x7d93ca[_0x2efb6a(0x2c0)][_0x2efb6a(0x817)]||'')[_0x2efb6a(0x579)](','),_0x332312=(0x0,Cr['v4'])();console['log'](_0x2efb6a(0x64f),_0x4516f3),console[_0x2efb6a(0x635)](_0x2efb6a(0x734),_0x985ecd);let _0x4d5eb5=b[_0x2efb6a(0x46f)](_0x2efb6a(0x2a8))['API_KEY'],_0x4ca4f0=_0x7d93ca['query'][_0x2efb6a(0x20b)];if(console[_0x2efb6a(0x635)](_0x2efb6a(0x1e6),_0x4ca4f0),_0x4d5eb5[_0x2efb6a(0x2aa)]!==_0x4ca4f0){console[_0x2efb6a(0x635)](_0x2efb6a(0x255));try{let _0xbf0f6=await ue[_0x2efb6a(0x585)][_0x2efb6a(0x201)](_0x4516f3);if(console[_0x2efb6a(0x635)]('Instance\x20Key\x20from\x20DB:',_0xbf0f6),!_0xbf0f6||_0xbf0f6['apikey']!==_0x4ca4f0)return console[_0x2efb6a(0x635)](_0x2efb6a(0x168)),_0x14631b['status'](0x191)[_0x2efb6a(0x451)](_0x2efb6a(0x7c0));}catch(_0x1ecb01){return console['error']('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x1ecb01),_0x14631b[_0x2efb6a(0x395)](0x191)[_0x2efb6a(0x451)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Xe(_0x4516f3))return _0x14631b[_0x2efb6a(0x395)](0x194)[_0x2efb6a(0x451)](_0x2efb6a(0x23a));_0x14631b['setHeader'](_0x2efb6a(0x815),_0x2efb6a(0x7db)),_0x14631b[_0x2efb6a(0x627)](_0x2efb6a(0x477),'no-cache'),_0x14631b[_0x2efb6a(0x627)](_0x2efb6a(0x4a8),_0x2efb6a(0x7fd)),_0x14631b['flushHeaders']();let _0x56c2ea=_0x2efb6a(0x158)+JSON[_0x2efb6a(0x155)]({'info':_0x2efb6a(0x2a4)})+'\x0a\x0a';_0x14631b[_0x2efb6a(0x1b3)](_0x56c2ea),wr(_0x4516f3,_0x332312,_0x14631b,_0x985ecd),_0x7d93ca['on'](_0x2efb6a(0x291),()=>{const _0x3d63bb=_0x2efb6a;console['log'](_0x3d63bb(0x785)+_0x4516f3),yr(_0x4516f3,_0x332312);});}),It[a0_0x4fecf3(0x46f)](a0_0x4fecf3(0x245),(_0x537428,_0xdebddf)=>{let _0x1c2e75=br();_0xdebddf['json'](_0x1c2e75);})[a0_0x4fecf3(0x46f)]('/',(_0x3c492b,_0x7186b5)=>{const _0x123ca7=a0_0x4fecf3;let _0xd25ab4=b[_0x123ca7(0x46f)]('SERVER')['URL'];if(_0xd25ab4){let _0x2e7de3=encodeURIComponent(''+_0xd25ab4);_0x7186b5[_0x123ca7(0x4ac)](_0x123ca7(0x79b)+_0x2e7de3);return;}let _0x366c64=b['get']('SSL_CONF'),_0x3f5dba=_0x366c64&&_0x366c64['FULLCHAIN'][_0x123ca7(0x579)]('/')[0x4];if(_0x3f5dba){let _0x7b8754=encodeURIComponent(_0x123ca7(0x39a)+_0x3f5dba);_0x7186b5[_0x123ca7(0x4ac)](_0x123ca7(0x79b)+_0x7b8754);}else _0x7186b5[_0x123ca7(0x4ac)](_0x123ca7(0x1de));})[a0_0x4fecf3(0x76a)](a0_0x4fecf3(0x542),...se,async(_0x827ef8,_0x225659)=>{const _0x203154=a0_0x4fecf3;try{console[_0x203154(0x635)](_0x203154(0x566)),_0x225659[_0x203154(0x395)](0xc8)[_0x203154(0x5db)]({'message':_0x203154(0x768)}),_0x225659['on']('finish',()=>process[_0x203154(0x23e)](0x0));}catch(_0x69dfa0){console[_0x203154(0x2cb)](_0x203154(0x4fe),_0x69dfa0),_0x225659[_0x203154(0x395)](0x1f4)[_0x203154(0x5db)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x4fecf3(0x76a)]('/config',...se,async(_0x4e2cf2,_0x59a056)=>{const _0x54f0b2=a0_0x4fecf3;try{let _0x5aa837=_0x4e2cf2['body'];await ye[_0x54f0b2(0x530)]({},{'$set':_0x5aa837},{'upsert':!0x0});let _0x44fdb8=await ye['findOne']();_0x59a056[_0x54f0b2(0x5db)](_0x44fdb8);}catch(_0x262f88){_0x59a056[_0x54f0b2(0x395)](0x190)[_0x54f0b2(0x451)](_0x262f88[_0x54f0b2(0x6c9)]);}})[a0_0x4fecf3(0x46f)](a0_0x4fecf3(0x432),...se,async(_0x4858bf,_0x461ea6)=>{const _0x152aff=a0_0x4fecf3;try{let _0x102b1f=await ye['findOne']();if(!_0x102b1f)return _0x461ea6[_0x152aff(0x5db)]({});_0x461ea6[_0x152aff(0x5db)](_0x102b1f);}catch(_0x3dae77){_0x461ea6[_0x152aff(0x395)](0x1f4)[_0x152aff(0x451)](_0x3dae77[_0x152aff(0x6c9)]);}})['use'](a0_0x4fecf3(0x247),new gt(b,...se)[a0_0x4fecf3(0x3c4)])[a0_0x4fecf3(0x795)](a0_0x4fecf3(0x393),new Nt(...se)[a0_0x4fecf3(0x3c4)])[a0_0x4fecf3(0x795)]('/chat',new rt(...se)[a0_0x4fecf3(0x3c4)])[a0_0x4fecf3(0x795)](a0_0x4fecf3(0x5cf),new ht(...se)[a0_0x4fecf3(0x3c4)])[a0_0x4fecf3(0x795)]('/webhook',new Tt(...se)['router'])['use']('/automate',new Ot(...se)[a0_0x4fecf3(0x3c4)]);var w=class{constructor(..._0x1f0b9a){const _0x286e2f=a0_0x4fecf3;throw{'status':0x190,'error':_0x286e2f(0x507),'message':_0x1f0b9a[_0x286e2f(0x7da)]>0x0?_0x1f0b9a:void 0x0};}},te=class{constructor(..._0x3eb65e){throw{'status':0x191,'error':'Unauthorized','message':_0x3eb65e['length']>0x0?_0x3eb65e:void 0x0};}},K=class{constructor(..._0x15c61e){const _0x2259f7=a0_0x4fecf3;throw{'status':0x193,'error':_0x2259f7(0x1db),'message':_0x15c61e[_0x2259f7(0x7da)]>0x0?_0x15c61e:void 0x0};}},j=class{constructor(..._0x31bb37){const _0x4587f8=a0_0x4fecf3;throw{'status':0x194,'error':_0x4587f8(0x42f),'message':_0x31bb37[_0x4587f8(0x7da)]>0x0?_0x31bb37:void 0x0};}},I=class{constructor(..._0x40c0a7){const _0x1a6207=a0_0x4fecf3;throw{'status':0x1f4,'error':_0x1a6207(0x2bd),'message':_0x40c0a7[_0x1a6207(0x7da)]>0x0?_0x40c0a7:void 0x0};}},de=require(a0_0x4fecf3(0x715));async function Ns(_0x4110d3){const _0x2b11a5=a0_0x4fecf3;let _0x3c6be9=new v(Ns[_0x2b11a5(0x804)]),_0x3312e2=N['getClient'](),_0x41b49e=_0x3312e2['db'](b[_0x2b11a5(0x46f)]('DATABASE')['CONNECTION']['DB_PREFIX_NAME']+_0x2b11a5(0x6f7))[_0x2b11a5(0x7cc)](_0x4110d3),_0x450997=async(_0x21b431,_0x533b61)=>{const _0x838567=_0x2b11a5;try{return await _0x3312e2[_0x838567(0x193)](),await _0x41b49e[_0x838567(0x49d)]({'_id':_0x533b61},JSON[_0x838567(0x164)](JSON[_0x838567(0x155)](_0x21b431,de[_0x838567(0x445)][_0x838567(0x61e)])),{'upsert':!0x0});}catch{}},_0x5f46f3=async _0x2e7b49=>{const _0x34a9e8=_0x2b11a5;try{await _0x3312e2[_0x34a9e8(0x193)]();let _0x15f8b7=await _0x41b49e[_0x34a9e8(0x338)]({'_id':_0x2e7b49}),_0x71ff23=JSON[_0x34a9e8(0x155)](_0x15f8b7);return JSON[_0x34a9e8(0x164)](_0x71ff23,de[_0x34a9e8(0x445)][_0x34a9e8(0x366)]);}catch{}},_0x5e0a89=async _0xc0ff45=>{const _0x4d41a0=_0x2b11a5;try{return await _0x3312e2[_0x4d41a0(0x193)](),await _0x41b49e[_0x4d41a0(0x6d3)]({'_id':_0xc0ff45});}catch{}},_0x24c94d=await _0x5f46f3(_0x2b11a5(0x72f))||(0x0,de['initAuthCreds'])();return{'state':{'creds':_0x24c94d,'keys':{'get':async(_0x1d7673,_0x51cdba)=>{const _0x1db85f=_0x2b11a5;let _0x336c04={};return await Promise[_0x1db85f(0x5dd)](_0x51cdba[_0x1db85f(0x428)](async _0x33cf91=>{const _0x8471d1=_0x1db85f;let _0x4dff9e=await _0x5f46f3(_0x1d7673+'-'+_0x33cf91);_0x1d7673===_0x8471d1(0x410)&&_0x4dff9e&&(_0x4dff9e=de[_0x8471d1(0x20f)][_0x8471d1(0x249)]['AppStateSyncKeyData'][_0x8471d1(0x2bb)](_0x4dff9e)),_0x336c04[_0x33cf91]=_0x4dff9e;})),_0x336c04;},'set':async _0xc7d34=>{const _0xf9d317=_0x2b11a5;let _0x45855d=[];for(let _0x17c90c in _0xc7d34)for(let _0x5fcee5 in _0xc7d34[_0x17c90c]){let _0x13825d=_0xc7d34[_0x17c90c][_0x5fcee5],_0x2d38bf=_0x17c90c+'-'+_0x5fcee5;_0x45855d[_0xf9d317(0x4b4)](_0x13825d?_0x450997(_0x13825d,_0x2d38bf):_0x5e0a89(_0x2d38bf));}await Promise[_0xf9d317(0x5dd)](_0x45855d);}}},'saveCreds':async()=>_0x450997(_0x24c94d,_0x2b11a5(0x72f))};}var As=O(require(a0_0x4fecf3(0x551))),Is=O(require(a0_0x4fecf3(0x755))),_t=require(a0_0x4fecf3(0x715)),Er=require(a0_0x4fecf3(0x625)),Dt=require(a0_0x4fecf3(0x715)),xt;function Mi(_0x5ec7c2){const _0x3b64f6=a0_0x4fecf3;return xt||(xt=(0x0,Er[_0x3b64f6(0x517)])({'url':_0x5ec7c2[_0x3b64f6(0x275)]}),xt[_0x3b64f6(0x193)]()),xt;}var ne=class c{constructor(_0xdb31b0,_0x4740d9){const _0x43ce95=a0_0x4fecf3;this[_0x43ce95(0x3bd)]=_0xdb31b0,this[_0x43ce95(0x1e0)]=_0x4740d9,this[_0x43ce95(0x732)]=new v(c['name']),this['client']=Mi(_0xdb31b0);}set['reference'](_0x4866c3){const _0x2bce52=a0_0x4fecf3;this[_0x2bce52(0x1e0)]=_0x4866c3;}async[a0_0x4fecf3(0x1a1)](){const _0x7e4ec7=a0_0x4fecf3;try{return await this[_0x7e4ec7(0x43e)][_0x7e4ec7(0x3db)]([_0x7e4ec7(0x3bf),this[_0x7e4ec7(0x3bd)][_0x7e4ec7(0x35b)]+':*']);}catch(_0xac5c27){this[_0x7e4ec7(0x732)][_0x7e4ec7(0x2cb)](_0xac5c27);}}async[a0_0x4fecf3(0x537)](_0x1db3a4,_0x2f2e20){const _0x1deda7=a0_0x4fecf3;try{let _0x52ffdd=JSON[_0x1deda7(0x155)](_0x2f2e20,Dt['BufferJSON'][_0x1deda7(0x61e)]);return await this[_0x1deda7(0x43e)][_0x1deda7(0x3b2)](this['redisEnv'][_0x1deda7(0x35b)]+':'+this[_0x1deda7(0x1e0)],_0x1db3a4,_0x52ffdd);}catch(_0x4cad9e){this['logger'][_0x1deda7(0x2cb)](_0x4cad9e);}}async[a0_0x4fecf3(0x411)](){const _0x5be014=a0_0x4fecf3;try{let _0x5b21b3=await this[_0x5be014(0x43e)]['hGetAll'](this[_0x5be014(0x3bd)][_0x5be014(0x35b)]+':'+this[_0x5be014(0x1e0)]);if(_0x5b21b3){for(let _0x466994 in _0x5b21b3)Object[_0x5be014(0x1b9)][_0x5be014(0x3cb)][_0x5be014(0x211)](_0x5b21b3,_0x466994)&&(_0x5b21b3[_0x466994]=JSON[_0x5be014(0x164)](_0x5b21b3[_0x466994],Dt[_0x5be014(0x445)]['reviver']));return _0x5b21b3;}}catch(_0x2d9c79){this[_0x5be014(0x732)][_0x5be014(0x2cb)](_0x2d9c79);}}async[a0_0x4fecf3(0x437)](_0x393519){const _0x55bf2c=a0_0x4fecf3;try{let _0x1ea5ca=await this[_0x55bf2c(0x43e)][_0x55bf2c(0x3ee)](this[_0x55bf2c(0x3bd)][_0x55bf2c(0x35b)]+':'+this[_0x55bf2c(0x1e0)],_0x393519);if(_0x1ea5ca)return JSON[_0x55bf2c(0x164)](_0x1ea5ca,Dt['BufferJSON']['reviver']);}catch(_0x1faf9c){this['logger']['error'](_0x1faf9c);}}async[a0_0x4fecf3(0x466)](_0x422db4){const _0x4991f5=a0_0x4fecf3;try{return await this['client'][_0x4991f5(0x3fd)](this[_0x4991f5(0x3bd)][_0x4991f5(0x35b)]+':'+this[_0x4991f5(0x1e0)],_0x422db4);}catch(_0x1bf8de){this['logger']['error'](_0x1bf8de);}}async[a0_0x4fecf3(0x5a9)](_0xe396ac){const _0x4859ca=a0_0x4fecf3;try{return await this[_0x4859ca(0x43e)][_0x4859ca(0x31c)](_0xe396ac||this[_0x4859ca(0x3bd)][_0x4859ca(0x35b)]+':'+this[_0x4859ca(0x1e0)]);}catch(_0x3bbbfa){this['logger'][_0x4859ca(0x2cb)](_0x3bbbfa);}}};async function Rs(_0x4a2d16,_0x1281f6){const _0x57f815=a0_0x4fecf3;let _0x55c4e2=new v(Rs['name']),_0x2af6c4=new ne(_0x4a2d16,_0x1281f6),_0x3a57e5=async(_0x133a81,_0x20afbf)=>{const _0x4cfa69=a0_0x5137;try{return await _0x2af6c4['writeData'](_0x20afbf,_0x133a81);}catch(_0x250f29){return _0x55c4e2[_0x4cfa69(0x2cb)]({'localError':_0x4cfa69(0x537),'error':_0x250f29});}},_0x5035e0=async _0x466c99=>{const _0x14c99c=a0_0x5137;try{return await _0x2af6c4['readData'](_0x466c99);}catch(_0x10f78a){_0x55c4e2[_0x14c99c(0x2cb)]({'readData':_0x14c99c(0x537),'error':_0x10f78a});return;}},_0x5dc989=async _0x225d13=>{const _0x2d2bc3=a0_0x5137;try{return await _0x2af6c4['removeData'](_0x225d13);}catch(_0x570d50){_0x55c4e2['error']({'readData':_0x2d2bc3(0x466),'error':_0x570d50});}},_0x2dfc43=await _0x5035e0('creds')||(0x0,_t[_0x57f815(0x18b)])();return{'state':{'creds':_0x2dfc43,'keys':{'get':async(_0x4d14dd,_0xbf7445)=>{const _0x480a9f=_0x57f815;let _0x215da6={};return await Promise[_0x480a9f(0x5dd)](_0xbf7445[_0x480a9f(0x428)](async _0x26f94e=>{const _0x4b3a3a=_0x480a9f;let _0x5d17d0=await _0x5035e0(_0x4d14dd+'-'+_0x26f94e);_0x4d14dd===_0x4b3a3a(0x410)&&_0x5d17d0&&(_0x5d17d0=_t[_0x4b3a3a(0x20f)][_0x4b3a3a(0x249)]['AppStateSyncKeyData']['fromObject'](_0x5d17d0)),_0x215da6[_0x26f94e]=_0x5d17d0;})),_0x215da6;},'set':async _0x3d854c=>{const _0x43394c=_0x57f815;let _0x42efb5=[];for(let _0x3a0ad5 in _0x3d854c)for(let _0x432d71 in _0x3d854c[_0x3a0ad5]){let _0x2254e4=_0x3d854c[_0x3a0ad5][_0x432d71],_0x27994f=_0x3a0ad5+'-'+_0x432d71;_0x42efb5[_0x43394c(0x4b4)](_0x2254e4?await _0x3a57e5(_0x2254e4,_0x27994f):await _0x5dc989(_0x27994f));}await Promise[_0x43394c(0x5dd)](_0x42efb5);}}},'saveCreds':async()=>await _0x3a57e5(_0x2dfc43,_0x57f815(0x72f))};}var q=O(require('fs')),Re=require(a0_0x4fecf3(0x3df)),Lt=O(require(a0_0x4fecf3(0x2b1))),jt=require(a0_0x4fecf3(0x6ef)),vi=a0_0x4fecf3(0x31b)['trim'](),Pt=vi[a0_0x4fecf3(0x579)]('\x0a')['map'](_0x2cd833=>{const _0x5619b1=a0_0x4fecf3;let _0x20271e=_0x2cd833[_0x5619b1(0x579)](':'),_0x53c2d4={'host':_0x20271e[0x0],'port':_0x20271e[0x1],'protocol':_0x5619b1(0x38b)};return _0x20271e[_0x5619b1(0x7da)]===0x4&&(_0x53c2d4[_0x5619b1(0x3c1)]=_0x20271e[0x2],_0x53c2d4[_0x5619b1(0x4af)]=_0x20271e[0x3]),_0x53c2d4;});function Mr(_0x2feafb){const _0x22cdee=a0_0x4fecf3;return Pt['find'](_0x3443ab=>_0x3443ab[_0x22cdee(0x589)]===_0x2feafb)||null;}function vr(){const _0x4e6b2c=a0_0x4fecf3;if(Pt[_0x4e6b2c(0x7da)]===0x0)return null;let _0x25ce64=Math[_0x4e6b2c(0x63d)](Math[_0x4e6b2c(0x5fe)]()*Pt[_0x4e6b2c(0x7da)]);return Pt[_0x25ce64];}function Ts(_0x9cd190){const _0x2c5296=a0_0x4fecf3;let _0x212d1a=_0x2aeec4=>typeof _0x2aeec4==_0x2c5296(0x78b)&&_0x2aeec4[_0x2c5296(0x7da)]>0x0,_0x96944c=_0x463821=>{let _0x126ddb=parseInt(_0x463821,0xa);return!isNaN(_0x126ddb)&&_0x126ddb>0x0&&_0x126ddb<=0xffff;},_0x132f7b=_0x27068c=>typeof _0x27068c=='string'&&_0x27068c['length']>0x0;return _0x9cd190&&_0x212d1a(_0x9cd190[_0x2c5296(0x589)])&&_0x96944c(_0x9cd190[_0x2c5296(0x622)])&&(!_0x9cd190['username']||_0x132f7b(_0x9cd190[_0x2c5296(0x3c1)]))&&(!_0x9cd190[_0x2c5296(0x4af)]||_0x132f7b(_0x9cd190[_0x2c5296(0x4af)]))&&(_0x9cd190[_0x2c5296(0x6fb)]===_0x2c5296(0x38b)||_0x9cd190[_0x2c5296(0x6fb)]===_0x2c5296(0x412));}var xs=require(a0_0x4fecf3(0x1bb)),Ds=a0_0x4fecf3(0x337),xr,ce=null,Nr=null,et=null,Ni=0x3,Ri=null;async function Ti(){const _0xe7f27d=a0_0x4fecf3;let _0x2f4c73=await ye[_0xe7f27d(0x338)]();ce=_0x2f4c73?.[_0xe7f27d(0x4a7)]??null,Ri=_0x2f4c73?.[_0xe7f27d(0x2be)]??null,Ds=_0x2f4c73?.['connectedClient']??_0xe7f27d(0x337),xr=_0x2f4c73?.[_0xe7f27d(0x64e)]??_s??_0xe7f27d(0x354),console[_0xe7f27d(0x635)](_0xe7f27d(0x2e5)),console['log'](_0x2f4c73);}async function Oi(){await Ti();}Oi();function a0_0x19f3(){const _0x1354ef=['getDevice','Error\x20change\x20group\x20setting','/events','DisconnectReason','):\x20Query\x20params:\x20','webhookService','Certbot:\x20','):\x20Enviando\x20áudio','Message\x20not\x20found','addChatLabel','\x1b[36m%s\x1b[0m','request\x20received\x20in\x20fetchConversation','GUARD','node-cache','editedMessage','groupGetInviteInfo','quotedMessage','description','connection.update','audio/ogg','view\x20engine','label_jid','admin','\x20}\x0a','lowerCase','\x1b[30m%s\x1b[0m','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','stickerMessage','error\x20get\x20vote','request\x20received\x20in\x20updateAgent','Erro\x20ao\x20buscar\x20conversas:\x20','downloads','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','verbose','put','Failed\x20to\x20find\x20chat\x20','createConversationforgoToFlow','./.git/config','PASSWORD','editChat','AutomateSystem\x20não\x20foi\x20inicializado',']\x20(','editFlowCondition','flowPrefixCommand','Content\x20is\x20required','isInteger','isJidUser','agents','Instance\x20restarted','views','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','groups','jsonschema','interval\x20não\x20é\x20um\x20número','getFlowModelForOwner','hex','):\x20teve\x20mudanças\x20chat.displayName:\x20','Cannot\x20','getMIMEType','fetchPrivacySettings','capitalizedWords','Connection\x20closed\x20for\x20instance:\x20','reactionMessage','SUCCESS','saveConversationToDatabase','optionName','@newsletter','string','Sistema\x20atualizado\x20com\x20sucesso!','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','cacheContact','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','pre','isLong','request_method','mkdirSync','greater','use','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','truncatedtoEnd','DATABASE_CONNECTION_HOST','messages','Error\x20fetching\x20and\x20updating\x20profile:\x20','https://uazapi-plugin.bubbleapps.io/?url=','request\x20received\x20in\x20starFlow','deleteDoneMessages','execSync','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Database\x20is\x20not\x20enabled','findConversation','express-async-errors','sendLocation','groupRevokeInvite','updateOnlinePrivacy','sendWhatsAppAudio','CREDENTIALS','findAndReplaceRegex','audio/ogg;\x20codecs=opus','request\x20received\x20in\x20deleteFlow','ButtonsMessage','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','Desconectado,\x20parando\x20execução.','notMatchRegex','?authSource=admin&readPreference=primary&directConnection=true','updateOneById','binary','Erro\x20inesperado\x20em\x20processvaredits:\x20','prepareMediaMessage','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','contextInfo','editOperator','MAX_RECONNECT_ATTEMPTS','deletedCount','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','removeInstance','_Contacts','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString',',\x20fará\x20nova\x20verificação\x20em\x20','scheduleSendAudio','API\x20Key\x20inválida.','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','updateMissingEtiquetas','arraybuffer','):\x20Enviando\x20contato','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','SERVER_OFFLINE','cleanStore','leadInfo','output','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','}}\x20->\x20\x22','collection','generateHash','CONTACTS_SET','media','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','Image\x20is\x20base64','memberAddMode','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','ORG:',':\x20Erro\x20durante\x20loadproxy\x20-\x20','\x20não\x20encontrado\x20para\x20cópia','/:instanceName','messageId','sendContact','length','text/event-stream','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','method','subjectOwner','class-validator','dayjs','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','when','STORE_MESSAGE','getPrototypeOf','--standalone','stopMinutes','replaceVariablesChat','path','Processing\x20audio','\x22\x20not\x20found','Rótulo\x20atualizado:','updateReplyOption','DATABASE_CONNECTION_USER','getProfileName','fetchContacts','loggedOut','requestFile','flush','sendMenu','END:VCARD','from','updatePrivacySettings','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','creation','_Chats','max','pollCreationMessageV2','\x20removido\x20do\x20chat\x20','keep-alive','archive','Fluxo\x20não\x20encontrado','*\x0a\x0a','expiration','ScheduleMessageModel','request_time','name','getMessage','quoted','scheduled','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','save','):\x20Enviando\x20mídia','trim','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','generateWAMessageFromContent','variablesToObject','/wa-qrcode','axios','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','?timestamp=','header','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Content-Type','number','events','fetchProfilePicture','https://api.ipify.org?format=json','leadInfo.','audio','URL','ignoreGroups','none','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','ConversationModel','public','defineAuthState','updateMany','fetchBusinessProfile','condition','stringify','AUTHENTICATION_API_KEY','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','data:\x20','format','content-type','getScheduleMessage','state','toBrazilianNumberFormat','unlinkSync','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','^\x5cd+','Label\x20','CHATS_DELETE','variables','parse','Valor\x20inicial:\x20\x22','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','formatVCard','silent','.wav','scheduleSendText','throwAndLogError','delaySecMax','):\x20Entrou\x20na\x20função\x20goToFlow','updateMissingLabels','Archiving\x20chat','success','getTicketSystem',',\x20valor\x20a\x20encontrar:\x20\x22','cacheContactModel','code','dark','):\x20Error\x20processing\x20conditions:\x20','allflows','groups.upsert','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','chats.update','SSL_CONF_FULLCHAIN','tags','):\x20teve\x20mudanças\x20chat.name:\x20','saveChatVariables','emit','groupRequestParticipantsList','groupBetterSetting','):\x20Enviando\x20enquete','remoteJidsRemaining','everyOne','create','remote\x20\x22origin\x22','CHATS_UPSERT','demote','initAuthCreds','authService','All_Instances_Config','redis://127.0.0.1:6379','privacySettings','):\x20Bloco\x20original\x20para\x20cópia:\x20','#6f7bcf','shift','connect','14730960Rwivam','makeCacheableSignalKeyStore','lastInteraction','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','ms\x20(Attempt\x20','result','DATABASE','):\x20Iniciando\x20bot...','\x20ao\x20chat\x20','):\x20Bloco\x20copiado:\x20','):\x20conversation.waitingMenu_name','stderr','WA\x20MODULE','instanceKeys','.\x20Pulando.','Audio\x20processed','off','E-mail:\x20','request\x20received\x20in\x20editFlowgroup','Erro\x20ao\x20buscar\x20conversa:\x20','Esse\x20fluxo\x20expirou','delayChatLabel','editFlowGroup','readFile','findGroups','/wa-contacts','toBRL','subdomain','\x1b[33m\x1b[1m','DOCKER_ENV','notEmpty','write','50mb','labels.edit','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','Número:\x20','prototype','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','crypto','):\x20Comando\x20desconhecido:\x20','\x1b[42m','\x0a{\x20instance:\x20','type','delete','ChatModel','HttpsProxyAgent','cache','deleteMessageForEveryone','Erro\x20ao\x20editar\x20a\x20conversa:\x20','atendimentoAberto','Variável\x20não\x20encontrada!','STATUS_INSTANCE','indexOf','):\x20conversation.lastInteraction:\x20','delaySecMin','\x20chats\x20de\x20','LOG_COLOR','ex:\x20\x22groupJid=120362@g.us\x22','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','contains','http://ipecho.net/plain','createConversationforStartFlow','toNumber','unreadcount','readMessageBot','):\x20Criando\x20fluxo\x20compartilhado...','presence.update','ephemeralMessage','scheduleSendMedia','src','Forbidden','chats.delete','Atualização:\x20','https://uazapi-plugin.bubbleapps.io/','_p_','instanceName','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','loadWebhook','WARN','fileUrl','API\x20Key\x20from\x20Request:','Module\x20-\x20ON','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','out','createFlow','USER','licenca','ScheduleMessage','done','pollOnReplyDelete','uazapiSendMenu','instanceName\x20not\x20provided.','status@broadcast','#01d0e2','blockId','.fileUrl','updateGParticipate','Database\x20connection\x20closed.','rm\x20-rf\x20','whatsappNumbers','sendDataWebhook','GROUPS_UPDATE','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','validate','deleteBlock','sections','contactname','find','OrAnd','editFlowVaredit','-whatsapp-api','chat','CORS_ORIGIN','includes','Erro\x20ao\x20sincronizar\x20fluxos:\x20','dbClient','response','apikey','presenceSubscribe','Contacts\x20not\x20found','HeaderType','proto','statusCode','call','):\x20Falha\x20ao\x20deletar\x20mensagem.','createGroup','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','\x20de\x20conectar\x20com\x20IP\x20extra.','groupadd','debug','.pdf','sendPresenceUpdate','MessageModel','closed','phoneNumber','Last\x20message\x20not\x20found','profile','markMessageAsRead','setUpdate','\x1b[31m%s\x1b[0m','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','getScheduleMessageModelForOwner','findGroups2','CONNECTION_UPDATE','GROUPS_UPSERT','/wa-chats','SEND_MESSAGE','findParticipants','pairingCode','stopped','flow','getConversationModelForOwner','chatId','editflowreply','webp','Error\x20updating\x20participants','DD/MM\x20HH:mm:ss','\x1b[44m','connecting','fromMe','findWebhook','editflowgroup','):\x20Conversa\x20atualizada\x20em\x20memória','#ffc5c7','Instância\x20não\x20encontrada.','):\x20tem\x20blocks','Trying\x20to\x20get\x20business\x20profile','array','exit','flowConfig','):\x20delete\x20=\x20true','groupSetting','):\x20Procurando\x20conversa','HH:mm:ss','contacts.update','/clients-info','chats','/instance','fullName','Message','startsWith','Group\x20not\x20found','imported','participants','dbSettings','listResponseMessage','child_process','\x1b[46m','stdout','automateSystem','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','env.KEY\x20!==\x20key','request\x20received\x20in\x20getFlow','copy','\x20minutos\x20verificará\x20novas\x20mensagens','stateConnection','):\x20Entrou\x20na\x20função\x20stop','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','bodyStringErrorParse','sendStatus','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','sendReaction','normalizeMessage','synchronizeFlows','request\x20received\x20in\x20deleteDoneMessages','):\x20Ignoring\x20group\x20messages.','_Flows','/wa-presence','list','getMinutes','dbServer','authorization','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','waitingMenu_text','Error\x20update\x20group\x20picture','sendList','admin_add','deleteAll','createNewConversation','editFlowReply','normalizeMessageContent','jsonwebtoken','URI','storePath','beautifyWithPlaceholders','getContactModelForOwner','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','readreceipts','Invalid\x20format','LOG_LEVEL','ERROR','$set','\x20after\x20','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','Missing\x20global\x20api\x20key','key','replaceValue','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','matchRegex','getAutomateSystem','isRunning','values','segundos','chatLog','isBusiness','picture','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','.url','fetchChats','close','Erro\x20ao\x20deletar\x20chat:','removed','mongoose','isConnected','Not\x20is\x20business\x20profile','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','://','scheduleMessage','StartBot','The\x20','\x20attempts.','groupDesc','ObjectId','requestPairingCode','replaceVariablesLogs','copyBlock','groupId','Conexão\x20estabelecida','imagechat','Erro\x20ao\x20aplicar\x20varedit:\x20','gifPlayback','AUTHENTICATION','messageContextInfo','KEY','flowIgnoreGroups','CONNECTION','pollErrorMessage','item','desc','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','sharp','lastSendMessage','Erro\x20ao\x20editar\x20o\x20chat:\x20','/wa-all-message','recording','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','bodyString','waMonitor','VERBOSE','buttonId','fromObject','Conversa\x20deletada\x20com\x20sucesso.','Internal\x20Server\x20Error','DaysToDelete','.png','query','jwt','toString','CHATS_UPDATE','\x20foi\x20interrompido\x20pelo\x20usuário.','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','#83e421','documentWithCaptionMessage','Variáveis\x20não\x20encontradas:','archiveChat','action','error','varedit','menuIgnoreNonVotes','getRandomText','chatModify','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','METHODS','groupLeave','updateGroupsAddPrivacy','limit','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','leaveGroup','\x1b[34m','):\x20Enviando\x20texto','TYPE','caption','https://api.elevenlabs.io/v1/text-to-speech/','Error\x20updating\x20setting','copyDataToNewModel','last_update','rows','listen','findManyByIds','Background\x20color\x20is\x20required','InstancesAlterarTodas','\x1b[1m\x1b[37m','CONFIGURAÇÃO\x20GERAL:','groupUpdateDescription','command','pictureUrl','flowStopMinutes','http://myexternalip.com/raw','setting','role','Instance\x20\x22','Cached\x20audio\x20found,\x20returning\x20existing\x20file','prefixCommand','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','waitingMenu_replyOptions','connectionClosed','env.yml','findById','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','\x20minutos','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20enviado\x20para\x20[','120EsyTwT','Telefone:\x20','ListType','createInstance','valid','mentioned','webhookMap','Error\x20updating\x20profile\x20status','restrict','updateAgent','cleaningUp','process','Image\x20path:\x20','Erro\x20ao\x20copiar\x20dados:','textMessage','processPollUpdateMessage','Revoke\x20error','saveVariable','error_log','DATABASE_CONNECTION_URI','closeExistingConversations','SSL_CONF_PRIVKEY','promote','has','modifiedCount','FULLCHAIN','LOG','address','contactMessage','endSession','allContacts','Mac\x20OS','editflow','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','del','Failed\x20to\x20update\x20contact\x20profile\x20picture','STORE_CHATS','delayChatLabel_RETRY_DELAY_MS','Selecione','RemoveChatLabel','mediatype','saveMediaToFile','leadInfo.desativadoFluxoAte','/media','content','authentication','#fed428','ListMessage','):\x20Editando\x20replyOption...','add','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','DELETED','_activatedCount','2435226kLfPIO','addBlock','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','Image\x20created','createRegularFlow','Safari','findOne','choices','authState','processvaredits',',\x20resultado:\x20','joinGroup','request\x20received\x20in\x20getConversation','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','Erro\x20ao\x20atualizar\x20o\x20fluxo:','\x20-\x20retornado:\x20','):\x20Editando\x20bloco...','.jpg','groupJoinApprovalMode','pollCreationMessageKey','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','):\x20Erro\x20ao\x20buscar\x20conversas\x20','readMessage','\x1b[1m','toLowerCase','findChats','nextBlock:','body','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.',',\x20Minutes\x20to\x20Close:\x20','isJidBroadcast','ReplyOption\x20com\x20ID\x20','updateBlock','replyOption','uazapi','cpf','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','MESSAGES_UPSERT','Type\x20not\x20found','):\x20customFieldVariables','getLastMessage','PREFIX_KEY','repository','updatePresence','\x20do\x20chat\x20','\x22\x20-\x20NOT\x20CONNECTION','localWebhook','):\x20transformedCustomFieldVariables','pollCreationMessageV3','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','/wa-connection-update','shutdown\x20-r\x20now','reviver','):\x20Flow\x20desativado','option','groups_ignore','Falta\x20informação\x20para\x20a\x20chamada\x20API','audioWhatsapp','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','menuExpiredMessage','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','instance.','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','ERROR:\x20','toDataURL','sendButtons','sort','Error\x20updating\x20cache\x20contact:','substring','delay','getOwnPropertyDescriptor',',\x20Resultado:\x20','messageTimestamp','displayName','getFlow','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','paused','getChatModelForOwner','endsWith','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','restartInstance','getContentType','text','sha256','join','\x22\x20cannot\x20be\x20empty','repeat','\x22reaction\x22\x20must\x20be\x20an\x20emoji','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','http','js-yaml','setNewValue','convertToWebP','cwd','apirequest',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','mediaKey','/message','replaceVariables','status','Enter\x20a\x20value\x20in\x20milliseconds','buffer','$dbName','Erro\x20ao\x20editar\x20o\x20bloco:\x20','https://','.webm','):\x20Deletando\x20conversa...','request\x20body:\x20','editFlowBlock','Fluxos\x20não\x20estão\x20ativados','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','listType','):\x20Buscando\x20conversas...','numbers','Erro\x20ao\x20editar\x20agentes:\x20','NextBlock','):\x20[messages.update]\x20group\x20ignored','pollCreationMessage','deleted','buttonText','$pull','\x20e\x20ID=','deleteInstance','enabled','findMessages','READ','express','updateCustomFields','hSet','writeFile','statusJidList','processApiRequest','presence','createConnection','enumerable','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','isCommunity','flowConversation','senderKeyDistributionMessage','redisEnv','Erro\x20ao\x20remover\x20instâncias\x20antigas:','keys','lastCondition','username','connectionStatus','linkPreview','router','):\x20alterando\x20this.AutomateSystem','ENABLED','flattenObject','\x0aitem','user','importChatsAntigo','hasOwnProperty','default','SERVER','NO_IP','findFlow','title','SINGLE_SELECT','#ffae04','Erro\x20ao\x20deletar\x20mensagens:','editConversation','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Erro:','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','processgoToFlow','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','sendCommand','organization','startFlow','envProcess','uuid','Read\x20messages\x20fail','fileName','padStart','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','no.connection','test','):\x20Conversa\x20inserida\x20com\x20sucesso.','dropCollection','API_KEY','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','DATABASE_CONNECTION_DB_PREFIX_NAME','imageMessage','Error\x20in\x20chatModify\x20for\x20number\x20','video-cover.png','hGet','charAt','sendMedia','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','.jwt','CONTACTS_UPSERT','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','1064286rHhXPZ','CacheContacts\x20database\x20connection\x20closed.','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','prepareWAMessageMedia','instance','\x20-i\x20','remove.instance','deleteMessage','hDel','uazapiSendMedia','#56ccb4','webhookModel','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','https://chat.whatsapp.com/','):\x20Limpando\x20delayMessage','.\x20Aguardando\x20antes\x20de\x20reconectar...','stopConversation','augusto.fcs@gmail.com','poll','redis','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Error\x20creating\x20group','):\x20Buscando\x20conversa...','updateProfileName','deleteChat','label','DATABASE_CONNECTION_PASSWORD','app-state-sync-key','getAllData','https','open','cachedContact','not_announcement','request\x20received\x20in\x20editFlowvariable','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','FlowRouter','\x1b[37m','updateFlowConfig','vcard','/instance/connectionState','notContains','goToFlow','awaitingApproval','\x20->\x20CONFIRMADO.','\x20com\x20sucesso.','waitingMenu_ExpiredMessage','function','Erro\x20ao\x20atualizar\x20conversa:\x20','size','reconnectTimestamps','drop','map','findGroupInfos','):\x20Conversa\x20está\x20expirada\x20-\x20voto','CONTACTS_UPDATE','insertCount','flowStopConversation','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Not\x20Found','changeVariables','Not\x20allowed\x20by\x20CORS','/config','loadEnv','Falha\x20após\x20várias\x20tentativas.','msgRetryCounterCache','request\x20received\x20in\x20allFlows','readData','secondValue','updateProfileStatus','Erro\x20ao\x20importar\x20chats:','updateMissingTags','jid','abs','client','$addToSet','SECRET','data','exports','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Converted\x20image\x20deleted','BufferJSON','getConversation','AddChatLabel','width','equal','removeProfilePicture','composing','getClient','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','messageHandle','newValue','send','goNextblock','\x20\x1b[0m','SERVER_URL','@broadcast','editFlow','\x20minutos...','shareOwners','toggleEphemeral','sending','whatsappNumber','pollUpdateMessage','utf-8','fetchConversation','verifiedName','):\x20[messages.upsert]\x20group\x20ignored','instanceInfo','insert','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','delayMessage','ip:\x20','removeData','trimmed','Error\x20writing\x20file:\x20','upsertedCount','updateMessage','integer','/instance/fetchInstances','apiName','variable','get','routerPath','etiquetas','8UmlrsE','uazapiSendContact','removeOlderDisconnectedInstances','padEnd','instancias:\x20','Cache-Control','Parsed\x20data:','base64','profilePictureUrl','post','\x1b[43m','readMessages','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','Error\x20updating\x20profile\x20name','owner','userDevicesCache','Error\x20parsing\x20JSON:','sign','sticker','\x1b[41m','request\x20received\x20in\x20editFlow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','creds.json','REDIS','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','remoteJid','findLabels','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','model','FlowModel','available','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','\x1b[36m','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','.type','onWhatsApp','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','https://api.openai.com/v1/images/generations','remove','joinGroupValidate','fileLength','\x1b[31m','Types','replaceOne','badSession','\x20inseridas\x20no\x20banco\x20de\x20dados...','last','beforeExit','block','preview','sendMessageWithTyping','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','fetchInstances','WebhookGlobal','Connection','):\x20Buscando\x20todos\x20os\x20fluxos...','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','pino','redirect','exists','getTime','password','No\x20participants','findIndex','archived','):\x20Mensagem\x20já\x20enviada\x20para\x20','push','Bloco\x20com\x20ID\x20','):\x20Erro\x20durante\x20a\x20atualização:\x20','AUTHENTICATION_TYPE','QRCODE_UPDATED','eventEmitter','findByIdAndUpdate','):\x20Buscando\x20flow...','notas','activatedCount','minutesToClose','qrcode','):\x20Não\x20achou\x20nenhum\x20flow','groupFetchAllParticipating',',\x20qrcodeCount:\x20','findOneAndUpdate','findContacts','):\x20Conversa\x20está\x20expirada','env','DEBUG','enviado\x20para','instances','.svg','request\x20received\x20in\x20editConversation','File\x20written\x20to\x20path:\x20',',\x20pairCode:\x20','):\x20Enviando\x20localização','options','listMessage','_id','loadproxy','blockLogs','sendMessage','replaceVariablesInObject','\x20chats\x20foram\x20atualizados.','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','subject','load','PRIVKEY','Button\x20IDs\x20cannot\x20be\x20repeated.','subjectTime','uncaughtException','authModel','/wa-message-update','menuMessage','Rótulo\x20deletado:','\x1b[37m%s\x1b[0m','responsavelid','<subdomain>','toFile','#d3a91f','):\x20Ler\x20mensagem','_Labels','set','):\x20expirationTime:\x20','url','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','):\x20nextBlock.uazapi.name','GROUP_PARTICIPANTS_UPDATE','entries','delayChatLabel_MAX_RETRIES','Instance\x20deleted','LICENSE_INVALID','video','updateChatWithMessage','contentText','audioMessage','updateConversation','maxActives','):\x20Entrou\x20na\x20função\x20saveReply','font',',\x20lastCondition:\x20','#000000','stopWhenYouSendMsg','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','eventHandler','variablesNotFound','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','groupName','Primeiro\x20Valor:\x20','chats.upsert','fetchMessages','restart','Bad\x20Request','DARK','):\x20Usando\x20extensão\x20padrão:\x20','request\x20received\x20in\x20deleteConversation','inner','unlocked','readdirSync','convertedOptions','selectableCount','Image\x20converted\x20to\x20WebP','PENDING','.gif','):\x20this.processing_id:\x20','Business\x20profile\x20fetched','refused','backgroundColor','createClient','1911418AWIfAd','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','InstancesAsDisconnectedX','findAndUpdateCacheContact','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','messageStubType','mimetype','Read\x20messages','EXPIRIN_IN','groupParticipantsUpdate','sendPoll','GET','Router','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','):\x20Deletando\x20fluxo...','\x20horas\x20e\x20','.txt','Getting\x20image\x20from\x20url','timeout','utf8','getVariablesChat','value','processUazapi','context','updateOne','lean','createSharedFlow','createServer','some','Nenhum\x20chat\x20encontrado\x20para\x20editar.',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','writeData','messageType','SERVER_PORT','http://icanhazip.com/','DB_PREFIX_NAME','formatStatusMessage','groupSettingUpdate','static','isJWT','):\x20Going\x20to\x20','selectedOptions','/exit','image','connectionUpdate','#f64847','Operador:\x20\x22','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','updateAll','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','Rótulo\x20inválido\x20ou\x20sem\x20ID.','/instance/connect','and','.uazapi.dev','createflow','long','group-participants.update','Error\x20occurred\x20while\x20archiving\x20chat:\x20','#64c4ff','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','fetchProfilePictureUrl','Converting\x20image\x20to\x20WebP\x20to\x20sticker','https://jsonip.com','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','testProxy','findOrCreate','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','qrCode','#9568cf','updateMediaMessage','truncatedto','uazapiSendText','editFlowVariable','PLAYED','CLEANING_INTERVAL','labels.association','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','firstValue','):\x20Procurando\x20mensagens\x20para\x20envio','findAndReplace','wuid','setRestartTimeout','toUpperCase','applyvaredit','Deleted\x20','updateStopChat','Flow\x20não\x20encontrado','Mensagem\x20não\x20suportada','/media/','pt-BR','updateGParticipant','JWT','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','groupUpdateSubject','split','waitingForReplyMenu','buttonMessage','exec','):\x20Erro\x20ao\x20processar\x20o\x20grupo\x20','updateLastSeenPrivacy','saveTextReply','Mensagens\x20deletadas\x20com\x20sucesso.','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Comando\x20desconhecido','.doc','\x22\x20-\x20REMOVED','auth','Hash\x20to\x20image\x20name:\x20','now','DATABASE_ENABLED','host','Image\x20is\x20url','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','created','statusMessage','webhook','\x1b[0m','request\x20received\x20in\x20updateCustomFields','unavailable','start','):\x20Criando\x20fluxo\x20regular...','isListOfNumbers','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','createHash','request\x20received\x20in\x20updateFlowConfig','Erro\x20ao\x20inserir\x20chats:','mediaSticker','local_map','envYaml','INFO','longitude','lastmsg','importChats','newStoppedUntil','#9ba6ff','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','true','node-mime-types','buttons','metadata','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','isBase64','delAll','MESSAGES_UPDATE','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','createAndSave','vote','deleteConversation','sem\x20texto\x20na\x20mensagem','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','8080','customFields','Error\x20while\x20deleting\x20message\x20for\x20everyone','uazapiSendAudio','@s.whatsapp.net','StatusJidList\x20is\x20required','http://checkip.dyndns.org','getOwnPropertyNames','No\x20join\x20group\x20invite\x20code\x20or\x20url','updateProfilePicturePrivacy','realVariables','lastUpdate','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','nome','qrcode.updated','decryptPollVote','231125PJLGdb','assign','messages.update','https://ipinfo.io/json','PORT','evaluateConditionTest','HOST','locked','ini','waInstances','downloadMediaMessage','contact_blacklist','groupMemberAddMode','/group','Error\x20in\x20scheduleNextCheck:\x20','.xls','Error\x20parsing\x20apiRequest.bodyString:','rowId','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Font\x20is\x20required','groupCreate','replyOptions','messages.set','.ogg','application/json','json','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','all','\x20adicionado\x20ao\x20chat\x20','):\x20Error\x20processing\x20the\x20block:\x20','temp-','RECONNECT_TIME_FRAME','COLOR','lastReceivedMessage','Flow\x20iniciado\x20com\x20','profilePicture','\x1b[40m','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','getBase64FromMediaMessage','Error\x20updating\x20privacy\x20settings','order','originalUrl','\x20->\x20NÃO\x20CORRESPONDE.','chatHandle','message_normalized','pushName','editflowblock','statSync','birthtime','#dfaef0','Output\x20path:\x20','\x5c$&','bateu\x20events','messagesSend','Sending\x20audio\x20whatsapp','\x20instance\x20does\x20not\x20exist','addresss','groupAcceptInvite','contacts.upsert','PROXY','random','isArray','unhandledRejection','mediaMessage','extractMessageContent','collections','release','spawn','online','detail','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','latitude','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','#00a1f2','createSectionsFromValues','params','cachedContacts-whatsapp','locationMessage','announce','ContactModel','groupHandler','3rxeVnD','notEqual','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','urlOrBase64','):\x20Editando\x20condição\x20do\x20fluxo...','Reinicialização\x20iniciada:\x20','Erro\x20do\x20Certbot:\x20','participant','Log\x20out\x20instance:\x20','):\x20Flow\x20não\x20encontrado','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','replacer','.docx','LabelModel','moreLogs','port','connectToWhatsappController','loadInstance','@redis/client','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','setHeader','STORE_CLEANING_TERMINAL','convertaudio','empty','groupJid','\x20saindo\x20da\x20função','updateMissingShareOwners','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','joinApprovalMode','Error\x20fetching\x20group','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','Last\x20message\x20not\x20found\x20for\x20number:','setWebhook','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','log','__esModule','match','readFileSync','SERVER_TYPE','sectionsToString','getDelay','Type\x20defined\x20as\x20audio','floor','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','oldToken','stopMinutesMaxActives','/create','conditions','end','\x5cd+','object','sendSticker','checkAndRestartProcess','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','ultimaTentativaRemoteJid','editflowvaredit','messaging-history.set','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','connectedName','Instance\x20ID:','groupMetadata','including\x20timestamp\x20in\x20url:\x20','#92ceac','deleteReplyOption','createJid','processblock','editflowvariable','\x1b[33m','):\x20Limpando\x20AutomateSystem','The\x20property\x20cannot\x20be\x20empty','Error\x20finding\x20many\x20contacts:','groups.update','^\x5cd+[\x5c.@\x5cw-]+','):\x20Editando\x20grupo\x20do\x20fluxo...','No\x20invite\x20code','.mimetype','unreadCount','contact','Erro\x20ao\x20atualizar\x20AutomateSystem:','errors','dbInstance','):\x20Editando\x20variável\x20do\x20fluxo...','../env.yml','\x20não\x20encontrado\x20para\x20atualização.','scheduleNextCheck','Authentication\x20error','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','deleteFlow','reorderBlocks','updateGroupPicture','):\x20Query\x20params:','!cmd_','This\x20name\x20','Logger','desativadoFluxoAte','):\x20Campos\x20a\x20serem\x20atualizados:','):\x20não\x20encontrou','.webp','):\x20Bloco\x20com\x20ID\x20','AUTHENTICATION_JWT_EXPIRIN_IN','/wa-message','encoding','waUploadToServer','flowName','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','EMAIL:','fone','CHATS_SET','\x1b[34m%s\x1b[0m','Erro\x20ao\x20iniciar\x20fluxo:\x20','request\x20received\x20in\x20scheduleMessage','SSL_CONF','writeFileSync','http://ifconfig.me/ip','evaluateCondition','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','insertMany','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','processConditions','#ff9484','isURL','sharePass','/events/:instance','):\x20atualização\x20chat:\x20','bulkWrite','):\x20conversation.status:\x20','groupToggleEphemeral','):\x20Deletando\x20mensagem','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','less','Número\x20não\x20possui\x20WhatsApp.','forEach','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','store','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','Button\x20texts\x20cannot\x20be\x20repeated','existsSync','SERVER_ACK','.extension','info','logout','DELIVERY_ACK','send.message','Erro\x20ao\x20atualizar\x20o\x20flow.','CORS','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','dataValidate','contactHandle','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','#fe9dfe','BRL','blocks','):\x20Alterando\x20fluxo...','lastSend','mentions','Temp\x20image\x20deleted','boolean','/instance/create','next_groupId','editScheduleMessage','reconnectAttempts','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','_ScheduleMessages','lastMessage','#d8e651','filter','formatBRNumber','headerString','uazapiDeleteMessage','/*.json','toLocaleString','inviteCodeDetails','email','lastBlockId','group','uazapiSendLocation','labelId','contacts','Using\x20parsedData:','ids','Tentando\x20reconectar...','message','processing_id','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','):\x20','REDIS_ENABLED','eventemitter2','AutomateSystem','hbs','updateReadReceiptsPrivacy','console','deleteOne','\x20segundos','getHours','folder','certbot','footerText','fetchProfile','apiResponse','waitingMenu_id','upperCase','color','):\x20Visualizando\x20AutomateSystem','pollMessage','Data\x20inválida\x20fornecida','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','saveCreds','processConditionsTest','allFlows','Erro\x20de\x20reinicialização:\x20','MESSAGES_SET','configService','getStatus','9036657GSNsXh','request\x20received\x20in\x20editFlowcondition','replace','.mp3','https://github.com/uazapi/uazapi.git','addReplyOption','https-proxy-agent','PRESENCE_UPDATE','connectionState','verifyWhatsAppNumber','^\x5cd+([-]\x5cd+)*@g.us$','min','revokeInviteCode','#9ab6c1','-instances',':\x20IP\x20funcionando!','FlowController','#b4ebff','protocol','findAll','varedits','conversationTimestamp','stopIfLastReturnedError','Schema','messages.upsert','getLabelModelForOwner','findGroupInfo','slice','The\x20\x22','The\x20global\x20api\x20key\x20must\x20be\x20set','.TEL;waid=','/wa-groups','protocolMessage','useMultiFileAuthState','replaceVariablesInReplyOptions','document','sendText','warn','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','reaction','mongodb://','parseInt','status.instance',':\x20Tentativa\x20','@whiskeysockets/baileys','findGroup','deleteMany','g.us','isJidGroup','getMessageModelForOwner','mongodb','importChatsBatch','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','53695UKJMzf','app','@g.us','expression','groupRequestParticipantsUpdate','connectToWhatsapp','update','reorderReplyOptions','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','):\x20leadInfoVariables','messageSecret',',\x20Comparador:\x20','nomecompleto','conversation','groupInviteCode','updateProfilePicture','createWebhook','creds','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','certonly','logger','inviteCode','Subscribed\x20Events:','notify','bearer',',\x20valor\x20passado:\x20\x22','reject','updateMissingCustomFields','groupValidate','arrayUnique','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','where','count','fetchLabels','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','TEXT','.X-ABLabel:Celular\x0a','setContext','Deletion\x20failed','unknown\x20operation\x20type\x20[','announcement'];a0_0x19f3=function(){return _0x1354ef;};return a0_0x19f3();}var Rr={},ae={},be=class c{constructor(_0x1443ba,_0x1cb2ce,_0x5106f4){const _0x391e0e=a0_0x4fecf3;this[_0x391e0e(0x6e7)]=_0x1443ba,this[_0x391e0e(0x4b9)]=_0x1cb2ce,this[_0x391e0e(0x35c)]=_0x5106f4,this[_0x391e0e(0x6cf)]=null,this[_0x391e0e(0x732)]=new v(c[_0x391e0e(0x804)]),this[_0x391e0e(0x3f9)]={},this[_0x391e0e(0x360)]={},this['stateConnection']={'state':'close'},this[_0x391e0e(0x276)]=(0x0,J['join'])(ie,_0x391e0e(0x767)),this[_0x391e0e(0x435)]=new Is[(_0x391e0e(0x3cc))](),this[_0x391e0e(0x481)]=new Is[(_0x391e0e(0x3cc))](),this[_0x391e0e(0x317)]=!0x1,this[_0x391e0e(0x300)]={'status.instance':_0x391e0e(0x364),'connection.update':_0x391e0e(0x364),'qrcode.updated':_0x391e0e(0x80f),'messages.upsert':_0x391e0e(0x678),'send.message':_0x391e0e(0x678),'messages.update':_0x391e0e(0x4df),'group.upsert':_0x391e0e(0x708),'group.update':'/wa-groups','group-participants.update':_0x391e0e(0x708),'messages.set':_0x391e0e(0x2b4),'contacts.set':_0x391e0e(0x1ad),'contacts.upsert':_0x391e0e(0x1ad),'contacts.update':'/wa-contacts','presence.update':_0x391e0e(0x266),'chats.set':_0x391e0e(0x227),'chats.update':_0x391e0e(0x227),'chats.upsert':'/wa-chats','chats.delete':_0x391e0e(0x227)},this['reconnectAttempts']=0x0,this[_0x391e0e(0x426)]=[],this[_0x391e0e(0x7b7)]=0xa,this[_0x391e0e(0x5e1)]=0xea60,this[_0x391e0e(0x288)]=!0x1,this[_0x391e0e(0x5ed)]={'chats.upsert':async(_0xabce33,_0xfa7d4e)=>{const _0x1adf20=_0x391e0e;let _0x4d06f8=[];for await(let _0x192d00 of _0xabce33)_0x4d06f8[_0x1adf20(0x4b4)]({'_id':_0x192d00['id'],'owner':this[_0x1adf20(0x3f9)]['wuid'],'group':_0x192d00['id'][_0x1adf20(0x380)](_0x1adf20(0x720)),'name':_0x192d00[_0x1adf20(0x804)]||_0x192d00[_0x1adf20(0x37b)]||null,'contactname':null,'lastmsg':_0x192d00[_0x1adf20(0x6fe)]&&_0x192d00[_0x1adf20(0x6fe)]['toString']()[_0x1adf20(0x7da)]<0xd?_0x192d00[_0x1adf20(0x6fe)]*0x3e8:_0x192d00[_0x1adf20(0x6fe)]||null,'archived':_0x192d00['archived']||!0x1,'unreadcount':_0x192d00[_0x1adf20(0x660)]||0x0});this['sendDataWebhook']('chats.upsert',_0x4d06f8);},'chats.update':async(_0x1fe94e,_0x25438b)=>{const _0x47fd5e=_0x391e0e;for(let _0x26d5be of _0x1fe94e){let _0x57be23={'_id':_0x26d5be['id'],'owner':this[_0x47fd5e(0x3f9)][_0x47fd5e(0x56a)],'group':_0x26d5be['id']['endsWith'](_0x47fd5e(0x720)),'name':_0x26d5be[_0x47fd5e(0x804)]||_0x26d5be[_0x47fd5e(0x37b)],'archived':_0x26d5be['archived'],'ephemeralExpiration':_0x26d5be['ephemeralExpiration']},_0x22ee60=!0x1,_0x8ef639={};_0x57be23[_0x47fd5e(0x4b2)]!=null&&(this['logger'][_0x47fd5e(0x769)](this[_0x47fd5e(0x1e0)]+'\x20('+this[_0x47fd5e(0x3f9)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x26d5be[_0x47fd5e(0x4b2)]),_0x22ee60=!0x0,_0x8ef639[_0x47fd5e(0x4b2)]=_0x26d5be[_0x47fd5e(0x4b2)]),_0x26d5be[_0x47fd5e(0x804)]!=null&&(this['logger'][_0x47fd5e(0x769)](this[_0x47fd5e(0x1e0)]+'\x20('+this[_0x47fd5e(0x3f9)][_0x47fd5e(0x56a)]+_0x47fd5e(0x17f)+_0x26d5be[_0x47fd5e(0x804)]),_0x22ee60=!0x0,_0x8ef639[_0x47fd5e(0x804)]=_0x26d5be[_0x47fd5e(0x804)]),_0x26d5be[_0x47fd5e(0x37b)]!=null&&(this[_0x47fd5e(0x732)][_0x47fd5e(0x769)](this[_0x47fd5e(0x1e0)]+'\x20('+this[_0x47fd5e(0x3f9)][_0x47fd5e(0x56a)]+_0x47fd5e(0x780)+_0x26d5be[_0x47fd5e(0x37b)]),_0x22ee60=!0x0,_0x8ef639['name']=_0x26d5be[_0x47fd5e(0x37b)]);let _0x29882f;_0x22ee60&&(_0x29882f=await this[_0x47fd5e(0x35c)][_0x47fd5e(0x205)]['updateOne']({'where':{'_id':_0x26d5be['id']}},_0x8ef639,this[_0x47fd5e(0x3f9)][_0x47fd5e(0x56a)])),_0x29882f&&F(this['instanceName'],_0x47fd5e(0x246),{'chat':_0x29882f});}},'chats.delete':async _0x563166=>{const _0x18db3a=_0x391e0e;for(let _0x88e8b5 of _0x563166)if(_0x88e8b5[_0x18db3a(0x380)](_0x18db3a(0x720))){await this[_0x18db3a(0x35c)][_0x18db3a(0x205)][_0x18db3a(0x1c0)]({'where':{'_id':_0x88e8b5}},this['instance'][_0x18db3a(0x56a)]);let _0x382323={'where':{'key':{'remoteJid':_0x88e8b5}}};await this['repository']['message'][_0x18db3a(0x1c0)](_0x382323,this[_0x18db3a(0x3f9)][_0x18db3a(0x56a)]);}else{await this[_0x18db3a(0x35c)]['chat'][_0x18db3a(0x530)]({'where':{'_id':_0x88e8b5}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x18db3a(0x3f9)][_0x18db3a(0x56a)]);let _0xf63081={'where':{'key':{'remoteJid':_0x88e8b5}}};await this[_0x18db3a(0x35c)]['message'][_0x18db3a(0x1c0)](_0xf63081,this[_0x18db3a(0x3f9)][_0x18db3a(0x56a)]);}this[_0x18db3a(0x1fa)]('chats.delete',[..._0x563166]);}},this[_0x391e0e(0x6a7)]={'contacts.upsert':async(_0x4e3351,_0x40f03b)=>{const _0x33fd11=_0x391e0e;let _0x159d00=await this[_0x33fd11(0x35c)][_0x33fd11(0x661)]['find']({'where':{}},this[_0x33fd11(0x3f9)][_0x33fd11(0x56a)]),_0x4d0394=[];for await(let _0x2639b0 of _0x4e3351)_0x159d00['find'](_0x38b7b8=>_0x38b7b8[_0x33fd11(0x4d1)]===_0x2639b0['id'])||_0x4d0394[_0x33fd11(0x4b4)]({'_id':_0x2639b0['id'],'pushName':_0x2639b0?.['name']||_0x2639b0?.['verifiedName'],'owner':this[_0x33fd11(0x3f9)]['wuid']});this[_0x33fd11(0x1fa)]('contacts.upsert',_0x4d0394),await this[_0x33fd11(0x35c)][_0x33fd11(0x661)][_0x33fd11(0x462)](_0x4d0394);},'contacts.update':async(_0x957ad8,_0x3c6648)=>{const _0x40369d=_0x391e0e;let _0x29e00f=[];for await(let _0x2f8e0b of _0x957ad8)_0x29e00f['push']({'_id':_0x2f8e0b['id'],'pushName':_0x2f8e0b?.[_0x40369d(0x804)]??_0x2f8e0b?.[_0x40369d(0x45f)],'owner':this[_0x40369d(0x3f9)][_0x40369d(0x56a)]});this[_0x40369d(0x1fa)](_0x40369d(0x244),_0x29e00f);}},this[_0x391e0e(0x44f)]={'messaging-history.set':async({messages:_0x45016f,chats:_0x35ecd1,isLatest:_0x3cfe85},_0x1d1680)=>{const _0x2edbd3=_0x391e0e;if(_0x3cfe85){let _0x4a2869=await Promise[_0x2edbd3(0x5dd)](_0x35ecd1[_0x2edbd3(0x428)](async _0x4ceaf3=>({'_id':_0x4ceaf3['id'],'owner':this[_0x2edbd3(0x3f9)][_0x2edbd3(0x56a)],'group':_0x4ceaf3['id'][_0x2edbd3(0x380)](_0x2edbd3(0x720)),'name':_0x4ceaf3[_0x2edbd3(0x804)]||_0x4ceaf3[_0x2edbd3(0x37b)]||null,'contactname':null,'lastmsg':_0x4ceaf3[_0x2edbd3(0x6fe)]&&_0x4ceaf3[_0x2edbd3(0x6fe)][_0x2edbd3(0x2c2)]()[_0x2edbd3(0x7da)]<0xd?_0x4ceaf3[_0x2edbd3(0x6fe)]*0x3e8:_0x4ceaf3[_0x2edbd3(0x6fe)]||null,'archived':_0x4ceaf3[_0x2edbd3(0x4b2)]||!0x1,'unreadcount':_0x4ceaf3[_0x2edbd3(0x660)]||0x0})));this[_0x2edbd3(0x1fa)]('chats.set',_0x4a2869),await this['upsertChats'](_0x4a2869,_0x1d1680);}let _0x1b694c=[],_0x30825b=Date[_0x2edbd3(0x587)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x477bf9]of Object['entries'](_0x45016f)){if(_0x477bf9[_0x2edbd3(0x6c9)]?.[_0x2edbd3(0x709)]||_0x477bf9[_0x2edbd3(0x6c9)]?.[_0x2edbd3(0x3bc)]||!_0x477bf9[_0x2edbd3(0x6c9)]||_0x477bf9[_0x2edbd3(0x283)][_0x2edbd3(0x48b)]==='status@broadcast'||(As[_0x2edbd3(0x3cc)][_0x2edbd3(0x791)](_0x477bf9?.[_0x2edbd3(0x37a)])&&(_0x477bf9[_0x2edbd3(0x37a)]=_0x477bf9[_0x2edbd3(0x37a)]?.[_0x2edbd3(0x1d3)]()),_0x477bf9[_0x2edbd3(0x37a)]&&_0x477bf9[_0x2edbd3(0x37a)][_0x2edbd3(0x2c2)]()[_0x2edbd3(0x7da)]<0xd&&(_0x477bf9[_0x2edbd3(0x37a)]=_0x477bf9[_0x2edbd3(0x37a)]*0x3e8),_0x477bf9[_0x2edbd3(0x37a)]<_0x30825b))continue;let _0x2a0db4=(0x0,m[_0x2edbd3(0x273)])(_0x477bf9[_0x2edbd3(0x6c9)]),_0x2ddaf2=(0x0,m[_0x2edbd3(0x383)])(_0x2a0db4),{message_normalized:_0x14cf8c}=this['normalizeMessage'](_0x2a0db4,_0x2ddaf2,null);Object[_0x2edbd3(0x3bf)](_0x14cf8c)[_0x2edbd3(0x7da)]>0x0&&_0x1b694c[_0x2edbd3(0x4b4)]({'_id':_0x477bf9[_0x2edbd3(0x283)]['id'],'key':_0x477bf9[_0x2edbd3(0x283)],'pushName':_0x477bf9[_0x2edbd3(0x5ef)],'participant':_0x477bf9[_0x2edbd3(0x61a)],'message':_0x2a0db4,'messageType':_0x2ddaf2,'message_normalized':{'key':_0x477bf9[_0x2edbd3(0x283)],'pushName':_0x477bf9[_0x2edbd3(0x5ef)],'messageTimestamp':_0x477bf9[_0x2edbd3(0x37a)],..._0x14cf8c},'messageTimestamp':_0x477bf9[_0x2edbd3(0x37a)],'owner':this['instance']['wuid']});}_0x1d1680['ENABLED']&&_0x1b694c[_0x2edbd3(0x7da)]>0x0&&(this[_0x2edbd3(0x732)][_0x2edbd3(0x769)](this[_0x2edbd3(0x1e0)]+'\x20('+this[_0x2edbd3(0x3f9)][_0x2edbd3(0x56a)]+_0x2edbd3(0x6cc)+_0x1b694c[_0x2edbd3(0x7da)]+'\x20mensagens\x20de\x20'+this['instance'][_0x2edbd3(0x56a)]+_0x2edbd3(0x49f)),await this[_0x2edbd3(0x35c)][_0x2edbd3(0x6c9)]['insert']([..._0x1b694c],this['instance'][_0x2edbd3(0x56a)])),this['sendDataWebhook'](_0x2edbd3(0x5d8),[..._0x1b694c]),_0x45016f=void 0x0;},'messages.upsert':async({messages:_0x89a58b,type:_0x5c67d2},_0x3e8720)=>{const _0x1aacca=_0x391e0e;let _0x3b4269=_0x89a58b[0x0],_0x2808d3=_0x3b4269[_0x1aacca(0x283)]['id'],_0x139fc1=_0x3b4269[_0x1aacca(0x51d)]===0x2,_0x31ede=0xb;if(this[_0x1aacca(0x360)]?.['groups_ignore']&&_0x3b4269[_0x1aacca(0x283)][_0x1aacca(0x48b)][_0x1aacca(0x207)](_0x1aacca(0x720))){this[_0x1aacca(0x732)][_0x1aacca(0x769)](this[_0x1aacca(0x1e0)]+'\x20('+this[_0x1aacca(0x3f9)][_0x1aacca(0x56a)]+_0x1aacca(0x460));return;}if(_0x139fc1){if(ae[_0x2808d3]||(ae[_0x2808d3]=0x0),ae[_0x2808d3]++,this['logger']['error'](this[_0x1aacca(0x1e0)]+'\x20('+this['instance'][_0x1aacca(0x56a)]+'):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x3b4269['key'][_0x1aacca(0x48b)]+_0x1aacca(0x3ab)+_0x2808d3+':\x20'+ae[_0x2808d3]+'/'+_0x31ede),ae[_0x2808d3]>=_0x31ede){this[_0x1aacca(0x732)]['error'](this[_0x1aacca(0x1e0)]+'\x20('+this[_0x1aacca(0x3f9)][_0x1aacca(0x56a)]+'):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x3b4269[_0x1aacca(0x283)][_0x1aacca(0x48b)]+_0x1aacca(0x3ab)+_0x2808d3+'.');let _0x1095dd={'key':{..._0x3b4269[_0x1aacca(0x283)]},'message':{'conversation':'[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22'+_0x2808d3+_0x1aacca(0x5b1)}};this[_0x1aacca(0x43e)]['ev'][_0x1aacca(0x181)]('messages.upsert',{'messages':[_0x1095dd],'type':_0x1aacca(0x735)}),delete ae[_0x2808d3];}}else ae[_0x2808d3]&&(this[_0x1aacca(0x732)][_0x1aacca(0x70e)](_0x1aacca(0x32c)+ae[_0x2808d3]+'\x20tentativas:\x20remotejid='+_0x3b4269[_0x1aacca(0x283)][_0x1aacca(0x48b)]+_0x1aacca(0x3ab)+_0x2808d3),delete ae[_0x2808d3]);if(_0x5c67d2!==_0x1aacca(0x735)||!_0x3b4269?.[_0x1aacca(0x6c9)]||_0x3b4269[_0x1aacca(0x6c9)]?.[_0x1aacca(0x709)]||_0x3b4269[_0x1aacca(0x6c9)][_0x1aacca(0x3bc)]||_0x3b4269[_0x1aacca(0x283)][_0x1aacca(0x48b)]===_0x1aacca(0x1f2))return;let _0x566f0e=null,_0x5140c5=null;try{_0x566f0e=await this[_0x1aacca(0x309)](_0x3b4269),_0x5140c5=_0x566f0e?_0x566f0e[_0x1aacca(0x386)](','):null;}catch(_0x2b6171){this[_0x1aacca(0x732)][_0x1aacca(0x769)](this['instanceName']+'\x20('+this[_0x1aacca(0x3f9)][_0x1aacca(0x56a)]+_0x1aacca(0x6cc)+(_0x2b6171 instanceof Error?_0x2b6171['message']:JSON[_0x1aacca(0x155)](_0x2b6171,null,0x2))),_0x5140c5=_0x1aacca(0x764);}this['client']['sendPresenceUpdate'](_0x1aacca(0x591)),As[_0x1aacca(0x3cc)][_0x1aacca(0x791)](_0x3b4269[_0x1aacca(0x37a)])&&(_0x3b4269[_0x1aacca(0x37a)]=_0x3b4269[_0x1aacca(0x37a)]?.[_0x1aacca(0x1d3)]()),_0x3b4269[_0x1aacca(0x37a)]&&_0x3b4269[_0x1aacca(0x37a)]['toString']()[_0x1aacca(0x7da)]<0xd&&(_0x3b4269[_0x1aacca(0x37a)]=_0x3b4269[_0x1aacca(0x37a)]*0x3e8);let _0x5f1c9c=_0x3b4269[_0x1aacca(0x6c9)],_0x2f3742=(0x0,m[_0x1aacca(0x273)])(_0x5f1c9c),_0x209953=(0x0,m[_0x1aacca(0x383)])(_0x2f3742),{messageContent:_0x5eb1e1,message_normalized:_0x338830}=this['normalizeMessage'](_0x2f3742,_0x209953,_0x5140c5);_0x209953===_0x1aacca(0x709)&&_0x5eb1e1?.[_0x1aacca(0x756)]&&(_0x209953=_0x1aacca(0x756));let _0x5d0126,_0x65e15a=_0x3b4269[_0x1aacca(0x283)][_0x1aacca(0x48b)][_0x1aacca(0x380)]('@g.us');if(_0x3b4269['key']['fromMe'])_0x5d0126=this['instance'][_0x1aacca(0x47a)];else{let _0x244c57=_0x65e15a?_0x3b4269[_0x1aacca(0x283)]['participant']:_0x3b4269[_0x1aacca(0x283)][_0x1aacca(0x48b)];_0x5d0126=(await this['findAndUpdateCacheContact'](_0x244c57,_0x3b4269[_0x1aacca(0x5ef)],!0x1))[_0x1aacca(0x414)][_0x1aacca(0x2e8)];}let _0x10eea8={'_id':_0x3b4269[_0x1aacca(0x283)]['id'],'key':_0x3b4269['key'],'isGroup':_0x65e15a,'profilePictureUrl':_0x5d0126,'pushName':_0x3b4269[_0x1aacca(0x5ef)],'message':_0x2f3742,'messageType':_0x209953,'message_normalized':{'key':_0x3b4269['key'],'pushName':_0x3b4269[_0x1aacca(0x5ef)],'messageTimestamp':_0x3b4269[_0x1aacca(0x37a)],'source':(0x0,m[_0x1aacca(0x748)])(_0x3b4269[_0x1aacca(0x283)]['id']),..._0x338830},'messageTimestamp':_0x3b4269[_0x1aacca(0x37a)],'owner':this[_0x1aacca(0x3f9)][_0x1aacca(0x56a)],'source':(0x0,m[_0x1aacca(0x748)])(_0x3b4269['key']['id'])};_0x5eb1e1||(console['error'](_0x1aacca(0x571)),this[_0x1aacca(0x732)][_0x1aacca(0x2cb)](_0x10eea8)),this[_0x1aacca(0x732)][_0x1aacca(0x635)](this['instanceName']+'\x20('+this[_0x1aacca(0x3f9)]['wuid']+'):\x20'+(_0x10eea8[_0x1aacca(0x283)]?.[_0x1aacca(0x235)]?_0x1aacca(0x4c8):'recebido\x20de')+'\x20['+_0x10eea8[_0x1aacca(0x283)]?.[_0x1aacca(0x48b)][_0x1aacca(0x6eb)](_0x1aacca(0x5b6),'')+_0x1aacca(0x771)+_0x10eea8[_0x1aacca(0x538)]+')'),_0x10eea8[_0x1aacca(0x5ee)]?.['text']&&this[_0x1aacca(0x732)][_0x1aacca(0x635)](_0x2808d3+':\x20'+_0x10eea8[_0x1aacca(0x5ee)]?.[_0x1aacca(0x384)]),await this[_0x1aacca(0x35c)]['message']['insert']([_0x10eea8],this[_0x1aacca(0x3f9)][_0x1aacca(0x56a)]),this[_0x1aacca(0x1fa)](_0x1aacca(0x701),_0x10eea8),F(this['instanceName'],'messages',{'message':_0x10eea8}),_0x3b4269[_0x1aacca(0x283)]['remoteJid']!==_0x1aacca(0x1f2)&&await this[_0x1aacca(0x4f4)](_0x3e8720,_0x10eea8,_0x1aacca(0x357));},'messages.update':async(_0x18599a,_0x412f38)=>{const _0x4abcc7=_0x391e0e;let _0x5a7d5e={0x0:'ERROR',0x1:_0x4abcc7(0x511),0x2:_0x4abcc7(0x69d),0x3:_0x4abcc7(0x6a1),0x4:_0x4abcc7(0x3af),0x5:_0x4abcc7(0x563)};for await(let {key:_0x4a3d94,update:_0xabe6c0}of _0x18599a){if(this[_0x4abcc7(0x360)]?.[_0x4abcc7(0x369)]&&_0x4a3d94['remoteJid'][_0x4abcc7(0x207)](_0x4abcc7(0x720))){this[_0x4abcc7(0x732)][_0x4abcc7(0x769)](this[_0x4abcc7(0x1e0)]+'\x20('+this[_0x4abcc7(0x3f9)][_0x4abcc7(0x56a)]+_0x4abcc7(0x3a6));return;}if(_0x4a3d94[_0x4abcc7(0x48b)]!==_0x4abcc7(0x1f2)){let _0x23e4a6=Date[_0x4abcc7(0x587)](),_0x3554b4;_0xabe6c0[_0x4abcc7(0x6c9)]===null&&_0xabe6c0[_0x4abcc7(0x395)]===void 0x0?_0x3554b4=_0x4abcc7(0x32f):_0x3554b4=_0x5a7d5e[_0xabe6c0['status']];let _0x5191e0=_0x4a3d94[_0x4abcc7(0x48b)][_0x4abcc7(0x6eb)](/:\d{1,2}@/g,'@'),_0x43c0b5={..._0x4a3d94,'remoteJid':_0x5191e0,'status':_0x3554b4,'datetime':_0x23e4a6,'owner':this[_0x4abcc7(0x3f9)][_0x4abcc7(0x56a)]};this[_0x4abcc7(0x1fa)](_0x4abcc7(0x5c4),_0x43c0b5),await this['updateMessage'](_0x4a3d94,_0x43c0b5);}}},'labels.association':async({type:_0x2f813d,association:_0xa08577})=>{const _0xa846c9=_0x391e0e;if(_0xa08577['type']===_0xa846c9(0x75d)){let _0xe59ea2,_0x51bd78=0x0;for(;!_0xe59ea2&&_0x51bd78<this[_0xa846c9(0x4f0)];)_0xe59ea2=await this[_0xa846c9(0x35c)][_0xa846c9(0x205)]['findOne']({'where':{'_id':_0xa08577['chatId']}},this[_0xa846c9(0x3f9)][_0xa846c9(0x56a)]),_0xe59ea2||(_0x51bd78++,console[_0xa846c9(0x635)]('Chat\x20'+_0xa08577[_0xa846c9(0x22e)]+'\x20not\x20found,\x20retrying\x20in\x20'+this[_0xa846c9(0x31f)]+_0xa846c9(0x198)+_0x51bd78+'/'+this[_0xa846c9(0x4f0)]+')'),await this['delayChatLabel'](this[_0xa846c9(0x31f)]));if(!_0xe59ea2){console[_0xa846c9(0x2cb)](_0xa846c9(0x76b)+_0xa08577[_0xa846c9(0x22e)]+_0xa846c9(0x280)+this['delayChatLabel_MAX_RETRIES']+_0xa846c9(0x29d));return;}switch(_0x2f813d){case'add':console[_0xa846c9(0x635)](_0xa08577),await this[_0xa846c9(0x35c)][_0xa846c9(0x205)][_0xa846c9(0x530)]({'where':{'_id':_0xa08577[_0xa846c9(0x22e)]}},{'leadInfo.etiquetas':_0xa08577[_0xa846c9(0x6c4)]},this[_0xa846c9(0x3f9)][_0xa846c9(0x56a)],void 0x0,_0xa846c9(0x43f));break;case _0xa846c9(0x498):console[_0xa846c9(0x635)](_0xa08577),await this['repository']['chat'][_0xa846c9(0x530)]({'where':{'_id':_0xa08577[_0xa846c9(0x22e)]}},{'leadInfo.etiquetas':_0xa08577[_0xa846c9(0x6c4)]},this[_0xa846c9(0x3f9)][_0xa846c9(0x56a)],void 0x0,_0xa846c9(0x3aa));break;default:console[_0xa846c9(0x2cb)](_0xa846c9(0x746)+_0x2f813d+']');}}},'labels.edit':async _0x160e50=>{const _0x2a0258=_0x391e0e;if(!_0x160e50||!_0x160e50['id']){console['error'](_0x2a0258(0x54c));return;}if(!_0x160e50[_0x2a0258(0x3a8)]){let _0x1f6e7f=[_0x2a0258(0x68b),_0x2a0258(0x554),_0x2a0258(0x328),_0x2a0258(0x5f3),_0x2a0258(0x6f6),_0x2a0258(0x3ff),_0x2a0258(0x6a9),_0x2a0258(0x4e6),_0x2a0258(0x191),_0x2a0258(0x6b8),_0x2a0258(0x1f3),_0x2a0258(0x239),_0x2a0258(0x652),_0x2a0258(0x545),_0x2a0258(0x60b),_0x2a0258(0x2c6),_0x2a0258(0x3d2),_0x2a0258(0x6fa),_0x2a0258(0x5a1),_0x2a0258(0x55e)],_0x4b3558;typeof _0x160e50['color']==_0x2a0258(0x816)&&_0x160e50['color']>=0x0&&_0x160e50[_0x2a0258(0x6dd)]<_0x1f6e7f[_0x2a0258(0x7da)]?_0x4b3558=_0x1f6e7f[_0x160e50[_0x2a0258(0x6dd)]]:(console[_0x2a0258(0x2cb)](_0x2a0258(0x7ba),_0x160e50['color']),_0x4b3558=_0x2a0258(0x4fc));let _0x5147af={'_id':_0x160e50['id'],'colorHex':_0x4b3558,'color':_0x160e50?.[_0x2a0258(0x6dd)],'name':_0x160e50?.['name'],'owner':this[_0x2a0258(0x3f9)][_0x2a0258(0x56a)]};await this[_0x2a0258(0x35c)][_0x2a0258(0x40e)]['updateOne']({'where':{'_id':_0x160e50['id']}},_0x5147af,this['instance'][_0x2a0258(0x56a)]),console[_0x2a0258(0x635)](_0x2a0258(0x7eb),_0x160e50);}_0x160e50[_0x2a0258(0x3a8)]&&(await this['repository']['label'][_0x2a0258(0x1c0)]({'where':{'_id':_0x160e50['id']}},this[_0x2a0258(0x3f9)][_0x2a0258(0x56a)]),console[_0x2a0258(0x635)](_0x2a0258(0x4e1),_0x160e50['id']));}},this['groupHandler']={'groups.upsert':_0x258177=>{const _0x428059=_0x391e0e;this[_0x428059(0x1fa)](_0x428059(0x17a),_0x258177);},'groups.update':_0x31f9b4=>{const _0x5df626=_0x391e0e;this[_0x5df626(0x1fa)]('groups.update',_0x31f9b4);},'group-participants.update':_0x1b3c28=>{const _0x544cf8=_0x391e0e;this[_0x544cf8(0x1fa)](_0x544cf8(0x552),_0x1b3c28);}},this[_0x391e0e(0x4f0)]=0x5,this[_0x391e0e(0x31f)]=0x1388,this[_0x391e0e(0x309)]=async _0x429c20=>{const _0x1b0613=_0x391e0e;if(_0x429c20[_0x1b0613(0x6c9)]?.[_0x1b0613(0x45c)]){let _0x661597=await this[_0x1b0613(0x805)](_0x429c20['message'][_0x1b0613(0x45c)][_0x1b0613(0x345)],!0x0);if(_0x661597){let _0x5ae1df=_0x661597[_0x1b0613(0x283)][_0x1b0613(0x235)]?this[_0x1b0613(0x3f9)]['wuid']+_0x1b0613(0x5b6):_0x661597[_0x1b0613(0x283)]['participant']||_0x661597[_0x1b0613(0x283)][_0x1b0613(0x48b)],_0x5deda4=_0x661597[_0x1b0613(0x283)]['id'],_0x164695=_0x661597[_0x1b0613(0x6c9)],_0x334af6=Buffer[_0x1b0613(0x7f5)](_0x164695[_0x1b0613(0x2a9)][_0x1b0613(0x728)]['toString'](_0x1b0613(0x77f)),_0x1b0613(0x77f)),_0x1f53aa=(0x0,m[_0x1b0613(0x5c1)])(_0x429c20[_0x1b0613(0x6c9)]['pollUpdateMessage'][_0x1b0613(0x5ae)],{'pollCreatorJid':_0x5ae1df,'pollMsgId':_0x5deda4,'pollEncKey':_0x334af6,'voterJid':_0x429c20['key'][_0x1b0613(0x235)]?this[_0x1b0613(0x3f9)][_0x1b0613(0x56a)]+_0x1b0613(0x5b6):_0x429c20[_0x1b0613(0x283)][_0x1b0613(0x48b)]['endsWith'](_0x1b0613(0x718))?_0x429c20[_0x1b0613(0x283)][_0x1b0613(0x61a)]:_0x429c20[_0x1b0613(0x283)][_0x1b0613(0x48b)]}),_0x47fff6=[],_0x48b677=_0x1f53aa[_0x1b0613(0x541)][_0x1b0613(0x428)](_0x3bb701=>Buffer[_0x1b0613(0x7f5)](_0x3bb701)['toString']('hex'));for(let {optionName:_0xc73dce}of _0x164695['pollCreationMessage']?.[_0x1b0613(0x4cf)]||_0x164695[_0x1b0613(0x362)]?.['options']||_0x164695['pollCreationMessageV2']?.['options'])_0x48b677[_0x1b0613(0x1c9)]((0x0,m['sha256'])(Buffer[_0x1b0613(0x7f5)](_0xc73dce))[_0x1b0613(0x2c2)](_0x1b0613(0x77f)))>-0x1&&_0x47fff6[_0x1b0613(0x4b4)](_0xc73dce);return _0x47fff6;}}return null;},this['normalizeMessage']=(_0x21e327,_0x196d40,_0x580f71)=>{const _0x5a1d98=_0x391e0e;try{let _0xd2ba1e=_0x21e327?(0x0,m[_0x5a1d98(0x602)])(_0x21e327)[_0x196d40]:void 0x0,_0x1ac1a0={},_0x4ff164=null,_0x500e66=null,_0x3a6afd=null;_0x196d40==='protocolMessage'&&_0xd2ba1e?.[_0x5a1d98(0x756)]&&(_0x196d40=(0x0,m[_0x5a1d98(0x383)])(_0xd2ba1e[_0x5a1d98(0x756)]),_0x4ff164=_0x21e327[_0x5a1d98(0x709)][_0x5a1d98(0x283)]['id'],_0xd2ba1e=_0x21e327['protocolMessage'][_0x5a1d98(0x756)][_0x196d40]),_0x21e327[_0x196d40]?.[_0x5a1d98(0x7b5)]?.['stanzaId']&&_0x21e327[_0x196d40]?.[_0x5a1d98(0x7b5)]?.[_0x5a1d98(0x758)]&&(_0x500e66=_0x21e327[_0x196d40][_0x5a1d98(0x7b5)]['stanzaId']),_0x21e327[_0x5a1d98(0x786)]&&(_0x3a6afd=_0x21e327['reactionMessage'][_0x5a1d98(0x283)]['id']);let _0x17d000;if(_0xd2ba1e&&typeof _0xd2ba1e==_0x5a1d98(0x646)&&'pollCreationMessageKey'in _0xd2ba1e&&({pollCreationMessageKey:_0x17d000}=_0xd2ba1e),_0x196d40==='pollCreationMessage'||_0x196d40===_0x5a1d98(0x7fb)||_0x196d40===_0x5a1d98(0x362)){let _0x12831b=_0xd2ba1e[_0x5a1d98(0x4cf)]['map'](_0x2c3117=>_0x2c3117[_0x5a1d98(0x789)])['join']('|');_0x1ac1a0[_0x5a1d98(0x50e)]=_0x12831b;}let _0x101a56='';if(_0xd2ba1e&&(_0x101a56+=_0xd2ba1e['name']?_0xd2ba1e[_0x5a1d98(0x804)]:'',_0x101a56+=_0xd2ba1e[_0x5a1d98(0x2da)]?'\x20'+_0xd2ba1e['caption']:'',_0x101a56+=_0xd2ba1e[_0x5a1d98(0x72b)]?'\x20'+_0xd2ba1e[_0x5a1d98(0x72b)]:'',_0x101a56+=_0xd2ba1e[_0x5a1d98(0x37b)]?'\x20'+_0xd2ba1e[_0x5a1d98(0x37b)]:''),_0x196d40===_0x5a1d98(0x4d0)){_0x101a56=(_0xd2ba1e[_0x5a1d98(0x3d0)]||'')+'\x0a'+(_0xd2ba1e[_0x5a1d98(0x759)]||'')+'\x0a'+(_0xd2ba1e[_0x5a1d98(0x6d8)]||'');let _0xe2853f=this['sectionsToString'](_0xd2ba1e['sections']);_0x1ac1a0['convertedOptions']=_0xe2853f;}if(_0x196d40===_0x5a1d98(0x24f)&&(_0x580f71=_0xd2ba1e[_0x5a1d98(0x3d0)]),_0xd2ba1e&&_0xd2ba1e[_0x5a1d98(0x41b)]){let _0x578ae2=this[_0x5a1d98(0x169)](JSON[_0x5a1d98(0x155)](_0xd2ba1e['vcard'],null,0x2));_0x101a56=_0x101a56+'\x0a'+_0x578ae2;}if(_0xd2ba1e){let {sections:_0x31ae09,listType:_0x173bb5,displayName:_0x35ba0e,vcard:_0x3e6fa4,contactVcard:_0x15e83b,name:_0x5d4d10,caption:_0x190dc1,conversation:_0x5ac546,pollCreationMessageKey:_0x11302d,footerText:_0x78d85d,contentText:_0x4e6980,pageCount:_0x2f3024,headerType:_0x196cc6,isAvatar:_0x49b79b,isAnimated:_0x39f067,fallbackLc:_0x2255a7,fallbackLg:_0x1bbd50,namespace:_0x4ffd0a,elementName:_0x4660bb,localizableParams:_0x48f6da,viewOnce:_0x4f2950,height:_0x38540a,width:_0x333c30,key:_0x3a2ab,firstScanLength:_0x38bad4,firstScanSidecar:_0x4a6c36,gifPlayback:_0x37e4aa,gifAttribution:_0x1f051d,midQualityFileSha256:_0x25ee29,scansSidecar:_0x1ddd64,streamingSidecar:_0x3e3cc7,thumbnailHeight:_0x5884c6,thumbnailWidth:_0x4236a4,thumbnailEncSha256:_0x205e98,thumbnailDirectPath:_0x3a9bd4,canonicalUrl:_0x5ccaee,matchedText:_0x56e38a,previewType:_0x4486cf,thumbnailSha256:_0x14b9d9,deviceListMetadataVersion:_0x4d5030,inviteLinkGroupTypeV2:_0x31a1b2,interactiveAnnotations:_0x19e91f,scanLengths:_0xf41fe1,jpegThumbnail:_0x67f612,url:_0x4e121b,mediaKeyTimestamp:_0x9bf361,waveform:_0x1b8761,stickerSentTs:_0x156cde,firstFrameLength:_0x127dcb,fileEncSha256:_0x33f393,contextInfo:_0x27772a,firstFrameSidecar:_0x352465,directPath:_0xfb8dbf,fileSha256:_0x24e84d,mediaKey:_0x4498cc,senderTimestampMs:_0x363311,..._0x2adcb8}=_0xd2ba1e;(_0x196d40===_0x5a1d98(0x4d0)||_0x196d40==='listResponseMessage')&&(delete _0x2adcb8[_0x5a1d98(0x3d0)],delete _0x2adcb8[_0x5a1d98(0x759)]),typeof _0xd2ba1e==_0x5a1d98(0x78b)?_0x1ac1a0={'text':_0xd2ba1e,'type':_0x196d40||_0x5a1d98(0x72b),..._0x4ff164&&{'edited':_0x4ff164},..._0x500e66&&{'quoted':_0x500e66},..._0x3a6afd&&{'reaction':_0x3a6afd}}:_0x1ac1a0={'text':_0x101a56,..._0x2adcb8,..._0x196d40===_0x5a1d98(0x45c)?{'poll_id':_0xd2ba1e[_0x5a1d98(0x345)]['id'],'quoted':_0xd2ba1e[_0x5a1d98(0x345)]['id'],'vote':_0x580f71}:{},..._0x196d40===_0x5a1d98(0x24f)?{'vote':_0x580f71}:{},'type':_0x196d40,..._0x4ff164&&{'edited':_0x4ff164},..._0x500e66&&{'quoted':_0x500e66},..._0x3a6afd&&{'reaction':_0x3a6afd},...(_0x196d40===_0x5a1d98(0x3a7)||_0x196d40===_0x5a1d98(0x7fb)||_0x196d40===_0x5a1d98(0x362)||_0x196d40===_0x5a1d98(0x4d0))&&{'convertedOptions':_0x1ac1a0[_0x5a1d98(0x50e)]}};}return{'messageType':_0x196d40,'messageContent':_0xd2ba1e,'message_normalized':_0x1ac1a0};}catch(_0x3e5b3b){return console[_0x5a1d98(0x2cb)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x3e5b3b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x391e0e(0x7c7)](),this[_0x391e0e(0x3f9)][_0x391e0e(0x4bf)]={'count':0x0},this['instance'][_0x391e0e(0x1ed)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x4fecf3(0x1e0)](_0x2197f9){const _0x48de85=a0_0x4fecf3;if(!_0x2197f9){this[_0x48de85(0x3f9)]['name']=(0x0,Or['v4'])();return;}this[_0x48de85(0x3f9)][_0x48de85(0x804)]=_0x2197f9,this[_0x48de85(0x1fa)](_0x48de85(0x713),{'instance':this[_0x48de85(0x3f9)][_0x48de85(0x804)],'status':_0x48de85(0x58c)});}get['instanceName'](){const _0x463181=a0_0x4fecf3;return this[_0x463181(0x3f9)][_0x463181(0x804)];}get[a0_0x4fecf3(0x56a)](){const _0x50421d=a0_0x4fecf3;return this[_0x50421d(0x3f9)][_0x50421d(0x56a)];}async[a0_0x4fecf3(0x7ee)](){const _0xe36863=a0_0x4fecf3;let _0x55b463=this['client']['user']?.[_0xe36863(0x804)]??this[_0xe36863(0x43e)][_0xe36863(0x3c9)]?.['verifiedName'];if(!_0x55b463){if(this[_0xe36863(0x6e7)][_0xe36863(0x46f)](_0xe36863(0x19a))[_0xe36863(0x3c6)]){let _0x318e80=await N[_0xe36863(0x44c)]()['db'](this[_0xe36863(0x6e7)][_0xe36863(0x46f)](_0xe36863(0x19a))[_0xe36863(0x2ac)][_0xe36863(0x53b)]+'-instances')[_0xe36863(0x7cc)](this['instanceName'])[_0xe36863(0x338)]({'_id':'creds'});if(_0x318e80){let _0xfbff27=JSON[_0xe36863(0x164)](JSON['stringify'](_0x318e80),m[_0xe36863(0x445)][_0xe36863(0x366)]);_0x55b463=_0xfbff27['me']?.['name']||_0xfbff27['me']?.[_0xe36863(0x45f)];}}else{if((0x0,Te['existsSync'])((0x0,J[_0xe36863(0x386)])(ge,this[_0xe36863(0x1e0)],_0xe36863(0x488)))){let _0x1a64ff=JSON[_0xe36863(0x164)]((0x0,Te['readFileSync'])((0x0,J[_0xe36863(0x386)])(ge,this[_0xe36863(0x1e0)],'creds.json'),{'encoding':_0xe36863(0x45d)}));_0x55b463=_0x1a64ff['me']?.[_0xe36863(0x804)]||_0x1a64ff['me']?.[_0xe36863(0x45f)];}}}return _0x55b463;}get[a0_0x4fecf3(0x47a)](){const _0x56c717=a0_0x4fecf3;return this[_0x56c717(0x3f9)][_0x56c717(0x47a)];}get['qrCode'](){const _0x4cff22=a0_0x4fecf3;return this[_0x4cff22(0x3f9)]['qrcode']?.[_0x4cff22(0x22a)]?{'pairingCode':this[_0x4cff22(0x3f9)][_0x4cff22(0x4bf)]?.[_0x4cff22(0x22a)]}:{'code':this[_0x4cff22(0x3f9)][_0x4cff22(0x4bf)]?.[_0x4cff22(0x176)],'base64':this[_0x4cff22(0x3f9)]['qrcode']?.[_0x4cff22(0x479)]};}async[a0_0x4fecf3(0x1e3)](){const _0x5e3cfd=a0_0x4fecf3;let _0x1fa963=await this[_0x5e3cfd(0x35c)][_0x5e3cfd(0x58e)][_0x5e3cfd(0x201)](this[_0x5e3cfd(0x1e0)]);this['localWebhook'][_0x5e3cfd(0x4eb)]=_0x1fa963?.[_0x5e3cfd(0x4eb)],this[_0x5e3cfd(0x360)]['enabled']=_0x1fa963?.[_0x5e3cfd(0x3ad)],this[_0x5e3cfd(0x360)][_0x5e3cfd(0x59a)]=_0x1fa963?.[_0x5e3cfd(0x59a)],this[_0x5e3cfd(0x360)][_0x5e3cfd(0x1c8)]=_0x1fa963?.[_0x5e3cfd(0x1c8)],this[_0x5e3cfd(0x360)][_0x5e3cfd(0x4b8)]=_0x1fa963?.['QRCODE_UPDATED'],this[_0x5e3cfd(0x360)][_0x5e3cfd(0x228)]=_0x1fa963?.[_0x5e3cfd(0x228)],this[_0x5e3cfd(0x360)]['MESSAGES_UPSERT']=_0x1fa963?.[_0x5e3cfd(0x357)],this['localWebhook']['MESSAGES_UPDATE']=_0x1fa963?.[_0x5e3cfd(0x5aa)],this[_0x5e3cfd(0x360)][_0x5e3cfd(0x226)]=_0x1fa963?.[_0x5e3cfd(0x226)],this[_0x5e3cfd(0x360)][_0x5e3cfd(0x1fb)]=_0x1fa963?.[_0x5e3cfd(0x1fb)],this[_0x5e3cfd(0x360)][_0x5e3cfd(0x4ee)]=_0x1fa963?.[_0x5e3cfd(0x4ee)],this[_0x5e3cfd(0x360)]['CHATS_SET']=_0x1fa963?.[_0x5e3cfd(0x67f)],this[_0x5e3cfd(0x360)]['CHATS_UPSERT']=_0x1fa963?.[_0x5e3cfd(0x189)],this[_0x5e3cfd(0x360)][_0x5e3cfd(0x2c3)]=_0x1fa963?.[_0x5e3cfd(0x2c3)],this[_0x5e3cfd(0x360)][_0x5e3cfd(0x162)]=_0x1fa963?.[_0x5e3cfd(0x162)],this['localWebhook'][_0x5e3cfd(0x7ce)]=_0x1fa963?.[_0x5e3cfd(0x7ce)],this[_0x5e3cfd(0x360)]['CONTACTS_UPSERT']=_0x1fa963?.[_0x5e3cfd(0x3f3)],this[_0x5e3cfd(0x360)][_0x5e3cfd(0x42b)]=_0x1fa963?.['CONTACTS_UPDATE'],this[_0x5e3cfd(0x360)]['PRESENCE_UPDATE']=_0x1fa963?.[_0x5e3cfd(0x6f0)],this[_0x5e3cfd(0x360)][_0x5e3cfd(0x6e6)]=_0x1fa963?.[_0x5e3cfd(0x6e6)],this['localWebhook'][_0x5e3cfd(0x225)]=_0x1fa963?.[_0x5e3cfd(0x225)],this[_0x5e3cfd(0x360)][_0x5e3cfd(0x369)]=_0x1fa963?.[_0x5e3cfd(0x369)];}async[a0_0x4fecf3(0x633)](_0x293a40){const _0x41899a=a0_0x4fecf3;let _0x4e1c20=[_0x41899a(0x4d1),_0x41899a(0x4eb),_0x41899a(0x3ad),'local_map',_0x41899a(0x1c8),_0x41899a(0x4b8),_0x41899a(0x5aa),_0x41899a(0x357),_0x41899a(0x228),_0x41899a(0x226),_0x41899a(0x1fb),_0x41899a(0x4ee),_0x41899a(0x67f),_0x41899a(0x189),_0x41899a(0x2c3),_0x41899a(0x162),'CONTACTS_SET',_0x41899a(0x3f3),_0x41899a(0x42b),_0x41899a(0x6f0),'MESSAGES_SET','CONNECTION_UPDATE','groups_ignore'],_0x5cd0bd={};return _0x4e1c20[_0x41899a(0x697)](_0x39e8f6=>{_0x293a40[_0x39e8f6]!==void 0x0&&(_0x5cd0bd[_0x39e8f6]=_0x293a40[_0x39e8f6]);}),_0x5cd0bd['url']&&(_0x5cd0bd[_0x41899a(0x4eb)]=_0x5cd0bd[_0x41899a(0x4eb)][_0x41899a(0x80b)]()),await this[_0x41899a(0x35c)][_0x41899a(0x58e)][_0x41899a(0x187)](_0x5cd0bd,this[_0x41899a(0x1e0)]),Object[_0x41899a(0x5c3)](this['localWebhook'],_0x5cd0bd),await this[_0x41899a(0x35c)]['webhook'][_0x41899a(0x201)](this[_0x41899a(0x1e0)]);}async[a0_0x4fecf3(0x236)](){const _0x30f5b2=a0_0x4fecf3;return await this[_0x30f5b2(0x35c)][_0x30f5b2(0x58e)][_0x30f5b2(0x201)](this['instanceName']);}async[a0_0x4fecf3(0x1fa)](_0x34b9a9,_0x41aa19){const _0x293553=a0_0x4fecf3;let _0x2db64d=_0x34b9a9[_0x293553(0x6eb)](/[\.-]/gm,'_')[_0x293553(0x56c)](),_0x4782da=this['localWebhook'][_0x293553(0x3ad)]&&(0x0,P['isURL'])(this[_0x293553(0x360)][_0x293553(0x4eb)])?this[_0x293553(0x360)][_0x293553(0x4eb)]+(this[_0x293553(0x360)][_0x293553(0x59a)]?this[_0x293553(0x300)][_0x34b9a9]:''):null,_0x1d4721=this[_0x293553(0x360)][_0x2db64d],_0x38ee5a=ce&&ce[_0x293553(0x3ad)]&&(0x0,P[_0x293553(0x68c)])(ce[_0x293553(0x4eb)])?ce[_0x293553(0x4eb)]+(ce['local_map']?this['webhookMap'][_0x34b9a9]:''):null,_0x5c7eb7=ce?ce[_0x2db64d]:null;if(_0x1d4721&&_0x4782da)try{await Z[_0x293553(0x3cc)][_0x293553(0x187)]({'baseURL':_0x4782da})[_0x293553(0x47b)]('',{'event':_0x34b9a9,'instance':this['instance'][_0x293553(0x804)],'apikey':this[_0x293553(0x3f9)][_0x293553(0x20b)],'data':_0x41aa19}),this[_0x293553(0x732)][_0x293553(0x635)](this[_0x293553(0x1e0)]+'\x20('+this[_0x293553(0x3f9)][_0x293553(0x56a)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x34b9a9+':\x20'+_0x4782da);}catch{this[_0x293553(0x732)][_0x293553(0x2cb)](this[_0x293553(0x1e0)]+'\x20('+this['instance']['wuid']+_0x293553(0x3b9)+_0x34b9a9+':\x20'+_0x4782da);}if(_0x5c7eb7&&_0x38ee5a)try{await Z['default'][_0x293553(0x187)]({'baseURL':_0x38ee5a})['post']('',{'event':_0x34b9a9,'instance':this[_0x293553(0x3f9)][_0x293553(0x804)],'apikey':this['instance']['apikey'],'data':_0x41aa19}),this[_0x293553(0x732)][_0x293553(0x635)](this[_0x293553(0x1e0)]+'\x20('+this['instance'][_0x293553(0x56a)]+_0x293553(0x576)+_0x34b9a9+':\x20'+_0x38ee5a);}catch{this[_0x293553(0x732)][_0x293553(0x2cb)](this[_0x293553(0x1e0)]+'\x20('+this[_0x293553(0x3f9)][_0x293553(0x56a)]+_0x293553(0x409)+_0x34b9a9+':\x20'+_0x38ee5a);}}async[a0_0x4fecf3(0x544)]({qr:_0x67450e,connection:_0x45a549,lastDisconnect:_0x3b5ba2}){const _0x162d0c=a0_0x4fecf3;if(_0x67450e){if(this[_0x162d0c(0x3f9)]['qrcode'][_0x162d0c(0x73f)]===Ni)return this[_0x162d0c(0x1fa)](_0x162d0c(0x5c0),{'message':_0x162d0c(0x463),'statusCode':m[_0x162d0c(0x74b)][_0x162d0c(0x49e)]}),this[_0x162d0c(0x259)]={'state':_0x162d0c(0x515),'statusReason':m[_0x162d0c(0x74b)][_0x162d0c(0x2f2)]},this[_0x162d0c(0x1fa)](_0x162d0c(0x75a),{'instance':this[_0x162d0c(0x3f9)][_0x162d0c(0x804)],...this[_0x162d0c(0x259)]}),this['sendDataWebhook'](_0x162d0c(0x713),{'instance':this['instance'][_0x162d0c(0x804)],'status':_0x162d0c(0x293)}),this[_0x162d0c(0x35c)][_0x162d0c(0x585)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x162d0c(0x587)]()},this[_0x162d0c(0x3f9)][_0x162d0c(0x804)]),this['endSession']=!0x0,this['eventEmitter'][_0x162d0c(0x181)](_0x162d0c(0x3e4),this[_0x162d0c(0x3f9)][_0x162d0c(0x804)]);this['instance'][_0x162d0c(0x4bf)]['count']++;let _0x11ca65={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x162d0c(0x4fc)}};Ar['default'][_0x162d0c(0x372)](_0x67450e,_0x11ca65,(_0x488b5b,_0x1aa4aa)=>{const _0x363e2d=_0x162d0c;if(_0x488b5b){this['logger']['error'](this[_0x363e2d(0x1e0)]+'\x20('+this[_0x363e2d(0x3f9)][_0x363e2d(0x56a)]+_0x363e2d(0x48d)+(_0x488b5b instanceof Error?_0x488b5b[_0x363e2d(0x6c9)]:JSON[_0x363e2d(0x155)](_0x488b5b,null,0x2)));return;}this['instance'][_0x363e2d(0x4bf)][_0x363e2d(0x479)]=_0x1aa4aa,this[_0x363e2d(0x3f9)][_0x363e2d(0x4bf)][_0x363e2d(0x176)]=_0x67450e,!this[_0x363e2d(0x21c)]&&this[_0x363e2d(0x1fa)](_0x363e2d(0x5c0),{'qrcode':{'instance':this[_0x363e2d(0x3f9)][_0x363e2d(0x804)],'pairingCode':this['instance'][_0x363e2d(0x4bf)][_0x363e2d(0x22a)],'code':_0x67450e,'base64':_0x1aa4aa}});}),this[_0x162d0c(0x21c)]?this[_0x162d0c(0x3f9)][_0x162d0c(0x4bf)][_0x162d0c(0x22a)]||(await(0x0,m['delay'])(0x7d0),this[_0x162d0c(0x3f9)][_0x162d0c(0x4bf)][_0x162d0c(0x22a)]=await this[_0x162d0c(0x43e)][_0x162d0c(0x2a0)](this[_0x162d0c(0x21c)])):this[_0x162d0c(0x3f9)][_0x162d0c(0x4bf)]['pairingCode']=null,Ir[_0x162d0c(0x3cc)]['generate'](_0x67450e,{'small':!0x0},_0x47f51e=>this[_0x162d0c(0x732)][_0x162d0c(0x635)](_0x162d0c(0x1be)+this['instance'][_0x162d0c(0x804)]+_0x162d0c(0x4c2)+this[_0x162d0c(0x3f9)][_0x162d0c(0x4bf)][_0x162d0c(0x73f)]+_0x162d0c(0x4cd)+this['instance']['qrcode']['pairingCode']+_0x162d0c(0x75f)+_0x47f51e));}if(_0x45a549&&(this[_0x162d0c(0x259)]={'state':_0x45a549,'statusReason':_0x3b5ba2?.[_0x162d0c(0x2cb)]?.[_0x162d0c(0x7c9)]?.[_0x162d0c(0x210)]??0xc8},this[_0x162d0c(0x1fa)]('connection.update',{'instance':this[_0x162d0c(0x3f9)]['name'],...this[_0x162d0c(0x259)]})),_0x45a549===_0x162d0c(0x291)){if(this[_0x162d0c(0x6b4)]++,this[_0x162d0c(0x426)]['push'](Date[_0x162d0c(0x587)]()),this[_0x162d0c(0x426)]=this[_0x162d0c(0x426)][_0x162d0c(0x6b9)](_0x26965d=>Date[_0x162d0c(0x587)]()-_0x26965d<this[_0x162d0c(0x5e1)]),_0x3b5ba2[_0x162d0c(0x2cb)]?.[_0x162d0c(0x7c9)]?.[_0x162d0c(0x210)]!==m[_0x162d0c(0x74b)][_0x162d0c(0x7f0)]&&this['reconnectTimestamps'][_0x162d0c(0x7da)]<=this[_0x162d0c(0x7b7)])console[_0x162d0c(0x635)](this[_0x162d0c(0x1e0)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x162d0c(0x6b4)]+'/'+this[_0x162d0c(0x7b7)]+_0x162d0c(0x404)),console['log'](_0x162d0c(0x6c8)),await this[_0x162d0c(0x723)]();else{this[_0x162d0c(0x1fa)](_0x162d0c(0x713),{'instance':this[_0x162d0c(0x3f9)][_0x162d0c(0x804)],'status':_0x162d0c(0x293)}),this['instance'][_0x162d0c(0x1ed)][_0x162d0c(0x295)]=!0x1,this['repository']['webhook'][_0x162d0c(0x1c0)](this[_0x162d0c(0x1e0)]),this[_0x162d0c(0x35c)][_0x162d0c(0x585)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x162d0c(0x587)]()},this['instance'][_0x162d0c(0x804)]);try{this[_0x162d0c(0x732)]['verbose'](this['instanceName']+'\x20('+this[_0x162d0c(0x3f9)][_0x162d0c(0x56a)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x93f7e8=await this[_0x162d0c(0x35c)][_0x162d0c(0x6c9)]['deleteAll'](this[_0x162d0c(0x3f9)][_0x162d0c(0x56a)]);_0x93f7e8[_0x162d0c(0x172)]?this['logger'][_0x162d0c(0x769)](this[_0x162d0c(0x1e0)]+'\x20('+this[_0x162d0c(0x3f9)][_0x162d0c(0x56a)]+_0x162d0c(0x1cf)):console['error'](_0x162d0c(0x254),_0x93f7e8[_0x162d0c(0x2cb)]);}catch(_0x1216c6){console[_0x162d0c(0x2cb)](_0x162d0c(0x2d5),_0x1216c6);}this[_0x162d0c(0x3f9)][_0x162d0c(0x1ed)][_0x162d0c(0x464)]!==null&&(this[_0x162d0c(0x732)][_0x162d0c(0x769)](this['instanceName']+'\x20('+this[_0x162d0c(0x3f9)][_0x162d0c(0x56a)]+_0x162d0c(0x403)),clearInterval(this[_0x162d0c(0x3f9)][_0x162d0c(0x1ed)][_0x162d0c(0x464)]),this[_0x162d0c(0x3f9)][_0x162d0c(0x1ed)][_0x162d0c(0x464)]=null),this[_0x162d0c(0x732)][_0x162d0c(0x769)](this[_0x162d0c(0x1e0)]+'\x20('+this[_0x162d0c(0x3f9)][_0x162d0c(0x56a)]+_0x162d0c(0x658)),this[_0x162d0c(0x6cf)]=null,this[_0x162d0c(0x4b9)][_0x162d0c(0x181)](_0x162d0c(0x3fb),this['instance']['name'],_0x162d0c(0x50b)),this[_0x162d0c(0x43e)]?.['ws']?.[_0x162d0c(0x291)](),this[_0x162d0c(0x43e)][_0x162d0c(0x644)](new Error('Close\x20connection'));}}if(_0x45a549==='open'){this[_0x162d0c(0x43e)]['ev'][_0x162d0c(0x7f2)](),this['resetReconnectionVariables'],this[_0x162d0c(0x3f9)][_0x162d0c(0x56a)]=this[_0x162d0c(0x43e)]['user']['id'][_0x162d0c(0x6eb)](/:\d+/,'')[_0x162d0c(0x6eb)](_0x162d0c(0x5b6),''),this[_0x162d0c(0x3f9)][_0x162d0c(0x47a)]=(await this[_0x162d0c(0x5e5)](this[_0x162d0c(0x3f9)][_0x162d0c(0x56a)]+_0x162d0c(0x5b6)))['profilePictureUrl'],this[_0x162d0c(0x35c)][_0x162d0c(0x585)][_0x162d0c(0x187)]({'online':!0x0,'owner':this['instance'][_0x162d0c(0x56a)],'lastDisconnect':null},this[_0x162d0c(0x3f9)][_0x162d0c(0x804)]);let _0xb2900c=_0x162d0c(0x1b8)+this[_0x162d0c(0x3f9)][_0x162d0c(0x56a)],_0xd6860f=0x28,_0x43bf13=Math['floor']((_0xd6860f-_0xb2900c[_0x162d0c(0x7da)])/0x2),_0x2dbb0b='\x20'[_0x162d0c(0x388)](_0x43bf13),_0x4a8eaa='CONECTADO\x20À\x20UAZAPI',_0x4c0ca5='Instância:\x20'+this[_0x162d0c(0x3f9)]['name'],_0x5494c5=(''+_0x2dbb0b+_0xb2900c+_0x2dbb0b)[_0x162d0c(0x475)](_0xd6860f,'\x20'),_0x4cab2a=(''+_0x2dbb0b+_0x4a8eaa+_0x2dbb0b)[_0x162d0c(0x475)](_0xd6860f,'\x20'),_0x4ec0fd=(''+_0x2dbb0b+_0x4c0ca5+_0x2dbb0b)[_0x162d0c(0x475)](_0xd6860f,'\x20'),_0x15b9f0=Math[_0x162d0c(0x7fa)](_0x5494c5[_0x162d0c(0x7da)],_0x4cab2a[_0x162d0c(0x7da)],_0x4ec0fd['length']),_0x38f182=_0x5494c5['padEnd'](_0x15b9f0,'\x20'),_0x193f35=_0x4cab2a[_0x162d0c(0x475)](_0x15b9f0,'\x20'),_0x2c9d59=_0x4ec0fd['padEnd'](_0x15b9f0,'\x20');this['logger'][_0x162d0c(0x69f)]((_0x162d0c(0x15f)+'─'[_0x162d0c(0x388)](_0x15b9f0)+_0x162d0c(0x38a)+_0x193f35+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x2c9d59+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x38f182+_0x162d0c(0x7b4)+'─'['repeat'](_0x15b9f0)+'┘')['replace'](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x162d0c(0x3f9)][_0x162d0c(0x1ed)]['isConnected']=!0x0;}}['resetReconnectionVariables'](){this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[];}async[a0_0x4fecf3(0x805)](_0x1c569f,_0x4946d3=!0x1){const _0x59f61e=a0_0x4fecf3;try{let _0x36404f=await this[_0x59f61e(0x35c)]['message'][_0x59f61e(0x201)]({'where':{'_id':_0x1c569f['id']}},this['instance'][_0x59f61e(0x56a)]);return _0x4946d3?_0x36404f[0x0]:_0x36404f[0x0]['message'];}catch{return{'conversation':''};}}['cleanStore'](){const _0x257f84=a0_0x4fecf3;let _0x48d812=this[_0x257f84(0x6e7)][_0x257f84(0x46f)]('STORE'),_0x38bab8=this['configService']['get'](_0x257f84(0x19a));_0x48d812?.[_0x257f84(0x564)]&&!_0x38bab8[_0x257f84(0x3c6)]&&setInterval(()=>{const _0x1f8a97=_0x257f84;try{for(let [_0xf80fe8,_0x54dae4]of Object[_0x1f8a97(0x4ef)](_0x48d812))_0x54dae4===!0x0&&(0x0,Ft[_0x1f8a97(0x79e)])(_0x1f8a97(0x1f8)+(0x0,J[_0x1f8a97(0x386)])(this['storePath'],_0xf80fe8[_0x1f8a97(0x34a)](),this[_0x1f8a97(0x3f9)]['wuid'])+_0x1f8a97(0x6bd));}catch{}},(_0x48d812?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x4fecf3(0x822)](){const _0x58182c=a0_0x4fecf3;let _0xe78e7d=this[_0x58182c(0x6e7)]['get'](_0x58182c(0x19a)),_0x291ebd=this[_0x58182c(0x6e7)][_0x58182c(0x46f)](_0x58182c(0x489));return _0x291ebd?.['ENABLED']?await Rs(_0x291ebd,this[_0x58182c(0x3f9)][_0x58182c(0x804)]):_0xe78e7d[_0x58182c(0x3c6)]?await Ns(this[_0x58182c(0x3f9)][_0x58182c(0x804)]):await(0x0,m[_0x58182c(0x70a)])((0x0,J[_0x58182c(0x386)])(ge,this[_0x58182c(0x3f9)]['name']));}async['AutomateFunctions'](){const _0x2f2e2b=a0_0x4fecf3;let _0xd55584=()=>Math[_0x2f2e2b(0x63d)](Math[_0x2f2e2b(0x5fe)]()*0x2711)+0x7d0,_0x187115=async()=>{const _0x5d386d=_0x2f2e2b;if(!this['instance'][_0x5d386d(0x1ed)][_0x5d386d(0x295)]){this['logger'][_0x5d386d(0x769)](_0x5d386d(0x7ad)),this[_0x5d386d(0x288)]=!0x1;return;}if(this[_0x5d386d(0x3f9)]['wuid']&&this[_0x5d386d(0x6cf)]&&this[_0x5d386d(0x3f9)][_0x5d386d(0x1ed)][_0x5d386d(0x464)]!==null&&this[_0x5d386d(0x3f9)][_0x5d386d(0x1ed)]['delayMessage']!==void 0x0){let _0x38b7ac=Math['round'](this[_0x5d386d(0x3f9)]['ScheduleMessage'][_0x5d386d(0x464)]/0xea60);this[_0x5d386d(0x732)][_0x5d386d(0x769)](this[_0x5d386d(0x1e0)]+'\x20('+this[_0x5d386d(0x3f9)][_0x5d386d(0x56a)]+_0x5d386d(0x3a0)+_0x38b7ac+_0x5d386d(0x258)),this[_0x5d386d(0x288)]=!0x1;return;}else this[_0x5d386d(0x3f9)][_0x5d386d(0x56a)]&&(this['logger'][_0x5d386d(0x769)](this['instanceName']+'\x20('+this['instance'][_0x5d386d(0x56a)]+_0x5d386d(0x5e7)),this['AutomateSystem']||(await this[_0x5d386d(0x287)](),this[_0x5d386d(0x1ac)]()),(this[_0x5d386d(0x3f9)][_0x5d386d(0x1ed)]['delayMessage']===null||this[_0x5d386d(0x3f9)][_0x5d386d(0x1ed)][_0x5d386d(0x464)]===void 0x0)&&await this[_0x5d386d(0x668)]());if(this[_0x5d386d(0x288)]){let _0xcb86a5=_0xd55584();this[_0x5d386d(0x732)][_0x5d386d(0x769)](this[_0x5d386d(0x1e0)]+_0x5d386d(0x32d)+_0xcb86a5/0x3e8+_0x5d386d(0x6d4)),setTimeout(_0x187115,_0xcb86a5);}};if(this[_0x2f2e2b(0x288)])return;this[_0x2f2e2b(0x288)]=!0x0;let _0x57f431=_0xd55584();setTimeout(_0x187115,_0x57f431);}async[a0_0x4fecf3(0x4d2)](_0x2575d9=0x0,_0x429d1f=!0x1){const _0x1d7b5a=a0_0x4fecf3;try{let _0x4a104d=this[_0x1d7b5a(0x6e7)][_0x1d7b5a(0x46f)](_0x1d7b5a(0x5fd));if(_0x4a104d!==0x1||typeof _0x4a104d>'u'||_0x2575d9>=0x5)return this[_0x1d7b5a(0x732)][_0x1d7b5a(0x70e)](_0x1d7b5a(0x73d)),this[_0x1d7b5a(0x35c)][_0x1d7b5a(0x585)][_0x1d7b5a(0x187)]({'ip':null},this['instance'][_0x1d7b5a(0x804)]),{};this[_0x1d7b5a(0x732)][_0x1d7b5a(0x769)](this[_0x1d7b5a(0x1e0)]+_0x1d7b5a(0x714)+(_0x2575d9+0x1)+_0x1d7b5a(0x215));let _0x3dc314;if(!_0x429d1f){let _0x212b20=await this[_0x1d7b5a(0x35c)][_0x1d7b5a(0x585)]['find'](this[_0x1d7b5a(0x1e0)]);_0x212b20&&_0x212b20['ip']&&(_0x3dc314=Mr(_0x212b20['ip']));}if((!_0x3dc314||!Ts(_0x3dc314))&&(this[_0x1d7b5a(0x732)][_0x1d7b5a(0x70e)](this['instanceName']+_0x1d7b5a(0x167)),_0x3dc314=vr()),_0x3dc314&&Ts(_0x3dc314)){let _0x310db2=_0x3dc314[_0x1d7b5a(0x3c1)]&&_0x3dc314['password']?_0x3dc314[_0x1d7b5a(0x6fb)]+_0x1d7b5a(0x299)+_0x3dc314[_0x1d7b5a(0x3c1)]+':'+_0x3dc314['password']+'@'+_0x3dc314['host']+':'+_0x3dc314[_0x1d7b5a(0x622)]:_0x3dc314[_0x1d7b5a(0x6fb)]+_0x1d7b5a(0x299)+_0x3dc314[_0x1d7b5a(0x589)]+':'+_0x3dc314[_0x1d7b5a(0x622)];return await this[_0x1d7b5a(0x55a)](_0x310db2,_0x3dc314['host'])?(this[_0x1d7b5a(0x732)][_0x1d7b5a(0x769)](this[_0x1d7b5a(0x1e0)]+_0x1d7b5a(0x6f8)),this[_0x1d7b5a(0x35c)][_0x1d7b5a(0x585)][_0x1d7b5a(0x187)]({'ip':_0x3dc314[_0x1d7b5a(0x589)]},this[_0x1d7b5a(0x3f9)][_0x1d7b5a(0x804)]),{'agent':new jt[(_0x1d7b5a(0x1c2))](_0x310db2),'fetchAgent':new jt['HttpsProxyAgent'](_0x310db2)}):(this[_0x1d7b5a(0x732)][_0x1d7b5a(0x70e)](this[_0x1d7b5a(0x1e0)]+_0x1d7b5a(0x391)),await(0x0,m['delay'])(0xc8),this[_0x1d7b5a(0x4d2)](_0x2575d9+0x1,!0x0));}else return this['logger'][_0x1d7b5a(0x70e)](this[_0x1d7b5a(0x1e0)]+_0x1d7b5a(0x536)),await(0x0,m[_0x1d7b5a(0x377)])(0xc8),this['loadproxy'](_0x2575d9+0x1,!0x0);}catch(_0x46415f){return this[_0x1d7b5a(0x732)][_0x1d7b5a(0x2cb)](this[_0x1d7b5a(0x1e0)]+_0x1d7b5a(0x7d5)+_0x46415f[_0x1d7b5a(0x6c9)]),{};}}async[a0_0x4fecf3(0x55a)](_0x1e7637,_0x4e4e58){const _0x32559f=a0_0x4fecf3;let _0x2d9655=new jt['HttpsProxyAgent'](_0x1e7637),_0x13ba7=0x1388,_0x439ea0=[{'url':_0x32559f(0x558),'parse':_0x1c9ddf=>_0x1c9ddf['ip']},{'url':'https://api.ipify.org?format=json','parse':_0x1cefb4=>_0x1cefb4['ip']},{'url':_0x32559f(0x5b8),'parse':_0x53fd7c=>_0x53fd7c[_0x32559f(0x637)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x32559f(0x5c5),'parse':_0x1872ea=>_0x1872ea['ip']},{'url':_0x32559f(0x685),'parse':_0x4ac0ef=>_0x4ac0ef[_0x32559f(0x80b)]()},{'url':_0x32559f(0x1d1),'parse':_0x4252e1=>_0x4252e1[_0x32559f(0x80b)]()},{'url':'http://ip-api.com/json','parse':_0x52c21c=>_0x52c21c[_0x32559f(0x2c0)]},{'url':_0x32559f(0x2ea),'parse':_0x598d10=>_0x598d10[_0x32559f(0x80b)]()},{'url':_0x32559f(0x53a),'parse':_0x2d287c=>_0x2d287c[_0x32559f(0x80b)]()}],_0x37bae6=_0x439ea0[Math[_0x32559f(0x63d)](Math[_0x32559f(0x5fe)]()*_0x439ea0['length'])];try{let _0x165de7=await Z['default'][_0x32559f(0x46f)](_0x37bae6['url'],{'httpsAgent':_0x2d9655,'timeout':_0x13ba7}),_0x3d14b6=_0x37bae6['parse'](_0x165de7[_0x32559f(0x441)]);return _0x3d14b6===_0x4e4e58?(this[_0x32559f(0x732)][_0x32559f(0x769)](this[_0x32559f(0x1e0)]+':\x20IP\x20configurado:\x20'+_0x4e4e58+_0x32559f(0x341)+_0x3d14b6+_0x32559f(0x420)),!0x0):(this[_0x32559f(0x732)]['error'](this[_0x32559f(0x1e0)]+':\x20IP\x20configurado:\x20'+_0x4e4e58+'\x20-\x20retornado:\x20'+_0x3d14b6+_0x32559f(0x5ec)),!0x1);}catch(_0x4d0560){return this[_0x32559f(0x732)][_0x32559f(0x2cb)](this['instanceName']+_0x32559f(0x298)+_0x37bae6['url']+':\x20'+_0x4d0560['message']),!0x1;}}async[a0_0x4fecf3(0x723)](_0x4465c3){const _0x386cdf=a0_0x4fecf3;try{let _0x3eb945=await this[_0x386cdf(0x4d2)]();this[_0x386cdf(0x1e3)](),this[_0x386cdf(0x3f9)]['apikey']=(await this[_0x386cdf(0x35c)]['auth'][_0x386cdf(0x201)](this[_0x386cdf(0x3f9)][_0x386cdf(0x804)]))[_0x386cdf(0x20b)],this[_0x386cdf(0x3f9)][_0x386cdf(0x33a)]=await this[_0x386cdf(0x822)]();let {version:_0x32f3dd}=await(0x0,m['fetchLatestBaileysVersion'])(),_0x22cb3a=[xr,Ds,(0x0,Os[_0x386cdf(0x604)])()],_0x54f689={..._0x3eb945,'auth':{'creds':this[_0x386cdf(0x3f9)][_0x386cdf(0x33a)][_0x386cdf(0x15c)]['creds'],'keys':(0x0,m[_0x386cdf(0x195)])(this[_0x386cdf(0x3f9)]['authState'][_0x386cdf(0x15c)][_0x386cdf(0x3bf)],(0x0,$t[_0x386cdf(0x3cc)])({'level':'error'}))},'logger':(0x0,$t[_0x386cdf(0x3cc)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x4465c3?[_0x386cdf(0x319),Ds,(0x0,Os[_0x386cdf(0x604)])()]:_0x22cb3a,'version':_0x32f3dd,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x261bbd=>{const _0x374880=_0x386cdf;let _0x158bd7=_0x261bbd[_0x374880(0x380)](_0x374880(0x78a)),_0x360807=this[_0x374880(0x360)]?.[_0x374880(0x369)]&&_0x261bbd['endsWith'](_0x374880(0x720));return _0x158bd7||(0x0,m[_0x374880(0x350)])(_0x261bbd)||_0x360807;},'msgRetryCounterCache':this[_0x386cdf(0x435)],'getMessage':async _0x12e549=>await this['getMessage'](_0x12e549),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x386cdf(0x481)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x56bcf4=>(_0x56bcf4[_0x386cdf(0x4d0)]?.[_0x386cdf(0x3a1)]==m[_0x386cdf(0x20f)][_0x386cdf(0x249)][_0x386cdf(0x329)]['ListType']['PRODUCT_LIST']&&(_0x56bcf4=JSON[_0x386cdf(0x164)](JSON['stringify'](_0x56bcf4)),_0x56bcf4[_0x386cdf(0x4d0)][_0x386cdf(0x3a1)]=m[_0x386cdf(0x20f)]['Message'][_0x386cdf(0x329)][_0x386cdf(0x2fc)][_0x386cdf(0x3d1)]),_0x56bcf4)};return this[_0x386cdf(0x317)]=!0x1,this[_0x386cdf(0x43e)]=(0x0,m[_0x386cdf(0x3cc)])(_0x54f689),this[_0x386cdf(0x4ff)](),this['phoneNumber']=_0x4465c3,this[_0x386cdf(0x43e)];}catch(_0x89d1a2){throw this[_0x386cdf(0x732)][_0x386cdf(0x2cb)](this[_0x386cdf(0x1e0)]+'\x20('+this[_0x386cdf(0x3f9)]['wuid']+_0x386cdf(0x6cc)+(_0x89d1a2 instanceof Error?_0x89d1a2[_0x386cdf(0x6c9)]:JSON['stringify'](_0x89d1a2,null,0x2))),new I(_0x89d1a2?.[_0x386cdf(0x2c2)]());}}[a0_0x4fecf3(0x4ff)](){const _0x2f1c1b=a0_0x4fecf3;this[_0x2f1c1b(0x43e)]['ev'][_0x2f1c1b(0x305)](_0x5e28b4=>{const _0x17b069=_0x2f1c1b;if(!this[_0x17b069(0x317)]){let _0x38b0ad=this[_0x17b069(0x6e7)][_0x17b069(0x46f)]('DATABASE');if(_0x5e28b4[_0x17b069(0x1b5)]){let _0x164bea=_0x5e28b4['labels.edit'];this[_0x17b069(0x44f)][_0x17b069(0x1b5)](_0x164bea);}if(_0x5e28b4[_0x17b069(0x565)]){let _0x5e58e1=_0x5e28b4[_0x17b069(0x565)];this[_0x17b069(0x44f)]['labels.association'](_0x5e58e1);}if(_0x5e28b4[_0x17b069(0x75a)]&&this[_0x17b069(0x544)](_0x5e28b4[_0x17b069(0x75a)]),_0x5e28b4['creds.update']&&this[_0x17b069(0x3f9)][_0x17b069(0x33a)][_0x17b069(0x6e2)](),_0x5e28b4[_0x17b069(0x64c)]){let _0x502674=_0x5e28b4[_0x17b069(0x64c)];this[_0x17b069(0x44f)][_0x17b069(0x64c)](_0x502674,_0x38b0ad);}if(_0x5e28b4['messages.upsert']){let _0x58fd92=_0x5e28b4[_0x17b069(0x701)];this['messageHandle'][_0x17b069(0x701)](_0x58fd92,_0x38b0ad);}if(_0x5e28b4[_0x17b069(0x5c4)]){let _0x10768a=_0x5e28b4[_0x17b069(0x5c4)];_0x10768a['forEach'](_0x17728d=>{const _0x51ba31=_0x17b069;if(Rr[_0x17728d[_0x51ba31(0x283)]['id']]){this['client']['ev'][_0x51ba31(0x181)](_0x51ba31(0x701),{'messages':[_0x17728d],'type':_0x51ba31(0x735)}),delete Rr[_0x17728d['key']['id']];return;}}),this[_0x17b069(0x44f)][_0x17b069(0x5c4)](_0x10768a,_0x38b0ad);}if(_0x5e28b4[_0x17b069(0x1d7)]){let _0x750faa=_0x5e28b4['presence.update'];if(this[_0x17b069(0x360)]?.['groups_ignore']&&_0x750faa['id'][_0x17b069(0x207)](_0x17b069(0x720)))return;this[_0x17b069(0x1fa)](_0x17b069(0x1d7),_0x750faa);}if(!this['localWebhook']?.[_0x17b069(0x369)]){if(_0x5e28b4[_0x17b069(0x17a)]){let _0x52995d=_0x5e28b4[_0x17b069(0x17a)];this[_0x17b069(0x612)][_0x17b069(0x17a)](_0x52995d);}if(_0x5e28b4[_0x17b069(0x65b)]){let _0x213678=_0x5e28b4[_0x17b069(0x65b)];this['groupHandler'][_0x17b069(0x65b)](_0x213678);}if(_0x5e28b4[_0x17b069(0x552)]){let _0x3edd19=_0x5e28b4['group-participants.update'];this[_0x17b069(0x612)][_0x17b069(0x552)](_0x3edd19);}}if(_0x5e28b4[_0x17b069(0x504)]){let _0x3fb63c=_0x5e28b4[_0x17b069(0x504)];this[_0x17b069(0x5ed)][_0x17b069(0x504)](_0x3fb63c,_0x38b0ad);}if(_0x5e28b4[_0x17b069(0x17c)]){let _0x38670f=_0x5e28b4[_0x17b069(0x17c)];this[_0x17b069(0x5ed)]['chats.update'](_0x38670f,_0x38b0ad);}if(_0x5e28b4[_0x17b069(0x1dc)]){let _0x2d74d1=_0x5e28b4[_0x17b069(0x1dc)];this[_0x17b069(0x5ed)][_0x17b069(0x1dc)](_0x2d74d1);}if(_0x5e28b4[_0x17b069(0x5fc)]){let _0x2db8e1=_0x5e28b4[_0x17b069(0x5fc)];this['contactHandle']['contacts.upsert'](_0x2db8e1,_0x38b0ad);}if(_0x5e28b4[_0x17b069(0x244)]){let _0x13179b=_0x5e28b4[_0x17b069(0x244)];this['contactHandle'][_0x17b069(0x244)](_0x13179b,_0x38b0ad);}}});}[a0_0x4fecf3(0x1a9)](_0x340eb6){return new Promise(_0x38d51b=>setTimeout(_0x38d51b,_0x340eb6));}[a0_0x4fecf3(0x6ba)](_0x12b685){const _0x2b6bc7=a0_0x4fecf3;_0x12b685=_0x12b685[_0x2b6bc7(0x6eb)](/\D/g,'');let _0x329998=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x12b685);if(_0x329998&&_0x329998[0x1]==='55'){let _0x41bc76=_0x329998[0x2],_0x2a3226=_0x329998[0x3],_0xa7ab34=_0x329998[0x4];if(parseInt(_0x41bc76)>=0x1f&&_0x2a3226==='9')return _0x329998[0x1]+_0x41bc76+_0xa7ab34;}return _0x12b685;}[a0_0x4fecf3(0x654)](_0x21ab95){const _0xd70f80=a0_0x4fecf3;return _0x21ab95['includes'](_0xd70f80(0x720))||_0x21ab95[_0xd70f80(0x207)]('@s.whatsapp.net')||_0x21ab95[_0xd70f80(0x207)](_0xd70f80(0x455))?_0x21ab95:(_0x21ab95=_0x21ab95?.[_0xd70f80(0x6eb)](/\s/g,'')[_0xd70f80(0x6eb)](/\+/g,'')[_0xd70f80(0x6eb)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0xd70f80(0x579)]('@')[0x0],_0x21ab95[_0xd70f80(0x7da)]>=0x12?(_0x21ab95=_0x21ab95['replace'](/[^\d-]/g,''),_0x21ab95+_0xd70f80(0x720)):(_0x21ab95=_0x21ab95[_0xd70f80(0x6eb)](/\D/g,''),this[_0xd70f80(0x6ba)](_0x21ab95)+_0xd70f80(0x5b6)));}async['updatePresence'](_0x4c7b9d){const _0x267d2c=a0_0x4fecf3;let _0x52b0ac=this[_0x267d2c(0x654)](_0x4c7b9d['number']),_0x1f421e=(await this[_0x267d2c(0x45b)]({'numbers':[_0x52b0ac]}))[0x0];if(!_0x1f421e[_0x267d2c(0x4ad)]&&!(0x0,m['isJidGroup'])(_0x1f421e[_0x267d2c(0x43c)]))throw new w(_0x1f421e);let _0x4c8ba3=(0x0,m[_0x267d2c(0x719)])(_0x52b0ac)?_0x52b0ac:_0x1f421e[_0x267d2c(0x43c)];if((0x0,m['isJidGroup'])(_0x4c8ba3))try{await this[_0x267d2c(0x43e)]['groupMetadata'](_0x4c8ba3);}catch{throw new j(_0x267d2c(0x24b));}try{return await this['client'][_0x267d2c(0x20c)](_0x4c8ba3),await this[_0x267d2c(0x43e)][_0x267d2c(0x219)](_0x4c7b9d[_0x267d2c(0x3b6)],_0x52b0ac),{'status':0xc8,'presence':_0x4c7b9d['presence']};}catch(_0x52bb35){throw new w(_0x52bb35[_0x267d2c(0x2c2)]());}}async[a0_0x4fecf3(0x51b)](_0x402a54,_0x17dc19,_0x3cb7ab){const _0xe2784a=a0_0x4fecf3;let _0x4c8e7f=await this[_0xe2784a(0x35c)][_0xe2784a(0x78e)][_0xe2784a(0x338)]({'where':{'_id':_0x402a54}}),_0x5e5fe5={'lastUpdate':Date['now']()};if(_0x3cb7ab||!_0x4c8e7f?.[_0xe2784a(0x5bd)]||Date['now']()-_0x4c8e7f[_0xe2784a(0x5bd)]>0x18*0x3c*0x3c*0x3e8)try{let _0xc6f72c=(await this[_0xe2784a(0x5e5)](_0x402a54))['profilePictureUrl'];_0x5e5fe5[_0xe2784a(0x2e8)]=_0xc6f72c;}catch(_0x4e32dd){console[_0xe2784a(0x2cb)](_0xe2784a(0x31d),_0x4e32dd);}return _0x17dc19&&_0x4c8e7f?.['name']!==_0x17dc19&&(_0x5e5fe5['name']=_0x17dc19),Object[_0xe2784a(0x3bf)](_0x5e5fe5)[_0xe2784a(0x7da)]>0x1&&(_0x4c8e7f?await this[_0xe2784a(0x35c)][_0xe2784a(0x78e)][_0xe2784a(0x724)]({'where':{'_id':_0x402a54}},_0x5e5fe5):await this['repository']['cacheContact'][_0xe2784a(0x462)]([{'_id':_0x402a54,..._0x5e5fe5}]),_0x4c8e7f={..._0x4c8e7f,..._0x5e5fe5}),{'cachedContact':_0x4c8e7f};}async[a0_0x4fecf3(0x5e5)](_0x1cc1c5){const _0x4b4582=a0_0x4fecf3;let _0x3bd328=this[_0x4b4582(0x654)](_0x1cc1c5);try{return{'wuid':_0x3bd328,'profilePictureUrl':await this[_0x4b4582(0x43e)][_0x4b4582(0x47a)](_0x3bd328,_0x4b4582(0x543))};}catch{return{'wuid':_0x3bd328,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x301c7c,_0x31d271,_0x4dce97){const _0x395d41=a0_0x4fecf3;_0x4dce97||(_0x4dce97={});let _0x3aaa87=(await this[_0x395d41(0x45b)]({'numbers':[_0x301c7c]}))[0x0];if(!_0x3aaa87[_0x395d41(0x4ad)]&&!(0x0,m['isJidGroup'])(_0x3aaa87[_0x395d41(0x43c)])&&!_0x3aaa87[_0x395d41(0x43c)]['includes']('@broadcast'))throw new w(_0x3aaa87);let _0xc78980=_0x3aaa87['jid'];try{if(_0x4dce97?.[_0x395d41(0x377)]){await this[_0x395d41(0x43e)][_0x395d41(0x20c)](_0xc78980),await this[_0x395d41(0x43e)]['sendPresenceUpdate'](_0x4dce97?.[_0x395d41(0x3b6)]??'composing',_0xc78980);let _0x4a6b53=Math[_0x395d41(0x6f4)](_0x4dce97[_0x395d41(0x377)],0x2710);await(0x0,m[_0x395d41(0x377)])(_0x4a6b53),await this[_0x395d41(0x43e)]['sendPresenceUpdate'](_0x395d41(0x37e),_0xc78980);}let _0x6b4adc=_0x4dce97?.[_0x395d41(0x3c3)]!=!0x1?void 0x0:!0x1,_0x4922ef;if(_0x4dce97?.[_0x395d41(0x806)]){let _0x4573ba=_0x4dce97?.[_0x395d41(0x806)],_0x28ef1d=_0x4573ba?.['message']?_0x4573ba:await this[_0x395d41(0x805)](_0x4573ba['key'],!0x0);if(!_0x28ef1d)throw _0x395d41(0x750);_0x4922ef=_0x28ef1d;}let _0x53bada;if((0x0,m[_0x395d41(0x719)])(_0xc78980))try{let _0x4fd61f=await this[_0x395d41(0x43e)][_0x395d41(0x650)](_0xc78980);if(!_0x4fd61f)throw new j('Group\x20not\x20found');_0x4dce97?.['mentions']&&(_0x4dce97[_0x395d41(0x6ae)]?.[_0x395d41(0x186)]?_0x53bada=_0x4fd61f['participants'][_0x395d41(0x428)](_0x54c5ae=>_0x54c5ae['id']):_0x4dce97[_0x395d41(0x6ae)]?.[_0x395d41(0x2ff)]?.['length']&&(_0x53bada=_0x4dce97[_0x395d41(0x6ae)][_0x395d41(0x2ff)][_0x395d41(0x428)](_0x15ef90=>{const _0x208fb7=_0x395d41;let _0x3f4766=this[_0x208fb7(0x654)](_0x15ef90);return(0x0,m[_0x208fb7(0x719)])(_0x3f4766)?null:_0x3f4766;})));}catch{throw new j(_0x395d41(0x24b));}let _0xfe56a3=await((async()=>{const _0x3c7e7c=_0x395d41;let _0x2ba55d={'quoted':_0x4922ef};if(!_0x31d271['audio']&&!_0x31d271[_0x3c7e7c(0x407)]&&!_0x31d271[_0x3c7e7c(0x484)]&&!_0x31d271[_0x3c7e7c(0x72b)]&&_0xc78980!==_0x3c7e7c(0x1f2)&&!_0x31d271[_0x3c7e7c(0x81b)])return await this[_0x3c7e7c(0x43e)][_0x3c7e7c(0x4d4)](_0xc78980,{'forward':{'key':{'remoteJid':this[_0x3c7e7c(0x3f9)]['wuid'],'fromMe':!0x0},'message':_0x31d271},'mentions':_0x53bada},_0x2ba55d);if(_0x31d271[_0x3c7e7c(0x786)])return await this[_0x3c7e7c(0x43e)]['sendMessage'](_0xc78980,{'react':{'text':_0x31d271[_0x3c7e7c(0x786)][_0x3c7e7c(0x384)],'key':_0x31d271[_0x3c7e7c(0x786)][_0x3c7e7c(0x283)]}},_0x2ba55d);if(_0x31d271[_0x3c7e7c(0x72b)]){let _0x4f9911=_0x31d271[_0x3c7e7c(0x72b)];return _0x4dce97?.[_0x3c7e7c(0x430)]&&(_0x4f9911=await this[_0x3c7e7c(0x7e7)](_0x4f9911,_0xc78980)),await this[_0x3c7e7c(0x43e)][_0x3c7e7c(0x4d4)](_0xc78980,{'text':_0x4f9911,'mentions':_0x53bada,'linkPreview':_0x6b4adc},_0x2ba55d);}return _0xc78980==='status@broadcast'?await this[_0x3c7e7c(0x43e)][_0x3c7e7c(0x4d4)](_0xc78980,_0x31d271[_0x3c7e7c(0x395)]['content'],{'backgroundColor':_0x31d271['status'][_0x3c7e7c(0x368)]['backgroundColor'],'font':_0x31d271[_0x3c7e7c(0x395)][_0x3c7e7c(0x368)][_0x3c7e7c(0x4fa)],'statusJidList':_0x31d271[_0x3c7e7c(0x395)]['option'][_0x3c7e7c(0x3b4)]}):await this[_0x3c7e7c(0x43e)][_0x3c7e7c(0x4d4)](_0xc78980,_0x31d271,_0x2ba55d);})()),_0x193017=(0x0,m['normalizeMessageContent'])(_0xfe56a3[_0x395d41(0x6c9)]),_0x40cb6d=(0x0,m[_0x395d41(0x383)])(_0x193017),{message_normalized:_0xcfc601}=this['normalizeMessage'](_0x193017,_0x40cb6d,null),_0x34070d={'_id':_0xfe56a3[_0x395d41(0x283)]['id'],'key':_0xfe56a3[_0x395d41(0x283)],'pushName':_0xfe56a3['pushName'],'isGroup':_0xfe56a3[_0x395d41(0x283)]['remoteJid'][_0x395d41(0x380)](_0x395d41(0x720)),'profilePictureUrl':this[_0x395d41(0x3f9)][_0x395d41(0x47a)],'message':_0x193017,'messageType':_0x40cb6d,'message_normalized':{'key':_0xfe56a3[_0x395d41(0x283)],'pushName':_0xfe56a3[_0x395d41(0x5ef)],'messageTimestamp':_0xfe56a3[_0x395d41(0x37a)]&&_0xfe56a3[_0x395d41(0x37a)][_0x395d41(0x2c2)]()[_0x395d41(0x7da)]<0xd?_0xfe56a3[_0x395d41(0x37a)]*0x3e8:_0xfe56a3[_0x395d41(0x37a)]||null,'source':(0x0,m[_0x395d41(0x748)])(_0xfe56a3['key']['id']),..._0xcfc601},'messageTimestamp':_0xfe56a3['messageTimestamp']&&_0xfe56a3[_0x395d41(0x37a)][_0x395d41(0x2c2)]()['length']<0xd?_0xfe56a3['messageTimestamp']*0x3e8:_0xfe56a3[_0x395d41(0x37a)]||null,'owner':this[_0x395d41(0x3f9)]['wuid'],'source':(0x0,m['getDevice'])(_0xfe56a3[_0x395d41(0x283)]['id'])};return this[_0x395d41(0x732)][_0x395d41(0x70e)](this['instanceName']+'\x20('+this[_0x395d41(0x3f9)][_0x395d41(0x56a)]+_0x395d41(0x2f9)+_0x34070d[_0x395d41(0x283)]?.['remoteJid'][_0x395d41(0x6eb)](_0x395d41(0x5b6),'')+_0x395d41(0x771)+_0x34070d[_0x395d41(0x538)]+')'),_0x34070d[_0x395d41(0x5ee)]?.['text']&&this['logger'][_0x395d41(0x70e)](_0x34070d[_0x395d41(0x5ee)]?.[_0x395d41(0x384)]),this['sendDataWebhook'](_0x395d41(0x6a2),_0x34070d),F(this[_0x395d41(0x1e0)],'messages',{'message':_0x34070d}),this[_0x395d41(0x4f4)](this['configService'][_0x395d41(0x46f)](_0x395d41(0x19a)),_0x34070d,_0x395d41(0x228)),await this[_0x395d41(0x35c)][_0x395d41(0x6c9)]['insert']([_0x34070d],this['instance'][_0x395d41(0x56a)]),_0xfe56a3;}catch(_0x25f814){throw this[_0x395d41(0x732)][_0x395d41(0x2cb)](this['instanceName']+'\x20('+this[_0x395d41(0x3f9)][_0x395d41(0x56a)]+'):\x20'+_0x25f814[_0x395d41(0x2c2)]()),new w(_0x25f814[_0x395d41(0x2c2)]());}}get['connectionStatus'](){const _0x8ebeac=a0_0x4fecf3;return this[_0x8ebeac(0x259)];}async['textMessage'](_0xab25a1){const _0x4003df=a0_0x4fecf3;let _0x346326=Nr,_0x932941=et;return _0x932941&&this[_0x4003df(0x1e0)][_0x4003df(0x34a)]()[_0x4003df(0x207)](_0x932941[_0x4003df(0x34a)]())&&(_0xab25a1[_0x4003df(0x308)][_0x4003df(0x384)]+='\x0a\x0a'+_0x346326),await this[_0x4003df(0x4a4)](_0xab25a1[_0x4003df(0x816)],{'conversation':_0xab25a1[_0x4003df(0x308)][_0x4003df(0x384)]},_0xab25a1?.[_0x4003df(0x4cf)]);}async[a0_0x4fecf3(0x53c)](_0x1334a3){const _0x5e4cba=a0_0x4fecf3;if(!_0x1334a3[_0x5e4cba(0x1bf)])throw new w('Type\x20is\x20required');if(!_0x1334a3['content'])throw new w(_0x5e4cba(0x774));if(_0x1334a3[_0x5e4cba(0x318)]){let _0x1fdd9a=await this['repository']['contact'][_0x5e4cba(0x201)]({'where':{}},this[_0x5e4cba(0x3f9)][_0x5e4cba(0x56a)]);if(!_0x1fdd9a['length'])throw new w(_0x5e4cba(0x20d));_0x1334a3[_0x5e4cba(0x3b4)]=_0x1fdd9a[_0x5e4cba(0x6b9)](_0x3272fa=>_0x3272fa[_0x5e4cba(0x5ef)])[_0x5e4cba(0x428)](_0xef533c=>_0xef533c[_0x5e4cba(0x4d1)]);}if(!_0x1334a3['statusJidList']?.[_0x5e4cba(0x7da)]&&!_0x1334a3[_0x5e4cba(0x318)])throw new w(_0x5e4cba(0x5b7));if(_0x1334a3['type']===_0x5e4cba(0x384)){if(!_0x1334a3['backgroundColor'])throw new w(_0x5e4cba(0x2e2));if(!_0x1334a3[_0x5e4cba(0x4fa)])throw new w(_0x5e4cba(0x5d5));return{'content':{'text':_0x1334a3[_0x5e4cba(0x326)]},'option':{'backgroundColor':_0x1334a3[_0x5e4cba(0x516)],'font':_0x1334a3[_0x5e4cba(0x4fa)],'statusJidList':_0x1334a3[_0x5e4cba(0x3b4)]}};}if(_0x1334a3['type']===_0x5e4cba(0x543))return{'content':{'image':{'url':_0x1334a3[_0x5e4cba(0x326)]},'caption':_0x1334a3[_0x5e4cba(0x2da)]},'option':{'statusJidList':_0x1334a3[_0x5e4cba(0x3b4)]}};if(_0x1334a3[_0x5e4cba(0x1bf)]===_0x5e4cba(0x4f3))return{'content':{'video':{'url':_0x1334a3['content']},'caption':_0x1334a3['caption']},'option':{'statusJidList':_0x1334a3['statusJidList']}};if(_0x1334a3['type']===_0x5e4cba(0x81b)){this[_0x5e4cba(0x732)][_0x5e4cba(0x769)](_0x5e4cba(0x63c)),this[_0x5e4cba(0x732)][_0x5e4cba(0x769)](_0x5e4cba(0x7e9));let _0x4171b5=await this[_0x5e4cba(0x629)](_0x1334a3[_0x5e4cba(0x326)]);if(typeof _0x4171b5==_0x5e4cba(0x78b)){this[_0x5e4cba(0x732)]['verbose'](_0x5e4cba(0x1a3));let _0x5e29f7=q[_0x5e4cba(0x638)](_0x4171b5)[_0x5e4cba(0x2c2)]('base64');return{'content':{'audio':Buffer[_0x5e4cba(0x7f5)](_0x5e29f7,'base64'),'ptt':!0x0,'mimetype':_0x5e4cba(0x75b)},'option':{'statusJidList':_0x1334a3[_0x5e4cba(0x3b4)]}};}else throw new I(_0x4171b5);}throw new w(_0x5e4cba(0x358));}async[a0_0x4fecf3(0x58d)](_0x23f8f9){const _0xc8d516=a0_0x4fecf3;return await this[_0xc8d516(0x4a4)](_0xc8d516(0x1f2),{'status':await this[_0xc8d516(0x53c)](_0x23f8f9[_0xc8d516(0x58d)])});}async['prepareMediaMessage'](_0x45a809){const _0x3e39d9=a0_0x4fecf3;try{let _0x4e7fae=await(0x0,m[_0x3e39d9(0x3f8)])({[_0x45a809[_0x3e39d9(0x322)]]:(0x0,P[_0x3e39d9(0x68c)])(_0x45a809[_0x3e39d9(0x7cf)])?{'url':_0x45a809[_0x3e39d9(0x7cf)]}:Buffer[_0x3e39d9(0x7f5)](_0x45a809[_0x3e39d9(0x7cf)],_0x3e39d9(0x479))},{'upload':this[_0x3e39d9(0x43e)][_0x3e39d9(0x67a)]}),_0x4f6862=_0x45a809[_0x3e39d9(0x322)]+'Message';if(_0x45a809['mediatype']===_0x3e39d9(0x70c)&&!_0x45a809[_0x3e39d9(0x3e1)]){let _0x11c665=new RegExp(/.*\/(.+?)\./)[_0x3e39d9(0x57c)](_0x45a809[_0x3e39d9(0x7cf)]);_0x45a809[_0x3e39d9(0x3e1)]=_0x11c665?_0x11c665[0x1]:null;}let _0x30b7e5=(0x0,P[_0x3e39d9(0x68c)])(_0x45a809[_0x3e39d9(0x7cf)])?_0x45a809[_0x3e39d9(0x7cf)][_0x3e39d9(0x579)]('?')[0x0]:_0x45a809[_0x3e39d9(0x7cf)];this[_0x3e39d9(0x732)][_0x3e39d9(0x769)]('URL\x20limpa:\x20'+_0x30b7e5);let _0x507776;(0x0,P[_0x3e39d9(0x68c)])(_0x45a809[_0x3e39d9(0x7cf)])?_0x507776=(0x0,kt['getMIMEType'])(_0x30b7e5):_0x45a809['fileName']&&_0x45a809[_0x3e39d9(0x3e1)][_0x3e39d9(0x207)]('.')?_0x507776=(0x0,kt[_0x3e39d9(0x782)])(_0x45a809[_0x3e39d9(0x3e1)]):_0x507776=(0x0,kt[_0x3e39d9(0x782)])(_0x45a809[_0x3e39d9(0x7cf)]);let _0x174a6b=Nr,_0xd9ece7=et;return _0xd9ece7&&this['instanceName']['toLowerCase']()['includes'](_0xd9ece7['toLowerCase']())&&(_0x45a809[_0x3e39d9(0x2da)]+='\x0a\x0a'+_0x174a6b),_0x4e7fae[_0x4f6862][_0x3e39d9(0x2da)]=_0x45a809?.[_0x3e39d9(0x2da)],_0x4e7fae[_0x4f6862][_0x3e39d9(0x51e)]=_0x507776,_0x4e7fae[_0x4f6862]['fileName']=_0x45a809[_0x3e39d9(0x3e1)],_0x45a809['mediatype']===_0x3e39d9(0x4f3)&&(_0x4e7fae[_0x4f6862]['jpegThumbnail']=Uint8Array[_0x3e39d9(0x7f5)]((0x0,Te[_0x3e39d9(0x638)])((0x0,J['join'])(process[_0x3e39d9(0x38f)](),_0x3e39d9(0x3ed)))),_0x4e7fae[_0x4f6862][_0x3e39d9(0x2a7)]=!0x1),(0x0,m[_0x3e39d9(0x80d)])('',{[_0x4f6862]:{..._0x4e7fae[_0x4f6862]}},{'userJid':this[_0x3e39d9(0x3f9)][_0x3e39d9(0x56a)]});}catch(_0x568db6){throw this[_0x3e39d9(0x732)][_0x3e39d9(0x2cb)](this['instanceName']+'\x20('+this[_0x3e39d9(0x3f9)][_0x3e39d9(0x56a)]+'):\x20'+(_0x568db6 instanceof Error?_0x568db6[_0x3e39d9(0x6c9)]:JSON[_0x3e39d9(0x155)](_0x568db6,null,0x2))),new I(_0x568db6?.[_0x3e39d9(0x2c2)]()||_0x568db6);}}async['mediaMessage'](_0x4491d5){const _0x17e7f6=a0_0x4fecf3;let _0x3fca3d=await this[_0x17e7f6(0x7b3)](_0x4491d5[_0x17e7f6(0x601)]);return await this['sendMessageWithTyping'](_0x4491d5[_0x17e7f6(0x816)],{..._0x3fca3d[_0x17e7f6(0x6c9)]},_0x4491d5?.['options']);}async[a0_0x4fecf3(0x38e)](_0x488f07,_0x26b868){const _0x1992aa=a0_0x4fecf3;try{this[_0x1992aa(0x732)]['verbose'](_0x1992aa(0x557));let _0xc28b4a,_0xaf4e90=_0x26b868+'-'+new Date()[_0x1992aa(0x4ae)]();this[_0x1992aa(0x732)][_0x1992aa(0x769)](_0x1992aa(0x586)+_0xaf4e90);let _0x3eba33=''+(0x0,J['join'])(this['storePath'],_0xaf4e90+_0x1992aa(0x675));if(this[_0x1992aa(0x732)][_0x1992aa(0x769)](_0x1992aa(0x5f4)+_0x3eba33),(0x0,P[_0x1992aa(0x5a8)])(_0x488f07)){this[_0x1992aa(0x732)][_0x1992aa(0x769)](_0x1992aa(0x7d1));let _0x589cb6=_0x488f07[_0x1992aa(0x6eb)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x1aba6c=Buffer[_0x1992aa(0x7f5)](_0x589cb6,'base64');_0xc28b4a=''+(0x0,J['join'])(this[_0x1992aa(0x276)],_0x1992aa(0x5e0)+_0xaf4e90+'.png'),this[_0x1992aa(0x732)][_0x1992aa(0x769)](_0x1992aa(0x306)+_0xc28b4a),await(0x0,Lt['default'])(_0x1aba6c)[_0x1992aa(0x4e5)](_0xc28b4a),this[_0x1992aa(0x732)]['verbose'](_0x1992aa(0x335));}else{this[_0x1992aa(0x732)][_0x1992aa(0x769)](_0x1992aa(0x58a));let _0x23a8c=new Date()[_0x1992aa(0x4ae)](),_0x31aeb5=_0x488f07+_0x1992aa(0x812)+_0x23a8c;this[_0x1992aa(0x732)]['verbose'](_0x1992aa(0x651)+_0x31aeb5);let _0x59a693=await Z[_0x1992aa(0x3cc)]['get'](_0x31aeb5,{'responseType':_0x1992aa(0x7c3)});this['logger']['verbose'](_0x1992aa(0x529));let _0xf809b1=Buffer[_0x1992aa(0x7f5)](_0x59a693[_0x1992aa(0x441)],_0x1992aa(0x7b1));_0xc28b4a=''+(0x0,J[_0x1992aa(0x386)])(this[_0x1992aa(0x276)],_0x1992aa(0x5e0)+_0xaf4e90+_0x1992aa(0x2bf)),this[_0x1992aa(0x732)][_0x1992aa(0x769)]('Image\x20path:\x20'+_0xc28b4a),await(0x0,Lt['default'])(_0xf809b1)[_0x1992aa(0x4e5)](_0xc28b4a),this[_0x1992aa(0x732)]['verbose']('Image\x20created');}return await(0x0,Lt['default'])(_0xc28b4a)[_0x1992aa(0x230)]()['toFile'](_0x3eba33),this[_0x1992aa(0x732)][_0x1992aa(0x769)](_0x1992aa(0x510)),q['unlinkSync'](_0xc28b4a),this['logger']['verbose'](_0x1992aa(0x6af)),_0x3eba33;}catch(_0x47b669){console[_0x1992aa(0x2cb)](_0x1992aa(0x2c5),_0x47b669 instanceof Error?_0x47b669[_0x1992aa(0x6c9)]:JSON[_0x1992aa(0x155)](_0x47b669,null,0x2));}}async['mediaSticker'](_0x5a67a1){const _0x9deab6=a0_0x4fecf3;let _0x21d3a3=await this[_0x9deab6(0x38e)](_0x5a67a1[_0x9deab6(0x763)][_0x9deab6(0x543)],_0x5a67a1[_0x9deab6(0x816)]),_0x17cc3e=await this[_0x9deab6(0x4a4)](_0x5a67a1[_0x9deab6(0x816)],{'sticker':{'url':_0x21d3a3}},_0x5a67a1?.['options']);return q[_0x9deab6(0x15e)](_0x21d3a3),this[_0x9deab6(0x732)][_0x9deab6(0x769)](_0x9deab6(0x444)),_0x17cc3e;}async['audioWhatsapp'](_0x4396ca){const _0x89f871=a0_0x4fecf3;if(this[_0x89f871(0x732)]['verbose'](_0x89f871(0x5f8)),!_0x4396ca['options']?.[_0x89f871(0x679)]&&_0x4396ca[_0x89f871(0x4cf)]?.[_0x89f871(0x679)]!==!0x1&&(_0x4396ca[_0x89f871(0x4cf)][_0x89f871(0x679)]=!0x0),_0x4396ca[_0x89f871(0x4cf)]?.[_0x89f871(0x679)]){let _0x48b192=await this[_0x89f871(0x629)](_0x4396ca[_0x89f871(0x4f6)]['audio']);if(typeof _0x48b192==_0x89f871(0x78b)){let _0x53fe31=q[_0x89f871(0x638)](_0x48b192)[_0x89f871(0x2c2)]('base64');return this[_0x89f871(0x4a4)](_0x4396ca['number'],{'audio':Buffer[_0x89f871(0x7f5)](_0x53fe31,'base64'),'ptt':!0x0,'mimetype':_0x89f871(0x7a9)},{'presence':_0x89f871(0x2b5),'delay':_0x4396ca?.[_0x89f871(0x4cf)]?.[_0x89f871(0x377)]});}else throw new I(_0x48b192);}return await this[_0x89f871(0x4a4)](_0x4396ca['number'],{'audio':(0x0,P[_0x89f871(0x68c)])(_0x4396ca[_0x89f871(0x4f6)][_0x89f871(0x81b)])?{'url':_0x4396ca[_0x89f871(0x4f6)][_0x89f871(0x81b)]}:Buffer[_0x89f871(0x7f5)](_0x4396ca[_0x89f871(0x4f6)][_0x89f871(0x81b)],_0x89f871(0x479)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x89f871(0x2b5),'delay':_0x4396ca?.[_0x89f871(0x4cf)]?.[_0x89f871(0x377)]});}async[a0_0x4fecf3(0x629)](_0x8e0a66){const _0x5f41a0=a0_0x4fecf3;this[_0x5f41a0(0x732)][_0x5f41a0(0x769)](_0x5f41a0(0x7e9));let _0x2fae3f=(0x0,P[_0x5f41a0(0x68c)])(_0x8e0a66)?(0x0,xs['createHash'])('sha256')[_0x5f41a0(0x724)](_0x8e0a66)['digest'](_0x5f41a0(0x77f)):(0x0,xs[_0x5f41a0(0x596)])(_0x5f41a0(0x385))[_0x5f41a0(0x724)](_0x8e0a66)['digest']('hex'),_0x15cbb0=''+(0x0,J[_0x5f41a0(0x386)])(this['storePath'],_0x2fae3f+'.ogg');if(q['existsSync'](_0x15cbb0))return this['logger'][_0x5f41a0(0x769)](_0x5f41a0(0x2ee)),_0x15cbb0;let _0x1a857f=''+(0x0,J['join'])(this['storePath'],_0x5f41a0(0x5e0)+(0x0,Re['v4'])()+_0x5f41a0(0x6ec));if((0x0,P['isURL'])(_0x8e0a66)){let _0x23ee32=new Date()[_0x5f41a0(0x4ae)](),_0x621efc=_0x8e0a66+_0x5f41a0(0x812)+_0x23ee32,_0x5f5dc8=await Z[_0x5f41a0(0x3cc)][_0x5f41a0(0x46f)](_0x621efc,{'responseType':'arraybuffer'});q[_0x5f41a0(0x684)](_0x1a857f,_0x5f5dc8[_0x5f41a0(0x441)]);}else{let _0x429994=Buffer[_0x5f41a0(0x7f5)](_0x8e0a66,_0x5f41a0(0x479));q['writeFileSync'](_0x1a857f,_0x429994);}return new Promise((_0x401dd6,_0x11948f)=>{const _0x58b53a=_0x5f41a0;(0x0,Ft['exec'])(Tr['default']['path']+_0x58b53a(0x3fa)+_0x1a857f+_0x58b53a(0x730)+_0x15cbb0+'\x20-y',_0x102240=>{const _0xf5702e=_0x58b53a;if(q[_0xf5702e(0x15e)](_0x1a857f),_0x102240){this[_0xf5702e(0x732)][_0xf5702e(0x769)]('Error\x20in\x20converting\x20audio'),_0x11948f(_0x102240);return;}this[_0xf5702e(0x732)][_0xf5702e(0x769)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x401dd6(_0x15cbb0);});});}async[a0_0x4fecf3(0x57b)](_0x51673a){const _0x2b58d3=a0_0x4fecf3;let _0x1aebb3={},_0x4c5dbb=_0x2b58d3(0x742);if(_0x51673a[_0x2b58d3(0x57b)]?.[_0x2b58d3(0x601)]){_0x4c5dbb=_0x51673a[_0x2b58d3(0x57b)][_0x2b58d3(0x601)]?.[_0x2b58d3(0x322)]['toUpperCase']()??_0x2b58d3(0x742),_0x1aebb3[_0x2b58d3(0x392)]=_0x4c5dbb['toLowerCase']()+_0x2b58d3(0x249);let _0x5564ed=await this[_0x2b58d3(0x7b3)](_0x51673a[_0x2b58d3(0x57b)][_0x2b58d3(0x601)]);_0x1aebb3[_0x2b58d3(0x6c9)]=_0x5564ed[_0x2b58d3(0x6c9)][_0x1aebb3[_0x2b58d3(0x392)]],_0x1aebb3[_0x2b58d3(0x4f5)]='*'+_0x51673a[_0x2b58d3(0x57b)][_0x2b58d3(0x3d0)]+_0x2b58d3(0x800)+_0x51673a[_0x2b58d3(0x57b)][_0x2b58d3(0x759)];}let _0x385da5={'text':_0x51673a[_0x2b58d3(0x57b)][_0x2b58d3(0x5a5)][_0x2b58d3(0x428)](_0x264725=>_0x264725[_0x2b58d3(0x3a9)]),'ids':_0x51673a[_0x2b58d3(0x57b)]['buttons']['map'](_0x4b7970=>_0x4b7970[_0x2b58d3(0x2ba)])};if(!(0x0,P['arrayUnique'])(_0x385da5[_0x2b58d3(0x384)])||!(0x0,P[_0x2b58d3(0x73b)])(_0x385da5[_0x2b58d3(0x6c7)]))throw new w(_0x2b58d3(0x69b),_0x2b58d3(0x4db));return await this[_0x2b58d3(0x4a4)](_0x51673a[_0x2b58d3(0x816)],{'buttonsMessage':{'text':_0x1aebb3?.['mediaKey']?void 0x0:_0x51673a[_0x2b58d3(0x57b)][_0x2b58d3(0x3d0)],'contentText':_0x1aebb3?.['contentText']??_0x51673a[_0x2b58d3(0x57b)][_0x2b58d3(0x759)],'footerText':_0x51673a[_0x2b58d3(0x57b)]?.[_0x2b58d3(0x6d8)],'buttons':_0x51673a[_0x2b58d3(0x57b)][_0x2b58d3(0x5a5)]['map'](_0x55568b=>({'buttonText':{'displayText':_0x55568b[_0x2b58d3(0x3a9)]},'buttonId':_0x55568b[_0x2b58d3(0x2ba)],'type':0x1})),'headerType':m[_0x2b58d3(0x20f)][_0x2b58d3(0x249)][_0x2b58d3(0x7ab)][_0x2b58d3(0x20e)][_0x4c5dbb],[_0x1aebb3?.[_0x2b58d3(0x392)]]:_0x1aebb3?.[_0x2b58d3(0x6c9)]}},_0x51673a?.[_0x2b58d3(0x4cf)]);}async[a0_0x4fecf3(0x60f)](_0x4aaa98){const _0x10e95e=a0_0x4fecf3;return await this[_0x10e95e(0x4a4)](_0x4aaa98[_0x10e95e(0x816)],{'locationMessage':{'degreesLatitude':_0x4aaa98['locationMessage'][_0x10e95e(0x609)],'degreesLongitude':_0x4aaa98[_0x10e95e(0x60f)][_0x10e95e(0x59d)],'name':_0x4aaa98[_0x10e95e(0x60f)]?.[_0x10e95e(0x804)],'address':_0x4aaa98[_0x10e95e(0x60f)]?.[_0x10e95e(0x315)]}},_0x4aaa98?.['options']);}async[a0_0x4fecf3(0x316)](_0x468967){const _0x2b0a01=a0_0x4fecf3;let _0x14bf01={},_0x586bc1=_0x1a0398=>{const _0x1cb5cc=a0_0x5137;let _0x15a17b='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x1a0398[_0x1cb5cc(0x248)]+'\x0aFN:'+_0x1a0398['fullName']+'\x0a';_0x1a0398[_0x1cb5cc(0x3dc)]&&(_0x15a17b+=_0x1cb5cc(0x7d4)+_0x1a0398[_0x1cb5cc(0x3dc)]+';\x0a'),_0x1a0398['email']&&(_0x15a17b+=_0x1cb5cc(0x67d)+_0x1a0398['email']+'\x0a'),_0x1a0398[_0x1cb5cc(0x4eb)]&&(_0x15a17b+='URL:'+_0x1a0398[_0x1cb5cc(0x4eb)]+'\x0a');let _0x2129f8='';return _0x1a0398[_0x1cb5cc(0x21c)]&&_0x1a0398['phoneNumber'][_0x1cb5cc(0x579)]('|')[_0x1cb5cc(0x697)]((_0x415c24,_0x42b4b7)=>{const _0x38d431=_0x1cb5cc;let _0x4bbb69=this[_0x38d431(0x654)](_0x415c24)[_0x38d431(0x6eb)](_0x38d431(0x5b6),'');_0x2129f8+=_0x38d431(0x2ae)+(_0x42b4b7+0x1)+_0x38d431(0x707)+_0x4bbb69+':'+_0x415c24+_0x38d431(0x3c8)+(_0x42b4b7+0x1)+_0x38d431(0x743);}),_0x15a17b+=_0x2129f8+_0x1cb5cc(0x7f4),_0x15a17b;};return _0x468967[_0x2b0a01(0x316)][_0x2b0a01(0x7da)]===0x1?_0x14bf01['contactMessage']={'displayName':_0x468967[_0x2b0a01(0x316)][0x0][_0x2b0a01(0x248)],'vcard':_0x586bc1(_0x468967[_0x2b0a01(0x316)][0x0])}:_0x14bf01['contactsArrayMessage']={'displayName':_0x468967[_0x2b0a01(0x316)][_0x2b0a01(0x7da)]+'\x20contacts','contacts':_0x468967['contactMessage'][_0x2b0a01(0x428)](_0x7b5e88=>({'displayName':_0x7b5e88[_0x2b0a01(0x248)],'vcard':_0x586bc1(_0x7b5e88)}))},await this[_0x2b0a01(0x4a4)](_0x468967['number'],{..._0x14bf01},_0x468967?.['options']);}async['reactionMessage'](_0x22d8cc){const _0x4f6aae=a0_0x4fecf3;return await this[_0x4f6aae(0x4a4)](_0x22d8cc[_0x4f6aae(0x786)][_0x4f6aae(0x283)][_0x4f6aae(0x48b)],{'reactionMessage':{'key':_0x22d8cc[_0x4f6aae(0x786)]['key'],'text':_0x22d8cc[_0x4f6aae(0x786)][_0x4f6aae(0x710)]}});}async['whatsappNumber'](_0x536ff4){const _0x8a0749=a0_0x4fecf3;let _0x2144f0=[];for await(let _0x2f2c21 of _0x536ff4[_0x8a0749(0x3a3)]){let _0xfc16a2=this['createJid'](_0x2f2c21),_0x240d56=!0x1;try{if((0x0,m[_0x8a0749(0x719)])(_0xfc16a2)){let _0x4cd15f=await this[_0x8a0749(0x716)]({'groupJid':_0xfc16a2},_0x8a0749(0x50b));_0x2144f0['push'](new fe(_0x4cd15f[_0x8a0749(0x5a6)]['id'],!!_0x4cd15f?.[_0x8a0749(0x5a6)]['id'],_0x4cd15f?.[_0x8a0749(0x5a6)][_0x8a0749(0x4d8)])),_0x240d56=!!_0x4cd15f?.[_0x8a0749(0x5a6)]['id'];}else{let _0x5bafde=(await this['client'][_0x8a0749(0x495)](_0xfc16a2))[0x0];_0x2144f0['push'](new fe(_0x5bafde[_0x8a0749(0x43c)],_0x5bafde['exists'])),_0x240d56=_0x5bafde[_0x8a0749(0x4ad)];}}catch{await this['checkAndUpdateChatStatus'](_0xfc16a2,_0x240d56),_0x2144f0[_0x8a0749(0x4b4)](new fe(_0x2f2c21,!0x1));}}return _0x2144f0;}async['checkAndUpdateChatStatus'](_0x2f181a,_0x5d028e){const _0x557bb7=a0_0x4fecf3;try{await this[_0x557bb7(0x35c)]['chat']['findOne']({'where':{'_id':_0x2f181a,'imported':!0x0}},this[_0x557bb7(0x3f9)][_0x557bb7(0x56a)])&&(_0x5d028e||(await this[_0x557bb7(0x35c)]['chat']['deleteChat'](_0x2f181a,this['instance'][_0x557bb7(0x56a)]),console[_0x557bb7(0x635)]('Chat\x20com\x20ID\x20'+_0x2f181a+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x47772b){console[_0x557bb7(0x2cb)](_0x557bb7(0x525),_0x47772b);}}async[a0_0x4fecf3(0x21f)](_0x433e7e){const _0x53db5a=a0_0x4fecf3;try{let _0xc3222e=_0x433e7e['readMessages'][_0x53db5a(0x6b9)](_0x521c20=>(0x0,m[_0x53db5a(0x719)])(_0x521c20[_0x53db5a(0x48b)])||(0x0,m[_0x53db5a(0x776)])(_0x521c20[_0x53db5a(0x48b)]))[_0x53db5a(0x428)](_0x27dec3=>({'remoteJid':_0x27dec3['remoteJid'],'fromMe':_0x27dec3[_0x53db5a(0x235)],'id':_0x27dec3['id']}));await this[_0x53db5a(0x43e)][_0x53db5a(0x47d)](_0xc3222e);let _0x18c6df=_0xc3222e['map'](_0x22ff8c=>this['updateMessage'](_0x22ff8c,{'status':_0x53db5a(0x3af),'owner':this[_0x53db5a(0x3f9)][_0x53db5a(0x56a)]})),_0xa0adc4=_0xc3222e[_0x53db5a(0x428)](_0x8fa9fc=>this['repository'][_0x53db5a(0x205)]['updateOne']({'where':{'_id':_0x8fa9fc[_0x53db5a(0x48b)]}},{'unreadcount':0x0},this['instance'][_0x53db5a(0x56a)])),[_0x32f688,_0x2b0eb5]=await Promise[_0x53db5a(0x5dd)]([Promise[_0x53db5a(0x5dd)](_0x18c6df),Promise[_0x53db5a(0x5dd)](_0xa0adc4)]);return _0x2b0eb5['filter'](_0x355c67=>_0x355c67!==null)[_0x53db5a(0x697)](_0x3e943b=>{const _0x5f2bb6=_0x53db5a;F(this[_0x5f2bb6(0x1e0)],_0x5f2bb6(0x246),{'chat':_0x3e943b});}),{'message':_0x53db5a(0x51f),'read':_0x53db5a(0x172)};}catch(_0x34c1be){throw console[_0x53db5a(0x2cb)]('Error\x20in\x20markMessageAsRead:',_0x34c1be),new I(_0x53db5a(0x3e0),_0x34c1be[_0x53db5a(0x2c2)]());}}async[a0_0x4fecf3(0x35a)](_0x4774c4){const _0x54dd20=a0_0x4fecf3;let _0x23ed72={'where':{'key':{'remoteJid':_0x4774c4}},'limit':0x1},_0x561dcc=await this[_0x54dd20(0x505)](_0x23ed72);return _0x561dcc||(console[_0x54dd20(0x2cb)](_0x54dd20(0x632),_0x4774c4),null);}async['archiveChat'](_0x22230e){const _0x5c15e7=a0_0x4fecf3;this[_0x5c15e7(0x732)][_0x5c15e7(0x769)](_0x5c15e7(0x171));try{let _0x587eb4=_0x22230e[_0x5c15e7(0x6b7)],_0x240016=_0x22230e[_0x5c15e7(0x205)];if(!_0x587eb4&&_0x240016?_0x587eb4=await this[_0x5c15e7(0x35a)](_0x240016):(_0x587eb4=_0x22230e['lastMessage'],_0x587eb4['messageTimestamp']=_0x587eb4?.[_0x5c15e7(0x37a)]??Date['now'](),_0x240016=_0x587eb4?.[_0x5c15e7(0x283)]?.[_0x5c15e7(0x48b)]),!_0x587eb4||Object[_0x5c15e7(0x3bf)](_0x587eb4)['length']===0x0)throw new j(_0x5c15e7(0x21d));this[_0x5c15e7(0x732)]['verbose']('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x240016);try{await this['client']['chatModify']({'archive':_0x22230e[_0x5c15e7(0x7fe)],'lastMessages':[_0x587eb4]},this['createJid'](_0x240016));}catch(_0x3d57f9){this[_0x5c15e7(0x732)][_0x5c15e7(0x2cb)](_0x5c15e7(0x3ec)+_0x240016+':\x20'+_0x3d57f9[_0x5c15e7(0x2c2)]());}this[_0x5c15e7(0x732)][_0x5c15e7(0x769)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x240016);let _0x260a1b=await this[_0x5c15e7(0x35c)]['chat']['updateOne']({'where':{'_id':_0x587eb4?.[_0x5c15e7(0x283)]?.['remoteJid']}},{'archived':_0x22230e['archive']},this[_0x5c15e7(0x3f9)]['wuid']);return _0x260a1b?(this[_0x5c15e7(0x732)]['verbose']('Notifying\x20clients\x20for\x20chat:\x20'+JSON['stringify'](_0x260a1b)),F(this['instanceName'],_0x5c15e7(0x246),{'chat':_0x260a1b})):this[_0x5c15e7(0x732)][_0x5c15e7(0x2cb)]('Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x240016),{'chatId':_0x240016,'archived':_0x22230e[_0x5c15e7(0x7fe)]};}catch(_0x769ed1){throw this[_0x5c15e7(0x732)]['error'](_0x5c15e7(0x553)+_0x769ed1[_0x5c15e7(0x2c2)]()),new I({'archived':!0x1,'message':[_0x5c15e7(0x297),_0x769ed1[_0x5c15e7(0x2c2)]()]});}}async['deleteChat'](_0x23940a){const _0x56851c=a0_0x4fecf3;this[_0x56851c(0x732)]['verbose']('Delete\x20chat');try{let _0xd8a893=await this['getLastMessage'](_0x23940a);if(!_0xd8a893||Object['keys'](_0xd8a893)[_0x56851c(0x7da)]===0x0)throw new j(_0x56851c(0x21d));let _0x5515f2=_0xd8a893[0x0];this['logger']['verbose'](_0x56851c(0x501)+_0x23940a);try{await this['client'][_0x56851c(0x2cf)]({'delete':!0x0,'lastMessages':[{'key':_0x5515f2[_0x56851c(0x283)],'messageTimestamp':_0x5515f2[_0x56851c(0x37a)]}]},this['createJid'](_0x23940a));}catch(_0x2ada43){this[_0x56851c(0x732)][_0x56851c(0x2cb)](_0x56851c(0x3ec)+_0x23940a+':\x20'+_0x2ada43['toString']());}this['logger'][_0x56851c(0x769)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x23940a);return;}catch(_0x161c1b){throw this[_0x56851c(0x732)][_0x56851c(0x2cb)]('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x161c1b[_0x56851c(0x2c2)]()),new I({'archived':!0x1,'message':[_0x56851c(0x297),_0x161c1b[_0x56851c(0x2c2)]()]});}}async['deleteMessage'](_0x390029){const _0xee78b7=a0_0x4fecf3;try{let _0x3d6c44=await this['client'][_0xee78b7(0x4d4)](_0x390029['remoteJid'],{'delete':_0x390029});try{let _0x2da99b=await this[_0xee78b7(0x46a)](_0x390029,{'status':_0xee78b7(0x32f),'owner':this[_0xee78b7(0x3f9)][_0xee78b7(0x56a)]});this[_0xee78b7(0x732)][_0xee78b7(0x769)](this[_0xee78b7(0x1e0)]+'\x20('+this[_0xee78b7(0x3f9)][_0xee78b7(0x56a)]+'):\x20updateResult:'+_0x2da99b);}catch(_0x107cde){console[_0xee78b7(0x2cb)]('Error\x20updating\x20message\x20status:',_0x107cde);}return _0x3d6c44;}catch(_0x2e75ef){throw new I(_0xee78b7(0x5b4),_0x2e75ef?.[_0xee78b7(0x2c2)]());}}async[a0_0x4fecf3(0x5e8)](_0x166170){const _0x4502b9=a0_0x4fecf3;try{let _0x511203=_0x166170?.['message']?_0x166170:await this['getMessage'](_0x166170[_0x4502b9(0x283)],!0x0);for(let _0x285e6b of va)_0x511203[_0x4502b9(0x6c9)][_0x285e6b]&&(_0x511203['message']=_0x511203[_0x4502b9(0x6c9)][_0x285e6b][_0x4502b9(0x6c9)]);let _0x178a69,_0x1ffc4b;for(let _0x3e39f2 of Ma)if(_0x178a69=_0x511203[_0x4502b9(0x6c9)][_0x3e39f2],_0x178a69){_0x1ffc4b=_0x3e39f2;break;}if(!_0x178a69)throw _0x4502b9(0x67c);typeof _0x178a69[_0x4502b9(0x392)]==_0x4502b9(0x646)&&(_0x511203['message']=JSON[_0x4502b9(0x164)](JSON[_0x4502b9(0x155)](_0x511203['message'])));let _0x22cded=await(0x0,m[_0x4502b9(0x5cc)])({'key':_0x511203?.['key'],'message':_0x511203?.['message']},_0x4502b9(0x397),{},{'logger':(0x0,$t[_0x4502b9(0x3cc)])({'level':_0x4502b9(0x16a)}),'reuploadRequest':this[_0x4502b9(0x43e)][_0x4502b9(0x55f)]});if(!(_0x22cded instanceof Buffer))throw new Error(_0x4502b9(0x5d4));let _0x1c465c=this[_0x4502b9(0x6e7)][_0x4502b9(0x46f)](_0x4502b9(0x19a)),_0xbd2129,_0x1c9613;if(_0x178a69['fileName'])_0xbd2129=_0x178a69['fileName'];else{let _0x36d7f9=_0x178a69[_0x4502b9(0x51e)]?.['match'](/\/(\w+)/),_0x3de21d=_0x36d7f9?_0x36d7f9[0x1]:null;if(!_0x3de21d)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0xbd2129=(0x0,Re['v4'])()+'.'+_0x3de21d;}_0x1ffc4b===_0x4502b9(0x4f6)&&_0x178a69['mimetype']===_0x4502b9(0x75b)?(_0xbd2129=(0x0,Re['v4'])()+_0x4502b9(0x5d9),_0x1c9613='/media/'+await this['convertaudio'](_0x22cded[_0x4502b9(0x2c2)](_0x4502b9(0x479)))):(await this['saveMediaToFile'](_0x22cded,_0xbd2129),_0x1c9613=_0x4502b9(0x572)+_0xbd2129);let _0x32c779=this[_0x4502b9(0x6e7)][_0x4502b9(0x46f)](_0x4502b9(0x3cd))[_0x4502b9(0x81c)];if(!_0x32c779){let _0x4b24d6=this[_0x4502b9(0x6e7)][_0x4502b9(0x46f)](_0x4502b9(0x683));_0x32c779='https://'+(_0x4b24d6&&_0x4b24d6[_0x4502b9(0x313)]['split']('/')[0x4]);}_0x1c9613=''+_0x32c779+_0x1c9613;let _0x480c44=0xc*0x3c*0x3c*0x3e8,_0x301fc7={'where':{'_id':_0x511203[_0x4502b9(0x283)]['id']}},_0x5ceeff={'message_normalized.fileUrl':_0x1c9613,'message_normalized.expires_fileUrl':Date[_0x4502b9(0x587)]()+_0x480c44};try{let _0x50b562=await this['repository'][_0x4502b9(0x6c9)][_0x4502b9(0x724)](_0x301fc7,_0x5ceeff,this['instance'][_0x4502b9(0x56a)]);_0x50b562&&F(this[_0x4502b9(0x1e0)],'messages',{'message':_0x50b562});}catch(_0xf42b92){this[_0x4502b9(0x732)][_0x4502b9(0x2cb)](this[_0x4502b9(0x1e0)]+'\x20('+this[_0x4502b9(0x3f9)][_0x4502b9(0x56a)]+_0x4502b9(0x6cc)+(_0xf42b92 instanceof Error?_0xf42b92[_0x4502b9(0x6c9)]:JSON[_0x4502b9(0x155)](_0xf42b92,null,0x2)));}return{'mediaType':_0x1ffc4b,'fileName':_0x178a69[_0x4502b9(0x3e1)],'caption':_0x178a69[_0x4502b9(0x2da)],'size':{'fileLength':_0x178a69[_0x4502b9(0x49a)],'height':_0x178a69['height'],'width':_0x178a69[_0x4502b9(0x448)]},'mimetype':_0x178a69[_0x4502b9(0x51e)],'base64':_0x22cded[_0x4502b9(0x2c2)](_0x4502b9(0x479)),'fileUrl':_0x1c9613,'expires_fileUrl':Date[_0x4502b9(0x587)]()+_0x480c44};}catch(_0x18cdc3){throw this['logger'][_0x4502b9(0x2cb)](this['instanceName']+'\x20('+this['instance'][_0x4502b9(0x56a)]+_0x4502b9(0x6cc)+(_0x18cdc3 instanceof Error?_0x18cdc3[_0x4502b9(0x6c9)]:JSON['stringify'](_0x18cdc3,null,0x2))),new w(_0x18cdc3[_0x4502b9(0x2c2)]());}}async['saveMediaToFile'](_0x405707,_0x325c97){const _0x3d9f92=a0_0x4fecf3;let _0x526198=J['default'][_0x3d9f92(0x386)](__dirname,'downloads');q[_0x3d9f92(0x69c)](_0x526198)||q[_0x3d9f92(0x793)](_0x526198,{'recursive':!0x0});let _0x31ea66=J[_0x3d9f92(0x3cc)]['join'](_0x526198,_0x325c97);return new Promise((_0x127679,_0x36ff94)=>{const _0x3e07c3=_0x3d9f92;q[_0x3e07c3(0x3b3)](_0x31ea66,_0x405707,_0x3294f8=>{const _0x303f1d=_0x3e07c3;_0x3294f8?(this[_0x303f1d(0x732)]['error'](_0x303f1d(0x468)+(_0x3294f8 instanceof Error?_0x3294f8['message']:JSON[_0x303f1d(0x155)](_0x3294f8,null,0x2))),_0x36ff94(_0x3294f8)):(this[_0x303f1d(0x732)][_0x303f1d(0x635)](_0x303f1d(0x4cc)+_0x31ea66),_0x127679(_0x31ea66));});});}async['fetchContacts'](_0x4526c8){const _0x704ae7=a0_0x4fecf3;return await this['repository'][_0x704ae7(0x661)]['find'](_0x4526c8,this[_0x704ae7(0x3f9)][_0x704ae7(0x56a)]);}async[a0_0x4fecf3(0x740)](){const _0x100f7d=a0_0x4fecf3;return await this[_0x100f7d(0x35c)]['label'][_0x100f7d(0x201)]({'where':{}},this['instance'][_0x100f7d(0x56a)]);}async['fetchMessages'](_0x59270f){const _0x42961b=a0_0x4fecf3;return await this[_0x42961b(0x35c)]['message']['find'](_0x59270f,this[_0x42961b(0x3f9)][_0x42961b(0x56a)]);}async[a0_0x4fecf3(0x290)](){const _0x58a475=a0_0x4fecf3;return this[_0x58a475(0x35c)][_0x58a475(0x205)][_0x58a475(0x170)](this['instance'][_0x58a475(0x56a)]),this[_0x58a475(0x35c)][_0x58a475(0x205)][_0x58a475(0x7c2)](this['instance'][_0x58a475(0x56a)]),this[_0x58a475(0x35c)][_0x58a475(0x205)]['updateMissingTags'](this[_0x58a475(0x3f9)][_0x58a475(0x56a)]),this['repository'][_0x58a475(0x205)]['updateMissingCustomFields'](this['instance'][_0x58a475(0x56a)]),await this[_0x58a475(0x35c)]['chat']['find']({'where':{}},this[_0x58a475(0x3f9)][_0x58a475(0x56a)]);}async[a0_0x4fecf3(0x3ca)](_0x73839d){const _0x12411d=a0_0x4fecf3;try{if(!Array[_0x12411d(0x5ff)](_0x73839d)||_0x73839d[_0x12411d(0x7da)]===0x0)throw new Error(_0x12411d(0x42e));let _0x53818a=[],_0x4748cf=[];for(let _0x47945b of _0x73839d){if(_0x47945b[_0x12411d(0x4d1)])_0x47945b[_0x12411d(0x4d1)]=this[_0x12411d(0x654)](_0x47945b['_id']);else continue;await this[_0x12411d(0x35c)]['chat'][_0x12411d(0x338)]({'where':{'_id':_0x47945b[_0x12411d(0x4d1)]}},this[_0x12411d(0x3f9)][_0x12411d(0x56a)])?_0x4748cf[_0x12411d(0x4b4)]({'_id':_0x47945b['_id'],'leadInfo':_0x47945b['leadInfo'],'owner':this[_0x12411d(0x3f9)]['wuid']}):_0x53818a[_0x12411d(0x4b4)]({'_id':_0x47945b[_0x12411d(0x4d1)],'owner':this['instance'][_0x12411d(0x56a)],'leadInfo':_0x47945b['leadInfo'],'imported':!0x0});}return _0x4748cf[_0x12411d(0x7da)]>0x0&&await this[_0x12411d(0x35c)][_0x12411d(0x205)][_0x12411d(0x152)](_0x4748cf['map'](_0x336a41=>({'query':{'where':{'_id':_0x336a41[_0x12411d(0x4d1)],'owner':this[_0x12411d(0x3f9)][_0x12411d(0x56a)]}},'update':_0x336a41}))),_0x53818a[_0x12411d(0x7da)]>0x0&&await this[_0x12411d(0x35c)][_0x12411d(0x205)][_0x12411d(0x688)](_0x53818a,this[_0x12411d(0x3f9)][_0x12411d(0x56a)]),{'updated':_0x4748cf[_0x12411d(0x7da)],'inserted':_0x53818a['length']};}catch(_0x2ed4fd){throw console[_0x12411d(0x2cb)](_0x12411d(0x43a),_0x2ed4fd),_0x2ed4fd;}}async[a0_0x4fecf3(0x59f)](_0xe4ee5d){const _0x2caaa1=a0_0x4fecf3;try{if(!Array[_0x2caaa1(0x5ff)](_0xe4ee5d)||_0xe4ee5d[_0x2caaa1(0x7da)]===0x0)throw new Error(_0x2caaa1(0x42e));let _0x21ad26=0x64,_0x1a98b6=0x0;for(let _0x5d0c57=0x0;_0x5d0c57<_0xe4ee5d[_0x2caaa1(0x7da)];_0x5d0c57+=_0x21ad26){let _0x2a0c4b=_0xe4ee5d[_0x2caaa1(0x704)](_0x5d0c57,_0x5d0c57+_0x21ad26),{updated:_0x859629}=await this[_0x2caaa1(0x71c)](_0x2a0c4b);_0x1a98b6+=_0x859629;}return{'updated':_0x1a98b6};}catch(_0x4b7667){throw console[_0x2caaa1(0x2cb)](_0x2caaa1(0x43a),_0x4b7667),_0x4b7667;}}async[a0_0x4fecf3(0x71c)](_0x161b3a){const _0x3279fb=a0_0x4fecf3;try{let _0x30d568=await this[_0x3279fb(0x35c)][_0x3279fb(0x40e)]['find']({'where':{}},this[_0x3279fb(0x3f9)][_0x3279fb(0x56a)]),_0x444a04=new Set(_0x30d568['map'](_0x2ddcd2=>_0x2ddcd2[_0x3279fb(0x4d1)])),_0x46a3c5=[],_0x25a7d5=[];for(let _0x5d54bd of _0x161b3a){if(!_0x5d54bd[_0x3279fb(0x4d1)])continue;_0x5d54bd[_0x3279fb(0x4d1)]=this['createJid'](_0x5d54bd[_0x3279fb(0x4d1)]);let _0x272eec=await this[_0x3279fb(0x35c)]['chat'][_0x3279fb(0x338)]({'where':{'_id':_0x5d54bd[_0x3279fb(0x4d1)]}},this['instance']['wuid']),_0x5a2e0b={};if(Object[_0x3279fb(0x4ef)](_0x5d54bd[_0x3279fb(0x7c8)])['forEach'](([_0x5bf941,_0x336f0f])=>{const _0x2727e1=_0x3279fb;_0x5a2e0b[_0x2727e1(0x81a)+_0x5bf941]=_0x336f0f;}),_0x272eec&&!_0x272eec[_0x3279fb(0x24c)]){let _0x1d8b18=(_0x5d54bd['leadInfo']['etiquetas']||[])['filter'](_0x1ecb9b=>_0x444a04[_0x3279fb(0x311)](_0x1ecb9b)),_0x3c8d42=new Set(_0x272eec[_0x3279fb(0x7c8)][_0x3279fb(0x471)]||[]),_0x509993=_0x1d8b18['filter'](_0x5c1ffc=>!_0x3c8d42[_0x3279fb(0x311)](_0x5c1ffc)),_0x40203f=[..._0x3c8d42][_0x3279fb(0x6b9)](_0x1e8e63=>!_0x1d8b18[_0x3279fb(0x207)](_0x1e8e63));_0x25a7d5[_0x3279fb(0x4b4)](..._0x509993[_0x3279fb(0x428)](_0x16f268=>this[_0x3279fb(0x447)](_0x16f268,_0x5d54bd['_id']))),_0x25a7d5[_0x3279fb(0x4b4)](..._0x40203f[_0x3279fb(0x428)](_0x1a8b98=>this[_0x3279fb(0x321)](_0x1a8b98,_0x5d54bd[_0x3279fb(0x4d1)]))),_0x5d54bd[_0x3279fb(0x7c8)][_0x3279fb(0x471)]=_0x1d8b18,_0x46a3c5[_0x3279fb(0x4b4)]({'query':{'where':{'_id':_0x5d54bd['_id'],'owner':this[_0x3279fb(0x3f9)][_0x3279fb(0x56a)]}},'update':_0x5a2e0b});}else _0x5a2e0b[_0x3279fb(0x24c)]=!0x0,_0x46a3c5[_0x3279fb(0x4b4)]({'query':{'where':{'_id':_0x5d54bd[_0x3279fb(0x4d1)],'owner':this[_0x3279fb(0x3f9)]['wuid']}},'update':_0x5a2e0b});}let _0x55542b=await this[_0x3279fb(0x35c)][_0x3279fb(0x205)][_0x3279fb(0x152)](_0x46a3c5);return await Promise[_0x3279fb(0x5dd)](_0x25a7d5),{'updated':_0x55542b};}catch(_0x3e9b7a){throw console[_0x3279fb(0x2cb)](_0x3279fb(0x43a),_0x3e9b7a),_0x3e9b7a;}}async[a0_0x4fecf3(0x783)](){const _0x5bfbf7=a0_0x4fecf3;return await this[_0x5bfbf7(0x43e)][_0x5bfbf7(0x783)]();}async[a0_0x4fecf3(0x7f6)](_0x1e205d){const _0x20feed=a0_0x4fecf3;try{return await this[_0x20feed(0x43e)][_0x20feed(0x6d1)](_0x1e205d[_0x20feed(0x18f)][_0x20feed(0x27b)]),await this['client'][_0x20feed(0x5bb)](_0x1e205d[_0x20feed(0x18f)]['profile']),await this[_0x20feed(0x43e)]['updateStatusPrivacy'](_0x1e205d[_0x20feed(0x18f)]['status']),await this[_0x20feed(0x43e)][_0x20feed(0x7a5)](_0x1e205d[_0x20feed(0x18f)]['online']),await this[_0x20feed(0x43e)][_0x20feed(0x57e)](_0x1e205d['privacySettings'][_0x20feed(0x4a0)]),await this[_0x20feed(0x43e)][_0x20feed(0x2d3)](_0x1e205d['privacySettings'][_0x20feed(0x216)]),this[_0x20feed(0x43e)]?.['ws']?.[_0x20feed(0x291)](),{'update':_0x20feed(0x172),'data':{'readreceipts':_0x1e205d[_0x20feed(0x18f)][_0x20feed(0x27b)],'profile':_0x1e205d[_0x20feed(0x18f)][_0x20feed(0x21e)],'status':_0x1e205d['privacySettings'][_0x20feed(0x395)],'online':_0x1e205d[_0x20feed(0x18f)][_0x20feed(0x606)],'last':_0x1e205d['privacySettings'][_0x20feed(0x4a0)],'groupadd':_0x1e205d[_0x20feed(0x18f)][_0x20feed(0x216)]}};}catch(_0x8a49f3){throw new I(_0x20feed(0x5e9),_0x8a49f3[_0x20feed(0x2c2)]());}}async['fetchProfile'](_0x4cf88b){const _0x5dfbaf=a0_0x4fecf3;let _0x5f1d9c=(_0x4cf88b?this[_0x5dfbaf(0x654)](_0x4cf88b):this[_0x5dfbaf(0x43e)]?.['user']?.['id'])[_0x5dfbaf(0x6eb)](/:\d{1,2}@/g,'@');this[_0x5dfbaf(0x732)][_0x5dfbaf(0x769)](_0x5dfbaf(0x796)+_0x5f1d9c);let _0x363245=await this[_0x5dfbaf(0x35c)][_0x5dfbaf(0x661)][_0x5dfbaf(0x338)]({'where':{'_id':_0x5f1d9c}},this['instance'][_0x5dfbaf(0x56a)]),_0x1cae73=_0x363245?_0x363245[_0x5dfbaf(0x5ef)]:null;try{let _0xacca60=(await this[_0x5dfbaf(0x45b)]({'numbers':[_0x5f1d9c]}))?.[_0x5dfbaf(0x192)](),_0x372fc1=(await this[_0x5dfbaf(0x51b)](_0x5f1d9c,null,!0x1))[_0x5dfbaf(0x414)]['pictureUrl'],_0x5be3e2=await this[_0x5dfbaf(0x6e8)](_0xacca60?.[_0x5dfbaf(0x43c)]),_0x1d9f95=await this[_0x5dfbaf(0x153)](_0xacca60?.[_0x5dfbaf(0x43c)]),_0x593a48=(await this[_0x5dfbaf(0x51b)](_0x5f1d9c,null,!0x1))[_0x5dfbaf(0x414)][_0x5dfbaf(0x804)],_0x53eabb=await this[_0x5dfbaf(0x35c)]['chat']['findOne']({'where':{'_id':_0x5f1d9c}},this[_0x5dfbaf(0x3f9)][_0x5dfbaf(0x56a)]),_0x216e57={'imagechat':_0x372fc1,'contactname':_0x1cae73||null,'pushName':_0x593a48,'status':_0x5be3e2?.[_0x5dfbaf(0x395)],'isBusiness':_0x1d9f95[_0x5dfbaf(0x28c)],'email':_0x1d9f95?.[_0x5dfbaf(0x6c0)],'description':_0x1d9f95?.[_0x5dfbaf(0x759)],'website':_0x1d9f95?.['website']?.[_0x5dfbaf(0x192)](),'lastcache':Date[_0x5dfbaf(0x587)](),'imported':!_0x53eabb},_0x37d3b8=await this[_0x5dfbaf(0x35c)][_0x5dfbaf(0x205)][_0x5dfbaf(0x530)]({'where':{'_id':_0x5f1d9c}},_0x216e57,this[_0x5dfbaf(0x3f9)]['wuid']),_0x174ef9={'owner':this[_0x5dfbaf(0x3f9)][_0x5dfbaf(0x56a)],'_id':_0x5f1d9c,'profilePictureUrl':_0x372fc1,'status':_0x5be3e2?.[_0x5dfbaf(0x395)]};return this['repository'][_0x5dfbaf(0x661)][_0x5dfbaf(0x724)]([_0x174ef9],this[_0x5dfbaf(0x3f9)][_0x5dfbaf(0x56a)]),_0x37d3b8&&F(this['instanceName'],_0x5dfbaf(0x246),{'chat':_0x37d3b8}),{'wuid':_0xacca60?.[_0x5dfbaf(0x43c)]||_0x5f1d9c,'name':_0xacca60?.[_0x5dfbaf(0x804)],'pushName':_0x593a48,'numberExists':_0xacca60?.['exists'],'picture':_0x372fc1,'status':_0x5be3e2?.[_0x5dfbaf(0x395)],'isBusiness':_0x1d9f95[_0x5dfbaf(0x28c)],'email':_0x1d9f95?.['email'],'description':_0x1d9f95?.['description'],'website':_0x1d9f95?.['website']?.[_0x5dfbaf(0x192)]()};}catch(_0x399f5a){return this[_0x5dfbaf(0x732)][_0x5dfbaf(0x2cb)](_0x5dfbaf(0x79a)+(_0x399f5a instanceof Error?_0x399f5a[_0x5dfbaf(0x6c9)]:JSON[_0x5dfbaf(0x155)](_0x399f5a,null,0x2))),{};}}async['fetchBusinessProfile'](_0xbe71f7){const _0x4fc63b=a0_0x4fecf3;this[_0x4fc63b(0x732)]['verbose']('Fetching\x20business\x20profile');try{let _0x395bd7=_0xbe71f7?this[_0x4fc63b(0x654)](_0xbe71f7):this[_0x4fc63b(0x3f9)][_0x4fc63b(0x56a)],_0x1b3e9a=await this['client']['getBusinessProfile'](_0x395bd7);return this[_0x4fc63b(0x732)][_0x4fc63b(0x769)](_0x4fc63b(0x23c)),_0x1b3e9a?(this[_0x4fc63b(0x732)][_0x4fc63b(0x769)](_0x4fc63b(0x514)),{'isBusiness':!0x0,..._0x1b3e9a}):{'isBusiness':!0x1,'message':_0x4fc63b(0x296),...(await this[_0x4fc63b(0x45b)]({'numbers':[_0x395bd7]}))?.['shift']()};}catch(_0x5ee8c1){throw new I(_0x4fc63b(0x47f),_0x5ee8c1[_0x4fc63b(0x2c2)]());}}async[a0_0x4fecf3(0x6e8)](_0x2fdfa2){const _0x719562=a0_0x4fecf3;let _0xd90ee2=this[_0x719562(0x654)](_0x2fdfa2);try{return{'wuid':_0xd90ee2,'status':(await this['client']['fetchStatus'](_0xd90ee2))?.[_0x719562(0x395)]};}catch{return{'wuid':_0xd90ee2,'status':null};}}async[a0_0x4fecf3(0x40c)](_0x4448d5){const _0x16b741=a0_0x4fecf3;try{return await this[_0x16b741(0x43e)][_0x16b741(0x40c)](_0x4448d5),{'update':_0x16b741(0x172)};}catch(_0x44b128){throw new I(_0x16b741(0x47f),_0x44b128[_0x16b741(0x2c2)]());}}async[a0_0x4fecf3(0x439)](_0x2e30fd){const _0x41e525=a0_0x4fecf3;try{return await this[_0x41e525(0x43e)]['updateProfileStatus'](_0x2e30fd),{'update':_0x41e525(0x172)};}catch(_0xb83170){throw new I(_0x41e525(0x301),_0xb83170[_0x41e525(0x2c2)]());}}async['updateProfilePicture'](_0x56d74c){const _0x305e86=a0_0x4fecf3;try{let _0x5f1367;if((0x0,P['isURL'])(_0x56d74c)){let _0x514213=new Date()[_0x305e86(0x4ae)](),_0x30145c=_0x56d74c+_0x305e86(0x812)+_0x514213;_0x5f1367=(await Z[_0x305e86(0x3cc)][_0x305e86(0x46f)](_0x30145c,{'responseType':'arraybuffer'}))[_0x305e86(0x441)];}else{if((0x0,P[_0x305e86(0x5a8)])(_0x56d74c))_0x5f1367=Buffer[_0x305e86(0x7f5)](_0x56d74c,'base64');else throw new w(_0x305e86(0x577));}return await this[_0x305e86(0x43e)][_0x305e86(0x72d)](this[_0x305e86(0x3f9)]['wuid'],_0x5f1367),{'update':'success'};}catch(_0x12dca0){throw new I('Error\x20updating\x20profile\x20picture',_0x12dca0[_0x305e86(0x2c2)]());}}async['removeProfilePicture'](){const _0x13a4c9=a0_0x4fecf3;try{return await this[_0x13a4c9(0x43e)]['removeProfilePicture'](this[_0x13a4c9(0x3f9)]['wuid']),{'update':'success'};}catch(_0x13902e){throw new I('Error\x20removing\x20profile\x20picture',_0x13902e[_0x13a4c9(0x2c2)]());}}async[a0_0x4fecf3(0x213)](_0x3caef0){const _0x4c3be5=a0_0x4fecf3;try{let _0x1a2ac4=_0x3caef0[_0x4c3be5(0x24d)][_0x4c3be5(0x428)](_0x340c0d=>this['createJid'](_0x340c0d)),{id:_0x23627d}=await this[_0x4c3be5(0x43e)][_0x4c3be5(0x5d6)](_0x3caef0['subject'],_0x1a2ac4);return _0x3caef0?.[_0x4c3be5(0x759)]&&await this[_0x4c3be5(0x43e)]['groupUpdateDescription'](_0x23627d,_0x3caef0[_0x4c3be5(0x759)]),{'metadata':await this[_0x4c3be5(0x43e)][_0x4c3be5(0x650)](_0x23627d)};}catch(_0xe1501d){throw this[_0x4c3be5(0x732)][_0x4c3be5(0x2cb)](this['instanceName']+'\x20('+this['instance'][_0x4c3be5(0x56a)]+_0x4c3be5(0x6cc)+(_0xe1501d instanceof Error?_0xe1501d['message']:JSON[_0x4c3be5(0x155)](_0xe1501d,null,0x2))),new I(_0x4c3be5(0x40a),_0xe1501d[_0x4c3be5(0x2c2)]());}}async[a0_0x4fecf3(0x66d)](_0x4ee680){const _0x2a5267=a0_0x4fecf3;try{let _0x5b2f1f;if((0x0,P[_0x2a5267(0x68c)])(_0x4ee680[_0x2a5267(0x543)])){let _0xced839=new Date()[_0x2a5267(0x4ae)](),_0x4049d1=_0x4ee680[_0x2a5267(0x543)]+_0x2a5267(0x812)+_0xced839;_0x5b2f1f=(await Z[_0x2a5267(0x3cc)][_0x2a5267(0x46f)](_0x4049d1,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,P['isBase64'])(_0x4ee680[_0x2a5267(0x543)]))_0x5b2f1f=Buffer[_0x2a5267(0x7f5)](_0x4ee680[_0x2a5267(0x543)],_0x2a5267(0x479));else throw new w(_0x2a5267(0x577));}return await this[_0x2a5267(0x43e)][_0x2a5267(0x72d)](_0x4ee680[_0x2a5267(0x62b)],_0x5b2f1f),{'update':_0x2a5267(0x172)};}catch(_0x180bf3){throw new I(_0x2a5267(0x26d),_0x180bf3[_0x2a5267(0x2c2)]());}}async[a0_0x4fecf3(0x29e)](_0x267911){const _0xd13ba=a0_0x4fecf3;try{return await this[_0xd13ba(0x43e)][_0xd13ba(0x2e6)](_0x267911[_0xd13ba(0x62b)],_0x267911[_0xd13ba(0x759)]),{'update':_0xd13ba(0x172)};}catch(_0x3c80b2){throw new I('Error\x20change\x20group\x20description',_0x3c80b2[_0xd13ba(0x2c2)]());}}async['groupName'](_0x324836){const _0x43b0a0=a0_0x4fecf3;try{return await this[_0x43b0a0(0x43e)][_0x43b0a0(0x578)](_0x324836[_0x43b0a0(0x62b)],_0x324836['name']),{'update':'success'};}catch(_0x1d3baf){throw new I('Error\x20change\x20group\x20name',_0x1d3baf[_0x43b0a0(0x2c2)]());}}async[a0_0x4fecf3(0x459)](_0x22dfea){const _0x325230=a0_0x4fecf3;try{let _0xf289e4=await this[_0x325230(0x43e)][_0x325230(0x692)](_0x22dfea[_0x325230(0x62b)],_0x22dfea['expiration']);return{'success':!0x0};}catch(_0x43bbfd){throw new w(_0x325230(0x2dc),_0x43bbfd[_0x325230(0x2c2)]());}}async['groupSetting'](_0xb7b4a9){const _0x42afcf=a0_0x4fecf3;try{return await this['client'][_0x42afcf(0x53d)](_0xb7b4a9[_0x42afcf(0x62b)],_0xb7b4a9[_0x42afcf(0x2eb)]),{'update':_0x42afcf(0x172)};}catch(_0x224282){throw new I(_0x42afcf(0x749),_0x224282[_0x42afcf(0x2c2)]());}}async[a0_0x4fecf3(0x183)](_0x8e200f){const _0x2f95fd=a0_0x4fecf3;try{if(_0x8e200f[_0x2f95fd(0x302)]===!0x0&&await this[_0x2f95fd(0x43e)]['groupSettingUpdate'](_0x8e200f[_0x2f95fd(0x62b)],'locked'),_0x8e200f[_0x2f95fd(0x302)]===!0x1&&await this[_0x2f95fd(0x43e)][_0x2f95fd(0x53d)](_0x8e200f['groupJid'],_0x2f95fd(0x50c)),_0x8e200f[_0x2f95fd(0x610)]===!0x0&&await this[_0x2f95fd(0x43e)][_0x2f95fd(0x53d)](_0x8e200f[_0x2f95fd(0x62b)],_0x2f95fd(0x747)),_0x8e200f[_0x2f95fd(0x610)]===!0x1&&await this[_0x2f95fd(0x43e)][_0x2f95fd(0x53d)](_0x8e200f['groupJid'],'not_announcement'),_0x8e200f[_0x2f95fd(0x7d2)]===!0x0&&await this[_0x2f95fd(0x43e)][_0x2f95fd(0x5ce)](_0x8e200f[_0x2f95fd(0x62b)],'all_member_add'),_0x8e200f[_0x2f95fd(0x7d2)]===!0x1&&await this['client'][_0x2f95fd(0x5ce)](_0x8e200f[_0x2f95fd(0x62b)],_0x2f95fd(0x26f)),_0x8e200f[_0x2f95fd(0x62f)]===!0x0&&await this[_0x2f95fd(0x43e)]['groupJoinApprovalMode'](_0x8e200f[_0x2f95fd(0x62b)],'on'),_0x8e200f[_0x2f95fd(0x62f)]===!0x1&&await this['client'][_0x2f95fd(0x344)](_0x8e200f['groupJid'],_0x2f95fd(0x1a4)),typeof _0x8e200f['expiration']<'u'&&_0x8e200f[_0x2f95fd(0x801)]!==null&&await this[_0x2f95fd(0x43e)][_0x2f95fd(0x692)](_0x8e200f[_0x2f95fd(0x62b)],_0x8e200f[_0x2f95fd(0x801)]),_0x8e200f['name']&&await this[_0x2f95fd(0x43e)][_0x2f95fd(0x578)](_0x8e200f[_0x2f95fd(0x62b)],_0x8e200f[_0x2f95fd(0x804)]),_0x8e200f[_0x2f95fd(0x759)]&&await this[_0x2f95fd(0x43e)]['groupUpdateDescription'](_0x8e200f[_0x2f95fd(0x62b)],_0x8e200f[_0x2f95fd(0x759)]),_0x8e200f[_0x2f95fd(0x543)]){let _0x114b1a;if((0x0,P[_0x2f95fd(0x68c)])(_0x8e200f[_0x2f95fd(0x543)])){let _0x43ca7d=new Date()[_0x2f95fd(0x4ae)](),_0x5e57d8=_0x8e200f['image']+_0x2f95fd(0x812)+_0x43ca7d;_0x114b1a=(await Z[_0x2f95fd(0x3cc)][_0x2f95fd(0x46f)](_0x5e57d8,{'responseType':_0x2f95fd(0x7c3)}))[_0x2f95fd(0x441)];}else{if((0x0,P[_0x2f95fd(0x5a8)])(_0x8e200f['image']))_0x114b1a=Buffer['from'](_0x8e200f[_0x2f95fd(0x543)],'base64');else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x2f95fd(0x43e)][_0x2f95fd(0x72d)](_0x8e200f[_0x2f95fd(0x62b)],_0x114b1a);}return await this[_0x2f95fd(0x716)]({'groupJid':_0x8e200f[_0x2f95fd(0x62b)]},'inner');}catch(_0x4b86a3){throw new I(_0x2f95fd(0x749),_0x4b86a3['toString']());}}async['updateGParticipant'](_0x25e620){const _0x4ad458=a0_0x4fecf3;try{if(_0x25e620[_0x4ad458(0x2ca)]==='approve'||_0x25e620['action']===_0x4ad458(0x738)){let _0x8c33ab=_0x25e620[_0x4ad458(0x24d)]['map'](_0x343057=>this['createJid'](_0x343057));await this[_0x4ad458(0x43e)][_0x4ad458(0x722)](_0x25e620[_0x4ad458(0x62b)],_0x8c33ab,_0x25e620[_0x4ad458(0x2ca)]);}else{let _0x28a407=_0x25e620['participants'][_0x4ad458(0x428)](_0x4e2a41=>this[_0x4ad458(0x654)](_0x4e2a41));await this[_0x4ad458(0x43e)][_0x4ad458(0x521)](_0x25e620[_0x4ad458(0x62b)],_0x28a407,_0x25e620['action']);}return await this[_0x4ad458(0x716)]({'groupJid':_0x25e620[_0x4ad458(0x62b)]},_0x4ad458(0x50b));}catch(_0x2b5188){throw new w(_0x4ad458(0x231),_0x2b5188[_0x4ad458(0x2c2)]());}}async[a0_0x4fecf3(0x757)](_0x1a03e1){const _0x465ce0=a0_0x4fecf3;try{return await this[_0x465ce0(0x43e)][_0x465ce0(0x757)](_0x1a03e1[_0x465ce0(0x733)]);}catch(_0x26a08d){throw new I('Error\x20getting\x20invite\x20code\x20info',_0x26a08d['toString']());}}async[a0_0x4fecf3(0x716)](_0x334ae9,_0x4a5613=a0_0x4fecf3(0x1e9)){const _0x4accf2=a0_0x4fecf3;try{let _0x56d85c=await this[_0x4accf2(0x43e)][_0x4accf2(0x650)](_0x334ae9[_0x4accf2(0x62b)]),_0x4eb8a7=[];try{_0x4eb8a7=await this[_0x4accf2(0x43e)][_0x4accf2(0x182)](_0x334ae9[_0x4accf2(0x62b)]);}catch(_0x5e6c99){this[_0x4accf2(0x732)]['verbose'](this[_0x4accf2(0x1e0)]+'\x20('+this['instance'][_0x4accf2(0x56a)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x334ae9[_0x4accf2(0x62b)]+':\x20'+(_0x5e6c99 instanceof Error?_0x5e6c99[_0x4accf2(0x6c9)]:JSON[_0x4accf2(0x155)](_0x5e6c99,null,0x2)));}let _0x4a3d6b=null;try{_0x4a3d6b=(await this[_0x4accf2(0x51b)](_0x334ae9[_0x4accf2(0x62b)],null,!0x0))[_0x4accf2(0x414)][_0x4accf2(0x2e8)];}catch(_0x342016){this[_0x4accf2(0x732)]['verbose'](this[_0x4accf2(0x1e0)]+'\x20('+this[_0x4accf2(0x3f9)][_0x4accf2(0x56a)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x334ae9[_0x4accf2(0x62b)]+':\x20'+(_0x342016 instanceof Error?_0x342016[_0x4accf2(0x6c9)]:JSON[_0x4accf2(0x155)](_0x342016,null,0x2)));}let _0x1a3279=_0x56d85c[_0x4accf2(0x24d)][_0x4accf2(0x428)](_0xa06d85=>_0xa06d85['id']),_0x42f27c=_0x4eb8a7[_0x4accf2(0x428)](_0x2dbadd=>_0x2dbadd['jid']),_0x2836b3=await this['repository'][_0x4accf2(0x78e)][_0x4accf2(0x2e1)]([..._0x1a3279,..._0x42f27c]),_0x29fcf2=_0x56d85c[_0x4accf2(0x24d)][_0x4accf2(0x428)](_0x4d4250=>{const _0x228203=_0x4accf2;let _0x580d0f=_0x2836b3['find'](_0x358627=>_0x358627['_id']===_0x4d4250['id']);return{'id':_0x4d4250['id'],'status':_0x4d4250[_0x228203(0x75e)]?_0x4d4250['admin']:'normal','pushName':_0x580d0f?.[_0x228203(0x804)],'profilePictureUrl':_0x580d0f?.[_0x228203(0x2e8)]};}),_0x2e2085=_0x4eb8a7[_0x4accf2(0x428)](_0x553a4e=>{const _0x2ae7b2=_0x4accf2;let _0x1aa732=_0x2836b3[_0x2ae7b2(0x201)](_0x9700f7=>_0x9700f7[_0x2ae7b2(0x4d1)]===_0x553a4e['jid']);return{'id':_0x553a4e[_0x2ae7b2(0x43c)],'status':_0x2ae7b2(0x41f),'pushName':_0x1aa732?.[_0x2ae7b2(0x804)],'profilePictureUrl':_0x1aa732?.[_0x2ae7b2(0x2e8)],'request_method':_0x553a4e[_0x2ae7b2(0x792)],'request_time':_0x553a4e[_0x2ae7b2(0x803)]};}),_0x11b825=[..._0x29fcf2,..._0x2e2085];_0x56d85c[_0x4accf2(0x24d)]=_0x11b825;let _0x26d1ad=await this[_0x4accf2(0x35c)][_0x4accf2(0x205)][_0x4accf2(0x530)]({'where':{'_id':_0x334ae9[_0x4accf2(0x62b)]}},{'imagechat':_0x4a3d6b,'name':_0x56d85c[_0x4accf2(0x4d8)],'group_size':_0x56d85c[_0x4accf2(0x425)],'group_announce':_0x56d85c[_0x4accf2(0x610)],'group_isCommunity':_0x56d85c[_0x4accf2(0x3ba)],'lastcache':Date['now']()},this[_0x4accf2(0x3f9)][_0x4accf2(0x56a)]);return _0x26d1ad&&F(this[_0x4accf2(0x1e0)],_0x4accf2(0x246),{'chat':_0x26d1ad}),{'metadata':_0x56d85c,'image':_0x4a3d6b};}catch(_0x253cd4){if(_0x4a5613===_0x4accf2(0x50b))return;throw new j(_0x4accf2(0x630),_0x253cd4[_0x4accf2(0x2c2)]());}}async[a0_0x4fecf3(0x224)](){const _0x4e8908=a0_0x4fecf3;try{let _0x4c0772=await this[_0x4e8908(0x43e)][_0x4e8908(0x4c1)](),_0x347bcd=Object['values'](_0x4c0772)[_0x4e8908(0x6b9)](_0x5e40f1=>(0x0,m[_0x4e8908(0x719)])(_0x5e40f1?.['id']))[_0x4e8908(0x428)](async _0x328187=>{const _0x47e617=_0x4e8908;try{let _0x3c36d1=await this[_0x47e617(0x43e)][_0x47e617(0x47a)](_0x328187['id'],_0x47e617(0x4a3)),_0x336697=await this[_0x47e617(0x51b)](_0x328187['id'],_0x328187[_0x47e617(0x4d8)],!0x1),_0x114bdb=_0x336697[_0x47e617(0x414)][_0x47e617(0x2e8)],_0x7673dd={'groupJid':_0x328187?.['id'],'subject':_0x328187?.[_0x47e617(0x4d8)],'subjectOwner':_0x328187?.['subjectOwner']?.[_0x47e617(0x579)]('@')[0x0],'subjectTime':_0x328187?.[_0x47e617(0x4dc)],'size':_0x328187?.[_0x47e617(0x24d)]?.[_0x47e617(0x7da)],'owner':_0x328187?.[_0x47e617(0x480)]?.[_0x47e617(0x579)]('@')[0x0],'creation':_0x328187?.[_0x47e617(0x7f8)],'desc':_0x328187?.[_0x47e617(0x2af)],'restrict':_0x328187?.[_0x47e617(0x302)],'announce':_0x328187?.['announce'],'image':_0x114bdb,'isCommunity':_0x328187?.[_0x47e617(0x3ba)],'joinApprovalMode':_0x328187?.[_0x47e617(0x62f)],'memberCanAddParticipant':_0x328187?.[_0x47e617(0x7d2)]},_0xedc5e4=await this[_0x47e617(0x35c)][_0x47e617(0x205)][_0x47e617(0x530)]({'where':{'_id':_0x328187?.['id']}},{'imagechat':_0x336697['cachedContact']['pictureUrl'],'name':_0x328187?.[_0x47e617(0x4d8)],'group_size':_0x328187?.['size'],'group_announce':_0x328187?.[_0x47e617(0x610)],'group_isCommunity':_0x328187?.[_0x47e617(0x3ba)],'lastcache':Date['now']()},this['instance'][_0x47e617(0x56a)]);return _0xedc5e4&&F(this[_0x47e617(0x1e0)],_0x47e617(0x246),{'chat':_0xedc5e4}),_0x7673dd;}catch(_0x383842){return this[_0x47e617(0x732)][_0x47e617(0x769)](this[_0x47e617(0x1e0)]+'\x20('+this[_0x47e617(0x3f9)]['wuid']+_0x47e617(0x57d)+_0x328187['id']+':\x20'+(_0x383842 instanceof Error?_0x383842[_0x47e617(0x6c9)]:JSON[_0x47e617(0x155)](_0x383842,null,0x2))),null;}}),_0x34711f=(await Promise[_0x4e8908(0x5dd)](_0x347bcd))['filter'](_0x26d43f=>_0x26d43f!==null);return console[_0x4e8908(0x635)](_0x34711f['length']+_0x4e8908(0x4d6)),_0x34711f;}catch(_0x35a52b){throw new j(_0x4e8908(0x630),_0x35a52b['toString']());}}async['findGroups'](){const _0x344e77=a0_0x4fecf3;try{let _0x191828=[],_0x3ebd65=await this['client'][_0x344e77(0x4c1)](),_0x622adc=Object[_0x344e77(0x289)](_0x3ebd65),_0x37ed32=_0x622adc[_0x344e77(0x6b9)](_0x2d6010=>(0x0,m[_0x344e77(0x719)])(_0x2d6010?.['id']))['map'](async _0x406a8e=>{const _0x1f11ce=_0x344e77;try{return await this[_0x1f11ce(0x43e)][_0x1f11ce(0x47a)](_0x406a8e['id'],_0x1f11ce(0x4a3));}catch(_0xa727db){return this[_0x1f11ce(0x732)][_0x1f11ce(0x769)](this[_0x1f11ce(0x1e0)]+'\x20('+this[_0x1f11ce(0x3f9)]['wuid']+_0x1f11ce(0x63e)+_0x406a8e['id']+':\x20'+(_0xa727db instanceof Error?_0xa727db[_0x1f11ce(0x6c9)]:JSON['stringify'](_0xa727db,null,0x2))),null;}}),_0x5c0e9a=await Promise[_0x344e77(0x5dd)](_0x37ed32);for(let _0x2656b4=0x0;_0x2656b4<_0x622adc[_0x344e77(0x7da)];_0x2656b4++){let _0x3727bc=_0x622adc[_0x2656b4];if((0x0,m[_0x344e77(0x719)])(_0x3727bc?.['id'])){_0x191828[_0x344e77(0x4b4)]({'groupJid':_0x3727bc?.['id'],'subject':_0x3727bc?.['subject'],'subjectOwner':_0x3727bc?.[_0x344e77(0x7de)]?.[_0x344e77(0x579)]('@')[0x0],'subjectTime':_0x3727bc?.['subjectTime'],'size':_0x3727bc?.['participants']?.['length'],'owner':_0x3727bc?.['owner']?.[_0x344e77(0x579)]('@')[0x0],'creation':_0x3727bc?.[_0x344e77(0x7f8)],'desc':_0x3727bc?.[_0x344e77(0x2af)],'restrict':_0x3727bc?.[_0x344e77(0x302)],'announce':_0x3727bc?.[_0x344e77(0x610)],'image':_0x5c0e9a[_0x2656b4],'isCommunity':_0x3727bc?.['isCommunity'],'joinApprovalMode':_0x3727bc?.[_0x344e77(0x62f)],'memberCanAddParticipant':_0x3727bc?.[_0x344e77(0x7d2)]});let _0x26d4ae=await this['repository'][_0x344e77(0x205)][_0x344e77(0x530)]({'where':{'_id':_0x3727bc?.['id']}},{'imagechat':_0x5c0e9a[_0x2656b4],'name':_0x3727bc?.[_0x344e77(0x4d8)],'group_size':_0x3727bc?.[_0x344e77(0x425)],'group_announce':_0x3727bc?.['announce'],'group_isCommunity':_0x3727bc?.['isCommunity'],'lastcache':Date[_0x344e77(0x587)]()},this[_0x344e77(0x3f9)]['wuid']);_0x26d4ae&&F(this[_0x344e77(0x1e0)],_0x344e77(0x246),{'chat':_0x26d4ae});}}return _0x191828;}catch(_0x582411){throw new j(_0x344e77(0x630),_0x582411[_0x344e77(0x2c2)]());}}async[a0_0x4fecf3(0x733)](_0x58cc19){const _0x4b653c=a0_0x4fecf3;try{let _0x427405=await this['client'][_0x4b653c(0x72c)](_0x58cc19[_0x4b653c(0x62b)]);return{'inviteUrl':_0x4b653c(0x402)+_0x427405,'inviteCode':_0x427405};}catch(_0x4a9776){throw new j(_0x4b653c(0x65e),_0x4a9776[_0x4b653c(0x2c2)]());}}async[a0_0x4fecf3(0x6f5)](_0x4ad923){const _0x53e2cc=a0_0x4fecf3;try{let _0x3d8d9c=await this[_0x53e2cc(0x43e)][_0x53e2cc(0x7a4)](_0x4ad923[_0x53e2cc(0x62b)]);return{'revoked':!0x0,'inviteUrl':_0x53e2cc(0x402)+_0x3d8d9c,'inviteCode':_0x3d8d9c};}catch(_0x5134ed){throw new j(_0x53e2cc(0x30a),_0x5134ed[_0x53e2cc(0x2c2)]());}}async['joinGroup'](_0x573a99){const _0x281b54=a0_0x4fecf3;try{if((0x0,P[_0x281b54(0x68c)])(_0x573a99['inviteCode']))var _0x2b69ba=_0x573a99[_0x281b54(0x733)][_0x281b54(0x579)]('/')[0x3];else var _0x2b69ba=_0x573a99[_0x281b54(0x733)];let _0x5a46da=await this['client'][_0x281b54(0x5fb)](_0x2b69ba);return this[_0x281b54(0x732)][_0x281b54(0x769)](this[_0x281b54(0x1e0)]+'\x20('+this[_0x281b54(0x3f9)][_0x281b54(0x56a)]+_0x281b54(0x6cc)+_0x5a46da),{'join':!0x0,'inviteCode':_0x2b69ba,'groupJid':_0x5a46da};}catch(_0x1f6e6a){throw new j(_0x281b54(0x5ba),_0x1f6e6a['toString']());}}async[a0_0x4fecf3(0x229)](_0x20bd6a){const _0x525308=a0_0x4fecf3;try{return{'participants':(await this[_0x525308(0x43e)]['groupMetadata'](_0x20bd6a['groupJid']))[_0x525308(0x24d)]};}catch(_0x1abd5e){throw new j(_0x525308(0x4b0),_0x1abd5e[_0x525308(0x2c2)]());}}async[a0_0x4fecf3(0x2d6)](_0x169634){const _0x32a18e=a0_0x4fecf3;try{return await this[_0x32a18e(0x43e)][_0x32a18e(0x2d2)](_0x169634[_0x32a18e(0x62b)]),{'groupJid':_0x169634[_0x32a18e(0x62b)],'leave':!0x0};}catch(_0x3658ac){throw new w('Unable\x20to\x20leave\x20the\x20group',_0x3658ac[_0x32a18e(0x2c2)]());}}async['pollMessage'](_0x334815){const _0x358c42=a0_0x4fecf3;return await this[_0x358c42(0x4a4)](_0x334815['number'],{'poll':{'name':_0x334815[_0x358c42(0x6df)]?.['name'],'selectableCount':_0x334815[_0x358c42(0x6df)][_0x358c42(0x50f)],'values':_0x334815[_0x358c42(0x6df)][_0x358c42(0x289)]}},_0x334815?.[_0x358c42(0x4cf)]);}async[a0_0x4fecf3(0x4d0)](_0xec1893){const _0x58afea=a0_0x4fecf3;return await this['sendMessageWithTyping'](_0xec1893[_0x58afea(0x816)],{'listMessage':{'title':_0xec1893[_0x58afea(0x4d0)][_0x58afea(0x3d0)],'description':_0xec1893[_0x58afea(0x4d0)][_0x58afea(0x759)],'buttonText':_0xec1893[_0x58afea(0x4d0)]?.[_0x58afea(0x3a9)],'footerText':_0xec1893['listMessage']?.[_0x58afea(0x6d8)],'sections':_0xec1893['listMessage']['sections'],'listType':0x2}},_0xec1893?.[_0x58afea(0x4cf)]);}async[a0_0x4fecf3(0x4e0)](_0x22f4aa){const _0x363024=a0_0x4fecf3;let _0xdc383;if(_0x22f4aa['menuMessage'][_0x363024(0x1bf)]==='list'){let _0x5a2461=_0x22f4aa[_0x363024(0x4e0)][_0x363024(0x384)][_0x363024(0x1c9)]('\x0a'),_0x2f2eb3='',_0x3529a3='';_0x5a2461!==-0x1?(_0x2f2eb3=_0x22f4aa['menuMessage'][_0x363024(0x384)]['substring'](0x0,_0x5a2461)[_0x363024(0x80b)](),_0x3529a3=_0x22f4aa[_0x363024(0x4e0)][_0x363024(0x384)][_0x363024(0x376)](_0x5a2461+0x1)):_0x3529a3=_0x22f4aa['menuMessage'][_0x363024(0x384)];let _0x308de8=_0x22f4aa[_0x363024(0x4e0)][_0x363024(0x339)][_0x363024(0x6b9)](_0x2d5629=>_0x2d5629['trim']()!==''),_0x2cb307=this[_0x363024(0x60c)](_0x308de8);_0xdc383={'listMessage':{'title':_0x2f2eb3,'description':_0x3529a3,'buttonText':_0x22f4aa[_0x363024(0x4e0)][_0x363024(0x3a9)]||'Selecione','footerText':_0x22f4aa['menuMessage']['footerText'],'sections':_0x2cb307,'listType':0x2}};}else{if(_0x22f4aa[_0x363024(0x4e0)][_0x363024(0x1bf)]===_0x363024(0x407)){let _0x1640bd=_0x22f4aa[_0x363024(0x4e0)][_0x363024(0x339)]['filter'](_0x168e9f=>!(_0x168e9f[_0x363024(0x24a)]('[')&&_0x168e9f[_0x363024(0x380)](']'))&&_0x168e9f[_0x363024(0x80b)]()!=='')[_0x363024(0x428)](_0x1434c5=>_0x1434c5[_0x363024(0x579)]('\x0a')[0x0]);_0xdc383={'poll':{'name':_0x22f4aa[_0x363024(0x4e0)][_0x363024(0x384)],'selectableCount':_0x22f4aa[_0x363024(0x4e0)]['selectableCount']||0x1,'values':_0x1640bd}};}}return await this[_0x363024(0x4a4)](_0x22f4aa['number'],_0xdc383,_0x22f4aa?.[_0x363024(0x4cf)]);}[a0_0x4fecf3(0x60c)](_0x2b8378){const _0x39ce2e=a0_0x4fecf3;let _0x1950ba=[],_0x51603e={'rows':[]};return _0x2b8378['forEach'](_0x416940=>{const _0x539c59=a0_0x5137;if(_0x416940[_0x539c59(0x24a)]('[')&&_0x416940[_0x539c59(0x380)](']'))_0x51603e[_0x539c59(0x2df)][_0x539c59(0x7da)]>0x0&&_0x1950ba[_0x539c59(0x4b4)](_0x51603e),_0x51603e={'title':_0x416940[_0x539c59(0x704)](0x1,-0x1),'rows':[]};else{let _0x22a9ba=_0x416940[_0x539c59(0x579)]('\x0a')['map'](_0x40bd98=>_0x40bd98[_0x539c59(0x80b)]()),_0x5a7883=_0x22a9ba[0x0],_0x1453f0=_0x22a9ba[0x1]||null,_0x8e9a2=_0x22a9ba[0x2]||_0x5a7883;_0x51603e[_0x539c59(0x2df)][_0x539c59(0x4b4)]({'title':_0x5a7883,'description':_0x1453f0,'rowId':_0x8e9a2});}}),_0x51603e['rows'][_0x39ce2e(0x7da)]>0x0&&_0x1950ba[_0x39ce2e(0x4b4)](_0x51603e),_0x1950ba;}async[a0_0x4fecf3(0x46a)](_0x38a426,_0x8e1263){const _0x29993b=a0_0x4fecf3;if(await this['getMessage'](_0x38a426,!0x0)){let _0x2550a1={'where':{'_id':_0x38a426['id']}},_0x2f1f6c={'status':[_0x8e1263['status']][0x0]};try{let _0x39d98f=await this['repository'][_0x29993b(0x6c9)][_0x29993b(0x724)](_0x2550a1,_0x2f1f6c,this[_0x29993b(0x3f9)][_0x29993b(0x56a)]);_0x39d98f&&F(this[_0x29993b(0x1e0)],_0x29993b(0x799),{'message':_0x39d98f});}catch{}}}[a0_0x4fecf3(0x63a)](_0x30e6db){const _0x2ca7a3=a0_0x4fecf3;let _0x441bd2=[];return _0x30e6db[_0x2ca7a3(0x697)](_0x407b4e=>{const _0x119571=_0x2ca7a3;_0x407b4e[_0x119571(0x3d0)]&&_0x441bd2[_0x119571(0x4b4)]('['+_0x407b4e[_0x119571(0x3d0)]+']'),_0x407b4e[_0x119571(0x2df)]['forEach'](_0xe50969=>{const _0x223b76=_0x119571;_0x441bd2['push'](_0xe50969[_0x223b76(0x3d0)]);});}),_0x441bd2[_0x2ca7a3(0x386)]('|');}[a0_0x4fecf3(0x169)](_0x1b675d){const _0x43cf72=a0_0x4fecf3;let _0x44ba90=_0x1b675d[_0x43cf72(0x6eb)](/\\n/g,'\x0a')[_0x43cf72(0x579)]('\x0a')[_0x43cf72(0x6b9)](_0x461605=>_0x461605['includes']('TEL')||_0x461605[_0x43cf72(0x207)]('EMAIL')),_0xce05e4='';return _0x44ba90[_0x43cf72(0x697)](_0x5df830=>{const _0x1c8fdc=_0x43cf72;let _0x6de0c9=/TEL(?:.*):(.+)/,_0x31463b=/EMAIL(?:.*):(.+)/,_0x46697c=_0x5df830[_0x1c8fdc(0x637)](_0x6de0c9),_0x1b8988=_0x5df830[_0x1c8fdc(0x637)](_0x31463b);if(_0x46697c){let _0x1420e2=_0x46697c[0x1][_0x1c8fdc(0x6eb)](/-| |\+|\(|\)/g,'')[_0x1c8fdc(0x80b)]();_0xce05e4+=_0x1c8fdc(0x2fb)+_0x1420e2+'\x0a';}else{if(_0x1b8988){let _0x29556b=_0x1b8988[0x1][_0x1c8fdc(0x80b)]();_0xce05e4+=_0x1c8fdc(0x1a5)+_0x29556b+'\x0a';}}}),_0xce05e4['trim']();}async['updateChatWithMessage'](_0x45e107,_0x138c2d,_0x21b06b){const _0xc70142=a0_0x4fecf3;if(!_0x45e107[_0xc70142(0x3c6)])return;let _0x3d681=_0x138c2d[_0xc70142(0x283)][_0xc70142(0x48b)][_0xc70142(0x6eb)](/:\d{1,2}@/g,'@'),_0x1913c0=_0x138c2d[_0xc70142(0x283)][_0xc70142(0x235)],_0x5ec041=_0x3d681[_0xc70142(0x380)]('@g.us'),_0x4dc6f5=_0x138c2d['message_normalized']?.[_0xc70142(0x384)]||_0x138c2d['message_normalized']?.[_0xc70142(0x2da)]||_0x138c2d['message_normalized']?.[_0xc70142(0x5ae)]||_0x138c2d[_0xc70142(0x5ee)]?.[_0xc70142(0x804)],_0xd0a400={'lastmsg':_0x138c2d[_0xc70142(0x37a)]||Date['now'](),'unreadcount':_0x1913c0?0x0:0x1,..._0x1913c0||_0x5ec041?{}:{'name':_0x138c2d['pushName']},..._0x5ec041?{'group':_0x5ec041}:{},...!_0x1913c0&&!_0x5ec041&&_0x138c2d['profilePictureUrl']?{'imagechat':_0x138c2d[_0xc70142(0x47a)]}:{}},_0x32089d=await this[_0xc70142(0x35c)][_0xc70142(0x205)]['updateOne']({'where':{'_id':_0x3d681}},_0xd0a400,this[_0xc70142(0x3f9)][_0xc70142(0x56a)],{'new':!0x0,'upsert':!0x0});if(_0x32089d[_0xc70142(0x24c)]){let _0x3f136d=await this[_0xc70142(0x35c)][_0xc70142(0x40e)][_0xc70142(0x201)]({'where':{}},this[_0xc70142(0x3f9)][_0xc70142(0x56a)]),_0x490f53=new Set(_0x3f136d[_0xc70142(0x428)](_0x5a31da=>_0x5a31da['_id'])),_0x12f2df=(_0x32089d[_0xc70142(0x7c8)]?.['etiquetas']||[])[_0xc70142(0x6b9)](_0x23a53b=>_0x490f53[_0xc70142(0x311)](_0x23a53b)),_0x41239e={'leadInfo.etiquetas':_0x12f2df,'imported':!0x1};_0x32089d=await this[_0xc70142(0x35c)][_0xc70142(0x205)][_0xc70142(0x530)]({'where':{'_id':_0x3d681}},_0x41239e,this[_0xc70142(0x3f9)][_0xc70142(0x56a)]);for(let _0xfb01bd of _0x12f2df)await this[_0xc70142(0x447)](_0xfb01bd,_0x3d681);}if(!_0x5ec041&&(!_0x32089d?.[_0xc70142(0x7c8)]||!_0x32089d['leadInfo']['nome'])&&_0x138c2d[_0xc70142(0x5ef)]&&!_0x1913c0&&(_0x32089d=await this['repository'][_0xc70142(0x205)]['updateOne']({'where':{'_id':_0x3d681}},{'leadInfo.nome':_0x138c2d[_0xc70142(0x5ef)]},this[_0xc70142(0x3f9)]['wuid'],{'new':!0x0,'upsert':!0x0})),_0x21b06b==='MESSAGES_UPSERT'&&_0x1913c0&&this[_0xc70142(0x6cf)]?.[_0xc70142(0x23f)][_0xc70142(0x3ad)]&&!_0x4dc6f5['startsWith'](this['AutomateSystem']?.[_0xc70142(0x23f)][_0xc70142(0x2ef)])){let _0x246fe1=(this[_0xc70142(0x6cf)]?.[_0xc70142(0x23f)][_0xc70142(0x4fd)]||0x5)*0xea60,_0x57dd81=Date[_0xc70142(0x587)]()+_0x246fe1;_0x32089d?.['leadInfo']?.['desativadoFluxoAte']===0x0||(await this[_0xc70142(0x35c)]['chat'][_0xc70142(0x530)]({'where':{'_id':_0x3d681}},{'leadInfo.desativadoFluxoAte':_0x57dd81},this[_0xc70142(0x3f9)][_0xc70142(0x56a)],{'new':!0x0,'upsert':!0x1}),this[_0xc70142(0x732)][_0xc70142(0x769)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x57dd81+'.'));}if(_0x32089d)F(this['instanceName'],'chats',{'chat':_0x32089d});else{this['logger'][_0xc70142(0x2cb)](this['instanceName']+'\x20('+this[_0xc70142(0x3f9)][_0xc70142(0x56a)]+_0xc70142(0x214));return;}if(!this[_0xc70142(0x6cf)]?.[_0xc70142(0x23f)][_0xc70142(0x3ad)])return this[_0xc70142(0x732)][_0xc70142(0x769)](this[_0xc70142(0x1e0)]+'\x20('+this['instance'][_0xc70142(0x56a)]+_0xc70142(0x367)),null;if(_0x32089d[_0xc70142(0x4d1)][_0xc70142(0x207)](_0xc70142(0x720))&&this['AutomateSystem']?.[_0xc70142(0x23f)][_0xc70142(0x81d)]===!0x0)return this['logger'][_0xc70142(0x769)](this['instanceName']+'\x20('+this[_0xc70142(0x3f9)][_0xc70142(0x56a)]+_0xc70142(0x264)),null;if(_0x32089d[_0xc70142(0x7c8)]){if(_0x32089d['leadInfo']['desativadoFluxoAte']===0x0||_0x32089d[_0xc70142(0x7c8)][_0xc70142(0x1c6)])return this[_0xc70142(0x732)][_0xc70142(0x769)](this[_0xc70142(0x1e0)]+'\x20('+this[_0xc70142(0x3f9)]['wuid']+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x3d681+',\x20saindo.'),null;if(_0x32089d['leadInfo']['desativadoFluxoAte']>Date[_0xc70142(0x587)]()&&!_0x138c2d[_0xc70142(0x5ee)]?.[_0xc70142(0x5ae)])return this['logger'][_0xc70142(0x769)](this['instanceName']+'\x20('+this[_0xc70142(0x3f9)]['wuid']+_0xc70142(0x631)+new Date(_0x32089d[_0xc70142(0x7c8)][_0xc70142(0x672)])[_0xc70142(0x6be)]()+',\x20saindo.'),null;}this['logger'][_0xc70142(0x769)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xc70142(0x26b)),this[_0xc70142(0x29b)](_0x21b06b,_0x138c2d);}async['upsertChats'](_0x628036,_0x2bcf94){const _0xcab218=a0_0x4fecf3;if(_0x2bcf94[_0xcab218(0x3c6)]){let _0x7e2189=_0x628036[_0xcab218(0x428)](async _0x1c80a9=>{const _0xca124b=_0xcab218;try{let _0x5c9f2c={'_id':_0x1c80a9[_0xca124b(0x4d1)],'owner':_0x1c80a9[_0xca124b(0x480)],'lastcache':0x0};if(_0x1c80a9[_0xca124b(0x6c2)]!==null&&(_0x5c9f2c['group']=_0x1c80a9['group']),_0x1c80a9[_0xca124b(0x804)]!==null&&(_0x5c9f2c[_0xca124b(0x804)]=_0x1c80a9['name']),_0x1c80a9[_0xca124b(0x200)]!==null&&(_0x5c9f2c[_0xca124b(0x200)]=_0x1c80a9[_0xca124b(0x200)]),_0x1c80a9[_0xca124b(0x2a5)]!==null&&(_0x5c9f2c[_0xca124b(0x2a5)]=_0x1c80a9[_0xca124b(0x2a5)]),_0x1c80a9[_0xca124b(0x2a5)]===null&&(_0x5c9f2c[_0xca124b(0x2a5)]='Imagem\x20não\x20encontrada'),_0x1c80a9[_0xca124b(0x59e)]!==null&&(_0x5c9f2c[_0xca124b(0x59e)]=_0x1c80a9[_0xca124b(0x59e)]),_0x1c80a9['archived']!==null&&(_0x5c9f2c[_0xca124b(0x4b2)]=_0x1c80a9[_0xca124b(0x4b2)]),_0x1c80a9[_0xca124b(0x1d4)]!==null&&(_0x5c9f2c[_0xca124b(0x1d4)]=_0x1c80a9['unreadcount']),Object[_0xca124b(0x3bf)](_0x5c9f2c)[_0xca124b(0x7da)]>0x0)return await this[_0xca124b(0x35c)]['chat']['updateOne']({'where':{'_id':_0x1c80a9[_0xca124b(0x4d1)]}},_0x5c9f2c,this[_0xca124b(0x3f9)][_0xca124b(0x56a)]);}catch(_0x8efd92){return console[_0xca124b(0x2cb)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x1c80a9[_0xca124b(0x4d1)]+':',_0x8efd92),null;}}),_0x1a87a9=(await Promise[_0xcab218(0x5dd)](_0x7e2189))['filter'](_0x4ddd27=>_0x4ddd27!==null)[_0xcab218(0x7da)];this[_0xcab218(0x732)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0xcab218(0x6cc)+_0x1a87a9+_0xcab218(0x1cc)+this[_0xcab218(0x3f9)][_0xcab218(0x56a)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async['readMessageBot'](_0x4eae9f){const _0x18536b=a0_0x4fecf3;this[_0x18536b(0x732)][_0x18536b(0x769)](this[_0x18536b(0x1e0)]+'\x20('+this['instance'][_0x18536b(0x56a)]+_0x18536b(0x4e7));let _0xa8bed7={'readMessages':[{'remoteJid':_0x4eae9f[_0x18536b(0x28b)][_0x18536b(0x5e3)][_0x18536b(0x283)][_0x18536b(0x48b)],'fromMe':_0x4eae9f[_0x18536b(0x28b)][_0x18536b(0x5e3)][_0x18536b(0x283)][_0x18536b(0x235)],'id':_0x4eae9f[_0x18536b(0x28b)]['lastReceivedMessage'][_0x18536b(0x283)]['id']}]};await this[_0x18536b(0x21f)](_0xa8bed7);}async[a0_0x4fecf3(0x29b)](_0x5d8b3c,_0x4fdc1c){const _0x278b5a=a0_0x4fecf3;try{let {key:_0x2919d7,message_normalized:_0x2f90eb}=_0x4fdc1c,_0x3d0001=_0x2f90eb,_0x49f8ff=_0x2f90eb[_0x278b5a(0x384)]||_0x2f90eb[_0x278b5a(0x2da)]||_0x2f90eb['vote']||_0x2f90eb[_0x278b5a(0x804)],_0x3f2371=_0x2919d7['remoteJid'],_0x170b63;if(_0x3d0001[_0x278b5a(0x283)][_0x278b5a(0x235)]&&_0x49f8ff[_0x278b5a(0x80b)]()!==this[_0x278b5a(0x6cf)]?.[_0x278b5a(0x23f)][_0x278b5a(0x405)][_0x278b5a(0x80b)]())return this['logger'][_0x278b5a(0x769)](this[_0x278b5a(0x1e0)]+'\x20('+this['instance'][_0x278b5a(0x56a)]+_0x278b5a(0x64d)),null;if(_0x3d0001['key'][_0x278b5a(0x235)]&&_0x49f8ff[_0x278b5a(0x80b)]()===this[_0x278b5a(0x6cf)]?.[_0x278b5a(0x23f)][_0x278b5a(0x405)]['trim']()){this[_0x278b5a(0x732)][_0x278b5a(0x769)](this['instanceName']+'\x20('+this['instance'][_0x278b5a(0x56a)]+_0x278b5a(0x71d));let _0x59234b=await this[_0x278b5a(0x35c)]['flowConversation'][_0x278b5a(0x201)]({'remoteJid':_0x3f2371,'status':_0x278b5a(0x413)},this['instance'][_0x278b5a(0x56a)]);this[_0x278b5a(0x732)]['verbose'](this[_0x278b5a(0x1e0)]+'\x20('+this[_0x278b5a(0x3f9)][_0x278b5a(0x56a)]+'):\x20Conversas\x20encontradas:'+_0x59234b);let _0x3dff3b=Date['now'](),_0x352e52;return this[_0x278b5a(0x6cf)]?.[_0x278b5a(0x23f)]['stopMinutes']===0x0?_0x352e52={'stoppedUntil':_0x3dff3b+0x7591f6200}:_0x352e52={'stoppedUntil':_0x3dff3b+this['AutomateSystem']?.['flowConfig'][_0x278b5a(0x7e6)]*0x3c*0x3e8},this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x278b5a(0x56a)]+_0x278b5a(0x673)+_0x352e52),this['updateStopChat'](_0x170b63,_0x352e52['stoppedUntil']),null;}if(_0x49f8ff&&_0x49f8ff[_0x278b5a(0x24a)](this['AutomateSystem']?.[_0x278b5a(0x23f)][_0x278b5a(0x2ef)])&&_0x49f8ff[_0x278b5a(0x7da)]>0x4){let _0x214551=await this['repository'][_0x278b5a(0x22c)][_0x278b5a(0x338)]({'where':{'startCommandWord':_0x49f8ff}},this[_0x278b5a(0x3f9)]['wuid']);if(this[_0x278b5a(0x732)][_0x278b5a(0x769)](this[_0x278b5a(0x1e0)]+'\x20('+this['instance']['wuid']+_0x278b5a(0x166)),_0x214551)_0x170b63=await this[_0x278b5a(0x271)](_0x214551,_0x3d0001[_0x278b5a(0x283)],_0x3d0001);else return this[_0x278b5a(0x732)][_0x278b5a(0x769)](this[_0x278b5a(0x1e0)]+'\x20('+this[_0x278b5a(0x3f9)]['wuid']+_0x278b5a(0x694)),null;}else _0x170b63=await this[_0x278b5a(0x7a1)](_0x3f2371,_0x3d0001);if(_0x170b63){this[_0x278b5a(0x732)][_0x278b5a(0x769)](this[_0x278b5a(0x1e0)]+'\x20('+this['instance'][_0x278b5a(0x56a)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x2919d7[_0x278b5a(0x235)]&&_0x170b63[_0x278b5a(0x47d)]&&this[_0x278b5a(0x1d5)](_0x170b63);let _0x186306=await this[_0x278b5a(0x3a5)](_0x170b63);_0x186306&&await this[_0x278b5a(0x655)](_0x170b63,_0x186306);}}catch(_0x78e37f){this['logger'][_0x278b5a(0x2cb)](this[_0x278b5a(0x1e0)]+'\x20('+this['instance'][_0x278b5a(0x56a)]+_0x278b5a(0x1e1)+(_0x78e37f instanceof Error?_0x78e37f['message']:JSON[_0x278b5a(0x155)](_0x78e37f,null,0x2)));}}[a0_0x4fecf3(0x3c7)](_0x54943b,_0x42b035='',_0x28dab6={},_0x42037d=!0x0){const _0x3e8f71=a0_0x4fecf3;for(let _0x134b9e in _0x54943b){let _0x4d4443=_0x42037d?'_'+_0x134b9e:''+_0x42b035+_0x134b9e;typeof _0x54943b[_0x134b9e]=='object'&&_0x54943b[_0x134b9e]!==null?this[_0x3e8f71(0x3c7)](_0x54943b[_0x134b9e],_0x4d4443+'.',_0x28dab6,!0x1):_0x28dab6[_0x4d4443]=String(_0x54943b[_0x134b9e]);}return _0x28dab6;}[a0_0x4fecf3(0x80e)](_0x38585e){const _0x40eaa9=a0_0x4fecf3;let _0x50bc13={};for(let _0x4808b8 of _0x38585e)typeof _0x4808b8[_0x40eaa9(0x804)]==_0x40eaa9(0x78b)&&typeof _0x4808b8[_0x40eaa9(0x52d)]==_0x40eaa9(0x78b)&&(_0x50bc13[_0x4808b8[_0x40eaa9(0x804)]]=_0x4808b8['value']);return _0x50bc13;}async['NextBlock'](_0x2eb5a4){const _0x5d05ec=a0_0x4fecf3;if(!this['AutomateSystem']?.[_0x5d05ec(0x23f)][_0x5d05ec(0x3ad)]||_0x2eb5a4[_0x5d05ec(0x395)]!==_0x5d05ec(0x413)&&_0x2eb5a4[_0x5d05ec(0x6db)]==='')return null;let _0x4b84bb=_0x2eb5a4[_0x5d05ec(0x28b)][_0x5d05ec(0x6c1)]||_0x5d05ec(0x592);typeof _0x2eb5a4[_0x5d05ec(0x28b)][_0x5d05ec(0x3c0)]>'u'&&(_0x2eb5a4['chatLog'][_0x5d05ec(0x3c0)]=!0x0);let _0x537f8b=_0x2eb5a4[_0x5d05ec(0x28b)][_0x5d05ec(0x3c0)];this[_0x5d05ec(0x732)][_0x5d05ec(0x769)](this[_0x5d05ec(0x1e0)]+'\x20('+this[_0x5d05ec(0x3f9)][_0x5d05ec(0x56a)]+'):\x20lastBlockId:\x20'+_0x4b84bb+_0x5d05ec(0x4fb)+_0x537f8b);let _0x140721=_0x4b84bb===_0x5d05ec(0x592)?_0x2eb5a4[_0x5d05ec(0x6ab)][_0x5d05ec(0x201)](_0x1349cf=>_0x1349cf[_0x5d05ec(0x1bf)]==='start'):_0x2eb5a4[_0x5d05ec(0x6ab)][_0x5d05ec(0x201)](_0x4346bc=>_0x4346bc[_0x5d05ec(0x4d1)][_0x5d05ec(0x2c2)]()===_0x4b84bb[_0x5d05ec(0x2c2)]());if(!_0x140721)return this[_0x5d05ec(0x732)][_0x5d05ec(0x2cb)](this[_0x5d05ec(0x1e0)]+'\x20('+this[_0x5d05ec(0x3f9)][_0x5d05ec(0x56a)]+_0x5d05ec(0x60a)+_0x4b84bb),null;let _0xf5073a={'_pushName':_0x2eb5a4[_0x5d05ec(0x28b)]['lastReceivedMessage'][_0x5d05ec(0x5ef)],..._0x2eb5a4['chatLog'][_0x5d05ec(0x5bc)]},_0x5d9785=null;if(_0x2eb5a4[_0x5d05ec(0x6db)]){let _0x1e08f8=_0x2eb5a4[_0x5d05ec(0x28b)][_0x5d05ec(0x5e3)]['vote'],_0x5f1cbd=_0x2eb5a4['waitingMenu_replyOptions']['find'](_0x59cf37=>_0x59cf37['option']===_0x1e08f8);if(_0x5f1cbd){let _0x1c6079=_0x5f1cbd[_0x5d05ec(0x6b2)];if(_0x5d9785=_0x2eb5a4[_0x5d05ec(0x6ab)][_0x5d05ec(0x201)](_0x3e6e1f=>_0x3e6e1f['groupId']===_0x1c6079&&_0x3e6e1f[_0x5d05ec(0x5ea)]===0x1),_0x140721['uazapi']['pollOnReplyDelete']){let _0x44cdb7={'id':_0x2eb5a4[_0x5d05ec(0x6db)],'remoteJid':_0x2eb5a4['remoteJid'],'fromMe':!0x0};await this[_0x5d05ec(0x3fc)](_0x44cdb7);}if(_0x140721[_0x5d05ec(0x354)][_0x5d05ec(0x1ef)]&&_0x140721[_0x5d05ec(0x354)]['pollMessageOnDelete']&&_0x140721[_0x5d05ec(0x354)]['menuType']===_0x5d05ec(0x407)){let _0x260ed4={'number':_0x2eb5a4[_0x5d05ec(0x48b)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x2eb5a4[_0x5d05ec(0x26c)]+'\x0a*Você\x20respondeu*:\x0a'+_0x1e08f8}};await this['textMessage'](_0x260ed4);}_0x2eb5a4['status']=_0x5d05ec(0x413),_0x2eb5a4[_0x5d05ec(0x6db)]='',_0x2eb5a4[_0x5d05ec(0x26c)]='',_0x2eb5a4['waitingMenu_replyOptions']=[];}else{this['logger'][_0x5d05ec(0x769)](this[_0x5d05ec(0x1e0)]+'\x20('+this[_0x5d05ec(0x3f9)][_0x5d05ec(0x56a)]+_0x5d05ec(0x6a5));let _0x351c1b={'activatedCount':_0x2eb5a4['chatLog'][_0x5d05ec(0x4d3)]['filter'](_0x333d51=>String(_0x333d51[_0x5d05ec(0x1f4)])===String(_0x4b84bb))[_0x5d05ec(0x7da)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x140721[_0x5d05ec(0x354)][_0x5d05ec(0x2ad)]){let _0x1466ce={'number':_0x2eb5a4[_0x5d05ec(0x48b)],'options':{'delay':0x0},'textMessage':{'text':_0x140721[_0x5d05ec(0x354)][_0x5d05ec(0x2ad)]}};await this[_0x5d05ec(0x308)](_0x1466ce);}if(_0x140721[_0x5d05ec(0x4f8)]!==void 0x0&&_0x351c1b[_0x5d05ec(0x4bd)]>=_0x140721[_0x5d05ec(0x4f8)]){let _0x301fd0=Date[_0x5d05ec(0x587)](),_0x2cfce0=_0x140721[_0x5d05ec(0x641)]??0xa;isNaN(_0x2cfce0)&&(_0x2cfce0=0xa);let _0x4132ec=_0x301fd0+_0x2cfce0*0x3c*0x3e8;_0x351c1b['newStoppedUntil']=_0x4132ec,_0x351c1b[_0x5d05ec(0x621)][_0x5d05ec(0x4b4)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this['updateStopChat'](_0x2eb5a4,_0x4132ec),_0x2eb5a4[_0x5d05ec(0x6db)]='',_0x2eb5a4[_0x5d05ec(0x26c)]='',_0x2eb5a4[_0x5d05ec(0x2f1)]=[];}return this[_0x5d05ec(0x4f7)](_0x2eb5a4,_0x140721,_0x351c1b,!0x0),null;}}if(_0x537f8b&&_0x140721[_0x5d05ec(0x6b2)]&&!_0x2eb5a4[_0x5d05ec(0x6db)]){let _0x214ffc=_0x2eb5a4[_0x5d05ec(0x6ab)][_0x5d05ec(0x6b9)](_0x333194=>_0x333194[_0x5d05ec(0x2a3)][_0x5d05ec(0x2c2)]()===_0x140721[_0x5d05ec(0x6b2)][_0x5d05ec(0x2c2)]())[_0x5d05ec(0x374)]((_0x5b4a9b,_0x57afcb)=>_0x5b4a9b['order']-_0x57afcb[_0x5d05ec(0x5ea)]);_0x214ffc[_0x5d05ec(0x7da)]>0x0&&(_0x5d9785=_0x214ffc[0x0]);}if(!_0x5d9785){let _0x57c179=_0x140721[_0x5d05ec(0x2a3)],_0x5ab85b=_0x2eb5a4[_0x5d05ec(0x6ab)][_0x5d05ec(0x6b9)](_0x290114=>_0x290114[_0x5d05ec(0x2a3)]===_0x57c179&&_0x290114[_0x5d05ec(0x5ea)]>_0x140721[_0x5d05ec(0x5ea)])['sort']((_0x2338e3,_0x412b06)=>_0x2338e3['order']-_0x412b06[_0x5d05ec(0x5ea)]);_0x5ab85b[_0x5d05ec(0x7da)]>0x0&&(_0x5d9785=_0x5ab85b[0x0]);}if(!_0x5d9785)return _0x2eb5a4[_0x5d05ec(0x395)]=_0x5d05ec(0x21b),null;_0x2eb5a4[_0x5d05ec(0x28b)][_0x5d05ec(0x5bc)]=_0xf5073a;let _0xe41bd2=JSON[_0x5d05ec(0x164)](JSON[_0x5d05ec(0x155)](_0x5d9785));return this[_0x5d05ec(0x4d5)](_0xe41bd2,_0x2eb5a4['chatLog']['realVariables']),_0x2eb5a4[_0x5d05ec(0x28b)][_0x5d05ec(0x6c1)]=_0xe41bd2['_id'],_0x2eb5a4[_0x5d05ec(0x28b)][_0x5d05ec(0x3c0)]=!0x0,_0xe41bd2;}[a0_0x4fecf3(0x394)](_0x1b3dae,_0x1b3c26){const _0x37dccb=a0_0x4fecf3;return _0x1b3dae[_0x37dccb(0x6eb)](/\{\{([^}]+)\}\}/g,(_0x2d115b,_0x2fd0a4)=>_0x1b3c26[_0x2fd0a4]||'');}[a0_0x4fecf3(0x4d5)](_0x194e93,_0x1c7a2f){const _0x445c52=a0_0x4fecf3;for(let _0x1e3b8d in _0x194e93)typeof _0x194e93[_0x1e3b8d]==_0x445c52(0x78b)?_0x194e93[_0x1e3b8d]=this[_0x445c52(0x394)](_0x194e93[_0x1e3b8d],_0x1c7a2f):typeof _0x194e93[_0x1e3b8d]==_0x445c52(0x646)&&this[_0x445c52(0x4d5)](_0x194e93[_0x1e3b8d],_0x1c7a2f);}async[a0_0x4fecf3(0x452)](_0x103bf0,_0x1d03c4){const _0x12fae9=a0_0x4fecf3;let _0x39926e=_0x1d03c4[_0x12fae9(0x4d1)];if(_0x103bf0['chatLog']&&_0x103bf0['chatLog']['blockLogs']){let _0x1b459c=_0x103bf0[_0x12fae9(0x28b)][_0x12fae9(0x4d3)]['filter'](_0x47a473=>String(_0x47a473[_0x12fae9(0x1f4)])===String(_0x39926e))['pop']();if(_0x1b459c&&_0x1b459c[_0x12fae9(0x2cb)]&&_0x1d03c4[_0x12fae9(0x6ff)])return _0x103bf0[_0x12fae9(0x395)]=_0x12fae9(0x21b),await this[_0x12fae9(0x788)](_0x103bf0),null;}if(_0x1d03c4[_0x12fae9(0x1bf)]===_0x12fae9(0x354)&&_0x1d03c4['uazapi'][_0x12fae9(0x2e7)]===_0x12fae9(0x522)&&_0x103bf0[_0x12fae9(0x6db)])return _0x103bf0[_0x12fae9(0x28b)][_0x12fae9(0x6c1)]=_0x39926e,await this['saveConversationToDatabase'](_0x103bf0),null;let _0x17f4e6=await this[_0x12fae9(0x3a5)](_0x103bf0);if(_0x103bf0['chatLog']&&_0x103bf0[_0x12fae9(0x28b)][_0x12fae9(0x4d3)]){let _0x5993d6=_0x103bf0[_0x12fae9(0x28b)]['blockLogs'][_0x12fae9(0x6b9)](_0x2e22a0=>String(_0x2e22a0[_0x12fae9(0x1f4)])===String(_0x39926e))[_0x12fae9(0x7da)];if(_0x1d03c4['maxActives']!==void 0x0&&_0x5993d6>=_0x1d03c4[_0x12fae9(0x4f8)]){let _0x56f3c0=Date[_0x12fae9(0x587)](),_0x8a46fd=_0x1d03c4[_0x12fae9(0x641)]??0xa;isNaN(_0x8a46fd)&&(_0x8a46fd=0xa);let _0x594a4f=_0x56f3c0+_0x8a46fd*0x3c*0x3e8,_0x4427b1={'newStoppedUntil':_0x594a4f};return this[_0x12fae9(0x56f)](_0x103bf0,_0x594a4f),this[_0x12fae9(0x4f7)](_0x103bf0,_0x1d03c4,_0x4427b1,!0x0),null;}}_0x17f4e6&&_0x17f4e6['type']!==_0x12fae9(0x809)&&await this['processblock'](_0x103bf0,_0x17f4e6),_0x17f4e6||await this[_0x12fae9(0x788)](_0x103bf0),_0x17f4e6&&_0x17f4e6[_0x12fae9(0x1bf)]==='save'&&(_0x103bf0[_0x12fae9(0x28b)][_0x12fae9(0x6c1)]=_0x39926e,await this[_0x12fae9(0x788)](_0x103bf0));}async[a0_0x4fecf3(0x655)](_0x2a11b4,_0x152a9c){const _0x2ac0ce=a0_0x4fecf3;try{let _0x48263a=_0x152a9c[_0x2ac0ce(0x1bf)];this[_0x2ac0ce(0x732)][_0x2ac0ce(0x769)](this[_0x2ac0ce(0x1e0)]+'\x20('+this['instance']['wuid']+_0x2ac0ce(0x540)+_0x48263a);let _0x4505d9={'uazapi':()=>this[_0x2ac0ce(0x52e)](_0x2a11b4,_0x152a9c),'save':()=>this[_0x2ac0ce(0x57f)](_0x2a11b4,_0x152a9c),'stop':()=>this[_0x2ac0ce(0x405)](_0x2a11b4,_0x152a9c),'condition':()=>this[_0x2ac0ce(0x68a)](_0x2a11b4,_0x152a9c),'varedit':()=>this['processvaredits'](_0x2a11b4,_0x152a9c),'apirequest':()=>this[_0x2ac0ce(0x3b5)](_0x2a11b4,_0x152a9c),'goToFlow':()=>this[_0x2ac0ce(0x3d9)](_0x2a11b4,_0x152a9c)}[_0x48263a];_0x4505d9&&await _0x4505d9();}catch(_0x189b42){this[_0x2ac0ce(0x732)][_0x2ac0ce(0x2cb)](this['instanceName']+'\x20('+this[_0x2ac0ce(0x3f9)][_0x2ac0ce(0x56a)]+_0x2ac0ce(0x5df)+(_0x189b42 instanceof Error?_0x189b42['message']:JSON[_0x2ac0ce(0x155)](_0x189b42,null,0x2)));}}async['processgoToFlow'](_0x1e4b3b,_0xdd8215){const _0x3b94d6=a0_0x4fecf3;if(this['logger'][_0x3b94d6(0x769)](this[_0x3b94d6(0x1e0)]+'\x20('+this['instance'][_0x3b94d6(0x56a)]+_0x3b94d6(0x16f)),!_0x1e4b3b||!_0xdd8215)return this[_0x3b94d6(0x732)][_0x3b94d6(0x2cb)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3b94d6(0x3f7)),null;await this[_0x3b94d6(0x4f7)](_0x1e4b3b,_0xdd8215,{},!0x0,!0x0),console[_0x3b94d6(0x635)](_0x3b94d6(0x34c)),console['log'](_0xdd8215);let _0xe1e4fc=_0xdd8215[_0x3b94d6(0x41e)];console[_0x3b94d6(0x635)]('flowname:\x20',_0xe1e4fc),_0x1e4b3b=await this[_0x3b94d6(0x76c)](_0xe1e4fc,_0x1e4b3b[_0x3b94d6(0x48b)],_0x1e4b3b['chatLog'][_0x3b94d6(0x5bc)]),this[_0x3b94d6(0x732)][_0x3b94d6(0x769)](this[_0x3b94d6(0x1e0)]+'\x20('+this[_0x3b94d6(0x3f9)]['wuid']+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x4b9daa=await this[_0x3b94d6(0x3a5)](_0x1e4b3b);_0x4b9daa&&await this[_0x3b94d6(0x655)](_0x1e4b3b,_0x4b9daa);}async[a0_0x4fecf3(0x76c)](_0x256b4b,_0x3e7b8f,_0x31bc68){const _0x23392f=a0_0x4fecf3;this[_0x23392f(0x732)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x23392f(0x56a)]+_0x23392f(0x7f7));try{if(_0x256b4b=await this[_0x23392f(0x35c)][_0x23392f(0x22c)][_0x23392f(0x338)]({'where':{'name':_0x256b4b}},this[_0x23392f(0x3f9)][_0x23392f(0x56a)]),!_0x256b4b)return this[_0x23392f(0x732)][_0x23392f(0x2cb)](this[_0x23392f(0x1e0)]+'\x20('+this[_0x23392f(0x3f9)][_0x23392f(0x56a)]+_0x23392f(0x61c)),null;let _0x567f93=require('mongodb')[_0x23392f(0x29f)],_0x50e54b=Date['now'](),_0x171584=_0x23392f(0x592),_0x5a00c9={},_0x4327f3={},_0x40a01f={..._0x256b4b,'chatLog':null},_0x1c02c5={'lastReceivedMessage':_0x5a00c9,'lastSendMessage':_0x4327f3,'lastBlockId':_0x171584,'lastCondition':!0x0,'realVariables':_0x31bc68};_0x40a01f['chatLog']=_0x1c02c5,_0x40a01f['chatLog'][_0x23392f(0x5bc)]={..._0x31bc68},delete _0x40a01f[_0x23392f(0x4d1)],_0x40a01f[_0x23392f(0x4d1)]=new _0x567f93(),_0x40a01f[_0x23392f(0x196)]=_0x50e54b,_0x40a01f[_0x23392f(0x395)]=_0x23392f(0x413),_0x40a01f[_0x23392f(0x48b)]=_0x3e7b8f;let _0x77f4d1=await this[_0x23392f(0x35c)]['flowConversation'][_0x23392f(0x530)](_0x40a01f[_0x23392f(0x4d1)],_0x40a01f,this['instance']['wuid']);return this[_0x23392f(0x732)]['verbose'](this[_0x23392f(0x1e0)]+'\x20('+this[_0x23392f(0x3f9)][_0x23392f(0x56a)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x77f4d1?_0x40a01f:null;}catch(_0x36e93a){throw this[_0x23392f(0x732)]['error'](this[_0x23392f(0x1e0)]+'\x20('+this[_0x23392f(0x3f9)][_0x23392f(0x56a)]+_0x23392f(0x62e)+(_0x36e93a instanceof Error?_0x36e93a[_0x23392f(0x6c9)]:JSON[_0x23392f(0x155)](_0x36e93a,null,0x2))),new w(_0x36e93a[_0x23392f(0x6c9)]);}}async[a0_0x4fecf3(0x3b5)](_0x235394,_0x13f57a){const _0x422c75=a0_0x4fecf3;let _0x77f369,_0x4731ef;try{let _0xb5e48f=_0x13f57a[_0x422c75(0x390)];if(!_0xb5e48f||!_0xb5e48f[_0x422c75(0x4eb)]||!_0xb5e48f[_0x422c75(0x7dd)])throw new Error(_0x422c75(0x36a));let _0x5a5d64;(['https://api.openai.com/v1/audio/speech',_0x422c75(0x497),_0x422c75(0x2db)][_0x422c75(0x534)](_0x2afd6e=>_0xb5e48f['url'][_0x422c75(0x207)](_0x2afd6e))||_0xb5e48f[_0x422c75(0x7f1)])&&(_0x5a5d64=_0x422c75(0x7c3));let _0x5a53a1='\u205f',_0x1e386a;try{_0x1e386a=JSON['parse'](_0xb5e48f[_0x422c75(0x2b7)][_0x422c75(0x6eb)](new RegExp(_0x5a53a1,'g'),'')),console[_0x422c75(0x635)](_0x422c75(0x478),_0x1e386a);}catch(_0x322c16){throw console[_0x422c75(0x2cb)](_0x422c75(0x5d2),_0x322c16),_0x322c16;}console[_0x422c75(0x635)](_0x422c75(0x6c6),_0x1e386a);let _0x4c00e4={'method':_0xb5e48f[_0x422c75(0x7dd)],'url':_0xb5e48f[_0x422c75(0x4eb)],'headers':_0xb5e48f[_0x422c75(0x813)]||{},..._0xb5e48f[_0x422c75(0x7dd)][_0x422c75(0x56c)]()!==_0x422c75(0x523)&&_0xb5e48f[_0x422c75(0x2b7)]?{'data':JSON[_0x422c75(0x164)](_0xb5e48f[_0x422c75(0x2b7)][_0x422c75(0x6eb)](new RegExp(_0x5a53a1,'g'),''))}:{},..._0x5a5d64&&{'responseType':_0x5a5d64}},_0x52de77=await(0x0,Z[_0x422c75(0x3cc)])(_0x4c00e4),_0x1e4754=_0x52de77['headers'][_0x422c75(0x15a)];if(_0x1e4754&&_0x1e4754[_0x422c75(0x207)](_0x422c75(0x5da))){_0x77f369=_0x52de77[_0x422c75(0x441)];let _0x358f83=_0x235394[_0x422c75(0x28b)][_0x422c75(0x5bc)],_0x55e8d9=this['flattenObject'](_0x77f369);return Object[_0x422c75(0x5c3)](_0x358f83,_0x55e8d9),_0x235394[_0x422c75(0x28b)][_0x422c75(0x5bc)]=_0x358f83,_0x4731ef={'error':!0x1,'apiResponse':_0x77f369},this[_0x422c75(0x4f7)](_0x235394,_0x13f57a,_0x4731ef),_0x77f369;}if(_0x1e4754&&(_0x1e4754['includes']('application/octet-stream')||_0x1e4754[_0x422c75(0x207)]('image')||_0x1e4754[_0x422c75(0x207)](_0x422c75(0x81b))||_0x1e4754['includes'](_0x422c75(0x4f3)))){this[_0x422c75(0x732)]['verbose'](this[_0x422c75(0x1e0)]+'\x20('+this[_0x422c75(0x3f9)][_0x422c75(0x56a)]+_0x422c75(0x346)+_0x1e4754);let _0x2b14b3=(0x0,Re['v4'])(),_0x290803='',_0xe2340e={'image/jpeg':_0x422c75(0x343),'image/png':_0x422c75(0x2bf),'image/gif':_0x422c75(0x512),'image/webp':'.webp','image/svg+xml':_0x422c75(0x4ca),'audio/mpeg':_0x422c75(0x6ec),'audio/ogg':_0x422c75(0x5d9),'audio/wav':_0x422c75(0x16b),'video/mp4':'.mp4','video/webm':_0x422c75(0x39b),'video/ogg':'.ogv','text/plain':_0x422c75(0x528),'application/pdf':_0x422c75(0x218),'application/msword':_0x422c75(0x583),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x422c75(0x61f),'application/vnd.ms-excel':_0x422c75(0x5d1),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0xe2340e[_0x1e4754]?(_0x290803=_0xe2340e[_0x1e4754],this[_0x422c75(0x732)][_0x422c75(0x769)](this[_0x422c75(0x1e0)]+'\x20('+this[_0x422c75(0x3f9)][_0x422c75(0x56a)]+_0x422c75(0x55c)+_0x290803)):(_0x290803='.error',this['logger'][_0x422c75(0x769)](this['instanceName']+'\x20('+this['instance'][_0x422c75(0x56a)]+_0x422c75(0x509)+_0x290803)),_0x2b14b3+=_0x290803,this[_0x422c75(0x732)][_0x422c75(0x769)](this['instanceName']+'\x20('+this[_0x422c75(0x3f9)][_0x422c75(0x56a)]+_0x422c75(0x7c5)+_0x2b14b3);let _0x53fd9e=this[_0x422c75(0x6e7)][_0x422c75(0x46f)](_0x422c75(0x3cd))[_0x422c75(0x81c)];if(!_0x53fd9e){let _0x59e1a7=this[_0x422c75(0x6e7)][_0x422c75(0x46f)](_0x422c75(0x683));_0x53fd9e=_0x422c75(0x39a)+(_0x59e1a7&&_0x59e1a7[_0x422c75(0x313)][_0x422c75(0x579)]('/')[0x4]);}let _0x5e1e5b=Buffer[_0x422c75(0x7f5)](_0x52de77['data']);await this[_0x422c75(0x323)](_0x5e1e5b,_0x2b14b3);let _0x42ce00=_0x422c75(0x572)+_0x2b14b3;_0x42ce00=''+_0x53fd9e+_0x42ce00,_0x77f369={'fileUrl':_0x42ce00},_0x235394[_0x422c75(0x28b)]['realVariables'][_0x422c75(0x1e5)]=_0x42ce00;let _0x278058=_0x235394[_0x422c75(0x28b)][_0x422c75(0x5bc)],_0x5e712c=this[_0x422c75(0x3c7)](_0x77f369);return Object[_0x422c75(0x5c3)](_0x278058,_0x5e712c),_0x235394[_0x422c75(0x28b)][_0x422c75(0x5bc)]=_0x278058,_0x4731ef={'error':!0x1,'apiResponse':{'fileUrl':_0x42ce00}},this[_0x422c75(0x4f7)](_0x235394,_0x13f57a,_0x4731ef),_0x77f369;}}catch(_0x252371){console[_0x422c75(0x2cb)](_0x422c75(0x3f1),_0x252371['message']),_0x252371['response']&&(_0x77f369=_0x252371[_0x422c75(0x20a)][_0x422c75(0x441)]);let _0x5964bf=_0x235394['chatLog']['realVariables'],_0x657ce4=this[_0x422c75(0x3c7)](_0x77f369);return Object[_0x422c75(0x5c3)](_0x5964bf,_0x657ce4),_0x235394[_0x422c75(0x28b)][_0x422c75(0x5bc)]=_0x5964bf,_0x4731ef={'error':!0x0,'errorLog':_0x252371['toString'](),'apiResponse':_0x77f369},this['updateConversation'](_0x235394,_0x13f57a,_0x4731ef),{'success':!0x1};}}[a0_0x4fecf3(0x56d)](_0x3439c0,_0x2c352b){const _0x1d5023=a0_0x4fecf3;let _0x17a4b9=_0x27a560=>{const _0xb6416e=a0_0x5137;let _0x159292=_0x27a560[_0xb6416e(0x6eb)](/[^0-9.,-]/g,'')[_0xb6416e(0x6eb)](',','.'),_0x2112b0=parseFloat(_0x159292);return isNaN(_0x2112b0)?null:_0x2112b0;},_0x56e2e0=_0x2c352b[_0x1d5023(0x567)],_0x3c7ce5=_0x2c352b['secondValue'];typeof _0x56e2e0=='string'&&(_0x56e2e0=this['replaceVariables'](_0x56e2e0,_0x3439c0[_0x1d5023(0x28b)]['realVariables'])??''),typeof _0x3c7ce5==_0x1d5023(0x78b)&&(_0x3c7ce5=this[_0x1d5023(0x394)](_0x3c7ce5,_0x3439c0[_0x1d5023(0x28b)][_0x1d5023(0x5bc)])??'');let _0x497832=null;if(!_0x2c352b[_0x1d5023(0x7b6)])return null;switch(this['logger'][_0x1d5023(0x769)](this[_0x1d5023(0x1e0)]+'\x20('+this[_0x1d5023(0x3f9)][_0x1d5023(0x56a)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x56e2e0),this[_0x1d5023(0x732)]['verbose'](this[_0x1d5023(0x1e0)]+'\x20('+this['instance'][_0x1d5023(0x56a)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x3c7ce5),_0x2c352b['editOperator']){case'+':case'-':case'*':case'/':let _0x41a4a3=_0x17a4b9(_0x56e2e0||'0'),_0x32c867=_0x17a4b9(_0x3c7ce5||'0');if(_0x41a4a3===null)return null;switch(_0x2c352b[_0x1d5023(0x7b6)]){case'+':_0x497832=_0x41a4a3+(_0x32c867??0x0);break;case'-':_0x497832=_0x41a4a3-(_0x32c867??0x0);break;case'*':_0x497832=_0x41a4a3*(_0x32c867??0x1);break;case'/':_0x32c867!==0x0&&(_0x497832=_0x41a4a3/(_0x32c867??0x1));break;}break;case'findAndReplace':case _0x1d5023(0x7a8):let _0x1e6520=_0x3c7ce5,_0xc1557a=_0x2c352b[_0x1d5023(0x284)];if(typeof _0xc1557a==_0x1d5023(0x78b)&&(_0xc1557a=this['replaceVariables'](_0xc1557a,_0x3439c0[_0x1d5023(0x28b)][_0x1d5023(0x5bc)])??''),_0x1e6520&&_0xc1557a!==void 0x0){let _0x4d94ce=_0x2c352b[_0x1d5023(0x7b6)]===_0x1d5023(0x569)?new RegExp(_0x1e6520[_0x1d5023(0x6eb)](/[-\/\\^$*+?.()|[\]{}]/g,_0x1d5023(0x5f5)),'g'):new RegExp(_0x1e6520,'g');_0x497832=_0x56e2e0[_0x1d5023(0x6eb)](_0x4d94ce,_0xc1557a);}else console[_0x1d5023(0x70e)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x1d5023(0x38d):_0x497832=_0x3c7ce5;break;case'extractRegex':let _0x2ad07c=_0x56e2e0['match'](new RegExp(_0x3c7ce5||''));_0x497832=_0x2ad07c?_0x2ad07c[0x0]:'';break;case _0x1d5023(0x560):_0x497832=_0x56e2e0[_0x1d5023(0x704)](0x0,parseInt(_0x3c7ce5||'0'));break;case _0x1d5023(0x797):let _0x2f4ed5=parseInt(_0x3c7ce5||'0');_0x497832=_0x56e2e0[_0x1d5023(0x704)](_0x56e2e0[_0x1d5023(0x7da)]-_0x2f4ed5);break;case _0x1d5023(0x15d):let _0x2eeccb=_0x17a4b9(_0x56e2e0),_0x27dea0=parseInt(_0x3c7ce5||'0');_0x27dea0=Math[_0x1d5023(0x43d)](_0x27dea0),_0x2eeccb!==null?_0x497832=_0x2eeccb[_0x1d5023(0x6be)](_0x1d5023(0x573),{'minimumFractionDigits':_0x27dea0,'maximumFractionDigits':_0x27dea0}):(console[_0x1d5023(0x70e)](_0x1d5023(0x595)+_0x56e2e0),_0x497832=null);break;case'toBRL':let _0x56a8df=_0x17a4b9(_0x56e2e0);_0x56a8df!==null?_0x497832=_0x56a8df[_0x1d5023(0x6be)](_0x1d5023(0x573),{'style':'currency','currency':_0x1d5023(0x6aa)}):(console[_0x1d5023(0x70e)](_0x1d5023(0x281)+_0x56e2e0),_0x497832=null);break;case _0x1d5023(0x6dc):_0x497832=_0x56e2e0[_0x1d5023(0x56c)]();break;case _0x1d5023(0x760):_0x497832=_0x56e2e0[_0x1d5023(0x34a)]();break;case'capitalizedWords':_0x497832=_0x56e2e0[_0x1d5023(0x579)]('\x20')[_0x1d5023(0x428)](_0x35fe7b=>_0x35fe7b[_0x1d5023(0x3ef)](0x0)[_0x1d5023(0x56c)]()+_0x35fe7b[_0x1d5023(0x704)](0x1)[_0x1d5023(0x34a)]())['join']('\x20');break;case _0x1d5023(0x467):_0x497832=_0x56e2e0[_0x1d5023(0x80b)]();break;default:_0x497832=_0x56e2e0;}return _0x497832!==null?_0x497832[_0x1d5023(0x2c2)]():null;}async[a0_0x4fecf3(0x33b)](_0x2d3e37,_0x515886){const _0x21b6e8=a0_0x4fecf3;try{let _0x31a9ee=_0x2d3e37[_0x21b6e8(0x6fd)]?.['filter'](_0x4bd9da=>_0x4bd9da['blockId']===_0x515886[_0x21b6e8(0x4d1)]?.[_0x21b6e8(0x2c2)]())||[],_0x47b132=_0x515886[_0x21b6e8(0x30b)],_0x433375=null,_0x5ebed1=[],_0x429d1e=_0x2d3e37[_0x21b6e8(0x28b)][_0x21b6e8(0x5bc)][_0x47b132];_0x5ebed1['push'](_0x21b6e8(0x165)+_0x429d1e+'\x22');for(let _0x462e68 of _0x31a9ee){_0x462e68[_0x21b6e8(0x567)]=_0x429d1e,_0x433375=_0x462e68[_0x21b6e8(0x567)];let _0x51380d;try{_0x51380d=this[_0x21b6e8(0x56d)](_0x2d3e37,_0x462e68);}catch(_0x57e165){console[_0x21b6e8(0x2cb)](_0x21b6e8(0x2a6)+_0x57e165['message']);continue;}if(_0x51380d!==null){let _0x202f13=_0x21b6e8(0x546)+_0x462e68[_0x21b6e8(0x7b6)]+'\x22',_0x36dc10=[_0x21b6e8(0x1ae),'upperCase','lowerCase',_0x21b6e8(0x784),_0x21b6e8(0x467)];_0x462e68[_0x21b6e8(0x7b6)]===_0x21b6e8(0x569)||_0x462e68[_0x21b6e8(0x7b6)]===_0x21b6e8(0x7a8)?_0x202f13+=_0x21b6e8(0x174)+_0x462e68[_0x21b6e8(0x438)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x462e68[_0x21b6e8(0x284)]+'\x22':!_0x36dc10[_0x21b6e8(0x207)](_0x462e68[_0x21b6e8(0x7b6)])&&_0x462e68[_0x21b6e8(0x438)]!==null&&_0x462e68[_0x21b6e8(0x438)]!==void 0x0&&(_0x202f13+=_0x21b6e8(0x737)+_0x462e68[_0x21b6e8(0x438)]+'\x22'),_0x202f13+=_0x21b6e8(0x33c)+_0x51380d+'.',_0x5ebed1['push'](_0x202f13);}_0x51380d!==null&&(_0x429d1e=_0x51380d);}if(_0x2d3e37[_0x21b6e8(0x28b)][_0x21b6e8(0x5bc)]&&_0x515886[_0x21b6e8(0x30b)]){_0x2d3e37[_0x21b6e8(0x28b)][_0x21b6e8(0x5bc)][_0x515886[_0x21b6e8(0x30b)]]=_0x429d1e;let _0x1d1645={'variable':_0x515886[_0x21b6e8(0x30b)],'oldValue':_0x433375,'newValue':_0x429d1e,'moreLogs':_0x5ebed1};try{this[_0x21b6e8(0x4f7)](_0x2d3e37,_0x515886,_0x1d1645);}catch(_0x4a3bb6){console[_0x21b6e8(0x2cb)](_0x21b6e8(0x424)+_0x4a3bb6[_0x21b6e8(0x6c9)]);}}return _0x47b132;}catch(_0x25bea3){return console['error'](_0x21b6e8(0x7b2)+_0x25bea3[_0x21b6e8(0x6c9)]),null;}}async[a0_0x4fecf3(0x68a)](_0x2b31e4,_0x37d744){const _0xc190f5=a0_0x4fecf3;try{let _0x4fcd39=[],_0x326827=_0x2b31e4[_0xc190f5(0x643)][_0xc190f5(0x6b9)](_0xe0fca8=>_0xe0fca8['blockId']===_0x37d744[_0xc190f5(0x4d1)][_0xc190f5(0x2c2)]()),_0x832a36=null,_0x5acafc=!0x1;for(let _0x2a46b6 of _0x326827){let _0x228057=this['evaluateCondition'](_0x2b31e4,_0x2a46b6);_0x4fcd39[_0xc190f5(0x4b4)](_0xc190f5(0x503)+_0x2a46b6[_0xc190f5(0x567)]+_0xc190f5(0x729)+_0x2a46b6[_0xc190f5(0x721)]+',\x20Segundo\x20Valor:\x20'+_0x2a46b6['secondValue']+_0xc190f5(0x379)+_0x228057),_0x832a36===null?_0x832a36=_0x228057:_0x2a46b6[_0xc190f5(0x202)]===_0xc190f5(0x54e)?(_0x832a36=_0x832a36&&_0x228057,_0x228057||(_0x5acafc=!0x0)):_0x2a46b6[_0xc190f5(0x202)]==='or'&&(_0x5acafc||(_0x832a36=_0x832a36||_0x228057));}_0x832a36===null&&(_0x832a36=!0x0);let _0x18b588={'moreLogs':_0x4fcd39};_0x2b31e4[_0xc190f5(0x28b)][_0xc190f5(0x3c0)]=_0x832a36,await this['updateConversation'](_0x2b31e4,_0x37d744,_0x18b588);}catch(_0x2b533e){this[_0xc190f5(0x732)][_0xc190f5(0x2cb)](this['instanceName']+'\x20('+this[_0xc190f5(0x3f9)][_0xc190f5(0x56a)]+_0xc190f5(0x178)+(_0x2b533e instanceof Error?_0x2b533e[_0xc190f5(0x6c9)]:JSON[_0xc190f5(0x155)](_0x2b533e,null,0x2)));}}[a0_0x4fecf3(0x686)](_0x53457c,_0x2596d2){const _0xd67002=a0_0x4fecf3;let _0x5ec49c=_0x2596d2[_0xd67002(0x567)],_0x2cf5b0=_0x2596d2['secondValue'];typeof _0x5ec49c==_0xd67002(0x78b)&&(_0x5ec49c=this[_0xd67002(0x394)](_0x5ec49c,_0x53457c[_0xd67002(0x28b)][_0xd67002(0x5bc)])??''),typeof _0x2cf5b0=='string'&&(_0x2cf5b0=this[_0xd67002(0x394)](_0x2cf5b0,_0x53457c[_0xd67002(0x28b)][_0xd67002(0x5bc)])??'');try{switch(_0x2596d2['expression']){case _0xd67002(0x449):return _0x5ec49c===_0x2cf5b0;case _0xd67002(0x614):return _0x5ec49c!==_0x2cf5b0;case _0xd67002(0x1d0):return this[_0xd67002(0x1d0)](_0x5ec49c,_0x2cf5b0);case _0xd67002(0x41d):return!this[_0xd67002(0x1d0)](_0x5ec49c,_0x2cf5b0);case'greater':return parseFloat(_0x5ec49c)>parseFloat(_0x2cf5b0);case'less':return parseFloat(_0x5ec49c)<parseFloat(_0x2cf5b0);case _0xd67002(0x1b2):return _0x5ec49c!=='';case _0xd67002(0x62a):return _0x5ec49c==='';case _0xd67002(0x286):return new RegExp(_0x2cf5b0)['test'](_0x5ec49c);case _0xd67002(0x7ae):return!new RegExp(_0x2cf5b0)['test'](_0x5ec49c);default:return!0x1;}}catch(_0x53ffa5){return console[_0xd67002(0x2cb)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x53ffa5),!0x1;}}[a0_0x4fecf3(0x1d0)](_0x4e2cae,_0x37d75d){const _0x5b2b41=a0_0x4fecf3;if(_0x4e2cae===_0x37d75d&&/^\d+$/['test'](_0x4e2cae))return!0x0;if(this[_0x5b2b41(0x594)](_0x4e2cae)&&/^\d+$/[_0x5b2b41(0x3e5)](_0x37d75d)){let _0xc3219d=_0x4e2cae[_0x5b2b41(0x579)](',')['map'](_0x5bb7a8=>parseInt(_0x5bb7a8[_0x5b2b41(0x80b)]())),_0x312576=parseInt(_0x37d75d);return _0xc3219d[_0x5b2b41(0x207)](_0x312576);}return _0x4e2cae[_0x5b2b41(0x207)](_0x37d75d);}[a0_0x4fecf3(0x594)](_0x363557){const _0x2cc702=a0_0x4fecf3;return/^\d+(,\d+)*$/[_0x2cc702(0x3e5)](_0x363557);}[a0_0x4fecf3(0x6e3)](_0x1837e3){const _0x31e6db=a0_0x4fecf3;let _0x411893=!0x0,_0x130318=null;for(let _0x231b93 of _0x1837e3){let _0x5d75da=this[_0x31e6db(0x5c7)](_0x231b93);if(_0x130318==='or'&&_0x5d75da){_0x411893=!0x0;break;}if(_0x130318===_0x31e6db(0x54e)&&!_0x5d75da){_0x411893=!0x1;break;}_0x130318=_0x231b93['OrAnd'];}return _0x411893;}[a0_0x4fecf3(0x5c7)](_0x54fcf9){const _0x571459=a0_0x4fecf3;let _0x527bc7=_0x54fcf9['firstValue'],_0x281289=_0x54fcf9[_0x571459(0x438)];try{switch(_0x54fcf9['expression']){case _0x571459(0x449):return String(_0x527bc7)===String(_0x281289);case _0x571459(0x614):return String(_0x527bc7)!==String(_0x281289);case _0x571459(0x1d0):return String(_0x527bc7)[_0x571459(0x207)](String(_0x281289));case'notContains':return!String(_0x527bc7)['includes'](String(_0x281289));case _0x571459(0x794):return parseFloat(String(_0x527bc7))>parseFloat(String(_0x281289));case _0x571459(0x695):return parseFloat(String(_0x527bc7))<parseFloat(String(_0x281289));case _0x571459(0x1b2):return String(_0x527bc7)!=='';case _0x571459(0x62a):return String(_0x527bc7)==='';case _0x571459(0x286):return new RegExp(String(_0x281289))[_0x571459(0x3e5)](String(_0x527bc7));case _0x571459(0x7ae):return!new RegExp(String(_0x281289))[_0x571459(0x3e5)](String(_0x527bc7));default:return!0x1;}}catch(_0xd7744){return console['error']('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0xd7744),!0x1;}}async['saveTextReply'](_0x3a04fe,_0x38d8ba){const _0x372131=a0_0x4fecf3;if(this[_0x372131(0x732)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x372131(0x4f9)),!_0x3a04fe||!_0x38d8ba)return this[_0x372131(0x732)][_0x372131(0x2cb)](this[_0x372131(0x1e0)]+'\x20('+this[_0x372131(0x3f9)][_0x372131(0x56a)]+_0x372131(0x3f7)),null;let _0x109b21=_0x3a04fe[_0x372131(0x28b)][_0x372131(0x5e3)][_0x372131(0x283)]['id'];this[_0x372131(0x732)][_0x372131(0x769)](this[_0x372131(0x1e0)]+'\x20('+this['instance'][_0x372131(0x56a)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x109b21);let _0x183548={'key':{'id':_0x109b21}},_0x4444f3=_0x38d8ba[_0x372131(0x30b)];_0x3a04fe[_0x372131(0x28b)]['realVariables']['_'+_0x4444f3+_0x372131(0x1f5)]=null,_0x3a04fe[_0x372131(0x28b)][_0x372131(0x5bc)]['_'+_0x4444f3+_0x372131(0x65f)]=null,_0x3a04fe[_0x372131(0x28b)]['realVariables']['_'+_0x4444f3+_0x372131(0x69e)]=null,_0x3a04fe[_0x372131(0x28b)][_0x372131(0x5bc)]['_'+_0x4444f3+_0x372131(0x494)]=_0x3a04fe['chatLog'][_0x372131(0x5e3)][_0x372131(0x1bf)];try{let _0x38c9dc=await this[_0x372131(0x5e8)](_0x183548);this[_0x372131(0x732)][_0x372131(0x769)](this['instanceName']+'\x20('+this[_0x372131(0x3f9)][_0x372131(0x56a)]+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x3a04fe['chatLog'][_0x372131(0x5bc)]['_'+_0x4444f3+_0x372131(0x28f)]=_0x38c9dc[_0x372131(0x1e5)],_0x3a04fe['chatLog']['realVariables']['_'+_0x4444f3+_0x372131(0x65f)]=_0x38c9dc['mimetype'];let _0x2d14b4=_0x38c9dc[_0x372131(0x51e)][_0x372131(0x637)](/\/(\w+)$/),_0x71a178=_0x2d14b4?_0x2d14b4[0x1]:null;_0x3a04fe[_0x372131(0x28b)][_0x372131(0x5bc)]['_'+_0x4444f3+'.extension']=_0x71a178,this[_0x372131(0x732)]['verbose'](this[_0x372131(0x1e0)]+'\x20('+this[_0x372131(0x3f9)]['wuid']+_0x372131(0x4aa)+_0x4444f3+'\x27.');}catch(_0xf7ada9){this[_0x372131(0x732)][_0x372131(0x2cb)](this[_0x372131(0x1e0)]+'\x20('+this[_0x372131(0x3f9)]['wuid']+_0x372131(0x69a)+_0xf7ada9);}let _0x25af25=_0x3a04fe[_0x372131(0x28b)][_0x372131(0x5e3)][_0x372131(0x384)]||_0x3a04fe['chatLog'][_0x372131(0x5e3)][_0x372131(0x2da)]||_0x3a04fe[_0x372131(0x28b)][_0x372131(0x5e3)][_0x372131(0x5ae)];try{_0x3a04fe['chatLog'][_0x372131(0x5bc)]||(_0x3a04fe[_0x372131(0x28b)]['realVariables']={});let _0xb496d=_0x3a04fe[_0x372131(0x28b)][_0x372131(0x5bc)][_0x4444f3];_0x3a04fe['chatLog'][_0x372131(0x5bc)][_0x4444f3]=_0x25af25;let _0x2b3e34={'variable':_0x4444f3,'oldValue':_0xb496d,'newValue':_0x25af25};this['updateConversation'](_0x3a04fe,_0x38d8ba,_0x2b3e34),this[_0x372131(0x732)][_0x372131(0x769)](this[_0x372131(0x1e0)]+'\x20('+this[_0x372131(0x3f9)][_0x372131(0x56a)]+_0x372131(0x238));}catch(_0x256092){let _0x57d768={'error':!0x0,'errorLog':_0x256092[_0x372131(0x2c2)]()};return this[_0x372131(0x4f7)](_0x3a04fe,_0x38d8ba,_0x57d768),this[_0x372131(0x732)]['error'](this[_0x372131(0x1e0)]+'\x20('+this[_0x372131(0x3f9)]['wuid']+_0x372131(0x4b6)+(_0x256092 instanceof Error?_0x256092[_0x372131(0x6c9)]:JSON['stringify'](_0x256092,null,0x2))),null;}}async['stopConversation'](_0x2b43e9,_0x2d1121){const _0x15a7dc=a0_0x4fecf3;if(this[_0x15a7dc(0x732)][_0x15a7dc(0x769)](this['instanceName']+'\x20('+this[_0x15a7dc(0x3f9)]['wuid']+_0x15a7dc(0x25a)),!_0x2b43e9||!_0x2d1121)return this[_0x15a7dc(0x732)]['error'](this[_0x15a7dc(0x1e0)]+'\x20('+this[_0x15a7dc(0x3f9)][_0x15a7dc(0x56a)]+_0x15a7dc(0x3f7)),null;let _0x17c0bf=Date[_0x15a7dc(0x587)](),_0x210da1=parseInt(_0x2d1121[_0x15a7dc(0x7e6)],0xa);if(isNaN(_0x210da1))return this[_0x15a7dc(0x732)]['error'](this['instanceName']+'\x20('+this[_0x15a7dc(0x3f9)]['wuid']+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x38434e={'newStoppedUntil':_0x17c0bf+_0x210da1*0x3c*0x3e8};return await this[_0x15a7dc(0x4f7)](_0x2b43e9,_0x2d1121,_0x38434e,!0x0),null;}async[a0_0x4fecf3(0x52e)](_0x2ae244,_0x92923f){const _0x4decbe=a0_0x4fecf3;try{switch(_0x92923f['uazapi'][_0x4decbe(0x2e7)]){case'sendText':await this[_0x4decbe(0x561)](_0x2ae244,_0x92923f);break;case _0x4decbe(0x3f0):await this[_0x4decbe(0x3fe)](_0x2ae244,_0x92923f);break;case'sendLocation':await this[_0x4decbe(0x6c3)](_0x2ae244,_0x92923f);break;case'sendAudio':await this[_0x4decbe(0x5b5)](_0x2ae244,_0x92923f);break;case _0x4decbe(0x7d9):await this[_0x4decbe(0x473)](_0x2ae244,_0x92923f);break;case _0x4decbe(0x522):await this[_0x4decbe(0x1f0)](_0x2ae244,_0x92923f);break;case _0x4decbe(0x7f3):await this[_0x4decbe(0x1f0)](_0x2ae244,_0x92923f);break;case _0x4decbe(0x3fc):await this[_0x4decbe(0x6bc)](_0x2ae244,_0x92923f);break;default:this[_0x4decbe(0x732)]['error'](this['instanceName']+'\x20('+this['instance'][_0x4decbe(0x56a)]+_0x4decbe(0x1bc)+_0x92923f[_0x4decbe(0x354)][_0x4decbe(0x2e7)]);}}catch(_0x122a5a){this[_0x4decbe(0x732)][_0x4decbe(0x2cb)](this[_0x4decbe(0x1e0)]+'\x20('+this['instance']['wuid']+_0x4decbe(0x7dc)+(_0x122a5a instanceof Error?_0x122a5a[_0x4decbe(0x6c9)]:JSON[_0x4decbe(0x155)](_0x122a5a,null,0x2)));}}async[a0_0x4fecf3(0x4f7)](_0x158384,_0x384065,_0x47d572,_0x3b7d21=!0x1,_0x54fa3f=!0x1){const _0x3f7bc1=a0_0x4fecf3;_0x158384[_0x3f7bc1(0x28b)]['blockLogs']||(_0x158384[_0x3f7bc1(0x28b)][_0x3f7bc1(0x4d3)]=[]);let _0x288ca6=(_0x158384[_0x3f7bc1(0x28b)][_0x3f7bc1(0x4d3)]?.[_0x3f7bc1(0x7da)]??0x0)+0x1,_0x4c9d46=_0x158384[_0x3f7bc1(0x28b)]['blockLogs'][_0x3f7bc1(0x6b9)](_0x561e42=>String(_0x561e42['blockId'])===String(_0x384065[_0x3f7bc1(0x4d1)]))['length']+0x1,_0x73c479=_0x47d572?.['onTime']??Date[_0x3f7bc1(0x587)](),_0x4be639=_0x47d572?.[_0x3f7bc1(0x2cb)]?_0x47d572['errorLog']??_0x47d572[_0x3f7bc1(0x2cb)]['toString']():void 0x0,_0x2ee4cb={'onTime':_0x73c479,'blockId':_0x384065['_id'],'order':_0x288ca6,'activatedCount':_0x4c9d46,'error':_0x47d572?.['error']??!0x1,'messageId':_0x47d572?.[_0x3f7bc1(0x7d8)],'apiResponse':_0x47d572?.['apiResponse'],'apiResponseString':_0x47d572?.['apiResponse']?JSON[_0x3f7bc1(0x155)](_0x47d572?.[_0x3f7bc1(0x6da)]):void 0x0,'variable':_0x47d572?.[_0x3f7bc1(0x46e)],'oldValue':_0x47d572?.['oldValue'],'newValue':_0x47d572?.[_0x3f7bc1(0x450)],'newStoppedUntil':_0x47d572?.['newStoppedUntil'],'moreLogs':_0x47d572?.['moreLogs'],'errorLog':_0x4be639};if(_0x47d572[_0x3f7bc1(0x621)]&&_0x47d572[_0x3f7bc1(0x621)][_0x3f7bc1(0x7da)]>0x0){let _0x57df0f=_0x47d572[_0x3f7bc1(0x621)][_0x3f7bc1(0x428)](_0x19b1e8=>this['replaceVariablesLogs'](_0x19b1e8,_0x158384['chatLog'][_0x3f7bc1(0x5bc)]));_0x2ee4cb[_0x3f7bc1(0x621)]=_0x57df0f;}_0x158384[_0x3f7bc1(0x28b)][_0x3f7bc1(0x5bc)]||(_0x158384[_0x3f7bc1(0x28b)][_0x3f7bc1(0x5bc)]={}),_0x158384[_0x3f7bc1(0x28b)]['realVariables'][_0x3f7bc1(0x330)]=String(_0x4c9d46),_0x158384[_0x3f7bc1(0x28b)][_0x3f7bc1(0x5bc)]['_error']=String(_0x47d572[_0x3f7bc1(0x2cb)]??!0x1),_0x158384[_0x3f7bc1(0x28b)][_0x3f7bc1(0x4d3)][_0x3f7bc1(0x4b4)](_0x2ee4cb),_0x158384['chatLog'][_0x3f7bc1(0x6c1)]=_0x384065['_id'][_0x3f7bc1(0x2c2)](),_0x158384[_0x3f7bc1(0x28b)][_0x3f7bc1(0x2b2)]&&(_0x158384[_0x3f7bc1(0x28b)]['lastSendMessage']=_0x158384[_0x3f7bc1(0x28b)]['lastSendMessage']),_0x158384[_0x3f7bc1(0x28b)]['lastReceivedMessage']&&(_0x158384['chatLog'][_0x3f7bc1(0x5e3)]=_0x158384['chatLog']['lastReceivedMessage']),_0x158384[_0x3f7bc1(0x28b)][_0x3f7bc1(0x3c0)]&&(_0x158384[_0x3f7bc1(0x28b)][_0x3f7bc1(0x3c0)]=_0x158384[_0x3f7bc1(0x28b)][_0x3f7bc1(0x3c0)]),_0x54fa3f&&(_0x158384[_0x3f7bc1(0x395)]=_0x3f7bc1(0x21b)),_0x3b7d21?this['saveConversationToDatabase'](_0x158384):this['goNextblock'](_0x158384,_0x384065);}[a0_0x4fecf3(0x2a1)](_0x263d61,_0x4bdf0f){const _0x2c441b=a0_0x4fecf3;return _0x263d61[_0x2c441b(0x6eb)](/\{\{([^}]+)\}\}/g,(_0x2b93cb,_0x3e9d2b)=>_0x4bdf0f[_0x3e9d2b]?'{{'+_0x3e9d2b+_0x2c441b(0x7cb)+_0x4bdf0f[_0x3e9d2b]+'\x22':'{{'+_0x3e9d2b+'}}\x20->\x20valor\x20não\x20encontrado');}async['saveConversationToDatabase'](_0xd6b87d){const _0x2e376f=a0_0x4fecf3;try{let _0x550a2c=Object[_0x2e376f(0x4ef)](_0xd6b87d[_0x2e376f(0x28b)]['realVariables'])['map'](([_0x52dbf6,_0x42bdd4])=>({'name':_0x52dbf6,'value':_0x42bdd4})),_0x31649a={'status':_0xd6b87d['status'],'blocks':_0xd6b87d[_0x2e376f(0x6ab)],'waitingMenu_id':_0xd6b87d[_0x2e376f(0x6db)],'waitingMenu_text':_0xd6b87d['waitingMenu_text'],'waitingMenu_replyOptions':_0xd6b87d[_0x2e376f(0x2f1)],'chatLog':{'lastBlockId':_0xd6b87d[_0x2e376f(0x28b)][_0x2e376f(0x6c1)],'lastSendMessage':_0xd6b87d[_0x2e376f(0x28b)][_0x2e376f(0x2b2)],'lastReceivedMessage':_0xd6b87d[_0x2e376f(0x28b)][_0x2e376f(0x5e3)],'lastCondition':_0xd6b87d[_0x2e376f(0x28b)][_0x2e376f(0x3c0)],'chatVariables':_0x550a2c,'realVariables':_0xd6b87d[_0x2e376f(0x28b)][_0x2e376f(0x5bc)],'blockLogs':_0xd6b87d[_0x2e376f(0x28b)][_0x2e376f(0x4d3)]}},_0x28eccc=await this[_0x2e376f(0x35c)][_0x2e376f(0x3bb)][_0x2e376f(0x530)](_0xd6b87d[_0x2e376f(0x4d1)],_0x31649a,this[_0x2e376f(0x3f9)]['wuid']);if(_0x28eccc){this[_0x2e376f(0x732)][_0x2e376f(0x769)](this[_0x2e376f(0x1e0)]+'\x20('+this[_0x2e376f(0x3f9)][_0x2e376f(0x56a)]+_0x2e376f(0x634)+_0x28eccc['_id']);try{let _0x3c8961=['nome',_0x2e376f(0x72a),_0x2e376f(0x6c0),_0x2e376f(0x355),_0x2e376f(0x395),_0x2e376f(0x4bc),'responsavelid',_0x2e376f(0x17e),'etiquetas'];if(!this['AutomateSystem']&&(await this[_0x2e376f(0x287)](),!this[_0x2e376f(0x6cf)]))throw new Error(_0x2e376f(0x770));let _0x4d7f31=this[_0x2e376f(0x6cf)]?.[_0x2e376f(0x5b3)]['map'](_0x50e12f=>_0x50e12f[_0x2e376f(0x804)]),_0x27b852={};Object[_0x2e376f(0x4ef)](_0xd6b87d[_0x2e376f(0x28b)][_0x2e376f(0x5bc)])[_0x2e376f(0x697)](([_0x4317fc,_0x55a9d5])=>{const _0xd64d98=_0x2e376f;_0x3c8961[_0xd64d98(0x207)](_0x4317fc)&&(_0x4317fc===_0xd64d98(0x17e)&&typeof _0x55a9d5==_0xd64d98(0x78b)?_0x27b852[_0x4317fc]=_0x55a9d5[_0xd64d98(0x579)](',')[_0xd64d98(0x428)](_0x4fd91e=>_0x4fd91e[_0xd64d98(0x80b)]())[_0xd64d98(0x6b9)](_0x5bb27b=>_0x5bb27b!==''):_0x4317fc===_0xd64d98(0x471)&&typeof _0x55a9d5=='string'?_0x27b852[_0x4317fc]=_0x55a9d5[_0xd64d98(0x579)](',')[_0xd64d98(0x428)](_0x731da2=>_0x731da2[_0xd64d98(0x80b)]())['filter'](_0x39ab45=>_0x39ab45!==''):_0x27b852[_0x4317fc]=_0x55a9d5);});let _0x5d6d5e=_0xd6b87d[_0x2e376f(0x28b)]['blockLogs'][_0xd6b87d[_0x2e376f(0x28b)][_0x2e376f(0x4d3)][_0x2e376f(0x7da)]-0x1];if(_0x5d6d5e){let _0x53ce83=_0x5d6d5e[_0x2e376f(0x5a0)];_0x53ce83!==void 0x0&&(_0x27b852[_0x2e376f(0x672)]=_0x53ce83[_0x2e376f(0x2c2)]());}let _0x5aa9b9=_0x550a2c[_0x2e376f(0x6b9)](_0x26c14f=>_0x4d7f31[_0x2e376f(0x207)](_0x26c14f[_0x2e376f(0x804)]));this['logger']['verbose'](this[_0x2e376f(0x1e0)]+'\x20('+this[_0x2e376f(0x3f9)][_0x2e376f(0x56a)]+_0x2e376f(0x727)),this['logger'][_0x2e376f(0x769)](_0x27b852),this[_0x2e376f(0x732)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2e376f(0x56a)]+_0x2e376f(0x359)),this[_0x2e376f(0x732)][_0x2e376f(0x769)](_0x5aa9b9);let _0x5997f9=_0x5aa9b9[_0x2e376f(0x428)](_0x5f2cb5=>{const _0x30b5d3=_0x2e376f;let _0x437e2b=this[_0x30b5d3(0x6cf)]?.[_0x30b5d3(0x5b3)][_0x30b5d3(0x201)](_0x5ba592=>_0x5ba592[_0x30b5d3(0x804)]===_0x5f2cb5[_0x30b5d3(0x804)]);if(!_0x437e2b)throw new Error(_0x30b5d3(0x77a)+_0x5f2cb5[_0x30b5d3(0x804)]);return{'_id':_0x437e2b[_0x30b5d3(0x4d1)],'value':_0x5f2cb5[_0x30b5d3(0x52d)]};});this[_0x2e376f(0x732)][_0x2e376f(0x769)](this['instanceName']+'\x20('+this['instance'][_0x2e376f(0x56a)]+_0x2e376f(0x361)),this[_0x2e376f(0x732)][_0x2e376f(0x769)](_0x5997f9),await this[_0x2e376f(0x180)](_0xd6b87d[_0x2e376f(0x48b)],_0x27b852,_0x5997f9);}catch(_0x402d53){this[_0x2e376f(0x732)][_0x2e376f(0x2cb)](this['instanceName']+'\x20('+this[_0x2e376f(0x3f9)][_0x2e376f(0x56a)]+_0x2e376f(0x615)+(_0x402d53 instanceof Error?_0x402d53[_0x2e376f(0x6c9)]:JSON[_0x2e376f(0x155)](_0x402d53,null,0x2)));}}else this[_0x2e376f(0x732)]['error'](this[_0x2e376f(0x1e0)]+'\x20('+this[_0x2e376f(0x3f9)][_0x2e376f(0x56a)]+_0x2e376f(0x25f));}catch(_0xb21b73){this[_0x2e376f(0x732)][_0x2e376f(0x2cb)](this[_0x2e376f(0x1e0)]+'\x20('+this[_0x2e376f(0x3f9)]['wuid']+_0x2e376f(0x6cb)+(_0xb21b73 instanceof Error?_0xb21b73[_0x2e376f(0x6c9)]:JSON[_0x2e376f(0x155)](_0xb21b73,null,0x2)));}}async['saveChatVariables'](_0x1872ef,_0xca8903,_0x128bae){const _0x4b8ae4=a0_0x4fecf3;try{let _0x20d3f1={'leadInfo.leadnome':_0xca8903['nome'],'leadInfo.nomecompleto':_0xca8903[_0x4b8ae4(0x72a)],'leadInfo.email':_0xca8903[_0x4b8ae4(0x6c0)],'leadInfo.cpf':_0xca8903[_0x4b8ae4(0x355)],'leadInfo.status':_0xca8903[_0x4b8ae4(0x395)],'leadInfo.notas':_0xca8903[_0x4b8ae4(0x4bc)],'leadInfo.responsavelid':_0xca8903[_0x4b8ae4(0x4e3)],'leadInfo.tags':_0xca8903[_0x4b8ae4(0x17e)],'leadInfo.etiquetas':_0xca8903[_0x4b8ae4(0x471)],'leadInfo.customFields':_0x128bae},_0x55ebd8=await this[_0x4b8ae4(0x35c)]['chat']['findOne']({'where':{'_id':_0x1872ef}},this['instance'][_0x4b8ae4(0x56a)]),_0x20c2f1=new Set(_0x55ebd8[_0x4b8ae4(0x7c8)][_0x4b8ae4(0x471)]||[]),_0x29bdc6=new Set(_0xca8903[_0x4b8ae4(0x471)]||[]),_0x67be46=await this['repository'][_0x4b8ae4(0x40e)]['find']({'where':{}},this[_0x4b8ae4(0x3f9)][_0x4b8ae4(0x56a)]),_0x207540=new Set(_0x67be46[_0x4b8ae4(0x428)](_0x4cd3bd=>_0x4cd3bd[_0x4b8ae4(0x4d1)])),_0x38d2b1=[..._0x29bdc6][_0x4b8ae4(0x6b9)](_0xd24a9b=>!_0x20c2f1['has'](_0xd24a9b)&&_0x207540['has'](_0xd24a9b)),_0x3e9790=[..._0x20c2f1][_0x4b8ae4(0x6b9)](_0x1eebf8=>!_0x29bdc6[_0x4b8ae4(0x311)](_0x1eebf8));for(let _0xc67dd8 of _0x38d2b1)await this['AddChatLabel'](_0xc67dd8,_0x55ebd8[_0x4b8ae4(0x4d1)]),_0x20c2f1['add'](_0xc67dd8);for(let _0x7e9c15 of _0x3e9790)await this[_0x4b8ae4(0x321)](_0x7e9c15,_0x55ebd8[_0x4b8ae4(0x4d1)]),_0x20c2f1[_0x4b8ae4(0x1c0)](_0x7e9c15);if('desativadoFluxoAte'in _0xca8903){let _0x17e8eb=_0xca8903[_0x4b8ae4(0x672)];_0x20d3f1[_0x4b8ae4(0x324)]=_0x17e8eb?Number(_0x17e8eb):null;}let _0x222079=await this[_0x4b8ae4(0x35c)]['chat'][_0x4b8ae4(0x530)]({'where':{'_id':_0x1872ef}},_0x20d3f1,this[_0x4b8ae4(0x3f9)][_0x4b8ae4(0x56a)]);_0x222079?(this[_0x4b8ae4(0x732)]['verbose'](this[_0x4b8ae4(0x1e0)]+'\x20('+this[_0x4b8ae4(0x3f9)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x222079[_0x4b8ae4(0x4d1)]),F(this[_0x4b8ae4(0x1e0)],_0x4b8ae4(0x246),{'chat':_0x222079})):this[_0x4b8ae4(0x732)]['error'](this[_0x4b8ae4(0x1e0)]+'\x20('+this[_0x4b8ae4(0x3f9)][_0x4b8ae4(0x56a)]+_0x4b8ae4(0x54a));}catch(_0x52c46c){this[_0x4b8ae4(0x732)][_0x4b8ae4(0x2cb)](this[_0x4b8ae4(0x1e0)]+'\x20('+this[_0x4b8ae4(0x3f9)][_0x4b8ae4(0x56a)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x52c46c instanceof Error?_0x52c46c['message']:JSON[_0x4b8ae4(0x155)](_0x52c46c,null,0x2)));}}async[a0_0x4fecf3(0x56f)](_0x38a586,_0x4ce147){const _0x3a4472=a0_0x4fecf3;this[_0x3a4472(0x732)][_0x3a4472(0x769)](this['instanceName']+'\x20('+this['instance'][_0x3a4472(0x56a)]+_0x3a4472(0x68f)+_0x4ce147);try{let _0x39889c=await this[_0x3a4472(0x35c)][_0x3a4472(0x205)][_0x3a4472(0x530)]({'where':{'_id':_0x38a586[_0x3a4472(0x48b)]}},{'leadInfo.desativadoFluxoAte':_0x4ce147},this['instance']['wuid']);this[_0x3a4472(0x732)][_0x3a4472(0x769)](this[_0x3a4472(0x1e0)]+'\x20('+this[_0x3a4472(0x3f9)][_0x3a4472(0x56a)]+_0x3a4472(0x27a)+_0x38a586['_id']),this[_0x3a4472(0x732)][_0x3a4472(0x769)](this[_0x3a4472(0x1e0)]+'\x20('+this[_0x3a4472(0x3f9)][_0x3a4472(0x56a)]+'):\x20atualização\x20chat:\x20'+JSON[_0x3a4472(0x155)](_0x39889c,null,0x2)),_0x39889c&&F(this[_0x3a4472(0x1e0)],_0x3a4472(0x246),{'chat':_0x39889c});}catch(_0x5a1174){this[_0x3a4472(0x732)]['error'](this['instanceName']+'\x20('+this[_0x3a4472(0x3f9)][_0x3a4472(0x56a)]+_0x3a4472(0x81f)+(_0x5a1174 instanceof Error?_0x5a1174[_0x3a4472(0x6c9)]:JSON[_0x3a4472(0x155)](_0x5a1174,null,0x2)));}}async['findFlow'](_0x2116a3){const _0x52bde9=a0_0x4fecf3;try{this['logger'][_0x52bde9(0x769)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Buscando\x20flow...');let _0x2a10b4=_0x2116a3[_0x52bde9(0x6eb)](/\D/g,''),_0x1e9f0c=await this[_0x52bde9(0x35c)][_0x52bde9(0x22c)][_0x52bde9(0x338)]({'where':{'testingWith':_0x2a10b4}},this['instance'][_0x52bde9(0x56a)]);return _0x1e9f0c||(this[_0x52bde9(0x732)][_0x52bde9(0x769)](this[_0x52bde9(0x1e0)]+'\x20('+this[_0x52bde9(0x3f9)][_0x52bde9(0x56a)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x1e9f0c=await this[_0x52bde9(0x35c)][_0x52bde9(0x22c)]['findOne']({'where':{'default':!0x0}},this[_0x52bde9(0x3f9)][_0x52bde9(0x56a)])),_0x1e9f0c||(this[_0x52bde9(0x732)][_0x52bde9(0x769)](this[_0x52bde9(0x1e0)]+'\x20('+this[_0x52bde9(0x3f9)][_0x52bde9(0x56a)]+_0x52bde9(0x4c0)),null);}catch(_0x36d19d){return this[_0x52bde9(0x732)][_0x52bde9(0x2cb)](this['instanceName']+'\x20('+this[_0x52bde9(0x3f9)]['wuid']+_0x52bde9(0x7ca)+(_0x36d19d instanceof Error?_0x36d19d[_0x52bde9(0x6c9)]:JSON[_0x52bde9(0x155)](_0x36d19d,null,0x2))),null;}}async[a0_0x4fecf3(0x7a1)](_0x1ae2a8,_0x1eb809){const _0x1fb369=a0_0x4fecf3;try{let _0x53b7ef=!!_0x1eb809[_0x1fb369(0x5ae)],_0x968935=_0x1eb809['quoted'],_0x434a6e=null;if(this[_0x1fb369(0x732)][_0x1fb369(0x769)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20isVote:\x20'+_0x53b7ef+'\x20quoted:\x20'+_0x968935),_0x53b7ef){this[_0x1fb369(0x732)][_0x1fb369(0x769)](this[_0x1fb369(0x1e0)]+'\x20('+this['instance']['wuid']+_0x1fb369(0x28e));let _0x4d9e3b={'where':{'remoteJid':_0x1ae2a8,'waitingMenu_id':_0x968935}};if(_0x434a6e=await this[_0x1fb369(0x35c)][_0x1fb369(0x3bb)]['findOne'](_0x4d9e3b,this[_0x1fb369(0x3f9)][_0x1fb369(0x56a)]),!_0x434a6e)return this[_0x1fb369(0x732)]['verbose'](this[_0x1fb369(0x1e0)]+'\x20('+this[_0x1fb369(0x3f9)][_0x1fb369(0x56a)]+_0x1fb369(0x674)),null;let _0x378c84=Date[_0x1fb369(0x587)](),_0x2902ba=_0x434a6e?.[_0x1fb369(0x4be)]||0x0,_0x14aa11=_0x378c84-_0x2902ba*0x3c*0x3e8;if(_0x434a6e[_0x1fb369(0x196)]<_0x14aa11){this[_0x1fb369(0x732)]['verbose'](this[_0x1fb369(0x1e0)]+'\x20('+this[_0x1fb369(0x3f9)][_0x1fb369(0x56a)]+_0x1fb369(0x42a));let _0x15bc16={'number':_0x434a6e[_0x1fb369(0x48b)],'options':{'delay':0x0},'textMessage':{'text':_0x434a6e[_0x1fb369(0x422)]}};await this['textMessage'](_0x15bc16);let _0x23d9b7={'status':_0x1fb369(0x21b),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x1fb369(0x35c)][_0x1fb369(0x3bb)][_0x1fb369(0x530)](_0x434a6e[_0x1fb369(0x4d1)],_0x23d9b7,this[_0x1fb369(0x3f9)][_0x1fb369(0x56a)]),null;}return _0x434a6e[_0x1fb369(0x196)]=Date['now'](),_0x434a6e['chatLog'][_0x1fb369(0x5e3)]=_0x1eb809,_0x434a6e;}else{this[_0x1fb369(0x732)][_0x1fb369(0x769)](this[_0x1fb369(0x1e0)]+'\x20('+this[_0x1fb369(0x3f9)]['wuid']+_0x1fb369(0x6cc)+this['instance'][_0x1fb369(0x56a)]+_0x1fb369(0x79f)),this['logger'][_0x1fb369(0x769)](this[_0x1fb369(0x1e0)]+'\x20('+this[_0x1fb369(0x3f9)][_0x1fb369(0x56a)]+_0x1fb369(0x242));let _0xd0f2ca={'where':{'remoteJid':_0x1ae2a8,'status':_0x1fb369(0x413)}};if(_0x434a6e=await this['repository'][_0x1fb369(0x3bb)][_0x1fb369(0x338)](_0xd0f2ca,this[_0x1fb369(0x3f9)][_0x1fb369(0x56a)]),!_0x434a6e){let _0x2729cd=await this[_0x1fb369(0x3cf)](_0x1ae2a8);if(_0x2729cd&&(_0x434a6e=await this['createNewConversation'](_0x2729cd,_0x1eb809[_0x1fb369(0x283)],_0x1eb809)),!_0x434a6e)return null;}let _0x55b412=Date[_0x1fb369(0x587)](),_0x2e6cf8=_0x434a6e?.[_0x1fb369(0x4be)]||0x0,_0x148c05=_0x55b412-_0x2e6cf8*0x3c*0x3e8;if(this[_0x1fb369(0x732)][_0x1fb369(0x769)](this[_0x1fb369(0x1e0)]+'\x20('+this['instance']['wuid']+'):\x20Current\x20Time:\x20'+_0x55b412+_0x1fb369(0x34f)+_0x2e6cf8+',\x20Expiration\x20Time:\x20'+_0x148c05),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1fb369(0x3f9)]['wuid']+_0x1fb369(0x1e2)),this['logger'][_0x1fb369(0x769)](this[_0x1fb369(0x1e0)]+'\x20('+this['instance']['wuid']+_0x1fb369(0x1ca)+_0x434a6e[_0x1fb369(0x196)]),this[_0x1fb369(0x732)]['verbose'](this[_0x1fb369(0x1e0)]+'\x20('+this[_0x1fb369(0x3f9)][_0x1fb369(0x56a)]+_0x1fb369(0x4ea)+_0x148c05),_0x434a6e[_0x1fb369(0x196)]<_0x148c05){this[_0x1fb369(0x732)][_0x1fb369(0x769)](this[_0x1fb369(0x1e0)]+'\x20('+this[_0x1fb369(0x3f9)][_0x1fb369(0x56a)]+_0x1fb369(0x4c5));let _0x157c17=await this[_0x1fb369(0x3cf)](_0x1ae2a8);if(_0x157c17===null)return null;_0x434a6e&&await this[_0x1fb369(0x35c)]['flowConversation'][_0x1fb369(0x530)](_0x434a6e[_0x1fb369(0x4d1)],{'status':'closed'},this[_0x1fb369(0x3f9)][_0x1fb369(0x56a)]),_0x434a6e=await this['createNewConversation'](_0x157c17,_0x1eb809[_0x1fb369(0x283)],_0x1eb809);}return _0x434a6e[_0x1fb369(0x196)]=_0x55b412,_0x434a6e[_0x1fb369(0x28b)][_0x1fb369(0x5e3)]=_0x1eb809,_0x434a6e;}}catch(_0x34d02c){return this[_0x1fb369(0x732)][_0x1fb369(0x2cb)](this[_0x1fb369(0x1e0)]+'\x20('+this[_0x1fb369(0x3f9)][_0x1fb369(0x56a)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x34d02c instanceof Error?_0x34d02c['message']:JSON[_0x1fb369(0x155)](_0x34d02c,null,0x2))),null;}}async[a0_0x4fecf3(0x271)](_0x5c683d,_0x5e4c1b,_0x4eae28){const _0xacc1fd=a0_0x4fecf3;this[_0xacc1fd(0x732)][_0xacc1fd(0x769)](this['instanceName']+'\x20('+this['instance'][_0xacc1fd(0x56a)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x57d365=require(_0xacc1fd(0x71b))[_0xacc1fd(0x29f)],_0x939e69=Date[_0xacc1fd(0x587)](),_0x25d0ca=_0xacc1fd(0x592),_0x2a9650=_0x5e4c1b['fromMe']?null:_0x4eae28,_0x538258=_0x5e4c1b['fromMe']?_0x4eae28:null,_0x2a60fe=_0x5e4c1b[_0xacc1fd(0x48b)];await this['closeExistingConversations'](_0x2a60fe);let _0x5ed828={..._0x5c683d,'chatLog':null},_0x4b6cbb=await this[_0xacc1fd(0x80e)](_0x5ed828[_0xacc1fd(0x163)]),_0x352d26=await this[_0xacc1fd(0x52c)](_0x2a60fe),_0x541bc1={..._0x4b6cbb,..._0x352d26,'_remoteJid':_0x2a60fe},_0x16c42e={'lastReceivedMessage':_0x2a9650,'lastSendMessage':_0x538258,'lastBlockId':_0x25d0ca,'lastCondition':!0x0,'realVariables':_0x541bc1};_0x5ed828[_0xacc1fd(0x28b)]=_0x16c42e,delete _0x5ed828[_0xacc1fd(0x4d1)],_0x5ed828[_0xacc1fd(0x4d1)]=new _0x57d365(),_0x5ed828['lastInteraction']=_0x939e69,_0x5ed828[_0xacc1fd(0x395)]='open',_0x5ed828[_0xacc1fd(0x48b)]=_0x2a60fe;let _0x1e7084=await this['repository'][_0xacc1fd(0x3bb)][_0xacc1fd(0x530)](_0x5ed828[_0xacc1fd(0x4d1)],_0x5ed828,this['instance'][_0xacc1fd(0x56a)]);return this[_0xacc1fd(0x732)][_0xacc1fd(0x769)](this['instanceName']+'\x20('+this[_0xacc1fd(0x3f9)][_0xacc1fd(0x56a)]+_0xacc1fd(0x3e6)),_0x1e7084?_0x5ed828:null;}catch(_0xd70886){return this[_0xacc1fd(0x732)][_0xacc1fd(0x2cb)](this[_0xacc1fd(0x1e0)]+'\x20('+this[_0xacc1fd(0x3f9)][_0xacc1fd(0x56a)]+_0xacc1fd(0x62e)+(_0xd70886 instanceof Error?_0xd70886[_0xacc1fd(0x6c9)]:JSON[_0xacc1fd(0x155)](_0xd70886,null,0x2))),_0xd70886;}}async[a0_0x4fecf3(0x561)](_0x4c613c,_0x3ceec6){const _0x16d1d9=a0_0x4fecf3;let _0xcd4bce=_0x4c613c['remoteJid'];_0x3ceec6[_0x16d1d9(0x354)][_0x16d1d9(0x48b)]&&_0x3ceec6[_0x16d1d9(0x354)]['remoteJid']['trim']()!==''&&(_0xcd4bce=_0x3ceec6[_0x16d1d9(0x354)][_0x16d1d9(0x48b)][_0x16d1d9(0x80b)]()),this[_0x16d1d9(0x732)]['verbose'](this[_0x16d1d9(0x1e0)]+'\x20('+this[_0x16d1d9(0x3f9)][_0x16d1d9(0x56a)]+_0x16d1d9(0x2d8));let _0x50ef5f={'number':_0xcd4bce,'options':{'delay':_0x3ceec6[_0x16d1d9(0x354)]['delay'],'linkPreview':_0x3ceec6[_0x16d1d9(0x354)][_0x16d1d9(0x3c3)]},'textMessage':{'text':_0x3ceec6[_0x16d1d9(0x354)][_0x16d1d9(0x384)]}};try{let _0x442338=await this[_0x16d1d9(0x308)](_0x50ef5f);if(_0x442338){let _0x247b91={'_id':_0x442338[_0x16d1d9(0x283)]['id'],'_fromMe':_0x442338[_0x16d1d9(0x283)][_0x16d1d9(0x235)],'_remoteJid':_0x442338[_0x16d1d9(0x283)][_0x16d1d9(0x48b)]},_0x1908cd=(0x0,m[_0x16d1d9(0x273)])(_0x442338[_0x16d1d9(0x6c9)]),_0x4e375d=(0x0,m[_0x16d1d9(0x383)])(_0x1908cd);_0x4c613c[_0x16d1d9(0x28b)]['lastBlockId']=_0x3ceec6['_id'][_0x16d1d9(0x2c2)]();let {message_normalized:_0x22778f}=this[_0x16d1d9(0x261)](_0x1908cd,_0x4e375d,null);_0x4c613c[_0x16d1d9(0x28b)]['lastSendMessage']=await _0x22778f;let _0x56feb9={'messageId':_0x442338['key']['id']},_0x1da9df=_0x4c613c[_0x16d1d9(0x28b)]['realVariables'];Object[_0x16d1d9(0x5c3)](_0x1da9df,_0x247b91),_0x4c613c[_0x16d1d9(0x28b)][_0x16d1d9(0x5bc)]=_0x1da9df,this['updateConversation'](_0x4c613c,_0x3ceec6,_0x56feb9);}else{let _0x4d30db={'error':!0x0};this[_0x16d1d9(0x4f7)](_0x4c613c,_0x3ceec6,_0x4d30db),this[_0x16d1d9(0x732)][_0x16d1d9(0x2cb)](this[_0x16d1d9(0x1e0)]+'\x20('+this[_0x16d1d9(0x3f9)]['wuid']+_0x16d1d9(0x6a8));}}catch(_0x2d46d5){let _0x493a29={'error':!0x0,'errorLog':_0x2d46d5[_0x16d1d9(0x2c2)]()};this['updateConversation'](_0x4c613c,_0x3ceec6,_0x493a29),this[_0x16d1d9(0x732)]['error'](this[_0x16d1d9(0x1e0)]+'\x20('+this[_0x16d1d9(0x3f9)][_0x16d1d9(0x56a)]+_0x16d1d9(0x487)+(_0x2d46d5 instanceof Error?_0x2d46d5[_0x16d1d9(0x6c9)]:JSON[_0x16d1d9(0x155)](_0x2d46d5,null,0x2)));}}async[a0_0x4fecf3(0x3fe)](_0x5dd21c,_0x46ad27){const _0x177a61=a0_0x4fecf3;let _0xe25155=_0x5dd21c[_0x177a61(0x48b)];_0x46ad27[_0x177a61(0x354)][_0x177a61(0x48b)]&&_0x46ad27[_0x177a61(0x354)][_0x177a61(0x48b)][_0x177a61(0x80b)]()!==''&&(_0xe25155=_0x46ad27[_0x177a61(0x354)][_0x177a61(0x48b)][_0x177a61(0x80b)]()),this['logger'][_0x177a61(0x769)](this['instanceName']+'\x20('+this[_0x177a61(0x3f9)][_0x177a61(0x56a)]+_0x177a61(0x80a));let _0x5136bb={'number':_0xe25155,'options':{'delay':_0x46ad27['uazapi'][_0x177a61(0x377)],'linkPreview':_0x46ad27['uazapi'][_0x177a61(0x3c3)]},'mediaMessage':{'mediatype':_0x46ad27['uazapi'][_0x177a61(0x322)],'caption':_0x46ad27[_0x177a61(0x354)][_0x177a61(0x2da)],'media':_0x46ad27[_0x177a61(0x354)][_0x177a61(0x7cf)],'fileName':_0x46ad27[_0x177a61(0x354)][_0x177a61(0x3e1)]}};try{let _0x54e684=await this[_0x177a61(0x601)](_0x5136bb);if(_0x54e684){let _0x220aa0={'_id':_0x54e684[_0x177a61(0x283)]['id'],'_fromMe':_0x54e684[_0x177a61(0x283)][_0x177a61(0x235)],'_remoteJid':_0x54e684[_0x177a61(0x283)][_0x177a61(0x48b)]},_0x2647af=(0x0,m[_0x177a61(0x273)])(_0x54e684[_0x177a61(0x6c9)]),_0x154837=(0x0,m[_0x177a61(0x383)])(_0x2647af);_0x5dd21c[_0x177a61(0x28b)][_0x177a61(0x6c1)]=_0x46ad27['_id'][_0x177a61(0x2c2)]();let {message_normalized:_0x1b379c}=this['normalizeMessage'](_0x2647af,_0x154837,null);_0x5dd21c['chatLog'][_0x177a61(0x2b2)]=await _0x1b379c;let _0xde7bad={'messageId':_0x54e684[_0x177a61(0x283)]['id']},_0x3f7b08=_0x5dd21c[_0x177a61(0x28b)][_0x177a61(0x5bc)];Object[_0x177a61(0x5c3)](_0x3f7b08,_0x220aa0),_0x5dd21c['chatLog']['realVariables']=_0x3f7b08,this[_0x177a61(0x4f7)](_0x5dd21c,_0x46ad27,_0xde7bad);}else{let _0xb62145={'error':!0x0};this['updateConversation'](_0x5dd21c,_0x46ad27,_0xb62145),this[_0x177a61(0x732)][_0x177a61(0x2cb)](this[_0x177a61(0x1e0)]+'\x20('+this[_0x177a61(0x3f9)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x2d6512){let _0x67f94a={'error':!0x0,'errorLog':_0x2d6512[_0x177a61(0x2c2)]()};this[_0x177a61(0x4f7)](_0x5dd21c,_0x46ad27,_0x67f94a),this[_0x177a61(0x732)]['error'](this[_0x177a61(0x1e0)]+'\x20('+this[_0x177a61(0x3f9)][_0x177a61(0x56a)]+_0x177a61(0x17b)+(_0x2d6512 instanceof Error?_0x2d6512['message']:JSON['stringify'](_0x2d6512,null,0x2)));}}async[a0_0x4fecf3(0x6c3)](_0x694f1a,_0x2a3fa4){const _0x4a1a3c=a0_0x4fecf3;let _0x366555=_0x694f1a[_0x4a1a3c(0x48b)];_0x2a3fa4[_0x4a1a3c(0x354)][_0x4a1a3c(0x48b)]&&_0x2a3fa4[_0x4a1a3c(0x354)][_0x4a1a3c(0x48b)][_0x4a1a3c(0x80b)]()!==''&&(_0x366555=_0x2a3fa4[_0x4a1a3c(0x354)][_0x4a1a3c(0x48b)]['trim']()),this[_0x4a1a3c(0x732)][_0x4a1a3c(0x769)](this['instanceName']+'\x20('+this['instance'][_0x4a1a3c(0x56a)]+_0x4a1a3c(0x4ce));let _0xd19669={'number':_0x366555,'options':{'delay':_0x2a3fa4[_0x4a1a3c(0x354)]['delay']},'locationMessage':{'name':_0x2a3fa4['uazapi'][_0x4a1a3c(0x804)],'address':_0x2a3fa4[_0x4a1a3c(0x354)][_0x4a1a3c(0x315)],'latitude':_0x2a3fa4['uazapi'][_0x4a1a3c(0x609)],'longitude':_0x2a3fa4['uazapi'][_0x4a1a3c(0x59d)]}};try{let _0x1c823f=await this['locationMessage'](_0xd19669);if(_0x1c823f){let _0x1d55af={'_id':_0x1c823f[_0x4a1a3c(0x283)]['id'],'_fromMe':_0x1c823f[_0x4a1a3c(0x283)]['fromMe'],'_remoteJid':_0x1c823f[_0x4a1a3c(0x283)]['remoteJid']},_0x2d94ce=(0x0,m[_0x4a1a3c(0x273)])(_0x1c823f[_0x4a1a3c(0x6c9)]),_0x4b139c=(0x0,m['getContentType'])(_0x2d94ce);_0x694f1a[_0x4a1a3c(0x28b)][_0x4a1a3c(0x6c1)]=_0x2a3fa4['_id'][_0x4a1a3c(0x2c2)]();let {message_normalized:_0x10e637}=this[_0x4a1a3c(0x261)](_0x2d94ce,_0x4b139c,null);_0x694f1a[_0x4a1a3c(0x28b)][_0x4a1a3c(0x2b2)]=await _0x10e637;let _0xc789d2={'messageId':_0x1c823f[_0x4a1a3c(0x283)]['id']},_0x2d9cd7=_0x694f1a[_0x4a1a3c(0x28b)]['realVariables'];Object['assign'](_0x2d9cd7,_0x1d55af),_0x694f1a['chatLog'][_0x4a1a3c(0x5bc)]=_0x2d9cd7,this[_0x4a1a3c(0x4f7)](_0x694f1a,_0x2a3fa4,_0xc789d2);}else{let _0x37ee20={'error':!0x0};this[_0x4a1a3c(0x4f7)](_0x694f1a,_0x2a3fa4,_0x37ee20),this[_0x4a1a3c(0x732)]['error'](this[_0x4a1a3c(0x1e0)]+'\x20('+this[_0x4a1a3c(0x3f9)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0xfda48b){let _0x533bde={'error':!0x0,'errorLog':_0xfda48b[_0x4a1a3c(0x2c2)]()};this[_0x4a1a3c(0x4f7)](_0x694f1a,_0x2a3fa4,_0x533bde),this['logger'][_0x4a1a3c(0x2cb)](this[_0x4a1a3c(0x1e0)]+'\x20('+this[_0x4a1a3c(0x3f9)][_0x4a1a3c(0x56a)]+_0x4a1a3c(0x1e8)+(_0xfda48b instanceof Error?_0xfda48b[_0x4a1a3c(0x6c9)]:JSON[_0x4a1a3c(0x155)](_0xfda48b,null,0x2)));}}async[a0_0x4fecf3(0x5b5)](_0xeb69de,_0x263c23){const _0x218593=a0_0x4fecf3;let _0x59c1cf=_0xeb69de[_0x218593(0x48b)];_0x263c23['uazapi']['remoteJid']&&_0x263c23[_0x218593(0x354)][_0x218593(0x48b)]['trim']()!==''&&(_0x59c1cf=_0x263c23['uazapi'][_0x218593(0x48b)]['trim']()),this[_0x218593(0x732)]['verbose'](this[_0x218593(0x1e0)]+'\x20('+this['instance'][_0x218593(0x56a)]+_0x218593(0x74f));let _0x4276e6={'number':_0x59c1cf,'options':{'delay':_0x263c23[_0x218593(0x354)][_0x218593(0x377)]},'audioMessage':{'audio':_0x263c23['uazapi'][_0x218593(0x81b)]}};try{let _0x3cc542=await this[_0x218593(0x36b)](_0x4276e6);if(_0x3cc542){let _0x274078={'_id':_0x3cc542['key']['id'],'_fromMe':_0x3cc542[_0x218593(0x283)]['fromMe'],'_remoteJid':_0x3cc542[_0x218593(0x283)][_0x218593(0x48b)]},_0x3f2124=(0x0,m[_0x218593(0x273)])(_0x3cc542[_0x218593(0x6c9)]),_0x3108be=(0x0,m[_0x218593(0x383)])(_0x3f2124);_0xeb69de[_0x218593(0x28b)]['lastBlockId']=_0x263c23[_0x218593(0x4d1)]['toString']();let {message_normalized:_0x354b8f}=this[_0x218593(0x261)](_0x3f2124,_0x3108be,null);_0xeb69de[_0x218593(0x28b)]['lastSendMessage']=await _0x354b8f;let _0x5ca4af={'messageId':_0x3cc542[_0x218593(0x283)]['id']},_0x346377=_0xeb69de['chatLog']['realVariables'];Object['assign'](_0x346377,_0x274078),_0xeb69de[_0x218593(0x28b)][_0x218593(0x5bc)]=_0x346377,this[_0x218593(0x4f7)](_0xeb69de,_0x263c23,_0x5ca4af);}else{let _0x104b97={'error':!0x0};this['updateConversation'](_0xeb69de,_0x263c23,_0x104b97),this[_0x218593(0x732)][_0x218593(0x2cb)](this[_0x218593(0x1e0)]+'\x20('+this[_0x218593(0x3f9)]['wuid']+_0x218593(0x547));}}catch(_0x451993){let _0x27a58a={'error':!0x0,'errorLog':_0x451993[_0x218593(0x2c2)]()};this[_0x218593(0x4f7)](_0xeb69de,_0x263c23,_0x27a58a),this['logger'][_0x218593(0x2cb)](this[_0x218593(0x1e0)]+'\x20('+this[_0x218593(0x3f9)]['wuid']+_0x218593(0x5a2)+(_0x451993 instanceof Error?_0x451993['message']:JSON[_0x218593(0x155)](_0x451993,null,0x2)));}}async[a0_0x4fecf3(0x473)](_0x4aec0d,_0x35c063){const _0x4bcc92=a0_0x4fecf3;let _0x231564=_0x4aec0d[_0x4bcc92(0x48b)];_0x35c063[_0x4bcc92(0x354)]['remoteJid']&&_0x35c063[_0x4bcc92(0x354)][_0x4bcc92(0x48b)][_0x4bcc92(0x80b)]()!==''&&(_0x231564=_0x35c063[_0x4bcc92(0x354)][_0x4bcc92(0x48b)][_0x4bcc92(0x80b)]()),this[_0x4bcc92(0x732)][_0x4bcc92(0x769)](this[_0x4bcc92(0x1e0)]+'\x20('+this['instance'][_0x4bcc92(0x56a)]+_0x4bcc92(0x7c4));let _0x316c4b={'number':_0x231564,'options':{'delay':_0x35c063[_0x4bcc92(0x354)][_0x4bcc92(0x377)]},'contactMessage':[{'fullName':_0x35c063['uazapi'][_0x4bcc92(0x248)],'phoneNumber':_0x35c063[_0x4bcc92(0x354)]['phoneNumber']}]};try{let _0x1fe659=await this[_0x4bcc92(0x316)](_0x316c4b);if(_0x1fe659){let _0x19dfa6={'_id':_0x1fe659['key']['id'],'_fromMe':_0x1fe659['key'][_0x4bcc92(0x235)],'_remoteJid':_0x1fe659['key']['remoteJid']},_0x52e2a9=(0x0,m[_0x4bcc92(0x273)])(_0x1fe659[_0x4bcc92(0x6c9)]),_0x5aa562=(0x0,m[_0x4bcc92(0x383)])(_0x52e2a9);_0x4aec0d['chatLog'][_0x4bcc92(0x6c1)]=_0x35c063[_0x4bcc92(0x4d1)][_0x4bcc92(0x2c2)]();let {message_normalized:_0x35f98e}=this[_0x4bcc92(0x261)](_0x52e2a9,_0x5aa562,null);_0x4aec0d['chatLog'][_0x4bcc92(0x2b2)]=await _0x35f98e;let _0x3fdca7={'messageId':_0x1fe659[_0x4bcc92(0x283)]['id']},_0x5d9559=_0x4aec0d[_0x4bcc92(0x28b)][_0x4bcc92(0x5bc)];Object[_0x4bcc92(0x5c3)](_0x5d9559,_0x19dfa6),_0x4aec0d['chatLog'][_0x4bcc92(0x5bc)]=_0x5d9559,this[_0x4bcc92(0x4f7)](_0x4aec0d,_0x35c063,_0x3fdca7);}else{let _0x314ed6={'error':!0x0};this[_0x4bcc92(0x4f7)](_0x4aec0d,_0x35c063,_0x314ed6),this[_0x4bcc92(0x732)]['error'](this[_0x4bcc92(0x1e0)]+'\x20('+this[_0x4bcc92(0x3f9)][_0x4bcc92(0x56a)]+_0x4bcc92(0x687));}}catch(_0x2d638c){let _0x223eff={'error':!0x0,'errorLog':_0x2d638c[_0x4bcc92(0x2c2)]()};this['updateConversation'](_0x4aec0d,_0x35c063,_0x223eff),this['logger'][_0x4bcc92(0x2cb)](this[_0x4bcc92(0x1e0)]+'\x20('+this[_0x4bcc92(0x3f9)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x2d638c instanceof Error?_0x2d638c[_0x4bcc92(0x6c9)]:JSON['stringify'](_0x2d638c,null,0x2)));}}[a0_0x4fecf3(0x70b)](_0x3fbaff,_0x526ed0){const _0x4d4411=a0_0x4fecf3;for(let _0x412076 of _0x3fbaff)_0x412076[_0x4d4411(0x368)]&&(_0x412076[_0x4d4411(0x368)]=this[_0x4d4411(0x394)](_0x412076[_0x4d4411(0x368)],_0x526ed0)),_0x412076['optionDescription']&&(_0x412076['optionDescription']=this[_0x4d4411(0x394)](_0x412076['optionDescription'],_0x526ed0));}async[a0_0x4fecf3(0x1f0)](_0x47a033,_0x595c54){const _0x2fec7c=a0_0x4fecf3;let _0x44d1f2=_0x47a033[_0x2fec7c(0x48b)];_0x595c54[_0x2fec7c(0x354)]['remoteJid']&&_0x595c54[_0x2fec7c(0x354)][_0x2fec7c(0x48b)][_0x2fec7c(0x80b)]()!==''&&(_0x44d1f2=_0x595c54[_0x2fec7c(0x354)]['remoteJid'][_0x2fec7c(0x80b)]()),this[_0x2fec7c(0x732)][_0x2fec7c(0x769)](this[_0x2fec7c(0x1e0)]+'\x20('+this[_0x2fec7c(0x3f9)][_0x2fec7c(0x56a)]+_0x2fec7c(0x184));let _0xe89d13=_0x47a033[_0x2fec7c(0x5d7)][_0x2fec7c(0x6b9)](_0x3bc58d=>_0x3bc58d[_0x2fec7c(0x1f4)]===_0x595c54[_0x2fec7c(0x4d1)])[_0x2fec7c(0x374)]((_0x138eb4,_0x2b81ad)=>_0x138eb4[_0x2fec7c(0x5ea)]-_0x2b81ad[_0x2fec7c(0x5ea)]);this['replaceVariablesInReplyOptions'](_0xe89d13,_0x47a033['chatLog'][_0x2fec7c(0x5bc)]);let _0xee1545=_0xe89d13[_0x2fec7c(0x428)](_0x2ba352=>_0x2ba352[_0x2fec7c(0x368)]),_0x3b7fc6={'number':_0x44d1f2,'menuMessage':{'type':_0x595c54['uazapi']['menuType']||_0x2fec7c(0x407),'text':_0x595c54['uazapi'][_0x2fec7c(0x384)]||_0x595c54['uazapi'][_0x2fec7c(0x804)],'footerText':_0x595c54[_0x2fec7c(0x354)][_0x2fec7c(0x6d8)],'buttonText':_0x595c54[_0x2fec7c(0x354)][_0x2fec7c(0x3a9)],'selectableCount':0x1,'choices':_0xee1545},'options':{'delay':_0x595c54['uazapi']['delay']}};try{let _0x1bd434=await this[_0x2fec7c(0x4e0)](_0x3b7fc6);if(_0x1bd434){let _0xf94a70={'_id':_0x1bd434['key']['id'],'_fromMe':_0x1bd434['key'][_0x2fec7c(0x235)],'_remoteJid':_0x1bd434[_0x2fec7c(0x283)][_0x2fec7c(0x48b)]};_0x595c54['uazapi'][_0x2fec7c(0x2cd)]===!0x0&&(_0x47a033[_0x2fec7c(0x395)]=_0x2fec7c(0x57a),this[_0x2fec7c(0x732)][_0x2fec7c(0x769)](this[_0x2fec7c(0x1e0)]+'\x20('+this['instance']['wuid']+_0x2fec7c(0x691)+_0x47a033[_0x2fec7c(0x395)])),this[_0x2fec7c(0x732)][_0x2fec7c(0x769)](this[_0x2fec7c(0x1e0)]+'\x20('+this['instance'][_0x2fec7c(0x56a)]+_0x2fec7c(0x4ed)+(_0x595c54[_0x2fec7c(0x354)]['name']||_0x595c54[_0x2fec7c(0x354)]['text'])),_0x47a033[_0x2fec7c(0x6db)]=_0x1bd434[_0x2fec7c(0x283)]['id'],_0x47a033[_0x2fec7c(0x26c)]=_0x595c54[_0x2fec7c(0x354)][_0x2fec7c(0x804)]||_0x595c54[_0x2fec7c(0x354)]['text'],_0x47a033[_0x2fec7c(0x2f1)]=_0xe89d13,_0x595c54[_0x2fec7c(0x354)][_0x2fec7c(0x36d)]&&(_0x47a033[_0x2fec7c(0x422)]=_0x595c54['uazapi'][_0x2fec7c(0x36d)]),this[_0x2fec7c(0x732)][_0x2fec7c(0x769)](this[_0x2fec7c(0x1e0)]+'\x20('+this['instance'][_0x2fec7c(0x56a)]+_0x2fec7c(0x19e)+_0x47a033[_0x2fec7c(0x26c)]);let _0x2073af=(0x0,m[_0x2fec7c(0x273)])(_0x1bd434[_0x2fec7c(0x6c9)]),_0x15e663=(0x0,m[_0x2fec7c(0x383)])(_0x2073af);_0x47a033[_0x2fec7c(0x28b)][_0x2fec7c(0x6c1)]=_0x595c54[_0x2fec7c(0x4d1)][_0x2fec7c(0x2c2)]();let {message_normalized:_0x4ea91b}=this[_0x2fec7c(0x261)](_0x2073af,_0x15e663,null);_0x47a033[_0x2fec7c(0x28b)][_0x2fec7c(0x2b2)]=await _0x4ea91b;let _0x1947b0={'messageId':_0x1bd434[_0x2fec7c(0x283)]['id']},_0x2a3fa9=_0x47a033[_0x2fec7c(0x28b)][_0x2fec7c(0x5bc)];Object[_0x2fec7c(0x5c3)](_0x2a3fa9,_0xf94a70),_0x47a033['chatLog']['realVariables']=_0x2a3fa9,this['updateConversation'](_0x47a033,_0x595c54,_0x1947b0);}else{let _0x2163bc={'error':!0x0};this[_0x2fec7c(0x4f7)](_0x47a033,_0x595c54,_0x2163bc),this[_0x2fec7c(0x732)][_0x2fec7c(0x2cb)](this[_0x2fec7c(0x1e0)]+'\x20('+this[_0x2fec7c(0x3f9)]['wuid']+_0x2fec7c(0x2b0));}}catch(_0x3776ca){let _0x2848e8={'error':!0x0,'errorLog':_0x3776ca instanceof Error?_0x3776ca[_0x2fec7c(0x6c9)]:JSON['stringify'](_0x3776ca,null,0x2)};this[_0x2fec7c(0x4f7)](_0x47a033,_0x595c54,_0x2848e8),this[_0x2fec7c(0x732)][_0x2fec7c(0x2cb)](this[_0x2fec7c(0x1e0)]+'\x20('+this[_0x2fec7c(0x3f9)][_0x2fec7c(0x56a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x3776ca instanceof Error?_0x3776ca['message']:JSON[_0x2fec7c(0x155)](_0x3776ca,null,0x2)));}}async['uazapiDeleteMessage'](_0x152583,_0x924aa6){const _0x1e0a27=a0_0x4fecf3;this['logger'][_0x1e0a27(0x769)](this[_0x1e0a27(0x1e0)]+'\x20('+this[_0x1e0a27(0x3f9)][_0x1e0a27(0x56a)]+_0x1e0a27(0x693));let _0x4c0a1e=_0x152583[_0x1e0a27(0x28b)][_0x1e0a27(0x4d3)]['find'](_0x3d2f1a=>_0x3d2f1a['blockId'][_0x1e0a27(0x2c2)]()===_0x924aa6[_0x1e0a27(0x354)][_0x1e0a27(0x1f4)]['toString']()),_0x2d1bf6={'id':_0x4c0a1e['messageId'],'remoteJid':_0x4c0a1e['remoteJid'],'fromMe':_0x4c0a1e[_0x1e0a27(0x235)]};try{let _0x4c0096=await this['deleteMessage'](_0x2d1bf6);if(_0x4c0096){let _0x990e3a=(0x0,m[_0x1e0a27(0x273)])(_0x4c0096[_0x1e0a27(0x6c9)]),_0x7366ca=(0x0,m['getContentType'])(_0x990e3a);_0x152583[_0x1e0a27(0x28b)][_0x1e0a27(0x6c1)]=_0x924aa6[_0x1e0a27(0x4d1)]['toString']();let {message_normalized:_0x59908b}=this[_0x1e0a27(0x261)](_0x990e3a,_0x7366ca,null);_0x152583['chatLog'][_0x1e0a27(0x2b2)]=await _0x59908b;let _0x3293df={};this[_0x1e0a27(0x4f7)](_0x152583,_0x924aa6,_0x3293df);}else{let _0x23a98c={'error':!0x0};this[_0x1e0a27(0x4f7)](_0x152583,_0x924aa6,_0x23a98c),this[_0x1e0a27(0x732)][_0x1e0a27(0x2cb)](this[_0x1e0a27(0x1e0)]+'\x20('+this[_0x1e0a27(0x3f9)]['wuid']+_0x1e0a27(0x212));}}catch(_0x4cfb2a){let _0x1bb5df={'error':!0x0,'errorLog':_0x4cfb2a instanceof Error?_0x4cfb2a['message']:JSON[_0x1e0a27(0x155)](_0x4cfb2a,null,0x2)};this[_0x1e0a27(0x4f7)](_0x152583,_0x924aa6,_0x1bb5df),this[_0x1e0a27(0x732)][_0x1e0a27(0x2cb)](this['instanceName']+'\x20('+this[_0x1e0a27(0x3f9)][_0x1e0a27(0x56a)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x4cfb2a instanceof Error?_0x4cfb2a['message']:JSON[_0x1e0a27(0x155)](_0x4cfb2a,null,0x2)));}}async['createFlow'](_0x563181){const _0xe20c55=a0_0x4fecf3;if(!_0x563181[_0xe20c55(0x804)])throw new w(_0xe20c55(0x401));if(await this['repository'][_0xe20c55(0x22c)][_0xe20c55(0x338)]({'where':{'name':_0x563181[_0xe20c55(0x804)]}},this[_0xe20c55(0x3f9)][_0xe20c55(0x56a)]))throw new w(_0xe20c55(0x33f));return'name'in _0x563181&&_0xe20c55(0x68d)in _0x563181&&_0xe20c55(0x480)in _0x563181&&Object[_0xe20c55(0x3bf)](_0x563181)[_0xe20c55(0x7da)]===0x3?this[_0xe20c55(0x532)](_0x563181[_0xe20c55(0x480)],_0x563181[_0xe20c55(0x68d)],_0x563181[_0xe20c55(0x804)]):this[_0xe20c55(0x336)](_0x563181);}async['createSharedFlow'](_0xb549f6,_0x5be454,_0x4cc4ca){const _0xa2d8a2=a0_0x4fecf3;try{this[_0xa2d8a2(0x732)][_0xa2d8a2(0x769)](this[_0xa2d8a2(0x1e0)]+'\x20('+this[_0xa2d8a2(0x3f9)]['wuid']+_0xa2d8a2(0x1d6));let _0x468db3=await this['repository'][_0xa2d8a2(0x22c)]['findOne']({'where':{'name':_0x4cc4ca,'sharePass':_0x5be454}},_0xb549f6);if(!_0x468db3)throw new w('Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.');let _0x47031b={..._0x468db3};return _0x47031b[_0xa2d8a2(0x480)]=this['instance'][_0xa2d8a2(0x56a)],_0x47031b[_0xa2d8a2(0x458)]=Array[_0xa2d8a2(0x7f5)](new Set([..._0x468db3['shareOwners']||[],_0x468db3[_0xa2d8a2(0x480)],this[_0xa2d8a2(0x3f9)][_0xa2d8a2(0x56a)]])),_0x468db3[_0xa2d8a2(0x458)]=_0x47031b[_0xa2d8a2(0x458)],await this['repository'][_0xa2d8a2(0x22c)]['updateOne'](_0x468db3['_id'],{'shareOwners':_0x468db3[_0xa2d8a2(0x458)]},_0x468db3[_0xa2d8a2(0x480)]),_0x468db3[_0xa2d8a2(0x3cc)]===!0x0&&await this['repository']['flow'][_0xa2d8a2(0x152)]({},{'default':!0x1},this['instance'][_0xa2d8a2(0x56a)]),await this[_0xa2d8a2(0x35c)]['flow'][_0xa2d8a2(0x5ad)](_0x47031b,this[_0xa2d8a2(0x3f9)]['wuid']);}catch(_0x32ee5a){throw this[_0xa2d8a2(0x732)][_0xa2d8a2(0x2cb)](this[_0xa2d8a2(0x1e0)]+'\x20('+this[_0xa2d8a2(0x3f9)][_0xa2d8a2(0x56a)]+_0xa2d8a2(0x496)+_0x32ee5a),new w(_0xa2d8a2(0x4d7)+_0x32ee5a);}}async[a0_0x4fecf3(0x336)](_0x1348ea){const _0x52d351=a0_0x4fecf3;try{this[_0x52d351(0x732)]['verbose'](this[_0x52d351(0x1e0)]+'\x20('+this[_0x52d351(0x3f9)][_0x52d351(0x56a)]+_0x52d351(0x593)),delete _0x1348ea[_0x52d351(0x458)],delete _0x1348ea['sharePass'],delete _0x1348ea[_0x52d351(0x480)],_0x1348ea[_0x52d351(0x3cc)]===!0x0&&await this[_0x52d351(0x35c)]['flow'][_0x52d351(0x152)]({},{'default':!0x1},this[_0x52d351(0x3f9)]['wuid']);let _0x7daf0d=new le[(_0x52d351(0x49c))][(_0x52d351(0x29f))](),_0x360b66={'_id':_0x7daf0d,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x3c6b0d={'_id':new le['Types']['ObjectId'](),'order':0x1,'groupId':_0x7daf0d[_0x52d351(0x2c2)](),'type':_0x52d351(0x592)},_0x343b23={'_id':new le[(_0x52d351(0x49c))][(_0x52d351(0x29f))](),'owner':this[_0x52d351(0x3f9)][_0x52d351(0x56a)],'name':_0x1348ea[_0x52d351(0x804)],'groups':[_0x360b66],'blocks':[_0x3c6b0d],..._0x1348ea};return await this[_0x52d351(0x35c)][_0x52d351(0x22c)][_0x52d351(0x5ad)](_0x343b23,this[_0x52d351(0x3f9)][_0x52d351(0x56a)]);}catch(_0x2f0b74){throw this[_0x52d351(0x732)][_0x52d351(0x2cb)](this[_0x52d351(0x1e0)]+'\x20('+this[_0x52d351(0x3f9)]['wuid']+'):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20'+_0x2f0b74),new w(_0x52d351(0x493)+_0x2f0b74);}}async[a0_0x4fecf3(0x262)](_0x339326,_0x332c48){const _0x59f384=a0_0x4fecf3;try{let _0x42e8d5=await this['repository'][_0x59f384(0x22c)][_0x59f384(0x338)]({'where':{'_id':_0x339326}},_0x332c48);if(_0x42e8d5&&_0x42e8d5[_0x59f384(0x458)]){for(let _0x48f6e2 of _0x42e8d5[_0x59f384(0x458)])if(_0x48f6e2!==_0x332c48){let _0x408e45={..._0x42e8d5,'owner':_0x48f6e2};await this[_0x59f384(0x35c)][_0x59f384(0x22c)]['replaceOne'](_0x339326,_0x408e45,_0x48f6e2);}}}catch(_0x5acb52){this[_0x59f384(0x732)][_0x59f384(0x2cb)](_0x59f384(0x208)+_0x5acb52);}}async['deleteFlow'](_0x2023bd){const _0x1853de=a0_0x4fecf3;try{this[_0x1853de(0x732)][_0x1853de(0x769)](this[_0x1853de(0x1e0)]+'\x20('+this[_0x1853de(0x3f9)][_0x1853de(0x56a)]+_0x1853de(0x526));let _0x214616=await this['repository'][_0x1853de(0x22c)][_0x1853de(0x338)]({'where':{'name':_0x2023bd}},this[_0x1853de(0x3f9)][_0x1853de(0x56a)]);if(_0x214616&&_0x214616['shareOwners']&&_0x214616[_0x1853de(0x458)][_0x1853de(0x7da)]>0x1){for(let _0x4fca4a of _0x214616[_0x1853de(0x458)])if(_0x4fca4a!==this['instance'][_0x1853de(0x56a)]){let _0x444b1d=await this[_0x1853de(0x35c)][_0x1853de(0x22c)][_0x1853de(0x338)]({'where':{'sharePass':_0x214616[_0x1853de(0x68d)]}},_0x4fca4a);_0x444b1d&&(_0x444b1d[_0x1853de(0x458)]=_0x444b1d['shareOwners'][_0x1853de(0x6b9)](_0x359588=>_0x359588!==_0x214616['owner']),await this['repository']['flow'][_0x1853de(0x530)](_0x444b1d[_0x1853de(0x4d1)],{'shareOwners':_0x444b1d[_0x1853de(0x458)]},_0x4fca4a));}}return await this[_0x1853de(0x35c)]['flow'][_0x1853de(0x6d3)]({'where':{'name':_0x2023bd}},this[_0x1853de(0x3f9)][_0x1853de(0x56a)]);}catch(_0x53210d){return this['logger'][_0x1853de(0x2cb)](this[_0x1853de(0x1e0)]+'\x20('+this[_0x1853de(0x3f9)]['wuid']+_0x1853de(0x5ac)+(_0x53210d instanceof Error?_0x53210d[_0x1853de(0x6c9)]:JSON['stringify'](_0x53210d,null,0x2))),{'message':_0x1853de(0x47e)+_0x53210d};}}async[a0_0x4fecf3(0x37c)](_0x3d14ba){const _0x527a64=a0_0x4fecf3;try{this[_0x527a64(0x732)][_0x527a64(0x769)](this[_0x527a64(0x1e0)]+'\x20('+this[_0x527a64(0x3f9)][_0x527a64(0x56a)]+_0x527a64(0x4bb));let _0x44d2c0=await this[_0x527a64(0x35c)][_0x527a64(0x22c)]['findOne']({'where':{'name':_0x3d14ba}},this[_0x527a64(0x3f9)][_0x527a64(0x56a)]);if(!_0x44d2c0)throw new Error(_0x527a64(0x570));if(!this[_0x527a64(0x6cf)]&&(await this['getAutomateSystem'](),!this[_0x527a64(0x6cf)]))return null;let _0x30d210=this[_0x527a64(0x6cf)]?.[_0x527a64(0x5b3)][_0x527a64(0x428)](_0x6dc2be=>_0x6dc2be['name']),_0x218147=['nome',_0x527a64(0x72a),'email',_0x527a64(0x355),'status','notas',_0x527a64(0x4e3),'tags',_0x527a64(0x471)];_0x44d2c0[_0x527a64(0x163)]=_0x44d2c0['variables'][_0x527a64(0x6b9)](_0x53722c=>!(_0x53722c[_0x527a64(0x6d6)]===_0x527a64(0x7c8)||_0x53722c[_0x527a64(0x7c8)])),_0x218147['forEach'](_0x1b4741=>{const _0x327c24=_0x527a64;_0x44d2c0[_0x327c24(0x163)][_0x327c24(0x4b4)]({'folder':_0x327c24(0x7c8),'name':_0x1b4741,'value':'','doc':'','leadInfo':!0x0});}),_0x30d210[_0x527a64(0x697)](_0x53b721=>{const _0x2d9efb=_0x527a64;let _0x5e8bde=_0x44d2c0[_0x2d9efb(0x163)][_0x2d9efb(0x4b1)](_0x45319d=>_0x45319d[_0x2d9efb(0x804)]===_0x53b721);_0x5e8bde===-0x1?_0x44d2c0[_0x2d9efb(0x163)][_0x2d9efb(0x4b4)]({'folder':_0x2d9efb(0x7c8),'name':_0x53b721,'value':'','doc':'','leadInfo':!0x0}):(_0x44d2c0[_0x2d9efb(0x163)][_0x5e8bde]['folder']='leadInfo',_0x44d2c0[_0x2d9efb(0x163)][_0x5e8bde]['leadInfo']=!0x0);}),_0x44d2c0[_0x527a64(0x6ab)]&&_0x44d2c0[_0x527a64(0x6ab)][_0x527a64(0x7da)]>0x0&&_0x44d2c0['blocks'][_0x527a64(0x697)](_0x1f9971=>{const _0x4a0dfe=_0x527a64;_0x1f9971[_0x4a0dfe(0x2a3)]&&_0x1f9971[_0x4a0dfe(0x6b2)]&&_0x1f9971[_0x4a0dfe(0x2a3)]===_0x1f9971['next_groupId']&&(_0x1f9971[_0x4a0dfe(0x6b2)]=null);});let _0xe56054=await this[_0x527a64(0x35c)]['flow'][_0x527a64(0x530)](_0x44d2c0['_id'],_0x44d2c0,this['instance'][_0x527a64(0x56a)]);if(!_0xe56054)throw new Error(_0x527a64(0x6a3));return _0xe56054;}catch(_0x2f304f){throw this[_0x527a64(0x732)][_0x527a64(0x2cb)](this[_0x527a64(0x1e0)]+'\x20('+this[_0x527a64(0x3f9)][_0x527a64(0x56a)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x2f304f instanceof Error?_0x2f304f[_0x527a64(0x6c9)]:JSON[_0x527a64(0x155)](_0x2f304f,null,0x2))),new w(_0x527a64(0x78d)+_0x2f304f);}}async[a0_0x4fecf3(0x6e4)](){const _0x7361d4=a0_0x4fecf3;try{return this[_0x7361d4(0x732)][_0x7361d4(0x769)](this[_0x7361d4(0x1e0)]+'\x20('+this[_0x7361d4(0x3f9)][_0x7361d4(0x56a)]+_0x7361d4(0x4a9)),await this[_0x7361d4(0x35c)]['flow']['updateMissingShareOwners'](this[_0x7361d4(0x3f9)][_0x7361d4(0x56a)]),await this[_0x7361d4(0x35c)][_0x7361d4(0x22c)]['findAll']({'where':{}},this[_0x7361d4(0x3f9)]['wuid']);}catch(_0x35ea72){return this[_0x7361d4(0x732)][_0x7361d4(0x2cb)](this['instanceName']+'\x20('+this[_0x7361d4(0x3f9)][_0x7361d4(0x56a)]+_0x7361d4(0x5be)+(_0x35ea72 instanceof Error?_0x35ea72['message']:JSON[_0x7361d4(0x155)](_0x35ea72,null,0x2))),{'message':_0x7361d4(0x7e1)+_0x35ea72};}}async['editFlow'](_0x5b3765){const _0x55d9c6=a0_0x4fecf3;try{this[_0x55d9c6(0x732)][_0x55d9c6(0x769)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x55d9c6(0x6ac));let _0x153d3e=await this[_0x55d9c6(0x35c)][_0x55d9c6(0x22c)][_0x55d9c6(0x338)]({'where':{'name':_0x5b3765['name']}},this[_0x55d9c6(0x3f9)]['wuid']);if(!_0x153d3e)return{'message':_0x55d9c6(0x7ff)};_0x5b3765[_0x55d9c6(0x3cc)]===!0x0&&await this[_0x55d9c6(0x35c)]['flow'][_0x55d9c6(0x152)]({},{'default':!0x1},this[_0x55d9c6(0x3f9)][_0x55d9c6(0x56a)]),delete _0x5b3765[_0x55d9c6(0x458)],delete _0x5b3765['sharePass'];let _0x1da190=await this[_0x55d9c6(0x35c)][_0x55d9c6(0x22c)]['updateOne'](_0x153d3e[_0x55d9c6(0x4d1)],_0x5b3765,this[_0x55d9c6(0x3f9)][_0x55d9c6(0x56a)]);return _0x1da190&&_0x1da190['shareOwners']&&_0x1da190[_0x55d9c6(0x458)][_0x55d9c6(0x7da)]>0x1&&this[_0x55d9c6(0x262)](_0x1da190[_0x55d9c6(0x4d1)],this[_0x55d9c6(0x3f9)][_0x55d9c6(0x56a)]),_0x1da190;}catch(_0x195886){throw this[_0x55d9c6(0x732)]['error'](this['instanceName']+'\x20('+this[_0x55d9c6(0x3f9)][_0x55d9c6(0x56a)]+_0x55d9c6(0x4ec)+(_0x195886 instanceof Error?_0x195886[_0x55d9c6(0x6c9)]:JSON[_0x55d9c6(0x155)](_0x195886,null,0x2))),new w('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x195886 instanceof Error?_0x195886[_0x55d9c6(0x6c9)]:JSON[_0x55d9c6(0x155)](_0x195886,null,0x2)));}}async[a0_0x4fecf3(0x39e)](_0x58ffca){const _0x4fbc49=a0_0x4fecf3;try{this[_0x4fbc49(0x732)][_0x4fbc49(0x769)](this[_0x4fbc49(0x1e0)]+'\x20('+this[_0x4fbc49(0x3f9)][_0x4fbc49(0x56a)]+_0x4fbc49(0x342));let _0x5c078b=await this['repository'][_0x4fbc49(0x22c)]['findOne']({'where':{'name':_0x58ffca[_0x4fbc49(0x804)]}},this[_0x4fbc49(0x3f9)][_0x4fbc49(0x56a)]);_0x5c078b||this['throwAndLogError']('Flow\x20não\x20encontrado');let {block:_0x3da46c}=_0x58ffca;_0x3da46c?.[_0x4fbc49(0x257)]?this[_0x4fbc49(0x2a2)](_0x5c078b,_0x58ffca):_0x3da46c?.[_0x4fbc49(0x1c0)]?this[_0x4fbc49(0x1fe)](_0x5c078b,_0x58ffca):_0x3da46c[_0x4fbc49(0x4d1)]?await this[_0x4fbc49(0x352)](_0x5c078b,_0x58ffca):this['addBlock'](_0x5c078b,_0x58ffca);let _0x3c2046=await this[_0x4fbc49(0x35c)][_0x4fbc49(0x22c)][_0x4fbc49(0x530)](_0x5c078b[_0x4fbc49(0x4d1)],_0x5c078b,this[_0x4fbc49(0x3f9)]['wuid']);if(_0x3c2046&&_0x3c2046[_0x4fbc49(0x458)]&&_0x3c2046[_0x4fbc49(0x458)][_0x4fbc49(0x7da)]>0x1&&this[_0x4fbc49(0x262)](_0x3c2046[_0x4fbc49(0x4d1)],this['instance'][_0x4fbc49(0x56a)]),!_0x3c2046)throw new Error(_0x4fbc49(0x6a3));return _0x3c2046;}catch(_0x28d1ab){this['throwAndLogError'](_0x4fbc49(0x399)+_0x28d1ab);}}async[a0_0x4fecf3(0x2a2)](_0x8306ec,_0x3f3c71){const _0x564f17=a0_0x4fecf3;let _0x3e52e1=_0x3f3c71[_0x564f17(0x4a2)]['_id'],_0x538357=_0x8306ec[_0x564f17(0x6ab)][_0x564f17(0x201)](_0x54362f=>_0x54362f[_0x564f17(0x4d1)][_0x564f17(0x2c2)]()===_0x3e52e1);if(!_0x538357){this['logger'][_0x564f17(0x2cb)](this[_0x564f17(0x1e0)]+'\x20('+this[_0x564f17(0x3f9)][_0x564f17(0x56a)]+_0x564f17(0x676)+_0x3e52e1+_0x564f17(0x7d6));return;}this[_0x564f17(0x732)][_0x564f17(0x769)](this['instanceName']+'\x20('+this['instance'][_0x564f17(0x56a)]+_0x564f17(0x190)+JSON[_0x564f17(0x155)](_0x538357));let _0x16056d=JSON[_0x564f17(0x164)](JSON[_0x564f17(0x155)](_0x538357));_0x16056d[_0x564f17(0x4d1)]=new le['default']['Types'][(_0x564f17(0x29f))](),this[_0x564f17(0x732)][_0x564f17(0x769)](this[_0x564f17(0x1e0)]+'\x20('+this[_0x564f17(0x3f9)][_0x564f17(0x56a)]+_0x564f17(0x19d)+JSON[_0x564f17(0x155)](_0x16056d)),_0x8306ec[_0x564f17(0x6ab)][_0x564f17(0x4b4)](_0x16056d),this['reorderBlocks'](_0x8306ec[_0x564f17(0x6ab)],_0x16056d['groupId']);}[a0_0x4fecf3(0x16d)](_0x1ca198){const _0x5254fd=a0_0x4fecf3;throw this[_0x5254fd(0x732)][_0x5254fd(0x2cb)](this[_0x5254fd(0x1e0)]+'\x20('+this[_0x5254fd(0x3f9)][_0x5254fd(0x56a)]+_0x5254fd(0x6cc)+_0x1ca198),new w(_0x1ca198);}[a0_0x4fecf3(0x1fe)](_0x496068,_0x339db1){const _0x332909=a0_0x4fecf3;let {block:_0x2ad5cc}=_0x339db1;if(_0x2ad5cc[_0x332909(0x1bf)]===_0x332909(0x592)){this['throwAndLogError'](_0x332909(0x3e9));return;}if(!_0x2ad5cc[_0x332909(0x4d1)]){this[_0x332909(0x16d)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x50d6ce=_0x496068[_0x332909(0x6ab)][_0x332909(0x201)](_0x3d8da7=>_0x3d8da7['_id']['toString']()===_0x339db1[_0x332909(0x4a2)][_0x332909(0x4d1)][_0x332909(0x2c2)]());if(!_0x50d6ce){this['throwAndLogError'](_0x332909(0x4b5)+_0x2ad5cc[_0x332909(0x4d1)]+'\x20não\x20encontrado');return;}_0x496068[_0x332909(0x6ab)]=_0x496068[_0x332909(0x6ab)][_0x332909(0x6b9)](_0x44829a=>_0x44829a[_0x332909(0x4d1)][_0x332909(0x2c2)]()!==_0x339db1[_0x332909(0x4a2)][_0x332909(0x4d1)]['toString']()),_0x496068['conditions']=_0x496068[_0x332909(0x643)][_0x332909(0x6b9)](_0x287cc6=>_0x287cc6[_0x332909(0x1f4)]!==_0x2ad5cc[_0x332909(0x4d1)]['toString']()),_0x496068['varedits']=_0x496068[_0x332909(0x6fd)][_0x332909(0x6b9)](_0x139304=>_0x139304['blockId']!==_0x2ad5cc['_id'][_0x332909(0x2c2)]()),_0x496068['replyOptions']=_0x496068[_0x332909(0x5d7)]['filter'](_0xe60088=>_0xe60088[_0x332909(0x1f4)]!==_0x2ad5cc[_0x332909(0x4d1)][_0x332909(0x2c2)]()),this[_0x332909(0x66c)](_0x496068[_0x332909(0x6ab)],_0x50d6ce[_0x332909(0x2a3)]);}async[a0_0x4fecf3(0x352)](_0x2a787b,_0xe9641e){const _0x36a86f=a0_0x4fecf3;let _0x22f057=_0x2a787b['blocks'][_0x36a86f(0x4b1)](_0x1271bb=>_0x1271bb['_id'][_0x36a86f(0x2c2)]()===_0xe9641e[_0x36a86f(0x4a2)][_0x36a86f(0x4d1)][_0x36a86f(0x2c2)]());if(this['logger']['verbose'](this[_0x36a86f(0x1e0)]+'\x20('+this['instance'][_0x36a86f(0x56a)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x22f057),_0x22f057===-0x1){this[_0x36a86f(0x732)][_0x36a86f(0x769)](_0x36a86f(0x4b5)+_0xe9641e[_0x36a86f(0x4a2)]['_id']+_0x36a86f(0x667));return;}if(_0x2a787b['blocks'][_0x22f057][_0x36a86f(0x1bf)]===_0x36a86f(0x592)){let _0x2b75c1=Object[_0x36a86f(0x3bf)](_0xe9641e['block']);if(_0x2b75c1[_0x36a86f(0x7da)]>0x2||_0x2b75c1[_0x36a86f(0x7da)]===0x2&&!_0x2b75c1[_0x36a86f(0x207)](_0x36a86f(0x6b2))){this[_0x36a86f(0x16d)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x33cda1=_0x2a787b[_0x36a86f(0x6ab)][_0x22f057][_0x36a86f(0x2a3)];for(let _0x5198c9 in _0xe9641e[_0x36a86f(0x4a2)])_0xe9641e[_0x36a86f(0x4a2)][_0x36a86f(0x3cb)](_0x5198c9)&&(_0x2a787b[_0x36a86f(0x6ab)][_0x22f057][_0x5198c9]=_0xe9641e[_0x36a86f(0x4a2)][_0x5198c9]);if(this['logger'][_0x36a86f(0x769)](this[_0x36a86f(0x1e0)]+'\x20('+this[_0x36a86f(0x3f9)]['wuid']+_0x36a86f(0x491)+JSON[_0x36a86f(0x155)](_0x2a787b[_0x36a86f(0x6ab)][_0x22f057])),_0x2a787b[_0x36a86f(0x6ab)][_0x22f057]['apirequest']&&_0x36a86f(0x813)in _0x2a787b[_0x36a86f(0x6ab)][_0x22f057]['apirequest']){this['logger'][_0x36a86f(0x769)](this['instanceName']+'\x20('+this[_0x36a86f(0x3f9)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x3f6f4a=JSON['stringify'](_0x2a787b[_0x36a86f(0x6ab)][_0x22f057][_0x36a86f(0x390)][_0x36a86f(0x813)],null,0x1);_0x3f6f4a[_0x36a86f(0x7da)]>0x2&&(_0x3f6f4a=_0x3f6f4a[_0x36a86f(0x376)](0x1,_0x3f6f4a[_0x36a86f(0x7da)]-0x1)[_0x36a86f(0x80b)]()),_0x2a787b[_0x36a86f(0x6ab)][_0x22f057][_0x36a86f(0x390)][_0x36a86f(0x6bb)]=_0x3f6f4a;}if(_0x2a787b['blocks'][_0x22f057][_0x36a86f(0x390)]&&_0x36a86f(0x34d)in _0x2a787b[_0x36a86f(0x6ab)][_0x22f057][_0x36a86f(0x390)]&&!(_0x36a86f(0x2b7)in _0x2a787b['blocks'][_0x22f057][_0x36a86f(0x390)])){this[_0x36a86f(0x732)][_0x36a86f(0x769)](this['instanceName']+'\x20('+this[_0x36a86f(0x3f9)][_0x36a86f(0x56a)]+_0x36a86f(0x7bd)),_0x2a787b[_0x36a86f(0x6ab)][_0x22f057][_0x36a86f(0x390)][_0x36a86f(0x25d)]=!0x1;let _0x5cdea3=JSON['stringify'](_0x2a787b['blocks'][_0x22f057][_0x36a86f(0x390)][_0x36a86f(0x34d)],null,0x2);_0x2a787b[_0x36a86f(0x6ab)][_0x22f057][_0x36a86f(0x390)][_0x36a86f(0x2b7)]=_0x5cdea3;}if(_0x2a787b['blocks'][_0x22f057][_0x36a86f(0x390)]&&_0x36a86f(0x2b7)in _0x2a787b['blocks'][_0x22f057][_0x36a86f(0x390)]){_0x2a787b[_0x36a86f(0x6ab)][_0x22f057][_0x36a86f(0x390)]['bodyStringErrorParse']=!0x1;let _0x3329ad=_0x2a787b[_0x36a86f(0x6ab)][_0x22f057][_0x36a86f(0x390)][_0x36a86f(0x2b7)],_0x1eb227=this['beautifyWithPlaceholders'](_0x3329ad);_0x2a787b[_0x36a86f(0x6ab)][_0x22f057][_0x36a86f(0x390)][_0x36a86f(0x2b7)]=_0x1eb227[_0x36a86f(0x199)],_0x2a787b['blocks'][_0x22f057]['apirequest'][_0x36a86f(0x25d)]=_0x1eb227['error'];}let _0x103999=_0x2a787b[_0x36a86f(0x6ab)][_0x22f057]['groupId'];_0x33cda1!==_0x103999?(this[_0x36a86f(0x66c)](_0x2a787b[_0x36a86f(0x6ab)],_0x33cda1),this[_0x36a86f(0x66c)](_0x2a787b['blocks'],_0x103999)):this['reorderBlocks'](_0x2a787b[_0x36a86f(0x6ab)],_0x33cda1);}[a0_0x4fecf3(0x277)](_0x1ec0b3){const _0x409664=a0_0x4fecf3;let _0x5b9763='\u205f',_0x1a2362=!0x1,_0x295935='';for(let _0x224f53=0x0;_0x224f53<_0x1ec0b3[_0x409664(0x7da)];_0x224f53++){let _0x50bbad=_0x1ec0b3[_0x224f53];_0x50bbad==='\x22'&&(_0x224f53===0x0||_0x1ec0b3[_0x224f53-0x1]!=='\x5c')&&(_0x1a2362=!_0x1a2362),!(!_0x1a2362&&(_0x50bbad==='\x0a'||_0x50bbad==='\x20'||_0x50bbad===_0x5b9763))&&(_0x295935+=_0x50bbad);}let _0x515939={},_0x306de8=9876543210.1234,_0x1f2456=_0x295935[_0x409664(0x6eb)](/\{\{([^}]+)\}\}/g,_0x4f6535=>{let _0x4f5fca=_0x4f6535,_0x1ba8c8=''+_0x306de8;return _0x515939[_0x1ba8c8]=_0x4f5fca,_0x306de8+=0.0001,_0x1ba8c8;}),_0x87303d='',_0xdf3402=!0x1;try{let _0x51d243=JSON[_0x409664(0x164)](_0x1f2456);_0x87303d=JSON['stringify'](_0x51d243,null,0x2),_0x87303d=_0x87303d[_0x409664(0x6eb)](/\n( +)/g,(_0x691bf9,_0x49d8fb)=>{const _0x1060e9=_0x409664;let _0x3a0890=_0x49d8fb[_0x1060e9(0x7da)];return'\x0a'+_0x5b9763['repeat'](_0x3a0890*0x2);}),_0x87303d=_0x87303d[_0x409664(0x6eb)](/(\d{10,}\.\d+)/g,_0x3f2b29=>_0x515939[_0x3f2b29]||_0x3f2b29);}catch(_0x4714a7){console[_0x409664(0x2cb)](_0x409664(0x482),_0x4714a7),_0x87303d=_0x1ec0b3,_0xdf3402=!0x0;}return{'result':_0x87303d,'error':_0xdf3402};}[a0_0x4fecf3(0x332)](_0x429e95,_0x22eacd){const _0x8b81c0=a0_0x4fecf3;if(_0x22eacd[_0x8b81c0(0x4a2)]['type']===_0x8b81c0(0x592)){this['throwAndLogError']('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x22eacd[_0x8b81c0(0x4a2)]['apirequest']&&_0x8b81c0(0x813)in _0x22eacd['block'][_0x8b81c0(0x390)]){this['logger'][_0x8b81c0(0x769)](this['instanceName']+'\x20('+this['instance'][_0x8b81c0(0x56a)]+_0x8b81c0(0x519));let _0x2dba70=JSON[_0x8b81c0(0x155)](_0x22eacd['block']['apirequest'][_0x8b81c0(0x813)],null,0x1);_0x2dba70[_0x8b81c0(0x7da)]>0x2&&(_0x2dba70=_0x2dba70[_0x8b81c0(0x376)](0x1,_0x2dba70[_0x8b81c0(0x7da)]-0x1)['trim']()),_0x22eacd[_0x8b81c0(0x4a2)][_0x8b81c0(0x390)][_0x8b81c0(0x6bb)]=_0x2dba70;}_0x22eacd[_0x8b81c0(0x4a2)][_0x8b81c0(0x390)]&&_0x8b81c0(0x34d)in _0x22eacd['block'][_0x8b81c0(0x390)]&&(this[_0x8b81c0(0x732)]['verbose'](this[_0x8b81c0(0x1e0)]+'\x20('+this[_0x8b81c0(0x3f9)]['wuid']+_0x8b81c0(0x7bd)),_0x22eacd[_0x8b81c0(0x4a2)]['apirequest'][_0x8b81c0(0x2b7)]=JSON[_0x8b81c0(0x155)](_0x22eacd[_0x8b81c0(0x4a2)][_0x8b81c0(0x390)][_0x8b81c0(0x34d)],null,0x1)[_0x8b81c0(0x80b)]()),_0x429e95[_0x8b81c0(0x6ab)][_0x8b81c0(0x4b4)](_0x22eacd['block']),this['reorderBlocks'](_0x429e95['blocks'],_0x22eacd[_0x8b81c0(0x4a2)]['groupId']);}[a0_0x4fecf3(0x66c)](_0x592e8a,_0x184d49){const _0x1d3dc4=a0_0x4fecf3;let _0x28baf0=_0x592e8a[_0x1d3dc4(0x6b9)](_0x326f03=>_0x326f03[_0x1d3dc4(0x2a3)]===_0x184d49);_0x28baf0['sort']((_0x20d3cb,_0x8256f9)=>_0x20d3cb[_0x1d3dc4(0x5ea)]-_0x8256f9[_0x1d3dc4(0x5ea)]),_0x28baf0[_0x1d3dc4(0x697)]((_0x1835d1,_0x9f77bc)=>_0x1835d1[_0x1d3dc4(0x5ea)]=_0x9f77bc+0x1);}async[a0_0x4fecf3(0x272)](_0x2de702){const _0x5d08f5=a0_0x4fecf3;try{if(this['logger'][_0x5d08f5(0x769)](this[_0x5d08f5(0x1e0)]+'\x20('+this[_0x5d08f5(0x3f9)][_0x5d08f5(0x56a)]+_0x5d08f5(0x32a)),!_0x2de702||!_0x2de702['replyOption']){this['throwAndLogError'](_0x5d08f5(0x6e0));return;}let _0x189bd2=await this['repository'][_0x5d08f5(0x22c)]['findOne']({'where':{'name':_0x2de702[_0x5d08f5(0x804)]}},this[_0x5d08f5(0x3f9)][_0x5d08f5(0x56a)]);_0x189bd2||this[_0x5d08f5(0x16d)](_0x5d08f5(0x570));let {replyOption:_0x188971}=_0x2de702;_0x188971?.['delete']?(this[_0x5d08f5(0x653)](_0x189bd2,_0x2de702),this[_0x5d08f5(0x725)](_0x189bd2[_0x5d08f5(0x5d7)],_0x2de702[_0x5d08f5(0x353)][_0x5d08f5(0x1f4)])):_0x188971[_0x5d08f5(0x4d1)]?(await this[_0x5d08f5(0x7ec)](_0x189bd2,_0x2de702),this['reorderReplyOptions'](_0x189bd2[_0x5d08f5(0x5d7)],_0x2de702[_0x5d08f5(0x353)][_0x5d08f5(0x1f4)])):(this[_0x5d08f5(0x6ee)](_0x189bd2,_0x2de702),this[_0x5d08f5(0x725)](_0x189bd2[_0x5d08f5(0x5d7)],_0x2de702[_0x5d08f5(0x353)][_0x5d08f5(0x1f4)]));let _0xdabbfa=await this[_0x5d08f5(0x35c)][_0x5d08f5(0x22c)][_0x5d08f5(0x530)](_0x189bd2[_0x5d08f5(0x4d1)],_0x189bd2,this[_0x5d08f5(0x3f9)][_0x5d08f5(0x56a)]);if(_0xdabbfa&&_0xdabbfa[_0x5d08f5(0x458)]&&_0xdabbfa['shareOwners'][_0x5d08f5(0x7da)]>0x1&&this['synchronizeFlows'](_0xdabbfa[_0x5d08f5(0x4d1)],this[_0x5d08f5(0x3f9)][_0x5d08f5(0x56a)]),!_0xdabbfa)throw new Error(_0x5d08f5(0x6a3));return _0xdabbfa;}catch(_0x2a5b1c){this[_0x5d08f5(0x16d)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x2a5b1c);}}[a0_0x4fecf3(0x725)](_0x47c412,_0x35e28c){const _0x357ea8=a0_0x4fecf3;console[_0x357ea8(0x635)]('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x35e28c),_0x47c412[_0x357ea8(0x697)](_0x26ebe1=>{const _0x28478e=_0x357ea8;_0x26ebe1['blockId']===_0x35e28c&&_0x26ebe1['order']===void 0x0&&(_0x26ebe1[_0x28478e(0x5ea)]=0x270f);});let _0x1cf966=_0x47c412['filter'](_0x5d90a1=>_0x5d90a1[_0x357ea8(0x1f4)]===_0x35e28c);_0x1cf966['sort']((_0x262988,_0x13bce5)=>_0x262988[_0x357ea8(0x5ea)]-_0x13bce5['order']),_0x1cf966[_0x357ea8(0x697)]((_0x471f56,_0x55f499)=>{const _0x95049d=_0x357ea8;_0x471f56[_0x95049d(0x5ea)]=_0x55f499+0x1;}),_0x47c412['forEach'](_0x317e63=>{const _0x21cf32=_0x357ea8;if(_0x317e63[_0x21cf32(0x1f4)]===_0x35e28c){let _0x5c1e07=_0x1cf966[_0x21cf32(0x201)](_0x542cc8=>_0x542cc8[_0x21cf32(0x4d1)]&&_0x317e63[_0x21cf32(0x4d1)]&&_0x542cc8[_0x21cf32(0x4d1)][_0x21cf32(0x2c2)]()===_0x317e63[_0x21cf32(0x4d1)][_0x21cf32(0x2c2)]());_0x5c1e07&&(_0x317e63[_0x21cf32(0x5ea)]=_0x5c1e07[_0x21cf32(0x5ea)]);}}),console['log']('ReplyOptions\x20finais\x20após\x20reordenação:',_0x47c412);}['deleteReplyOption'](_0x4ebd78,_0x5be30){const _0x17773c=a0_0x4fecf3;let {replyOption:_0x3df28a}=_0x5be30;if(!_0x3df28a[_0x17773c(0x4d1)]){this[_0x17773c(0x16d)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x4ebd78['replyOptions'][_0x17773c(0x201)](_0x546501=>_0x546501[_0x17773c(0x4d1)][_0x17773c(0x2c2)]()===_0x5be30['replyOption']['_id']['toString']())){this['throwAndLogError'](_0x17773c(0x351)+_0x3df28a[_0x17773c(0x4d1)]+'\x20não\x20encontrado');return;}_0x4ebd78[_0x17773c(0x5d7)]=_0x4ebd78['replyOptions']['filter'](_0x2281d1=>_0x2281d1[_0x17773c(0x4d1)][_0x17773c(0x2c2)]()!==_0x5be30['replyOption'][_0x17773c(0x4d1)][_0x17773c(0x2c2)]());}async['updateReplyOption'](_0x5d7aaf,_0x152b83){const _0x3989e5=a0_0x4fecf3;let _0x6f81b4=_0x5d7aaf[_0x3989e5(0x5d7)][_0x3989e5(0x4b1)](_0xa63adb=>_0xa63adb['_id']['toString']()===_0x152b83[_0x3989e5(0x353)]['_id'][_0x3989e5(0x2c2)]());if(_0x6f81b4===-0x1){this[_0x3989e5(0x16d)](_0x3989e5(0x351)+_0x152b83[_0x3989e5(0x353)][_0x3989e5(0x4d1)]+_0x3989e5(0x667));return;}for(let _0x447850 in _0x152b83[_0x3989e5(0x353)])_0x152b83[_0x3989e5(0x353)][_0x3989e5(0x3cb)](_0x447850)&&(_0x5d7aaf[_0x3989e5(0x5d7)][_0x6f81b4][_0x447850]=_0x152b83[_0x3989e5(0x353)][_0x447850]);}[a0_0x4fecf3(0x6ee)](_0x33de75,_0x107c21){const _0x3d7458=a0_0x4fecf3;_0x33de75[_0x3d7458(0x5d7)][_0x3d7458(0x4b4)](_0x107c21[_0x3d7458(0x353)]);}async[a0_0x4fecf3(0x1aa)](_0x35d814){const _0x5f2dae=a0_0x4fecf3;this[_0x5f2dae(0x732)][_0x5f2dae(0x769)](this[_0x5f2dae(0x1e0)]+'\x20('+this[_0x5f2dae(0x3f9)]['wuid']+_0x5f2dae(0x726)+_0x35d814);try{this[_0x5f2dae(0x732)][_0x5f2dae(0x769)](this[_0x5f2dae(0x1e0)]+'\x20('+this[_0x5f2dae(0x3f9)]['wuid']+_0x5f2dae(0x65d));let _0x1c3d01=await this['repository']['flow'][_0x5f2dae(0x338)]({'where':{'name':_0x35d814[_0x5f2dae(0x804)]}},this['instance'][_0x5f2dae(0x56a)]);if(!_0x1c3d01)throw new Error(_0x5f2dae(0x570));if(_0x35d814[_0x5f2dae(0x6c2)]&&_0x35d814[_0x5f2dae(0x6c2)]?.[_0x5f2dae(0x1c0)]===!0x0){if(this[_0x5f2dae(0x732)][_0x5f2dae(0x769)](this[_0x5f2dae(0x1e0)]+'\x20('+this[_0x5f2dae(0x3f9)][_0x5f2dae(0x56a)]+_0x5f2dae(0x240)),_0x35d814['group'][_0x5f2dae(0x3cc)]===!0x0)return{'message':_0x5f2dae(0x66a)};if(_0x1c3d01[_0x5f2dae(0x6ab)][_0x5f2dae(0x534)](_0x5a8f1f=>_0x5a8f1f['groupId'][_0x5f2dae(0x2c2)]()===_0x35d814[_0x5f2dae(0x6c2)][_0x5f2dae(0x4d1)]))return this[_0x5f2dae(0x732)][_0x5f2dae(0x769)](this['instanceName']+'\x20('+this[_0x5f2dae(0x3f9)][_0x5f2dae(0x56a)]+_0x5f2dae(0x23b)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x1c3d01[_0x5f2dae(0x77b)]=_0x1c3d01[_0x5f2dae(0x77b)][_0x5f2dae(0x6b9)](_0xde6e3a=>_0xde6e3a[_0x5f2dae(0x4d1)][_0x5f2dae(0x2c2)]()!==_0x35d814[_0x5f2dae(0x6c2)][_0x5f2dae(0x4d1)]);}else{if(_0x35d814['group']){if(_0x35d814['group'][_0x5f2dae(0x3cc)]===!0x0)return{'message':_0x5f2dae(0x649)};if(_0x35d814[_0x5f2dae(0x6c2)][_0x5f2dae(0x4d1)]){let _0x3c6f6d=_0x1c3d01['groups'][_0x5f2dae(0x201)](_0x4b0536=>_0x4b0536[_0x5f2dae(0x4d1)]['toString']()===_0x35d814['group'][_0x5f2dae(0x4d1)]);_0x3c6f6d&&(_0x35d814[_0x5f2dae(0x6c2)]['x']<0x0&&(_0x35d814[_0x5f2dae(0x6c2)]['x']=0x0),_0x35d814['group']['y']<0x0&&(_0x35d814[_0x5f2dae(0x6c2)]['y']=0x0),Object['assign'](_0x3c6f6d,_0x35d814[_0x5f2dae(0x6c2)]));}else _0x1c3d01[_0x5f2dae(0x77b)]['push'](_0x35d814[_0x5f2dae(0x6c2)]);}}let _0x20fbf2=await this[_0x5f2dae(0x35c)][_0x5f2dae(0x22c)][_0x5f2dae(0x530)](_0x1c3d01[_0x5f2dae(0x4d1)],_0x1c3d01,this[_0x5f2dae(0x3f9)][_0x5f2dae(0x56a)]);if(_0x20fbf2&&_0x20fbf2[_0x5f2dae(0x458)]&&_0x20fbf2[_0x5f2dae(0x458)][_0x5f2dae(0x7da)]>0x1&&this[_0x5f2dae(0x262)](_0x20fbf2[_0x5f2dae(0x4d1)],this['instance'][_0x5f2dae(0x56a)]),!_0x20fbf2)throw new Error(_0x5f2dae(0x6a3));return _0x20fbf2;}catch(_0x12e6bc){throw this[_0x5f2dae(0x732)][_0x5f2dae(0x2cb)](this[_0x5f2dae(0x1e0)]+'\x20('+this['instance'][_0x5f2dae(0x56a)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x12e6bc instanceof Error?_0x12e6bc[_0x5f2dae(0x6c9)]:JSON[_0x5f2dae(0x155)](_0x12e6bc,null,0x2))),new w('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x12e6bc instanceof Error?_0x12e6bc[_0x5f2dae(0x6c9)]:JSON['stringify'](_0x12e6bc,null,0x2)));}}async[a0_0x4fecf3(0x772)](_0x55643c){const _0x260675=a0_0x4fecf3;try{this['logger'][_0x260675(0x769)](this[_0x260675(0x1e0)]+'\x20('+this[_0x260675(0x3f9)][_0x260675(0x56a)]+_0x260675(0x617));let _0x2d7f73=await this[_0x260675(0x35c)]['flow'][_0x260675(0x338)]({'where':{'name':_0x55643c[_0x260675(0x804)]}},this[_0x260675(0x3f9)][_0x260675(0x56a)]);if(!_0x2d7f73)throw new Error(_0x260675(0x570));let _0x245f8c=!0x1;if(_0x55643c[_0x260675(0x154)]?.[_0x260675(0x1c0)]===!0x0)_0x2d7f73[_0x260675(0x643)]=_0x2d7f73['conditions'][_0x260675(0x6b9)](_0x3dd739=>_0x3dd739&&_0x55643c[_0x260675(0x154)]&&_0x3dd739[_0x260675(0x4d1)]&&_0x55643c[_0x260675(0x154)][_0x260675(0x4d1)]&&_0x3dd739[_0x260675(0x4d1)][_0x260675(0x2c2)]()!==_0x55643c[_0x260675(0x154)]['_id'][_0x260675(0x2c2)]()),_0x245f8c=!0x0;else{let _0x17bfb7=_0x2d7f73['conditions']['find'](_0x5c82c0=>_0x5c82c0&&_0x55643c['condition']&&_0x5c82c0[_0x260675(0x4d1)]&&_0x55643c[_0x260675(0x154)]['_id']&&_0x5c82c0[_0x260675(0x4d1)][_0x260675(0x2c2)]()===_0x55643c['condition']['_id'][_0x260675(0x2c2)]());_0x17bfb7?(_0x245f8c=_0x17bfb7[_0x260675(0x5ea)]!==_0x55643c[_0x260675(0x154)][_0x260675(0x5ea)],Object[_0x260675(0x5c3)](_0x17bfb7,_0x55643c[_0x260675(0x154)])):(_0x2d7f73['conditions'][_0x260675(0x4b4)](_0x55643c[_0x260675(0x154)]),_0x245f8c=!0x0);}if(_0x245f8c){_0x2d7f73['conditions'][_0x260675(0x374)]((_0x54d0bd,_0x4e603f)=>_0x54d0bd['order']>_0x4e603f[_0x260675(0x5ea)]?0x1:_0x4e603f[_0x260675(0x5ea)]>_0x54d0bd['order']?-0x1:0x0);for(let _0x505d42=0x0;_0x505d42<_0x2d7f73['conditions'][_0x260675(0x7da)];_0x505d42++)_0x2d7f73[_0x260675(0x643)][_0x505d42][_0x260675(0x5ea)]=_0x505d42+0x1;_0x2d7f73['conditions'][_0x260675(0x7da)]>0x0&&(_0x2d7f73[_0x260675(0x643)][0x0][_0x260675(0x202)]=_0x260675(0x54e));}let _0x247c24=await this[_0x260675(0x35c)]['flow'][_0x260675(0x530)](_0x2d7f73['_id'],_0x2d7f73,this[_0x260675(0x3f9)][_0x260675(0x56a)]);if(_0x247c24&&_0x247c24[_0x260675(0x458)]&&_0x247c24[_0x260675(0x458)][_0x260675(0x7da)]>0x1&&this[_0x260675(0x262)](_0x247c24[_0x260675(0x4d1)],this['instance']['wuid']),!_0x247c24)throw new Error(_0x260675(0x6a3));return _0x247c24;}catch(_0x18b2fa){throw this[_0x260675(0x732)][_0x260675(0x2cb)](this[_0x260675(0x1e0)]+'\x20('+this[_0x260675(0x3f9)][_0x260675(0x56a)]+_0x260675(0x44e)+(_0x18b2fa instanceof Error?_0x18b2fa[_0x260675(0x6c9)]:JSON['stringify'](_0x18b2fa,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x18b2fa instanceof Error?_0x18b2fa[_0x260675(0x6c9)]:JSON[_0x260675(0x155)](_0x18b2fa,null,0x2)));}}async[a0_0x4fecf3(0x203)](_0x3556f0){const _0x5ba0d8=a0_0x4fecf3;try{this[_0x5ba0d8(0x732)][_0x5ba0d8(0x769)](this[_0x5ba0d8(0x1e0)]+'\x20('+this[_0x5ba0d8(0x3f9)][_0x5ba0d8(0x56a)]+_0x5ba0d8(0x2f8));let _0xd5bc6d=await this[_0x5ba0d8(0x35c)][_0x5ba0d8(0x22c)]['findOne']({'where':{'name':_0x3556f0[_0x5ba0d8(0x804)]}},this[_0x5ba0d8(0x3f9)][_0x5ba0d8(0x56a)]);if(!_0xd5bc6d)throw new Error(_0x5ba0d8(0x570));let _0x378525=!0x1;if(_0x3556f0['varedit']?.[_0x5ba0d8(0x1c0)]===!0x0)_0xd5bc6d['varedits']=_0xd5bc6d[_0x5ba0d8(0x6fd)][_0x5ba0d8(0x6b9)](_0xa8f5b8=>_0xa8f5b8&&_0x3556f0[_0x5ba0d8(0x2cc)]&&_0xa8f5b8['_id']&&_0x3556f0[_0x5ba0d8(0x2cc)][_0x5ba0d8(0x4d1)]&&_0xa8f5b8[_0x5ba0d8(0x4d1)][_0x5ba0d8(0x2c2)]()!==_0x3556f0['varedit'][_0x5ba0d8(0x4d1)]['toString']()),_0x378525=!0x0;else{let _0x4e8010=_0xd5bc6d[_0x5ba0d8(0x6fd)][_0x5ba0d8(0x201)](_0x15e1ba=>_0x15e1ba&&_0x3556f0['varedit']&&_0x15e1ba[_0x5ba0d8(0x4d1)]&&_0x3556f0[_0x5ba0d8(0x2cc)][_0x5ba0d8(0x4d1)]&&_0x15e1ba[_0x5ba0d8(0x4d1)]['toString']()===_0x3556f0['varedit']['_id'][_0x5ba0d8(0x2c2)]());_0x4e8010?(_0x378525=_0x4e8010[_0x5ba0d8(0x5ea)]!==_0x3556f0['varedit'][_0x5ba0d8(0x5ea)],Object[_0x5ba0d8(0x5c3)](_0x4e8010,_0x3556f0[_0x5ba0d8(0x2cc)])):(_0xd5bc6d[_0x5ba0d8(0x6fd)][_0x5ba0d8(0x4b4)](_0x3556f0['varedit']),_0x378525=!0x0);}if(_0x378525){_0xd5bc6d[_0x5ba0d8(0x6fd)][_0x5ba0d8(0x374)]((_0x58316c,_0x4c7716)=>_0x58316c[_0x5ba0d8(0x5ea)]>_0x4c7716[_0x5ba0d8(0x5ea)]?0x1:_0x4c7716[_0x5ba0d8(0x5ea)]>_0x58316c[_0x5ba0d8(0x5ea)]?-0x1:0x0);for(let _0x500c9f=0x0;_0x500c9f<_0xd5bc6d['varedits'][_0x5ba0d8(0x7da)];_0x500c9f++)_0xd5bc6d[_0x5ba0d8(0x6fd)][_0x500c9f][_0x5ba0d8(0x5ea)]=_0x500c9f+0x1;}let _0x39188d=await this[_0x5ba0d8(0x35c)][_0x5ba0d8(0x22c)][_0x5ba0d8(0x530)](_0xd5bc6d[_0x5ba0d8(0x4d1)],_0xd5bc6d,this[_0x5ba0d8(0x3f9)][_0x5ba0d8(0x56a)]);if(_0x39188d&&_0x39188d[_0x5ba0d8(0x458)]&&_0x39188d[_0x5ba0d8(0x458)][_0x5ba0d8(0x7da)]>0x1&&this['synchronizeFlows'](_0x39188d[_0x5ba0d8(0x4d1)],this[_0x5ba0d8(0x3f9)][_0x5ba0d8(0x56a)]),!_0x39188d)throw new Error(_0x5ba0d8(0x6a3));return _0x39188d;}catch(_0x522c10){throw this[_0x5ba0d8(0x732)][_0x5ba0d8(0x2cb)](this['instanceName']+'\x20('+this[_0x5ba0d8(0x3f9)]['wuid']+_0x5ba0d8(0x44e)+(_0x522c10 instanceof Error?_0x522c10[_0x5ba0d8(0x6c9)]:JSON[_0x5ba0d8(0x155)](_0x522c10,null,0x2))),new w(_0x5ba0d8(0x626)+(_0x522c10 instanceof Error?_0x522c10['message']:JSON[_0x5ba0d8(0x155)](_0x522c10,null,0x2)));}}async['editFlowVariable'](_0x3bfd44){const _0x5a7b3f=a0_0x4fecf3;try{this[_0x5a7b3f(0x732)]['verbose'](this['instanceName']+'\x20('+this[_0x5a7b3f(0x3f9)]['wuid']+_0x5a7b3f(0x665));let _0x1e149f=await this['repository'][_0x5a7b3f(0x22c)][_0x5a7b3f(0x338)]({'where':{'name':_0x3bfd44[_0x5a7b3f(0x804)]}},this['instance'][_0x5a7b3f(0x56a)]);if(!_0x1e149f)throw new Error(_0x5a7b3f(0x570));_0x3bfd44[_0x5a7b3f(0x46e)][_0x5a7b3f(0x804)]=_0x3bfd44[_0x5a7b3f(0x46e)][_0x5a7b3f(0x804)][_0x5a7b3f(0x80b)](),_0x3bfd44[_0x5a7b3f(0x46e)][_0x5a7b3f(0x804)][_0x5a7b3f(0x24a)]('_')&&(_0x3bfd44['variable'][_0x5a7b3f(0x804)]=_0x3bfd44[_0x5a7b3f(0x46e)][_0x5a7b3f(0x804)][_0x5a7b3f(0x376)](0x1)),_0x3bfd44[_0x5a7b3f(0x46e)][_0x5a7b3f(0x804)]=_0x3bfd44['variable'][_0x5a7b3f(0x804)][_0x5a7b3f(0x80b)]();let _0x4de0a1=_0x1e149f[_0x5a7b3f(0x163)][_0x5a7b3f(0x201)](_0x2c92db=>_0x2c92db[_0x5a7b3f(0x804)]===_0x3bfd44[_0x5a7b3f(0x46e)][_0x5a7b3f(0x804)]);if(_0x4de0a1?.['leadInfo']===!0x0)throw new Error(_0x5a7b3f(0x5ab));if(_0x3bfd44[_0x5a7b3f(0x46e)]?.[_0x5a7b3f(0x1c0)]===!0x0){if(!_0x4de0a1)return{'message':_0x5a7b3f(0x1c7)};_0x1e149f[_0x5a7b3f(0x163)]=_0x1e149f[_0x5a7b3f(0x163)]['filter'](_0x4d90be=>_0x4d90be['name']!==_0x3bfd44[_0x5a7b3f(0x46e)][_0x5a7b3f(0x804)]);}else _0x4de0a1?Object[_0x5a7b3f(0x5c3)](_0x4de0a1,_0x3bfd44[_0x5a7b3f(0x46e)]):_0x1e149f[_0x5a7b3f(0x163)][_0x5a7b3f(0x4b4)](_0x3bfd44[_0x5a7b3f(0x46e)]);let _0x141f14=await this[_0x5a7b3f(0x35c)][_0x5a7b3f(0x22c)][_0x5a7b3f(0x530)](_0x1e149f[_0x5a7b3f(0x4d1)],_0x1e149f,this['instance'][_0x5a7b3f(0x56a)]);if(_0x141f14&&_0x141f14['shareOwners']&&_0x141f14[_0x5a7b3f(0x458)][_0x5a7b3f(0x7da)]>0x1&&this[_0x5a7b3f(0x262)](_0x141f14[_0x5a7b3f(0x4d1)],this['instance'][_0x5a7b3f(0x56a)]),!_0x141f14)throw new Error(_0x5a7b3f(0x6a3));return _0x141f14;}catch(_0x634b7e){throw this['logger'][_0x5a7b3f(0x2cb)](this[_0x5a7b3f(0x1e0)]+'\x20('+this[_0x5a7b3f(0x3f9)]['wuid']+_0x5a7b3f(0x197)+(_0x634b7e instanceof Error?_0x634b7e[_0x5a7b3f(0x6c9)]:JSON[_0x5a7b3f(0x155)](_0x634b7e,null,0x2))),new w(_0x5a7b3f(0x2b6)+(_0x634b7e instanceof Error?_0x634b7e[_0x5a7b3f(0x6c9)]:JSON['stringify'](_0x634b7e,null,0x2)));}}async['startFlow'](_0x5b9dad){const _0x127aad=a0_0x4fecf3;let _0x431dc6=null;try{if(!this[_0x127aad(0x6cf)]?.[_0x127aad(0x23f)][_0x127aad(0x3ad)])throw new w('Fluxos\x20não\x20estão\x20ativados');this[_0x127aad(0x732)]['verbose'](this['instanceName']+'\x20('+this[_0x127aad(0x3f9)][_0x127aad(0x56a)]+_0x127aad(0x19b));let _0x344a32=(await this[_0x127aad(0x45b)]({'numbers':[_0x5b9dad[_0x127aad(0x48b)]]}))[0x0];if(!_0x344a32[_0x127aad(0x4ad)]&&!(0x0,m[_0x127aad(0x719)])(_0x344a32[_0x127aad(0x43c)])&&!_0x344a32['jid'][_0x127aad(0x207)](_0x127aad(0x455)))throw _0x431dc6=JSON['stringify'](_0x344a32,null,0x2),new w(_0x344a32);let _0x2944c5=await this[_0x127aad(0x35c)][_0x127aad(0x22c)]['findOne']({'where':{'name':_0x5b9dad[_0x127aad(0x804)]}},this[_0x127aad(0x3f9)][_0x127aad(0x56a)]);if(!_0x2944c5)return this[_0x127aad(0x732)][_0x127aad(0x2cb)](this[_0x127aad(0x1e0)]+'\x20('+this[_0x127aad(0x3f9)]['wuid']+'):\x20Flow\x20não\x20encontrado'),{'message':_0x127aad(0x570)};let _0x569514=await this[_0x127aad(0x1d2)](_0x2944c5,_0x344a32[_0x127aad(0x43c)],_0x5b9dad[_0x127aad(0x430)]);if(_0x569514){this[_0x127aad(0x732)][_0x127aad(0x769)](this['instanceName']+'\x20('+this[_0x127aad(0x3f9)][_0x127aad(0x56a)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x1f2b4d=await this[_0x127aad(0x3a5)](_0x569514);return _0x1f2b4d&&await this[_0x127aad(0x655)](_0x569514,_0x1f2b4d),{'message':_0x127aad(0x5e4)+_0x5b9dad[_0x127aad(0x48b)]};}}catch(_0x42ccc9){if(this[_0x127aad(0x732)][_0x127aad(0x2cb)](this[_0x127aad(0x1e0)]+'\x20('+this[_0x127aad(0x3f9)]['wuid']+_0x127aad(0x3da)+(_0x42ccc9 instanceof Error?_0x42ccc9[_0x127aad(0x6c9)]:JSON[_0x127aad(0x155)](_0x42ccc9,null,0x2))),_0x431dc6=_0x42ccc9 instanceof Error?_0x42ccc9[_0x127aad(0x6c9)]:JSON['stringify'](_0x42ccc9,null,0x2),_0x431dc6)throw new w(_0x127aad(0x681)+_0x431dc6);}}async[a0_0x4fecf3(0x30e)](_0x1cb6df){const _0x207803=a0_0x4fecf3;try{let _0x22c1fc={'remoteJid':_0x1cb6df,'status':_0x207803(0x413)},_0x25752f={'status':_0x207803(0x21b)},_0x98d6c7=await this[_0x207803(0x35c)][_0x207803(0x3bb)][_0x207803(0x152)](_0x22c1fc,_0x25752f,this[_0x207803(0x3f9)]['wuid']);return this[_0x207803(0x732)][_0x207803(0x769)](this[_0x207803(0x1e0)]+'\x20('+this[_0x207803(0x3f9)][_0x207803(0x56a)]+_0x207803(0x3e3)),_0x98d6c7;}catch(_0x2f2bba){throw this[_0x207803(0x732)][_0x207803(0x2cb)](this[_0x207803(0x1e0)]+'\x20('+this[_0x207803(0x3f9)][_0x207803(0x56a)]+_0x207803(0x6b5)+_0x2f2bba[_0x207803(0x6c9)]),_0x2f2bba;}}async[a0_0x4fecf3(0x1d2)](_0x5acd40,_0x39cf63,_0x2d7057){const _0x77ac83=a0_0x4fecf3;this[_0x77ac83(0x732)]['verbose'](this['instanceName']+'\x20('+this[_0x77ac83(0x3f9)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this['closeExistingConversations'](_0x39cf63);try{let _0x7b355c=require('mongodb')[_0x77ac83(0x29f)],_0x326260=Date[_0x77ac83(0x587)](),_0x56d71d='start',_0x3f9170={},_0x4794c0={},_0x67da36={..._0x5acd40,'chatLog':null},_0x4e915d=await this[_0x77ac83(0x80e)](_0x67da36[_0x77ac83(0x163)]),_0x3a33b2=await this[_0x77ac83(0x52c)](_0x39cf63),_0x2b6b33={..._0x4e915d,..._0x3a33b2,'_remoteJid':_0x39cf63},_0x4e968b={'lastReceivedMessage':_0x3f9170,'lastSendMessage':_0x4794c0,'lastBlockId':_0x56d71d,'lastCondition':!0x0,'realVariables':_0x2b6b33};_0x67da36[_0x77ac83(0x28b)]=_0x4e968b,_0x67da36['chatLog'][_0x77ac83(0x5bc)]={..._0x2b6b33,..._0x2d7057},delete _0x67da36[_0x77ac83(0x4d1)],_0x67da36[_0x77ac83(0x4d1)]=new _0x7b355c(),_0x67da36[_0x77ac83(0x196)]=_0x326260,_0x67da36[_0x77ac83(0x395)]=_0x77ac83(0x413),_0x67da36[_0x77ac83(0x48b)]=_0x39cf63;let _0x15365c=await this[_0x77ac83(0x35c)][_0x77ac83(0x3bb)][_0x77ac83(0x530)](_0x67da36['_id'],_0x67da36,this['instance'][_0x77ac83(0x56a)]);return this[_0x77ac83(0x732)][_0x77ac83(0x769)](this[_0x77ac83(0x1e0)]+'\x20('+this[_0x77ac83(0x3f9)][_0x77ac83(0x56a)]+_0x77ac83(0x3e6)),_0x15365c?_0x67da36:null;}catch(_0xb8e8ff){throw this[_0x77ac83(0x732)][_0x77ac83(0x2cb)](this[_0x77ac83(0x1e0)]+'\x20('+this[_0x77ac83(0x3f9)][_0x77ac83(0x56a)]+_0x77ac83(0x62e)+(_0xb8e8ff instanceof Error?_0xb8e8ff[_0x77ac83(0x6c9)]:JSON[_0x77ac83(0x155)](_0xb8e8ff,null,0x2))),new w(_0xb8e8ff['message']);}}async[a0_0x4fecf3(0x446)](_0x20fc30){const _0x21feb7=a0_0x4fecf3;try{this[_0x21feb7(0x732)][_0x21feb7(0x769)](this[_0x21feb7(0x1e0)]+'\x20('+this[_0x21feb7(0x3f9)][_0x21feb7(0x56a)]+_0x21feb7(0x40b)),this[_0x21feb7(0x732)][_0x21feb7(0x769)](this[_0x21feb7(0x1e0)]+'\x20('+this[_0x21feb7(0x3f9)][_0x21feb7(0x56a)]+_0x21feb7(0x74c)+_0x20fc30);let _0x50ef6f={'where':{'_id':_0x20fc30}};return await this[_0x21feb7(0x35c)][_0x21feb7(0x3bb)][_0x21feb7(0x338)](_0x50ef6f,this[_0x21feb7(0x3f9)]['wuid']);}catch(_0x5d1b95){throw this[_0x21feb7(0x732)]['error'](this[_0x21feb7(0x1e0)]+'\x20('+this['instance'][_0x21feb7(0x56a)]+_0x21feb7(0x334)+(_0x5d1b95 instanceof Error?_0x5d1b95['message']:JSON[_0x21feb7(0x155)](_0x5d1b95,null,0x2))),new w(_0x21feb7(0x1a7)+_0x5d1b95['message']);}}async['fetchConversation'](_0x25d472){const _0x28c509=a0_0x4fecf3;try{return this[_0x28c509(0x732)][_0x28c509(0x769)](this[_0x28c509(0x1e0)]+'\x20('+this[_0x28c509(0x3f9)]['wuid']+_0x28c509(0x3a2)),await this[_0x28c509(0x35c)][_0x28c509(0x3bb)][_0x28c509(0x201)](_0x25d472,this[_0x28c509(0x3f9)][_0x28c509(0x56a)]);}catch(_0x5f1c25){throw this[_0x28c509(0x732)]['error'](this[_0x28c509(0x1e0)]+'\x20('+this[_0x28c509(0x3f9)]['wuid']+_0x28c509(0x347)+(_0x5f1c25 instanceof Error?_0x5f1c25[_0x28c509(0x6c9)]:JSON['stringify'](_0x5f1c25,null,0x2))),new w(_0x28c509(0x766)+_0x5f1c25[_0x28c509(0x6c9)]);}}async[a0_0x4fecf3(0x5af)](_0x25f406){const _0x3919c0=a0_0x4fecf3;try{return this[_0x3919c0(0x732)][_0x3919c0(0x769)](this[_0x3919c0(0x1e0)]+'\x20('+this[_0x3919c0(0x3f9)][_0x3919c0(0x56a)]+_0x3919c0(0x39c)),this[_0x3919c0(0x732)][_0x3919c0(0x769)](this[_0x3919c0(0x1e0)]+'\x20('+this[_0x3919c0(0x3f9)][_0x3919c0(0x56a)]+_0x3919c0(0x66e)+_0x25f406),(await this[_0x3919c0(0x35c)][_0x3919c0(0x3bb)][_0x3919c0(0x6d3)]({'where':{'_id':_0x25f406}},this[_0x3919c0(0x3f9)][_0x3919c0(0x56a)]))['deletedCount']===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x3919c0(0x2bc)};}catch(_0x29b31d){throw this['logger'][_0x3919c0(0x2cb)](this['instanceName']+'\x20('+this[_0x3919c0(0x3f9)][_0x3919c0(0x56a)]+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0x29b31d instanceof Error?_0x29b31d[_0x3919c0(0x6c9)]:JSON['stringify'](_0x29b31d,null,0x2))),new w(_0x3919c0(0x7d3)+_0x29b31d[_0x3919c0(0x6c9)]);}}async[a0_0x4fecf3(0x3d4)](_0x9f873a){const _0x4a97ed=a0_0x4fecf3;try{let {_id:_0x49690f,chatLog:_0x355f8f,status:_0x4d42f8}=_0x9f873a;if(!_0x49690f)return{'message':_0x4a97ed(0x555)};let _0x7a1a89={};if(_0x4d42f8!==void 0x0&&(_0x7a1a89[_0x4a97ed(0x395)]=_0x4d42f8),Object[_0x4a97ed(0x3bf)](_0x7a1a89)[_0x4a97ed(0x7da)]===0x0)return{'message':_0x4a97ed(0x157)};let _0x5769af=await this['repository'][_0x4a97ed(0x3bb)][_0x4a97ed(0x530)](_0x49690f,_0x7a1a89,this[_0x4a97ed(0x3f9)][_0x4a97ed(0x56a)]);return _0x5769af||{'message':_0x4a97ed(0x63f)};}catch(_0x1e738b){throw this[_0x4a97ed(0x732)]['error'](this[_0x4a97ed(0x1e0)]+'\x20('+this[_0x4a97ed(0x3f9)]['wuid']+_0x4a97ed(0x279)+(_0x1e738b instanceof Error?_0x1e738b[_0x4a97ed(0x6c9)]:JSON['stringify'](_0x1e738b,null,0x2))),new w(_0x4a97ed(0x1c5)+_0x1e738b[_0x4a97ed(0x6c9)]);}}async[a0_0x4fecf3(0x76f)](_0x5e8328){const _0x586fe1=a0_0x4fecf3;console['log'](_0x5e8328);try{_0x5e8328['_id']=this[_0x586fe1(0x654)](_0x5e8328['_id']);let _0x1b3a99=await this['repository']['chat'][_0x586fe1(0x338)]({'where':{'_id':_0x5e8328[_0x586fe1(0x4d1)]}},this['instance'][_0x586fe1(0x56a)]);if(!_0x1b3a99)throw new w('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x4ccb12,leadInfo:_0x4c04c1}=_0x5e8328;if(!_0x4ccb12)throw new Error(_0x586fe1(0x3d6));if(_0x5e8328[_0x586fe1(0x1c0)]==='all')return await this[_0x586fe1(0x40d)](_0x5e8328['_id']),await this[_0x586fe1(0x35c)]['chat'][_0x586fe1(0x1c0)]({'where':{'_id':_0x5e8328[_0x586fe1(0x4d1)]}},this[_0x586fe1(0x3f9)][_0x586fe1(0x56a)]),await this[_0x586fe1(0x35c)][_0x586fe1(0x6c9)][_0x586fe1(0x1c0)]({'where':{'key':{'remoteJid':_0x5e8328[_0x586fe1(0x4d1)]}}},this[_0x586fe1(0x3f9)][_0x586fe1(0x56a)]),_0x5e8328=await this[_0x586fe1(0x35c)][_0x586fe1(0x205)]['updateOne']({'where':{'_id':_0x5e8328[_0x586fe1(0x4d1)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),F(this[_0x586fe1(0x1e0)],_0x586fe1(0x246),{'chat':_0x5e8328}),{'message':_0x586fe1(0x3f4)};if(_0x5e8328['delete']===_0x586fe1(0x799))return await this[_0x586fe1(0x35c)][_0x586fe1(0x6c9)][_0x586fe1(0x1c0)]({'where':{'key':{'remoteJid':_0x5e8328['_id']}}},this[_0x586fe1(0x3f9)][_0x586fe1(0x56a)]),_0x5e8328=await this[_0x586fe1(0x35c)][_0x586fe1(0x205)][_0x586fe1(0x530)]({'where':{'_id':_0x5e8328[_0x586fe1(0x4d1)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x586fe1(0x3f9)][_0x586fe1(0x56a)]),F(this[_0x586fe1(0x1e0)],_0x586fe1(0x246),{'chat':_0x5e8328}),{'message':_0x586fe1(0x580)};let _0x531248=(_0x50efdb,_0x3a8ab3,_0x5a69b9)=>{_0x50efdb&&_0x5a69b9['forEach'](_0x41f858=>{const _0x4a3c15=a0_0x5137;_0x50efdb[_0x41f858]!==void 0x0&&(_0x3a8ab3[_0x4a3c15(0x81a)+_0x41f858]=_0x50efdb[_0x41f858]);});},_0x3c0af4={};if(_0x4c04c1&&(_0x531248(_0x4c04c1,_0x3c0af4,[_0x586fe1(0x5bf),_0x586fe1(0x72a),'email',_0x586fe1(0x355),_0x586fe1(0x395),_0x586fe1(0x4bc),_0x586fe1(0x17e),_0x586fe1(0x1c6),_0x586fe1(0x4e3),_0x586fe1(0x471)]),Array['isArray'](_0x4c04c1[_0x586fe1(0x5b3)])&&(_0x3c0af4['leadInfo.customFields']=_0x4c04c1[_0x586fe1(0x5b3)]['map'](_0x35ff6c=>({'_id':_0x35ff6c['_id'],'value':_0x35ff6c[_0x586fe1(0x52d)]}))),_0x5e8328[_0x586fe1(0x7c8)]['etiquetas']!==void 0x0)){let _0xa1776b=await this[_0x586fe1(0x35c)][_0x586fe1(0x40e)][_0x586fe1(0x201)]({'where':{}},this[_0x586fe1(0x3f9)]['wuid']),_0x3a01b3=new Set(_0x5e8328[_0x586fe1(0x7c8)][_0x586fe1(0x471)]||[]),_0x290e9b=new Set(_0x5e8328[_0x586fe1(0x7c8)]['etiquetas']),_0x593cce=new Set(_0xa1776b[_0x586fe1(0x428)](_0x37412a=>_0x37412a[_0x586fe1(0x4d1)])),_0x46f5be=[..._0x290e9b][_0x586fe1(0x6b9)](_0x25c8bc=>!_0x3a01b3['has'](_0x25c8bc)&&_0x593cce[_0x586fe1(0x311)](_0x25c8bc)),_0x269a1c=[..._0x3a01b3]['filter'](_0x45e68e=>!_0x290e9b[_0x586fe1(0x311)](_0x45e68e));if(_0x3c0af4['leadInfo.etiquetas']=[..._0x3a01b3],_0x1b3a99&&!_0x1b3a99[_0x586fe1(0x24c)]){for(let _0x5a26f1 of _0x46f5be)await this[_0x586fe1(0x447)](_0x5a26f1,_0x5e8328[_0x586fe1(0x4d1)]),_0x3a01b3[_0x586fe1(0x32b)](_0x5a26f1);for(let _0x3af231 of _0x269a1c)await this[_0x586fe1(0x321)](_0x3af231,_0x5e8328['_id']),_0x3a01b3['delete'](_0x3af231);}}if(_0x5e8328[_0x586fe1(0x1d4)]!==void 0x0&&(_0x3c0af4[_0x586fe1(0x1d4)]=Number(_0x5e8328[_0x586fe1(0x1d4)])),Object[_0x586fe1(0x3bf)](_0x3c0af4)['length']===0x0)throw new Error(_0x586fe1(0x157));let _0x595e0a=await this[_0x586fe1(0x35c)][_0x586fe1(0x205)][_0x586fe1(0x530)]({'where':{'_id':_0x5e8328[_0x586fe1(0x4d1)]}},_0x3c0af4,this['instance'][_0x586fe1(0x56a)]);return _0x595e0a&&F(this['instanceName'],'chats',{'chat':_0x595e0a}),_0x595e0a?(this[_0x586fe1(0x732)][_0x586fe1(0x769)](this['instanceName']+'\x20('+this['instance'][_0x586fe1(0x56a)]+_0x586fe1(0x6cc)+JSON[_0x586fe1(0x155)](_0x595e0a,null,0x2)),_0x595e0a):{'message':_0x586fe1(0x535)};}catch(_0x36ed20){throw this[_0x586fe1(0x732)][_0x586fe1(0x2cb)](this['instanceName']+'\x20('+this['instance'][_0x586fe1(0x56a)]+_0x586fe1(0x25b)+(_0x36ed20 instanceof Error?_0x36ed20[_0x586fe1(0x6c9)]:JSON[_0x586fe1(0x155)](_0x36ed20,null,0x2))),new w(_0x586fe1(0x2b3)+_0x36ed20[_0x586fe1(0x6c9)]);}}async[a0_0x4fecf3(0x447)](_0x12846d,_0x353fa6){const _0x2f3579=a0_0x4fecf3;try{await this[_0x2f3579(0x43e)][_0x2f3579(0x751)](_0x353fa6,_0x12846d),console['log'](_0x2f3579(0x161)+_0x12846d+_0x2f3579(0x5de)+_0x353fa6+'\x20com\x20sucesso.');}catch(_0x40ee45){console[_0x2f3579(0x2cb)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x12846d+_0x2f3579(0x19c)+_0x353fa6+':',_0x40ee45);}}async[a0_0x4fecf3(0x321)](_0x2f343c,_0xc9348a){const _0xd0b2b8=a0_0x4fecf3;try{await this[_0xd0b2b8(0x43e)]['removeChatLabel'](_0xc9348a,_0x2f343c),console['log'](_0xd0b2b8(0x161)+_0x2f343c+_0xd0b2b8(0x7fc)+_0xc9348a+_0xd0b2b8(0x421));}catch(_0x15825f){console[_0xd0b2b8(0x2cb)]('Erro\x20ao\x20remover\x20label\x20'+_0x2f343c+_0xd0b2b8(0x35e)+_0xc9348a+':',_0x15825f);}}async[a0_0x4fecf3(0x303)](_0xdef6ea){const _0x26abbb=a0_0x4fecf3;try{let _0x23c531=await this[_0x26abbb(0x35c)][_0x26abbb(0x253)][_0x26abbb(0x55b)](this['instance']['wuid']),_0x4d6ac5=_0xdef6ea[_0x26abbb(0x4d1)]?_0x23c531['agents'][_0x26abbb(0x4b1)](_0x31f40b=>_0x31f40b[_0x26abbb(0x4d1)]===_0xdef6ea['_id']):-0x1;if(_0xdef6ea[_0x26abbb(0x1c0)]&&_0x4d6ac5>-0x1)_0x23c531[_0x26abbb(0x777)]['splice'](_0x4d6ac5,0x1);else{if(_0x4d6ac5>-0x1){let _0x396302=_0x23c531[_0x26abbb(0x777)][_0x4d6ac5];_0xdef6ea[_0x26abbb(0x67e)]&&(_0x396302[_0x26abbb(0x67e)]=_0xdef6ea[_0x26abbb(0x67e)]),_0xdef6ea[_0x26abbb(0x804)]&&(_0x396302[_0x26abbb(0x804)]=_0xdef6ea[_0x26abbb(0x804)]),_0xdef6ea[_0x26abbb(0x6c0)]&&(_0x396302['email']=_0xdef6ea[_0x26abbb(0x6c0)]),_0xdef6ea[_0x26abbb(0x2ec)]&&(_0x396302[_0x26abbb(0x2ec)]=_0xdef6ea[_0x26abbb(0x2ec)]);}else _0x23c531[_0x26abbb(0x777)]['push']({'_id':_0xdef6ea[_0x26abbb(0x4d1)]||new le[(_0x26abbb(0x3cc))][(_0x26abbb(0x49c))][(_0x26abbb(0x29f))]()[_0x26abbb(0x2c2)](),'fone':_0xdef6ea[_0x26abbb(0x67e)],'name':_0xdef6ea[_0x26abbb(0x804)],'email':_0xdef6ea[_0x26abbb(0x6c0)],'role':_0xdef6ea[_0x26abbb(0x2ec)]});}let _0x50812a={'agents':_0x23c531['agents']},_0x34e410=await this[_0x26abbb(0x35c)][_0x26abbb(0x253)][_0x26abbb(0x724)](_0x50812a,this[_0x26abbb(0x3f9)]['wuid']);return this[_0x26abbb(0x6cf)]=_0x34e410,this[_0x26abbb(0x732)][_0x26abbb(0x769)](this[_0x26abbb(0x1e0)]+'\x20('+this[_0x26abbb(0x3f9)][_0x26abbb(0x56a)]+_0x26abbb(0x3c5)),this['logger']['verbose'](this[_0x26abbb(0x1e0)]+'\x20('+this[_0x26abbb(0x3f9)][_0x26abbb(0x56a)]+_0x26abbb(0x6cc)+this[_0x26abbb(0x6cf)]),_0x34e410;}catch(_0x3e8544){throw this[_0x26abbb(0x732)]['error'](this['instanceName']+'\x20('+this['instance'][_0x26abbb(0x56a)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x3e8544 instanceof Error?_0x3e8544['message']:JSON[_0x26abbb(0x155)](_0x3e8544,null,0x2))),new w(_0x26abbb(0x3a4)+_0x3e8544['message']);}}async[a0_0x4fecf3(0x3b1)](_0x12f4e7){const _0x1f258e=a0_0x4fecf3;try{let _0xaab5c1=await this[_0x1f258e(0x35c)][_0x1f258e(0x253)]['findOrCreate'](this[_0x1f258e(0x3f9)]['wuid']),_0x31d52e=_0x12f4e7[_0x1f258e(0x4d1)]?_0xaab5c1['customFields'][_0x1f258e(0x4b1)](_0x3a7281=>_0x3a7281[_0x1f258e(0x4d1)]===_0x12f4e7[_0x1f258e(0x4d1)]):-0x1,_0x38ee7d=!0x1,_0x5b782c=_0xaab5c1[_0x1f258e(0x5b3)]['some'](_0x3b4399=>_0x3b4399[_0x1f258e(0x5ea)]===_0x12f4e7[_0x1f258e(0x5ea)]);if(_0x12f4e7['delete']&&_0x31d52e>-0x1)_0xaab5c1[_0x1f258e(0x5b3)]['splice'](_0x31d52e,0x1),_0x38ee7d=!0x0;else{if(_0x31d52e>-0x1){if(_0xaab5c1[_0x1f258e(0x5b3)]['some'](_0x538183=>_0x538183[_0x1f258e(0x804)]===_0x12f4e7[_0x1f258e(0x804)]&&_0x538183[_0x1f258e(0x4d1)]!==_0x12f4e7['_id']))throw new Error(_0x1f258e(0x381));let _0x39a37a=_0xaab5c1[_0x1f258e(0x5b3)][_0x31d52e];_0x12f4e7[_0x1f258e(0x5ea)]&&(_0x5b782c||!Number['isInteger'](_0x12f4e7[_0x1f258e(0x5ea)]))&&(_0x39a37a[_0x1f258e(0x5ea)]=_0x12f4e7[_0x1f258e(0x5ea)],_0x38ee7d=!0x0),_0x12f4e7[_0x1f258e(0x804)]&&(_0x39a37a[_0x1f258e(0x804)]=_0x12f4e7['name']);}else{if(_0xaab5c1[_0x1f258e(0x5b3)][_0x1f258e(0x534)](_0x4d87ba=>_0x4d87ba[_0x1f258e(0x804)]===_0x12f4e7[_0x1f258e(0x804)]&&_0x4d87ba[_0x1f258e(0x4d1)]!==_0x12f4e7[_0x1f258e(0x4d1)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0xaab5c1[_0x1f258e(0x5b3)]['push']({'_id':_0x12f4e7[_0x1f258e(0x4d1)]||new le[(_0x1f258e(0x3cc))]['Types'][(_0x1f258e(0x29f))]()[_0x1f258e(0x2c2)](),'order':_0x12f4e7['order'],'name':_0x12f4e7[_0x1f258e(0x804)]}),_0x38ee7d=!0x0;}}if(_0x38ee7d){_0xaab5c1['customFields']['sort']((_0x514378,_0x22467c)=>_0x514378['order']>_0x22467c[_0x1f258e(0x5ea)]?0x1:_0x22467c[_0x1f258e(0x5ea)]>_0x514378[_0x1f258e(0x5ea)]?-0x1:0x0);for(let _0x393f6c=0x0;_0x393f6c<_0xaab5c1[_0x1f258e(0x5b3)][_0x1f258e(0x7da)];_0x393f6c++)_0xaab5c1[_0x1f258e(0x5b3)][_0x393f6c]['order']=_0x393f6c+0x1;}let _0x3cbd08=await this['repository'][_0x1f258e(0x253)]['update'](_0xaab5c1,this[_0x1f258e(0x3f9)]['wuid']);return this['AutomateSystem']=_0x3cbd08,this[_0x1f258e(0x732)][_0x1f258e(0x769)](this[_0x1f258e(0x1e0)]+'\x20('+this[_0x1f258e(0x3f9)][_0x1f258e(0x56a)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x1f258e(0x732)][_0x1f258e(0x769)](this[_0x1f258e(0x1e0)]+'\x20('+this['instance'][_0x1f258e(0x56a)]+_0x1f258e(0x6cc)+this[_0x1f258e(0x6cf)]),_0x3cbd08;}catch(_0x335aa3){throw this[_0x1f258e(0x732)][_0x1f258e(0x2cb)](this[_0x1f258e(0x1e0)]+'\x20('+this[_0x1f258e(0x3f9)]['wuid']+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x335aa3 instanceof Error?_0x335aa3['message']:JSON['stringify'](_0x335aa3,null,0x2))),new w(_0x1f258e(0x6e1)+_0x335aa3[_0x1f258e(0x6c9)]);}}async[a0_0x4fecf3(0x41a)](_0x492fdd){const _0x41f005=a0_0x4fecf3;try{let _0x2db753=await this['repository'][_0x41f005(0x253)][_0x41f005(0x55b)](this['instance'][_0x41f005(0x56a)]);if(!_0x2db753)throw new Error(_0x41f005(0x36c));let _0x4d01bf={'_id':_0x2db753[_0x41f005(0x4d1)],'flowConfig':{'enabled':_0x492fdd[_0x41f005(0x3ad)]??_0x2db753[_0x41f005(0x23f)][_0x41f005(0x3ad)],'ignoreGroups':_0x492fdd[_0x41f005(0x81d)]??_0x2db753[_0x41f005(0x23f)][_0x41f005(0x81d)],'prefixCommand':_0x492fdd[_0x41f005(0x2ef)]??_0x2db753[_0x41f005(0x23f)][_0x41f005(0x2ef)],'stopConversation':_0x492fdd[_0x41f005(0x405)]??_0x2db753[_0x41f005(0x23f)][_0x41f005(0x405)],'stopMinutes':_0x492fdd['stopMinutes']??_0x2db753[_0x41f005(0x23f)][_0x41f005(0x7e6)],'stopWhenYouSendMsg':_0x492fdd['stopWhenYouSendMsg']??_0x2db753[_0x41f005(0x23f)][_0x41f005(0x4fd)]}},_0x124bd7=await this[_0x41f005(0x35c)]['automateSystem'][_0x41f005(0x724)](_0x4d01bf,this[_0x41f005(0x3f9)]['wuid']);return this['AutomateSystem']=_0x124bd7,this['logger'][_0x41f005(0x769)](this['instanceName']+'\x20('+this['instance'][_0x41f005(0x56a)]+_0x41f005(0x3c5)),this[_0x41f005(0x732)][_0x41f005(0x769)](this[_0x41f005(0x1e0)]+'\x20('+this[_0x41f005(0x3f9)]['wuid']+_0x41f005(0x6cc)+this[_0x41f005(0x6cf)]),setTimeout(()=>this[_0x41f005(0x668)](),0x7d0),_0x124bd7;}catch(_0x1e2c17){throw this[_0x41f005(0x732)][_0x41f005(0x2cb)](this[_0x41f005(0x1e0)]+'\x20('+this['instance'][_0x41f005(0x56a)]+'):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+(_0x1e2c17 instanceof Error?_0x1e2c17[_0x41f005(0x6c9)]:JSON[_0x41f005(0x155)](_0x1e2c17,null,0x2))),new w('Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+_0x1e2c17[_0x41f005(0x6c9)]);}}async[a0_0x4fecf3(0x287)](){const _0xf4655e=a0_0x4fecf3;try{let _0x18fa34=await this['repository']['automateSystem'][_0xf4655e(0x55b)](this[_0xf4655e(0x3f9)]['wuid']);return this[_0xf4655e(0x6cf)]=_0x18fa34,this['logger']['verbose'](this[_0xf4655e(0x1e0)]+'\x20('+this[_0xf4655e(0x3f9)][_0xf4655e(0x56a)]+_0xf4655e(0x6de)),this[_0xf4655e(0x732)][_0xf4655e(0x769)](this[_0xf4655e(0x6cf)]),_0x18fa34;}catch(_0x37b719){throw this['logger'][_0xf4655e(0x2cb)](this['instanceName']+'\x20('+this[_0xf4655e(0x3f9)][_0xf4655e(0x56a)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x37b719 instanceof Error?_0x37b719[_0xf4655e(0x6c9)]:JSON['stringify'](_0x37b719,null,0x2))),new w(_0xf4655e(0x741)+_0x37b719[_0xf4655e(0x6c9)]);}}async['setRestartTimeout'](){const _0x43cdcd=a0_0x4fecf3;this[_0x43cdcd(0x3f9)][_0x43cdcd(0x1ed)][_0x43cdcd(0x52a)]&&clearTimeout(this[_0x43cdcd(0x3f9)]['ScheduleMessage']['timeout']),this[_0x43cdcd(0x3f9)]['ScheduleMessage'][_0x43cdcd(0x52a)]=setTimeout(()=>{const _0x1410a5=_0x43cdcd;this[_0x1410a5(0x648)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x4fecf3(0x648)](){const _0x4218ac=a0_0x4fecf3;Date[_0x4218ac(0x587)]()-this[_0x4218ac(0x3f9)][_0x4218ac(0x1ed)][_0x4218ac(0x6ad)]>=0x1d4c0&&(this[_0x4218ac(0x732)][_0x4218ac(0x769)](this[_0x4218ac(0x1e0)]+'\x20('+this['instance']['wuid']+_0x4218ac(0x54b)),this[_0x4218ac(0x3f9)][_0x4218ac(0x1ed)][_0x4218ac(0x6ca)]=null,this[_0x4218ac(0x3f9)]['ScheduleMessage']['lastSend']=0x0,this['instance']['ScheduleMessage']['delayMessage']=0x0,await this[_0x4218ac(0x668)]());}async[a0_0x4fecf3(0x668)](){const _0x6dd697=a0_0x4fecf3;let _0x31ff26=()=>{const _0x87a14f=a0_0x5137;this[_0x87a14f(0x732)][_0x87a14f(0x769)](this[_0x87a14f(0x1e0)]+'\x20('+this[_0x87a14f(0x3f9)][_0x87a14f(0x56a)]+_0x87a14f(0x513)+this[_0x87a14f(0x3f9)][_0x87a14f(0x1ed)][_0x87a14f(0x6ca)]+_0x87a14f(0x62c));},_0x1372cb=async()=>{const _0x1ba3ee=a0_0x5137;this[_0x1ba3ee(0x732)][_0x1ba3ee(0x769)](this[_0x1ba3ee(0x1e0)]+'\x20('+this[_0x1ba3ee(0x3f9)]['wuid']+_0x1ba3ee(0x568));let _0xd338a0=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x29befd={'where':{'status':{'$in':[_0x1ba3ee(0x807),_0x1ba3ee(0x45a)]},'$or':[{'when':{'$lte':Date[_0x1ba3ee(0x587)](),'$gte':_0xd338a0}},{'when':0x0}]}};return await this[_0x1ba3ee(0x35c)]['scheduleMessage'][_0x1ba3ee(0x201)](_0x29befd,this['instance']['wuid']);},_0x4d00c2=async _0x3620a7=>{const _0x264928=a0_0x5137;for(let _0x130189 of _0x3620a7){let _0xfe8c4b={'_id':_0x130189[_0x264928(0x4d1)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x264928(0x587)]()-0x1770}}]},_0x51e3dd={'startSend':Date['now']()};if(!await this[_0x264928(0x35c)]['scheduleMessage']['updateOne'](_0xfe8c4b,_0x51e3dd,this[_0x264928(0x3f9)][_0x264928(0x56a)]))return;if(!this[_0x264928(0x3f9)][_0x264928(0x1ed)]['isConnected']){this[_0x264928(0x732)][_0x264928(0x769)](this['instanceName']+'\x20('+this[_0x264928(0x3f9)][_0x264928(0x56a)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x130189[_0x264928(0x1bf)]===_0x264928(0x22c)&&!this[_0x264928(0x6cf)]?.['flowConfig'][_0x264928(0x3ad)]){this[_0x264928(0x732)]['error'](this[_0x264928(0x1e0)]+'\x20('+this['instance'][_0x264928(0x56a)]+_0x264928(0x1b7));continue;}(!_0x130189['remoteJidsRemaining']||_0x130189[_0x264928(0x185)][_0x264928(0x7da)]===0x0)&&(_0x130189=await this[_0x264928(0x35c)][_0x264928(0x29a)]['updateOneById'](_0x130189[_0x264928(0x4d1)],{'status':_0x264928(0x45a),'remoteJidsRemaining':[..._0x130189['remoteJids']]},this['instance'][_0x264928(0x56a)]));for(let _0x26729d of _0x130189[_0x264928(0x185)]){if(await this['setRestartTimeout'](),this['instance'][_0x264928(0x1ed)]['lastSend']=Date[_0x264928(0x587)](),this[_0x264928(0x3f9)][_0x264928(0x1ed)][_0x264928(0x64a)]===_0x26729d){this[_0x264928(0x732)][_0x264928(0x2cb)](this['instanceName']+'\x20('+this['instance'][_0x264928(0x56a)]+_0x264928(0x698)+_0x26729d+_0x264928(0x70f));let _0x5c1ab6={'$push':{'messagesSend':{'remoteJid':_0x26729d,'error':!0x0,'id':null,'error_log':_0x264928(0x434),'log_timestamp':Date[_0x264928(0x587)]()}},'$pull':{'remoteJidsRemaining':_0x26729d}};await this['repository'][_0x264928(0x29a)][_0x264928(0x7b0)](_0x130189[_0x264928(0x4d1)],_0x5c1ab6,this['instance'][_0x264928(0x56a)]);continue;}if(this['instance'][_0x264928(0x1ed)][_0x264928(0x64a)]=_0x26729d,_0x130189[_0x264928(0x5f7)]['some'](_0x3dd9a8=>_0x3dd9a8[_0x264928(0x48b)]===_0x26729d)){this[_0x264928(0x732)][_0x264928(0x769)](this['instanceName']+'\x20('+this['instance'][_0x264928(0x56a)]+_0x264928(0x4b3)+_0x26729d+_0x264928(0x1a2));continue;}if(!this[_0x264928(0x3f9)]['ScheduleMessage'][_0x264928(0x295)]){this['logger'][_0x264928(0x769)](this[_0x264928(0x1e0)]+'\x20('+this[_0x264928(0x3f9)][_0x264928(0x56a)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x264928(0x3f9)][_0x264928(0x1ed)][_0x264928(0x6ca)]){this[_0x264928(0x732)][_0x264928(0x769)](this[_0x264928(0x1e0)]+'\x20('+this[_0x264928(0x3f9)]['wuid']+_0x264928(0x581)+_0x130189[_0x264928(0x4d1)]+_0x264928(0x2c4));break;}if(_0x130189['type']===_0x264928(0x22c)&&!this['AutomateSystem']?.[_0x264928(0x23f)][_0x264928(0x3ad)]){this['logger'][_0x264928(0x2cb)](this[_0x264928(0x1e0)]+'\x20('+this[_0x264928(0x3f9)][_0x264928(0x56a)]+_0x264928(0x1b7));break;}let _0x38b40={'remoteJid':_0x26729d,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x264928(0x587)]()},_0xe54de8=null;try{let _0x3b3abd=await this['SendScheduleMessage'](_0x26729d,_0x130189);_0x38b40[_0x264928(0x2cb)]=_0x3b3abd[_0x264928(0x2cb)],_0x38b40['id']=_0x3b3abd[_0x264928(0x2cb)]?null:_0x3b3abd['id'],_0x38b40[_0x264928(0x30c)]=_0x3b3abd[_0x264928(0x2cb)]?_0x3b3abd[_0x264928(0x607)]?_0x3b3abd[_0x264928(0x607)]['toString']():'':null;let _0x25f29e={'$push':{'messagesSend':_0x38b40},'$pull':{'remoteJidsRemaining':_0x26729d}},_0xd0135b=_0x130189[_0x264928(0x4d1)];if(_0xe54de8=await this[_0x264928(0x35c)][_0x264928(0x29a)][_0x264928(0x7b0)](_0xd0135b,_0x25f29e,this[_0x264928(0x3f9)][_0x264928(0x56a)]),_0x3b3abd[_0x264928(0x2cb)])continue;let _0x1fcfd4=this[_0x264928(0x63b)](_0x130189[_0x264928(0x1cb)],_0x130189[_0x264928(0x16e)]);await this['sleep'](_0x1fcfd4);}catch(_0x162188){this[_0x264928(0x732)][_0x264928(0x2cb)](this[_0x264928(0x1e0)]+'\x20('+this[_0x264928(0x3f9)][_0x264928(0x56a)]+_0x264928(0x7b9)+_0x26729d+':\x20'+(_0x162188 instanceof Error?_0x162188['message']:JSON['stringify'](_0x162188,null,0x2))),_0x38b40[_0x264928(0x2cb)]=!0x0,_0x38b40[_0x264928(0x30c)]=_0x162188['message'];let _0x149245={'$push':{'messagesSend':_0x38b40},'$pull':{'remoteJidsRemaining':_0x26729d}},_0x453e4d=_0x130189['_id'];_0xe54de8=await this[_0x264928(0x35c)][_0x264928(0x29a)][_0x264928(0x7b0)](_0x453e4d,_0x149245,this['instance'][_0x264928(0x56a)]);}finally{if(_0xe54de8&&_0xe54de8['status']===_0x264928(0x22b)){this[_0x264928(0x732)]['verbose'](this[_0x264928(0x1e0)]+'\x20('+this['instance'][_0x264928(0x56a)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x130189['_id']+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x4174a6=await this[_0x264928(0x35c)][_0x264928(0x29a)][_0x264928(0x2f4)](_0x130189['_id'],this['instance'][_0x264928(0x56a)]);if(_0x4174a6['remoteJidsRemaining'][_0x264928(0x7da)]===0x0&&_0x4174a6['status']!==_0x264928(0x22b)){this[_0x264928(0x3f9)][_0x264928(0x1ed)][_0x264928(0x64a)]=null;let _0x4b0a0={'$set':{'status':_0x264928(0x1ee)}},_0x11b87b=_0x4174a6[_0x264928(0x4d1)];await this['repository'][_0x264928(0x29a)][_0x264928(0x7b0)](_0x11b87b,_0x4b0a0,this[_0x264928(0x3f9)][_0x264928(0x56a)]);}await new Promise(_0x2229ee=>setTimeout(_0x2229ee,0x1388));}},_0x5737e7=async()=>{const _0x54ed95=a0_0x5137;let _0x4faaec={'where':{'status':_0x54ed95(0x807),'when':{'$gt':Date[_0x54ed95(0x587)]()}}},_0x55a30c=await this[_0x54ed95(0x35c)][_0x54ed95(0x29a)][_0x54ed95(0x338)](_0x4faaec,this[_0x54ed95(0x3f9)][_0x54ed95(0x56a)]);_0x55a30c&&_0x55a30c[_0x54ed95(0x7e2)]-Date['now']()<=0x5265c00?this[_0x54ed95(0x3f9)][_0x54ed95(0x1ed)]['delayMessage']=_0x55a30c[_0x54ed95(0x7e2)]-Date['now']():this['instance'][_0x54ed95(0x1ed)][_0x54ed95(0x464)]=(0x3c+Math[_0x54ed95(0x63d)](Math[_0x54ed95(0x5fe)]()*0x3c))*0x3c*0x3e8,this[_0x54ed95(0x3f9)][_0x54ed95(0x1ed)]['delayMessage']=Math[_0x54ed95(0x7fa)](this[_0x54ed95(0x3f9)][_0x54ed95(0x1ed)]['delayMessage'],0x7d0);let _0x4a48b3=Math['round'](this[_0x54ed95(0x3f9)][_0x54ed95(0x1ed)][_0x54ed95(0x464)]/0xea60);if(_0x55a30c){let _0x7f0e77=new Date(_0x55a30c[_0x54ed95(0x7e2)])[_0x54ed95(0x6be)]();this[_0x54ed95(0x732)][_0x54ed95(0x769)](this['instanceName']+'\x20('+this[_0x54ed95(0x3f9)][_0x54ed95(0x56a)]+_0x54ed95(0x4a5)+_0x7f0e77+_0x54ed95(0x7be)+_0x4a48b3+_0x54ed95(0x2f7));}else this[_0x54ed95(0x732)][_0x54ed95(0x769)](this[_0x54ed95(0x1e0)]+'\x20('+this[_0x54ed95(0x3f9)][_0x54ed95(0x56a)]+_0x54ed95(0x25c)+_0x4a48b3+_0x54ed95(0x2f7));setTimeout(()=>this[_0x54ed95(0x668)](),this['instance'][_0x54ed95(0x1ed)][_0x54ed95(0x464)]);};if(this['instance'][_0x6dd697(0x1ed)][_0x6dd697(0x6ca)]){await this[_0x6dd697(0x56b)](),_0x31ff26();return;}if(!this[_0x6dd697(0x3f9)]['ScheduleMessage'][_0x6dd697(0x295)]){this[_0x6dd697(0x732)][_0x6dd697(0x769)](this[_0x6dd697(0x1e0)]+'\x20('+this[_0x6dd697(0x3f9)][_0x6dd697(0x56a)]+_0x6dd697(0x61d)),this['instance']['ScheduleMessage'][_0x6dd697(0x6ca)]=null,this[_0x6dd697(0x3f9)][_0x6dd697(0x1ed)][_0x6dd697(0x6ad)]=0x0,this['instance'][_0x6dd697(0x1ed)][_0x6dd697(0x464)]=0x0,this[_0x6dd697(0x3f9)][_0x6dd697(0x1ed)][_0x6dd697(0x64a)]=null;return;}try{let _0x1049d9=await _0x1372cb();_0x1049d9['length']===0x0?this[_0x6dd697(0x732)][_0x6dd697(0x769)](this[_0x6dd697(0x1e0)]+'\x20('+this['instance']['wuid']+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x6dd697(0x3f9)][_0x6dd697(0x1ed)][_0x6dd697(0x6ca)]=_0x1049d9[0x0][_0x6dd697(0x4d1)],await _0x4d00c2(_0x1049d9)),await _0x5737e7(),this[_0x6dd697(0x3f9)]['ScheduleMessage'][_0x6dd697(0x6ca)]=null,this[_0x6dd697(0x3f9)]['ScheduleMessage'][_0x6dd697(0x64a)]=null;}catch(_0x49ba56){this[_0x6dd697(0x732)]['error'](_0x6dd697(0x5d0)+(_0x49ba56 instanceof Error?_0x49ba56[_0x6dd697(0x6c9)]:JSON[_0x6dd697(0x155)](_0x49ba56,null,0x2)));}}['getDelay'](_0x43a516,_0x54db66){const _0xe538b6=a0_0x4fecf3;return _0x43a516=Math[_0xe538b6(0x7fa)](0.5,_0x43a516),_0x54db66=Math[_0xe538b6(0x6f4)](Math['max'](0x3,_0x54db66),0x78),Math[_0xe538b6(0x63d)](Math[_0xe538b6(0x5fe)]()*(_0x54db66-_0x43a516+0x1)+_0x43a516)*0x3e8;}['sleep'](_0x1daaa7){return new Promise(_0x38806e=>setTimeout(_0x38806e,_0x1daaa7));}async[a0_0x4fecf3(0x52c)](_0x36fb66){const _0x3cb3c7=a0_0x4fecf3;if(!this[_0x3cb3c7(0x6cf)]&&(await this[_0x3cb3c7(0x287)](),!this[_0x3cb3c7(0x6cf)]))return null;_0x36fb66=this[_0x3cb3c7(0x654)](_0x36fb66);let _0x493984=await this[_0x3cb3c7(0x35c)][_0x3cb3c7(0x205)][_0x3cb3c7(0x338)]({'where':{'_id':_0x36fb66}},this[_0x3cb3c7(0x3f9)][_0x3cb3c7(0x56a)]),_0x5c9921={};if(_0x493984&&_0x493984[_0x3cb3c7(0x7c8)]){let _0x4963bc=_0x493984['leadInfo'];typeof _0x4963bc[_0x3cb3c7(0x5bf)]==_0x3cb3c7(0x78b)&&(_0x5c9921[_0x3cb3c7(0x5bf)]=_0x4963bc[_0x3cb3c7(0x5bf)]),typeof _0x4963bc[_0x3cb3c7(0x72a)]==_0x3cb3c7(0x78b)&&(_0x5c9921[_0x3cb3c7(0x72a)]=_0x4963bc['nomecompleto']),typeof _0x4963bc[_0x3cb3c7(0x6c0)]=='string'&&(_0x5c9921['email']=_0x4963bc[_0x3cb3c7(0x6c0)]),typeof _0x4963bc[_0x3cb3c7(0x355)]==_0x3cb3c7(0x78b)&&(_0x5c9921[_0x3cb3c7(0x355)]=_0x4963bc['cpf']),typeof _0x4963bc[_0x3cb3c7(0x395)]==_0x3cb3c7(0x78b)&&(_0x5c9921[_0x3cb3c7(0x395)]=_0x4963bc[_0x3cb3c7(0x395)]),typeof _0x4963bc[_0x3cb3c7(0x4bc)]=='string'&&(_0x5c9921['notas']=_0x4963bc[_0x3cb3c7(0x4bc)]),typeof _0x4963bc['responsavelid']==_0x3cb3c7(0x78b)&&(_0x5c9921['responsavelid']=_0x4963bc[_0x3cb3c7(0x4e3)]),Array[_0x3cb3c7(0x5ff)](_0x4963bc[_0x3cb3c7(0x17e)])&&(_0x5c9921[_0x3cb3c7(0x17e)]=_0x4963bc[_0x3cb3c7(0x17e)][_0x3cb3c7(0x386)](',\x20')),Array[_0x3cb3c7(0x5ff)](_0x4963bc[_0x3cb3c7(0x471)])&&(_0x5c9921['etiquetas']=_0x4963bc[_0x3cb3c7(0x471)][_0x3cb3c7(0x386)](',\x20'));}return _0x493984&&_0x493984[_0x3cb3c7(0x7c8)]&&_0x493984['leadInfo']['customFields']&&_0x493984[_0x3cb3c7(0x7c8)]['customFields'][_0x3cb3c7(0x697)](_0x43549f=>{const _0x4060f6=_0x3cb3c7;let _0x4fbcc1=this['AutomateSystem']?.[_0x4060f6(0x5b3)][_0x4060f6(0x201)](_0x2bf10c=>_0x2bf10c[_0x4060f6(0x4d1)]===_0x43549f['_id']);_0x4fbcc1&&(_0x5c9921[_0x4fbcc1[_0x4060f6(0x804)]]=_0x43549f[_0x4060f6(0x52d)]);}),_0x5c9921;}async[a0_0x4fecf3(0x7e7)](_0x2e3af7,_0x252171){const _0x5effaf=a0_0x4fecf3;let _0x4da955=await this[_0x5effaf(0x52c)](_0x252171);return this[_0x5effaf(0x394)](_0x2e3af7,_0x4da955);}async[a0_0x4fecf3(0x6b3)](_0x18dade){const _0x35c919=a0_0x4fecf3;try{if(this['logger'][_0x35c919(0x769)](this['instanceName']+'\x20('+this[_0x35c919(0x3f9)][_0x35c919(0x56a)]+'):\x20Edit\x20schedule\x20message...'),_0x18dade[_0x35c919(0x1c0)]&&_0x18dade[_0x35c919(0x4d1)]){if(this[_0x35c919(0x3f9)][_0x35c919(0x1ed)][_0x35c919(0x6ca)]===_0x18dade['_id']['toString']())throw new Error(_0x35c919(0x2d0));let _0x2ebc5f=await this[_0x35c919(0x35c)][_0x35c919(0x29a)][_0x35c919(0x6d3)](_0x18dade[_0x35c919(0x4d1)],this['instance'][_0x35c919(0x56a)]);return setTimeout(()=>this[_0x35c919(0x668)](),0x7d0),_0x2ebc5f;}let _0xde4195;if(_0x18dade[_0x35c919(0x4d1)]&&(_0xde4195=await this['repository'][_0x35c919(0x29a)][_0x35c919(0x2f4)](_0x18dade[_0x35c919(0x4d1)],this['instance'][_0x35c919(0x56a)])),_0xde4195){let _0x2a3444;if(this[_0x35c919(0x3f9)][_0x35c919(0x1ed)][_0x35c919(0x6ca)]===_0xde4195[_0x35c919(0x4d1)][_0x35c919(0x2c2)]())_0x2a3444={'$set':{'status':_0x18dade[_0x35c919(0x395)]}};else{let {_id:_0x2cfbb3,..._0xb248bc}=_0x18dade;_0x2a3444={'$set':_0xb248bc};}let _0x5cb050=await this[_0x35c919(0x35c)]['scheduleMessage'][_0x35c919(0x7b0)](_0x18dade[_0x35c919(0x4d1)],_0x2a3444,this['instance'][_0x35c919(0x56a)]);return setTimeout(()=>this[_0x35c919(0x668)](),0x7d0),_0x5cb050;}else{_0x18dade[_0x35c919(0x480)]=this[_0x35c919(0x3f9)]['wuid'];let _0x137101=await this[_0x35c919(0x35c)][_0x35c919(0x29a)][_0x35c919(0x5ad)](_0x18dade,this[_0x35c919(0x3f9)][_0x35c919(0x56a)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x137101;}}catch(_0x3bf3af){throw this[_0x35c919(0x732)][_0x35c919(0x2cb)](this[_0x35c919(0x1e0)]+'\x20('+this['instance'][_0x35c919(0x56a)]+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+(_0x3bf3af instanceof Error?_0x3bf3af[_0x35c919(0x6c9)]:JSON['stringify'](_0x3bf3af,null,0x2))),new w(_0x35c919(0x3d7)+_0x3bf3af[_0x35c919(0x6c9)]);}}async[a0_0x4fecf3(0x15b)](){const _0x128731=a0_0x4fecf3;try{return await this['repository'][_0x128731(0x29a)][_0x128731(0x201)]({'where':{}},this[_0x128731(0x3f9)][_0x128731(0x56a)]);}catch(_0x3c8bf7){throw this[_0x128731(0x732)]['error'](this['instanceName']+'\x20('+this['instance'][_0x128731(0x56a)]+_0x128731(0x3d8)+(_0x3c8bf7 instanceof Error?_0x3c8bf7['message']:JSON[_0x128731(0x155)](_0x3c8bf7,null,0x2))),new w(_0x128731(0x3d7)+_0x3c8bf7[_0x128731(0x6c9)]);}}async[a0_0x4fecf3(0x79d)](){const _0x3a8694=a0_0x4fecf3;try{let _0x66f901={'status':_0x3a8694(0x1ee)},_0x37eed1=await this[_0x3a8694(0x35c)][_0x3a8694(0x29a)][_0x3a8694(0x717)](_0x66f901,this[_0x3a8694(0x3f9)][_0x3a8694(0x56a)]);if(!_0x37eed1[_0x3a8694(0x2cb)])this[_0x3a8694(0x732)][_0x3a8694(0x769)](this[_0x3a8694(0x1e0)]+'\x20('+this['instance'][_0x3a8694(0x56a)]+_0x3a8694(0x32e));else throw new Error(_0x37eed1[_0x3a8694(0x2cb)][_0x3a8694(0x6c9)]||_0x3a8694(0x51c));return this['getScheduleMessage']();}catch(_0x3a336d){throw this['logger'][_0x3a8694(0x2cb)](this[_0x3a8694(0x1e0)]+'\x20('+this[_0x3a8694(0x3f9)]['wuid']+_0x3a8694(0x356)+(_0x3a336d instanceof Error?_0x3a336d[_0x3a8694(0x6c9)]:JSON['stringify'](_0x3a336d,null,0x2))),new w(_0x3a8694(0x3d7)+_0x3a336d['message']);}}async['SendScheduleMessage'](_0x9262d9,_0x9d7542){const _0x3ddb2d=a0_0x4fecf3;try{if(_0x9d7542[_0x3ddb2d(0x1bf)]===_0x3ddb2d(0x22c)&&!this[_0x3ddb2d(0x6cf)]?.[_0x3ddb2d(0x23f)]['enabled'])return this[_0x3ddb2d(0x732)][_0x3ddb2d(0x2cb)](this['instanceName']+'\x20('+this[_0x3ddb2d(0x3f9)][_0x3ddb2d(0x56a)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x3ddb2d(0x39f)};switch(_0x9d7542[_0x3ddb2d(0x1bf)]){case _0x3ddb2d(0x384):return await this[_0x3ddb2d(0x16c)](_0x9d7542,_0x9262d9);case _0x3ddb2d(0x7cf):return await this[_0x3ddb2d(0x1d9)](_0x9d7542,_0x9262d9);case _0x3ddb2d(0x81b):return await this['scheduleSendAudio'](_0x9d7542,_0x9262d9);case'flow':let _0x1addf8=new je();return _0x1addf8[_0x3ddb2d(0x804)]=_0x9d7542[_0x3ddb2d(0x67b)],_0x1addf8['remoteJid']=_0x9262d9,await this[_0x3ddb2d(0x3dd)](_0x1addf8);break;default:return this[_0x3ddb2d(0x732)][_0x3ddb2d(0x2cb)](this[_0x3ddb2d(0x1e0)]+'\x20('+this[_0x3ddb2d(0x3f9)]['wuid']+_0x3ddb2d(0x1bc)+_0x9d7542[_0x3ddb2d(0x1bf)]),{'error':!0x0,'detail':_0x3ddb2d(0x582)};}}catch(_0x1b0aa7){return this[_0x3ddb2d(0x732)]['error'](this[_0x3ddb2d(0x1e0)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x1b0aa7 instanceof Error?_0x1b0aa7[_0x3ddb2d(0x6c9)]:JSON[_0x3ddb2d(0x155)](_0x1b0aa7,null,0x2))),{'error':!0x0,'detail':_0x1b0aa7[_0x3ddb2d(0x6c9)]};}}[a0_0x4fecf3(0x2ce)](_0x2716e3){const _0x386aae=a0_0x4fecf3;let _0x3f8702=_0x2716e3[_0x386aae(0x579)]('|'),_0x25ba6f=Math['floor'](Math[_0x386aae(0x5fe)]()*_0x3f8702[_0x386aae(0x7da)]);return _0x3f8702[_0x25ba6f][_0x386aae(0x80b)]();}async['scheduleSendText'](_0x3fdc90,_0x15e6ba){const _0x14aa3b=a0_0x4fecf3;if(this[_0x14aa3b(0x732)][_0x14aa3b(0x769)](this['instanceName']+'\x20('+this[_0x14aa3b(0x3f9)][_0x14aa3b(0x56a)]+_0x14aa3b(0x2d8)),!_0x3fdc90['message']['text']||_0x3fdc90[_0x14aa3b(0x6c9)][_0x14aa3b(0x384)][_0x14aa3b(0x7da)]===0x0)return{'error':!0x0,'detail':_0x14aa3b(0x5b0)};let _0x5da3d7=this[_0x14aa3b(0x2ce)](_0x3fdc90['message']['text']),_0x5de9e6=await this['replaceVariablesChat'](_0x5da3d7,_0x15e6ba),_0x20c3f1={'number':_0x15e6ba,'options':{'delay':_0x3fdc90['message'][_0x14aa3b(0x377)],'linkPreview':_0x3fdc90[_0x14aa3b(0x6c9)][_0x14aa3b(0x3c3)]},'textMessage':{'text':_0x5de9e6}},_0x16b5ad=null;try{let _0x3901f8=await this[_0x14aa3b(0x308)](_0x20c3f1);if(_0x3901f8&&_0x3901f8[_0x14aa3b(0x395)])return{'error':!0x1,'id':_0x3901f8[_0x14aa3b(0x283)]['id']};_0x16b5ad=JSON[_0x14aa3b(0x155)](_0x3901f8),this[_0x14aa3b(0x732)][_0x14aa3b(0x769)](this[_0x14aa3b(0x1e0)]+'\x20('+this[_0x14aa3b(0x3f9)][_0x14aa3b(0x56a)]+'):\x20'+_0x16b5ad);}catch(_0x19d663){this[_0x14aa3b(0x732)]['error'](this[_0x14aa3b(0x1e0)]+'\x20('+this[_0x14aa3b(0x3f9)][_0x14aa3b(0x56a)]+_0x14aa3b(0x363)+(_0x19d663 instanceof Error?_0x19d663[_0x14aa3b(0x6c9)]:JSON[_0x14aa3b(0x155)](_0x19d663,null,0x2))),_0x16b5ad=_0x19d663[_0x14aa3b(0x6c9)];}if(_0x16b5ad)return{'error':!0x0,'detail':(typeof _0x16b5ad=='object'?JSON['stringify'](_0x16b5ad,null,0x2):_0x16b5ad)[_0x14aa3b(0x6eb)](/[\[\]{}\n]/g,'\x20')[_0x14aa3b(0x6eb)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x473285,_0x2ee9f1){const _0x2c8170=a0_0x4fecf3;this[_0x2c8170(0x732)][_0x2c8170(0x769)](this['instanceName']+'\x20('+this[_0x2c8170(0x3f9)][_0x2c8170(0x56a)]+'):\x20Enviando\x20mídia');let _0x2bf596;if(_0x473285[_0x2c8170(0x6c9)][_0x2c8170(0x384)]&&_0x473285[_0x2c8170(0x6c9)][_0x2c8170(0x384)][_0x2c8170(0x7da)]>0x0){let _0x1288c3=this[_0x2c8170(0x2ce)](_0x473285[_0x2c8170(0x6c9)][_0x2c8170(0x384)]);_0x2bf596=await this[_0x2c8170(0x7e7)](_0x1288c3,_0x2ee9f1);}let _0x71fcd={'number':_0x2ee9f1,'options':{'delay':_0x473285['message']['delay'],'linkPreview':_0x473285[_0x2c8170(0x6c9)][_0x2c8170(0x3c3)]},'mediaMessage':{'mediatype':_0x473285[_0x2c8170(0x6c9)][_0x2c8170(0x322)],'caption':_0x2bf596,'media':_0x473285[_0x2c8170(0x6c9)][_0x2c8170(0x616)]}},_0x186e2a=null;try{let _0x2f14b2=await this[_0x2c8170(0x601)](_0x71fcd);if(_0x2f14b2&&_0x2f14b2[_0x2c8170(0x395)])return{'error':!0x1,'id':_0x2f14b2[_0x2c8170(0x283)]['id']};_0x186e2a=JSON[_0x2c8170(0x155)](_0x2f14b2),this[_0x2c8170(0x732)]['verbose'](this[_0x2c8170(0x1e0)]+'\x20('+this['instance'][_0x2c8170(0x56a)]+_0x2c8170(0x6cc)+_0x186e2a);}catch(_0x3d4dfb){this['logger'][_0x2c8170(0x2cb)](this['instanceName']+'\x20('+this[_0x2c8170(0x3f9)]['wuid']+_0x2c8170(0x417)+(_0x3d4dfb instanceof Error?_0x3d4dfb[_0x2c8170(0x6c9)]:JSON[_0x2c8170(0x155)](_0x3d4dfb,null,0x2))),_0x186e2a=_0x3d4dfb[_0x2c8170(0x6c9)];}if(_0x186e2a)return{'error':!0x0,'detail':(typeof _0x186e2a==_0x2c8170(0x646)?JSON['stringify'](_0x186e2a,null,0x2):_0x186e2a)[_0x2c8170(0x6eb)](/[\[\]{}\n]/g,'\x20')[_0x2c8170(0x6eb)](/  +/g,'\x20')};}async[a0_0x4fecf3(0x7bf)](_0x269348,_0x505bcd){const _0x3f8f03=a0_0x4fecf3;this[_0x3f8f03(0x732)]['verbose'](this[_0x3f8f03(0x1e0)]+'\x20('+this[_0x3f8f03(0x3f9)][_0x3f8f03(0x56a)]+_0x3f8f03(0x74f));let _0x4425c3={'number':_0x505bcd,'options':{'delay':_0x269348['message']['delay']},'audioMessage':{'audio':_0x269348[_0x3f8f03(0x6c9)][_0x3f8f03(0x616)]}},_0x8cbab5=null;try{let _0x48c379=await this[_0x3f8f03(0x36b)](_0x4425c3);if(_0x48c379&&_0x48c379[_0x3f8f03(0x395)])return{'error':!0x1,'id':_0x48c379['key']['id']};_0x8cbab5=JSON[_0x3f8f03(0x155)](_0x48c379),this['logger'][_0x3f8f03(0x769)](this[_0x3f8f03(0x1e0)]+'\x20('+this[_0x3f8f03(0x3f9)][_0x3f8f03(0x56a)]+_0x3f8f03(0x6cc)+_0x8cbab5);}catch(_0x3ee8b7){this[_0x3f8f03(0x732)]['error'](this['instanceName']+'\x20('+this[_0x3f8f03(0x3f9)][_0x3f8f03(0x56a)]+_0x3f8f03(0x73c)+(_0x3ee8b7 instanceof Error?_0x3ee8b7[_0x3f8f03(0x6c9)]:JSON[_0x3f8f03(0x155)](_0x3ee8b7,null,0x2))),_0x8cbab5=_0x3ee8b7['message'];}if(_0x8cbab5)return{'error':!0x0,'detail':(typeof _0x8cbab5==_0x3f8f03(0x646)?JSON[_0x3f8f03(0x155)](_0x8cbab5,null,0x2):_0x8cbab5)[_0x3f8f03(0x6eb)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},Ut=class c{constructor(_0x17aec9,_0x539a69,_0xd1eaa3){const _0x3d3876=a0_0x4fecf3;this[_0x3d3876(0x4b9)]=_0x17aec9,this[_0x3d3876(0x6e7)]=_0x539a69,this[_0x3d3876(0x35c)]=_0xd1eaa3,this['db']={},this[_0x3d3876(0x408)]={},this['logger']=new v(c[_0x3d3876(0x804)]),this[_0x3d3876(0x5cb)]={},(this[_0x3d3876(0x7bb)](),this['noConnection'](),Object[_0x3d3876(0x5c3)](this['db'],_0x539a69[_0x3d3876(0x46f)](_0x3d3876(0x19a))),Object[_0x3d3876(0x5c3)](this['redis'],_0x539a69[_0x3d3876(0x46f)](_0x3d3876(0x489))),this[_0x3d3876(0x664)]=this['db'][_0x3d3876(0x3c6)]?this[_0x3d3876(0x35c)][_0x3d3876(0x269)]?.['db'](this['db'][_0x3d3876(0x2ac)]['DB_PREFIX_NAME']+_0x3d3876(0x6f7)):void 0x0,this['cache']=this[_0x3d3876(0x408)]['ENABLED']?new ne(this[_0x3d3876(0x408)]):void 0x0);}async[a0_0x4fecf3(0x461)](_0x3b17ad){const _0x3e92e6=a0_0x4fecf3;if(_0x3b17ad&&!this[_0x3e92e6(0x5cb)][_0x3b17ad])throw new j('Instance\x20\x22'+_0x3b17ad+_0x3e92e6(0x7ea));let _0x1c3666=[];for await(let [_0x157e04,_0x157084]of Object[_0x3e92e6(0x4ef)](this[_0x3e92e6(0x5cb)]))if(_0x157084&&_0x157084[_0x3e92e6(0x3c2)][_0x3e92e6(0x15c)]==='open'){let _0x339514=await this[_0x3e92e6(0x35c)][_0x3e92e6(0x585)][_0x3e92e6(0x201)](_0x157e04);_0x1c3666['push']({'instance':{'instanceName':_0x157e04,'apikey':_0x339514[_0x3e92e6(0x20b)],'owner':_0x157084[_0x3e92e6(0x56a)],'profileName':await _0x157084[_0x3e92e6(0x7ee)]()||'not\x20loaded','profilePictureUrl':_0x157084[_0x3e92e6(0x47a)]}});}return _0x1c3666[_0x3e92e6(0x201)](_0x10af4c=>_0x10af4c[_0x3e92e6(0x3f9)]['instanceName']===_0x3b17ad)??_0x1c3666;}async[a0_0x4fecf3(0x304)](_0x366c09){const _0x2288ca=a0_0x4fecf3;if(this['db']['ENABLED']&&(await this[_0x2288ca(0x35c)][_0x2288ca(0x269)][_0x2288ca(0x193)](),(await this['dbInstance'][_0x2288ca(0x603)]())['length']>0x0&&await this[_0x2288ca(0x664)][_0x2288ca(0x3e7)](_0x366c09)),this['redis'][_0x2288ca(0x3c6)]){this[_0x2288ca(0x1c3)]['reference']=_0x366c09,await this[_0x2288ca(0x1c3)][_0x2288ca(0x5a9)]();return;}}async[a0_0x4fecf3(0x624)](){const _0x97861a=a0_0x4fecf3;await this[_0x97861a(0x2e3)]();let _0x25111f=async _0x5a5e3c=>{const _0x2d7e27=_0x97861a;let _0x100b2a=new be(this[_0x2d7e27(0x6e7)],this[_0x2d7e27(0x4b9)],this[_0x2d7e27(0x35c)]);_0x100b2a[_0x2d7e27(0x1e0)]=_0x5a5e3c,await _0x100b2a[_0x2d7e27(0x723)](),this[_0x2d7e27(0x5cb)][_0x5a5e3c]=_0x100b2a;};try{if(this[_0x97861a(0x408)][_0x97861a(0x3c6)]){let _0x5a4eca=await this[_0x97861a(0x1c3)][_0x97861a(0x1a1)]();_0x5a4eca?.['length']>0x0&&_0x5a4eca[_0x97861a(0x697)](async _0xdf5905=>await _0x25111f(_0xdf5905[_0x97861a(0x579)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x97861a(0x35c)][_0x97861a(0x269)][_0x97861a(0x193)]();let _0x28e493=await this[_0x97861a(0x664)][_0x97861a(0x603)]();_0x28e493[_0x97861a(0x7da)]>0x0&&_0x28e493['forEach'](async _0x2b63ab=>await _0x25111f(_0x2b63ab['namespace'][_0x97861a(0x6eb)](/^[\w-]+\./,'')));return;}}catch(_0x337988){this['logger'][_0x97861a(0x2cb)](_0x337988);}}async[a0_0x4fecf3(0x51a)](){const _0xb9104c=a0_0x4fecf3;let _0x3df741=await this[_0xb9104c(0x35c)][_0xb9104c(0x585)]['findAll'](),_0x150068=_0x3df741[_0xb9104c(0x6b9)](_0x3e8d00=>!this[_0xb9104c(0x5cb)][_0x3e8d00[_0xb9104c(0x4d1)]]&&(_0x3e8d00[_0xb9104c(0x606)]||typeof _0x3e8d00[_0xb9104c(0x606)]>'u'));_0x150068[_0xb9104c(0x7da)]>0x0&&await Promise[_0xb9104c(0x5dd)](_0x150068['map'](async _0x459946=>{const _0x5e8ed5=_0xb9104c;let _0x5bc083={'online':!0x1,'lastDisconnect':Date['now']()};await this[_0x5e8ed5(0x35c)][_0x5e8ed5(0x585)][_0x5e8ed5(0x187)](_0x5bc083,_0x459946['_id']);}));let _0x58b957=Date[_0xb9104c(0x587)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x1c923e=_0x3df741[_0xb9104c(0x6b9)](_0x38d108=>!this['waInstances'][_0x38d108['_id']]&&typeof _0x38d108['lastDisconnect']<'u'&&_0x38d108['lastDisconnect']<_0x58b957);_0x1c923e[_0xb9104c(0x7da)]>0x0&&await Promise['all'](_0x1c923e[_0xb9104c(0x428)](async _0xce4bf2=>{}));}async[a0_0x4fecf3(0x2e3)](){const _0x28e84f=a0_0x4fecf3;try{let _0x26b8e7={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x568311={'online':!0x1,'lastDisconnect':Date[_0x28e84f(0x587)]()},_0x1aba1f=await this[_0x28e84f(0x35c)][_0x28e84f(0x585)][_0x28e84f(0x549)](_0x26b8e7,_0x568311);console['log'](_0x28e84f(0x762)+_0x1aba1f['insertCount']),await this[_0x28e84f(0x474)]();}catch(_0xd33d68){console[_0x28e84f(0x2cb)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0xd33d68);}}async[a0_0x4fecf3(0x474)](){const _0x3861ef=a0_0x4fecf3;try{let _0x5eb576={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x1f5a2f=await this[_0x3861ef(0x35c)][_0x3861ef(0x585)][_0x3861ef(0x717)](_0x5eb576);console['log']('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x1f5a2f[_0x3861ef(0x42c)]);}catch(_0x58a379){console[_0x3861ef(0x2cb)](_0x3861ef(0x3be),_0x58a379);}}[a0_0x4fecf3(0x7bb)](){const _0x403884=a0_0x4fecf3;this[_0x403884(0x4b9)]['on'](_0x403884(0x3fb),async _0x2a6510=>{const _0x1687cc=_0x403884;try{this[_0x1687cc(0x5cb)][_0x2a6510]=void 0x0;}catch{}try{this[_0x1687cc(0x304)](_0x2a6510);}finally{this[_0x1687cc(0x732)][_0x1687cc(0x70e)](_0x1687cc(0x2ed)+_0x2a6510+_0x1687cc(0x584));}});}['noConnection'](){const _0x301860=a0_0x4fecf3;this[_0x301860(0x4b9)]['on'](_0x301860(0x3e4),async _0x57e839=>{const _0x19994b=_0x301860;try{this[_0x19994b(0x5cb)][_0x57e839]=void 0x0;}catch{}try{this[_0x19994b(0x304)](_0x57e839);}finally{this[_0x19994b(0x732)][_0x19994b(0x70e)](_0x19994b(0x2ed)+_0x57e839+_0x19994b(0x35f));}});}},qt=class extends D{['getChatModelForOwner'](_0x1d5419){return Qs(_0x1d5419);}async[a0_0x4fecf3(0x462)](_0x239df6){const _0x15b21f=a0_0x4fecf3;if(_0x239df6[_0x15b21f(0x7da)]!==0x0)try{return{'insertCount':(await this[_0x15b21f(0x37f)](_0x239df6[0x0]['owner'])[_0x15b21f(0x688)]([..._0x239df6]))['length']};}catch(_0x16dbf3){return _0x16dbf3;}}async[a0_0x4fecf3(0x201)](_0x2b5101,_0x1d851d){const _0x419342=a0_0x4fecf3;try{let _0x3a1d40=this[_0x419342(0x37f)](_0x1d851d),_0x47fcbd=A(_0x2b5101[_0x419342(0x73e)]);return await _0x3a1d40[_0x419342(0x201)](_0x47fcbd)[_0x419342(0x374)]({'lastmsg':-0x1})[_0x419342(0x2d4)](_0x2b5101?.[_0x419342(0x2d4)]??0x0)[_0x419342(0x531)]();}catch{return[];}}async[a0_0x4fecf3(0x1c0)](_0x34ceec,_0x45844e){const _0x9a84dd=a0_0x4fecf3;try{return{'deletedCount':(await this[_0x9a84dd(0x37f)](_0x45844e)[_0x9a84dd(0x717)]({..._0x34ceec['where']}))[_0x9a84dd(0x7b8)]};}catch(_0x265fac){return{'error':_0x265fac?.[_0x9a84dd(0x2c2)]()};}}async[a0_0x4fecf3(0x270)](_0x62d82f,_0x2241d1){const _0xc94093=a0_0x4fecf3;try{return await this[_0xc94093(0x37f)](_0x2241d1)[_0xc94093(0x717)]({..._0x62d82f[_0xc94093(0x73e)]}),[];}catch(_0x392a32){return{'error':_0x392a32?.['toString']()};}}async[a0_0x4fecf3(0x338)](_0x383a5c,_0x2537be){const _0x438562=a0_0x4fecf3;try{let _0x4dfd43=this[_0x438562(0x37f)](_0x2537be),_0x47d8cb=A(_0x383a5c[_0x438562(0x73e)]);return await _0x4dfd43['findOne'](_0x47d8cb)[_0x438562(0x531)]();}catch{return null;}}async[a0_0x4fecf3(0x530)](_0x119d14,_0x497cd8,_0x713b6b,_0x537557,_0x49bef6='$set'){const _0x447226=a0_0x4fecf3;try{let _0x391301={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x537557},_0x811eec=this['getChatModelForOwner'](_0x713b6b),_0xccf886=A(_0x119d14[_0x447226(0x73e)]);Object[_0x447226(0x3bf)](_0x497cd8)[_0x447226(0x697)](_0x3e6779=>{_0x497cd8[_0x3e6779]==null&&delete _0x497cd8[_0x3e6779];});let _0x2298f2={};return _0x2298f2[_0x49bef6]=_0x497cd8,await _0x811eec[_0x447226(0x4c3)](_0xccf886,_0x2298f2,_0x391301);}catch(_0x287398){return console[_0x447226(0x2cb)](_0x287398),null;}}async['updateMany'](_0x16f94f){const _0x8e323d=a0_0x4fecf3;try{let _0x4df8a3=this['getChatModelForOwner'](_0x16f94f[0x0][_0x8e323d(0x2c0)][_0x8e323d(0x73e)]['owner']),_0x530aa0=_0x16f94f[_0x8e323d(0x428)](_0x4b144f=>({'updateOne':{'filter':{..._0x4b144f[_0x8e323d(0x2c0)][_0x8e323d(0x73e)]},'update':{'$set':_0x4b144f[_0x8e323d(0x724)]},'upsert':!0x0}})),_0x12df03=await _0x4df8a3[_0x8e323d(0x690)](_0x530aa0);return _0x12df03[_0x8e323d(0x312)]+_0x12df03[_0x8e323d(0x469)];}catch(_0x55fcc8){return console['error'](_0x55fcc8),0x0;}}async['updateMissingLabels'](_0x532b47){const _0x246e21=a0_0x4fecf3;try{let _0x44fa31=this[_0x246e21(0x37f)](_0x532b47),_0x14db58={'labels':{'$exists':!0x0}},_0x47a9ae={'$unset':{'labels':''}};return(await _0x44fa31[_0x246e21(0x152)](_0x14db58,_0x47a9ae))[_0x246e21(0x312)];}catch(_0x2bac40){return console['error'](_0x2bac40),0x0;}}async['updateMissingEtiquetas'](_0x428129){const _0x42b8e3=a0_0x4fecf3;try{let _0x42aae6=this[_0x42b8e3(0x37f)](_0x428129),_0xcbde43={'leadInfo.etiquetas':{'$exists':!0x1}},_0x16e9a3={'$set':{'leadInfo.etiquetas':[]}};return(await _0x42aae6[_0x42b8e3(0x152)](_0xcbde43,_0x16e9a3))[_0x42b8e3(0x312)];}catch(_0x4fb439){return console[_0x42b8e3(0x2cb)](_0x4fb439),0x0;}}async[a0_0x4fecf3(0x43b)](_0xdac6ea){const _0x5bbd14=a0_0x4fecf3;try{let _0x58d75e=this[_0x5bbd14(0x37f)](_0xdac6ea),_0x3761e1={'leadInfo.tags':{'$exists':!0x1}},_0x19adc6={'$set':{'leadInfo.tags':[]}};return(await _0x58d75e[_0x5bbd14(0x152)](_0x3761e1,_0x19adc6))[_0x5bbd14(0x312)];}catch(_0x383649){return console[_0x5bbd14(0x2cb)](_0x383649),0x0;}}async[a0_0x4fecf3(0x739)](_0x3e98c9){const _0x239fb9=a0_0x4fecf3;try{let _0x19dee9=this[_0x239fb9(0x37f)](_0x3e98c9),_0x50cc80={'leadInfo.customFields':{'$exists':!0x1}},_0x15ba48={'$set':{'leadInfo.customFields':[]}};return(await _0x19dee9[_0x239fb9(0x152)](_0x50cc80,_0x15ba48))['modifiedCount'];}catch(_0x2f6eaf){return console[_0x239fb9(0x2cb)](_0x2f6eaf),0x0;}}async[a0_0x4fecf3(0x688)](_0xce744a,_0x50eff2){const _0x5de3f2=a0_0x4fecf3;if(!Array[_0x5de3f2(0x5ff)](_0xce744a)||_0xce744a[_0x5de3f2(0x7da)]===0x0)throw new Error(_0x5de3f2(0x222));try{return(await this[_0x5de3f2(0x37f)](_0x50eff2)['insertMany'](_0xce744a))[_0x5de3f2(0x7da)];}catch(_0x3d0be4){throw console[_0x5de3f2(0x2cb)](_0x5de3f2(0x598),_0x3d0be4),_0x3d0be4;}}async['deleteChat'](_0x2cba6f,_0x3fe1d6){const _0xbcc306=a0_0x4fecf3;try{await this['getChatModelForOwner'](_0x3fe1d6)[_0xbcc306(0x6d3)]({'_id':_0x2cba6f});}catch(_0x391210){throw console[_0xbcc306(0x2cb)](_0xbcc306(0x292),_0x391210),_0x391210;}}},Jt=class extends D{constructor(_0x57af44,_0x4ecb58,_0x3fccf8){const _0x2e9ebc=a0_0x4fecf3;super(_0x4ecb58),this['cacheContactModel']=_0x57af44,this[_0x2e9ebc(0x6e7)]=_0x4ecb58,this['dbConnection']=_0x3fccf8;}async[a0_0x4fecf3(0x462)](_0x4ca33d){const _0x46b74c=a0_0x4fecf3;if(_0x4ca33d[_0x46b74c(0x7da)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x46b74c(0x688)]([..._0x4ca33d]))[_0x46b74c(0x7da)]};}catch(_0x3453de){return _0x3453de;}}async[a0_0x4fecf3(0x724)](_0x578909,_0x473517){const _0x2c0cf5=a0_0x4fecf3;try{let _0x59787d=A(_0x578909['where']);return{'updatedCount':(await this[_0x2c0cf5(0x175)][_0x2c0cf5(0x152)](_0x59787d,{'$set':_0x473517}))[_0x2c0cf5(0x312)]};}catch(_0x5e9781){return console[_0x2c0cf5(0x2cb)](_0x2c0cf5(0x375),_0x5e9781),{'error':_0x5e9781[_0x2c0cf5(0x2c2)]()};}}async[a0_0x4fecf3(0x2e1)](_0x586106){const _0x114d9f=a0_0x4fecf3;try{let _0x282876={'_id':{'$in':_0x586106}};return await this[_0x114d9f(0x175)][_0x114d9f(0x201)](_0x282876)[_0x114d9f(0x531)]();}catch(_0x7888cf){return console[_0x114d9f(0x2cb)](_0x114d9f(0x65a),_0x7888cf),[];}}async['delete'](_0x49eb35){const _0x186696=a0_0x4fecf3;try{return{'deletedCount':(await this[_0x186696(0x175)][_0x186696(0x717)]({..._0x49eb35[_0x186696(0x73e)]}))['deletedCount']};}catch(_0x5ec14b){return{'error':_0x5ec14b?.[_0x186696(0x2c2)]()};}}async[a0_0x4fecf3(0x201)](_0x4fed45){const _0x4839a5=a0_0x4fecf3;try{let _0x1240a3=A(_0x4fed45[_0x4839a5(0x73e)]);return await this['cacheContactModel']['find'](_0x1240a3)[_0x4839a5(0x2d4)](_0x4fed45?.[_0x4839a5(0x2d4)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x47e686){const _0x55f5f3=a0_0x4fecf3;try{let _0x4b6ce2=A(_0x47e686[_0x55f5f3(0x73e)]);return await this[_0x55f5f3(0x175)][_0x55f5f3(0x338)](_0x4b6ce2)[_0x55f5f3(0x531)]();}catch{return null;}}},Vt=class extends D{[a0_0x4fecf3(0x702)](_0x54283b){return Ea(_0x54283b);}async[a0_0x4fecf3(0x530)](_0xfff0cb,_0x561853,_0x148f08,_0x448e65){const _0x30592a=a0_0x4fecf3;try{let _0x47a311={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x448e65},_0x99e55e=this[_0x30592a(0x702)](_0x148f08),_0x30022e=A(_0xfff0cb[_0x30592a(0x73e)]);return await _0x99e55e['findOneAndUpdate'](_0x30022e,{'$set':_0x561853},_0x47a311);}catch(_0x3edecf){return console['error'](_0x3edecf),null;}}async[a0_0x4fecf3(0x201)](_0x2c16b9,_0x253854){const _0x51e8a5=a0_0x4fecf3;try{let _0x5636ad=this[_0x51e8a5(0x702)](_0x253854),_0x43f78b=A(_0x2c16b9['where']);return await _0x5636ad[_0x51e8a5(0x201)](_0x43f78b);}catch(_0xb4822c){console[_0x51e8a5(0x2cb)](_0xb4822c);}}async[a0_0x4fecf3(0x1c0)](_0x42ad19,_0x408354){const _0x39709f=a0_0x4fecf3;try{let _0x3ce128=this[_0x39709f(0x702)](_0x408354),_0x28fd89=A(_0x42ad19[_0x39709f(0x73e)]);await _0x3ce128['deleteMany'](_0x28fd89);}catch(_0x5bf55d){console['error'](_0x5bf55d);}}async[a0_0x4fecf3(0x270)](_0x16d1af){const _0xb2e919=a0_0x4fecf3;try{return await this[_0xb2e919(0x702)](_0x16d1af)['collection']['drop'](),{'success':!0x0};}catch(_0x412590){return console[_0xb2e919(0x2cb)](_0x412590),{'success':!0x1,'error':_0x412590};}}},Bt=class{constructor(_0x44216c){const _0x2ffc7f=a0_0x4fecf3;this[_0x2ffc7f(0x2b8)]=_0x44216c;}async[a0_0x4fecf3(0x76f)]({instanceName:_0x51344a},_0xf38dba){const _0x359050=a0_0x4fecf3;return await this[_0x359050(0x2b8)]['waInstances'][_0x51344a][_0x359050(0x76f)](_0xf38dba);}async['whatsappNumber']({instanceName:_0x52c3cd},_0x2d6ee7){const _0x476d45=a0_0x4fecf3;return await this[_0x476d45(0x2b8)][_0x476d45(0x5cb)][_0x52c3cd][_0x476d45(0x45b)](_0x2d6ee7);}async[a0_0x4fecf3(0x59f)]({instanceName:_0x3f47b0},_0x1e1238){const _0xbbe272=a0_0x4fecf3;return await this['waMonitor'][_0xbbe272(0x5cb)][_0x3f47b0][_0xbbe272(0x59f)](_0x1e1238);}async[a0_0x4fecf3(0x348)]({instanceName:_0x261e48},_0x5b3c43){const _0x5efcee=a0_0x4fecf3;return await this[_0x5efcee(0x2b8)]['waInstances'][_0x261e48][_0x5efcee(0x21f)](_0x5b3c43);}async[a0_0x4fecf3(0x2c9)]({instanceName:_0x24f0f5},_0x57dce6){const _0x139b7d=a0_0x4fecf3;return await this['waMonitor'][_0x139b7d(0x5cb)][_0x24f0f5][_0x139b7d(0x2c9)](_0x57dce6);}async[a0_0x4fecf3(0x3fc)]({instanceName:_0x5873fa},_0x40fe3e){const _0x3b9e39=a0_0x4fecf3;return await this[_0x3b9e39(0x2b8)][_0x3b9e39(0x5cb)][_0x5873fa][_0x3b9e39(0x3fc)](_0x40fe3e);}async[a0_0x4fecf3(0x818)]({instanceName:_0x1630e9},_0x42a52b){const _0x5bedac=a0_0x4fecf3;return await this[_0x5bedac(0x2b8)]['waInstances'][_0x1630e9][_0x5bedac(0x5e5)](_0x42a52b[_0x5bedac(0x816)]);}async[a0_0x4fecf3(0x6d9)]({instanceName:_0x48e871},_0x263f5c){const _0x111408=a0_0x4fecf3;return await this['waMonitor']['waInstances'][_0x48e871][_0x111408(0x6d9)](_0x263f5c[_0x111408(0x816)]);}async[a0_0x4fecf3(0x35d)]({instanceName:_0x1b3886},_0x5a5c35){const _0x4e3391=a0_0x4fecf3;return await this['waMonitor'][_0x4e3391(0x5cb)][_0x1b3886][_0x4e3391(0x35d)](_0x5a5c35);}async['fetchContacts']({instanceName:_0x3ae3d7},_0x1b9b2b){const _0x3e9834=a0_0x4fecf3;return await this[_0x3e9834(0x2b8)]['waInstances'][_0x3ae3d7]['fetchContacts'](_0x1b9b2b);}async[a0_0x4fecf3(0x5e8)]({instanceName:_0x2421c0},_0x27a33e){const _0x34f24d=a0_0x4fecf3;return await this[_0x34f24d(0x2b8)][_0x34f24d(0x5cb)][_0x2421c0][_0x34f24d(0x5e8)](_0x27a33e);}async[a0_0x4fecf3(0x505)]({instanceName:_0x9d3915},_0x55c0e7){const _0x2a4651=a0_0x4fecf3;return await this['waMonitor'][_0x2a4651(0x5cb)][_0x9d3915]['fetchMessages'](_0x55c0e7);}async[a0_0x4fecf3(0x740)]({instanceName:_0x2bcdb0}){const _0x5ea3eb=a0_0x4fecf3;return await this['waMonitor'][_0x5ea3eb(0x5cb)][_0x2bcdb0]['fetchLabels']();}async[a0_0x4fecf3(0x290)]({instanceName:_0xeb5dc3}){const _0x1a0400=a0_0x4fecf3;return await this[_0x1a0400(0x2b8)][_0x1a0400(0x5cb)][_0xeb5dc3][_0x1a0400(0x290)]();}async[a0_0x4fecf3(0x783)]({instanceName:_0x557664}){const _0x2056f3=a0_0x4fecf3;return await this[_0x2056f3(0x2b8)][_0x2056f3(0x5cb)][_0x557664]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x133afd},_0x384c67){const _0x155160=a0_0x4fecf3;return await this[_0x155160(0x2b8)][_0x155160(0x5cb)][_0x133afd][_0x155160(0x7f6)](_0x384c67);}async[a0_0x4fecf3(0x153)]({instanceName:_0x4b794e},_0x24e73b){const _0x168463=a0_0x4fecf3;return await this[_0x168463(0x2b8)][_0x168463(0x5cb)][_0x4b794e][_0x168463(0x153)](_0x24e73b[_0x168463(0x816)]);}async['updateProfileName']({instanceName:_0x3947a0},_0x31f624){const _0x4eb90c=a0_0x4fecf3;return await this[_0x4eb90c(0x2b8)][_0x4eb90c(0x5cb)][_0x3947a0][_0x4eb90c(0x40c)](_0x31f624[_0x4eb90c(0x804)]);}async[a0_0x4fecf3(0x439)]({instanceName:_0x288118},_0x2a907f){const _0x1bcab7=a0_0x4fecf3;return await this[_0x1bcab7(0x2b8)][_0x1bcab7(0x5cb)][_0x288118][_0x1bcab7(0x439)](_0x2a907f['status']);}async[a0_0x4fecf3(0x72d)]({instanceName:_0x5284b2},_0x30c979){const _0x3c1f0b=a0_0x4fecf3;return await this[_0x3c1f0b(0x2b8)][_0x3c1f0b(0x5cb)][_0x5284b2][_0x3c1f0b(0x72d)](_0x30c979[_0x3c1f0b(0x28d)]);}async[a0_0x4fecf3(0x44a)]({instanceName:_0x1a7ae2},_0x3fb8a2){const _0x57072f=a0_0x4fecf3;return await this[_0x57072f(0x2b8)][_0x57072f(0x5cb)][_0x1a7ae2][_0x57072f(0x44a)]();}},Ps=require(a0_0x4fecf3(0x715)),Gt=class c{constructor(_0x37e61b,_0x498ad3,_0x195ea3,_0x300dca,_0x2cad2b){const _0x4e1689=a0_0x4fecf3;this[_0x4e1689(0x2b8)]=_0x37e61b,this[_0x4e1689(0x6e7)]=_0x498ad3,this[_0x4e1689(0x35c)]=_0x195ea3,this[_0x4e1689(0x4b9)]=_0x300dca,this['authService']=_0x2cad2b,this['logger']=new v(c['name']);}async[a0_0x4fecf3(0x2fd)]({instanceName:_0x1bced2,apikey:_0x2cf898,number:_0xb1c29f,proxy:_0x37c11b=!0x0}){const _0x44577d=a0_0x4fecf3;try{let _0x2a70a0=new be(this[_0x44577d(0x6e7)],this['eventEmitter'],this['repository']);_0x2a70a0['instanceName']=_0x1bced2,this['waMonitor'][_0x44577d(0x5cb)][_0x2a70a0[_0x44577d(0x1e0)]]=_0x2a70a0;let _0x8695df={};_0x2cf898?(await this[_0x44577d(0x35c)][_0x44577d(0x585)][_0x44577d(0x187)]({'apikey':_0x2cf898},_0x1bced2),_0x8695df[_0x44577d(0x20b)]=_0x2cf898):_0x8695df=await this[_0x44577d(0x18c)]['generateHash']({'instanceName':_0x2a70a0[_0x44577d(0x1e0)]});let _0x114462;if(_0xb1c29f){if(_0x114462=await this[_0x44577d(0x6f2)](_0xb1c29f),_0x114462[_0x44577d(0x2cb)])throw new I(_0x114462[_0x44577d(0x2cb)]['toString']());_0xb1c29f=_0x114462[_0x44577d(0x816)];}let _0x296459;return await _0x2a70a0[_0x44577d(0x723)](_0xb1c29f),await(0x0,Ps[_0x44577d(0x377)])(0x7d0),_0x296459=_0x2a70a0[_0x44577d(0x55d)],{'instance':{'instanceName':_0x2a70a0[_0x44577d(0x1e0)],'status':_0x44577d(0x58c)},'hash':_0x8695df,'qrcode':_0x296459};}catch(_0x44d5aa){throw this[_0x44577d(0x732)][_0x44577d(0x2cb)](_0x44d5aa),_0x44d5aa;}}async[a0_0x4fecf3(0x623)]({instanceName:_0xf4b586,number:_0x448709=null}){const _0xe7fbe9=a0_0x4fecf3;try{let _0x4d8051=this[_0xe7fbe9(0x2b8)][_0xe7fbe9(0x5cb)][_0xf4b586];switch(_0x4d8051?.['connectionStatus']?.[_0xe7fbe9(0x15c)]){case _0xe7fbe9(0x291):return await _0x4d8051[_0xe7fbe9(0x723)](_0x448709),await(0x0,Ps['delay'])(0x7d0),_0x4d8051[_0xe7fbe9(0x55d)];case _0xe7fbe9(0x234):return _0x4d8051[_0xe7fbe9(0x55d)];default:return await this[_0xe7fbe9(0x6f1)]({'instanceName':_0xf4b586});}}catch(_0x2f133f){this['logger'][_0xe7fbe9(0x635)](_0x2f133f);}}async[a0_0x4fecf3(0x6f1)]({instanceName:_0x46964a}){const _0x277124=a0_0x4fecf3;let _0x201592=this[_0x277124(0x2b8)][_0x277124(0x5cb)][_0x46964a]['connectionStatus'],_0x21a88e=null;_0x201592[_0x277124(0x15c)]===_0x277124(0x413)&&_0x46964a&&(_0x21a88e=await this['waMonitor'][_0x277124(0x461)](_0x46964a));let _0x536db1=null;return _0x201592['state']===_0x277124(0x234)&&_0x46964a&&(_0x536db1=this['waMonitor'][_0x277124(0x5cb)][_0x46964a][_0x277124(0x55d)]),{'instance':_0x46964a,'connectionStatus':_0x201592,'instanceInfo':_0x21a88e,'qrcode':_0x536db1};}async[a0_0x4fecf3(0x6f2)](_0x1ba704){const _0x5845c9=a0_0x4fecf3;_0x1ba704=_0x1ba704[_0x5845c9(0x6eb)](/\D/g,'');let _0x193c42=Object['keys'](this[_0x5845c9(0x2b8)][_0x5845c9(0x5cb)])[_0x5845c9(0x6b9)](_0x52ddf2=>{const _0x1776e9=_0x5845c9;let _0x406bfa=this['waMonitor'][_0x1776e9(0x5cb)][_0x52ddf2];return _0x406bfa&&_0x406bfa['connectionStatus']&&_0x406bfa[_0x1776e9(0x3c2)][_0x1776e9(0x15c)]===_0x1776e9(0x413);});if(_0x193c42['length']===0x0)return{'number':this[_0x5845c9(0x6ba)](_0x1ba704)};let _0x299563=Math[_0x5845c9(0x63d)](Math[_0x5845c9(0x5fe)]()*_0x193c42[_0x5845c9(0x7da)]),_0x479eb5=_0x193c42[_0x299563];try{let _0x132473=(await this[_0x5845c9(0x2b8)][_0x5845c9(0x5cb)][_0x479eb5][_0x5845c9(0x45b)]({'numbers':[_0x1ba704]}))[_0x5845c9(0x192)]();return _0x132473['exists']?{'number':_0x132473['jid'][_0x5845c9(0x6eb)]('@s.whatsapp.net','')}:{'number':_0x1ba704,'error':_0x5845c9(0x696)};}catch(_0x3dc9a8){return this[_0x5845c9(0x732)][_0x5845c9(0x2cb)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x3dc9a8),{'number':_0x1ba704,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}['formatBRNumber'](_0x1d49b6){const _0x57c4ad=a0_0x4fecf3;let _0x1e5031=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x57c4ad(0x57c)](_0x1d49b6);if(_0x1e5031&&_0x1e5031[0x1]==='55'){let _0x3816e6=_0x1e5031[0x2],_0x5e1566=_0x1e5031[0x3],_0x16c46c=_0x1e5031[0x4];if(parseInt(_0x3816e6)>=0x1f&&_0x5e1566==='9')return _0x1e5031[0x1]+_0x3816e6+_0x16c46c;}return _0x1d49b6;}async[a0_0x4fecf3(0x382)]({instanceName:_0x584a84}){const _0x19bf68=a0_0x4fecf3;try{return this[_0x19bf68(0x2b8)][_0x19bf68(0x5cb)][_0x584a84]?.[_0x19bf68(0x43e)]?.['ws']?.['close'](),{'status':_0x19bf68(0x787),'error':!0x1,'response':{'message':_0x19bf68(0x778)}};}catch(_0x5cc5fb){this[_0x19bf68(0x732)][_0x19bf68(0x2cb)](_0x5cc5fb);}}async[a0_0x4fecf3(0x4a6)]({instanceName:_0x2c3870}){const _0xeb65c8=a0_0x4fecf3;return _0x2c3870?this['waMonitor'][_0xeb65c8(0x461)](_0x2c3870):this[_0xeb65c8(0x2b8)][_0xeb65c8(0x461)]();}async['logout']({instanceName:_0x180450}){const _0x3a025f=a0_0x4fecf3;try{return await this[_0x3a025f(0x2b8)]['waInstances'][_0x180450]?.[_0x3a025f(0x43e)]?.[_0x3a025f(0x6a0)](_0x3a025f(0x61b)+_0x180450),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x48ba90){throw new I(_0x48ba90[_0x3a025f(0x2c2)]());}}async[a0_0x4fecf3(0x3ac)]({instanceName:_0x52a20f}){const _0x433013=a0_0x4fecf3;if((await this[_0x433013(0x6f1)]({'instanceName':_0x52a20f}))[_0x433013(0x3c2)][_0x433013(0x15c)]==='open')throw new w([_0x433013(0x745),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x433013(0x2b8)][_0x433013(0x5cb)][_0x52a20f],{'error':!0x1,'message':_0x433013(0x4f1)};}catch(_0x44df24){throw new w(_0x44df24[_0x433013(0x2c2)]());}}},ee=require(a0_0x4fecf3(0x7df)),Wt=class{constructor(_0x44bb28){const _0x588484=a0_0x4fecf3;this[_0x588484(0x2b8)]=_0x44bb28;}async['sendText']({instanceName:_0x4778e5},_0x42295a){const _0x115994=a0_0x4fecf3;return await this[_0x115994(0x2b8)][_0x115994(0x5cb)][_0x4778e5][_0x115994(0x308)](_0x42295a);}async['sendMenu']({instanceName:_0x5823a5},_0x4e21ba){const _0x2b4da0=a0_0x4fecf3;return await this[_0x2b4da0(0x2b8)][_0x2b4da0(0x5cb)][_0x5823a5][_0x2b4da0(0x4e0)](_0x4e21ba);}async['sendMedia']({instanceName:_0x26a917},_0x5d2bd5){const _0x5d1940=a0_0x4fecf3;if((0x0,ee['isBase64'])(_0x5d2bd5?.[_0x5d1940(0x601)]?.[_0x5d1940(0x7cf)])&&!_0x5d2bd5?.[_0x5d1940(0x601)]?.[_0x5d1940(0x3e1)])throw new w(_0x5d1940(0x2f5));if((0x0,ee[_0x5d1940(0x68c)])(_0x5d2bd5?.['mediaMessage']?.[_0x5d1940(0x7cf)])||(0x0,ee[_0x5d1940(0x5a8)])(_0x5d2bd5?.[_0x5d1940(0x601)]?.[_0x5d1940(0x7cf)]))return await this[_0x5d1940(0x2b8)]['waInstances'][_0x26a917][_0x5d1940(0x601)](_0x5d2bd5);throw new w(_0x5d1940(0x5dc));}async['sendSticker']({instanceName:_0x2ca82a},_0x53b0c2){const _0x420762=a0_0x4fecf3;if((0x0,ee[_0x420762(0x68c)])(_0x53b0c2[_0x420762(0x763)][_0x420762(0x543)])||(0x0,ee['isBase64'])(_0x53b0c2['stickerMessage'][_0x420762(0x543)]))return await this[_0x420762(0x2b8)][_0x420762(0x5cb)][_0x2ca82a][_0x420762(0x599)](_0x53b0c2);throw new w(_0x420762(0x5dc));}async['sendWhatsAppAudio']({instanceName:_0x5962f0},_0x57e8a4){const _0x4a37ef=a0_0x4fecf3;if((0x0,ee[_0x4a37ef(0x68c)])(_0x57e8a4[_0x4a37ef(0x4f6)][_0x4a37ef(0x81b)])||(0x0,ee[_0x4a37ef(0x5a8)])(_0x57e8a4[_0x4a37ef(0x4f6)][_0x4a37ef(0x81b)]))return await this[_0x4a37ef(0x2b8)][_0x4a37ef(0x5cb)][_0x5962f0]['audioWhatsapp'](_0x57e8a4);throw new w(_0x4a37ef(0x5dc));}async[a0_0x4fecf3(0x373)]({instanceName:_0xf27cbd},_0x1aed1c){const _0x107c1d=a0_0x4fecf3;if((0x0,ee[_0x107c1d(0x5a8)])(_0x1aed1c[_0x107c1d(0x57b)][_0x107c1d(0x601)]?.[_0x107c1d(0x7cf)])&&!_0x1aed1c['buttonMessage'][_0x107c1d(0x601)]?.[_0x107c1d(0x3e1)])throw new w(_0x107c1d(0x2f5));return await this[_0x107c1d(0x2b8)][_0x107c1d(0x5cb)][_0xf27cbd][_0x107c1d(0x57b)](_0x1aed1c);}async['sendLocation']({instanceName:_0x55ab72},_0x5e9285){const _0x50bac3=a0_0x4fecf3;return await this[_0x50bac3(0x2b8)]['waInstances'][_0x55ab72][_0x50bac3(0x60f)](_0x5e9285);}async[a0_0x4fecf3(0x522)]({instanceName:_0xbe6a42},_0x1938fb){const _0x4058fd=a0_0x4fecf3;return await this[_0x4058fd(0x2b8)][_0x4058fd(0x5cb)][_0xbe6a42]['pollMessage'](_0x1938fb);}async['sendList']({instanceName:_0x500d78},_0x1818fe){const _0x293fd3=a0_0x4fecf3;return await this[_0x293fd3(0x2b8)][_0x293fd3(0x5cb)][_0x500d78][_0x293fd3(0x4d0)](_0x1818fe);}async[a0_0x4fecf3(0x7d9)]({instanceName:_0x244275},_0x12f5ed){const _0x2c7e7f=a0_0x4fecf3;return await this[_0x2c7e7f(0x2b8)][_0x2c7e7f(0x5cb)][_0x244275][_0x2c7e7f(0x316)](_0x12f5ed);}async[a0_0x4fecf3(0x260)]({instanceName:_0x5c6df3},_0x26d162){const _0x5aec4a=a0_0x4fecf3;if(!_0x26d162[_0x5aec4a(0x786)][_0x5aec4a(0x710)][_0x5aec4a(0x637)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x5aec4a(0x389));return await this[_0x5aec4a(0x2b8)][_0x5aec4a(0x5cb)][_0x5c6df3]['reactionMessage'](_0x26d162);}async['sendStatus']({instanceName:_0x5849cd},_0x234a35){const _0x299bcd=a0_0x4fecf3;return await this[_0x299bcd(0x2b8)]['waInstances'][_0x5849cd][_0x299bcd(0x58d)](_0x234a35);}},Dr=require(a0_0x4fecf3(0x274)),$s=require('uuid'),zt=class c{constructor(_0x44686d,_0xef5508,_0x9dcc05){const _0xe59be9=a0_0x4fecf3;this['configService']=_0x44686d,this['waMonitor']=_0xef5508,this[_0xe59be9(0x35c)]=_0x9dcc05,this['logger']=new v(c[_0xe59be9(0x804)]);}async[a0_0x4fecf3(0x2c1)](_0x40920a){const _0x37546b=a0_0x4fecf3;let _0x1c0beb=this['configService'][_0x37546b(0x46f)](_0x37546b(0x2a8))[_0x37546b(0x575)],_0x3c58c6=(0x0,Dr[_0x37546b(0x483)])({'instanceName':_0x40920a[_0x37546b(0x1e0)],'apiName':Ze,'tokenId':(0x0,$s['v4'])()},_0x1c0beb[_0x37546b(0x440)],{'expiresIn':_0x1c0beb[_0x37546b(0x520)],'encoding':_0x37546b(0x52b),'subject':'g-t'}),_0x1de9e6=await this[_0x37546b(0x35c)]['auth']['create']({'jwt':_0x3c58c6},_0x40920a[_0x37546b(0x1e0)]);if(_0x1de9e6[_0x37546b(0x2cb)])throw this[_0x37546b(0x732)][_0x37546b(0x2cb)]({'localError':c[_0x37546b(0x804)]+_0x37546b(0x3f2),'error':_0x1de9e6[_0x37546b(0x2cb)]}),new w(_0x37546b(0x669),_0x1de9e6['error']?.[_0x37546b(0x2c2)]());return{'jwt':_0x3c58c6};}async[a0_0x4fecf3(0x20b)](_0x31588a){const _0x1cd66a=a0_0x4fecf3;let _0x2b44fc=(0x0,$s['v4'])()[_0x1cd66a(0x56c)](),_0x3bb06d=await this[_0x1cd66a(0x35c)]['auth'][_0x1cd66a(0x187)]({'apikey':_0x2b44fc},_0x31588a[_0x1cd66a(0x1e0)]);if(_0x3bb06d['error'])throw this[_0x1cd66a(0x732)][_0x1cd66a(0x2cb)]({'localError':c[_0x1cd66a(0x804)]+'.jwt','error':_0x3bb06d[_0x1cd66a(0x2cb)]}),new w(_0x1cd66a(0x669),_0x3bb06d['error']?.[_0x1cd66a(0x2c2)]());return{'apikey':_0x2b44fc};}async[a0_0x4fecf3(0x7cd)](_0x13e457){const _0x2e8ce9=a0_0x4fecf3;let _0x275f15=this[_0x2e8ce9(0x6e7)][_0x2e8ce9(0x46f)](_0x2e8ce9(0x2a8));return await this[_0x275f15[_0x2e8ce9(0x2d9)]](_0x13e457);}},Ht=class{constructor(_0x2f8989){this['waMonitor']=_0x2f8989;}async[a0_0x4fecf3(0x213)](_0x508ae0,_0x24c6d1){const _0x2d988d=a0_0x4fecf3;return await this['waMonitor'][_0x2d988d(0x5cb)][_0x508ae0['instanceName']][_0x2d988d(0x213)](_0x24c6d1);}async['updateGroupPicture'](_0x4f14cd,_0xe8a463){const _0x53233e=a0_0x4fecf3;return await this[_0x53233e(0x2b8)][_0x53233e(0x5cb)][_0x4f14cd[_0x53233e(0x1e0)]][_0x53233e(0x66d)](_0xe8a463);}async[a0_0x4fecf3(0x29e)](_0x367d79,_0x260247){const _0x5de797=a0_0x4fecf3;return await this['waMonitor']['waInstances'][_0x367d79[_0x5de797(0x1e0)]][_0x5de797(0x29e)](_0x260247);}async[a0_0x4fecf3(0x502)](_0x35e397,_0x2f59e7){const _0x57721e=a0_0x4fecf3;return await this[_0x57721e(0x2b8)][_0x57721e(0x5cb)][_0x35e397[_0x57721e(0x1e0)]][_0x57721e(0x502)](_0x2f59e7);}async[a0_0x4fecf3(0x183)](_0x17d4cf,_0x6db48e){const _0x311afc=a0_0x4fecf3;return await this[_0x311afc(0x2b8)][_0x311afc(0x5cb)][_0x17d4cf[_0x311afc(0x1e0)]][_0x311afc(0x183)](_0x6db48e);}async['groupSetting'](_0x37fdbe,_0x333d8e){const _0x4f91f6=a0_0x4fecf3;return await this[_0x4f91f6(0x2b8)]['waInstances'][_0x37fdbe[_0x4f91f6(0x1e0)]]['groupSetting'](_0x333d8e);}async['findGroupInfo'](_0x2798ff,_0x41e39d){const _0x4abbaf=a0_0x4fecf3;return await this[_0x4abbaf(0x2b8)][_0x4abbaf(0x5cb)][_0x2798ff[_0x4abbaf(0x1e0)]][_0x4abbaf(0x716)](_0x41e39d);}async[a0_0x4fecf3(0x1ac)](_0xdc79e1){const _0x36cee1=a0_0x4fecf3;return await this[_0x36cee1(0x2b8)][_0x36cee1(0x5cb)][_0xdc79e1[_0x36cee1(0x1e0)]][_0x36cee1(0x1ac)]();}async['inviteCode'](_0x46a172,_0x597335){const _0xb1b0e=a0_0x4fecf3;return await this[_0xb1b0e(0x2b8)][_0xb1b0e(0x5cb)][_0x46a172[_0xb1b0e(0x1e0)]]['inviteCode'](_0x597335);}async['joinGroup'](_0x5cebf2,_0x4770bf){const _0x2aa17b=a0_0x4fecf3;return await this['waMonitor'][_0x2aa17b(0x5cb)][_0x5cebf2[_0x2aa17b(0x1e0)]][_0x2aa17b(0x33d)](_0x4770bf);}async[a0_0x4fecf3(0x757)](_0x4bbf81,_0x2d4e4b){const _0x4d89bf=a0_0x4fecf3;return await this[_0x4d89bf(0x2b8)][_0x4d89bf(0x5cb)][_0x4bbf81['instanceName']][_0x4d89bf(0x757)](_0x2d4e4b);}async[a0_0x4fecf3(0x6f5)](_0x253e9a,_0x825326){const _0xc60d55=a0_0x4fecf3;return await this[_0xc60d55(0x2b8)][_0xc60d55(0x5cb)][_0x253e9a['instanceName']][_0xc60d55(0x6f5)](_0x825326);}async[a0_0x4fecf3(0x229)](_0x4fc67e,_0x17eb96){const _0x282a71=a0_0x4fecf3;return await this[_0x282a71(0x2b8)][_0x282a71(0x5cb)][_0x4fc67e[_0x282a71(0x1e0)]][_0x282a71(0x229)](_0x17eb96);}async[a0_0x4fecf3(0x1f6)](_0x47eabd,_0x2541f7){const _0x36d919=a0_0x4fecf3;return await this[_0x36d919(0x2b8)][_0x36d919(0x5cb)][_0x47eabd[_0x36d919(0x1e0)]][_0x36d919(0x574)](_0x2541f7);}async['toggleEphemeral'](_0x1442cd,_0x903107){const _0x3058ca=a0_0x4fecf3;return await this[_0x3058ca(0x2b8)][_0x3058ca(0x5cb)][_0x1442cd[_0x3058ca(0x1e0)]]['toggleEphemeral'](_0x903107);}async[a0_0x4fecf3(0x2d6)](_0x2c7e72,_0x51b415){const _0x5877fe=a0_0x4fecf3;return await this[_0x5877fe(0x2b8)][_0x5877fe(0x5cb)][_0x2c7e72[_0x5877fe(0x1e0)]][_0x5877fe(0x2d6)](_0x51b415);}},Kt=class{constructor(_0x12434b){const _0x5f5a11=a0_0x4fecf3;this[_0x5f5a11(0x2b8)]=_0x12434b;}[a0_0x4fecf3(0x187)](_0x43744c,_0x53eb4a){const _0x4686ae=a0_0x4fecf3;return this[_0x4686ae(0x2b8)][_0x4686ae(0x5cb)][_0x43744c[_0x4686ae(0x1e0)]][_0x4686ae(0x633)](_0x53eb4a);}async['find'](_0x6fe772){const _0x232a4f=a0_0x4fecf3;try{return await this['waMonitor'][_0x232a4f(0x5cb)][_0x6fe772[_0x232a4f(0x1e0)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},fp=new v(a0_0x4fecf3(0x6f9)),Qt=class{constructor(_0x5b60d8){const _0x3484e9=a0_0x4fecf3;this[_0x3484e9(0x2b8)]=_0x5b60d8;}async[a0_0x4fecf3(0x6b3)](_0x55c077,_0x517cb8){const _0x10c0f0=a0_0x4fecf3;return await this[_0x10c0f0(0x2b8)]['waInstances'][_0x55c077[_0x10c0f0(0x1e0)]]['editScheduleMessage'](_0x517cb8);}async[a0_0x4fecf3(0x15b)](_0xe929db){const _0x67304b=a0_0x4fecf3;return await this[_0x67304b(0x2b8)][_0x67304b(0x5cb)][_0xe929db[_0x67304b(0x1e0)]][_0x67304b(0x15b)]();}async[a0_0x4fecf3(0x79d)](_0x5e4a26){const _0x16ad79=a0_0x4fecf3;return await this[_0x16ad79(0x2b8)][_0x16ad79(0x5cb)][_0x5e4a26[_0x16ad79(0x1e0)]][_0x16ad79(0x79d)]();}async[a0_0x4fecf3(0x287)](_0x513824){const _0x32b134=a0_0x4fecf3;return await this['waMonitor'][_0x32b134(0x5cb)][_0x513824[_0x32b134(0x1e0)]]['getAutomateSystem']();}async[a0_0x4fecf3(0x303)](_0x330c10,_0x3f4232){const _0x4101cc=a0_0x4fecf3;return await this[_0x4101cc(0x2b8)][_0x4101cc(0x5cb)][_0x330c10[_0x4101cc(0x1e0)]][_0x4101cc(0x303)](_0x3f4232);}async[a0_0x4fecf3(0x3b1)](_0xe89c60,_0x110360){const _0x1c557f=a0_0x4fecf3;return await this[_0x1c557f(0x2b8)][_0x1c557f(0x5cb)][_0xe89c60[_0x1c557f(0x1e0)]]['updateCustomFields'](_0x110360);}async[a0_0x4fecf3(0x41a)](_0x1eb95b,_0x48f7b6){const _0x5314f2=a0_0x4fecf3;return await this[_0x5314f2(0x2b8)]['waInstances'][_0x1eb95b['instanceName']][_0x5314f2(0x41a)](_0x48f7b6);}async[a0_0x4fecf3(0x3dd)](_0x3647f6,_0x54b11e){const _0x327148=a0_0x4fecf3;return await this[_0x327148(0x2b8)]['waInstances'][_0x3647f6[_0x327148(0x1e0)]][_0x327148(0x3dd)](_0x54b11e);}async[a0_0x4fecf3(0x446)](_0xcec20e,_0x56558f){const _0x437a61=a0_0x4fecf3;return await this[_0x437a61(0x2b8)][_0x437a61(0x5cb)][_0xcec20e[_0x437a61(0x1e0)]][_0x437a61(0x446)](_0x56558f);}async['fetchConversation'](_0x2cf21d,_0x5de498){const _0x30e960=a0_0x4fecf3;return await this[_0x30e960(0x2b8)][_0x30e960(0x5cb)][_0x2cf21d[_0x30e960(0x1e0)]][_0x30e960(0x45e)](_0x5de498);}async[a0_0x4fecf3(0x3d4)](_0xc5d9d,_0x3b55cc){const _0x10c07f=a0_0x4fecf3;return await this[_0x10c07f(0x2b8)][_0x10c07f(0x5cb)][_0xc5d9d[_0x10c07f(0x1e0)]][_0x10c07f(0x3d4)](_0x3b55cc);}async[a0_0x4fecf3(0x5af)](_0x487923,_0x28620e){const _0x575f3f=a0_0x4fecf3;return await this[_0x575f3f(0x2b8)]['waInstances'][_0x487923[_0x575f3f(0x1e0)]][_0x575f3f(0x5af)](_0x28620e);}async[a0_0x4fecf3(0x37c)](_0x298001,_0x2501b3){const _0x234c04=a0_0x4fecf3;return await this['waMonitor'][_0x234c04(0x5cb)][_0x298001[_0x234c04(0x1e0)]][_0x234c04(0x37c)](_0x2501b3['name']);}async[a0_0x4fecf3(0x1ea)](_0x16ef46,_0x5e4b65){const _0x583ae9=a0_0x4fecf3;return await this['waMonitor'][_0x583ae9(0x5cb)][_0x16ef46['instanceName']]['createFlow'](_0x5e4b65);}async[a0_0x4fecf3(0x456)](_0x19292b,_0xf63fb2){const _0x37c3c1=a0_0x4fecf3;return await this[_0x37c3c1(0x2b8)][_0x37c3c1(0x5cb)][_0x19292b[_0x37c3c1(0x1e0)]]['editFlow'](_0xf63fb2);}async[a0_0x4fecf3(0x39e)](_0x29aa93,_0x17a7b6){const _0x324c4c=a0_0x4fecf3;return await this[_0x324c4c(0x2b8)][_0x324c4c(0x5cb)][_0x29aa93[_0x324c4c(0x1e0)]][_0x324c4c(0x39e)](_0x17a7b6);}async[a0_0x4fecf3(0x272)](_0x1792b3,_0x35e303){const _0x29e4e0=a0_0x4fecf3;return await this[_0x29e4e0(0x2b8)][_0x29e4e0(0x5cb)][_0x1792b3[_0x29e4e0(0x1e0)]][_0x29e4e0(0x272)](_0x35e303);}async['editFlowGroup'](_0x256438,_0x3dd6d0){const _0x32bc37=a0_0x4fecf3;return await this[_0x32bc37(0x2b8)][_0x32bc37(0x5cb)][_0x256438[_0x32bc37(0x1e0)]][_0x32bc37(0x1aa)](_0x3dd6d0);}async['editFlowCondition'](_0x2db59d,_0x243ce5){const _0x27b315=a0_0x4fecf3;return await this[_0x27b315(0x2b8)][_0x27b315(0x5cb)][_0x2db59d[_0x27b315(0x1e0)]][_0x27b315(0x772)](_0x243ce5);}async['editFlowVaredit'](_0x19178d,_0x4305c9){const _0x95f6c4=a0_0x4fecf3;return await this[_0x95f6c4(0x2b8)][_0x95f6c4(0x5cb)][_0x19178d[_0x95f6c4(0x1e0)]][_0x95f6c4(0x203)](_0x4305c9);}async[a0_0x4fecf3(0x562)](_0x291e19,_0x115ee5){const _0x56d1c0=a0_0x4fecf3;return await this['waMonitor'][_0x56d1c0(0x5cb)][_0x291e19['instanceName']]['editFlowVariable'](_0x115ee5);}async[a0_0x4fecf3(0x66b)](_0x4ddc29,_0x3dcc6b){const _0x2b6c88=a0_0x4fecf3;return await this[_0x2b6c88(0x2b8)][_0x2b6c88(0x5cb)][_0x4ddc29['instanceName']][_0x2b6c88(0x66b)](_0x3dcc6b[_0x2b6c88(0x804)]);}async[a0_0x4fecf3(0x6e4)](_0x3d8c89){const _0x3ea56b=a0_0x4fecf3;return await this['waMonitor']['waInstances'][_0x3d8c89[_0x3ea56b(0x1e0)]][_0x3ea56b(0x6e4)]();}},Yt=class{constructor(_0x4ca14b){this['webhookService']=_0x4ca14b;}async[a0_0x4fecf3(0x72e)](_0x37558e,_0x12f5cf){const _0x13dbe6=a0_0x4fecf3;return this[_0x13dbe6(0x74d)][_0x13dbe6(0x187)](_0x37558e,_0x12f5cf);}async[a0_0x4fecf3(0x236)](_0x39f80f){const _0x38e049=a0_0x4fecf3;return this[_0x38e049(0x74d)][_0x38e049(0x201)](_0x39f80f);}},Xt=class extends D{constructor(_0x4b3004,_0x519063){const _0x30c6e6=a0_0x4fecf3;super(_0x519063),this[_0x30c6e6(0x400)]=_0x4b3004,this['configService']=_0x519063;}async[a0_0x4fecf3(0x187)](_0x304986,_0x5b3752){const _0x4be0d9=a0_0x4fecf3;try{return this[_0x4be0d9(0x24e)]['ENABLED']?{'insertCount':(await this[_0x4be0d9(0x400)][_0x4be0d9(0x49d)]({'_id':_0x5b3752},{..._0x304986},{'upsert':!0x0}))[_0x4be0d9(0x312)]}:{'insertCount':0x1};}catch(_0x1780fe){return _0x1780fe;}}async['delete'](_0x1dd26b){const _0x23ce52=a0_0x4fecf3;try{if(this[_0x23ce52(0x24e)][_0x23ce52(0x3c6)]){await this[_0x23ce52(0x400)]['deleteOne']({'_id':_0x1dd26b});return;}}catch(_0x28c067){return{'error':_0x28c067};}}async[a0_0x4fecf3(0x201)](_0x1379d4){const _0x583376=a0_0x4fecf3;try{if(this[_0x583376(0x24e)][_0x583376(0x3c6)])return await this['webhookModel'][_0x583376(0x338)]({'_id':_0x1379d4});}catch{return{};}}},Zt=class extends D{constructor(_0x1c28e0,_0x402af0){const _0x5c4548=a0_0x4fecf3;super(_0x402af0),this[_0x5c4548(0x4de)]=_0x1c28e0,this[_0x5c4548(0x6e7)]=_0x402af0,this[_0x5c4548(0x585)]=_0x402af0['get']('AUTHENTICATION');}async['create'](_0x482d92,_0x3215e7){const _0x2983ac=a0_0x4fecf3;try{if(this[_0x2983ac(0x24e)][_0x2983ac(0x3c6)])return{'insertCount':(await this[_0x2983ac(0x4de)]['updateOne']({'_id':_0x3215e7},{'$set':{..._0x482d92}},{'upsert':!0x0}))[_0x2983ac(0x312)]};}catch(_0x1c3cf7){return{'error':_0x1c3cf7};}}async[a0_0x4fecf3(0x549)](_0x59c399,_0x229f62){const _0x56a6ee=a0_0x4fecf3;try{if(this[_0x56a6ee(0x24e)][_0x56a6ee(0x3c6)])return{'insertCount':(await this[_0x56a6ee(0x4de)]['updateMany'](_0x59c399,{'$set':_0x229f62},{'upsert':!0x1}))[_0x56a6ee(0x312)]};throw new Error(_0x56a6ee(0x7a0));}catch(_0x6ee55){return{'error':_0x6ee55};}}async[a0_0x4fecf3(0x717)](_0x3d6501){const _0x52ab3f=a0_0x4fecf3;try{if(this[_0x52ab3f(0x24e)]['ENABLED'])return{'insertCount':(await this[_0x52ab3f(0x4de)]['deleteMany'](_0x3d6501))[_0x52ab3f(0x7b8)]};throw new Error(_0x52ab3f(0x7a0));}catch(_0x42ed92){return{'error':_0x42ed92};}}async[a0_0x4fecf3(0x1c0)](_0x5768e0){const _0x32f853=a0_0x4fecf3;try{if(this[_0x32f853(0x24e)][_0x32f853(0x3c6)]){await this['authModel'][_0x32f853(0x6d3)]({'_id':_0x5768e0});return;}}catch(_0x5d6445){return{'error':_0x5d6445};}}async[a0_0x4fecf3(0x201)](_0x1ad8ba){const _0x5c4170=a0_0x4fecf3;try{if(this['dbSettings'][_0x5c4170(0x3c6)])return await this[_0x5c4170(0x4de)][_0x5c4170(0x338)]({'_id':_0x1ad8ba});}catch{return{};}}async[a0_0x4fecf3(0x6fc)](){const _0x21147e=a0_0x4fecf3;try{if(this[_0x21147e(0x24e)]['ENABLED'])return await this[_0x21147e(0x4de)]['find']();}catch{return[];}}},es=class extends D{[a0_0x4fecf3(0x77e)](_0x162e2a){return ha(_0x162e2a);}async['copyDataToNewModel'](_0x1c189a){const _0x323399=a0_0x4fecf3;try{let _0x3d3cbc=ga,_0x3e9ed0=this[_0x323399(0x77e)](_0x1c189a),_0x4df639=await _0x3d3cbc[_0x323399(0x201)]({'owner':_0x1c189a})[_0x323399(0x531)](),_0x3ab1e8=[],_0xc10a8a=[];for(let _0x84d577 of _0x4df639)await _0x3e9ed0['findById'](_0x84d577[_0x323399(0x4d1)])[_0x323399(0x531)]()||(_0x3ab1e8[_0x323399(0x4b4)](_0x84d577),_0xc10a8a[_0x323399(0x4b4)](_0x84d577[_0x323399(0x4d1)]));return _0x3ab1e8[_0x323399(0x7da)]>0x0&&await _0x3e9ed0[_0x323399(0x688)](_0x3ab1e8,{'ordered':!0x1}),{'success':!0x0};}catch(_0x36dcd6){return console['error'](_0x323399(0x307),_0x36dcd6),{'success':!0x1,'error':_0x36dcd6};}}async['delete'](_0x43fd81,_0x2f884e){const _0x49ed24=a0_0x4fecf3;try{let _0x2438a8=this[_0x49ed24(0x77e)](_0x2f884e),_0x10dce8=A(_0x43fd81[_0x49ed24(0x73e)]);return{'deletedCount':(await _0x2438a8['deleteMany'](_0x10dce8))[_0x49ed24(0x7b8)]};}catch(_0x5eb471){return{'error':_0x5eb471?.[_0x49ed24(0x2c2)]()};}}async[a0_0x4fecf3(0x6d3)](_0x105c57,_0x571e33){const _0x4e6871=a0_0x4fecf3;try{let _0x17bfd7=this[_0x4e6871(0x77e)](_0x571e33),_0xb7397b=A(_0x105c57[_0x4e6871(0x73e)]);return{'deletedCount':(await _0x17bfd7['deleteOne'](_0xb7397b))['deletedCount']};}catch(_0x12dbff){return{'error':_0x12dbff?.[_0x4e6871(0x2c2)]()};}}async[a0_0x4fecf3(0x49d)](_0x33d8ff,_0x1401d6,_0x51ff75){const _0x4f9f58=a0_0x4fecf3;try{let _0x17a9b8=await this[_0x4f9f58(0x77e)](_0x51ff75)[_0x4f9f58(0x4ba)](_0x33d8ff,_0x1401d6,{'overwrite':!0x0,'new':!0x0});return _0x17a9b8||(console[_0x4f9f58(0x2cb)](_0x4f9f58(0x333),_0x33d8ff),null);}catch(_0x5abe95){return console[_0x4f9f58(0x2cb)](_0x4f9f58(0x340),_0x5abe95),null;}}async[a0_0x4fecf3(0x530)](_0xf1707b,_0x1644a6,_0x5af9fd){const _0x31b67c=a0_0x4fecf3;try{let _0x1ac191=await this[_0x31b67c(0x77e)](_0x5af9fd)['findById'](_0xf1707b);return _0x1ac191?(Object[_0x31b67c(0x5c3)](_0x1ac191,_0x1644a6),await _0x1ac191['save']()):(console[_0x31b67c(0x2cb)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0xf1707b),null);}catch(_0x26d6a3){return console[_0x31b67c(0x2cb)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x26d6a3),null;}}async[a0_0x4fecf3(0x62d)](_0x5eab11){const _0x252a5c=a0_0x4fecf3;try{let _0xc4a056=this[_0x252a5c(0x77e)](_0x5eab11),_0x317969={'shareOwners':{'$exists':!0x1}},_0x1507a={'$set':{'shareOwners':[]}};return(await _0xc4a056[_0x252a5c(0x152)](_0x317969,_0x1507a))['modifiedCount'];}catch(_0x26d237){return console[_0x252a5c(0x2cb)](_0x26d237),0x0;}}async[a0_0x4fecf3(0x5ad)](_0x2dea8e,_0x4ea8fa){const _0x3e137e=a0_0x4fecf3;try{let _0x52f7fa=this['getFlowModelForOwner'](_0x4ea8fa);return await new _0x52f7fa(_0x2dea8e)[_0x3e137e(0x809)]();}catch(_0x423482){return console['error'](_0x3e137e(0x5a7),_0x423482),null;}}async[a0_0x4fecf3(0x152)](_0x38158d,_0x3b2a90,_0x14a87e){const _0x35f174=a0_0x4fecf3;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x14a87e)[_0x35f174(0x152)](_0x38158d,{'$set':_0x3b2a90}))[_0x35f174(0x312)]};}catch(_0x4f6ad5){return console['error'](_0x35f174(0x285),_0x4f6ad5),{'error':_0x4f6ad5};}}async[a0_0x4fecf3(0x6fc)](_0x5a7fa2,_0x3f542a){const _0x47145f=a0_0x4fecf3;try{let _0x4b545f=this[_0x47145f(0x77e)](_0x3f542a),_0x499b83=A(_0x5a7fa2[_0x47145f(0x73e)]);return await _0x4b545f['find'](_0x499b83)[_0x47145f(0x2d4)](_0x5a7fa2?.[_0x47145f(0x2d4)]??0x0)[_0x47145f(0x531)]();}catch{return[];}}async[a0_0x4fecf3(0x338)](_0x4edfcb,_0x367e78){const _0x35a756=a0_0x4fecf3;try{let _0x202f51=this['getFlowModelForOwner'](_0x367e78),_0x5723c6=A(_0x4edfcb['where']);return await _0x202f51['findOne'](_0x5723c6)[_0x35a756(0x531)]();}catch{return null;}}async[a0_0x4fecf3(0x270)](_0x411cba){const _0x53a862=a0_0x4fecf3;try{return await this[_0x53a862(0x77e)](_0x411cba)[_0x53a862(0x7cc)][_0x53a862(0x427)](),{'success':!0x0};}catch(_0x29cc5a){return console['error'](_0x29cc5a),{'success':!0x1,'error':_0x29cc5a};}}},ts=class extends D{[a0_0x4fecf3(0x22d)](_0x45b8ed){return fa(_0x45b8ed);}async[a0_0x4fecf3(0x2dd)](_0x5778d6){const _0x1e4b74=a0_0x4fecf3;try{let _0x2368f1=wa,_0xf03023=this[_0x1e4b74(0x22d)](_0x5778d6),_0x44d292=await _0x2368f1[_0x1e4b74(0x201)]({'owner':_0x5778d6})['lean'](),_0x111042=[],_0x495e9c=[];for(let _0x182479 of _0x44d292)await _0xf03023[_0x1e4b74(0x2f4)](_0x182479[_0x1e4b74(0x4d1)])[_0x1e4b74(0x531)]()||(_0x111042['push'](_0x182479),_0x495e9c[_0x1e4b74(0x4b4)](_0x182479[_0x1e4b74(0x4d1)]));return _0x111042[_0x1e4b74(0x7da)]>0x0&&await _0xf03023[_0x1e4b74(0x688)](_0x111042,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4ac6d2){return console['error'](_0x1e4b74(0x307),_0x4ac6d2),{'success':!0x1,'error':_0x4ac6d2};}}async['insert'](_0x36262f){const _0x47111b=a0_0x4fecf3;if(_0x36262f[_0x47111b(0x7da)]!==0x0)try{return{'insertCount':(await this[_0x47111b(0x22d)](_0x36262f[0x0][_0x47111b(0x480)])[_0x47111b(0x688)]([..._0x36262f]))[_0x47111b(0x7da)]};}catch(_0x5d1d7a){return _0x5d1d7a;}}async[a0_0x4fecf3(0x1c0)](_0x3c37d7,_0x5aca44){const _0x59409f=a0_0x4fecf3;try{let _0x3787ed=this[_0x59409f(0x22d)](_0x5aca44),_0x4a66d9=A(_0x3c37d7[_0x59409f(0x73e)]);return{'deletedCount':(await _0x3787ed[_0x59409f(0x717)](_0x4a66d9))[_0x59409f(0x7b8)]};}catch(_0x5bc44f){return{'error':_0x5bc44f?.[_0x59409f(0x2c2)]()};}}async[a0_0x4fecf3(0x6d3)](_0x4d5645,_0x1bbbfe){const _0x5a44e9=a0_0x4fecf3;try{let _0x34e99b=this[_0x5a44e9(0x22d)](_0x1bbbfe),_0x3d345f=A(_0x4d5645[_0x5a44e9(0x73e)]);return{'deletedCount':(await _0x34e99b[_0x5a44e9(0x6d3)](_0x3d345f))['deletedCount']};}catch(_0x2f5d50){return{'error':_0x2f5d50?.[_0x5a44e9(0x2c2)]()};}}async[a0_0x4fecf3(0x724)](_0x3b46be,_0x44c636){const _0x348e7c=a0_0x4fecf3;try{if(_0x3b46be[_0x348e7c(0x7da)]===0x0)return;let _0x5da759=this[_0x348e7c(0x22d)](_0x44c636),_0x523405=_0x3b46be[_0x348e7c(0x428)](_0x424be9=>({'updateOne':{'filter':{'name':_0x424be9['name'],'owner':_0x44c636},'update':{..._0x424be9}}})),{modifiedCount:_0x5c0f09}=await _0x5da759[_0x348e7c(0x690)](_0x523405);return{'insertCount':_0x5c0f09};}catch{return;}}async[a0_0x4fecf3(0x152)](_0x2ede8f,_0x118962,_0xa08d75){const _0x16b122=a0_0x4fecf3;try{return{'modifiedCount':(await this[_0x16b122(0x22d)](_0xa08d75)[_0x16b122(0x152)](_0x2ede8f,{'$set':_0x118962}))[_0x16b122(0x312)]};}catch(_0x501d40){return console['error'](_0x16b122(0x1fc),_0x501d40),{'error':_0x501d40};}}async[a0_0x4fecf3(0x530)](_0x142298,_0x55daf0,_0x4a7dbf){const _0x479c67=a0_0x4fecf3;try{return await this[_0x479c67(0x22d)](_0x4a7dbf)[_0x479c67(0x4c3)]({'_id':_0x142298},{'$set':_0x55daf0},{'new':!0x0,'upsert':!0x0})[_0x479c67(0x531)]();}catch(_0x103262){return console[_0x479c67(0x2cb)](_0x103262),null;}}async[a0_0x4fecf3(0x201)](_0x57c724,_0x13dae0){const _0x431035=a0_0x4fecf3;try{return await this[_0x431035(0x22d)](_0x13dae0)[_0x431035(0x201)](_0x57c724)[_0x431035(0x374)]({'lastInteraction':-0x1})[_0x431035(0x531)]();}catch{return[];}}async[a0_0x4fecf3(0x338)](_0x649fd8,_0x6619b1){const _0x5b67e7=a0_0x4fecf3;try{return await this[_0x5b67e7(0x22d)](_0x6619b1)['findOne']({..._0x649fd8[_0x5b67e7(0x73e)]})['lean']();}catch{return null;}}async[a0_0x4fecf3(0x270)](_0x394bcb){const _0x19207d=a0_0x4fecf3;try{return await this[_0x19207d(0x22d)](_0x394bcb)['collection'][_0x19207d(0x427)](),{'success':!0x0};}catch(_0x506d61){return console[_0x19207d(0x2cb)](_0x506d61),{'success':!0x1,'error':_0x506d61};}}},ss=class extends D{[a0_0x4fecf3(0x223)](_0x2179e2){return ba(_0x2179e2);}async[a0_0x4fecf3(0x2dd)](_0x40eae0){const _0x22a169=a0_0x4fecf3;try{let _0x10f8f2=Sa,_0x460b54=this[_0x22a169(0x223)](_0x40eae0),_0x18b70b=await _0x10f8f2['find']({'owner':_0x40eae0})['lean'](),_0x37dcba=[],_0x37928a=[];for(let _0x4adf60 of _0x18b70b)await _0x460b54[_0x22a169(0x2f4)](_0x4adf60['_id'])['lean']()||(_0x37dcba['push'](_0x4adf60),_0x37928a[_0x22a169(0x4b4)](_0x4adf60[_0x22a169(0x4d1)]));return _0x37dcba['length']>0x0&&await _0x460b54[_0x22a169(0x688)](_0x37dcba,{'ordered':!0x1}),{'success':!0x0};}catch(_0x3a3dbc){return console[_0x22a169(0x2cb)](_0x22a169(0x307),_0x3a3dbc),{'success':!0x1,'error':_0x3a3dbc};}}async[a0_0x4fecf3(0x5ad)](_0x2b0e75,_0x54cfbe){const _0xa2e77a=a0_0x4fecf3;try{let _0x9fb620=this[_0xa2e77a(0x223)](_0x54cfbe);return await new _0x9fb620(_0x2b0e75)['save']();}catch(_0x458ab6){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x458ab6),null;}}async[a0_0x4fecf3(0x6d3)](_0x37576c,_0x32b084){const _0x1c333a=a0_0x4fecf3;try{return await this[_0x1c333a(0x223)](_0x32b084)['findByIdAndDelete'](_0x37576c),{};}catch(_0x397629){return{'error':_0x397629?.[_0x1c333a(0x2c2)]()};}}async['updateOne'](_0x3e79e6,_0x3513c8,_0x58085b){const _0x12600e=a0_0x4fecf3;try{return await this['getScheduleMessageModelForOwner'](_0x58085b)[_0x12600e(0x4c3)](_0x3e79e6,{'$set':_0x3513c8},{'new':!0x0})[_0x12600e(0x531)]();}catch(_0x4e9337){return console[_0x12600e(0x2cb)](_0x12600e(0x48a),_0x4e9337),null;}}async[a0_0x4fecf3(0x7b0)](_0x22dcd4,_0x1f2a75,_0x53d583){const _0x26d234=a0_0x4fecf3;try{return await this[_0x26d234(0x223)](_0x53d583)[_0x26d234(0x4ba)](_0x22dcd4,_0x1f2a75,{'new':!0x0})[_0x26d234(0x531)]();}catch(_0x223b9d){return console[_0x26d234(0x2cb)](_0x26d234(0x48a),_0x223b9d),null;}}async[a0_0x4fecf3(0x201)](_0x127289,_0x2e909b){const _0x2c6c94=a0_0x4fecf3;try{return await this[_0x2c6c94(0x223)](_0x2e909b)[_0x2c6c94(0x201)](_0x127289[_0x2c6c94(0x73e)])[_0x2c6c94(0x2d4)](_0x127289?.[_0x2c6c94(0x2d4)]??0x0)[_0x2c6c94(0x374)]({'when':0x1})[_0x2c6c94(0x531)]();}catch{return[];}}async[a0_0x4fecf3(0x338)](_0x2f879d,_0x226e7d){const _0x131f32=a0_0x4fecf3;try{return await this[_0x131f32(0x223)](_0x226e7d)[_0x131f32(0x338)](_0x2f879d[_0x131f32(0x73e)])['sort']({'when':0x1})[_0x131f32(0x531)]();}catch{return null;}}async[a0_0x4fecf3(0x2f4)](_0x390a30,_0x39fa0c){const _0x51600c=a0_0x4fecf3;try{return await this[_0x51600c(0x223)](_0x39fa0c)['findById'](_0x390a30)['lean']();}catch{return null;}}async['deleteMany'](_0x1a603b,_0x2adf7a){const _0x583465=a0_0x4fecf3;try{return{'deletedCount':(await this[_0x583465(0x223)](_0x2adf7a)[_0x583465(0x717)](_0x1a603b))['deletedCount']};}catch(_0x4c18bf){return console['error'](_0x583465(0x3d3),_0x4c18bf),{'error':_0x4c18bf};}}async[a0_0x4fecf3(0x270)](_0x13565d){const _0x1e9bf3=a0_0x4fecf3;try{return await this[_0x1e9bf3(0x223)](_0x13565d)[_0x1e9bf3(0x7cc)][_0x1e9bf3(0x427)](),{'success':!0x0};}catch(_0x568367){return console[_0x1e9bf3(0x2cb)](_0x568367),{'success':!0x1,'error':_0x568367};}}},as=class extends D{async[a0_0x4fecf3(0x724)](_0x724806,_0x2fbc7a){const _0x4c8f6e=a0_0x4fecf3;try{if(this[_0x4c8f6e(0x24e)][_0x4c8f6e(0x3c6)]){let _0x1c4e38=await Ue['findOneAndUpdate']({'_id':_0x2fbc7a},{'$set':_0x724806},{'new':!0x0});return console[_0x4c8f6e(0x635)]('Resultado\x20da\x20atualização:',_0x1c4e38),_0x1c4e38;}}catch(_0x46f15f){throw console[_0x4c8f6e(0x2cb)](_0x4c8f6e(0x662),_0x46f15f),_0x46f15f;}}async[a0_0x4fecf3(0x55b)](_0x27d1e2){const _0x46594f=a0_0x4fecf3;try{let _0x4189d5=await Ue['findById'](_0x27d1e2);return _0x4189d5||(_0x4189d5=new Ue({'_id':_0x27d1e2}),await _0x4189d5[_0x46594f(0x809)]()),_0x4189d5;}catch(_0x44fb90){return console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x44fb90),null;}}},Ai=new v(a0_0x4fecf3(0x1a0)),Ii=new Ve(b),xi=new qt(b),Di=new st(b),_i=new Jt(ea,b),Pi=new Xt(na,b),$i=new Zt(ra,b),ki=new es(b),Li=new Vt(b),ji=new ts(b),Fi=new ss(b),Ui=new as(b),ue=new qe(Ii,xi,Di,_i,Pi,$i,ki,ji,Li,Fi,Ui,N?.[a0_0x4fecf3(0x44c)]()),B=new Ut(ls,b,ue),qi=new zt(b,B,ue),Ji=new Kt(B),Es=new Yt(Ji),x=new Qt(B),oe=new Gt(B,b,ue,ls,qi),G=new Wt(B),_=new Bt(B),U=new Ht(B);Ai[a0_0x4fecf3(0x69f)](a0_0x4fecf3(0x1e7));var _h=require(a0_0x4fecf3(0x7a2)),ks=require('fs'),_r=O(require(a0_0x4fecf3(0x412))),Pr=O(require(a0_0x4fecf3(0x38b))),Oe=class c{static #e;static set[a0_0x4fecf3(0x71f)](_0x5bf75a){this.#e=_0x5bf75a;}static get['https'](){const _0x35c863=a0_0x4fecf3;let {FULLCHAIN:_0x254bee,PRIVKEY:_0x1264ae}=b[_0x35c863(0x46f)]('SSL_CONF');return _r[_0x35c863(0x533)]({'cert':(0x0,ks[_0x35c863(0x638)])(_0x254bee),'key':(0x0,ks['readFileSync'])(_0x1264ae)},c.#e);}static get['http'](){const _0x5d5529=a0_0x4fecf3;return Pr[_0x5d5529(0x533)](c.#e);}},pe=O(require('fs')),Ur=O(require(a0_0x4fecf3(0x5ca))),Ae=O(require(a0_0x4fecf3(0x810))),xe=O(require(a0_0x4fecf3(0x7e8))),De=require('child_process');function Vi(){const _0x2a18bf=a0_0x4fecf3;B[_0x2a18bf(0x624)]();let _0x1dc5cb=xe[_0x2a18bf(0x3cc)][_0x2a18bf(0x386)](__dirname,_0x2a18bf(0x767));Fr(_0x1dc5cb);}var Fr=_0x5ee9e3=>{const _0x5df717=a0_0x4fecf3;let _0x1b2860=pe[_0x5df717(0x3cc)][_0x5df717(0x50d)](_0x5ee9e3),_0x17ef34=0xc*0x3c*0x3c*0x3e8,_0x6ba79f=0x2*0x3c*0x3c*0x3e8,_0x7dfa55=new Date()[_0x5df717(0x4ae)]();_0x1b2860[_0x5df717(0x697)](_0x7649c2=>{const _0x1d16d5=_0x5df717;let _0x4147f7=xe['default'][_0x1d16d5(0x386)](_0x5ee9e3,_0x7649c2),_0x5118ee=pe['default'][_0x1d16d5(0x5f1)](_0x4147f7)[_0x1d16d5(0x5f2)][_0x1d16d5(0x4ae)]();_0x7dfa55-_0x5118ee>_0x17ef34&&(pe[_0x1d16d5(0x3cc)]['unlinkSync'](_0x4147f7),console[_0x1d16d5(0x635)](_0x1d16d5(0x56e)+_0x7649c2));}),setTimeout(()=>Fr(_0x5ee9e3),_0x6ba79f);};function Bi(){const _0x57293e=a0_0x4fecf3;let _0x2a410a=new v(_0x57293e(0x3cd)),_0x54d655=(0x0,he[_0x57293e(0x3cc)])();_0x54d655[_0x57293e(0x795)]((0x0,jr[_0x57293e(0x3cc)])({'origin'(_0x2ddd15,_0x57453a){const _0x29d4f3=_0x57293e;let {ORIGIN:_0x38853b}=b[_0x29d4f3(0x46f)](_0x29d4f3(0x6a4));return _0x2ddd15||(_0x2ddd15='*'),_0x38853b['indexOf']('*')!==-0x1||_0x38853b['indexOf'](_0x2ddd15)!==-0x1?_0x57453a(null,!0x0):_0x57453a(new Error(_0x29d4f3(0x431)));},'methods':[...b[_0x57293e(0x46f)](_0x57293e(0x6a4))[_0x57293e(0x2d1)]],'credentials':b[_0x57293e(0x46f)]('CORS')[_0x57293e(0x7a7)]}),(0x0,he['urlencoded'])({'extended':!0x0,'limit':_0x57293e(0x1b4)}),(0x0,he[_0x57293e(0x5db)])({'limit':_0x57293e(0x1b4)})),_0x54d655['use']((_0x3e2cee,_0x22b617,_0x272d01)=>{const _0x21d0ed=_0x57293e;_0x3e2cee[_0x21d0ed(0x7e8)][_0x21d0ed(0x24a)](_0x21d0ed(0x74a))?_0x272d01():(0x0,Lr[_0x21d0ed(0x3cc)])()(_0x3e2cee,_0x22b617,_0x272d01);}),_0x54d655[_0x57293e(0x4e9)](_0x57293e(0x75c),_0x57293e(0x6d0)),_0x54d655['set'](_0x57293e(0x779),(0x0,js[_0x57293e(0x386)])(ie,_0x57293e(0x779))),_0x54d655['use'](he['default'][_0x57293e(0x53e)]((0x0,js['join'])(ie,_0x57293e(0x821)))),_0x54d655['use']((_0x3416aa,_0x5d90b5,_0x112e27)=>{const _0x28ec74=_0x57293e;let _0x216b24=_0x5d90b5[_0x28ec74(0x451)];_0x5d90b5[_0x28ec74(0x451)]=function(_0x4cb931){const _0x1274e9=_0x28ec74;if(_0x3416aa['query']['convert']==='true'||_0x3416aa['headers'][_0x1274e9(0x354)]===_0x1274e9(0x5a3)){let _0x4ac0b2=JSON[_0x1274e9(0x164)](_0x4cb931);_0x4cb931=JSON[_0x1274e9(0x155)](_0x57b838(_0x4ac0b2));}return _0x216b24['apply'](_0x5d90b5,[_0x4cb931]);},_0x112e27();}),_0x54d655[_0x57293e(0x795)]('/',It),_0x54d655[_0x57293e(0x795)]((_0x2be910,_0x3077ba,_0x4deb49,_0x2e4163)=>{const _0x573249=_0x57293e;if(_0x2be910)return _0x4deb49[_0x573249(0x395)](_0x2be910[_0x573249(0x395)]||0x1f4)[_0x573249(0x5db)](_0x2be910);},(_0x5d6c9e,_0x26f44d,_0x9ba667)=>{const _0x433fb6=_0x57293e;let {method:_0x2d2dae,url:_0x12acb2}=_0x5d6c9e;_0x26f44d[_0x433fb6(0x395)](0x194)[_0x433fb6(0x5db)]({'status':0x194,'message':_0x433fb6(0x781)+_0x2d2dae[_0x433fb6(0x56c)]()+'\x20'+_0x12acb2,'error':_0x433fb6(0x42f)}),_0x9ba667();});let _0x57b838=(_0x2635a7,_0x6c45bf=_0x57293e(0x1df))=>{const _0x4f630a=_0x57293e;let _0x346d2a=(_0x1006c2,_0x330b9c=null,_0x522907=!0x1)=>{const _0x315734=a0_0x5137;let _0x3e9b2f={};return Object[_0x315734(0x3bf)](_0x1006c2)[_0x315734(0x697)](_0x1683b9=>{const _0x4cd313=_0x315734;let _0x293cc8=_0x1006c2[_0x1683b9],_0x2e0841=''+_0x6c45bf+_0x1683b9;_0x330b9c&&!_0x522907&&(_0x2e0841=_0x330b9c+'.'+_0x1683b9),!_0x293cc8&&_0x293cc8!==0x0&&_0x293cc8!==!0x1||typeof _0x293cc8>'u'?_0x3e9b2f[_0x2e0841]=null:typeof _0x293cc8!='object'&&!Array[_0x4cd313(0x5ff)](_0x293cc8)?_0x3e9b2f[_0x2e0841]=_0x293cc8:typeof _0x293cc8==_0x4cd313(0x646)&&!Array[_0x4cd313(0x5ff)](_0x293cc8)?_0x3e9b2f=Object[_0x4cd313(0x5c3)](_0x3e9b2f,_0x346d2a(_0x293cc8,_0x2e0841)):Array[_0x4cd313(0x5ff)](_0x293cc8)&&(typeof _0x293cc8[0x0]=='object'?(_0x3e9b2f[_0x2e0841]=[],_0x293cc8[_0x4cd313(0x697)](_0x3b3d38=>{const _0x51e165=_0x4cd313;_0x3e9b2f[_0x2e0841][_0x51e165(0x4b4)](_0x346d2a(_0x3b3d38,_0x2e0841,!0x0));})):_0x3e9b2f[_0x2e0841]=_0x293cc8);}),_0x3e9b2f;};return Array['isArray'](_0x2635a7)?_0x2635a7[_0x4f630a(0x428)](_0x2aa25d=>_0x346d2a(_0x2aa25d)):typeof _0x2635a7==_0x4f630a(0x646)&&_0x2635a7!==null?_0x346d2a(_0x2635a7):{};},_0x4376cb=b[_0x57293e(0x46f)](_0x57293e(0x3cd));Oe[_0x57293e(0x71f)]=_0x54d655;let _0xe8374e=Oe[_0x4376cb[_0x57293e(0x2d9)]],_0x2fbc58=_0x57293e(0x36e);_0xe8374e[_0x57293e(0x2e0)](_0x4376cb[_0x57293e(0x5c6)],()=>{const _0x4edac8=_0x57293e;_0x2a410a['log'](_0x2fbc58),_0x2a410a['log'](_0x4376cb[_0x4edac8(0x2d9)]['toUpperCase']()+'\x20-\x20ON:\x20'+_0x4376cb[_0x4edac8(0x5c6)]);}),Vi(),Hs();}var Gi=a0_0x4fecf3(0x6ed),Wi=xe[a0_0x4fecf3(0x3cc)][a0_0x4fecf3(0x386)](__dirname,a0_0x4fecf3(0x76d)),Ie=null;function zi(){return new Promise((_0x1818c8,_0x403a5c)=>{const _0x2a0b43=a0_0x5137;pe[_0x2a0b43(0x3cc)][_0x2a0b43(0x1ab)](Wi,'utf-8',(_0x3b2c68,_0x340bac)=>{const _0xb80947=_0x2a0b43;if(_0x3b2c68){Ie=_0x3b2c68,_0x1818c8();return;}Ur[_0xb80947(0x3cc)][_0xb80947(0x164)](_0x340bac)[_0xb80947(0x188)][_0xb80947(0x4eb)]===Gi?(Ie=null,_0x1818c8()):(Ie=new Error(_0xb80947(0x2f0)),_0x1818c8());});});}async function Hi(){const _0x29870e=a0_0x4fecf3;try{await zi(),await Fs();}catch(_0x167e26){console[_0x29870e(0x2cb)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x167e26),process['exit'](0x1);}}Hi();async function qr(){const _0xd8d153=a0_0x4fecf3;let _0x1a60fa;try{_0x1a60fa=(await Ae[_0xd8d153(0x3cc)][_0xd8d153(0x46f)]('https://jsonip.com'))[_0xd8d153(0x441)]['ip'];}catch(_0x5092d8){console[_0xd8d153(0x2cb)](_0x5092d8);try{_0x1a60fa=(await Ae[_0xd8d153(0x3cc)][_0xd8d153(0x46f)](_0xd8d153(0x819)))[_0xd8d153(0x441)]['ip'];}catch(_0x404572){console[_0xd8d153(0x2cb)](_0x404572);try{_0x1a60fa=(await Ae[_0xd8d153(0x3cc)]['get'](_0xd8d153(0x5b8)))[_0xd8d153(0x441)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x2c2712){return console[_0xd8d153(0x2cb)](_0x2c2712),!0x1;}}}return _0x1a60fa;}var $r=0x0;async function Ki(){const _0xed9d3f=a0_0x4fecf3;let _0xd8aa36=await new ne(b[_0xed9d3f(0x46f)](_0xed9d3f(0x489)))['instanceKeys']();return console[_0xed9d3f(0x635)](_0xed9d3f(0x476),_0xd8aa36[_0xed9d3f(0x7da)]),_0xd8aa36[_0xed9d3f(0x7da)];}function Qi(_0x587374){const _0x4552ab=a0_0x4fecf3;let _0x3b50bf=_0x587374[_0x4552ab(0x46f)](_0x4552ab(0x3cd))[_0x4552ab(0x81c)],_0x2806eb=_0x587374[_0x4552ab(0x46f)](_0x4552ab(0x683)),_0x29d39d;if(_0x3b50bf){let _0x3fe554=_0x3b50bf[_0x4552ab(0x637)](/\/\/(.*?)\./);_0x3fe554&&_0x3fe554[0x1]&&(_0x29d39d=_0x3fe554[0x1]);}if(!_0x29d39d&&_0x2806eb&&_0x2806eb[_0x4552ab(0x313)]){let _0x4fd4a3=_0x2806eb[_0x4552ab(0x313)][_0x4552ab(0x579)]('/'),_0x1534cc=_0x4fd4a3[_0x4fd4a3['length']-0x2];if(_0x1534cc){let _0x20dbfa=_0x1534cc[_0x4552ab(0x579)]('.');_0x20dbfa[_0x4552ab(0x7da)]>0x2&&(_0x29d39d=_0x20dbfa[0x0]);}}return _0x29d39d;}var _s=Qi(b);async function Yi(){const _0x171212=a0_0x4fecf3;let _0x5d5acb=b['get'](_0x171212(0x489)),_0x44fbf5=b[_0x171212(0x46f)]('AUTHENTICATION')['API_KEY'][_0x171212(0x2aa)],_0x52cc1f=b['get'](_0x171212(0x683)),_0x2622f7=await qr(),_0x2ef7e5=b['get']('SERVER')[_0x171212(0x5c6)],_0x133724=b['get']('SERVER')[_0x171212(0x81c)];try{let _0x56d406={'ip':_0x2622f7||null,'redis_enable':_0x5d5acb?.[_0x171212(0x3c6)]||null,'apikey':_0x44fbf5||null,'ssl':_0x52cc1f?.[_0x171212(0x4da)]||null,'lastupdate':Jr||null,'port':_0x2ef7e5||null,'gitInstallError':Ie?.['message']||null,'url':_0x133724||null};if(console[_0x171212(0x635)](_0x171212(0x465),_0x56d406['ip']),_0x5d5acb&&_0x5d5acb[_0x171212(0x3c6)]){let _0x2712e0=await Ki();_0x56d406['instanceCount']=_0x2712e0||null;}for(let _0x201d89 in _0x56d406)_0x56d406['hasOwnProperty'](_0x201d89)&&_0x201d89!=='ip'&&(_0x56d406[_0x201d89]=JSON['stringify'](_0x56d406[_0x201d89]));return(await Ae[_0x171212(0x3cc)][_0x171212(0x47b)](_0x171212(0x37d),_0x56d406))['data'];}catch(_0x5a1b76){return console[_0x171212(0x2cb)](_0x5a1b76),!0x1;}}var Ls=!0x1,Jr=0x234,Xi=0x3,kr=0x1b7740;async function Fs(){const _0x332a2a=a0_0x4fecf3;if(!await qr())return console[_0x332a2a(0x2cb)](_0x332a2a(0x7ac)),_0x332a2a(0x3ce);let _0x307067=await Yi();if(_0x307067){if(_0x307067['response'][_0x332a2a(0x1ec)]===!0x0){let _0x38c66e=b[_0x332a2a(0x46f)](_0x332a2a(0x683)),_0x2271da=b[_0x332a2a(0x46f)](_0x332a2a(0x3cd))[_0x332a2a(0x81c)];_0x38c66e&&_0x38c66e?.[_0x332a2a(0x4da)]?.['includes'](_0x332a2a(0x4e4))&&_0x307067[_0x332a2a(0x20a)][_0x332a2a(0x1af)]&&!_0x2271da&&(await to(_0x307067[_0x332a2a(0x20a)][_0x332a2a(0x1af)],eo),await so(_0x332a2a(0x406),_0x307067[_0x332a2a(0x20a)]['subdomain']),console[_0x332a2a(0x635)](_0x332a2a(0x3d5)),setTimeout(()=>ro(),0x2710)),Ie===null&&_0x307067['response'][_0x332a2a(0x2de)]-Jr>0x0&&await Zi(),Ls||(Ls=!0x0,Bi());let _0x2f4590=0x24*0x3c*0x3c,_0x428445=_0x307067[_0x332a2a(0x20a)][_0x332a2a(0x28a)]>_0x2f4590?_0x2f4590:_0x307067['response']['segundos'],_0x4befba=Number(_0x428445);if(isNaN(_0x4befba)){console[_0x332a2a(0x2cb)](_0x332a2a(0x77d));return;}let _0x144c82=Math[_0x332a2a(0x63d)](_0x4befba/0xe10),_0x27e27f=Math['floor'](_0x4befba%0xe10/0x3c),_0x1e3464=new Date(Date[_0x332a2a(0x587)]()+_0x4befba*0x3e8);setTimeout(Fs,_0x4befba*0x3e8);let _0x2e3a27=_0x2761d1=>_0x2761d1['toString']()[_0x332a2a(0x3e2)](0x2,'0'),_0x3fbc6a=_0x332a2a(0x443)+_0x2e3a27(_0x144c82)+_0x332a2a(0x527)+_0x2e3a27(_0x27e27f)+'\x20minutos.\x20Será\x20às\x20'+_0x2e3a27(_0x1e3464[_0x332a2a(0x6d5)]())+':'+_0x2e3a27(_0x1e3464[_0x332a2a(0x268)]())+'.';console['log'](_0x3fbc6a);}else return console[_0x332a2a(0x635)](_0x332a2a(0x559)),Ls&&(console['log'](_0x332a2a(0x608)),process[_0x332a2a(0x23e)]()),_0x332a2a(0x4f2);}else{if($r++,$r<Xi)console['log'](_0x332a2a(0x808)+kr/0xea60+_0x332a2a(0x457)),setTimeout(Fs,kr);else return console[_0x332a2a(0x2cb)](_0x332a2a(0x34e)),_0x332a2a(0x7c6);}}async function Zi(){const _0x3e26cc=a0_0x4fecf3;console['log']('Parando\x20aplicação,\x20atualização\x20recebida');let _0x21cb38=(0x0,De[_0x3e26cc(0x605)])(_0x3e26cc(0x814),{'shell':!0x0});_0x21cb38['stdout']['on']('data',_0x2d9d0c=>{const _0x112f22=_0x3e26cc;console[_0x112f22(0x635)](_0x112f22(0x1dd)+_0x2d9d0c);}),_0x21cb38[_0x3e26cc(0x19f)]['on'](_0x3e26cc(0x441),_0x5cf039=>{console['error']('Erro\x20de\x20atualização:\x20'+_0x5cf039);}),_0x21cb38['on'](_0x3e26cc(0x23e),_0xf7c7cb=>{const _0x44e17f=_0x3e26cc;_0xf7c7cb!==0x0?console[_0x44e17f(0x2cb)](_0x44e17f(0x1ba)+_0xf7c7cb):console[_0x44e17f(0x635)](_0x44e17f(0x78c)),console['log']('Parando\x20aplicação...'),setTimeout(()=>process[_0x44e17f(0x23e)](),0x2710);});}var eo=xe[a0_0x4fecf3(0x3cc)][a0_0x4fecf3(0x386)](__dirname,a0_0x4fecf3(0x2f3));function a0_0x5137(_0x160dd4,_0x4f1c80){const _0x19f356=a0_0x19f3();return a0_0x5137=function(_0x513750,_0x158d28){_0x513750=_0x513750-0x152;let _0x28fed9=_0x19f356[_0x513750];return _0x28fed9;},a0_0x5137(_0x160dd4,_0x4f1c80);}async function to(_0x5842f7,_0x3230c0){const _0x345283=a0_0x4fecf3;let _0x21e552=ao();_0x5842f7=_0x5842f7[_0x345283(0x6eb)](_0x345283(0x54f),'');try{let _0x1cee9f=pe['default'][_0x345283(0x638)](_0x3230c0,_0x345283(0x52b));_0x1cee9f=_0x1cee9f['replace'](/<apikey>/,_0x21e552),_0x1cee9f=_0x1cee9f[_0x345283(0x6eb)](/<subdomain>/g,_0x5842f7),pe[_0x345283(0x3cc)]['writeFileSync'](_0x3230c0,_0x1cee9f,_0x345283(0x52b)),console[_0x345283(0x635)](_0x345283(0x370));}catch(_0x2272c9){console[_0x345283(0x2cb)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x2272c9);}}function so(_0x46caec,_0x22fb69){return new Promise((_0x354b34,_0x342eb5)=>{const _0x5eacf9=a0_0x5137;let _0x28fcb4=(0x0,De[_0x5eacf9(0x605)])(_0x5eacf9(0x6d7),[_0x5eacf9(0x731),_0x5eacf9(0x7e5),'-m',_0x46caec,'--agree-tos','-d',_0x22fb69]);_0x28fcb4[_0x5eacf9(0x252)]['on'](_0x5eacf9(0x441),_0x4df070=>{const _0x362794=_0x5eacf9;console['log'](_0x362794(0x74e)+_0x4df070['toString']());}),_0x28fcb4[_0x5eacf9(0x19f)]['on'](_0x5eacf9(0x441),_0x17b546=>{const _0x1ac2df=_0x5eacf9;console[_0x1ac2df(0x2cb)](_0x1ac2df(0x619)+_0x17b546[_0x1ac2df(0x2c2)]());}),_0x28fcb4['on']('close',_0x22a5a7=>{const _0x5a0e30=_0x5eacf9;_0x22a5a7!==0x0?(console[_0x5a0e30(0x2cb)](_0x5a0e30(0x2f6)+_0x22a5a7),_0x342eb5(_0x5a0e30(0x2f6)+_0x22a5a7)):(console[_0x5a0e30(0x635)]('Certbot\x20executado\x20com\x20sucesso.'),_0x354b34());});});}function ao(_0xdc8e97=0x32){const _0x5ceabc=a0_0x4fecf3;let _0x2e7b6d=_0x5ceabc(0x7d0),_0x2dc755='';for(let _0x42d6b1=0x0;_0x42d6b1<_0xdc8e97;_0x42d6b1++)_0x2dc755+=_0x2e7b6d[_0x5ceabc(0x3ef)](Math['floor'](Math['random']()*_0x2e7b6d[_0x5ceabc(0x7da)]));return _0x2dc755;}function ro(){const _0x1fbb34=a0_0x4fecf3;(0x0,De['exec'])(_0x1fbb34(0x365),(_0xf7d65c,_0x156dee,_0x34bdc2)=>{const _0x26d455=_0x1fbb34;if(_0xf7d65c){console[_0x26d455(0x2cb)](_0x26d455(0x811)+_0xf7d65c);return;}if(_0x34bdc2){console['error'](_0x26d455(0x6e5)+_0x34bdc2);return;}console[_0x26d455(0x635)](_0x26d455(0x618)+_0x156dee);});}0x0&&(module[a0_0x4fecf3(0x442)]={'subdomain':subdomain});