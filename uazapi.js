const a0_0x313677=a0_0x5a0c;(function(_0x174723,_0x24cda5){const _0x220789=a0_0x5a0c,_0x332bbc=_0x174723();while(!![]){try{const _0x2b0b0a=-parseInt(_0x220789(0x591))/0x1*(parseInt(_0x220789(0x695))/0x2)+parseInt(_0x220789(0x5b8))/0x3+parseInt(_0x220789(0x28d))/0x4+-parseInt(_0x220789(0x202))/0x5+parseInt(_0x220789(0x2f8))/0x6+parseInt(_0x220789(0x78f))/0x7*(-parseInt(_0x220789(0x5f7))/0x8)+parseInt(_0x220789(0x1d8))/0x9*(parseInt(_0x220789(0x4ab))/0xa);if(_0x2b0b0a===_0x24cda5)break;else _0x332bbc['push'](_0x332bbc['shift']());}catch(_0x205374){_0x332bbc['push'](_0x332bbc['shift']());}}}(a0_0x25f5,0x1f63e));var Dr=Object['create'],Ie=Object[a0_0x313677(0x48b)],_r=Object[a0_0x313677(0x790)],Pr=Object[a0_0x313677(0x463)],$r=Object['getPrototypeOf'],kr=Object[a0_0x313677(0x761)][a0_0x313677(0x180)],Lr=(_0x25ecb7,_0x14f3c0)=>{for(var _0x45ffcf in _0x14f3c0)Ie(_0x25ecb7,_0x45ffcf,{'get':_0x14f3c0[_0x45ffcf],'enumerable':!0x0});},Ds=(_0x383aa0,_0xed8bea,_0x346b83,_0x254c05)=>{const _0x3f4fa8=a0_0x313677;if(_0xed8bea&&typeof _0xed8bea==_0x3f4fa8(0x492)||typeof _0xed8bea==_0x3f4fa8(0x72d)){for(let _0x25983b of Pr(_0xed8bea))!kr[_0x3f4fa8(0x280)](_0x383aa0,_0x25983b)&&_0x25983b!==_0x346b83&&Ie(_0x383aa0,_0x25983b,{'get':()=>_0xed8bea[_0x25983b],'enumerable':!(_0x254c05=_r(_0xed8bea,_0x25983b))||_0x254c05[_0x3f4fa8(0x29f)]});}return _0x383aa0;},R=(_0x126865,_0x587fbd,_0x3157d5)=>(_0x3157d5=_0x126865!=null?Dr($r(_0x126865)):{},Ds(_0x587fbd||!_0x126865||!_0x126865['__esModule']?Ie(_0x3157d5,a0_0x313677(0x175),{'value':_0x126865,'enumerable':!0x0}):_0x3157d5,_0x126865)),jr=_0x1d8f77=>Ds(Ie({},'__esModule',{'value':!0x0}),_0x1d8f77),zo={};Lr(zo,{'subdomain':()=>Ns}),module[a0_0x313677(0x514)]=jr(zo);var Rr=R(require('compression')),Ps=require('fs'),$s=require(a0_0x313677(0x685)),ks=require(a0_0x313677(0x134)),xe=require(a0_0x313677(0x134)),ae=process[a0_0x313677(0x5ab)](),he=(0x0,xe[a0_0x313677(0x762)])(ae,a0_0x313677(0x6a3)),_s=(0x0,xe[a0_0x313677(0x762)])(ae,a0_0x313677(0x145)),Ui=(0x0,xe[a0_0x313677(0x762)])(ae,a0_0x313677(0x18c),'auth'),Xt=class{constructor(){this['loadEnv']();}[a0_0x313677(0x749)](_0x427aa9){const _0x598da8=a0_0x313677;return this[_0x598da8(0x2ea)][_0x427aa9];}['loadEnv'](){const _0x4c1202=a0_0x313677;this['env']=process['env']?.[_0x4c1202(0x1a3)]!==_0x4c1202(0x55d)?this[_0x4c1202(0x5bf)]():this[_0x4c1202(0x5c6)](),process[_0x4c1202(0x2ea)]?.['DOCKER_ENV']===_0x4c1202(0x55d)&&(this[_0x4c1202(0x2ea)][_0x4c1202(0x59b)][_0x4c1202(0x1de)]=_0x4c1202(0x422),this[_0x4c1202(0x2ea)][_0x4c1202(0x59b)][_0x4c1202(0x159)]=Number[_0x4c1202(0x274)](process['env']?.[_0x4c1202(0x5e6)]??'8080'));}['envYaml'](){const _0x252cd6=a0_0x313677;return(0x0,$s[_0x252cd6(0x178)])((0x0,Ps[_0x252cd6(0x39e)])((0x0,ks['join'])(_s,_0x252cd6(0x186)),{'encoding':_0x252cd6(0x3ce)}));}['envProcess'](){const _0xd6ece1=a0_0x313677;return{'SERVER':{'TYPE':process[_0xd6ece1(0x2ea)]['SERVER_TYPE'],'PORT':Number[_0xd6ece1(0x274)](process['env'][_0xd6ece1(0x5e6)]),'URL':process[_0xd6ece1(0x2ea)][_0xd6ece1(0x19c)]},'CORS':{'ORIGIN':process[_0xd6ece1(0x2ea)][_0xd6ece1(0x13d)]['split'](','),'METHODS':process[_0xd6ece1(0x2ea)][_0xd6ece1(0x53e)]['split'](','),'CREDENTIALS':process['env']?.[_0xd6ece1(0x65a)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0xd6ece1(0x2ea)]?.[_0xd6ece1(0x219)],'FULLCHAIN':process[_0xd6ece1(0x2ea)]?.[_0xd6ece1(0x4a8)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0xd6ece1(0x2ea)]?.['STORE_CLEANING_TERMINAL'])?Number['parseInt'](process[_0xd6ece1(0x2ea)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process['env']?.['STORE_MESSAGE']===_0xd6ece1(0x55d),'CONTACTS':process[_0xd6ece1(0x2ea)]?.[_0xd6ece1(0x35e)]===_0xd6ece1(0x55d),'CHATS':process['env']?.[_0xd6ece1(0x4c5)]===_0xd6ece1(0x55d)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0xd6ece1(0x179)],'PORT':Number['parseInt'](process[_0xd6ece1(0x2ea)]?.[_0xd6ece1(0x179)]),'USER':process[_0xd6ece1(0x2ea)][_0xd6ece1(0x33b)],'PASSWORD':process[_0xd6ece1(0x2ea)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0xd6ece1(0x2ea)][_0xd6ece1(0x468)],'DB_PREFIX_NAME':process[_0xd6ece1(0x2ea)][_0xd6ece1(0x748)]},'ENABLED':process[_0xd6ece1(0x2ea)]?.[_0xd6ece1(0x1cd)]===_0xd6ece1(0x55d)},'REDIS':{'ENABLED':process[_0xd6ece1(0x2ea)]?.[_0xd6ece1(0x5bd)]===_0xd6ece1(0x55d),'URI':process['env'][_0xd6ece1(0x504)]||_0xd6ece1(0x18a),'PREFIX_KEY':process[_0xd6ece1(0x2ea)][_0xd6ece1(0x411)]||_0xd6ece1(0x185)},'LOG':{'LEVEL':process['env']?.[_0xd6ece1(0x7a4)][_0xd6ece1(0x58d)](','),'COLOR':process['env']?.[_0xd6ece1(0x162)]===_0xd6ece1(0x55d)},'PROXY':process[_0xd6ece1(0x2ea)]?.[_0xd6ece1(0x41a)]==='true','AUTHENTICATION':{'TYPE':process[_0xd6ece1(0x2ea)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0xd6ece1(0x2ea)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0xd6ece1(0x2ea)]?.[_0xd6ece1(0x24a)])?Number[_0xd6ece1(0x274)](process[_0xd6ece1(0x2ea)][_0xd6ece1(0x24a)]):0xe10,'SECRET':process['env']['AUTHENTICATION_JWT_SECRET']}}};}},b=new Xt(),Tr=R(require(a0_0x313677(0x66c))),pe=R(require('express')),Is=require(a0_0x313677(0x134)),Zt=R(require(a0_0x313677(0x555))),es=(_0x149e6d=>(_0x149e6d[a0_0x313677(0x386)]='\x1b[32m',_0x149e6d[a0_0x313677(0x388)]='\x1b[34m',_0x149e6d[a0_0x313677(0x369)]=a0_0x313677(0x187),_0x149e6d['ERROR']='\x1b[31m',_0x149e6d[a0_0x313677(0x18b)]=a0_0x313677(0x2bd),_0x149e6d['VERBOSE']='\x1b[37m',_0x149e6d[a0_0x313677(0x6a9)]='\x1b[30m',_0x149e6d))(es||{}),Ls=(_0x2f155d=>(_0x2f155d[a0_0x313677(0x386)]=a0_0x313677(0x765),_0x2f155d[a0_0x313677(0x6a9)]='\x1b[30m%s\x1b[0m',_0x2f155d['INFO']=a0_0x313677(0x6a4),_0x2f155d[a0_0x313677(0x369)]=a0_0x313677(0x181),_0x2f155d[a0_0x313677(0x2e2)]=a0_0x313677(0x366),_0x2f155d[a0_0x313677(0x18b)]=a0_0x313677(0x271),_0x2f155d[a0_0x313677(0x522)]=a0_0x313677(0x587),_0x2f155d))(Ls||{}),js=(_0x4016ef=>(_0x4016ef[a0_0x313677(0x386)]=a0_0x313677(0x386),_0x4016ef['WARN']=a0_0x313677(0x369),_0x4016ef['INFO']=a0_0x313677(0x388),_0x4016ef[a0_0x313677(0x6a9)]=a0_0x313677(0x6a9),_0x4016ef[a0_0x313677(0x2e2)]='ERROR',_0x4016ef[a0_0x313677(0x18b)]=a0_0x313677(0x18b),_0x4016ef[a0_0x313677(0x522)]=a0_0x313677(0x522),_0x4016ef))(js||{}),Fs=(_0x2f50f5=>(_0x2f50f5['LOG']=a0_0x313677(0x212),_0x2f50f5[a0_0x313677(0x388)]=a0_0x313677(0x2ce),_0x2f50f5['WARN']=a0_0x313677(0x78d),_0x2f50f5[a0_0x313677(0x6a9)]=a0_0x313677(0x632),_0x2f50f5['ERROR']=a0_0x313677(0x4b8),_0x2f50f5['DEBUG']=a0_0x313677(0x1b6),_0x2f50f5[a0_0x313677(0x522)]=a0_0x313677(0x520),_0x2f50f5))(Fs||{}),v=class{constructor(_0x297069=a0_0x313677(0x618)){const _0x3d5443=a0_0x313677;this['context']=_0x297069,this[_0x3d5443(0x416)]=b;}[a0_0x313677(0x6e1)](_0x337c5c){const _0x6e7206=a0_0x313677;this[_0x6e7206(0x1a8)]=_0x337c5c;}[a0_0x313677(0x2cd)](_0x101304,_0x378adc){const _0x33a548=a0_0x313677;let _0xc02aa8=[];this[_0x33a548(0x416)]['get'](_0x33a548(0x386))['LEVEL'][_0x33a548(0x6c9)](_0x362064=>_0xc02aa8['push'](js[_0x362064]));let _0xbef10f=typeof _0x101304;_0xc02aa8['includes'](_0x378adc)&&(b[_0x33a548(0x749)]('LOG')[_0x33a548(0x63d)]?(console[_0x33a548(0x17d)](_0x33a548(0x56b)+Ls[_0x378adc],_0x33a548(0x2af),(0x0,Zt[_0x33a548(0x175)])()[_0x33a548(0x754)]('DD/MM\x20HH:mm:ss'),'\x1b[0m',es[_0x378adc]+Fs[_0x378adc]+_0x33a548(0x56b),_0x378adc+_0x33a548(0x536),'\x1b[33m\x1b[1m',this[_0x33a548(0x1a8)]+_0x33a548(0x1c6),es[_0x378adc],_0xbef10f!=='object'?_0x101304:'','\x1b[0m'),_0xbef10f==='object'&&console[_0x33a548(0x17d)](_0x101304,'\x0a')):console['log']((0x0,Zt[_0x33a548(0x175)])()[_0x33a548(0x754)](_0x33a548(0x1f5)),_0x378adc+'\x20',''+this[_0x33a548(0x1a8)],_0x101304));}[a0_0x313677(0x17d)](_0x4b093e){const _0x2191ee=a0_0x313677;this[_0x2191ee(0x2cd)](_0x4b093e,'LOG');}[a0_0x313677(0x1ea)](_0x1e7ed7){const _0x11c65c=a0_0x313677;this[_0x11c65c(0x2cd)](_0x1e7ed7,_0x11c65c(0x388));}[a0_0x313677(0x40a)](_0x166a37){const _0x1c57af=a0_0x313677;this[_0x1c57af(0x2cd)](_0x166a37,_0x1c57af(0x369));}[a0_0x313677(0x54e)](_0x3d52b8){const _0x27d97d=a0_0x313677;this[_0x27d97d(0x2cd)](_0x3d52b8,_0x27d97d(0x2e2));}[a0_0x313677(0x644)](_0x43b268){const _0x5d92fd=a0_0x313677;this['console'](_0x43b268,_0x5d92fd(0x522));}[a0_0x313677(0x1c5)](_0x2452cc){const _0x39f6b2=a0_0x313677;this[_0x39f6b2(0x2cd)](_0x2452cc,_0x39f6b2(0x18b));}[a0_0x313677(0x4db)](_0x4b3db0){const _0x3862de=a0_0x313677;this[_0x3862de(0x2cd)](_0x4b3db0,_0x3862de(0x6a9));}};function qs(){const _0x2ff145=a0_0x313677;process['on'](_0x2ff145(0x244),(_0x9803be,_0x5e0ddb)=>{const _0x1658b3=_0x2ff145;new v('uncaughtException')[_0x1658b3(0x54e)]({'origin':_0x5e0ddb,'stderr':process[_0x1658b3(0x448)]['fd'],'error':_0x9803be});}),process['on'](_0x2ff145(0x170),(_0x36568a,_0x437265)=>{const _0x5116d1=_0x2ff145;new v('unhandledRejection')[_0x5116d1(0x54e)]({'origin':_0x437265,'stderr':process[_0x5116d1(0x448)]['fd'],'error':_0x36568a});});}var Us=R(require(a0_0x313677(0x188))),ts=new Us[(a0_0x313677(0x175))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require('mongoose'),ss=R(require(a0_0x313677(0x540))),Fr=new v(a0_0x313677(0x3d0)),V=b[a0_0x313677(0x749)](a0_0x313677(0x5df)),N=V['ENABLED']?V[a0_0x313677(0x73f)][a0_0x313677(0x3c2)]?ss[a0_0x313677(0x175)][a0_0x313677(0x58a)](V[a0_0x313677(0x73f)][a0_0x313677(0x3c2)],{'dbName':V['CONNECTION']['DB_PREFIX_NAME']+a0_0x313677(0x41b)}):ss[a0_0x313677(0x175)][a0_0x313677(0x58a)](a0_0x313677(0x5c5)+V[a0_0x313677(0x73f)][a0_0x313677(0x41e)]+':'+V[a0_0x313677(0x73f)][a0_0x313677(0x159)]+a0_0x313677(0x247),{'user':V[a0_0x313677(0x73f)][a0_0x313677(0x596)],'pass':V[a0_0x313677(0x73f)][a0_0x313677(0x4c7)],'dbName':V[a0_0x313677(0x73f)][a0_0x313677(0x34c)]+'-whatsapp-api'}):null;V[a0_0x313677(0x3d7)]&&Fr[a0_0x313677(0x1ea)]('ON\x20-\x20dbName:\x20'+N['$dbName']);var qr=new De[(a0_0x313677(0x2de))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Ur=new De[(a0_0x313677(0x2de))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Jr=new De['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ur,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Js=_0x4deb14=>{const _0x35e5b7=a0_0x313677;let _0x427e67='z_'+_0x4deb14+_0x35e5b7(0x69e);return N?.[_0x35e5b7(0x733)](_0x35e5b7(0x5fd),Jr,_0x427e67);},Vs=require(a0_0x313677(0x540)),Vr=new Vs[(a0_0x313677(0x2de))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Bs=_0x28963c=>{const _0x3b6a7c=a0_0x313677;let _0x3da27b='z_'+_0x28963c+'_Contacts';return N?.[_0x3b6a7c(0x733)](_0x3b6a7c(0x263),Vr,_0x3da27b);},Gs=require(a0_0x313677(0x540)),Br=new Gs[(a0_0x313677(0x2de))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Ws=_0x356959=>{const _0x33d9fe=a0_0x313677;let _0x4f507b='z_'+_0x356959+_0x33d9fe(0x253);return N?.[_0x33d9fe(0x733)](_0x33d9fe(0x74c),Br,_0x4f507b);},zs=require('mongoose'),as=class{},Gr=new zs['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),Hs=N?.[a0_0x313677(0x733)](as[a0_0x313677(0x4af)],Gr,a0_0x313677(0x39f)),Ks=require(a0_0x313677(0x540)),rs=class{},Qs=new Ks[(a0_0x313677(0x2de))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Qs[a0_0x313677(0x435)](a0_0x313677(0x621),function(_0x5ad123){const _0x11af61=a0_0x313677;delete this[_0x11af61(0x15c)],delete this[_0x11af61(0x3ed)],delete this[_0x11af61(0x40e)],delete this[_0x11af61(0x332)],delete this['flowStopMinutes'],_0x5ad123();});function a0_0x5a0c(_0x17f026,_0x1be01b){const _0x25f5c4=a0_0x25f5();return a0_0x5a0c=function(_0x5a0cf1,_0x3fc3d5){_0x5a0cf1=_0x5a0cf1-0x131;let _0x445cd8=_0x25f5c4[_0x5a0cf1];return _0x445cd8;},a0_0x5a0c(_0x17f026,_0x1be01b);}var Ys=N?.[a0_0x313677(0x733)](rs[a0_0x313677(0x4af)],Qs,'webhook'),_=require(a0_0x313677(0x540)),_e=class{},Xs=new _[(a0_0x313677(0x2de))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),os=new _['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Wr=new _[(a0_0x313677(0x2de))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x313677(0x78c)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Zs=new _[(a0_0x313677(0x2de))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),zr=new _[(a0_0x313677(0x2de))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Hr=new _[(a0_0x313677(0x2de))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ea=new _['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Wr},'apirequest':zr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),us=new _[(a0_0x313677(0x2de))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ta=new _[(a0_0x313677(0x2de))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),is=class{},ds=new _[(a0_0x313677(0x2de))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x62b450=a0_0x313677;return _0x62b450(0x148)+Math[_0x62b450(0x651)]()[_0x62b450(0x3eb)](0x24)[_0x62b450(0x6db)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[us],'variablesNotFound':{'type':[String]},'blocks':[ea],'groups':[Xs],'conditions':[Zs],'varedits':[ta],'replyOptions':{'type':[os],'default':[]}});ds['pre']('save',function(_0x265ead){const _0x4f08f4=a0_0x313677;let _0x33bd88=new Set(),_0x9a1c1a=new Set(this[_0x4f08f4(0x209)]?.[_0x4f08f4(0x217)](_0xa2f5df=>_0xa2f5df[_0x4f08f4(0x4af)])),_0x1d27ff=JSON['stringify'](this),_0x1b066f=/{{(?!_)([^}]*)}}/g,_0x148238;for(;(_0x148238=_0x1b066f[_0x4f08f4(0x2f5)](_0x1d27ff))!==null;)_0x9a1c1a[_0x4f08f4(0x36b)](_0x148238[0x1])||_0x33bd88[_0x4f08f4(0x64d)](_0x148238[0x1]);_0x33bd88['size']>0x0?(console[_0x4f08f4(0x40a)](_0x4f08f4(0x340),Array[_0x4f08f4(0x6a6)](_0x33bd88)),this['variablesNotFound']=Array[_0x4f08f4(0x6a6)](_0x33bd88)):this[_0x4f08f4(0x6bc)]=[],_0x265ead();});var sa=_0x1d0d64=>{const _0xb0b18b=a0_0x313677;let _0x45be6e='z_'+_0x1d0d64+_0xb0b18b(0x2a1);return N?.[_0xb0b18b(0x733)](_0xb0b18b(0x2e9),ds,_0x45be6e);},aa=N?.[a0_0x313677(0x733)](is['name'],ds,a0_0x313677(0x2bb)),Kr=new _['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[us],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Hr]},{'_id':!0x1}),ns=class{},ra=new _[(a0_0x313677(0x2de))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[us],'blocks':[ea],'groups':[Xs],'conditions':[Zs],'varedits':[ta],'replyOptions':{'type':[os],'default':[]},'chatLog':Kr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x313677(0x43a)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x313677(0x78c)},'waitingMenu_replyOptions':{'type':[os],'default':[]}}),oa=_0x356948=>{const _0xe0166b=a0_0x313677;let _0x247f02='z_'+_0x356948+_0xe0166b(0x385);return N?.[_0xe0166b(0x733)](_0xe0166b(0x582),ra,_0x247f02);},ia=N?.['model'](ns[a0_0x313677(0x4af)],ra,a0_0x313677(0x629)),cs=class{},Qr=new _[(a0_0x313677(0x2de))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Yr=new _[(a0_0x313677(0x2de))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),na=new _[(a0_0x313677(0x2de))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x313677(0x211)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Yr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Qr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ca=_0x4ad4cd=>{const _0x6fea49=a0_0x313677;let _0x4e77fd='z_'+_0x4ad4cd+_0x6fea49(0x6df);return N?.[_0x6fea49(0x733)](_0x6fea49(0x6e0),na,_0x4e77fd);},la=N?.[a0_0x313677(0x733)](cs[a0_0x313677(0x4af)],na,a0_0x313677(0x6b3)),ls=class{},Xr=new _[(a0_0x313677(0x2de))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Zr=new _[(a0_0x313677(0x2de))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),eo=new _[(a0_0x313677(0x2de))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),to=new _['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[eo]},'customFields':{'type':[Xr]},'flowConfig':{'type':Zr,'default':{}}}),Pe=N?.['model'](ls[a0_0x313677(0x4af)],to,a0_0x313677(0x6d3)),ua=require('mongoose'),so=new ua[(a0_0x313677(0x2de))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),da=_0x258bc2=>{const _0x27751a=a0_0x313677;let _0x5ec757='z_'+_0x258bc2+_0x27751a(0x1c7);return N?.[_0x27751a(0x733)](_0x27751a(0x76b),so,_0x5ec757);},I=class{constructor(_0x29554c){const _0x449662=a0_0x313677;this[_0x449662(0x6f3)]=_0x29554c[_0x449662(0x749)](_0x449662(0x5df));}};function A(_0x26897e){const _0x57073a=a0_0x313677;let _0x125e5d={};for(let [_0x13c476,_0x3ddf73]of Object['entries'](_0x26897e))if(typeof _0x3ddf73=='object'&&!Array[_0x57073a(0x46e)](_0x3ddf73)){for(let [_0x29d790,_0x56a741]of Object[_0x57073a(0x604)](_0x3ddf73))_0x125e5d[_0x13c476+'.'+_0x29d790]=_0x56a741;}else _0x125e5d[_0x13c476]=_0x3ddf73;return _0x125e5d;}var $e=class{constructor(_0x10cd3f,_0x443bed,_0x4bede0,_0xa13be9,_0x1cb02d,_0x1c96c4,_0x2ca24b,_0x339f6a,_0x2647d4,_0x25a3dd,_0x290389){const _0x3d9f53=a0_0x313677;this[_0x3d9f53(0x711)]=_0x10cd3f,this[_0x3d9f53(0x351)]=_0x443bed,this['contact']=_0x4bede0,this['webhook']=_0xa13be9,this[_0x3d9f53(0x19a)]=_0x1cb02d,this[_0x3d9f53(0x2bb)]=_0x1c96c4,this[_0x3d9f53(0x629)]=_0x2ca24b,this[_0x3d9f53(0x77c)]=_0x339f6a,this[_0x3d9f53(0x674)]=_0x2647d4,this[_0x3d9f53(0x551)]=_0x25a3dd,this[_0x3d9f53(0x4ce)]=_0x290389;}get['dbServer'](){return this['dbClient'];}},ke=class{},Le=class extends I{[a0_0x313677(0x1fd)](_0x6de555){return Ws(_0x6de555);}async[a0_0x313677(0x47b)](_0x285803,_0x1ad922){const _0x3313e8=a0_0x313677;if(_0x285803['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3313e8(0x1fd)](_0x1ad922)['insertMany']([..._0x285803]))[_0x3313e8(0x1c3)]};}catch(_0x4e6974){return _0x4e6974;}}async[a0_0x313677(0x144)](_0x4d2fac,_0x4f331c){const _0x499875=a0_0x313677;try{let _0xe598fc=this[_0x499875(0x1fd)](_0x4f331c),_0x5c2e2d=A(_0x4d2fac[_0x499875(0x408)]);return await _0xe598fc[_0x499875(0x144)](_0x5c2e2d)[_0x499875(0x312)]({'messageTimestamp':-0x1})['limit'](_0x4d2fac?.[_0x499875(0x3d1)]??0x0)[_0x499875(0x1b8)]();}catch{return[];}}async[a0_0x313677(0x686)](_0x185775,_0xc47e64){const _0x17a502=a0_0x313677;try{let _0x1904f0=this[_0x17a502(0x1fd)](_0xc47e64),_0x46579a=A(_0x185775[_0x17a502(0x408)]);await _0x1904f0[_0x17a502(0x671)](_0x46579a);}catch(_0x5145d3){console['error'](_0x5145d3);}}async['update'](_0x324d6e,_0x44d10a,_0x2d6a45){const _0x521daa=a0_0x313677;try{let _0x4f236f=this['getMessageModelForOwner'](_0x2d6a45),_0x3e3291=A(_0x324d6e['where']);return await _0x4f236f[_0x521daa(0x174)](_0x3e3291,{'$set':_0x44d10a},{'new':!0x0});}catch(_0x3937dd){throw console[_0x521daa(0x54e)](_0x3937dd),_0x3937dd;}}async[a0_0x313677(0x403)](_0x24930a,_0x574f52){const _0x279b67=a0_0x313677;if(_0x24930a[_0x279b67(0x1c3)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x279b67(0x1fd)](_0x574f52)[_0x279b67(0x403)]([..._0x24930a]))[_0x279b67(0x1c3)]};}catch(_0x14734c){return console[_0x279b67(0x17d)](_0x279b67(0x2b1),_0x14734c),_0x14734c;}}async[a0_0x313677(0x664)](_0x338f7a){const _0x1ef580=a0_0x313677;try{return await this[_0x1ef580(0x1fd)](_0x338f7a)[_0x1ef580(0x497)][_0x1ef580(0x2e7)](),{'success':!0x0};}catch(_0x5a8eb7){return console[_0x1ef580(0x54e)](_0x5a8eb7),{'success':!0x1,'error':_0x5a8eb7};}}},mr=R(require(a0_0x313677(0x283))),y=R(require('@whiskeysockets/baileys')),ve=require('fs'),F=R(require(a0_0x313677(0x134))),se=R(require(a0_0x313677(0x599))),fr=require('uuid'),wr=R(require('qrcode')),yr=R(require('qrcode-terminal')),pa=['imageMessage',a0_0x313677(0x3bc),a0_0x313677(0x6f8),a0_0x313677(0x27e),a0_0x313677(0x6eb)],ga=[a0_0x313677(0x493),a0_0x313677(0x68d),a0_0x313677(0x1ee),a0_0x313677(0x757)],Es=require('os'),Ot=R(require('pino')),Dt=require(a0_0x313677(0x15e)),It=require(a0_0x313677(0x196)),ie=R(require(a0_0x313677(0x540))),k=require(a0_0x313677(0x2c9)),me=class{constructor(_0x3484b0,_0x2a84df,_0x159501){const _0x287039=a0_0x313677;this[_0x287039(0x259)]=_0x3484b0,this['exists']=_0x2a84df,this[_0x287039(0x4af)]=_0x159501;}},je=class{},Fe=class{},be=class{},qe=class{},Ue=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0x313677(0x2c0))),ha=require('fs'),ma=require(a0_0x313677(0x134));async function We(_0xf46738){const _0x3b7e99=a0_0x313677;let _0x11be37=B['waInstances'][_0xf46738];if(V[_0x3b7e99(0x3d7)]){let _0xd9566c=N[_0x3b7e99(0x4f0)]()['db'](V[_0x3b7e99(0x73f)]['DB_PREFIX_NAME']+'-instances')[_0x3b7e99(0x497)](_0xf46738);return _0x11be37||(await _0xd9566c[_0x3b7e99(0x144)]({})[_0x3b7e99(0x4df)]())['length']>0x0;}return _0x11be37||(0x0,ha[_0x3b7e99(0x2c5)])((0x0,ma[_0x3b7e99(0x762)])(he,_0xf46738));}async function fa(_0x5f1b7e,_0xb2471f,_0x5d1d2f){const _0x4ba1f9=a0_0x313677;if(_0x5f1b7e[_0x4ba1f9(0x6e3)][_0x4ba1f9(0x2fe)](_0x4ba1f9(0x676))||_0x5f1b7e[_0x4ba1f9(0x6e3)]['includes'](_0x4ba1f9(0x3ea))||_0x5f1b7e[_0x4ba1f9(0x6e3)][_0x4ba1f9(0x2fe)]('/exit')||_0x5f1b7e[_0x4ba1f9(0x6e3)][_0x4ba1f9(0x2fe)](_0x4ba1f9(0x5ec))||_0x5f1b7e['originalUrl'][_0x4ba1f9(0x2fe)](_0x4ba1f9(0x6f0))||_0x5f1b7e['originalUrl']['includes'](_0x4ba1f9(0x165))||_0x5f1b7e['originalUrl'][_0x4ba1f9(0x2fe)]('/instance/delete'))return _0x5d1d2f();let _0x33455f=_0x5f1b7e[_0x4ba1f9(0x2ff)];if(!_0x33455f?.[_0x4ba1f9(0x523)])throw new m(_0x4ba1f9(0x4d2));if(!await We(_0x33455f[_0x4ba1f9(0x523)]))throw new j('The\x20'+_0x33455f[_0x4ba1f9(0x523)]+'\x20instance\x20does\x20not\x20exist');_0x5d1d2f();}async function wa(_0x4436de,_0x5aa93f,_0x22c185){const _0x5ec382=a0_0x313677;if(_0x4436de[_0x5ec382(0x6e3)][_0x5ec382(0x2fe)](_0x5ec382(0x676))){let _0x5c78dc=_0x4436de[_0x5ec382(0x6d1)];if(await We(_0x5c78dc[_0x5ec382(0x523)]))throw new K(_0x5ec382(0x682)+_0x5c78dc[_0x5ec382(0x523)]+_0x5ec382(0x478));B[_0x5ec382(0x451)][_0x5c78dc[_0x5ec382(0x523)]]&&delete B[_0x5ec382(0x451)][_0x5c78dc[_0x5ec382(0x523)]];}_0x22c185();}var ya=require(a0_0x313677(0x2c9)),ba=R(require(a0_0x313677(0x786))),ze=a0_0x313677(0x185),ro=new v(a0_0x313677(0x538));async function oo(_0xbe7525,_0x12367d,_0x4fc5cb){const _0xcc3f2a=a0_0x313677;let _0x313a3d=_0xbe7525[_0xcc3f2a(0x749)]('apikey');if(_0x313a3d&&b[_0xcc3f2a(0x749)]('AUTHENTICATION')['API_KEY'][_0xcc3f2a(0x595)]!==_0x313a3d)throw new ee();if(b[_0xcc3f2a(0x749)](_0xcc3f2a(0x4b6))[_0xcc3f2a(0x583)][_0xcc3f2a(0x595)]===_0x313a3d)return _0x4fc5cb();if((_0xbe7525['originalUrl'][_0xcc3f2a(0x2fe)](_0xcc3f2a(0x676))||_0xbe7525[_0xcc3f2a(0x6e3)][_0xcc3f2a(0x2fe)](_0xcc3f2a(0x3ea)))&&!_0x313a3d)throw new K('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x2d0c6d=b['get'](_0xcc3f2a(0x4b6))[_0xcc3f2a(0x29d)];try{let [_0x313bbe,_0x556089]=_0xbe7525[_0xcc3f2a(0x749)](_0xcc3f2a(0x41f))[_0xcc3f2a(0x58d)]('\x20');if(_0x313bbe[_0xcc3f2a(0x620)]()!==_0xcc3f2a(0x184))throw new ee();if(!(0x0,ya[_0xcc3f2a(0x665)])(_0x556089))throw new ee();let _0x368de2=_0xbe7525['params'],_0x52d6d8=ba[_0xcc3f2a(0x175)][_0xcc3f2a(0x36a)](_0x556089,_0x2d0c6d[_0xcc3f2a(0x286)],{'ignoreExpiration':_0x2d0c6d[_0xcc3f2a(0x483)]===0x0});if(_0x368de2[_0xcc3f2a(0x523)]!==_0x52d6d8['instanceName']||ze!==_0x52d6d8[_0xcc3f2a(0x6f7)])throw new ee();return _0x4fc5cb();}catch(_0x2a68e1){throw ro[_0xcc3f2a(0x54e)](_0x2a68e1),new ee();}}async function io(_0x795cb7,_0x3a6ed2,_0x57a864){const _0x1607ce=a0_0x313677;let _0x2bed76=b[_0x1607ce(0x749)]('AUTHENTICATION')[_0x1607ce(0x583)],_0x2839e9=_0x795cb7[_0x1607ce(0x749)](_0x1607ce(0x309));if(_0x2bed76['KEY']===_0x2839e9)return _0x57a864();if(_0x795cb7[_0x1607ce(0x6e3)][_0x1607ce(0x2fe)](_0x1607ce(0x676))){let _0x23eba3=He,_0x2f523d=_0x795cb7['body'][_0x1607ce(0x523)];if(_0x23eba3&&_0x2f523d[_0x1607ce(0x620)]()[_0x1607ce(0x731)](_0x23eba3[_0x1607ce(0x620)]()))return _0x57a864();if(!_0x2839e9)throw new K(_0x1607ce(0x494),_0x1607ce(0x197));}if(_0x795cb7[_0x1607ce(0x6e3)]['includes'](_0x1607ce(0x3ea))&&!_0x2839e9)throw new K('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x795cb7['originalUrl']['includes'](_0x1607ce(0x3f2))&&!_0x2839e9)throw new K('Missing\x20global\x20api\x20key',_0x1607ce(0x197));if(_0x795cb7[_0x1607ce(0x6e3)][_0x1607ce(0x2fe)]('/config')&&!_0x2839e9)throw new K(_0x1607ce(0x494),_0x1607ce(0x197));try{let _0x5683af=_0x795cb7[_0x1607ce(0x2ff)];if((await ce[_0x1607ce(0x19a)][_0x1607ce(0x144)](_0x5683af[_0x1607ce(0x523)]))[_0x1607ce(0x309)]===_0x2839e9)return _0x57a864();}catch{}throw new ee();}var Sa={'jwt':oo,'apikey':io},er=require('express'),C=require(a0_0x313677(0x14b)),S=(..._0x270207)=>{const _0x4411a5=a0_0x313677;let _0x217255={};return _0x270207[_0x4411a5(0x6c9)](_0x38ef57=>_0x217255[_0x38ef57]={'minLength':0x1,'description':_0x4411a5(0x4a0)+_0x38ef57+_0x4411a5(0x5b5)}),{'if':{'propertyNames':{'enum':[..._0x270207]}},'then':{'properties':_0x217255}};},M={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x313677(0x706)}},...S('instanceName')},Hn={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x313677(0x65e)],...S(a0_0x313677(0x65e))},Kn={'properties':{'key':{'type':a0_0x313677(0x492),'properties':{'id':{'type':a0_0x313677(0x706)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...S('id',a0_0x313677(0x594))},'message':{'type':a0_0x313677(0x492)}}},Q={'properties':{'delay':{'type':a0_0x313677(0x252),'description':a0_0x313677(0x495)},'presence':{'type':a0_0x313677(0x706),'enum':[a0_0x313677(0x3e1),'available',a0_0x313677(0x720),a0_0x313677(0x30d),'paused']}}},z={'type':a0_0x313677(0x706),'pattern':a0_0x313677(0x62d),'description':'Invalid\x20format'},Ea={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x313677(0x492),'properties':{'text':{'type':'string'}},'required':['text'],...S(a0_0x313677(0x37a))}},'required':[a0_0x313677(0x305),a0_0x313677(0x2d9)]},Ca={'type':a0_0x313677(0x706),'pattern':a0_0x313677(0x1a1),'description':'Invalid\x20format'},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'number':{...Ca},'options':{...Q},'textMessage':{'type':a0_0x313677(0x492),'properties':{'text':{'type':a0_0x313677(0x706)}},'required':['text'],...S(a0_0x313677(0x37a))}},'required':[a0_0x313677(0x305),a0_0x313677(0x2d9)]},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'number':{...Ca},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x313677(0x706),'enum':[a0_0x313677(0x49f),'document',a0_0x313677(0x26b),a0_0x313677(0x741)]},'media':{'type':a0_0x313677(0x706)},'fileName':{'type':a0_0x313677(0x706)},'caption':{'type':a0_0x313677(0x706)}},'required':['mediatype',a0_0x313677(0x273)],...S(a0_0x313677(0x375),'caption',a0_0x313677(0x273))}},'required':[a0_0x313677(0x59d),'number']},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x313677(0x492),'properties':{'image':{'type':'string'}},'required':[a0_0x313677(0x49f)],...S(a0_0x313677(0x49f))}},'required':['stickerMessage',a0_0x313677(0x2d9)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'statusMessage':{'type':a0_0x313677(0x492),'properties':{'type':{'type':a0_0x313677(0x706),'enum':[a0_0x313677(0x37a),'image','audio','video']},'content':{'type':a0_0x313677(0x706)},'caption':{'type':a0_0x313677(0x706)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x313677(0x252),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x313677(0x195),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x313677(0x6d6),'description':a0_0x313677(0x39a)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x313677(0x4f9),a0_0x313677(0x327)],...S('type',a0_0x313677(0x327))}},'required':[a0_0x313677(0x6a0)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x313677(0x492),'properties':{'mediatype':{'type':a0_0x313677(0x706),'enum':[a0_0x313677(0x49f),'document',a0_0x313677(0x26b),a0_0x313677(0x741)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x313677(0x706)}},'required':['mediatype','media'],...S(a0_0x313677(0x375),'caption','media')}},'required':[a0_0x313677(0x59d),a0_0x313677(0x2d9)]},Ra={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x313677(0x492),'properties':{'audio':{'type':'string'}},'required':['audio'],...S(a0_0x313677(0x741))}},'required':[a0_0x313677(0x6f8),a0_0x313677(0x2d9)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'number':{...z},'pollMessage':{'type':a0_0x313677(0x492),'properties':{'name':{'type':a0_0x313677(0x706)},'selectableCount':{'type':a0_0x313677(0x2d9)},'values':{'type':a0_0x313677(0x195),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x313677(0x4af),a0_0x313677(0x753),a0_0x313677(0x208)],...S(a0_0x313677(0x4af),'selectableCount',a0_0x313677(0x208))}},'required':[a0_0x313677(0x2d9),a0_0x313677(0x251)]},Aa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x313677(0x706)},'choices':{'type':a0_0x313677(0x195),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x313677(0x37a),a0_0x313677(0x5cf)],...S(a0_0x313677(0x37a),'choices')}},'required':[a0_0x313677(0x2d9),a0_0x313677(0x323)]},Oa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x313677(0x492),'properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':'string'},'buttons':{'type':a0_0x313677(0x195),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x313677(0x492),'properties':{'buttonText':{'type':a0_0x313677(0x706)},'buttonId':{'type':'string'}},'required':[a0_0x313677(0x339),'buttonId'],...S(a0_0x313677(0x339),a0_0x313677(0x656))}},'mediaMessage':{'type':a0_0x313677(0x492),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x313677(0x706)},'mediatype':{'type':'string','enum':[a0_0x313677(0x49f),a0_0x313677(0x4a6),'video']}},'required':['media',a0_0x313677(0x1f3)],...S(a0_0x313677(0x273),a0_0x313677(0x375))}},'required':[a0_0x313677(0x4c4),a0_0x313677(0x2ad)],...S(a0_0x313677(0x4c4),'description')}},'required':[a0_0x313677(0x2d9),a0_0x313677(0x4f6)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x313677(0x492),'properties':{'latitude':{'type':a0_0x313677(0x2d9)},'longitude':{'type':a0_0x313677(0x2d9)},'name':{'type':a0_0x313677(0x706)},'address':{'type':a0_0x313677(0x706)}},'required':[a0_0x313677(0x4ae),a0_0x313677(0x32e)],...S('name',a0_0x313677(0x3fb))}},'required':[a0_0x313677(0x2d9),'locationMessage']},xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x313677(0x706)},'description':{'type':a0_0x313677(0x706)},'footerText':{'type':a0_0x313677(0x706)},'buttonText':{'type':a0_0x313677(0x706)},'sections':{'type':a0_0x313677(0x195),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x313677(0x492),'properties':{'title':{'type':a0_0x313677(0x706)},'rows':{'type':a0_0x313677(0x195),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x313677(0x492),'properties':{'title':{'type':a0_0x313677(0x706)},'description':{'type':a0_0x313677(0x706)},'rowId':{'type':a0_0x313677(0x706)}},'required':[a0_0x313677(0x4c4),'rowId'],...S('title',a0_0x313677(0x577))}}},'required':[a0_0x313677(0x4c4),a0_0x313677(0x683)],...S(a0_0x313677(0x4c4))}}},'required':[a0_0x313677(0x4c4),a0_0x313677(0x6c7),'buttonText',a0_0x313677(0x779)],...S(a0_0x313677(0x4c4),a0_0x313677(0x6c7),'buttonText',a0_0x313677(0x79c))}},'required':[a0_0x313677(0x2d9),'listMessage']},Da={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x313677(0x195),'items':{'type':'object','properties':{'fullName':{'type':a0_0x313677(0x706)},'phoneNumber':{'type':a0_0x313677(0x706),'minLength':0xa}},'required':['fullName',a0_0x313677(0x6be)],...S(a0_0x313677(0x72c))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x313677(0x2d9),a0_0x313677(0x1ca)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'reactionMessage':{'type':a0_0x313677(0x492),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x313677(0x706)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]}},'required':['id',a0_0x313677(0x594),a0_0x313677(0x154)],...S('id',a0_0x313677(0x594))},'reaction':{'type':a0_0x313677(0x706)}},'required':[a0_0x313677(0x5c0),'reaction'],...S(a0_0x313677(0x23f))}},'required':[a0_0x313677(0x470)]},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x313677(0x195),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x313677(0x6d6),'description':a0_0x313677(0x53b)}}}},$a={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'readMessages':{'type':a0_0x313677(0x195),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x313677(0x706)},'fromMe':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x313677(0x706)}},'required':['id',a0_0x313677(0x154),'remoteJid'],...S('id','remoteJid')}}},'required':[a0_0x313677(0x554)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'privacySettings':{'type':a0_0x313677(0x492),'properties':{'readreceipts':{'type':a0_0x313677(0x706),'enum':[a0_0x313677(0x3b7),a0_0x313677(0x556)]},'profile':{'type':a0_0x313677(0x706),'enum':['all',a0_0x313677(0x5d1),a0_0x313677(0x70a),a0_0x313677(0x556)]},'status':{'type':a0_0x313677(0x706),'enum':[a0_0x313677(0x3b7),a0_0x313677(0x5d1),a0_0x313677(0x70a),'none']},'online':{'type':'string','enum':[a0_0x313677(0x3b7),a0_0x313677(0x3e9)]},'last':{'type':a0_0x313677(0x706),'enum':['all',a0_0x313677(0x5d1),'contact_blacklist',a0_0x313677(0x556)]},'groupadd':{'type':a0_0x313677(0x706),'enum':['all',a0_0x313677(0x5d1),a0_0x313677(0x70a),a0_0x313677(0x556)]}},'required':[a0_0x313677(0x734),a0_0x313677(0x132),'status','online',a0_0x313677(0x6ab),a0_0x313677(0x508)],...S('readreceipts',a0_0x313677(0x132),'status','online',a0_0x313677(0x6ab),a0_0x313677(0x508))}},'required':[a0_0x313677(0x346)]},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x313677(0x492),'properties':{'key':{'type':a0_0x313677(0x492),'properties':{'id':{'type':a0_0x313677(0x706)},'remoteJid':{'type':a0_0x313677(0x706)},'fromMe':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]}},'required':['id',a0_0x313677(0x154),a0_0x313677(0x594)],...S('id',a0_0x313677(0x594))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x313677(0x5c0)],...S(a0_0x313677(0x374))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x313677(0x771),a0_0x313677(0x4a3)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x313677(0x706)},'participant':{'type':a0_0x313677(0x706)}},'required':['id','fromMe',a0_0x313677(0x594)],...S('id',a0_0x313677(0x594),a0_0x313677(0x61a))},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'where':{'type':a0_0x313677(0x492),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x313677(0x706),'minLength':0x1},'id':{'type':a0_0x313677(0x706),'minLength':0x1}},...S(a0_0x313677(0x510),'id',a0_0x313677(0x2fd))}}},qa={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'name':{'type':'string'}},...S(a0_0x313677(0x4af))},Ua={'$id':(0x0,C['v4'])(),'type':'object','properties':{'status':{'type':a0_0x313677(0x706)}},...S('status')},Se={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'number':{'type':a0_0x313677(0x706)},'picture':{'type':a0_0x313677(0x706)}}},Ja={'type':a0_0x313677(0x492),'properties':{'wuid':{'type':a0_0x313677(0x706)},'name':{'type':a0_0x313677(0x706)},'picture':{'type':'string'},'status':{'type':a0_0x313677(0x706)},'isBusiness':{'type':'boolean'}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'where':{'type':a0_0x313677(0x492),'properties':{'_id':{'type':a0_0x313677(0x706),'minLength':0x1},'key':{'type':a0_0x313677(0x492),'if':{'propertyNames':{'enum':[a0_0x313677(0x154),a0_0x313677(0x594),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x313677(0x706),'minLength':0x1,'description':a0_0x313677(0x3d8)},'id':{'type':a0_0x313677(0x706),'minLength':0x1,'description':a0_0x313677(0x3d8)},'fromMe':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x313677(0x492)}},...S(a0_0x313677(0x510))},'limit':{'type':a0_0x313677(0x252)}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'where':{'type':a0_0x313677(0x492),'properties':{'_id':{'type':a0_0x313677(0x706)},'remoteJid':{'type':a0_0x313677(0x706)},'id':{'type':a0_0x313677(0x706)},'fromMe':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x313677(0x706)},'status':{'type':a0_0x313677(0x706),'enum':[a0_0x313677(0x2e2),a0_0x313677(0x717),'SERVER_ACK',a0_0x313677(0x65c),a0_0x313677(0x775),a0_0x313677(0x659)]}},...S(a0_0x313677(0x510),'remoteJid','id','status')},'limit':{'type':'integer'}}},Ba={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':'string','enum':[a0_0x313677(0x3e1),'available',a0_0x313677(0x720),a0_0x313677(0x30d),'paused']}},'required':[a0_0x313677(0x6c3),a0_0x313677(0x2d9)]},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'subject':{'type':a0_0x313677(0x706)},'description':{'type':'string'},'profilePicture':{'type':'string'},'participants':{'type':a0_0x313677(0x195),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x313677(0x706),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x313677(0x6d0)}}},'required':[a0_0x313677(0x3a0),'participants'],...S('subject',a0_0x313677(0x6c7),'profilePicture')},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'groupJid':{'type':a0_0x313677(0x706),'pattern':a0_0x313677(0x2c3)}},'required':['groupJid'],...S('groupJid')},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'groupJid':{'type':a0_0x313677(0x706)},'action':{'type':'string','enum':[a0_0x313677(0x64d),a0_0x313677(0x36d),'promote',a0_0x313677(0x4de)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x313677(0x706),'minLength':0xa,'pattern':a0_0x313677(0x1ce),'description':a0_0x313677(0x6d0)}}},'required':[a0_0x313677(0x288),a0_0x313677(0x277),'participants'],...S(a0_0x313677(0x288),a0_0x313677(0x277))},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x313677(0x706)},'expiration':{'type':a0_0x313677(0x2d9),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x313677(0x288),a0_0x313677(0x406)],...S(a0_0x313677(0x288),'expiration')},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x313677(0x706)}},'required':[a0_0x313677(0x288),a0_0x313677(0x49f)],...S(a0_0x313677(0x288),a0_0x313677(0x49f))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'groupJid':{'type':a0_0x313677(0x706)},'description':{'type':'string'}},'required':[a0_0x313677(0x288),a0_0x313677(0x6c7)],...S(a0_0x313677(0x288),'description')},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'groupJid':{'type':a0_0x313677(0x706)},'name':{'type':a0_0x313677(0x706)}},'required':[a0_0x313677(0x288),a0_0x313677(0x4af)],...S(a0_0x313677(0x288),a0_0x313677(0x4af))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'groupJid':{'type':a0_0x313677(0x706)},'setting':{'type':'string','enum':[a0_0x313677(0x6fd),a0_0x313677(0x48c),'unlocked',a0_0x313677(0x569)]}},'required':[a0_0x313677(0x288),'setting'],...S(a0_0x313677(0x288),a0_0x313677(0x5c9))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'inviteCode':{'type':a0_0x313677(0x706)}},'required':['inviteCode'],...S(a0_0x313677(0x652))},Za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':'string'},'enabled':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]}},'required':['url',a0_0x313677(0x33c)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x313677(0x492),'properties':{'local_map':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x313677(0x302),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x313677(0x44d),a0_0x313677(0x51b),'MESSAGES_SET','MESSAGES_UPDATE',a0_0x313677(0x27f),'SEND_MESSAGE','CONTACTS_SET',a0_0x313677(0x76f),a0_0x313677(0x17f),'PRESENCE_UPDATE',a0_0x313677(0x452),a0_0x313677(0x603),a0_0x313677(0x1a5),a0_0x313677(0x68a),a0_0x313677(0x564),'GROUPS_UPSERT',a0_0x313677(0x137),a0_0x313677(0x485)],...S(a0_0x313677(0x400),a0_0x313677(0x44d),'QRCODE_UPDATED',a0_0x313677(0x3e8),a0_0x313677(0x561),a0_0x313677(0x27f),a0_0x313677(0x552),a0_0x313677(0x580),a0_0x313677(0x76f),a0_0x313677(0x17f),a0_0x313677(0x575),a0_0x313677(0x452),a0_0x313677(0x603),'CHATS_UPDATE',a0_0x313677(0x68a),'CONNECTION_UPDATE',a0_0x313677(0x597),a0_0x313677(0x137),'GROUP_PARTICIPANTS_UPDATE')},Ke=class{},Qe=class extends I{[a0_0x313677(0x3ae)](_0x682b1f){return Bs(_0x682b1f);}async[a0_0x313677(0x47b)](_0xf98a49){const _0x3700b7=a0_0x313677;if(_0xf98a49[_0x3700b7(0x1c3)]!==0x0)try{return{'insertCount':(await this[_0x3700b7(0x3ae)](_0xf98a49[0x0][_0x3700b7(0x266)])[_0x3700b7(0x403)]([..._0xf98a49]))[_0x3700b7(0x1c3)]};}catch(_0x357aa7){return _0x357aa7;}}async[a0_0x313677(0x686)](_0x109655,_0x483080){const _0x47ce6d=a0_0x313677;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x483080)[_0x47ce6d(0x671)]({..._0x109655[_0x47ce6d(0x408)]}))[_0x47ce6d(0x75d)]};}catch(_0x334681){return{'error':_0x334681?.[_0x47ce6d(0x3eb)]()};}}async['update'](_0x396743,_0x30899a){const _0x30edd5=a0_0x313677;try{if(_0x396743['length']===0x0)return;let _0x1145e9=this[_0x30edd5(0x3ae)](_0x30899a),_0x32076c=_0x396743[_0x30edd5(0x217)](_0x10fb67=>({'updateOne':{'filter':{'_id':_0x10fb67[_0x30edd5(0x510)],'owner':_0x30899a},'update':{..._0x10fb67}}})),{modifiedCount:_0x114076}=await _0x1145e9['bulkWrite'](_0x32076c);return{'insertCount':_0x114076};}catch{return;}}async[a0_0x313677(0x144)](_0x3ae0e4,_0x2efbb1){const _0x5b54ea=a0_0x313677;try{let _0x4436fc=this[_0x5b54ea(0x3ae)](_0x2efbb1),_0x3b13d4=A(_0x3ae0e4[_0x5b54ea(0x408)]);return await _0x4436fc[_0x5b54ea(0x144)](_0x3b13d4)[_0x5b54ea(0x3d1)](_0x3ae0e4?.[_0x5b54ea(0x3d1)]??0x0)[_0x5b54ea(0x1b8)]();}catch{return[];}}async[a0_0x313677(0x330)](_0x4d14fd,_0x21c6e0){const _0x39be3c=a0_0x313677;try{let _0x45eda4=this[_0x39be3c(0x3ae)](_0x21c6e0),_0x2003f2=A(_0x4d14fd['where']);return await _0x45eda4[_0x39be3c(0x330)](_0x2003f2)[_0x39be3c(0x1b8)]();}catch{return null;}}async[a0_0x313677(0x664)](_0x25b895){const _0x35dd61=a0_0x313677;try{return await this[_0x35dd61(0x3ae)](_0x25b895)[_0x35dd61(0x497)]['drop'](),{'success':!0x0};}catch(_0x4fad97){return console[_0x35dd61(0x54e)](_0x4fad97),{'success':!0x1,'error':_0x4fad97};}}},Ye=require(a0_0x313677(0x2b5)),cc=require(a0_0x313677(0x436)),ps=new v('Validate'),U=class{[a0_0x313677(0x255)](_0x41309f,_0x1c4bd2=!0x0){let _0x2e8504='/'+_0x41309f;return _0x1c4bd2&&(_0x2e8504+='/:instanceName'),_0x2e8504;}async['dataValidate'](_0x57214c){const _0x25f4cd=a0_0x313677;let {request:_0x286e2f,schema:_0x3bef13,ClassRef:_0x54afe8,execute:_0x4d0653}=_0x57214c,_0x4f3853=new _0x54afe8(),_0x2c7611=_0x286e2f[_0x25f4cd(0x6d1)],_0x33eca9=_0x286e2f[_0x25f4cd(0x2ff)];_0x286e2f?.[_0x25f4cd(0x3e7)]&&Object[_0x25f4cd(0x72a)](_0x286e2f[_0x25f4cd(0x3e7)])['length']>0x0&&Object[_0x25f4cd(0x432)](_0x33eca9,_0x286e2f[_0x25f4cd(0x3e7)]),_0x286e2f[_0x25f4cd(0x6e3)][_0x25f4cd(0x2fe)](_0x25f4cd(0x676))&&Object[_0x25f4cd(0x432)](_0x33eca9,_0x2c7611),Object[_0x25f4cd(0x432)](_0x4f3853,_0x2c7611);let _0x13c621=_0x3bef13?(0x0,Ye[_0x25f4cd(0x434)])(_0x4f3853,_0x3bef13):{'valid':!0x0,'errors':[]};if(!_0x13c621[_0x25f4cd(0x449)]){let _0x823e6=_0x13c621['errors']['map'](({property:_0x3571f3,stack:_0x5d1dff,schema:_0x35b6ac})=>{const _0x58c59d=_0x25f4cd;let _0xcc1329;return _0x35b6ac[_0x58c59d(0x6c7)]?_0xcc1329=_0x35b6ac[_0x58c59d(0x6c7)]:_0xcc1329=_0x5d1dff[_0x58c59d(0x427)](_0x58c59d(0x576),''),{'property':_0x3571f3['replace']('instance.',''),'message':_0xcc1329};});throw ps[_0x25f4cd(0x54e)]([..._0x823e6]),new m(..._0x823e6);}return await _0x4d0653(_0x33eca9,_0x4f3853);}async[a0_0x313677(0x25e)](_0x501fa9){const _0x13124f=a0_0x313677;let {request:_0x11f03d,ClassRef:_0x25007e,schema:_0x1aa230,execute:_0x54c5d4}=_0x501fa9,_0x386e72=_0x11f03d['query'];if(!_0x386e72?.[_0x13124f(0x288)])throw new m(_0x13124f(0x190),_0x13124f(0x3ac));let _0x1abc61=_0x11f03d[_0x13124f(0x2ff)],_0x191f0b=_0x11f03d[_0x13124f(0x6d1)],_0x3d4164=new _0x25007e();Object[_0x13124f(0x432)](_0x191f0b,_0x386e72),Object[_0x13124f(0x432)](_0x3d4164,_0x191f0b);let _0xb6bfdc=(0x0,Ye[_0x13124f(0x434)])(_0x3d4164,_0x1aa230);if(!_0xb6bfdc[_0x13124f(0x449)]){let _0x32e234=_0xb6bfdc[_0x13124f(0x799)][_0x13124f(0x217)](({property:_0x1e794,stack:_0x2c4435,schema:_0x1f1226})=>{const _0x2c8f1a=_0x13124f;let _0x2ae34c;return _0x1f1226[_0x2c8f1a(0x6c7)]?_0x2ae34c=_0x1f1226[_0x2c8f1a(0x6c7)]:_0x2ae34c=_0x2c4435[_0x2c8f1a(0x427)](_0x2c8f1a(0x576),''),{'property':_0x1e794[_0x2c8f1a(0x427)](_0x2c8f1a(0x576),''),'message':_0x2ae34c};});throw ps[_0x13124f(0x54e)]([..._0x32e234]),new m(..._0x32e234);}return await _0x54c5d4(_0x1abc61,_0x3d4164);}async[a0_0x313677(0x15d)](_0xf0484d){const _0x137bc5=a0_0x313677;let {request:_0x876e71,ClassRef:_0xafb96b,schema:_0x2562e2,execute:_0x2abcb3}=_0xf0484d,_0x264d7d=_0x876e71['body'];if(!_0x264d7d?.[_0x137bc5(0x652)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x137bc5(0x1fc));let _0x4e5fc9=_0x876e71[_0x137bc5(0x2ff)],_0x500d73=_0x876e71[_0x137bc5(0x6d1)],_0x16994c=new _0xafb96b();Object[_0x137bc5(0x432)](_0x500d73,_0x264d7d),Object[_0x137bc5(0x432)](_0x16994c,_0x500d73);let _0x2ccd60=(0x0,Ye[_0x137bc5(0x434)])(_0x16994c,_0x2562e2);if(!_0x2ccd60['valid']){let _0x30e435=_0x2ccd60[_0x137bc5(0x799)][_0x137bc5(0x217)](({property:_0x3356f7,stack:_0x530a4d,schema:_0x7b7698})=>{const _0x1ee01d=_0x137bc5;let _0x4ce030;return _0x7b7698[_0x1ee01d(0x6c7)]?_0x4ce030=_0x7b7698[_0x1ee01d(0x6c7)]:_0x4ce030=_0x530a4d[_0x1ee01d(0x427)](_0x1ee01d(0x576),''),{'property':_0x3356f7['replace'](_0x1ee01d(0x576),''),'message':_0x4ce030};});throw ps[_0x137bc5(0x54e)]([..._0x30e435]),new m(..._0x30e435);}return await _0x2abcb3(_0x4e5fc9,_0x16994c);}},E=class{},Mc=new v('ChatRouter'),Xe=class extends U{constructor(..._0x6437de){const _0x2803a7=a0_0x313677;super(),this['router']=(0x0,er[_0x2803a7(0x313)])(),this[_0x2803a7(0x3bf)]['post'](this[_0x2803a7(0x255)](_0x2803a7(0x3b8)),..._0x6437de,async(_0x590957,_0x2717d4)=>{const _0x49f396=_0x2803a7;let _0x17cb0f=await this[_0x49f396(0x645)]({'request':_0x590957,'schema':Ba,'ClassRef':je,'execute':(_0x420a50,_0x3311d9)=>x['updatePresence'](_0x420a50,_0x3311d9)});return _0x2717d4['status'](0xc9)['json'](_0x17cb0f);})[_0x2803a7(0x5a6)](this[_0x2803a7(0x255)](_0x2803a7(0x6d2)),..._0x6437de,async(_0x2b4558,_0x14c83f)=>{const _0x2d50ad=_0x2803a7;let _0x33b236=await this['dataValidate']({'request':_0x2b4558,'schema':Pa,'ClassRef':Fe,'execute':(_0x9a3299,_0x791b1a)=>x[_0x2d50ad(0x521)](_0x9a3299,_0x791b1a)});return _0x14c83f['status'](0xc9)['json'](_0x33b236);})[_0x2803a7(0x5a6)](this[_0x2803a7(0x255)](_0x2803a7(0x2cf)),..._0x6437de,async(_0x1beb5c,_0x19a478)=>{const _0x5f5460=_0x2803a7;let _0x4d369d=await this[_0x5f5460(0x645)]({'request':_0x1beb5c,'schema':M,'ClassRef':E,'execute':(_0x29aae2,_0x5745f2)=>x[_0x5f5460(0x2cf)](_0x29aae2,_0x5745f2)});return _0x19a478[_0x5f5460(0x57d)](0xc9)['json'](_0x4d369d);})['put'](this['routerPath']('markMessageAsRead'),..._0x6437de,async(_0x38466c,_0x44a909)=>{const _0xbd36d9=_0x2803a7;let _0xb02294=await this['dataValidate']({'request':_0x38466c,'schema':$a,'ClassRef':Je,'execute':(_0x5ec671,_0x534ded)=>x[_0xbd36d9(0x58b)](_0x5ec671,_0x534ded)});return _0x44a909['status'](0xc9)[_0xbd36d9(0x377)](_0xb02294);})[_0x2803a7(0x31c)](this[_0x2803a7(0x255)](_0x2803a7(0x295)),..._0x6437de,async(_0x3973de,_0xbde5c2)=>{const _0x287804=_0x2803a7;let _0x3e4b1f=await this['dataValidate']({'request':_0x3973de,'schema':La,'ClassRef':Ve,'execute':(_0x3d75bd,_0x328970)=>x[_0x287804(0x295)](_0x3d75bd,_0x328970)});return _0xbde5c2[_0x287804(0x57d)](0xc9)[_0x287804(0x377)](_0x3e4b1f);})['delete'](this[_0x2803a7(0x255)](_0x2803a7(0x5da)),..._0x6437de,async(_0x192b4f,_0x1094f2)=>{let _0x5b12e1=await this['dataValidate']({'request':_0x192b4f,'schema':ja,'ClassRef':Ge,'execute':(_0x3c08b2,_0x2840d0)=>x['deleteMessage'](_0x3c08b2,_0x2840d0)});return _0x1094f2['status'](0xc9)['json'](_0x5b12e1);})[_0x2803a7(0x5a6)](this[_0x2803a7(0x255)]('fetchProfilePictureUrl'),..._0x6437de,async(_0x5a698b,_0x2a157f)=>{const _0x4dc6d7=_0x2803a7;let _0x3ff9f9=await this[_0x4dc6d7(0x645)]({'request':_0x5a698b,'schema':Se,'ClassRef':be,'execute':(_0x2a3f16,_0x3db808)=>x[_0x4dc6d7(0x30a)](_0x2a3f16,_0x3db808)});return _0x2a157f[_0x4dc6d7(0x57d)](0xc8)['json'](_0x3ff9f9);})[_0x2803a7(0x5a6)](this[_0x2803a7(0x255)](_0x2803a7(0x47d)),..._0x6437de,async(_0x19015b,_0x4d958d)=>{const _0x1ac547=_0x2803a7;let _0x333230=await this[_0x1ac547(0x645)]({'request':_0x19015b,'schema':Ja,'ClassRef':be,'execute':(_0x2ffbac,_0x2397bc)=>x[_0x1ac547(0x47d)](_0x2ffbac,_0x2397bc)});return _0x4d958d[_0x1ac547(0x57d)](0xc8)[_0x1ac547(0x377)](_0x333230);})[_0x2803a7(0x5a6)](this[_0x2803a7(0x255)](_0x2803a7(0x3d6)),..._0x6437de,async(_0x514941,_0x537f50)=>{const _0x25e591=_0x2803a7;let _0x2d88f5=await this[_0x25e591(0x645)]({'request':_0x514941,'schema':Fa,'ClassRef':Ke,'execute':(_0x4a8405,_0x45a68b)=>x[_0x25e591(0x3c9)](_0x4a8405,_0x45a68b)});return _0x537f50[_0x25e591(0x57d)](0xc8)['json'](_0x2d88f5);})[_0x2803a7(0x5a6)](this[_0x2803a7(0x255)](_0x2803a7(0x759)),..._0x6437de,async(_0x2dacff,_0x338e03)=>{const _0x4974bd=_0x2803a7;let _0x43efb4=await this[_0x4974bd(0x645)]({'request':_0x2dacff,'schema':null,'ClassRef':Object,'execute':(_0x1ad481,_0x222848)=>x['getBase64FromMediaMessage'](_0x1ad481,_0x222848)});return _0x338e03[_0x4974bd(0x57d)](0xc9)[_0x4974bd(0x377)](_0x43efb4);})[_0x2803a7(0x5a6)](this['routerPath'](_0x2803a7(0x74e)),..._0x6437de,async(_0x3fe371,_0x35fa86)=>{const _0x52a164=_0x2803a7;let _0x2b7589=await this[_0x52a164(0x645)]({'request':_0x3fe371,'schema':Va,'ClassRef':ke,'execute':(_0x843554,_0x400ca8)=>x['fetchMessages'](_0x843554,_0x400ca8)});return _0x35fa86[_0x52a164(0x57d)](0xc8)['json'](_0x2b7589);})[_0x2803a7(0x749)](this[_0x2803a7(0x255)](_0x2803a7(0x26d)),..._0x6437de,async(_0x4c8127,_0x1dc365)=>{const _0x2b4e55=_0x2803a7;let _0x536e5b=await this[_0x2b4e55(0x645)]({'request':_0x4c8127,'schema':null,'ClassRef':E,'execute':_0x1f0070=>x['fetchChats'](_0x1f0070)});return _0x1dc365['status'](0xc8)[_0x2b4e55(0x377)](_0x536e5b);})[_0x2803a7(0x749)](this[_0x2803a7(0x255)](_0x2803a7(0x3ba)),..._0x6437de,async(_0x423a7a,_0x3c9ffa)=>{const _0x3c9ed0=_0x2803a7;let _0x31a3c7=await this[_0x3c9ed0(0x645)]({'request':_0x423a7a,'schema':null,'ClassRef':E,'execute':_0x4fd2dc=>x[_0x3c9ed0(0x150)](_0x4fd2dc)});return _0x3c9ffa['status'](0xc8)[_0x3c9ed0(0x377)](_0x31a3c7);})['put'](this['routerPath'](_0x2803a7(0x31b)),..._0x6437de,async(_0x2b4c92,_0xa561ac)=>{const _0xc52b18=_0x2803a7;let _0x5bc616=await this[_0xc52b18(0x645)]({'request':_0x2b4c92,'schema':null,'ClassRef':Array,'execute':(_0x4caca7,_0x57b47d)=>x['importChats'](_0x4caca7,_0x57b47d)});return _0xa561ac[_0xc52b18(0x57d)](0xc8)[_0xc52b18(0x377)](_0x5bc616);})[_0x2803a7(0x749)](this[_0x2803a7(0x255)](_0x2803a7(0x69d)),..._0x6437de,async(_0x4553fa,_0x344d6c)=>{const _0x1265ef=_0x2803a7;let _0x44a36d=await this[_0x1265ef(0x645)]({'request':_0x4553fa,'schema':null,'ClassRef':E,'execute':_0x429a18=>x['fetchPrivacySettings'](_0x429a18)});return _0x344d6c[_0x1265ef(0x57d)](0xc8)['json'](_0x44a36d);})[_0x2803a7(0x31c)](this[_0x2803a7(0x255)](_0x2803a7(0x1a4)),..._0x6437de,async(_0x410a11,_0x4f292e)=>{const _0xe225ca=_0x2803a7;let _0x22c2a4=await this[_0xe225ca(0x645)]({'request':_0x410a11,'schema':ka,'ClassRef':Be,'execute':(_0x1f0a3e,_0x3da9f8)=>x[_0xe225ca(0x1a4)](_0x1f0a3e,_0x3da9f8)});return _0x4f292e[_0xe225ca(0x57d)](0xc9)['json'](_0x22c2a4);})[_0x2803a7(0x5a6)](this[_0x2803a7(0x255)]('fetchBusinessProfile'),..._0x6437de,async(_0x5e6205,_0x577a51)=>{const _0x6c3e5e=_0x2803a7;let _0x21638e=await this['dataValidate']({'request':_0x5e6205,'schema':Se,'ClassRef':fe,'execute':(_0x3e592b,_0x3bd92c)=>x[_0x6c3e5e(0x4f1)](_0x3e592b,_0x3bd92c)});return _0x577a51['status'](0xc8)[_0x6c3e5e(0x377)](_0x21638e);})['post'](this[_0x2803a7(0x255)]('updateProfileName'),..._0x6437de,async(_0x5183e9,_0x1b5771)=>{const _0x56be01=_0x2803a7;let _0x104d81=await this[_0x56be01(0x645)]({'request':_0x5183e9,'schema':qa,'ClassRef':qe,'execute':(_0x3d656b,_0x1176e5)=>x['updateProfileName'](_0x3d656b,_0x1176e5)});return _0x1b5771[_0x56be01(0x57d)](0xc8)[_0x56be01(0x377)](_0x104d81);})[_0x2803a7(0x5a6)](this[_0x2803a7(0x255)](_0x2803a7(0x60a)),..._0x6437de,async(_0x143373,_0x14c4cf)=>{const _0x2e8e18=_0x2803a7;let _0x2c8afb=await this['dataValidate']({'request':_0x143373,'schema':Ua,'ClassRef':Ue,'execute':(_0x2d462a,_0x33b11e)=>x[_0x2e8e18(0x60a)](_0x2d462a,_0x33b11e)});return _0x14c4cf[_0x2e8e18(0x57d)](0xc8)[_0x2e8e18(0x377)](_0x2c8afb);})['put'](this[_0x2803a7(0x255)]('updateProfilePicture'),..._0x6437de,async(_0x1e077e,_0x173369)=>{const _0x20452a=_0x2803a7;let _0x447406=await this[_0x20452a(0x645)]({'request':_0x1e077e,'schema':Se,'ClassRef':fe,'execute':(_0x3cc36f,_0x4a2947)=>x[_0x20452a(0x33d)](_0x3cc36f,_0x4a2947)});return _0x173369[_0x20452a(0x57d)](0xc8)[_0x20452a(0x377)](_0x447406);})[_0x2803a7(0x686)](this[_0x2803a7(0x255)]('removeProfilePicture'),..._0x6437de,async(_0x36f048,_0x2ce005)=>{const _0x1391a2=_0x2803a7;let _0x3aec6d=await this[_0x1391a2(0x645)]({'request':_0x36f048,'schema':Se,'ClassRef':fe,'execute':(_0x23508a,_0x6ba062)=>x[_0x1391a2(0x373)](_0x23508a,_0x6ba062)});return _0x2ce005[_0x1391a2(0x57d)](0xc8)[_0x1391a2(0x377)](_0x3aec6d);});}},tr=require(a0_0x313677(0x2c0)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},rt=class{},ot=class extends Y{},it=class extends Y{},nt=class extends U{constructor(..._0x1f0e84){const _0x4d6c5b=a0_0x313677;super(),this[_0x4d6c5b(0x3bf)]=(0x0,tr['Router'])(),this[_0x4d6c5b(0x3bf)]['post'](this[_0x4d6c5b(0x255)](_0x4d6c5b(0x568)),..._0x1f0e84,async(_0x259012,_0xaddc92)=>{const _0x499ea4=_0x4d6c5b;let _0x51b79d=await this[_0x499ea4(0x645)]({'request':_0x259012,'schema':Ga,'ClassRef':Ze,'execute':(_0x2980b4,_0x29c1b3)=>q[_0x499ea4(0x15b)](_0x2980b4,_0x29c1b3)});_0xaddc92['status'](0xc9)[_0x499ea4(0x377)](_0x51b79d);})[_0x4d6c5b(0x31c)](this['routerPath'](_0x4d6c5b(0x75f)),..._0x1f0e84,async(_0x2759b3,_0x26eedd)=>{const _0x2d3647=_0x4d6c5b;let _0x2ee276=await this[_0x2d3647(0x25e)]({'request':_0x2759b3,'schema':Ha,'ClassRef':et,'execute':(_0x45da27,_0x348b98)=>q[_0x2d3647(0x75f)](_0x45da27,_0x348b98)});_0x26eedd[_0x2d3647(0x57d)](0xc9)[_0x2d3647(0x377)](_0x2ee276);})[_0x4d6c5b(0x31c)](this[_0x4d6c5b(0x255)]('groupDesc'),..._0x1f0e84,async(_0x452167,_0x58856f)=>{const _0x31485e=_0x4d6c5b;let _0x24aba0=await this[_0x31485e(0x25e)]({'request':_0x452167,'schema':Ka,'ClassRef':tt,'execute':(_0x401e62,_0x4a22a4)=>q[_0x31485e(0x3a3)](_0x401e62,_0x4a22a4)});_0x58856f[_0x31485e(0x57d)](0xc9)['json'](_0x24aba0);})[_0x4d6c5b(0x31c)](this[_0x4d6c5b(0x255)](_0x4d6c5b(0x559)),..._0x1f0e84,async(_0x181d9f,_0x2a0856)=>{const _0x518979=_0x4d6c5b;let _0x5263a7=await this['groupValidate']({'request':_0x181d9f,'schema':Qa,'ClassRef':st,'execute':(_0x450d64,_0x45ba39)=>q[_0x518979(0x559)](_0x450d64,_0x45ba39)});_0x2a0856[_0x518979(0x57d)](0xc9)[_0x518979(0x377)](_0x5263a7);})[_0x4d6c5b(0x31c)](this[_0x4d6c5b(0x255)](_0x4d6c5b(0x655)),..._0x1f0e84,async(_0x15ae66,_0x1959bb)=>{const _0x2f673b=_0x4d6c5b;let _0x30419f=await this['groupValidate']({'request':_0x15ae66,'schema':Ya,'ClassRef':at,'execute':(_0x5a2e84,_0x3fdb6a)=>q[_0x2f673b(0x655)](_0x5a2e84,_0x3fdb6a)});_0x1959bb[_0x2f673b(0x57d)](0xc9)[_0x2f673b(0x377)](_0x30419f);})[_0x4d6c5b(0x31c)](this[_0x4d6c5b(0x255)](_0x4d6c5b(0x275)),..._0x1f0e84,async(_0x3bd978,_0x384ba7)=>{const _0x3ee5ef=_0x4d6c5b;let _0x5294b3=await this[_0x3ee5ef(0x25e)]({'request':_0x3bd978,'schema':za,'ClassRef':it,'execute':(_0x5dedb7,_0x5d7c85)=>q[_0x3ee5ef(0x275)](_0x5dedb7,_0x5d7c85)});_0x384ba7[_0x3ee5ef(0x57d)](0xc9)['json'](_0x5294b3);})[_0x4d6c5b(0x749)](this[_0x4d6c5b(0x255)](_0x4d6c5b(0x2c2)),..._0x1f0e84,async(_0x2e1feb,_0x25118e)=>{const _0x5ab649=_0x4d6c5b;let _0x3b9acd=await this[_0x5ab649(0x25e)]({'request':_0x2e1feb,'schema':Ee,'ClassRef':Y,'execute':(_0x5d3380,_0x4bb480)=>q[_0x5ab649(0x5eb)](_0x5d3380,_0x4bb480)});_0x25118e[_0x5ab649(0x57d)](0xc8)[_0x5ab649(0x377)](_0x3b9acd);})[_0x4d6c5b(0x749)](this[_0x4d6c5b(0x255)]('findGroups'),..._0x1f0e84,async(_0x3607d5,_0x234636)=>{const _0x58bc32=_0x4d6c5b;let _0x554e99=await this[_0x58bc32(0x645)]({'request':_0x3607d5,'schema':M,'ClassRef':E,'execute':_0x6724ed=>q[_0x58bc32(0x481)](_0x6724ed)});_0x234636['status'](0xc8)[_0x58bc32(0x377)](_0x554e99);})['get'](this[_0x4d6c5b(0x255)](_0x4d6c5b(0x3c6)),..._0x1f0e84,async(_0x5d425e,_0x2ac566)=>{const _0x2d4618=_0x4d6c5b;let _0x1162f1=await this[_0x2d4618(0x25e)]({'request':_0x5d425e,'schema':Ee,'ClassRef':Y,'execute':(_0xbfea87,_0x20f38b)=>q['findParticipants'](_0xbfea87,_0x20f38b)});_0x2ac566[_0x2d4618(0x57d)](0xc8)[_0x2d4618(0x377)](_0x1162f1);})[_0x4d6c5b(0x749)](this[_0x4d6c5b(0x255)]('inviteCode'),..._0x1f0e84,async(_0x267943,_0x2a6542)=>{const _0x260b8c=_0x4d6c5b;let _0x4c8600=await this[_0x260b8c(0x25e)]({'request':_0x267943,'schema':Ee,'ClassRef':Y,'execute':(_0x242007,_0x5f1fa9)=>q[_0x260b8c(0x652)](_0x242007,_0x5f1fa9)});_0x2a6542[_0x260b8c(0x57d)](0xc8)[_0x260b8c(0x377)](_0x4c8600);})[_0x4d6c5b(0x31c)](this[_0x4d6c5b(0x255)](_0x4d6c5b(0x59e)),..._0x1f0e84,async(_0x3d0589,_0x298580)=>{const _0x5d1d28=_0x4d6c5b;let _0x19d140=await this[_0x5d1d28(0x15d)]({'request':_0x3d0589,'schema':Xa,'ClassRef':rt,'execute':(_0x7abee0,_0x1963a9)=>q[_0x5d1d28(0x59e)](_0x7abee0,_0x1963a9)});_0x298580['status'](0xc9)[_0x5d1d28(0x377)](_0x19d140);})[_0x4d6c5b(0x31c)](this['routerPath'](_0x4d6c5b(0x4c2)),..._0x1f0e84,async(_0x377742,_0x461c8f)=>{const _0x268479=_0x4d6c5b;let _0x2dc1ad=await this[_0x268479(0x25e)]({'request':_0x377742,'schema':Ee,'ClassRef':Y,'execute':(_0x4882fc,_0x2242db)=>q[_0x268479(0x4c2)](_0x4882fc,_0x2242db)});_0x461c8f[_0x268479(0x57d)](0xc9)[_0x268479(0x377)](_0x2dc1ad);})['put'](this[_0x4d6c5b(0x255)](_0x4d6c5b(0x405)),..._0x1f0e84,async(_0x504e53,_0x49b7f8)=>{const _0x20dd9b=_0x4d6c5b;let _0x3375ac=await this[_0x20dd9b(0x25e)]({'request':_0x504e53,'schema':Wa,'ClassRef':ot,'execute':(_0xab4384,_0x3aae58)=>q[_0x20dd9b(0x3cd)](_0xab4384,_0x3aae58)});_0x49b7f8[_0x20dd9b(0x57d)](0xc9)[_0x20dd9b(0x377)](_0x3375ac);})[_0x4d6c5b(0x686)](this['routerPath'](_0x4d6c5b(0x589)),..._0x1f0e84,async(_0x3d33aa,_0x10a45a)=>{const _0x1e1754=_0x4d6c5b;let _0x158647=await this[_0x1e1754(0x25e)]({'request':_0x3d33aa,'schema':{},'ClassRef':Y,'execute':(_0x39a6c5,_0x5dcd17)=>q[_0x1e1754(0x589)](_0x39a6c5,_0x5dcd17)});_0x10a45a[_0x1e1754(0x57d)](0xc8)['json'](_0x158647);});}},sr=require('express'),ct=class extends U{constructor(_0x19e040,..._0x2ffdfc){const _0x916335=a0_0x313677;super(),this[_0x916335(0x416)]=_0x19e040,this[_0x916335(0x3bf)]=(0x0,sr[_0x916335(0x313)])();let _0x20163b=_0x19e040[_0x916335(0x749)]('AUTHENTICATION');this[_0x916335(0x3bf)][_0x916335(0x5a6)](_0x916335(0x1d7),..._0x2ffdfc,async(_0x57c44e,_0x291673)=>{const _0x2f82e4=_0x916335;let {instanceName:_0x35e6f5,apikey:_0x57fdc1,number:_0x56a906}=_0x57c44e[_0x2f82e4(0x6d1)],_0x2580d6=await le[_0x2f82e4(0x221)]({'instanceName':_0x35e6f5,'apikey':_0x57fdc1,'number':_0x56a906});return _0x291673['status'](0xc9)[_0x2f82e4(0x377)](_0x2580d6);})[_0x916335(0x31c)](this['routerPath'](_0x916335(0x5ea)),..._0x2ffdfc,async(_0x25e052,_0x4c302e)=>{const _0x15e3b5=_0x916335;let _0x325b45=await this[_0x15e3b5(0x645)]({'request':_0x25e052,'schema':M,'ClassRef':E,'execute':_0x3f9d72=>le[_0x15e3b5(0x206)](_0x3f9d72)});return _0x4c302e[_0x15e3b5(0x57d)](0xc8)[_0x15e3b5(0x377)](_0x325b45);})[_0x916335(0x749)](this[_0x916335(0x255)](_0x916335(0x37f)),..._0x2ffdfc,async(_0x404142,_0x5e93b2)=>{const _0x56c97e=_0x916335;let _0x5c02ad=await this[_0x56c97e(0x645)]({'request':_0x404142,'schema':M,'ClassRef':E,'execute':_0x330a7b=>le[_0x56c97e(0x37f)](_0x330a7b)});return _0x5e93b2[_0x56c97e(0x57d)](0xc8)[_0x56c97e(0x377)](_0x5c02ad);})[_0x916335(0x749)](this['routerPath'](_0x916335(0x357),!0x1),..._0x2ffdfc,async(_0x355e11,_0x32b204)=>{const _0x7df62f=_0x916335;let _0x200fb6=await this[_0x7df62f(0x645)]({'request':_0x355e11,'schema':null,'ClassRef':E,'execute':_0xad7349=>le['fetchInstances'](_0xad7349)});return _0x32b204[_0x7df62f(0x57d)](0xc8)['json'](_0x200fb6);})[_0x916335(0x686)](this['routerPath'](_0x916335(0x472)),..._0x2ffdfc,async(_0x4885c2,_0x508b0a)=>{const _0x4f3534=_0x916335;let _0x5ce56f=await this['dataValidate']({'request':_0x4885c2,'schema':M,'ClassRef':E,'execute':_0x2df569=>le[_0x4f3534(0x472)](_0x2df569)});return _0x508b0a['status'](0xc8)[_0x4f3534(0x377)](_0x5ce56f);})[_0x916335(0x686)](this['routerPath'](_0x916335(0x686)),..._0x2ffdfc,async(_0x4fc65f,_0x340588)=>{const _0x28f922=_0x916335;let _0x37f573=await this[_0x28f922(0x645)]({'request':_0x4fc65f,'schema':M,'ClassRef':E,'execute':_0x3b30c5=>le[_0x28f922(0x79b)](_0x3b30c5)});return _0x340588[_0x28f922(0x57d)](0xc8)[_0x28f922(0x377)](_0x37f573);});}},ar=require('express'),gs=class{},W=class extends gs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},gt=class extends W{},ht=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends U{constructor(..._0x5db08a){const _0x490c02=a0_0x313677;super(),this[_0x490c02(0x3bf)]=(0x0,ar[_0x490c02(0x313)])(),this[_0x490c02(0x3bf)]['post'](this[_0x490c02(0x255)](_0x490c02(0x27a)),..._0x5db08a,async(_0x240ffe,_0x477962)=>{const _0x41016d=_0x490c02;let _0x2d256d=await this[_0x41016d(0x645)]({'request':_0x240ffe,'schema':Ea,'ClassRef':lt,'execute':(_0x107307,_0x5ec1b6)=>G['sendText'](_0x107307,_0x5ec1b6)});return _0x477962[_0x41016d(0x57d)](0xc9)['json'](_0x2d256d);})[_0x490c02(0x5a6)](this[_0x490c02(0x255)](_0x490c02(0x3af)),..._0x5db08a,async(_0x387f06,_0x16cbe1)=>{const _0x358609=_0x490c02;let _0x22f7d8=await this['dataValidate']({'request':_0x387f06,'schema':Na,'ClassRef':Ce,'execute':(_0x4221d4,_0x1fa60f)=>G[_0x358609(0x3af)](_0x4221d4,_0x1fa60f)});return _0x16cbe1[_0x358609(0x57d)](0xc9)[_0x358609(0x377)](_0x22f7d8);})[_0x490c02(0x5a6)](this[_0x490c02(0x255)](_0x490c02(0x5cb)),..._0x5db08a,async(_0x44d501,_0x445b08)=>{const _0x1d21b1=_0x490c02;let _0x1931b0=await this[_0x1d21b1(0x645)]({'request':_0x44d501,'schema':Aa,'ClassRef':pt,'execute':(_0x416dbb,_0x3cb71a)=>G[_0x1d21b1(0x5cb)](_0x416dbb,_0x3cb71a)});return _0x445b08['status'](0xc9)[_0x1d21b1(0x377)](_0x1931b0);})[_0x490c02(0x5a6)](this[_0x490c02(0x255)](_0x490c02(0x2ca)),..._0x5db08a,async(_0x30fe5a,_0x5a1dab)=>{const _0x5d626d=_0x490c02;let _0x17f35c=await this[_0x5d626d(0x645)]({'request':_0x30fe5a,'schema':Ra,'ClassRef':Ce,'execute':(_0x334a1b,_0x58bc04)=>G[_0x5d626d(0x2ca)](_0x334a1b,_0x58bc04)});return _0x5a1dab['status'](0xc9)[_0x5d626d(0x377)](_0x17f35c);})['post'](this['routerPath'](_0x490c02(0x4e4)),..._0x5db08a,async(_0x1d1c9c,_0x1b3157)=>{const _0x8c7ce=_0x490c02;let _0x33289f=await this[_0x8c7ce(0x645)]({'request':_0x1d1c9c,'schema':Oa,'ClassRef':ht,'execute':(_0x2b11be,_0x129e03)=>G[_0x8c7ce(0x4e4)](_0x2b11be,_0x129e03)});return _0x1b3157['status'](0xc9)[_0x8c7ce(0x377)](_0x33289f);})[_0x490c02(0x5a6)](this['routerPath'](_0x490c02(0x622)),..._0x5db08a,async(_0x381815,_0x5e15ff)=>{const _0x481eaf=_0x490c02;let _0x4c5ad9=await this[_0x481eaf(0x645)]({'request':_0x381815,'schema':Ia,'ClassRef':mt,'execute':(_0x360595,_0x595b7c)=>G[_0x481eaf(0x622)](_0x360595,_0x595b7c)});return _0x5e15ff['status'](0xc9)[_0x481eaf(0x377)](_0x4c5ad9);})[_0x490c02(0x5a6)](this['routerPath'](_0x490c02(0x797)),..._0x5db08a,async(_0x540a2c,_0x28dfff)=>{const _0x2f54fe=_0x490c02;let _0x5963c7=await this[_0x2f54fe(0x645)]({'request':_0x540a2c,'schema':xa,'ClassRef':ft,'execute':(_0x2fe58b,_0x24b135)=>G['sendList'](_0x2fe58b,_0x24b135)});return _0x28dfff[_0x2f54fe(0x57d)](0xc9)[_0x2f54fe(0x377)](_0x5963c7);})[_0x490c02(0x5a6)](this[_0x490c02(0x255)]('sendContact'),..._0x5db08a,async(_0xb66bc8,_0x1529fb)=>{const _0x1dac3d=_0x490c02;let _0x237db4=await this[_0x1dac3d(0x645)]({'request':_0xb66bc8,'schema':Da,'ClassRef':wt,'execute':(_0x5dc486,_0xea3507)=>G[_0x1dac3d(0x574)](_0x5dc486,_0xea3507)});return _0x1529fb['status'](0xc9)['json'](_0x237db4);})[_0x490c02(0x5a6)](this[_0x490c02(0x255)]('sendReaction'),..._0x5db08a,async(_0x2bfefa,_0x2db055)=>{const _0x293d05=_0x490c02;let _0x24764e=await this['dataValidate']({'request':_0x2bfefa,'schema':_a,'ClassRef':yt,'execute':(_0x3577c1,_0x2fdc8e)=>G['sendReaction'](_0x3577c1,_0x2fdc8e)});return _0x2db055[_0x293d05(0x57d)](0xc9)['json'](_0x24764e);})[_0x490c02(0x5a6)](this['routerPath'](_0x490c02(0x52a)),..._0x5db08a,async(_0x5ddf8b,_0x1a6e8a)=>{const _0x39b056=_0x490c02;let _0x282981=await this[_0x39b056(0x645)]({'request':_0x5ddf8b,'schema':Ta,'ClassRef':dt,'execute':(_0x119652,_0x280cce)=>G[_0x39b056(0x52a)](_0x119652,_0x280cce)});return _0x1a6e8a[_0x39b056(0x57d)](0xc9)[_0x39b056(0x377)](_0x282981);})[_0x490c02(0x5a6)](this[_0x490c02(0x255)](_0x490c02(0x2cb)),..._0x5db08a,async(_0x53b7ff,_0x1b6638)=>{const _0x32b4cc=_0x490c02;let _0xc1c0f1=await this['dataValidate']({'request':_0x53b7ff,'schema':va,'ClassRef':ut,'execute':(_0x576787,_0x330e6c)=>G[_0x32b4cc(0x2cb)](_0x576787,_0x330e6c)});return _0x1b6638[_0x32b4cc(0x57d)](0xc9)[_0x32b4cc(0x377)](_0xc1c0f1);})[_0x490c02(0x5a6)](this[_0x490c02(0x255)]('sendSticker'),..._0x5db08a,async(_0x1ef388,_0x5dc580)=>{const _0x397db9=_0x490c02;let _0xe50846=await this[_0x397db9(0x645)]({'request':_0x1ef388,'schema':Ma,'ClassRef':gt,'execute':(_0x2223d7,_0x67c57e)=>G[_0x397db9(0x5a5)](_0x2223d7,_0x67c57e)});return _0x5dc580[_0x397db9(0x57d)](0xc9)[_0x397db9(0x377)](_0xe50846);});}},rr=require(a0_0x313677(0x2c0)),St=class{},Et=class extends U{constructor(..._0x3c0deb){const _0x5b718f=a0_0x313677;super(),this[_0x5b718f(0x3bf)]=(0x0,rr[_0x5b718f(0x313)])(),this['router']['post'](this[_0x5b718f(0x255)](_0x5b718f(0x61c)),..._0x3c0deb,async(_0x2674e6,_0x6926f9)=>{const _0x5062f3=_0x5b718f;let _0x172248=await this[_0x5062f3(0x645)]({'request':_0x2674e6,'schema':Za,'ClassRef':St,'execute':(_0x3f7e04,_0x3076f7)=>hs[_0x5062f3(0x464)](_0x3f7e04,_0x3076f7)});_0x6926f9[_0x5062f3(0x57d)](0xc9)['json'](_0x172248);})[_0x5b718f(0x749)](this[_0x5b718f(0x255)]('find'),..._0x3c0deb,async(_0x3290ba,_0x126173)=>{const _0x590eab=_0x5b718f;let _0x3918ea=await this[_0x590eab(0x645)]({'request':_0x3290ba,'schema':M,'ClassRef':E,'execute':_0xcdefe4=>hs[_0x590eab(0x54c)](_0xcdefe4)});_0x126173[_0x590eab(0x57d)](0xc8)[_0x590eab(0x377)](_0x3918ea);});}},or=require(a0_0x313677(0x2c0)),f=new v(a0_0x313677(0x37d)),Ct=class extends U{constructor(..._0x204fcb){const _0x295d3e=a0_0x313677;super(),this[_0x295d3e(0x3bf)]=(0x0,or[_0x295d3e(0x313)])(),this[_0x295d3e(0x3bf)][_0x295d3e(0x5a6)](this[_0x295d3e(0x255)](_0x295d3e(0x674)),..._0x204fcb,async(_0x59577d,_0xa4b3a2)=>{const _0x23ab63=_0x295d3e;let _0x4b7f17=_0x59577d['body'];f['verbose'](_0x23ab63(0x601)),f['verbose'](_0x23ab63(0x480)),f['verbose'](_0x59577d['body']);let _0x422585=await this[_0x23ab63(0x645)]({'request':_0x59577d,'schema':M,'ClassRef':E,'execute':_0x201e1c=>T[_0x23ab63(0x35b)](_0x201e1c,_0x4b7f17)});_0xa4b3a2[_0x23ab63(0x57d)](0xc8)[_0x23ab63(0x377)](_0x422585);})[_0x295d3e(0x749)](this[_0x295d3e(0x255)](_0x295d3e(0x674)),..._0x204fcb,async(_0x39e9aa,_0x1a3139)=>{const _0x26172e=_0x295d3e;let _0x133eb5=await this[_0x26172e(0x645)]({'request':_0x39e9aa,'schema':M,'ClassRef':E,'execute':_0x332cf8=>T['getScheduleMessage'](_0x332cf8)});_0x1a3139[_0x26172e(0x57d)](0xc8)[_0x26172e(0x377)](_0x133eb5);})[_0x295d3e(0x686)](this[_0x295d3e(0x255)](_0x295d3e(0x343)),..._0x204fcb,async(_0x6f7045,_0xe503b2)=>{const _0x257769=_0x295d3e;f[_0x257769(0x644)](_0x257769(0x345));let _0x1f52bb=await this[_0x257769(0x645)]({'request':_0x6f7045,'schema':M,'ClassRef':E,'execute':_0x3d585a=>T['deleteDoneMessages'](_0x3d585a)});_0xe503b2[_0x257769(0x57d)](0xc8)['json'](_0x1f52bb);})[_0x295d3e(0x5a6)](this[_0x295d3e(0x255)](_0x295d3e(0x5ff)),..._0x204fcb,async(_0x30abef,_0x59b147)=>{const _0x2f9972=_0x295d3e;let _0x21002a=_0x30abef[_0x2f9972(0x6d1)];f[_0x2f9972(0x644)](_0x2f9972(0x3dc)),f['verbose'](_0x2f9972(0x480)),f[_0x2f9972(0x644)](_0x30abef['body']);let _0x3c2c8c=await this['dataValidate']({'request':_0x30abef,'schema':M,'ClassRef':E,'execute':_0x57547b=>T['startFlow'](_0x57547b,_0x21002a)});_0x59b147['status'](0xc8)['json'](_0x3c2c8c);})[_0x295d3e(0x749)](this[_0x295d3e(0x255)]('getAutomateSystem'),..._0x204fcb,async(_0x1c82f7,_0x4b343d)=>{const _0x52191c=_0x295d3e;f[_0x52191c(0x644)](_0x52191c(0x2d8));let _0x9dfefa=await this[_0x52191c(0x645)]({'request':_0x1c82f7,'schema':M,'ClassRef':E,'execute':_0x342fa6=>T[_0x52191c(0x6b6)](_0x342fa6)});_0x4b343d['status'](0xc8)[_0x52191c(0x377)](_0x9dfefa);})[_0x295d3e(0x749)](this[_0x295d3e(0x255)]('getTicketSystem'),..._0x204fcb,async(_0x7cabc0,_0x217772)=>{const _0x46f9ae=_0x295d3e;f[_0x46f9ae(0x644)](_0x46f9ae(0x240));let _0x1240b8=await this['dataValidate']({'request':_0x7cabc0,'schema':M,'ClassRef':E,'execute':_0x7b16fe=>T['getAutomateSystem'](_0x7b16fe)});_0x217772[_0x46f9ae(0x57d)](0xc8)[_0x46f9ae(0x377)](_0x1240b8);})[_0x295d3e(0x5a6)](this[_0x295d3e(0x255)](_0x295d3e(0x5c1)),..._0x204fcb,async(_0x379959,_0x49ee32)=>{const _0x451891=_0x295d3e;let _0x2d3f54=_0x379959[_0x451891(0x6d1)];f[_0x451891(0x644)](_0x451891(0x18d)),f[_0x451891(0x644)](_0x451891(0x480)),f['verbose'](_0x379959[_0x451891(0x6d1)]);let _0x5a32c6=await this[_0x451891(0x645)]({'request':_0x379959,'schema':M,'ClassRef':E,'execute':_0x4fc7c3=>T[_0x451891(0x5c1)](_0x4fc7c3,_0x2d3f54)});_0x49ee32[_0x451891(0x57d)](0xc8)[_0x451891(0x377)](_0x5a32c6);})['post'](this[_0x295d3e(0x255)](_0x295d3e(0x341)),..._0x204fcb,async(_0x2627e6,_0x5d5dbe)=>{const _0x25cf5a=_0x295d3e;let _0x1f3142=_0x2627e6[_0x25cf5a(0x6d1)];f['verbose'](_0x25cf5a(0x36f)),f['verbose'](_0x25cf5a(0x480)),f['verbose'](_0x2627e6[_0x25cf5a(0x6d1)]);let _0x34d43c=await this[_0x25cf5a(0x645)]({'request':_0x2627e6,'schema':M,'ClassRef':E,'execute':_0xf00947=>T[_0x25cf5a(0x341)](_0xf00947,_0x1f3142)});_0x5d5dbe[_0x25cf5a(0x57d)](0xc8)[_0x25cf5a(0x377)](_0x34d43c);})['post'](this[_0x295d3e(0x255)](_0x295d3e(0x566)),..._0x204fcb,async(_0xa84cb3,_0x559a51)=>{const _0x41c733=_0x295d3e;let _0x3077e4=_0xa84cb3['body'];f[_0x41c733(0x644)](_0x41c733(0x350)),f['verbose'](_0x41c733(0x480)),f[_0x41c733(0x644)](_0xa84cb3[_0x41c733(0x6d1)]);let _0x181d34=await this['dataValidate']({'request':_0xa84cb3,'schema':M,'ClassRef':E,'execute':_0x1bd2ba=>T['updateFlowConfig'](_0x1bd2ba,_0x3077e4)});_0x559a51[_0x41c733(0x57d)](0xc8)[_0x41c733(0x377)](_0x181d34);})[_0x295d3e(0x5a6)](this[_0x295d3e(0x255)](_0x295d3e(0x6dd)),..._0x204fcb,async(_0x6dc31f,_0x14c0ef)=>{const _0x63d653=_0x295d3e;let _0x288bb5=_0x6dc31f['body'];f[_0x63d653(0x644)]('request\x20received\x20in\x20getConversation'),f[_0x63d653(0x644)](_0x63d653(0x480)),f[_0x63d653(0x644)](_0x6dc31f['body']);let _0x129f2c=await this[_0x63d653(0x645)]({'request':_0x6dc31f,'schema':M,'ClassRef':E,'execute':_0x292d4a=>T[_0x63d653(0x6dd)](_0x292d4a,_0x288bb5)});_0x14c0ef[_0x63d653(0x57d)](0xc8)['json'](_0x129f2c);})[_0x295d3e(0x5a6)](this[_0x295d3e(0x255)](_0x295d3e(0x3b3)),..._0x204fcb,async(_0x475fda,_0x37e823)=>{const _0x1b8d13=_0x295d3e;let _0x1ec9be=_0x475fda[_0x1b8d13(0x6d1)];f[_0x1b8d13(0x644)](_0x1b8d13(0x429)),f[_0x1b8d13(0x644)]('request\x20body:\x20'),f[_0x1b8d13(0x644)](_0x475fda[_0x1b8d13(0x6d1)]);let _0xbd8c12=await this[_0x1b8d13(0x645)]({'request':_0x475fda,'schema':M,'ClassRef':E,'execute':_0x307080=>T[_0x1b8d13(0x3b3)](_0x307080,_0x1ec9be)});_0x37e823[_0x1b8d13(0x57d)](0xc8)['json'](_0xbd8c12);})['post'](this[_0x295d3e(0x255)](_0x295d3e(0x285)),..._0x204fcb,async(_0x103f1f,_0x36425c)=>{const _0x49733d=_0x295d3e;let _0x1f3524=_0x103f1f[_0x49733d(0x6d1)];f[_0x49733d(0x644)](_0x49733d(0x4f7)),f[_0x49733d(0x644)](_0x49733d(0x480)),f[_0x49733d(0x644)](_0x103f1f[_0x49733d(0x6d1)]);let _0x3b1e41=await this[_0x49733d(0x645)]({'request':_0x103f1f,'schema':M,'ClassRef':E,'execute':_0x14efa9=>T[_0x49733d(0x285)](_0x14efa9,_0x1f3524)});_0x36425c[_0x49733d(0x57d)](0xc8)['json'](_0x3b1e41);})['delete'](this['routerPath']('deleteConversation'),..._0x204fcb,async(_0x1a5393,_0x527a96)=>{const _0x3a59d2=_0x295d3e;let _0x2f71e7=_0x1a5393[_0x3a59d2(0x6d1)];f[_0x3a59d2(0x644)](_0x3a59d2(0x13e)),f[_0x3a59d2(0x644)](_0x3a59d2(0x480)),f['verbose'](_0x1a5393['body']);let _0x5bf2c6=await this[_0x3a59d2(0x645)]({'request':_0x1a5393,'schema':M,'ClassRef':E,'execute':_0x233e1c=>T[_0x3a59d2(0x3a2)](_0x233e1c,_0x2f71e7)});_0x527a96[_0x3a59d2(0x57d)](0xc8)[_0x3a59d2(0x377)](_0x5bf2c6);})[_0x295d3e(0x5a6)](this[_0x295d3e(0x255)](_0x295d3e(0x5d4)),..._0x204fcb,async(_0xa8a352,_0x2903b9)=>{const _0x1d2376=_0x295d3e;let _0x8d460e=_0xa8a352[_0x1d2376(0x6d1)];f[_0x1d2376(0x644)](_0x1d2376(0x5a4)),f[_0x1d2376(0x644)]('request\x20body:\x20'),f[_0x1d2376(0x644)](_0xa8a352[_0x1d2376(0x6d1)]);let _0x592547=await this['dataValidate']({'request':_0xa8a352,'schema':M,'ClassRef':E,'execute':_0x1194c6=>T[_0x1d2376(0x5c7)](_0x1194c6,_0x8d460e)});_0x2903b9[_0x1d2376(0x57d)](0xc8)['json'](_0x592547);})['post'](this[_0x295d3e(0x255)](_0x295d3e(0x13b)),..._0x204fcb,async(_0x11f1c6,_0x50e64a)=>{const _0x11c2e3=_0x295d3e;let _0x5a4f7f=_0x11f1c6[_0x11c2e3(0x6d1)];f['verbose'](_0x11c2e3(0x3f6)),f[_0x11c2e3(0x644)]('request\x20body:\x20'),f[_0x11c2e3(0x644)](_0x11f1c6[_0x11c2e3(0x6d1)]),delete _0x5a4f7f['blocks'],delete _0x5a4f7f[_0x11c2e3(0x209)],delete _0x5a4f7f[_0x11c2e3(0x5bb)],delete _0x5a4f7f['conditions'];let _0x3d6d7a=await this[_0x11c2e3(0x645)]({'request':_0x11f1c6,'schema':M,'ClassRef':E,'execute':_0x26e2c2=>T[_0x11c2e3(0x3bb)](_0x26e2c2,_0x5a4f7f)});_0x50e64a[_0x11c2e3(0x57d)](0xc8)[_0x11c2e3(0x377)](_0x3d6d7a);})[_0x295d3e(0x5a6)](this[_0x295d3e(0x255)](_0x295d3e(0x52b)),..._0x204fcb,async(_0x485648,_0x9edff3)=>{const _0x3a3ae7=_0x295d3e;let _0x254eb1=_0x485648[_0x3a3ae7(0x6d1)];f[_0x3a3ae7(0x644)](_0x3a3ae7(0x3f6)),f[_0x3a3ae7(0x644)](_0x3a3ae7(0x480)),f[_0x3a3ae7(0x644)](_0x485648[_0x3a3ae7(0x6d1)]);let _0x1c64f2=await this[_0x3a3ae7(0x645)]({'request':_0x485648,'schema':M,'ClassRef':E,'execute':_0x2b220c=>T[_0x3a3ae7(0x316)](_0x2b220c,_0x254eb1)});_0x9edff3['status'](0xc8)[_0x3a3ae7(0x377)](_0x1c64f2);})['post'](this[_0x295d3e(0x255)](_0x295d3e(0x32a)),..._0x204fcb,async(_0x29981b,_0x208f4f)=>{const _0x6030aa=_0x295d3e;let _0x2dd7da=_0x29981b[_0x6030aa(0x6d1)];f[_0x6030aa(0x644)](_0x6030aa(0x3f6)),f[_0x6030aa(0x644)](_0x6030aa(0x480)),f[_0x6030aa(0x644)](_0x29981b[_0x6030aa(0x6d1)]);let _0x558145=await this[_0x6030aa(0x645)]({'request':_0x29981b,'schema':M,'ClassRef':E,'execute':_0x4c6335=>T[_0x6030aa(0x1ec)](_0x4c6335,_0x2dd7da)});_0x208f4f[_0x6030aa(0x57d)](0xc8)['json'](_0x558145);})[_0x295d3e(0x5a6)](this[_0x295d3e(0x255)]('editflowvaredit'),..._0x204fcb,async(_0x2b1e1c,_0x2fab8a)=>{const _0x6365d1=_0x295d3e;let _0x3a17eb=_0x2b1e1c['body'];f['verbose']('request\x20received\x20in\x20editFlow'),f[_0x6365d1(0x644)]('request\x20body:\x20'),f[_0x6365d1(0x644)](_0x2b1e1c[_0x6365d1(0x6d1)]);let _0x2b5924=await this[_0x6365d1(0x645)]({'request':_0x2b1e1c,'schema':M,'ClassRef':E,'execute':_0x44bffb=>T[_0x6365d1(0x50e)](_0x44bffb,_0x3a17eb)});_0x2fab8a[_0x6365d1(0x57d)](0xc8)[_0x6365d1(0x377)](_0x2b5924);})[_0x295d3e(0x5a6)](this['routerPath']('editflowgroup'),..._0x204fcb,async(_0x5ad825,_0x3c3363)=>{const _0x41ec9b=_0x295d3e;let _0x171866=_0x5ad825[_0x41ec9b(0x6d1)];f[_0x41ec9b(0x644)]('request\x20received\x20in\x20editFlowgroup'),f[_0x41ec9b(0x644)](_0x41ec9b(0x480)),f[_0x41ec9b(0x644)](_0x5ad825[_0x41ec9b(0x6d1)]);let _0x2b2c3e=await this[_0x41ec9b(0x645)]({'request':_0x5ad825,'schema':M,'ClassRef':E,'execute':_0x414f1e=>T['editFlowGroup'](_0x414f1e,_0x171866)});_0x3c3363[_0x41ec9b(0x57d)](0xc8)[_0x41ec9b(0x377)](_0x2b2c3e);})[_0x295d3e(0x5a6)](this['routerPath'](_0x295d3e(0x191)),..._0x204fcb,async(_0x1d9692,_0x249ba0)=>{const _0x282951=_0x295d3e;let _0x3f236d=_0x1d9692['body'];f[_0x282951(0x644)](_0x282951(0x272)),f[_0x282951(0x644)]('request\x20body:\x20'),f['verbose'](_0x1d9692[_0x282951(0x6d1)]);let _0x295457=await this[_0x282951(0x645)]({'request':_0x1d9692,'schema':M,'ClassRef':E,'execute':_0x37ec79=>T[_0x282951(0x450)](_0x37ec79,_0x3f236d)});_0x249ba0[_0x282951(0x57d)](0xc8)[_0x282951(0x377)](_0x295457);})[_0x295d3e(0x5a6)](this[_0x295d3e(0x255)](_0x295d3e(0x19d)),..._0x204fcb,async(_0x2b29ec,_0x5c713c)=>{const _0x3fece8=_0x295d3e;let _0x2c84cc=_0x2b29ec[_0x3fece8(0x6d1)];f['verbose'](_0x3fece8(0x7a3)),f['verbose'](_0x3fece8(0x480)),f['verbose'](_0x2b29ec[_0x3fece8(0x6d1)]);let _0x386858=await this['dataValidate']({'request':_0x2b29ec,'schema':M,'ClassRef':E,'execute':_0x46a6d4=>T[_0x3fece8(0x16e)](_0x46a6d4,_0x2c84cc)});_0x5c713c[_0x3fece8(0x57d)](0xc8)['json'](_0x386858);})[_0x295d3e(0x5a6)](this[_0x295d3e(0x255)](_0x295d3e(0x643)),..._0x204fcb,async(_0x2ead0c,_0x27a4fe)=>{const _0x55989a=_0x295d3e;let _0x2ea5d1=_0x2ead0c['body'];f['verbose'](_0x55989a(0x1c2)),f['verbose'](_0x55989a(0x480)),f[_0x55989a(0x644)](_0x2ead0c[_0x55989a(0x6d1)]);let _0x2afbf2=await this['dataValidate']({'request':_0x2ead0c,'schema':M,'ClassRef':E,'execute':_0xd3ea85=>T[_0x55989a(0x193)](_0xd3ea85,_0x2ea5d1)});_0x27a4fe['status'](0xc8)[_0x55989a(0x377)](_0x2afbf2);})['delete'](this[_0x295d3e(0x255)](_0x295d3e(0x491)),..._0x204fcb,async(_0x454599,_0x1a0831)=>{const _0x1924a4=_0x295d3e;let _0x2ab68b=_0x454599[_0x1924a4(0x6d1)];f['verbose']('request\x20received\x20in\x20deleteFlow'),f[_0x1924a4(0x644)](_0x1924a4(0x480)),f['verbose'](_0x454599['body']);let _0x55f96d=await this[_0x1924a4(0x645)]({'request':_0x454599,'schema':M,'ClassRef':E,'execute':_0x4655b8=>T[_0x1924a4(0x1ba)](_0x4655b8,_0x2ab68b)});_0x1a0831[_0x1924a4(0x57d)](0xc8)['json'](_0x55f96d);})[_0x295d3e(0x749)](this[_0x295d3e(0x255)]('allflows'),..._0x204fcb,async(_0x1cf5e7,_0x583099)=>{const _0xcfe8d=_0x295d3e;f['verbose'](_0xcfe8d(0x204));let _0x34ec7b=await this[_0xcfe8d(0x645)]({'request':_0x1cf5e7,'schema':M,'ClassRef':E,'execute':_0x56798c=>T[_0xcfe8d(0x152)](_0x56798c)});_0x583099[_0xcfe8d(0x57d)](0xc8)[_0xcfe8d(0x377)](_0x34ec7b);});}},lr=R(require(a0_0x313677(0x134))),X={};function ir(_0x14233b,_0x3b5b4c,_0x5ce1c7,_0x3f8d13){X[_0x14233b]||(X[_0x14233b]={}),X[_0x14233b][_0x3b5b4c]={'id':_0x3b5b4c,'response':_0x5ce1c7,'events':_0x3f8d13};}function nr(_0x26ea46,_0x3632e0){!X[_0x26ea46]||!X[_0x26ea46][_0x3632e0]||delete X[_0x26ea46][_0x3632e0];}function J(_0x32dba1,_0x420109,_0x508178){const _0x179406=a0_0x313677;if(!X[_0x32dba1])return;let _0x506684='data:\x20'+JSON[_0x179406(0x2db)](_0x508178)+'\x0a\x0a';Object[_0x179406(0x208)](X[_0x32dba1])[_0x179406(0x6c9)](_0x5d087e=>{const _0x52fcf3=_0x179406;_0x5d087e[_0x52fcf3(0x2f6)][_0x52fcf3(0x2fe)](_0x420109)&&_0x5d087e[_0x52fcf3(0x3cf)][_0x52fcf3(0x4bb)](_0x506684);});}function cr(){const _0x93f293=a0_0x313677;let _0x384de6={};for(let _0x204709 in X)_0x384de6[_0x204709]=Object[_0x93f293(0x208)](X[_0x204709])[_0x93f293(0x217)](_0xfda93=>({'id':_0xfda93['id'],'events':_0xfda93[_0x93f293(0x2f6)]}));return _0x384de6;}var ur=require(a0_0x313677(0x14b)),fs=require(a0_0x313677(0x540)),ms=class{},no=new fs[(a0_0x313677(0x2de))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),co=new fs[(a0_0x313677(0x2de))]({'_id':{'type':String,'default':a0_0x313677(0x6c0)},'WebhookGlobal':{'type':no},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.['model'](ms['name'],co,a0_0x313677(0x623)),lo=lr['default']['join'](__dirname,a0_0x313677(0x515)),vt=(0x0,Mt['Router'])(),uo=b[a0_0x313677(0x749)](a0_0x313677(0x4b6))[a0_0x313677(0x1de)],te=[fa,wa,Sa[uo]];vt['use'](a0_0x313677(0x1ef),Mt[a0_0x313677(0x175)][a0_0x313677(0x5cc)](lo))[a0_0x313677(0x749)](a0_0x313677(0x3ab),async(_0x5337f3,_0x4a57e9)=>{const _0x5300c7=a0_0x313677;console[_0x5300c7(0x17d)](_0x5300c7(0x6a2));let _0x427fad=_0x5337f3['params']['instance'],_0x23d00e=(_0x5337f3[_0x5300c7(0x3e7)][_0x5300c7(0x2f6)]||'')[_0x5300c7(0x58d)](','),_0x468b80=(0x0,ur['v4'])();console['log']('Instance\x20ID:',_0x427fad),console['log'](_0x5300c7(0x69c),_0x23d00e);let _0x2cfb75=b['get']('AUTHENTICATION')['API_KEY'],_0x200758=_0x5337f3[_0x5300c7(0x3e7)][_0x5300c7(0x309)];if(console[_0x5300c7(0x17d)]('API\x20Key\x20from\x20Request:',_0x200758),_0x2cfb75['KEY']!==_0x200758){console['log'](_0x5300c7(0x2b7));try{let _0x4b9af9=await ce[_0x5300c7(0x19a)][_0x5300c7(0x144)](_0x427fad);if(console[_0x5300c7(0x17d)](_0x5300c7(0x5ae),_0x4b9af9),!_0x4b9af9||_0x4b9af9[_0x5300c7(0x309)]!==_0x200758)return console[_0x5300c7(0x17d)](_0x5300c7(0x352)),_0x4a57e9[_0x5300c7(0x57d)](0x191)[_0x5300c7(0x467)](_0x5300c7(0x3b4));}catch(_0x424f98){return console[_0x5300c7(0x54e)](_0x5300c7(0x1f1),_0x424f98),_0x4a57e9['status'](0x191)['send']('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await We(_0x427fad))return _0x4a57e9['status'](0x194)[_0x5300c7(0x467)]('Instância\x20não\x20encontrada.');_0x4a57e9[_0x5300c7(0x751)]('Content-Type',_0x5300c7(0x698)),_0x4a57e9['setHeader']('Cache-Control',_0x5300c7(0x46f)),_0x4a57e9[_0x5300c7(0x751)](_0x5300c7(0x4d0),'keep-alive'),_0x4a57e9[_0x5300c7(0x590)]();let _0x425a8e='data:\x20'+JSON[_0x5300c7(0x2db)]({'info':_0x5300c7(0x200)})+'\x0a\x0a';_0x4a57e9[_0x5300c7(0x4bb)](_0x425a8e),ir(_0x427fad,_0x468b80,_0x4a57e9,_0x23d00e),_0x5337f3['on'](_0x5300c7(0x21d),()=>{console['log']('Connection\x20closed\x20for\x20instance:\x20'+_0x427fad),nr(_0x427fad,_0x468b80);});}),vt[a0_0x313677(0x749)](a0_0x313677(0x381),(_0x558982,_0x150716)=>{let _0x4a429e=cr();_0x150716['json'](_0x4a429e);})[a0_0x313677(0x749)]('/',(_0x3f7c86,_0xab9e8b)=>{const _0x15c365=a0_0x313677;let _0x487b60=b[_0x15c365(0x749)](_0x15c365(0x26c)),_0x5d291=_0x487b60&&_0x487b60['FULLCHAIN']['split']('/')[0x4];if(_0x5d291){let _0xe6672d=encodeURIComponent('https://'+_0x5d291);_0xab9e8b[_0x15c365(0x3e0)](_0x15c365(0x506)+_0xe6672d);}else _0xab9e8b['redirect'](_0x15c365(0x1ab));})[a0_0x313677(0x31c)](a0_0x313677(0x3f2),...te,async(_0x231118,_0x5af810)=>{const _0x5a1b36=a0_0x313677;try{console[_0x5a1b36(0x17d)](_0x5a1b36(0x51c)),_0x5af810[_0x5a1b36(0x57d)](0xc8)[_0x5a1b36(0x377)]({'message':_0x5a1b36(0x3b5)}),_0x5af810['on']('finish',()=>process[_0x5a1b36(0x66f)](0x0));}catch(_0x528d6d){console[_0x5a1b36(0x54e)](_0x5a1b36(0x2e1),_0x528d6d),_0x5af810['status'](0x1f4)[_0x5a1b36(0x377)]({'message':_0x5a1b36(0x2ae)});}})['put'](a0_0x313677(0x5ec),...te,async(_0x5882b5,_0x2abdf3)=>{const _0x17533b=a0_0x313677;try{let _0x117f84=_0x5882b5[_0x17533b(0x6d1)];await we[_0x17533b(0x471)]({},{'$set':_0x117f84},{'upsert':!0x0});let _0x5cf12b=await we[_0x17533b(0x330)]();_0x2abdf3[_0x17533b(0x377)](_0x5cf12b);}catch(_0x3b60cc){_0x2abdf3[_0x17533b(0x57d)](0x190)[_0x17533b(0x467)](_0x3b60cc[_0x17533b(0x711)]);}})['get'](a0_0x313677(0x5ec),...te,async(_0x10a6ef,_0x5aed89)=>{const _0x45e5c7=a0_0x313677;try{let _0x2385bf=await we[_0x45e5c7(0x330)]();if(!_0x2385bf)return _0x5aed89[_0x45e5c7(0x377)]({});_0x5aed89[_0x45e5c7(0x377)](_0x2385bf);}catch(_0x2844b9){_0x5aed89[_0x45e5c7(0x57d)](0x1f4)[_0x45e5c7(0x467)](_0x2844b9['message']);}})[a0_0x313677(0x22e)]('/instance',new ct(b,...te)[a0_0x313677(0x3bf)])[a0_0x313677(0x22e)](a0_0x313677(0x79e),new bt(...te)['router'])['use'](a0_0x313677(0x17c),new Xe(...te)['router'])[a0_0x313677(0x22e)](a0_0x313677(0x69a),new nt(...te)[a0_0x313677(0x3bf)])[a0_0x313677(0x22e)](a0_0x313677(0x4d1),new Et(...te)[a0_0x313677(0x3bf)])[a0_0x313677(0x22e)]('/automate',new Ct(...te)[a0_0x313677(0x3bf)]);var m=class{constructor(..._0x2124de){const _0x17bd5f=a0_0x313677;throw{'status':0x190,'error':_0x17bd5f(0x513),'message':_0x2124de[_0x17bd5f(0x1c3)]>0x0?_0x2124de:void 0x0};}},ee=class{constructor(..._0x51ab3c){const _0x106724=a0_0x313677;throw{'status':0x191,'error':_0x106724(0x71c),'message':_0x51ab3c[_0x106724(0x1c3)]>0x0?_0x51ab3c:void 0x0};}},K=class{constructor(..._0x23a66e){const _0x1ff66c=a0_0x313677;throw{'status':0x193,'error':_0x1ff66c(0x458),'message':_0x23a66e[_0x1ff66c(0x1c3)]>0x0?_0x23a66e:void 0x0};}},j=class{constructor(..._0x1a2e82){const _0x295b6a=a0_0x313677;throw{'status':0x194,'error':_0x295b6a(0x290),'message':_0x1a2e82[_0x295b6a(0x1c3)]>0x0?_0x1a2e82:void 0x0};}},O=class{constructor(..._0x6041a5){const _0x3ccd6a=a0_0x313677;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x6041a5[_0x3ccd6a(0x1c3)]>0x0?_0x6041a5:void 0x0};}},ue=require(a0_0x313677(0x509));async function ws(_0x5b2654){const _0x4e9ab3=a0_0x313677;let _0x1d8800=new v(ws['name']),_0x1748c7=N[_0x4e9ab3(0x4f0)](),_0x127ef5=_0x1748c7['db'](b['get'](_0x4e9ab3(0x5df))[_0x4e9ab3(0x73f)]['DB_PREFIX_NAME']+_0x4e9ab3(0x15f))['collection'](_0x5b2654),_0x505597=async(_0x8030ad,_0x208cdf)=>{const _0x1015e6=_0x4e9ab3;try{return await _0x1748c7[_0x1015e6(0x433)](),await _0x127ef5[_0x1015e6(0x60b)]({'_id':_0x208cdf},JSON[_0x1015e6(0x42b)](JSON[_0x1015e6(0x2db)](_0x8030ad,ue[_0x1015e6(0x5f1)]['replacer'])),{'upsert':!0x0});}catch{}},_0x265ce2=async _0x2412b4=>{const _0xb19d73=_0x4e9ab3;try{await _0x1748c7['connect']();let _0x45c2fa=await _0x127ef5['findOne']({'_id':_0x2412b4}),_0x341a60=JSON[_0xb19d73(0x2db)](_0x45c2fa);return JSON[_0xb19d73(0x42b)](_0x341a60,ue['BufferJSON']['reviver']);}catch{}},_0x3d82c8=async _0x1f5ec3=>{const _0x20882d=_0x4e9ab3;try{return await _0x1748c7['connect'](),await _0x127ef5[_0x20882d(0x2ab)]({'_id':_0x1f5ec3});}catch{}},_0x448ad0=await _0x265ce2(_0x4e9ab3(0x304))||(0x0,ue[_0x4e9ab3(0x71e)])();return{'state':{'creds':_0x448ad0,'keys':{'get':async(_0x1c6c81,_0x3a8ae5)=>{const _0x573dc8=_0x4e9ab3;let _0x34c4e0={};return await Promise[_0x573dc8(0x3b7)](_0x3a8ae5['map'](async _0x237808=>{const _0x34a8af=_0x573dc8;let _0x1a1b34=await _0x265ce2(_0x1c6c81+'-'+_0x237808);_0x1c6c81===_0x34a8af(0x6cb)&&_0x1a1b34&&(_0x1a1b34=ue[_0x34a8af(0x6c1)][_0x34a8af(0x661)]['AppStateSyncKeyData']['fromObject'](_0x1a1b34)),_0x34c4e0[_0x237808]=_0x1a1b34;})),_0x34c4e0;},'set':async _0x47d8bf=>{const _0x5476aa=_0x4e9ab3;let _0x41ba75=[];for(let _0x2549c0 in _0x47d8bf)for(let _0x39fe8a in _0x47d8bf[_0x2549c0]){let _0x4d6ade=_0x47d8bf[_0x2549c0][_0x39fe8a],_0x428cd5=_0x2549c0+'-'+_0x39fe8a;_0x41ba75['push'](_0x4d6ade?_0x505597(_0x4d6ade,_0x428cd5):_0x3d82c8(_0x428cd5));}await Promise[_0x5476aa(0x3b7)](_0x41ba75);}}},'saveCreds':async()=>_0x505597(_0x448ad0,_0x4e9ab3(0x304))};}var Cs=R(require(a0_0x313677(0x2f1))),Ms=R(require('node-cache')),Tt=require(a0_0x313677(0x509)),dr=require(a0_0x313677(0x6fc)),Rt=require('@whiskeysockets/baileys'),Nt;function po(_0x390fc3){const _0x4a0f7d=a0_0x313677;return Nt||(Nt=(0x0,dr['createClient'])({'url':_0x390fc3[_0x4a0f7d(0x3c2)]}),Nt[_0x4a0f7d(0x433)]()),Nt;}var re=class c{constructor(_0x30d0db,_0x3df9a6){const _0x40e315=a0_0x313677;this[_0x40e315(0x270)]=_0x30d0db,this[_0x40e315(0x523)]=_0x3df9a6,this[_0x40e315(0x167)]=new v(c[_0x40e315(0x4af)]),this[_0x40e315(0x4b9)]=po(_0x30d0db);}set['reference'](_0x15a6bc){const _0x383f00=a0_0x313677;this[_0x383f00(0x523)]=_0x15a6bc;}async[a0_0x313677(0x30e)](){const _0x42e1bb=a0_0x313677;try{return await this[_0x42e1bb(0x4b9)][_0x42e1bb(0x207)]([_0x42e1bb(0x72a),this[_0x42e1bb(0x270)][_0x42e1bb(0x32f)]+':*']);}catch(_0x3ea267){this[_0x42e1bb(0x167)]['error'](_0x3ea267);}}async[a0_0x313677(0x282)](_0x17a3b1,_0x368583){const _0x202771=a0_0x313677;try{let _0xbad960=JSON[_0x202771(0x2db)](_0x368583,Rt['BufferJSON'][_0x202771(0x2a2)]);return await this[_0x202771(0x4b9)]['hSet'](this[_0x202771(0x270)][_0x202771(0x32f)]+':'+this[_0x202771(0x523)],_0x17a3b1,_0xbad960);}catch(_0x1bf2d4){this[_0x202771(0x167)][_0x202771(0x54e)](_0x1bf2d4);}}async[a0_0x313677(0x1c0)](){const _0x49197f=a0_0x313677;try{let _0x4903f5=await this[_0x49197f(0x4b9)]['hGetAll'](this[_0x49197f(0x270)][_0x49197f(0x32f)]+':'+this['instanceName']);if(_0x4903f5){for(let _0x4fca66 in _0x4903f5)Object[_0x49197f(0x761)][_0x49197f(0x180)][_0x49197f(0x280)](_0x4903f5,_0x4fca66)&&(_0x4903f5[_0x4fca66]=JSON[_0x49197f(0x42b)](_0x4903f5[_0x4fca66],Rt[_0x49197f(0x5f1)][_0x49197f(0x77e)]));return _0x4903f5;}}catch(_0x415cda){this[_0x49197f(0x167)][_0x49197f(0x54e)](_0x415cda);}}async[a0_0x313677(0x1dc)](_0x474c59){const _0x54f237=a0_0x313677;try{let _0x184d22=await this[_0x54f237(0x4b9)][_0x54f237(0x298)](this[_0x54f237(0x270)][_0x54f237(0x32f)]+':'+this[_0x54f237(0x523)],_0x474c59);if(_0x184d22)return JSON[_0x54f237(0x42b)](_0x184d22,Rt[_0x54f237(0x5f1)]['reviver']);}catch(_0x364dbf){this[_0x54f237(0x167)]['error'](_0x364dbf);}}async[a0_0x313677(0x308)](_0x3a7e09){const _0xa7e966=a0_0x313677;try{return await this[_0xa7e966(0x4b9)][_0xa7e966(0x249)](this[_0xa7e966(0x270)]['PREFIX_KEY']+':'+this['instanceName'],_0x3a7e09);}catch(_0x32a75a){this['logger']['error'](_0x32a75a);}}async[a0_0x313677(0x324)](_0x3a64d0){const _0x2d649a=a0_0x313677;try{return await this[_0x2d649a(0x4b9)][_0x2d649a(0x24f)](_0x3a64d0||this[_0x2d649a(0x270)]['PREFIX_KEY']+':'+this['instanceName']);}catch(_0x39c209){this['logger']['error'](_0x39c209);}}};async function ys(_0x532000,_0x236171){const _0x21d130=a0_0x313677;let _0x45c4e5=new v(ys[_0x21d130(0x4af)]),_0x287e6d=new re(_0x532000,_0x236171),_0x3714ce=async(_0x491897,_0x476347)=>{const _0x4b62b9=_0x21d130;try{return await _0x287e6d[_0x4b62b9(0x282)](_0x476347,_0x491897);}catch(_0x2593b3){return _0x45c4e5[_0x4b62b9(0x54e)]({'localError':_0x4b62b9(0x282),'error':_0x2593b3});}},_0x46cc1e=async _0x318b96=>{const _0x1a10f0=_0x21d130;try{return await _0x287e6d['readData'](_0x318b96);}catch(_0x415a10){_0x45c4e5['error']({'readData':_0x1a10f0(0x282),'error':_0x415a10});return;}},_0x930290=async _0x5149a5=>{const _0x35b908=_0x21d130;try{return await _0x287e6d[_0x35b908(0x308)](_0x5149a5);}catch(_0x385116){_0x45c4e5[_0x35b908(0x54e)]({'readData':_0x35b908(0x308),'error':_0x385116});}},_0x2fc4e7=await _0x46cc1e('creds')||(0x0,Tt['initAuthCreds'])();return{'state':{'creds':_0x2fc4e7,'keys':{'get':async(_0x4e7dd8,_0x72dc13)=>{const _0x5ddc84=_0x21d130;let _0x387e74={};return await Promise[_0x5ddc84(0x3b7)](_0x72dc13[_0x5ddc84(0x217)](async _0x5dd40b=>{const _0x118cf9=_0x5ddc84;let _0x19b710=await _0x46cc1e(_0x4e7dd8+'-'+_0x5dd40b);_0x4e7dd8===_0x118cf9(0x6cb)&&_0x19b710&&(_0x19b710=Tt[_0x118cf9(0x6c1)][_0x118cf9(0x661)][_0x118cf9(0x624)]['fromObject'](_0x19b710)),_0x387e74[_0x5dd40b]=_0x19b710;})),_0x387e74;},'set':async _0x1a8b76=>{const _0x366856=_0x21d130;let _0x539cf8=[];for(let _0x363aee in _0x1a8b76)for(let _0x5d48b6 in _0x1a8b76[_0x363aee]){let _0x59ea5d=_0x1a8b76[_0x363aee][_0x5d48b6],_0x417181=_0x363aee+'-'+_0x5d48b6;_0x539cf8[_0x366856(0x64c)](_0x59ea5d?await _0x3714ce(_0x59ea5d,_0x417181):await _0x930290(_0x417181));}await Promise[_0x366856(0x3b7)](_0x539cf8);}}},'saveCreds':async()=>await _0x3714ce(_0x2fc4e7,_0x21d130(0x304))};}var L=R(require('fs')),Me=require(a0_0x313677(0x14b)),xt=R(require(a0_0x313677(0x41c))),br=require(a0_0x313677(0x303)),go=a0_0x313677(0x276)['trim'](),At=go['split']('\x0a')['map'](_0x591779=>{const _0x4073dd=a0_0x313677;let _0x134d0a=_0x591779[_0x4073dd(0x58d)](':');return{'host':_0x134d0a[0x0],'port':_0x134d0a[0x1],'username':_0x134d0a[0x2],'password':_0x134d0a[0x3],'protocol':_0x4073dd(0x422)};});function pr(_0x404fb2){const _0x4add9f=a0_0x313677;let _0x275674=At[_0x4add9f(0x144)](_0x51ce97=>_0x51ce97[_0x4add9f(0x248)]===_0x404fb2);return _0x275674||null;}function bs(){const _0x274095=a0_0x313677;if(At['length']===0x0)return null;let _0x324621=Math[_0x274095(0x541)](Math['random']()*At['length']);return At[_0x324621];}function Ss(_0x528b58){const _0x64ae4c=a0_0x313677;return _0x528b58&&_0x528b58[_0x64ae4c(0x248)]&&_0x528b58['port']&&_0x528b58[_0x64ae4c(0x171)]&&_0x528b58[_0x64ae4c(0x4e5)];}var Sr='Chrome',vs,oe=null,gr=null,He=null,ho=0x3,mo=null;async function fo(){const _0x580e4c=a0_0x313677;let _0x4bef2a=await we['findOne']();oe=_0x4bef2a?.[_0x580e4c(0x318)]??null,mo=_0x4bef2a?.[_0x580e4c(0x380)]??null,Sr=_0x4bef2a?.[_0x580e4c(0x5dd)]??'Chrome',vs=_0x4bef2a?.[_0x580e4c(0x606)]??Ns??_0x580e4c(0x185),console['log'](_0x580e4c(0x4a4)),console[_0x580e4c(0x17d)](_0x4bef2a);}async function wo(){await fo();}wo();function $(_0x3ff744){const _0x1c414f=a0_0x313677;if(_0x3ff744[_0x1c414f(0x1ee)]||_0x3ff744[_0x1c414f(0x757)]){let _0x4f5a3f=_0x3ff744[_0x1c414f(0x1ee)]?_0x3ff744[_0x1c414f(0x1ee)][_0x1c414f(0x711)]:_0x3ff744[_0x1c414f(0x757)][_0x1c414f(0x711)];return(0x0,y[_0x1c414f(0x4ba)])(_0x4f5a3f);}return _0x3ff744[_0x1c414f(0x402)]?'pollCreationMessageV3':_0x3ff744['pollCreationMessageV2']?_0x1c414f(0x4b3):_0x3ff744[_0x1c414f(0x445)]?_0x1c414f(0x445):(0x0,y[_0x1c414f(0x4ba)])(_0x3ff744);}var hr={},ye=class c{constructor(_0xe62f7e,_0x3d84a6,_0x421366){const _0x5a79dd=a0_0x313677;this[_0x5a79dd(0x416)]=_0xe62f7e,this['eventEmitter']=_0x3d84a6,this[_0x5a79dd(0x5b2)]=_0x421366,this['AutomateSystem']=null,this[_0x5a79dd(0x167)]=new v(c[_0x5a79dd(0x4af)]),this[_0x5a79dd(0x17a)]={},this[_0x5a79dd(0x2c7)]={},this[_0x5a79dd(0x5c2)]={'state':_0x5a79dd(0x21d)},this[_0x5a79dd(0x654)]=(0x0,F[_0x5a79dd(0x762)])(ae,'downloads'),this['msgRetryCounterCache']=new Ms[(_0x5a79dd(0x175))](),this['userDevicesCache']=new Ms['default'](),this[_0x5a79dd(0x639)]=!0x1,this[_0x5a79dd(0x36c)]={'status.instance':_0x5a79dd(0x57e),'qrcode.updated':_0x5a79dd(0x460),'messages.upsert':_0x5a79dd(0x557),'messages.update':_0x5a79dd(0x66d),'send.message':'/wa-message','group.upsert':'/wa-groups','group.update':_0x5a79dd(0x534),'group-participants.update':_0x5a79dd(0x534),'connection.update':'/wa-connection-update','messages.set':_0x5a79dd(0x557),'contacts.set':_0x5a79dd(0x4d9),'contacts.upsert':'/wa-contacts','contacts.update':_0x5a79dd(0x4d9),'presence.update':'/wa-presence','chats.set':'/wa-chats','chats.update':_0x5a79dd(0x3b6),'chats.upsert':_0x5a79dd(0x3b6),'chats.delete':_0x5a79dd(0x3b6)},this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[],this[_0x5a79dd(0x1c4)]=0xf,this[_0x5a79dd(0x6e6)]=0x7530,this[_0x5a79dd(0x42d)]=!0x1,this[_0x5a79dd(0x60f)]={'chats.upsert':async(_0x34501a,_0x52b3de)=>{const _0x53d749=_0x5a79dd;let _0x5408c1=[];for await(let _0x31201c of _0x34501a)_0x5408c1[_0x53d749(0x64c)]({'_id':_0x31201c['id'],'owner':this[_0x53d749(0x17a)][_0x53d749(0x164)],'group':_0x31201c['id']['endsWith'](_0x53d749(0x638)),'name':_0x31201c[_0x53d749(0x4af)]||_0x31201c[_0x53d749(0x23d)]||null,'contactname':null,'lastmsg':_0x31201c[_0x53d749(0x45c)]&&_0x31201c[_0x53d749(0x45c)][_0x53d749(0x3eb)]()['length']<0xd?_0x31201c[_0x53d749(0x45c)]*0x3e8:_0x31201c[_0x53d749(0x45c)]||null,'archived':_0x31201c[_0x53d749(0x140)]||!0x1,'unreadcount':_0x31201c[_0x53d749(0x328)]||0x0});this[_0x53d749(0x581)](_0x53d749(0x382),_0x5408c1);},'chats.update':async(_0x388f4f,_0x3cd0d9)=>{const _0x21183c=_0x5a79dd;for(let _0x388e88 of _0x388f4f){let _0x175ec0={'_id':_0x388e88['id'],'owner':this[_0x21183c(0x17a)]['wuid'],'group':_0x388e88['id']['endsWith']('@g.us'),'name':_0x388e88[_0x21183c(0x4af)]||_0x388e88[_0x21183c(0x23d)],'archived':_0x388e88[_0x21183c(0x140)],'ephemeralExpiration':_0x388e88['ephemeralExpiration']},_0x4b82f6=!0x1,_0x435ef2={};_0x175ec0[_0x21183c(0x140)]!=null&&(this[_0x21183c(0x167)][_0x21183c(0x644)](this[_0x21183c(0x523)]+'\x20('+this[_0x21183c(0x17a)][_0x21183c(0x164)]+_0x21183c(0x545)+_0x388e88[_0x21183c(0x140)]),_0x4b82f6=!0x0,_0x435ef2['archived']=_0x388e88[_0x21183c(0x140)]),_0x388e88[_0x21183c(0x4af)]!=null&&(this[_0x21183c(0x167)][_0x21183c(0x644)](this[_0x21183c(0x523)]+'\x20('+this[_0x21183c(0x17a)][_0x21183c(0x164)]+_0x21183c(0x16c)+_0x388e88[_0x21183c(0x4af)]),_0x4b82f6=!0x0,_0x435ef2[_0x21183c(0x4af)]=_0x388e88['name']),_0x388e88['displayName']!=null&&(this[_0x21183c(0x167)][_0x21183c(0x644)](this['instanceName']+'\x20('+this[_0x21183c(0x17a)][_0x21183c(0x164)]+_0x21183c(0x6ad)+_0x388e88[_0x21183c(0x23d)]),_0x4b82f6=!0x0,_0x435ef2[_0x21183c(0x4af)]=_0x388e88[_0x21183c(0x23d)]);let _0x480702;_0x4b82f6&&(_0x480702=await this[_0x21183c(0x5b2)]['chat'][_0x21183c(0x471)]({'where':{'_id':_0x388e88['id']}},_0x435ef2,this[_0x21183c(0x17a)][_0x21183c(0x164)])),_0x480702&&J(this['instanceName'],_0x21183c(0x1f4),{'chat':_0x480702});}},'chats.delete':async _0x10912d=>{this['sendDataWebhook']('chats.delete',[..._0x10912d]);}},this[_0x5a79dd(0x696)]={'contacts.upsert':async(_0x37f060,_0x4057d0)=>{const _0x4d9282=_0x5a79dd;let _0x2fa6a9=await this['repository']['contact'][_0x4d9282(0x144)]({'where':{}},this[_0x4d9282(0x17a)][_0x4d9282(0x164)]),_0x220fa4=[];for await(let _0x3c4175 of _0x37f060)_0x2fa6a9['find'](_0x4714ba=>_0x4714ba[_0x4d9282(0x510)]===_0x3c4175['id'])||_0x220fa4[_0x4d9282(0x64c)]({'_id':_0x3c4175['id'],'pushName':_0x3c4175?.[_0x4d9282(0x4af)]||_0x3c4175?.[_0x4d9282(0x708)],'owner':this[_0x4d9282(0x17a)]['wuid']});this[_0x4d9282(0x581)]('contacts.upsert',_0x220fa4),await this[_0x4d9282(0x5b2)][_0x4d9282(0x21e)][_0x4d9282(0x47b)](_0x220fa4);},'contacts.update':async(_0x5ba08a,_0x4adcd1)=>{const _0x295d3c=_0x5a79dd;let _0x42f0a6=[];for await(let _0x527b42 of _0x5ba08a)_0x42f0a6['push']({'_id':_0x527b42['id'],'pushName':_0x527b42?.[_0x295d3c(0x4af)]??_0x527b42?.['verifiedName'],'owner':this[_0x295d3c(0x17a)]['wuid']});this['sendDataWebhook'](_0x295d3c(0x379),_0x42f0a6);}},this[_0x5a79dd(0x1f7)]={'messaging-history.set':async({messages:_0x465fc5,chats:_0x5973b5,isLatest:_0x46f1ea},_0x43aa34)=>{const _0x1ddb16=_0x5a79dd;if(_0x46f1ea){let _0x3dc484=await Promise[_0x1ddb16(0x3b7)](_0x5973b5[_0x1ddb16(0x217)](async _0x57d860=>({'_id':_0x57d860['id'],'owner':this[_0x1ddb16(0x17a)][_0x1ddb16(0x164)],'group':_0x57d860['id'][_0x1ddb16(0x199)](_0x1ddb16(0x638)),'name':_0x57d860[_0x1ddb16(0x4af)]||_0x57d860['displayName']||null,'contactname':null,'lastmsg':_0x57d860['conversationTimestamp']&&_0x57d860[_0x1ddb16(0x45c)][_0x1ddb16(0x3eb)]()[_0x1ddb16(0x1c3)]<0xd?_0x57d860[_0x1ddb16(0x45c)]*0x3e8:_0x57d860['conversationTimestamp']||null,'archived':_0x57d860['archived']||!0x1,'unreadcount':_0x57d860[_0x1ddb16(0x328)]||0x0})));this[_0x1ddb16(0x581)](_0x1ddb16(0x46d),_0x3dc484),await this[_0x1ddb16(0x65b)](_0x3dc484,_0x43aa34);}let _0x15cbcd=[],_0x3e7c09=Date[_0x1ddb16(0x447)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x11c12c]of Object['entries'](_0x465fc5)){if(_0x11c12c[_0x1ddb16(0x711)]?.[_0x1ddb16(0x2d6)]||_0x11c12c[_0x1ddb16(0x711)]?.[_0x1ddb16(0x16d)]||!_0x11c12c['message']||_0x11c12c[_0x1ddb16(0x5c0)][_0x1ddb16(0x594)]==='status@broadcast'||(Cs[_0x1ddb16(0x175)][_0x1ddb16(0x539)](_0x11c12c?.[_0x1ddb16(0x374)])&&(_0x11c12c[_0x1ddb16(0x374)]=_0x11c12c[_0x1ddb16(0x374)]?.[_0x1ddb16(0x5dc)]()),_0x11c12c['messageTimestamp']&&_0x11c12c[_0x1ddb16(0x374)][_0x1ddb16(0x3eb)]()[_0x1ddb16(0x1c3)]<0xd&&(_0x11c12c[_0x1ddb16(0x374)]=_0x11c12c[_0x1ddb16(0x374)]*0x3e8),_0x11c12c[_0x1ddb16(0x374)]<_0x3e7c09))continue;let {message_normalized:_0x31a4f2}=this[_0x1ddb16(0x549)](_0x11c12c[_0x1ddb16(0x711)],$(_0x11c12c[_0x1ddb16(0x711)]),null);Object[_0x1ddb16(0x72a)](_0x31a4f2)['length']>0x0&&_0x15cbcd[_0x1ddb16(0x64c)]({'_id':_0x11c12c[_0x1ddb16(0x5c0)]['id'],'key':_0x11c12c[_0x1ddb16(0x5c0)],'pushName':_0x11c12c[_0x1ddb16(0x2fd)],'participant':_0x11c12c[_0x1ddb16(0x61a)],'message':{..._0x11c12c['message']},'messageType':$(_0x11c12c[_0x1ddb16(0x711)]),'message_normalized':{'key':_0x11c12c[_0x1ddb16(0x5c0)],'pushName':_0x11c12c[_0x1ddb16(0x2fd)],'messageTimestamp':_0x11c12c['messageTimestamp'],..._0x31a4f2},'messageTimestamp':_0x11c12c['messageTimestamp'],'owner':this['instance']['wuid']});}_0x43aa34[_0x1ddb16(0x3d7)]&&_0x15cbcd[_0x1ddb16(0x1c3)]>0x0&&(this[_0x1ddb16(0x167)][_0x1ddb16(0x644)](this[_0x1ddb16(0x523)]+'\x20('+this[_0x1ddb16(0x17a)][_0x1ddb16(0x164)]+'):\x20'+_0x15cbcd[_0x1ddb16(0x1c3)]+_0x1ddb16(0x1d6)+this[_0x1ddb16(0x17a)][_0x1ddb16(0x164)]+_0x1ddb16(0x6a1)),await this['repository']['message']['insert']([..._0x15cbcd],this[_0x1ddb16(0x17a)][_0x1ddb16(0x164)])),this['sendDataWebhook'](_0x1ddb16(0x439),[..._0x15cbcd]),_0x465fc5=void 0x0;},'messages.upsert':async({messages:_0xdf33f6,type:_0x2de999},_0xb1376d)=>{const _0x28c6e4=_0x5a79dd;let _0x4ede7=_0xdf33f6[0x0];if(_0x2de999!==_0x28c6e4(0x507)||!_0x4ede7?.[_0x28c6e4(0x711)]||_0x4ede7[_0x28c6e4(0x711)]?.[_0x28c6e4(0x2d6)]||_0x4ede7['message'][_0x28c6e4(0x16d)]||_0x4ede7[_0x28c6e4(0x5c0)][_0x28c6e4(0x594)]===_0x28c6e4(0x415))return;let _0x3e8e1e=null,_0x302479=null;try{_0x3e8e1e=await this['processPollUpdateMessage'](_0x4ede7),_0x302479=_0x3e8e1e?_0x3e8e1e[_0x28c6e4(0x762)](','):null;}catch(_0x407bd3){this['logger'][_0x28c6e4(0x644)](this[_0x28c6e4(0x523)]+'\x20('+this[_0x28c6e4(0x17a)][_0x28c6e4(0x164)]+'):\x20'+(_0x407bd3 instanceof Error?_0x407bd3[_0x28c6e4(0x711)]:JSON[_0x28c6e4(0x2db)](_0x407bd3,null,0x2))),_0x302479=_0x28c6e4(0x363);}if(this[_0x28c6e4(0x4b9)][_0x28c6e4(0x281)](_0x28c6e4(0x3e1)),Cs[_0x28c6e4(0x175)][_0x28c6e4(0x539)](_0x4ede7['messageTimestamp'])&&(_0x4ede7['messageTimestamp']=_0x4ede7[_0x28c6e4(0x374)]?.[_0x28c6e4(0x5dc)]()),this[_0x28c6e4(0x2c7)]?.['groups_ignore']&&_0x4ede7[_0x28c6e4(0x5c0)][_0x28c6e4(0x594)][_0x28c6e4(0x2fe)](_0x28c6e4(0x638))){this[_0x28c6e4(0x167)]['verbose'](_0x28c6e4(0x4e9));return;}_0x4ede7['messageTimestamp']&&_0x4ede7['messageTimestamp'][_0x28c6e4(0x3eb)]()['length']<0xd&&(_0x4ede7[_0x28c6e4(0x374)]=_0x4ede7[_0x28c6e4(0x374)]*0x3e8);let _0x2275de=_0x4ede7[_0x28c6e4(0x711)],{messageContent:_0x24d17f,message_normalized:_0x4f80b0}=this[_0x28c6e4(0x549)](_0x2275de,$(_0x4ede7[_0x28c6e4(0x711)]),_0x302479);_0x24d17f||console[_0x28c6e4(0x54e)](_0x28c6e4(0x6e2));let _0x3538d2={'_id':_0x4ede7[_0x28c6e4(0x5c0)]['id'],'key':_0x4ede7['key'],'pushName':_0x4ede7['pushName'],'message':{..._0x4ede7[_0x28c6e4(0x711)]},'messageType':$(_0x4ede7['message']),'message_normalized':{'key':_0x4ede7[_0x28c6e4(0x5c0)],'pushName':_0x4ede7[_0x28c6e4(0x2fd)],'messageTimestamp':_0x4ede7[_0x28c6e4(0x374)],'source':(0x0,y[_0x28c6e4(0x532)])(_0x4ede7[_0x28c6e4(0x5c0)]['id']),..._0x4f80b0},'messageTimestamp':_0x4ede7[_0x28c6e4(0x374)],'owner':this[_0x28c6e4(0x17a)][_0x28c6e4(0x164)],'source':(0x0,y[_0x28c6e4(0x532)])(_0x4ede7[_0x28c6e4(0x5c0)]['id'])};this[_0x28c6e4(0x167)]['log'](_0x3538d2),await this[_0x28c6e4(0x5b2)][_0x28c6e4(0x711)][_0x28c6e4(0x47b)]([_0x3538d2],this['instance']['wuid']),this[_0x28c6e4(0x581)](_0x28c6e4(0x5ce),_0x3538d2),J(this[_0x28c6e4(0x523)],_0x28c6e4(0x745),{'message':_0x3538d2}),_0x4ede7[_0x28c6e4(0x5c0)][_0x28c6e4(0x594)]!==_0x28c6e4(0x415)&&await this[_0x28c6e4(0x437)](_0xb1376d,_0x3538d2,_0x28c6e4(0x27f));},'messages.update':async(_0xc2e6d9,_0x1c2d1d)=>{const _0x2e0257=_0x5a79dd;let _0x19a387={0x0:'ERROR',0x1:_0x2e0257(0x717),0x2:_0x2e0257(0x572),0x3:_0x2e0257(0x65c),0x4:_0x2e0257(0x775),0x5:_0x2e0257(0x659)};for await(let {key:_0x477de2,update:_0x557c6e}of _0xc2e6d9){if(this[_0x2e0257(0x2c7)]?.[_0x2e0257(0x56c)]&&_0x477de2['remoteJid'][_0x2e0257(0x2fe)]('@g.us')){this[_0x2e0257(0x167)]['verbose']('group\x20ignored');return;}if(_0x477de2['remoteJid']!==_0x2e0257(0x415)){let _0x13b0dc=Date['now'](),_0x2dbff9;_0x557c6e[_0x2e0257(0x711)]===null&&_0x557c6e[_0x2e0257(0x57d)]===void 0x0?_0x2dbff9='DELETED':_0x2dbff9=_0x19a387[_0x557c6e[_0x2e0257(0x57d)]];let _0x53fd50=_0x477de2[_0x2e0257(0x594)]['replace'](/:\d{1,2}@/g,'@'),_0x751402={..._0x477de2,'remoteJid':_0x53fd50,'status':_0x2dbff9,'datetime':_0x13b0dc,'owner':this[_0x2e0257(0x17a)][_0x2e0257(0x164)]};this[_0x2e0257(0x581)]('messages.update',_0x751402),await this[_0x2e0257(0x794)](_0x477de2,_0x751402);}}},'labels.association':async({type:_0x36badf,association:_0x9a5bab})=>{const _0x42a4d5=_0x5a79dd;if(_0x9a5bab[_0x42a4d5(0x4f9)]===_0x42a4d5(0x4da)){let _0x6020e9,_0x471e89=0x0;for(;!_0x6020e9&&_0x471e89<this[_0x42a4d5(0x141)];)_0x6020e9=await this['repository'][_0x42a4d5(0x351)][_0x42a4d5(0x330)]({'where':{'_id':_0x9a5bab['chatId']}},this[_0x42a4d5(0x17a)][_0x42a4d5(0x164)]),_0x6020e9||(_0x471e89++,console['log']('Chat\x20'+_0x9a5bab['chatId']+_0x42a4d5(0x2a7)+this[_0x42a4d5(0x707)]+'ms\x20(Attempt\x20'+_0x471e89+'/'+this[_0x42a4d5(0x141)]+')'),await this[_0x42a4d5(0x53a)](this[_0x42a4d5(0x707)]));if(!_0x6020e9){console[_0x42a4d5(0x54e)]('Failed\x20to\x20find\x20chat\x20'+_0x9a5bab['chatId']+_0x42a4d5(0x614)+this[_0x42a4d5(0x141)]+'\x20attempts.');return;}switch(_0x36badf){case _0x42a4d5(0x64d):console['log'](_0x9a5bab),await this[_0x42a4d5(0x5b2)]['chat'][_0x42a4d5(0x471)]({'where':{'_id':_0x9a5bab[_0x42a4d5(0x31e)]}},{'leadInfo.etiquetas':_0x9a5bab[_0x42a4d5(0x4fd)]},this[_0x42a4d5(0x17a)][_0x42a4d5(0x164)],void 0x0,_0x42a4d5(0x747));break;case _0x42a4d5(0x36d):console['log'](_0x9a5bab),await this[_0x42a4d5(0x5b2)][_0x42a4d5(0x351)]['updateOne']({'where':{'_id':_0x9a5bab['chatId']}},{'leadInfo.etiquetas':_0x9a5bab[_0x42a4d5(0x4fd)]},this[_0x42a4d5(0x17a)]['wuid'],void 0x0,'$pull');break;default:console[_0x42a4d5(0x54e)](_0x42a4d5(0x505)+_0x36badf+']');}}},'labels.edit':async _0x3e3787=>{const _0x108434=_0x5a79dd;if(!_0x3e3787||!_0x3e3787['id']){console[_0x108434(0x54e)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x3e3787[_0x108434(0x214)]){let _0x413177=[_0x108434(0x730),_0x108434(0x1e2),_0x108434(0x61e),'#dfaef0',_0x108434(0x431),_0x108434(0x5bc),'#fe9dfe',_0x108434(0x25c),'#6f7bcf',_0x108434(0x4c9),_0x108434(0x74a),_0x108434(0x234),_0x108434(0x4b7),_0x108434(0x602),_0x108434(0x4e2),_0x108434(0x642),_0x108434(0x4dd),_0x108434(0x76c),_0x108434(0x4e7),_0x108434(0x48d)],_0x27734c;typeof _0x3e3787[_0x108434(0x59c)]==_0x108434(0x2d9)&&_0x3e3787['color']>=0x0&&_0x3e3787[_0x108434(0x59c)]<_0x413177[_0x108434(0x1c3)]?_0x27734c=_0x413177[_0x3e3787[_0x108434(0x59c)]]:(console['error'](_0x108434(0x47c),_0x3e3787['color']),_0x27734c=_0x108434(0x4ac));let _0x2e9cca={'_id':_0x3e3787['id'],'colorHex':_0x27734c,'color':_0x3e3787?.[_0x108434(0x59c)],'name':_0x3e3787?.['name'],'owner':this['instance']['wuid']};await this[_0x108434(0x5b2)]['label']['updateOne']({'where':{'_id':_0x3e3787['id']}},_0x2e9cca,this[_0x108434(0x17a)][_0x108434(0x164)]),console[_0x108434(0x17d)]('Rótulo\x20atualizado:',_0x3e3787);}_0x3e3787['deleted']&&(await this[_0x108434(0x5b2)]['label'][_0x108434(0x686)]({'where':{'_id':_0x3e3787['id']}},this[_0x108434(0x17a)]['wuid']),console[_0x108434(0x17d)](_0x108434(0x13a),_0x3e3787['id']));}},this['groupHandler']={'groups.upsert':_0x422931=>{const _0x10ff11=_0x5a79dd;this[_0x10ff11(0x581)](_0x10ff11(0x443),_0x422931);},'groups.update':_0x4513c4=>{const _0x398d4e=_0x5a79dd;this[_0x398d4e(0x581)](_0x398d4e(0x39b),_0x4513c4);},'group-participants.update':_0x2e6bc3=>{const _0x31658e=_0x5a79dd;this[_0x31658e(0x581)](_0x31658e(0x517),_0x2e6bc3);}},this[_0x5a79dd(0x141)]=0x5,this[_0x5a79dd(0x707)]=0x7d0,this['processPollUpdateMessage']=async _0x3bc6e6=>{const _0x24e5ba=_0x5a79dd;if(_0x3bc6e6[_0x24e5ba(0x711)]?.['pollUpdateMessage']){let _0x239fc=await this['getMessage'](_0x3bc6e6['message'][_0x24e5ba(0x40b)][_0x24e5ba(0x567)],!0x0);if(_0x239fc){let _0x136167=_0x239fc[_0x24e5ba(0x5c0)][_0x24e5ba(0x154)]?this[_0x24e5ba(0x17a)][_0x24e5ba(0x164)]+_0x24e5ba(0x64e):_0x239fc[_0x24e5ba(0x5c0)][_0x24e5ba(0x61a)]||_0x239fc[_0x24e5ba(0x5c0)][_0x24e5ba(0x594)],_0x1a3400=_0x239fc[_0x24e5ba(0x5c0)]['id'],_0x36b549=_0x239fc['message'],_0xdeedc1=Buffer[_0x24e5ba(0x6a6)](_0x36b549[_0x24e5ba(0x147)]['messageSecret'][_0x24e5ba(0x3eb)](_0x24e5ba(0x361)),_0x24e5ba(0x361)),_0x406f35=(0x0,y['decryptPollVote'])(_0x3bc6e6[_0x24e5ba(0x711)]['pollUpdateMessage'][_0x24e5ba(0x3fc)],{'pollCreatorJid':_0x136167,'pollMsgId':_0x1a3400,'pollEncKey':_0xdeedc1,'voterJid':_0x3bc6e6['key'][_0x24e5ba(0x154)]?this[_0x24e5ba(0x17a)][_0x24e5ba(0x164)]+_0x24e5ba(0x64e):_0x3bc6e6[_0x24e5ba(0x5c0)][_0x24e5ba(0x594)][_0x24e5ba(0x199)](_0x24e5ba(0x63f))?_0x3bc6e6['key'][_0x24e5ba(0x61a)]:_0x3bc6e6[_0x24e5ba(0x5c0)][_0x24e5ba(0x594)]}),_0x330ffc=[],_0x32cba8=_0x406f35[_0x24e5ba(0x5fc)]['map'](_0x22a744=>Buffer[_0x24e5ba(0x6a6)](_0x22a744)['toString'](_0x24e5ba(0x361)));for(let {optionName:_0x203d36}of _0x36b549[_0x24e5ba(0x547)]?.[_0x24e5ba(0x73b)]||_0x36b549[_0x24e5ba(0x402)]?.[_0x24e5ba(0x73b)]||_0x36b549[_0x24e5ba(0x4b3)]?.[_0x24e5ba(0x73b)])_0x32cba8[_0x24e5ba(0x5e1)]((0x0,y['sha256'])(Buffer[_0x24e5ba(0x6a6)](_0x203d36))[_0x24e5ba(0x3eb)](_0x24e5ba(0x361)))>-0x1&&_0x330ffc[_0x24e5ba(0x64c)](_0x203d36);return _0x330ffc;}}return null;},this['normalizeMessage']=(_0x50aa82,_0x2a2316,_0xfe926f)=>{const _0x2efc5c=_0x5a79dd;try{let _0x29b3d1=_0x2a2316?_0x50aa82[_0x2a2316]:void 0x0,_0x19551a={},_0x580161=null,_0x27ff65=null,_0x5e4124=null;if(_0x50aa82[_0x2efc5c(0x757)]?(_0x2a2316=$(_0x50aa82[_0x2efc5c(0x757)][_0x2efc5c(0x711)]),_0x29b3d1=_0x50aa82[_0x2efc5c(0x757)][_0x2efc5c(0x711)][_0x2a2316]):_0x50aa82[_0x2efc5c(0x445)]?(_0x2a2316=$(_0x50aa82['viewOnceMessageV2Extension'][_0x2efc5c(0x711)]),_0x29b3d1=_0x50aa82['viewOnceMessageV2Extension'][_0x2efc5c(0x711)][_0x2a2316]):_0x50aa82[_0x2efc5c(0x1ee)]?(_0x2a2316=$(_0x50aa82[_0x2efc5c(0x1ee)][_0x2efc5c(0x711)]),_0x29b3d1=_0x50aa82[_0x2efc5c(0x1ee)][_0x2efc5c(0x711)][_0x2a2316]):_0x50aa82['ephemeralMessage']?(_0x2a2316=$(_0x50aa82['message'][_0x2efc5c(0x493)][_0x2efc5c(0x711)]),_0x29b3d1=_0x50aa82[_0x2efc5c(0x711)][_0x2efc5c(0x493)][_0x2efc5c(0x711)][_0x2a2316]):_0x50aa82['editedMessage']?.[_0x2efc5c(0x711)]?.[_0x2efc5c(0x2d6)]?.['editedMessage']?(_0x2a2316=$(_0x50aa82[_0x2efc5c(0x573)][_0x2efc5c(0x711)][_0x2efc5c(0x2d6)][_0x2efc5c(0x573)]),_0x580161=_0x50aa82[_0x2efc5c(0x573)]['message'][_0x2efc5c(0x2d6)][_0x2efc5c(0x5c0)]['id'],_0x29b3d1=_0x50aa82['editedMessage'][_0x2efc5c(0x711)][_0x2efc5c(0x2d6)]['editedMessage'][_0x2a2316]):_0x29b3d1=_0x50aa82[_0x2a2316],!_0x2a2316||!_0x29b3d1)return console[_0x2efc5c(0x54e)](_0x2efc5c(0x6d7),_0x50aa82),{'messageType':_0x2a2316,'messageContent':_0x29b3d1,'message_normalized':{}};_0x50aa82[_0x2a2316]?.[_0x2efc5c(0x666)]?.[_0x2efc5c(0x592)]&&_0x50aa82[_0x2a2316]?.[_0x2efc5c(0x666)]?.[_0x2efc5c(0x76a)]&&(_0x27ff65=_0x50aa82[_0x2a2316]['contextInfo'][_0x2efc5c(0x592)]),_0x50aa82[_0x2efc5c(0x470)]&&(_0x5e4124=_0x50aa82[_0x2efc5c(0x470)][_0x2efc5c(0x5c0)]['id']);let _0x397208;if(_0x29b3d1&&typeof _0x29b3d1==_0x2efc5c(0x492)&&_0x2efc5c(0x567)in _0x29b3d1&&({pollCreationMessageKey:_0x397208}=_0x29b3d1),_0x2a2316===_0x2efc5c(0x68d)){let _0x254064=_0x29b3d1?.[_0x2efc5c(0x711)]?.[_0x2efc5c(0x3bc)];_0x254064&&(_0x29b3d1=_0x254064);}if(_0x2a2316==='pollCreationMessage'||_0x2a2316===_0x2efc5c(0x4b3)||_0x2a2316==='pollCreationMessageV3'){let _0x26825f=_0x29b3d1[_0x2efc5c(0x73b)][_0x2efc5c(0x217)](_0x248d4c=>_0x248d4c[_0x2efc5c(0x719)])[_0x2efc5c(0x762)]('|');_0x19551a[_0x2efc5c(0x669)]=_0x26825f;}let _0x5defdf=_0x29b3d1[_0x2efc5c(0x4af)]||_0x29b3d1[_0x2efc5c(0x16f)]||_0x29b3d1[_0x2efc5c(0x387)]||_0x29b3d1[_0x2efc5c(0x23d)];if(_0x2a2316==='listMessage'){_0x5defdf=(_0x29b3d1['title']||'')+'\x0a'+(_0x29b3d1[_0x2efc5c(0x6c7)]||'')+'\x0a'+(_0x29b3d1[_0x2efc5c(0x79c)]||'');let _0x59def0=this['sectionsToString'](_0x29b3d1[_0x2efc5c(0x779)]);_0x19551a[_0x2efc5c(0x669)]=_0x59def0;}if(_0x2a2316===_0x2efc5c(0x788)&&(_0xfe926f=_0x29b3d1[_0x2efc5c(0x4c4)]),_0x29b3d1[_0x2efc5c(0x4d6)]){let _0x39bfe0=this[_0x2efc5c(0x359)](JSON['stringify'](_0x29b3d1[_0x2efc5c(0x4d6)],null,0x2));_0x5defdf=_0x5defdf+'\x0a'+_0x39bfe0;}if(_0x29b3d1){let {sections:_0x5a647f,listType:_0x5ac977,displayName:_0x2af3bb,vcard:_0x398a73,contactVcard:_0x160dec,name:_0x53811c,caption:_0x4da35b,conversation:_0x13d84b,pollCreationMessageKey:_0x3ea96d,footerText:_0x5be17c,contentText:_0x4008f8,pageCount:_0x3f07f2,headerType:_0x4e8f14,isAvatar:_0x103220,isAnimated:_0x446b52,fallbackLc:_0x5b192b,fallbackLg:_0xa23639,namespace:_0x8f8771,elementName:_0x1dbb6e,localizableParams:_0x1fc2e9,viewOnce:_0x264a4c,height:_0x486f92,width:_0x1f26be,key:_0x1b27f5,firstScanLength:_0x3d3a84,firstScanSidecar:_0x4959ff,gifPlayback:_0x55bf05,gifAttribution:_0x750e6e,midQualityFileSha256:_0x3b38d9,scansSidecar:_0x53fa43,streamingSidecar:_0x4f6967,thumbnailHeight:_0x48223e,thumbnailWidth:_0x47481c,thumbnailEncSha256:_0x4aaa56,thumbnailDirectPath:_0x213f0a,canonicalUrl:_0x42638a,matchedText:_0x23f538,previewType:_0x2cdcd7,thumbnailSha256:_0x7368eb,deviceListMetadataVersion:_0x31b075,inviteLinkGroupTypeV2:_0x178b5f,interactiveAnnotations:_0x2d692f,scanLengths:_0x35005a,jpegThumbnail:_0x992554,url:_0x48734a,mediaKeyTimestamp:_0x1cdb10,waveform:_0x38a149,stickerSentTs:_0x5cce99,firstFrameLength:_0x9bafab,fileEncSha256:_0x396535,contextInfo:_0x26e193,firstFrameSidecar:_0x396a5e,directPath:_0x13c667,fileSha256:_0x1acd9f,mediaKey:_0x18198e,senderTimestampMs:_0x53ab1f,..._0x2ba52a}=_0x29b3d1;(_0x2a2316===_0x2efc5c(0x1e9)||_0x2a2316===_0x2efc5c(0x788))&&(delete _0x2ba52a[_0x2efc5c(0x4c4)],delete _0x2ba52a[_0x2efc5c(0x6c7)]),typeof _0x29b3d1==_0x2efc5c(0x706)?_0x19551a={'text':_0x29b3d1,'type':_0x2a2316||_0x2efc5c(0x387),..._0x580161&&{'edited':_0x580161},..._0x27ff65&&{'quoted':_0x27ff65},..._0x5e4124&&{'reaction':_0x5e4124}}:_0x19551a={'text':_0x5defdf,..._0x2ba52a,..._0x2a2316==='pollUpdateMessage'?{'poll_id':_0x29b3d1[_0x2efc5c(0x567)]['id'],'quoted':_0x29b3d1[_0x2efc5c(0x567)]['id'],'vote':_0xfe926f}:{},..._0x2a2316===_0x2efc5c(0x788)?{'vote':_0xfe926f}:{},'type':_0x2a2316,..._0x580161&&{'edited':_0x580161},..._0x27ff65&&{'quoted':_0x27ff65},..._0x5e4124&&{'reaction':_0x5e4124},...(_0x2a2316==='pollCreationMessage'||_0x2a2316===_0x2efc5c(0x4b3)||_0x2a2316===_0x2efc5c(0x402)||_0x2a2316==='listMessage')&&{'convertedOptions':_0x19551a[_0x2efc5c(0x669)]}};}return{'messageType':_0x2a2316,'messageContent':_0x29b3d1,'message_normalized':_0x19551a};}catch(_0x25b8bb){console[_0x2efc5c(0x54e)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x25b8bb);}},this['processingScheduleMessageId']=null,this[_0x5a79dd(0x3db)]=0x0,this[_0x5a79dd(0x370)]=null,(this[_0x5a79dd(0x51d)](),this[_0x5a79dd(0x17a)][_0x5a79dd(0x235)]={'count':0x0});}set['instanceName'](_0x5b5efb){const _0x20678b=a0_0x313677;if(!_0x5b5efb){this[_0x20678b(0x17a)][_0x20678b(0x4af)]=(0x0,fr['v4'])();return;}this[_0x20678b(0x17a)][_0x20678b(0x4af)]=_0x5b5efb,this['sendDataWebhook'](_0x20678b(0x6e9),{'instance':this['instance'][_0x20678b(0x4af)],'status':_0x20678b(0x160)});}get['instanceName'](){const _0x3e5143=a0_0x313677;return this[_0x3e5143(0x17a)][_0x3e5143(0x4af)];}get[a0_0x313677(0x164)](){const _0x3158a6=a0_0x313677;return this['instance'][_0x3158a6(0x164)];}async['getProfileName'](){const _0x2b1720=a0_0x313677;let _0x2bedcf=this[_0x2b1720(0x4b9)]['user']?.[_0x2b1720(0x4af)]??this[_0x2b1720(0x4b9)]['user']?.[_0x2b1720(0x708)];if(!_0x2bedcf){if(this[_0x2b1720(0x416)][_0x2b1720(0x749)](_0x2b1720(0x5df))[_0x2b1720(0x3d7)]){let _0x4e74fd=await N[_0x2b1720(0x4f0)]()['db'](this[_0x2b1720(0x416)][_0x2b1720(0x749)]('DATABASE')[_0x2b1720(0x73f)][_0x2b1720(0x34c)]+_0x2b1720(0x15f))['collection'](this[_0x2b1720(0x523)])[_0x2b1720(0x330)]({'_id':_0x2b1720(0x304)});if(_0x4e74fd){let _0x1929c0=JSON[_0x2b1720(0x42b)](JSON[_0x2b1720(0x2db)](_0x4e74fd),y['BufferJSON'][_0x2b1720(0x77e)]);_0x2bedcf=_0x1929c0['me']?.['name']||_0x1929c0['me']?.[_0x2b1720(0x708)];}}else{if((0x0,ve['existsSync'])((0x0,F[_0x2b1720(0x762)])(he,this[_0x2b1720(0x523)],_0x2b1720(0x518)))){let _0x21113a=JSON[_0x2b1720(0x42b)]((0x0,ve[_0x2b1720(0x39e)])((0x0,F['join'])(he,this[_0x2b1720(0x523)],_0x2b1720(0x518)),{'encoding':'utf-8'}));_0x2bedcf=_0x21113a['me']?.[_0x2b1720(0x4af)]||_0x21113a['me']?.[_0x2b1720(0x708)];}}}return _0x2bedcf;}get[a0_0x313677(0x1b9)](){const _0x411aba=a0_0x313677;return this['instance'][_0x411aba(0x1b9)];}get[a0_0x313677(0x71f)](){const _0x548f24=a0_0x313677;return{'pairingCode':this['instance'][_0x548f24(0x235)]?.['pairingCode'],'code':this[_0x548f24(0x17a)]['qrcode']?.['code'],'base64':this[_0x548f24(0x17a)]['qrcode']?.[_0x548f24(0x716)]};}async[a0_0x313677(0x2a9)](){const _0x3a214a=a0_0x313677;let _0x3a4cde=await this[_0x3a214a(0x5b2)][_0x3a214a(0x687)][_0x3a214a(0x144)](this[_0x3a214a(0x523)]);this[_0x3a214a(0x2c7)][_0x3a214a(0x310)]=_0x3a4cde?.[_0x3a214a(0x310)],this['localWebhook'][_0x3a214a(0x33c)]=_0x3a4cde?.['enabled'],this[_0x3a214a(0x2c7)]['local_map']=_0x3a4cde?.[_0x3a214a(0x400)],this[_0x3a214a(0x2c7)][_0x3a214a(0x44d)]=_0x3a4cde?.[_0x3a214a(0x44d)],this['localWebhook'][_0x3a214a(0x51b)]=_0x3a4cde?.['QRCODE_UPDATED'],this[_0x3a214a(0x2c7)]['SEND_MESSAGE']=_0x3a4cde?.['SEND_MESSAGE'],this[_0x3a214a(0x2c7)][_0x3a214a(0x27f)]=_0x3a4cde?.[_0x3a214a(0x27f)],this[_0x3a214a(0x2c7)]['MESSAGES_UPDATE']=_0x3a4cde?.[_0x3a214a(0x561)],this[_0x3a214a(0x2c7)][_0x3a214a(0x597)]=_0x3a4cde?.[_0x3a214a(0x597)],this[_0x3a214a(0x2c7)]['GROUPS_UPDATE']=_0x3a4cde?.['GROUPS_UPDATE'],this[_0x3a214a(0x2c7)][_0x3a214a(0x485)]=_0x3a4cde?.[_0x3a214a(0x485)],this[_0x3a214a(0x2c7)][_0x3a214a(0x452)]=_0x3a4cde?.[_0x3a214a(0x452)],this['localWebhook']['CHATS_UPSERT']=_0x3a4cde?.[_0x3a214a(0x603)],this['localWebhook']['CHATS_UPDATE']=_0x3a4cde?.['CHATS_UPDATE'],this[_0x3a214a(0x2c7)]['CHATS_DELETE']=_0x3a4cde?.[_0x3a214a(0x68a)],this[_0x3a214a(0x2c7)][_0x3a214a(0x580)]=_0x3a4cde?.['CONTACTS_SET'],this[_0x3a214a(0x2c7)][_0x3a214a(0x76f)]=_0x3a4cde?.[_0x3a214a(0x76f)],this[_0x3a214a(0x2c7)]['CONTACTS_UPDATE']=_0x3a4cde?.['CONTACTS_UPDATE'],this[_0x3a214a(0x2c7)][_0x3a214a(0x575)]=_0x3a4cde?.['PRESENCE_UPDATE'],this['localWebhook'][_0x3a214a(0x3e8)]=_0x3a4cde?.['MESSAGES_SET'],this['localWebhook'][_0x3a214a(0x564)]=_0x3a4cde?.[_0x3a214a(0x564)],this[_0x3a214a(0x2c7)][_0x3a214a(0x56c)]=_0x3a4cde?.[_0x3a214a(0x56c)];}async['setWebhook'](_0x49b99e){const _0x162a0f=a0_0x313677;let _0x4267c1=[_0x162a0f(0x510),_0x162a0f(0x310),_0x162a0f(0x33c),_0x162a0f(0x400),_0x162a0f(0x44d),'QRCODE_UPDATED',_0x162a0f(0x561),'MESSAGES_UPSERT','SEND_MESSAGE',_0x162a0f(0x597),_0x162a0f(0x137),_0x162a0f(0x485),_0x162a0f(0x452),'CHATS_UPSERT',_0x162a0f(0x1a5),_0x162a0f(0x68a),_0x162a0f(0x580),_0x162a0f(0x76f),_0x162a0f(0x17f),_0x162a0f(0x575),'MESSAGES_SET',_0x162a0f(0x564),_0x162a0f(0x56c)],_0x46681e={};return _0x4267c1['forEach'](_0x432667=>{_0x49b99e[_0x432667]!==void 0x0&&(_0x46681e[_0x432667]=_0x49b99e[_0x432667]);}),await this[_0x162a0f(0x5b2)][_0x162a0f(0x687)][_0x162a0f(0x568)](_0x46681e,this[_0x162a0f(0x523)]),Object['assign'](this[_0x162a0f(0x2c7)],_0x46681e),await this[_0x162a0f(0x5b2)][_0x162a0f(0x687)][_0x162a0f(0x144)](this[_0x162a0f(0x523)]);}async['findWebhook'](){const _0x41c202=a0_0x313677;return await this[_0x41c202(0x5b2)][_0x41c202(0x687)][_0x41c202(0x144)](this[_0x41c202(0x523)]);}async['sendDataWebhook'](_0x333cd2,_0x444b5e){const _0x25177b=a0_0x313677;let _0x4fc9d1=_0x333cd2[_0x25177b(0x427)](/[\.-]/gm,'_')[_0x25177b(0x6cc)](),_0x58a014=this[_0x25177b(0x2c7)][_0x25177b(0x33c)]&&(0x0,k[_0x25177b(0x356)])(this[_0x25177b(0x2c7)][_0x25177b(0x310)])?this[_0x25177b(0x2c7)][_0x25177b(0x310)]+(this[_0x25177b(0x2c7)][_0x25177b(0x400)]?this[_0x25177b(0x36c)][_0x333cd2]:''):null,_0x516683=this[_0x25177b(0x2c7)][_0x4fc9d1],_0x26bac8=oe&&oe['enabled']&&(0x0,k[_0x25177b(0x356)])(oe[_0x25177b(0x310)])?oe[_0x25177b(0x310)]+(oe[_0x25177b(0x400)]?this[_0x25177b(0x36c)][_0x333cd2]:''):null,_0xf0460d=oe?oe[_0x4fc9d1]:null;if(_0x516683&&_0x58a014)try{await se[_0x25177b(0x175)][_0x25177b(0x568)]({'baseURL':_0x58a014})['post']('',{'event':_0x333cd2,'instance':this[_0x25177b(0x17a)]['name'],'data':_0x444b5e}),this['logger'][_0x25177b(0x17d)](_0x25177b(0x1c1)+_0x333cd2+':\x20'+_0x58a014);}catch(_0x40217d){this[_0x25177b(0x167)]['error'](this[_0x25177b(0x523)]+'\x20('+this['instance'][_0x25177b(0x164)]+_0x25177b(0x4a7)+{'local':c['name']+_0x25177b(0x75c),'message':_0x40217d?.[_0x25177b(0x711)],'hostName':_0x40217d?.[_0x25177b(0x4d3)],'syscall':_0x40217d?.[_0x25177b(0x232)],'code':_0x40217d?.['code'],'error':_0x40217d?.['errno'],'stack':_0x40217d?.[_0x25177b(0x4f3)],'name':_0x40217d?.[_0x25177b(0x4af)]});}if(_0xf0460d&&_0x26bac8)try{await se[_0x25177b(0x175)]['create']({'baseURL':_0x26bac8})[_0x25177b(0x5a6)]('',{'event':_0x333cd2,'instance':this[_0x25177b(0x17a)][_0x25177b(0x4af)],'data':_0x444b5e}),this[_0x25177b(0x167)][_0x25177b(0x17d)](_0x25177b(0x792)+_0x333cd2+':\x20'+_0x26bac8);}catch(_0x12e8dc){this[_0x25177b(0x167)][_0x25177b(0x54e)](this[_0x25177b(0x523)]+'\x20('+this[_0x25177b(0x17a)]['wuid']+'):\x20'+{'local':c[_0x25177b(0x4af)]+_0x25177b(0x2b6),'message':_0x12e8dc?.[_0x25177b(0x711)],'hostName':_0x12e8dc?.[_0x25177b(0x4d3)],'syscall':_0x12e8dc?.[_0x25177b(0x232)],'code':_0x12e8dc?.['code'],'error':_0x12e8dc?.[_0x25177b(0x578)],'stack':_0x12e8dc?.['stack'],'name':_0x12e8dc?.[_0x25177b(0x4af)]});}}async[a0_0x313677(0x776)]({qr:_0x14e181,connection:_0x13e633,lastDisconnect:_0x45a112}){const _0x38bd2e=a0_0x313677;if(_0x14e181){if(this[_0x38bd2e(0x17a)][_0x38bd2e(0x235)][_0x38bd2e(0x5f5)]===ho)return this[_0x38bd2e(0x581)]('qrcode.updated',{'message':_0x38bd2e(0x3ca),'statusCode':y['DisconnectReason'][_0x38bd2e(0x78e)]}),this[_0x38bd2e(0x5c2)]={'state':'refused','statusReason':y[_0x38bd2e(0x77f)][_0x38bd2e(0x131)]},this[_0x38bd2e(0x581)](_0x38bd2e(0x2fa),{'instance':this[_0x38bd2e(0x17a)][_0x38bd2e(0x4af)],...this[_0x38bd2e(0x5c2)]}),this['sendDataWebhook']('status.instance',{'instance':this[_0x38bd2e(0x17a)][_0x38bd2e(0x4af)],'status':'removed'}),this[_0x38bd2e(0x5b2)][_0x38bd2e(0x19a)][_0x38bd2e(0x568)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x38bd2e(0x447)]()},this[_0x38bd2e(0x17a)]['name']),this[_0x38bd2e(0x639)]=!0x0,this[_0x38bd2e(0x729)][_0x38bd2e(0x2bc)](_0x38bd2e(0x17e),this[_0x38bd2e(0x17a)][_0x38bd2e(0x4af)]);this['instance'][_0x38bd2e(0x235)][_0x38bd2e(0x5f5)]++;let _0x5bc545={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x38bd2e(0x4ac)}};wr[_0x38bd2e(0x175)][_0x38bd2e(0x18f)](_0x14e181,_0x5bc545,(_0x36b5a0,_0xdf32a7)=>{const _0x51d054=_0x38bd2e;if(_0x36b5a0){this[_0x51d054(0x167)]['error'](this[_0x51d054(0x523)]+'\x20('+this[_0x51d054(0x17a)][_0x51d054(0x164)]+_0x51d054(0x613)+(_0x36b5a0 instanceof Error?_0x36b5a0['message']:JSON[_0x51d054(0x2db)](_0x36b5a0,null,0x2)));return;}this['instance'][_0x51d054(0x235)][_0x51d054(0x716)]=_0xdf32a7,this[_0x51d054(0x17a)][_0x51d054(0x235)][_0x51d054(0x1be)]=_0x14e181,this[_0x51d054(0x581)](_0x51d054(0x1a6),{'qrcode':{'instance':this[_0x51d054(0x17a)][_0x51d054(0x4af)],'pairingCode':this['instance'][_0x51d054(0x235)][_0x51d054(0x62c)],'code':_0x14e181,'base64':_0xdf32a7}});}),this[_0x38bd2e(0x6be)]?this[_0x38bd2e(0x17a)]['qrcode'][_0x38bd2e(0x62c)]=await this['client'][_0x38bd2e(0x3d3)](this['phoneNumber']):this['instance'][_0x38bd2e(0x235)]['pairingCode']=null,yr['default'][_0x38bd2e(0x396)](_0x14e181,{'small':!0x0},_0xdca45f=>this[_0x38bd2e(0x167)][_0x38bd2e(0x17d)]('\x0a{\x20instance:\x20'+this[_0x38bd2e(0x17a)]['name']+_0x38bd2e(0x2fb)+this['instance'][_0x38bd2e(0x235)]['count']+',\x20pairCode:\x20'+this[_0x38bd2e(0x17a)][_0x38bd2e(0x235)][_0x38bd2e(0x62c)]+_0x38bd2e(0x5ca)+_0xdca45f));}if(_0x13e633&&(this[_0x38bd2e(0x5c2)]={'state':_0x13e633,'statusReason':_0x45a112?.['error']?.['output']?.[_0x38bd2e(0x6ae)]??0xc8},this['sendDataWebhook'](_0x38bd2e(0x2fa),{'instance':this[_0x38bd2e(0x17a)][_0x38bd2e(0x4af)],...this[_0x38bd2e(0x5c2)]})),_0x13e633===_0x38bd2e(0x21d)){if(this[_0x38bd2e(0x5db)]++,this[_0x38bd2e(0x2df)][_0x38bd2e(0x64c)](Date[_0x38bd2e(0x447)]()),this['reconnectTimestamps']=this['reconnectTimestamps'][_0x38bd2e(0x39d)](_0x238d4f=>Date[_0x38bd2e(0x447)]()-_0x238d4f<this['RECONNECT_TIME_FRAME']),_0x45a112[_0x38bd2e(0x54e)]?.['output']?.[_0x38bd2e(0x6ae)]!==y[_0x38bd2e(0x77f)][_0x38bd2e(0x319)]&&this[_0x38bd2e(0x2df)][_0x38bd2e(0x1c3)]<=this[_0x38bd2e(0x1c4)])await this['connectToWhatsapp']();else{this[_0x38bd2e(0x581)](_0x38bd2e(0x6e9),{'instance':this[_0x38bd2e(0x17a)]['name'],'status':_0x38bd2e(0x795)}),this[_0x38bd2e(0x52c)]=!0x1,this[_0x38bd2e(0x5b2)][_0x38bd2e(0x687)][_0x38bd2e(0x686)](this[_0x38bd2e(0x523)]),this[_0x38bd2e(0x5b2)][_0x38bd2e(0x19a)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x38bd2e(0x447)]()},this[_0x38bd2e(0x17a)]['name']);try{this[_0x38bd2e(0x167)][_0x38bd2e(0x644)](this[_0x38bd2e(0x523)]+'\x20('+this['instance'][_0x38bd2e(0x164)]+_0x38bd2e(0x6fb));let _0x3c3623=await this['repository'][_0x38bd2e(0x711)]['deleteAll'](this[_0x38bd2e(0x17a)][_0x38bd2e(0x164)]);_0x3c3623['success']?this[_0x38bd2e(0x167)][_0x38bd2e(0x644)](this['instanceName']+'\x20('+this[_0x38bd2e(0x17a)]['wuid']+_0x38bd2e(0x55a)):console[_0x38bd2e(0x54e)](_0x38bd2e(0x4cf),_0x3c3623[_0x38bd2e(0x54e)]);}catch(_0x3adab8){console['error'](_0x38bd2e(0x32d),_0x3adab8);}this[_0x38bd2e(0x6b5)]!==null&&(this[_0x38bd2e(0x167)][_0x38bd2e(0x644)](this[_0x38bd2e(0x523)]+'\x20('+this[_0x38bd2e(0x17a)][_0x38bd2e(0x164)]+_0x38bd2e(0x44a)),clearInterval(this[_0x38bd2e(0x6b5)]),this[_0x38bd2e(0x6b5)]=null),this[_0x38bd2e(0x167)][_0x38bd2e(0x644)](this[_0x38bd2e(0x523)]+'\x20('+this[_0x38bd2e(0x17a)]['wuid']+_0x38bd2e(0x5a9)),this[_0x38bd2e(0x6d3)]=null,this[_0x38bd2e(0x729)][_0x38bd2e(0x2bc)](_0x38bd2e(0x4f4),this[_0x38bd2e(0x17a)][_0x38bd2e(0x4af)],_0x38bd2e(0x3fe)),this[_0x38bd2e(0x4b9)]?.['ws']?.['close'](),this[_0x38bd2e(0x4b9)][_0x38bd2e(0x6d9)](new Error(_0x38bd2e(0x571)));}}if(_0x13e633==='open'){this['resetReconnectionVariables'],this[_0x38bd2e(0x17a)][_0x38bd2e(0x164)]=this['client'][_0x38bd2e(0x256)]['id'][_0x38bd2e(0x427)](/:\d+/,'')[_0x38bd2e(0x427)](_0x38bd2e(0x64e),''),this[_0x38bd2e(0x17a)][_0x38bd2e(0x1b9)]=(await this[_0x38bd2e(0x424)](this[_0x38bd2e(0x17a)][_0x38bd2e(0x164)]+_0x38bd2e(0x64e)))[_0x38bd2e(0x1b9)],this[_0x38bd2e(0x5b2)]['auth']['create']({'online':!0x0,'owner':this[_0x38bd2e(0x17a)]['wuid'],'lastDisconnect':null},this[_0x38bd2e(0x17a)][_0x38bd2e(0x4af)]);let _0x313ece=_0x38bd2e(0x2ba)+this[_0x38bd2e(0x17a)][_0x38bd2e(0x164)],_0x1a1a23=0x28,_0x2c468e=Math[_0x38bd2e(0x541)]((_0x1a1a23-_0x313ece[_0x38bd2e(0x1c3)])/0x2),_0x4eaa53='\x20'[_0x38bd2e(0x41d)](_0x2c468e),_0xb72e28=_0x38bd2e(0x3fa),_0x4580b3='Instância:\x20'+this['instance']['name'],_0xbd4643=(''+_0x4eaa53+_0x313ece+_0x4eaa53)[_0x38bd2e(0x50d)](_0x1a1a23,'\x20'),_0x14a557=(''+_0x4eaa53+_0xb72e28+_0x4eaa53)[_0x38bd2e(0x50d)](_0x1a1a23,'\x20'),_0x2a2f9e=(''+_0x4eaa53+_0x4580b3+_0x4eaa53)[_0x38bd2e(0x50d)](_0x1a1a23,'\x20'),_0x776252=Math[_0x38bd2e(0x250)](_0xbd4643[_0x38bd2e(0x1c3)],_0x14a557[_0x38bd2e(0x1c3)],_0x2a2f9e[_0x38bd2e(0x1c3)]),_0x537f09=_0xbd4643[_0x38bd2e(0x50d)](_0x776252,'\x20'),_0x354f8f=_0x14a557['padEnd'](_0x776252,'\x20'),_0x477da8=_0x2a2f9e['padEnd'](_0x776252,'\x20');this[_0x38bd2e(0x167)]['info']((_0x38bd2e(0x2e5)+'─'[_0x38bd2e(0x41d)](_0x776252)+_0x38bd2e(0x3f9)+_0x354f8f+_0x38bd2e(0x77b)+_0x477da8+_0x38bd2e(0x77b)+_0x537f09+_0x38bd2e(0x317)+'─'[_0x38bd2e(0x41d)](_0x776252)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x38bd2e(0x5a1)](),this[_0x38bd2e(0x52c)]=!0x0;}}[a0_0x313677(0x3da)](){const _0x5ae088=a0_0x313677;this[_0x5ae088(0x5db)]=0x0,this[_0x5ae088(0x2df)]=[];}async[a0_0x313677(0x410)](_0x5a20f,_0x532774=!0x1){const _0x4e3e08=a0_0x313677;try{let _0x3b3109=await this[_0x4e3e08(0x5b2)][_0x4e3e08(0x711)]['find']({'where':{'_id':_0x5a20f['id']}},this[_0x4e3e08(0x17a)]['wuid']);return _0x532774?_0x3b3109[0x0]:_0x3b3109[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x313677(0x51d)](){const _0x388ea7=a0_0x313677;let _0x694d56=this[_0x388ea7(0x416)]['get'](_0x388ea7(0x679)),_0x3183fa=this[_0x388ea7(0x416)][_0x388ea7(0x749)](_0x388ea7(0x5df));_0x694d56?.['CLEANING_INTERVAL']&&!_0x3183fa['ENABLED']&&setInterval(()=>{const _0x2473c0=_0x388ea7;try{for(let [_0xfda9ef,_0x5290b4]of Object['entries'](_0x694d56))_0x5290b4===!0x0&&(0x0,Dt[_0x2473c0(0x32b)])('rm\x20-rf\x20'+(0x0,F[_0x2473c0(0x762)])(this['storePath'],_0xfda9ef[_0x2473c0(0x620)](),this[_0x2473c0(0x17a)][_0x2473c0(0x164)])+_0x2473c0(0x301));}catch{}},(_0x694d56?.[_0x388ea7(0x783)]??0xe10)*0x3e8);}async[a0_0x313677(0x268)](){const _0x4e7628=a0_0x313677;let _0x1838a2=this[_0x4e7628(0x416)][_0x4e7628(0x749)](_0x4e7628(0x5df)),_0x4e1e66=this[_0x4e7628(0x416)][_0x4e7628(0x749)]('REDIS');return _0x4e1e66?.[_0x4e7628(0x3d7)]?await ys(_0x4e1e66,this[_0x4e7628(0x17a)][_0x4e7628(0x4af)]):_0x1838a2['ENABLED']?await ws(this['instance'][_0x4e7628(0x4af)]):await(0x0,y[_0x4e7628(0x23c)])((0x0,F[_0x4e7628(0x762)])(he,this[_0x4e7628(0x17a)][_0x4e7628(0x4af)]));}async[a0_0x313677(0x5a1)](){const _0xfe9f53=a0_0x313677;let _0x159e0f=()=>Math[_0xfe9f53(0x541)](Math[_0xfe9f53(0x651)]()*0x2711)+0x7d0,_0x3fe882=async()=>{const _0x1eb94b=_0xfe9f53;if(!this[_0x1eb94b(0x52c)]){this[_0x1eb94b(0x167)][_0x1eb94b(0x644)](_0x1eb94b(0x3de)),this[_0x1eb94b(0x42d)]=!0x1;return;}if(this[_0x1eb94b(0x17a)][_0x1eb94b(0x164)]&&this[_0x1eb94b(0x6d3)]&&this['delayMessage']!==null&&this[_0x1eb94b(0x6b5)]!==void 0x0){let _0x5f455d=Math[_0x1eb94b(0x5f6)](this[_0x1eb94b(0x6b5)]/0xea60);this[_0x1eb94b(0x167)]['verbose'](this[_0x1eb94b(0x523)]+'\x20('+this[_0x1eb94b(0x17a)][_0x1eb94b(0x164)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x5f455d+_0x1eb94b(0x384)),this['isRunning']=!0x1;return;}else this[_0x1eb94b(0x17a)]['wuid']&&(this[_0x1eb94b(0x167)]['verbose'](this['instanceName']+'\x20('+this[_0x1eb94b(0x17a)][_0x1eb94b(0x164)]+_0x1eb94b(0x5d8)),this['logger'][_0x1eb94b(0x644)](this['instanceName']+'\x20('+this[_0x1eb94b(0x17a)][_0x1eb94b(0x164)]+_0x1eb94b(0x533)),this['AutomateSystem']||await this[_0x1eb94b(0x6b6)](),(this[_0x1eb94b(0x6b5)]===null||this[_0x1eb94b(0x6b5)]===void 0x0)&&await this[_0x1eb94b(0x43c)]());if(this[_0x1eb94b(0x42d)]){let _0x25d238=_0x159e0f();this['logger'][_0x1eb94b(0x644)](this[_0x1eb94b(0x523)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x25d238/0x3e8+_0x1eb94b(0x29c)),setTimeout(_0x3fe882,_0x25d238);}};if(this[_0xfe9f53(0x42d)])return;this[_0xfe9f53(0x42d)]=!0x0;let _0x4398b7=_0x159e0f();setTimeout(_0x3fe882,_0x4398b7);}async[a0_0x313677(0x4b5)](_0x3b50f1,_0xc3df35,_0x2b7bab,_0x409d48,_0x154fbe){const _0x1af71e=a0_0x313677;this[_0x1af71e(0x167)]['verbose'](_0x1af71e(0x18e));try{let _0x5914d8={'host':_0x3b50f1,'port':parseInt(_0xc3df35),'protocol':_0x2b7bab};_0x409d48&&_0x154fbe&&(_0x5914d8={..._0x5914d8,'auth':{'username':_0x409d48,'password':_0x154fbe}});let _0x1c07fd=[_0x1af71e(0x798),_0x1af71e(0x344),_0x1af71e(0x713)];for(let _0x2015c4 of _0x1c07fd)try{let _0x2d5989=await se['default'][_0x1af71e(0x749)](_0x2015c4,{'proxy':_0x5914d8}),_0x47cb81;return _0x2015c4[_0x1af71e(0x2fe)]('jsonip.com')||_0x2015c4[_0x1af71e(0x2fe)]('ipify.org')?_0x47cb81=_0x2d5989[_0x1af71e(0x42a)]['ip']:_0x2015c4[_0x1af71e(0x2fe)](_0x1af71e(0x22b))&&(_0x47cb81=_0x2d5989[_0x1af71e(0x42a)][_0x1af71e(0x242)](/\d+\.\d+\.\d+\.\d+/)[0x0]),this['logger']['verbose'](_0x1af71e(0x738)+_0x2015c4+':\x20'+_0x47cb81),!0x0;}catch(_0x417755){this[_0x1af71e(0x167)]['error'](_0x1af71e(0x1d4)+_0x2015c4+_0x1af71e(0x63b)+_0x417755);}return!0x1;}catch(_0x2b86e5){return this[_0x1af71e(0x167)]['error']('testProxy\x20error:\x20'+_0x2b86e5),_0x2b86e5[_0x1af71e(0x3cf)]?(this[_0x1af71e(0x167)][_0x1af71e(0x54e)]('Error\x20data:'+_0x2b86e5[_0x1af71e(0x3cf)][_0x1af71e(0x42a)]),this['logger'][_0x1af71e(0x54e)](_0x1af71e(0x34a)+_0x2b86e5['response'][_0x1af71e(0x57d)]),this[_0x1af71e(0x167)][_0x1af71e(0x54e)]('Error\x20headers:'+_0x2b86e5['response']['headers'])):_0x2b86e5[_0x1af71e(0x261)]?this[_0x1af71e(0x167)][_0x1af71e(0x54e)](_0x1af71e(0x3c3)+_0x2b86e5['request']):this[_0x1af71e(0x167)][_0x1af71e(0x54e)]('Error\x20message:'+_0x2b86e5['message']),!0x1;}}async[a0_0x313677(0x66e)](_0x171adc){const _0x3dbecf=a0_0x313677;if(console[_0x3dbecf(0x17d)]('tryProxy'),await this[_0x3dbecf(0x4b5)](_0x171adc[_0x3dbecf(0x248)],_0x171adc[_0x3dbecf(0x3f8)],_0x171adc[_0x3dbecf(0x49b)],_0x171adc[_0x3dbecf(0x171)],_0x171adc[_0x3dbecf(0x4e5)])){console[_0x3dbecf(0x17d)]('working');let _0x16c4b3=_0x171adc[_0x3dbecf(0x49b)]+_0x3dbecf(0x3e4)+_0x171adc[_0x3dbecf(0x248)]+':'+_0x171adc[_0x3dbecf(0x3f8)];return _0x171adc['username']&&_0x171adc[_0x3dbecf(0x4e5)]&&(_0x16c4b3=_0x171adc[_0x3dbecf(0x171)]+':'+_0x171adc[_0x3dbecf(0x4e5)]+'@'+_0x16c4b3),this[_0x3dbecf(0x5b2)][_0x3dbecf(0x19a)][_0x3dbecf(0x568)]({'ip':_0x171adc['host']},this[_0x3dbecf(0x17a)]['name']),{'agent':new br[(_0x3dbecf(0x5de))](_0x16c4b3)};}return null;}['createProxyConfig'](_0x45f2ee){const _0x4c6be9=a0_0x313677;let _0x2672d0=_0x45f2ee[_0x4c6be9(0x58d)](':');if(_0x2672d0[_0x4c6be9(0x1c3)]!==0x4)throw new Error(_0x4c6be9(0x25b));return{'host':_0x2672d0[0x0],'port':_0x2672d0[0x1],'username':_0x2672d0[0x2],'password':_0x2672d0[0x3],'protocol':'http'};}async[a0_0x313677(0x1bd)](_0x11a4cc,_0x1a4ad8=!0x0){const _0xe5f4e9=a0_0x313677;try{let _0x4ed761={},_0x548c0d=0x0,_0x18c306=this[_0xe5f4e9(0x416)][_0xe5f4e9(0x749)]('PROXY')||!0x1;if(console[_0xe5f4e9(0x17d)]('AllProxy\x20ligado:\x20',_0x18c306),_0x18c306){let _0x5f0a29;try{let _0x22b3db=(await this[_0xe5f4e9(0x5b2)][_0xe5f4e9(0x19a)]['find'](this[_0xe5f4e9(0x523)]))['ip'];for(_0x22b3db?_0x5f0a29=pr(_0x22b3db):_0x5f0a29=bs(),_0x5f0a29&&Ss(_0x5f0a29)&&(_0x4ed761=await this[_0xe5f4e9(0x66e)](_0x5f0a29),_0x4ed761&&_0x548c0d++);!_0x4ed761&&_0x548c0d<0x3;){let _0x41e0e9=bs();if(_0x41e0e9){if(_0x5f0a29=this[_0xe5f4e9(0x714)](_0x41e0e9['host']+':'+_0x41e0e9['port']+':'+_0x41e0e9[_0xe5f4e9(0x171)]+':'+_0x41e0e9[_0xe5f4e9(0x4e5)]),Ss(_0x5f0a29)){if(_0x4ed761=await this[_0xe5f4e9(0x66e)](_0x5f0a29),_0x4ed761)break;}else this['logger'][_0xe5f4e9(0x54e)](_0xe5f4e9(0x331));}_0x548c0d++;}}catch(_0xaafcdc){this['logger']['error'](_0xe5f4e9(0x371)+_0xaafcdc),_0x4ed761={};}!_0x4ed761&&_0x548c0d>=0x3&&(this[_0xe5f4e9(0x167)][_0xe5f4e9(0x40a)](_0xe5f4e9(0x55c)),_0x4ed761={});}this[_0xe5f4e9(0x2a9)](),this[_0xe5f4e9(0x17a)][_0xe5f4e9(0x742)]=await this[_0xe5f4e9(0x268)]();let {version:_0x1425c8}=await(0x0,y['fetchLatestBaileysVersion'])(),_0x49affd=[vs,Sr,(0x0,Es[_0xe5f4e9(0x22d)])()],_0x147444={..._0x4ed761,'auth':{'creds':this[_0xe5f4e9(0x17a)][_0xe5f4e9(0x742)][_0xe5f4e9(0x368)][_0xe5f4e9(0x304)],'keys':(0x0,y[_0xe5f4e9(0x462)])(this['instance'][_0xe5f4e9(0x742)][_0xe5f4e9(0x368)]['keys'],(0x0,Ot[_0xe5f4e9(0x175)])({'level':_0xe5f4e9(0x54e)}))},'logger':(0x0,Ot[_0xe5f4e9(0x175)])({'level':_0xe5f4e9(0x54e)}),'printQRInTerminal':!0x1,'browser':_0x11a4cc?['Chrome\x20(Linux)',vs,(0x0,Es[_0xe5f4e9(0x22d)])()]:_0x49affd,'version':_0x1425c8,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0xe5f4e9(0x5f8)],'getMessage':async _0x108fe2=>await this['getMessage'](_0x108fe2),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0xe5f4e9(0x1e6)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x291f4e=>(_0x291f4e[_0xe5f4e9(0x1e9)]?.[_0xe5f4e9(0x723)]==y[_0xe5f4e9(0x6c1)][_0xe5f4e9(0x661)][_0xe5f4e9(0x60d)][_0xe5f4e9(0x33e)][_0xe5f4e9(0x38c)]&&(_0x291f4e=JSON[_0xe5f4e9(0x42b)](JSON[_0xe5f4e9(0x2db)](_0x291f4e)),_0x291f4e[_0xe5f4e9(0x1e9)]['listType']=y['proto'][_0xe5f4e9(0x661)][_0xe5f4e9(0x60d)]['ListType'][_0xe5f4e9(0x673)]),_0x291f4e)};return this[_0xe5f4e9(0x639)]=!0x1,this[_0xe5f4e9(0x4b9)]=(0x0,y['default'])(_0x147444),this[_0xe5f4e9(0x56e)](),this[_0xe5f4e9(0x6be)]=_0x11a4cc,this[_0xe5f4e9(0x4b9)];}catch(_0x42d579){throw this[_0xe5f4e9(0x167)]['error'](this[_0xe5f4e9(0x523)]+'\x20('+this['instance']['wuid']+'):\x20'+(_0x42d579 instanceof Error?_0x42d579[_0xe5f4e9(0x711)]:JSON[_0xe5f4e9(0x2db)](_0x42d579,null,0x2))),new O(_0x42d579?.[_0xe5f4e9(0x3eb)]());}}[a0_0x313677(0x56e)](){const _0x19aaf9=a0_0x313677;this[_0x19aaf9(0x4b9)]['ev'][_0x19aaf9(0x3be)](_0x224f4d=>{const _0x29598d=_0x19aaf9;if(!this[_0x29598d(0x639)]){let _0x3630a0=this[_0x29598d(0x416)][_0x29598d(0x749)](_0x29598d(0x5df));if(_0x224f4d[_0x29598d(0x2fc)]){let _0x1b66e6=_0x224f4d[_0x29598d(0x2fc)];this[_0x29598d(0x1f7)][_0x29598d(0x2fc)](_0x1b66e6);}if(_0x224f4d[_0x29598d(0x50f)]){let _0x5a2d16=_0x224f4d[_0x29598d(0x50f)];this[_0x29598d(0x1f7)][_0x29598d(0x50f)](_0x5a2d16);}if(_0x224f4d['connection.update']&&this[_0x29598d(0x776)](_0x224f4d[_0x29598d(0x2fa)]),_0x224f4d['creds.update']&&this[_0x29598d(0x17a)][_0x29598d(0x742)]['saveCreds'](),_0x224f4d[_0x29598d(0x3e3)]){let _0x226ae7=_0x224f4d[_0x29598d(0x3e3)];this[_0x29598d(0x1f7)][_0x29598d(0x3e3)](_0x226ae7,_0x3630a0);}if(_0x224f4d[_0x29598d(0x5ce)]){let _0x15c11b=_0x224f4d['messages.upsert'];this[_0x29598d(0x1f7)]['messages.upsert'](_0x15c11b,_0x3630a0);}if(_0x224f4d[_0x29598d(0x6f1)]){let _0x2da765=_0x224f4d[_0x29598d(0x6f1)];_0x2da765[_0x29598d(0x6c9)](_0x20f9c0=>{const _0x445b9a=_0x29598d;if(hr[_0x20f9c0[_0x445b9a(0x5c0)]['id']]){this[_0x445b9a(0x4b9)]['ev']['emit']('messages.upsert',{'messages':[_0x20f9c0],'type':_0x445b9a(0x507)}),delete hr[_0x20f9c0[_0x445b9a(0x5c0)]['id']];return;}}),this[_0x29598d(0x1f7)][_0x29598d(0x6f1)](_0x2da765,_0x3630a0);}if(_0x224f4d[_0x29598d(0x337)]){let _0x2dfb12=_0x224f4d[_0x29598d(0x337)];if(this[_0x29598d(0x2c7)]?.[_0x29598d(0x56c)]&&_0x2dfb12['id'][_0x29598d(0x2fe)]('@g.us'))return;this['sendDataWebhook'](_0x29598d(0x337),_0x2dfb12);}if(!this[_0x29598d(0x2c7)]?.['groups_ignore']){if(_0x224f4d[_0x29598d(0x443)]){let _0x4a46a0=_0x224f4d[_0x29598d(0x443)];this['groupHandler'][_0x29598d(0x443)](_0x4a46a0);}if(_0x224f4d[_0x29598d(0x39b)]){let _0x54292c=_0x224f4d[_0x29598d(0x39b)];this['groupHandler'][_0x29598d(0x39b)](_0x54292c);}if(_0x224f4d['group-participants.update']){let _0x2c723e=_0x224f4d[_0x29598d(0x517)];this['groupHandler']['group-participants.update'](_0x2c723e);}}if(_0x224f4d[_0x29598d(0x382)]){let _0x5d0caa=_0x224f4d[_0x29598d(0x382)];this['chatHandle'][_0x29598d(0x382)](_0x5d0caa,_0x3630a0);}if(_0x224f4d['chats.update']){let _0x1062ed=_0x224f4d[_0x29598d(0x684)];this['chatHandle'][_0x29598d(0x684)](_0x1062ed,_0x3630a0);}if(_0x224f4d[_0x29598d(0x64b)]){let _0x52f1b8=_0x224f4d[_0x29598d(0x64b)];this[_0x29598d(0x60f)][_0x29598d(0x64b)](_0x52f1b8);}if(_0x224f4d[_0x29598d(0x2be)]){let _0x2967a8=_0x224f4d[_0x29598d(0x2be)];this[_0x29598d(0x696)][_0x29598d(0x2be)](_0x2967a8,_0x3630a0);}if(_0x224f4d[_0x29598d(0x379)]){let _0x24a2f4=_0x224f4d[_0x29598d(0x379)];this[_0x29598d(0x696)][_0x29598d(0x379)](_0x24a2f4,_0x3630a0);}}});}[a0_0x313677(0x53a)](_0x2ec214){return new Promise(_0x130e49=>setTimeout(_0x130e49,_0x2ec214));}[a0_0x313677(0x74b)](_0x952b0){const _0x1c434c=a0_0x313677;let _0x4d3433=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1c434c(0x2f5)](_0x952b0);if(_0x4d3433&&_0x4d3433[0x1]==='55'){let _0x4b31d5=_0x4d3433[0x2],_0x452f7a=_0x4d3433[0x3],_0x250d30=_0x4d3433[0x4];if(_0x4b31d5>='31'&&_0x452f7a==='9')return _0x4d3433[0x1]+_0x4b31d5+_0x250d30;}return _0x952b0;}[a0_0x313677(0x469)](_0x417107){const _0x468eda=a0_0x313677;return _0x417107[_0x468eda(0x2fe)]('@g.us')||_0x417107[_0x468eda(0x2fe)](_0x468eda(0x64e))||_0x417107[_0x468eda(0x2fe)](_0x468eda(0x715))?_0x417107:(_0x417107=_0x417107?.[_0x468eda(0x427)](/\s/g,'')['replace'](/\+/g,'')[_0x468eda(0x427)](/\(/g,'')[_0x468eda(0x427)](/\)/g,'')[_0x468eda(0x58d)](/\:/)[0x0][_0x468eda(0x58d)]('@')[0x0],_0x417107[_0x468eda(0x1c3)]>=0x12?(_0x417107=_0x417107[_0x468eda(0x427)](/[^\d-]/g,''),_0x417107+_0x468eda(0x638)):(_0x417107=_0x417107['replace'](/\D/g,''),this[_0x468eda(0x74b)](_0x417107)+_0x468eda(0x64e)));}async['updatePresence'](_0x54a7f2){const _0x17bbb0=a0_0x313677;let _0x3b4bd2=this[_0x17bbb0(0x469)](_0x54a7f2[_0x17bbb0(0x2d9)]),_0x4d73a4=(await this[_0x17bbb0(0x521)]({'numbers':[_0x3b4bd2]}))[0x0];if(!_0x4d73a4['exists']&&!(0x0,y[_0x17bbb0(0x158)])(_0x4d73a4[_0x17bbb0(0x259)]))throw new m(_0x4d73a4);let _0x25b591=(0x0,y[_0x17bbb0(0x158)])(_0x3b4bd2)?_0x3b4bd2:_0x4d73a4['jid'];if((0x0,y[_0x17bbb0(0x158)])(_0x25b591))try{await this[_0x17bbb0(0x4b9)][_0x17bbb0(0x2e0)](_0x25b591);}catch{throw new j(_0x17bbb0(0x50b));}try{return await this[_0x17bbb0(0x4b9)]['presenceSubscribe'](_0x25b591),await this['client'][_0x17bbb0(0x281)](_0x54a7f2[_0x17bbb0(0x6c3)],_0x3b4bd2),{'status':0xc8,'presence':_0x54a7f2[_0x17bbb0(0x6c3)]};}catch(_0x941c6d){throw new m(_0x941c6d[_0x17bbb0(0x3eb)]());}}async[a0_0x313677(0x424)](_0x40a5ca){const _0x30eded=a0_0x313677;let _0x5bc6ca=this[_0x30eded(0x469)](_0x40a5ca);try{return{'wuid':_0x5bc6ca,'profilePictureUrl':await this[_0x30eded(0x4b9)][_0x30eded(0x1b9)](_0x5bc6ca,'image')};}catch{return{'wuid':_0x5bc6ca,'profilePictureUrl':null};}}async[a0_0x313677(0x63a)](_0x17eed6,_0x3d277f,_0x529620){const _0x2b4fb5=a0_0x313677;_0x529620||(_0x529620={});let _0x17c307=(await this[_0x2b4fb5(0x521)]({'numbers':[_0x17eed6]}))[0x0];if(!_0x17c307[_0x2b4fb5(0x793)]&&!(0x0,y[_0x2b4fb5(0x158)])(_0x17c307[_0x2b4fb5(0x259)])&&!_0x17c307[_0x2b4fb5(0x259)][_0x2b4fb5(0x2fe)](_0x2b4fb5(0x715)))throw new m(_0x17c307);let _0x42dc3f=_0x17c307['jid'];try{_0x529620?.[_0x2b4fb5(0x3f4)]&&(await this[_0x2b4fb5(0x4b9)][_0x2b4fb5(0x531)](_0x42dc3f),await this[_0x2b4fb5(0x4b9)][_0x2b4fb5(0x281)](_0x529620?.[_0x2b4fb5(0x6c3)]??_0x2b4fb5(0x720),_0x42dc3f),await(0x0,y[_0x2b4fb5(0x3f4)])(_0x529620[_0x2b4fb5(0x3f4)]),await this['client'][_0x2b4fb5(0x281)](_0x2b4fb5(0x33a),_0x42dc3f));let _0xd0b07=_0x529620?.[_0x2b4fb5(0x5b3)]!=!0x1?void 0x0:!0x1,_0x4bd20f;if(_0x529620?.[_0x2b4fb5(0x257)]){let _0x12d202=_0x529620?.['quoted'],_0xb4d6d8=_0x12d202?.['message']?_0x12d202:await this[_0x2b4fb5(0x410)](_0x12d202[_0x2b4fb5(0x5c0)],!0x0);if(!_0xb4d6d8)throw _0x2b4fb5(0x383);_0x4bd20f=_0xb4d6d8;}let _0x4a849e;if((0x0,y[_0x2b4fb5(0x158)])(_0x42dc3f))try{let _0x1b987e=await this[_0x2b4fb5(0x4b9)][_0x2b4fb5(0x2e0)](_0x42dc3f);if(!_0x1b987e)throw new j('Group\x20not\x20found');_0x529620?.[_0x2b4fb5(0x23a)]&&(_0x529620[_0x2b4fb5(0x23a)]?.[_0x2b4fb5(0x1f8)]?_0x4a849e=_0x1b987e['participants'][_0x2b4fb5(0x217)](_0x556de8=>_0x556de8['id']):_0x529620[_0x2b4fb5(0x23a)]?.[_0x2b4fb5(0x605)]?.['length']&&(_0x4a849e=_0x529620[_0x2b4fb5(0x23a)][_0x2b4fb5(0x605)][_0x2b4fb5(0x217)](_0x29cb74=>{const _0x3332a5=_0x2b4fb5;let _0x54a5bf=this[_0x3332a5(0x469)](_0x29cb74);return(0x0,y['isJidGroup'])(_0x54a5bf)?null:_0x54a5bf;})));}catch{throw new j('Group\x20not\x20found');}let _0x8d095c=await((async()=>{const _0x10a1b1=_0x2b4fb5;let _0x3645ea={'quoted':_0x4bd20f};if(!_0x3d277f['audio']&&!_0x3d277f[_0x10a1b1(0x4f8)]&&!_0x3d277f[_0x10a1b1(0x737)]&&!_0x3d277f[_0x10a1b1(0x387)]&&_0x42dc3f!==_0x10a1b1(0x415)&&!_0x3d277f[_0x10a1b1(0x741)])return await this[_0x10a1b1(0x4b9)][_0x10a1b1(0x30c)](_0x42dc3f,{'forward':{'key':{'remoteJid':this[_0x10a1b1(0x17a)][_0x10a1b1(0x164)],'fromMe':!0x0},'message':_0x3d277f},'mentions':_0x4a849e},_0x3645ea);if(_0x3d277f['conversation']){let _0x2f5000=_0x3d277f['conversation'];return _0x529620?.[_0x10a1b1(0x1b2)]&&(_0x2f5000=await this[_0x10a1b1(0x25a)](_0x2f5000,_0x42dc3f)),await this['client']['sendMessage'](_0x42dc3f,{'text':_0x2f5000,'mentions':_0x4a849e,'linkPreview':_0xd0b07},_0x3645ea);}return _0x42dc3f===_0x10a1b1(0x415)?await this[_0x10a1b1(0x4b9)]['sendMessage'](_0x42dc3f,_0x3d277f[_0x10a1b1(0x57d)]['content'],{'backgroundColor':_0x3d277f['status'][_0x10a1b1(0x17b)][_0x10a1b1(0x31a)],'font':_0x3d277f[_0x10a1b1(0x57d)]['option'][_0x10a1b1(0x1eb)],'statusJidList':_0x3d277f[_0x10a1b1(0x57d)]['option'][_0x10a1b1(0x728)]}):await this[_0x10a1b1(0x4b9)][_0x10a1b1(0x30c)](_0x42dc3f,_0x3d277f,_0x3645ea);})()),{message_normalized:_0xe2fd1a}=this['normalizeMessage'](_0x8d095c[_0x2b4fb5(0x711)],$(_0x8d095c[_0x2b4fb5(0x711)]),null),_0x1497d1={'_id':_0x8d095c[_0x2b4fb5(0x5c0)]['id'],'key':_0x8d095c[_0x2b4fb5(0x5c0)],'pushName':_0x8d095c['pushName'],'message':{..._0x8d095c[_0x2b4fb5(0x711)]},'messageType':$(_0x8d095c[_0x2b4fb5(0x711)]),'message_normalized':{'key':_0x8d095c[_0x2b4fb5(0x5c0)],'pushName':_0x8d095c['pushName'],'messageTimestamp':_0x8d095c['messageTimestamp']&&_0x8d095c[_0x2b4fb5(0x374)][_0x2b4fb5(0x3eb)]()['length']<0xd?_0x8d095c['messageTimestamp']*0x3e8:_0x8d095c[_0x2b4fb5(0x374)]||null,'source':(0x0,y[_0x2b4fb5(0x532)])(_0x8d095c[_0x2b4fb5(0x5c0)]['id']),..._0xe2fd1a},'messageTimestamp':_0x8d095c[_0x2b4fb5(0x374)]&&_0x8d095c[_0x2b4fb5(0x374)][_0x2b4fb5(0x3eb)]()[_0x2b4fb5(0x1c3)]<0xd?_0x8d095c[_0x2b4fb5(0x374)]*0x3e8:_0x8d095c[_0x2b4fb5(0x374)]||null,'owner':this['instance']['wuid'],'source':(0x0,y['getDevice'])(_0x8d095c[_0x2b4fb5(0x5c0)]['id'])};return this[_0x2b4fb5(0x167)]['log'](_0x1497d1),this[_0x2b4fb5(0x581)](_0x2b4fb5(0x70b),_0x1497d1),J(this[_0x2b4fb5(0x523)],_0x2b4fb5(0x745),{'message':_0x1497d1}),this[_0x2b4fb5(0x437)](this[_0x2b4fb5(0x416)]['get'](_0x2b4fb5(0x5df)),_0x1497d1,_0x2b4fb5(0x552)),await this['repository'][_0x2b4fb5(0x711)][_0x2b4fb5(0x47b)]([_0x1497d1],this['instance'][_0x2b4fb5(0x164)]),_0x8d095c;}catch(_0x384a0d){throw this[_0x2b4fb5(0x167)][_0x2b4fb5(0x54e)](this['instanceName']+'\x20('+this[_0x2b4fb5(0x17a)][_0x2b4fb5(0x164)]+_0x2b4fb5(0x4a7)+_0x384a0d[_0x2b4fb5(0x3eb)]()),new m(_0x384a0d['toString']());}}get[a0_0x313677(0x712)](){const _0x30d6c4=a0_0x313677;return this[_0x30d6c4(0x5c2)];}async[a0_0x313677(0x305)](_0x3e2471){const _0x4f6110=a0_0x313677;let _0x25f60a=gr,_0x424424=He;return _0x424424&&this[_0x4f6110(0x523)][_0x4f6110(0x620)]()[_0x4f6110(0x2fe)](_0x424424[_0x4f6110(0x620)]())&&(_0x3e2471[_0x4f6110(0x305)]['text']+='\x0a\x0a'+_0x25f60a),await this['sendMessageWithTyping'](_0x3e2471[_0x4f6110(0x2d9)],{'conversation':_0x3e2471[_0x4f6110(0x305)][_0x4f6110(0x37a)]},_0x3e2471?.['options']);}async['formatStatusMessage'](_0x817a7b){const _0x1c3ec8=a0_0x313677;if(!_0x817a7b[_0x1c3ec8(0x4f9)])throw new m('Type\x20is\x20required');if(!_0x817a7b['content'])throw new m(_0x1c3ec8(0x49a));if(_0x817a7b['allContacts']){let _0xe66e62=await this[_0x1c3ec8(0x5b2)][_0x1c3ec8(0x21e)][_0x1c3ec8(0x144)]({'where':{}},this[_0x1c3ec8(0x17a)]['wuid']);if(!_0xe66e62[_0x1c3ec8(0x1c3)])throw new m('Contacts\x20not\x20found');_0x817a7b[_0x1c3ec8(0x728)]=_0xe66e62[_0x1c3ec8(0x39d)](_0x74b0b=>_0x74b0b[_0x1c3ec8(0x2fd)])[_0x1c3ec8(0x217)](_0xd3d39e=>_0xd3d39e[_0x1c3ec8(0x510)]);}if(!_0x817a7b[_0x1c3ec8(0x728)]?.[_0x1c3ec8(0x1c3)]&&!_0x817a7b[_0x1c3ec8(0x413)])throw new m(_0x1c3ec8(0x2b3));if(_0x817a7b['type']===_0x1c3ec8(0x37a)){if(!_0x817a7b['backgroundColor'])throw new m('Background\x20color\x20is\x20required');if(!_0x817a7b['font'])throw new m('Font\x20is\x20required');return{'content':{'text':_0x817a7b[_0x1c3ec8(0x327)]},'option':{'backgroundColor':_0x817a7b[_0x1c3ec8(0x31a)],'font':_0x817a7b['font'],'statusJidList':_0x817a7b[_0x1c3ec8(0x728)]}};}if(_0x817a7b[_0x1c3ec8(0x4f9)]==='image')return{'content':{'image':{'url':_0x817a7b[_0x1c3ec8(0x327)]},'caption':_0x817a7b[_0x1c3ec8(0x16f)]},'option':{'statusJidList':_0x817a7b[_0x1c3ec8(0x728)]}};if(_0x817a7b[_0x1c3ec8(0x4f9)]===_0x1c3ec8(0x26b))return{'content':{'video':{'url':_0x817a7b[_0x1c3ec8(0x327)]},'caption':_0x817a7b[_0x1c3ec8(0x16f)]},'option':{'statusJidList':_0x817a7b[_0x1c3ec8(0x728)]}};if(_0x817a7b[_0x1c3ec8(0x4f9)]==='audio'){this['logger'][_0x1c3ec8(0x644)]('Type\x20defined\x20as\x20audio'),this[_0x1c3ec8(0x167)][_0x1c3ec8(0x644)](_0x1c3ec8(0x5f4));let _0xa9dec2=await this['convertaudio'](_0x817a7b[_0x1c3ec8(0x327)]);if(typeof _0xa9dec2=='string'){this[_0x1c3ec8(0x167)][_0x1c3ec8(0x644)](_0x1c3ec8(0x183));let _0x21d329=L[_0x1c3ec8(0x39e)](_0xa9dec2)[_0x1c3ec8(0x3eb)](_0x1c3ec8(0x716)),_0x3e4b3b={'content':{'audio':Buffer[_0x1c3ec8(0x6a6)](_0x21d329,'base64'),'ptt':!0x0,'mimetype':_0x1c3ec8(0x419)},'option':{'statusJidList':_0x817a7b['statusJidList']}};return L[_0x1c3ec8(0x2d7)](_0xa9dec2),_0x3e4b3b;}else throw new O(_0xa9dec2);}throw new m(_0x1c3ec8(0x420));}async['statusMessage'](_0x537794){const _0x114a78=a0_0x313677;return await this[_0x114a78(0x63a)](_0x114a78(0x415),{'status':await this[_0x114a78(0x76e)](_0x537794[_0x114a78(0x6a0)])});}async[a0_0x313677(0x25f)](_0xc1a092){const _0x3646a9=a0_0x313677;try{let _0x6b6df3=await(0x0,y[_0x3646a9(0x329)])({[_0xc1a092[_0x3646a9(0x1f3)]]:(0x0,k[_0x3646a9(0x356)])(_0xc1a092[_0x3646a9(0x273)])?{'url':_0xc1a092['media']}:Buffer[_0x3646a9(0x6a6)](_0xc1a092[_0x3646a9(0x273)],_0x3646a9(0x716))},{'upload':this['client'][_0x3646a9(0x5e7)]}),_0x1c571b=_0xc1a092[_0x3646a9(0x1f3)]+_0x3646a9(0x661);if(_0xc1a092[_0x3646a9(0x1f3)]===_0x3646a9(0x4a6)&&!_0xc1a092[_0x3646a9(0x375)]){let _0x3f656c=new RegExp(/.*\/(.+?)\./)['exec'](_0xc1a092[_0x3646a9(0x273)]);_0xc1a092['fileName']=_0x3f656c?_0x3f656c[0x1]:null;}let _0x1f89a6=(0x0,k[_0x3646a9(0x356)])(_0xc1a092['media'])?_0xc1a092[_0x3646a9(0x273)][_0x3646a9(0x58d)]('?')[0x0]:_0xc1a092['media'];this[_0x3646a9(0x167)][_0x3646a9(0x644)](_0x3646a9(0x744)+_0x1f89a6);let _0xd4d935;(0x0,k['isURL'])(_0xc1a092[_0x3646a9(0x273)])?_0xd4d935=(0x0,It[_0x3646a9(0x6f9)])(_0x1f89a6):_0xc1a092['fileName']&&_0xc1a092['fileName'][_0x3646a9(0x2fe)]('.')?_0xd4d935=(0x0,It['getMIMEType'])(_0xc1a092[_0x3646a9(0x375)]):_0xd4d935=(0x0,It['getMIMEType'])(_0xc1a092['media']);let _0x398d94=gr,_0x458168=He;return _0x458168&&this[_0x3646a9(0x523)][_0x3646a9(0x620)]()[_0x3646a9(0x2fe)](_0x458168['toLowerCase']())&&(_0xc1a092['caption']+='\x0a\x0a'+_0x398d94),_0x6b6df3[_0x1c571b]['caption']=_0xc1a092?.[_0x3646a9(0x16f)],_0x6b6df3[_0x1c571b]['mimetype']=_0xd4d935,_0x6b6df3[_0x1c571b][_0x3646a9(0x375)]=_0xc1a092[_0x3646a9(0x375)],_0xc1a092[_0x3646a9(0x1f3)]===_0x3646a9(0x26b)&&(_0x6b6df3[_0x1c571b]['jpegThumbnail']=Uint8Array[_0x3646a9(0x6a6)]((0x0,ve[_0x3646a9(0x39e)])((0x0,F[_0x3646a9(0x762)])(process[_0x3646a9(0x5ab)](),_0x3646a9(0x348)))),_0x6b6df3[_0x1c571b][_0x3646a9(0x13c)]=!0x1),(0x0,y['generateWAMessageFromContent'])('',{[_0x1c571b]:{..._0x6b6df3[_0x1c571b]}},{'userJid':this[_0x3646a9(0x17a)][_0x3646a9(0x164)]});}catch(_0x54818d){throw this[_0x3646a9(0x167)][_0x3646a9(0x54e)](this[_0x3646a9(0x523)]+'\x20('+this[_0x3646a9(0x17a)]['wuid']+'):\x20'+(_0x54818d instanceof Error?_0x54818d[_0x3646a9(0x711)]:JSON['stringify'](_0x54818d,null,0x2))),new O(_0x54818d?.[_0x3646a9(0x3eb)]()||_0x54818d);}}async[a0_0x313677(0x59d)](_0x1a5b90){const _0x516fdc=a0_0x313677;let _0xd772c1=await this[_0x516fdc(0x25f)](_0x1a5b90[_0x516fdc(0x59d)]);return await this[_0x516fdc(0x63a)](_0x1a5b90[_0x516fdc(0x2d9)],{..._0xd772c1[_0x516fdc(0x711)]},_0x1a5b90?.[_0x516fdc(0x73b)]);}async[a0_0x313677(0x5f9)](_0x54d241,_0x214293){const _0x1787be=a0_0x313677;try{this[_0x1787be(0x167)][_0x1787be(0x644)]('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x41b314,_0x525401=_0x214293+'-'+new Date()[_0x1787be(0x756)]();this[_0x1787be(0x167)][_0x1787be(0x644)](_0x1787be(0x58e)+_0x525401);let _0x189425=''+(0x0,F['join'])(this['storePath'],_0x525401+_0x1787be(0x233));if(this[_0x1787be(0x167)]['verbose'](_0x1787be(0x4c1)+_0x189425),(0x0,k['isBase64'])(_0x54d241)){this[_0x1787be(0x167)][_0x1787be(0x644)]('Image\x20is\x20base64');let _0x426f71=_0x54d241[_0x1787be(0x427)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x118c04=Buffer[_0x1787be(0x6a6)](_0x426f71,'base64');_0x41b314=''+(0x0,F[_0x1787be(0x762)])(this[_0x1787be(0x654)],_0x1787be(0x5b6)+_0x525401+_0x1787be(0x697)),this[_0x1787be(0x167)]['verbose'](_0x1787be(0x1cc)+_0x41b314),await(0x0,xt[_0x1787be(0x175)])(_0x118c04)['toFile'](_0x41b314),this[_0x1787be(0x167)][_0x1787be(0x644)](_0x1787be(0x3ef));}else{this[_0x1787be(0x167)][_0x1787be(0x644)](_0x1787be(0x2a8));let _0x96c43c=new Date()[_0x1787be(0x756)](),_0x450c87=_0x54d241+_0x1787be(0x3df)+_0x96c43c;this[_0x1787be(0x167)][_0x1787be(0x644)]('including\x20timestamp\x20in\x20url:\x20'+_0x450c87);let _0x54c82c=await se['default'][_0x1787be(0x749)](_0x450c87,{'responseType':'arraybuffer'});this[_0x1787be(0x167)][_0x1787be(0x644)](_0x1787be(0x703));let _0x3daf22=Buffer[_0x1787be(0x6a6)](_0x54c82c[_0x1787be(0x42a)],_0x1787be(0x1b5));_0x41b314=''+(0x0,F[_0x1787be(0x762)])(this['storePath'],'temp-'+_0x525401+_0x1787be(0x697)),this[_0x1787be(0x167)][_0x1787be(0x644)](_0x1787be(0x1cc)+_0x41b314),await(0x0,xt[_0x1787be(0x175)])(_0x3daf22)[_0x1787be(0x238)](_0x41b314),this[_0x1787be(0x167)][_0x1787be(0x644)](_0x1787be(0x3ef));}return await(0x0,xt[_0x1787be(0x175)])(_0x41b314)[_0x1787be(0x1c8)]()[_0x1787be(0x238)](_0x189425),this[_0x1787be(0x167)]['verbose']('Image\x20converted\x20to\x20WebP'),L[_0x1787be(0x2d7)](_0x41b314),this[_0x1787be(0x167)]['verbose']('Temp\x20image\x20deleted'),_0x189425;}catch(_0x56a428){console[_0x1787be(0x54e)](_0x1787be(0x430),_0x56a428 instanceof Error?_0x56a428[_0x1787be(0x711)]:JSON[_0x1787be(0x2db)](_0x56a428,null,0x2));}}async[a0_0x313677(0x51a)](_0x57693f){const _0x55a273=a0_0x313677;let _0x2f2a1b=await this[_0x55a273(0x5f9)](_0x57693f['stickerMessage']['image'],_0x57693f['number']),_0xe5e208=await this[_0x55a273(0x63a)](_0x57693f[_0x55a273(0x2d9)],{'sticker':{'url':_0x2f2a1b}},_0x57693f?.[_0x55a273(0x73b)]);return L['unlinkSync'](_0x2f2a1b),this[_0x55a273(0x167)]['verbose'](_0x55a273(0x4a2)),_0xe5e208;}async['audioWhatsapp'](_0x22414c){const _0x3a3baf=a0_0x313677;if(this[_0x3a3baf(0x167)][_0x3a3baf(0x644)](_0x3a3baf(0x3e5)),!_0x22414c['options']?.[_0x3a3baf(0x38f)]&&_0x22414c[_0x3a3baf(0x73b)]?.[_0x3a3baf(0x38f)]!==!0x1&&(_0x22414c['options'][_0x3a3baf(0x38f)]=!0x0),_0x22414c[_0x3a3baf(0x73b)]?.[_0x3a3baf(0x38f)]){let _0x498c8c=await this[_0x3a3baf(0x598)](_0x22414c[_0x3a3baf(0x6f8)][_0x3a3baf(0x741)]);if(typeof _0x498c8c=='string'){let _0x244d2f=L[_0x3a3baf(0x39e)](_0x498c8c)[_0x3a3baf(0x3eb)](_0x3a3baf(0x716)),_0x32c9f3=this[_0x3a3baf(0x63a)](_0x22414c[_0x3a3baf(0x2d9)],{'audio':Buffer[_0x3a3baf(0x6a6)](_0x244d2f,_0x3a3baf(0x716)),'ptt':!0x0,'mimetype':_0x3a3baf(0x419)},{'presence':_0x3a3baf(0x30d),'delay':_0x22414c?.['options']?.[_0x3a3baf(0x3f4)]});return L['unlinkSync'](_0x498c8c),this[_0x3a3baf(0x167)][_0x3a3baf(0x644)](_0x3a3baf(0x223)),_0x32c9f3;}else throw new O(_0x498c8c);}return await this[_0x3a3baf(0x63a)](_0x22414c[_0x3a3baf(0x2d9)],{'audio':(0x0,k['isURL'])(_0x22414c[_0x3a3baf(0x6f8)][_0x3a3baf(0x741)])?{'url':_0x22414c[_0x3a3baf(0x6f8)][_0x3a3baf(0x741)]}:Buffer[_0x3a3baf(0x6a6)](_0x22414c[_0x3a3baf(0x6f8)][_0x3a3baf(0x741)],_0x3a3baf(0x716)),'ptt':!0x0,'mimetype':_0x3a3baf(0x1d1)},{'presence':'recording','delay':_0x22414c?.[_0x3a3baf(0x73b)]?.[_0x3a3baf(0x3f4)]});}async[a0_0x313677(0x598)](_0x40d902){const _0x56fde2=a0_0x313677;this[_0x56fde2(0x167)][_0x56fde2(0x644)](_0x56fde2(0x5f4));let _0x2391bf,_0x208385,_0x259f9e=(0x0,Me['v4'])();if(this[_0x56fde2(0x167)][_0x56fde2(0x644)](_0x56fde2(0x395)+_0x259f9e),(0x0,k[_0x56fde2(0x356)])(_0x40d902)){this['logger'][_0x56fde2(0x644)]('Audio\x20is\x20url'),_0x208385=''+(0x0,F[_0x56fde2(0x762)])(this[_0x56fde2(0x654)],_0x259f9e+_0x56fde2(0x511)),_0x2391bf=''+(0x0,F[_0x56fde2(0x762)])(this[_0x56fde2(0x654)],_0x56fde2(0x5b6)+_0x259f9e+_0x56fde2(0x45f)),this[_0x56fde2(0x167)][_0x56fde2(0x644)](_0x56fde2(0x29e)+_0x208385),this['logger'][_0x56fde2(0x644)](_0x56fde2(0x44b)+_0x2391bf);let _0x2f706f=new Date()[_0x56fde2(0x756)](),_0x311d9e=_0x40d902+'?timestamp='+_0x2f706f;this['logger'][_0x56fde2(0x644)]('Including\x20timestamp\x20in\x20url:\x20'+_0x311d9e);let _0x4d36d3=await se[_0x56fde2(0x175)][_0x56fde2(0x749)](_0x311d9e,{'responseType':_0x56fde2(0x205)});this[_0x56fde2(0x167)][_0x56fde2(0x644)](_0x56fde2(0x5a7)),L['writeFileSync'](_0x2391bf,_0x4d36d3[_0x56fde2(0x42a)]);}else{this[_0x56fde2(0x167)][_0x56fde2(0x644)](_0x56fde2(0x3c5)),_0x208385=''+(0x0,F[_0x56fde2(0x762)])(this[_0x56fde2(0x654)],_0x259f9e+_0x56fde2(0x511)),_0x2391bf=''+(0x0,F[_0x56fde2(0x762)])(this[_0x56fde2(0x654)],_0x56fde2(0x5b6)+_0x259f9e+_0x56fde2(0x45f)),this[_0x56fde2(0x167)][_0x56fde2(0x644)](_0x56fde2(0x29e)+_0x208385),this[_0x56fde2(0x167)][_0x56fde2(0x644)](_0x56fde2(0x44b)+_0x2391bf);let _0x49eece=Buffer[_0x56fde2(0x6a6)](_0x40d902,_0x56fde2(0x716));L[_0x56fde2(0x3cc)](_0x2391bf,_0x49eece),this['logger'][_0x56fde2(0x644)]('Temp\x20audio\x20created');}return this[_0x56fde2(0x167)][_0x56fde2(0x644)]('Converting\x20audio\x20to\x20mp4'),new Promise((_0x2c309c,_0x172703)=>{const _0x43265d=_0x56fde2;(0x0,Dt[_0x43265d(0x2f5)])(mr['default']['path']+_0x43265d(0x542)+_0x2391bf+_0x43265d(0x525)+_0x208385+_0x43265d(0x565),_0x34c35f=>{const _0x2f7e03=_0x43265d;L[_0x2f7e03(0x2d7)](_0x2391bf),this[_0x2f7e03(0x167)][_0x2f7e03(0x644)](_0x2f7e03(0x3a1)),_0x34c35f&&_0x172703(_0x34c35f),this[_0x2f7e03(0x167)][_0x2f7e03(0x644)](_0x2f7e03(0x225)),_0x2c309c(_0x208385);});});}async[a0_0x313677(0x4f6)](_0x1dd0e7){const _0x55f3e7=a0_0x313677;let _0x599750={},_0x157e98=_0x55f3e7(0x236);if(_0x1dd0e7['buttonMessage']?.[_0x55f3e7(0x59d)]){_0x157e98=_0x1dd0e7['buttonMessage'][_0x55f3e7(0x59d)]?.[_0x55f3e7(0x1f3)][_0x55f3e7(0x6cc)]()??_0x55f3e7(0x236),_0x599750[_0x55f3e7(0x2e4)]=_0x157e98[_0x55f3e7(0x620)]()+'Message';let _0xac7339=await this['prepareMediaMessage'](_0x1dd0e7['buttonMessage'][_0x55f3e7(0x59d)]);_0x599750[_0x55f3e7(0x711)]=_0xac7339['message'][_0x599750[_0x55f3e7(0x2e4)]],_0x599750[_0x55f3e7(0x6d8)]='*'+_0x1dd0e7[_0x55f3e7(0x4f6)][_0x55f3e7(0x4c4)]+_0x55f3e7(0x347)+_0x1dd0e7[_0x55f3e7(0x4f6)][_0x55f3e7(0x6c7)];}let _0x5d4f51={'text':_0x1dd0e7[_0x55f3e7(0x4f6)][_0x55f3e7(0x2ad)][_0x55f3e7(0x217)](_0x421ea0=>_0x421ea0[_0x55f3e7(0x339)]),'ids':_0x1dd0e7[_0x55f3e7(0x4f6)][_0x55f3e7(0x2ad)][_0x55f3e7(0x217)](_0x571297=>_0x571297['buttonId'])};if(!(0x0,k[_0x55f3e7(0x563)])(_0x5d4f51[_0x55f3e7(0x37a)])||!(0x0,k[_0x55f3e7(0x563)])(_0x5d4f51[_0x55f3e7(0x36e)]))throw new m(_0x55f3e7(0x516),_0x55f3e7(0x6ec));return await this[_0x55f3e7(0x63a)](_0x1dd0e7[_0x55f3e7(0x2d9)],{'buttonsMessage':{'text':_0x599750?.['mediaKey']?void 0x0:_0x1dd0e7[_0x55f3e7(0x4f6)][_0x55f3e7(0x4c4)],'contentText':_0x599750?.[_0x55f3e7(0x6d8)]??_0x1dd0e7['buttonMessage'][_0x55f3e7(0x6c7)],'footerText':_0x1dd0e7[_0x55f3e7(0x4f6)]?.[_0x55f3e7(0x79c)],'buttons':_0x1dd0e7[_0x55f3e7(0x4f6)][_0x55f3e7(0x2ad)][_0x55f3e7(0x217)](_0x48fc23=>({'buttonText':{'displayText':_0x48fc23[_0x55f3e7(0x339)]},'buttonId':_0x48fc23[_0x55f3e7(0x656)],'type':0x1})),'headerType':y[_0x55f3e7(0x6c1)][_0x55f3e7(0x661)][_0x55f3e7(0x2e8)][_0x55f3e7(0x412)][_0x157e98],[_0x599750?.['mediaKey']]:_0x599750?.[_0x55f3e7(0x711)]}},_0x1dd0e7?.['options']);}async['locationMessage'](_0x5156a8){const _0x514575=a0_0x313677;return await this[_0x514575(0x63a)](_0x5156a8[_0x514575(0x2d9)],{'locationMessage':{'degreesLatitude':_0x5156a8[_0x514575(0x5e5)][_0x514575(0x4ae)],'degreesLongitude':_0x5156a8['locationMessage'][_0x514575(0x32e)],'name':_0x5156a8[_0x514575(0x5e5)]?.[_0x514575(0x4af)],'address':_0x5156a8[_0x514575(0x5e5)]?.['address']}},_0x5156a8?.[_0x514575(0x73b)]);}async[a0_0x313677(0x1ca)](_0x320035){const _0x37e11d=a0_0x313677;let _0xd4b154={},_0x1891fa=_0x480f9f=>{const _0x564e75=a0_0x5a0c;let _0x4ef35b=_0x564e75(0x56d)+_0x480f9f[_0x564e75(0x72c)]+'\x0aFN:'+_0x480f9f[_0x564e75(0x72c)]+'\x0a';_0x480f9f[_0x564e75(0x5c4)]&&(_0x4ef35b+=_0x564e75(0x496)+_0x480f9f[_0x564e75(0x5c4)]+';\x0a'),_0x480f9f[_0x564e75(0x5fa)]&&(_0x4ef35b+='EMAIL:'+_0x480f9f['email']+'\x0a'),_0x480f9f[_0x564e75(0x310)]&&(_0x4ef35b+='URL:'+_0x480f9f[_0x564e75(0x310)]+'\x0a');let _0xeb9609='';return _0x480f9f[_0x564e75(0x6be)]&&_0x480f9f[_0x564e75(0x6be)][_0x564e75(0x58d)]('|')[_0x564e75(0x6c9)]((_0x5e8146,_0x169aeb)=>{const _0x11b0b4=_0x564e75;let _0x14ca36=this[_0x11b0b4(0x469)](_0x5e8146)[_0x11b0b4(0x427)]('@s.whatsapp.net','');_0xeb9609+=_0x11b0b4(0x501)+(_0x169aeb+0x1)+_0x11b0b4(0x4ef)+_0x14ca36+':'+_0x5e8146+_0x11b0b4(0x49c)+(_0x169aeb+0x1)+'.X-ABLabel:Celular\x0a';}),_0x4ef35b+=_0xeb9609+_0x564e75(0x428),_0x4ef35b;};return _0x320035[_0x37e11d(0x1ca)][_0x37e11d(0x1c3)]===0x1?_0xd4b154[_0x37e11d(0x1ca)]={'displayName':_0x320035['contactMessage'][0x0]['fullName'],'vcard':_0x1891fa(_0x320035['contactMessage'][0x0])}:_0xd4b154[_0x37e11d(0x5e3)]={'displayName':_0x320035[_0x37e11d(0x1ca)][_0x37e11d(0x1c3)]+_0x37e11d(0x444),'contacts':_0x320035[_0x37e11d(0x1ca)][_0x37e11d(0x217)](_0x41220c=>({'displayName':_0x41220c[_0x37e11d(0x72c)],'vcard':_0x1891fa(_0x41220c)}))},await this[_0x37e11d(0x63a)](_0x320035[_0x37e11d(0x2d9)],{..._0xd4b154},_0x320035?.[_0x37e11d(0x73b)]);}async[a0_0x313677(0x470)](_0x3e7208){const _0x58e351=a0_0x313677;return await this['sendMessageWithTyping'](_0x3e7208[_0x58e351(0x470)][_0x58e351(0x5c0)]['remoteJid'],{'reactionMessage':{'key':_0x3e7208[_0x58e351(0x470)][_0x58e351(0x5c0)],'text':_0x3e7208[_0x58e351(0x470)][_0x58e351(0x23f)]}});}async['whatsappNumber'](_0x45f185){const _0x2a63f7=a0_0x313677;let _0x4404de=[];for await(let _0x8c5720 of _0x45f185[_0x2a63f7(0x774)]){let _0x534cd9=this[_0x2a63f7(0x469)](_0x8c5720),_0x24a43b=!0x1;try{if((0x0,y[_0x2a63f7(0x158)])(_0x534cd9)){let _0x102f60=await this[_0x2a63f7(0x653)]({'groupJid':_0x534cd9},_0x2a63f7(0x3fe));_0x4404de['push'](new me(_0x102f60['metadata']['id'],!!_0x102f60?.[_0x2a63f7(0x267)]['id'],_0x102f60?.[_0x2a63f7(0x267)]['subject'])),_0x24a43b=!!_0x102f60?.[_0x2a63f7(0x267)]['id'];}else{let _0x70f9e7=(await this['client']['onWhatsApp'](_0x534cd9))[0x0];_0x4404de['push'](new me(_0x70f9e7[_0x2a63f7(0x259)],_0x70f9e7[_0x2a63f7(0x793)])),_0x24a43b=_0x70f9e7['exists'];}}catch{await this[_0x2a63f7(0x176)](_0x534cd9,_0x24a43b),_0x4404de[_0x2a63f7(0x64c)](new me(_0x8c5720,!0x1));}}return _0x4404de;}async['checkAndUpdateChatStatus'](_0x4e2c65,_0x2ad5ee){const _0x122557=a0_0x313677;try{await this[_0x122557(0x5b2)][_0x122557(0x351)][_0x122557(0x330)]({'where':{'_id':_0x4e2c65,'imported':!0x0}},this[_0x122557(0x17a)][_0x122557(0x164)])&&(_0x2ad5ee||(await this[_0x122557(0x5b2)][_0x122557(0x351)][_0x122557(0x215)](_0x4e2c65,this[_0x122557(0x17a)][_0x122557(0x164)]),console[_0x122557(0x17d)](_0x122557(0x1fe)+_0x4e2c65+_0x122557(0x2aa))));}catch(_0x7f67d3){console[_0x122557(0x54e)](_0x122557(0x34f),_0x7f67d3);}}async[a0_0x313677(0x2eb)](_0x56d803){const _0x1404ad=a0_0x313677;try{let _0x4193bf=_0x56d803[_0x1404ad(0x554)]['filter'](_0x272cc9=>(0x0,y[_0x1404ad(0x158)])(_0x272cc9['remoteJid'])||(0x0,y[_0x1404ad(0x67f)])(_0x272cc9['remoteJid']))[_0x1404ad(0x217)](_0x3b7981=>({'remoteJid':_0x3b7981[_0x1404ad(0x594)],'fromMe':_0x3b7981['fromMe'],'id':_0x3b7981['id']}));await this[_0x1404ad(0x4b9)][_0x1404ad(0x554)](_0x4193bf);let _0x4526c6=_0x4193bf[_0x1404ad(0x217)](_0x5d9581=>this[_0x1404ad(0x794)](_0x5d9581,{'status':_0x1404ad(0x775),'owner':this[_0x1404ad(0x17a)][_0x1404ad(0x164)]})),_0x5ee15c=_0x4193bf[_0x1404ad(0x217)](_0x47fd21=>this[_0x1404ad(0x5b2)]['chat'][_0x1404ad(0x471)]({'where':{'_id':_0x47fd21[_0x1404ad(0x594)]}},{'unreadcount':0x0},this['instance']['wuid'])),[_0x42be76,_0x475c48]=await Promise[_0x1404ad(0x3b7)]([Promise['all'](_0x4526c6),Promise[_0x1404ad(0x3b7)](_0x5ee15c)]);return _0x475c48[_0x1404ad(0x39d)](_0x4d4936=>_0x4d4936!==null)[_0x1404ad(0x6c9)](_0x40b25d=>{const _0x178ebe=_0x1404ad;J(this[_0x178ebe(0x523)],_0x178ebe(0x1f4),{'chat':_0x40b25d});}),{'message':_0x1404ad(0x1cf),'read':_0x1404ad(0x626)};}catch(_0x17df08){throw console['error']('Error\x20in\x20markMessageAsRead:',_0x17df08),new O(_0x1404ad(0x64a),_0x17df08[_0x1404ad(0x3eb)]());}}async[a0_0x313677(0x5f3)](_0x406568){const _0x43c74b=a0_0x313677;let _0x3b7dfe={'where':{'key':{'remoteJid':_0x406568}},'limit':0x1},_0x55786c=await this[_0x43c74b(0x3a7)](_0x3b7dfe);return _0x55786c||(console['error'](_0x43c74b(0x42f),_0x406568),null);}async[a0_0x313677(0x295)](_0x4bf173){const _0xaca0ae=a0_0x313677;this['logger']['verbose'](_0xaca0ae(0x376));try{let _0x288f1a=_0x4bf173[_0xaca0ae(0x771)],_0x737fc0=_0x4bf173[_0xaca0ae(0x351)];if(!_0x288f1a&&_0x737fc0?_0x288f1a=await this[_0xaca0ae(0x5f3)](_0x737fc0):(_0x288f1a=_0x4bf173['lastMessage'],_0x288f1a[_0xaca0ae(0x374)]=_0x288f1a?.['messageTimestamp']??Date[_0xaca0ae(0x447)](),_0x737fc0=_0x288f1a?.[_0xaca0ae(0x5c0)]?.[_0xaca0ae(0x594)]),!_0x288f1a||Object['keys'](_0x288f1a)['length']===0x0)throw new j(_0xaca0ae(0x5ba));this[_0xaca0ae(0x167)][_0xaca0ae(0x644)]('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x737fc0);try{await this[_0xaca0ae(0x4b9)][_0xaca0ae(0x5af)]({'archive':_0x4bf173[_0xaca0ae(0x4a3)],'lastMessages':[_0x288f1a]},this['createJid'](_0x737fc0));}catch(_0x3ca1cb){this['logger']['error']('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x737fc0+':\x20'+_0x3ca1cb[_0xaca0ae(0x3eb)]());}this[_0xaca0ae(0x167)][_0xaca0ae(0x644)](_0xaca0ae(0x31f)+_0x737fc0);let _0x4570f5=await this[_0xaca0ae(0x5b2)][_0xaca0ae(0x351)][_0xaca0ae(0x471)]({'where':{'_id':_0x288f1a?.[_0xaca0ae(0x5c0)]?.[_0xaca0ae(0x594)]}},{'archived':_0x4bf173[_0xaca0ae(0x4a3)]},this[_0xaca0ae(0x17a)][_0xaca0ae(0x164)]);return _0x4570f5?(this['logger'][_0xaca0ae(0x644)]('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0xaca0ae(0x2db)](_0x4570f5)),J(this[_0xaca0ae(0x523)],_0xaca0ae(0x1f4),{'chat':_0x4570f5})):this['logger']['error'](_0xaca0ae(0x791)+_0x737fc0),{'chatId':_0x737fc0,'archived':_0x4bf173[_0xaca0ae(0x4a3)]};}catch(_0xdd64c7){throw this[_0xaca0ae(0x167)]['error'](_0xaca0ae(0x5ed)+_0xdd64c7['toString']()),new O({'archived':!0x1,'message':[_0xaca0ae(0x773),_0xdd64c7[_0xaca0ae(0x3eb)]()]});}}async[a0_0x313677(0x502)](_0xd86bc9){const _0x521a96=a0_0x313677;try{let _0x103a11=await this['client'][_0x521a96(0x30c)](_0xd86bc9[_0x521a96(0x594)],{'delete':_0xd86bc9});try{let _0x2fcab6=await this[_0x521a96(0x794)](_0xd86bc9,{'status':_0x521a96(0x213),'owner':this[_0x521a96(0x17a)][_0x521a96(0x164)]});this[_0x521a96(0x167)][_0x521a96(0x644)](this[_0x521a96(0x523)]+'\x20('+this[_0x521a96(0x17a)][_0x521a96(0x164)]+_0x521a96(0x54a)+_0x2fcab6);}catch(_0x349377){console[_0x521a96(0x54e)](_0x521a96(0x2f2),_0x349377);}return _0x103a11;}catch(_0x132680){throw new O(_0x521a96(0x39c),_0x132680?.['toString']());}}async['getBase64FromMediaMessage'](_0x59e94e){const _0x49e552=a0_0x313677;try{let _0xcdb0d8=_0x59e94e?.[_0x49e552(0x711)]?_0x59e94e:await this['getMessage'](_0x59e94e[_0x49e552(0x5c0)],!0x0);for(let _0x8c4f11 of ga)_0xcdb0d8[_0x49e552(0x711)][_0x8c4f11]&&(_0xcdb0d8[_0x49e552(0x711)]=_0xcdb0d8[_0x49e552(0x711)][_0x8c4f11][_0x49e552(0x711)]);let _0x106112,_0x42f2ea;for(let _0x593a1a of pa)if(_0x106112=_0xcdb0d8['message'][_0x593a1a],_0x106112){_0x42f2ea=_0x593a1a;break;}if(!_0x106112)throw _0x49e552(0x38d);typeof _0x106112[_0x49e552(0x2e4)]==_0x49e552(0x492)&&(_0xcdb0d8[_0x49e552(0x711)]=JSON[_0x49e552(0x42b)](JSON[_0x49e552(0x2db)](_0xcdb0d8[_0x49e552(0x711)])));let _0x850faf=await(0x0,y[_0x49e552(0x397)])({'key':_0xcdb0d8?.[_0x49e552(0x5c0)],'message':_0xcdb0d8?.[_0x49e552(0x711)]},'buffer',{},{'logger':(0x0,Ot[_0x49e552(0x175)])({'level':'silent'}),'reuploadRequest':this[_0x49e552(0x4b9)][_0x49e552(0x1e4)]});if(!(_0x850faf instanceof Buffer))throw new Error(_0x49e552(0x20b));let _0x5c12ec=this['configService'][_0x49e552(0x749)](_0x49e552(0x5df)),_0x2a379d,_0x1c2f74;if(_0x106112[_0x49e552(0x375)])_0x2a379d=_0x106112[_0x49e552(0x375)];else{let _0x8a0e9a=_0x106112[_0x49e552(0x291)]?.[_0x49e552(0x242)](/\/(\w+)/),_0x244473=_0x8a0e9a?_0x8a0e9a[0x1]:null;if(!_0x244473)throw new Error(_0x49e552(0x6ee));_0x2a379d=(0x0,Me['v4'])()+'.'+_0x244473;}_0x42f2ea==='audioMessage'&&_0x106112['mimetype']===_0x49e552(0x474)?(_0x2a379d=(0x0,Me['v4'])()+_0x49e552(0x2dd),_0x1c2f74=_0x49e552(0x784)+await this[_0x49e552(0x598)](_0x850faf['toString']('base64'))):(await this[_0x49e552(0x593)](_0x850faf,_0x2a379d),_0x1c2f74=_0x49e552(0x784)+_0x2a379d);let _0x41296c=this['configService'][_0x49e552(0x749)]('SERVER')[_0x49e552(0x245)];if(!_0x41296c){let _0x21a9ff=this[_0x49e552(0x416)][_0x49e552(0x749)](_0x49e552(0x26c));_0x41296c='https://'+(_0x21a9ff&&_0x21a9ff[_0x49e552(0x5d3)][_0x49e552(0x58d)]('/')[0x4]);}_0x1c2f74=''+_0x41296c+_0x1c2f74;let _0x5a48c8=0xc*0x3c*0x3c*0x3e8,_0x4f2a5a={'where':{'_id':_0xcdb0d8[_0x49e552(0x5c0)]['id']}},_0x442ff4={'message_normalized.fileUrl':_0x1c2f74,'message_normalized.expires_fileUrl':Date[_0x49e552(0x447)]()+_0x5a48c8};try{let _0x4f5eaf=await this[_0x49e552(0x5b2)]['message'][_0x49e552(0x321)](_0x4f2a5a,_0x442ff4,this[_0x49e552(0x17a)]['wuid']);_0x4f5eaf&&J(this[_0x49e552(0x523)],_0x49e552(0x745),{'message':_0x4f5eaf});}catch(_0x1f5003){this[_0x49e552(0x167)][_0x49e552(0x54e)](this[_0x49e552(0x523)]+'\x20('+this[_0x49e552(0x17a)][_0x49e552(0x164)]+_0x49e552(0x4a7)+(_0x1f5003 instanceof Error?_0x1f5003[_0x49e552(0x711)]:JSON[_0x49e552(0x2db)](_0x1f5003,null,0x2)));}return{'mediaType':_0x42f2ea,'fileName':_0x106112[_0x49e552(0x375)],'caption':_0x106112[_0x49e552(0x16f)],'size':{'fileLength':_0x106112[_0x49e552(0x2d2)],'height':_0x106112[_0x49e552(0x54f)],'width':_0x106112[_0x49e552(0x2d3)]},'mimetype':_0x106112[_0x49e552(0x291)],'base64':_0x850faf[_0x49e552(0x3eb)]('base64'),'fileUrl':_0x1c2f74,'expires_fileUrl':Date[_0x49e552(0x447)]()+_0x5a48c8};}catch(_0xdcd9c6){throw this[_0x49e552(0x167)][_0x49e552(0x54e)](this[_0x49e552(0x523)]+'\x20('+this[_0x49e552(0x17a)]['wuid']+_0x49e552(0x4a7)+(_0xdcd9c6 instanceof Error?_0xdcd9c6[_0x49e552(0x711)]:JSON[_0x49e552(0x2db)](_0xdcd9c6,null,0x2))),new m(_0xdcd9c6[_0x49e552(0x3eb)]());}}async['saveMediaToFile'](_0x2cc919,_0x2edee1){const _0x424a88=a0_0x313677;let _0x496f1e=F[_0x424a88(0x175)][_0x424a88(0x762)](__dirname,'downloads');L['existsSync'](_0x496f1e)||L[_0x424a88(0x6aa)](_0x496f1e,{'recursive':!0x0});let _0x7d3075=F['default'][_0x424a88(0x762)](_0x496f1e,_0x2edee1);return new Promise((_0x1ffa8f,_0x13d243)=>{const _0x56d0ec=_0x424a88;L[_0x56d0ec(0x50c)](_0x7d3075,_0x2cc919,_0x54a604=>{const _0x2c389c=_0x56d0ec;_0x54a604?(this[_0x2c389c(0x167)][_0x2c389c(0x54e)](_0x2c389c(0x1b3)+(_0x54a604 instanceof Error?_0x54a604[_0x2c389c(0x711)]:JSON[_0x2c389c(0x2db)](_0x54a604,null,0x2))),_0x13d243(_0x54a604)):(this[_0x2c389c(0x167)][_0x2c389c(0x17d)]('File\x20written\x20to\x20path:\x20'+_0x7d3075),_0x1ffa8f(_0x7d3075));});});}async['fetchContacts'](_0x4cc792){const _0x16970f=a0_0x313677;return await this['repository']['contact'][_0x16970f(0x144)](_0x4cc792,this[_0x16970f(0x17a)]['wuid']);}async[a0_0x313677(0x150)](){const _0x4d7bd6=a0_0x313677;return await this[_0x4d7bd6(0x5b2)][_0x4d7bd6(0x77c)]['find']({'where':{}},this[_0x4d7bd6(0x17a)][_0x4d7bd6(0x164)]);}async[a0_0x313677(0x3a7)](_0x2eec43){const _0x1bfca3=a0_0x313677;return await this['repository'][_0x1bfca3(0x711)][_0x1bfca3(0x144)](_0x2eec43,this['instance']['wuid']);}async[a0_0x313677(0x4e6)](){const _0x2a609d=a0_0x313677;return this['repository'][_0x2a609d(0x351)][_0x2a609d(0x425)](this[_0x2a609d(0x17a)][_0x2a609d(0x164)]),this['repository']['chat'][_0x2a609d(0x201)](this[_0x2a609d(0x17a)]['wuid']),this[_0x2a609d(0x5b2)][_0x2a609d(0x351)][_0x2a609d(0x27b)](this[_0x2a609d(0x17a)][_0x2a609d(0x164)]),this[_0x2a609d(0x5b2)][_0x2a609d(0x351)][_0x2a609d(0x5a3)](this['instance']['wuid']),this[_0x2a609d(0x5b2)]['chat'][_0x2a609d(0x1bc)](this[_0x2a609d(0x17a)]['wuid']),await this['repository'][_0x2a609d(0x351)][_0x2a609d(0x144)]({'where':{}},this[_0x2a609d(0x17a)][_0x2a609d(0x164)]);}async['importChatsAntigo'](_0x211dd5){const _0x33af99=a0_0x313677;try{if(!Array[_0x33af99(0x46e)](_0x211dd5)||_0x211dd5['length']===0x0)throw new Error(_0x33af99(0x4ea));let _0xb2b799=[],_0x316253=[];for(let _0x1e2d62 of _0x211dd5){if(_0x1e2d62[_0x33af99(0x510)])_0x1e2d62['_id']=this['createJid'](_0x1e2d62[_0x33af99(0x510)]);else continue;await this[_0x33af99(0x5b2)][_0x33af99(0x351)]['findOne']({'where':{'_id':_0x1e2d62[_0x33af99(0x510)]}},this[_0x33af99(0x17a)]['wuid'])?_0x316253[_0x33af99(0x64c)]({'_id':_0x1e2d62[_0x33af99(0x510)],'leadInfo':_0x1e2d62['leadInfo'],'owner':this['instance'][_0x33af99(0x164)]}):_0xb2b799['push']({'_id':_0x1e2d62[_0x33af99(0x510)],'owner':this[_0x33af99(0x17a)][_0x33af99(0x164)],'leadInfo':_0x1e2d62['leadInfo'],'imported':!0x0});}return _0x316253[_0x33af99(0x1c3)]>0x0&&await this[_0x33af99(0x5b2)][_0x33af99(0x351)]['updateMany'](_0x316253[_0x33af99(0x217)](_0x59a5bd=>({'query':{'where':{'_id':_0x59a5bd[_0x33af99(0x510)],'owner':this[_0x33af99(0x17a)][_0x33af99(0x164)]}},'update':_0x59a5bd}))),_0xb2b799[_0x33af99(0x1c3)]>0x0&&await this[_0x33af99(0x5b2)][_0x33af99(0x351)][_0x33af99(0x403)](_0xb2b799,this[_0x33af99(0x17a)]['wuid']),{'updated':_0x316253[_0x33af99(0x1c3)],'inserted':_0xb2b799['length']};}catch(_0xf582ad){throw console[_0x33af99(0x54e)](_0x33af99(0x44f),_0xf582ad),_0xf582ad;}}async[a0_0x313677(0x31b)](_0x561c2f){const _0x4f8500=a0_0x313677;try{if(!Array[_0x4f8500(0x46e)](_0x561c2f)||_0x561c2f[_0x4f8500(0x1c3)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x3741cf=0x64,_0x143c67=0x0;for(let _0x419268=0x0;_0x419268<_0x561c2f[_0x4f8500(0x1c3)];_0x419268+=_0x3741cf){let _0x390c40=_0x561c2f[_0x4f8500(0x6db)](_0x419268,_0x419268+_0x3741cf),{updated:_0x2638ee}=await this[_0x4f8500(0x60e)](_0x390c40);_0x143c67+=_0x2638ee;}return{'updated':_0x143c67};}catch(_0x52d566){throw console[_0x4f8500(0x54e)](_0x4f8500(0x44f),_0x52d566),_0x52d566;}}async[a0_0x313677(0x60e)](_0x14cfc9){const _0x207176=a0_0x313677;try{let _0x191152=await this[_0x207176(0x5b2)][_0x207176(0x77c)][_0x207176(0x144)]({'where':{}},this['instance']['wuid']),_0x3159d3=new Set(_0x191152[_0x207176(0x217)](_0x47ed81=>_0x47ed81[_0x207176(0x510)])),_0x229b37=[],_0x2b843d=[];for(let _0x47c4ed of _0x14cfc9){if(!_0x47c4ed['_id'])continue;_0x47c4ed[_0x207176(0x510)]=this[_0x207176(0x469)](_0x47c4ed['_id']);let _0x1e9b25=await this['repository'][_0x207176(0x351)][_0x207176(0x330)]({'where':{'_id':_0x47c4ed['_id']}},this['instance'][_0x207176(0x164)]),_0x21c6f9={};if(Object['entries'](_0x47c4ed[_0x207176(0x27d)])[_0x207176(0x6c9)](([_0x195c17,_0x592248])=>{const _0x53af2f=_0x207176;_0x21c6f9[_0x53af2f(0x5c3)+_0x195c17]=_0x592248;}),_0x1e9b25&&!_0x1e9b25[_0x207176(0x264)]){let _0x279717=(_0x47c4ed['leadInfo']['etiquetas']||[])[_0x207176(0x39d)](_0x3072c5=>_0x3159d3[_0x207176(0x36b)](_0x3072c5)),_0x46857c=new Set(_0x1e9b25[_0x207176(0x27d)][_0x207176(0x306)]||[]),_0x46c7a7=_0x279717[_0x207176(0x39d)](_0x5eab49=>!_0x46857c[_0x207176(0x36b)](_0x5eab49)),_0x4d3c15=[..._0x46857c][_0x207176(0x39d)](_0xbf8d03=>!_0x279717[_0x207176(0x2fe)](_0xbf8d03));_0x2b843d[_0x207176(0x64c)](..._0x46c7a7['map'](_0x2d1fe4=>this[_0x207176(0x662)](_0x2d1fe4,_0x47c4ed[_0x207176(0x510)]))),_0x2b843d[_0x207176(0x64c)](..._0x4d3c15[_0x207176(0x217)](_0x5d6835=>this[_0x207176(0x20a)](_0x5d6835,_0x47c4ed[_0x207176(0x510)]))),_0x47c4ed['leadInfo']['etiquetas']=_0x279717,_0x229b37[_0x207176(0x64c)]({'query':{'where':{'_id':_0x47c4ed[_0x207176(0x510)],'owner':this[_0x207176(0x17a)][_0x207176(0x164)]}},'update':_0x21c6f9});}else _0x21c6f9[_0x207176(0x264)]=!0x0,_0x229b37[_0x207176(0x64c)]({'query':{'where':{'_id':_0x47c4ed[_0x207176(0x510)],'owner':this['instance'][_0x207176(0x164)]}},'update':_0x21c6f9});}let _0x30eea3=await this['repository']['chat'][_0x207176(0x4aa)](_0x229b37);return await Promise['all'](_0x2b843d),{'updated':_0x30eea3};}catch(_0x23c530){throw console[_0x207176(0x54e)]('Erro\x20ao\x20importar\x20chats:',_0x23c530),_0x23c530;}}async['fetchPrivacySettings'](){const _0x530d13=a0_0x313677;return await this[_0x530d13(0x4b9)][_0x530d13(0x69d)]();}async['updatePrivacySettings'](_0x1d41e3){const _0x490548=a0_0x313677;try{return await this[_0x490548(0x4b9)]['updateReadReceiptsPrivacy'](_0x1d41e3['privacySettings'][_0x490548(0x734)]),await this[_0x490548(0x4b9)]['updateProfilePicturePrivacy'](_0x1d41e3[_0x490548(0x346)][_0x490548(0x132)]),await this['client'][_0x490548(0x764)](_0x1d41e3['privacySettings']['status']),await this['client'][_0x490548(0x607)](_0x1d41e3[_0x490548(0x346)][_0x490548(0x320)]),await this[_0x490548(0x4b9)]['updateLastSeenPrivacy'](_0x1d41e3[_0x490548(0x346)]['last']),await this[_0x490548(0x4b9)]['updateGroupsAddPrivacy'](_0x1d41e3[_0x490548(0x346)][_0x490548(0x508)]),this[_0x490548(0x4b9)]?.['ws']?.[_0x490548(0x21d)](),{'update':_0x490548(0x626),'data':{'readreceipts':_0x1d41e3[_0x490548(0x346)]['readreceipts'],'profile':_0x1d41e3['privacySettings'][_0x490548(0x132)],'status':_0x1d41e3['privacySettings'][_0x490548(0x57d)],'online':_0x1d41e3[_0x490548(0x346)][_0x490548(0x320)],'last':_0x1d41e3['privacySettings'][_0x490548(0x6ab)],'groupadd':_0x1d41e3['privacySettings'][_0x490548(0x508)]}};}catch(_0xb202e7){throw new O(_0x490548(0x79f),_0xb202e7[_0x490548(0x3eb)]());}}async[a0_0x313677(0x537)](_0x574a9a){const _0xa7bef3=a0_0x313677;let _0x46be3c=_0x574a9a?this[_0xa7bef3(0x469)](_0x574a9a):this[_0xa7bef3(0x4b9)]?.[_0xa7bef3(0x256)]?.['id'];this[_0xa7bef3(0x167)][_0xa7bef3(0x644)]('Getting\x20profile\x20with\x20jid:\x20'+_0x46be3c);try{if(this[_0xa7bef3(0x167)]['verbose'](_0xa7bef3(0x296)),_0x574a9a){let _0xf48dc8=(await this[_0xa7bef3(0x521)]({'numbers':[_0x46be3c]}))?.[_0xa7bef3(0x646)](),_0x11f8bc=await this[_0xa7bef3(0x424)](_0xf48dc8?.[_0xa7bef3(0x259)]),_0xb3e8ba=await this[_0xa7bef3(0x446)](_0xf48dc8?.['jid']),_0x24e2f9=await this[_0xa7bef3(0x4f1)](_0xf48dc8?.[_0xa7bef3(0x259)]);return{'wuid':_0xf48dc8?.[_0xa7bef3(0x259)]||_0x46be3c,'name':_0xf48dc8?.['name'],'numberExists':_0xf48dc8?.[_0xa7bef3(0x793)],'picture':_0x11f8bc?.['profilePictureUrl'],'status':_0xb3e8ba?.[_0xa7bef3(0x57d)],'isBusiness':_0x24e2f9[_0xa7bef3(0x45a)],'email':_0x24e2f9?.[_0xa7bef3(0x5fa)],'description':_0x24e2f9?.[_0xa7bef3(0x6c7)],'website':_0x24e2f9?.[_0xa7bef3(0x28e)]?.['shift']()};}}catch{return this[_0xa7bef3(0x167)]['verbose'](_0xa7bef3(0x66a)),{'wuid':_0x46be3c,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x313677(0x47d)](_0xf8b9a5){const _0x5a55eb=a0_0x313677;let _0x50315c=(_0xf8b9a5?this[_0x5a55eb(0x469)](_0xf8b9a5):this[_0x5a55eb(0x4b9)]?.['user']?.['id'])[_0x5a55eb(0x427)](/:\d{1,2}@/g,'@');this[_0x5a55eb(0x167)][_0x5a55eb(0x644)](_0x5a55eb(0x535)+_0x50315c);let _0x54614c=await this[_0x5a55eb(0x5b2)][_0x5a55eb(0x21e)][_0x5a55eb(0x330)]({'where':{'_id':_0x50315c}},this[_0x5a55eb(0x17a)][_0x5a55eb(0x164)]),_0x2af422=_0x54614c?_0x54614c[_0x5a55eb(0x2fd)]:null;try{let _0x1cffad=(await this[_0x5a55eb(0x521)]({'numbers':[_0x50315c]}))?.[_0x5a55eb(0x646)](),_0x1fe1e7=await this[_0x5a55eb(0x424)](_0x1cffad?.[_0x5a55eb(0x259)]),_0x2cf7c3=await this[_0x5a55eb(0x446)](_0x1cffad?.[_0x5a55eb(0x259)]),_0x1ef6c8=await this[_0x5a55eb(0x4f1)](_0x1cffad?.['jid']),_0xf39af9=await this['repository'][_0x5a55eb(0x351)]['findOne']({'where':{'_id':_0x50315c}},this['instance'][_0x5a55eb(0x164)]),_0x56684d={'imagechat':_0x1fe1e7?.['profilePictureUrl'],'contactname':_0x2af422||null,'status':_0x2cf7c3?.[_0x5a55eb(0x57d)],'isBusiness':_0x1ef6c8[_0x5a55eb(0x45a)],'email':_0x1ef6c8?.['email'],'description':_0x1ef6c8?.['description'],'website':_0x1ef6c8?.[_0x5a55eb(0x28e)]?.[_0x5a55eb(0x646)](),'lastcache':Date[_0x5a55eb(0x447)](),'imported':!_0xf39af9},_0x52b93b=await this[_0x5a55eb(0x5b2)]['chat'][_0x5a55eb(0x471)]({'where':{'_id':_0x50315c}},_0x56684d,this[_0x5a55eb(0x17a)]['wuid']),_0x2b9265={'owner':this[_0x5a55eb(0x17a)][_0x5a55eb(0x164)],'_id':_0x50315c,'profilePictureUrl':_0x1fe1e7?.[_0x5a55eb(0x1b9)],'status':_0x2cf7c3?.[_0x5a55eb(0x57d)]};return this[_0x5a55eb(0x5b2)]['contact'][_0x5a55eb(0x321)]([_0x2b9265],this[_0x5a55eb(0x17a)]['wuid']),_0x52b93b&&J(this[_0x5a55eb(0x523)],_0x5a55eb(0x1f4),{'chat':_0x52b93b}),{'wuid':_0x1cffad?.[_0x5a55eb(0x259)]||_0x50315c,'name':_0x1cffad?.['name'],'numberExists':_0x1cffad?.['exists'],'picture':_0x1fe1e7?.[_0x5a55eb(0x1b9)],'status':_0x2cf7c3?.[_0x5a55eb(0x57d)],'isBusiness':_0x1ef6c8[_0x5a55eb(0x45a)],'email':_0x1ef6c8?.[_0x5a55eb(0x5fa)],'description':_0x1ef6c8?.[_0x5a55eb(0x6c7)],'website':_0x1ef6c8?.[_0x5a55eb(0x28e)]?.[_0x5a55eb(0x646)]()};}catch(_0x2bfa7d){return this[_0x5a55eb(0x167)][_0x5a55eb(0x54e)](_0x5a55eb(0x315)+(_0x2bfa7d instanceof Error?_0x2bfa7d[_0x5a55eb(0x711)]:JSON[_0x5a55eb(0x2db)](_0x2bfa7d,null,0x2))),{};}}async['fetchBusinessProfile'](_0x116f39){const _0x40144d=a0_0x313677;this['logger'][_0x40144d(0x644)](_0x40144d(0x355));try{let _0x5c353b=_0x116f39?this['createJid'](_0x116f39):this['instance'][_0x40144d(0x164)],_0x197d2c=await this[_0x40144d(0x4b9)][_0x40144d(0x28a)](_0x5c353b);return this[_0x40144d(0x167)][_0x40144d(0x644)](_0x40144d(0x287)),_0x197d2c?(this[_0x40144d(0x167)]['verbose'](_0x40144d(0x72f)),{'isBusiness':!0x0,..._0x197d2c}):{'isBusiness':!0x1,'message':_0x40144d(0x31d),...(await this['whatsappNumber']({'numbers':[_0x5c353b]}))?.[_0x40144d(0x646)]()};}catch(_0x415c10){throw new O(_0x40144d(0x407),_0x415c10[_0x40144d(0x3eb)]());}}async[a0_0x313677(0x446)](_0x24e1f2){const _0x283171=a0_0x313677;let _0x34a97a=this[_0x283171(0x469)](_0x24e1f2);try{return{'wuid':_0x34a97a,'status':(await this[_0x283171(0x4b9)]['fetchStatus'](_0x34a97a))?.[_0x283171(0x57d)]};}catch{return{'wuid':_0x34a97a,'status':null};}}async[a0_0x313677(0x2f0)](_0xfca7d){const _0x1dfb17=a0_0x313677;try{return await this[_0x1dfb17(0x4b9)][_0x1dfb17(0x2f0)](_0xfca7d),{'update':_0x1dfb17(0x626)};}catch(_0x3fae0c){throw new O(_0x1dfb17(0x407),_0x3fae0c['toString']());}}async[a0_0x313677(0x60a)](_0x44baea){const _0x4e6e9=a0_0x313677;try{return await this[_0x4e6e9(0x4b9)]['updateProfileStatus'](_0x44baea),{'update':_0x4e6e9(0x626)};}catch(_0x32929b){throw new O('Error\x20updating\x20profile\x20status',_0x32929b['toString']());}}async['updateProfilePicture'](_0x17d659){const _0x27fed4=a0_0x313677;try{let _0x1f10e1;if((0x0,k[_0x27fed4(0x356)])(_0x17d659)){let _0x5323f6=new Date()[_0x27fed4(0x756)](),_0x23412f=_0x17d659+_0x27fed4(0x3df)+_0x5323f6;_0x1f10e1=(await se[_0x27fed4(0x175)][_0x27fed4(0x749)](_0x23412f,{'responseType':_0x27fed4(0x205)}))[_0x27fed4(0x42a)];}else{if((0x0,k[_0x27fed4(0x56f)])(_0x17d659))_0x1f10e1=Buffer[_0x27fed4(0x6a6)](_0x17d659,_0x27fed4(0x716));else throw new m(_0x27fed4(0x5a8));}return await this['client'][_0x27fed4(0x33d)](this['instance']['wuid'],_0x1f10e1),{'update':_0x27fed4(0x626)};}catch(_0x3281fa){throw new O(_0x27fed4(0x19e),_0x3281fa[_0x27fed4(0x3eb)]());}}async[a0_0x313677(0x373)](){const _0x361014=a0_0x313677;try{return await this[_0x361014(0x4b9)][_0x361014(0x373)](this[_0x361014(0x17a)][_0x361014(0x164)]),{'update':_0x361014(0x626)};}catch(_0x53856c){throw new O(_0x361014(0x4bf),_0x53856c[_0x361014(0x3eb)]());}}async[a0_0x313677(0x15b)](_0x26874c){const _0x5bc883=a0_0x313677;try{let _0x5562cf=_0x26874c[_0x5bc883(0x3c6)][_0x5bc883(0x217)](_0x4ae740=>this[_0x5bc883(0x469)](_0x4ae740)),{id:_0xd4ffd3}=await this[_0x5bc883(0x4b9)][_0x5bc883(0x401)](_0x26874c[_0x5bc883(0x3a0)],_0x5562cf);return _0x26874c?.['description']&&await this['client'][_0x5bc883(0x440)](_0xd4ffd3,_0x26874c[_0x5bc883(0x6c7)]),{'metadata':await this[_0x5bc883(0x4b9)]['groupMetadata'](_0xd4ffd3)};}catch(_0x22a367){throw this['logger'][_0x5bc883(0x54e)](this[_0x5bc883(0x523)]+'\x20('+this[_0x5bc883(0x17a)][_0x5bc883(0x164)]+_0x5bc883(0x4a7)+(_0x22a367 instanceof Error?_0x22a367[_0x5bc883(0x711)]:JSON[_0x5bc883(0x2db)](_0x22a367,null,0x2))),new O(_0x5bc883(0x3ec),_0x22a367[_0x5bc883(0x3eb)]());}}async['updateGroupPicture'](_0x4967a2){const _0x13cfbd=a0_0x313677;try{let _0x12c16b;if((0x0,k[_0x13cfbd(0x356)])(_0x4967a2[_0x13cfbd(0x49f)])){let _0x5c97a7=new Date()[_0x13cfbd(0x756)](),_0x7a0d91=_0x4967a2[_0x13cfbd(0x49f)]+_0x13cfbd(0x3df)+_0x5c97a7;_0x12c16b=(await se[_0x13cfbd(0x175)][_0x13cfbd(0x749)](_0x7a0d91,{'responseType':_0x13cfbd(0x205)}))['data'];}else{if((0x0,k[_0x13cfbd(0x56f)])(_0x4967a2['image']))_0x12c16b=Buffer['from'](_0x4967a2[_0x13cfbd(0x49f)],_0x13cfbd(0x716));else throw new m(_0x13cfbd(0x5a8));}return await this['client'][_0x13cfbd(0x33d)](_0x4967a2[_0x13cfbd(0x288)],_0x12c16b),{'update':_0x13cfbd(0x626)};}catch(_0x106e38){throw new O('Error\x20update\x20group\x20picture',_0x106e38[_0x13cfbd(0x3eb)]());}}async[a0_0x313677(0x653)](_0x44e910,_0x3e18ae='out'){const _0x273819=a0_0x313677;try{let _0x3757e7=await this['client'][_0x273819(0x2e0)](_0x44e910[_0x273819(0x288)]),_0x5a39aa=null;try{_0x5a39aa=(await this[_0x273819(0x424)](_0x44e910[_0x273819(0x288)]))[_0x273819(0x1b9)];}catch(_0x136945){this[_0x273819(0x167)][_0x273819(0x644)](this[_0x273819(0x523)]+'\x20('+this[_0x273819(0x17a)]['wuid']+_0x273819(0x5d9)+_0x44e910[_0x273819(0x288)]+':\x20'+(_0x136945 instanceof Error?_0x136945[_0x273819(0x711)]:JSON[_0x273819(0x2db)](_0x136945,null,0x2)));}let _0x308a48=await this[_0x273819(0x5b2)][_0x273819(0x351)][_0x273819(0x471)]({'where':{'_id':_0x44e910[_0x273819(0x288)]}},{'imagechat':_0x5a39aa,'name':_0x3757e7[_0x273819(0x3a0)],'group_size':_0x3757e7[_0x273819(0x161)],'group_announce':_0x3757e7[_0x273819(0x6bb)],'lastcache':Date[_0x273819(0x447)]()},this['instance']['wuid']);return _0x308a48&&J(this[_0x273819(0x523)],_0x273819(0x1f4),{'chat':_0x308a48}),{'metadata':_0x3757e7,'image':_0x5a39aa};}catch(_0x4ce81c){if(_0x3e18ae===_0x273819(0x3fe))return;throw new j(_0x273819(0x63e),_0x4ce81c[_0x273819(0x3eb)]());}}async['groupDesc'](_0x4ca62a){const _0xb0f7bd=a0_0x313677;try{return await this[_0xb0f7bd(0x4b9)][_0xb0f7bd(0x440)](_0x4ca62a[_0xb0f7bd(0x288)],_0x4ca62a['description']),{'update':_0xb0f7bd(0x626)};}catch(_0x2973f5){throw new O('Error\x20change\x20group\x20description',_0x2973f5[_0xb0f7bd(0x3eb)]());}}async['groupName'](_0x19aca5){const _0x4c3dea=a0_0x313677;try{return await this[_0x4c3dea(0x4b9)][_0x4c3dea(0x35d)](_0x19aca5[_0x4c3dea(0x288)],_0x19aca5[_0x4c3dea(0x4af)]),{'update':_0x4c3dea(0x626)};}catch(_0x46c776){throw new O(_0x4c3dea(0x297),_0x46c776['toString']());}}async['groupSetting'](_0x2ae0d0){const _0x5c9992=a0_0x313677;try{return await this[_0x5c9992(0x4b9)]['groupSettingUpdate'](_0x2ae0d0[_0x5c9992(0x288)],_0x2ae0d0[_0x5c9992(0x5c9)]),{'update':_0x5c9992(0x626)};}catch(_0x135560){throw new O(_0x5c9992(0x47e),_0x135560['toString']());}}async[a0_0x313677(0x481)](){const _0x17d7cc=a0_0x313677;try{let _0x9c64b9=[],_0x2c6bdb=await this[_0x17d7cc(0x4b9)]['groupFetchAllParticipating'](),_0x46c14d=Object['values'](_0x2c6bdb),_0x56000f=_0x46c14d[_0x17d7cc(0x39d)](_0x3199ad=>(0x0,y[_0x17d7cc(0x158)])(_0x3199ad?.['id']))[_0x17d7cc(0x217)](async _0xd26f10=>{const _0x5ccfe1=_0x17d7cc;try{return await this[_0x5ccfe1(0x4b9)][_0x5ccfe1(0x1b9)](_0xd26f10['id'],_0x5ccfe1(0x4d7));}catch(_0x3fe316){return this[_0x5ccfe1(0x167)]['verbose'](this['instanceName']+'\x20('+this[_0x5ccfe1(0x17a)][_0x5ccfe1(0x164)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0xd26f10['id']+':\x20'+(_0x3fe316 instanceof Error?_0x3fe316[_0x5ccfe1(0x711)]:JSON[_0x5ccfe1(0x2db)](_0x3fe316,null,0x2))),null;}}),_0x3c5de3=await Promise[_0x17d7cc(0x3b7)](_0x56000f);for(let _0x47d63d=0x0;_0x47d63d<_0x46c14d[_0x17d7cc(0x1c3)];_0x47d63d++){let _0x361611=_0x46c14d[_0x47d63d];(0x0,y['isJidGroup'])(_0x361611?.['id'])&&_0x9c64b9[_0x17d7cc(0x64c)]({'groupJid':_0x361611?.['id'],'subject':_0x361611?.[_0x17d7cc(0x3a0)],'subjectOwner':_0x361611?.[_0x17d7cc(0x649)]?.['split']('@')[0x0],'subjectTime':_0x361611?.[_0x17d7cc(0x55f)],'size':_0x361611?.['participants']?.[_0x17d7cc(0x1c3)],'owner':_0x361611?.[_0x17d7cc(0x266)]?.[_0x17d7cc(0x58d)]('@')[0x0],'creation':_0x361611?.['creation'],'desc':_0x361611?.[_0x17d7cc(0x67c)],'restrict':_0x361611?.[_0x17d7cc(0x465)],'announce':_0x361611?.[_0x17d7cc(0x6bb)],'image':_0x3c5de3[_0x47d63d]});}return _0x9c64b9;}catch(_0xe3e15c){throw new j('Error\x20fetching\x20group',_0xe3e15c[_0x17d7cc(0x3eb)]());}}async[a0_0x313677(0x652)](_0x453e0f){const _0x2532d7=a0_0x313677;try{let _0x41fb51=await this[_0x2532d7(0x4b9)]['groupInviteCode'](_0x453e0f[_0x2532d7(0x288)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x41fb51,'inviteCode':_0x41fb51};}catch(_0x2e3a43){throw new j(_0x2532d7(0x29a),_0x2e3a43[_0x2532d7(0x3eb)]());}}async[a0_0x313677(0x4c2)](_0x2edc4f){const _0x243e73=a0_0x313677;try{let _0x3e8dbd=await this['client'][_0x243e73(0x24e)](_0x2edc4f['groupJid']);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x3e8dbd,'inviteCode':_0x3e8dbd};}catch(_0x380f03){throw new j(_0x243e73(0x3a9),_0x380f03['toString']());}}async[a0_0x313677(0x59e)](_0x36b539){const _0x303585=a0_0x313677;try{if((0x0,k[_0x303585(0x356)])(_0x36b539['inviteCode']))var _0x49b9f7=_0x36b539[_0x303585(0x652)][_0x303585(0x58d)]('/')[0x3];else var _0x49b9f7=_0x36b539['inviteCode'];let _0x16dcf6=await this['client'][_0x303585(0x254)](_0x49b9f7);return this[_0x303585(0x167)][_0x303585(0x644)](this[_0x303585(0x523)]+'\x20('+this[_0x303585(0x17a)][_0x303585(0x164)]+_0x303585(0x4a7)+_0x16dcf6),{'join':!0x0,'inviteCode':_0x49b9f7,'groupJid':_0x16dcf6};}catch(_0x40af9c){throw new j(_0x303585(0x64f),_0x40af9c['toString']());}}async[a0_0x313677(0x5a0)](_0x4de94f){const _0x5b9516=a0_0x313677;try{return{'participants':(await this[_0x5b9516(0x4b9)][_0x5b9516(0x2e0)](_0x4de94f[_0x5b9516(0x288)]))['participants']};}catch(_0xb7a922){throw new j('No\x20participants',_0xb7a922[_0x5b9516(0x3eb)]());}}async[a0_0x313677(0x503)](_0x54a600){const _0x405c08=a0_0x313677;try{let _0x4a52d8=_0x54a600[_0x405c08(0x3c6)][_0x405c08(0x217)](_0x16045c=>this[_0x405c08(0x469)](_0x16045c));return{'updateParticipants':await this[_0x405c08(0x4b9)][_0x405c08(0x2a5)](_0x54a600[_0x405c08(0x288)],_0x4a52d8,_0x54a600[_0x405c08(0x277)])};}catch(_0x2faca9){throw new m(_0x405c08(0x617),_0x2faca9[_0x405c08(0x3eb)]());}}async[a0_0x313677(0x275)](_0x26e605){const _0x18b05c=a0_0x313677;try{let _0x25957c=await this['client'][_0x18b05c(0x560)](_0x26e605[_0x18b05c(0x288)],_0x26e605['expiration']);return{'success':!0x0};}catch(_0xe62924){throw new m(_0x18b05c(0x657),_0xe62924[_0x18b05c(0x3eb)]());}}async[a0_0x313677(0x589)](_0x1ca6b4){const _0x3eb488=a0_0x313677;try{return await this[_0x3eb488(0x4b9)]['groupLeave'](_0x1ca6b4['groupJid']),{'groupJid':_0x1ca6b4[_0x3eb488(0x288)],'leave':!0x0};}catch(_0x5322f7){throw new m(_0x3eb488(0x220),_0x5322f7[_0x3eb488(0x3eb)]());}}async[a0_0x313677(0x251)](_0x55b16c){const _0xa5aab=a0_0x313677;return await this['sendMessageWithTyping'](_0x55b16c[_0xa5aab(0x2d9)],{'poll':{'name':_0x55b16c[_0xa5aab(0x251)]?.[_0xa5aab(0x4af)],'selectableCount':_0x55b16c[_0xa5aab(0x251)]['selectableCount'],'values':_0x55b16c[_0xa5aab(0x251)]['values']}},_0x55b16c?.['options']);}async[a0_0x313677(0x1e9)](_0x19a5c7){const _0x30ed70=a0_0x313677;return await this[_0x30ed70(0x63a)](_0x19a5c7['number'],{'listMessage':{'title':_0x19a5c7[_0x30ed70(0x1e9)][_0x30ed70(0x4c4)],'description':_0x19a5c7[_0x30ed70(0x1e9)][_0x30ed70(0x6c7)],'buttonText':_0x19a5c7[_0x30ed70(0x1e9)]?.[_0x30ed70(0x339)],'footerText':_0x19a5c7[_0x30ed70(0x1e9)]?.[_0x30ed70(0x79c)],'sections':_0x19a5c7['listMessage'][_0x30ed70(0x779)],'listType':0x2}},_0x19a5c7?.[_0x30ed70(0x73b)]);}async['menuMessage'](_0x482abf){const _0x591c8d=a0_0x313677;let _0x383d5a;if(_0x482abf[_0x591c8d(0x323)][_0x591c8d(0x4f9)]===_0x591c8d(0x20e)){let _0x36c207=_0x482abf['menuMessage'][_0x591c8d(0x37a)][_0x591c8d(0x5e1)]('\x0a'),_0x3a159b='',_0x1d2b30='';_0x36c207!==-0x1?(_0x3a159b=_0x482abf[_0x591c8d(0x323)]['text'][_0x591c8d(0x6c5)](0x0,_0x36c207)[_0x591c8d(0x5b7)](),_0x1d2b30=_0x482abf[_0x591c8d(0x323)]['text'][_0x591c8d(0x6c5)](_0x36c207+0x1)):_0x1d2b30=_0x482abf[_0x591c8d(0x323)]['text'];let _0x3c6116=this[_0x591c8d(0x1a7)](_0x482abf['menuMessage']['choices']);_0x383d5a={'listMessage':{'title':_0x3a159b,'description':_0x1d2b30,'buttonText':_0x482abf[_0x591c8d(0x323)][_0x591c8d(0x339)]||_0x591c8d(0x13f),'footerText':_0x482abf[_0x591c8d(0x323)][_0x591c8d(0x79c)],'sections':_0x3c6116,'listType':0x2}};}else{if(_0x482abf[_0x591c8d(0x323)]['type']==='poll'){let _0x49ebdb=_0x482abf[_0x591c8d(0x323)]['choices'][_0x591c8d(0x39d)](_0x141b68=>!(_0x141b68[_0x591c8d(0x731)]('[')&&_0x141b68[_0x591c8d(0x199)](']')))[_0x591c8d(0x217)](_0x134487=>_0x134487[_0x591c8d(0x58d)]('\x0a')[0x0]);_0x383d5a={'poll':{'name':_0x482abf['menuMessage'][_0x591c8d(0x37a)],'selectableCount':_0x482abf['menuMessage'][_0x591c8d(0x753)]||0x1,'values':_0x49ebdb}};}}return await this[_0x591c8d(0x63a)](_0x482abf[_0x591c8d(0x2d9)],_0x383d5a,_0x482abf?.[_0x591c8d(0x73b)]);}[a0_0x313677(0x1a7)](_0x10182c){const _0x5a3257=a0_0x313677;let _0x34eb8c=[],_0x514700={'rows':[]};return _0x10182c[_0x5a3257(0x6c9)](_0x1da388=>{const _0x50d3b9=_0x5a3257;if(_0x1da388[_0x50d3b9(0x731)]('[')&&_0x1da388[_0x50d3b9(0x199)](']'))_0x514700[_0x50d3b9(0x683)][_0x50d3b9(0x1c3)]>0x0&&_0x34eb8c['push'](_0x514700),_0x514700={'title':_0x1da388[_0x50d3b9(0x6db)](0x1,-0x1),'rows':[]};else{let _0x4baf91=_0x1da388[_0x50d3b9(0x58d)]('\x0a')[_0x50d3b9(0x217)](_0x102630=>_0x102630['trim']()),_0x4dba20=_0x4baf91[0x0],_0x827624=_0x4baf91[0x1]||null,_0x32c3ed=_0x4baf91[0x2]||_0x4dba20;_0x514700['rows'][_0x50d3b9(0x64c)]({'title':_0x4dba20,'description':_0x827624,'rowId':_0x32c3ed});}}),_0x514700[_0x5a3257(0x683)][_0x5a3257(0x1c3)]>0x0&&_0x34eb8c[_0x5a3257(0x64c)](_0x514700),_0x34eb8c;}async[a0_0x313677(0x794)](_0x3e38fd,_0x1fe24b){const _0x3004c3=a0_0x313677;if(await this[_0x3004c3(0x410)](_0x3e38fd,!0x0)){let _0xcabc96={'where':{'_id':_0x3e38fd['id']}},_0x56408e={'status':[_0x1fe24b[_0x3004c3(0x57d)]][0x0]};try{let _0x372c54=await this['repository'][_0x3004c3(0x711)][_0x3004c3(0x321)](_0xcabc96,_0x56408e,this[_0x3004c3(0x17a)][_0x3004c3(0x164)]);_0x372c54&&J(this['instanceName'],_0x3004c3(0x745),{'message':_0x372c54});}catch{}}}[a0_0x313677(0x139)](_0x2d6eda){const _0x21a83d=a0_0x313677;let _0x1886dd=[];return _0x2d6eda[_0x21a83d(0x6c9)](_0x53229e=>{const _0x2dde72=_0x21a83d;_0x53229e[_0x2dde72(0x4c4)]&&_0x1886dd[_0x2dde72(0x64c)]('['+_0x53229e[_0x2dde72(0x4c4)]+']'),_0x53229e[_0x2dde72(0x683)]['forEach'](_0x120782=>{const _0x4cba09=_0x2dde72;_0x1886dd[_0x4cba09(0x64c)](_0x120782[_0x4cba09(0x4c4)]);});}),_0x1886dd[_0x21a83d(0x762)]('|');}['formatVCard'](_0x3eb674){const _0x1ac511=a0_0x313677;let _0x398d2e=_0x3eb674['replace'](/\\n/g,'\x0a')[_0x1ac511(0x58d)]('\x0a')['filter'](_0x2e3c2a=>_0x2e3c2a[_0x1ac511(0x2fe)]('TEL')||_0x2e3c2a[_0x1ac511(0x2fe)](_0x1ac511(0x1e8))),_0x1629e2='';return _0x398d2e['forEach'](_0x19ceb2=>{const _0x5ae8f9=_0x1ac511;let _0x2c581c=/TEL(?:.*):(.+)/,_0x384529=/EMAIL(?:.*):(.+)/,_0x3ee420=_0x19ceb2[_0x5ae8f9(0x242)](_0x2c581c),_0x5ae458=_0x19ceb2[_0x5ae8f9(0x242)](_0x384529);if(_0x3ee420){let _0x1e0813=_0x3ee420[0x1][_0x5ae8f9(0x427)](/-| |\+|\(|\)/g,'')[_0x5ae8f9(0x5b7)]();_0x1629e2+=_0x5ae8f9(0x691)+_0x1e0813+'\x0a';}else{if(_0x5ae458){let _0x5adb15=_0x5ae458[0x1][_0x5ae8f9(0x5b7)]();_0x1629e2+='E-mail:\x20'+_0x5adb15+'\x0a';}}}),_0x1629e2[_0x1ac511(0x5b7)]();}async[a0_0x313677(0x437)](_0x229996,_0x3fd332,_0x5f0cc6){const _0x3034c1=a0_0x313677;if(!_0x229996[_0x3034c1(0x3d7)])return;let _0x412449=_0x3fd332[_0x3034c1(0x5c0)]['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x273838=_0x3fd332['key'][_0x3034c1(0x154)],_0x351f81=_0x412449[_0x3034c1(0x199)]('@g.us'),_0x2db779=_0x3fd332['message_normalized']?.[_0x3034c1(0x37a)]||_0x3fd332[_0x3034c1(0x4c0)]?.[_0x3034c1(0x16f)]||_0x3fd332[_0x3034c1(0x4c0)]?.['vote']||_0x3fd332['message_normalized']?.[_0x3034c1(0x4af)],_0x28974a={'lastmsg':_0x3fd332['messageTimestamp']||Date[_0x3034c1(0x447)](),'unreadcount':_0x273838?0x0:0x1,..._0x273838||_0x351f81?{}:{'name':_0x3fd332[_0x3034c1(0x2fd)]},..._0x351f81?{'group':_0x351f81}:{}},_0x220f1e=await this[_0x3034c1(0x5b2)][_0x3034c1(0x351)][_0x3034c1(0x471)]({'where':{'_id':_0x412449}},_0x28974a,this[_0x3034c1(0x17a)][_0x3034c1(0x164)],{'new':!0x0,'upsert':!0x0});if(_0x220f1e[_0x3034c1(0x264)]){let _0x93df3=await this['repository'][_0x3034c1(0x77c)]['find']({'where':{}},this[_0x3034c1(0x17a)][_0x3034c1(0x164)]),_0x47a0cf=new Set(_0x93df3[_0x3034c1(0x217)](_0xb2d8b7=>_0xb2d8b7[_0x3034c1(0x510)])),_0x4daf57=(_0x220f1e['leadInfo']?.[_0x3034c1(0x306)]||[])[_0x3034c1(0x39d)](_0x41420e=>_0x47a0cf[_0x3034c1(0x36b)](_0x41420e)),_0x5e2cbe={'leadInfo.etiquetas':_0x4daf57,'imported':!0x1};_0x220f1e=await this[_0x3034c1(0x5b2)][_0x3034c1(0x351)][_0x3034c1(0x471)]({'where':{'_id':_0x412449}},_0x5e2cbe,this['instance'][_0x3034c1(0x164)]);for(let _0x5f4129 of _0x4daf57)await this[_0x3034c1(0x662)](_0x5f4129,_0x412449);}if(!_0x351f81&&(!_0x220f1e?.[_0x3034c1(0x27d)]||!_0x220f1e[_0x3034c1(0x27d)]['nome'])&&_0x3fd332[_0x3034c1(0x2fd)]&&!_0x273838&&(_0x220f1e=await this[_0x3034c1(0x5b2)]['chat'][_0x3034c1(0x471)]({'where':{'_id':_0x412449}},{'leadInfo.nome':_0x3fd332[_0x3034c1(0x2fd)]},this[_0x3034c1(0x17a)][_0x3034c1(0x164)],{'new':!0x0,'upsert':!0x0})),_0x5f0cc6===_0x3034c1(0x27f)&&_0x273838&&this[_0x3034c1(0x6d3)]?.[_0x3034c1(0x157)][_0x3034c1(0x33c)]&&!_0x2db779[_0x3034c1(0x731)](this['AutomateSystem']?.[_0x3034c1(0x157)][_0x3034c1(0x750)])){let _0x1468b4=(this['AutomateSystem']?.[_0x3034c1(0x157)][_0x3034c1(0x325)]||0x5)*0xea60,_0x58991d=Date[_0x3034c1(0x447)]()+_0x1468b4;_0x220f1e?.[_0x3034c1(0x27d)]?.[_0x3034c1(0x3bd)]===0x0||(await this[_0x3034c1(0x5b2)][_0x3034c1(0x351)][_0x3034c1(0x471)]({'where':{'_id':_0x412449}},{'leadInfo.desativadoFluxoAte':_0x58991d},this[_0x3034c1(0x17a)][_0x3034c1(0x164)],{'new':!0x0,'upsert':!0x1}),this['logger']['verbose'](this[_0x3034c1(0x523)]+'\x20('+this[_0x3034c1(0x17a)][_0x3034c1(0x164)]+_0x3034c1(0x479)+_0x58991d+'.'));}if(_0x220f1e)J(this[_0x3034c1(0x523)],'chats',{'chat':_0x220f1e});else{this['logger'][_0x3034c1(0x54e)](this[_0x3034c1(0x523)]+'\x20('+this[_0x3034c1(0x17a)]['wuid']+_0x3034c1(0x38b));return;}if(!this[_0x3034c1(0x6d3)]?.[_0x3034c1(0x157)][_0x3034c1(0x33c)])return this[_0x3034c1(0x167)]['verbose'](this[_0x3034c1(0x523)]+'\x20('+this[_0x3034c1(0x17a)]['wuid']+_0x3034c1(0x1dd)),null;if(_0x220f1e[_0x3034c1(0x510)][_0x3034c1(0x2fe)](_0x3034c1(0x638))&&this['AutomateSystem']?.[_0x3034c1(0x157)]['ignoreGroups']===!0x0)return this[_0x3034c1(0x167)][_0x3034c1(0x644)](this[_0x3034c1(0x523)]+'\x20('+this[_0x3034c1(0x17a)][_0x3034c1(0x164)]+_0x3034c1(0x2ee)),null;if(_0x220f1e[_0x3034c1(0x27d)]){if(_0x220f1e[_0x3034c1(0x27d)][_0x3034c1(0x3bd)]===0x0||_0x220f1e[_0x3034c1(0x27d)][_0x3034c1(0x3ff)])return this['logger'][_0x3034c1(0x644)](this[_0x3034c1(0x523)]+'\x20('+this[_0x3034c1(0x17a)][_0x3034c1(0x164)]+_0x3034c1(0x22c)+_0x412449+_0x3034c1(0x6d5)),null;if(_0x220f1e['leadInfo']['desativadoFluxoAte']>Date['now']()&&!_0x3fd332[_0x3034c1(0x4c0)]?.[_0x3034c1(0x3fc)])return this[_0x3034c1(0x167)][_0x3034c1(0x644)](this[_0x3034c1(0x523)]+'\x20('+this[_0x3034c1(0x17a)]['wuid']+_0x3034c1(0x6b2)+new Date(_0x220f1e[_0x3034c1(0x27d)][_0x3034c1(0x3bd)])[_0x3034c1(0x226)]()+_0x3034c1(0x6d5)),null;}this[_0x3034c1(0x167)][_0x3034c1(0x644)](this[_0x3034c1(0x523)]+'\x20('+this[_0x3034c1(0x17a)][_0x3034c1(0x164)]+_0x3034c1(0x389)),this[_0x3034c1(0x588)](_0x5f0cc6,_0x3fd332);}async[a0_0x313677(0x65b)](_0x11f5c9,_0x59c31f){const _0x13e06c=a0_0x313677;if(_0x59c31f[_0x13e06c(0x3d7)]){let _0x11e917=_0x11f5c9[_0x13e06c(0x217)](async _0x1bc083=>{const _0xcf1171=_0x13e06c;try{let _0x29cc9c={'_id':_0x1bc083['_id'],'owner':_0x1bc083['owner'],'lastcache':0x0};if(_0x1bc083[_0xcf1171(0x529)]!==null&&(_0x29cc9c[_0xcf1171(0x529)]=_0x1bc083[_0xcf1171(0x529)]),_0x1bc083[_0xcf1171(0x4af)]!==null&&(_0x29cc9c['name']=_0x1bc083[_0xcf1171(0x4af)]),_0x1bc083[_0xcf1171(0x14f)]!==null&&(_0x29cc9c[_0xcf1171(0x14f)]=_0x1bc083[_0xcf1171(0x14f)]),_0x1bc083[_0xcf1171(0x390)]!==null&&(_0x29cc9c[_0xcf1171(0x390)]=_0x1bc083[_0xcf1171(0x390)]),_0x1bc083[_0xcf1171(0x390)]===null&&(_0x29cc9c[_0xcf1171(0x390)]='Imagem\x20não\x20encontrada'),_0x1bc083[_0xcf1171(0x5e2)]!==null&&(_0x29cc9c['lastmsg']=_0x1bc083['lastmsg']),_0x1bc083['archived']!==null&&(_0x29cc9c[_0xcf1171(0x140)]=_0x1bc083[_0xcf1171(0x140)]),_0x1bc083['unreadcount']!==null&&(_0x29cc9c[_0xcf1171(0x782)]=_0x1bc083[_0xcf1171(0x782)]),Object['keys'](_0x29cc9c)[_0xcf1171(0x1c3)]>0x0)return await this[_0xcf1171(0x5b2)][_0xcf1171(0x351)]['updateOne']({'where':{'_id':_0x1bc083[_0xcf1171(0x510)]}},_0x29cc9c,this[_0xcf1171(0x17a)][_0xcf1171(0x164)]);}catch(_0xb591dc){return console[_0xcf1171(0x54e)](_0xcf1171(0x4f2)+_0x1bc083['_id']+':',_0xb591dc),null;}}),_0xb3849d=(await Promise[_0x13e06c(0x3b7)](_0x11e917))[_0x13e06c(0x39d)](_0x54f3b5=>_0x54f3b5!==null)[_0x13e06c(0x1c3)];this[_0x13e06c(0x167)][_0x13e06c(0x644)](this[_0x13e06c(0x523)]+'\x20('+this[_0x13e06c(0x17a)]['wuid']+_0x13e06c(0x4a7)+_0xb3849d+'\x20chats\x20de\x20'+this['instance'][_0x13e06c(0x164)]+_0x13e06c(0x2d5));}}async[a0_0x313677(0x457)](_0x1f41b4){const _0x2f25b1=a0_0x313677;this[_0x2f25b1(0x167)][_0x2f25b1(0x644)](this[_0x2f25b1(0x523)]+'\x20('+this[_0x2f25b1(0x17a)]['wuid']+_0x2f25b1(0x71a));let _0x5ba0a5={'readMessages':[{'remoteJid':_0x1f41b4[_0x2f25b1(0x26f)][_0x2f25b1(0x52e)][_0x2f25b1(0x5c0)]['remoteJid'],'fromMe':_0x1f41b4[_0x2f25b1(0x26f)][_0x2f25b1(0x52e)][_0x2f25b1(0x5c0)]['fromMe'],'id':_0x1f41b4[_0x2f25b1(0x26f)]['lastReceivedMessage'][_0x2f25b1(0x5c0)]['id']}]};await this[_0x2f25b1(0x2eb)](_0x5ba0a5);}async['StartBot'](_0x12993a,_0x13a791){const _0x47540e=a0_0x313677;try{let {key:_0x3029cc,message_normalized:_0x56afc6}=_0x13a791,_0x15bb04=_0x56afc6,_0x5210ea=_0x56afc6['text']||_0x56afc6[_0x47540e(0x16f)]||_0x56afc6[_0x47540e(0x3fc)]||_0x56afc6[_0x47540e(0x4af)],_0x73c8bf=_0x3029cc[_0x47540e(0x594)],_0x3acf1d;if(_0x15bb04[_0x47540e(0x5c0)]['fromMe']&&_0x5210ea[_0x47540e(0x5b7)]()!==this['AutomateSystem']?.[_0x47540e(0x157)][_0x47540e(0x1aa)][_0x47540e(0x5b7)]())return this['logger'][_0x47540e(0x644)](this['instanceName']+'\x20('+this[_0x47540e(0x17a)]['wuid']+_0x47540e(0x2bf)),null;if(_0x15bb04[_0x47540e(0x5c0)][_0x47540e(0x154)]&&_0x5210ea[_0x47540e(0x5b7)]()===this[_0x47540e(0x6d3)]?.[_0x47540e(0x157)][_0x47540e(0x1aa)]['trim']()){this[_0x47540e(0x167)]['verbose'](this[_0x47540e(0x523)]+'\x20('+this[_0x47540e(0x17a)]['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x149645=await this[_0x47540e(0x5b2)]['flowConversation'][_0x47540e(0x144)]({'remoteJid':_0x73c8bf,'status':_0x47540e(0x43a)},this[_0x47540e(0x17a)][_0x47540e(0x164)]);this[_0x47540e(0x167)][_0x47540e(0x644)](this['instanceName']+'\x20('+this[_0x47540e(0x17a)]['wuid']+_0x47540e(0x67b)+_0x149645);let _0x2d890f=Date[_0x47540e(0x447)](),_0x58ee05;return this['AutomateSystem']?.[_0x47540e(0x157)][_0x47540e(0x2c1)]===0x0?_0x58ee05={'stoppedUntil':_0x2d890f+0x7591f6200}:_0x58ee05={'stoppedUntil':_0x2d890f+this[_0x47540e(0x6d3)]?.[_0x47540e(0x157)][_0x47540e(0x2c1)]*0x3c*0x3e8},this[_0x47540e(0x167)][_0x47540e(0x644)](this[_0x47540e(0x523)]+'\x20('+this[_0x47540e(0x17a)][_0x47540e(0x164)]+_0x47540e(0x62a)+_0x58ee05),this[_0x47540e(0x3ee)](_0x3acf1d,_0x58ee05[_0x47540e(0x404)]),null;}if(_0x5210ea&&_0x5210ea['startsWith'](this[_0x47540e(0x6d3)]?.['flowConfig'][_0x47540e(0x750)])&&_0x5210ea['length']>0x4){let _0x4f0e4d=await this[_0x47540e(0x5b2)]['flow'][_0x47540e(0x330)]({'where':{'startCommandWord':_0x5210ea}},this['instance'][_0x47540e(0x164)]);if(this[_0x47540e(0x167)]['verbose'](this[_0x47540e(0x523)]+'\x20('+this[_0x47540e(0x17a)]['wuid']+_0x47540e(0x418)),_0x4f0e4d)_0x3acf1d=await this['createNewConversation'](_0x4f0e4d,_0x15bb04[_0x47540e(0x5c0)],_0x15bb04);else return this[_0x47540e(0x167)]['verbose'](this[_0x47540e(0x523)]+'\x20('+this['instance'][_0x47540e(0x164)]+_0x47540e(0x73c)),null;}else _0x3acf1d=await this['findConversation'](_0x73c8bf,_0x15bb04);if(_0x3acf1d){this[_0x47540e(0x167)][_0x47540e(0x644)](this[_0x47540e(0x523)]+'\x20('+this[_0x47540e(0x17a)][_0x47540e(0x164)]+_0x47540e(0x40c)),!_0x3029cc['fromMe']&&_0x3acf1d['readMessages']&&this[_0x47540e(0x457)](_0x3acf1d);let _0x474afd=await this[_0x47540e(0x43d)](_0x3acf1d);_0x474afd&&await this[_0x47540e(0x1ad)](_0x3acf1d,_0x474afd);}}catch(_0x241cd3){this['logger'][_0x47540e(0x54e)](this[_0x47540e(0x523)]+'\x20('+this[_0x47540e(0x17a)][_0x47540e(0x164)]+_0x47540e(0x636)+(_0x241cd3 instanceof Error?_0x241cd3[_0x47540e(0x711)]:JSON[_0x47540e(0x2db)](_0x241cd3,null,0x2)));}}[a0_0x313677(0x611)](_0x48c6e9,_0x3889ba='',_0x23d75a={},_0x4d11c5=!0x0){const _0x494551=a0_0x313677;for(let _0x1fc80b in _0x48c6e9){let _0x384af0=_0x4d11c5?'_'+_0x1fc80b:''+_0x3889ba+_0x1fc80b;typeof _0x48c6e9[_0x1fc80b]==_0x494551(0x492)&&_0x48c6e9[_0x1fc80b]!==null?this[_0x494551(0x611)](_0x48c6e9[_0x1fc80b],_0x384af0+'.',_0x23d75a,!0x1):_0x23d75a[_0x384af0]=String(_0x48c6e9[_0x1fc80b]);}return _0x23d75a;}[a0_0x313677(0x5b0)](_0xcc730f){const _0x1ac89a=a0_0x313677;let _0x5b940b={};for(let _0x3707ef of _0xcc730f)typeof _0x3707ef['name']=='string'&&typeof _0x3707ef['value']==_0x1ac89a(0x706)&&(_0x5b940b[_0x3707ef[_0x1ac89a(0x4af)]]=_0x3707ef[_0x1ac89a(0x441)]);return _0x5b940b;}async[a0_0x313677(0x43d)](_0x5656d0){const _0x42f727=a0_0x313677;if(!this[_0x42f727(0x6d3)]?.[_0x42f727(0x157)][_0x42f727(0x33c)]||_0x5656d0[_0x42f727(0x57d)]!==_0x42f727(0x43a)&&_0x5656d0[_0x42f727(0x28b)]==='')return null;let _0x36177a=_0x5656d0[_0x42f727(0x26f)][_0x42f727(0x634)]||_0x42f727(0x6dc);typeof _0x5656d0[_0x42f727(0x26f)][_0x42f727(0x421)]>'u'&&(_0x5656d0['chatLog'][_0x42f727(0x421)]=!0x0);let _0xf2935f=_0x5656d0[_0x42f727(0x26f)][_0x42f727(0x421)];this['logger'][_0x42f727(0x644)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x42f727(0x5cd)+_0x36177a+',\x20lastCondition:\x20'+_0xf2935f);let _0x4cdf4a=_0x36177a==='start'?_0x5656d0[_0x42f727(0x1e0)][_0x42f727(0x144)](_0x10ddb4=>_0x10ddb4[_0x42f727(0x4f9)]==='start'):_0x5656d0[_0x42f727(0x1e0)][_0x42f727(0x144)](_0x45cbda=>_0x45cbda[_0x42f727(0x510)][_0x42f727(0x3eb)]()===_0x36177a['toString']());if(!_0x4cdf4a)return this[_0x42f727(0x167)][_0x42f727(0x54e)](this[_0x42f727(0x523)]+'\x20('+this[_0x42f727(0x17a)][_0x42f727(0x164)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x36177a),null;let _0x27eeaf={'_pushName':_0x5656d0[_0x42f727(0x26f)][_0x42f727(0x52e)][_0x42f727(0x2fd)],..._0x5656d0[_0x42f727(0x26f)][_0x42f727(0x75b)]},_0x2f03b8=null;if(_0x5656d0[_0x42f727(0x28b)]){let _0x57b996=_0x5656d0['chatLog']['lastReceivedMessage'][_0x42f727(0x3fc)],_0x5b6419=_0x5656d0['waitingMenu_replyOptions'][_0x42f727(0x144)](_0x26dd2b=>_0x26dd2b[_0x42f727(0x17b)]===_0x57b996);if(_0x5b6419){let _0x22a652=_0x5b6419['next_groupId'];if(_0x2f03b8=_0x5656d0['blocks'][_0x42f727(0x144)](_0x503619=>_0x503619[_0x42f727(0x5e0)]===_0x22a652&&_0x503619[_0x42f727(0x459)]===0x1),_0x4cdf4a[_0x42f727(0x185)][_0x42f727(0x3c4)]){let _0xf3455e={'id':_0x5656d0['waitingMenu_id'],'remoteJid':_0x5656d0[_0x42f727(0x594)],'fromMe':!0x0};await this['deleteMessage'](_0xf3455e);}if(_0x4cdf4a[_0x42f727(0x185)]['pollOnReplyDelete']&&_0x4cdf4a[_0x42f727(0x185)][_0x42f727(0x57a)]&&_0x4cdf4a[_0x42f727(0x185)]['menuType']===_0x42f727(0x4f8)){let _0x2d0d3d={'number':_0x5656d0[_0x42f727(0x594)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x5656d0['waitingMenu_text']+_0x42f727(0x3ad)+_0x57b996}};await this[_0x42f727(0x305)](_0x2d0d3d);}_0x5656d0[_0x42f727(0x57d)]=_0x42f727(0x43a),_0x5656d0[_0x42f727(0x28b)]='',_0x5656d0[_0x42f727(0x222)]='',_0x5656d0[_0x42f727(0x4fe)]=[];}else{this['logger']['verbose'](this[_0x42f727(0x523)]+'\x20('+this[_0x42f727(0x17a)][_0x42f727(0x164)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x5187c0={'activatedCount':_0x5656d0[_0x42f727(0x26f)][_0x42f727(0x258)][_0x42f727(0x39d)](_0x514982=>String(_0x514982[_0x42f727(0x279)])===String(_0x36177a))['length'],'moreLogs':[_0x42f727(0x338)]};if(_0x4cdf4a['uazapi']['pollErrorMessage']){let _0x226a53={'number':_0x5656d0['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4cdf4a[_0x42f727(0x185)][_0x42f727(0x73e)]}};await this[_0x42f727(0x305)](_0x226a53);}if(_0x4cdf4a[_0x42f727(0x700)]!==void 0x0&&_0x5187c0[_0x42f727(0x6ea)]>=_0x4cdf4a[_0x42f727(0x700)]){let _0x2c9e6e=Date['now'](),_0x3bcfc3=_0x4cdf4a[_0x42f727(0x53f)]??0xa;isNaN(_0x3bcfc3)&&(_0x3bcfc3=0xa);let _0x274294=_0x2c9e6e+_0x3bcfc3*0x3c*0x3e8;_0x5187c0[_0x42f727(0x143)]=_0x274294,_0x5187c0[_0x42f727(0x5d2)][_0x42f727(0x64c)](_0x42f727(0x6f4)),this[_0x42f727(0x3ee)](_0x5656d0,_0x274294),_0x5656d0[_0x42f727(0x28b)]='',_0x5656d0[_0x42f727(0x222)]='',_0x5656d0['waitingMenu_replyOptions']=[];}return this[_0x42f727(0x68c)](_0x5656d0,_0x4cdf4a,_0x5187c0,!0x0),null;}}if(_0xf2935f&&_0x4cdf4a[_0x42f727(0x668)]&&!_0x5656d0[_0x42f727(0x28b)]){let _0x176aa9=_0x5656d0[_0x42f727(0x1e0)][_0x42f727(0x39d)](_0x228da7=>_0x228da7[_0x42f727(0x5e0)][_0x42f727(0x3eb)]()===_0x4cdf4a['next_groupId']['toString']())['sort']((_0x475173,_0x578274)=>_0x475173['order']-_0x578274[_0x42f727(0x459)]);_0x176aa9[_0x42f727(0x1c3)]>0x0&&(_0x2f03b8=_0x176aa9[0x0]);}if(!_0x2f03b8){let _0x4251fa=_0x4cdf4a['groupId'],_0x49c264=_0x5656d0[_0x42f727(0x1e0)][_0x42f727(0x39d)](_0x56f278=>_0x56f278[_0x42f727(0x5e0)]===_0x4251fa&&_0x56f278[_0x42f727(0x459)]>_0x4cdf4a[_0x42f727(0x459)])[_0x42f727(0x312)]((_0x26b222,_0x537041)=>_0x26b222['order']-_0x537041[_0x42f727(0x459)]);_0x49c264[_0x42f727(0x1c3)]>0x0&&(_0x2f03b8=_0x49c264[0x0]);}if(!_0x2f03b8)return _0x5656d0['status']='closed',null;_0x5656d0[_0x42f727(0x26f)][_0x42f727(0x75b)]=_0x27eeaf;let _0x4525e1=JSON['parse'](JSON['stringify'](_0x2f03b8));return this['replaceVariablesInObject'](_0x4525e1,_0x5656d0[_0x42f727(0x26f)][_0x42f727(0x75b)]),_0x5656d0[_0x42f727(0x26f)]['lastBlockId']=_0x4525e1[_0x42f727(0x510)],_0x5656d0['chatLog'][_0x42f727(0x421)]=!0x0,_0x4525e1;}[a0_0x313677(0x68e)](_0x413a7d,_0x4e62e1){const _0x4daf37=a0_0x313677;return _0x413a7d[_0x4daf37(0x427)](/\{\{([^}]+)\}\}/g,(_0x5019a5,_0x1cbc75)=>_0x4e62e1[_0x1cbc75]||'');}[a0_0x313677(0x4d8)](_0x152246,_0x252b27){const _0x5b9bf7=a0_0x313677;for(let _0x8b1b77 in _0x152246)typeof _0x152246[_0x8b1b77]==_0x5b9bf7(0x706)?_0x152246[_0x8b1b77]=this[_0x5b9bf7(0x68e)](_0x152246[_0x8b1b77],_0x252b27):typeof _0x152246[_0x8b1b77]==_0x5b9bf7(0x492)&&this[_0x5b9bf7(0x4d8)](_0x152246[_0x8b1b77],_0x252b27);}async['goNextblock'](_0x45df7e,_0x21ab8e){const _0x1e7fba=a0_0x313677;let _0x2926b0=_0x21ab8e[_0x1e7fba(0x510)];if(_0x45df7e[_0x1e7fba(0x26f)]&&_0x45df7e[_0x1e7fba(0x26f)][_0x1e7fba(0x258)]){let _0x1007f9=_0x45df7e['chatLog'][_0x1e7fba(0x258)][_0x1e7fba(0x39d)](_0x5af236=>String(_0x5af236['blockId'])===String(_0x2926b0))[_0x1e7fba(0x229)]();if(_0x1007f9&&_0x1007f9['error']&&_0x21ab8e[_0x1e7fba(0x688)])return _0x45df7e[_0x1e7fba(0x57d)]=_0x1e7fba(0x5aa),await this[_0x1e7fba(0x722)](_0x45df7e),null;}if(_0x21ab8e[_0x1e7fba(0x4f9)]===_0x1e7fba(0x185)&&_0x21ab8e[_0x1e7fba(0x185)][_0x1e7fba(0x65f)]==='sendPoll'&&_0x45df7e['waitingMenu_id'])return _0x45df7e[_0x1e7fba(0x26f)]['lastBlockId']=_0x2926b0,await this[_0x1e7fba(0x722)](_0x45df7e),null;let _0x313dd5=await this[_0x1e7fba(0x43d)](_0x45df7e);if(_0x45df7e[_0x1e7fba(0x26f)]&&_0x45df7e['chatLog'][_0x1e7fba(0x258)]){let _0x2abb31=_0x45df7e['chatLog'][_0x1e7fba(0x258)][_0x1e7fba(0x39d)](_0x22c6e1=>String(_0x22c6e1['blockId'])===String(_0x2926b0))['length'];if(_0x21ab8e[_0x1e7fba(0x700)]!==void 0x0&&_0x2abb31>=_0x21ab8e[_0x1e7fba(0x700)]){let _0x6f0939=Date['now'](),_0x3c3f81=_0x21ab8e['stopMinutesMaxActives']??0xa;isNaN(_0x3c3f81)&&(_0x3c3f81=0xa);let _0x40736b=_0x6f0939+_0x3c3f81*0x3c*0x3e8,_0x35537d={'newStoppedUntil':_0x40736b};return this['updateStopChat'](_0x45df7e,_0x40736b),this[_0x1e7fba(0x68c)](_0x45df7e,_0x21ab8e,_0x35537d,!0x0),null;}}_0x313dd5&&_0x313dd5[_0x1e7fba(0x4f9)]!==_0x1e7fba(0x621)&&await this['processblock'](_0x45df7e,_0x313dd5),_0x313dd5||await this[_0x1e7fba(0x722)](_0x45df7e),_0x313dd5&&_0x313dd5[_0x1e7fba(0x4f9)]===_0x1e7fba(0x621)&&(_0x45df7e[_0x1e7fba(0x26f)][_0x1e7fba(0x634)]=_0x2926b0,await this[_0x1e7fba(0x722)](_0x45df7e));}async['processblock'](_0x4ae350,_0x2b8a9b){const _0x523a24=a0_0x313677;try{let _0x39c6dc=_0x2b8a9b[_0x523a24(0x4f9)];this[_0x523a24(0x167)][_0x523a24(0x644)](this['instanceName']+'\x20('+this[_0x523a24(0x17a)][_0x523a24(0x164)]+_0x523a24(0x6b1)+_0x39c6dc);let _0x548647={'uazapi':()=>this['processUazapi'](_0x4ae350,_0x2b8a9b),'save':()=>this[_0x523a24(0x3d9)](_0x4ae350,_0x2b8a9b),'stop':()=>this['stopConversation'](_0x4ae350,_0x2b8a9b),'condition':()=>this[_0x523a24(0x20c)](_0x4ae350,_0x2b8a9b),'varedit':()=>this[_0x523a24(0x192)](_0x4ae350,_0x2b8a9b),'apirequest':()=>this[_0x523a24(0x4ed)](_0x4ae350,_0x2b8a9b),'goToFlow':()=>this[_0x523a24(0x1f0)](_0x4ae350,_0x2b8a9b)}[_0x39c6dc];_0x548647&&await _0x548647();}catch(_0x43beea){this[_0x523a24(0x167)][_0x523a24(0x54e)](this[_0x523a24(0x523)]+'\x20('+this[_0x523a24(0x17a)][_0x523a24(0x164)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x43beea instanceof Error?_0x43beea[_0x523a24(0x711)]:JSON['stringify'](_0x43beea,null,0x2)));}}async['processgoToFlow'](_0xbdd580,_0x454c77){const _0x39f035=a0_0x313677;if(this[_0x39f035(0x167)][_0x39f035(0x644)](this[_0x39f035(0x523)]+'\x20('+this['instance'][_0x39f035(0x164)]+_0x39f035(0x14e)),!_0xbdd580||!_0x454c77)return this[_0x39f035(0x167)][_0x39f035(0x54e)](this['instanceName']+'\x20('+this['instance'][_0x39f035(0x164)]+_0x39f035(0x3c0)),null;await this[_0x39f035(0x68c)](_0xbdd580,_0x454c77,{},!0x0,!0x0),console[_0x39f035(0x17d)]('nextBlock:'),console[_0x39f035(0x17d)](_0x454c77);let _0x985808=_0x454c77['goToFlow'];console['log']('flowname:\x20',_0x985808),_0xbdd580=await this[_0x39f035(0x3cb)](_0x985808,_0xbdd580[_0x39f035(0x594)],_0xbdd580[_0x39f035(0x26f)]['realVariables']),this['logger']['verbose'](this[_0x39f035(0x523)]+'\x20('+this[_0x39f035(0x17a)][_0x39f035(0x164)]+_0x39f035(0x767));let _0x29ba5f=await this[_0x39f035(0x43d)](_0xbdd580);_0x29ba5f&&await this[_0x39f035(0x1ad)](_0xbdd580,_0x29ba5f);}async[a0_0x313677(0x3cb)](_0x4cf079,_0x39bd95,_0x245c5b){const _0x4c2ba2=a0_0x313677;this[_0x4c2ba2(0x167)][_0x4c2ba2(0x644)](this[_0x4c2ba2(0x523)]+'\x20('+this['instance']['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0x4cf079=await this[_0x4c2ba2(0x5b2)][_0x4c2ba2(0x2bb)][_0x4c2ba2(0x330)]({'where':{'name':_0x4cf079}},this['instance'][_0x4c2ba2(0x164)]),!_0x4cf079)return this[_0x4c2ba2(0x167)][_0x4c2ba2(0x54e)](this['instanceName']+'\x20('+this[_0x4c2ba2(0x17a)][_0x4c2ba2(0x164)]+_0x4c2ba2(0x586)),null;let _0x58e90a=require('mongodb')[_0x4c2ba2(0x3a6)],_0x261141=Date[_0x4c2ba2(0x447)](),_0x468432='start',_0x53594e={},_0xf109b0={},_0x366d12={..._0x4cf079,'chatLog':null},_0x3ea61a={'lastReceivedMessage':_0x53594e,'lastSendMessage':_0xf109b0,'lastBlockId':_0x468432,'lastCondition':!0x0,'realVariables':_0x245c5b};_0x366d12[_0x4c2ba2(0x26f)]=_0x3ea61a,_0x366d12[_0x4c2ba2(0x26f)][_0x4c2ba2(0x75b)]={..._0x245c5b},delete _0x366d12[_0x4c2ba2(0x510)],_0x366d12[_0x4c2ba2(0x510)]=new _0x58e90a(),_0x366d12[_0x4c2ba2(0x3b0)]=_0x261141,_0x366d12[_0x4c2ba2(0x57d)]='open',_0x366d12['remoteJid']=_0x39bd95;let _0x949c42=await this[_0x4c2ba2(0x5b2)][_0x4c2ba2(0x629)]['updateOne'](_0x366d12[_0x4c2ba2(0x510)],_0x366d12,this[_0x4c2ba2(0x17a)]['wuid']);return this['logger'][_0x4c2ba2(0x644)](this[_0x4c2ba2(0x523)]+'\x20('+this[_0x4c2ba2(0x17a)][_0x4c2ba2(0x164)]+_0x4c2ba2(0x61d)),_0x949c42?_0x366d12:null;}catch(_0x2883ea){throw this[_0x4c2ba2(0x167)][_0x4c2ba2(0x54e)](this['instanceName']+'\x20('+this[_0x4c2ba2(0x17a)]['wuid']+_0x4c2ba2(0x1fa)+(_0x2883ea instanceof Error?_0x2883ea[_0x4c2ba2(0x711)]:JSON['stringify'](_0x2883ea,null,0x2))),new m(_0x2883ea['message']);}}async['processApiRequest'](_0x28b444,_0x3f7a83){const _0xa35af0=a0_0x313677;let _0xb00244,_0x2dc59d;try{let _0xf7dfda=_0x3f7a83[_0xa35af0(0x367)];if(!_0xf7dfda||!_0xf7dfda[_0xa35af0(0x310)]||!_0xf7dfda[_0xa35af0(0x72e)])throw new Error(_0xa35af0(0x194));let _0x2a7caa;([_0xa35af0(0x262),'https://api.openai.com/v1/images/generations','https://api.elevenlabs.io/v1/text-to-speech/']['some'](_0x1762c4=>_0xf7dfda[_0xa35af0(0x310)]['includes'](_0x1762c4))||_0xf7dfda[_0xa35af0(0x500)])&&(_0x2a7caa=_0xa35af0(0x205));let _0x1b420a={'method':_0xf7dfda[_0xa35af0(0x72e)],'url':_0xf7dfda[_0xa35af0(0x310)],'headers':_0xf7dfda[_0xa35af0(0x14d)]||{},'data':_0xf7dfda[_0xa35af0(0x6d1)]||{},..._0x2a7caa&&{'responseType':_0x2a7caa}},_0x2b5bde=await(0x0,se[_0xa35af0(0x175)])(_0x1b420a),_0x53102c=_0x2b5bde[_0xa35af0(0x1a9)][_0xa35af0(0x3c1)];if(_0x53102c&&_0x53102c[_0xa35af0(0x2fe)]('application/json')){_0xb00244=_0x2b5bde[_0xa35af0(0x42a)];let _0x1940a=_0x28b444[_0xa35af0(0x26f)][_0xa35af0(0x75b)],_0x3a4139=this[_0xa35af0(0x611)](_0xb00244);return Object[_0xa35af0(0x432)](_0x1940a,_0x3a4139),_0x28b444[_0xa35af0(0x26f)][_0xa35af0(0x75b)]=_0x1940a,_0x2dc59d={'error':!0x1,'apiResponse':_0xb00244},this[_0xa35af0(0x68c)](_0x28b444,_0x3f7a83,_0x2dc59d),_0xb00244;}if(_0x53102c&&(_0x53102c[_0xa35af0(0x2fe)](_0xa35af0(0x48f))||_0x53102c['includes'](_0xa35af0(0x49f))||_0x53102c[_0xa35af0(0x2fe)](_0xa35af0(0x741))||_0x53102c[_0xa35af0(0x2fe)]('video'))){this[_0xa35af0(0x167)][_0xa35af0(0x644)](this[_0xa35af0(0x523)]+'\x20('+this[_0xa35af0(0x17a)][_0xa35af0(0x164)]+_0xa35af0(0x3d2)+_0x53102c);let _0xa4a44a=(0x0,Me['v4'])(),_0x5359f6='',_0x5d0a8a={'image/jpeg':_0xa35af0(0x1c9),'image/png':_0xa35af0(0x697),'image/gif':_0xa35af0(0x203),'image/webp':_0xa35af0(0x233),'image/svg+xml':_0xa35af0(0x79d),'audio/mpeg':_0xa35af0(0x45f),'audio/ogg':_0xa35af0(0x2dd),'audio/wav':_0xa35af0(0x30b),'video/mp4':_0xa35af0(0x511),'video/webm':'.webm','video/ogg':_0xa35af0(0x704),'text/plain':'.txt','application/pdf':_0xa35af0(0x477),'application/msword':_0xa35af0(0x672),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0xa35af0(0x46b),'application/vnd.ms-excel':_0xa35af0(0x353),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0xa35af0(0x663),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0xa35af0(0x300)};_0x5d0a8a[_0x53102c]?(_0x5359f6=_0x5d0a8a[_0x53102c],this[_0xa35af0(0x167)][_0xa35af0(0x644)](this[_0xa35af0(0x523)]+'\x20('+this[_0xa35af0(0x17a)][_0xa35af0(0x164)]+_0xa35af0(0x2b2)+_0x5359f6)):(_0x5359f6=_0xa35af0(0x399),this[_0xa35af0(0x167)][_0xa35af0(0x644)](this['instanceName']+'\x20('+this[_0xa35af0(0x17a)][_0xa35af0(0x164)]+_0xa35af0(0x701)+_0x5359f6)),_0xa4a44a+=_0x5359f6,this[_0xa35af0(0x167)]['verbose'](this[_0xa35af0(0x523)]+'\x20('+this[_0xa35af0(0x17a)][_0xa35af0(0x164)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0xa4a44a);let _0x590c6d=this[_0xa35af0(0x416)]['get'](_0xa35af0(0x59b))['URL'];if(!_0x590c6d){let _0x300a1f=this[_0xa35af0(0x416)][_0xa35af0(0x749)](_0xa35af0(0x26c));_0x590c6d=_0xa35af0(0x62f)+(_0x300a1f&&_0x300a1f[_0xa35af0(0x5d3)][_0xa35af0(0x58d)]('/')[0x4]);}let _0x51339f=Buffer[_0xa35af0(0x6a6)](_0x2b5bde[_0xa35af0(0x42a)]);await this[_0xa35af0(0x593)](_0x51339f,_0xa4a44a);let _0x18a641=_0xa35af0(0x784)+_0xa4a44a;_0x18a641=''+_0x590c6d+_0x18a641,_0xb00244={'fileUrl':_0x18a641},_0x28b444[_0xa35af0(0x26f)][_0xa35af0(0x75b)]['fileUrl']=_0x18a641;let _0x198e25=_0x28b444[_0xa35af0(0x26f)][_0xa35af0(0x75b)],_0x4b69a8=this[_0xa35af0(0x611)](_0xb00244);return Object[_0xa35af0(0x432)](_0x198e25,_0x4b69a8),_0x28b444[_0xa35af0(0x26f)][_0xa35af0(0x75b)]=_0x198e25,_0x2dc59d={'error':!0x1,'apiResponse':{'fileUrl':_0x18a641}},this[_0xa35af0(0x68c)](_0x28b444,_0x3f7a83,_0x2dc59d),_0xb00244;}}catch(_0x4b2722){console[_0xa35af0(0x54e)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x4b2722),_0x4b2722[_0xa35af0(0x3cf)]&&(_0xb00244=_0x4b2722[_0xa35af0(0x3cf)]['data']);let _0x822814=_0x28b444[_0xa35af0(0x26f)]['realVariables'],_0x4b9423=this[_0xa35af0(0x611)](_0xb00244);return Object[_0xa35af0(0x432)](_0x822814,_0x4b9423),_0x28b444[_0xa35af0(0x26f)][_0xa35af0(0x75b)]=_0x822814,_0x2dc59d={'error':!0x0,'errorLog':_0x4b2722['toString'](),'apiResponse':_0xb00244},this[_0xa35af0(0x68c)](_0x28b444,_0x3f7a83,_0x2dc59d),{'success':!0x1};}}['applyvaredit'](_0x3b4631,_0x11ae0d){const _0x49d509=a0_0x313677;let _0x1b7ce7=_0x2dc8b0=>{const _0x4003e3=a0_0x5a0c;let _0x14636a=_0x2dc8b0[_0x4003e3(0x427)](/[^0-9.,-]/g,'')[_0x4003e3(0x427)](',','.'),_0x382b68=parseFloat(_0x14636a);return isNaN(_0x382b68)?null:_0x382b68;},_0x45e0c5=_0x11ae0d[_0x49d509(0x230)],_0x3b2ffe=_0x11ae0d[_0x49d509(0x6cd)];typeof _0x45e0c5==_0x49d509(0x706)&&(_0x45e0c5=this[_0x49d509(0x68e)](_0x45e0c5,_0x3b4631[_0x49d509(0x26f)]['realVariables'])??''),typeof _0x3b2ffe==_0x49d509(0x706)&&(_0x3b2ffe=this['replaceVariables'](_0x3b2ffe,_0x3b4631[_0x49d509(0x26f)]['realVariables'])??'');let _0x30d97d=null;if(!_0x11ae0d[_0x49d509(0x52f)])return null;switch(this[_0x49d509(0x167)][_0x49d509(0x644)](this['instanceName']+'\x20('+this[_0x49d509(0x17a)]['wuid']+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x45e0c5),this[_0x49d509(0x167)][_0x49d509(0x644)](this[_0x49d509(0x523)]+'\x20('+this[_0x49d509(0x17a)][_0x49d509(0x164)]+_0x49d509(0x6e4)+_0x3b2ffe),_0x11ae0d['editOperator']){case'+':case'-':case'*':case'/':let _0x4a564d=_0x1b7ce7(_0x45e0c5||'0'),_0x192c42=_0x1b7ce7(_0x3b2ffe||'0');if(_0x4a564d===null)return null;switch(_0x11ae0d[_0x49d509(0x52f)]){case'+':_0x30d97d=_0x4a564d+(_0x192c42??0x0);break;case'-':_0x30d97d=_0x4a564d-(_0x192c42??0x0);break;case'*':_0x30d97d=_0x4a564d*(_0x192c42??0x1);break;case'/':_0x192c42!==0x0&&(_0x30d97d=_0x4a564d/(_0x192c42??0x1));break;}break;case _0x49d509(0x28f):case _0x49d509(0x6e7):let _0x4bbf47=_0x3b2ffe,_0x5ccc7c=_0x11ae0d[_0x49d509(0x635)];if(typeof _0x5ccc7c==_0x49d509(0x706)&&(_0x5ccc7c=this[_0x49d509(0x68e)](_0x5ccc7c,_0x3b4631['chatLog']['realVariables'])??''),_0x4bbf47&&_0x5ccc7c!==void 0x0){let _0x394992=_0x11ae0d[_0x49d509(0x52f)]===_0x49d509(0x28f)?new RegExp(_0x4bbf47[_0x49d509(0x427)](/[-\/\\^$*+?.()|[\]{}]/g,_0x49d509(0x1b1)),'g'):new RegExp(_0x4bbf47,'g');_0x30d97d=_0x45e0c5[_0x49d509(0x427)](_0x394992,_0x5ccc7c);}else console['warn'](_0x49d509(0x1ae));break;case _0x49d509(0x3f3):_0x30d97d=_0x3b2ffe;break;case _0x49d509(0x498):let _0x48c706=_0x45e0c5[_0x49d509(0x242)](new RegExp(_0x3b2ffe||''));_0x30d97d=_0x48c706?_0x48c706[0x0]:'';break;case _0x49d509(0x466):_0x30d97d=_0x45e0c5[_0x49d509(0x6db)](0x0,parseInt(_0x3b2ffe||'0'));break;case _0x49d509(0x2b8):let _0x3ec160=parseInt(_0x3b2ffe||'0');_0x30d97d=_0x45e0c5[_0x49d509(0x6db)](_0x45e0c5['length']-_0x3ec160);break;case _0x49d509(0x46c):let _0x3ed390=_0x1b7ce7(_0x45e0c5),_0x224926=parseInt(_0x3b2ffe||'0');_0x224926=Math['abs'](_0x224926),_0x3ed390!==null?_0x30d97d=_0x3ed390[_0x49d509(0x226)](_0x49d509(0x1d2),{'minimumFractionDigits':_0x224926,'maximumFractionDigits':_0x224926}):(console[_0x49d509(0x40a)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x45e0c5),_0x30d97d=null);break;case _0x49d509(0x61b):let _0x221e9b=_0x1b7ce7(_0x45e0c5);_0x221e9b!==null?_0x30d97d=_0x221e9b[_0x49d509(0x226)](_0x49d509(0x1d2),{'style':_0x49d509(0x73a),'currency':_0x49d509(0x1d5)}):(console[_0x49d509(0x40a)](_0x49d509(0x5b9)+_0x45e0c5),_0x30d97d=null);break;case _0x49d509(0x2dc):_0x30d97d=_0x45e0c5[_0x49d509(0x6cc)]();break;case _0x49d509(0x4a1):_0x30d97d=_0x45e0c5[_0x49d509(0x620)]();break;case _0x49d509(0x3b1):_0x30d97d=_0x45e0c5[_0x49d509(0x58d)]('\x20')[_0x49d509(0x217)](_0x5807f8=>_0x5807f8[_0x49d509(0x228)](0x0)[_0x49d509(0x6cc)]()+_0x5807f8['slice'](0x1)[_0x49d509(0x620)]())[_0x49d509(0x762)]('\x20');break;case _0x49d509(0x631):_0x30d97d=_0x45e0c5[_0x49d509(0x5b7)]();break;default:_0x30d97d=_0x45e0c5;}return _0x30d97d!==null?_0x30d97d[_0x49d509(0x3eb)]():null;}async[a0_0x313677(0x192)](_0x233411,_0x45b115){const _0x431c8c=a0_0x313677;try{let _0x3a9bbc=_0x233411['varedits']?.[_0x431c8c(0x39d)](_0xc1d019=>_0xc1d019[_0x431c8c(0x279)]===_0x45b115[_0x431c8c(0x510)]?.[_0x431c8c(0x3eb)]())||[],_0x4379fa=_0x45b115['saveVariable'],_0x2420e4=null,_0x3636e5=[],_0x3560ba=_0x233411[_0x431c8c(0x26f)][_0x431c8c(0x75b)][_0x4379fa];_0x3636e5['push'](_0x431c8c(0x6a8)+_0x3560ba+'\x22');for(let _0x3ad100 of _0x3a9bbc){_0x3ad100['firstValue']=_0x3560ba,_0x2420e4=_0x3ad100['firstValue'];let _0x105a39;try{_0x105a39=this[_0x431c8c(0x527)](_0x233411,_0x3ad100);}catch(_0x1480e5){console[_0x431c8c(0x54e)](_0x431c8c(0x398)+_0x1480e5['message']);continue;}if(_0x105a39!==null){let _0x6df9e='Operador:\x20\x22'+_0x3ad100[_0x431c8c(0x52f)]+'\x22',_0x314a6e=['toBRL','upperCase',_0x431c8c(0x4a1),'capitalizedWords',_0x431c8c(0x631)];_0x3ad100['editOperator']===_0x431c8c(0x28f)||_0x3ad100['editOperator']===_0x431c8c(0x6e7)?_0x6df9e+=_0x431c8c(0x4ca)+_0x3ad100[_0x431c8c(0x6cd)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x3ad100[_0x431c8c(0x635)]+'\x22':!_0x314a6e['includes'](_0x3ad100[_0x431c8c(0x52f)])&&_0x3ad100[_0x431c8c(0x6cd)]!==null&&_0x3ad100[_0x431c8c(0x6cd)]!==void 0x0&&(_0x6df9e+=',\x20valor\x20passado:\x20\x22'+_0x3ad100[_0x431c8c(0x6cd)]+'\x22'),_0x6df9e+=_0x431c8c(0x667)+_0x105a39+'.',_0x3636e5[_0x431c8c(0x64c)](_0x6df9e);}_0x105a39!==null&&(_0x3560ba=_0x105a39);}if(_0x233411[_0x431c8c(0x26f)][_0x431c8c(0x75b)]&&_0x45b115[_0x431c8c(0x34b)]){_0x233411['chatLog'][_0x431c8c(0x75b)][_0x45b115[_0x431c8c(0x34b)]]=_0x3560ba;let _0x135b6a={'variable':_0x45b115[_0x431c8c(0x34b)],'oldValue':_0x2420e4,'newValue':_0x3560ba,'moreLogs':_0x3636e5};try{this['updateConversation'](_0x233411,_0x45b115,_0x135b6a);}catch(_0x248661){console[_0x431c8c(0x54e)](_0x431c8c(0x4d4)+_0x248661[_0x431c8c(0x711)]);}}return _0x4379fa;}catch(_0x321eff){return console[_0x431c8c(0x54e)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x321eff[_0x431c8c(0x711)]),null;}}async[a0_0x313677(0x20c)](_0xcf483e,_0x1241eb){const _0x1806d9=a0_0x313677;try{let _0x551092=[],_0x2ed606=_0xcf483e[_0x1806d9(0x69f)]['filter'](_0x4ad1d4=>_0x4ad1d4['blockId']===_0x1241eb['_id'][_0x1806d9(0x3eb)]()),_0x476025=null,_0x2ac51e=!0x1;for(let _0x1f6675 of _0x2ed606){let _0x111457=this[_0x1806d9(0x6ca)](_0xcf483e,_0x1f6675);_0x551092['push'](_0x1806d9(0x476)+_0x1f6675[_0x1806d9(0x230)]+_0x1806d9(0x151)+_0x1f6675[_0x1806d9(0x243)]+_0x1806d9(0x43f)+_0x1f6675['secondValue']+_0x1806d9(0x354)+_0x111457),_0x476025===null?_0x476025=_0x111457:_0x1f6675[_0x1806d9(0x453)]===_0x1806d9(0x26a)?(_0x476025=_0x476025&&_0x111457,_0x111457||(_0x2ac51e=!0x0)):_0x1f6675['OrAnd']==='or'&&(_0x2ac51e||(_0x476025=_0x476025||_0x111457));}_0x476025===null&&(_0x476025=!0x0);let _0x587f14={'moreLogs':_0x551092};_0xcf483e[_0x1806d9(0x26f)][_0x1806d9(0x421)]=_0x476025,await this['updateConversation'](_0xcf483e,_0x1241eb,_0x587f14);}catch(_0x33e75a){this[_0x1806d9(0x167)][_0x1806d9(0x54e)](this[_0x1806d9(0x523)]+'\x20('+this['instance'][_0x1806d9(0x164)]+_0x1806d9(0x4f5)+(_0x33e75a instanceof Error?_0x33e75a[_0x1806d9(0x711)]:JSON['stringify'](_0x33e75a,null,0x2)));}}['evaluateCondition'](_0x2e5a86,_0x5a6246){const _0x438af5=a0_0x313677;let _0x13d81c=_0x5a6246[_0x438af5(0x230)],_0x345b73=_0x5a6246['secondValue'];typeof _0x13d81c==_0x438af5(0x706)&&(_0x13d81c=this[_0x438af5(0x68e)](_0x13d81c,_0x2e5a86['chatLog'][_0x438af5(0x75b)])??''),typeof _0x345b73==_0x438af5(0x706)&&(_0x345b73=this[_0x438af5(0x68e)](_0x345b73,_0x2e5a86['chatLog']['realVariables'])??'');try{switch(_0x5a6246[_0x438af5(0x243)]){case _0x438af5(0x269):return _0x13d81c===_0x345b73;case _0x438af5(0x289):return _0x13d81c!==_0x345b73;case _0x438af5(0x772):return this[_0x438af5(0x772)](_0x13d81c,_0x345b73);case _0x438af5(0x20f):return!this[_0x438af5(0x772)](_0x13d81c,_0x345b73);case _0x438af5(0x4cb):return parseFloat(_0x13d81c)>parseFloat(_0x345b73);case _0x438af5(0x6f6):return parseFloat(_0x13d81c)<parseFloat(_0x345b73);case'notEmpty':return _0x13d81c!=='';case'empty':return _0x13d81c==='';case'matchRegex':return new RegExp(_0x345b73)[_0x438af5(0x22f)](_0x13d81c);case _0x438af5(0x5d6):return!new RegExp(_0x345b73)[_0x438af5(0x22f)](_0x13d81c);default:return!0x1;}}catch(_0x264541){return console[_0x438af5(0x54e)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x264541),!0x1;}}[a0_0x313677(0x772)](_0x2f7656,_0x47ffb1){const _0x5d4cab=a0_0x313677;if(_0x2f7656===_0x47ffb1&&/^\d+$/[_0x5d4cab(0x22f)](_0x2f7656))return!0x0;if(this[_0x5d4cab(0x743)](_0x2f7656)&&/^\d+$/[_0x5d4cab(0x22f)](_0x47ffb1)){let _0x204712=_0x2f7656[_0x5d4cab(0x58d)](',')[_0x5d4cab(0x217)](_0x4da3c1=>parseInt(_0x4da3c1[_0x5d4cab(0x5b7)]())),_0x38d365=parseInt(_0x47ffb1);return _0x204712[_0x5d4cab(0x2fe)](_0x38d365);}return _0x2f7656[_0x5d4cab(0x2fe)](_0x47ffb1);}[a0_0x313677(0x743)](_0x57b14b){const _0x11099f=a0_0x313677;return/^\d+(,\d+)*$/[_0x11099f(0x22f)](_0x57b14b);}[a0_0x313677(0x1bb)](_0x2dbe88){const _0x1a6632=a0_0x313677;let _0x549c7d=!0x0,_0x4c3a8b=null;for(let _0x17ea69 of _0x2dbe88){let _0x55f9b1=this[_0x1a6632(0x690)](_0x17ea69);if(_0x4c3a8b==='or'&&_0x55f9b1){_0x549c7d=!0x0;break;}if(_0x4c3a8b===_0x1a6632(0x26a)&&!_0x55f9b1){_0x549c7d=!0x1;break;}_0x4c3a8b=_0x17ea69['OrAnd'];}return _0x549c7d;}[a0_0x313677(0x690)](_0x563e96){const _0x2dd3d8=a0_0x313677;let _0x5a2863=_0x563e96[_0x2dd3d8(0x230)],_0x596fe7=_0x563e96[_0x2dd3d8(0x6cd)];try{switch(_0x563e96[_0x2dd3d8(0x243)]){case _0x2dd3d8(0x269):return String(_0x5a2863)===String(_0x596fe7);case'notEqual':return String(_0x5a2863)!==String(_0x596fe7);case _0x2dd3d8(0x772):return String(_0x5a2863)[_0x2dd3d8(0x2fe)](String(_0x596fe7));case _0x2dd3d8(0x20f):return!String(_0x5a2863)['includes'](String(_0x596fe7));case'greater':return parseFloat(String(_0x5a2863))>parseFloat(String(_0x596fe7));case _0x2dd3d8(0x6f6):return parseFloat(String(_0x5a2863))<parseFloat(String(_0x596fe7));case _0x2dd3d8(0x796):return String(_0x5a2863)!=='';case _0x2dd3d8(0x6e5):return String(_0x5a2863)==='';case _0x2dd3d8(0x640):return new RegExp(String(_0x596fe7))[_0x2dd3d8(0x22f)](String(_0x5a2863));case _0x2dd3d8(0x5d6):return!new RegExp(String(_0x596fe7))[_0x2dd3d8(0x22f)](String(_0x5a2863));default:return!0x1;}}catch(_0x3ac79f){return console[_0x2dd3d8(0x54e)](_0x2dd3d8(0x156)+_0x3ac79f),!0x1;}}async['saveTextReply'](_0x106180,_0x47f16e){const _0x2c6f2c=a0_0x313677;if(this[_0x2c6f2c(0x167)][_0x2c6f2c(0x644)](this[_0x2c6f2c(0x523)]+'\x20('+this[_0x2c6f2c(0x17a)]['wuid']+_0x2c6f2c(0x681)),!_0x106180||!_0x47f16e)return this[_0x2c6f2c(0x167)]['error'](this['instanceName']+'\x20('+this['instance'][_0x2c6f2c(0x164)]+_0x2c6f2c(0x3c0)),null;let _0x52e62c=_0x47f16e[_0x2c6f2c(0x34b)],_0x5d84b2=_0x106180[_0x2c6f2c(0x26f)]['lastReceivedMessage'][_0x2c6f2c(0x37a)]||_0x106180[_0x2c6f2c(0x26f)][_0x2c6f2c(0x52e)][_0x2c6f2c(0x16f)]||_0x106180[_0x2c6f2c(0x26f)]['lastReceivedMessage'][_0x2c6f2c(0x3fc)];try{_0x106180['chatLog'][_0x2c6f2c(0x75b)]||(_0x106180[_0x2c6f2c(0x26f)]['realVariables']={});let _0x1e5aa7=_0x106180[_0x2c6f2c(0x26f)]['realVariables'][_0x52e62c];_0x106180[_0x2c6f2c(0x26f)]['realVariables'][_0x52e62c]=_0x5d84b2;let _0x30a6c5={'variable':_0x52e62c,'oldValue':_0x1e5aa7,'newValue':_0x5d84b2};this['updateConversation'](_0x106180,_0x47f16e,_0x30a6c5),this['logger'][_0x2c6f2c(0x644)](this['instanceName']+'\x20('+this['instance'][_0x2c6f2c(0x164)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x29a89c){let _0x1be332={'error':!0x0,'errorLog':_0x29a89c[_0x2c6f2c(0x3eb)]()};return this[_0x2c6f2c(0x68c)](_0x106180,_0x47f16e,_0x1be332),this[_0x2c6f2c(0x167)]['error'](this[_0x2c6f2c(0x523)]+'\x20('+this[_0x2c6f2c(0x17a)][_0x2c6f2c(0x164)]+_0x2c6f2c(0x5ad)+(_0x29a89c instanceof Error?_0x29a89c[_0x2c6f2c(0x711)]:JSON['stringify'](_0x29a89c,null,0x2))),null;}}async[a0_0x313677(0x1aa)](_0x397af4,_0x4a7b8d){const _0x18fd22=a0_0x313677;if(this['logger'][_0x18fd22(0x644)](this[_0x18fd22(0x523)]+'\x20('+this[_0x18fd22(0x17a)][_0x18fd22(0x164)]+_0x18fd22(0x2a0)),!_0x397af4||!_0x4a7b8d)return this[_0x18fd22(0x167)][_0x18fd22(0x54e)](this['instanceName']+'\x20('+this[_0x18fd22(0x17a)][_0x18fd22(0x164)]+_0x18fd22(0x3c0)),null;let _0x2ccff9=Date[_0x18fd22(0x447)](),_0xa0ad52=parseInt(_0x4a7b8d['stopMinutes'],0xa);if(isNaN(_0xa0ad52))return this[_0x18fd22(0x167)][_0x18fd22(0x54e)](this[_0x18fd22(0x523)]+'\x20('+this['instance']['wuid']+_0x18fd22(0x693)),null;let _0x199dbd={'newStoppedUntil':_0x2ccff9+_0xa0ad52*0x3c*0x3e8};return await this['updateConversation'](_0x397af4,_0x4a7b8d,_0x199dbd,!0x0),null;}async[a0_0x313677(0x50a)](_0x225fcf,_0x20dd6b){const _0x44b748=a0_0x313677;try{switch(_0x20dd6b[_0x44b748(0x185)][_0x44b748(0x65f)]){case _0x44b748(0x27a):await this[_0x44b748(0x294)](_0x225fcf,_0x20dd6b);break;case'sendMedia':await this['uazapiSendMedia'](_0x225fcf,_0x20dd6b);break;case _0x44b748(0x622):await this[_0x44b748(0x5c8)](_0x225fcf,_0x20dd6b);break;case _0x44b748(0x585):await this[_0x44b748(0x227)](_0x225fcf,_0x20dd6b);break;case _0x44b748(0x574):await this[_0x44b748(0x746)](_0x225fcf,_0x20dd6b);break;case _0x44b748(0x52a):await this['uazapiSendMenu'](_0x225fcf,_0x20dd6b);break;case'sendMenu':await this[_0x44b748(0x609)](_0x225fcf,_0x20dd6b);break;case _0x44b748(0x502):await this[_0x44b748(0x5d7)](_0x225fcf,_0x20dd6b);break;default:this['logger'][_0x44b748(0x54e)](this[_0x44b748(0x523)]+'\x20('+this[_0x44b748(0x17a)][_0x44b748(0x164)]+_0x44b748(0x4bd)+_0x20dd6b[_0x44b748(0x185)][_0x44b748(0x65f)]);}}catch(_0x4b4a87){this[_0x44b748(0x167)][_0x44b748(0x54e)](this[_0x44b748(0x523)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x4b4a87 instanceof Error?_0x4b4a87[_0x44b748(0x711)]:JSON[_0x44b748(0x2db)](_0x4b4a87,null,0x2)));}}async[a0_0x313677(0x68c)](_0x540607,_0x48d344,_0x40ae44,_0x50515a=!0x1,_0x3aab8a=!0x1){const _0x146bbd=a0_0x313677;_0x540607[_0x146bbd(0x26f)][_0x146bbd(0x258)]||(_0x540607[_0x146bbd(0x26f)][_0x146bbd(0x258)]=[]);let _0x1796af=(_0x540607['chatLog'][_0x146bbd(0x258)]?.[_0x146bbd(0x1c3)]??0x0)+0x1,_0x19c3a2=_0x540607[_0x146bbd(0x26f)][_0x146bbd(0x258)]['filter'](_0x2dbb8e=>String(_0x2dbb8e[_0x146bbd(0x279)])===String(_0x48d344[_0x146bbd(0x510)]))[_0x146bbd(0x1c3)]+0x1,_0x55ab9a=_0x40ae44?.[_0x146bbd(0x21b)]??Date['now'](),_0x3704bd=_0x40ae44?.[_0x146bbd(0x54e)]?_0x40ae44[_0x146bbd(0x3a8)]??_0x40ae44[_0x146bbd(0x54e)]['toString']():void 0x0,_0x4da95b={'onTime':_0x55ab9a,'blockId':_0x48d344['_id'],'order':_0x1796af,'activatedCount':_0x19c3a2,'error':_0x40ae44?.[_0x146bbd(0x54e)]??!0x1,'messageId':_0x40ae44?.[_0x146bbd(0x3f5)],'apiResponse':_0x40ae44?.[_0x146bbd(0x40f)],'apiResponseString':_0x40ae44?.['apiResponse']?JSON['stringify'](_0x40ae44?.[_0x146bbd(0x40f)]):void 0x0,'variable':_0x40ae44?.[_0x146bbd(0x48e)],'oldValue':_0x40ae44?.[_0x146bbd(0x1fb)],'newValue':_0x40ae44?.[_0x146bbd(0x27c)],'newStoppedUntil':_0x40ae44?.['newStoppedUntil'],'moreLogs':_0x40ae44?.[_0x146bbd(0x5d2)],'errorLog':_0x3704bd};if(_0x40ae44[_0x146bbd(0x5d2)]&&_0x40ae44['moreLogs'][_0x146bbd(0x1c3)]>0x0){let _0x582d67=_0x40ae44[_0x146bbd(0x5d2)][_0x146bbd(0x217)](_0x213d61=>this[_0x146bbd(0x391)](_0x213d61,_0x540607['chatLog'][_0x146bbd(0x75b)]));_0x4da95b[_0x146bbd(0x5d2)]=_0x582d67;}_0x540607[_0x146bbd(0x26f)][_0x146bbd(0x75b)]||(_0x540607[_0x146bbd(0x26f)]['realVariables']={}),_0x540607[_0x146bbd(0x26f)][_0x146bbd(0x75b)]['_activatedCount']=String(_0x19c3a2),_0x540607[_0x146bbd(0x26f)]['realVariables'][_0x146bbd(0x2a6)]=String(_0x40ae44['error']??!0x1),_0x540607[_0x146bbd(0x26f)][_0x146bbd(0x258)]['push'](_0x4da95b),_0x540607[_0x146bbd(0x26f)][_0x146bbd(0x634)]=_0x48d344['_id'][_0x146bbd(0x3eb)](),_0x540607[_0x146bbd(0x26f)][_0x146bbd(0x6f5)]&&(_0x540607[_0x146bbd(0x26f)][_0x146bbd(0x6f5)]=_0x540607[_0x146bbd(0x26f)][_0x146bbd(0x6f5)]),_0x540607[_0x146bbd(0x26f)][_0x146bbd(0x52e)]&&(_0x540607[_0x146bbd(0x26f)][_0x146bbd(0x52e)]=_0x540607['chatLog']['lastReceivedMessage']),_0x540607[_0x146bbd(0x26f)]['lastCondition']&&(_0x540607['chatLog'][_0x146bbd(0x421)]=_0x540607[_0x146bbd(0x26f)][_0x146bbd(0x421)]),_0x3aab8a&&(_0x540607[_0x146bbd(0x57d)]=_0x146bbd(0x5aa)),_0x50515a?this[_0x146bbd(0x722)](_0x540607):this[_0x146bbd(0x766)](_0x540607,_0x48d344);}['replaceVariablesLogs'](_0x1eda65,_0x42e734){const _0x39030a=a0_0x313677;return _0x1eda65[_0x39030a(0x427)](/\{\{([^}]+)\}\}/g,(_0x4b0830,_0x6ee68e)=>_0x42e734[_0x6ee68e]?'{{'+_0x6ee68e+'}}\x20->\x20\x22'+_0x42e734[_0x6ee68e]+'\x22':'{{'+_0x6ee68e+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x313677(0x722)](_0x237054){const _0x31a6fc=a0_0x313677;try{let _0x16261c=Object[_0x31a6fc(0x604)](_0x237054[_0x31a6fc(0x26f)][_0x31a6fc(0x75b)])[_0x31a6fc(0x217)](([_0x1107b6,_0x44ee25])=>({'name':_0x1107b6,'value':_0x44ee25})),_0x14baa8={'status':_0x237054[_0x31a6fc(0x57d)],'blocks':_0x237054[_0x31a6fc(0x1e0)],'waitingMenu_id':_0x237054[_0x31a6fc(0x28b)],'waitingMenu_text':_0x237054[_0x31a6fc(0x222)],'waitingMenu_replyOptions':_0x237054['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x237054[_0x31a6fc(0x26f)]['lastBlockId'],'lastSendMessage':_0x237054[_0x31a6fc(0x26f)][_0x31a6fc(0x6f5)],'lastReceivedMessage':_0x237054[_0x31a6fc(0x26f)][_0x31a6fc(0x52e)],'lastCondition':_0x237054[_0x31a6fc(0x26f)]['lastCondition'],'chatVariables':_0x16261c,'realVariables':_0x237054[_0x31a6fc(0x26f)][_0x31a6fc(0x75b)],'blockLogs':_0x237054[_0x31a6fc(0x26f)][_0x31a6fc(0x258)]}},_0x2f0495=await this[_0x31a6fc(0x5b2)][_0x31a6fc(0x629)]['updateOne'](_0x237054[_0x31a6fc(0x510)],_0x14baa8,this['instance']['wuid']);if(_0x2f0495){this['logger'][_0x31a6fc(0x644)](this[_0x31a6fc(0x523)]+'\x20('+this[_0x31a6fc(0x17a)][_0x31a6fc(0x164)]+_0x31a6fc(0x70c)+_0x2f0495['_id']);try{let _0x78b329=['nome',_0x31a6fc(0x3a4),_0x31a6fc(0x5fa),_0x31a6fc(0x6a5),'status',_0x31a6fc(0x584),_0x31a6fc(0x4c6),_0x31a6fc(0x358),_0x31a6fc(0x306)];if(!this[_0x31a6fc(0x6d3)]&&(await this['getAutomateSystem'](),!this[_0x31a6fc(0x6d3)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x3acdb8=this[_0x31a6fc(0x6d3)]?.['customFields'][_0x31a6fc(0x217)](_0x1abc6d=>_0x1abc6d[_0x31a6fc(0x4af)]),_0x223e86={};Object['entries'](_0x237054[_0x31a6fc(0x26f)][_0x31a6fc(0x75b)])[_0x31a6fc(0x6c9)](([_0x18ff81,_0x15ba1b])=>{const _0x556352=_0x31a6fc;_0x78b329[_0x556352(0x2fe)](_0x18ff81)&&(_0x18ff81===_0x556352(0x358)&&typeof _0x15ba1b==_0x556352(0x706)?_0x223e86[_0x18ff81]=_0x15ba1b[_0x556352(0x58d)](',')['map'](_0x491642=>_0x491642['trim']())['filter'](_0x187deb=>_0x187deb!==''):_0x18ff81===_0x556352(0x306)&&typeof _0x15ba1b==_0x556352(0x706)?_0x223e86[_0x18ff81]=_0x15ba1b[_0x556352(0x58d)](',')[_0x556352(0x217)](_0x392052=>_0x392052[_0x556352(0x5b7)]())[_0x556352(0x39d)](_0x19dc59=>_0x19dc59!==''):_0x223e86[_0x18ff81]=_0x15ba1b);});let _0x19c16c=_0x237054['chatLog'][_0x31a6fc(0x258)][_0x237054[_0x31a6fc(0x26f)][_0x31a6fc(0x258)][_0x31a6fc(0x1c3)]-0x1];if(_0x19c16c){let _0xa917b3=_0x19c16c[_0x31a6fc(0x143)];_0xa917b3!==void 0x0&&(_0x223e86[_0x31a6fc(0x3bd)]=_0xa917b3['toString']());}let _0x312515=_0x16261c['filter'](_0x4e9bbd=>_0x3acdb8[_0x31a6fc(0x2fe)](_0x4e9bbd[_0x31a6fc(0x4af)]));this[_0x31a6fc(0x167)]['verbose'](this[_0x31a6fc(0x523)]+'\x20('+this[_0x31a6fc(0x17a)][_0x31a6fc(0x164)]+_0x31a6fc(0x5e4)),this['logger'][_0x31a6fc(0x644)](_0x223e86),this[_0x31a6fc(0x167)][_0x31a6fc(0x644)](this[_0x31a6fc(0x523)]+'\x20('+this[_0x31a6fc(0x17a)][_0x31a6fc(0x164)]+'):\x20customFieldVariables'),this[_0x31a6fc(0x167)][_0x31a6fc(0x644)](_0x312515);let _0x4f851d=_0x312515[_0x31a6fc(0x217)](_0x403782=>{const _0x2744ff=_0x31a6fc;let _0x3d2cc5=this[_0x2744ff(0x6d3)]?.['customFields'][_0x2744ff(0x144)](_0x10c4c1=>_0x10c4c1[_0x2744ff(0x4af)]===_0x403782[_0x2744ff(0x4af)]);if(!_0x3d2cc5)throw new Error(_0x2744ff(0x768)+_0x403782[_0x2744ff(0x4af)]);return{'_id':_0x3d2cc5[_0x2744ff(0x510)],'value':_0x403782[_0x2744ff(0x441)]};});this[_0x31a6fc(0x167)][_0x31a6fc(0x644)](this['instanceName']+'\x20('+this[_0x31a6fc(0x17a)]['wuid']+_0x31a6fc(0x758)),this[_0x31a6fc(0x167)][_0x31a6fc(0x644)](_0x4f851d),await this['saveChatVariables'](_0x237054[_0x31a6fc(0x594)],_0x223e86,_0x4f851d);}catch(_0x52609d){this['logger'][_0x31a6fc(0x54e)](this[_0x31a6fc(0x523)]+'\x20('+this[_0x31a6fc(0x17a)][_0x31a6fc(0x164)]+_0x31a6fc(0x6a7)+(_0x52609d instanceof Error?_0x52609d[_0x31a6fc(0x711)]:JSON[_0x31a6fc(0x2db)](_0x52609d,null,0x2)));}}else this[_0x31a6fc(0x167)]['error'](this[_0x31a6fc(0x523)]+'\x20('+this[_0x31a6fc(0x17a)][_0x31a6fc(0x164)]+_0x31a6fc(0x58c));}catch(_0x25e7e7){this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x31a6fc(0x164)]+_0x31a6fc(0x1f2)+(_0x25e7e7 instanceof Error?_0x25e7e7['message']:JSON[_0x31a6fc(0x2db)](_0x25e7e7,null,0x2)));}}async[a0_0x313677(0x1f9)](_0x4269c2,_0x171286,_0x22bee5){const _0x8b8a6=a0_0x313677;try{let _0xc13f63={'leadInfo.leadnome':_0x171286[_0x8b8a6(0x718)],'leadInfo.nomecompleto':_0x171286[_0x8b8a6(0x3a4)],'leadInfo.email':_0x171286[_0x8b8a6(0x5fa)],'leadInfo.cpf':_0x171286['cpf'],'leadInfo.status':_0x171286['status'],'leadInfo.notas':_0x171286[_0x8b8a6(0x584)],'leadInfo.responsavelid':_0x171286[_0x8b8a6(0x4c6)],'leadInfo.tags':_0x171286[_0x8b8a6(0x358)],'leadInfo.etiquetas':_0x171286['etiquetas'],'leadInfo.customFields':_0x22bee5},_0x41ef87=await this[_0x8b8a6(0x5b2)][_0x8b8a6(0x351)][_0x8b8a6(0x330)]({'where':{'_id':_0x4269c2}},this[_0x8b8a6(0x17a)][_0x8b8a6(0x164)]),_0x16221d=new Set(_0x41ef87[_0x8b8a6(0x27d)][_0x8b8a6(0x306)]||[]),_0x1023e4=new Set(_0x171286[_0x8b8a6(0x306)]||[]),_0x3bf386=await this[_0x8b8a6(0x5b2)][_0x8b8a6(0x77c)][_0x8b8a6(0x144)]({'where':{}},this['instance'][_0x8b8a6(0x164)]),_0x39c469=new Set(_0x3bf386['map'](_0x6b72da=>_0x6b72da[_0x8b8a6(0x510)])),_0x467f6e=[..._0x1023e4][_0x8b8a6(0x39d)](_0x149dd4=>!_0x16221d[_0x8b8a6(0x36b)](_0x149dd4)&&_0x39c469['has'](_0x149dd4)),_0x423a6e=[..._0x16221d][_0x8b8a6(0x39d)](_0x1bdbcb=>!_0x1023e4[_0x8b8a6(0x36b)](_0x1bdbcb));for(let _0x303353 of _0x467f6e)await this[_0x8b8a6(0x662)](_0x303353,_0x41ef87[_0x8b8a6(0x510)]),_0x16221d[_0x8b8a6(0x64d)](_0x303353);for(let _0x445e7b of _0x423a6e)await this[_0x8b8a6(0x20a)](_0x445e7b,_0x41ef87[_0x8b8a6(0x510)]),_0x16221d[_0x8b8a6(0x686)](_0x445e7b);if(_0x8b8a6(0x3bd)in _0x171286){let _0x194fa0=_0x171286['desativadoFluxoAte'];_0xc13f63[_0x8b8a6(0x2d4)]=_0x194fa0?Number(_0x194fa0):null;}let _0x34e468=await this[_0x8b8a6(0x5b2)][_0x8b8a6(0x351)]['updateOne']({'where':{'_id':_0x4269c2}},_0xc13f63,this['instance'][_0x8b8a6(0x164)]);_0x34e468?(this['logger'][_0x8b8a6(0x644)](this[_0x8b8a6(0x523)]+'\x20('+this[_0x8b8a6(0x17a)][_0x8b8a6(0x164)]+_0x8b8a6(0x4b0)+_0x34e468[_0x8b8a6(0x510)]),J(this[_0x8b8a6(0x523)],_0x8b8a6(0x1f4),{'chat':_0x34e468})):this['logger'][_0x8b8a6(0x54e)](this[_0x8b8a6(0x523)]+'\x20('+this[_0x8b8a6(0x17a)]['wuid']+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x16d7b3){this[_0x8b8a6(0x167)][_0x8b8a6(0x54e)](this['instanceName']+'\x20('+this[_0x8b8a6(0x17a)][_0x8b8a6(0x164)]+_0x8b8a6(0x5f0)+(_0x16d7b3 instanceof Error?_0x16d7b3[_0x8b8a6(0x711)]:JSON[_0x8b8a6(0x2db)](_0x16d7b3,null,0x2)));}}async[a0_0x313677(0x3ee)](_0x13c2fb,_0x445311){const _0x5273f3=a0_0x313677;this['logger'][_0x5273f3(0x644)](this[_0x5273f3(0x523)]+'\x20('+this['instance'][_0x5273f3(0x164)]+_0x5273f3(0x3c8)+_0x445311);try{let _0x1b37be=await this[_0x5273f3(0x5b2)]['chat'][_0x5273f3(0x471)]({'where':{'_id':_0x13c2fb[_0x5273f3(0x594)]}},{'leadInfo.desativadoFluxoAte':_0x445311},this['instance'][_0x5273f3(0x164)]);this['logger']['verbose'](this[_0x5273f3(0x523)]+'\x20('+this[_0x5273f3(0x17a)]['wuid']+_0x5273f3(0x2f9)+_0x13c2fb['_id']),this['logger'][_0x5273f3(0x644)](this[_0x5273f3(0x523)]+'\x20('+this[_0x5273f3(0x17a)][_0x5273f3(0x164)]+'):\x20atualização\x20chat:\x20'+JSON[_0x5273f3(0x2db)](_0x1b37be,null,0x2)),_0x1b37be&&J(this[_0x5273f3(0x523)],_0x5273f3(0x1f4),{'chat':_0x1b37be});}catch(_0x30c9dd){this[_0x5273f3(0x167)]['error'](this['instanceName']+'\x20('+this['instance'][_0x5273f3(0x164)]+_0x5273f3(0x65d)+(_0x30c9dd instanceof Error?_0x30c9dd[_0x5273f3(0x711)]:JSON['stringify'](_0x30c9dd,null,0x2)));}}async[a0_0x313677(0x487)](_0xf68d4b){const _0x3a7472=a0_0x313677;try{this[_0x3a7472(0x167)][_0x3a7472(0x644)](this[_0x3a7472(0x523)]+'\x20('+this['instance']['wuid']+_0x3a7472(0x789));let _0x5c2d21=_0xf68d4b[_0x3a7472(0x427)](/\D/g,''),_0x44286f=await this[_0x3a7472(0x5b2)]['flow']['findOne']({'where':{'testingWith':_0x5c2d21}},this[_0x3a7472(0x17a)][_0x3a7472(0x164)]);return _0x44286f||(this[_0x3a7472(0x167)][_0x3a7472(0x644)](this[_0x3a7472(0x523)]+'\x20('+this[_0x3a7472(0x17a)]['wuid']+_0x3a7472(0x70e)),_0x44286f=await this[_0x3a7472(0x5b2)]['flow'][_0x3a7472(0x330)]({'where':{'default':!0x0}},this['instance'][_0x3a7472(0x164)])),_0x44286f||(this['logger']['verbose'](this[_0x3a7472(0x523)]+'\x20('+this[_0x3a7472(0x17a)][_0x3a7472(0x164)]+_0x3a7472(0x546)),null);}catch(_0x3d1f4c){return this[_0x3a7472(0x167)]['error'](this[_0x3a7472(0x523)]+'\x20('+this[_0x3a7472(0x17a)][_0x3a7472(0x164)]+_0x3a7472(0x155)+(_0x3d1f4c instanceof Error?_0x3d1f4c[_0x3a7472(0x711)]:JSON[_0x3a7472(0x2db)](_0x3d1f4c,null,0x2))),null;}}async[a0_0x313677(0x70d)](_0x1a01ed,_0x8ab5e9){const _0x96f713=a0_0x313677;try{let _0x44f1f6=!!_0x8ab5e9[_0x96f713(0x3fc)],_0x40ea81=_0x8ab5e9[_0x96f713(0x257)],_0x1a17ba=null;if(this['logger'][_0x96f713(0x644)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x96f713(0x75e)+_0x44f1f6+'\x20quoted:\x20'+_0x40ea81),_0x44f1f6){this[_0x96f713(0x167)][_0x96f713(0x644)](this[_0x96f713(0x523)]+'\x20('+this[_0x96f713(0x17a)]['wuid']+_0x96f713(0x680));let _0x269e15={'where':{'remoteJid':_0x1a01ed,'waitingMenu_id':_0x40ea81}};if(_0x1a17ba=await this[_0x96f713(0x5b2)][_0x96f713(0x629)]['findOne'](_0x269e15,this[_0x96f713(0x17a)][_0x96f713(0x164)]),!_0x1a17ba)return this['logger'][_0x96f713(0x644)](this[_0x96f713(0x523)]+'\x20('+this[_0x96f713(0x17a)]['wuid']+_0x96f713(0x24c)),null;let _0x53ba27=Date[_0x96f713(0x447)](),_0x37741a=_0x1a17ba?.[_0x96f713(0x293)]||0x0,_0x2f12b0=_0x53ba27-_0x37741a*0x3c*0x3e8;if(_0x1a17ba[_0x96f713(0x3b0)]<_0x2f12b0){this[_0x96f713(0x167)][_0x96f713(0x644)](this[_0x96f713(0x523)]+'\x20('+this[_0x96f713(0x17a)][_0x96f713(0x164)]+_0x96f713(0x6ed));let _0x442435={'number':_0x1a17ba['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x1a17ba[_0x96f713(0x4dc)]}};await this[_0x96f713(0x305)](_0x442435);let _0x2e4632={'status':_0x96f713(0x5aa),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository']['flowConversation'][_0x96f713(0x471)](_0x1a17ba['_id'],_0x2e4632,this[_0x96f713(0x17a)]['wuid']),null;}return _0x1a17ba['lastInteraction']=Date['now'](),_0x1a17ba[_0x96f713(0x26f)][_0x96f713(0x52e)]=_0x8ab5e9,_0x1a17ba;}else{this['logger'][_0x96f713(0x644)](this[_0x96f713(0x523)]+'\x20('+this[_0x96f713(0x17a)][_0x96f713(0x164)]+_0x96f713(0x4a7)+this[_0x96f713(0x17a)][_0x96f713(0x164)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this['logger']['verbose'](this[_0x96f713(0x523)]+'\x20('+this[_0x96f713(0x17a)]['wuid']+_0x96f713(0x6ac));let _0x5424b2={'where':{'remoteJid':_0x1a01ed,'status':'open'}};if(_0x1a17ba=await this['repository'][_0x96f713(0x629)]['findOne'](_0x5424b2,this[_0x96f713(0x17a)][_0x96f713(0x164)]),!_0x1a17ba){let _0x42577a=await this[_0x96f713(0x487)](_0x1a01ed);if(_0x42577a&&(_0x1a17ba=await this['createNewConversation'](_0x42577a,_0x8ab5e9[_0x96f713(0x5c0)],_0x8ab5e9)),!_0x1a17ba)return null;}let _0x4bed8d=Date[_0x96f713(0x447)](),_0x14532a=_0x1a17ba?.['minutesToClose']||0x0,_0x54cd34=_0x4bed8d-_0x14532a*0x3c*0x3e8;if(this[_0x96f713(0x167)][_0x96f713(0x644)](this[_0x96f713(0x523)]+'\x20('+this[_0x96f713(0x17a)]['wuid']+_0x96f713(0x135)+_0x4bed8d+_0x96f713(0x336)+_0x14532a+',\x20Expiration\x20Time:\x20'+_0x54cd34),this[_0x96f713(0x167)][_0x96f713(0x644)](this['instanceName']+'\x20('+this[_0x96f713(0x17a)]['wuid']+_0x96f713(0x47a)),this['logger'][_0x96f713(0x644)](this[_0x96f713(0x523)]+'\x20('+this[_0x96f713(0x17a)]['wuid']+_0x96f713(0x489)+_0x1a17ba[_0x96f713(0x3b0)]),this['logger']['verbose'](this[_0x96f713(0x523)]+'\x20('+this[_0x96f713(0x17a)]['wuid']+_0x96f713(0x675)+_0x54cd34),_0x1a17ba[_0x96f713(0x3b0)]<_0x54cd34){this[_0x96f713(0x167)][_0x96f713(0x644)](this['instanceName']+'\x20('+this[_0x96f713(0x17a)][_0x96f713(0x164)]+'):\x20Conversa\x20está\x20expirada');let _0x4a70b7=await this[_0x96f713(0x487)](_0x1a01ed);if(_0x4a70b7===null)return null;_0x1a17ba&&await this[_0x96f713(0x5b2)][_0x96f713(0x629)][_0x96f713(0x471)](_0x1a17ba['_id'],{'status':_0x96f713(0x5aa)},this[_0x96f713(0x17a)][_0x96f713(0x164)]),_0x1a17ba=await this[_0x96f713(0x4c3)](_0x4a70b7,_0x8ab5e9[_0x96f713(0x5c0)],_0x8ab5e9);}return _0x1a17ba['lastInteraction']=_0x4bed8d,_0x1a17ba['chatLog'][_0x96f713(0x52e)]=_0x8ab5e9,_0x1a17ba;}}catch(_0x41b79c){return this[_0x96f713(0x167)][_0x96f713(0x54e)](this[_0x96f713(0x523)]+'\x20('+this[_0x96f713(0x17a)][_0x96f713(0x164)]+_0x96f713(0x1b0)+(_0x41b79c instanceof Error?_0x41b79c[_0x96f713(0x711)]:JSON[_0x96f713(0x2db)](_0x41b79c,null,0x2))),null;}}async[a0_0x313677(0x4c3)](_0x20cfa4,_0x1c14cd,_0x1f60d6){const _0x3ffa00=a0_0x313677;this['logger'][_0x3ffa00(0x644)](this[_0x3ffa00(0x523)]+'\x20('+this['instance'][_0x3ffa00(0x164)]+_0x3ffa00(0x6da));try{let _0x1187de=require('mongodb')[_0x3ffa00(0x3a6)],_0x83ab94=Date[_0x3ffa00(0x447)](),_0x3f5b28=_0x3ffa00(0x6dc),_0x4108c9=_0x1c14cd[_0x3ffa00(0x154)]?null:_0x1f60d6,_0x136628=_0x1c14cd[_0x3ffa00(0x154)]?_0x1f60d6:null,_0x2edfa0=_0x1c14cd[_0x3ffa00(0x594)];await this[_0x3ffa00(0x1a2)](_0x2edfa0);let _0x7ff810={..._0x20cfa4,'chatLog':null},_0x2bb581=await this[_0x3ffa00(0x5b0)](_0x7ff810['variables']),_0x1dd798=await this[_0x3ffa00(0x739)](_0x2edfa0),_0x197a29={..._0x2bb581,..._0x1dd798,'_remoteJid':_0x2edfa0},_0x4828aa={'lastReceivedMessage':_0x4108c9,'lastSendMessage':_0x136628,'lastBlockId':_0x3f5b28,'lastCondition':!0x0,'realVariables':_0x197a29};_0x7ff810['chatLog']=_0x4828aa,delete _0x7ff810[_0x3ffa00(0x510)],_0x7ff810[_0x3ffa00(0x510)]=new _0x1187de(),_0x7ff810[_0x3ffa00(0x3b0)]=_0x83ab94,_0x7ff810[_0x3ffa00(0x57d)]=_0x3ffa00(0x43a),_0x7ff810['remoteJid']=_0x2edfa0;let _0x32cda1=await this[_0x3ffa00(0x5b2)][_0x3ffa00(0x629)][_0x3ffa00(0x471)](_0x7ff810['_id'],_0x7ff810,this[_0x3ffa00(0x17a)][_0x3ffa00(0x164)]);return this[_0x3ffa00(0x167)]['verbose'](this[_0x3ffa00(0x523)]+'\x20('+this[_0x3ffa00(0x17a)][_0x3ffa00(0x164)]+_0x3ffa00(0x61d)),_0x32cda1?_0x7ff810:null;}catch(_0x31c363){return this['logger']['error'](this[_0x3ffa00(0x523)]+'\x20('+this['instance'][_0x3ffa00(0x164)]+_0x3ffa00(0x1fa)+(_0x31c363 instanceof Error?_0x31c363[_0x3ffa00(0x711)]:JSON[_0x3ffa00(0x2db)](_0x31c363,null,0x2))),_0x31c363;}}async[a0_0x313677(0x294)](_0x180033,_0x4dd1b5){const _0x42cabf=a0_0x313677;let _0x4161ae=_0x180033[_0x42cabf(0x594)];_0x4dd1b5[_0x42cabf(0x185)][_0x42cabf(0x594)]&&_0x4dd1b5['uazapi']['remoteJid'][_0x42cabf(0x5b7)]()!==''&&(_0x4161ae=_0x4dd1b5[_0x42cabf(0x185)][_0x42cabf(0x594)][_0x42cabf(0x5b7)]()),this[_0x42cabf(0x167)][_0x42cabf(0x644)](this['instanceName']+'\x20('+this[_0x42cabf(0x17a)][_0x42cabf(0x164)]+'):\x20Enviando\x20texto');let _0x2db47c={'number':_0x4161ae,'options':{'delay':_0x4dd1b5[_0x42cabf(0x185)][_0x42cabf(0x3f4)]},'textMessage':{'text':_0x4dd1b5[_0x42cabf(0x185)][_0x42cabf(0x37a)]}};try{let _0x82db83=await this[_0x42cabf(0x305)](_0x2db47c);if(_0x82db83){let _0x33935f={'_id':_0x82db83[_0x42cabf(0x5c0)]['id'],'_fromMe':_0x82db83[_0x42cabf(0x5c0)][_0x42cabf(0x154)],'_remoteJid':_0x82db83[_0x42cabf(0x5c0)][_0x42cabf(0x594)]};_0x180033[_0x42cabf(0x26f)][_0x42cabf(0x634)]=_0x4dd1b5[_0x42cabf(0x510)]['toString']();let {message_normalized:_0x54fe62}=this[_0x42cabf(0x549)](_0x82db83[_0x42cabf(0x711)],$(_0x82db83[_0x42cabf(0x711)]),null);_0x180033[_0x42cabf(0x26f)][_0x42cabf(0x6f5)]=await _0x54fe62;let _0xb8e0f4={'messageId':_0x82db83[_0x42cabf(0x5c0)]['id']},_0x32d48a=_0x180033['chatLog'][_0x42cabf(0x75b)];Object[_0x42cabf(0x432)](_0x32d48a,_0x33935f),_0x180033[_0x42cabf(0x26f)][_0x42cabf(0x75b)]=_0x32d48a,this[_0x42cabf(0x68c)](_0x180033,_0x4dd1b5,_0xb8e0f4);}else{let _0x2d651e={'error':!0x0};this[_0x42cabf(0x68c)](_0x180033,_0x4dd1b5,_0x2d651e),this['logger'][_0x42cabf(0x54e)](this['instanceName']+'\x20('+this[_0x42cabf(0x17a)][_0x42cabf(0x164)]+_0x42cabf(0x24d));}}catch(_0x31db19){let _0x45876c={'error':!0x0,'errorLog':_0x31db19[_0x42cabf(0x3eb)]()};this[_0x42cabf(0x68c)](_0x180033,_0x4dd1b5,_0x45876c),this['logger'][_0x42cabf(0x54e)](this[_0x42cabf(0x523)]+'\x20('+this[_0x42cabf(0x17a)][_0x42cabf(0x164)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x31db19 instanceof Error?_0x31db19[_0x42cabf(0x711)]:JSON[_0x42cabf(0x2db)](_0x31db19,null,0x2)));}}async[a0_0x313677(0x2d1)](_0x45d665,_0x541459){const _0x389cf1=a0_0x313677;let _0x949ca7=_0x45d665[_0x389cf1(0x594)];_0x541459['uazapi'][_0x389cf1(0x594)]&&_0x541459[_0x389cf1(0x185)][_0x389cf1(0x594)]['trim']()!==''&&(_0x949ca7=_0x541459[_0x389cf1(0x185)]['remoteJid']['trim']()),this[_0x389cf1(0x167)][_0x389cf1(0x644)](this[_0x389cf1(0x523)]+'\x20('+this[_0x389cf1(0x17a)][_0x389cf1(0x164)]+_0x389cf1(0x189));let _0x719b9a={'number':_0x949ca7,'options':{'delay':_0x541459[_0x389cf1(0x185)][_0x389cf1(0x3f4)]},'mediaMessage':{'mediatype':_0x541459[_0x389cf1(0x185)][_0x389cf1(0x1f3)],'caption':_0x541459[_0x389cf1(0x185)]['caption'],'media':_0x541459[_0x389cf1(0x185)][_0x389cf1(0x273)],'fileName':_0x541459['uazapi'][_0x389cf1(0x375)]}};try{let _0x49e9b6=await this[_0x389cf1(0x59d)](_0x719b9a);if(_0x49e9b6){let _0x163ee5={'_id':_0x49e9b6['key']['id'],'_fromMe':_0x49e9b6[_0x389cf1(0x5c0)]['fromMe'],'_remoteJid':_0x49e9b6[_0x389cf1(0x5c0)][_0x389cf1(0x594)]};_0x45d665[_0x389cf1(0x26f)][_0x389cf1(0x634)]=_0x541459[_0x389cf1(0x510)][_0x389cf1(0x3eb)]();let {message_normalized:_0x528cca}=this[_0x389cf1(0x549)](_0x49e9b6[_0x389cf1(0x711)],$(_0x49e9b6[_0x389cf1(0x711)]),null);_0x45d665[_0x389cf1(0x26f)]['lastSendMessage']=await _0x528cca;let _0x5d1297={'messageId':_0x49e9b6[_0x389cf1(0x5c0)]['id']},_0x3485d1=_0x45d665['chatLog'][_0x389cf1(0x75b)];Object[_0x389cf1(0x432)](_0x3485d1,_0x163ee5),_0x45d665['chatLog'][_0x389cf1(0x75b)]=_0x3485d1,this['updateConversation'](_0x45d665,_0x541459,_0x5d1297);}else{let _0x26e6e0={'error':!0x0};this[_0x389cf1(0x68c)](_0x45d665,_0x541459,_0x26e6e0),this[_0x389cf1(0x167)]['error'](this[_0x389cf1(0x523)]+'\x20('+this[_0x389cf1(0x17a)][_0x389cf1(0x164)]+_0x389cf1(0x57b));}}catch(_0xc50ac7){let _0x3161d3={'error':!0x0,'errorLog':_0xc50ac7['toString']()};this[_0x389cf1(0x68c)](_0x45d665,_0x541459,_0x3161d3),this[_0x389cf1(0x167)]['error'](this[_0x389cf1(0x523)]+'\x20('+this[_0x389cf1(0x17a)][_0x389cf1(0x164)]+_0x389cf1(0x3aa)+(_0xc50ac7 instanceof Error?_0xc50ac7[_0x389cf1(0x711)]:JSON[_0x389cf1(0x2db)](_0xc50ac7,null,0x2)));}}async['uazapiSendLocation'](_0x34897d,_0x4d9d26){const _0x2a099b=a0_0x313677;let _0x1e5ae8=_0x34897d['remoteJid'];_0x4d9d26[_0x2a099b(0x185)]['remoteJid']&&_0x4d9d26[_0x2a099b(0x185)]['remoteJid']['trim']()!==''&&(_0x1e5ae8=_0x4d9d26[_0x2a099b(0x185)][_0x2a099b(0x594)][_0x2a099b(0x5b7)]()),this[_0x2a099b(0x167)][_0x2a099b(0x644)](this['instanceName']+'\x20('+this[_0x2a099b(0x17a)][_0x2a099b(0x164)]+_0x2a099b(0x692));let _0x25c658={'number':_0x1e5ae8,'options':{'delay':_0x4d9d26[_0x2a099b(0x185)]['delay']},'locationMessage':{'name':_0x4d9d26[_0x2a099b(0x185)][_0x2a099b(0x4af)],'address':_0x4d9d26[_0x2a099b(0x185)][_0x2a099b(0x394)],'latitude':_0x4d9d26['uazapi'][_0x2a099b(0x4ae)],'longitude':_0x4d9d26[_0x2a099b(0x185)][_0x2a099b(0x32e)]}};try{let _0x23bc5c=await this[_0x2a099b(0x5e5)](_0x25c658);if(_0x23bc5c){let _0x4cf9f0={'_id':_0x23bc5c[_0x2a099b(0x5c0)]['id'],'_fromMe':_0x23bc5c[_0x2a099b(0x5c0)][_0x2a099b(0x154)],'_remoteJid':_0x23bc5c[_0x2a099b(0x5c0)][_0x2a099b(0x594)]};_0x34897d[_0x2a099b(0x26f)][_0x2a099b(0x634)]=_0x4d9d26['_id']['toString']();let {message_normalized:_0x4cd3dc}=this[_0x2a099b(0x549)](_0x23bc5c[_0x2a099b(0x711)],$(_0x23bc5c[_0x2a099b(0x711)]),null);_0x34897d['chatLog'][_0x2a099b(0x6f5)]=await _0x4cd3dc;let _0x2d3684={'messageId':_0x23bc5c['key']['id']},_0x3e5dfb=_0x34897d[_0x2a099b(0x26f)][_0x2a099b(0x75b)];Object[_0x2a099b(0x432)](_0x3e5dfb,_0x4cf9f0),_0x34897d[_0x2a099b(0x26f)][_0x2a099b(0x75b)]=_0x3e5dfb,this[_0x2a099b(0x68c)](_0x34897d,_0x4d9d26,_0x2d3684);}else{let _0x55248b={'error':!0x0};this[_0x2a099b(0x68c)](_0x34897d,_0x4d9d26,_0x55248b),this['logger']['error'](this['instanceName']+'\x20('+this[_0x2a099b(0x17a)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x5e328b){let _0xdf7c7={'error':!0x0,'errorLog':_0x5e328b[_0x2a099b(0x3eb)]()};this[_0x2a099b(0x68c)](_0x34897d,_0x4d9d26,_0xdf7c7),this[_0x2a099b(0x167)][_0x2a099b(0x54e)](this[_0x2a099b(0x523)]+'\x20('+this[_0x2a099b(0x17a)][_0x2a099b(0x164)]+_0x2a099b(0x526)+(_0x5e328b instanceof Error?_0x5e328b['message']:JSON[_0x2a099b(0x2db)](_0x5e328b,null,0x2)));}}async['uazapiSendAudio'](_0x523c23,_0x3c639e){const _0x3ab962=a0_0x313677;let _0x4c2300=_0x523c23[_0x3ab962(0x594)];_0x3c639e[_0x3ab962(0x185)][_0x3ab962(0x594)]&&_0x3c639e['uazapi'][_0x3ab962(0x594)][_0x3ab962(0x5b7)]()!==''&&(_0x4c2300=_0x3c639e[_0x3ab962(0x185)][_0x3ab962(0x594)]['trim']()),this[_0x3ab962(0x167)][_0x3ab962(0x644)](this[_0x3ab962(0x523)]+'\x20('+this[_0x3ab962(0x17a)][_0x3ab962(0x164)]+_0x3ab962(0x5ef));let _0x4e1869={'number':_0x4c2300,'options':{'delay':_0x3c639e[_0x3ab962(0x185)][_0x3ab962(0x3f4)]},'audioMessage':{'audio':_0x3c639e[_0x3ab962(0x185)]['audio']}};try{let _0x100e8f=await this[_0x3ab962(0x4eb)](_0x4e1869);if(_0x100e8f){let _0x3f2c38={'_id':_0x100e8f[_0x3ab962(0x5c0)]['id'],'_fromMe':_0x100e8f[_0x3ab962(0x5c0)][_0x3ab962(0x154)],'_remoteJid':_0x100e8f[_0x3ab962(0x5c0)]['remoteJid']};_0x523c23[_0x3ab962(0x26f)][_0x3ab962(0x634)]=_0x3c639e['_id'][_0x3ab962(0x3eb)]();let {message_normalized:_0x1beaf8}=this[_0x3ab962(0x549)](_0x100e8f[_0x3ab962(0x711)],$(_0x100e8f['message']),null);_0x523c23['chatLog'][_0x3ab962(0x6f5)]=await _0x1beaf8;let _0x30ef22={'messageId':_0x100e8f[_0x3ab962(0x5c0)]['id']},_0x27c5dc=_0x523c23['chatLog'][_0x3ab962(0x75b)];Object['assign'](_0x27c5dc,_0x3f2c38),_0x523c23[_0x3ab962(0x26f)][_0x3ab962(0x75b)]=_0x27c5dc,this[_0x3ab962(0x68c)](_0x523c23,_0x3c639e,_0x30ef22);}else{let _0x3fb3b6={'error':!0x0};this[_0x3ab962(0x68c)](_0x523c23,_0x3c639e,_0x3fb3b6),this[_0x3ab962(0x167)]['error'](this[_0x3ab962(0x523)]+'\x20('+this[_0x3ab962(0x17a)][_0x3ab962(0x164)]+_0x3ab962(0x30f));}}catch(_0x41add3){let _0x495baa={'error':!0x0,'errorLog':_0x41add3[_0x3ab962(0x3eb)]()};this[_0x3ab962(0x68c)](_0x523c23,_0x3c639e,_0x495baa),this[_0x3ab962(0x167)]['error'](this['instanceName']+'\x20('+this[_0x3ab962(0x17a)][_0x3ab962(0x164)]+_0x3ab962(0x6fa)+(_0x41add3 instanceof Error?_0x41add3[_0x3ab962(0x711)]:JSON[_0x3ab962(0x2db)](_0x41add3,null,0x2)));}}async['uazapiSendContact'](_0x4dfafe,_0x5a72df){const _0x25ef37=a0_0x313677;let _0x1c1ea7=_0x4dfafe[_0x25ef37(0x594)];_0x5a72df['uazapi'][_0x25ef37(0x594)]&&_0x5a72df['uazapi'][_0x25ef37(0x594)][_0x25ef37(0x5b7)]()!==''&&(_0x1c1ea7=_0x5a72df[_0x25ef37(0x185)][_0x25ef37(0x594)][_0x25ef37(0x5b7)]()),this['logger'][_0x25ef37(0x644)](this[_0x25ef37(0x523)]+'\x20('+this['instance'][_0x25ef37(0x164)]+_0x25ef37(0x6ff));let _0x324142={'number':_0x1c1ea7,'options':{'delay':_0x5a72df[_0x25ef37(0x185)][_0x25ef37(0x3f4)]},'contactMessage':[{'fullName':_0x5a72df[_0x25ef37(0x185)][_0x25ef37(0x72c)],'phoneNumber':_0x5a72df[_0x25ef37(0x185)][_0x25ef37(0x6be)]}]};try{let _0x3e7f0d=await this[_0x25ef37(0x1ca)](_0x324142);if(_0x3e7f0d){let _0x538790={'_id':_0x3e7f0d['key']['id'],'_fromMe':_0x3e7f0d[_0x25ef37(0x5c0)][_0x25ef37(0x154)],'_remoteJid':_0x3e7f0d['key']['remoteJid']};_0x4dfafe['chatLog'][_0x25ef37(0x634)]=_0x5a72df['_id'][_0x25ef37(0x3eb)]();let {message_normalized:_0x342ff2}=this[_0x25ef37(0x549)](_0x3e7f0d[_0x25ef37(0x711)],$(_0x3e7f0d['message']),null);_0x4dfafe[_0x25ef37(0x26f)][_0x25ef37(0x6f5)]=await _0x342ff2;let _0x4b0906={'messageId':_0x3e7f0d[_0x25ef37(0x5c0)]['id']},_0x48cf37=_0x4dfafe[_0x25ef37(0x26f)][_0x25ef37(0x75b)];Object[_0x25ef37(0x432)](_0x48cf37,_0x538790),_0x4dfafe[_0x25ef37(0x26f)][_0x25ef37(0x75b)]=_0x48cf37,this[_0x25ef37(0x68c)](_0x4dfafe,_0x5a72df,_0x4b0906);}else{let _0x5ea1a6={'error':!0x0};this[_0x25ef37(0x68c)](_0x4dfafe,_0x5a72df,_0x5ea1a6),this[_0x25ef37(0x167)][_0x25ef37(0x54e)](this[_0x25ef37(0x523)]+'\x20('+this[_0x25ef37(0x17a)]['wuid']+_0x25ef37(0x1af));}}catch(_0x4b4a36){let _0x24e6f8={'error':!0x0,'errorLog':_0x4b4a36[_0x25ef37(0x3eb)]()};this[_0x25ef37(0x68c)](_0x4dfafe,_0x5a72df,_0x24e6f8),this['logger'][_0x25ef37(0x54e)](this[_0x25ef37(0x523)]+'\x20('+this['instance']['wuid']+_0x25ef37(0x292)+(_0x4b4a36 instanceof Error?_0x4b4a36[_0x25ef37(0x711)]:JSON[_0x25ef37(0x2db)](_0x4b4a36,null,0x2)));}}[a0_0x313677(0x21c)](_0x13a629,_0x50795f){const _0x2b6485=a0_0x313677;for(let _0x48caee of _0x13a629)_0x48caee['option']&&(_0x48caee[_0x2b6485(0x17b)]=this[_0x2b6485(0x68e)](_0x48caee[_0x2b6485(0x17b)],_0x50795f)),_0x48caee['optionDescription']&&(_0x48caee[_0x2b6485(0x29b)]=this[_0x2b6485(0x68e)](_0x48caee[_0x2b6485(0x29b)],_0x50795f));}async['uazapiSendMenu'](_0x20d5f4,_0x56d10b){const _0x2c7e2b=a0_0x313677;let _0x5bfef2=_0x20d5f4[_0x2c7e2b(0x594)];_0x56d10b[_0x2c7e2b(0x185)]['remoteJid']&&_0x56d10b[_0x2c7e2b(0x185)][_0x2c7e2b(0x594)][_0x2c7e2b(0x5b7)]()!==''&&(_0x5bfef2=_0x56d10b['uazapi'][_0x2c7e2b(0x594)]['trim']()),this['logger'][_0x2c7e2b(0x644)](this[_0x2c7e2b(0x523)]+'\x20('+this[_0x2c7e2b(0x17a)][_0x2c7e2b(0x164)]+_0x2c7e2b(0x79a));let _0x40ce8a=_0x20d5f4[_0x2c7e2b(0x2c8)][_0x2c7e2b(0x39d)](_0x4f9d66=>_0x4f9d66['blockId']===_0x56d10b[_0x2c7e2b(0x510)])[_0x2c7e2b(0x312)]((_0x3fd226,_0x3a8223)=>_0x3fd226[_0x2c7e2b(0x459)]-_0x3a8223[_0x2c7e2b(0x459)]);this[_0x2c7e2b(0x21c)](_0x40ce8a,_0x20d5f4[_0x2c7e2b(0x26f)]['realVariables']);let _0x1683c6=_0x40ce8a[_0x2c7e2b(0x217)](_0x4fe24c=>_0x4fe24c[_0x2c7e2b(0x17b)]),_0x10e576={'number':_0x5bfef2,'menuMessage':{'type':_0x56d10b[_0x2c7e2b(0x185)]['menuType']||_0x2c7e2b(0x4f8),'text':_0x56d10b['uazapi']['text']||_0x56d10b[_0x2c7e2b(0x185)]['name'],'footerText':_0x56d10b[_0x2c7e2b(0x185)]['footerText'],'buttonText':_0x56d10b[_0x2c7e2b(0x185)][_0x2c7e2b(0x339)],'selectableCount':0x1,'choices':_0x1683c6},'options':{'delay':_0x56d10b['uazapi'][_0x2c7e2b(0x3f4)]}};try{let _0x180eaa=await this[_0x2c7e2b(0x323)](_0x10e576);if(_0x180eaa){let _0x34d2f2={'_id':_0x180eaa['key']['id'],'_fromMe':_0x180eaa[_0x2c7e2b(0x5c0)][_0x2c7e2b(0x154)],'_remoteJid':_0x180eaa[_0x2c7e2b(0x5c0)][_0x2c7e2b(0x594)]};_0x56d10b['uazapi'][_0x2c7e2b(0x35c)]===!0x0&&(_0x20d5f4[_0x2c7e2b(0x57d)]=_0x2c7e2b(0x702),this[_0x2c7e2b(0x167)]['verbose'](this[_0x2c7e2b(0x523)]+'\x20('+this[_0x2c7e2b(0x17a)]['wuid']+_0x2c7e2b(0x482)+_0x20d5f4['status'])),this[_0x2c7e2b(0x167)][_0x2c7e2b(0x644)](this[_0x2c7e2b(0x523)]+'\x20('+this[_0x2c7e2b(0x17a)][_0x2c7e2b(0x164)]+'):\x20nextBlock.uazapi.name'+(_0x56d10b[_0x2c7e2b(0x185)][_0x2c7e2b(0x4af)]||_0x56d10b[_0x2c7e2b(0x185)][_0x2c7e2b(0x37a)])),_0x20d5f4[_0x2c7e2b(0x28b)]=_0x180eaa['key']['id'],_0x20d5f4[_0x2c7e2b(0x222)]=_0x56d10b[_0x2c7e2b(0x185)][_0x2c7e2b(0x4af)]||_0x56d10b[_0x2c7e2b(0x185)][_0x2c7e2b(0x37a)],_0x20d5f4['waitingMenu_replyOptions']=_0x40ce8a,_0x56d10b[_0x2c7e2b(0x185)][_0x2c7e2b(0x2ed)]&&(_0x20d5f4['waitingMenu_ExpiredMessage']=_0x56d10b[_0x2c7e2b(0x185)]['menuExpiredMessage']),this[_0x2c7e2b(0x167)][_0x2c7e2b(0x644)](this['instanceName']+'\x20('+this[_0x2c7e2b(0x17a)][_0x2c7e2b(0x164)]+_0x2c7e2b(0x1e3)+_0x20d5f4[_0x2c7e2b(0x222)]),_0x20d5f4['chatLog'][_0x2c7e2b(0x634)]=_0x56d10b[_0x2c7e2b(0x510)][_0x2c7e2b(0x3eb)]();let {message_normalized:_0x1c7b5e}=this['normalizeMessage'](_0x180eaa['message'],$(_0x180eaa['message']),null);_0x20d5f4[_0x2c7e2b(0x26f)][_0x2c7e2b(0x6f5)]=await _0x1c7b5e;let _0x493f5f={'messageId':_0x180eaa[_0x2c7e2b(0x5c0)]['id']},_0xe650c6=_0x20d5f4[_0x2c7e2b(0x26f)][_0x2c7e2b(0x75b)];Object['assign'](_0xe650c6,_0x34d2f2),_0x20d5f4[_0x2c7e2b(0x26f)]['realVariables']=_0xe650c6,this['updateConversation'](_0x20d5f4,_0x56d10b,_0x493f5f);}else{let _0x485117={'error':!0x0};this[_0x2c7e2b(0x68c)](_0x20d5f4,_0x56d10b,_0x485117),this[_0x2c7e2b(0x167)]['error'](this[_0x2c7e2b(0x523)]+'\x20('+this[_0x2c7e2b(0x17a)]['wuid']+_0x2c7e2b(0x40d));}}catch(_0xf19bc4){let _0x2e5046={'error':!0x0,'errorLog':_0xf19bc4 instanceof Error?_0xf19bc4[_0x2c7e2b(0x711)]:JSON[_0x2c7e2b(0x2db)](_0xf19bc4,null,0x2)};this[_0x2c7e2b(0x68c)](_0x20d5f4,_0x56d10b,_0x2e5046),this[_0x2c7e2b(0x167)][_0x2c7e2b(0x54e)](this[_0x2c7e2b(0x523)]+'\x20('+this['instance']['wuid']+_0x2c7e2b(0x42e)+(_0xf19bc4 instanceof Error?_0xf19bc4['message']:JSON[_0x2c7e2b(0x2db)](_0xf19bc4,null,0x2)));}}async[a0_0x313677(0x5d7)](_0x4529e1,_0x25ffb6){const _0x42f3fc=a0_0x313677;this[_0x42f3fc(0x167)][_0x42f3fc(0x644)](this[_0x42f3fc(0x523)]+'\x20('+this['instance']['wuid']+'):\x20Deletando\x20mensagem');let _0x2953d0=_0x4529e1[_0x42f3fc(0x26f)]['blockLogs']['find'](_0x232e52=>_0x232e52[_0x42f3fc(0x279)]['toString']()===_0x25ffb6[_0x42f3fc(0x185)][_0x42f3fc(0x279)][_0x42f3fc(0x3eb)]()),_0x16341a={'id':_0x2953d0[_0x42f3fc(0x3f5)],'remoteJid':_0x2953d0[_0x42f3fc(0x594)],'fromMe':_0x2953d0[_0x42f3fc(0x154)]};try{let _0xdbeb31=await this[_0x42f3fc(0x502)](_0x16341a);if(_0xdbeb31){_0x4529e1['chatLog'][_0x42f3fc(0x634)]=_0x25ffb6[_0x42f3fc(0x510)][_0x42f3fc(0x3eb)]();let {message_normalized:_0x5abfa2}=this[_0x42f3fc(0x549)](_0xdbeb31['message'],$(_0xdbeb31[_0x42f3fc(0x711)]),null);_0x4529e1['chatLog']['lastSendMessage']=await _0x5abfa2;let _0x274ccb={};this[_0x42f3fc(0x68c)](_0x4529e1,_0x25ffb6,_0x274ccb);}else{let _0x4522c4={'error':!0x0};this['updateConversation'](_0x4529e1,_0x25ffb6,_0x4522c4),this[_0x42f3fc(0x167)][_0x42f3fc(0x54e)](this[_0x42f3fc(0x523)]+'\x20('+this[_0x42f3fc(0x17a)][_0x42f3fc(0x164)]+_0x42f3fc(0x755));}}catch(_0x2c27b6){let _0x409f9b={'error':!0x0,'errorLog':_0x2c27b6 instanceof Error?_0x2c27b6[_0x42f3fc(0x711)]:JSON[_0x42f3fc(0x2db)](_0x2c27b6,null,0x2)};this[_0x42f3fc(0x68c)](_0x4529e1,_0x25ffb6,_0x409f9b),this[_0x42f3fc(0x167)][_0x42f3fc(0x54e)](this[_0x42f3fc(0x523)]+'\x20('+this[_0x42f3fc(0x17a)][_0x42f3fc(0x164)]+_0x42f3fc(0x16a)+(_0x2c27b6 instanceof Error?_0x2c27b6[_0x42f3fc(0x711)]:JSON[_0x42f3fc(0x2db)](_0x2c27b6,null,0x2)));}}async[a0_0x313677(0x5c7)](_0x13cb24){const _0x4fd614=a0_0x313677;try{if(this['logger']['verbose'](this[_0x4fd614(0x523)]+'\x20('+this['instance']['wuid']+_0x4fd614(0x409)),await this[_0x4fd614(0x5b2)][_0x4fd614(0x2bb)][_0x4fd614(0x330)]({'where':{'name':_0x13cb24[_0x4fd614(0x4af)]}},this[_0x4fd614(0x17a)][_0x4fd614(0x164)]))return{'message':_0x4fd614(0x53c)};_0x13cb24[_0x4fd614(0x175)]===!0x0&&await this[_0x4fd614(0x5b2)][_0x4fd614(0x2bb)][_0x4fd614(0x4aa)]({},{'default':!0x1},this[_0x4fd614(0x17a)][_0x4fd614(0x164)]);let _0x339c39=new ie[(_0x4fd614(0x32c))][(_0x4fd614(0x3a6))](),_0x19fcd9={'_id':_0x339c39,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x28b809={'_id':new ie['Types']['ObjectId'](),'order':0x1,'groupId':_0x339c39[_0x4fd614(0x3eb)](),'type':'start'},_0x35f659={'_id':new ie[(_0x4fd614(0x32c))][(_0x4fd614(0x3a6))](),'owner':this[_0x4fd614(0x17a)][_0x4fd614(0x164)],'name':_0x13cb24['name'],'groups':[_0x19fcd9],'blocks':[_0x28b809],..._0x13cb24};return _0x35f659=await this[_0x4fd614(0x5b2)][_0x4fd614(0x2bb)][_0x4fd614(0x77d)](_0x35f659,this[_0x4fd614(0x17a)]['wuid']),_0x35f659;}catch(_0x4fd488){throw this[_0x4fd614(0x167)][_0x4fd614(0x54e)](this[_0x4fd614(0x523)]+'\x20('+this[_0x4fd614(0x17a)][_0x4fd614(0x164)]+'):\x20Erro\x20ao\x20criar\x20fluxo\x20'+(_0x4fd488 instanceof Error?_0x4fd488[_0x4fd614(0x711)]:JSON['stringify'](_0x4fd488,null,0x2))),new m(_0x4fd614(0x5e8)+_0x4fd488);}}async['deleteFlow'](_0x55538a){const _0x14dc53=a0_0x313677;try{return this[_0x14dc53(0x167)][_0x14dc53(0x644)](this[_0x14dc53(0x523)]+'\x20('+this[_0x14dc53(0x17a)][_0x14dc53(0x164)]+'):\x20Deletando\x20fluxo...'),await this[_0x14dc53(0x5b2)][_0x14dc53(0x2bb)][_0x14dc53(0x2ab)]({'where':{'name':_0x55538a}},this['instance'][_0x14dc53(0x164)]);}catch(_0x49f00f){return this[_0x14dc53(0x167)][_0x14dc53(0x54e)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x14dc53(0x6c6)+(_0x49f00f instanceof Error?_0x49f00f[_0x14dc53(0x711)]:JSON[_0x14dc53(0x2db)](_0x49f00f,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x49f00f};}}async[a0_0x313677(0x193)](_0x43da3c){const _0x47f03f=a0_0x313677;try{this[_0x47f03f(0x167)][_0x47f03f(0x644)](this[_0x47f03f(0x523)]+'\x20('+this['instance'][_0x47f03f(0x164)]+_0x47f03f(0x789));let _0x14930b=await this[_0x47f03f(0x5b2)]['flow'][_0x47f03f(0x330)]({'where':{'name':_0x43da3c}},this['instance']['wuid']);if(!_0x14930b)throw new Error(_0x47f03f(0x67e));if(!this[_0x47f03f(0x6d3)]&&(await this[_0x47f03f(0x6b6)](),!this[_0x47f03f(0x6d3)]))return null;let _0x59b589=this[_0x47f03f(0x6d3)]?.[_0x47f03f(0x21f)][_0x47f03f(0x217)](_0x589ad8=>_0x589ad8[_0x47f03f(0x4af)]),_0x2838d3=[_0x47f03f(0x718),_0x47f03f(0x3a4),_0x47f03f(0x5fa),'cpf',_0x47f03f(0x57d),_0x47f03f(0x584),_0x47f03f(0x4c6),'tags','etiquetas'];_0x14930b[_0x47f03f(0x209)]=_0x14930b[_0x47f03f(0x209)]['filter'](_0x1e1d53=>!(_0x1e1d53['folder']===_0x47f03f(0x27d)||_0x1e1d53[_0x47f03f(0x27d)])),_0x2838d3[_0x47f03f(0x6c9)](_0x20b0d7=>{const _0x29cff4=_0x47f03f;_0x14930b[_0x29cff4(0x209)][_0x29cff4(0x64c)]({'folder':'leadInfo','name':_0x20b0d7,'value':'','doc':'','leadInfo':!0x0});}),_0x59b589[_0x47f03f(0x6c9)](_0x503a8b=>{const _0x519a8d=_0x47f03f;let _0x531f4a=_0x14930b[_0x519a8d(0x209)]['findIndex'](_0x17c89e=>_0x17c89e['name']===_0x503a8b);_0x531f4a===-0x1?_0x14930b[_0x519a8d(0x209)]['push']({'folder':_0x519a8d(0x27d),'name':_0x503a8b,'value':'','doc':'','leadInfo':!0x0}):(_0x14930b[_0x519a8d(0x209)][_0x531f4a][_0x519a8d(0x562)]=_0x519a8d(0x27d),_0x14930b[_0x519a8d(0x209)][_0x531f4a][_0x519a8d(0x27d)]=!0x0);}),_0x14930b[_0x47f03f(0x1e0)]&&_0x14930b[_0x47f03f(0x1e0)][_0x47f03f(0x1c3)]>0x0&&_0x14930b[_0x47f03f(0x1e0)]['forEach'](_0x2996cf=>{const _0x302fdd=_0x47f03f;_0x2996cf[_0x302fdd(0x5e0)]&&_0x2996cf[_0x302fdd(0x668)]&&_0x2996cf[_0x302fdd(0x5e0)]===_0x2996cf[_0x302fdd(0x668)]&&(_0x2996cf[_0x302fdd(0x668)]=null);});let _0x1b24d8=await this[_0x47f03f(0x5b2)][_0x47f03f(0x2bb)]['updateOne'](_0x14930b[_0x47f03f(0x510)],_0x14930b,this[_0x47f03f(0x17a)][_0x47f03f(0x164)]);if(!_0x1b24d8)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1b24d8;}catch(_0x5793bc){throw this[_0x47f03f(0x167)][_0x47f03f(0x54e)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x5793bc instanceof Error?_0x5793bc['message']:JSON[_0x47f03f(0x2db)](_0x5793bc,null,0x2))),new m('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x5793bc);}}async[a0_0x313677(0x152)](){const _0x1921e4=a0_0x313677;try{return this[_0x1921e4(0x167)][_0x1921e4(0x644)](this['instanceName']+'\x20('+this['instance'][_0x1921e4(0x164)]+_0x1921e4(0x740)),await this[_0x1921e4(0x5b2)][_0x1921e4(0x2bb)][_0x1921e4(0x153)]({'where':{}},this['instance'][_0x1921e4(0x164)]);}catch(_0x44de54){return this[_0x1921e4(0x167)]['error'](this[_0x1921e4(0x523)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x44de54 instanceof Error?_0x44de54[_0x1921e4(0x711)]:JSON[_0x1921e4(0x2db)](_0x44de54,null,0x2))),{'message':_0x1921e4(0x2c6)+_0x44de54};}}async['editFlow'](_0x2d23fc){const _0x43b899=a0_0x313677;try{this['logger'][_0x43b899(0x644)](this[_0x43b899(0x523)]+'\x20('+this[_0x43b899(0x17a)][_0x43b899(0x164)]+_0x43b899(0x781));let _0x480d87=await this['repository'][_0x43b899(0x2bb)]['findOne']({'where':{'name':_0x2d23fc[_0x43b899(0x4af)]}},this['instance'][_0x43b899(0x164)]);return _0x480d87?(_0x2d23fc[_0x43b899(0x175)]===!0x0&&await this['repository'][_0x43b899(0x2bb)][_0x43b899(0x4aa)]({},{'default':!0x1},this[_0x43b899(0x17a)][_0x43b899(0x164)]),await this[_0x43b899(0x5b2)][_0x43b899(0x2bb)][_0x43b899(0x471)](_0x480d87['_id'],_0x2d23fc,this[_0x43b899(0x17a)][_0x43b899(0x164)])):{'message':_0x43b899(0x1ff)};}catch(_0x512e1e){throw this['logger'][_0x43b899(0x54e)](this[_0x43b899(0x523)]+'\x20('+this[_0x43b899(0x17a)][_0x43b899(0x164)]+_0x43b899(0x5d5)+(_0x512e1e instanceof Error?_0x512e1e[_0x43b899(0x711)]:JSON[_0x43b899(0x2db)](_0x512e1e,null,0x2))),new m(_0x43b899(0x3dd)+(_0x512e1e instanceof Error?_0x512e1e['message']:JSON[_0x43b899(0x2db)](_0x512e1e,null,0x2)));}}async[a0_0x313677(0x316)](_0x5cae8){const _0x31153b=a0_0x313677;try{this[_0x31153b(0x167)][_0x31153b(0x644)](this['instanceName']+'\x20('+this['instance'][_0x31153b(0x164)]+_0x31153b(0x2ac));let _0x55efcd=await this[_0x31153b(0x5b2)][_0x31153b(0x2bb)]['findOne']({'where':{'name':_0x5cae8[_0x31153b(0x4af)]}},this[_0x31153b(0x17a)][_0x31153b(0x164)]);_0x55efcd||this['throwAndLogError'](_0x31153b(0x67e));let {block:_0x1bcd2f}=_0x5cae8;_0x1bcd2f?.[_0x31153b(0x2da)]?this[_0x31153b(0x67a)](_0x55efcd,_0x5cae8):_0x1bcd2f?.['delete']?this[_0x31153b(0x46a)](_0x55efcd,_0x5cae8):_0x1bcd2f[_0x31153b(0x510)]?await this[_0x31153b(0x69b)](_0x55efcd,_0x5cae8):this['addBlock'](_0x55efcd,_0x5cae8);let _0x5afc51=await this[_0x31153b(0x5b2)][_0x31153b(0x2bb)][_0x31153b(0x471)](_0x55efcd[_0x31153b(0x510)],_0x55efcd,this['instance'][_0x31153b(0x164)]);if(!_0x5afc51)throw new Error(_0x31153b(0x5e9));return _0x5afc51;}catch(_0x256c9e){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x256c9e);}}async[a0_0x313677(0x67a)](_0x3f5110,_0x3163cf){const _0x2524a4=a0_0x313677;let _0x387d8b=_0x3163cf[_0x2524a4(0x2b4)][_0x2524a4(0x510)],_0x24d90c=_0x3f5110[_0x2524a4(0x1e0)]['find'](_0x20b42e=>_0x20b42e[_0x2524a4(0x510)][_0x2524a4(0x3eb)]()===_0x387d8b);if(!_0x24d90c){this['logger'][_0x2524a4(0x54e)](this['instanceName']+'\x20('+this[_0x2524a4(0x17a)][_0x2524a4(0x164)]+_0x2524a4(0x726)+_0x387d8b+_0x2524a4(0x62b));return;}this[_0x2524a4(0x167)][_0x2524a4(0x644)](this[_0x2524a4(0x523)]+'\x20('+this[_0x2524a4(0x17a)][_0x2524a4(0x164)]+_0x2524a4(0x33f)+JSON[_0x2524a4(0x2db)](_0x24d90c));let _0x10c083=JSON[_0x2524a4(0x42b)](JSON[_0x2524a4(0x2db)](_0x24d90c));_0x10c083[_0x2524a4(0x510)]=new ie['default'][(_0x2524a4(0x32c))][(_0x2524a4(0x3a6))](),this[_0x2524a4(0x167)][_0x2524a4(0x644)](this[_0x2524a4(0x523)]+'\x20('+this[_0x2524a4(0x17a)]['wuid']+_0x2524a4(0x1e7)+JSON[_0x2524a4(0x2db)](_0x10c083)),_0x3f5110[_0x2524a4(0x1e0)][_0x2524a4(0x64c)](_0x10c083),this[_0x2524a4(0x14a)](_0x3f5110[_0x2524a4(0x1e0)],_0x10c083[_0x2524a4(0x5e0)]);}[a0_0x313677(0x1d3)](_0x3b8c28){const _0x2fd6f2=a0_0x313677;throw this[_0x2fd6f2(0x167)][_0x2fd6f2(0x54e)](this['instanceName']+'\x20('+this['instance'][_0x2fd6f2(0x164)]+_0x2fd6f2(0x4a7)+_0x3b8c28),new m(_0x3b8c28);}[a0_0x313677(0x46a)](_0x5c794c,_0x27f522){const _0xfcc7e1=a0_0x313677;let {block:_0x4d0364}=_0x27f522;if(_0x4d0364[_0xfcc7e1(0x4f9)]==='start'){this[_0xfcc7e1(0x1d3)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x4d0364[_0xfcc7e1(0x510)]){this[_0xfcc7e1(0x1d3)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x5248a2=_0x5c794c['blocks'][_0xfcc7e1(0x144)](_0x6366d7=>_0x6366d7[_0xfcc7e1(0x510)][_0xfcc7e1(0x3eb)]()===_0x27f522['block'][_0xfcc7e1(0x510)][_0xfcc7e1(0x3eb)]());if(!_0x5248a2){this[_0xfcc7e1(0x1d3)](_0xfcc7e1(0x70f)+_0x4d0364[_0xfcc7e1(0x510)]+_0xfcc7e1(0x63c));return;}_0x5c794c['blocks']=_0x5c794c[_0xfcc7e1(0x1e0)][_0xfcc7e1(0x39d)](_0x1e46db=>_0x1e46db[_0xfcc7e1(0x510)][_0xfcc7e1(0x3eb)]()!==_0x27f522[_0xfcc7e1(0x2b4)][_0xfcc7e1(0x510)][_0xfcc7e1(0x3eb)]()),_0x5c794c[_0xfcc7e1(0x69f)]=_0x5c794c[_0xfcc7e1(0x69f)]['filter'](_0x8e58f4=>_0x8e58f4[_0xfcc7e1(0x279)]!==_0x4d0364[_0xfcc7e1(0x510)][_0xfcc7e1(0x3eb)]()),_0x5c794c[_0xfcc7e1(0x138)]=_0x5c794c[_0xfcc7e1(0x138)][_0xfcc7e1(0x39d)](_0x414616=>_0x414616[_0xfcc7e1(0x279)]!==_0x4d0364[_0xfcc7e1(0x510)][_0xfcc7e1(0x3eb)]()),_0x5c794c[_0xfcc7e1(0x2c8)]=_0x5c794c['replyOptions']['filter'](_0x342ea2=>_0x342ea2[_0xfcc7e1(0x279)]!==_0x4d0364[_0xfcc7e1(0x510)]['toString']()),this[_0xfcc7e1(0x14a)](_0x5c794c[_0xfcc7e1(0x1e0)],_0x5248a2[_0xfcc7e1(0x5e0)]);}async[a0_0x313677(0x69b)](_0x471ca5,_0x2053ca){const _0x4703d0=a0_0x313677;let _0x4bc082=_0x471ca5[_0x4703d0(0x1e0)]['findIndex'](_0x48a1ff=>_0x48a1ff['_id']['toString']()===_0x2053ca[_0x4703d0(0x2b4)]['_id'][_0x4703d0(0x3eb)]());if(this['logger'][_0x4703d0(0x644)](this[_0x4703d0(0x523)]+'\x20('+this[_0x4703d0(0x17a)]['wuid']+_0x4703d0(0x37b)+_0x4bc082),_0x4bc082===-0x1){this[_0x4703d0(0x167)][_0x4703d0(0x644)](_0x4703d0(0x70f)+_0x2053ca[_0x4703d0(0x2b4)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x471ca5[_0x4703d0(0x1e0)][_0x4bc082][_0x4703d0(0x4f9)]===_0x4703d0(0x6dc)){let _0x1f89e6=Object[_0x4703d0(0x72a)](_0x2053ca['block']);if(_0x1f89e6[_0x4703d0(0x1c3)]>0x2||_0x1f89e6[_0x4703d0(0x1c3)]===0x2&&!_0x1f89e6['includes'](_0x4703d0(0x668))){this[_0x4703d0(0x1d3)](_0x4703d0(0x265));return;}}let _0x4d80d9=_0x471ca5[_0x4703d0(0x1e0)][_0x4bc082][_0x4703d0(0x5e0)];for(let _0x3ac643 in _0x2053ca[_0x4703d0(0x2b4)])_0x2053ca[_0x4703d0(0x2b4)][_0x4703d0(0x180)](_0x3ac643)&&(_0x471ca5[_0x4703d0(0x1e0)][_0x4bc082][_0x3ac643]=_0x2053ca[_0x4703d0(0x2b4)][_0x3ac643]);if(this[_0x4703d0(0x167)][_0x4703d0(0x644)](this[_0x4703d0(0x523)]+'\x20('+this['instance'][_0x4703d0(0x164)]+_0x4703d0(0x23b)+JSON[_0x4703d0(0x2db)](_0x471ca5[_0x4703d0(0x1e0)][_0x4bc082])),_0x471ca5[_0x4703d0(0x1e0)][_0x4bc082][_0x4703d0(0x367)]&&_0x4703d0(0x14d)in _0x471ca5[_0x4703d0(0x1e0)][_0x4bc082]['apirequest']){this['logger'][_0x4703d0(0x644)](this[_0x4703d0(0x523)]+'\x20('+this[_0x4703d0(0x17a)][_0x4703d0(0x164)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x5c3499=JSON['stringify'](_0x471ca5[_0x4703d0(0x1e0)][_0x4bc082][_0x4703d0(0x367)][_0x4703d0(0x14d)],null,0x1);_0x5c3499[_0x4703d0(0x1c3)]>0x2&&(_0x5c3499=_0x5c3499['substring'](0x1,_0x5c3499[_0x4703d0(0x1c3)]-0x1)[_0x4703d0(0x5b7)]()),_0x471ca5[_0x4703d0(0x1e0)][_0x4bc082][_0x4703d0(0x367)][_0x4703d0(0x1b7)]=_0x5c3499;}if(_0x471ca5[_0x4703d0(0x1e0)][_0x4bc082][_0x4703d0(0x367)]&&_0x4703d0(0x6d1)in _0x471ca5[_0x4703d0(0x1e0)][_0x4bc082][_0x4703d0(0x367)]){this['logger']['verbose'](this[_0x4703d0(0x523)]+'\x20('+this['instance']['wuid']+_0x4703d0(0x1e5));let _0x3c862f=JSON[_0x4703d0(0x2db)](_0x471ca5[_0x4703d0(0x1e0)][_0x4bc082][_0x4703d0(0x367)][_0x4703d0(0x6d1)],null,0x1);_0x3c862f[_0x4703d0(0x1c3)]>0x2&&(_0x3c862f=_0x3c862f[_0x4703d0(0x6c5)](0x1,_0x3c862f[_0x4703d0(0x1c3)]-0x1)['trim']()),_0x471ca5[_0x4703d0(0x1e0)][_0x4bc082]['apirequest']['bodyString']=_0x3c862f;}let _0x1fd2ff=_0x471ca5['blocks'][_0x4bc082][_0x4703d0(0x5e0)];_0x4d80d9!==_0x1fd2ff?(this[_0x4703d0(0x14a)](_0x471ca5['blocks'],_0x4d80d9),this[_0x4703d0(0x14a)](_0x471ca5[_0x4703d0(0x1e0)],_0x1fd2ff)):this['reorderBlocks'](_0x471ca5['blocks'],_0x4d80d9);}['addBlock'](_0xb603cc,_0x51f9f9){const _0x3df558=a0_0x313677;if(_0x51f9f9[_0x3df558(0x2b4)][_0x3df558(0x4f9)]===_0x3df558(0x6dc)){this[_0x3df558(0x1d3)](_0x3df558(0x299));return;}if(_0x51f9f9[_0x3df558(0x2b4)][_0x3df558(0x367)]&&_0x3df558(0x14d)in _0x51f9f9[_0x3df558(0x2b4)][_0x3df558(0x367)]){this[_0x3df558(0x167)][_0x3df558(0x644)](this[_0x3df558(0x523)]+'\x20('+this['instance'][_0x3df558(0x164)]+_0x3df558(0x68b));let _0x24d32d=JSON[_0x3df558(0x2db)](_0x51f9f9[_0x3df558(0x2b4)][_0x3df558(0x367)][_0x3df558(0x14d)],null,0x1);_0x24d32d['length']>0x2&&(_0x24d32d=_0x24d32d[_0x3df558(0x6c5)](0x1,_0x24d32d[_0x3df558(0x1c3)]-0x1)[_0x3df558(0x5b7)]()),_0x51f9f9[_0x3df558(0x2b4)][_0x3df558(0x367)]['headerString']=_0x24d32d;}_0x51f9f9['block'][_0x3df558(0x367)]&&_0x3df558(0x6d1)in _0x51f9f9[_0x3df558(0x2b4)]['apirequest']&&(this['logger']['verbose'](this[_0x3df558(0x523)]+'\x20('+this['instance'][_0x3df558(0x164)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x51f9f9[_0x3df558(0x2b4)][_0x3df558(0x367)]['bodyString']=JSON[_0x3df558(0x2db)](_0x51f9f9[_0x3df558(0x2b4)]['apirequest'][_0x3df558(0x6d1)],null,0x1)['trim']()),_0xb603cc[_0x3df558(0x1e0)][_0x3df558(0x64c)](_0x51f9f9['block']),this[_0x3df558(0x14a)](_0xb603cc[_0x3df558(0x1e0)],_0x51f9f9[_0x3df558(0x2b4)]['groupId']);}['reorderBlocks'](_0x2789c7,_0x1f9f20){const _0x13049f=a0_0x313677;let _0x2ded0d=_0x2789c7['filter'](_0x4ab2ba=>_0x4ab2ba[_0x13049f(0x5e0)]===_0x1f9f20);_0x2ded0d['sort']((_0x1ac42a,_0x138e89)=>_0x1ac42a[_0x13049f(0x459)]-_0x138e89[_0x13049f(0x459)]),_0x2ded0d['forEach']((_0x30f032,_0x244c56)=>_0x30f032[_0x13049f(0x459)]=_0x244c56+0x1);}async[a0_0x313677(0x1ec)](_0x4cdf6b){const _0x880662=a0_0x313677;try{if(this['logger'][_0x880662(0x644)](this[_0x880662(0x523)]+'\x20('+this[_0x880662(0x17a)][_0x880662(0x164)]+_0x880662(0x66b)),!_0x4cdf6b||!_0x4cdf6b[_0x880662(0x78b)]){this[_0x880662(0x1d3)](_0x880662(0x6b4));return;}let _0x204af5=await this[_0x880662(0x5b2)][_0x880662(0x2bb)][_0x880662(0x330)]({'where':{'name':_0x4cdf6b['name']}},this[_0x880662(0x17a)][_0x880662(0x164)]);_0x204af5||this[_0x880662(0x1d3)](_0x880662(0x67e));let {replyOption:_0xf21bfc}=_0x4cdf6b;_0xf21bfc?.[_0x880662(0x686)]?(this[_0x880662(0x216)](_0x204af5,_0x4cdf6b),this[_0x880662(0x524)](_0x204af5['replyOptions'],_0x4cdf6b[_0x880662(0x78b)][_0x880662(0x279)])):_0xf21bfc[_0x880662(0x510)]?(await this[_0x880662(0x519)](_0x204af5,_0x4cdf6b),this[_0x880662(0x524)](_0x204af5[_0x880662(0x2c8)],_0x4cdf6b[_0x880662(0x78b)][_0x880662(0x279)])):(this[_0x880662(0x423)](_0x204af5,_0x4cdf6b),this[_0x880662(0x524)](_0x204af5['replyOptions'],_0x4cdf6b['replyOption']['blockId']));let _0x927ab2=await this[_0x880662(0x5b2)][_0x880662(0x2bb)]['updateOne'](_0x204af5[_0x880662(0x510)],_0x204af5,this[_0x880662(0x17a)]['wuid']);if(!_0x927ab2)throw new Error(_0x880662(0x5e9));return _0x927ab2;}catch(_0x117f4a){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x117f4a);}}[a0_0x313677(0x524)](_0x532e63,_0x23f067){const _0x3556c0=a0_0x313677;console['log']('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x23f067),_0x532e63[_0x3556c0(0x6c9)](_0x21dc5a=>{const _0x56d087=_0x3556c0;_0x21dc5a['blockId']===_0x23f067&&_0x21dc5a[_0x56d087(0x459)]===void 0x0&&(_0x21dc5a[_0x56d087(0x459)]=0x270f);});let _0x529739=_0x532e63[_0x3556c0(0x39d)](_0x452213=>_0x452213[_0x3556c0(0x279)]===_0x23f067);_0x529739[_0x3556c0(0x312)]((_0x13a219,_0x3731b2)=>_0x13a219[_0x3556c0(0x459)]-_0x3731b2[_0x3556c0(0x459)]),_0x529739['forEach']((_0x11fdf3,_0x235282)=>{const _0x222d83=_0x3556c0;_0x11fdf3[_0x222d83(0x459)]=_0x235282+0x1;}),_0x532e63[_0x3556c0(0x6c9)](_0x5249a2=>{const _0x666d9e=_0x3556c0;if(_0x5249a2[_0x666d9e(0x279)]===_0x23f067){let _0x230318=_0x529739[_0x666d9e(0x144)](_0x134641=>_0x134641[_0x666d9e(0x510)]&&_0x5249a2[_0x666d9e(0x510)]&&_0x134641['_id'][_0x666d9e(0x3eb)]()===_0x5249a2[_0x666d9e(0x510)][_0x666d9e(0x3eb)]());_0x230318&&(_0x5249a2['order']=_0x230318['order']);}}),console['log'](_0x3556c0(0x625),_0x532e63);}['deleteReplyOption'](_0x1c5a73,_0x59c4f4){const _0x3d5475=a0_0x313677;let {replyOption:_0x3172c0}=_0x59c4f4;if(!_0x3172c0[_0x3d5475(0x510)]){this[_0x3d5475(0x1d3)](_0x3d5475(0x641));return;}if(!_0x1c5a73[_0x3d5475(0x2c8)][_0x3d5475(0x144)](_0xf09953=>_0xf09953[_0x3d5475(0x510)]['toString']()===_0x59c4f4[_0x3d5475(0x78b)][_0x3d5475(0x510)][_0x3d5475(0x3eb)]())){this['throwAndLogError'](_0x3d5475(0x6bd)+_0x3172c0[_0x3d5475(0x510)]+_0x3d5475(0x63c));return;}_0x1c5a73[_0x3d5475(0x2c8)]=_0x1c5a73['replyOptions'][_0x3d5475(0x39d)](_0x1563c9=>_0x1563c9[_0x3d5475(0x510)][_0x3d5475(0x3eb)]()!==_0x59c4f4[_0x3d5475(0x78b)][_0x3d5475(0x510)][_0x3d5475(0x3eb)]());}async['updateReplyOption'](_0x28ea17,_0x3b6ad4){const _0x31c73a=a0_0x313677;let _0x2fcf7c=_0x28ea17[_0x31c73a(0x2c8)][_0x31c73a(0x365)](_0x557b1b=>_0x557b1b[_0x31c73a(0x510)][_0x31c73a(0x3eb)]()===_0x3b6ad4[_0x31c73a(0x78b)][_0x31c73a(0x510)][_0x31c73a(0x3eb)]());if(_0x2fcf7c===-0x1){this[_0x31c73a(0x1d3)](_0x31c73a(0x6bd)+_0x3b6ad4[_0x31c73a(0x78b)]['_id']+_0x31c73a(0x705));return;}for(let _0x4b1a02 in _0x3b6ad4['replyOption'])_0x3b6ad4[_0x31c73a(0x78b)][_0x31c73a(0x180)](_0x4b1a02)&&(_0x28ea17[_0x31c73a(0x2c8)][_0x2fcf7c][_0x4b1a02]=_0x3b6ad4[_0x31c73a(0x78b)][_0x4b1a02]);}['addReplyOption'](_0x4bed9c,_0xfcb893){const _0x5ad5c7=a0_0x313677;_0x4bed9c['replyOptions'][_0x5ad5c7(0x64c)](_0xfcb893[_0x5ad5c7(0x78b)]);}async['editFlowGroup'](_0x22b632){const _0x371fce=a0_0x313677;this[_0x371fce(0x167)][_0x371fce(0x644)](this[_0x371fce(0x523)]+'\x20('+this[_0x371fce(0x17a)][_0x371fce(0x164)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x22b632);try{this[_0x371fce(0x167)][_0x371fce(0x644)](this['instanceName']+'\x20('+this[_0x371fce(0x17a)]['wuid']+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x3bd37a=await this[_0x371fce(0x5b2)][_0x371fce(0x2bb)][_0x371fce(0x330)]({'where':{'name':_0x22b632[_0x371fce(0x4af)]}},this['instance']['wuid']);if(!_0x3bd37a)throw new Error(_0x371fce(0x67e));if(_0x22b632[_0x371fce(0x529)]&&_0x22b632[_0x371fce(0x529)]?.[_0x371fce(0x686)]===!0x0){if(this[_0x371fce(0x167)]['verbose'](this[_0x371fce(0x523)]+'\x20('+this[_0x371fce(0x17a)][_0x371fce(0x164)]+_0x371fce(0x2f3)),_0x22b632[_0x371fce(0x529)][_0x371fce(0x175)]===!0x0)return{'message':_0x371fce(0x2cc)};if(_0x3bd37a['blocks'][_0x371fce(0x616)](_0x56b561=>_0x56b561[_0x371fce(0x5e0)][_0x371fce(0x3eb)]()===_0x22b632['group']['_id']))return this[_0x371fce(0x167)][_0x371fce(0x644)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20tem\x20blocks'),{'message':_0x371fce(0x2ef)};_0x3bd37a[_0x371fce(0x5bb)]=_0x3bd37a[_0x371fce(0x5bb)][_0x371fce(0x39d)](_0x26fbd8=>_0x26fbd8[_0x371fce(0x510)][_0x371fce(0x3eb)]()!==_0x22b632[_0x371fce(0x529)][_0x371fce(0x510)]);}else{if(_0x22b632[_0x371fce(0x529)]){if(_0x22b632['group']['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x22b632[_0x371fce(0x529)][_0x371fce(0x510)]){let _0x2b3a8a=_0x3bd37a[_0x371fce(0x5bb)][_0x371fce(0x144)](_0x2d7e4c=>_0x2d7e4c[_0x371fce(0x510)][_0x371fce(0x3eb)]()===_0x22b632[_0x371fce(0x529)][_0x371fce(0x510)]);_0x2b3a8a&&(_0x22b632['group']['x']<0x0&&(_0x22b632[_0x371fce(0x529)]['x']=0x0),_0x22b632[_0x371fce(0x529)]['y']<0x0&&(_0x22b632[_0x371fce(0x529)]['y']=0x0),Object['assign'](_0x2b3a8a,_0x22b632[_0x371fce(0x529)]));}else _0x3bd37a[_0x371fce(0x5bb)]['push'](_0x22b632[_0x371fce(0x529)]);}}let _0x4096e5=await this[_0x371fce(0x5b2)][_0x371fce(0x2bb)]['updateOne'](_0x3bd37a[_0x371fce(0x510)],_0x3bd37a,this['instance'][_0x371fce(0x164)]);if(!_0x4096e5)throw new Error(_0x371fce(0x5e9));return _0x4096e5;}catch(_0x9e8091){throw this[_0x371fce(0x167)][_0x371fce(0x54e)](this['instanceName']+'\x20('+this[_0x371fce(0x17a)][_0x371fce(0x164)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x9e8091 instanceof Error?_0x9e8091[_0x371fce(0x711)]:JSON[_0x371fce(0x2db)](_0x9e8091,null,0x2))),new m('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x9e8091 instanceof Error?_0x9e8091['message']:JSON[_0x371fce(0x2db)](_0x9e8091,null,0x2)));}}async[a0_0x313677(0x450)](_0x25c9c4){const _0x58b563=a0_0x313677;try{this[_0x58b563(0x167)][_0x58b563(0x644)](this[_0x58b563(0x523)]+'\x20('+this[_0x58b563(0x17a)]['wuid']+_0x58b563(0x3d5));let _0x253ec1=await this[_0x58b563(0x5b2)]['flow']['findOne']({'where':{'name':_0x25c9c4[_0x58b563(0x4af)]}},this[_0x58b563(0x17a)]['wuid']);if(!_0x253ec1)throw new Error(_0x58b563(0x67e));let _0x3f3d32=!0x1;if(_0x25c9c4[_0x58b563(0x600)]?.['delete']===!0x0)_0x253ec1[_0x58b563(0x69f)]=_0x253ec1['conditions'][_0x58b563(0x39d)](_0x1b4403=>_0x1b4403&&_0x25c9c4[_0x58b563(0x600)]&&_0x1b4403[_0x58b563(0x510)]&&_0x25c9c4[_0x58b563(0x600)][_0x58b563(0x510)]&&_0x1b4403['_id'][_0x58b563(0x3eb)]()!==_0x25c9c4[_0x58b563(0x600)][_0x58b563(0x510)][_0x58b563(0x3eb)]()),_0x3f3d32=!0x0;else{let _0x3c1149=_0x253ec1[_0x58b563(0x69f)]['find'](_0x122d88=>_0x122d88&&_0x25c9c4['condition']&&_0x122d88[_0x58b563(0x510)]&&_0x25c9c4[_0x58b563(0x600)][_0x58b563(0x510)]&&_0x122d88['_id']['toString']()===_0x25c9c4[_0x58b563(0x600)]['_id']['toString']());_0x3c1149?(_0x3f3d32=_0x3c1149[_0x58b563(0x459)]!==_0x25c9c4[_0x58b563(0x600)][_0x58b563(0x459)],Object[_0x58b563(0x432)](_0x3c1149,_0x25c9c4[_0x58b563(0x600)])):(_0x253ec1[_0x58b563(0x69f)][_0x58b563(0x64c)](_0x25c9c4[_0x58b563(0x600)]),_0x3f3d32=!0x0);}if(_0x3f3d32){_0x253ec1[_0x58b563(0x69f)][_0x58b563(0x312)]((_0x50c055,_0x40e39f)=>_0x50c055[_0x58b563(0x459)]>_0x40e39f[_0x58b563(0x459)]?0x1:_0x40e39f[_0x58b563(0x459)]>_0x50c055[_0x58b563(0x459)]?-0x1:0x0);for(let _0x49bb99=0x0;_0x49bb99<_0x253ec1[_0x58b563(0x69f)]['length'];_0x49bb99++)_0x253ec1[_0x58b563(0x69f)][_0x49bb99][_0x58b563(0x459)]=_0x49bb99+0x1;_0x253ec1[_0x58b563(0x69f)][_0x58b563(0x1c3)]>0x0&&(_0x253ec1[_0x58b563(0x69f)][0x0][_0x58b563(0x453)]=_0x58b563(0x26a));}let _0x319287=await this[_0x58b563(0x5b2)][_0x58b563(0x2bb)][_0x58b563(0x471)](_0x253ec1['_id'],_0x253ec1,this[_0x58b563(0x17a)][_0x58b563(0x164)]);if(!_0x319287)throw new Error(_0x58b563(0x5e9));return _0x319287;}catch(_0xd091c5){throw this[_0x58b563(0x167)][_0x58b563(0x54e)](this[_0x58b563(0x523)]+'\x20('+this['instance'][_0x58b563(0x164)]+_0x58b563(0x732)+(_0xd091c5 instanceof Error?_0xd091c5[_0x58b563(0x711)]:JSON[_0x58b563(0x2db)](_0xd091c5,null,0x2))),new Error(_0x58b563(0x6f2)+(_0xd091c5 instanceof Error?_0xd091c5['message']:JSON[_0x58b563(0x2db)](_0xd091c5,null,0x2)));}}async[a0_0x313677(0x50e)](_0x34a006){const _0x9bc96c=a0_0x313677;try{this[_0x9bc96c(0x167)][_0x9bc96c(0x644)](this['instanceName']+'\x20('+this[_0x9bc96c(0x17a)][_0x9bc96c(0x164)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x5f2703=await this[_0x9bc96c(0x5b2)][_0x9bc96c(0x2bb)][_0x9bc96c(0x330)]({'where':{'name':_0x34a006[_0x9bc96c(0x4af)]}},this[_0x9bc96c(0x17a)][_0x9bc96c(0x164)]);if(!_0x5f2703)throw new Error(_0x9bc96c(0x67e));let _0x369dba=!0x1;if(_0x34a006[_0x9bc96c(0x210)]?.[_0x9bc96c(0x686)]===!0x0)_0x5f2703[_0x9bc96c(0x138)]=_0x5f2703['varedits'][_0x9bc96c(0x39d)](_0x34cf58=>_0x34cf58&&_0x34a006[_0x9bc96c(0x210)]&&_0x34cf58[_0x9bc96c(0x510)]&&_0x34a006['varedit'][_0x9bc96c(0x510)]&&_0x34cf58['_id']['toString']()!==_0x34a006['varedit']['_id']['toString']()),_0x369dba=!0x0;else{let _0xfd09f8=_0x5f2703['varedits'][_0x9bc96c(0x144)](_0x5d9314=>_0x5d9314&&_0x34a006['varedit']&&_0x5d9314['_id']&&_0x34a006[_0x9bc96c(0x210)]['_id']&&_0x5d9314[_0x9bc96c(0x510)]['toString']()===_0x34a006[_0x9bc96c(0x210)]['_id'][_0x9bc96c(0x3eb)]());_0xfd09f8?(_0x369dba=_0xfd09f8[_0x9bc96c(0x459)]!==_0x34a006[_0x9bc96c(0x210)][_0x9bc96c(0x459)],Object[_0x9bc96c(0x432)](_0xfd09f8,_0x34a006['varedit'])):(_0x5f2703[_0x9bc96c(0x138)]['push'](_0x34a006[_0x9bc96c(0x210)]),_0x369dba=!0x0);}if(_0x369dba){_0x5f2703[_0x9bc96c(0x138)][_0x9bc96c(0x312)]((_0x25fa6e,_0xdc039d)=>_0x25fa6e[_0x9bc96c(0x459)]>_0xdc039d[_0x9bc96c(0x459)]?0x1:_0xdc039d[_0x9bc96c(0x459)]>_0x25fa6e[_0x9bc96c(0x459)]?-0x1:0x0);for(let _0xea1bb3=0x0;_0xea1bb3<_0x5f2703[_0x9bc96c(0x138)][_0x9bc96c(0x1c3)];_0xea1bb3++)_0x5f2703['varedits'][_0xea1bb3][_0x9bc96c(0x459)]=_0xea1bb3+0x1;}let _0x4c2236=await this[_0x9bc96c(0x5b2)][_0x9bc96c(0x2bb)][_0x9bc96c(0x471)](_0x5f2703[_0x9bc96c(0x510)],_0x5f2703,this[_0x9bc96c(0x17a)][_0x9bc96c(0x164)]);if(!_0x4c2236)throw new Error(_0x9bc96c(0x5e9));return _0x4c2236;}catch(_0x394f12){throw this[_0x9bc96c(0x167)][_0x9bc96c(0x54e)](this[_0x9bc96c(0x523)]+'\x20('+this[_0x9bc96c(0x17a)][_0x9bc96c(0x164)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x394f12 instanceof Error?_0x394f12[_0x9bc96c(0x711)]:JSON['stringify'](_0x394f12,null,0x2))),new m('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x394f12 instanceof Error?_0x394f12['message']:JSON[_0x9bc96c(0x2db)](_0x394f12,null,0x2)));}}async[a0_0x313677(0x16e)](_0x5782a7){const _0x38ab4d=a0_0x313677;try{this[_0x38ab4d(0x167)][_0x38ab4d(0x644)](this[_0x38ab4d(0x523)]+'\x20('+this['instance'][_0x38ab4d(0x164)]+_0x38ab4d(0x45d));let _0x5c3c01=await this[_0x38ab4d(0x5b2)][_0x38ab4d(0x2bb)][_0x38ab4d(0x330)]({'where':{'name':_0x5782a7[_0x38ab4d(0x4af)]}},this[_0x38ab4d(0x17a)][_0x38ab4d(0x164)]);if(!_0x5c3c01)throw new Error(_0x38ab4d(0x67e));_0x5782a7[_0x38ab4d(0x48e)][_0x38ab4d(0x4af)]=_0x5782a7['variable'][_0x38ab4d(0x4af)][_0x38ab4d(0x5b7)](),_0x5782a7['variable'][_0x38ab4d(0x4af)][_0x38ab4d(0x731)]('_')&&(_0x5782a7[_0x38ab4d(0x48e)]['name']=_0x5782a7['variable'][_0x38ab4d(0x4af)][_0x38ab4d(0x6c5)](0x1)),_0x5782a7[_0x38ab4d(0x48e)][_0x38ab4d(0x4af)]=_0x5782a7['variable'][_0x38ab4d(0x4af)][_0x38ab4d(0x5b7)]();let _0x11820f=_0x5c3c01[_0x38ab4d(0x209)]['find'](_0x4ab3dd=>_0x4ab3dd[_0x38ab4d(0x4af)]===_0x5782a7[_0x38ab4d(0x48e)][_0x38ab4d(0x4af)]);if(_0x11820f?.[_0x38ab4d(0x27d)]===!0x0)throw new Error(_0x38ab4d(0x694));if(_0x5782a7[_0x38ab4d(0x48e)]?.[_0x38ab4d(0x686)]===!0x0){if(!_0x11820f)return{'message':_0x38ab4d(0x570)};_0x5c3c01[_0x38ab4d(0x209)]=_0x5c3c01[_0x38ab4d(0x209)][_0x38ab4d(0x39d)](_0x466a8e=>_0x466a8e[_0x38ab4d(0x4af)]!==_0x5782a7[_0x38ab4d(0x48e)][_0x38ab4d(0x4af)]);}else _0x11820f?Object['assign'](_0x11820f,_0x5782a7[_0x38ab4d(0x48e)]):_0x5c3c01['variables'][_0x38ab4d(0x64c)](_0x5782a7[_0x38ab4d(0x48e)]);let _0xa96467=await this[_0x38ab4d(0x5b2)]['flow'][_0x38ab4d(0x471)](_0x5c3c01[_0x38ab4d(0x510)],_0x5c3c01,this[_0x38ab4d(0x17a)][_0x38ab4d(0x164)]);if(!_0xa96467)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0xa96467;}catch(_0x46c65f){throw this[_0x38ab4d(0x167)][_0x38ab4d(0x54e)](this[_0x38ab4d(0x523)]+'\x20('+this[_0x38ab4d(0x17a)][_0x38ab4d(0x164)]+_0x38ab4d(0x2e6)+(_0x46c65f instanceof Error?_0x46c65f[_0x38ab4d(0x711)]:JSON['stringify'](_0x46c65f,null,0x2))),new m(_0x38ab4d(0x6b8)+(_0x46c65f instanceof Error?_0x46c65f[_0x38ab4d(0x711)]:JSON['stringify'](_0x46c65f,null,0x2)));}}async[a0_0x313677(0x5ff)](_0x50f4ab){const _0x2da8b2=a0_0x313677;let _0xbebb04=null;try{if(!this[_0x2da8b2(0x6d3)]?.[_0x2da8b2(0x157)][_0x2da8b2(0x33c)])throw new m(_0x2da8b2(0x75a));this[_0x2da8b2(0x167)][_0x2da8b2(0x644)](this[_0x2da8b2(0x523)]+'\x20('+this[_0x2da8b2(0x17a)]['wuid']+_0x2da8b2(0x54b));let _0xed8d5d=(await this[_0x2da8b2(0x521)]({'numbers':[_0x50f4ab[_0x2da8b2(0x594)]]}))[0x0];if(!_0xed8d5d[_0x2da8b2(0x793)]&&!(0x0,y[_0x2da8b2(0x158)])(_0xed8d5d[_0x2da8b2(0x259)])&&!_0xed8d5d[_0x2da8b2(0x259)]['includes']('@broadcast'))throw _0xbebb04=JSON[_0x2da8b2(0x2db)](_0xed8d5d,null,0x2),new m(_0xed8d5d);let _0x4b8005=await this[_0x2da8b2(0x5b2)][_0x2da8b2(0x2bb)][_0x2da8b2(0x330)]({'where':{'name':_0x50f4ab['name']}},this['instance'][_0x2da8b2(0x164)]);if(!_0x4b8005)return this['logger'][_0x2da8b2(0x54e)](this[_0x2da8b2(0x523)]+'\x20('+this[_0x2da8b2(0x17a)][_0x2da8b2(0x164)]+_0x2da8b2(0x586)),{'message':_0x2da8b2(0x67e)};let _0xf13bd=await this[_0x2da8b2(0x2b0)](_0x4b8005,_0xed8d5d[_0x2da8b2(0x259)],_0x50f4ab['changeVariables']);if(_0xf13bd){this[_0x2da8b2(0x167)]['verbose'](this[_0x2da8b2(0x523)]+'\x20('+this['instance'][_0x2da8b2(0x164)]+_0x2da8b2(0x490));let _0x1ad0a4=await this[_0x2da8b2(0x43d)](_0xf13bd);return _0x1ad0a4&&await this[_0x2da8b2(0x1ad)](_0xf13bd,_0x1ad0a4),{'message':_0x2da8b2(0x326)+_0x50f4ab[_0x2da8b2(0x594)]};}}catch(_0x31667a){if(this[_0x2da8b2(0x167)]['error'](this[_0x2da8b2(0x523)]+'\x20('+this['instance']['wuid']+_0x2da8b2(0x4ee)+(_0x31667a instanceof Error?_0x31667a[_0x2da8b2(0x711)]:JSON[_0x2da8b2(0x2db)](_0x31667a,null,0x2))),_0xbebb04=_0x31667a instanceof Error?_0x31667a[_0x2da8b2(0x711)]:JSON[_0x2da8b2(0x2db)](_0x31667a,null,0x2),_0xbebb04)throw new m(_0x2da8b2(0x2d0)+_0xbebb04);}}async[a0_0x313677(0x1a2)](_0xb1806d){const _0x3205ef=a0_0x313677;try{let _0x422764={'remoteJid':_0xb1806d,'status':'open'},_0x4ec6a3={'status':'closed'},_0x3b2222=await this[_0x3205ef(0x5b2)][_0x3205ef(0x629)][_0x3205ef(0x4aa)](_0x422764,_0x4ec6a3,this[_0x3205ef(0x17a)][_0x3205ef(0x164)]);return this[_0x3205ef(0x167)][_0x3205ef(0x644)](this[_0x3205ef(0x523)]+'\x20('+this['instance'][_0x3205ef(0x164)]+_0x3205ef(0x58f)),_0x3b2222;}catch(_0x1a108c){throw this[_0x3205ef(0x167)][_0x3205ef(0x54e)](this[_0x3205ef(0x523)]+'\x20('+this[_0x3205ef(0x17a)][_0x3205ef(0x164)]+_0x3205ef(0x5fe)+_0x1a108c[_0x3205ef(0x711)]),_0x1a108c;}}async['createConversationforStartFlow'](_0x4e3b9c,_0xa702c0,_0x2254a2){const _0x47c7e3=a0_0x313677;this[_0x47c7e3(0x167)][_0x47c7e3(0x644)](this['instanceName']+'\x20('+this[_0x47c7e3(0x17a)][_0x47c7e3(0x164)]+_0x47c7e3(0x241)),await this['closeExistingConversations'](_0xa702c0);try{let _0x2dc4d3=require(_0x47c7e3(0x198))['ObjectId'],_0x20dfd8=Date[_0x47c7e3(0x447)](),_0x896bb7=_0x47c7e3(0x6dc),_0x2907f5={},_0x7d6560={},_0x599112={..._0x4e3b9c,'chatLog':null},_0x38bf62=await this[_0x47c7e3(0x5b0)](_0x599112[_0x47c7e3(0x209)]),_0x2118fa=await this['getVariablesChat'](_0xa702c0),_0x119dad={..._0x38bf62,..._0x2118fa,'_remoteJid':_0xa702c0},_0x6c5155={'lastReceivedMessage':_0x2907f5,'lastSendMessage':_0x7d6560,'lastBlockId':_0x896bb7,'lastCondition':!0x0,'realVariables':_0x119dad};_0x599112['chatLog']=_0x6c5155,_0x599112['chatLog']['realVariables']={..._0x119dad,..._0x2254a2},delete _0x599112[_0x47c7e3(0x510)],_0x599112[_0x47c7e3(0x510)]=new _0x2dc4d3(),_0x599112[_0x47c7e3(0x3b0)]=_0x20dfd8,_0x599112[_0x47c7e3(0x57d)]=_0x47c7e3(0x43a),_0x599112['remoteJid']=_0xa702c0;let _0x1da890=await this[_0x47c7e3(0x5b2)][_0x47c7e3(0x629)]['updateOne'](_0x599112[_0x47c7e3(0x510)],_0x599112,this['instance'][_0x47c7e3(0x164)]);return this[_0x47c7e3(0x167)][_0x47c7e3(0x644)](this['instanceName']+'\x20('+this[_0x47c7e3(0x17a)]['wuid']+_0x47c7e3(0x61d)),_0x1da890?_0x599112:null;}catch(_0x27fde6){throw this[_0x47c7e3(0x167)][_0x47c7e3(0x54e)](this[_0x47c7e3(0x523)]+'\x20('+this[_0x47c7e3(0x17a)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x27fde6 instanceof Error?_0x27fde6[_0x47c7e3(0x711)]:JSON[_0x47c7e3(0x2db)](_0x27fde6,null,0x2))),new m(_0x27fde6[_0x47c7e3(0x711)]);}}async[a0_0x313677(0x6dd)](_0x3c1112){const _0x1670a7=a0_0x313677;try{this['logger'][_0x1670a7(0x644)](this[_0x1670a7(0x523)]+'\x20('+this[_0x1670a7(0x17a)][_0x1670a7(0x164)]+'):\x20Buscando\x20conversa...'),this[_0x1670a7(0x167)][_0x1670a7(0x644)](this[_0x1670a7(0x523)]+'\x20('+this['instance']['wuid']+_0x1670a7(0x22a)+_0x3c1112);let _0x4fe690={'where':{'_id':_0x3c1112}};return await this[_0x1670a7(0x5b2)][_0x1670a7(0x629)]['findOne'](_0x4fe690,this['instance']['wuid']);}catch(_0x4879eb){throw this['logger'][_0x1670a7(0x54e)](this[_0x1670a7(0x523)]+'\x20('+this[_0x1670a7(0x17a)]['wuid']+_0x1670a7(0x630)+(_0x4879eb instanceof Error?_0x4879eb['message']:JSON[_0x1670a7(0x2db)](_0x4879eb,null,0x2))),new m(_0x1670a7(0x426)+_0x4879eb[_0x1670a7(0x711)]);}}async[a0_0x313677(0x3b3)](_0x4cdf20){const _0x585301=a0_0x313677;try{return this[_0x585301(0x167)]['verbose'](this[_0x585301(0x523)]+'\x20('+this['instance'][_0x585301(0x164)]+_0x585301(0x553)),await this[_0x585301(0x5b2)][_0x585301(0x629)][_0x585301(0x144)](_0x4cdf20,this['instance'][_0x585301(0x164)]);}catch(_0x26651c){throw this[_0x585301(0x167)][_0x585301(0x54e)](this[_0x585301(0x523)]+'\x20('+this['instance'][_0x585301(0x164)]+_0x585301(0x4fa)+(_0x26651c instanceof Error?_0x26651c[_0x585301(0x711)]:JSON['stringify'](_0x26651c,null,0x2))),new m(_0x585301(0x260)+_0x26651c[_0x585301(0x711)]);}}async[a0_0x313677(0x3a2)](_0x482a6b){const _0x1e5085=a0_0x313677;try{return this[_0x1e5085(0x167)][_0x1e5085(0x644)](this['instanceName']+'\x20('+this[_0x1e5085(0x17a)][_0x1e5085(0x164)]+_0x1e5085(0x4ec)),this[_0x1e5085(0x167)][_0x1e5085(0x644)](this[_0x1e5085(0x523)]+'\x20('+this[_0x1e5085(0x17a)][_0x1e5085(0x164)]+'):\x20Query\x20params:'+_0x482a6b),(await this[_0x1e5085(0x5b2)][_0x1e5085(0x629)]['deleteOne']({'where':{'_id':_0x482a6b}},this[_0x1e5085(0x17a)]['wuid']))[_0x1e5085(0x75d)]===0x0?{'message':_0x1e5085(0x4b4)}:{'message':_0x1e5085(0x3c7)};}catch(_0x573bc6){throw this[_0x1e5085(0x167)][_0x1e5085(0x54e)](this[_0x1e5085(0x523)]+'\x20('+this['instance'][_0x1e5085(0x164)]+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0x573bc6 instanceof Error?_0x573bc6['message']:JSON['stringify'](_0x573bc6,null,0x2))),new m(_0x1e5085(0x3b2)+_0x573bc6[_0x1e5085(0x711)]);}}async['editConversation'](_0x246984){const _0xb4dd2a=a0_0x313677;try{let {_id:_0x12de1b,chatLog:_0x51a7cf,status:_0x22764e}=_0x246984;if(!_0x12de1b)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x1b4be9={};if(_0x22764e!==void 0x0&&(_0x1b4be9['status']=_0x22764e),Object[_0xb4dd2a(0x72a)](_0x1b4be9)['length']===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x3d5992=await this['repository'][_0xb4dd2a(0x629)]['updateOne'](_0x12de1b,_0x1b4be9,this[_0xb4dd2a(0x17a)]['wuid']);return _0x3d5992||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x520c71){throw this[_0xb4dd2a(0x167)][_0xb4dd2a(0x54e)](this[_0xb4dd2a(0x523)]+'\x20('+this[_0xb4dd2a(0x17a)][_0xb4dd2a(0x164)]+_0xb4dd2a(0x37c)+(_0x520c71 instanceof Error?_0x520c71['message']:JSON[_0xb4dd2a(0x2db)](_0x520c71,null,0x2))),new m(_0xb4dd2a(0x278)+_0x520c71[_0xb4dd2a(0x711)]);}}async[a0_0x313677(0x2cf)](_0x43a40d){const _0x426450=a0_0x313677;let _0x584fb4=await this[_0x426450(0x5b2)][_0x426450(0x351)][_0x426450(0x330)]({'where':{'_id':_0x43a40d[_0x426450(0x510)]}},this[_0x426450(0x17a)][_0x426450(0x164)]);if(!_0x584fb4)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');console['log'](_0x43a40d);try{_0x43a40d[_0x426450(0x510)]=this['createJid'](_0x43a40d[_0x426450(0x510)]);let {_id:_0x513333,leadInfo:_0x30d708}=_0x43a40d;if(!_0x513333)throw new Error(_0x426450(0x1bf));let _0x230eeb=(_0x1982fc,_0x3fa60f,_0x429358)=>{const _0x5e7fc3=_0x426450;_0x1982fc&&_0x429358[_0x5e7fc3(0x6c9)](_0x18d16f=>{_0x1982fc[_0x18d16f]!==void 0x0&&(_0x3fa60f['leadInfo.'+_0x18d16f]=_0x1982fc[_0x18d16f]);});},_0x51855d={};if(_0x30d708&&(_0x230eeb(_0x30d708,_0x51855d,[_0x426450(0x718),'nomecompleto','email',_0x426450(0x6a5),_0x426450(0x57d),_0x426450(0x584),_0x426450(0x358),_0x426450(0x3ff),'responsavelid',_0x426450(0x306)]),Array[_0x426450(0x46e)](_0x30d708[_0x426450(0x21f)])&&(_0x51855d['leadInfo.customFields']=_0x30d708[_0x426450(0x21f)][_0x426450(0x217)](_0x4edab1=>({'_id':_0x4edab1[_0x426450(0x510)],'value':_0x4edab1[_0x426450(0x441)]}))),_0x43a40d[_0x426450(0x27d)][_0x426450(0x306)]!==void 0x0)){let _0xb418e1=await this['repository'][_0x426450(0x77c)]['find']({'where':{}},this[_0x426450(0x17a)]['wuid']),_0x5d3fef=new Set(_0x43a40d[_0x426450(0x27d)][_0x426450(0x306)]||[]),_0x42f3cf=new Set(_0x43a40d[_0x426450(0x27d)]['etiquetas']),_0x54a10b=new Set(_0xb418e1['map'](_0x4a43ff=>_0x4a43ff[_0x426450(0x510)])),_0x2fbae0=[..._0x42f3cf][_0x426450(0x39d)](_0x4252ea=>!_0x5d3fef[_0x426450(0x36b)](_0x4252ea)&&_0x54a10b[_0x426450(0x36b)](_0x4252ea)),_0x47af38=[..._0x5d3fef][_0x426450(0x39d)](_0x491581=>!_0x42f3cf[_0x426450(0x36b)](_0x491581));if(_0x51855d[_0x426450(0x43e)]=[..._0x5d3fef],_0x584fb4&&!_0x584fb4[_0x426450(0x264)]){for(let _0x1419f1 of _0x2fbae0)await this[_0x426450(0x662)](_0x1419f1,_0x43a40d[_0x426450(0x510)]),_0x5d3fef['add'](_0x1419f1);for(let _0x346192 of _0x47af38)await this[_0x426450(0x20a)](_0x346192,_0x43a40d['_id']),_0x5d3fef[_0x426450(0x686)](_0x346192);}}if(_0x43a40d[_0x426450(0x782)]!==void 0x0&&(_0x51855d[_0x426450(0x782)]=Number(_0x43a40d[_0x426450(0x782)])),Object['keys'](_0x51855d)['length']===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x26478f=await this['repository'][_0x426450(0x351)]['updateOne']({'where':{'_id':_0x43a40d[_0x426450(0x510)]}},_0x51855d,this['instance'][_0x426450(0x164)]);return _0x26478f&&J(this[_0x426450(0x523)],'chats',{'chat':_0x26478f}),_0x26478f?(this['logger']['verbose'](this[_0x426450(0x523)]+'\x20('+this[_0x426450(0x17a)][_0x426450(0x164)]+_0x426450(0x4a7)+JSON[_0x426450(0x2db)](_0x26478f,null,0x2)),_0x26478f):{'message':_0x426450(0x218)};}catch(_0x54fd49){throw this[_0x426450(0x167)]['error'](this['instanceName']+'\x20('+this['instance'][_0x426450(0x164)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+(_0x54fd49 instanceof Error?_0x54fd49['message']:JSON[_0x426450(0x2db)](_0x54fd49,null,0x2))),new m('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x54fd49['message']);}}async[a0_0x313677(0x662)](_0x5077ee,_0x3dc17c){const _0x15b059=a0_0x313677;try{await this[_0x15b059(0x4b9)]['addChatLabel'](_0x3dc17c,_0x5077ee),console['log'](_0x15b059(0x610)+_0x5077ee+_0x15b059(0x311)+_0x3dc17c+_0x15b059(0x314));}catch(_0x33b66d){console[_0x15b059(0x54e)](_0x15b059(0x612)+_0x5077ee+_0x15b059(0x284)+_0x3dc17c+':',_0x33b66d);}}async[a0_0x313677(0x20a)](_0x1a97d4,_0x2be29d){const _0x1c3c07=a0_0x313677;try{await this['client'][_0x1c3c07(0x7a2)](_0x2be29d,_0x1a97d4),console[_0x1c3c07(0x17d)](_0x1c3c07(0x610)+_0x1a97d4+_0x1c3c07(0x3a5)+_0x2be29d+_0x1c3c07(0x314));}catch(_0x2808b2){console[_0x1c3c07(0x54e)](_0x1c3c07(0x6c2)+_0x1a97d4+_0x1c3c07(0x608)+_0x2be29d+':',_0x2808b2);}}async[a0_0x313677(0x5c1)](_0x358940){const _0x7361fe=a0_0x313677;try{let _0x4a8a69=await this[_0x7361fe(0x5b2)][_0x7361fe(0x551)]['findOrCreate'](this[_0x7361fe(0x17a)][_0x7361fe(0x164)]),_0x43f67e=_0x358940[_0x7361fe(0x510)]?_0x4a8a69[_0x7361fe(0x146)]['findIndex'](_0x81b071=>_0x81b071['_id']===_0x358940[_0x7361fe(0x510)]):-0x1;if(_0x358940[_0x7361fe(0x686)]&&_0x43f67e>-0x1)_0x4a8a69[_0x7361fe(0x146)][_0x7361fe(0x5be)](_0x43f67e,0x1);else{if(_0x43f67e>-0x1){let _0x35fde0=_0x4a8a69['agents'][_0x43f67e];_0x358940['fone']&&(_0x35fde0[_0x7361fe(0x378)]=_0x358940[_0x7361fe(0x378)]),_0x358940[_0x7361fe(0x4af)]&&(_0x35fde0[_0x7361fe(0x4af)]=_0x358940['name']),_0x358940[_0x7361fe(0x5fa)]&&(_0x35fde0[_0x7361fe(0x5fa)]=_0x358940['email']),_0x358940[_0x7361fe(0x777)]&&(_0x35fde0[_0x7361fe(0x777)]=_0x358940[_0x7361fe(0x777)]);}else _0x4a8a69[_0x7361fe(0x146)][_0x7361fe(0x64c)]({'_id':_0x358940['_id']||new ie[(_0x7361fe(0x175))][(_0x7361fe(0x32c))][(_0x7361fe(0x3a6))]()[_0x7361fe(0x3eb)](),'fone':_0x358940[_0x7361fe(0x378)],'name':_0x358940[_0x7361fe(0x4af)],'email':_0x358940['email'],'role':_0x358940[_0x7361fe(0x777)]});}let _0x561cd4={'agents':_0x4a8a69['agents']},_0x4aba58=await this[_0x7361fe(0x5b2)][_0x7361fe(0x551)][_0x7361fe(0x321)](_0x561cd4,this['instance'][_0x7361fe(0x164)]);return this[_0x7361fe(0x6d3)]=_0x4aba58,this[_0x7361fe(0x167)][_0x7361fe(0x644)](this[_0x7361fe(0x523)]+'\x20('+this[_0x7361fe(0x17a)][_0x7361fe(0x164)]+_0x7361fe(0x52d)),this[_0x7361fe(0x167)][_0x7361fe(0x644)](this['instanceName']+'\x20('+this[_0x7361fe(0x17a)][_0x7361fe(0x164)]+_0x7361fe(0x4a7)+this[_0x7361fe(0x6d3)]),_0x4aba58;}catch(_0x3b7023){throw this[_0x7361fe(0x167)][_0x7361fe(0x54e)](this[_0x7361fe(0x523)]+'\x20('+this['instance']['wuid']+_0x7361fe(0x4a5)+(_0x3b7023 instanceof Error?_0x3b7023['message']:JSON['stringify'](_0x3b7023,null,0x2))),new m('Erro\x20ao\x20editar\x20agentes:\x20'+_0x3b7023[_0x7361fe(0x711)]);}}async['updateCustomFields'](_0x50076c){const _0x50539f=a0_0x313677;try{let _0x3ff95e=await this[_0x50539f(0x5b2)][_0x50539f(0x551)][_0x50539f(0x1d0)](this[_0x50539f(0x17a)][_0x50539f(0x164)]),_0x45064e=_0x50076c[_0x50539f(0x510)]?_0x3ff95e[_0x50539f(0x21f)][_0x50539f(0x365)](_0x583484=>_0x583484[_0x50539f(0x510)]===_0x50076c['_id']):-0x1,_0x476723=!0x1,_0x18411d=_0x3ff95e[_0x50539f(0x21f)]['some'](_0x2f8f79=>_0x2f8f79[_0x50539f(0x459)]===_0x50076c[_0x50539f(0x459)]);if(_0x50076c[_0x50539f(0x686)]&&_0x45064e>-0x1)_0x3ff95e[_0x50539f(0x21f)][_0x50539f(0x5be)](_0x45064e,0x1),_0x476723=!0x0;else{if(_0x45064e>-0x1){if(_0x3ff95e[_0x50539f(0x21f)][_0x50539f(0x616)](_0x1ed139=>_0x1ed139[_0x50539f(0x4af)]===_0x50076c[_0x50539f(0x4af)]&&_0x1ed139[_0x50539f(0x510)]!==_0x50076c[_0x50539f(0x510)]))throw new Error(_0x50539f(0x19b));let _0x2f278e=_0x3ff95e[_0x50539f(0x21f)][_0x45064e];_0x50076c[_0x50539f(0x459)]&&(_0x18411d||!Number[_0x50539f(0x163)](_0x50076c[_0x50539f(0x459)]))&&(_0x2f278e[_0x50539f(0x459)]=_0x50076c[_0x50539f(0x459)],_0x476723=!0x0),_0x50076c[_0x50539f(0x4af)]&&(_0x2f278e[_0x50539f(0x4af)]=_0x50076c[_0x50539f(0x4af)]);}else{if(_0x3ff95e[_0x50539f(0x21f)]['some'](_0x34d720=>_0x34d720[_0x50539f(0x4af)]===_0x50076c[_0x50539f(0x4af)]&&_0x34d720['_id']!==_0x50076c[_0x50539f(0x510)]))throw new Error(_0x50539f(0x19b));_0x3ff95e['customFields'][_0x50539f(0x64c)]({'_id':_0x50076c[_0x50539f(0x510)]||new ie[(_0x50539f(0x175))][(_0x50539f(0x32c))][(_0x50539f(0x3a6))]()[_0x50539f(0x3eb)](),'order':_0x50076c['order'],'name':_0x50076c[_0x50539f(0x4af)]}),_0x476723=!0x0;}}if(_0x476723){_0x3ff95e[_0x50539f(0x21f)][_0x50539f(0x312)]((_0x135212,_0x2ebf18)=>_0x135212[_0x50539f(0x459)]>_0x2ebf18['order']?0x1:_0x2ebf18[_0x50539f(0x459)]>_0x135212[_0x50539f(0x459)]?-0x1:0x0);for(let _0x143e5e=0x0;_0x143e5e<_0x3ff95e['customFields']['length'];_0x143e5e++)_0x3ff95e[_0x50539f(0x21f)][_0x143e5e]['order']=_0x143e5e+0x1;}let _0x163f77=await this[_0x50539f(0x5b2)]['automateSystem'][_0x50539f(0x321)](_0x3ff95e,this[_0x50539f(0x17a)][_0x50539f(0x164)]);return this['AutomateSystem']=_0x163f77,this[_0x50539f(0x167)]['verbose'](this[_0x50539f(0x523)]+'\x20('+this['instance']['wuid']+_0x50539f(0x372)),this[_0x50539f(0x167)][_0x50539f(0x644)](this['instanceName']+'\x20('+this[_0x50539f(0x17a)][_0x50539f(0x164)]+'):\x20'+this[_0x50539f(0x6d3)]),_0x163f77;}catch(_0x32c1a2){throw this[_0x50539f(0x167)]['error'](this[_0x50539f(0x523)]+'\x20('+this[_0x50539f(0x17a)]['wuid']+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x32c1a2 instanceof Error?_0x32c1a2[_0x50539f(0x711)]:JSON[_0x50539f(0x2db)](_0x32c1a2,null,0x2))),new m('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x32c1a2[_0x50539f(0x711)]);}}async[a0_0x313677(0x566)](_0x5b817f){const _0x613791=a0_0x313677;try{let _0xa6172=await this[_0x613791(0x5b2)][_0x613791(0x551)][_0x613791(0x1d0)](this['instance'][_0x613791(0x164)]);if(!_0xa6172)throw new Error(_0x613791(0x633));let _0x14f353={'_id':_0xa6172[_0x613791(0x510)],'flowConfig':{'enabled':_0x5b817f[_0x613791(0x33c)]??_0xa6172[_0x613791(0x157)][_0x613791(0x33c)],'ignoreGroups':_0x5b817f[_0x613791(0x6de)]??_0xa6172[_0x613791(0x157)][_0x613791(0x6de)],'prefixCommand':_0x5b817f['prefixCommand']??_0xa6172['flowConfig']['prefixCommand'],'stopConversation':_0x5b817f[_0x613791(0x1aa)]??_0xa6172[_0x613791(0x157)][_0x613791(0x1aa)],'stopMinutes':_0x5b817f['stopMinutes']??_0xa6172[_0x613791(0x157)]['stopMinutes'],'stopWhenYouSendMsg':_0x5b817f[_0x613791(0x325)]??_0xa6172[_0x613791(0x157)][_0x613791(0x325)]}},_0x48d2c9=await this['repository'][_0x613791(0x551)][_0x613791(0x321)](_0x14f353,this[_0x613791(0x17a)]['wuid']);return this['AutomateSystem']=_0x48d2c9,this[_0x613791(0x167)]['verbose'](this[_0x613791(0x523)]+'\x20('+this[_0x613791(0x17a)][_0x613791(0x164)]+_0x613791(0x52d)),this[_0x613791(0x167)][_0x613791(0x644)](this[_0x613791(0x523)]+'\x20('+this[_0x613791(0x17a)][_0x613791(0x164)]+'):\x20'+this[_0x613791(0x6d3)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x48d2c9;}catch(_0x14ef94){throw this[_0x613791(0x167)]['error'](this[_0x613791(0x523)]+'\x20('+this[_0x613791(0x17a)]['wuid']+_0x613791(0x670)+(_0x14ef94 instanceof Error?_0x14ef94[_0x613791(0x711)]:JSON[_0x613791(0x2db)](_0x14ef94,null,0x2))),new m(_0x613791(0x543)+_0x14ef94[_0x613791(0x711)]);}}async[a0_0x313677(0x6b6)](){const _0x314755=a0_0x313677;try{let _0x3b78a=await this[_0x314755(0x5b2)]['automateSystem'][_0x314755(0x1d0)](this[_0x314755(0x17a)][_0x314755(0x164)]);return this[_0x314755(0x6d3)]=_0x3b78a,this[_0x314755(0x167)]['verbose'](this[_0x314755(0x523)]+'\x20('+this[_0x314755(0x17a)][_0x314755(0x164)]+_0x314755(0x62e)),this[_0x314755(0x167)][_0x314755(0x644)](this[_0x314755(0x6d3)]),_0x3b78a;}catch(_0x290c5d){throw this[_0x314755(0x167)][_0x314755(0x54e)](this['instanceName']+'\x20('+this[_0x314755(0x17a)][_0x314755(0x164)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x290c5d instanceof Error?_0x290c5d[_0x314755(0x711)]:JSON[_0x314755(0x2db)](_0x290c5d,null,0x2))),new m(_0x314755(0x44e)+_0x290c5d[_0x314755(0x711)]);}}async[a0_0x313677(0x678)](){const _0x3485d0=a0_0x313677;this[_0x3485d0(0x370)]&&clearTimeout(this[_0x3485d0(0x370)]),this[_0x3485d0(0x370)]=setTimeout(()=>{const _0x28daa0=_0x3485d0;this[_0x28daa0(0x2c4)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x313677(0x2c4)](){const _0x218da7=a0_0x313677;Date[_0x218da7(0x447)]()-this['lastSend']>=0x1d4c0&&(this[_0x218da7(0x167)]['verbose'](this[_0x218da7(0x523)]+'\x20('+this[_0x218da7(0x17a)]['wuid']+_0x218da7(0x54d)),this[_0x218da7(0x349)]=null,this[_0x218da7(0x3db)]=0x0,this[_0x218da7(0x6b5)]=0x0,await this[_0x218da7(0x43c)]());}async['scheduleNextCheck'](){const _0x5c9c27=a0_0x313677;let _0x4751a7=()=>{const _0x4e77ec=a0_0x5a0c;this[_0x4e77ec(0x167)][_0x4e77ec(0x644)](this[_0x4e77ec(0x523)]+'\x20('+this['instance'][_0x4e77ec(0x164)]+'):\x20this.processingScheduleMessageId:\x20'+this['processingScheduleMessageId']+_0x4e77ec(0x2ec));},_0x1b497=async()=>{const _0x28550f=a0_0x5a0c;this[_0x28550f(0x167)][_0x28550f(0x644)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x28550f(0x619));let _0x7eb792=Date[_0x28550f(0x447)]()-0xc*0x3c*0x3c*0x3e8,_0x34b5eb={'where':{'status':{'$in':[_0x28550f(0x211),_0x28550f(0x650)]},'$or':[{'when':{'$lte':Date[_0x28550f(0x447)](),'$gte':_0x7eb792}},{'when':0x0}]}};return await this[_0x28550f(0x5b2)][_0x28550f(0x674)][_0x28550f(0x144)](_0x34b5eb,this[_0x28550f(0x17a)][_0x28550f(0x164)]);},_0x25cf2e=async _0x3cbe75=>{const _0xdc5357=a0_0x5a0c;for(let _0x501fca of _0x3cbe75){let _0x2dbc88={'_id':_0x501fca[_0xdc5357(0x510)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},_0x29eaa8={'startSend':Date[_0xdc5357(0x447)]()};if(!await this[_0xdc5357(0x5b2)][_0xdc5357(0x674)][_0xdc5357(0x471)](_0x2dbc88,_0x29eaa8,this[_0xdc5357(0x17a)][_0xdc5357(0x164)]))return;if(!this['isConnected']){this[_0xdc5357(0x167)][_0xdc5357(0x644)](this['instanceName']+'\x20('+this[_0xdc5357(0x17a)][_0xdc5357(0x164)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x501fca[_0xdc5357(0x4f9)]===_0xdc5357(0x2bb)&&!this['AutomateSystem']?.['flowConfig'][_0xdc5357(0x33c)]){this[_0xdc5357(0x167)]['error'](this[_0xdc5357(0x523)]+'\x20('+this[_0xdc5357(0x17a)][_0xdc5357(0x164)]+_0xdc5357(0x14c));continue;}(!_0x501fca['remoteJidsRemaining']||_0x501fca[_0xdc5357(0x168)][_0xdc5357(0x1c3)]===0x0)&&(_0x501fca=await this[_0xdc5357(0x5b2)][_0xdc5357(0x674)][_0xdc5357(0x55b)](_0x501fca['_id'],{'status':'sending','remoteJidsRemaining':[..._0x501fca[_0xdc5357(0x59a)]]},this['instance'][_0xdc5357(0x164)]));for(let _0x43f24f of _0x501fca[_0xdc5357(0x168)]){if(await this[_0xdc5357(0x678)](),this[_0xdc5357(0x3db)]=Date[_0xdc5357(0x447)](),_0x501fca[_0xdc5357(0x142)][_0xdc5357(0x616)](_0x19bd22=>_0x19bd22['remoteJid']===_0x43f24f)){this[_0xdc5357(0x167)][_0xdc5357(0x644)](this[_0xdc5357(0x523)]+'\x20('+this[_0xdc5357(0x17a)][_0xdc5357(0x164)]+_0xdc5357(0x677)+_0x43f24f+_0xdc5357(0x763));continue;}if(!this['isConnected']){this[_0xdc5357(0x167)][_0xdc5357(0x644)](this[_0xdc5357(0x523)]+'\x20('+this[_0xdc5357(0x17a)][_0xdc5357(0x164)]+_0xdc5357(0x5f2));break;}if(!this[_0xdc5357(0x349)]){this[_0xdc5357(0x167)]['verbose'](this[_0xdc5357(0x523)]+'\x20('+this['instance']['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x501fca[_0xdc5357(0x510)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x501fca['type']==='flow'&&!this['AutomateSystem']?.[_0xdc5357(0x157)][_0xdc5357(0x33c)]){this[_0xdc5357(0x167)][_0xdc5357(0x54e)](this[_0xdc5357(0x523)]+'\x20('+this[_0xdc5357(0x17a)]['wuid']+_0xdc5357(0x14c));break;}let _0xeb11d5={'remoteJid':_0x43f24f,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0xdc5357(0x447)]()},_0x52b914=null;try{let _0x248b5d=await this[_0xdc5357(0x169)](_0x43f24f,_0x501fca);_0xeb11d5[_0xdc5357(0x54e)]=_0x248b5d[_0xdc5357(0x54e)],_0xeb11d5['id']=_0x248b5d[_0xdc5357(0x54e)]?null:_0x248b5d['id'],_0xeb11d5[_0xdc5357(0x166)]=_0x248b5d['error']?_0x248b5d[_0xdc5357(0x699)]?_0x248b5d[_0xdc5357(0x699)]['toString']():'':null;let _0x2c539f={'$push':{'messagesSend':_0xeb11d5},'$pull':{'remoteJidsRemaining':_0x43f24f}},_0x3bbd35=_0x501fca[_0xdc5357(0x510)];if(_0x52b914=await this[_0xdc5357(0x5b2)][_0xdc5357(0x674)][_0xdc5357(0x55b)](_0x3bbd35,_0x2c539f,this['instance'][_0xdc5357(0x164)]),_0x248b5d[_0xdc5357(0x54e)])continue;let _0x253841=this[_0xdc5357(0x38a)](_0x501fca[_0xdc5357(0x1f6)],_0x501fca[_0xdc5357(0x725)]);await this['sleep'](_0x253841);}catch(_0x5c595d){this[_0xdc5357(0x167)][_0xdc5357(0x54e)](this[_0xdc5357(0x523)]+'\x20('+this[_0xdc5357(0x17a)][_0xdc5357(0x164)]+_0xdc5357(0x558)+_0x43f24f+':\x20'+(_0x5c595d instanceof Error?_0x5c595d['message']:JSON[_0xdc5357(0x2db)](_0x5c595d,null,0x2))),_0xeb11d5['error']=!0x0,_0xeb11d5[_0xdc5357(0x166)]=_0x5c595d[_0xdc5357(0x711)];let _0x5a3398={'$push':{'messagesSend':_0xeb11d5},'$pull':{'remoteJidsRemaining':_0x43f24f}},_0x57ff75=_0x501fca['_id'];_0x52b914=await this['repository'][_0xdc5357(0x674)][_0xdc5357(0x55b)](_0x57ff75,_0x5a3398,this['instance'][_0xdc5357(0x164)]);}finally{if(_0x52b914&&_0x52b914[_0xdc5357(0x57d)]===_0xdc5357(0x769)){this[_0xdc5357(0x167)][_0xdc5357(0x644)](this[_0xdc5357(0x523)]+'\x20('+this[_0xdc5357(0x17a)][_0xdc5357(0x164)]+_0xdc5357(0x53d)+_0x501fca[_0xdc5357(0x510)]+_0xdc5357(0x6ce));break;}}}let _0x43d545=await this[_0xdc5357(0x5b2)][_0xdc5357(0x674)][_0xdc5357(0x3f0)](_0x501fca['_id'],this[_0xdc5357(0x17a)][_0xdc5357(0x164)]);if(_0x43d545[_0xdc5357(0x168)]['length']===0x0&&_0x43d545['status']!=='stopped'){let _0xee02d4={'$set':{'status':'done'}},_0x9d652e=_0x43d545[_0xdc5357(0x510)];await this[_0xdc5357(0x5b2)][_0xdc5357(0x674)]['updateOneById'](_0x9d652e,_0xee02d4,this[_0xdc5357(0x17a)][_0xdc5357(0x164)]);}await new Promise(_0xc1bc2c=>setTimeout(_0xc1bc2c,0x1388));}},_0x3609d1=async()=>{const _0x2a17e4=a0_0x5a0c;let _0x134e9f={'where':{'status':_0x2a17e4(0x211),'when':{'$gt':Date[_0x2a17e4(0x447)]()}}},_0x3242b7=await this[_0x2a17e4(0x5b2)][_0x2a17e4(0x674)][_0x2a17e4(0x330)](_0x134e9f,this[_0x2a17e4(0x17a)][_0x2a17e4(0x164)]);_0x3242b7&&_0x3242b7['when']-Date[_0x2a17e4(0x447)]()<=0x5265c00?this[_0x2a17e4(0x6b5)]=_0x3242b7[_0x2a17e4(0x3e6)]-Date['now']():this['delayMessage']=(0x3c+Math[_0x2a17e4(0x541)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x2a17e4(0x6b5)]=Math['max'](this[_0x2a17e4(0x6b5)],0x7d0);let _0x588037=Math[_0x2a17e4(0x5f6)](this[_0x2a17e4(0x6b5)]/0xea60);if(_0x3242b7){let _0x4069d0=new Date(_0x3242b7[_0x2a17e4(0x3e6)])[_0x2a17e4(0x226)]();this['logger'][_0x2a17e4(0x644)](this[_0x2a17e4(0x523)]+'\x20('+this[_0x2a17e4(0x17a)][_0x2a17e4(0x164)]+_0x2a17e4(0x6b7)+_0x4069d0+_0x2a17e4(0x224)+_0x588037+_0x2a17e4(0x4ff));}else this[_0x2a17e4(0x167)]['verbose'](this[_0x2a17e4(0x523)]+'\x20('+this[_0x2a17e4(0x17a)][_0x2a17e4(0x164)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x588037+_0x2a17e4(0x4ff));setTimeout(()=>this['scheduleNextCheck'](),this[_0x2a17e4(0x6b5)]);};if(this[_0x5c9c27(0x349)]){await this[_0x5c9c27(0x678)](),_0x4751a7();return;}if(!this[_0x5c9c27(0x52c)]){this[_0x5c9c27(0x167)]['verbose'](this[_0x5c9c27(0x523)]+'\x20('+this[_0x5c9c27(0x17a)]['wuid']+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x5c9c27(0x349)]=null,this[_0x5c9c27(0x3db)]=0x0,this['delayMessage']=0x0;return;}try{let _0x1767b6=await _0x1b497();_0x1767b6[_0x5c9c27(0x1c3)]===0x0?this['logger'][_0x5c9c27(0x644)](this[_0x5c9c27(0x523)]+'\x20('+this['instance'][_0x5c9c27(0x164)]+_0x5c9c27(0x149)):(this['processingScheduleMessageId']=_0x1767b6[0x0][_0x5c9c27(0x510)],await _0x25cf2e(_0x1767b6)),await _0x3609d1(),this['processingScheduleMessageId']=null;}catch(_0x5ef201){this['logger'][_0x5c9c27(0x54e)](_0x5c9c27(0x59f)+(_0x5ef201 instanceof Error?_0x5ef201[_0x5c9c27(0x711)]:JSON['stringify'](_0x5ef201,null,0x2)));}}[a0_0x313677(0x38a)](_0x5e6bf8,_0x30ff5d){const _0x15adf4=a0_0x313677;return _0x5e6bf8=Math[_0x15adf4(0x250)](0.5,_0x5e6bf8),_0x30ff5d=Math[_0x15adf4(0x721)](Math[_0x15adf4(0x250)](0x3,_0x30ff5d),0x78),Math['floor'](Math['random']()*(_0x30ff5d-_0x5e6bf8+0x1)+_0x5e6bf8)*0x3e8;}[a0_0x313677(0x442)](_0xe9db27){return new Promise(_0x4a91a6=>setTimeout(_0x4a91a6,_0xe9db27));}async[a0_0x313677(0x739)](_0x19e70f){const _0x43f095=a0_0x313677;if(!this[_0x43f095(0x6d3)]&&(await this[_0x43f095(0x6b6)](),!this[_0x43f095(0x6d3)]))return null;_0x19e70f=this[_0x43f095(0x469)](_0x19e70f);let _0x1371c2=await this['repository'][_0x43f095(0x351)]['findOne']({'where':{'_id':_0x19e70f}},this[_0x43f095(0x17a)][_0x43f095(0x164)]),_0xe6238d={};if(_0x1371c2&&_0x1371c2['leadInfo']){let _0x5bc06c=_0x1371c2[_0x43f095(0x27d)];typeof _0x5bc06c[_0x43f095(0x718)]=='string'&&(_0xe6238d[_0x43f095(0x718)]=_0x5bc06c['nome']),typeof _0x5bc06c['nomecompleto']==_0x43f095(0x706)&&(_0xe6238d[_0x43f095(0x3a4)]=_0x5bc06c['nomecompleto']),typeof _0x5bc06c[_0x43f095(0x5fa)]=='string'&&(_0xe6238d[_0x43f095(0x5fa)]=_0x5bc06c[_0x43f095(0x5fa)]),typeof _0x5bc06c[_0x43f095(0x6a5)]==_0x43f095(0x706)&&(_0xe6238d[_0x43f095(0x6a5)]=_0x5bc06c[_0x43f095(0x6a5)]),typeof _0x5bc06c[_0x43f095(0x57d)]==_0x43f095(0x706)&&(_0xe6238d[_0x43f095(0x57d)]=_0x5bc06c['status']),typeof _0x5bc06c['notas']==_0x43f095(0x706)&&(_0xe6238d[_0x43f095(0x584)]=_0x5bc06c['notas']),typeof _0x5bc06c[_0x43f095(0x4c6)]==_0x43f095(0x706)&&(_0xe6238d[_0x43f095(0x4c6)]=_0x5bc06c[_0x43f095(0x4c6)]),Array[_0x43f095(0x46e)](_0x5bc06c[_0x43f095(0x358)])&&(_0xe6238d[_0x43f095(0x358)]=_0x5bc06c[_0x43f095(0x358)][_0x43f095(0x762)](',\x20')),Array['isArray'](_0x5bc06c[_0x43f095(0x306)])&&(_0xe6238d[_0x43f095(0x306)]=_0x5bc06c[_0x43f095(0x306)][_0x43f095(0x762)](',\x20'));}return _0x1371c2&&_0x1371c2['leadInfo']&&_0x1371c2[_0x43f095(0x27d)][_0x43f095(0x21f)]&&_0x1371c2[_0x43f095(0x27d)]['customFields'][_0x43f095(0x6c9)](_0x46edd2=>{const _0xf98a23=_0x43f095;let _0x992669=this['AutomateSystem']?.[_0xf98a23(0x21f)][_0xf98a23(0x144)](_0x1d5bf6=>_0x1d5bf6[_0xf98a23(0x510)]===_0x46edd2[_0xf98a23(0x510)]);_0x992669&&(_0xe6238d[_0x992669[_0xf98a23(0x4af)]]=_0x46edd2[_0xf98a23(0x441)]);}),_0xe6238d;}async[a0_0x313677(0x25a)](_0x22090e,_0x53ee58){const _0x5d9e30=a0_0x313677;let _0x58eb0c=await this['getVariablesChat'](_0x53ee58);return this[_0x5d9e30(0x68e)](_0x22090e,_0x58eb0c);}async[a0_0x313677(0x35b)](_0x4a71e9){const _0x579866=a0_0x313677;try{if(this[_0x579866(0x167)][_0x579866(0x644)](this[_0x579866(0x523)]+'\x20('+this['instance'][_0x579866(0x164)]+_0x579866(0x16b)),_0x4a71e9[_0x579866(0x686)]&&_0x4a71e9[_0x579866(0x510)]){if(this[_0x579866(0x349)]===_0x4a71e9[_0x579866(0x510)][_0x579866(0x3eb)]())throw new Error(_0x579866(0x1da));let _0x14a951=await this[_0x579866(0x5b2)]['scheduleMessage'][_0x579866(0x2ab)](_0x4a71e9[_0x579866(0x510)],this['instance'][_0x579866(0x164)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x14a951;}let _0x33efcb;if(_0x4a71e9[_0x579866(0x510)]&&(_0x33efcb=await this[_0x579866(0x5b2)]['scheduleMessage'][_0x579866(0x3f0)](_0x4a71e9['_id'],this[_0x579866(0x17a)][_0x579866(0x164)])),_0x33efcb){let _0x47c707;if(this[_0x579866(0x349)]===_0x33efcb[_0x579866(0x510)]['toString']())_0x47c707={'$set':{'status':_0x4a71e9[_0x579866(0x57d)]}};else{let {_id:_0x5bf0cd,..._0x455b1b}=_0x4a71e9;_0x47c707={'$set':_0x455b1b};}let _0x25c4c4=await this['repository'][_0x579866(0x674)]['updateOneById'](_0x4a71e9[_0x579866(0x510)],_0x47c707,this[_0x579866(0x17a)][_0x579866(0x164)]);return setTimeout(()=>this[_0x579866(0x43c)](),0x7d0),_0x25c4c4;}else{_0x4a71e9[_0x579866(0x266)]=this['instance'][_0x579866(0x164)];let _0x1a8e97=await this[_0x579866(0x5b2)][_0x579866(0x674)][_0x579866(0x77d)](_0x4a71e9,this['instance'][_0x579866(0x164)]);return setTimeout(()=>this[_0x579866(0x43c)](),0x7d0),_0x1a8e97;}}catch(_0x3d7965){throw this[_0x579866(0x167)]['error'](this[_0x579866(0x523)]+'\x20('+this[_0x579866(0x17a)][_0x579866(0x164)]+_0x579866(0x4e8)+(_0x3d7965 instanceof Error?_0x3d7965[_0x579866(0x711)]:JSON[_0x579866(0x2db)](_0x3d7965,null,0x2))),new m(_0x579866(0x57c)+_0x3d7965[_0x579866(0x711)]);}}async[a0_0x313677(0x615)](){const _0x134cc8=a0_0x313677;try{return await this[_0x134cc8(0x5b2)][_0x134cc8(0x674)]['find']({'where':{}},this[_0x134cc8(0x17a)][_0x134cc8(0x164)]);}catch(_0x15193e){throw this[_0x134cc8(0x167)]['error'](this['instanceName']+'\x20('+this[_0x134cc8(0x17a)][_0x134cc8(0x164)]+_0x134cc8(0x1e1)+(_0x15193e instanceof Error?_0x15193e[_0x134cc8(0x711)]:JSON[_0x134cc8(0x2db)](_0x15193e,null,0x2))),new m(_0x134cc8(0x57c)+_0x15193e[_0x134cc8(0x711)]);}}async[a0_0x313677(0x343)](){const _0x3530ad=a0_0x313677;try{let _0x4af459={'status':'done'},_0x40fbb5=await this['repository'][_0x3530ad(0x674)][_0x3530ad(0x671)](_0x4af459,this[_0x3530ad(0x17a)][_0x3530ad(0x164)]);if(!_0x40fbb5[_0x3530ad(0x54e)])this['logger'][_0x3530ad(0x644)](this[_0x3530ad(0x523)]+'\x20('+this['instance']['wuid']+_0x3530ad(0x488));else throw new Error(_0x40fbb5[_0x3530ad(0x54e)][_0x3530ad(0x711)]||_0x3530ad(0x335));return this['getScheduleMessage']();}catch(_0x545842){throw this[_0x3530ad(0x167)][_0x3530ad(0x54e)](this['instanceName']+'\x20('+this['instance'][_0x3530ad(0x164)]+'):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:'+(_0x545842 instanceof Error?_0x545842[_0x3530ad(0x711)]:JSON[_0x3530ad(0x2db)](_0x545842,null,0x2))),new m(_0x3530ad(0x57c)+_0x545842[_0x3530ad(0x711)]);}}async[a0_0x313677(0x169)](_0x5c2ec8,_0x2dea99){const _0x42766a=a0_0x313677;try{if(_0x2dea99['type']==='flow'&&!this['AutomateSystem']?.[_0x42766a(0x157)][_0x42766a(0x33c)])return this[_0x42766a(0x167)]['error'](this[_0x42766a(0x523)]+'\x20('+this[_0x42766a(0x17a)][_0x42766a(0x164)]+_0x42766a(0x2f4)),{'error':!0x0,'detail':_0x42766a(0x75a)};switch(_0x2dea99[_0x42766a(0x4f9)]){case _0x42766a(0x37a):return await this[_0x42766a(0x334)](_0x2dea99,_0x5c2ec8);case _0x42766a(0x273):return await this[_0x42766a(0x660)](_0x2dea99,_0x5c2ec8);case _0x42766a(0x741):return await this[_0x42766a(0x177)](_0x2dea99,_0x5c2ec8);case _0x42766a(0x2bb):let _0x3108b0=new _e();return _0x3108b0['name']=_0x2dea99[_0x42766a(0x2a4)],_0x3108b0[_0x42766a(0x594)]=_0x5c2ec8,await this[_0x42766a(0x5ff)](_0x3108b0);break;default:return this[_0x42766a(0x167)]['error'](this[_0x42766a(0x523)]+'\x20('+this[_0x42766a(0x17a)][_0x42766a(0x164)]+_0x42766a(0x4bd)+_0x2dea99[_0x42766a(0x4f9)]),{'error':!0x0,'detail':_0x42766a(0x760)};}}catch(_0x56cb98){return this[_0x42766a(0x167)][_0x42766a(0x54e)](this[_0x42766a(0x523)]+'\x20('+this[_0x42766a(0x17a)][_0x42766a(0x164)]+_0x42766a(0x77a)+(_0x56cb98 instanceof Error?_0x56cb98[_0x42766a(0x711)]:JSON['stringify'](_0x56cb98,null,0x2))),{'error':!0x0,'detail':_0x56cb98[_0x42766a(0x711)]};}}[a0_0x313677(0x392)](_0x555d4b){const _0x47a363=a0_0x313677;let _0x54ab91=_0x555d4b['split']('|'),_0x30fc2e=Math['floor'](Math[_0x47a363(0x651)]()*_0x54ab91[_0x47a363(0x1c3)]);return _0x54ab91[_0x30fc2e][_0x47a363(0x5b7)]();}async[a0_0x313677(0x334)](_0x2833f5,_0x3a8a36){const _0x24a321=a0_0x313677;if(this[_0x24a321(0x167)][_0x24a321(0x644)](this[_0x24a321(0x523)]+'\x20('+this[_0x24a321(0x17a)][_0x24a321(0x164)]+_0x24a321(0x5ee)),!_0x2833f5[_0x24a321(0x711)][_0x24a321(0x37a)]||_0x2833f5[_0x24a321(0x711)]['text'][_0x24a321(0x1c3)]===0x0)return{'error':!0x0,'detail':_0x24a321(0x689)};let _0x35e2e6=this[_0x24a321(0x392)](_0x2833f5[_0x24a321(0x711)]['text']),_0x4226a4=await this['replaceVariablesChat'](_0x35e2e6,_0x3a8a36),_0x6160e5={'number':_0x3a8a36,'options':{'delay':_0x2833f5[_0x24a321(0x711)][_0x24a321(0x3f4)]},'textMessage':{'text':_0x4226a4}},_0xd4e67a=null;try{let _0x1cb8e4=await this[_0x24a321(0x305)](_0x6160e5);if(_0x1cb8e4&&_0x1cb8e4['status'])return{'error':!0x1,'id':_0x1cb8e4[_0x24a321(0x5c0)]['id']};_0xd4e67a=JSON['stringify'](_0x1cb8e4),this[_0x24a321(0x167)]['verbose'](this[_0x24a321(0x523)]+'\x20('+this[_0x24a321(0x17a)]['wuid']+'):\x20'+_0xd4e67a);}catch(_0x4ae9de){this[_0x24a321(0x167)]['error'](this['instanceName']+'\x20('+this[_0x24a321(0x17a)][_0x24a321(0x164)]+_0x24a321(0x3e2)+(_0x4ae9de instanceof Error?_0x4ae9de[_0x24a321(0x711)]:JSON[_0x24a321(0x2db)](_0x4ae9de,null,0x2))),_0xd4e67a=_0x4ae9de[_0x24a321(0x711)];}if(_0xd4e67a)return{'error':!0x0,'detail':(typeof _0xd4e67a=='object'?JSON['stringify'](_0xd4e67a,null,0x2):_0xd4e67a)[_0x24a321(0x427)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x313677(0x660)](_0x3dd6a4,_0x48c3e2){const _0x1bc34e=a0_0x313677;this[_0x1bc34e(0x167)]['verbose'](this[_0x1bc34e(0x523)]+'\x20('+this['instance'][_0x1bc34e(0x164)]+_0x1bc34e(0x189));let _0x4139f0;if(_0x3dd6a4[_0x1bc34e(0x711)]['text']&&_0x3dd6a4['message'][_0x1bc34e(0x37a)][_0x1bc34e(0x1c3)]>0x0){let _0x24fe7c=this[_0x1bc34e(0x392)](_0x3dd6a4['message'][_0x1bc34e(0x37a)]);_0x4139f0=await this['replaceVariablesChat'](_0x24fe7c,_0x48c3e2);}let _0x189538={'number':_0x48c3e2,'options':{'delay':_0x3dd6a4['message']['delay']},'mediaMessage':{'mediatype':_0x3dd6a4[_0x1bc34e(0x711)][_0x1bc34e(0x1f3)],'caption':_0x4139f0,'media':_0x3dd6a4[_0x1bc34e(0x711)][_0x1bc34e(0x42c)]}},_0x2ffce8=null;try{let _0x4a4380=await this[_0x1bc34e(0x59d)](_0x189538);if(_0x4a4380&&_0x4a4380['status'])return{'error':!0x1,'id':_0x4a4380[_0x1bc34e(0x5c0)]['id']};_0x2ffce8=JSON[_0x1bc34e(0x2db)](_0x4a4380),this[_0x1bc34e(0x167)]['verbose'](this[_0x1bc34e(0x523)]+'\x20('+this[_0x1bc34e(0x17a)][_0x1bc34e(0x164)]+'):\x20'+_0x2ffce8);}catch(_0x185cb6){this[_0x1bc34e(0x167)][_0x1bc34e(0x54e)](this[_0x1bc34e(0x523)]+'\x20('+this[_0x1bc34e(0x17a)][_0x1bc34e(0x164)]+_0x1bc34e(0x438)+(_0x185cb6 instanceof Error?_0x185cb6[_0x1bc34e(0x711)]:JSON[_0x1bc34e(0x2db)](_0x185cb6,null,0x2))),_0x2ffce8=_0x185cb6[_0x1bc34e(0x711)];}if(_0x2ffce8)return{'error':!0x0,'detail':(typeof _0x2ffce8==_0x1bc34e(0x492)?JSON[_0x1bc34e(0x2db)](_0x2ffce8,null,0x2):_0x2ffce8)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x313677(0x177)](_0x27199e,_0x44e6c7){const _0x5df25d=a0_0x313677;this[_0x5df25d(0x167)][_0x5df25d(0x644)](this[_0x5df25d(0x523)]+'\x20('+this[_0x5df25d(0x17a)]['wuid']+_0x5df25d(0x5ef));let _0x5cb457={'number':_0x44e6c7,'options':{'delay':_0x27199e[_0x5df25d(0x711)]['delay']},'audioMessage':{'audio':_0x27199e[_0x5df25d(0x711)][_0x5df25d(0x42c)]}},_0x145827=null;try{let _0x175db9=await this['audioWhatsapp'](_0x5cb457);if(_0x175db9&&_0x175db9[_0x5df25d(0x57d)])return{'error':!0x1,'id':_0x175db9[_0x5df25d(0x5c0)]['id']};_0x145827=JSON[_0x5df25d(0x2db)](_0x175db9),this[_0x5df25d(0x167)][_0x5df25d(0x644)](this[_0x5df25d(0x523)]+'\x20('+this[_0x5df25d(0x17a)][_0x5df25d(0x164)]+_0x5df25d(0x4a7)+_0x145827);}catch(_0x55cf3f){this['logger'][_0x5df25d(0x54e)](this[_0x5df25d(0x523)]+'\x20('+this[_0x5df25d(0x17a)][_0x5df25d(0x164)]+_0x5df25d(0x417)+(_0x55cf3f instanceof Error?_0x55cf3f[_0x5df25d(0x711)]:JSON[_0x5df25d(0x2db)](_0x55cf3f,null,0x2))),_0x145827=_0x55cf3f['message'];}if(_0x145827)return{'error':!0x0,'detail':(typeof _0x145827==_0x5df25d(0x492)?JSON[_0x5df25d(0x2db)](_0x145827,null,0x2):_0x145827)['replace'](/[\[\]{}\n]/g,'\x20')[_0x5df25d(0x427)](/  +/g,'\x20')};}},_t=class c{constructor(_0x4b3815,_0x3870e2,_0x2390b2){const _0x5e0c14=a0_0x313677;this['eventEmitter']=_0x4b3815,this[_0x5e0c14(0x416)]=_0x3870e2,this[_0x5e0c14(0x5b2)]=_0x2390b2,this['db']={},this[_0x5e0c14(0x4e3)]={},this[_0x5e0c14(0x167)]=new v(c[_0x5e0c14(0x4af)]),this['waInstances']={},(this[_0x5e0c14(0x724)](),this[_0x5e0c14(0x736)](),Object['assign'](this['db'],_0x3870e2['get'](_0x5e0c14(0x5df))),Object['assign'](this[_0x5e0c14(0x4e3)],_0x3870e2[_0x5e0c14(0x749)](_0x5e0c14(0x1cb))),this[_0x5e0c14(0x15a)]=this['db'][_0x5e0c14(0x3d7)]?this[_0x5e0c14(0x5b2)][_0x5e0c14(0x4fc)]?.['db'](this['db'][_0x5e0c14(0x73f)][_0x5e0c14(0x34c)]+_0x5e0c14(0x15f)):void 0x0,this[_0x5e0c14(0x752)]=this['redis'][_0x5e0c14(0x3d7)]?new re(this[_0x5e0c14(0x4e3)]):void 0x0);}async[a0_0x313677(0x333)](_0x7a5528){const _0x17584e=a0_0x313677;if(_0x7a5528&&!this[_0x17584e(0x451)][_0x7a5528])throw new j('Instance\x20\x22'+_0x7a5528+_0x17584e(0x2f7));let _0xb8ee3a=[];for await(let [_0x3a77cb,_0x46448e]of Object[_0x17584e(0x604)](this['waInstances']))if(_0x46448e&&_0x46448e['connectionStatus']['state']===_0x17584e(0x43a)){let _0x2c3afc=await this['repository']['auth']['find'](_0x3a77cb);_0xb8ee3a[_0x17584e(0x64c)]({'instance':{'instanceName':_0x3a77cb,'apikey':_0x2c3afc['apikey'],'owner':_0x46448e[_0x17584e(0x164)],'profileName':await _0x46448e[_0x17584e(0x5b1)]()||_0x17584e(0x710),'profilePictureUrl':_0x46448e['profilePictureUrl']}});}return _0xb8ee3a[_0x17584e(0x144)](_0x2c9208=>_0x2c9208[_0x17584e(0x17a)][_0x17584e(0x523)]===_0x7a5528)??_0xb8ee3a;}async[a0_0x313677(0x37e)](_0x4e58b3){const _0x38fa6e=a0_0x313677;if(this['db'][_0x38fa6e(0x3d7)]&&(await this[_0x38fa6e(0x5b2)][_0x38fa6e(0x4fc)][_0x38fa6e(0x433)](),(await this[_0x38fa6e(0x15a)][_0x38fa6e(0x6cf)]())[_0x38fa6e(0x1c3)]>0x0&&await this[_0x38fa6e(0x15a)][_0x38fa6e(0x4c8)](_0x4e58b3)),this['redis'][_0x38fa6e(0x3d7)]){this[_0x38fa6e(0x752)]['reference']=_0x4e58b3,await this['cache'][_0x38fa6e(0x324)]();return;}}async[a0_0x313677(0x51f)](){const _0x40c957=a0_0x313677;await this[_0x40c957(0x6ba)]();let _0x4ce398=async _0x44990b=>{const _0x5d37a3=_0x40c957;let _0xe019bc=new ye(this[_0x5d37a3(0x416)],this['eventEmitter'],this[_0x5d37a3(0x5b2)]);_0xe019bc[_0x5d37a3(0x523)]=_0x44990b,await _0xe019bc['connectToWhatsapp'](),this[_0x5d37a3(0x451)][_0x44990b]=_0xe019bc;};try{if(this['redis'][_0x40c957(0x3d7)]){let _0x3f2bfa=await this[_0x40c957(0x752)][_0x40c957(0x30e)]();_0x3f2bfa?.[_0x40c957(0x1c3)]>0x0&&_0x3f2bfa[_0x40c957(0x6c9)](async _0x29aff5=>await _0x4ce398(_0x29aff5[_0x40c957(0x58d)](':')[0x1]));return;}if(this['db'][_0x40c957(0x3d7)]){await this[_0x40c957(0x5b2)][_0x40c957(0x4fc)]['connect']();let _0x5c4c51=await this[_0x40c957(0x15a)][_0x40c957(0x6cf)]();_0x5c4c51[_0x40c957(0x1c3)]>0x0&&_0x5c4c51[_0x40c957(0x6c9)](async _0x596baf=>await _0x4ce398(_0x596baf[_0x40c957(0x5ac)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x4763f7){this[_0x40c957(0x167)][_0x40c957(0x54e)](_0x4763f7);}}async[a0_0x313677(0x4cd)](){const _0x3568a3=a0_0x313677;let _0x378158=await this[_0x3568a3(0x5b2)][_0x3568a3(0x19a)][_0x3568a3(0x153)](),_0x4352d8=_0x378158[_0x3568a3(0x39d)](_0x5973f3=>!this[_0x3568a3(0x451)][_0x5973f3[_0x3568a3(0x510)]]&&(_0x5973f3['online']||typeof _0x5973f3[_0x3568a3(0x320)]>'u'));_0x4352d8['length']>0x0&&await Promise[_0x3568a3(0x3b7)](_0x4352d8[_0x3568a3(0x217)](async _0x16c368=>{const _0x13e027=_0x3568a3;let _0x3bdc8d={'online':!0x1,'lastDisconnect':Date[_0x13e027(0x447)]()};await this[_0x13e027(0x5b2)][_0x13e027(0x19a)][_0x13e027(0x568)](_0x3bdc8d,_0x16c368[_0x13e027(0x510)]);}));let _0x5874ce=Date[_0x3568a3(0x447)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x339c0f=_0x378158[_0x3568a3(0x39d)](_0x24989d=>!this[_0x3568a3(0x451)][_0x24989d[_0x3568a3(0x510)]]&&typeof _0x24989d[_0x3568a3(0x727)]<'u'&&_0x24989d[_0x3568a3(0x727)]<_0x5874ce);_0x339c0f[_0x3568a3(0x1c3)]>0x0&&await Promise[_0x3568a3(0x3b7)](_0x339c0f['map'](async _0x10216d=>{}));}async['InstancesAlterarTodas'](){const _0x1ef260=a0_0x313677;try{let _0x50f2d9={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x50be17={'online':!0x1,'lastDisconnect':Date['now']()},_0x5243c1=await this[_0x1ef260(0x5b2)][_0x1ef260(0x19a)][_0x1ef260(0x778)](_0x50f2d9,_0x50be17);console[_0x1ef260(0x17d)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x5243c1[_0x1ef260(0x3fd)]),await this['removeOlderDisconnectedInstances']();}catch(_0x4feecb){console[_0x1ef260(0x54e)](_0x1ef260(0x6af),_0x4feecb);}}async['removeOlderDisconnectedInstances'](){const _0x3ece5e=a0_0x313677;try{let _0x3478f8={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0xcbdfb0=await this[_0x3ece5e(0x5b2)][_0x3ece5e(0x19a)][_0x3ece5e(0x671)](_0x3478f8);console[_0x3ece5e(0x17d)](_0x3ece5e(0x55e)+_0xcbdfb0[_0x3ece5e(0x3fd)]);}catch(_0x58e478){console[_0x3ece5e(0x54e)](_0x3ece5e(0x57f),_0x58e478);}}[a0_0x313677(0x724)](){const _0x51fee9=a0_0x313677;this[_0x51fee9(0x729)]['on'](_0x51fee9(0x4f4),async _0x451b53=>{const _0x5ba177=_0x51fee9;try{this[_0x5ba177(0x451)][_0x451b53]=void 0x0;}catch{}try{this[_0x5ba177(0x37e)](_0x451b53);}finally{this['logger'][_0x5ba177(0x40a)](_0x5ba177(0x709)+_0x451b53+_0x5ba177(0x628));}});}[a0_0x313677(0x736)](){const _0x534528=a0_0x313677;this[_0x534528(0x729)]['on'](_0x534528(0x17e),async _0xbc3848=>{const _0x172d52=_0x534528;try{this[_0x172d52(0x451)][_0xbc3848]=void 0x0;}catch{}try{this['cleaningUp'](_0xbc3848);}finally{this['logger'][_0x172d52(0x40a)](_0x172d52(0x709)+_0xbc3848+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Pt=class extends I{[a0_0x313677(0x24b)](_0x3a51f8){return Js(_0x3a51f8);}async[a0_0x313677(0x47b)](_0x21263a){const _0x920851=a0_0x313677;if(_0x21263a[_0x920851(0x1c3)]!==0x0)try{return{'insertCount':(await this[_0x920851(0x24b)](_0x21263a[0x0][_0x920851(0x266)])['insertMany']([..._0x21263a]))['length']};}catch(_0x555e8e){return _0x555e8e;}}async[a0_0x313677(0x144)](_0x19411f,_0x92ae8c){const _0x528d21=a0_0x313677;try{let _0xe8c76d=this['getChatModelForOwner'](_0x92ae8c),_0x3e8bb1=A(_0x19411f[_0x528d21(0x408)]);return await _0xe8c76d['find'](_0x3e8bb1)[_0x528d21(0x312)]({'lastmsg':-0x1})[_0x528d21(0x3d1)](_0x19411f?.['limit']??0x0)[_0x528d21(0x1b8)]();}catch{return[];}}async[a0_0x313677(0x664)](_0x2f5037,_0x2b76f1){const _0x2f3b1e=a0_0x313677;try{return await this[_0x2f3b1e(0x24b)](_0x2b76f1)['deleteMany']({..._0x2f5037[_0x2f3b1e(0x408)]}),[];}catch(_0x169423){return{'error':_0x169423?.[_0x2f3b1e(0x3eb)]()};}}async[a0_0x313677(0x330)](_0x4eed48,_0x548c22){const _0xafdb99=a0_0x313677;try{let _0x1f367b=this[_0xafdb99(0x24b)](_0x548c22),_0xe3a8ff=A(_0x4eed48['where']);return await _0x1f367b[_0xafdb99(0x330)](_0xe3a8ff)['lean']();}catch{return null;}}async[a0_0x313677(0x471)](_0x446cc8,_0x4baeeb,_0x555449,_0x429ba0,_0x75e8d2=a0_0x313677(0x787)){const _0x1c1397=a0_0x313677;try{let _0x1b7757={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x429ba0},_0x326332=this[_0x1c1397(0x24b)](_0x555449),_0x4d0f50=A(_0x446cc8[_0x1c1397(0x408)]);Object[_0x1c1397(0x72a)](_0x4baeeb)[_0x1c1397(0x6c9)](_0x51f474=>{_0x4baeeb[_0x51f474]==null&&delete _0x4baeeb[_0x51f474];});let _0x1b7a16={};return _0x1b7a16[_0x75e8d2]=_0x4baeeb,await _0x326332[_0x1c1397(0x174)](_0x4d0f50,_0x1b7a16,_0x1b7757);}catch(_0x418fb0){return console[_0x1c1397(0x54e)](_0x418fb0),null;}}async[a0_0x313677(0x4aa)](_0x31bd97){const _0x1c7253=a0_0x313677;try{let _0x4a467a=this[_0x1c7253(0x24b)](_0x31bd97[0x0][_0x1c7253(0x3e7)]['where']['owner']),_0x2952bd=_0x31bd97[_0x1c7253(0x217)](_0x4d59b5=>({'updateOne':{'filter':{..._0x4d59b5[_0x1c7253(0x3e7)][_0x1c7253(0x408)]},'update':{'$set':_0x4d59b5[_0x1c7253(0x321)]},'upsert':!0x0}})),_0x420807=await _0x4a467a[_0x1c7253(0x60c)](_0x2952bd);return _0x420807[_0x1c7253(0x173)]+_0x420807['upsertedCount'];}catch(_0x478328){return console[_0x1c7253(0x54e)](_0x478328),0x0;}}async[a0_0x313677(0x201)](_0x42f131){const _0x2fadda=a0_0x313677;try{let _0x547ff5=this[_0x2fadda(0x24b)](_0x42f131),_0x587338={'labels':{'$exists':!0x0}},_0x46956e={'$unset':{'labels':''}};return(await _0x547ff5['updateMany'](_0x587338,_0x46956e))[_0x2fadda(0x173)];}catch(_0x39855a){return console[_0x2fadda(0x54e)](_0x39855a),0x0;}}async['removeAugusto'](_0xd5b70){const _0x1ef5ba=a0_0x313677;try{let _0x532c69=this[_0x1ef5ba(0x24b)](_0xd5b70),_0x375cf2={'leadInfo.nome':_0x1ef5ba(0x475)},_0x4977a4={'leadInfo.nome':''};return(await _0x532c69[_0x1ef5ba(0x4aa)](_0x375cf2,_0x4977a4))[_0x1ef5ba(0x173)];}catch(_0x1c9fee){return console[_0x1ef5ba(0x54e)](_0x1c9fee),0x0;}}async['updateMissingEtiquetas'](_0x5e411f){const _0x7314ab=a0_0x313677;try{let _0x2b700f=this['getChatModelForOwner'](_0x5e411f),_0x2c14a6={'leadInfo.etiquetas':{'$exists':!0x1}},_0x54ba96={'$set':{'leadInfo.etiquetas':[]}};return(await _0x2b700f[_0x7314ab(0x4aa)](_0x2c14a6,_0x54ba96))[_0x7314ab(0x173)];}catch(_0x3aac21){return console['error'](_0x3aac21),0x0;}}async[a0_0x313677(0x5a3)](_0x2f51ad){const _0x375ff7=a0_0x313677;try{let _0x204162=this[_0x375ff7(0x24b)](_0x2f51ad),_0x2db006={'leadInfo.tags':{'$exists':!0x1}},_0x47af97={'$set':{'leadInfo.tags':[]}};return(await _0x204162[_0x375ff7(0x4aa)](_0x2db006,_0x47af97))[_0x375ff7(0x173)];}catch(_0x1478c2){return console['error'](_0x1478c2),0x0;}}async[a0_0x313677(0x1bc)](_0x4f2e8e){const _0x552478=a0_0x313677;try{let _0x15460d=this['getChatModelForOwner'](_0x4f2e8e),_0x7a811f={'leadInfo.customFields':{'$exists':!0x1}},_0x1521eb={'$set':{'leadInfo.customFields':[]}};return(await _0x15460d[_0x552478(0x4aa)](_0x7a811f,_0x1521eb))[_0x552478(0x173)];}catch(_0x2fadad){return console['error'](_0x2fadad),0x0;}}async[a0_0x313677(0x403)](_0x216b58,_0xeaf58d){const _0x19b9da=a0_0x313677;if(!Array['isArray'](_0x216b58)||_0x216b58[_0x19b9da(0x1c3)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this['getChatModelForOwner'](_0xeaf58d)[_0x19b9da(0x403)](_0x216b58))[_0x19b9da(0x1c3)];}catch(_0x42bbbe){throw console[_0x19b9da(0x54e)](_0x19b9da(0x3f1),_0x42bbbe),_0x42bbbe;}}async[a0_0x313677(0x215)](_0x424650,_0x519e65){const _0x3c8c22=a0_0x313677;try{await this[_0x3c8c22(0x24b)](_0x519e65)['deleteOne']({'_id':_0x424650});}catch(_0x39e4cf){throw console['error'](_0x3c8c22(0x528),_0x39e4cf),_0x39e4cf;}}},$t=class extends I{[a0_0x313677(0x3b9)](_0x1384c0){return da(_0x1384c0);}async[a0_0x313677(0x471)](_0x485f3f,_0x137197,_0x5e8a35,_0x11ff55){const _0x3236da=a0_0x313677;try{let _0x29c980={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x11ff55},_0x25c32c=this[_0x3236da(0x3b9)](_0x5e8a35),_0x468129=A(_0x485f3f[_0x3236da(0x408)]);return await _0x25c32c[_0x3236da(0x174)](_0x468129,{'$set':_0x137197},_0x29c980);}catch(_0x4395a6){return console[_0x3236da(0x54e)](_0x4395a6),null;}}async[a0_0x313677(0x144)](_0x317c37,_0x22a67b){const _0x57fb07=a0_0x313677;try{let _0x30b273=this['getLabelModelForOwner'](_0x22a67b),_0x1b3e06=A(_0x317c37['where']);return await _0x30b273[_0x57fb07(0x144)](_0x1b3e06);}catch(_0x52de95){console[_0x57fb07(0x54e)](_0x52de95);}}async[a0_0x313677(0x686)](_0x55ecbd,_0x28acde){const _0x3d30c2=a0_0x313677;try{let _0x48dcea=this[_0x3d30c2(0x3b9)](_0x28acde),_0x2c587e=A(_0x55ecbd['where']);await _0x48dcea[_0x3d30c2(0x671)](_0x2c587e);}catch(_0x41eb63){console[_0x3d30c2(0x54e)](_0x41eb63);}}async['deleteAll'](_0x57bc49){const _0x31c98e=a0_0x313677;try{return await this[_0x31c98e(0x3b9)](_0x57bc49)[_0x31c98e(0x497)][_0x31c98e(0x2e7)](),{'success':!0x0};}catch(_0x359138){return console[_0x31c98e(0x54e)](_0x359138),{'success':!0x1,'error':_0x359138};}}},kt=class{constructor(_0x337cd1){this['waMonitor']=_0x337cd1;}async['editChat']({instanceName:_0x4202f5},_0x53c94e){const _0x17710a=a0_0x313677;return await this[_0x17710a(0x35a)][_0x17710a(0x451)][_0x4202f5][_0x17710a(0x2cf)](_0x53c94e);}async[a0_0x313677(0x521)]({instanceName:_0x16e517},_0xde7d8d){const _0x1215fa=a0_0x313677;return await this['waMonitor']['waInstances'][_0x16e517][_0x1215fa(0x521)](_0xde7d8d);}async[a0_0x313677(0x31b)]({instanceName:_0x4c916},_0x168edb){const _0x353f0e=a0_0x313677;return await this[_0x353f0e(0x35a)]['waInstances'][_0x4c916][_0x353f0e(0x31b)](_0x168edb);}async['readMessage']({instanceName:_0x4c8209},_0x26b516){const _0x249f2f=a0_0x313677;return await this[_0x249f2f(0x35a)]['waInstances'][_0x4c8209][_0x249f2f(0x2eb)](_0x26b516);}async[a0_0x313677(0x295)]({instanceName:_0xfd8ea0},_0x301406){const _0x1d31e3=a0_0x313677;return await this[_0x1d31e3(0x35a)][_0x1d31e3(0x451)][_0xfd8ea0]['archiveChat'](_0x301406);}async['deleteMessage']({instanceName:_0x5088fd},_0x18e23d){const _0x402859=a0_0x313677;return await this[_0x402859(0x35a)][_0x402859(0x451)][_0x5088fd][_0x402859(0x502)](_0x18e23d);}async[a0_0x313677(0x30a)]({instanceName:_0x41c87b},_0x2609ba){const _0x13e8a6=a0_0x313677;return await this[_0x13e8a6(0x35a)][_0x13e8a6(0x451)][_0x41c87b][_0x13e8a6(0x424)](_0x2609ba[_0x13e8a6(0x2d9)]);}async['fetchProfile']({instanceName:_0x51cb3d},_0x57cdce){const _0x447d4d=a0_0x313677;return await this[_0x447d4d(0x35a)][_0x447d4d(0x451)][_0x51cb3d]['fetchProfile'](_0x57cdce[_0x447d4d(0x2d9)]);}async[a0_0x313677(0x3b8)]({instanceName:_0x303d39},_0x3a4a67){const _0x3b872d=a0_0x313677;return await this[_0x3b872d(0x35a)][_0x3b872d(0x451)][_0x303d39]['updatePresence'](_0x3a4a67);}async[a0_0x313677(0x3c9)]({instanceName:_0x58bc76},_0x29b1e6){const _0x45acbc=a0_0x313677;return await this[_0x45acbc(0x35a)][_0x45acbc(0x451)][_0x58bc76][_0x45acbc(0x3c9)](_0x29b1e6);}async['getBase64FromMediaMessage']({instanceName:_0x2297ab},_0x3517b0){const _0x28e40b=a0_0x313677;return await this[_0x28e40b(0x35a)][_0x28e40b(0x451)][_0x2297ab][_0x28e40b(0x759)](_0x3517b0);}async[a0_0x313677(0x3a7)]({instanceName:_0x2e1b39},_0x1c4377){const _0x62db93=a0_0x313677;return await this[_0x62db93(0x35a)][_0x62db93(0x451)][_0x2e1b39][_0x62db93(0x3a7)](_0x1c4377);}async[a0_0x313677(0x150)]({instanceName:_0x4f1779}){const _0x1f4751=a0_0x313677;return await this['waMonitor'][_0x1f4751(0x451)][_0x4f1779][_0x1f4751(0x150)]();}async[a0_0x313677(0x4e6)]({instanceName:_0x42ab14}){const _0x83feca=a0_0x313677;return await this['waMonitor']['waInstances'][_0x42ab14][_0x83feca(0x4e6)]();}async[a0_0x313677(0x69d)]({instanceName:_0x11392d}){const _0x57bbab=a0_0x313677;return await this[_0x57bbab(0x35a)][_0x57bbab(0x451)][_0x11392d][_0x57bbab(0x69d)]();}async[a0_0x313677(0x1a4)]({instanceName:_0xce10eb},_0x18664e){const _0x3d2a70=a0_0x313677;return await this[_0x3d2a70(0x35a)][_0x3d2a70(0x451)][_0xce10eb][_0x3d2a70(0x1a4)](_0x18664e);}async[a0_0x313677(0x4f1)]({instanceName:_0x442a7f},_0x520760){const _0x45a286=a0_0x313677;return await this[_0x45a286(0x35a)][_0x45a286(0x451)][_0x442a7f][_0x45a286(0x4f1)](_0x520760[_0x45a286(0x2d9)]);}async[a0_0x313677(0x2f0)]({instanceName:_0x14748f},_0x2f358a){const _0x119635=a0_0x313677;return await this[_0x119635(0x35a)][_0x119635(0x451)][_0x14748f][_0x119635(0x2f0)](_0x2f358a[_0x119635(0x4af)]);}async[a0_0x313677(0x60a)]({instanceName:_0x20b537},_0xdadf6b){const _0x2a9bb1=a0_0x313677;return await this['waMonitor'][_0x2a9bb1(0x451)][_0x20b537][_0x2a9bb1(0x60a)](_0xdadf6b[_0x2a9bb1(0x57d)]);}async[a0_0x313677(0x33d)]({instanceName:_0x1ddab6},_0x4b56be){const _0x20933a=a0_0x313677;return await this[_0x20933a(0x35a)]['waInstances'][_0x1ddab6]['updateProfilePicture'](_0x4b56be[_0x20933a(0x5a2)]);}async['removeProfilePicture']({instanceName:_0x5bf0eb},_0x4ff4e0){const _0x51d8dc=a0_0x313677;return await this[_0x51d8dc(0x35a)]['waInstances'][_0x5bf0eb][_0x51d8dc(0x373)]();}},Rs=require(a0_0x313677(0x509)),Lt=class c{constructor(_0x277681,_0x1231b2,_0x144229,_0x2b499a,_0x19f4fc){const _0x5baa8c=a0_0x313677;this[_0x5baa8c(0x35a)]=_0x277681,this[_0x5baa8c(0x416)]=_0x1231b2,this[_0x5baa8c(0x5b2)]=_0x144229,this['eventEmitter']=_0x2b499a,this['authService']=_0x19f4fc,this[_0x5baa8c(0x167)]=new v(c[_0x5baa8c(0x4af)]);}async[a0_0x313677(0x221)]({instanceName:_0x3b5a5b,apikey:_0x1146e2,number:_0x2d9008,proxy:_0x4171e4=!0x0}){const _0x3e9f22=a0_0x313677;try{let _0x4b2f57=new ye(this['configService'],this[_0x3e9f22(0x729)],this[_0x3e9f22(0x5b2)]);_0x4b2f57[_0x3e9f22(0x523)]=_0x3b5a5b,this[_0x3e9f22(0x35a)][_0x3e9f22(0x451)][_0x4b2f57[_0x3e9f22(0x523)]]=_0x4b2f57;let _0x10c051={};_0x1146e2?(await this[_0x3e9f22(0x5b2)][_0x3e9f22(0x19a)][_0x3e9f22(0x568)]({'apikey':_0x1146e2},_0x3b5a5b),_0x10c051[_0x3e9f22(0x309)]=_0x1146e2):_0x10c051=await this[_0x3e9f22(0x73d)][_0x3e9f22(0x658)]({'instanceName':_0x4b2f57[_0x3e9f22(0x523)]});let _0x3714a8;return await _0x4b2f57[_0x3e9f22(0x1bd)](_0x2d9008,_0x4171e4),await(0x0,Rs['delay'])(0x7d0),_0x3714a8=_0x4b2f57[_0x3e9f22(0x71f)],{'instance':{'instanceName':_0x4b2f57['instanceName'],'status':'created'},'hash':_0x10c051,'qrcode':_0x3714a8};}catch(_0x3a3347){this[_0x3e9f22(0x167)]['error'](_0x3a3347);}}async[a0_0x313677(0x6ef)]({instanceName:_0x2059ff,number:_0x411497=null,proxy:_0x454890=!0x0}){const _0x218ed0=a0_0x313677;try{let _0x5d26ab=this[_0x218ed0(0x35a)][_0x218ed0(0x451)][_0x2059ff];switch(_0x5d26ab?.['connectionStatus']?.[_0x218ed0(0x368)]){case _0x218ed0(0x21d):return await _0x5d26ab['connectToWhatsapp'](_0x411497,_0x454890),await(0x0,Rs[_0x218ed0(0x3f4)])(0x7d0),_0x5d26ab[_0x218ed0(0x71f)];case _0x218ed0(0x550):return _0x5d26ab[_0x218ed0(0x71f)];default:return await this['connectionState']({'instanceName':_0x2059ff});}}catch(_0x3883c9){this[_0x218ed0(0x167)]['log'](_0x3883c9);}}async[a0_0x313677(0x37f)]({instanceName:_0x37f5d5}){const _0x5333a7=a0_0x313677;let _0x47207a=this[_0x5333a7(0x35a)][_0x5333a7(0x451)][_0x37f5d5][_0x5333a7(0x712)],_0x2bc43d=null;_0x47207a[_0x5333a7(0x368)]===_0x5333a7(0x43a)&&_0x37f5d5&&(_0x2bc43d=await this[_0x5333a7(0x35a)]['instanceInfo'](_0x37f5d5));let _0x38097c=null;return _0x47207a[_0x5333a7(0x368)]===_0x5333a7(0x550)&&_0x37f5d5&&(_0x38097c=this[_0x5333a7(0x35a)][_0x5333a7(0x451)][_0x37f5d5]['qrCode']),{'instance':_0x37f5d5,'connectionStatus':_0x47207a,'instanceInfo':_0x2bc43d,'qrcode':_0x38097c};}async[a0_0x313677(0x206)]({instanceName:_0xd1b473}){const _0x33113a=a0_0x313677;try{return this[_0x33113a(0x35a)]['waInstances'][_0xd1b473]?.[_0x33113a(0x4b9)]?.['ws']?.[_0x33113a(0x21d)](),{'status':_0x33113a(0x20d),'error':!0x1,'response':{'message':_0x33113a(0x307)}};}catch(_0x5149c4){this[_0x33113a(0x167)][_0x33113a(0x54e)](_0x5149c4);}}async[a0_0x313677(0x357)]({instanceName:_0x24988b}){const _0x507858=a0_0x313677;return _0x24988b?this[_0x507858(0x35a)][_0x507858(0x333)](_0x24988b):this['waMonitor']['instanceInfo']();}async[a0_0x313677(0x472)]({instanceName:_0x3c09e6}){const _0x26404a=a0_0x313677;try{return await this['waMonitor'][_0x26404a(0x451)][_0x3c09e6]?.[_0x26404a(0x4b9)]?.['logout'](_0x26404a(0x735)+_0x3c09e6),{'error':!0x1,'message':_0x26404a(0x4e1)};}catch(_0x3ad385){throw new O(_0x3ad385['toString']());}}async[a0_0x313677(0x79b)]({instanceName:_0x4ecfa9}){const _0x154361=a0_0x313677;if((await this[_0x154361(0x37f)]({'instanceName':_0x4ecfa9}))['connectionStatus'][_0x154361(0x368)]===_0x154361(0x43a))throw new m([_0x154361(0x61f),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this['waMonitor'][_0x154361(0x451)][_0x4ecfa9],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x2be1ff){throw new m(_0x2be1ff[_0x154361(0x3eb)]());}}},Z=require(a0_0x313677(0x2c9)),jt=class{constructor(_0x11f236){this['waMonitor']=_0x11f236;}async['sendText']({instanceName:_0x2c4d87},_0xc2e3d6){const _0x42ae11=a0_0x313677;return await this[_0x42ae11(0x35a)]['waInstances'][_0x2c4d87][_0x42ae11(0x305)](_0xc2e3d6);}async[a0_0x313677(0x5cb)]({instanceName:_0xf9287a},_0x3b00c9){const _0x597799=a0_0x313677;return await this['waMonitor']['waInstances'][_0xf9287a][_0x597799(0x323)](_0x3b00c9);}async[a0_0x313677(0x3af)]({instanceName:_0x5b8957},_0x19d333){const _0xe685df=a0_0x313677;if((0x0,Z['isBase64'])(_0x19d333?.['mediaMessage']?.[_0xe685df(0x273)])&&!_0x19d333?.[_0xe685df(0x59d)]?.[_0xe685df(0x375)])throw new m(_0xe685df(0x56a));if((0x0,Z[_0xe685df(0x356)])(_0x19d333?.['mediaMessage']?.[_0xe685df(0x273)])||(0x0,Z[_0xe685df(0x56f)])(_0x19d333?.[_0xe685df(0x59d)]?.['media']))return await this[_0xe685df(0x35a)][_0xe685df(0x451)][_0x5b8957][_0xe685df(0x59d)](_0x19d333);throw new m(_0xe685df(0x4a9));}async[a0_0x313677(0x5a5)]({instanceName:_0x27b852},_0x179c1d){const _0x2a2661=a0_0x313677;if((0x0,Z[_0x2a2661(0x356)])(_0x179c1d[_0x2a2661(0x6eb)][_0x2a2661(0x49f)])||(0x0,Z[_0x2a2661(0x56f)])(_0x179c1d['stickerMessage'][_0x2a2661(0x49f)]))return await this['waMonitor'][_0x2a2661(0x451)][_0x27b852][_0x2a2661(0x51a)](_0x179c1d);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x313677(0x2ca)]({instanceName:_0x22b577},_0x271b04){const _0x51bd31=a0_0x313677;if((0x0,Z[_0x51bd31(0x356)])(_0x271b04[_0x51bd31(0x6f8)][_0x51bd31(0x741)])||(0x0,Z[_0x51bd31(0x56f)])(_0x271b04['audioMessage'][_0x51bd31(0x741)]))return await this[_0x51bd31(0x35a)][_0x51bd31(0x451)][_0x22b577][_0x51bd31(0x4eb)](_0x271b04);throw new m(_0x51bd31(0x4a9));}async[a0_0x313677(0x4e4)]({instanceName:_0x5df5ff},_0x4a4344){const _0x17f0a2=a0_0x313677;if((0x0,Z[_0x17f0a2(0x56f)])(_0x4a4344[_0x17f0a2(0x4f6)][_0x17f0a2(0x59d)]?.[_0x17f0a2(0x273)])&&!_0x4a4344['buttonMessage'][_0x17f0a2(0x59d)]?.[_0x17f0a2(0x375)])throw new m(_0x17f0a2(0x56a));return await this['waMonitor'][_0x17f0a2(0x451)][_0x5df5ff]['buttonMessage'](_0x4a4344);}async[a0_0x313677(0x622)]({instanceName:_0x13b2a5},_0x8c6584){const _0x554aa3=a0_0x313677;return await this[_0x554aa3(0x35a)]['waInstances'][_0x13b2a5][_0x554aa3(0x5e5)](_0x8c6584);}async[a0_0x313677(0x52a)]({instanceName:_0x2d63f3},_0x177e8a){const _0x4183f3=a0_0x313677;return await this[_0x4183f3(0x35a)][_0x4183f3(0x451)][_0x2d63f3][_0x4183f3(0x251)](_0x177e8a);}async[a0_0x313677(0x797)]({instanceName:_0xad5ce1},_0x6781d4){const _0x4ba818=a0_0x313677;return await this[_0x4ba818(0x35a)][_0x4ba818(0x451)][_0xad5ce1]['listMessage'](_0x6781d4);}async['sendContact']({instanceName:_0x1483b2},_0x2ec0e5){const _0x3fa37d=a0_0x313677;return await this[_0x3fa37d(0x35a)][_0x3fa37d(0x451)][_0x1483b2]['contactMessage'](_0x2ec0e5);}async[a0_0x313677(0x461)]({instanceName:_0x34a06b},_0x5897ed){const _0x28039f=a0_0x313677;if(!_0x5897ed[_0x28039f(0x470)][_0x28039f(0x23f)][_0x28039f(0x242)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x28039f(0x512));return await this[_0x28039f(0x35a)][_0x28039f(0x451)][_0x34a06b][_0x28039f(0x470)](_0x5897ed);}async['sendStatus']({instanceName:_0x27bc92},_0x323d6b){const _0x4afabf=a0_0x313677;return await this[_0x4afabf(0x35a)]['waInstances'][_0x27bc92][_0x4afabf(0x6a0)](_0x323d6b);}},Er=require(a0_0x313677(0x786)),Ts=require(a0_0x313677(0x14b)),Ft=class c{constructor(_0x139ffe,_0x18ac4f,_0x2a5212){const _0x6ee41=a0_0x313677;this[_0x6ee41(0x416)]=_0x139ffe,this[_0x6ee41(0x35a)]=_0x18ac4f,this[_0x6ee41(0x5b2)]=_0x2a5212,this[_0x6ee41(0x167)]=new v(c[_0x6ee41(0x4af)]);}async[a0_0x313677(0x4b1)](_0x51f0ae){const _0x51ff43=a0_0x313677;let _0x341957=this[_0x51ff43(0x416)][_0x51ff43(0x749)](_0x51ff43(0x4b6))['JWT'],_0x35fd31=(0x0,Er['sign'])({'instanceName':_0x51f0ae['instanceName'],'apiName':ze,'tokenId':(0x0,Ts['v4'])()},_0x341957[_0x51ff43(0x286)],{'expiresIn':_0x341957[_0x51ff43(0x483)],'encoding':'utf8','subject':_0x51ff43(0x43b)}),_0x3e6929=await this[_0x51ff43(0x5b2)][_0x51ff43(0x19a)][_0x51ff43(0x568)]({'jwt':_0x35fd31},_0x51f0ae[_0x51ff43(0x523)]);if(_0x3e6929['error'])throw this[_0x51ff43(0x167)]['error']({'localError':c[_0x51ff43(0x4af)]+_0x51ff43(0x473),'error':_0x3e6929[_0x51ff43(0x54e)]}),new m('Authentication\x20error',_0x3e6929[_0x51ff43(0x54e)]?.['toString']());return{'jwt':_0x35fd31};}async[a0_0x313677(0x309)](_0x37b894){const _0x11b865=a0_0x313677;let _0x533706=(0x0,Ts['v4'])()[_0x11b865(0x6cc)](),_0x573e1c=await this['repository'][_0x11b865(0x19a)][_0x11b865(0x568)]({'apikey':_0x533706},_0x37b894[_0x11b865(0x523)]);if(_0x573e1c[_0x11b865(0x54e)])throw this[_0x11b865(0x167)]['error']({'localError':c[_0x11b865(0x4af)]+'.jwt','error':_0x573e1c[_0x11b865(0x54e)]}),new m('Authentication\x20error',_0x573e1c[_0x11b865(0x54e)]?.[_0x11b865(0x3eb)]());return{'apikey':_0x533706};}async[a0_0x313677(0x658)](_0x6cb5cb){const _0x4ff3d0=a0_0x313677;let _0x359790=this['configService']['get'](_0x4ff3d0(0x4b6));return await this[_0x359790['TYPE']](_0x6cb5cb);}},qt=class{constructor(_0x55d48c){const _0x2c8e7b=a0_0x313677;this[_0x2c8e7b(0x35a)]=_0x55d48c;}async[a0_0x313677(0x15b)](_0x226f22,_0x2e308b){const _0x35a3a3=a0_0x313677;return await this[_0x35a3a3(0x35a)][_0x35a3a3(0x451)][_0x226f22[_0x35a3a3(0x523)]]['createGroup'](_0x2e308b);}async['updateGroupPicture'](_0x1fb595,_0x5c3230){const _0x4fd1f2=a0_0x313677;return await this[_0x4fd1f2(0x35a)][_0x4fd1f2(0x451)][_0x1fb595['instanceName']][_0x4fd1f2(0x75f)](_0x5c3230);}async[a0_0x313677(0x3a3)](_0x57d7d1,_0x30007e){const _0x34d88d=a0_0x313677;return await this[_0x34d88d(0x35a)][_0x34d88d(0x451)][_0x57d7d1['instanceName']][_0x34d88d(0x3a3)](_0x30007e);}async[a0_0x313677(0x559)](_0x431a78,_0x2f90f1){const _0x151d35=a0_0x313677;return await this[_0x151d35(0x35a)][_0x151d35(0x451)][_0x431a78[_0x151d35(0x523)]][_0x151d35(0x559)](_0x2f90f1);}async[a0_0x313677(0x655)](_0x506355,_0x3fe5ab){const _0x141604=a0_0x313677;return await this[_0x141604(0x35a)]['waInstances'][_0x506355[_0x141604(0x523)]][_0x141604(0x655)](_0x3fe5ab);}async[a0_0x313677(0x5eb)](_0x31b2cc,_0x707159){const _0x14358f=a0_0x313677;return await this[_0x14358f(0x35a)][_0x14358f(0x451)][_0x31b2cc[_0x14358f(0x523)]]['findGroup'](_0x707159);}async[a0_0x313677(0x481)](_0x300c10){const _0x4336b9=a0_0x313677;return await this[_0x4336b9(0x35a)][_0x4336b9(0x451)][_0x300c10[_0x4336b9(0x523)]][_0x4336b9(0x481)]();}async['inviteCode'](_0x5bdacf,_0x8ced5e){const _0x174121=a0_0x313677;return await this[_0x174121(0x35a)][_0x174121(0x451)][_0x5bdacf['instanceName']][_0x174121(0x652)](_0x8ced5e);}async[a0_0x313677(0x59e)](_0x52ce90,_0x1e010f){const _0xf0ac69=a0_0x313677;return await this[_0xf0ac69(0x35a)][_0xf0ac69(0x451)][_0x52ce90[_0xf0ac69(0x523)]]['joinGroup'](_0x1e010f);}async[a0_0x313677(0x4c2)](_0x214c75,_0x1caaeb){const _0x16e4d8=a0_0x313677;return await this[_0x16e4d8(0x35a)][_0x16e4d8(0x451)][_0x214c75[_0x16e4d8(0x523)]]['revokeInviteCode'](_0x1caaeb);}async[a0_0x313677(0x5a0)](_0x1ee50c,_0x4024dc){const _0x293130=a0_0x313677;return await this[_0x293130(0x35a)]['waInstances'][_0x1ee50c[_0x293130(0x523)]]['findParticipants'](_0x4024dc);}async[a0_0x313677(0x3cd)](_0xd18679,_0xbd0d3a){const _0x4d2f24=a0_0x313677;return await this[_0x4d2f24(0x35a)][_0x4d2f24(0x451)][_0xd18679[_0x4d2f24(0x523)]][_0x4d2f24(0x503)](_0xbd0d3a);}async[a0_0x313677(0x275)](_0x4c0b5e,_0x258089){const _0x4a75e9=a0_0x313677;return await this[_0x4a75e9(0x35a)][_0x4a75e9(0x451)][_0x4c0b5e[_0x4a75e9(0x523)]][_0x4a75e9(0x275)](_0x258089);}async[a0_0x313677(0x589)](_0x436092,_0x4af378){const _0x414c19=a0_0x313677;return await this[_0x414c19(0x35a)][_0x414c19(0x451)][_0x436092[_0x414c19(0x523)]]['leaveGroup'](_0x4af378);}},Ut=class{constructor(_0x169c3b){const _0x50b6a4=a0_0x313677;this[_0x50b6a4(0x35a)]=_0x169c3b;}['create'](_0x49b11b,_0xc2246c){const _0x3d19c5=a0_0x313677;return this['waMonitor'][_0x3d19c5(0x451)][_0x49b11b['instanceName']][_0x3d19c5(0x71b)](_0xc2246c);}async[a0_0x313677(0x144)](_0x237296){const _0x534056=a0_0x313677;try{return await this['waMonitor'][_0x534056(0x451)][_0x237296['instanceName']][_0x534056(0x54c)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x313677(0x548)),Jt=class{constructor(_0xba1579){this['waMonitor']=_0xba1579;}async['editScheduleMessage'](_0x31ebd3,_0x58d1b1){const _0x5cd0d2=a0_0x313677;return await this[_0x5cd0d2(0x35a)][_0x5cd0d2(0x451)][_0x31ebd3[_0x5cd0d2(0x523)]][_0x5cd0d2(0x35b)](_0x58d1b1);}async[a0_0x313677(0x615)](_0x5cf69f){const _0x46d935=a0_0x313677;return await this['waMonitor'][_0x46d935(0x451)][_0x5cf69f['instanceName']][_0x46d935(0x615)]();}async[a0_0x313677(0x343)](_0x14541f){const _0x1eed38=a0_0x313677;return await this[_0x1eed38(0x35a)][_0x1eed38(0x451)][_0x14541f[_0x1eed38(0x523)]][_0x1eed38(0x343)]();}async[a0_0x313677(0x6b6)](_0x41160b){const _0x2d8970=a0_0x313677;return await this['waMonitor']['waInstances'][_0x41160b[_0x2d8970(0x523)]]['getAutomateSystem']();}async[a0_0x313677(0x5c1)](_0x11c86d,_0x55f132){const _0xe6c2cd=a0_0x313677;return await this['waMonitor'][_0xe6c2cd(0x451)][_0x11c86d['instanceName']][_0xe6c2cd(0x5c1)](_0x55f132);}async[a0_0x313677(0x341)](_0x3e0856,_0x189d71){const _0x5b985b=a0_0x313677;return await this[_0x5b985b(0x35a)][_0x5b985b(0x451)][_0x3e0856[_0x5b985b(0x523)]][_0x5b985b(0x341)](_0x189d71);}async[a0_0x313677(0x566)](_0x4af501,_0x488088){const _0x5b6588=a0_0x313677;return await this[_0x5b6588(0x35a)][_0x5b6588(0x451)][_0x4af501['instanceName']][_0x5b6588(0x566)](_0x488088);}async['startFlow'](_0x59bcce,_0x6448ff){const _0xd061ff=a0_0x313677;return await this[_0xd061ff(0x35a)][_0xd061ff(0x451)][_0x59bcce[_0xd061ff(0x523)]][_0xd061ff(0x5ff)](_0x6448ff);}async[a0_0x313677(0x6dd)](_0xfe29af,_0xc84618){const _0x290d7e=a0_0x313677;return await this[_0x290d7e(0x35a)][_0x290d7e(0x451)][_0xfe29af[_0x290d7e(0x523)]][_0x290d7e(0x6dd)](_0xc84618);}async[a0_0x313677(0x3b3)](_0x3d776b,_0x44da99){const _0x4ef6d3=a0_0x313677;return await this['waMonitor'][_0x4ef6d3(0x451)][_0x3d776b[_0x4ef6d3(0x523)]][_0x4ef6d3(0x3b3)](_0x44da99);}async[a0_0x313677(0x285)](_0x33ba11,_0x589b9a){const _0x54ae0e=a0_0x313677;return await this[_0x54ae0e(0x35a)][_0x54ae0e(0x451)][_0x33ba11[_0x54ae0e(0x523)]][_0x54ae0e(0x285)](_0x589b9a);}async[a0_0x313677(0x3a2)](_0x60ce6e,_0x50b8ec){const _0x2e49c0=a0_0x313677;return await this[_0x2e49c0(0x35a)][_0x2e49c0(0x451)][_0x60ce6e['instanceName']]['deleteConversation'](_0x50b8ec);}async['getFlow'](_0x3cf2c6,_0x2b43ae){const _0x11e008=a0_0x313677;return await this[_0x11e008(0x35a)][_0x11e008(0x451)][_0x3cf2c6[_0x11e008(0x523)]]['getFlow'](_0x2b43ae[_0x11e008(0x4af)]);}async[a0_0x313677(0x5c7)](_0x487c65,_0x1ec6ce){const _0x3bfaf6=a0_0x313677;return await this[_0x3bfaf6(0x35a)]['waInstances'][_0x487c65['instanceName']][_0x3bfaf6(0x5c7)](_0x1ec6ce);}async[a0_0x313677(0x3bb)](_0x15795c,_0x553511){const _0x5c4e9a=a0_0x313677;return await this[_0x5c4e9a(0x35a)][_0x5c4e9a(0x451)][_0x15795c[_0x5c4e9a(0x523)]][_0x5c4e9a(0x3bb)](_0x553511);}async[a0_0x313677(0x316)](_0x1e0fbc,_0x30598d){const _0x3d9f73=a0_0x313677;return await this[_0x3d9f73(0x35a)][_0x3d9f73(0x451)][_0x1e0fbc['instanceName']][_0x3d9f73(0x316)](_0x30598d);}async[a0_0x313677(0x1ec)](_0x265b0c,_0x750a0c){const _0x290eb2=a0_0x313677;return await this[_0x290eb2(0x35a)]['waInstances'][_0x265b0c[_0x290eb2(0x523)]][_0x290eb2(0x1ec)](_0x750a0c);}async[a0_0x313677(0x360)](_0x47f8af,_0x191d3a){const _0xb00ae0=a0_0x313677;return await this[_0xb00ae0(0x35a)][_0xb00ae0(0x451)][_0x47f8af[_0xb00ae0(0x523)]]['editFlowGroup'](_0x191d3a);}async[a0_0x313677(0x450)](_0x424b7d,_0x2c18ce){const _0x8e0a59=a0_0x313677;return await this['waMonitor'][_0x8e0a59(0x451)][_0x424b7d['instanceName']][_0x8e0a59(0x450)](_0x2c18ce);}async[a0_0x313677(0x50e)](_0x137c88,_0x1139ba){const _0x6d20a1=a0_0x313677;return await this[_0x6d20a1(0x35a)][_0x6d20a1(0x451)][_0x137c88[_0x6d20a1(0x523)]]['editFlowVaredit'](_0x1139ba);}async[a0_0x313677(0x16e)](_0xd44ac4,_0x4932f3){const _0x1c4750=a0_0x313677;return await this[_0x1c4750(0x35a)][_0x1c4750(0x451)][_0xd44ac4[_0x1c4750(0x523)]][_0x1c4750(0x16e)](_0x4932f3);}async[a0_0x313677(0x1ba)](_0x6d2998,_0x252714){const _0x31a70b=a0_0x313677;return await this['waMonitor'][_0x31a70b(0x451)][_0x6d2998[_0x31a70b(0x523)]][_0x31a70b(0x1ba)](_0x252714[_0x31a70b(0x4af)]);}async[a0_0x313677(0x152)](_0x26013f){const _0x2634ad=a0_0x313677;return await this[_0x2634ad(0x35a)]['waInstances'][_0x26013f[_0x2634ad(0x523)]][_0x2634ad(0x152)]();}},Vt=class{constructor(_0x368257){const _0x26742b=a0_0x313677;this[_0x26742b(0x38e)]=_0x368257;}async[a0_0x313677(0x464)](_0xb709fe,_0x54a816){const _0x2945bc=a0_0x313677;return this[_0x2945bc(0x38e)][_0x2945bc(0x568)](_0xb709fe,_0x54a816);}async[a0_0x313677(0x54c)](_0x3aaae2){const _0x5d70fa=a0_0x313677;return this[_0x5d70fa(0x38e)]['find'](_0x3aaae2);}},Bt=class extends I{constructor(_0x405c94,_0x4ae6d3){const _0x192f0d=a0_0x313677;super(_0x4ae6d3),this[_0x192f0d(0x544)]=_0x405c94,this[_0x192f0d(0x416)]=_0x4ae6d3;}async[a0_0x313677(0x568)](_0x456dfd,_0x3bd2cd){const _0x1ca706=a0_0x313677;try{return this[_0x1ca706(0x6f3)]['ENABLED']?{'insertCount':(await this[_0x1ca706(0x544)][_0x1ca706(0x60b)]({'_id':_0x3bd2cd},{..._0x456dfd},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x2a8427){return _0x2a8427;}}async[a0_0x313677(0x686)](_0x16416a){const _0x5a0963=a0_0x313677;try{if(this[_0x5a0963(0x6f3)][_0x5a0963(0x3d7)]){await this[_0x5a0963(0x544)][_0x5a0963(0x2ab)]({'_id':_0x16416a});return;}}catch(_0x4e6085){return{'error':_0x4e6085};}}async[a0_0x313677(0x144)](_0x5667f5){const _0x56b111=a0_0x313677;try{if(this[_0x56b111(0x6f3)][_0x56b111(0x3d7)])return await this[_0x56b111(0x544)][_0x56b111(0x330)]({'_id':_0x5667f5});}catch{return{};}}},Gt=class extends I{constructor(_0x36981d,_0x42ba30){const _0x26a0ce=a0_0x313677;super(_0x42ba30),this[_0x26a0ce(0x6b9)]=_0x36981d,this[_0x26a0ce(0x416)]=_0x42ba30,this[_0x26a0ce(0x19a)]=_0x42ba30[_0x26a0ce(0x749)](_0x26a0ce(0x4b6));}async[a0_0x313677(0x568)](_0x983ff8,_0x380296){const _0x567989=a0_0x313677;try{if(this[_0x567989(0x6f3)][_0x567989(0x3d7)])return{'insertCount':(await this['authModel'][_0x567989(0x471)]({'_id':_0x380296},{'$set':{..._0x983ff8}},{'upsert':!0x0}))[_0x567989(0x173)]};}catch(_0x284e9a){return{'error':_0x284e9a};}}async[a0_0x313677(0x778)](_0x6a2bcb,_0x6773ea){const _0x383cb8=a0_0x313677;try{if(this[_0x383cb8(0x6f3)][_0x383cb8(0x3d7)])return{'insertCount':(await this[_0x383cb8(0x6b9)][_0x383cb8(0x4aa)](_0x6a2bcb,{'$set':_0x6773ea},{'upsert':!0x1}))[_0x383cb8(0x173)]};throw new Error(_0x383cb8(0x23e));}catch(_0x134c80){return{'error':_0x134c80};}}async[a0_0x313677(0x671)](_0x24a56b){const _0x5c8049=a0_0x313677;try{if(this['dbSettings'][_0x5c8049(0x3d7)])return{'insertCount':(await this['authModel'][_0x5c8049(0x671)](_0x24a56b))[_0x5c8049(0x75d)]};throw new Error(_0x5c8049(0x23e));}catch(_0x16c676){return{'error':_0x16c676};}}async[a0_0x313677(0x686)](_0x378f23){const _0x57a9a7=a0_0x313677;try{if(this['dbSettings'][_0x57a9a7(0x3d7)]){await this[_0x57a9a7(0x6b9)][_0x57a9a7(0x2ab)]({'_id':_0x378f23});return;}}catch(_0x2b6177){return{'error':_0x2b6177};}}async[a0_0x313677(0x144)](_0x250a81){const _0x45c29f=a0_0x313677;try{if(this[_0x45c29f(0x6f3)][_0x45c29f(0x3d7)])return await this[_0x45c29f(0x6b9)][_0x45c29f(0x330)]({'_id':_0x250a81});}catch{return{};}}async[a0_0x313677(0x153)](){const _0x13ebdb=a0_0x313677;try{if(this['dbSettings'][_0x13ebdb(0x3d7)])return await this[_0x13ebdb(0x6b9)][_0x13ebdb(0x144)]();}catch{return[];}}},Wt=class extends I{['getFlowModelForOwner'](_0xb09701){return sa(_0xb09701);}async[a0_0x313677(0x5d0)](_0xfa6257){const _0x31bbd0=a0_0x313677;try{let _0x1ee824=aa,_0x433901=this[_0x31bbd0(0x6e8)](_0xfa6257),_0xccdf7=await _0x1ee824[_0x31bbd0(0x144)]({'owner':_0xfa6257})['lean'](),_0x1e8091=[],_0x3933cd=[];for(let _0x32f2e0 of _0xccdf7)await _0x433901[_0x31bbd0(0x3f0)](_0x32f2e0[_0x31bbd0(0x510)])['lean']()||(_0x1e8091[_0x31bbd0(0x64c)](_0x32f2e0),_0x3933cd['push'](_0x32f2e0['_id']));return _0x1e8091[_0x31bbd0(0x1c3)]>0x0&&await _0x433901[_0x31bbd0(0x403)](_0x1e8091,{'ordered':!0x1}),{'success':!0x0};}catch(_0x18dc39){return console['error'](_0x31bbd0(0x456),_0x18dc39),{'success':!0x1,'error':_0x18dc39};}}async[a0_0x313677(0x686)](_0x130345,_0x47adf8){const _0x545479=a0_0x313677;try{let _0x597fec=this[_0x545479(0x6e8)](_0x47adf8),_0x22a9f3=A(_0x130345[_0x545479(0x408)]);return{'deletedCount':(await _0x597fec['deleteMany'](_0x22a9f3))[_0x545479(0x75d)]};}catch(_0x29dd04){return{'error':_0x29dd04?.[_0x545479(0x3eb)]()};}}async[a0_0x313677(0x2ab)](_0x382d5e,_0x16c02f){const _0x2b9a6c=a0_0x313677;try{let _0x472786=this[_0x2b9a6c(0x6e8)](_0x16c02f),_0x6e85ff=A(_0x382d5e[_0x2b9a6c(0x408)]);return{'deletedCount':(await _0x472786[_0x2b9a6c(0x2ab)](_0x6e85ff))[_0x2b9a6c(0x75d)]};}catch(_0x38fad7){return{'error':_0x38fad7?.[_0x2b9a6c(0x3eb)]()};}}async['updateOne'](_0x34d184,_0x41878a,_0x1e28df){const _0x308b71=a0_0x313677;try{return await this['getFlowModelForOwner'](_0x1e28df)[_0x308b71(0x6bf)](_0x34d184,_0x41878a,{'new':!0x0});}catch(_0x28fc18){return console[_0x308b71(0x54e)](_0x308b71(0x7a1),_0x28fc18),null;}}async[a0_0x313677(0x77d)](_0x8f18ac,_0x24667e){const _0x2171d0=a0_0x313677;try{let _0x11a93f=this[_0x2171d0(0x6e8)](_0x24667e);return await new _0x11a93f(_0x8f18ac)['save']();}catch(_0x147c61){return console[_0x2171d0(0x54e)](_0x2171d0(0x78a),_0x147c61),null;}}async[a0_0x313677(0x4aa)](_0x14b05f,_0x18b29c,_0x671b4c){const _0x3c1920=a0_0x313677;try{return{'modifiedCount':(await this[_0x3c1920(0x6e8)](_0x671b4c)[_0x3c1920(0x4aa)](_0x14b05f,{'$set':_0x18b29c}))[_0x3c1920(0x173)]};}catch(_0x57bd85){return console['error'](_0x3c1920(0x25d),_0x57bd85),{'error':_0x57bd85};}}async[a0_0x313677(0x153)](_0x1a20a7,_0x3bad6a){const _0x106da1=a0_0x313677;try{let _0x352cb3=this[_0x106da1(0x6e8)](_0x3bad6a),_0x6bed12=A(_0x1a20a7[_0x106da1(0x408)]);return await _0x352cb3[_0x106da1(0x144)](_0x6bed12)[_0x106da1(0x3d1)](_0x1a20a7?.[_0x106da1(0x3d1)]??0x0)[_0x106da1(0x1b8)]();}catch{return[];}}async['findOne'](_0x545b4f,_0x6660d4){const _0x320842=a0_0x313677;try{let _0x905a4b=this[_0x320842(0x6e8)](_0x6660d4),_0x5a7fbe=A(_0x545b4f['where']);return await _0x905a4b[_0x320842(0x330)](_0x5a7fbe)[_0x320842(0x1b8)]();}catch{return null;}}async['deleteAll'](_0x24e34e){const _0x273734=a0_0x313677;try{return await this[_0x273734(0x6e8)](_0x24e34e)['collection'][_0x273734(0x2e7)](),{'success':!0x0};}catch(_0x1ff427){return console[_0x273734(0x54e)](_0x1ff427),{'success':!0x1,'error':_0x1ff427};}}},zt=class extends I{[a0_0x313677(0x67d)](_0x10beb8){return oa(_0x10beb8);}async[a0_0x313677(0x5d0)](_0x52c7b9){const _0xdc9be9=a0_0x313677;try{let _0x108f7a=ia,_0x2bf7c2=this[_0xdc9be9(0x67d)](_0x52c7b9),_0x4fd09a=await _0x108f7a[_0xdc9be9(0x144)]({'owner':_0x52c7b9})[_0xdc9be9(0x1b8)](),_0x6a8aec=[],_0x37d5a0=[];for(let _0x3290be of _0x4fd09a)await _0x2bf7c2[_0xdc9be9(0x3f0)](_0x3290be[_0xdc9be9(0x510)])[_0xdc9be9(0x1b8)]()||(_0x6a8aec[_0xdc9be9(0x64c)](_0x3290be),_0x37d5a0[_0xdc9be9(0x64c)](_0x3290be['_id']));return _0x6a8aec['length']>0x0&&await _0x2bf7c2[_0xdc9be9(0x403)](_0x6a8aec,{'ordered':!0x1}),{'success':!0x0};}catch(_0x3d1c10){return console['error']('Erro\x20ao\x20copiar\x20dados:',_0x3d1c10),{'success':!0x1,'error':_0x3d1c10};}}async[a0_0x313677(0x47b)](_0x4e1edd){const _0x57943d=a0_0x313677;if(_0x4e1edd[_0x57943d(0x1c3)]!==0x0)try{return{'insertCount':(await this[_0x57943d(0x67d)](_0x4e1edd[0x0][_0x57943d(0x266)])[_0x57943d(0x403)]([..._0x4e1edd]))[_0x57943d(0x1c3)]};}catch(_0x32774e){return _0x32774e;}}async[a0_0x313677(0x686)](_0x1c69fa,_0x1ea10f){const _0x316fd7=a0_0x313677;try{let _0x2a717c=this[_0x316fd7(0x67d)](_0x1ea10f),_0x13bc5a=A(_0x1c69fa['where']);return{'deletedCount':(await _0x2a717c['deleteMany'](_0x13bc5a))['deletedCount']};}catch(_0xfd52ad){return{'error':_0xfd52ad?.[_0x316fd7(0x3eb)]()};}}async[a0_0x313677(0x2ab)](_0x3a91d7,_0x3d7952){const _0x991ca3=a0_0x313677;try{let _0x147a0f=this['getConversationModelForOwner'](_0x3d7952),_0xb99be=A(_0x3a91d7[_0x991ca3(0x408)]);return{'deletedCount':(await _0x147a0f[_0x991ca3(0x2ab)](_0xb99be))[_0x991ca3(0x75d)]};}catch(_0x16e3f0){return{'error':_0x16e3f0?.[_0x991ca3(0x3eb)]()};}}async[a0_0x313677(0x321)](_0x6c5a09,_0x59c3f5){const _0xcc460d=a0_0x313677;try{if(_0x6c5a09[_0xcc460d(0x1c3)]===0x0)return;let _0x38da2d=this['getConversationModelForOwner'](_0x59c3f5),_0x59a00d=_0x6c5a09[_0xcc460d(0x217)](_0x55b608=>({'updateOne':{'filter':{'name':_0x55b608['name'],'owner':_0x59c3f5},'update':{..._0x55b608}}})),{modifiedCount:_0x42b745}=await _0x38da2d['bulkWrite'](_0x59a00d);return{'insertCount':_0x42b745};}catch{return;}}async['updateMany'](_0x4732d1,_0x1e9655,_0x38c015){const _0x58841d=a0_0x313677;try{return{'modifiedCount':(await this[_0x58841d(0x67d)](_0x38c015)[_0x58841d(0x4aa)](_0x4732d1,{'$set':_0x1e9655}))[_0x58841d(0x173)]};}catch(_0x5b4bd0){return console[_0x58841d(0x54e)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x5b4bd0),{'error':_0x5b4bd0};}}async[a0_0x313677(0x471)](_0x3b2ee0,_0x5006bc,_0x11faa1){const _0x3eb1ea=a0_0x313677;try{return await this[_0x3eb1ea(0x67d)](_0x11faa1)['findOneAndUpdate']({'_id':_0x3b2ee0},{'$set':_0x5006bc},{'new':!0x0,'upsert':!0x0})[_0x3eb1ea(0x1b8)]();}catch(_0x52fbb2){return console['error'](_0x52fbb2),null;}}async[a0_0x313677(0x144)](_0x541cc5,_0x4b7bb2){const _0x7686b4=a0_0x313677;try{return await this[_0x7686b4(0x67d)](_0x4b7bb2)[_0x7686b4(0x144)](_0x541cc5)[_0x7686b4(0x312)]({'lastInteraction':-0x1})[_0x7686b4(0x1b8)]();}catch{return[];}}async['findOne'](_0x4a55b5,_0x5bf7cd){const _0x3da82d=a0_0x313677;try{return await this[_0x3da82d(0x67d)](_0x5bf7cd)[_0x3da82d(0x330)]({..._0x4a55b5[_0x3da82d(0x408)]})[_0x3da82d(0x1b8)]();}catch{return null;}}async['deleteAll'](_0x4ffa2b){const _0x410930=a0_0x313677;try{return await this['getConversationModelForOwner'](_0x4ffa2b)[_0x410930(0x497)][_0x410930(0x2e7)](),{'success':!0x0};}catch(_0x42d5cc){return console[_0x410930(0x54e)](_0x42d5cc),{'success':!0x1,'error':_0x42d5cc};}}},Ht=class extends I{[a0_0x313677(0x455)](_0x13c815){return ca(_0x13c815);}async['copyDataToNewModel'](_0x305729){const _0x411086=a0_0x313677;try{let _0x29ee64=la,_0x49b69c=this[_0x411086(0x455)](_0x305729),_0x28f7a2=await _0x29ee64[_0x411086(0x144)]({'owner':_0x305729})[_0x411086(0x1b8)](),_0x2471d3=[],_0x38ffa3=[];for(let _0x29fc97 of _0x28f7a2)await _0x49b69c[_0x411086(0x3f0)](_0x29fc97[_0x411086(0x510)])[_0x411086(0x1b8)]()||(_0x2471d3[_0x411086(0x64c)](_0x29fc97),_0x38ffa3[_0x411086(0x64c)](_0x29fc97[_0x411086(0x510)]));return _0x2471d3[_0x411086(0x1c3)]>0x0&&await _0x49b69c[_0x411086(0x403)](_0x2471d3,{'ordered':!0x1}),{'success':!0x0};}catch(_0x301bd8){return console[_0x411086(0x54e)]('Erro\x20ao\x20copiar\x20dados:',_0x301bd8),{'success':!0x1,'error':_0x301bd8};}}async[a0_0x313677(0x77d)](_0x37fc0a,_0x2faed0){const _0x18ea0d=a0_0x313677;try{let _0xa9b1ed=this['getScheduleMessageModelForOwner'](_0x2faed0);return await new _0xa9b1ed(_0x37fc0a)[_0x18ea0d(0x621)]();}catch(_0x48a161){return console[_0x18ea0d(0x54e)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x48a161),null;}}async[a0_0x313677(0x2ab)](_0x213f35,_0x1ac932){const _0x51dbb4=a0_0x313677;try{return await this[_0x51dbb4(0x455)](_0x1ac932)[_0x51dbb4(0x35f)](_0x213f35),{};}catch(_0x1d0fea){return{'error':_0x1d0fea?.[_0x51dbb4(0x3eb)]()};}}async[a0_0x313677(0x471)](_0x2e479c,_0x5c3923,_0x4b4d0){const _0x424a93=a0_0x313677;try{return await this[_0x424a93(0x455)](_0x4b4d0)[_0x424a93(0x174)](_0x2e479c,{'$set':_0x5c3923},{'new':!0x0})[_0x424a93(0x1b8)]();}catch(_0x2eb187){return console['error'](_0x424a93(0x486),_0x2eb187),null;}}async[a0_0x313677(0x55b)](_0x1605b8,_0x130af3,_0x59b6a8){const _0x57494b=a0_0x313677;try{return await this['getScheduleMessageModelForOwner'](_0x59b6a8)[_0x57494b(0x6bf)](_0x1605b8,_0x130af3,{'new':!0x0})[_0x57494b(0x1b8)]();}catch(_0x376f71){return console['error'](_0x57494b(0x486),_0x376f71),null;}}async['find'](_0x5a2cf6,_0x3c3f63){const _0x590764=a0_0x313677;try{return await this['getScheduleMessageModelForOwner'](_0x3c3f63)[_0x590764(0x144)](_0x5a2cf6[_0x590764(0x408)])[_0x590764(0x3d1)](_0x5a2cf6?.[_0x590764(0x3d1)]??0x0)['sort']({'when':0x1})[_0x590764(0x1b8)]();}catch{return[];}}async['findOne'](_0x154394,_0x7a73c6){const _0x5e12c0=a0_0x313677;try{return await this['getScheduleMessageModelForOwner'](_0x7a73c6)['findOne'](_0x154394['where'])['sort']({'when':0x1})[_0x5e12c0(0x1b8)]();}catch{return null;}}async[a0_0x313677(0x3f0)](_0x5181d2,_0x3fb54f){const _0x1a6b77=a0_0x313677;try{return await this[_0x1a6b77(0x455)](_0x3fb54f)[_0x1a6b77(0x3f0)](_0x5181d2)[_0x1a6b77(0x1b8)]();}catch{return null;}}async[a0_0x313677(0x671)](_0x4813a5,_0x430a7d){const _0x4564b5=a0_0x313677;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x430a7d)[_0x4564b5(0x671)](_0x4813a5))['deletedCount']};}catch(_0x3527ad){return console['error']('Erro\x20ao\x20deletar\x20mensagens:',_0x3527ad),{'error':_0x3527ad};}}async[a0_0x313677(0x664)](_0x27fb8a){const _0x29d9f7=a0_0x313677;try{return await this[_0x29d9f7(0x455)](_0x27fb8a)['collection'][_0x29d9f7(0x2e7)](),{'success':!0x0};}catch(_0x1cd84a){return console[_0x29d9f7(0x54e)](_0x1cd84a),{'success':!0x1,'error':_0x1cd84a};}}},Kt=class extends I{async[a0_0x313677(0x321)](_0x11e77a,_0x13619f){const _0xfb19c6=a0_0x313677;try{if(this[_0xfb19c6(0x6f3)][_0xfb19c6(0x3d7)]){let _0x239084=await Pe[_0xfb19c6(0x174)]({'_id':_0x13619f},{'$set':_0x11e77a},{'new':!0x0});return console[_0xfb19c6(0x17d)]('Resultado\x20da\x20atualização:',_0x239084),_0x239084;}}catch(_0x5ab5a6){throw console[_0xfb19c6(0x54e)](_0xfb19c6(0x2a3),_0x5ab5a6),_0x5ab5a6;}}async['findOrCreate'](_0x268b7e){const _0x4bc943=a0_0x313677;try{let _0x2798df=await Pe[_0x4bc943(0x3f0)](_0x268b7e);return _0x2798df||(_0x2798df=new Pe({'_id':_0x268b7e}),await _0x2798df[_0x4bc943(0x621)]()),_0x2798df;}catch(_0x4ee4f4){return console[_0x4bc943(0x54e)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x4ee4f4),null;}}},yo=new v(a0_0x313677(0x7a0)),bo=new Le(b),So=new Pt(b),Eo=new Qe(b),Co=new Bt(Ys,b),Mo=new Gt(Hs,b),vo=new Wt(b),No=new $t(b),Ro=new zt(b),To=new Ht(b),Ao=new Kt(b),ce=new $e(bo,So,Eo,Co,Mo,vo,Ro,No,To,Ao,N?.[a0_0x313677(0x4f0)]()),B=new _t(ts,b,ce),Oo=new Ft(b,B,ce),Io=new Ut(B),hs=new Vt(Io),T=new Jt(B),le=new Lt(B,b,ce,ts,Oo),G=new jt(B),x=new kt(B),q=new qt(B);yo[a0_0x313677(0x1ea)](a0_0x313677(0x627));var gg=require('express-async-errors'),As=require('fs'),Cr=R(require('https')),Mr=R(require(a0_0x313677(0x422))),Ne=class c{static #e;static set[a0_0x313677(0x637)](_0x4041d9){this.#e=_0x4041d9;}static get[a0_0x313677(0x49d)](){const _0x5afe34=a0_0x313677;let {FULLCHAIN:_0x196936,PRIVKEY:_0x3b7610}=b[_0x5afe34(0x749)](_0x5afe34(0x26c));return Cr[_0x5afe34(0x34e)]({'cert':(0x0,As['readFileSync'])(_0x196936),'key':(0x0,As['readFileSync'])(_0x3b7610)},c.#e);}static get[a0_0x313677(0x422)](){const _0x1572c4=a0_0x313677;return Mr[_0x1572c4(0x34e)](c.#e);}},de=R(require('fs')),Or=R(require(a0_0x313677(0x74f))),Re=R(require('axios')),Ae=R(require(a0_0x313677(0x134))),Oe=require(a0_0x313677(0x15e));function xo(){const _0x3d3120=a0_0x313677;B[_0x3d3120(0x51f)]();let _0x10f26c=Ae['default']['join'](__dirname,_0x3d3120(0x515));Ar(_0x10f26c);}var Ar=_0x46a7f2=>{const _0xc25ea1=a0_0x313677;let _0xb24868=de[_0xc25ea1(0x175)][_0xc25ea1(0x34d)](_0x46a7f2),_0x1ca648=0xc*0x3c*0x3c*0x3e8,_0x112739=0x2*0x3c*0x3c*0x3e8,_0xc9b432=new Date()[_0xc25ea1(0x756)]();_0xb24868['forEach'](_0x16e927=>{const _0x5844d6=_0xc25ea1;let _0x39dcb2=Ae[_0x5844d6(0x175)][_0x5844d6(0x762)](_0x46a7f2,_0x16e927),_0x298e18=de[_0x5844d6(0x175)][_0x5844d6(0x648)](_0x39dcb2)[_0x5844d6(0x21a)]['getTime']();_0xc9b432-_0x298e18>_0x1ca648&&(de[_0x5844d6(0x175)][_0x5844d6(0x2d7)](_0x39dcb2),console[_0x5844d6(0x17d)](_0x5844d6(0x4cc)+_0x16e927));}),setTimeout(()=>Ar(_0x46a7f2),_0x112739);};function a0_0x25f5(){const _0xaf25d=['messages.upsert','choices','copyDataToNewModel','contacts','moreLogs','FULLCHAIN','createflow','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','notMatchRegex','uazapiDeleteMessage','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','deleteMessageForEveryone','reconnectAttempts','toNumber','connectedClient','ProxyAgent','DATABASE','groupId','indexOf','lastmsg','contactsArrayMessage','):\x20leadInfoVariables','locationMessage','SERVER_PORT','waUploadToServer','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','Erro\x20ao\x20atualizar\x20o\x20flow.','restart','findGroupInfo','/config','Error\x20occurred\x20while\x20archiving\x20chat:\x20','):\x20Enviando\x20texto','):\x20Enviando\x20áudio','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','BufferJSON','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','getLastMessage','Processing\x20audio','count','round','584SPuJYP','msgRetryCounterCache','convertToWebP','email','Not\x20allowed\x20by\x20CORS','selectedOptions','ChatModel','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','startFlow','condition','request\x20received\x20in\x20scheduleMessage','#f64847','CHATS_UPSERT','entries','mentioned','connectedName','updateOnlinePrivacy','\x20do\x20chat\x20','uazapiSendMenu','updateProfileStatus','replaceOne','bulkWrite','ListMessage','importChatsBatch','chatHandle','Label\x20','flattenObject','Erro\x20ao\x20adicionar\x20label\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','\x20after\x20','getScheduleMessage','some','Error\x20updating\x20participants','Logger','):\x20Procurando\x20mensagens\x20para\x20envio','participant','toBRL','set','):\x20Conversa\x20inserida\x20com\x20sucesso.','#fed428','Deletion\x20failed','toLowerCase','save','sendLocation','All_Instances_Config','AppStateSyncKeyData','ReplyOptions\x20finais\x20após\x20reordenação:','success','Module\x20-\x20ON','\x22\x20-\x20REMOVED','flowConversation','):\x20Campos\x20a\x20serem\x20atualizados:','\x20não\x20encontrado\x20para\x20cópia','pairingCode','^\x5cd+[\x5c.@\x5cw-]+','):\x20Visualizando\x20AutomateSystem','https://','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','trimmed','\x1b[40m','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','lastBlockId','replaceValue','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','app','@g.us','endSession','sendMessageWithTyping','\x20using\x20the\x20proxy:','\x20não\x20encontrado','COLOR','Error\x20fetching\x20group','g.us','matchRegex','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','#83e421','getflow','verbose','dataValidate','shift','/events','statSync','subjectOwner','Read\x20messages\x20fail','chats.delete','push','add','@s.whatsapp.net','No\x20join\x20group\x20invite\x20code\x20or\x20url','sending','random','inviteCode','findGroup','storePath','groupSetting','buttonId','Error\x20updating\x20setting','generateHash','PLAYED','CORS_CREDENTIALS','upsertChats','DELIVERY_ACK','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','oldToken','command','scheduleSendMedia','Message','AddChatLabel','.ppt','deleteAll','isJWT','contextInfo',',\x20resultado:\x20','next_groupId','convertedOptions','Profile\x20not\x20found','):\x20Editando\x20replyOption...','cors','/wa-message-update','tryProxy','exit','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','deleteMany','.doc','SINGLE_SELECT','scheduleMessage','):\x20expirationTime:\x20','/instance/create','):\x20Mensagem\x20já\x20enviada\x20para\x20','setRestartTimer','STORE','copyBlock','):\x20Conversas\x20encontradas:','desc','getConversationModelForOwner','Flow\x20não\x20encontrado','isJidUser','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','):\x20Entrou\x20na\x20função\x20saveReply','This\x20name\x20','rows','chats.update','js-yaml','delete','webhook','stopIfLastReturnedError','sem\x20texto\x20na\x20mensagem','CHATS_DELETE','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','updateConversation','documentWithCaptionMessage','replaceVariables','utf8','evaluateConditionTest','Telefone:\x20','):\x20Enviando\x20localização','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','102076czvXQj','contactHandle','.png','text/event-stream','detail','/group','updateBlock','Subscribed\x20Events:','fetchPrivacySettings','_Chats','conditions','statusMessage','\x20inseridas\x20no\x20banco\x20de\x20dados...','bateu\x20events','instances','\x1b[34m%s\x1b[0m','cpf','from','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Valor\x20inicial:\x20\x22','DARK','mkdirSync','last','):\x20Procurando\x20conversa','):\x20teve\x20mudanças\x20chat.displayName:\x20','statusCode','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','CREDENTIALS','):\x20Going\x20to\x20','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','scheduleMessages','Data\x20inválida\x20fornecida','delayMessage','getAutomateSystem','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','authModel','InstancesAlterarTodas','announce','variablesNotFound','ReplyOption\x20com\x20ID\x20','phoneNumber','findByIdAndUpdate','config','proto','Erro\x20ao\x20remover\x20label\x20','presence','hbs','substring','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','description','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','forEach','evaluateCondition','app-state-sync-key','toUpperCase','secondValue','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','collections','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','body','whatsappNumbers','AutomateSystem','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20',',\x20saindo.','^\x5cd+','Unknown\x20message\x20type\x20or\x20empty\x20message','contentText','end','):\x20Criando\x20nova\x20conversa[createNewConversation]','slice','start','getConversation','ignoreGroups','_ScheduleMessages','ScheduleMessageModel','setContext','Mensagem\x20não\x20suportada','originalUrl','):\x20newSecondValue\x20após\x20replaceVariables:','empty','RECONNECT_TIME_FRAME','findAndReplaceRegex','getFlowModelForOwner','status.instance','activatedCount','stickerMessage','Button\x20IDs\x20cannot\x20be\x20repeated.','):\x20Conversa\x20está\x20expirada\x20-\x20voto','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','connectToWhatsappController','/instance/connect','messages.update','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','dbSettings','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','lastSendMessage','less','apiName','audioMessage','getMIMEType','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','@redis/client','announcement','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','):\x20Enviando\x20contato','maxActives','):\x20Usando\x20extensão\x20padrão:\x20','waitingForReplyMenu','Getting\x20image\x20from\x20url','.ogv','\x20não\x20encontrado\x20para\x20atualização.','string','delayChatLabel_RETRY_DELAY_MS','verifiedName','Instance\x20\x22','contact_blacklist','send.message','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','findConversation','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','Bloco\x20com\x20ID\x20','not\x20loaded','message','connectionStatus','http://checkip.dyndns.org','createProxyConfig','@broadcast','base64','PENDING','nome','optionName','):\x20Ler\x20mensagem','setWebhook','Unauthorized','convert','initAuthCreds','qrCode','composing','min','saveConversationToDatabase','listType','removeInstance','delaySecMax','):\x20Bloco\x20com\x20ID\x20','lastDisconnect','statusJidList','eventEmitter','keys','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','fullName','function','method','Business\x20profile\x20fetched','#ff9484','startsWith','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','model','readreceipts','Log\x20out\x20instance:\x20','noConnection','sticker','testProxy\x20response\x20from\x20','getVariablesChat','currency','options','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','authService','pollErrorMessage','CONNECTION','):\x20Buscando\x20todos\x20os\x20fluxos...','audio','authState','isListOfNumbers','URL\x20limpa:\x20','messages','uazapiSendContact','$addToSet','DATABASE_CONNECTION_DB_PREFIX_NAME','get','#01d0e2','formatBRNumber','MessageModel','METHODS','findMessages','ini','prefixCommand','setHeader','cache','selectableCount','format','):\x20Falha\x20ao\x20deletar\x20mensagem.','getTime','viewOnceMessageV2','):\x20transformedCustomFieldVariables','getBase64FromMediaMessage','Fluxos\x20não\x20estão\x20ativados','realVariables','.sendDataWebhook-local','deletedCount','):\x20isVote:\x20','updateGroupPicture','Comando\x20desconhecido','prototype','join','.\x20Pulando.','updateStatusPrivacy','\x1b[32m%s\x1b[0m','goNextblock','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','stopped','quotedMessage','LabelModel','#b4ebff','\x20horas\x20e\x20','formatStatusMessage','CONTACTS_UPSERT','getMinutes','lastMessage','contains','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','numbers','READ','connectionUpdate','role','updateAll','sections','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','label','createAndSave','reviver','DisconnectReason','NO_IP','):\x20Alterando\x20fluxo...','unreadcount','CLEANING_INTERVAL','/media/','segundos','jsonwebtoken','$set','listResponseMessage','):\x20Buscando\x20flow...','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','replyOption','Esse\x20fluxo\x20expirou','\x1b[43m','badSession','21917KvGWJE','getOwnPropertyDescriptor','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','exists','updateMessage','removed','notEmpty','sendList','https://jsonip.com','errors','):\x20Enviando\x20enquete','deleteInstance','footerText','.svg','/message','Error\x20updating\x20privacy\x20settings','WA\x20MODULE','Erro\x20ao\x20atualizar\x20o\x20fluxo:','removeChatLabel','request\x20received\x20in\x20editFlowvariable','LOG_LEVEL','connectionClosed','profile','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','path','):\x20Current\x20Time:\x20','Reinicialização\x20iniciada:\x20','GROUPS_UPDATE','varedits','sectionsToString','Rótulo\x20deletado:','editflow','gifPlayback','CORS_ORIGIN','request\x20received\x20in\x20deleteConversation','Selecione','archived','delayChatLabel_MAX_RETRIES','messagesSend','newStoppedUntil','find','src','agents','messageContextInfo','!cmd_','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','reorderBlocks','uuid','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','header','):\x20Entrou\x20na\x20função\x20goToFlow','contactname','fetchLabels',',\x20Comparador:\x20','allFlows','findAll','fromMe','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','flowConfig','isJidGroup','PORT','dbInstance','createGroup','flowActive','joinGroupValidate','child_process','-instances','created','size','LOG_COLOR','isInteger','wuid','/instance/connectionState','error_log','logger','remoteJidsRemaining','SendScheduleMessage','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','):\x20Edit\x20schedule\x20message...','):\x20teve\x20mudanças\x20chat.name:\x20','senderKeyDistributionMessage','editFlowVariable','caption','unhandledRejection','username','remote\x20\x22origin\x22','modifiedCount','findOneAndUpdate','default','checkAndUpdateChatStatus','scheduleSendAudio','load','DATABASE_CONNECTION_HOST','instance','option','/chat','log','no.connection','CONTACTS_UPDATE','hasOwnProperty','\x1b[33m%s\x1b[0m','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','Audio\x20processed','bearer','uazapi','../env.yml','\x1b[33m','eventemitter2','):\x20Enviando\x20mídia','redis://127.0.0.1:6379','DEBUG','store','request\x20received\x20in\x20updateAgent','requested\x20testProxy','toDataURL','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','editflowcondition','processvaredits','getFlow','Falta\x20informação\x20para\x20a\x20chamada\x20API','array','node-mime-types','The\x20global\x20api\x20key\x20must\x20be\x20set','mongodb','endsWith','auth','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','SERVER_URL','editflowvariable','Error\x20updating\x20profile\x20picture','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','\x20minutos...','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','closeExistingConversations','DOCKER_ENV','updatePrivacySettings','CHATS_UPDATE','qrcode.updated','createSectionsFromValues','context','headers','stopConversation','https://uazapi-plugin.bubbleapps.io/','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','processblock','Valor\x20de\x20find\x20ou\x20replace\x20ausente','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','\x5c$&','changeVariables','Error\x20writing\x20file:\x20','ip:\x20','binary','\x1b[46m','headerString','lean','profilePictureUrl','deleteFlow','processConditionsTest','updateMissingCustomFields','connectToWhatsapp','code','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','getAllData','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','request\x20received\x20in\x20getFlow','length','MAX_RECONNECT_ATTEMPTS','debug','\x1b[0m','_Labels','webp','.jpg','contactMessage','REDIS','Image\x20path:\x20','DATABASE_ENABLED','\x5cd+','Read\x20messages','findOrCreate','audio/aac','pt-BR','throwAndLogError','Failed\x20to\x20get\x20IP\x20from\x20','BRL','\x20mensagens\x20de\x20','/create','2456739zACXCy','Certbot:\x20','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','Erro\x20do\x20Certbot:\x20','readData','):\x20Flow\x20desativado','TYPE','Parando\x20aplicação,\x20atualização\x20recebida','blocks','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','#64c4ff','):\x20conversation.waitingMenu_name','updateMediaMessage','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','userDevicesCache','):\x20Bloco\x20copiado:\x20','EMAIL','listMessage','info','font','editFlowReply','\x20minutos.\x20Será\x20às\x20','viewOnceMessage','/media','processgoToFlow','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','mediatype','chats','HH:mm:ss','delaySecMin','messageHandle','everyOne','saveChatVariables','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','oldValue','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','getMessageModelForOwner','Chat\x20com\x20ID\x20','Fluxo\x20não\x20encontrado','Conexão\x20estabelecida','updateMissingLabels','1057475RzCPxW','.gif','request\x20received\x20in\x20allFlows','arraybuffer','restartInstance','sendCommand','values','variables','RemoveChatLabel','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','processConditions','SUCCESS','list','notContains','varedit','scheduled','\x1b[42m','DELETED','deleted','deleteChat','deleteReplyOption','map','Nenhum\x20chat\x20encontrado\x20para\x20editar.','SSL_CONF_PRIVKEY','birthtime','onTime','replaceVariablesInReplyOptions','close','contact','customFields','Unable\x20to\x20leave\x20the\x20group','createInstance','waitingMenu_text','Converted\x20audio\x20deleted',',\x20fará\x20nova\x20verificação\x20em\x20','Audio\x20converted\x20to\x20mp4','toLocaleString','uazapiSendAudio','charAt','pop','):\x20Query\x20params:\x20','dyndns.org','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','release','use','test','firstValue','--agree-tos','syscall','.webp','#ffc5c7','qrcode','TEXT','<subdomain>','toFile','views','mentions','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','useMultiFileAuthState','displayName','Database\x20is\x20not\x20enabled','reaction','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','match','expression','uncaughtException','URL','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','?authSource=admin&readPreference=primary&directConnection=true','host','hDel','AUTHENTICATION_JWT_EXPIRIN_IN','getChatModelForOwner','):\x20não\x20encontrou','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','groupRevokeInvite','del','max','pollMessage','integer','_Messages','groupAcceptInvite','routerPath','user','quoted','blockLogs','jid','replaceVariablesChat','Formato\x20inválido\x20de\x20proxy','#d3a91f','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','groupValidate','prepareMediaMessage','Erro\x20ao\x20buscar\x20conversas:\x20','request','https://api.openai.com/v1/audio/speech','ContactModel','imported','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','owner','metadata','defineAuthState','equal','and','video','SSL_CONF','findChats','Parando\x20aplicação...','chatLog','redisEnv','\x1b[36m%s\x1b[0m','request\x20received\x20in\x20editFlowcondition','media','parseInt','toggleEphemeral','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','action','Erro\x20ao\x20editar\x20a\x20conversa:\x20','blockId','sendText','updateMissingEtiquetas','newValue','leadInfo','videoMessage','MESSAGES_UPSERT','call','sendPresenceUpdate','writeData','@ffmpeg-installer/ffmpeg','\x20ao\x20chat\x20','editConversation','SECRET','Trying\x20to\x20get\x20business\x20profile','groupJid','notEqual','getBusinessProfile','waitingMenu_id','subdomain','96564RQquJA','website','findAndReplace','Not\x20Found','mimetype','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','minutesToClose','uazapiSendText','archiveChat','Getting\x20profile\x20info','Error\x20change\x20group\x20name','hGet','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','No\x20invite\x20code','optionDescription','\x20segundos','JWT','Output\x20audio\x20path:\x20','enumerable','):\x20Entrou\x20na\x20função\x20stop','_Flows','replacer','Erro\x20ao\x20atualizar\x20AutomateSystem:','flowName','groupParticipantsUpdate','_error','\x20not\x20found,\x20retrying\x20in\x20','Image\x20is\x20url','loadWebhook','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','deleteOne','):\x20Editando\x20bloco...','buttons','Erro\x20ao\x20encerrar\x20a\x20API','\x1b[1m\x1b[37m','createConversationforStartFlow','ERROR:\x20','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','StatusJidList\x20is\x20required','block','jsonschema','.sendDataWebhook-global','env.KEY\x20!==\x20key','truncatedtoEnd','https://github.com/uazapi/uazapi.git','Número:\x20','flow','emit','\x1b[36m','contacts.upsert','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','express','stopMinutes','findGroupInfos','^\x5cd+([-]\x5cd+)*@g.us$','checkAndRestartProcess','existsSync','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','localWebhook','replyOptions','class-validator','sendWhatsAppAudio','sendStatus','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','console','\x1b[44m','editChat','Erro\x20ao\x20iniciar\x20fluxo:\x20','uazapiSendMedia','fileLength','width','leadInfo.desativadoFluxoAte','\x20inseridos\x20no\x20banco\x20de\x20dados...','protocolMessage','unlinkSync','request\x20received\x20in\x20getAutomateSystem','number','copy','stringify','upperCase','.ogg','Schema','reconnectTimestamps','groupMetadata','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','ERROR','public','mediaKey','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','drop','ButtonsMessage','FlowModel','env','markMessageAsRead','\x20saindo\x20da\x20função','menuExpiredMessage','):\x20Ignoring\x20group\x20messages.','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','updateProfileName','long','Error\x20updating\x20message\x20status:','):\x20delete\x20=\x20true','):\x20Fluxos\x20não\x20estão\x20ativados','exec','events','\x22\x20not\x20found','1218378cEAcNy','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','connection.update',',\x20qrcodeCount:\x20','labels.edit','pushName','includes','params','.pptx','/*.json','boolean','proxy-agent','creds','textMessage','etiquetas','Instance\x20restarted','removeData','apikey','fetchProfilePicture','.wav','sendMessage','recording','instanceKeys','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','url','\x20adicionado\x20ao\x20chat\x20','sort','Router','\x20com\x20sucesso.','Error\x20fetching\x20and\x20updating\x20profile:\x20','editFlowBlock','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','WebhookGlobal','loggedOut','backgroundColor','importChats','put','Not\x20is\x20business\x20profile','chatId','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','online','update','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','menuMessage','delAll','stopWhenYouSendMsg','Flow\x20iniciado\x20com\x20','content','unreadCount','prepareWAMessageMedia','editflowreply','execSync','Types','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','longitude','PREFIX_KEY','findOne','Configuração\x20de\x20proxy\x20inválida\x20gerada.','flowStopConversation','instanceInfo','scheduleSendText','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens',',\x20Minutes\x20to\x20Close:\x20','presence.update','Não\x20respondeu\x20com\x20a\x20enquete.','buttonText','paused','DATABASE_CONNECTION_USER','enabled','updateProfilePicture','ListType','):\x20Bloco\x20original\x20para\x20cópia:\x20','Variáveis\x20não\x20encontradas:','updateCustomFields','CORS','deleteDoneMessages','https://api.ipify.org?format=json','request\x20received\x20in\x20deleteDoneMessages','privacySettings','*\x0a\x0a','video-cover.png','processingScheduleMessageId','Error\x20status:','saveVariable','DB_PREFIX_NAME','readdirSync','createServer','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','request\x20received\x20in\x20updateFlowConfig','chat','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','.xls',',\x20Resultado:\x20','Fetching\x20business\x20profile','isURL','fetchInstances','tags','formatVCard','waMonitor','editScheduleMessage','menuIgnoreNonVotes','groupUpdateSubject','STORE_CONTACTS','findByIdAndDelete','editFlowGroup','hex','50mb','error\x20get\x20vote','stdout','findIndex','\x1b[31m%s\x1b[0m','apirequest','state','WARN','verify','has','webhookMap','remove','ids','request\x20received\x20in\x20updateCustomFields','timerId','Erro\x20ao\x20configurar\x20proxy:\x20','):\x20debug\x20alterando\x20this.AutomateSystem','removeProfilePicture','messageTimestamp','fileName','Archiving\x20chat','json','fone','contacts.update','text','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','FlowRouter','cleaningUp','connectionState','DaysToDelete','/clients-info','chats.upsert','Message\x20not\x20found','\x20minutos\x20verificará\x20novas\x20mensagens','_FlowHistorico','LOG','conversation','INFO','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','getDelay','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','PRODUCT_LIST','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','webhookService','encoding','imagechat','replaceVariablesLogs','getRandomText','instanceCount','address','Hash\x20to\x20audio\x20name:\x20','generate','downloadMediaMessage','Erro\x20ao\x20aplicar\x20varedit:\x20','.error','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','groups.update','Error\x20while\x20deleting\x20message\x20for\x20everyone','filter','readFileSync','authentication','subject','Temp\x20audio\x20deleted','deleteConversation','groupDesc','nomecompleto','\x20removido\x20do\x20chat\x20','ObjectId','fetchMessages','errorLog','Revoke\x20error','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','/events/:instance','ex:\x20\x22groupJid=120362@g.us\x22','\x0a*Você\x20respondeu*:\x0a','getContactModelForOwner','sendMedia','lastInteraction','capitalizedWords','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','fetchConversation','API\x20Key\x20inválida.','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','/wa-chats','all','updatePresence','getLabelModelForOwner','findLabels','editFlow','documentMessage','desativadoFluxoAte','process','router','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','content-type','URI','No\x20response\x20received:','pollOnReplyDelete','Audio\x20is\x20base64','participants','Conversa\x20deletada\x20com\x20sucesso.','):\x20atualização\x20chat:\x20','fetchContacts','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','createConversationforgoToFlow','writeFileSync','updateGParticipate','utf-8','response','Db\x20Connection','limit','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','requestPairingCode','apply','):\x20Editando\x20condição\x20do\x20fluxo...','findContacts','ENABLED','The\x20property\x20cannot\x20be\x20empty','saveTextReply','resetReconnectionVariables','lastSend','request\x20received\x20in\x20starFlow','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','Desconectado,\x20parando\x20execução.','?timestamp=','redirect','unavailable','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','messaging-history.set','://','Sending\x20audio\x20whatsapp','when','query','MESSAGES_SET','match_last_seen','/instance/fetchInstances','toString','Error\x20creating\x20group','flowIgnoreGroups','updateStopChat','Image\x20created','findById','Erro\x20ao\x20inserir\x20chats:','/exit','setNewValue','delay','messageId','request\x20received\x20in\x20editFlow','padStart','port','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','CONECTADO\x20À\x20UAZAPI','addresss','vote','insertCount','inner','atendimentoAberto','local_map','groupCreate','pollCreationMessageV3','insertMany','stoppedUntil','updateParticipant','expiration','Error\x20updating\x20profile\x20name','where','):\x20Criando\x20fluxo...','warn','pollUpdateMessage','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','flowPrefixCommand','apiResponse','getMessage','REDIS_PREFIX_KEY','HeaderType','allContacts','interval\x20não\x20é\x20um\x20número','status@broadcast','configService','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','audio/mp4','PROXY','-whatsapp-api','sharp','repeat','HOST','authorization','Type\x20not\x20found','lastCondition','http','addReplyOption','profilePicture','removeAugusto','Erro\x20ao\x20buscar\x20conversa:\x20','replace','END:VCARD','request\x20received\x20in\x20fetchConversation','data','parse','urlOrBase64','isRunning','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Last\x20message\x20not\x20found\x20for\x20number:','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','#9ab6c1','assign','connect','validate','pre','express-async-errors','updateChatWithMessage','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','messages.set','open','g-t','scheduleNextCheck','NextBlock','leadInfo.etiquetas',',\x20Segundo\x20Valor:\x20','groupUpdateDescription','value','sleep','groups.upsert','\x20contacts','viewOnceMessageV2Extension','getStatus','now','stderr','valid','):\x20Limpando\x20delayMessage','Temp\x20audio\x20path:\x20','_p_','STATUS_INSTANCE','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','Erro\x20ao\x20importar\x20chats:','editFlowCondition','waInstances','CHATS_SET','OrAnd','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','getScheduleMessageModelForOwner','Erro\x20ao\x20copiar\x20dados:','readMessageBot','Forbidden','order','isBusiness','Cannot\x20','conversationTimestamp','):\x20Editando\x20variável\x20do\x20fluxo...','env.yml','.mp3','/wa-qrcode','sendReaction','makeCacheableSignalKeyStore','getOwnPropertyNames','createWebhook','restrict','truncatedto','send','DATABASE_CONNECTION_URI','createJid','deleteBlock','.docx','toBrazilianNumberFormat','chats.set','isArray','no-cache','reactionMessage','updateOne','logout','.jwt','audio/ogg','Augusto','Primeiro\x20Valor:\x20','.pdf','\x20is\x20already\x20in\x20use.','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','insert','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','fetchProfile','Error\x20change\x20group\x20setting','urlencoded','request\x20body:\x20','findGroups','):\x20conversation.status:\x20','EXPIRIN_IN','licenca','GROUP_PARTICIPANTS_UPDATE','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','findFlow','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','):\x20conversation.lastInteraction:\x20','spawn','defineProperty','not_announcement','#9568cf','variable','application/octet-stream','):\x20Criou\x20conversa\x20no\x20startFlow:','deleteflow','object','ephemeralMessage','Missing\x20global\x20api\x20key','Enter\x20a\x20value\x20in\x20milliseconds','ORG:','collection','extractRegex','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Content\x20is\x20required','protocol','\x0aitem','https','Sistema\x20atualizado\x20com\x20sucesso!','image','The\x20\x22','lowerCase','Converted\x20image\x20deleted','archive','CONFIGURAÇÃO\x20GERAL:','):\x20Erro\x20ao\x20editar\x20agentes:\x20','document','):\x20','SSL_CONF_FULLCHAIN','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','updateMany','10RWiMJS','#000000','Certbot\x20executado\x20com\x20sucesso.','latitude','name','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','jwt','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','pollCreationMessageV2','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','testProxy','AUTHENTICATION','#92ceac','\x1b[41m','client','getContentType','write','getHours','):\x20Comando\x20desconhecido:\x20','view\x20engine','Error\x20removing\x20profile\x20picture','message_normalized','Output\x20path:\x20','revokeInviteCode','createNewConversation','title','STORE_CHATS','responsavelid','PASSWORD','dropCollection','#d8e651',',\x20valor\x20a\x20encontrar:\x20\x22','greater','Deleted\x20','InstancesAsDisconnectedX','dbClient','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','Connection','/webhook','instanceName\x20not\x20provided.','hostname','Erro\x20ao\x20atualizar\x20conversa:\x20','PRIVKEY','vcard','preview','replaceVariablesInObject','/wa-contacts','label_jid','dark','waitingMenu_ExpiredMessage','#ffae04','demote','toArray','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Instance\x20logged\x20out','#00a1f2','redis','sendButtons','password','fetchChats','#9ba6ff','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','group\x20ignored','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','audioWhatsapp','):\x20Deletando\x20conversa...','processApiRequest','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','.TEL;waid=','getClient','fetchBusinessProfile','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','stack','remove.instance','):\x20Error\x20processing\x20conditions:\x20','buttonMessage','request\x20received\x20in\x20editConversation','poll','type','):\x20Erro\x20ao\x20buscar\x20conversas\x20','shutdown\x20-r\x20now','dbServer','labelId','waitingMenu_replyOptions','\x20minutos','requestFile','item','deleteMessage','updateGParticipant','REDIS_URI','unknown\x20operation\x20type\x20[','https://uazapi-plugin.bubbleapps.io/?url=','notify','groupadd','@whiskeysockets/baileys','processUazapi','Group\x20not\x20found','writeFile','padEnd','editFlowVaredit','labels.association','_id','.mp4','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Bad\x20Request','exports','downloads','Button\x20texts\x20cannot\x20be\x20repeated','group-participants.update','creds.json','updateReplyOption','mediaSticker','QRCODE_UPDATED','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','cleanStore','LICENSE_INVALID','loadInstance','\x1b[47m','whatsappNumber','VERBOSE','instanceName','reorderReplyOptions','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','applyvaredit','Erro\x20ao\x20deletar\x20chat:','group','sendPoll','editflowblock','isConnected','):\x20alterando\x20this.AutomateSystem','lastReceivedMessage','editOperator','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','presenceSubscribe','getDevice','):\x20Dados\x20migrados\x20com\x20sucesso','/wa-groups','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','\x20\x1b[0m','fetchProfile2','GUARD','isLong','delayChatLabel','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Flow\x20already\x20exists','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','CORS_METHODS','stopMinutesMaxActives','mongoose','floor','\x20-i\x20','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','webhookModel','):\x20teve\x20mudanças\x20chat.archived:\x20','):\x20Não\x20achou\x20nenhum\x20flow','pollCreationMessage','FlowController','normalizeMessage','):\x20updateResult:','):\x20Iniciando\x20bot...','findWebhook','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','error','height','connecting','automateSystem','SEND_MESSAGE','):\x20Buscando\x20conversas...','readMessages','dayjs','none','/wa-message','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','groupName','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','updateOneById','Nenhum\x20proxy\x20funcional\x20encontrado\x20após\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.','true','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','subjectTime','groupToggleEphemeral','MESSAGES_UPDATE','folder','arrayUnique','CONNECTION_UPDATE','\x20-y','updateFlowConfig','pollCreationMessageKey','create','locked','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','\x1b[1m','groups_ignore','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','eventHandler','isBase64','Variável\x20não\x20encontrada!','Close\x20connection','SERVER_ACK','editedMessage','sendContact','PRESENCE_UPDATE','instance.','rowId','errno','Erro\x20de\x20reinicialização:\x20','pollMessageOnDelete','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','Erro:','status','/wa-connection-update','Erro\x20ao\x20remover\x20instâncias\x20antigas:','CONTACTS_SET','sendDataWebhook','ConversationModel','API_KEY','notas','sendAudio','):\x20Flow\x20não\x20encontrado','\x1b[37m%s\x1b[0m','StartBot','leaveGroup','createConnection','readMessage','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','split','Hash\x20to\x20image\x20name:\x20','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','flushHeaders','2MqvQFT','stanzaId','saveMediaToFile','remoteJid','KEY','USER','GROUPS_UPSERT','convertaudio','axios','remoteJids','SERVER','color','mediaMessage','joinGroup','Error\x20in\x20scheduleNextCheck:\x20','findParticipants','AutomateFunctions','picture','updateMissingTags','request\x20received\x20in\x20createFlow','sendSticker','post','Getting\x20audio\x20from\x20url','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20Limpando\x20AutomateSystem','closed','cwd','namespace','):\x20Erro\x20durante\x20a\x20atualização:\x20','Instance\x20Key\x20from\x20DB:','chatModify','variablesToObject','getProfileName','repository','linkPreview','instancias:\x20','\x22\x20cannot\x20be\x20empty','temp-','trim','511599kfYxDU','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','Last\x20message\x20not\x20found','groups','#56ccb4','REDIS_ENABLED','splice','envYaml','key','updateAgent','stateConnection','leadInfo.','organization','mongodb://','envProcess','createFlow','uazapiSendLocation','setting','\x20}\x0a','sendMenu','static','):\x20lastBlockId:\x20'];a0_0x25f5=function(){return _0xaf25d;};return a0_0x25f5();}function Do(){const _0x1d8329=a0_0x313677;let _0x3a34f6=new v(_0x1d8329(0x59b)),_0xafa23d=(0x0,pe[_0x1d8329(0x175)])();_0xafa23d[_0x1d8329(0x22e)]((0x0,Tr[_0x1d8329(0x175)])({'origin'(_0x442979,_0xfa80b6){const _0xb923d4=_0x1d8329;let {ORIGIN:_0x191807}=b[_0xb923d4(0x749)]('CORS');return _0x442979||(_0x442979='*'),_0x191807[_0xb923d4(0x5e1)]('*')!==-0x1||_0x191807['indexOf'](_0x442979)!==-0x1?_0xfa80b6(null,!0x0):_0xfa80b6(new Error(_0xb923d4(0x5fb)));},'methods':[...b['get']('CORS')[_0x1d8329(0x74d)]],'credentials':b[_0x1d8329(0x749)](_0x1d8329(0x342))[_0x1d8329(0x6b0)]}),(0x0,pe[_0x1d8329(0x47f)])({'extended':!0x0,'limit':_0x1d8329(0x362)}),(0x0,pe[_0x1d8329(0x377)])({'limit':_0x1d8329(0x362)})),_0xafa23d[_0x1d8329(0x22e)]((_0x4254ab,_0x40a723,_0x1dee98)=>{const _0x22b2a4=_0x1d8329;_0x4254ab['path']['startsWith'](_0x22b2a4(0x647))?_0x1dee98():(0x0,Rr['default'])()(_0x4254ab,_0x40a723,_0x1dee98);}),_0xafa23d[_0x1d8329(0x61c)](_0x1d8329(0x4be),_0x1d8329(0x6c4)),_0xafa23d[_0x1d8329(0x61c)]('views',(0x0,Is[_0x1d8329(0x762)])(ae,_0x1d8329(0x239))),_0xafa23d[_0x1d8329(0x22e)](pe['default'][_0x1d8329(0x5cc)]((0x0,Is[_0x1d8329(0x762)])(ae,_0x1d8329(0x2e3)))),_0xafa23d['use']((_0x3c5fb4,_0x3f2667,_0x20f201)=>{const _0x4ed5e2=_0x1d8329;let _0xa5ee5b=_0x3f2667['send'];_0x3f2667[_0x4ed5e2(0x467)]=function(_0x18019e){const _0x1fe3f2=_0x4ed5e2;if(_0x3c5fb4['query'][_0x1fe3f2(0x71d)]===_0x1fe3f2(0x55d)||_0x3c5fb4[_0x1fe3f2(0x1a9)][_0x1fe3f2(0x185)]===_0x1fe3f2(0x55d)){let _0x3a6125=JSON[_0x1fe3f2(0x42b)](_0x18019e);_0x18019e=JSON[_0x1fe3f2(0x2db)](_0x190e4a(_0x3a6125));}return _0xa5ee5b[_0x1fe3f2(0x3d4)](_0x3f2667,[_0x18019e]);},_0x20f201();}),_0xafa23d[_0x1d8329(0x22e)]('/',vt),_0xafa23d[_0x1d8329(0x22e)]((_0x5259f1,_0x4b1fea,_0x35a353,_0x564790)=>{const _0x37e502=_0x1d8329;if(_0x5259f1)return _0x35a353[_0x37e502(0x57d)](_0x5259f1[_0x37e502(0x57d)]||0x1f4)[_0x37e502(0x377)](_0x5259f1);},(_0x237e0c,_0x59b8ea,_0x35ce94)=>{const _0x2ebab9=_0x1d8329;let {method:_0x204821,url:_0x10f674}=_0x237e0c;_0x59b8ea[_0x2ebab9(0x57d)](0x194)[_0x2ebab9(0x377)]({'status':0x194,'message':_0x2ebab9(0x45b)+_0x204821[_0x2ebab9(0x6cc)]()+'\x20'+_0x10f674,'error':_0x2ebab9(0x290)}),_0x35ce94();});let _0x190e4a=(_0x2f638a,_0x3a68d0=_0x1d8329(0x44c))=>{const _0x6fe46f=_0x1d8329;let _0x184dd4=(_0x314105,_0x1a1623=null,_0x2c0df0=!0x1)=>{const _0x4291b3=a0_0x5a0c;let _0x3bb440={};return Object[_0x4291b3(0x72a)](_0x314105)[_0x4291b3(0x6c9)](_0xa98044=>{const _0x33cd12=_0x4291b3;let _0x126fa2=_0x314105[_0xa98044],_0x2c3ff9=''+_0x3a68d0+_0xa98044;_0x1a1623&&!_0x2c0df0&&(_0x2c3ff9=_0x1a1623+'.'+_0xa98044),!_0x126fa2&&_0x126fa2!==0x0&&_0x126fa2!==!0x1||typeof _0x126fa2>'u'?_0x3bb440[_0x2c3ff9]=null:typeof _0x126fa2!=_0x33cd12(0x492)&&!Array[_0x33cd12(0x46e)](_0x126fa2)?_0x3bb440[_0x2c3ff9]=_0x126fa2:typeof _0x126fa2==_0x33cd12(0x492)&&!Array[_0x33cd12(0x46e)](_0x126fa2)?_0x3bb440=Object['assign'](_0x3bb440,_0x184dd4(_0x126fa2,_0x2c3ff9)):Array[_0x33cd12(0x46e)](_0x126fa2)&&(typeof _0x126fa2[0x0]=='object'?(_0x3bb440[_0x2c3ff9]=[],_0x126fa2['forEach'](_0x5b1ee4=>{const _0x15f5f4=_0x33cd12;_0x3bb440[_0x2c3ff9][_0x15f5f4(0x64c)](_0x184dd4(_0x5b1ee4,_0x2c3ff9,!0x0));})):_0x3bb440[_0x2c3ff9]=_0x126fa2);}),_0x3bb440;};return Array[_0x6fe46f(0x46e)](_0x2f638a)?_0x2f638a[_0x6fe46f(0x217)](_0x4eec99=>_0x184dd4(_0x4eec99)):typeof _0x2f638a==_0x6fe46f(0x492)&&_0x2f638a!==null?_0x184dd4(_0x2f638a):{};},_0x5d9d2b=b[_0x1d8329(0x749)](_0x1d8329(0x59b));Ne[_0x1d8329(0x637)]=_0xafa23d;let _0x539982=Ne[_0x5d9d2b[_0x1d8329(0x1de)]],_0x4ccf75=_0x1d8329(0x6d4);_0x539982['listen'](_0x5d9d2b[_0x1d8329(0x159)],()=>{const _0x9f030a=_0x1d8329;_0x3a34f6['log'](_0x4ccf75),_0x3a34f6[_0x9f030a(0x17d)](_0x5d9d2b[_0x9f030a(0x1de)]['toUpperCase']()+'\x20-\x20ON:\x20'+_0x5d9d2b['PORT']);}),xo(),qs();}var _o=a0_0x313677(0x2b9),Po=Ae['default']['join'](__dirname,'./.git/config'),Te=null;function $o(){return new Promise((_0x2fbc34,_0x1cd6ff)=>{const _0x29a038=a0_0x5a0c;de['default']['readFile'](Po,_0x29a038(0x3ce),(_0x19b110,_0x3e7bc5)=>{const _0x3e2c81=_0x29a038;if(_0x19b110){Te=_0x19b110,_0x2fbc34();return;}Or[_0x3e2c81(0x175)][_0x3e2c81(0x42b)](_0x3e7bc5)[_0x3e2c81(0x172)]['url']===_o?(Te=null,_0x2fbc34()):(Te=new Error(_0x3e2c81(0x530)),_0x2fbc34());});});}async function ko(){const _0x4e13be=a0_0x313677;try{await $o(),await xs();}catch(_0x47efa0){console[_0x4e13be(0x54e)](_0x4e13be(0x182)+_0x47efa0),process[_0x4e13be(0x66f)](0x1);}}ko();async function Ir(){const _0x41a96a=a0_0x313677;let _0x45665c;try{_0x45665c=(await Re['default']['get'](_0x41a96a(0x798)))[_0x41a96a(0x42a)]['ip'];}catch(_0x69b3d0){console[_0x41a96a(0x54e)](_0x69b3d0);try{_0x45665c=(await Re[_0x41a96a(0x175)][_0x41a96a(0x749)]('https://api.ipify.org?format=json'))[_0x41a96a(0x42a)]['ip'];}catch(_0x199f0b){console[_0x41a96a(0x54e)](_0x199f0b);try{_0x45665c=(await Re[_0x41a96a(0x175)]['get'](_0x41a96a(0x713)))[_0x41a96a(0x42a)][_0x41a96a(0x242)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1b4894){return console[_0x41a96a(0x54e)](_0x1b4894),!0x1;}}}return _0x45665c;}var vr=0x0;async function Lo(){const _0x9055a=a0_0x313677;let _0x499e8b=await new re(b[_0x9055a(0x749)]('REDIS'))[_0x9055a(0x30e)]();return console[_0x9055a(0x17d)](_0x9055a(0x5b4),_0x499e8b[_0x9055a(0x1c3)]),_0x499e8b['length'];}function jo(_0x2ea866){const _0x12b281=a0_0x313677;let _0x563a56=_0x2ea866[_0x12b281(0x749)](_0x12b281(0x59b))[_0x12b281(0x245)],_0x4c1494=_0x2ea866[_0x12b281(0x749)](_0x12b281(0x26c)),_0x10975c;if(_0x563a56){let _0x3663b6=_0x563a56[_0x12b281(0x242)](/\/\/(.*?)\./);_0x3663b6&&_0x3663b6[0x1]&&(_0x10975c=_0x3663b6[0x1]);}if(!_0x10975c&&_0x4c1494&&_0x4c1494['FULLCHAIN']){let _0x50fffe=_0x4c1494[_0x12b281(0x5d3)][_0x12b281(0x58d)]('/'),_0x1b2583=_0x50fffe[_0x50fffe[_0x12b281(0x1c3)]-0x2];if(_0x1b2583){let _0x2be1f8=_0x1b2583['split']('.');_0x2be1f8[_0x12b281(0x1c3)]>0x2&&(_0x10975c=_0x2be1f8[0x0]);}}return _0x10975c;}var Ns=jo(b);async function Fo(){const _0x4fa7d5=a0_0x313677;let _0x226784=b[_0x4fa7d5(0x749)](_0x4fa7d5(0x1cb)),_0x57fa41=b['get'](_0x4fa7d5(0x4b6))[_0x4fa7d5(0x583)][_0x4fa7d5(0x595)],_0xb870fd=b[_0x4fa7d5(0x749)]('SSL_CONF'),_0x174fc8=await Ir(),_0x534625=b[_0x4fa7d5(0x749)]('SERVER')['PORT'],_0x4bd7a5=b[_0x4fa7d5(0x749)]('SERVER')['URL'];try{let _0x2c63c9={'ip':_0x174fc8||null,'redis_enable':_0x226784?.[_0x4fa7d5(0x3d7)]||null,'apikey':_0x57fa41||null,'ssl':_0xb870fd?.[_0x4fa7d5(0x4d5)]||null,'lastupdate':xr||null,'port':_0x534625||null,'gitInstallError':Te?.[_0x4fa7d5(0x711)]||null,'url':_0x4bd7a5||null};if(console[_0x4fa7d5(0x17d)](_0x4fa7d5(0x1b4),_0x2c63c9['ip']),_0x226784&&_0x226784[_0x4fa7d5(0x3d7)]){let _0xfda005=await Lo();_0x2c63c9[_0x4fa7d5(0x393)]=_0xfda005||null;}for(let _0x30c365 in _0x2c63c9)_0x2c63c9[_0x4fa7d5(0x180)](_0x30c365)&&_0x30c365!=='ip'&&(_0x2c63c9[_0x30c365]=JSON[_0x4fa7d5(0x2db)](_0x2c63c9[_0x30c365]));return(await Re['default'][_0x4fa7d5(0x5a6)](_0x4fa7d5(0x4e0),_0x2c63c9))[_0x4fa7d5(0x42a)];}catch(_0xc441c3){return console[_0x4fa7d5(0x54e)](_0xc441c3),!0x1;}}var Os=!0x1,xr=0x222,qo=0x3,Nr=0x1b7740;async function xs(){const _0x272d13=a0_0x313677;if(!await Ir())return console[_0x272d13(0x54e)](_0x272d13(0x133)),_0x272d13(0x780);let _0x553ae1=await Fo();if(_0x553ae1){if(_0x553ae1[_0x272d13(0x3cf)][_0x272d13(0x484)]===!0x0){b[_0x272d13(0x749)]('SSL_CONF')[_0x272d13(0x4d5)][_0x272d13(0x2fe)](_0x272d13(0x237))&&_0x553ae1[_0x272d13(0x3cf)][_0x272d13(0x28c)]&&(await Vo(_0x553ae1[_0x272d13(0x3cf)][_0x272d13(0x28c)],Jo),await Bo('augusto.fcs@gmail.com',_0x553ae1[_0x272d13(0x3cf)][_0x272d13(0x28c)]),console[_0x272d13(0x17d)](_0x272d13(0x246)),setTimeout(()=>Wo(),0x2710)),Te===null&&_0x553ae1[_0x272d13(0x3cf)]['last_update']-xr>0x0&&await Uo(),Os||(Os=!0x0,Do());let _0x175161=0x24*0x3c*0x3c,_0x4debe8=_0x553ae1[_0x272d13(0x3cf)]['segundos']>_0x175161?_0x175161:_0x553ae1[_0x272d13(0x3cf)][_0x272d13(0x785)],_0x1815a0=Number(_0x4debe8);if(isNaN(_0x1815a0)){console[_0x272d13(0x54e)](_0x272d13(0x414));return;}let _0xe79a4a=Math['floor'](_0x1815a0/0xe10),_0x1013a2=Math[_0x272d13(0x541)](_0x1815a0%0xe10/0x3c),_0x5479dc=new Date(Date[_0x272d13(0x447)]()+_0x1815a0*0x3e8);setTimeout(xs,_0x1815a0*0x3e8);let _0x1a0c99=_0x64125e=>_0x64125e['toString']()[_0x272d13(0x3f7)](0x2,'0'),_0x3436a2='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x1a0c99(_0xe79a4a)+_0x272d13(0x76d)+_0x1a0c99(_0x1013a2)+_0x272d13(0x1ed)+_0x1a0c99(_0x5479dc[_0x272d13(0x4bc)]())+':'+_0x1a0c99(_0x5479dc[_0x272d13(0x770)]())+'.';console[_0x272d13(0x17d)](_0x3436a2);}else return console[_0x272d13(0x17d)](_0x272d13(0x19f)),Os&&(console[_0x272d13(0x17d)](_0x272d13(0x1ac)),process[_0x272d13(0x66f)]()),_0x272d13(0x51e);}else{if(vr++,vr<qo)console[_0x272d13(0x17d)](_0x272d13(0x6fe)+Nr/0xea60+_0x272d13(0x1a0)),setTimeout(xs,Nr);else return console[_0x272d13(0x54e)](_0x272d13(0x454)),'SERVER_OFFLINE';}}async function Uo(){const _0x31190d=a0_0x313677;console[_0x31190d(0x17d)](_0x31190d(0x1df));let _0x21f34f=(0x0,Oe[_0x31190d(0x48a)])(_0x31190d(0x499),{'shell':!0x0});_0x21f34f[_0x31190d(0x364)]['on'](_0x31190d(0x42a),_0x233845=>{const _0x334b06=_0x31190d;console[_0x334b06(0x17d)]('Atualização:\x20'+_0x233845);}),_0x21f34f[_0x31190d(0x448)]['on'](_0x31190d(0x42a),_0x11a055=>{const _0x453b38=_0x31190d;console[_0x453b38(0x54e)]('Erro\x20de\x20atualização:\x20'+_0x11a055);}),_0x21f34f['on'](_0x31190d(0x66f),_0x2987e6=>{const _0x41f59b=_0x31190d;_0x2987e6!==0x0?console[_0x41f59b(0x54e)](_0x41f59b(0x6c8)+_0x2987e6):console['log'](_0x41f59b(0x49e)),console[_0x41f59b(0x17d)](_0x41f59b(0x26e)),setTimeout(()=>process[_0x41f59b(0x66f)](),0x2710);});}var Jo=Ae[a0_0x313677(0x175)]['join'](__dirname,a0_0x313677(0x45e));async function Vo(_0x25171e,_0x42e9bd){const _0x2b453a=a0_0x313677;let _0x367de8=Go();_0x25171e=_0x25171e[_0x2b453a(0x427)]('.uazapi.dev','');try{let _0x462cc0=de[_0x2b453a(0x175)][_0x2b453a(0x39e)](_0x42e9bd,_0x2b453a(0x68f));_0x462cc0=_0x462cc0['replace'](/<apikey>/,_0x367de8),_0x462cc0=_0x462cc0['replace'](/<subdomain>/g,_0x25171e),de[_0x2b453a(0x175)][_0x2b453a(0x3cc)](_0x42e9bd,_0x462cc0,_0x2b453a(0x68f)),console['log'](_0x2b453a(0x72b));}catch(_0x1498b0){console[_0x2b453a(0x54e)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x1498b0);}}function Bo(_0x496c26,_0x2b03e9){return new Promise((_0x50029e,_0x1b8614)=>{const _0xa76eb2=a0_0x5a0c;let _0xb872af=(0x0,Oe[_0xa76eb2(0x48a)])('certbot',['certonly','--standalone','-m',_0x496c26,_0xa76eb2(0x231),'-d',_0x2b03e9]);_0xb872af[_0xa76eb2(0x364)]['on']('data',_0x415a21=>{const _0x3e04fe=_0xa76eb2;console[_0x3e04fe(0x17d)](_0x3e04fe(0x1d9)+_0x415a21[_0x3e04fe(0x3eb)]());}),_0xb872af[_0xa76eb2(0x448)]['on']('data',_0x4a7765=>{const _0x5d9923=_0xa76eb2;console['error'](_0x5d9923(0x1db)+_0x4a7765[_0x5d9923(0x3eb)]());}),_0xb872af['on'](_0xa76eb2(0x21d),_0x176d9e=>{const _0x55c224=_0xa76eb2;_0x176d9e!==0x0?(console[_0x55c224(0x54e)](_0x55c224(0x322)+_0x176d9e),_0x1b8614(_0x55c224(0x322)+_0x176d9e)):(console[_0x55c224(0x17d)](_0x55c224(0x4ad)),_0x50029e());});});}function Go(_0xeed6db=0x32){const _0x58fac2=a0_0x313677;let _0x5284d0='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x3f98c4='';for(let _0x269203=0x0;_0x269203<_0xeed6db;_0x269203++)_0x3f98c4+=_0x5284d0[_0x58fac2(0x228)](Math['floor'](Math[_0x58fac2(0x651)]()*_0x5284d0[_0x58fac2(0x1c3)]));return _0x3f98c4;}function Wo(){const _0x5f2ba6=a0_0x313677;(0x0,Oe[_0x5f2ba6(0x2f5)])(_0x5f2ba6(0x4fb),(_0x4fbfcb,_0x1b3376,_0x4ebe07)=>{const _0x45e229=_0x5f2ba6;if(_0x4fbfcb){console[_0x45e229(0x54e)](_0x45e229(0x4b2)+_0x4fbfcb);return;}if(_0x4ebe07){console['error'](_0x45e229(0x579)+_0x4ebe07);return;}console[_0x45e229(0x17d)](_0x45e229(0x136)+_0x1b3376);});}0x0&&(module['exports']={'subdomain':subdomain});