const a0_0x1eb7af=a0_0x4c0f;(function(_0x480089,_0x8b66ab){const _0x2fd035=a0_0x4c0f,_0x16063c=_0x480089();while(!![]){try{const _0x237ad9=parseInt(_0x2fd035(0x6f5))/0x1*(-parseInt(_0x2fd035(0x500))/0x2)+parseInt(_0x2fd035(0x769))/0x3*(parseInt(_0x2fd035(0x77d))/0x4)+-parseInt(_0x2fd035(0x372))/0x5+parseInt(_0x2fd035(0x805))/0x6+-parseInt(_0x2fd035(0x30d))/0x7+parseInt(_0x2fd035(0x1b5))/0x8*(-parseInt(_0x2fd035(0x133))/0x9)+parseInt(_0x2fd035(0x1f5))/0xa;if(_0x237ad9===_0x8b66ab)break;else _0x16063c['push'](_0x16063c['shift']());}catch(_0x14b7f6){_0x16063c['push'](_0x16063c['shift']());}}}(a0_0x4c5a,0xd294e));var Bo=Object[a0_0x1eb7af(0xff)],qe=Object[a0_0x1eb7af(0x230)],Wo=Object[a0_0x1eb7af(0x7d2)],zo=Object[a0_0x1eb7af(0x4ee)],Ho=Object[a0_0x1eb7af(0x6a7)],Ko=Object[a0_0x1eb7af(0x2da)][a0_0x1eb7af(0x40c)],Qo=(_0x59b490,_0x48c94a)=>{for(var _0x2896c5 in _0x48c94a)qe(_0x59b490,_0x2896c5,{'get':_0x48c94a[_0x2896c5],'enumerable':!0x0});},Bs=(_0x32fd79,_0x18b5cb,_0x5edefc,_0x5611d7)=>{const _0x2eca3a=a0_0x1eb7af;if(_0x18b5cb&&typeof _0x18b5cb==_0x2eca3a(0x23d)||typeof _0x18b5cb==_0x2eca3a(0x73c)){for(let _0x19bb3c of zo(_0x18b5cb))!Ko[_0x2eca3a(0x269)](_0x32fd79,_0x19bb3c)&&_0x19bb3c!==_0x5edefc&&qe(_0x32fd79,_0x19bb3c,{'get':()=>_0x18b5cb[_0x19bb3c],'enumerable':!(_0x5611d7=Wo(_0x18b5cb,_0x19bb3c))||_0x5611d7['enumerable']});}return _0x32fd79;},A=(_0x13e17e,_0x2f8796,_0x2a412e)=>(_0x2a412e=_0x13e17e!=null?Bo(Ho(_0x13e17e)):{},Bs(_0x2f8796||!_0x13e17e||!_0x13e17e['__esModule']?qe(_0x2a412e,a0_0x1eb7af(0x39f),{'value':_0x13e17e,'enumerable':!0x0}):_0x2a412e,_0x13e17e)),Yo=_0xf1f784=>Bs(qe({},'__esModule',{'value':!0x0}),_0xf1f784),mr={};Qo(mr,{'fullURL':()=>Gs,'subdomain':()=>oe}),module['exports']=Yo(mr);var Fo=A(require(a0_0x1eb7af(0x17a))),zs=require('fs'),Hs=require(a0_0x1eb7af(0x2f5)),Ks=require('path'),Ve=require(a0_0x1eb7af(0x7f5)),ie=process[a0_0x1eb7af(0x57a)](),be=(0x0,Ve['join'])(ie,a0_0x1eb7af(0x42a)),Ws=(0x0,Ve[a0_0x1eb7af(0x17d)])(ie,a0_0x1eb7af(0x456)),cn=(0x0,Ve[a0_0x1eb7af(0x17d)])(ie,a0_0x1eb7af(0x136),a0_0x1eb7af(0x108)),us=class{constructor(){const _0x92d156=a0_0x1eb7af;this[_0x92d156(0x7a0)]();}[a0_0x1eb7af(0x14e)](_0x694ee8){const _0x21f04a=a0_0x1eb7af;return this[_0x21f04a(0x70f)][_0x694ee8];}[a0_0x1eb7af(0x7a0)](){const _0x25680b=a0_0x1eb7af;this[_0x25680b(0x70f)]=process[_0x25680b(0x70f)]?.[_0x25680b(0x10c)]!==_0x25680b(0x125)?this[_0x25680b(0x3cb)]():this[_0x25680b(0x7a8)](),process[_0x25680b(0x70f)]?.[_0x25680b(0x10c)]===_0x25680b(0x125)&&(this[_0x25680b(0x70f)][_0x25680b(0x610)][_0x25680b(0x467)]=_0x25680b(0x3ac),this[_0x25680b(0x70f)][_0x25680b(0x610)][_0x25680b(0x4e8)]=Number[_0x25680b(0x66c)](process[_0x25680b(0x70f)]?.[_0x25680b(0x716)]??_0x25680b(0x81f)));}[a0_0x1eb7af(0x3cb)](){const _0x1a8af3=a0_0x1eb7af;return(0x0,Hs['load'])((0x0,zs[_0x1a8af3(0x734)])((0x0,Ks['join'])(Ws,_0x1a8af3(0x539)),{'encoding':_0x1a8af3(0x293)}));}['envProcess'](){const _0x48a7cd=a0_0x1eb7af;return{'SERVER':{'TYPE':process['env'][_0x48a7cd(0x131)],'PORT':Number['parseInt'](process[_0x48a7cd(0x70f)][_0x48a7cd(0x716)]),'URL':process[_0x48a7cd(0x70f)][_0x48a7cd(0x6c7)]},'CORS':{'ORIGIN':process[_0x48a7cd(0x70f)][_0x48a7cd(0x322)]['split'](','),'METHODS':process[_0x48a7cd(0x70f)][_0x48a7cd(0x59b)]['split'](','),'CREDENTIALS':process[_0x48a7cd(0x70f)]?.[_0x48a7cd(0x468)]==='true'},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x48a7cd(0x31d)],'FULLCHAIN':process['env']?.[_0x48a7cd(0x1cb)]},'STORE':{'CLEANING_INTERVAL':Number[_0x48a7cd(0x2fe)](process[_0x48a7cd(0x70f)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x48a7cd(0x66c)](process[_0x48a7cd(0x70f)][_0x48a7cd(0x4e3)]):void 0x0,'MESSAGES':process[_0x48a7cd(0x70f)]?.[_0x48a7cd(0x60a)]===_0x48a7cd(0x125),'CONTACTS':process[_0x48a7cd(0x70f)]?.[_0x48a7cd(0x1f6)]===_0x48a7cd(0x125),'CHATS':process[_0x48a7cd(0x70f)]?.[_0x48a7cd(0x1b1)]===_0x48a7cd(0x125)},'DATABASE':{'CONNECTION':{'HOST':process[_0x48a7cd(0x70f)]?.[_0x48a7cd(0x6ad)],'PORT':Number['parseInt'](process[_0x48a7cd(0x70f)]?.[_0x48a7cd(0x6ad)]),'USER':process['env'][_0x48a7cd(0x29c)],'PASSWORD':process[_0x48a7cd(0x70f)][_0x48a7cd(0x2b3)],'URI':process[_0x48a7cd(0x70f)][_0x48a7cd(0x240)],'DB_PREFIX_NAME':process[_0x48a7cd(0x70f)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.['DATABASE_ENABLED']===_0x48a7cd(0x125)},'REDIS':{'ENABLED':process[_0x48a7cd(0x70f)]?.[_0x48a7cd(0x397)]===_0x48a7cd(0x125),'URI':process[_0x48a7cd(0x70f)][_0x48a7cd(0x633)]||_0x48a7cd(0x585),'PREFIX_KEY':process[_0x48a7cd(0x70f)]['REDIS_PREFIX_KEY']||_0x48a7cd(0x6ff)},'LOG':{'LEVEL':process['env']?.[_0x48a7cd(0x3d3)][_0x48a7cd(0x17f)](','),'COLOR':process[_0x48a7cd(0x70f)]?.[_0x48a7cd(0x345)]===_0x48a7cd(0x125)},'AUTHENTICATION':{'TYPE':process[_0x48a7cd(0x70f)][_0x48a7cd(0x629)],'API_KEY':{'KEY':process[_0x48a7cd(0x70f)][_0x48a7cd(0x60f)]},'JWT':{'EXPIRIN_IN':Number[_0x48a7cd(0x2fe)](process[_0x48a7cd(0x70f)]?.[_0x48a7cd(0x6ef)])?Number[_0x48a7cd(0x66c)](process[_0x48a7cd(0x70f)][_0x48a7cd(0x6ef)]):0xe10,'SECRET':process['env']['AUTHENTICATION_JWT_SECRET']}}};}},b=new us(),Uo=A(require(a0_0x1eb7af(0x5ba))),ye=A(require(a0_0x1eb7af(0x5d4))),qs=require('path'),ds=A(require(a0_0x1eb7af(0x40e))),ps=(_0x2a6b84=>(_0x2a6b84[a0_0x1eb7af(0x4ed)]=a0_0x1eb7af(0x4e1),_0x2a6b84['INFO']=a0_0x1eb7af(0x16a),_0x2a6b84[a0_0x1eb7af(0x534)]=a0_0x1eb7af(0x212),_0x2a6b84['ERROR']=a0_0x1eb7af(0x783),_0x2a6b84[a0_0x1eb7af(0x5ea)]=a0_0x1eb7af(0x3d7),_0x2a6b84[a0_0x1eb7af(0x198)]=a0_0x1eb7af(0x461),_0x2a6b84[a0_0x1eb7af(0x479)]='\x1b[30m',_0x2a6b84))(ps||{}),Qs=(_0x20bac1=>(_0x20bac1['LOG']=a0_0x1eb7af(0x6a9),_0x20bac1[a0_0x1eb7af(0x479)]=a0_0x1eb7af(0x2a4),_0x20bac1['INFO']=a0_0x1eb7af(0x55d),_0x20bac1['WARN']='\x1b[33m%s\x1b[0m',_0x20bac1['ERROR']=a0_0x1eb7af(0x5ec),_0x20bac1[a0_0x1eb7af(0x5ea)]=a0_0x1eb7af(0x36a),_0x20bac1[a0_0x1eb7af(0x198)]=a0_0x1eb7af(0x292),_0x20bac1))(Qs||{}),Ys=(_0x12579b=>(_0x12579b[a0_0x1eb7af(0x4ed)]='LOG',_0x12579b['WARN']=a0_0x1eb7af(0x534),_0x12579b[a0_0x1eb7af(0x281)]=a0_0x1eb7af(0x281),_0x12579b['DARK']=a0_0x1eb7af(0x479),_0x12579b[a0_0x1eb7af(0x761)]=a0_0x1eb7af(0x761),_0x12579b[a0_0x1eb7af(0x5ea)]='DEBUG',_0x12579b[a0_0x1eb7af(0x198)]=a0_0x1eb7af(0x198),_0x12579b))(Ys||{}),Xs=(_0x1df7c4=>(_0x1df7c4[a0_0x1eb7af(0x4ed)]=a0_0x1eb7af(0x367),_0x1df7c4['INFO']=a0_0x1eb7af(0x71b),_0x1df7c4[a0_0x1eb7af(0x534)]=a0_0x1eb7af(0x101),_0x1df7c4['DARK']=a0_0x1eb7af(0x3d4),_0x1df7c4[a0_0x1eb7af(0x761)]='\x1b[41m',_0x1df7c4['DEBUG']=a0_0x1eb7af(0x1b9),_0x1df7c4['VERBOSE']='\x1b[47m',_0x1df7c4))(Xs||{}),$=class{constructor(_0x4708d6='Logger'){const _0x4fb5ae=a0_0x1eb7af;this[_0x4fb5ae(0x7ac)]=_0x4708d6,this[_0x4fb5ae(0x768)]=b;}[a0_0x1eb7af(0x3b6)](_0x4fbd97){const _0x399488=a0_0x1eb7af;this[_0x399488(0x7ac)]=_0x4fbd97;}[a0_0x1eb7af(0x673)](_0x2f91d5,_0x20990f){const _0xa67fcb=a0_0x1eb7af;let _0x51c036=[];this[_0xa67fcb(0x768)]['get'](_0xa67fcb(0x4ed))[_0xa67fcb(0x243)][_0xa67fcb(0x7d3)](_0x5e081a=>_0x51c036[_0xa67fcb(0x46f)](Ys[_0x5e081a]));let _0x56a4a1=typeof _0x2f91d5;_0x51c036[_0xa67fcb(0x34b)](_0x20990f)&&(b[_0xa67fcb(0x14e)](_0xa67fcb(0x4ed))[_0xa67fcb(0x36e)]?(console[_0xa67fcb(0x265)](_0xa67fcb(0xe7)+Qs[_0x20990f],_0xa67fcb(0x26f),(0x0,ds[_0xa67fcb(0x39f)])()[_0xa67fcb(0x473)]('DD/MM\x20HH:mm:ss'),_0xa67fcb(0x43f),ps[_0x20990f]+Xs[_0x20990f]+_0xa67fcb(0xe7),_0x20990f+'\x20\x1b[0m',_0xa67fcb(0x148),this[_0xa67fcb(0x7ac)]+_0xa67fcb(0x43f),ps[_0x20990f],_0x56a4a1!==_0xa67fcb(0x23d)?_0x2f91d5:'',_0xa67fcb(0x43f)),_0x56a4a1===_0xa67fcb(0x23d)&&console[_0xa67fcb(0x265)](_0x2f91d5,'\x0a')):console[_0xa67fcb(0x265)]((0x0,ds['default'])()[_0xa67fcb(0x473)](_0xa67fcb(0x79c)),_0x20990f+'\x20',''+this[_0xa67fcb(0x7ac)],_0x2f91d5));}[a0_0x1eb7af(0x265)](_0x2fafa0){const _0x5008c4=a0_0x1eb7af;this[_0x5008c4(0x673)](_0x2fafa0,_0x5008c4(0x4ed));}['info'](_0x439c5e){const _0x20b958=a0_0x1eb7af;this[_0x20b958(0x673)](_0x439c5e,_0x20b958(0x281));}[a0_0x1eb7af(0x6e3)](_0x1ae84d){const _0x3dd170=a0_0x1eb7af;this[_0x3dd170(0x673)](_0x1ae84d,_0x3dd170(0x534));}[a0_0x1eb7af(0x299)](_0x353b1d){const _0x648be9=a0_0x1eb7af;this[_0x648be9(0x673)](_0x353b1d,'ERROR');}[a0_0x1eb7af(0x4e7)](_0x40f753){const _0x52b209=a0_0x1eb7af;this[_0x52b209(0x673)](_0x40f753,_0x52b209(0x198));}[a0_0x1eb7af(0x5d8)](_0x1fbd88){const _0x3b88ca=a0_0x1eb7af;this[_0x3b88ca(0x673)](_0x1fbd88,'DEBUG');}[a0_0x1eb7af(0x465)](_0x3df92d){const _0xc31c0c=a0_0x1eb7af;this[_0xc31c0c(0x673)](_0x3df92d,_0xc31c0c(0x479));}};function Zs(){const _0x40bf39=a0_0x1eb7af;process['on'](_0x40bf39(0x1a7),(_0x18a2ec,_0x289954)=>{const _0x4d6e65=_0x40bf39;new $(_0x4d6e65(0x1a7))[_0x4d6e65(0x299)]({'origin':_0x289954,'stderr':process['stderr']['fd'],'error':_0x18a2ec});}),process['on']('unhandledRejection',(_0x10ba03,_0x43cb1f)=>{const _0x422cc8=_0x40bf39;new $(_0x422cc8(0x507))[_0x422cc8(0x299)]({'origin':_0x43cb1f,'stderr':process[_0x422cc8(0x3b3)]['fd'],'error':_0x10ba03});});}var ea=A(require(a0_0x1eb7af(0x51b))),hs=new ea[(a0_0x1eb7af(0x39f))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require('mongoose'),Ne=A(require('mongoose')),Ge=new $(a0_0x1eb7af(0x4ae)),F=b['get'](a0_0x1eb7af(0x754)),R=F[a0_0x1eb7af(0x412)]?F[a0_0x1eb7af(0x66d)][a0_0x1eb7af(0x46e)]?Ne[a0_0x1eb7af(0x39f)][a0_0x1eb7af(0x1a9)](F[a0_0x1eb7af(0x66d)][a0_0x1eb7af(0x46e)],{'dbName':F[a0_0x1eb7af(0x66d)][a0_0x1eb7af(0x643)]+a0_0x1eb7af(0x564)}):Ne[a0_0x1eb7af(0x39f)][a0_0x1eb7af(0x1a9)]('mongodb://'+F[a0_0x1eb7af(0x66d)][a0_0x1eb7af(0x362)]+':'+F[a0_0x1eb7af(0x66d)]['PORT']+a0_0x1eb7af(0x4bf),{'user':F[a0_0x1eb7af(0x66d)][a0_0x1eb7af(0x41b)],'pass':F[a0_0x1eb7af(0x66d)][a0_0x1eb7af(0x36f)],'dbName':F[a0_0x1eb7af(0x66d)][a0_0x1eb7af(0x643)]+a0_0x1eb7af(0x564)}):null;F[a0_0x1eb7af(0x412)]&&Ge[a0_0x1eb7af(0x353)](a0_0x1eb7af(0x786)+R['$dbName']);var re=F[a0_0x1eb7af(0x412)]?F[a0_0x1eb7af(0x66d)][a0_0x1eb7af(0x46e)]?Ne[a0_0x1eb7af(0x39f)]['createConnection'](F[a0_0x1eb7af(0x66d)][a0_0x1eb7af(0x46e)],{'dbName':a0_0x1eb7af(0x65c)}):Ne['default'][a0_0x1eb7af(0x1a9)](a0_0x1eb7af(0x5b7)+F['CONNECTION']['HOST']+':'+F[a0_0x1eb7af(0x66d)][a0_0x1eb7af(0x4e8)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':F[a0_0x1eb7af(0x66d)][a0_0x1eb7af(0x41b)],'pass':F[a0_0x1eb7af(0x66d)][a0_0x1eb7af(0x36f)],'dbName':a0_0x1eb7af(0x52d)}):null;re&&Ge[a0_0x1eb7af(0x353)]('ON\x20-\x20dbName:\x20'+re[a0_0x1eb7af(0x6f7)]),process['on']('beforeExit',()=>{const _0x31ffad=a0_0x1eb7af;R&&R[_0x31ffad(0x575)](()=>{const _0x2cafc4=_0x31ffad;Ge[_0x2cafc4(0x353)](_0x2cafc4(0x348));}),re&&re['close'](()=>{const _0x346ac4=_0x31ffad;Ge[_0x346ac4(0x353)](_0x346ac4(0x40a));});});var Xo=new Se[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zo=new Se[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ei=new Se[(a0_0x1eb7af(0x69e))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),ti=new Se[(a0_0x1eb7af(0x69e))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xo],'default':[]}},{'_id':!0x1}),si=new Se[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':ti,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zo},'groupdata':{'type':ei,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x427d66=>{const _0x31adbb=a0_0x1eb7af;let _0x586baa='z_'+_0x427d66+_0x31adbb(0x11f);return R?.[_0x31adbb(0x42e)]('ChatModel',si,_0x586baa);},sa=require(a0_0x1eb7af(0x1e8)),ai=new sa[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x1a4ccd=>{const _0x3afa89=a0_0x1eb7af;let _0x20b4b0='z_'+_0x1a4ccd+'_Contacts';return R?.[_0x3afa89(0x42e)](_0x3afa89(0x63d),ai,_0x20b4b0);},oa=require(a0_0x1eb7af(0x1e8)),gs=class{},oi=new oa[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ia=re?.[a0_0x1eb7af(0x42e)](gs['name'],oi,'ContactsAndGroups'),ra=require(a0_0x1eb7af(0x1e8)),ms=class{},ii=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=re?.[a0_0x1eb7af(0x42e)](ms[a0_0x1eb7af(0x587)],ii,a0_0x1eb7af(0x42a)),na=require(a0_0x1eb7af(0x1e8)),ri=new na[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ca=_0x4958ff=>{const _0x31891a=a0_0x1eb7af;let _0x58b66a='z_'+_0x4958ff+_0x31891a(0x3d5);return R?.[_0x31891a(0x42e)](_0x31891a(0x25c),ri,_0x58b66a);},la=require(a0_0x1eb7af(0x1e8)),fs=class{},ni=new la[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=R?.[a0_0x1eb7af(0x42e)](fs[a0_0x1eb7af(0x587)],ni,a0_0x1eb7af(0x3c7)),da=require(a0_0x1eb7af(0x1e8)),ws=class{},pa=new da[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x1eb7af(0x7bc)]('save',function(_0x246ce7){const _0x473d51=a0_0x1eb7af;delete this[_0x473d51(0x2f4)],delete this[_0x473d51(0x7a4)],delete this[_0x473d51(0x3b7)],delete this[_0x473d51(0x15a)],delete this['flowStopMinutes'],_0x246ce7();});var ha=R?.[a0_0x1eb7af(0x42e)](ws[a0_0x1eb7af(0x587)],pa,a0_0x1eb7af(0x717)),x=require(a0_0x1eb7af(0x1e8)),ys=require(a0_0x1eb7af(0x163)),We=class{},ga=new x['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),bs=new x['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ci=new x[(a0_0x1eb7af(0x69e))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x1eb7af(0x5d9)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x1eb7af(0x25b)},'pollErrorMessage':{'type':String,'default':a0_0x1eb7af(0x2e6)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ma=new x['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),li=new x[(a0_0x1eb7af(0x69e))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ui=new x[(a0_0x1eb7af(0x69e))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Cs=new x[(a0_0x1eb7af(0x69e))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),di=new x[(a0_0x1eb7af(0x69e))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),fa=new x[(a0_0x1eb7af(0x69e))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ci},'apirequest':li,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':di,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),wa=new x[(a0_0x1eb7af(0x69e))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Ss=class{},Es=new x[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Cs],'blocks':[fa],'groups':[ga],'conditions':[ma],'varedits':[wa],'replyOptions':{'type':[bs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x4e9b28=a0_0x1eb7af;return _0x4e9b28(0x532)+Math[_0x4e9b28(0x1a6)]()[_0x4e9b28(0x725)](0x24)[_0x4e9b28(0x302)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x1eb7af(0x5b6)},'startID':{'type':String,'default':()=>(0x0,ys['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,ys['v4'])()},'shareOwners':{'type':[String],'default':[]}});Es[a0_0x1eb7af(0x7bc)](a0_0x1eb7af(0x4d9),function(_0x4fd11f){const _0x2ccf26=a0_0x1eb7af;let _0x8c46db=this[_0x2ccf26(0x14c)]();if(_0x8c46db&&typeof _0x8c46db==_0x2ccf26(0x23d)&&_0x2ccf26(0x3f8)in _0x8c46db){let _0x2fc8df=_0x8c46db[_0x2ccf26(0x3f8)];if(_0x2fc8df){let _0x5ef1c6=new Set(),_0x55dc01=new Set(_0x2fc8df[_0x2ccf26(0x388)]?.['map'](_0x465acd=>_0x465acd[_0x2ccf26(0x587)])),_0x5a8481=JSON[_0x2ccf26(0x454)](_0x2fc8df),_0x4a3cd2=/{{(?!_)([^}]*)}}/g,_0x3cff6c;for(;(_0x3cff6c=_0x4a3cd2[_0x2ccf26(0x6a4)](_0x5a8481))!==null;)_0x55dc01[_0x2ccf26(0x4b1)](_0x3cff6c[0x1])||_0x5ef1c6[_0x2ccf26(0x309)](_0x3cff6c[0x1]);_0x5ef1c6[_0x2ccf26(0x72d)]>0x0?(console[_0x2ccf26(0x6e3)](_0x2ccf26(0x1ff),Array['from'](_0x5ef1c6)),_0x2fc8df[_0x2ccf26(0x44c)]=Array[_0x2ccf26(0x3a6)](_0x5ef1c6)):_0x2fc8df[_0x2ccf26(0x44c)]=[],this[_0x2ccf26(0x16b)]({'$set':_0x2fc8df});}}_0x4fd11f();});var vs=_0x2abb80=>{const _0x56deef=a0_0x1eb7af;let _0x271fde='z_'+_0x2abb80+'_Flows';return R?.['model'](_0x56deef(0x3e1),Es,_0x271fde);},pe=R?.[a0_0x1eb7af(0x42e)](Ss[a0_0x1eb7af(0x587)],Es,a0_0x1eb7af(0x5da)),pi=new x['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Cs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ui]},{'_id':!0x1}),hi=new x['Schema']({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Cs],'blocks':[fa],'groups':[ga],'conditions':[ma],'varedits':[wa],'replyOptions':{'type':[bs],'default':[]},'chatLog':pi,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1eb7af(0x183)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x1eb7af(0x25b)},'waitingMenu_replyOptions':{'type':[bs],'default':[]}}),ya=_0x38f49f=>{const _0xaf9024=a0_0x1eb7af;let _0x3bba80='z_'+_0x38f49f+'_FlowHistorico';return R?.[_0xaf9024(0x42e)](_0xaf9024(0x74f),hi,_0x3bba80);},gi=new x[(a0_0x1eb7af(0x69e))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),mi=new x[(a0_0x1eb7af(0x69e))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),fi=new x[(a0_0x1eb7af(0x69e))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':mi,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[gi],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ba=_0x51cd9a=>{const _0x5821c1=a0_0x1eb7af;let _0x3fb37f='z_'+_0x51cd9a+_0x5821c1(0x44f);return R?.['model'](_0x5821c1(0x56c),fi,_0x3fb37f);},Ms=class{},wi=new x[(a0_0x1eb7af(0x69e))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),yi=new x[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),bi=new x[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Si=new x[(a0_0x1eb7af(0x69e))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x1eb7af(0x6b7)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Mi=new x[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Ci=new x[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Mi]},'customFields':{'type':[bi]},'flowConfig':{'type':Si,'default':{}},'flows':{'type':[yi],'default':[]},'autoCompleteMessages':{'type':[wi],'default':[]}}),$e=R?.[a0_0x1eb7af(0x42e)](Ms[a0_0x1eb7af(0x587)],Ci,a0_0x1eb7af(0x3bb)),Sa=require(a0_0x1eb7af(0x1e8)),Ei=new Sa[(a0_0x1eb7af(0x69e))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ma=_0x27b125=>{const _0x3a8be8=a0_0x1eb7af;let _0x353bdf='z_'+_0x27b125+'_Labels';return R?.[_0x3a8be8(0x42e)](_0x3a8be8(0x19f),Ei,_0x353bdf);},O=class{constructor(_0xce0969){const _0x33f311=a0_0x1eb7af;this[_0x33f311(0x4b4)]=_0xce0969[_0x33f311(0x14e)](_0x33f311(0x754));}};function T(_0x13203a){const _0x3b3e46=a0_0x1eb7af;let _0x3c21c1={};for(let [_0x35a0aa,_0x4720f3]of Object[_0x3b3e46(0x35e)](_0x13203a))if(typeof _0x4720f3==_0x3b3e46(0x23d)&&!Array[_0x3b3e46(0x50d)](_0x4720f3)){for(let [_0x37c69b,_0x3f8855]of Object[_0x3b3e46(0x35e)](_0x4720f3))_0x3c21c1[_0x35a0aa+'.'+_0x37c69b]=_0x3f8855;}else _0x3c21c1[_0x35a0aa]=_0x4720f3;return _0x3c21c1;}var ze=class{constructor(_0x2efcce,_0x8c9f0f,_0x3e08a6,_0xf3418a,_0x55e2f3,_0x1783cb,_0x23d07b,_0x45c396,_0x5ceead,_0x4fe45e,_0x5f5cec,_0x5f5988,_0x53972a){const _0x20db58=a0_0x1eb7af;this['message']=_0x2efcce,this[_0x20db58(0x142)]=_0x8c9f0f,this[_0x20db58(0x5a3)]=_0x3e08a6,this[_0x20db58(0x13b)]=_0xf3418a,this[_0x20db58(0x717)]=_0x55e2f3,this[_0x20db58(0x108)]=_0x1783cb,this[_0x20db58(0x70d)]=_0x23d07b,this[_0x20db58(0x779)]=_0x45c396,this['flowConversation']=_0x5ceead,this['label']=_0x4fe45e,this['scheduleMessage']=_0x5f5cec,this[_0x20db58(0x430)]=_0x5f5988,this[_0x20db58(0x4d2)]=_0x53972a;}get[a0_0x1eb7af(0x2cc)](){const _0x5654ba=a0_0x1eb7af;return this[_0x5654ba(0x4d2)];}},He=class{},Ke=class extends O{[a0_0x1eb7af(0x218)](_0x277b7b){return ca(_0x277b7b);}async[a0_0x1eb7af(0x1f7)](_0x37acd1,_0x335b6e){const _0x22502c=a0_0x1eb7af;if(_0x37acd1[_0x22502c(0x3fe)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x22502c(0x218)](_0x335b6e)[_0x22502c(0x2ce)]([..._0x37acd1]))['length']};}catch(_0x5b51f5){return _0x5b51f5;}}async[a0_0x1eb7af(0x7a9)](_0xb77e91,_0x83b090){const _0x1a3a03=a0_0x1eb7af;try{let _0x56fe2d=this['getMessageModelForOwner'](_0x83b090),_0x4f5677=T(_0xb77e91[_0x1a3a03(0x5b0)]);return await _0x56fe2d[_0x1a3a03(0x7a9)](_0x4f5677)[_0x1a3a03(0x555)]({'messageTimestamp':-0x1})['limit'](_0xb77e91?.[_0x1a3a03(0x27c)]??0x0)[_0x1a3a03(0x5de)]();}catch{return[];}}async[a0_0x1eb7af(0x404)](_0xc1f7e2,_0x2d6fb1){const _0x3cfdca=a0_0x1eb7af;try{let _0x16edfe=this[_0x3cfdca(0x218)](_0x2d6fb1),_0x17c3d1=T(_0xc1f7e2[_0x3cfdca(0x5b0)]);await _0x16edfe[_0x3cfdca(0x5d5)](_0x17c3d1);}catch(_0x328875){console[_0x3cfdca(0x299)](_0x328875);}}async[a0_0x1eb7af(0x7f1)](_0x159fec,_0x561653,_0xcf256b){const _0x3bc599=a0_0x1eb7af;try{let _0x140685=this[_0x3bc599(0x218)](_0xcf256b),_0x488ef2=T(_0x159fec[_0x3bc599(0x5b0)]);return await _0x140685[_0x3bc599(0x4d9)](_0x488ef2,{'$set':_0x561653},{'new':!0x0});}catch(_0x19743b){throw console['error'](_0x19743b),_0x19743b;}}async[a0_0x1eb7af(0x2ce)](_0x498a55,_0x1e637c){const _0x41ef39=a0_0x1eb7af;if(_0x498a55['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x41ef39(0x218)](_0x1e637c)[_0x41ef39(0x2ce)]([..._0x498a55]))['length']};}catch(_0x94c3ae){return console[_0x41ef39(0x265)](_0x41ef39(0x563),_0x94c3ae),_0x94c3ae;}}async[a0_0x1eb7af(0x114)](_0x36a24b){const _0x1d6fd6=a0_0x1eb7af;try{return await this[_0x1d6fd6(0x218)](_0x36a24b)[_0x1d6fd6(0x2d2)][_0x1d6fd6(0x701)](),{'success':!0x0};}catch(_0x405b89){return console[_0x1d6fd6(0x299)](_0x405b89),{'success':!0x1,'error':_0x405b89};}}},Ds=A(require(a0_0x1eb7af(0x206))),w=A(require('@whiskeysockets/baileys')),Pe=require('fs'),U=A(require('path')),Z=A(require('axios')),Ao=require(a0_0x1eb7af(0x163)),To=A(require('qrcode')),Io=A(require(a0_0x1eb7af(0x457))),Ca=[a0_0x1eb7af(0x6f9),a0_0x1eb7af(0x499),a0_0x1eb7af(0x53a),a0_0x1eb7af(0x6c5),a0_0x1eb7af(0x6eb)],Ea=[a0_0x1eb7af(0x112),'documentWithCaptionMessage',a0_0x1eb7af(0x7ee),'viewOnceMessageV2'],Ps=require('os'),Ut=A(require('pino')),ke=require(a0_0x1eb7af(0x33b)),jt=require(a0_0x1eb7af(0x5db)),de=A(require(a0_0x1eb7af(0x1e8))),k=require(a0_0x1eb7af(0x7e0)),ne=class{constructor(_0x824901,_0x3d6fcd,_0x228368){const _0x14096d=a0_0x1eb7af;this[_0x14096d(0x687)]=_0x824901,this['exists']=_0x3d6fcd,this[_0x14096d(0x587)]=_0x228368;}},Qe=class{},Ye=class{},Re=class{},Xe=class{},Ze=class{},Me=class{},et=class{},tt=class{},st=class{},at=class{},xt=A(require(a0_0x1eb7af(0x5d4))),va=require('fs'),Na=require(a0_0x1eb7af(0x7f5));function a0_0x4c5a(){const _0x4dcc63=['valid','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','vir','leadInfo.etiquetas','testIPv6','status','):\x20Criando\x20nova\x20conversa[createNewConversation]','uazapiSendContact','stopped','#d3a91f','readMessage','getBase64FromMediaMessage','unreadCount','flow','audio/ogg','pop','toFile','268TZjstp','CHATS_SET','approve','Erro\x20ao\x20editar\x20a\x20conversa','/wa-all-message','):\x20sender\x20=\x20number:\x20','\x1b[31m','sendMessage','ini','ON\x20-\x20dbName:\x20',',\x20Segundo\x20Valor:\x20','yes','RemoveChatLabel','messageContextInfo','IP\x20mismatch:\x20configured\x20','getBusinessProfile','configureIPv6','verifiedName','stopMinutesMaxActives','https://v6.ident.me','notify','fetchBusinessProfile','editflow','\x20tentativas.','whatsappNumbers','50mb','Error\x20testing\x20IP\x20with\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','toLowerCase','normalizeMessage','#d8e651','HH:mm:ss','fetchPrivacySettings','getMessage','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','loadEnv','Close\x20connection','nomecompleto','updateStopChat','flowIgnoreGroups','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','uazapiSendMedia','):\x20Removendo\x20\x27','envProcess','find','groupMemberAddMode','processvaredits','context','insertCount','Message\x20not\x20found','encoding','):\x20newFirstValue\x20após\x20replaceVariables:','getAllData','removeProfilePicture','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Erro\x20ao\x20buscar\x20o\x20fluxo','groupJoinApprovalMode','.xlsx','replacer','):\x20Ignoring\x20group\x20messages.',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','sendCommand','qrcode','pre','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','no.connection','json','AutomateFunctions','interval\x20não\x20é\x20um\x20número','statusMessage','buttonId','isJidGroup','waMonitor','crypto','):\x20expirationTime:\x20','.svg','scheduleSendText','autoCompleteMessages','dbConnection','timeInMinutes','):\x20Buscando\x20conversas...','):Processing\x20audio','):\x20Entrou\x20na\x20função\x20processawaitSeconds','spawn','Database\x20update\x20result:','getOwnPropertyDescriptor','forEach','labels.association','removed','editOperator','profilePicture','sendStatus','fromObject','Erro\x20ao\x20encerrar\x20a\x20API','sectionsToString','Error\x20updating\x20cache\x20contact:','connectionUpdate','downloads','):\x20Usando\x20extensão\x20padrão:\x20','class-validator','reactionMessage','importChatsAntigo','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','lastCondition','Erro\x20ao\x20iniciar\x20o\x20fluxo.','readdirSync','):\x20Enviando\x20localização','@broadcast','/wa-contacts','username','label_jid','sharePass','viewOnceMessage',',\x20pairCode:\x20','isRunning','update','view\x20engine','atendimentoAberto',',\x20Minutes\x20to\x20Close:\x20','path','connectionState','Request\x20Body:','silent','instanceName\x20not\x20provided.','\x0a{\x20instance:\x20','findOrCreate','Generated\x20IPv6:\x20','API\x20Key\x20inválida.','messageType','.mp3','base64','/wa-groups','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','leaveGroup','sendPresenceUpdate','624810mAwJOy','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','out','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','fone','font','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','applyvaredit','/wa-presence','):\x20Label\x20','\x20instance\x20does\x20not\x20exist','pushName','label','startCommandWord','type','padStart','GUARD','round','readFile','Erro\x20ao\x20editar\x20o\x20bloco:\x20','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','reviver','keys','deleteOne','sleep','lowerCase','8080','connectedName','superadmin','#ffc5c7','Types','inviteUrl','isJidBroadcast','realVariables','EMAIL','#dfaef0','archiveChat','):Image\x20is\x20url','getProfileName','):\x20Entrou\x20na\x20função\x20scheduleFlow','g.us','getLastMessage','sendContact','):\x20conversation.status:\x20','\x1b[1m','temp-','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','nome',',\x20isAdmin:\x20','globalShow','CHATS_UPDATE','):\x20isVote:\x20',',\x20resultado:\x20','pictureUrl','\x20minutos\x20verificará\x20novas\x20mensagens','replaceValue','#fed428','leadInfo.','keyPattern','\x20-\x20ON:\x20','Erro\x20ao\x20atualizar\x20cacheInstance:','sendButtons','Modelo\x20de\x20proprietário\x20não\x20pôde\x20ser\x20criado\x20para:\x20','Instance\x20ID:','waitingMenu_ExpiredMessage','longitude','ip\x20-6\x20addr\x20add\x20','extractMessageContent','create','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','\x1b[43m','startFlow','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','\x27\x20para\x20a\x20coleção\x20centralizada.','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','pollMessageOnDelete','send','auth','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','Read\x20messages','privacySettings','DOCKER_ENV','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','connect','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','mongodb','image','ephemeralMessage','connectionStatus','deleteAll','online','MESSAGES_UPDATE','SEND_MESSAGE','mentioned','):\x20Fluxos\x20do\x20proprietário\x20\x27','waitingMenu_replyOptions','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','deleteReplyOption','#92ceac','mediatype','_Chats','fetchStatus','.\x20Aguardando\x20','start','customFields','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','true','redirect','vcard','delayChatLabel','getConversationModelForOwner','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','):Temp\x20image\x20deleted','available','ephemeralDuration','unreadcount','contentText','updateAutoCompleteMessages','SERVER_TYPE',',\x20lastCondition:\x20','2736oXsUsz','localWebhook','Not\x20allowed\x20by\x20CORS','store','blockLogs','admin','certbot','Conexão\x20estabelecida','cacheContact','findGroups','groupJid','ReplyOption\x20com\x20ID\x20','/64\x20dev\x20','API_KEY','Rótulo\x20inválido\x20ou\x20sem\x20ID.','chat','eventHandler','ipv6Prefix','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','inner','deleteFlow','\x1b[33m\x1b[1m','emit','updatePrivacySettings','composing','getUpdate','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','get','decryptPollVote','creation','creds.json','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','pollCreationMessageV2','displayName','startCommand','delaySecMin','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','\x20ao\x20chat\x20','contact_blacklist','flowStopConversation','Not\x20Found','ignoreGroups','findIndex','repeat',',\x20canSendMessage:\x20','updateConversation','/config','userDevicesCache','uuid','parse','Content-Type','getVariablesChat','subdomain','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','utf8','\x1b[34m','setUpdate','groupdata','_activedCount','Instância:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','/instance/connect','updateGroupsAddPrivacy','Nenhum\x20participante\x20válido\x20encontrado.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Fluxo\x20\x27','messageSecret','choices','licenca','randomMac','response','compression','apikey','toArray','join','getChatModelForOwner','split','Forbidden','/instance/create','\x20quoted:\x20','open','request_time','Instâncias\x20removidas:\x20','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','Removidas\x20as\x20variáveis:\x20','--agree-tos','newStoppedUntil','latitude','stopWhenYouSendMsg','imgUrl','dataValidate','):Archiving\x20chat','):\x20Buscando\x20flow,\x20id:\x20','findGroupInfos',',\x20Comparador:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','NextBlock','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20newSecondValue\x20após\x20replaceVariables:','updateReplyOption','getRandomText','VERBOSE','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','\x20and\x20data:','filter','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','removeIPv6','E-mail:\x20','LabelModel','fetchMessages','Cache\x20instance\x20update\x20result:\x20','repository','editflowvaredit','\x20não\x20encontrado','KEY','random','uncaughtException','processing_id','createConnection','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','toLocaleString','headerString','Erro\x20ao\x20atualizar\x20o\x20flow.','AddUserFlow','fileUrl','STORE_CHATS','replyOption','textMessage',',\x20received\x20','10304kKgUHY','):\x20Enviando\x20mídia','app-state-sync-key','hSet','\x1b[46m','.ogv','pollErrorMessage','editflowblock','node-cache','findOne','groupGetInviteInfo','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','\x22\x20-\x20REMOVED','chats.set','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','remove.instance','canSendMessage','requestPairingCode','deletedCount','findMany','subject','SSL_CONF_FULLCHAIN','reaction','message_normalized','):\x20Criando\x20fluxo\x20compartilhado...','varedits','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','processUazapi','etiquetas','_fromMe','agents','\x20}\x0a','Comando\x20desconhecido','removeIPv6ById','Instância\x20não\x20encontrada.','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','editScheduleMessage','subjectOwner','_error','):\x20alterando\x20this.AutomateSystem','fileName','getUniqueFlowName','array','):\x20conversation.waitingMenu_name','execSync','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','):\x20Bloco\x20original\x20para\x20cópia:\x20','isJidUser','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','generateWAMessageFromContent','mongoose','updateProfileStatus','/exit','admin_add','messages.update','replaceOne','groupParticipantsUpdate','wuid','Mac\x20OS','_remoteJid','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','events','50323260gOqXMI','STORE_CONTACTS','insert','Erro\x20ao\x20normalizar\x20a\x20mensagem:','media','enviado\x20para','Subscribed\x20Events:','instanceName','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','\x20minutos','Variáveis\x20não\x20encontradas:','Flow\x20iniciado\x20com\x20','StartBot','delayChatLabel_MAX_RETRIES','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','sendMedia','evaluateConditionTest','@ffmpeg-installer/ffmpeg','created','stateConnection','mimetype','ex:\x20\x22groupJid=120362@g.us\x22','):\x20Chat\x20','shift','descId','proto','[all]','toUpperCase','status@broadcast','\x1b[33m','Erro\x20ao\x20copiar\x20o\x20documento','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','.gif','collections','pollMessage','getMessageModelForOwner','Error\x20fetching\x20group','ObjectId','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','@s.whatsapp.net','video-cover.png','upsertChats','role','lastInteraction','groupDesc','fullName','The\x20','cacheContactModel','):\x20debug\x20alterando\x20this.AutomateSystem','capitalizedWords','isJWT','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','creds.update','storePath','Erro\x20ao\x20remover\x20label\x20','rows','recording','code','newValue','defineProperty','):\x20Flow\x20desativado','):\x20Conversa\x20inserida\x20com\x20sucesso.','group-participants.update','\x20depois\x20','then','initAuthCreds','lastSendMessage','AppStateSyncKeyData','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','RemoteJid:','pollCreationMessageKey','File\x20written\x20to\x20path:\x20','object','Error\x20fetching\x20and\x20updating\x20profile:\x20','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','DATABASE_CONNECTION_URI','lastBlockId','formatVCard','LEVEL','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','getAutomateSystem','groupHandler','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','Enter\x20a\x20value\x20in\x20milliseconds','READ','@redis/client','views','startsWith','Nenhum\x20chat\x20encontrado\x20para\x20editar.','flowConfig','/instance/delete','#00a1f2','replaceVariablesLogs','):\x20error:\x20','#64c4ff','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','updateOnlinePrivacy','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','writeFileSync','del','Esse\x20fluxo\x20expirou','MessageModel','numbers','fetchConversation','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','participant','cpf','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','presenceSubscribe','log','upsertedCount','\x20segundos','):\x20Deletando\x20mensagem','call','editflowreply','Router','stdout','delayMessage','group','\x1b[1m\x1b[37m','):\x20delete\x20=\x20true','sha256','Data\x20inválida\x20fornecida','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','request\x20received\x20in\x20getConversation','Início','getMIMEType','end','match','createJid','varedit','groupSetting','limit','}}\x20->\x20\x22','less','.jwt','joinApprovalMode','INFO','responsavelid','END:VCARD','redisEnv','map','Parando\x20aplicação,\x20atualização\x20recebida','getLabelModelForOwner','https://uazapi-plugin.bubbleapps.io/?url=','config','flowName','replyOptions','pow','WebhookGlobal','SECRET','cleaningUp','cacheInstanceRepository','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','\x1b[37m%s\x1b[0m','utf-8','addReplyOption','Valor\x20da\x20URL\x20recuperada:','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','errors','CREDENTIALS','error','Configured\x20IPv6:\x20',',\x20Novo\x20tamanho:\x20','DATABASE_CONNECTION_USER','Erro\x20na\x20função\x20updateChatWithMessage:\x20','mediaKey','DELIVERY_ACK','contactHandle','TEXT','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','promisify','\x1b[30m%s\x1b[0m','profile','createAndSave','sendMessageWithTyping','hex','flattenObject','moreLogs','):Image\x20created','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','IPv6\x20address\x20removed:\x20','done','updateProfilePicture','qrCode','fetchContacts','groupAcceptInvite','DATABASE_CONNECTION_PASSWORD','https://api.elevenlabs.io/v1/text-to-speech/','everyOne','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','):Desconectado,\x20parando\x20execução.','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','rm\x20-rf\x20','upperCase','apiResponse','description','title','CHATS_DELETE','\x20saindo\x20da\x20função','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','use','request\x20received\x20in\x20updateFlowConfig','splice','saveCreds','connectToWhatsappController','Partes\x20do\x20caminho\x20FULLCHAIN:','height','Internal\x20Server\x20Error','findMessages','chatHandle','query','dbServer','Connection','insertMany','.webp','uazapiSendMenu','instancias:\x20','collection','SendScheduleMessage','statusJidList','Resultado\x20da\x20correspondência\x20de\x20URL:','addBlock','remoteJids','copyBlock','/wa-chats','prototype','fetchProfilePicture','isBusiness','#6f7bcf','_sender','https://api.ipify.org?format=json','buttons','getConversation','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','jsonwebtoken','arrayUnique','Content\x20is\x20required','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','basename','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','content-type','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','ORG:','joinGroupValidate','padEnd','poll','conversationTimestamp','):Getting\x20image\x20from\x20url','AutomateSystem\x20não\x20foi\x20inicializado','createConversationforgoToFlow','#9ba6ff','flowActive','js-yaml','ephemeralExpiration','whatsappNumber','ultimaTentativaRemoteJid','Configuração\x20SSL\x20recuperada:','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','sendDataWebhook','imported','cachedContact','isInteger','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','\x20do\x20chat\x20','release','slice','ip6eui','deleteInstance','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','migrateAllOwnersFlowsToCentralizedCollection','):\x20\x27Enviando\x20texto\x20para\x20\x27','Erro\x20ao\x20atualizar\x20conversa:\x20','add','delay','string','groupName','10696455VLLwhi','API\x20Key\x20from\x20Request:','trim','synchronizeAndMapFlows','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','reconnectTimestamps','inviteCodeDetails','flushHeaders','Module\x20-\x20ON','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','groupInviteCode','readMessages','SERVER_ACK','Número\x20não\x20possui\x20WhatsApp.','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','Erro\x20ao\x20alterar\x20privacidade','SSL_CONF_PRIVKEY','some',']\x20(','saveChatVariables','findAndReplaceRegex','CORS_ORIGIN','/startFlow/:instance/:startID','Button\x20IDs\x20cannot\x20be\x20repeated.','useMultiFileAuthState','put','cleanStore','removeData',',\x20valor\x20a\x20encontrar:\x20\x22','):\x20Bloco\x20com\x20ID\x20','GROUPS_UPSERT','process','):\x20transformedCustomFieldVariables','DisconnectReason','getFlow','rowId','@g.us','\x20com\x20sucesso.','messageStubParameters','linkPreview','exports','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','owner',',\x20fará\x20nova\x20verificação\x20em\x20','express-async-errors','/wa-message','child_process','empty','detail','address','Error\x20in\x20scheduleNextCheck:\x20','expiration','isValidAndUniqueIPv6','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','boolean','whoCanUse','LOG_COLOR','importChatsBatch','undefined','Database\x20connection\x20closed.','ScheduleMessage','messaging-history.set','includes','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','PREFIX_KEY','Background\x20color\x20is\x20required','contactMessage','sendMenu','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','getValidWhatsAppNumbers','info','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Flow\x20\x27','Error\x20writing\x20file:\x20','instanceInfo','unavailable','block','):\x20Query\x20params:','.extension','retrySendMessage','instanceCount','entries','groupRequestParticipantsUpdate','Message\x20absent\x20from\x20node','\x27\x20removido\x20do\x20AutomateSystem.','HOST','changeVariables','createHash','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','^\x5cd+([-]\x5cd+)*@g.us$','\x1b[42m','TEL','.txt','\x1b[36m%s\x1b[0m','All_Instances_Config','Mensagens\x20deletadas\x20com\x20sucesso.','contacts.upsert','COLOR','PASSWORD','\x27\x20->\x20','sem\x20texto\x20na\x20mensagem','7714320gCCBMi','):Audio\x20converted\x20and\x20stored\x20in\x20cache','getScheduleMessage','onWhatsApp','$pull','findParticipants','notContains','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','blockId','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','\x20contacts','sendPoll','\x20mensagens\x20de\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','convertToWebP','sendReaction','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','telefone','contains','Erro\x20ao\x20buscar\x20fluxos:','isCommunityAnnounce','\x20minutos...','variables','request\x20received\x20in\x20updateCustomFields','local_map','request\x20received\x20in\x20editFlow','menuMessage','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','Validate','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','notas','CONTACTS_UPSERT','Error\x20updating\x20message\x20status:','updateOne','unlinkSync','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','fetchChats','REDIS_ENABLED','Fluxos\x20não\x20estão\x20ativados','all_member_add','URL\x20completa:','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','request\x20received\x20in\x20getAutomateSystem','Erro\x20ao\x20adicionar\x20label\x20','default','Valor\x20inicial:\x20\x22','\x20is\x20already\x20in\x20use.','updateMany','matchRegex','text/event-stream','contacts','from','Erro\x20ao\x20deletar\x20chat:','#56ccb4','):\x20leadInfoVariables','):\x20Limpando\x20AutomateSystem','inviteCode','http','originalUrl','createInstance','document','chats.update','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','conditions','stderr','Flow\x20iniciado','catch','setContext','flowPrefixCommand','Subdomínio\x20extraído\x20da\x20URL:','startFlowWebhook','waitingMenu_text','AutomateSystem','fetchInstances','dropCollection','Erro\x20ao\x20editar\x20agentes','paused','):\x20Grupo\x20','detectIPv6PrefixAndInterface','width','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','editFlowGroup','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','#ff9484','authentication','createNewConversation','fetchProfilePictureUrl','BRL','envYaml','promote','/media','saveConversationToDatabase','$addToSet','lastReceivedMessage','):\x20Editando\x20variável\x20do\x20fluxo...','count','LOG_LEVEL','\x1b[40m','_Messages','\x22\x20cannot\x20be\x20empty','\x1b[36m','url','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','\x20chats\x20de\x20','allContacts','scheduleMessage','deleted','redis','IPv6\x20addresses\x20detected:\x20','CONTACTS_SET','FlowModel','author','not_announcement','existsSync','The\x20instance\x20needs\x20to\x20be\x20disconnected','g-t','authState','text','sendList','resetReconnectionVariables','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','):Image\x20converted\x20to\x20WebP','error_log','imagechat','#ffae04','menuExpiredMessage','evaluateCondition','.X-ABLabel:Celular\x0a','authService','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','editFlowBlock','GROUP_PARTICIPANTS_UPDATE','notMatchRegex','$set','Erro\x20ao\x20atualizar\x20AutomateSystem:','https://ipv6.jsonip.com','statusCode','messages.set','):Fetching\x20business\x20profile','length','editFlow','vote','protocolMessage','\x20não\x20encontrado\x20para\x20atualização.','reconnectAttempts','delete','Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','updateAll','Deleted\x20','/media/','CacheContacts\x20database\x20connection\x20closed.','picture','hasOwnProperty','mediaMessage','dayjs','delAll','.wav','authModel','ENABLED','):\x20Procurando\x20conversa','chatModify','findFlow','Fluxo\x20não\x20encontrado\x20na\x20memória.','bodyStringErrorParse','and','Instance\x20\x22','AUTHENTICATION','USER','env.KEY\x20!==\x20key','\x20:\x20','revokeInviteCode','number','sending','/webhook','chatId','^\x5cd+','*Pergunta*:\x20\x0a','):Hash\x20to\x20image\x20name:\x20','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','Certbot:\x20','deleteMessageForEveryone','XX:XX:XX:XX:XX:XX','instances','request\x20received\x20in\x20editConversation','state','updateGroupWebhook','model','connection.update','automateSystem','\x20inseridos\x20no\x20banco\x20de\x20dados...','validate','convertaudio','header','long','msgRetryCounterCache','IP\x20confirmed:\x20','):\x20Entrou\x20na\x20função\x20goToFlow','OrAnd','action','Não\x20respondeu\x20com\x20a\x20enquete.','testingWith','toNumber','https://jsonip.com','\x1b[0m','webhookService','digest','bodyString','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','arraybuffer','menuType','NO_IP','Message','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','urlOrBase64','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','findById','variablesNotFound','all','dropIndex','_ScheduleMessages','FlowRouter','groupCreate','Pausado\x20por\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','stringify','webp','src','qrcode-terminal','Erro\x20ao\x20tentar\x20autoCompleteMessages','Fluxo\x20agendado\x20pelo\x20fluxo\x20','):Image\x20path:\x20','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','Instance\x20logged\x20out','Safari','):\x20não\x20encontrou','createFlow','\x1b[37m','selectableCount','output','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','dark','QRCODE_UPDATED','TYPE','CORS_CREDENTIALS','addresss','\x27\x20não\x20encontrado','findAndReplace','Erro\x20ao\x20tentar\x20updateCustomFields','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','URI','push','optionDescription','Certbot\x20executado\x20com\x20sucesso.','senderKeyDistributionMessage','format','):\x20Criando\x20fluxo...','editFlowVaredit','):\x20whoCanEdit\x20before\x20validation:\x20','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','DARK','restrict','next_groupId','/group','recebido\x20de','not\x20loaded','hGetAll','RECONNECT_TIME_FRAME','updateProfileName','sendText','announce','.xls','PENDING','ip\x20-br\x20link\x20show','Erro\x20ao\x20aplicar\x20varedit:\x20','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','getContactModelForOwner','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','SERVER_OFFLINE','editFlowVariable','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Erro\x20ao\x20buscar\x20a\x20conversa','<subdomain>','env.yml','Erro\x20de\x20reinicialização:\x20','equal','content','bulkWrite','):\x20Entrou\x20na\x20função\x20clearVariables','flowConversation','FlowController','--standalone','documentMessage','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','groupLeave','InstancesAlterarTodas','processScheduleFlow','getStatus','tags','):\x20Conversa\x20atualizada\x20em\x20memória','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','\x20Tentativa\x20de\x20reconexão\x20','getClient','exit','?timestamp=','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','finish','logout','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','groupToggleEphemeral','scheduleFlow','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','variablesToObject','Db\x20Connection','Bloco\x20com\x20ID\x20','subjectTime','has','defineAuthState','\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.','dbSettings','locked','updateChatWithMessage','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','fileLength','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','max','CONNECTION_UPDATE','jpegThumbnail','updateMissingEtiquetas','phoneNumber','?authSource=admin&readPreference=primary&directConnection=true','charAt','when','status.instance','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','groups_ignore','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','https://chat.whatsapp.com/','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','data','remoteJid','https://','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','urlencoded','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','extractPhoneNumber','awaitingApproval','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','dbClient','color','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Resultado\x20da\x20atualização:','blocks','findOneAndUpdate','networkInterface','/wa-qrcode','Not\x20is\x20business\x20profile','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','shareOwners','labels.edit','\x1b[32m','createConversationforStartFlow','STORE_CLEANING_TERMINAL','now','getScheduleMessageModelForOwner','static','verbose','PORT','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','processawaitSeconds','scheduleSendAudio','METHODS','LOG','getOwnPropertyNames','Type\x20not\x20found','findGroup','Parando\x20aplicação...','):Audio\x20processed','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20\x27Enviando\x20audio\x20para\x20\x27','editedMessage','convertedOptions','post','announcement','chats.delete','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','updateMissingTags','findByIdAndDelete','\x22reaction\x22\x20must\x20be\x20an\x20emoji','sendLocation','):\x20tem\x20blocks','503952AgYSFe','minutesToClose','Type\x20is\x20required','readMessageBot','EMAIL:','Invalid\x20format','Fluxos\x20transferidos\x20do\x20proprietário\x20\x27','unhandledRejection','):\x20[messages.update]\x20group\x20ignored','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','lastFetchAwaitingApproval','Flow\x20\x27','Authentication\x20error','isArray','memberAddMode','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','EXPIRIN_IN','params','processgoToFlow','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):Sending\x20audio\x20whatsapp','formatBRNumber','replace','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','Chat\x20com\x20ID\x20','groupadd','eventemitter2','):Business\x20profile\x20fetched','lastUpdate','normalizeMessageContent','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','unknown\x20operation\x20type\x20[','/events/:instance','contacts.update','leadInfo','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','substring','ids','sign','SSL_CONF','findConversation','notEmpty','processblock','cachedContacts-whatsapp','audio','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','sendMessageAck','!cmd_','GROUPS_UPDATE','WARN','abs','website','delayChatLabel_RETRY_DELAY_MS','):\x20','../env.yml','audioMessage','.png','webhookMap','):\x20whoCanEdit\x20after\x20validation:\x20','Nenhum\x20fluxo\x20encontrado\x20para:\x20','):Converted\x20image\x20deleted','success','deleteBlock','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','importChats','Falha\x20ao\x20processar\x20fetchBusinessProfile','setHeader','isConnected','generateHash','/chat','/instance','SUCCESS','https://uazapi-plugin.bubbleapps.io/','exists','request\x20received\x20in\x20deleteFlow','listen','pollOnReplyDelete','flows','contactsArrayMessage','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','):\x20\x27Enviando\x20mídia\x20para\x20\x27','sort','editflowcondition','deleteMessage','updatePresence','method','writeFile','jwt','Font\x20is\x20required','\x1b[34m%s\x1b[0m','setting','routerPath','pollUpdateMessage','indexOf','Error\x20removing\x20IPv6\x20address:\x20','ERROR:\x20','-whatsapp-api','labelId','sendAudio','ff:fe','updateFlowConfig','archived','contextInfo','):\x20Going\x20to\x20','ScheduleMessageModel','none',',\x20saindo.','noConnection','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','throwAndLogError','scheduled','):\x20Buscando\x20flow...','close','buffer','maxActives','Tentando\x20reconectar...','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','cwd','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','JWT','oldToken','Contacts\x20not\x20found','cleanDisconnectedInstances','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','prepareMediaMessage','\x22\x20-\x20NOT\x20CONNECTION','FULLCHAIN','LICENSE_INVALID','redis://127.0.0.1:6379','chats.upsert','name','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','body','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','):\x20Alterando\x20fluxo...','error\x20get\x20vote','participants','muteEndTime','stopMinutes','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','CONTACTS_UPDATE','autoCompleteMessages.command','https','sim','scheduleNextCheck','instance.','Reinicialização\x20iniciada:\x20','set','request\x20received\x20in\x20fetchConversation','Erro\x20ao\x20importar\x20chats','CORS_METHODS','reorderBlocks','\x27\x20não\x20encontrado\x20na\x20memória','endsWith','oldValue','result','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','processApiRequest','contact','groupSettingUpdate','axios','.docx','createServer','hDel','replaceVariables','cache','isCommunity','Erro\x20ao\x20migrar\x20fluxos\x20do\x20proprietário\x20\x27','):\x20Iniciando\x20bot...','truncatedto','loadWebhook','where','deleteConversation','application/json','router','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','processclearVariables','false','mongodb://','createSectionsFromValues','connectToWhatsapp','cors','isAdmin','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','findAndUpdateCacheContact','chat\x20não\x20encontrado','Erro\x20ao\x20alterar\x20fluxo','updateGroupParticipantsWebhook','):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.','isLong','condition','#9568cf','groups','video','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','menuIgnoreNonVotes','\x20-i\x20','audio/ogg;\x20codecs=opus','getTime','SINGLE_SELECT','groups.update','client','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','express','deleteMany','messageId','Error\x20adding\x20IPv6\x20address:\x20','debug','list','allFlows','node-mime-types','):\x20Erro\x20durante\x20a\x20atualização:\x20','Erro\x20inesperado\x20em\x20processvaredits:\x20','lean','\x20inseridas\x20no\x20banco\x20de\x20dados...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','Erro\x20ao\x20deletar\x20a\x20conversa','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','PRODUCT_LIST','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','fetchLabels','activatedCount','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','CHATS_UPSERT','DEBUG','CORS','\x1b[31m%s\x1b[0m','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','markMessageAsRead','sticker','createGroup','shutdown\x20-r\x20now','migrateFlowsToCentralizedCollection','):\x20Visualizando\x20AutomateSystem','groupId','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','Falta\x20informação\x20para\x20a\x20chamada\x20API','REDIS','):\x20atualização\x20chat:\x20','endSession','authorization','locationMessage','findAll','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','findGroupInfo','email','option','awaitSeconds','updateMessage','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','StatusJidList\x20is\x20required','leadInfo.atendimentoAberto','item','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','floor','editChat','STORE_MESSAGE','removeChatLabel','uazapiSendAudio','namespace','getDevice','AUTHENTICATION_API_KEY','SERVER','.ogg','remoteJidsRemaining','messageTimestamp','DELETED','scheduleSendMedia','Mensagem\x20não\x20suportada','processPollUpdateMessage','/wa-connection-update','DaysToDelete','findWebhook','Primeiro\x20Valor:\x20','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','@whiskeysockets/baileys','buttonText','user','):\x20Editando\x20edição\x20do\x20fluxo...','Button\x20texts\x20cannot\x20be\x20repeated','values','request\x20received\x20in\x20getFlow','):Error\x20in\x20converting\x20audio','\x27...','PLAYED','#01d0e2','AUTHENTICATION_TYPE','.webm','removeUnusedChatFields','\x20adicionado\x20ao\x20chat\x20','CLEANING_INTERVAL','.uazapi.dev','groupMetadata','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','Instance\x20restarted','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','REDIS_URI','Erro\x20ao\x20arquivar\x20chat','updateOneById','truncatedtoEnd','dbInstance','waitingMenu_id','updateGParticipate','audioWhatsapp','request\x20received\x20in\x20allFlows','backgroundColor','ContactModel','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','trimmed','footerText','https://api.openai.com/v1/images/generations','Group\x20not\x20found','DB_PREFIX_NAME','leadInfo.desativadoFluxoAte','AddChatLabel','):\x20Conversa\x20está\x20expirada','folder','editflowgroup','Conversa\x20deletada\x20com\x20sucesso.','deleteChat','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','.url','\x5c$&','notEqual','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',',\x20qrcodeCount:\x20','presence.update','flush','Instance\x20Key\x20from\x20DB:','goNextblock','#ffffff','Log\x20out\x20instance:\x20','sendSticker','hGet','unlocked','segundos','conversation','cachedData-whatsapp','request\x20received\x20in\x20updateAutoCompleteMessages','joinGroup','):\x20enviado\x20para\x20[','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','send.message','):\x20Error\x20processing\x20the\x20block:\x20','saveTextReply','/message','):\x20Não\x20achou\x20nenhum\x20flow','Erro\x20ao\x20buscar\x20conversas','pollCreationMessageV3','Erro\x20ao\x20criar\x20fluxo','updateMediaMessage','iniciando\x20fluxo\x20router','formatStatusMessage','parseInt','CONNECTION','PRIVKEY','global','#000000','beautifyWithPlaceholders','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','console','save','restart','cacheInstanceModel','profilePictureUrl','bateu\x20events','listResponseMessage','fetchProfile','URL:','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','toBrazilianNumberFormat','remove','/automate','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','application/octet-stream','):\x20Comando\x20desconhecido:\x20','Operador:\x20\x22','last_update','modifiedCount','badSession','jid','updateCustomFields','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','editflowvariable','\x20-y','public','enabled','request\x20body:\x20','restartInstance','.error','groupBetterSetting','):\x20Procurando\x20mensagens\x20para\x20envio','isURL','generateRandomIPv6','instanceKeys','remote\x20\x22origin\x22','updateMissingCustomFields','/clients-info','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','updateChatGroupData','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','setNewValue','chatLog','Schema','assign','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','saveMediaToFile','eventEmitter','):\x20Editando\x20grupo\x20do\x20fluxo...','exec','https://api.openai.com/v1/audio/speech','messages','getPrototypeOf','closed','\x1b[32m%s\x1b[0m','setWebhook','write','Erro\x20ao\x20inserir\x20chats:','DATABASE_CONNECTION_HOST','setRestartTimeout','verifyWhatsAppNumber','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','min','.jpg','key','command','integer','buttonMessage','!stop','groupValidate','pollCreationMessage','gifPlayback','pairingCode','options','URL\x20não\x20disponível','findManyByIds','firstValue','convertaudioMP3','.doc','archive','deleteDoneMessages','):\x20Edit\x20schedule\x20message...','videoMessage','createOrUpdate','SERVER_URL','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','groupUpdateDescription','order','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','ListType','uazapiSendText','replaceVariablesInObject','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','deleteImportedChat','updateParticipant','Esse\x20fluxo\x20não\x20permite\x20importação.','):including\x20timestamp\x20in\x20url:\x20','-instances','logger','createWebhook','sendWhatsAppAudio','WA\x20MODULE','extractRegex','augusto.fcs@gmail.com','processConditionsTest','.TEL;waid=','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','whoCanEdit','lastSend','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','removeInstance','clearVariables','warn','/events','statSync','readreceipts','MESSAGES_SET','apirequest','/create','headers','stickerMessage','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','messageHandle','):\x20this.processing_id:\x20','AUTHENTICATION_JWT_EXPIRIN_IN','waInstances','editConversation','ListMessage','toBRL','pt-BR','6vylHdN','MESSAGES_UPSERT','$dbName','):Trying\x20to\x20get\x20business\x20profile','imageMessage','writeData','errorLog','./.git/config','data:\x20','_activatedCount','uazapi','last','drop','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','timeout','connecting','):\x20Limpando\x20delayMessage','getContentType','Erro\x20ao\x20deletar\x20mensagens:','createflow','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','readData','mediaSticker','toggleEphemeral','instance','onTime','env','_id','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','test','Last\x20message\x20not\x20found','reject','replaceVariablesChat','SERVER_PORT','webhook','closeExistingConversations','secondValue','expression','\x1b[44m','):\x20Deletando\x20conversa...','value','hbs','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','variable','groupUpdateSubject','ip\x20-6\x20addr\x20del\x20','request\x20received\x20in\x20editFlowvariable','fromMe','toString','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','PRESENCE_UPDATE','/instance/fetchInstances','message','chats','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','saveVariable','size','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','reference','app','apiName','replaceVariablesInReplyOptions','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','readFileSync','):Type\x20defined\x20as\x20audio','Missing\x20global\x20api\x20key','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','startID','webhookModel','[AUTH]\x20Database\x20is\x20not\x20enabled','groups.upsert','function','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','reorderReplyOptions','BufferJSON','messages.upsert','processConditions','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','isValidIPv6Config','quoted','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','updateGroupPicture','updateAgent','updateGParticipant','birthtime','stopConversation','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','):\x20Editando\x20condição\x20do\x20fluxo...','URL','ConversationModel','\x20não\x20encontrado\x20para\x20cópia','_p_','.pdf','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','DATABASE','refused','desativadoFluxoAte','https://ifconfig.me/ip','):\x20Bloco\x20copiado:\x20','editFlowCondition','STATUS_INSTANCE','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','mentions','stanzaId','presence','isBase64','ERROR','caption','):\x20Criou\x20conversa\x20no\x20startFlow','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','listMessage','uazapiDeleteMessage','Bad\x20Request','configService','31362QtqqEk','):Delete\x20chat','creds'];a0_0x4c5a=function(){return _0x4dcc63;};return a0_0x4c5a();}async function Ae(_0x17d5d1){const _0xd8c382=a0_0x1eb7af;let _0x14bfb2=G['waInstances'][_0x17d5d1];if(F[_0xd8c382(0x412)]){let _0x3edba6=R[_0xd8c382(0x4a3)]()['db'](F[_0xd8c382(0x66d)]['DB_PREFIX_NAME']+'-instances')[_0xd8c382(0x2d2)](_0x17d5d1);return _0x14bfb2||(await _0x3edba6[_0xd8c382(0x7a9)]({})[_0xd8c382(0x17c)]())[_0xd8c382(0x3fe)]>0x0;}return _0x14bfb2||(0x0,va[_0xd8c382(0x3e4)])((0x0,Na[_0xd8c382(0x17d)])(be,_0x17d5d1));}async function $a(_0xca3d0e,_0x4b1eb1,_0x1b675c){const _0x57b6d7=a0_0x1eb7af;if(_0xca3d0e[_0x57b6d7(0x3ad)][_0x57b6d7(0x34b)]('/instance/create')||_0xca3d0e['originalUrl'][_0x57b6d7(0x34b)](_0x57b6d7(0x728))||_0xca3d0e['originalUrl']['includes'](_0x57b6d7(0x1ea))||_0xca3d0e['originalUrl']['includes']('/config')||_0xca3d0e['originalUrl'][_0x57b6d7(0x34b)](_0x57b6d7(0x170))||_0xca3d0e[_0x57b6d7(0x3ad)]['includes']('/instance/connectionState')||_0xca3d0e['originalUrl'][_0x57b6d7(0x34b)](_0x57b6d7(0x250)))return _0x1b675c();let _0x3879b0=_0xca3d0e['params'];if(!_0x3879b0?.[_0x57b6d7(0x1fc)])throw new m(_0x57b6d7(0x7f9));if(!await Ae(_0x3879b0['instanceName']))throw new J(_0x57b6d7(0x223)+_0x3879b0[_0x57b6d7(0x1fc)]+_0x57b6d7(0x80f));_0x1b675c();}function a0_0x4c0f(_0x5dba3b,_0x574b77){const _0x4c5a11=a0_0x4c5a();return a0_0x4c0f=function(_0x4c0fff,_0x1fdfc3){_0x4c0fff=_0x4c0fff-0xe6;let _0x320e0f=_0x4c5a11[_0x4c0fff];return _0x320e0f;},a0_0x4c0f(_0x5dba3b,_0x574b77);}async function Ra(_0x3030b9,_0x350a5e,_0x2e2f91){const _0x33d3e4=a0_0x1eb7af;if(_0x3030b9[_0x33d3e4(0x3ad)][_0x33d3e4(0x34b)](_0x33d3e4(0x181))){let _0x539f7b=_0x3030b9[_0x33d3e4(0x589)];if(await Ae(_0x539f7b[_0x33d3e4(0x1fc)]))throw new K('This\x20name\x20'+_0x539f7b[_0x33d3e4(0x1fc)]+_0x33d3e4(0x3a1));G[_0x33d3e4(0x6f0)][_0x539f7b[_0x33d3e4(0x1fc)]]&&delete G[_0x33d3e4(0x6f0)][_0x539f7b['instanceName']];}_0x2e2f91();}var Aa=require(a0_0x1eb7af(0x7e0)),Ta=A(require(a0_0x1eb7af(0x2e3))),ot=a0_0x1eb7af(0x6ff),Ni=new $(a0_0x1eb7af(0x815));async function $i(_0x5806e3,_0x2da581,_0x2c8f21){const _0x30b0da=a0_0x1eb7af;let _0x572bdb=_0x5806e3[_0x30b0da(0x14e)]('apikey');if(_0x572bdb&&b[_0x30b0da(0x14e)](_0x30b0da(0x41a))[_0x30b0da(0x140)][_0x30b0da(0x1a5)]!==_0x572bdb)throw new se();if(b[_0x30b0da(0x14e)](_0x30b0da(0x41a))[_0x30b0da(0x140)]['KEY']===_0x572bdb)return _0x2c8f21();if((_0x5806e3['originalUrl'][_0x30b0da(0x34b)](_0x30b0da(0x181))||_0x5806e3[_0x30b0da(0x3ad)]['includes'](_0x30b0da(0x728)))&&!_0x572bdb)throw new K(_0x30b0da(0x736),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x28747e=b[_0x30b0da(0x14e)](_0x30b0da(0x41a))[_0x30b0da(0x57c)];try{let [_0x4b0322,_0x34bfc3]=_0x5806e3[_0x30b0da(0x14e)](_0x30b0da(0x5fa))[_0x30b0da(0x17f)]('\x20');if(_0x4b0322[_0x30b0da(0x799)]()!=='bearer')throw new se();if(!(0x0,Aa[_0x30b0da(0x227)])(_0x34bfc3))throw new se();let _0x44f194=_0x5806e3[_0x30b0da(0x511)],_0x4c7b30=Ta[_0x30b0da(0x39f)]['verify'](_0x34bfc3,_0x28747e[_0x30b0da(0x28e)],{'ignoreExpiration':_0x28747e[_0x30b0da(0x510)]===0x0});if(_0x44f194[_0x30b0da(0x1fc)]!==_0x4c7b30[_0x30b0da(0x1fc)]||ot!==_0x4c7b30[_0x30b0da(0x731)])throw new se();return _0x2c8f21();}catch(_0x1c7239){throw Ni[_0x30b0da(0x299)](_0x1c7239),new se();}}async function Ri(_0x56c0ca,_0x186260,_0x350f9c){const _0x5737e8=a0_0x1eb7af;let _0x23ec66=b[_0x5737e8(0x14e)](_0x5737e8(0x41a))[_0x5737e8(0x140)],_0x27104c=_0x56c0ca['get']('apikey');if(_0x23ec66['KEY']===_0x27104c)return _0x350f9c();if(_0x56c0ca[_0x5737e8(0x3ad)][_0x5737e8(0x34b)](_0x5737e8(0x181))){let _0x3b662c=Oa,_0x46ca66=_0x56c0ca[_0x5737e8(0x589)][_0x5737e8(0x1fc)];if(_0x3b662c&&_0x46ca66[_0x5737e8(0x799)]()[_0x5737e8(0x24d)](_0x3b662c[_0x5737e8(0x799)]()))return _0x350f9c();if(!_0x27104c)throw new K(_0x5737e8(0x736),_0x5737e8(0x354));}if(_0x56c0ca[_0x5737e8(0x3ad)][_0x5737e8(0x34b)](_0x5737e8(0x728))&&!_0x27104c)throw new K(_0x5737e8(0x736),_0x5737e8(0x354));if(_0x56c0ca['originalUrl'][_0x5737e8(0x34b)](_0x5737e8(0x1ea))&&!_0x27104c)throw new K('Missing\x20global\x20api\x20key',_0x5737e8(0x354));if(_0x56c0ca[_0x5737e8(0x3ad)]['includes'](_0x5737e8(0x161))&&!_0x27104c)throw new K(_0x5737e8(0x736),_0x5737e8(0x354));try{let _0x183f90=_0x56c0ca['params'],_0x4d9fe1=await he[_0x5737e8(0x108)][_0x5737e8(0x7a9)](_0x183f90[_0x5737e8(0x1fc)]);if(_0x4d9fe1&&_0x4d9fe1['apikey']===_0x27104c)return _0x350f9c();}catch{}throw new se();}var Ia={'jwt':$i,'apikey':Ri},po=require(a0_0x1eb7af(0x5d4)),E=require(a0_0x1eb7af(0x163)),C=(..._0x49a234)=>{const _0x1b20c4=a0_0x1eb7af;let _0x545f0d={};return _0x49a234['forEach'](_0x206ab3=>_0x545f0d[_0x206ab3]={'minLength':0x1,'description':'The\x20\x22'+_0x206ab3+_0x1b20c4(0x3d6)}),{'if':{'propertyNames':{'enum':[..._0x49a234]}},'then':{'properties':_0x545f0d}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'instanceName':{'type':a0_0x1eb7af(0x30b)}},...C(a0_0x1eb7af(0x1fc))},Sc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x1eb7af(0x30b)}},'required':[a0_0x1eb7af(0x57d)],...C(a0_0x1eb7af(0x57d))},Mc={'properties':{'key':{'type':a0_0x1eb7af(0x23d),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x1eb7af(0x724)],...C('id',a0_0x1eb7af(0x4c9))},'message':{'type':'object'}}},Q={'properties':{'delay':{'type':a0_0x1eb7af(0x6b5),'description':a0_0x1eb7af(0x249)},'presence':{'type':'string','enum':[a0_0x1eb7af(0x358),a0_0x1eb7af(0x12c),a0_0x1eb7af(0x14b),a0_0x1eb7af(0x22d),a0_0x1eb7af(0x3bf)]}}},z={'type':a0_0x1eb7af(0x30b),'description':a0_0x1eb7af(0x505)},_a={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'text':{'type':a0_0x1eb7af(0x30b)}},'required':[a0_0x1eb7af(0x3e8)],...C(a0_0x1eb7af(0x3e8))}},'required':[a0_0x1eb7af(0x1b3),a0_0x1eb7af(0x41f)]},xa={'type':a0_0x1eb7af(0x30b),'pattern':a0_0x1eb7af(0x590),'description':a0_0x1eb7af(0x505)},Cc={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'number':{...xa},'options':{...Q},'textMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'text':{'type':a0_0x1eb7af(0x30b)}},'required':['text'],...C(a0_0x1eb7af(0x3e8))}},'required':[a0_0x1eb7af(0x1b3),a0_0x1eb7af(0x41f)]},Ec={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...xa},'options':{...Q},'mediaMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'mediatype':{'type':a0_0x1eb7af(0x30b),'enum':[a0_0x1eb7af(0x111),a0_0x1eb7af(0x3af),a0_0x1eb7af(0x5c6),a0_0x1eb7af(0x52e)]},'media':{'type':a0_0x1eb7af(0x30b)},'fileName':{'type':a0_0x1eb7af(0x30b)},'caption':{'type':'string'}},'required':[a0_0x1eb7af(0x11e),a0_0x1eb7af(0x1f9)],...C(a0_0x1eb7af(0x1de),a0_0x1eb7af(0x762),'media')}},'required':[a0_0x1eb7af(0x40d),'number']},Da={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'image':{'type':a0_0x1eb7af(0x30b)}},'required':[a0_0x1eb7af(0x111)],...C(a0_0x1eb7af(0x111))}},'required':[a0_0x1eb7af(0x6eb),'number']},Pa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'type':{'type':a0_0x1eb7af(0x30b),'enum':[a0_0x1eb7af(0x3e8),a0_0x1eb7af(0x111),a0_0x1eb7af(0x52e),'video']},'content':{'type':a0_0x1eb7af(0x30b)},'caption':{'type':a0_0x1eb7af(0x30b)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x1eb7af(0x6b5),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1eb7af(0x30b),'pattern':'^\x5cd+','description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]}},'required':[a0_0x1eb7af(0x813),a0_0x1eb7af(0x493)],...C('type',a0_0x1eb7af(0x493))}},'required':[a0_0x1eb7af(0x7c2)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'mediatype':{'type':a0_0x1eb7af(0x30b),'enum':['image','document',a0_0x1eb7af(0x5c6),a0_0x1eb7af(0x52e)]},'media':{'type':a0_0x1eb7af(0x30b)},'fileName':{'type':a0_0x1eb7af(0x30b)},'caption':{'type':'string'}},'required':[a0_0x1eb7af(0x11e),'media'],...C(a0_0x1eb7af(0x1de),a0_0x1eb7af(0x762),a0_0x1eb7af(0x1f9))}},'required':[a0_0x1eb7af(0x40d),a0_0x1eb7af(0x41f)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'audio':{'type':a0_0x1eb7af(0x30b)}},'required':[a0_0x1eb7af(0x52e)],...C('audio')}},'required':[a0_0x1eb7af(0x53a),'number']},Fa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'pollMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'name':{'type':a0_0x1eb7af(0x30b)},'selectableCount':{'type':a0_0x1eb7af(0x41f)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x1eb7af(0x462),a0_0x1eb7af(0x623)],...C(a0_0x1eb7af(0x587),'selectableCount',a0_0x1eb7af(0x623))}},'required':[a0_0x1eb7af(0x41f),a0_0x1eb7af(0x217)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'number':{...z},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x1eb7af(0x30b)},'choices':{'type':a0_0x1eb7af(0x1e0),'minItems':0x2,'uniqueItems':!0x0}},'required':['text',a0_0x1eb7af(0x176)],...C('text','choices')}},'required':[a0_0x1eb7af(0x41f),a0_0x1eb7af(0x38c)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'title':{'type':a0_0x1eb7af(0x30b)},'description':{'type':a0_0x1eb7af(0x30b)},'footerText':{'type':a0_0x1eb7af(0x30b)},'buttons':{'type':a0_0x1eb7af(0x1e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x1eb7af(0x30b)}},'required':[a0_0x1eb7af(0x61f),'buttonId'],...C(a0_0x1eb7af(0x61f),a0_0x1eb7af(0x7c3))}},'mediaMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'media':{'type':a0_0x1eb7af(0x30b)},'fileName':{'type':a0_0x1eb7af(0x30b)},'mediatype':{'type':a0_0x1eb7af(0x30b),'enum':[a0_0x1eb7af(0x111),a0_0x1eb7af(0x3af),a0_0x1eb7af(0x5c6)]}},'required':[a0_0x1eb7af(0x1f9),a0_0x1eb7af(0x11e)],...C(a0_0x1eb7af(0x1f9),a0_0x1eb7af(0x1de))}},'required':[a0_0x1eb7af(0x2bd),a0_0x1eb7af(0x2e0)],...C('title',a0_0x1eb7af(0x2bc))}},'required':['number',a0_0x1eb7af(0x6b6)]},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'latitude':{'type':a0_0x1eb7af(0x41f)},'longitude':{'type':'number'},'name':{'type':a0_0x1eb7af(0x30b)},'address':{'type':a0_0x1eb7af(0x30b)}},'required':['latitude','longitude'],...C(a0_0x1eb7af(0x587),a0_0x1eb7af(0x469))}},'required':[a0_0x1eb7af(0x41f),'locationMessage']},qa={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'title':{'type':a0_0x1eb7af(0x30b)},'description':{'type':a0_0x1eb7af(0x30b)},'footerText':{'type':a0_0x1eb7af(0x30b)},'buttonText':{'type':a0_0x1eb7af(0x30b)},'sections':{'type':a0_0x1eb7af(0x1e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1eb7af(0x23d),'properties':{'title':{'type':a0_0x1eb7af(0x30b)},'rows':{'type':a0_0x1eb7af(0x1e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1eb7af(0x23d),'properties':{'title':{'type':a0_0x1eb7af(0x30b)},'description':{'type':a0_0x1eb7af(0x30b)},'rowId':{'type':a0_0x1eb7af(0x30b)}},'required':[a0_0x1eb7af(0x2bd),a0_0x1eb7af(0x330)],...C(a0_0x1eb7af(0x2bd),a0_0x1eb7af(0x330))}}},'required':['title',a0_0x1eb7af(0x22c)],...C('title')}}},'required':[a0_0x1eb7af(0x2bd),'description',a0_0x1eb7af(0x61f),'sections'],...C(a0_0x1eb7af(0x2bd),a0_0x1eb7af(0x2bc),'buttonText','footerText')}},'required':[a0_0x1eb7af(0x41f),a0_0x1eb7af(0x765)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x1eb7af(0x1e0),'items':{'type':a0_0x1eb7af(0x23d),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x1eb7af(0x30b),'minLength':0xa}},'required':['fullName','phoneNumber'],...C(a0_0x1eb7af(0x222))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x1eb7af(0x41f),a0_0x1eb7af(0x34f)]},Ga={'$id':(0x0,E['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'key':{'type':a0_0x1eb7af(0x23d),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1eb7af(0x4c9),'fromMe'],...C('id','remoteJid')},'reaction':{'type':a0_0x1eb7af(0x30b)}},'required':['key',a0_0x1eb7af(0x1cc)],...C(a0_0x1eb7af(0x1cc))}},'required':[a0_0x1eb7af(0x7e1)]},Ba={'$id':(0x0,E['v4'])(),'type':'object','properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x1eb7af(0x423),'description':a0_0x1eb7af(0x4e9)}}}},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x1eb7af(0x30b)},'fromMe':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1eb7af(0x30b)}},'required':['id',a0_0x1eb7af(0x724),'remoteJid'],...C('id',a0_0x1eb7af(0x4c9))}}},'required':['readMessages']},za={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':'string','enum':[a0_0x1eb7af(0x44d),'none']},'profile':{'type':a0_0x1eb7af(0x30b),'enum':[a0_0x1eb7af(0x44d),a0_0x1eb7af(0x3a5),a0_0x1eb7af(0x159),a0_0x1eb7af(0x56d)]},'status':{'type':a0_0x1eb7af(0x30b),'enum':[a0_0x1eb7af(0x44d),a0_0x1eb7af(0x3a5),a0_0x1eb7af(0x159),a0_0x1eb7af(0x56d)]},'online':{'type':a0_0x1eb7af(0x30b),'enum':[a0_0x1eb7af(0x44d),'match_last_seen']},'last':{'type':a0_0x1eb7af(0x30b),'enum':[a0_0x1eb7af(0x44d),'contacts',a0_0x1eb7af(0x159),'none']},'groupadd':{'type':a0_0x1eb7af(0x30b),'enum':['all',a0_0x1eb7af(0x3a5),a0_0x1eb7af(0x159),'none']}},'required':[a0_0x1eb7af(0x6e6),a0_0x1eb7af(0x2a5),a0_0x1eb7af(0x771),'online',a0_0x1eb7af(0x700),'groupadd'],...C(a0_0x1eb7af(0x6e6),a0_0x1eb7af(0x2a5),a0_0x1eb7af(0x771),a0_0x1eb7af(0x115),a0_0x1eb7af(0x700),a0_0x1eb7af(0x51a))}},'required':['privacySettings']},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'lastMessage':{'type':a0_0x1eb7af(0x23d),'properties':{'key':{'type':a0_0x1eb7af(0x23d),'properties':{'id':{'type':a0_0x1eb7af(0x30b)},'remoteJid':{'type':a0_0x1eb7af(0x30b)},'fromMe':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x1eb7af(0x4c9)],...C('id','remoteJid')},'messageTimestamp':{'type':a0_0x1eb7af(0x6b5),'minLength':0x1}},'required':[a0_0x1eb7af(0x6b3)],...C(a0_0x1eb7af(0x613))},'archive':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]}},'required':['lastMessage','archive']},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'id':{'type':a0_0x1eb7af(0x30b)},'fromMe':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x1eb7af(0x30b)}},'required':['id',a0_0x1eb7af(0x724),'remoteJid'],...C('id',a0_0x1eb7af(0x4c9),a0_0x1eb7af(0x261))},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'where':{'type':a0_0x1eb7af(0x23d),'properties':{'_id':{'type':a0_0x1eb7af(0x30b),'minLength':0x1},'pushName':{'type':a0_0x1eb7af(0x30b),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...C(a0_0x1eb7af(0x710),'id',a0_0x1eb7af(0x810))}}},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'name':{'type':'string'}},...C('name')},Xa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'status':{'type':a0_0x1eb7af(0x30b)}},...C(a0_0x1eb7af(0x771))},Te={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'number':{'type':a0_0x1eb7af(0x30b)},'picture':{'type':a0_0x1eb7af(0x30b)}}},Za={'type':a0_0x1eb7af(0x23d),'properties':{'wuid':{'type':a0_0x1eb7af(0x30b)},'name':{'type':a0_0x1eb7af(0x30b)},'picture':{'type':a0_0x1eb7af(0x30b)},'status':{'type':a0_0x1eb7af(0x30b)},'isBusiness':{'type':'boolean'}}},eo={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x1eb7af(0x30b),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x1eb7af(0x724),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x1eb7af(0x30b),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x1eb7af(0x30b),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x1eb7af(0x23d)}},...C(a0_0x1eb7af(0x710))},'limit':{'type':a0_0x1eb7af(0x6b5)}}},vc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x1eb7af(0x23d),'properties':{'_id':{'type':a0_0x1eb7af(0x30b)},'remoteJid':{'type':a0_0x1eb7af(0x30b)},'id':{'type':'string'},'fromMe':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x1eb7af(0x30b),'enum':['ERROR',a0_0x1eb7af(0x485),a0_0x1eb7af(0x319),a0_0x1eb7af(0x29f),'READ',a0_0x1eb7af(0x627)]}},...C(a0_0x1eb7af(0x710),'remoteJid','id','status')},'limit':{'type':a0_0x1eb7af(0x6b5)}}},to={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'number':{...z},'presence':{'type':a0_0x1eb7af(0x30b),'enum':[a0_0x1eb7af(0x358),a0_0x1eb7af(0x12c),a0_0x1eb7af(0x14b),a0_0x1eb7af(0x22d),a0_0x1eb7af(0x3bf)]}},'required':['presence',a0_0x1eb7af(0x41f)]},so={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x1eb7af(0x30b)},'description':{'type':a0_0x1eb7af(0x30b)},'profilePicture':{'type':a0_0x1eb7af(0x30b)},'participants':{'type':a0_0x1eb7af(0x1e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1eb7af(0x30b),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x1eb7af(0x6b0)}}},'required':[a0_0x1eb7af(0x1ca),a0_0x1eb7af(0x58d)],...C(a0_0x1eb7af(0x1ca),a0_0x1eb7af(0x2bc),'profilePicture')},Ie={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'groupJid':{'type':a0_0x1eb7af(0x30b),'pattern':a0_0x1eb7af(0x366)}},'required':[a0_0x1eb7af(0x13d)],...C(a0_0x1eb7af(0x13d))},ao={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'groupJid':{'type':a0_0x1eb7af(0x30b)},'action':{'type':a0_0x1eb7af(0x30b),'enum':['add',a0_0x1eb7af(0x67e),a0_0x1eb7af(0x3cc),'demote',a0_0x1eb7af(0x714),a0_0x1eb7af(0x77f)]},'participants':{'type':a0_0x1eb7af(0x1e0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1eb7af(0x30b),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x1eb7af(0x13d),'action','participants'],...C(a0_0x1eb7af(0x13d),'action')},oo={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'groupJid':{'type':a0_0x1eb7af(0x30b)},'expiration':{'type':a0_0x1eb7af(0x41f),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x1eb7af(0x13d),a0_0x1eb7af(0x340)],...C(a0_0x1eb7af(0x13d),a0_0x1eb7af(0x340))},io={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1eb7af(0x30b)},'image':{'type':a0_0x1eb7af(0x30b)}},'required':[a0_0x1eb7af(0x13d),a0_0x1eb7af(0x111)],...C('groupJid',a0_0x1eb7af(0x111))},ro={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1eb7af(0x30b)},'description':{'type':'string'}},'required':['groupJid',a0_0x1eb7af(0x2bc)],...C(a0_0x1eb7af(0x13d),a0_0x1eb7af(0x2bc))},no={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'name':{'type':'string'}},'required':['groupJid','name'],...C('groupJid',a0_0x1eb7af(0x587))},co={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'groupJid':{'type':'string'},'setting':{'type':'string','enum':[a0_0x1eb7af(0x4f8),a0_0x1eb7af(0x3e3),a0_0x1eb7af(0x659),a0_0x1eb7af(0x4b5)]}},'required':['groupJid',a0_0x1eb7af(0x55e)],...C(a0_0x1eb7af(0x13d),'setting')},lo={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1eb7af(0x30b)},'restrict':{'type':a0_0x1eb7af(0x343)},'announce':{'type':'boolean'},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':a0_0x1eb7af(0x343)},'expiration':{'type':a0_0x1eb7af(0x6b5),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x1eb7af(0x30b)},'image':{'type':'string'}}},Ns={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'inviteCode':{'type':a0_0x1eb7af(0x30b)}},'required':[a0_0x1eb7af(0x3ab)],...C('inviteCode')},uo={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':a0_0x1eb7af(0x30b)},'enabled':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]}},'required':[a0_0x1eb7af(0x3d8),a0_0x1eb7af(0x68d)]},Nc={'$id':(0x0,E['v4'])(),'type':a0_0x1eb7af(0x23d),'properties':{'local_map':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1eb7af(0x343),'enum':[!0x0,!0x1]}},'required':[a0_0x1eb7af(0x38a),a0_0x1eb7af(0x75a),'QRCODE_UPDATED','MESSAGES_SET','MESSAGES_UPDATE',a0_0x1eb7af(0x6f6),a0_0x1eb7af(0x117),a0_0x1eb7af(0x3e0),'CONTACTS_UPSERT',a0_0x1eb7af(0x591),a0_0x1eb7af(0x727),a0_0x1eb7af(0x77e),a0_0x1eb7af(0x5e9),a0_0x1eb7af(0xed),a0_0x1eb7af(0x2be),a0_0x1eb7af(0x4bb),a0_0x1eb7af(0x32b),'GROUPS_UPDATE',a0_0x1eb7af(0x3f6)],...C(a0_0x1eb7af(0x38a),a0_0x1eb7af(0x75a),a0_0x1eb7af(0x466),a0_0x1eb7af(0x6e7),a0_0x1eb7af(0x116),a0_0x1eb7af(0x6f6),a0_0x1eb7af(0x117),'CONTACTS_SET',a0_0x1eb7af(0x391),a0_0x1eb7af(0x591),a0_0x1eb7af(0x727),a0_0x1eb7af(0x77e),a0_0x1eb7af(0x5e9),a0_0x1eb7af(0xed),a0_0x1eb7af(0x2be),'CONNECTION_UPDATE','GROUPS_UPSERT',a0_0x1eb7af(0x533),a0_0x1eb7af(0x3f6))},it=class{},rt=class extends O{[a0_0x1eb7af(0x489)](_0x2e8f54){return aa(_0x2e8f54);}async[a0_0x1eb7af(0x1f7)](_0x1a7b7d){const _0x4898d1=a0_0x1eb7af;if(_0x1a7b7d[_0x4898d1(0x3fe)]!==0x0)try{return{'insertCount':(await this[_0x4898d1(0x489)](_0x1a7b7d[0x0][_0x4898d1(0x337)])[_0x4898d1(0x2ce)]([..._0x1a7b7d]))['length']};}catch(_0x2d97a2){return _0x2d97a2;}}async[a0_0x1eb7af(0x404)](_0x16a21f,_0x5974cc){const _0x38d49f=a0_0x1eb7af;try{return{'deletedCount':(await this[_0x38d49f(0x489)](_0x5974cc)[_0x38d49f(0x5d5)]({..._0x16a21f[_0x38d49f(0x5b0)]}))['deletedCount']};}catch(_0x389fdf){return{'error':_0x389fdf?.[_0x38d49f(0x725)]()};}}async[a0_0x1eb7af(0x7f1)](_0x199116,_0x542fdd){const _0x16a4ae=a0_0x1eb7af;try{if(_0x199116['length']===0x0)return;let _0x25e487=this['getContactModelForOwner'](_0x542fdd),_0x333bf3=_0x199116['map'](_0x5ba9=>({'updateOne':{'filter':{'_id':_0x5ba9[_0x16a4ae(0x710)],'owner':_0x542fdd},'update':{..._0x5ba9}}})),{modifiedCount:_0x3ba2c8}=await _0x25e487[_0x16a4ae(0x494)](_0x333bf3);return{'insertCount':_0x3ba2c8};}catch{return;}}async[a0_0x1eb7af(0x7a9)](_0x47ae2e,_0x193ada){const _0x2520aa=a0_0x1eb7af;try{let _0xac018a=this[_0x2520aa(0x489)](_0x193ada),_0x2676f8=T(_0x47ae2e[_0x2520aa(0x5b0)]);return await _0xac018a[_0x2520aa(0x7a9)](_0x2676f8)['limit'](_0x47ae2e?.['limit']??0x0)[_0x2520aa(0x5de)]();}catch{return[];}}async[a0_0x1eb7af(0x1be)](_0x479a27,_0x367ba9){const _0x330cf1=a0_0x1eb7af;try{let _0x56ee24=this[_0x330cf1(0x489)](_0x367ba9),_0x4d0dfe=T(_0x479a27[_0x330cf1(0x5b0)]);return await _0x56ee24[_0x330cf1(0x1be)](_0x4d0dfe)[_0x330cf1(0x5de)]();}catch{return null;}}async['deleteAll'](_0x4f825c){const _0x531908=a0_0x1eb7af;try{return await this[_0x531908(0x489)](_0x4f825c)[_0x531908(0x2d2)]['drop'](),{'success':!0x0};}catch(_0x5c0522){return console['error'](_0x5c0522),{'success':!0x1,'error':_0x5c0522};}}},nt=require('jsonschema'),Dc=require(a0_0x1eb7af(0x339)),$s=new $(a0_0x1eb7af(0x38e)),V=class{[a0_0x1eb7af(0x55f)](_0x4dc965,_0x5f5bc2=!0x0){let _0x5e8cc5='/'+_0x4dc965;return _0x5f5bc2&&(_0x5e8cc5+='/:instanceName'),_0x5e8cc5;}async[a0_0x1eb7af(0x18d)](_0x3685bc){const _0x18f312=a0_0x1eb7af;let {request:_0x5531b3,schema:_0x482b7a,ClassRef:_0x4fb8c9,execute:_0x3b5dba}=_0x3685bc,_0x5eea75=new _0x4fb8c9(),_0x16496e=_0x5531b3[_0x18f312(0x589)],_0x4d726f=_0x5531b3[_0x18f312(0x511)];_0x5531b3?.[_0x18f312(0x2cb)]&&Object[_0x18f312(0x81b)](_0x5531b3[_0x18f312(0x2cb)])['length']>0x0&&Object[_0x18f312(0x69f)](_0x4d726f,_0x5531b3[_0x18f312(0x2cb)]),_0x5531b3['originalUrl'][_0x18f312(0x34b)](_0x18f312(0x181))&&Object[_0x18f312(0x69f)](_0x4d726f,_0x16496e),Object[_0x18f312(0x69f)](_0x5eea75,_0x16496e);let _0x5cee98=_0x482b7a?(0x0,nt[_0x18f312(0x432)])(_0x5eea75,_0x482b7a):{'valid':!0x0,'errors':[]};if(!_0x5cee98[_0x18f312(0x76c)]){let _0x1334c1=_0x5cee98[_0x18f312(0x297)][_0x18f312(0x285)](({property:_0x442f93,stack:_0x442ed3,schema:_0xf91206})=>{const _0x16a3ad=_0x18f312;let _0x3e278e;return _0xf91206[_0x16a3ad(0x2bc)]?_0x3e278e=_0xf91206[_0x16a3ad(0x2bc)]:_0x3e278e=_0x442ed3[_0x16a3ad(0x517)](_0x16a3ad(0x596),''),{'property':_0x442f93[_0x16a3ad(0x517)]('instance.',''),'message':_0x3e278e};});throw $s[_0x18f312(0x299)]([..._0x1334c1]),new m(..._0x1334c1);}return await _0x3b5dba(_0x4d726f,_0x5eea75);}async['groupValidate'](_0x35b9c1){const _0x28b448=a0_0x1eb7af;let {request:_0x50e296,ClassRef:_0x2cc6d0,schema:_0x53beef,execute:_0x578ec0}=_0x35b9c1,_0x37cc96=_0x50e296[_0x28b448(0x2cb)];if(!_0x37cc96?.[_0x28b448(0x13d)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x28b448(0x20a));let _0x45965d=_0x50e296[_0x28b448(0x511)],_0x58968a=_0x50e296['body'],_0x46beff=new _0x2cc6d0();Object['assign'](_0x58968a,_0x37cc96),Object[_0x28b448(0x69f)](_0x46beff,_0x58968a);let _0x105b12=(0x0,nt['validate'])(_0x46beff,_0x53beef);if(!_0x105b12[_0x28b448(0x76c)]){let _0x2a3b9a=_0x105b12[_0x28b448(0x297)][_0x28b448(0x285)](({property:_0x4b0929,stack:_0x240c8f,schema:_0x3701af})=>{const _0x2fa2fc=_0x28b448;let _0x2f0cf9;return _0x3701af[_0x2fa2fc(0x2bc)]?_0x2f0cf9=_0x3701af['description']:_0x2f0cf9=_0x240c8f[_0x2fa2fc(0x517)](_0x2fa2fc(0x596),''),{'property':_0x4b0929['replace'](_0x2fa2fc(0x596),''),'message':_0x2f0cf9};});throw $s['error']([..._0x2a3b9a]),new m(..._0x2a3b9a);}return await _0x578ec0(_0x45965d,_0x46beff);}async['joinGroupValidate'](_0x446be0){const _0x1afad2=a0_0x1eb7af;let {request:_0x213b9f,ClassRef:_0x24dcd4,schema:_0x376f72,execute:_0x1dc860}=_0x446be0,_0x1e7447=_0x213b9f[_0x1afad2(0x589)];if(!_0x1e7447?.[_0x1afad2(0x3ab)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x1afad2(0x660));let _0x44d311=_0x213b9f[_0x1afad2(0x511)],_0x9e2183=_0x213b9f[_0x1afad2(0x589)],_0x2730fa=new _0x24dcd4();Object['assign'](_0x9e2183,_0x1e7447),Object[_0x1afad2(0x69f)](_0x2730fa,_0x9e2183);let _0x5230c7=(0x0,nt[_0x1afad2(0x432)])(_0x2730fa,_0x376f72);if(!_0x5230c7[_0x1afad2(0x76c)]){let _0x33d8ee=_0x5230c7[_0x1afad2(0x297)][_0x1afad2(0x285)](({property:_0x2c5b0d,stack:_0x40a337,schema:_0xed5d5c})=>{const _0x53fb2c=_0x1afad2;let _0x788ffa;return _0xed5d5c[_0x53fb2c(0x2bc)]?_0x788ffa=_0xed5d5c[_0x53fb2c(0x2bc)]:_0x788ffa=_0x40a337[_0x53fb2c(0x517)](_0x53fb2c(0x596),''),{'property':_0x2c5b0d[_0x53fb2c(0x517)](_0x53fb2c(0x596),''),'message':_0x788ffa};});throw $s[_0x1afad2(0x299)]([..._0x33d8ee]),new m(..._0x33d8ee);}return await _0x1dc860(_0x44d311,_0x2730fa);}},M=class{},Kc=new $('ChatRouter'),ct=class extends V{constructor(..._0x112468){const _0xc69451=a0_0x1eb7af;super(),this['router']=(0x0,po[_0xc69451(0x26b)])(),this[_0xc69451(0x5b3)]['post'](this[_0xc69451(0x55f)](_0xc69451(0x558)),..._0x112468,async(_0x5c780c,_0x1e288f)=>{const _0x24b399=_0xc69451;let _0x140d8f=await this[_0x24b399(0x18d)]({'request':_0x5c780c,'schema':to,'ClassRef':Qe,'execute':(_0x563cda,_0xd0faa8)=>P['updatePresence'](_0x563cda,_0xd0faa8)});return _0x1e288f[_0x24b399(0x771)](0xc9)['json'](_0x140d8f);})[_0xc69451(0x4f7)](this[_0xc69451(0x55f)](_0xc69451(0x795)),..._0x112468,async(_0x1f3195,_0x50bc0c)=>{const _0x4dead6=_0xc69451;let _0x47f175=await this[_0x4dead6(0x18d)]({'request':_0x1f3195,'schema':Ba,'ClassRef':Ye,'execute':(_0x5b6de5,_0x39032b)=>P[_0x4dead6(0x2f7)](_0x5b6de5,_0x39032b)});return _0x50bc0c[_0x4dead6(0x771)](0xc9)[_0x4dead6(0x7bf)](_0x47f175);})['post'](this[_0xc69451(0x55f)](_0xc69451(0x609)),..._0x112468,async(_0x4bf60d,_0x49761f)=>{const _0x4c1682=_0xc69451;let _0x185862=await this[_0x4c1682(0x18d)]({'request':_0x4bf60d,'schema':v,'ClassRef':M,'execute':(_0x3cef01,_0x9299cd)=>P[_0x4c1682(0x609)](_0x3cef01,_0x9299cd)});return _0x49761f[_0x4c1682(0x771)](0xc9)[_0x4c1682(0x7bf)](_0x185862);})[_0xc69451(0x326)](this[_0xc69451(0x55f)](_0xc69451(0x5ee)),..._0x112468,async(_0xe9eb2b,_0x1fb80a)=>{const _0x15d4bc=_0xc69451;let _0x259c58=await this[_0x15d4bc(0x18d)]({'request':_0xe9eb2b,'schema':Wa,'ClassRef':et,'execute':(_0x508bab,_0x5c5f04)=>P[_0x15d4bc(0x776)](_0x508bab,_0x5c5f04)});return _0x1fb80a[_0x15d4bc(0x771)](0xc9)[_0x15d4bc(0x7bf)](_0x259c58);})[_0xc69451(0x326)](this[_0xc69451(0x55f)](_0xc69451(0x829)),..._0x112468,async(_0x2db12c,_0x2d8d8e)=>{const _0x3f5a57=_0xc69451;let _0x4a43c3=await this[_0x3f5a57(0x18d)]({'request':_0x2db12c,'schema':Ha,'ClassRef':tt,'execute':(_0x18ec6a,_0x2b331a)=>P[_0x3f5a57(0x829)](_0x18ec6a,_0x2b331a)});return _0x2d8d8e[_0x3f5a57(0x771)](0xc9)[_0x3f5a57(0x7bf)](_0x4a43c3);})[_0xc69451(0x404)](this[_0xc69451(0x55f)](_0xc69451(0x428)),..._0x112468,async(_0x16ed63,_0x4d6e3c)=>{const _0x253142=_0xc69451;let _0x37efd8=await this[_0x253142(0x18d)]({'request':_0x16ed63,'schema':Ka,'ClassRef':at,'execute':(_0x35528f,_0x24a252)=>P[_0x253142(0x557)](_0x35528f,_0x24a252)});return _0x4d6e3c[_0x253142(0x771)](0xc9)[_0x253142(0x7bf)](_0x37efd8);})[_0xc69451(0x4f7)](this[_0xc69451(0x55f)](_0xc69451(0x3c9)),..._0x112468,async(_0x52374c,_0x255ea4)=>{const _0x2047c3=_0xc69451;let _0x490a72=await this[_0x2047c3(0x18d)]({'request':_0x52374c,'schema':Te,'ClassRef':Re,'execute':(_0x1a0a20,_0x184d91)=>P[_0x2047c3(0x2db)](_0x1a0a20,_0x184d91)});return _0x255ea4['status'](0xc8)[_0x2047c3(0x7bf)](_0x490a72);})[_0xc69451(0x4f7)](this[_0xc69451(0x55f)](_0xc69451(0x67a)),..._0x112468,async(_0x4ba016,_0x3e86f7)=>{const _0x6a1418=_0xc69451;let _0x239205=await this[_0x6a1418(0x18d)]({'request':_0x4ba016,'schema':Za,'ClassRef':Re,'execute':(_0x18948d,_0x5ecfd3)=>P[_0x6a1418(0x67a)](_0x18948d,_0x5ecfd3)});return _0x3e86f7[_0x6a1418(0x771)](0xc8)[_0x6a1418(0x7bf)](_0x239205);})['post'](this[_0xc69451(0x55f)]('findContacts'),..._0x112468,async(_0x44ff74,_0x19634a)=>{const _0x43c3e8=_0xc69451;let _0x67f2bc=await this[_0x43c3e8(0x18d)]({'request':_0x44ff74,'schema':Qa,'ClassRef':it,'execute':(_0x416d0b,_0x5b2593)=>P[_0x43c3e8(0x2b1)](_0x416d0b,_0x5b2593)});return _0x19634a[_0x43c3e8(0x771)](0xc8)[_0x43c3e8(0x7bf)](_0x67f2bc);})[_0xc69451(0x4f7)](this[_0xc69451(0x55f)](_0xc69451(0x777)),..._0x112468,async(_0x4b2569,_0xd68975)=>{const _0x16e2b8=_0xc69451;let _0x2ed337=await this[_0x16e2b8(0x18d)]({'request':_0x4b2569,'schema':null,'ClassRef':Object,'execute':(_0x1ebdfd,_0xb34197)=>P[_0x16e2b8(0x777)](_0x1ebdfd,_0xb34197)});return _0xd68975['status'](0xc9)[_0x16e2b8(0x7bf)](_0x2ed337);})[_0xc69451(0x4f7)](this['routerPath'](_0xc69451(0x2c9)),..._0x112468,async(_0x188128,_0x3dcc76)=>{const _0x5f4cc2=_0xc69451;let _0x32971b=await this[_0x5f4cc2(0x18d)]({'request':_0x188128,'schema':eo,'ClassRef':He,'execute':(_0xdc1dce,_0x5f37a4)=>P[_0x5f4cc2(0x1a0)](_0xdc1dce,_0x5f37a4)});return _0x3dcc76[_0x5f4cc2(0x771)](0xc8)[_0x5f4cc2(0x7bf)](_0x32971b);})[_0xc69451(0x14e)](this[_0xc69451(0x55f)]('findChats'),..._0x112468,async(_0x50cbcd,_0x3de673)=>{const _0x5c4a7b=_0xc69451;let _0x1179a2=await this[_0x5c4a7b(0x18d)]({'request':_0x50cbcd,'schema':null,'ClassRef':M,'execute':_0x5f4261=>P['fetchChats'](_0x5f4261)});return _0x3de673['status'](0xc8)[_0x5c4a7b(0x7bf)](_0x1179a2);})[_0xc69451(0x14e)](this[_0xc69451(0x55f)]('findLabels'),..._0x112468,async(_0xddaa01,_0x3ca22e)=>{const _0x4b2973=_0xc69451;let _0x2fedef=await this['dataValidate']({'request':_0xddaa01,'schema':null,'ClassRef':M,'execute':_0x1de1dd=>P[_0x4b2973(0x5e6)](_0x1de1dd)});return _0x3ca22e['status'](0xc8)['json'](_0x2fedef);})[_0xc69451(0x326)](this[_0xc69451(0x55f)](_0xc69451(0x544)),..._0x112468,async(_0x3776ed,_0x10be7b)=>{const _0x5f19b9=_0xc69451;let _0x43dfd3=await this[_0x5f19b9(0x18d)]({'request':_0x3776ed,'schema':null,'ClassRef':Array,'execute':(_0xb6e6d9,_0x2dbc23)=>P[_0x5f19b9(0x544)](_0xb6e6d9,_0x2dbc23)});return _0x10be7b[_0x5f19b9(0x771)](0xc8)['json'](_0x43dfd3);})['get'](this[_0xc69451(0x55f)]('fetchPrivacySettings'),..._0x112468,async(_0x1ebb1b,_0xa2112)=>{const _0x22b69c=_0xc69451;let _0x27f9ee=await this[_0x22b69c(0x18d)]({'request':_0x1ebb1b,'schema':null,'ClassRef':M,'execute':_0x4076bc=>P[_0x22b69c(0x79d)](_0x4076bc)});return _0xa2112['status'](0xc8)[_0x22b69c(0x7bf)](_0x27f9ee);})[_0xc69451(0x326)](this['routerPath'](_0xc69451(0x14a)),..._0x112468,async(_0x525d17,_0x2aa1ec)=>{const _0x684625=_0xc69451;let _0x4aa005=await this[_0x684625(0x18d)]({'request':_0x525d17,'schema':za,'ClassRef':st,'execute':(_0x488890,_0x59f512)=>P['updatePrivacySettings'](_0x488890,_0x59f512)});return _0x2aa1ec[_0x684625(0x771)](0xc9)[_0x684625(0x7bf)](_0x4aa005);})[_0xc69451(0x4f7)](this['routerPath']('fetchBusinessProfile'),..._0x112468,async(_0x4b9ea2,_0x51291e)=>{const _0x252da5=_0xc69451;let _0x3a0041=await this[_0x252da5(0x18d)]({'request':_0x4b9ea2,'schema':Te,'ClassRef':Me,'execute':(_0x3f7ea7,_0x1be8c4)=>P[_0x252da5(0x792)](_0x3f7ea7,_0x1be8c4)});return _0x51291e[_0x252da5(0x771)](0xc8)[_0x252da5(0x7bf)](_0x3a0041);})['post'](this[_0xc69451(0x55f)](_0xc69451(0x481)),..._0x112468,async(_0x49bf7d,_0x481eb6)=>{const _0x2c3b01=_0xc69451;let _0x4f7eac=await this['dataValidate']({'request':_0x49bf7d,'schema':Ya,'ClassRef':Xe,'execute':(_0x24aa64,_0x4bc1c4)=>P['updateProfileName'](_0x24aa64,_0x4bc1c4)});return _0x481eb6[_0x2c3b01(0x771)](0xc8)['json'](_0x4f7eac);})['post'](this[_0xc69451(0x55f)](_0xc69451(0x1e9)),..._0x112468,async(_0x3b8dc8,_0x3c7b6f)=>{const _0x461864=_0xc69451;let _0x37f07d=await this['dataValidate']({'request':_0x3b8dc8,'schema':Xa,'ClassRef':Ze,'execute':(_0x3478b7,_0x1242a3)=>P['updateProfileStatus'](_0x3478b7,_0x1242a3)});return _0x3c7b6f[_0x461864(0x771)](0xc8)[_0x461864(0x7bf)](_0x37f07d);})[_0xc69451(0x326)](this[_0xc69451(0x55f)](_0xc69451(0x2af)),..._0x112468,async(_0x2d152e,_0x2f1ceb)=>{const _0x50e8e1=_0xc69451;let _0x205065=await this[_0x50e8e1(0x18d)]({'request':_0x2d152e,'schema':Te,'ClassRef':Me,'execute':(_0x1e861a,_0x11ceea)=>P[_0x50e8e1(0x2af)](_0x1e861a,_0x11ceea)});return _0x2f1ceb[_0x50e8e1(0x771)](0xc8)[_0x50e8e1(0x7bf)](_0x205065);})[_0xc69451(0x404)](this[_0xc69451(0x55f)](_0xc69451(0x7b2)),..._0x112468,async(_0x6fd31c,_0x2dba79)=>{const _0x57e476=_0xc69451;let _0x1c3e44=await this[_0x57e476(0x18d)]({'request':_0x6fd31c,'schema':Te,'ClassRef':Me,'execute':(_0x3045f5,_0x1ff3e0)=>P['removeProfilePicture'](_0x3045f5,_0x1ff3e0)});return _0x2dba79[_0x57e476(0x771)](0xc8)[_0x57e476(0x7bf)](_0x1c3e44);});}},ho=require(a0_0x1eb7af(0x5d4)),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},Y=class{},Oe=class{},mt=class extends Y{},ft=class extends Y{},wt=class extends V{constructor(..._0x5ea798){const _0x1c5d00=a0_0x1eb7af;super(),this[_0x1c5d00(0x5b3)]=(0x0,ho[_0x1c5d00(0x26b)])(),this[_0x1c5d00(0x5b3)][_0x1c5d00(0x4f7)](this[_0x1c5d00(0x55f)](_0x1c5d00(0xff)),..._0x5ea798,async(_0x1e374a,_0x266719)=>{const _0x33fa6e=_0x1c5d00;let _0x1fd3cd=await this[_0x33fa6e(0x18d)]({'request':_0x1e374a,'schema':so,'ClassRef':lt,'execute':(_0x50ced5,_0x159399)=>q[_0x33fa6e(0x5f0)](_0x50ced5,_0x159399)});_0x266719[_0x33fa6e(0x771)](0xc9)['json'](_0x1fd3cd);})['put'](this[_0x1c5d00(0x55f)](_0x1c5d00(0x747)),..._0x5ea798,async(_0x5c8096,_0x8b21c5)=>{const _0x5ca15d=_0x1c5d00;let _0xfb3158=await this[_0x5ca15d(0x6b8)]({'request':_0x5c8096,'schema':io,'ClassRef':ut,'execute':(_0x34232a,_0x2b0f4f)=>q[_0x5ca15d(0x747)](_0x34232a,_0x2b0f4f)});_0x8b21c5[_0x5ca15d(0x771)](0xc9)[_0x5ca15d(0x7bf)](_0xfb3158);})[_0x1c5d00(0x326)](this['routerPath']('groupDesc'),..._0x5ea798,async(_0x2d5c8c,_0x355be6)=>{const _0x451fc1=_0x1c5d00;let _0x34c79f=await this[_0x451fc1(0x6b8)]({'request':_0x2d5c8c,'schema':ro,'ClassRef':dt,'execute':(_0x3b9d47,_0xff9a1d)=>q[_0x451fc1(0x221)](_0x3b9d47,_0xff9a1d)});_0x355be6[_0x451fc1(0x771)](0xc9)[_0x451fc1(0x7bf)](_0x34c79f);})[_0x1c5d00(0x326)](this[_0x1c5d00(0x55f)](_0x1c5d00(0x30c)),..._0x5ea798,async(_0x3eab57,_0xa01373)=>{const _0x59ce8f=_0x1c5d00;let _0x3d0833=await this[_0x59ce8f(0x6b8)]({'request':_0x3eab57,'schema':no,'ClassRef':pt,'execute':(_0x46ce8b,_0x32d9d5)=>q[_0x59ce8f(0x30c)](_0x46ce8b,_0x32d9d5)});_0xa01373[_0x59ce8f(0x771)](0xc9)['json'](_0x3d0833);})[_0x1c5d00(0x326)](this[_0x1c5d00(0x55f)](_0x1c5d00(0x691)),..._0x5ea798,async(_0x56dfe7,_0x5d6049)=>{const _0xc63602=_0x1c5d00;let _0x4fd4b1=await this[_0xc63602(0x6b8)]({'request':_0x56dfe7,'schema':lo,'ClassRef':gt,'execute':(_0x2c32b1,_0x26e1ef)=>q[_0xc63602(0x691)](_0x2c32b1,_0x26e1ef)});_0x5d6049[_0xc63602(0x771)](0xc9)[_0xc63602(0x7bf)](_0x4fd4b1);})[_0x1c5d00(0x326)](this[_0x1c5d00(0x55f)](_0x1c5d00(0x27b)),..._0x5ea798,async(_0x3115f7,_0x4e42d4)=>{const _0x5c3dbb=_0x1c5d00;let _0x4d89e2=await this['groupValidate']({'request':_0x3115f7,'schema':co,'ClassRef':ht,'execute':(_0x1b0050,_0x4579d9)=>q[_0x5c3dbb(0x27b)](_0x1b0050,_0x4579d9)});_0x4e42d4[_0x5c3dbb(0x771)](0xc9)[_0x5c3dbb(0x7bf)](_0x4d89e2);})[_0x1c5d00(0x326)](this[_0x1c5d00(0x55f)]('toggleEphemeral'),..._0x5ea798,async(_0x3dba25,_0x492d8e)=>{const _0x480f14=_0x1c5d00;let _0x364ed5=await this[_0x480f14(0x6b8)]({'request':_0x3dba25,'schema':oo,'ClassRef':ft,'execute':(_0x2f1c51,_0x283610)=>q[_0x480f14(0x70c)](_0x2f1c51,_0x283610)});_0x492d8e[_0x480f14(0x771)](0xc9)[_0x480f14(0x7bf)](_0x364ed5);})['get'](this['routerPath'](_0x1c5d00(0x190)),..._0x5ea798,async(_0x30ece9,_0x7cc3f4)=>{const _0x438115=_0x1c5d00;let _0x4d2f13=await this[_0x438115(0x6b8)]({'request':_0x30ece9,'schema':Ie,'ClassRef':Y,'execute':(_0x3ded7b,_0x3cf5a2)=>q[_0x438115(0x5fe)](_0x3ded7b,_0x3cf5a2)});_0x7cc3f4[_0x438115(0x771)](0xc8)['json'](_0x4d2f13);})['get'](this['routerPath'](_0x1c5d00(0x13c)),..._0x5ea798,async(_0xd4f2b,_0xdd315d)=>{const _0x14d101=_0x1c5d00;let _0x5e2719=await this[_0x14d101(0x18d)]({'request':_0xd4f2b,'schema':v,'ClassRef':M,'execute':_0x13d78b=>q['findGroups'](_0x13d78b)});_0xdd315d['status'](0xc8)[_0x14d101(0x7bf)](_0x5e2719);})[_0x1c5d00(0x14e)](this[_0x1c5d00(0x55f)]('participants'),..._0x5ea798,async(_0x402590,_0x55a840)=>{const _0x4868c7=_0x1c5d00;let _0x10e4ed=await this[_0x4868c7(0x6b8)]({'request':_0x402590,'schema':Ie,'ClassRef':Y,'execute':(_0xc2f816,_0x40d730)=>q[_0x4868c7(0x377)](_0xc2f816,_0x40d730)});_0x55a840[_0x4868c7(0x771)](0xc8)[_0x4868c7(0x7bf)](_0x10e4ed);})[_0x1c5d00(0x14e)](this[_0x1c5d00(0x55f)]('inviteCode'),..._0x5ea798,async(_0x5d02fc,_0x8449a1)=>{const _0xaf7b14=_0x1c5d00;let _0x363546=await this[_0xaf7b14(0x6b8)]({'request':_0x5d02fc,'schema':Ie,'ClassRef':Y,'execute':(_0x52806b,_0x43ffb)=>q[_0xaf7b14(0x3ab)](_0x52806b,_0x43ffb)});_0x8449a1[_0xaf7b14(0x771)](0xc8)[_0xaf7b14(0x7bf)](_0x363546);})['post'](this[_0x1c5d00(0x55f)](_0x1c5d00(0x313)),..._0x5ea798,async(_0xb8d97a,_0x286434)=>{const _0x11d5f9=_0x1c5d00;let _0x2ad367=await this[_0x11d5f9(0x2ec)]({'request':_0xb8d97a,'schema':Ns,'ClassRef':Oe,'execute':(_0x236989,_0x1ce174)=>q[_0x11d5f9(0x1bf)](_0x236989,_0x1ce174)});_0x286434[_0x11d5f9(0x771)](0xc9)[_0x11d5f9(0x7bf)](_0x2ad367);})[_0x1c5d00(0x326)](this[_0x1c5d00(0x55f)]('joinGroup'),..._0x5ea798,async(_0x137e70,_0x5003e8)=>{const _0x10e255=_0x1c5d00;let _0x43f3f8=await this['joinGroupValidate']({'request':_0x137e70,'schema':Ns,'ClassRef':Oe,'execute':(_0x575c00,_0x40695c)=>q[_0x10e255(0x65e)](_0x575c00,_0x40695c)});_0x5003e8['status'](0xc9)['json'](_0x43f3f8);})[_0x1c5d00(0x326)](this[_0x1c5d00(0x55f)]('revokeInviteCode'),..._0x5ea798,async(_0x11eb8f,_0x507d74)=>{const _0x59255b=_0x1c5d00;let _0x1c3ddf=await this[_0x59255b(0x6b8)]({'request':_0x11eb8f,'schema':Ie,'ClassRef':Y,'execute':(_0x437796,_0x565da0)=>q[_0x59255b(0x41e)](_0x437796,_0x565da0)});_0x507d74[_0x59255b(0x771)](0xc9)[_0x59255b(0x7bf)](_0x1c3ddf);})[_0x1c5d00(0x326)](this[_0x1c5d00(0x55f)](_0x1c5d00(0x6d1)),..._0x5ea798,async(_0x3fc8aa,_0x27dd1c)=>{const _0x1b31dc=_0x1c5d00;let _0x7a9b63=await this[_0x1b31dc(0x6b8)]({'request':_0x3fc8aa,'schema':ao,'ClassRef':mt,'execute':(_0x533e6b,_0x20935e)=>q[_0x1b31dc(0x639)](_0x533e6b,_0x20935e)});_0x27dd1c['status'](0xc9)[_0x1b31dc(0x7bf)](_0x7a9b63);})[_0x1c5d00(0x404)](this['routerPath'](_0x1c5d00(0x803)),..._0x5ea798,async(_0x39bb2c,_0x559fa7)=>{const _0x471640=_0x1c5d00;let _0x1782d4=await this[_0x471640(0x6b8)]({'request':_0x39bb2c,'schema':{},'ClassRef':Y,'execute':(_0x16b60e,_0x237cbb)=>q[_0x471640(0x803)](_0x16b60e,_0x237cbb)});_0x559fa7[_0x471640(0x771)](0xc8)['json'](_0x1782d4);});}},go=require(a0_0x1eb7af(0x5d4)),yt=class extends V{constructor(_0xc75542,..._0x5f1cc4){const _0x289607=a0_0x1eb7af;super(),this['configService']=_0xc75542,this['router']=(0x0,go[_0x289607(0x26b)])();let _0x5c5a51=_0xc75542['get'](_0x289607(0x41a));this[_0x289607(0x5b3)]['post'](_0x289607(0x6e9),..._0x5f1cc4,async(_0x5da098,_0x42ff40)=>{const _0x530abc=_0x289607;let {instanceName:_0x18f63b,apikey:_0x4dc328,number:_0x1cc84f}=_0x5da098[_0x530abc(0x589)],_0x31a8dc=await ce[_0x530abc(0x3ae)]({'instanceName':_0x18f63b,'apikey':_0x4dc328,'number':_0x1cc84f});return _0x42ff40['status'](0xc9)['json'](_0x31a8dc);})[_0x289607(0x326)](this['routerPath'](_0x289607(0x675)),..._0x5f1cc4,async(_0x8cbcec,_0x282645)=>{const _0x5db2ab=_0x289607;let _0x3492dc=await this[_0x5db2ab(0x18d)]({'request':_0x8cbcec,'schema':v,'ClassRef':M,'execute':_0x56f02e=>ce[_0x5db2ab(0x68f)](_0x56f02e)});return _0x282645[_0x5db2ab(0x771)](0xc8)[_0x5db2ab(0x7bf)](_0x3492dc);})['get'](this['routerPath'](_0x289607(0x10e)),..._0x5f1cc4,async(_0x35b72b,_0x27b456)=>{const _0x13b6d5=_0x289607;let _0x5c83bd=await this[_0x13b6d5(0x18d)]({'request':_0x35b72b,'schema':v,'ClassRef':M,'execute':_0x3df820=>ce['connectToWhatsappController'](_0x3df820)});return _0x27b456['status'](0xc8)['json'](_0x5c83bd);})['get'](this[_0x289607(0x55f)](_0x289607(0x7f6)),..._0x5f1cc4,async(_0x5b80fb,_0x44ba1b)=>{const _0x4dc5a6=_0x289607;let _0x383734=await this[_0x4dc5a6(0x18d)]({'request':_0x5b80fb,'schema':v,'ClassRef':M,'execute':_0x470682=>ce[_0x4dc5a6(0x7f6)](_0x470682)});return _0x44ba1b['status'](0xc8)[_0x4dc5a6(0x7bf)](_0x383734);})[_0x289607(0x14e)](this[_0x289607(0x55f)](_0x289607(0x3bc),!0x1),..._0x5f1cc4,async(_0x468ff,_0x582dd7)=>{const _0x29398b=_0x289607;let _0x44e799=await this[_0x29398b(0x18d)]({'request':_0x468ff,'schema':null,'ClassRef':M,'execute':_0x4bc49e=>ce[_0x29398b(0x3bc)](_0x4bc49e)});return _0x582dd7[_0x29398b(0x771)](0xc8)[_0x29398b(0x7bf)](_0x44e799);})[_0x289607(0x404)](this[_0x289607(0x55f)](_0x289607(0x4a8)),..._0x5f1cc4,async(_0x40442d,_0x31de01)=>{const _0x3d9093=_0x289607;let _0x27a0ff=await this[_0x3d9093(0x18d)]({'request':_0x40442d,'schema':v,'ClassRef':M,'execute':_0x242728=>ce['logout'](_0x242728)});return _0x31de01[_0x3d9093(0x771)](0xc8)[_0x3d9093(0x7bf)](_0x27a0ff);})['delete'](this['routerPath']('delete'),..._0x5f1cc4,async(_0x56b43e,_0x47e694)=>{const _0x2b411e=_0x289607;let _0xf7fddc=await this[_0x2b411e(0x18d)]({'request':_0x56b43e,'schema':v,'ClassRef':M,'execute':_0x14b2ce=>ce['deleteInstance'](_0x14b2ce)});return _0x47e694[_0x2b411e(0x771)](0xc8)[_0x2b411e(0x7bf)](_0xf7fddc);});}},mo=require(a0_0x1eb7af(0x5d4)),Rs=class{},W=class extends Rs{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},_e=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class extends W{},$t=class extends W{},Rt=class extends W{},At=class{},Tt=class extends V{constructor(..._0x24abbe){const _0x51d027=a0_0x1eb7af;super(),this[_0x51d027(0x5b3)]=(0x0,mo[_0x51d027(0x26b)])(),this[_0x51d027(0x5b3)][_0x51d027(0x4f7)](this[_0x51d027(0x55f)](_0x51d027(0x482)),..._0x24abbe,async(_0x387071,_0x3b291d)=>{const _0x480786=_0x51d027;let _0xeb186b=await this[_0x480786(0x18d)]({'request':_0x387071,'schema':_a,'ClassRef':bt,'execute':(_0x58aad6,_0x3643e3)=>B[_0x480786(0x482)](_0x58aad6,_0x3643e3)});return _0x3b291d[_0x480786(0x771)](0xc9)[_0x480786(0x7bf)](_0xeb186b);})['post'](this['routerPath'](_0x51d027(0x204)),..._0x24abbe,async(_0x5aac6b,_0x35d7ce)=>{const _0x292f2a=_0x51d027;let _0x80b7f5=await this[_0x292f2a(0x18d)]({'request':_0x5aac6b,'schema':ka,'ClassRef':_e,'execute':(_0x39aa5d,_0x4f5a6f)=>B['sendMedia'](_0x39aa5d,_0x4f5a6f)});return _0x35d7ce[_0x292f2a(0x771)](0xc9)[_0x292f2a(0x7bf)](_0x80b7f5);})['post'](this[_0x51d027(0x55f)](_0x51d027(0x350)),..._0x24abbe,async(_0x45c45c,_0x2d1d63)=>{const _0x485a23=_0x51d027;let _0x544d2d=await this[_0x485a23(0x18d)]({'request':_0x45c45c,'schema':Ua,'ClassRef':Ct,'execute':(_0x398317,_0xfb6c04)=>B[_0x485a23(0x350)](_0x398317,_0xfb6c04)});return _0x2d1d63[_0x485a23(0x771)](0xc9)[_0x485a23(0x7bf)](_0x544d2d);})[_0x51d027(0x4f7)](this[_0x51d027(0x55f)](_0x51d027(0x6d7)),..._0x24abbe,async(_0x101330,_0x4b248b)=>{const _0x5b9336=_0x51d027;let _0xf2129f=await this[_0x5b9336(0x18d)]({'request':_0x101330,'schema':La,'ClassRef':_e,'execute':(_0x1f1110,_0x2fcf63)=>B['sendWhatsAppAudio'](_0x1f1110,_0x2fcf63)});return _0x4b248b[_0x5b9336(0x771)](0xc9)['json'](_0xf2129f);})[_0x51d027(0x4f7)](this['routerPath'](_0x51d027(0xf8)),..._0x24abbe,async(_0x2a47c2,_0x35a5f9)=>{const _0x26a706=_0x51d027;let _0x5a01ca=await this[_0x26a706(0x18d)]({'request':_0x2a47c2,'schema':ja,'ClassRef':vt,'execute':(_0x2eb263,_0x543183)=>B[_0x26a706(0xf8)](_0x2eb263,_0x543183)});return _0x35a5f9[_0x26a706(0x771)](0xc9)[_0x26a706(0x7bf)](_0x5a01ca);})[_0x51d027(0x4f7)](this[_0x51d027(0x55f)](_0x51d027(0x4fe)),..._0x24abbe,async(_0x2da914,_0x1a4fa4)=>{const _0x4dcd82=_0x51d027;let _0x56d2f2=await this['dataValidate']({'request':_0x2da914,'schema':Ja,'ClassRef':Nt,'execute':(_0x5589cf,_0x59166f)=>B['sendLocation'](_0x5589cf,_0x59166f)});return _0x1a4fa4['status'](0xc9)[_0x4dcd82(0x7bf)](_0x56d2f2);})[_0x51d027(0x4f7)](this[_0x51d027(0x55f)]('sendList'),..._0x24abbe,async(_0x17a158,_0x460398)=>{const _0x1d84fe=_0x51d027;let _0x2863d2=await this['dataValidate']({'request':_0x17a158,'schema':qa,'ClassRef':$t,'execute':(_0x146ee6,_0x53840b)=>B[_0x1d84fe(0x3e9)](_0x146ee6,_0x53840b)});return _0x460398['status'](0xc9)['json'](_0x2863d2);})[_0x51d027(0x4f7)](this[_0x51d027(0x55f)](_0x51d027(0x82f)),..._0x24abbe,async(_0x51a140,_0x155c10)=>{const _0x545f55=_0x51d027;let _0xabb7be=await this['dataValidate']({'request':_0x51a140,'schema':Va,'ClassRef':Rt,'execute':(_0x184164,_0x32849a)=>B[_0x545f55(0x82f)](_0x184164,_0x32849a)});return _0x155c10[_0x545f55(0x771)](0xc9)[_0x545f55(0x7bf)](_0xabb7be);})[_0x51d027(0x4f7)](this[_0x51d027(0x55f)](_0x51d027(0x381)),..._0x24abbe,async(_0x4fa834,_0x1d8b77)=>{const _0x58157f=_0x51d027;let _0x1f0295=await this[_0x58157f(0x18d)]({'request':_0x4fa834,'schema':Ga,'ClassRef':At,'execute':(_0x425276,_0x414e8c)=>B[_0x58157f(0x381)](_0x425276,_0x414e8c)});return _0x1d8b77[_0x58157f(0x771)](0xc9)['json'](_0x1f0295);})[_0x51d027(0x4f7)](this[_0x51d027(0x55f)](_0x51d027(0x37d)),..._0x24abbe,async(_0x537388,_0x37f8c1)=>{const _0xb38558=_0x51d027;let _0x30a07c=await this['dataValidate']({'request':_0x537388,'schema':Fa,'ClassRef':Mt,'execute':(_0x595d1b,_0x3e1de6)=>B[_0xb38558(0x37d)](_0x595d1b,_0x3e1de6)});return _0x37f8c1['status'](0xc9)['json'](_0x30a07c);})[_0x51d027(0x4f7)](this[_0x51d027(0x55f)]('sendStatus'),..._0x24abbe,async(_0x56d61a,_0x309a25)=>{const _0x58a4bd=_0x51d027;let _0x2f2d2d=await this[_0x58a4bd(0x18d)]({'request':_0x56d61a,'schema':Pa,'ClassRef':St,'execute':(_0x4ab103,_0x2fa889)=>B[_0x58a4bd(0x7d8)](_0x4ab103,_0x2fa889)});return _0x309a25[_0x58a4bd(0x771)](0xc9)[_0x58a4bd(0x7bf)](_0x2f2d2d);})[_0x51d027(0x4f7)](this[_0x51d027(0x55f)](_0x51d027(0x657)),..._0x24abbe,async(_0x3e8e16,_0x350553)=>{const _0x3c0279=_0x51d027;let _0x3bdd5c=await this[_0x3c0279(0x18d)]({'request':_0x3e8e16,'schema':Da,'ClassRef':Et,'execute':(_0xeccc4e,_0x453acf)=>B['sendSticker'](_0xeccc4e,_0x453acf)});return _0x350553[_0x3c0279(0x771)](0xc9)['json'](_0x3bdd5c);});}},fo=require(a0_0x1eb7af(0x5d4)),It=class{},Ot=class extends V{constructor(..._0x3cbdbf){const _0x3a16bb=a0_0x1eb7af;super(),this[_0x3a16bb(0x5b3)]=(0x0,fo['Router'])(),this['router']['post'](this['routerPath'](_0x3a16bb(0x598)),..._0x3cbdbf,async(_0x47b4f9,_0x2ed49c)=>{const _0x4c8b3c=_0x3a16bb;let _0x28c284=await this[_0x4c8b3c(0x18d)]({'request':_0x47b4f9,'schema':uo,'ClassRef':It,'execute':(_0x36b53d,_0x1032a2)=>As[_0x4c8b3c(0x6d6)](_0x36b53d,_0x1032a2)});_0x2ed49c[_0x4c8b3c(0x771)](0xc9)[_0x4c8b3c(0x7bf)](_0x28c284);})[_0x3a16bb(0x14e)](this[_0x3a16bb(0x55f)]('find'),..._0x3cbdbf,async(_0x15eede,_0x187e5d)=>{const _0x369ff3=_0x3a16bb;let _0xa9b248=await this[_0x369ff3(0x18d)]({'request':_0x15eede,'schema':v,'ClassRef':M,'execute':_0x4ad0ff=>As[_0x369ff3(0x61a)](_0x4ad0ff)});_0x187e5d[_0x369ff3(0x771)](0xc8)[_0x369ff3(0x7bf)](_0xa9b248);});}},wo=require(a0_0x1eb7af(0x5d4)),y=new $(a0_0x1eb7af(0x450)),_t=class extends V{constructor(..._0x2a69dc){const _0x6cf567=a0_0x1eb7af;super(),this[_0x6cf567(0x5b3)]=(0x0,wo[_0x6cf567(0x26b)])(),this[_0x6cf567(0x5b3)][_0x6cf567(0x4f7)](this[_0x6cf567(0x55f)](_0x6cf567(0x3dc)),..._0x2a69dc,async(_0x3741cf,_0x33b98f)=>{const _0x577770=_0x6cf567;let _0x404c0e=_0x3741cf['body'];y[_0x577770(0x4e7)]('request\x20received\x20in\x20scheduleMessage'),y[_0x577770(0x4e7)](_0x577770(0x68e)),y[_0x577770(0x4e7)](_0x3741cf['body']);let _0x2104f5=await this[_0x577770(0x18d)]({'request':_0x3741cf,'schema':v,'ClassRef':M,'execute':_0x20acf3=>I[_0x577770(0x1da)](_0x20acf3,_0x404c0e)});_0x33b98f[_0x577770(0x771)](0xc8)[_0x577770(0x7bf)](_0x2104f5);})['get'](this[_0x6cf567(0x55f)](_0x6cf567(0x3dc)),..._0x2a69dc,async(_0x5d309d,_0x4a873c)=>{const _0x423ef3=_0x6cf567;let _0x391dee=await this[_0x423ef3(0x18d)]({'request':_0x5d309d,'schema':v,'ClassRef':M,'execute':_0x2d9e63=>I[_0x423ef3(0x374)](_0x2d9e63)});_0x4a873c[_0x423ef3(0x771)](0xc8)[_0x423ef3(0x7bf)](_0x391dee);})[_0x6cf567(0x404)](this[_0x6cf567(0x55f)](_0x6cf567(0x6c3)),..._0x2a69dc,async(_0x5e7b57,_0x3c7d28)=>{const _0x3d0207=_0x6cf567;y['verbose']('request\x20received\x20in\x20deleteDoneMessages');let _0x25cea1=await this['dataValidate']({'request':_0x5e7b57,'schema':v,'ClassRef':M,'execute':_0x3f0549=>I['deleteDoneMessages'](_0x3f0549)});_0x3c7d28[_0x3d0207(0x771)](0xc8)[_0x3d0207(0x7bf)](_0x25cea1);})[_0x6cf567(0x4f7)](this['routerPath'](_0x6cf567(0x102)),..._0x2a69dc,async(_0x4a4aec,_0x24167a)=>{const _0x29107a=_0x6cf567;let _0x1fee0b=_0x4a4aec['body'];y['verbose']('request\x20received\x20in\x20starFlow'),y[_0x29107a(0x4e7)](_0x29107a(0x68e)),y[_0x29107a(0x4e7)](_0x4a4aec[_0x29107a(0x589)]);let _0xf54364=await this[_0x29107a(0x18d)]({'request':_0x4a4aec,'schema':v,'ClassRef':M,'execute':_0x57e258=>I[_0x29107a(0x102)](_0x57e258,_0x1fee0b)});_0x24167a['status'](0xc8)['json'](_0xf54364);})[_0x6cf567(0x14e)](this['routerPath'](_0x6cf567(0x245)),..._0x2a69dc,async(_0x426852,_0x14a6c5)=>{const _0x2b50bf=_0x6cf567;y[_0x2b50bf(0x4e7)](_0x2b50bf(0x39d));let _0x4d55b3=await this['dataValidate']({'request':_0x426852,'schema':v,'ClassRef':M,'execute':_0x47ac80=>I[_0x2b50bf(0x245)](_0x47ac80)});_0x14a6c5[_0x2b50bf(0x771)](0xc8)[_0x2b50bf(0x7bf)](_0x4d55b3);})['get'](this[_0x6cf567(0x55f)]('getTicketSystem'),..._0x2a69dc,async(_0x36a014,_0x296367)=>{const _0x1f9ad7=_0x6cf567;y[_0x1f9ad7(0x4e7)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x5802e1=await this['dataValidate']({'request':_0x36a014,'schema':v,'ClassRef':M,'execute':_0x4c8b24=>I[_0x1f9ad7(0x245)](_0x4c8b24)});_0x296367[_0x1f9ad7(0x771)](0xc8)[_0x1f9ad7(0x7bf)](_0x5802e1);})[_0x6cf567(0x4f7)](this[_0x6cf567(0x55f)]('updateAgent'),..._0x2a69dc,async(_0x579bf3,_0x1d4bb9)=>{const _0x102cd2=_0x6cf567;let _0x4c4e80=_0x579bf3[_0x102cd2(0x589)];y[_0x102cd2(0x4e7)]('request\x20received\x20in\x20updateAgent'),y['verbose']('request\x20body:\x20'),y[_0x102cd2(0x4e7)](_0x579bf3[_0x102cd2(0x589)]);let _0x36aa23=await this[_0x102cd2(0x18d)]({'request':_0x579bf3,'schema':v,'ClassRef':M,'execute':_0xe0844f=>I[_0x102cd2(0x748)](_0xe0844f,_0x4c4e80)});_0x1d4bb9[_0x102cd2(0x771)](0xc8)[_0x102cd2(0x7bf)](_0x36aa23);})['post'](this[_0x6cf567(0x55f)](_0x6cf567(0x688)),..._0x2a69dc,async(_0x4f3f1c,_0x3d3d27)=>{const _0x2ae7db=_0x6cf567;let _0xa275d5=_0x4f3f1c[_0x2ae7db(0x589)];y[_0x2ae7db(0x4e7)](_0x2ae7db(0x389)),y['verbose'](_0x2ae7db(0x68e)),y[_0x2ae7db(0x4e7)](_0x4f3f1c['body']);let _0x580266=await this[_0x2ae7db(0x18d)]({'request':_0x4f3f1c,'schema':v,'ClassRef':M,'execute':_0x503d68=>I[_0x2ae7db(0x688)](_0x503d68,_0xa275d5)});_0x3d3d27[_0x2ae7db(0x771)](0xc8)[_0x2ae7db(0x7bf)](_0x580266);})[_0x6cf567(0x4f7)](this[_0x6cf567(0x55f)](_0x6cf567(0x130)),..._0x2a69dc,async(_0x3c1b7d,_0x35c63c)=>{const _0xfeba4b=_0x6cf567;let _0x338075=_0x3c1b7d[_0xfeba4b(0x589)];y[_0xfeba4b(0x4e7)](_0xfeba4b(0x65d)),y[_0xfeba4b(0x4e7)](_0xfeba4b(0x68e)),y[_0xfeba4b(0x4e7)](_0x3c1b7d[_0xfeba4b(0x589)]);let _0x275436=await this[_0xfeba4b(0x18d)]({'request':_0x3c1b7d,'schema':v,'ClassRef':M,'execute':_0x27d5a8=>I[_0xfeba4b(0x130)](_0x27d5a8,_0x338075)});_0x35c63c[_0xfeba4b(0x771)](0xc8)['json'](_0x275436);})['post'](this[_0x6cf567(0x55f)](_0x6cf567(0x568)),..._0x2a69dc,async(_0x45b0a7,_0x48230f)=>{const _0x4eeafe=_0x6cf567;let _0x30147e=_0x45b0a7['body'];y['verbose'](_0x4eeafe(0x2c2)),y[_0x4eeafe(0x4e7)](_0x4eeafe(0x68e)),y[_0x4eeafe(0x4e7)](_0x45b0a7[_0x4eeafe(0x589)]);let _0x47a80f=await this[_0x4eeafe(0x18d)]({'request':_0x45b0a7,'schema':v,'ClassRef':M,'execute':_0x5b88a2=>I[_0x4eeafe(0x568)](_0x5b88a2,_0x30147e)});_0x48230f['status'](0xc8)[_0x4eeafe(0x7bf)](_0x47a80f);})['post'](this['routerPath'](_0x6cf567(0x2e1)),..._0x2a69dc,async(_0x2412f3,_0x5a0267)=>{const _0x3d232c=_0x6cf567;let _0x322f2b=_0x2412f3[_0x3d232c(0x589)];y[_0x3d232c(0x4e7)](_0x3d232c(0x274)),y['verbose'](_0x3d232c(0x68e)),y[_0x3d232c(0x4e7)](_0x2412f3[_0x3d232c(0x589)]);let _0x188793=await this['dataValidate']({'request':_0x2412f3,'schema':v,'ClassRef':M,'execute':_0x20fe58=>I['getConversation'](_0x20fe58,_0x322f2b)});_0x5a0267[_0x3d232c(0x771)](0xc8)['json'](_0x188793);})[_0x6cf567(0x4f7)](this[_0x6cf567(0x55f)](_0x6cf567(0x25e)),..._0x2a69dc,async(_0x2649c0,_0x5853d1)=>{const _0x30794c=_0x6cf567;let _0x56c8db=_0x2649c0[_0x30794c(0x589)];y[_0x30794c(0x4e7)](_0x30794c(0x599)),y['verbose']('request\x20body:\x20'),y[_0x30794c(0x4e7)](_0x2649c0[_0x30794c(0x589)]);let _0x390fa3=await this[_0x30794c(0x18d)]({'request':_0x2649c0,'schema':v,'ClassRef':M,'execute':_0x2a5e4e=>I['fetchConversation'](_0x2a5e4e,_0x56c8db)});_0x5853d1[_0x30794c(0x771)](0xc8)['json'](_0x390fa3);})[_0x6cf567(0x4f7)](this[_0x6cf567(0x55f)](_0x6cf567(0x6f1)),..._0x2a69dc,async(_0x52df5b,_0x253911)=>{const _0x29342e=_0x6cf567;let _0xcc057b=_0x52df5b[_0x29342e(0x589)];y[_0x29342e(0x4e7)](_0x29342e(0x42b)),y[_0x29342e(0x4e7)](_0x29342e(0x68e)),y[_0x29342e(0x4e7)](_0x52df5b[_0x29342e(0x589)]);let _0x11eec9=await this[_0x29342e(0x18d)]({'request':_0x52df5b,'schema':v,'ClassRef':M,'execute':_0x3b9f1c=>I[_0x29342e(0x6f1)](_0x3b9f1c,_0xcc057b)});_0x253911['status'](0xc8)['json'](_0x11eec9);})[_0x6cf567(0x404)](this[_0x6cf567(0x55f)]('deleteConversation'),..._0x2a69dc,async(_0x4b96d9,_0x50e112)=>{const _0x79c288=_0x6cf567;let _0x353790=_0x4b96d9[_0x79c288(0x589)];y[_0x79c288(0x4e7)]('request\x20received\x20in\x20deleteConversation'),y[_0x79c288(0x4e7)](_0x79c288(0x68e)),y[_0x79c288(0x4e7)](_0x4b96d9[_0x79c288(0x589)]);let _0x66f689=await this['dataValidate']({'request':_0x4b96d9,'schema':v,'ClassRef':M,'execute':_0x9b2bda=>I[_0x79c288(0x5b1)](_0x9b2bda,_0x353790)});_0x50e112[_0x79c288(0x771)](0xc8)[_0x79c288(0x7bf)](_0x66f689);})[_0x6cf567(0x4f7)](this[_0x6cf567(0x55f)](_0x6cf567(0x708)),..._0x2a69dc,async(_0xa83de9,_0x36d614)=>{const _0xc5d40f=_0x6cf567;let _0x48c3a3=_0xa83de9[_0xc5d40f(0x589)],_0x5e5ae8=_0xa83de9[_0xc5d40f(0x6ea)][_0xc5d40f(0x17b)];y['verbose']('request\x20received\x20in\x20createFlow'),y[_0xc5d40f(0x4e7)](_0xc5d40f(0x68e)),y['verbose'](_0xa83de9[_0xc5d40f(0x589)]);let _0x1e4a5a=await this[_0xc5d40f(0x18d)]({'request':_0xa83de9,'schema':v,'ClassRef':M,'execute':_0x1f78a9=>I[_0xc5d40f(0x460)](_0x1f78a9,_0x48c3a3,_0x5e5ae8)});_0x36d614['status'](0xc8)['json'](_0x1e4a5a);})[_0x6cf567(0x4f7)](this[_0x6cf567(0x55f)](_0x6cf567(0x793)),..._0x2a69dc,async(_0x345e2f,_0x5b9aac)=>{const _0x22a2ff=_0x6cf567;let _0x23b79e=_0x345e2f[_0x22a2ff(0x589)],_0x59a931=_0x345e2f[_0x22a2ff(0x6ea)]['apikey'];y[_0x22a2ff(0x4e7)](_0x22a2ff(0x38b)),y['verbose']('request\x20body:\x20'),y[_0x22a2ff(0x4e7)](_0x345e2f[_0x22a2ff(0x589)]),delete _0x23b79e[_0x22a2ff(0x4d8)],delete _0x23b79e[_0x22a2ff(0x388)],delete _0x23b79e[_0x22a2ff(0x5c5)],delete _0x23b79e[_0x22a2ff(0x3b2)];let _0x297a10=await this[_0x22a2ff(0x18d)]({'request':_0x345e2f,'schema':v,'ClassRef':M,'execute':_0x5e1a58=>I[_0x22a2ff(0x3ff)](_0x5e1a58,_0x23b79e,_0x59a931)});_0x5b9aac[_0x22a2ff(0x771)](0xc8)['json'](_0x297a10);})[_0x6cf567(0x4f7)](this[_0x6cf567(0x55f)](_0x6cf567(0x1bc)),..._0x2a69dc,async(_0x3fbc42,_0x57401e)=>{const _0x4cda8c=_0x6cf567;let _0x597cd1=_0x3fbc42['body'];y[_0x4cda8c(0x4e7)](_0x4cda8c(0x38b)),y[_0x4cda8c(0x4e7)](_0x4cda8c(0x68e)),y[_0x4cda8c(0x4e7)](_0x3fbc42['body']);let _0xad5cd7=await this[_0x4cda8c(0x18d)]({'request':_0x3fbc42,'schema':v,'ClassRef':M,'execute':_0x50a479=>I[_0x4cda8c(0x3f5)](_0x50a479,_0x597cd1)});_0x57401e['status'](0xc8)[_0x4cda8c(0x7bf)](_0xad5cd7);})['post'](this[_0x6cf567(0x55f)](_0x6cf567(0x26a)),..._0x2a69dc,async(_0x588a1d,_0x10b1ee)=>{const _0xa568c2=_0x6cf567;let _0x49d5fe=_0x588a1d[_0xa568c2(0x589)];y[_0xa568c2(0x4e7)]('request\x20received\x20in\x20editFlow'),y['verbose'](_0xa568c2(0x68e)),y[_0xa568c2(0x4e7)](_0x588a1d[_0xa568c2(0x589)]);let _0x547a02=await this['dataValidate']({'request':_0x588a1d,'schema':v,'ClassRef':M,'execute':_0x216203=>I['editFlowReply'](_0x216203,_0x49d5fe)});_0x10b1ee[_0xa568c2(0x771)](0xc8)['json'](_0x547a02);})[_0x6cf567(0x4f7)](this[_0x6cf567(0x55f)](_0x6cf567(0x1a3)),..._0x2a69dc,async(_0x1eb9ba,_0x331c50)=>{const _0x541a49=_0x6cf567;let _0x5254ce=_0x1eb9ba[_0x541a49(0x589)];y[_0x541a49(0x4e7)](_0x541a49(0x38b)),y[_0x541a49(0x4e7)](_0x541a49(0x68e)),y[_0x541a49(0x4e7)](_0x1eb9ba[_0x541a49(0x589)]);let _0x425f00=await this[_0x541a49(0x18d)]({'request':_0x1eb9ba,'schema':v,'ClassRef':M,'execute':_0x5ecd35=>I[_0x541a49(0x475)](_0x5ecd35,_0x5254ce)});_0x331c50[_0x541a49(0x771)](0xc8)[_0x541a49(0x7bf)](_0x425f00);})[_0x6cf567(0x4f7)](this['routerPath'](_0x6cf567(0x648)),..._0x2a69dc,async(_0x3bd034,_0x372c95)=>{const _0x3afa67=_0x6cf567;let _0xa7b85=_0x3bd034['body'];y['verbose']('request\x20received\x20in\x20editFlowgroup'),y[_0x3afa67(0x4e7)](_0x3afa67(0x68e)),y[_0x3afa67(0x4e7)](_0x3bd034[_0x3afa67(0x589)]);let _0x44f348=await this[_0x3afa67(0x18d)]({'request':_0x3bd034,'schema':v,'ClassRef':M,'execute':_0x452ea8=>I['editFlowGroup'](_0x452ea8,_0xa7b85)});_0x372c95[_0x3afa67(0x771)](0xc8)[_0x3afa67(0x7bf)](_0x44f348);})['post'](this[_0x6cf567(0x55f)](_0x6cf567(0x556)),..._0x2a69dc,async(_0x11bfcb,_0x3ef107)=>{const _0x4d6bb8=_0x6cf567;let _0x55a8a9=_0x11bfcb[_0x4d6bb8(0x589)];y[_0x4d6bb8(0x4e7)]('request\x20received\x20in\x20editFlowcondition'),y['verbose']('request\x20body:\x20'),y['verbose'](_0x11bfcb[_0x4d6bb8(0x589)]);let _0x3610e2=await this['dataValidate']({'request':_0x11bfcb,'schema':v,'ClassRef':M,'execute':_0x225c42=>I['editFlowCondition'](_0x225c42,_0x55a8a9)});_0x3ef107[_0x4d6bb8(0x771)](0xc8)[_0x4d6bb8(0x7bf)](_0x3610e2);})[_0x6cf567(0x4f7)](this[_0x6cf567(0x55f)](_0x6cf567(0x68a)),..._0x2a69dc,async(_0xb0ea63,_0x720cf5)=>{const _0x636f7d=_0x6cf567;let _0x80918d=_0xb0ea63[_0x636f7d(0x589)];y[_0x636f7d(0x4e7)](_0x636f7d(0x723)),y[_0x636f7d(0x4e7)](_0x636f7d(0x68e)),y['verbose'](_0xb0ea63[_0x636f7d(0x589)]);let _0x1087c7=await this['dataValidate']({'request':_0xb0ea63,'schema':v,'ClassRef':M,'execute':_0x2b11a6=>I[_0x636f7d(0x48c)](_0x2b11a6,_0x80918d)});_0x720cf5['status'](0xc8)[_0x636f7d(0x7bf)](_0x1087c7);})[_0x6cf567(0x4f7)](this[_0x6cf567(0x55f)]('getflow'),..._0x2a69dc,async(_0x3fd838,_0x272da0)=>{const _0x4752c3=_0x6cf567;let _0x313cea=_0x3fd838['body'];y[_0x4752c3(0x4e7)](_0x4752c3(0x624)),y[_0x4752c3(0x4e7)]('request\x20body:\x20'),y['verbose'](_0x3fd838['body']);let _0x53be95=await this[_0x4752c3(0x18d)]({'request':_0x3fd838,'schema':v,'ClassRef':M,'execute':_0x4e200f=>I['getFlow'](_0x4e200f,_0x313cea)});_0x272da0[_0x4752c3(0x771)](0xc8)[_0x4752c3(0x7bf)](_0x53be95);})[_0x6cf567(0x404)](this['routerPath']('deleteflow'),..._0x2a69dc,async(_0x33e16d,_0x3bed2f)=>{const _0x2dff84=_0x6cf567;let _0x361ea1=_0x33e16d[_0x2dff84(0x589)];y['verbose'](_0x2dff84(0x54e)),y[_0x2dff84(0x4e7)](_0x2dff84(0x68e)),y[_0x2dff84(0x4e7)](_0x33e16d[_0x2dff84(0x589)]);let _0x1ec1c4=await this[_0x2dff84(0x18d)]({'request':_0x33e16d,'schema':v,'ClassRef':M,'execute':_0x41f45e=>I[_0x2dff84(0x147)](_0x41f45e,_0x361ea1)});_0x3bed2f[_0x2dff84(0x771)](0xc8)[_0x2dff84(0x7bf)](_0x1ec1c4);})[_0x6cf567(0x14e)](this['routerPath']('allflows'),..._0x2a69dc,async(_0x5be7ab,_0x48b1c8)=>{const _0x53e81b=_0x6cf567;y[_0x53e81b(0x4e7)](_0x53e81b(0x63b));let _0x1625ee=await this[_0x53e81b(0x18d)]({'request':_0x5be7ab,'schema':v,'ClassRef':M,'execute':_0xec387=>I[_0x53e81b(0x5da)](_0xec387)});_0x48b1c8[_0x53e81b(0x771)](0xc8)['json'](_0x1625ee);});}},Mo=A(require(a0_0x1eb7af(0x7f5))),X={};function yo(_0x3ea942,_0x58a866,_0x254cba,_0x45128){X[_0x3ea942]||(X[_0x3ea942]={}),X[_0x3ea942][_0x58a866]={'id':_0x58a866,'response':_0x254cba,'events':_0x45128};}function bo(_0x4b4c37,_0x54fb42){!X[_0x4b4c37]||!X[_0x4b4c37][_0x54fb42]||delete X[_0x4b4c37][_0x54fb42];}function j(_0x554e0d,_0x11726e,_0xdc3f2c){const _0x597a37=a0_0x1eb7af;if(!X[_0x554e0d])return;let _0xbd168f=_0x597a37(0x6fd)+JSON['stringify'](_0xdc3f2c)+'\x0a\x0a';Object[_0x597a37(0x623)](X[_0x554e0d])[_0x597a37(0x7d3)](_0x4c6dad=>{const _0x12b430=_0x597a37;_0x4c6dad[_0x12b430(0x1f4)]['includes'](_0x11726e)&&_0x4c6dad[_0x12b430(0x179)][_0x12b430(0x6ab)](_0xbd168f);});}function So(){const _0x7b8ea1=a0_0x1eb7af;let _0x436724={};for(let _0x3dd504 in X)_0x436724[_0x3dd504]=Object[_0x7b8ea1(0x623)](X[_0x3dd504])[_0x7b8ea1(0x285)](_0x37ff64=>({'id':_0x37ff64['id'],'events':_0x37ff64['events']}));return _0x436724;}var Co=require(a0_0x1eb7af(0x163)),Is=require(a0_0x1eb7af(0x1e8)),Ts=class{},Ai=new Is['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ti=new Is[(a0_0x1eb7af(0x69e))]({'_id':{'type':String,'default':a0_0x1eb7af(0x289)},'WebhookGlobal':{'type':Ai},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ce=R?.['model'](Ts[a0_0x1eb7af(0x587)],Ti,a0_0x1eb7af(0x36b)),Ii=Mo[a0_0x1eb7af(0x39f)][a0_0x1eb7af(0x17d)](__dirname,a0_0x1eb7af(0x7de)),xe=(0x0,xt[a0_0x1eb7af(0x26b)])(),Oi=b['get']('AUTHENTICATION')['TYPE'],ae=[$a,Ra,Ia[Oi]];xe[a0_0x1eb7af(0x2c1)](a0_0x1eb7af(0x3cd),xt['default'][a0_0x1eb7af(0x4e6)](Ii))[a0_0x1eb7af(0x14e)](a0_0x1eb7af(0x521),async(_0x18f3e8,_0xdd94b)=>{const _0x3469cd=a0_0x1eb7af;console[_0x3469cd(0x265)](_0x3469cd(0x678));let _0x118cfe=_0x18f3e8[_0x3469cd(0x511)][_0x3469cd(0x70d)],_0x3e55bf=(_0x18f3e8[_0x3469cd(0x2cb)][_0x3469cd(0x1f4)]||'')[_0x3469cd(0x17f)](','),_0x5b21fd=(0x0,Co['v4'])();console[_0x3469cd(0x265)](_0x3469cd(0xfa),_0x118cfe),console['log'](_0x3469cd(0x1fb),_0x3e55bf);let _0x553b41=b[_0x3469cd(0x14e)](_0x3469cd(0x41a))[_0x3469cd(0x140)],_0x109c9a=_0x18f3e8[_0x3469cd(0x2cb)]['apikey'];if(console[_0x3469cd(0x265)](_0x3469cd(0x30e),_0x109c9a),_0x553b41['KEY']!==_0x109c9a){console[_0x3469cd(0x265)](_0x3469cd(0x41c));try{let _0x19e6c7=await he[_0x3469cd(0x108)][_0x3469cd(0x7a9)](_0x118cfe);if(console[_0x3469cd(0x265)](_0x3469cd(0x653),_0x19e6c7),!_0x19e6c7||_0x19e6c7[_0x3469cd(0x17b)]!==_0x109c9a)return console[_0x3469cd(0x265)](_0x3469cd(0x44a)),_0xdd94b[_0x3469cd(0x771)](0x191)['send'](_0x3469cd(0x7fd));}catch(_0x323875){return console[_0x3469cd(0x299)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x323875),_0xdd94b[_0x3469cd(0x771)](0x191)[_0x3469cd(0x107)](_0x3469cd(0x157));}}if(!await Ae(_0x118cfe))return _0xdd94b['status'](0x194)[_0x3469cd(0x107)](_0x3469cd(0x1d8));_0xdd94b[_0x3469cd(0x546)](_0x3469cd(0x165),_0x3469cd(0x3a4)),_0xdd94b[_0x3469cd(0x546)]('Cache-Control','no-cache'),_0xdd94b['setHeader'](_0x3469cd(0x2cd),'keep-alive'),_0xdd94b[_0x3469cd(0x314)]();let _0x4ea77c='data:\x20'+JSON[_0x3469cd(0x454)]({'info':_0x3469cd(0x13a)})+'\x0a\x0a';_0xdd94b[_0x3469cd(0x6ab)](_0x4ea77c),yo(_0x118cfe,_0x5b21fd,_0xdd94b,_0x3e55bf),_0x18f3e8['on'](_0x3469cd(0x575),()=>{const _0xd6b698=_0x3469cd;console[_0xd6b698(0x265)]('Connection\x20closed\x20for\x20instance:\x20'+_0x118cfe),bo(_0x118cfe,_0x5b21fd);});}),xe['post'](a0_0x1eb7af(0x323),async(_0x1078de,_0x37d01a)=>{const _0x4c0ee4=a0_0x1eb7af;console['log'](_0x4c0ee4(0x66a));let _0x426481=_0x1078de[_0x4c0ee4(0x511)][_0x4c0ee4(0x70d)],_0x5d2581=_0x1078de[_0x4c0ee4(0x511)]['startID'],_0x4dc3c6=_0x1078de[_0x4c0ee4(0x2cb)][_0x4c0ee4(0x4c9)]||'',_0x46957c=_0x1078de[_0x4c0ee4(0x589)];console[_0x4c0ee4(0x265)]('Instance\x20Name:',_0x426481),console[_0x4c0ee4(0x265)]('StartID:',_0x5d2581),console[_0x4c0ee4(0x265)](_0x4c0ee4(0x23a),_0x4dc3c6),console[_0x4c0ee4(0x265)](_0x4c0ee4(0x7f7),_0x46957c);try{if(!await Ae(_0x426481))return _0x37d01a[_0x4c0ee4(0x771)](0x194)[_0x4c0ee4(0x107)](_0x4c0ee4(0x1d8));let _0x25e985=await I[_0x4c0ee4(0x3b9)](_0x426481,_0x5d2581,_0x4dc3c6,_0x46957c);_0x37d01a[_0x4c0ee4(0x107)](_0x25e985);}catch(_0x58d68c){console[_0x4c0ee4(0x299)](_0x58d68c),_0x37d01a[_0x4c0ee4(0x771)](0x1f4)[_0x4c0ee4(0x107)](_0x4c0ee4(0x7e6));}}),xe[a0_0x1eb7af(0x14e)](a0_0x1eb7af(0x698),(_0x5eeebb,_0x597bef)=>{const _0x1169e4=a0_0x1eb7af;let _0x4e1c79=So();_0x597bef[_0x1169e4(0x7bf)](_0x4e1c79);})[a0_0x1eb7af(0x14e)]('/',(_0x58ef24,_0x51d26b)=>{const _0x52cc03=a0_0x1eb7af;let _0x5ca0d1=b['get'](_0x52cc03(0x610))['URL'];if(_0x5ca0d1){let _0x5b929c=encodeURIComponent(''+_0x5ca0d1);_0x51d26b['redirect'](_0x52cc03(0x288)+_0x5b929c);return;}let _0x29b265=b[_0x52cc03(0x14e)]('SSL_CONF'),_0x5d6647=_0x29b265&&_0x29b265['FULLCHAIN'][_0x52cc03(0x17f)]('/')[0x4];if(_0x5d6647){let _0x3af76a=encodeURIComponent(_0x52cc03(0x4ca)+_0x5d6647);_0x51d26b[_0x52cc03(0x126)](_0x52cc03(0x288)+_0x3af76a);}else _0x51d26b[_0x52cc03(0x126)](_0x52cc03(0x54c));})['put'](a0_0x1eb7af(0x1ea),...ae,async(_0x3dc523,_0x4bc43d)=>{const _0x5bf49d=a0_0x1eb7af;try{console[_0x5bf49d(0x265)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x4bc43d[_0x5bf49d(0x771)](0xc8)[_0x5bf49d(0x7bf)]({'message':_0x5bf49d(0x203)}),_0x4bc43d['on'](_0x5bf49d(0x4a7),()=>process['exit'](0x0));}catch(_0x3456c9){console[_0x5bf49d(0x299)](_0x5bf49d(0x2a2),_0x3456c9),_0x4bc43d[_0x5bf49d(0x771)](0x1f4)[_0x5bf49d(0x7bf)]({'message':_0x5bf49d(0x7da)});}})[a0_0x1eb7af(0x326)](a0_0x1eb7af(0x161),...ae,async(_0x342543,_0x332506)=>{const _0xf0005f=a0_0x1eb7af;try{let _0x1adda0=_0x342543['body'];await Ce[_0xf0005f(0x393)]({},{'$set':_0x1adda0},{'upsert':!0x0});let _0x2e541d=await Ce['findOne']();_0x332506[_0xf0005f(0x7bf)](_0x2e541d);}catch(_0x4ea8b4){_0x332506[_0xf0005f(0x771)](0x190)['send'](_0x4ea8b4['message']);}})[a0_0x1eb7af(0x14e)](a0_0x1eb7af(0x161),...ae,async(_0x51cf64,_0x2cabf4)=>{const _0xe9e15e=a0_0x1eb7af;try{let _0x1386db=await Ce[_0xe9e15e(0x1be)]();if(!_0x1386db)return _0x2cabf4[_0xe9e15e(0x7bf)]({});_0x2cabf4[_0xe9e15e(0x7bf)](_0x1386db);}catch(_0x3782d9){_0x2cabf4[_0xe9e15e(0x771)](0x1f4)[_0xe9e15e(0x107)](_0x3782d9[_0xe9e15e(0x729)]);}})['use'](a0_0x1eb7af(0x54a),new yt(b,...ae)['router'])['use'](a0_0x1eb7af(0x664),new Tt(...ae)[a0_0x1eb7af(0x5b3)])[a0_0x1eb7af(0x2c1)](a0_0x1eb7af(0x549),new ct(...ae)[a0_0x1eb7af(0x5b3)])['use'](a0_0x1eb7af(0x47c),new wt(...ae)[a0_0x1eb7af(0x5b3)])[a0_0x1eb7af(0x2c1)](a0_0x1eb7af(0x421),new Ot(...ae)[a0_0x1eb7af(0x5b3)])[a0_0x1eb7af(0x2c1)](a0_0x1eb7af(0x67f),new _t(...ae)['router']);var m=class{constructor(..._0x2b433a){const _0x1fd7bb=a0_0x1eb7af;throw{'status':0x190,'error':_0x1fd7bb(0x767),'message':_0x2b433a[_0x1fd7bb(0x3fe)]>0x0?_0x2b433a:void 0x0};}},se=class{constructor(..._0x50a03f){const _0x2522c6=a0_0x1eb7af;throw{'status':0x191,'error':'Unauthorized','message':_0x50a03f[_0x2522c6(0x3fe)]>0x0?_0x50a03f:void 0x0};}},K=class{constructor(..._0x4d9786){const _0x1ce7f5=a0_0x1eb7af;throw{'status':0x193,'error':_0x1ce7f5(0x180),'message':_0x4d9786[_0x1ce7f5(0x3fe)]>0x0?_0x4d9786:void 0x0};}},J=class{constructor(..._0x7f6494){const _0x31fcae=a0_0x1eb7af;throw{'status':0x194,'error':_0x31fcae(0x15b),'message':_0x7f6494[_0x31fcae(0x3fe)]>0x0?_0x7f6494:void 0x0};}},_=class{constructor(..._0x3b6f0a){const _0x1168ba=a0_0x1eb7af;throw{'status':0x1f4,'error':_0x1168ba(0x2c8),'message':_0x3b6f0a[_0x1168ba(0x3fe)]>0x0?_0x3b6f0a:void 0x0};}},ge=require(a0_0x1eb7af(0x61e));async function Os(_0x282bf0){const _0x3e2af2=a0_0x1eb7af;let _0xbd90af=new $(Os[_0x3e2af2(0x587)]),_0x2ab196=R[_0x3e2af2(0x4a3)](),_0x24b6d7=_0x2ab196['db'](b[_0x3e2af2(0x14e)](_0x3e2af2(0x754))[_0x3e2af2(0x66d)][_0x3e2af2(0x643)]+_0x3e2af2(0x6d4))['collection'](_0x282bf0),_0x44990b=async(_0x52fb97,_0x1087aa)=>{const _0x36af33=_0x3e2af2;try{return await _0x2ab196[_0x36af33(0x10e)](),await _0x24b6d7[_0x36af33(0x1ed)]({'_id':_0x1087aa},JSON[_0x36af33(0x164)](JSON[_0x36af33(0x454)](_0x52fb97,ge[_0x36af33(0x73f)][_0x36af33(0x7b7)])),{'upsert':!0x0});}catch{}},_0x212a44=async _0x28d58b=>{const _0x12ce5d=_0x3e2af2;try{await _0x2ab196[_0x12ce5d(0x10e)]();let _0xa3e823=await _0x24b6d7['findOne']({'_id':_0x28d58b}),_0x3ca306=JSON[_0x12ce5d(0x454)](_0xa3e823);return JSON[_0x12ce5d(0x164)](_0x3ca306,ge['BufferJSON'][_0x12ce5d(0x81a)]);}catch{}},_0x46a56c=async _0x28e3e7=>{const _0x59f42d=_0x3e2af2;try{return await _0x2ab196[_0x59f42d(0x10e)](),await _0x24b6d7[_0x59f42d(0x81c)]({'_id':_0x28e3e7});}catch{}},_0x29df6a=await _0x212a44('creds')||(0x0,ge[_0x3e2af2(0x236)])();return{'state':{'creds':_0x29df6a,'keys':{'get':async(_0x15dc1f,_0x192864)=>{const _0x4778c9=_0x3e2af2;let _0x1a6264={};return await Promise[_0x4778c9(0x44d)](_0x192864[_0x4778c9(0x285)](async _0x22bce9=>{const _0x286df3=_0x4778c9;let _0x538352=await _0x212a44(_0x15dc1f+'-'+_0x22bce9);_0x15dc1f===_0x286df3(0x1b7)&&_0x538352&&(_0x538352=ge[_0x286df3(0x20e)]['Message'][_0x286df3(0x238)][_0x286df3(0x7d9)](_0x538352)),_0x1a6264[_0x22bce9]=_0x538352;})),_0x1a6264;},'set':async _0x2b0ccc=>{const _0x40f5e8=_0x3e2af2;let _0x426408=[];for(let _0x448f32 in _0x2b0ccc)for(let _0x44812e in _0x2b0ccc[_0x448f32]){let _0x200d58=_0x2b0ccc[_0x448f32][_0x44812e],_0x1a5626=_0x448f32+'-'+_0x44812e;_0x426408['push'](_0x200d58?_0x44990b(_0x200d58,_0x1a5626):_0x46a56c(_0x1a5626));}await Promise[_0x40f5e8(0x44d)](_0x426408);}}},'saveCreds':async()=>_0x44990b(_0x29df6a,_0x3e2af2(0x76b))};}var ks=A(require(a0_0x1eb7af(0x435))),Ls=A(require(a0_0x1eb7af(0x1bd))),kt=require(a0_0x1eb7af(0x61e)),Eo=require(a0_0x1eb7af(0x24b)),Pt=require('@whiskeysockets/baileys'),Dt;function _i(_0x2bcf16){const _0xf28b01=a0_0x1eb7af;return Dt||(Dt=(0x0,Eo['createClient'])({'url':_0x2bcf16['URI']}),Dt[_0xf28b01(0x10e)]()),Dt;}var le=class l{constructor(_0x564edf,_0x409a55){const _0x147fa8=a0_0x1eb7af;this[_0x147fa8(0x284)]=_0x564edf,this['instanceName']=_0x409a55,this['logger']=new $(l[_0x147fa8(0x587)]),this[_0x147fa8(0x5ce)]=_i(_0x564edf);}set[a0_0x1eb7af(0x72f)](_0x4ffa23){const _0x19a235=a0_0x1eb7af;this[_0x19a235(0x1fc)]=_0x4ffa23;}async[a0_0x1eb7af(0x695)](){const _0x34bcdd=a0_0x1eb7af;try{return await this['client'][_0x34bcdd(0x7ba)](['keys',this[_0x34bcdd(0x284)][_0x34bcdd(0x34d)]+':*']);}catch(_0x17e98f){this[_0x34bcdd(0x6d5)][_0x34bcdd(0x299)](_0x17e98f);}}async[a0_0x1eb7af(0x6fa)](_0x1b4952,_0x3898ed){const _0x5427a5=a0_0x1eb7af;try{let _0x3501fd=JSON[_0x5427a5(0x454)](_0x3898ed,Pt[_0x5427a5(0x73f)]['replacer']);return await this[_0x5427a5(0x5ce)][_0x5427a5(0x1b8)](this[_0x5427a5(0x284)][_0x5427a5(0x34d)]+':'+this[_0x5427a5(0x1fc)],_0x1b4952,_0x3501fd);}catch(_0xf70455){this[_0x5427a5(0x6d5)]['error'](_0xf70455);}}async[a0_0x1eb7af(0x7b1)](){const _0x425301=a0_0x1eb7af;try{let _0x14f2e6=await this[_0x425301(0x5ce)][_0x425301(0x47f)](this['redisEnv'][_0x425301(0x34d)]+':'+this[_0x425301(0x1fc)]);if(_0x14f2e6){for(let _0x364fcf in _0x14f2e6)Object[_0x425301(0x2da)][_0x425301(0x40c)]['call'](_0x14f2e6,_0x364fcf)&&(_0x14f2e6[_0x364fcf]=JSON[_0x425301(0x164)](_0x14f2e6[_0x364fcf],Pt[_0x425301(0x73f)][_0x425301(0x81a)]));return _0x14f2e6;}}catch(_0x45fdda){this[_0x425301(0x6d5)][_0x425301(0x299)](_0x45fdda);}}async[a0_0x1eb7af(0x70a)](_0xc01162){const _0x10b93a=a0_0x1eb7af;try{let _0xe48fc5=await this[_0x10b93a(0x5ce)][_0x10b93a(0x658)](this[_0x10b93a(0x284)][_0x10b93a(0x34d)]+':'+this[_0x10b93a(0x1fc)],_0xc01162);if(_0xe48fc5)return JSON[_0x10b93a(0x164)](_0xe48fc5,Pt[_0x10b93a(0x73f)][_0x10b93a(0x81a)]);}catch(_0x1d9cc4){this[_0x10b93a(0x6d5)][_0x10b93a(0x299)](_0x1d9cc4);}}async[a0_0x1eb7af(0x328)](_0xb4d4b4){const _0x2b138d=a0_0x1eb7af;try{return await this[_0x2b138d(0x5ce)][_0x2b138d(0x5a8)](this[_0x2b138d(0x284)][_0x2b138d(0x34d)]+':'+this[_0x2b138d(0x1fc)],_0xb4d4b4);}catch(_0x336bc9){this['logger'][_0x2b138d(0x299)](_0x336bc9);}}async[a0_0x1eb7af(0x40f)](_0x3b2b5e){const _0x565258=a0_0x1eb7af;try{return await this['client'][_0x565258(0x25a)](_0x3b2b5e||this[_0x565258(0x284)][_0x565258(0x34d)]+':'+this['instanceName']);}catch(_0x15599d){this[_0x565258(0x6d5)][_0x565258(0x299)](_0x15599d);}}};async function _s(_0x2bd629,_0x39bebc){const _0x5afcbf=a0_0x1eb7af;let _0x17ce59=new $(_s[_0x5afcbf(0x587)]),_0x2ec46f=new le(_0x2bd629,_0x39bebc),_0x2bdfc3=async(_0x151453,_0x4cb5c5)=>{const _0x52d1e5=_0x5afcbf;try{return await _0x2ec46f['writeData'](_0x4cb5c5,_0x151453);}catch(_0x2c8778){return _0x17ce59[_0x52d1e5(0x299)]({'localError':'writeData','error':_0x2c8778});}},_0x3e3c65=async _0x3e4dbd=>{const _0x5c8fbf=_0x5afcbf;try{return await _0x2ec46f['readData'](_0x3e4dbd);}catch(_0x5afc0f){_0x17ce59[_0x5c8fbf(0x299)]({'readData':_0x5c8fbf(0x6fa),'error':_0x5afc0f});return;}},_0x5c9e8d=async _0x507d24=>{const _0x223c2d=_0x5afcbf;try{return await _0x2ec46f[_0x223c2d(0x328)](_0x507d24);}catch(_0x27adda){_0x17ce59['error']({'readData':'removeData','error':_0x27adda});}},_0xa205fb=await _0x3e3c65('creds')||(0x0,kt[_0x5afcbf(0x236)])();return{'state':{'creds':_0xa205fb,'keys':{'get':async(_0x144475,_0x109fe4)=>{const _0x4d5e09=_0x5afcbf;let _0x2b56c2={};return await Promise[_0x4d5e09(0x44d)](_0x109fe4[_0x4d5e09(0x285)](async _0x3ad45c=>{const _0x3eda88=_0x4d5e09;let _0x1bf344=await _0x3e3c65(_0x144475+'-'+_0x3ad45c);_0x144475===_0x3eda88(0x1b7)&&_0x1bf344&&(_0x1bf344=kt['proto'][_0x3eda88(0x447)][_0x3eda88(0x238)]['fromObject'](_0x1bf344)),_0x2b56c2[_0x3ad45c]=_0x1bf344;})),_0x2b56c2;},'set':async _0x314fe1=>{const _0x17e6cd=_0x5afcbf;let _0x2d5bb7=[];for(let _0x4638fc in _0x314fe1)for(let _0x5cd9d7 in _0x314fe1[_0x4638fc]){let _0x40dc01=_0x314fe1[_0x4638fc][_0x5cd9d7],_0x2cfc40=_0x4638fc+'-'+_0x5cd9d7;_0x2d5bb7[_0x17e6cd(0x46f)](_0x40dc01?await _0x2bdfc3(_0x40dc01,_0x2cfc40):await _0x5c9e8d(_0x2cfc40));}await Promise[_0x17e6cd(0x44d)](_0x2d5bb7);}}},'saveCreds':async()=>await _0x2bdfc3(_0xa205fb,_0x5afcbf(0x76b))};}var L=A(require('fs')),me=require(a0_0x1eb7af(0x163)),Jt=A(require('sharp')),qt=require(a0_0x1eb7af(0x7c6)),vo=require(a0_0x1eb7af(0x33b)),No=require('util'),$o=A(require(a0_0x1eb7af(0x5a5))),Ee=class extends O{constructor(_0x2cb100,_0x16db25,_0x215713){const _0x1dec8e=a0_0x1eb7af;super(_0x16db25),this['cacheInstanceModel']=_0x2cb100,this[_0x1dec8e(0x768)]=_0x16db25,this[_0x1dec8e(0x7cb)]=_0x215713;}async[a0_0x1eb7af(0x6c6)](_0x2ea2c2,_0x38bef0){const _0x23554f=a0_0x1eb7af;try{if(this['dbSettings'][_0x23554f(0x412)]){console['log']('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0x38bef0+_0x23554f(0x19a),_0x2ea2c2);let _0x277277=await this[_0x23554f(0x676)][_0x23554f(0x4d9)]({'_id':_0x38bef0},{'$set':_0x2ea2c2},{'new':!0x0,'upsert':!0x0});return console[_0x23554f(0x265)](_0x23554f(0x7d1),_0x277277),_0x277277;}}catch(_0x1d8164){throw console['error'](_0x23554f(0xf7),_0x1d8164),_0x1d8164;}return null;}async['deleteOne'](_0xd385c2){const _0x5a07a1=a0_0x1eb7af;try{let _0x41a955=T(_0xd385c2[_0x5a07a1(0x5b0)]);return{'deletedCount':(await this[_0x5a07a1(0x676)][_0x5a07a1(0x81c)](_0x41a955))[_0x5a07a1(0x1c8)]};}catch(_0x17487a){return{'error':_0x17487a?.['toString']()};}}async['findOne'](_0xc92da0){const _0xb40d39=a0_0x1eb7af;try{let _0x9d5d0c=T(_0xc92da0[_0xb40d39(0x5b0)]);return await this[_0xb40d39(0x676)]['findOne'](_0x9d5d0c)['lean']();}catch{return null;}}},Lt=(0x0,No[a0_0x1eb7af(0x2a3)])(vo[a0_0x1eb7af(0x6a4)]),xs=class{constructor(){const _0x31ebb1=a0_0x1eb7af;this[_0x31ebb1(0x290)]=new Ee(Be,b),(!this[_0x31ebb1(0x144)]||!this[_0x31ebb1(0x4da)])&&this['detectIPv6PrefixAndInterface']()[_0x31ebb1(0x235)](()=>{const _0x4e8fb5=_0x31ebb1;console['log']('IPv6\x20Prefix\x20detected:\x20'+this[_0x4e8fb5(0x144)]),console['log']('Network\x20Interface\x20detected:\x20'+this['networkInterface']);})[_0x31ebb1(0x3b5)](_0x59f84c=>{const _0x3d614b=_0x31ebb1;console[_0x3d614b(0x299)](_0x3d614b(0x10f)+_0x59f84c['message']);});}async[a0_0x1eb7af(0x3c1)](){const _0x21e24c=a0_0x1eb7af;try{let {stdout:_0x142824}=await Lt(_0x21e24c(0x486));console[_0x21e24c(0x265)]('Network\x20interfaces\x20detected:\x20'+_0x142824);let _0x4373e1=_0x142824[_0x21e24c(0x17f)]('\x0a')[_0x21e24c(0x285)](_0x4a8fd8=>_0x4a8fd8[_0x21e24c(0x17f)]('\x20')[0x0])['filter'](_0x4a6084=>!_0x4a6084['includes']('lo')&&!_0x4a6084[_0x21e24c(0x34b)]('docker')&&!_0x4a6084[_0x21e24c(0x34b)](_0x21e24c(0x76e))&&!_0x4a6084[_0x21e24c(0x34b)]('wl')&&!_0x4a6084[_0x21e24c(0x34b)]('@'));if(console['log']('Filtered\x20network\x20interfaces:\x20'+_0x4373e1),_0x4373e1['length']===0x0)throw new Error('No\x20suitable\x20network\x20interface\x20found');this[_0x21e24c(0x4da)]=_0x4373e1[0x0];let {stdout:_0x2bfd0e}=await Lt('ip\x20-6\x20addr\x20show\x20dev\x20'+this[_0x21e24c(0x4da)]);console['log'](_0x21e24c(0x3df)+_0x2bfd0e);let _0x5ebe36=_0x2bfd0e[_0x21e24c(0x17f)]('\x0a')['find'](_0x49d8ab=>_0x49d8ab[_0x21e24c(0x34b)]('inet6')&&_0x49d8ab[_0x21e24c(0x34b)]('global'));if(!_0x5ebe36)throw new Error(_0x21e24c(0x2e2));let _0x4f0a42=_0x5ebe36[_0x21e24c(0x278)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x4f0a42)throw new Error(_0x21e24c(0x316));let [_0x2dbbe7,_0x27e7a9,_0xe68234]=_0x4f0a42,_0x408e10=Math[_0x21e24c(0x608)](Number(_0xe68234)/0x10),_0x2889e6=Number(_0xe68234)%0x10,_0x464033=_0x27e7a9[_0x21e24c(0x17f)](':')[_0x21e24c(0x302)](0x0,_0x408e10)[_0x21e24c(0x17d)](':');if(_0x2889e6>0x0){let _0x57fd20=_0x27e7a9[_0x21e24c(0x17f)](':')[_0x408e10],_0x5815b3=0xffff<<0x10-_0x2889e6&0xffff,_0x1fd0e9=(parseInt(_0x57fd20,0x10)&_0x5815b3)[_0x21e24c(0x725)](0x10)[_0x21e24c(0x814)](0x4,'0');_0x464033+=':'+_0x1fd0e9;}this[_0x21e24c(0x144)]=_0x464033+':';}catch(_0x1e1ade){console[_0x21e24c(0x299)](_0x21e24c(0x21b),_0x1e1ade);}}async[a0_0x1eb7af(0x78d)](_0x2543fb){const _0x3f9c2e=a0_0x1eb7af;let _0x1aeb17=_0x3f9c2e(0xfd)+_0x2543fb+_0x3f9c2e(0x13f)+this['networkInterface'];try{await Lt(_0x1aeb17),console[_0x3f9c2e(0x265)]('IPv6\x20address\x20configured:\x20'+_0x2543fb);}catch(_0x44c851){throw console[_0x3f9c2e(0x299)](_0x3f9c2e(0x5d7)+_0x44c851),new Error('Error\x20adding\x20IPv6\x20address:\x20'+_0x44c851);}}async[a0_0x1eb7af(0x19d)](_0x59814d){const _0x4d2a9d=a0_0x1eb7af;let _0x506365=_0x4d2a9d(0x722)+_0x59814d+'/64\x20dev\x20'+this['networkInterface'];try{await Lt(_0x506365),console[_0x4d2a9d(0x265)](_0x4d2a9d(0x2ad)+_0x59814d);}catch(_0x4fcb7b){throw console[_0x4d2a9d(0x299)]('Error\x20removing\x20IPv6\x20address:\x20'+_0x4fcb7b),new Error(_0x4d2a9d(0x562)+_0x4fcb7b);}}[a0_0x1eb7af(0x178)](){const _0x21a223=a0_0x1eb7af;return _0x21a223(0x429)[_0x21a223(0x517)](/X/g,()=>'0123456789ABCDEF'[_0x21a223(0x4c0)](Math[_0x21a223(0x608)](Math['random']()*0x10)));}[a0_0x1eb7af(0x303)](_0x553e74,_0x3339b0){const _0x74a28a=a0_0x1eb7af;let _0x56affe=_0x3339b0[_0x74a28a(0x17f)](':');return _0x56affe[0x0]=(parseInt(_0x56affe[0x0],0x10)^0x2)[_0x74a28a(0x725)](0x10)[_0x74a28a(0x814)](0x2,'0'),''+_0x553e74+_0x56affe[0x0]+_0x56affe[0x1]+':'+_0x56affe[0x2]+_0x74a28a(0x567)+_0x56affe[0x3]+':'+_0x56affe[0x4]+_0x56affe[0x5];}[a0_0x1eb7af(0x694)](){const _0x39a969=a0_0x1eb7af;let _0x3712fa=this[_0x39a969(0x144)];_0x3712fa['endsWith'](':')||(_0x3712fa+=':');let _0x57dcd5=this[_0x39a969(0x178)]();return this['ip6eui'](_0x3712fa,_0x57dcd5);}['isValidIPv6Config'](_0x3fe7ef){const _0x9e13fe=a0_0x1eb7af;return new RegExp(_0x9e13fe(0x5d0))['test'](_0x3fe7ef);}async[a0_0x1eb7af(0x770)](_0x193843){const _0xab4336=a0_0x1eb7af;let _0x193d35=[{'url':_0xab4336(0x3fa),'parse':_0x140509=>_0x140509['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0x4e49d1=>_0x4e49d1['ip']},{'url':_0xab4336(0x757),'parse':_0x3a4a2c=>_0x3a4a2c['trim']()},{'url':_0xab4336(0x790),'parse':_0x344023=>_0x344023[_0xab4336(0x30f)]()}],_0x14e28e=_0x193d35[Math[_0xab4336(0x608)](Math[_0xab4336(0x1a6)]()*_0x193d35['length'])];try{let _0x16782d=await $o[_0xab4336(0x39f)]['get'](_0x14e28e['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x193843}}),_0x914d85=_0x14e28e[_0xab4336(0x164)](_0x16782d['data']);return _0x914d85[_0xab4336(0x799)]()===_0x193843['toLowerCase']()?(console[_0xab4336(0x265)](_0xab4336(0x437)+_0x193843),!0x0):(console[_0xab4336(0x299)](_0xab4336(0x78b)+_0x193843+_0xab4336(0x1b4)+_0x914d85),!0x1);}catch(_0x215786){return console[_0xab4336(0x299)](_0xab4336(0x797)+_0x14e28e[_0xab4336(0x3d8)]+':\x20'+_0x215786['message']),!0x1;}}async['createIPv6'](_0x18089f,_0x566620){const _0x34b7ee=a0_0x1eb7af;if(!this['ipv6Prefix']||!this['networkInterface'])return console[_0x34b7ee(0x299)](_0x34b7ee(0x214)),null;let _0x3b780c;do _0x3b780c=this[_0x34b7ee(0x694)](),console[_0x34b7ee(0x265)](_0x34b7ee(0x7fc)+_0x3b780c);while(!await this[_0x34b7ee(0x341)](_0x3b780c));await this[_0x34b7ee(0x78d)](_0x3b780c),console[_0x34b7ee(0x265)](_0x34b7ee(0x29a)+_0x3b780c);let _0x552cb7={'_id':_0x18089f+'-'+_0x566620,'ip':_0x3b780c},_0x437bc3=await this['cacheInstanceRepository'][_0x34b7ee(0x6c6)](_0x552cb7,_0x552cb7[_0x34b7ee(0x710)]);return console[_0x34b7ee(0x265)](_0x34b7ee(0x1a1)+_0x437bc3),_0x3b780c;}async[a0_0x1eb7af(0x341)](_0x325f06){const _0xb68c13=a0_0x1eb7af;return this[_0xb68c13(0x744)](_0x325f06)?!await this['cacheInstanceRepository'][_0xb68c13(0x1be)]({'where':{'ip':_0x325f06}}):!0x1;}async[a0_0x1eb7af(0x1d7)](_0x5b3308,_0x24d74a){const _0x4f5388=a0_0x1eb7af;let _0x264dd2=_0x5b3308+'-'+_0x24d74a,_0x1bcbe3=await this['cacheInstanceRepository']['findOne']({'where':{'_id':_0x264dd2}});_0x1bcbe3&&_0x1bcbe3['ip']&&(await this[_0x4f5388(0x19d)](_0x1bcbe3['ip']),await this[_0x4f5388(0x290)]['deleteOne']({'where':{'_id':_0x264dd2}}));}},xi=new xs(),De=xi,Fs=a0_0x1eb7af(0x45e),Oo,ue=null,Oa=null,Di=0x3,Pi=null,Ro=b[a0_0x1eb7af(0x14e)](a0_0x1eb7af(0x41a))[a0_0x1eb7af(0x140)][a0_0x1eb7af(0x1a5)];async function ki(){const _0x3145f4=a0_0x1eb7af;let _0x5b4d94=await Ce[_0x3145f4(0x1be)]();ue=_0x5b4d94?.[_0x3145f4(0x28d)]??null,Pi=_0x5b4d94?.[_0x3145f4(0x619)]??null,Fs=_0x5b4d94?.['connectedClient']??_0x3145f4(0x45e),Oo=_0x5b4d94?.[_0x3145f4(0x820)]??oe??_0x3145f4(0x6ff),console['log'](_0x5b4d94);}async function Li(){await ki();}Li();var Ft={},ve=class l{constructor(_0x31ad63,_0x6bc171,_0x31b6a7){const _0x3528bd=a0_0x1eb7af;this['configService']=_0x31ad63,this[_0x3528bd(0x6a2)]=_0x6bc171,this[_0x3528bd(0x1a2)]=_0x31b6a7,this['AutomateSystem']=null,this[_0x3528bd(0x6d5)]=new $(l['name']),this[_0x3528bd(0x70d)]={},this[_0x3528bd(0x134)]={},this[_0x3528bd(0x208)]={'state':_0x3528bd(0x575)},this[_0x3528bd(0x22a)]=(0x0,U['join'])(ie,_0x3528bd(0x7de)),this[_0x3528bd(0x436)]=new Ls[(_0x3528bd(0x39f))](),this[_0x3528bd(0x162)]=new Ls[(_0x3528bd(0x39f))](),this[_0x3528bd(0x5f9)]=!0x1,this['webhookMap']={'status.instance':_0x3528bd(0x618),'connection.update':_0x3528bd(0x618),'qrcode.updated':_0x3528bd(0x4db),'messages.upsert':_0x3528bd(0x33a),'send.message':_0x3528bd(0x33a),'messages.update':'/wa-message-update','group.upsert':_0x3528bd(0x801),'group.update':'/wa-groups','group-participants.update':_0x3528bd(0x801),'messages.set':_0x3528bd(0x781),'contacts.set':'/wa-contacts','contacts.upsert':_0x3528bd(0x7ea),'contacts.update':_0x3528bd(0x7ea),'presence.update':_0x3528bd(0x80d),'chats.set':_0x3528bd(0x2d9),'chats.update':'/wa-chats','chats.upsert':_0x3528bd(0x2d9),'chats.delete':_0x3528bd(0x2d9)},this['reconnectAttempts']=0x0,this[_0x3528bd(0x312)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this['isRunning']=!0x1,this['chatHandle']={'chats.upsert':async(_0x4defc3,_0x2b5050)=>{const _0x3d4497=_0x3528bd;let _0x2d6c4b=[];for await(let _0x4fa155 of _0x4defc3)_0x2d6c4b[_0x3d4497(0x46f)]({'_id':_0x4fa155['id'],'owner':this['instance'][_0x3d4497(0x1ef)],'group':_0x4fa155['id']['endsWith'](_0x3d4497(0x331)),'name':_0x4fa155[_0x3d4497(0x587)]||_0x4fa155[_0x3d4497(0x154)]||null,'contactname':null,'lastmsg':_0x4fa155[_0x3d4497(0x2ef)]&&_0x4fa155[_0x3d4497(0x2ef)][_0x3d4497(0x725)]()[_0x3d4497(0x3fe)]<0xd?_0x4fa155['conversationTimestamp']*0x3e8:_0x4fa155[_0x3d4497(0x2ef)]||null,'archived':_0x4fa155[_0x3d4497(0x569)]||!0x1,'unreadcount':_0x4fa155[_0x3d4497(0x778)]||0x0,'ephemeralExpiration':_0x4fa155[_0x3d4497(0x2f6)]||0x0});this[_0x3d4497(0x2fb)](_0x3d4497(0x586),_0x2d6c4b);},'chats.update':async(_0x48e6ff,_0x777eae)=>{const _0x512c25=_0x3528bd;for(let _0x3fa354 of _0x48e6ff){let _0x2a6240={'_id':_0x3fa354['id'],'owner':this[_0x512c25(0x70d)][_0x512c25(0x1ef)],'archived':_0x3fa354['archived'],'muteEndTime':_0x3fa354[_0x512c25(0x58e)],'ephemeralExpiration':_0x3fa354[_0x512c25(0x2f6)]},_0x82105=!0x1,_0x36f5a6={};_0x2a6240[_0x512c25(0x569)]!=null&&(this[_0x512c25(0x6d5)][_0x512c25(0x4e7)](this[_0x512c25(0x1fc)]+'\x20('+this[_0x512c25(0x70d)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x3fa354['id']+_0x512c25(0x41d)+_0x3fa354[_0x512c25(0x569)]),_0x82105=!0x0,_0x36f5a6[_0x512c25(0x569)]=_0x3fa354['archived']),'muteEndTime'in _0x3fa354&&(this['logger'][_0x512c25(0x4e7)](this[_0x512c25(0x1fc)]+'\x20('+this['instance']['wuid']+_0x512c25(0x109)+_0x3fa354['id']+'\x20:\x20'+(_0x3fa354['muteEndTime']??'0')),_0x82105=!0x0,_0x36f5a6['muteEndTime']=_0x3fa354[_0x512c25(0x58e)]??0x0),_0x512c25(0x2f6)in _0x3fa354&&(this[_0x512c25(0x6d5)]['verbose'](this[_0x512c25(0x1fc)]+'\x20('+this[_0x512c25(0x70d)][_0x512c25(0x1ef)]+_0x512c25(0x248)+_0x3fa354['id']+_0x512c25(0x41d)+(_0x3fa354['ephemeralExpiration']!==void 0x0?_0x3fa354['ephemeralExpiration']:_0x512c25(0x347))),_0x36f5a6['ephemeralExpiration']=_0x3fa354[_0x512c25(0x2f6)]===null?0x0:_0x3fa354['ephemeralExpiration'],_0x82105=!0x0);let _0x276fdb;_0x82105&&(_0x276fdb=await this['repository'][_0x512c25(0x142)][_0x512c25(0x393)]({'where':{'_id':_0x3fa354['id']}},_0x36f5a6,this[_0x512c25(0x70d)][_0x512c25(0x1ef)])),_0x276fdb&&j(this['instanceName'],_0x512c25(0x72a),{'chat':_0x276fdb});}},'chats.delete':async _0x4e0e75=>{const _0x3e91e7=_0x3528bd;for(let _0x1372be of _0x4e0e75)if(_0x1372be['endsWith'](_0x3e91e7(0x331))){await this['repository'][_0x3e91e7(0x142)]['delete']({'where':{'_id':_0x1372be}},this[_0x3e91e7(0x70d)][_0x3e91e7(0x1ef)]);let _0xde47d7={'where':{'key':{'remoteJid':_0x1372be}}};await this[_0x3e91e7(0x1a2)][_0x3e91e7(0x729)][_0x3e91e7(0x404)](_0xde47d7,this[_0x3e91e7(0x70d)][_0x3e91e7(0x1ef)]);}else{await this[_0x3e91e7(0x1a2)][_0x3e91e7(0x142)][_0x3e91e7(0x393)]({'where':{'_id':_0x1372be}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3e91e7(0x70d)][_0x3e91e7(0x1ef)]);let _0x38c139={'where':{'key':{'remoteJid':_0x1372be}}};await this[_0x3e91e7(0x1a2)][_0x3e91e7(0x729)][_0x3e91e7(0x404)](_0x38c139,this['instance']['wuid']);}this['sendDataWebhook'](_0x3e91e7(0x4f9),[..._0x4e0e75]);}},this[_0x3528bd(0x2a0)]={'contacts.upsert':async(_0x1adaad,_0x68b718)=>{const _0x56d68d=_0x3528bd;let _0x54ee48=await this[_0x56d68d(0x1a2)][_0x56d68d(0x5a3)]['find']({'where':{}},this['instance'][_0x56d68d(0x1ef)]),_0x5cdb88=[];for await(let _0x4aacbe of _0x1adaad)_0x54ee48[_0x56d68d(0x7a9)](_0x4f87bb=>_0x4f87bb[_0x56d68d(0x710)]===_0x4aacbe['id'])||_0x5cdb88[_0x56d68d(0x46f)]({'_id':_0x4aacbe['id'],'pushName':_0x4aacbe?.[_0x56d68d(0x587)]||_0x4aacbe?.[_0x56d68d(0x78e)],'owner':this['instance']['wuid']});this[_0x56d68d(0x2fb)](_0x56d68d(0x36d),_0x5cdb88),await this['repository'][_0x56d68d(0x5a3)][_0x56d68d(0x1f7)](_0x5cdb88);},'contacts.update':async(_0x1cf06c,_0x38cd4a)=>{const _0x4deb11=_0x3528bd;let _0xa00871=[];for await(let _0x26b01e of _0x1cf06c)_0xa00871['push']({'_id':_0x26b01e['id'],'pushName':_0x26b01e?.['name']??_0x26b01e?.[_0x4deb11(0x78e)],'owner':this[_0x4deb11(0x70d)]['wuid']});this['sendDataWebhook'](_0x4deb11(0x522),_0xa00871);}},this[_0x3528bd(0x6ed)]={'messaging-history.set':async({messages:_0x5e92f1,chats:_0x5e056b,isLatest:_0x4d30b3},_0xce2c6b)=>{const _0x218a24=_0x3528bd;if(_0x4d30b3){let _0xd16267=await Promise[_0x218a24(0x44d)](_0x5e056b['map'](async _0x227a0c=>({'_id':_0x227a0c['id'],'owner':this['instance'][_0x218a24(0x1ef)],'group':_0x227a0c['id'][_0x218a24(0x59e)](_0x218a24(0x331)),'name':_0x227a0c[_0x218a24(0x587)]||_0x227a0c[_0x218a24(0x154)]||_0x227a0c[_0x218a24(0x7eb)]||null,'contactname':null,'lastmsg':_0x227a0c[_0x218a24(0x2ef)]&&_0x227a0c['conversationTimestamp']['toString']()[_0x218a24(0x3fe)]<0xd?_0x227a0c[_0x218a24(0x2ef)]*0x3e8:_0x227a0c[_0x218a24(0x2ef)]||null,'archived':_0x227a0c['archived']||!0x1,'unreadcount':_0x227a0c[_0x218a24(0x778)]||0x0,'ephemeralExpiration':_0x227a0c['ephemeralExpiration']||0x0,'muteEndTime':_0x227a0c[_0x218a24(0x58e)]||0x0})));this[_0x218a24(0x2fb)](_0x218a24(0x1c2),_0xd16267),await this[_0x218a24(0x21e)](_0xd16267,_0xce2c6b);}let _0x3b00af=[],_0x334ecb=Date[_0x218a24(0x4e4)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x476fe1]of Object['entries'](_0x5e92f1)){if(_0x476fe1['message']?.[_0x218a24(0x401)]||_0x476fe1[_0x218a24(0x729)]?.[_0x218a24(0x472)]||!_0x476fe1['message']||_0x476fe1[_0x218a24(0x6b3)][_0x218a24(0x4c9)]===_0x218a24(0x211)||(ks['default'][_0x218a24(0x5c2)](_0x476fe1?.['messageTimestamp'])&&(_0x476fe1[_0x218a24(0x613)]=_0x476fe1[_0x218a24(0x613)]?.['toNumber']()),_0x476fe1['messageTimestamp']&&_0x476fe1[_0x218a24(0x613)][_0x218a24(0x725)]()[_0x218a24(0x3fe)]<0xd&&(_0x476fe1['messageTimestamp']=_0x476fe1['messageTimestamp']*0x3e8),_0x476fe1[_0x218a24(0x613)]<_0x334ecb))continue;let _0x3dcc01=(0x0,w[_0x218a24(0x51e)])(_0x476fe1[_0x218a24(0x729)]),_0x3c836b=(0x0,w[_0x218a24(0x706)])(_0x3dcc01),{message_normalized:_0x1d5c61}=this[_0x218a24(0x79a)](_0x3dcc01,_0x3c836b,null);Object['keys'](_0x1d5c61)[_0x218a24(0x3fe)]>0x0&&_0x3b00af[_0x218a24(0x46f)]({'_id':_0x476fe1['key']['id'],'key':_0x476fe1[_0x218a24(0x6b3)],'pushName':_0x476fe1[_0x218a24(0x810)],'participant':_0x476fe1[_0x218a24(0x261)],'message':_0x3dcc01,'messageType':_0x3c836b,'message_normalized':{'key':_0x476fe1[_0x218a24(0x6b3)],'pushName':_0x476fe1[_0x218a24(0x810)],'messageTimestamp':_0x476fe1[_0x218a24(0x613)],..._0x1d5c61},'messageTimestamp':_0x476fe1[_0x218a24(0x613)],'owner':this[_0x218a24(0x70d)][_0x218a24(0x1ef)]});}_0xce2c6b[_0x218a24(0x412)]&&_0x3b00af[_0x218a24(0x3fe)]>0x0&&(this[_0x218a24(0x6d5)][_0x218a24(0x4e7)](this[_0x218a24(0x1fc)]+'\x20('+this[_0x218a24(0x70d)][_0x218a24(0x1ef)]+_0x218a24(0x538)+_0x3b00af[_0x218a24(0x3fe)]+_0x218a24(0x37e)+this['instance'][_0x218a24(0x1ef)]+_0x218a24(0x5df)),await this['repository'][_0x218a24(0x729)][_0x218a24(0x1f7)]([..._0x3b00af],this['instance']['wuid'])),this[_0x218a24(0x2fb)](_0x218a24(0x3fc),[..._0x3b00af]),_0x5e92f1=void 0x0;},'messages.upsert':async({messages:_0x3c689e,type:_0x1fe794},_0x86ebe1)=>{const _0x1067d8=_0x3528bd;for(let _0xd0cb56 of _0x3c689e){if(this[_0x1067d8(0x134)]?.[_0x1067d8(0x4c4)]&&_0xd0cb56[_0x1067d8(0x6b3)][_0x1067d8(0x4c9)][_0x1067d8(0x34b)]('@g.us')){this[_0x1067d8(0x6d5)][_0x1067d8(0x4e7)](this[_0x1067d8(0x1fc)]+'\x20('+this[_0x1067d8(0x70d)][_0x1067d8(0x1ef)]+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0xd0cb56['messageStubParameters']&&_0xd0cb56[_0x1067d8(0x333)][0x0]===_0x1067d8(0x360)){console['error']('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),Ft[_0xd0cb56[_0x1067d8(0x6b3)]['id']]=_0xd0cb56,this[_0x1067d8(0x35c)](_0xd0cb56,0x0);return;}if(Ft[_0xd0cb56[_0x1067d8(0x6b3)]['id']]&&(console['error']('[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache'),delete Ft[_0xd0cb56[_0x1067d8(0x6b3)]['id']]),_0x1fe794!==_0x1067d8(0x791)||!_0xd0cb56?.[_0x1067d8(0x729)]||_0xd0cb56['message']?.[_0x1067d8(0x401)]||_0xd0cb56[_0x1067d8(0x729)][_0x1067d8(0x472)]||_0xd0cb56[_0x1067d8(0x6b3)]['remoteJid']==='status@broadcast')return;let _0xd38d01=null,_0x5ab3fb=null;try{_0xd38d01=await this[_0x1067d8(0x617)](_0xd0cb56),_0x5ab3fb=_0xd38d01?_0xd38d01[_0x1067d8(0x17d)](','):null;}catch(_0x1d4721){this[_0x1067d8(0x6d5)][_0x1067d8(0x4e7)](this['instanceName']+'\x20('+this[_0x1067d8(0x70d)][_0x1067d8(0x1ef)]+'):\x20'+(_0x1d4721 instanceof Error?_0x1d4721[_0x1067d8(0x729)]:JSON[_0x1067d8(0x454)](_0x1d4721,null,0x2))),_0x5ab3fb=_0x1067d8(0x58c);}this[_0x1067d8(0x5ce)][_0x1067d8(0x804)](_0x1067d8(0x358)),ks[_0x1067d8(0x39f)]['isLong'](_0xd0cb56['messageTimestamp'])&&(_0xd0cb56[_0x1067d8(0x613)]=_0xd0cb56[_0x1067d8(0x613)]?.[_0x1067d8(0x43d)]()),_0xd0cb56['messageTimestamp']&&_0xd0cb56[_0x1067d8(0x613)][_0x1067d8(0x725)]()[_0x1067d8(0x3fe)]<0xd&&(_0xd0cb56[_0x1067d8(0x613)]=_0xd0cb56[_0x1067d8(0x613)]*0x3e8);let _0x514907=_0xd0cb56[_0x1067d8(0x729)],_0x1cf45f=(0x0,w[_0x1067d8(0x51e)])(_0x514907),_0x459d26=(0x0,w['getContentType'])(_0x1cf45f),{messageContent:_0x2e8a0c,message_normalized:_0x37c8cc}=this[_0x1067d8(0x79a)](_0x1cf45f,_0x459d26,_0x5ab3fb);_0x459d26==='protocolMessage'&&_0x2e8a0c?.['editedMessage']&&(_0x459d26=_0x1067d8(0x4f5));let _0x27b27c,_0x25f43f=_0xd0cb56[_0x1067d8(0x6b3)][_0x1067d8(0x4c9)][_0x1067d8(0x59e)](_0x1067d8(0x331));if(_0xd0cb56[_0x1067d8(0x6b3)][_0x1067d8(0x724)])_0x27b27c=this['instance']['profilePictureUrl'];else{let _0x26e142=_0x25f43f?_0xd0cb56[_0x1067d8(0x6b3)]['participant']:_0xd0cb56['key']['remoteJid'];_0x27b27c=(await this[_0x1067d8(0x5bd)](_0x26e142,_0xd0cb56['pushName'],!0x1))[_0x1067d8(0x2fd)][_0x1067d8(0xf0)];}let _0x1defe9={'_id':_0xd0cb56[_0x1067d8(0x6b3)]['id'],'key':_0xd0cb56[_0x1067d8(0x6b3)],'isGroup':_0x25f43f,'profilePictureUrl':_0x27b27c,'pushName':_0xd0cb56[_0x1067d8(0x810)],'message':_0x1cf45f,'messageType':_0x459d26,'message_normalized':{'key':_0xd0cb56['key'],'pushName':_0xd0cb56[_0x1067d8(0x810)],'messageTimestamp':_0xd0cb56[_0x1067d8(0x613)],'source':(0x0,w[_0x1067d8(0x60e)])(_0xd0cb56[_0x1067d8(0x6b3)]['id']),..._0x37c8cc},'messageTimestamp':_0xd0cb56[_0x1067d8(0x613)],'owner':this[_0x1067d8(0x70d)][_0x1067d8(0x1ef)],'source':(0x0,w[_0x1067d8(0x60e)])(_0xd0cb56['key']['id']),'expiration':_0x2e8a0c?.[_0x1067d8(0x56a)]?.[_0x1067d8(0x340)]||0x0};_0x2e8a0c||(this[_0x1067d8(0x6d5)]['error'](_0x1067d8(0x616)),this[_0x1067d8(0x6d5)][_0x1067d8(0x299)](_0x1defe9)),this[_0x1067d8(0x6d5)][_0x1067d8(0x265)](this['instanceName']+'\x20('+this[_0x1067d8(0x70d)]['wuid']+'):\x20'+(_0x1defe9[_0x1067d8(0x6b3)]?.['fromMe']?_0x1067d8(0x1fa):_0x1067d8(0x47d))+'\x20['+_0x1defe9[_0x1067d8(0x6b3)]?.[_0x1067d8(0x4c9)][_0x1067d8(0x517)](_0x1067d8(0x21c),'')+_0x1067d8(0x31f)+_0x1defe9['messageType']+')'),_0x1defe9[_0x1067d8(0x1cd)]?.[_0x1067d8(0x3e8)]&&this[_0x1067d8(0x6d5)]['log'](_0xd0cb56[_0x1067d8(0x6b3)]['id']+':\x20'+_0x1defe9['message_normalized']?.[_0x1067d8(0x3e8)]),await this['repository'][_0x1067d8(0x729)]['insert']([_0x1defe9],this['instance'][_0x1067d8(0x1ef)]),this[_0x1067d8(0x2fb)]('messages.upsert',_0x1defe9),j(this['instanceName'],_0x1067d8(0x6a6),{'message':_0x1defe9}),_0xd0cb56[_0x1067d8(0x6b3)][_0x1067d8(0x4c9)]!=='status@broadcast'&&await this[_0x1067d8(0x4b6)](_0x86ebe1,_0x1defe9,_0x1067d8(0x6f6));}},'messages.update':async(_0xa7d92f,_0x42c636)=>{const _0x2c4e34=_0x3528bd;let _0xc419a={0x0:_0x2c4e34(0x761),0x1:_0x2c4e34(0x485),0x2:_0x2c4e34(0x319),0x3:_0x2c4e34(0x29f),0x4:_0x2c4e34(0x24a),0x5:'PLAYED'};for await(let {key:_0x3de682,update:_0x1ff819}of _0xa7d92f){if(this[_0x2c4e34(0x134)]?.[_0x2c4e34(0x4c4)]&&_0x3de682[_0x2c4e34(0x4c9)][_0x2c4e34(0x34b)](_0x2c4e34(0x331))){this[_0x2c4e34(0x6d5)][_0x2c4e34(0x4e7)](this['instanceName']+'\x20('+this[_0x2c4e34(0x70d)][_0x2c4e34(0x1ef)]+_0x2c4e34(0x508));return;}if(_0x3de682[_0x2c4e34(0x4c9)]!==_0x2c4e34(0x211)){let _0x34190b=Date[_0x2c4e34(0x4e4)](),_0xcccf04;_0x1ff819[_0x2c4e34(0x729)]===null&&_0x1ff819['status']===void 0x0?_0xcccf04=_0x2c4e34(0x614):_0xcccf04=_0xc419a[_0x1ff819['status']];let _0x56f871=_0x3de682[_0x2c4e34(0x4c9)]['replace'](/:\d{1,2}@/g,'@'),_0x20aac8={..._0x3de682,'remoteJid':_0x56f871,'status':_0xcccf04,'datetime':_0x34190b,'owner':this[_0x2c4e34(0x70d)]['wuid']};this[_0x2c4e34(0x2fb)]('messages.update',_0x20aac8),await this['updateMessage'](_0x3de682,_0x20aac8);}}},'labels.association':async({type:_0x5c3e20,association:_0x208261})=>{const _0x59566e=_0x3528bd;if(_0x208261[_0x59566e(0x813)]===_0x59566e(0x7ec)){let _0x2c9ae3,_0xd455d6=0x0;for(;!_0x2c9ae3&&_0xd455d6<this[_0x59566e(0x202)];)_0x2c9ae3=await this[_0x59566e(0x1a2)]['chat'][_0x59566e(0x1be)]({'where':{'_id':_0x208261['chatId']}},this['instance'][_0x59566e(0x1ef)]),_0x2c9ae3||(_0xd455d6++,this[_0x59566e(0x6d5)][_0x59566e(0x353)](this[_0x59566e(0x1fc)]+'\x20('+this[_0x59566e(0x70d)]['wuid']+_0x59566e(0x20b)+_0x208261[_0x59566e(0x422)]+_0x59566e(0x5fd)+this['delayChatLabel_RETRY_DELAY_MS']+'ms\x20(tentativa\x20'+_0xd455d6+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x59566e(0x128)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x2c9ae3){this[_0x59566e(0x6d5)]['error']('Falhou\x20ao\x20encontrar\x20chat\x20'+_0x208261['chatId']+_0x59566e(0x234)+this[_0x59566e(0x202)]+_0x59566e(0x794));return;}switch(_0x5c3e20){case _0x59566e(0x309):console[_0x59566e(0x265)](_0x208261),await this[_0x59566e(0x1a2)]['chat'][_0x59566e(0x393)]({'where':{'_id':_0x208261['chatId']}},{'leadInfo.etiquetas':_0x208261[_0x59566e(0x565)]},this['instance'][_0x59566e(0x1ef)],void 0x0,_0x59566e(0x3cf));break;case _0x59566e(0x67e):console[_0x59566e(0x265)](_0x208261),await this['repository'][_0x59566e(0x142)][_0x59566e(0x393)]({'where':{'_id':_0x208261[_0x59566e(0x422)]}},{'leadInfo.etiquetas':_0x208261[_0x59566e(0x565)]},this[_0x59566e(0x70d)][_0x59566e(0x1ef)],void 0x0,_0x59566e(0x376));break;default:this[_0x59566e(0x6d5)][_0x59566e(0x299)](_0x59566e(0x520)+_0x5c3e20+']');}}},'labels.edit':async _0x561de3=>{const _0x28e580=_0x3528bd;if(!_0x561de3||!_0x561de3['id']){this['logger']['error'](_0x28e580(0x141));return;}if(!_0x561de3[_0x28e580(0x3dd)]){let _0x11b591=[_0x28e580(0x3c6),_0x28e580(0x254),_0x28e580(0xf3),_0x28e580(0x828),'#9ab6c1',_0x28e580(0x3a8),'#fe9dfe',_0x28e580(0x775),_0x28e580(0x2dd),_0x28e580(0x79b),_0x28e580(0x628),_0x28e580(0x822),_0x28e580(0x11d),'#f64847',_0x28e580(0x251),'#83e421',_0x28e580(0x3ef),'#b4ebff',_0x28e580(0x2f3),_0x28e580(0x5c4)],_0x2df8dd;typeof _0x561de3['color']==_0x28e580(0x41f)&&_0x561de3['color']>=0x0&&_0x561de3[_0x28e580(0x4d3)]<_0x11b591[_0x28e580(0x3fe)]?_0x2df8dd=_0x11b591[_0x561de3[_0x28e580(0x4d3)]]:(this[_0x28e580(0x6d5)][_0x28e580(0x299)](_0x28e580(0x45b)+_0x561de3[_0x28e580(0x4d3)]),_0x2df8dd='#000000');let _0x3a605e={'_id':_0x561de3['id'],'colorHex':_0x2df8dd,'color':_0x561de3?.[_0x28e580(0x4d3)],'name':_0x561de3?.['name'],'owner':this[_0x28e580(0x70d)]['wuid']};await this['repository']['label'][_0x28e580(0x393)]({'where':{'_id':_0x561de3['id']}},_0x3a605e,this['instance'][_0x28e580(0x1ef)]),this[_0x28e580(0x6d5)][_0x28e580(0x353)](this['instanceName']+'\x20('+this['instance'][_0x28e580(0x1ef)]+'):\x20Rótulo\x20atualizado:\x20'+_0x561de3);}_0x561de3['deleted']&&(await this[_0x28e580(0x1a2)]['label'][_0x28e580(0x404)]({'where':{'_id':_0x561de3['id']}},this[_0x28e580(0x70d)]['wuid']),this[_0x28e580(0x6d5)][_0x28e580(0x353)]('Rótulo\x20deletado:\x27,\x20'+_0x561de3['id']));}},this['groupHandler']={'groups.upsert':async _0x3f7260=>{const _0x592594=_0x3528bd;this[_0x592594(0x134)]?.[_0x592594(0x4c4)]||this[_0x592594(0x2fb)]('groups.upsert',_0x3f7260);for(let _0x3136ed of _0x3f7260)await this[_0x592594(0x42d)](_0x3136ed);},'groups.update':async _0xf76b08=>{const _0x538e15=_0x3528bd;this[_0x538e15(0x134)]?.[_0x538e15(0x4c4)]||this[_0x538e15(0x2fb)](_0x538e15(0x5cd),_0xf76b08);for(let _0x544733 of _0xf76b08)await this['updateGroupWebhook'](_0x544733);},'group-participants.update':async _0x21eaaf=>{const _0x286f16=_0x3528bd;this['localWebhook']?.[_0x286f16(0x4c4)]||this[_0x286f16(0x2fb)]('group-participants.update',_0x21eaaf),await this['updateGroupParticipantsWebhook'](_0x21eaaf);}},this[_0x3528bd(0x202)]=0x5,this[_0x3528bd(0x537)]=0x1388,this[_0x3528bd(0x617)]=async _0x5b5ea7=>{const _0x3a59ae=_0x3528bd;if(_0x5b5ea7[_0x3a59ae(0x729)]?.['pollUpdateMessage']){let _0x29fc37=await this[_0x3a59ae(0x79e)](_0x5b5ea7[_0x3a59ae(0x729)][_0x3a59ae(0x560)]['pollCreationMessageKey'],!0x0);if(_0x29fc37){let _0xc17605=_0x29fc37[_0x3a59ae(0x6b3)]['fromMe']?this[_0x3a59ae(0x70d)][_0x3a59ae(0x1ef)]+_0x3a59ae(0x21c):_0x29fc37[_0x3a59ae(0x6b3)][_0x3a59ae(0x261)]||_0x29fc37[_0x3a59ae(0x6b3)][_0x3a59ae(0x4c9)],_0x3b0421=_0x29fc37['key']['id'],_0x17f6c1=_0x29fc37[_0x3a59ae(0x729)],_0x3c15ab=Buffer[_0x3a59ae(0x3a6)](_0x17f6c1[_0x3a59ae(0x78a)][_0x3a59ae(0x175)][_0x3a59ae(0x725)](_0x3a59ae(0x2a8)),_0x3a59ae(0x2a8)),_0x40f21b=(0x0,w[_0x3a59ae(0x14f)])(_0x5b5ea7['message']['pollUpdateMessage'][_0x3a59ae(0x400)],{'pollCreatorJid':_0xc17605,'pollMsgId':_0x3b0421,'pollEncKey':_0x3c15ab,'voterJid':_0x5b5ea7[_0x3a59ae(0x6b3)][_0x3a59ae(0x724)]?this[_0x3a59ae(0x70d)]['wuid']+_0x3a59ae(0x21c):_0x5b5ea7['key'][_0x3a59ae(0x4c9)]['endsWith'](_0x3a59ae(0x82d))?_0x5b5ea7['key'][_0x3a59ae(0x261)]:_0x5b5ea7['key'][_0x3a59ae(0x4c9)]}),_0x32c8d5=[],_0x2ed1bf=_0x40f21b['selectedOptions'][_0x3a59ae(0x285)](_0x53357d=>Buffer[_0x3a59ae(0x3a6)](_0x53357d)['toString'](_0x3a59ae(0x2a8)));for(let {optionName:_0xcf95bf}of _0x17f6c1['pollCreationMessage']?.[_0x3a59ae(0x6bc)]||_0x17f6c1['pollCreationMessageV3']?.[_0x3a59ae(0x6bc)]||_0x17f6c1['pollCreationMessageV2']?.[_0x3a59ae(0x6bc)])_0x2ed1bf[_0x3a59ae(0x561)]((0x0,w[_0x3a59ae(0x271)])(Buffer['from'](_0xcf95bf))[_0x3a59ae(0x725)](_0x3a59ae(0x2a8)))>-0x1&&_0x32c8d5[_0x3a59ae(0x46f)](_0xcf95bf);return _0x32c8d5;}}return null;},this[_0x3528bd(0x79a)]=(_0x378985,_0x2e9800,_0x24995e)=>{const _0x3bd5a0=_0x3528bd;try{let _0xcb4a=_0x378985?(0x0,w[_0x3bd5a0(0xfe)])(_0x378985)[_0x2e9800]:void 0x0,_0x2e77af={},_0x1aafa8=null,_0x1b9662=null,_0x4dae4a=null;_0x2e9800===_0x3bd5a0(0x401)&&_0xcb4a?.['editedMessage']&&(_0x2e9800=(0x0,w[_0x3bd5a0(0x706)])(_0xcb4a['editedMessage']),_0x1aafa8=_0x378985[_0x3bd5a0(0x401)][_0x3bd5a0(0x6b3)]['id'],_0xcb4a=_0x378985[_0x3bd5a0(0x401)]['editedMessage'][_0x2e9800]),_0x378985[_0x2e9800]?.[_0x3bd5a0(0x56a)]?.[_0x3bd5a0(0x75e)]&&_0x378985[_0x2e9800]?.[_0x3bd5a0(0x56a)]?.['quotedMessage']&&(_0x1b9662=_0x378985[_0x2e9800][_0x3bd5a0(0x56a)][_0x3bd5a0(0x75e)]),_0x378985[_0x3bd5a0(0x7e1)]&&(_0x4dae4a=_0x378985[_0x3bd5a0(0x7e1)][_0x3bd5a0(0x6b3)]['id']);let _0x3b9e62;if(_0xcb4a&&typeof _0xcb4a==_0x3bd5a0(0x23d)&&_0x3bd5a0(0x23b)in _0xcb4a&&({pollCreationMessageKey:_0x3b9e62}=_0xcb4a),_0x2e9800===_0x3bd5a0(0x6b9)||_0x2e9800===_0x3bd5a0(0x153)||_0x2e9800==='pollCreationMessageV3'){let _0x572466=_0xcb4a[_0x3bd5a0(0x6bc)]['map'](_0x20b126=>_0x20b126['optionName'])[_0x3bd5a0(0x17d)]('|');_0x2e77af[_0x3bd5a0(0x4f6)]=_0x572466;}let _0x21e85c='';if(_0xcb4a&&(_0x21e85c+=_0xcb4a['name']?_0xcb4a[_0x3bd5a0(0x587)]:'',_0x21e85c+=_0xcb4a[_0x3bd5a0(0x762)]?'\x20'+_0xcb4a[_0x3bd5a0(0x762)]:'',_0x21e85c+=_0xcb4a[_0x3bd5a0(0x65b)]?'\x20'+_0xcb4a['conversation']:'',_0x21e85c+=_0xcb4a['displayName']?'\x20'+_0xcb4a[_0x3bd5a0(0x154)]:''),_0x2e9800==='listMessage'){_0x21e85c=(_0xcb4a[_0x3bd5a0(0x2bd)]||'')+'\x0a'+(_0xcb4a[_0x3bd5a0(0x2bc)]||'')+'\x0a'+(_0xcb4a[_0x3bd5a0(0x640)]||'');let _0x4289e8=this[_0x3bd5a0(0x7db)](_0xcb4a['sections']);_0x2e77af[_0x3bd5a0(0x4f6)]=_0x4289e8;}if(_0x2e9800===_0x3bd5a0(0x679)&&(_0x24995e=_0xcb4a[_0x3bd5a0(0x2bd)]),_0xcb4a&&_0xcb4a['vcard']){let _0x4cff4e=this['formatVCard'](JSON[_0x3bd5a0(0x454)](_0xcb4a[_0x3bd5a0(0x127)],null,0x2));_0x21e85c=_0x21e85c+'\x0a'+_0x4cff4e;}if(_0xcb4a){let {sections:_0xcb0fed,listType:_0x28e343,displayName:_0x3ea190,vcard:_0x437ba8,contactVcard:_0x5b5f89,name:_0x20b92d,caption:_0x59e51a,conversation:_0xb5436a,pollCreationMessageKey:_0x4d9c8c,footerText:_0x407e63,contentText:_0x45f819,pageCount:_0x48dda6,headerType:_0x44fdec,isAvatar:_0x57e22f,isAnimated:_0x48b576,fallbackLc:_0x302d73,fallbackLg:_0x4528b7,namespace:_0x4b5809,elementName:_0x163d6c,localizableParams:_0xf57a68,viewOnce:_0x2ffb93,height:_0x2119c2,width:_0x581e4b,key:_0x26fac3,firstScanLength:_0x1d2e3d,firstScanSidecar:_0x59a427,gifPlayback:_0x1094c5,gifAttribution:_0x8d4913,midQualityFileSha256:_0x1f2314,scansSidecar:_0xb6b920,streamingSidecar:_0x260ad1,thumbnailHeight:_0x4cb22c,thumbnailWidth:_0x5419dc,thumbnailEncSha256:_0x2d7609,thumbnailDirectPath:_0x162352,canonicalUrl:_0x383c96,matchedText:_0x13bd6f,previewType:_0x39dec8,thumbnailSha256:_0x42c48f,deviceListMetadataVersion:_0x44796c,inviteLinkGroupTypeV2:_0x1f52e3,interactiveAnnotations:_0x18a820,scanLengths:_0x52f546,jpegThumbnail:_0x12d494,url:_0x134126,mediaKeyTimestamp:_0xc6e72f,waveform:_0x4a89e5,stickerSentTs:_0x28e61f,firstFrameLength:_0x11232b,fileEncSha256:_0x1730c5,contextInfo:_0x84afdb,firstFrameSidecar:_0x4dc98f,directPath:_0x1decd9,fileSha256:_0x209c2f,mediaKey:_0x1e3a72,senderTimestampMs:_0x2a5ab0,..._0x2c6d1b}=_0xcb4a;(_0x2e9800==='listMessage'||_0x2e9800===_0x3bd5a0(0x679))&&(delete _0x2c6d1b[_0x3bd5a0(0x2bd)],delete _0x2c6d1b[_0x3bd5a0(0x2bc)]),typeof _0xcb4a==_0x3bd5a0(0x30b)?_0x2e77af={'text':_0xcb4a,'type':_0x2e9800||'conversation',..._0x1aafa8&&{'edited':_0x1aafa8},..._0x1b9662&&{'quoted':_0x1b9662},..._0x4dae4a&&{'reaction':_0x4dae4a}}:_0x2e77af={'text':_0x21e85c,..._0x2c6d1b,..._0x2e9800==='pollUpdateMessage'?{'poll_id':_0xcb4a['pollCreationMessageKey']['id'],'quoted':_0xcb4a[_0x3bd5a0(0x23b)]['id'],'vote':_0x24995e}:{},..._0x2e9800===_0x3bd5a0(0x679)?{'vote':_0x24995e}:{},'type':_0x2e9800,..._0x1aafa8&&{'edited':_0x1aafa8},..._0x1b9662&&{'quoted':_0x1b9662},..._0x4dae4a&&{'reaction':_0x4dae4a},...(_0x2e9800===_0x3bd5a0(0x6b9)||_0x2e9800===_0x3bd5a0(0x153)||_0x2e9800===_0x3bd5a0(0x667)||_0x2e9800===_0x3bd5a0(0x765))&&{'convertedOptions':_0x2e77af[_0x3bd5a0(0x4f6)]}};}return{'messageType':_0x2e9800,'messageContent':_0xcb4a,'message_normalized':_0x2e77af};}catch(_0x44583e){return this['logger'][_0x3bd5a0(0x299)](_0x3bd5a0(0x1f8)+_0x44583e),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x3528bd(0x327)](),this[_0x3528bd(0x70d)][_0x3528bd(0x7bb)]={'count':0x0},this['instance'][_0x3528bd(0x349)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x1eb7af(0x1fc)](_0x6c9194){const _0x5ee7ec=a0_0x1eb7af;if(!_0x6c9194){this['instance']['name']=(0x0,Ao['v4'])();return;}this[_0x5ee7ec(0x70d)][_0x5ee7ec(0x587)]=_0x6c9194,this[_0x5ee7ec(0x2fb)](_0x5ee7ec(0x4c2),{'instance':this[_0x5ee7ec(0x70d)][_0x5ee7ec(0x587)],'status':'created'});}get[a0_0x1eb7af(0x1fc)](){const _0x151a22=a0_0x1eb7af;return this[_0x151a22(0x70d)][_0x151a22(0x587)];}get[a0_0x1eb7af(0x1ef)](){const _0x66a220=a0_0x1eb7af;return this[_0x66a220(0x70d)]['wuid'];}async[a0_0x1eb7af(0x82b)](){const _0x4c15f1=a0_0x1eb7af;let _0x3cfdb6=this[_0x4c15f1(0x5ce)][_0x4c15f1(0x620)]?.[_0x4c15f1(0x587)]??this['client'][_0x4c15f1(0x620)]?.[_0x4c15f1(0x78e)];if(!_0x3cfdb6){if(this['configService'][_0x4c15f1(0x14e)](_0x4c15f1(0x754))[_0x4c15f1(0x412)]){let _0x53d8da=await R['getClient']()['db'](this[_0x4c15f1(0x768)][_0x4c15f1(0x14e)](_0x4c15f1(0x754))[_0x4c15f1(0x66d)]['DB_PREFIX_NAME']+_0x4c15f1(0x6d4))['collection'](this['instanceName'])['findOne']({'_id':'creds'});if(_0x53d8da){let _0x1fc611=JSON['parse'](JSON[_0x4c15f1(0x454)](_0x53d8da),w[_0x4c15f1(0x73f)][_0x4c15f1(0x81a)]);_0x3cfdb6=_0x1fc611['me']?.[_0x4c15f1(0x587)]||_0x1fc611['me']?.['verifiedName'];}}else{if((0x0,Pe['existsSync'])((0x0,U[_0x4c15f1(0x17d)])(be,this[_0x4c15f1(0x1fc)],_0x4c15f1(0x151)))){let _0x12e4d6=JSON[_0x4c15f1(0x164)]((0x0,Pe[_0x4c15f1(0x734)])((0x0,U[_0x4c15f1(0x17d)])(be,this[_0x4c15f1(0x1fc)],_0x4c15f1(0x151)),{'encoding':_0x4c15f1(0x293)}));_0x3cfdb6=_0x12e4d6['me']?.[_0x4c15f1(0x587)]||_0x12e4d6['me']?.[_0x4c15f1(0x78e)];}}}return _0x3cfdb6;}get[a0_0x1eb7af(0x677)](){const _0x544922=a0_0x1eb7af;return this[_0x544922(0x70d)][_0x544922(0x677)];}get[a0_0x1eb7af(0x2b0)](){const _0x428806=a0_0x1eb7af;return this['instance']['qrcode']?.[_0x428806(0x6bb)]?{'pairingCode':this[_0x428806(0x70d)][_0x428806(0x7bb)]?.[_0x428806(0x6bb)]}:{'code':this[_0x428806(0x70d)][_0x428806(0x7bb)]?.[_0x428806(0x22e)],'base64':this[_0x428806(0x70d)]['qrcode']?.['base64']};}async['loadWebhook'](){const _0x1900c2=a0_0x1eb7af;let _0x15e095=await this[_0x1900c2(0x1a2)][_0x1900c2(0x717)][_0x1900c2(0x7a9)](this['instanceName']);this[_0x1900c2(0x134)]['url']=_0x15e095?.[_0x1900c2(0x3d8)],this[_0x1900c2(0x134)][_0x1900c2(0x68d)]=_0x15e095?.[_0x1900c2(0x68d)],this['localWebhook']['local_map']=_0x15e095?.[_0x1900c2(0x38a)],this[_0x1900c2(0x134)][_0x1900c2(0x75a)]=_0x15e095?.[_0x1900c2(0x75a)],this[_0x1900c2(0x134)][_0x1900c2(0x466)]=_0x15e095?.[_0x1900c2(0x466)],this[_0x1900c2(0x134)]['SEND_MESSAGE']=_0x15e095?.['SEND_MESSAGE'],this['localWebhook'][_0x1900c2(0x6f6)]=_0x15e095?.[_0x1900c2(0x6f6)],this['localWebhook']['MESSAGES_UPDATE']=_0x15e095?.[_0x1900c2(0x116)],this[_0x1900c2(0x134)][_0x1900c2(0x32b)]=_0x15e095?.['GROUPS_UPSERT'],this[_0x1900c2(0x134)][_0x1900c2(0x533)]=_0x15e095?.['GROUPS_UPDATE'],this[_0x1900c2(0x134)]['GROUP_PARTICIPANTS_UPDATE']=_0x15e095?.[_0x1900c2(0x3f6)],this[_0x1900c2(0x134)][_0x1900c2(0x77e)]=_0x15e095?.[_0x1900c2(0x77e)],this[_0x1900c2(0x134)][_0x1900c2(0x5e9)]=_0x15e095?.[_0x1900c2(0x5e9)],this[_0x1900c2(0x134)]['CHATS_UPDATE']=_0x15e095?.['CHATS_UPDATE'],this[_0x1900c2(0x134)][_0x1900c2(0x2be)]=_0x15e095?.[_0x1900c2(0x2be)],this[_0x1900c2(0x134)][_0x1900c2(0x3e0)]=_0x15e095?.[_0x1900c2(0x3e0)],this[_0x1900c2(0x134)][_0x1900c2(0x391)]=_0x15e095?.['CONTACTS_UPSERT'],this[_0x1900c2(0x134)][_0x1900c2(0x591)]=_0x15e095?.[_0x1900c2(0x591)],this[_0x1900c2(0x134)][_0x1900c2(0x727)]=_0x15e095?.[_0x1900c2(0x727)],this[_0x1900c2(0x134)][_0x1900c2(0x6e7)]=_0x15e095?.[_0x1900c2(0x6e7)],this[_0x1900c2(0x134)]['CONNECTION_UPDATE']=_0x15e095?.[_0x1900c2(0x4bb)],this[_0x1900c2(0x134)][_0x1900c2(0x4c4)]=_0x15e095?.['groups_ignore'];}async[a0_0x1eb7af(0x6aa)](_0x3e733c){const _0x370e1e=a0_0x1eb7af;let _0x3d7954=[_0x370e1e(0x710),_0x370e1e(0x3d8),_0x370e1e(0x68d),'local_map',_0x370e1e(0x75a),_0x370e1e(0x466),_0x370e1e(0x116),'MESSAGES_UPSERT',_0x370e1e(0x117),_0x370e1e(0x32b),_0x370e1e(0x533),_0x370e1e(0x3f6),_0x370e1e(0x77e),_0x370e1e(0x5e9),'CHATS_UPDATE','CHATS_DELETE',_0x370e1e(0x3e0),_0x370e1e(0x391),_0x370e1e(0x591),_0x370e1e(0x727),'MESSAGES_SET',_0x370e1e(0x4bb),_0x370e1e(0x4c4)],_0x837c91={};return _0x3d7954[_0x370e1e(0x7d3)](_0x3f89e1=>{_0x3e733c[_0x3f89e1]!==void 0x0&&(_0x837c91[_0x3f89e1]=_0x3e733c[_0x3f89e1]);}),_0x837c91['url']&&(_0x837c91[_0x370e1e(0x3d8)]=_0x837c91[_0x370e1e(0x3d8)]['trim']()),await this[_0x370e1e(0x1a2)]['webhook'][_0x370e1e(0xff)](_0x837c91,this['instanceName']),Object[_0x370e1e(0x69f)](this[_0x370e1e(0x134)],_0x837c91),await this[_0x370e1e(0x1a2)][_0x370e1e(0x717)][_0x370e1e(0x7a9)](this['instanceName']);}async[a0_0x1eb7af(0x61a)](){const _0x17082e=a0_0x1eb7af;return await this[_0x17082e(0x1a2)][_0x17082e(0x717)][_0x17082e(0x7a9)](this[_0x17082e(0x1fc)]);}async['sendDataWebhook'](_0x3b283b,_0xc71ce9){const _0x3e41d5=a0_0x1eb7af;let _0x38b2ee=_0x3b283b[_0x3e41d5(0x517)](/[\.-]/gm,'_')[_0x3e41d5(0x210)](),_0x2cc31b=this[_0x3e41d5(0x134)]['enabled']&&(0x0,k[_0x3e41d5(0x693)])(this[_0x3e41d5(0x134)][_0x3e41d5(0x3d8)])?this[_0x3e41d5(0x134)][_0x3e41d5(0x3d8)]+(this['localWebhook']['local_map']?this[_0x3e41d5(0x53c)][_0x3b283b]:''):null,_0x347f9e=this[_0x3e41d5(0x134)][_0x38b2ee],_0x471343=ue&&ue[_0x3e41d5(0x68d)]&&(0x0,k['isURL'])(ue['url'])?ue[_0x3e41d5(0x3d8)]+(ue[_0x3e41d5(0x38a)]?this[_0x3e41d5(0x53c)][_0x3b283b]:''):null,_0x494b9d=ue?ue[_0x38b2ee]:null;if(_0x347f9e&&_0x2cc31b)try{await Z[_0x3e41d5(0x39f)][_0x3e41d5(0xff)]({'baseURL':_0x2cc31b})[_0x3e41d5(0x4f7)]('',{'event':_0x3b283b,'instance':this[_0x3e41d5(0x70d)]['name'],'apikey':this[_0x3e41d5(0x70d)]['apikey'],'data':_0xc71ce9}),this['logger'][_0x3e41d5(0x265)](this[_0x3e41d5(0x1fc)]+'\x20('+this['instance'][_0x3e41d5(0x1ef)]+_0x3e41d5(0x2ac)+_0x3b283b+':\x20'+_0x2cc31b);}catch{this[_0x3e41d5(0x6d5)][_0x3e41d5(0x299)](this[_0x3e41d5(0x1fc)]+'\x20('+this[_0x3e41d5(0x70d)][_0x3e41d5(0x1ef)]+_0x3e41d5(0x680)+_0x3b283b+':\x20'+_0x2cc31b);}if(_0x494b9d&&_0x471343)try{await Z[_0x3e41d5(0x39f)]['create']({'baseURL':_0x471343})['post']('',{'event':_0x3b283b,'instance':this[_0x3e41d5(0x70d)][_0x3e41d5(0x587)],'apikey':this[_0x3e41d5(0x70d)][_0x3e41d5(0x17b)],'data':_0xc71ce9}),this[_0x3e41d5(0x6d5)][_0x3e41d5(0x265)](this[_0x3e41d5(0x1fc)]+'\x20('+this['instance'][_0x3e41d5(0x1ef)]+_0x3e41d5(0x4d6)+_0x3b283b+':\x20'+_0x471343);}catch{this['logger'][_0x3e41d5(0x299)](this[_0x3e41d5(0x1fc)]+'\x20('+this[_0x3e41d5(0x70d)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x3b283b+':\x20'+_0x471343);}}async[a0_0x1eb7af(0x7dd)]({qr:_0x3651d6,connection:_0xc88fc0,lastDisconnect:_0x5ce9c4}){const _0x5158b1=a0_0x1eb7af;if(_0x3651d6){if(this[_0x5158b1(0x70d)][_0x5158b1(0x7bb)]['count']===Di)return this[_0x5158b1(0x2fb)]('qrcode.updated',{'message':_0x5158b1(0x4d4),'statusCode':w[_0x5158b1(0x32e)][_0x5158b1(0x686)]}),this[_0x5158b1(0x208)]={'state':_0x5158b1(0x755),'statusReason':w[_0x5158b1(0x32e)]['connectionClosed']},this['sendDataWebhook'](_0x5158b1(0x42f),{'instance':this[_0x5158b1(0x70d)][_0x5158b1(0x587)],...this['stateConnection']}),this['sendDataWebhook'](_0x5158b1(0x4c2),{'instance':this[_0x5158b1(0x70d)]['name'],'status':'removed'}),this[_0x5158b1(0x1a2)][_0x5158b1(0x108)][_0x5158b1(0x404)](this[_0x5158b1(0x70d)][_0x5158b1(0x587)]),this[_0x5158b1(0x5f9)]=!0x0,De[_0x5158b1(0x1d7)](oe,this[_0x5158b1(0x70d)]['name']),this[_0x5158b1(0x6a2)][_0x5158b1(0x149)](_0x5158b1(0x7be),this[_0x5158b1(0x70d)][_0x5158b1(0x587)]);this[_0x5158b1(0x70d)]['qrcode'][_0x5158b1(0x3d2)]++;let _0x4d129d={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x5158b1(0x655),'dark':_0x5158b1(0x670)}};To[_0x5158b1(0x39f)]['toDataURL'](_0x3651d6,_0x4d129d,(_0x1d0f3e,_0xb695cb)=>{const _0xc74d25=_0x5158b1;if(_0x1d0f3e){this[_0xc74d25(0x6d5)][_0xc74d25(0x299)](this[_0xc74d25(0x1fc)]+'\x20('+this[_0xc74d25(0x70d)][_0xc74d25(0x1ef)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x1d0f3e instanceof Error?_0x1d0f3e[_0xc74d25(0x729)]:JSON['stringify'](_0x1d0f3e,null,0x2)));return;}this[_0xc74d25(0x70d)][_0xc74d25(0x7bb)]['base64']=_0xb695cb,this[_0xc74d25(0x70d)]['qrcode'][_0xc74d25(0x22e)]=_0x3651d6,!this[_0xc74d25(0x4be)]&&this[_0xc74d25(0x2fb)]('qrcode.updated',{'qrcode':{'instance':this[_0xc74d25(0x70d)][_0xc74d25(0x587)],'pairingCode':this['instance']['qrcode']['pairingCode'],'code':_0x3651d6,'base64':_0xb695cb}});}),this['phoneNumber']?this[_0x5158b1(0x70d)]['qrcode'][_0x5158b1(0x6bb)]||(await(0x0,w[_0x5158b1(0x30a)])(0x7d0),this[_0x5158b1(0x70d)]['qrcode']['pairingCode']=await this[_0x5158b1(0x5ce)][_0x5158b1(0x1c7)](this[_0x5158b1(0x4be)])):this[_0x5158b1(0x70d)][_0x5158b1(0x7bb)][_0x5158b1(0x6bb)]=null,Io[_0x5158b1(0x39f)]['generate'](_0x3651d6,{'small':!0x0},_0x38cead=>this['logger'][_0x5158b1(0x265)](_0x5158b1(0x7fa)+this[_0x5158b1(0x70d)][_0x5158b1(0x587)]+_0x5158b1(0x650)+this[_0x5158b1(0x70d)]['qrcode'][_0x5158b1(0x3d2)]+_0x5158b1(0x7ef)+this[_0x5158b1(0x70d)][_0x5158b1(0x7bb)][_0x5158b1(0x6bb)]+_0x5158b1(0x1d5)+_0x38cead));}if(_0xc88fc0&&(this[_0x5158b1(0x208)]={'state':_0xc88fc0,'statusReason':_0x5ce9c4?.['error']?.[_0x5158b1(0x463)]?.[_0x5158b1(0x3fb)]??0xc8},this[_0x5158b1(0x2fb)](_0x5158b1(0x42f),{'instance':this['instance'][_0x5158b1(0x587)],...this['stateConnection']})),_0xc88fc0===_0x5158b1(0x575)){if(this[_0x5158b1(0x403)]++,this[_0x5158b1(0x312)][_0x5158b1(0x46f)](Date[_0x5158b1(0x4e4)]()),this[_0x5158b1(0x312)]=this[_0x5158b1(0x312)]['filter'](_0x1923bf=>Date[_0x5158b1(0x4e4)]()-_0x1923bf<this[_0x5158b1(0x480)]),_0x5ce9c4['error']?.[_0x5158b1(0x463)]?.[_0x5158b1(0x3fb)]!==w[_0x5158b1(0x32e)]['loggedOut']){let _0x2b0dab=Math[_0x5158b1(0x6b1)](Math[_0x5158b1(0x28c)](0x2,this['reconnectAttempts'])*0x3e8,0x493e0);console[_0x5158b1(0x265)](this[_0x5158b1(0x1fc)]+_0x5158b1(0x4a2)+this[_0x5158b1(0x403)]+_0x5158b1(0x121)+_0x2b0dab/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x1ad6a9=>setTimeout(_0x1ad6a9,_0x2b0dab)),console['log'](_0x5158b1(0x578)),await this['connectToWhatsapp']();}else{this[_0x5158b1(0x2fb)](_0x5158b1(0x4c2),{'instance':this['instance'][_0x5158b1(0x587)],'status':_0x5158b1(0x7d5)}),this[_0x5158b1(0x70d)]['ScheduleMessage'][_0x5158b1(0x547)]=!0x1,this['repository'][_0x5158b1(0x717)][_0x5158b1(0x404)](this[_0x5158b1(0x1fc)]),this['repository'][_0x5158b1(0x108)][_0x5158b1(0xff)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x5158b1(0x4e4)]()},this['instance'][_0x5158b1(0x587)]),De[_0x5158b1(0x1d7)](oe,this[_0x5158b1(0x70d)][_0x5158b1(0x587)]);try{this[_0x5158b1(0x6d5)][_0x5158b1(0x4e7)](this['instanceName']+'\x20('+this[_0x5158b1(0x70d)][_0x5158b1(0x1ef)]+_0x5158b1(0x726));let _0x425f92=await this['repository'][_0x5158b1(0x729)]['deleteAll'](this[_0x5158b1(0x70d)][_0x5158b1(0x1ef)]);_0x425f92[_0x5158b1(0x540)]?this['logger'][_0x5158b1(0x4e7)](this[_0x5158b1(0x1fc)]+'\x20('+this['instance'][_0x5158b1(0x1ef)]+_0x5158b1(0x38d)):this[_0x5158b1(0x6d5)][_0x5158b1(0x299)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0x425f92['error']);}catch(_0x5309d5){this[_0x5158b1(0x6d5)]['error'](_0x5158b1(0x351)+_0x5309d5[_0x5158b1(0x729)]);}this[_0x5158b1(0x70d)][_0x5158b1(0x349)]['delayMessage']!==null&&(this[_0x5158b1(0x6d5)][_0x5158b1(0x4e7)](this[_0x5158b1(0x1fc)]+'\x20('+this[_0x5158b1(0x70d)][_0x5158b1(0x1ef)]+_0x5158b1(0x705)),clearInterval(this[_0x5158b1(0x70d)]['ScheduleMessage'][_0x5158b1(0x26d)]),this[_0x5158b1(0x70d)][_0x5158b1(0x349)][_0x5158b1(0x26d)]=null),this['logger'][_0x5158b1(0x4e7)](this[_0x5158b1(0x1fc)]+'\x20('+this[_0x5158b1(0x70d)][_0x5158b1(0x1ef)]+_0x5158b1(0x3aa)),this['AutomateSystem']=null,this[_0x5158b1(0x6a2)][_0x5158b1(0x149)](_0x5158b1(0x1c5),this[_0x5158b1(0x70d)][_0x5158b1(0x587)],_0x5158b1(0x146)),this['client']?.['ws']?.[_0x5158b1(0x575)](),this[_0x5158b1(0x5ce)][_0x5158b1(0x277)](new Error(_0x5158b1(0x7a1)));}}if(_0xc88fc0===_0x5158b1(0x183)){try{this['client']['ev'][_0x5158b1(0x652)]();}catch(_0x128af6){this[_0x5158b1(0x6d5)]['error'](_0x128af6);}this[_0x5158b1(0x3ea)],this[_0x5158b1(0x70d)]['wuid']=this['client'][_0x5158b1(0x620)]['id'][_0x5158b1(0x517)](/:\d+/,'')[_0x5158b1(0x517)](_0x5158b1(0x21c),''),this[_0x5158b1(0x70d)][_0x5158b1(0x677)]=(await this[_0x5158b1(0x7d7)](this[_0x5158b1(0x70d)]['wuid']+_0x5158b1(0x21c)))[_0x5158b1(0x677)],this[_0x5158b1(0x1a2)][_0x5158b1(0x108)][_0x5158b1(0xff)]({'online':!0x0,'owner':this[_0x5158b1(0x70d)][_0x5158b1(0x1ef)],'lastDisconnect':null},this[_0x5158b1(0x70d)][_0x5158b1(0x587)]);let _0x5d014b='Número:\x20'+this[_0x5158b1(0x70d)][_0x5158b1(0x1ef)],_0x541c92=0x28,_0x4c5265=Math[_0x5158b1(0x608)]((_0x541c92-_0x5d014b['length'])/0x2),_0x24430e='\x20'[_0x5158b1(0x15e)](_0x4c5265),_0x325b6c='CONECTADO\x20À\x20UAZAPI',_0x393497=_0x5158b1(0x16e)+this['instance'][_0x5158b1(0x587)],_0x5b63b4=(''+_0x24430e+_0x5d014b+_0x24430e)[_0x5158b1(0x2ed)](_0x541c92,'\x20'),_0x39545c=(''+_0x24430e+_0x325b6c+_0x24430e)[_0x5158b1(0x2ed)](_0x541c92,'\x20'),_0x1fd5f6=(''+_0x24430e+_0x393497+_0x24430e)[_0x5158b1(0x2ed)](_0x541c92,'\x20'),_0x516792=Math[_0x5158b1(0x4ba)](_0x5b63b4['length'],_0x39545c['length'],_0x1fd5f6[_0x5158b1(0x3fe)]),_0x3eb8be=_0x5b63b4[_0x5158b1(0x2ed)](_0x516792,'\x20'),_0x1d1485=_0x39545c['padEnd'](_0x516792,'\x20'),_0x1d45d7=_0x1fd5f6[_0x5158b1(0x2ed)](_0x516792,'\x20');this[_0x5158b1(0x6d5)][_0x5158b1(0x353)]((_0x5158b1(0x5e0)+'─'[_0x5158b1(0x15e)](_0x516792)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x1d1485+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x1d45d7+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x3eb8be+_0x5158b1(0x263)+'─'['repeat'](_0x516792)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x5158b1(0x7c0)](),this[_0x5158b1(0x70d)][_0x5158b1(0x349)]['isConnected']=!0x0;}}[a0_0x1eb7af(0x3ea)](){const _0x47b7a7=a0_0x1eb7af;this['reconnectAttempts']=0x0,this[_0x47b7a7(0x312)]=[];}async['getMessage'](_0x2221b6,_0x288f96=!0x1){const _0x279f56=a0_0x1eb7af;try{let _0x33a3c1=await this['repository'][_0x279f56(0x729)]['find']({'where':{'_id':_0x2221b6['id']}},this[_0x279f56(0x70d)]['wuid']);return _0x288f96?_0x33a3c1[0x0]:_0x33a3c1[0x0][_0x279f56(0x729)];}catch{return{'conversation':''};}}[a0_0x1eb7af(0x327)](){const _0x210332=a0_0x1eb7af;let _0x169e3b=this[_0x210332(0x768)]['get']('STORE'),_0x96e257=this[_0x210332(0x768)][_0x210332(0x14e)](_0x210332(0x754));_0x169e3b?.[_0x210332(0x62d)]&&!_0x96e257[_0x210332(0x412)]&&setInterval(()=>{const _0xb1de66=_0x210332;try{for(let [_0x3f7887,_0x37098f]of Object['entries'](_0x169e3b))_0x37098f===!0x0&&(0x0,ke[_0xb1de66(0x1e2)])(_0xb1de66(0x2b9)+(0x0,U[_0xb1de66(0x17d)])(this[_0xb1de66(0x22a)],_0x3f7887[_0xb1de66(0x799)](),this[_0xb1de66(0x70d)][_0xb1de66(0x1ef)])+'/*.json');}catch{}},(_0x169e3b?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x1eb7af(0x4b2)](){const _0x522ea4=a0_0x1eb7af;let _0x495522=this[_0x522ea4(0x768)][_0x522ea4(0x14e)]('DATABASE'),_0x3e3734=this['configService'][_0x522ea4(0x14e)](_0x522ea4(0x5f7));return _0x3e3734?.[_0x522ea4(0x412)]?await _s(_0x3e3734,this[_0x522ea4(0x70d)][_0x522ea4(0x587)]):_0x495522['ENABLED']?await Os(this['instance'][_0x522ea4(0x587)]):await(0x0,w[_0x522ea4(0x325)])((0x0,U[_0x522ea4(0x17d)])(be,this['instance'][_0x522ea4(0x587)]));}async[a0_0x1eb7af(0x7c0)](){const _0x270d9d=a0_0x1eb7af;let _0x28d90c=()=>Math[_0x270d9d(0x608)](Math[_0x270d9d(0x1a6)]()*0x4e21)+0x7d0,_0x29da0f=async()=>{const _0x125ebf=_0x270d9d;if(!this['instance'][_0x125ebf(0x349)][_0x125ebf(0x547)]){this[_0x125ebf(0x6d5)][_0x125ebf(0x4e7)](this[_0x125ebf(0x1fc)]+'\x20('+this[_0x125ebf(0x70d)][_0x125ebf(0x1ef)]+_0x125ebf(0x2b7)),this[_0x125ebf(0x7f0)]=!0x1;return;}if(this[_0x125ebf(0x70d)][_0x125ebf(0x1ef)]&&this[_0x125ebf(0x3bb)]&&this['instance'][_0x125ebf(0x349)]['delayMessage']!==null&&this['instance']['ScheduleMessage'][_0x125ebf(0x26d)]!==void 0x0){let _0x45d89a=Math[_0x125ebf(0x816)](this[_0x125ebf(0x70d)][_0x125ebf(0x349)][_0x125ebf(0x26d)]/0xea60);this[_0x125ebf(0x6d5)][_0x125ebf(0x4e7)](this[_0x125ebf(0x1fc)]+'\x20('+this[_0x125ebf(0x70d)][_0x125ebf(0x1ef)]+_0x125ebf(0x80b)+_0x45d89a+_0x125ebf(0xf1)),this[_0x125ebf(0x7f0)]=!0x1;return;}else this['instance'][_0x125ebf(0x1ef)]&&(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x125ebf(0x1ef)]+_0x125ebf(0x3eb)),this['AutomateSystem']||(await this[_0x125ebf(0x245)](),this[_0x125ebf(0x13c)](),this[_0x125ebf(0x310)]()),(this[_0x125ebf(0x70d)][_0x125ebf(0x349)][_0x125ebf(0x26d)]===null||this[_0x125ebf(0x70d)][_0x125ebf(0x349)][_0x125ebf(0x26d)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x125ebf(0x7f0)]){let _0x57c4b6=_0x28d90c();this[_0x125ebf(0x6d5)][_0x125ebf(0x4e7)](this[_0x125ebf(0x1fc)]+_0x125ebf(0x7b9)+_0x57c4b6/0x3e8+_0x125ebf(0x267)),setTimeout(_0x29da0f,_0x57c4b6);}};if(this[_0x270d9d(0x7f0)])return;this[_0x270d9d(0x7f0)]=!0x0;let _0x2811d3=_0x28d90c();setTimeout(_0x29da0f,_0x2811d3);}async['synchronizeAndMapFlows'](){const _0x49ed62=a0_0x1eb7af;let _0x4d1625=this[_0x49ed62(0x70d)][_0x49ed62(0x1ef)];try{let _0x3c8b9f=await this['repository']['flow'][_0x49ed62(0x5fc)]({'where':{'$or':[{'owner':_0x4d1625},{'whoCanUse':{'$in':[_0x4d1625]}},{'shareOwners':{'$in':[_0x4d1625]}}]}}),_0x397af9=await this['repository']['flow'][_0x49ed62(0x5fc)]({'where':{'$or':[{'owner':_0x49ed62(0x66f)},{'whoCanUse':{'$in':['global']}},{'shareOwners':{'$in':[_0x49ed62(0x66f)]}}]}});_0x397af9&&_0x397af9[_0x49ed62(0x3fe)]>0x0?this[_0x49ed62(0x6d5)][_0x49ed62(0x4e7)](this[_0x49ed62(0x1fc)]+'\x20('+this['instance'][_0x49ed62(0x1ef)]+'):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.'):(await this[_0x49ed62(0x1a2)]['flow'][_0x49ed62(0x5f2)](_0x49ed62(0x66f)),this[_0x49ed62(0x6d5)][_0x49ed62(0x4e7)](this[_0x49ed62(0x1fc)]+'\x20('+this[_0x49ed62(0x70d)][_0x49ed62(0x1ef)]+_0x49ed62(0x5c1))),_0x3c8b9f&&_0x3c8b9f[_0x49ed62(0x3fe)]>0x0?this[_0x49ed62(0x6d5)][_0x49ed62(0x4e7)](this['instanceName']+'\x20('+this[_0x49ed62(0x70d)][_0x49ed62(0x1ef)]+_0x49ed62(0x119)+_0x4d1625+_0x49ed62(0x4b3)):(await this[_0x49ed62(0x1a2)][_0x49ed62(0x779)][_0x49ed62(0x5f2)](_0x4d1625),this[_0x49ed62(0x6d5)][_0x49ed62(0x4e7)](this['instanceName']+'\x20('+this['instance'][_0x49ed62(0x1ef)]+_0x49ed62(0x119)+_0x4d1625+'\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.'),_0x3c8b9f=await this['repository'][_0x49ed62(0x779)][_0x49ed62(0x5fc)]({'where':{'$or':[{'owner':_0x4d1625},{'whoCanUse':{'$in':[_0x4d1625]}},{'shareOwners':{'$in':[_0x4d1625]}}]}}));let _0x5b00fe=new Map(this[_0x49ed62(0x3bb)][_0x49ed62(0x551)][_0x49ed62(0x285)](_0x35bbbe=>[_0x35bbbe[_0x49ed62(0x710)],_0x35bbbe])),_0x72e49d=_0x3c8b9f['map'](_0x484eec=>{const _0x17aaec=_0x49ed62;let _0x57cb09=_0x5b00fe['get'](_0x484eec[_0x17aaec(0x710)]?.[_0x17aaec(0x725)]());return{'_id':_0x484eec['_id']?.['toString'](),'name':_0x57cb09?.['name']??_0x484eec['name'],'default':_0x57cb09?.[_0x17aaec(0x39f)]??_0x484eec['default']??!0x1,'startCommand':_0x57cb09?.[_0x17aaec(0x155)]??_0x484eec[_0x17aaec(0x812)],'minutesToClose':_0x57cb09?.['minutesToClose']??_0x484eec[_0x17aaec(0x501)]??0xa,'readMessages':_0x57cb09?.['readMessages']??_0x484eec[_0x17aaec(0x318)]??!0x1,'testingWith':_0x57cb09?.[_0x17aaec(0x43c)]??_0x484eec[_0x17aaec(0x43c)],'canEdit':_0x484eec[_0x17aaec(0x337)]===_0x4d1625||(_0x484eec[_0x17aaec(0x6de)]??[])['includes'](_0x4d1625),'usersCount':(_0x484eec[_0x17aaec(0x4df)]??[])[_0x17aaec(0x3fe)]??0x0};}),_0x252e31=!0x1;_0x72e49d['forEach'](_0x1c62f4=>{const _0x2d98d9=_0x49ed62;_0x1c62f4[_0x2d98d9(0x39f)]&&(_0x252e31?_0x1c62f4[_0x2d98d9(0x39f)]=!0x1:_0x252e31=!0x0);}),this['AutomateSystem'][_0x49ed62(0x551)]=_0x72e49d;let _0x21f706={'flows':_0x72e49d};return await this[_0x49ed62(0x1a2)][_0x49ed62(0x430)][_0x49ed62(0x7f1)](_0x21f706,_0x4d1625),this[_0x49ed62(0x6d5)][_0x49ed62(0x4e7)](this[_0x49ed62(0x1fc)]+'\x20('+_0x4d1625+_0x49ed62(0x632)),_0x72e49d[_0x49ed62(0x3fe)];}catch(_0x292693){return this['logger'][_0x49ed62(0x299)](this[_0x49ed62(0x1fc)]+'\x20('+_0x4d1625+_0x49ed62(0x709)+(_0x292693 instanceof Error?_0x292693['message']:JSON[_0x49ed62(0x454)](_0x292693,null,0x2))),{'message':'Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20'+(_0x292693 instanceof Error?_0x292693['message']:JSON[_0x49ed62(0x454)](_0x292693,null,0x2))};}}async[a0_0x1eb7af(0x5b9)](_0x1b49ad){const _0x5e5844=a0_0x1eb7af;try{this[_0x5e5844(0x5af)](),this[_0x5e5844(0x70d)][_0x5e5844(0x17b)]=(await this[_0x5e5844(0x1a2)][_0x5e5844(0x108)][_0x5e5844(0x7a9)](this[_0x5e5844(0x70d)][_0x5e5844(0x587)]))['apikey'],this[_0x5e5844(0x70d)][_0x5e5844(0x3e7)]=await this[_0x5e5844(0x4b2)]();let {version:_0x2ef57b}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x183e0a=[Oo,Fs,(0x0,Ps[_0x5e5844(0x301)])()],_0x107bf2={'auth':{'creds':this[_0x5e5844(0x70d)][_0x5e5844(0x3e7)]['state'][_0x5e5844(0x76b)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this['instance'][_0x5e5844(0x3e7)][_0x5e5844(0x42c)][_0x5e5844(0x81b)],(0x0,Ut[_0x5e5844(0x39f)])({'level':_0x5e5844(0x299)}))},'logger':(0x0,Ut['default'])({'level':_0x5e5844(0x299)}),'printQRInTerminal':!0x1,'browser':_0x1b49ad?[_0x5e5844(0x1f0),Fs,(0x0,Ps[_0x5e5844(0x301)])()]:_0x183e0a,'version':_0x2ef57b,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x3da47a=>{const _0x2dc965=_0x5e5844;let _0x208b81=_0x3da47a[_0x2dc965(0x59e)]('@newsletter'),_0x88bcd6=this[_0x2dc965(0x134)]?.[_0x2dc965(0x4c4)]&&_0x3da47a[_0x2dc965(0x59e)](_0x2dc965(0x331));return _0x208b81||(0x0,w[_0x2dc965(0x825)])(_0x3da47a)||_0x88bcd6;},'msgRetryCounterCache':this[_0x5e5844(0x436)],'getMessage':async _0x53d68a=>await this[_0x5e5844(0x79e)](_0x53d68a),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x5e5844(0x162)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x1afad1=>(_0x1afad1[_0x5e5844(0x765)]?.['listType']==w['proto']['Message'][_0x5e5844(0x6f2)][_0x5e5844(0x6cc)][_0x5e5844(0x5e4)]&&(_0x1afad1=JSON[_0x5e5844(0x164)](JSON[_0x5e5844(0x454)](_0x1afad1)),_0x1afad1[_0x5e5844(0x765)]['listType']=w['proto'][_0x5e5844(0x447)]['ListMessage'][_0x5e5844(0x6cc)][_0x5e5844(0x5cc)]),_0x1afad1)};return this['endSession']=!0x1,this[_0x5e5844(0x5ce)]=(0x0,w['default'])(_0x107bf2),this[_0x5e5844(0x143)](),this['phoneNumber']=_0x1b49ad,this[_0x5e5844(0x5ce)];}catch(_0x3d1ce9){let _0x4575d5=_0x5e5844(0x239),_0x1ebb0c=_0x3d1ce9 instanceof Error?_0x3d1ce9['message']:typeof _0x3d1ce9==_0x5e5844(0x23d)?JSON[_0x5e5844(0x454)](_0x3d1ce9):_0x3d1ce9,_0x1341a3=_0x4575d5+':\x20'+_0x1ebb0c;throw this[_0x5e5844(0x6d5)][_0x5e5844(0x299)](this[_0x5e5844(0x1fc)]+'\x20('+this['instance'][_0x5e5844(0x1ef)]+_0x5e5844(0x538)+_0x1341a3),new _(_0x1341a3);}}[a0_0x1eb7af(0x143)](){const _0x44e491=a0_0x1eb7af;this[_0x44e491(0x5ce)]['ev'][_0x44e491(0x32c)](_0x1e5c95=>{const _0x524e07=_0x44e491;if(!this[_0x524e07(0x5f9)]){let _0x7e89c2=this['configService'][_0x524e07(0x14e)](_0x524e07(0x754));if(_0x1e5c95[_0x524e07(0x4e0)]){let _0x17cd08=_0x1e5c95[_0x524e07(0x4e0)];this[_0x524e07(0x6ed)][_0x524e07(0x4e0)](_0x17cd08);}if(_0x1e5c95[_0x524e07(0x7d4)]){let _0x57b632=_0x1e5c95[_0x524e07(0x7d4)];this['messageHandle'][_0x524e07(0x7d4)](_0x57b632);}if(_0x1e5c95[_0x524e07(0x42f)]&&this[_0x524e07(0x7dd)](_0x1e5c95[_0x524e07(0x42f)]),_0x1e5c95[_0x524e07(0x229)]&&this[_0x524e07(0x70d)][_0x524e07(0x3e7)][_0x524e07(0x2c4)](),_0x1e5c95['messaging-history.set']){let _0x4db6c9=_0x1e5c95['messaging-history.set'];this[_0x524e07(0x6ed)][_0x524e07(0x34a)](_0x4db6c9,_0x7e89c2);}if(_0x1e5c95[_0x524e07(0x740)]){let _0x38341a=_0x1e5c95['messages.upsert'];this[_0x524e07(0x6ed)][_0x524e07(0x740)](_0x38341a,_0x7e89c2);}if(_0x1e5c95[_0x524e07(0x1ec)]){let _0x5c5792=_0x1e5c95[_0x524e07(0x1ec)];this[_0x524e07(0x6ed)][_0x524e07(0x1ec)](_0x5c5792,_0x7e89c2);}if(_0x1e5c95[_0x524e07(0x651)]){let _0xcb87f7=_0x1e5c95[_0x524e07(0x651)];if(this[_0x524e07(0x134)]?.[_0x524e07(0x4c4)]&&_0xcb87f7['id'][_0x524e07(0x34b)]('@g.us'))return;this[_0x524e07(0x2fb)]('presence.update',_0xcb87f7);}if(_0x1e5c95[_0x524e07(0x73b)]){let _0x357878=_0x1e5c95[_0x524e07(0x73b)];this[_0x524e07(0x246)][_0x524e07(0x73b)](_0x357878);}if(_0x1e5c95[_0x524e07(0x5cd)]){let _0x2a9e85=_0x1e5c95[_0x524e07(0x5cd)];this[_0x524e07(0x246)][_0x524e07(0x5cd)](_0x2a9e85);}if(_0x1e5c95[_0x524e07(0x233)]){let _0x32699d=_0x1e5c95[_0x524e07(0x233)];this[_0x524e07(0x246)][_0x524e07(0x233)](_0x32699d);}if(_0x1e5c95[_0x524e07(0x586)]){let _0x3c758f=_0x1e5c95[_0x524e07(0x586)];this[_0x524e07(0x2ca)][_0x524e07(0x586)](_0x3c758f,_0x7e89c2);}if(_0x1e5c95[_0x524e07(0x3b0)]){let _0x4384db=_0x1e5c95[_0x524e07(0x3b0)];this[_0x524e07(0x2ca)][_0x524e07(0x3b0)](_0x4384db,_0x7e89c2);}if(_0x1e5c95[_0x524e07(0x4f9)]){let _0xc34b00=_0x1e5c95[_0x524e07(0x4f9)];this[_0x524e07(0x2ca)]['chats.delete'](_0xc34b00);}if(_0x1e5c95[_0x524e07(0x36d)]){let _0x2565f8=_0x1e5c95[_0x524e07(0x36d)];this[_0x524e07(0x2a0)]['contacts.upsert'](_0x2565f8,_0x7e89c2);}if(_0x1e5c95[_0x524e07(0x522)]){let _0x1c87ef=_0x1e5c95[_0x524e07(0x522)];this[_0x524e07(0x2a0)][_0x524e07(0x522)](_0x1c87ef,_0x7e89c2);}}});}async['retrySendMessage'](_0x106c36,_0x392f59){const _0x3489c2=a0_0x1eb7af;if(_0x392f59>=0xa){console[_0x3489c2(0x299)](this[_0x3489c2(0x1fc)]+'\x20('+this[_0x3489c2(0x70d)][_0x3489c2(0x1ef)]+'):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar'),delete Ft[_0x106c36['key']['id']];return;}try{console[_0x3489c2(0x299)](this[_0x3489c2(0x1fc)]+'\x20('+this[_0x3489c2(0x70d)][_0x3489c2(0x1ef)]+_0x3489c2(0x260)+(_0x392f59+0x1)),await this[_0x3489c2(0x5ce)][_0x3489c2(0x531)](JSON[_0x3489c2(0x164)](_0x106c36[_0x3489c2(0x333)][0x1],w[_0x3489c2(0x73f)][_0x3489c2(0x81a)])),console[_0x3489c2(0x299)](_0x3489c2(0x702));}catch(_0x19ac45){console[_0x3489c2(0x299)](this[_0x3489c2(0x1fc)]+'\x20('+this[_0x3489c2(0x70d)]['wuid']+_0x3489c2(0x2b8)+_0x19ac45),setTimeout(()=>this[_0x3489c2(0x35c)](_0x106c36,_0x392f59+0x1),Math[_0x3489c2(0x28c)](0x2,_0x392f59)*0x3e8);}}[a0_0x1eb7af(0x128)](_0x138717){return new Promise(_0x2e0c65=>setTimeout(_0x2e0c65,_0x138717));}['formatBRNumber'](_0x2f73b3){const _0x58eac9=a0_0x1eb7af;_0x2f73b3=_0x2f73b3[_0x58eac9(0x517)](/\D/g,'');let _0x421462=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x58eac9(0x6a4)](_0x2f73b3);if(_0x421462&&_0x421462[0x1]==='55'){let _0x303678=_0x421462[0x2],_0x3a042b=_0x421462[0x3],_0xe742a2=_0x421462[0x4];if(parseInt(_0x303678)>=0x1f&&_0x3a042b==='9')return _0x421462[0x1]+_0x303678+_0xe742a2;}return _0x2f73b3;}[a0_0x1eb7af(0x279)](_0x23b45b){const _0x2d3da1=a0_0x1eb7af;return _0x23b45b['includes'](_0x2d3da1(0x331))||_0x23b45b[_0x2d3da1(0x34b)](_0x2d3da1(0x21c))||_0x23b45b['includes'](_0x2d3da1(0x7e9))?_0x23b45b:(_0x23b45b=_0x23b45b?.['replace'](/\s/g,'')[_0x2d3da1(0x517)](/\+/g,'')['replace'](/\(/g,'')[_0x2d3da1(0x517)](/\)/g,'')[_0x2d3da1(0x17f)](/\:/)[0x0][_0x2d3da1(0x17f)]('@')[0x0],_0x23b45b[_0x2d3da1(0x3fe)]>=0x12?(_0x23b45b=_0x23b45b['replace'](/[^\d-]/g,''),_0x23b45b+'@g.us'):(_0x23b45b=_0x23b45b[_0x2d3da1(0x517)](/\D/g,''),_0x23b45b+_0x2d3da1(0x21c)));}async['updatePresence'](_0x3400d6){const _0xdce117=a0_0x1eb7af;let _0x435671=(await this['whatsappNumber']({'numbers':[_0x3400d6['number']]}))[0x0];if(!_0x435671[_0xdce117(0x54d)]&&!(0x0,w[_0xdce117(0x7c4)])(_0x435671[_0xdce117(0x687)])&&!_0x435671[_0xdce117(0x687)][_0xdce117(0x34b)](_0xdce117(0x7e9)))throw new m(_0x435671);let _0x38a6d1=_0x435671[_0xdce117(0x687)];try{return await this[_0xdce117(0x5ce)][_0xdce117(0x264)](_0x38a6d1),await this[_0xdce117(0x5ce)][_0xdce117(0x804)](_0x3400d6[_0xdce117(0x75f)],_0x38a6d1),{'status':0xc8,'presence':_0x3400d6['presence']};}catch(_0x6c96ed){let _0x3c2a91=_0xdce117(0x453),_0x18a499=_0x6c96ed instanceof Error?_0x6c96ed[_0xdce117(0x729)]:typeof _0x6c96ed==_0xdce117(0x23d)?JSON['stringify'](_0x6c96ed):_0x6c96ed,_0x294d5b=_0x3c2a91+':\x20'+_0x18a499;throw this[_0xdce117(0x6d5)][_0xdce117(0x299)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xdce117(0x538)+_0x294d5b),new m(_0x294d5b);}}async[a0_0x1eb7af(0x5bd)](_0x1be3d7,_0x2561b2,_0x593f4a,_0x4ad516=!0x0){const _0x4c850f=a0_0x1eb7af;let _0x17f37f=await this[_0x4c850f(0x1a2)][_0x4c850f(0x13b)]['findOne']({'where':{'_id':_0x1be3d7}});if(!_0x17f37f&&!_0x4ad516)return;let _0x46f906={'lastUpdate':Date[_0x4c850f(0x4e4)]()};if(_0x593f4a||!_0x17f37f?.[_0x4c850f(0x51d)]||Date[_0x4c850f(0x4e4)]()-_0x17f37f['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x40afe3=(await this[_0x4c850f(0x7d7)](_0x1be3d7))[_0x4c850f(0x677)];_0x46f906[_0x4c850f(0xf0)]=_0x40afe3;}catch(_0x4111ba){let _0x134ffc='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x27d8d7=_0x4111ba instanceof Error?_0x4111ba[_0x4c850f(0x729)]:typeof _0x4111ba==_0x4c850f(0x23d)?JSON[_0x4c850f(0x454)](_0x4111ba):_0x4111ba,_0x9fe1ce=_0x134ffc+':\x20'+_0x27d8d7;throw this[_0x4c850f(0x6d5)][_0x4c850f(0x299)](this['instanceName']+'\x20('+this[_0x4c850f(0x70d)]['wuid']+_0x4c850f(0x538)+_0x9fe1ce),new m(_0x9fe1ce);}return _0x2561b2&&_0x17f37f?.[_0x4c850f(0x587)]!==_0x2561b2&&(_0x46f906[_0x4c850f(0x587)]=_0x2561b2),Object[_0x4c850f(0x81b)](_0x46f906)[_0x4c850f(0x3fe)]>0x1&&(_0x17f37f?await this['repository']['cacheContact'][_0x4c850f(0x7f1)]({'where':{'_id':_0x1be3d7}},_0x46f906):await this[_0x4c850f(0x1a2)][_0x4c850f(0x13b)][_0x4c850f(0x1f7)]([{'_id':_0x1be3d7,..._0x46f906}]),_0x17f37f={..._0x17f37f,..._0x46f906}),{'cachedContact':_0x17f37f};}async[a0_0x1eb7af(0x7d7)](_0x6cd7ea){const _0x196f15=a0_0x1eb7af;let _0x2f6a12=this['createJid'](_0x6cd7ea);try{return{'wuid':_0x2f6a12,'profilePictureUrl':await this['client'][_0x196f15(0x677)](_0x2f6a12,_0x196f15(0x111))};}catch{return{'wuid':_0x2f6a12,'profilePictureUrl':null};}}async[a0_0x1eb7af(0x2a7)](_0x4cc289,_0x11eef6,_0x1f6023){const _0x562497=a0_0x1eb7af;let _0x32b442;try{let _0x12817c=(await this[_0x562497(0x2f7)]({'numbers':[_0x4cc289]}))[0x0];if(!_0x12817c[_0x562497(0x54d)]&&!(0x0,w[_0x562497(0x7c4)])(_0x12817c['jid'])&&!_0x12817c['jid']['includes'](_0x562497(0x7e9)))throw new m(_0x12817c);_0x32b442=_0x12817c['jid'];}catch(_0x5e3e7a){_0x32b442=_0x4cc289,this[_0x562497(0x6d5)][_0x562497(0x6e3)](this[_0x562497(0x1fc)]+'\x20('+this[_0x562497(0x70d)]['wuid']+_0x562497(0x253)+_0x5e3e7a['message']),this[_0x562497(0x6d5)]['warn'](this[_0x562497(0x1fc)]+'\x20('+this[_0x562497(0x70d)][_0x562497(0x1ef)]+_0x562497(0x782)+_0x32b442);}try{if(_0x32b442||(_0x32b442=_0x4cc289,this[_0x562497(0x6d5)]['warn'](this[_0x562497(0x1fc)]+'\x20('+this[_0x562497(0x70d)][_0x562497(0x1ef)]+_0x562497(0x530)+_0x32b442)),_0x1f6023||(_0x1f6023={}),_0x1f6023?.[_0x562497(0x30a)]){await this[_0x562497(0x5ce)][_0x562497(0x264)](_0x32b442),await this[_0x562497(0x5ce)][_0x562497(0x804)](_0x1f6023?.['presence']??'composing',_0x32b442);let _0xee20df=Math[_0x562497(0x6b1)](_0x1f6023['delay'],0x2710);await(0x0,w[_0x562497(0x30a)])(_0xee20df),await this[_0x562497(0x5ce)]['sendPresenceUpdate'](_0x562497(0x3bf),_0x32b442);}let _0x373327=_0x1f6023?.[_0x562497(0x334)]!=!0x1?void 0x0:!0x1,_0x3f694e;if(_0x1f6023?.[_0x562497(0x745)]){let _0x4a8fc5=_0x1f6023?.['quoted'],_0xdff8ae=_0x4a8fc5?.[_0x562497(0x729)]?_0x4a8fc5:await this[_0x562497(0x79e)](_0x4a8fc5[_0x562497(0x6b3)],!0x0);if(!_0xdff8ae)throw _0x562497(0x7ae);_0x3f694e=_0xdff8ae;}let _0x2252ea;if((0x0,w[_0x562497(0x7c4)])(_0x32b442))try{let _0x276694=(await this[_0x562497(0x1a2)][_0x562497(0x142)][_0x562497(0x1be)]({'where':{'_id':_0x32b442}},this[_0x562497(0x70d)][_0x562497(0x1ef)]))['groupdata'];if(!_0x276694)throw new J(_0x562497(0x642));_0x1f6023?.['mentions']&&(_0x1f6023[_0x562497(0x75d)]?.[_0x562497(0x2b5)]?_0x2252ea=_0x276694[_0x562497(0x58d)][_0x562497(0x285)](_0x718367=>_0x718367['id']):_0x1f6023[_0x562497(0x75d)]?.[_0x562497(0x118)]?.[_0x562497(0x3fe)]&&(_0x2252ea=_0x1f6023[_0x562497(0x75d)][_0x562497(0x118)][_0x562497(0x285)](_0x553da6=>{const _0x5e0bbd=_0x562497;let _0x406b9c=this[_0x5e0bbd(0x279)](_0x553da6);return(0x0,w[_0x5e0bbd(0x7c4)])(_0x406b9c)?null:_0x406b9c;})));}catch{throw new J('Group\x20not\x20found');}let _0x511ec7=await this[_0x562497(0x1a2)][_0x562497(0x142)][_0x562497(0x1be)]({'where':{'_id':_0x32b442}},this[_0x562497(0x70d)][_0x562497(0x1ef)]),_0x18ce48=await((async()=>{const _0x2b03e5=_0x562497;let _0x50a03a={'quoted':_0x3f694e,'ephemeralExpiration':_0x511ec7?.['ephemeralExpiration']??0x0};if(!_0x11eef6[_0x2b03e5(0x52e)]&&!_0x11eef6[_0x2b03e5(0x2ee)]&&!_0x11eef6[_0x2b03e5(0x5ef)]&&!_0x11eef6[_0x2b03e5(0x65b)]&&_0x32b442!=='status@broadcast'&&!_0x11eef6[_0x2b03e5(0x52e)])return await this['client'][_0x2b03e5(0x784)](_0x32b442,{'forward':{'key':{'remoteJid':this[_0x2b03e5(0x70d)][_0x2b03e5(0x1ef)],'fromMe':!0x0},'message':_0x11eef6},'mentions':_0x2252ea},_0x50a03a);if(_0x11eef6[_0x2b03e5(0x7e1)])return await this[_0x2b03e5(0x5ce)][_0x2b03e5(0x784)](_0x32b442,{'react':{'text':_0x11eef6[_0x2b03e5(0x7e1)][_0x2b03e5(0x3e8)],'key':_0x11eef6[_0x2b03e5(0x7e1)]['key']}},_0x50a03a);if(_0x11eef6['conversation']){let _0x2b0810=_0x11eef6[_0x2b03e5(0x65b)];return _0x1f6023?.[_0x2b03e5(0x363)]&&(_0x2b0810=await this[_0x2b03e5(0x715)](_0x2b0810,_0x32b442)),await this[_0x2b03e5(0x5ce)][_0x2b03e5(0x784)](_0x32b442,{'text':_0x2b0810,'mentions':_0x2252ea,'linkPreview':_0x373327},_0x50a03a);}return _0x32b442===_0x2b03e5(0x211)?await this[_0x2b03e5(0x5ce)][_0x2b03e5(0x784)](_0x32b442,_0x11eef6['status']['content'],{'backgroundColor':_0x11eef6[_0x2b03e5(0x771)][_0x2b03e5(0x600)][_0x2b03e5(0x63c)],'font':_0x11eef6['status'][_0x2b03e5(0x600)][_0x2b03e5(0x80a)],'statusJidList':_0x11eef6[_0x2b03e5(0x771)]['option'][_0x2b03e5(0x2d4)]}):await this['client']['sendMessage'](_0x32b442,_0x11eef6,_0x50a03a);})()),_0x5dd3a8=(0x0,w[_0x562497(0x51e)])(_0x18ce48['message']),_0x4d9956=(0x0,w[_0x562497(0x706)])(_0x5dd3a8),{message_normalized:_0x9b6cd0}=this[_0x562497(0x79a)](_0x5dd3a8,_0x4d9956,null),_0x1054b8={'_id':_0x18ce48[_0x562497(0x6b3)]['id'],'key':_0x18ce48[_0x562497(0x6b3)],'pushName':_0x18ce48['pushName'],'isGroup':_0x18ce48[_0x562497(0x6b3)][_0x562497(0x4c9)][_0x562497(0x59e)](_0x562497(0x331)),'profilePictureUrl':this[_0x562497(0x70d)]['profilePictureUrl'],'message':_0x5dd3a8,'messageType':_0x4d9956,'message_normalized':{'key':_0x18ce48[_0x562497(0x6b3)],'pushName':_0x18ce48[_0x562497(0x810)],'messageTimestamp':_0x18ce48[_0x562497(0x613)]&&_0x18ce48[_0x562497(0x613)][_0x562497(0x725)]()[_0x562497(0x3fe)]<0xd?_0x18ce48['messageTimestamp']*0x3e8:_0x18ce48['messageTimestamp']||null,'source':(0x0,w[_0x562497(0x60e)])(_0x18ce48[_0x562497(0x6b3)]['id']),..._0x9b6cd0},'messageTimestamp':_0x18ce48['messageTimestamp']&&_0x18ce48['messageTimestamp']['toString']()['length']<0xd?_0x18ce48[_0x562497(0x613)]*0x3e8:_0x18ce48['messageTimestamp']||null,'owner':this[_0x562497(0x70d)][_0x562497(0x1ef)],'source':(0x0,w[_0x562497(0x60e)])(_0x18ce48[_0x562497(0x6b3)]['id'])};return this[_0x562497(0x6d5)][_0x562497(0x6e3)](this['instanceName']+'\x20('+this[_0x562497(0x70d)][_0x562497(0x1ef)]+_0x562497(0x65f)+_0x1054b8[_0x562497(0x6b3)]?.[_0x562497(0x4c9)]['replace'](_0x562497(0x21c),'')+_0x562497(0x31f)+_0x1054b8[_0x562497(0x7fe)]+')'),_0x1054b8['message_normalized']?.[_0x562497(0x3e8)]&&this[_0x562497(0x6d5)][_0x562497(0x6e3)](_0x1054b8[_0x562497(0x1cd)]?.[_0x562497(0x3e8)]),this[_0x562497(0x2fb)](_0x562497(0x661),_0x1054b8),j(this['instanceName'],_0x562497(0x6a6),{'message':_0x1054b8}),this[_0x562497(0x4b6)](this['configService'][_0x562497(0x14e)](_0x562497(0x754)),_0x1054b8,_0x562497(0x117),_0x511ec7),await this[_0x562497(0x1a2)]['message']['insert']([_0x1054b8],this[_0x562497(0x70d)][_0x562497(0x1ef)]),_0x18ce48;}catch(_0x568dfb){let _0x37c19c='Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20'+_0x32b442,_0x2adbde=_0x568dfb instanceof Error?_0x568dfb[_0x562497(0x729)]:typeof _0x568dfb==_0x562497(0x23d)?JSON[_0x562497(0x454)](_0x568dfb):_0x568dfb,_0xc75cf4=_0x37c19c+':\x20'+_0x2adbde;throw this[_0x562497(0x6d5)][_0x562497(0x299)](this[_0x562497(0x1fc)]+'\x20('+this[_0x562497(0x70d)]['wuid']+_0x562497(0x538)+_0xc75cf4),new m(_0xc75cf4);}}get[a0_0x1eb7af(0x113)](){return this['stateConnection'];}async[a0_0x1eb7af(0x1b3)](_0x1f88d0){const _0xf7437=a0_0x1eb7af;return await this[_0xf7437(0x2a7)](_0x1f88d0['number'],{'conversation':_0x1f88d0[_0xf7437(0x1b3)]['text']},_0x1f88d0?.[_0xf7437(0x6bc)]);}async[a0_0x1eb7af(0x66b)](_0x174309){const _0x503d12=a0_0x1eb7af;if(!_0x174309[_0x503d12(0x813)])throw new m(_0x503d12(0x502));if(!_0x174309[_0x503d12(0x493)])throw new m(_0x503d12(0x2e5));if(_0x174309[_0x503d12(0x3db)]){let _0x23d141=await this[_0x503d12(0x1a2)]['contact'][_0x503d12(0x7a9)]({'where':{}},this[_0x503d12(0x70d)][_0x503d12(0x1ef)]);if(!_0x23d141[_0x503d12(0x3fe)])throw new m(_0x503d12(0x57e));_0x174309[_0x503d12(0x2d4)]=_0x23d141[_0x503d12(0x19b)](_0xe24909=>_0xe24909[_0x503d12(0x810)])[_0x503d12(0x285)](_0x353615=>_0x353615[_0x503d12(0x710)]);}if(!_0x174309['statusJidList']?.[_0x503d12(0x3fe)]&&!_0x174309['allContacts'])throw new m(_0x503d12(0x604));if(_0x174309[_0x503d12(0x813)]===_0x503d12(0x3e8)){if(!_0x174309[_0x503d12(0x63c)])throw new m(_0x503d12(0x34e));if(!_0x174309[_0x503d12(0x80a)])throw new m(_0x503d12(0x55c));return{'content':{'text':_0x174309[_0x503d12(0x493)]},'option':{'backgroundColor':_0x174309[_0x503d12(0x63c)],'font':_0x174309['font'],'statusJidList':_0x174309['statusJidList']}};}if(_0x174309['type']===_0x503d12(0x111))return{'content':{'image':{'url':_0x174309[_0x503d12(0x493)]},'caption':_0x174309['caption']},'option':{'statusJidList':_0x174309[_0x503d12(0x2d4)]}};if(_0x174309[_0x503d12(0x813)]==='video')return{'content':{'video':{'url':_0x174309[_0x503d12(0x493)]},'caption':_0x174309[_0x503d12(0x762)]},'option':{'statusJidList':_0x174309['statusJidList']}};if(_0x174309[_0x503d12(0x813)]===_0x503d12(0x52e)){this['logger'][_0x503d12(0x4e7)](this[_0x503d12(0x1fc)]+'\x20('+this['instance'][_0x503d12(0x1ef)]+_0x503d12(0x735)),this[_0x503d12(0x6d5)][_0x503d12(0x4e7)](this['instanceName']+'\x20('+this[_0x503d12(0x70d)]['wuid']+_0x503d12(0x7ce));let _0x5a5a10=await this[_0x503d12(0x433)](_0x174309[_0x503d12(0x493)]);if(typeof _0x5a5a10==_0x503d12(0x30b)){this[_0x503d12(0x6d5)][_0x503d12(0x4e7)](this[_0x503d12(0x1fc)]+'\x20('+this['instance'][_0x503d12(0x1ef)]+_0x503d12(0x4f2));let _0xd8f513=L['readFileSync'](_0x5a5a10)[_0x503d12(0x725)](_0x503d12(0x800));return{'content':{'audio':Buffer[_0x503d12(0x3a6)](_0xd8f513,_0x503d12(0x800)),'ptt':!0x0,'mimetype':_0x503d12(0x77a)},'option':{'statusJidList':_0x174309[_0x503d12(0x2d4)]}};}else throw new _(_0x5a5a10);}throw new m(_0x503d12(0x4ef));}async['statusMessage'](_0x3a1af0){const _0xd59282=a0_0x1eb7af;return await this['sendMessageWithTyping']('status@broadcast',{'status':await this[_0xd59282(0x66b)](_0x3a1af0[_0xd59282(0x7c2)])});}async[a0_0x1eb7af(0x581)](_0x492aca){const _0x3cfadb=a0_0x1eb7af;try{let _0x48ecf3=await(0x0,w['prepareWAMessageMedia'])({[_0x492aca[_0x3cfadb(0x11e)]]:(0x0,k[_0x3cfadb(0x693)])(_0x492aca[_0x3cfadb(0x1f9)])?{'url':_0x492aca['media']}:Buffer[_0x3cfadb(0x3a6)](_0x492aca[_0x3cfadb(0x1f9)],_0x3cfadb(0x800))},{'upload':this[_0x3cfadb(0x5ce)]['waUploadToServer']}),_0x1c72bc=_0x492aca[_0x3cfadb(0x11e)]+_0x3cfadb(0x447);if(_0x492aca[_0x3cfadb(0x11e)]===_0x3cfadb(0x3af)&&!_0x492aca[_0x3cfadb(0x1de)]){let _0x397997=new RegExp(/.*\/(.+?)\./)['exec'](_0x492aca['media']);_0x492aca[_0x3cfadb(0x1de)]=_0x397997?_0x397997[0x1]:null;}let _0x1f6c2b=(0x0,k[_0x3cfadb(0x693)])(_0x492aca[_0x3cfadb(0x1f9)])?_0x492aca[_0x3cfadb(0x1f9)]['split']('?')[0x0]:_0x492aca[_0x3cfadb(0x1f9)],_0x497f55;return(0x0,k[_0x3cfadb(0x693)])(_0x492aca[_0x3cfadb(0x1f9)])?_0x497f55=(0x0,jt['getMIMEType'])(_0x1f6c2b):_0x492aca['fileName']&&_0x492aca[_0x3cfadb(0x1de)][_0x3cfadb(0x34b)]('.')?_0x497f55=(0x0,jt['getMIMEType'])(_0x492aca[_0x3cfadb(0x1de)]):_0x497f55=(0x0,jt[_0x3cfadb(0x276)])(_0x492aca[_0x3cfadb(0x1f9)]),_0x48ecf3[_0x1c72bc][_0x3cfadb(0x762)]=_0x492aca?.[_0x3cfadb(0x762)],_0x48ecf3[_0x1c72bc][_0x3cfadb(0x209)]=_0x497f55,_0x48ecf3[_0x1c72bc][_0x3cfadb(0x1de)]=_0x492aca[_0x3cfadb(0x1de)],_0x492aca[_0x3cfadb(0x11e)]===_0x3cfadb(0x5c6)&&(_0x48ecf3[_0x1c72bc][_0x3cfadb(0x4bc)]=Uint8Array[_0x3cfadb(0x3a6)]((0x0,Pe[_0x3cfadb(0x734)])((0x0,U[_0x3cfadb(0x17d)])(process[_0x3cfadb(0x57a)](),_0x3cfadb(0x21d)))),_0x48ecf3[_0x1c72bc][_0x3cfadb(0x6ba)]=!0x1),(0x0,w[_0x3cfadb(0x1e7)])('',{[_0x1c72bc]:{..._0x48ecf3[_0x1c72bc]}},{'userJid':this[_0x3cfadb(0x70d)][_0x3cfadb(0x1ef)]});}catch(_0x3e4078){let _0x51e0b9='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage',_0x5bbbdc=_0x3e4078 instanceof Error?_0x3e4078[_0x3cfadb(0x729)]:typeof _0x3e4078=='object'?JSON[_0x3cfadb(0x454)](_0x3e4078):_0x3e4078,_0x49deca=_0x51e0b9+':\x20'+_0x5bbbdc;throw this[_0x3cfadb(0x6d5)][_0x3cfadb(0x299)](this[_0x3cfadb(0x1fc)]+'\x20('+this['instance'][_0x3cfadb(0x1ef)]+_0x3cfadb(0x538)+_0x49deca),new _(_0x49deca);}}async[a0_0x1eb7af(0x40d)](_0x2ade65){const _0x2b3c61=a0_0x1eb7af;let _0x3dfb7e=await this[_0x2b3c61(0x581)](_0x2ade65[_0x2b3c61(0x40d)]);return await this[_0x2b3c61(0x2a7)](_0x2ade65['number'],{..._0x3dfb7e[_0x2b3c61(0x729)]},_0x2ade65?.[_0x2b3c61(0x6bc)]);}async[a0_0x1eb7af(0x380)](_0x142cec,_0x561d35){const _0x4e83b2=a0_0x1eb7af;try{this[_0x4e83b2(0x6d5)][_0x4e83b2(0x4e7)](this[_0x4e83b2(0x1fc)]+'\x20('+this[_0x4e83b2(0x70d)][_0x4e83b2(0x1ef)]+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x316ec4,_0x4dd796=_0x561d35+'-'+new Date()['getTime']();this[_0x4e83b2(0x6d5)]['verbose'](this[_0x4e83b2(0x1fc)]+'\x20('+this[_0x4e83b2(0x70d)][_0x4e83b2(0x1ef)]+_0x4e83b2(0x425)+_0x4dd796);let _0x126f1c=''+(0x0,U[_0x4e83b2(0x17d)])(this['storePath'],_0x4dd796+_0x4e83b2(0x2cf));if(this[_0x4e83b2(0x6d5)][_0x4e83b2(0x4e7)](this[_0x4e83b2(0x1fc)]+'\x20('+this[_0x4e83b2(0x70d)][_0x4e83b2(0x1ef)]+'):Output\x20path:\x20'+_0x126f1c),(0x0,k[_0x4e83b2(0x760)])(_0x142cec)){this[_0x4e83b2(0x6d5)][_0x4e83b2(0x4e7)](this['instanceName']+'\x20('+this[_0x4e83b2(0x70d)][_0x4e83b2(0x1ef)]+'):Image\x20is\x20base64');let _0x141bd4=_0x142cec[_0x4e83b2(0x517)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4844a5=Buffer[_0x4e83b2(0x3a6)](_0x141bd4,_0x4e83b2(0x800));_0x316ec4=''+(0x0,U[_0x4e83b2(0x17d)])(this['storePath'],'temp-'+_0x4dd796+_0x4e83b2(0x53b)),this['logger'][_0x4e83b2(0x4e7)](this[_0x4e83b2(0x1fc)]+'\x20('+this['instance'][_0x4e83b2(0x1ef)]+_0x4e83b2(0x45a)+_0x316ec4),await(0x0,Jt['default'])(_0x4844a5)[_0x4e83b2(0x77c)](_0x316ec4),this['logger']['verbose'](this[_0x4e83b2(0x1fc)]+'\x20('+this[_0x4e83b2(0x70d)][_0x4e83b2(0x1ef)]+_0x4e83b2(0x2ab));}else{this[_0x4e83b2(0x6d5)][_0x4e83b2(0x4e7)](this[_0x4e83b2(0x1fc)]+'\x20('+this[_0x4e83b2(0x70d)][_0x4e83b2(0x1ef)]+_0x4e83b2(0x82a));let _0x13ec91=new Date()[_0x4e83b2(0x5cb)](),_0x10692e=_0x142cec+_0x4e83b2(0x4a5)+_0x13ec91;this[_0x4e83b2(0x6d5)]['verbose'](this[_0x4e83b2(0x1fc)]+'\x20('+this[_0x4e83b2(0x70d)][_0x4e83b2(0x1ef)]+_0x4e83b2(0x6d3)+_0x10692e);let _0x344265=await Z[_0x4e83b2(0x39f)]['get'](_0x10692e,{'responseType':_0x4e83b2(0x444)});this[_0x4e83b2(0x6d5)]['verbose'](this['instanceName']+'\x20('+this[_0x4e83b2(0x70d)][_0x4e83b2(0x1ef)]+_0x4e83b2(0x2f0));let _0x89c8e8=Buffer[_0x4e83b2(0x3a6)](_0x344265[_0x4e83b2(0x4c8)],'binary');_0x316ec4=''+(0x0,U[_0x4e83b2(0x17d)])(this[_0x4e83b2(0x22a)],'temp-'+_0x4dd796+'.png'),this['logger'][_0x4e83b2(0x4e7)](this[_0x4e83b2(0x1fc)]+'\x20('+this[_0x4e83b2(0x70d)][_0x4e83b2(0x1ef)]+_0x4e83b2(0x45a)+_0x316ec4),await(0x0,Jt[_0x4e83b2(0x39f)])(_0x89c8e8)['toFile'](_0x316ec4),this[_0x4e83b2(0x6d5)][_0x4e83b2(0x4e7)](this[_0x4e83b2(0x1fc)]+'\x20('+this[_0x4e83b2(0x70d)]['wuid']+_0x4e83b2(0x2ab));}return await(0x0,Jt[_0x4e83b2(0x39f)])(_0x316ec4)[_0x4e83b2(0x455)]()[_0x4e83b2(0x77c)](_0x126f1c),this[_0x4e83b2(0x6d5)]['verbose'](this['instanceName']+'\x20('+this[_0x4e83b2(0x70d)][_0x4e83b2(0x1ef)]+_0x4e83b2(0x3ec)),L[_0x4e83b2(0x394)](_0x316ec4),this[_0x4e83b2(0x6d5)][_0x4e83b2(0x4e7)](this[_0x4e83b2(0x1fc)]+'\x20('+this[_0x4e83b2(0x70d)][_0x4e83b2(0x1ef)]+_0x4e83b2(0x12b)),_0x126f1c;}catch(_0x243b68){let _0xdbf4e7='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x252c4c=_0x243b68 instanceof Error?_0x243b68[_0x4e83b2(0x729)]:typeof _0x243b68==_0x4e83b2(0x23d)?JSON['stringify'](_0x243b68):_0x243b68,_0x2426d5=_0xdbf4e7+':\x20'+_0x252c4c;this[_0x4e83b2(0x6d5)][_0x4e83b2(0x299)](this[_0x4e83b2(0x1fc)]+'\x20('+this[_0x4e83b2(0x70d)][_0x4e83b2(0x1ef)]+_0x4e83b2(0x538)+_0x2426d5);}}async[a0_0x1eb7af(0x70b)](_0x179675){const _0x1cdfa3=a0_0x1eb7af;let _0x347b4e=await this[_0x1cdfa3(0x380)](_0x179675[_0x1cdfa3(0x6eb)][_0x1cdfa3(0x111)],_0x179675[_0x1cdfa3(0x41f)]),_0x1395ce=await this[_0x1cdfa3(0x2a7)](_0x179675['number'],{'sticker':{'url':_0x347b4e}},_0x179675?.[_0x1cdfa3(0x6bc)]);return L[_0x1cdfa3(0x394)](_0x347b4e),this[_0x1cdfa3(0x6d5)][_0x1cdfa3(0x4e7)](this[_0x1cdfa3(0x1fc)]+'\x20('+this['instance'][_0x1cdfa3(0x1ef)]+_0x1cdfa3(0x53f)),_0x1395ce;}async['audioWhatsapp'](_0x3a34c7){const _0x463a52=a0_0x1eb7af;if(this[_0x463a52(0x6d5)][_0x463a52(0x4e7)](this[_0x463a52(0x1fc)]+'\x20('+this[_0x463a52(0x70d)][_0x463a52(0x1ef)]+_0x463a52(0x515)),!_0x3a34c7[_0x463a52(0x6bc)]?.[_0x463a52(0x7af)]&&_0x3a34c7[_0x463a52(0x6bc)]?.['encoding']!==!0x1&&(_0x3a34c7['options'][_0x463a52(0x7af)]=!0x0),_0x3a34c7[_0x463a52(0x6bc)]?.[_0x463a52(0x7af)]){let _0x113eef=await this['convertaudio'](_0x3a34c7[_0x463a52(0x53a)]['audio']);if(typeof _0x113eef==_0x463a52(0x30b)){let _0x43689c=L[_0x463a52(0x734)](_0x113eef)[_0x463a52(0x725)](_0x463a52(0x800));return this[_0x463a52(0x2a7)](_0x3a34c7[_0x463a52(0x41f)],{'audio':Buffer[_0x463a52(0x3a6)](_0x43689c,_0x463a52(0x800)),'ptt':!0x0,'mimetype':_0x463a52(0x5ca)},{'presence':_0x463a52(0x22d),'delay':_0x3a34c7?.['options']?.[_0x463a52(0x30a)]});}else throw new _(_0x113eef);}return await this[_0x463a52(0x2a7)](_0x3a34c7[_0x463a52(0x41f)],{'audio':(0x0,k[_0x463a52(0x693)])(_0x3a34c7[_0x463a52(0x53a)][_0x463a52(0x52e)])?{'url':_0x3a34c7[_0x463a52(0x53a)][_0x463a52(0x52e)]}:Buffer['from'](_0x3a34c7['audioMessage'][_0x463a52(0x52e)],'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x463a52(0x22d),'delay':_0x3a34c7?.[_0x463a52(0x6bc)]?.[_0x463a52(0x30a)]});}async[a0_0x1eb7af(0x433)](_0x35a929){const _0x541c45=a0_0x1eb7af;this[_0x541c45(0x6d5)][_0x541c45(0x4e7)](this[_0x541c45(0x1fc)]+'\x20('+this[_0x541c45(0x70d)][_0x541c45(0x1ef)]+_0x541c45(0x7ce));let _0x4c0df6=(0x0,k['isURL'])(_0x35a929)?(0x0,qt[_0x541c45(0x364)])(_0x541c45(0x271))['update'](_0x35a929)['digest'](_0x541c45(0x2a8)):(0x0,qt[_0x541c45(0x364)])(_0x541c45(0x271))[_0x541c45(0x7f1)](_0x35a929)['digest'](_0x541c45(0x2a8)),_0x10570c=''+(0x0,U[_0x541c45(0x17d)])(this[_0x541c45(0x22a)],_0x4c0df6+'.ogg');if(L['existsSync'](_0x10570c))return this[_0x541c45(0x6d5)]['verbose'](this[_0x541c45(0x1fc)]+'\x20('+this[_0x541c45(0x70d)][_0x541c45(0x1ef)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x10570c;let _0x2fe243=''+(0x0,U['join'])(this[_0x541c45(0x22a)],_0x541c45(0xe8)+(0x0,me['v4'])()+'.mp3');if((0x0,k[_0x541c45(0x693)])(_0x35a929)){let _0x2e93e0=new Date()['getTime'](),_0x5c0675=_0x35a929+_0x541c45(0x4a5)+_0x2e93e0,_0x5125cd=await Z[_0x541c45(0x39f)][_0x541c45(0x14e)](_0x5c0675,{'responseType':_0x541c45(0x444)});L[_0x541c45(0x259)](_0x2fe243,_0x5125cd['data']);}else{let _0x39f9cf=Buffer[_0x541c45(0x3a6)](_0x35a929,'base64');L[_0x541c45(0x259)](_0x2fe243,_0x39f9cf);}return new Promise((_0x34c54e,_0xb1040e)=>{const _0xd7be21=_0x541c45;(0x0,ke['exec'])(Ds[_0xd7be21(0x39f)][_0xd7be21(0x7f5)]+'\x20-i\x20'+_0x2fe243+_0xd7be21(0x464)+_0x10570c+'\x20-y',_0xfc25b=>{const _0xfad03f=_0xd7be21;if(L[_0xfad03f(0x394)](_0x2fe243),_0xfc25b){this[_0xfad03f(0x6d5)][_0xfad03f(0x4e7)](this[_0xfad03f(0x1fc)]+'\x20('+this[_0xfad03f(0x70d)][_0xfad03f(0x1ef)]+_0xfad03f(0x625)),_0xb1040e(_0xfc25b);return;}this[_0xfad03f(0x6d5)][_0xfad03f(0x4e7)](this['instanceName']+'\x20('+this['instance'][_0xfad03f(0x1ef)]+_0xfad03f(0x373)),_0x34c54e(_0x10570c);});});}async[a0_0x1eb7af(0x6c0)](_0x57afd2){const _0x420a83=a0_0x1eb7af;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x420a83(0x70d)][_0x420a83(0x1ef)]+_0x420a83(0x7ce));let _0x5d2a89=(0x0,qt[_0x420a83(0x364)])(_0x420a83(0x271))[_0x420a83(0x7f1)](_0x57afd2)[_0x420a83(0x441)](_0x420a83(0x2a8)),_0x1d0830=''+(0x0,U[_0x420a83(0x17d)])(this[_0x420a83(0x22a)],_0x5d2a89+_0x420a83(0x7ff));if(L['existsSync'](_0x1d0830))return this[_0x420a83(0x6d5)]['verbose'](this['instanceName']+'\x20('+this[_0x420a83(0x70d)][_0x420a83(0x1ef)]+_0x420a83(0x3b1)),U['default'][_0x420a83(0x2e7)](_0x1d0830);let _0x435d7b=''+(0x0,U[_0x420a83(0x17d)])(this[_0x420a83(0x22a)],_0x420a83(0xe8)+_0x5d2a89+'.ogg');if((0x0,k[_0x420a83(0x693)])(_0x57afd2)){let _0x417ef2=new Date()[_0x420a83(0x5cb)](),_0x315169=_0x57afd2+_0x420a83(0x4a5)+_0x417ef2,_0x4d3aa6=await Z['default'][_0x420a83(0x14e)](_0x315169,{'responseType':'arraybuffer'});L[_0x420a83(0x259)](_0x435d7b,_0x4d3aa6['data']);}else{let _0x29ea14=Buffer[_0x420a83(0x3a6)](_0x57afd2,_0x420a83(0x800));L[_0x420a83(0x259)](_0x435d7b,_0x29ea14);}return new Promise((_0xe6fd35,_0x2ca2e7)=>{const _0xf19b2a=_0x420a83;(0x0,ke[_0xf19b2a(0x6a4)])(Ds[_0xf19b2a(0x39f)][_0xf19b2a(0x7f5)]+_0xf19b2a(0x5c9)+_0x435d7b+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x1d0830+_0xf19b2a(0x68b),_0x20ba6c=>{const _0x4a7a2e=_0xf19b2a;if(L[_0x4a7a2e(0x394)](_0x435d7b),_0x20ba6c){this[_0x4a7a2e(0x6d5)][_0x4a7a2e(0x4e7)](this[_0x4a7a2e(0x1fc)]+'\x20('+this[_0x4a7a2e(0x70d)]['wuid']+'):Error\x20in\x20converting\x20audio'),_0x2ca2e7(_0x20ba6c);return;}this[_0x4a7a2e(0x6d5)][_0x4a7a2e(0x4e7)](this[_0x4a7a2e(0x1fc)]+'\x20('+this['instance'][_0x4a7a2e(0x1ef)]+_0x4a7a2e(0x373)),_0xe6fd35(U[_0x4a7a2e(0x39f)][_0x4a7a2e(0x2e7)](_0x1d0830));});});}async['buttonMessage'](_0x28856f){const _0x5831c2=a0_0x1eb7af;let _0x1676c1={},_0x5a48b0='TEXT';if(_0x28856f[_0x5831c2(0x6b6)]?.['mediaMessage']){_0x5a48b0=_0x28856f[_0x5831c2(0x6b6)][_0x5831c2(0x40d)]?.[_0x5831c2(0x11e)][_0x5831c2(0x210)]()??_0x5831c2(0x2a1),_0x1676c1[_0x5831c2(0x29e)]=_0x5a48b0['toLowerCase']()+_0x5831c2(0x447);let _0xe59d68=await this[_0x5831c2(0x581)](_0x28856f[_0x5831c2(0x6b6)]['mediaMessage']);_0x1676c1[_0x5831c2(0x729)]=_0xe59d68['message'][_0x1676c1[_0x5831c2(0x29e)]],_0x1676c1[_0x5831c2(0x12f)]='*'+_0x28856f['buttonMessage'][_0x5831c2(0x2bd)]+'*\x0a\x0a'+_0x28856f[_0x5831c2(0x6b6)][_0x5831c2(0x2bc)];}let _0x206842={'text':_0x28856f[_0x5831c2(0x6b6)]['buttons'][_0x5831c2(0x285)](_0x2c3bf1=>_0x2c3bf1['buttonText']),'ids':_0x28856f[_0x5831c2(0x6b6)][_0x5831c2(0x2e0)][_0x5831c2(0x285)](_0x55ab8a=>_0x55ab8a[_0x5831c2(0x7c3)])};if(!(0x0,k[_0x5831c2(0x2e4)])(_0x206842[_0x5831c2(0x3e8)])||!(0x0,k[_0x5831c2(0x2e4)])(_0x206842[_0x5831c2(0x527)]))throw new m(_0x5831c2(0x622),_0x5831c2(0x324));return await this['sendMessageWithTyping'](_0x28856f[_0x5831c2(0x41f)],{'buttonsMessage':{'text':_0x1676c1?.[_0x5831c2(0x29e)]?void 0x0:_0x28856f[_0x5831c2(0x6b6)][_0x5831c2(0x2bd)],'contentText':_0x1676c1?.[_0x5831c2(0x12f)]??_0x28856f['buttonMessage']['description'],'footerText':_0x28856f[_0x5831c2(0x6b6)]?.[_0x5831c2(0x640)],'buttons':_0x28856f['buttonMessage'][_0x5831c2(0x2e0)][_0x5831c2(0x285)](_0x4be441=>({'buttonText':{'displayText':_0x4be441[_0x5831c2(0x61f)]},'buttonId':_0x4be441[_0x5831c2(0x7c3)],'type':0x1})),'headerType':w['proto'][_0x5831c2(0x447)]['ButtonsMessage']['HeaderType'][_0x5a48b0],[_0x1676c1?.[_0x5831c2(0x29e)]]:_0x1676c1?.[_0x5831c2(0x729)]}},_0x28856f?.[_0x5831c2(0x6bc)]);}async['locationMessage'](_0x5cceb7){const _0x293722=a0_0x1eb7af;return await this[_0x293722(0x2a7)](_0x5cceb7[_0x293722(0x41f)],{'locationMessage':{'degreesLatitude':_0x5cceb7[_0x293722(0x5fb)][_0x293722(0x18a)],'degreesLongitude':_0x5cceb7[_0x293722(0x5fb)][_0x293722(0xfc)],'name':_0x5cceb7[_0x293722(0x5fb)]?.[_0x293722(0x587)],'address':_0x5cceb7[_0x293722(0x5fb)]?.[_0x293722(0x33e)]}},_0x5cceb7?.['options']);}async[a0_0x1eb7af(0x34f)](_0x50073a){const _0x49abec=a0_0x1eb7af;let _0x88c3db={},_0x5a452=async _0xbc4550=>{const _0x22392a=a0_0x4c0f;let _0x4b13ff=_0x22392a(0x382)+_0xbc4550[_0x22392a(0x222)]+'\x0aFN:'+_0xbc4550['fullName']+'\x0a';_0xbc4550['organization']&&(_0x4b13ff+=_0x22392a(0x2eb)+_0xbc4550['organization']+';\x0a'),_0xbc4550[_0x22392a(0x5ff)]&&(_0x4b13ff+=_0x22392a(0x504)+_0xbc4550[_0x22392a(0x5ff)]+'\x0a'),_0xbc4550[_0x22392a(0x3d8)]&&(_0x4b13ff+=_0x22392a(0x67b)+_0xbc4550[_0x22392a(0x3d8)]+'\x0a');let _0x53f09d='',_0x45ef51=0x1;if(_0xbc4550[_0x22392a(0x4be)]){let _0x5adde3=_0xbc4550[_0x22392a(0x4be)]['split']('|');for(let _0x1952c9 of _0x5adde3){let _0x4acbdf=await this[_0x22392a(0x2f7)]({'numbers':[_0x1952c9]}),_0xf4bae2=(_0x4acbdf[_0x22392a(0x3fe)]>0x0?_0x4acbdf[0x0][_0x22392a(0x687)]:this[_0x22392a(0x279)](_0x1952c9))['replace'](_0x22392a(0x21c),'');_0x53f09d+=_0x22392a(0x606)+_0x45ef51+_0x22392a(0x6dc)+_0xf4bae2+':'+_0x1952c9+'\x0aitem'+_0x45ef51+_0x22392a(0x3f2),_0x45ef51++;}}return _0x4b13ff+=_0x53f09d+_0x22392a(0x283),_0x4b13ff;};return _0x50073a[_0x49abec(0x34f)][_0x49abec(0x3fe)]===0x1?_0x88c3db[_0x49abec(0x34f)]={'displayName':_0x50073a[_0x49abec(0x34f)][0x0][_0x49abec(0x222)],'vcard':await _0x5a452(_0x50073a[_0x49abec(0x34f)][0x0])}:_0x88c3db[_0x49abec(0x552)]={'displayName':_0x50073a[_0x49abec(0x34f)][_0x49abec(0x3fe)]+_0x49abec(0x37c),'contacts':await Promise[_0x49abec(0x44d)](_0x50073a[_0x49abec(0x34f)]['map'](async _0x48da99=>({'displayName':_0x48da99[_0x49abec(0x222)],'vcard':await _0x5a452(_0x48da99)})))},await this[_0x49abec(0x2a7)](_0x50073a['number'],{..._0x88c3db},_0x50073a?.[_0x49abec(0x6bc)]);}async[a0_0x1eb7af(0x7e1)](_0xed6164){const _0x29da0a=a0_0x1eb7af;return await this[_0x29da0a(0x2a7)](_0xed6164['reactionMessage'][_0x29da0a(0x6b3)][_0x29da0a(0x4c9)],{'reactionMessage':{'key':_0xed6164[_0x29da0a(0x7e1)][_0x29da0a(0x6b3)],'text':_0xed6164[_0x29da0a(0x7e1)][_0x29da0a(0x1cc)]}});}async['whatsappNumber'](_0x2df6ab){const _0x351f3d=a0_0x1eb7af;let _0xc7630d=[];for await(let _0xf141ea of _0x2df6ab[_0x351f3d(0x25d)]){let _0x4a43a1=this[_0x351f3d(0x279)](_0xf141ea),_0x39d53f=!0x1;try{if((0x0,w[_0x351f3d(0x7c4)])(_0x4a43a1)){let _0x5803a5=(await this[_0x351f3d(0x1a2)][_0x351f3d(0x142)][_0x351f3d(0x1be)]({'where':{'_id':_0x4a43a1}},this['instance'][_0x351f3d(0x1ef)]))['groupdata'];_0x5803a5?(_0x39d53f=!0x0,_0xc7630d['push'](new ne(_0x5803a5['id'],_0x39d53f,_0x5803a5?.[_0x351f3d(0x1ca)]))):(_0x5803a5=await this[_0x351f3d(0x4f0)]({'groupJid':_0x4a43a1},_0x351f3d(0x146)),_0xc7630d['push'](new ne(_0x5803a5['id'],!!_0x5803a5?.['id'],_0x5803a5?.[_0x351f3d(0x1ca)])));}else{if(_0x4a43a1[_0x351f3d(0x34b)](_0x351f3d(0x7e9)))_0xc7630d['push'](new ne(_0x4a43a1,!0x0));else{let _0x32b176=(await this[_0x351f3d(0x5ce)][_0x351f3d(0x375)](_0x4a43a1))[0x0];_0xc7630d[_0x351f3d(0x46f)](new ne(_0x32b176[_0x351f3d(0x687)],_0x32b176['exists']));}}}catch{(0x0,w[_0x351f3d(0x7c4)])(_0x4a43a1)||await this[_0x351f3d(0x6d0)](_0x4a43a1),_0xc7630d['push'](new ne(_0xf141ea,!0x1));}}return _0xc7630d;}async['deleteImportedChat'](_0x1105ad){const _0x25b130=a0_0x1eb7af;try{await this[_0x25b130(0x1a2)]['chat'][_0x25b130(0x1be)]({'where':{'_id':_0x1105ad,'imported':!0x0}},this[_0x25b130(0x70d)]['wuid'])&&(await this[_0x25b130(0x1a2)][_0x25b130(0x142)][_0x25b130(0x64a)](_0x1105ad,this[_0x25b130(0x70d)][_0x25b130(0x1ef)]),this[_0x25b130(0x6d5)][_0x25b130(0x353)](_0x25b130(0x519)+_0x1105ad+_0x25b130(0x74c)));}catch(_0x5b1ed9){let _0x7f7b83=_0x25b130(0x61c),_0x1bac00=_0x5b1ed9 instanceof Error?_0x5b1ed9[_0x25b130(0x729)]:typeof _0x5b1ed9==_0x25b130(0x23d)?JSON['stringify'](_0x5b1ed9):_0x5b1ed9,_0x3f5ce3=_0x7f7b83+':\x20'+_0x1bac00;this[_0x25b130(0x6d5)][_0x25b130(0x299)](this[_0x25b130(0x1fc)]+'\x20('+this[_0x25b130(0x70d)][_0x25b130(0x1ef)]+_0x25b130(0x538)+_0x3f5ce3);}}async[a0_0x1eb7af(0x5ee)](_0x5e156c){const _0x53b9fc=a0_0x1eb7af;try{let _0x1596df=_0x5e156c[_0x53b9fc(0x318)]['filter'](_0xa2310f=>(0x0,w['isJidGroup'])(_0xa2310f['remoteJid'])||(0x0,w[_0x53b9fc(0x1e5)])(_0xa2310f[_0x53b9fc(0x4c9)]))[_0x53b9fc(0x285)](_0x3ae815=>({'remoteJid':_0x3ae815['remoteJid'],'fromMe':_0x3ae815[_0x53b9fc(0x724)],'id':_0x3ae815['id']}));await this[_0x53b9fc(0x5ce)][_0x53b9fc(0x318)](_0x1596df);let _0x4b1f22=_0x1596df[_0x53b9fc(0x285)](_0x52cf5c=>this[_0x53b9fc(0x602)](_0x52cf5c,{'status':_0x53b9fc(0x24a),'owner':this[_0x53b9fc(0x70d)][_0x53b9fc(0x1ef)]})),_0x5f1adc=_0x1596df[_0x53b9fc(0x285)](_0x50f91e=>this[_0x53b9fc(0x1a2)][_0x53b9fc(0x142)][_0x53b9fc(0x393)]({'where':{'_id':_0x50f91e[_0x53b9fc(0x4c9)]}},{'unreadcount':0x0},this[_0x53b9fc(0x70d)][_0x53b9fc(0x1ef)])),[_0x3941a7,_0x5ad333]=await Promise[_0x53b9fc(0x44d)]([Promise[_0x53b9fc(0x44d)](_0x4b1f22),Promise[_0x53b9fc(0x44d)](_0x5f1adc)]);return _0x5ad333[_0x53b9fc(0x19b)](_0x5a0b01=>_0x5a0b01!==null)[_0x53b9fc(0x7d3)](_0x182d5d=>{const _0x378910=_0x53b9fc;j(this[_0x378910(0x1fc)],_0x378910(0x72a),{'chat':_0x182d5d});}),{'message':_0x53b9fc(0x10a),'read':'success'};}catch(_0x4623bb){let _0x52d5a4='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x3ae331=_0x4623bb instanceof Error?_0x4623bb['message']:typeof _0x4623bb==_0x53b9fc(0x23d)?JSON[_0x53b9fc(0x454)](_0x4623bb):_0x4623bb,_0xc57ca8=_0x52d5a4+':\x20'+_0x3ae331;throw this[_0x53b9fc(0x6d5)]['error'](this[_0x53b9fc(0x1fc)]+'\x20('+this[_0x53b9fc(0x70d)][_0x53b9fc(0x1ef)]+_0x53b9fc(0x538)+_0xc57ca8),new _(_0xc57ca8);}}async[a0_0x1eb7af(0x82e)](_0xacc42a){const _0x57951c=a0_0x1eb7af;let _0x2529b6={'where':{'key':{'remoteJid':_0xacc42a}},'limit':0x1},_0x4444a9=await this[_0x57951c(0x1a0)](_0x2529b6);return _0x4444a9||(this[_0x57951c(0x6d5)]['error']('Last\x20message\x20not\x20found\x20for\x20number:\x20'+_0xacc42a),null);}async[a0_0x1eb7af(0x829)](_0x1e6103){const _0x1fceb7=a0_0x1eb7af;this[_0x1fceb7(0x6d5)][_0x1fceb7(0x4e7)](this[_0x1fceb7(0x1fc)]+'\x20('+this['instance'][_0x1fceb7(0x1ef)]+_0x1fceb7(0x18e));try{let _0x814399=_0x1e6103['lastMessage'],_0x132fcf=_0x1e6103['chat'];if(!_0x814399&&_0x132fcf?_0x814399=await this[_0x1fceb7(0x82e)](_0x132fcf):(_0x814399=_0x1e6103['lastMessage'],_0x814399[_0x1fceb7(0x613)]=_0x814399?.['messageTimestamp']??Date[_0x1fceb7(0x4e4)](),_0x132fcf=_0x814399?.[_0x1fceb7(0x6b3)]?.[_0x1fceb7(0x4c9)]),!_0x814399||Object[_0x1fceb7(0x81b)](_0x814399)['length']===0x0)throw new J(_0x1fceb7(0x713));this[_0x1fceb7(0x6d5)][_0x1fceb7(0x4e7)](this[_0x1fceb7(0x1fc)]+'\x20('+this['instance'][_0x1fceb7(0x1ef)]+_0x1fceb7(0x50f)+_0x132fcf);try{await this['client']['chatModify']({'archive':_0x1e6103[_0x1fceb7(0x6c2)],'lastMessages':[_0x814399]},this[_0x1fceb7(0x279)](_0x132fcf));}catch(_0xd70384){let _0x3ec1ab='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x132fcf,_0x131b56=_0xd70384 instanceof Error?_0xd70384[_0x1fceb7(0x729)]:typeof _0xd70384==_0x1fceb7(0x23d)?JSON[_0x1fceb7(0x454)](_0xd70384):_0xd70384,_0x524019=_0x3ec1ab+':\x20'+_0x131b56;this[_0x1fceb7(0x6d5)][_0x1fceb7(0x299)](this['instanceName']+'\x20('+this[_0x1fceb7(0x70d)][_0x1fceb7(0x1ef)]+_0x1fceb7(0x538)+_0x524019);}this[_0x1fceb7(0x6d5)][_0x1fceb7(0x4e7)](this[_0x1fceb7(0x1fc)]+'\x20('+this['instance'][_0x1fceb7(0x1ef)]+_0x1fceb7(0x228)+_0x132fcf);let _0x28e157=await this['repository'][_0x1fceb7(0x142)][_0x1fceb7(0x393)]({'where':{'_id':_0x814399?.[_0x1fceb7(0x6b3)]?.['remoteJid']}},{'archived':_0x1e6103['archive']},this[_0x1fceb7(0x70d)][_0x1fceb7(0x1ef)]);return _0x28e157?(this[_0x1fceb7(0x6d5)][_0x1fceb7(0x4e7)](this[_0x1fceb7(0x1fc)]+'\x20('+this['instance']['wuid']+'):Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x1fceb7(0x454)](_0x28e157)),j(this[_0x1fceb7(0x1fc)],'chats',{'chat':_0x28e157})):this[_0x1fceb7(0x6d5)]['error'](this[_0x1fceb7(0x1fc)]+'\x20('+this[_0x1fceb7(0x70d)][_0x1fceb7(0x1ef)]+_0x1fceb7(0x6e0)+_0x132fcf),{'chatId':_0x132fcf,'archived':_0x1e6103[_0x1fceb7(0x6c2)]};}catch(_0x5bb112){let _0x1d5694=_0x1fceb7(0x634),_0x5407ef=_0x5bb112 instanceof Error?_0x5bb112['message']:typeof _0x5bb112=='object'?JSON[_0x1fceb7(0x454)](_0x5bb112):_0x5bb112,_0x32e541=_0x1d5694+':\x20'+_0x5407ef;throw this[_0x1fceb7(0x6d5)][_0x1fceb7(0x299)](this['instanceName']+'\x20('+this[_0x1fceb7(0x70d)]['wuid']+_0x1fceb7(0x538)+_0x32e541),new _(_0x32e541);}}async[a0_0x1eb7af(0x64a)](_0x3fa1d7){const _0x2ea92b=a0_0x1eb7af;this[_0x2ea92b(0x6d5)]['verbose'](this['instanceName']+'\x20('+this[_0x2ea92b(0x70d)]['wuid']+_0x2ea92b(0x76a));try{let _0x378556=await this['getLastMessage'](_0x3fa1d7);if(!_0x378556||Object[_0x2ea92b(0x81b)](_0x378556)['length']===0x0)throw new J(_0x2ea92b(0x713));let _0x58215d=_0x378556[0x0];this['logger'][_0x2ea92b(0x4e7)](this[_0x2ea92b(0x1fc)]+'\x20('+this[_0x2ea92b(0x70d)][_0x2ea92b(0x1ef)]+_0x2ea92b(0x186)+_0x3fa1d7);try{await this[_0x2ea92b(0x5ce)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x58215d[_0x2ea92b(0x6b3)],'messageTimestamp':_0x58215d[_0x2ea92b(0x613)]}]},this[_0x2ea92b(0x279)](_0x3fa1d7));}catch(_0xd83a33){this[_0x2ea92b(0x6d5)][_0x2ea92b(0x299)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x3fa1d7+':\x20'+_0xd83a33[_0x2ea92b(0x725)]());}this[_0x2ea92b(0x6d5)][_0x2ea92b(0x4e7)](this[_0x2ea92b(0x1fc)]+'\x20('+this['instance'][_0x2ea92b(0x1ef)]+_0x2ea92b(0x228)+_0x3fa1d7);return;}catch(_0x540b8a){throw this[_0x2ea92b(0x6d5)][_0x2ea92b(0x299)](this[_0x2ea92b(0x1fc)]+'\x20('+this[_0x2ea92b(0x70d)]['wuid']+_0x2ea92b(0x5d2)+_0x540b8a['toString']()),new _({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x540b8a[_0x2ea92b(0x725)]()]});}}async[a0_0x1eb7af(0x557)](_0x56748f){const _0x3c35a2=a0_0x1eb7af;try{let _0x29dd91=await this[_0x3c35a2(0x5ce)]['sendMessage'](_0x56748f[_0x3c35a2(0x4c9)],{'delete':_0x56748f});try{let _0x3f0eef=await this[_0x3c35a2(0x602)](_0x56748f,{'status':_0x3c35a2(0x614),'owner':this[_0x3c35a2(0x70d)][_0x3c35a2(0x1ef)]});this[_0x3c35a2(0x6d5)][_0x3c35a2(0x4e7)](this[_0x3c35a2(0x1fc)]+'\x20('+this[_0x3c35a2(0x70d)]['wuid']+'):\x20updateResult:'+_0x3f0eef);}catch(_0x5b547e){this[_0x3c35a2(0x6d5)][_0x3c35a2(0x299)](_0x3c35a2(0x392)+_0x5b547e);}return _0x29dd91;}catch(_0x4ee2eb){throw new _('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x4ee2eb?.[_0x3c35a2(0x725)]());}}async[a0_0x1eb7af(0x777)](_0x530563){const _0x318954=a0_0x1eb7af;try{let _0x1ee3f7=_0x530563?.[_0x318954(0x729)]?_0x530563:await this[_0x318954(0x79e)](_0x530563[_0x318954(0x6b3)],!0x0);for(let _0x8c3e7 of Ea)_0x1ee3f7[_0x318954(0x729)][_0x8c3e7]&&(_0x1ee3f7[_0x318954(0x729)]=_0x1ee3f7[_0x318954(0x729)][_0x8c3e7][_0x318954(0x729)]);let _0x1c1a25,_0x1d877e;for(let _0x1bcee1 of Ca)if(_0x1c1a25=_0x1ee3f7[_0x318954(0x729)][_0x1bcee1],_0x1c1a25){_0x1d877e=_0x1bcee1;break;}if(!_0x1c1a25)throw _0x318954(0x48d);typeof _0x1c1a25[_0x318954(0x29e)]=='object'&&(_0x1ee3f7['message']=JSON[_0x318954(0x164)](JSON['stringify'](_0x1ee3f7[_0x318954(0x729)])));let _0x450380=await(0x0,w['downloadMediaMessage'])({'key':_0x1ee3f7?.[_0x318954(0x6b3)],'message':_0x1ee3f7?.[_0x318954(0x729)]},_0x318954(0x576),{},{'logger':(0x0,Ut['default'])({'level':_0x318954(0x7f8)}),'reuploadRequest':this[_0x318954(0x5ce)][_0x318954(0x669)]});if(!(_0x450380 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x545d55=this[_0x318954(0x768)][_0x318954(0x14e)](_0x318954(0x754)),_0x50c65f,_0x334c16;if(_0x1c1a25[_0x318954(0x1de)])_0x50c65f=_0x1c1a25[_0x318954(0x1de)];else{let _0x3196cb=_0x1c1a25[_0x318954(0x209)]?.['match'](/\/(\w+)/),_0x20709a=_0x3196cb?_0x3196cb[0x1]:null;if(!_0x20709a)throw new Error(_0x318954(0x67c));_0x50c65f=(0x0,me['v4'])()+'.'+_0x20709a;}_0x1d877e===_0x318954(0x53a)?_0x334c16=_0x318954(0x409)+await this[_0x318954(0x6c0)](_0x450380['toString']('base64')):(await this[_0x318954(0x6a1)](_0x450380,_0x50c65f),_0x334c16=_0x318954(0x409)+_0x50c65f);let _0x1e1f9a=this[_0x318954(0x768)][_0x318954(0x14e)](_0x318954(0x610))[_0x318954(0x74e)];if(!_0x1e1f9a){let _0x29df13=this[_0x318954(0x768)][_0x318954(0x14e)](_0x318954(0x529));_0x1e1f9a=_0x318954(0x4ca)+(_0x29df13&&_0x29df13[_0x318954(0x583)][_0x318954(0x17f)]('/')[0x4]);}_0x334c16=''+_0x1e1f9a+_0x334c16;let _0x205651=0xc*0x3c*0x3c*0x3e8,_0x339470={'where':{'_id':_0x1ee3f7[_0x318954(0x6b3)]['id']}},_0x21d8ab={'message_normalized.fileUrl':_0x334c16,'message_normalized.expires_fileUrl':Date['now']()+_0x205651};try{let _0x29be70=await this[_0x318954(0x1a2)]['message'][_0x318954(0x7f1)](_0x339470,_0x21d8ab,this[_0x318954(0x70d)]['wuid']);_0x29be70&&j(this[_0x318954(0x1fc)],_0x318954(0x6a6),{'message':_0x29be70});}catch(_0x3de0a8){let _0x2b81aa=_0x318954(0x342),_0xca7294=_0x3de0a8 instanceof Error?_0x3de0a8[_0x318954(0x729)]:typeof _0x3de0a8==_0x318954(0x23d)?JSON[_0x318954(0x454)](_0x3de0a8):_0x3de0a8,_0x8b676d=_0x2b81aa+':\x20'+_0xca7294;this[_0x318954(0x6d5)][_0x318954(0x299)](this['instanceName']+'\x20('+this[_0x318954(0x70d)][_0x318954(0x1ef)]+'):\x20'+_0x8b676d);}return{'mediaType':_0x1d877e,'fileName':_0x1c1a25['fileName'],'caption':_0x1c1a25[_0x318954(0x762)],'size':{'fileLength':_0x1c1a25[_0x318954(0x4b8)],'height':_0x1c1a25[_0x318954(0x2c7)],'width':_0x1c1a25[_0x318954(0x3c2)]},'mimetype':_0x1c1a25[_0x318954(0x209)],'base64':_0x450380[_0x318954(0x725)](_0x318954(0x800)),'fileUrl':_0x334c16,'expires_fileUrl':Date[_0x318954(0x4e4)]()+_0x205651};}catch(_0x368731){let _0x2e9aa4='Falha\x20ao\x20processar\x20a\x20solicitação',_0x1d98c5=_0x368731 instanceof Error?_0x368731['message']:typeof _0x368731==_0x318954(0x23d)?JSON[_0x318954(0x454)](_0x368731):_0x368731,_0xdd0307=_0x2e9aa4+':\x20'+_0x1d98c5;throw this['logger'][_0x318954(0x299)](this[_0x318954(0x1fc)]+'\x20('+this['instance'][_0x318954(0x1ef)]+'):\x20'+_0xdd0307),new m(_0xdd0307);}}async[a0_0x1eb7af(0x6a1)](_0x257a00,_0x58b591){const _0x2c3a11=a0_0x1eb7af;let _0x481d91=U[_0x2c3a11(0x39f)][_0x2c3a11(0x17d)](__dirname,_0x2c3a11(0x7de));L[_0x2c3a11(0x3e4)](_0x481d91)||L['mkdirSync'](_0x481d91,{'recursive':!0x0});let _0x2c3ec1=U['default']['join'](_0x481d91,_0x58b591);return new Promise((_0x2d6030,_0x1b1450)=>{const _0xeb0716=_0x2c3a11;L[_0xeb0716(0x55a)](_0x2c3ec1,_0x257a00,_0x1ef35e=>{const _0x3084a4=_0xeb0716;_0x1ef35e?(this[_0x3084a4(0x6d5)][_0x3084a4(0x299)](_0x3084a4(0x356)+(_0x1ef35e instanceof Error?_0x1ef35e[_0x3084a4(0x729)]:JSON[_0x3084a4(0x454)](_0x1ef35e,null,0x2))),_0x1b1450(_0x1ef35e)):(this[_0x3084a4(0x6d5)]['log'](_0x3084a4(0x23c)+_0x2c3ec1),_0x2d6030(_0x2c3ec1));});});}async['fetchContacts'](_0x51e39b){const _0x50d21b=a0_0x1eb7af;return await this[_0x50d21b(0x1a2)]['contact'][_0x50d21b(0x7a9)](_0x51e39b,this[_0x50d21b(0x70d)]['wuid']);}async[a0_0x1eb7af(0x5e6)](){const _0x3302ba=a0_0x1eb7af;return await this[_0x3302ba(0x1a2)][_0x3302ba(0x811)]['find']({'where':{}},this[_0x3302ba(0x70d)][_0x3302ba(0x1ef)]);}async['fetchMessages'](_0xab1aef){const _0x1a7791=a0_0x1eb7af;return await this[_0x1a7791(0x1a2)][_0x1a7791(0x729)][_0x1a7791(0x7a9)](_0xab1aef,this['instance'][_0x1a7791(0x1ef)]);}async[a0_0x1eb7af(0x396)](){const _0x2f71a4=a0_0x1eb7af;return this[_0x2f71a4(0x1a2)][_0x2f71a4(0x142)]['removeUnusedChatFields'](this['instance'][_0x2f71a4(0x1ef)]),this[_0x2f71a4(0x1a2)][_0x2f71a4(0x142)][_0x2f71a4(0x4bd)](this[_0x2f71a4(0x70d)][_0x2f71a4(0x1ef)]),this['repository'][_0x2f71a4(0x142)][_0x2f71a4(0x4fb)](this['instance'][_0x2f71a4(0x1ef)]),this[_0x2f71a4(0x1a2)]['chat']['updateMissingCustomFields'](this[_0x2f71a4(0x70d)][_0x2f71a4(0x1ef)]),await this[_0x2f71a4(0x1a2)][_0x2f71a4(0x142)]['find']({'where':{}},this[_0x2f71a4(0x70d)]['wuid']);}async[a0_0x1eb7af(0x7e2)](_0x14ed58){const _0x5532fd=a0_0x1eb7af;try{if(!Array[_0x5532fd(0x50d)](_0x14ed58)||_0x14ed58[_0x5532fd(0x3fe)]===0x0)throw new Error(_0x5532fd(0x4a6));let _0x35c8bd=[],_0x2c19e8=[];for(let _0x5ce6c1 of _0x14ed58){if(_0x5ce6c1[_0x5532fd(0x710)])_0x5ce6c1[_0x5532fd(0x710)]=this[_0x5532fd(0x279)](_0x5ce6c1['_id']);else continue;await this[_0x5532fd(0x1a2)][_0x5532fd(0x142)][_0x5532fd(0x1be)]({'where':{'_id':_0x5ce6c1[_0x5532fd(0x710)]}},this[_0x5532fd(0x70d)]['wuid'])?_0x2c19e8[_0x5532fd(0x46f)]({'_id':_0x5ce6c1[_0x5532fd(0x710)],'leadInfo':_0x5ce6c1['leadInfo'],'owner':this[_0x5532fd(0x70d)][_0x5532fd(0x1ef)]}):_0x35c8bd[_0x5532fd(0x46f)]({'_id':_0x5ce6c1[_0x5532fd(0x710)],'owner':this['instance'][_0x5532fd(0x1ef)],'leadInfo':_0x5ce6c1[_0x5532fd(0x523)],'imported':!0x0});}return _0x2c19e8['length']>0x0&&await this[_0x5532fd(0x1a2)][_0x5532fd(0x142)][_0x5532fd(0x3a2)](_0x2c19e8['map'](_0x583778=>({'query':{'where':{'_id':_0x583778[_0x5532fd(0x710)],'owner':this[_0x5532fd(0x70d)][_0x5532fd(0x1ef)]}},'update':_0x583778}))),_0x35c8bd['length']>0x0&&await this['repository'][_0x5532fd(0x142)][_0x5532fd(0x2ce)](_0x35c8bd,this[_0x5532fd(0x70d)][_0x5532fd(0x1ef)]),{'updated':_0x2c19e8[_0x5532fd(0x3fe)],'inserted':_0x35c8bd[_0x5532fd(0x3fe)]};}catch(_0x3aacfa){let _0x5b9b97=_0x5532fd(0x59a),_0x1e90cd=_0x3aacfa instanceof Error?_0x3aacfa[_0x5532fd(0x729)]:typeof _0x3aacfa==_0x5532fd(0x23d)?JSON[_0x5532fd(0x454)](_0x3aacfa):_0x3aacfa,_0x49c1b8=_0x5b9b97+':\x20'+_0x1e90cd;throw this[_0x5532fd(0x6d5)]['error'](this[_0x5532fd(0x1fc)]+'\x20('+this[_0x5532fd(0x70d)][_0x5532fd(0x1ef)]+_0x5532fd(0x538)+_0x49c1b8),new m(_0x49c1b8);}}async['importChats'](_0x1541e8){const _0x3e07c8=a0_0x1eb7af;try{if(!Array[_0x3e07c8(0x50d)](_0x1541e8)||_0x1541e8[_0x3e07c8(0x3fe)]===0x0)throw new Error(_0x3e07c8(0x4a6));let _0x3c266c=0x64,_0x28df73=0x0;for(let _0x1b5661=0x0;_0x1b5661<_0x1541e8['length'];_0x1b5661+=_0x3c266c){let _0x4599cc=_0x1541e8[_0x3e07c8(0x302)](_0x1b5661,_0x1b5661+_0x3c266c),{updated:_0x22df20}=await this[_0x3e07c8(0x346)](_0x4599cc);_0x28df73+=_0x22df20;}return{'updated':_0x28df73};}catch(_0x4e04c4){let _0x54b893='Erro\x20ao\x20importar\x20chats',_0x85e64a=_0x4e04c4 instanceof Error?_0x4e04c4[_0x3e07c8(0x729)]:typeof _0x4e04c4==_0x3e07c8(0x23d)?JSON[_0x3e07c8(0x454)](_0x4e04c4):_0x4e04c4,_0x5b111c=_0x54b893+':\x20'+_0x85e64a;throw this[_0x3e07c8(0x6d5)][_0x3e07c8(0x299)](this[_0x3e07c8(0x1fc)]+'\x20('+this['instance'][_0x3e07c8(0x1ef)]+_0x3e07c8(0x538)+_0x5b111c),new m(_0x5b111c);}}async[a0_0x1eb7af(0x346)](_0x17c662){const _0x3268b7=a0_0x1eb7af;try{let _0x240c67=await this[_0x3268b7(0x1a2)][_0x3268b7(0x811)][_0x3268b7(0x7a9)]({'where':{}},this['instance'][_0x3268b7(0x1ef)]),_0x617360=new Set(_0x240c67[_0x3268b7(0x285)](_0x3877c3=>_0x3877c3[_0x3268b7(0x710)])),_0x3f7a13=[],_0x1cfd0a=[];for(let _0x1f5702 of _0x17c662){if(!_0x1f5702['_id'])continue;_0x1f5702[_0x3268b7(0x710)]=this[_0x3268b7(0x279)](_0x1f5702[_0x3268b7(0x710)]);let _0x431085=await this[_0x3268b7(0x1a2)][_0x3268b7(0x142)][_0x3268b7(0x1be)]({'where':{'_id':_0x1f5702[_0x3268b7(0x710)]}},this['instance']['wuid']),_0xc1ca9e={};if(Object[_0x3268b7(0x35e)](_0x1f5702[_0x3268b7(0x523)])[_0x3268b7(0x7d3)](([_0x1b74de,_0x976442])=>{const _0xf2ab03=_0x3268b7;_0xc1ca9e[_0xf2ab03(0xf4)+_0x1b74de]=_0x976442;}),_0x431085&&!_0x431085[_0x3268b7(0x2fc)]){let _0x35f168=(_0x1f5702[_0x3268b7(0x523)][_0x3268b7(0x1d2)]||[])[_0x3268b7(0x19b)](_0x3212f9=>_0x617360['has'](_0x3212f9)),_0x5d377f=new Set(_0x431085['leadInfo']['etiquetas']||[]),_0x15a460=_0x35f168[_0x3268b7(0x19b)](_0x7cf3ae=>!_0x5d377f[_0x3268b7(0x4b1)](_0x7cf3ae)),_0x424fe8=[..._0x5d377f]['filter'](_0x13597a=>!_0x35f168[_0x3268b7(0x34b)](_0x13597a));_0x1cfd0a[_0x3268b7(0x46f)](..._0x15a460[_0x3268b7(0x285)](_0xa458f8=>this[_0x3268b7(0x645)](_0xa458f8,_0x1f5702[_0x3268b7(0x710)]))),_0x1cfd0a['push'](..._0x424fe8[_0x3268b7(0x285)](_0x188bfe=>this[_0x3268b7(0x789)](_0x188bfe,_0x1f5702[_0x3268b7(0x710)]))),_0x1f5702['leadInfo'][_0x3268b7(0x1d2)]=_0x35f168,_0x3f7a13[_0x3268b7(0x46f)]({'query':{'where':{'_id':_0x1f5702[_0x3268b7(0x710)],'owner':this['instance'][_0x3268b7(0x1ef)]}},'update':_0xc1ca9e});}else _0xc1ca9e[_0x3268b7(0x2fc)]=!0x0,_0x3f7a13[_0x3268b7(0x46f)]({'query':{'where':{'_id':_0x1f5702[_0x3268b7(0x710)],'owner':this['instance']['wuid']}},'update':_0xc1ca9e});}let _0x5c7561=await this[_0x3268b7(0x1a2)][_0x3268b7(0x142)][_0x3268b7(0x3a2)](_0x3f7a13);return await Promise[_0x3268b7(0x44d)](_0x1cfd0a),{'updated':_0x5c7561};}catch(_0x5e5a18){let _0x2d3cf4='Erro\x20ao\x20importar\x20chats',_0x2c45d5=_0x5e5a18 instanceof Error?_0x5e5a18[_0x3268b7(0x729)]:typeof _0x5e5a18=='object'?JSON[_0x3268b7(0x454)](_0x5e5a18):_0x5e5a18,_0x385f15=_0x2d3cf4+':\x20'+_0x2c45d5;throw this[_0x3268b7(0x6d5)]['error'](this[_0x3268b7(0x1fc)]+'\x20('+this[_0x3268b7(0x70d)]['wuid']+_0x3268b7(0x538)+_0x385f15),new m(_0x385f15);}}async[a0_0x1eb7af(0x79d)](){const _0x2019eb=a0_0x1eb7af;return await this[_0x2019eb(0x5ce)]['fetchPrivacySettings']();}async[a0_0x1eb7af(0x14a)](_0x1fb2ee){const _0x154a2e=a0_0x1eb7af;try{return await this[_0x154a2e(0x5ce)]['updateReadReceiptsPrivacy'](_0x1fb2ee[_0x154a2e(0x10b)][_0x154a2e(0x6e6)]),await this[_0x154a2e(0x5ce)]['updateProfilePicturePrivacy'](_0x1fb2ee[_0x154a2e(0x10b)][_0x154a2e(0x2a5)]),await this['client']['updateStatusPrivacy'](_0x1fb2ee['privacySettings']['status']),await this[_0x154a2e(0x5ce)][_0x154a2e(0x257)](_0x1fb2ee[_0x154a2e(0x10b)][_0x154a2e(0x115)]),await this[_0x154a2e(0x5ce)]['updateLastSeenPrivacy'](_0x1fb2ee[_0x154a2e(0x10b)][_0x154a2e(0x700)]),await this[_0x154a2e(0x5ce)][_0x154a2e(0x171)](_0x1fb2ee[_0x154a2e(0x10b)]['groupadd']),this['client']?.['ws']?.[_0x154a2e(0x575)](),{'update':_0x154a2e(0x540),'data':{'readreceipts':_0x1fb2ee[_0x154a2e(0x10b)][_0x154a2e(0x6e6)],'profile':_0x1fb2ee[_0x154a2e(0x10b)]['profile'],'status':_0x1fb2ee['privacySettings'][_0x154a2e(0x771)],'online':_0x1fb2ee['privacySettings'][_0x154a2e(0x115)],'last':_0x1fb2ee[_0x154a2e(0x10b)][_0x154a2e(0x700)],'groupadd':_0x1fb2ee[_0x154a2e(0x10b)][_0x154a2e(0x51a)]}};}catch(_0x46f349){let _0x1863d5=_0x154a2e(0x31c),_0x10629a=_0x46f349 instanceof Error?_0x46f349[_0x154a2e(0x729)]:typeof _0x46f349==_0x154a2e(0x23d)?JSON[_0x154a2e(0x454)](_0x46f349):_0x46f349,_0x3ea7e4=_0x1863d5+':\x20'+_0x10629a;throw this[_0x154a2e(0x6d5)][_0x154a2e(0x299)](this[_0x154a2e(0x1fc)]+'\x20('+this[_0x154a2e(0x70d)][_0x154a2e(0x1ef)]+_0x154a2e(0x538)+_0x3ea7e4),new m(_0x3ea7e4);}}async[a0_0x1eb7af(0x67a)](_0x477ba3){const _0x3ab350=a0_0x1eb7af;let _0xdd178e=(_0x477ba3?this['createJid'](_0x477ba3):this[_0x3ab350(0x5ce)]?.[_0x3ab350(0x620)]?.['id'])[_0x3ab350(0x517)](/:\d{1,2}@/g,'@');this[_0x3ab350(0x6d5)][_0x3ab350(0x4e7)](this[_0x3ab350(0x1fc)]+'\x20('+this[_0x3ab350(0x70d)]['wuid']+_0x3ab350(0x733)+_0xdd178e);let _0x4ea46a=await this[_0x3ab350(0x1a2)][_0x3ab350(0x5a3)]['findOne']({'where':{'_id':_0xdd178e}},this[_0x3ab350(0x70d)][_0x3ab350(0x1ef)]),_0x1ff756=_0x4ea46a?_0x4ea46a[_0x3ab350(0x810)]:null;try{let _0x27177b=(await this[_0x3ab350(0x2f7)]({'numbers':[_0xdd178e]}))?.[_0x3ab350(0x20c)](),_0x2005f0=(await this[_0x3ab350(0x5bd)](_0xdd178e,null,!0x1))[_0x3ab350(0x2fd)][_0x3ab350(0xf0)],_0x1d2942=await this[_0x3ab350(0x49e)](_0x27177b?.[_0x3ab350(0x687)]),_0x2ac570=await this[_0x3ab350(0x792)](_0x27177b?.[_0x3ab350(0x687)]),_0x22ff5b=(await this['findAndUpdateCacheContact'](_0xdd178e,null,!0x1))['cachedContact'][_0x3ab350(0x587)],_0x515142=await this[_0x3ab350(0x1a2)][_0x3ab350(0x142)][_0x3ab350(0x1be)]({'where':{'_id':_0xdd178e}},this[_0x3ab350(0x70d)][_0x3ab350(0x1ef)]),_0xb319dc={'imagechat':_0x2005f0,'contactname':_0x1ff756||null,'pushName':_0x22ff5b,'status':_0x1d2942?.[_0x3ab350(0x771)],'isBusiness':_0x2ac570[_0x3ab350(0x2dc)],'email':_0x2ac570?.['email'],'description':_0x2ac570?.[_0x3ab350(0x2bc)],'website':_0x2ac570?.['website']?.[_0x3ab350(0x20c)](),'lastcache':Date[_0x3ab350(0x4e4)](),'imported':!_0x515142},_0x4228a1=await this[_0x3ab350(0x1a2)][_0x3ab350(0x142)][_0x3ab350(0x393)]({'where':{'_id':_0xdd178e}},_0xb319dc,this[_0x3ab350(0x70d)][_0x3ab350(0x1ef)]),_0x28fb3e={'owner':this[_0x3ab350(0x70d)]['wuid'],'_id':_0xdd178e,'profilePictureUrl':_0x2005f0,'status':_0x1d2942?.[_0x3ab350(0x771)]};return this['repository'][_0x3ab350(0x5a3)][_0x3ab350(0x7f1)]([_0x28fb3e],this[_0x3ab350(0x70d)][_0x3ab350(0x1ef)]),_0x4228a1&&j(this['instanceName'],_0x3ab350(0x72a),{'chat':_0x4228a1}),{'wuid':_0x27177b?.[_0x3ab350(0x687)]||_0xdd178e,'name':_0x27177b?.[_0x3ab350(0x587)],'pushName':_0x22ff5b,'numberExists':_0x27177b?.[_0x3ab350(0x54d)],'picture':_0x2005f0,'status':_0x1d2942?.[_0x3ab350(0x771)],'isBusiness':_0x2ac570[_0x3ab350(0x2dc)],'email':_0x2ac570?.['email'],'description':_0x2ac570?.['description'],'website':_0x2ac570?.[_0x3ab350(0x536)]?.[_0x3ab350(0x20c)]()};}catch(_0x590674){return this['logger']['error'](_0x3ab350(0x23e)+(_0x590674 instanceof Error?_0x590674[_0x3ab350(0x729)]:JSON[_0x3ab350(0x454)](_0x590674,null,0x2))),{};}}async[a0_0x1eb7af(0x792)](_0x43e9b9){const _0xdb9123=a0_0x1eb7af;this['logger']['verbose'](this[_0xdb9123(0x1fc)]+'\x20('+this[_0xdb9123(0x70d)][_0xdb9123(0x1ef)]+_0xdb9123(0x3fd));try{let _0x3e4f86=_0x43e9b9?this[_0xdb9123(0x279)](_0x43e9b9):this[_0xdb9123(0x70d)][_0xdb9123(0x1ef)],_0x2c7aa0=await this[_0xdb9123(0x5ce)][_0xdb9123(0x78c)](_0x3e4f86);return this[_0xdb9123(0x6d5)][_0xdb9123(0x4e7)](this[_0xdb9123(0x1fc)]+'\x20('+this[_0xdb9123(0x70d)][_0xdb9123(0x1ef)]+_0xdb9123(0x6f8)),_0x2c7aa0?(this['logger']['verbose'](this[_0xdb9123(0x1fc)]+'\x20('+this[_0xdb9123(0x70d)][_0xdb9123(0x1ef)]+_0xdb9123(0x51c)),{'isBusiness':!0x0,..._0x2c7aa0}):{'isBusiness':!0x1,'message':_0xdb9123(0x4dc),...(await this[_0xdb9123(0x2f7)]({'numbers':[_0x3e4f86]}))?.[_0xdb9123(0x20c)]()};}catch(_0x54b6de){let _0x2ddc8c=_0xdb9123(0x545),_0x18f460=_0x54b6de instanceof Error?_0x54b6de['message']:typeof _0x54b6de==_0xdb9123(0x23d)?JSON[_0xdb9123(0x454)](_0x54b6de):_0x54b6de,_0x1f2e75=_0x2ddc8c+':\x20'+_0x18f460;throw this[_0xdb9123(0x6d5)][_0xdb9123(0x299)](this[_0xdb9123(0x1fc)]+'\x20('+this[_0xdb9123(0x70d)][_0xdb9123(0x1ef)]+_0xdb9123(0x538)+_0x1f2e75),new _(_0x1f2e75);}}async[a0_0x1eb7af(0x49e)](_0x275b08){const _0x142a1d=a0_0x1eb7af;let _0x1dd1d8=this['createJid'](_0x275b08);try{return{'wuid':_0x1dd1d8,'status':(await this[_0x142a1d(0x5ce)][_0x142a1d(0x120)](_0x1dd1d8))?.['status']};}catch{return{'wuid':_0x1dd1d8,'status':null};}}async[a0_0x1eb7af(0x481)](_0x22096c){const _0x50cd23=a0_0x1eb7af;try{return await this[_0x50cd23(0x5ce)][_0x50cd23(0x481)](_0x22096c),{'update':'success'};}catch(_0x285636){let _0x4447fc=_0x50cd23(0x1c0),_0x418a2e=_0x285636 instanceof Error?_0x285636[_0x50cd23(0x729)]:typeof _0x285636=='object'?JSON['stringify'](_0x285636):_0x285636,_0x38a73e=_0x4447fc+':\x20'+_0x418a2e;throw this[_0x50cd23(0x6d5)][_0x50cd23(0x299)](this['instanceName']+'\x20('+this[_0x50cd23(0x70d)][_0x50cd23(0x1ef)]+_0x50cd23(0x538)+_0x38a73e),new _(_0x38a73e);}}async['updateProfileStatus'](_0x546692){const _0x41e7f7=a0_0x1eb7af;try{return await this[_0x41e7f7(0x5ce)][_0x41e7f7(0x1e9)](_0x546692),{'update':'success'};}catch(_0x58dfdc){let _0x547e61=_0x41e7f7(0x753),_0x283e3d=_0x58dfdc instanceof Error?_0x58dfdc['message']:typeof _0x58dfdc==_0x41e7f7(0x23d)?JSON['stringify'](_0x58dfdc):_0x58dfdc,_0x1ea67b=_0x547e61+':\x20'+_0x283e3d;throw this[_0x41e7f7(0x6d5)]['error'](this[_0x41e7f7(0x1fc)]+'\x20('+this[_0x41e7f7(0x70d)]['wuid']+_0x41e7f7(0x538)+_0x1ea67b),new _(_0x1ea67b);}}async[a0_0x1eb7af(0x2af)](_0x35eb6b){const _0x323f6c=a0_0x1eb7af;try{let _0x31df6c;if((0x0,k[_0x323f6c(0x693)])(_0x35eb6b)){let _0x5b4502=new Date()[_0x323f6c(0x5cb)](),_0x4fec1a=_0x35eb6b+_0x323f6c(0x4a5)+_0x5b4502;_0x31df6c=(await Z['default'][_0x323f6c(0x14e)](_0x4fec1a,{'responseType':'arraybuffer'}))[_0x323f6c(0x4c8)];}else{if((0x0,k[_0x323f6c(0x760)])(_0x35eb6b))_0x31df6c=Buffer['from'](_0x35eb6b,'base64');else throw new m(_0x323f6c(0x743));}return await this[_0x323f6c(0x5ce)]['updateProfilePicture'](this[_0x323f6c(0x70d)]['wuid'],_0x31df6c),{'update':'success'};}catch(_0x19a9e0){let _0x3d8f15=_0x323f6c(0x630),_0xb25e3a=_0x19a9e0 instanceof Error?_0x19a9e0[_0x323f6c(0x729)]:typeof _0x19a9e0=='object'?JSON['stringify'](_0x19a9e0):_0x19a9e0,_0xd9ec17=_0x3d8f15+':\x20'+_0xb25e3a;throw this[_0x323f6c(0x6d5)][_0x323f6c(0x299)](this[_0x323f6c(0x1fc)]+'\x20('+this[_0x323f6c(0x70d)]['wuid']+_0x323f6c(0x538)+_0xd9ec17),new _(_0xd9ec17);}}async['removeProfilePicture'](){const _0x501f08=a0_0x1eb7af;try{return await this[_0x501f08(0x5ce)]['removeProfilePicture'](this[_0x501f08(0x70d)][_0x501f08(0x1ef)]),{'update':_0x501f08(0x540)};}catch(_0x259050){let _0x401446=_0x501f08(0x2c0),_0x395353=_0x259050 instanceof Error?_0x259050[_0x501f08(0x729)]:typeof _0x259050==_0x501f08(0x23d)?JSON[_0x501f08(0x454)](_0x259050):_0x259050,_0x40d53=_0x401446+':\x20'+_0x395353;throw this[_0x501f08(0x6d5)][_0x501f08(0x299)](this['instanceName']+'\x20('+this[_0x501f08(0x70d)][_0x501f08(0x1ef)]+'):\x20'+_0x40d53),new _(_0x40d53);}}async[a0_0x1eb7af(0x5f0)](_0x32c698){const _0x5559ca=a0_0x1eb7af;try{let _0x2473e3=(await this[_0x5559ca(0x2f7)]({'numbers':_0x32c698[_0x5559ca(0x58d)]}))['filter'](_0x47f8a5=>_0x47f8a5[_0x5559ca(0x54d)])[_0x5559ca(0x285)](_0x5c020a=>_0x5c020a['jid']),{id:_0x1ae459}=await this['client'][_0x5559ca(0x451)](_0x32c698[_0x5559ca(0x1ca)],_0x2473e3);_0x32c698?.[_0x5559ca(0x2bc)]&&await this[_0x5559ca(0x5ce)][_0x5559ca(0x6c9)](_0x1ae459,_0x32c698['description']);let _0x221299=await this[_0x5559ca(0x5ce)][_0x5559ca(0x62f)](_0x1ae459);return _0x221299[_0x5559ca(0x4d0)]=[],{'metadata':_0x221299};}catch(_0x195e1b){let _0x116850=_0x5559ca(0x273),_0x18dc55=_0x195e1b instanceof Error?_0x195e1b[_0x5559ca(0x729)]:typeof _0x195e1b==_0x5559ca(0x23d)?JSON[_0x5559ca(0x454)](_0x195e1b):_0x195e1b,_0x1bd4c1=_0x116850+':\x20'+_0x18dc55;throw this[_0x5559ca(0x6d5)][_0x5559ca(0x299)](this[_0x5559ca(0x1fc)]+'\x20('+this['instance'][_0x5559ca(0x1ef)]+'):\x20'+_0x1bd4c1),new _(_0x1bd4c1);}}async[a0_0x1eb7af(0x691)](_0x3df4bf){const _0x2c9b44=a0_0x1eb7af;try{if(_0x3df4bf[_0x2c9b44(0x47a)]===!0x0&&await this[_0x2c9b44(0x5ce)][_0x2c9b44(0x5a4)](_0x3df4bf[_0x2c9b44(0x13d)],_0x2c9b44(0x4b5)),_0x3df4bf[_0x2c9b44(0x47a)]===!0x1&&await this[_0x2c9b44(0x5ce)][_0x2c9b44(0x5a4)](_0x3df4bf['groupJid'],_0x2c9b44(0x659)),_0x3df4bf[_0x2c9b44(0x483)]===!0x0&&await this['client']['groupSettingUpdate'](_0x3df4bf[_0x2c9b44(0x13d)],_0x2c9b44(0x4f8)),_0x3df4bf[_0x2c9b44(0x483)]===!0x1&&await this[_0x2c9b44(0x5ce)][_0x2c9b44(0x5a4)](_0x3df4bf[_0x2c9b44(0x13d)],'not_announcement'),_0x3df4bf[_0x2c9b44(0x50e)]===!0x0&&await this[_0x2c9b44(0x5ce)][_0x2c9b44(0x7aa)](_0x3df4bf['groupJid'],_0x2c9b44(0x399)),_0x3df4bf['memberAddMode']===!0x1&&await this[_0x2c9b44(0x5ce)][_0x2c9b44(0x7aa)](_0x3df4bf[_0x2c9b44(0x13d)],_0x2c9b44(0x1eb)),_0x3df4bf['joinApprovalMode']===!0x0&&await this[_0x2c9b44(0x5ce)][_0x2c9b44(0x7b5)](_0x3df4bf[_0x2c9b44(0x13d)],'on'),_0x3df4bf[_0x2c9b44(0x280)]===!0x1&&await this[_0x2c9b44(0x5ce)][_0x2c9b44(0x7b5)](_0x3df4bf[_0x2c9b44(0x13d)],'off'),typeof _0x3df4bf[_0x2c9b44(0x340)]<'u'&&_0x3df4bf[_0x2c9b44(0x340)]!==null&&await this[_0x2c9b44(0x5ce)]['groupToggleEphemeral'](_0x3df4bf[_0x2c9b44(0x13d)],_0x3df4bf['expiration']),_0x3df4bf[_0x2c9b44(0x587)]&&await this['client'][_0x2c9b44(0x721)](_0x3df4bf[_0x2c9b44(0x13d)],_0x3df4bf['name']),_0x3df4bf[_0x2c9b44(0x2bc)]&&await this[_0x2c9b44(0x5ce)][_0x2c9b44(0x6c9)](_0x3df4bf[_0x2c9b44(0x13d)],_0x3df4bf[_0x2c9b44(0x2bc)]),_0x3df4bf[_0x2c9b44(0x111)]){let _0x51cfdf;if((0x0,k[_0x2c9b44(0x693)])(_0x3df4bf['image'])){let _0x4c8cc6=new Date()[_0x2c9b44(0x5cb)](),_0x242b71=_0x3df4bf[_0x2c9b44(0x111)]+_0x2c9b44(0x4a5)+_0x4c8cc6;_0x51cfdf=(await Z[_0x2c9b44(0x39f)]['get'](_0x242b71,{'responseType':_0x2c9b44(0x444)}))['data'];}else{if((0x0,k[_0x2c9b44(0x760)])(_0x3df4bf['image']))_0x51cfdf=Buffer['from'](_0x3df4bf[_0x2c9b44(0x111)],_0x2c9b44(0x800));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x2c9b44(0x5ce)][_0x2c9b44(0x2af)](_0x3df4bf['groupJid'],_0x51cfdf);}return await this[_0x2c9b44(0x4f0)]({'groupJid':_0x3df4bf[_0x2c9b44(0x13d)]});}catch(_0x29b284){let _0x56d90e=_0x2c9b44(0x4dd),_0x16d0bb=_0x29b284 instanceof Error?_0x29b284[_0x2c9b44(0x729)]:typeof _0x29b284=='object'?JSON[_0x2c9b44(0x454)](_0x29b284):_0x29b284,_0x36a7cd=_0x56d90e+':\x20'+_0x16d0bb;throw this[_0x2c9b44(0x6d5)][_0x2c9b44(0x299)](this[_0x2c9b44(0x1fc)]+'\x20('+this[_0x2c9b44(0x70d)][_0x2c9b44(0x1ef)]+_0x2c9b44(0x538)+_0x36a7cd),new _(_0x36a7cd);}}async[a0_0x1eb7af(0x749)](_0x2d0f96){const _0x16a4a3=a0_0x1eb7af;try{if(_0x2d0f96[_0x16a4a3(0x43a)]===_0x16a4a3(0x77f)||_0x2d0f96[_0x16a4a3(0x43a)]==='reject'){let _0x439212=_0x2d0f96[_0x16a4a3(0x58d)][_0x16a4a3(0x285)](_0xb3f3c2=>this[_0x16a4a3(0x279)](_0xb3f3c2));await this[_0x16a4a3(0x5ce)][_0x16a4a3(0x35f)](_0x2d0f96[_0x16a4a3(0x13d)],_0x439212,_0x2d0f96['action']);}else{if(_0x2d0f96['action']==='add'){let _0x1e4a20=(await this[_0x16a4a3(0x2f7)]({'numbers':_0x2d0f96['participants']}))[_0x16a4a3(0x19b)](_0x46a13e=>_0x46a13e['exists'])[_0x16a4a3(0x285)](_0x393df6=>this[_0x16a4a3(0x279)](_0x393df6['jid']));if(_0x1e4a20[_0x16a4a3(0x3fe)]===0x0)throw new m(_0x16a4a3(0x172));await this[_0x16a4a3(0x5ce)]['groupParticipantsUpdate'](_0x2d0f96[_0x16a4a3(0x13d)],_0x1e4a20,_0x16a4a3(0x309));}else{let _0x9102a3=_0x2d0f96[_0x16a4a3(0x58d)][_0x16a4a3(0x285)](_0x3d0b1d=>this['createJid'](_0x3d0b1d));await this[_0x16a4a3(0x5ce)][_0x16a4a3(0x1ee)](_0x2d0f96[_0x16a4a3(0x13d)],_0x9102a3,_0x2d0f96[_0x16a4a3(0x43a)]);}}return await this[_0x16a4a3(0x4f0)]({'groupJid':_0x2d0f96[_0x16a4a3(0x13d)]});}catch(_0x462dd8){let _0x4758ee=_0x16a4a3(0x802),_0x20a47e=_0x462dd8 instanceof Error?_0x462dd8[_0x16a4a3(0x729)]:typeof _0x462dd8==_0x16a4a3(0x23d)?JSON[_0x16a4a3(0x454)](_0x462dd8):_0x462dd8,_0x2bc6b7=_0x4758ee+':\x20'+_0x20a47e;throw this[_0x16a4a3(0x6d5)][_0x16a4a3(0x299)](this['instanceName']+'\x20('+this[_0x16a4a3(0x70d)][_0x16a4a3(0x1ef)]+'):\x20'+_0x2bc6b7),new m(_0x2bc6b7);}}async['groupGetInviteInfo'](_0x5372dc){const _0x1d7e2b=a0_0x1eb7af;try{return await this['client'][_0x1d7e2b(0x1bf)](_0x5372dc[_0x1d7e2b(0x3ab)]);}catch(_0x1c826b){let _0x50bb92=_0x1d7e2b(0x72b),_0x1efd16=_0x1c826b instanceof Error?_0x1c826b[_0x1d7e2b(0x729)]:typeof _0x1c826b==_0x1d7e2b(0x23d)?JSON[_0x1d7e2b(0x454)](_0x1c826b):_0x1c826b,_0x359713=_0x50bb92+':\x20'+_0x1efd16;throw this[_0x1d7e2b(0x6d5)][_0x1d7e2b(0x299)](this[_0x1d7e2b(0x1fc)]+'\x20('+this[_0x1d7e2b(0x70d)][_0x1d7e2b(0x1ef)]+'):\x20'+_0x359713),new m(_0x359713);}}async[a0_0x1eb7af(0x4f0)](_0xba9bc7,_0x155afa=a0_0x1eb7af(0x807)){const _0x2b2ff7=a0_0x1eb7af;try{let _0x4e0f7f=await this[_0x2b2ff7(0x1a2)][_0x2b2ff7(0x142)][_0x2b2ff7(0x1be)]({'where':{'_id':_0xba9bc7[_0x2b2ff7(0x13d)]}},this[_0x2b2ff7(0x70d)][_0x2b2ff7(0x1ef)]),_0x10d293=_0x4e0f7f?_0x4e0f7f[_0x2b2ff7(0x16c)]:null,_0x46bec6=0x18*0x3c*0x3c*0x3e8;if(!_0x10d293||_0x10d293[_0x2b2ff7(0x51d)]&&Date[_0x2b2ff7(0x4e4)]()-_0x10d293['lastUpdate']>_0x46bec6){let _0x33ff57=await this['client'][_0x2b2ff7(0x62f)](_0xba9bc7[_0x2b2ff7(0x13d)]);if(_0x33ff57['subjectTime']=_0x33ff57?.[_0x2b2ff7(0x4b0)]&&_0x33ff57[_0x2b2ff7(0x4b0)][_0x2b2ff7(0x725)]()[_0x2b2ff7(0x3fe)]<0xd?_0x33ff57?.[_0x2b2ff7(0x4b0)]*0x3e8:_0x33ff57?.[_0x2b2ff7(0x4b0)]||null,_0x33ff57['creation']=_0x33ff57?.[_0x2b2ff7(0x150)]&&_0x33ff57[_0x2b2ff7(0x150)][_0x2b2ff7(0x725)]()[_0x2b2ff7(0x3fe)]<0xd?_0x33ff57?.[_0x2b2ff7(0x150)]*0x3e8:_0x33ff57?.[_0x2b2ff7(0x150)]||null,_0x10d293={..._0x33ff57,'lastUpdate':Date['now']()},!_0x33ff57)return;}let _0x10ff40=_0x10d293['participants'][_0x2b2ff7(0x31e)](_0x5942a2=>_0x5942a2['id']===this[_0x2b2ff7(0x70d)]['wuid']+_0x2b2ff7(0x21c)&&_0x5942a2[_0x2b2ff7(0x138)]!=null);!_0x10d293[_0x2b2ff7(0x3ab)]&&_0x10ff40&&(_0x10d293[_0x2b2ff7(0x3ab)]=(await this[_0x2b2ff7(0x3ab)](_0xba9bc7,!0x1))[_0x2b2ff7(0x824)]);let _0x2b18a4=(!_0x10d293[_0x2b2ff7(0x483)]||_0x10ff40)&&(!_0x10d293['isCommunity']||_0x10d293[_0x2b2ff7(0x5ab)]&&_0x10d293['isCommunityAnnounce']&&_0x10ff40);_0x10d293[_0x2b2ff7(0x5bb)]=_0x10ff40,_0x10d293[_0x2b2ff7(0x1c6)]=_0x2b18a4;let _0x463747=[];if(_0x10ff40&&_0x10d293['joinApprovalMode'])try{_0x463747=await this[_0x2b2ff7(0x5ce)]['groupRequestParticipantsList'](_0xba9bc7[_0x2b2ff7(0x13d)]),_0x10d293['lastFetchAwaitingApproval']=Date[_0x2b2ff7(0x4e4)]();}catch(_0x5d1d8f){this['logger'][_0x2b2ff7(0x4e7)](this[_0x2b2ff7(0x1fc)]+'\x20('+this['instance'][_0x2b2ff7(0x1ef)]+_0x2b2ff7(0x764)+_0xba9bc7[_0x2b2ff7(0x13d)]+':\x20'+(_0x5d1d8f instanceof Error?_0x5d1d8f['message']:JSON[_0x2b2ff7(0x454)](_0x5d1d8f,null,0x2)));}try{_0x10d293[_0x2b2ff7(0x111)]=(await this[_0x2b2ff7(0x5bd)](_0xba9bc7['groupJid'],null,!0x0))[_0x2b2ff7(0x2fd)][_0x2b2ff7(0xf0)];}catch(_0x323c1d){this[_0x2b2ff7(0x6d5)][_0x2b2ff7(0x4e7)](this[_0x2b2ff7(0x1fc)]+'\x20('+this[_0x2b2ff7(0x70d)][_0x2b2ff7(0x1ef)]+_0x2b2ff7(0x395)+_0xba9bc7[_0x2b2ff7(0x13d)]+':\x20'+(_0x323c1d instanceof Error?_0x323c1d[_0x2b2ff7(0x729)]:JSON[_0x2b2ff7(0x454)](_0x323c1d,null,0x2)));}let _0xbc5ecb=_0x10d293['participants'][_0x2b2ff7(0x285)](_0x29ccc9=>_0x29ccc9['id']),_0x1ae4f5=_0x463747['map'](_0x1b9997=>_0x1b9997['jid']),_0x296f4a=await this[_0x2b2ff7(0x1a2)][_0x2b2ff7(0x13b)][_0x2b2ff7(0x6be)]([..._0xbc5ecb,..._0x1ae4f5]);_0x10d293['participants']=_0x10d293[_0x2b2ff7(0x58d)][_0x2b2ff7(0x285)](_0x9d51ae=>{const _0x17a287=_0x2b2ff7;let _0x365204=_0x296f4a[_0x17a287(0x7a9)](_0x42f1ea=>_0x42f1ea[_0x17a287(0x710)]===_0x9d51ae['id']);return{'id':_0x9d51ae['id'],'isAdmin':[_0x17a287(0x138),_0x17a287(0x821)][_0x17a287(0x34b)](_0x9d51ae[_0x17a287(0x138)]),'admin':_0x9d51ae[_0x17a287(0x138)],'pushName':_0x365204?.[_0x17a287(0x587)],'profilePictureUrl':_0x365204?.[_0x17a287(0xf0)]};}),_0x10d293[_0x2b2ff7(0x4d0)]=_0x463747[_0x2b2ff7(0x285)](_0x4b5594=>{const _0x1553dc=_0x2b2ff7;let _0x4731c1=_0x296f4a['find'](_0x192c2c=>_0x192c2c[_0x1553dc(0x710)]===_0x4b5594['jid']);return{'id':_0x4b5594[_0x1553dc(0x687)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x4731c1?.[_0x1553dc(0x587)],'profilePictureUrl':_0x4731c1?.[_0x1553dc(0xf0)],'request_method':_0x4b5594['request_method'],'request_time':_0x4b5594[_0x1553dc(0x184)]};});let _0x3d5b6c=await this[_0x2b2ff7(0x1a2)][_0x2b2ff7(0x142)][_0x2b2ff7(0x393)]({'where':{'_id':_0xba9bc7[_0x2b2ff7(0x13d)]}},{'imagechat':_0x10d293[_0x2b2ff7(0x111)],'name':_0x10d293[_0x2b2ff7(0x1ca)],'lastcache':Date[_0x2b2ff7(0x4e4)](),'groupdata':_0x10d293},this[_0x2b2ff7(0x70d)][_0x2b2ff7(0x1ef)]);return j(this[_0x2b2ff7(0x1fc)],_0x2b2ff7(0x72a),{'chat':_0x3d5b6c}),{'metadata':_0x10d293};}catch(_0x2911c6){if(_0x155afa===_0x2b2ff7(0x146))return;throw new J(_0x2b2ff7(0x219),_0x2911c6['message']['toString']());}}async['findGroups'](){const _0x43b358=a0_0x1eb7af;try{let _0x8b02aa=[],_0x20da8b=await this[_0x43b358(0x5ce)]['groupFetchAllParticipating'](),_0x47b7f4=Object[_0x43b358(0x623)](_0x20da8b),_0x4d35d3=_0x47b7f4[_0x43b358(0x19b)](_0x136a40=>(0x0,w[_0x43b358(0x7c4)])(_0x136a40?.['id']))[_0x43b358(0x285)](async _0x31dadd=>{const _0x2683b2=_0x43b358;try{return await this[_0x2683b2(0x5ce)][_0x2683b2(0x677)](_0x31dadd['id'],'preview');}catch(_0x3a19f5){return this[_0x2683b2(0x6d5)][_0x2683b2(0x4e7)](this[_0x2683b2(0x1fc)]+'\x20('+this[_0x2683b2(0x70d)][_0x2683b2(0x1ef)]+_0x2683b2(0x395)+_0x31dadd['id']+':\x20'+(_0x3a19f5 instanceof Error?_0x3a19f5[_0x2683b2(0x729)]:JSON['stringify'](_0x3a19f5,null,0x2))),null;}}),_0x50da60=await Promise[_0x43b358(0x44d)](_0x4d35d3);for(let _0x540bc8=0x0;_0x540bc8<_0x47b7f4[_0x43b358(0x3fe)];_0x540bc8++){let _0x4abb93=_0x47b7f4[_0x540bc8];(0x0,w[_0x43b358(0x7c4)])(_0x4abb93?.['id'])&&(_0x8b02aa[_0x43b358(0x46f)]({'groupJid':_0x4abb93?.['id'],'subject':_0x4abb93?.[_0x43b358(0x1ca)],'subjectOwner':_0x4abb93?.[_0x43b358(0x1db)]?.[_0x43b358(0x17f)]('@')[0x0],'subjectTime':_0x4abb93?.[_0x43b358(0x4b0)],'creation':_0x4abb93?.[_0x43b358(0x150)],'size':_0x4abb93?.[_0x43b358(0x58d)]?.[_0x43b358(0x3fe)],'owner':_0x4abb93?.[_0x43b358(0x337)]?.['split']('@')[0x0],'desc':_0x4abb93?.['desc'],'restrict':_0x4abb93?.[_0x43b358(0x47a)],'announce':_0x4abb93?.[_0x43b358(0x483)],'image':_0x50da60[_0x540bc8],'isCommunity':_0x4abb93?.[_0x43b358(0x5ab)],'joinApprovalMode':_0x4abb93?.[_0x43b358(0x280)],'memberCanAddParticipant':_0x4abb93?.[_0x43b358(0x50e)],'participants':_0x4abb93?.[_0x43b358(0x58d)],'descOwner':_0x4abb93?.['descOwner'],'descId':_0x4abb93?.[_0x43b358(0x20d)],'memberAddMode':_0x4abb93?.[_0x43b358(0x50e)],'isCommunityAnnounce':_0x4abb93?.['isCommunityAnnounce'],'ephemeralDuration':_0x4abb93?.[_0x43b358(0x12d)]||0x0,'author':_0x4abb93?.[_0x43b358(0x3e2)]}),this[_0x43b358(0x69a)](_0x47b7f4[_0x540bc8]));}return _0x8b02aa;}catch(_0x25061a){let _0x374c81=_0x43b358(0x5bc),_0x299890=_0x25061a instanceof Error?_0x25061a[_0x43b358(0x729)]:typeof _0x25061a==_0x43b358(0x23d)?JSON[_0x43b358(0x454)](_0x25061a):_0x25061a,_0x3bceea=_0x374c81+':\x20'+_0x299890;throw this[_0x43b358(0x6d5)][_0x43b358(0x299)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x43b358(0x538)+_0x3bceea),new J(_0x3bceea);}}async[a0_0x1eb7af(0x69a)](_0x563cfc){const _0x5828d3=a0_0x1eb7af;let _0x370dca=await this[_0x5828d3(0x1a2)][_0x5828d3(0x142)][_0x5828d3(0x1be)]({'where':{'_id':_0x563cfc['id']}},this[_0x5828d3(0x70d)][_0x5828d3(0x1ef)]);_0x563cfc['subjectTime']=_0x563cfc?.[_0x5828d3(0x4b0)]&&_0x563cfc['subjectTime']['toString']()[_0x5828d3(0x3fe)]<0xd?_0x563cfc?.[_0x5828d3(0x4b0)]*0x3e8:_0x563cfc?.[_0x5828d3(0x4b0)]||null,_0x563cfc[_0x5828d3(0x150)]=_0x563cfc?.[_0x5828d3(0x150)]&&_0x563cfc[_0x5828d3(0x150)]['toString']()[_0x5828d3(0x3fe)]<0xd?_0x563cfc?.[_0x5828d3(0x150)]*0x3e8:_0x563cfc?.[_0x5828d3(0x150)]||null;let _0x26a1ea=_0x370dca?.[_0x5828d3(0x16c)]?.[_0x5828d3(0x4d0)]||[],_0x3ad32f=_0x370dca?.['groupdata']?.[_0x5828d3(0x50a)],_0x340958=_0x563cfc['participants'][_0x5828d3(0x285)](_0x34c86a=>{const _0x508418=_0x5828d3;let _0x215f0e=_0x370dca?.[_0x508418(0x16c)]?.[_0x508418(0x58d)][_0x508418(0x7a9)](_0x4a8a99=>_0x4a8a99['id']===_0x34c86a['id']);return{..._0x34c86a,'isAdmin':[_0x508418(0x138),_0x508418(0x821)][_0x508418(0x34b)](_0x34c86a['admin']),'admin':_0x34c86a[_0x508418(0x138)],'name':_0x215f0e?.[_0x508418(0x587)]||_0x34c86a[_0x508418(0x587)],'imgUrl':_0x215f0e?.[_0x508418(0x18c)]||_0x34c86a['imgUrl']};}),_0x966735=_0x340958[_0x5828d3(0x31e)](_0x301d41=>_0x301d41['id']===this[_0x5828d3(0x70d)][_0x5828d3(0x1ef)]+_0x5828d3(0x21c)&&_0x301d41[_0x5828d3(0x5bb)]),_0x203db6=(!_0x563cfc[_0x5828d3(0x483)]||_0x966735)&&(!_0x563cfc[_0x5828d3(0x5ab)]||_0x563cfc[_0x5828d3(0x5ab)]&&_0x563cfc['isCommunityAnnounce']&&_0x966735),_0x52f519={..._0x563cfc,'participants':_0x340958,'awaitingApproval':_0x26a1ea,'lastFetchAwaitingApproval':_0x3ad32f,'isAdmin':_0x966735,'canSendMessage':_0x203db6,'lastUpdate':Date[_0x5828d3(0x4e4)]()};await this[_0x5828d3(0x1a2)][_0x5828d3(0x142)][_0x5828d3(0x393)]({'where':{'_id':_0x563cfc['id']}},{'name':_0x563cfc[_0x5828d3(0x1ca)],'group':!0x0,'groupdata':_0x52f519,'lastcache':Date[_0x5828d3(0x4e4)]()},this['instance'][_0x5828d3(0x1ef)]),j(this[_0x5828d3(0x1fc)],_0x5828d3(0x72a),{'chat':_0x563cfc});}async['updateGroupWebhook'](_0x1ba732){const _0x30faa6=a0_0x1eb7af;let _0x596eba=await this[_0x30faa6(0x1a2)][_0x30faa6(0x142)][_0x30faa6(0x1be)]({'where':{'_id':_0x1ba732['id']}},this[_0x30faa6(0x70d)][_0x30faa6(0x1ef)]);_0x1ba732[_0x30faa6(0x4b0)]=_0x1ba732?.[_0x30faa6(0x4b0)]&&_0x1ba732[_0x30faa6(0x4b0)][_0x30faa6(0x725)]()[_0x30faa6(0x3fe)]<0xd?_0x1ba732?.[_0x30faa6(0x4b0)]*0x3e8:_0x1ba732?.[_0x30faa6(0x4b0)]||null,_0x1ba732[_0x30faa6(0x150)]=_0x1ba732?.[_0x30faa6(0x150)]&&_0x1ba732[_0x30faa6(0x150)][_0x30faa6(0x725)]()['length']<0xd?_0x1ba732?.[_0x30faa6(0x150)]*0x3e8:_0x1ba732?.['creation']||null,_0x1ba732[_0x30faa6(0x3ab)]&&(_0x1ba732[_0x30faa6(0x3ab)]=_0x30faa6(0x4c6)+_0x1ba732[_0x30faa6(0x3ab)]);let _0x36b253=_0x596eba?.[_0x30faa6(0x16c)]?{..._0x596eba['groupdata']}:{};Object[_0x30faa6(0x81b)](_0x1ba732)[_0x30faa6(0x7d3)](_0x44167f=>{_0x44167f!=='id'&&(_0x36b253[_0x44167f]=_0x1ba732[_0x44167f]);});let _0x2ee59e=_0x36b253[_0x30faa6(0x58d)]?.[_0x30faa6(0x31e)](_0x4eece5=>_0x4eece5['id']===this['instance'][_0x30faa6(0x1ef)]+_0x30faa6(0x21c)&&_0x4eece5[_0x30faa6(0x5bb)])||!0x1;_0x36b253[_0x30faa6(0x5bb)]=_0x2ee59e;let _0x365f9b=(!_0x36b253[_0x30faa6(0x483)]||_0x2ee59e)&&(!_0x36b253[_0x30faa6(0x5ab)]||_0x36b253[_0x30faa6(0x5ab)]&&_0x36b253[_0x30faa6(0x386)]&&_0x2ee59e);_0x36b253[_0x30faa6(0x1c6)]=_0x365f9b;let _0x3db4af={'group':!0x0,'groupdata':_0x36b253};_0x1ba732[_0x30faa6(0x1ca)]&&(_0x3db4af[_0x30faa6(0x587)]=_0x1ba732['subject']),await this[_0x30faa6(0x1a2)][_0x30faa6(0x142)][_0x30faa6(0x393)]({'where':{'_id':_0x1ba732['id']}},_0x3db4af,this['instance'][_0x30faa6(0x1ef)],{'upsert':!0x0}),j(this[_0x30faa6(0x1fc)],'chats',{'chat':_0x3db4af});}async[a0_0x1eb7af(0x5c0)](_0x1c0f26){const _0x5809d4=a0_0x1eb7af;let _0x33ebae=await this[_0x5809d4(0x1a2)][_0x5809d4(0x142)][_0x5809d4(0x1be)]({'where':{'_id':_0x1c0f26['id']}},this['instance']['wuid']);if(!_0x33ebae||!_0x33ebae[_0x5809d4(0x16c)]){this[_0x5809d4(0x6d5)][_0x5809d4(0x353)](this[_0x5809d4(0x1fc)]+'\x20('+this[_0x5809d4(0x70d)][_0x5809d4(0x1ef)]+'):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20'+_0x1c0f26['id']);return;}let _0x66220e=await this[_0x5809d4(0x1a2)][_0x5809d4(0x13b)]['findManyByIds'](_0x1c0f26['participants']),_0x4d073a=[..._0x33ebae['groupdata']?.['participants']];switch(_0x1c0f26[_0x5809d4(0x43a)]){case _0x5809d4(0x309):let _0x8d846e=_0x66220e[_0x5809d4(0x285)](_0x7c0855=>({'id':_0x7c0855[_0x5809d4(0x710)],'isAdmin':!0x1,'name':_0x7c0855[_0x5809d4(0x587)],'imgUrl':_0x7c0855[_0x5809d4(0xf0)]}));_0x4d073a=[..._0x4d073a,..._0x8d846e];break;case _0x5809d4(0x67e):_0x4d073a=_0x4d073a[_0x5809d4(0x19b)](_0x21f087=>!_0x1c0f26[_0x5809d4(0x58d)][_0x5809d4(0x34b)](_0x21f087['id']));break;case _0x5809d4(0x3cc):case'demote':_0x4d073a=_0x4d073a[_0x5809d4(0x285)](_0x4f0508=>_0x1c0f26[_0x5809d4(0x58d)][_0x5809d4(0x34b)](_0x4f0508['id'])?{..._0x4f0508,'isAdmin':_0x1c0f26[_0x5809d4(0x43a)]===_0x5809d4(0x3cc)}:_0x4f0508);break;}let _0x5ad8c8=_0x4d073a['length'],_0x5769b4=_0x4d073a['some'](_0x298555=>_0x298555['id']===this['instance'][_0x5809d4(0x1ef)]+_0x5809d4(0x21c)),_0x2cb660=_0x5769b4&&_0x4d073a['some'](_0x5d18cf=>_0x5d18cf['id']===this['instance'][_0x5809d4(0x1ef)]+'@s.whatsapp.net'&&_0x5d18cf[_0x5809d4(0x5bb)]),_0x240ea6=_0x5769b4&&(!_0x33ebae[_0x5809d4(0x16c)][_0x5809d4(0x483)]||_0x2cb660)&&(!_0x33ebae['groupdata'][_0x5809d4(0x5ab)]||_0x33ebae['groupdata']['isCommunity']&&_0x2cb660);await this[_0x5809d4(0x1a2)][_0x5809d4(0x142)][_0x5809d4(0x393)]({'where':{'_id':_0x1c0f26['id']}},{'groupdata':{..._0x33ebae[_0x5809d4(0x16c)],'participants':_0x4d073a,'size':_0x5ad8c8,'isAdmin':_0x2cb660,'canSendMessage':_0x240ea6}},this['instance'][_0x5809d4(0x1ef)]),this[_0x5809d4(0x6d5)][_0x5809d4(0x353)](this[_0x5809d4(0x1fc)]+'\x20('+this[_0x5809d4(0x70d)][_0x5809d4(0x1ef)]+_0x5809d4(0x3c0)+_0x1c0f26['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x1c0f26[_0x5809d4(0x43a)]+_0x5809d4(0x29b)+_0x5ad8c8+_0x5809d4(0xeb)+_0x2cb660+_0x5809d4(0x15f)+_0x240ea6);}async[a0_0x1eb7af(0x3ab)](_0x3d7983,_0x252c4f=!0x0){const _0x17b819=a0_0x1eb7af;try{let _0x3fd461=await this['client'][_0x17b819(0x317)](_0x3d7983[_0x17b819(0x13d)]),_0xa4742a={'groupdata.inviteCode':_0x17b819(0x4c6)+_0x3fd461};if(_0x252c4f){let _0x4ec294=await this[_0x17b819(0x1a2)][_0x17b819(0x142)][_0x17b819(0x393)]({'where':{'_id':_0x3d7983[_0x17b819(0x13d)]}},_0xa4742a,this[_0x17b819(0x70d)][_0x17b819(0x1ef)]);}return{'inviteUrl':_0x17b819(0x4c6)+_0x3fd461,'inviteCode':_0x3fd461};}catch(_0x44f512){let _0x1fc863=_0x17b819(0x16f),_0x3d4f1a=_0x44f512 instanceof Error?_0x44f512['message']:typeof _0x44f512==_0x17b819(0x23d)?JSON[_0x17b819(0x454)](_0x44f512):_0x44f512,_0x36f917=_0x1fc863+':\x20'+_0x3d4f1a;throw this['logger'][_0x17b819(0x299)](this['instanceName']+'\x20('+this[_0x17b819(0x70d)][_0x17b819(0x1ef)]+_0x17b819(0x538)+_0x36f917),new J(_0x36f917);}}async[a0_0x1eb7af(0x41e)](_0x4418b0){const _0x5b7cb3=a0_0x1eb7af;try{let _0x39c049=await this['client']['groupRevokeInvite'](_0x4418b0[_0x5b7cb3(0x13d)]);return{'revoked':!0x0,'inviteUrl':_0x5b7cb3(0x4c6)+_0x39c049,'inviteCode':_0x39c049};}catch(_0x3d1294){let _0x1ebc5d=_0x5b7cb3(0x145),_0x938fd4=_0x3d1294 instanceof Error?_0x3d1294[_0x5b7cb3(0x729)]:typeof _0x3d1294==_0x5b7cb3(0x23d)?JSON['stringify'](_0x3d1294):_0x3d1294,_0x208920=_0x1ebc5d+':\x20'+_0x938fd4;throw this[_0x5b7cb3(0x6d5)][_0x5b7cb3(0x299)](this[_0x5b7cb3(0x1fc)]+'\x20('+this[_0x5b7cb3(0x70d)][_0x5b7cb3(0x1ef)]+_0x5b7cb3(0x538)+_0x208920),new J(_0x208920);}}async[a0_0x1eb7af(0x65e)](_0x278ea3){const _0x5601e8=a0_0x1eb7af;try{if((0x0,k[_0x5601e8(0x693)])(_0x278ea3['inviteCode']))var _0x277bb1=_0x278ea3[_0x5601e8(0x3ab)][_0x5601e8(0x17f)]('/')[0x3];else var _0x277bb1=_0x278ea3[_0x5601e8(0x3ab)];let _0x5b43ad=await this['client'][_0x5601e8(0x2b2)](_0x277bb1);return this[_0x5601e8(0x6d5)][_0x5601e8(0x4e7)](this[_0x5601e8(0x1fc)]+'\x20('+this[_0x5601e8(0x70d)][_0x5601e8(0x1ef)]+_0x5601e8(0x538)+_0x5b43ad),{'join':!0x0,'inviteCode':_0x277bb1,'groupJid':_0x5b43ad};}catch(_0x41e8a0){let _0x1957b3=_0x5601e8(0x6a0),_0x553198=_0x41e8a0 instanceof Error?_0x41e8a0['message']:typeof _0x41e8a0==_0x5601e8(0x23d)?JSON[_0x5601e8(0x454)](_0x41e8a0):_0x41e8a0,_0x2c178d=_0x1957b3+':\x20'+_0x553198;throw this['logger'][_0x5601e8(0x299)](this['instanceName']+'\x20('+this[_0x5601e8(0x70d)][_0x5601e8(0x1ef)]+_0x5601e8(0x538)+_0x2c178d),new J(_0x2c178d);}}async[a0_0x1eb7af(0x377)](_0x27a738){const _0x120f4f=a0_0x1eb7af;try{return{'participants':(await this[_0x120f4f(0x1a2)][_0x120f4f(0x142)][_0x120f4f(0x1be)]({'where':{'_id':_0x27a738['groupJid']}},this[_0x120f4f(0x70d)]['wuid']))[_0x120f4f(0x16c)]['participants']};}catch(_0x482f74){let _0x58632d=_0x120f4f(0x258),_0x37daa7=_0x482f74 instanceof Error?_0x482f74[_0x120f4f(0x729)]:typeof _0x482f74=='object'?JSON[_0x120f4f(0x454)](_0x482f74):_0x482f74,_0x1dfb90=_0x58632d+':\x20'+_0x37daa7;throw this[_0x120f4f(0x6d5)]['error'](this[_0x120f4f(0x1fc)]+'\x20('+this[_0x120f4f(0x70d)][_0x120f4f(0x1ef)]+_0x120f4f(0x538)+_0x1dfb90),new J(_0x1dfb90);}}async['leaveGroup'](_0x4bc60b){const _0x13ff2a=a0_0x1eb7af;try{return await this[_0x13ff2a(0x5ce)][_0x13ff2a(0x49b)](_0x4bc60b['groupJid']),{'groupJid':_0x4bc60b[_0x13ff2a(0x13d)],'leave':!0x0};}catch(_0x2795b3){let _0x3cbcab=_0x13ff2a(0x64f),_0x34cb48=_0x2795b3 instanceof Error?_0x2795b3[_0x13ff2a(0x729)]:typeof _0x2795b3==_0x13ff2a(0x23d)?JSON['stringify'](_0x2795b3):_0x2795b3,_0x14bb00=_0x3cbcab+':\x20'+_0x34cb48;throw this[_0x13ff2a(0x6d5)]['error'](this[_0x13ff2a(0x1fc)]+'\x20('+this[_0x13ff2a(0x70d)][_0x13ff2a(0x1ef)]+'):\x20'+_0x14bb00),new m(_0x14bb00);}}async[a0_0x1eb7af(0x217)](_0x2efe20){const _0x488228=a0_0x1eb7af;return await this['sendMessageWithTyping'](_0x2efe20['number'],{'poll':{'name':_0x2efe20[_0x488228(0x217)]?.['name'],'selectableCount':_0x2efe20[_0x488228(0x217)][_0x488228(0x462)],'values':_0x2efe20['pollMessage'][_0x488228(0x623)]}},_0x2efe20?.['options']);}async['listMessage'](_0x277c75){const _0xc27866=a0_0x1eb7af;return await this['sendMessageWithTyping'](_0x277c75[_0xc27866(0x41f)],{'listMessage':{'title':_0x277c75[_0xc27866(0x765)][_0xc27866(0x2bd)],'description':_0x277c75['listMessage']['description'],'buttonText':_0x277c75[_0xc27866(0x765)]?.['buttonText'],'footerText':_0x277c75[_0xc27866(0x765)]?.[_0xc27866(0x640)],'sections':_0x277c75[_0xc27866(0x765)]['sections'],'listType':0x2}},_0x277c75?.[_0xc27866(0x6bc)]);}async[a0_0x1eb7af(0x38c)](_0x30d678){const _0x549b66=a0_0x1eb7af;let _0x57b2dc;if(_0x30d678['menuMessage'][_0x549b66(0x813)]==='list'){let _0x8096e=_0x30d678['menuMessage'][_0x549b66(0x3e8)][_0x549b66(0x561)]('\x0a'),_0x3c8b6e='',_0xff01b='';_0x8096e!==-0x1?(_0x3c8b6e=_0x30d678[_0x549b66(0x38c)][_0x549b66(0x3e8)][_0x549b66(0x526)](0x0,_0x8096e)['trim'](),_0xff01b=_0x30d678[_0x549b66(0x38c)][_0x549b66(0x3e8)][_0x549b66(0x526)](_0x8096e+0x1)):_0xff01b=_0x30d678[_0x549b66(0x38c)][_0x549b66(0x3e8)];let _0x2caa98=_0x30d678['menuMessage'][_0x549b66(0x176)][_0x549b66(0x19b)](_0x103f3b=>_0x103f3b[_0x549b66(0x30f)]()!==''),_0x227f9e=this[_0x549b66(0x5b8)](_0x2caa98);_0x57b2dc={'listMessage':{'title':_0x3c8b6e,'description':_0xff01b,'buttonText':_0x30d678[_0x549b66(0x38c)][_0x549b66(0x61f)]||'Selecione','footerText':_0x30d678[_0x549b66(0x38c)][_0x549b66(0x640)],'sections':_0x227f9e,'listType':0x2}};}else{if(_0x30d678[_0x549b66(0x38c)][_0x549b66(0x813)]===_0x549b66(0x2ee)){let _0x245e0d=_0x30d678[_0x549b66(0x38c)]['choices']['filter'](_0x151d06=>!(_0x151d06[_0x549b66(0x24d)]('[')&&_0x151d06['endsWith'](']'))&&_0x151d06[_0x549b66(0x30f)]()!=='')[_0x549b66(0x285)](_0x3d2957=>_0x3d2957[_0x549b66(0x17f)]('\x0a')[0x0]);_0x57b2dc={'poll':{'name':_0x30d678[_0x549b66(0x38c)][_0x549b66(0x3e8)],'selectableCount':_0x30d678[_0x549b66(0x38c)][_0x549b66(0x462)]||0x1,'values':_0x245e0d}};}}return await this[_0x549b66(0x2a7)](_0x30d678['number'],_0x57b2dc,_0x30d678?.[_0x549b66(0x6bc)]);}[a0_0x1eb7af(0x5b8)](_0x41b2ce){const _0x5d3e84=a0_0x1eb7af;let _0x33e211=[],_0x59b9f7={'rows':[]};return _0x41b2ce[_0x5d3e84(0x7d3)](_0x336c1b=>{const _0x1c8d66=_0x5d3e84;if(_0x336c1b[_0x1c8d66(0x24d)]('[')&&_0x336c1b[_0x1c8d66(0x59e)](']'))_0x59b9f7[_0x1c8d66(0x22c)][_0x1c8d66(0x3fe)]>0x0&&_0x33e211['push'](_0x59b9f7),_0x59b9f7={'title':_0x336c1b[_0x1c8d66(0x302)](0x1,-0x1),'rows':[]};else{let _0x32c028=_0x336c1b[_0x1c8d66(0x17f)]('\x0a')[_0x1c8d66(0x285)](_0x1bfbbc=>_0x1bfbbc[_0x1c8d66(0x30f)]()),_0x99c497=_0x32c028[0x0],_0x35c6ab=_0x32c028[0x1]||null,_0x477221=_0x32c028[0x2]||_0x99c497;_0x59b9f7[_0x1c8d66(0x22c)][_0x1c8d66(0x46f)]({'title':_0x99c497,'description':_0x35c6ab,'rowId':_0x477221});}}),_0x59b9f7[_0x5d3e84(0x22c)][_0x5d3e84(0x3fe)]>0x0&&_0x33e211[_0x5d3e84(0x46f)](_0x59b9f7),_0x33e211;}async[a0_0x1eb7af(0x602)](_0x2392f7,_0x24b81b){const _0x132172=a0_0x1eb7af;if(await this['getMessage'](_0x2392f7,!0x0)){let _0x203803={'where':{'_id':_0x2392f7['id']}},_0x167215={'status':[_0x24b81b[_0x132172(0x771)]][0x0]};try{let _0x14c510=await this[_0x132172(0x1a2)]['message'][_0x132172(0x7f1)](_0x203803,_0x167215,this['instance']['wuid']);_0x14c510&&j(this[_0x132172(0x1fc)],_0x132172(0x6a6),{'message':_0x14c510});}catch{}}}[a0_0x1eb7af(0x7db)](_0x1f7a5e){const _0x5bbc85=a0_0x1eb7af;let _0x36e38f=[];return _0x1f7a5e[_0x5bbc85(0x7d3)](_0x4775cb=>{const _0x40dd2b=_0x5bbc85;_0x4775cb[_0x40dd2b(0x2bd)]&&_0x36e38f[_0x40dd2b(0x46f)]('['+_0x4775cb['title']+']'),_0x4775cb['rows'][_0x40dd2b(0x7d3)](_0x3efe4e=>{const _0x2bbba0=_0x40dd2b;_0x36e38f[_0x2bbba0(0x46f)](_0x3efe4e[_0x2bbba0(0x2bd)]);});}),_0x36e38f[_0x5bbc85(0x17d)]('|');}[a0_0x1eb7af(0x242)](_0x47bff3){const _0x106566=a0_0x1eb7af;let _0x282a9c=_0x47bff3[_0x106566(0x517)](/\\n/g,'\x0a')[_0x106566(0x17f)]('\x0a')[_0x106566(0x19b)](_0x377cc5=>_0x377cc5[_0x106566(0x34b)](_0x106566(0x368))||_0x377cc5[_0x106566(0x34b)](_0x106566(0x827))),_0x13ddf4='';return _0x282a9c[_0x106566(0x7d3)](_0x597722=>{const _0x47d138=_0x106566;let _0x5339db=/TEL(?:.*):(.+)/,_0x42d855=/EMAIL(?:.*):(.+)/,_0x528148=_0x597722[_0x47d138(0x278)](_0x5339db),_0x17305f=_0x597722[_0x47d138(0x278)](_0x42d855);if(_0x528148){let _0x2becb8=_0x528148[0x1][_0x47d138(0x517)](/-| |\+|\(|\)/g,'')[_0x47d138(0x30f)]();_0x13ddf4+='Telefone:\x20'+_0x2becb8+'\x0a';}else{if(_0x17305f){let _0x46625f=_0x17305f[0x1][_0x47d138(0x30f)]();_0x13ddf4+=_0x47d138(0x19e)+_0x46625f+'\x0a';}}}),_0x13ddf4[_0x106566(0x30f)]();}async[a0_0x1eb7af(0x4b6)](_0x306667,_0xbc1ebf,_0x38fc2d,_0x2139b7=null){const _0x1e638a=a0_0x1eb7af;if(_0x306667['ENABLED'])try{let _0x18427b=_0xbc1ebf['key'][_0x1e638a(0x4c9)][_0x1e638a(0x517)](/:\d{1,2}@/g,'@'),_0x4b0d28=_0xbc1ebf[_0x1e638a(0x6b3)][_0x1e638a(0x724)],_0x1ec4b0=_0x18427b['endsWith'](_0x1e638a(0x331)),_0x124295=_0xbc1ebf['participant']?.[_0x1e638a(0x517)](/:\d{1,2}@/g,'@')||'',_0x5a0096=_0xbc1ebf['message_normalized']?.[_0x1e638a(0x3e8)]||_0xbc1ebf[_0x1e638a(0x1cd)]?.[_0x1e638a(0x762)]||_0xbc1ebf[_0x1e638a(0x1cd)]?.[_0x1e638a(0x400)]||_0xbc1ebf[_0x1e638a(0x1cd)]?.[_0x1e638a(0x587)]||'',_0x4c4826={'_id':_0xbc1ebf[_0x1e638a(0x710)],'remoteJid':_0x4b0d28?this[_0x1e638a(0x70d)]['wuid']:_0x1ec4b0?_0x124295:_0x18427b,'pushName':_0x4b0d28?this[_0x1e638a(0x70d)]['profileName']||'Eu':_0xbc1ebf[_0x1e638a(0x810)],'text':_0x5a0096,'type':_0xbc1ebf[_0x1e638a(0x7fe)],'when':_0xbc1ebf['messageTimestamp']||Date[_0x1e638a(0x4e4)]()};_0x2139b7||(_0x2139b7=await this[_0x1e638a(0x1a2)][_0x1e638a(0x142)][_0x1e638a(0x1be)]({'where':{'_id':_0x18427b}},this['instance'][_0x1e638a(0x1ef)]));let _0xe6353d=_0x2139b7?_0x4b0d28?_0x2139b7[_0x1e638a(0x12e)]:(_0x2139b7[_0x1e638a(0x12e)]||0x0)+0x1:_0x4b0d28?0x0:0x1,_0x16434b={'lastmsg':_0xbc1ebf[_0x1e638a(0x613)]||Date[_0x1e638a(0x4e4)](),'ephemeralExpiration':_0xbc1ebf[_0x1e638a(0x340)],'lastMessage':_0x4c4826,'unreadcount':_0xe6353d,..._0x4b0d28||_0x1ec4b0?{}:{'name':_0xbc1ebf['pushName']},..._0x1ec4b0?{'group':_0x1ec4b0}:{},...!_0x4b0d28&&!_0x1ec4b0&&_0xbc1ebf['profilePictureUrl']?{'imagechat':_0xbc1ebf[_0x1e638a(0x677)]}:{}};if(!_0x1ec4b0&&(!_0x2139b7?.[_0x1e638a(0x523)]||!_0x2139b7[_0x1e638a(0x523)][_0x1e638a(0xea)])&&_0xbc1ebf[_0x1e638a(0x810)]&&!_0x4b0d28&&(_0x16434b={..._0x16434b,'leadInfo.nome':_0xbc1ebf[_0x1e638a(0x810)]}),_0x2139b7?.[_0x1e638a(0x523)][_0x1e638a(0x1d2)]||(_0x16434b={..._0x16434b,'leadInfo.etiquetas':[]}),_0x2139b7?.['leadInfo'][_0x1e638a(0x123)]||(_0x16434b={..._0x16434b,'leadInfo.customFields':[]}),_0x2139b7?.['leadInfo'][_0x1e638a(0x49f)]||(_0x16434b={..._0x16434b,'leadInfo.tags':[]}),_0x2139b7&&_0x2139b7?.[_0x1e638a(0x2fc)]){let _0x4dd36c=await this[_0x1e638a(0x1a2)]['label'][_0x1e638a(0x7a9)]({'where':{}},this[_0x1e638a(0x70d)]['wuid']),_0x505204=new Set(_0x4dd36c['map'](_0x291a7d=>_0x291a7d[_0x1e638a(0x710)])),_0x5cc506=(_0x2139b7[_0x1e638a(0x523)]?.['etiquetas']||[])[_0x1e638a(0x19b)](_0xbe4aea=>_0x505204[_0x1e638a(0x4b1)](_0xbe4aea));_0x16434b={..._0x16434b,'imported':!0x1,'leadInfo.etiquetas':_0x5cc506};for(let _0x42cbc8 of _0x5cc506)await this['AddChatLabel'](_0x42cbc8,_0x18427b);}if(!this['AutomateSystem']['flows'][_0x1e638a(0x7a9)](_0x9c7f3e=>_0x9c7f3e[_0x1e638a(0x155)]&&_0x5a0096[_0x1e638a(0x34b)](_0x9c7f3e[_0x1e638a(0x155)]))&&_0x38fc2d===_0x1e638a(0x6f6)&&_0x4b0d28&&this[_0x1e638a(0x3bb)]?.['flowConfig']['enabled']&&_0x5a0096[_0x1e638a(0x30f)]()!==this['AutomateSystem']?.[_0x1e638a(0x24f)][_0x1e638a(0x74b)][_0x1e638a(0x30f)]()){let _0x1df2dd=(this[_0x1e638a(0x3bb)]?.[_0x1e638a(0x24f)][_0x1e638a(0x18b)]||0x0)*0xea60,_0x5abec0=Date[_0x1e638a(0x4e4)]()+_0x1df2dd;_0x2139b7?.[_0x1e638a(0x523)]?.[_0x1e638a(0x756)]===0x0||(_0x16434b={..._0x16434b,'leadInfo.desativadoFluxoAte':_0x5abec0},this['logger'][_0x1e638a(0x4e7)](this[_0x1e638a(0x1fc)]+'\x20('+this[_0x1e638a(0x70d)][_0x1e638a(0x1ef)]+_0x1e638a(0x256)+_0x5abec0+'.'));}if(_0x5a0096['trim']()===this[_0x1e638a(0x3bb)]?.[_0x1e638a(0x24f)][_0x1e638a(0x74b)][_0x1e638a(0x30f)]()){this['logger'][_0x1e638a(0x4e7)](this[_0x1e638a(0x1fc)]+'\x20('+this[_0x1e638a(0x70d)][_0x1e638a(0x1ef)]+_0x1e638a(0x79f)+_0x5a0096);let _0x2515d6=Date[_0x1e638a(0x4e4)]();this['AutomateSystem']?.[_0x1e638a(0x24f)][_0x1e638a(0x58f)]===0x0?_0x16434b={..._0x16434b,'leadInfo.desativadoFluxoAte':_0x2515d6+0x7591f6200}:_0x16434b={..._0x16434b,'leadInfo.desativadoFluxoAte':_0x2515d6+this[_0x1e638a(0x3bb)]?.[_0x1e638a(0x24f)][_0x1e638a(0x58f)]*0x3c*0x3e8};}if(_0x2139b7=await this['repository'][_0x1e638a(0x142)][_0x1e638a(0x393)]({'where':{'_id':_0x18427b}},_0x16434b,this['instance'][_0x1e638a(0x1ef)],{'new':!0x0,'upsert':!0x0}),_0x2139b7)j(this[_0x1e638a(0x1fc)],_0x1e638a(0x72a),{'chat':_0x2139b7});else{this['logger']['error'](this['instanceName']+'\x20('+this[_0x1e638a(0x70d)][_0x1e638a(0x1ef)]+_0x1e638a(0x305));return;}if(_0x4b0d28)return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1e638a(0x70d)][_0x1e638a(0x1ef)]+_0x1e638a(0x426)),null;if(!this[_0x1e638a(0x3bb)]?.[_0x1e638a(0x24f)]['enabled'])return this[_0x1e638a(0x6d5)][_0x1e638a(0x4e7)](this[_0x1e638a(0x1fc)]+'\x20('+this[_0x1e638a(0x70d)][_0x1e638a(0x1ef)]+_0x1e638a(0x231)),null;if(_0x2139b7[_0x1e638a(0x710)][_0x1e638a(0x34b)](_0x1e638a(0x331))&&this[_0x1e638a(0x3bb)]?.[_0x1e638a(0x24f)][_0x1e638a(0x15c)]===!0x0)return this[_0x1e638a(0x6d5)]['verbose'](this[_0x1e638a(0x1fc)]+'\x20('+this['instance'][_0x1e638a(0x1ef)]+_0x1e638a(0x7b8)),null;if(_0x2139b7[_0x1e638a(0x523)]){if(_0x2139b7[_0x1e638a(0x523)][_0x1e638a(0x756)]===0x0||_0x2139b7[_0x1e638a(0x523)][_0x1e638a(0x7f3)])return this[_0x1e638a(0x6d5)][_0x1e638a(0x4e7)](this[_0x1e638a(0x1fc)]+'\x20('+this[_0x1e638a(0x70d)][_0x1e638a(0x1ef)]+_0x1e638a(0x819)+_0x18427b+_0x1e638a(0x56e)),null;if(_0x2139b7[_0x1e638a(0x523)][_0x1e638a(0x756)]>Date[_0x1e638a(0x4e4)]()&&!_0xbc1ebf[_0x1e638a(0x1cd)]?.[_0x1e638a(0x400)])return this[_0x1e638a(0x6d5)]['verbose'](this[_0x1e638a(0x1fc)]+'\x20('+this['instance'][_0x1e638a(0x1ef)]+_0x1e638a(0x103)+new Date(_0x2139b7[_0x1e638a(0x523)][_0x1e638a(0x756)])[_0x1e638a(0x1ac)]()+_0x1e638a(0x56e)),null;}this['logger'][_0x1e638a(0x4e7)](this['instanceName']+'\x20('+this[_0x1e638a(0x70d)][_0x1e638a(0x1ef)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this['StartBot'](_0xbc1ebf,_0x38fc2d);}catch(_0x7a1a13){let _0x1e7418=_0x1e638a(0x29d),_0x2906cf=_0x7a1a13 instanceof Error?_0x7a1a13[_0x1e638a(0x729)]:typeof _0x7a1a13==_0x1e638a(0x23d)?JSON[_0x1e638a(0x454)](_0x7a1a13):_0x7a1a13,_0x1a13fc=_0x1e7418+':\x20'+_0x2906cf;return this[_0x1e638a(0x6d5)][_0x1e638a(0x299)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1e638a(0x538)+_0x1a13fc),null;}}async[a0_0x1eb7af(0x21e)](_0x24b311,_0x2dc96f){const _0x4b1dd6=a0_0x1eb7af;if(_0x2dc96f[_0x4b1dd6(0x412)]){let _0x2d8bb6=_0x24b311[_0x4b1dd6(0x285)](async _0x4e6966=>{const _0xfc7ab=_0x4b1dd6;try{let _0x542cf3={'_id':_0x4e6966[_0xfc7ab(0x710)],'owner':_0x4e6966[_0xfc7ab(0x337)],'lastcache':0x0};if(Object[_0xfc7ab(0x81b)](_0x4e6966)[_0xfc7ab(0x7d3)](_0x4b1d2f=>{_0x4e6966[_0x4b1d2f]!==null&&(_0x542cf3[_0x4b1d2f]=_0x4e6966[_0x4b1d2f]);}),_0x542cf3[_0xfc7ab(0x3ee)]===null&&(_0x542cf3[_0xfc7ab(0x3ee)]='Imagem\x20não\x20encontrada'),Object[_0xfc7ab(0x81b)](_0x542cf3)['length']>0x0)return await this[_0xfc7ab(0x1a2)]['chat']['updateOne']({'where':{'_id':_0x4e6966[_0xfc7ab(0x710)]}},_0x542cf3,this[_0xfc7ab(0x70d)][_0xfc7ab(0x1ef)]);}catch(_0x2c890c){let _0x1926ec=_0xfc7ab(0x25f)+_0x4e6966['_id'],_0x2ea6e6=_0x2c890c instanceof Error?_0x2c890c['message']:typeof _0x2c890c=='object'?JSON['stringify'](_0x2c890c):_0x2c890c,_0x22b662=_0x1926ec+':\x20'+_0x2ea6e6;return this[_0xfc7ab(0x6d5)][_0xfc7ab(0x299)](this[_0xfc7ab(0x1fc)]+'\x20('+this[_0xfc7ab(0x70d)][_0xfc7ab(0x1ef)]+_0xfc7ab(0x538)+_0x22b662),null;}}),_0x242b17=(await Promise[_0x4b1dd6(0x44d)](_0x2d8bb6))[_0x4b1dd6(0x19b)](_0x16a126=>_0x16a126!==null)[_0x4b1dd6(0x3fe)];this['logger'][_0x4b1dd6(0x4e7)](this['instanceName']+'\x20('+this[_0x4b1dd6(0x70d)]['wuid']+'):\x20'+_0x242b17+_0x4b1dd6(0x3da)+this['instance'][_0x4b1dd6(0x1ef)]+_0x4b1dd6(0x431));}}async[a0_0x1eb7af(0x503)](_0x4515b9){const _0x4ea0ab=a0_0x1eb7af;this[_0x4ea0ab(0x6d5)][_0x4ea0ab(0x4e7)](this[_0x4ea0ab(0x1fc)]+'\x20('+this[_0x4ea0ab(0x70d)][_0x4ea0ab(0x1ef)]+'):\x20Ler\x20mensagem');let _0x3abdc5={'readMessages':[{'remoteJid':_0x4515b9[_0x4ea0ab(0x69d)][_0x4ea0ab(0x3d0)][_0x4ea0ab(0x6b3)][_0x4ea0ab(0x4c9)],'fromMe':_0x4515b9[_0x4ea0ab(0x69d)][_0x4ea0ab(0x3d0)][_0x4ea0ab(0x6b3)]['fromMe'],'id':_0x4515b9[_0x4ea0ab(0x69d)][_0x4ea0ab(0x3d0)]['key']['id']}]};await this[_0x4ea0ab(0x5ee)](_0x3abdc5);}async[a0_0x1eb7af(0x201)](_0x1eddad,_0x2530ee){const _0x685df9=a0_0x1eb7af;try{let {key:_0x5b7f60,message_normalized:_0x68325b}=_0x1eddad,_0x24249e=_0x68325b,_0x1c931c=_0x68325b[_0x685df9(0x3e8)]||_0x68325b['caption']||_0x68325b[_0x685df9(0x400)]||_0x68325b[_0x685df9(0x587)]||'',_0x276557=_0x5b7f60[_0x685df9(0x4c9)],_0x59b3bd=null,_0x32a78f=this[_0x685df9(0x3bb)][_0x685df9(0x551)]['find'](_0x399424=>_0x399424[_0x685df9(0x155)]&&_0x1c931c[_0x685df9(0x34b)](_0x399424[_0x685df9(0x155)]));if(_0x32a78f&&_0x2530ee===_0x685df9(0x6f6)){let _0x4c7525=await this[_0x685df9(0x1a2)]['flow']['findOne']({'where':{'_id':_0x32a78f[_0x685df9(0x710)]}});if(this['logger'][_0x685df9(0x4e7)](this[_0x685df9(0x1fc)]+'\x20('+this['instance'][_0x685df9(0x1ef)]+_0x685df9(0x58a)),_0x4c7525&&_0x4c7525[_0x685df9(0x344)]?.['includes'](this[_0x685df9(0x70d)][_0x685df9(0x1ef)]))_0x59b3bd=await this[_0x685df9(0x3c8)](_0x4c7525,_0x5b7f60,_0x24249e);else return this[_0x685df9(0x6d5)][_0x685df9(0x4e7)](this[_0x685df9(0x1fc)]+'\x20('+this[_0x685df9(0x70d)]['wuid']+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this['logger'][_0x685df9(0x4e7)](this[_0x685df9(0x1fc)]+'\x20('+this['instance'][_0x685df9(0x1ef)]+_0x685df9(0x69b));if(_0x59b3bd=await this[_0x685df9(0x52a)](_0x276557,_0x24249e),_0x59b3bd){this[_0x685df9(0x6d5)][_0x685df9(0x4e7)](this[_0x685df9(0x1fc)]+'\x20('+this[_0x685df9(0x70d)][_0x685df9(0x1ef)]+_0x685df9(0x1d0)),!_0x5b7f60[_0x685df9(0x724)]&&_0x59b3bd[_0x685df9(0x318)]&&this['readMessageBot'](_0x59b3bd);let _0x4fd9ba=await this[_0x685df9(0x193)](_0x59b3bd);_0x4fd9ba&&await this[_0x685df9(0x52c)](_0x59b3bd,_0x4fd9ba);}}catch(_0x1423f2){this['logger'][_0x685df9(0x299)](this[_0x685df9(0x1fc)]+'\x20('+this[_0x685df9(0x70d)][_0x685df9(0x1ef)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x1423f2 instanceof Error?_0x1423f2[_0x685df9(0x729)]:JSON[_0x685df9(0x454)](_0x1423f2,null,0x2)));}}[a0_0x1eb7af(0x2a9)](_0x31b527,_0x4a3990='',_0x21a7e5={}){const _0xf0e731=a0_0x1eb7af;return typeof _0x31b527!=_0xf0e731(0x23d)||_0x31b527===null?(_0x4a3990&&(_0x21a7e5[_0x4a3990]=_0x31b527),_0x21a7e5):(Object[_0xf0e731(0x35e)](_0x31b527)[_0xf0e731(0x7d3)](([_0x175159,_0x269c46])=>{const _0x1b1b0d=_0xf0e731;let _0x45c1b0=_0x4a3990?_0x4a3990+'.'+_0x175159:'_'+_0x175159;Array[_0x1b1b0d(0x50d)](_0x269c46)?_0x269c46[_0x1b1b0d(0x7d3)]((_0x32c014,_0x93599)=>{this['flattenObject'](_0x32c014,_0x45c1b0+'['+_0x93599+']',_0x21a7e5);}):typeof _0x269c46==_0x1b1b0d(0x23d)&&_0x269c46!==null?this['flattenObject'](_0x269c46,_0x45c1b0,_0x21a7e5):_0x21a7e5[_0x45c1b0]=String(_0x269c46);}),_0x21a7e5);}[a0_0x1eb7af(0x4ad)](_0x38d9ae){const _0x4a1885=a0_0x1eb7af;let _0x1fce70={};for(let _0x482e5c of _0x38d9ae)typeof _0x482e5c[_0x4a1885(0x587)]==_0x4a1885(0x30b)&&typeof _0x482e5c['value']=='string'&&(_0x1fce70[_0x482e5c[_0x4a1885(0x587)]]=_0x482e5c['value']);return _0x1fce70;}async['NextBlock'](_0x438d97){const _0x2f8022=a0_0x1eb7af;if(!this[_0x2f8022(0x3bb)]?.[_0x2f8022(0x24f)][_0x2f8022(0x68d)]||_0x438d97['status']!=='open'&&_0x438d97['waitingMenu_id']==='')return null;let _0x122717=_0x438d97[_0x2f8022(0x69d)][_0x2f8022(0x241)]||_0x2f8022(0x122);typeof _0x438d97[_0x2f8022(0x69d)][_0x2f8022(0x7e5)]>'u'&&(_0x438d97[_0x2f8022(0x69d)][_0x2f8022(0x7e5)]=!0x0);let _0x494602=_0x438d97[_0x2f8022(0x69d)]['lastCondition'];this[_0x2f8022(0x6d5)]['verbose'](this[_0x2f8022(0x1fc)]+'\x20('+this[_0x2f8022(0x70d)]['wuid']+'):\x20lastBlockId:\x20'+_0x122717+_0x2f8022(0x132)+_0x494602);let _0x1edef3=_0x122717===_0x2f8022(0x122)?_0x438d97[_0x2f8022(0x4d8)][_0x2f8022(0x7a9)](_0x13b533=>_0x13b533[_0x2f8022(0x813)]===_0x2f8022(0x122)):_0x438d97[_0x2f8022(0x4d8)][_0x2f8022(0x7a9)](_0x564c1f=>_0x564c1f['_id'][_0x2f8022(0x725)]()===_0x122717[_0x2f8022(0x725)]());if(!_0x1edef3)return this[_0x2f8022(0x6d5)][_0x2f8022(0x299)](this[_0x2f8022(0x1fc)]+'\x20('+this[_0x2f8022(0x70d)][_0x2f8022(0x1ef)]+_0x2f8022(0x524)+_0x122717),null;let _0x4b1aa3={'_pushName':_0x438d97?.[_0x2f8022(0x69d)]?.[_0x2f8022(0x3d0)]?.[_0x2f8022(0x810)]||'','_sender':this['instance']['wuid']||'',..._0x438d97['chatLog'][_0x2f8022(0x826)]},_0x17d5fd=null;if(_0x438d97[_0x2f8022(0x638)]){let _0x3d9db6=_0x438d97['chatLog'][_0x2f8022(0x3d0)]['vote'],_0x3cae15=_0x438d97[_0x2f8022(0x11a)][_0x2f8022(0x7a9)](_0x51d663=>_0x51d663[_0x2f8022(0x600)]===_0x3d9db6);if(_0x3cae15){let _0x1e5e30=_0x3cae15[_0x2f8022(0x47b)];if(_0x17d5fd=_0x438d97[_0x2f8022(0x4d8)][_0x2f8022(0x7a9)](_0x2a3dbb=>_0x2a3dbb[_0x2f8022(0x5f4)]===_0x1e5e30&&_0x2a3dbb['order']===0x1),_0x1edef3[_0x2f8022(0x6ff)][_0x2f8022(0x550)]){let _0x27f37f={'id':_0x438d97['waitingMenu_id'],'remoteJid':_0x438d97[_0x2f8022(0x4c9)],'fromMe':!0x0};await this[_0x2f8022(0x557)](_0x27f37f);}if(_0x1edef3[_0x2f8022(0x6ff)][_0x2f8022(0x550)]&&_0x1edef3[_0x2f8022(0x6ff)][_0x2f8022(0x106)]&&_0x1edef3[_0x2f8022(0x6ff)][_0x2f8022(0x445)]===_0x2f8022(0x2ee)){let _0x31b070={'number':_0x438d97[_0x2f8022(0x4c9)],'options':{'delay':0x0},'textMessage':{'text':_0x2f8022(0x424)+_0x438d97[_0x2f8022(0x3ba)]+'\x0a*Você\x20respondeu*:\x0a'+_0x3d9db6}};await this[_0x2f8022(0x1b3)](_0x31b070);}_0x438d97[_0x2f8022(0x771)]='open',_0x438d97[_0x2f8022(0x638)]='',_0x438d97[_0x2f8022(0x3ba)]='',_0x438d97[_0x2f8022(0x11a)]=[];}else{this[_0x2f8022(0x6d5)][_0x2f8022(0x4e7)](this['instanceName']+'\x20('+this[_0x2f8022(0x70d)][_0x2f8022(0x1ef)]+_0x2f8022(0x672));let _0x3665c4={'activatedCount':_0x438d97['chatLog']['blockLogs']['filter'](_0xb73dda=>String(_0xb73dda[_0x2f8022(0x37a)])===String(_0x122717))['length'],'moreLogs':[_0x2f8022(0x43b)]};if(_0x1edef3[_0x2f8022(0x6ff)][_0x2f8022(0x1bb)]){let _0x383b14={'number':_0x438d97[_0x2f8022(0x4c9)],'options':{'delay':0x0},'textMessage':{'text':_0x1edef3[_0x2f8022(0x6ff)][_0x2f8022(0x1bb)]}};await this[_0x2f8022(0x1b3)](_0x383b14);}if(_0x1edef3[_0x2f8022(0x577)]!==void 0x0&&_0x3665c4[_0x2f8022(0x5e7)]>=_0x1edef3['maxActives']){let _0x57579a=Date[_0x2f8022(0x4e4)](),_0x5386d2=_0x1edef3[_0x2f8022(0x78f)]??0xa;isNaN(_0x5386d2)&&(_0x5386d2=0xa);let _0x137f87=_0x57579a+_0x5386d2*0x3c*0x3e8;_0x3665c4[_0x2f8022(0x189)]=_0x137f87,_0x3665c4['moreLogs']['push'](_0x2f8022(0x5cf)),this[_0x2f8022(0x7a3)](_0x438d97,_0x137f87),_0x438d97[_0x2f8022(0x638)]='',_0x438d97['waitingMenu_text']='',_0x438d97[_0x2f8022(0x11a)]=[];}return this['updateConversation'](_0x438d97,_0x1edef3,_0x3665c4,!0x0),null;}}if(_0x494602&&_0x1edef3[_0x2f8022(0x47b)]&&!_0x438d97[_0x2f8022(0x638)]){let _0x2ccb95=_0x438d97[_0x2f8022(0x4d8)][_0x2f8022(0x19b)](_0x54ee54=>_0x54ee54['groupId'][_0x2f8022(0x725)]()===_0x1edef3[_0x2f8022(0x47b)]['toString']())[_0x2f8022(0x555)]((_0x1dbb42,_0x3d79a3)=>_0x1dbb42[_0x2f8022(0x6ca)]-_0x3d79a3[_0x2f8022(0x6ca)]);_0x2ccb95[_0x2f8022(0x3fe)]>0x0&&(_0x17d5fd=_0x2ccb95[0x0]);}if(!_0x17d5fd){let _0x1d50c1=_0x1edef3[_0x2f8022(0x5f4)],_0x5718a0=_0x438d97[_0x2f8022(0x4d8)]['filter'](_0x4f928e=>_0x4f928e['groupId']===_0x1d50c1&&_0x4f928e[_0x2f8022(0x6ca)]>_0x1edef3[_0x2f8022(0x6ca)])[_0x2f8022(0x555)]((_0x4b75ba,_0x2df3c8)=>_0x4b75ba['order']-_0x2df3c8[_0x2f8022(0x6ca)]);_0x5718a0[_0x2f8022(0x3fe)]>0x0&&(_0x17d5fd=_0x5718a0[0x0]);}if(!_0x17d5fd)return _0x438d97[_0x2f8022(0x771)]='closed',null;_0x438d97[_0x2f8022(0x69d)][_0x2f8022(0x826)]=_0x4b1aa3;let _0x43299c=JSON[_0x2f8022(0x164)](JSON[_0x2f8022(0x454)](_0x17d5fd));return this[_0x2f8022(0x6ce)](_0x43299c,_0x438d97['chatLog'][_0x2f8022(0x826)]),_0x438d97[_0x2f8022(0x69d)][_0x2f8022(0x241)]=_0x43299c['_id'],_0x438d97['chatLog'][_0x2f8022(0x7e5)]=!0x0,_0x43299c;}[a0_0x1eb7af(0x5a9)](_0x2224f5,_0x2bea31){const _0x3cc7b4=a0_0x1eb7af;return _0x2224f5[_0x3cc7b4(0x517)](/\{\{([^}]+)\}\}/g,(_0x252771,_0x506f71)=>_0x2bea31[_0x506f71]||'');}[a0_0x1eb7af(0x6ce)](_0x53cde6,_0x1e41e9){const _0x4283e0=a0_0x1eb7af;for(let _0x47a1d2 in _0x53cde6)typeof _0x53cde6[_0x47a1d2]==_0x4283e0(0x30b)?_0x53cde6[_0x47a1d2]=this[_0x4283e0(0x5a9)](_0x53cde6[_0x47a1d2],_0x1e41e9):typeof _0x53cde6[_0x47a1d2]=='object'&&this[_0x4283e0(0x6ce)](_0x53cde6[_0x47a1d2],_0x1e41e9);}async[a0_0x1eb7af(0x654)](_0x592de9,_0x5e8752){const _0x37f5f0=a0_0x1eb7af;let _0x25762b=_0x5e8752[_0x37f5f0(0x710)];if(_0x592de9[_0x37f5f0(0x69d)]&&_0x592de9['chatLog'][_0x37f5f0(0x137)]){let _0x4384d6=_0x592de9[_0x37f5f0(0x69d)][_0x37f5f0(0x137)][_0x37f5f0(0x19b)](_0x1fc164=>String(_0x1fc164['blockId'])===String(_0x25762b))[_0x37f5f0(0x77b)]();if(_0x4384d6&&_0x4384d6[_0x37f5f0(0x299)]&&_0x5e8752['stopIfLastReturnedError'])return _0x592de9[_0x37f5f0(0x771)]='closed',await this[_0x37f5f0(0x3ce)](_0x592de9),null;}if(_0x5e8752[_0x37f5f0(0x813)]==='uazapi'&&_0x5e8752['uazapi'][_0x37f5f0(0x6b4)]===_0x37f5f0(0x37d)&&_0x592de9[_0x37f5f0(0x638)])return _0x592de9[_0x37f5f0(0x69d)][_0x37f5f0(0x241)]=_0x25762b,await this[_0x37f5f0(0x3ce)](_0x592de9),null;let _0x53bc71=await this[_0x37f5f0(0x193)](_0x592de9);if(_0x592de9[_0x37f5f0(0x69d)]&&_0x592de9[_0x37f5f0(0x69d)]['blockLogs']){let _0x4fa0c3=_0x592de9['chatLog'][_0x37f5f0(0x137)][_0x37f5f0(0x19b)](_0x599c58=>String(_0x599c58[_0x37f5f0(0x37a)])===String(_0x25762b))['length'];if(_0x5e8752[_0x37f5f0(0x577)]!==void 0x0&&_0x4fa0c3>=_0x5e8752['maxActives']){let _0x170e72=Date[_0x37f5f0(0x4e4)](),_0x4e1a17=_0x5e8752[_0x37f5f0(0x78f)]??0xa;isNaN(_0x4e1a17)&&(_0x4e1a17=0xa);let _0x1d4064=_0x170e72+_0x4e1a17*0x3c*0x3e8,_0x345d3e={'newStoppedUntil':_0x1d4064};return this[_0x37f5f0(0x7a3)](_0x592de9,_0x1d4064),this[_0x37f5f0(0x160)](_0x592de9,_0x5e8752,_0x345d3e,!0x0),null;}}_0x53bc71&&_0x53bc71[_0x37f5f0(0x813)]!==_0x37f5f0(0x674)&&await this[_0x37f5f0(0x52c)](_0x592de9,_0x53bc71),_0x53bc71||await this[_0x37f5f0(0x3ce)](_0x592de9),_0x53bc71&&_0x53bc71[_0x37f5f0(0x813)]===_0x37f5f0(0x674)&&(_0x592de9['chatLog'][_0x37f5f0(0x241)]=_0x25762b,await this[_0x37f5f0(0x3ce)](_0x592de9));}async[a0_0x1eb7af(0x52c)](_0x21c9da,_0x202d71){const _0x35c7fd=a0_0x1eb7af;try{let _0x562af3=_0x202d71[_0x35c7fd(0x813)];this[_0x35c7fd(0x6d5)][_0x35c7fd(0x4e7)](this[_0x35c7fd(0x1fc)]+'\x20('+this[_0x35c7fd(0x70d)][_0x35c7fd(0x1ef)]+_0x35c7fd(0x56b)+_0x562af3);let _0xc67a8b={'uazapi':()=>this[_0x35c7fd(0x1d1)](_0x21c9da,_0x202d71),'save':()=>this['saveTextReply'](_0x21c9da,_0x202d71),'stop':()=>this[_0x35c7fd(0x74b)](_0x21c9da,_0x202d71),'condition':()=>this[_0x35c7fd(0x741)](_0x21c9da,_0x202d71),'varedit':()=>this[_0x35c7fd(0x7ab)](_0x21c9da,_0x202d71),'apirequest':()=>this[_0x35c7fd(0x5a2)](_0x21c9da,_0x202d71),'goToFlow':()=>this['processgoToFlow'](_0x21c9da,_0x202d71),'scheduleFlow':()=>this[_0x35c7fd(0x49d)](_0x21c9da,_0x202d71),'awaitSeconds':()=>this[_0x35c7fd(0x4ea)](_0x21c9da,_0x202d71),'clearVariables':()=>this[_0x35c7fd(0x5b5)](_0x21c9da,_0x202d71)}[_0x562af3];_0xc67a8b&&await _0xc67a8b();}catch(_0x46e301){this[_0x35c7fd(0x6d5)][_0x35c7fd(0x299)](this[_0x35c7fd(0x1fc)]+'\x20('+this['instance'][_0x35c7fd(0x1ef)]+_0x35c7fd(0x662)+(_0x46e301 instanceof Error?_0x46e301[_0x35c7fd(0x729)]:JSON['stringify'](_0x46e301,null,0x2)));}}async[a0_0x1eb7af(0x4ea)](_0x1d9746,_0x336e61){const _0x3ddede=a0_0x1eb7af;if(this['logger']['verbose'](this[_0x3ddede(0x1fc)]+'\x20('+this[_0x3ddede(0x70d)][_0x3ddede(0x1ef)]+_0x3ddede(0x7cf)),!_0x1d9746||!_0x336e61)return this[_0x3ddede(0x6d5)]['error'](this['instanceName']+'\x20('+this[_0x3ddede(0x70d)][_0x3ddede(0x1ef)]+_0x3ddede(0x39c)),null;let _0x59ff20=+_0x336e61[_0x3ddede(0x601)];isNaN(_0x59ff20)&&(_0x59ff20=0x0),_0x59ff20=Math[_0x3ddede(0x6b1)](_0x59ff20,0x3c),await(0x0,w[_0x3ddede(0x30a)])(_0x59ff20*0x3e8);let _0x4ebc5c={'moreLogs':[_0x3ddede(0x452)+_0x59ff20+_0x3ddede(0x267)]};return await this[_0x3ddede(0x160)](_0x1d9746,_0x336e61,_0x4ebc5c),_0x59ff20;}async[a0_0x1eb7af(0x5b5)](_0x270d96,_0x5c526f){const _0x3be72f=a0_0x1eb7af;if(this[_0x3be72f(0x6d5)][_0x3be72f(0x4e7)](this[_0x3be72f(0x1fc)]+'\x20('+this['instance'][_0x3be72f(0x1ef)]+_0x3be72f(0x495)),!_0x270d96||!_0x5c526f)return this[_0x3be72f(0x6d5)][_0x3be72f(0x299)](this[_0x3be72f(0x1fc)]+'\x20('+this['instance']['wuid']+_0x3be72f(0x39c)),null;let _0x18b734=[];if(_0x5c526f['clearVariables'][_0x3be72f(0x30f)]()===_0x3be72f(0x20f)){let _0x4699ea=[_0x3be72f(0x2de),'_pushName',_0x3be72f(0x1dc),_0x3be72f(0x16d),_0x3be72f(0x1f1),_0x3be72f(0x710),_0x3be72f(0x1d3)];_0x18b734=Object['keys'](_0x270d96['chatLog'][_0x3be72f(0x826)])[_0x3be72f(0x19b)](_0x4cd652=>_0x4cd652['startsWith']('_')&&!_0x4699ea['includes'](_0x4cd652));}else _0x18b734=_0x5c526f[_0x3be72f(0x6e2)]['split']('|')[_0x3be72f(0x285)](_0x3e1f9e=>(_0x3e1f9e=_0x3e1f9e[_0x3be72f(0x517)](/[{}]/g,'')[_0x3be72f(0x30f)](),_0x3e1f9e['startsWith']('_')?_0x3e1f9e:'_'+_0x3e1f9e));let _0x306c6d=[];_0x18b734[_0x3be72f(0x7d3)](_0x58e8a2=>{const _0x487243=_0x3be72f;_0x58e8a2 in _0x270d96[_0x487243(0x69d)][_0x487243(0x826)]&&(delete _0x270d96[_0x487243(0x69d)]['realVariables'][_0x58e8a2],_0x306c6d[_0x487243(0x46f)](_0x58e8a2));}),_0x306c6d['length']>0x0?this[_0x3be72f(0x6d5)]['verbose'](this[_0x3be72f(0x1fc)]+'\x20('+this['instance']['wuid']+_0x3be72f(0x4c3)+_0x306c6d['join'](',\x20')):this[_0x3be72f(0x6d5)]['verbose'](this[_0x3be72f(0x1fc)]+'\x20('+this[_0x3be72f(0x70d)][_0x3be72f(0x1ef)]+_0x3be72f(0x168));let _0x2110ce={'moreLogs':[_0x3be72f(0x187)+_0x306c6d[_0x3be72f(0x17d)](',\x20')]};return await this[_0x3be72f(0x160)](_0x270d96,_0x5c526f,_0x2110ce),null;}async[a0_0x1eb7af(0x49d)](_0x21e22c,_0x5a7782){const _0x8a09ce=a0_0x1eb7af;if(this[_0x8a09ce(0x6d5)][_0x8a09ce(0x4e7)](this[_0x8a09ce(0x1fc)]+'\x20('+this[_0x8a09ce(0x70d)][_0x8a09ce(0x1ef)]+_0x8a09ce(0x82c)),!_0x21e22c||!_0x5a7782)return this[_0x8a09ce(0x6d5)][_0x8a09ce(0x299)](this[_0x8a09ce(0x1fc)]+'\x20('+this['instance'][_0x8a09ce(0x1ef)]+_0x8a09ce(0x39c)),null;let _0x2fbe3b=_0x21e22c['remoteJid'];_0x5a7782[_0x8a09ce(0x4ab)]['remoteJid']&&_0x5a7782[_0x8a09ce(0x4ab)][_0x8a09ce(0x4c9)][_0x8a09ce(0x30f)]()!==''&&(_0x2fbe3b=_0x5a7782[_0x8a09ce(0x6ff)][_0x8a09ce(0x4c9)][_0x8a09ce(0x30f)]());let _0x323408=_0x5a7782[_0x8a09ce(0x4ab)][_0x8a09ce(0x7cc)]*0xea60,_0x4ea691=Date[_0x8a09ce(0x4e4)]()+_0x323408,_0xfe1495={'status':_0x8a09ce(0x573),'info':_0x8a09ce(0x459)+_0x21e22c[_0x8a09ce(0x587)],'remoteJids':[_0x2fbe3b],'when':_0x4ea691,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x8a09ce(0x779),'flowName':_0x5a7782['scheduleFlow']['flowName']};this[_0x8a09ce(0x1da)](_0xfe1495);let _0x96baf5=await this[_0x8a09ce(0x193)](_0x21e22c);_0x96baf5&&await this[_0x8a09ce(0x52c)](_0x21e22c,_0x96baf5);}async[a0_0x1eb7af(0x512)](_0x3f83ee,_0x278f4d){const _0xaeacfc=a0_0x1eb7af;if(this[_0xaeacfc(0x6d5)][_0xaeacfc(0x4e7)](this['instanceName']+'\x20('+this[_0xaeacfc(0x70d)][_0xaeacfc(0x1ef)]+_0xaeacfc(0x438)),!_0x3f83ee||!_0x278f4d)return this[_0xaeacfc(0x6d5)][_0xaeacfc(0x299)](this['instanceName']+'\x20('+this[_0xaeacfc(0x70d)][_0xaeacfc(0x1ef)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0xaeacfc(0x160)](_0x3f83ee,_0x278f4d,{},!0x0,!0x0);let _0x44fc21=_0x278f4d['goToFlow'];_0x3f83ee=await this[_0xaeacfc(0x2f2)](_0x44fc21,_0x3f83ee[_0xaeacfc(0x4c9)],_0x3f83ee['chatLog']['realVariables']);let _0x18ae6f=await this[_0xaeacfc(0x193)](_0x3f83ee);_0x18ae6f&&await this[_0xaeacfc(0x52c)](_0x3f83ee,_0x18ae6f);}async[a0_0x1eb7af(0x2f2)](_0x2df73d,_0x2d93c0,_0x27f1e4){const _0x1f358c=a0_0x1eb7af;this['logger']['verbose'](this[_0x1f358c(0x1fc)]+'\x20('+this[_0x1f358c(0x70d)]['wuid']+_0x1f358c(0x5b4));try{let _0x452e18=this[_0x1f358c(0x3bb)][_0x1f358c(0x551)][_0x1f358c(0x7a9)](_0x2eb6b6=>_0x2eb6b6[_0x1f358c(0x710)]===_0x2df73d);_0x452e18||this[_0x1f358c(0x6d5)][_0x1f358c(0x299)](this[_0x1f358c(0x1fc)]+'\x20('+this['instance'][_0x1f358c(0x1ef)]+_0x1f358c(0x355)+_0x2df73d+_0x1f358c(0x59d));let _0x27e5bd=await this[_0x1f358c(0x1a2)][_0x1f358c(0x779)]['findOne']({'where':{'_id':_0x452e18[_0x1f358c(0x710)]}});if(!_0x27e5bd||!_0x27e5bd['whoCanUse']?.[_0x1f358c(0x34b)](this[_0x1f358c(0x70d)][_0x1f358c(0x1ef)]))throw this[_0x1f358c(0x6d5)][_0x1f358c(0x299)](this[_0x1f358c(0x1fc)]+'\x20('+this['instance'][_0x1f358c(0x1ef)]+_0x1f358c(0x355)+_0x2df73d+_0x1f358c(0x247)),new m(_0x1f358c(0x50b)+_0x2df73d+_0x1f358c(0x247));let _0x2cbc06=require(_0x1f358c(0x110))[_0x1f358c(0x21a)],_0x5bd510=Date[_0x1f358c(0x4e4)](),_0x5045e8=_0x1f358c(0x122),_0x3bb272={},_0x5e7d79={},_0xee73e8=this['AutomateSystem']['flows'][_0x1f358c(0x7a9)](_0x32383f=>_0x32383f[_0x1f358c(0x710)]===_0x27e5bd['_id']?.[_0x1f358c(0x725)]()),_0x12b0d5=_0xee73e8?.[_0x1f358c(0x501)]??_0x27e5bd[_0x1f358c(0x501)]??0x0,_0x4b9672=_0xee73e8?.['readMessages']??_0x27e5bd['readMessages']??!0x1,_0x175c70={'flowId':_0x452e18[_0x1f358c(0x710)],'readMessages':_0x452e18[_0x1f358c(0x318)],..._0x27e5bd,'chatLog':null},_0x8e33b4={'lastReceivedMessage':_0x3bb272,'lastSendMessage':_0x5e7d79,'lastBlockId':_0x5045e8,'lastCondition':!0x0,'realVariables':_0x27f1e4};_0x175c70['chatLog']=_0x8e33b4,_0x175c70[_0x1f358c(0x69d)][_0x1f358c(0x826)]={..._0x27f1e4},delete _0x175c70[_0x1f358c(0x710)],_0x175c70[_0x1f358c(0x710)]=new _0x2cbc06(),_0x175c70[_0x1f358c(0x220)]=_0x5bd510,_0x175c70[_0x1f358c(0x771)]='open',_0x175c70[_0x1f358c(0x4c9)]=_0x2d93c0,_0x175c70[_0x1f358c(0x501)]=_0x12b0d5,_0x175c70[_0x1f358c(0x318)]=_0x4b9672;let _0x40aa2a=await this['repository']['flowConversation']['updateOne'](_0x175c70[_0x1f358c(0x710)],_0x175c70,this[_0x1f358c(0x70d)][_0x1f358c(0x1ef)]);return this[_0x1f358c(0x6d5)][_0x1f358c(0x4e7)](this[_0x1f358c(0x1fc)]+'\x20('+this[_0x1f358c(0x70d)][_0x1f358c(0x1ef)]+_0x1f358c(0x232)),_0x40aa2a?_0x175c70:null;}catch(_0x562211){let _0x4752aa=_0x1f358c(0x213),_0x5f43a7=_0x562211 instanceof Error?_0x562211['message']:typeof _0x562211==_0x1f358c(0x23d)?JSON['stringify'](_0x562211):_0x562211,_0x5ea046=_0x4752aa+':\x20'+_0x5f43a7;throw this[_0x1f358c(0x6d5)][_0x1f358c(0x299)](this[_0x1f358c(0x1fc)]+'\x20('+this['instance'][_0x1f358c(0x1ef)]+_0x1f358c(0x538)+_0x5ea046),new m(_0x5ea046);}}async[a0_0x1eb7af(0x5a2)](_0x12b6f8,_0x1865d3){const _0x172b27=a0_0x1eb7af;let _0x2730b2,_0x2f2915;try{let _0x1b36e7=_0x1865d3[_0x172b27(0x6e8)];if(!_0x1b36e7||!_0x1b36e7[_0x172b27(0x3d8)]||!_0x1b36e7[_0x172b27(0x559)])throw new Error(_0x172b27(0x5f6));let _0x26fc25;([_0x172b27(0x6a5),_0x172b27(0x641),_0x172b27(0x2b4)][_0x172b27(0x31e)](_0x2b9187=>_0x1b36e7[_0x172b27(0x3d8)][_0x172b27(0x34b)](_0x2b9187))||_0x1b36e7['requestFile'])&&(_0x26fc25=_0x172b27(0x444));let _0x329df0='\u205f',_0x4d1adb;try{_0x4d1adb=JSON[_0x172b27(0x164)](_0x1b36e7[_0x172b27(0x442)][_0x172b27(0x517)](new RegExp(_0x329df0,'g'),''));}catch(_0x366167){throw _0x366167;}let _0x145271={'method':_0x1b36e7['method'],'url':_0x1b36e7[_0x172b27(0x3d8)],'headers':_0x1b36e7[_0x172b27(0x434)]||{},..._0x1b36e7[_0x172b27(0x559)]['toUpperCase']()!=='GET'&&_0x1b36e7[_0x172b27(0x442)]?{'data':JSON[_0x172b27(0x164)](_0x1b36e7['bodyString'][_0x172b27(0x517)](new RegExp(_0x329df0,'g'),''))}:{},..._0x26fc25&&{'responseType':_0x26fc25}},_0x48cb7e=await(0x0,Z['default'])(_0x145271),_0x26f5b7=_0x48cb7e[_0x172b27(0x6ea)][_0x172b27(0x2e9)];if(_0x26f5b7&&_0x26f5b7['includes'](_0x172b27(0x5b2))||typeof _0x48cb7e[_0x172b27(0x4c8)]==_0x172b27(0x30b)){if(typeof _0x48cb7e[_0x172b27(0x4c8)]==_0x172b27(0x30b)){let _0x25eed3=_0x48cb7e[_0x172b27(0x4c8)][_0x172b27(0x517)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x2730b2=JSON[_0x172b27(0x164)](_0x25eed3);}catch(_0x13dade){this['logger'][_0x172b27(0x299)](_0x172b27(0x3c3)+_0x13dade[_0x172b27(0x729)]),_0x2730b2={'_apiResponse':_0x48cb7e[_0x172b27(0x4c8)]};}}else _0x2730b2=_0x48cb7e[_0x172b27(0x4c8)];let _0x1aaa5e=_0x12b6f8[_0x172b27(0x69d)]['realVariables'],_0x257aaf=this[_0x172b27(0x2a9)](_0x2730b2);return Object[_0x172b27(0x69f)](_0x1aaa5e,_0x257aaf),_0x12b6f8[_0x172b27(0x69d)][_0x172b27(0x826)]=_0x1aaa5e,_0x2f2915={'error':!0x1,'apiResponse':_0x2730b2},this[_0x172b27(0x160)](_0x12b6f8,_0x1865d3,_0x2f2915),_0x2730b2;}if(_0x26f5b7&&(_0x26f5b7['includes'](_0x172b27(0x681))||_0x26f5b7['includes'](_0x172b27(0x111))||_0x26f5b7[_0x172b27(0x34b)](_0x172b27(0x52e))||_0x26f5b7[_0x172b27(0x34b)](_0x172b27(0x5c6)))){this['logger']['verbose'](this[_0x172b27(0x1fc)]+'\x20('+this['instance'][_0x172b27(0x1ef)]+_0x172b27(0x379)+_0x26f5b7);let _0xc10a2f=(0x0,me['v4'])(),_0x31d0e0='',_0xcf54d8={'image/jpeg':_0x172b27(0x6b2),'image/png':_0x172b27(0x53b),'image/gif':_0x172b27(0x215),'image/webp':_0x172b27(0x2cf),'image/svg+xml':_0x172b27(0x7c8),'audio/mpeg':_0x172b27(0x7ff),'audio/ogg':_0x172b27(0x611),'audio/wav':_0x172b27(0x410),'video/mp4':'.mp4','video/webm':_0x172b27(0x62a),'video/ogg':_0x172b27(0x1ba),'text/plain':_0x172b27(0x369),'application/pdf':_0x172b27(0x752),'application/msword':_0x172b27(0x6c1),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x172b27(0x5a6),'application/vnd.ms-excel':_0x172b27(0x484),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x172b27(0x7b6),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0xcf54d8[_0x26f5b7]?(_0x31d0e0=_0xcf54d8[_0x26f5b7],this[_0x172b27(0x6d5)][_0x172b27(0x4e7)](this[_0x172b27(0x1fc)]+'\x20('+this['instance'][_0x172b27(0x1ef)]+_0x172b27(0x6cb)+_0x31d0e0)):(_0x31d0e0=_0x172b27(0x690),this[_0x172b27(0x6d5)][_0x172b27(0x4e7)](this[_0x172b27(0x1fc)]+'\x20('+this['instance'][_0x172b27(0x1ef)]+_0x172b27(0x7df)+_0x31d0e0)),_0xc10a2f+=_0x31d0e0,this[_0x172b27(0x6d5)][_0x172b27(0x4e7)](this[_0x172b27(0x1fc)]+'\x20('+this[_0x172b27(0x70d)][_0x172b27(0x1ef)]+_0x172b27(0x2e8)+_0xc10a2f);let _0x489d4e=this['configService']['get'](_0x172b27(0x610))[_0x172b27(0x74e)];if(!_0x489d4e){let _0x4f062a=this['configService'][_0x172b27(0x14e)](_0x172b27(0x529));_0x489d4e=_0x172b27(0x4ca)+(_0x4f062a&&_0x4f062a[_0x172b27(0x583)]['split']('/')[0x4]);}let _0x1aed42=Buffer[_0x172b27(0x3a6)](_0x48cb7e[_0x172b27(0x4c8)]);await this[_0x172b27(0x6a1)](_0x1aed42,_0xc10a2f);let _0x3632cc='/media/'+_0xc10a2f;_0x3632cc=''+_0x489d4e+_0x3632cc,_0x2730b2={'fileUrl':_0x3632cc},_0x12b6f8['chatLog'][_0x172b27(0x826)][_0x172b27(0x1b0)]=_0x3632cc;let _0x299175=_0x12b6f8[_0x172b27(0x69d)]['realVariables'],_0x3c3009=this['flattenObject'](_0x2730b2);return Object[_0x172b27(0x69f)](_0x299175,_0x3c3009),_0x12b6f8[_0x172b27(0x69d)][_0x172b27(0x826)]=_0x299175,_0x2f2915={'error':!0x1,'apiResponse':{'fileUrl':_0x3632cc}},this[_0x172b27(0x160)](_0x12b6f8,_0x1865d3,_0x2f2915),_0x2730b2;}}catch(_0x27dcf4){this[_0x172b27(0x6d5)][_0x172b27(0x299)](_0x172b27(0x46d)+_0x27dcf4[_0x172b27(0x729)]),_0x27dcf4[_0x172b27(0x179)]&&(_0x2730b2=_0x27dcf4[_0x172b27(0x179)][_0x172b27(0x4c8)]);let _0x4cb306=_0x12b6f8['chatLog'][_0x172b27(0x826)],_0x36c753=this[_0x172b27(0x2a9)](_0x2730b2);return Object[_0x172b27(0x69f)](_0x4cb306,_0x36c753),_0x12b6f8['chatLog']['realVariables']=_0x4cb306,_0x2f2915={'error':!0x0,'errorLog':_0x27dcf4['toString'](),'apiResponse':_0x2730b2},this[_0x172b27(0x160)](_0x12b6f8,_0x1865d3,_0x2f2915),{'success':!0x1};}}[a0_0x1eb7af(0x80c)](_0x272435,_0x379637){const _0x4dffcf=a0_0x1eb7af;let _0x10e19e=_0x278646=>{const _0x1b8481=a0_0x4c0f;let _0x398553=_0x278646[_0x1b8481(0x517)](/[^0-9.,-]/g,'')[_0x1b8481(0x517)](',','.'),_0x22d0ea=parseFloat(_0x398553);return isNaN(_0x22d0ea)?null:_0x22d0ea;},_0x1b6779=_0x379637[_0x4dffcf(0x6bf)],_0x16bfa3=_0x379637['secondValue'];typeof _0x1b6779==_0x4dffcf(0x30b)&&(_0x1b6779=this['replaceVariables'](_0x1b6779,_0x272435[_0x4dffcf(0x69d)][_0x4dffcf(0x826)])??''),typeof _0x16bfa3==_0x4dffcf(0x30b)&&(_0x16bfa3=this['replaceVariables'](_0x16bfa3,_0x272435[_0x4dffcf(0x69d)][_0x4dffcf(0x826)])??'');let _0x35c656=null;if(!_0x379637[_0x4dffcf(0x7d6)])return null;switch(this['logger'][_0x4dffcf(0x4e7)](this[_0x4dffcf(0x1fc)]+'\x20('+this['instance'][_0x4dffcf(0x1ef)]+_0x4dffcf(0x7b0)+_0x1b6779),this[_0x4dffcf(0x6d5)][_0x4dffcf(0x4e7)](this[_0x4dffcf(0x1fc)]+'\x20('+this[_0x4dffcf(0x70d)]['wuid']+_0x4dffcf(0x195)+_0x16bfa3),_0x379637[_0x4dffcf(0x7d6)]){case'+':case'-':case'*':case'/':let _0x53bd4f=_0x10e19e(_0x1b6779||'0'),_0xaf1660=_0x10e19e(_0x16bfa3||'0');if(_0x53bd4f===null)return null;switch(_0x379637[_0x4dffcf(0x7d6)]){case'+':_0x35c656=_0x53bd4f+(_0xaf1660??0x0);break;case'-':_0x35c656=_0x53bd4f-(_0xaf1660??0x0);break;case'*':_0x35c656=_0x53bd4f*(_0xaf1660??0x1);break;case'/':_0xaf1660!==0x0&&(_0x35c656=_0x53bd4f/(_0xaf1660??0x1));break;}break;case _0x4dffcf(0x46b):case _0x4dffcf(0x321):let _0x33ca52=_0x16bfa3,_0x35f869=_0x379637[_0x4dffcf(0xf2)];if(typeof _0x35f869=='string'&&(_0x35f869=this[_0x4dffcf(0x5a9)](_0x35f869,_0x272435[_0x4dffcf(0x69d)][_0x4dffcf(0x826)])??''),_0x33ca52&&_0x35f869!==void 0x0){let _0x5c6705=_0x379637['editOperator']===_0x4dffcf(0x46b)?new RegExp(_0x33ca52[_0x4dffcf(0x517)](/[-\/\\^$*+?.()|[\]{}]/g,_0x4dffcf(0x64d)),'g'):new RegExp(_0x33ca52,'g');_0x35c656=_0x1b6779['replace'](_0x5c6705,_0x35f869);}else console[_0x4dffcf(0x6e3)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x4dffcf(0x69c):_0x35c656=_0x16bfa3;break;case _0x4dffcf(0x6d9):let _0x4054ad=_0x1b6779['match'](new RegExp(_0x16bfa3||''));_0x35c656=_0x4054ad?_0x4054ad[0x0]:'';break;case _0x4dffcf(0x5ae):_0x35c656=_0x1b6779[_0x4dffcf(0x302)](0x0,parseInt(_0x16bfa3||'0'));break;case _0x4dffcf(0x636):let _0x1c0d1c=parseInt(_0x16bfa3||'0');_0x35c656=_0x1b6779['slice'](_0x1b6779[_0x4dffcf(0x3fe)]-_0x1c0d1c);break;case _0x4dffcf(0x67d):let _0x57cb4a=_0x10e19e(_0x1b6779),_0x384c67=parseInt(_0x16bfa3||'0');_0x384c67=Math[_0x4dffcf(0x535)](_0x384c67),_0x57cb4a!==null?_0x35c656=_0x57cb4a['toLocaleString'](_0x4dffcf(0x6f4),{'minimumFractionDigits':_0x384c67,'maximumFractionDigits':_0x384c67}):(console['warn']('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x1b6779),_0x35c656=null);break;case'toBRL':let _0x31439b=_0x10e19e(_0x1b6779);_0x31439b!==null?_0x35c656=_0x31439b[_0x4dffcf(0x1ac)]('pt-BR',{'style':'currency','currency':_0x4dffcf(0x3ca)}):(console['warn']('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x1b6779),_0x35c656=null);break;case'upperCase':_0x35c656=_0x1b6779['toUpperCase']();break;case _0x4dffcf(0x81e):_0x35c656=_0x1b6779[_0x4dffcf(0x799)]();break;case _0x4dffcf(0x226):_0x35c656=_0x1b6779[_0x4dffcf(0x17f)]('\x20')[_0x4dffcf(0x285)](_0x4a6426=>_0x4a6426['charAt'](0x0)['toUpperCase']()+_0x4a6426[_0x4dffcf(0x302)](0x1)[_0x4dffcf(0x799)]())[_0x4dffcf(0x17d)]('\x20');break;case _0x4dffcf(0x63f):_0x35c656=_0x1b6779[_0x4dffcf(0x30f)]();break;default:_0x35c656=_0x1b6779;}return _0x35c656!==null?_0x35c656['toString']():null;}async[a0_0x1eb7af(0x7ab)](_0xc5fb2d,_0xb7c9ca){const _0x4c4211=a0_0x1eb7af;try{let _0x150a81=_0xc5fb2d[_0x4c4211(0x1cf)]?.[_0x4c4211(0x19b)](_0x24dd99=>_0x24dd99[_0x4c4211(0x37a)]===_0xb7c9ca[_0x4c4211(0x710)]?.[_0x4c4211(0x725)]())||[],_0x5c1f95=_0xb7c9ca[_0x4c4211(0x72c)],_0x1a0704=null,_0x5f50bc=[],_0xd7394=_0xc5fb2d['chatLog'][_0x4c4211(0x826)][_0x5c1f95];_0x5f50bc[_0x4c4211(0x46f)](_0x4c4211(0x3a0)+_0xd7394+'\x22');for(let _0x219f4a of _0x150a81){_0x219f4a[_0x4c4211(0x6bf)]=_0xd7394,_0x1a0704=_0x219f4a[_0x4c4211(0x6bf)];let _0x2b9d7c;try{_0x2b9d7c=this['applyvaredit'](_0xc5fb2d,_0x219f4a);}catch(_0x1f4644){this[_0x4c4211(0x6d5)]['error'](_0x4c4211(0x487)+_0x1f4644[_0x4c4211(0x729)]);continue;}if(_0x2b9d7c!==null){let _0x48b2b5=_0x4c4211(0x683)+_0x219f4a[_0x4c4211(0x7d6)]+'\x22',_0x1d0695=[_0x4c4211(0x6f3),_0x4c4211(0x2ba),'lowerCase','capitalizedWords',_0x4c4211(0x63f)];_0x219f4a['editOperator']==='findAndReplace'||_0x219f4a[_0x4c4211(0x7d6)]===_0x4c4211(0x321)?_0x48b2b5+=_0x4c4211(0x329)+_0x219f4a['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x219f4a[_0x4c4211(0xf2)]+'\x22':!_0x1d0695[_0x4c4211(0x34b)](_0x219f4a[_0x4c4211(0x7d6)])&&_0x219f4a[_0x4c4211(0x719)]!==null&&_0x219f4a[_0x4c4211(0x719)]!==void 0x0&&(_0x48b2b5+=',\x20valor\x20passado:\x20\x22'+_0x219f4a[_0x4c4211(0x719)]+'\x22'),_0x48b2b5+=_0x4c4211(0xef)+_0x2b9d7c+'.',_0x5f50bc['push'](_0x48b2b5);}_0x2b9d7c!==null&&(_0xd7394=_0x2b9d7c);}if(_0xc5fb2d[_0x4c4211(0x69d)]['realVariables']&&_0xb7c9ca['saveVariable']){_0xc5fb2d[_0x4c4211(0x69d)]['realVariables'][_0xb7c9ca['saveVariable']]=_0xd7394;let _0x556eec={'variable':_0xb7c9ca[_0x4c4211(0x72c)],'oldValue':_0x1a0704,'newValue':_0xd7394,'moreLogs':_0x5f50bc};try{this[_0x4c4211(0x160)](_0xc5fb2d,_0xb7c9ca,_0x556eec);}catch(_0x27829e){this[_0x4c4211(0x6d5)][_0x4c4211(0x299)](_0x4c4211(0x308)+_0x27829e[_0x4c4211(0x729)]);}}return _0x5c1f95;}catch(_0x3ca985){return this[_0x4c4211(0x6d5)][_0x4c4211(0x299)](_0x4c4211(0x5dd)+_0x3ca985[_0x4c4211(0x729)]),null;}}async[a0_0x1eb7af(0x741)](_0x48c13a,_0x1da1e8){const _0x50ad6f=a0_0x1eb7af;try{let _0x3da5c2=[],_0x32c232=_0x48c13a[_0x50ad6f(0x3b2)][_0x50ad6f(0x19b)](_0x3658de=>_0x3658de[_0x50ad6f(0x37a)]===_0x1da1e8[_0x50ad6f(0x710)]['toString']()),_0x14008c=null,_0x33c9fb=!0x1;for(let _0x14f028 of _0x32c232){let _0x1d68fb=this[_0x50ad6f(0x3f1)](_0x48c13a,_0x14f028);_0x3da5c2[_0x50ad6f(0x46f)](_0x50ad6f(0x61b)+_0x14f028[_0x50ad6f(0x6bf)]+_0x50ad6f(0x191)+_0x14f028[_0x50ad6f(0x71a)]+_0x50ad6f(0x787)+_0x14f028[_0x50ad6f(0x719)]+',\x20Resultado:\x20'+_0x1d68fb),_0x14008c===null?_0x14008c=_0x1d68fb:_0x14f028['OrAnd']===_0x50ad6f(0x418)?(_0x14008c=_0x14008c&&_0x1d68fb,_0x1d68fb||(_0x33c9fb=!0x0)):_0x14f028[_0x50ad6f(0x439)]==='or'&&(_0x33c9fb||(_0x14008c=_0x14008c||_0x1d68fb));}_0x14008c===null&&(_0x14008c=!0x0);let _0x504457={'moreLogs':_0x3da5c2};_0x48c13a[_0x50ad6f(0x69d)][_0x50ad6f(0x7e5)]=_0x14008c,await this[_0x50ad6f(0x160)](_0x48c13a,_0x1da1e8,_0x504457);}catch(_0x437ebb){this[_0x50ad6f(0x6d5)]['error'](this[_0x50ad6f(0x1fc)]+'\x20('+this[_0x50ad6f(0x70d)][_0x50ad6f(0x1ef)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x437ebb instanceof Error?_0x437ebb['message']:JSON[_0x50ad6f(0x454)](_0x437ebb,null,0x2)));}}[a0_0x1eb7af(0x3f1)](_0x4162eb,_0x136c8e){const _0x557c45=a0_0x1eb7af;let _0x75afd9=_0x136c8e[_0x557c45(0x6bf)],_0x35c525=_0x136c8e['secondValue'];typeof _0x75afd9==_0x557c45(0x30b)&&(_0x75afd9=this[_0x557c45(0x5a9)](_0x75afd9,_0x4162eb[_0x557c45(0x69d)][_0x557c45(0x826)])??''),typeof _0x35c525==_0x557c45(0x30b)&&(_0x35c525=this['replaceVariables'](_0x35c525,_0x4162eb[_0x557c45(0x69d)][_0x557c45(0x826)])??'');try{switch(_0x136c8e['expression']){case _0x557c45(0x492):return _0x75afd9===_0x35c525;case _0x557c45(0x64e):return _0x75afd9!==_0x35c525;case'contains':return this[_0x557c45(0x384)](_0x75afd9,_0x35c525);case _0x557c45(0x378):return!this[_0x557c45(0x384)](_0x75afd9,_0x35c525);case'greater':return parseFloat(_0x75afd9)>parseFloat(_0x35c525);case'less':return parseFloat(_0x75afd9)<parseFloat(_0x35c525);case _0x557c45(0x52b):return _0x75afd9!=='';case _0x557c45(0x33c):return _0x75afd9==='';case _0x557c45(0x3a3):return new RegExp(_0x35c525)[_0x557c45(0x712)](_0x75afd9);case _0x557c45(0x3f7):return!new RegExp(_0x35c525)[_0x557c45(0x712)](_0x75afd9);default:return!0x1;}}catch(_0x476e20){return this[_0x557c45(0x6d5)][_0x557c45(0x299)](_0x557c45(0x6cf)+_0x476e20),!0x1;}}['contains'](_0x26a259,_0x57a6b2){const _0x22ff75=a0_0x1eb7af;if(_0x26a259===_0x57a6b2&&/^\d+$/['test'](_0x26a259))return!0x0;if(this['isListOfNumbers'](_0x26a259)&&/^\d+$/[_0x22ff75(0x712)](_0x57a6b2)){let _0x2ca0bf=_0x26a259[_0x22ff75(0x17f)](',')['map'](_0x43c6cd=>parseInt(_0x43c6cd['trim']())),_0x46fe35=parseInt(_0x57a6b2);return _0x2ca0bf[_0x22ff75(0x34b)](_0x46fe35);}return _0x26a259['includes'](_0x57a6b2);}['isListOfNumbers'](_0x3d1701){const _0x4da282=a0_0x1eb7af;return/^\d+(,\d+)*$/[_0x4da282(0x712)](_0x3d1701);}[a0_0x1eb7af(0x6db)](_0x247b26){const _0x33934a=a0_0x1eb7af;let _0x99d61e=!0x0,_0x17fd5b=null;for(let _0x1746cb of _0x247b26){let _0x40890a=this[_0x33934a(0x205)](_0x1746cb);if(_0x17fd5b==='or'&&_0x40890a){_0x99d61e=!0x0;break;}if(_0x17fd5b===_0x33934a(0x418)&&!_0x40890a){_0x99d61e=!0x1;break;}_0x17fd5b=_0x1746cb['OrAnd'];}return _0x99d61e;}[a0_0x1eb7af(0x205)](_0x30f513){const _0x5ad274=a0_0x1eb7af;let _0x11c520=_0x30f513[_0x5ad274(0x6bf)],_0x4284fa=_0x30f513[_0x5ad274(0x719)];try{switch(_0x30f513[_0x5ad274(0x71a)]){case _0x5ad274(0x492):return String(_0x11c520)===String(_0x4284fa);case _0x5ad274(0x64e):return String(_0x11c520)!==String(_0x4284fa);case _0x5ad274(0x384):return String(_0x11c520)['includes'](String(_0x4284fa));case _0x5ad274(0x378):return!String(_0x11c520)[_0x5ad274(0x34b)](String(_0x4284fa));case'greater':return parseFloat(String(_0x11c520))>parseFloat(String(_0x4284fa));case _0x5ad274(0x27e):return parseFloat(String(_0x11c520))<parseFloat(String(_0x4284fa));case _0x5ad274(0x52b):return String(_0x11c520)!=='';case _0x5ad274(0x33c):return String(_0x11c520)==='';case _0x5ad274(0x3a3):return new RegExp(String(_0x4284fa))[_0x5ad274(0x712)](String(_0x11c520));case _0x5ad274(0x3f7):return!new RegExp(String(_0x4284fa))[_0x5ad274(0x712)](String(_0x11c520));default:return!0x1;}}catch(_0xf21513){return this[_0x5ad274(0x6d5)][_0x5ad274(0x299)](_0x5ad274(0x6cf)+_0xf21513),!0x1;}}async[a0_0x1eb7af(0x663)](_0x38972e,_0x5a10bf){const _0x2d190a=a0_0x1eb7af;if(this['logger'][_0x2d190a(0x4e7)](this[_0x2d190a(0x1fc)]+'\x20('+this[_0x2d190a(0x70d)][_0x2d190a(0x1ef)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x38972e||!_0x5a10bf)return this[_0x2d190a(0x6d5)][_0x2d190a(0x299)](this[_0x2d190a(0x1fc)]+'\x20('+this[_0x2d190a(0x70d)][_0x2d190a(0x1ef)]+_0x2d190a(0x39c)),null;let _0x26f478=_0x38972e[_0x2d190a(0x69d)][_0x2d190a(0x3d0)][_0x2d190a(0x6b3)]['id'];this['logger'][_0x2d190a(0x4e7)](this[_0x2d190a(0x1fc)]+'\x20('+this[_0x2d190a(0x70d)][_0x2d190a(0x1ef)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x26f478);let _0x30500d={'key':{'id':_0x26f478}},_0x477423=_0x5a10bf[_0x2d190a(0x72c)];_0x38972e[_0x2d190a(0x69d)][_0x2d190a(0x826)]['_'+_0x477423+'.fileUrl']=null,_0x38972e['chatLog'][_0x2d190a(0x826)]['_'+_0x477423+'.mimetype']=null,_0x38972e['chatLog'][_0x2d190a(0x826)]['_'+_0x477423+_0x2d190a(0x35b)]=null,_0x38972e[_0x2d190a(0x69d)][_0x2d190a(0x826)]['_'+_0x477423+'.type']=_0x38972e['chatLog'][_0x2d190a(0x3d0)][_0x2d190a(0x813)];try{let _0x4ad0d5=await this[_0x2d190a(0x777)](_0x30500d);this[_0x2d190a(0x6d5)][_0x2d190a(0x4e7)](this[_0x2d190a(0x1fc)]+'\x20('+this[_0x2d190a(0x70d)][_0x2d190a(0x1ef)]+_0x2d190a(0x76d)),_0x38972e[_0x2d190a(0x69d)]['realVariables']['_'+_0x477423+_0x2d190a(0x64c)]=_0x4ad0d5['fileUrl'],_0x38972e['chatLog'][_0x2d190a(0x826)]['_'+_0x477423+'.mimetype']=_0x4ad0d5['mimetype'];let _0x25ef56=_0x4ad0d5['mimetype'][_0x2d190a(0x278)](/\/(\w+)$/),_0xc929e9=_0x25ef56?_0x25ef56[0x1]:null;_0x38972e[_0x2d190a(0x69d)][_0x2d190a(0x826)]['_'+_0x477423+_0x2d190a(0x35b)]=_0xc929e9,this[_0x2d190a(0x6d5)]['verbose'](this[_0x2d190a(0x1fc)]+'\x20('+this['instance']['wuid']+_0x2d190a(0x1e6)+_0x477423+'\x27.');}catch(_0x359aad){this[_0x2d190a(0x6d5)][_0x2d190a(0x299)](this[_0x2d190a(0x1fc)]+'\x20('+this[_0x2d190a(0x70d)][_0x2d190a(0x1ef)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x359aad[_0x2d190a(0x729)]);}let _0x557b85=_0x38972e[_0x2d190a(0x69d)][_0x2d190a(0x3d0)][_0x2d190a(0x3e8)]||_0x38972e['chatLog'][_0x2d190a(0x3d0)][_0x2d190a(0x762)]||_0x38972e[_0x2d190a(0x69d)]['lastReceivedMessage'][_0x2d190a(0x400)];try{_0x38972e['chatLog'][_0x2d190a(0x826)]||(_0x38972e['chatLog'][_0x2d190a(0x826)]={});let _0x32c8d3=_0x38972e[_0x2d190a(0x69d)][_0x2d190a(0x826)][_0x477423];_0x38972e[_0x2d190a(0x69d)]['realVariables'][_0x477423]=_0x557b85;let _0x1d02b6={'variable':_0x477423,'oldValue':_0x32c8d3,'newValue':_0x557b85};this[_0x2d190a(0x160)](_0x38972e,_0x5a10bf,_0x1d02b6),this[_0x2d190a(0x6d5)][_0x2d190a(0x4e7)](this['instanceName']+'\x20('+this[_0x2d190a(0x70d)][_0x2d190a(0x1ef)]+_0x2d190a(0x4a0));}catch(_0x47ae5a){let _0x3bf622={'error':!0x0,'errorLog':_0x47ae5a[_0x2d190a(0x725)]()};return this[_0x2d190a(0x160)](_0x38972e,_0x5a10bf,_0x3bf622),this['logger'][_0x2d190a(0x299)](this['instanceName']+'\x20('+this[_0x2d190a(0x70d)][_0x2d190a(0x1ef)]+_0x2d190a(0x5dc)+(_0x47ae5a instanceof Error?_0x47ae5a[_0x2d190a(0x729)]:JSON[_0x2d190a(0x454)](_0x47ae5a,null,0x2))),null;}}async['stopConversation'](_0x1a4f21,_0x5cb6b1){const _0x3c459a=a0_0x1eb7af;if(this[_0x3c459a(0x6d5)][_0x3c459a(0x4e7)](this[_0x3c459a(0x1fc)]+'\x20('+this['instance'][_0x3c459a(0x1ef)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x1a4f21||!_0x5cb6b1)return this[_0x3c459a(0x6d5)][_0x3c459a(0x299)](this[_0x3c459a(0x1fc)]+'\x20('+this[_0x3c459a(0x70d)][_0x3c459a(0x1ef)]+_0x3c459a(0x39c)),null;let _0x3d2046=Date[_0x3c459a(0x4e4)](),_0xaff537=parseInt(_0x5cb6b1[_0x3c459a(0x58f)],0xa);if(isNaN(_0xaff537))return this[_0x3c459a(0x6d5)][_0x3c459a(0x299)](this[_0x3c459a(0x1fc)]+'\x20('+this[_0x3c459a(0x70d)][_0x3c459a(0x1ef)]+_0x3c459a(0x746)),null;let _0x546f9d={'newStoppedUntil':_0x3d2046+_0xaff537*0x3c*0x3e8};return await this['updateConversation'](_0x1a4f21,_0x5cb6b1,_0x546f9d,!0x0),null;}async[a0_0x1eb7af(0x1d1)](_0x156e22,_0x4f0f22){const _0x4f9815=a0_0x1eb7af;try{switch(_0x4f0f22[_0x4f9815(0x6ff)]['command']){case _0x4f9815(0x482):await this[_0x4f9815(0x6cd)](_0x156e22,_0x4f0f22);break;case _0x4f9815(0x204):await this['uazapiSendMedia'](_0x156e22,_0x4f0f22);break;case'sendLocation':await this['uazapiSendLocation'](_0x156e22,_0x4f0f22);break;case _0x4f9815(0x566):await this[_0x4f9815(0x60c)](_0x156e22,_0x4f0f22);break;case'sendContact':await this['uazapiSendContact'](_0x156e22,_0x4f0f22);break;case'sendPoll':await this[_0x4f9815(0x2d0)](_0x156e22,_0x4f0f22);break;case _0x4f9815(0x350):await this[_0x4f9815(0x2d0)](_0x156e22,_0x4f0f22);break;case _0x4f9815(0x557):await this[_0x4f9815(0x766)](_0x156e22,_0x4f0f22);break;default:this['logger'][_0x4f9815(0x299)](this[_0x4f9815(0x1fc)]+'\x20('+this[_0x4f9815(0x70d)][_0x4f9815(0x1ef)]+'):\x20Comando\x20desconhecido:\x20'+_0x4f0f22[_0x4f9815(0x6ff)][_0x4f9815(0x6b4)]);}}catch(_0x37d206){this['logger'][_0x4f9815(0x299)](this[_0x4f9815(0x1fc)]+'\x20('+this[_0x4f9815(0x70d)][_0x4f9815(0x1ef)]+_0x4f9815(0x1c4)+(_0x37d206 instanceof Error?_0x37d206[_0x4f9815(0x729)]:JSON[_0x4f9815(0x454)](_0x37d206,null,0x2)));}}async[a0_0x1eb7af(0x160)](_0x37d896,_0x44d751,_0x4f2859,_0x5470b2=!0x1,_0x3516a0=!0x1){const _0x159d0c=a0_0x1eb7af;_0x37d896['chatLog'][_0x159d0c(0x137)]||(_0x37d896[_0x159d0c(0x69d)][_0x159d0c(0x137)]=[]);let _0x474133=(_0x37d896[_0x159d0c(0x69d)]['blockLogs']?.['length']??0x0)+0x1,_0x3d8ddd=_0x37d896['chatLog'][_0x159d0c(0x137)][_0x159d0c(0x19b)](_0xccf31c=>String(_0xccf31c['blockId'])===String(_0x44d751[_0x159d0c(0x710)]))[_0x159d0c(0x3fe)]+0x1,_0x1ec984=_0x4f2859?.[_0x159d0c(0x70e)]??Date[_0x159d0c(0x4e4)](),_0x4ae4bb=_0x4f2859?.[_0x159d0c(0x299)]?_0x4f2859[_0x159d0c(0x6fb)]??_0x4f2859[_0x159d0c(0x299)]['toString']():void 0x0,_0x42d48c={'onTime':_0x1ec984,'blockId':_0x44d751['_id'],'order':_0x474133,'activatedCount':_0x3d8ddd,'error':_0x4f2859?.[_0x159d0c(0x299)]??!0x1,'messageId':_0x4f2859?.[_0x159d0c(0x5d6)],'apiResponse':_0x4f2859?.[_0x159d0c(0x2bb)],'apiResponseString':_0x4f2859?.[_0x159d0c(0x2bb)]?JSON['stringify'](_0x4f2859?.[_0x159d0c(0x2bb)]):void 0x0,'variable':_0x4f2859?.[_0x159d0c(0x720)],'oldValue':_0x4f2859?.[_0x159d0c(0x59f)],'newValue':_0x4f2859?.[_0x159d0c(0x22f)],'newStoppedUntil':_0x4f2859?.[_0x159d0c(0x189)],'moreLogs':_0x4f2859?.[_0x159d0c(0x2aa)],'errorLog':_0x4ae4bb};if(_0x4f2859[_0x159d0c(0x2aa)]&&_0x4f2859[_0x159d0c(0x2aa)][_0x159d0c(0x3fe)]>0x0){let _0x21225a=_0x4f2859[_0x159d0c(0x2aa)][_0x159d0c(0x285)](_0x474c5d=>this[_0x159d0c(0x252)](_0x474c5d,_0x37d896[_0x159d0c(0x69d)]['realVariables']));_0x42d48c[_0x159d0c(0x2aa)]=_0x21225a;}if(_0x37d896['chatLog'][_0x159d0c(0x826)]||(_0x37d896[_0x159d0c(0x69d)][_0x159d0c(0x826)]={}),_0x37d896['chatLog'][_0x159d0c(0x826)][_0x159d0c(0x6fe)]=String(_0x3d8ddd),_0x37d896[_0x159d0c(0x69d)][_0x159d0c(0x826)][_0x159d0c(0x1dc)]=String(_0x4f2859[_0x159d0c(0x299)]??!0x1),_0x37d896['chatLog']['blockLogs']['push'](_0x42d48c),_0x37d896['chatLog'][_0x159d0c(0x826)][_0x159d0c(0x383)]&&_0x37d896['chatLog'][_0x159d0c(0x826)][_0x159d0c(0x383)]!==_0x37d896[_0x159d0c(0x4c9)]){let _0xc88c2d=(await this['whatsappNumber']({'numbers':[_0x37d896[_0x159d0c(0x69d)][_0x159d0c(0x826)][_0x159d0c(0x383)]]}))[0x0]['jid'];_0x37d896[_0x159d0c(0x69d)][_0x159d0c(0x826)][_0x159d0c(0x383)]=_0xc88c2d,_0x37d896[_0x159d0c(0x4c9)]=_0xc88c2d;try{let _0x520088={'_id':{'$ne':_0x37d896[_0x159d0c(0x710)]},'remoteJid':_0xc88c2d,'status':'open'},_0x3754a9={'status':'closed'};await this[_0x159d0c(0x1a2)][_0x159d0c(0x496)]['updateMany'](_0x520088,_0x3754a9,this['instance'][_0x159d0c(0x1ef)]),this[_0x159d0c(0x6d5)][_0x159d0c(0x4e7)](this[_0x159d0c(0x1fc)]+'\x20('+this['instance'][_0x159d0c(0x1ef)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x269a97){this[_0x159d0c(0x6d5)][_0x159d0c(0x299)](this['instanceName']+'\x20('+this['instance'][_0x159d0c(0x1ef)]+_0x159d0c(0x5d3)+_0x269a97['message']);}try{let _0x57180b=_0x37d896[_0x159d0c(0x69d)][_0x159d0c(0x826)],_0x15023f=await this['getVariablesChat'](_0xc88c2d),_0x34967d={..._0x57180b,..._0x15023f,'_remoteJid':_0xc88c2d};_0x37d896[_0x159d0c(0x69d)][_0x159d0c(0x826)]=_0x34967d;}catch(_0x352b96){this['logger'][_0x159d0c(0x299)](this[_0x159d0c(0x1fc)]+'\x20('+this[_0x159d0c(0x70d)][_0x159d0c(0x1ef)]+_0x159d0c(0x124)+_0x352b96[_0x159d0c(0x729)]);}}_0x37d896[_0x159d0c(0x69d)][_0x159d0c(0x241)]=_0x44d751[_0x159d0c(0x710)][_0x159d0c(0x725)](),_0x37d896[_0x159d0c(0x69d)]['lastSendMessage']&&(_0x37d896['chatLog'][_0x159d0c(0x237)]=_0x37d896[_0x159d0c(0x69d)][_0x159d0c(0x237)]),_0x37d896[_0x159d0c(0x69d)][_0x159d0c(0x3d0)]&&(_0x37d896[_0x159d0c(0x69d)]['lastReceivedMessage']=_0x37d896[_0x159d0c(0x69d)][_0x159d0c(0x3d0)]),_0x37d896[_0x159d0c(0x69d)][_0x159d0c(0x7e5)]&&(_0x37d896[_0x159d0c(0x69d)][_0x159d0c(0x7e5)]=_0x37d896['chatLog']['lastCondition']),_0x3516a0&&(_0x37d896[_0x159d0c(0x771)]='closed'),_0x5470b2?this[_0x159d0c(0x3ce)](_0x37d896):this['goNextblock'](_0x37d896,_0x44d751);}['replaceVariablesLogs'](_0x447ccc,_0x566a3f){const _0x5b256b=a0_0x1eb7af;return _0x447ccc[_0x5b256b(0x517)](/\{\{([^}]+)\}\}/g,(_0x5c88f9,_0x4e3909)=>_0x566a3f[_0x4e3909]?'{{'+_0x4e3909+_0x5b256b(0x27d)+_0x566a3f[_0x4e3909]+'\x22':'{{'+_0x4e3909+'}}\x20->\x20valor\x20não\x20encontrado');}async['saveConversationToDatabase'](_0x7591d1){const _0x2b882b=a0_0x1eb7af;try{let _0x365051=Object[_0x2b882b(0x35e)](_0x7591d1[_0x2b882b(0x69d)][_0x2b882b(0x826)])[_0x2b882b(0x285)](([_0x390f2b,_0x5b5a56])=>({'name':_0x390f2b,'value':_0x5b5a56})),_0x183092={'status':_0x7591d1[_0x2b882b(0x771)],'remoteJid':_0x7591d1[_0x2b882b(0x4c9)],'blocks':_0x7591d1['blocks'],'waitingMenu_id':_0x7591d1[_0x2b882b(0x638)],'waitingMenu_text':_0x7591d1[_0x2b882b(0x3ba)],'waitingMenu_replyOptions':_0x7591d1[_0x2b882b(0x11a)],'chatLog':{'lastBlockId':_0x7591d1['chatLog'][_0x2b882b(0x241)],'lastSendMessage':_0x7591d1[_0x2b882b(0x69d)]['lastSendMessage'],'lastReceivedMessage':_0x7591d1[_0x2b882b(0x69d)]['lastReceivedMessage'],'lastCondition':_0x7591d1[_0x2b882b(0x69d)]['lastCondition'],'chatVariables':_0x365051,'realVariables':_0x7591d1[_0x2b882b(0x69d)][_0x2b882b(0x826)],'blockLogs':_0x7591d1['chatLog']['blockLogs']}},_0x4c53f8=await this[_0x2b882b(0x1a2)][_0x2b882b(0x496)][_0x2b882b(0x393)](_0x7591d1['_id'],_0x183092,this[_0x2b882b(0x70d)][_0x2b882b(0x1ef)]);if(_0x4c53f8){this['logger'][_0x2b882b(0x4e7)](this[_0x2b882b(0x1fc)]+'\x20('+this[_0x2b882b(0x70d)][_0x2b882b(0x1ef)]+_0x2b882b(0x4cb)+_0x4c53f8[_0x2b882b(0x710)]);try{let _0x525f70=[_0x2b882b(0xea),_0x2b882b(0x7a2),'email',_0x2b882b(0x262),'status',_0x2b882b(0x390),_0x2b882b(0x282),_0x2b882b(0x49f),_0x2b882b(0x1d2),_0x2b882b(0x7f3)];if(!this[_0x2b882b(0x3bb)]&&(await this[_0x2b882b(0x245)](),!this[_0x2b882b(0x3bb)]))throw new Error(_0x2b882b(0x2f1));let _0xb6af2c=this[_0x2b882b(0x3bb)]?.[_0x2b882b(0x123)][_0x2b882b(0x285)](_0x5b7621=>_0x5b7621['name']),_0x4477d2={};Object[_0x2b882b(0x35e)](_0x7591d1[_0x2b882b(0x69d)][_0x2b882b(0x826)])[_0x2b882b(0x7d3)](([_0x138b46,_0x35ec6f])=>{const _0x4583b5=_0x2b882b;_0x525f70[_0x4583b5(0x34b)](_0x138b46)&&(_0x138b46===_0x4583b5(0x49f)&&typeof _0x35ec6f==_0x4583b5(0x30b)?_0x4477d2[_0x138b46]=_0x35ec6f[_0x4583b5(0x17f)](',')[_0x4583b5(0x285)](_0x453325=>_0x453325[_0x4583b5(0x30f)]())[_0x4583b5(0x19b)](_0x58c3d2=>_0x58c3d2!==''):_0x138b46===_0x4583b5(0x1d2)&&typeof _0x35ec6f==_0x4583b5(0x30b)?_0x4477d2[_0x138b46]=_0x35ec6f[_0x4583b5(0x17f)](',')[_0x4583b5(0x285)](_0x2d76ce=>_0x2d76ce['trim']())[_0x4583b5(0x19b)](_0x26d81b=>_0x26d81b!==''):_0x4477d2[_0x138b46]=_0x35ec6f);});let _0x53d89e=_0x7591d1[_0x2b882b(0x69d)][_0x2b882b(0x137)][_0x7591d1['chatLog'][_0x2b882b(0x137)][_0x2b882b(0x3fe)]-0x1];if(_0x53d89e){let _0x5a9cdc=_0x53d89e[_0x2b882b(0x189)];_0x5a9cdc!==void 0x0&&(_0x4477d2['desativadoFluxoAte']=_0x5a9cdc['toString']());}let _0x21bec6=_0x365051[_0x2b882b(0x19b)](_0x5e6722=>_0xb6af2c['includes'](_0x5e6722['name']));this[_0x2b882b(0x6d5)]['verbose'](this[_0x2b882b(0x1fc)]+'\x20('+this[_0x2b882b(0x70d)][_0x2b882b(0x1ef)]+_0x2b882b(0x3a9)),this[_0x2b882b(0x6d5)][_0x2b882b(0x4e7)](_0x4477d2),this[_0x2b882b(0x6d5)][_0x2b882b(0x4e7)](this['instanceName']+'\x20('+this[_0x2b882b(0x70d)][_0x2b882b(0x1ef)]+'):\x20customFieldVariables'),this['logger'][_0x2b882b(0x4e7)](_0x21bec6);let _0x4f0ef0=_0x21bec6['map'](_0x3b4f4f=>{const _0x2ec4c4=_0x2b882b;let _0x24c0f4=this[_0x2ec4c4(0x3bb)]?.[_0x2ec4c4(0x123)][_0x2ec4c4(0x7a9)](_0x4b4a17=>_0x4b4a17[_0x2ec4c4(0x587)]===_0x3b4f4f[_0x2ec4c4(0x587)]);if(!_0x24c0f4)throw new Error(_0x2ec4c4(0x711)+_0x3b4f4f[_0x2ec4c4(0x587)]);return{'_id':_0x24c0f4[_0x2ec4c4(0x710)],'value':_0x3b4f4f['value']};});this[_0x2b882b(0x6d5)][_0x2b882b(0x4e7)](this[_0x2b882b(0x1fc)]+'\x20('+this[_0x2b882b(0x70d)][_0x2b882b(0x1ef)]+_0x2b882b(0x32d)),this['logger'][_0x2b882b(0x4e7)](_0x4f0ef0),await this[_0x2b882b(0x320)](_0x7591d1[_0x2b882b(0x4c9)],_0x4477d2,_0x4f0ef0);}catch(_0x41905b){this[_0x2b882b(0x6d5)][_0x2b882b(0x299)](this[_0x2b882b(0x1fc)]+'\x20('+this[_0x2b882b(0x70d)][_0x2b882b(0x1ef)]+_0x2b882b(0x5c7)+(_0x41905b instanceof Error?_0x41905b['message']:JSON[_0x2b882b(0x454)](_0x41905b,null,0x2)));}}else this[_0x2b882b(0x6d5)][_0x2b882b(0x299)](this[_0x2b882b(0x1fc)]+'\x20('+this[_0x2b882b(0x70d)][_0x2b882b(0x1ef)]+_0x2b882b(0x365));}catch(_0x8cea08){this[_0x2b882b(0x6d5)][_0x2b882b(0x299)](this['instanceName']+'\x20('+this[_0x2b882b(0x70d)][_0x2b882b(0x1ef)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x8cea08 instanceof Error?_0x8cea08[_0x2b882b(0x729)]:JSON[_0x2b882b(0x454)](_0x8cea08,null,0x2)));}}async[a0_0x1eb7af(0x320)](_0x1a63c9,_0x5a0b50,_0x3ac747){const _0xbb1b04=a0_0x1eb7af;try{let _0x577c5c={'leadInfo.leadnome':_0x5a0b50[_0xbb1b04(0xea)],'leadInfo.nomecompleto':_0x5a0b50[_0xbb1b04(0x7a2)],'leadInfo.email':_0x5a0b50[_0xbb1b04(0x5ff)],'leadInfo.cpf':_0x5a0b50['cpf'],'leadInfo.status':_0x5a0b50['status'],'leadInfo.notas':_0x5a0b50[_0xbb1b04(0x390)],'leadInfo.responsavelid':_0x5a0b50[_0xbb1b04(0x282)],'leadInfo.tags':_0x5a0b50['tags'],'leadInfo.etiquetas':_0x5a0b50[_0xbb1b04(0x1d2)],'leadInfo.customFields':_0x3ac747,'leadInfo.atendimentoAberto':_0x5a0b50[_0xbb1b04(0x7f3)]},_0x3fbeab=await this[_0xbb1b04(0x1a2)][_0xbb1b04(0x142)][_0xbb1b04(0x1be)]({'where':{'_id':_0x1a63c9}},this[_0xbb1b04(0x70d)][_0xbb1b04(0x1ef)]);if(!_0x3fbeab)return _0xbb1b04(0x5be);let _0x4824f9=new Set(_0x3fbeab[_0xbb1b04(0x523)]['etiquetas']||[]),_0xc235b2=new Set(_0x5a0b50[_0xbb1b04(0x1d2)]||[]),_0x2691c3=await this[_0xbb1b04(0x1a2)][_0xbb1b04(0x811)]['find']({'where':{}},this['instance'][_0xbb1b04(0x1ef)]),_0x5d9eee=new Set(_0x2691c3[_0xbb1b04(0x285)](_0x38c79c=>_0x38c79c[_0xbb1b04(0x710)])),_0x3fc1f1=[..._0xc235b2][_0xbb1b04(0x19b)](_0x10b84=>!_0x4824f9[_0xbb1b04(0x4b1)](_0x10b84)&&_0x5d9eee['has'](_0x10b84)),_0x5d52a6=[..._0x4824f9][_0xbb1b04(0x19b)](_0x546b2a=>!_0xc235b2['has'](_0x546b2a));for(let _0xc07551 of _0x3fc1f1)await this[_0xbb1b04(0x645)](_0xc07551,_0x3fbeab['_id']),_0x4824f9[_0xbb1b04(0x309)](_0xc07551);for(let _0x2a7610 of _0x5d52a6)await this[_0xbb1b04(0x789)](_0x2a7610,_0x3fbeab[_0xbb1b04(0x710)]),_0x4824f9[_0xbb1b04(0x404)](_0x2a7610);if('desativadoFluxoAte'in _0x5a0b50){let _0xfe4bdb=_0x5a0b50['desativadoFluxoAte'];_0x577c5c[_0xbb1b04(0x644)]=_0xfe4bdb?Number(_0xfe4bdb):null;}if(_0xbb1b04(0x7f3)in _0x5a0b50){let _0x56cdbd=_0x5a0b50[_0xbb1b04(0x7f3)][_0xbb1b04(0x799)]();_0x577c5c[_0xbb1b04(0x605)]=_0x56cdbd===_0xbb1b04(0x125)||_0x56cdbd==='1'||_0x56cdbd===_0xbb1b04(0x788)||_0x56cdbd===_0xbb1b04(0x594);}let _0x217204=await this[_0xbb1b04(0x1a2)][_0xbb1b04(0x142)][_0xbb1b04(0x393)]({'where':{'_id':_0x1a63c9}},_0x577c5c,this[_0xbb1b04(0x70d)]['wuid']);_0x217204?(this['logger'][_0xbb1b04(0x4e7)](this[_0xbb1b04(0x1fc)]+'\x20('+this[_0xbb1b04(0x70d)][_0xbb1b04(0x1ef)]+_0xbb1b04(0x5e8)+_0x217204[_0xbb1b04(0x710)]),j(this[_0xbb1b04(0x1fc)],_0xbb1b04(0x72a),{'chat':_0x217204})):this[_0xbb1b04(0x6d5)][_0xbb1b04(0x299)](this['instanceName']+'\x20('+this['instance'][_0xbb1b04(0x1ef)]+_0xbb1b04(0x406));}catch(_0x99f187){this['logger'][_0xbb1b04(0x299)](this[_0xbb1b04(0x1fc)]+'\x20('+this[_0xbb1b04(0x70d)][_0xbb1b04(0x1ef)]+_0xbb1b04(0x19c)+(_0x99f187 instanceof Error?_0x99f187['message']:JSON[_0xbb1b04(0x454)](_0x99f187,null,0x2)));}}async[a0_0x1eb7af(0x7a3)](_0x3ca56c,_0x207c95){const _0x34ef61=a0_0x1eb7af;this[_0x34ef61(0x6d5)][_0x34ef61(0x4e7)](this[_0x34ef61(0x1fc)]+'\x20('+this['instance'][_0x34ef61(0x1ef)]+_0x34ef61(0x5f8)+_0x207c95);try{let _0x95d07b=await this['repository'][_0x34ef61(0x142)][_0x34ef61(0x393)]({'where':{'_id':_0x3ca56c[_0x34ef61(0x4c9)]}},{'leadInfo.desativadoFluxoAte':_0x207c95},this[_0x34ef61(0x70d)]['wuid']);this[_0x34ef61(0x6d5)][_0x34ef61(0x4e7)](this[_0x34ef61(0x1fc)]+'\x20('+this[_0x34ef61(0x70d)][_0x34ef61(0x1ef)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x3ca56c[_0x34ef61(0x710)]),this[_0x34ef61(0x6d5)][_0x34ef61(0x4e7)](this[_0x34ef61(0x1fc)]+'\x20('+this['instance'][_0x34ef61(0x1ef)]+_0x34ef61(0x5f8)+JSON['stringify'](_0x95d07b,null,0x2)),_0x95d07b&&j(this['instanceName'],_0x34ef61(0x72a),{'chat':_0x95d07b});}catch(_0x43beaf){this[_0x34ef61(0x6d5)][_0x34ef61(0x299)](this['instanceName']+'\x20('+this[_0x34ef61(0x70d)]['wuid']+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x43beaf instanceof Error?_0x43beaf['message']:JSON[_0x34ef61(0x454)](_0x43beaf,null,0x2)));}}async[a0_0x1eb7af(0x415)](_0x40f8cc){const _0x5bdf29=a0_0x1eb7af;try{this[_0x5bdf29(0x6d5)][_0x5bdf29(0x4e7)](this['instanceName']+'\x20('+this[_0x5bdf29(0x70d)][_0x5bdf29(0x1ef)]+_0x5bdf29(0x574));let _0xf38409=_0x40f8cc[_0x5bdf29(0x517)](/\D/g,''),_0x4e468a=this[_0x5bdf29(0x3bb)]['flows'][_0x5bdf29(0x7a9)](_0x5897b9=>_0x5897b9['testingWith']===_0xf38409);if(_0x4e468a||(this[_0x5bdf29(0x6d5)][_0x5bdf29(0x4e7)](this[_0x5bdf29(0x1fc)]+'\x20('+this[_0x5bdf29(0x70d)][_0x5bdf29(0x1ef)]+_0x5bdf29(0x525)),_0x4e468a=this[_0x5bdf29(0x3bb)][_0x5bdf29(0x551)]['find'](_0x1f7209=>_0x1f7209[_0x5bdf29(0x39f)]===!0x0)),!_0x4e468a)return this['logger'][_0x5bdf29(0x4e7)](this[_0x5bdf29(0x1fc)]+'\x20('+this[_0x5bdf29(0x70d)]['wuid']+_0x5bdf29(0x665)),null;let _0x451dcf=await this[_0x5bdf29(0x1a2)][_0x5bdf29(0x779)][_0x5bdf29(0x1be)]({'where':{'_id':_0x4e468a['_id']}});if(!_0x451dcf||!_0x451dcf[_0x5bdf29(0x344)]?.[_0x5bdf29(0x34b)](this[_0x5bdf29(0x70d)]['wuid']))throw this[_0x5bdf29(0x6d5)][_0x5bdf29(0x299)](this[_0x5bdf29(0x1fc)]+'\x20('+this[_0x5bdf29(0x70d)][_0x5bdf29(0x1ef)]+_0x5bdf29(0x355)+_0x451dcf[_0x5bdf29(0x710)]+_0x5bdf29(0x247)),new m(_0x5bdf29(0x50b)+_0x451dcf[_0x5bdf29(0x710)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x451dcf;}catch(_0x1b04b9){return this[_0x5bdf29(0x6d5)][_0x5bdf29(0x299)](this[_0x5bdf29(0x1fc)]+'\x20('+this[_0x5bdf29(0x70d)]['wuid']+_0x5bdf29(0x448)+(_0x1b04b9 instanceof Error?_0x1b04b9[_0x5bdf29(0x729)]:JSON[_0x5bdf29(0x454)](_0x1b04b9,null,0x2))),null;}}async[a0_0x1eb7af(0x52a)](_0x5efe1e,_0x4629ce){const _0x43a0f4=a0_0x1eb7af;try{let _0x25a11c=!!_0x4629ce['vote'],_0x27182a=_0x4629ce[_0x43a0f4(0x745)],_0x711307=null;if(this[_0x43a0f4(0x6d5)][_0x43a0f4(0x4e7)](this['instanceName']+'\x20('+this[_0x43a0f4(0x70d)]['wuid']+_0x43a0f4(0xee)+_0x25a11c+_0x43a0f4(0x182)+_0x27182a),_0x25a11c){this['logger'][_0x43a0f4(0x4e7)](this[_0x43a0f4(0x1fc)]+'\x20('+this[_0x43a0f4(0x70d)][_0x43a0f4(0x1ef)]+_0x43a0f4(0x4de));let _0x45a546={'where':{'remoteJid':_0x5efe1e,'waitingMenu_id':_0x27182a}};if(_0x711307=await this[_0x43a0f4(0x1a2)][_0x43a0f4(0x496)][_0x43a0f4(0x1be)](_0x45a546,this[_0x43a0f4(0x70d)][_0x43a0f4(0x1ef)]),!_0x711307)return this[_0x43a0f4(0x6d5)][_0x43a0f4(0x4e7)](this[_0x43a0f4(0x1fc)]+'\x20('+this[_0x43a0f4(0x70d)][_0x43a0f4(0x1ef)]+_0x43a0f4(0x45f)),null;let _0x4f7e68=Date['now'](),_0x47ac1f=_0x711307?.[_0x43a0f4(0x501)]||0x0,_0x95ded9=_0x4f7e68-_0x47ac1f*0x3c*0x3e8;if(_0x711307[_0x43a0f4(0x220)]<_0x95ded9){this['logger'][_0x43a0f4(0x4e7)](this['instanceName']+'\x20('+this[_0x43a0f4(0x70d)][_0x43a0f4(0x1ef)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x3d6040={'number':_0x711307[_0x43a0f4(0x4c9)],'options':{'delay':0x0},'textMessage':{'text':_0x711307['waitingMenu_ExpiredMessage']}};await this[_0x43a0f4(0x1b3)](_0x3d6040);let _0x220b34={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x43a0f4(0x1a2)]['flowConversation'][_0x43a0f4(0x393)](_0x711307['_id'],_0x220b34,this[_0x43a0f4(0x70d)][_0x43a0f4(0x1ef)]),null;}return _0x711307[_0x43a0f4(0x220)]=Date[_0x43a0f4(0x4e4)](),_0x711307[_0x43a0f4(0x69d)][_0x43a0f4(0x3d0)]=_0x4629ce,_0x711307;}else{this[_0x43a0f4(0x6d5)][_0x43a0f4(0x4e7)](this['instanceName']+'\x20('+this[_0x43a0f4(0x70d)][_0x43a0f4(0x1ef)]+_0x43a0f4(0x538)+this[_0x43a0f4(0x70d)][_0x43a0f4(0x1ef)]+_0x43a0f4(0x12a)),this[_0x43a0f4(0x6d5)][_0x43a0f4(0x4e7)](this['instanceName']+'\x20('+this[_0x43a0f4(0x70d)][_0x43a0f4(0x1ef)]+_0x43a0f4(0x413));let _0x3380a9={'where':{'remoteJid':_0x5efe1e,'status':_0x43a0f4(0x183)}};if(_0x711307=await this['repository'][_0x43a0f4(0x496)][_0x43a0f4(0x1be)](_0x3380a9,this[_0x43a0f4(0x70d)][_0x43a0f4(0x1ef)]),!_0x711307){let _0x456dca=await this[_0x43a0f4(0x415)](_0x5efe1e);if(_0x456dca&&(_0x711307=await this[_0x43a0f4(0x3c8)](_0x456dca,_0x4629ce[_0x43a0f4(0x6b3)],_0x4629ce)),!_0x711307)return null;}let _0x5ee9a4=Date[_0x43a0f4(0x4e4)](),_0x21e16f=_0x711307?.[_0x43a0f4(0x501)]||0x0,_0x10d001=_0x5ee9a4-_0x21e16f*0x3c*0x3e8;if(this[_0x43a0f4(0x6d5)][_0x43a0f4(0x4e7)](this[_0x43a0f4(0x1fc)]+'\x20('+this['instance'][_0x43a0f4(0x1ef)]+'):\x20Current\x20Time:\x20'+_0x5ee9a4+_0x43a0f4(0x7f4)+_0x21e16f+',\x20Expiration\x20Time:\x20'+_0x10d001),this[_0x43a0f4(0x6d5)][_0x43a0f4(0x4e7)](this[_0x43a0f4(0x1fc)]+'\x20('+this['instance'][_0x43a0f4(0x1ef)]+_0x43a0f4(0x100)),this[_0x43a0f4(0x6d5)][_0x43a0f4(0x4e7)](this[_0x43a0f4(0x1fc)]+'\x20('+this[_0x43a0f4(0x70d)][_0x43a0f4(0x1ef)]+'):\x20conversation.lastInteraction:\x20'+_0x711307[_0x43a0f4(0x220)]),this['logger'][_0x43a0f4(0x4e7)](this['instanceName']+'\x20('+this[_0x43a0f4(0x70d)]['wuid']+_0x43a0f4(0x7c7)+_0x10d001),_0x711307[_0x43a0f4(0x220)]<_0x10d001){this['logger'][_0x43a0f4(0x4e7)](this[_0x43a0f4(0x1fc)]+'\x20('+this['instance'][_0x43a0f4(0x1ef)]+_0x43a0f4(0x646));let _0x184211=await this[_0x43a0f4(0x415)](_0x5efe1e);if(_0x184211===null)return null;_0x711307&&await this[_0x43a0f4(0x1a2)][_0x43a0f4(0x496)][_0x43a0f4(0x393)](_0x711307[_0x43a0f4(0x710)],{'status':_0x43a0f4(0x6a8)},this[_0x43a0f4(0x70d)][_0x43a0f4(0x1ef)]),_0x711307=await this[_0x43a0f4(0x3c8)](_0x184211,_0x4629ce['key'],_0x4629ce);}return _0x711307['lastInteraction']=_0x5ee9a4,_0x711307[_0x43a0f4(0x69d)][_0x43a0f4(0x3d0)]=_0x4629ce,_0x711307;}}catch(_0x597f9e){return this[_0x43a0f4(0x6d5)][_0x43a0f4(0x299)](this[_0x43a0f4(0x1fc)]+'\x20('+this[_0x43a0f4(0x70d)]['wuid']+_0x43a0f4(0x39b)+(_0x597f9e instanceof Error?_0x597f9e[_0x43a0f4(0x729)]:JSON['stringify'](_0x597f9e,null,0x2))),null;}}async['createNewConversation'](_0x43f823,_0x1c5d7c,_0x14507c){const _0x5e0f0e=a0_0x1eb7af;this[_0x5e0f0e(0x6d5)]['verbose'](this[_0x5e0f0e(0x1fc)]+'\x20('+this[_0x5e0f0e(0x70d)]['wuid']+_0x5e0f0e(0x772));try{let _0x5637b4=require(_0x5e0f0e(0x110))[_0x5e0f0e(0x21a)],_0x27d5c2=Date['now'](),_0x1fe531='start',_0x78cdc8=_0x1c5d7c[_0x5e0f0e(0x724)]?null:_0x14507c,_0x5df0a9=_0x1c5d7c['fromMe']?_0x14507c:null,_0x4d4332=_0x1c5d7c[_0x5e0f0e(0x4c9)],_0x4e6d53=this[_0x5e0f0e(0x3bb)][_0x5e0f0e(0x551)][_0x5e0f0e(0x7a9)](_0x338834=>_0x338834['_id']===_0x43f823[_0x5e0f0e(0x710)]?.[_0x5e0f0e(0x725)]()),_0x384b6f=_0x4e6d53?.[_0x5e0f0e(0x501)]??_0x43f823[_0x5e0f0e(0x501)]??0x0,_0x3456bf=_0x4e6d53?.[_0x5e0f0e(0x318)]??_0x43f823['readMessages']??!0x1;await this[_0x5e0f0e(0x718)](_0x4d4332);let _0x1b4765={'flowId':_0x43f823[_0x5e0f0e(0x710)],..._0x43f823,'chatLog':null},_0x57121d=await this[_0x5e0f0e(0x4ad)](_0x1b4765[_0x5e0f0e(0x388)]),_0x3608ee=await this['getVariablesChat'](_0x4d4332),_0x78f7ae={..._0x57121d,..._0x3608ee,'_remoteJid':_0x4d4332},_0x3fda2a={'lastReceivedMessage':_0x78cdc8,'lastSendMessage':_0x5df0a9,'lastBlockId':_0x1fe531,'lastCondition':!0x0,'realVariables':_0x78f7ae};_0x1b4765[_0x5e0f0e(0x69d)]=_0x3fda2a,delete _0x1b4765[_0x5e0f0e(0x710)],_0x1b4765[_0x5e0f0e(0x710)]=new _0x5637b4(),_0x1b4765[_0x5e0f0e(0x220)]=_0x27d5c2,_0x1b4765[_0x5e0f0e(0x771)]=_0x5e0f0e(0x183),_0x1b4765['remoteJid']=_0x4d4332,_0x1b4765['minutesToClose']=_0x384b6f,_0x1b4765[_0x5e0f0e(0x318)]=_0x3456bf;let _0x3582c1=await this[_0x5e0f0e(0x1a2)][_0x5e0f0e(0x496)][_0x5e0f0e(0x393)](_0x1b4765['_id'],_0x1b4765,this[_0x5e0f0e(0x70d)][_0x5e0f0e(0x1ef)]);return this[_0x5e0f0e(0x6d5)][_0x5e0f0e(0x4e7)](this[_0x5e0f0e(0x1fc)]+'\x20('+this['instance']['wuid']+_0x5e0f0e(0x232)),_0x3582c1?_0x1b4765:null;}catch(_0x5ec444){return this[_0x5e0f0e(0x6d5)]['error'](this[_0x5e0f0e(0x1fc)]+'\x20('+this[_0x5e0f0e(0x70d)][_0x5e0f0e(0x1ef)]+_0x5e0f0e(0x4f3)+(_0x5ec444 instanceof Error?_0x5ec444[_0x5e0f0e(0x729)]:JSON[_0x5e0f0e(0x454)](_0x5ec444,null,0x2))),_0x5ec444;}}async['uazapiSendText'](_0x186fe5,_0x2f58ed){const _0x400f3a=a0_0x1eb7af;let _0x5b33ec=_0x186fe5[_0x400f3a(0x4c9)];_0x2f58ed[_0x400f3a(0x6ff)][_0x400f3a(0x4c9)]&&_0x2f58ed['uazapi'][_0x400f3a(0x4c9)][_0x400f3a(0x30f)]()!==''&&(_0x5b33ec=_0x2f58ed[_0x400f3a(0x6ff)][_0x400f3a(0x4c9)][_0x400f3a(0x30f)]()),this[_0x400f3a(0x6d5)]['verbose'](this[_0x400f3a(0x1fc)]+'\x20('+this[_0x400f3a(0x70d)]['wuid']+'):\x20Enviando\x20texto');let _0x1ee1a2={'number':_0x5b33ec,'options':{'delay':_0x2f58ed[_0x400f3a(0x6ff)]['delay'],'linkPreview':_0x2f58ed[_0x400f3a(0x6ff)]['linkPreview']},'textMessage':{'text':_0x2f58ed['uazapi'][_0x400f3a(0x3e8)]}};try{let _0x4fdbf8=await this[_0x400f3a(0x1b3)](_0x1ee1a2);if(_0x4fdbf8){let _0x517d6f={'_id':_0x4fdbf8['key']['id'],'_fromMe':_0x4fdbf8[_0x400f3a(0x6b3)]['fromMe'],'_remoteJid':_0x4fdbf8[_0x400f3a(0x6b3)][_0x400f3a(0x4c9)]},_0x4c4fae=(0x0,w['normalizeMessageContent'])(_0x4fdbf8[_0x400f3a(0x729)]),_0x5953de=(0x0,w[_0x400f3a(0x706)])(_0x4c4fae);_0x186fe5[_0x400f3a(0x69d)][_0x400f3a(0x241)]=_0x2f58ed[_0x400f3a(0x710)][_0x400f3a(0x725)]();let {message_normalized:_0x3492b1}=this[_0x400f3a(0x79a)](_0x4c4fae,_0x5953de,null);_0x186fe5['chatLog'][_0x400f3a(0x237)]=await _0x3492b1;let _0x5ce0d8={'messageId':_0x4fdbf8[_0x400f3a(0x6b3)]['id']},_0x490d2a=_0x186fe5['chatLog'][_0x400f3a(0x826)];Object['assign'](_0x490d2a,_0x517d6f),_0x186fe5['chatLog'][_0x400f3a(0x826)]=_0x490d2a,this[_0x400f3a(0x160)](_0x186fe5,_0x2f58ed,_0x5ce0d8);}else{let _0x51f431={'error':!0x0};this[_0x400f3a(0x160)](_0x186fe5,_0x2f58ed,_0x51f431),this[_0x400f3a(0x6d5)][_0x400f3a(0x299)](this[_0x400f3a(0x1fc)]+'\x20('+this[_0x400f3a(0x70d)][_0x400f3a(0x1ef)]+_0x400f3a(0x192));}}catch(_0x370ec1){let _0x2ae566={'error':!0x0,'errorLog':_0x370ec1[_0x400f3a(0x725)]()};this[_0x400f3a(0x160)](_0x186fe5,_0x2f58ed,_0x2ae566),this[_0x400f3a(0x6d5)][_0x400f3a(0x299)](this[_0x400f3a(0x1fc)]+'\x20('+this[_0x400f3a(0x70d)][_0x400f3a(0x1ef)]+_0x400f3a(0x173)+(_0x370ec1 instanceof Error?_0x370ec1[_0x400f3a(0x729)]:JSON[_0x400f3a(0x454)](_0x370ec1,null,0x2)));}}async[a0_0x1eb7af(0x7a6)](_0x2a7e63,_0x2e1fba){const _0x1addba=a0_0x1eb7af;let _0x553abe=_0x2a7e63['remoteJid'];_0x2e1fba[_0x1addba(0x6ff)][_0x1addba(0x4c9)]&&_0x2e1fba[_0x1addba(0x6ff)][_0x1addba(0x4c9)][_0x1addba(0x30f)]()!==''&&(_0x553abe=_0x2e1fba[_0x1addba(0x6ff)][_0x1addba(0x4c9)]['trim']()),this[_0x1addba(0x6d5)][_0x1addba(0x4e7)](this['instanceName']+'\x20('+this['instance'][_0x1addba(0x1ef)]+_0x1addba(0x1b6));let _0x3f1238={'number':_0x553abe,'options':{'delay':_0x2e1fba[_0x1addba(0x6ff)]['delay'],'linkPreview':_0x2e1fba[_0x1addba(0x6ff)]['linkPreview']},'mediaMessage':{'mediatype':_0x2e1fba[_0x1addba(0x6ff)]['mediatype'],'caption':_0x2e1fba[_0x1addba(0x6ff)][_0x1addba(0x762)],'media':_0x2e1fba['uazapi'][_0x1addba(0x1f9)],'fileName':_0x2e1fba[_0x1addba(0x6ff)][_0x1addba(0x1de)]}};try{let _0x236c52=await this[_0x1addba(0x40d)](_0x3f1238);if(_0x236c52){let _0x5efb63={'_id':_0x236c52[_0x1addba(0x6b3)]['id'],'_fromMe':_0x236c52[_0x1addba(0x6b3)]['fromMe'],'_remoteJid':_0x236c52[_0x1addba(0x6b3)][_0x1addba(0x4c9)]},_0x58364e=(0x0,w[_0x1addba(0x51e)])(_0x236c52[_0x1addba(0x729)]),_0x2e2a28=(0x0,w['getContentType'])(_0x58364e);_0x2a7e63[_0x1addba(0x69d)][_0x1addba(0x241)]=_0x2e1fba['_id'][_0x1addba(0x725)]();let {message_normalized:_0x59bf02}=this[_0x1addba(0x79a)](_0x58364e,_0x2e2a28,null);_0x2a7e63[_0x1addba(0x69d)][_0x1addba(0x237)]=await _0x59bf02;let _0x29994c={'messageId':_0x236c52[_0x1addba(0x6b3)]['id']},_0x247901=_0x2a7e63[_0x1addba(0x69d)][_0x1addba(0x826)];Object[_0x1addba(0x69f)](_0x247901,_0x5efb63),_0x2a7e63[_0x1addba(0x69d)][_0x1addba(0x826)]=_0x247901,this['updateConversation'](_0x2a7e63,_0x2e1fba,_0x29994c);}else{let _0x288462={'error':!0x0};this[_0x1addba(0x160)](_0x2a7e63,_0x2e1fba,_0x288462),this[_0x1addba(0x6d5)]['error'](this[_0x1addba(0x1fc)]+'\x20('+this[_0x1addba(0x70d)]['wuid']+_0x1addba(0x52f));}}catch(_0x271441){let _0x261c33={'error':!0x0,'errorLog':_0x271441[_0x1addba(0x725)]()};this[_0x1addba(0x160)](_0x2a7e63,_0x2e1fba,_0x261c33),this[_0x1addba(0x6d5)]['error'](this[_0x1addba(0x1fc)]+'\x20('+this[_0x1addba(0x70d)][_0x1addba(0x1ef)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x271441 instanceof Error?_0x271441[_0x1addba(0x729)]:JSON[_0x1addba(0x454)](_0x271441,null,0x2)));}}async['uazapiSendLocation'](_0x30eab3,_0x3ba540){const _0x178f6e=a0_0x1eb7af;let _0x3cc3f8=_0x30eab3[_0x178f6e(0x4c9)];_0x3ba540[_0x178f6e(0x6ff)][_0x178f6e(0x4c9)]&&_0x3ba540[_0x178f6e(0x6ff)][_0x178f6e(0x4c9)][_0x178f6e(0x30f)]()!==''&&(_0x3cc3f8=_0x3ba540[_0x178f6e(0x6ff)][_0x178f6e(0x4c9)][_0x178f6e(0x30f)]()),this[_0x178f6e(0x6d5)][_0x178f6e(0x4e7)](this[_0x178f6e(0x1fc)]+'\x20('+this[_0x178f6e(0x70d)]['wuid']+_0x178f6e(0x7e8));let _0x1c9d4c={'number':_0x3cc3f8,'options':{'delay':_0x3ba540['uazapi'][_0x178f6e(0x30a)]},'locationMessage':{'name':_0x3ba540[_0x178f6e(0x6ff)]['name'],'address':_0x3ba540[_0x178f6e(0x6ff)][_0x178f6e(0x33e)],'latitude':_0x3ba540[_0x178f6e(0x6ff)]['latitude'],'longitude':_0x3ba540[_0x178f6e(0x6ff)][_0x178f6e(0xfc)]}};try{let _0x496d7e=await this[_0x178f6e(0x5fb)](_0x1c9d4c);if(_0x496d7e){let _0x3e3d8f={'_id':_0x496d7e[_0x178f6e(0x6b3)]['id'],'_fromMe':_0x496d7e['key']['fromMe'],'_remoteJid':_0x496d7e[_0x178f6e(0x6b3)][_0x178f6e(0x4c9)]},_0x2ed0b4=(0x0,w['normalizeMessageContent'])(_0x496d7e['message']),_0x418011=(0x0,w['getContentType'])(_0x2ed0b4);_0x30eab3[_0x178f6e(0x69d)]['lastBlockId']=_0x3ba540[_0x178f6e(0x710)][_0x178f6e(0x725)]();let {message_normalized:_0x337710}=this['normalizeMessage'](_0x2ed0b4,_0x418011,null);_0x30eab3[_0x178f6e(0x69d)][_0x178f6e(0x237)]=await _0x337710;let _0x1375a0={'messageId':_0x496d7e[_0x178f6e(0x6b3)]['id']},_0x1c05ac=_0x30eab3[_0x178f6e(0x69d)][_0x178f6e(0x826)];Object[_0x178f6e(0x69f)](_0x1c05ac,_0x3e3d8f),_0x30eab3['chatLog'][_0x178f6e(0x826)]=_0x1c05ac,this[_0x178f6e(0x160)](_0x30eab3,_0x3ba540,_0x1375a0);}else{let _0x499bb2={'error':!0x0};this['updateConversation'](_0x30eab3,_0x3ba540,_0x499bb2),this[_0x178f6e(0x6d5)][_0x178f6e(0x299)](this['instanceName']+'\x20('+this['instance'][_0x178f6e(0x1ef)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x5ecaab){let _0x4a8133={'error':!0x0,'errorLog':_0x5ecaab[_0x178f6e(0x725)]()};this[_0x178f6e(0x160)](_0x30eab3,_0x3ba540,_0x4a8133),this[_0x178f6e(0x6d5)][_0x178f6e(0x299)](this['instanceName']+'\x20('+this[_0x178f6e(0x70d)]['wuid']+_0x178f6e(0x2b6)+(_0x5ecaab instanceof Error?_0x5ecaab[_0x178f6e(0x729)]:JSON[_0x178f6e(0x454)](_0x5ecaab,null,0x2)));}}async[a0_0x1eb7af(0x60c)](_0x27499f,_0x3de117){const _0x5b2f14=a0_0x1eb7af;let _0xc1de18=_0x27499f['remoteJid'];_0x3de117[_0x5b2f14(0x6ff)][_0x5b2f14(0x4c9)]&&_0x3de117[_0x5b2f14(0x6ff)][_0x5b2f14(0x4c9)][_0x5b2f14(0x30f)]()!==''&&(_0xc1de18=_0x3de117[_0x5b2f14(0x6ff)][_0x5b2f14(0x4c9)][_0x5b2f14(0x30f)]()),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5b2f14(0x70d)][_0x5b2f14(0x1ef)]+'):\x20Enviando\x20áudio');let _0x1546d3={'number':_0xc1de18,'options':{'delay':_0x3de117['uazapi']['delay']},'audioMessage':{'audio':_0x3de117['uazapi'][_0x5b2f14(0x52e)]}};try{let _0x3a8d7e=await this['audioWhatsapp'](_0x1546d3);if(_0x3a8d7e){let _0x151605={'_id':_0x3a8d7e[_0x5b2f14(0x6b3)]['id'],'_fromMe':_0x3a8d7e[_0x5b2f14(0x6b3)][_0x5b2f14(0x724)],'_remoteJid':_0x3a8d7e[_0x5b2f14(0x6b3)]['remoteJid']},_0x2c7103=(0x0,w[_0x5b2f14(0x51e)])(_0x3a8d7e[_0x5b2f14(0x729)]),_0x39404b=(0x0,w[_0x5b2f14(0x706)])(_0x2c7103);_0x27499f[_0x5b2f14(0x69d)][_0x5b2f14(0x241)]=_0x3de117['_id'][_0x5b2f14(0x725)]();let {message_normalized:_0x5b50fb}=this['normalizeMessage'](_0x2c7103,_0x39404b,null);_0x27499f[_0x5b2f14(0x69d)][_0x5b2f14(0x237)]=await _0x5b50fb;let _0x578165={'messageId':_0x3a8d7e[_0x5b2f14(0x6b3)]['id']},_0x1a11fc=_0x27499f[_0x5b2f14(0x69d)]['realVariables'];Object[_0x5b2f14(0x69f)](_0x1a11fc,_0x151605),_0x27499f[_0x5b2f14(0x69d)][_0x5b2f14(0x826)]=_0x1a11fc,this[_0x5b2f14(0x160)](_0x27499f,_0x3de117,_0x578165);}else{let _0x512c4d={'error':!0x0};this[_0x5b2f14(0x160)](_0x27499f,_0x3de117,_0x512c4d),this[_0x5b2f14(0x6d5)]['error'](this['instanceName']+'\x20('+this[_0x5b2f14(0x70d)][_0x5b2f14(0x1ef)]+_0x5b2f14(0x571));}}catch(_0xf5b916){let _0x20e365={'error':!0x0,'errorLog':_0xf5b916[_0x5b2f14(0x725)]()};this[_0x5b2f14(0x160)](_0x27499f,_0x3de117,_0x20e365),this['logger'][_0x5b2f14(0x299)](this['instanceName']+'\x20('+this[_0x5b2f14(0x70d)][_0x5b2f14(0x1ef)]+_0x5b2f14(0x6c8)+(_0xf5b916 instanceof Error?_0xf5b916[_0x5b2f14(0x729)]:JSON[_0x5b2f14(0x454)](_0xf5b916,null,0x2)));}}async[a0_0x1eb7af(0x773)](_0x8d0475,_0x338c3d){const _0x289fb3=a0_0x1eb7af;let _0x58667a=_0x8d0475[_0x289fb3(0x4c9)];_0x338c3d[_0x289fb3(0x6ff)][_0x289fb3(0x4c9)]&&_0x338c3d['uazapi'][_0x289fb3(0x4c9)]['trim']()!==''&&(_0x58667a=_0x338c3d[_0x289fb3(0x6ff)][_0x289fb3(0x4c9)][_0x289fb3(0x30f)]()),this[_0x289fb3(0x6d5)][_0x289fb3(0x4e7)](this[_0x289fb3(0x1fc)]+'\x20('+this[_0x289fb3(0x70d)][_0x289fb3(0x1ef)]+'):\x20Enviando\x20contato');let _0x55288f={'number':_0x58667a,'options':{'delay':_0x338c3d[_0x289fb3(0x6ff)]['delay']},'contactMessage':[{'fullName':_0x338c3d['uazapi'][_0x289fb3(0x222)],'phoneNumber':_0x338c3d[_0x289fb3(0x6ff)]['phoneNumber']}]};try{let _0xe1c0ff=await this[_0x289fb3(0x34f)](_0x55288f);if(_0xe1c0ff){let _0x4946f0={'_id':_0xe1c0ff[_0x289fb3(0x6b3)]['id'],'_fromMe':_0xe1c0ff[_0x289fb3(0x6b3)][_0x289fb3(0x724)],'_remoteJid':_0xe1c0ff[_0x289fb3(0x6b3)][_0x289fb3(0x4c9)]},_0x146352=(0x0,w[_0x289fb3(0x51e)])(_0xe1c0ff[_0x289fb3(0x729)]),_0xe2b2dc=(0x0,w[_0x289fb3(0x706)])(_0x146352);_0x8d0475['chatLog'][_0x289fb3(0x241)]=_0x338c3d[_0x289fb3(0x710)][_0x289fb3(0x725)]();let {message_normalized:_0x51f81c}=this[_0x289fb3(0x79a)](_0x146352,_0xe2b2dc,null);_0x8d0475[_0x289fb3(0x69d)][_0x289fb3(0x237)]=await _0x51f81c;let _0x27183c={'messageId':_0xe1c0ff[_0x289fb3(0x6b3)]['id']},_0x2408cc=_0x8d0475[_0x289fb3(0x69d)][_0x289fb3(0x826)];Object[_0x289fb3(0x69f)](_0x2408cc,_0x4946f0),_0x8d0475['chatLog'][_0x289fb3(0x826)]=_0x2408cc,this[_0x289fb3(0x160)](_0x8d0475,_0x338c3d,_0x27183c);}else{let _0x142709={'error':!0x0};this[_0x289fb3(0x160)](_0x8d0475,_0x338c3d,_0x142709),this['logger'][_0x289fb3(0x299)](this['instanceName']+'\x20('+this[_0x289fb3(0x70d)][_0x289fb3(0x1ef)]+_0x289fb3(0x4a9));}}catch(_0x200732){let _0x3fccd3={'error':!0x0,'errorLog':_0x200732[_0x289fb3(0x725)]()};this[_0x289fb3(0x160)](_0x8d0475,_0x338c3d,_0x3fccd3),this['logger'][_0x289fb3(0x299)](this[_0x289fb3(0x1fc)]+'\x20('+this[_0x289fb3(0x70d)][_0x289fb3(0x1ef)]+_0x289fb3(0x61d)+(_0x200732 instanceof Error?_0x200732['message']:JSON[_0x289fb3(0x454)](_0x200732,null,0x2)));}}[a0_0x1eb7af(0x732)](_0x10c5d7,_0x293d88){const _0x500137=a0_0x1eb7af;for(let _0x35dd7c of _0x10c5d7)_0x35dd7c[_0x500137(0x600)]&&(_0x35dd7c[_0x500137(0x600)]=this[_0x500137(0x5a9)](_0x35dd7c[_0x500137(0x600)],_0x293d88)),_0x35dd7c[_0x500137(0x470)]&&(_0x35dd7c['optionDescription']=this[_0x500137(0x5a9)](_0x35dd7c['optionDescription'],_0x293d88));}async[a0_0x1eb7af(0x2d0)](_0x8723ca,_0x48682b){const _0xc75dd5=a0_0x1eb7af;let _0x22d8bb=_0x8723ca[_0xc75dd5(0x4c9)];_0x48682b[_0xc75dd5(0x6ff)][_0xc75dd5(0x4c9)]&&_0x48682b['uazapi'][_0xc75dd5(0x4c9)][_0xc75dd5(0x30f)]()!==''&&(_0x22d8bb=_0x48682b[_0xc75dd5(0x6ff)][_0xc75dd5(0x4c9)][_0xc75dd5(0x30f)]()),this[_0xc75dd5(0x6d5)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0xc75dd5(0x1ef)]+'):\x20Enviando\x20enquete');let _0x4ce2be=_0x8723ca[_0xc75dd5(0x28b)][_0xc75dd5(0x19b)](_0x4bb2d7=>_0x4bb2d7[_0xc75dd5(0x37a)]===_0x48682b[_0xc75dd5(0x710)])[_0xc75dd5(0x555)]((_0x529ed6,_0x1f0722)=>_0x529ed6[_0xc75dd5(0x6ca)]-_0x1f0722[_0xc75dd5(0x6ca)]);this[_0xc75dd5(0x732)](_0x4ce2be,_0x8723ca[_0xc75dd5(0x69d)]['realVariables']);let _0x46e201=_0x4ce2be[_0xc75dd5(0x285)](_0x1edda9=>_0x1edda9[_0xc75dd5(0x600)]),_0x1a14e7={'number':_0x22d8bb,'menuMessage':{'type':_0x48682b[_0xc75dd5(0x6ff)]['menuType']||'poll','text':_0x48682b[_0xc75dd5(0x6ff)][_0xc75dd5(0x3e8)]||_0x48682b[_0xc75dd5(0x6ff)][_0xc75dd5(0x587)],'footerText':_0x48682b[_0xc75dd5(0x6ff)][_0xc75dd5(0x640)],'buttonText':_0x48682b[_0xc75dd5(0x6ff)]['buttonText'],'selectableCount':0x1,'choices':_0x46e201},'options':{'delay':_0x48682b[_0xc75dd5(0x6ff)][_0xc75dd5(0x30a)]}};try{let _0x2fa787=await this['menuMessage'](_0x1a14e7);if(_0x2fa787){let _0xaf926e={'_id':_0x2fa787[_0xc75dd5(0x6b3)]['id'],'_fromMe':_0x2fa787[_0xc75dd5(0x6b3)][_0xc75dd5(0x724)],'_remoteJid':_0x2fa787[_0xc75dd5(0x6b3)]['remoteJid']};_0x48682b[_0xc75dd5(0x6ff)][_0xc75dd5(0x5c8)]===!0x0&&(_0x8723ca[_0xc75dd5(0x771)]='waitingForReplyMenu',this['logger'][_0xc75dd5(0x4e7)](this[_0xc75dd5(0x1fc)]+'\x20('+this[_0xc75dd5(0x70d)][_0xc75dd5(0x1ef)]+_0xc75dd5(0xe6)+_0x8723ca[_0xc75dd5(0x771)])),this['logger'][_0xc75dd5(0x4e7)](this[_0xc75dd5(0x1fc)]+'\x20('+this[_0xc75dd5(0x70d)][_0xc75dd5(0x1ef)]+'):\x20nextBlock.uazapi.name'+(_0x48682b[_0xc75dd5(0x6ff)][_0xc75dd5(0x587)]||_0x48682b['uazapi'][_0xc75dd5(0x3e8)])),_0x8723ca[_0xc75dd5(0x638)]=_0x2fa787['key']['id'],_0x8723ca[_0xc75dd5(0x3ba)]=_0x48682b[_0xc75dd5(0x6ff)]['name']||_0x48682b[_0xc75dd5(0x6ff)][_0xc75dd5(0x3e8)],_0x8723ca[_0xc75dd5(0x11a)]=_0x4ce2be,_0x48682b[_0xc75dd5(0x6ff)][_0xc75dd5(0x3f0)]&&(_0x8723ca[_0xc75dd5(0xfb)]=_0x48682b[_0xc75dd5(0x6ff)]['menuExpiredMessage']),this[_0xc75dd5(0x6d5)]['verbose'](this[_0xc75dd5(0x1fc)]+'\x20('+this['instance'][_0xc75dd5(0x1ef)]+_0xc75dd5(0x1e1)+_0x8723ca[_0xc75dd5(0x3ba)]);let _0x115f2b=(0x0,w['normalizeMessageContent'])(_0x2fa787['message']),_0x6c263a=(0x0,w[_0xc75dd5(0x706)])(_0x115f2b);_0x8723ca[_0xc75dd5(0x69d)][_0xc75dd5(0x241)]=_0x48682b['_id'][_0xc75dd5(0x725)]();let {message_normalized:_0x9de5ab}=this[_0xc75dd5(0x79a)](_0x115f2b,_0x6c263a,null);_0x8723ca['chatLog'][_0xc75dd5(0x237)]=await _0x9de5ab;let _0x3f7feb={'messageId':_0x2fa787['key']['id']},_0x284e14=_0x8723ca[_0xc75dd5(0x69d)][_0xc75dd5(0x826)];Object['assign'](_0x284e14,_0xaf926e),_0x8723ca[_0xc75dd5(0x69d)][_0xc75dd5(0x826)]=_0x284e14,this[_0xc75dd5(0x160)](_0x8723ca,_0x48682b,_0x3f7feb);}else{let _0x448d5b={'error':!0x0};this[_0xc75dd5(0x160)](_0x8723ca,_0x48682b,_0x448d5b),this[_0xc75dd5(0x6d5)][_0xc75dd5(0x299)](this[_0xc75dd5(0x1fc)]+'\x20('+this[_0xc75dd5(0x70d)]['wuid']+_0xc75dd5(0x1f2));}}catch(_0x127316){let _0x136d1b={'error':!0x0,'errorLog':_0x127316 instanceof Error?_0x127316[_0xc75dd5(0x729)]:JSON[_0xc75dd5(0x454)](_0x127316,null,0x2)};this[_0xc75dd5(0x160)](_0x8723ca,_0x48682b,_0x136d1b),this[_0xc75dd5(0x6d5)][_0xc75dd5(0x299)](this[_0xc75dd5(0x1fc)]+'\x20('+this[_0xc75dd5(0x70d)][_0xc75dd5(0x1ef)]+_0xc75dd5(0x3d9)+(_0x127316 instanceof Error?_0x127316[_0xc75dd5(0x729)]:JSON[_0xc75dd5(0x454)](_0x127316,null,0x2)));}}async[a0_0x1eb7af(0x766)](_0x363431,_0x56febb){const _0xb25ed5=a0_0x1eb7af;this[_0xb25ed5(0x6d5)][_0xb25ed5(0x4e7)](this['instanceName']+'\x20('+this[_0xb25ed5(0x70d)][_0xb25ed5(0x1ef)]+_0xb25ed5(0x268));let _0x3010eb=_0x363431[_0xb25ed5(0x69d)]['blockLogs'][_0xb25ed5(0x7a9)](_0xfc058=>_0xfc058[_0xb25ed5(0x37a)]['toString']()===_0x56febb['uazapi'][_0xb25ed5(0x37a)]['toString']()),_0x11b2a5={'id':_0x3010eb['messageId'],'remoteJid':_0x3010eb[_0xb25ed5(0x4c9)],'fromMe':_0x3010eb[_0xb25ed5(0x724)]};try{let _0x133484=await this[_0xb25ed5(0x557)](_0x11b2a5);if(_0x133484){let _0x52f44a=(0x0,w['normalizeMessageContent'])(_0x133484['message']),_0x467857=(0x0,w['getContentType'])(_0x52f44a);_0x363431[_0xb25ed5(0x69d)][_0xb25ed5(0x241)]=_0x56febb[_0xb25ed5(0x710)][_0xb25ed5(0x725)]();let {message_normalized:_0x57d9bf}=this[_0xb25ed5(0x79a)](_0x52f44a,_0x467857,null);_0x363431[_0xb25ed5(0x69d)][_0xb25ed5(0x237)]=await _0x57d9bf;let _0xf1eb71={};this[_0xb25ed5(0x160)](_0x363431,_0x56febb,_0xf1eb71);}else{let _0x26a265={'error':!0x0};this[_0xb25ed5(0x160)](_0x363431,_0x56febb,_0x26a265),this[_0xb25ed5(0x6d5)][_0xb25ed5(0x299)](this['instanceName']+'\x20('+this[_0xb25ed5(0x70d)][_0xb25ed5(0x1ef)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x2a766b){let _0x4d059c={'error':!0x0,'errorLog':_0x2a766b instanceof Error?_0x2a766b['message']:JSON[_0xb25ed5(0x454)](_0x2a766b,null,0x2)};this[_0xb25ed5(0x160)](_0x363431,_0x56febb,_0x4d059c),this[_0xb25ed5(0x6d5)][_0xb25ed5(0x299)](this[_0xb25ed5(0x1fc)]+'\x20('+this[_0xb25ed5(0x70d)][_0xb25ed5(0x1ef)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x2a766b instanceof Error?_0x2a766b['message']:JSON['stringify'](_0x2a766b,null,0x2)));}}async[a0_0x1eb7af(0x460)](_0x3e43cc,_0x17cf8c){const _0x430e27=a0_0x1eb7af;if(_0x3e43cc[_0x430e27(0x587)]||(_0x3e43cc[_0x430e27(0x587)]=(0x0,me['v4'])()),_0x17cf8c!==Ro&&_0x3e43cc?.['globalShow'])throw new m(_0x430e27(0x73d));if('_id'in _0x3e43cc&&_0x430e27(0x337)in _0x3e43cc)return this['AddUserFlow'](_0x3e43cc[_0x430e27(0x337)],_0x3e43cc[_0x430e27(0x710)]);this[_0x430e27(0x6d5)][_0x430e27(0x4e7)](this[_0x430e27(0x1fc)]+'\x20('+this[_0x430e27(0x70d)][_0x430e27(0x1ef)]+_0x430e27(0x474));let _0x19955e=this[_0x430e27(0x1df)](_0x3e43cc[_0x430e27(0x587)]),_0x53710c=new de['Types'][(_0x430e27(0x21a))](),_0x126cf4={'_id':_0x53710c,'default':!0x0,'title':_0x430e27(0x275),'x':0x0,'y':0x0},_0x1fa2ec={'_id':new de[(_0x430e27(0x823))]['ObjectId'](),'order':0x1,'groupId':_0x53710c[_0x430e27(0x725)](),'type':_0x430e27(0x122)},_0x5d86ec=this[_0x430e27(0x70d)]['wuid'],_0x3c3f5e={'_id':(0x0,me['v4'])(),'owner':_0x5d86ec,'name':_0x19955e,'whoCanEdit':[_0x5d86ec],'whoCanUse':[_0x5d86ec],'groups':[_0x126cf4],'blocks':[_0x1fa2ec],..._0x3e43cc};try{let _0x222728=await this[_0x430e27(0x1a2)][_0x430e27(0x779)][_0x430e27(0x2a6)](_0x3c3f5e);return await this[_0x430e27(0x310)](),_0x222728;}catch(_0x4867eb){let _0x4045a2=_0x430e27(0x668),_0x1989ed=_0x4867eb instanceof Error?_0x4867eb[_0x430e27(0x729)]:typeof _0x4867eb==_0x430e27(0x23d)?JSON[_0x430e27(0x454)](_0x4867eb):_0x4867eb,_0xcff507=_0x4045a2+':\x20'+_0x1989ed;throw this[_0x430e27(0x6d5)]['error'](this['instanceName']+'\x20('+this['instance'][_0x430e27(0x1ef)]+_0x430e27(0x538)+_0xcff507),new m(_0xcff507);}}async[a0_0x1eb7af(0x1af)](_0xf31642,_0x412bad){const _0x531ecb=a0_0x1eb7af;try{this['logger'][_0x531ecb(0x4e7)](this[_0x531ecb(0x1fc)]+'\x20('+this[_0x531ecb(0x70d)][_0x531ecb(0x1ef)]+_0x531ecb(0x1ce));let _0x2fa894=await this['repository'][_0x531ecb(0x779)][_0x531ecb(0x1be)]({'where':{'_id':_0x412bad,'owner':_0xf31642}});if(!_0x2fa894)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x2fa894['shareFlow']===!0x1&&!_0x2fa894['globalShow'])throw new m(_0x531ecb(0x6d2));let _0x7f0d55=new Set(_0x2fa894['whoCanUse']??[]);_0x7f0d55['add'](this[_0x531ecb(0x70d)]['wuid']);let _0x41e98a=await this[_0x531ecb(0x1a2)][_0x531ecb(0x779)]['updateOne'](_0x412bad,{..._0x2fa894,'whoCanUse':Array['from'](_0x7f0d55)});return await this['synchronizeAndMapFlows'](),_0x41e98a;}catch(_0x5ae273){let _0x34b85e=_0x531ecb(0x5e3),_0x4fcccc=_0x5ae273 instanceof Error?_0x5ae273[_0x531ecb(0x729)]:typeof _0x5ae273==_0x531ecb(0x23d)?JSON[_0x531ecb(0x454)](_0x5ae273):_0x5ae273,_0x41ec6c=_0x34b85e+':\x20'+_0x4fcccc;throw this['logger'][_0x531ecb(0x299)](this['instanceName']+'\x20('+this[_0x531ecb(0x70d)][_0x531ecb(0x1ef)]+'):\x20'+_0x41ec6c),new m(_0x41ec6c);}}[a0_0x1eb7af(0x1df)](_0x534faa){const _0x347059=a0_0x1eb7af;let _0x212fe9=_0x534faa,_0xc31f1c=0x1;for(;this[_0x347059(0x3bb)][_0x347059(0x551)][_0x347059(0x31e)](_0x1809f8=>_0x1809f8[_0x347059(0x587)]===_0x212fe9);)_0xc31f1c++,_0x212fe9=_0x534faa+'\x20('+_0xc31f1c+')';return _0x212fe9;}async[a0_0x1eb7af(0x147)](_0xd30e74){const _0x52a0ac=a0_0x1eb7af;try{if(this[_0x52a0ac(0x6d5)][_0x52a0ac(0x4e7)](this['instanceName']+'\x20('+this['instance'][_0x52a0ac(0x1ef)]+'):\x20\x27Deletando\x20fluxo,\x20id:\x20'+_0xd30e74[_0x52a0ac(0x710)]+',\x20global:\x20'+_0xd30e74[_0x52a0ac(0x66f)]),!this[_0x52a0ac(0x3bb)][_0x52a0ac(0x551)][_0x52a0ac(0x7a9)](_0x2de86d=>_0x2de86d[_0x52a0ac(0x710)]===_0xd30e74[_0x52a0ac(0x710)]))throw this[_0x52a0ac(0x6d5)][_0x52a0ac(0x4e7)](this[_0x52a0ac(0x1fc)]+'\x20('+this[_0x52a0ac(0x70d)][_0x52a0ac(0x1ef)]+_0x52a0ac(0x174)+_0xd30e74[_0x52a0ac(0x710)]+_0x52a0ac(0x46a)),new m(_0x52a0ac(0x416));let _0x2dc005=await this[_0x52a0ac(0x1a2)][_0x52a0ac(0x779)]['findOne']({'where':{'_id':_0xd30e74[_0x52a0ac(0x710)]}});if(!_0x2dc005)throw new m(_0x52a0ac(0x311));if(this[_0x52a0ac(0x70d)]['wuid']===_0x2dc005[_0x52a0ac(0x337)]){this['logger'][_0x52a0ac(0x4e7)](this[_0x52a0ac(0x1fc)]+'\x20('+this[_0x52a0ac(0x70d)][_0x52a0ac(0x1ef)]+_0x52a0ac(0x23f)+_0xd30e74[_0x52a0ac(0x710)]+'\x27\x20do\x20banco\x20de\x20dados...');let _0x50c5cc=await this[_0x52a0ac(0x1a2)][_0x52a0ac(0x779)]['deleteOne']({'where':{'_id':_0xd30e74[_0x52a0ac(0x710)]}});return await this[_0x52a0ac(0x310)](),_0x50c5cc;}return this[_0x52a0ac(0x6d5)][_0x52a0ac(0x4e7)](this[_0x52a0ac(0x1fc)]+'\x20('+this['instance'][_0x52a0ac(0x1ef)]+_0x52a0ac(0x7a7)+this[_0x52a0ac(0x70d)][_0x52a0ac(0x1ef)]+_0x52a0ac(0x443)+_0xd30e74[_0x52a0ac(0x710)]+_0x52a0ac(0x626)),_0x2dc005[_0x52a0ac(0x344)]=(_0x2dc005[_0x52a0ac(0x344)]??[])[_0x52a0ac(0x19b)](_0x451501=>_0x451501!==this['instance'][_0x52a0ac(0x1ef)]),_0x2dc005[_0x52a0ac(0x6de)]=(_0x2dc005[_0x52a0ac(0x6de)]??[])[_0x52a0ac(0x19b)](_0x466421=>_0x466421!==this[_0x52a0ac(0x70d)][_0x52a0ac(0x1ef)]),_0x2dc005[_0x52a0ac(0x6de)][_0x52a0ac(0x3fe)]===0x0&&_0x2dc005[_0x52a0ac(0x344)][_0x52a0ac(0x3fe)]>0x0&&(_0x2dc005['whoCanEdit'][_0x52a0ac(0x46f)](_0x2dc005[_0x52a0ac(0x344)][0x0]),this[_0x52a0ac(0x6d5)][_0x52a0ac(0x4e7)](this['instanceName']+'\x20('+this[_0x52a0ac(0x70d)][_0x52a0ac(0x1ef)]+'):\x20Adicionando\x20\x27'+_0x2dc005[_0x52a0ac(0x344)][0x0]+_0x52a0ac(0x4b9)+_0xd30e74[_0x52a0ac(0x710)]+_0x52a0ac(0x626))),await this[_0x52a0ac(0x1a2)][_0x52a0ac(0x779)][_0x52a0ac(0x393)](_0x2dc005['_id'],_0x2dc005),await this[_0x52a0ac(0x310)](),{'message':'Fluxo\x20\x27'+_0xd30e74[_0x52a0ac(0x587)]+_0x52a0ac(0x361)};}catch(_0x3386cf){return this['logger'][_0x52a0ac(0x299)](this[_0x52a0ac(0x1fc)]+'\x20('+this[_0x52a0ac(0x70d)][_0x52a0ac(0x1ef)]+_0x52a0ac(0x4d5)+(_0x3386cf instanceof Error?_0x3386cf[_0x52a0ac(0x729)]:JSON[_0x52a0ac(0x454)](_0x3386cf,null,0x2))),{'message':_0x52a0ac(0x1c3)+(_0x3386cf instanceof Error?_0x3386cf[_0x52a0ac(0x729)]:JSON[_0x52a0ac(0x454)](_0x3386cf,null,0x2))};}}async[a0_0x1eb7af(0x32f)](_0x5f2bed){const _0x155a6a=a0_0x1eb7af;try{if(this[_0x155a6a(0x6d5)][_0x155a6a(0x353)](this[_0x155a6a(0x1fc)]+'\x20('+this[_0x155a6a(0x70d)][_0x155a6a(0x1ef)]+_0x155a6a(0x18f)+_0x5f2bed),!this['AutomateSystem']&&(await this[_0x155a6a(0x245)](),!this['AutomateSystem']))return null;let _0x20c1b5=await this[_0x155a6a(0x1a2)][_0x155a6a(0x779)][_0x155a6a(0x1be)]({'where':{'_id':_0x5f2bed}});if(!_0x20c1b5)throw new m('Fluxo\x20id\x20\x27'+_0x5f2bed+_0x155a6a(0x6ec));if(!(_0x20c1b5[_0x155a6a(0xec)]||_0x20c1b5[_0x155a6a(0x344)]?.[_0x155a6a(0x34b)](this[_0x155a6a(0x70d)][_0x155a6a(0x1ef)])))throw new m(_0x155a6a(0x244)+name+'\x27');_0x20c1b5['globalShow']&&!_0x20c1b5[_0x155a6a(0x344)]?.[_0x155a6a(0x34b)](this[_0x155a6a(0x70d)][_0x155a6a(0x1ef)])&&(_0x20c1b5[_0x155a6a(0x344)]=[..._0x20c1b5[_0x155a6a(0x344)]??[],this[_0x155a6a(0x70d)][_0x155a6a(0x1ef)]],await this['repository']['flow'][_0x155a6a(0x393)](_0x20c1b5[_0x155a6a(0x710)],_0x20c1b5),this[_0x155a6a(0x310)]());let _0x5c3789=this[_0x155a6a(0x3bb)]?.[_0x155a6a(0x123)][_0x155a6a(0x285)](_0x26e0f8=>_0x26e0f8[_0x155a6a(0x587)]),_0x622fc1=[_0x155a6a(0xea),_0x155a6a(0x7a2),_0x155a6a(0x5ff),'cpf',_0x155a6a(0x771),_0x155a6a(0x390),_0x155a6a(0x282),_0x155a6a(0x49f),_0x155a6a(0x1d2),_0x155a6a(0x383),'atendimentoAberto'];_0x20c1b5[_0x155a6a(0x388)]=_0x20c1b5[_0x155a6a(0x388)]['filter'](_0x50a6e2=>!(_0x50a6e2[_0x155a6a(0x647)]===_0x155a6a(0x523)||_0x50a6e2[_0x155a6a(0x523)])),_0x622fc1[_0x155a6a(0x7d3)](_0x26ebd9=>{const _0x356900=_0x155a6a;_0x20c1b5['variables'][_0x356900(0x46f)]({'folder':_0x356900(0x523),'name':_0x26ebd9,'value':'','doc':'','leadInfo':!0x0});}),_0x5c3789[_0x155a6a(0x7d3)](_0x4a146b=>{const _0x5b797c=_0x155a6a;let _0x1d1241=_0x20c1b5[_0x5b797c(0x388)][_0x5b797c(0x15d)](_0x3bb23d=>_0x3bb23d[_0x5b797c(0x587)]===_0x4a146b);_0x1d1241===-0x1?_0x20c1b5[_0x5b797c(0x388)][_0x5b797c(0x46f)]({'folder':'leadInfo','name':_0x4a146b,'value':'','doc':'','leadInfo':!0x0}):(_0x20c1b5[_0x5b797c(0x388)][_0x1d1241][_0x5b797c(0x647)]=_0x5b797c(0x523),_0x20c1b5[_0x5b797c(0x388)][_0x1d1241][_0x5b797c(0x523)]=!0x0);}),_0x20c1b5[_0x155a6a(0x4d8)]&&_0x20c1b5[_0x155a6a(0x4d8)][_0x155a6a(0x3fe)]>0x0&&_0x20c1b5[_0x155a6a(0x4d8)][_0x155a6a(0x7d3)](_0x286663=>{const _0x5ca8a7=_0x155a6a;_0x286663[_0x5ca8a7(0x5f4)]&&_0x286663[_0x5ca8a7(0x47b)]&&_0x286663['groupId']===_0x286663[_0x5ca8a7(0x47b)]&&(_0x286663['next_groupId']=null);});let _0x5acf40=await this[_0x155a6a(0x1a2)][_0x155a6a(0x779)][_0x155a6a(0x393)](_0x20c1b5[_0x155a6a(0x710)],_0x20c1b5);if(!_0x5acf40)throw new Error(_0x155a6a(0x1ae));return _0x5acf40;}catch(_0x44a41a){let _0x2e262d=_0x155a6a(0x7b4),_0x30e1f9=_0x44a41a instanceof Error?_0x44a41a[_0x155a6a(0x729)]:typeof _0x44a41a==_0x155a6a(0x23d)?JSON['stringify'](_0x44a41a):_0x44a41a,_0x5f0646=_0x2e262d+':\x20'+_0x30e1f9;throw this[_0x155a6a(0x6d5)]['error'](this[_0x155a6a(0x1fc)]+'\x20('+this[_0x155a6a(0x70d)][_0x155a6a(0x1ef)]+_0x155a6a(0x538)+_0x5f0646),new m(_0x5f0646);}}async[a0_0x1eb7af(0x5da)](){const _0x5d1c42=a0_0x1eb7af;try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5d1c42(0x70d)][_0x5d1c42(0x1ef)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x5d1c42(0x310)]();let _0x47f086=await this[_0x5d1c42(0x1a2)][_0x5d1c42(0x779)][_0x5d1c42(0x5fc)]({'where':{'globalShow':!0x0}});return[...this[_0x5d1c42(0x3bb)][_0x5d1c42(0x551)],..._0x47f086];}catch(_0x11d02a){return this['logger'][_0x5d1c42(0x299)](this['instanceName']+'\x20('+this[_0x5d1c42(0x70d)][_0x5d1c42(0x1ef)]+_0x5d1c42(0x5e5)+(_0x11d02a instanceof Error?_0x11d02a['message']:JSON[_0x5d1c42(0x454)](_0x11d02a,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x11d02a instanceof Error?_0x11d02a[_0x5d1c42(0x729)]:String(_0x11d02a))};}}async[a0_0x1eb7af(0x3ff)](_0x224ed,_0x58f6f1){const _0x697af4=a0_0x1eb7af;try{this[_0x697af4(0x6d5)][_0x697af4(0x4e7)](this[_0x697af4(0x1fc)]+'\x20('+this['instance'][_0x697af4(0x1ef)]+_0x697af4(0x58b));let _0x1ddd4c=this[_0x697af4(0x3bb)][_0x697af4(0x551)]['find'](_0x18c5e9=>_0x18c5e9[_0x697af4(0x710)]===_0x224ed[_0x697af4(0x710)]);if(!_0x1ddd4c)throw this['logger'][_0x697af4(0x4e7)](this[_0x697af4(0x1fc)]+'\x20('+this[_0x697af4(0x70d)]['wuid']+'):\x20Fluxo\x20\x27'+_0x224ed[_0x697af4(0x710)]+_0x697af4(0x46a)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x121b04=await this['repository']['flow'][_0x697af4(0x1be)]({'where':{'_id':_0x224ed[_0x697af4(0x710)]}});if(!_0x121b04||!_0x121b04[_0x697af4(0x344)]?.['includes'](this[_0x697af4(0x70d)]['wuid']))throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x697af4(0x70d)][_0x697af4(0x1ef)]+_0x697af4(0x355)+_0x224ed[_0x697af4(0x710)]+_0x697af4(0x247)),new m(_0x697af4(0x50b)+_0x224ed[_0x697af4(0x710)]+_0x697af4(0x247));let _0x51acd9=this[_0x697af4(0x3bb)]['flows']['findIndex'](_0xfbf41c=>_0xfbf41c[_0x697af4(0x710)]===_0x1ddd4c[_0x697af4(0x710)]);if(_0x51acd9!==-0x1){let _0x1da39b=this[_0x697af4(0x3bb)][_0x697af4(0x551)][_0x51acd9];if(_0x1da39b['name']=_0x224ed[_0x697af4(0x587)]??_0x1da39b[_0x697af4(0x587)],_0x1da39b[_0x697af4(0x39f)]=_0x224ed[_0x697af4(0x39f)]??_0x1da39b[_0x697af4(0x39f)],_0x1da39b['testingWith']=_0x224ed[_0x697af4(0x43c)]??_0x1da39b[_0x697af4(0x43c)],_0x1da39b[_0x697af4(0x155)]=_0x224ed[_0x697af4(0x812)]??_0x1da39b['startCommand'],_0x1da39b[_0x697af4(0x501)]=_0x224ed['minutesToClose']??_0x1da39b[_0x697af4(0x501)],_0x1da39b[_0x697af4(0x318)]=_0x224ed[_0x697af4(0x318)]??_0x1da39b[_0x697af4(0x318)],_0x224ed['default']&&this['AutomateSystem'][_0x697af4(0x551)][_0x697af4(0x7d3)]((_0x4c99e5,_0x4a7b96)=>{const _0x4b7b29=_0x697af4;_0x4a7b96!==_0x51acd9&&(_0x4c99e5[_0x4b7b29(0x39f)]=!0x1);}),this[_0x697af4(0x3bb)][_0x697af4(0x551)][_0x51acd9]=_0x1da39b,!await this[_0x697af4(0x1a2)][_0x697af4(0x430)][_0x697af4(0x7f1)]({'flows':this[_0x697af4(0x3bb)]['flows']},this[_0x697af4(0x70d)][_0x697af4(0x1ef)]))throw new m(_0x697af4(0x49a));}let _0x53456f=[_0x697af4(0x66f),_0x697af4(0x738),_0x697af4(0x7ed),_0x697af4(0x4df)];for(let _0x249215 of _0x53456f)delete _0x224ed[_0x249215];if(_0x121b04['whoCanEdit']?.['includes'](this[_0x697af4(0x70d)][_0x697af4(0x1ef)])||(_0x224ed={'_id':_0x224ed['_id']}),_0x58f6f1!==Ro&&_0x224ed?.[_0x697af4(0xec)]&&!_0x121b04?.[_0x697af4(0xec)])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x50f332=new Set(_0x224ed['whoCanEdit']??_0x121b04[_0x697af4(0x6de)]);_0x50f332[_0x697af4(0x309)](_0x121b04['owner']);let _0x391e54=new Set(_0x224ed[_0x697af4(0x344)]??_0x121b04[_0x697af4(0x344)]??[]);_0x50f332[_0x697af4(0x7d3)](_0x3f7be7=>_0x391e54[_0x697af4(0x309)](_0x3f7be7)),_0x391e54['add'](_0x121b04[_0x697af4(0x337)]),this[_0x697af4(0x6d5)]['verbose'](this['instanceName']+'\x20('+this[_0x697af4(0x70d)][_0x697af4(0x1ef)]+_0x697af4(0x476)+Array['from'](_0x50f332)),this[_0x697af4(0x6d5)][_0x697af4(0x4e7)](this['instanceName']+'\x20('+this[_0x697af4(0x70d)][_0x697af4(0x1ef)]+'):\x20whoCanUse\x20before\x20validation:\x20'+Array[_0x697af4(0x3a6)](_0x391e54));let _0x212bd6=await this[_0x697af4(0x352)](Array[_0x697af4(0x3a6)](_0x391e54)),_0x40980c=Array[_0x697af4(0x3a6)](_0x50f332)[_0x697af4(0x19b)](_0x5737ba=>_0x212bd6[_0x697af4(0x34b)](_0x5737ba)),_0x530f9d=Array['from'](_0x391e54)[_0x697af4(0x19b)](_0x197151=>_0x212bd6[_0x697af4(0x34b)](_0x197151));this[_0x697af4(0x6d5)][_0x697af4(0x4e7)](this[_0x697af4(0x1fc)]+'\x20('+this[_0x697af4(0x70d)][_0x697af4(0x1ef)]+_0x697af4(0x53d)+_0x40980c),this[_0x697af4(0x6d5)][_0x697af4(0x4e7)](this['instanceName']+'\x20('+this[_0x697af4(0x70d)][_0x697af4(0x1ef)]+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x530f9d);let _0x10cc2c={..._0x121b04,..._0x224ed,'whoCanEdit':_0x40980c,'whoCanUse':_0x530f9d},_0x490622=await this['repository']['flow'][_0x697af4(0x393)](_0x121b04[_0x697af4(0x710)],_0x10cc2c);return await this['synchronizeAndMapFlows'](),_0x490622;}catch(_0x2c1304){let _0x4695a4=_0x697af4(0x5bf),_0x5a6ae1=_0x2c1304 instanceof Error?_0x2c1304[_0x697af4(0x729)]:typeof _0x2c1304==_0x697af4(0x23d)?JSON['stringify'](_0x2c1304):_0x2c1304,_0x53d39f=_0x4695a4+':\x20'+_0x5a6ae1;throw this['logger'][_0x697af4(0x299)](this[_0x697af4(0x1fc)]+'\x20('+this[_0x697af4(0x70d)]['wuid']+_0x697af4(0x538)+_0x53d39f),new m(_0x53d39f);}}async[a0_0x1eb7af(0x352)](_0x2a0807){const _0x3ea426=a0_0x1eb7af;let _0xe4da6b={'numbers':_0x2a0807};return(await this[_0x3ea426(0x2f7)](_0xe4da6b))[_0x3ea426(0x19b)](_0x1ee73a=>_0x1ee73a[_0x3ea426(0x54d)])[_0x3ea426(0x285)](_0x49443a=>_0x49443a[_0x3ea426(0x687)])['map'](_0x145a75=>this['extractPhoneNumber'](_0x145a75));}[a0_0x1eb7af(0x4cf)](_0x30a5b3){let _0x21eebb=_0x30a5b3['match'](/\d+/);return _0x21eebb?_0x21eebb[0x0]:'';}async[a0_0x1eb7af(0x3f5)](_0x2e0233){const _0x4e2775=a0_0x1eb7af;try{if(this['logger'][_0x4e2775(0x4e7)](this[_0x4e2775(0x1fc)]+'\x20('+this[_0x4e2775(0x70d)][_0x4e2775(0x1ef)]+'):\x20Editando\x20bloco...'),!this[_0x4e2775(0x3bb)]['flows'][_0x4e2775(0x7a9)](_0x3911cb=>_0x3911cb[_0x4e2775(0x710)]===_0x2e0233[_0x4e2775(0x710)]))throw this['logger'][_0x4e2775(0x4e7)](this['instanceName']+'\x20('+this[_0x4e2775(0x70d)]['wuid']+'):\x20Fluxo\x20\x27'+_0x2e0233['_id']+_0x4e2775(0x46a)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x1a1919=await this[_0x4e2775(0x1a2)][_0x4e2775(0x779)][_0x4e2775(0x1be)]({'where':{'_id':_0x2e0233[_0x4e2775(0x710)]}});if(!_0x1a1919||!_0x1a1919[_0x4e2775(0x344)]?.[_0x4e2775(0x34b)](this[_0x4e2775(0x70d)][_0x4e2775(0x1ef)]))throw this[_0x4e2775(0x6d5)][_0x4e2775(0x299)](this['instanceName']+'\x20('+this[_0x4e2775(0x70d)][_0x4e2775(0x1ef)]+_0x4e2775(0x355)+_0x2e0233['_id']+_0x4e2775(0x247)),new m(_0x4e2775(0x50b)+_0x2e0233['_id']+_0x4e2775(0x247));if(!_0x1a1919[_0x4e2775(0x6de)]?.[_0x4e2775(0x34b)](this['instance'][_0x4e2775(0x1ef)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {block:_0x4d010d}=_0x2e0233;_0x4d010d?.['copy']?this[_0x4e2775(0x2d8)](_0x1a1919,_0x2e0233):_0x4d010d?.[_0x4e2775(0x404)]?this[_0x4e2775(0x541)](_0x1a1919,_0x2e0233):_0x4d010d['_id']?await this['updateBlock'](_0x1a1919,_0x2e0233):this[_0x4e2775(0x2d6)](_0x1a1919,_0x2e0233);let _0x551ee4=await this[_0x4e2775(0x1a2)]['flow'][_0x4e2775(0x393)](_0x1a1919[_0x4e2775(0x710)],_0x1a1919);if(!_0x551ee4)throw new Error(_0x4e2775(0x1ae));return _0x551ee4;}catch(_0x36abe6){this['throwAndLogError'](_0x4e2775(0x818)+_0x36abe6[_0x4e2775(0x729)]);}}async['copyBlock'](_0x30c35f,_0x393ab2){const _0x5d95af=a0_0x1eb7af;let _0x2cc3c2=_0x393ab2[_0x5d95af(0x359)][_0x5d95af(0x710)],_0x23f760=_0x30c35f['blocks']['find'](_0x3a63da=>_0x3a63da['_id']['toString']()===_0x2cc3c2);if(!_0x23f760){this[_0x5d95af(0x6d5)][_0x5d95af(0x299)](this[_0x5d95af(0x1fc)]+'\x20('+this[_0x5d95af(0x70d)][_0x5d95af(0x1ef)]+_0x5d95af(0x32a)+_0x2cc3c2+_0x5d95af(0x750));return;}this[_0x5d95af(0x6d5)]['verbose'](this[_0x5d95af(0x1fc)]+'\x20('+this[_0x5d95af(0x70d)][_0x5d95af(0x1ef)]+_0x5d95af(0x1e4)+JSON[_0x5d95af(0x454)](_0x23f760));let _0x26ac9c=JSON[_0x5d95af(0x164)](JSON[_0x5d95af(0x454)](_0x23f760));_0x26ac9c[_0x5d95af(0x710)]=new de[(_0x5d95af(0x39f))][(_0x5d95af(0x823))][(_0x5d95af(0x21a))](),this[_0x5d95af(0x6d5)][_0x5d95af(0x4e7)](this['instanceName']+'\x20('+this[_0x5d95af(0x70d)][_0x5d95af(0x1ef)]+_0x5d95af(0x758)+JSON[_0x5d95af(0x454)](_0x26ac9c)),_0x30c35f['blocks'][_0x5d95af(0x46f)](_0x26ac9c),this['reorderBlocks'](_0x30c35f[_0x5d95af(0x4d8)],_0x26ac9c[_0x5d95af(0x5f4)]);}[a0_0x1eb7af(0x572)](_0x20bf3d){const _0x30327e=a0_0x1eb7af;throw this[_0x30327e(0x6d5)]['error'](this[_0x30327e(0x1fc)]+'\x20('+this['instance']['wuid']+_0x30327e(0x538)+_0x20bf3d),new m(_0x20bf3d);}[a0_0x1eb7af(0x541)](_0x32235e,_0x24779a){const _0x285909=a0_0x1eb7af;let {block:_0x3c0e11}=_0x24779a;if(_0x3c0e11[_0x285909(0x813)]===_0x285909(0x122)){this[_0x285909(0x572)](_0x285909(0x199));return;}if(!_0x3c0e11['_id']){this[_0x285909(0x572)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x32c419=_0x32235e[_0x285909(0x4d8)]['find'](_0x26ffd2=>_0x26ffd2['_id'][_0x285909(0x725)]()===_0x24779a[_0x285909(0x359)][_0x285909(0x710)][_0x285909(0x725)]());if(!_0x32c419){this['throwAndLogError'](_0x285909(0x4af)+_0x3c0e11[_0x285909(0x710)]+_0x285909(0x1a4));return;}_0x32235e['blocks']=_0x32235e[_0x285909(0x4d8)][_0x285909(0x19b)](_0x3f332d=>_0x3f332d['_id']['toString']()!==_0x24779a['block'][_0x285909(0x710)][_0x285909(0x725)]()),_0x32235e[_0x285909(0x3b2)]=_0x32235e[_0x285909(0x3b2)]['filter'](_0x1131a8=>_0x1131a8[_0x285909(0x37a)]!==_0x3c0e11[_0x285909(0x710)][_0x285909(0x725)]()),_0x32235e[_0x285909(0x1cf)]=_0x32235e['varedits'][_0x285909(0x19b)](_0x499313=>_0x499313[_0x285909(0x37a)]!==_0x3c0e11['_id'][_0x285909(0x725)]()),_0x32235e[_0x285909(0x28b)]=_0x32235e[_0x285909(0x28b)][_0x285909(0x19b)](_0x138fd2=>_0x138fd2['blockId']!==_0x3c0e11[_0x285909(0x710)][_0x285909(0x725)]()),this[_0x285909(0x59c)](_0x32235e[_0x285909(0x4d8)],_0x32c419[_0x285909(0x5f4)]);}async['updateBlock'](_0x2bfaf1,_0x3a7208){const _0x125c32=a0_0x1eb7af;let _0x42506b=_0x2bfaf1[_0x125c32(0x4d8)][_0x125c32(0x15d)](_0x32cdd6=>_0x32cdd6[_0x125c32(0x710)][_0x125c32(0x725)]()===_0x3a7208[_0x125c32(0x359)][_0x125c32(0x710)]['toString']());if(this[_0x125c32(0x6d5)][_0x125c32(0x4e7)](this['instanceName']+'\x20('+this[_0x125c32(0x70d)][_0x125c32(0x1ef)]+_0x125c32(0x5e1)+_0x42506b),_0x42506b===-0x1){this[_0x125c32(0x6d5)]['verbose']('Bloco\x20com\x20ID\x20'+_0x3a7208[_0x125c32(0x359)][_0x125c32(0x710)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x2bfaf1[_0x125c32(0x4d8)][_0x42506b][_0x125c32(0x813)]==='start'){let _0x49a0fc=Object[_0x125c32(0x81b)](_0x3a7208[_0x125c32(0x359)]);if(_0x49a0fc[_0x125c32(0x3fe)]>0x2||_0x49a0fc[_0x125c32(0x3fe)]===0x2&&!_0x49a0fc[_0x125c32(0x34b)](_0x125c32(0x47b))){this[_0x125c32(0x572)](_0x125c32(0x1e3));return;}}let _0x13a57b=_0x2bfaf1[_0x125c32(0x4d8)][_0x42506b]['groupId'];for(let _0x8dea52 in _0x3a7208[_0x125c32(0x359)])_0x3a7208[_0x125c32(0x359)][_0x125c32(0x40c)](_0x8dea52)&&(_0x2bfaf1[_0x125c32(0x4d8)][_0x42506b][_0x8dea52]=_0x3a7208['block'][_0x8dea52]);if(this[_0x125c32(0x6d5)]['verbose'](this[_0x125c32(0x1fc)]+'\x20('+this[_0x125c32(0x70d)][_0x125c32(0x1ef)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x125c32(0x454)](_0x2bfaf1[_0x125c32(0x4d8)][_0x42506b])),_0x2bfaf1['blocks'][_0x42506b]['apirequest']&&_0x125c32(0x434)in _0x2bfaf1[_0x125c32(0x4d8)][_0x42506b]['apirequest']){this['logger'][_0x125c32(0x4e7)](this[_0x125c32(0x1fc)]+'\x20('+this[_0x125c32(0x70d)][_0x125c32(0x1ef)]+_0x125c32(0x488));let _0x2abfb8=JSON[_0x125c32(0x454)](_0x2bfaf1[_0x125c32(0x4d8)][_0x42506b][_0x125c32(0x6e8)]['header'],null,0x1);_0x2abfb8[_0x125c32(0x3fe)]>0x2&&(_0x2abfb8=_0x2abfb8[_0x125c32(0x526)](0x1,_0x2abfb8['length']-0x1)[_0x125c32(0x30f)]()),_0x2bfaf1['blocks'][_0x42506b]['apirequest'][_0x125c32(0x1ad)]=_0x2abfb8;}if(_0x2bfaf1[_0x125c32(0x4d8)][_0x42506b][_0x125c32(0x6e8)]&&_0x125c32(0x589)in _0x2bfaf1[_0x125c32(0x4d8)][_0x42506b][_0x125c32(0x6e8)]&&!('bodyString'in _0x2bfaf1[_0x125c32(0x4d8)][_0x42506b][_0x125c32(0x6e8)])){this[_0x125c32(0x6d5)]['verbose'](this[_0x125c32(0x1fc)]+'\x20('+this[_0x125c32(0x70d)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x2bfaf1[_0x125c32(0x4d8)][_0x42506b][_0x125c32(0x6e8)][_0x125c32(0x417)]=!0x1;let _0x5bcf90=JSON['stringify'](_0x2bfaf1[_0x125c32(0x4d8)][_0x42506b]['apirequest'][_0x125c32(0x589)],null,0x2);_0x2bfaf1[_0x125c32(0x4d8)][_0x42506b][_0x125c32(0x6e8)][_0x125c32(0x442)]=_0x5bcf90;}if(_0x2bfaf1['blocks'][_0x42506b][_0x125c32(0x6e8)]&&_0x125c32(0x442)in _0x2bfaf1[_0x125c32(0x4d8)][_0x42506b][_0x125c32(0x6e8)]){_0x2bfaf1['blocks'][_0x42506b][_0x125c32(0x6e8)]['bodyStringErrorParse']=!0x1;let _0x4dd54b=_0x2bfaf1['blocks'][_0x42506b]['apirequest'][_0x125c32(0x442)],_0x303b0e=this[_0x125c32(0x671)](_0x4dd54b);_0x2bfaf1[_0x125c32(0x4d8)][_0x42506b][_0x125c32(0x6e8)][_0x125c32(0x442)]=_0x303b0e[_0x125c32(0x5a0)],_0x2bfaf1[_0x125c32(0x4d8)][_0x42506b][_0x125c32(0x6e8)][_0x125c32(0x417)]=_0x303b0e[_0x125c32(0x299)];}let _0x4b4e7c=_0x2bfaf1[_0x125c32(0x4d8)][_0x42506b]['groupId'];_0x13a57b!==_0x4b4e7c?(this[_0x125c32(0x59c)](_0x2bfaf1[_0x125c32(0x4d8)],_0x13a57b),this[_0x125c32(0x59c)](_0x2bfaf1[_0x125c32(0x4d8)],_0x4b4e7c)):this[_0x125c32(0x59c)](_0x2bfaf1[_0x125c32(0x4d8)],_0x13a57b);}[a0_0x1eb7af(0x671)](_0xc55603){const _0x3c8edb=a0_0x1eb7af;let _0x4e6234='\u205f',_0x12597b=!0x1,_0x34ab36='';for(let _0x5bf73c=0x0;_0x5bf73c<_0xc55603[_0x3c8edb(0x3fe)];_0x5bf73c++){let _0x124330=_0xc55603[_0x5bf73c];_0x124330==='\x22'&&(_0x5bf73c===0x0||_0xc55603[_0x5bf73c-0x1]!=='\x5c')&&(_0x12597b=!_0x12597b),!(!_0x12597b&&(_0x124330==='\x0a'||_0x124330==='\x20'||_0x124330===_0x4e6234))&&(_0x34ab36+=_0x124330);}let _0x139d4f={},_0x1b86a7=9876543210.1234,_0x441e9d=_0x34ab36[_0x3c8edb(0x517)](/\{\{([^}]+)\}\}/g,_0x317ce8=>{let _0x3c7daf=_0x317ce8,_0x499e98=''+_0x1b86a7;return _0x139d4f[_0x499e98]=_0x3c7daf,_0x1b86a7+=0.0001,_0x499e98;}),_0x2ff943='',_0x53d500=!0x1;try{let _0x8d7279=JSON[_0x3c8edb(0x164)](_0x441e9d);_0x2ff943=JSON[_0x3c8edb(0x454)](_0x8d7279,null,0x2),_0x2ff943=_0x2ff943['replace'](/\n( +)/g,(_0x1bd0b3,_0x3df116)=>{const _0x5a3f6f=_0x3c8edb;let _0x1fa0eb=_0x3df116[_0x5a3f6f(0x3fe)];return'\x0a'+_0x4e6234[_0x5a3f6f(0x15e)](_0x1fa0eb*0x2);}),_0x2ff943=_0x2ff943[_0x3c8edb(0x517)](/(\d{10,}\.\d+)/g,_0x38a54d=>_0x139d4f[_0x38a54d]||_0x38a54d);}catch(_0x251c07){this[_0x3c8edb(0x6d5)][_0x3c8edb(0x299)]('Error\x20parsing\x20JSON:'+_0x251c07),_0x2ff943=_0xc55603,_0x53d500=!0x0;}return{'result':_0x2ff943,'error':_0x53d500};}[a0_0x1eb7af(0x2d6)](_0x5a96f9,_0x51b331){const _0xeba27=a0_0x1eb7af;if(_0x51b331['block']['type']===_0xeba27(0x122)){this[_0xeba27(0x572)](_0xeba27(0x63e));return;}if(_0x51b331['block'][_0xeba27(0x6e8)]&&'header'in _0x51b331['block'][_0xeba27(0x6e8)]){this[_0xeba27(0x6d5)][_0xeba27(0x4e7)](this[_0xeba27(0x1fc)]+'\x20('+this['instance'][_0xeba27(0x1ef)]+_0xeba27(0x488));let _0x15ca75=JSON[_0xeba27(0x454)](_0x51b331[_0xeba27(0x359)][_0xeba27(0x6e8)][_0xeba27(0x434)],null,0x1);_0x15ca75[_0xeba27(0x3fe)]>0x2&&(_0x15ca75=_0x15ca75[_0xeba27(0x526)](0x1,_0x15ca75[_0xeba27(0x3fe)]-0x1)['trim']()),_0x51b331['block'][_0xeba27(0x6e8)][_0xeba27(0x1ad)]=_0x15ca75;}_0x51b331['block'][_0xeba27(0x6e8)]&&_0xeba27(0x589)in _0x51b331[_0xeba27(0x359)][_0xeba27(0x6e8)]&&(this[_0xeba27(0x6d5)][_0xeba27(0x4e7)](this[_0xeba27(0x1fc)]+'\x20('+this[_0xeba27(0x70d)][_0xeba27(0x1ef)]+_0xeba27(0x588)),_0x51b331[_0xeba27(0x359)]['apirequest'][_0xeba27(0x442)]=JSON['stringify'](_0x51b331[_0xeba27(0x359)]['apirequest'][_0xeba27(0x589)],null,0x1)[_0xeba27(0x30f)]()),_0x5a96f9[_0xeba27(0x4d8)][_0xeba27(0x46f)](_0x51b331[_0xeba27(0x359)]),this['reorderBlocks'](_0x5a96f9[_0xeba27(0x4d8)],_0x51b331['block'][_0xeba27(0x5f4)]);}[a0_0x1eb7af(0x59c)](_0x3b668c,_0x2d4e65){const _0x5cd57b=a0_0x1eb7af;let _0xb9f6ad=_0x3b668c['filter'](_0xb29a5e=>_0xb29a5e[_0x5cd57b(0x5f4)]===_0x2d4e65);_0xb9f6ad[_0x5cd57b(0x555)]((_0x48efe3,_0x459e66)=>_0x48efe3[_0x5cd57b(0x6ca)]-_0x459e66['order']),_0xb9f6ad[_0x5cd57b(0x7d3)]((_0x769d92,_0x153b77)=>_0x769d92['order']=_0x153b77+0x1);}async['editFlowReply'](_0x2de13d){const _0x43c536=a0_0x1eb7af;try{if(this[_0x43c536(0x6d5)][_0x43c536(0x4e7)](this[_0x43c536(0x1fc)]+'\x20('+this['instance'][_0x43c536(0x1ef)]+'):\x20Editando\x20replyOption...'),!_0x2de13d||!_0x2de13d[_0x43c536(0x1b2)]){this['throwAndLogError'](_0x43c536(0x272));return;}if(!this['AutomateSystem']['flows'][_0x43c536(0x7a9)](_0x2f8f63=>_0x2f8f63[_0x43c536(0x710)]===_0x2de13d[_0x43c536(0x710)]))throw this[_0x43c536(0x6d5)][_0x43c536(0x4e7)](this[_0x43c536(0x1fc)]+'\x20('+this['instance'][_0x43c536(0x1ef)]+_0x43c536(0x174)+_0x2de13d[_0x43c536(0x710)]+'\x27\x20não\x20encontrado'),new m(_0x43c536(0x416));let _0x59fc6d=await this[_0x43c536(0x1a2)][_0x43c536(0x779)][_0x43c536(0x1be)]({'where':{'_id':_0x2de13d[_0x43c536(0x710)]}});if(!_0x59fc6d||!_0x59fc6d[_0x43c536(0x344)]?.['includes'](this[_0x43c536(0x70d)][_0x43c536(0x1ef)]))throw this[_0x43c536(0x6d5)][_0x43c536(0x299)](this['instanceName']+'\x20('+this[_0x43c536(0x70d)][_0x43c536(0x1ef)]+_0x43c536(0x355)+_0x2de13d[_0x43c536(0x710)]+_0x43c536(0x247)),new m('Flow\x20\x27'+_0x2de13d['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x59fc6d['whoCanEdit']?.[_0x43c536(0x34b)](this['instance'][_0x43c536(0x1ef)]))throw new m(_0x43c536(0x7a5));let {replyOption:_0x3eed3c}=_0x2de13d;_0x3eed3c?.[_0x43c536(0x404)]?(this[_0x43c536(0x11c)](_0x59fc6d,_0x2de13d),this[_0x43c536(0x73e)](_0x59fc6d[_0x43c536(0x28b)],_0x2de13d[_0x43c536(0x1b2)][_0x43c536(0x37a)])):_0x3eed3c[_0x43c536(0x710)]?(await this[_0x43c536(0x196)](_0x59fc6d,_0x2de13d),this['reorderReplyOptions'](_0x59fc6d[_0x43c536(0x28b)],_0x2de13d[_0x43c536(0x1b2)]['blockId'])):(this[_0x43c536(0x294)](_0x59fc6d,_0x2de13d),this[_0x43c536(0x73e)](_0x59fc6d[_0x43c536(0x28b)],_0x2de13d[_0x43c536(0x1b2)]['blockId']));let _0x1b8096=await this[_0x43c536(0x1a2)][_0x43c536(0x779)]['updateOne'](_0x59fc6d[_0x43c536(0x710)],_0x59fc6d);if(!_0x1b8096)throw new Error(_0x43c536(0x1ae));return _0x1b8096;}catch(_0x1c2f69){this['throwAndLogError'](_0x43c536(0x509)+_0x1c2f69);}}[a0_0x1eb7af(0x73e)](_0x4cb686,_0x4d897b){const _0x549b97=a0_0x1eb7af;_0x4cb686[_0x549b97(0x7d3)](_0x252586=>{const _0x55ba32=_0x549b97;_0x252586['blockId']===_0x4d897b&&_0x252586[_0x55ba32(0x6ca)]===void 0x0&&(_0x252586[_0x55ba32(0x6ca)]=0x270f);});let _0x1de18d=_0x4cb686[_0x549b97(0x19b)](_0x252589=>_0x252589[_0x549b97(0x37a)]===_0x4d897b);_0x1de18d[_0x549b97(0x555)]((_0x15465f,_0x26b2b0)=>_0x15465f['order']-_0x26b2b0[_0x549b97(0x6ca)]),_0x1de18d['forEach']((_0x3be78c,_0x1fa2f3)=>{const _0x26be4f=_0x549b97;_0x3be78c[_0x26be4f(0x6ca)]=_0x1fa2f3+0x1;}),_0x4cb686[_0x549b97(0x7d3)](_0x473eb2=>{const _0x50cbc8=_0x549b97;if(_0x473eb2[_0x50cbc8(0x37a)]===_0x4d897b){let _0x2cfe28=_0x1de18d[_0x50cbc8(0x7a9)](_0x33bafe=>_0x33bafe['_id']&&_0x473eb2['_id']&&_0x33bafe[_0x50cbc8(0x710)][_0x50cbc8(0x725)]()===_0x473eb2[_0x50cbc8(0x710)]['toString']());_0x2cfe28&&(_0x473eb2['order']=_0x2cfe28[_0x50cbc8(0x6ca)]);}});}['deleteReplyOption'](_0x1d9c8f,_0x584f11){const _0x41c046=a0_0x1eb7af;let {replyOption:_0xe80ccb}=_0x584f11;if(!_0xe80ccb['_id']){this['throwAndLogError']('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x1d9c8f['replyOptions'][_0x41c046(0x7a9)](_0x271d9=>_0x271d9[_0x41c046(0x710)]['toString']()===_0x584f11['replyOption'][_0x41c046(0x710)][_0x41c046(0x725)]())){this[_0x41c046(0x572)](_0x41c046(0x13e)+_0xe80ccb['_id']+_0x41c046(0x1a4));return;}_0x1d9c8f['replyOptions']=_0x1d9c8f[_0x41c046(0x28b)][_0x41c046(0x19b)](_0x30499a=>_0x30499a[_0x41c046(0x710)][_0x41c046(0x725)]()!==_0x584f11[_0x41c046(0x1b2)][_0x41c046(0x710)][_0x41c046(0x725)]());}async[a0_0x1eb7af(0x196)](_0x14334b,_0x2e8da9){const _0x284623=a0_0x1eb7af;let _0x3a4334=_0x14334b['replyOptions'][_0x284623(0x15d)](_0x407440=>_0x407440[_0x284623(0x710)]['toString']()===_0x2e8da9[_0x284623(0x1b2)][_0x284623(0x710)]['toString']());if(_0x3a4334===-0x1){this[_0x284623(0x572)]('ReplyOption\x20com\x20ID\x20'+_0x2e8da9[_0x284623(0x1b2)][_0x284623(0x710)]+_0x284623(0x402));return;}for(let _0x1129a2 in _0x2e8da9[_0x284623(0x1b2)])_0x2e8da9['replyOption'][_0x284623(0x40c)](_0x1129a2)&&(_0x14334b['replyOptions'][_0x3a4334][_0x1129a2]=_0x2e8da9[_0x284623(0x1b2)][_0x1129a2]);}[a0_0x1eb7af(0x294)](_0x41b81d,_0xdc10ef){const _0x4648d2=a0_0x1eb7af;_0x41b81d[_0x4648d2(0x28b)]['push'](_0xdc10ef['replyOption']);}async[a0_0x1eb7af(0x3c4)](_0x593bdf){const _0x2364b9=a0_0x1eb7af;this[_0x2364b9(0x6d5)][_0x2364b9(0x4e7)](this[_0x2364b9(0x1fc)]+'\x20('+this[_0x2364b9(0x70d)][_0x2364b9(0x1ef)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20'+JSON['stringify'](_0x593bdf,null,0x2));try{if(this['logger'][_0x2364b9(0x4e7)](this['instanceName']+'\x20('+this[_0x2364b9(0x70d)][_0x2364b9(0x1ef)]+_0x2364b9(0x6a3)),!this[_0x2364b9(0x3bb)]['flows'][_0x2364b9(0x7a9)](_0x33c10e=>_0x33c10e[_0x2364b9(0x710)]===_0x593bdf[_0x2364b9(0x710)]))throw this[_0x2364b9(0x6d5)][_0x2364b9(0x4e7)](this[_0x2364b9(0x1fc)]+'\x20('+this['instance'][_0x2364b9(0x1ef)]+'):\x20Fluxo\x20\x27'+_0x593bdf[_0x2364b9(0x710)]+_0x2364b9(0x46a)),new m(_0x2364b9(0x416));let _0x5d0274=await this[_0x2364b9(0x1a2)]['flow'][_0x2364b9(0x1be)]({'where':{'_id':_0x593bdf['_id']}});if(!_0x5d0274||!_0x5d0274[_0x2364b9(0x344)]?.[_0x2364b9(0x34b)](this[_0x2364b9(0x70d)][_0x2364b9(0x1ef)]))throw this[_0x2364b9(0x6d5)]['error'](this[_0x2364b9(0x1fc)]+'\x20('+this[_0x2364b9(0x70d)][_0x2364b9(0x1ef)]+_0x2364b9(0x355)+_0x593bdf[_0x2364b9(0x710)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x593bdf[_0x2364b9(0x710)]+_0x2364b9(0x247));if(!_0x5d0274[_0x2364b9(0x6de)]?.[_0x2364b9(0x34b)](this[_0x2364b9(0x70d)][_0x2364b9(0x1ef)]))throw new m(_0x2364b9(0x7a5));if(_0x593bdf[_0x2364b9(0x26e)]&&_0x593bdf[_0x2364b9(0x26e)]?.[_0x2364b9(0x404)]===!0x0){if(this['logger'][_0x2364b9(0x4e7)](this[_0x2364b9(0x1fc)]+'\x20('+this[_0x2364b9(0x70d)][_0x2364b9(0x1ef)]+_0x2364b9(0x270)),_0x593bdf[_0x2364b9(0x26e)][_0x2364b9(0x39f)]===!0x0)return{'message':_0x2364b9(0x4d1)};if(_0x5d0274[_0x2364b9(0x4d8)][_0x2364b9(0x31e)](_0x390e4b=>_0x390e4b[_0x2364b9(0x5f4)][_0x2364b9(0x725)]()===_0x593bdf['group'][_0x2364b9(0x710)]))return this['logger']['verbose'](this[_0x2364b9(0x1fc)]+'\x20('+this[_0x2364b9(0x70d)]['wuid']+_0x2364b9(0x4ff)),{'message':_0x2364b9(0x477)};_0x5d0274[_0x2364b9(0x5c5)]=_0x5d0274[_0x2364b9(0x5c5)][_0x2364b9(0x19b)](_0x38716e=>_0x38716e[_0x2364b9(0x710)][_0x2364b9(0x725)]()!==_0x593bdf[_0x2364b9(0x26e)]['_id']);}else{if(_0x593bdf[_0x2364b9(0x26e)]){if(_0x593bdf[_0x2364b9(0x26e)][_0x2364b9(0x39f)]===!0x0)return{'message':_0x2364b9(0x798)};if(_0x593bdf[_0x2364b9(0x26e)]['_id']){let _0x548637=_0x5d0274[_0x2364b9(0x5c5)][_0x2364b9(0x7a9)](_0x19b7c1=>_0x19b7c1[_0x2364b9(0x710)][_0x2364b9(0x725)]()===_0x593bdf[_0x2364b9(0x26e)][_0x2364b9(0x710)]);_0x548637&&(_0x593bdf[_0x2364b9(0x26e)]['x']<0x0&&(_0x593bdf[_0x2364b9(0x26e)]['x']=0x0),_0x593bdf[_0x2364b9(0x26e)]['y']<0x0&&(_0x593bdf[_0x2364b9(0x26e)]['y']=0x0),Object['assign'](_0x548637,_0x593bdf['group']));}else _0x5d0274['groups'][_0x2364b9(0x46f)](_0x593bdf[_0x2364b9(0x26e)]);}}let _0x29c514=await this[_0x2364b9(0x1a2)][_0x2364b9(0x779)][_0x2364b9(0x393)](_0x5d0274[_0x2364b9(0x710)],_0x5d0274);if(!_0x29c514)throw new Error(_0x2364b9(0x1ae));return _0x29c514;}catch(_0x59e1ad){let _0x4dd83c='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x531f2b=_0x59e1ad instanceof Error?_0x59e1ad[_0x2364b9(0x729)]:typeof _0x59e1ad=='object'?JSON[_0x2364b9(0x454)](_0x59e1ad):_0x59e1ad,_0x53a28e=_0x4dd83c+':\x20'+_0x531f2b;throw this[_0x2364b9(0x6d5)][_0x2364b9(0x299)](this['instanceName']+'\x20('+this[_0x2364b9(0x70d)][_0x2364b9(0x1ef)]+_0x2364b9(0x538)+_0x53a28e),new m(_0x53a28e);}}async[a0_0x1eb7af(0x759)](_0x35a7bb){const _0x382886=a0_0x1eb7af;try{if(this[_0x382886(0x6d5)]['verbose'](this[_0x382886(0x1fc)]+'\x20('+this[_0x382886(0x70d)][_0x382886(0x1ef)]+_0x382886(0x74d)),!this[_0x382886(0x3bb)][_0x382886(0x551)][_0x382886(0x7a9)](_0x1dc2ae=>_0x1dc2ae[_0x382886(0x710)]===_0x35a7bb[_0x382886(0x710)]))throw this[_0x382886(0x6d5)]['verbose'](this[_0x382886(0x1fc)]+'\x20('+this[_0x382886(0x70d)]['wuid']+'):\x20Fluxo\x20\x27'+_0x35a7bb[_0x382886(0x710)]+_0x382886(0x46a)),new m(_0x382886(0x416));let _0x10af11=await this['repository'][_0x382886(0x779)][_0x382886(0x1be)]({'where':{'_id':_0x35a7bb['_id']}});if(!_0x10af11||!_0x10af11[_0x382886(0x344)]?.[_0x382886(0x34b)](this[_0x382886(0x70d)]['wuid']))throw this[_0x382886(0x6d5)][_0x382886(0x299)](this[_0x382886(0x1fc)]+'\x20('+this[_0x382886(0x70d)]['wuid']+_0x382886(0x355)+_0x35a7bb[_0x382886(0x710)]+_0x382886(0x247)),new m('Flow\x20\x27'+_0x35a7bb[_0x382886(0x710)]+_0x382886(0x247));if(!_0x10af11[_0x382886(0x6de)]?.[_0x382886(0x34b)](this[_0x382886(0x70d)][_0x382886(0x1ef)]))throw new m(_0x382886(0x7a5));let _0x5d55a6=!0x1;if(_0x35a7bb[_0x382886(0x5c3)]?.['delete']===!0x0)_0x10af11[_0x382886(0x3b2)]=_0x10af11[_0x382886(0x3b2)]['filter'](_0x4c933e=>_0x4c933e&&_0x35a7bb[_0x382886(0x5c3)]&&_0x4c933e[_0x382886(0x710)]&&_0x35a7bb[_0x382886(0x5c3)]['_id']&&_0x4c933e[_0x382886(0x710)]['toString']()!==_0x35a7bb[_0x382886(0x5c3)]['_id'][_0x382886(0x725)]()),_0x5d55a6=!0x0;else{let _0x2224f2=_0x10af11[_0x382886(0x3b2)]['find'](_0x247e37=>_0x247e37&&_0x35a7bb[_0x382886(0x5c3)]&&_0x247e37['_id']&&_0x35a7bb[_0x382886(0x5c3)][_0x382886(0x710)]&&_0x247e37[_0x382886(0x710)][_0x382886(0x725)]()===_0x35a7bb[_0x382886(0x5c3)][_0x382886(0x710)]['toString']());_0x2224f2?(_0x5d55a6=_0x2224f2[_0x382886(0x6ca)]!==_0x35a7bb[_0x382886(0x5c3)][_0x382886(0x6ca)],Object[_0x382886(0x69f)](_0x2224f2,_0x35a7bb[_0x382886(0x5c3)])):(_0x10af11['conditions'][_0x382886(0x46f)](_0x35a7bb['condition']),_0x5d55a6=!0x0);}if(_0x5d55a6){_0x10af11[_0x382886(0x3b2)][_0x382886(0x555)]((_0x1da471,_0x358b83)=>_0x1da471[_0x382886(0x6ca)]>_0x358b83[_0x382886(0x6ca)]?0x1:_0x358b83['order']>_0x1da471[_0x382886(0x6ca)]?-0x1:0x0);for(let _0x244fe5=0x0;_0x244fe5<_0x10af11[_0x382886(0x3b2)][_0x382886(0x3fe)];_0x244fe5++)_0x10af11[_0x382886(0x3b2)][_0x244fe5][_0x382886(0x6ca)]=_0x244fe5+0x1;_0x10af11[_0x382886(0x3b2)]['length']>0x0&&(_0x10af11['conditions'][0x0][_0x382886(0x439)]=_0x382886(0x418));}let _0x40b6ff=await this[_0x382886(0x1a2)][_0x382886(0x779)][_0x382886(0x393)](_0x10af11['_id'],_0x10af11);if(!_0x40b6ff)throw new Error(_0x382886(0x1ae));return _0x40b6ff;}catch(_0x95b4a0){let _0x373dfc=_0x382886(0x48a),_0x2d6c89=_0x95b4a0 instanceof Error?_0x95b4a0[_0x382886(0x729)]:typeof _0x95b4a0==_0x382886(0x23d)?JSON[_0x382886(0x454)](_0x95b4a0):_0x95b4a0,_0x241a0d=_0x373dfc+':\x20'+_0x2d6c89;throw this[_0x382886(0x6d5)][_0x382886(0x299)](this['instanceName']+'\x20('+this[_0x382886(0x70d)]['wuid']+'):\x20'+_0x241a0d),new m(_0x241a0d);}}async[a0_0x1eb7af(0x475)](_0x1c2d56){const _0x5b605d=a0_0x1eb7af;try{if(this[_0x5b605d(0x6d5)][_0x5b605d(0x4e7)](this[_0x5b605d(0x1fc)]+'\x20('+this[_0x5b605d(0x70d)][_0x5b605d(0x1ef)]+_0x5b605d(0x621)),!this[_0x5b605d(0x3bb)][_0x5b605d(0x551)]['find'](_0x3e0a9b=>_0x3e0a9b[_0x5b605d(0x710)]===_0x1c2d56[_0x5b605d(0x710)]))throw this[_0x5b605d(0x6d5)]['verbose'](this['instanceName']+'\x20('+this[_0x5b605d(0x70d)][_0x5b605d(0x1ef)]+'):\x20Fluxo\x20\x27'+_0x1c2d56['_id']+_0x5b605d(0x46a)),new m(_0x5b605d(0x416));let _0x2a12be=await this[_0x5b605d(0x1a2)][_0x5b605d(0x779)]['findOne']({'where':{'_id':_0x1c2d56[_0x5b605d(0x710)]}});if(!_0x2a12be||!_0x2a12be[_0x5b605d(0x344)]?.[_0x5b605d(0x34b)](this['instance']['wuid']))throw this[_0x5b605d(0x6d5)][_0x5b605d(0x299)](this[_0x5b605d(0x1fc)]+'\x20('+this[_0x5b605d(0x70d)][_0x5b605d(0x1ef)]+_0x5b605d(0x355)+_0x1c2d56[_0x5b605d(0x710)]+_0x5b605d(0x247)),new m(_0x5b605d(0x50b)+_0x1c2d56['_id']+_0x5b605d(0x247));if(!_0x2a12be['whoCanEdit']?.[_0x5b605d(0x34b)](this['instance']['wuid']))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x4550d3=!0x1;if(_0x1c2d56[_0x5b605d(0x27a)]?.['delete']===!0x0)_0x2a12be[_0x5b605d(0x1cf)]=_0x2a12be[_0x5b605d(0x1cf)]['filter'](_0x1f1c8a=>_0x1f1c8a&&_0x1c2d56['varedit']&&_0x1f1c8a[_0x5b605d(0x710)]&&_0x1c2d56[_0x5b605d(0x27a)][_0x5b605d(0x710)]&&_0x1f1c8a[_0x5b605d(0x710)]['toString']()!==_0x1c2d56[_0x5b605d(0x27a)][_0x5b605d(0x710)][_0x5b605d(0x725)]()),_0x4550d3=!0x0;else{let _0x4cd9b6=_0x2a12be[_0x5b605d(0x1cf)][_0x5b605d(0x7a9)](_0xd3bbf=>_0xd3bbf&&_0x1c2d56[_0x5b605d(0x27a)]&&_0xd3bbf[_0x5b605d(0x710)]&&_0x1c2d56['varedit'][_0x5b605d(0x710)]&&_0xd3bbf[_0x5b605d(0x710)][_0x5b605d(0x725)]()===_0x1c2d56['varedit']['_id'][_0x5b605d(0x725)]());_0x4cd9b6?(_0x4550d3=_0x4cd9b6[_0x5b605d(0x6ca)]!==_0x1c2d56[_0x5b605d(0x27a)][_0x5b605d(0x6ca)],Object[_0x5b605d(0x69f)](_0x4cd9b6,_0x1c2d56[_0x5b605d(0x27a)])):(_0x2a12be[_0x5b605d(0x1cf)]['push'](_0x1c2d56[_0x5b605d(0x27a)]),_0x4550d3=!0x0);}if(_0x4550d3){_0x2a12be[_0x5b605d(0x1cf)]['sort']((_0x119e71,_0x2d1c01)=>_0x119e71['order']>_0x2d1c01[_0x5b605d(0x6ca)]?0x1:_0x2d1c01[_0x5b605d(0x6ca)]>_0x119e71['order']?-0x1:0x0);for(let _0x1e360c=0x0;_0x1e360c<_0x2a12be[_0x5b605d(0x1cf)]['length'];_0x1e360c++)_0x2a12be['varedits'][_0x1e360c][_0x5b605d(0x6ca)]=_0x1e360c+0x1;}let _0x41293b=await this[_0x5b605d(0x1a2)]['flow'][_0x5b605d(0x393)](_0x2a12be[_0x5b605d(0x710)],_0x2a12be);if(!_0x41293b)throw new Error(_0x5b605d(0x1ae));return _0x41293b;}catch(_0x4cc9dc){let _0x58b1ae=_0x5b605d(0x48a),_0x5b75cd=_0x4cc9dc instanceof Error?_0x4cc9dc[_0x5b605d(0x729)]:typeof _0x4cc9dc==_0x5b605d(0x23d)?JSON[_0x5b605d(0x454)](_0x4cc9dc):_0x4cc9dc,_0x3580ea=_0x58b1ae+':\x20'+_0x5b75cd;throw this[_0x5b605d(0x6d5)][_0x5b605d(0x299)](this['instanceName']+'\x20('+this[_0x5b605d(0x70d)][_0x5b605d(0x1ef)]+_0x5b605d(0x538)+_0x3580ea),new m(_0x3580ea);}}async[a0_0x1eb7af(0x48c)](_0x19cb9a){const _0x1e3707=a0_0x1eb7af;try{if(this[_0x1e3707(0x6d5)][_0x1e3707(0x4e7)](this[_0x1e3707(0x1fc)]+'\x20('+this[_0x1e3707(0x70d)]['wuid']+_0x1e3707(0x3d1)),!this[_0x1e3707(0x3bb)]['flows'][_0x1e3707(0x7a9)](_0x32faa3=>_0x32faa3['_id']===_0x19cb9a[_0x1e3707(0x710)]))throw this['logger'][_0x1e3707(0x4e7)](this[_0x1e3707(0x1fc)]+'\x20('+this['instance'][_0x1e3707(0x1ef)]+_0x1e3707(0x174)+_0x19cb9a['_id']+_0x1e3707(0x46a)),new m(_0x1e3707(0x416));let _0x1e86eb=await this['repository'][_0x1e3707(0x779)][_0x1e3707(0x1be)]({'where':{'_id':_0x19cb9a[_0x1e3707(0x710)]}});if(!_0x1e86eb||!_0x1e86eb['whoCanUse']?.['includes'](this['instance'][_0x1e3707(0x1ef)]))throw this[_0x1e3707(0x6d5)][_0x1e3707(0x299)](this['instanceName']+'\x20('+this[_0x1e3707(0x70d)][_0x1e3707(0x1ef)]+_0x1e3707(0x355)+_0x19cb9a['_id']+_0x1e3707(0x247)),new m('Flow\x20\x27'+_0x19cb9a[_0x1e3707(0x710)]+_0x1e3707(0x247));if(!_0x1e86eb['whoCanEdit']?.[_0x1e3707(0x34b)](this['instance'][_0x1e3707(0x1ef)]))throw new m(_0x1e3707(0x7a5));_0x19cb9a[_0x1e3707(0x720)][_0x1e3707(0x587)]=_0x19cb9a[_0x1e3707(0x720)][_0x1e3707(0x587)][_0x1e3707(0x30f)](),_0x19cb9a[_0x1e3707(0x720)][_0x1e3707(0x587)][_0x1e3707(0x24d)]('_')&&(_0x19cb9a['variable'][_0x1e3707(0x587)]=_0x19cb9a['variable'][_0x1e3707(0x587)]['substring'](0x1)),_0x19cb9a[_0x1e3707(0x720)][_0x1e3707(0x587)]=_0x19cb9a[_0x1e3707(0x720)][_0x1e3707(0x587)][_0x1e3707(0x30f)]();let _0x3f739a=_0x1e86eb[_0x1e3707(0x388)][_0x1e3707(0x7a9)](_0x3695d5=>_0x3695d5[_0x1e3707(0x587)]===_0x19cb9a[_0x1e3707(0x720)]['name']);if(_0x3f739a?.[_0x1e3707(0x523)]===!0x0)throw new Error(_0x1e3707(0x7b3));if(_0x19cb9a[_0x1e3707(0x720)]?.[_0x1e3707(0x404)]===!0x0){if(!_0x3f739a)return{'message':'Variável\x20não\x20encontrada!'};_0x1e86eb[_0x1e3707(0x388)]=_0x1e86eb[_0x1e3707(0x388)]['filter'](_0x2659ea=>_0x2659ea[_0x1e3707(0x587)]!==_0x19cb9a[_0x1e3707(0x720)][_0x1e3707(0x587)]);}else _0x3f739a?Object[_0x1e3707(0x69f)](_0x3f739a,_0x19cb9a[_0x1e3707(0x720)]):_0x1e86eb[_0x1e3707(0x388)][_0x1e3707(0x46f)](_0x19cb9a[_0x1e3707(0x720)]);let _0xe86053=await this['repository'][_0x1e3707(0x779)][_0x1e3707(0x393)](_0x1e86eb['_id'],_0x1e86eb);if(!_0xe86053)throw new Error(_0x1e3707(0x1ae));return _0xe86053;}catch(_0x422600){let _0x9f830b='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x4916be=_0x422600 instanceof Error?_0x422600[_0x1e3707(0x729)]:typeof _0x422600==_0x1e3707(0x23d)?JSON[_0x1e3707(0x454)](_0x422600):_0x422600,_0x11e749=_0x9f830b+':\x20'+_0x4916be;throw this[_0x1e3707(0x6d5)]['error'](this[_0x1e3707(0x1fc)]+'\x20('+this[_0x1e3707(0x70d)][_0x1e3707(0x1ef)]+'):\x20'+_0x11e749),new m(_0x11e749);}}async[a0_0x1eb7af(0x102)](_0x4a20df){const _0x3702d0=a0_0x1eb7af;let _0x205a57=null;try{if(!this[_0x3702d0(0x3bb)]?.['flowConfig'][_0x3702d0(0x68d)])throw new m(_0x3702d0(0x398));this[_0x3702d0(0x6d5)][_0x3702d0(0x4e7)](this[_0x3702d0(0x1fc)]+'\x20('+this[_0x3702d0(0x70d)][_0x3702d0(0x1ef)]+_0x3702d0(0x5ad));let _0x4a0189=(await this[_0x3702d0(0x2f7)]({'numbers':[_0x4a20df[_0x3702d0(0x4c9)]]}))[0x0];if(!_0x4a0189[_0x3702d0(0x54d)]&&!(0x0,w[_0x3702d0(0x7c4)])(_0x4a0189[_0x3702d0(0x687)])&&!_0x4a0189[_0x3702d0(0x687)]['includes'](_0x3702d0(0x7e9)))throw _0x205a57=JSON['stringify'](_0x4a0189,null,0x2),new m(_0x4a0189);let _0x10b313;if(_0x4a20df['name']['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x3702d0(0x712)](_0x4a20df[_0x3702d0(0x587)])?_0x10b313=this[_0x3702d0(0x3bb)]['flows']['find'](_0x1957dd=>_0x1957dd[_0x3702d0(0x710)]===_0x4a20df[_0x3702d0(0x587)]):_0x10b313=this[_0x3702d0(0x3bb)][_0x3702d0(0x551)][_0x3702d0(0x7a9)](_0x257d8b=>_0x257d8b[_0x3702d0(0x587)]===_0x4a20df[_0x3702d0(0x587)]),!_0x10b313)throw this[_0x3702d0(0x6d5)][_0x3702d0(0x4e7)](this[_0x3702d0(0x1fc)]+'\x20('+this[_0x3702d0(0x70d)][_0x3702d0(0x1ef)]+_0x3702d0(0x174)+_0x4a20df[_0x3702d0(0x587)]+_0x3702d0(0x46a)),new m(_0x3702d0(0x416));let _0x19d53d=await this[_0x3702d0(0x1a2)][_0x3702d0(0x779)][_0x3702d0(0x1be)]({'where':{'_id':_0x10b313[_0x3702d0(0x710)]}});if(!_0x19d53d||!_0x19d53d[_0x3702d0(0x344)]?.[_0x3702d0(0x34b)](this['instance'][_0x3702d0(0x1ef)]))throw this[_0x3702d0(0x6d5)][_0x3702d0(0x299)](this[_0x3702d0(0x1fc)]+'\x20('+this[_0x3702d0(0x70d)][_0x3702d0(0x1ef)]+'):\x20Flow\x20\x27'+_0x10b313[_0x3702d0(0x710)]+_0x3702d0(0x247)),_0x205a57=_0x3702d0(0x50b)+_0x10b313['_id']+_0x3702d0(0x247),new m(_0x205a57);let _0x2ca243=await this['createConversationforStartFlow'](_0x19d53d,_0x4a0189[_0x3702d0(0x687)],_0x4a20df[_0x3702d0(0x363)]);if(_0x2ca243){this[_0x3702d0(0x6d5)][_0x3702d0(0x4e7)](this[_0x3702d0(0x1fc)]+'\x20('+this[_0x3702d0(0x70d)][_0x3702d0(0x1ef)]+_0x3702d0(0x763));let _0xc48b63=await this[_0x3702d0(0x193)](_0x2ca243);return _0xc48b63&&await this['processblock'](_0x2ca243,_0xc48b63),{'message':_0x3702d0(0x200)+_0x4a20df[_0x3702d0(0x4c9)]};}}catch(_0x5d54d5){if(this[_0x3702d0(0x6d5)]['error'](this[_0x3702d0(0x1fc)]+'\x20('+this[_0x3702d0(0x70d)][_0x3702d0(0x1ef)]+_0x3702d0(0x742)+(_0x5d54d5 instanceof Error?_0x5d54d5[_0x3702d0(0x729)]:JSON['stringify'](_0x5d54d5,null,0x2))),_0x205a57=_0x5d54d5 instanceof Error?_0x5d54d5['message']:JSON['stringify'](_0x5d54d5,null,0x2),_0x205a57)throw new m(_0x3702d0(0x405)+_0x205a57);}}async[a0_0x1eb7af(0x3b9)](_0x380656,_0x82b8e5,_0x44d193){const _0x4dafe0=a0_0x1eb7af;let _0x3526ce=null;try{if(!this[_0x4dafe0(0x3bb)]?.[_0x4dafe0(0x24f)][_0x4dafe0(0x68d)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this[_0x4dafe0(0x6d5)][_0x4dafe0(0x4e7)](this[_0x4dafe0(0x1fc)]+'\x20('+this[_0x4dafe0(0x70d)][_0x4dafe0(0x1ef)]+'):\x20Iniciando\x20bot...'),_0x82b8e5){let _0x471cb4=(await this[_0x4dafe0(0x2f7)]({'numbers':[_0x82b8e5]}))[0x0];if(!_0x471cb4[_0x4dafe0(0x54d)]&&!(0x0,w[_0x4dafe0(0x7c4)])(_0x471cb4[_0x4dafe0(0x687)])&&!_0x471cb4[_0x4dafe0(0x687)][_0x4dafe0(0x34b)](_0x4dafe0(0x7e9)))throw _0x3526ce=JSON[_0x4dafe0(0x454)](_0x471cb4,null,0x2),new m(_0x471cb4);_0x82b8e5=_0x471cb4[_0x4dafe0(0x687)];}else _0x82b8e5||(_0x82b8e5=(0x0,me['v4'])());let _0x2f2afb=await this['repository'][_0x4dafe0(0x779)][_0x4dafe0(0x1be)]({'where':{'_id':_0x380656}});if(!_0x2f2afb||!_0x2f2afb[_0x4dafe0(0x344)]?.['includes'](this[_0x4dafe0(0x70d)][_0x4dafe0(0x1ef)]))throw this[_0x4dafe0(0x6d5)][_0x4dafe0(0x299)](this['instanceName']+'\x20('+this[_0x4dafe0(0x70d)][_0x4dafe0(0x1ef)]+_0x4dafe0(0x355)+_0x380656+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x4dafe0(0x50b)+_0x380656+_0x4dafe0(0x247));let _0x14aad6=await this['createConversationforStartFlow'](_0x2f2afb,_0x82b8e5,null);if(_0x14aad6){this['logger'][_0x4dafe0(0x4e7)](this[_0x4dafe0(0x1fc)]+'\x20('+this[_0x4dafe0(0x70d)]['wuid']+_0x4dafe0(0x45c));let _0x608d5e;if(_0x44d193){let _0x1c699a=_0x14aad6[_0x4dafe0(0x69d)]['realVariables'],_0x3fa447=this[_0x4dafe0(0x2a9)](_0x44d193);Object[_0x4dafe0(0x69f)](_0x1c699a,_0x3fa447),_0x14aad6[_0x4dafe0(0x69d)][_0x4dafe0(0x826)]=_0x1c699a,_0x608d5e={'error':!0x1,'apiResponse':_0x44d193};}let _0x5c1756=await this[_0x4dafe0(0x193)](_0x14aad6);return _0x5c1756&&await this[_0x4dafe0(0x52c)](_0x14aad6,_0x5c1756),{'message':_0x4dafe0(0x3b4)};}}catch(_0x4ee63a){if(this['logger'][_0x4dafe0(0x299)](this[_0x4dafe0(0x1fc)]+'\x20('+this['instance']['wuid']+_0x4dafe0(0x742)+(_0x4ee63a instanceof Error?_0x4ee63a[_0x4dafe0(0x729)]:JSON[_0x4dafe0(0x454)](_0x4ee63a,null,0x2))),_0x3526ce=_0x4ee63a instanceof Error?_0x4ee63a['message']:JSON[_0x4dafe0(0x454)](_0x4ee63a,null,0x2),_0x3526ce)throw new m(_0x4dafe0(0x405)+_0x3526ce);}}async[a0_0x1eb7af(0x718)](_0x4b2011){const _0x43a54d=a0_0x1eb7af;try{let _0x166ca5={'remoteJid':_0x4b2011,'status':_0x43a54d(0x183)},_0x259b88={'status':_0x43a54d(0x6a8)},_0x3b5b9a=await this[_0x43a54d(0x1a2)]['flowConversation'][_0x43a54d(0x3a2)](_0x166ca5,_0x259b88,this['instance'][_0x43a54d(0x1ef)]);return this[_0x43a54d(0x6d5)][_0x43a54d(0x4e7)](this[_0x43a54d(0x1fc)]+'\x20('+this[_0x43a54d(0x70d)][_0x43a54d(0x1ef)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x3b5b9a;}catch(_0x348061){throw this[_0x43a54d(0x6d5)]['error'](this[_0x43a54d(0x1fc)]+'\x20('+this[_0x43a54d(0x70d)][_0x43a54d(0x1ef)]+_0x43a54d(0x5d3)+_0x348061[_0x43a54d(0x729)]),_0x348061;}}async[a0_0x1eb7af(0x4e2)](_0x3299ae,_0xadce10,_0xc9105b){const _0xea389b=a0_0x1eb7af;this['logger'][_0xea389b(0x4e7)](this[_0xea389b(0x1fc)]+'\x20('+this[_0xea389b(0x70d)][_0xea389b(0x1ef)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this['closeExistingConversations'](_0xadce10);try{let _0x218c91=require(_0xea389b(0x110))[_0xea389b(0x21a)],_0x3c6b47=Date[_0xea389b(0x4e4)](),_0x54e598=_0xea389b(0x122),_0xb6f46a={},_0x183514={},_0x16add7=this[_0xea389b(0x3bb)][_0xea389b(0x551)]['find'](_0x5a681c=>_0x5a681c[_0xea389b(0x710)]===_0x3299ae['_id']?.[_0xea389b(0x725)]()),_0x1d9abc=_0x16add7?.[_0xea389b(0x501)]??_0x3299ae['minutesToClose']??0x0,_0x3bc6c0=_0x16add7?.[_0xea389b(0x318)]??_0x3299ae[_0xea389b(0x318)]??!0x1,_0x347cd0={'flowId':_0x3299ae[_0xea389b(0x710)],..._0x3299ae,'chatLog':null},_0x4664a3=await this[_0xea389b(0x4ad)](_0x347cd0[_0xea389b(0x388)]),_0x2e925c=await this[_0xea389b(0x166)](_0xadce10),_0x223ff4={..._0x4664a3,..._0x2e925c,'_remoteJid':_0xadce10},_0x3901a4={'lastReceivedMessage':_0xb6f46a,'lastSendMessage':_0x183514,'lastBlockId':_0x54e598,'lastCondition':!0x0,'realVariables':_0x223ff4};_0x347cd0[_0xea389b(0x69d)]=_0x3901a4,_0x347cd0[_0xea389b(0x69d)][_0xea389b(0x826)]={..._0x223ff4,..._0xc9105b},delete _0x347cd0[_0xea389b(0x710)],_0x347cd0[_0xea389b(0x710)]=new _0x218c91(),_0x347cd0[_0xea389b(0x220)]=_0x3c6b47,_0x347cd0['status']='open',_0x347cd0['remoteJid']=_0xadce10,_0x347cd0[_0xea389b(0x501)]=_0x1d9abc,_0x347cd0['readMessages']=_0x3bc6c0,_0x347cd0[_0xea389b(0x710)]=_0x3299ae[_0xea389b(0x710)];let _0x201f63=await this[_0xea389b(0x1a2)][_0xea389b(0x496)]['updateOne'](_0x347cd0[_0xea389b(0x710)],_0x347cd0,this[_0xea389b(0x70d)][_0xea389b(0x1ef)]);return this[_0xea389b(0x6d5)][_0xea389b(0x4e7)](this[_0xea389b(0x1fc)]+'\x20('+this[_0xea389b(0x70d)][_0xea389b(0x1ef)]+_0xea389b(0x232)),_0x201f63?_0x347cd0:null;}catch(_0x207346){let _0x31b512=_0xea389b(0x213),_0x31f7ae=_0x207346 instanceof Error?_0x207346[_0xea389b(0x729)]:typeof _0x207346==_0xea389b(0x23d)?JSON['stringify'](_0x207346):_0x207346,_0x2552b4=_0x31b512+':\x20'+_0x31f7ae;throw this[_0xea389b(0x6d5)]['error'](this[_0xea389b(0x1fc)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x2552b4),new m(_0x2552b4);}}async['getConversation'](_0x4f0918){const _0x2d1b77=a0_0x1eb7af;try{this[_0x2d1b77(0x6d5)][_0x2d1b77(0x4e7)](this[_0x2d1b77(0x1fc)]+'\x20('+this[_0x2d1b77(0x70d)][_0x2d1b77(0x1ef)]+'):\x20Buscando\x20conversa...'),this['logger'][_0x2d1b77(0x4e7)](this[_0x2d1b77(0x1fc)]+'\x20('+this[_0x2d1b77(0x70d)][_0x2d1b77(0x1ef)]+'):\x20Query\x20params:\x20'+_0x4f0918);let _0x3ec126={'where':{'_id':_0x4f0918}};return await this[_0x2d1b77(0x1a2)]['flowConversation']['findOne'](_0x3ec126,this[_0x2d1b77(0x70d)][_0x2d1b77(0x1ef)]);}catch(_0x36c183){let _0x4a09cb=_0x2d1b77(0x48e),_0x541f5e=_0x36c183 instanceof Error?_0x36c183['message']:typeof _0x36c183==_0x2d1b77(0x23d)?JSON[_0x2d1b77(0x454)](_0x36c183):_0x36c183,_0x5eb025=_0x4a09cb+':\x20'+_0x541f5e;throw this[_0x2d1b77(0x6d5)][_0x2d1b77(0x299)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2d1b77(0x538)+_0x5eb025),new m(_0x5eb025);}}async['fetchConversation'](_0x14c828){const _0x1a9075=a0_0x1eb7af;try{return this[_0x1a9075(0x6d5)][_0x1a9075(0x4e7)](this[_0x1a9075(0x1fc)]+'\x20('+this[_0x1a9075(0x70d)][_0x1a9075(0x1ef)]+_0x1a9075(0x7cd)),await this[_0x1a9075(0x1a2)]['flowConversation'][_0x1a9075(0x7a9)](_0x14c828,this[_0x1a9075(0x70d)][_0x1a9075(0x1ef)]);}catch(_0x2f5d2e){let _0x275a24=_0x1a9075(0x666),_0x276192=_0x2f5d2e instanceof Error?_0x2f5d2e[_0x1a9075(0x729)]:typeof _0x2f5d2e==_0x1a9075(0x23d)?JSON[_0x1a9075(0x454)](_0x2f5d2e):_0x2f5d2e,_0x3d62a7=_0x275a24+':\x20'+_0x276192;throw this[_0x1a9075(0x6d5)][_0x1a9075(0x299)](this[_0x1a9075(0x1fc)]+'\x20('+this[_0x1a9075(0x70d)][_0x1a9075(0x1ef)]+'):\x20'+_0x3d62a7),new m(_0x3d62a7);}}async[a0_0x1eb7af(0x5b1)](_0x373192){const _0x575afc=a0_0x1eb7af;try{return this['logger'][_0x575afc(0x4e7)](this[_0x575afc(0x1fc)]+'\x20('+this['instance']['wuid']+_0x575afc(0x71c)),this[_0x575afc(0x6d5)][_0x575afc(0x4e7)](this[_0x575afc(0x1fc)]+'\x20('+this[_0x575afc(0x70d)][_0x575afc(0x1ef)]+_0x575afc(0x35a)+_0x373192),(await this[_0x575afc(0x1a2)][_0x575afc(0x496)][_0x575afc(0x81c)]({'where':{'_id':_0x373192[_0x575afc(0x710)]}},this[_0x575afc(0x70d)][_0x575afc(0x1ef)]))[_0x575afc(0x1c8)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x575afc(0x649)};}catch(_0x2ba4f4){let _0x3ce46e=_0x575afc(0x5e2),_0x28c26e=_0x2ba4f4 instanceof Error?_0x2ba4f4['message']:typeof _0x2ba4f4==_0x575afc(0x23d)?JSON[_0x575afc(0x454)](_0x2ba4f4):_0x2ba4f4,_0xec3875=_0x3ce46e+':\x20'+_0x28c26e;throw this[_0x575afc(0x6d5)]['error'](this[_0x575afc(0x1fc)]+'\x20('+this[_0x575afc(0x70d)][_0x575afc(0x1ef)]+_0x575afc(0x538)+_0xec3875),new m(_0xec3875);}}async[a0_0x1eb7af(0x6f1)](_0x1d1dc0){const _0xba832d=a0_0x1eb7af;try{let {_id:_0x506a63,chatLog:_0x5ef1c5,status:_0x3ef907}=_0x1d1dc0;if(!_0x506a63)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x120c1f={};if(_0x3ef907!==void 0x0&&(_0x120c1f[_0xba832d(0x771)]=_0x3ef907),Object['keys'](_0x120c1f)[_0xba832d(0x3fe)]===0x0)return{'message':_0xba832d(0x75c)};let _0x340496=await this[_0xba832d(0x1a2)][_0xba832d(0x496)][_0xba832d(0x393)](_0x506a63,_0x120c1f,this[_0xba832d(0x70d)][_0xba832d(0x1ef)]);return _0x340496||{'message':_0xba832d(0x1fd)};}catch(_0x1074d7){let _0x2bbaeb=_0xba832d(0x780),_0x177209=_0x1074d7 instanceof Error?_0x1074d7[_0xba832d(0x729)]:typeof _0x1074d7=='object'?JSON['stringify'](_0x1074d7):_0x1074d7,_0x4393aa=_0x2bbaeb+':\x20'+_0x177209;throw this[_0xba832d(0x6d5)]['error'](this[_0xba832d(0x1fc)]+'\x20('+this['instance'][_0xba832d(0x1ef)]+_0xba832d(0x538)+_0x4393aa),new m(_0x4393aa);}}async[a0_0x1eb7af(0x609)](_0x479642){const _0x1fc894=a0_0x1eb7af;try{_0x479642[_0x1fc894(0x710)]=this[_0x1fc894(0x279)](_0x479642[_0x1fc894(0x710)]);let _0x5123d2=await this[_0x1fc894(0x1a2)][_0x1fc894(0x142)][_0x1fc894(0x1be)]({'where':{'_id':_0x479642['_id']}},this['instance'][_0x1fc894(0x1ef)]);if(!_0x5123d2)throw new m(_0x1fc894(0x14d));let {_id:_0x1e2dd4,leadInfo:_0x4a0af5}=_0x479642;if(!_0x1e2dd4)throw new Error(_0x1fc894(0x38f));if(_0x479642[_0x1fc894(0x404)]==='all')return await this[_0x1fc894(0x64a)](_0x479642[_0x1fc894(0x710)]),await this[_0x1fc894(0x1a2)][_0x1fc894(0x142)][_0x1fc894(0x404)]({'where':{'_id':_0x479642[_0x1fc894(0x710)]}},this[_0x1fc894(0x70d)][_0x1fc894(0x1ef)]),await this[_0x1fc894(0x1a2)]['message'][_0x1fc894(0x404)]({'where':{'key':{'remoteJid':_0x479642[_0x1fc894(0x710)]}}},this[_0x1fc894(0x70d)][_0x1fc894(0x1ef)]),_0x479642=await this[_0x1fc894(0x1a2)][_0x1fc894(0x142)][_0x1fc894(0x393)]({'where':{'_id':_0x479642[_0x1fc894(0x710)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x1fc894(0x1ef)]),j(this[_0x1fc894(0x1fc)],_0x1fc894(0x72a),{'chat':_0x479642}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x479642[_0x1fc894(0x404)]==='messages')return await this[_0x1fc894(0x1a2)][_0x1fc894(0x729)][_0x1fc894(0x404)]({'where':{'key':{'remoteJid':_0x479642['_id']}}},this[_0x1fc894(0x70d)][_0x1fc894(0x1ef)]),_0x479642=await this['repository']['chat'][_0x1fc894(0x393)]({'where':{'_id':_0x479642[_0x1fc894(0x710)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x1fc894(0x70d)][_0x1fc894(0x1ef)]),j(this['instanceName'],_0x1fc894(0x72a),{'chat':_0x479642}),{'message':_0x1fc894(0x36c)};let _0x27cd0e=(_0x5202c4,_0x499262,_0x4763c7)=>{const _0x3a5fac=_0x1fc894;_0x5202c4&&_0x4763c7[_0x3a5fac(0x7d3)](_0x10c0fc=>{const _0x327794=_0x3a5fac;_0x5202c4[_0x10c0fc]!==void 0x0&&(_0x499262[_0x327794(0xf4)+_0x10c0fc]=_0x5202c4[_0x10c0fc]);});},_0x605b8d={};if(_0x1fc894(0x58e)in _0x479642&&(this[_0x1fc894(0x6d5)][_0x1fc894(0x4e7)](this[_0x1fc894(0x1fc)]+'\x20('+this[_0x1fc894(0x70d)][_0x1fc894(0x1ef)]+'):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x479642[_0x1fc894(0x710)]),_0x479642[_0x1fc894(0x58e)]=_0x479642[_0x1fc894(0x58e)]===0x0?null:-0x1,await this[_0x1fc894(0x5ce)][_0x1fc894(0x414)]({'mute':_0x479642['muteEndTime']},_0x479642['_id']),_0x605b8d['muteEndTime']=Number(_0x479642['muteEndTime'])),_0x4a0af5&&(_0x27cd0e(_0x4a0af5,_0x605b8d,[_0x1fc894(0xea),_0x1fc894(0x7a2),'email',_0x1fc894(0x262),_0x1fc894(0x771),_0x1fc894(0x390),_0x1fc894(0x49f),_0x1fc894(0x7f3),_0x1fc894(0x282),_0x1fc894(0x1d2)]),Array[_0x1fc894(0x50d)](_0x4a0af5[_0x1fc894(0x123)])&&(_0x605b8d['leadInfo.customFields']=_0x4a0af5[_0x1fc894(0x123)][_0x1fc894(0x285)](_0x1ab4f4=>({'_id':_0x1ab4f4[_0x1fc894(0x710)],'value':_0x1ab4f4['value']}))),_0x479642[_0x1fc894(0x523)][_0x1fc894(0x1d2)]!==void 0x0)){let _0x1003af=await this[_0x1fc894(0x1a2)][_0x1fc894(0x811)][_0x1fc894(0x7a9)]({'where':{}},this[_0x1fc894(0x70d)]['wuid']),_0x43024c=new Set(_0x479642['leadInfo'][_0x1fc894(0x1d2)]||[]),_0x21650b=new Set(_0x479642[_0x1fc894(0x523)]['etiquetas']),_0x73cd53=new Set(_0x1003af['map'](_0x196ae8=>_0x196ae8['_id'])),_0x3d1a6f=[..._0x21650b][_0x1fc894(0x19b)](_0x3e93b9=>!_0x43024c[_0x1fc894(0x4b1)](_0x3e93b9)&&_0x73cd53[_0x1fc894(0x4b1)](_0x3e93b9)),_0x778949=[..._0x43024c][_0x1fc894(0x19b)](_0x17cc0e=>!_0x21650b[_0x1fc894(0x4b1)](_0x17cc0e));if(_0x605b8d[_0x1fc894(0x76f)]=[..._0x43024c],_0x5123d2&&!_0x5123d2[_0x1fc894(0x2fc)]){for(let _0x370bec of _0x3d1a6f)await this[_0x1fc894(0x645)](_0x370bec,_0x479642['_id']),_0x43024c[_0x1fc894(0x309)](_0x370bec);for(let _0x131ddc of _0x778949)await this[_0x1fc894(0x789)](_0x131ddc,_0x479642[_0x1fc894(0x710)]),_0x43024c[_0x1fc894(0x404)](_0x131ddc);}}if(_0x479642[_0x1fc894(0x12e)]!==void 0x0&&(_0x605b8d['unreadcount']=Number(_0x479642[_0x1fc894(0x12e)])),Object[_0x1fc894(0x81b)](_0x605b8d)[_0x1fc894(0x3fe)]===0x0)throw new Error(_0x1fc894(0x75c));let _0x464d9a=await this[_0x1fc894(0x1a2)][_0x1fc894(0x142)][_0x1fc894(0x393)]({'where':{'_id':_0x479642[_0x1fc894(0x710)]}},_0x605b8d,this[_0x1fc894(0x70d)]['wuid']);return _0x464d9a&&j(this[_0x1fc894(0x1fc)],'chats',{'chat':_0x464d9a}),_0x464d9a?(this[_0x1fc894(0x6d5)][_0x1fc894(0x4e7)](this[_0x1fc894(0x1fc)]+'\x20('+this[_0x1fc894(0x70d)][_0x1fc894(0x1ef)]+'):\x20'+JSON[_0x1fc894(0x454)](_0x464d9a,null,0x2)),_0x464d9a):{'message':_0x1fc894(0x24e)};}catch(_0x27b833){let _0x41d607='Erro\x20ao\x20editar\x20o\x20chat',_0x33ef72=_0x27b833 instanceof Error?_0x27b833['message']:typeof _0x27b833==_0x1fc894(0x23d)?JSON[_0x1fc894(0x454)](_0x27b833):_0x27b833,_0xfe07c8=_0x41d607+':\x20'+_0x33ef72;throw this[_0x1fc894(0x6d5)][_0x1fc894(0x299)](this[_0x1fc894(0x1fc)]+'\x20('+this[_0x1fc894(0x70d)]['wuid']+_0x1fc894(0x538)+_0xfe07c8),new m(_0xfe07c8);}}async['AddChatLabel'](_0x382b6d,_0x12f54b){const _0x37033f=a0_0x1eb7af;try{await this[_0x37033f(0x5ce)]['addChatLabel'](_0x12f54b,_0x382b6d),this[_0x37033f(0x6d5)][_0x37033f(0x353)](this[_0x37033f(0x1fc)]+'\x20('+this[_0x37033f(0x70d)]['wuid']+'):\x20Label\x20'+_0x382b6d+_0x37033f(0x62c)+_0x12f54b+_0x37033f(0x332));}catch(_0x578338){this[_0x37033f(0x6d5)][_0x37033f(0x299)](_0x37033f(0x39e)+_0x382b6d+_0x37033f(0x158)+_0x12f54b+':\x20'+_0x578338);}}async[a0_0x1eb7af(0x789)](_0x3fd75a,_0x32dfbb){const _0x3c673e=a0_0x1eb7af;try{await this[_0x3c673e(0x5ce)][_0x3c673e(0x60b)](_0x32dfbb,_0x3fd75a),this['logger'][_0x3c673e(0x353)](this[_0x3c673e(0x1fc)]+'\x20('+this[_0x3c673e(0x70d)]['wuid']+_0x3c673e(0x80e)+_0x3fd75a+'\x20removido\x20do\x20chat\x20'+_0x32dfbb+_0x3c673e(0x332));}catch(_0x1281b4){this[_0x3c673e(0x6d5)][_0x3c673e(0x299)](_0x3c673e(0x22b)+_0x3fd75a+_0x3c673e(0x300)+_0x32dfbb+':\x20'+_0x1281b4);}}async[a0_0x1eb7af(0x748)](_0x2534e9){const _0x1b26c4=a0_0x1eb7af;try{let _0x320a4e=await this[_0x1b26c4(0x1a2)][_0x1b26c4(0x430)]['findOrCreate'](this[_0x1b26c4(0x70d)][_0x1b26c4(0x1ef)]),_0x5e998d=_0x2534e9[_0x1b26c4(0x710)]?_0x320a4e[_0x1b26c4(0x1d4)][_0x1b26c4(0x15d)](_0x2780f5=>_0x2780f5[_0x1b26c4(0x710)]===_0x2534e9[_0x1b26c4(0x710)]):-0x1;if(_0x2534e9[_0x1b26c4(0x404)]&&_0x5e998d>-0x1)_0x320a4e[_0x1b26c4(0x1d4)][_0x1b26c4(0x2c3)](_0x5e998d,0x1);else{if(_0x5e998d>-0x1){let _0x390734=_0x320a4e['agents'][_0x5e998d];_0x2534e9['fone']&&(_0x390734['fone']=_0x2534e9['fone']),_0x2534e9[_0x1b26c4(0x587)]&&(_0x390734[_0x1b26c4(0x587)]=_0x2534e9[_0x1b26c4(0x587)]),_0x2534e9[_0x1b26c4(0x5ff)]&&(_0x390734[_0x1b26c4(0x5ff)]=_0x2534e9[_0x1b26c4(0x5ff)]),_0x2534e9['role']&&(_0x390734['role']=_0x2534e9[_0x1b26c4(0x21f)]);}else _0x320a4e[_0x1b26c4(0x1d4)]['push']({'_id':_0x2534e9[_0x1b26c4(0x710)]||new de[(_0x1b26c4(0x39f))][(_0x1b26c4(0x823))]['ObjectId']()[_0x1b26c4(0x725)](),'fone':_0x2534e9[_0x1b26c4(0x809)],'name':_0x2534e9[_0x1b26c4(0x587)],'email':_0x2534e9[_0x1b26c4(0x5ff)],'role':_0x2534e9[_0x1b26c4(0x21f)]});}let _0x2ed36a={'agents':_0x320a4e[_0x1b26c4(0x1d4)]},_0x44deab=await this[_0x1b26c4(0x1a2)][_0x1b26c4(0x430)]['update'](_0x2ed36a,this[_0x1b26c4(0x70d)]['wuid']);return this['AutomateSystem']=_0x44deab,this[_0x1b26c4(0x6d5)][_0x1b26c4(0x4e7)](this[_0x1b26c4(0x1fc)]+'\x20('+this[_0x1b26c4(0x70d)][_0x1b26c4(0x1ef)]+_0x1b26c4(0x1dd)),this[_0x1b26c4(0x6d5)][_0x1b26c4(0x4e7)](this[_0x1b26c4(0x1fc)]+'\x20('+this[_0x1b26c4(0x70d)][_0x1b26c4(0x1ef)]+_0x1b26c4(0x538)+this[_0x1b26c4(0x3bb)]),_0x44deab;}catch(_0x398edc){let _0x119c90=_0x1b26c4(0x3be),_0x3b407a=_0x398edc instanceof Error?_0x398edc[_0x1b26c4(0x729)]:typeof _0x398edc=='object'?JSON['stringify'](_0x398edc):_0x398edc,_0x3c1ec4=_0x119c90+':\x20'+_0x3b407a;throw this[_0x1b26c4(0x6d5)][_0x1b26c4(0x299)](this['instanceName']+'\x20('+this[_0x1b26c4(0x70d)][_0x1b26c4(0x1ef)]+'):\x20'+_0x3c1ec4),new m(_0x3c1ec4);}}async[a0_0x1eb7af(0x688)](_0x18fb1a){const _0x5821cc=a0_0x1eb7af;try{let _0x4aa4df=await this['repository'][_0x5821cc(0x430)][_0x5821cc(0x7fb)](this[_0x5821cc(0x70d)][_0x5821cc(0x1ef)]),_0x3d78b8=_0x18fb1a[_0x5821cc(0x710)]?_0x4aa4df[_0x5821cc(0x123)]['findIndex'](_0x4de82a=>_0x4de82a[_0x5821cc(0x710)]===_0x18fb1a[_0x5821cc(0x710)]):-0x1,_0x5aad9d=!0x1,_0x3a91d9=_0x4aa4df['customFields'][_0x5821cc(0x31e)](_0xeed05=>_0xeed05[_0x5821cc(0x6ca)]===_0x18fb1a[_0x5821cc(0x6ca)]);if(_0x18fb1a['delete']&&_0x3d78b8>-0x1)_0x4aa4df[_0x5821cc(0x123)][_0x5821cc(0x2c3)](_0x3d78b8,0x1),_0x5aad9d=!0x0;else{if(_0x3d78b8>-0x1){if(_0x4aa4df[_0x5821cc(0x123)][_0x5821cc(0x31e)](_0x3c8e30=>_0x3c8e30[_0x5821cc(0x587)]===_0x18fb1a[_0x5821cc(0x587)]&&_0x3c8e30[_0x5821cc(0x710)]!==_0x18fb1a[_0x5821cc(0x710)]))throw new Error(_0x5821cc(0x75b));let _0x545c37=_0x4aa4df[_0x5821cc(0x123)][_0x3d78b8];_0x18fb1a[_0x5821cc(0x6ca)]&&(_0x3a91d9||!Number[_0x5821cc(0x2fe)](_0x18fb1a['order']))&&(_0x545c37[_0x5821cc(0x6ca)]=_0x18fb1a[_0x5821cc(0x6ca)],_0x5aad9d=!0x0),_0x18fb1a[_0x5821cc(0x587)]&&(_0x545c37[_0x5821cc(0x587)]=_0x18fb1a[_0x5821cc(0x587)]);}else{if(_0x4aa4df[_0x5821cc(0x123)][_0x5821cc(0x31e)](_0x10851d=>_0x10851d['name']===_0x18fb1a['name']&&_0x10851d[_0x5821cc(0x710)]!==_0x18fb1a['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x4aa4df[_0x5821cc(0x123)][_0x5821cc(0x46f)]({'_id':_0x18fb1a[_0x5821cc(0x710)]||new de['default'][(_0x5821cc(0x823))][(_0x5821cc(0x21a))]()['toString'](),'order':_0x18fb1a[_0x5821cc(0x6ca)],'name':_0x18fb1a[_0x5821cc(0x587)]}),_0x5aad9d=!0x0;}}if(_0x5aad9d){_0x4aa4df[_0x5821cc(0x123)]['sort']((_0x2a4dd1,_0x56fec7)=>_0x2a4dd1[_0x5821cc(0x6ca)]>_0x56fec7[_0x5821cc(0x6ca)]?0x1:_0x56fec7[_0x5821cc(0x6ca)]>_0x2a4dd1[_0x5821cc(0x6ca)]?-0x1:0x0);for(let _0x236eb1=0x0;_0x236eb1<_0x4aa4df[_0x5821cc(0x123)][_0x5821cc(0x3fe)];_0x236eb1++)_0x4aa4df[_0x5821cc(0x123)][_0x236eb1][_0x5821cc(0x6ca)]=_0x236eb1+0x1;}let _0x7bb10c=await this[_0x5821cc(0x1a2)][_0x5821cc(0x430)][_0x5821cc(0x7f1)](_0x4aa4df,this[_0x5821cc(0x70d)][_0x5821cc(0x1ef)]);return this[_0x5821cc(0x3bb)]=_0x7bb10c,this[_0x5821cc(0x6d5)][_0x5821cc(0x4e7)](this[_0x5821cc(0x1fc)]+'\x20('+this[_0x5821cc(0x70d)]['wuid']+_0x5821cc(0x225)),this[_0x5821cc(0x6d5)][_0x5821cc(0x4e7)](this['instanceName']+'\x20('+this[_0x5821cc(0x70d)][_0x5821cc(0x1ef)]+_0x5821cc(0x538)+this[_0x5821cc(0x3bb)]),_0x7bb10c;}catch(_0x3bf3f2){let _0x2e5736=_0x5821cc(0x46c),_0x428756=_0x3bf3f2 instanceof Error?_0x3bf3f2[_0x5821cc(0x729)]:typeof _0x3bf3f2==_0x5821cc(0x23d)?JSON[_0x5821cc(0x454)](_0x3bf3f2):_0x3bf3f2,_0x57d82d=_0x2e5736+':\x20'+_0x428756;throw this[_0x5821cc(0x6d5)]['error'](this[_0x5821cc(0x1fc)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x57d82d),new m(_0x57d82d);}}async[a0_0x1eb7af(0x130)](_0x46a80d){const _0x1e4590=a0_0x1eb7af;try{let _0x1d945d=await this[_0x1e4590(0x1a2)][_0x1e4590(0x430)][_0x1e4590(0x7fb)](this[_0x1e4590(0x70d)][_0x1e4590(0x1ef)]),_0x17fc01=_0x1d945d?.[_0x1e4590(0x7ca)]?.[_0x1e4590(0x15d)](_0x255628=>_0x255628['_id']===_0x46a80d?.[_0x1e4590(0x710)]);if(_0x46a80d?.[_0x1e4590(0x404)])_0x17fc01>-0x1&&_0x1d945d?.[_0x1e4590(0x7ca)]?.['splice'](_0x17fc01,0x1);else{if(_0x17fc01>-0x1){let _0x3d402e=_0x1d945d[_0x1e4590(0x7ca)][_0x17fc01];_0x3d402e[_0x1e4590(0x6ca)]=_0x46a80d?.[_0x1e4590(0x6ca)]||_0x3d402e['order'],_0x3d402e[_0x1e4590(0x6b4)]=_0x46a80d?.[_0x1e4590(0x6b4)]||_0x3d402e['command'],_0x3d402e[_0x1e4590(0x729)]=_0x46a80d?.[_0x1e4590(0x729)]||_0x3d402e[_0x1e4590(0x729)];}else{let _0x39615b={'_id':_0x46a80d?.[_0x1e4590(0x710)]||new de[(_0x1e4590(0x39f))][(_0x1e4590(0x823))][(_0x1e4590(0x21a))]()['toString'](),'order':_0x46a80d?.[_0x1e4590(0x6ca)],'command':_0x46a80d?.[_0x1e4590(0x6b4)],'message':_0x46a80d?.[_0x1e4590(0x729)]};_0x1d945d?.[_0x1e4590(0x7ca)]?.['push'](_0x39615b);}}_0x1d945d?.[_0x1e4590(0x7ca)]?.[_0x1e4590(0x555)]((_0x3a2415,_0x28ce0c)=>_0x3a2415[_0x1e4590(0x6ca)]-_0x28ce0c['order']);let _0x10427f=await this[_0x1e4590(0x1a2)][_0x1e4590(0x430)]['update'](_0x1d945d,this[_0x1e4590(0x70d)][_0x1e4590(0x1ef)]);return this[_0x1e4590(0x3bb)]=_0x10427f,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1e4590(0x70d)]['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x10427f;}catch(_0x25b616){let _0x82fe28=_0x1e4590(0x458),_0x4df8ba=_0x25b616 instanceof Error?_0x25b616[_0x1e4590(0x729)]:typeof _0x25b616==_0x1e4590(0x23d)?JSON[_0x1e4590(0x454)](_0x25b616):_0x25b616,_0x2ce156=_0x82fe28+':\x20'+_0x4df8ba;throw this['logger'][_0x1e4590(0x299)](this['instanceName']+'\x20('+this[_0x1e4590(0x70d)][_0x1e4590(0x1ef)]+'):\x20'+_0x2ce156),new m(_0x2ce156);}}async['updateFlowConfig'](_0x4e3657){const _0x398259=a0_0x1eb7af;try{let _0x1debe1=await this['repository']['automateSystem']['findOrCreate'](this[_0x398259(0x70d)][_0x398259(0x1ef)]);if(!_0x1debe1)throw new Error(_0x398259(0x5ed));let _0x5027f9={'_id':_0x1debe1[_0x398259(0x710)],'flowConfig':{'enabled':_0x4e3657[_0x398259(0x68d)]??_0x1debe1[_0x398259(0x24f)]['enabled'],'ignoreGroups':_0x4e3657[_0x398259(0x15c)]??_0x1debe1['flowConfig'][_0x398259(0x15c)],'stopConversation':_0x4e3657[_0x398259(0x74b)][_0x398259(0x30f)]()??_0x1debe1[_0x398259(0x24f)][_0x398259(0x74b)][_0x398259(0x30f)](),'stopMinutes':_0x4e3657[_0x398259(0x58f)]??_0x1debe1['flowConfig'][_0x398259(0x58f)],'stopWhenYouSendMsg':_0x4e3657[_0x398259(0x18b)]??_0x1debe1['flowConfig'][_0x398259(0x18b)]}},_0x999d1a=await this[_0x398259(0x1a2)][_0x398259(0x430)][_0x398259(0x7f1)](_0x5027f9,this[_0x398259(0x70d)][_0x398259(0x1ef)]);return this[_0x398259(0x3bb)]=_0x999d1a,this[_0x398259(0x6d5)][_0x398259(0x4e7)](this['instanceName']+'\x20('+this[_0x398259(0x70d)][_0x398259(0x1ef)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x398259(0x6d5)]['verbose'](this[_0x398259(0x1fc)]+'\x20('+this[_0x398259(0x70d)][_0x398259(0x1ef)]+_0x398259(0x538)+this[_0x398259(0x3bb)]),setTimeout(()=>this[_0x398259(0x595)](),0x7d0),_0x999d1a;}catch(_0x22fda0){let _0x15a1bc=_0x398259(0x1aa),_0x491923=_0x22fda0 instanceof Error?_0x22fda0[_0x398259(0x729)]:typeof _0x22fda0=='object'?JSON[_0x398259(0x454)](_0x22fda0):_0x22fda0,_0x47f8bd=_0x15a1bc+':\x20'+_0x491923;throw this['logger'][_0x398259(0x299)](this['instanceName']+'\x20('+this[_0x398259(0x70d)][_0x398259(0x1ef)]+_0x398259(0x538)+_0x47f8bd),new m(_0x47f8bd);}}async[a0_0x1eb7af(0x245)](){const _0x170ec4=a0_0x1eb7af;try{let _0x1f3cf5=await this[_0x170ec4(0x1a2)][_0x170ec4(0x430)]['findOrCreate'](this['instance'][_0x170ec4(0x1ef)]);return this[_0x170ec4(0x3bb)]=_0x1f3cf5,this['logger'][_0x170ec4(0x4e7)](this[_0x170ec4(0x1fc)]+'\x20('+this[_0x170ec4(0x70d)][_0x170ec4(0x1ef)]+_0x170ec4(0x5f3)),this['logger'][_0x170ec4(0x4e7)](this[_0x170ec4(0x3bb)]),_0x1f3cf5;}catch(_0x1dfb18){let _0xfbc6bd=_0x170ec4(0x737),_0x180ca2=_0x1dfb18 instanceof Error?_0x1dfb18['message']:typeof _0x1dfb18=='object'?JSON[_0x170ec4(0x454)](_0x1dfb18):_0x1dfb18,_0x113ce7=_0xfbc6bd+':\x20'+_0x180ca2;throw this[_0x170ec4(0x6d5)][_0x170ec4(0x299)](this['instanceName']+'\x20('+this['instance'][_0x170ec4(0x1ef)]+_0x170ec4(0x538)+_0x113ce7),new m(_0x113ce7);}}async[a0_0x1eb7af(0x6ae)](){const _0x503774=a0_0x1eb7af;this[_0x503774(0x70d)][_0x503774(0x349)][_0x503774(0x703)]&&clearTimeout(this[_0x503774(0x70d)][_0x503774(0x349)]['timeout']),this[_0x503774(0x70d)][_0x503774(0x349)][_0x503774(0x703)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x2f805a=a0_0x1eb7af;Date[_0x2f805a(0x4e4)]()-this[_0x2f805a(0x70d)][_0x2f805a(0x349)][_0x2f805a(0x6df)]>=0x1d4c0&&(this[_0x2f805a(0x6d5)][_0x2f805a(0x4e7)](this[_0x2f805a(0x1fc)]+'\x20('+this[_0x2f805a(0x70d)]['wuid']+_0x2f805a(0x34c)),this[_0x2f805a(0x70d)]['ScheduleMessage']['processing_id']=null,this[_0x2f805a(0x70d)][_0x2f805a(0x349)]['lastSend']=0x0,this['instance'][_0x2f805a(0x349)][_0x2f805a(0x26d)]=0x0,await this[_0x2f805a(0x595)]());}async[a0_0x1eb7af(0x595)](){const _0x404d7b=a0_0x1eb7af;let _0x27c8ad=()=>{const _0x30925b=a0_0x4c0f;this[_0x30925b(0x6d5)][_0x30925b(0x4e7)](this[_0x30925b(0x1fc)]+'\x20('+this[_0x30925b(0x70d)][_0x30925b(0x1ef)]+_0x30925b(0x6ee)+this[_0x30925b(0x70d)][_0x30925b(0x349)][_0x30925b(0x1a8)]+_0x30925b(0x2bf));},_0x376406=async()=>{const _0xb08ab0=a0_0x4c0f;this[_0xb08ab0(0x6d5)][_0xb08ab0(0x4e7)](this[_0xb08ab0(0x1fc)]+'\x20('+this[_0xb08ab0(0x70d)][_0xb08ab0(0x1ef)]+_0xb08ab0(0x692));let _0x5a5674=Date[_0xb08ab0(0x4e4)]()-0xc*0x3c*0x3c*0x3e8,_0x230c52={'where':{'status':{'$in':['scheduled',_0xb08ab0(0x420)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x5a5674}},{'when':0x0}]}};return await this['repository'][_0xb08ab0(0x3dc)]['find'](_0x230c52,this[_0xb08ab0(0x70d)][_0xb08ab0(0x1ef)]);},_0xf8aa3b=async _0x17364c=>{const _0x572ea4=a0_0x4c0f;for(let _0x56e7f1 of _0x17364c){let _0x1f0679={'_id':_0x56e7f1[_0x572ea4(0x710)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x572ea4(0x4e4)]()-0x1770}}]},_0x28ec2d={'startSend':Date[_0x572ea4(0x4e4)]()};if(!await this['repository'][_0x572ea4(0x3dc)][_0x572ea4(0x393)](_0x1f0679,_0x28ec2d,this[_0x572ea4(0x70d)][_0x572ea4(0x1ef)]))return;if(!this['instance'][_0x572ea4(0x349)][_0x572ea4(0x547)]){this['logger']['verbose'](this[_0x572ea4(0x1fc)]+'\x20('+this[_0x572ea4(0x70d)]['wuid']+_0x572ea4(0x4b7));break;}if(_0x56e7f1[_0x572ea4(0x813)]===_0x572ea4(0x779)&&!this['AutomateSystem']?.[_0x572ea4(0x24f)]['enabled']){this[_0x572ea4(0x6d5)]['error'](this[_0x572ea4(0x1fc)]+'\x20('+this[_0x572ea4(0x70d)][_0x572ea4(0x1ef)]+_0x572ea4(0x3c5));continue;}(!_0x56e7f1[_0x572ea4(0x612)]||_0x56e7f1[_0x572ea4(0x612)][_0x572ea4(0x3fe)]===0x0)&&(_0x56e7f1=await this['repository'][_0x572ea4(0x3dc)]['updateOneById'](_0x56e7f1['_id'],{'status':_0x572ea4(0x420),'remoteJidsRemaining':[..._0x56e7f1[_0x572ea4(0x2d7)]]},this[_0x572ea4(0x70d)][_0x572ea4(0x1ef)]));for(let _0x2a5b1f of _0x56e7f1[_0x572ea4(0x612)]){if(await this[_0x572ea4(0x6ae)](),this[_0x572ea4(0x70d)][_0x572ea4(0x349)][_0x572ea4(0x6df)]=Date[_0x572ea4(0x4e4)](),this[_0x572ea4(0x70d)]['ScheduleMessage']['ultimaTentativaRemoteJid']===_0x2a5b1f){this[_0x572ea4(0x6d5)][_0x572ea4(0x299)](this[_0x572ea4(0x1fc)]+'\x20('+this['instance']['wuid']+_0x572ea4(0x4c5)+_0x2a5b1f+_0x572ea4(0x4a1));let _0x2ad0f5={'$push':{'messagesSend':{'remoteJid':_0x2a5b1f,'error':!0x0,'id':null,'error_log':'Falha\x20após\x20várias\x20tentativas.','log_timestamp':Date[_0x572ea4(0x4e4)]()}},'$pull':{'remoteJidsRemaining':_0x2a5b1f}};await this[_0x572ea4(0x1a2)][_0x572ea4(0x3dc)][_0x572ea4(0x635)](_0x56e7f1[_0x572ea4(0x710)],_0x2ad0f5,this[_0x572ea4(0x70d)][_0x572ea4(0x1ef)]);continue;}if(this[_0x572ea4(0x70d)][_0x572ea4(0x349)]['ultimaTentativaRemoteJid']=_0x2a5b1f,_0x56e7f1['messagesSend'][_0x572ea4(0x31e)](_0x2e1490=>_0x2e1490[_0x572ea4(0x4c9)]===_0x2a5b1f)){this['logger'][_0x572ea4(0x4e7)](this['instanceName']+'\x20('+this[_0x572ea4(0x70d)][_0x572ea4(0x1ef)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x2a5b1f+'.\x20Pulando.');continue;}if(!this[_0x572ea4(0x70d)][_0x572ea4(0x349)][_0x572ea4(0x547)]){this[_0x572ea4(0x6d5)][_0x572ea4(0x4e7)](this[_0x572ea4(0x1fc)]+'\x20('+this['instance'][_0x572ea4(0x1ef)]+_0x572ea4(0x5d1));break;}if(!this[_0x572ea4(0x70d)]['ScheduleMessage']['processing_id']){this[_0x572ea4(0x6d5)]['verbose'](this[_0x572ea4(0x1fc)]+'\x20('+this[_0x572ea4(0x70d)][_0x572ea4(0x1ef)]+_0x572ea4(0x11b)+_0x56e7f1['_id']+_0x572ea4(0x37f));break;}if(_0x56e7f1['type']===_0x572ea4(0x779)&&!this[_0x572ea4(0x3bb)]?.[_0x572ea4(0x24f)]['enabled']){this[_0x572ea4(0x6d5)][_0x572ea4(0x299)](this[_0x572ea4(0x1fc)]+'\x20('+this['instance'][_0x572ea4(0x1ef)]+_0x572ea4(0x3c5));break;}let _0x3c964c={'remoteJid':_0x2a5b1f,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x572ea4(0x4e4)]()},_0x5ecca1=null;try{let _0x538c95=await this['SendScheduleMessage'](_0x2a5b1f,_0x56e7f1);_0x3c964c[_0x572ea4(0x299)]=_0x538c95[_0x572ea4(0x299)],_0x3c964c['id']=_0x538c95['error']?null:_0x538c95['id'],_0x3c964c['error_log']=_0x538c95[_0x572ea4(0x299)]?_0x538c95['detail']?_0x538c95[_0x572ea4(0x33d)]['toString']():'':null;let _0x27ddb2={'$push':{'messagesSend':_0x3c964c},'$pull':{'remoteJidsRemaining':_0x2a5b1f}},_0x2f82c5=_0x56e7f1['_id'];if(_0x5ecca1=await this[_0x572ea4(0x1a2)][_0x572ea4(0x3dc)][_0x572ea4(0x635)](_0x2f82c5,_0x27ddb2,this[_0x572ea4(0x70d)][_0x572ea4(0x1ef)]),_0x538c95[_0x572ea4(0x299)])continue;let _0x1e25ea=this['getDelay'](_0x56e7f1[_0x572ea4(0x156)],_0x56e7f1['delaySecMax']);await this['sleep'](_0x1e25ea);}catch(_0x28dac8){this[_0x572ea4(0x6d5)][_0x572ea4(0x299)](this[_0x572ea4(0x1fc)]+'\x20('+this[_0x572ea4(0x70d)][_0x572ea4(0x1ef)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x2a5b1f+':\x20'+(_0x28dac8 instanceof Error?_0x28dac8[_0x572ea4(0x729)]:JSON[_0x572ea4(0x454)](_0x28dac8,null,0x2))),_0x3c964c[_0x572ea4(0x299)]=!0x0,_0x3c964c[_0x572ea4(0x3ed)]=_0x28dac8[_0x572ea4(0x729)];let _0x21269f={'$push':{'messagesSend':_0x3c964c},'$pull':{'remoteJidsRemaining':_0x2a5b1f}},_0x55a0d2=_0x56e7f1[_0x572ea4(0x710)];_0x5ecca1=await this[_0x572ea4(0x1a2)][_0x572ea4(0x3dc)][_0x572ea4(0x635)](_0x55a0d2,_0x21269f,this[_0x572ea4(0x70d)][_0x572ea4(0x1ef)]);}finally{if(_0x5ecca1&&_0x5ecca1[_0x572ea4(0x771)]===_0x572ea4(0x774)){this[_0x572ea4(0x6d5)]['verbose'](this[_0x572ea4(0x1fc)]+'\x20('+this[_0x572ea4(0x70d)]['wuid']+_0x572ea4(0x11b)+_0x56e7f1[_0x572ea4(0x710)]+_0x572ea4(0x607));break;}}}let _0x4a4942=await this[_0x572ea4(0x1a2)]['scheduleMessage'][_0x572ea4(0x44b)](_0x56e7f1[_0x572ea4(0x710)],this[_0x572ea4(0x70d)][_0x572ea4(0x1ef)]);if(_0x4a4942[_0x572ea4(0x612)][_0x572ea4(0x3fe)]===0x0&&_0x4a4942[_0x572ea4(0x771)]!==_0x572ea4(0x774)){this[_0x572ea4(0x70d)][_0x572ea4(0x349)][_0x572ea4(0x2f8)]=null;let _0x427315={'$set':{'status':_0x572ea4(0x2ae)}},_0x3f039f=_0x4a4942[_0x572ea4(0x710)];await this[_0x572ea4(0x1a2)]['scheduleMessage'][_0x572ea4(0x635)](_0x3f039f,_0x427315,this[_0x572ea4(0x70d)][_0x572ea4(0x1ef)]);}await new Promise(_0x5f2512=>setTimeout(_0x5f2512,0x1388));}},_0x37dffa=async()=>{const _0x38f926=a0_0x4c0f;let _0x4a0c6f={'where':{'status':_0x38f926(0x573),'when':{'$gt':Date['now']()}}},_0x1938ca=await this['repository'][_0x38f926(0x3dc)][_0x38f926(0x1be)](_0x4a0c6f,this[_0x38f926(0x70d)][_0x38f926(0x1ef)]);_0x1938ca&&_0x1938ca[_0x38f926(0x4c1)]-Date[_0x38f926(0x4e4)]()<=0x5265c00?this[_0x38f926(0x70d)]['ScheduleMessage'][_0x38f926(0x26d)]=_0x1938ca[_0x38f926(0x4c1)]-Date['now']():this[_0x38f926(0x70d)][_0x38f926(0x349)][_0x38f926(0x26d)]=(0x3c+Math['floor'](Math[_0x38f926(0x1a6)]()*0x3c))*0x3c*0x3e8,this['instance'][_0x38f926(0x349)]['delayMessage']=Math[_0x38f926(0x4ba)](this[_0x38f926(0x70d)][_0x38f926(0x349)][_0x38f926(0x26d)],0x7d0);let _0x2dbac5=Math[_0x38f926(0x816)](this[_0x38f926(0x70d)][_0x38f926(0x349)][_0x38f926(0x26d)]/0xea60);if(_0x1938ca){let _0xf519e2=new Date(_0x1938ca[_0x38f926(0x4c1)])[_0x38f926(0x1ac)]();this['logger'][_0x38f926(0x4e7)](this[_0x38f926(0x1fc)]+'\x20('+this[_0x38f926(0x70d)][_0x38f926(0x1ef)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0xf519e2+_0x38f926(0x338)+_0x2dbac5+_0x38f926(0x1fe));}else this[_0x38f926(0x6d5)][_0x38f926(0x4e7)](this['instanceName']+'\x20('+this[_0x38f926(0x70d)][_0x38f926(0x1ef)]+_0x38f926(0x543)+_0x2dbac5+_0x38f926(0x1fe));setTimeout(()=>this[_0x38f926(0x595)](),this[_0x38f926(0x70d)]['ScheduleMessage'][_0x38f926(0x26d)]);};if(this[_0x404d7b(0x70d)][_0x404d7b(0x349)][_0x404d7b(0x1a8)]){await this[_0x404d7b(0x6ae)](),_0x27c8ad();return;}if(!this['instance']['ScheduleMessage']['isConnected']){this[_0x404d7b(0x6d5)][_0x404d7b(0x4e7)](this['instanceName']+'\x20('+this[_0x404d7b(0x70d)][_0x404d7b(0x1ef)]+_0x404d7b(0x255)),this['instance'][_0x404d7b(0x349)][_0x404d7b(0x1a8)]=null,this[_0x404d7b(0x70d)][_0x404d7b(0x349)][_0x404d7b(0x6df)]=0x0,this[_0x404d7b(0x70d)][_0x404d7b(0x349)][_0x404d7b(0x26d)]=0x0,this[_0x404d7b(0x70d)][_0x404d7b(0x349)][_0x404d7b(0x2f8)]=null;return;}try{let _0x45ab12=await _0x376406();_0x45ab12[_0x404d7b(0x3fe)]===0x0?this['logger'][_0x404d7b(0x4e7)](this['instanceName']+'\x20('+this['instance'][_0x404d7b(0x1ef)]+_0x404d7b(0x2ea)):(this[_0x404d7b(0x70d)][_0x404d7b(0x349)][_0x404d7b(0x1a8)]=_0x45ab12[0x0]['_id'],await _0xf8aa3b(_0x45ab12)),await _0x37dffa(),this[_0x404d7b(0x70d)][_0x404d7b(0x349)][_0x404d7b(0x1a8)]=null,this[_0x404d7b(0x70d)]['ScheduleMessage'][_0x404d7b(0x2f8)]=null;}catch(_0x3d822a){this[_0x404d7b(0x6d5)][_0x404d7b(0x299)](_0x404d7b(0x33f)+(_0x3d822a instanceof Error?_0x3d822a[_0x404d7b(0x729)]:JSON[_0x404d7b(0x454)](_0x3d822a,null,0x2)));}}['getDelay'](_0x81e25b,_0x587c6a){const _0x5bb558=a0_0x1eb7af;return _0x81e25b=Math['max'](0.5,_0x81e25b),_0x587c6a=Math[_0x5bb558(0x6b1)](Math[_0x5bb558(0x4ba)](0x3,_0x587c6a),0x78),Math[_0x5bb558(0x608)](Math[_0x5bb558(0x1a6)]()*(_0x587c6a-_0x81e25b+0x1)+_0x81e25b)*0x3e8;}[a0_0x1eb7af(0x81d)](_0x16f3f9){return new Promise(_0x20d188=>setTimeout(_0x20d188,_0x16f3f9));}async[a0_0x1eb7af(0x166)](_0x4026ad){const _0x249802=a0_0x1eb7af;if(!this[_0x249802(0x3bb)]&&(await this[_0x249802(0x245)](),!this['AutomateSystem']))return null;_0x4026ad=this[_0x249802(0x279)](_0x4026ad);let _0x409bc9=await this[_0x249802(0x1a2)][_0x249802(0x142)][_0x249802(0x1be)]({'where':{'_id':_0x4026ad}},this[_0x249802(0x70d)]['wuid']),_0x498a79={};if(_0x409bc9&&_0x409bc9['leadInfo']){let _0xe60f9c=_0x409bc9['leadInfo'];typeof _0xe60f9c[_0x249802(0xea)]==_0x249802(0x30b)&&(_0x498a79[_0x249802(0xea)]=_0xe60f9c['nome']),typeof _0xe60f9c[_0x249802(0x7a2)]==_0x249802(0x30b)&&(_0x498a79[_0x249802(0x7a2)]=_0xe60f9c[_0x249802(0x7a2)]),typeof _0xe60f9c[_0x249802(0x5ff)]==_0x249802(0x30b)&&(_0x498a79[_0x249802(0x5ff)]=_0xe60f9c[_0x249802(0x5ff)]),typeof _0xe60f9c[_0x249802(0x262)]==_0x249802(0x30b)&&(_0x498a79['cpf']=_0xe60f9c['cpf']),typeof _0xe60f9c[_0x249802(0x771)]=='string'&&(_0x498a79[_0x249802(0x771)]=_0xe60f9c[_0x249802(0x771)]),typeof _0xe60f9c['notas']==_0x249802(0x30b)&&(_0x498a79[_0x249802(0x390)]=_0xe60f9c[_0x249802(0x390)]),typeof _0xe60f9c[_0x249802(0x282)]=='string'&&(_0x498a79[_0x249802(0x282)]=_0xe60f9c[_0x249802(0x282)]),Array['isArray'](_0xe60f9c[_0x249802(0x49f)])&&(_0x498a79[_0x249802(0x49f)]=_0xe60f9c['tags'][_0x249802(0x17d)](',\x20')),Array[_0x249802(0x50d)](_0xe60f9c[_0x249802(0x1d2)])&&(_0x498a79[_0x249802(0x1d2)]=_0xe60f9c[_0x249802(0x1d2)][_0x249802(0x17d)](',\x20'));}return _0x409bc9&&_0x409bc9['leadInfo']&&_0x409bc9[_0x249802(0x523)]['customFields']&&_0x409bc9[_0x249802(0x523)]['customFields'][_0x249802(0x7d3)](_0x236caf=>{const _0x4c8c67=_0x249802;let _0x162b3f=this[_0x4c8c67(0x3bb)]?.['customFields'][_0x4c8c67(0x7a9)](_0x2e5885=>_0x2e5885[_0x4c8c67(0x710)]===_0x236caf[_0x4c8c67(0x710)]);_0x162b3f&&(_0x498a79[_0x162b3f['name']]=_0x236caf[_0x4c8c67(0x71d)]);}),_0x498a79;}async['replaceVariablesChat'](_0x3ee6d5,_0x2ab4f8){const _0x7ed5ce=a0_0x1eb7af;try{let _0x280b93=await this['getVariablesChat'](_0x2ab4f8);return this[_0x7ed5ce(0x5a9)](_0x3ee6d5,_0x280b93);}catch(_0x2cfde9){return this['logger'][_0x7ed5ce(0x299)](_0x7ed5ce(0x4cc)+_0x2ab4f8+':\x20'+_0x2cfde9),_0x3ee6d5;}}async['editScheduleMessage'](_0x4fb9f2){const _0xdb38c8=a0_0x1eb7af;try{if(this[_0xdb38c8(0x6d5)][_0xdb38c8(0x4e7)](this[_0xdb38c8(0x1fc)]+'\x20('+this[_0xdb38c8(0x70d)][_0xdb38c8(0x1ef)]+_0xdb38c8(0x6c4)),_0x4fb9f2['delete']&&_0x4fb9f2[_0xdb38c8(0x710)]){if(this[_0xdb38c8(0x70d)][_0xdb38c8(0x349)][_0xdb38c8(0x1a8)]===_0x4fb9f2[_0xdb38c8(0x710)][_0xdb38c8(0x725)]())throw new Error(_0xdb38c8(0x57b));let _0x3e96fb=await this[_0xdb38c8(0x1a2)][_0xdb38c8(0x3dc)][_0xdb38c8(0x81c)](_0x4fb9f2['_id'],this['instance'][_0xdb38c8(0x1ef)]);return setTimeout(()=>this[_0xdb38c8(0x595)](),0x7d0),_0x3e96fb;}let _0x4d0951;if(_0x4fb9f2[_0xdb38c8(0x710)]&&(_0x4d0951=await this[_0xdb38c8(0x1a2)]['scheduleMessage'][_0xdb38c8(0x44b)](_0x4fb9f2['_id'],this[_0xdb38c8(0x70d)][_0xdb38c8(0x1ef)])),_0x4d0951){let _0x560f5c;if(this['instance'][_0xdb38c8(0x349)][_0xdb38c8(0x1a8)]===_0x4d0951[_0xdb38c8(0x710)][_0xdb38c8(0x725)]())_0x560f5c={'$set':{'status':_0x4fb9f2[_0xdb38c8(0x771)]}};else{let {_id:_0x519913,..._0x5ec8b8}=_0x4fb9f2;_0x560f5c={'$set':_0x5ec8b8};}let _0x27e12e=await this[_0xdb38c8(0x1a2)]['scheduleMessage']['updateOneById'](_0x4fb9f2[_0xdb38c8(0x710)],_0x560f5c,this[_0xdb38c8(0x70d)][_0xdb38c8(0x1ef)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x27e12e;}else{_0x4fb9f2['owner']=this[_0xdb38c8(0x70d)][_0xdb38c8(0x1ef)];let _0x1235e6=await this[_0xdb38c8(0x1a2)][_0xdb38c8(0x3dc)][_0xdb38c8(0x2a6)](_0x4fb9f2,this[_0xdb38c8(0x70d)][_0xdb38c8(0x1ef)]);return setTimeout(()=>this[_0xdb38c8(0x595)](),0x7d0),_0x1235e6;}}catch(_0x4801e3){let _0x208ff2=_0xdb38c8(0x4fa),_0x4cb71b=_0x4801e3 instanceof Error?_0x4801e3['message']:typeof _0x4801e3=='object'?JSON[_0xdb38c8(0x454)](_0x4801e3):_0x4801e3,_0x3461c9=_0x208ff2+':\x20'+_0x4cb71b;throw this[_0xdb38c8(0x6d5)]['error'](this['instanceName']+'\x20('+this[_0xdb38c8(0x70d)][_0xdb38c8(0x1ef)]+_0xdb38c8(0x538)+_0x3461c9),new m(_0x3461c9);}}async[a0_0x1eb7af(0x374)](){const _0x4d8d10=a0_0x1eb7af;try{return await this['repository']['scheduleMessage'][_0x4d8d10(0x7a9)]({'where':{}},this[_0x4d8d10(0x70d)][_0x4d8d10(0x1ef)]);}catch(_0x9adf87){let _0x166f90='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x10b344=_0x9adf87 instanceof Error?_0x9adf87[_0x4d8d10(0x729)]:typeof _0x9adf87==_0x4d8d10(0x23d)?JSON[_0x4d8d10(0x454)](_0x9adf87):_0x9adf87,_0x466fd1=_0x166f90+':\x20'+_0x10b344;throw this[_0x4d8d10(0x6d5)][_0x4d8d10(0x299)](this[_0x4d8d10(0x1fc)]+'\x20('+this[_0x4d8d10(0x70d)][_0x4d8d10(0x1ef)]+_0x4d8d10(0x538)+_0x466fd1),new m(_0x466fd1);}}async[a0_0x1eb7af(0x6c3)](){const _0x1e039e=a0_0x1eb7af;try{let _0x3eca93={'status':_0x1e039e(0x2ae)},_0x1cbadd=await this[_0x1e039e(0x1a2)][_0x1e039e(0x3dc)][_0x1e039e(0x5d5)](_0x3eca93,this[_0x1e039e(0x70d)][_0x1e039e(0x1ef)]);if(!_0x1cbadd[_0x1e039e(0x299)])this[_0x1e039e(0x6d5)][_0x1e039e(0x4e7)](this['instanceName']+'\x20('+this[_0x1e039e(0x70d)]['wuid']+_0x1e039e(0x3f4));else throw new Error(_0x1cbadd['error'][_0x1e039e(0x729)]||_0x1e039e(0x291));return this[_0x1e039e(0x374)]();}catch(_0x22a7e3){let _0x3405c2=_0x1e039e(0x31b),_0x99dbe1=_0x22a7e3 instanceof Error?_0x22a7e3[_0x1e039e(0x729)]:typeof _0x22a7e3=='object'?JSON[_0x1e039e(0x454)](_0x22a7e3):_0x22a7e3,_0x1bfd3d=_0x3405c2+':\x20'+_0x99dbe1;throw this[_0x1e039e(0x6d5)][_0x1e039e(0x299)](this['instanceName']+'\x20('+this[_0x1e039e(0x70d)][_0x1e039e(0x1ef)]+_0x1e039e(0x538)+_0x1bfd3d),new m(_0x1bfd3d);}}async[a0_0x1eb7af(0x2d3)](_0x510d7f,_0x358490){const _0x28877e=a0_0x1eb7af;try{if(_0x358490['type']===_0x28877e(0x779)&&!this[_0x28877e(0x3bb)]?.['flowConfig']['enabled'])return this['logger'][_0x28877e(0x299)](this[_0x28877e(0x1fc)]+'\x20('+this[_0x28877e(0x70d)][_0x28877e(0x1ef)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x28877e(0x398)};switch(_0x358490[_0x28877e(0x813)]){case _0x28877e(0x3e8):return await this['scheduleSendText'](_0x358490,_0x510d7f);case _0x28877e(0x1f9):return await this[_0x28877e(0x615)](_0x358490,_0x510d7f);case _0x28877e(0x52e):return await this[_0x28877e(0x4eb)](_0x358490,_0x510d7f);case _0x28877e(0x779):let _0x1eacec=new We();return _0x1eacec[_0x28877e(0x587)]=_0x358490[_0x28877e(0x28a)],_0x1eacec['remoteJid']=_0x510d7f,await this[_0x28877e(0x102)](_0x1eacec);break;default:return this[_0x28877e(0x6d5)][_0x28877e(0x299)](this[_0x28877e(0x1fc)]+'\x20('+this[_0x28877e(0x70d)]['wuid']+_0x28877e(0x682)+_0x358490['type']),{'error':!0x0,'detail':_0x28877e(0x1d6)};}}catch(_0x4e9eca){return this[_0x28877e(0x6d5)][_0x28877e(0x299)](this[_0x28877e(0x1fc)]+'\x20('+this[_0x28877e(0x70d)][_0x28877e(0x1ef)]+_0x28877e(0x6dd)+(_0x4e9eca instanceof Error?_0x4e9eca[_0x28877e(0x729)]:JSON[_0x28877e(0x454)](_0x4e9eca,null,0x2))),{'error':!0x0,'detail':_0x4e9eca[_0x28877e(0x729)]};}}[a0_0x1eb7af(0x197)](_0x4abeae){const _0x41ce30=a0_0x1eb7af;let _0x39268e=_0x4abeae[_0x41ce30(0x17f)]('|'),_0x4669f2=Math[_0x41ce30(0x608)](Math[_0x41ce30(0x1a6)]()*_0x39268e[_0x41ce30(0x3fe)]);return _0x39268e[_0x4669f2][_0x41ce30(0x30f)]();}async[a0_0x1eb7af(0x7c9)](_0x4f3c44,_0x562650){const _0x6ed5e2=a0_0x1eb7af;if(this[_0x6ed5e2(0x6d5)][_0x6ed5e2(0x4e7)](this[_0x6ed5e2(0x1fc)]+'\x20('+this[_0x6ed5e2(0x70d)]['wuid']+_0x6ed5e2(0x307)+_0x562650+'\x27'),!_0x4f3c44[_0x6ed5e2(0x729)]['text']||_0x4f3c44['message'][_0x6ed5e2(0x3e8)][_0x6ed5e2(0x3fe)]===0x0)return{'error':!0x0,'detail':_0x6ed5e2(0x371)};let _0x3dbd9f=this[_0x6ed5e2(0x197)](_0x4f3c44[_0x6ed5e2(0x729)][_0x6ed5e2(0x3e8)]),_0x3c8d23=await this[_0x6ed5e2(0x715)](_0x3dbd9f,_0x562650),_0x109a70={'number':_0x562650,'options':{'delay':_0x4f3c44[_0x6ed5e2(0x729)][_0x6ed5e2(0x30a)],'linkPreview':_0x4f3c44[_0x6ed5e2(0x729)]['linkPreview']},'textMessage':{'text':_0x3c8d23}},_0x4a5c37=null;try{let _0x275eb1=await this['textMessage'](_0x109a70);if(_0x275eb1&&_0x275eb1['status'])return{'error':!0x1,'id':_0x275eb1[_0x6ed5e2(0x6b3)]['id']};_0x4a5c37=JSON[_0x6ed5e2(0x454)](_0x275eb1),this[_0x6ed5e2(0x6d5)][_0x6ed5e2(0x4e7)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x6ed5e2(0x538)+_0x4a5c37);}catch(_0x438f5e){this[_0x6ed5e2(0x6d5)][_0x6ed5e2(0x299)](this[_0x6ed5e2(0x1fc)]+'\x20('+this[_0x6ed5e2(0x70d)][_0x6ed5e2(0x1ef)]+_0x6ed5e2(0x2ff)+(_0x438f5e instanceof Error?_0x438f5e[_0x6ed5e2(0x729)]:JSON[_0x6ed5e2(0x454)](_0x438f5e,null,0x2))),_0x4a5c37=_0x438f5e['message'];}if(_0x4a5c37)return{'error':!0x0,'detail':(typeof _0x4a5c37=='object'?JSON[_0x6ed5e2(0x454)](_0x4a5c37,null,0x2):_0x4a5c37)[_0x6ed5e2(0x517)](/[\[\]{}\n]/g,'\x20')[_0x6ed5e2(0x517)](/  +/g,'\x20')};}async[a0_0x1eb7af(0x615)](_0x5e2d58,_0x3befe0){const _0x282d88=a0_0x1eb7af;this['logger'][_0x282d88(0x4e7)](this['instanceName']+'\x20('+this[_0x282d88(0x70d)][_0x282d88(0x1ef)]+_0x282d88(0x554)+_0x3befe0+'\x27');let _0x404b08;if(_0x5e2d58['message'][_0x282d88(0x3e8)]&&_0x5e2d58['message']['text']['length']>0x0){let _0x414293=this[_0x282d88(0x197)](_0x5e2d58['message']['text']);_0x404b08=await this['replaceVariablesChat'](_0x414293,_0x3befe0);}let _0x2b6904={'number':_0x3befe0,'options':{'delay':_0x5e2d58[_0x282d88(0x729)][_0x282d88(0x30a)],'linkPreview':_0x5e2d58[_0x282d88(0x729)][_0x282d88(0x334)]},'mediaMessage':{'mediatype':_0x5e2d58[_0x282d88(0x729)]['mediatype'],'caption':_0x404b08,'media':_0x5e2d58[_0x282d88(0x729)][_0x282d88(0x449)]}},_0x1d8ad8=null;try{let _0x37dfcf=await this[_0x282d88(0x40d)](_0x2b6904);if(_0x37dfcf&&_0x37dfcf[_0x282d88(0x771)])return{'error':!0x1,'id':_0x37dfcf['key']['id']};_0x1d8ad8=JSON['stringify'](_0x37dfcf),this[_0x282d88(0x6d5)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x282d88(0x1ef)]+_0x282d88(0x538)+_0x1d8ad8);}catch(_0x9d9e25){this[_0x282d88(0x6d5)]['error'](this[_0x282d88(0x1fc)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x9d9e25 instanceof Error?_0x9d9e25[_0x282d88(0x729)]:JSON[_0x282d88(0x454)](_0x9d9e25,null,0x2))),_0x1d8ad8=_0x9d9e25[_0x282d88(0x729)];}if(_0x1d8ad8)return{'error':!0x0,'detail':(typeof _0x1d8ad8==_0x282d88(0x23d)?JSON[_0x282d88(0x454)](_0x1d8ad8,null,0x2):_0x1d8ad8)[_0x282d88(0x517)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x1eb7af(0x4eb)](_0x61e429,_0x1a5791){const _0xc266a2=a0_0x1eb7af;this[_0xc266a2(0x6d5)][_0xc266a2(0x4e7)](this['instanceName']+'\x20('+this[_0xc266a2(0x70d)][_0xc266a2(0x1ef)]+_0xc266a2(0x4f4)+_0x1a5791+'\x27');let _0x5a1a12={'number':_0x1a5791,'options':{'delay':_0x61e429[_0xc266a2(0x729)]['delay']},'audioMessage':{'audio':_0x61e429['message'][_0xc266a2(0x449)]}},_0x37504f=null;try{let _0x569978=await this[_0xc266a2(0x63a)](_0x5a1a12);if(_0x569978&&_0x569978[_0xc266a2(0x771)])return{'error':!0x1,'id':_0x569978[_0xc266a2(0x6b3)]['id']};_0x37504f=JSON['stringify'](_0x569978),this[_0xc266a2(0x6d5)][_0xc266a2(0x4e7)](this[_0xc266a2(0x1fc)]+'\x20('+this[_0xc266a2(0x70d)][_0xc266a2(0x1ef)]+_0xc266a2(0x538)+_0x37504f);}catch(_0x1ef1c3){this['logger'][_0xc266a2(0x299)](this['instanceName']+'\x20('+this[_0xc266a2(0x70d)]['wuid']+_0xc266a2(0x580)+(_0x1ef1c3 instanceof Error?_0x1ef1c3[_0xc266a2(0x729)]:JSON['stringify'](_0x1ef1c3,null,0x2))),_0x37504f=_0x1ef1c3[_0xc266a2(0x729)];}if(_0x37504f)return{'error':!0x0,'detail':(typeof _0x37504f==_0xc266a2(0x23d)?JSON[_0xc266a2(0x454)](_0x37504f,null,0x2):_0x37504f)[_0xc266a2(0x517)](/[\[\]{}\n]/g,'\x20')[_0xc266a2(0x517)](/  +/g,'\x20')};}async['groupDesc'](_0x1c300e){const _0x1883e9=a0_0x1eb7af;try{return await this[_0x1883e9(0x5ce)][_0x1883e9(0x6c9)](_0x1c300e['groupJid'],_0x1c300e[_0x1883e9(0x2bc)]),{'update':'success'};}catch(_0x506ab9){let _0x2d9fed=_0x1883e9(0x4c7),_0x48ae49=_0x506ab9 instanceof Error?_0x506ab9[_0x1883e9(0x729)]:typeof _0x506ab9==_0x1883e9(0x23d)?JSON[_0x1883e9(0x454)](_0x506ab9):_0x506ab9,_0x162d69=_0x2d9fed+':\x20'+_0x48ae49;throw this[_0x1883e9(0x6d5)][_0x1883e9(0x299)](this[_0x1883e9(0x1fc)]+'\x20('+this['instance']['wuid']+_0x1883e9(0x538)+_0x162d69),new _(_0x162d69);}}async[a0_0x1eb7af(0x30c)](_0x450299){const _0x1d2847=a0_0x1eb7af;try{return await this[_0x1d2847(0x5ce)][_0x1d2847(0x721)](_0x450299[_0x1d2847(0x13d)],_0x450299['name']),{'update':_0x1d2847(0x540)};}catch(_0x5e4742){let _0x33f586=_0x1d2847(0x71f),_0x411662=_0x5e4742 instanceof Error?_0x5e4742[_0x1d2847(0x729)]:typeof _0x5e4742==_0x1d2847(0x23d)?JSON[_0x1d2847(0x454)](_0x5e4742):_0x5e4742,_0x25cf88=_0x33f586+':\x20'+_0x411662;throw this[_0x1d2847(0x6d5)][_0x1d2847(0x299)](this[_0x1d2847(0x1fc)]+'\x20('+this[_0x1d2847(0x70d)][_0x1d2847(0x1ef)]+_0x1d2847(0x538)+_0x25cf88),new _(_0x25cf88);}}async[a0_0x1eb7af(0x70c)](_0x1f42f5){const _0x59fc76=a0_0x1eb7af;try{let _0xa521d3=await this[_0x59fc76(0x5ce)][_0x59fc76(0x4aa)](_0x1f42f5['groupJid'],_0x1f42f5['expiration']);return{'success':!0x0};}catch(_0x2d00a1){let _0x5f1cba='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x520b39=_0x2d00a1 instanceof Error?_0x2d00a1[_0x59fc76(0x729)]:typeof _0x2d00a1=='object'?JSON['stringify'](_0x2d00a1):_0x2d00a1,_0x2102a3=_0x5f1cba+':\x20'+_0x520b39;throw this[_0x59fc76(0x6d5)][_0x59fc76(0x299)](this[_0x59fc76(0x1fc)]+'\x20('+this[_0x59fc76(0x70d)][_0x59fc76(0x1ef)]+_0x59fc76(0x538)+_0x2102a3),new _(_0x2102a3);}}async[a0_0x1eb7af(0x27b)](_0x5b1c68){const _0x57255c=a0_0x1eb7af;try{return await this[_0x57255c(0x5ce)]['groupSettingUpdate'](_0x5b1c68[_0x57255c(0x13d)],_0x5b1c68[_0x57255c(0x55e)]),{'update':'success'};}catch(_0x5e0f78){let _0x46f73f=_0x57255c(0x2fa),_0x39b253=_0x5e0f78 instanceof Error?_0x5e0f78[_0x57255c(0x729)]:typeof _0x5e0f78==_0x57255c(0x23d)?JSON[_0x57255c(0x454)](_0x5e0f78):_0x5e0f78,_0x4b4d40=_0x46f73f+':\x20'+_0x39b253;throw this['logger'][_0x57255c(0x299)](this[_0x57255c(0x1fc)]+'\x20('+this[_0x57255c(0x70d)]['wuid']+_0x57255c(0x538)+_0x4b4d40),new _(_0x4b4d40);}}async[a0_0x1eb7af(0x747)](_0x3c96d4){const _0x145a07=a0_0x1eb7af;try{let _0x426923;if((0x0,k[_0x145a07(0x693)])(_0x3c96d4['image'])){let _0x517b32=new Date()[_0x145a07(0x5cb)](),_0x210596=_0x3c96d4['image']+_0x145a07(0x4a5)+_0x517b32;_0x426923=(await Z[_0x145a07(0x39f)][_0x145a07(0x14e)](_0x210596,{'responseType':_0x145a07(0x444)}))[_0x145a07(0x4c8)];}else{if((0x0,k['isBase64'])(_0x3c96d4[_0x145a07(0x111)]))_0x426923=Buffer[_0x145a07(0x3a6)](_0x3c96d4[_0x145a07(0x111)],_0x145a07(0x800));else throw new m(_0x145a07(0x743));}return await this['client'][_0x145a07(0x2af)](_0x3c96d4[_0x145a07(0x13d)],_0x426923),{'update':'success'};}catch(_0x2d15aa){let _0x4168ec=_0x145a07(0x7e4),_0x193936=_0x2d15aa instanceof Error?_0x2d15aa[_0x145a07(0x729)]:typeof _0x2d15aa==_0x145a07(0x23d)?JSON[_0x145a07(0x454)](_0x2d15aa):_0x2d15aa,_0x477bd0=_0x4168ec+':\x20'+_0x193936;throw this[_0x145a07(0x6d5)][_0x145a07(0x299)](this[_0x145a07(0x1fc)]+'\x20('+this[_0x145a07(0x70d)][_0x145a07(0x1ef)]+_0x145a07(0x538)+_0x477bd0),new _(_0x477bd0);}}},Vt=class l{constructor(_0x1cfa96,_0x23d7bb,_0x4af673){const _0x27a4f1=a0_0x1eb7af;this[_0x27a4f1(0x6a2)]=_0x1cfa96,this[_0x27a4f1(0x768)]=_0x23d7bb,this[_0x27a4f1(0x1a2)]=_0x4af673,this['db']={},this['redis']={},this[_0x27a4f1(0x6d5)]=new $(l[_0x27a4f1(0x587)]),this[_0x27a4f1(0x6f0)]={},(this['removeInstance'](),this[_0x27a4f1(0x56f)](),Object[_0x27a4f1(0x69f)](this['db'],_0x23d7bb[_0x27a4f1(0x14e)]('DATABASE')),Object[_0x27a4f1(0x69f)](this[_0x27a4f1(0x3de)],_0x23d7bb[_0x27a4f1(0x14e)]('REDIS')),this[_0x27a4f1(0x637)]=this['db'][_0x27a4f1(0x412)]?this['repository'][_0x27a4f1(0x2cc)]?.['db'](this['db'][_0x27a4f1(0x66d)]['DB_PREFIX_NAME']+_0x27a4f1(0x6d4)):void 0x0,this[_0x27a4f1(0x5aa)]=this['redis'][_0x27a4f1(0x412)]?new le(this[_0x27a4f1(0x3de)]):void 0x0);}async[a0_0x1eb7af(0x357)](_0x3458f2){const _0x24f3d5=a0_0x1eb7af;if(_0x3458f2&&!this[_0x24f3d5(0x6f0)][_0x3458f2])throw new J(_0x24f3d5(0x419)+_0x3458f2+'\x22\x20not\x20found');let _0x55367c=[];for await(let [_0xb0c858,_0x3fcf64]of Object[_0x24f3d5(0x35e)](this[_0x24f3d5(0x6f0)]))if(_0x3fcf64&&_0x3fcf64[_0x24f3d5(0x113)][_0x24f3d5(0x42c)]==='open'){let _0x262f9f=await this[_0x24f3d5(0x1a2)][_0x24f3d5(0x108)][_0x24f3d5(0x7a9)](_0xb0c858);_0x55367c['push']({'instance':{'instanceName':_0xb0c858,'apikey':_0x262f9f[_0x24f3d5(0x17b)],'owner':_0x3fcf64[_0x24f3d5(0x1ef)],'profileName':await _0x3fcf64[_0x24f3d5(0x82b)]()||_0x24f3d5(0x47e),'profilePictureUrl':_0x3fcf64[_0x24f3d5(0x677)]}});}return _0x55367c[_0x24f3d5(0x7a9)](_0x5c5963=>_0x5c5963[_0x24f3d5(0x70d)][_0x24f3d5(0x1fc)]===_0x3458f2)??_0x55367c;}async[a0_0x1eb7af(0x28f)](_0x326bf4){const _0x5d203f=a0_0x1eb7af;if(this['db']['ENABLED']&&(await this[_0x5d203f(0x1a2)][_0x5d203f(0x2cc)][_0x5d203f(0x10e)](),(await this['dbInstance']['collections']())[_0x5d203f(0x3fe)]>0x0&&await this[_0x5d203f(0x637)][_0x5d203f(0x3bd)](_0x326bf4)),this[_0x5d203f(0x3de)][_0x5d203f(0x412)]){this['cache']['reference']=_0x326bf4,await this[_0x5d203f(0x5aa)][_0x5d203f(0x40f)]();return;}}async['loadInstance'](){const _0x11a0b9=a0_0x1eb7af;await this[_0x11a0b9(0x49c)]();let _0x490ae7=async _0x41e481=>{const _0x3ad71b=_0x11a0b9;let _0x1290b8=new ve(this[_0x3ad71b(0x768)],this['eventEmitter'],this[_0x3ad71b(0x1a2)]);_0x1290b8[_0x3ad71b(0x1fc)]=_0x41e481,await _0x1290b8[_0x3ad71b(0x5b9)](),this[_0x3ad71b(0x6f0)][_0x41e481]=_0x1290b8;};try{if(this['redis']['ENABLED']){let _0x3cc62a=await this[_0x11a0b9(0x5aa)][_0x11a0b9(0x695)]();_0x3cc62a?.[_0x11a0b9(0x3fe)]>0x0&&_0x3cc62a['forEach'](async _0x41c1fb=>await _0x490ae7(_0x41c1fb['split'](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x11a0b9(0x1a2)][_0x11a0b9(0x2cc)][_0x11a0b9(0x10e)]();let _0x41c28f=await this[_0x11a0b9(0x637)][_0x11a0b9(0x216)]();_0x41c28f[_0x11a0b9(0x3fe)]>0x0&&_0x41c28f[_0x11a0b9(0x7d3)](async _0x4cdeba=>await _0x490ae7(_0x4cdeba[_0x11a0b9(0x60d)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0xbbe26){this[_0x11a0b9(0x6d5)]['error'](_0xbbe26);}}async[a0_0x1eb7af(0x57f)](){const _0x1caaf0=a0_0x1eb7af;try{let _0x3efd46=await this[_0x1caaf0(0x1a2)][_0x1caaf0(0x108)][_0x1caaf0(0x1c9)]({'online':!0x1});for(let _0x4baca8 of _0x3efd46){let _0x2a0ec5=_0x4baca8[_0x1caaf0(0x710)];await De['removeIPv6ById'](oe,_0x2a0ec5);}console[_0x1caaf0(0x265)](_0x1caaf0(0x4ce)+_0x3efd46[_0x1caaf0(0x3fe)]);let _0x153d86={'online':!0x1},_0x518c73=await this[_0x1caaf0(0x1a2)][_0x1caaf0(0x108)][_0x1caaf0(0x5d5)](_0x153d86);console['log'](_0x1caaf0(0x185)+_0x518c73[_0x1caaf0(0x7ad)]);}catch(_0x1130f5){console[_0x1caaf0(0x299)]('Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:',_0x1130f5);}}async[a0_0x1eb7af(0x49c)](){const _0x568564=a0_0x1eb7af;try{let _0x3a2e28={'online':!0x1},_0x21c6bc={'online':!0x1,'lastDisconnect':Date[_0x568564(0x4e4)]()},_0x225626=await this[_0x568564(0x1a2)][_0x568564(0x108)][_0x568564(0x407)](_0x3a2e28,_0x21c6bc);await this[_0x568564(0x57f)]();}catch(_0x2a2afb){console['error']('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x2a2afb);}}[a0_0x1eb7af(0x6e1)](){const _0x3ad53b=a0_0x1eb7af;this['eventEmitter']['on'](_0x3ad53b(0x1c5),async _0x45343f=>{const _0x50927d=_0x3ad53b;try{this['waInstances'][_0x45343f]=void 0x0;}catch{}try{this['cleaningUp'](_0x45343f);}finally{this[_0x50927d(0x6d5)][_0x50927d(0x6e3)]('Instance\x20\x22'+_0x45343f+_0x50927d(0x1c1));}});}[a0_0x1eb7af(0x56f)](){const _0x496446=a0_0x1eb7af;this[_0x496446(0x6a2)]['on'](_0x496446(0x7be),async _0x5c3dc7=>{const _0x4d2a40=_0x496446;try{this['waInstances'][_0x5c3dc7]=void 0x0;}catch{}try{this['cleaningUp'](_0x5c3dc7);}finally{this[_0x4d2a40(0x6d5)][_0x4d2a40(0x6e3)](_0x4d2a40(0x419)+_0x5c3dc7+_0x4d2a40(0x582));}});}},Gt=class extends O{[a0_0x1eb7af(0x17e)](_0x5ed253){return ta(_0x5ed253);}async[a0_0x1eb7af(0x1f7)](_0x301017){const _0x3d9335=a0_0x1eb7af;if(_0x301017[_0x3d9335(0x3fe)]!==0x0)try{return{'insertCount':(await this[_0x3d9335(0x17e)](_0x301017[0x0][_0x3d9335(0x337)])[_0x3d9335(0x2ce)]([..._0x301017]))['length']};}catch(_0x10be3e){return _0x10be3e;}}async[a0_0x1eb7af(0x7a9)](_0x143859,_0x1cdc86){const _0x4c7a61=a0_0x1eb7af;try{let _0x3abe1c=this[_0x4c7a61(0x17e)](_0x1cdc86),_0x36938d=T(_0x143859['where']);return await _0x3abe1c[_0x4c7a61(0x7a9)](_0x36938d)[_0x4c7a61(0x555)]({'lastmsg':-0x1})[_0x4c7a61(0x27c)](_0x143859?.[_0x4c7a61(0x27c)]??0x0)[_0x4c7a61(0x5de)]();}catch{return[];}}async[a0_0x1eb7af(0x404)](_0x42ae66,_0x1b711d){const _0x105676=a0_0x1eb7af;try{return{'deletedCount':(await this[_0x105676(0x17e)](_0x1b711d)['deleteMany']({..._0x42ae66[_0x105676(0x5b0)]}))[_0x105676(0x1c8)]};}catch(_0x5195de){return{'error':_0x5195de?.[_0x105676(0x725)]()};}}async[a0_0x1eb7af(0x114)](_0x127228,_0x45a699){const _0x68f04e=a0_0x1eb7af;try{return await this[_0x68f04e(0x17e)](_0x45a699)[_0x68f04e(0x5d5)]({..._0x127228[_0x68f04e(0x5b0)]}),[];}catch(_0x1f4719){return{'error':_0x1f4719?.[_0x68f04e(0x725)]()};}}async['findOne'](_0x590a94,_0x944107){const _0x57fab9=a0_0x1eb7af;try{let _0x2dea94=this[_0x57fab9(0x17e)](_0x944107),_0xa9b6d4=T(_0x590a94[_0x57fab9(0x5b0)]);return await _0x2dea94[_0x57fab9(0x1be)](_0xa9b6d4)[_0x57fab9(0x5de)]();}catch{return null;}}async[a0_0x1eb7af(0x393)](_0x217918,_0x1f92d5,_0x4d1ed3,_0x54a38c,_0x52e403=a0_0x1eb7af(0x3f8)){const _0x4a541b=a0_0x1eb7af;try{let _0x175d06={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x54a38c},_0x20e160=this['getChatModelForOwner'](_0x4d1ed3),_0x29c7b3=T(_0x217918[_0x4a541b(0x5b0)]);Object[_0x4a541b(0x81b)](_0x1f92d5)[_0x4a541b(0x7d3)](_0x43d8ee=>{_0x1f92d5[_0x43d8ee]==null&&delete _0x1f92d5[_0x43d8ee];});let _0x19d66c={};return _0x19d66c[_0x52e403]=_0x1f92d5,await _0x20e160[_0x4a541b(0x4d9)](_0x29c7b3,_0x19d66c,_0x175d06);}catch(_0x9a4fc5){return console[_0x4a541b(0x299)](_0x9a4fc5),null;}}async[a0_0x1eb7af(0x3a2)](_0x378e60){const _0x207360=a0_0x1eb7af;try{let _0x39c7e1=this[_0x207360(0x17e)](_0x378e60[0x0][_0x207360(0x2cb)][_0x207360(0x5b0)][_0x207360(0x337)]),_0x473fd3=_0x378e60[_0x207360(0x285)](_0x23655c=>({'updateOne':{'filter':{..._0x23655c['query'][_0x207360(0x5b0)]},'update':{'$set':_0x23655c['update']},'upsert':!0x0}})),_0x4110c9=await _0x39c7e1[_0x207360(0x494)](_0x473fd3);return _0x4110c9[_0x207360(0x685)]+_0x4110c9[_0x207360(0x266)];}catch(_0xf2c421){return console[_0x207360(0x299)](_0xf2c421),0x0;}}async[a0_0x1eb7af(0x62b)](_0x5b8af0){const _0x3859c2=a0_0x1eb7af;try{let _0x345d96={'group_isCommunity':'','group_announce':'','group_size':''},_0x1ab171={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x87f70c={'$unset':_0x345d96};return(await this[_0x3859c2(0x17e)](_0x5b8af0)[_0x3859c2(0x3a2)](_0x1ab171,_0x87f70c))['modifiedCount'];}catch(_0x1b50b8){return console[_0x3859c2(0x299)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x1b50b8),0x0;}}async[a0_0x1eb7af(0x4bd)](_0x196412){try{let _0x4b3c92=this['getChatModelForOwner'](_0x196412),_0x4424b8={'leadInfo.etiquetas':{'$exists':!0x1}},_0x1dcaa0={'$set':{'leadInfo.etiquetas':[]}};return(await _0x4b3c92['updateMany'](_0x4424b8,_0x1dcaa0))['modifiedCount'];}catch(_0x58af5f){return console['error'](_0x58af5f),0x0;}}async[a0_0x1eb7af(0x4fb)](_0x4f5e5a){const _0x4b0f8f=a0_0x1eb7af;try{let _0x291b09=this[_0x4b0f8f(0x17e)](_0x4f5e5a),_0x4cada5={'leadInfo.tags':{'$exists':!0x1}},_0x5ef0d9={'$set':{'leadInfo.tags':[]}};return(await _0x291b09[_0x4b0f8f(0x3a2)](_0x4cada5,_0x5ef0d9))['modifiedCount'];}catch(_0x515ab0){return console['error'](_0x515ab0),0x0;}}async[a0_0x1eb7af(0x697)](_0x277b0d){const _0x1ebe2f=a0_0x1eb7af;try{let _0x536e3f=this['getChatModelForOwner'](_0x277b0d),_0x1a0161={'leadInfo.customFields':{'$exists':!0x1}},_0x803098={'$set':{'leadInfo.customFields':[]}};return(await _0x536e3f[_0x1ebe2f(0x3a2)](_0x1a0161,_0x803098))['modifiedCount'];}catch(_0x11fb4e){return console[_0x1ebe2f(0x299)](_0x11fb4e),0x0;}}async[a0_0x1eb7af(0x2ce)](_0x481791,_0x1e13aa){const _0x28ff80=a0_0x1eb7af;if(!Array[_0x28ff80(0x50d)](_0x481791)||_0x481791[_0x28ff80(0x3fe)]===0x0)throw new Error(_0x28ff80(0x689));try{return(await this[_0x28ff80(0x17e)](_0x1e13aa)[_0x28ff80(0x2ce)](_0x481791))[_0x28ff80(0x3fe)];}catch(_0x5a5ead){throw console['error'](_0x28ff80(0x6ac),_0x5a5ead),_0x5a5ead;}}async[a0_0x1eb7af(0x64a)](_0x4ffb44,_0x3b05aa){const _0x528753=a0_0x1eb7af;try{await this['getChatModelForOwner'](_0x3b05aa)['deleteOne']({'_id':_0x4ffb44});}catch(_0x51c715){throw console[_0x528753(0x299)](_0x528753(0x3a7),_0x51c715),_0x51c715;}}},Bt=class extends O{constructor(_0x584a12,_0x1492fb,_0x15c5a0){const _0x5973e5=a0_0x1eb7af;super(_0x1492fb),this[_0x5973e5(0x224)]=_0x584a12,this[_0x5973e5(0x768)]=_0x1492fb,this[_0x5973e5(0x7cb)]=_0x15c5a0;}async['insert'](_0x3c056a){const _0x41cb82=a0_0x1eb7af;if(_0x3c056a[_0x41cb82(0x3fe)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x41cb82(0x2ce)]([..._0x3c056a]))[_0x41cb82(0x3fe)]};}catch(_0x4e93be){return _0x4e93be;}}async[a0_0x1eb7af(0x7f1)](_0x47a26f,_0x463876){const _0x2281ee=a0_0x1eb7af;try{let _0x15e74e=T(_0x47a26f[_0x2281ee(0x5b0)]);return{'updatedCount':(await this[_0x2281ee(0x224)][_0x2281ee(0x3a2)](_0x15e74e,{'$set':_0x463876}))['modifiedCount']};}catch(_0x394d3c){return console['error'](_0x2281ee(0x7dc),_0x394d3c),{'error':_0x394d3c['toString']()};}}async[a0_0x1eb7af(0x6be)](_0xa92ae8){const _0x569cec=a0_0x1eb7af;try{let _0x4901ab={'_id':{'$in':_0xa92ae8}};return await this[_0x569cec(0x224)][_0x569cec(0x7a9)](_0x4901ab)['lean']();}catch(_0x3e4805){return console[_0x569cec(0x299)]('Error\x20finding\x20many\x20contacts:',_0x3e4805),[];}}async[a0_0x1eb7af(0x404)](_0x2c5b5a){const _0x3902a4=a0_0x1eb7af;try{return{'deletedCount':(await this[_0x3902a4(0x224)][_0x3902a4(0x5d5)]({..._0x2c5b5a[_0x3902a4(0x5b0)]}))[_0x3902a4(0x1c8)]};}catch(_0x4d7f0c){return{'error':_0x4d7f0c?.[_0x3902a4(0x725)]()};}}async['find'](_0x5a529f){const _0xe1c1cf=a0_0x1eb7af;try{let _0xde60a6=T(_0x5a529f['where']);return await this[_0xe1c1cf(0x224)][_0xe1c1cf(0x7a9)](_0xde60a6)['limit'](_0x5a529f?.[_0xe1c1cf(0x27c)]??0x0)[_0xe1c1cf(0x5de)]();}catch{return[];}}async[a0_0x1eb7af(0x1be)](_0x41d1bc){const _0x25255b=a0_0x1eb7af;try{let _0x2a1c8b=T(_0x41d1bc[_0x25255b(0x5b0)]);return await this[_0x25255b(0x224)][_0x25255b(0x1be)](_0x2a1c8b)[_0x25255b(0x5de)]();}catch{return null;}}},Wt=class extends O{[a0_0x1eb7af(0x287)](_0x126cb8){return Ma(_0x126cb8);}async['updateOne'](_0x45fdd2,_0x301c3f,_0xb63411,_0x13a47d){const _0x5710d0=a0_0x1eb7af;try{let _0x825c3e={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x13a47d},_0x33b50e=this[_0x5710d0(0x287)](_0xb63411),_0x10d6f0=T(_0x45fdd2[_0x5710d0(0x5b0)]);return await _0x33b50e['findOneAndUpdate'](_0x10d6f0,{'$set':_0x301c3f},_0x825c3e);}catch(_0x53b302){return console[_0x5710d0(0x299)](_0x53b302),null;}}async[a0_0x1eb7af(0x7a9)](_0x1567f2,_0x4e4c78){const _0x2bfd77=a0_0x1eb7af;try{let _0x368b8a=this[_0x2bfd77(0x287)](_0x4e4c78),_0x28606c=T(_0x1567f2[_0x2bfd77(0x5b0)]);return await _0x368b8a[_0x2bfd77(0x7a9)](_0x28606c);}catch(_0x2b168d){console['error'](_0x2b168d);}}async[a0_0x1eb7af(0x404)](_0x32c79b,_0x49afb6){const _0x269207=a0_0x1eb7af;try{let _0x2941f3=this['getLabelModelForOwner'](_0x49afb6),_0x39e191=T(_0x32c79b[_0x269207(0x5b0)]);await _0x2941f3['deleteMany'](_0x39e191);}catch(_0x4b76d1){console[_0x269207(0x299)](_0x4b76d1);}}async[a0_0x1eb7af(0x114)](_0xe39014){const _0x2ca1d0=a0_0x1eb7af;try{return await this[_0x2ca1d0(0x287)](_0xe39014)[_0x2ca1d0(0x2d2)][_0x2ca1d0(0x701)](),{'success':!0x0};}catch(_0x4ddc37){return console[_0x2ca1d0(0x299)](_0x4ddc37),{'success':!0x1,'error':_0x4ddc37};}}},zt=class{constructor(_0x1eb138){const _0x5cc2d6=a0_0x1eb7af;this[_0x5cc2d6(0x7c5)]=_0x1eb138;}async[a0_0x1eb7af(0x609)]({instanceName:_0x396c4f},_0x41f5ca){const _0x28c250=a0_0x1eb7af;return await this[_0x28c250(0x7c5)][_0x28c250(0x6f0)][_0x396c4f]['editChat'](_0x41f5ca);}async['whatsappNumber']({instanceName:_0x481fc6},_0x50f820){const _0x533660=a0_0x1eb7af;return await this[_0x533660(0x7c5)][_0x533660(0x6f0)][_0x481fc6][_0x533660(0x2f7)](_0x50f820);}async[a0_0x1eb7af(0x544)]({instanceName:_0x57b2fa},_0x40dc09){const _0x42eb42=a0_0x1eb7af;return await this[_0x42eb42(0x7c5)]['waInstances'][_0x57b2fa][_0x42eb42(0x544)](_0x40dc09);}async[a0_0x1eb7af(0x776)]({instanceName:_0x5e4e25},_0x471b13){const _0x27dc52=a0_0x1eb7af;return await this[_0x27dc52(0x7c5)][_0x27dc52(0x6f0)][_0x5e4e25][_0x27dc52(0x5ee)](_0x471b13);}async[a0_0x1eb7af(0x829)]({instanceName:_0x461221},_0x1a8a2f){const _0x47c66f=a0_0x1eb7af;return await this[_0x47c66f(0x7c5)]['waInstances'][_0x461221][_0x47c66f(0x829)](_0x1a8a2f);}async[a0_0x1eb7af(0x557)]({instanceName:_0x442eaa},_0x305a29){const _0x317ab3=a0_0x1eb7af;return await this['waMonitor'][_0x317ab3(0x6f0)][_0x442eaa]['deleteMessage'](_0x305a29);}async[a0_0x1eb7af(0x2db)]({instanceName:_0x374d7f},_0x5f5985){const _0x4ea575=a0_0x1eb7af;return await this[_0x4ea575(0x7c5)]['waInstances'][_0x374d7f][_0x4ea575(0x7d7)](_0x5f5985[_0x4ea575(0x41f)]);}async[a0_0x1eb7af(0x67a)]({instanceName:_0x46236b},_0x11549a){const _0x2dfb5f=a0_0x1eb7af;return await this[_0x2dfb5f(0x7c5)][_0x2dfb5f(0x6f0)][_0x46236b][_0x2dfb5f(0x67a)](_0x11549a[_0x2dfb5f(0x41f)]);}async['updatePresence']({instanceName:_0xe2a258},_0x4ac96c){const _0x4efa25=a0_0x1eb7af;return await this[_0x4efa25(0x7c5)][_0x4efa25(0x6f0)][_0xe2a258][_0x4efa25(0x558)](_0x4ac96c);}async[a0_0x1eb7af(0x2b1)]({instanceName:_0x1f2b13},_0xc5d33a){const _0x35429d=a0_0x1eb7af;return await this[_0x35429d(0x7c5)][_0x35429d(0x6f0)][_0x1f2b13][_0x35429d(0x2b1)](_0xc5d33a);}async[a0_0x1eb7af(0x777)]({instanceName:_0x1d2d1a},_0x46633a){const _0x41f06c=a0_0x1eb7af;return await this[_0x41f06c(0x7c5)][_0x41f06c(0x6f0)][_0x1d2d1a]['getBase64FromMediaMessage'](_0x46633a);}async[a0_0x1eb7af(0x1a0)]({instanceName:_0x1a5fdd},_0x3f41bd){const _0x19f272=a0_0x1eb7af;return await this[_0x19f272(0x7c5)][_0x19f272(0x6f0)][_0x1a5fdd][_0x19f272(0x1a0)](_0x3f41bd);}async['fetchLabels']({instanceName:_0x2a7a98}){const _0x2805b7=a0_0x1eb7af;return await this['waMonitor'][_0x2805b7(0x6f0)][_0x2a7a98][_0x2805b7(0x5e6)]();}async['fetchChats']({instanceName:_0x52a368}){const _0x304572=a0_0x1eb7af;return await this[_0x304572(0x7c5)][_0x304572(0x6f0)][_0x52a368]['fetchChats']();}async['fetchPrivacySettings']({instanceName:_0x5c1f14}){const _0x8340c5=a0_0x1eb7af;return await this[_0x8340c5(0x7c5)][_0x8340c5(0x6f0)][_0x5c1f14][_0x8340c5(0x79d)]();}async[a0_0x1eb7af(0x14a)]({instanceName:_0x1a2cd8},_0x691dd3){const _0x4b349f=a0_0x1eb7af;return await this[_0x4b349f(0x7c5)][_0x4b349f(0x6f0)][_0x1a2cd8][_0x4b349f(0x14a)](_0x691dd3);}async['fetchBusinessProfile']({instanceName:_0x373a09},_0x3d1ea2){const _0x52a6e4=a0_0x1eb7af;return await this[_0x52a6e4(0x7c5)]['waInstances'][_0x373a09][_0x52a6e4(0x792)](_0x3d1ea2[_0x52a6e4(0x41f)]);}async[a0_0x1eb7af(0x481)]({instanceName:_0x253217},_0x67e7a7){const _0x52c390=a0_0x1eb7af;return await this[_0x52c390(0x7c5)][_0x52c390(0x6f0)][_0x253217][_0x52c390(0x481)](_0x67e7a7[_0x52c390(0x587)]);}async[a0_0x1eb7af(0x1e9)]({instanceName:_0x737ebe},_0x3c18ff){const _0x13acd9=a0_0x1eb7af;return await this[_0x13acd9(0x7c5)][_0x13acd9(0x6f0)][_0x737ebe]['updateProfileStatus'](_0x3c18ff[_0x13acd9(0x771)]);}async[a0_0x1eb7af(0x2af)]({instanceName:_0x4c1bed},_0x254540){const _0x5443eb=a0_0x1eb7af;return await this[_0x5443eb(0x7c5)][_0x5443eb(0x6f0)][_0x4c1bed][_0x5443eb(0x2af)](_0x254540[_0x5443eb(0x40b)]);}async['removeProfilePicture']({instanceName:_0x55f7ed},_0x4f9d16){const _0x3ea0c8=a0_0x1eb7af;return await this[_0x3ea0c8(0x7c5)][_0x3ea0c8(0x6f0)][_0x55f7ed]['removeProfilePicture']();}},Ht=require(a0_0x1eb7af(0x61e)),Kt=class l{constructor(_0x5c63e7,_0x4949ee,_0x1de55f,_0x492fb5,_0x30fea7){const _0x32385f=a0_0x1eb7af;this[_0x32385f(0x7c5)]=_0x5c63e7,this[_0x32385f(0x768)]=_0x4949ee,this[_0x32385f(0x1a2)]=_0x1de55f,this[_0x32385f(0x6a2)]=_0x492fb5,this[_0x32385f(0x3f3)]=_0x30fea7,this[_0x32385f(0x6d5)]=new $(l['name']);}async[a0_0x1eb7af(0x3ae)]({instanceName:_0x1bc2ad,apikey:_0x54b7aa,number:_0x5a8466,proxy:_0x229cf5=!0x0}){const _0x49efa6=a0_0x1eb7af;try{let _0x5b1537=new ve(this[_0x49efa6(0x768)],this[_0x49efa6(0x6a2)],this[_0x49efa6(0x1a2)]);_0x5b1537[_0x49efa6(0x1fc)]=_0x1bc2ad,this['waMonitor'][_0x49efa6(0x6f0)][_0x5b1537['instanceName']]=_0x5b1537;let _0x32aa10={};_0x54b7aa?(await this['repository'][_0x49efa6(0x108)][_0x49efa6(0xff)]({'apikey':_0x54b7aa},_0x1bc2ad),_0x32aa10[_0x49efa6(0x17b)]=_0x54b7aa):_0x32aa10=await this['authService'][_0x49efa6(0x548)]({'instanceName':_0x5b1537[_0x49efa6(0x1fc)]});let _0x2f33d7;if(_0x5a8466){if(_0x2f33d7=await this['verifyWhatsAppNumber'](_0x5a8466),_0x2f33d7[_0x49efa6(0x299)])throw new _(_0x2f33d7[_0x49efa6(0x299)][_0x49efa6(0x725)]());_0x5a8466=_0x2f33d7['number'];}let _0x12cb4e;return await _0x5b1537[_0x49efa6(0x5b9)](_0x5a8466),await(0x0,Ht[_0x49efa6(0x30a)])(0xfa0),_0x5a8466&&await(0x0,Ht[_0x49efa6(0x30a)])(0xbb8),_0x12cb4e=_0x5b1537['qrCode'],{'instance':{'instanceName':_0x5b1537[_0x49efa6(0x1fc)],'status':_0x49efa6(0x207)},'hash':_0x32aa10,'qrcode':_0x12cb4e};}catch(_0x18805f){throw this['logger'][_0x49efa6(0x299)](_0x18805f),_0x18805f;}}async[a0_0x1eb7af(0x2c5)]({instanceName:_0x8a373a,number:_0x22df51=null}){const _0x5f4721=a0_0x1eb7af;try{let _0x478d44=this[_0x5f4721(0x7c5)]['waInstances'][_0x8a373a];switch(_0x478d44?.[_0x5f4721(0x113)]?.[_0x5f4721(0x42c)]){case _0x5f4721(0x575):return await _0x478d44[_0x5f4721(0x5b9)](_0x22df51),await(0x0,Ht['delay'])(0x7d0),_0x478d44[_0x5f4721(0x2b0)];case _0x5f4721(0x704):return _0x478d44['qrCode'];default:return await this[_0x5f4721(0x7f6)]({'instanceName':_0x8a373a});}}catch(_0x42d918){this[_0x5f4721(0x6d5)][_0x5f4721(0x265)](_0x42d918);}}async[a0_0x1eb7af(0x7f6)]({instanceName:_0x20b960}){const _0x265760=a0_0x1eb7af;let _0xfb84ba=this[_0x265760(0x7c5)][_0x265760(0x6f0)][_0x20b960][_0x265760(0x113)],_0x52b8f8=null;_0xfb84ba[_0x265760(0x42c)]===_0x265760(0x183)&&_0x20b960&&(_0x52b8f8=await this[_0x265760(0x7c5)][_0x265760(0x357)](_0x20b960));let _0x1054ea=null;return _0xfb84ba[_0x265760(0x42c)]===_0x265760(0x704)&&_0x20b960&&(_0x1054ea=this[_0x265760(0x7c5)][_0x265760(0x6f0)][_0x20b960][_0x265760(0x2b0)]),{'instance':_0x20b960,'connectionStatus':_0xfb84ba,'instanceInfo':_0x52b8f8,'qrcode':_0x1054ea};}async[a0_0x1eb7af(0x6af)](_0x238c94){const _0x13cbf5=a0_0x1eb7af;_0x238c94=_0x238c94[_0x13cbf5(0x517)](/\D/g,'');let _0x17270c=Object[_0x13cbf5(0x81b)](this[_0x13cbf5(0x7c5)][_0x13cbf5(0x6f0)])[_0x13cbf5(0x19b)](_0x27c103=>{const _0x2b6e01=_0x13cbf5;let _0x3a8de9=this['waMonitor'][_0x2b6e01(0x6f0)][_0x27c103];return _0x3a8de9&&_0x3a8de9[_0x2b6e01(0x113)]&&_0x3a8de9['connectionStatus'][_0x2b6e01(0x42c)]===_0x2b6e01(0x183);});if(_0x17270c[_0x13cbf5(0x3fe)]===0x0)return{'number':this['formatBRNumber'](_0x238c94)};let _0x5814ad=Math['floor'](Math[_0x13cbf5(0x1a6)]()*_0x17270c[_0x13cbf5(0x3fe)]),_0x1c2f82=_0x17270c[_0x5814ad];try{let _0x1d12cc=(await this['waMonitor'][_0x13cbf5(0x6f0)][_0x1c2f82][_0x13cbf5(0x2f7)]({'numbers':[_0x238c94]}))[_0x13cbf5(0x20c)]();return _0x1d12cc[_0x13cbf5(0x54d)]?{'number':_0x1d12cc[_0x13cbf5(0x687)][_0x13cbf5(0x517)](_0x13cbf5(0x21c),'')}:{'number':_0x238c94,'error':_0x13cbf5(0x31a)};}catch(_0x541079){return this[_0x13cbf5(0x6d5)][_0x13cbf5(0x299)](_0x13cbf5(0x1f3)+_0x541079),{'number':_0x238c94,'error':_0x13cbf5(0x5a1)};}}[a0_0x1eb7af(0x516)](_0xb197d8){const _0x35c782=a0_0x1eb7af;let _0x5f1db0=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x35c782(0x6a4)](_0xb197d8);if(_0x5f1db0&&_0x5f1db0[0x1]==='55'){let _0x571791=_0x5f1db0[0x2],_0x568422=_0x5f1db0[0x3],_0x3af79e=_0x5f1db0[0x4];if(parseInt(_0x571791)>=0x1f&&_0x568422==='9')return _0x5f1db0[0x1]+_0x571791+_0x3af79e;}return _0xb197d8;}async[a0_0x1eb7af(0x68f)]({instanceName:_0x1c86e1}){const _0x2b3f9a=a0_0x1eb7af;try{return this[_0x2b3f9a(0x7c5)][_0x2b3f9a(0x6f0)][_0x1c86e1]?.[_0x2b3f9a(0x5ce)]?.['ws']?.[_0x2b3f9a(0x575)](),{'status':_0x2b3f9a(0x54b),'error':!0x1,'response':{'message':_0x2b3f9a(0x631)}};}catch(_0x35051e){this[_0x2b3f9a(0x6d5)]['error'](_0x35051e);}}async[a0_0x1eb7af(0x3bc)]({instanceName:_0x455f1b}){const _0x91383f=a0_0x1eb7af;return _0x455f1b?this[_0x91383f(0x7c5)][_0x91383f(0x357)](_0x455f1b):this[_0x91383f(0x7c5)]['instanceInfo']();}async[a0_0x1eb7af(0x4a8)]({instanceName:_0x29f05e}){const _0x28d8e6=a0_0x1eb7af;try{return await this[_0x28d8e6(0x7c5)][_0x28d8e6(0x6f0)][_0x29f05e]?.[_0x28d8e6(0x5ce)]?.[_0x28d8e6(0x4a8)](_0x28d8e6(0x656)+_0x29f05e),{'error':!0x1,'message':_0x28d8e6(0x45d)};}catch(_0x4527bc){throw new _(_0x4527bc[_0x28d8e6(0x725)]());}}async[a0_0x1eb7af(0x304)]({instanceName:_0x5ea2b3}){const _0xd9eee1=a0_0x1eb7af;if((await this['connectionState']({'instanceName':_0x5ea2b3}))[_0xd9eee1(0x113)][_0xd9eee1(0x42c)]===_0xd9eee1(0x183))throw new m(['Deletion\x20failed',_0xd9eee1(0x3e5)]);try{return delete this[_0xd9eee1(0x7c5)][_0xd9eee1(0x6f0)][_0x5ea2b3],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x1068f1){throw new m(_0x1068f1['toString']());}}},ee=require(a0_0x1eb7af(0x7e0)),Qt=class{constructor(_0x113589){this['waMonitor']=_0x113589;}async[a0_0x1eb7af(0x482)]({instanceName:_0x1563cb},_0x4c0108){const _0x1d3065=a0_0x1eb7af;return await this[_0x1d3065(0x7c5)][_0x1d3065(0x6f0)][_0x1563cb][_0x1d3065(0x1b3)](_0x4c0108);}async[a0_0x1eb7af(0x350)]({instanceName:_0x445c53},_0x13001f){const _0x40b9b6=a0_0x1eb7af;return await this[_0x40b9b6(0x7c5)][_0x40b9b6(0x6f0)][_0x445c53]['menuMessage'](_0x13001f);}async['sendMedia']({instanceName:_0xc3ce9a},_0x3afb39){const _0x167d10=a0_0x1eb7af;if((0x0,ee[_0x167d10(0x760)])(_0x3afb39?.[_0x167d10(0x40d)]?.[_0x167d10(0x1f9)])&&!_0x3afb39?.['mediaMessage']?.[_0x167d10(0x1de)])throw new m(_0x167d10(0x699));if((0x0,ee[_0x167d10(0x693)])(_0x3afb39?.['mediaMessage']?.[_0x167d10(0x1f9)])||(0x0,ee['isBase64'])(_0x3afb39?.[_0x167d10(0x40d)]?.[_0x167d10(0x1f9)]))return await this['waMonitor'][_0x167d10(0x6f0)][_0xc3ce9a][_0x167d10(0x40d)](_0x3afb39);throw new m(_0x167d10(0x72e));}async[a0_0x1eb7af(0x657)]({instanceName:_0x3f6447},_0x5e7b60){const _0x5bd2d9=a0_0x1eb7af;if((0x0,ee[_0x5bd2d9(0x693)])(_0x5e7b60[_0x5bd2d9(0x6eb)][_0x5bd2d9(0x111)])||(0x0,ee[_0x5bd2d9(0x760)])(_0x5e7b60[_0x5bd2d9(0x6eb)][_0x5bd2d9(0x111)]))return await this['waMonitor']['waInstances'][_0x3f6447][_0x5bd2d9(0x70b)](_0x5e7b60);throw new m(_0x5bd2d9(0x72e));}async[a0_0x1eb7af(0x6d7)]({instanceName:_0x471c85},_0x5904ff){const _0x3af458=a0_0x1eb7af;if((0x0,ee[_0x3af458(0x693)])(_0x5904ff[_0x3af458(0x53a)][_0x3af458(0x52e)])||(0x0,ee[_0x3af458(0x760)])(_0x5904ff[_0x3af458(0x53a)][_0x3af458(0x52e)]))return await this[_0x3af458(0x7c5)]['waInstances'][_0x471c85][_0x3af458(0x63a)](_0x5904ff);throw new m(_0x3af458(0x72e));}async[a0_0x1eb7af(0xf8)]({instanceName:_0x1be37c},_0x3cfe00){const _0x5c7430=a0_0x1eb7af;if((0x0,ee['isBase64'])(_0x3cfe00[_0x5c7430(0x6b6)][_0x5c7430(0x40d)]?.[_0x5c7430(0x1f9)])&&!_0x3cfe00[_0x5c7430(0x6b6)][_0x5c7430(0x40d)]?.[_0x5c7430(0x1de)])throw new m(_0x5c7430(0x699));return await this[_0x5c7430(0x7c5)][_0x5c7430(0x6f0)][_0x1be37c][_0x5c7430(0x6b6)](_0x3cfe00);}async[a0_0x1eb7af(0x4fe)]({instanceName:_0x16a34c},_0x100cb0){const _0x27d45b=a0_0x1eb7af;return await this[_0x27d45b(0x7c5)][_0x27d45b(0x6f0)][_0x16a34c][_0x27d45b(0x5fb)](_0x100cb0);}async[a0_0x1eb7af(0x37d)]({instanceName:_0xacf5b6},_0x5b68b9){const _0x500c0a=a0_0x1eb7af;return await this[_0x500c0a(0x7c5)]['waInstances'][_0xacf5b6][_0x500c0a(0x217)](_0x5b68b9);}async[a0_0x1eb7af(0x3e9)]({instanceName:_0x3ab9e2},_0x4e6e3e){const _0x738f42=a0_0x1eb7af;return await this[_0x738f42(0x7c5)][_0x738f42(0x6f0)][_0x3ab9e2][_0x738f42(0x765)](_0x4e6e3e);}async[a0_0x1eb7af(0x82f)]({instanceName:_0x19aac7},_0x387f26){const _0x3a0b67=a0_0x1eb7af;return await this['waMonitor'][_0x3a0b67(0x6f0)][_0x19aac7][_0x3a0b67(0x34f)](_0x387f26);}async['sendReaction']({instanceName:_0x569934},_0x3e82fd){const _0x44248d=a0_0x1eb7af;if(!_0x3e82fd[_0x44248d(0x7e1)][_0x44248d(0x1cc)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x44248d(0x4fd));return await this['waMonitor'][_0x44248d(0x6f0)][_0x569934][_0x44248d(0x7e1)](_0x3e82fd);}async[a0_0x1eb7af(0x7d8)]({instanceName:_0x22a426},_0x52eaea){const _0x3eb847=a0_0x1eb7af;return await this[_0x3eb847(0x7c5)][_0x3eb847(0x6f0)][_0x22a426][_0x3eb847(0x7c2)](_0x52eaea);}},_o=require(a0_0x1eb7af(0x2e3)),Us=require(a0_0x1eb7af(0x163)),Yt=class l{constructor(_0x1f16db,_0x12aa28,_0x462ad2){const _0xcd7326=a0_0x1eb7af;this[_0xcd7326(0x768)]=_0x1f16db,this[_0xcd7326(0x7c5)]=_0x12aa28,this['repository']=_0x462ad2,this['logger']=new $(l['name']);}async[a0_0x1eb7af(0x55b)](_0x1aa403){const _0x498f57=a0_0x1eb7af;let _0x5be773=this[_0x498f57(0x768)][_0x498f57(0x14e)](_0x498f57(0x41a))[_0x498f57(0x57c)],_0x36fb79=(0x0,_o[_0x498f57(0x528)])({'instanceName':_0x1aa403['instanceName'],'apiName':ot,'tokenId':(0x0,Us['v4'])()},_0x5be773['SECRET'],{'expiresIn':_0x5be773[_0x498f57(0x510)],'encoding':'utf8','subject':_0x498f57(0x3e6)}),_0x4cc2aa=await this[_0x498f57(0x1a2)][_0x498f57(0x108)]['create']({'jwt':_0x36fb79},_0x1aa403[_0x498f57(0x1fc)]);if(_0x4cc2aa['error'])throw this[_0x498f57(0x6d5)][_0x498f57(0x299)]({'localError':l[_0x498f57(0x587)]+_0x498f57(0x27f),'error':_0x4cc2aa[_0x498f57(0x299)]}),new m(_0x498f57(0x50c),_0x4cc2aa[_0x498f57(0x299)]?.[_0x498f57(0x725)]());return{'jwt':_0x36fb79};}async[a0_0x1eb7af(0x17b)](_0x24741e){const _0xd62914=a0_0x1eb7af;let _0x221776=(0x0,Us['v4'])()['toUpperCase'](),_0x46673a=await this[_0xd62914(0x1a2)][_0xd62914(0x108)][_0xd62914(0xff)]({'apikey':_0x221776},_0x24741e[_0xd62914(0x1fc)]);if(_0x46673a[_0xd62914(0x299)])throw this['logger'][_0xd62914(0x299)]({'localError':l['name']+'.jwt','error':_0x46673a[_0xd62914(0x299)]}),new m('Authentication\x20error',_0x46673a[_0xd62914(0x299)]?.[_0xd62914(0x725)]());return{'apikey':_0x221776};}async['generateHash'](_0x35a78e){const _0x35726c=a0_0x1eb7af;let _0x4b1ff9=this[_0x35726c(0x768)][_0x35726c(0x14e)](_0x35726c(0x41a));return await this[_0x4b1ff9[_0x35726c(0x467)]](_0x35a78e);}},Xt=class{constructor(_0x1e960e){const _0x1f9f0b=a0_0x1eb7af;this[_0x1f9f0b(0x7c5)]=_0x1e960e;}async['createGroup'](_0x5705dc,_0x3fa0a3){const _0xaa033b=a0_0x1eb7af;return await this[_0xaa033b(0x7c5)][_0xaa033b(0x6f0)][_0x5705dc[_0xaa033b(0x1fc)]][_0xaa033b(0x5f0)](_0x3fa0a3);}async[a0_0x1eb7af(0x747)](_0x178043,_0x2077d4){const _0x3f6b81=a0_0x1eb7af;return await this[_0x3f6b81(0x7c5)]['waInstances'][_0x178043[_0x3f6b81(0x1fc)]][_0x3f6b81(0x747)](_0x2077d4);}async[a0_0x1eb7af(0x221)](_0x322aa9,_0x5ca635){const _0x32d429=a0_0x1eb7af;return await this['waMonitor']['waInstances'][_0x322aa9[_0x32d429(0x1fc)]][_0x32d429(0x221)](_0x5ca635);}async[a0_0x1eb7af(0x30c)](_0x4244ac,_0x361c2a){const _0x1a59b0=a0_0x1eb7af;return await this['waMonitor'][_0x1a59b0(0x6f0)][_0x4244ac[_0x1a59b0(0x1fc)]]['groupName'](_0x361c2a);}async[a0_0x1eb7af(0x691)](_0x37ff59,_0x33fda9){const _0xac1464=a0_0x1eb7af;return await this[_0xac1464(0x7c5)]['waInstances'][_0x37ff59['instanceName']][_0xac1464(0x691)](_0x33fda9);}async[a0_0x1eb7af(0x27b)](_0x1b1bc1,_0x3eb9e0){const _0x4dc3f5=a0_0x1eb7af;return await this[_0x4dc3f5(0x7c5)][_0x4dc3f5(0x6f0)][_0x1b1bc1[_0x4dc3f5(0x1fc)]][_0x4dc3f5(0x27b)](_0x3eb9e0);}async['findGroupInfo'](_0x548d77,_0x542453){const _0x1b5333=a0_0x1eb7af;return await this[_0x1b5333(0x7c5)][_0x1b5333(0x6f0)][_0x548d77['instanceName']][_0x1b5333(0x4f0)](_0x542453);}async['findGroups'](_0x459ea1){const _0x504e17=a0_0x1eb7af;return await this[_0x504e17(0x7c5)][_0x504e17(0x6f0)][_0x459ea1[_0x504e17(0x1fc)]][_0x504e17(0x13c)]();}async['inviteCode'](_0x548070,_0x186d4b){const _0x5d06dd=a0_0x1eb7af;return await this['waMonitor'][_0x5d06dd(0x6f0)][_0x548070['instanceName']]['inviteCode'](_0x186d4b);}async[a0_0x1eb7af(0x65e)](_0x2c1cb8,_0x278839){const _0x51c1d2=a0_0x1eb7af;return await this['waMonitor'][_0x51c1d2(0x6f0)][_0x2c1cb8[_0x51c1d2(0x1fc)]][_0x51c1d2(0x65e)](_0x278839);}async[a0_0x1eb7af(0x1bf)](_0x4045ea,_0x571d2b){const _0x46a2f6=a0_0x1eb7af;return await this['waMonitor'][_0x46a2f6(0x6f0)][_0x4045ea['instanceName']][_0x46a2f6(0x1bf)](_0x571d2b);}async[a0_0x1eb7af(0x41e)](_0x1a50aa,_0x4d2124){const _0x1b54f5=a0_0x1eb7af;return await this[_0x1b54f5(0x7c5)][_0x1b54f5(0x6f0)][_0x1a50aa[_0x1b54f5(0x1fc)]][_0x1b54f5(0x41e)](_0x4d2124);}async[a0_0x1eb7af(0x377)](_0x2c9455,_0x511136){const _0x31a6db=a0_0x1eb7af;return await this[_0x31a6db(0x7c5)][_0x31a6db(0x6f0)][_0x2c9455['instanceName']][_0x31a6db(0x377)](_0x511136);}async[a0_0x1eb7af(0x639)](_0x1cb904,_0x5a3dce){const _0x222ea5=a0_0x1eb7af;return await this[_0x222ea5(0x7c5)][_0x222ea5(0x6f0)][_0x1cb904[_0x222ea5(0x1fc)]][_0x222ea5(0x749)](_0x5a3dce);}async['toggleEphemeral'](_0x56061e,_0xff093f){const _0x586d47=a0_0x1eb7af;return await this[_0x586d47(0x7c5)][_0x586d47(0x6f0)][_0x56061e[_0x586d47(0x1fc)]][_0x586d47(0x70c)](_0xff093f);}async[a0_0x1eb7af(0x803)](_0x5d37c8,_0x5a8fcc){const _0x49797c=a0_0x1eb7af;return await this[_0x49797c(0x7c5)][_0x49797c(0x6f0)][_0x5d37c8[_0x49797c(0x1fc)]][_0x49797c(0x803)](_0x5a8fcc);}},Zt=class{constructor(_0x4a8ecc){const _0x222191=a0_0x1eb7af;this[_0x222191(0x7c5)]=_0x4a8ecc;}[a0_0x1eb7af(0xff)](_0x78cec7,_0x306986){const _0x127c27=a0_0x1eb7af;return this['waMonitor'][_0x127c27(0x6f0)][_0x78cec7[_0x127c27(0x1fc)]][_0x127c27(0x6aa)](_0x306986);}async['find'](_0x53c80f){const _0xaa063=a0_0x1eb7af;try{return await this[_0xaa063(0x7c5)][_0xaa063(0x6f0)][_0x53c80f[_0xaa063(0x1fc)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Hp=new $(a0_0x1eb7af(0x497)),es=class{constructor(_0x2ae42b){const _0x39b678=a0_0x1eb7af;this[_0x39b678(0x7c5)]=_0x2ae42b;}async[a0_0x1eb7af(0x1da)](_0x25d91,_0xe198f9){const _0x185146=a0_0x1eb7af;return await this[_0x185146(0x7c5)]['waInstances'][_0x25d91[_0x185146(0x1fc)]][_0x185146(0x1da)](_0xe198f9);}async[a0_0x1eb7af(0x374)](_0x32f160){const _0x5bdd44=a0_0x1eb7af;return await this['waMonitor'][_0x5bdd44(0x6f0)][_0x32f160['instanceName']]['getScheduleMessage']();}async[a0_0x1eb7af(0x6c3)](_0x15782e){const _0x15f17e=a0_0x1eb7af;return await this[_0x15f17e(0x7c5)][_0x15f17e(0x6f0)][_0x15782e['instanceName']][_0x15f17e(0x6c3)]();}async['getAutomateSystem'](_0x38debb){const _0x58f05c=a0_0x1eb7af;return await this[_0x58f05c(0x7c5)][_0x58f05c(0x6f0)][_0x38debb[_0x58f05c(0x1fc)]][_0x58f05c(0x245)]();}async[a0_0x1eb7af(0x748)](_0xd172c7,_0x487f68){const _0x14d74a=a0_0x1eb7af;return await this[_0x14d74a(0x7c5)][_0x14d74a(0x6f0)][_0xd172c7[_0x14d74a(0x1fc)]][_0x14d74a(0x748)](_0x487f68);}async[a0_0x1eb7af(0x688)](_0x4bdd3e,_0x6bbe88){const _0x540483=a0_0x1eb7af;return await this['waMonitor'][_0x540483(0x6f0)][_0x4bdd3e[_0x540483(0x1fc)]][_0x540483(0x688)](_0x6bbe88);}async[a0_0x1eb7af(0x130)](_0x3ddc41,_0x43c854){const _0x5b8c4d=a0_0x1eb7af;return await this['waMonitor'][_0x5b8c4d(0x6f0)][_0x3ddc41[_0x5b8c4d(0x1fc)]][_0x5b8c4d(0x130)](_0x43c854);}async[a0_0x1eb7af(0x568)](_0x558e22,_0x10c34e){const _0x140d29=a0_0x1eb7af;return await this['waMonitor'][_0x140d29(0x6f0)][_0x558e22['instanceName']]['updateFlowConfig'](_0x10c34e);}async['startFlow'](_0x522c60,_0x1dcaa4){const _0x1830e8=a0_0x1eb7af;return await this[_0x1830e8(0x7c5)]['waInstances'][_0x522c60['instanceName']]['startFlow'](_0x1dcaa4);}async[a0_0x1eb7af(0x3b9)](_0x27c584,_0x2c3338,_0x5f5531,_0x5694a4){const _0x179311=a0_0x1eb7af;return await this['waMonitor'][_0x179311(0x6f0)][_0x27c584][_0x179311(0x3b9)](_0x2c3338,_0x5f5531,_0x5694a4);}async[a0_0x1eb7af(0x2e1)](_0x5bd653,_0x121039){const _0x17a625=a0_0x1eb7af;return await this[_0x17a625(0x7c5)][_0x17a625(0x6f0)][_0x5bd653[_0x17a625(0x1fc)]]['getConversation'](_0x121039);}async['fetchConversation'](_0x178aa6,_0x353fba){const _0x5c6660=a0_0x1eb7af;return await this[_0x5c6660(0x7c5)][_0x5c6660(0x6f0)][_0x178aa6[_0x5c6660(0x1fc)]][_0x5c6660(0x25e)](_0x353fba);}async[a0_0x1eb7af(0x6f1)](_0x54320c,_0x3b5ba0){const _0x4712ca=a0_0x1eb7af;return await this[_0x4712ca(0x7c5)][_0x4712ca(0x6f0)][_0x54320c[_0x4712ca(0x1fc)]][_0x4712ca(0x6f1)](_0x3b5ba0);}async['deleteConversation'](_0x3030b6,_0x70de6a){const _0x367d48=a0_0x1eb7af;return await this[_0x367d48(0x7c5)][_0x367d48(0x6f0)][_0x3030b6[_0x367d48(0x1fc)]]['deleteConversation'](_0x70de6a);}async['getFlow'](_0x41f66c,_0x456248){const _0x4533ab=a0_0x1eb7af;return await this[_0x4533ab(0x7c5)][_0x4533ab(0x6f0)][_0x41f66c[_0x4533ab(0x1fc)]][_0x4533ab(0x32f)](_0x456248[_0x4533ab(0x710)]);}async['createFlow'](_0x1847d3,_0x17f310,_0x11689f){const _0x1b4deb=a0_0x1eb7af;return await this[_0x1b4deb(0x7c5)]['waInstances'][_0x1847d3[_0x1b4deb(0x1fc)]]['createFlow'](_0x17f310,_0x11689f);}async[a0_0x1eb7af(0x3ff)](_0x5189ca,_0x4b6ccd,_0x58091c){const _0x395e46=a0_0x1eb7af;return await this['waMonitor'][_0x395e46(0x6f0)][_0x5189ca[_0x395e46(0x1fc)]][_0x395e46(0x3ff)](_0x4b6ccd,_0x58091c);}async[a0_0x1eb7af(0x3f5)](_0x288046,_0x5b9ae8){const _0x4d8e3d=a0_0x1eb7af;return await this[_0x4d8e3d(0x7c5)][_0x4d8e3d(0x6f0)][_0x288046[_0x4d8e3d(0x1fc)]][_0x4d8e3d(0x3f5)](_0x5b9ae8);}async['editFlowReply'](_0x14a9bb,_0x5cf2f7){const _0x2eab73=a0_0x1eb7af;return await this['waMonitor']['waInstances'][_0x14a9bb[_0x2eab73(0x1fc)]]['editFlowReply'](_0x5cf2f7);}async[a0_0x1eb7af(0x3c4)](_0x43bf32,_0x190278){const _0x3d27fc=a0_0x1eb7af;return await this[_0x3d27fc(0x7c5)]['waInstances'][_0x43bf32[_0x3d27fc(0x1fc)]][_0x3d27fc(0x3c4)](_0x190278);}async[a0_0x1eb7af(0x759)](_0x156566,_0x36856f){const _0x1402f7=a0_0x1eb7af;return await this[_0x1402f7(0x7c5)]['waInstances'][_0x156566[_0x1402f7(0x1fc)]][_0x1402f7(0x759)](_0x36856f);}async[a0_0x1eb7af(0x475)](_0x3f22c8,_0x22963f){const _0x2e460a=a0_0x1eb7af;return await this[_0x2e460a(0x7c5)]['waInstances'][_0x3f22c8['instanceName']][_0x2e460a(0x475)](_0x22963f);}async[a0_0x1eb7af(0x48c)](_0x3b1b21,_0x14646a){const _0x550af4=a0_0x1eb7af;return await this[_0x550af4(0x7c5)][_0x550af4(0x6f0)][_0x3b1b21[_0x550af4(0x1fc)]]['editFlowVariable'](_0x14646a);}async['deleteFlow'](_0x5de192,_0x19f729){const _0xb9ad7b=a0_0x1eb7af;return await this['waMonitor'][_0xb9ad7b(0x6f0)][_0x5de192[_0xb9ad7b(0x1fc)]][_0xb9ad7b(0x147)](_0x19f729);}async['allFlows'](_0x4c925a){const _0x208230=a0_0x1eb7af;return await this[_0x208230(0x7c5)][_0x208230(0x6f0)][_0x4c925a[_0x208230(0x1fc)]]['allFlows']();}},ts=class{constructor(_0x1ee40f){const _0x24d61b=a0_0x1eb7af;this[_0x24d61b(0x440)]=_0x1ee40f;}async['createWebhook'](_0x20eefa,_0x346d58){const _0x4dac5b=a0_0x1eb7af;return this[_0x4dac5b(0x440)][_0x4dac5b(0xff)](_0x20eefa,_0x346d58);}async[a0_0x1eb7af(0x61a)](_0x261379){const _0x91bb28=a0_0x1eb7af;return this[_0x91bb28(0x440)]['find'](_0x261379);}},ss=class extends O{constructor(_0x4f6c78,_0x57b335){const _0x3e3897=a0_0x1eb7af;super(_0x57b335),this[_0x3e3897(0x739)]=_0x4f6c78,this[_0x3e3897(0x768)]=_0x57b335;}async[a0_0x1eb7af(0xff)](_0x52b1dd,_0x41f6aa){const _0x37fc0f=a0_0x1eb7af;try{return this[_0x37fc0f(0x4b4)][_0x37fc0f(0x412)]?{'insertCount':(await this[_0x37fc0f(0x739)][_0x37fc0f(0x1ed)]({'_id':_0x41f6aa},{..._0x52b1dd},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x3b4c9e){return _0x3b4c9e;}}async[a0_0x1eb7af(0x404)](_0xf66816){const _0x49bb79=a0_0x1eb7af;try{if(this[_0x49bb79(0x4b4)][_0x49bb79(0x412)]){await this[_0x49bb79(0x739)]['deleteOne']({'_id':_0xf66816});return;}}catch(_0x3d9ff1){return{'error':_0x3d9ff1};}}async['find'](_0x559296){const _0x2dbb43=a0_0x1eb7af;try{if(this[_0x2dbb43(0x4b4)][_0x2dbb43(0x412)])return await this['webhookModel'][_0x2dbb43(0x1be)]({'_id':_0x559296});}catch{return{};}}},as=class extends O{constructor(_0x8cd561,_0x61258){const _0x8874ba=a0_0x1eb7af;super(_0x61258),this[_0x8874ba(0x411)]=_0x8cd561,this[_0x8874ba(0x768)]=_0x61258,this['auth']=_0x61258[_0x8874ba(0x14e)](_0x8874ba(0x41a));}async['create'](_0x1fe6d2,_0x406a2e){const _0x462957=a0_0x1eb7af;try{if(this[_0x462957(0x4b4)][_0x462957(0x412)])return{'insertCount':(await this[_0x462957(0x411)][_0x462957(0x393)]({'_id':_0x406a2e},{'$set':{..._0x1fe6d2}},{'upsert':!0x0}))[_0x462957(0x685)]};}catch(_0x1926ff){return{'error':_0x1926ff};}}async[a0_0x1eb7af(0x407)](_0x4fa9b8,_0x3e7a6c){const _0x1fb18a=a0_0x1eb7af;try{if(this[_0x1fb18a(0x4b4)][_0x1fb18a(0x412)])return{'insertCount':(await this[_0x1fb18a(0x411)][_0x1fb18a(0x3a2)](_0x4fa9b8,{'$set':_0x3e7a6c},{'upsert':!0x1}))[_0x1fb18a(0x685)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x2df2e0){return{'error':_0x2df2e0};}}async[a0_0x1eb7af(0x5d5)](_0x1b80ba){const _0x4435ee=a0_0x1eb7af;try{if(this[_0x4435ee(0x4b4)][_0x4435ee(0x412)])return{'insertCount':(await this[_0x4435ee(0x411)][_0x4435ee(0x5d5)](_0x1b80ba))[_0x4435ee(0x1c8)]};throw new Error(_0x4435ee(0x73a));}catch(_0x447d4a){return{'error':_0x447d4a};}}async[a0_0x1eb7af(0x404)](_0x39c19c){const _0xac9fb8=a0_0x1eb7af;try{if(this['dbSettings'][_0xac9fb8(0x412)]){await this[_0xac9fb8(0x411)][_0xac9fb8(0x81c)]({'_id':_0x39c19c});return;}}catch(_0xa309fa){return{'error':_0xa309fa};}}async[a0_0x1eb7af(0x7a9)](_0x2bcd8f){const _0x13df84=a0_0x1eb7af;try{if(this[_0x13df84(0x4b4)]['ENABLED'])return await this['authModel'][_0x13df84(0x1be)]({'_id':_0x2bcd8f});}catch{return{};}}async[a0_0x1eb7af(0x5fc)](){const _0x3f3c59=a0_0x1eb7af;try{if(this[_0x3f3c59(0x4b4)][_0x3f3c59(0x412)])return await this[_0x3f3c59(0x411)][_0x3f3c59(0x7a9)]();}catch{return[];}}async[a0_0x1eb7af(0x1c9)](_0x5b0f79){const _0xfddd62=a0_0x1eb7af;try{if(this[_0xfddd62(0x4b4)][_0xfddd62(0x412)])return await this[_0xfddd62(0x411)][_0xfddd62(0x7a9)](_0x5b0f79);}catch{return[];}}},xo=require('uuid'),os=class extends O{async[a0_0x1eb7af(0x81c)](_0x400152){const _0x5eb30d=a0_0x1eb7af;try{let _0x400a3e=T(_0x400152['where']);return{'deletedCount':(await pe[_0x5eb30d(0x81c)](_0x400a3e))[_0x5eb30d(0x1c8)]};}catch(_0x227af0){return{'error':_0x227af0?.[_0x5eb30d(0x725)]()};}}async[a0_0x1eb7af(0x393)](_0x37b275,_0x354cc4){const _0x54636c=a0_0x1eb7af;try{let _0x182433=await pe[_0x54636c(0x44b)](_0x37b275);return _0x182433?(Object[_0x54636c(0x69f)](_0x182433,_0x354cc4),await _0x182433[_0x54636c(0x674)]()):(console['error'](_0x54636c(0x1d9),_0x37b275),null);}catch(_0x2fda5d){return console['error'](_0x54636c(0x514),_0x2fda5d),null;}}async[a0_0x1eb7af(0x2a6)](_0x493132){const _0x117133=a0_0x1eb7af;try{return await new pe(_0x493132)[_0x117133(0x674)]();}catch(_0x26b10){return console[_0x117133(0x299)]('Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:',_0x26b10),null;}}async[a0_0x1eb7af(0x5fc)](_0x1c31e5){const _0x7265e0=a0_0x1eb7af;try{let _0x3c5656=_0x1c31e5[_0x7265e0(0x5b0)]??{};return await pe['find'](_0x3c5656)[_0x7265e0(0x27c)](_0x1c31e5[_0x7265e0(0x27c)]??0x0)[_0x7265e0(0x5de)]();}catch(_0x2f04c5){return console[_0x7265e0(0x299)](_0x7265e0(0x385),_0x2f04c5),[];}}async[a0_0x1eb7af(0x1be)](_0x32fa92){const _0x2c6578=a0_0x1eb7af;try{let _0x474401=T(_0x32fa92[_0x2c6578(0x5b0)]);return await pe[_0x2c6578(0x1be)](_0x474401)[_0x2c6578(0x5de)]();}catch{return null;}}async[a0_0x1eb7af(0x114)](_0x540ba5){const _0x1deea7=a0_0x1eb7af;try{let _0x5342ba=vs(_0x540ba5);if(!_0x5342ba){let _0x311c94=_0x1deea7(0xf9)+_0x540ba5;return console[_0x1deea7(0x299)](_0x311c94),{'success':!0x1,'error':new Error(_0x311c94)};}return await _0x5342ba[_0x1deea7(0x2d2)][_0x1deea7(0x701)](),{'success':!0x0};}catch(_0x2d0676){return console['error'](_0x2d0676),{'success':!0x1,'error':_0x2d0676 instanceof Error?_0x2d0676:new Error(String(_0x2d0676))};}}async[a0_0x1eb7af(0x5f2)](_0x4967df){const _0x47f5c8=a0_0x1eb7af;try{let _0x479895=vs(_0x4967df);if(!_0x479895)return console[_0x47f5c8(0x299)](_0x47f5c8(0xf9)+_0x4967df),0x0;let _0x149338=await _0x479895[_0x47f5c8(0x7a9)]({})[_0x47f5c8(0x5de)]();if(console['log']('Fluxos\x20encontrados\x20de\x20\x27'+_0x4967df+_0x47f5c8(0x370)+_0x149338[_0x47f5c8(0x3fe)]),!_0x149338||_0x149338[_0x47f5c8(0x3fe)]===0x0)return console['log'](_0x47f5c8(0x53e)+_0x4967df),0x0;let _0x24e033=_0x149338[_0x47f5c8(0x285)](_0x237623=>{const _0x3fc61c=_0x47f5c8;let {global:_0x1fcd6c,startID:_0x223729,sharePass:_0x16b780,shareOwners:_0x347b90,minutesToClose:_0x20c30a,readMessages:_0x17f3d2,testingWith:_0x2c5ea0,startCommandWord:_0x39cdd4,default:_0x509cfa,..._0x3709e1}=_0x237623,_0x3ab6a8=Array[_0x3fc61c(0x3a6)](new Set([..._0x347b90,_0x4967df])),_0x2d9092=Array[_0x3fc61c(0x3a6)](new Set([..._0x347b90,_0x4967df]));return{..._0x3709e1,'_id':(0x0,xo['v4'])(),'owner':_0x4967df,'globalShow':_0x237623[_0x3fc61c(0x66f)]===_0x3fc61c(0x125),'whoCanEdit':_0x3ab6a8,'whoCanUse':_0x2d9092};});return await pe[_0x47f5c8(0x2ce)](_0x24e033),await _0x479895['collection']['drop'](),console[_0x47f5c8(0x265)](_0x47f5c8(0x506)+_0x4967df+_0x47f5c8(0x104)),_0x24e033[_0x47f5c8(0x3fe)];}catch(_0x3519f7){return console[_0x47f5c8(0x299)](_0x47f5c8(0x5ac)+_0x4967df+'\x27:',_0x3519f7),0x0;}}async[a0_0x1eb7af(0x306)](_0x38f23b){const _0x1a76c3=a0_0x1eb7af;let _0x11eba2=0x0;for(let _0x237522 of _0x38f23b){let _0x5cdd76=await this[_0x1a76c3(0x5f2)](_0x237522);_0x11eba2+=_0x5cdd76;}return console[_0x1a76c3(0x265)]('Total\x20de\x20fluxos\x20transferidos\x20para\x20a\x20coleção\x20centralizada:\x20'+_0x11eba2),_0x11eba2;}},is=class extends O{['getConversationModelForOwner'](_0x58e95a){return ya(_0x58e95a);}async[a0_0x1eb7af(0x1f7)](_0x15a02b){const _0x43d61a=a0_0x1eb7af;if(_0x15a02b[_0x43d61a(0x3fe)]!==0x0)try{return{'insertCount':(await this[_0x43d61a(0x129)](_0x15a02b[0x0][_0x43d61a(0x337)])[_0x43d61a(0x2ce)]([..._0x15a02b]))[_0x43d61a(0x3fe)]};}catch(_0x193382){return _0x193382;}}async[a0_0x1eb7af(0x404)](_0x4e6a57,_0x3c1d49){const _0x21b19d=a0_0x1eb7af;try{let _0x45a19f=this['getConversationModelForOwner'](_0x3c1d49),_0x1f604d=T(_0x4e6a57[_0x21b19d(0x5b0)]);return{'deletedCount':(await _0x45a19f[_0x21b19d(0x5d5)](_0x1f604d))[_0x21b19d(0x1c8)]};}catch(_0x2f0dc7){return{'error':_0x2f0dc7?.[_0x21b19d(0x725)]()};}}async[a0_0x1eb7af(0x81c)](_0x67ddca,_0x43eee8){const _0x2b8327=a0_0x1eb7af;try{let _0x3fddbd=this[_0x2b8327(0x129)](_0x43eee8),_0x4f683f=T(_0x67ddca[_0x2b8327(0x5b0)]);return{'deletedCount':(await _0x3fddbd[_0x2b8327(0x81c)](_0x4f683f))['deletedCount']};}catch(_0x3316b1){return{'error':_0x3316b1?.[_0x2b8327(0x725)]()};}}async[a0_0x1eb7af(0x7f1)](_0x27c7b9,_0x334d0b){const _0x4f30cd=a0_0x1eb7af;try{if(_0x27c7b9['length']===0x0)return;let _0x444b97=this['getConversationModelForOwner'](_0x334d0b),_0x1279f8=_0x27c7b9[_0x4f30cd(0x285)](_0x20f61d=>({'updateOne':{'filter':{'name':_0x20f61d[_0x4f30cd(0x587)],'owner':_0x334d0b},'update':{..._0x20f61d}}})),{modifiedCount:_0x5b773a}=await _0x444b97[_0x4f30cd(0x494)](_0x1279f8);return{'insertCount':_0x5b773a};}catch{return;}}async[a0_0x1eb7af(0x3a2)](_0x630a82,_0x55b737,_0x2a6405){const _0x182935=a0_0x1eb7af;try{return{'modifiedCount':(await this[_0x182935(0x129)](_0x2a6405)[_0x182935(0x3a2)](_0x630a82,{'$set':_0x55b737})[_0x182935(0x6a4)]())[_0x182935(0x685)]};}catch(_0xff6b0c){return console['error'](_0x182935(0x5f5),_0xff6b0c),{'error':_0xff6b0c};}}async[a0_0x1eb7af(0x393)](_0x24150e,_0x584ee0,_0x50cc02){const _0xe7f5b5=a0_0x1eb7af;try{return await this[_0xe7f5b5(0x129)](_0x50cc02)[_0xe7f5b5(0x4d9)]({'_id':_0x24150e},{'$set':_0x584ee0},{'new':!0x0,'upsert':!0x0})[_0xe7f5b5(0x5de)]();}catch(_0x1d7188){return console[_0xe7f5b5(0x299)](_0x1d7188),null;}}async['find'](_0x4db36a,_0x2e5f25){const _0x2bcce6=a0_0x1eb7af;try{return await this[_0x2bcce6(0x129)](_0x2e5f25)[_0x2bcce6(0x7a9)](_0x4db36a)[_0x2bcce6(0x555)]({'lastInteraction':-0x1})[_0x2bcce6(0x5de)]();}catch{return[];}}async[a0_0x1eb7af(0x1be)](_0x3b37f0,_0x16d763){const _0x1f901c=a0_0x1eb7af;try{return await this['getConversationModelForOwner'](_0x16d763)[_0x1f901c(0x1be)]({..._0x3b37f0[_0x1f901c(0x5b0)]})['lean']();}catch{return null;}}async[a0_0x1eb7af(0x114)](_0x50b4ab){const _0x20f77f=a0_0x1eb7af;try{return await this[_0x20f77f(0x129)](_0x50b4ab)['collection'][_0x20f77f(0x701)](),{'success':!0x0};}catch(_0x465035){return console[_0x20f77f(0x299)](_0x465035),{'success':!0x1,'error':_0x465035};}}},rs=class extends O{[a0_0x1eb7af(0x4e5)](_0xb12fa3){return ba(_0xb12fa3);}async[a0_0x1eb7af(0x2a6)](_0x28eceb,_0x12d588){const _0x470b73=a0_0x1eb7af;try{let _0x205cd0=this['getScheduleMessageModelForOwner'](_0x12d588);return await new _0x205cd0(_0x28eceb)['save']();}catch(_0x19a818){return console[_0x470b73(0x299)](_0x470b73(0x37b),_0x19a818),null;}}async['deleteOne'](_0xaf33aa,_0x5de9df){const _0x4ac4d3=a0_0x1eb7af;try{return await this[_0x4ac4d3(0x4e5)](_0x5de9df)[_0x4ac4d3(0x4fc)](_0xaf33aa),{};}catch(_0x516808){return{'error':_0x516808?.[_0x4ac4d3(0x725)]()};}}async[a0_0x1eb7af(0x393)](_0x4ce6f1,_0x2a3175,_0x436036){const _0x479492=a0_0x1eb7af;try{return await this[_0x479492(0x4e5)](_0x436036)[_0x479492(0x4d9)](_0x4ce6f1,{'$set':_0x2a3175},{'new':!0x0})['lean']();}catch(_0x1bacde){return console['error'](_0x479492(0x806),_0x1bacde),null;}}async['updateOneById'](_0x4eaa41,_0x5e9960,_0x56e33d){const _0x18b8f5=a0_0x1eb7af;try{return await this[_0x18b8f5(0x4e5)](_0x56e33d)['findByIdAndUpdate'](_0x4eaa41,_0x5e9960,{'new':!0x0})[_0x18b8f5(0x5de)]();}catch(_0x32e456){return console[_0x18b8f5(0x299)](_0x18b8f5(0x806),_0x32e456),null;}}async[a0_0x1eb7af(0x7a9)](_0x2b02bd,_0x15c851){const _0x3f32f1=a0_0x1eb7af;try{return await this['getScheduleMessageModelForOwner'](_0x15c851)[_0x3f32f1(0x7a9)](_0x2b02bd[_0x3f32f1(0x5b0)])[_0x3f32f1(0x27c)](_0x2b02bd?.[_0x3f32f1(0x27c)]??0x0)['sort']({'when':0x1})[_0x3f32f1(0x5de)]();}catch{return[];}}async[a0_0x1eb7af(0x1be)](_0x54bdf7,_0x4f2d74){const _0x3ad9b8=a0_0x1eb7af;try{return await this[_0x3ad9b8(0x4e5)](_0x4f2d74)['findOne'](_0x54bdf7['where'])[_0x3ad9b8(0x555)]({'when':0x1})[_0x3ad9b8(0x5de)]();}catch{return null;}}async[a0_0x1eb7af(0x44b)](_0x490290,_0x4abe2f){const _0x3b0a65=a0_0x1eb7af;try{return await this[_0x3b0a65(0x4e5)](_0x4abe2f)[_0x3b0a65(0x44b)](_0x490290)[_0x3b0a65(0x5de)]();}catch{return null;}}async[a0_0x1eb7af(0x5d5)](_0x37a527,_0x2d4ae8){const _0x26af10=a0_0x1eb7af;try{return{'deletedCount':(await this[_0x26af10(0x4e5)](_0x2d4ae8)[_0x26af10(0x5d5)](_0x37a527))['deletedCount']};}catch(_0x324b30){return console[_0x26af10(0x299)](_0x26af10(0x707),_0x324b30),{'error':_0x324b30};}}async['deleteAll'](_0x4da040){const _0x1cc698=a0_0x1eb7af;try{return await this[_0x1cc698(0x4e5)](_0x4da040)[_0x1cc698(0x2d2)][_0x1cc698(0x701)](),{'success':!0x0};}catch(_0x455610){return console[_0x1cc698(0x299)](_0x455610),{'success':!0x1,'error':_0x455610};}}},ns=class extends O{async[a0_0x1eb7af(0x7f1)](_0x3779d2,_0x121f34){const _0x51a52c=a0_0x1eb7af;try{if(this[_0x51a52c(0x4b4)][_0x51a52c(0x412)]){let _0x5f74ca=await $e[_0x51a52c(0x4d9)]({'_id':_0x121f34},{'$set':_0x3779d2},{'new':!0x0});return console[_0x51a52c(0x265)](_0x51a52c(0x4d7),_0x5f74ca),_0x5f74ca;}}catch(_0x3df46f){throw console['error'](_0x51a52c(0x3f9),_0x3df46f),_0x3df46f;}}async[a0_0x1eb7af(0x7fb)](_0x31863a){const _0x53d036=a0_0x1eb7af;try{let _0xb47043=await $e[_0x53d036(0x44b)](_0x31863a);return _0xb47043?_0xb47043[_0x53d036(0x7ca)]||(_0xb47043[_0x53d036(0x7ca)]=[],await _0xb47043[_0x53d036(0x674)]()):(_0xb47043=new $e({'_id':_0x31863a,'autoCompleteMessages':[]}),await _0xb47043['save']()),_0xb47043;}catch(_0x11919f){return _0x11919f[_0x53d036(0x22e)]===0x2af8&&_0x11919f[_0x53d036(0xf5)]&&_0x11919f[_0x53d036(0xf5)][_0x53d036(0x592)]?(console['error'](_0x53d036(0x105)),await $e[_0x53d036(0x2d2)][_0x53d036(0x44e)]('autoCompleteMessages.command_1'),null):(console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x11919f),null);}}},Fi=new $(a0_0x1eb7af(0x6d8)),Ui=new Ke(b),ji=new Gt(b),Ji=new rt(b),qi=new Bt(ia,b),Vi=new ss(ha,b),Gi=new as(ua,b),Bi=new Ee(Be,b),Wi=new os(b),zi=new Wt(b),Hi=new is(b),Ki=new rs(b),Qi=new ns(b),he=new ze(Ui,ji,Ji,qi,Vi,Gi,Bi,Wi,Hi,zi,Ki,Qi,R?.[a0_0x1eb7af(0x4a3)]()),G=new Vt(hs,b,he),Yi=new Yt(b,G,he),Xi=new Zt(G),As=new ts(Xi),I=new es(G),ce=new Kt(G,b,he,hs,Yi),B=new Qt(G),P=new zt(G),q=new Xt(G);Fi[a0_0x1eb7af(0x353)](a0_0x1eb7af(0x315));var dg=require('express-async-errors'),js=require('fs'),Do=A(require('https')),Po=A(require('http')),Le=class l{static #e;static set['app'](_0x3f9054){this.#e=_0x3f9054;}static get[a0_0x1eb7af(0x593)](){const _0x1be24f=a0_0x1eb7af;let {FULLCHAIN:_0x519f2d,PRIVKEY:_0x44ec71}=b[_0x1be24f(0x14e)](_0x1be24f(0x529));return Do[_0x1be24f(0x5a7)]({'cert':(0x0,js['readFileSync'])(_0x519f2d),'key':(0x0,js[_0x1be24f(0x734)])(_0x44ec71)},l.#e);}static get['http'](){const _0xc17e0f=a0_0x1eb7af;return Po[_0xc17e0f(0x5a7)](l.#e);}},fe=A(require('fs')),Jo=A(require(a0_0x1eb7af(0x785))),Fe=A(require(a0_0x1eb7af(0x5a5))),je=A(require(a0_0x1eb7af(0x7f5))),we=require(a0_0x1eb7af(0x33b));function Zi(){const _0x4a3004=a0_0x1eb7af;G['loadInstance']();let _0x1ee2f2=je[_0x4a3004(0x39f)]['join'](__dirname,_0x4a3004(0x7de));jo(_0x1ee2f2);}var jo=_0x220a51=>{const _0x1ab368=a0_0x1eb7af;let _0x17ec96=fe[_0x1ab368(0x39f)][_0x1ab368(0x7e7)](_0x220a51),_0x432018=0xc*0x3c*0x3c*0x3e8,_0x17b519=0x2*0x3c*0x3c*0x3e8,_0x613998=new Date()['getTime']();_0x17ec96['forEach'](_0x252f9c=>{const _0xd98daa=_0x1ab368;let _0x186d64=je['default'][_0xd98daa(0x17d)](_0x220a51,_0x252f9c),_0x4e1d0b=fe['default'][_0xd98daa(0x6e5)](_0x186d64)[_0xd98daa(0x74a)]['getTime']();_0x613998-_0x4e1d0b>_0x432018&&(fe[_0xd98daa(0x39f)][_0xd98daa(0x394)](_0x186d64),console[_0xd98daa(0x265)](_0xd98daa(0x408)+_0x252f9c));}),setTimeout(()=>jo(_0x220a51),_0x17b519);};function er(){const _0x10c2cd=a0_0x1eb7af;let _0x3a3e5d=new $(_0x10c2cd(0x610)),_0xefa84c=(0x0,ye[_0x10c2cd(0x39f)])();_0xefa84c[_0x10c2cd(0x2c1)]((0x0,Uo[_0x10c2cd(0x39f)])({'origin'(_0x4a8f94,_0x1c737f){const _0x4b4c56=_0x10c2cd;let {ORIGIN:_0x1c812b}=b[_0x4b4c56(0x14e)](_0x4b4c56(0x5eb));return _0x4a8f94||(_0x4a8f94='*'),_0x1c812b[_0x4b4c56(0x561)]('*')!==-0x1||_0x1c812b[_0x4b4c56(0x561)](_0x4a8f94)!==-0x1?_0x1c737f(null,!0x0):_0x1c737f(new Error(_0x4b4c56(0x135)));},'methods':[...b[_0x10c2cd(0x14e)](_0x10c2cd(0x5eb))[_0x10c2cd(0x4ec)]],'credentials':b['get'](_0x10c2cd(0x5eb))[_0x10c2cd(0x298)]}),(0x0,ye[_0x10c2cd(0x4cd)])({'extended':!0x0,'limit':_0x10c2cd(0x796)}),(0x0,ye[_0x10c2cd(0x7bf)])({'limit':_0x10c2cd(0x796)})),_0xefa84c[_0x10c2cd(0x2c1)]((_0x526707,_0x491035,_0x22126e)=>{const _0x4c410e=_0x10c2cd;_0x526707[_0x4c410e(0x7f5)][_0x4c410e(0x24d)](_0x4c410e(0x6e4))?_0x22126e():(0x0,Fo['default'])()(_0x526707,_0x491035,_0x22126e);}),_0xefa84c[_0x10c2cd(0x598)](_0x10c2cd(0x7f2),_0x10c2cd(0x71e)),_0xefa84c[_0x10c2cd(0x598)](_0x10c2cd(0x24c),(0x0,qs[_0x10c2cd(0x17d)])(ie,'views')),_0xefa84c[_0x10c2cd(0x2c1)](ye['default']['static']((0x0,qs['join'])(ie,_0x10c2cd(0x68c)))),_0xefa84c['use']((_0x30c317,_0xddd61a,_0x16daf0)=>{const _0x4fc080=_0x10c2cd;let _0x3f8a2e=_0xddd61a[_0x4fc080(0x107)];_0xddd61a[_0x4fc080(0x107)]=function(_0x1b1003){const _0x42b4dd=_0x4fc080;if(_0x30c317[_0x42b4dd(0x2cb)]['convert']===_0x42b4dd(0x125)||_0x30c317['headers'][_0x42b4dd(0x6ff)]===_0x42b4dd(0x125)){let _0x51c7e8=JSON[_0x42b4dd(0x164)](_0x1b1003);_0x1b1003=JSON[_0x42b4dd(0x454)](_0x3c05e2(_0x51c7e8));}return _0x3f8a2e['apply'](_0xddd61a,[_0x1b1003]);},_0x16daf0();}),_0xefa84c[_0x10c2cd(0x2c1)]('/',xe),_0xefa84c[_0x10c2cd(0x2c1)]((_0x387450,_0x1479a3,_0x32c29c,_0x22556b)=>{const _0x4beb89=_0x10c2cd;if(_0x387450)return _0x32c29c['status'](_0x387450[_0x4beb89(0x771)]||0x1f4)[_0x4beb89(0x7bf)](_0x387450);},(_0x545de7,_0x13ad74,_0x4a93f6)=>{const _0xe766e1=_0x10c2cd;let {method:_0xf32fec,url:_0x2b0d92}=_0x545de7;_0x13ad74[_0xe766e1(0x771)](0x194)[_0xe766e1(0x7bf)]({'status':0x194,'message':'Cannot\x20'+_0xf32fec[_0xe766e1(0x210)]()+'\x20'+_0x2b0d92,'error':_0xe766e1(0x15b)}),_0x4a93f6();});let _0x3c05e2=(_0x16eb77,_0x52a8d8=_0x10c2cd(0x751))=>{const _0x3642f8=_0x10c2cd;let _0xa21a68=(_0x1b461a,_0x21b1ba=null,_0x44be60=!0x1)=>{const _0x2da255=a0_0x4c0f;let _0x355c3f={};return Object[_0x2da255(0x81b)](_0x1b461a)[_0x2da255(0x7d3)](_0x115a1c=>{const _0x104d0b=_0x2da255;let _0x578733=_0x1b461a[_0x115a1c],_0x18295c=''+_0x52a8d8+_0x115a1c;_0x21b1ba&&!_0x44be60&&(_0x18295c=_0x21b1ba+'.'+_0x115a1c),!_0x578733&&_0x578733!==0x0&&_0x578733!==!0x1||typeof _0x578733>'u'?_0x355c3f[_0x18295c]=null:typeof _0x578733!='object'&&!Array[_0x104d0b(0x50d)](_0x578733)?_0x355c3f[_0x18295c]=_0x578733:typeof _0x578733==_0x104d0b(0x23d)&&!Array[_0x104d0b(0x50d)](_0x578733)?_0x355c3f=Object['assign'](_0x355c3f,_0xa21a68(_0x578733,_0x18295c)):Array[_0x104d0b(0x50d)](_0x578733)&&(typeof _0x578733[0x0]==_0x104d0b(0x23d)?(_0x355c3f[_0x18295c]=[],_0x578733[_0x104d0b(0x7d3)](_0x4e6eef=>{const _0x3b1d28=_0x104d0b;_0x355c3f[_0x18295c][_0x3b1d28(0x46f)](_0xa21a68(_0x4e6eef,_0x18295c,!0x0));})):_0x355c3f[_0x18295c]=_0x578733);}),_0x355c3f;};return Array[_0x3642f8(0x50d)](_0x16eb77)?_0x16eb77['map'](_0x41d622=>_0xa21a68(_0x41d622)):typeof _0x16eb77=='object'&&_0x16eb77!==null?_0xa21a68(_0x16eb77):{};},_0x38dcba=b[_0x10c2cd(0x14e)]('SERVER');Le[_0x10c2cd(0x730)]=_0xefa84c;let _0x489e8e=Le[_0x38dcba[_0x10c2cd(0x467)]],_0x5c5609=_0x10c2cd(0x570);_0x489e8e[_0x10c2cd(0x54f)](_0x38dcba[_0x10c2cd(0x4e8)],()=>{const _0x36e06d=_0x10c2cd;_0x3a3e5d['log'](_0x5c5609),_0x3a3e5d['log'](_0x38dcba[_0x36e06d(0x467)][_0x36e06d(0x210)]()+_0x36e06d(0xf6)+_0x38dcba[_0x36e06d(0x4e8)]);}),Zi(),Zs();}var tr='https://github.com/uazapi/uazapi.git',sr=je[a0_0x1eb7af(0x39f)][a0_0x1eb7af(0x17d)](__dirname,a0_0x1eb7af(0x6fc)),Ue=null;function ar(){return new Promise((_0xeba6bd,_0x3c342c)=>{const _0x158bf0=a0_0x4c0f;fe[_0x158bf0(0x39f)][_0x158bf0(0x817)](sr,_0x158bf0(0x293),(_0x15c6b1,_0x2b858d)=>{const _0xdd408c=_0x158bf0;if(_0x15c6b1){Ue=_0x15c6b1,_0xeba6bd();return;}Jo[_0xdd408c(0x39f)][_0xdd408c(0x164)](_0x2b858d)[_0xdd408c(0x696)]['url']===tr?(Ue=null,_0xeba6bd()):(Ue=new Error(_0xdd408c(0x518)),_0xeba6bd());});});}async function or(){const _0xe8cddf=a0_0x1eb7af;try{await ar(),await Vs();}catch(_0x228e17){console[_0xe8cddf(0x299)](_0xe8cddf(0x7bd)+_0x228e17),process[_0xe8cddf(0x4a4)](0x1);}}or();async function qo(){const _0x44cd61=a0_0x1eb7af;let _0x11fc46;try{_0x11fc46=(await Fe[_0x44cd61(0x39f)]['get'](_0x44cd61(0x43e)))['data']['ip'];}catch(_0x3c45a0){console[_0x44cd61(0x299)](_0x3c45a0);try{_0x11fc46=(await Fe[_0x44cd61(0x39f)]['get'](_0x44cd61(0x2df)))[_0x44cd61(0x4c8)]['ip'];}catch(_0x32a71f){console[_0x44cd61(0x299)](_0x32a71f);try{_0x11fc46=(await Fe['default'][_0x44cd61(0x14e)]('http://checkip.dyndns.org'))[_0x44cd61(0x4c8)][_0x44cd61(0x278)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x324865){return console['error'](_0x324865),!0x1;}}}return _0x11fc46;}var ko=0x0;async function ir(){const _0x3441a4=a0_0x1eb7af;let _0x2e75e1=await new le(b[_0x3441a4(0x14e)](_0x3441a4(0x5f7)))['instanceKeys']();return console[_0x3441a4(0x265)](_0x3441a4(0x2d1),_0x2e75e1[_0x3441a4(0x3fe)]),_0x2e75e1[_0x3441a4(0x3fe)];}function rr(_0xa93c2a){const _0xd965a6=a0_0x1eb7af;let _0x540723=_0xa93c2a[_0xd965a6(0x14e)](_0xd965a6(0x610))['URL'],_0x1ead3f=_0xa93c2a[_0xd965a6(0x14e)](_0xd965a6(0x529));console['log'](_0xd965a6(0x295),_0x540723),console[_0xd965a6(0x265)](_0xd965a6(0x2f9),_0x1ead3f);let _0x271dc0='',_0x5e2227=_0x540723||'';if(_0x540723){let _0x59a441=_0x540723['match'](/\/\/(.*?)\./);console[_0xd965a6(0x265)](_0xd965a6(0x2d5),_0x59a441),_0x59a441&&_0x59a441[0x1]&&(_0x271dc0=_0x59a441[0x1],console['log'](_0xd965a6(0x3b8),_0x271dc0));}if(!_0x271dc0&&_0x1ead3f&&_0x1ead3f['FULLCHAIN']){let _0x1f4b78=_0x1ead3f[_0xd965a6(0x583)]['split']('/');console[_0xd965a6(0x265)](_0xd965a6(0x2c6),_0x1f4b78);let _0x5b6b9b=_0x1f4b78[_0x1f4b78['length']-0x2];if(console[_0xd965a6(0x265)]('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x5b6b9b),_0x5b6b9b){let _0x32d0b9=_0x5b6b9b['split']('.');console[_0xd965a6(0x265)]('Partes\x20do\x20domínio:',_0x32d0b9),_0x32d0b9[_0xd965a6(0x3fe)]>0x2&&(_0x271dc0=_0x32d0b9[0x0],console[_0xd965a6(0x265)](_0xd965a6(0x10d),_0x271dc0),_0x5e2227=''+_0x5b6b9b);}}return{'subdomain':_0x271dc0||'Subdomínio\x20não\x20encontrado','fullURL':_0x5e2227||_0xd965a6(0x6bd)};}var {subdomain:oe,fullURL:Gs}=rr(b);console[a0_0x1eb7af(0x265)]('Subdomínio\x20final:',oe),console['log'](a0_0x1eb7af(0x39a),Gs);async function nr(){const _0x44e2e2=a0_0x1eb7af;let _0x2a55a6=b['get']('REDIS'),_0x28d432=b[_0x44e2e2(0x14e)]('AUTHENTICATION')[_0x44e2e2(0x140)][_0x44e2e2(0x1a5)],_0x21b3ab=b[_0x44e2e2(0x14e)](_0x44e2e2(0x529)),_0x112d81=await qo(),_0x4c34c8=b[_0x44e2e2(0x14e)](_0x44e2e2(0x610))[_0x44e2e2(0x4e8)],_0x12539d=Gs;try{let _0x492de3={'ip':_0x112d81||null,'redis_enable':_0x2a55a6?.[_0x44e2e2(0x412)]||null,'apikey':_0x28d432||null,'ssl':_0x21b3ab?.[_0x44e2e2(0x66e)]||null,'lastupdate':Vo||null,'port':_0x4c34c8||null,'gitInstallError':Ue?.[_0x44e2e2(0x729)]||null,'url':_0x12539d||null,'subdomain':oe};if(console[_0x44e2e2(0x265)]('ip:\x20',_0x492de3['ip']),_0x2a55a6&&_0x2a55a6[_0x44e2e2(0x412)]){let _0x365378=await ir();_0x492de3[_0x44e2e2(0x35d)]=_0x365378||null;}for(let _0x515a7e in _0x492de3)_0x492de3[_0x44e2e2(0x40c)](_0x515a7e)&&_0x515a7e!=='ip'&&(_0x492de3[_0x515a7e]=JSON['stringify'](_0x492de3[_0x515a7e]));return(await Fe[_0x44e2e2(0x39f)][_0x44e2e2(0x4f7)](_0x44e2e2(0x64b),_0x492de3))['data'];}catch(_0x22dd4a){return console[_0x44e2e2(0x299)](_0x22dd4a),!0x1;}}var Js=!0x1,Vo=0x24d,cr=0x3,Lo=0x1b7740;async function Vs(){const _0x3a8737=a0_0x1eb7af;if(!await qo())return console[_0x3a8737(0x299)](_0x3a8737(0x7e3)),_0x3a8737(0x446);let _0x74b2a6=await nr();if(_0x74b2a6){if(_0x74b2a6['response'][_0x3a8737(0x177)]===!0x0){let _0x2c1ee8=b['get'](_0x3a8737(0x529)),_0x42ad1a=b[_0x3a8737(0x14e)]('SERVER')[_0x3a8737(0x74e)];_0x2c1ee8&&_0x2c1ee8?.['PRIVKEY']?.['includes'](_0x3a8737(0x48f))&&_0x74b2a6[_0x3a8737(0x179)][_0x3a8737(0x167)]&&!_0x42ad1a&&(await dr(_0x74b2a6[_0x3a8737(0x179)][_0x3a8737(0x167)],ur),await pr(_0x3a8737(0x6da),_0x74b2a6['response'][_0x3a8737(0x167)]),console[_0x3a8737(0x265)](_0x3a8737(0x553)),setTimeout(()=>gr(),0x2710)),Ue===null&&_0x74b2a6[_0x3a8737(0x179)][_0x3a8737(0x684)]-Vo>0x0&&await lr(),Js||(Js=!0x0,er());let _0x11c33f=0x24*0x3c*0x3c,_0x5b8f18=_0x74b2a6[_0x3a8737(0x179)][_0x3a8737(0x65a)]>_0x11c33f?_0x11c33f:_0x74b2a6[_0x3a8737(0x179)][_0x3a8737(0x65a)],_0x3db400=Number(_0x5b8f18);if(isNaN(_0x3db400)){console['error'](_0x3a8737(0x7c1));return;}let _0x7dd1fe=Math[_0x3a8737(0x608)](_0x3db400/0xe10),_0x4bab6a=Math[_0x3a8737(0x608)](_0x3db400%0xe10/0x3c),_0x15b532=new Date(Date['now']()+_0x3db400*0x3e8);setTimeout(Vs,_0x3db400*0x3e8);let _0xa4d7af=_0x36d74e=>_0x36d74e[_0x3a8737(0x725)]()[_0x3a8737(0x814)](0x2,'0'),_0x3e192d=_0x3a8737(0x51f)+_0xa4d7af(_0x7dd1fe)+'\x20horas\x20e\x20'+_0xa4d7af(_0x4bab6a)+'\x20minutos.\x20Será\x20às\x20'+_0xa4d7af(_0x15b532['getHours']())+':'+_0xa4d7af(_0x15b532['getMinutes']())+'.';console['log'](_0x3e192d);}else return console[_0x3a8737(0x265)](_0x3a8737(0x152)),Js&&(console[_0x3a8737(0x265)](_0x3a8737(0x513)),process[_0x3a8737(0x4a4)]()),_0x3a8737(0x584);}else{if(ko++,ko<cr)console[_0x3a8737(0x265)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Lo/0xea60+_0x3a8737(0x387)),setTimeout(Vs,Lo);else return console['error'](_0x3a8737(0x1ab)),_0x3a8737(0x48b);}}async function lr(){const _0x522377=a0_0x1eb7af;console['log'](_0x522377(0x286)),console[_0x522377(0x265)]('Limpando\x20logs\x20do\x20PM2...'),(0x0,we[_0x522377(0x7d0)])('pm2\x20flush',{'shell':!0x0})['on'](_0x522377(0x575),_0xda009f=>{const _0x16c49f=_0x522377;_0xda009f!==0x0?console['error'](_0x16c49f(0xe9)):(console['log'](_0x16c49f(0x603)),console[_0x16c49f(0x265)](_0x16c49f(0x296)),(0x0,we['spawn'])(_0x16c49f(0x336),{'shell':!0x0})['on'](_0x16c49f(0x575),_0x1782bc=>{const _0x24e8de=_0x16c49f;if(_0x1782bc!==0x0)console[_0x24e8de(0x299)](_0x24e8de(0x542));else{console[_0x24e8de(0x265)]('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0x172c2b=(0x0,we['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x172c2b['stdout']['on']('data',_0xbed81e=>{console['log']('Atualização:\x20'+_0xbed81e);}),_0x172c2b[_0x24e8de(0x3b3)]['on'](_0x24e8de(0x4c8),_0x6cbdab=>{const _0x52a9e4=_0x24e8de;console[_0x52a9e4(0x299)]('Erro\x20de\x20atualização:\x20'+_0x6cbdab);}),_0x172c2b['on'](_0x24e8de(0x4a4),_0x4bee66=>{const _0x408a5b=_0x24e8de;_0x4bee66!==0x0?console['error'](_0x408a5b(0x194)+_0x4bee66):console[_0x408a5b(0x265)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x408a5b(0x265)](_0x408a5b(0x4f1)),setTimeout(()=>process['exit'](),0x2710);});}}));});}var ur=je[a0_0x1eb7af(0x39f)][a0_0x1eb7af(0x17d)](__dirname,a0_0x1eb7af(0x490));async function dr(_0x36c7eb,_0x3d193a){const _0x3980f7=a0_0x1eb7af;let _0x195306=hr();_0x36c7eb=_0x36c7eb[_0x3980f7(0x517)](_0x3980f7(0x62e),'');try{let _0x4cd43e=fe[_0x3980f7(0x39f)][_0x3980f7(0x734)](_0x3d193a,_0x3980f7(0x169));_0x4cd43e=_0x4cd43e[_0x3980f7(0x517)](/<apikey>/,_0x195306),_0x4cd43e=_0x4cd43e[_0x3980f7(0x517)](/<subdomain>/g,_0x36c7eb),fe['default'][_0x3980f7(0x259)](_0x3d193a,_0x4cd43e,_0x3980f7(0x169)),console['log'](_0x3980f7(0x808));}catch(_0x144fdc){console[_0x3980f7(0x299)](_0x3980f7(0x4ac),_0x144fdc);}}function pr(_0x50b0dc,_0x26e8b7){return new Promise((_0xa5c3f3,_0x49fe6f)=>{const _0x16914=a0_0x4c0f;let _0x2b2da2=(0x0,we['spawn'])(_0x16914(0x139),['certonly',_0x16914(0x498),'-m',_0x50b0dc,_0x16914(0x188),'-d',_0x26e8b7]);_0x2b2da2[_0x16914(0x26c)]['on'](_0x16914(0x4c8),_0x16cf42=>{const _0x420e9d=_0x16914;console[_0x420e9d(0x265)](_0x420e9d(0x427)+_0x16cf42[_0x420e9d(0x725)]());}),_0x2b2da2[_0x16914(0x3b3)]['on'](_0x16914(0x4c8),_0x5ee0a4=>{const _0x32940d=_0x16914;console[_0x32940d(0x299)]('Erro\x20do\x20Certbot:\x20'+_0x5ee0a4[_0x32940d(0x725)]());}),_0x2b2da2['on'](_0x16914(0x575),_0x423d26=>{const _0x458bbf=_0x16914;_0x423d26!==0x0?(console[_0x458bbf(0x299)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x423d26),_0x49fe6f(_0x458bbf(0x478)+_0x423d26)):(console[_0x458bbf(0x265)](_0x458bbf(0x471)),_0xa5c3f3());});});}function hr(_0x2778f1=0x32){const _0x4c69f0=a0_0x1eb7af;let _0x16761e='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x511fdf='';for(let _0xd6f4b9=0x0;_0xd6f4b9<_0x2778f1;_0xd6f4b9++)_0x511fdf+=_0x16761e[_0x4c69f0(0x4c0)](Math[_0x4c69f0(0x608)](Math[_0x4c69f0(0x1a6)]()*_0x16761e[_0x4c69f0(0x3fe)]));return _0x511fdf;}function gr(){const _0x59e1a9=a0_0x1eb7af;(0x0,we[_0x59e1a9(0x6a4)])(_0x59e1a9(0x5f1),(_0x4e8900,_0x359fb9,_0x3269fd)=>{const _0x3f676e=_0x59e1a9;if(_0x4e8900){console['error'](_0x3f676e(0x579)+_0x4e8900);return;}if(_0x3269fd){console[_0x3f676e(0x299)](_0x3f676e(0x491)+_0x3269fd);return;}console[_0x3f676e(0x265)](_0x3f676e(0x597)+_0x359fb9);});}0x0&&(module[a0_0x1eb7af(0x335)]={'fullURL':fullURL,'subdomain':subdomain});