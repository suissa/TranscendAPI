function a0_0x5036(){const _0x41a8f7=['dbClient','changeVariables','isRunning','hDel','errorLog','customFields','uazapi','findGroups','CHATS_SET','variablesToObject','groupdata','optionName','isListOfNumbers','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','mongodb','waitingMenu_id','Erro\x20ao\x20atualizar\x20cacheInstance:','footerText','Erro\x20ao\x20inserir\x20chats:','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','jpegThumbnail','stickerMessage','logger','groupAcceptInvite','flowPrefixCommand','stopConversation','hex','vir','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','quoted','$addToSet','demote','):\x20newFirstValue\x20após\x20replaceVariables:','IP\x20confirmed:\x20','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','when','4138101bwXZNZ','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','Erro\x20ao\x20atualizar\x20conversa:\x20','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','):\x20Atualizando\x20status\x20da\x20mensagem\x20','STORE_CLEANING_TERMINAL','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','URL\x20não\x20disponível','readMessages','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','WebhookGlobal','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','createOrUpdate','ignoreGroups','getClient','video','group-participants.update','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','everyOne','description','):\x20Enviando\x20localização','ip\x20-br\x20link\x20show','):\x20Entrou\x20na\x20função\x20stop','):\x20Flow\x20desativado','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','value','existsSync','addMessagesToGroup','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','):\x20Detecção\x20de\x20condição\x20de\x20corrida,\x20a\x20mensagem\x20','isInteger','updateOne','tags','next_groupId','replaceValue','CLEANING_INTERVAL','):\x20Editando\x20mensagens\x20no\x20grupo...','Message\x20absent\x20from\x20node','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','):\x20Query\x20params:\x20','pollErrorMessage','Button\x20IDs\x20cannot\x20be\x20repeated.','class-validator','post','BRL','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','mediatype','sendStatus','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','):\x20leadInfoVariables','creds.update','getMessage','execSync','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','\x0a*Você\x20respondeu*:\x0a','Type\x20is\x20required','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','):\x20Buscando\x20flow,\x20id:\x20','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','INFO','dbSettings','\x20não\x20encontrado\x20para\x20atualização.','1266EcNqlZ','replaceVariablesChat','Db\x20Connection','etiquetas','\x22\x20-\x20REMOVED','CONNECTION_UPDATE','awaitingApproval','group','findOrCreate','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','groupToggleEphemeral','}}\x20->\x20valor\x20não\x20encontrado','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','toString','dbConnection','updateMissingEtiquetas','):\x20Going\x20to\x20','delayMessage','TEL','exec','^\x5cd+([-]\x5cd+)*@g.us$','sections','cleanDisconnectedInstances','groupRequestParticipantsUpdate','):\x20conversation.waitingMenu_name','.txt','saveMediaToFile','replacer','messaging-history.set','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','DATABASE_CONNECTION_PASSWORD','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','http://checkip.dyndns.org','/config','imgUrl','router','Not\x20Found','messages.update','updateCustomFields','startCommand','idSchedule','transformScheduledMessagesByType','STATUS_INSTANCE','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','pushName','messageTimestamp','allContacts','SERVER_PORT','action','\x20minutos.\x20Será\x20às\x20','randomMac',',\x20canSendMessage:\x20','readreceipts','DaysToDelete','pairingCode','findAndUpdateCacheContact','Erro\x20ao\x20encerrar\x20a\x20API','):\x20enviado\x20para\x20[','getTicketSystem','groupUpdateDescription','options','sendWhatsAppAudio','statusMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','AddUserFlow','50mb','_Chats','IPv6\x20address\x20removed:\x20','onTime','Button\x20texts\x20cannot\x20be\x20repeated','Telefone:\x20','content','newStoppedUntil','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','whatsappNumber','getPrototypeOf','editedMessage','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','getScheduleMessage','reorderMessages','ENABLED','bateu\x20events','not_announcement','/instance','update','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','convertaudioMP3','groupSetting','instanceName','addChatLabel','creation','order','process','.fileUrl','Erro\x20ao\x20iniciar\x20fluxo:\x20','last','hasOwnProperty','string','ERROR','StartBot','readMessage','detail','scheduleSendAudio','0123456789ABCDEF','replaceVariablesInObject','includes','Bloco\x20com\x20ID\x20','stopIfLastReturnedError','Fluxo\x20id\x20\x27','startsWith','expression','capitalizedWords','setRestartTimeout','flush','online','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','applyvaredit','request\x20received\x20in\x20editFlowvariable','setting','SSL_CONF_FULLCHAIN','audio/ogg','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','Comando\x20desconhecido','groupCreate','replace','whatsappNumbers','fetchProfilePictureUrl','sendDataWebhook','removeUnusedChatFields','Parando\x20aplicação...','Close\x20connection','bulkWrite','conversationTimestamp','removeData','#64c4ff','createInstance','MESSAGES_UPDATE','/wa-groups','no-cache','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','locationMessage','pollOnReplyDelete','all_member_add','goNextblock','contact','/chat','REDIS_PREFIX_KEY','Mensagem\x20não\x20suportada','@whiskeysockets/baileys','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','instance','finish','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','DD/MM\x20HH:mm:ss','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Error\x20adding\x20IPv6\x20address:\x20','parse','dataValidate','Connection\x20closed\x20for\x20instance:\x20','base64','updateFlowConfig','SERVER_URL','longitude','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','participants','getFlow','from','Database\x20connection\x20closed.','false','image','\x20inseridos\x20no\x20banco\x20de\x20dados...','\x20:\x20','forEach','delayChatLabel_RETRY_DELAY_MS','[all]','formatVCard','optionDescription','readdirSync','270656BhrWlr','QRCODE_UPDATED','Erro\x20ao\x20deletar\x20mensagens:','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','apiResponse','editflowcondition','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','uncaughtException','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','groups.update','exit','sendAudio','sign','Instância\x20não\x20encontrada.','Erro\x20ao\x20arquivar\x20chat','8HZAcJs','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','unavailable','\x22\x20cannot\x20be\x20empty','sendText','Partes\x20do\x20caminho\x20FULLCHAIN:','then','Contacts\x20not\x20found','varedit','verify','validate','fileLength','messageHandle','resetReconnectionVariables','data:\x20','buttonId','The\x20instance\x20needs\x20to\x20be\x20disconnected','pictureUrl','ORG:','scheduleSendText','@broadcast','CacheContacts\x20database\x20connection\x20closed.','emit','SECRET','cache','Not\x20is\x20business\x20profile','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','views','sendSticker','announce','):\x20Criou\x20conversa\x20no\x20startFlow','admin','stdout','Início','/wa-message','extractRegex','contactMessage','/instance/connect','$dbName','lastBlockId','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','groupDesc','importChatsBatch','updateReadReceiptsPrivacy','useMultiFileAuthState','CONNECTION','endSession','originalUrl','PROXY','reject','delAll','Variável\x20não\x20encontrada!','path','viewOnceMessageV2','):\x20Enviando\x20contato','lastSendMessage','output','extractMessageContent','decryptPollVote','):\x20Editando\x20condição\x20do\x20fluxo...','toArray','create','.wav','jwt','inner','contacts','upperCase','eventEmitter','request\x20received\x20in\x20allFlows','Falhou\x20ao\x20encontrar\x20chat\x20','arrayUnique','isCommunityAnnounce','cachedContact','leadInfo','format','size','mentions','#d3a91f','allFlows','use','downloads','utf8','isConnected','):\x20Grupo\x20','\x20segundos','statusCode','privacySettings','inviteCode','timeout','DOCKER_ENV','apply','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','temp-','Parando\x20aplicação,\x20atualização\x20recebida','ListMessage','):\x20Bloco\x20copiado:\x20','Falha\x20ao\x20processar\x20a\x20solicitação','):\x20Alterando\x20fluxo...','GROUPS_UPSERT','\x1b[1m','Retornando\x20grupos\x20COM\x20cache','deleteDoneMessages','editFlow','secondValue','processclearVariables','\x20removido\x20do\x20chat\x20','IPv6\x20addresses\x20detected:\x20','messageType','stopMinutes','delay','proxy:\x20','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','\x20chats\x20de\x20','groupValidate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','fetchBusinessProfile','/instance/create','Conexão\x20estabelecida','StartID:','connectToWhatsappController','\x27\x20removido\x20do\x20AutomateSystem.','):Business\x20profile\x20fetched','birthtime','Subdomínio\x20extraído\x20da\x20URL:','jid','\x1b[36m','groupInviteCode','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','messages.upsert','leadInfo.etiquetas','stopWhenYouSendMsg','inviteUrl','No\x20suitable\x20network\x20interface\x20found','setHeader','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','CONTACTS_UPDATE','groupdata.participants','\x20não\x20encontrado','\x20com\x20sucesso.','beforeExit','authState','ff:fe','EXPIRIN_IN','groupName','#fe9dfe','statSync','13iLBGKE','AppStateSyncKeyData','labels.edit','uazapiSendContact','):Type\x20defined\x20as\x20audio','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','formatStatusMessage','bearer','restartInstance','sendMessage','stringify','):\x20Editando\x20variável\x20do\x20fluxo...','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','binary','lean','ephemeralExpiration','Error\x20finding\x20many\x20contacts:','stderr','getContactModelForOwner','prepareWAMessageMedia','ScheduleMessage','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','reduce','editflowgroup','scheduled','retrySendMessage','enviado\x20para','g-t','verbose','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','createflow','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','Erro\x20ao\x20normalizar\x20a\x20mensagem:','pollCreationMessageKey','delayChatLabel','updateMissingCustomFields','):\x20Criando\x20nova\x20conversa[createNewConversation]','/clients-info','updateGroupWebhook','sendPresenceUpdate','Types','text','editOperator','\x22reaction\x22\x20must\x20be\x20an\x20emoji','findFlow','editFlowVariable','\x20-y','copyBlock','moreLogs','webhook','announcement','@ffmpeg-installer/ffmpeg','\x5c$&','maxActives','editScheduleMessage','sectionsToString','responsavelid','normalizeMessage','updatePresence','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','memberAddMode','whoCanUse','https://api.elevenlabs.io/v1/text-to-speech/','contactHandle','Error\x20updating\x20cache\x20contact:','env','error',']\x20(','rows','onWhatsApp','updateProfileName','media','createFlow','match','match_last_seen','delaySecMax','765590uUSBJS','redisEnv','min','Error\x20in\x20scheduleNextCheck:\x20','isArray','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Subscribed\x20Events:','):\x20Error\x20processing\x20conditions:\x20','):\x20Mensagem\x20já\x20enviada\x20para\x20','generateWAMessageFromContent','):\x20Criando\x20fluxo...','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','getOwnPropertyDescriptor','processvaredits','oldToken','STORE_MESSAGE','wuid','groupRevokeInvite','statusJidList','deleteFlow','get','\x0aitem','\x1b[30m','editFlowReply',',\x20Comparador:\x20','):\x20Conversa\x20está\x20expirada','cachedContacts-whatsapp','isLong','conversation','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','\x1b[32m','.url','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Instance\x20Name:','PORT','repeat','getLabelModelForOwner','prepareMediaMessage','URL:','):Audio\x20converted\x20and\x20stored\x20in\x20cache','Erro\x20ao\x20copiar\x20o\x20documento','Last\x20message\x20not\x20found','unlocked','[AUTH]\x20Database\x20is\x20not\x20enabled','findById','):\x20Editando\x20replyOption...','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','hbs','autoCompleteMessages.command_1','deleteAll','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','findManyByIds','PRESENCE_UPDATE','round','addresss','listMessage','?authSource=admin&readPreference=primary&directConnection=true','):\x20transformedCustomFieldVariables','hGet','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','out','has','Subdomínio\x20final:','SERVER_TYPE','revokeInviteCode','json','groupJid','sendMenu','):\x20sender\x20=\x20number:\x20','groupSettingUpdate','File\x20written\x20to\x20path:\x20','indexOf','.xls','Erro\x20ao\x20buscar\x20Schedule\x20Messages','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','message_normalized','fone','startID','uazapiSendMedia','findLabels','updateOneById','status@broadcast','local_map','findGroupInfos','backgroundColor','updateConversation','picture','qrcode-terminal','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','findOne','connectionUpdate','Configuração\x20SSL\x20recuperada:','deleteConversation','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','globalShow','chatLog','URL','LEVEL','Instâncias\x20removidas:\x20','):\x20whoCanEdit\x20after\x20validation:\x20','updateParticipant','send','block','.webp','uuid','deleteMany','LOG_LEVEL','presence.update','#6f7bcf','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','notMatchRegex','color','js-yaml','desc','ip\x20-6\x20addr\x20show\x20dev\x20','MESSAGES_UPSERT','updateProfilePicture','\x20and\x20data:','envYaml','notify','command','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','OrAnd','apikey','):\x20conversation.status:\x20','result','editFlowVaredit','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','del','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','CREDENTIALS','deleteBlock','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','isJidGroup','delayChatLabel_MAX_RETRIES','matchRegex','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','flowActive','sim','flow','):\x20Entrou\x20na\x20função\x20saveReply','):\x20Buscando\x20conversas...','promisify','sendMedia','documentWithCaptionMessage','findWebhook','created','ephemeralMessage','trim','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','method','Schema','pollMessageOnDelete','findConversation','):\x20Ignoring\x20group\x20messages.','isBusiness','WA\x20MODULE','msgRetryCounterCache','updateAutoCompleteMessages','):\x20Label\x20','request\x20received\x20in\x20fetchConversation','flowName','getMessageModelForOwner','ms\x20(tentativa\x20','nextMessageId','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Fluxo\x20\x27','):\x20Limpando\x20AutomateSystem','height','cacheInstanceModel','labels.association','request\x20received\x20in\x20createFlow','phoneNumber','Safari','deleteflow','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','Instance\x20\x22',',\x20saindo.','stateConnection','ScheduleMessageModel','jsonschema','#ffffff','\x20inseridas\x20no\x20banco\x20de\x20dados...','writeFile','updateChatGroupData','findOneAndUpdate','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','set','saveVariable','upsertedCount','\x27\x20do\x20banco\x20de\x20dados...','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','initAuthCreds','editFlowGroup','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','Network\x20Interface\x20detected:\x20','messageSecret','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','TYPE','sha256','contacts.update','iniciando\x20fluxo\x20router','KEY','AUTHENTICATION_API_KEY','getDevice','scheduleNextCheck','Erro\x20ao\x20buscar\x20a\x20conversa','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','blocks','convertaudio','node-cache','findParticipants','):\x20Comando\x20desconhecido:\x20','):\x20customFieldVariables','connectionClosed','):\x20whoCanUse\x20before\x20validation:\x20','GROUPS_UPDATE','/media/','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','.ogg','closeExistingConversations','flowStopConversation','getBase64FromMediaMessage','startFlowWebhook','uazapiDeleteMessage','SUCCESS','Erro\x20ao\x20executar\x20bulkWrite:','Erro\x20de\x20atualização:\x20','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','):\x20Enviando\x20texto','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','addBlock','getHours','):\x20\x27Enviando\x20audio\x20para\x20\x27','document','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','success','warn','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','getValidWhatsAppNumbers','updateAgent','groupHandler','owner','Data\x20inválida\x20fornecida','PRIVKEY','Erro\x20ao\x20atualizar\x20AutomateSystem:','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','sendContact','unreadcount','updateGroupsAddPrivacy','sticker','profile','drop','READ','utf-8','profilePictureUrl',',\x20Resultado:\x20','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','cacheContact','spawn','):\x20Procurando\x20mensagens\x20para\x20envio','/instance/delete','sendReaction','leadInfo.customFields','buttons','addReplyOption','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','getChatModelForOwner','readMessageBot','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','protocolMessage','truncatedto','connectToWhatsapp','\x27...','DATABASE',',\x20received\x20','namespace','Falha\x20ao\x20criar\x20IPv6.','remoteJid','latitude','Valor\x20de\x20find\x20ou\x20replace\x20ausente','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','*Pergunta*:\x20\x0a','uazapiSendAudio','activatedCount','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','chats','toBrazilianNumberFormat','ButtonsMessage','defineProperty','@g.us','#b4ebff','whoCanEdit','contentText','waitingMenu_ExpiredMessage','replaceOne','\x1b[32m%s\x1b[0m','uazapiSendLocation','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','\x20minutos','\x1b[33m\x1b[1m','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','replyOption','):\x20Não\x20achou\x20nenhum\x20flow','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','testIPv6','\x1b[30m%s\x1b[0m','integer','reference','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','ObjectId','JWT','.doc','chatHandle','groupUpdateSubject','exports','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','USER','lowerCase','noConnection','toUpperCase','closed','ON\x20-\x20dbName:\x20','request\x20received\x20in\x20updateFlowConfig','timeInMinutes','Background\x20color\x20is\x20required','):\x20Iniciando\x20bot...','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','groupId','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','Invalid\x20format','request\x20received\x20in\x20editFlowgroup','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','BufferJSON','groupRequestParticipantsList',',\x20Expiration\x20Time:\x20','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','joinGroupValidate','Erro\x20ao\x20aplicar\x20varedit:\x20','editflowvaredit','Deletion\x20failed','firstValue','connect','Esse\x20fluxo\x20expirou','ids','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20atualização\x20chat:\x20','\x20tentativas.','_id','not\x20loaded','):Image\x20is\x20base64','licenca','):\x20Enviando\x20mensagem\x20para\x20','chatId','available','pt-BR','groupParticipantsUpdate','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','readFileSync','split','participant','option','getAutomateSystem','FULLCHAIN','StatusJidList\x20is\x20required','$pull','.png','address','stanzaId','?timestamp=','delaySecMin','createConnection','STORE','where','no.connection','ContactsAndGroups','Missing\x20global\x20api\x20key','paused','createConversationforStartFlow','The\x20global\x20api\x20key\x20must\x20be\x20set','HeaderType','):\x20whoCanEdit\x20before\x20validation:\x20','_activedCount','URI','\x20não\x20é\x20a\x20esperada.','IPv6\x20Prefix\x20detected:\x20','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','chats.update','\x5cd+','axios','sendButtons','updateProfileStatus','toNumber','):\x20Error\x20processing\x20the\x20block:\x20','editflowvariable','ip:\x20','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','webhookModel','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','status.instance','https://ipv6.jsonip.com','desativadoFluxoAte','instanceName\x20not\x20provided.','):\x20Entrou\x20na\x20função\x20clearVariables','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','redis','mentioned','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','replaceVariablesLogs','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','urlencoded','\x1b[41m','buttonMessage','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','now','enumerable','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','AUTHENTICATION','catch','#9568cf','scheduleSendMedia','.ppt','.jpg','dropCollection','Validate','CONECTADO\x20À\x20UAZAPI','.ogv','request_method','send.message','join','cachedData-whatsapp','.gif','params','deleteInstance','PLAYED','Primeiro\x20Valor:\x20','notas','):\x20Editando\x20edição\x20do\x20fluxo...','RECONNECT_TIME_FRAME','flowConfig','findMessages','REDIS','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','Novo\x20IP\x20criado:\x20','insertMany','ChatRouter','updateAll','MAX_SAFE_INTEGER','encoding','webhookMap','remove','awaitSeconds','messages.set','lastSend','triedToSend','):\x20Deletando\x20conversa...','author','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','fetchChats','padStart','basename','instance.','fetchMessages','/wa-qrcode','Instance\x20ID:','node-mime-types','isURL','limit','SERVER_ACK','findMany','sendLocation','!stop','fetchInstances','markMessageAsRead','\x20ao\x20chat\x20','Resultado\x20da\x20correspondência\x20de\x20URL:','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','status','fileUrl','request\x20received\x20in\x20editConversation','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','values','generate','stack','5sAzWVD','processApiRequest','unhandledRejection','fetchPrivacySettings','):Hash\x20to\x20image\x20name:\x20','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','random','DATABASE_CONNECTION_URI','qrcode','updateProfilePicturePrivacy','senderKeyDistributionMessage','textMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','fetchConversation','lastMessage','startCommandWord','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','):\x20\x27Enviando\x20mídia\x20para\x20\x27','updateGroupPicture','dark','unreadCount','\x1b[33m','minutesToClose','notEmpty',',\x20Segundo\x20Valor:\x20','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','updateBlock','notContains','object','pollCreationMessageV3','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','configureIPv6','pollCreationMessageV2','request\x20received\x20in\x20updateCustomFields','assign','unknown\x20operation\x20type\x20[','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','8080','):\x20Falha\x20ao\x20deletar\x20mensagem.','exists','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','flows','Log\x20out\x20instance:\x20','role','console','Forbidden','\x1b[34m','vote','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','events','networkInterface','collections','Authentication\x20error','headers','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','stopped','newValue','Valor\x20da\x20URL\x20recuperada:','readData','/:instanceName','getStatus','deleteOne','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','promote','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','createClient','presence','cacheInstanceRepository','.\x20Pulando.','writeFileSync','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','nome','testingWith','2833428xhFljH','selectedOptions','#ffc5c7','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','processScheduleFlow','splice','getScheduleMessageModelForOwner','/wa-chats','PASSWORD','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','\x20adicionado\x20ao\x20chat\x20','/wa-message-update','vcard','_sender','poll','conditions','Cannot\x20','Falha\x20ao\x20recriar\x20IPv6.','currency','message','reaction','chatModify','fetchContacts','createGroup','6027QNnebI','processConditionsTest','createConversationforgoToFlow','Erro\x20inesperado\x20em\x20processvaredits:\x20','deleteChat','find','label','throwAndLogError','messages','upsertChats','varedits','font','Flow\x20\x27','updateMessage','body','instanceCount','toFile','add','Usando\x20IP\x20existente:\x20','saveCreds','_error','app','):Image\x20converted\x20to\x20WebP','):\x20whoCanUse\x20after\x20validation:\x20','blockId','sort','processUUID','audioMessage','chat','https://uazapi-plugin.bubbleapps.io/?url=','removed','):\x20delete\x20=\x20true',',\x20valor\x20passado:\x20\x22','Error\x20testing\x20IP\x20with\x20','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','):Getting\x20image\x20from\x20url','convertedOptions','open','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','):\x20Chat\x20','child_process','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Conversa\x20atualizada\x20em\x20memória','updateMissingTags','/group','_p_','Connection','header','Conversa\x20deletada\x20com\x20sucesso.','All_Instances_Config','waitingForReplyMenu','unlinkSync','type','\x1b[46m','SINGLE_SELECT','email','telefone','saveChatVariables','viewOnceMessage','):\x20this.nextMessageId\x20&&\x20this.nextMessageId\x20!==\x20message._id',',\x20fará\x20nova\x20verificação\x20em\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','.xlsx','pollCreationMessage','updateLastSeenPrivacy','folder','LabelModel','EMAIL','\x20is\x20already\x20in\x20use.','deletedCount','model','groupJoinApprovalMode','reorderReplyOptions','scheduleMessage','listType','application/json','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','urlOrBase64','error_log','createServer','):\x20alterando\x20this.AutomateSystem','CORS','):\x20nextBlock.uazapi.name','keyPattern','DATABASE_CONNECTION_HOST','Esse\x20fluxo\x20não\x20permite\x20importação.','fetchLatestBaileysVersion','atendimentoAberto','max','groups.upsert','myAppStateKeyId','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','cwd','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','none','Content\x20is\x20required','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','METHODS','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','processConditions','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','Enter\x20a\x20value\x20in\x20milliseconds','The\x20property\x20cannot\x20be\x20empty','silent','Selecione','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','processingGroup_id','composing','createWebhook','Not\x20allowed\x20by\x20CORS','collection','filter','video-cover.png','/automate','agents','__esModule','loggedOut','FlowRouter','sharp','https://api.ipify.org?format=json','query','updateMany','AutomateSystem','data','getContentType','Pausado\x20por\x20','_pushName','length','instanceKeys','fetchLabels','profilePicture','processPollUpdateMessage','response','express-async-errors','dayjs','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','audioWhatsapp','Fluxo\x20não\x20encontrado\x20na\x20memória.','/media','Operador:\x20\x22','cleaningUp','isValidIPv6Config','PENDING','mongoose','Module\x20-\x20ON','groupGetInviteInfo','):\x20tem\x20blocks','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','slice','createJid','waitingMenu_replyOptions','chats.upsert','qrCode','stopMinutesMaxActives','joinGroup','archiveChat','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','removeIPv6ById','):Error\x20in\x20converting\x20audio','leaveGroup','convert','_ScheduleMessages','messageId','140346atJwrd','loadInstance','DELETED','Deleted\x20','state','enabled','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','Erro\x20ao\x20importar\x20chats','):\x20Fluxo\x20\x27','Error\x20while\x20deleting\x20message\x20for\x20everyone','Erro\x20ao\x20atualizar\x20o\x20fluxo:','NextBlock','!cmd_','name',',\x20Minutes\x20to\x20Close:\x20','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','charAt','startFlow','Bad\x20Request','updateGParticipate','cleanStore','authModel','off','canSendMessage','https://v6.ident.me','):\x20Conversa\x20está\x20expirada\x20-\x20voto','):Processing\x20audio','\x1b[1m\x1b[37m','Erro\x20ao\x20atualizar\x20o\x20flow.','error\x20get\x20vote','public','DELIVERY_ACK','displayName','):Notifying\x20clients\x20for\x20chat:\x20','contains','save','some',',\x20lastCondition:\x20','importChats','padEnd','getTime','findGroupsEspecial','nomecompleto','insert','Erro\x20ao\x20buscar\x20metadados\x20do\x20grupo\x20para\x20','VERBOSE','messageContextInfo','truncatedtoEnd','routerPath','../env.yml','auth','done','DisconnectReason','delete','ListType','context','configService','_FlowHistorico','descId','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','\x1b[37m%s\x1b[0m','findAll',',\x20qrcodeCount:\x20','userDevicesCache','Fluxos\x20não\x20estão\x20ativados','\x1b[33m%s\x1b[0m','evaluateCondition','g.us','fetchProfilePicture','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','true','dbInstance','):Image\x20path:\x20','PREFIX_KEY','generateHash','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','content-type','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','flowConversation','choices','count','groups','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','.X-ABLabel:Celular\x0a','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','/wa-contacts','Last\x20message\x20not\x20found\x20for\x20number:\x20','valid','-instances','$set','requestFile','ReplyOption\x20com\x20ID\x20','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','Erro\x20ao\x20buscar\x20conversas','\x20não\x20encontrado\x20para\x20cópia','cors','setNewValue','\x20minutos\x20verificará\x20novas\x20mensagens','):\x20Conversa\x20inserida\x20com\x20sucesso.','):\x20Bloco\x20com\x20ID\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','\x0a{\x20instance:\x20','Group\x20not\x20found','evaluateConditionTest','shareOwners','writeData','Flow\x20iniciado\x20com\x20','CHATS_DELETE','connectionStatus','#83e421','getDelay','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','reorderBlocks','https://api.openai.com/v1/images/generations','cacheContactModel','findAndReplaceRegex','authService','waInstances','formatBRNumber','width','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','express','labelId','/webhook','extractPhoneNumber','removeInstance','getLastMessage','title','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Instance\x20restarted','pow','END:VCARD','SSL_CONF_PRIVKEY','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','updateChatWithMessage','\x1b[0m','rowId','getVariablesChat','/instance/fetchInstances','number','menuType','FlowController','sendList','all','isCommunity','documentMessage','selectableCount','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','joinApprovalMode','entries','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','log','LOG','caption','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','importChatsAntigo','makeCacheableSignalKeyStore','contact_blacklist',',\x20valor\x20a\x20encontrar:\x20\x22','proto','flushHeaders','RemoteJid:','headerString','creds','IPv6\x20address\x20configured:\x20','default','):\x20','close','load','substring','groupLeave','updateReplyOption','automateSystem','repository','Subdomínio\x20não\x20encontrado','STORE_CONTACTS','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','lastUpdate','mediaSticker','contactsArrayMessage','approve','reconnectTimestamps','toBRL','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','variable','Falha\x20ao\x20processar\x20fetchBusinessProfile','updateGroupParticipantsWebhook','global','https','\x1b[44m','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','realVariables','keys','Erro\x20ao\x20buscar\x20o\x20fluxo','qrcode.updated','Sistema\x20atualizado\x20com\x20sucesso!','equal','recording','sendPoll','fora\x20do\x20git','):Image\x20is\x20url','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','createAndSave','setWebhook','\x20foi\x20interrompido\x20pelo\x20usuário.','getUpdate','findGroup','insertCount','Filtered\x20network\x20interfaces:\x20','eventemitter2','synchronizeAndMapFlows','rm\x20-rf\x20','TEXT','fullName','Rótulo\x20deletado:\x27,\x20','convertToWebP','autoCompleteMessages','menuExpiredMessage','listResponseMessage','locked','_Contacts','imageMessage','Router','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','.mp3','@redis/client','instancias:\x20','Message','request\x20received\x20in\x20editFlow','):\x20Enviando\x20mídia','-whatsapp-api','#d8e651','superadmin','request\x20received\x20in\x20deleteDoneMessages','verifiedName','):Temp\x20image\x20deleted','\x22,\x20valor\x20a\x20substituir:\x20\x22','contacts.upsert','contextInfo','processawaitSeconds','ip\x20-6\x20addr\x20del\x20','array','):\x20Limpando\x20delayMessage','pino','updatePrivacySettings','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','WARN','variables','):\x20Editando\x20grupo\x20do\x20fluxo...','remove.instance','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','editFlowBlock','.docx','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','ERROR:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','put','defineAuthState','url','menuMessage','):\x20Buscando\x20conversa...','editChat','Erro\x20ao\x20tentar\x20autoCompleteMessages','instances','sendMessageWithTyping','groupBetterSetting','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','Detalhes\x20do\x20erro:','archive','getBusinessProfile','):\x20Rótulo\x20atualizado:\x20','):\x20Ler\x20mensagem','deviceSentMessage','audio','loadWebhook','reviver','lastInteraction','):\x20\x27Deletando\x20fluxo,\x20id:\x20','waUploadToServer','variablesNotFound','processUazapi','presenceSubscribe','Removidas\x20as\x20variáveis:\x20','/events','view\x20engine','985182WQGUvm','leadInfo.atendimentoAberto','sendCommand','detectIPv6PrefixAndInterface','#000000','):\x20Bloco\x20original\x20para\x20cópia:\x20','website','waitingMenu_text','trimmed','boolean','getUniqueFlowName','audio/ogg;\x20codecs=opus','write','findRealGroups','DEBUG','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','deleteReplyOption','removeProfilePicture','findByIdAndUpdate','generateRandomIPv6','CONTACTS_UPSERT','subjectTime','isJWT','\x1b[31m','sending','uazapiSendMenu','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','updateMediaMessage','app-state-sync-key','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','createNewConversation','#56ccb4','http','replyOptions','connection.update','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','flattenObject','release','lastRealGroupsFetch','/exit','Erro\x20ao\x20buscar\x20fluxos:','localWebhook','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','getProfileName','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','^\x5cd+','Erro\x20ao\x20tentar\x20updateCustomFields','AUTHENTICATION_JWT_EXPIRIN_IN','webp','instanceInfo','IP\x20mismatch:\x20configured\x20','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','createHash','Error\x20removing\x20unused\x20chat\x20fields:','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','jsonwebtoken','code','https://chat.whatsapp.com/','Internal\x20Server\x20Error','Número\x20não\x20possui\x20WhatsApp.','info','SERVER','Request\x20Body:','Error\x20in\x20chatModify\x20for\x20number\x20','GROUP_PARTICIPANTS_UPDATE','normalizeMessageContent','Garbage\x20collection\x20não\x20está\x20disponível.','processgoToFlow','SSL_CONF','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','text/event-stream','greater','deleted','Retornando\x20grupos\x20SEM\x20cache','Mensagens\x20deletadas\x20com\x20sucesso.','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','errors','/wa-connection-update','\x1b[40m','Error\x20writing\x20file:\x20','isBase64','\x20do\x20chat\x20','getConversation','\x20instance\x20does\x20not\x20exist','linkPreview','logout','Font\x20is\x20required','restrict','keep-alive','):\x20updateResult:','remote\x20\x22origin\x22','blockLogs','lastReceivedMessage','CHATS_UPSERT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','menuIgnoreNonVotes','toLocaleString','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','.webm','DB_PREFIX_NAME','\x1b[36m%s\x1b[0m','CONTACTS_SET','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','updateStopChat','preview','chats.delete','MESSAGES_SET','uazapiSendText','ipv6Prefix','Instance\x20Key\x20from\x20DB:','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','#ff9484','pollUpdateMessage','fromObject','store','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','Erro\x20ao\x20remover\x20label\x20','\x1b[43m','GET','/create','_activatedCount','dbServer','mediaMessage','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','username','editflowreply','reactionMessage','copy','):\x20Deletando\x20mensagem','scheduleFlow','storePath','):\x20\x27Enviando\x20texto\x20para\x20\x27','isValidAndUniqueIPv6','SERVER_OFFLINE','processblock','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','.pptx','--------------------------------------','request\x20received\x20in\x20starFlow','organization','muteEndTime','Error\x20fetching\x20group','autoCompleteMessages.command','#9ba6ff','/*.json','):\x20Fluxos\x20não\x20estão\x20ativados','groups_ignore','.mimetype','RemoveChatLabel','SendScheduleMessage','static','dropIndex','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','HH:mm:ss','Instância:\x20','interval\x20não\x20é\x20um\x20número','saveConversationToDatabase','HOST','\x27\x20não\x20encontrado\x20na\x20memória','The\x20','item','#fed428','LOG_COLOR','key','expiration','findContacts','list','imported','lastMessage_id','gifPlayback','sleep','beautifyWithPlaceholders','modifiedCount','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','fetchStatus','mongodb://','sharePass','archived','Falta\x20informação\x20para\x20a\x20chamada\x20API','\x1b[31m%s\x1b[0m','API_KEY','condition','bodyStringErrorParse','editConversation','createIPv6','SEND_MESSAGE','map','_remoteJid','Generated\x20IPv6:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','goToFlow','label_jid','getConversationModelForOwner','reconnectAttempts','\x20depois\x20','deleteMessage','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','leadInfo.','Erro\x20ao\x20deletar\x20chat:','prototype','\x0aFN:','fromMe','flowStopMinutes','profileName','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','replaceVariables','shift','Logger','pre','\x20-i\x20','eventHandler','AddChatLabel','editMessagesInGroup','):\x20expirationTime:\x20','/64\x20dev\x20','apirequest','DARK','https://github.com/uazapi/uazapi.git','lastFetchAwaitingApproval','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','creds.json','Nenhum\x20participante\x20válido\x20encontrado.','groupMemberAddMode','\x27\x20não\x20encontrado','pollMessage','mimetype','bodyString','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','):Sending\x20audio\x20whatsapp','mediaKey','@s.whatsapp.net','ip\x20-6\x20addr\x20add\x20','imagechat','shareFlow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','API\x20Key\x20from\x20Request:','):Converted\x20image\x20deleted','arraybuffer','webhookService','lastCondition','subject','isAdmin','):\x20Entrou\x20na\x20função\x20goToFlow','findGroupInfo','readFile','Erro\x20ao\x20editar\x20agentes','Database\x20is\x20not\x20enabled','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','getGroupMetadataCache','):\x20Erro\x20durante\x20a\x20atualização:\x20','Error\x20updating\x20message\x20status:','buttonText','segundos','push','https://','messageStubParameters','The\x20\x22','start','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','):\x20Adicionando\x20\x27','Configured\x20IPv6:\x20','Flow\x20iniciado','fileName','digest','sem\x20texto\x20na\x20mensagem','request\x20body:\x20','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','toggleEphemeral','getMinutes','):\x20Removendo\x20\x27','less','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','test','CHATS_UPDATE','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','\x20quoted:\x20','):\x20Query\x20para\x20busca:\x20','updateStatusPrivacy','):\x20ev.flush\x20realizado','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','pm2\x20flush','/events/:instance','):\x20Flow\x20\x27','ephemeralDuration','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','redirect','toLowerCase','ip6eui','PRODUCT_LIST','waMonitor','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','fetchProfile','groupadd','undefined','endsWith','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','https://api64.ipify.org?format=json','*\x0a\x0a','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','client','cpf','checkAndRestartProcess','editFlowCondition','Mac\x20OS','InstancesAlterarTodas','\x1b[34m%s\x1b[0m','connectionState','findIndex','and','floor','.extension','findAndReplace','request\x20received\x20in\x20deleteFlow','loadEnv','verifyWhatsAppNumber','envProcess','notEqual','parseInt','saveTextReply'];a0_0x5036=function(){return _0x41a8f7;};return a0_0x5036();}const a0_0x4cdcbe=a0_0x5e25;(function(_0x37c392,_0x22a894){const _0x192425=a0_0x5e25,_0x3fed49=_0x37c392();while(!![]){try{const _0x3bfb8d=-parseInt(_0x192425(0x27f))/0x1*(-parseInt(_0x192425(0x5c2))/0x2)+-parseInt(_0x192425(0x504))/0x3+-parseInt(_0x192425(0x1dd))/0x4*(parseInt(_0x192425(0x4ba))/0x5)+parseInt(_0x192425(0x88a))/0x6*(parseInt(_0x192425(0x51c))/0x7)+-parseInt(_0x192425(0x1ec))/0x8*(-parseInt(_0x192425(0x849))/0x9)+parseInt(_0x192425(0x2cb))/0xa+-parseInt(_0x192425(0x6e1))/0xb;if(_0x3bfb8d===_0x22a894)break;else _0x3fed49['push'](_0x3fed49['shift']());}catch(_0x1eba94){_0x3fed49['push'](_0x3fed49['shift']());}}}(a0_0x5036,0x810b6));var zi=Object['create'],Ge=Object[a0_0x4cdcbe(0x3f2)],Hi=Object[a0_0x4cdcbe(0x2d7)],Ki=Object['getOwnPropertyNames'],Qi=Object[a0_0x4cdcbe(0x8d5)],Yi=Object[a0_0x4cdcbe(0x7aa)][a0_0x4cdcbe(0x189)],Xi=(_0x425735,_0xa7afb4)=>{for(var _0x542f0b in _0xa7afb4)Ge(_0x425735,_0x542f0b,{'get':_0xa7afb4[_0x542f0b],'enumerable':!0x0});},Ws=(_0x1d014e,_0x22ee73,_0x4bda7a,_0x1b6a13)=>{const _0x3fc3b5=a0_0x4cdcbe;if(_0x22ee73&&typeof _0x22ee73=='object'||typeof _0x22ee73=='function'){for(let _0x3b0ced of Ki(_0x22ee73))!Yi['call'](_0x1d014e,_0x3b0ced)&&_0x3b0ced!==_0x4bda7a&&Ge(_0x1d014e,_0x3b0ced,{'get':()=>_0x22ee73[_0x3b0ced],'enumerable':!(_0x1b6a13=Hi(_0x22ee73,_0x3b0ced))||_0x1b6a13[_0x3fc3b5(0x473)]});}return _0x1d014e;},A=(_0x19759f,_0x3f3d21,_0x122459)=>(_0x122459=_0x19759f!=null?zi(Qi(_0x19759f)):{},Ws(_0x3f3d21||!_0x19759f||!_0x19759f[a0_0x4cdcbe(0x591)]?Ge(_0x122459,a0_0x4cdcbe(0x669),{'value':_0x19759f,'enumerable':!0x0}):_0x122459,_0x19759f)),Zi=_0x4e64d8=>Ws(Ge({},a0_0x4cdcbe(0x591),{'value':!0x0}),_0x4e64d8),hr={};Xi(hr,{'fullURL':()=>Gs,'subdomain':()=>K}),module[a0_0x4cdcbe(0x40c)]=Zi(hr);var Ji=A(require('compression')),Hs=require('fs'),Ks=require(a0_0x4cdcbe(0x33c)),Qs=require(a0_0x4cdcbe(0x221)),Be=require('path'),ue=process['cwd'](),Se=(0x0,Be[a0_0x4cdcbe(0x481)])(ue,a0_0x4cdcbe(0x6cb)),zs=(0x0,Be[a0_0x4cdcbe(0x481)])(ue,'src'),sn=(0x0,Be[a0_0x4cdcbe(0x481)])(ue,a0_0x4cdcbe(0x755),a0_0x4cdcbe(0x5f4)),ps=class{constructor(){const _0x147536=a0_0x4cdcbe;this[_0x147536(0x81f)]();}['get'](_0xe2b0df){const _0x121af1=a0_0x4cdcbe;return this[_0x121af1(0x2c0)][_0xe2b0df];}['loadEnv'](){const _0xfb77cb=a0_0x4cdcbe;this[_0xfb77cb(0x2c0)]=process[_0xfb77cb(0x2c0)]?.[_0xfb77cb(0x246)]!==_0xfb77cb(0x608)?this['envYaml']():this[_0xfb77cb(0x821)](),process['env']?.[_0xfb77cb(0x246)]===_0xfb77cb(0x608)&&(this[_0xfb77cb(0x2c0)][_0xfb77cb(0x720)]['TYPE']='http',this['env'][_0xfb77cb(0x720)][_0xfb77cb(0x2ed)]=Number[_0xfb77cb(0x823)](process[_0xfb77cb(0x2c0)]?.[_0xfb77cb(0x8b9)]??_0xfb77cb(0x4df)));}[a0_0x4cdcbe(0x342)](){const _0x47173f=a0_0x4cdcbe;return(0x0,Ks[_0x47173f(0x66c)])((0x0,Hs[_0x47173f(0x43a)])((0x0,Qs[_0x47173f(0x481)])(zs,_0x47173f(0x5f3)),{'encoding':_0x47173f(0x3cd)}));}[a0_0x4cdcbe(0x821)](){const _0x4f557d=a0_0x4cdcbe;return{'SERVER':{'TYPE':process['env'][_0x4f557d(0x30a)],'PORT':Number[_0x4f557d(0x823)](process[_0x4f557d(0x2c0)][_0x4f557d(0x8b9)]),'URL':process[_0x4f557d(0x2c0)][_0x4f557d(0x1cc)]},'CORS':{'ORIGIN':process[_0x4f557d(0x2c0)]['CORS_ORIGIN']['split'](','),'METHODS':process[_0x4f557d(0x2c0)]['CORS_METHODS'][_0x4f557d(0x43b)](','),'CREDENTIALS':process[_0x4f557d(0x2c0)]?.['CORS_CREDENTIALS']===_0x4f557d(0x608)},'SSL_CONF':{'PRIVKEY':process[_0x4f557d(0x2c0)]?.[_0x4f557d(0x647)],'FULLCHAIN':process[_0x4f557d(0x2c0)]?.[_0x4f557d(0x1a1)]},'STORE':{'CLEANING_INTERVAL':Number[_0x4f557d(0x868)](process['env']?.[_0x4f557d(0x84e)])?Number[_0x4f557d(0x823)](process[_0x4f557d(0x2c0)][_0x4f557d(0x84e)]):void 0x0,'MESSAGES':process[_0x4f557d(0x2c0)]?.[_0x4f557d(0x2da)]===_0x4f557d(0x608),'CONTACTS':process[_0x4f557d(0x2c0)]?.[_0x4f557d(0x673)]===_0x4f557d(0x608),'CHATS':process[_0x4f557d(0x2c0)]?.['STORE_CHATS']===_0x4f557d(0x608)},'DATABASE':{'CONNECTION':{'HOST':process[_0x4f557d(0x2c0)]?.[_0x4f557d(0x571)],'PORT':Number[_0x4f557d(0x823)](process[_0x4f557d(0x2c0)]?.[_0x4f557d(0x571)]),'USER':process[_0x4f557d(0x2c0)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x4f557d(0x2c0)][_0x4f557d(0x8a8)],'URI':process['env'][_0x4f557d(0x4c1)],'DB_PREFIX_NAME':process['env']['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x4f557d(0x2c0)]?.['DATABASE_ENABLED']===_0x4f557d(0x608)},'REDIS':{'ENABLED':process[_0x4f557d(0x2c0)]?.['REDIS_ENABLED']===_0x4f557d(0x608),'URI':process['env']['REDIS_URI']||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x4f557d(0x2c0)][_0x4f557d(0x1bd)]||_0x4f557d(0x82b)},'LOG':{'LEVEL':process[_0x4f557d(0x2c0)]?.[_0x4f557d(0x335)][_0x4f557d(0x43b)](','),'COLOR':process[_0x4f557d(0x2c0)]?.[_0x4f557d(0x785)]===_0x4f557d(0x608)},'PROXY':process['env']?.[_0x4f557d(0x21d)]==='true','AUTHENTICATION':{'TYPE':process['env']['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x4f557d(0x2c0)][_0x4f557d(0x39a)]},'JWT':{'EXPIRIN_IN':Number[_0x4f557d(0x868)](process[_0x4f557d(0x2c0)]?.[_0x4f557d(0x712)])?Number[_0x4f557d(0x823)](process[_0x4f557d(0x2c0)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x4f557d(0x2c0)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new ps(),qi=A(require(a0_0x4cdcbe(0x622))),be=A(require(a0_0x4cdcbe(0x63c))),qs=require(a0_0x4cdcbe(0x221)),hs=A(require(a0_0x4cdcbe(0x5a4))),gs=(_0x3cb744=>(_0x3cb744[a0_0x4cdcbe(0x65c)]=a0_0x4cdcbe(0x2e9),_0x3cb744[a0_0x4cdcbe(0x887)]=a0_0x4cdcbe(0x4e8),_0x3cb744[a0_0x4cdcbe(0x6ba)]=a0_0x4cdcbe(0x4cf),_0x3cb744['ERROR']=a0_0x4cdcbe(0x6f9),_0x3cb744[a0_0x4cdcbe(0x6ef)]=a0_0x4cdcbe(0x26a),_0x3cb744['VERBOSE']='\x1b[37m',_0x3cb744[a0_0x4cdcbe(0x7bb)]=a0_0x4cdcbe(0x2e1),_0x3cb744))(gs||{}),Ys=(_0x225c22=>(_0x225c22[a0_0x4cdcbe(0x65c)]=a0_0x4cdcbe(0x3f9),_0x225c22[a0_0x4cdcbe(0x7bb)]=a0_0x4cdcbe(0x403),_0x225c22[a0_0x4cdcbe(0x887)]=a0_0x4cdcbe(0x817),_0x225c22[a0_0x4cdcbe(0x6ba)]=a0_0x4cdcbe(0x603),_0x225c22[a0_0x4cdcbe(0x18b)]=a0_0x4cdcbe(0x796),_0x225c22[a0_0x4cdcbe(0x6ef)]=a0_0x4cdcbe(0x747),_0x225c22[a0_0x4cdcbe(0x5ef)]=a0_0x4cdcbe(0x5fe),_0x225c22))(Ys||{}),Xs=(_0x5aec86=>(_0x5aec86[a0_0x4cdcbe(0x65c)]=a0_0x4cdcbe(0x65c),_0x5aec86[a0_0x4cdcbe(0x6ba)]=a0_0x4cdcbe(0x6ba),_0x5aec86[a0_0x4cdcbe(0x887)]=a0_0x4cdcbe(0x887),_0x5aec86[a0_0x4cdcbe(0x7bb)]=a0_0x4cdcbe(0x7bb),_0x5aec86['ERROR']=a0_0x4cdcbe(0x18b),_0x5aec86[a0_0x4cdcbe(0x6ef)]=a0_0x4cdcbe(0x6ef),_0x5aec86[a0_0x4cdcbe(0x5ef)]=a0_0x4cdcbe(0x5ef),_0x5aec86))(Xs||{}),Zs=(_0x16c58a=>(_0x16c58a[a0_0x4cdcbe(0x65c)]='\x1b[42m',_0x16c58a['INFO']=a0_0x4cdcbe(0x681),_0x16c58a[a0_0x4cdcbe(0x6ba)]=a0_0x4cdcbe(0x758),_0x16c58a['DARK']=a0_0x4cdcbe(0x731),_0x16c58a[a0_0x4cdcbe(0x18b)]=a0_0x4cdcbe(0x46f),_0x16c58a[a0_0x4cdcbe(0x6ef)]=a0_0x4cdcbe(0x552),_0x16c58a[a0_0x4cdcbe(0x5ef)]='\x1b[47m',_0x16c58a))(Zs||{}),$=class{constructor(_0xb6bab7=a0_0x4cdcbe(0x7b2)){const _0x34cc03=a0_0x4cdcbe;this[_0x34cc03(0x5f9)]=_0xb6bab7,this['configService']=b;}['setContext'](_0x42e73c){const _0x381e0c=a0_0x4cdcbe;this[_0x381e0c(0x5f9)]=_0x42e73c;}[a0_0x4cdcbe(0x4e6)](_0x3a12e7,_0x1e40db){const _0x4fc00e=a0_0x4cdcbe;let _0x498838=[];this[_0x4fc00e(0x5fa)][_0x4fc00e(0x2df)](_0x4fc00e(0x65c))[_0x4fc00e(0x32c)][_0x4fc00e(0x1d7)](_0x57faad=>_0x498838[_0x4fc00e(0x7e2)](Xs[_0x57faad]));let _0x150e22=typeof _0x3a12e7;_0x498838[_0x4fc00e(0x192)](_0x1e40db)&&(b[_0x4fc00e(0x2df)](_0x4fc00e(0x65c))['COLOR']?(console[_0x4fc00e(0x65b)](_0x4fc00e(0x250)+Ys[_0x1e40db],_0x4fc00e(0x5dd),(0x0,hs['default'])()[_0x4fc00e(0x237)](_0x4fc00e(0x1c4)),'\x1b[0m',gs[_0x1e40db]+Zs[_0x1e40db]+_0x4fc00e(0x250),_0x1e40db+'\x20\x1b[0m',_0x4fc00e(0x3fd),this[_0x4fc00e(0x5f9)]+_0x4fc00e(0x64b),gs[_0x1e40db],_0x150e22!=='object'?_0x3a12e7:'',_0x4fc00e(0x64b)),_0x150e22==='object'&&console['log'](_0x3a12e7,'\x0a')):console[_0x4fc00e(0x65b)]((0x0,hs[_0x4fc00e(0x669)])()[_0x4fc00e(0x237)](_0x4fc00e(0x77c)),_0x1e40db+'\x20',''+this[_0x4fc00e(0x5f9)],_0x3a12e7));}[a0_0x4cdcbe(0x65b)](_0x241d65){const _0x33e578=a0_0x4cdcbe;this[_0x33e578(0x4e6)](_0x241d65,'LOG');}[a0_0x4cdcbe(0x71f)](_0x52a2cd){const _0x2266b5=a0_0x4cdcbe;this[_0x2266b5(0x4e6)](_0x52a2cd,_0x2266b5(0x887));}[a0_0x4cdcbe(0x3bc)](_0x276b9d){const _0xf1a73e=a0_0x4cdcbe;this[_0xf1a73e(0x4e6)](_0x276b9d,_0xf1a73e(0x6ba));}[a0_0x4cdcbe(0x2c1)](_0x10dd18){const _0x4b928c=a0_0x4cdcbe;this[_0x4b928c(0x4e6)](_0x10dd18,_0x4b928c(0x18b));}['verbose'](_0x389331){this['console'](_0x389331,'VERBOSE');}['debug'](_0x297fe3){const _0x5f3864=a0_0x4cdcbe;this[_0x5f3864(0x4e6)](_0x297fe3,_0x5f3864(0x6ef));}[a0_0x4cdcbe(0x4cd)](_0x21cb80){const _0x3f097=a0_0x4cdcbe;this[_0x3f097(0x4e6)](_0x21cb80,_0x3f097(0x7bb));}};function ea(){const _0x5a00b8=a0_0x4cdcbe;process['on'](_0x5a00b8(0x1e4),(_0x4b8ae7,_0x5a3e0f)=>{const _0x5e7e84=_0x5a00b8;new $(_0x5e7e84(0x1e4))[_0x5e7e84(0x2c1)]({'origin':_0x5a3e0f,'stderr':process[_0x5e7e84(0x290)]['fd'],'error':_0x4b8ae7});}),process['on']('unhandledRejection',(_0x454922,_0x3d42a1)=>{const _0x44481c=_0x5a00b8;new $(_0x44481c(0x4bc))[_0x44481c(0x2c1)]({'origin':_0x3d42a1,'stderr':process[_0x44481c(0x290)]['fd'],'error':_0x454922});});}var ta=A(require(a0_0x4cdcbe(0x695))),ms=new ta[(a0_0x4cdcbe(0x669))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require(a0_0x4cdcbe(0x5ae)),Ie=A(require(a0_0x4cdcbe(0x5ae))),We=new $(a0_0x4cdcbe(0x88c)),U=b[a0_0x4cdcbe(0x2df)](a0_0x4cdcbe(0x3e1)),R=U['ENABLED']?U[a0_0x4cdcbe(0x21a)][a0_0x4cdcbe(0x453)]?Ie[a0_0x4cdcbe(0x669)][a0_0x4cdcbe(0x447)](U[a0_0x4cdcbe(0x21a)][a0_0x4cdcbe(0x453)],{'dbName':U[a0_0x4cdcbe(0x21a)][a0_0x4cdcbe(0x746)]+a0_0x4cdcbe(0x6aa)}):Ie[a0_0x4cdcbe(0x669)]['createConnection']('mongodb://'+U[a0_0x4cdcbe(0x21a)][a0_0x4cdcbe(0x780)]+':'+U[a0_0x4cdcbe(0x21a)][a0_0x4cdcbe(0x2ed)]+a0_0x4cdcbe(0x303),{'user':U[a0_0x4cdcbe(0x21a)]['USER'],'pass':U[a0_0x4cdcbe(0x21a)][a0_0x4cdcbe(0x50c)],'dbName':U['CONNECTION'][a0_0x4cdcbe(0x746)]+a0_0x4cdcbe(0x6aa)}):null;U[a0_0x4cdcbe(0x8dc)]&&We[a0_0x4cdcbe(0x71f)](a0_0x4cdcbe(0x413)+R[a0_0x4cdcbe(0x212)]);var de=U[a0_0x4cdcbe(0x8dc)]?U[a0_0x4cdcbe(0x21a)][a0_0x4cdcbe(0x453)]?Ie[a0_0x4cdcbe(0x669)][a0_0x4cdcbe(0x447)](U[a0_0x4cdcbe(0x21a)]['URI'],{'dbName':a0_0x4cdcbe(0x482)}):Ie[a0_0x4cdcbe(0x669)][a0_0x4cdcbe(0x447)](a0_0x4cdcbe(0x792)+U[a0_0x4cdcbe(0x21a)][a0_0x4cdcbe(0x780)]+':'+U[a0_0x4cdcbe(0x21a)][a0_0x4cdcbe(0x2ed)]+a0_0x4cdcbe(0x303),{'user':U[a0_0x4cdcbe(0x21a)][a0_0x4cdcbe(0x40e)],'pass':U['CONNECTION']['PASSWORD'],'dbName':a0_0x4cdcbe(0x2e5)}):null;de&&We['info'](a0_0x4cdcbe(0x413)+de[a0_0x4cdcbe(0x212)]),process['on'](a0_0x4cdcbe(0x278),()=>{const _0x401960=a0_0x4cdcbe;R&&R[_0x401960(0x66b)](()=>{const _0x26a025=_0x401960;We[_0x26a025(0x71f)](_0x26a025(0x1d2));}),de&&de['close'](()=>{const _0xc1c780=_0x401960;We[_0xc1c780(0x71f)](_0xc1c780(0x201));});});var eo=new Me[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),to=new Me[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),so=new Me[(a0_0x4cdcbe(0x363))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),ao=new Me['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[eo],'default':[]}},{'_id':!0x1}),io=new Me['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':ao,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':to},'groupdata':{'type':so,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),sa=_0x11da19=>{const _0x4d35d0=a0_0x4cdcbe;let _0x3fb53b='z_'+_0x11da19+_0x4d35d0(0x8cc);return R?.['model']('ChatModel',io,_0x3fb53b);},aa=require(a0_0x4cdcbe(0x5ae)),oo=new aa[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ia=_0x20f7a9=>{const _0x314923=a0_0x4cdcbe;let _0x43fed4='z_'+_0x20f7a9+_0x314923(0x6a0);return R?.[_0x314923(0x563)]('ContactModel',oo,_0x43fed4);},oa=require(a0_0x4cdcbe(0x5ae)),fs=class{},ro=new oa[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ra=de?.[a0_0x4cdcbe(0x563)](fs[a0_0x4cdcbe(0x5cf)],ro,a0_0x4cdcbe(0x44b)),na=require(a0_0x4cdcbe(0x5ae)),ws=class{},no=new na['Schema']({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),ze=de?.[a0_0x4cdcbe(0x563)](ws['name'],no,a0_0x4cdcbe(0x6cb)),ca=require('mongoose'),co=new ca[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),la=_0x46975f=>{const _0x2ef865=a0_0x4cdcbe;let _0x426577='z_'+_0x46975f+'_Messages';return R?.[_0x2ef865(0x563)]('MessageModel',co,_0x426577);},ua=require(a0_0x4cdcbe(0x5ae)),ys=class{},lo=new ua[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),da=R?.[a0_0x4cdcbe(0x563)](ys[a0_0x4cdcbe(0x5cf)],lo,'authentication'),pa=require(a0_0x4cdcbe(0x5ae)),bs=class{},ha=new pa[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ha[a0_0x4cdcbe(0x7b3)]('save',function(_0xadd5b2){const _0x373ef4=a0_0x4cdcbe;delete this[_0x373ef4(0x355)],delete this['flowIgnoreGroups'],delete this[_0x373ef4(0x83d)],delete this[_0x373ef4(0x3ac)],delete this[_0x373ef4(0x7ad)],_0xadd5b2();});var ga=R?.['model'](bs[a0_0x4cdcbe(0x5cf)],ha,'webhook'),P=require(a0_0x4cdcbe(0x5ae)),Ss=require(a0_0x4cdcbe(0x333)),He=class{},fa=new P[(a0_0x4cdcbe(0x363))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ms=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),uo=new P[(a0_0x4cdcbe(0x363))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x4cdcbe(0x789)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x4cdcbe(0x586)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x4cdcbe(0x716)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),wa=new P['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),po=new P[(a0_0x4cdcbe(0x363))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x4cdcbe(0x363))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new P[(a0_0x4cdcbe(0x363))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0x4cdcbe(0x363))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ya=new P['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':uo},'apirequest':po,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':go,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ba=new P[(a0_0x4cdcbe(0x363))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Cs=class{},Sa=new P[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[ya],'groups':[fa],'conditions':[wa],'varedits':[ba],'replyOptions':{'type':[Ms],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0xac361b=a0_0x4cdcbe;return _0xac361b(0x5ce)+Math[_0xac361b(0x4c0)]()[_0xac361b(0x897)](0x24)[_0xac361b(0x5b3)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x4cdcbe(0x1d3)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});Sa[a0_0x4cdcbe(0x7b3)](a0_0x4cdcbe(0x385),function(_0x389dab){const _0x3d2c8b=a0_0x4cdcbe;let _0x1b8f99=this[_0x3d2c8b(0x691)]();if(_0x1b8f99&&typeof _0x1b8f99==_0x3d2c8b(0x4d6)&&_0x3d2c8b(0x61c)in _0x1b8f99){let _0x5b1bfc=_0x1b8f99[_0x3d2c8b(0x61c)];if(_0x5b1bfc){let _0x43c637=new Set(),_0x411da8=new Set(_0x5b1bfc[_0x3d2c8b(0x6bb)]?.[_0x3d2c8b(0x79d)](_0x300cfc=>_0x300cfc[_0x3d2c8b(0x5cf)])),_0x34d285=JSON['stringify'](_0x5b1bfc),_0xca463e=/{{(?!_)([^}]*)}}/g,_0x30e063;for(;(_0x30e063=_0xca463e[_0x3d2c8b(0x89d)](_0x34d285))!==null;)_0x411da8['has'](_0x30e063[0x1])||_0x43c637[_0x3d2c8b(0x52d)](_0x30e063[0x1]);_0x43c637[_0x3d2c8b(0x238)]>0x0?(console[_0x3d2c8b(0x3bc)]('Variáveis\x20não\x20encontradas:',Array[_0x3d2c8b(0x1d1)](_0x43c637)),_0x5b1bfc[_0x3d2c8b(0x6db)]=Array['from'](_0x43c637)):_0x5b1bfc[_0x3d2c8b(0x6db)]=[],this['setUpdate']({'$set':_0x5b1bfc});}}_0x389dab();});var Ce=R?.[a0_0x4cdcbe(0x563)](Cs[a0_0x4cdcbe(0x5cf)],Sa,a0_0x4cdcbe(0x23b)),mo=new P[(a0_0x4cdcbe(0x363))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ho]},{'_id':!0x1}),fo=new P[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[ya],'groups':[fa],'conditions':[wa],'varedits':[ba],'replyOptions':{'type':[Ms],'default':[]},'chatLog':mo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x4cdcbe(0x542)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x4cdcbe(0x429)},'waitingMenu_replyOptions':{'type':[Ms],'default':[]}}),Ma=_0x388678=>{const _0x33c794=a0_0x4cdcbe;let _0x3de4b7='z_'+_0x388678+_0x33c794(0x5fb);return R?.[_0x33c794(0x563)]('ConversationModel',fo,_0x3de4b7);},wo=new P[(a0_0x4cdcbe(0x363))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ma=new P['Schema']({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),yo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ma],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x4cdcbe(0x297)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[wo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ma,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ca=_0x2760b2=>{const _0x257f8e=a0_0x4cdcbe;let _0x36bef0='z_'+_0x2760b2+_0x257f8e(0x5c0);return R?.['model'](_0x257f8e(0x37f),yo,_0x36bef0);},Es=class{},bo=new P[(a0_0x4cdcbe(0x363))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),So=new P[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Mo=new P[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Co=new P[(a0_0x4cdcbe(0x363))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x4cdcbe(0x4ab)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Eo=new P[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),vo=new P[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Eo]},'customFields':{'type':[Mo]},'flowConfig':{'type':Co,'default':{}},'flows':{'type':[So],'default':[]},'autoCompleteMessages':{'type':[bo],'default':[]}}),Ae=R?.[a0_0x4cdcbe(0x563)](Es[a0_0x4cdcbe(0x5cf)],vo,a0_0x4cdcbe(0x598)),Ea=require(a0_0x4cdcbe(0x5ae)),No=new Ea[(a0_0x4cdcbe(0x363))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x12651a=>{const _0xa62bc7=a0_0x4cdcbe;let _0x4d5c0f='z_'+_0x12651a+'_Labels';return R?.['model'](_0xa62bc7(0x55f),No,_0x4d5c0f);},_=class{constructor(_0x1e23a9){const _0x50530b=a0_0x4cdcbe;this[_0x50530b(0x888)]=_0x1e23a9[_0x50530b(0x2df)](_0x50530b(0x3e1));}};function I(_0x5c2775){const _0x4354b8=a0_0x4cdcbe;let _0x2a1cd2={};for(let [_0x4546ba,_0x3c1d1a]of Object[_0x4354b8(0x659)](_0x5c2775))if(typeof _0x3c1d1a=='object'&&!Array['isArray'](_0x3c1d1a)){for(let [_0x107788,_0x13419a]of Object[_0x4354b8(0x659)](_0x3c1d1a))_0x2a1cd2[_0x4546ba+'.'+_0x107788]=_0x13419a;}else _0x2a1cd2[_0x4546ba]=_0x3c1d1a;return _0x2a1cd2;}var Ke=class{constructor(_0x4128ed,_0x483b76,_0x7bdf1b,_0x108921,_0x17a786,_0x3285fe,_0x3f1bb8,_0x3c7ae9,_0x5062fb,_0x437949,_0x4855de,_0x3b90dc,_0x49dee9){const _0x34552d=a0_0x4cdcbe;this[_0x34552d(0x517)]=_0x4128ed,this[_0x34552d(0x538)]=_0x483b76,this[_0x34552d(0x1bb)]=_0x7bdf1b,this[_0x34552d(0x3d1)]=_0x108921,this['webhook']=_0x17a786,this[_0x34552d(0x5f4)]=_0x3285fe,this[_0x34552d(0x1c1)]=_0x3f1bb8,this[_0x34552d(0x357)]=_0x3c7ae9,this[_0x34552d(0x610)]=_0x5062fb,this[_0x34552d(0x522)]=_0x437949,this[_0x34552d(0x566)]=_0x4855de,this[_0x34552d(0x670)]=_0x3b90dc,this['dbClient']=_0x49dee9;}get[a0_0x4cdcbe(0x75c)](){const _0x305f59=a0_0x4cdcbe;return this[_0x305f59(0x825)];}},Qe=class{},Ye=class extends _{['getMessageModelForOwner'](_0x380a6c){return la(_0x380a6c);}async[a0_0x4cdcbe(0x5ed)](_0x4068da,_0x2bded1){const _0x1fdd3e=a0_0x4cdcbe;if(_0x4068da['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1fdd3e(0x36e)](_0x2bded1)[_0x1fdd3e(0x490)]([..._0x4068da]))[_0x1fdd3e(0x59d)]};}catch(_0x1431f8){return _0x1431f8;}}async['find'](_0x5b6aa5,_0x5b8039){const _0x304be4=a0_0x4cdcbe;try{let _0x434043=this[_0x304be4(0x36e)](_0x5b8039),_0xde99f4=I(_0x5b6aa5[_0x304be4(0x449)]);return await _0x434043['find'](_0xde99f4)['sort']({'messageTimestamp':-0x1})[_0x304be4(0x4a7)](_0x5b6aa5?.[_0x304be4(0x4a7)]??0x0)['lean']();}catch{return[];}}async[a0_0x4cdcbe(0x5f7)](_0x1f79e9,_0x5c8afb){const _0x16ea8c=a0_0x4cdcbe;try{let _0x210889=this['getMessageModelForOwner'](_0x5c8afb),_0x3d6c72=I(_0x1f79e9[_0x16ea8c(0x449)]);await _0x210889[_0x16ea8c(0x334)](_0x3d6c72);}catch(_0x4994d8){console[_0x16ea8c(0x2c1)](_0x4994d8);}}async[a0_0x4cdcbe(0x17d)](_0x43569b,_0x53e2e3,_0xf8838c){const _0x2c0c21=a0_0x4cdcbe;try{let _0x11e086=this[_0x2c0c21(0x36e)](_0xf8838c),_0x509da5=I(_0x43569b[_0x2c0c21(0x449)]);return await _0x11e086[_0x2c0c21(0x385)](_0x509da5,{'$set':_0x53e2e3},{'new':!0x0});}catch(_0x27f972){throw console[_0x2c0c21(0x2c1)](_0x27f972),_0x27f972;}}async[a0_0x4cdcbe(0x490)](_0x50b72e,_0x2d6143){const _0x5de2bc=a0_0x4cdcbe;if(_0x50b72e[_0x5de2bc(0x59d)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5de2bc(0x36e)](_0x2d6143)['insertMany']([..._0x50b72e]))['length']};}catch(_0xedd16e){return console[_0x5de2bc(0x65b)](_0x5de2bc(0x6c2),_0xedd16e),_0xedd16e;}}async[a0_0x4cdcbe(0x2fc)](_0x1bb99b){const _0x531796=a0_0x4cdcbe;try{return await this['getMessageModelForOwner'](_0x1bb99b)[_0x531796(0x58c)]['drop'](),{'success':!0x0};}catch(_0x5e1d40){return console[_0x531796(0x2c1)](_0x5e1d40),{'success':!0x1,'error':_0x5e1d40};}}},Ds=A(require(a0_0x4cdcbe(0x2b2))),w=A(require(a0_0x4cdcbe(0x1bf))),Le=require('fs'),j=A(require(a0_0x4cdcbe(0x221))),ee=A(require(a0_0x4cdcbe(0x459))),_i=require(a0_0x4cdcbe(0x333)),Oi=A(require(a0_0x4cdcbe(0x4c2))),xi=A(require(a0_0x4cdcbe(0x322))),Na=[a0_0x4cdcbe(0x6a1),a0_0x4cdcbe(0x655),a0_0x4cdcbe(0x537),'videoMessage',a0_0x4cdcbe(0x83a)],$a=[a0_0x4cdcbe(0x35f),a0_0x4cdcbe(0x35c),a0_0x4cdcbe(0x557),a0_0x4cdcbe(0x222)],Ps=require('os'),Jt=A(require(a0_0x4cdcbe(0x6b7))),Fe=require(a0_0x4cdcbe(0x545)),Di=require(a0_0x4cdcbe(0x4a5)),fe=A(require(a0_0x4cdcbe(0x5ae))),L=require(a0_0x4cdcbe(0x875)),pe=class{constructor(_0x384a6a,_0x2b2ae5,_0x4a3005){const _0x411c0b=a0_0x4cdcbe;this['jid']=_0x384a6a,this[_0x411c0b(0x4e1)]=_0x2b2ae5,this[_0x411c0b(0x5cf)]=_0x4a3005;}},Xe=class{},Ze=class{},Te=class{},et=class{},tt=class{},Ee=class{},st=class{},at=class{},it=class{},ot=class{},Pt=A(require(a0_0x4cdcbe(0x63c))),Ra=require('fs'),Ia=require('path');async function _e(_0x3f8764){const _0x1e0cbe=a0_0x4cdcbe;let _0x31c3cf=z[_0x1e0cbe(0x638)][_0x3f8764];if(U[_0x1e0cbe(0x8dc)]){let _0x543119=R[_0x1e0cbe(0x858)]()['db'](U[_0x1e0cbe(0x21a)][_0x1e0cbe(0x746)]+'-instances')[_0x1e0cbe(0x58c)](_0x3f8764);return _0x31c3cf||(await _0x543119[_0x1e0cbe(0x521)]({})[_0x1e0cbe(0x229)]())[_0x1e0cbe(0x59d)]>0x0;}return _0x31c3cf||(0x0,Ra[_0x1e0cbe(0x864)])((0x0,Ia['join'])(Se,_0x3f8764));}async function Aa(_0x58ba48,_0x48ae49,_0x2aa1ea){const _0x4e2981=a0_0x4cdcbe;if(_0x58ba48['originalUrl'][_0x4e2981(0x192)]('/instance/create')||_0x58ba48[_0x4e2981(0x21c)][_0x4e2981(0x192)]('/instance/fetchInstances')||_0x58ba48['originalUrl'][_0x4e2981(0x192)](_0x4e2981(0x70a))||_0x58ba48[_0x4e2981(0x21c)][_0x4e2981(0x192)]('/config')||_0x58ba48['originalUrl'][_0x4e2981(0x192)](_0x4e2981(0x211))||_0x58ba48[_0x4e2981(0x21c)]['includes']('/instance/connectionState')||_0x58ba48['originalUrl'][_0x4e2981(0x192)](_0x4e2981(0x3d4)))return _0x2aa1ea();let _0x40c75e=_0x58ba48[_0x4e2981(0x484)];if(!_0x40c75e?.['instanceName'])throw new m(_0x4e2981(0x466));if(!await _e(_0x40c75e[_0x4e2981(0x181)]))throw new q(_0x4e2981(0x782)+_0x40c75e[_0x4e2981(0x181)]+_0x4e2981(0x736));_0x2aa1ea();}async function Ta(_0x2bee6b,_0x482cd9,_0x4efc01){const _0x3f46dc=a0_0x4cdcbe;if(_0x2bee6b[_0x3f46dc(0x21c)][_0x3f46dc(0x192)](_0x3f46dc(0x261))){let _0x43d972=_0x2bee6b[_0x3f46dc(0x52a)];if(await _e(_0x43d972[_0x3f46dc(0x181)]))throw new se('This\x20name\x20'+_0x43d972[_0x3f46dc(0x181)]+_0x3f46dc(0x561));z['waInstances'][_0x43d972[_0x3f46dc(0x181)]]&&delete z['waInstances'][_0x43d972['instanceName']];}_0x4efc01();}var _a=require(a0_0x4cdcbe(0x875)),Oa=A(require(a0_0x4cdcbe(0x71a))),rt=a0_0x4cdcbe(0x82b),Ro=new $('GUARD');async function Io(_0x4627d9,_0x594d2f,_0x5bf214){const _0x5792ac=a0_0x4cdcbe;let _0x200bc0=_0x4627d9[_0x5792ac(0x2df)]('apikey');if(_0x200bc0&&b[_0x5792ac(0x2df)](_0x5792ac(0x475))['API_KEY'][_0x5792ac(0x399)]!==_0x200bc0)throw new ce();if(b[_0x5792ac(0x2df)](_0x5792ac(0x475))[_0x5792ac(0x797)][_0x5792ac(0x399)]===_0x200bc0)return _0x5bf214();if((_0x4627d9[_0x5792ac(0x21c)][_0x5792ac(0x192)](_0x5792ac(0x261))||_0x4627d9[_0x5792ac(0x21c)][_0x5792ac(0x192)]('/instance/fetchInstances'))&&!_0x200bc0)throw new se(_0x5792ac(0x44c),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x23fbbb=b[_0x5792ac(0x2df)](_0x5792ac(0x475))[_0x5792ac(0x408)];try{let [_0x5358ef,_0x1a45e3]=_0x4627d9['get']('authorization')[_0x5792ac(0x43b)]('\x20');if(_0x5358ef[_0x5792ac(0x804)]()!==_0x5792ac(0x286))throw new ce();if(!(0x0,_a[_0x5792ac(0x6f8)])(_0x1a45e3))throw new ce();let _0x57258c=_0x4627d9[_0x5792ac(0x484)],_0xbc8750=Oa[_0x5792ac(0x669)][_0x5792ac(0x1f5)](_0x1a45e3,_0x23fbbb[_0x5792ac(0x203)],{'ignoreExpiration':_0x23fbbb[_0x5792ac(0x27b)]===0x0});if(_0x57258c['instanceName']!==_0xbc8750['instanceName']||rt!==_0xbc8750['apiName'])throw new ce();return _0x5bf214();}catch(_0x235b73){throw Ro[_0x5792ac(0x2c1)](_0x235b73),new ce();}}async function Ao(_0x1aac08,_0x556462,_0x4bd09d){const _0xceff74=a0_0x4cdcbe;let _0x1522d8=b[_0xceff74(0x2df)](_0xceff74(0x475))[_0xceff74(0x797)],_0x30e301=_0x1aac08[_0xceff74(0x2df)](_0xceff74(0x347));if(_0x1522d8['KEY']===_0x30e301)return _0x4bd09d();if(_0x1aac08[_0xceff74(0x21c)][_0xceff74(0x192)](_0xceff74(0x261))){let _0x595ade=Da,_0x5425e2=_0x1aac08['body'][_0xceff74(0x181)];if(_0x595ade&&_0x5425e2[_0xceff74(0x804)]()[_0xceff74(0x196)](_0x595ade[_0xceff74(0x804)]()))return _0x4bd09d();if(!_0x30e301)throw new se(_0xceff74(0x44c),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x1aac08[_0xceff74(0x21c)]['includes'](_0xceff74(0x64e))&&!_0x30e301)throw new se(_0xceff74(0x44c),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x1aac08['originalUrl'][_0xceff74(0x192)]('/exit')&&!_0x30e301)throw new se(_0xceff74(0x44c),_0xceff74(0x44f));if(_0x1aac08[_0xceff74(0x21c)][_0xceff74(0x192)](_0xceff74(0x8ab))&&!_0x30e301)throw new se(_0xceff74(0x44c),_0xceff74(0x44f));try{let _0x3166d9=_0x1aac08[_0xceff74(0x484)],_0x4d6fb1=await we['auth'][_0xceff74(0x521)](_0x3166d9['instanceName']);if(_0x4d6fb1&&_0x4d6fb1['apikey']===_0x30e301)return _0x4bd09d();}catch{}throw new ce();}var xa={'jwt':Io,'apikey':Ao},gi=require('express'),v=require(a0_0x4cdcbe(0x333)),E=(..._0x4ca593)=>{const _0x578e67=a0_0x4cdcbe;let _0x2e1972={};return _0x4ca593['forEach'](_0x1a555e=>_0x2e1972[_0x1a555e]={'minLength':0x1,'description':_0x578e67(0x7e5)+_0x1a555e+_0x578e67(0x1ef)}),{'if':{'propertyNames':{'enum':[..._0x4ca593]}},'then':{'properties':_0x2e1972}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'instanceName':{'type':'string'}},...E(a0_0x4cdcbe(0x181))},mc={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'oldToken':{'type':a0_0x4cdcbe(0x18a)}},'required':[a0_0x4cdcbe(0x2d9)],...E('oldToken')},fc={'properties':{'key':{'type':a0_0x4cdcbe(0x4d6),'properties':{'id':{'type':a0_0x4cdcbe(0x18a)},'remoteJid':{'type':a0_0x4cdcbe(0x18a)},'fromMe':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x4cdcbe(0x7ac)],...E('id','remoteJid')},'message':{'type':a0_0x4cdcbe(0x4d6)}}},ae={'properties':{'delay':{'type':a0_0x4cdcbe(0x404),'description':a0_0x4cdcbe(0x583)},'presence':{'type':a0_0x4cdcbe(0x18a),'enum':[a0_0x4cdcbe(0x1ee),a0_0x4cdcbe(0x435),a0_0x4cdcbe(0x589),'recording',a0_0x4cdcbe(0x44d)]}}},X={'type':a0_0x4cdcbe(0x18a),'description':a0_0x4cdcbe(0x41b)},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'number':{...X},'options':{...ae},'textMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'text':{'type':a0_0x4cdcbe(0x18a)}},'required':[a0_0x4cdcbe(0x2a8)],...E('text')}},'required':[a0_0x4cdcbe(0x4c5),'number']},ka={'type':a0_0x4cdcbe(0x18a),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x4cdcbe(0x41b)},wc={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'number':{...ka},'options':{...ae},'textMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'text':{'type':a0_0x4cdcbe(0x18a)}},'required':[a0_0x4cdcbe(0x2a8)],...E('text')}},'required':[a0_0x4cdcbe(0x4c5),a0_0x4cdcbe(0x64f)]},yc={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'number':{...ka},'options':{...ae},'mediaMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'mediatype':{'type':a0_0x4cdcbe(0x18a),'enum':[a0_0x4cdcbe(0x1d4),'document',a0_0x4cdcbe(0x859),a0_0x4cdcbe(0x6d5)]},'media':{'type':a0_0x4cdcbe(0x18a)},'fileName':{'type':a0_0x4cdcbe(0x18a)},'caption':{'type':a0_0x4cdcbe(0x18a)}},'required':[a0_0x4cdcbe(0x87a),a0_0x4cdcbe(0x2c6)],...E('fileName',a0_0x4cdcbe(0x65d),a0_0x4cdcbe(0x2c6))}},'required':['mediaMessage',a0_0x4cdcbe(0x64f)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'number':{...X},'options':{...ae},'stickerMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'image':{'type':'string'}},'required':[a0_0x4cdcbe(0x1d4)],...E(a0_0x4cdcbe(0x1d4))}},'required':[a0_0x4cdcbe(0x83a),a0_0x4cdcbe(0x64f)]},Fa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'type':{'type':a0_0x4cdcbe(0x18a),'enum':['text',a0_0x4cdcbe(0x1d4),'audio',a0_0x4cdcbe(0x859)]},'content':{'type':a0_0x4cdcbe(0x18a)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x4cdcbe(0x18a)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x4cdcbe(0x6b5),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4cdcbe(0x18a),'pattern':a0_0x4cdcbe(0x710),'description':a0_0x4cdcbe(0x42c)}},'allContacts':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]}},'required':['type',a0_0x4cdcbe(0x8d1)],...E(a0_0x4cdcbe(0x551),a0_0x4cdcbe(0x8d1))}},'required':['statusMessage']},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'number':{...X},'options':{...ae},'mediaMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'mediatype':{'type':a0_0x4cdcbe(0x18a),'enum':[a0_0x4cdcbe(0x1d4),a0_0x4cdcbe(0x3b9),a0_0x4cdcbe(0x859),a0_0x4cdcbe(0x6d5)]},'media':{'type':'string'},'fileName':{'type':a0_0x4cdcbe(0x18a)},'caption':{'type':a0_0x4cdcbe(0x18a)}},'required':[a0_0x4cdcbe(0x87a),a0_0x4cdcbe(0x2c6)],...E(a0_0x4cdcbe(0x7eb),a0_0x4cdcbe(0x65d),a0_0x4cdcbe(0x2c6))}},'required':['mediaMessage',a0_0x4cdcbe(0x64f)]},ja={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'number':{...X},'options':{...ae},'audioMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'audio':{'type':a0_0x4cdcbe(0x18a)}},'required':['audio'],...E(a0_0x4cdcbe(0x6d5))}},'required':[a0_0x4cdcbe(0x537),'number']},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'number':{...X},'pollMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'name':{'type':a0_0x4cdcbe(0x18a)},'selectableCount':{'type':a0_0x4cdcbe(0x64f)},'values':{'type':a0_0x4cdcbe(0x6b5),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4cdcbe(0x5cf),a0_0x4cdcbe(0x656),a0_0x4cdcbe(0x4b7)],...E('name',a0_0x4cdcbe(0x656),'values')}},'required':['number',a0_0x4cdcbe(0x7c3)]},qa={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'number':{...X},'menuMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'text':{'type':a0_0x4cdcbe(0x18a)},'choices':{'type':a0_0x4cdcbe(0x6b5),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4cdcbe(0x2a8),a0_0x4cdcbe(0x611)],...E(a0_0x4cdcbe(0x2a8),'choices')}},'required':['number',a0_0x4cdcbe(0x6c7)]},Va={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'number':{...X},'options':{...ae},'buttonMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'title':{'type':a0_0x4cdcbe(0x18a)},'description':{'type':a0_0x4cdcbe(0x18a)},'footerText':{'type':a0_0x4cdcbe(0x18a)},'buttons':{'type':a0_0x4cdcbe(0x6b5),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4cdcbe(0x4d6),'properties':{'buttonText':{'type':a0_0x4cdcbe(0x18a)},'buttonId':{'type':'string'}},'required':['buttonText',a0_0x4cdcbe(0x1fb)],...E(a0_0x4cdcbe(0x7e0),'buttonId')}},'mediaMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'media':{'type':a0_0x4cdcbe(0x18a)},'fileName':{'type':a0_0x4cdcbe(0x18a)},'mediatype':{'type':'string','enum':['image',a0_0x4cdcbe(0x3b9),'video']}},'required':[a0_0x4cdcbe(0x2c6),'mediatype'],...E(a0_0x4cdcbe(0x2c6),'fileName')}},'required':[a0_0x4cdcbe(0x642),a0_0x4cdcbe(0x3d7)],...E(a0_0x4cdcbe(0x642),a0_0x4cdcbe(0x85d))}},'required':[a0_0x4cdcbe(0x64f),'buttonMessage']},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'number':{...X},'options':{...ae},'locationMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'latitude':{'type':a0_0x4cdcbe(0x64f)},'longitude':{'type':a0_0x4cdcbe(0x64f)},'name':{'type':a0_0x4cdcbe(0x18a)},'address':{'type':a0_0x4cdcbe(0x18a)}},'required':[a0_0x4cdcbe(0x3e6),a0_0x4cdcbe(0x1cd)],...E(a0_0x4cdcbe(0x5cf),a0_0x4cdcbe(0x301))}},'required':[a0_0x4cdcbe(0x64f),a0_0x4cdcbe(0x1b7)]},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'number':{...X},'options':{...ae},'listMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'title':{'type':a0_0x4cdcbe(0x18a)},'description':{'type':a0_0x4cdcbe(0x18a)},'footerText':{'type':a0_0x4cdcbe(0x18a)},'buttonText':{'type':a0_0x4cdcbe(0x18a)},'sections':{'type':a0_0x4cdcbe(0x6b5),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4cdcbe(0x4d6),'properties':{'title':{'type':a0_0x4cdcbe(0x18a)},'rows':{'type':a0_0x4cdcbe(0x6b5),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x4cdcbe(0x18a)},'description':{'type':'string'},'rowId':{'type':a0_0x4cdcbe(0x18a)}},'required':[a0_0x4cdcbe(0x642),'rowId'],...E(a0_0x4cdcbe(0x642),a0_0x4cdcbe(0x64c))}}},'required':[a0_0x4cdcbe(0x642),a0_0x4cdcbe(0x2c3)],...E(a0_0x4cdcbe(0x642))}}},'required':[a0_0x4cdcbe(0x642),a0_0x4cdcbe(0x85d),a0_0x4cdcbe(0x7e0),'sections'],...E('title',a0_0x4cdcbe(0x85d),a0_0x4cdcbe(0x7e0),a0_0x4cdcbe(0x836))}},'required':[a0_0x4cdcbe(0x64f),a0_0x4cdcbe(0x302)]},Wa={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'number':{...X},'options':{...ae},'contactMessage':{'type':a0_0x4cdcbe(0x6b5),'items':{'type':a0_0x4cdcbe(0x4d6),'properties':{'fullName':{'type':a0_0x4cdcbe(0x18a)},'phoneNumber':{'type':a0_0x4cdcbe(0x18a),'minLength':0xa}},'required':[a0_0x4cdcbe(0x699),'phoneNumber'],...E(a0_0x4cdcbe(0x699))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x4cdcbe(0x210)]},za={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'reactionMessage':{'type':a0_0x4cdcbe(0x4d6),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x4cdcbe(0x18a)},'remoteJid':{'type':a0_0x4cdcbe(0x18a)},'fromMe':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4cdcbe(0x3e5),'fromMe'],...E('id','remoteJid')},'reaction':{'type':a0_0x4cdcbe(0x18a)}},'required':['key','reaction'],...E(a0_0x4cdcbe(0x518))}},'required':[a0_0x4cdcbe(0x761)]},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'numbers':{'type':a0_0x4cdcbe(0x6b5),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x4cdcbe(0x710),'description':a0_0x4cdcbe(0x438)}}}},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4cdcbe(0x18a)}},'required':['id',a0_0x4cdcbe(0x7ac),a0_0x4cdcbe(0x3e5)],...E('id',a0_0x4cdcbe(0x3e5))}}},'required':[a0_0x4cdcbe(0x851)]},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'privacySettings':{'type':a0_0x4cdcbe(0x4d6),'properties':{'readreceipts':{'type':a0_0x4cdcbe(0x18a),'enum':['all',a0_0x4cdcbe(0x57c)]},'profile':{'type':a0_0x4cdcbe(0x18a),'enum':[a0_0x4cdcbe(0x653),a0_0x4cdcbe(0x22e),a0_0x4cdcbe(0x661),'none']},'status':{'type':a0_0x4cdcbe(0x18a),'enum':[a0_0x4cdcbe(0x653),a0_0x4cdcbe(0x22e),a0_0x4cdcbe(0x661),a0_0x4cdcbe(0x57c)]},'online':{'type':a0_0x4cdcbe(0x18a),'enum':[a0_0x4cdcbe(0x653),a0_0x4cdcbe(0x2c9)]},'last':{'type':a0_0x4cdcbe(0x18a),'enum':[a0_0x4cdcbe(0x653),a0_0x4cdcbe(0x22e),a0_0x4cdcbe(0x661),a0_0x4cdcbe(0x57c)]},'groupadd':{'type':a0_0x4cdcbe(0x18a),'enum':[a0_0x4cdcbe(0x653),a0_0x4cdcbe(0x22e),a0_0x4cdcbe(0x661),a0_0x4cdcbe(0x57c)]}},'required':[a0_0x4cdcbe(0x8be),a0_0x4cdcbe(0x3ca),a0_0x4cdcbe(0x4b1),a0_0x4cdcbe(0x19b),a0_0x4cdcbe(0x188),'groupadd'],...E(a0_0x4cdcbe(0x8be),a0_0x4cdcbe(0x3ca),'status',a0_0x4cdcbe(0x19b),a0_0x4cdcbe(0x188),a0_0x4cdcbe(0x80a))}},'required':[a0_0x4cdcbe(0x243)]},Ya={'$id':(0x0,v['v4'])(),'type':'object','properties':{'lastMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x4cdcbe(0x18a)},'fromMe':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4cdcbe(0x7ac),a0_0x4cdcbe(0x3e5)],...E('id',a0_0x4cdcbe(0x3e5))},'messageTimestamp':{'type':a0_0x4cdcbe(0x404),'minLength':0x1}},'required':['key'],...E(a0_0x4cdcbe(0x8b7))},'archive':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]}},'required':[a0_0x4cdcbe(0x4c8),a0_0x4cdcbe(0x6d0)]},Xa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4cdcbe(0x18a)},'participant':{'type':a0_0x4cdcbe(0x18a)}},'required':['id',a0_0x4cdcbe(0x7ac),a0_0x4cdcbe(0x3e5)],...E('id',a0_0x4cdcbe(0x3e5),a0_0x4cdcbe(0x43c))},Za={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'where':{'type':a0_0x4cdcbe(0x4d6),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x4cdcbe(0x18a),'minLength':0x1}},...E(a0_0x4cdcbe(0x42f),'id',a0_0x4cdcbe(0x8b6))}}},ei={'$id':(0x0,v['v4'])(),'type':'object','properties':{'name':{'type':'string'}},...E(a0_0x4cdcbe(0x5cf))},ti={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'status':{'type':'string'}},...E(a0_0x4cdcbe(0x4b1))},Oe={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{'type':a0_0x4cdcbe(0x18a)},'picture':{'type':a0_0x4cdcbe(0x18a)}}},si={'type':a0_0x4cdcbe(0x4d6),'properties':{'wuid':{'type':a0_0x4cdcbe(0x18a)},'name':{'type':a0_0x4cdcbe(0x18a)},'picture':{'type':a0_0x4cdcbe(0x18a)},'status':{'type':a0_0x4cdcbe(0x18a)},'isBusiness':{'type':'boolean'}}},ai={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'where':{'type':a0_0x4cdcbe(0x4d6),'properties':{'_id':{'type':a0_0x4cdcbe(0x18a),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x4cdcbe(0x7ac),a0_0x4cdcbe(0x3e5),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x4cdcbe(0x18a),'minLength':0x1,'description':a0_0x4cdcbe(0x584)},'id':{'type':a0_0x4cdcbe(0x18a),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x4cdcbe(0x4d6)}},...E(a0_0x4cdcbe(0x42f))},'limit':{'type':a0_0x4cdcbe(0x404)}}},bc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':a0_0x4cdcbe(0x4d6),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x4cdcbe(0x18a)},'id':{'type':a0_0x4cdcbe(0x18a)},'fromMe':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x4cdcbe(0x18a)},'status':{'type':a0_0x4cdcbe(0x18a),'enum':[a0_0x4cdcbe(0x18b),'PENDING','SERVER_ACK',a0_0x4cdcbe(0x5e1),a0_0x4cdcbe(0x3cc),'PLAYED']}},...E(a0_0x4cdcbe(0x42f),a0_0x4cdcbe(0x3e5),'id',a0_0x4cdcbe(0x4b1))},'limit':{'type':'integer'}}},ii={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'number':{...X},'presence':{'type':a0_0x4cdcbe(0x18a),'enum':[a0_0x4cdcbe(0x1ee),a0_0x4cdcbe(0x435),a0_0x4cdcbe(0x589),a0_0x4cdcbe(0x689),'paused']}},'required':[a0_0x4cdcbe(0x4fd),a0_0x4cdcbe(0x64f)]},oi={'$id':(0x0,v['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x4cdcbe(0x18a)},'description':{'type':'string'},'profilePicture':{'type':a0_0x4cdcbe(0x18a)},'participants':{'type':a0_0x4cdcbe(0x6b5),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4cdcbe(0x18a),'minLength':0xa,'pattern':a0_0x4cdcbe(0x458),'description':a0_0x4cdcbe(0x649)}}},'required':[a0_0x4cdcbe(0x7d3),a0_0x4cdcbe(0x1cf)],...E(a0_0x4cdcbe(0x7d3),'description','profilePicture')},xe={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4cdcbe(0x18a),'pattern':a0_0x4cdcbe(0x89e)}},'required':['groupJid'],...E(a0_0x4cdcbe(0x30d))},ri={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'groupJid':{'type':a0_0x4cdcbe(0x18a)},'action':{'type':a0_0x4cdcbe(0x18a),'enum':[a0_0x4cdcbe(0x52d),a0_0x4cdcbe(0x496),a0_0x4cdcbe(0x4f9),a0_0x4cdcbe(0x844),a0_0x4cdcbe(0x21e),a0_0x4cdcbe(0x678)]},'participants':{'type':a0_0x4cdcbe(0x6b5),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x4cdcbe(0x458),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['groupJid',a0_0x4cdcbe(0x8ba),a0_0x4cdcbe(0x1cf)],...E(a0_0x4cdcbe(0x30d),a0_0x4cdcbe(0x8ba))},ni={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x4cdcbe(0x64f),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid','expiration'],...E('groupJid','expiration')},ci={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'groupJid':{'type':a0_0x4cdcbe(0x18a)},'image':{'type':a0_0x4cdcbe(0x18a)}},'required':['groupJid','image'],...E('groupJid',a0_0x4cdcbe(0x1d4))},li={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'groupJid':{'type':a0_0x4cdcbe(0x18a)},'description':{'type':a0_0x4cdcbe(0x18a)}},'required':['groupJid',a0_0x4cdcbe(0x85d)],...E(a0_0x4cdcbe(0x30d),a0_0x4cdcbe(0x85d))},ui={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'groupJid':{'type':a0_0x4cdcbe(0x18a)},'name':{'type':a0_0x4cdcbe(0x18a)}},'required':[a0_0x4cdcbe(0x30d),a0_0x4cdcbe(0x5cf)],...E(a0_0x4cdcbe(0x30d),'name')},di={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x4cdcbe(0x18a),'enum':[a0_0x4cdcbe(0x2b1),a0_0x4cdcbe(0x8de),a0_0x4cdcbe(0x2f5),a0_0x4cdcbe(0x69f)]}},'required':[a0_0x4cdcbe(0x30d),a0_0x4cdcbe(0x1a0)],...E(a0_0x4cdcbe(0x30d),a0_0x4cdcbe(0x1a0))},pi={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'groupJid':{'type':a0_0x4cdcbe(0x18a)},'restrict':{'type':'boolean'},'announce':{'type':a0_0x4cdcbe(0x6ea)},'memberAddMode':{'type':a0_0x4cdcbe(0x6ea)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x4cdcbe(0x404),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x4cdcbe(0x18a)},'description':{'type':a0_0x4cdcbe(0x18a)},'image':{'type':a0_0x4cdcbe(0x18a)}}},Ns={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'inviteCode':{'type':a0_0x4cdcbe(0x18a)}},'required':[a0_0x4cdcbe(0x244)],...E(a0_0x4cdcbe(0x244))},hi={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'url':{'type':a0_0x4cdcbe(0x18a)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x4cdcbe(0x6c6),a0_0x4cdcbe(0x5c7)]},Sc={'$id':(0x0,v['v4'])(),'type':a0_0x4cdcbe(0x4d6),'properties':{'local_map':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x4cdcbe(0x6ea),'enum':[!0x0,!0x1]}},'required':[a0_0x4cdcbe(0x31d),a0_0x4cdcbe(0x8b4),a0_0x4cdcbe(0x1de),'MESSAGES_SET',a0_0x4cdcbe(0x1b2),a0_0x4cdcbe(0x33f),a0_0x4cdcbe(0x79c),a0_0x4cdcbe(0x748),a0_0x4cdcbe(0x6f6),a0_0x4cdcbe(0x274),a0_0x4cdcbe(0x2ff),'CHATS_SET',a0_0x4cdcbe(0x740),a0_0x4cdcbe(0x7f6),a0_0x4cdcbe(0x62e),a0_0x4cdcbe(0x88f),a0_0x4cdcbe(0x24f),a0_0x4cdcbe(0x3a7),a0_0x4cdcbe(0x723)],...E(a0_0x4cdcbe(0x31d),a0_0x4cdcbe(0x8b4),a0_0x4cdcbe(0x1de),a0_0x4cdcbe(0x74d),a0_0x4cdcbe(0x1b2),a0_0x4cdcbe(0x33f),'SEND_MESSAGE',a0_0x4cdcbe(0x748),a0_0x4cdcbe(0x6f6),a0_0x4cdcbe(0x274),a0_0x4cdcbe(0x2ff),a0_0x4cdcbe(0x82d),'CHATS_UPSERT',a0_0x4cdcbe(0x7f6),'CHATS_DELETE',a0_0x4cdcbe(0x88f),'GROUPS_UPSERT',a0_0x4cdcbe(0x3a7),'GROUP_PARTICIPANTS_UPDATE')},nt=class{},ct=class extends _{[a0_0x4cdcbe(0x291)](_0x40ecb9){return ia(_0x40ecb9);}async['insert'](_0x265573){const _0x25fead=a0_0x4cdcbe;if(_0x265573[_0x25fead(0x59d)]!==0x0)try{return{'insertCount':(await this[_0x25fead(0x291)](_0x265573[0x0][_0x25fead(0x3c1)])[_0x25fead(0x490)]([..._0x265573]))[_0x25fead(0x59d)]};}catch(_0x4d81e5){return _0x4d81e5;}}async[a0_0x4cdcbe(0x5f7)](_0x1423ee,_0x2ec37e){const _0x406fc5=a0_0x4cdcbe;try{return{'deletedCount':(await this[_0x406fc5(0x291)](_0x2ec37e)[_0x406fc5(0x334)]({..._0x1423ee[_0x406fc5(0x449)]}))[_0x406fc5(0x562)]};}catch(_0x5efbd3){return{'error':_0x5efbd3?.[_0x406fc5(0x897)]()};}}async['update'](_0x11a930,_0x1e9f5c){const _0x21458b=a0_0x4cdcbe;try{if(_0x11a930['length']===0x0)return;let _0xdcfec0=this[_0x21458b(0x291)](_0x1e9f5c),_0x2f55eb=_0x11a930[_0x21458b(0x79d)](_0x1c025d=>({'updateOne':{'filter':{'_id':_0x1c025d[_0x21458b(0x42f)],'owner':_0x1e9f5c},'update':{..._0x1c025d}}})),{modifiedCount:_0x3e732c}=await _0xdcfec0['bulkWrite'](_0x2f55eb);return{'insertCount':_0x3e732c};}catch{return;}}async[a0_0x4cdcbe(0x521)](_0x4a9c92,_0x12bb53){const _0x1a3072=a0_0x4cdcbe;try{let _0x264f91=this[_0x1a3072(0x291)](_0x12bb53),_0x5e9278=I(_0x4a9c92[_0x1a3072(0x449)]);return await _0x264f91[_0x1a3072(0x521)](_0x5e9278)[_0x1a3072(0x4a7)](_0x4a9c92?.[_0x1a3072(0x4a7)]??0x0)[_0x1a3072(0x28d)]();}catch{return[];}}async[a0_0x4cdcbe(0x324)](_0x57138f,_0x13df67){const _0x5903fe=a0_0x4cdcbe;try{let _0x8214de=this[_0x5903fe(0x291)](_0x13df67),_0xeb58ec=I(_0x57138f[_0x5903fe(0x449)]);return await _0x8214de['findOne'](_0xeb58ec)['lean']();}catch{return null;}}async[a0_0x4cdcbe(0x2fc)](_0x169792){const _0x507e5d=a0_0x4cdcbe;try{return await this['getContactModelForOwner'](_0x169792)[_0x507e5d(0x58c)][_0x507e5d(0x3cb)](),{'success':!0x0};}catch(_0x4cd660){return console[_0x507e5d(0x2c1)](_0x4cd660),{'success':!0x1,'error':_0x4cd660};}}},lt=require(a0_0x4cdcbe(0x380)),Ac=require('express-async-errors'),$s=new $(a0_0x4cdcbe(0x47c)),W=class{[a0_0x4cdcbe(0x5f2)](_0x2551cd,_0x5b74ca=!0x0){const _0x91b473=a0_0x4cdcbe;let _0x40f864='/'+_0x2551cd;return _0x5b74ca&&(_0x40f864+=_0x91b473(0x4f5)),_0x40f864;}async[a0_0x4cdcbe(0x1c8)](_0x303cea){const _0xa7148a=a0_0x4cdcbe;let {request:_0x1cb3ce,schema:_0x42c44c,ClassRef:_0x5bdebc,execute:_0xbc030b}=_0x303cea,_0x1bdeed=new _0x5bdebc(),_0x75ce40=_0x1cb3ce[_0xa7148a(0x52a)],_0x5cdfd2=_0x1cb3ce['params'];_0x1cb3ce?.[_0xa7148a(0x596)]&&Object[_0xa7148a(0x684)](_0x1cb3ce['query'])[_0xa7148a(0x59d)]>0x0&&Object[_0xa7148a(0x4dc)](_0x5cdfd2,_0x1cb3ce[_0xa7148a(0x596)]),_0x1cb3ce[_0xa7148a(0x21c)]['includes'](_0xa7148a(0x261))&&Object[_0xa7148a(0x4dc)](_0x5cdfd2,_0x75ce40),Object[_0xa7148a(0x4dc)](_0x1bdeed,_0x75ce40);let _0x3c47ee=_0x42c44c?(0x0,lt['validate'])(_0x1bdeed,_0x42c44c):{'valid':!0x0,'errors':[]};if(!_0x3c47ee[_0xa7148a(0x61a)]){let _0x46de24=_0x3c47ee[_0xa7148a(0x72f)][_0xa7148a(0x79d)](({property:_0x302900,stack:_0x103500,schema:_0xe487ac})=>{const _0x2011ac=_0xa7148a;let _0x389baa;return _0xe487ac[_0x2011ac(0x85d)]?_0x389baa=_0xe487ac[_0x2011ac(0x85d)]:_0x389baa=_0x103500['replace'](_0x2011ac(0x4a1),''),{'property':_0x302900['replace']('instance.',''),'message':_0x389baa};});throw $s['error']([..._0x46de24]),new m(..._0x46de24);}return await _0xbc030b(_0x5cdfd2,_0x1bdeed);}async[a0_0x4cdcbe(0x25e)](_0x37ca14){const _0x3a74de=a0_0x4cdcbe;let {request:_0x389be5,ClassRef:_0x37691f,schema:_0x5b6ace,execute:_0x4e5bab}=_0x37ca14,_0x684cca=_0x389be5[_0x3a74de(0x596)];if(!_0x684cca?.[_0x3a74de(0x30d)])throw new m(_0x3a74de(0x2d0),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x34c7c0=_0x389be5[_0x3a74de(0x484)],_0x4b2268=_0x389be5[_0x3a74de(0x52a)],_0x2cca26=new _0x37691f();Object[_0x3a74de(0x4dc)](_0x4b2268,_0x684cca),Object[_0x3a74de(0x4dc)](_0x2cca26,_0x4b2268);let _0x3178e2=(0x0,lt['validate'])(_0x2cca26,_0x5b6ace);if(!_0x3178e2['valid']){let _0x3ccf99=_0x3178e2[_0x3a74de(0x72f)][_0x3a74de(0x79d)](({property:_0x2cabff,stack:_0x30e092,schema:_0x58dcfa})=>{const _0x17933a=_0x3a74de;let _0x354656;return _0x58dcfa['description']?_0x354656=_0x58dcfa['description']:_0x354656=_0x30e092[_0x17933a(0x1a6)]('instance.',''),{'property':_0x2cabff[_0x17933a(0x1a6)](_0x17933a(0x4a1),''),'message':_0x354656};});throw $s[_0x3a74de(0x2c1)]([..._0x3ccf99]),new m(..._0x3ccf99);}return await _0x4e5bab(_0x34c7c0,_0x2cca26);}async[a0_0x4cdcbe(0x423)](_0x8b6dfb){const _0x4128a0=a0_0x4cdcbe;let {request:_0x35e0ee,ClassRef:_0xf7d3ac,schema:_0x37433f,execute:_0x441de5}=_0x8b6dfb,_0x13ffed=_0x35e0ee['body'];if(!_0x13ffed?.[_0x4128a0(0x244)])throw new m(_0x4128a0(0x3c5),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x429b76=_0x35e0ee[_0x4128a0(0x484)],_0x563a5c=_0x35e0ee[_0x4128a0(0x52a)],_0x3a0daa=new _0xf7d3ac();Object['assign'](_0x563a5c,_0x13ffed),Object[_0x4128a0(0x4dc)](_0x3a0daa,_0x563a5c);let _0x19ef68=(0x0,lt[_0x4128a0(0x1f6)])(_0x3a0daa,_0x37433f);if(!_0x19ef68[_0x4128a0(0x61a)]){let _0x3e4aed=_0x19ef68[_0x4128a0(0x72f)][_0x4128a0(0x79d)](({property:_0x3d8f39,stack:_0x9c7b9e,schema:_0x142d06})=>{const _0x385a64=_0x4128a0;let _0x45b9ce;return _0x142d06[_0x385a64(0x85d)]?_0x45b9ce=_0x142d06[_0x385a64(0x85d)]:_0x45b9ce=_0x9c7b9e[_0x385a64(0x1a6)](_0x385a64(0x4a1),''),{'property':_0x3d8f39[_0x385a64(0x1a6)]('instance.',''),'message':_0x45b9ce};});throw $s[_0x4128a0(0x2c1)]([..._0x3e4aed]),new m(..._0x3e4aed);}return await _0x441de5(_0x429b76,_0x3a0daa);}},C=class{},Gc=new $(a0_0x4cdcbe(0x491)),ut=class extends W{constructor(..._0x30abfd){const _0x438c80=a0_0x4cdcbe;super(),this[_0x438c80(0x8ad)]=(0x0,gi['Router'])(),this[_0x438c80(0x8ad)][_0x438c80(0x876)](this[_0x438c80(0x5f2)](_0x438c80(0x2b9)),..._0x30abfd,async(_0x8d392d,_0x131981)=>{const _0x44ccbc=_0x438c80;let _0x17e28d=await this[_0x44ccbc(0x1c8)]({'request':_0x8d392d,'schema':ii,'ClassRef':Xe,'execute':(_0x500c33,_0x3d041a)=>k[_0x44ccbc(0x2b9)](_0x500c33,_0x3d041a)});return _0x131981[_0x44ccbc(0x4b1)](0xc9)['json'](_0x17e28d);})[_0x438c80(0x876)](this['routerPath'](_0x438c80(0x1a7)),..._0x30abfd,async(_0x4b5a64,_0x480094)=>{const _0x518d69=_0x438c80;let _0x33fe55=await this['dataValidate']({'request':_0x4b5a64,'schema':Ha,'ClassRef':Ze,'execute':(_0x3c37e6,_0x420ff2)=>k[_0x518d69(0x8d4)](_0x3c37e6,_0x420ff2)});return _0x480094[_0x518d69(0x4b1)](0xc9)[_0x518d69(0x30c)](_0x33fe55);})['post'](this[_0x438c80(0x5f2)]('editChat'),..._0x30abfd,async(_0x3c1d9b,_0x18298e)=>{const _0x272366=_0x438c80;let _0x2364b2=await this[_0x272366(0x1c8)]({'request':_0x3c1d9b,'schema':N,'ClassRef':C,'execute':(_0x2b4414,_0x42a932)=>k['editChat'](_0x2b4414,_0x42a932)});return _0x18298e[_0x272366(0x4b1)](0xc9)[_0x272366(0x30c)](_0x2364b2);})[_0x438c80(0x6c4)](this['routerPath'](_0x438c80(0x4ad)),..._0x30abfd,async(_0x1bfef2,_0x3bd887)=>{const _0x217157=_0x438c80;let _0x1de068=await this[_0x217157(0x1c8)]({'request':_0x1bfef2,'schema':Ka,'ClassRef':st,'execute':(_0x20482a,_0x14ae5d)=>k[_0x217157(0x18d)](_0x20482a,_0x14ae5d)});return _0x3bd887['status'](0xc9)[_0x217157(0x30c)](_0x1de068);})[_0x438c80(0x6c4)](this[_0x438c80(0x5f2)]('archiveChat'),..._0x30abfd,async(_0x12052b,_0x2b4879)=>{const _0xd5849=_0x438c80;let _0x3ef547=await this[_0xd5849(0x1c8)]({'request':_0x12052b,'schema':Ya,'ClassRef':at,'execute':(_0x5005af,_0x430589)=>k[_0xd5849(0x5ba)](_0x5005af,_0x430589)});return _0x2b4879['status'](0xc9)['json'](_0x3ef547);})[_0x438c80(0x5f7)](this[_0x438c80(0x5f2)]('deleteMessageForEveryone'),..._0x30abfd,async(_0x160bd7,_0x303f9e)=>{const _0x58c2f8=_0x438c80;let _0x5f16d2=await this[_0x58c2f8(0x1c8)]({'request':_0x160bd7,'schema':Xa,'ClassRef':ot,'execute':(_0x59b0d1,_0x2030c3)=>k[_0x58c2f8(0x7a6)](_0x59b0d1,_0x2030c3)});return _0x303f9e[_0x58c2f8(0x4b1)](0xc9)[_0x58c2f8(0x30c)](_0x5f16d2);})[_0x438c80(0x876)](this['routerPath'](_0x438c80(0x1a8)),..._0x30abfd,async(_0x562464,_0x121948)=>{const _0x4c751c=_0x438c80;let _0x3543e4=await this[_0x4c751c(0x1c8)]({'request':_0x562464,'schema':Oe,'ClassRef':Te,'execute':(_0x507c62,_0x1965fa)=>k[_0x4c751c(0x606)](_0x507c62,_0x1965fa)});return _0x121948[_0x4c751c(0x4b1)](0xc8)[_0x4c751c(0x30c)](_0x3543e4);})[_0x438c80(0x876)](this[_0x438c80(0x5f2)]('fetchProfile'),..._0x30abfd,async(_0x24c151,_0x3d93ec)=>{const _0x5ab550=_0x438c80;let _0x26b0b0=await this[_0x5ab550(0x1c8)]({'request':_0x24c151,'schema':si,'ClassRef':Te,'execute':(_0x31c283,_0x9ee232)=>k[_0x5ab550(0x809)](_0x31c283,_0x9ee232)});return _0x3d93ec[_0x5ab550(0x4b1)](0xc8)[_0x5ab550(0x30c)](_0x26b0b0);})[_0x438c80(0x876)](this[_0x438c80(0x5f2)](_0x438c80(0x788)),..._0x30abfd,async(_0x4f433c,_0x5b441e)=>{const _0x1ffdc6=_0x438c80;let _0x20dd78=await this[_0x1ffdc6(0x1c8)]({'request':_0x4f433c,'schema':Za,'ClassRef':nt,'execute':(_0x2aaac8,_0x28cf06)=>k[_0x1ffdc6(0x51a)](_0x2aaac8,_0x28cf06)});return _0x5b441e[_0x1ffdc6(0x4b1)](0xc8)[_0x1ffdc6(0x30c)](_0x20dd78);})[_0x438c80(0x876)](this['routerPath']('getBase64FromMediaMessage'),..._0x30abfd,async(_0x25ec2f,_0x2114f6)=>{const _0x37c03b=_0x438c80;let _0x686a5e=await this[_0x37c03b(0x1c8)]({'request':_0x25ec2f,'schema':null,'ClassRef':Object,'execute':(_0x322921,_0x50bae4)=>k[_0x37c03b(0x3ad)](_0x322921,_0x50bae4)});return _0x2114f6[_0x37c03b(0x4b1)](0xc9)[_0x37c03b(0x30c)](_0x686a5e);})['post'](this[_0x438c80(0x5f2)](_0x438c80(0x48c)),..._0x30abfd,async(_0x316f4f,_0x2f0549)=>{const _0x3b0ad8=_0x438c80;let _0x114f70=await this[_0x3b0ad8(0x1c8)]({'request':_0x316f4f,'schema':ai,'ClassRef':Qe,'execute':(_0x96c6e3,_0x4ed017)=>k[_0x3b0ad8(0x4a2)](_0x96c6e3,_0x4ed017)});return _0x2f0549[_0x3b0ad8(0x4b1)](0xc8)[_0x3b0ad8(0x30c)](_0x114f70);})[_0x438c80(0x2df)](this[_0x438c80(0x5f2)]('findChats'),..._0x30abfd,async(_0x4ab3de,_0x52c822)=>{const _0x36e4d3=_0x438c80;let _0x290342=await this['dataValidate']({'request':_0x4ab3de,'schema':null,'ClassRef':C,'execute':_0xb211d6=>k[_0x36e4d3(0x49e)](_0xb211d6)});return _0x52c822[_0x36e4d3(0x4b1)](0xc8)[_0x36e4d3(0x30c)](_0x290342);})[_0x438c80(0x2df)](this['routerPath'](_0x438c80(0x31a)),..._0x30abfd,async(_0x2bc928,_0x24827a)=>{const _0xfe9894=_0x438c80;let _0x32fdc2=await this[_0xfe9894(0x1c8)]({'request':_0x2bc928,'schema':null,'ClassRef':C,'execute':_0x2cc053=>k['fetchLabels'](_0x2cc053)});return _0x24827a['status'](0xc8)['json'](_0x32fdc2);})['put'](this[_0x438c80(0x5f2)]('importChats'),..._0x30abfd,async(_0x1157ce,_0x81d9ce)=>{const _0x3b29ad=_0x438c80;let _0x558bbe=await this[_0x3b29ad(0x1c8)]({'request':_0x1157ce,'schema':null,'ClassRef':Array,'execute':(_0xb2cef,_0x493190)=>k[_0x3b29ad(0x5e8)](_0xb2cef,_0x493190)});return _0x81d9ce['status'](0xc8)[_0x3b29ad(0x30c)](_0x558bbe);})['get'](this[_0x438c80(0x5f2)](_0x438c80(0x4bd)),..._0x30abfd,async(_0x492459,_0x4e53fd)=>{const _0x197f5c=_0x438c80;let _0xe14793=await this[_0x197f5c(0x1c8)]({'request':_0x492459,'schema':null,'ClassRef':C,'execute':_0x718b07=>k[_0x197f5c(0x4bd)](_0x718b07)});return _0x4e53fd['status'](0xc8)[_0x197f5c(0x30c)](_0xe14793);})['put'](this[_0x438c80(0x5f2)](_0x438c80(0x6b8)),..._0x30abfd,async(_0xf3ce33,_0x1c9eb0)=>{const _0x5c6abe=_0x438c80;let _0x4a5bb7=await this[_0x5c6abe(0x1c8)]({'request':_0xf3ce33,'schema':Qa,'ClassRef':it,'execute':(_0x1feb0c,_0x418e1a)=>k[_0x5c6abe(0x6b8)](_0x1feb0c,_0x418e1a)});return _0x1c9eb0[_0x5c6abe(0x4b1)](0xc9)[_0x5c6abe(0x30c)](_0x4a5bb7);})[_0x438c80(0x876)](this[_0x438c80(0x5f2)]('fetchBusinessProfile'),..._0x30abfd,async(_0x1a8c0d,_0x16fd2d)=>{const _0x68fd04=_0x438c80;let _0x1d991d=await this[_0x68fd04(0x1c8)]({'request':_0x1a8c0d,'schema':Oe,'ClassRef':Ee,'execute':(_0x19d7af,_0x5f331c)=>k['fetchBusinessProfile'](_0x19d7af,_0x5f331c)});return _0x16fd2d[_0x68fd04(0x4b1)](0xc8)['json'](_0x1d991d);})[_0x438c80(0x876)](this['routerPath'](_0x438c80(0x2c5)),..._0x30abfd,async(_0x47ff4b,_0x7fe34)=>{const _0x5210e0=_0x438c80;let _0x2d5eb4=await this[_0x5210e0(0x1c8)]({'request':_0x47ff4b,'schema':ei,'ClassRef':et,'execute':(_0x1e7113,_0x438d76)=>k['updateProfileName'](_0x1e7113,_0x438d76)});return _0x7fe34[_0x5210e0(0x4b1)](0xc8)[_0x5210e0(0x30c)](_0x2d5eb4);})[_0x438c80(0x876)](this[_0x438c80(0x5f2)](_0x438c80(0x45b)),..._0x30abfd,async(_0x3cf187,_0x3cf632)=>{const _0x41a07=_0x438c80;let _0x1dcf60=await this[_0x41a07(0x1c8)]({'request':_0x3cf187,'schema':ti,'ClassRef':tt,'execute':(_0x39d488,_0x188687)=>k[_0x41a07(0x45b)](_0x39d488,_0x188687)});return _0x3cf632[_0x41a07(0x4b1)](0xc8)[_0x41a07(0x30c)](_0x1dcf60);})[_0x438c80(0x6c4)](this['routerPath'](_0x438c80(0x340)),..._0x30abfd,async(_0x3c847a,_0x414513)=>{const _0x2951eb=_0x438c80;let _0x591ed9=await this[_0x2951eb(0x1c8)]({'request':_0x3c847a,'schema':Oe,'ClassRef':Ee,'execute':(_0x552224,_0x3666a8)=>k[_0x2951eb(0x340)](_0x552224,_0x3666a8)});return _0x414513[_0x2951eb(0x4b1)](0xc8)[_0x2951eb(0x30c)](_0x591ed9);})[_0x438c80(0x5f7)](this['routerPath'](_0x438c80(0x6f3)),..._0x30abfd,async(_0xc2f27b,_0x3262b7)=>{const _0x8145fa=_0x438c80;let _0x3f0ca2=await this[_0x8145fa(0x1c8)]({'request':_0xc2f27b,'schema':Oe,'ClassRef':Ee,'execute':(_0x52f5e4,_0x38baa8)=>k[_0x8145fa(0x6f3)](_0x52f5e4,_0x38baa8)});return _0x3262b7[_0x8145fa(0x4b1)](0xc8)[_0x8145fa(0x30c)](_0x3f0ca2);});}},mi=require(a0_0x4cdcbe(0x63c)),dt=class{},pt=class{},ht=class{},gt=class{},mt=class{},ft=class{},ie=class{},De=class{},wt=class extends ie{},yt=class extends ie{},bt=class extends W{constructor(..._0x1b375e){const _0x2d0f24=a0_0x4cdcbe;super(),this[_0x2d0f24(0x8ad)]=(0x0,mi[_0x2d0f24(0x6a2)])(),this[_0x2d0f24(0x8ad)][_0x2d0f24(0x876)](this['routerPath'](_0x2d0f24(0x22a)),..._0x1b375e,async(_0x334b41,_0x99dd64)=>{const _0x419907=_0x2d0f24;let _0x2feeb8=await this['dataValidate']({'request':_0x334b41,'schema':oi,'ClassRef':dt,'execute':(_0x418248,_0x3365db)=>G[_0x419907(0x51b)](_0x418248,_0x3365db)});_0x99dd64[_0x419907(0x4b1)](0xc9)[_0x419907(0x30c)](_0x2feeb8);})[_0x2d0f24(0x6c4)](this['routerPath'](_0x2d0f24(0x4cc)),..._0x1b375e,async(_0x5a5709,_0x10c137)=>{const _0x1ab901=_0x2d0f24;let _0x35eb6c=await this[_0x1ab901(0x25e)]({'request':_0x5a5709,'schema':ci,'ClassRef':pt,'execute':(_0xb6c199,_0x16a9d4)=>G[_0x1ab901(0x4cc)](_0xb6c199,_0x16a9d4)});_0x10c137[_0x1ab901(0x4b1)](0xc9)[_0x1ab901(0x30c)](_0x35eb6c);})['put'](this[_0x2d0f24(0x5f2)](_0x2d0f24(0x216)),..._0x1b375e,async(_0x4b0c3c,_0xf3d77e)=>{const _0x2b1459=_0x2d0f24;let _0x549206=await this[_0x2b1459(0x25e)]({'request':_0x4b0c3c,'schema':li,'ClassRef':ht,'execute':(_0xb1a045,_0x130ab5)=>G['groupDesc'](_0xb1a045,_0x130ab5)});_0xf3d77e[_0x2b1459(0x4b1)](0xc9)['json'](_0x549206);})[_0x2d0f24(0x6c4)](this[_0x2d0f24(0x5f2)](_0x2d0f24(0x27c)),..._0x1b375e,async(_0x3519ce,_0x46b467)=>{const _0x25318a=_0x2d0f24;let _0x392692=await this['groupValidate']({'request':_0x3519ce,'schema':ui,'ClassRef':gt,'execute':(_0x3e5ca3,_0x5f63ba)=>G['groupName'](_0x3e5ca3,_0x5f63ba)});_0x46b467[_0x25318a(0x4b1)](0xc9)[_0x25318a(0x30c)](_0x392692);})[_0x2d0f24(0x6c4)](this[_0x2d0f24(0x5f2)](_0x2d0f24(0x6cd)),..._0x1b375e,async(_0x149c86,_0x395f80)=>{const _0x50bdd9=_0x2d0f24;let _0x562c57=await this[_0x50bdd9(0x25e)]({'request':_0x149c86,'schema':pi,'ClassRef':ft,'execute':(_0x137f96,_0x40bcc3)=>G[_0x50bdd9(0x6cd)](_0x137f96,_0x40bcc3)});_0x395f80[_0x50bdd9(0x4b1)](0xc9)[_0x50bdd9(0x30c)](_0x562c57);})[_0x2d0f24(0x6c4)](this[_0x2d0f24(0x5f2)]('groupSetting'),..._0x1b375e,async(_0x5c7958,_0x43d1a9)=>{const _0x1de319=_0x2d0f24;let _0x5c021f=await this[_0x1de319(0x25e)]({'request':_0x5c7958,'schema':di,'ClassRef':mt,'execute':(_0x14143e,_0x3a7b8e)=>G[_0x1de319(0x180)](_0x14143e,_0x3a7b8e)});_0x43d1a9[_0x1de319(0x4b1)](0xc9)[_0x1de319(0x30c)](_0x5c021f);})[_0x2d0f24(0x6c4)](this[_0x2d0f24(0x5f2)]('toggleEphemeral'),..._0x1b375e,async(_0x5b4c22,_0x165ca8)=>{const _0x3de73d=_0x2d0f24;let _0x3695c1=await this[_0x3de73d(0x25e)]({'request':_0x5b4c22,'schema':ni,'ClassRef':yt,'execute':(_0x512a86,_0x29af65)=>G[_0x3de73d(0x7f0)](_0x512a86,_0x29af65)});_0x165ca8['status'](0xc9)[_0x3de73d(0x30c)](_0x3695c1);})[_0x2d0f24(0x2df)](this[_0x2d0f24(0x5f2)](_0x2d0f24(0x31e)),..._0x1b375e,async(_0x5ec769,_0x169c85)=>{const _0x37180f=_0x2d0f24;let _0x2f1e79=await this[_0x37180f(0x25e)]({'request':_0x5ec769,'schema':xe,'ClassRef':ie,'execute':(_0x5f1cc6,_0x1bbe1d)=>G['findGroupInfo'](_0x5f1cc6,_0x1bbe1d)});_0x169c85[_0x37180f(0x4b1)](0xc8)['json'](_0x2f1e79);})[_0x2d0f24(0x2df)](this[_0x2d0f24(0x5f2)](_0x2d0f24(0x82c)),..._0x1b375e,async(_0x182561,_0x21cdbc)=>{const _0x1b6906=_0x2d0f24;let _0x42f589=await this[_0x1b6906(0x1c8)]({'request':_0x182561,'schema':N,'ClassRef':C,'execute':_0x3e2225=>G['findGroups'](_0x3e2225)});_0x21cdbc[_0x1b6906(0x4b1)](0xc8)['json'](_0x42f589);})['get'](this[_0x2d0f24(0x5f2)](_0x2d0f24(0x1cf)),..._0x1b375e,async(_0x4fe768,_0x265f1e)=>{const _0x114e04=_0x2d0f24;let _0x365217=await this[_0x114e04(0x25e)]({'request':_0x4fe768,'schema':xe,'ClassRef':ie,'execute':(_0x49b2de,_0x4c3e08)=>G[_0x114e04(0x3a2)](_0x49b2de,_0x4c3e08)});_0x265f1e[_0x114e04(0x4b1)](0xc8)[_0x114e04(0x30c)](_0x365217);})[_0x2d0f24(0x2df)](this['routerPath']('inviteCode'),..._0x1b375e,async(_0x595bb4,_0x536956)=>{const _0x125853=_0x2d0f24;let _0xd10c96=await this[_0x125853(0x25e)]({'request':_0x595bb4,'schema':xe,'ClassRef':ie,'execute':(_0x52e82a,_0x342599)=>G[_0x125853(0x244)](_0x52e82a,_0x342599)});_0x536956[_0x125853(0x4b1)](0xc8)[_0x125853(0x30c)](_0xd10c96);})[_0x2d0f24(0x876)](this['routerPath']('inviteCodeDetails'),..._0x1b375e,async(_0x543279,_0x11cdac)=>{const _0xfd8f8a=_0x2d0f24;let _0x24917=await this[_0xfd8f8a(0x423)]({'request':_0x543279,'schema':Ns,'ClassRef':De,'execute':(_0x1d1eba,_0x2691f3)=>G['groupGetInviteInfo'](_0x1d1eba,_0x2691f3)});_0x11cdac[_0xfd8f8a(0x4b1)](0xc9)[_0xfd8f8a(0x30c)](_0x24917);})[_0x2d0f24(0x6c4)](this[_0x2d0f24(0x5f2)]('joinGroup'),..._0x1b375e,async(_0x2ad761,_0x42965d)=>{const _0x283671=_0x2d0f24;let _0x517cfa=await this[_0x283671(0x423)]({'request':_0x2ad761,'schema':Ns,'ClassRef':De,'execute':(_0x22190e,_0x571fae)=>G['joinGroup'](_0x22190e,_0x571fae)});_0x42965d[_0x283671(0x4b1)](0xc9)['json'](_0x517cfa);})[_0x2d0f24(0x6c4)](this[_0x2d0f24(0x5f2)](_0x2d0f24(0x30b)),..._0x1b375e,async(_0x3172d1,_0x43c35d)=>{const _0x1e788d=_0x2d0f24;let _0x3cc0b3=await this[_0x1e788d(0x25e)]({'request':_0x3172d1,'schema':xe,'ClassRef':ie,'execute':(_0x248ee7,_0x453238)=>G[_0x1e788d(0x30b)](_0x248ee7,_0x453238)});_0x43c35d[_0x1e788d(0x4b1)](0xc9)[_0x1e788d(0x30c)](_0x3cc0b3);})[_0x2d0f24(0x6c4)](this['routerPath'](_0x2d0f24(0x32f)),..._0x1b375e,async(_0x37c88e,_0x20812d)=>{const _0x8a4b=_0x2d0f24;let _0x20810f=await this['groupValidate']({'request':_0x37c88e,'schema':ri,'ClassRef':wt,'execute':(_0x4fd67f,_0x150061)=>G[_0x8a4b(0x5d5)](_0x4fd67f,_0x150061)});_0x20812d[_0x8a4b(0x4b1)](0xc9)['json'](_0x20810f);})['delete'](this[_0x2d0f24(0x5f2)](_0x2d0f24(0x5be)),..._0x1b375e,async(_0x3a8a57,_0x20588f)=>{const _0x259092=_0x2d0f24;let _0x59fbed=await this['groupValidate']({'request':_0x3a8a57,'schema':{},'ClassRef':ie,'execute':(_0x18bc2f,_0x3f444b)=>G['leaveGroup'](_0x18bc2f,_0x3f444b)});_0x20588f[_0x259092(0x4b1)](0xc8)['json'](_0x59fbed);});}},fi=require(a0_0x4cdcbe(0x63c)),St=class extends W{constructor(_0x2a749c,..._0x796067){const _0x169de7=a0_0x4cdcbe;super(),this[_0x169de7(0x5fa)]=_0x2a749c,this[_0x169de7(0x8ad)]=(0x0,fi[_0x169de7(0x6a2)])();let _0x2ea0c0=_0x2a749c[_0x169de7(0x2df)](_0x169de7(0x475));this[_0x169de7(0x8ad)][_0x169de7(0x876)](_0x169de7(0x75a),..._0x796067,async(_0x4886a6,_0x61cb73)=>{const _0x207421=_0x169de7;let {instanceName:_0x439b64,apikey:_0x29fcf2,number:_0x24bce8}=_0x4886a6[_0x207421(0x52a)],_0xbd318a=await he[_0x207421(0x1b1)]({'instanceName':_0x439b64,'apikey':_0x29fcf2,'number':_0x24bce8});return _0x61cb73[_0x207421(0x4b1)](0xc9)[_0x207421(0x30c)](_0xbd318a);})[_0x169de7(0x6c4)](this[_0x169de7(0x5f2)]('restart'),..._0x796067,async(_0x855616,_0x5d142a)=>{const _0x21d181=_0x169de7;let _0xe673c5=await this[_0x21d181(0x1c8)]({'request':_0x855616,'schema':N,'ClassRef':C,'execute':_0x33da98=>he[_0x21d181(0x287)](_0x33da98)});return _0x5d142a['status'](0xc8)[_0x21d181(0x30c)](_0xe673c5);})[_0x169de7(0x2df)](this[_0x169de7(0x5f2)](_0x169de7(0x428)),..._0x796067,async(_0x57109f,_0x1f3ead)=>{const _0x270a8f=_0x169de7;let _0x773eee=await this[_0x270a8f(0x1c8)]({'request':_0x57109f,'schema':N,'ClassRef':C,'execute':_0x3d8597=>he[_0x270a8f(0x264)](_0x3d8597)});return _0x1f3ead[_0x270a8f(0x4b1)](0xc8)['json'](_0x773eee);})[_0x169de7(0x2df)](this['routerPath']('connectionState'),..._0x796067,async(_0x284970,_0x4b619d)=>{const _0x46cb81=_0x169de7;let _0x4825b1=await this[_0x46cb81(0x1c8)]({'request':_0x284970,'schema':N,'ClassRef':C,'execute':_0x57231b=>he['connectionState'](_0x57231b)});return _0x4b619d[_0x46cb81(0x4b1)](0xc8)[_0x46cb81(0x30c)](_0x4825b1);})[_0x169de7(0x2df)](this[_0x169de7(0x5f2)](_0x169de7(0x4ac),!0x1),..._0x796067,async(_0x4aba1b,_0x4ec8cc)=>{const _0x1684f1=_0x169de7;let _0x129628=await this[_0x1684f1(0x1c8)]({'request':_0x4aba1b,'schema':null,'ClassRef':C,'execute':_0x59786c=>he[_0x1684f1(0x4ac)](_0x59786c)});return _0x4ec8cc[_0x1684f1(0x4b1)](0xc8)[_0x1684f1(0x30c)](_0x129628);})[_0x169de7(0x5f7)](this[_0x169de7(0x5f2)]('logout'),..._0x796067,async(_0x5623d8,_0x5b6bb7)=>{const _0x245e56=_0x169de7;let _0x227c4c=await this['dataValidate']({'request':_0x5623d8,'schema':N,'ClassRef':C,'execute':_0x2819eb=>he['logout'](_0x2819eb)});return _0x5b6bb7['status'](0xc8)[_0x245e56(0x30c)](_0x227c4c);})[_0x169de7(0x5f7)](this[_0x169de7(0x5f2)](_0x169de7(0x5f7)),..._0x796067,async(_0x3afc39,_0x1d970c)=>{const _0x252c87=_0x169de7;let _0x248b12=await this['dataValidate']({'request':_0x3afc39,'schema':N,'ClassRef':C,'execute':_0x342bbb=>he[_0x252c87(0x485)](_0x342bbb)});return _0x1d970c[_0x252c87(0x4b1)](0xc8)[_0x252c87(0x30c)](_0x248b12);});}},wi=require(a0_0x4cdcbe(0x63c)),Rs=class{},Q=class extends Rs{},Mt=class extends Q{},Ct=class extends Q{},Et=class extends Q{},vt=class extends Q{},Pe=class extends Q{},Nt=class extends Q{},$t=class extends Q{},Rt=class extends Q{},It=class extends Q{},At=class extends Q{},Tt=class{},_t=class extends W{constructor(..._0x9bfac7){const _0x4b4d9f=a0_0x4cdcbe;super(),this[_0x4b4d9f(0x8ad)]=(0x0,wi[_0x4b4d9f(0x6a2)])(),this[_0x4b4d9f(0x8ad)][_0x4b4d9f(0x876)](this[_0x4b4d9f(0x5f2)](_0x4b4d9f(0x1f0)),..._0x9bfac7,async(_0x5209db,_0x41638f)=>{const _0x32d919=_0x4b4d9f;let _0x359ee3=await this[_0x32d919(0x1c8)]({'request':_0x5209db,'schema':Pa,'ClassRef':Mt,'execute':(_0x50ff3d,_0x130683)=>H[_0x32d919(0x1f0)](_0x50ff3d,_0x130683)});return _0x41638f[_0x32d919(0x4b1)](0xc9)[_0x32d919(0x30c)](_0x359ee3);})[_0x4b4d9f(0x876)](this[_0x4b4d9f(0x5f2)](_0x4b4d9f(0x35b)),..._0x9bfac7,async(_0x5a2ffa,_0x24d80f)=>{const _0x2f170f=_0x4b4d9f;let _0x49befc=await this[_0x2f170f(0x1c8)]({'request':_0x5a2ffa,'schema':Ua,'ClassRef':Pe,'execute':(_0x5b8b7b,_0x2bf4f6)=>H['sendMedia'](_0x5b8b7b,_0x2bf4f6)});return _0x24d80f[_0x2f170f(0x4b1)](0xc9)[_0x2f170f(0x30c)](_0x49befc);})[_0x4b4d9f(0x876)](this[_0x4b4d9f(0x5f2)]('sendMenu'),..._0x9bfac7,async(_0x29ade5,_0x169694)=>{const _0x4a2d45=_0x4b4d9f;let _0x29ec98=await this[_0x4a2d45(0x1c8)]({'request':_0x29ade5,'schema':qa,'ClassRef':vt,'execute':(_0x3ebaf5,_0x4efaf7)=>H[_0x4a2d45(0x30e)](_0x3ebaf5,_0x4efaf7)});return _0x169694[_0x4a2d45(0x4b1)](0xc9)[_0x4a2d45(0x30c)](_0x29ec98);})[_0x4b4d9f(0x876)](this[_0x4b4d9f(0x5f2)](_0x4b4d9f(0x8c7)),..._0x9bfac7,async(_0x576c45,_0xce3b53)=>{const _0x3ef483=_0x4b4d9f;let _0x20a026=await this[_0x3ef483(0x1c8)]({'request':_0x576c45,'schema':ja,'ClassRef':Pe,'execute':(_0x4bf70a,_0x2226b7)=>H[_0x3ef483(0x8c7)](_0x4bf70a,_0x2226b7)});return _0xce3b53[_0x3ef483(0x4b1)](0xc9)[_0x3ef483(0x30c)](_0x20a026);})[_0x4b4d9f(0x876)](this[_0x4b4d9f(0x5f2)](_0x4b4d9f(0x45a)),..._0x9bfac7,async(_0x2215b9,_0xb326f6)=>{const _0x3a7137=_0x4b4d9f;let _0x236f65=await this[_0x3a7137(0x1c8)]({'request':_0x2215b9,'schema':Va,'ClassRef':$t,'execute':(_0x434876,_0x4ea795)=>H[_0x3a7137(0x45a)](_0x434876,_0x4ea795)});return _0xb326f6[_0x3a7137(0x4b1)](0xc9)[_0x3a7137(0x30c)](_0x236f65);})['post'](this[_0x4b4d9f(0x5f2)](_0x4b4d9f(0x4aa)),..._0x9bfac7,async(_0x46c032,_0x88aa9)=>{const _0x2b7e1e=_0x4b4d9f;let _0x685715=await this['dataValidate']({'request':_0x46c032,'schema':Ga,'ClassRef':Rt,'execute':(_0xd8ea77,_0x40e554)=>H[_0x2b7e1e(0x4aa)](_0xd8ea77,_0x40e554)});return _0x88aa9[_0x2b7e1e(0x4b1)](0xc9)[_0x2b7e1e(0x30c)](_0x685715);})[_0x4b4d9f(0x876)](this[_0x4b4d9f(0x5f2)](_0x4b4d9f(0x652)),..._0x9bfac7,async(_0x598ee6,_0x1449ae)=>{const _0x17ec00=_0x4b4d9f;let _0x34578f=await this[_0x17ec00(0x1c8)]({'request':_0x598ee6,'schema':Ba,'ClassRef':It,'execute':(_0x1241f3,_0x2c4298)=>H['sendList'](_0x1241f3,_0x2c4298)});return _0x1449ae[_0x17ec00(0x4b1)](0xc9)[_0x17ec00(0x30c)](_0x34578f);})[_0x4b4d9f(0x876)](this[_0x4b4d9f(0x5f2)](_0x4b4d9f(0x3c6)),..._0x9bfac7,async(_0x31efff,_0x59290c)=>{const _0x1b1387=_0x4b4d9f;let _0x2860be=await this[_0x1b1387(0x1c8)]({'request':_0x31efff,'schema':Wa,'ClassRef':At,'execute':(_0x5b1105,_0x416e09)=>H['sendContact'](_0x5b1105,_0x416e09)});return _0x59290c[_0x1b1387(0x4b1)](0xc9)[_0x1b1387(0x30c)](_0x2860be);})[_0x4b4d9f(0x876)](this['routerPath'](_0x4b4d9f(0x3d5)),..._0x9bfac7,async(_0x3b0917,_0xb6be94)=>{const _0xe04afc=_0x4b4d9f;let _0x1f5e0d=await this[_0xe04afc(0x1c8)]({'request':_0x3b0917,'schema':za,'ClassRef':Tt,'execute':(_0x4fe429,_0x210dcb)=>H['sendReaction'](_0x4fe429,_0x210dcb)});return _0xb6be94[_0xe04afc(0x4b1)](0xc9)['json'](_0x1f5e0d);})[_0x4b4d9f(0x876)](this['routerPath'](_0x4b4d9f(0x68a)),..._0x9bfac7,async(_0x1b3cab,_0x266653)=>{const _0x2ad760=_0x4b4d9f;let _0x3beded=await this[_0x2ad760(0x1c8)]({'request':_0x1b3cab,'schema':Ja,'ClassRef':Et,'execute':(_0x4430ec,_0x37b834)=>H[_0x2ad760(0x68a)](_0x4430ec,_0x37b834)});return _0x266653['status'](0xc9)[_0x2ad760(0x30c)](_0x3beded);})[_0x4b4d9f(0x876)](this[_0x4b4d9f(0x5f2)](_0x4b4d9f(0x87b)),..._0x9bfac7,async(_0x519169,_0x37a833)=>{const _0x199bca=_0x4b4d9f;let _0x4c89aa=await this[_0x199bca(0x1c8)]({'request':_0x519169,'schema':Fa,'ClassRef':Ct,'execute':(_0x2783af,_0x14bbf5)=>H[_0x199bca(0x87b)](_0x2783af,_0x14bbf5)});return _0x37a833[_0x199bca(0x4b1)](0xc9)[_0x199bca(0x30c)](_0x4c89aa);})['post'](this[_0x4b4d9f(0x5f2)](_0x4b4d9f(0x208)),..._0x9bfac7,async(_0x59d9bf,_0x577579)=>{const _0x4e8121=_0x4b4d9f;let _0x3c73aa=await this[_0x4e8121(0x1c8)]({'request':_0x59d9bf,'schema':La,'ClassRef':Nt,'execute':(_0x371c6e,_0x12b76c)=>H[_0x4e8121(0x208)](_0x371c6e,_0x12b76c)});return _0x577579[_0x4e8121(0x4b1)](0xc9)[_0x4e8121(0x30c)](_0x3c73aa);});}},yi=require(a0_0x4cdcbe(0x63c)),Ot=class{},xt=class extends W{constructor(..._0x1da6db){const _0x1d3ff6=a0_0x4cdcbe;super(),this[_0x1d3ff6(0x8ad)]=(0x0,yi[_0x1d3ff6(0x6a2)])(),this['router'][_0x1d3ff6(0x876)](this[_0x1d3ff6(0x5f2)](_0x1d3ff6(0x389)),..._0x1da6db,async(_0x37ac96,_0x296fad)=>{const _0x5a7638=_0x1d3ff6;let _0x595057=await this[_0x5a7638(0x1c8)]({'request':_0x37ac96,'schema':hi,'ClassRef':Ot,'execute':(_0x201bc9,_0x4538f3)=>Is[_0x5a7638(0x58a)](_0x201bc9,_0x4538f3)});_0x296fad[_0x5a7638(0x4b1)](0xc9)['json'](_0x595057);})[_0x1d3ff6(0x2df)](this[_0x1d3ff6(0x5f2)](_0x1d3ff6(0x521)),..._0x1da6db,async(_0x1a75f1,_0x4b2126)=>{const _0xeb50e=_0x1d3ff6;let _0x5babe=await this['dataValidate']({'request':_0x1a75f1,'schema':N,'ClassRef':C,'execute':_0x549ef3=>Is[_0xeb50e(0x35d)](_0x549ef3)});_0x4b2126['status'](0xc8)[_0xeb50e(0x30c)](_0x5babe);});}},bi=require('express'),y=new $(a0_0x4cdcbe(0x593)),Dt=class extends W{constructor(..._0x394566){const _0x28137b=a0_0x4cdcbe;super(),this[_0x28137b(0x8ad)]=(0x0,bi['Router'])(),this['router'][_0x28137b(0x876)](this[_0x28137b(0x5f2)]('scheduleMessage'),..._0x394566,async(_0x2330bf,_0x3e86ce)=>{const _0x5aa089=_0x28137b;let _0x3fa607=_0x2330bf[_0x5aa089(0x52a)];y[_0x5aa089(0x29b)]('request\x20received\x20in\x20scheduleMessage'),y[_0x5aa089(0x29b)](_0x5aa089(0x7ee)),y[_0x5aa089(0x29b)](_0x2330bf['body']);let _0x4c6063=await this[_0x5aa089(0x1c8)]({'request':_0x2330bf,'schema':N,'ClassRef':C,'execute':_0x19936f=>T[_0x5aa089(0x2b5)](_0x19936f,_0x3fa607)});_0x3e86ce[_0x5aa089(0x4b1)](0xc8)[_0x5aa089(0x30c)](_0x4c6063);})[_0x28137b(0x2df)](this[_0x28137b(0x5f2)](_0x28137b(0x566)),..._0x394566,async(_0x2b7c43,_0x16fc12)=>{const _0x49b6db=_0x28137b;let _0x2db35e=await this[_0x49b6db(0x1c8)]({'request':_0x2b7c43,'schema':N,'ClassRef':C,'execute':_0x3f6468=>T[_0x49b6db(0x8da)](_0x3f6468)});_0x16fc12[_0x49b6db(0x4b1)](0xc8)[_0x49b6db(0x30c)](_0x2db35e);})[_0x28137b(0x5f7)](this[_0x28137b(0x5f2)](_0x28137b(0x252)),..._0x394566,async(_0x518165,_0x7bcd7e)=>{const _0x5c5c4b=_0x28137b;y[_0x5c5c4b(0x29b)](_0x5c5c4b(0x6ad));let _0x29c993=await this[_0x5c5c4b(0x1c8)]({'request':_0x518165,'schema':N,'ClassRef':C,'execute':_0x5c991b=>T[_0x5c5c4b(0x252)](_0x5c991b)});_0x7bcd7e['status'](0xc8)[_0x5c5c4b(0x30c)](_0x29c993);})[_0x28137b(0x876)](this[_0x28137b(0x5f2)](_0x28137b(0x5d3)),..._0x394566,async(_0x220e9e,_0x1edb07)=>{const _0x5d0c45=_0x28137b;let _0x249f9f=_0x220e9e[_0x5d0c45(0x52a)];y[_0x5d0c45(0x29b)](_0x5d0c45(0x76d)),y[_0x5d0c45(0x29b)](_0x5d0c45(0x7ee)),y[_0x5d0c45(0x29b)](_0x220e9e[_0x5d0c45(0x52a)]);let _0x239440=await this[_0x5d0c45(0x1c8)]({'request':_0x220e9e,'schema':N,'ClassRef':C,'execute':_0x3a21e5=>T['startFlow'](_0x3a21e5,_0x249f9f)});_0x1edb07[_0x5d0c45(0x4b1)](0xc8)[_0x5d0c45(0x30c)](_0x239440);})['get'](this[_0x28137b(0x5f2)](_0x28137b(0x43e)),..._0x394566,async(_0x2e7e18,_0x5bcb78)=>{const _0x15a953=_0x28137b;y[_0x15a953(0x29b)]('request\x20received\x20in\x20getAutomateSystem');let _0x36d323=await this[_0x15a953(0x1c8)]({'request':_0x2e7e18,'schema':N,'ClassRef':C,'execute':_0x438cd0=>T['getAutomateSystem'](_0x438cd0)});_0x5bcb78[_0x15a953(0x4b1)](0xc8)[_0x15a953(0x30c)](_0x36d323);})[_0x28137b(0x2df)](this[_0x28137b(0x5f2)](_0x28137b(0x8c4)),..._0x394566,async(_0x290710,_0x1fb513)=>{const _0x32a597=_0x28137b;y[_0x32a597(0x29b)](_0x32a597(0x4fa));let _0x299a2b=await this[_0x32a597(0x1c8)]({'request':_0x290710,'schema':N,'ClassRef':C,'execute':_0x1dd691=>T[_0x32a597(0x43e)](_0x1dd691)});_0x1fb513['status'](0xc8)[_0x32a597(0x30c)](_0x299a2b);})[_0x28137b(0x876)](this[_0x28137b(0x5f2)](_0x28137b(0x3bf)),..._0x394566,async(_0x44d3c6,_0x5435da)=>{const _0x16a633=_0x28137b;let _0x3233f9=_0x44d3c6[_0x16a633(0x52a)];y[_0x16a633(0x29b)]('request\x20received\x20in\x20updateAgent'),y[_0x16a633(0x29b)](_0x16a633(0x7ee)),y[_0x16a633(0x29b)](_0x44d3c6[_0x16a633(0x52a)]);let _0x1daece=await this[_0x16a633(0x1c8)]({'request':_0x44d3c6,'schema':N,'ClassRef':C,'execute':_0x4ca1eb=>T[_0x16a633(0x3bf)](_0x4ca1eb,_0x3233f9)});_0x5435da[_0x16a633(0x4b1)](0xc8)['json'](_0x1daece);})[_0x28137b(0x876)](this[_0x28137b(0x5f2)](_0x28137b(0x8b0)),..._0x394566,async(_0x5d051d,_0x3e3c80)=>{const _0x4d469f=_0x28137b;let _0x4974ee=_0x5d051d[_0x4d469f(0x52a)];y[_0x4d469f(0x29b)](_0x4d469f(0x4db)),y[_0x4d469f(0x29b)](_0x4d469f(0x7ee)),y['verbose'](_0x5d051d[_0x4d469f(0x52a)]);let _0x41a32a=await this[_0x4d469f(0x1c8)]({'request':_0x5d051d,'schema':N,'ClassRef':C,'execute':_0x58b33f=>T[_0x4d469f(0x8b0)](_0x58b33f,_0x4974ee)});_0x3e3c80[_0x4d469f(0x4b1)](0xc8)[_0x4d469f(0x30c)](_0x41a32a);})['post'](this[_0x28137b(0x5f2)]('updateAutoCompleteMessages'),..._0x394566,async(_0x37f78e,_0x44864f)=>{const _0x37af49=_0x28137b;let _0x193879=_0x37f78e[_0x37af49(0x52a)];y[_0x37af49(0x29b)]('request\x20received\x20in\x20updateAutoCompleteMessages'),y['verbose'](_0x37af49(0x7ee)),y[_0x37af49(0x29b)](_0x37f78e[_0x37af49(0x52a)]);let _0x50e6a9=await this[_0x37af49(0x1c8)]({'request':_0x37f78e,'schema':N,'ClassRef':C,'execute':_0x1d3c1b=>T[_0x37af49(0x36a)](_0x1d3c1b,_0x193879)});_0x44864f['status'](0xc8)['json'](_0x50e6a9);})[_0x28137b(0x876)](this['routerPath'](_0x28137b(0x1cb)),..._0x394566,async(_0x1fb02e,_0x46f33a)=>{const _0x5425b9=_0x28137b;let _0x2ea23a=_0x1fb02e[_0x5425b9(0x52a)];y[_0x5425b9(0x29b)](_0x5425b9(0x414)),y[_0x5425b9(0x29b)](_0x5425b9(0x7ee)),y[_0x5425b9(0x29b)](_0x1fb02e[_0x5425b9(0x52a)]);let _0x45f9b2=await this[_0x5425b9(0x1c8)]({'request':_0x1fb02e,'schema':N,'ClassRef':C,'execute':_0x2442f4=>T['updateFlowConfig'](_0x2442f4,_0x2ea23a)});_0x46f33a[_0x5425b9(0x4b1)](0xc8)['json'](_0x45f9b2);})[_0x28137b(0x876)](this['routerPath']('getConversation'),..._0x394566,async(_0x2d579b,_0x179236)=>{const _0x563f61=_0x28137b;let _0x241be1=_0x2d579b[_0x563f61(0x52a)];y['verbose']('request\x20received\x20in\x20getConversation'),y['verbose'](_0x563f61(0x7ee)),y[_0x563f61(0x29b)](_0x2d579b[_0x563f61(0x52a)]);let _0x26af0e=await this[_0x563f61(0x1c8)]({'request':_0x2d579b,'schema':N,'ClassRef':C,'execute':_0x409ceb=>T[_0x563f61(0x735)](_0x409ceb,_0x241be1)});_0x179236['status'](0xc8)['json'](_0x26af0e);})[_0x28137b(0x876)](this[_0x28137b(0x5f2)]('fetchConversation'),..._0x394566,async(_0x2de9cc,_0x5a0275)=>{const _0x39590d=_0x28137b;let _0x27bd59=_0x2de9cc[_0x39590d(0x52a)];y['verbose'](_0x39590d(0x36c)),y[_0x39590d(0x29b)](_0x39590d(0x7ee)),y['verbose'](_0x2de9cc[_0x39590d(0x52a)]);let _0x532113=await this[_0x39590d(0x1c8)]({'request':_0x2de9cc,'schema':N,'ClassRef':C,'execute':_0x20c87a=>T[_0x39590d(0x4c7)](_0x20c87a,_0x27bd59)});_0x5a0275[_0x39590d(0x4b1)](0xc8)[_0x39590d(0x30c)](_0x532113);})[_0x28137b(0x876)](this[_0x28137b(0x5f2)](_0x28137b(0x79a)),..._0x394566,async(_0x1db546,_0x2ebf12)=>{const _0x5f0242=_0x28137b;let _0x44aacc=_0x1db546['body'];y[_0x5f0242(0x29b)](_0x5f0242(0x4b3)),y[_0x5f0242(0x29b)](_0x5f0242(0x7ee)),y[_0x5f0242(0x29b)](_0x1db546[_0x5f0242(0x52a)]);let _0x2ac2bb=await this['dataValidate']({'request':_0x1db546,'schema':N,'ClassRef':C,'execute':_0x4136ae=>T[_0x5f0242(0x79a)](_0x4136ae,_0x44aacc)});_0x2ebf12[_0x5f0242(0x4b1)](0xc8)[_0x5f0242(0x30c)](_0x2ac2bb);})[_0x28137b(0x5f7)](this['routerPath'](_0x28137b(0x327)),..._0x394566,async(_0x48abf5,_0x29d5e8)=>{const _0x3c1721=_0x28137b;let _0x28801f=_0x48abf5[_0x3c1721(0x52a)];y[_0x3c1721(0x29b)]('request\x20received\x20in\x20deleteConversation'),y[_0x3c1721(0x29b)](_0x3c1721(0x7ee)),y['verbose'](_0x48abf5[_0x3c1721(0x52a)]);let _0x5de55f=await this[_0x3c1721(0x1c8)]({'request':_0x48abf5,'schema':N,'ClassRef':C,'execute':_0x1970eb=>T[_0x3c1721(0x327)](_0x1970eb,_0x28801f)});_0x29d5e8[_0x3c1721(0x4b1)](0xc8)[_0x3c1721(0x30c)](_0x5de55f);})[_0x28137b(0x876)](this[_0x28137b(0x5f2)](_0x28137b(0x29d)),..._0x394566,async(_0x259da8,_0x8e05b5)=>{const _0x12690f=_0x28137b;let _0x400cef=_0x259da8[_0x12690f(0x52a)],_0x549c1e=_0x259da8[_0x12690f(0x4ef)][_0x12690f(0x347)];y[_0x12690f(0x29b)](_0x12690f(0x377)),y['verbose'](_0x12690f(0x7ee)),y['verbose'](_0x259da8['body']);let _0x3ef578=await this[_0x12690f(0x1c8)]({'request':_0x259da8,'schema':N,'ClassRef':C,'execute':_0x4c87d2=>T[_0x12690f(0x2c7)](_0x4c87d2,_0x400cef,_0x549c1e)});_0x8e05b5[_0x12690f(0x4b1)](0xc8)[_0x12690f(0x30c)](_0x3ef578);})['post'](this[_0x28137b(0x5f2)]('editflow'),..._0x394566,async(_0x388fbd,_0x44e80f)=>{const _0x200006=_0x28137b;let _0x1769ef=_0x388fbd[_0x200006(0x52a)],_0x5805bd=_0x388fbd[_0x200006(0x4ef)]['apikey'];y['verbose'](_0x200006(0x6a8)),y['verbose'](_0x200006(0x7ee)),y['verbose'](_0x388fbd[_0x200006(0x52a)]),delete _0x1769ef['blocks'],delete _0x1769ef[_0x200006(0x6bb)],delete _0x1769ef[_0x200006(0x613)],delete _0x1769ef[_0x200006(0x513)];let _0x763ded=await this[_0x200006(0x1c8)]({'request':_0x388fbd,'schema':N,'ClassRef':C,'execute':_0x5e3d26=>T[_0x200006(0x253)](_0x5e3d26,_0x1769ef,_0x5805bd)});_0x44e80f[_0x200006(0x4b1)](0xc8)[_0x200006(0x30c)](_0x763ded);})[_0x28137b(0x876)](this['routerPath']('editflowblock'),..._0x394566,async(_0x52ec85,_0x6104bd)=>{const _0x54f8e2=_0x28137b;let _0x1a0fa0=_0x52ec85[_0x54f8e2(0x52a)];y['verbose'](_0x54f8e2(0x6a8)),y[_0x54f8e2(0x29b)](_0x54f8e2(0x7ee)),y[_0x54f8e2(0x29b)](_0x52ec85[_0x54f8e2(0x52a)]);let _0xccf8ba=await this[_0x54f8e2(0x1c8)]({'request':_0x52ec85,'schema':N,'ClassRef':C,'execute':_0x4bac02=>T[_0x54f8e2(0x6bf)](_0x4bac02,_0x1a0fa0)});_0x6104bd[_0x54f8e2(0x4b1)](0xc8)[_0x54f8e2(0x30c)](_0xccf8ba);})['post'](this['routerPath'](_0x28137b(0x760)),..._0x394566,async(_0x446d86,_0x22880f)=>{const _0x5adda5=_0x28137b;let _0x3fc376=_0x446d86['body'];y[_0x5adda5(0x29b)](_0x5adda5(0x6a8)),y[_0x5adda5(0x29b)](_0x5adda5(0x7ee)),y['verbose'](_0x446d86['body']);let _0x2d1141=await this[_0x5adda5(0x1c8)]({'request':_0x446d86,'schema':N,'ClassRef':C,'execute':_0x2d8ae3=>T[_0x5adda5(0x2e2)](_0x2d8ae3,_0x3fc376)});_0x22880f[_0x5adda5(0x4b1)](0xc8)[_0x5adda5(0x30c)](_0x2d1141);})[_0x28137b(0x876)](this[_0x28137b(0x5f2)](_0x28137b(0x425)),..._0x394566,async(_0xebe986,_0x3ee47a)=>{const _0x111c03=_0x28137b;let _0x59afee=_0xebe986[_0x111c03(0x52a)];y['verbose'](_0x111c03(0x6a8)),y['verbose'](_0x111c03(0x7ee)),y[_0x111c03(0x29b)](_0xebe986[_0x111c03(0x52a)]);let _0x3a3821=await this['dataValidate']({'request':_0xebe986,'schema':N,'ClassRef':C,'execute':_0x3c9d38=>T[_0x111c03(0x34a)](_0x3c9d38,_0x59afee)});_0x3ee47a[_0x111c03(0x4b1)](0xc8)[_0x111c03(0x30c)](_0x3a3821);})[_0x28137b(0x876)](this[_0x28137b(0x5f2)](_0x28137b(0x296)),..._0x394566,async(_0x224284,_0x1b4880)=>{const _0x28b1bb=_0x28137b;let _0x596440=_0x224284['body'];y[_0x28b1bb(0x29b)](_0x28b1bb(0x41c)),y[_0x28b1bb(0x29b)]('request\x20body:\x20'),y[_0x28b1bb(0x29b)](_0x224284[_0x28b1bb(0x52a)]);let _0x2b2231=await this['dataValidate']({'request':_0x224284,'schema':N,'ClassRef':C,'execute':_0x5b996c=>T[_0x28b1bb(0x38f)](_0x5b996c,_0x596440)});_0x1b4880[_0x28b1bb(0x4b1)](0xc8)[_0x28b1bb(0x30c)](_0x2b2231);})[_0x28137b(0x876)](this['routerPath'](_0x28137b(0x1e2)),..._0x394566,async(_0x2cf08b,_0x16140c)=>{const _0x3e8dce=_0x28137b;let _0x39048d=_0x2cf08b['body'];y[_0x3e8dce(0x29b)]('request\x20received\x20in\x20editFlowcondition'),y[_0x3e8dce(0x29b)]('request\x20body:\x20'),y[_0x3e8dce(0x29b)](_0x2cf08b[_0x3e8dce(0x52a)]);let _0x30301f=await this['dataValidate']({'request':_0x2cf08b,'schema':N,'ClassRef':C,'execute':_0x397ac6=>T[_0x3e8dce(0x814)](_0x397ac6,_0x39048d)});_0x16140c[_0x3e8dce(0x4b1)](0xc8)['json'](_0x30301f);})['post'](this['routerPath'](_0x28137b(0x45e)),..._0x394566,async(_0x2924d7,_0x350082)=>{const _0x249938=_0x28137b;let _0x3ae918=_0x2924d7[_0x249938(0x52a)];y[_0x249938(0x29b)](_0x249938(0x19f)),y[_0x249938(0x29b)]('request\x20body:\x20'),y['verbose'](_0x2924d7[_0x249938(0x52a)]);let _0x1c5f89=await this[_0x249938(0x1c8)]({'request':_0x2924d7,'schema':N,'ClassRef':C,'execute':_0x804f9c=>T['editFlowVariable'](_0x804f9c,_0x3ae918)});_0x350082[_0x249938(0x4b1)](0xc8)['json'](_0x1c5f89);})[_0x28137b(0x876)](this[_0x28137b(0x5f2)]('getflow'),..._0x394566,async(_0x442b28,_0x21ba66)=>{const _0x1d8ade=_0x28137b;let _0x1ddf2e=_0x442b28[_0x1d8ade(0x52a)];y[_0x1d8ade(0x29b)]('request\x20received\x20in\x20getFlow'),y[_0x1d8ade(0x29b)](_0x1d8ade(0x7ee)),y[_0x1d8ade(0x29b)](_0x442b28['body']);let _0x33744c=await this[_0x1d8ade(0x1c8)]({'request':_0x442b28,'schema':N,'ClassRef':C,'execute':_0x1b8f0d=>T[_0x1d8ade(0x1d0)](_0x1b8f0d,_0x1ddf2e)});_0x21ba66[_0x1d8ade(0x4b1)](0xc8)[_0x1d8ade(0x30c)](_0x33744c);})[_0x28137b(0x5f7)](this[_0x28137b(0x5f2)](_0x28137b(0x37a)),..._0x394566,async(_0x1f1ed6,_0x5895fd)=>{const _0x55356f=_0x28137b;let _0x56207a=_0x1f1ed6['body'];y[_0x55356f(0x29b)](_0x55356f(0x81e)),y[_0x55356f(0x29b)](_0x55356f(0x7ee)),y['verbose'](_0x1f1ed6[_0x55356f(0x52a)]);let _0x2d0e4a=await this[_0x55356f(0x1c8)]({'request':_0x1f1ed6,'schema':N,'ClassRef':C,'execute':_0x46266b=>T[_0x55356f(0x2de)](_0x46266b,_0x56207a)});_0x5895fd['status'](0xc8)[_0x55356f(0x30c)](_0x2d0e4a);})['get'](this[_0x28137b(0x5f2)]('allflows'),..._0x394566,async(_0x1718af,_0x2ed6ac)=>{const _0x3930f1=_0x28137b;y[_0x3930f1(0x29b)](_0x3930f1(0x231));let _0x16834c=await this[_0x3930f1(0x1c8)]({'request':_0x1718af,'schema':N,'ClassRef':C,'execute':_0x314ad8=>T['allFlows'](_0x314ad8)});_0x2ed6ac['status'](0xc8)['json'](_0x16834c);});}},Ei=A(require(a0_0x4cdcbe(0x221))),oe={};function Si(_0x56843f,_0x1218c9,_0x5611a1,_0x2e74e3){oe[_0x56843f]||(oe[_0x56843f]={}),oe[_0x56843f][_0x1218c9]={'id':_0x1218c9,'response':_0x5611a1,'events':_0x2e74e3};}function Mi(_0x57f19f,_0x4bb6de){!oe[_0x57f19f]||!oe[_0x57f19f][_0x4bb6de]||delete oe[_0x57f19f][_0x4bb6de];}function V(_0x3f62ea,_0x574137,_0xf0f135){const _0x5a641e=a0_0x4cdcbe;if(!oe[_0x3f62ea])return;let _0x349d80=_0x5a641e(0x1fa)+JSON[_0x5a641e(0x289)](_0xf0f135)+'\x0a\x0a';Object['values'](oe[_0x3f62ea])['forEach'](_0x5c785f=>{const _0x1d687e=_0x5a641e;_0x5c785f[_0x1d687e(0x4eb)]['includes'](_0x574137)&&_0x5c785f[_0x1d687e(0x5a2)]['write'](_0x349d80);});}function Ci(){const _0x3299a8=a0_0x4cdcbe;let _0x226d63={};for(let _0x4496e7 in oe)_0x226d63[_0x4496e7]=Object[_0x3299a8(0x4b7)](oe[_0x4496e7])[_0x3299a8(0x79d)](_0x149c94=>({'id':_0x149c94['id'],'events':_0x149c94[_0x3299a8(0x4eb)]}));return _0x226d63;}function a0_0x5e25(_0xec1f1d,_0x3ccab2){const _0x503637=a0_0x5036();return a0_0x5e25=function(_0x5e25b0,_0x43b0ce){_0x5e25b0=_0x5e25b0-0x17c;let _0x2f9dbe=_0x503637[_0x5e25b0];return _0x2f9dbe;},a0_0x5e25(_0xec1f1d,_0x3ccab2);}var vi=require(a0_0x4cdcbe(0x333)),Ts=require(a0_0x4cdcbe(0x5ae)),As=class{},To=new Ts['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Ts[(a0_0x4cdcbe(0x363))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':To},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=R?.[a0_0x4cdcbe(0x563)](As[a0_0x4cdcbe(0x5cf)],_o,a0_0x4cdcbe(0x54e)),Oo=Ei['default']['join'](__dirname,a0_0x4cdcbe(0x23d)),ke=(0x0,Pt[a0_0x4cdcbe(0x6a2)])(),xo=b[a0_0x4cdcbe(0x2df)]('AUTHENTICATION')[a0_0x4cdcbe(0x395)],le=[Aa,Ta,xa[xo]];ke[a0_0x4cdcbe(0x23c)](a0_0x4cdcbe(0x5a9),Pt[a0_0x4cdcbe(0x669)]['static'](Oo))[a0_0x4cdcbe(0x2df)](a0_0x4cdcbe(0x7ff),async(_0x5b8c95,_0x130df1)=>{const _0x4ddaa8=a0_0x4cdcbe;console[_0x4ddaa8(0x65b)](_0x4ddaa8(0x8dd));let _0x5dab99=_0x5b8c95['params'][_0x4ddaa8(0x1c1)],_0x1c748a=(_0x5b8c95[_0x4ddaa8(0x596)][_0x4ddaa8(0x4eb)]||'')[_0x4ddaa8(0x43b)](','),_0x17a20c=(0x0,vi['v4'])();console['log'](_0x4ddaa8(0x4a4),_0x5dab99),console[_0x4ddaa8(0x65b)](_0x4ddaa8(0x2d1),_0x1c748a);let _0x555e87=b['get'](_0x4ddaa8(0x475))[_0x4ddaa8(0x797)],_0x2aa950=_0x5b8c95['query']['apikey'];if(console[_0x4ddaa8(0x65b)](_0x4ddaa8(0x7ce),_0x2aa950),_0x555e87[_0x4ddaa8(0x399)]!==_0x2aa950){console[_0x4ddaa8(0x65b)]('env.KEY\x20!==\x20key');try{let _0x609aa2=await we[_0x4ddaa8(0x5f4)][_0x4ddaa8(0x521)](_0x5dab99);if(console[_0x4ddaa8(0x65b)](_0x4ddaa8(0x750),_0x609aa2),!_0x609aa2||_0x609aa2[_0x4ddaa8(0x347)]!==_0x2aa950)return console['log'](_0x4ddaa8(0x2d6)),_0x130df1[_0x4ddaa8(0x4b1)](0x191)[_0x4ddaa8(0x330)]('API\x20Key\x20inválida.');}catch(_0xec9bc6){return console[_0x4ddaa8(0x2c1)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0xec9bc6),_0x130df1[_0x4ddaa8(0x4b1)](0x191)[_0x4ddaa8(0x330)](_0x4ddaa8(0x2fd));}}if(!await _e(_0x5dab99))return _0x130df1['status'](0x194)[_0x4ddaa8(0x330)](_0x4ddaa8(0x1ea));_0x130df1[_0x4ddaa8(0x272)]('Content-Type',_0x4ddaa8(0x729)),_0x130df1['setHeader']('Cache-Control',_0x4ddaa8(0x1b4)),_0x130df1[_0x4ddaa8(0x272)](_0x4ddaa8(0x54b),_0x4ddaa8(0x73b)),_0x130df1[_0x4ddaa8(0x664)]();let _0x2a3bea=_0x4ddaa8(0x1fa)+JSON[_0x4ddaa8(0x289)]({'info':_0x4ddaa8(0x262)})+'\x0a\x0a';_0x130df1[_0x4ddaa8(0x6ed)](_0x2a3bea),Si(_0x5dab99,_0x17a20c,_0x130df1,_0x1c748a),_0x5b8c95['on'](_0x4ddaa8(0x66b),()=>{const _0x121db4=_0x4ddaa8;console[_0x121db4(0x65b)](_0x121db4(0x1c9)+_0x5dab99),Mi(_0x5dab99,_0x17a20c);});}),ke[a0_0x4cdcbe(0x876)]('/startFlow/:instance/:startID',async(_0x54ce8c,_0x14b983)=>{const _0x302b6b=a0_0x4cdcbe;console['log'](_0x302b6b(0x398));let _0x37569e=_0x54ce8c[_0x302b6b(0x484)][_0x302b6b(0x1c1)],_0x2d24a4=_0x54ce8c[_0x302b6b(0x484)][_0x302b6b(0x318)],_0x4c21cc=_0x54ce8c[_0x302b6b(0x596)][_0x302b6b(0x3e5)]||'',_0x3225ea=_0x54ce8c[_0x302b6b(0x52a)];console[_0x302b6b(0x65b)](_0x302b6b(0x2ec),_0x37569e),console[_0x302b6b(0x65b)](_0x302b6b(0x263),_0x2d24a4),console['log'](_0x302b6b(0x665),_0x4c21cc),console['log'](_0x302b6b(0x721),_0x3225ea);try{if(!await _e(_0x37569e))return _0x14b983['status'](0x194)[_0x302b6b(0x330)](_0x302b6b(0x1ea));let _0x4a03aa=await T[_0x302b6b(0x3ae)](_0x37569e,_0x2d24a4,_0x4c21cc,_0x3225ea);_0x14b983[_0x302b6b(0x330)](_0x4a03aa);}catch(_0x50e4fb){console['error'](_0x50e4fb),_0x14b983[_0x302b6b(0x4b1)](0x1f4)[_0x302b6b(0x330)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),ke[a0_0x4cdcbe(0x2df)](a0_0x4cdcbe(0x2a4),(_0x4ad894,_0x2825e3)=>{let _0xcfc4a4=Ci();_0x2825e3['json'](_0xcfc4a4);})[a0_0x4cdcbe(0x2df)]('/',(_0x36ff5d,_0x3c4215)=>{const _0x39d2e1=a0_0x4cdcbe;let _0x185a99=b[_0x39d2e1(0x2df)](_0x39d2e1(0x720))['URL'];if(_0x185a99){let _0x1c501b=encodeURIComponent(''+_0x185a99);_0x3c4215[_0x39d2e1(0x803)](_0x39d2e1(0x539)+_0x1c501b);return;}let _0x1327e8=b[_0x39d2e1(0x2df)](_0x39d2e1(0x727)),_0x259132=_0x1327e8&&_0x1327e8[_0x39d2e1(0x43f)][_0x39d2e1(0x43b)]('/')[0x4];if(_0x259132){let _0x5131cb=encodeURIComponent(_0x39d2e1(0x7e3)+_0x259132);_0x3c4215[_0x39d2e1(0x803)](_0x39d2e1(0x539)+_0x5131cb);}else _0x3c4215[_0x39d2e1(0x803)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x4cdcbe(0x6c4)](a0_0x4cdcbe(0x70a),...le,async(_0x409fd6,_0x44f951)=>{const _0x13ee55=a0_0x4cdcbe;try{console['log']('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x44f951[_0x13ee55(0x4b1)](0xc8)[_0x13ee55(0x30c)]({'message':_0x13ee55(0x1c5)}),_0x44f951['on'](_0x13ee55(0x1c2),()=>process[_0x13ee55(0x1e7)](0x0));}catch(_0x238be7){console[_0x13ee55(0x2c1)](_0x13ee55(0x802),_0x238be7),_0x44f951[_0x13ee55(0x4b1)](0x1f4)[_0x13ee55(0x30c)]({'message':_0x13ee55(0x8c2)});}})[a0_0x4cdcbe(0x6c4)](a0_0x4cdcbe(0x8ab),...le,async(_0x27aa47,_0x1c3d68)=>{const _0x4714db=a0_0x4cdcbe;try{let _0x1f6179=_0x27aa47[_0x4714db(0x52a)];await ve[_0x4714db(0x869)]({},{'$set':_0x1f6179},{'upsert':!0x0});let _0x5b851f=await ve[_0x4714db(0x324)]();_0x1c3d68['json'](_0x5b851f);}catch(_0x2caa0c){_0x1c3d68[_0x4714db(0x4b1)](0x190)[_0x4714db(0x330)](_0x2caa0c[_0x4714db(0x517)]);}})[a0_0x4cdcbe(0x2df)](a0_0x4cdcbe(0x8ab),...le,async(_0x52d733,_0x2f2260)=>{const _0x2e2cf2=a0_0x4cdcbe;try{let _0x4a87bb=await ve[_0x2e2cf2(0x324)]();if(!_0x4a87bb)return _0x2f2260[_0x2e2cf2(0x30c)]({});_0x2f2260[_0x2e2cf2(0x30c)](_0x4a87bb);}catch(_0x11da7e){_0x2f2260['status'](0x1f4)[_0x2e2cf2(0x330)](_0x11da7e[_0x2e2cf2(0x517)]);}})[a0_0x4cdcbe(0x23c)](a0_0x4cdcbe(0x17c),new St(b,...le)[a0_0x4cdcbe(0x8ad)])[a0_0x4cdcbe(0x23c)]('/message',new _t(...le)[a0_0x4cdcbe(0x8ad)])['use'](a0_0x4cdcbe(0x1bc),new ut(...le)['router'])[a0_0x4cdcbe(0x23c)](a0_0x4cdcbe(0x549),new bt(...le)[a0_0x4cdcbe(0x8ad)])[a0_0x4cdcbe(0x23c)](a0_0x4cdcbe(0x63e),new xt(...le)['router'])[a0_0x4cdcbe(0x23c)](a0_0x4cdcbe(0x58f),new Dt(...le)[a0_0x4cdcbe(0x8ad)]);var m=class{constructor(..._0x3c3e0a){const _0x1b3f80=a0_0x4cdcbe;throw{'status':0x190,'error':_0x1b3f80(0x5d4),'message':_0x3c3e0a[_0x1b3f80(0x59d)]>0x0?_0x3c3e0a:void 0x0};}},ce=class{constructor(..._0x3f4371){const _0x4eb9a9=a0_0x4cdcbe;throw{'status':0x191,'error':'Unauthorized','message':_0x3f4371[_0x4eb9a9(0x59d)]>0x0?_0x3f4371:void 0x0};}},se=class{constructor(..._0x2cbab9){const _0x3e9f5c=a0_0x4cdcbe;throw{'status':0x193,'error':_0x3e9f5c(0x4e7),'message':_0x2cbab9['length']>0x0?_0x2cbab9:void 0x0};}},q=class{constructor(..._0x53d571){const _0x321fa9=a0_0x4cdcbe;throw{'status':0x194,'error':_0x321fa9(0x8ae),'message':_0x53d571[_0x321fa9(0x59d)]>0x0?_0x53d571:void 0x0};}},O=class{constructor(..._0x49b317){const _0x36759c=a0_0x4cdcbe;throw{'status':0x1f4,'error':_0x36759c(0x71d),'message':_0x49b317[_0x36759c(0x59d)]>0x0?_0x49b317:void 0x0};}},ye=require('@whiskeysockets/baileys');async function _s(_0x18986d){const _0x56c4f4=a0_0x4cdcbe;let _0x57ce68=new $(_s['name']),_0x130f5f=R[_0x56c4f4(0x858)](),_0x17c630=_0x130f5f['db'](b[_0x56c4f4(0x2df)](_0x56c4f4(0x3e1))[_0x56c4f4(0x21a)][_0x56c4f4(0x746)]+_0x56c4f4(0x61b))[_0x56c4f4(0x58c)](_0x18986d),_0x536ce6=async(_0x528890,_0x1cbcbf)=>{const _0x169d79=_0x56c4f4;try{return await _0x130f5f[_0x169d79(0x428)](),await _0x17c630[_0x169d79(0x3f8)]({'_id':_0x1cbcbf},JSON[_0x169d79(0x1c7)](JSON[_0x169d79(0x289)](_0x528890,ye[_0x169d79(0x41f)]['replacer'])),{'upsert':!0x0});}catch{}},_0x2d6a85=async _0x5d0333=>{const _0x4ae374=_0x56c4f4;try{await _0x130f5f[_0x4ae374(0x428)]();let _0x14087a=await _0x17c630[_0x4ae374(0x324)]({'_id':_0x5d0333}),_0x5bc3f7=JSON[_0x4ae374(0x289)](_0x14087a);return JSON[_0x4ae374(0x1c7)](_0x5bc3f7,ye[_0x4ae374(0x41f)][_0x4ae374(0x6d7)]);}catch{}},_0x51c75b=async _0xbe20e0=>{try{return await _0x130f5f['connect'](),await _0x17c630['deleteOne']({'_id':_0xbe20e0});}catch{}},_0x4b5ef8=await _0x2d6a85(_0x56c4f4(0x667))||(0x0,ye[_0x56c4f4(0x38e)])();return{'state':{'creds':_0x4b5ef8,'keys':{'get':async(_0x55fb39,_0x1f6d7d)=>{const _0x422e80=_0x56c4f4;let _0x4245d5={};return await Promise[_0x422e80(0x653)](_0x1f6d7d['map'](async _0xa5de00=>{const _0x22c7c4=_0x422e80;let _0x589b8d=await _0x2d6a85(_0x55fb39+'-'+_0xa5de00);_0x55fb39===_0x22c7c4(0x6fe)&&_0x589b8d&&(_0x589b8d=ye[_0x22c7c4(0x663)]['Message'][_0x22c7c4(0x280)]['fromObject'](_0x589b8d)),_0x4245d5[_0xa5de00]=_0x589b8d;})),_0x4245d5;},'set':async _0x2285a2=>{const _0x3fd821=_0x56c4f4;let _0x266a4f=[];for(let _0x1e9199 in _0x2285a2)for(let _0x4a66fb in _0x2285a2[_0x1e9199]){let _0x2ebd92=_0x2285a2[_0x1e9199][_0x4a66fb],_0x257479=_0x1e9199+'-'+_0x4a66fb;_0x266a4f[_0x3fd821(0x7e2)](_0x2ebd92?_0x536ce6(_0x2ebd92,_0x257479):_0x51c75b(_0x257479));}await Promise[_0x3fd821(0x653)](_0x266a4f);}}},'saveCreds':async()=>_0x536ce6(_0x4b5ef8,_0x56c4f4(0x667))};}var ks=A(require('long')),Ls=A(require(a0_0x4cdcbe(0x3a1))),Ft=require(a0_0x4cdcbe(0x1bf)),Ni=require(a0_0x4cdcbe(0x6a5)),Lt=require(a0_0x4cdcbe(0x1bf)),kt;function Do(_0x35bf26){const _0x6edcad=a0_0x4cdcbe;return kt||(kt=(0x0,Ni[_0x6edcad(0x4fc)])({'url':_0x35bf26[_0x6edcad(0x453)]}),kt['connect']()),kt;}var ge=class u{constructor(_0x55f281,_0xd5f87f){const _0x33aead=a0_0x4cdcbe;this[_0x33aead(0x2cc)]=_0x55f281,this[_0x33aead(0x181)]=_0xd5f87f,this[_0x33aead(0x83b)]=new $(u[_0x33aead(0x5cf)]),this[_0x33aead(0x811)]=Do(_0x55f281);}set['reference'](_0xf55380){const _0x509b94=a0_0x4cdcbe;this[_0x509b94(0x181)]=_0xf55380;}async[a0_0x4cdcbe(0x59e)](){const _0x82d8a8=a0_0x4cdcbe;try{return await this['client'][_0x82d8a8(0x6e3)]([_0x82d8a8(0x684),this[_0x82d8a8(0x2cc)]['PREFIX_KEY']+':*']);}catch(_0x5e336f){this['logger'][_0x82d8a8(0x2c1)](_0x5e336f);}}async[a0_0x4cdcbe(0x62c)](_0x1a1f32,_0x396115){const _0x147c53=a0_0x4cdcbe;try{let _0x40fed5=JSON[_0x147c53(0x289)](_0x396115,Lt['BufferJSON'][_0x147c53(0x8a5)]);return await this['client']['hSet'](this['redisEnv'][_0x147c53(0x60b)]+':'+this[_0x147c53(0x181)],_0x1a1f32,_0x40fed5);}catch(_0x1828a5){this[_0x147c53(0x83b)]['error'](_0x1828a5);}}async['getAllData'](){const _0x287899=a0_0x4cdcbe;try{let _0x4ac150=await this['client']['hGetAll'](this[_0x287899(0x2cc)]['PREFIX_KEY']+':'+this[_0x287899(0x181)]);if(_0x4ac150){for(let _0x3e6194 in _0x4ac150)Object[_0x287899(0x7aa)][_0x287899(0x189)]['call'](_0x4ac150,_0x3e6194)&&(_0x4ac150[_0x3e6194]=JSON[_0x287899(0x1c7)](_0x4ac150[_0x3e6194],Lt['BufferJSON'][_0x287899(0x6d7)]));return _0x4ac150;}}catch(_0x2b179){this[_0x287899(0x83b)][_0x287899(0x2c1)](_0x2b179);}}async[a0_0x4cdcbe(0x4f4)](_0x3fd0e4){const _0x5ecdcb=a0_0x4cdcbe;try{let _0x8a47b8=await this['client'][_0x5ecdcb(0x305)](this[_0x5ecdcb(0x2cc)][_0x5ecdcb(0x60b)]+':'+this[_0x5ecdcb(0x181)],_0x3fd0e4);if(_0x8a47b8)return JSON[_0x5ecdcb(0x1c7)](_0x8a47b8,Lt[_0x5ecdcb(0x41f)][_0x5ecdcb(0x6d7)]);}catch(_0x2dc8f4){this[_0x5ecdcb(0x83b)]['error'](_0x2dc8f4);}}async[a0_0x4cdcbe(0x1af)](_0x50b1a6){const _0x51ab43=a0_0x4cdcbe;try{return await this[_0x51ab43(0x811)][_0x51ab43(0x828)](this[_0x51ab43(0x2cc)][_0x51ab43(0x60b)]+':'+this[_0x51ab43(0x181)],_0x50b1a6);}catch(_0x49bf13){this[_0x51ab43(0x83b)]['error'](_0x49bf13);}}async[a0_0x4cdcbe(0x21f)](_0x56f883){const _0x2535c0=a0_0x4cdcbe;try{return await this['client'][_0x2535c0(0x34c)](_0x56f883||this['redisEnv']['PREFIX_KEY']+':'+this['instanceName']);}catch(_0xfa2565){this[_0x2535c0(0x83b)][_0x2535c0(0x2c1)](_0xfa2565);}}};async function Os(_0xd8180d,_0x1cb99f){const _0x3ea96d=a0_0x4cdcbe;let _0x4434d0=new $(Os['name']),_0x3bfc42=new ge(_0xd8180d,_0x1cb99f),_0x8c7745=async(_0xfed32f,_0x4d9aec)=>{const _0x36ccd2=a0_0x5e25;try{return await _0x3bfc42[_0x36ccd2(0x62c)](_0x4d9aec,_0xfed32f);}catch(_0x180d06){return _0x4434d0['error']({'localError':_0x36ccd2(0x62c),'error':_0x180d06});}},_0x2ebafd=async _0x5d34cf=>{const _0xab380b=a0_0x5e25;try{return await _0x3bfc42[_0xab380b(0x4f4)](_0x5d34cf);}catch(_0x3aff58){_0x4434d0['error']({'readData':_0xab380b(0x62c),'error':_0x3aff58});return;}},_0x3f0030=async _0x2578a3=>{const _0x2de54b=a0_0x5e25;try{return await _0x3bfc42['removeData'](_0x2578a3);}catch(_0x3d2cd4){_0x4434d0[_0x2de54b(0x2c1)]({'readData':'removeData','error':_0x3d2cd4});}},_0x22a077=await _0x2ebafd(_0x3ea96d(0x667))||(0x0,Ft[_0x3ea96d(0x38e)])();return{'state':{'creds':_0x22a077,'keys':{'get':async(_0x248673,_0x19c711)=>{const _0x3e9fe4=_0x3ea96d;let _0x4b21ad={};return await Promise[_0x3e9fe4(0x653)](_0x19c711['map'](async _0x48bdbc=>{const _0x106d6c=_0x3e9fe4;let _0x2c63a5=await _0x2ebafd(_0x248673+'-'+_0x48bdbc);_0x248673==='app-state-sync-key'&&_0x2c63a5&&(_0x2c63a5=Ft[_0x106d6c(0x663)]['Message'][_0x106d6c(0x280)][_0x106d6c(0x754)](_0x2c63a5)),_0x4b21ad[_0x48bdbc]=_0x2c63a5;})),_0x4b21ad;},'set':async _0x23d530=>{const _0x440a94=_0x3ea96d;let _0x1bd955=[];for(let _0x5d777d in _0x23d530)for(let _0x3a5362 in _0x23d530[_0x5d777d]){let _0x1b2aa4=_0x23d530[_0x5d777d][_0x3a5362],_0x4e3a61=_0x5d777d+'-'+_0x3a5362;_0x1bd955[_0x440a94(0x7e2)](_0x1b2aa4?await _0x8c7745(_0x1b2aa4,_0x4e3a61):await _0x3f0030(_0x4e3a61));}await Promise[_0x440a94(0x653)](_0x1bd955);}}},'saveCreds':async()=>await _0x8c7745(_0x22a077,_0x3ea96d(0x667))};}var F=A(require('fs')),Y=require(a0_0x4cdcbe(0x333)),qt=A(require(a0_0x4cdcbe(0x594))),Vt=require('crypto'),$i=require(a0_0x4cdcbe(0x545)),Ri=require('util'),Ii=A(require('axios')),Ne=class extends _{constructor(_0x4c2545,_0x54d6ce,_0x298108){const _0x51b75b=a0_0x4cdcbe;super(_0x54d6ce),this[_0x51b75b(0x375)]=_0x4c2545,this[_0x51b75b(0x5fa)]=_0x54d6ce,this[_0x51b75b(0x898)]=_0x298108;}async[a0_0x4cdcbe(0x856)](_0x33db8e,_0xa9a459){const _0x4b0b0f=a0_0x4cdcbe;try{if(this[_0x4b0b0f(0x888)]['ENABLED']){console[_0x4b0b0f(0x65b)]('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0xa9a459+_0x4b0b0f(0x341),_0x33db8e);let _0x9b49bf=await this['cacheInstanceModel']['findOneAndUpdate']({'_id':_0xa9a459},{'$set':_0x33db8e},{'new':!0x0,'upsert':!0x0});return console[_0x4b0b0f(0x65b)]('Database\x20update\x20result:',_0x9b49bf),_0x9b49bf;}}catch(_0x5afddf){throw console[_0x4b0b0f(0x2c1)](_0x4b0b0f(0x835),_0x5afddf),_0x5afddf;}return null;}async['deleteOne'](_0xd02064){const _0x389412=a0_0x4cdcbe;try{let _0x28c42b=I(_0xd02064[_0x389412(0x449)]);return{'deletedCount':(await this[_0x389412(0x375)][_0x389412(0x4f7)](_0x28c42b))['deletedCount']};}catch(_0x469f22){return{'error':_0x469f22?.[_0x389412(0x897)]()};}}async['findOne'](_0x4366aa){const _0x3ff069=a0_0x4cdcbe;try{let _0x64225f=I(_0x4366aa['where']);return await this[_0x3ff069(0x375)][_0x3ff069(0x324)](_0x64225f)['lean']();}catch{return null;}}},Ut=(0x0,Ri[a0_0x4cdcbe(0x35a)])($i['exec']),Po=b[a0_0x4cdcbe(0x2df)](a0_0x4cdcbe(0x21d)),xs=class{constructor(){const _0x4c51f1=a0_0x4cdcbe;this[_0x4c51f1(0x4fe)]=new Ne(ze,b),(!this[_0x4c51f1(0x74f)]||!this['networkInterface'])&&Po&&this['detectIPv6PrefixAndInterface']()[_0x4c51f1(0x1f2)](()=>{const _0x467026=_0x4c51f1;console[_0x467026(0x65b)](_0x467026(0x455)+this[_0x467026(0x74f)]),console['log'](_0x467026(0x391)+this['networkInterface']);})[_0x4c51f1(0x476)](_0x379bf8=>{const _0x5eb296=_0x4c51f1;console['error'](_0x5eb296(0x852)+_0x379bf8[_0x5eb296(0x517)]);});}async[a0_0x4cdcbe(0x6e4)](){const _0x32475a=a0_0x4cdcbe;try{let {stdout:_0x2e2408}=await Ut(_0x32475a(0x85f));console[_0x32475a(0x65b)]('Network\x20interfaces\x20detected:\x20'+_0x2e2408);let _0x2bf432=_0x2e2408[_0x32475a(0x43b)]('\x0a')[_0x32475a(0x79d)](_0x37216d=>_0x37216d[_0x32475a(0x43b)]('\x20')[0x0])['filter'](_0x4d1cb8=>!_0x4d1cb8['includes']('lo')&&!_0x4d1cb8[_0x32475a(0x192)]('docker')&&!_0x4d1cb8['includes'](_0x32475a(0x840))&&!_0x4d1cb8[_0x32475a(0x192)]('wl')&&!_0x4d1cb8[_0x32475a(0x192)]('@'));if(console[_0x32475a(0x65b)](_0x32475a(0x694)+_0x2bf432),_0x2bf432['length']===0x0)throw new Error(_0x32475a(0x271));this[_0x32475a(0x4ec)]=_0x2bf432[0x0];let {stdout:_0x3b83b9}=await Ut(_0x32475a(0x33e)+this[_0x32475a(0x4ec)]);console['log'](_0x32475a(0x257)+_0x3b83b9);let _0xc5d7ac=_0x3b83b9[_0x32475a(0x43b)]('\x0a')[_0x32475a(0x521)](_0xf23c9f=>_0xf23c9f[_0x32475a(0x192)]('inet6')&&_0xf23c9f['includes'](_0x32475a(0x67f)));if(!_0xc5d7ac)throw new Error('No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface');let _0x3ff790=_0xc5d7ac[_0x32475a(0x2c8)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x3ff790)throw new Error('Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address');let [_0x33128a,_0x11b9a8,_0x4a4576]=_0x3ff790,_0x2f0b4e=Math[_0x32475a(0x81b)](Number(_0x4a4576)/0x10),_0x2fa168=Number(_0x4a4576)%0x10,_0x1895c5=_0x11b9a8[_0x32475a(0x43b)](':')[_0x32475a(0x5b3)](0x0,_0x2f0b4e)[_0x32475a(0x481)](':');if(_0x2fa168>0x0){let _0x3aed26=_0x11b9a8[_0x32475a(0x43b)](':')[_0x2f0b4e],_0x39e96a=0xffff<<0x10-_0x2fa168&0xffff,_0x5df0fe=(parseInt(_0x3aed26,0x10)&_0x39e96a)[_0x32475a(0x897)](0x10)[_0x32475a(0x49f)](0x4,'0');_0x1895c5+=':'+_0x5df0fe;}this[_0x32475a(0x74f)]=_0x1895c5+':';}catch(_0x3d61fa){console['error'](_0x32475a(0x1c0),_0x3d61fa);}}async[a0_0x4cdcbe(0x4d9)](_0x273888){const _0x2ee109=a0_0x4cdcbe;let _0x243716=_0x2ee109(0x7ca)+_0x273888+_0x2ee109(0x7b9)+this[_0x2ee109(0x4ec)];try{await Ut(_0x243716),console[_0x2ee109(0x65b)](_0x2ee109(0x668)+_0x273888);}catch(_0x9b624){console[_0x2ee109(0x2c1)](_0x2ee109(0x1c6)+_0x9b624);}}async['removeIPv6'](_0x490ac7){const _0x1d7acc=a0_0x4cdcbe;let _0x3a395c=_0x1d7acc(0x6b4)+_0x490ac7+'/64\x20dev\x20'+this[_0x1d7acc(0x4ec)];try{await Ut(_0x3a395c),console[_0x1d7acc(0x65b)](_0x1d7acc(0x8cd)+_0x490ac7);}catch(_0xe313c2){console[_0x1d7acc(0x2c1)]('Error\x20removing\x20IPv6\x20address:\x20'+_0xe313c2);}}[a0_0x4cdcbe(0x8bc)](){const _0xdf9b8e=a0_0x4cdcbe;return'XX:XX:XX:XX:XX:XX'['replace'](/X/g,()=>_0xdf9b8e(0x190)[_0xdf9b8e(0x5d2)](Math[_0xdf9b8e(0x81b)](Math[_0xdf9b8e(0x4c0)]()*0x10)));}[a0_0x4cdcbe(0x805)](_0x3a7b0b,_0x148cfa){const _0x49e605=a0_0x4cdcbe;let _0x353286=_0x148cfa[_0x49e605(0x43b)](':');return _0x353286[0x0]=(parseInt(_0x353286[0x0],0x10)^0x2)[_0x49e605(0x897)](0x10)[_0x49e605(0x49f)](0x2,'0'),''+_0x3a7b0b+_0x353286[0x0]+_0x353286[0x1]+':'+_0x353286[0x2]+_0x49e605(0x27a)+_0x353286[0x3]+':'+_0x353286[0x4]+_0x353286[0x5];}[a0_0x4cdcbe(0x6f5)](){const _0x3db5e3=a0_0x4cdcbe;let _0x7933e4=this[_0x3db5e3(0x74f)];_0x7933e4[_0x3db5e3(0x80c)](':')||(_0x7933e4+=':');let _0x1b21c7=this['randomMac']();return this[_0x3db5e3(0x805)](_0x7933e4,_0x1b21c7);}[a0_0x4cdcbe(0x5ac)](_0x452acf){const _0x29eec5=a0_0x4cdcbe;return new RegExp(_0x29eec5(0x361))[_0x29eec5(0x7f5)](_0x452acf);}async[a0_0x4cdcbe(0x402)](_0x47c4e4){const _0xa6b1f8=a0_0x4cdcbe;let _0x22d91b=[{'url':_0xa6b1f8(0x464),'parse':_0x12fd80=>_0x12fd80['ip']},{'url':_0xa6b1f8(0x80e),'parse':_0x368221=>_0x368221['ip']},{'url':'https://ifconfig.me/ip','parse':_0x2a2fc4=>_0x2a2fc4[_0xa6b1f8(0x360)]()},{'url':_0xa6b1f8(0x5da),'parse':_0x233b8f=>_0x233b8f[_0xa6b1f8(0x360)]()}],_0x100286=_0x22d91b[Math[_0xa6b1f8(0x81b)](Math['random']()*_0x22d91b[_0xa6b1f8(0x59d)])];try{let _0x5b5038=await Ii[_0xa6b1f8(0x669)][_0xa6b1f8(0x2df)](_0x100286['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x47c4e4}}),_0x36debb=_0x100286[_0xa6b1f8(0x1c7)](_0x5b5038['data']);return _0x36debb[_0xa6b1f8(0x804)]()===_0x47c4e4[_0xa6b1f8(0x804)]()?(console[_0xa6b1f8(0x65b)](_0xa6b1f8(0x846)+_0x47c4e4),!0x0):(console[_0xa6b1f8(0x2c1)](_0xa6b1f8(0x715)+_0x47c4e4+_0xa6b1f8(0x3e2)+_0x36debb),!0x1);}catch(_0x57f039){return console[_0xa6b1f8(0x2c1)](_0xa6b1f8(0x53d)+_0x100286['url']+':\x20'+_0x57f039['message']),!0x1;}}async[a0_0x4cdcbe(0x79b)](_0x299092,_0x5ebb1c){const _0x266a2=a0_0x4cdcbe;if(!this[_0x266a2(0x74f)]||!this['networkInterface'])return console['error'](_0x266a2(0x294)),null;let _0x1fd686;do _0x1fd686=this[_0x266a2(0x6f5)](),console[_0x266a2(0x65b)](_0x266a2(0x79f)+_0x1fd686);while(!await this[_0x266a2(0x767)](_0x1fd686));await this[_0x266a2(0x4d9)](_0x1fd686),console['log'](_0x266a2(0x7e9)+_0x1fd686);let _0x481c29={'_id':_0x299092+'-'+_0x5ebb1c,'ip':_0x1fd686},_0x111fbe=await this[_0x266a2(0x4fe)][_0x266a2(0x856)](_0x481c29,_0x481c29[_0x266a2(0x42f)]);return console[_0x266a2(0x65b)]('Cache\x20instance\x20update\x20result:\x20'+_0x111fbe),_0x1fd686;}async[a0_0x4cdcbe(0x767)](_0x536f83){const _0x20432d=a0_0x4cdcbe;return this[_0x20432d(0x5ac)](_0x536f83)?!await this['cacheInstanceRepository'][_0x20432d(0x324)]({'where':{'ip':_0x536f83}}):!0x1;}async[a0_0x4cdcbe(0x5bc)](_0x20a644,_0x2ca649){const _0x3f29c3=a0_0x4cdcbe;let _0x40f549=_0x20a644+'-'+_0x2ca649,_0x3f129d=await this['cacheInstanceRepository'][_0x3f29c3(0x324)]({'where':{'_id':_0x40f549}});_0x3f129d&&_0x3f129d['ip']&&(await this['removeIPv6'](_0x3f129d['ip']),await this[_0x3f29c3(0x4fe)][_0x3f29c3(0x4f7)]({'where':{'_id':_0x40f549}}));}},ko=new xs(),re=ko,Fs='Safari',Pi,me=null,Da=null,Lo=0x3,Fo=null,Ai=b[a0_0x4cdcbe(0x2df)]('AUTHENTICATION')[a0_0x4cdcbe(0x797)][a0_0x4cdcbe(0x399)],Ti=b[a0_0x4cdcbe(0x2df)](a0_0x4cdcbe(0x21d));async function Uo(){const _0x10fcfe=a0_0x4cdcbe;let _0x248d32=await ve['findOne']();me=_0x248d32?.[_0x10fcfe(0x853)]??null,Fo=_0x248d32?.[_0x10fcfe(0x8bf)]??null,Fs=_0x248d32?.['connectedClient']??_0x10fcfe(0x379),Pi=_0x248d32?.['connectedName']??K??_0x10fcfe(0x82b);}async function jo(){await Uo();}jo();var jt={},$e=class u{constructor(_0x5ef655,_0x537ef4,_0x42925e){const _0x4440b0=a0_0x4cdcbe;this[_0x4440b0(0x5fa)]=_0x5ef655,this[_0x4440b0(0x230)]=_0x537ef4,this[_0x4440b0(0x671)]=_0x42925e,this[_0x4440b0(0x598)]=null,this[_0x4440b0(0x83b)]=new $(u[_0x4440b0(0x5cf)]),this[_0x4440b0(0x1c1)]={},this[_0x4440b0(0x70c)]={},this[_0x4440b0(0x37e)]={'state':_0x4440b0(0x66b)},this[_0x4440b0(0x765)]=(0x0,j['join'])(ue,_0x4440b0(0x23d)),this[_0x4440b0(0x369)]=new Ls[(_0x4440b0(0x669))](),this['userDevicesCache']=new Ls[(_0x4440b0(0x669))](),this[_0x4440b0(0x21b)]=!0x1,this[_0x4440b0(0x495)]={'status.instance':_0x4440b0(0x730),'connection.update':_0x4440b0(0x730),'qrcode.updated':_0x4440b0(0x4a3),'messages.upsert':_0x4440b0(0x20e),'send.message':_0x4440b0(0x20e),'messages.update':_0x4440b0(0x50f),'group.upsert':'/wa-groups','group.update':_0x4440b0(0x1b3),'group-participants.update':_0x4440b0(0x1b3),'messages.set':'/wa-all-message','contacts.set':_0x4440b0(0x618),'contacts.upsert':_0x4440b0(0x618),'contacts.update':_0x4440b0(0x618),'presence.update':'/wa-presence','chats.set':'/wa-chats','chats.update':'/wa-chats','chats.upsert':'/wa-chats','chats.delete':_0x4440b0(0x50b)},this[_0x4440b0(0x7a4)]=0x0,this['reconnectTimestamps']=[],this[_0x4440b0(0x48a)]=0xea60,this['isRunning']=!0x1,this['chatHandle']={'chats.upsert':async(_0x3eb25e,_0x5b4686)=>{const _0x5ca6fa=_0x4440b0;let _0x445ece=[];for await(let _0x3ebb06 of _0x3eb25e)_0x445ece['push']({'_id':_0x3ebb06['id'],'owner':this['instance'][_0x5ca6fa(0x2db)],'group':_0x3ebb06['id'][_0x5ca6fa(0x80c)]('@g.us'),'name':_0x3ebb06[_0x5ca6fa(0x5cf)]||_0x3ebb06[_0x5ca6fa(0x5e2)]||null,'contactname':null,'lastmsg':_0x3ebb06[_0x5ca6fa(0x1ae)]&&_0x3ebb06[_0x5ca6fa(0x1ae)][_0x5ca6fa(0x897)]()[_0x5ca6fa(0x59d)]<0xd?_0x3ebb06[_0x5ca6fa(0x1ae)]*0x3e8:_0x3ebb06[_0x5ca6fa(0x1ae)]||null,'archived':_0x3ebb06[_0x5ca6fa(0x794)]||!0x1,'unreadcount':_0x3ebb06[_0x5ca6fa(0x4ce)]||0x0,'ephemeralExpiration':_0x3ebb06[_0x5ca6fa(0x28e)]||0x0});this[_0x5ca6fa(0x1a9)](_0x5ca6fa(0x5b6),_0x445ece);},'chats.update':async(_0x322b0a,_0x509704)=>{const _0x365982=_0x4440b0;for(let _0x30462b of _0x322b0a){let _0x44c404={'_id':_0x30462b['id'],'owner':this[_0x365982(0x1c1)][_0x365982(0x2db)],'archived':_0x30462b[_0x365982(0x794)],'muteEndTime':_0x30462b[_0x365982(0x76f)],'ephemeralExpiration':_0x30462b['ephemeralExpiration']},_0x30692f=!0x1,_0x549b75={};_0x44c404[_0x365982(0x794)]!=null&&(this['logger'][_0x365982(0x29b)](this['instanceName']+'\x20('+this[_0x365982(0x1c1)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x30462b['id']+_0x365982(0x1d6)+_0x30462b[_0x365982(0x794)]),_0x30692f=!0x0,_0x549b75[_0x365982(0x794)]=_0x30462b[_0x365982(0x794)]),_0x365982(0x76f)in _0x30462b&&(this[_0x365982(0x83b)]['verbose'](this[_0x365982(0x181)]+'\x20('+this[_0x365982(0x1c1)][_0x365982(0x2db)]+_0x365982(0x4b0)+_0x30462b['id']+'\x20:\x20'+(_0x30462b[_0x365982(0x76f)]??'0')),_0x30692f=!0x0,_0x549b75['muteEndTime']=_0x30462b[_0x365982(0x76f)]??0x0),_0x365982(0x28e)in _0x30462b&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x365982(0x1c1)][_0x365982(0x2db)]+_0x365982(0x607)+_0x30462b['id']+'\x20:\x20'+(_0x30462b[_0x365982(0x28e)]!==void 0x0?_0x30462b[_0x365982(0x28e)]:_0x365982(0x80b))),_0x549b75['ephemeralExpiration']=_0x30462b[_0x365982(0x28e)]===null?0x0:_0x30462b[_0x365982(0x28e)],_0x30692f=!0x0);let _0x2635e8;_0x30692f&&(_0x2635e8=await this['repository'][_0x365982(0x538)][_0x365982(0x869)]({'where':{'_id':_0x30462b['id']}},_0x549b75,this[_0x365982(0x1c1)][_0x365982(0x2db)])),_0x2635e8&&V(this['instanceName'],_0x365982(0x3ef),{'chat':_0x2635e8});}},'chats.delete':async _0x5b13b8=>{const _0x459a50=_0x4440b0;for(let _0x3c2334 of _0x5b13b8)if(_0x3c2334[_0x459a50(0x80c)](_0x459a50(0x3f3))){await this[_0x459a50(0x671)]['chat']['delete']({'where':{'_id':_0x3c2334}},this[_0x459a50(0x1c1)][_0x459a50(0x2db)]);let _0x29cb87={'where':{'key':{'remoteJid':_0x3c2334}}};await this[_0x459a50(0x671)]['message']['delete'](_0x29cb87,this[_0x459a50(0x1c1)][_0x459a50(0x2db)]);}else{await this['repository'][_0x459a50(0x538)][_0x459a50(0x869)]({'where':{'_id':_0x3c2334}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x459a50(0x1c1)][_0x459a50(0x2db)]);let _0x3081d3={'where':{'key':{'remoteJid':_0x3c2334}}};await this[_0x459a50(0x671)][_0x459a50(0x517)]['delete'](_0x3081d3,this[_0x459a50(0x1c1)]['wuid']);}this[_0x459a50(0x1a9)](_0x459a50(0x74c),[..._0x5b13b8]);}},this[_0x4440b0(0x2be)]={'contacts.upsert':async(_0x2b22af,_0x1813bd)=>{const _0x41d48e=_0x4440b0;let _0x43bed8=await this[_0x41d48e(0x671)][_0x41d48e(0x1bb)][_0x41d48e(0x521)]({'where':{}},this[_0x41d48e(0x1c1)]['wuid']),_0x2f474b=[];for await(let _0xe72652 of _0x2b22af)_0x43bed8[_0x41d48e(0x521)](_0x483561=>_0x483561['_id']===_0xe72652['id'])||_0x2f474b[_0x41d48e(0x7e2)]({'_id':_0xe72652['id'],'pushName':_0xe72652?.[_0x41d48e(0x5cf)]||_0xe72652?.[_0x41d48e(0x6ae)],'owner':this[_0x41d48e(0x1c1)][_0x41d48e(0x2db)]});this['sendDataWebhook'](_0x41d48e(0x6b1),_0x2f474b),await this[_0x41d48e(0x671)][_0x41d48e(0x1bb)][_0x41d48e(0x5ed)](_0x2f474b);},'contacts.update':async(_0x45e396,_0x2f6355)=>{const _0x30c1d0=_0x4440b0;let _0x41ad56=[];for await(let _0x63fea1 of _0x45e396)_0x41ad56['push']({'_id':_0x63fea1['id'],'pushName':_0x63fea1?.['name']??_0x63fea1?.[_0x30c1d0(0x6ae)],'owner':this[_0x30c1d0(0x1c1)][_0x30c1d0(0x2db)]});this[_0x30c1d0(0x1a9)](_0x30c1d0(0x397),_0x41ad56);}},this[_0x4440b0(0x1f8)]={'messaging-history.set':async({messages:_0xba4f88,chats:_0x216d9c,isLatest:_0x40898d},_0x287980)=>{const _0x2f7955=_0x4440b0;if(_0x40898d){let _0x102d97=await Promise[_0x2f7955(0x653)](_0x216d9c['map'](async _0x4a2068=>({'_id':_0x4a2068['id'],'owner':this[_0x2f7955(0x1c1)][_0x2f7955(0x2db)],'group':_0x4a2068['id'][_0x2f7955(0x80c)](_0x2f7955(0x3f3)),'name':_0x4a2068[_0x2f7955(0x5cf)]||_0x4a2068[_0x2f7955(0x5e2)]||_0x4a2068[_0x2f7955(0x75f)]||null,'contactname':null,'lastmsg':_0x4a2068[_0x2f7955(0x1ae)]&&_0x4a2068[_0x2f7955(0x1ae)]['toString']()['length']<0xd?_0x4a2068[_0x2f7955(0x1ae)]*0x3e8:_0x4a2068[_0x2f7955(0x1ae)]||null,'archived':_0x4a2068[_0x2f7955(0x794)]||!0x1,'unreadcount':_0x4a2068['unreadCount']||0x0,'ephemeralExpiration':_0x4a2068['ephemeralExpiration']||0x0,'muteEndTime':_0x4a2068[_0x2f7955(0x76f)]||0x0})));this['sendDataWebhook']('chats.set',_0x102d97),await this['upsertChats'](_0x102d97,_0x287980);}let _0x483e15=[],_0x4a1bb0=Date[_0x2f7955(0x472)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x49f1e4]of Object[_0x2f7955(0x659)](_0xba4f88)){if(_0x49f1e4[_0x2f7955(0x517)]?.[_0x2f7955(0x3dd)]||_0x49f1e4[_0x2f7955(0x517)]?.[_0x2f7955(0x4c4)]||!_0x49f1e4[_0x2f7955(0x517)]||_0x49f1e4[_0x2f7955(0x786)]['remoteJid']===_0x2f7955(0x31c)||(ks[_0x2f7955(0x669)][_0x2f7955(0x2e6)](_0x49f1e4?.[_0x2f7955(0x8b7)])&&(_0x49f1e4['messageTimestamp']=_0x49f1e4[_0x2f7955(0x8b7)]?.[_0x2f7955(0x45c)]()),_0x49f1e4['messageTimestamp']&&_0x49f1e4[_0x2f7955(0x8b7)][_0x2f7955(0x897)]()[_0x2f7955(0x59d)]<0xd&&(_0x49f1e4[_0x2f7955(0x8b7)]=_0x49f1e4[_0x2f7955(0x8b7)]*0x3e8),_0x49f1e4[_0x2f7955(0x8b7)]<_0x4a1bb0))continue;let _0x110854=(0x0,w['normalizeMessageContent'])(_0x49f1e4[_0x2f7955(0x517)]),_0x5e4c01=(0x0,w[_0x2f7955(0x59a)])(_0x110854),{message_normalized:_0x46e95f}=this['normalizeMessage'](_0x110854,_0x5e4c01,null);Object[_0x2f7955(0x684)](_0x46e95f)[_0x2f7955(0x59d)]>0x0&&_0x483e15['push']({'_id':_0x49f1e4[_0x2f7955(0x786)]['id'],'key':_0x49f1e4['key'],'pushName':_0x49f1e4[_0x2f7955(0x8b6)],'participant':_0x49f1e4[_0x2f7955(0x43c)],'message':_0x110854,'messageType':_0x5e4c01,'message_normalized':{'key':_0x49f1e4[_0x2f7955(0x786)],'pushName':_0x49f1e4['pushName'],'messageTimestamp':_0x49f1e4['messageTimestamp'],..._0x46e95f},'messageTimestamp':_0x49f1e4['messageTimestamp'],'owner':this['instance']['wuid']});}_0x287980[_0x2f7955(0x8dc)]&&_0x483e15[_0x2f7955(0x59d)]>0x0&&(this['logger']['verbose'](this[_0x2f7955(0x181)]+'\x20('+this[_0x2f7955(0x1c1)][_0x2f7955(0x2db)]+'):\x20'+_0x483e15[_0x2f7955(0x59d)]+'\x20mensagens\x20de\x20'+this[_0x2f7955(0x1c1)]['wuid']+_0x2f7955(0x382)),await this['repository']['message'][_0x2f7955(0x5ed)]([..._0x483e15],this[_0x2f7955(0x1c1)][_0x2f7955(0x2db)])),this[_0x2f7955(0x1a9)](_0x2f7955(0x498),[..._0x483e15]),_0xba4f88=void 0x0;},'messages.upsert':async({messages:_0x8c9075,type:_0x1d9ca8},_0x4b8da2)=>{const _0x1cb71f=_0x4440b0;for(let _0x23b51f of _0x8c9075){if(this[_0x1cb71f(0x70c)]?.[_0x1cb71f(0x775)]&&_0x23b51f[_0x1cb71f(0x786)][_0x1cb71f(0x3e5)][_0x1cb71f(0x192)](_0x1cb71f(0x3f3))){this[_0x1cb71f(0x83b)][_0x1cb71f(0x29b)](this['instanceName']+'\x20('+this[_0x1cb71f(0x1c1)][_0x1cb71f(0x2db)]+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0x1d9ca8!==_0x1cb71f(0x343)||!_0x23b51f?.[_0x1cb71f(0x517)]||_0x23b51f[_0x1cb71f(0x517)]?.[_0x1cb71f(0x3dd)]||_0x23b51f[_0x1cb71f(0x517)][_0x1cb71f(0x4c4)]||_0x23b51f[_0x1cb71f(0x786)][_0x1cb71f(0x3e5)]==='status@broadcast')return;let _0x542970=null,_0x3c8365=null;if(_0x23b51f[_0x1cb71f(0x7e4)]&&_0x23b51f['messageStubParameters'][0x0]==_0x1cb71f(0x86f)){console[_0x1cb71f(0x2c1)](_0x1cb71f(0x728)),jt[_0x23b51f[_0x1cb71f(0x786)]['id']]=_0x23b51f,this[_0x1cb71f(0x298)](_0x23b51f,0x0);return;}jt[_0x23b51f[_0x1cb71f(0x786)]['id']]&&(console['error'](_0x1cb71f(0x85b)),delete jt[_0x23b51f[_0x1cb71f(0x786)]['id']]);try{_0x542970=await this[_0x1cb71f(0x5a1)](_0x23b51f),_0x3c8365=_0x542970?_0x542970[_0x1cb71f(0x481)](','):null;}catch(_0x3f2cce){this[_0x1cb71f(0x83b)][_0x1cb71f(0x29b)](this[_0x1cb71f(0x181)]+'\x20('+this['instance'][_0x1cb71f(0x2db)]+_0x1cb71f(0x66a)+(_0x3f2cce instanceof Error?_0x3f2cce[_0x1cb71f(0x517)]:JSON[_0x1cb71f(0x289)](_0x3f2cce,null,0x2))),_0x3c8365=_0x1cb71f(0x5df);}this[_0x1cb71f(0x811)][_0x1cb71f(0x2a6)]('unavailable'),ks[_0x1cb71f(0x669)][_0x1cb71f(0x2e6)](_0x23b51f[_0x1cb71f(0x8b7)])&&(_0x23b51f[_0x1cb71f(0x8b7)]=_0x23b51f[_0x1cb71f(0x8b7)]?.[_0x1cb71f(0x45c)]()),_0x23b51f[_0x1cb71f(0x8b7)]&&_0x23b51f['messageTimestamp']['toString']()[_0x1cb71f(0x59d)]<0xd&&(_0x23b51f[_0x1cb71f(0x8b7)]=_0x23b51f[_0x1cb71f(0x8b7)]*0x3e8);let _0x43eabf=_0x23b51f[_0x1cb71f(0x517)],_0x5df2dd=(0x0,w[_0x1cb71f(0x724)])(_0x43eabf),_0xfc0ba6=(0x0,w[_0x1cb71f(0x59a)])(_0x5df2dd),{messageContent:_0x1d7d28,message_normalized:_0x5a1657}=this[_0x1cb71f(0x2b8)](_0x5df2dd,_0xfc0ba6,_0x3c8365);_0xfc0ba6===_0x1cb71f(0x3dd)&&_0x1d7d28?.[_0x1cb71f(0x8d6)]&&(_0xfc0ba6=_0x1cb71f(0x8d6));let _0x3647db,_0x16c5f8=_0x23b51f[_0x1cb71f(0x786)][_0x1cb71f(0x3e5)][_0x1cb71f(0x80c)]('@g.us');if(_0x23b51f[_0x1cb71f(0x786)][_0x1cb71f(0x7ac)])_0x3647db=this['instance'][_0x1cb71f(0x3ce)];else{let _0x44484a=_0x16c5f8?_0x23b51f['key']['participant']:_0x23b51f[_0x1cb71f(0x786)]['remoteJid'];_0x3647db=(await this[_0x1cb71f(0x8c1)](_0x44484a,_0x23b51f['pushName'],!0x1))[_0x1cb71f(0x235)][_0x1cb71f(0x1fd)];}let _0x18734c={'_id':_0x23b51f[_0x1cb71f(0x786)]['id'],'key':_0x23b51f[_0x1cb71f(0x786)],'isGroup':_0x16c5f8,'profilePictureUrl':_0x3647db,'pushName':_0x23b51f[_0x1cb71f(0x8b6)],'message':_0x5df2dd,'messageType':_0xfc0ba6,'message_normalized':{'key':_0x23b51f[_0x1cb71f(0x786)],'pushName':_0x23b51f[_0x1cb71f(0x8b6)],'messageTimestamp':_0x23b51f[_0x1cb71f(0x8b7)],'source':(0x0,w['getDevice'])(_0x23b51f[_0x1cb71f(0x786)]['id']),..._0x5a1657},'messageTimestamp':_0x23b51f[_0x1cb71f(0x8b7)],'owner':this[_0x1cb71f(0x1c1)][_0x1cb71f(0x2db)],'source':(0x0,w[_0x1cb71f(0x39b)])(_0x23b51f[_0x1cb71f(0x786)]['id']),'expiration':_0x1d7d28?.[_0x1cb71f(0x6b2)]?.['expiration']||0x0};_0x1d7d28||(this[_0x1cb71f(0x83b)][_0x1cb71f(0x2c1)](_0x1cb71f(0x1be)),this['logger'][_0x1cb71f(0x2c1)](_0x18734c)),this[_0x1cb71f(0x83b)][_0x1cb71f(0x65b)](this[_0x1cb71f(0x181)]+'\x20('+this[_0x1cb71f(0x1c1)][_0x1cb71f(0x2db)]+_0x1cb71f(0x66a)+(_0x18734c[_0x1cb71f(0x786)]?.[_0x1cb71f(0x7ac)]?_0x1cb71f(0x299):'recebido\x20de')+'\x20['+_0x18734c['key']?.['remoteJid'][_0x1cb71f(0x1a6)](_0x1cb71f(0x7c9),'')+_0x1cb71f(0x2c2)+_0x18734c[_0x1cb71f(0x258)]+')'),_0x18734c[_0x1cb71f(0x316)]?.[_0x1cb71f(0x2a8)]&&this[_0x1cb71f(0x83b)][_0x1cb71f(0x65b)](_0x23b51f[_0x1cb71f(0x786)]['id']+':\x20'+_0x18734c[_0x1cb71f(0x316)]?.[_0x1cb71f(0x2a8)]),await this[_0x1cb71f(0x671)][_0x1cb71f(0x517)][_0x1cb71f(0x5ed)]([_0x18734c],this[_0x1cb71f(0x1c1)]['wuid']),this[_0x1cb71f(0x1a9)](_0x1cb71f(0x26d),_0x18734c),V(this[_0x1cb71f(0x181)],'messages',{'message':_0x18734c}),_0x23b51f['key'][_0x1cb71f(0x3e5)]!==_0x1cb71f(0x31c)&&await this[_0x1cb71f(0x64a)](_0x4b8da2,_0x18734c,_0x1cb71f(0x33f));}},'messages.update':async(_0x1e6e76,_0x3f88a9)=>{const _0x1e26e4=_0x4440b0;let _0x889f1c={0x0:'ERROR',0x1:_0x1e26e4(0x5ad),0x2:_0x1e26e4(0x4a8),0x3:_0x1e26e4(0x5e1),0x4:'READ',0x5:_0x1e26e4(0x486)};for await(let {key:_0x305bab,update:_0x333932}of _0x1e6e76){if(this[_0x1e26e4(0x70c)]?.[_0x1e26e4(0x775)]&&_0x305bab['remoteJid'][_0x1e26e4(0x192)]('@g.us')){this[_0x1e26e4(0x83b)][_0x1e26e4(0x29b)](this[_0x1e26e4(0x181)]+'\x20('+this[_0x1e26e4(0x1c1)]['wuid']+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x305bab[_0x1e26e4(0x3e5)]!==_0x1e26e4(0x31c)){let _0x24591e=Date[_0x1e26e4(0x472)](),_0x42d91a;_0x333932[_0x1e26e4(0x517)]===null&&_0x333932['status']===void 0x0?_0x42d91a=_0x1e26e4(0x5c4):_0x42d91a=_0x889f1c[_0x333932[_0x1e26e4(0x4b1)]];let _0x4fee76=_0x305bab['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x372bca={..._0x305bab,'remoteJid':_0x4fee76,'status':_0x42d91a,'datetime':_0x24591e,'owner':this[_0x1e26e4(0x1c1)][_0x1e26e4(0x2db)]};this[_0x1e26e4(0x1a9)](_0x1e26e4(0x8af),_0x372bca),await this[_0x1e26e4(0x529)](_0x305bab,_0x372bca);}}},'labels.association':async({type:_0x45d37c,association:_0x1cc3af})=>{const _0x21530c=_0x4440b0;if(_0x1cc3af[_0x21530c(0x551)]===_0x21530c(0x7a2)){let _0x4174a0,_0x2d878e=0x0;for(;!_0x4174a0&&_0x2d878e<this[_0x21530c(0x352)];)_0x4174a0=await this['repository'][_0x21530c(0x538)][_0x21530c(0x324)]({'where':{'_id':_0x1cc3af['chatId']}},this[_0x21530c(0x1c1)][_0x21530c(0x2db)]),_0x4174a0||(_0x2d878e++,this[_0x21530c(0x83b)][_0x21530c(0x71f)](this['instanceName']+'\x20('+this[_0x21530c(0x1c1)][_0x21530c(0x2db)]+_0x21530c(0x544)+_0x1cc3af[_0x21530c(0x434)]+_0x21530c(0x896)+this['delayChatLabel_RETRY_DELAY_MS']+_0x21530c(0x36f)+_0x2d878e+'/'+this[_0x21530c(0x352)]+')'),await this['delayChatLabel'](this[_0x21530c(0x1d8)]));if(!_0x4174a0){this['logger'][_0x21530c(0x2c1)](_0x21530c(0x232)+_0x1cc3af[_0x21530c(0x434)]+_0x21530c(0x7a5)+this['delayChatLabel_MAX_RETRIES']+_0x21530c(0x42e));return;}switch(_0x45d37c){case _0x21530c(0x52d):console[_0x21530c(0x65b)](_0x1cc3af),await this['repository']['chat'][_0x21530c(0x869)]({'where':{'_id':_0x1cc3af[_0x21530c(0x434)]}},{'leadInfo.etiquetas':_0x1cc3af[_0x21530c(0x63d)]},this['instance']['wuid'],void 0x0,_0x21530c(0x843));break;case _0x21530c(0x496):console['log'](_0x1cc3af),await this[_0x21530c(0x671)][_0x21530c(0x538)][_0x21530c(0x869)]({'where':{'_id':_0x1cc3af[_0x21530c(0x434)]}},{'leadInfo.etiquetas':_0x1cc3af[_0x21530c(0x63d)]},this[_0x21530c(0x1c1)][_0x21530c(0x2db)],void 0x0,_0x21530c(0x441));break;default:this[_0x21530c(0x83b)][_0x21530c(0x2c1)](_0x21530c(0x4dd)+_0x45d37c+']');}}},'labels.edit':async _0x4a70f1=>{const _0x2d2b2e=_0x4440b0;if(!_0x4a70f1||!_0x4a70f1['id']){this[_0x2d2b2e(0x83b)]['error']('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x4a70f1[_0x2d2b2e(0x72b)]){let _0x1ee487=[_0x2d2b2e(0x752),_0x2d2b2e(0x1b0),_0x2d2b2e(0x784),'#dfaef0','#9ab6c1',_0x2d2b2e(0x702),_0x2d2b2e(0x27d),_0x2d2b2e(0x23a),_0x2d2b2e(0x337),_0x2d2b2e(0x6ab),'#01d0e2',_0x2d2b2e(0x506),'#92ceac','#f64847','#00a1f2',_0x2d2b2e(0x630),'#ffae04',_0x2d2b2e(0x3f4),_0x2d2b2e(0x772),_0x2d2b2e(0x477)],_0x1d6f7e;typeof _0x4a70f1[_0x2d2b2e(0x33b)]==_0x2d2b2e(0x64f)&&_0x4a70f1['color']>=0x0&&_0x4a70f1['color']<_0x1ee487[_0x2d2b2e(0x59d)]?_0x1d6f7e=_0x1ee487[_0x4a70f1[_0x2d2b2e(0x33b)]]:(this['logger'][_0x2d2b2e(0x2c1)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x4a70f1[_0x2d2b2e(0x33b)]),_0x1d6f7e=_0x2d2b2e(0x6e5));let _0x14d634={'_id':_0x4a70f1['id'],'colorHex':_0x1d6f7e,'color':_0x4a70f1?.[_0x2d2b2e(0x33b)],'name':_0x4a70f1?.[_0x2d2b2e(0x5cf)],'owner':this[_0x2d2b2e(0x1c1)][_0x2d2b2e(0x2db)]};await this[_0x2d2b2e(0x671)][_0x2d2b2e(0x522)][_0x2d2b2e(0x869)]({'where':{'_id':_0x4a70f1['id']}},_0x14d634,this[_0x2d2b2e(0x1c1)][_0x2d2b2e(0x2db)]),this[_0x2d2b2e(0x83b)]['info'](this[_0x2d2b2e(0x181)]+'\x20('+this[_0x2d2b2e(0x1c1)]['wuid']+_0x2d2b2e(0x6d2)+_0x4a70f1);}_0x4a70f1[_0x2d2b2e(0x72b)]&&(await this['repository']['label'][_0x2d2b2e(0x5f7)]({'where':{'_id':_0x4a70f1['id']}},this[_0x2d2b2e(0x1c1)]['wuid']),this[_0x2d2b2e(0x83b)]['info'](_0x2d2b2e(0x69a)+_0x4a70f1['id']));}},this[_0x4440b0(0x3c0)]={'groups.upsert':async _0x291daf=>{const _0x79a95f=_0x4440b0;this[_0x79a95f(0x70c)]?.[_0x79a95f(0x775)]||this['sendDataWebhook'](_0x79a95f(0x576),_0x291daf);for(let _0x5a8929 of _0x291daf)await this[_0x79a95f(0x2a5)](_0x5a8929);},'groups.update':async _0x6491cb=>{const _0x34f8b9=_0x4440b0;this[_0x34f8b9(0x70c)]?.['groups_ignore']||this[_0x34f8b9(0x1a9)](_0x34f8b9(0x1e6),_0x6491cb);for(let _0x230658 of _0x6491cb)await this[_0x34f8b9(0x2a5)](_0x230658);},'group-participants.update':async _0x20b617=>{const _0x373c0f=_0x4440b0;this[_0x373c0f(0x70c)]?.[_0x373c0f(0x775)]||this[_0x373c0f(0x1a9)]('group-participants.update',_0x20b617),await this['updateGroupParticipantsWebhook'](_0x20b617);}},this[_0x4440b0(0x352)]=0x5,this[_0x4440b0(0x1d8)]=0x1388,this['lastRealGroupsFetch']=0x0,this[_0x4440b0(0x5a1)]=async _0x4a2d46=>{const _0x21b435=_0x4440b0;if(_0x4a2d46[_0x21b435(0x517)]?.[_0x21b435(0x753)]){let _0x3715cf=await this['getMessage'](_0x4a2d46[_0x21b435(0x517)][_0x21b435(0x753)][_0x21b435(0x2a0)],!0x0);if(_0x3715cf){let _0x48d13f=_0x3715cf['key'][_0x21b435(0x7ac)]?this[_0x21b435(0x1c1)][_0x21b435(0x2db)]+'@s.whatsapp.net':_0x3715cf['key'][_0x21b435(0x43c)]||_0x3715cf[_0x21b435(0x786)][_0x21b435(0x3e5)],_0x13b29d=_0x3715cf[_0x21b435(0x786)]['id'],_0x291c6e=_0x3715cf['message'],_0x13beb1=Buffer[_0x21b435(0x1d1)](_0x291c6e[_0x21b435(0x5f0)][_0x21b435(0x392)][_0x21b435(0x897)](_0x21b435(0x83f)),_0x21b435(0x83f)),_0x4dde00=(0x0,w[_0x21b435(0x227)])(_0x4a2d46[_0x21b435(0x517)][_0x21b435(0x753)][_0x21b435(0x4e9)],{'pollCreatorJid':_0x48d13f,'pollMsgId':_0x13b29d,'pollEncKey':_0x13beb1,'voterJid':_0x4a2d46[_0x21b435(0x786)]['fromMe']?this['instance']['wuid']+_0x21b435(0x7c9):_0x4a2d46['key'][_0x21b435(0x3e5)][_0x21b435(0x80c)](_0x21b435(0x605))?_0x4a2d46[_0x21b435(0x786)][_0x21b435(0x43c)]:_0x4a2d46[_0x21b435(0x786)][_0x21b435(0x3e5)]}),_0x152815=[],_0x4c61e9=_0x4dde00[_0x21b435(0x505)]['map'](_0x16380d=>Buffer['from'](_0x16380d)[_0x21b435(0x897)](_0x21b435(0x83f)));for(let {optionName:_0x442154}of _0x291c6e[_0x21b435(0x55c)]?.[_0x21b435(0x8c6)]||_0x291c6e[_0x21b435(0x4d7)]?.[_0x21b435(0x8c6)]||_0x291c6e[_0x21b435(0x4da)]?.[_0x21b435(0x8c6)])_0x4c61e9[_0x21b435(0x312)]((0x0,w[_0x21b435(0x396)])(Buffer[_0x21b435(0x1d1)](_0x442154))[_0x21b435(0x897)]('hex'))>-0x1&&_0x152815[_0x21b435(0x7e2)](_0x442154);return _0x152815;}}return null;},this[_0x4440b0(0x2b8)]=(_0x5daffc,_0x4d0279,_0x4ef66e)=>{const _0x4a51ca=_0x4440b0;try{let _0x522ba2=_0x5daffc?(0x0,w[_0x4a51ca(0x226)])(_0x5daffc)[_0x4d0279]:void 0x0,_0x280381={},_0x355a0b=null,_0xec2e57=null,_0x40dbb5=null;_0x4d0279===_0x4a51ca(0x3dd)&&_0x522ba2?.[_0x4a51ca(0x8d6)]&&(_0x4d0279=(0x0,w[_0x4a51ca(0x59a)])(_0x522ba2['editedMessage']),_0x355a0b=_0x5daffc['protocolMessage'][_0x4a51ca(0x786)]['id'],_0x522ba2=_0x5daffc[_0x4a51ca(0x3dd)][_0x4a51ca(0x8d6)][_0x4d0279]),_0x5daffc[_0x4d0279]?.['contextInfo']?.[_0x4a51ca(0x444)]&&_0x5daffc[_0x4d0279]?.[_0x4a51ca(0x6b2)]?.['quotedMessage']&&(_0xec2e57=_0x5daffc[_0x4d0279][_0x4a51ca(0x6b2)][_0x4a51ca(0x444)]),_0x5daffc['reactionMessage']&&(_0x40dbb5=_0x5daffc[_0x4a51ca(0x761)][_0x4a51ca(0x786)]['id']);let _0x2429bd;if(_0x522ba2&&typeof _0x522ba2==_0x4a51ca(0x4d6)&&_0x4a51ca(0x2a0)in _0x522ba2&&({pollCreationMessageKey:_0x2429bd}=_0x522ba2),_0x4d0279===_0x4a51ca(0x55c)||_0x4d0279===_0x4a51ca(0x4da)||_0x4d0279==='pollCreationMessageV3'){let _0xabd9c7=_0x522ba2[_0x4a51ca(0x8c6)][_0x4a51ca(0x79d)](_0x14556c=>_0x14556c[_0x4a51ca(0x830)])[_0x4a51ca(0x481)]('|');_0x280381[_0x4a51ca(0x541)]=_0xabd9c7;}let _0x5d4bd5='';if(_0x522ba2&&(_0x5d4bd5+=_0x522ba2[_0x4a51ca(0x5cf)]?_0x522ba2[_0x4a51ca(0x5cf)]:'',_0x5d4bd5+=_0x522ba2['caption']?'\x20'+_0x522ba2[_0x4a51ca(0x65d)]:'',_0x5d4bd5+=_0x522ba2[_0x4a51ca(0x2e7)]?'\x20'+_0x522ba2[_0x4a51ca(0x2e7)]:'',_0x5d4bd5+=_0x522ba2[_0x4a51ca(0x5e2)]?'\x20'+_0x522ba2[_0x4a51ca(0x5e2)]:''),_0x4d0279==='listMessage'){_0x5d4bd5=(_0x522ba2[_0x4a51ca(0x642)]||'')+'\x0a'+(_0x522ba2['description']||'')+'\x0a'+(_0x522ba2[_0x4a51ca(0x836)]||'');let _0x6ad80=this[_0x4a51ca(0x2b6)](_0x522ba2[_0x4a51ca(0x89f)]);_0x280381['convertedOptions']=_0x6ad80;}if(_0x4d0279===_0x4a51ca(0x69e)&&(_0x4ef66e=_0x522ba2[_0x4a51ca(0x642)]),_0x522ba2&&_0x522ba2[_0x4a51ca(0x510)]){let _0x27eba2=this[_0x4a51ca(0x1da)](JSON[_0x4a51ca(0x289)](_0x522ba2['vcard'],null,0x2));_0x5d4bd5=_0x5d4bd5+'\x0a'+_0x27eba2;}if(_0x522ba2){let {sections:_0x451920,listType:_0x70b628,displayName:_0x404535,vcard:_0x58001f,contactVcard:_0x1088ec,name:_0x462a2d,caption:_0x36d08a,conversation:_0x28846d,pollCreationMessageKey:_0x5f1d7d,footerText:_0x25bf86,contentText:_0x555f4e,pageCount:_0x237ef9,headerType:_0x300499,isAvatar:_0x46321f,isAnimated:_0x2d4462,fallbackLc:_0x5f4011,fallbackLg:_0x588911,namespace:_0x3c3f0b,elementName:_0x4ef405,localizableParams:_0x1a47fc,viewOnce:_0x624a08,height:_0x1c63c8,width:_0xc10925,key:_0x8ea4e2,firstScanLength:_0x242e10,firstScanSidecar:_0x89471,gifPlayback:_0x35f23a,gifAttribution:_0x963c05,midQualityFileSha256:_0xd074a3,scansSidecar:_0x3de5ad,streamingSidecar:_0x1e4add,thumbnailHeight:_0x2dee3a,thumbnailWidth:_0x588afd,thumbnailEncSha256:_0x225cb5,thumbnailDirectPath:_0x5b2734,canonicalUrl:_0x2fd5b2,matchedText:_0xe7286,previewType:_0x48efa9,thumbnailSha256:_0x251f30,deviceListMetadataVersion:_0x2699e2,inviteLinkGroupTypeV2:_0x566a37,interactiveAnnotations:_0x4ac113,scanLengths:_0x47a6d6,jpegThumbnail:_0x4814fb,url:_0x57ee27,mediaKeyTimestamp:_0x49242d,waveform:_0x3a50e3,stickerSentTs:_0x22d4cb,firstFrameLength:_0x300f94,fileEncSha256:_0x2501b8,contextInfo:_0xe1a512,firstFrameSidecar:_0x32b127,directPath:_0x28078f,fileSha256:_0x16a56b,mediaKey:_0x20a9b6,senderTimestampMs:_0x36487b,..._0x21d7f5}=_0x522ba2;(_0x4d0279===_0x4a51ca(0x302)||_0x4d0279===_0x4a51ca(0x69e))&&(delete _0x21d7f5[_0x4a51ca(0x642)],delete _0x21d7f5['description']),typeof _0x522ba2==_0x4a51ca(0x18a)?_0x280381={'text':_0x522ba2,'type':_0x4d0279||_0x4a51ca(0x2e7),..._0x355a0b&&{'edited':_0x355a0b},..._0xec2e57&&{'quoted':_0xec2e57},..._0x40dbb5&&{'reaction':_0x40dbb5}}:_0x280381={'text':_0x5d4bd5,..._0x21d7f5,..._0x4d0279===_0x4a51ca(0x753)?{'poll_id':_0x522ba2[_0x4a51ca(0x2a0)]['id'],'quoted':_0x522ba2[_0x4a51ca(0x2a0)]['id'],'vote':_0x4ef66e}:{},..._0x4d0279===_0x4a51ca(0x69e)?{'vote':_0x4ef66e}:{},'type':_0x4d0279,..._0x355a0b&&{'edited':_0x355a0b},..._0xec2e57&&{'quoted':_0xec2e57},..._0x40dbb5&&{'reaction':_0x40dbb5},...(_0x4d0279==='pollCreationMessage'||_0x4d0279===_0x4a51ca(0x4da)||_0x4d0279==='pollCreationMessageV3'||_0x4d0279===_0x4a51ca(0x302))&&{'convertedOptions':_0x280381[_0x4a51ca(0x541)]}};}return{'messageType':_0x4d0279,'messageContent':_0x522ba2,'message_normalized':_0x280381};}catch(_0x27fd58){return this[_0x4a51ca(0x83b)][_0x4a51ca(0x2c1)](_0x4a51ca(0x29f)+_0x27fd58),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['nextMessageId']=null,this[_0x4440b0(0x536)]=null,(this[_0x4440b0(0x5d6)](),this[_0x4440b0(0x1c1)][_0x4440b0(0x4c2)]={'count':0x0},this[_0x4440b0(0x1c1)][_0x4440b0(0x293)]={'isConnected':!0x1,'delayMessage':null,'processingGroup_id':null,'lastSend':0x0,'timeout':null,'lastMessage_id':null});}set[a0_0x4cdcbe(0x181)](_0x1b54fa){const _0x50ccd5=a0_0x4cdcbe;if(!_0x1b54fa){this[_0x50ccd5(0x1c1)][_0x50ccd5(0x5cf)]=(0x0,_i['v4'])();return;}this[_0x50ccd5(0x1c1)][_0x50ccd5(0x5cf)]=_0x1b54fa,this[_0x50ccd5(0x1a9)](_0x50ccd5(0x463),{'instance':this[_0x50ccd5(0x1c1)][_0x50ccd5(0x5cf)],'status':'created'});}get[a0_0x4cdcbe(0x181)](){const _0x449e9c=a0_0x4cdcbe;return this[_0x449e9c(0x1c1)][_0x449e9c(0x5cf)];}get[a0_0x4cdcbe(0x2db)](){const _0x9e3007=a0_0x4cdcbe;return this[_0x9e3007(0x1c1)]['wuid'];}async[a0_0x4cdcbe(0x70e)](){const _0x465580=a0_0x4cdcbe;let _0x1d5196=this[_0x465580(0x811)]['user']?.['name']??this[_0x465580(0x811)]['user']?.['verifiedName'];if(!_0x1d5196){if(this[_0x465580(0x5fa)][_0x465580(0x2df)](_0x465580(0x3e1))[_0x465580(0x8dc)]){let _0x57ad67=await R[_0x465580(0x858)]()['db'](this['configService'][_0x465580(0x2df)](_0x465580(0x3e1))[_0x465580(0x21a)]['DB_PREFIX_NAME']+'-instances')[_0x465580(0x58c)](this[_0x465580(0x181)])[_0x465580(0x324)]({'_id':'creds'});if(_0x57ad67){let _0x5a9402=JSON['parse'](JSON['stringify'](_0x57ad67),w[_0x465580(0x41f)][_0x465580(0x6d7)]);_0x1d5196=_0x5a9402['me']?.[_0x465580(0x5cf)]||_0x5a9402['me']?.[_0x465580(0x6ae)];}}else{if((0x0,Le[_0x465580(0x864)])((0x0,j[_0x465580(0x481)])(Se,this[_0x465580(0x181)],_0x465580(0x7bf)))){let _0x24fdce=JSON['parse']((0x0,Le[_0x465580(0x43a)])((0x0,j[_0x465580(0x481)])(Se,this['instanceName'],_0x465580(0x7bf)),{'encoding':_0x465580(0x3cd)}));_0x1d5196=_0x24fdce['me']?.['name']||_0x24fdce['me']?.[_0x465580(0x6ae)];}}}return _0x1d5196;}get[a0_0x4cdcbe(0x3ce)](){return this['instance']['profilePictureUrl'];}get[a0_0x4cdcbe(0x5b7)](){const _0x517ef0=a0_0x4cdcbe;return this['instance'][_0x517ef0(0x4c2)]?.[_0x517ef0(0x8c0)]?{'pairingCode':this[_0x517ef0(0x1c1)][_0x517ef0(0x4c2)]?.[_0x517ef0(0x8c0)]}:{'code':this[_0x517ef0(0x1c1)][_0x517ef0(0x4c2)]?.[_0x517ef0(0x71b)],'base64':this['instance'][_0x517ef0(0x4c2)]?.[_0x517ef0(0x1ca)]};}async[a0_0x4cdcbe(0x6d6)](){const _0x20d672=a0_0x4cdcbe;let _0xa52cb0=await this[_0x20d672(0x671)][_0x20d672(0x2b0)][_0x20d672(0x521)](this['instanceName']);this['localWebhook'][_0x20d672(0x6c6)]=_0xa52cb0?.[_0x20d672(0x6c6)],this[_0x20d672(0x70c)][_0x20d672(0x5c7)]=_0xa52cb0?.[_0x20d672(0x5c7)],this[_0x20d672(0x70c)]['local_map']=_0xa52cb0?.[_0x20d672(0x31d)],this[_0x20d672(0x70c)]['STATUS_INSTANCE']=_0xa52cb0?.['STATUS_INSTANCE'],this[_0x20d672(0x70c)][_0x20d672(0x1de)]=_0xa52cb0?.[_0x20d672(0x1de)],this[_0x20d672(0x70c)]['SEND_MESSAGE']=_0xa52cb0?.[_0x20d672(0x79c)],this[_0x20d672(0x70c)][_0x20d672(0x33f)]=_0xa52cb0?.[_0x20d672(0x33f)],this[_0x20d672(0x70c)]['MESSAGES_UPDATE']=_0xa52cb0?.[_0x20d672(0x1b2)],this[_0x20d672(0x70c)][_0x20d672(0x24f)]=_0xa52cb0?.[_0x20d672(0x24f)],this[_0x20d672(0x70c)][_0x20d672(0x3a7)]=_0xa52cb0?.[_0x20d672(0x3a7)],this['localWebhook'][_0x20d672(0x723)]=_0xa52cb0?.[_0x20d672(0x723)],this[_0x20d672(0x70c)][_0x20d672(0x82d)]=_0xa52cb0?.[_0x20d672(0x82d)],this[_0x20d672(0x70c)][_0x20d672(0x740)]=_0xa52cb0?.[_0x20d672(0x740)],this[_0x20d672(0x70c)][_0x20d672(0x7f6)]=_0xa52cb0?.[_0x20d672(0x7f6)],this[_0x20d672(0x70c)][_0x20d672(0x62e)]=_0xa52cb0?.[_0x20d672(0x62e)],this[_0x20d672(0x70c)][_0x20d672(0x748)]=_0xa52cb0?.[_0x20d672(0x748)],this['localWebhook'][_0x20d672(0x6f6)]=_0xa52cb0?.[_0x20d672(0x6f6)],this[_0x20d672(0x70c)][_0x20d672(0x274)]=_0xa52cb0?.['CONTACTS_UPDATE'],this['localWebhook']['PRESENCE_UPDATE']=_0xa52cb0?.[_0x20d672(0x2ff)],this[_0x20d672(0x70c)][_0x20d672(0x74d)]=_0xa52cb0?.['MESSAGES_SET'],this[_0x20d672(0x70c)][_0x20d672(0x88f)]=_0xa52cb0?.[_0x20d672(0x88f)],this['localWebhook'][_0x20d672(0x775)]=_0xa52cb0?.[_0x20d672(0x775)];}async['setWebhook'](_0x2af21f){const _0x4ba75d=a0_0x4cdcbe;let _0x2b460b=[_0x4ba75d(0x42f),_0x4ba75d(0x6c6),_0x4ba75d(0x5c7),_0x4ba75d(0x31d),'STATUS_INSTANCE',_0x4ba75d(0x1de),_0x4ba75d(0x1b2),_0x4ba75d(0x33f),_0x4ba75d(0x79c),_0x4ba75d(0x24f),_0x4ba75d(0x3a7),_0x4ba75d(0x723),_0x4ba75d(0x82d),_0x4ba75d(0x740),'CHATS_UPDATE',_0x4ba75d(0x62e),_0x4ba75d(0x748),_0x4ba75d(0x6f6),'CONTACTS_UPDATE','PRESENCE_UPDATE',_0x4ba75d(0x74d),_0x4ba75d(0x88f),'groups_ignore'],_0x441f32={};return _0x2b460b['forEach'](_0x267e14=>{_0x2af21f[_0x267e14]!==void 0x0&&(_0x441f32[_0x267e14]=_0x2af21f[_0x267e14]);}),_0x441f32[_0x4ba75d(0x6c6)]&&(_0x441f32[_0x4ba75d(0x6c6)]=_0x441f32[_0x4ba75d(0x6c6)][_0x4ba75d(0x360)]()),await this['repository'][_0x4ba75d(0x2b0)][_0x4ba75d(0x22a)](_0x441f32,this['instanceName']),Object[_0x4ba75d(0x4dc)](this[_0x4ba75d(0x70c)],_0x441f32),await this[_0x4ba75d(0x671)][_0x4ba75d(0x2b0)]['find'](this['instanceName']);}async['findWebhook'](){const _0x41d32e=a0_0x4cdcbe;return await this[_0x41d32e(0x671)][_0x41d32e(0x2b0)][_0x41d32e(0x521)](this[_0x41d32e(0x181)]);}async[a0_0x4cdcbe(0x1a9)](_0x3f0483,_0x322b5a){const _0x5dbb41=a0_0x4cdcbe;let _0x1f6b11=_0x3f0483[_0x5dbb41(0x1a6)](/[\.-]/gm,'_')['toUpperCase'](),_0x22d0ca=this[_0x5dbb41(0x70c)][_0x5dbb41(0x5c7)]&&(0x0,L['isURL'])(this['localWebhook'][_0x5dbb41(0x6c6)])?this[_0x5dbb41(0x70c)][_0x5dbb41(0x6c6)]+(this[_0x5dbb41(0x70c)][_0x5dbb41(0x31d)]?this[_0x5dbb41(0x495)][_0x3f0483]:''):null,_0x44eac1=this[_0x5dbb41(0x70c)][_0x1f6b11],_0x54d8f4=me&&me[_0x5dbb41(0x5c7)]&&(0x0,L['isURL'])(me['url'])?me[_0x5dbb41(0x6c6)]+(me[_0x5dbb41(0x31d)]?this[_0x5dbb41(0x495)][_0x3f0483]:''):null,_0x3f69bd=me?me[_0x1f6b11]:null;if(_0x44eac1&&_0x22d0ca)try{await ee[_0x5dbb41(0x669)][_0x5dbb41(0x22a)]({'baseURL':_0x22d0ca})[_0x5dbb41(0x876)]('',{'event':_0x3f0483,'instance':this[_0x5dbb41(0x1c1)][_0x5dbb41(0x5cf)],'apikey':this[_0x5dbb41(0x1c1)][_0x5dbb41(0x347)],'data':_0x322b5a}),this[_0x5dbb41(0x83b)][_0x5dbb41(0x65b)](this[_0x5dbb41(0x181)]+'\x20('+this[_0x5dbb41(0x1c1)]['wuid']+_0x5dbb41(0x2eb)+_0x3f0483+':\x20'+_0x22d0ca);}catch{this[_0x5dbb41(0x83b)]['error'](this[_0x5dbb41(0x181)]+'\x20('+this[_0x5dbb41(0x1c1)]['wuid']+_0x5dbb41(0x49d)+_0x3f0483+':\x20'+_0x22d0ca);}if(_0x3f69bd&&_0x54d8f4)try{await ee[_0x5dbb41(0x669)][_0x5dbb41(0x22a)]({'baseURL':_0x54d8f4})[_0x5dbb41(0x876)]('',{'event':_0x3f0483,'instance':this['instance'][_0x5dbb41(0x5cf)],'apikey':this[_0x5dbb41(0x1c1)][_0x5dbb41(0x347)],'data':_0x322b5a}),this[_0x5dbb41(0x83b)][_0x5dbb41(0x65b)](this[_0x5dbb41(0x181)]+'\x20('+this['instance']['wuid']+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x3f0483+':\x20'+_0x54d8f4);}catch{this[_0x5dbb41(0x83b)][_0x5dbb41(0x2c1)](this[_0x5dbb41(0x181)]+'\x20('+this[_0x5dbb41(0x1c1)][_0x5dbb41(0x2db)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x3f0483+':\x20'+_0x54d8f4);}}async[a0_0x4cdcbe(0x325)]({qr:_0xab0275,connection:_0x5d9dcf,lastDisconnect:_0x47e17f,receivedPendingNotifications:_0x10437a}){const _0xa09f31=a0_0x4cdcbe;if(_0xab0275){if(this[_0xa09f31(0x1c1)][_0xa09f31(0x4c2)][_0xa09f31(0x612)]===Lo)return this['sendDataWebhook'](_0xa09f31(0x686),{'message':_0xa09f31(0x460),'statusCode':w['DisconnectReason']['badSession']}),this[_0xa09f31(0x37e)]={'state':'refused','statusReason':w[_0xa09f31(0x5f6)][_0xa09f31(0x3a5)]},this['sendDataWebhook'](_0xa09f31(0x705),{'instance':this[_0xa09f31(0x1c1)][_0xa09f31(0x5cf)],...this[_0xa09f31(0x37e)]}),this[_0xa09f31(0x1a9)](_0xa09f31(0x463),{'instance':this[_0xa09f31(0x1c1)]['name'],'status':_0xa09f31(0x53a)}),this[_0xa09f31(0x671)][_0xa09f31(0x5f4)]['delete'](this[_0xa09f31(0x1c1)][_0xa09f31(0x5cf)]),this['endSession']=!0x0,re['removeIPv6ById'](K,this['instance'][_0xa09f31(0x5cf)]),this[_0xa09f31(0x230)][_0xa09f31(0x202)](_0xa09f31(0x44a),this[_0xa09f31(0x1c1)]['name']);this[_0xa09f31(0x1c1)]['qrcode'][_0xa09f31(0x612)]++;let _0x3d6c94={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0xa09f31(0x381),'dark':_0xa09f31(0x6e5)}};Oi[_0xa09f31(0x669)]['toDataURL'](_0xab0275,_0x3d6c94,(_0x68224c,_0xac846c)=>{const _0x24e391=_0xa09f31;if(_0x68224c){this[_0x24e391(0x83b)][_0x24e391(0x2c1)](this[_0x24e391(0x181)]+'\x20('+this['instance'][_0x24e391(0x2db)]+_0x24e391(0x3b5)+(_0x68224c instanceof Error?_0x68224c['message']:JSON[_0x24e391(0x289)](_0x68224c,null,0x2)));return;}this[_0x24e391(0x1c1)][_0x24e391(0x4c2)]['base64']=_0xac846c,this[_0x24e391(0x1c1)][_0x24e391(0x4c2)][_0x24e391(0x71b)]=_0xab0275,!this[_0x24e391(0x378)]&&this[_0x24e391(0x1a9)](_0x24e391(0x686),{'qrcode':{'instance':this[_0x24e391(0x1c1)][_0x24e391(0x5cf)],'pairingCode':this[_0x24e391(0x1c1)][_0x24e391(0x4c2)]['pairingCode'],'code':_0xab0275,'base64':_0xac846c}});}),this['phoneNumber']?this[_0xa09f31(0x1c1)][_0xa09f31(0x4c2)][_0xa09f31(0x8c0)]||(await(0x0,w[_0xa09f31(0x25a)])(0x7d0),this[_0xa09f31(0x1c1)]['qrcode'][_0xa09f31(0x8c0)]=await this['client']['requestPairingCode'](this[_0xa09f31(0x378)])):this[_0xa09f31(0x1c1)][_0xa09f31(0x4c2)]['pairingCode']=null,xi[_0xa09f31(0x669)][_0xa09f31(0x4b8)](_0xab0275,{'small':!0x0},_0x16171c=>this[_0xa09f31(0x83b)]['log'](_0xa09f31(0x628)+this['instance'][_0xa09f31(0x5cf)]+_0xa09f31(0x600)+this[_0xa09f31(0x1c1)][_0xa09f31(0x4c2)][_0xa09f31(0x612)]+',\x20pairCode:\x20'+this['instance']['qrcode'][_0xa09f31(0x8c0)]+'\x20}\x0a'+_0x16171c));}if(_0x5d9dcf&&(this[_0xa09f31(0x37e)]={'state':_0x5d9dcf,'statusReason':_0x47e17f?.[_0xa09f31(0x2c1)]?.[_0xa09f31(0x225)]?.[_0xa09f31(0x242)]??0xc8},this[_0xa09f31(0x1a9)](_0xa09f31(0x705),{'instance':this[_0xa09f31(0x1c1)][_0xa09f31(0x5cf)],...this['stateConnection']})),_0x5d9dcf==='close'){if(this[_0xa09f31(0x7a4)]++,this[_0xa09f31(0x679)]['push'](Date['now']()),this[_0xa09f31(0x679)]=this[_0xa09f31(0x679)][_0xa09f31(0x58d)](_0x428d3e=>Date[_0xa09f31(0x472)]()-_0x428d3e<this[_0xa09f31(0x48a)]),_0x47e17f[_0xa09f31(0x2c1)]?.['output']?.['statusCode']!==w[_0xa09f31(0x5f6)][_0xa09f31(0x592)]){let _0x1afed2=this['reconnectAttempts']<=0x1?0x0:Math[_0xa09f31(0x2cd)](Math[_0xa09f31(0x645)](0x2,this[_0xa09f31(0x7a4)]-0x1)*0x3e8,0x493e0);console[_0xa09f31(0x65b)](this[_0xa09f31(0x181)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0xa09f31(0x7a4)]+'.\x20Aguardando\x20'+_0x1afed2/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x268d57=>setTimeout(_0x268d57,_0x1afed2)),console['log']('Tentando\x20reconectar...'),await this[_0xa09f31(0x3df)]();}else{this[_0xa09f31(0x1a9)](_0xa09f31(0x463),{'instance':this['instance']['name'],'status':_0xa09f31(0x53a)}),this[_0xa09f31(0x1c1)]['ScheduleMessage'][_0xa09f31(0x23f)]=!0x1,this['repository'][_0xa09f31(0x2b0)]['delete'](this[_0xa09f31(0x181)]),this[_0xa09f31(0x671)][_0xa09f31(0x5f4)][_0xa09f31(0x22a)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0xa09f31(0x472)]()},this[_0xa09f31(0x1c1)][_0xa09f31(0x5cf)]),re[_0xa09f31(0x5bc)](K,this[_0xa09f31(0x1c1)][_0xa09f31(0x5cf)]);try{this[_0xa09f31(0x83b)]['verbose'](this[_0xa09f31(0x181)]+'\x20('+this[_0xa09f31(0x1c1)][_0xa09f31(0x2db)]+_0xa09f31(0x5fd));let _0x46926e=await this[_0xa09f31(0x671)][_0xa09f31(0x517)]['deleteAll'](this[_0xa09f31(0x1c1)][_0xa09f31(0x2db)]);_0x46926e[_0xa09f31(0x3bb)]?this[_0xa09f31(0x83b)][_0xa09f31(0x29b)](this[_0xa09f31(0x181)]+'\x20('+this[_0xa09f31(0x1c1)][_0xa09f31(0x2db)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):this['logger'][_0xa09f31(0x2c1)](_0xa09f31(0x29c)+_0x46926e[_0xa09f31(0x2c1)]);}catch(_0x20dbe7){this[_0xa09f31(0x83b)][_0xa09f31(0x2c1)](_0xa09f31(0x68d)+_0x20dbe7['message']);}this['instance'][_0xa09f31(0x293)][_0xa09f31(0x89b)]!==null&&(this['logger'][_0xa09f31(0x29b)](this[_0xa09f31(0x181)]+'\x20('+this['instance'][_0xa09f31(0x2db)]+_0xa09f31(0x6b6)),clearInterval(this[_0xa09f31(0x1c1)][_0xa09f31(0x293)][_0xa09f31(0x89b)]),this[_0xa09f31(0x1c1)]['ScheduleMessage']['delayMessage']=null),this[_0xa09f31(0x83b)][_0xa09f31(0x29b)](this[_0xa09f31(0x181)]+'\x20('+this['instance'][_0xa09f31(0x2db)]+_0xa09f31(0x373)),this[_0xa09f31(0x598)]=null,this[_0xa09f31(0x230)][_0xa09f31(0x202)]('remove.instance',this[_0xa09f31(0x1c1)][_0xa09f31(0x5cf)],_0xa09f31(0x22d)),this['client']?.['ws']?.['close'](),this[_0xa09f31(0x811)]['end'](new Error(_0xa09f31(0x1ac)));}}if(_0x5d9dcf==='open'){this['logger'][_0xa09f31(0x3bc)](this[_0xa09f31(0x181)]+'\x20('+this[_0xa09f31(0x1c1)][_0xa09f31(0x2db)]+_0xa09f31(0x345)+this[_0xa09f31(0x811)]['authState']['creds']?.[_0xa09f31(0x577)]),this[_0xa09f31(0x811)][_0xa09f31(0x279)]['creds']?.[_0xa09f31(0x577)]||(this[_0xa09f31(0x83b)][_0xa09f31(0x3bc)](this[_0xa09f31(0x181)]+'\x20('+this[_0xa09f31(0x1c1)][_0xa09f31(0x2db)]+_0xa09f31(0x7fc)),this[_0xa09f31(0x811)]['ev'][_0xa09f31(0x19a)]()),this[_0xa09f31(0x1f9)],this[_0xa09f31(0x1c1)][_0xa09f31(0x2db)]=this[_0xa09f31(0x811)]['user']['id'][_0xa09f31(0x1a6)](/:\d+/,'')['replace'](_0xa09f31(0x7c9),''),this['instance']['profilePictureUrl']=(await this[_0xa09f31(0x5a0)](this[_0xa09f31(0x1c1)][_0xa09f31(0x2db)]+'@s.whatsapp.net'))[_0xa09f31(0x3ce)],this[_0xa09f31(0x671)][_0xa09f31(0x5f4)]['create']({'online':!0x0,'owner':this[_0xa09f31(0x1c1)][_0xa09f31(0x2db)],'lastDisconnect':null},this[_0xa09f31(0x1c1)]['name']);let _0x176f4e='Número:\x20'+this[_0xa09f31(0x1c1)][_0xa09f31(0x2db)],_0x49034c=0x28,_0x41a451=Math[_0xa09f31(0x81b)]((_0x49034c-_0x176f4e[_0xa09f31(0x59d)])/0x2),_0x11957e='\x20'[_0xa09f31(0x2ee)](_0x41a451),_0x29a881=_0xa09f31(0x47d),_0xe6c39f=_0xa09f31(0x77d)+this[_0xa09f31(0x1c1)][_0xa09f31(0x5cf)],_0x355c98=(''+_0x11957e+_0x176f4e+_0x11957e)['padEnd'](_0x49034c,'\x20'),_0x58bb13=(''+_0x11957e+_0x29a881+_0x11957e)[_0xa09f31(0x5e9)](_0x49034c,'\x20'),_0x37497c=(''+_0x11957e+_0xe6c39f+_0x11957e)[_0xa09f31(0x5e9)](_0x49034c,'\x20'),_0x276624=Math['max'](_0x355c98[_0xa09f31(0x59d)],_0x58bb13[_0xa09f31(0x59d)],_0x37497c[_0xa09f31(0x59d)]),_0x5120c6=_0x355c98[_0xa09f31(0x5e9)](_0x276624,'\x20'),_0x5b8bab=_0x58bb13[_0xa09f31(0x5e9)](_0x276624,'\x20'),_0x551bce=_0x37497c['padEnd'](_0x276624,'\x20');this[_0xa09f31(0x83b)][_0xa09f31(0x71f)]((_0xa09f31(0x7cd)+'─'[_0xa09f31(0x2ee)](_0x276624)+_0xa09f31(0x387)+_0x5b8bab+_0xa09f31(0x393)+_0x551bce+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x5120c6+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0xa09f31(0x2ee)](_0x276624)+'┘')[_0xa09f31(0x1a6)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this['instance'][_0xa09f31(0x293)][_0xa09f31(0x23f)]=!0x0;}}['resetReconnectionVariables'](){const _0x4c49d3=a0_0x4cdcbe;this[_0x4c49d3(0x7a4)]=0x0,this['reconnectTimestamps']=[];}async['getMessage'](_0x6e253c,_0x9a3ae6=!0x1){const _0x27b526=a0_0x4cdcbe;try{let _0x43dd2f=await this[_0x27b526(0x671)]['message']['find']({'where':{'_id':_0x6e253c['id']}},this['instance'][_0x27b526(0x2db)]);return _0x9a3ae6?_0x43dd2f[0x0]:_0x43dd2f[0x0][_0x27b526(0x517)];}catch{return{'conversation':''};}}[a0_0x4cdcbe(0x5d6)](){const _0x2540e2=a0_0x4cdcbe;let _0x16ffb0=this[_0x2540e2(0x5fa)][_0x2540e2(0x2df)](_0x2540e2(0x448)),_0xab3938=this[_0x2540e2(0x5fa)][_0x2540e2(0x2df)]('DATABASE');_0x16ffb0?.[_0x2540e2(0x86d)]&&!_0xab3938['ENABLED']&&setInterval(()=>{const _0x381fc6=_0x2540e2;try{for(let [_0x405b2b,_0x5d20da]of Object[_0x381fc6(0x659)](_0x16ffb0))_0x5d20da===!0x0&&(0x0,Fe[_0x381fc6(0x880)])(_0x381fc6(0x697)+(0x0,j['join'])(this['storePath'],_0x405b2b[_0x381fc6(0x804)](),this[_0x381fc6(0x1c1)][_0x381fc6(0x2db)])+_0x381fc6(0x773));}catch{}},(_0x16ffb0?.[_0x2540e2(0x86d)]??0xe10)*0x3e8);}async[a0_0x4cdcbe(0x6c5)](){const _0x30affb=a0_0x4cdcbe;let _0x23601a=this[_0x30affb(0x5fa)][_0x30affb(0x2df)](_0x30affb(0x3e1)),_0x2ac4b6=this[_0x30affb(0x5fa)][_0x30affb(0x2df)](_0x30affb(0x48d));return _0x2ac4b6?.['ENABLED']?await Os(_0x2ac4b6,this[_0x30affb(0x1c1)][_0x30affb(0x5cf)]):_0x23601a['ENABLED']?await _s(this['instance'][_0x30affb(0x5cf)]):await(0x0,w[_0x30affb(0x219)])((0x0,j[_0x30affb(0x481)])(Se,this[_0x30affb(0x1c1)][_0x30affb(0x5cf)]));}async['AutomateFunctions'](){const _0x2d1427=a0_0x4cdcbe;let _0x459852=()=>Math['floor'](Math[_0x2d1427(0x4c0)]()*0x4e21)+0x7d0,_0x1d45a5=async()=>{const _0x497517=_0x2d1427;if(!this[_0x497517(0x1c1)][_0x497517(0x293)][_0x497517(0x23f)]){this[_0x497517(0x83b)][_0x497517(0x29b)](this['instanceName']+'\x20('+this[_0x497517(0x1c1)][_0x497517(0x2db)]+'):Desconectado,\x20parando\x20execução.'),this[_0x497517(0x827)]=!0x1;return;}if(this[_0x497517(0x1c1)][_0x497517(0x2db)]&&this[_0x497517(0x598)]&&this[_0x497517(0x1c1)]['ScheduleMessage'][_0x497517(0x89b)]!==null&&this[_0x497517(0x1c1)][_0x497517(0x293)][_0x497517(0x89b)]!==void 0x0){let _0x303871=Math[_0x497517(0x300)](this[_0x497517(0x1c1)][_0x497517(0x293)]['delayMessage']/0xea60);this[_0x497517(0x83b)][_0x497517(0x29b)](this['instanceName']+'\x20('+this['instance'][_0x497517(0x2db)]+_0x497517(0x50d)+_0x303871+_0x497517(0x624)),this[_0x497517(0x827)]=!0x1;return;}else this[_0x497517(0x1c1)][_0x497517(0x2db)]&&(this[_0x497517(0x83b)]['verbose'](this[_0x497517(0x181)]+'\x20('+this[_0x497517(0x1c1)]['wuid']+_0x497517(0x40d)),this[_0x497517(0x598)]||(await this['getAutomateSystem'](),this[_0x497517(0x6ee)](),this[_0x497517(0x696)]()),(this[_0x497517(0x1c1)][_0x497517(0x293)][_0x497517(0x89b)]===null||this[_0x497517(0x1c1)][_0x497517(0x293)][_0x497517(0x89b)]===void 0x0)&&await this[_0x497517(0x39c)]());if(this[_0x497517(0x827)]){let _0x50bc28=_0x459852();this[_0x497517(0x83b)][_0x497517(0x29b)](this[_0x497517(0x181)]+_0x497517(0x879)+_0x50bc28/0x3e8+_0x497517(0x241)),setTimeout(_0x1d45a5,_0x50bc28);}};if(this['isRunning'])return;this[_0x2d1427(0x827)]=!0x0;let _0x36f163=_0x459852();setTimeout(_0x1d45a5,_0x36f163);}async[a0_0x4cdcbe(0x696)](){const _0x297843=a0_0x4cdcbe;let _0x59c4fa=this[_0x297843(0x1c1)]['wuid'];try{let _0x231326=await this[_0x297843(0x671)][_0x297843(0x357)][_0x297843(0x5ff)]({'where':{'$or':[{'owner':_0x59c4fa},{'whoCanUse':{'$in':[_0x59c4fa]}},{'shareOwners':{'$in':[_0x59c4fa]}}]}}),_0x3e61ca=new Map(this[_0x297843(0x598)]['flows'][_0x297843(0x79d)](_0x2b0fb0=>[_0x2b0fb0['_id'],_0x2b0fb0])),_0x3fea0a=_0x231326[_0x297843(0x79d)](_0x9e2420=>{const _0x64b54c=_0x297843;let _0x3483ac=_0x3e61ca[_0x64b54c(0x2df)](_0x9e2420[_0x64b54c(0x42f)]?.[_0x64b54c(0x897)]());return{'_id':_0x9e2420[_0x64b54c(0x42f)]?.['toString'](),'name':_0x3483ac?.[_0x64b54c(0x5cf)]??_0x9e2420[_0x64b54c(0x5cf)],'default':_0x3483ac?.[_0x64b54c(0x669)]??_0x9e2420[_0x64b54c(0x669)]??!0x1,'startCommand':_0x3483ac?.[_0x64b54c(0x8b1)]??_0x9e2420[_0x64b54c(0x4c9)],'minutesToClose':_0x3483ac?.[_0x64b54c(0x4d0)]??_0x9e2420[_0x64b54c(0x4d0)]??0xa,'readMessages':_0x3483ac?.[_0x64b54c(0x851)]??_0x9e2420[_0x64b54c(0x851)]??!0x1,'testingWith':_0x3483ac?.[_0x64b54c(0x503)]??_0x9e2420[_0x64b54c(0x503)],'canEdit':_0x9e2420[_0x64b54c(0x3c1)]===_0x59c4fa||(_0x9e2420[_0x64b54c(0x3f5)]??[])['includes'](_0x59c4fa),'usersCount':(_0x9e2420[_0x64b54c(0x62b)]??[])[_0x64b54c(0x59d)]??0x0};}),_0x2327ea=!0x1;_0x3fea0a[_0x297843(0x1d7)](_0x5b6662=>{const _0x132b27=_0x297843;_0x5b6662[_0x132b27(0x669)]&&(_0x2327ea?_0x5b6662['default']=!0x1:_0x2327ea=!0x0);}),this[_0x297843(0x598)][_0x297843(0x4e3)]=_0x3fea0a;let _0x314f9a={'flows':_0x3fea0a};return await this[_0x297843(0x671)][_0x297843(0x670)]['update'](_0x314f9a,_0x59c4fa),this['logger']['verbose'](this['instanceName']+'\x20('+_0x59c4fa+_0x297843(0x4b6)),_0x3fea0a[_0x297843(0x59d)];}catch(_0x1b0a1c){return this[_0x297843(0x83b)][_0x297843(0x2c1)](this[_0x297843(0x181)]+'\x20('+_0x59c4fa+_0x297843(0x587)+(_0x1b0a1c instanceof Error?_0x1b0a1c[_0x297843(0x517)]:JSON[_0x297843(0x289)](_0x1b0a1c,null,0x2))),{'message':_0x297843(0x401)+(_0x1b0a1c instanceof Error?_0x1b0a1c[_0x297843(0x517)]:JSON['stringify'](_0x1b0a1c,null,0x2))};}}async[a0_0x4cdcbe(0x3df)](_0x3886da){const _0x30dc94=a0_0x4cdcbe;try{let _0x4e3879=await this[_0x30dc94(0x671)]['instance']['findOne']({'where':{'_id':K+'-'+this[_0x30dc94(0x181)]}}),_0x509f75,_0x167c01=!re['ipv6Prefix']||!re[_0x30dc94(0x4ec)];console[_0x30dc94(0x65b)](_0x30dc94(0x76c)),console[_0x30dc94(0x65b)](_0x30dc94(0x25b),Ti),console['log']('this.reconnectAttempts:\x20',this[_0x30dc94(0x7a4)]),console[_0x30dc94(0x65b)]('--------------------------------------'),Ti&&!_0x167c01&&(this[_0x30dc94(0x7a4)]<0x4||!this[_0x30dc94(0x7a4)]?_0x4e3879&&_0x4e3879['ip']?(_0x509f75=_0x4e3879['ip'],console['log'](_0x30dc94(0x52e)+_0x509f75)):(_0x509f75=await re[_0x30dc94(0x79b)](K,this[_0x30dc94(0x1c1)]['name']),_0x509f75?(console[_0x30dc94(0x65b)](_0x30dc94(0x48f)+_0x509f75),await(0x0,w[_0x30dc94(0x25a)])(0x7d0)):console[_0x30dc94(0x2c1)](_0x30dc94(0x3e4))):this[_0x30dc94(0x7a4)]<0x6&&(await re[_0x30dc94(0x5bc)](K,this['instance'][_0x30dc94(0x5cf)]),console['log'](_0x30dc94(0x28b)),_0x509f75=await re[_0x30dc94(0x79b)](K,this[_0x30dc94(0x1c1)][_0x30dc94(0x5cf)]),_0x509f75?(console[_0x30dc94(0x65b)]('Novo\x20IP\x20criado:\x20'+_0x509f75),await(0x0,w['delay'])(0x7d0)):console[_0x30dc94(0x2c1)](_0x30dc94(0x515)))),this[_0x30dc94(0x6d6)](),this[_0x30dc94(0x1c1)][_0x30dc94(0x347)]=(await this[_0x30dc94(0x671)][_0x30dc94(0x5f4)][_0x30dc94(0x521)](this[_0x30dc94(0x1c1)][_0x30dc94(0x5cf)]))[_0x30dc94(0x347)],this['instance']['authState']=await this[_0x30dc94(0x6c5)]();let {version:_0x317ee8}=await(0x0,w[_0x30dc94(0x573)])(),_0x3d18c6=[Pi,Fs,(0x0,Ps['release'])()],_0x162107={'localAddress':_0x509f75,'auth':{'creds':this[_0x30dc94(0x1c1)][_0x30dc94(0x279)][_0x30dc94(0x5c6)][_0x30dc94(0x667)],'keys':(0x0,w[_0x30dc94(0x660)])(this[_0x30dc94(0x1c1)][_0x30dc94(0x279)][_0x30dc94(0x5c6)][_0x30dc94(0x684)],(0x0,Jt[_0x30dc94(0x669)])({'level':_0x30dc94(0x2c1)}))},'logger':(0x0,Jt['default'])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x3886da?[_0x30dc94(0x815),Fs,(0x0,Ps[_0x30dc94(0x708)])()]:_0x3d18c6,'version':_0x317ee8,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2d3343=>{const _0x2b3c3f=_0x30dc94;let _0x9d963b=this[_0x2b3c3f(0x70c)]?.[_0x2b3c3f(0x775)]&&(0x0,w[_0x2b3c3f(0x351)])(_0x2d3343);return(0x0,w['isJidBroadcast'])(_0x2d3343)||_0x9d963b;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x5a5be9=>await this[_0x30dc94(0x87f)](_0x5a5be9),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x30dc94(0x601)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x344c6a){const _0x3165fb=_0x30dc94;return _0x344c6a[_0x3165fb(0x6d4)]?.['message']?.[_0x3165fb(0x302)]?.['listType']===w[_0x3165fb(0x663)][_0x3165fb(0x6a7)][_0x3165fb(0x24b)][_0x3165fb(0x5f8)][_0x3165fb(0x806)]&&(_0x344c6a=JSON['parse'](JSON[_0x3165fb(0x289)](_0x344c6a)),_0x344c6a[_0x3165fb(0x6d4)][_0x3165fb(0x517)][_0x3165fb(0x302)][_0x3165fb(0x567)]=w['proto'][_0x3165fb(0x6a7)][_0x3165fb(0x24b)][_0x3165fb(0x5f8)][_0x3165fb(0x553)]),_0x344c6a[_0x3165fb(0x302)]?.['listType']==w[_0x3165fb(0x663)][_0x3165fb(0x6a7)][_0x3165fb(0x24b)][_0x3165fb(0x5f8)][_0x3165fb(0x806)]&&(_0x344c6a=JSON[_0x3165fb(0x1c7)](JSON[_0x3165fb(0x289)](_0x344c6a)),_0x344c6a[_0x3165fb(0x302)][_0x3165fb(0x567)]=w['proto']['Message'][_0x3165fb(0x24b)][_0x3165fb(0x5f8)][_0x3165fb(0x553)]),_0x344c6a;}};return this['endSession']=!0x1,this[_0x30dc94(0x811)]=(0x0,w[_0x30dc94(0x669)])(_0x162107),this['eventHandler'](),this[_0x30dc94(0x378)]=_0x3886da,this['client'];}catch(_0x43b894){let _0x566d1f=_0x30dc94(0x1a3),_0x49701c=_0x43b894 instanceof Error?_0x43b894['message']:typeof _0x43b894=='object'?JSON[_0x30dc94(0x289)](_0x43b894):_0x43b894,_0x3937ff=_0x566d1f+':\x20'+_0x49701c;throw this[_0x30dc94(0x83b)]['error'](this[_0x30dc94(0x181)]+'\x20('+this[_0x30dc94(0x1c1)][_0x30dc94(0x2db)]+_0x30dc94(0x66a)+_0x3937ff),console[_0x30dc94(0x2c1)](_0x30dc94(0x6cf),_0x43b894),_0x43b894 instanceof Error&&console[_0x30dc94(0x2c1)]('Stack\x20trace:',_0x43b894[_0x30dc94(0x4b9)]),new O(_0x3937ff);}}[a0_0x4cdcbe(0x7b5)](){const _0x53ff54=a0_0x4cdcbe;this[_0x53ff54(0x811)]['ev'][_0x53ff54(0x185)](_0x4fb5a0=>{const _0x89916=_0x53ff54;if(!this[_0x89916(0x21b)]){let _0x3bdd6c=this['configService']['get'](_0x89916(0x3e1));if(_0x4fb5a0['labels.edit']){let _0x57dbbd=_0x4fb5a0[_0x89916(0x281)];this[_0x89916(0x1f8)][_0x89916(0x281)](_0x57dbbd);}if(_0x4fb5a0['labels.association']){let _0x3b7c27=_0x4fb5a0[_0x89916(0x376)];this['messageHandle'][_0x89916(0x376)](_0x3b7c27);}if(_0x4fb5a0['connection.update']&&this['connectionUpdate'](_0x4fb5a0[_0x89916(0x705)]),_0x4fb5a0[_0x89916(0x87e)]&&this[_0x89916(0x1c1)][_0x89916(0x279)][_0x89916(0x52f)](),_0x4fb5a0[_0x89916(0x8a6)]){let _0x57c349=_0x4fb5a0[_0x89916(0x8a6)];this[_0x89916(0x1f8)][_0x89916(0x8a6)](_0x57c349,_0x3bdd6c);}if(_0x4fb5a0[_0x89916(0x26d)]){let _0x458215=_0x4fb5a0[_0x89916(0x26d)];this[_0x89916(0x1f8)][_0x89916(0x26d)](_0x458215,_0x3bdd6c);}if(_0x4fb5a0[_0x89916(0x8af)]){let _0x1b2a56=_0x4fb5a0[_0x89916(0x8af)];this['messageHandle'][_0x89916(0x8af)](_0x1b2a56,_0x3bdd6c);}if(_0x4fb5a0[_0x89916(0x336)]){let _0x1debba=_0x4fb5a0[_0x89916(0x336)];if(this[_0x89916(0x70c)]?.[_0x89916(0x775)]&&_0x1debba['id']['includes'](_0x89916(0x3f3)))return;this[_0x89916(0x1a9)]('presence.update',_0x1debba);}if(_0x4fb5a0[_0x89916(0x576)]){let _0x268b83=_0x4fb5a0[_0x89916(0x576)];this['groupHandler']['groups.upsert'](_0x268b83);}if(_0x4fb5a0[_0x89916(0x1e6)]){let _0x1d9e2f=_0x4fb5a0[_0x89916(0x1e6)];this[_0x89916(0x3c0)][_0x89916(0x1e6)](_0x1d9e2f);}if(_0x4fb5a0[_0x89916(0x85a)]){let _0x51ab4c=_0x4fb5a0[_0x89916(0x85a)];this['groupHandler'][_0x89916(0x85a)](_0x51ab4c);}if(_0x4fb5a0[_0x89916(0x5b6)]){let _0x56098b=_0x4fb5a0[_0x89916(0x5b6)];this[_0x89916(0x40a)][_0x89916(0x5b6)](_0x56098b,_0x3bdd6c);}if(_0x4fb5a0[_0x89916(0x457)]){let _0xb0d8b4=_0x4fb5a0[_0x89916(0x457)];this[_0x89916(0x40a)][_0x89916(0x457)](_0xb0d8b4,_0x3bdd6c);}if(_0x4fb5a0[_0x89916(0x74c)]){let _0x23c688=_0x4fb5a0[_0x89916(0x74c)];this['chatHandle'][_0x89916(0x74c)](_0x23c688);}if(_0x4fb5a0[_0x89916(0x6b1)]){let _0x20ae05=_0x4fb5a0[_0x89916(0x6b1)];this[_0x89916(0x2be)][_0x89916(0x6b1)](_0x20ae05,_0x3bdd6c);}if(_0x4fb5a0[_0x89916(0x397)]){let _0x1c06ab=_0x4fb5a0[_0x89916(0x397)];this[_0x89916(0x2be)]['contacts.update'](_0x1c06ab,_0x3bdd6c);}}});}async[a0_0x4cdcbe(0x298)](_0x4d480d,_0x546d26){const _0x483573=a0_0x4cdcbe;if(_0x546d26>=0xa){console[_0x483573(0x2c1)](this[_0x483573(0x181)]+'\x20('+this[_0x483573(0x1c1)][_0x483573(0x2db)]+_0x483573(0x41d)),delete jt[_0x4d480d[_0x483573(0x786)]['id']];return;}try{console[_0x483573(0x2c1)](this[_0x483573(0x181)]+'\x20('+this[_0x483573(0x1c1)]['wuid']+_0x483573(0x1e5)+(_0x546d26+0x1)),await this[_0x483573(0x811)]['sendMessageAck'](JSON['parse'](_0x4d480d[_0x483573(0x7e4)][0x1],w[_0x483573(0x41f)][_0x483573(0x6d7)])),console[_0x483573(0x2c1)](_0x483573(0x648));}catch(_0x48629a){console['error'](this[_0x483573(0x181)]+'\x20('+this[_0x483573(0x1c1)][_0x483573(0x2db)]+_0x483573(0x751)+_0x48629a),setTimeout(()=>this[_0x483573(0x298)](_0x4d480d,_0x546d26+0x1),Math[_0x483573(0x645)](0x2,_0x546d26)*0x3e8);}}[a0_0x4cdcbe(0x2a1)](_0x4ad22a){return new Promise(_0x2a1d6a=>setTimeout(_0x2a1d6a,_0x4ad22a));}[a0_0x4cdcbe(0x639)](_0x3346f0){const _0x450813=a0_0x4cdcbe;_0x3346f0=_0x3346f0[_0x450813(0x1a6)](/\D/g,'');let _0x3d76b9=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x450813(0x89d)](_0x3346f0);if(_0x3d76b9&&_0x3d76b9[0x1]==='55'){let _0x53565c=_0x3d76b9[0x2],_0x40980e=_0x3d76b9[0x3],_0x552f14=_0x3d76b9[0x4];if(parseInt(_0x53565c)>=0x1f&&_0x40980e==='9')return _0x3d76b9[0x1]+_0x53565c+_0x552f14;}return _0x3346f0;}['createJid'](_0x14e807){const _0x191a2c=a0_0x4cdcbe;return _0x14e807['includes']('@g.us')||_0x14e807[_0x191a2c(0x192)](_0x191a2c(0x7c9))||_0x14e807['includes'](_0x191a2c(0x200))?_0x14e807:(_0x14e807=_0x14e807?.['replace'](/\s/g,'')['replace'](/\+/g,'')[_0x191a2c(0x1a6)](/\(/g,'')['replace'](/\)/g,'')[_0x191a2c(0x43b)](/\:/)[0x0][_0x191a2c(0x43b)]('@')[0x0],_0x14e807[_0x191a2c(0x59d)]>=0x12?(_0x14e807=_0x14e807[_0x191a2c(0x1a6)](/[^\d-]/g,''),_0x14e807+_0x191a2c(0x3f3)):(_0x14e807=_0x14e807['replace'](/\D/g,''),_0x14e807+_0x191a2c(0x7c9)));}async[a0_0x4cdcbe(0x2b9)](_0x980f7e){const _0xd5a8ad=a0_0x4cdcbe;let _0x2c252f=(await this[_0xd5a8ad(0x8d4)]({'numbers':[_0x980f7e[_0xd5a8ad(0x64f)]]}))[0x0];if(!_0x2c252f[_0xd5a8ad(0x4e1)]&&!(0x0,w[_0xd5a8ad(0x351)])(_0x2c252f[_0xd5a8ad(0x269)])&&!_0x2c252f[_0xd5a8ad(0x269)][_0xd5a8ad(0x192)](_0xd5a8ad(0x200)))throw new m(_0x2c252f);let _0x42dca7=_0x2c252f['jid'];try{return await this[_0xd5a8ad(0x811)][_0xd5a8ad(0x6dd)](_0x42dca7),await this[_0xd5a8ad(0x811)]['sendPresenceUpdate'](_0x980f7e[_0xd5a8ad(0x4fd)],_0x42dca7),{'status':0xc8,'presence':_0x980f7e[_0xd5a8ad(0x4fd)]};}catch(_0x15630c){let _0x33790d=_0xd5a8ad(0x7f4),_0xed15fd=_0x15630c instanceof Error?_0x15630c[_0xd5a8ad(0x517)]:typeof _0x15630c==_0xd5a8ad(0x4d6)?JSON[_0xd5a8ad(0x289)](_0x15630c):_0x15630c,_0x4fa53a=_0x33790d+':\x20'+_0xed15fd;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0xd5a8ad(0x1c1)][_0xd5a8ad(0x2db)]+_0xd5a8ad(0x66a)+_0x4fa53a),new m(_0x4fa53a);}}async[a0_0x4cdcbe(0x8c1)](_0x2e0a8e,_0x37b9fa,_0x27b8ff,_0x5bcf04=!0x0){const _0x4bad68=a0_0x4cdcbe;let _0x1d019e=await this[_0x4bad68(0x671)]['cacheContact']['findOne']({'where':{'_id':_0x2e0a8e}});if(!_0x1d019e&&!_0x5bcf04)return;let _0x4b295a={'lastUpdate':Date[_0x4bad68(0x472)]()};if(_0x27b8ff||!_0x1d019e?.[_0x4bad68(0x675)]||Date[_0x4bad68(0x472)]()-_0x1d019e[_0x4bad68(0x675)]>0x18*0x3c*0x3c*0x3e8)try{let _0x41807f=(await this[_0x4bad68(0x5a0)](_0x2e0a8e))[_0x4bad68(0x3ce)];_0x4b295a[_0x4bad68(0x1fd)]=_0x41807f;}catch(_0x212f58){let _0xea92c9=_0x4bad68(0x870),_0x3a5e2d=_0x212f58 instanceof Error?_0x212f58[_0x4bad68(0x517)]:typeof _0x212f58==_0x4bad68(0x4d6)?JSON[_0x4bad68(0x289)](_0x212f58):_0x212f58,_0x3ad1be=_0xea92c9+':\x20'+_0x3a5e2d;throw this[_0x4bad68(0x83b)][_0x4bad68(0x2c1)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4bad68(0x66a)+_0x3ad1be),new m(_0x3ad1be);}return _0x37b9fa&&_0x1d019e?.[_0x4bad68(0x5cf)]!==_0x37b9fa&&(_0x4b295a[_0x4bad68(0x5cf)]=_0x37b9fa),Object['keys'](_0x4b295a)[_0x4bad68(0x59d)]>0x1&&(_0x1d019e?await this['repository'][_0x4bad68(0x3d1)][_0x4bad68(0x17d)]({'where':{'_id':_0x2e0a8e}},_0x4b295a):await this[_0x4bad68(0x671)][_0x4bad68(0x3d1)]['insert']([{'_id':_0x2e0a8e,..._0x4b295a}]),_0x1d019e={..._0x1d019e,..._0x4b295a}),{'cachedContact':_0x1d019e};}async[a0_0x4cdcbe(0x5a0)](_0x48a03a){const _0x26b3bb=a0_0x4cdcbe;let _0x561f6e=this[_0x26b3bb(0x5b4)](_0x48a03a);try{return{'wuid':_0x561f6e,'profilePictureUrl':await this['client'][_0x26b3bb(0x3ce)](_0x561f6e,_0x26b3bb(0x1d4))};}catch{return{'wuid':_0x561f6e,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x24ee38,_0x3cf275,_0x37e707){const _0x131258=a0_0x4cdcbe;let _0x2d9ce0;try{let _0x17ada7=(await this['whatsappNumber']({'numbers':[_0x24ee38]}))?.[_0x131258(0x7b1)]();if(!_0x17ada7['exists']&&!(0x0,w[_0x131258(0x351)])(_0x17ada7[_0x131258(0x269)])&&!_0x17ada7[_0x131258(0x269)]['includes']('@broadcast'))throw new m(_0x17ada7);_0x2d9ce0=_0x17ada7[_0x131258(0x269)];}catch(_0x1bdcc6){_0x2d9ce0=_0x24ee38,this[_0x131258(0x83b)][_0x131258(0x3bc)](this['instanceName']+'\x20('+this[_0x131258(0x1c1)][_0x131258(0x2db)]+'):\x20error:\x20'+_0x1bdcc6[_0x131258(0x517)]),this[_0x131258(0x83b)][_0x131258(0x3bc)](this[_0x131258(0x181)]+'\x20('+this['instance'][_0x131258(0x2db)]+_0x131258(0x30f)+_0x2d9ce0);}try{if(_0x2d9ce0||(_0x2d9ce0=_0x24ee38,this[_0x131258(0x83b)][_0x131258(0x3bc)](this[_0x131258(0x181)]+'\x20('+this[_0x131258(0x1c1)][_0x131258(0x2db)]+'):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20'+_0x2d9ce0)),_0x37e707||(_0x37e707={}),_0x37e707?.[_0x131258(0x25a)]){await this[_0x131258(0x811)][_0x131258(0x6dd)](_0x2d9ce0),await this[_0x131258(0x811)][_0x131258(0x2a6)](_0x37e707?.[_0x131258(0x4fd)]??'composing',_0x2d9ce0);let _0x3ab282=Math['min'](_0x37e707[_0x131258(0x25a)],0x2710);await(0x0,w[_0x131258(0x25a)])(_0x3ab282),await this[_0x131258(0x811)]['sendPresenceUpdate'](_0x131258(0x44d),_0x2d9ce0);}let _0x195670=_0x37e707?.[_0x131258(0x737)]!=!0x1?void 0x0:!0x1,_0x2b615d;if(_0x37e707?.[_0x131258(0x842)]){let _0x566e25=_0x37e707?.[_0x131258(0x842)],_0x488aca=_0x566e25?.[_0x131258(0x517)]?_0x566e25:await this[_0x131258(0x87f)](_0x566e25[_0x131258(0x786)],!0x0);_0x488aca&&(_0x2b615d=_0x488aca);}let _0xe9470e,_0x1a7d11=null;if((0x0,w[_0x131258(0x351)])(_0x2d9ce0))try{if(_0x1a7d11=await this[_0x131258(0x7dd)](_0x2d9ce0),!_0x1a7d11)throw new q(_0x131258(0x629));_0x37e707?.[_0x131258(0x239)]&&(_0x37e707['mentions']?.[_0x131258(0x85c)]?_0xe9470e=_0x1a7d11[_0x131258(0x1cf)]['map'](_0x1c0d12=>_0x1c0d12['id']):_0x37e707[_0x131258(0x239)]?.[_0x131258(0x46a)]?.[_0x131258(0x59d)]&&(_0xe9470e=_0x37e707[_0x131258(0x239)][_0x131258(0x46a)][_0x131258(0x79d)](_0x55cdc3=>{const _0xb22344=_0x131258;let _0x56b7f1=this[_0xb22344(0x5b4)](_0x55cdc3);return(0x0,w[_0xb22344(0x351)])(_0x56b7f1)?null:_0x56b7f1;})));}catch{throw new q(_0x131258(0x629));}let _0x363e9c=await this[_0x131258(0x671)]['chat'][_0x131258(0x324)]({'where':{'_id':_0x2d9ce0}},this['instance'][_0x131258(0x2db)]),_0x58a8df=await((async()=>{const _0x36638c=_0x131258;let _0x57db2a={'quoted':_0x2b615d,'ephemeralExpiration':_0x363e9c?.['ephemeralExpiration']??0x0};if(!_0x3cf275['audio']&&!_0x3cf275[_0x36638c(0x512)]&&!_0x3cf275[_0x36638c(0x3c9)]&&!_0x3cf275[_0x36638c(0x2e7)]&&_0x2d9ce0!==_0x36638c(0x31c)&&_0x3cf275[_0x36638c(0x761)])return await this[_0x36638c(0x811)][_0x36638c(0x288)](_0x2d9ce0,{'react':{'text':_0x3cf275[_0x36638c(0x761)][_0x36638c(0x2a8)],'key':_0x3cf275[_0x36638c(0x761)][_0x36638c(0x786)]}},_0x57db2a);if(_0x3cf275[_0x36638c(0x2e7)]){let _0x2f6101=_0x3cf275['conversation'];return _0x37e707?.[_0x36638c(0x826)]&&(_0x2f6101=await this[_0x36638c(0x88b)](_0x2f6101,_0x2d9ce0)),await this[_0x36638c(0x811)]['sendMessage'](_0x2d9ce0,{'text':_0x2f6101,'mentions':_0xe9470e,'linkPreview':_0x195670},_0x57db2a);}return!_0x3cf275[_0x36638c(0x6d5)]&&!_0x3cf275[_0x36638c(0x512)]&&_0x2d9ce0!=_0x36638c(0x31c)?await this[_0x36638c(0x811)]['sendMessage'](_0x2d9ce0,{'forward':{'key':{'remoteJid':this['instance'][_0x36638c(0x2db)],'fromMe':!0x0},'message':_0x3cf275},'mentions':_0xe9470e},_0x57db2a):_0x2d9ce0===_0x36638c(0x31c)?await this[_0x36638c(0x811)][_0x36638c(0x288)](_0x2d9ce0,_0x3cf275[_0x36638c(0x4b1)][_0x36638c(0x8d1)],{'backgroundColor':_0x3cf275[_0x36638c(0x4b1)][_0x36638c(0x43d)]['backgroundColor'],'font':_0x3cf275[_0x36638c(0x4b1)][_0x36638c(0x43d)][_0x36638c(0x527)],'statusJidList':_0x3cf275[_0x36638c(0x4b1)][_0x36638c(0x43d)]['statusJidList']}):await this[_0x36638c(0x811)]['sendMessage'](_0x2d9ce0,_0x3cf275,_0x57db2a);})()),_0x16bc5d=(0x0,w['normalizeMessageContent'])(_0x58a8df[_0x131258(0x517)]),_0x208022=(0x0,w['getContentType'])(_0x16bc5d),{message_normalized:_0x27a604}=this['normalizeMessage'](_0x16bc5d,_0x208022,null),_0x458ee1={'_id':_0x58a8df['key']['id'],'key':_0x58a8df['key'],'pushName':_0x58a8df[_0x131258(0x8b6)],'isGroup':_0x58a8df['key'][_0x131258(0x3e5)]['endsWith'](_0x131258(0x3f3)),'profilePictureUrl':this['instance'][_0x131258(0x3ce)],'message':_0x16bc5d,'messageType':_0x208022,'message_normalized':{'key':_0x58a8df[_0x131258(0x786)],'pushName':_0x58a8df[_0x131258(0x8b6)],'messageTimestamp':_0x58a8df[_0x131258(0x8b7)]&&_0x58a8df[_0x131258(0x8b7)][_0x131258(0x897)]()[_0x131258(0x59d)]<0xd?_0x58a8df['messageTimestamp']*0x3e8:_0x58a8df[_0x131258(0x8b7)]||null,'source':(0x0,w[_0x131258(0x39b)])(_0x58a8df[_0x131258(0x786)]['id']),..._0x27a604},'messageTimestamp':_0x58a8df[_0x131258(0x8b7)]&&_0x58a8df[_0x131258(0x8b7)][_0x131258(0x897)]()[_0x131258(0x59d)]<0xd?_0x58a8df['messageTimestamp']*0x3e8:_0x58a8df[_0x131258(0x8b7)]||null,'owner':this['instance'][_0x131258(0x2db)],'source':(0x0,w[_0x131258(0x39b)])(_0x58a8df[_0x131258(0x786)]['id'])};return this[_0x131258(0x83b)]['warn'](this['instanceName']+'\x20('+this['instance'][_0x131258(0x2db)]+_0x131258(0x8c3)+_0x458ee1[_0x131258(0x786)]?.[_0x131258(0x3e5)][_0x131258(0x1a6)](_0x131258(0x7c9),'')+_0x131258(0x2c2)+_0x458ee1[_0x131258(0x258)]+')'),_0x458ee1[_0x131258(0x316)]?.['text']&&this[_0x131258(0x83b)][_0x131258(0x3bc)](_0x458ee1[_0x131258(0x316)]?.[_0x131258(0x2a8)]),this['sendDataWebhook'](_0x131258(0x480),_0x458ee1),V(this[_0x131258(0x181)],'messages',{'message':_0x458ee1}),this[_0x131258(0x64a)](this[_0x131258(0x5fa)]['get'](_0x131258(0x3e1)),_0x458ee1,_0x131258(0x79c),_0x363e9c),await this[_0x131258(0x671)][_0x131258(0x517)][_0x131258(0x5ed)]([_0x458ee1],this['instance']['wuid']),_0x58a8df;}catch(_0x3ddd5b){let _0x19f7ad=_0x131258(0x323)+_0x2d9ce0,_0x4372e4=_0x3ddd5b instanceof Error?_0x3ddd5b['message']:typeof _0x3ddd5b==_0x131258(0x4d6)?JSON[_0x131258(0x289)](_0x3ddd5b):_0x3ddd5b,_0x5e26fb=_0x19f7ad+':\x20'+_0x4372e4;throw this[_0x131258(0x83b)][_0x131258(0x2c1)](this[_0x131258(0x181)]+'\x20('+this[_0x131258(0x1c1)][_0x131258(0x2db)]+_0x131258(0x66a)+_0x5e26fb),new m(_0x5e26fb);}}async[a0_0x4cdcbe(0x7dd)](_0x1a6c6c){const _0x2cf0b5=a0_0x4cdcbe;try{let _0x34d0ca=await this[_0x2cf0b5(0x671)]['chat'][_0x2cf0b5(0x324)]({'where':{'_id':_0x1a6c6c}},this[_0x2cf0b5(0x1c1)][_0x2cf0b5(0x2db)]);return _0x34d0ca?_0x34d0ca[_0x2cf0b5(0x82f)]:null;}catch(_0x5729bc){return this['logger']['error'](_0x2cf0b5(0x5ee)+_0x1a6c6c+':\x20'+_0x5729bc[_0x2cf0b5(0x517)]),null;}}get[a0_0x4cdcbe(0x62f)](){const _0x56618a=a0_0x4cdcbe;return this[_0x56618a(0x37e)];}async[a0_0x4cdcbe(0x4c5)](_0x10737b){const _0x44ef53=a0_0x4cdcbe;return await this[_0x44ef53(0x6cc)](_0x10737b[_0x44ef53(0x64f)],{'conversation':_0x10737b[_0x44ef53(0x4c5)][_0x44ef53(0x2a8)]},_0x10737b?.[_0x44ef53(0x8c6)]);}async[a0_0x4cdcbe(0x285)](_0x3af65f){const _0x2f156c=a0_0x4cdcbe;if(!_0x3af65f[_0x2f156c(0x551)])throw new m(_0x2f156c(0x883));if(!_0x3af65f['content'])throw new m(_0x2f156c(0x57d));if(_0x3af65f['allContacts']){let _0x22d289=await this[_0x2f156c(0x671)][_0x2f156c(0x1bb)][_0x2f156c(0x521)]({'where':{}},this[_0x2f156c(0x1c1)][_0x2f156c(0x2db)]);if(!_0x22d289['length'])throw new m(_0x2f156c(0x1f3));_0x3af65f[_0x2f156c(0x2dd)]=_0x22d289[_0x2f156c(0x58d)](_0x4679aa=>_0x4679aa[_0x2f156c(0x8b6)])[_0x2f156c(0x79d)](_0x4077e2=>_0x4077e2[_0x2f156c(0x42f)]);}if(!_0x3af65f[_0x2f156c(0x2dd)]?.[_0x2f156c(0x59d)]&&!_0x3af65f[_0x2f156c(0x8b8)])throw new m(_0x2f156c(0x440));if(_0x3af65f[_0x2f156c(0x551)]==='text'){if(!_0x3af65f[_0x2f156c(0x31f)])throw new m(_0x2f156c(0x416));if(!_0x3af65f[_0x2f156c(0x527)])throw new m(_0x2f156c(0x739));return{'content':{'text':_0x3af65f[_0x2f156c(0x8d1)]},'option':{'backgroundColor':_0x3af65f['backgroundColor'],'font':_0x3af65f['font'],'statusJidList':_0x3af65f[_0x2f156c(0x2dd)]}};}if(_0x3af65f[_0x2f156c(0x551)]===_0x2f156c(0x1d4))return{'content':{'image':{'url':_0x3af65f[_0x2f156c(0x8d1)]},'caption':_0x3af65f['caption']},'option':{'statusJidList':_0x3af65f[_0x2f156c(0x2dd)]}};if(_0x3af65f['type']===_0x2f156c(0x859))return{'content':{'video':{'url':_0x3af65f[_0x2f156c(0x8d1)]},'caption':_0x3af65f['caption']},'option':{'statusJidList':_0x3af65f['statusJidList']}};if(_0x3af65f['type']==='audio'){this[_0x2f156c(0x83b)][_0x2f156c(0x29b)](this[_0x2f156c(0x181)]+'\x20('+this['instance'][_0x2f156c(0x2db)]+_0x2f156c(0x283)),this[_0x2f156c(0x83b)][_0x2f156c(0x29b)](this[_0x2f156c(0x181)]+'\x20('+this['instance'][_0x2f156c(0x2db)]+_0x2f156c(0x5dc));let _0x7ae63b=await this[_0x2f156c(0x3a0)](_0x3af65f[_0x2f156c(0x8d1)]);if(typeof _0x7ae63b==_0x2f156c(0x18a)){this['logger'][_0x2f156c(0x29b)](this[_0x2f156c(0x181)]+'\x20('+this[_0x2f156c(0x1c1)][_0x2f156c(0x2db)]+'):Audio\x20processed');let _0x183146=F[_0x2f156c(0x43a)](_0x7ae63b)[_0x2f156c(0x897)](_0x2f156c(0x1ca));return{'content':{'audio':Buffer[_0x2f156c(0x1d1)](_0x183146,_0x2f156c(0x1ca)),'ptt':!0x0,'mimetype':_0x2f156c(0x1a2)},'option':{'statusJidList':_0x3af65f['statusJidList']}};}else throw new O(_0x7ae63b);}throw new m('Type\x20not\x20found');}async[a0_0x4cdcbe(0x8c8)](_0x56ce1a){const _0x13f348=a0_0x4cdcbe;return await this[_0x13f348(0x6cc)](_0x13f348(0x31c),{'status':await this[_0x13f348(0x285)](_0x56ce1a[_0x13f348(0x8c8)])});}async[a0_0x4cdcbe(0x2f0)](_0x337429){const _0x46feb0=a0_0x4cdcbe;try{let _0x38e4cf=await(0x0,w[_0x46feb0(0x292)])({[_0x337429['mediatype']]:(0x0,L[_0x46feb0(0x4a6)])(_0x337429[_0x46feb0(0x2c6)])?{'url':_0x337429[_0x46feb0(0x2c6)]}:Buffer[_0x46feb0(0x1d1)](_0x337429['media'],'base64')},{'upload':this['client'][_0x46feb0(0x6da)]}),_0x1616f4=_0x337429['mediatype']+_0x46feb0(0x6a7);if(_0x337429['mediatype']===_0x46feb0(0x3b9)&&!_0x337429[_0x46feb0(0x7eb)]){let _0x203d01=new RegExp(/.*\/(.+?)\./)[_0x46feb0(0x89d)](_0x337429['media']);_0x337429['fileName']=_0x203d01?_0x203d01[0x1]:null;}let _0x25669f;return(0x0,L[_0x46feb0(0x4a6)])(_0x337429[_0x46feb0(0x2c6)])?_0x25669f=(await ee['default'][_0x46feb0(0x2df)](_0x337429[_0x46feb0(0x2c6)],{'responseType':'arraybuffer'}))['headers'][_0x46feb0(0x60e)]:_0x25669f=(0x0,Di['getMIMEType'])(_0x337429[_0x46feb0(0x7eb)]),_0x38e4cf[_0x1616f4][_0x46feb0(0x65d)]=_0x337429?.[_0x46feb0(0x65d)],_0x38e4cf[_0x1616f4][_0x46feb0(0x7c4)]=_0x25669f,_0x38e4cf[_0x1616f4][_0x46feb0(0x7eb)]=_0x337429[_0x46feb0(0x7eb)],_0x337429[_0x46feb0(0x87a)]===_0x46feb0(0x859)&&(_0x38e4cf[_0x1616f4][_0x46feb0(0x839)]=Uint8Array['from']((0x0,Le['readFileSync'])((0x0,j[_0x46feb0(0x481)])(process[_0x46feb0(0x579)](),_0x46feb0(0x58e)))),_0x38e4cf[_0x1616f4][_0x46feb0(0x78c)]=!0x1),(0x0,w[_0x46feb0(0x2d4)])('',{[_0x1616f4]:{..._0x38e4cf[_0x1616f4]}},{'userJid':this[_0x46feb0(0x1c1)][_0x46feb0(0x2db)]});}catch(_0x28c0e4){let _0x1564fb=_0x46feb0(0x2f9),_0x512c12=_0x28c0e4 instanceof Error?_0x28c0e4['message']:typeof _0x28c0e4==_0x46feb0(0x4d6)?JSON[_0x46feb0(0x289)](_0x28c0e4):_0x28c0e4,_0x435ee0=_0x1564fb+':\x20'+_0x512c12;throw this[_0x46feb0(0x83b)][_0x46feb0(0x2c1)](this['instanceName']+'\x20('+this['instance'][_0x46feb0(0x2db)]+_0x46feb0(0x66a)+_0x435ee0),new O(_0x435ee0);}}async['mediaMessage'](_0x4f2001){const _0x6fcbda=a0_0x4cdcbe;let _0x467d6a=await this[_0x6fcbda(0x2f0)](_0x4f2001['mediaMessage']);return await this['sendMessageWithTyping'](_0x4f2001[_0x6fcbda(0x64f)],{..._0x467d6a[_0x6fcbda(0x517)]},_0x4f2001?.['options']);}async[a0_0x4cdcbe(0x69b)](_0x2d9d60,_0x5e9eb4){const _0x2765ec=a0_0x4cdcbe;try{this['logger'][_0x2765ec(0x29b)](this[_0x2765ec(0x181)]+'\x20('+this[_0x2765ec(0x1c1)]['wuid']+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x247280,_0x325f4d=_0x5e9eb4+'-'+new Date()[_0x2765ec(0x5ea)]();this[_0x2765ec(0x83b)]['verbose'](this[_0x2765ec(0x181)]+'\x20('+this[_0x2765ec(0x1c1)][_0x2765ec(0x2db)]+_0x2765ec(0x4be)+_0x325f4d);let _0x5c98aa=''+(0x0,j[_0x2765ec(0x481)])(this[_0x2765ec(0x765)],_0x325f4d+_0x2765ec(0x332));if(this[_0x2765ec(0x83b)][_0x2765ec(0x29b)](this[_0x2765ec(0x181)]+'\x20('+this[_0x2765ec(0x1c1)][_0x2765ec(0x2db)]+'):Output\x20path:\x20'+_0x5c98aa),(0x0,L[_0x2765ec(0x733)])(_0x2d9d60)){this['logger'][_0x2765ec(0x29b)](this[_0x2765ec(0x181)]+'\x20('+this['instance'][_0x2765ec(0x2db)]+_0x2765ec(0x431));let _0x893a93=_0x2d9d60['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4e7d7a=Buffer['from'](_0x893a93,_0x2765ec(0x1ca));_0x247280=''+(0x0,j[_0x2765ec(0x481)])(this[_0x2765ec(0x765)],_0x2765ec(0x249)+_0x325f4d+_0x2765ec(0x442)),this[_0x2765ec(0x83b)][_0x2765ec(0x29b)](this[_0x2765ec(0x181)]+'\x20('+this[_0x2765ec(0x1c1)][_0x2765ec(0x2db)]+_0x2765ec(0x60a)+_0x247280),await(0x0,qt[_0x2765ec(0x669)])(_0x4e7d7a)[_0x2765ec(0x52c)](_0x247280),this[_0x2765ec(0x83b)][_0x2765ec(0x29b)](this['instanceName']+'\x20('+this[_0x2765ec(0x1c1)]['wuid']+'):Image\x20created');}else{this[_0x2765ec(0x83b)][_0x2765ec(0x29b)](this[_0x2765ec(0x181)]+'\x20('+this[_0x2765ec(0x1c1)][_0x2765ec(0x2db)]+_0x2765ec(0x68c));let _0xcb4d31=new Date()[_0x2765ec(0x5ea)](),_0x4babe2=_0x2d9d60+_0x2765ec(0x445)+_0xcb4d31;this['logger']['verbose'](this[_0x2765ec(0x181)]+'\x20('+this[_0x2765ec(0x1c1)][_0x2765ec(0x2db)]+'):including\x20timestamp\x20in\x20url:\x20'+_0x4babe2);let _0xeec167=await ee['default'][_0x2765ec(0x2df)](_0x4babe2,{'responseType':_0x2765ec(0x7d0)});this[_0x2765ec(0x83b)][_0x2765ec(0x29b)](this[_0x2765ec(0x181)]+'\x20('+this[_0x2765ec(0x1c1)][_0x2765ec(0x2db)]+_0x2765ec(0x540));let _0x58f9e3=Buffer[_0x2765ec(0x1d1)](_0xeec167[_0x2765ec(0x599)],_0x2765ec(0x28c));_0x247280=''+(0x0,j[_0x2765ec(0x481)])(this[_0x2765ec(0x765)],_0x2765ec(0x249)+_0x325f4d+_0x2765ec(0x442)),this['logger'][_0x2765ec(0x29b)](this[_0x2765ec(0x181)]+'\x20('+this[_0x2765ec(0x1c1)][_0x2765ec(0x2db)]+_0x2765ec(0x60a)+_0x247280),await(0x0,qt['default'])(_0x58f9e3)[_0x2765ec(0x52c)](_0x247280),this['logger'][_0x2765ec(0x29b)](this[_0x2765ec(0x181)]+'\x20('+this['instance'][_0x2765ec(0x2db)]+'):Image\x20created');}return await(0x0,qt[_0x2765ec(0x669)])(_0x247280)[_0x2765ec(0x713)]()[_0x2765ec(0x52c)](_0x5c98aa),this[_0x2765ec(0x83b)][_0x2765ec(0x29b)](this[_0x2765ec(0x181)]+'\x20('+this[_0x2765ec(0x1c1)][_0x2765ec(0x2db)]+_0x2765ec(0x532)),F[_0x2765ec(0x550)](_0x247280),this[_0x2765ec(0x83b)][_0x2765ec(0x29b)](this['instanceName']+'\x20('+this[_0x2765ec(0x1c1)][_0x2765ec(0x2db)]+_0x2765ec(0x6af)),_0x5c98aa;}catch(_0x54901b){let _0x41844e='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x49c4fe=_0x54901b instanceof Error?_0x54901b[_0x2765ec(0x517)]:typeof _0x54901b==_0x2765ec(0x4d6)?JSON[_0x2765ec(0x289)](_0x54901b):_0x54901b,_0x10d4ab=_0x41844e+':\x20'+_0x49c4fe;this['logger'][_0x2765ec(0x2c1)](this[_0x2765ec(0x181)]+'\x20('+this['instance'][_0x2765ec(0x2db)]+_0x2765ec(0x66a)+_0x10d4ab);}}async['mediaSticker'](_0x5b654e){const _0x31f967=a0_0x4cdcbe;let _0x4bd441=await this[_0x31f967(0x69b)](_0x5b654e['stickerMessage'][_0x31f967(0x1d4)],_0x5b654e[_0x31f967(0x64f)]),_0x2c49cd=await this[_0x31f967(0x6cc)](_0x5b654e['number'],{'sticker':{'url':_0x4bd441}},_0x5b654e?.['options']);return F[_0x31f967(0x550)](_0x4bd441),this[_0x31f967(0x83b)][_0x31f967(0x29b)](this['instanceName']+'\x20('+this[_0x31f967(0x1c1)]['wuid']+_0x31f967(0x7cf)),_0x2c49cd;}async['audioWhatsapp'](_0x371c3a){const _0x4e6ccd=a0_0x4cdcbe;if(this[_0x4e6ccd(0x83b)][_0x4e6ccd(0x29b)](this[_0x4e6ccd(0x181)]+'\x20('+this[_0x4e6ccd(0x1c1)]['wuid']+_0x4e6ccd(0x7c7)),!_0x371c3a['options']?.[_0x4e6ccd(0x494)]&&_0x371c3a[_0x4e6ccd(0x8c6)]?.[_0x4e6ccd(0x494)]!==!0x1&&(_0x371c3a[_0x4e6ccd(0x8c6)][_0x4e6ccd(0x494)]=!0x0),_0x371c3a[_0x4e6ccd(0x8c6)]?.[_0x4e6ccd(0x494)]){let _0x4ab15e=await this[_0x4e6ccd(0x3a0)](_0x371c3a[_0x4e6ccd(0x537)][_0x4e6ccd(0x6d5)]);if(typeof _0x4ab15e==_0x4e6ccd(0x18a)){let _0x16a000=F['readFileSync'](_0x4ab15e)[_0x4e6ccd(0x897)](_0x4e6ccd(0x1ca));return this[_0x4e6ccd(0x6cc)](_0x371c3a[_0x4e6ccd(0x64f)],{'audio':Buffer[_0x4e6ccd(0x1d1)](_0x16a000,_0x4e6ccd(0x1ca)),'ptt':!0x0,'mimetype':_0x4e6ccd(0x6ec)},{'presence':_0x4e6ccd(0x689),'delay':_0x371c3a?.['options']?.[_0x4e6ccd(0x25a)]});}else throw new O(_0x4ab15e);}return await this[_0x4e6ccd(0x6cc)](_0x371c3a['number'],{'audio':(0x0,L['isURL'])(_0x371c3a[_0x4e6ccd(0x537)]['audio'])?{'url':_0x371c3a[_0x4e6ccd(0x537)]['audio']}:Buffer['from'](_0x371c3a[_0x4e6ccd(0x537)]['audio'],'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x4e6ccd(0x689),'delay':_0x371c3a?.['options']?.[_0x4e6ccd(0x25a)]});}async[a0_0x4cdcbe(0x3a0)](_0x356f60){const _0x56abc2=a0_0x4cdcbe;this[_0x56abc2(0x83b)][_0x56abc2(0x29b)](this[_0x56abc2(0x181)]+'\x20('+this[_0x56abc2(0x1c1)]['wuid']+'):Processing\x20audio');let _0x2d96b1=(0x0,L['isURL'])(_0x356f60)?(0x0,Vt[_0x56abc2(0x717)])(_0x56abc2(0x396))[_0x56abc2(0x17d)](_0x356f60)[_0x56abc2(0x7ec)](_0x56abc2(0x83f)):(0x0,Vt[_0x56abc2(0x717)])(_0x56abc2(0x396))[_0x56abc2(0x17d)](_0x356f60)[_0x56abc2(0x7ec)]('hex'),_0x4e6bf3=''+(0x0,j[_0x56abc2(0x481)])(this[_0x56abc2(0x765)],_0x2d96b1+_0x56abc2(0x3aa));if(F[_0x56abc2(0x864)](_0x4e6bf3))return this[_0x56abc2(0x83b)][_0x56abc2(0x29b)](this[_0x56abc2(0x181)]+'\x20('+this[_0x56abc2(0x1c1)][_0x56abc2(0x2db)]+_0x56abc2(0x61f)),_0x4e6bf3;let _0x5473e9=''+(0x0,j['join'])(this[_0x56abc2(0x765)],_0x56abc2(0x249)+(0x0,Y['v4'])()+_0x56abc2(0x6a4));if((0x0,L['isURL'])(_0x356f60)){let _0x5794b3=new Date()[_0x56abc2(0x5ea)](),_0x2625bc=_0x356f60+'?timestamp='+_0x5794b3,_0x46ac68=await ee[_0x56abc2(0x669)][_0x56abc2(0x2df)](_0x2625bc,{'responseType':_0x56abc2(0x7d0)});F[_0x56abc2(0x500)](_0x5473e9,_0x46ac68['data']);}else{let _0x585b45=Buffer[_0x56abc2(0x1d1)](_0x356f60,_0x56abc2(0x1ca));F[_0x56abc2(0x500)](_0x5473e9,_0x585b45);}return new Promise((_0x45c1a2,_0x426359)=>{const _0x22cb8e=_0x56abc2;(0x0,Fe[_0x22cb8e(0x89d)])(Ds['default'][_0x22cb8e(0x221)]+_0x22cb8e(0x7b4)+_0x5473e9+_0x22cb8e(0x60f)+_0x4e6bf3+_0x22cb8e(0x2ad),_0x223907=>{const _0x174870=_0x22cb8e;if(F['unlinkSync'](_0x5473e9),_0x223907){this[_0x174870(0x83b)][_0x174870(0x29b)](this[_0x174870(0x181)]+'\x20('+this[_0x174870(0x1c1)]['wuid']+_0x174870(0x5bd)),_0x426359(_0x223907);return;}this[_0x174870(0x83b)][_0x174870(0x29b)](this[_0x174870(0x181)]+'\x20('+this[_0x174870(0x1c1)][_0x174870(0x2db)]+_0x174870(0x2f2)),_0x45c1a2(_0x4e6bf3);});});}async[a0_0x4cdcbe(0x17f)](_0x60f4d8){const _0x5229c8=a0_0x4cdcbe;this[_0x5229c8(0x83b)][_0x5229c8(0x29b)](this[_0x5229c8(0x181)]+'\x20('+this[_0x5229c8(0x1c1)][_0x5229c8(0x2db)]+_0x5229c8(0x5dc));let _0x51a1c4=(0x0,Vt[_0x5229c8(0x717)])(_0x5229c8(0x396))[_0x5229c8(0x17d)](_0x60f4d8)[_0x5229c8(0x7ec)](_0x5229c8(0x83f)),_0x4af198=''+(0x0,j[_0x5229c8(0x481)])(this[_0x5229c8(0x765)],_0x51a1c4+_0x5229c8(0x6a4));if(F[_0x5229c8(0x864)](_0x4af198))return this[_0x5229c8(0x83b)][_0x5229c8(0x29b)](this[_0x5229c8(0x181)]+'\x20('+this['instance'][_0x5229c8(0x2db)]+_0x5229c8(0x61f)),j[_0x5229c8(0x669)][_0x5229c8(0x4a0)](_0x4af198);let _0x1bec44=''+(0x0,j[_0x5229c8(0x481)])(this[_0x5229c8(0x765)],_0x5229c8(0x249)+_0x51a1c4+_0x5229c8(0x3aa));if((0x0,L[_0x5229c8(0x4a6)])(_0x60f4d8)){let _0x30e784=new Date()[_0x5229c8(0x5ea)](),_0x3f969b=_0x60f4d8+_0x5229c8(0x445)+_0x30e784,_0x4cb2ba=await ee['default'][_0x5229c8(0x2df)](_0x3f969b,{'responseType':_0x5229c8(0x7d0)});F[_0x5229c8(0x500)](_0x1bec44,_0x4cb2ba[_0x5229c8(0x599)]);}else{let _0x40a6b0=Buffer[_0x5229c8(0x1d1)](_0x60f4d8,_0x5229c8(0x1ca));F[_0x5229c8(0x500)](_0x1bec44,_0x40a6b0);}return new Promise((_0x13c53c,_0x1179a7)=>{const _0x227fcf=_0x5229c8;(0x0,Fe['exec'])(Ds[_0x227fcf(0x669)]['path']+_0x227fcf(0x7b4)+_0x1bec44+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x4af198+_0x227fcf(0x2ad),_0x31070b=>{const _0x510a9f=_0x227fcf;if(F[_0x510a9f(0x550)](_0x1bec44),_0x31070b){this['logger'][_0x510a9f(0x29b)](this[_0x510a9f(0x181)]+'\x20('+this[_0x510a9f(0x1c1)]['wuid']+_0x510a9f(0x5bd)),_0x1179a7(_0x31070b);return;}this[_0x510a9f(0x83b)][_0x510a9f(0x29b)](this['instanceName']+'\x20('+this['instance'][_0x510a9f(0x2db)]+_0x510a9f(0x2f2)),_0x13c53c(j['default']['basename'](_0x4af198));});});}async[a0_0x4cdcbe(0x470)](_0x316057){const _0x48cceb=a0_0x4cdcbe;let _0x391e90={},_0x102757=_0x48cceb(0x698);if(_0x316057['buttonMessage']?.[_0x48cceb(0x75d)]){_0x102757=_0x316057[_0x48cceb(0x470)]['mediaMessage']?.[_0x48cceb(0x87a)]['toUpperCase']()??_0x48cceb(0x698),_0x391e90[_0x48cceb(0x7c8)]=_0x102757[_0x48cceb(0x804)]()+_0x48cceb(0x6a7);let _0x26a8d2=await this[_0x48cceb(0x2f0)](_0x316057[_0x48cceb(0x470)]['mediaMessage']);_0x391e90[_0x48cceb(0x517)]=_0x26a8d2[_0x48cceb(0x517)][_0x391e90['mediaKey']],_0x391e90[_0x48cceb(0x3f6)]='*'+_0x316057[_0x48cceb(0x470)][_0x48cceb(0x642)]+_0x48cceb(0x80f)+_0x316057['buttonMessage'][_0x48cceb(0x85d)];}let _0x51c926={'text':_0x316057[_0x48cceb(0x470)][_0x48cceb(0x3d7)]['map'](_0x5a6344=>_0x5a6344[_0x48cceb(0x7e0)]),'ids':_0x316057[_0x48cceb(0x470)][_0x48cceb(0x3d7)]['map'](_0x2faf31=>_0x2faf31['buttonId'])};if(!(0x0,L['arrayUnique'])(_0x51c926['text'])||!(0x0,L[_0x48cceb(0x233)])(_0x51c926[_0x48cceb(0x42a)]))throw new m(_0x48cceb(0x8cf),_0x48cceb(0x874));return await this[_0x48cceb(0x6cc)](_0x316057[_0x48cceb(0x64f)],{'buttonsMessage':{'text':_0x391e90?.[_0x48cceb(0x7c8)]?void 0x0:_0x316057[_0x48cceb(0x470)][_0x48cceb(0x642)],'contentText':_0x391e90?.[_0x48cceb(0x3f6)]??_0x316057[_0x48cceb(0x470)][_0x48cceb(0x85d)],'footerText':_0x316057[_0x48cceb(0x470)]?.[_0x48cceb(0x836)],'buttons':_0x316057[_0x48cceb(0x470)][_0x48cceb(0x3d7)][_0x48cceb(0x79d)](_0x201240=>({'buttonText':{'displayText':_0x201240[_0x48cceb(0x7e0)]},'buttonId':_0x201240[_0x48cceb(0x1fb)],'type':0x1})),'headerType':w[_0x48cceb(0x663)][_0x48cceb(0x6a7)][_0x48cceb(0x3f1)][_0x48cceb(0x450)][_0x102757],[_0x391e90?.[_0x48cceb(0x7c8)]]:_0x391e90?.['message']}},_0x316057?.[_0x48cceb(0x8c6)]);}async[a0_0x4cdcbe(0x1b7)](_0x3d2733){const _0x3a0460=a0_0x4cdcbe;return await this[_0x3a0460(0x6cc)](_0x3d2733['number'],{'locationMessage':{'degreesLatitude':_0x3d2733['locationMessage']['latitude'],'degreesLongitude':_0x3d2733[_0x3a0460(0x1b7)][_0x3a0460(0x1cd)],'name':_0x3d2733[_0x3a0460(0x1b7)]?.[_0x3a0460(0x5cf)],'address':_0x3d2733[_0x3a0460(0x1b7)]?.[_0x3a0460(0x443)]}},_0x3d2733?.[_0x3a0460(0x8c6)]);}async['contactMessage'](_0x5b38c5){const _0xdd0f09=a0_0x4cdcbe;let _0x1d77c1={},_0x3284b2=async _0x1908cb=>{const _0x3b0477=a0_0x5e25;let _0x4a5b7b=_0x3b0477(0x8d7)+_0x1908cb['fullName']+_0x3b0477(0x7ab)+_0x1908cb[_0x3b0477(0x699)]+'\x0a';_0x1908cb['organization']&&(_0x4a5b7b+=_0x3b0477(0x1fe)+_0x1908cb[_0x3b0477(0x76e)]+';\x0a'),_0x1908cb[_0x3b0477(0x554)]&&(_0x4a5b7b+='EMAIL:'+_0x1908cb['email']+'\x0a'),_0x1908cb['url']&&(_0x4a5b7b+=_0x3b0477(0x2f1)+_0x1908cb[_0x3b0477(0x6c6)]+'\x0a');let _0x48bd83='',_0x35eac7=0x1;if(_0x1908cb['phoneNumber']){let _0x53c6c0=_0x1908cb['phoneNumber'][_0x3b0477(0x43b)]('|');for(let _0x38d07c of _0x53c6c0){let _0x437f53=await this[_0x3b0477(0x8d4)]({'numbers':[_0x38d07c]}),_0x4bd0eb=(_0x437f53[_0x3b0477(0x59d)]>0x0?_0x437f53[0x0][_0x3b0477(0x269)]:this[_0x3b0477(0x5b4)](_0x38d07c))[_0x3b0477(0x1a6)](_0x3b0477(0x7c9),'');_0x48bd83+=_0x3b0477(0x783)+_0x35eac7+'.TEL;waid='+_0x4bd0eb+':'+_0x38d07c+_0x3b0477(0x2e0)+_0x35eac7+_0x3b0477(0x615),_0x35eac7++;}}return _0x4a5b7b+=_0x48bd83+_0x3b0477(0x646),_0x4a5b7b;};return _0x5b38c5['contactMessage'][_0xdd0f09(0x59d)]===0x1?_0x1d77c1[_0xdd0f09(0x210)]={'displayName':_0x5b38c5[_0xdd0f09(0x210)][0x0][_0xdd0f09(0x699)],'vcard':await _0x3284b2(_0x5b38c5[_0xdd0f09(0x210)][0x0])}:_0x1d77c1[_0xdd0f09(0x677)]={'displayName':_0x5b38c5[_0xdd0f09(0x210)]['length']+'\x20contacts','contacts':await Promise[_0xdd0f09(0x653)](_0x5b38c5[_0xdd0f09(0x210)][_0xdd0f09(0x79d)](async _0x5393a5=>({'displayName':_0x5393a5[_0xdd0f09(0x699)],'vcard':await _0x3284b2(_0x5393a5)})))},await this[_0xdd0f09(0x6cc)](_0x5b38c5[_0xdd0f09(0x64f)],{..._0x1d77c1},_0x5b38c5?.[_0xdd0f09(0x8c6)]);}async[a0_0x4cdcbe(0x761)](_0x2f0f75){const _0x22257d=a0_0x4cdcbe;return await this[_0x22257d(0x6cc)](_0x2f0f75['reactionMessage'][_0x22257d(0x786)][_0x22257d(0x3e5)],{'reactionMessage':{'key':_0x2f0f75[_0x22257d(0x761)][_0x22257d(0x786)],'text':_0x2f0f75[_0x22257d(0x761)][_0x22257d(0x518)]}});}async['whatsappNumber'](_0x1d435d){const _0x5642a3=a0_0x4cdcbe;let _0x136ab2=[];for await(let _0x587557 of _0x1d435d['numbers']){let _0x29c1ad=this['createJid'](_0x587557),_0x3794a0=!0x1;try{if((0x0,w['isJidGroup'])(_0x29c1ad)){let _0x123959=(await this[_0x5642a3(0x671)][_0x5642a3(0x538)]['findOne']({'where':{'_id':_0x29c1ad}},this['instance'][_0x5642a3(0x2db)]))['groupdata'];_0x123959?(_0x3794a0=!0x0,_0x136ab2[_0x5642a3(0x7e2)](new pe(_0x123959['id'],_0x3794a0,_0x123959?.['subject']))):(_0x123959=await this['findGroup']({'groupJid':_0x29c1ad},'inner'),_0x136ab2[_0x5642a3(0x7e2)](new pe(_0x123959['id'],!!_0x123959?.['id'],_0x123959?.['subject'])));}else{if(_0x29c1ad['includes'](_0x5642a3(0x200)))_0x136ab2[_0x5642a3(0x7e2)](new pe(_0x29c1ad,!0x0));else{let _0x2b5f20=(await this[_0x5642a3(0x811)][_0x5642a3(0x2c4)](_0x29c1ad))[0x0];_0x136ab2[_0x5642a3(0x7e2)](new pe(_0x2b5f20[_0x5642a3(0x269)],_0x2b5f20[_0x5642a3(0x4e1)]));}}}catch{(0x0,w[_0x5642a3(0x351)])(_0x29c1ad)||await this['deleteImportedChat'](_0x29c1ad),_0x136ab2['push'](new pe(_0x587557,!0x1));}}return _0x136ab2;}async['deleteImportedChat'](_0x37511c){const _0x4dd14b=a0_0x4cdcbe;try{await this[_0x4dd14b(0x671)]['chat'][_0x4dd14b(0x324)]({'where':{'_id':_0x37511c,'imported':!0x0}},this['instance'][_0x4dd14b(0x2db)])&&(await this[_0x4dd14b(0x671)][_0x4dd14b(0x538)][_0x4dd14b(0x520)](_0x37511c,this['instance'][_0x4dd14b(0x2db)]),this[_0x4dd14b(0x83b)]['info']('Chat\x20com\x20ID\x20'+_0x37511c+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.'));}catch(_0x423cee){let _0x3c577c='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x5af693=_0x423cee instanceof Error?_0x423cee['message']:typeof _0x423cee==_0x4dd14b(0x4d6)?JSON[_0x4dd14b(0x289)](_0x423cee):_0x423cee,_0x3af516=_0x3c577c+':\x20'+_0x5af693;this[_0x4dd14b(0x83b)][_0x4dd14b(0x2c1)](this['instanceName']+'\x20('+this[_0x4dd14b(0x1c1)]['wuid']+_0x4dd14b(0x66a)+_0x3af516);}}async['markMessageAsRead'](_0x9ea37){const _0x1fa4e0=a0_0x4cdcbe;try{let _0x3f2850=_0x9ea37[_0x1fa4e0(0x851)][_0x1fa4e0(0x58d)](_0xef2748=>(0x0,w[_0x1fa4e0(0x351)])(_0xef2748[_0x1fa4e0(0x3e5)])||(0x0,w['isJidUser'])(_0xef2748[_0x1fa4e0(0x3e5)]))[_0x1fa4e0(0x79d)](_0xafe0b2=>({'remoteJid':_0xafe0b2['remoteJid'],'fromMe':_0xafe0b2[_0x1fa4e0(0x7ac)],'id':_0xafe0b2['id']}));await this[_0x1fa4e0(0x811)][_0x1fa4e0(0x851)](_0x3f2850);let _0x433eb3=_0x3f2850['map'](_0x22abb6=>this['updateMessage'](_0x22abb6,{'status':_0x1fa4e0(0x3cc),'owner':this[_0x1fa4e0(0x1c1)][_0x1fa4e0(0x2db)]})),_0x31dc4a=_0x3f2850['map'](_0x3f4e43=>this[_0x1fa4e0(0x671)]['chat']['updateOne']({'where':{'_id':_0x3f4e43[_0x1fa4e0(0x3e5)]}},{'unreadcount':0x0},this['instance']['wuid'])),[_0x186926,_0x511b1b]=await Promise[_0x1fa4e0(0x653)]([Promise[_0x1fa4e0(0x653)](_0x433eb3),Promise[_0x1fa4e0(0x653)](_0x31dc4a)]);return _0x511b1b[_0x1fa4e0(0x58d)](_0x2317de=>_0x2317de!==null)[_0x1fa4e0(0x1d7)](_0x2cb70e=>{const _0x1fb05b=_0x1fa4e0;V(this[_0x1fb05b(0x181)],_0x1fb05b(0x3ef),{'chat':_0x2cb70e});}),{'message':'Read\x20messages','read':'success'};}catch(_0x2280d8){let _0x5b6773=_0x1fa4e0(0x84a),_0x4b6c3b=_0x2280d8 instanceof Error?_0x2280d8[_0x1fa4e0(0x517)]:typeof _0x2280d8==_0x1fa4e0(0x4d6)?JSON[_0x1fa4e0(0x289)](_0x2280d8):_0x2280d8,_0x32b00f=_0x5b6773+':\x20'+_0x4b6c3b;throw this[_0x1fa4e0(0x83b)][_0x1fa4e0(0x2c1)](this['instanceName']+'\x20('+this[_0x1fa4e0(0x1c1)][_0x1fa4e0(0x2db)]+_0x1fa4e0(0x66a)+_0x32b00f),new O(_0x32b00f);}}async['getLastMessage'](_0xfd71ea){const _0x4f13be=a0_0x4cdcbe;let _0xf626e5={'where':{'key':{'remoteJid':_0xfd71ea}},'limit':0x1},_0xdc0cea=await this['fetchMessages'](_0xf626e5);return _0xdc0cea||(this[_0x4f13be(0x83b)]['error'](_0x4f13be(0x619)+_0xfd71ea),null);}async[a0_0x4cdcbe(0x5ba)](_0x56b5e5){const _0xf3a57b=a0_0x4cdcbe;this['logger'][_0xf3a57b(0x29b)](this['instanceName']+'\x20('+this[_0xf3a57b(0x1c1)][_0xf3a57b(0x2db)]+'):Archiving\x20chat');try{let _0x4105d2=_0x56b5e5[_0xf3a57b(0x4c8)],_0xbd4166=_0x56b5e5[_0xf3a57b(0x538)];if(!_0x4105d2&&_0xbd4166?_0x4105d2=await this[_0xf3a57b(0x641)](_0xbd4166):(_0x4105d2=_0x56b5e5[_0xf3a57b(0x4c8)],_0x4105d2[_0xf3a57b(0x8b7)]=_0x4105d2?.[_0xf3a57b(0x8b7)]??Date[_0xf3a57b(0x472)](),_0xbd4166=_0x4105d2?.[_0xf3a57b(0x786)]?.[_0xf3a57b(0x3e5)]),!_0x4105d2||Object[_0xf3a57b(0x684)](_0x4105d2)['length']===0x0)throw new q(_0xf3a57b(0x2f4));this[_0xf3a57b(0x83b)]['verbose'](this[_0xf3a57b(0x181)]+'\x20('+this[_0xf3a57b(0x1c1)][_0xf3a57b(0x2db)]+_0xf3a57b(0x3fb)+_0xbd4166);try{await this[_0xf3a57b(0x811)][_0xf3a57b(0x519)]({'archive':_0x56b5e5['archive'],'lastMessages':[_0x4105d2]},this['createJid'](_0xbd4166));}catch(_0x844df8){let _0x4df7f3=_0xf3a57b(0x722)+_0xbd4166,_0x529d6d=_0x844df8 instanceof Error?_0x844df8[_0xf3a57b(0x517)]:typeof _0x844df8==_0xf3a57b(0x4d6)?JSON[_0xf3a57b(0x289)](_0x844df8):_0x844df8,_0x18f7a8=_0x4df7f3+':\x20'+_0x529d6d;this['logger'][_0xf3a57b(0x2c1)](this[_0xf3a57b(0x181)]+'\x20('+this['instance'][_0xf3a57b(0x2db)]+'):\x20'+_0x18f7a8);}this[_0xf3a57b(0x83b)][_0xf3a57b(0x29b)](this[_0xf3a57b(0x181)]+'\x20('+this['instance'][_0xf3a57b(0x2db)]+_0xf3a57b(0x756)+_0xbd4166);let _0x357768=await this[_0xf3a57b(0x671)][_0xf3a57b(0x538)][_0xf3a57b(0x869)]({'where':{'_id':_0x4105d2?.[_0xf3a57b(0x786)]?.[_0xf3a57b(0x3e5)]}},{'archived':_0x56b5e5[_0xf3a57b(0x6d0)]},this['instance'][_0xf3a57b(0x2db)]);return _0x357768?(this[_0xf3a57b(0x83b)][_0xf3a57b(0x29b)](this[_0xf3a57b(0x181)]+'\x20('+this[_0xf3a57b(0x1c1)][_0xf3a57b(0x2db)]+_0xf3a57b(0x5e3)+JSON[_0xf3a57b(0x289)](_0x357768)),V(this[_0xf3a57b(0x181)],_0xf3a57b(0x3ef),{'chat':_0x357768})):this[_0xf3a57b(0x83b)][_0xf3a57b(0x2c1)](this['instanceName']+'\x20('+this['instance'][_0xf3a57b(0x2db)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0xbd4166),{'chatId':_0xbd4166,'archived':_0x56b5e5[_0xf3a57b(0x6d0)]};}catch(_0x4705a1){let _0x509ac2=_0xf3a57b(0x1eb),_0x297828=_0x4705a1 instanceof Error?_0x4705a1[_0xf3a57b(0x517)]:typeof _0x4705a1==_0xf3a57b(0x4d6)?JSON[_0xf3a57b(0x289)](_0x4705a1):_0x4705a1,_0x402d87=_0x509ac2+':\x20'+_0x297828;throw this[_0xf3a57b(0x83b)][_0xf3a57b(0x2c1)](this['instanceName']+'\x20('+this[_0xf3a57b(0x1c1)][_0xf3a57b(0x2db)]+'):\x20'+_0x402d87),new O(_0x402d87);}}async['deleteChat'](_0x3130c9){const _0x9a55c4=a0_0x4cdcbe;this[_0x9a55c4(0x83b)]['verbose'](this[_0x9a55c4(0x181)]+'\x20('+this[_0x9a55c4(0x1c1)][_0x9a55c4(0x2db)]+'):Delete\x20chat');try{let _0x474985=await this[_0x9a55c4(0x641)](_0x3130c9);if(!_0x474985||Object['keys'](_0x474985)[_0x9a55c4(0x59d)]===0x0)throw new q(_0x9a55c4(0x2f4));let _0x38b494=_0x474985[0x0];this[_0x9a55c4(0x83b)]['verbose'](this[_0x9a55c4(0x181)]+'\x20('+this['instance'][_0x9a55c4(0x2db)]+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x3130c9);try{await this[_0x9a55c4(0x811)][_0x9a55c4(0x519)]({'delete':!0x0,'lastMessages':[{'key':_0x38b494[_0x9a55c4(0x786)],'messageTimestamp':_0x38b494[_0x9a55c4(0x8b7)]}]},this[_0x9a55c4(0x5b4)](_0x3130c9));}catch(_0x3f0b8c){this['logger'][_0x9a55c4(0x2c1)](_0x9a55c4(0x722)+_0x3130c9+':\x20'+_0x3f0b8c['toString']());}this[_0x9a55c4(0x83b)][_0x9a55c4(0x29b)](this[_0x9a55c4(0x181)]+'\x20('+this[_0x9a55c4(0x1c1)][_0x9a55c4(0x2db)]+_0x9a55c4(0x756)+_0x3130c9);return;}catch(_0xd7838b){throw this[_0x9a55c4(0x83b)][_0x9a55c4(0x2c1)](this[_0x9a55c4(0x181)]+'\x20('+this[_0x9a55c4(0x1c1)][_0x9a55c4(0x2db)]+_0x9a55c4(0x3fe)+_0xd7838b['toString']()),new O({'archived':!0x1,'message':[_0x9a55c4(0x39e),_0xd7838b[_0x9a55c4(0x897)]()]});}}async[a0_0x4cdcbe(0x7a6)](_0x2ab15d){const _0x5e10c9=a0_0x4cdcbe;try{let _0x8019d6=await this[_0x5e10c9(0x811)][_0x5e10c9(0x288)](_0x2ab15d['remoteJid'],{'delete':_0x2ab15d});try{let _0x250494=await this[_0x5e10c9(0x529)](_0x2ab15d,{'status':_0x5e10c9(0x5c4),'owner':this[_0x5e10c9(0x1c1)]['wuid']});this[_0x5e10c9(0x83b)][_0x5e10c9(0x29b)](this[_0x5e10c9(0x181)]+'\x20('+this[_0x5e10c9(0x1c1)]['wuid']+_0x5e10c9(0x73c)+_0x250494);}catch(_0x28a882){this[_0x5e10c9(0x83b)][_0x5e10c9(0x2c1)](_0x5e10c9(0x7df)+_0x28a882);}return _0x8019d6;}catch(_0x521060){throw new O(_0x5e10c9(0x5cb),_0x521060?.['toString']());}}async[a0_0x4cdcbe(0x3ad)](_0x53896c){const _0x470a19=a0_0x4cdcbe;try{let _0x151018=_0x53896c?.['message']?_0x53896c:await this[_0x470a19(0x87f)](_0x53896c[_0x470a19(0x786)],!0x0);for(let _0x3b8a43 of $a)_0x151018[_0x470a19(0x517)][_0x3b8a43]&&(_0x151018[_0x470a19(0x517)]=_0x151018[_0x470a19(0x517)][_0x3b8a43][_0x470a19(0x517)]);let _0x216716,_0x1c2c23;for(let _0x5c870d of Na)if(_0x216716=_0x151018['message'][_0x5c870d],_0x216716){_0x1c2c23=_0x5c870d;break;}if(!_0x216716)throw _0x470a19(0x543);typeof _0x216716['mediaKey']==_0x470a19(0x4d6)&&(_0x151018['message']=JSON[_0x470a19(0x1c7)](JSON[_0x470a19(0x289)](_0x151018[_0x470a19(0x517)])));let _0x1edf14=await(0x0,w['downloadMediaMessage'])({'key':_0x151018?.[_0x470a19(0x786)],'message':_0x151018?.[_0x470a19(0x517)]},'buffer',{},{'logger':(0x0,Jt['default'])({'level':_0x470a19(0x585)}),'reuploadRequest':this[_0x470a19(0x811)][_0x470a19(0x6fd)]});if(!(_0x1edf14 instanceof Buffer))throw new Error(_0x470a19(0x8a7));let _0x4624d7=this[_0x470a19(0x5fa)]['get'](_0x470a19(0x3e1)),_0x2c186c,_0x3afb8a;if(_0x216716['fileName'])_0x2c186c=_0x216716['fileName'];else{let _0x4ea75b=_0x216716[_0x470a19(0x7c4)]?.[_0x470a19(0x2c8)](/\/(\w+)/),_0x1e04fc=_0x4ea75b?_0x4ea75b[0x1]:null;if(!_0x1e04fc)throw new Error(_0x470a19(0x339));_0x2c186c=(0x0,Y['v4'])()+'.'+_0x1e04fc;}_0x1c2c23===_0x470a19(0x537)?_0x3afb8a=_0x470a19(0x3a8)+await this[_0x470a19(0x17f)](_0x1edf14[_0x470a19(0x897)](_0x470a19(0x1ca))):(await this['saveMediaToFile'](_0x1edf14,_0x2c186c),_0x3afb8a='/media/'+_0x2c186c);let _0x29debf=this[_0x470a19(0x5fa)][_0x470a19(0x2df)](_0x470a19(0x720))[_0x470a19(0x32b)];if(!_0x29debf){let _0x1f7c8c=this[_0x470a19(0x5fa)][_0x470a19(0x2df)](_0x470a19(0x727));_0x29debf=_0x470a19(0x7e3)+(_0x1f7c8c&&_0x1f7c8c['FULLCHAIN'][_0x470a19(0x43b)]('/')[0x4]);}_0x3afb8a=''+_0x29debf+_0x3afb8a;let _0x1764f0=0xc*0x3c*0x3c*0x3e8,_0x44d752={'where':{'_id':_0x151018[_0x470a19(0x786)]['id']}},_0x266619={'message_normalized.fileUrl':_0x3afb8a,'message_normalized.expires_fileUrl':Date['now']()+_0x1764f0};try{let _0x5b70d7=await this[_0x470a19(0x671)][_0x470a19(0x517)]['update'](_0x44d752,_0x266619,this[_0x470a19(0x1c1)]['wuid']);_0x5b70d7&&V(this[_0x470a19(0x181)],_0x470a19(0x524),{'message':_0x5b70d7});}catch(_0x5d5877){let _0xdc1408=_0x470a19(0x8a9),_0x35a09a=_0x5d5877 instanceof Error?_0x5d5877[_0x470a19(0x517)]:typeof _0x5d5877=='object'?JSON[_0x470a19(0x289)](_0x5d5877):_0x5d5877,_0x53eafa=_0xdc1408+':\x20'+_0x35a09a;this[_0x470a19(0x83b)][_0x470a19(0x2c1)](this[_0x470a19(0x181)]+'\x20('+this[_0x470a19(0x1c1)]['wuid']+_0x470a19(0x66a)+_0x53eafa);}return{'mediaType':_0x1c2c23,'fileName':_0x216716[_0x470a19(0x7eb)],'caption':_0x216716[_0x470a19(0x65d)],'size':{'fileLength':_0x216716[_0x470a19(0x1f7)],'height':_0x216716[_0x470a19(0x374)],'width':_0x216716[_0x470a19(0x63a)]},'mimetype':_0x216716[_0x470a19(0x7c4)],'base64':_0x1edf14[_0x470a19(0x897)]('base64'),'fileUrl':_0x3afb8a,'expires_fileUrl':Date[_0x470a19(0x472)]()+_0x1764f0};}catch(_0x1a37b9){let _0x3d5cee=_0x470a19(0x24d),_0x1d3c99=_0x1a37b9 instanceof Error?_0x1a37b9[_0x470a19(0x517)]:typeof _0x1a37b9=='object'?JSON[_0x470a19(0x289)](_0x1a37b9):_0x1a37b9,_0x57a1a7=_0x3d5cee+':\x20'+_0x1d3c99;throw this[_0x470a19(0x83b)]['error'](this[_0x470a19(0x181)]+'\x20('+this[_0x470a19(0x1c1)]['wuid']+_0x470a19(0x66a)+_0x57a1a7),new m(_0x57a1a7);}}async['saveMediaToFile'](_0xed6701,_0xaa7946){const _0x20f59c=a0_0x4cdcbe;let _0x216291=j[_0x20f59c(0x669)][_0x20f59c(0x481)](__dirname,_0x20f59c(0x23d));F[_0x20f59c(0x864)](_0x216291)||F['mkdirSync'](_0x216291,{'recursive':!0x0});let _0x6256f0=j[_0x20f59c(0x669)][_0x20f59c(0x481)](_0x216291,_0xaa7946);return new Promise((_0x81ca67,_0x412307)=>{const _0x7155b8=_0x20f59c;F[_0x7155b8(0x383)](_0x6256f0,_0xed6701,_0x2334f4=>{const _0x331272=_0x7155b8;_0x2334f4?(this['logger']['error'](_0x331272(0x732)+(_0x2334f4 instanceof Error?_0x2334f4[_0x331272(0x517)]:JSON['stringify'](_0x2334f4,null,0x2))),_0x412307(_0x2334f4)):(this[_0x331272(0x83b)][_0x331272(0x65b)](_0x331272(0x311)+_0x6256f0),_0x81ca67(_0x6256f0));});});}async[a0_0x4cdcbe(0x51a)](_0x241175){const _0x320822=a0_0x4cdcbe;return await this['repository'][_0x320822(0x1bb)]['find'](_0x241175,this[_0x320822(0x1c1)][_0x320822(0x2db)]);}async[a0_0x4cdcbe(0x59f)](){const _0x1455d6=a0_0x4cdcbe;return await this[_0x1455d6(0x671)]['label'][_0x1455d6(0x521)]({'where':{}},this[_0x1455d6(0x1c1)][_0x1455d6(0x2db)]);}async[a0_0x4cdcbe(0x4a2)](_0x6a37d7){const _0x2c0039=a0_0x4cdcbe;return await this[_0x2c0039(0x671)]['message'][_0x2c0039(0x521)](_0x6a37d7,this[_0x2c0039(0x1c1)][_0x2c0039(0x2db)]);}async[a0_0x4cdcbe(0x49e)](){const _0x312d14=a0_0x4cdcbe;return this[_0x312d14(0x671)]['chat']['removeUnusedChatFields'](this[_0x312d14(0x1c1)][_0x312d14(0x2db)]),this[_0x312d14(0x671)][_0x312d14(0x538)]['updateMissingEtiquetas'](this[_0x312d14(0x1c1)]['wuid']),this[_0x312d14(0x671)]['chat']['updateMissingTags'](this['instance'][_0x312d14(0x2db)]),this[_0x312d14(0x671)]['chat'][_0x312d14(0x2a2)](this[_0x312d14(0x1c1)]['wuid']),await this[_0x312d14(0x671)]['chat'][_0x312d14(0x521)]({'where':{}},this[_0x312d14(0x1c1)][_0x312d14(0x2db)]);}async[a0_0x4cdcbe(0x65f)](_0x218638){const _0xfac4f3=a0_0x4cdcbe;try{if(!Array[_0xfac4f3(0x2cf)](_0x218638)||_0x218638[_0xfac4f3(0x59d)]===0x0)throw new Error(_0xfac4f3(0x38d));let _0x3c0a07=[],_0x394943=[];for(let _0x3e9bda of _0x218638){if(_0x3e9bda[_0xfac4f3(0x42f)])_0x3e9bda[_0xfac4f3(0x42f)]=this[_0xfac4f3(0x5b4)](_0x3e9bda['_id']);else continue;await this['repository'][_0xfac4f3(0x538)][_0xfac4f3(0x324)]({'where':{'_id':_0x3e9bda[_0xfac4f3(0x42f)]}},this['instance'][_0xfac4f3(0x2db)])?_0x394943[_0xfac4f3(0x7e2)]({'_id':_0x3e9bda[_0xfac4f3(0x42f)],'leadInfo':_0x3e9bda[_0xfac4f3(0x236)],'owner':this[_0xfac4f3(0x1c1)][_0xfac4f3(0x2db)]}):_0x3c0a07[_0xfac4f3(0x7e2)]({'_id':_0x3e9bda[_0xfac4f3(0x42f)],'owner':this['instance'][_0xfac4f3(0x2db)],'leadInfo':_0x3e9bda[_0xfac4f3(0x236)],'imported':!0x0});}return _0x394943['length']>0x0&&await this[_0xfac4f3(0x671)][_0xfac4f3(0x538)][_0xfac4f3(0x597)](_0x394943['map'](_0x413e4a=>({'query':{'where':{'_id':_0x413e4a['_id'],'owner':this[_0xfac4f3(0x1c1)]['wuid']}},'update':_0x413e4a}))),_0x3c0a07[_0xfac4f3(0x59d)]>0x0&&await this[_0xfac4f3(0x671)]['chat'][_0xfac4f3(0x490)](_0x3c0a07,this[_0xfac4f3(0x1c1)][_0xfac4f3(0x2db)]),{'updated':_0x394943[_0xfac4f3(0x59d)],'inserted':_0x3c0a07[_0xfac4f3(0x59d)]};}catch(_0x1cfe25){let _0x28ea7d=_0xfac4f3(0x5c9),_0x389de8=_0x1cfe25 instanceof Error?_0x1cfe25[_0xfac4f3(0x517)]:typeof _0x1cfe25==_0xfac4f3(0x4d6)?JSON[_0xfac4f3(0x289)](_0x1cfe25):_0x1cfe25,_0x1c2faf=_0x28ea7d+':\x20'+_0x389de8;throw this[_0xfac4f3(0x83b)][_0xfac4f3(0x2c1)](this[_0xfac4f3(0x181)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x1c2faf),new m(_0x1c2faf);}}async[a0_0x4cdcbe(0x5e8)](_0x50ef64){const _0x373c3b=a0_0x4cdcbe;try{if(!Array[_0x373c3b(0x2cf)](_0x50ef64)||_0x50ef64[_0x373c3b(0x59d)]===0x0)throw new Error(_0x373c3b(0x38d));let _0x4e93cd=0x64,_0x6ba7f2=0x0;for(let _0xae78e8=0x0;_0xae78e8<_0x50ef64[_0x373c3b(0x59d)];_0xae78e8+=_0x4e93cd){let _0x5bd8a3=_0x50ef64[_0x373c3b(0x5b3)](_0xae78e8,_0xae78e8+_0x4e93cd),{updated:_0x4ef72d}=await this[_0x373c3b(0x217)](_0x5bd8a3);_0x6ba7f2+=_0x4ef72d;}return{'updated':_0x6ba7f2};}catch(_0x48e2dc){let _0x17c12b='Erro\x20ao\x20importar\x20chats',_0xbd9d69=_0x48e2dc instanceof Error?_0x48e2dc[_0x373c3b(0x517)]:typeof _0x48e2dc=='object'?JSON[_0x373c3b(0x289)](_0x48e2dc):_0x48e2dc,_0x54e473=_0x17c12b+':\x20'+_0xbd9d69;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x373c3b(0x1c1)][_0x373c3b(0x2db)]+_0x373c3b(0x66a)+_0x54e473),new m(_0x54e473);}}async['importChatsBatch'](_0x5f347f){const _0x531dfc=a0_0x4cdcbe;try{let _0x1d2791=await this['repository'][_0x531dfc(0x522)][_0x531dfc(0x521)]({'where':{}},this[_0x531dfc(0x1c1)][_0x531dfc(0x2db)]),_0x1ebd69=new Set(_0x1d2791['map'](_0x1e4e23=>_0x1e4e23['_id'])),_0x5a2376=[],_0x12f470=[];for(let _0x12e670 of _0x5f347f){if(!_0x12e670[_0x531dfc(0x42f)])continue;_0x12e670[_0x531dfc(0x42f)]=this['createJid'](_0x12e670[_0x531dfc(0x42f)]);let _0x38f52f=await this[_0x531dfc(0x671)][_0x531dfc(0x538)]['findOne']({'where':{'_id':_0x12e670['_id']}},this[_0x531dfc(0x1c1)][_0x531dfc(0x2db)]),_0x2c1e2e={};if(Object[_0x531dfc(0x659)](_0x12e670[_0x531dfc(0x236)])[_0x531dfc(0x1d7)](([_0x219458,_0x4b0dee])=>{const _0x3566f2=_0x531dfc;_0x2c1e2e[_0x3566f2(0x7a8)+_0x219458]=_0x4b0dee;}),_0x38f52f&&!_0x38f52f[_0x531dfc(0x78a)]){let _0x2135e7=(_0x12e670[_0x531dfc(0x236)][_0x531dfc(0x88d)]||[])[_0x531dfc(0x58d)](_0x4f2c96=>_0x1ebd69[_0x531dfc(0x308)](_0x4f2c96)),_0x4d5486=new Set(_0x38f52f[_0x531dfc(0x236)][_0x531dfc(0x88d)]||[]),_0x59542e=_0x2135e7['filter'](_0x32342c=>!_0x4d5486[_0x531dfc(0x308)](_0x32342c)),_0x4d5a9d=[..._0x4d5486][_0x531dfc(0x58d)](_0x3456a0=>!_0x2135e7[_0x531dfc(0x192)](_0x3456a0));_0x12f470[_0x531dfc(0x7e2)](..._0x59542e['map'](_0x43313e=>this[_0x531dfc(0x7b6)](_0x43313e,_0x12e670[_0x531dfc(0x42f)]))),_0x12f470[_0x531dfc(0x7e2)](..._0x4d5a9d[_0x531dfc(0x79d)](_0x59ec92=>this[_0x531dfc(0x777)](_0x59ec92,_0x12e670[_0x531dfc(0x42f)]))),_0x12e670[_0x531dfc(0x236)][_0x531dfc(0x88d)]=_0x2135e7,_0x5a2376[_0x531dfc(0x7e2)]({'query':{'where':{'_id':_0x12e670['_id'],'owner':this[_0x531dfc(0x1c1)][_0x531dfc(0x2db)]}},'update':_0x2c1e2e});}else _0x2c1e2e[_0x531dfc(0x78a)]=!0x0,_0x5a2376[_0x531dfc(0x7e2)]({'query':{'where':{'_id':_0x12e670[_0x531dfc(0x42f)],'owner':this[_0x531dfc(0x1c1)][_0x531dfc(0x2db)]}},'update':_0x2c1e2e});}let _0x450dcb=await this['repository'][_0x531dfc(0x538)][_0x531dfc(0x597)](_0x5a2376);return await Promise['all'](_0x12f470),{'updated':_0x450dcb};}catch(_0x43a1c7){let _0x2d035d=_0x531dfc(0x5c9),_0x5cdefe=_0x43a1c7 instanceof Error?_0x43a1c7['message']:typeof _0x43a1c7==_0x531dfc(0x4d6)?JSON[_0x531dfc(0x289)](_0x43a1c7):_0x43a1c7,_0x2b0a58=_0x2d035d+':\x20'+_0x5cdefe;throw this[_0x531dfc(0x83b)]['error'](this['instanceName']+'\x20('+this[_0x531dfc(0x1c1)]['wuid']+'):\x20'+_0x2b0a58),new m(_0x2b0a58);}}async[a0_0x4cdcbe(0x4bd)](){const _0x57b5b2=a0_0x4cdcbe;return await this['client'][_0x57b5b2(0x4bd)]();}async[a0_0x4cdcbe(0x6b8)](_0x4b530a){const _0x591f57=a0_0x4cdcbe;try{return await this['client'][_0x591f57(0x218)](_0x4b530a[_0x591f57(0x243)][_0x591f57(0x8be)]),await this[_0x591f57(0x811)][_0x591f57(0x4c3)](_0x4b530a['privacySettings'][_0x591f57(0x3ca)]),await this['client'][_0x591f57(0x7fb)](_0x4b530a[_0x591f57(0x243)][_0x591f57(0x4b1)]),await this['client']['updateOnlinePrivacy'](_0x4b530a[_0x591f57(0x243)][_0x591f57(0x19b)]),await this[_0x591f57(0x811)][_0x591f57(0x55d)](_0x4b530a[_0x591f57(0x243)][_0x591f57(0x188)]),await this[_0x591f57(0x811)][_0x591f57(0x3c8)](_0x4b530a['privacySettings'][_0x591f57(0x80a)]),this['client']?.['ws']?.['close'](),{'update':_0x591f57(0x3bb),'data':{'readreceipts':_0x4b530a[_0x591f57(0x243)]['readreceipts'],'profile':_0x4b530a[_0x591f57(0x243)][_0x591f57(0x3ca)],'status':_0x4b530a[_0x591f57(0x243)]['status'],'online':_0x4b530a[_0x591f57(0x243)]['online'],'last':_0x4b530a[_0x591f57(0x243)][_0x591f57(0x188)],'groupadd':_0x4b530a[_0x591f57(0x243)][_0x591f57(0x80a)]}};}catch(_0x25072d){let _0xa4151='Erro\x20ao\x20alterar\x20privacidade',_0x139112=_0x25072d instanceof Error?_0x25072d[_0x591f57(0x517)]:typeof _0x25072d==_0x591f57(0x4d6)?JSON[_0x591f57(0x289)](_0x25072d):_0x25072d,_0x111802=_0xa4151+':\x20'+_0x139112;throw this[_0x591f57(0x83b)]['error'](this[_0x591f57(0x181)]+'\x20('+this[_0x591f57(0x1c1)]['wuid']+'):\x20'+_0x111802),new m(_0x111802);}}async[a0_0x4cdcbe(0x809)](_0x1ea354){const _0x57cf30=a0_0x4cdcbe;let _0x1ab89e=(_0x1ea354?this[_0x57cf30(0x5b4)](_0x1ea354):this[_0x57cf30(0x811)]?.['user']?.['id'])[_0x57cf30(0x1a6)](/:\d{1,2}@/g,'@');this['logger'][_0x57cf30(0x29b)](this['instanceName']+'\x20('+this[_0x57cf30(0x1c1)]['wuid']+_0x57cf30(0x3ee)+_0x1ab89e);let _0xe7b358=await this['repository']['contact']['findOne']({'where':{'_id':_0x1ab89e}},this['instance'][_0x57cf30(0x2db)]),_0x133afc=_0xe7b358?_0xe7b358[_0x57cf30(0x8b6)]:null;try{let _0x2a33e0=(await this[_0x57cf30(0x8d4)]({'numbers':[_0x1ab89e]}))?.['shift'](),_0x3d1700=(await this['findAndUpdateCacheContact'](_0x1ab89e,null,!0x1))['cachedContact'][_0x57cf30(0x1fd)],_0x9cd95a=await this[_0x57cf30(0x4f6)](_0x2a33e0?.[_0x57cf30(0x269)]),_0x5005b1=await this[_0x57cf30(0x260)](_0x2a33e0?.[_0x57cf30(0x269)]),_0x5470e0=(await this[_0x57cf30(0x8c1)](_0x1ab89e,null,!0x1))[_0x57cf30(0x235)]['name'],_0x2c3146=await this[_0x57cf30(0x671)][_0x57cf30(0x538)][_0x57cf30(0x324)]({'where':{'_id':_0x1ab89e}},this['instance'][_0x57cf30(0x2db)]),_0x4b8943={'imagechat':_0x3d1700,'contactname':_0x133afc||null,'pushName':_0x5470e0,'status':_0x9cd95a?.[_0x57cf30(0x4b1)],'isBusiness':_0x5005b1[_0x57cf30(0x367)],'email':_0x5005b1?.[_0x57cf30(0x554)],'description':_0x5005b1?.[_0x57cf30(0x85d)],'website':_0x5005b1?.['website']?.['shift'](),'lastcache':Date[_0x57cf30(0x472)](),'imported':!_0x2c3146},_0x5bcd3f=await this[_0x57cf30(0x671)][_0x57cf30(0x538)][_0x57cf30(0x869)]({'where':{'_id':_0x1ab89e}},_0x4b8943,this['instance']['wuid']),_0x2df8d1={'owner':this[_0x57cf30(0x1c1)]['wuid'],'_id':_0x1ab89e,'profilePictureUrl':_0x3d1700,'status':_0x9cd95a?.[_0x57cf30(0x4b1)]};return this[_0x57cf30(0x671)][_0x57cf30(0x1bb)][_0x57cf30(0x17d)]([_0x2df8d1],this[_0x57cf30(0x1c1)][_0x57cf30(0x2db)]),_0x5bcd3f&&V(this['instanceName'],_0x57cf30(0x3ef),{'chat':_0x5bcd3f}),{'wuid':_0x2a33e0?.[_0x57cf30(0x269)]||_0x1ab89e,'name':_0x2a33e0?.[_0x57cf30(0x5cf)],'pushName':_0x5470e0,'numberExists':_0x2a33e0?.[_0x57cf30(0x4e1)],'picture':_0x3d1700,'status':_0x9cd95a?.[_0x57cf30(0x4b1)],'isBusiness':_0x5005b1[_0x57cf30(0x367)],'email':_0x5005b1?.['email'],'description':_0x5005b1?.[_0x57cf30(0x85d)],'website':_0x5005b1?.[_0x57cf30(0x6e7)]?.[_0x57cf30(0x7b1)]()};}catch(_0xc2dff8){return this[_0x57cf30(0x83b)][_0x57cf30(0x2c1)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0xc2dff8 instanceof Error?_0xc2dff8[_0x57cf30(0x517)]:JSON[_0x57cf30(0x289)](_0xc2dff8,null,0x2))),{};}}async['fetchBusinessProfile'](_0x406e5){const _0x2323db=a0_0x4cdcbe;this[_0x2323db(0x83b)]['verbose'](this[_0x2323db(0x181)]+'\x20('+this[_0x2323db(0x1c1)][_0x2323db(0x2db)]+'):Fetching\x20business\x20profile');try{let _0x24cfbd=_0x406e5?this[_0x2323db(0x5b4)](_0x406e5):this[_0x2323db(0x1c1)]['wuid'],_0x34828b=await this[_0x2323db(0x811)][_0x2323db(0x6d1)](_0x24cfbd);return this[_0x2323db(0x83b)][_0x2323db(0x29b)](this[_0x2323db(0x181)]+'\x20('+this[_0x2323db(0x1c1)]['wuid']+'):Trying\x20to\x20get\x20business\x20profile'),_0x34828b?(this['logger']['verbose'](this[_0x2323db(0x181)]+'\x20('+this[_0x2323db(0x1c1)]['wuid']+_0x2323db(0x266)),{'isBusiness':!0x0,..._0x34828b}):{'isBusiness':!0x1,'message':_0x2323db(0x205),...(await this[_0x2323db(0x8d4)]({'numbers':[_0x24cfbd]}))?.[_0x2323db(0x7b1)]()};}catch(_0x291bf1){let _0x57b9dd=_0x2323db(0x67d),_0x51f303=_0x291bf1 instanceof Error?_0x291bf1[_0x2323db(0x517)]:typeof _0x291bf1==_0x2323db(0x4d6)?JSON[_0x2323db(0x289)](_0x291bf1):_0x291bf1,_0x2c2e6b=_0x57b9dd+':\x20'+_0x51f303;throw this[_0x2323db(0x83b)][_0x2323db(0x2c1)](this[_0x2323db(0x181)]+'\x20('+this[_0x2323db(0x1c1)][_0x2323db(0x2db)]+'):\x20'+_0x2c2e6b),new O(_0x2c2e6b);}}async[a0_0x4cdcbe(0x4f6)](_0x935803){const _0x27046e=a0_0x4cdcbe;let _0xc85bca=this['createJid'](_0x935803);try{return{'wuid':_0xc85bca,'status':(await this[_0x27046e(0x811)][_0x27046e(0x791)](_0xc85bca))?.['status']};}catch{return{'wuid':_0xc85bca,'status':null};}}async[a0_0x4cdcbe(0x2c5)](_0x554e60){const _0xc7efd2=a0_0x4cdcbe;try{return await this[_0xc7efd2(0x811)]['updateProfileName'](_0x554e60),{'update':_0xc7efd2(0x3bb)};}catch(_0x14704a){let _0x2effad='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x2ebcdb=_0x14704a instanceof Error?_0x14704a[_0xc7efd2(0x517)]:typeof _0x14704a==_0xc7efd2(0x4d6)?JSON[_0xc7efd2(0x289)](_0x14704a):_0x14704a,_0x31dcb0=_0x2effad+':\x20'+_0x2ebcdb;throw this['logger'][_0xc7efd2(0x2c1)](this[_0xc7efd2(0x181)]+'\x20('+this[_0xc7efd2(0x1c1)][_0xc7efd2(0x2db)]+_0xc7efd2(0x66a)+_0x31dcb0),new O(_0x31dcb0);}}async['updateProfileStatus'](_0x56d43f){const _0x467ddb=a0_0x4cdcbe;try{return await this[_0x467ddb(0x811)][_0x467ddb(0x45b)](_0x56d43f),{'update':_0x467ddb(0x3bb)};}catch(_0x5a8bea){let _0x41b061=_0x467ddb(0x1e0),_0x2a8c35=_0x5a8bea instanceof Error?_0x5a8bea['message']:typeof _0x5a8bea==_0x467ddb(0x4d6)?JSON[_0x467ddb(0x289)](_0x5a8bea):_0x5a8bea,_0x8e65e2=_0x41b061+':\x20'+_0x2a8c35;throw this[_0x467ddb(0x83b)][_0x467ddb(0x2c1)](this[_0x467ddb(0x181)]+'\x20('+this[_0x467ddb(0x1c1)][_0x467ddb(0x2db)]+'):\x20'+_0x8e65e2),new O(_0x8e65e2);}}async['updateProfilePicture'](_0x2a29f1){const _0x5de634=a0_0x4cdcbe;try{let _0x57d1fe;if((0x0,L[_0x5de634(0x4a6)])(_0x2a29f1)){let _0x4e90bc=new Date()['getTime'](),_0x3229a1=_0x2a29f1+_0x5de634(0x445)+_0x4e90bc;_0x57d1fe=(await ee[_0x5de634(0x669)][_0x5de634(0x2df)](_0x3229a1,{'responseType':_0x5de634(0x7d0)}))['data'];}else{if((0x0,L['isBase64'])(_0x2a29f1))_0x57d1fe=Buffer[_0x5de634(0x1d1)](_0x2a29f1,_0x5de634(0x1ca));else throw new m(_0x5de634(0x5bb));}return await this['client'][_0x5de634(0x340)](this[_0x5de634(0x1c1)][_0x5de634(0x2db)],_0x57d1fe),{'update':_0x5de634(0x3bb)};}catch(_0x1919a2){let _0x262016=_0x5de634(0x48e),_0x2ec219=_0x1919a2 instanceof Error?_0x1919a2[_0x5de634(0x517)]:typeof _0x1919a2==_0x5de634(0x4d6)?JSON[_0x5de634(0x289)](_0x1919a2):_0x1919a2,_0x57efcb=_0x262016+':\x20'+_0x2ec219;throw this[_0x5de634(0x83b)][_0x5de634(0x2c1)](this[_0x5de634(0x181)]+'\x20('+this['instance']['wuid']+_0x5de634(0x66a)+_0x57efcb),new O(_0x57efcb);}}async[a0_0x4cdcbe(0x6f3)](){const _0x22ee99=a0_0x4cdcbe;try{return await this['client'][_0x22ee99(0x6f3)](this[_0x22ee99(0x1c1)]['wuid']),{'update':'success'};}catch(_0x21638e){let _0x1bc88b=_0x22ee99(0x884),_0x301d09=_0x21638e instanceof Error?_0x21638e['message']:typeof _0x21638e==_0x22ee99(0x4d6)?JSON[_0x22ee99(0x289)](_0x21638e):_0x21638e,_0x1bb62b=_0x1bc88b+':\x20'+_0x301d09;throw this[_0x22ee99(0x83b)]['error'](this[_0x22ee99(0x181)]+'\x20('+this[_0x22ee99(0x1c1)][_0x22ee99(0x2db)]+_0x22ee99(0x66a)+_0x1bb62b),new O(_0x1bb62b);}}async[a0_0x4cdcbe(0x51b)](_0x24bc72){const _0x3a0344=a0_0x4cdcbe;try{let _0x4ae01c=(await this[_0x3a0344(0x8d4)]({'numbers':_0x24bc72[_0x3a0344(0x1cf)]}))['filter'](_0x3f6a92=>_0x3f6a92[_0x3a0344(0x4e1)])[_0x3a0344(0x79d)](_0x14a0d5=>_0x14a0d5[_0x3a0344(0x269)]),{id:_0x25c167}=await this['client'][_0x3a0344(0x1a5)](_0x24bc72[_0x3a0344(0x7d3)],_0x4ae01c);_0x24bc72?.['description']&&await this[_0x3a0344(0x811)][_0x3a0344(0x8c5)](_0x25c167,_0x24bc72[_0x3a0344(0x85d)]);let _0x55798e=await this['client']['groupMetadata'](_0x25c167);return _0x55798e['awaitingApproval']=[],{'metadata':_0x55798e};}catch(_0x393537){let _0x30e968=_0x3a0344(0x4ea),_0x5e714e=_0x393537 instanceof Error?_0x393537['message']:typeof _0x393537=='object'?JSON['stringify'](_0x393537):_0x393537,_0x546da1=_0x30e968+':\x20'+_0x5e714e;throw this[_0x3a0344(0x83b)]['error'](this[_0x3a0344(0x181)]+'\x20('+this[_0x3a0344(0x1c1)][_0x3a0344(0x2db)]+_0x3a0344(0x66a)+_0x546da1),new O(_0x546da1);}}async[a0_0x4cdcbe(0x6cd)](_0xa6c579){const _0x3d519c=a0_0x4cdcbe;try{if(_0xa6c579[_0x3d519c(0x73a)]===!0x0&&await this['client']['groupSettingUpdate'](_0xa6c579[_0x3d519c(0x30d)],_0x3d519c(0x69f)),_0xa6c579[_0x3d519c(0x73a)]===!0x1&&await this['client'][_0x3d519c(0x310)](_0xa6c579[_0x3d519c(0x30d)],'unlocked'),_0xa6c579['announce']===!0x0&&await this[_0x3d519c(0x811)][_0x3d519c(0x310)](_0xa6c579[_0x3d519c(0x30d)],_0x3d519c(0x2b1)),_0xa6c579[_0x3d519c(0x209)]===!0x1&&await this['client'][_0x3d519c(0x310)](_0xa6c579[_0x3d519c(0x30d)],_0x3d519c(0x8de)),_0xa6c579['memberAddMode']===!0x0&&await this[_0x3d519c(0x811)]['groupMemberAddMode'](_0xa6c579[_0x3d519c(0x30d)],_0x3d519c(0x1b9)),_0xa6c579[_0x3d519c(0x2bb)]===!0x1&&await this[_0x3d519c(0x811)][_0x3d519c(0x7c1)](_0xa6c579[_0x3d519c(0x30d)],'admin_add'),_0xa6c579[_0x3d519c(0x658)]===!0x0&&await this[_0x3d519c(0x811)][_0x3d519c(0x564)](_0xa6c579['groupJid'],'on'),_0xa6c579[_0x3d519c(0x658)]===!0x1&&await this['client'][_0x3d519c(0x564)](_0xa6c579[_0x3d519c(0x30d)],_0x3d519c(0x5d8)),typeof _0xa6c579[_0x3d519c(0x787)]<'u'&&_0xa6c579[_0x3d519c(0x787)]!==null&&await this[_0x3d519c(0x811)][_0x3d519c(0x894)](_0xa6c579[_0x3d519c(0x30d)],_0xa6c579[_0x3d519c(0x787)]),_0xa6c579['name']&&await this[_0x3d519c(0x811)][_0x3d519c(0x40b)](_0xa6c579[_0x3d519c(0x30d)],_0xa6c579['name']),_0xa6c579[_0x3d519c(0x85d)]&&await this[_0x3d519c(0x811)][_0x3d519c(0x8c5)](_0xa6c579[_0x3d519c(0x30d)],_0xa6c579[_0x3d519c(0x85d)]),_0xa6c579[_0x3d519c(0x1d4)]){let _0x45f69a;if((0x0,L[_0x3d519c(0x4a6)])(_0xa6c579['image'])){let _0x59db1e=new Date()[_0x3d519c(0x5ea)](),_0x460873=_0xa6c579['image']+_0x3d519c(0x445)+_0x59db1e;_0x45f69a=(await ee[_0x3d519c(0x669)][_0x3d519c(0x2df)](_0x460873,{'responseType':_0x3d519c(0x7d0)}))['data'];}else{if((0x0,L[_0x3d519c(0x733)])(_0xa6c579[_0x3d519c(0x1d4)]))_0x45f69a=Buffer[_0x3d519c(0x1d1)](_0xa6c579[_0x3d519c(0x1d4)],_0x3d519c(0x1ca));else throw new m(_0x3d519c(0x5bb));}await this[_0x3d519c(0x811)]['updateProfilePicture'](_0xa6c579['groupJid'],_0x45f69a);}return await this[_0x3d519c(0x692)]({'groupJid':_0xa6c579[_0x3d519c(0x30d)]});}catch(_0x2ac29c){let _0x30f96a=_0x3d519c(0x70f),_0x4274f1=_0x2ac29c instanceof Error?_0x2ac29c[_0x3d519c(0x517)]:typeof _0x2ac29c=='object'?JSON[_0x3d519c(0x289)](_0x2ac29c):_0x2ac29c,_0x5625e6=_0x30f96a+':\x20'+_0x4274f1;throw this[_0x3d519c(0x83b)][_0x3d519c(0x2c1)](this[_0x3d519c(0x181)]+'\x20('+this[_0x3d519c(0x1c1)][_0x3d519c(0x2db)]+_0x3d519c(0x66a)+_0x5625e6),new O(_0x5625e6);}}async['updateGParticipant'](_0x1539d0){const _0x22818f=a0_0x4cdcbe;try{if(_0x1539d0['action']==='approve'||_0x1539d0[_0x22818f(0x8ba)]===_0x22818f(0x21e)){let _0x2903bc=_0x1539d0[_0x22818f(0x1cf)]['map'](_0x108bc2=>this['createJid'](_0x108bc2));await this[_0x22818f(0x811)][_0x22818f(0x8a1)](_0x1539d0['groupJid'],_0x2903bc,_0x1539d0[_0x22818f(0x8ba)]);}else{if(_0x1539d0[_0x22818f(0x8ba)]==='add'){let _0x4d7b5a=(await this[_0x22818f(0x8d4)]({'numbers':_0x1539d0['participants']}))['filter'](_0x3df2cd=>_0x3df2cd['exists'])[_0x22818f(0x79d)](_0x56a2ec=>this[_0x22818f(0x5b4)](_0x56a2ec[_0x22818f(0x269)]));if(_0x4d7b5a[_0x22818f(0x59d)]===0x0)throw new m(_0x22818f(0x7c0));await this['client'][_0x22818f(0x437)](_0x1539d0['groupJid'],_0x4d7b5a,_0x22818f(0x52d));}else{let _0x281225=_0x1539d0[_0x22818f(0x1cf)][_0x22818f(0x79d)](_0x13063c=>this['createJid'](_0x13063c));await this['client'][_0x22818f(0x437)](_0x1539d0['groupJid'],_0x281225,_0x1539d0['action']);}}return await this[_0x22818f(0x692)]({'groupJid':_0x1539d0[_0x22818f(0x30d)]});}catch(_0x6f601f){let _0x562878=_0x22818f(0x881),_0x58ef29=_0x6f601f instanceof Error?_0x6f601f[_0x22818f(0x517)]:typeof _0x6f601f==_0x22818f(0x4d6)?JSON[_0x22818f(0x289)](_0x6f601f):_0x6f601f,_0x48101a=_0x562878+':\x20'+_0x58ef29;throw this[_0x22818f(0x83b)][_0x22818f(0x2c1)](this[_0x22818f(0x181)]+'\x20('+this['instance'][_0x22818f(0x2db)]+_0x22818f(0x66a)+_0x48101a),new m(_0x48101a);}}async[a0_0x4cdcbe(0x5b0)](_0x52b1e8){const _0x4f6e97=a0_0x4cdcbe;try{return await this[_0x4f6e97(0x811)]['groupGetInviteInfo'](_0x52b1e8[_0x4f6e97(0x244)]);}catch(_0x2732ce){let _0x2e7978=_0x4f6e97(0x6ff),_0xca8446=_0x2732ce instanceof Error?_0x2732ce[_0x4f6e97(0x517)]:typeof _0x2732ce==_0x4f6e97(0x4d6)?JSON[_0x4f6e97(0x289)](_0x2732ce):_0x2732ce,_0x1fbabb=_0x2e7978+':\x20'+_0xca8446;throw this[_0x4f6e97(0x83b)][_0x4f6e97(0x2c1)](this[_0x4f6e97(0x181)]+'\x20('+this[_0x4f6e97(0x1c1)][_0x4f6e97(0x2db)]+'):\x20'+_0x1fbabb),new m(_0x1fbabb);}}async['findGroup'](_0x1b2302,_0x28a2b0=a0_0x4cdcbe(0x307)){const _0x41c622=a0_0x4cdcbe;try{let _0x4bb12d=await this['repository'][_0x41c622(0x538)][_0x41c622(0x324)]({'where':{'_id':_0x1b2302[_0x41c622(0x30d)]}},this[_0x41c622(0x1c1)]['wuid']),_0x363027=_0x4bb12d?_0x4bb12d[_0x41c622(0x82f)]:null,_0x5837c9=0x18*0x3c*0x3c*0x3e8;if(!_0x363027||_0x363027[_0x41c622(0x675)]&&Date[_0x41c622(0x472)]()-_0x363027[_0x41c622(0x675)]>_0x5837c9){let _0x1341ff=await this[_0x41c622(0x811)]['groupMetadata'](_0x1b2302[_0x41c622(0x30d)]);if(_0x1341ff[_0x41c622(0x6f7)]=_0x1341ff?.[_0x41c622(0x6f7)]&&_0x1341ff[_0x41c622(0x6f7)]['toString']()[_0x41c622(0x59d)]<0xd?_0x1341ff?.[_0x41c622(0x6f7)]*0x3e8:_0x1341ff?.[_0x41c622(0x6f7)]||null,_0x1341ff[_0x41c622(0x183)]=_0x1341ff?.[_0x41c622(0x183)]&&_0x1341ff[_0x41c622(0x183)][_0x41c622(0x897)]()[_0x41c622(0x59d)]<0xd?_0x1341ff?.[_0x41c622(0x183)]*0x3e8:_0x1341ff?.['creation']||null,_0x363027={..._0x1341ff,'lastUpdate':Date[_0x41c622(0x472)]()},!_0x1341ff)return;}let _0x4599c6=_0x363027[_0x41c622(0x1cf)][_0x41c622(0x5e6)](_0x4121d2=>_0x4121d2['id']===this[_0x41c622(0x1c1)][_0x41c622(0x2db)]+'@s.whatsapp.net'&&_0x4121d2[_0x41c622(0x20b)]!=null);!_0x363027[_0x41c622(0x244)]&&_0x4599c6&&(_0x363027[_0x41c622(0x244)]=(await this[_0x41c622(0x244)](_0x1b2302,!0x1))[_0x41c622(0x270)]);let _0x1c07aa=(!_0x363027['announce']||_0x4599c6)&&(!_0x363027[_0x41c622(0x654)]||_0x363027[_0x41c622(0x654)]&&_0x363027[_0x41c622(0x234)]&&_0x4599c6);_0x363027[_0x41c622(0x7d4)]=_0x4599c6,_0x363027[_0x41c622(0x5d9)]=_0x1c07aa;let _0x10516e=[];if(_0x4599c6&&_0x363027[_0x41c622(0x658)])try{_0x10516e=await this[_0x41c622(0x811)][_0x41c622(0x420)](_0x1b2302['groupJid']),_0x363027[_0x41c622(0x7bd)]=Date[_0x41c622(0x472)]();}catch(_0x505f9d){this[_0x41c622(0x83b)][_0x41c622(0x29b)](this[_0x41c622(0x181)]+'\x20('+this[_0x41c622(0x1c1)]['wuid']+_0x41c622(0x25c)+_0x1b2302[_0x41c622(0x30d)]+':\x20'+(_0x505f9d instanceof Error?_0x505f9d[_0x41c622(0x517)]:JSON[_0x41c622(0x289)](_0x505f9d,null,0x2)));}try{_0x363027['image']=(await this[_0x41c622(0x8c1)](_0x1b2302[_0x41c622(0x30d)],null,!0x0))['cachedContact']['pictureUrl'];}catch(_0x19adc9){this[_0x41c622(0x83b)][_0x41c622(0x29b)](this[_0x41c622(0x181)]+'\x20('+this[_0x41c622(0x1c1)][_0x41c622(0x2db)]+_0x41c622(0x42b)+_0x1b2302[_0x41c622(0x30d)]+':\x20'+(_0x19adc9 instanceof Error?_0x19adc9[_0x41c622(0x517)]:JSON['stringify'](_0x19adc9,null,0x2)));}let _0x34632c=_0x363027[_0x41c622(0x1cf)][_0x41c622(0x79d)](_0xe2a9de=>_0xe2a9de['id']),_0x367c30=_0x10516e[_0x41c622(0x79d)](_0x24e46c=>_0x24e46c[_0x41c622(0x269)]),_0xdf21eb=await this[_0x41c622(0x671)][_0x41c622(0x3d1)][_0x41c622(0x2fe)]([..._0x34632c,..._0x367c30]);_0x363027[_0x41c622(0x1cf)]=_0x363027['participants'][_0x41c622(0x79d)](_0x243891=>{const _0x20c574=_0x41c622;let _0x3e37f5=_0xdf21eb[_0x20c574(0x521)](_0x2b1e41=>_0x2b1e41['_id']===_0x243891['id']);return{'id':_0x243891['id'],'isAdmin':[_0x20c574(0x20b),_0x20c574(0x6ac)][_0x20c574(0x192)](_0x243891[_0x20c574(0x20b)]),'admin':_0x243891['admin'],'pushName':_0x3e37f5?.['name'],'profilePictureUrl':_0x3e37f5?.[_0x20c574(0x1fd)]};}),_0x363027[_0x41c622(0x890)]=_0x10516e[_0x41c622(0x79d)](_0x141fcb=>{const _0x3f4c98=_0x41c622;let _0x45d94f=_0xdf21eb[_0x3f4c98(0x521)](_0x3df279=>_0x3df279[_0x3f4c98(0x42f)]===_0x141fcb[_0x3f4c98(0x269)]);return{'id':_0x141fcb['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x45d94f?.[_0x3f4c98(0x5cf)],'profilePictureUrl':_0x45d94f?.[_0x3f4c98(0x1fd)],'request_method':_0x141fcb[_0x3f4c98(0x47f)],'request_time':_0x141fcb['request_time']};});let _0x10789c=await this[_0x41c622(0x671)][_0x41c622(0x538)][_0x41c622(0x869)]({'where':{'_id':_0x1b2302[_0x41c622(0x30d)]}},{'imagechat':_0x363027[_0x41c622(0x1d4)],'name':_0x363027[_0x41c622(0x7d3)],'lastcache':Date[_0x41c622(0x472)](),'groupdata':_0x363027},this[_0x41c622(0x1c1)][_0x41c622(0x2db)]);return V(this[_0x41c622(0x181)],'chats',{'chat':_0x10789c}),{'metadata':_0x363027};}catch(_0x1d810c){if(_0x28a2b0===_0x41c622(0x22d))return;throw new q(_0x41c622(0x770),_0x1d810c[_0x41c622(0x517)]['toString']());}}async[a0_0x4cdcbe(0x82c)](){const _0x4ff7a5=a0_0x4cdcbe;try{this[_0x4ff7a5(0x83b)][_0x4ff7a5(0x71f)](_0x4ff7a5(0x251));let _0x58a135=Date[_0x4ff7a5(0x472)](),_0x17b7b6=0x3*0x3c*0x3c*0x3e8;return _0x58a135-this[_0x4ff7a5(0x709)]>_0x17b7b6&&(this[_0x4ff7a5(0x6ee)](),this['lastRealGroupsFetch']=_0x58a135),(await this[_0x4ff7a5(0x671)][_0x4ff7a5(0x538)][_0x4ff7a5(0x5eb)]({'where':{'group':!0x0}},this[_0x4ff7a5(0x1c1)][_0x4ff7a5(0x2db)]))['map'](_0x3c65ae=>({..._0x3c65ae[_0x4ff7a5(0x82f)],'groupJid':_0x3c65ae['_id'],'image':_0x3c65ae[_0x4ff7a5(0x7cb)]}));}catch(_0x21e5ed){let _0x8814a2=_0x4ff7a5(0x55a),_0x270a50=_0x21e5ed instanceof Error?_0x21e5ed['message']:typeof _0x21e5ed==_0x4ff7a5(0x4d6)?JSON[_0x4ff7a5(0x289)](_0x21e5ed):_0x21e5ed,_0x52ed79=_0x8814a2+':\x20'+_0x270a50;throw this[_0x4ff7a5(0x83b)][_0x4ff7a5(0x2c1)](this[_0x4ff7a5(0x181)]+'\x20('+this[_0x4ff7a5(0x1c1)][_0x4ff7a5(0x2db)]+_0x4ff7a5(0x66a)+_0x52ed79),new q(_0x52ed79);}}async[a0_0x4cdcbe(0x6ee)](){const _0x11ae31=a0_0x4cdcbe;try{this[_0x11ae31(0x83b)][_0x11ae31(0x71f)](_0x11ae31(0x72c));let _0xbdadce=[],_0x51de38=await this[_0x11ae31(0x811)]['groupFetchAllParticipating'](),_0x337108=Object[_0x11ae31(0x4b7)](_0x51de38),_0x24b6fb=_0x337108[_0x11ae31(0x58d)](_0x52c389=>(0x0,w['isJidGroup'])(_0x52c389?.['id']))['map'](async _0x3d7b2a=>{const _0x2e9dd6=_0x11ae31;try{return await this[_0x2e9dd6(0x811)]['profilePictureUrl'](_0x3d7b2a['id'],_0x2e9dd6(0x74b));}catch(_0x2951c0){return this[_0x2e9dd6(0x83b)]['verbose'](this[_0x2e9dd6(0x181)]+'\x20('+this[_0x2e9dd6(0x1c1)][_0x2e9dd6(0x2db)]+_0x2e9dd6(0x42b)+_0x3d7b2a['id']+':\x20'+(_0x2951c0 instanceof Error?_0x2951c0[_0x2e9dd6(0x517)]:JSON[_0x2e9dd6(0x289)](_0x2951c0,null,0x2))),null;}}),_0x4b5843=await Promise[_0x11ae31(0x653)](_0x24b6fb);for(let _0x1458ac=0x0;_0x1458ac<_0x337108['length'];_0x1458ac++){let _0x426e78=_0x337108[_0x1458ac];(0x0,w[_0x11ae31(0x351)])(_0x426e78?.['id'])&&(_0xbdadce[_0x11ae31(0x7e2)]({'groupJid':_0x426e78?.['id'],'subject':_0x426e78?.['subject'],'subjectOwner':_0x426e78?.['subjectOwner']?.[_0x11ae31(0x43b)]('@')[0x0],'subjectTime':_0x426e78?.[_0x11ae31(0x6f7)],'creation':_0x426e78?.[_0x11ae31(0x183)],'size':_0x426e78?.[_0x11ae31(0x1cf)]?.[_0x11ae31(0x59d)],'owner':_0x426e78?.[_0x11ae31(0x3c1)]?.[_0x11ae31(0x43b)]('@')[0x0],'desc':_0x426e78?.[_0x11ae31(0x33d)],'restrict':_0x426e78?.[_0x11ae31(0x73a)],'announce':_0x426e78?.[_0x11ae31(0x209)],'image':_0x4b5843[_0x1458ac],'isCommunity':_0x426e78?.[_0x11ae31(0x654)],'joinApprovalMode':_0x426e78?.[_0x11ae31(0x658)],'memberCanAddParticipant':_0x426e78?.[_0x11ae31(0x2bb)],'participants':_0x426e78?.[_0x11ae31(0x1cf)],'descOwner':_0x426e78?.['descOwner'],'descId':_0x426e78?.[_0x11ae31(0x5fc)],'memberAddMode':_0x426e78?.['memberAddMode'],'isCommunityAnnounce':_0x426e78?.[_0x11ae31(0x234)],'ephemeralDuration':_0x426e78?.[_0x11ae31(0x801)]||0x0,'author':_0x426e78?.[_0x11ae31(0x49c)]}),this['updateChatGroupData'](_0x337108[_0x1458ac]));}return _0xbdadce;}catch(_0x471daf){let _0x5e08a9=_0x11ae31(0x4f8),_0x521d2e=_0x471daf instanceof Error?_0x471daf[_0x11ae31(0x517)]:typeof _0x471daf==_0x11ae31(0x4d6)?JSON[_0x11ae31(0x289)](_0x471daf):_0x471daf,_0x3b2d8e=_0x5e08a9+':\x20'+_0x521d2e;throw this[_0x11ae31(0x83b)][_0x11ae31(0x2c1)](this['instanceName']+'\x20('+this[_0x11ae31(0x1c1)][_0x11ae31(0x2db)]+_0x11ae31(0x66a)+_0x3b2d8e),new q(_0x3b2d8e);}}async[a0_0x4cdcbe(0x384)](_0x1472e2){const _0x1d3d41=a0_0x4cdcbe;let _0x1be21b=await this[_0x1d3d41(0x671)][_0x1d3d41(0x538)][_0x1d3d41(0x324)]({'where':{'_id':_0x1472e2['id']}},this[_0x1d3d41(0x1c1)][_0x1d3d41(0x2db)]);_0x1472e2[_0x1d3d41(0x6f7)]=_0x1472e2?.[_0x1d3d41(0x6f7)]&&_0x1472e2['subjectTime'][_0x1d3d41(0x897)]()[_0x1d3d41(0x59d)]<0xd?_0x1472e2?.[_0x1d3d41(0x6f7)]*0x3e8:_0x1472e2?.[_0x1d3d41(0x6f7)]||null,_0x1472e2[_0x1d3d41(0x183)]=_0x1472e2?.[_0x1d3d41(0x183)]&&_0x1472e2[_0x1d3d41(0x183)][_0x1d3d41(0x897)]()[_0x1d3d41(0x59d)]<0xd?_0x1472e2?.[_0x1d3d41(0x183)]*0x3e8:_0x1472e2?.[_0x1d3d41(0x183)]||null;let _0x22920c=_0x1be21b?.[_0x1d3d41(0x82f)]?.[_0x1d3d41(0x890)]||[],_0x41539b=_0x1be21b?.[_0x1d3d41(0x82f)]?.[_0x1d3d41(0x7bd)],_0x53d81f=_0x1472e2[_0x1d3d41(0x1cf)][_0x1d3d41(0x79d)](_0xd3a3b9=>{const _0x43bf6f=_0x1d3d41;let _0x819a18=_0x1be21b?.[_0x43bf6f(0x82f)]?.['participants']['find'](_0x29892c=>_0x29892c['id']===_0xd3a3b9['id']);return{..._0xd3a3b9,'isAdmin':[_0x43bf6f(0x20b),_0x43bf6f(0x6ac)][_0x43bf6f(0x192)](_0xd3a3b9[_0x43bf6f(0x20b)]),'admin':_0xd3a3b9[_0x43bf6f(0x20b)],'name':_0x819a18?.[_0x43bf6f(0x5cf)]||_0xd3a3b9[_0x43bf6f(0x5cf)],'imgUrl':_0x819a18?.[_0x43bf6f(0x8ac)]||_0xd3a3b9[_0x43bf6f(0x8ac)]};}),_0x109080=_0x53d81f[_0x1d3d41(0x5e6)](_0x84e70=>_0x84e70['id']===this[_0x1d3d41(0x1c1)][_0x1d3d41(0x2db)]+_0x1d3d41(0x7c9)&&_0x84e70[_0x1d3d41(0x7d4)]),_0x1ac6bc=(!_0x1472e2[_0x1d3d41(0x209)]||_0x109080)&&(!_0x1472e2[_0x1d3d41(0x654)]||_0x1472e2['isCommunity']&&_0x1472e2[_0x1d3d41(0x234)]&&_0x109080),_0x112b06={..._0x1472e2,'participants':_0x53d81f,'awaitingApproval':_0x22920c,'lastFetchAwaitingApproval':_0x41539b,'isAdmin':_0x109080,'canSendMessage':_0x1ac6bc,'lastUpdate':Date[_0x1d3d41(0x472)]()};await this[_0x1d3d41(0x671)][_0x1d3d41(0x538)][_0x1d3d41(0x869)]({'where':{'_id':_0x1472e2['id']}},{'name':_0x1472e2[_0x1d3d41(0x7d3)],'group':!0x0,'groupdata':_0x112b06,'lastcache':Date[_0x1d3d41(0x472)]()},this[_0x1d3d41(0x1c1)][_0x1d3d41(0x2db)]),V(this['instanceName'],'chats',{'chat':_0x1472e2});}async['updateGroupWebhook'](_0x485f16){const _0x360773=a0_0x4cdcbe;let _0x4f4e1e=await this[_0x360773(0x671)]['chat'][_0x360773(0x324)]({'where':{'_id':_0x485f16['id']}},this['instance'][_0x360773(0x2db)]);_0x485f16[_0x360773(0x6f7)]=_0x485f16?.[_0x360773(0x6f7)]&&_0x485f16['subjectTime'][_0x360773(0x897)]()[_0x360773(0x59d)]<0xd?_0x485f16?.['subjectTime']*0x3e8:_0x485f16?.[_0x360773(0x6f7)]||null,_0x485f16['creation']=_0x485f16?.['creation']&&_0x485f16[_0x360773(0x183)][_0x360773(0x897)]()[_0x360773(0x59d)]<0xd?_0x485f16?.[_0x360773(0x183)]*0x3e8:_0x485f16?.[_0x360773(0x183)]||null,_0x485f16['inviteCode']&&(_0x485f16[_0x360773(0x244)]=_0x360773(0x71c)+_0x485f16[_0x360773(0x244)]);let _0x47d016=_0x4f4e1e?.['groupdata']?{..._0x4f4e1e[_0x360773(0x82f)]}:{};Object['keys'](_0x485f16)['forEach'](_0x55154e=>{_0x55154e!=='id'&&(_0x47d016[_0x55154e]=_0x485f16[_0x55154e]);});let _0x3560d8=_0x47d016[_0x360773(0x1cf)]?.[_0x360773(0x5e6)](_0x36a286=>_0x36a286['id']===this['instance']['wuid']+_0x360773(0x7c9)&&_0x36a286[_0x360773(0x7d4)])||!0x1;_0x47d016['isAdmin']=_0x3560d8;let _0x15b1dd=(!_0x47d016['announce']||_0x3560d8)&&(!_0x47d016[_0x360773(0x654)]||_0x47d016[_0x360773(0x654)]&&_0x47d016[_0x360773(0x234)]&&_0x3560d8);_0x47d016[_0x360773(0x5d9)]=_0x15b1dd;let _0x31b442={'group':!0x0,'groupdata':_0x47d016};_0x485f16[_0x360773(0x7d3)]&&(_0x31b442[_0x360773(0x5cf)]=_0x485f16[_0x360773(0x7d3)]),await this['repository'][_0x360773(0x538)][_0x360773(0x869)]({'where':{'_id':_0x485f16['id']}},_0x31b442,this[_0x360773(0x1c1)][_0x360773(0x2db)],{'upsert':!0x0}),V(this[_0x360773(0x181)],_0x360773(0x3ef),{'chat':_0x31b442});}async[a0_0x4cdcbe(0x67e)](_0x997594){const _0x186e9f=a0_0x4cdcbe;let _0x1d496e=await this[_0x186e9f(0x671)]['chat']['findOne']({'where':{'_id':_0x997594['id']}},this[_0x186e9f(0x1c1)][_0x186e9f(0x2db)]);if(!_0x1d496e||!_0x1d496e[_0x186e9f(0x82f)]){this['logger']['info'](this[_0x186e9f(0x181)]+'\x20('+this[_0x186e9f(0x1c1)][_0x186e9f(0x2db)]+_0x186e9f(0x7da)+_0x997594['id']);return;}let _0x31295c=await this[_0x186e9f(0x671)]['cacheContact']['findManyByIds'](_0x997594[_0x186e9f(0x1cf)]),_0x49d4fb=[..._0x1d496e[_0x186e9f(0x82f)]?.['participants']];switch(_0x997594['action']){case _0x186e9f(0x52d):let _0x1e043=_0x31295c[_0x186e9f(0x79d)](_0x40df2c=>({'id':_0x40df2c[_0x186e9f(0x42f)],'isAdmin':!0x1,'name':_0x40df2c[_0x186e9f(0x5cf)],'imgUrl':_0x40df2c['pictureUrl']}));_0x49d4fb=[..._0x49d4fb,..._0x1e043];break;case'remove':_0x49d4fb=_0x49d4fb[_0x186e9f(0x58d)](_0x332fbd=>!_0x997594[_0x186e9f(0x1cf)][_0x186e9f(0x192)](_0x332fbd['id']));break;case'promote':case'demote':_0x49d4fb=_0x49d4fb[_0x186e9f(0x79d)](_0x1f0a62=>_0x997594[_0x186e9f(0x1cf)][_0x186e9f(0x192)](_0x1f0a62['id'])?{..._0x1f0a62,'isAdmin':_0x997594[_0x186e9f(0x8ba)]==='promote'}:_0x1f0a62);break;}let _0x31691b=_0x49d4fb[_0x186e9f(0x59d)],_0x2de74d=_0x49d4fb[_0x186e9f(0x5e6)](_0x10c4d5=>_0x10c4d5['id']===this[_0x186e9f(0x1c1)][_0x186e9f(0x2db)]+_0x186e9f(0x7c9)),_0xa14ef=_0x2de74d&&_0x49d4fb[_0x186e9f(0x5e6)](_0x4182e4=>_0x4182e4['id']===this[_0x186e9f(0x1c1)][_0x186e9f(0x2db)]+_0x186e9f(0x7c9)&&_0x4182e4[_0x186e9f(0x7d4)]),_0x135158=_0x2de74d&&(!_0x1d496e[_0x186e9f(0x82f)][_0x186e9f(0x209)]||_0xa14ef)&&(!_0x1d496e['groupdata'][_0x186e9f(0x654)]||_0x1d496e[_0x186e9f(0x82f)][_0x186e9f(0x654)]&&_0xa14ef);await this[_0x186e9f(0x671)][_0x186e9f(0x538)][_0x186e9f(0x869)]({'where':{'_id':_0x997594['id']}},{'groupdata':{..._0x1d496e[_0x186e9f(0x82f)],'participants':_0x49d4fb,'size':_0x31691b,'isAdmin':_0xa14ef,'canSendMessage':_0x135158}},this[_0x186e9f(0x1c1)][_0x186e9f(0x2db)]),this[_0x186e9f(0x83b)][_0x186e9f(0x71f)](this['instanceName']+'\x20('+this[_0x186e9f(0x1c1)][_0x186e9f(0x2db)]+_0x186e9f(0x240)+_0x997594['id']+_0x186e9f(0x41a)+_0x997594[_0x186e9f(0x8ba)]+',\x20Novo\x20tamanho:\x20'+_0x31691b+',\x20isAdmin:\x20'+_0xa14ef+_0x186e9f(0x8bd)+_0x135158);}async[a0_0x4cdcbe(0x244)](_0x32e94e,_0x22f123=!0x0){const _0x40f2a7=a0_0x4cdcbe;try{let _0x5547d9=await this[_0x40f2a7(0x811)][_0x40f2a7(0x26b)](_0x32e94e[_0x40f2a7(0x30d)]),_0x33f3b7={'groupdata.inviteCode':_0x40f2a7(0x71c)+_0x5547d9};if(_0x22f123){let _0x14d23d=await this[_0x40f2a7(0x671)][_0x40f2a7(0x538)][_0x40f2a7(0x869)]({'where':{'_id':_0x32e94e[_0x40f2a7(0x30d)]}},_0x33f3b7,this[_0x40f2a7(0x1c1)]['wuid']);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x5547d9,'inviteCode':_0x5547d9};}catch(_0x1dce28){let _0x4aa555=_0x40f2a7(0x7af),_0x36273d=_0x1dce28 instanceof Error?_0x1dce28[_0x40f2a7(0x517)]:typeof _0x1dce28=='object'?JSON[_0x40f2a7(0x289)](_0x1dce28):_0x1dce28,_0x2f1d23=_0x4aa555+':\x20'+_0x36273d;throw this[_0x40f2a7(0x83b)][_0x40f2a7(0x2c1)](this[_0x40f2a7(0x181)]+'\x20('+this[_0x40f2a7(0x1c1)]['wuid']+_0x40f2a7(0x66a)+_0x2f1d23),new q(_0x2f1d23);}}async[a0_0x4cdcbe(0x30b)](_0x335e48){const _0x166e09=a0_0x4cdcbe;try{let _0x46baf9=await this[_0x166e09(0x811)][_0x166e09(0x2dc)](_0x335e48[_0x166e09(0x30d)]);return{'revoked':!0x0,'inviteUrl':_0x166e09(0x71c)+_0x46baf9,'inviteCode':_0x46baf9};}catch(_0x49a8d1){let _0x165923='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x2d6a98=_0x49a8d1 instanceof Error?_0x49a8d1[_0x166e09(0x517)]:typeof _0x49a8d1==_0x166e09(0x4d6)?JSON[_0x166e09(0x289)](_0x49a8d1):_0x49a8d1,_0x42bd7b=_0x165923+':\x20'+_0x2d6a98;throw this['logger']['error'](this[_0x166e09(0x181)]+'\x20('+this['instance'][_0x166e09(0x2db)]+_0x166e09(0x66a)+_0x42bd7b),new q(_0x42bd7b);}}async['joinGroup'](_0x374c50){const _0x78ec9e=a0_0x4cdcbe;try{if((0x0,L[_0x78ec9e(0x4a6)])(_0x374c50[_0x78ec9e(0x244)]))var _0x25202=_0x374c50[_0x78ec9e(0x244)][_0x78ec9e(0x43b)]('/')[0x3];else var _0x25202=_0x374c50['inviteCode'];let _0x4cf423=await this[_0x78ec9e(0x811)][_0x78ec9e(0x83c)](_0x25202);return this['logger'][_0x78ec9e(0x29b)](this[_0x78ec9e(0x181)]+'\x20('+this[_0x78ec9e(0x1c1)][_0x78ec9e(0x2db)]+_0x78ec9e(0x66a)+_0x4cf423),{'join':!0x0,'inviteCode':_0x25202,'groupJid':_0x4cf423};}catch(_0xf38228){let _0x4a0b89=_0x78ec9e(0x8c9),_0x403a4c=_0xf38228 instanceof Error?_0xf38228[_0x78ec9e(0x517)]:typeof _0xf38228=='object'?JSON[_0x78ec9e(0x289)](_0xf38228):_0xf38228,_0x57d6b3=_0x4a0b89+':\x20'+_0x403a4c;throw this[_0x78ec9e(0x83b)][_0x78ec9e(0x2c1)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x57d6b3),new q(_0x57d6b3);}}async[a0_0x4cdcbe(0x3a2)](_0x5abc71){const _0x563d81=a0_0x4cdcbe;try{return{'participants':(await this[_0x563d81(0x671)]['chat'][_0x563d81(0x324)]({'where':{'_id':_0x5abc71['groupJid']}},this[_0x563d81(0x1c1)][_0x563d81(0x2db)]))[_0x563d81(0x82f)]['participants']};}catch(_0x302e57){let _0xdeb73f='Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants',_0x4154a9=_0x302e57 instanceof Error?_0x302e57['message']:typeof _0x302e57==_0x563d81(0x4d6)?JSON[_0x563d81(0x289)](_0x302e57):_0x302e57,_0x5542f7=_0xdeb73f+':\x20'+_0x4154a9;throw this[_0x563d81(0x83b)]['error'](this[_0x563d81(0x181)]+'\x20('+this[_0x563d81(0x1c1)][_0x563d81(0x2db)]+_0x563d81(0x66a)+_0x5542f7),new q(_0x5542f7);}}async[a0_0x4cdcbe(0x5be)](_0x5534b9){const _0x1a0d7a=a0_0x4cdcbe;try{return await this[_0x1a0d7a(0x811)][_0x1a0d7a(0x66e)](_0x5534b9[_0x1a0d7a(0x30d)]),{'groupJid':_0x5534b9[_0x1a0d7a(0x30d)],'leave':!0x0};}catch(_0x1a097b){let _0x30a98e='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x37a4f4=_0x1a097b instanceof Error?_0x1a097b[_0x1a0d7a(0x517)]:typeof _0x1a097b==_0x1a0d7a(0x4d6)?JSON[_0x1a0d7a(0x289)](_0x1a097b):_0x1a097b,_0x1f75a3=_0x30a98e+':\x20'+_0x37a4f4;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x1a0d7a(0x2db)]+_0x1a0d7a(0x66a)+_0x1f75a3),new m(_0x1f75a3);}}async['pollMessage'](_0x19d867){const _0x2705ab=a0_0x4cdcbe;return await this[_0x2705ab(0x6cc)](_0x19d867[_0x2705ab(0x64f)],{'poll':{'name':_0x19d867['pollMessage']?.[_0x2705ab(0x5cf)],'selectableCount':_0x19d867[_0x2705ab(0x7c3)]['selectableCount'],'values':_0x19d867[_0x2705ab(0x7c3)][_0x2705ab(0x4b7)]}},_0x19d867?.[_0x2705ab(0x8c6)]);}async[a0_0x4cdcbe(0x302)](_0x3f0e05){const _0x19566e=a0_0x4cdcbe;return await this[_0x19566e(0x6cc)](_0x3f0e05['number'],{'listMessage':{'title':_0x3f0e05['listMessage'][_0x19566e(0x642)],'description':_0x3f0e05[_0x19566e(0x302)][_0x19566e(0x85d)],'buttonText':_0x3f0e05['listMessage']?.[_0x19566e(0x7e0)],'footerText':_0x3f0e05[_0x19566e(0x302)]?.[_0x19566e(0x836)],'sections':_0x3f0e05[_0x19566e(0x302)][_0x19566e(0x89f)],'listType':0x2}},_0x3f0e05?.[_0x19566e(0x8c6)]);}async['menuMessage'](_0x5e5664){const _0x413e22=a0_0x4cdcbe;let _0x495e9a;if(_0x5e5664[_0x413e22(0x6c7)][_0x413e22(0x551)]==='list'){let _0x5da5f0=_0x5e5664['menuMessage'][_0x413e22(0x2a8)]['indexOf']('\x0a'),_0xc61de3='',_0x2e3c1f='';_0x5da5f0!==-0x1?(_0xc61de3=_0x5e5664[_0x413e22(0x6c7)][_0x413e22(0x2a8)][_0x413e22(0x66d)](0x0,_0x5da5f0)[_0x413e22(0x360)](),_0x2e3c1f=_0x5e5664[_0x413e22(0x6c7)]['text'][_0x413e22(0x66d)](_0x5da5f0+0x1)):_0x2e3c1f=_0x5e5664[_0x413e22(0x6c7)][_0x413e22(0x2a8)];let _0xf36129=_0x5e5664[_0x413e22(0x6c7)][_0x413e22(0x611)][_0x413e22(0x58d)](_0x1ef9ec=>_0x1ef9ec[_0x413e22(0x360)]()!==''),_0x6415e8=this['createSectionsFromValues'](_0xf36129);_0x495e9a={'listMessage':{'title':_0xc61de3,'description':_0x2e3c1f,'buttonText':_0x5e5664[_0x413e22(0x6c7)]['buttonText']||_0x413e22(0x586),'footerText':_0x5e5664[_0x413e22(0x6c7)]['footerText'],'sections':_0x6415e8,'listType':0x2}};}else{if(_0x5e5664[_0x413e22(0x6c7)][_0x413e22(0x551)]==='poll'){let _0x3ffd4a=_0x5e5664['menuMessage'][_0x413e22(0x611)][_0x413e22(0x58d)](_0x28dd91=>!(_0x28dd91['startsWith']('[')&&_0x28dd91[_0x413e22(0x80c)](']'))&&_0x28dd91['trim']()!=='')[_0x413e22(0x79d)](_0x4bede3=>_0x4bede3[_0x413e22(0x43b)]('\x0a')[0x0]);_0x495e9a={'poll':{'name':_0x5e5664[_0x413e22(0x6c7)][_0x413e22(0x2a8)],'selectableCount':_0x5e5664['menuMessage'][_0x413e22(0x656)]||0x1,'values':_0x3ffd4a}};}}return await this[_0x413e22(0x6cc)](_0x5e5664[_0x413e22(0x64f)],_0x495e9a,_0x5e5664?.[_0x413e22(0x8c6)]);}['createSectionsFromValues'](_0x2503c1){const _0x4641ef=a0_0x4cdcbe;let _0x539a40=[],_0x2e31e7={'rows':[]};return _0x2503c1[_0x4641ef(0x1d7)](_0x133a67=>{const _0x3b9781=_0x4641ef;if(_0x133a67[_0x3b9781(0x196)]('[')&&_0x133a67[_0x3b9781(0x80c)](']'))_0x2e31e7[_0x3b9781(0x2c3)]['length']>0x0&&_0x539a40[_0x3b9781(0x7e2)](_0x2e31e7),_0x2e31e7={'title':_0x133a67['slice'](0x1,-0x1),'rows':[]};else{let _0x875e28=_0x133a67['split']('\x0a')[_0x3b9781(0x79d)](_0x51a4fb=>_0x51a4fb[_0x3b9781(0x360)]()),_0x217c58=_0x875e28[0x0],_0x475ad0=_0x875e28[0x1]||null,_0x481e28=_0x875e28[0x2]||_0x217c58;_0x2e31e7['rows'][_0x3b9781(0x7e2)]({'title':_0x217c58,'description':_0x475ad0,'rowId':_0x481e28});}}),_0x2e31e7[_0x4641ef(0x2c3)][_0x4641ef(0x59d)]>0x0&&_0x539a40[_0x4641ef(0x7e2)](_0x2e31e7),_0x539a40;}async[a0_0x4cdcbe(0x529)](_0x30ed47,_0x387de0){const _0x2d1d94=a0_0x4cdcbe;if(await this[_0x2d1d94(0x87f)](_0x30ed47,!0x0)){let _0x47bd11={'where':{'_id':_0x30ed47['id']}},_0x525203={'status':[_0x387de0['status']][0x0]};try{let _0x290d25=await this[_0x2d1d94(0x671)][_0x2d1d94(0x517)][_0x2d1d94(0x17d)](_0x47bd11,_0x525203,this['instance'][_0x2d1d94(0x2db)]);_0x290d25&&V(this[_0x2d1d94(0x181)],_0x2d1d94(0x524),{'message':_0x290d25});}catch{}}}[a0_0x4cdcbe(0x2b6)](_0x2005d7){const _0x5a72a8=a0_0x4cdcbe;let _0x4a493c=[];return _0x2005d7[_0x5a72a8(0x1d7)](_0x4ba1b6=>{const _0xa8e156=_0x5a72a8;_0x4ba1b6['title']&&_0x4a493c[_0xa8e156(0x7e2)]('['+_0x4ba1b6[_0xa8e156(0x642)]+']'),_0x4ba1b6[_0xa8e156(0x2c3)][_0xa8e156(0x1d7)](_0xe7581c=>{const _0x53ea2c=_0xa8e156;_0x4a493c[_0x53ea2c(0x7e2)](_0xe7581c[_0x53ea2c(0x642)]);});}),_0x4a493c[_0x5a72a8(0x481)]('|');}[a0_0x4cdcbe(0x1da)](_0xbe75c6){const _0x2bfc27=a0_0x4cdcbe;let _0x53abc3=_0xbe75c6[_0x2bfc27(0x1a6)](/\\n/g,'\x0a')[_0x2bfc27(0x43b)]('\x0a')['filter'](_0x34ffdc=>_0x34ffdc[_0x2bfc27(0x192)](_0x2bfc27(0x89c))||_0x34ffdc[_0x2bfc27(0x192)](_0x2bfc27(0x560))),_0x5f463b='';return _0x53abc3['forEach'](_0x367865=>{const _0x352a47=_0x2bfc27;let _0x156268=/TEL(?:.*):(.+)/,_0x342044=/EMAIL(?:.*):(.+)/,_0x385e01=_0x367865[_0x352a47(0x2c8)](_0x156268),_0x5c2a12=_0x367865[_0x352a47(0x2c8)](_0x342044);if(_0x385e01){let _0x2e2700=_0x385e01[0x1][_0x352a47(0x1a6)](/-| |\+|\(|\)/g,'')[_0x352a47(0x360)]();_0x5f463b+=_0x352a47(0x8d0)+_0x2e2700+'\x0a';}else{if(_0x5c2a12){let _0x5d9ef1=_0x5c2a12[0x1]['trim']();_0x5f463b+='E-mail:\x20'+_0x5d9ef1+'\x0a';}}}),_0x5f463b[_0x2bfc27(0x360)]();}async[a0_0x4cdcbe(0x64a)](_0x4881c1,_0x2a90c5,_0x4d22d1,_0x245f45=null){const _0x48d6f8=a0_0x4cdcbe;if(_0x4881c1['ENABLED'])try{let _0x1fdfb6=_0x2a90c5[_0x48d6f8(0x786)][_0x48d6f8(0x3e5)][_0x48d6f8(0x1a6)](/:\d{1,2}@/g,'@'),_0x490c6c=_0x2a90c5['key'][_0x48d6f8(0x7ac)],_0x148c32=_0x1fdfb6[_0x48d6f8(0x80c)]('@g.us'),_0x29b1f2=_0x2a90c5[_0x48d6f8(0x43c)]?.[_0x48d6f8(0x1a6)](/:\d{1,2}@/g,'@')||'',_0x452134=_0x2a90c5['message_normalized']?.[_0x48d6f8(0x2a8)]||_0x2a90c5[_0x48d6f8(0x316)]?.['caption']||_0x2a90c5['message_normalized']?.[_0x48d6f8(0x4e9)]||_0x2a90c5[_0x48d6f8(0x316)]?.[_0x48d6f8(0x5cf)]||'',_0x3f61b4={'_id':_0x2a90c5[_0x48d6f8(0x42f)],'remoteJid':_0x490c6c?this[_0x48d6f8(0x1c1)][_0x48d6f8(0x2db)]:_0x148c32?_0x29b1f2:_0x1fdfb6,'pushName':_0x490c6c?this[_0x48d6f8(0x1c1)][_0x48d6f8(0x7ae)]||'Eu':_0x2a90c5[_0x48d6f8(0x8b6)],'text':_0x452134,'type':_0x2a90c5['messageType'],'when':_0x2a90c5['messageTimestamp']||Date['now']()};_0x245f45||(_0x245f45=await this[_0x48d6f8(0x671)][_0x48d6f8(0x538)]['findOne']({'where':{'_id':_0x1fdfb6}},this[_0x48d6f8(0x1c1)][_0x48d6f8(0x2db)]));let _0x51f4d9=_0x245f45?_0x490c6c?_0x245f45[_0x48d6f8(0x3c7)]:(_0x245f45[_0x48d6f8(0x3c7)]||0x0)+0x1:_0x490c6c?0x0:0x1,_0x57871f={'lastmsg':_0x2a90c5[_0x48d6f8(0x8b7)]||Date[_0x48d6f8(0x472)](),'ephemeralExpiration':_0x2a90c5[_0x48d6f8(0x787)],'lastMessage':_0x3f61b4,'unreadcount':_0x51f4d9,..._0x490c6c||_0x148c32?{}:{'name':_0x2a90c5[_0x48d6f8(0x8b6)]},..._0x148c32?{'group':_0x148c32}:{},...!_0x490c6c&&!_0x148c32&&_0x2a90c5[_0x48d6f8(0x3ce)]?{'imagechat':_0x2a90c5[_0x48d6f8(0x3ce)]}:{}};if(!_0x148c32&&(!_0x245f45?.[_0x48d6f8(0x236)]||!_0x245f45[_0x48d6f8(0x236)][_0x48d6f8(0x502)])&&_0x2a90c5[_0x48d6f8(0x8b6)]&&!_0x490c6c&&(_0x57871f={..._0x57871f,'leadInfo.nome':_0x2a90c5['pushName']}),_0x245f45?.[_0x48d6f8(0x236)]['etiquetas']||(_0x57871f={..._0x57871f,'leadInfo.etiquetas':[]}),_0x245f45?.[_0x48d6f8(0x236)][_0x48d6f8(0x82a)]||(_0x57871f={..._0x57871f,'leadInfo.customFields':[]}),_0x245f45?.[_0x48d6f8(0x236)][_0x48d6f8(0x86a)]||(_0x57871f={..._0x57871f,'leadInfo.tags':[]}),_0x245f45&&_0x245f45?.[_0x48d6f8(0x78a)]){let _0x43e88e=await this[_0x48d6f8(0x671)]['label'][_0x48d6f8(0x521)]({'where':{}},this[_0x48d6f8(0x1c1)][_0x48d6f8(0x2db)]),_0x67fe09=new Set(_0x43e88e[_0x48d6f8(0x79d)](_0x244ba5=>_0x244ba5[_0x48d6f8(0x42f)])),_0x179e24=(_0x245f45[_0x48d6f8(0x236)]?.['etiquetas']||[])[_0x48d6f8(0x58d)](_0x44f51c=>_0x67fe09[_0x48d6f8(0x308)](_0x44f51c));_0x57871f={..._0x57871f,'imported':!0x1,'leadInfo.etiquetas':_0x179e24};for(let _0x71ad14 of _0x179e24)await this[_0x48d6f8(0x7b6)](_0x71ad14,_0x1fdfb6);}if(!this[_0x48d6f8(0x598)]['flows']['find'](_0x4f4aa5=>_0x4f4aa5[_0x48d6f8(0x8b1)]&&_0x452134[_0x48d6f8(0x192)](_0x4f4aa5['startCommand']))&&_0x4d22d1===_0x48d6f8(0x33f)&&_0x490c6c&&this[_0x48d6f8(0x598)]?.[_0x48d6f8(0x48b)][_0x48d6f8(0x5c7)]&&_0x452134[_0x48d6f8(0x360)]()!==this[_0x48d6f8(0x598)]?.[_0x48d6f8(0x48b)][_0x48d6f8(0x83e)][_0x48d6f8(0x360)]()){let _0x3eccf2=(this['AutomateSystem']?.[_0x48d6f8(0x48b)]['stopWhenYouSendMsg']||0x0)*0xea60,_0x7ec58e=Date[_0x48d6f8(0x472)]()+_0x3eccf2;_0x245f45?.['leadInfo']?.[_0x48d6f8(0x465)]===0x0||(_0x57871f={..._0x57871f,'leadInfo.desativadoFluxoAte':_0x7ec58e},this[_0x48d6f8(0x83b)][_0x48d6f8(0x29b)](this[_0x48d6f8(0x181)]+'\x20('+this['instance']['wuid']+_0x48d6f8(0x632)+_0x7ec58e+'.'));}if(_0x452134['trim']()===this[_0x48d6f8(0x598)]?.[_0x48d6f8(0x48b)][_0x48d6f8(0x83e)][_0x48d6f8(0x360)]()){this['logger'][_0x48d6f8(0x29b)](this[_0x48d6f8(0x181)]+'\x20('+this[_0x48d6f8(0x1c1)]['wuid']+_0x48d6f8(0x3ba)+_0x452134);let _0x592b49=Date[_0x48d6f8(0x472)]();this['AutomateSystem']?.[_0x48d6f8(0x48b)]['stopMinutes']===0x0?_0x57871f={..._0x57871f,'leadInfo.desativadoFluxoAte':_0x592b49+0x7591f6200}:_0x57871f={..._0x57871f,'leadInfo.desativadoFluxoAte':_0x592b49+this[_0x48d6f8(0x598)]?.['flowConfig'][_0x48d6f8(0x259)]*0x3c*0x3e8};}if(_0x245f45=await this['repository']['chat']['updateOne']({'where':{'_id':_0x1fdfb6}},_0x57871f,this[_0x48d6f8(0x1c1)][_0x48d6f8(0x2db)],{'new':!0x0,'upsert':!0x0}),_0x245f45)V(this[_0x48d6f8(0x181)],_0x48d6f8(0x3ef),{'chat':_0x245f45});else{this[_0x48d6f8(0x83b)][_0x48d6f8(0x2c1)](this['instanceName']+'\x20('+this['instance'][_0x48d6f8(0x2db)]+_0x48d6f8(0x7db));return;}if(_0x490c6c)return this[_0x48d6f8(0x83b)]['verbose'](this[_0x48d6f8(0x181)]+'\x20('+this[_0x48d6f8(0x1c1)]['wuid']+'):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...'),null;if(!this[_0x48d6f8(0x598)]?.[_0x48d6f8(0x48b)][_0x48d6f8(0x5c7)])return this[_0x48d6f8(0x83b)][_0x48d6f8(0x29b)](this[_0x48d6f8(0x181)]+'\x20('+this[_0x48d6f8(0x1c1)][_0x48d6f8(0x2db)]+_0x48d6f8(0x861)),null;if(_0x245f45[_0x48d6f8(0x42f)]['includes'](_0x48d6f8(0x3f3))&&this[_0x48d6f8(0x598)]?.[_0x48d6f8(0x48b)]['ignoreGroups']===!0x0)return this[_0x48d6f8(0x83b)][_0x48d6f8(0x29b)](this['instanceName']+'\x20('+this[_0x48d6f8(0x1c1)][_0x48d6f8(0x2db)]+_0x48d6f8(0x366)),null;if(_0x245f45[_0x48d6f8(0x236)]){if(_0x245f45['leadInfo']['desativadoFluxoAte']===0x0||_0x245f45[_0x48d6f8(0x236)][_0x48d6f8(0x574)])return this[_0x48d6f8(0x83b)]['verbose'](this['instanceName']+'\x20('+this[_0x48d6f8(0x1c1)][_0x48d6f8(0x2db)]+_0x48d6f8(0x5a6)+_0x1fdfb6+',\x20saindo.'),null;if(_0x245f45['leadInfo'][_0x48d6f8(0x465)]>Date[_0x48d6f8(0x472)]()&&!_0x2a90c5[_0x48d6f8(0x316)]?.[_0x48d6f8(0x4e9)])return this['logger'][_0x48d6f8(0x29b)](this[_0x48d6f8(0x181)]+'\x20('+this[_0x48d6f8(0x1c1)]['wuid']+_0x48d6f8(0x60d)+new Date(_0x245f45[_0x48d6f8(0x236)][_0x48d6f8(0x465)])['toLocaleString']()+_0x48d6f8(0x37d)),null;}this[_0x48d6f8(0x83b)][_0x48d6f8(0x29b)](this[_0x48d6f8(0x181)]+'\x20('+this[_0x48d6f8(0x1c1)]['wuid']+_0x48d6f8(0x19d)),this[_0x48d6f8(0x18c)](_0x2a90c5,_0x4d22d1);}catch(_0x4b4587){let _0xca18b='Erro\x20na\x20função\x20updateChatWithMessage:\x20',_0x1e83b8=_0x4b4587 instanceof Error?_0x4b4587[_0x48d6f8(0x517)]:typeof _0x4b4587==_0x48d6f8(0x4d6)?JSON[_0x48d6f8(0x289)](_0x4b4587):_0x4b4587,_0x3162d8=_0xca18b+':\x20'+_0x1e83b8;return this['logger']['error'](this[_0x48d6f8(0x181)]+'\x20('+this[_0x48d6f8(0x1c1)]['wuid']+_0x48d6f8(0x66a)+_0x3162d8),null;}}async[a0_0x4cdcbe(0x525)](_0x3f740b,_0x29dc5a){const _0x65797a=a0_0x4cdcbe;if(_0x29dc5a[_0x65797a(0x8dc)]){let _0x1dfaac=_0x3f740b[_0x65797a(0x79d)](async _0x22316d=>{const _0x17ea90=_0x65797a;try{let _0x32f22d={'_id':_0x22316d['_id'],'owner':_0x22316d[_0x17ea90(0x3c1)],'lastcache':0x0};if(Object[_0x17ea90(0x684)](_0x22316d)[_0x17ea90(0x1d7)](_0x3f61f8=>{_0x22316d[_0x3f61f8]!==null&&(_0x32f22d[_0x3f61f8]=_0x22316d[_0x3f61f8]);}),_0x32f22d['imagechat']===null&&(_0x32f22d[_0x17ea90(0x7cb)]='Imagem\x20não\x20encontrada'),Object[_0x17ea90(0x684)](_0x32f22d)[_0x17ea90(0x59d)]>0x0)return await this[_0x17ea90(0x671)][_0x17ea90(0x538)][_0x17ea90(0x869)]({'where':{'_id':_0x22316d[_0x17ea90(0x42f)]}},_0x32f22d,this[_0x17ea90(0x1c1)][_0x17ea90(0x2db)]);}catch(_0x38d988){let _0x3b355c=_0x17ea90(0x674)+_0x22316d[_0x17ea90(0x42f)],_0x221680=_0x38d988 instanceof Error?_0x38d988[_0x17ea90(0x517)]:typeof _0x38d988==_0x17ea90(0x4d6)?JSON[_0x17ea90(0x289)](_0x38d988):_0x38d988,_0x460279=_0x3b355c+':\x20'+_0x221680;return this['logger'][_0x17ea90(0x2c1)](this[_0x17ea90(0x181)]+'\x20('+this[_0x17ea90(0x1c1)][_0x17ea90(0x2db)]+'):\x20'+_0x460279),null;}}),_0x12e33c=(await Promise[_0x65797a(0x653)](_0x1dfaac))[_0x65797a(0x58d)](_0x1d8e11=>_0x1d8e11!==null)[_0x65797a(0x59d)];this['logger'][_0x65797a(0x29b)](this['instanceName']+'\x20('+this[_0x65797a(0x1c1)]['wuid']+_0x65797a(0x66a)+_0x12e33c+_0x65797a(0x25d)+this[_0x65797a(0x1c1)]['wuid']+_0x65797a(0x1d5));}}async[a0_0x4cdcbe(0x3db)](_0x2f9ce2){const _0x540a30=a0_0x4cdcbe;this[_0x540a30(0x83b)][_0x540a30(0x29b)](this['instanceName']+'\x20('+this[_0x540a30(0x1c1)][_0x540a30(0x2db)]+_0x540a30(0x6d3));let _0xc7c612={'readMessages':[{'remoteJid':_0x2f9ce2[_0x540a30(0x32a)][_0x540a30(0x73f)][_0x540a30(0x786)][_0x540a30(0x3e5)],'fromMe':_0x2f9ce2['chatLog'][_0x540a30(0x73f)][_0x540a30(0x786)][_0x540a30(0x7ac)],'id':_0x2f9ce2['chatLog'][_0x540a30(0x73f)][_0x540a30(0x786)]['id']}]};await this[_0x540a30(0x4ad)](_0xc7c612);}async[a0_0x4cdcbe(0x18c)](_0x5434c7,_0x48b70a){const _0x2ab7ba=a0_0x4cdcbe;try{let {key:_0x3f9f80,message_normalized:_0x4c0bdc}=_0x5434c7,_0x1a177b=_0x4c0bdc,_0x4b7879=_0x4c0bdc['text']||_0x4c0bdc[_0x2ab7ba(0x65d)]||_0x4c0bdc[_0x2ab7ba(0x4e9)]||_0x4c0bdc['name']||'',_0x2932d4=_0x3f9f80[_0x2ab7ba(0x3e5)],_0x4bb4f7=null,_0x443bf8=this[_0x2ab7ba(0x598)][_0x2ab7ba(0x4e3)][_0x2ab7ba(0x521)](_0x496bf6=>_0x496bf6[_0x2ab7ba(0x8b1)]&&_0x4b7879[_0x2ab7ba(0x192)](_0x496bf6[_0x2ab7ba(0x8b1)]));if(_0x443bf8&&_0x48b70a==='MESSAGES_UPSERT'){let _0x23ff96=await this['repository']['flow'][_0x2ab7ba(0x324)]({'where':{'_id':_0x443bf8[_0x2ab7ba(0x42f)]}});if(this['logger'][_0x2ab7ba(0x29b)](this[_0x2ab7ba(0x181)]+'\x20('+this['instance'][_0x2ab7ba(0x2db)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x23ff96&&_0x23ff96['whoCanUse']?.[_0x2ab7ba(0x192)](this['instance'][_0x2ab7ba(0x2db)]))_0x4bb4f7=await this[_0x2ab7ba(0x701)](_0x23ff96,_0x3f9f80,_0x1a177b);else return this[_0x2ab7ba(0x83b)][_0x2ab7ba(0x29b)](this[_0x2ab7ba(0x181)]+'\x20('+this[_0x2ab7ba(0x1c1)][_0x2ab7ba(0x2db)]+_0x2ab7ba(0x4de)),null;}else this[_0x2ab7ba(0x83b)][_0x2ab7ba(0x29b)](this[_0x2ab7ba(0x181)]+'\x20('+this[_0x2ab7ba(0x1c1)]['wuid']+_0x2ab7ba(0x63b));if(_0x4bb4f7=await this[_0x2ab7ba(0x365)](_0x2932d4,_0x1a177b),_0x4bb4f7){this[_0x2ab7ba(0x83b)][_0x2ab7ba(0x29b)](this[_0x2ab7ba(0x181)]+'\x20('+this[_0x2ab7ba(0x1c1)][_0x2ab7ba(0x2db)]+_0x2ab7ba(0x6f1)),!_0x3f9f80[_0x2ab7ba(0x7ac)]&&_0x4bb4f7[_0x2ab7ba(0x851)]&&this['readMessageBot'](_0x4bb4f7);let _0x3463b0=await this['NextBlock'](_0x4bb4f7);_0x3463b0&&await this['processblock'](_0x4bb4f7,_0x3463b0);}}catch(_0x184b3e){this[_0x2ab7ba(0x83b)][_0x2ab7ba(0x2c1)](this[_0x2ab7ba(0x181)]+'\x20('+this[_0x2ab7ba(0x1c1)]['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x184b3e instanceof Error?_0x184b3e['message']:JSON[_0x2ab7ba(0x289)](_0x184b3e,null,0x2)));}}[a0_0x4cdcbe(0x707)](_0x521208,_0x4c5fd0='',_0x540640={}){const _0x1ce3a3=a0_0x4cdcbe;return typeof _0x521208!=_0x1ce3a3(0x4d6)||_0x521208===null?(_0x4c5fd0&&(_0x540640[_0x4c5fd0]=_0x521208),_0x540640):(Object[_0x1ce3a3(0x659)](_0x521208)[_0x1ce3a3(0x1d7)](([_0x41a98c,_0x1b6530])=>{const _0x57f547=_0x1ce3a3;let _0x5165db=_0x4c5fd0?_0x4c5fd0+'.'+_0x41a98c:'_'+_0x41a98c;Array[_0x57f547(0x2cf)](_0x1b6530)?_0x1b6530['forEach']((_0x272cfb,_0x2911db)=>{this['flattenObject'](_0x272cfb,_0x5165db+'['+_0x2911db+']',_0x540640);}):typeof _0x1b6530==_0x57f547(0x4d6)&&_0x1b6530!==null?this['flattenObject'](_0x1b6530,_0x5165db,_0x540640):_0x540640[_0x5165db]=String(_0x1b6530);}),_0x540640);}[a0_0x4cdcbe(0x82e)](_0x2b9a43){const _0x1d607a=a0_0x4cdcbe;let _0x25da21={};for(let _0x43e7a9 of _0x2b9a43)typeof _0x43e7a9['name']==_0x1d607a(0x18a)&&typeof _0x43e7a9[_0x1d607a(0x863)]==_0x1d607a(0x18a)&&(_0x25da21[_0x43e7a9[_0x1d607a(0x5cf)]]=_0x43e7a9[_0x1d607a(0x863)]);return _0x25da21;}async[a0_0x4cdcbe(0x5cd)](_0x5e01a6){const _0x5a9316=a0_0x4cdcbe;if(!this[_0x5a9316(0x598)]?.[_0x5a9316(0x48b)]['enabled']||_0x5e01a6[_0x5a9316(0x4b1)]!==_0x5a9316(0x542)&&_0x5e01a6[_0x5a9316(0x834)]==='')return null;let _0x4e95e0=_0x5e01a6[_0x5a9316(0x32a)][_0x5a9316(0x213)]||_0x5a9316(0x7e6);typeof _0x5e01a6['chatLog']['lastCondition']>'u'&&(_0x5e01a6[_0x5a9316(0x32a)][_0x5a9316(0x7d2)]=!0x0);let _0x5c16e6=_0x5e01a6['chatLog']['lastCondition'];this['logger'][_0x5a9316(0x29b)](this[_0x5a9316(0x181)]+'\x20('+this[_0x5a9316(0x1c1)][_0x5a9316(0x2db)]+'):\x20lastBlockId:\x20'+_0x4e95e0+_0x5a9316(0x5e7)+_0x5c16e6);let _0x510953=_0x4e95e0===_0x5a9316(0x7e6)?_0x5e01a6[_0x5a9316(0x39f)][_0x5a9316(0x521)](_0x5ac738=>_0x5ac738['type']===_0x5a9316(0x7e6)):_0x5e01a6[_0x5a9316(0x39f)]['find'](_0x37c0ff=>_0x37c0ff[_0x5a9316(0x42f)][_0x5a9316(0x897)]()===_0x4e95e0['toString']());if(!_0x510953)return this[_0x5a9316(0x83b)][_0x5a9316(0x2c1)](this['instanceName']+'\x20('+this[_0x5a9316(0x1c1)]['wuid']+_0x5a9316(0x841)+_0x4e95e0),null;let _0x3112e7={'_pushName':_0x5e01a6?.[_0x5a9316(0x32a)]?.[_0x5a9316(0x73f)]?.[_0x5a9316(0x8b6)]||'','_sender':this[_0x5a9316(0x1c1)][_0x5a9316(0x2db)]||'',..._0x5e01a6['chatLog'][_0x5a9316(0x683)]},_0x4a7d84=null;if(_0x5e01a6[_0x5a9316(0x834)]){let _0x30b5ad=_0x5e01a6[_0x5a9316(0x32a)][_0x5a9316(0x73f)][_0x5a9316(0x4e9)],_0x236c22=_0x5e01a6['waitingMenu_replyOptions']['find'](_0x38f646=>_0x38f646['option']===_0x30b5ad);if(_0x236c22){let _0x5330d2=_0x236c22[_0x5a9316(0x86b)];if(_0x4a7d84=_0x5e01a6[_0x5a9316(0x39f)]['find'](_0x1faa3d=>_0x1faa3d[_0x5a9316(0x419)]===_0x5330d2&&_0x1faa3d['order']===0x1),_0x510953[_0x5a9316(0x82b)]['pollOnReplyDelete']){let _0x2e0af2={'id':_0x5e01a6[_0x5a9316(0x834)],'remoteJid':_0x5e01a6[_0x5a9316(0x3e5)],'fromMe':!0x0};await this[_0x5a9316(0x7a6)](_0x2e0af2);}if(_0x510953['uazapi'][_0x5a9316(0x1b8)]&&_0x510953[_0x5a9316(0x82b)][_0x5a9316(0x364)]&&_0x510953[_0x5a9316(0x82b)]['menuType']==='poll'){let _0x14a909={'number':_0x5e01a6['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x5a9316(0x3eb)+_0x5e01a6[_0x5a9316(0x6e8)]+_0x5a9316(0x882)+_0x30b5ad}};await this[_0x5a9316(0x4c5)](_0x14a909);}_0x5e01a6['status']='open',_0x5e01a6[_0x5a9316(0x834)]='',_0x5e01a6[_0x5a9316(0x6e8)]='',_0x5e01a6[_0x5a9316(0x5b5)]=[];}else{this[_0x5a9316(0x83b)][_0x5a9316(0x29b)](this['instanceName']+'\x20('+this[_0x5a9316(0x1c1)][_0x5a9316(0x2db)]+_0x5a9316(0x6fc));let _0x122ca0={'activatedCount':_0x5e01a6[_0x5a9316(0x32a)][_0x5a9316(0x73e)][_0x5a9316(0x58d)](_0x94bc24=>String(_0x94bc24[_0x5a9316(0x534)])===String(_0x4e95e0))[_0x5a9316(0x59d)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x510953[_0x5a9316(0x82b)][_0x5a9316(0x873)]){let _0x1c726b={'number':_0x5e01a6[_0x5a9316(0x3e5)],'options':{'delay':0x0},'textMessage':{'text':_0x510953['uazapi'][_0x5a9316(0x873)]}};await this[_0x5a9316(0x4c5)](_0x1c726b);}if(_0x510953['maxActives']!==void 0x0&&_0x122ca0[_0x5a9316(0x3ed)]>=_0x510953['maxActives']){let _0x114a48=Date['now'](),_0x184313=_0x510953[_0x5a9316(0x5b8)]??0xa;isNaN(_0x184313)&&(_0x184313=0xa);let _0x2b4455=_0x114a48+_0x184313*0x3c*0x3e8;_0x122ca0[_0x5a9316(0x8d2)]=_0x2b4455,_0x122ca0[_0x5a9316(0x2af)][_0x5a9316(0x7e2)](_0x5a9316(0x507)),this[_0x5a9316(0x74a)](_0x5e01a6,_0x2b4455),_0x5e01a6[_0x5a9316(0x834)]='',_0x5e01a6[_0x5a9316(0x6e8)]='',_0x5e01a6[_0x5a9316(0x5b5)]=[];}return this['updateConversation'](_0x5e01a6,_0x510953,_0x122ca0,!0x0),null;}}if(_0x5c16e6&&_0x510953[_0x5a9316(0x86b)]&&!_0x5e01a6[_0x5a9316(0x834)]){let _0x4f83a8=_0x5e01a6[_0x5a9316(0x39f)][_0x5a9316(0x58d)](_0x484099=>_0x484099[_0x5a9316(0x419)][_0x5a9316(0x897)]()===_0x510953[_0x5a9316(0x86b)][_0x5a9316(0x897)]())[_0x5a9316(0x535)]((_0x924992,_0x4c718e)=>_0x924992[_0x5a9316(0x184)]-_0x4c718e['order']);_0x4f83a8[_0x5a9316(0x59d)]>0x0&&(_0x4a7d84=_0x4f83a8[0x0]);}if(!_0x4a7d84){let _0x20d771=_0x510953['groupId'],_0x29c1ee=_0x5e01a6[_0x5a9316(0x39f)][_0x5a9316(0x58d)](_0x516bc6=>_0x516bc6['groupId']===_0x20d771&&_0x516bc6[_0x5a9316(0x184)]>_0x510953[_0x5a9316(0x184)])[_0x5a9316(0x535)]((_0x57304e,_0x4cc56c)=>_0x57304e[_0x5a9316(0x184)]-_0x4cc56c[_0x5a9316(0x184)]);_0x29c1ee[_0x5a9316(0x59d)]>0x0&&(_0x4a7d84=_0x29c1ee[0x0]);}if(!_0x4a7d84)return _0x5e01a6[_0x5a9316(0x4b1)]=_0x5a9316(0x412),null;_0x5e01a6[_0x5a9316(0x32a)][_0x5a9316(0x683)]=_0x3112e7;let _0xd1227b=JSON['parse'](JSON[_0x5a9316(0x289)](_0x4a7d84));return this[_0x5a9316(0x191)](_0xd1227b,_0x5e01a6['chatLog'][_0x5a9316(0x683)]),_0x5e01a6['chatLog'][_0x5a9316(0x213)]=_0xd1227b[_0x5a9316(0x42f)],_0x5e01a6[_0x5a9316(0x32a)][_0x5a9316(0x7d2)]=!0x0,_0xd1227b;}[a0_0x4cdcbe(0x7b0)](_0x4b374a,_0x185cdb){const _0x882a79=a0_0x4cdcbe;return _0x4b374a[_0x882a79(0x1a6)](/\{\{([^}]+)\}\}/g,(_0x5c4769,_0x118ac7)=>_0x185cdb[_0x118ac7]||'');}[a0_0x4cdcbe(0x191)](_0x1f63f7,_0x272916){const _0x5e92ac=a0_0x4cdcbe;for(let _0x34f2cb in _0x1f63f7)typeof _0x1f63f7[_0x34f2cb]==_0x5e92ac(0x18a)?_0x1f63f7[_0x34f2cb]=this[_0x5e92ac(0x7b0)](_0x1f63f7[_0x34f2cb],_0x272916):typeof _0x1f63f7[_0x34f2cb]==_0x5e92ac(0x4d6)&&this[_0x5e92ac(0x191)](_0x1f63f7[_0x34f2cb],_0x272916);}async[a0_0x4cdcbe(0x1ba)](_0x4c4280,_0x56dded){const _0x25a45a=a0_0x4cdcbe;let _0x4880a9=_0x56dded[_0x25a45a(0x42f)];if(_0x4c4280[_0x25a45a(0x32a)]&&_0x4c4280[_0x25a45a(0x32a)][_0x25a45a(0x73e)]){let _0x2e0198=_0x4c4280['chatLog'][_0x25a45a(0x73e)]['filter'](_0x23dd76=>String(_0x23dd76[_0x25a45a(0x534)])===String(_0x4880a9))['pop']();if(_0x2e0198&&_0x2e0198[_0x25a45a(0x2c1)]&&_0x56dded[_0x25a45a(0x194)])return _0x4c4280[_0x25a45a(0x4b1)]=_0x25a45a(0x412),await this['saveConversationToDatabase'](_0x4c4280),null;}if(_0x56dded[_0x25a45a(0x551)]===_0x25a45a(0x82b)&&_0x56dded[_0x25a45a(0x82b)]['command']===_0x25a45a(0x68a)&&_0x4c4280[_0x25a45a(0x834)])return _0x4c4280[_0x25a45a(0x32a)]['lastBlockId']=_0x4880a9,await this[_0x25a45a(0x77f)](_0x4c4280),null;let _0x4b1467=await this[_0x25a45a(0x5cd)](_0x4c4280);if(_0x4c4280['chatLog']&&_0x4c4280[_0x25a45a(0x32a)][_0x25a45a(0x73e)]){let _0x52ba9f=_0x4c4280[_0x25a45a(0x32a)]['blockLogs'][_0x25a45a(0x58d)](_0x467fd7=>String(_0x467fd7[_0x25a45a(0x534)])===String(_0x4880a9))['length'];if(_0x56dded[_0x25a45a(0x2b4)]!==void 0x0&&_0x52ba9f>=_0x56dded['maxActives']){let _0x389ae5=Date[_0x25a45a(0x472)](),_0x58348a=_0x56dded[_0x25a45a(0x5b8)]??0xa;isNaN(_0x58348a)&&(_0x58348a=0xa);let _0x53b204=_0x389ae5+_0x58348a*0x3c*0x3e8,_0x4ffbda={'newStoppedUntil':_0x53b204};return this[_0x25a45a(0x74a)](_0x4c4280,_0x53b204),this[_0x25a45a(0x320)](_0x4c4280,_0x56dded,_0x4ffbda,!0x0),null;}}_0x4b1467&&_0x4b1467[_0x25a45a(0x551)]!=='save'&&await this[_0x25a45a(0x769)](_0x4c4280,_0x4b1467),_0x4b1467||await this['saveConversationToDatabase'](_0x4c4280),_0x4b1467&&_0x4b1467[_0x25a45a(0x551)]==='save'&&(_0x4c4280[_0x25a45a(0x32a)][_0x25a45a(0x213)]=_0x4880a9,await this['saveConversationToDatabase'](_0x4c4280));}async[a0_0x4cdcbe(0x769)](_0x4fad6c,_0x4db2ca){const _0x4f80a4=a0_0x4cdcbe;try{let _0x3d7ea4=_0x4db2ca[_0x4f80a4(0x551)];this['logger']['verbose'](this[_0x4f80a4(0x181)]+'\x20('+this[_0x4f80a4(0x1c1)]['wuid']+_0x4f80a4(0x89a)+_0x3d7ea4);let _0x46e999={'uazapi':()=>this[_0x4f80a4(0x6dc)](_0x4fad6c,_0x4db2ca),'save':()=>this[_0x4f80a4(0x824)](_0x4fad6c,_0x4db2ca),'stop':()=>this[_0x4f80a4(0x83e)](_0x4fad6c,_0x4db2ca),'condition':()=>this[_0x4f80a4(0x581)](_0x4fad6c,_0x4db2ca),'varedit':()=>this['processvaredits'](_0x4fad6c,_0x4db2ca),'apirequest':()=>this[_0x4f80a4(0x4bb)](_0x4fad6c,_0x4db2ca),'goToFlow':()=>this[_0x4f80a4(0x726)](_0x4fad6c,_0x4db2ca),'scheduleFlow':()=>this[_0x4f80a4(0x508)](_0x4fad6c,_0x4db2ca),'awaitSeconds':()=>this[_0x4f80a4(0x6b3)](_0x4fad6c,_0x4db2ca),'clearVariables':()=>this[_0x4f80a4(0x255)](_0x4fad6c,_0x4db2ca)}[_0x3d7ea4];_0x46e999&&await _0x46e999();}catch(_0x1dd3db){this[_0x4f80a4(0x83b)][_0x4f80a4(0x2c1)](this['instanceName']+'\x20('+this['instance'][_0x4f80a4(0x2db)]+_0x4f80a4(0x45d)+(_0x1dd3db instanceof Error?_0x1dd3db[_0x4f80a4(0x517)]:JSON['stringify'](_0x1dd3db,null,0x2)));}}async[a0_0x4cdcbe(0x6b3)](_0x4bf94d,_0x59ec7f){const _0x174c22=a0_0x4cdcbe;if(this['logger'][_0x174c22(0x29b)](this['instanceName']+'\x20('+this[_0x174c22(0x1c1)][_0x174c22(0x2db)]+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x4bf94d||!_0x59ec7f)return this['logger']['error'](this[_0x174c22(0x181)]+'\x20('+this[_0x174c22(0x1c1)][_0x174c22(0x2db)]+_0x174c22(0x4fb)),null;let _0x649766=+_0x59ec7f[_0x174c22(0x497)];isNaN(_0x649766)&&(_0x649766=0x0),_0x649766=Math[_0x174c22(0x2cd)](_0x649766,0x3c),await(0x0,w['delay'])(_0x649766*0x3e8);let _0x552ffa={'moreLogs':[_0x174c22(0x59b)+_0x649766+_0x174c22(0x241)]};return await this[_0x174c22(0x320)](_0x4bf94d,_0x59ec7f,_0x552ffa),_0x649766;}async[a0_0x4cdcbe(0x255)](_0x3a9151,_0x3f94db){const _0x250002=a0_0x4cdcbe;if(this['logger'][_0x250002(0x29b)](this[_0x250002(0x181)]+'\x20('+this['instance'][_0x250002(0x2db)]+_0x250002(0x467)),!_0x3a9151||!_0x3f94db)return this[_0x250002(0x83b)][_0x250002(0x2c1)](this[_0x250002(0x181)]+'\x20('+this['instance'][_0x250002(0x2db)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x3d1d76=[];if(_0x3f94db['clearVariables'][_0x250002(0x360)]()===_0x250002(0x1d9)){let _0x753eaf=[_0x250002(0x511),_0x250002(0x59c),_0x250002(0x530),_0x250002(0x452),_0x250002(0x79e),_0x250002(0x42f),'_fromMe'];_0x3d1d76=Object[_0x250002(0x684)](_0x3a9151[_0x250002(0x32a)][_0x250002(0x683)])[_0x250002(0x58d)](_0x17fb82=>_0x17fb82[_0x250002(0x196)]('_')&&!_0x753eaf[_0x250002(0x192)](_0x17fb82));}else _0x3d1d76=_0x3f94db['clearVariables'][_0x250002(0x43b)]('|')['map'](_0x5e8c33=>(_0x5e8c33=_0x5e8c33[_0x250002(0x1a6)](/[{}]/g,'')[_0x250002(0x360)](),_0x5e8c33[_0x250002(0x196)]('_')?_0x5e8c33:'_'+_0x5e8c33));let _0x1ddc09=[];_0x3d1d76[_0x250002(0x1d7)](_0x3b4513=>{const _0x41f704=_0x250002;_0x3b4513 in _0x3a9151[_0x41f704(0x32a)][_0x41f704(0x683)]&&(delete _0x3a9151[_0x41f704(0x32a)][_0x41f704(0x683)][_0x3b4513],_0x1ddc09[_0x41f704(0x7e2)](_0x3b4513));}),_0x1ddc09[_0x250002(0x59d)]>0x0?this['logger'][_0x250002(0x29b)](this[_0x250002(0x181)]+'\x20('+this['instance'][_0x250002(0x2db)]+_0x250002(0x7ef)+_0x1ddc09['join'](',\x20')):this[_0x250002(0x83b)][_0x250002(0x29b)](this[_0x250002(0x181)]+'\x20('+this['instance'][_0x250002(0x2db)]+_0x250002(0x46b));let _0x44f427={'moreLogs':[_0x250002(0x6de)+_0x1ddc09[_0x250002(0x481)](',\x20')]};return await this[_0x250002(0x320)](_0x3a9151,_0x3f94db,_0x44f427),null;}async['processScheduleFlow'](_0x2e1e91,_0x2293b8){const _0x22f79a=a0_0x4cdcbe;if(this[_0x22f79a(0x83b)][_0x22f79a(0x29b)](this['instanceName']+'\x20('+this[_0x22f79a(0x1c1)][_0x22f79a(0x2db)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x2e1e91||!_0x2293b8)return this['logger'][_0x22f79a(0x2c1)](this[_0x22f79a(0x181)]+'\x20('+this[_0x22f79a(0x1c1)][_0x22f79a(0x2db)]+_0x22f79a(0x4fb)),null;let _0x499af9=_0x2e1e91['remoteJid'];_0x2293b8['scheduleFlow'][_0x22f79a(0x3e5)]&&_0x2293b8['scheduleFlow'][_0x22f79a(0x3e5)][_0x22f79a(0x360)]()!==''&&(_0x499af9=_0x2293b8[_0x22f79a(0x82b)]['remoteJid']['trim']());let _0x4e4cce=_0x2293b8[_0x22f79a(0x764)][_0x22f79a(0x415)]*0xea60,_0x506c6c=Date['now']()+_0x4e4cce,_0xc76077={'status':_0x22f79a(0x297),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x2e1e91[_0x22f79a(0x5cf)],'remoteJids':[_0x499af9],'when':_0x506c6c,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x22f79a(0x357),'flowName':_0x2293b8[_0x22f79a(0x764)][_0x22f79a(0x36d)]};this[_0x22f79a(0x2b5)](_0xc76077);let _0x494e72=await this[_0x22f79a(0x5cd)](_0x2e1e91);_0x494e72&&await this[_0x22f79a(0x769)](_0x2e1e91,_0x494e72);}async[a0_0x4cdcbe(0x726)](_0x5ebb05,_0x2dd7d2){const _0x59b9ba=a0_0x4cdcbe;if(this['logger'][_0x59b9ba(0x29b)](this[_0x59b9ba(0x181)]+'\x20('+this[_0x59b9ba(0x1c1)]['wuid']+_0x59b9ba(0x7d5)),!_0x5ebb05||!_0x2dd7d2)return this[_0x59b9ba(0x83b)][_0x59b9ba(0x2c1)](this[_0x59b9ba(0x181)]+'\x20('+this[_0x59b9ba(0x1c1)][_0x59b9ba(0x2db)]+_0x59b9ba(0x4fb)),null;await this['updateConversation'](_0x5ebb05,_0x2dd7d2,{},!0x0,!0x0);let _0x21bb05=_0x2dd7d2[_0x59b9ba(0x7a1)];_0x5ebb05=await this[_0x59b9ba(0x51e)](_0x21bb05,_0x5ebb05[_0x59b9ba(0x3e5)],_0x5ebb05[_0x59b9ba(0x32a)]['realVariables']);let _0x4d3b55=await this[_0x59b9ba(0x5cd)](_0x5ebb05);_0x4d3b55&&await this[_0x59b9ba(0x769)](_0x5ebb05,_0x4d3b55);}async['createConversationforgoToFlow'](_0x3be3f8,_0x216188,_0x352046){const _0x1f6756=a0_0x4cdcbe;this[_0x1f6756(0x83b)][_0x1f6756(0x29b)](this[_0x1f6756(0x181)]+'\x20('+this[_0x1f6756(0x1c1)][_0x1f6756(0x2db)]+_0x1f6756(0x4d8));try{let _0x387477=this[_0x1f6756(0x598)][_0x1f6756(0x4e3)][_0x1f6756(0x521)](_0x312e57=>_0x312e57[_0x1f6756(0x42f)]===_0x3be3f8);_0x387477||this[_0x1f6756(0x83b)]['error'](this['instanceName']+'\x20('+this[_0x1f6756(0x1c1)][_0x1f6756(0x2db)]+_0x1f6756(0x800)+_0x3be3f8+_0x1f6756(0x781));let _0x38a6f3=await this[_0x1f6756(0x671)][_0x1f6756(0x357)][_0x1f6756(0x324)]({'where':{'_id':_0x387477[_0x1f6756(0x42f)]}});if(!_0x38a6f3||!_0x38a6f3['whoCanUse']?.[_0x1f6756(0x192)](this['instance'][_0x1f6756(0x2db)]))throw this[_0x1f6756(0x83b)][_0x1f6756(0x2c1)](this[_0x1f6756(0x181)]+'\x20('+this[_0x1f6756(0x1c1)][_0x1f6756(0x2db)]+_0x1f6756(0x800)+_0x3be3f8+_0x1f6756(0x1b5)),new m(_0x1f6756(0x528)+_0x3be3f8+_0x1f6756(0x1b5));let _0x47fce3=require(_0x1f6756(0x833))[_0x1f6756(0x407)],_0x4f6d36=Date['now'](),_0x44c51d=_0x1f6756(0x7e6),_0x575e3f={},_0x444fe4={},_0x1e2b48=this[_0x1f6756(0x598)][_0x1f6756(0x4e3)]['find'](_0x2e3610=>_0x2e3610['_id']===_0x38a6f3['_id']?.[_0x1f6756(0x897)]()),_0x2d71ea=_0x1e2b48?.[_0x1f6756(0x4d0)]??_0x38a6f3[_0x1f6756(0x4d0)]??0x0,_0x53b6f3=_0x1e2b48?.[_0x1f6756(0x851)]??_0x38a6f3['readMessages']??!0x1,_0x454299={'flowId':_0x387477[_0x1f6756(0x42f)],'readMessages':_0x387477[_0x1f6756(0x851)],..._0x38a6f3,'chatLog':null},_0x267e0d={'lastReceivedMessage':_0x575e3f,'lastSendMessage':_0x444fe4,'lastBlockId':_0x44c51d,'lastCondition':!0x0,'realVariables':_0x352046};_0x454299[_0x1f6756(0x32a)]=_0x267e0d,_0x454299[_0x1f6756(0x32a)]['realVariables']={..._0x352046},delete _0x454299[_0x1f6756(0x42f)],_0x454299[_0x1f6756(0x42f)]=new _0x47fce3(),_0x454299[_0x1f6756(0x6d8)]=_0x4f6d36,_0x454299[_0x1f6756(0x4b1)]=_0x1f6756(0x542),_0x454299[_0x1f6756(0x3e5)]=_0x216188,_0x454299[_0x1f6756(0x4d0)]=_0x2d71ea,_0x454299[_0x1f6756(0x851)]=_0x53b6f3;let _0x3799be=await this[_0x1f6756(0x671)][_0x1f6756(0x610)][_0x1f6756(0x869)](_0x454299['_id'],_0x454299,this[_0x1f6756(0x1c1)][_0x1f6756(0x2db)]);return this[_0x1f6756(0x83b)]['verbose'](this[_0x1f6756(0x181)]+'\x20('+this[_0x1f6756(0x1c1)][_0x1f6756(0x2db)]+_0x1f6756(0x625)),_0x3799be?_0x454299:null;}catch(_0x1008a2){let _0x33c17e=_0x1f6756(0x2f3),_0x5cc8bc=_0x1008a2 instanceof Error?_0x1008a2['message']:typeof _0x1008a2==_0x1f6756(0x4d6)?JSON[_0x1f6756(0x289)](_0x1008a2):_0x1008a2,_0x280c4e=_0x33c17e+':\x20'+_0x5cc8bc;throw this[_0x1f6756(0x83b)][_0x1f6756(0x2c1)](this['instanceName']+'\x20('+this['instance'][_0x1f6756(0x2db)]+_0x1f6756(0x66a)+_0x280c4e),new m(_0x280c4e);}}async[a0_0x4cdcbe(0x4bb)](_0x27e6fb,_0x38c5db){const _0x1e9614=a0_0x4cdcbe;let _0x1d9a5d,_0x4a54fe;try{let _0x4c57f9=_0x38c5db[_0x1e9614(0x7ba)];if(!_0x4c57f9||!_0x4c57f9[_0x1e9614(0x6c6)]||!_0x4c57f9['method'])throw new Error(_0x1e9614(0x795));let _0x207f8c;(['https://api.openai.com/v1/audio/speech',_0x1e9614(0x634),_0x1e9614(0x2bd)][_0x1e9614(0x5e6)](_0x209dbe=>_0x4c57f9['url'][_0x1e9614(0x192)](_0x209dbe))||_0x4c57f9[_0x1e9614(0x61d)])&&(_0x207f8c=_0x1e9614(0x7d0));let _0x2b8d34='\u205f',_0x3bc0d9;try{_0x3bc0d9=JSON[_0x1e9614(0x1c7)](_0x4c57f9[_0x1e9614(0x7c5)][_0x1e9614(0x1a6)](new RegExp(_0x2b8d34,'g'),''));}catch(_0x2e48f0){throw _0x2e48f0;}let _0xb22302={'method':_0x4c57f9[_0x1e9614(0x362)],'url':_0x4c57f9['url'],'headers':_0x4c57f9[_0x1e9614(0x54c)]||{},..._0x4c57f9[_0x1e9614(0x362)][_0x1e9614(0x411)]()!==_0x1e9614(0x759)&&_0x4c57f9[_0x1e9614(0x7c5)]?{'data':JSON[_0x1e9614(0x1c7)](_0x4c57f9[_0x1e9614(0x7c5)]['replace'](new RegExp(_0x2b8d34,'g'),''))}:{},..._0x207f8c&&{'responseType':_0x207f8c}},_0x38e922=await(0x0,ee[_0x1e9614(0x669)])(_0xb22302),_0x503d46=_0x38e922[_0x1e9614(0x4ef)]['content-type'];if(_0x503d46&&_0x503d46[_0x1e9614(0x192)](_0x1e9614(0x568))||typeof _0x38e922[_0x1e9614(0x599)]=='string'){if(typeof _0x38e922['data']==_0x1e9614(0x18a)){let _0x42a85a=_0x38e922['data']['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x1d9a5d=JSON['parse'](_0x42a85a);}catch(_0xdc82b0){this[_0x1e9614(0x83b)]['error'](_0x1e9614(0x7dc)+_0xdc82b0['message']),_0x1d9a5d={'_apiResponse':_0x38e922[_0x1e9614(0x599)]};}}else _0x1d9a5d=_0x38e922[_0x1e9614(0x599)];let _0x1ceb3d=_0x27e6fb['chatLog'][_0x1e9614(0x683)],_0x34cf94=this[_0x1e9614(0x707)](_0x1d9a5d);return Object[_0x1e9614(0x4dc)](_0x1ceb3d,_0x34cf94),_0x27e6fb[_0x1e9614(0x32a)][_0x1e9614(0x683)]=_0x1ceb3d,_0x4a54fe={'error':!0x1,'apiResponse':_0x1d9a5d},this['updateConversation'](_0x27e6fb,_0x38c5db,_0x4a54fe),_0x1d9a5d;}if(_0x503d46&&(_0x503d46[_0x1e9614(0x192)]('application/octet-stream')||_0x503d46[_0x1e9614(0x192)]('image')||_0x503d46[_0x1e9614(0x192)](_0x1e9614(0x6d5))||_0x503d46[_0x1e9614(0x192)](_0x1e9614(0x859)))){this[_0x1e9614(0x83b)][_0x1e9614(0x29b)](this[_0x1e9614(0x181)]+'\x20('+this[_0x1e9614(0x1c1)][_0x1e9614(0x2db)]+_0x1e9614(0x3b3)+_0x503d46);let _0x30a1cc=(0x0,Y['v4'])(),_0x1d62f1='',_0x49dd06={'image/jpeg':_0x1e9614(0x47a),'image/png':'.png','image/gif':_0x1e9614(0x483),'image/webp':_0x1e9614(0x332),'image/svg+xml':'.svg','audio/mpeg':'.mp3','audio/ogg':'.ogg','audio/wav':_0x1e9614(0x22b),'video/mp4':'.mp4','video/webm':_0x1e9614(0x745),'video/ogg':_0x1e9614(0x47e),'text/plain':_0x1e9614(0x8a3),'application/pdf':'.pdf','application/msword':_0x1e9614(0x409),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x1e9614(0x6c0),'application/vnd.ms-excel':_0x1e9614(0x313),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x1e9614(0x55b),'application/vnd.ms-powerpoint':_0x1e9614(0x479),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x1e9614(0x76b)};_0x49dd06[_0x503d46]?(_0x1d62f1=_0x49dd06[_0x503d46],this[_0x1e9614(0x83b)][_0x1e9614(0x29b)](this[_0x1e9614(0x181)]+'\x20('+this[_0x1e9614(0x1c1)]['wuid']+_0x1e9614(0x5d1)+_0x1d62f1)):(_0x1d62f1='.error',this[_0x1e9614(0x83b)][_0x1e9614(0x29b)](this['instanceName']+'\x20('+this[_0x1e9614(0x1c1)][_0x1e9614(0x2db)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x1d62f1)),_0x30a1cc+=_0x1d62f1,this[_0x1e9614(0x83b)][_0x1e9614(0x29b)](this[_0x1e9614(0x181)]+'\x20('+this['instance'][_0x1e9614(0x2db)]+_0x1e9614(0x4f0)+_0x30a1cc);let _0x2a05b2=this['configService'][_0x1e9614(0x2df)]('SERVER')[_0x1e9614(0x32b)];if(!_0x2a05b2){let _0x59e1ad=this[_0x1e9614(0x5fa)][_0x1e9614(0x2df)](_0x1e9614(0x727));_0x2a05b2=_0x1e9614(0x7e3)+(_0x59e1ad&&_0x59e1ad[_0x1e9614(0x43f)][_0x1e9614(0x43b)]('/')[0x4]);}let _0x4b967a=Buffer[_0x1e9614(0x1d1)](_0x38e922[_0x1e9614(0x599)]);await this[_0x1e9614(0x8a4)](_0x4b967a,_0x30a1cc);let _0x1188fc='/media/'+_0x30a1cc;_0x1188fc=''+_0x2a05b2+_0x1188fc,_0x1d9a5d={'fileUrl':_0x1188fc},_0x27e6fb['chatLog'][_0x1e9614(0x683)][_0x1e9614(0x4b2)]=_0x1188fc;let _0x5b8f91=_0x27e6fb[_0x1e9614(0x32a)][_0x1e9614(0x683)],_0x4f2725=this[_0x1e9614(0x707)](_0x1d9a5d);return Object[_0x1e9614(0x4dc)](_0x5b8f91,_0x4f2725),_0x27e6fb[_0x1e9614(0x32a)][_0x1e9614(0x683)]=_0x5b8f91,_0x4a54fe={'error':!0x1,'apiResponse':{'fileUrl':_0x1188fc}},this[_0x1e9614(0x320)](_0x27e6fb,_0x38c5db,_0x4a54fe),_0x1d9a5d;}}catch(_0x548b96){this[_0x1e9614(0x83b)][_0x1e9614(0x2c1)](_0x1e9614(0x5a5)+_0x548b96['message']),_0x548b96[_0x1e9614(0x5a2)]&&(_0x1d9a5d=_0x548b96[_0x1e9614(0x5a2)]['data']);let _0x1e1f06=_0x27e6fb['chatLog'][_0x1e9614(0x683)],_0x312d36=this[_0x1e9614(0x707)](_0x1d9a5d);return Object[_0x1e9614(0x4dc)](_0x1e1f06,_0x312d36),_0x27e6fb['chatLog'][_0x1e9614(0x683)]=_0x1e1f06,_0x4a54fe={'error':!0x0,'errorLog':_0x548b96[_0x1e9614(0x897)](),'apiResponse':_0x1d9a5d},this[_0x1e9614(0x320)](_0x27e6fb,_0x38c5db,_0x4a54fe),{'success':!0x1};}}[a0_0x4cdcbe(0x19e)](_0x532215,_0x4e0c96){const _0x491608=a0_0x4cdcbe;let _0x45442c=_0x107eaa=>{const _0x1346f0=a0_0x5e25;let _0xacff57=_0x107eaa[_0x1346f0(0x1a6)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x957e70=parseFloat(_0xacff57);return isNaN(_0x957e70)?null:_0x957e70;},_0x2f2957=_0x4e0c96['firstValue'],_0x3a050b=_0x4e0c96[_0x491608(0x254)];typeof _0x2f2957=='string'&&(_0x2f2957=this[_0x491608(0x7b0)](_0x2f2957,_0x532215[_0x491608(0x32a)][_0x491608(0x683)])??''),typeof _0x3a050b==_0x491608(0x18a)&&(_0x3a050b=this[_0x491608(0x7b0)](_0x3a050b,_0x532215[_0x491608(0x32a)][_0x491608(0x683)])??'');let _0x2e4b4a=null;if(!_0x4e0c96['editOperator'])return null;switch(this[_0x491608(0x83b)]['verbose'](this['instanceName']+'\x20('+this[_0x491608(0x1c1)]['wuid']+_0x491608(0x845)+_0x2f2957),this[_0x491608(0x83b)][_0x491608(0x29b)](this[_0x491608(0x181)]+'\x20('+this[_0x491608(0x1c1)][_0x491608(0x2db)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x3a050b),_0x4e0c96[_0x491608(0x2a9)]){case'+':case'-':case'*':case'/':let _0x2fbeaa=_0x45442c(_0x2f2957||'0'),_0x62628f=_0x45442c(_0x3a050b||'0');if(_0x2fbeaa===null)return null;switch(_0x4e0c96[_0x491608(0x2a9)]){case'+':_0x2e4b4a=_0x2fbeaa+(_0x62628f??0x0);break;case'-':_0x2e4b4a=_0x2fbeaa-(_0x62628f??0x0);break;case'*':_0x2e4b4a=_0x2fbeaa*(_0x62628f??0x1);break;case'/':_0x62628f!==0x0&&(_0x2e4b4a=_0x2fbeaa/(_0x62628f??0x1));break;}break;case _0x491608(0x81d):case _0x491608(0x636):let _0x2752c2=_0x3a050b,_0x1b11a9=_0x4e0c96[_0x491608(0x86c)];if(typeof _0x1b11a9==_0x491608(0x18a)&&(_0x1b11a9=this[_0x491608(0x7b0)](_0x1b11a9,_0x532215['chatLog']['realVariables'])??''),_0x2752c2&&_0x1b11a9!==void 0x0){let _0x10219d=_0x4e0c96[_0x491608(0x2a9)]===_0x491608(0x81d)?new RegExp(_0x2752c2['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x491608(0x2b3)),'g'):new RegExp(_0x2752c2,'g');_0x2e4b4a=_0x2f2957[_0x491608(0x1a6)](_0x10219d,_0x1b11a9);}else console['warn'](_0x491608(0x3e7));break;case _0x491608(0x623):_0x2e4b4a=_0x3a050b;break;case _0x491608(0x20f):let _0x1f3e1a=_0x2f2957[_0x491608(0x2c8)](new RegExp(_0x3a050b||''));_0x2e4b4a=_0x1f3e1a?_0x1f3e1a[0x0]:'';break;case _0x491608(0x3de):_0x2e4b4a=_0x2f2957[_0x491608(0x5b3)](0x0,parseInt(_0x3a050b||'0'));break;case _0x491608(0x5f1):let _0x481824=parseInt(_0x3a050b||'0');_0x2e4b4a=_0x2f2957[_0x491608(0x5b3)](_0x2f2957[_0x491608(0x59d)]-_0x481824);break;case _0x491608(0x3f0):let _0x2801bb=_0x45442c(_0x2f2957),_0x5ea6e4=parseInt(_0x3a050b||'0');_0x5ea6e4=Math['abs'](_0x5ea6e4),_0x2801bb!==null?_0x2e4b4a=_0x2801bb[_0x491608(0x743)](_0x491608(0x436),{'minimumFractionDigits':_0x5ea6e4,'maximumFractionDigits':_0x5ea6e4}):(console[_0x491608(0x3bc)](_0x491608(0x627)+_0x2f2957),_0x2e4b4a=null);break;case _0x491608(0x67a):let _0x41affe=_0x45442c(_0x2f2957);_0x41affe!==null?_0x2e4b4a=_0x41affe[_0x491608(0x743)](_0x491608(0x436),{'style':_0x491608(0x516),'currency':_0x491608(0x877)}):(console[_0x491608(0x3bc)](_0x491608(0x315)+_0x2f2957),_0x2e4b4a=null);break;case _0x491608(0x22f):_0x2e4b4a=_0x2f2957[_0x491608(0x411)]();break;case _0x491608(0x40f):_0x2e4b4a=_0x2f2957[_0x491608(0x804)]();break;case _0x491608(0x198):_0x2e4b4a=_0x2f2957[_0x491608(0x43b)]('\x20')[_0x491608(0x79d)](_0x1e9192=>_0x1e9192[_0x491608(0x5d2)](0x0)[_0x491608(0x411)]()+_0x1e9192[_0x491608(0x5b3)](0x1)[_0x491608(0x804)]())[_0x491608(0x481)]('\x20');break;case'trimmed':_0x2e4b4a=_0x2f2957[_0x491608(0x360)]();break;default:_0x2e4b4a=_0x2f2957;}return _0x2e4b4a!==null?_0x2e4b4a['toString']():null;}async[a0_0x4cdcbe(0x2d8)](_0x655f9c,_0x2fa03b){const _0x4231fe=a0_0x4cdcbe;try{let _0x31fea5=_0x655f9c[_0x4231fe(0x526)]?.[_0x4231fe(0x58d)](_0x57f779=>_0x57f779[_0x4231fe(0x534)]===_0x2fa03b[_0x4231fe(0x42f)]?.[_0x4231fe(0x897)]())||[],_0x1ddd2d=_0x2fa03b['saveVariable'],_0x42c1a4=null,_0xe52a3=[],_0x423137=_0x655f9c[_0x4231fe(0x32a)]['realVariables'][_0x1ddd2d];_0xe52a3[_0x4231fe(0x7e2)]('Valor\x20inicial:\x20\x22'+_0x423137+'\x22');for(let _0x25d59b of _0x31fea5){_0x25d59b[_0x4231fe(0x427)]=_0x423137,_0x42c1a4=_0x25d59b[_0x4231fe(0x427)];let _0x1cac22;try{_0x1cac22=this[_0x4231fe(0x19e)](_0x655f9c,_0x25d59b);}catch(_0x7cb12b){this[_0x4231fe(0x83b)][_0x4231fe(0x2c1)](_0x4231fe(0x424)+_0x7cb12b[_0x4231fe(0x517)]);continue;}if(_0x1cac22!==null){let _0x586f55=_0x4231fe(0x5aa)+_0x25d59b['editOperator']+'\x22',_0x42940c=[_0x4231fe(0x67a),'upperCase','lowerCase',_0x4231fe(0x198),_0x4231fe(0x6e9)];_0x25d59b[_0x4231fe(0x2a9)]===_0x4231fe(0x81d)||_0x25d59b[_0x4231fe(0x2a9)]===_0x4231fe(0x636)?_0x586f55+=_0x4231fe(0x662)+_0x25d59b[_0x4231fe(0x254)]+_0x4231fe(0x6b0)+_0x25d59b[_0x4231fe(0x86c)]+'\x22':!_0x42940c['includes'](_0x25d59b[_0x4231fe(0x2a9)])&&_0x25d59b['secondValue']!==null&&_0x25d59b['secondValue']!==void 0x0&&(_0x586f55+=_0x4231fe(0x53c)+_0x25d59b[_0x4231fe(0x254)]+'\x22'),_0x586f55+=',\x20resultado:\x20'+_0x1cac22+'.',_0xe52a3[_0x4231fe(0x7e2)](_0x586f55);}_0x1cac22!==null&&(_0x423137=_0x1cac22);}if(_0x655f9c[_0x4231fe(0x32a)]['realVariables']&&_0x2fa03b[_0x4231fe(0x38a)]){_0x655f9c[_0x4231fe(0x32a)][_0x4231fe(0x683)][_0x2fa03b[_0x4231fe(0x38a)]]=_0x423137;let _0x2973b7={'variable':_0x2fa03b['saveVariable'],'oldValue':_0x42c1a4,'newValue':_0x423137,'moreLogs':_0xe52a3};try{this['updateConversation'](_0x655f9c,_0x2fa03b,_0x2973b7);}catch(_0x559bae){this['logger']['error'](_0x4231fe(0x84b)+_0x559bae[_0x4231fe(0x517)]);}}return _0x1ddd2d;}catch(_0x1ccf04){return this['logger'][_0x4231fe(0x2c1)](_0x4231fe(0x51f)+_0x1ccf04[_0x4231fe(0x517)]),null;}}async[a0_0x4cdcbe(0x581)](_0x187c57,_0x5c19ae){const _0x3a3c0e=a0_0x4cdcbe;try{let _0x422995=[],_0x59ca4f=_0x187c57[_0x3a3c0e(0x513)][_0x3a3c0e(0x58d)](_0x482913=>_0x482913['blockId']===_0x5c19ae[_0x3a3c0e(0x42f)]['toString']()),_0x121967=null,_0x53959a=!0x1;for(let _0x3669ff of _0x59ca4f){let _0x5b28e9=this[_0x3a3c0e(0x604)](_0x187c57,_0x3669ff);_0x422995[_0x3a3c0e(0x7e2)](_0x3a3c0e(0x487)+_0x3669ff[_0x3a3c0e(0x427)]+_0x3a3c0e(0x2e3)+_0x3669ff['expression']+_0x3a3c0e(0x4d2)+_0x3669ff[_0x3a3c0e(0x254)]+_0x3a3c0e(0x3cf)+_0x5b28e9),_0x121967===null?_0x121967=_0x5b28e9:_0x3669ff[_0x3a3c0e(0x346)]==='and'?(_0x121967=_0x121967&&_0x5b28e9,_0x5b28e9||(_0x53959a=!0x0)):_0x3669ff[_0x3a3c0e(0x346)]==='or'&&(_0x53959a||(_0x121967=_0x121967||_0x5b28e9));}_0x121967===null&&(_0x121967=!0x0);let _0x5272db={'moreLogs':_0x422995};_0x187c57[_0x3a3c0e(0x32a)][_0x3a3c0e(0x7d2)]=_0x121967,await this[_0x3a3c0e(0x320)](_0x187c57,_0x5c19ae,_0x5272db);}catch(_0x4dc8d4){this[_0x3a3c0e(0x83b)]['error'](this['instanceName']+'\x20('+this[_0x3a3c0e(0x1c1)][_0x3a3c0e(0x2db)]+_0x3a3c0e(0x2d2)+(_0x4dc8d4 instanceof Error?_0x4dc8d4[_0x3a3c0e(0x517)]:JSON['stringify'](_0x4dc8d4,null,0x2)));}}[a0_0x4cdcbe(0x604)](_0x167479,_0x401e7f){const _0x2a1346=a0_0x4cdcbe;let _0x2d0500=_0x401e7f[_0x2a1346(0x427)],_0xfa3bf6=_0x401e7f[_0x2a1346(0x254)];typeof _0x2d0500==_0x2a1346(0x18a)&&(_0x2d0500=this['replaceVariables'](_0x2d0500,_0x167479['chatLog'][_0x2a1346(0x683)])??''),typeof _0xfa3bf6==_0x2a1346(0x18a)&&(_0xfa3bf6=this[_0x2a1346(0x7b0)](_0xfa3bf6,_0x167479[_0x2a1346(0x32a)][_0x2a1346(0x683)])??'');try{switch(_0x401e7f[_0x2a1346(0x197)]){case _0x2a1346(0x688):return _0x2d0500===_0xfa3bf6;case _0x2a1346(0x822):return _0x2d0500!==_0xfa3bf6;case'contains':return this[_0x2a1346(0x5e4)](_0x2d0500,_0xfa3bf6);case _0x2a1346(0x4d5):return!this[_0x2a1346(0x5e4)](_0x2d0500,_0xfa3bf6);case'greater':return parseFloat(_0x2d0500)>parseFloat(_0xfa3bf6);case _0x2a1346(0x7f3):return parseFloat(_0x2d0500)<parseFloat(_0xfa3bf6);case'notEmpty':return _0x2d0500!=='';case'empty':return _0x2d0500==='';case _0x2a1346(0x353):return new RegExp(_0xfa3bf6)['test'](_0x2d0500);case _0x2a1346(0x33a):return!new RegExp(_0xfa3bf6)[_0x2a1346(0x7f5)](_0x2d0500);default:return!0x1;}}catch(_0x96c458){return this[_0x2a1346(0x83b)][_0x2a1346(0x2c1)](_0x2a1346(0x46d)+_0x96c458),!0x1;}}[a0_0x4cdcbe(0x5e4)](_0x496d24,_0x58376e){const _0x1f8fac=a0_0x4cdcbe;if(_0x496d24===_0x58376e&&/^\d+$/[_0x1f8fac(0x7f5)](_0x496d24))return!0x0;if(this[_0x1f8fac(0x831)](_0x496d24)&&/^\d+$/['test'](_0x58376e)){let _0x57369b=_0x496d24['split'](',')[_0x1f8fac(0x79d)](_0x2fa3fb=>parseInt(_0x2fa3fb[_0x1f8fac(0x360)]())),_0x40d44e=parseInt(_0x58376e);return _0x57369b[_0x1f8fac(0x192)](_0x40d44e);}return _0x496d24['includes'](_0x58376e);}[a0_0x4cdcbe(0x831)](_0x468b77){const _0x5e8680=a0_0x4cdcbe;return/^\d+(,\d+)*$/[_0x5e8680(0x7f5)](_0x468b77);}[a0_0x4cdcbe(0x51d)](_0x1a99c9){const _0x30e228=a0_0x4cdcbe;let _0x13a408=!0x0,_0x47b7cb=null;for(let _0x87fe5f of _0x1a99c9){let _0xc390d5=this[_0x30e228(0x62a)](_0x87fe5f);if(_0x47b7cb==='or'&&_0xc390d5){_0x13a408=!0x0;break;}if(_0x47b7cb===_0x30e228(0x81a)&&!_0xc390d5){_0x13a408=!0x1;break;}_0x47b7cb=_0x87fe5f['OrAnd'];}return _0x13a408;}['evaluateConditionTest'](_0x106ca5){const _0x2ea56d=a0_0x4cdcbe;let _0x21e0fb=_0x106ca5['firstValue'],_0x5e7e56=_0x106ca5['secondValue'];try{switch(_0x106ca5[_0x2ea56d(0x197)]){case _0x2ea56d(0x688):return String(_0x21e0fb)===String(_0x5e7e56);case _0x2ea56d(0x822):return String(_0x21e0fb)!==String(_0x5e7e56);case'contains':return String(_0x21e0fb)[_0x2ea56d(0x192)](String(_0x5e7e56));case _0x2ea56d(0x4d5):return!String(_0x21e0fb)['includes'](String(_0x5e7e56));case _0x2ea56d(0x72a):return parseFloat(String(_0x21e0fb))>parseFloat(String(_0x5e7e56));case _0x2ea56d(0x7f3):return parseFloat(String(_0x21e0fb))<parseFloat(String(_0x5e7e56));case _0x2ea56d(0x4d1):return String(_0x21e0fb)!=='';case'empty':return String(_0x21e0fb)==='';case _0x2ea56d(0x353):return new RegExp(String(_0x5e7e56))['test'](String(_0x21e0fb));case _0x2ea56d(0x33a):return!new RegExp(String(_0x5e7e56))[_0x2ea56d(0x7f5)](String(_0x21e0fb));default:return!0x1;}}catch(_0x308683){return this['logger'][_0x2ea56d(0x2c1)](_0x2ea56d(0x46d)+_0x308683),!0x1;}}async[a0_0x4cdcbe(0x824)](_0x2f253b,_0xc2265f){const _0x1b915e=a0_0x4cdcbe;if(this[_0x1b915e(0x83b)][_0x1b915e(0x29b)](this['instanceName']+'\x20('+this[_0x1b915e(0x1c1)]['wuid']+_0x1b915e(0x358)),!_0x2f253b||!_0xc2265f)return this['logger'][_0x1b915e(0x2c1)](this[_0x1b915e(0x181)]+'\x20('+this[_0x1b915e(0x1c1)][_0x1b915e(0x2db)]+_0x1b915e(0x4fb)),null;let _0x46a20f=_0x2f253b['chatLog']['lastReceivedMessage'][_0x1b915e(0x786)]['id'];this['logger'][_0x1b915e(0x29b)](this[_0x1b915e(0x181)]+'\x20('+this[_0x1b915e(0x1c1)][_0x1b915e(0x2db)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x46a20f);let _0x319fa6={'key':{'id':_0x46a20f}},_0xfe525b=_0xc2265f[_0x1b915e(0x38a)];_0x2f253b[_0x1b915e(0x32a)][_0x1b915e(0x683)]['_'+_0xfe525b+_0x1b915e(0x186)]=null,_0x2f253b[_0x1b915e(0x32a)][_0x1b915e(0x683)]['_'+_0xfe525b+_0x1b915e(0x776)]=null,_0x2f253b[_0x1b915e(0x32a)][_0x1b915e(0x683)]['_'+_0xfe525b+_0x1b915e(0x81c)]=null,_0x2f253b[_0x1b915e(0x32a)][_0x1b915e(0x683)]['_'+_0xfe525b+'.type']=_0x2f253b[_0x1b915e(0x32a)][_0x1b915e(0x73f)][_0x1b915e(0x551)];try{let _0x3903a6=await this[_0x1b915e(0x3ad)](_0x319fa6);this['logger'][_0x1b915e(0x29b)](this[_0x1b915e(0x181)]+'\x20('+this[_0x1b915e(0x1c1)][_0x1b915e(0x2db)]+_0x1b915e(0x3d0)),_0x2f253b[_0x1b915e(0x32a)][_0x1b915e(0x683)]['_'+_0xfe525b+_0x1b915e(0x2ea)]=_0x3903a6[_0x1b915e(0x4b2)],_0x2f253b[_0x1b915e(0x32a)][_0x1b915e(0x683)]['_'+_0xfe525b+_0x1b915e(0x776)]=_0x3903a6[_0x1b915e(0x7c4)];let _0x3e7cde=_0x3903a6[_0x1b915e(0x7c4)][_0x1b915e(0x2c8)](/\/(\w+)$/),_0x3991ed=_0x3e7cde?_0x3e7cde[0x1]:null;_0x2f253b[_0x1b915e(0x32a)]['realVariables']['_'+_0xfe525b+_0x1b915e(0x81c)]=_0x3991ed,this['logger'][_0x1b915e(0x29b)](this[_0x1b915e(0x181)]+'\x20('+this[_0x1b915e(0x1c1)][_0x1b915e(0x2db)]+_0x1b915e(0x749)+_0xfe525b+'\x27.');}catch(_0x321619){this['logger'][_0x1b915e(0x2c1)](this[_0x1b915e(0x181)]+'\x20('+this[_0x1b915e(0x1c1)][_0x1b915e(0x2db)]+_0x1b915e(0x354)+_0x321619[_0x1b915e(0x517)]);}let _0x4c5ca0=_0x2f253b[_0x1b915e(0x32a)][_0x1b915e(0x73f)][_0x1b915e(0x2a8)]||_0x2f253b[_0x1b915e(0x32a)][_0x1b915e(0x73f)][_0x1b915e(0x65d)]||_0x2f253b[_0x1b915e(0x32a)]['lastReceivedMessage']['vote'];try{_0x2f253b[_0x1b915e(0x32a)][_0x1b915e(0x683)]||(_0x2f253b['chatLog'][_0x1b915e(0x683)]={});let _0x1aa74a=_0x2f253b['chatLog'][_0x1b915e(0x683)][_0xfe525b];_0x2f253b[_0x1b915e(0x32a)][_0x1b915e(0x683)][_0xfe525b]=_0x4c5ca0;let _0x1d94c1={'variable':_0xfe525b,'oldValue':_0x1aa74a,'newValue':_0x4c5ca0};this[_0x1b915e(0x320)](_0x2f253b,_0xc2265f,_0x1d94c1),this['logger'][_0x1b915e(0x29b)](this[_0x1b915e(0x181)]+'\x20('+this['instance'][_0x1b915e(0x2db)]+_0x1b915e(0x547));}catch(_0x1b08ad){let _0x83f936={'error':!0x0,'errorLog':_0x1b08ad[_0x1b915e(0x897)]()};return this['updateConversation'](_0x2f253b,_0xc2265f,_0x83f936),this[_0x1b915e(0x83b)][_0x1b915e(0x2c1)](this['instanceName']+'\x20('+this[_0x1b915e(0x1c1)]['wuid']+_0x1b915e(0x7de)+(_0x1b08ad instanceof Error?_0x1b08ad[_0x1b915e(0x517)]:JSON['stringify'](_0x1b08ad,null,0x2))),null;}}async[a0_0x4cdcbe(0x83e)](_0x28e139,_0x51a83c){const _0x1d7c50=a0_0x4cdcbe;if(this[_0x1d7c50(0x83b)][_0x1d7c50(0x29b)](this['instanceName']+'\x20('+this[_0x1d7c50(0x1c1)][_0x1d7c50(0x2db)]+_0x1d7c50(0x860)),!_0x28e139||!_0x51a83c)return this[_0x1d7c50(0x83b)]['error'](this[_0x1d7c50(0x181)]+'\x20('+this['instance'][_0x1d7c50(0x2db)]+_0x1d7c50(0x4fb)),null;let _0x3a63a9=Date[_0x1d7c50(0x472)](),_0x52f14c=parseInt(_0x51a83c[_0x1d7c50(0x259)],0xa);if(isNaN(_0x52f14c))return this[_0x1d7c50(0x83b)][_0x1d7c50(0x2c1)](this[_0x1d7c50(0x181)]+'\x20('+this[_0x1d7c50(0x1c1)][_0x1d7c50(0x2db)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x3eb401={'newStoppedUntil':_0x3a63a9+_0x52f14c*0x3c*0x3e8};return await this[_0x1d7c50(0x320)](_0x28e139,_0x51a83c,_0x3eb401,!0x0),null;}async[a0_0x4cdcbe(0x6dc)](_0x412148,_0x5b782c){const _0xb550f4=a0_0x4cdcbe;try{switch(_0x5b782c[_0xb550f4(0x82b)][_0xb550f4(0x344)]){case _0xb550f4(0x1f0):await this[_0xb550f4(0x74e)](_0x412148,_0x5b782c);break;case _0xb550f4(0x35b):await this[_0xb550f4(0x319)](_0x412148,_0x5b782c);break;case _0xb550f4(0x4aa):await this[_0xb550f4(0x3fa)](_0x412148,_0x5b782c);break;case _0xb550f4(0x1e8):await this[_0xb550f4(0x3ec)](_0x412148,_0x5b782c);break;case _0xb550f4(0x3c6):await this[_0xb550f4(0x282)](_0x412148,_0x5b782c);break;case _0xb550f4(0x68a):await this[_0xb550f4(0x6fb)](_0x412148,_0x5b782c);break;case _0xb550f4(0x30e):await this['uazapiSendMenu'](_0x412148,_0x5b782c);break;case'deleteMessage':await this[_0xb550f4(0x3af)](_0x412148,_0x5b782c);break;default:this['logger'][_0xb550f4(0x2c1)](this[_0xb550f4(0x181)]+'\x20('+this['instance'][_0xb550f4(0x2db)]+_0xb550f4(0x3a3)+_0x5b782c[_0xb550f4(0x82b)][_0xb550f4(0x344)]);}}catch(_0x41447d){this['logger'][_0xb550f4(0x2c1)](this[_0xb550f4(0x181)]+'\x20('+this['instance'][_0xb550f4(0x2db)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x41447d instanceof Error?_0x41447d[_0xb550f4(0x517)]:JSON[_0xb550f4(0x289)](_0x41447d,null,0x2)));}}async[a0_0x4cdcbe(0x320)](_0x50ac8d,_0x5afc36,_0x3dea1c,_0x1c021b=!0x1,_0x4b2574=!0x1){const _0x1f725e=a0_0x4cdcbe;_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x73e)]||(_0x50ac8d[_0x1f725e(0x32a)]['blockLogs']=[]);let _0x5ad0fe=(_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x73e)]?.[_0x1f725e(0x59d)]??0x0)+0x1,_0x52e303=_0x50ac8d[_0x1f725e(0x32a)]['blockLogs']['filter'](_0xca2162=>String(_0xca2162[_0x1f725e(0x534)])===String(_0x5afc36['_id']))['length']+0x1,_0x489f5d=_0x3dea1c?.[_0x1f725e(0x8ce)]??Date['now'](),_0x383b02=_0x3dea1c?.[_0x1f725e(0x2c1)]?_0x3dea1c[_0x1f725e(0x829)]??_0x3dea1c['error'][_0x1f725e(0x897)]():void 0x0,_0x291546={'onTime':_0x489f5d,'blockId':_0x5afc36[_0x1f725e(0x42f)],'order':_0x5ad0fe,'activatedCount':_0x52e303,'error':_0x3dea1c?.[_0x1f725e(0x2c1)]??!0x1,'messageId':_0x3dea1c?.['messageId'],'apiResponse':_0x3dea1c?.[_0x1f725e(0x1e1)],'apiResponseString':_0x3dea1c?.[_0x1f725e(0x1e1)]?JSON[_0x1f725e(0x289)](_0x3dea1c?.[_0x1f725e(0x1e1)]):void 0x0,'variable':_0x3dea1c?.[_0x1f725e(0x67c)],'oldValue':_0x3dea1c?.['oldValue'],'newValue':_0x3dea1c?.[_0x1f725e(0x4f2)],'newStoppedUntil':_0x3dea1c?.[_0x1f725e(0x8d2)],'moreLogs':_0x3dea1c?.[_0x1f725e(0x2af)],'errorLog':_0x383b02};if(_0x3dea1c[_0x1f725e(0x2af)]&&_0x3dea1c[_0x1f725e(0x2af)][_0x1f725e(0x59d)]>0x0){let _0x2bfce0=_0x3dea1c[_0x1f725e(0x2af)][_0x1f725e(0x79d)](_0x2d1637=>this['replaceVariablesLogs'](_0x2d1637,_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x683)]));_0x291546[_0x1f725e(0x2af)]=_0x2bfce0;}if(_0x50ac8d[_0x1f725e(0x32a)]['realVariables']||(_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x683)]={}),_0x50ac8d[_0x1f725e(0x32a)]['realVariables'][_0x1f725e(0x75b)]=String(_0x52e303),_0x50ac8d[_0x1f725e(0x32a)]['realVariables'][_0x1f725e(0x530)]=String(_0x3dea1c[_0x1f725e(0x2c1)]??!0x1),_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x73e)]['push'](_0x291546),_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x683)]['telefone']&&_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x683)]['telefone']!==_0x50ac8d['remoteJid']){let _0xbb54da=(await this[_0x1f725e(0x8d4)]({'numbers':[_0x50ac8d[_0x1f725e(0x32a)]['realVariables'][_0x1f725e(0x555)]]}))[0x0]['jid'];_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x683)][_0x1f725e(0x555)]=_0xbb54da,_0x50ac8d[_0x1f725e(0x3e5)]=_0xbb54da;try{let _0x3994dd={'_id':{'$ne':_0x50ac8d[_0x1f725e(0x42f)]},'remoteJid':_0xbb54da,'status':'open'},_0x1975c4={'status':_0x1f725e(0x412)};await this[_0x1f725e(0x671)][_0x1f725e(0x610)][_0x1f725e(0x597)](_0x3994dd,_0x1975c4,this[_0x1f725e(0x1c1)][_0x1f725e(0x2db)]),this['logger'][_0x1f725e(0x29b)](this['instanceName']+'\x20('+this['instance'][_0x1f725e(0x2db)]+_0x1f725e(0x3ea));}catch(_0x47e3dd){this[_0x1f725e(0x83b)][_0x1f725e(0x2c1)](this[_0x1f725e(0x181)]+'\x20('+this['instance'][_0x1f725e(0x2db)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x47e3dd['message']);}try{let _0xe1ca3f=_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x683)],_0x464908=await this[_0x1f725e(0x64d)](_0xbb54da),_0x333d89={..._0xe1ca3f,..._0x464908,'_remoteJid':_0xbb54da};_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x683)]=_0x333d89;}catch(_0xede1c8){this[_0x1f725e(0x83b)][_0x1f725e(0x2c1)](this[_0x1f725e(0x181)]+'\x20('+this[_0x1f725e(0x1c1)][_0x1f725e(0x2db)]+_0x1f725e(0x838)+_0xede1c8[_0x1f725e(0x517)]);}}_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x213)]=_0x5afc36['_id'][_0x1f725e(0x897)](),_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x224)]&&(_0x50ac8d[_0x1f725e(0x32a)]['lastSendMessage']=_0x50ac8d[_0x1f725e(0x32a)]['lastSendMessage']),_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x73f)]&&(_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x73f)]=_0x50ac8d[_0x1f725e(0x32a)]['lastReceivedMessage']),_0x50ac8d[_0x1f725e(0x32a)]['lastCondition']&&(_0x50ac8d[_0x1f725e(0x32a)][_0x1f725e(0x7d2)]=_0x50ac8d['chatLog'][_0x1f725e(0x7d2)]),_0x4b2574&&(_0x50ac8d[_0x1f725e(0x4b1)]=_0x1f725e(0x412)),_0x1c021b?this[_0x1f725e(0x77f)](_0x50ac8d):this[_0x1f725e(0x1ba)](_0x50ac8d,_0x5afc36);}[a0_0x4cdcbe(0x46c)](_0x45110e,_0x4881f2){const _0x3750f2=a0_0x4cdcbe;return _0x45110e[_0x3750f2(0x1a6)](/\{\{([^}]+)\}\}/g,(_0x3cf8c6,_0xad4b3c)=>_0x4881f2[_0xad4b3c]?'{{'+_0xad4b3c+'}}\x20->\x20\x22'+_0x4881f2[_0xad4b3c]+'\x22':'{{'+_0xad4b3c+_0x3750f2(0x895));}async[a0_0x4cdcbe(0x77f)](_0x110b6c){const _0x47be26=a0_0x4cdcbe;try{let _0x234886=Object[_0x47be26(0x659)](_0x110b6c[_0x47be26(0x32a)][_0x47be26(0x683)])[_0x47be26(0x79d)](([_0x30c176,_0x270ff7])=>({'name':_0x30c176,'value':_0x270ff7})),_0x164986={'status':_0x110b6c[_0x47be26(0x4b1)],'remoteJid':_0x110b6c['remoteJid'],'blocks':_0x110b6c[_0x47be26(0x39f)],'waitingMenu_id':_0x110b6c[_0x47be26(0x834)],'waitingMenu_text':_0x110b6c[_0x47be26(0x6e8)],'waitingMenu_replyOptions':_0x110b6c[_0x47be26(0x5b5)],'chatLog':{'lastBlockId':_0x110b6c[_0x47be26(0x32a)][_0x47be26(0x213)],'lastSendMessage':_0x110b6c[_0x47be26(0x32a)]['lastSendMessage'],'lastReceivedMessage':_0x110b6c[_0x47be26(0x32a)][_0x47be26(0x73f)],'lastCondition':_0x110b6c[_0x47be26(0x32a)][_0x47be26(0x7d2)],'chatVariables':_0x234886,'realVariables':_0x110b6c[_0x47be26(0x32a)][_0x47be26(0x683)],'blockLogs':_0x110b6c[_0x47be26(0x32a)][_0x47be26(0x73e)]}},_0x45c9ad=await this[_0x47be26(0x671)]['flowConversation']['updateOne'](_0x110b6c[_0x47be26(0x42f)],_0x164986,this[_0x47be26(0x1c1)][_0x47be26(0x2db)]);if(_0x45c9ad){this[_0x47be26(0x83b)][_0x47be26(0x29b)](this[_0x47be26(0x181)]+'\x20('+this[_0x47be26(0x1c1)][_0x47be26(0x2db)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x45c9ad[_0x47be26(0x42f)]);try{let _0x280a27=['nome','nomecompleto',_0x47be26(0x554),_0x47be26(0x812),'status',_0x47be26(0x488),_0x47be26(0x2b7),_0x47be26(0x86a),_0x47be26(0x88d),_0x47be26(0x574)];if(!this[_0x47be26(0x598)]&&(await this[_0x47be26(0x43e)](),!this[_0x47be26(0x598)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x2521bf=this[_0x47be26(0x598)]?.[_0x47be26(0x82a)][_0x47be26(0x79d)](_0x2496e4=>_0x2496e4[_0x47be26(0x5cf)]),_0x5b600e={};Object[_0x47be26(0x659)](_0x110b6c[_0x47be26(0x32a)][_0x47be26(0x683)])[_0x47be26(0x1d7)](([_0x5d0352,_0x5cc89a])=>{const _0xb3fe9e=_0x47be26;_0x280a27[_0xb3fe9e(0x192)](_0x5d0352)&&(_0x5d0352===_0xb3fe9e(0x86a)&&typeof _0x5cc89a==_0xb3fe9e(0x18a)?_0x5b600e[_0x5d0352]=_0x5cc89a[_0xb3fe9e(0x43b)](',')[_0xb3fe9e(0x79d)](_0x1230bc=>_0x1230bc[_0xb3fe9e(0x360)]())[_0xb3fe9e(0x58d)](_0x392c44=>_0x392c44!==''):_0x5d0352==='etiquetas'&&typeof _0x5cc89a==_0xb3fe9e(0x18a)?_0x5b600e[_0x5d0352]=_0x5cc89a[_0xb3fe9e(0x43b)](',')['map'](_0x3432ba=>_0x3432ba[_0xb3fe9e(0x360)]())[_0xb3fe9e(0x58d)](_0x41ed65=>_0x41ed65!==''):_0x5b600e[_0x5d0352]=_0x5cc89a);});let _0x18c560=_0x110b6c[_0x47be26(0x32a)][_0x47be26(0x73e)][_0x110b6c[_0x47be26(0x32a)][_0x47be26(0x73e)][_0x47be26(0x59d)]-0x1];if(_0x18c560){let _0x476bdb=_0x18c560[_0x47be26(0x8d2)];_0x476bdb!==void 0x0&&(_0x5b600e[_0x47be26(0x465)]=_0x476bdb['toString']());}let _0x5c8497=_0x234886[_0x47be26(0x58d)](_0x53020a=>_0x2521bf[_0x47be26(0x192)](_0x53020a[_0x47be26(0x5cf)]));this[_0x47be26(0x83b)][_0x47be26(0x29b)](this[_0x47be26(0x181)]+'\x20('+this[_0x47be26(0x1c1)][_0x47be26(0x2db)]+_0x47be26(0x87d)),this[_0x47be26(0x83b)]['verbose'](_0x5b600e),this[_0x47be26(0x83b)][_0x47be26(0x29b)](this[_0x47be26(0x181)]+'\x20('+this['instance'][_0x47be26(0x2db)]+_0x47be26(0x3a4)),this[_0x47be26(0x83b)][_0x47be26(0x29b)](_0x5c8497);let _0x368f26=_0x5c8497[_0x47be26(0x79d)](_0x161495=>{const _0x6419b=_0x47be26;let _0x252eb5=this[_0x6419b(0x598)]?.['customFields']['find'](_0xfabc07=>_0xfabc07[_0x6419b(0x5cf)]===_0x161495[_0x6419b(0x5cf)]);if(!_0x252eb5)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x161495[_0x6419b(0x5cf)]);return{'_id':_0x252eb5['_id'],'value':_0x161495[_0x6419b(0x863)]};});this['logger'][_0x47be26(0x29b)](this['instanceName']+'\x20('+this[_0x47be26(0x1c1)]['wuid']+_0x47be26(0x304)),this[_0x47be26(0x83b)][_0x47be26(0x29b)](_0x368f26),await this[_0x47be26(0x556)](_0x110b6c[_0x47be26(0x3e5)],_0x5b600e,_0x368f26);}catch(_0x193349){this[_0x47be26(0x83b)][_0x47be26(0x2c1)](this['instanceName']+'\x20('+this[_0x47be26(0x1c1)][_0x47be26(0x2db)]+_0x47be26(0x3e8)+(_0x193349 instanceof Error?_0x193349[_0x47be26(0x517)]:JSON['stringify'](_0x193349,null,0x2)));}}else this[_0x47be26(0x83b)][_0x47be26(0x2c1)](this[_0x47be26(0x181)]+'\x20('+this[_0x47be26(0x1c1)]['wuid']+_0x47be26(0x4bf));}catch(_0x53bcde){this[_0x47be26(0x83b)][_0x47be26(0x2c1)](this[_0x47be26(0x181)]+'\x20('+this[_0x47be26(0x1c1)][_0x47be26(0x2db)]+_0x47be26(0x7be)+(_0x53bcde instanceof Error?_0x53bcde[_0x47be26(0x517)]:JSON[_0x47be26(0x289)](_0x53bcde,null,0x2)));}}async[a0_0x4cdcbe(0x556)](_0x14bae8,_0x5adedd,_0x2d0eb1){const _0x443348=a0_0x4cdcbe;try{let _0x1abedb={'leadInfo.leadnome':_0x5adedd[_0x443348(0x502)],'leadInfo.nomecompleto':_0x5adedd['nomecompleto'],'leadInfo.email':_0x5adedd[_0x443348(0x554)],'leadInfo.cpf':_0x5adedd[_0x443348(0x812)],'leadInfo.status':_0x5adedd[_0x443348(0x4b1)],'leadInfo.notas':_0x5adedd['notas'],'leadInfo.responsavelid':_0x5adedd['responsavelid'],'leadInfo.tags':_0x5adedd['tags'],'leadInfo.etiquetas':_0x5adedd[_0x443348(0x88d)],'leadInfo.customFields':_0x2d0eb1,'leadInfo.atendimentoAberto':_0x5adedd[_0x443348(0x574)]},_0x40d765=await this[_0x443348(0x671)][_0x443348(0x538)][_0x443348(0x324)]({'where':{'_id':_0x14bae8}},this['instance'][_0x443348(0x2db)]);if(!_0x40d765)return'chat\x20não\x20encontrado';let _0x393a82=new Set(_0x40d765['leadInfo'][_0x443348(0x88d)]||[]),_0x34c15c=new Set(_0x5adedd['etiquetas']||[]),_0x2819f2=await this[_0x443348(0x671)]['label']['find']({'where':{}},this[_0x443348(0x1c1)][_0x443348(0x2db)]),_0x27a813=new Set(_0x2819f2[_0x443348(0x79d)](_0x328124=>_0x328124[_0x443348(0x42f)])),_0x3f0e88=[..._0x34c15c][_0x443348(0x58d)](_0x415770=>!_0x393a82[_0x443348(0x308)](_0x415770)&&_0x27a813[_0x443348(0x308)](_0x415770)),_0x37a65d=[..._0x393a82][_0x443348(0x58d)](_0x58b66b=>!_0x34c15c['has'](_0x58b66b));for(let _0x42d29f of _0x3f0e88)await this['AddChatLabel'](_0x42d29f,_0x40d765[_0x443348(0x42f)]),_0x393a82[_0x443348(0x52d)](_0x42d29f);for(let _0x6cc6fe of _0x37a65d)await this['RemoveChatLabel'](_0x6cc6fe,_0x40d765[_0x443348(0x42f)]),_0x393a82['delete'](_0x6cc6fe);if(_0x443348(0x465)in _0x5adedd){let _0x21c85b=_0x5adedd[_0x443348(0x465)];_0x1abedb['leadInfo.desativadoFluxoAte']=_0x21c85b?Number(_0x21c85b):null;}if(_0x443348(0x574)in _0x5adedd){let _0xf10bcd=_0x5adedd[_0x443348(0x574)][_0x443348(0x804)]();_0x1abedb[_0x443348(0x6e2)]=_0xf10bcd===_0x443348(0x608)||_0xf10bcd==='1'||_0xf10bcd==='yes'||_0xf10bcd===_0x443348(0x356);}let _0x39d853=await this['repository'][_0x443348(0x538)]['updateOne']({'where':{'_id':_0x14bae8}},_0x1abedb,this[_0x443348(0x1c1)][_0x443348(0x2db)]);_0x39d853?(this['logger'][_0x443348(0x29b)](this['instanceName']+'\x20('+this[_0x443348(0x1c1)][_0x443348(0x2db)]+_0x443348(0x7a0)+_0x39d853['_id']),V(this[_0x443348(0x181)],'chats',{'chat':_0x39d853})):this[_0x443348(0x83b)][_0x443348(0x2c1)](this['instanceName']+'\x20('+this['instance'][_0x443348(0x2db)]+_0x443348(0x719));}catch(_0x425b9d){this['logger']['error'](this[_0x443348(0x181)]+'\x20('+this['instance'][_0x443348(0x2db)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x425b9d instanceof Error?_0x425b9d[_0x443348(0x517)]:JSON[_0x443348(0x289)](_0x425b9d,null,0x2)));}}async[a0_0x4cdcbe(0x74a)](_0x5414ef,_0x4196ab){const _0x58f1e6=a0_0x4cdcbe;this[_0x58f1e6(0x83b)][_0x58f1e6(0x29b)](this[_0x58f1e6(0x181)]+'\x20('+this['instance']['wuid']+'):\x20atualização\x20chat:\x20'+_0x4196ab);try{let _0x335d5a=await this['repository'][_0x58f1e6(0x538)][_0x58f1e6(0x869)]({'where':{'_id':_0x5414ef['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x4196ab},this['instance'][_0x58f1e6(0x2db)]);this[_0x58f1e6(0x83b)][_0x58f1e6(0x29b)](this[_0x58f1e6(0x181)]+'\x20('+this[_0x58f1e6(0x1c1)][_0x58f1e6(0x2db)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x5414ef[_0x58f1e6(0x42f)]),this[_0x58f1e6(0x83b)][_0x58f1e6(0x29b)](this[_0x58f1e6(0x181)]+'\x20('+this[_0x58f1e6(0x1c1)][_0x58f1e6(0x2db)]+_0x58f1e6(0x42d)+JSON['stringify'](_0x335d5a,null,0x2)),_0x335d5a&&V(this[_0x58f1e6(0x181)],_0x58f1e6(0x3ef),{'chat':_0x335d5a});}catch(_0x38d60d){this['logger'][_0x58f1e6(0x2c1)](this[_0x58f1e6(0x181)]+'\x20('+this[_0x58f1e6(0x1c1)][_0x58f1e6(0x2db)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x38d60d instanceof Error?_0x38d60d[_0x58f1e6(0x517)]:JSON[_0x58f1e6(0x289)](_0x38d60d,null,0x2)));}}async['findFlow'](_0x585d25){const _0x4c2250=a0_0x4cdcbe;try{this[_0x4c2250(0x83b)][_0x4c2250(0x29b)](this['instanceName']+'\x20('+this[_0x4c2250(0x1c1)][_0x4c2250(0x2db)]+'):\x20Buscando\x20flow...');let _0x35e9ce=_0x585d25[_0x4c2250(0x1a6)](/\D/g,''),_0x2bc15f=this[_0x4c2250(0x598)][_0x4c2250(0x4e3)][_0x4c2250(0x521)](_0x451235=>_0x451235[_0x4c2250(0x503)]===_0x35e9ce);if(_0x2bc15f||(this[_0x4c2250(0x83b)][_0x4c2250(0x29b)](this['instanceName']+'\x20('+this[_0x4c2250(0x1c1)][_0x4c2250(0x2db)]+_0x4c2250(0x706)),_0x2bc15f=this[_0x4c2250(0x598)][_0x4c2250(0x4e3)]['find'](_0x391ce8=>_0x391ce8[_0x4c2250(0x669)]===!0x0)),!_0x2bc15f)return this[_0x4c2250(0x83b)]['verbose'](this[_0x4c2250(0x181)]+'\x20('+this[_0x4c2250(0x1c1)]['wuid']+_0x4c2250(0x400)),null;let _0x469700=await this[_0x4c2250(0x671)][_0x4c2250(0x357)][_0x4c2250(0x324)]({'where':{'_id':_0x2bc15f['_id']}});if(!_0x469700||!_0x469700[_0x4c2250(0x2bc)]?.[_0x4c2250(0x192)](this['instance'][_0x4c2250(0x2db)]))throw this['logger'][_0x4c2250(0x2c1)](this[_0x4c2250(0x181)]+'\x20('+this[_0x4c2250(0x1c1)][_0x4c2250(0x2db)]+_0x4c2250(0x800)+_0x469700['_id']+_0x4c2250(0x1b5)),new m('Flow\x20\x27'+_0x469700[_0x4c2250(0x42f)]+_0x4c2250(0x1b5));return _0x469700;}catch(_0x8d91b8){return this[_0x4c2250(0x83b)][_0x4c2250(0x2c1)](this[_0x4c2250(0x181)]+'\x20('+this[_0x4c2250(0x1c1)][_0x4c2250(0x2db)]+_0x4c2250(0x546)+(_0x8d91b8 instanceof Error?_0x8d91b8[_0x4c2250(0x517)]:JSON['stringify'](_0x8d91b8,null,0x2))),null;}}async[a0_0x4cdcbe(0x365)](_0x5ddf08,_0x52cefe){const _0x2e6a1c=a0_0x4cdcbe;try{let _0x1d419d=!!_0x52cefe[_0x2e6a1c(0x4e9)],_0x36d4f1=_0x52cefe[_0x2e6a1c(0x842)],_0x1bf058=null;if(this[_0x2e6a1c(0x83b)][_0x2e6a1c(0x29b)](this[_0x2e6a1c(0x181)]+'\x20('+this['instance']['wuid']+'):\x20isVote:\x20'+_0x1d419d+_0x2e6a1c(0x7f9)+_0x36d4f1),_0x1d419d){this['logger'][_0x2e6a1c(0x29b)](this['instanceName']+'\x20('+this[_0x2e6a1c(0x1c1)][_0x2e6a1c(0x2db)]+_0x2e6a1c(0x388));let _0x1fe8e2={'where':{'remoteJid':_0x5ddf08,'waitingMenu_id':_0x36d4f1}};if(_0x1bf058=await this[_0x2e6a1c(0x671)]['flowConversation'][_0x2e6a1c(0x324)](_0x1fe8e2,this[_0x2e6a1c(0x1c1)][_0x2e6a1c(0x2db)]),!_0x1bf058)return this[_0x2e6a1c(0x83b)][_0x2e6a1c(0x29b)](this[_0x2e6a1c(0x181)]+'\x20('+this['instance'][_0x2e6a1c(0x2db)]+'):\x20não\x20encontrou'),null;let _0x14ae2f=Date[_0x2e6a1c(0x472)](),_0x320b1c=_0x1bf058?.[_0x2e6a1c(0x4d0)]||0x0,_0x3b3207=_0x14ae2f-_0x320b1c*0x3c*0x3e8;if(_0x1bf058[_0x2e6a1c(0x6d8)]<_0x3b3207){this[_0x2e6a1c(0x83b)][_0x2e6a1c(0x29b)](this[_0x2e6a1c(0x181)]+'\x20('+this[_0x2e6a1c(0x1c1)][_0x2e6a1c(0x2db)]+_0x2e6a1c(0x5db));let _0x4b389f={'number':_0x1bf058[_0x2e6a1c(0x3e5)],'options':{'delay':0x0},'textMessage':{'text':_0x1bf058['waitingMenu_ExpiredMessage']}};await this[_0x2e6a1c(0x4c5)](_0x4b389f);let _0x32f71b={'status':_0x2e6a1c(0x412),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x2e6a1c(0x671)][_0x2e6a1c(0x610)]['updateOne'](_0x1bf058[_0x2e6a1c(0x42f)],_0x32f71b,this['instance'][_0x2e6a1c(0x2db)]),null;}return _0x1bf058[_0x2e6a1c(0x6d8)]=Date[_0x2e6a1c(0x472)](),_0x1bf058[_0x2e6a1c(0x32a)][_0x2e6a1c(0x73f)]=_0x52cefe,_0x1bf058;}else{this['logger'][_0x2e6a1c(0x29b)](this[_0x2e6a1c(0x181)]+'\x20('+this['instance'][_0x2e6a1c(0x2db)]+_0x2e6a1c(0x66a)+this[_0x2e6a1c(0x1c1)][_0x2e6a1c(0x2db)]+_0x2e6a1c(0x8d3)),this['logger'][_0x2e6a1c(0x29b)](this[_0x2e6a1c(0x181)]+'\x20('+this[_0x2e6a1c(0x1c1)][_0x2e6a1c(0x2db)]+'):\x20Procurando\x20conversa');let _0x4227db={'where':{'remoteJid':_0x5ddf08,'status':_0x2e6a1c(0x542)}};if(_0x1bf058=await this[_0x2e6a1c(0x671)][_0x2e6a1c(0x610)]['findOne'](_0x4227db,this[_0x2e6a1c(0x1c1)][_0x2e6a1c(0x2db)]),!_0x1bf058){let _0x2ab524=await this[_0x2e6a1c(0x2ab)](_0x5ddf08);if(_0x2ab524&&(_0x1bf058=await this[_0x2e6a1c(0x701)](_0x2ab524,_0x52cefe['key'],_0x52cefe)),!_0x1bf058)return null;}let _0x22e735=Date['now'](),_0x5c8c19=_0x1bf058?.['minutesToClose']||0x0,_0x224762=_0x22e735-_0x5c8c19*0x3c*0x3e8;if(this['logger'][_0x2e6a1c(0x29b)](this[_0x2e6a1c(0x181)]+'\x20('+this[_0x2e6a1c(0x1c1)][_0x2e6a1c(0x2db)]+'):\x20Current\x20Time:\x20'+_0x22e735+_0x2e6a1c(0x5d0)+_0x5c8c19+_0x2e6a1c(0x421)+_0x224762),this['logger'][_0x2e6a1c(0x29b)](this[_0x2e6a1c(0x181)]+'\x20('+this[_0x2e6a1c(0x1c1)][_0x2e6a1c(0x2db)]+_0x2e6a1c(0x578)),this[_0x2e6a1c(0x83b)][_0x2e6a1c(0x29b)](this[_0x2e6a1c(0x181)]+'\x20('+this[_0x2e6a1c(0x1c1)][_0x2e6a1c(0x2db)]+'):\x20conversation.lastInteraction:\x20'+_0x1bf058['lastInteraction']),this[_0x2e6a1c(0x83b)][_0x2e6a1c(0x29b)](this[_0x2e6a1c(0x181)]+'\x20('+this[_0x2e6a1c(0x1c1)][_0x2e6a1c(0x2db)]+_0x2e6a1c(0x7b8)+_0x224762),_0x1bf058[_0x2e6a1c(0x6d8)]<_0x224762){this[_0x2e6a1c(0x83b)]['verbose'](this['instanceName']+'\x20('+this[_0x2e6a1c(0x1c1)][_0x2e6a1c(0x2db)]+_0x2e6a1c(0x2e4));let _0x20dec1=await this[_0x2e6a1c(0x2ab)](_0x5ddf08);if(_0x20dec1===null)return null;_0x1bf058&&await this['repository'][_0x2e6a1c(0x610)][_0x2e6a1c(0x869)](_0x1bf058['_id'],{'status':_0x2e6a1c(0x412)},this[_0x2e6a1c(0x1c1)]['wuid']),_0x1bf058=await this[_0x2e6a1c(0x701)](_0x20dec1,_0x52cefe[_0x2e6a1c(0x786)],_0x52cefe);}return _0x1bf058[_0x2e6a1c(0x6d8)]=_0x22e735,_0x1bf058['chatLog']['lastReceivedMessage']=_0x52cefe,_0x1bf058;}}catch(_0x3d7cf0){return this['logger']['error'](this[_0x2e6a1c(0x181)]+'\x20('+this['instance'][_0x2e6a1c(0x2db)]+_0x2e6a1c(0x4d3)+(_0x3d7cf0 instanceof Error?_0x3d7cf0[_0x2e6a1c(0x517)]:JSON[_0x2e6a1c(0x289)](_0x3d7cf0,null,0x2))),null;}}async[a0_0x4cdcbe(0x701)](_0x4336f6,_0x4c8813,_0x385d9f){const _0x489027=a0_0x4cdcbe;this[_0x489027(0x83b)]['verbose'](this[_0x489027(0x181)]+'\x20('+this[_0x489027(0x1c1)]['wuid']+_0x489027(0x2a3));try{let _0x5ed8d0=require(_0x489027(0x833))[_0x489027(0x407)],_0x1d460e=Date[_0x489027(0x472)](),_0x47500c=_0x489027(0x7e6),_0x59bb2e=_0x4c8813[_0x489027(0x7ac)]?null:_0x385d9f,_0x3541ef=_0x4c8813['fromMe']?_0x385d9f:null,_0x3eb3e1=_0x4c8813[_0x489027(0x3e5)],_0x451032=this[_0x489027(0x598)][_0x489027(0x4e3)][_0x489027(0x521)](_0x2b955d=>_0x2b955d['_id']===_0x4336f6[_0x489027(0x42f)]?.[_0x489027(0x897)]()),_0x430ea1=_0x451032?.[_0x489027(0x4d0)]??_0x4336f6['minutesToClose']??0x0,_0x489348=_0x451032?.['readMessages']??_0x4336f6['readMessages']??!0x1;await this[_0x489027(0x3ab)](_0x3eb3e1);let _0x1ab6d7={'flowId':_0x4336f6['_id'],..._0x4336f6,'chatLog':null},_0x38db23=await this[_0x489027(0x82e)](_0x1ab6d7[_0x489027(0x6bb)]),_0x391a90=await this['getVariablesChat'](_0x3eb3e1),_0x1f6be5={..._0x38db23,..._0x391a90,'_remoteJid':_0x3eb3e1},_0x58e806={'lastReceivedMessage':_0x59bb2e,'lastSendMessage':_0x3541ef,'lastBlockId':_0x47500c,'lastCondition':!0x0,'realVariables':_0x1f6be5};_0x1ab6d7['chatLog']=_0x58e806,delete _0x1ab6d7[_0x489027(0x42f)],_0x1ab6d7[_0x489027(0x42f)]=new _0x5ed8d0(),_0x1ab6d7[_0x489027(0x6d8)]=_0x1d460e,_0x1ab6d7[_0x489027(0x4b1)]=_0x489027(0x542),_0x1ab6d7[_0x489027(0x3e5)]=_0x3eb3e1,_0x1ab6d7[_0x489027(0x4d0)]=_0x430ea1,_0x1ab6d7['readMessages']=_0x489348;let _0x4292b7=await this['repository'][_0x489027(0x610)]['updateOne'](_0x1ab6d7['_id'],_0x1ab6d7,this[_0x489027(0x1c1)]['wuid']);return this['logger']['verbose'](this[_0x489027(0x181)]+'\x20('+this[_0x489027(0x1c1)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x4292b7?_0x1ab6d7:null;}catch(_0x37bdeb){return this[_0x489027(0x83b)]['error'](this['instanceName']+'\x20('+this['instance'][_0x489027(0x2db)]+_0x489027(0x1ce)+(_0x37bdeb instanceof Error?_0x37bdeb['message']:JSON['stringify'](_0x37bdeb,null,0x2))),_0x37bdeb;}}async['uazapiSendText'](_0x26444c,_0x48e529){const _0x2803a4=a0_0x4cdcbe;let _0x9464d6=_0x26444c[_0x2803a4(0x3e5)];_0x48e529[_0x2803a4(0x82b)]['remoteJid']&&_0x48e529['uazapi']['remoteJid'][_0x2803a4(0x360)]()!==''&&(_0x9464d6=_0x48e529['uazapi']['remoteJid'][_0x2803a4(0x360)]()),this['logger'][_0x2803a4(0x29b)](this['instanceName']+'\x20('+this[_0x2803a4(0x1c1)][_0x2803a4(0x2db)]+_0x2803a4(0x3b4));let _0x1d7b39={'number':_0x9464d6,'options':{'delay':_0x48e529['uazapi'][_0x2803a4(0x25a)],'linkPreview':_0x48e529[_0x2803a4(0x82b)]['linkPreview']},'textMessage':{'text':_0x48e529[_0x2803a4(0x82b)][_0x2803a4(0x2a8)]}};try{let _0x59ba73=await this['textMessage'](_0x1d7b39);if(_0x59ba73){let _0x159da4={'_id':_0x59ba73['key']['id'],'_fromMe':_0x59ba73['key'][_0x2803a4(0x7ac)],'_remoteJid':_0x59ba73[_0x2803a4(0x786)][_0x2803a4(0x3e5)]},_0x21aed9=(0x0,w['normalizeMessageContent'])(_0x59ba73[_0x2803a4(0x517)]),_0x11219c=(0x0,w[_0x2803a4(0x59a)])(_0x21aed9);_0x26444c[_0x2803a4(0x32a)]['lastBlockId']=_0x48e529[_0x2803a4(0x42f)][_0x2803a4(0x897)]();let {message_normalized:_0x4a792d}=this[_0x2803a4(0x2b8)](_0x21aed9,_0x11219c,null);_0x26444c[_0x2803a4(0x32a)][_0x2803a4(0x224)]=await _0x4a792d;let _0x44d097={'messageId':_0x59ba73[_0x2803a4(0x786)]['id']},_0x1e1210=_0x26444c[_0x2803a4(0x32a)][_0x2803a4(0x683)];Object[_0x2803a4(0x4dc)](_0x1e1210,_0x159da4),_0x26444c['chatLog'][_0x2803a4(0x683)]=_0x1e1210,this[_0x2803a4(0x320)](_0x26444c,_0x48e529,_0x44d097);}else{let _0x3dcd46={'error':!0x0};this[_0x2803a4(0x320)](_0x26444c,_0x48e529,_0x3dcd46),this[_0x2803a4(0x83b)][_0x2803a4(0x2c1)](this[_0x2803a4(0x181)]+'\x20('+this['instance']['wuid']+_0x2803a4(0x878));}}catch(_0x8773cb){let _0x30557a={'error':!0x0,'errorLog':_0x8773cb['toString']()};this[_0x2803a4(0x320)](_0x26444c,_0x48e529,_0x30557a),this['logger'][_0x2803a4(0x2c1)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x8773cb instanceof Error?_0x8773cb[_0x2803a4(0x517)]:JSON[_0x2803a4(0x289)](_0x8773cb,null,0x2)));}}async[a0_0x4cdcbe(0x319)](_0xc86caf,_0x14b8c8){const _0x2f3d54=a0_0x4cdcbe;let _0x14f5f1=_0xc86caf[_0x2f3d54(0x3e5)];_0x14b8c8[_0x2f3d54(0x82b)][_0x2f3d54(0x3e5)]&&_0x14b8c8[_0x2f3d54(0x82b)][_0x2f3d54(0x3e5)][_0x2f3d54(0x360)]()!==''&&(_0x14f5f1=_0x14b8c8['uazapi'][_0x2f3d54(0x3e5)][_0x2f3d54(0x360)]()),this[_0x2f3d54(0x83b)][_0x2f3d54(0x29b)](this[_0x2f3d54(0x181)]+'\x20('+this['instance'][_0x2f3d54(0x2db)]+_0x2f3d54(0x6a9));let _0xe84403={'number':_0x14f5f1,'options':{'delay':_0x14b8c8[_0x2f3d54(0x82b)][_0x2f3d54(0x25a)],'linkPreview':_0x14b8c8[_0x2f3d54(0x82b)]['linkPreview']},'mediaMessage':{'mediatype':_0x14b8c8[_0x2f3d54(0x82b)][_0x2f3d54(0x87a)],'caption':_0x14b8c8['uazapi']['caption'],'media':_0x14b8c8[_0x2f3d54(0x82b)][_0x2f3d54(0x2c6)],'fileName':_0x14b8c8[_0x2f3d54(0x82b)][_0x2f3d54(0x7eb)]}};try{let _0x32bfde=await this[_0x2f3d54(0x75d)](_0xe84403);if(_0x32bfde){let _0xa755ea={'_id':_0x32bfde[_0x2f3d54(0x786)]['id'],'_fromMe':_0x32bfde[_0x2f3d54(0x786)]['fromMe'],'_remoteJid':_0x32bfde[_0x2f3d54(0x786)]['remoteJid']},_0x332f64=(0x0,w[_0x2f3d54(0x724)])(_0x32bfde['message']),_0x246af2=(0x0,w[_0x2f3d54(0x59a)])(_0x332f64);_0xc86caf[_0x2f3d54(0x32a)]['lastBlockId']=_0x14b8c8['_id'][_0x2f3d54(0x897)]();let {message_normalized:_0xc45187}=this[_0x2f3d54(0x2b8)](_0x332f64,_0x246af2,null);_0xc86caf['chatLog'][_0x2f3d54(0x224)]=await _0xc45187;let _0x565d8a={'messageId':_0x32bfde[_0x2f3d54(0x786)]['id']},_0x149137=_0xc86caf[_0x2f3d54(0x32a)][_0x2f3d54(0x683)];Object[_0x2f3d54(0x4dc)](_0x149137,_0xa755ea),_0xc86caf[_0x2f3d54(0x32a)][_0x2f3d54(0x683)]=_0x149137,this['updateConversation'](_0xc86caf,_0x14b8c8,_0x565d8a);}else{let _0x48ac51={'error':!0x0};this[_0x2f3d54(0x320)](_0xc86caf,_0x14b8c8,_0x48ac51),this[_0x2f3d54(0x83b)][_0x2f3d54(0x2c1)](this[_0x2f3d54(0x181)]+'\x20('+this[_0x2f3d54(0x1c1)][_0x2f3d54(0x2db)]+_0x2f3d54(0x790));}}catch(_0x78442e){let _0x30a3db={'error':!0x0,'errorLog':_0x78442e[_0x2f3d54(0x897)]()};this[_0x2f3d54(0x320)](_0xc86caf,_0x14b8c8,_0x30a3db),this[_0x2f3d54(0x83b)]['error'](this['instanceName']+'\x20('+this[_0x2f3d54(0x1c1)][_0x2f3d54(0x2db)]+_0x2f3d54(0x25f)+(_0x78442e instanceof Error?_0x78442e[_0x2f3d54(0x517)]:JSON[_0x2f3d54(0x289)](_0x78442e,null,0x2)));}}async[a0_0x4cdcbe(0x3fa)](_0x52634c,_0x3d43c4){const _0x482dcf=a0_0x4cdcbe;let _0x4066c8=_0x52634c['remoteJid'];_0x3d43c4[_0x482dcf(0x82b)][_0x482dcf(0x3e5)]&&_0x3d43c4[_0x482dcf(0x82b)][_0x482dcf(0x3e5)][_0x482dcf(0x360)]()!==''&&(_0x4066c8=_0x3d43c4[_0x482dcf(0x82b)][_0x482dcf(0x3e5)][_0x482dcf(0x360)]()),this[_0x482dcf(0x83b)][_0x482dcf(0x29b)](this[_0x482dcf(0x181)]+'\x20('+this[_0x482dcf(0x1c1)][_0x482dcf(0x2db)]+_0x482dcf(0x85e));let _0x43fbad={'number':_0x4066c8,'options':{'delay':_0x3d43c4[_0x482dcf(0x82b)][_0x482dcf(0x25a)]},'locationMessage':{'name':_0x3d43c4[_0x482dcf(0x82b)][_0x482dcf(0x5cf)],'address':_0x3d43c4[_0x482dcf(0x82b)]['address'],'latitude':_0x3d43c4['uazapi'][_0x482dcf(0x3e6)],'longitude':_0x3d43c4['uazapi'][_0x482dcf(0x1cd)]}};try{let _0x56c3a1=await this[_0x482dcf(0x1b7)](_0x43fbad);if(_0x56c3a1){let _0x3c71e8={'_id':_0x56c3a1[_0x482dcf(0x786)]['id'],'_fromMe':_0x56c3a1['key']['fromMe'],'_remoteJid':_0x56c3a1['key'][_0x482dcf(0x3e5)]},_0x2a5234=(0x0,w[_0x482dcf(0x724)])(_0x56c3a1[_0x482dcf(0x517)]),_0x16e1a0=(0x0,w[_0x482dcf(0x59a)])(_0x2a5234);_0x52634c[_0x482dcf(0x32a)][_0x482dcf(0x213)]=_0x3d43c4[_0x482dcf(0x42f)][_0x482dcf(0x897)]();let {message_normalized:_0x27a0c3}=this['normalizeMessage'](_0x2a5234,_0x16e1a0,null);_0x52634c['chatLog'][_0x482dcf(0x224)]=await _0x27a0c3;let _0x55778e={'messageId':_0x56c3a1[_0x482dcf(0x786)]['id']},_0x14c8d1=_0x52634c[_0x482dcf(0x32a)][_0x482dcf(0x683)];Object[_0x482dcf(0x4dc)](_0x14c8d1,_0x3c71e8),_0x52634c['chatLog'][_0x482dcf(0x683)]=_0x14c8d1,this[_0x482dcf(0x320)](_0x52634c,_0x3d43c4,_0x55778e);}else{let _0x5c4b8e={'error':!0x0};this[_0x482dcf(0x320)](_0x52634c,_0x3d43c4,_0x5c4b8e),this[_0x482dcf(0x83b)]['error'](this[_0x482dcf(0x181)]+'\x20('+this['instance'][_0x482dcf(0x2db)]+_0x482dcf(0x741));}}catch(_0x2efbfd){let _0x5de0ca={'error':!0x0,'errorLog':_0x2efbfd[_0x482dcf(0x897)]()};this[_0x482dcf(0x320)](_0x52634c,_0x3d43c4,_0x5de0ca),this[_0x482dcf(0x83b)][_0x482dcf(0x2c1)](this['instanceName']+'\x20('+this[_0x482dcf(0x1c1)][_0x482dcf(0x2db)]+_0x482dcf(0x439)+(_0x2efbfd instanceof Error?_0x2efbfd[_0x482dcf(0x517)]:JSON[_0x482dcf(0x289)](_0x2efbfd,null,0x2)));}}async['uazapiSendAudio'](_0x58d300,_0x2f4329){const _0x32f064=a0_0x4cdcbe;let _0x284599=_0x58d300[_0x32f064(0x3e5)];_0x2f4329['uazapi'][_0x32f064(0x3e5)]&&_0x2f4329[_0x32f064(0x82b)][_0x32f064(0x3e5)][_0x32f064(0x360)]()!==''&&(_0x284599=_0x2f4329[_0x32f064(0x82b)][_0x32f064(0x3e5)]['trim']()),this[_0x32f064(0x83b)][_0x32f064(0x29b)](this[_0x32f064(0x181)]+'\x20('+this[_0x32f064(0x1c1)][_0x32f064(0x2db)]+'):\x20Enviando\x20áudio');let _0x3878a6={'number':_0x284599,'options':{'delay':_0x2f4329[_0x32f064(0x82b)][_0x32f064(0x25a)]},'audioMessage':{'audio':_0x2f4329[_0x32f064(0x82b)][_0x32f064(0x6d5)]}};try{let _0x56d2b5=await this[_0x32f064(0x5a7)](_0x3878a6);if(_0x56d2b5){let _0x2aae56={'_id':_0x56d2b5[_0x32f064(0x786)]['id'],'_fromMe':_0x56d2b5[_0x32f064(0x786)][_0x32f064(0x7ac)],'_remoteJid':_0x56d2b5[_0x32f064(0x786)][_0x32f064(0x3e5)]},_0x51bb9f=(0x0,w[_0x32f064(0x724)])(_0x56d2b5[_0x32f064(0x517)]),_0x1a84aa=(0x0,w['getContentType'])(_0x51bb9f);_0x58d300[_0x32f064(0x32a)][_0x32f064(0x213)]=_0x2f4329[_0x32f064(0x42f)]['toString']();let {message_normalized:_0x2935eb}=this[_0x32f064(0x2b8)](_0x51bb9f,_0x1a84aa,null);_0x58d300[_0x32f064(0x32a)][_0x32f064(0x224)]=await _0x2935eb;let _0x2d9475={'messageId':_0x56d2b5['key']['id']},_0x14cf5f=_0x58d300[_0x32f064(0x32a)][_0x32f064(0x683)];Object['assign'](_0x14cf5f,_0x2aae56),_0x58d300[_0x32f064(0x32a)][_0x32f064(0x683)]=_0x14cf5f,this[_0x32f064(0x320)](_0x58d300,_0x2f4329,_0x2d9475);}else{let _0xf7afde={'error':!0x0};this[_0x32f064(0x320)](_0x58d300,_0x2f4329,_0xf7afde),this[_0x32f064(0x83b)]['error'](this['instanceName']+'\x20('+this[_0x32f064(0x1c1)]['wuid']+_0x32f064(0x3e9));}}catch(_0x575d34){let _0x4ac314={'error':!0x0,'errorLog':_0x575d34['toString']()};this[_0x32f064(0x320)](_0x58d300,_0x2f4329,_0x4ac314),this[_0x32f064(0x83b)][_0x32f064(0x2c1)](this[_0x32f064(0x181)]+'\x20('+this['instance']['wuid']+_0x32f064(0x77b)+(_0x575d34 instanceof Error?_0x575d34[_0x32f064(0x517)]:JSON[_0x32f064(0x289)](_0x575d34,null,0x2)));}}async[a0_0x4cdcbe(0x282)](_0x868fab,_0x3649f8){const _0x34ec04=a0_0x4cdcbe;let _0x458da1=_0x868fab[_0x34ec04(0x3e5)];_0x3649f8[_0x34ec04(0x82b)][_0x34ec04(0x3e5)]&&_0x3649f8[_0x34ec04(0x82b)][_0x34ec04(0x3e5)]['trim']()!==''&&(_0x458da1=_0x3649f8['uazapi'][_0x34ec04(0x3e5)]['trim']()),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x34ec04(0x1c1)][_0x34ec04(0x2db)]+_0x34ec04(0x223));let _0x14709a={'number':_0x458da1,'options':{'delay':_0x3649f8[_0x34ec04(0x82b)][_0x34ec04(0x25a)]},'contactMessage':[{'fullName':_0x3649f8[_0x34ec04(0x82b)][_0x34ec04(0x699)],'phoneNumber':_0x3649f8[_0x34ec04(0x82b)]['phoneNumber']}]};try{let _0x24b677=await this['contactMessage'](_0x14709a);if(_0x24b677){let _0x13ca2b={'_id':_0x24b677[_0x34ec04(0x786)]['id'],'_fromMe':_0x24b677[_0x34ec04(0x786)][_0x34ec04(0x7ac)],'_remoteJid':_0x24b677['key'][_0x34ec04(0x3e5)]},_0x4b7633=(0x0,w[_0x34ec04(0x724)])(_0x24b677[_0x34ec04(0x517)]),_0x94b6b8=(0x0,w[_0x34ec04(0x59a)])(_0x4b7633);_0x868fab[_0x34ec04(0x32a)][_0x34ec04(0x213)]=_0x3649f8[_0x34ec04(0x42f)][_0x34ec04(0x897)]();let {message_normalized:_0x119652}=this[_0x34ec04(0x2b8)](_0x4b7633,_0x94b6b8,null);_0x868fab['chatLog'][_0x34ec04(0x224)]=await _0x119652;let _0xbf6e9d={'messageId':_0x24b677[_0x34ec04(0x786)]['id']},_0x340860=_0x868fab[_0x34ec04(0x32a)][_0x34ec04(0x683)];Object[_0x34ec04(0x4dc)](_0x340860,_0x13ca2b),_0x868fab[_0x34ec04(0x32a)][_0x34ec04(0x683)]=_0x340860,this[_0x34ec04(0x320)](_0x868fab,_0x3649f8,_0xbf6e9d);}else{let _0x224c42={'error':!0x0};this['updateConversation'](_0x868fab,_0x3649f8,_0x224c42),this[_0x34ec04(0x83b)][_0x34ec04(0x2c1)](this[_0x34ec04(0x181)]+'\x20('+this['instance']['wuid']+_0x34ec04(0x215));}}catch(_0x391fe1){let _0x115656={'error':!0x0,'errorLog':_0x391fe1[_0x34ec04(0x897)]()};this[_0x34ec04(0x320)](_0x868fab,_0x3649f8,_0x115656),this[_0x34ec04(0x83b)]['error'](this[_0x34ec04(0x181)]+'\x20('+this[_0x34ec04(0x1c1)]['wuid']+_0x34ec04(0x57b)+(_0x391fe1 instanceof Error?_0x391fe1[_0x34ec04(0x517)]:JSON[_0x34ec04(0x289)](_0x391fe1,null,0x2)));}}['replaceVariablesInReplyOptions'](_0xf6bdba,_0x11f733){const _0x5bf750=a0_0x4cdcbe;for(let _0x5b03da of _0xf6bdba)_0x5b03da[_0x5bf750(0x43d)]&&(_0x5b03da[_0x5bf750(0x43d)]=this[_0x5bf750(0x7b0)](_0x5b03da[_0x5bf750(0x43d)],_0x11f733)),_0x5b03da[_0x5bf750(0x1db)]&&(_0x5b03da[_0x5bf750(0x1db)]=this[_0x5bf750(0x7b0)](_0x5b03da['optionDescription'],_0x11f733));}async[a0_0x4cdcbe(0x6fb)](_0x592def,_0x49ffdc){const _0x2a6f91=a0_0x4cdcbe;let _0x5013d8=_0x592def['remoteJid'];_0x49ffdc[_0x2a6f91(0x82b)][_0x2a6f91(0x3e5)]&&_0x49ffdc[_0x2a6f91(0x82b)][_0x2a6f91(0x3e5)][_0x2a6f91(0x360)]()!==''&&(_0x5013d8=_0x49ffdc[_0x2a6f91(0x82b)][_0x2a6f91(0x3e5)][_0x2a6f91(0x360)]()),this[_0x2a6f91(0x83b)]['verbose'](this[_0x2a6f91(0x181)]+'\x20('+this[_0x2a6f91(0x1c1)]['wuid']+'):\x20Enviando\x20enquete');let _0x54fd5f=_0x592def[_0x2a6f91(0x704)][_0x2a6f91(0x58d)](_0x49d5d9=>_0x49d5d9[_0x2a6f91(0x534)]===_0x49ffdc['_id'])['sort']((_0x474ac2,_0x59178f)=>_0x474ac2[_0x2a6f91(0x184)]-_0x59178f[_0x2a6f91(0x184)]);this['replaceVariablesInReplyOptions'](_0x54fd5f,_0x592def[_0x2a6f91(0x32a)]['realVariables']);let _0x2654ce=_0x54fd5f[_0x2a6f91(0x79d)](_0x1542b5=>_0x1542b5[_0x2a6f91(0x43d)]),_0x5a9388={'number':_0x5013d8,'menuMessage':{'type':_0x49ffdc[_0x2a6f91(0x82b)][_0x2a6f91(0x650)]||_0x2a6f91(0x512),'text':_0x49ffdc[_0x2a6f91(0x82b)]['text']||_0x49ffdc[_0x2a6f91(0x82b)][_0x2a6f91(0x5cf)],'footerText':_0x49ffdc['uazapi'][_0x2a6f91(0x836)],'buttonText':_0x49ffdc[_0x2a6f91(0x82b)][_0x2a6f91(0x7e0)],'selectableCount':0x1,'choices':_0x2654ce},'options':{'delay':_0x49ffdc[_0x2a6f91(0x82b)][_0x2a6f91(0x25a)]}};try{let _0x1974a0=await this[_0x2a6f91(0x6c7)](_0x5a9388);if(_0x1974a0){let _0x3046f2={'_id':_0x1974a0[_0x2a6f91(0x786)]['id'],'_fromMe':_0x1974a0['key'][_0x2a6f91(0x7ac)],'_remoteJid':_0x1974a0['key']['remoteJid']};_0x49ffdc[_0x2a6f91(0x82b)][_0x2a6f91(0x742)]===!0x0&&(_0x592def[_0x2a6f91(0x4b1)]=_0x2a6f91(0x54f),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2a6f91(0x1c1)][_0x2a6f91(0x2db)]+_0x2a6f91(0x348)+_0x592def[_0x2a6f91(0x4b1)])),this[_0x2a6f91(0x83b)][_0x2a6f91(0x29b)](this['instanceName']+'\x20('+this[_0x2a6f91(0x1c1)][_0x2a6f91(0x2db)]+_0x2a6f91(0x56f)+(_0x49ffdc[_0x2a6f91(0x82b)][_0x2a6f91(0x5cf)]||_0x49ffdc['uazapi'][_0x2a6f91(0x2a8)])),_0x592def[_0x2a6f91(0x834)]=_0x1974a0['key']['id'],_0x592def[_0x2a6f91(0x6e8)]=_0x49ffdc[_0x2a6f91(0x82b)]['name']||_0x49ffdc[_0x2a6f91(0x82b)][_0x2a6f91(0x2a8)],_0x592def[_0x2a6f91(0x5b5)]=_0x54fd5f,_0x49ffdc['uazapi'][_0x2a6f91(0x69d)]&&(_0x592def[_0x2a6f91(0x3f7)]=_0x49ffdc['uazapi']['menuExpiredMessage']),this[_0x2a6f91(0x83b)][_0x2a6f91(0x29b)](this[_0x2a6f91(0x181)]+'\x20('+this['instance'][_0x2a6f91(0x2db)]+_0x2a6f91(0x8a2)+_0x592def[_0x2a6f91(0x6e8)]);let _0x9e5492=(0x0,w[_0x2a6f91(0x724)])(_0x1974a0['message']),_0x3be44a=(0x0,w[_0x2a6f91(0x59a)])(_0x9e5492);_0x592def[_0x2a6f91(0x32a)][_0x2a6f91(0x213)]=_0x49ffdc[_0x2a6f91(0x42f)][_0x2a6f91(0x897)]();let {message_normalized:_0x986552}=this[_0x2a6f91(0x2b8)](_0x9e5492,_0x3be44a,null);_0x592def[_0x2a6f91(0x32a)]['lastSendMessage']=await _0x986552;let _0x39ffab={'messageId':_0x1974a0[_0x2a6f91(0x786)]['id']},_0xb2a0e2=_0x592def['chatLog']['realVariables'];Object['assign'](_0xb2a0e2,_0x3046f2),_0x592def['chatLog']['realVariables']=_0xb2a0e2,this[_0x2a6f91(0x320)](_0x592def,_0x49ffdc,_0x39ffab);}else{let _0x16f57a={'error':!0x0};this[_0x2a6f91(0x320)](_0x592def,_0x49ffdc,_0x16f57a),this['logger']['error'](this[_0x2a6f91(0x181)]+'\x20('+this['instance']['wuid']+_0x2a6f91(0x214));}}catch(_0xde9cd2){let _0x4b5bfc={'error':!0x0,'errorLog':_0xde9cd2 instanceof Error?_0xde9cd2['message']:JSON[_0x2a6f91(0x289)](_0xde9cd2,null,0x2)};this[_0x2a6f91(0x320)](_0x592def,_0x49ffdc,_0x4b5bfc),this[_0x2a6f91(0x83b)]['error'](this[_0x2a6f91(0x181)]+'\x20('+this['instance'][_0x2a6f91(0x2db)]+_0x2a6f91(0x4c6)+(_0xde9cd2 instanceof Error?_0xde9cd2[_0x2a6f91(0x517)]:JSON[_0x2a6f91(0x289)](_0xde9cd2,null,0x2)));}}async[a0_0x4cdcbe(0x3af)](_0x41b0d1,_0x22c489){const _0x3af950=a0_0x4cdcbe;this[_0x3af950(0x83b)]['verbose'](this[_0x3af950(0x181)]+'\x20('+this[_0x3af950(0x1c1)][_0x3af950(0x2db)]+_0x3af950(0x763));let _0x177e3d=_0x41b0d1[_0x3af950(0x32a)]['blockLogs']['find'](_0x189b67=>_0x189b67['blockId'][_0x3af950(0x897)]()===_0x22c489[_0x3af950(0x82b)][_0x3af950(0x534)][_0x3af950(0x897)]()),_0x2e876e={'id':_0x177e3d[_0x3af950(0x5c1)],'remoteJid':_0x177e3d[_0x3af950(0x3e5)],'fromMe':_0x177e3d[_0x3af950(0x7ac)]};try{let _0x261061=await this[_0x3af950(0x7a6)](_0x2e876e);if(_0x261061){let _0x433f1f=(0x0,w[_0x3af950(0x724)])(_0x261061['message']),_0x31a18f=(0x0,w['getContentType'])(_0x433f1f);_0x41b0d1[_0x3af950(0x32a)][_0x3af950(0x213)]=_0x22c489['_id'][_0x3af950(0x897)]();let {message_normalized:_0x2a061a}=this[_0x3af950(0x2b8)](_0x433f1f,_0x31a18f,null);_0x41b0d1['chatLog'][_0x3af950(0x224)]=await _0x2a061a;let _0x35a3e9={};this[_0x3af950(0x320)](_0x41b0d1,_0x22c489,_0x35a3e9);}else{let _0x4d6106={'error':!0x0};this[_0x3af950(0x320)](_0x41b0d1,_0x22c489,_0x4d6106),this['logger'][_0x3af950(0x2c1)](this[_0x3af950(0x181)]+'\x20('+this[_0x3af950(0x1c1)][_0x3af950(0x2db)]+_0x3af950(0x4e0));}}catch(_0x402a36){let _0x2e6918={'error':!0x0,'errorLog':_0x402a36 instanceof Error?_0x402a36['message']:JSON[_0x3af950(0x289)](_0x402a36,null,0x2)};this[_0x3af950(0x320)](_0x41b0d1,_0x22c489,_0x2e6918),this[_0x3af950(0x83b)][_0x3af950(0x2c1)](this['instanceName']+'\x20('+this[_0x3af950(0x1c1)][_0x3af950(0x2db)]+_0x3af950(0x7c6)+(_0x402a36 instanceof Error?_0x402a36[_0x3af950(0x517)]:JSON[_0x3af950(0x289)](_0x402a36,null,0x2)));}}async[a0_0x4cdcbe(0x2c7)](_0x12ca0b,_0x526d3c){const _0x4db86c=a0_0x4cdcbe;if(_0x12ca0b[_0x4db86c(0x5cf)]||(_0x12ca0b[_0x4db86c(0x5cf)]=(0x0,Y['v4'])()),_0x526d3c!==Ai&&_0x12ca0b?.[_0x4db86c(0x329)])throw new m('Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global');if('_id'in _0x12ca0b&&_0x4db86c(0x3c1)in _0x12ca0b)return this['AddUserFlow'](_0x12ca0b[_0x4db86c(0x3c1)],_0x12ca0b[_0x4db86c(0x42f)]);this[_0x4db86c(0x83b)]['verbose'](this[_0x4db86c(0x181)]+'\x20('+this[_0x4db86c(0x1c1)][_0x4db86c(0x2db)]+_0x4db86c(0x2d5));let _0x97da76=this[_0x4db86c(0x6eb)](_0x12ca0b[_0x4db86c(0x5cf)]),_0x27935a=new fe[(_0x4db86c(0x2a7))]['ObjectId'](),_0x54abab={'_id':_0x27935a,'default':!0x0,'title':_0x4db86c(0x20d),'x':0x0,'y':0x0},_0x4d0f04={'_id':new fe[(_0x4db86c(0x2a7))]['ObjectId'](),'order':0x1,'groupId':_0x27935a[_0x4db86c(0x897)](),'type':_0x4db86c(0x7e6)},_0x129a4d=this[_0x4db86c(0x1c1)]['wuid'],_0xdc6549={'_id':(0x0,Y['v4'])(),'owner':_0x129a4d,'name':_0x97da76,'whoCanEdit':[_0x129a4d],'whoCanUse':[_0x129a4d],'groups':[_0x54abab],'blocks':[_0x4d0f04],..._0x12ca0b};try{let _0x2c0505=await this[_0x4db86c(0x671)][_0x4db86c(0x357)]['createAndSave'](_0xdc6549);return await this['synchronizeAndMapFlows'](),_0x2c0505;}catch(_0x2ed683){let _0x2b8890='Erro\x20ao\x20criar\x20fluxo',_0x1d48ea=_0x2ed683 instanceof Error?_0x2ed683[_0x4db86c(0x517)]:typeof _0x2ed683==_0x4db86c(0x4d6)?JSON['stringify'](_0x2ed683):_0x2ed683,_0x3dead5=_0x2b8890+':\x20'+_0x1d48ea;throw this[_0x4db86c(0x83b)][_0x4db86c(0x2c1)](this['instanceName']+'\x20('+this['instance'][_0x4db86c(0x2db)]+_0x4db86c(0x66a)+_0x3dead5),new m(_0x3dead5);}}async[a0_0x4cdcbe(0x8ca)](_0x1b1a3d,_0x595484){const _0x581fe3=a0_0x4cdcbe;try{this[_0x581fe3(0x83b)][_0x581fe3(0x29b)](this['instanceName']+'\x20('+this['instance'][_0x581fe3(0x2db)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x254295=await this[_0x581fe3(0x671)]['flow']['findOne']({'where':{'_id':_0x595484,'owner':_0x1b1a3d}});if(!_0x254295)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x254295[_0x581fe3(0x7cc)]===!0x1&&!_0x254295[_0x581fe3(0x329)])throw new m(_0x581fe3(0x572));let _0x2a4fb9=new Set(_0x254295[_0x581fe3(0x2bc)]??[]);_0x2a4fb9[_0x581fe3(0x52d)](this[_0x581fe3(0x1c1)][_0x581fe3(0x2db)]);let _0x27c886=await this[_0x581fe3(0x671)][_0x581fe3(0x357)][_0x581fe3(0x869)](_0x595484,{..._0x254295,'whoCanUse':Array['from'](_0x2a4fb9)});return await this[_0x581fe3(0x696)](),_0x27c886;}catch(_0x1401f3){let _0x9049e2=_0x581fe3(0x390),_0x47f4f1=_0x1401f3 instanceof Error?_0x1401f3[_0x581fe3(0x517)]:typeof _0x1401f3==_0x581fe3(0x4d6)?JSON[_0x581fe3(0x289)](_0x1401f3):_0x1401f3,_0x30336d=_0x9049e2+':\x20'+_0x47f4f1;throw this[_0x581fe3(0x83b)][_0x581fe3(0x2c1)](this[_0x581fe3(0x181)]+'\x20('+this[_0x581fe3(0x1c1)]['wuid']+_0x581fe3(0x66a)+_0x30336d),new m(_0x30336d);}}[a0_0x4cdcbe(0x6eb)](_0x1f7f4e){const _0x2f2815=a0_0x4cdcbe;let _0x5e420a=_0x1f7f4e,_0x245d96=0x1;for(;this[_0x2f2815(0x598)]['flows'][_0x2f2815(0x5e6)](_0x57bd4e=>_0x57bd4e[_0x2f2815(0x5cf)]===_0x5e420a);)_0x245d96++,_0x5e420a=_0x1f7f4e+'\x20('+_0x245d96+')';return _0x5e420a;}async[a0_0x4cdcbe(0x2de)](_0xdf689a){const _0x522c5f=a0_0x4cdcbe;try{if(this[_0x522c5f(0x83b)][_0x522c5f(0x29b)](this[_0x522c5f(0x181)]+'\x20('+this['instance'][_0x522c5f(0x2db)]+_0x522c5f(0x6d9)+_0xdf689a['_id']+',\x20global:\x20'+_0xdf689a[_0x522c5f(0x67f)]),!this[_0x522c5f(0x598)][_0x522c5f(0x4e3)][_0x522c5f(0x521)](_0x588040=>_0x588040[_0x522c5f(0x42f)]===_0xdf689a[_0x522c5f(0x42f)]))throw this[_0x522c5f(0x83b)][_0x522c5f(0x29b)](this[_0x522c5f(0x181)]+'\x20('+this['instance']['wuid']+_0x522c5f(0x5ca)+_0xdf689a[_0x522c5f(0x42f)]+_0x522c5f(0x7c2)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x35a442=await this['repository'][_0x522c5f(0x357)][_0x522c5f(0x324)]({'where':{'_id':_0xdf689a[_0x522c5f(0x42f)]}});if(!_0x35a442)throw new m(_0x522c5f(0x893));if(this[_0x522c5f(0x1c1)][_0x522c5f(0x2db)]===_0x35a442['owner']){this[_0x522c5f(0x83b)][_0x522c5f(0x29b)](this[_0x522c5f(0x181)]+'\x20('+this[_0x522c5f(0x1c1)][_0x522c5f(0x2db)]+_0x522c5f(0x84f)+_0xdf689a[_0x522c5f(0x42f)]+_0x522c5f(0x38c));let _0x32cd0a=await this[_0x522c5f(0x671)][_0x522c5f(0x357)][_0x522c5f(0x4f7)]({'where':{'_id':_0xdf689a[_0x522c5f(0x42f)]}});return await this[_0x522c5f(0x696)](),_0x32cd0a;}return this[_0x522c5f(0x83b)][_0x522c5f(0x29b)](this['instanceName']+'\x20('+this[_0x522c5f(0x1c1)]['wuid']+_0x522c5f(0x7f2)+this['instance'][_0x522c5f(0x2db)]+_0x522c5f(0x3a9)+_0xdf689a['_id']+'\x27...'),_0x35a442['whoCanUse']=(_0x35a442[_0x522c5f(0x2bc)]??[])[_0x522c5f(0x58d)](_0x1bad00=>_0x1bad00!==this[_0x522c5f(0x1c1)][_0x522c5f(0x2db)]),_0x35a442[_0x522c5f(0x3f5)]=(_0x35a442[_0x522c5f(0x3f5)]??[])[_0x522c5f(0x58d)](_0x4417f9=>_0x4417f9!==this['instance']['wuid']),_0x35a442[_0x522c5f(0x3f5)][_0x522c5f(0x59d)]===0x0&&_0x35a442[_0x522c5f(0x2bc)][_0x522c5f(0x59d)]>0x0&&(_0x35a442[_0x522c5f(0x3f5)]['push'](_0x35a442[_0x522c5f(0x2bc)][0x0]),this[_0x522c5f(0x83b)][_0x522c5f(0x29b)](this[_0x522c5f(0x181)]+'\x20('+this['instance'][_0x522c5f(0x2db)]+_0x522c5f(0x7e8)+_0x35a442[_0x522c5f(0x2bc)][0x0]+_0x522c5f(0x350)+_0xdf689a['_id']+_0x522c5f(0x3e0))),await this[_0x522c5f(0x671)][_0x522c5f(0x357)][_0x522c5f(0x869)](_0x35a442[_0x522c5f(0x42f)],_0x35a442),await this[_0x522c5f(0x696)](),{'message':_0x522c5f(0x372)+_0xdf689a[_0x522c5f(0x5cf)]+_0x522c5f(0x265)};}catch(_0x50ed8d){return this[_0x522c5f(0x83b)][_0x522c5f(0x2c1)](this['instanceName']+'\x20('+this[_0x522c5f(0x1c1)][_0x522c5f(0x2db)]+_0x522c5f(0x422)+(_0x50ed8d instanceof Error?_0x50ed8d['message']:JSON[_0x522c5f(0x289)](_0x50ed8d,null,0x2))),{'message':_0x522c5f(0x7fd)+(_0x50ed8d instanceof Error?_0x50ed8d[_0x522c5f(0x517)]:JSON[_0x522c5f(0x289)](_0x50ed8d,null,0x2))};}}async['getFlow'](_0x1c4d32){const _0xc43a04=a0_0x4cdcbe;try{if(this[_0xc43a04(0x83b)][_0xc43a04(0x71f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xc43a04(0x885)+_0x1c4d32),!this[_0xc43a04(0x598)]&&(await this['getAutomateSystem'](),!this[_0xc43a04(0x598)]))return null;let _0x269771=await this[_0xc43a04(0x671)][_0xc43a04(0x357)][_0xc43a04(0x324)]({'where':{'_id':_0x1c4d32}});if(!_0x269771)throw new m(_0xc43a04(0x195)+_0x1c4d32+_0xc43a04(0x26c));if(!(_0x269771[_0xc43a04(0x329)]||_0x269771['whoCanUse']?.['includes'](this['instance'][_0xc43a04(0x2db)])))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27'+name+'\x27');_0x269771[_0xc43a04(0x329)]&&!_0x269771[_0xc43a04(0x2bc)]?.[_0xc43a04(0x192)](this['instance']['wuid'])&&(_0x269771[_0xc43a04(0x2bc)]=[..._0x269771[_0xc43a04(0x2bc)]??[],this[_0xc43a04(0x1c1)]['wuid']],await this[_0xc43a04(0x671)][_0xc43a04(0x357)]['updateOne'](_0x269771[_0xc43a04(0x42f)],_0x269771),this[_0xc43a04(0x696)]());let _0x3b105e=this['AutomateSystem']?.[_0xc43a04(0x82a)][_0xc43a04(0x79d)](_0x4e3d5e=>_0x4e3d5e[_0xc43a04(0x5cf)]),_0x39c21f=[_0xc43a04(0x502),_0xc43a04(0x5ec),_0xc43a04(0x554),_0xc43a04(0x812),'status','notas','responsavelid',_0xc43a04(0x86a),_0xc43a04(0x88d),_0xc43a04(0x555),_0xc43a04(0x574)];_0x269771['variables']=_0x269771[_0xc43a04(0x6bb)][_0xc43a04(0x58d)](_0x126e7f=>!(_0x126e7f['folder']===_0xc43a04(0x236)||_0x126e7f[_0xc43a04(0x236)])),_0x39c21f[_0xc43a04(0x1d7)](_0x38b215=>{const _0x49058e=_0xc43a04;_0x269771[_0x49058e(0x6bb)][_0x49058e(0x7e2)]({'folder':_0x49058e(0x236),'name':_0x38b215,'value':'','doc':'','leadInfo':!0x0});}),_0x3b105e[_0xc43a04(0x1d7)](_0x4ddc32=>{const _0x190f63=_0xc43a04;let _0x5920d2=_0x269771[_0x190f63(0x6bb)][_0x190f63(0x819)](_0x8e6c6a=>_0x8e6c6a[_0x190f63(0x5cf)]===_0x4ddc32);_0x5920d2===-0x1?_0x269771['variables']['push']({'folder':_0x190f63(0x236),'name':_0x4ddc32,'value':'','doc':'','leadInfo':!0x0}):(_0x269771[_0x190f63(0x6bb)][_0x5920d2][_0x190f63(0x55e)]=_0x190f63(0x236),_0x269771['variables'][_0x5920d2][_0x190f63(0x236)]=!0x0);}),_0x269771['blocks']&&_0x269771[_0xc43a04(0x39f)][_0xc43a04(0x59d)]>0x0&&_0x269771['blocks'][_0xc43a04(0x1d7)](_0x32df94=>{const _0x99cff1=_0xc43a04;_0x32df94['groupId']&&_0x32df94[_0x99cff1(0x86b)]&&_0x32df94[_0x99cff1(0x419)]===_0x32df94[_0x99cff1(0x86b)]&&(_0x32df94[_0x99cff1(0x86b)]=null);});let _0x3b5835=await this[_0xc43a04(0x671)][_0xc43a04(0x357)][_0xc43a04(0x869)](_0x269771[_0xc43a04(0x42f)],_0x269771);if(!_0x3b5835)throw new Error(_0xc43a04(0x5de));return _0x3b5835;}catch(_0x543f01){let _0x4bb274=_0xc43a04(0x685),_0x14aefb=_0x543f01 instanceof Error?_0x543f01[_0xc43a04(0x517)]:typeof _0x543f01==_0xc43a04(0x4d6)?JSON['stringify'](_0x543f01):_0x543f01,_0x49e9fe=_0x4bb274+':\x20'+_0x14aefb;throw this[_0xc43a04(0x83b)][_0xc43a04(0x2c1)](this[_0xc43a04(0x181)]+'\x20('+this[_0xc43a04(0x1c1)][_0xc43a04(0x2db)]+_0xc43a04(0x66a)+_0x49e9fe),new m(_0x49e9fe);}}async[a0_0x4cdcbe(0x23b)](){const _0x212dbc=a0_0x4cdcbe;try{this[_0x212dbc(0x83b)][_0x212dbc(0x29b)](this[_0x212dbc(0x181)]+'\x20('+this[_0x212dbc(0x1c1)][_0x212dbc(0x2db)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x212dbc(0x696)]();let _0xa7655d=await this[_0x212dbc(0x671)][_0x212dbc(0x357)][_0x212dbc(0x5ff)]({'where':{'globalShow':!0x0}});return[...this[_0x212dbc(0x598)][_0x212dbc(0x4e3)],..._0xa7655d];}catch(_0x37103c){return this['logger'][_0x212dbc(0x2c1)](this['instanceName']+'\x20('+this[_0x212dbc(0x1c1)][_0x212dbc(0x2db)]+_0x212dbc(0x744)+(_0x37103c instanceof Error?_0x37103c[_0x212dbc(0x517)]:JSON[_0x212dbc(0x289)](_0x37103c,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x37103c instanceof Error?_0x37103c['message']:String(_0x37103c))};}}async[a0_0x4cdcbe(0x253)](_0x1878c5,_0xeb83d3){const _0x20f329=a0_0x4cdcbe;try{this[_0x20f329(0x83b)][_0x20f329(0x29b)](this[_0x20f329(0x181)]+'\x20('+this[_0x20f329(0x1c1)][_0x20f329(0x2db)]+_0x20f329(0x24e));let _0x4da4d6=this[_0x20f329(0x598)]['flows'][_0x20f329(0x521)](_0x9a6be3=>_0x9a6be3[_0x20f329(0x42f)]===_0x1878c5[_0x20f329(0x42f)]);if(!_0x4da4d6)throw this[_0x20f329(0x83b)][_0x20f329(0x29b)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x20f329(0x5ca)+_0x1878c5[_0x20f329(0x42f)]+'\x27\x20não\x20encontrado'),new m(_0x20f329(0x5a8));let _0x10fd1f=await this[_0x20f329(0x671)]['flow'][_0x20f329(0x324)]({'where':{'_id':_0x1878c5[_0x20f329(0x42f)]}});if(!_0x10fd1f||!_0x10fd1f['whoCanUse']?.[_0x20f329(0x192)](this[_0x20f329(0x1c1)][_0x20f329(0x2db)]))throw this['logger'][_0x20f329(0x2c1)](this['instanceName']+'\x20('+this['instance'][_0x20f329(0x2db)]+_0x20f329(0x800)+_0x1878c5[_0x20f329(0x42f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x20f329(0x528)+_0x1878c5['_id']+_0x20f329(0x1b5));let _0x5544dc=this[_0x20f329(0x598)][_0x20f329(0x4e3)][_0x20f329(0x819)](_0x308a10=>_0x308a10[_0x20f329(0x42f)]===_0x4da4d6[_0x20f329(0x42f)]);if(_0x5544dc!==-0x1){let _0x5ef6be=this[_0x20f329(0x598)][_0x20f329(0x4e3)][_0x5544dc];if(_0x5ef6be[_0x20f329(0x5cf)]=_0x1878c5[_0x20f329(0x5cf)]??_0x5ef6be[_0x20f329(0x5cf)],_0x5ef6be[_0x20f329(0x669)]=_0x1878c5[_0x20f329(0x669)]??_0x5ef6be[_0x20f329(0x669)],_0x5ef6be['testingWith']=_0x1878c5[_0x20f329(0x503)]??_0x5ef6be[_0x20f329(0x503)],_0x5ef6be['startCommand']=_0x1878c5[_0x20f329(0x4c9)]??_0x5ef6be['startCommand'],_0x5ef6be[_0x20f329(0x4d0)]=_0x1878c5[_0x20f329(0x4d0)]??_0x5ef6be[_0x20f329(0x4d0)],_0x5ef6be[_0x20f329(0x851)]=_0x1878c5[_0x20f329(0x851)]??_0x5ef6be[_0x20f329(0x851)],_0x1878c5['default']&&this[_0x20f329(0x598)][_0x20f329(0x4e3)][_0x20f329(0x1d7)]((_0x58bc2f,_0xf631a2)=>{const _0x492e55=_0x20f329;_0xf631a2!==_0x5544dc&&(_0x58bc2f[_0x492e55(0x669)]=!0x1);}),this[_0x20f329(0x598)][_0x20f329(0x4e3)][_0x5544dc]=_0x5ef6be,!await this[_0x20f329(0x671)][_0x20f329(0x670)][_0x20f329(0x17d)]({'flows':this[_0x20f329(0x598)][_0x20f329(0x4e3)]},this[_0x20f329(0x1c1)]['wuid']))throw new m('Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.');}let _0x3548df=['global','startID',_0x20f329(0x793),'shareOwners'];for(let _0x74093 of _0x3548df)delete _0x1878c5[_0x74093];if(_0x10fd1f[_0x20f329(0x3f5)]?.[_0x20f329(0x192)](this[_0x20f329(0x1c1)]['wuid'])||(_0x1878c5={'_id':_0x1878c5[_0x20f329(0x42f)]}),_0xeb83d3!==Ai&&_0x1878c5?.['globalShow']&&!_0x10fd1f?.[_0x20f329(0x329)])throw new m(_0x20f329(0x4e2));let _0x3c39ed=new Set(_0x1878c5[_0x20f329(0x3f5)]??_0x10fd1f[_0x20f329(0x3f5)]);_0x3c39ed[_0x20f329(0x52d)](_0x10fd1f[_0x20f329(0x3c1)]);let _0x5df494=new Set(_0x1878c5[_0x20f329(0x2bc)]??_0x10fd1f[_0x20f329(0x2bc)]??[]);_0x3c39ed[_0x20f329(0x1d7)](_0xc4d225=>_0x5df494['add'](_0xc4d225)),_0x5df494[_0x20f329(0x52d)](_0x10fd1f[_0x20f329(0x3c1)]),this[_0x20f329(0x83b)][_0x20f329(0x29b)](this[_0x20f329(0x181)]+'\x20('+this[_0x20f329(0x1c1)][_0x20f329(0x2db)]+_0x20f329(0x451)+Array[_0x20f329(0x1d1)](_0x3c39ed)),this[_0x20f329(0x83b)][_0x20f329(0x29b)](this[_0x20f329(0x181)]+'\x20('+this[_0x20f329(0x1c1)][_0x20f329(0x2db)]+_0x20f329(0x3a6)+Array[_0x20f329(0x1d1)](_0x5df494));let _0x2692cb=await this[_0x20f329(0x3be)](Array[_0x20f329(0x1d1)](_0x5df494)),_0x515e3f=Array[_0x20f329(0x1d1)](_0x3c39ed)[_0x20f329(0x58d)](_0x533c72=>_0x2692cb[_0x20f329(0x192)](_0x533c72)),_0xcfcbfb=Array[_0x20f329(0x1d1)](_0x5df494)[_0x20f329(0x58d)](_0x576ae4=>_0x2692cb[_0x20f329(0x192)](_0x576ae4));this[_0x20f329(0x83b)]['verbose'](this['instanceName']+'\x20('+this[_0x20f329(0x1c1)][_0x20f329(0x2db)]+_0x20f329(0x32e)+_0x515e3f),this[_0x20f329(0x83b)][_0x20f329(0x29b)](this[_0x20f329(0x181)]+'\x20('+this[_0x20f329(0x1c1)]['wuid']+_0x20f329(0x533)+_0xcfcbfb);let _0x5bdca1={..._0x10fd1f,..._0x1878c5,'whoCanEdit':_0x515e3f,'whoCanUse':_0xcfcbfb},_0x524045=await this[_0x20f329(0x671)][_0x20f329(0x357)]['updateOne'](_0x10fd1f[_0x20f329(0x42f)],_0x5bdca1);return await this[_0x20f329(0x696)](),_0x524045;}catch(_0x4d9fe6){let _0x41430d='Erro\x20ao\x20alterar\x20fluxo',_0x39c04c=_0x4d9fe6 instanceof Error?_0x4d9fe6[_0x20f329(0x517)]:typeof _0x4d9fe6==_0x20f329(0x4d6)?JSON[_0x20f329(0x289)](_0x4d9fe6):_0x4d9fe6,_0x3adb2d=_0x41430d+':\x20'+_0x39c04c;throw this[_0x20f329(0x83b)][_0x20f329(0x2c1)](this[_0x20f329(0x181)]+'\x20('+this['instance']['wuid']+_0x20f329(0x66a)+_0x3adb2d),new m(_0x3adb2d);}}async[a0_0x4cdcbe(0x3be)](_0x481b72){const _0xe85840=a0_0x4cdcbe;let _0x5ddeff={'numbers':_0x481b72};return(await this[_0xe85840(0x8d4)](_0x5ddeff))[_0xe85840(0x58d)](_0x4bd9d8=>_0x4bd9d8[_0xe85840(0x4e1)])[_0xe85840(0x79d)](_0x594db5=>_0x594db5['jid'])[_0xe85840(0x79d)](_0x6ffcf7=>this[_0xe85840(0x63f)](_0x6ffcf7));}[a0_0x4cdcbe(0x63f)](_0x54f4e7){let _0x273743=_0x54f4e7['match'](/\d+/);return _0x273743?_0x273743[0x0]:'';}async[a0_0x4cdcbe(0x6bf)](_0x1ea4fd){const _0x1e9e7c=a0_0x4cdcbe;try{if(this[_0x1e9e7c(0x83b)][_0x1e9e7c(0x29b)](this['instanceName']+'\x20('+this[_0x1e9e7c(0x1c1)]['wuid']+'):\x20Editando\x20bloco...'),!this[_0x1e9e7c(0x598)][_0x1e9e7c(0x4e3)]['find'](_0x3b3ad0=>_0x3b3ad0[_0x1e9e7c(0x42f)]===_0x1ea4fd[_0x1e9e7c(0x42f)]))throw this[_0x1e9e7c(0x83b)][_0x1e9e7c(0x29b)](this[_0x1e9e7c(0x181)]+'\x20('+this[_0x1e9e7c(0x1c1)]['wuid']+_0x1e9e7c(0x5ca)+_0x1ea4fd[_0x1e9e7c(0x42f)]+'\x27\x20não\x20encontrado'),new m(_0x1e9e7c(0x5a8));let _0x259243=await this[_0x1e9e7c(0x671)][_0x1e9e7c(0x357)]['findOne']({'where':{'_id':_0x1ea4fd[_0x1e9e7c(0x42f)]}});if(!_0x259243||!_0x259243[_0x1e9e7c(0x2bc)]?.[_0x1e9e7c(0x192)](this[_0x1e9e7c(0x1c1)][_0x1e9e7c(0x2db)]))throw this['logger'][_0x1e9e7c(0x2c1)](this[_0x1e9e7c(0x181)]+'\x20('+this[_0x1e9e7c(0x1c1)]['wuid']+'):\x20Flow\x20\x27'+_0x1ea4fd[_0x1e9e7c(0x42f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x1e9e7c(0x528)+_0x1ea4fd['_id']+_0x1e9e7c(0x1b5));if(!_0x259243[_0x1e9e7c(0x3f5)]?.[_0x1e9e7c(0x192)](this[_0x1e9e7c(0x1c1)]['wuid']))throw new m(_0x1e9e7c(0x2ba));let {block:_0x4cf3c6}=_0x1ea4fd;_0x4cf3c6?.[_0x1e9e7c(0x762)]?this[_0x1e9e7c(0x2ae)](_0x259243,_0x1ea4fd):_0x4cf3c6?.[_0x1e9e7c(0x5f7)]?this[_0x1e9e7c(0x34f)](_0x259243,_0x1ea4fd):_0x4cf3c6[_0x1e9e7c(0x42f)]?await this[_0x1e9e7c(0x4d4)](_0x259243,_0x1ea4fd):this[_0x1e9e7c(0x3b6)](_0x259243,_0x1ea4fd);let _0x971f8a=await this[_0x1e9e7c(0x671)][_0x1e9e7c(0x357)][_0x1e9e7c(0x869)](_0x259243['_id'],_0x259243);if(!_0x971f8a)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x971f8a;}catch(_0x1b9d60){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x1b9d60['message']);}}async[a0_0x4cdcbe(0x2ae)](_0x326adf,_0x3dec51){const _0x429a9c=a0_0x4cdcbe;let _0x1353fa=_0x3dec51[_0x429a9c(0x331)][_0x429a9c(0x42f)],_0x57be59=_0x326adf['blocks'][_0x429a9c(0x521)](_0x3055a2=>_0x3055a2[_0x429a9c(0x42f)][_0x429a9c(0x897)]()===_0x1353fa);if(!_0x57be59){this[_0x429a9c(0x83b)][_0x429a9c(0x2c1)](this[_0x429a9c(0x181)]+'\x20('+this[_0x429a9c(0x1c1)][_0x429a9c(0x2db)]+_0x429a9c(0x626)+_0x1353fa+_0x429a9c(0x621));return;}this[_0x429a9c(0x83b)]['verbose'](this[_0x429a9c(0x181)]+'\x20('+this['instance'][_0x429a9c(0x2db)]+_0x429a9c(0x6e6)+JSON[_0x429a9c(0x289)](_0x57be59));let _0x455a74=JSON[_0x429a9c(0x1c7)](JSON[_0x429a9c(0x289)](_0x57be59));_0x455a74[_0x429a9c(0x42f)]=new fe['default']['Types'][(_0x429a9c(0x407))](),this['logger'][_0x429a9c(0x29b)](this['instanceName']+'\x20('+this['instance'][_0x429a9c(0x2db)]+_0x429a9c(0x24c)+JSON[_0x429a9c(0x289)](_0x455a74)),_0x326adf[_0x429a9c(0x39f)][_0x429a9c(0x7e2)](_0x455a74),this['reorderBlocks'](_0x326adf[_0x429a9c(0x39f)],_0x455a74['groupId']);}[a0_0x4cdcbe(0x523)](_0x16f2f8){const _0x19bc56=a0_0x4cdcbe;throw this[_0x19bc56(0x83b)]['error'](this[_0x19bc56(0x181)]+'\x20('+this['instance'][_0x19bc56(0x2db)]+_0x19bc56(0x66a)+_0x16f2f8),new m(_0x16f2f8);}[a0_0x4cdcbe(0x34f)](_0x1fdab3,_0x283006){const _0x19c983=a0_0x4cdcbe;let {block:_0x1164a9}=_0x283006;if(_0x1164a9[_0x19c983(0x551)]===_0x19c983(0x7e6)){this['throwAndLogError']('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x1164a9[_0x19c983(0x42f)]){this[_0x19c983(0x523)](_0x19c983(0x847));return;}let _0x28f793=_0x1fdab3['blocks']['find'](_0x4f3fd0=>_0x4f3fd0[_0x19c983(0x42f)][_0x19c983(0x897)]()===_0x283006['block']['_id'][_0x19c983(0x897)]());if(!_0x28f793){this[_0x19c983(0x523)](_0x19c983(0x193)+_0x1164a9[_0x19c983(0x42f)]+'\x20não\x20encontrado');return;}_0x1fdab3[_0x19c983(0x39f)]=_0x1fdab3[_0x19c983(0x39f)][_0x19c983(0x58d)](_0x4be470=>_0x4be470[_0x19c983(0x42f)][_0x19c983(0x897)]()!==_0x283006[_0x19c983(0x331)][_0x19c983(0x42f)]['toString']()),_0x1fdab3['conditions']=_0x1fdab3['conditions'][_0x19c983(0x58d)](_0x593ece=>_0x593ece['blockId']!==_0x1164a9[_0x19c983(0x42f)][_0x19c983(0x897)]()),_0x1fdab3[_0x19c983(0x526)]=_0x1fdab3[_0x19c983(0x526)][_0x19c983(0x58d)](_0xd75d68=>_0xd75d68[_0x19c983(0x534)]!==_0x1164a9[_0x19c983(0x42f)]['toString']()),_0x1fdab3[_0x19c983(0x704)]=_0x1fdab3['replyOptions']['filter'](_0x19c1c1=>_0x19c1c1[_0x19c983(0x534)]!==_0x1164a9[_0x19c983(0x42f)]['toString']()),this['reorderBlocks'](_0x1fdab3[_0x19c983(0x39f)],_0x28f793[_0x19c983(0x419)]);}async[a0_0x4cdcbe(0x4d4)](_0xe8d3a0,_0x3293ce){const _0x9985fb=a0_0x4cdcbe;let _0xf3771d=_0xe8d3a0[_0x9985fb(0x39f)]['findIndex'](_0x561713=>_0x561713['_id'][_0x9985fb(0x897)]()===_0x3293ce['block'][_0x9985fb(0x42f)][_0x9985fb(0x897)]());if(this[_0x9985fb(0x83b)][_0x9985fb(0x29b)](this[_0x9985fb(0x181)]+'\x20('+this[_0x9985fb(0x1c1)][_0x9985fb(0x2db)]+_0x9985fb(0x65e)+_0xf3771d),_0xf3771d===-0x1){this[_0x9985fb(0x83b)][_0x9985fb(0x29b)](_0x9985fb(0x193)+_0x3293ce[_0x9985fb(0x331)][_0x9985fb(0x42f)]+_0x9985fb(0x889));return;}if(_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d]['type']===_0x9985fb(0x7e6)){let _0x5dbda4=Object[_0x9985fb(0x684)](_0x3293ce[_0x9985fb(0x331)]);if(_0x5dbda4[_0x9985fb(0x59d)]>0x2||_0x5dbda4[_0x9985fb(0x59d)]===0x2&&!_0x5dbda4['includes'](_0x9985fb(0x86b))){this[_0x9985fb(0x523)](_0x9985fb(0x6b9));return;}}let _0x32efda=_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x9985fb(0x419)];for(let _0x246632 in _0x3293ce[_0x9985fb(0x331)])_0x3293ce[_0x9985fb(0x331)]['hasOwnProperty'](_0x246632)&&(_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x246632]=_0x3293ce[_0x9985fb(0x331)][_0x246632]);if(this['logger']['verbose'](this[_0x9985fb(0x181)]+'\x20('+this['instance'][_0x9985fb(0x2db)]+_0x9985fb(0x34b)+JSON[_0x9985fb(0x289)](_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d])),_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x9985fb(0x7ba)]&&_0x9985fb(0x54c)in _0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x9985fb(0x7ba)]){this['logger']['verbose'](this[_0x9985fb(0x181)]+'\x20('+this[_0x9985fb(0x1c1)]['wuid']+_0x9985fb(0x328));let _0x28f1f3=JSON['stringify'](_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x9985fb(0x7ba)]['header'],null,0x1);_0x28f1f3[_0x9985fb(0x59d)]>0x2&&(_0x28f1f3=_0x28f1f3[_0x9985fb(0x66d)](0x1,_0x28f1f3['length']-0x1)[_0x9985fb(0x360)]()),_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d]['apirequest'][_0x9985fb(0x666)]=_0x28f1f3;}if(_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x9985fb(0x7ba)]&&_0x9985fb(0x52a)in _0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x9985fb(0x7ba)]&&!(_0x9985fb(0x7c5)in _0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x9985fb(0x7ba)])){this[_0x9985fb(0x83b)]['verbose'](this[_0x9985fb(0x181)]+'\x20('+this[_0x9985fb(0x1c1)][_0x9985fb(0x2db)]+_0x9985fb(0x76a)),_0xe8d3a0['blocks'][_0xf3771d][_0x9985fb(0x7ba)][_0x9985fb(0x799)]=!0x1;let _0x593e09=JSON[_0x9985fb(0x289)](_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x9985fb(0x7ba)]['body'],null,0x2);_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x9985fb(0x7ba)][_0x9985fb(0x7c5)]=_0x593e09;}if(_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d]['apirequest']&&_0x9985fb(0x7c5)in _0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d]['apirequest']){_0xe8d3a0['blocks'][_0xf3771d][_0x9985fb(0x7ba)][_0x9985fb(0x799)]=!0x1;let _0x1fe87f=_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x9985fb(0x7ba)][_0x9985fb(0x7c5)],_0x4e7081=this[_0x9985fb(0x78e)](_0x1fe87f);_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x9985fb(0x7ba)][_0x9985fb(0x7c5)]=_0x4e7081[_0x9985fb(0x349)],_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x9985fb(0x7ba)][_0x9985fb(0x799)]=_0x4e7081[_0x9985fb(0x2c1)];}let _0x1e4197=_0xe8d3a0[_0x9985fb(0x39f)][_0xf3771d][_0x9985fb(0x419)];_0x32efda!==_0x1e4197?(this[_0x9985fb(0x633)](_0xe8d3a0[_0x9985fb(0x39f)],_0x32efda),this['reorderBlocks'](_0xe8d3a0[_0x9985fb(0x39f)],_0x1e4197)):this['reorderBlocks'](_0xe8d3a0['blocks'],_0x32efda);}[a0_0x4cdcbe(0x78e)](_0x4a8e38){const _0x462ecb=a0_0x4cdcbe;let _0x211234='\u205f',_0x220b2f=!0x1,_0x21aa87='';for(let _0x578be6=0x0;_0x578be6<_0x4a8e38[_0x462ecb(0x59d)];_0x578be6++){let _0x3579a9=_0x4a8e38[_0x578be6];_0x3579a9==='\x22'&&(_0x578be6===0x0||_0x4a8e38[_0x578be6-0x1]!=='\x5c')&&(_0x220b2f=!_0x220b2f),!(!_0x220b2f&&(_0x3579a9==='\x0a'||_0x3579a9==='\x20'||_0x3579a9===_0x211234))&&(_0x21aa87+=_0x3579a9);}let _0x38ea99={},_0x79f9b=9876543210.1234,_0x499db5=_0x21aa87[_0x462ecb(0x1a6)](/\{\{([^}]+)\}\}/g,_0x525a08=>{let _0x51d983=_0x525a08,_0x2c9c4f=''+_0x79f9b;return _0x38ea99[_0x2c9c4f]=_0x51d983,_0x79f9b+=0.0001,_0x2c9c4f;}),_0x201e13='',_0x1d2469=!0x1;try{let _0x5d675e=JSON[_0x462ecb(0x1c7)](_0x499db5);_0x201e13=JSON[_0x462ecb(0x289)](_0x5d675e,null,0x2),_0x201e13=_0x201e13[_0x462ecb(0x1a6)](/\n( +)/g,(_0x5d9991,_0x4d20dd)=>{const _0x5b5013=_0x462ecb;let _0x2933dd=_0x4d20dd[_0x5b5013(0x59d)];return'\x0a'+_0x211234['repeat'](_0x2933dd*0x2);}),_0x201e13=_0x201e13[_0x462ecb(0x1a6)](/(\d{10,}\.\d+)/g,_0x59c3d1=>_0x38ea99[_0x59c3d1]||_0x59c3d1);}catch(_0x55d897){this[_0x462ecb(0x83b)][_0x462ecb(0x2c1)]('Error\x20parsing\x20JSON:'+_0x55d897),_0x201e13=_0x4a8e38,_0x1d2469=!0x0;}return{'result':_0x201e13,'error':_0x1d2469};}[a0_0x4cdcbe(0x3b6)](_0x308976,_0xb1d9d4){const _0x404c82=a0_0x4cdcbe;if(_0xb1d9d4[_0x404c82(0x331)]['type']===_0x404c82(0x7e6)){this[_0x404c82(0x523)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0xb1d9d4[_0x404c82(0x331)][_0x404c82(0x7ba)]&&_0x404c82(0x54c)in _0xb1d9d4[_0x404c82(0x331)][_0x404c82(0x7ba)]){this[_0x404c82(0x83b)][_0x404c82(0x29b)](this[_0x404c82(0x181)]+'\x20('+this[_0x404c82(0x1c1)][_0x404c82(0x2db)]+_0x404c82(0x328));let _0x509916=JSON[_0x404c82(0x289)](_0xb1d9d4['block'][_0x404c82(0x7ba)]['header'],null,0x1);_0x509916[_0x404c82(0x59d)]>0x2&&(_0x509916=_0x509916[_0x404c82(0x66d)](0x1,_0x509916[_0x404c82(0x59d)]-0x1)['trim']()),_0xb1d9d4['block']['apirequest'][_0x404c82(0x666)]=_0x509916;}_0xb1d9d4[_0x404c82(0x331)][_0x404c82(0x7ba)]&&_0x404c82(0x52a)in _0xb1d9d4['block']['apirequest']&&(this['logger'][_0x404c82(0x29b)](this[_0x404c82(0x181)]+'\x20('+this['instance'][_0x404c82(0x2db)]+_0x404c82(0x76a)),_0xb1d9d4[_0x404c82(0x331)]['apirequest'][_0x404c82(0x7c5)]=JSON[_0x404c82(0x289)](_0xb1d9d4['block'][_0x404c82(0x7ba)][_0x404c82(0x52a)],null,0x1)[_0x404c82(0x360)]()),_0x308976[_0x404c82(0x39f)][_0x404c82(0x7e2)](_0xb1d9d4[_0x404c82(0x331)]),this[_0x404c82(0x633)](_0x308976[_0x404c82(0x39f)],_0xb1d9d4[_0x404c82(0x331)][_0x404c82(0x419)]);}[a0_0x4cdcbe(0x633)](_0x5c5ec7,_0x371173){const _0x4eb20a=a0_0x4cdcbe;let _0x4022e1=_0x5c5ec7[_0x4eb20a(0x58d)](_0x1c12bf=>_0x1c12bf[_0x4eb20a(0x419)]===_0x371173);_0x4022e1[_0x4eb20a(0x535)]((_0xec537b,_0x205c44)=>_0xec537b[_0x4eb20a(0x184)]-_0x205c44[_0x4eb20a(0x184)]),_0x4022e1[_0x4eb20a(0x1d7)]((_0x2a6beb,_0x25b9de)=>_0x2a6beb[_0x4eb20a(0x184)]=_0x25b9de+0x1);}async['editFlowReply'](_0x34bb3c){const _0x9c23c2=a0_0x4cdcbe;try{if(this[_0x9c23c2(0x83b)][_0x9c23c2(0x29b)](this['instanceName']+'\x20('+this[_0x9c23c2(0x1c1)][_0x9c23c2(0x2db)]+_0x9c23c2(0x2f8)),!_0x34bb3c||!_0x34bb3c[_0x9c23c2(0x3ff)]){this['throwAndLogError'](_0x9c23c2(0x3c2));return;}if(!this[_0x9c23c2(0x598)][_0x9c23c2(0x4e3)][_0x9c23c2(0x521)](_0x181849=>_0x181849[_0x9c23c2(0x42f)]===_0x34bb3c['_id']))throw this[_0x9c23c2(0x83b)][_0x9c23c2(0x29b)](this[_0x9c23c2(0x181)]+'\x20('+this['instance'][_0x9c23c2(0x2db)]+_0x9c23c2(0x5ca)+_0x34bb3c[_0x9c23c2(0x42f)]+_0x9c23c2(0x7c2)),new m(_0x9c23c2(0x5a8));let _0x36a09b=await this['repository']['flow'][_0x9c23c2(0x324)]({'where':{'_id':_0x34bb3c[_0x9c23c2(0x42f)]}});if(!_0x36a09b||!_0x36a09b[_0x9c23c2(0x2bc)]?.[_0x9c23c2(0x192)](this[_0x9c23c2(0x1c1)][_0x9c23c2(0x2db)]))throw this[_0x9c23c2(0x83b)][_0x9c23c2(0x2c1)](this[_0x9c23c2(0x181)]+'\x20('+this['instance'][_0x9c23c2(0x2db)]+'):\x20Flow\x20\x27'+_0x34bb3c['_id']+_0x9c23c2(0x1b5)),new m(_0x9c23c2(0x528)+_0x34bb3c[_0x9c23c2(0x42f)]+_0x9c23c2(0x1b5));if(!_0x36a09b[_0x9c23c2(0x3f5)]?.[_0x9c23c2(0x192)](this[_0x9c23c2(0x1c1)][_0x9c23c2(0x2db)]))throw new m(_0x9c23c2(0x2ba));let {replyOption:_0x123f3c}=_0x34bb3c;_0x123f3c?.[_0x9c23c2(0x5f7)]?(this['deleteReplyOption'](_0x36a09b,_0x34bb3c),this[_0x9c23c2(0x565)](_0x36a09b['replyOptions'],_0x34bb3c['replyOption'][_0x9c23c2(0x534)])):_0x123f3c['_id']?(await this[_0x9c23c2(0x66f)](_0x36a09b,_0x34bb3c),this[_0x9c23c2(0x565)](_0x36a09b[_0x9c23c2(0x704)],_0x34bb3c['replyOption'][_0x9c23c2(0x534)])):(this['addReplyOption'](_0x36a09b,_0x34bb3c),this['reorderReplyOptions'](_0x36a09b[_0x9c23c2(0x704)],_0x34bb3c['replyOption']['blockId']));let _0x964442=await this[_0x9c23c2(0x671)][_0x9c23c2(0x357)][_0x9c23c2(0x869)](_0x36a09b['_id'],_0x36a09b);if(!_0x964442)throw new Error(_0x9c23c2(0x5de));return _0x964442;}catch(_0x4ca85a){this[_0x9c23c2(0x523)](_0x9c23c2(0x406)+_0x4ca85a);}}[a0_0x4cdcbe(0x565)](_0x59848b,_0x356d2a){const _0xf7731b=a0_0x4cdcbe;_0x59848b['forEach'](_0x3fa6a1=>{const _0x37d144=a0_0x5e25;_0x3fa6a1['blockId']===_0x356d2a&&_0x3fa6a1['order']===void 0x0&&(_0x3fa6a1[_0x37d144(0x184)]=0x270f);});let _0x5d75ca=_0x59848b[_0xf7731b(0x58d)](_0x2db7d8=>_0x2db7d8[_0xf7731b(0x534)]===_0x356d2a);_0x5d75ca['sort']((_0x52312e,_0xca9b95)=>_0x52312e['order']-_0xca9b95[_0xf7731b(0x184)]),_0x5d75ca['forEach']((_0xe75947,_0x3d56ac)=>{_0xe75947['order']=_0x3d56ac+0x1;}),_0x59848b[_0xf7731b(0x1d7)](_0xe4ebc=>{const _0x16de4d=_0xf7731b;if(_0xe4ebc['blockId']===_0x356d2a){let _0x5936fb=_0x5d75ca[_0x16de4d(0x521)](_0x2c78b7=>_0x2c78b7[_0x16de4d(0x42f)]&&_0xe4ebc[_0x16de4d(0x42f)]&&_0x2c78b7[_0x16de4d(0x42f)][_0x16de4d(0x897)]()===_0xe4ebc[_0x16de4d(0x42f)][_0x16de4d(0x897)]());_0x5936fb&&(_0xe4ebc[_0x16de4d(0x184)]=_0x5936fb['order']);}});}[a0_0x4cdcbe(0x6f2)](_0x498c06,_0x17f050){const _0x1976f2=a0_0x4cdcbe;let {replyOption:_0x974605}=_0x17f050;if(!_0x974605[_0x1976f2(0x42f)]){this[_0x1976f2(0x523)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x498c06[_0x1976f2(0x704)][_0x1976f2(0x521)](_0x160cb6=>_0x160cb6[_0x1976f2(0x42f)][_0x1976f2(0x897)]()===_0x17f050['replyOption'][_0x1976f2(0x42f)][_0x1976f2(0x897)]())){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x974605[_0x1976f2(0x42f)]+_0x1976f2(0x276));return;}_0x498c06[_0x1976f2(0x704)]=_0x498c06[_0x1976f2(0x704)][_0x1976f2(0x58d)](_0x35b6a2=>_0x35b6a2['_id'][_0x1976f2(0x897)]()!==_0x17f050[_0x1976f2(0x3ff)][_0x1976f2(0x42f)][_0x1976f2(0x897)]());}async[a0_0x4cdcbe(0x66f)](_0x42da9a,_0x50eb36){const _0x356a44=a0_0x4cdcbe;let _0x302f43=_0x42da9a[_0x356a44(0x704)][_0x356a44(0x819)](_0x195dd4=>_0x195dd4[_0x356a44(0x42f)][_0x356a44(0x897)]()===_0x50eb36['replyOption'][_0x356a44(0x42f)][_0x356a44(0x897)]());if(_0x302f43===-0x1){this['throwAndLogError'](_0x356a44(0x61e)+_0x50eb36[_0x356a44(0x3ff)]['_id']+_0x356a44(0x889));return;}for(let _0x275dc3 in _0x50eb36['replyOption'])_0x50eb36[_0x356a44(0x3ff)][_0x356a44(0x189)](_0x275dc3)&&(_0x42da9a[_0x356a44(0x704)][_0x302f43][_0x275dc3]=_0x50eb36[_0x356a44(0x3ff)][_0x275dc3]);}[a0_0x4cdcbe(0x3d8)](_0x5d45f3,_0x5d046f){const _0x3b5817=a0_0x4cdcbe;_0x5d45f3[_0x3b5817(0x704)]['push'](_0x5d046f[_0x3b5817(0x3ff)]);}async[a0_0x4cdcbe(0x38f)](_0x1852b2){const _0x53aacd=a0_0x4cdcbe;this[_0x53aacd(0x83b)][_0x53aacd(0x29b)](this[_0x53aacd(0x181)]+'\x20('+this[_0x53aacd(0x1c1)][_0x53aacd(0x2db)]+_0x53aacd(0x810)+JSON[_0x53aacd(0x289)](_0x1852b2,null,0x2));try{if(this['logger'][_0x53aacd(0x29b)](this['instanceName']+'\x20('+this['instance'][_0x53aacd(0x2db)]+_0x53aacd(0x6bc)),!this['AutomateSystem'][_0x53aacd(0x4e3)][_0x53aacd(0x521)](_0x178202=>_0x178202[_0x53aacd(0x42f)]===_0x1852b2[_0x53aacd(0x42f)]))throw this[_0x53aacd(0x83b)][_0x53aacd(0x29b)](this['instanceName']+'\x20('+this[_0x53aacd(0x1c1)][_0x53aacd(0x2db)]+'):\x20Fluxo\x20\x27'+_0x1852b2[_0x53aacd(0x42f)]+_0x53aacd(0x7c2)),new m(_0x53aacd(0x5a8));let _0x328a14=await this['repository']['flow'][_0x53aacd(0x324)]({'where':{'_id':_0x1852b2['_id']}});if(!_0x328a14||!_0x328a14[_0x53aacd(0x2bc)]?.[_0x53aacd(0x192)](this[_0x53aacd(0x1c1)][_0x53aacd(0x2db)]))throw this[_0x53aacd(0x83b)]['error'](this[_0x53aacd(0x181)]+'\x20('+this[_0x53aacd(0x1c1)]['wuid']+'):\x20Flow\x20\x27'+_0x1852b2[_0x53aacd(0x42f)]+_0x53aacd(0x1b5)),new m(_0x53aacd(0x528)+_0x1852b2['_id']+_0x53aacd(0x1b5));if(!_0x328a14[_0x53aacd(0x3f5)]?.[_0x53aacd(0x192)](this[_0x53aacd(0x1c1)]['wuid']))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');if(_0x1852b2[_0x53aacd(0x891)]&&_0x1852b2[_0x53aacd(0x891)]?.[_0x53aacd(0x5f7)]===!0x0){if(this[_0x53aacd(0x83b)][_0x53aacd(0x29b)](this[_0x53aacd(0x181)]+'\x20('+this[_0x53aacd(0x1c1)][_0x53aacd(0x2db)]+_0x53aacd(0x53b)),_0x1852b2[_0x53aacd(0x891)][_0x53aacd(0x669)]===!0x0)return{'message':_0x53aacd(0x87c)};if(_0x328a14[_0x53aacd(0x39f)][_0x53aacd(0x5e6)](_0x2a4996=>_0x2a4996['groupId'][_0x53aacd(0x897)]()===_0x1852b2[_0x53aacd(0x891)][_0x53aacd(0x42f)]))return this[_0x53aacd(0x83b)][_0x53aacd(0x29b)](this['instanceName']+'\x20('+this[_0x53aacd(0x1c1)][_0x53aacd(0x2db)]+_0x53aacd(0x5b1)),{'message':_0x53aacd(0x75e)};_0x328a14[_0x53aacd(0x613)]=_0x328a14['groups']['filter'](_0x5be208=>_0x5be208['_id'][_0x53aacd(0x897)]()!==_0x1852b2[_0x53aacd(0x891)]['_id']);}else{if(_0x1852b2[_0x53aacd(0x891)]){if(_0x1852b2[_0x53aacd(0x891)][_0x53aacd(0x669)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x1852b2[_0x53aacd(0x891)]['_id']){let _0xbe25cc=_0x328a14[_0x53aacd(0x613)]['find'](_0xdeb0a6=>_0xdeb0a6[_0x53aacd(0x42f)][_0x53aacd(0x897)]()===_0x1852b2[_0x53aacd(0x891)][_0x53aacd(0x42f)]);_0xbe25cc&&(_0x1852b2[_0x53aacd(0x891)]['x']<0x0&&(_0x1852b2[_0x53aacd(0x891)]['x']=0x0),_0x1852b2['group']['y']<0x0&&(_0x1852b2[_0x53aacd(0x891)]['y']=0x0),Object[_0x53aacd(0x4dc)](_0xbe25cc,_0x1852b2[_0x53aacd(0x891)]));}else _0x328a14[_0x53aacd(0x613)]['push'](_0x1852b2[_0x53aacd(0x891)]);}}let _0x4c5fc7=await this[_0x53aacd(0x671)][_0x53aacd(0x357)][_0x53aacd(0x869)](_0x328a14['_id'],_0x328a14);if(!_0x4c5fc7)throw new Error(_0x53aacd(0x5de));return _0x4c5fc7;}catch(_0x244d40){let _0x59fb90=_0x53aacd(0x6be),_0x241fbb=_0x244d40 instanceof Error?_0x244d40[_0x53aacd(0x517)]:typeof _0x244d40==_0x53aacd(0x4d6)?JSON['stringify'](_0x244d40):_0x244d40,_0x1b7c30=_0x59fb90+':\x20'+_0x241fbb;throw this[_0x53aacd(0x83b)][_0x53aacd(0x2c1)](this[_0x53aacd(0x181)]+'\x20('+this[_0x53aacd(0x1c1)][_0x53aacd(0x2db)]+'):\x20'+_0x1b7c30),new m(_0x1b7c30);}}async[a0_0x4cdcbe(0x814)](_0x112af7){const _0x13518e=a0_0x4cdcbe;try{if(this[_0x13518e(0x83b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x13518e(0x2db)]+_0x13518e(0x228)),!this[_0x13518e(0x598)][_0x13518e(0x4e3)][_0x13518e(0x521)](_0x6470c6=>_0x6470c6[_0x13518e(0x42f)]===_0x112af7[_0x13518e(0x42f)]))throw this[_0x13518e(0x83b)][_0x13518e(0x29b)](this[_0x13518e(0x181)]+'\x20('+this[_0x13518e(0x1c1)][_0x13518e(0x2db)]+'):\x20Fluxo\x20\x27'+_0x112af7[_0x13518e(0x42f)]+_0x13518e(0x7c2)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x3e224e=await this['repository'][_0x13518e(0x357)][_0x13518e(0x324)]({'where':{'_id':_0x112af7[_0x13518e(0x42f)]}});if(!_0x3e224e||!_0x3e224e[_0x13518e(0x2bc)]?.[_0x13518e(0x192)](this[_0x13518e(0x1c1)][_0x13518e(0x2db)]))throw this['logger'][_0x13518e(0x2c1)](this[_0x13518e(0x181)]+'\x20('+this[_0x13518e(0x1c1)]['wuid']+_0x13518e(0x800)+_0x112af7[_0x13518e(0x42f)]+_0x13518e(0x1b5)),new m(_0x13518e(0x528)+_0x112af7[_0x13518e(0x42f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x3e224e['whoCanEdit']?.[_0x13518e(0x192)](this[_0x13518e(0x1c1)][_0x13518e(0x2db)]))throw new m(_0x13518e(0x2ba));let _0x1c2870=!0x1;if(_0x112af7[_0x13518e(0x798)]?.[_0x13518e(0x5f7)]===!0x0)_0x3e224e[_0x13518e(0x513)]=_0x3e224e['conditions'][_0x13518e(0x58d)](_0x5a04fb=>_0x5a04fb&&_0x112af7[_0x13518e(0x798)]&&_0x5a04fb[_0x13518e(0x42f)]&&_0x112af7['condition']['_id']&&_0x5a04fb[_0x13518e(0x42f)][_0x13518e(0x897)]()!==_0x112af7[_0x13518e(0x798)][_0x13518e(0x42f)][_0x13518e(0x897)]()),_0x1c2870=!0x0;else{let _0x28b250=_0x3e224e['conditions'][_0x13518e(0x521)](_0x4ad489=>_0x4ad489&&_0x112af7[_0x13518e(0x798)]&&_0x4ad489[_0x13518e(0x42f)]&&_0x112af7[_0x13518e(0x798)]['_id']&&_0x4ad489[_0x13518e(0x42f)]['toString']()===_0x112af7[_0x13518e(0x798)][_0x13518e(0x42f)][_0x13518e(0x897)]());_0x28b250?(_0x1c2870=_0x28b250[_0x13518e(0x184)]!==_0x112af7['condition'][_0x13518e(0x184)],Object['assign'](_0x28b250,_0x112af7[_0x13518e(0x798)])):(_0x3e224e[_0x13518e(0x513)][_0x13518e(0x7e2)](_0x112af7['condition']),_0x1c2870=!0x0);}if(_0x1c2870){_0x3e224e[_0x13518e(0x513)][_0x13518e(0x535)]((_0x21bbf2,_0x31d2de)=>_0x21bbf2[_0x13518e(0x184)]>_0x31d2de[_0x13518e(0x184)]?0x1:_0x31d2de['order']>_0x21bbf2[_0x13518e(0x184)]?-0x1:0x0);for(let _0x3455fd=0x0;_0x3455fd<_0x3e224e[_0x13518e(0x513)][_0x13518e(0x59d)];_0x3455fd++)_0x3e224e[_0x13518e(0x513)][_0x3455fd]['order']=_0x3455fd+0x1;_0x3e224e['conditions'][_0x13518e(0x59d)]>0x0&&(_0x3e224e['conditions'][0x0][_0x13518e(0x346)]=_0x13518e(0x81a));}let _0x4bf3a3=await this[_0x13518e(0x671)][_0x13518e(0x357)][_0x13518e(0x869)](_0x3e224e[_0x13518e(0x42f)],_0x3e224e);if(!_0x4bf3a3)throw new Error(_0x13518e(0x5de));return _0x4bf3a3;}catch(_0x3e6e05){let _0x1d2d7d=_0x13518e(0x855),_0x11a40e=_0x3e6e05 instanceof Error?_0x3e6e05[_0x13518e(0x517)]:typeof _0x3e6e05==_0x13518e(0x4d6)?JSON[_0x13518e(0x289)](_0x3e6e05):_0x3e6e05,_0x528d82=_0x1d2d7d+':\x20'+_0x11a40e;throw this[_0x13518e(0x83b)]['error'](this[_0x13518e(0x181)]+'\x20('+this[_0x13518e(0x1c1)]['wuid']+_0x13518e(0x66a)+_0x528d82),new m(_0x528d82);}}async[a0_0x4cdcbe(0x34a)](_0x644386){const _0x5b44c2=a0_0x4cdcbe;try{if(this[_0x5b44c2(0x83b)]['verbose'](this[_0x5b44c2(0x181)]+'\x20('+this['instance'][_0x5b44c2(0x2db)]+_0x5b44c2(0x489)),!this[_0x5b44c2(0x598)][_0x5b44c2(0x4e3)][_0x5b44c2(0x521)](_0x7e5538=>_0x7e5538[_0x5b44c2(0x42f)]===_0x644386['_id']))throw this[_0x5b44c2(0x83b)][_0x5b44c2(0x29b)](this[_0x5b44c2(0x181)]+'\x20('+this['instance'][_0x5b44c2(0x2db)]+'):\x20Fluxo\x20\x27'+_0x644386['_id']+_0x5b44c2(0x7c2)),new m(_0x5b44c2(0x5a8));let _0x954052=await this[_0x5b44c2(0x671)]['flow'][_0x5b44c2(0x324)]({'where':{'_id':_0x644386[_0x5b44c2(0x42f)]}});if(!_0x954052||!_0x954052['whoCanUse']?.[_0x5b44c2(0x192)](this['instance']['wuid']))throw this[_0x5b44c2(0x83b)][_0x5b44c2(0x2c1)](this[_0x5b44c2(0x181)]+'\x20('+this['instance'][_0x5b44c2(0x2db)]+'):\x20Flow\x20\x27'+_0x644386[_0x5b44c2(0x42f)]+_0x5b44c2(0x1b5)),new m('Flow\x20\x27'+_0x644386[_0x5b44c2(0x42f)]+_0x5b44c2(0x1b5));if(!_0x954052['whoCanEdit']?.[_0x5b44c2(0x192)](this['instance'][_0x5b44c2(0x2db)]))throw new m(_0x5b44c2(0x2ba));let _0x59cd20=!0x1;if(_0x644386[_0x5b44c2(0x1f4)]?.[_0x5b44c2(0x5f7)]===!0x0)_0x954052[_0x5b44c2(0x526)]=_0x954052[_0x5b44c2(0x526)]['filter'](_0x3ea7a0=>_0x3ea7a0&&_0x644386[_0x5b44c2(0x1f4)]&&_0x3ea7a0[_0x5b44c2(0x42f)]&&_0x644386['varedit'][_0x5b44c2(0x42f)]&&_0x3ea7a0['_id'][_0x5b44c2(0x897)]()!==_0x644386[_0x5b44c2(0x1f4)][_0x5b44c2(0x42f)][_0x5b44c2(0x897)]()),_0x59cd20=!0x0;else{let _0xe4fbe7=_0x954052[_0x5b44c2(0x526)][_0x5b44c2(0x521)](_0x32e081=>_0x32e081&&_0x644386[_0x5b44c2(0x1f4)]&&_0x32e081['_id']&&_0x644386['varedit']['_id']&&_0x32e081['_id']['toString']()===_0x644386[_0x5b44c2(0x1f4)][_0x5b44c2(0x42f)]['toString']());_0xe4fbe7?(_0x59cd20=_0xe4fbe7[_0x5b44c2(0x184)]!==_0x644386[_0x5b44c2(0x1f4)]['order'],Object[_0x5b44c2(0x4dc)](_0xe4fbe7,_0x644386[_0x5b44c2(0x1f4)])):(_0x954052[_0x5b44c2(0x526)]['push'](_0x644386[_0x5b44c2(0x1f4)]),_0x59cd20=!0x0);}if(_0x59cd20){_0x954052[_0x5b44c2(0x526)][_0x5b44c2(0x535)]((_0x5689fc,_0x43a1f4)=>_0x5689fc[_0x5b44c2(0x184)]>_0x43a1f4['order']?0x1:_0x43a1f4[_0x5b44c2(0x184)]>_0x5689fc[_0x5b44c2(0x184)]?-0x1:0x0);for(let _0x8fd783=0x0;_0x8fd783<_0x954052[_0x5b44c2(0x526)][_0x5b44c2(0x59d)];_0x8fd783++)_0x954052[_0x5b44c2(0x526)][_0x8fd783]['order']=_0x8fd783+0x1;}let _0x3cfbaa=await this[_0x5b44c2(0x671)][_0x5b44c2(0x357)][_0x5b44c2(0x869)](_0x954052[_0x5b44c2(0x42f)],_0x954052);if(!_0x3cfbaa)throw new Error(_0x5b44c2(0x5de));return _0x3cfbaa;}catch(_0x435583){let _0x1d986a='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x2d86b4=_0x435583 instanceof Error?_0x435583['message']:typeof _0x435583==_0x5b44c2(0x4d6)?JSON[_0x5b44c2(0x289)](_0x435583):_0x435583,_0x4bba5c=_0x1d986a+':\x20'+_0x2d86b4;throw this[_0x5b44c2(0x83b)][_0x5b44c2(0x2c1)](this['instanceName']+'\x20('+this[_0x5b44c2(0x1c1)][_0x5b44c2(0x2db)]+_0x5b44c2(0x66a)+_0x4bba5c),new m(_0x4bba5c);}}async['editFlowVariable'](_0xb095bc){const _0xdfa4c=a0_0x4cdcbe;try{if(this['logger']['verbose'](this[_0xdfa4c(0x181)]+'\x20('+this[_0xdfa4c(0x1c1)][_0xdfa4c(0x2db)]+_0xdfa4c(0x28a)),!this[_0xdfa4c(0x598)][_0xdfa4c(0x4e3)][_0xdfa4c(0x521)](_0x42bd4e=>_0x42bd4e['_id']===_0xb095bc[_0xdfa4c(0x42f)]))throw this[_0xdfa4c(0x83b)]['verbose'](this[_0xdfa4c(0x181)]+'\x20('+this['instance'][_0xdfa4c(0x2db)]+_0xdfa4c(0x5ca)+_0xb095bc[_0xdfa4c(0x42f)]+_0xdfa4c(0x7c2)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x1f61cf=await this[_0xdfa4c(0x671)][_0xdfa4c(0x357)][_0xdfa4c(0x324)]({'where':{'_id':_0xb095bc[_0xdfa4c(0x42f)]}});if(!_0x1f61cf||!_0x1f61cf[_0xdfa4c(0x2bc)]?.[_0xdfa4c(0x192)](this[_0xdfa4c(0x1c1)][_0xdfa4c(0x2db)]))throw this[_0xdfa4c(0x83b)][_0xdfa4c(0x2c1)](this[_0xdfa4c(0x181)]+'\x20('+this[_0xdfa4c(0x1c1)]['wuid']+_0xdfa4c(0x800)+_0xb095bc[_0xdfa4c(0x42f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0xdfa4c(0x528)+_0xb095bc[_0xdfa4c(0x42f)]+_0xdfa4c(0x1b5));if(!_0x1f61cf[_0xdfa4c(0x3f5)]?.[_0xdfa4c(0x192)](this['instance'][_0xdfa4c(0x2db)]))throw new m(_0xdfa4c(0x2ba));_0xb095bc['variable']['name']=_0xb095bc[_0xdfa4c(0x67c)][_0xdfa4c(0x5cf)][_0xdfa4c(0x360)](),_0xb095bc[_0xdfa4c(0x67c)]['name'][_0xdfa4c(0x196)]('_')&&(_0xb095bc['variable'][_0xdfa4c(0x5cf)]=_0xb095bc['variable'][_0xdfa4c(0x5cf)][_0xdfa4c(0x66d)](0x1)),_0xb095bc[_0xdfa4c(0x67c)]['name']=_0xb095bc[_0xdfa4c(0x67c)][_0xdfa4c(0x5cf)]['trim']();let _0x31d59e=_0x1f61cf['variables'][_0xdfa4c(0x521)](_0x4a8807=>_0x4a8807['name']===_0xb095bc[_0xdfa4c(0x67c)][_0xdfa4c(0x5cf)]);if(_0x31d59e?.[_0xdfa4c(0x236)]===!0x0)throw new Error(_0xdfa4c(0x72e));if(_0xb095bc[_0xdfa4c(0x67c)]?.[_0xdfa4c(0x5f7)]===!0x0){if(!_0x31d59e)return{'message':_0xdfa4c(0x220)};_0x1f61cf[_0xdfa4c(0x6bb)]=_0x1f61cf[_0xdfa4c(0x6bb)][_0xdfa4c(0x58d)](_0x1700c8=>_0x1700c8['name']!==_0xb095bc[_0xdfa4c(0x67c)][_0xdfa4c(0x5cf)]);}else _0x31d59e?Object[_0xdfa4c(0x4dc)](_0x31d59e,_0xb095bc['variable']):_0x1f61cf['variables'][_0xdfa4c(0x7e2)](_0xb095bc[_0xdfa4c(0x67c)]);let _0x201a7f=await this['repository'][_0xdfa4c(0x357)]['updateOne'](_0x1f61cf[_0xdfa4c(0x42f)],_0x1f61cf);if(!_0x201a7f)throw new Error(_0xdfa4c(0x5de));return _0x201a7f;}catch(_0x29f2a7){let _0x3c43c7=_0xdfa4c(0x1e3),_0x1a70cd=_0x29f2a7 instanceof Error?_0x29f2a7[_0xdfa4c(0x517)]:typeof _0x29f2a7==_0xdfa4c(0x4d6)?JSON[_0xdfa4c(0x289)](_0x29f2a7):_0x29f2a7,_0x4f024f=_0x3c43c7+':\x20'+_0x1a70cd;throw this[_0xdfa4c(0x83b)]['error'](this[_0xdfa4c(0x181)]+'\x20('+this[_0xdfa4c(0x1c1)]['wuid']+_0xdfa4c(0x66a)+_0x4f024f),new m(_0x4f024f);}}async[a0_0x4cdcbe(0x5d3)](_0x58dd61){const _0x229801=a0_0x4cdcbe;let _0x594d47=null;try{if(!this[_0x229801(0x598)]?.['flowConfig'][_0x229801(0x5c7)])throw new m(_0x229801(0x602));this[_0x229801(0x83b)][_0x229801(0x29b)](this[_0x229801(0x181)]+'\x20('+this['instance']['wuid']+_0x229801(0x417));let _0x3707aa=(await this[_0x229801(0x8d4)]({'numbers':[_0x58dd61[_0x229801(0x3e5)]]}))[0x0];if(!_0x3707aa['exists']&&!(0x0,w[_0x229801(0x351)])(_0x3707aa[_0x229801(0x269)])&&!_0x3707aa[_0x229801(0x269)][_0x229801(0x192)](_0x229801(0x200)))throw _0x594d47=JSON[_0x229801(0x289)](_0x3707aa,null,0x2),new m(_0x3707aa);let _0xcd4afc;if(_0x58dd61[_0x229801(0x5cf)][_0x229801(0x59d)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x229801(0x7f5)](_0x58dd61[_0x229801(0x5cf)])?_0xcd4afc=this[_0x229801(0x598)][_0x229801(0x4e3)]['find'](_0x37d54e=>_0x37d54e[_0x229801(0x42f)]===_0x58dd61[_0x229801(0x5cf)]):_0xcd4afc=this[_0x229801(0x598)][_0x229801(0x4e3)][_0x229801(0x521)](_0xe2b4cc=>_0xe2b4cc[_0x229801(0x5cf)]===_0x58dd61[_0x229801(0x5cf)]),!_0xcd4afc)throw this['logger'][_0x229801(0x29b)](this['instanceName']+'\x20('+this[_0x229801(0x1c1)][_0x229801(0x2db)]+'):\x20Fluxo\x20\x27'+_0x58dd61[_0x229801(0x5cf)]+_0x229801(0x7c2)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x2f5f19=await this[_0x229801(0x671)]['flow']['findOne']({'where':{'_id':_0xcd4afc['_id']}});if(!_0x2f5f19||!_0x2f5f19[_0x229801(0x2bc)]?.['includes'](this['instance'][_0x229801(0x2db)]))throw this['logger'][_0x229801(0x2c1)](this[_0x229801(0x181)]+'\x20('+this['instance'][_0x229801(0x2db)]+_0x229801(0x800)+_0xcd4afc[_0x229801(0x42f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x594d47='Flow\x20\x27'+_0xcd4afc[_0x229801(0x42f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo',new m(_0x594d47);let _0x11ccbb=await this[_0x229801(0x44e)](_0x2f5f19,_0x3707aa['jid'],_0x58dd61['changeVariables']);if(_0x11ccbb){this[_0x229801(0x83b)][_0x229801(0x29b)](this[_0x229801(0x181)]+'\x20('+this[_0x229801(0x1c1)]['wuid']+_0x229801(0x20a));let _0x32f8c0=await this[_0x229801(0x5cd)](_0x11ccbb);return _0x32f8c0&&await this[_0x229801(0x769)](_0x11ccbb,_0x32f8c0),{'message':_0x229801(0x62d)+_0x58dd61[_0x229801(0x3e5)]};}}catch(_0xa41e5b){if(this['logger'][_0x229801(0x2c1)](this['instanceName']+'\x20('+this['instance'][_0x229801(0x2db)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0xa41e5b instanceof Error?_0xa41e5b[_0x229801(0x517)]:JSON['stringify'](_0xa41e5b,null,0x2))),_0x594d47=_0xa41e5b instanceof Error?_0xa41e5b[_0x229801(0x517)]:JSON[_0x229801(0x289)](_0xa41e5b,null,0x2),_0x594d47)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x594d47);}}async[a0_0x4cdcbe(0x3ae)](_0x54fa09,_0x3c096b,_0x411127){const _0x2bf19d=a0_0x4cdcbe;let _0x25de9e=null;try{if(!this[_0x2bf19d(0x598)]?.[_0x2bf19d(0x48b)][_0x2bf19d(0x5c7)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this[_0x2bf19d(0x83b)]['verbose'](this[_0x2bf19d(0x181)]+'\x20('+this['instance'][_0x2bf19d(0x2db)]+_0x2bf19d(0x417)),_0x3c096b){let _0xc85eec=(await this[_0x2bf19d(0x8d4)]({'numbers':[_0x3c096b]}))[0x0];if(!_0xc85eec[_0x2bf19d(0x4e1)]&&!(0x0,w[_0x2bf19d(0x351)])(_0xc85eec[_0x2bf19d(0x269)])&&!_0xc85eec[_0x2bf19d(0x269)]['includes'](_0x2bf19d(0x200)))throw _0x25de9e=JSON[_0x2bf19d(0x289)](_0xc85eec,null,0x2),new m(_0xc85eec);_0x3c096b=_0xc85eec['jid'];}else _0x3c096b||(_0x3c096b=(0x0,Y['v4'])());let _0x4a2cc9=await this[_0x2bf19d(0x671)]['flow'][_0x2bf19d(0x324)]({'where':{'_id':_0x54fa09}});if(!_0x4a2cc9||!_0x4a2cc9[_0x2bf19d(0x2bc)]?.[_0x2bf19d(0x192)](this['instance'][_0x2bf19d(0x2db)]))throw this['logger'][_0x2bf19d(0x2c1)](this[_0x2bf19d(0x181)]+'\x20('+this[_0x2bf19d(0x1c1)][_0x2bf19d(0x2db)]+_0x2bf19d(0x800)+_0x54fa09+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2bf19d(0x528)+_0x54fa09+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x1d0eb3=await this['createConversationforStartFlow'](_0x4a2cc9,_0x3c096b,null);if(_0x1d0eb3){this['logger'][_0x2bf19d(0x29b)](this[_0x2bf19d(0x181)]+'\x20('+this[_0x2bf19d(0x1c1)][_0x2bf19d(0x2db)]+_0x2bf19d(0x616));let _0x23e399;if(_0x411127){let _0x2f3781=_0x1d0eb3[_0x2bf19d(0x32a)][_0x2bf19d(0x683)],_0x2336bb=this[_0x2bf19d(0x707)](_0x411127);Object['assign'](_0x2f3781,_0x2336bb),_0x1d0eb3[_0x2bf19d(0x32a)]['realVariables']=_0x2f3781,_0x23e399={'error':!0x1,'apiResponse':_0x411127};}let _0x2c2d2f=await this['NextBlock'](_0x1d0eb3);return _0x2c2d2f&&await this['processblock'](_0x1d0eb3,_0x2c2d2f),{'message':_0x2bf19d(0x7ea)};}}catch(_0x11da6c){if(this['logger'][_0x2bf19d(0x2c1)](this[_0x2bf19d(0x181)]+'\x20('+this[_0x2bf19d(0x1c1)][_0x2bf19d(0x2db)]+_0x2bf19d(0x682)+(_0x11da6c instanceof Error?_0x11da6c[_0x2bf19d(0x517)]:JSON['stringify'](_0x11da6c,null,0x2))),_0x25de9e=_0x11da6c instanceof Error?_0x11da6c[_0x2bf19d(0x517)]:JSON[_0x2bf19d(0x289)](_0x11da6c,null,0x2),_0x25de9e)throw new m(_0x2bf19d(0x187)+_0x25de9e);}}async[a0_0x4cdcbe(0x3ab)](_0x1e865f){const _0x613956=a0_0x4cdcbe;try{let _0x49db6f={'remoteJid':_0x1e865f,'status':'open'},_0x317fe7={'status':_0x613956(0x412)},_0x14ee9d=await this[_0x613956(0x671)]['flowConversation']['updateMany'](_0x49db6f,_0x317fe7,this['instance'][_0x613956(0x2db)]);return this[_0x613956(0x83b)][_0x613956(0x29b)](this['instanceName']+'\x20('+this[_0x613956(0x1c1)][_0x613956(0x2db)]+_0x613956(0x3ea)),_0x14ee9d;}catch(_0x1ff939){throw this[_0x613956(0x83b)][_0x613956(0x2c1)](this[_0x613956(0x181)]+'\x20('+this[_0x613956(0x1c1)][_0x613956(0x2db)]+_0x613956(0x53e)+_0x1ff939[_0x613956(0x517)]),_0x1ff939;}}async['createConversationforStartFlow'](_0x42ef1c,_0x11e7a3,_0x2f5f2c){const _0x251c9e=a0_0x4cdcbe;this[_0x251c9e(0x83b)][_0x251c9e(0x29b)](this['instanceName']+'\x20('+this[_0x251c9e(0x1c1)][_0x251c9e(0x2db)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x251c9e(0x3ab)](_0x11e7a3);try{let _0x35496a=require(_0x251c9e(0x833))[_0x251c9e(0x407)],_0x3a82c4=Date[_0x251c9e(0x472)](),_0x469e44='start',_0x5d4122={},_0x3e389c={},_0x25b521=this['AutomateSystem']['flows']['find'](_0x36d6d3=>_0x36d6d3[_0x251c9e(0x42f)]===_0x42ef1c[_0x251c9e(0x42f)]?.[_0x251c9e(0x897)]()),_0x5a13fb=_0x25b521?.[_0x251c9e(0x4d0)]??_0x42ef1c[_0x251c9e(0x4d0)]??0x0,_0x107bcf=_0x25b521?.['readMessages']??_0x42ef1c[_0x251c9e(0x851)]??!0x1,_0x23c269={'flowId':_0x42ef1c[_0x251c9e(0x42f)],..._0x42ef1c,'chatLog':null},_0x5a28b1=await this[_0x251c9e(0x82e)](_0x23c269[_0x251c9e(0x6bb)]),_0x20063a=await this[_0x251c9e(0x64d)](_0x11e7a3),_0xc71c8e={..._0x5a28b1,..._0x20063a,'_remoteJid':_0x11e7a3},_0x59d709={'lastReceivedMessage':_0x5d4122,'lastSendMessage':_0x3e389c,'lastBlockId':_0x469e44,'lastCondition':!0x0,'realVariables':_0xc71c8e};_0x23c269['chatLog']=_0x59d709,_0x23c269[_0x251c9e(0x32a)]['realVariables']={..._0xc71c8e,..._0x2f5f2c},delete _0x23c269[_0x251c9e(0x42f)],_0x23c269[_0x251c9e(0x42f)]=new _0x35496a(),_0x23c269[_0x251c9e(0x6d8)]=_0x3a82c4,_0x23c269[_0x251c9e(0x4b1)]=_0x251c9e(0x542),_0x23c269[_0x251c9e(0x3e5)]=_0x11e7a3,_0x23c269[_0x251c9e(0x4d0)]=_0x5a13fb,_0x23c269[_0x251c9e(0x851)]=_0x107bcf,_0x23c269['_id']=_0x42ef1c[_0x251c9e(0x42f)];let _0x22866f=await this[_0x251c9e(0x671)]['flowConversation'][_0x251c9e(0x869)](_0x23c269[_0x251c9e(0x42f)],_0x23c269,this[_0x251c9e(0x1c1)][_0x251c9e(0x2db)]);return this[_0x251c9e(0x83b)][_0x251c9e(0x29b)](this[_0x251c9e(0x181)]+'\x20('+this[_0x251c9e(0x1c1)][_0x251c9e(0x2db)]+_0x251c9e(0x625)),_0x22866f?_0x23c269:null;}catch(_0x30553a){let _0x318db7=_0x251c9e(0x2f3),_0xd5388c=_0x30553a instanceof Error?_0x30553a[_0x251c9e(0x517)]:typeof _0x30553a=='object'?JSON[_0x251c9e(0x289)](_0x30553a):_0x30553a,_0x492db5=_0x318db7+':\x20'+_0xd5388c;throw this[_0x251c9e(0x83b)][_0x251c9e(0x2c1)](this[_0x251c9e(0x181)]+'\x20('+this['instance'][_0x251c9e(0x2db)]+_0x251c9e(0x66a)+_0x492db5),new m(_0x492db5);}}async[a0_0x4cdcbe(0x735)](_0x18c1cf){const _0x3ac5e0=a0_0x4cdcbe;try{this[_0x3ac5e0(0x83b)][_0x3ac5e0(0x29b)](this[_0x3ac5e0(0x181)]+'\x20('+this['instance']['wuid']+_0x3ac5e0(0x6c8)),this[_0x3ac5e0(0x83b)]['verbose'](this[_0x3ac5e0(0x181)]+'\x20('+this['instance'][_0x3ac5e0(0x2db)]+_0x3ac5e0(0x872)+_0x18c1cf);let _0x298fc0={'where':{'_id':_0x18c1cf}};return await this[_0x3ac5e0(0x671)][_0x3ac5e0(0x610)]['findOne'](_0x298fc0,this[_0x3ac5e0(0x1c1)][_0x3ac5e0(0x2db)]);}catch(_0x209e2f){let _0x21ce34=_0x3ac5e0(0x39d),_0x48f202=_0x209e2f instanceof Error?_0x209e2f[_0x3ac5e0(0x517)]:typeof _0x209e2f==_0x3ac5e0(0x4d6)?JSON[_0x3ac5e0(0x289)](_0x209e2f):_0x209e2f,_0x35bb52=_0x21ce34+':\x20'+_0x48f202;throw this['logger']['error'](this[_0x3ac5e0(0x181)]+'\x20('+this[_0x3ac5e0(0x1c1)]['wuid']+_0x3ac5e0(0x66a)+_0x35bb52),new m(_0x35bb52);}}async[a0_0x4cdcbe(0x4c7)](_0x5b646a){const _0x48e368=a0_0x4cdcbe;try{return this[_0x48e368(0x83b)][_0x48e368(0x29b)](this[_0x48e368(0x181)]+'\x20('+this[_0x48e368(0x1c1)][_0x48e368(0x2db)]+_0x48e368(0x359)),await this['repository'][_0x48e368(0x610)][_0x48e368(0x521)](_0x5b646a,this[_0x48e368(0x1c1)][_0x48e368(0x2db)]);}catch(_0x4af824){let _0x323245=_0x48e368(0x620),_0x3cf33c=_0x4af824 instanceof Error?_0x4af824[_0x48e368(0x517)]:typeof _0x4af824==_0x48e368(0x4d6)?JSON[_0x48e368(0x289)](_0x4af824):_0x4af824,_0x310197=_0x323245+':\x20'+_0x3cf33c;throw this[_0x48e368(0x83b)][_0x48e368(0x2c1)](this['instanceName']+'\x20('+this['instance'][_0x48e368(0x2db)]+'):\x20'+_0x310197),new m(_0x310197);}}async[a0_0x4cdcbe(0x327)](_0x112cd3){const _0x4d7798=a0_0x4cdcbe;try{return this[_0x4d7798(0x83b)][_0x4d7798(0x29b)](this[_0x4d7798(0x181)]+'\x20('+this[_0x4d7798(0x1c1)][_0x4d7798(0x2db)]+_0x4d7798(0x49b)),this[_0x4d7798(0x83b)][_0x4d7798(0x29b)](this[_0x4d7798(0x181)]+'\x20('+this[_0x4d7798(0x1c1)][_0x4d7798(0x2db)]+'):\x20Query\x20params:'+_0x112cd3),(await this[_0x4d7798(0x671)][_0x4d7798(0x610)][_0x4d7798(0x4f7)]({'where':{'_id':_0x112cd3[_0x4d7798(0x42f)]}},this[_0x4d7798(0x1c1)][_0x4d7798(0x2db)]))[_0x4d7798(0x562)]===0x0?{'message':_0x4d7798(0x6c3)}:{'message':_0x4d7798(0x54d)};}catch(_0x25fe43){let _0x9435ee='Erro\x20ao\x20deletar\x20a\x20conversa',_0x513e59=_0x25fe43 instanceof Error?_0x25fe43[_0x4d7798(0x517)]:typeof _0x25fe43==_0x4d7798(0x4d6)?JSON[_0x4d7798(0x289)](_0x25fe43):_0x25fe43,_0x5c4947=_0x9435ee+':\x20'+_0x513e59;throw this[_0x4d7798(0x83b)][_0x4d7798(0x2c1)](this['instanceName']+'\x20('+this[_0x4d7798(0x1c1)][_0x4d7798(0x2db)]+'):\x20'+_0x5c4947),new m(_0x5c4947);}}async[a0_0x4cdcbe(0x79a)](_0xb5df54){const _0x36bac4=a0_0x4cdcbe;try{let {_id:_0x5ea1ae,chatLog:_0x1c7abf,status:_0x548f35}=_0xb5df54;if(!_0x5ea1ae)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x46a3f8={};if(_0x548f35!==void 0x0&&(_0x46a3f8[_0x36bac4(0x4b1)]=_0x548f35),Object[_0x36bac4(0x684)](_0x46a3f8)['length']===0x0)return{'message':_0x36bac4(0x284)};let _0x52a172=await this[_0x36bac4(0x671)][_0x36bac4(0x610)][_0x36bac4(0x869)](_0x5ea1ae,_0x46a3f8,this['instance'][_0x36bac4(0x2db)]);return _0x52a172||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x102f3b){let _0x491ff1='Erro\x20ao\x20editar\x20a\x20conversa',_0x2c581b=_0x102f3b instanceof Error?_0x102f3b[_0x36bac4(0x517)]:typeof _0x102f3b==_0x36bac4(0x4d6)?JSON['stringify'](_0x102f3b):_0x102f3b,_0x5f2492=_0x491ff1+':\x20'+_0x2c581b;throw this[_0x36bac4(0x83b)][_0x36bac4(0x2c1)](this[_0x36bac4(0x181)]+'\x20('+this[_0x36bac4(0x1c1)][_0x36bac4(0x2db)]+_0x36bac4(0x66a)+_0x5f2492),new m(_0x5f2492);}}async[a0_0x4cdcbe(0x6c9)](_0x108914){const _0x2ac12e=a0_0x4cdcbe;try{_0x108914[_0x2ac12e(0x42f)]=this[_0x2ac12e(0x5b4)](_0x108914[_0x2ac12e(0x42f)]);let _0x514ed7=await this['repository'][_0x2ac12e(0x538)][_0x2ac12e(0x324)]({'where':{'_id':_0x108914['_id']}},this[_0x2ac12e(0x1c1)][_0x2ac12e(0x2db)]);if(!_0x514ed7)throw new m(_0x2ac12e(0x5b2));let {_id:_0x2abe25,leadInfo:_0x33fcb9}=_0x108914;if(!_0x2abe25)throw new Error(_0x2ac12e(0x273));if(_0x108914[_0x2ac12e(0x5f7)]===_0x2ac12e(0x653))return await this['deleteChat'](_0x108914[_0x2ac12e(0x42f)]),await this[_0x2ac12e(0x671)][_0x2ac12e(0x538)][_0x2ac12e(0x5f7)]({'where':{'_id':_0x108914[_0x2ac12e(0x42f)]}},this[_0x2ac12e(0x1c1)][_0x2ac12e(0x2db)]),await this[_0x2ac12e(0x671)][_0x2ac12e(0x517)][_0x2ac12e(0x5f7)]({'where':{'key':{'remoteJid':_0x108914[_0x2ac12e(0x42f)]}}},this[_0x2ac12e(0x1c1)][_0x2ac12e(0x2db)]),_0x108914=await this[_0x2ac12e(0x671)][_0x2ac12e(0x538)][_0x2ac12e(0x869)]({'where':{'_id':_0x108914[_0x2ac12e(0x42f)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2ac12e(0x1c1)][_0x2ac12e(0x2db)]),V(this[_0x2ac12e(0x181)],_0x2ac12e(0x3ef),{'chat':_0x108914}),{'message':_0x2ac12e(0x84c)};if(_0x108914[_0x2ac12e(0x5f7)]===_0x2ac12e(0x524))return await this[_0x2ac12e(0x671)][_0x2ac12e(0x517)][_0x2ac12e(0x5f7)]({'where':{'key':{'remoteJid':_0x108914[_0x2ac12e(0x42f)]}}},this['instance'][_0x2ac12e(0x2db)]),_0x108914=await this[_0x2ac12e(0x671)][_0x2ac12e(0x538)]['updateOne']({'where':{'_id':_0x108914[_0x2ac12e(0x42f)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x2ac12e(0x2db)]),V(this[_0x2ac12e(0x181)],_0x2ac12e(0x3ef),{'chat':_0x108914}),{'message':_0x2ac12e(0x72d)};let _0xf2ac4b=(_0x43d569,_0x54e11f,_0x287af2)=>{const _0x1268d2=_0x2ac12e;_0x43d569&&_0x287af2[_0x1268d2(0x1d7)](_0x9e7c6f=>{_0x43d569[_0x9e7c6f]!==void 0x0&&(_0x54e11f['leadInfo.'+_0x9e7c6f]=_0x43d569[_0x9e7c6f]);});},_0x2d054b={};if(_0x2ac12e(0x76f)in _0x108914&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2ac12e(0x1c1)]['wuid']+_0x2ac12e(0x80d)+_0x108914[_0x2ac12e(0x42f)]),_0x108914[_0x2ac12e(0x76f)]=_0x108914[_0x2ac12e(0x76f)]===0x0?null:-0x1,await this[_0x2ac12e(0x811)][_0x2ac12e(0x519)]({'mute':_0x108914['muteEndTime']},_0x108914[_0x2ac12e(0x42f)]),_0x2d054b[_0x2ac12e(0x76f)]=Number(_0x108914[_0x2ac12e(0x76f)])),_0x33fcb9&&(_0xf2ac4b(_0x33fcb9,_0x2d054b,[_0x2ac12e(0x502),_0x2ac12e(0x5ec),'email',_0x2ac12e(0x812),_0x2ac12e(0x4b1),_0x2ac12e(0x488),_0x2ac12e(0x86a),_0x2ac12e(0x574),_0x2ac12e(0x2b7),_0x2ac12e(0x88d),_0x2ac12e(0x465)]),Array[_0x2ac12e(0x2cf)](_0x33fcb9['customFields'])&&(_0x2d054b[_0x2ac12e(0x3d6)]=_0x33fcb9[_0x2ac12e(0x82a)][_0x2ac12e(0x79d)](_0x2aa63b=>({'_id':_0x2aa63b[_0x2ac12e(0x42f)],'value':_0x2aa63b[_0x2ac12e(0x863)]}))),_0x108914[_0x2ac12e(0x236)][_0x2ac12e(0x88d)]!==void 0x0)){let _0x4b36e1=await this[_0x2ac12e(0x671)][_0x2ac12e(0x522)]['find']({'where':{}},this['instance'][_0x2ac12e(0x2db)]),_0x387e54=new Set(_0x108914[_0x2ac12e(0x236)][_0x2ac12e(0x88d)]||[]),_0x7ba775=new Set(_0x108914['leadInfo'][_0x2ac12e(0x88d)]),_0x139dd8=new Set(_0x4b36e1[_0x2ac12e(0x79d)](_0x457316=>_0x457316['_id'])),_0x565304=[..._0x7ba775][_0x2ac12e(0x58d)](_0x4c96e1=>!_0x387e54[_0x2ac12e(0x308)](_0x4c96e1)&&_0x139dd8['has'](_0x4c96e1)),_0x3e3814=[..._0x387e54]['filter'](_0x18c8af=>!_0x7ba775['has'](_0x18c8af));if(_0x2d054b[_0x2ac12e(0x26e)]=[..._0x387e54],_0x514ed7&&!_0x514ed7[_0x2ac12e(0x78a)]){for(let _0x45cbcf of _0x565304)await this[_0x2ac12e(0x7b6)](_0x45cbcf,_0x108914[_0x2ac12e(0x42f)]),_0x387e54['add'](_0x45cbcf);for(let _0x59d505 of _0x3e3814)await this['RemoveChatLabel'](_0x59d505,_0x108914[_0x2ac12e(0x42f)]),_0x387e54['delete'](_0x59d505);}}if(_0x108914[_0x2ac12e(0x3c7)]!==void 0x0&&(_0x2d054b[_0x2ac12e(0x3c7)]=Number(_0x108914['unreadcount'])),Object['keys'](_0x2d054b)[_0x2ac12e(0x59d)]===0x0)throw new Error(_0x2ac12e(0x284));let _0x23d52d=await this[_0x2ac12e(0x671)][_0x2ac12e(0x538)][_0x2ac12e(0x869)]({'where':{'_id':_0x108914['_id']}},_0x2d054b,this[_0x2ac12e(0x1c1)][_0x2ac12e(0x2db)]);return _0x23d52d&&V(this['instanceName'],_0x2ac12e(0x3ef),{'chat':_0x23d52d}),_0x23d52d?(this[_0x2ac12e(0x83b)][_0x2ac12e(0x29b)](this['instanceName']+'\x20('+this['instance'][_0x2ac12e(0x2db)]+_0x2ac12e(0x66a)+JSON[_0x2ac12e(0x289)](_0x23d52d,null,0x2)),_0x23d52d):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x5c7f08){let _0x5de066='Erro\x20ao\x20editar\x20o\x20chat',_0x4de133=_0x5c7f08 instanceof Error?_0x5c7f08[_0x2ac12e(0x517)]:typeof _0x5c7f08=='object'?JSON[_0x2ac12e(0x289)](_0x5c7f08):_0x5c7f08,_0x385708=_0x5de066+':\x20'+_0x4de133;throw this['logger'][_0x2ac12e(0x2c1)](this[_0x2ac12e(0x181)]+'\x20('+this[_0x2ac12e(0x1c1)][_0x2ac12e(0x2db)]+_0x2ac12e(0x66a)+_0x385708),new m(_0x385708);}}async['AddChatLabel'](_0x4d86b3,_0x3fdb08){const _0x12f069=a0_0x4cdcbe;try{await this[_0x12f069(0x811)][_0x12f069(0x182)](_0x3fdb08,_0x4d86b3),this[_0x12f069(0x83b)][_0x12f069(0x71f)](this[_0x12f069(0x181)]+'\x20('+this[_0x12f069(0x1c1)]['wuid']+_0x12f069(0x36b)+_0x4d86b3+_0x12f069(0x50e)+_0x3fdb08+_0x12f069(0x277));}catch(_0x28a91b){this[_0x12f069(0x83b)]['error']('Erro\x20ao\x20adicionar\x20label\x20'+_0x4d86b3+_0x12f069(0x4ae)+_0x3fdb08+':\x20'+_0x28a91b);}}async[a0_0x4cdcbe(0x777)](_0x3664fe,_0x15e638){const _0x1d5b01=a0_0x4cdcbe;try{await this['client']['removeChatLabel'](_0x15e638,_0x3664fe),this[_0x1d5b01(0x83b)][_0x1d5b01(0x71f)](this[_0x1d5b01(0x181)]+'\x20('+this[_0x1d5b01(0x1c1)][_0x1d5b01(0x2db)]+_0x1d5b01(0x36b)+_0x3664fe+_0x1d5b01(0x256)+_0x15e638+_0x1d5b01(0x277));}catch(_0x344509){this[_0x1d5b01(0x83b)]['error'](_0x1d5b01(0x757)+_0x3664fe+_0x1d5b01(0x734)+_0x15e638+':\x20'+_0x344509);}}async[a0_0x4cdcbe(0x3bf)](_0x2a4b89){const _0x1a8e42=a0_0x4cdcbe;try{let _0x4f35ab=await this['repository'][_0x1a8e42(0x670)][_0x1a8e42(0x892)](this[_0x1a8e42(0x1c1)][_0x1a8e42(0x2db)]),_0x47fb04=_0x2a4b89[_0x1a8e42(0x42f)]?_0x4f35ab[_0x1a8e42(0x590)][_0x1a8e42(0x819)](_0x5d946d=>_0x5d946d[_0x1a8e42(0x42f)]===_0x2a4b89[_0x1a8e42(0x42f)]):-0x1;if(_0x2a4b89[_0x1a8e42(0x5f7)]&&_0x47fb04>-0x1)_0x4f35ab[_0x1a8e42(0x590)][_0x1a8e42(0x509)](_0x47fb04,0x1);else{if(_0x47fb04>-0x1){let _0x4e468a=_0x4f35ab['agents'][_0x47fb04];_0x2a4b89[_0x1a8e42(0x317)]&&(_0x4e468a[_0x1a8e42(0x317)]=_0x2a4b89['fone']),_0x2a4b89[_0x1a8e42(0x5cf)]&&(_0x4e468a[_0x1a8e42(0x5cf)]=_0x2a4b89['name']),_0x2a4b89[_0x1a8e42(0x554)]&&(_0x4e468a[_0x1a8e42(0x554)]=_0x2a4b89['email']),_0x2a4b89[_0x1a8e42(0x4e5)]&&(_0x4e468a[_0x1a8e42(0x4e5)]=_0x2a4b89[_0x1a8e42(0x4e5)]);}else _0x4f35ab['agents'][_0x1a8e42(0x7e2)]({'_id':_0x2a4b89[_0x1a8e42(0x42f)]||new fe[(_0x1a8e42(0x669))][(_0x1a8e42(0x2a7))][(_0x1a8e42(0x407))]()[_0x1a8e42(0x897)](),'fone':_0x2a4b89[_0x1a8e42(0x317)],'name':_0x2a4b89['name'],'email':_0x2a4b89[_0x1a8e42(0x554)],'role':_0x2a4b89[_0x1a8e42(0x4e5)]});}let _0x2a5fc7={'agents':_0x4f35ab['agents']},_0x27bd6c=await this[_0x1a8e42(0x671)][_0x1a8e42(0x670)][_0x1a8e42(0x17d)](_0x2a5fc7,this[_0x1a8e42(0x1c1)]['wuid']);return this[_0x1a8e42(0x598)]=_0x27bd6c,this[_0x1a8e42(0x83b)][_0x1a8e42(0x29b)](this[_0x1a8e42(0x181)]+'\x20('+this[_0x1a8e42(0x1c1)][_0x1a8e42(0x2db)]+_0x1a8e42(0x56d)),this[_0x1a8e42(0x83b)][_0x1a8e42(0x29b)](this[_0x1a8e42(0x181)]+'\x20('+this[_0x1a8e42(0x1c1)][_0x1a8e42(0x2db)]+_0x1a8e42(0x66a)+this[_0x1a8e42(0x598)]),_0x27bd6c;}catch(_0x5bc1b5){let _0x38127b=_0x1a8e42(0x7d8),_0x3c16d3=_0x5bc1b5 instanceof Error?_0x5bc1b5['message']:typeof _0x5bc1b5==_0x1a8e42(0x4d6)?JSON[_0x1a8e42(0x289)](_0x5bc1b5):_0x5bc1b5,_0x1c63da=_0x38127b+':\x20'+_0x3c16d3;throw this['logger'][_0x1a8e42(0x2c1)](this[_0x1a8e42(0x181)]+'\x20('+this[_0x1a8e42(0x1c1)][_0x1a8e42(0x2db)]+'):\x20'+_0x1c63da),new m(_0x1c63da);}}async[a0_0x4cdcbe(0x8b0)](_0x4a85d0){const _0x40e57f=a0_0x4cdcbe;try{let _0x243d62=await this['repository'][_0x40e57f(0x670)][_0x40e57f(0x892)](this[_0x40e57f(0x1c1)]['wuid']),_0x7acd6b=_0x4a85d0[_0x40e57f(0x42f)]?_0x243d62[_0x40e57f(0x82a)][_0x40e57f(0x819)](_0x47b89d=>_0x47b89d[_0x40e57f(0x42f)]===_0x4a85d0[_0x40e57f(0x42f)]):-0x1,_0x1c82c7=!0x1,_0x3cba21=_0x243d62[_0x40e57f(0x82a)]['some'](_0x4d5312=>_0x4d5312[_0x40e57f(0x184)]===_0x4a85d0[_0x40e57f(0x184)]);if(_0x4a85d0[_0x40e57f(0x5f7)]&&_0x7acd6b>-0x1)_0x243d62['customFields'][_0x40e57f(0x509)](_0x7acd6b,0x1),_0x1c82c7=!0x0;else{if(_0x7acd6b>-0x1){if(_0x243d62[_0x40e57f(0x82a)]['some'](_0x14d963=>_0x14d963[_0x40e57f(0x5cf)]===_0x4a85d0[_0x40e57f(0x5cf)]&&_0x14d963[_0x40e57f(0x42f)]!==_0x4a85d0[_0x40e57f(0x42f)]))throw new Error(_0x40e57f(0x8b5));let _0xc605f6=_0x243d62[_0x40e57f(0x82a)][_0x7acd6b];_0x4a85d0[_0x40e57f(0x184)]&&(_0x3cba21||!Number[_0x40e57f(0x868)](_0x4a85d0['order']))&&(_0xc605f6[_0x40e57f(0x184)]=_0x4a85d0[_0x40e57f(0x184)],_0x1c82c7=!0x0),_0x4a85d0[_0x40e57f(0x5cf)]&&(_0xc605f6[_0x40e57f(0x5cf)]=_0x4a85d0['name']);}else{if(_0x243d62['customFields'][_0x40e57f(0x5e6)](_0x4d5d05=>_0x4d5d05[_0x40e57f(0x5cf)]===_0x4a85d0[_0x40e57f(0x5cf)]&&_0x4d5d05[_0x40e57f(0x42f)]!==_0x4a85d0[_0x40e57f(0x42f)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x243d62[_0x40e57f(0x82a)][_0x40e57f(0x7e2)]({'_id':_0x4a85d0[_0x40e57f(0x42f)]||new fe[(_0x40e57f(0x669))][(_0x40e57f(0x2a7))]['ObjectId']()[_0x40e57f(0x897)](),'order':_0x4a85d0['order'],'name':_0x4a85d0['name']}),_0x1c82c7=!0x0;}}if(_0x1c82c7){_0x243d62['customFields'][_0x40e57f(0x535)]((_0x48f554,_0x5d5b07)=>_0x48f554[_0x40e57f(0x184)]>_0x5d5b07[_0x40e57f(0x184)]?0x1:_0x5d5b07['order']>_0x48f554[_0x40e57f(0x184)]?-0x1:0x0);for(let _0x2e0afb=0x0;_0x2e0afb<_0x243d62[_0x40e57f(0x82a)]['length'];_0x2e0afb++)_0x243d62[_0x40e57f(0x82a)][_0x2e0afb][_0x40e57f(0x184)]=_0x2e0afb+0x1;}let _0x322024=await this['repository'][_0x40e57f(0x670)][_0x40e57f(0x17d)](_0x243d62,this[_0x40e57f(0x1c1)][_0x40e57f(0x2db)]);return this[_0x40e57f(0x598)]=_0x322024,this[_0x40e57f(0x83b)]['verbose'](this[_0x40e57f(0x181)]+'\x20('+this[_0x40e57f(0x1c1)]['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x40e57f(0x83b)][_0x40e57f(0x29b)](this[_0x40e57f(0x181)]+'\x20('+this['instance'][_0x40e57f(0x2db)]+_0x40e57f(0x66a)+this[_0x40e57f(0x598)]),_0x322024;}catch(_0x1c30f6){let _0x2d00a1=_0x40e57f(0x711),_0x274c94=_0x1c30f6 instanceof Error?_0x1c30f6['message']:typeof _0x1c30f6==_0x40e57f(0x4d6)?JSON['stringify'](_0x1c30f6):_0x1c30f6,_0x59781d=_0x2d00a1+':\x20'+_0x274c94;throw this[_0x40e57f(0x83b)][_0x40e57f(0x2c1)](this['instanceName']+'\x20('+this[_0x40e57f(0x1c1)][_0x40e57f(0x2db)]+_0x40e57f(0x66a)+_0x59781d),new m(_0x59781d);}}async[a0_0x4cdcbe(0x36a)](_0x372bcb){const _0x1dff90=a0_0x4cdcbe;try{let _0xf6c5d7=await this[_0x1dff90(0x671)][_0x1dff90(0x670)][_0x1dff90(0x892)](this[_0x1dff90(0x1c1)]['wuid']),_0x5a26bb=_0xf6c5d7?.[_0x1dff90(0x69c)]?.[_0x1dff90(0x819)](_0x8cfe1d=>_0x8cfe1d[_0x1dff90(0x42f)]===_0x372bcb?.[_0x1dff90(0x42f)]);if(_0x372bcb?.[_0x1dff90(0x5f7)])_0x5a26bb>-0x1&&_0xf6c5d7?.[_0x1dff90(0x69c)]?.[_0x1dff90(0x509)](_0x5a26bb,0x1);else{if(_0x5a26bb>-0x1){let _0x368902=_0xf6c5d7[_0x1dff90(0x69c)][_0x5a26bb];_0x368902[_0x1dff90(0x184)]=_0x372bcb?.[_0x1dff90(0x184)]||_0x368902[_0x1dff90(0x184)],_0x368902[_0x1dff90(0x344)]=_0x372bcb?.[_0x1dff90(0x344)]||_0x368902[_0x1dff90(0x344)],_0x368902[_0x1dff90(0x517)]=_0x372bcb?.[_0x1dff90(0x517)]||_0x368902[_0x1dff90(0x517)];}else{let _0x2e6f43={'_id':_0x372bcb?.[_0x1dff90(0x42f)]||new fe[(_0x1dff90(0x669))][(_0x1dff90(0x2a7))][(_0x1dff90(0x407))]()[_0x1dff90(0x897)](),'order':_0x372bcb?.[_0x1dff90(0x184)],'command':_0x372bcb?.[_0x1dff90(0x344)],'message':_0x372bcb?.[_0x1dff90(0x517)]};_0xf6c5d7?.[_0x1dff90(0x69c)]?.[_0x1dff90(0x7e2)](_0x2e6f43);}}_0xf6c5d7?.[_0x1dff90(0x69c)]?.[_0x1dff90(0x535)]((_0x1195c2,_0x166ae9)=>_0x1195c2[_0x1dff90(0x184)]-_0x166ae9[_0x1dff90(0x184)]);let _0x43fcca=await this['repository'][_0x1dff90(0x670)][_0x1dff90(0x17d)](_0xf6c5d7,this['instance'][_0x1dff90(0x2db)]);return this[_0x1dff90(0x598)]=_0x43fcca,this[_0x1dff90(0x83b)][_0x1dff90(0x29b)](this[_0x1dff90(0x181)]+'\x20('+this[_0x1dff90(0x1c1)][_0x1dff90(0x2db)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x43fcca;}catch(_0xdbd4d8){let _0x157f58=_0x1dff90(0x6ca),_0x1b57ce=_0xdbd4d8 instanceof Error?_0xdbd4d8[_0x1dff90(0x517)]:typeof _0xdbd4d8=='object'?JSON[_0x1dff90(0x289)](_0xdbd4d8):_0xdbd4d8,_0x3693a3=_0x157f58+':\x20'+_0x1b57ce;throw this['logger'][_0x1dff90(0x2c1)](this[_0x1dff90(0x181)]+'\x20('+this[_0x1dff90(0x1c1)][_0x1dff90(0x2db)]+'):\x20'+_0x3693a3),new m(_0x3693a3);}}async['updateFlowConfig'](_0x14ad89){const _0x7f8f96=a0_0x4cdcbe;try{let _0x5dad55=await this[_0x7f8f96(0x671)][_0x7f8f96(0x670)]['findOrCreate'](this['instance'][_0x7f8f96(0x2db)]);if(!_0x5dad55)throw new Error(_0x7f8f96(0x643));let _0x4f2d3c={'_id':_0x5dad55[_0x7f8f96(0x42f)],'flowConfig':{'enabled':_0x14ad89[_0x7f8f96(0x5c7)]??_0x5dad55['flowConfig'][_0x7f8f96(0x5c7)],'ignoreGroups':_0x14ad89[_0x7f8f96(0x857)]??_0x5dad55['flowConfig']['ignoreGroups'],'stopConversation':_0x14ad89[_0x7f8f96(0x83e)][_0x7f8f96(0x360)]()??_0x5dad55['flowConfig'][_0x7f8f96(0x83e)]['trim'](),'stopMinutes':_0x14ad89[_0x7f8f96(0x259)]??_0x5dad55['flowConfig'][_0x7f8f96(0x259)],'stopWhenYouSendMsg':_0x14ad89['stopWhenYouSendMsg']??_0x5dad55[_0x7f8f96(0x48b)][_0x7f8f96(0x26f)]}},_0x29126b=await this['repository'][_0x7f8f96(0x670)][_0x7f8f96(0x17d)](_0x4f2d3c,this[_0x7f8f96(0x1c1)]['wuid']);return this[_0x7f8f96(0x598)]=_0x29126b,this['logger'][_0x7f8f96(0x29b)](this['instanceName']+'\x20('+this[_0x7f8f96(0x1c1)]['wuid']+_0x7f8f96(0x56d)),this[_0x7f8f96(0x83b)]['verbose'](this[_0x7f8f96(0x181)]+'\x20('+this[_0x7f8f96(0x1c1)]['wuid']+'):\x20'+this[_0x7f8f96(0x598)]),setTimeout(()=>this[_0x7f8f96(0x39c)](),0x7d0),_0x29126b;}catch(_0x136040){let _0x1d2faa='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x2d6feb=_0x136040 instanceof Error?_0x136040[_0x7f8f96(0x517)]:typeof _0x136040==_0x7f8f96(0x4d6)?JSON[_0x7f8f96(0x289)](_0x136040):_0x136040,_0x13c9c0=_0x1d2faa+':\x20'+_0x2d6feb;throw this['logger'][_0x7f8f96(0x2c1)](this['instanceName']+'\x20('+this['instance'][_0x7f8f96(0x2db)]+'):\x20'+_0x13c9c0),new m(_0x13c9c0);}}async[a0_0x4cdcbe(0x43e)](){const _0xbede9c=a0_0x4cdcbe;try{let _0x4cb882=await this['repository'][_0xbede9c(0x670)][_0xbede9c(0x892)](this[_0xbede9c(0x1c1)]['wuid']);return this[_0xbede9c(0x598)]=_0x4cb882,_0x4cb882;}catch(_0x115334){let _0x1a2c86='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x11179f=_0x115334 instanceof Error?_0x115334['message']:typeof _0x115334==_0xbede9c(0x4d6)?JSON[_0xbede9c(0x289)](_0x115334):_0x115334,_0x1849c3=_0x1a2c86+':\x20'+_0x11179f;throw this[_0xbede9c(0x83b)]['error'](this[_0xbede9c(0x181)]+'\x20('+this[_0xbede9c(0x1c1)][_0xbede9c(0x2db)]+_0xbede9c(0x66a)+_0x1849c3),new m(_0x1849c3);}}async['setRestartTimeout'](){const _0x3de780=a0_0x4cdcbe;this[_0x3de780(0x1c1)][_0x3de780(0x293)][_0x3de780(0x245)]&&clearTimeout(this[_0x3de780(0x1c1)]['ScheduleMessage'][_0x3de780(0x245)]),this[_0x3de780(0x1c1)][_0x3de780(0x293)][_0x3de780(0x245)]=setTimeout(()=>{const _0x4baf90=_0x3de780;this[_0x4baf90(0x813)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x4cdcbe(0x813)](){const _0x525de3=a0_0x4cdcbe;Date[_0x525de3(0x472)]()-this[_0x525de3(0x1c1)][_0x525de3(0x293)]['lastSend']>=0x1d4c0&&(this[_0x525de3(0x83b)][_0x525de3(0x29b)](this[_0x525de3(0x181)]+'\x20('+this[_0x525de3(0x1c1)]['wuid']+_0x525de3(0x2e8)),this['instance'][_0x525de3(0x293)]['processingGroup_id']=null,this[_0x525de3(0x1c1)]['ScheduleMessage'][_0x525de3(0x499)]=0x0,this[_0x525de3(0x1c1)][_0x525de3(0x293)][_0x525de3(0x89b)]=0x0,this[_0x525de3(0x370)]=null,this[_0x525de3(0x536)]=null,await this[_0x525de3(0x39c)]());}async[a0_0x4cdcbe(0x39c)](){const _0xce37c4=a0_0x4cdcbe;let _0x4973e1=!0x1;this[_0xce37c4(0x370)]=null,this[_0xce37c4(0x536)]=(0x0,Y['v4'])(),await this[_0xce37c4(0x8b3)]();let _0x2b3b96=()=>{const _0x3eee49=_0xce37c4;this[_0x3eee49(0x83b)][_0x3eee49(0x29b)](this['instanceName']+'\x20('+this[_0x3eee49(0x1c1)][_0x3eee49(0x2db)]+'):\x20this.processingGroup_id:\x20'+this[_0x3eee49(0x1c1)][_0x3eee49(0x293)][_0x3eee49(0x588)]+'\x20saindo\x20da\x20função');},_0x37d568=async()=>{const _0x40de1a=_0xce37c4;this[_0x40de1a(0x83b)][_0x40de1a(0x29b)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x40de1a(0x3d3));let _0x154b03=new Date(Date[_0x40de1a(0x472)]()-0xc*0x3c*0x3c*0x3e8),_0x8ce10e={'where':{'status':{'$in':['scheduled',_0x40de1a(0x6fa)]},'$or':[{'when':{'$lte':new Date(),'$gte':_0x154b03}},{'when':0x0}]}};this[_0x40de1a(0x83b)]['verbose'](this[_0x40de1a(0x181)]+'\x20('+this[_0x40de1a(0x1c1)][_0x40de1a(0x2db)]+_0x40de1a(0x7fa)+JSON[_0x40de1a(0x289)](_0x8ce10e));let _0x1acf85=await this['repository'][_0x40de1a(0x566)]['find'](_0x8ce10e,this[_0x40de1a(0x1c1)]['wuid']);return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x40de1a(0x1c1)][_0x40de1a(0x2db)]+'):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20'+_0x1acf85['length']),_0x1acf85;},_0x733bd4=async _0x4de64f=>{const _0x340c8f=_0xce37c4;let _0x2c9d69=(await this[_0x340c8f(0x671)]['scheduleMessage'][_0x340c8f(0x2f7)](_0x4de64f,this['instance']['wuid']))[_0x340c8f(0x524)]['filter'](_0x32ffe9=>!_0x32ffe9[_0x340c8f(0x49a)]);return _0x2c9d69[_0x340c8f(0x59d)]===0x0?null:_0x2c9d69[_0x340c8f(0x295)]((_0x28569f,_0x2a1380)=>(_0x28569f[_0x340c8f(0x184)]??Number['MAX_SAFE_INTEGER'])<(_0x2a1380[_0x340c8f(0x184)]??Number[_0x340c8f(0x493)])?_0x28569f:_0x2a1380,_0x2c9d69[0x0]);},_0xc36b4e=async _0x1d7863=>{const _0x3a5e46=_0xce37c4;let _0x5ae3f7=Math[_0x3a5e46(0x81b)](Math[_0x3a5e46(0x4c0)]()*0x1389)+0xbb8;for(let _0x50b18b of _0x1d7863){let _0x200722={'_id':_0x50b18b[_0x3a5e46(0x42f)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3a5e46(0x472)]()-0x2710}}]},_0x5942ab={'startSend':Date[_0x3a5e46(0x472)](),'processUUID':this[_0x3a5e46(0x536)]};if(!await this['repository'][_0x3a5e46(0x566)][_0x3a5e46(0x869)](_0x200722,_0x5942ab,this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)]))return;if(!this[_0x3a5e46(0x1c1)][_0x3a5e46(0x293)][_0x3a5e46(0x23f)]){this[_0x3a5e46(0x83b)][_0x3a5e46(0x29b)](this[_0x3a5e46(0x181)]+'\x20('+this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)]+_0x3a5e46(0x580));break;}if(!this['nextMessageId']){let _0x47abdc=await _0x733bd4(_0x50b18b[_0x3a5e46(0x42f)]);this['nextMessageId']=_0x47abdc?_0x47abdc['_id']:null,_0x4973e1=!this[_0x3a5e46(0x370)];}for(;!_0x4973e1;){if(await this[_0x3a5e46(0x199)](),!this['nextMessageId']){let _0x3ee880=await _0x733bd4(_0x50b18b['_id']);if(!_0x3ee880){_0x4973e1=!0x0;break;}this[_0x3a5e46(0x370)]=_0x3ee880[_0x3a5e46(0x42f)];}let _0x41fa6d=_0x50b18b[_0x3a5e46(0x524)][_0x3a5e46(0x521)](_0x33cb62=>_0x33cb62[_0x3a5e46(0x42f)]===this['nextMessageId']);if(!_0x41fa6d){_0x4973e1=!0x0;break;}if(this[_0x3a5e46(0x370)]&&this[_0x3a5e46(0x370)]!==_0x41fa6d[_0x3a5e46(0x42f)]){this['logger']['error'](this['instanceName']+'\x20('+this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)]+_0x3a5e46(0x558)),this[_0x3a5e46(0x83b)][_0x3a5e46(0x29b)](this[_0x3a5e46(0x181)]+'\x20('+this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)]+_0x3a5e46(0x867)+_0x41fa6d[_0x3a5e46(0x42f)]+_0x3a5e46(0x454)),await _0x2c0c84();break;}if(this[_0x3a5e46(0x1c1)]['ScheduleMessage']['lastSend']=Date[_0x3a5e46(0x472)](),this[_0x3a5e46(0x1c1)][_0x3a5e46(0x293)][_0x3a5e46(0x78b)]===_0x41fa6d[_0x3a5e46(0x42f)]){this[_0x3a5e46(0x83b)][_0x3a5e46(0x2c1)](this[_0x3a5e46(0x181)]+'\x20('+this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)]+'):\x20this.instance.ScheduleMessage.lastMessage_id\x20===\x20message._id'),this[_0x3a5e46(0x83b)]['error'](this[_0x3a5e46(0x181)]+'\x20('+this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)]+_0x3a5e46(0x5c8)+_0x41fa6d[_0x3a5e46(0x42f)]+_0x3a5e46(0x306)),await _0x2c0c84();break;}if(this[_0x3a5e46(0x1c1)]['ScheduleMessage'][_0x3a5e46(0x78b)]=_0x41fa6d['_id'],_0x41fa6d[_0x3a5e46(0x49a)]){this[_0x3a5e46(0x83b)][_0x3a5e46(0x29b)](this[_0x3a5e46(0x181)]+'\x20('+this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)]+_0x3a5e46(0x2d3)+_0x41fa6d[_0x3a5e46(0x3e5)]+_0x3a5e46(0x4ff));continue;}if(!this[_0x3a5e46(0x1c1)][_0x3a5e46(0x293)][_0x3a5e46(0x23f)]){this['logger'][_0x3a5e46(0x29b)](this[_0x3a5e46(0x181)]+'\x20('+this['instance'][_0x3a5e46(0x2db)]+_0x3a5e46(0x418));break;}if(!this[_0x3a5e46(0x1c1)][_0x3a5e46(0x293)][_0x3a5e46(0x588)]){this[_0x3a5e46(0x83b)][_0x3a5e46(0x29b)](this['instanceName']+'\x20('+this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)]+_0x3a5e46(0x7f8)+_0x50b18b['_id']+_0x3a5e46(0x690));break;}if(_0x41fa6d[_0x3a5e46(0x551)]==='flow'&&!this[_0x3a5e46(0x598)]?.[_0x3a5e46(0x48b)][_0x3a5e46(0x5c7)]){this[_0x3a5e46(0x83b)][_0x3a5e46(0x2c1)](this[_0x3a5e46(0x181)]+'\x20('+this[_0x3a5e46(0x1c1)]['wuid']+_0x3a5e46(0x394));break;}let _0xdd5b82={'idControl':_0x41fa6d['_id'],'remoteJid':_0x41fa6d[_0x3a5e46(0x3e5)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x3a5e46(0x472)]()},_0x5564d6=null;try{this[_0x3a5e46(0x83b)]['verbose'](this[_0x3a5e46(0x181)]+'\x20('+this['instance'][_0x3a5e46(0x2db)]+_0x3a5e46(0x433)+_0x41fa6d[_0x3a5e46(0x3e5)]);let _0x359cf1=await this[_0x3a5e46(0x778)](_0x41fa6d[_0x3a5e46(0x3e5)],_0x41fa6d);_0xdd5b82['error']=_0x359cf1[_0x3a5e46(0x2c1)],_0xdd5b82['id']=_0x359cf1['error']?null:_0x359cf1['id'],_0xdd5b82[_0x3a5e46(0x56b)]=_0x359cf1[_0x3a5e46(0x2c1)]?_0x359cf1[_0x3a5e46(0x18e)]?_0x359cf1[_0x3a5e46(0x18e)][_0x3a5e46(0x897)]():'':null;let _0xd49f9d=_0x50b18b[_0x3a5e46(0x524)][_0x3a5e46(0x819)](_0x58357d=>_0x58357d[_0x3a5e46(0x42f)]===_0x41fa6d[_0x3a5e46(0x42f)]);_0xd49f9d!==-0x1&&(_0x50b18b[_0x3a5e46(0x524)][_0xd49f9d][_0x3a5e46(0x49a)]=!0x0);let _0x309508={'$push':{'messagesSend':_0xdd5b82},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x37c32a=[{'elem._id':_0x41fa6d[_0x3a5e46(0x42f)]}];if(this[_0x3a5e46(0x83b)][_0x3a5e46(0x29b)](this[_0x3a5e46(0x181)]+'\x20('+this[_0x3a5e46(0x1c1)]['wuid']+_0x3a5e46(0x84d)+_0x41fa6d['_id']),_0x5564d6=await this[_0x3a5e46(0x671)]['scheduleMessage'][_0x3a5e46(0x869)]({'_id':_0x50b18b['_id']},_0x309508,this['instance'][_0x3a5e46(0x2db)],{'arrayFilters':_0x37c32a}),_0x359cf1[_0x3a5e46(0x2c1)]){this['logger'][_0x3a5e46(0x2c1)](this[_0x3a5e46(0x181)]+'\x20('+this['instance'][_0x3a5e46(0x2db)]+_0x3a5e46(0x8d8)+_0x359cf1[_0x3a5e46(0x18e)]);continue;}let _0xc08b09=this[_0x3a5e46(0x631)](_0x50b18b[_0x3a5e46(0x446)],_0x50b18b[_0x3a5e46(0x2ca)]);await this[_0x3a5e46(0x78d)](_0xc08b09);}catch(_0x33629e){this[_0x3a5e46(0x83b)][_0x3a5e46(0x2c1)](this[_0x3a5e46(0x181)]+'\x20('+this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)]+_0x3a5e46(0x7a7)+_0x41fa6d['remoteJid']+':\x20'+(_0x33629e instanceof Error?_0x33629e[_0x3a5e46(0x517)]:JSON[_0x3a5e46(0x289)](_0x33629e,null,0x2))),_0xdd5b82[_0x3a5e46(0x2c1)]=!0x0,_0xdd5b82[_0x3a5e46(0x56b)]=_0x33629e[_0x3a5e46(0x517)];let _0x2b4ed1=_0x50b18b[_0x3a5e46(0x524)][_0x3a5e46(0x819)](_0x3faec8=>_0x3faec8['_id']===_0x41fa6d[_0x3a5e46(0x42f)]);_0x2b4ed1!==-0x1&&(_0x50b18b['messages'][_0x2b4ed1]['triedToSend']=!0x0);let _0x17509d={'$push':{'messagesSend':_0xdd5b82},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x9552f0=[{'elem._id':_0x41fa6d['_id']}];this['logger'][_0x3a5e46(0x29b)](this[_0x3a5e46(0x181)]+'\x20('+this[_0x3a5e46(0x1c1)]['wuid']+_0x3a5e46(0x6a3)+_0x41fa6d[_0x3a5e46(0x42f)]),_0x5564d6=await this['repository']['scheduleMessage'][_0x3a5e46(0x869)]({'_id':_0x50b18b[_0x3a5e46(0x42f)]},_0x17509d,this['instance']['wuid'],{'arrayFilters':_0x9552f0});}finally{if(_0x5564d6&&_0x5564d6[_0x3a5e46(0x4b1)]===_0x3a5e46(0x4f1)){this[_0x3a5e46(0x83b)][_0x3a5e46(0x29b)](this[_0x3a5e46(0x181)]+'\x20('+this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)]+_0x3a5e46(0x7f8)+_0x41fa6d[_0x3a5e46(0x42f)]+_0x3a5e46(0x657));break;}let _0x5bf74f=_0x5564d6[_0x3a5e46(0x524)][_0x3a5e46(0x521)](_0x2d308f=>_0x2d308f[_0x3a5e46(0x42f)]===_0x41fa6d[_0x3a5e46(0x42f)]);if(_0x5bf74f&&!_0x5bf74f[_0x3a5e46(0x49a)]){let _0x315ed4={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x2bed52=[{'elem._id':_0x41fa6d['_id']}];await this[_0x3a5e46(0x671)][_0x3a5e46(0x566)][_0x3a5e46(0x869)]({'_id':_0x5564d6[_0x3a5e46(0x42f)]},_0x315ed4,this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)],{'arrayFilters':_0x2bed52});}if(this[_0x3a5e46(0x370)]=_0x5564d6[_0x3a5e46(0x524)]['length']>0x0?_0x5564d6[_0x3a5e46(0x524)][_0x3a5e46(0x58d)](_0x23c8ae=>!_0x23c8ae[_0x3a5e46(0x49a)])['reduce']((_0x4a91fe,_0x58d465)=>(_0x4a91fe[_0x3a5e46(0x184)]??Number[_0x3a5e46(0x493)])<(_0x58d465[_0x3a5e46(0x184)]??Number['MAX_SAFE_INTEGER'])?_0x4a91fe:_0x58d465,_0x5564d6['messages'][0x0])['_id']:null,_0x4973e1=!this[_0x3a5e46(0x370)],_0x5564d6[_0x3a5e46(0x536)]!==this[_0x3a5e46(0x536)]){this['logger'][_0x3a5e46(0x29b)](this[_0x3a5e46(0x181)]+'\x20('+this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)]+'):\x20Envio\x20interrompido\x20devido\x20a\x20UUID\x20de\x20processo\x20não\x20corresponder.');break;}}}this[_0x3a5e46(0x370)]=null;let _0x30cc37=await this['repository'][_0x3a5e46(0x566)][_0x3a5e46(0x2f7)](_0x50b18b[_0x3a5e46(0x42f)],this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)]);if(_0x4973e1=_0x30cc37[_0x3a5e46(0x524)]['every'](_0x3881fd=>_0x3881fd[_0x3a5e46(0x49a)]),_0x4973e1&&_0x30cc37[_0x3a5e46(0x4b1)]!==_0x3a5e46(0x4f1)){this['instance']['ScheduleMessage']['lastMessage_id']=null;let _0x50d8d3={'$set':{'status':_0x3a5e46(0x5f5)}};await this['repository'][_0x3a5e46(0x566)][_0x3a5e46(0x31b)](_0x30cc37[_0x3a5e46(0x42f)],_0x50d8d3,this[_0x3a5e46(0x1c1)][_0x3a5e46(0x2db)]);}await new Promise(_0x564fdc=>setTimeout(_0x564fdc,_0x5ae3f7)),global['gc']?global['gc']():console[_0x3a5e46(0x3bc)](_0x3a5e46(0x725));}this[_0x3a5e46(0x370)]=null,this[_0x3a5e46(0x536)]=null;},_0x2c0c84=async()=>{const _0x248472=_0xce37c4;let _0xe5aeb9=new Date(Date[_0x248472(0x472)]()-0x2932e00),_0x34170c={'where':{'status':_0x248472(0x297),'$or':[{'when':{'$lte':new Date(),'$gte':_0xe5aeb9}},{'when':0x0}]}},_0x1ab47b=await this[_0x248472(0x671)][_0x248472(0x566)][_0x248472(0x324)](_0x34170c,this[_0x248472(0x1c1)]['wuid']);_0x1ab47b&&_0x1ab47b['when']-Date[_0x248472(0x472)]()<=0x6ddd00?this[_0x248472(0x1c1)][_0x248472(0x293)]['delayMessage']=_0x1ab47b[_0x248472(0x848)]-Date[_0x248472(0x472)]():this[_0x248472(0x1c1)][_0x248472(0x293)][_0x248472(0x89b)]=(0x3c+Math['floor'](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x248472(0x1c1)]['ScheduleMessage'][_0x248472(0x89b)]=Math[_0x248472(0x575)](this[_0x248472(0x1c1)][_0x248472(0x293)][_0x248472(0x89b)],0x1*0x2*0x3e8);let _0x384232=Math[_0x248472(0x300)](this[_0x248472(0x1c1)]['ScheduleMessage'][_0x248472(0x89b)]/0xea60);if(_0x1ab47b){let _0x5c831b=new Date(_0x1ab47b[_0x248472(0x848)])[_0x248472(0x743)]();this[_0x248472(0x83b)][_0x248472(0x29b)](this[_0x248472(0x181)]+'\x20('+this['instance'][_0x248472(0x2db)]+_0x248472(0x3dc)+_0x5c831b+_0x248472(0x559)+_0x384232+_0x248472(0x3fc));}else this[_0x248472(0x83b)][_0x248472(0x29b)](this[_0x248472(0x181)]+'\x20('+this['instance'][_0x248472(0x2db)]+_0x248472(0x617)+_0x384232+_0x248472(0x3fc));setTimeout(()=>this[_0x248472(0x39c)](),this[_0x248472(0x1c1)]['ScheduleMessage']['delayMessage']);};if(this[_0xce37c4(0x1c1)]['ScheduleMessage']['processingGroup_id']){await this[_0xce37c4(0x199)](),_0x2b3b96();return;}if(!this['instance']['ScheduleMessage'][_0xce37c4(0x23f)]){this[_0xce37c4(0x83b)][_0xce37c4(0x29b)](this[_0xce37c4(0x181)]+'\x20('+this[_0xce37c4(0x1c1)][_0xce37c4(0x2db)]+_0xce37c4(0x854)),this[_0xce37c4(0x1c1)][_0xce37c4(0x293)][_0xce37c4(0x588)]=null,this[_0xce37c4(0x1c1)][_0xce37c4(0x293)][_0xce37c4(0x499)]=0x0,this[_0xce37c4(0x1c1)][_0xce37c4(0x293)][_0xce37c4(0x89b)]=0x0,this['instance']['ScheduleMessage']['lastMessage_id']=null;return;}try{let _0x370583=await _0x37d568();_0x370583[_0xce37c4(0x59d)]===0x0?this['logger'][_0xce37c4(0x29b)](this[_0xce37c4(0x181)]+'\x20('+this['instance'][_0xce37c4(0x2db)]+_0xce37c4(0x6ce)):(this[_0xce37c4(0x1c1)][_0xce37c4(0x293)][_0xce37c4(0x588)]=_0x370583[0x0][_0xce37c4(0x42f)],await _0xc36b4e(_0x370583)),await _0x2c0c84(),this[_0xce37c4(0x1c1)]['ScheduleMessage']['processingGroup_id']=null,this[_0xce37c4(0x1c1)]['ScheduleMessage'][_0xce37c4(0x78b)]=null;}catch(_0xf58d4a){this['logger'][_0xce37c4(0x2c1)](_0xce37c4(0x2ce)+(_0xf58d4a instanceof Error?_0xf58d4a[_0xce37c4(0x517)]:JSON[_0xce37c4(0x289)](_0xf58d4a,null,0x2)));}}[a0_0x4cdcbe(0x631)](_0x2be811,_0x495a8c){const _0x323b48=a0_0x4cdcbe;return _0x2be811=Math[_0x323b48(0x575)](0.5,_0x2be811),_0x495a8c=Math[_0x323b48(0x2cd)](Math['max'](0x3,_0x495a8c),0x78),Math[_0x323b48(0x81b)](Math['random']()*(_0x495a8c-_0x2be811+0x1)+_0x2be811)*0x3e8;}['sleep'](_0x47a6ee){return new Promise(_0x509811=>setTimeout(_0x509811,_0x47a6ee));}async['getVariablesChat'](_0x437e57){const _0x3b2815=a0_0x4cdcbe;if(!this['AutomateSystem']&&(await this[_0x3b2815(0x43e)](),!this[_0x3b2815(0x598)]))return null;_0x437e57=this[_0x3b2815(0x5b4)](_0x437e57);let _0x51ce05=await this['repository'][_0x3b2815(0x538)][_0x3b2815(0x324)]({'where':{'_id':_0x437e57}},this['instance'][_0x3b2815(0x2db)]),_0x429f55={};if(_0x51ce05&&_0x51ce05[_0x3b2815(0x236)]){let _0x2e5914=_0x51ce05['leadInfo'];typeof _0x2e5914[_0x3b2815(0x502)]==_0x3b2815(0x18a)&&(_0x429f55['nome']=_0x2e5914[_0x3b2815(0x502)]),typeof _0x2e5914[_0x3b2815(0x5ec)]=='string'&&(_0x429f55[_0x3b2815(0x5ec)]=_0x2e5914['nomecompleto']),typeof _0x2e5914[_0x3b2815(0x554)]==_0x3b2815(0x18a)&&(_0x429f55[_0x3b2815(0x554)]=_0x2e5914[_0x3b2815(0x554)]),typeof _0x2e5914[_0x3b2815(0x812)]=='string'&&(_0x429f55[_0x3b2815(0x812)]=_0x2e5914[_0x3b2815(0x812)]),typeof _0x2e5914[_0x3b2815(0x4b1)]==_0x3b2815(0x18a)&&(_0x429f55[_0x3b2815(0x4b1)]=_0x2e5914['status']),typeof _0x2e5914[_0x3b2815(0x488)]=='string'&&(_0x429f55[_0x3b2815(0x488)]=_0x2e5914[_0x3b2815(0x488)]),typeof _0x2e5914[_0x3b2815(0x2b7)]==_0x3b2815(0x18a)&&(_0x429f55[_0x3b2815(0x2b7)]=_0x2e5914['responsavelid']),Array['isArray'](_0x2e5914[_0x3b2815(0x86a)])&&(_0x429f55[_0x3b2815(0x86a)]=_0x2e5914[_0x3b2815(0x86a)][_0x3b2815(0x481)](',\x20')),Array[_0x3b2815(0x2cf)](_0x2e5914['etiquetas'])&&(_0x429f55['etiquetas']=_0x2e5914[_0x3b2815(0x88d)][_0x3b2815(0x481)](',\x20'));}return _0x51ce05&&_0x51ce05[_0x3b2815(0x236)]&&_0x51ce05[_0x3b2815(0x236)][_0x3b2815(0x82a)]&&_0x51ce05[_0x3b2815(0x236)]['customFields'][_0x3b2815(0x1d7)](_0x38bda4=>{const _0x435ae6=_0x3b2815;let _0x2cfe1d=this['AutomateSystem']?.[_0x435ae6(0x82a)][_0x435ae6(0x521)](_0x5792fc=>_0x5792fc[_0x435ae6(0x42f)]===_0x38bda4[_0x435ae6(0x42f)]);_0x2cfe1d&&(_0x429f55[_0x2cfe1d[_0x435ae6(0x5cf)]]=_0x38bda4[_0x435ae6(0x863)]);}),_0x429f55;}async[a0_0x4cdcbe(0x88b)](_0x109f83,_0x5a5f54){const _0x5a3997=a0_0x4cdcbe;try{let _0x452f26=await this[_0x5a3997(0x64d)](_0x5a5f54);return this[_0x5a3997(0x7b0)](_0x109f83,_0x452f26);}catch(_0x57e8d9){return this[_0x5a3997(0x83b)][_0x5a3997(0x2c1)](_0x5a3997(0x3d9)+_0x5a5f54+':\x20'+_0x57e8d9),_0x109f83;}}async[a0_0x4cdcbe(0x8b3)](){const _0x3189de=a0_0x4cdcbe;let _0x549a8c=async(_0x236499,_0x5cf847)=>{const _0x35f161=a0_0x5e25;let _0x45e036=(await this['repository'][_0x35f161(0x566)][_0x35f161(0x521)]({'where':{'type':_0x236499}},this['instance'][_0x35f161(0x2db)]))[_0x35f161(0x79d)](async _0x227284=>{const _0x19109c=_0x35f161;let _0x4de09c=_0x5cf847(_0x227284),_0x408bb7=_0x3daf02=>/^\d+$/[_0x19109c(0x7f5)](_0x3daf02),_0x3d10c8=_0x227284['remoteJids'][_0x19109c(0x58d)](_0x5595f0=>_0x5595f0['endsWith'](_0x19109c(0x7c9))?_0x5595f0['length']>0x19:_0x5595f0[_0x19109c(0x80c)]('@g.us')?_0x5595f0[_0x19109c(0x59d)]>0xf:_0x408bb7(_0x5595f0)?_0x5595f0['length']>=0xb:!0x1)[_0x19109c(0x79d)](_0x38daf8=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x227284['_id'],'type':_0x4de09c,'remoteJid':_0x38daf8,'flow':_0x227284[_0x19109c(0x36d)],'text':_0x227284[_0x19109c(0x517)]?.[_0x19109c(0x2a8)],'delay':_0x227284[_0x19109c(0x517)]?.[_0x19109c(0x25a)],'urlOrBase64':_0x227284['message']?.[_0x19109c(0x56a)],'linkPreview':_0x227284['message']?.['linkPreview'],'fileName':_0x227284[_0x19109c(0x517)]?.[_0x19109c(0x7eb)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x19109c(0x671)][_0x19109c(0x566)][_0x19109c(0x31b)](_0x227284[_0x19109c(0x42f)],{'$set':{'messages':_0x3d10c8},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this['instance']['wuid']);}catch(_0x16d751){console[_0x19109c(0x2c1)]('Erro\x20ao\x20atualizar\x20agendamento\x20'+_0x227284[_0x19109c(0x42f)]+':',_0x16d751);}});await Promise[_0x35f161(0x653)](_0x45e036);};await _0x549a8c('text',_0x50ce2f=>_0x3189de(0x2a8)),await _0x549a8c('media',_0x220964=>_0x220964['message']?.[_0x3189de(0x87a)]||'media'),await _0x549a8c('audio',_0x5c6498=>'audio'),await _0x549a8c(_0x3189de(0x357),_0x30a32f=>_0x3189de(0x357)),await _0x549a8c(_0x3189de(0x1d4),_0x4e12bb=>'image'),await _0x549a8c(_0x3189de(0x859),_0x1dd804=>_0x3189de(0x859)),await _0x549a8c(_0x3189de(0x3b9),_0x1c117d=>_0x3189de(0x3b9)),this[_0x3189de(0x83b)][_0x3189de(0x29b)](this[_0x3189de(0x181)]+'\x20('+this[_0x3189de(0x1c1)][_0x3189de(0x2db)]+_0x3189de(0x37b));}async['editScheduleMessage'](_0x164a21){const _0x59150b=a0_0x4cdcbe;try{if(this['logger'][_0x59150b(0x29b)](this['instanceName']+'\x20('+this[_0x59150b(0x1c1)][_0x59150b(0x2db)]+_0x59150b(0x866)),_0x164a21[_0x59150b(0x42f)]||(_0x164a21['_id']=(0x0,Y['v4'])()),this['instance'][_0x59150b(0x293)][_0x59150b(0x588)]===_0x164a21[_0x59150b(0x42f)]?.['toString']()&&_0x164a21[_0x59150b(0x4b1)]!==_0x59150b(0x4f1))throw new Error('Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.');if(_0x164a21[_0x59150b(0x5f7)]&&_0x164a21['_id']){let _0x1c7560=await this['repository'][_0x59150b(0x566)][_0x59150b(0x4f7)](_0x164a21[_0x59150b(0x42f)],this[_0x59150b(0x1c1)][_0x59150b(0x2db)]);return setTimeout(()=>this[_0x59150b(0x39c)](),0x7d0),_0x1c7560;}let _0x408f98=null;if(_0x164a21[_0x59150b(0x42f)]&&(_0x408f98=await this['repository'][_0x59150b(0x566)][_0x59150b(0x2f7)](_0x164a21['_id'],this[_0x59150b(0x1c1)][_0x59150b(0x2db)])),_0x408f98){let {_id:_0x18883d,owner:_0x2a3cfe,messages:_0x41374b,..._0x4df312}=_0x164a21;if(_0x41374b){let _0x590187=_0x41374b[_0x59150b(0x58d)](_0x13d14b=>!_0x13d14b[_0x59150b(0x42f)]),_0xfc57a0=_0x41374b['filter'](_0x1934e6=>_0x1934e6[_0x59150b(0x42f)]&&!_0x1934e6[_0x59150b(0x5f7)]),_0x46ff1c=_0x41374b[_0x59150b(0x58d)](_0x28959e=>_0x28959e[_0x59150b(0x42f)]&&_0x28959e[_0x59150b(0x5f7)]);if(_0x590187['length']>0x0&&await this[_0x59150b(0x865)](_0x164a21[_0x59150b(0x42f)],_0x590187),_0xfc57a0['length']>0x0&&await this[_0x59150b(0x7b7)]({'_id':_0x164a21[_0x59150b(0x42f)],'messages':_0xfc57a0}),_0x46ff1c[_0x59150b(0x59d)]>0x0){let _0x4efbd3=_0x46ff1c[_0x59150b(0x79d)](_0x150931=>({'updateOne':{'filter':{'_id':_0x164a21['_id']},'update':{'$pull':{'messages':{'_id':_0x150931[_0x59150b(0x42f)]}}}}}));await this['repository'][_0x59150b(0x566)][_0x59150b(0x1ad)](_0x4efbd3,this[_0x59150b(0x1c1)][_0x59150b(0x2db)]);}}let _0x5723f7={'$set':{..._0x4df312,'status':_0x164a21['status']||_0x408f98['status']}},_0x5c3fa9=await this[_0x59150b(0x671)][_0x59150b(0x566)][_0x59150b(0x31b)](_0x164a21[_0x59150b(0x42f)],_0x5723f7,this[_0x59150b(0x1c1)][_0x59150b(0x2db)]);return _0x5c3fa9&&(this['reorderMessages'](_0x5c3fa9[_0x59150b(0x524)]),await this[_0x59150b(0x671)][_0x59150b(0x566)][_0x59150b(0x31b)](_0x5c3fa9['_id'],{'$set':{'messages':_0x5c3fa9[_0x59150b(0x524)]}},this[_0x59150b(0x1c1)][_0x59150b(0x2db)])),setTimeout(()=>this[_0x59150b(0x39c)](),0x7d0),await this[_0x59150b(0x8b3)](),_0x5c3fa9;}else{_0x164a21[_0x59150b(0x3c1)]=this[_0x59150b(0x1c1)][_0x59150b(0x2db)],_0x164a21[_0x59150b(0x524)]&&_0x164a21[_0x59150b(0x524)][_0x59150b(0x1d7)](_0x3bf9e0=>{const _0x9563b0=_0x59150b;_0x3bf9e0['_id']||(_0x3bf9e0[_0x9563b0(0x42f)]=(0x0,Y['v4'])()),_0x3bf9e0[_0x9563b0(0x8b2)]||(_0x3bf9e0['idSchedule']=_0x164a21[_0x9563b0(0x42f)]),delete _0x3bf9e0[_0x9563b0(0x49a)];});let _0x46fb45=await this['repository'][_0x59150b(0x566)][_0x59150b(0x68e)](_0x164a21,this[_0x59150b(0x1c1)][_0x59150b(0x2db)]);return _0x46fb45&&(this[_0x59150b(0x8db)](_0x46fb45[_0x59150b(0x524)]),await this[_0x59150b(0x671)][_0x59150b(0x566)]['updateOneById'](_0x46fb45['_id'],{'$set':{'messages':_0x46fb45[_0x59150b(0x524)]}},this['instance'][_0x59150b(0x2db)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x46fb45;}}catch(_0x49f827){let _0x1ad76c='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0x1df979=_0x49f827 instanceof Error?_0x49f827[_0x59150b(0x517)]:typeof _0x49f827==_0x59150b(0x4d6)?JSON['stringify'](_0x49f827):_0x49f827,_0x5870c7=_0x1ad76c+':\x20'+_0x1df979;throw this[_0x59150b(0x83b)][_0x59150b(0x2c1)](this['instanceName']+'\x20('+this[_0x59150b(0x1c1)][_0x59150b(0x2db)]+'):\x20'+_0x5870c7),new m(_0x5870c7);}}async[a0_0x4cdcbe(0x865)](_0x8dbb3b,_0x1bbb1e){const _0x5a4700=a0_0x4cdcbe;try{this[_0x5a4700(0x83b)][_0x5a4700(0x29b)](this[_0x5a4700(0x181)]+'\x20('+this[_0x5a4700(0x1c1)][_0x5a4700(0x2db)]+_0x5a4700(0x8d9)),_0x1bbb1e[_0x5a4700(0x1d7)](_0x1c9ccc=>{const _0x3b5f00=_0x5a4700;_0x1c9ccc['_id']||(_0x1c9ccc['_id']=(0x0,Y['v4'])()),_0x1c9ccc['idSchedule']||(_0x1c9ccc[_0x3b5f00(0x8b2)]=_0x8dbb3b),delete _0x1c9ccc[_0x3b5f00(0x49a)];});let _0x1695f6={'$push':{'messages':{'$each':_0x1bbb1e}}},_0x2ca0b5=await this['repository'][_0x5a4700(0x566)][_0x5a4700(0x31b)](_0x8dbb3b,_0x1695f6,this[_0x5a4700(0x1c1)][_0x5a4700(0x2db)]);return _0x2ca0b5&&(this[_0x5a4700(0x8db)](_0x2ca0b5['messages']),await this[_0x5a4700(0x671)][_0x5a4700(0x566)][_0x5a4700(0x31b)](_0x2ca0b5[_0x5a4700(0x42f)],{'$set':{'messages':_0x2ca0b5[_0x5a4700(0x524)]}},this[_0x5a4700(0x1c1)][_0x5a4700(0x2db)])),_0x2ca0b5;}catch(_0x407f50){let _0x31aa77=_0x5a4700(0x7e7),_0x4aed71=_0x407f50 instanceof Error?_0x407f50[_0x5a4700(0x517)]:typeof _0x407f50=='object'?JSON[_0x5a4700(0x289)](_0x407f50):_0x407f50,_0x2e450a=_0x31aa77+':\x20'+_0x4aed71;throw this[_0x5a4700(0x83b)][_0x5a4700(0x2c1)](this['instanceName']+'\x20('+this[_0x5a4700(0x1c1)][_0x5a4700(0x2db)]+_0x5a4700(0x66a)+_0x2e450a),new m(_0x2e450a);}}async[a0_0x4cdcbe(0x7b7)](_0xb9521d){const _0x1278c1=a0_0x4cdcbe;try{if(this[_0x1278c1(0x83b)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1278c1(0x86e)),!_0xb9521d['_id']||!_0xb9521d[_0x1278c1(0x524)])throw new Error(_0x1278c1(0x886));let _0x5c2f82=_0xb9521d[_0x1278c1(0x42f)],_0x12d3b1=_0xb9521d['messages'],_0x1ab84f=_0x12d3b1[_0x1278c1(0x58d)](_0x1c3beb=>!_0x1c3beb[_0x1278c1(0x5f7)])[_0x1278c1(0x79d)](_0x115e38=>{const _0x4720b7=_0x1278c1;let _0x5e85aa=_0x115e38['_id'];if(!_0x5e85aa)throw new Error(_0x4720b7(0x67b));return _0x115e38['idSchedule']||(_0x115e38[_0x4720b7(0x8b2)]=_0x5c2f82),delete _0x115e38[_0x4720b7(0x49a)],{'updateOne':{'filter':{'_id':_0x5c2f82,'messages._id':_0x5e85aa},'update':{'$set':{'messages.$[elem]':_0x115e38}},'arrayFilters':[{'elem._id':_0x5e85aa}]}};}),_0x31740c=_0x12d3b1['filter'](_0xc44f07=>_0xc44f07['delete'])[_0x1278c1(0x79d)](_0x2b7399=>{const _0x5c4d47=_0x1278c1;let _0x276676=_0x2b7399[_0x5c4d47(0x42f)];if(!_0x276676)throw new Error(_0x5c4d47(0x471));return{'updateOne':{'filter':{'_id':_0x5c2f82},'update':{'$pull':{'messages':{'_id':_0x276676}}}}};}),_0x4ded0e=[..._0x1ab84f,..._0x31740c],_0x12b2cb=await this[_0x1278c1(0x671)][_0x1278c1(0x566)][_0x1278c1(0x1ad)](_0x4ded0e,this[_0x1278c1(0x1c1)][_0x1278c1(0x2db)]),_0x434210=await this[_0x1278c1(0x671)][_0x1278c1(0x566)][_0x1278c1(0x2f7)](_0x5c2f82,this[_0x1278c1(0x1c1)][_0x1278c1(0x2db)]);return _0x434210&&(this[_0x1278c1(0x8db)](_0x434210['messages']),await this['repository'][_0x1278c1(0x566)][_0x1278c1(0x31b)](_0x434210[_0x1278c1(0x42f)],{'$set':{'messages':_0x434210[_0x1278c1(0x524)]}},this[_0x1278c1(0x1c1)][_0x1278c1(0x2db)])),_0x434210;}catch(_0x4cc2d6){let _0x11fa38=_0x1278c1(0x582),_0x48a23a=_0x4cc2d6 instanceof Error?_0x4cc2d6[_0x1278c1(0x517)]:typeof _0x4cc2d6==_0x1278c1(0x4d6)?JSON[_0x1278c1(0x289)](_0x4cc2d6):_0x4cc2d6,_0x1dfc60=_0x11fa38+':\x20'+_0x48a23a;throw this['logger'][_0x1278c1(0x2c1)](this['instanceName']+'\x20('+this[_0x1278c1(0x1c1)][_0x1278c1(0x2db)]+_0x1278c1(0x66a)+_0x1dfc60),new m(_0x1dfc60);}}async[a0_0x4cdcbe(0x252)](){const _0x3a4702=a0_0x4cdcbe;try{let _0x10c903={'status':_0x3a4702(0x5f5)},_0x909267=await this[_0x3a4702(0x671)][_0x3a4702(0x566)][_0x3a4702(0x334)](_0x10c903,this[_0x3a4702(0x1c1)][_0x3a4702(0x2db)]);if(!_0x909267['error'])this[_0x3a4702(0x83b)][_0x3a4702(0x29b)](this['instanceName']+'\x20('+this[_0x3a4702(0x1c1)][_0x3a4702(0x2db)]+'):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.');else throw new Error(_0x909267['error'][_0x3a4702(0x517)]||_0x3a4702(0x3bd));return this['getScheduleMessage']();}catch(_0x18d082){let _0x2f6e50=_0x3a4702(0x6f0),_0x383f2a=_0x18d082 instanceof Error?_0x18d082[_0x3a4702(0x517)]:typeof _0x18d082==_0x3a4702(0x4d6)?JSON[_0x3a4702(0x289)](_0x18d082):_0x18d082,_0x4af086=_0x2f6e50+':\x20'+_0x383f2a;throw this['logger']['error'](this[_0x3a4702(0x181)]+'\x20('+this[_0x3a4702(0x1c1)][_0x3a4702(0x2db)]+_0x3a4702(0x66a)+_0x4af086),new m(_0x4af086);}}async[a0_0x4cdcbe(0x8da)](){const _0x37f986=a0_0x4cdcbe;try{return await this[_0x37f986(0x671)][_0x37f986(0x566)][_0x37f986(0x521)]({'where':{}},this[_0x37f986(0x1c1)]['wuid']);}catch(_0x599367){let _0x51ff89=_0x37f986(0x314),_0x36772c=_0x599367 instanceof Error?_0x599367[_0x37f986(0x517)]:typeof _0x599367==_0x37f986(0x4d6)?JSON[_0x37f986(0x289)](_0x599367):_0x599367,_0x3649a5=_0x51ff89+':\x20'+_0x36772c;throw this[_0x37f986(0x83b)]['error'](this[_0x37f986(0x181)]+'\x20('+this[_0x37f986(0x1c1)][_0x37f986(0x2db)]+_0x37f986(0x66a)+_0x3649a5),new m(_0x3649a5);}}['reorderMessages'](_0x5dbbcb){const _0x5ea38e=a0_0x4cdcbe;_0x5dbbcb[_0x5ea38e(0x535)]((_0x30695b,_0x5d86a5)=>_0x30695b[_0x5ea38e(0x184)]-_0x5d86a5['order']),_0x5dbbcb[_0x5ea38e(0x1d7)]((_0xf120e4,_0x395d9e)=>{const _0x358159=_0x5ea38e;_0xf120e4[_0x358159(0x184)]=_0x395d9e+0x1;});}async[a0_0x4cdcbe(0x778)](_0x180f3d,_0x10493d){const _0x44a93f=a0_0x4cdcbe;try{if(!_0x10493d)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x44a93f(0x1c1)][_0x44a93f(0x2db)]+_0x44a93f(0x386)),{'error':!0x0,'detail':_0x44a93f(0x70d)};if(_0x10493d['type']===_0x44a93f(0x357)&&!this['AutomateSystem']?.[_0x44a93f(0x48b)][_0x44a93f(0x5c7)])return this['logger'][_0x44a93f(0x2c1)](this['instanceName']+'\x20('+this[_0x44a93f(0x1c1)][_0x44a93f(0x2db)]+_0x44a93f(0x774)),{'error':!0x0,'detail':_0x44a93f(0x602)};switch(_0x10493d[_0x44a93f(0x551)]){case _0x44a93f(0x2a8):return await this[_0x44a93f(0x1ff)](_0x10493d,_0x180f3d);case _0x44a93f(0x859):case _0x44a93f(0x1d4):case _0x44a93f(0x3b9):return await this[_0x44a93f(0x478)](_0x10493d,_0x180f3d);case _0x44a93f(0x6d5):return await this['scheduleSendAudio'](_0x10493d,_0x180f3d);case'flow':let _0x58ad81=new He();return _0x58ad81[_0x44a93f(0x5cf)]=_0x10493d['flow'],_0x58ad81['remoteJid']=_0x180f3d,await this['startFlow'](_0x58ad81);default:return this['logger'][_0x44a93f(0x2c1)](this[_0x44a93f(0x181)]+'\x20('+this[_0x44a93f(0x1c1)][_0x44a93f(0x2db)]+'):\x20Comando\x20desconhecido:\x20'+_0x10493d[_0x44a93f(0x551)]),{'error':!0x0,'detail':_0x44a93f(0x1a4)};}}catch(_0x1b6c54){return this[_0x44a93f(0x83b)][_0x44a93f(0x2c1)](this[_0x44a93f(0x181)]+'\x20('+this[_0x44a93f(0x1c1)]['wuid']+_0x44a93f(0x65a)+(_0x1b6c54 instanceof Error?_0x1b6c54[_0x44a93f(0x517)]:JSON['stringify'](_0x1b6c54,null,0x2))),{'error':!0x0,'detail':_0x1b6c54['message']};}}async[a0_0x4cdcbe(0x1ff)](_0x589247,_0x4e99ca){const _0x445998=a0_0x4cdcbe;if(this[_0x445998(0x83b)][_0x445998(0x29b)](this['instanceName']+'\x20('+this[_0x445998(0x1c1)]['wuid']+_0x445998(0x766)+_0x4e99ca+'\x27'),!_0x589247['text']||_0x589247[_0x445998(0x2a8)][_0x445998(0x59d)]===0x0)return{'error':!0x0,'detail':_0x445998(0x7ed)};let _0x9ea02e=await this[_0x445998(0x88b)](_0x589247[_0x445998(0x2a8)],_0x4e99ca),_0x5f029f={'number':_0x4e99ca,'options':{'delay':_0x589247['delay'],'linkPreview':_0x589247[_0x445998(0x737)]},'textMessage':{'text':_0x9ea02e}},_0xb10854=null;try{let _0x1f7221=await this[_0x445998(0x4c5)](_0x5f029f);if(_0x1f7221&&_0x1f7221[_0x445998(0x4b1)])return{'error':!0x1,'id':_0x1f7221['key']['id']};_0xb10854=JSON[_0x445998(0x289)](_0x1f7221),this[_0x445998(0x83b)][_0x445998(0x29b)](this[_0x445998(0x181)]+'\x20('+this[_0x445998(0x1c1)][_0x445998(0x2db)]+'):\x20'+_0xb10854);}catch(_0x19deaa){this[_0x445998(0x83b)][_0x445998(0x2c1)](this[_0x445998(0x181)]+'\x20('+this[_0x445998(0x1c1)][_0x445998(0x2db)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x19deaa instanceof Error?_0x19deaa[_0x445998(0x517)]:JSON['stringify'](_0x19deaa,null,0x2))),_0xb10854=_0x19deaa[_0x445998(0x517)];}if(_0xb10854)return{'error':!0x0,'detail':(typeof _0xb10854==_0x445998(0x4d6)?JSON[_0x445998(0x289)](_0xb10854,null,0x2):_0xb10854)[_0x445998(0x1a6)](/[\[\]{}\n]/g,'\x20')[_0x445998(0x1a6)](/  +/g,'\x20')};}async[a0_0x4cdcbe(0x478)](_0x11e89b,_0x19fb81){const _0x1dd082=a0_0x4cdcbe;this['logger']['verbose'](this[_0x1dd082(0x181)]+'\x20('+this[_0x1dd082(0x1c1)]['wuid']+_0x1dd082(0x4cb)+_0x19fb81+'\x27');let _0x171371;_0x11e89b[_0x1dd082(0x2a8)]&&_0x11e89b[_0x1dd082(0x2a8)]['length']>0x0&&(_0x171371=await this[_0x1dd082(0x88b)](_0x11e89b['text'],_0x19fb81));let _0x5d113e={'number':_0x19fb81,'options':{'delay':_0x11e89b[_0x1dd082(0x25a)],'linkPreview':_0x11e89b[_0x1dd082(0x737)]},'mediaMessage':{'mediatype':_0x11e89b[_0x1dd082(0x551)],'caption':_0x171371,'media':_0x11e89b['urlOrBase64']}},_0x477244=null;try{let _0x242787=await this[_0x1dd082(0x75d)](_0x5d113e);if(_0x242787&&_0x242787[_0x1dd082(0x4b1)])return{'error':!0x1,'id':_0x242787[_0x1dd082(0x786)]['id']};_0x477244=JSON[_0x1dd082(0x289)](_0x242787),this['logger']['verbose'](this[_0x1dd082(0x181)]+'\x20('+this['instance'][_0x1dd082(0x2db)]+_0x1dd082(0x66a)+_0x477244);}catch(_0x606340){this['logger'][_0x1dd082(0x2c1)](this['instanceName']+'\x20('+this[_0x1dd082(0x1c1)]['wuid']+_0x1dd082(0x569)+(_0x606340 instanceof Error?_0x606340[_0x1dd082(0x517)]:JSON[_0x1dd082(0x289)](_0x606340,null,0x2))),_0x477244=_0x606340['message'];}if(_0x477244)return{'error':!0x0,'detail':(typeof _0x477244=='object'?JSON[_0x1dd082(0x289)](_0x477244,null,0x2):_0x477244)[_0x1dd082(0x1a6)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x4cdcbe(0x18f)](_0x5a86eb,_0x1598c8){const _0x4a7b6e=a0_0x4cdcbe;this[_0x4a7b6e(0x83b)][_0x4a7b6e(0x29b)](this[_0x4a7b6e(0x181)]+'\x20('+this[_0x4a7b6e(0x1c1)][_0x4a7b6e(0x2db)]+_0x4a7b6e(0x3b8)+_0x1598c8+'\x27');let _0x295c5c={'number':_0x1598c8,'options':{'delay':_0x5a86eb['delay']},'audioMessage':{'audio':_0x5a86eb[_0x4a7b6e(0x56a)]}},_0x262740=null;try{let _0xaf83eb=await this[_0x4a7b6e(0x5a7)](_0x295c5c);if(_0xaf83eb&&_0xaf83eb[_0x4a7b6e(0x4b1)])return{'error':!0x1,'id':_0xaf83eb[_0x4a7b6e(0x786)]['id']};_0x262740=JSON[_0x4a7b6e(0x289)](_0xaf83eb),this[_0x4a7b6e(0x83b)][_0x4a7b6e(0x29b)](this[_0x4a7b6e(0x181)]+'\x20('+this['instance'][_0x4a7b6e(0x2db)]+_0x4a7b6e(0x66a)+_0x262740);}catch(_0x2d572e){this[_0x4a7b6e(0x83b)][_0x4a7b6e(0x2c1)](this[_0x4a7b6e(0x181)]+'\x20('+this[_0x4a7b6e(0x1c1)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x2d572e instanceof Error?_0x2d572e[_0x4a7b6e(0x517)]:JSON[_0x4a7b6e(0x289)](_0x2d572e,null,0x2))),_0x262740=_0x2d572e[_0x4a7b6e(0x517)];}if(_0x262740)return{'error':!0x0,'detail':(typeof _0x262740=='object'?JSON[_0x4a7b6e(0x289)](_0x262740,null,0x2):_0x262740)[_0x4a7b6e(0x1a6)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x4cdcbe(0x216)](_0x4aa070){const _0x1c6b5a=a0_0x4cdcbe;try{return await this[_0x1c6b5a(0x811)][_0x1c6b5a(0x8c5)](_0x4aa070[_0x1c6b5a(0x30d)],_0x4aa070[_0x1c6b5a(0x85d)]),{'update':_0x1c6b5a(0x3bb)};}catch(_0x34dd5e){let _0x4c0c03=_0x1c6b5a(0x700),_0xf4ce6d=_0x34dd5e instanceof Error?_0x34dd5e['message']:typeof _0x34dd5e==_0x1c6b5a(0x4d6)?JSON[_0x1c6b5a(0x289)](_0x34dd5e):_0x34dd5e,_0x2f924a=_0x4c0c03+':\x20'+_0xf4ce6d;throw this[_0x1c6b5a(0x83b)][_0x1c6b5a(0x2c1)](this[_0x1c6b5a(0x181)]+'\x20('+this[_0x1c6b5a(0x1c1)][_0x1c6b5a(0x2db)]+_0x1c6b5a(0x66a)+_0x2f924a),new O(_0x2f924a);}}async[a0_0x4cdcbe(0x27c)](_0x2a2668){const _0x5d9d3a=a0_0x4cdcbe;try{return await this[_0x5d9d3a(0x811)][_0x5d9d3a(0x40b)](_0x2a2668[_0x5d9d3a(0x30d)],_0x2a2668['name']),{'update':_0x5d9d3a(0x3bb)};}catch(_0x4c298f){let _0x27d885='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x13239e=_0x4c298f instanceof Error?_0x4c298f[_0x5d9d3a(0x517)]:typeof _0x4c298f==_0x5d9d3a(0x4d6)?JSON[_0x5d9d3a(0x289)](_0x4c298f):_0x4c298f,_0x2337c4=_0x27d885+':\x20'+_0x13239e;throw this[_0x5d9d3a(0x83b)][_0x5d9d3a(0x2c1)](this['instanceName']+'\x20('+this[_0x5d9d3a(0x1c1)][_0x5d9d3a(0x2db)]+'):\x20'+_0x2337c4),new O(_0x2337c4);}}async['toggleEphemeral'](_0x878e51){const _0x919c96=a0_0x4cdcbe;try{let _0x2809cc=await this['client'][_0x919c96(0x894)](_0x878e51[_0x919c96(0x30d)],_0x878e51['expiration']);return{'success':!0x0};}catch(_0x264ae0){let _0x2772ae='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x4164f7=_0x264ae0 instanceof Error?_0x264ae0[_0x919c96(0x517)]:typeof _0x264ae0==_0x919c96(0x4d6)?JSON['stringify'](_0x264ae0):_0x264ae0,_0x1a8ea5=_0x2772ae+':\x20'+_0x4164f7;throw this[_0x919c96(0x83b)][_0x919c96(0x2c1)](this[_0x919c96(0x181)]+'\x20('+this['instance']['wuid']+_0x919c96(0x66a)+_0x1a8ea5),new O(_0x1a8ea5);}}async[a0_0x4cdcbe(0x180)](_0x584c79){const _0x121028=a0_0x4cdcbe;try{return await this[_0x121028(0x811)][_0x121028(0x310)](_0x584c79[_0x121028(0x30d)],_0x584c79[_0x121028(0x1a0)]),{'update':'success'};}catch(_0x5ec77d){let _0xb27536=_0x121028(0x871),_0x9179ff=_0x5ec77d instanceof Error?_0x5ec77d[_0x121028(0x517)]:typeof _0x5ec77d==_0x121028(0x4d6)?JSON[_0x121028(0x289)](_0x5ec77d):_0x5ec77d,_0x1c6202=_0xb27536+':\x20'+_0x9179ff;throw this['logger'][_0x121028(0x2c1)](this[_0x121028(0x181)]+'\x20('+this['instance'][_0x121028(0x2db)]+_0x121028(0x66a)+_0x1c6202),new O(_0x1c6202);}}async['updateGroupPicture'](_0x5ec7be){const _0x460695=a0_0x4cdcbe;try{let _0x3fcfbb;if((0x0,L[_0x460695(0x4a6)])(_0x5ec7be[_0x460695(0x1d4)])){let _0x38e705=new Date()[_0x460695(0x5ea)](),_0x898330=_0x5ec7be[_0x460695(0x1d4)]+'?timestamp='+_0x38e705;_0x3fcfbb=(await ee['default'][_0x460695(0x2df)](_0x898330,{'responseType':_0x460695(0x7d0)}))[_0x460695(0x599)];}else{if((0x0,L[_0x460695(0x733)])(_0x5ec7be[_0x460695(0x1d4)]))_0x3fcfbb=Buffer[_0x460695(0x1d1)](_0x5ec7be['image'],'base64');else throw new m(_0x460695(0x5bb));}return await this['client']['updateProfilePicture'](_0x5ec7be[_0x460695(0x30d)],_0x3fcfbb),{'update':_0x460695(0x3bb)};}catch(_0x177a69){let _0x1ceb10=_0x460695(0x29e),_0x158aae=_0x177a69 instanceof Error?_0x177a69[_0x460695(0x517)]:typeof _0x177a69=='object'?JSON[_0x460695(0x289)](_0x177a69):_0x177a69,_0x5051a1=_0x1ceb10+':\x20'+_0x158aae;throw this['logger']['error'](this[_0x460695(0x181)]+'\x20('+this[_0x460695(0x1c1)][_0x460695(0x2db)]+_0x460695(0x66a)+_0x5051a1),new O(_0x5051a1);}}},Gt=class u{constructor(_0x4ca4e0,_0x3ec745,_0xc2364c){const _0x6ff5b3=a0_0x4cdcbe;this['eventEmitter']=_0x4ca4e0,this[_0x6ff5b3(0x5fa)]=_0x3ec745,this[_0x6ff5b3(0x671)]=_0xc2364c,this['db']={},this[_0x6ff5b3(0x469)]={},this[_0x6ff5b3(0x83b)]=new $(u[_0x6ff5b3(0x5cf)]),this[_0x6ff5b3(0x638)]={},(this[_0x6ff5b3(0x640)](),this[_0x6ff5b3(0x410)](),Object[_0x6ff5b3(0x4dc)](this['db'],_0x3ec745[_0x6ff5b3(0x2df)](_0x6ff5b3(0x3e1))),Object[_0x6ff5b3(0x4dc)](this[_0x6ff5b3(0x469)],_0x3ec745[_0x6ff5b3(0x2df)](_0x6ff5b3(0x48d))),this['dbInstance']=this['db'][_0x6ff5b3(0x8dc)]?this['repository'][_0x6ff5b3(0x75c)]?.['db'](this['db']['CONNECTION'][_0x6ff5b3(0x746)]+_0x6ff5b3(0x61b)):void 0x0,this[_0x6ff5b3(0x204)]=this[_0x6ff5b3(0x469)]['ENABLED']?new ge(this['redis']):void 0x0);}async[a0_0x4cdcbe(0x714)](_0x30fcb8){const _0x5e7530=a0_0x4cdcbe;if(_0x30fcb8&&!this[_0x5e7530(0x638)][_0x30fcb8])throw new q(_0x5e7530(0x37c)+_0x30fcb8+'\x22\x20not\x20found');let _0x52822c=[];for await(let [_0x26b16c,_0x51bc7e]of Object[_0x5e7530(0x659)](this[_0x5e7530(0x638)]))if(_0x51bc7e&&_0x51bc7e[_0x5e7530(0x62f)]['state']==='open'){let _0x310b85=await this['repository'][_0x5e7530(0x5f4)][_0x5e7530(0x521)](_0x26b16c);_0x52822c[_0x5e7530(0x7e2)]({'instance':{'instanceName':_0x26b16c,'apikey':_0x310b85['apikey'],'owner':_0x51bc7e[_0x5e7530(0x2db)],'profileName':await _0x51bc7e[_0x5e7530(0x70e)]()||_0x5e7530(0x430),'profilePictureUrl':_0x51bc7e[_0x5e7530(0x3ce)]}});}return _0x52822c[_0x5e7530(0x521)](_0x1764ae=>_0x1764ae['instance'][_0x5e7530(0x181)]===_0x30fcb8)??_0x52822c;}async[a0_0x4cdcbe(0x5ab)](_0xeee111){const _0x1f26ef=a0_0x4cdcbe;if(this['db'][_0x1f26ef(0x8dc)]&&(await this[_0x1f26ef(0x671)][_0x1f26ef(0x75c)][_0x1f26ef(0x428)](),(await this[_0x1f26ef(0x609)]['collections']())['length']>0x0&&await this[_0x1f26ef(0x609)][_0x1f26ef(0x47b)](_0xeee111)),this[_0x1f26ef(0x469)][_0x1f26ef(0x8dc)]){this[_0x1f26ef(0x204)][_0x1f26ef(0x405)]=_0xeee111,await this['cache'][_0x1f26ef(0x21f)]();return;}}async[a0_0x4cdcbe(0x5c3)](){const _0x51027e=a0_0x4cdcbe;await this[_0x51027e(0x816)]();let _0x5c0e77=async _0x2ad8a1=>{const _0x1d3db6=_0x51027e;let _0x5598a1=new $e(this[_0x1d3db6(0x5fa)],this[_0x1d3db6(0x230)],this[_0x1d3db6(0x671)]);_0x5598a1[_0x1d3db6(0x181)]=_0x2ad8a1,await _0x5598a1[_0x1d3db6(0x3df)](),this['waInstances'][_0x2ad8a1]=_0x5598a1;};try{if(this[_0x51027e(0x469)]['ENABLED']){let _0x14269c=await this[_0x51027e(0x204)][_0x51027e(0x59e)]();_0x14269c?.[_0x51027e(0x59d)]>0x0&&_0x14269c[_0x51027e(0x1d7)](async _0x3e63c5=>await _0x5c0e77(_0x3e63c5['split'](':')[0x1]));return;}if(this['db'][_0x51027e(0x8dc)]){await this[_0x51027e(0x671)]['dbServer'][_0x51027e(0x428)]();let _0x5ebd79=await this[_0x51027e(0x609)][_0x51027e(0x4ed)]();_0x5ebd79[_0x51027e(0x59d)]>0x0&&_0x5ebd79['forEach'](async _0x509c34=>await _0x5c0e77(_0x509c34[_0x51027e(0x3e3)][_0x51027e(0x1a6)](/^[\w-]+\./,'')));return;}}catch(_0x5b02ce){this['logger'][_0x51027e(0x2c1)](_0x5b02ce);}}async['cleanDisconnectedInstances'](){const _0x5f52b2=a0_0x4cdcbe;try{let _0x3c5e05=await this['repository']['auth']['findMany']({'online':!0x1});for(let _0x15d4a7 of _0x3c5e05){let _0x9e2275=_0x15d4a7['_id'];await re[_0x5f52b2(0x5bc)](K,_0x9e2275);}console[_0x5f52b2(0x65b)](_0x5f52b2(0x19c)+_0x3c5e05[_0x5f52b2(0x59d)]);let _0x1911cc={'online':!0x1},_0x134a82=await this['repository'][_0x5f52b2(0x5f4)]['deleteMany'](_0x1911cc);console[_0x5f52b2(0x65b)](_0x5f52b2(0x32d)+_0x134a82[_0x5f52b2(0x693)]);}catch(_0x497343){console[_0x5f52b2(0x2c1)](_0x5f52b2(0x4b5),_0x497343);}}async[a0_0x4cdcbe(0x816)](){const _0x38fcc1=a0_0x4cdcbe;try{let _0x535ad6={'online':!0x1},_0x359084={'online':!0x1,'lastDisconnect':Date[_0x38fcc1(0x472)]()},_0x3ab697=await this[_0x38fcc1(0x671)]['auth']['updateAll'](_0x535ad6,_0x359084);await this[_0x38fcc1(0x8a0)]();}catch(_0x845196){console['error'](_0x38fcc1(0x57e),_0x845196);}}['removeInstance'](){const _0x4b4ffa=a0_0x4cdcbe;this[_0x4b4ffa(0x230)]['on'](_0x4b4ffa(0x6bd),async _0x3f3521=>{const _0x2546ec=_0x4b4ffa;try{this[_0x2546ec(0x638)][_0x3f3521]=void 0x0;}catch{}try{this[_0x2546ec(0x5ab)](_0x3f3521);}finally{this[_0x2546ec(0x83b)]['warn'](_0x2546ec(0x37c)+_0x3f3521+_0x2546ec(0x88e));}});}[a0_0x4cdcbe(0x410)](){const _0x142495=a0_0x4cdcbe;this[_0x142495(0x230)]['on'](_0x142495(0x44a),async _0x478d6a=>{const _0x31e330=_0x142495;try{this['waInstances'][_0x478d6a]=void 0x0;}catch{}try{this[_0x31e330(0x5ab)](_0x478d6a);}finally{this['logger'][_0x31e330(0x3bc)](_0x31e330(0x37c)+_0x478d6a+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Bt=class extends _{[a0_0x4cdcbe(0x3da)](_0x22e1f8){return sa(_0x22e1f8);}async['insert'](_0x50d8d9){const _0x21c2d4=a0_0x4cdcbe;if(_0x50d8d9[_0x21c2d4(0x59d)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x50d8d9[0x0][_0x21c2d4(0x3c1)])['insertMany']([..._0x50d8d9]))[_0x21c2d4(0x59d)]};}catch(_0x55f55f){return _0x55f55f;}}async['find'](_0x57fee1,_0x1ca2fc){const _0x2864a1=a0_0x4cdcbe;try{let _0x59256f=this[_0x2864a1(0x3da)](_0x1ca2fc),_0x3b83bc=I(_0x57fee1[_0x2864a1(0x449)]);return await _0x59256f[_0x2864a1(0x521)](_0x3b83bc)[_0x2864a1(0x535)]({'lastmsg':-0x1})[_0x2864a1(0x4a7)](_0x57fee1?.[_0x2864a1(0x4a7)]??0x0)[_0x2864a1(0x28d)]();}catch{return[];}}async[a0_0x4cdcbe(0x5eb)](_0x1e963d,_0x3ba1d1){const _0x3ed0c3=a0_0x4cdcbe;try{let _0x1cb30b=this[_0x3ed0c3(0x3da)](_0x3ba1d1),_0x2cad8c=I(_0x1e963d['where']);return _0x2cad8c[_0x3ed0c3(0x275)]={'$ne':[]},await _0x1cb30b[_0x3ed0c3(0x521)](_0x2cad8c)[_0x3ed0c3(0x535)]({'lastmsg':-0x1})[_0x3ed0c3(0x4a7)](_0x1e963d?.[_0x3ed0c3(0x4a7)]??0x0)[_0x3ed0c3(0x28d)]();}catch{return[];}}async[a0_0x4cdcbe(0x5f7)](_0x51cff2,_0x5dfb22){const _0x3f268a=a0_0x4cdcbe;try{return{'deletedCount':(await this[_0x3f268a(0x3da)](_0x5dfb22)[_0x3f268a(0x334)]({..._0x51cff2[_0x3f268a(0x449)]}))[_0x3f268a(0x562)]};}catch(_0x3d6199){return{'error':_0x3d6199?.[_0x3f268a(0x897)]()};}}async['deleteAll'](_0x142dd5,_0x4434e9){const _0x1da023=a0_0x4cdcbe;try{return await this[_0x1da023(0x3da)](_0x4434e9)[_0x1da023(0x334)]({..._0x142dd5[_0x1da023(0x449)]}),[];}catch(_0xe5176c){return{'error':_0xe5176c?.[_0x1da023(0x897)]()};}}async[a0_0x4cdcbe(0x324)](_0x326042,_0x58b62b){const _0x397dfb=a0_0x4cdcbe;try{let _0x400a57=this['getChatModelForOwner'](_0x58b62b),_0xfc45=I(_0x326042[_0x397dfb(0x449)]);return await _0x400a57[_0x397dfb(0x324)](_0xfc45)['lean']();}catch{return null;}}async[a0_0x4cdcbe(0x869)](_0x3389dd,_0xe94c13,_0x3eb119,_0xc83d6c,_0x47f97b='$set'){const _0x22b293=a0_0x4cdcbe;try{let _0x109eac={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0xc83d6c},_0x3cf71b=this['getChatModelForOwner'](_0x3eb119),_0x3733f9=I(_0x3389dd[_0x22b293(0x449)]);Object[_0x22b293(0x684)](_0xe94c13)['forEach'](_0x5d8b6a=>{_0xe94c13[_0x5d8b6a]==null&&delete _0xe94c13[_0x5d8b6a];});let _0x3c4ae9={};return _0x3c4ae9[_0x47f97b]=_0xe94c13,await _0x3cf71b[_0x22b293(0x385)](_0x3733f9,_0x3c4ae9,_0x109eac);}catch(_0x544021){return console[_0x22b293(0x2c1)](_0x544021),null;}}async[a0_0x4cdcbe(0x597)](_0xc33b5e){const _0x193387=a0_0x4cdcbe;try{let _0x129379=this['getChatModelForOwner'](_0xc33b5e[0x0][_0x193387(0x596)][_0x193387(0x449)][_0x193387(0x3c1)]),_0xe5ff34=_0xc33b5e[_0x193387(0x79d)](_0x3ee05f=>({'updateOne':{'filter':{..._0x3ee05f[_0x193387(0x596)][_0x193387(0x449)]},'update':{'$set':_0x3ee05f['update']},'upsert':!0x0}})),_0x15b76e=await _0x129379['bulkWrite'](_0xe5ff34);return _0x15b76e[_0x193387(0x78f)]+_0x15b76e[_0x193387(0x38b)];}catch(_0x26c12e){return console[_0x193387(0x2c1)](_0x26c12e),0x0;}}async[a0_0x4cdcbe(0x1aa)](_0x1d49c0){const _0x2302fb=a0_0x4cdcbe;try{let _0x10204b={'group_isCommunity':'','group_announce':'','group_size':''},_0x56f333={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x10c1fb={'$unset':_0x10204b};return(await this[_0x2302fb(0x3da)](_0x1d49c0)[_0x2302fb(0x597)](_0x56f333,_0x10c1fb))[_0x2302fb(0x78f)];}catch(_0x2b386d){return console[_0x2302fb(0x2c1)](_0x2302fb(0x718),_0x2b386d),0x0;}}async[a0_0x4cdcbe(0x899)](_0x577b52){const _0x4ad60f=a0_0x4cdcbe;try{let _0x4f6bd4=this['getChatModelForOwner'](_0x577b52),_0x421910={'leadInfo.etiquetas':{'$exists':!0x1}},_0x4c6a29={'$set':{'leadInfo.etiquetas':[]}};return(await _0x4f6bd4[_0x4ad60f(0x597)](_0x421910,_0x4c6a29))[_0x4ad60f(0x78f)];}catch(_0x2a95ee){return console[_0x4ad60f(0x2c1)](_0x2a95ee),0x0;}}async[a0_0x4cdcbe(0x548)](_0x30aa5b){const _0xa969f0=a0_0x4cdcbe;try{let _0x1ea413=this[_0xa969f0(0x3da)](_0x30aa5b),_0x1e3b0c={'leadInfo.tags':{'$exists':!0x1}},_0x100d5c={'$set':{'leadInfo.tags':[]}};return(await _0x1ea413['updateMany'](_0x1e3b0c,_0x100d5c))[_0xa969f0(0x78f)];}catch(_0x18e4ba){return console['error'](_0x18e4ba),0x0;}}async['updateMissingCustomFields'](_0x204ba8){const _0x19aa7e=a0_0x4cdcbe;try{let _0x5751d2=this[_0x19aa7e(0x3da)](_0x204ba8),_0x16b6cd={'leadInfo.customFields':{'$exists':!0x1}},_0x574667={'$set':{'leadInfo.customFields':[]}};return(await _0x5751d2[_0x19aa7e(0x597)](_0x16b6cd,_0x574667))[_0x19aa7e(0x78f)];}catch(_0x959518){return console[_0x19aa7e(0x2c1)](_0x959518),0x0;}}async['insertMany'](_0xa38af5,_0x2fc58e){const _0x4f6146=a0_0x4cdcbe;if(!Array[_0x4f6146(0x2cf)](_0xa38af5)||_0xa38af5[_0x4f6146(0x59d)]===0x0)throw new Error(_0x4f6146(0x4ca));try{return(await this[_0x4f6146(0x3da)](_0x2fc58e)['insertMany'](_0xa38af5))[_0x4f6146(0x59d)];}catch(_0x573c2c){throw console[_0x4f6146(0x2c1)](_0x4f6146(0x837),_0x573c2c),_0x573c2c;}}async['deleteChat'](_0x556dd0,_0xf7f58a){const _0x4ce7d0=a0_0x4cdcbe;try{await this['getChatModelForOwner'](_0xf7f58a)[_0x4ce7d0(0x4f7)]({'_id':_0x556dd0});}catch(_0x2caa1b){throw console[_0x4ce7d0(0x2c1)](_0x4ce7d0(0x7a9),_0x2caa1b),_0x2caa1b;}}},Wt=class extends _{constructor(_0x492127,_0x1b2e58,_0x24ab02){const _0x5ebbad=a0_0x4cdcbe;super(_0x1b2e58),this[_0x5ebbad(0x635)]=_0x492127,this[_0x5ebbad(0x5fa)]=_0x1b2e58,this[_0x5ebbad(0x898)]=_0x24ab02;}async['insert'](_0x2490db){const _0x14a22b=a0_0x4cdcbe;if(_0x2490db['length']!==0x0)try{return{'insertCount':(await this[_0x14a22b(0x635)][_0x14a22b(0x490)]([..._0x2490db]))[_0x14a22b(0x59d)]};}catch(_0xe64f08){return _0xe64f08;}}async[a0_0x4cdcbe(0x17d)](_0x2fb4a4,_0x1f788a){const _0x56e1e4=a0_0x4cdcbe;try{let _0x316915=I(_0x2fb4a4[_0x56e1e4(0x449)]);return{'updatedCount':(await this[_0x56e1e4(0x635)][_0x56e1e4(0x597)](_0x316915,{'$set':_0x1f788a}))['modifiedCount']};}catch(_0x156fbc){return console[_0x56e1e4(0x2c1)](_0x56e1e4(0x2bf),_0x156fbc),{'error':_0x156fbc[_0x56e1e4(0x897)]()};}}async[a0_0x4cdcbe(0x2fe)](_0x5ed569){const _0x2a8da9=a0_0x4cdcbe;try{let _0x39e2d0={'_id':{'$in':_0x5ed569}};return await this['cacheContactModel'][_0x2a8da9(0x521)](_0x39e2d0)[_0x2a8da9(0x28d)]();}catch(_0x18e439){return console['error'](_0x2a8da9(0x28f),_0x18e439),[];}}async['delete'](_0x2aa99b){const _0x3da2bf=a0_0x4cdcbe;try{return{'deletedCount':(await this[_0x3da2bf(0x635)][_0x3da2bf(0x334)]({..._0x2aa99b['where']}))[_0x3da2bf(0x562)]};}catch(_0x468a25){return{'error':_0x468a25?.[_0x3da2bf(0x897)]()};}}async[a0_0x4cdcbe(0x521)](_0x5a0a73){const _0x434b2e=a0_0x4cdcbe;try{let _0x428fb5=I(_0x5a0a73[_0x434b2e(0x449)]);return await this[_0x434b2e(0x635)]['find'](_0x428fb5)[_0x434b2e(0x4a7)](_0x5a0a73?.['limit']??0x0)[_0x434b2e(0x28d)]();}catch{return[];}}async[a0_0x4cdcbe(0x324)](_0x1e34ab){const _0xe716ad=a0_0x4cdcbe;try{let _0x5767e1=I(_0x1e34ab[_0xe716ad(0x449)]);return await this[_0xe716ad(0x635)]['findOne'](_0x5767e1)[_0xe716ad(0x28d)]();}catch{return null;}}},zt=class extends _{[a0_0x4cdcbe(0x2ef)](_0xd12311){return va(_0xd12311);}async[a0_0x4cdcbe(0x869)](_0x3eb4cd,_0x5724d9,_0x3cabbe,_0x35cfe9){const _0x233247=a0_0x4cdcbe;try{let _0x5c0c05={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x35cfe9},_0x28691a=this['getLabelModelForOwner'](_0x3cabbe),_0xf3c3d0=I(_0x3eb4cd[_0x233247(0x449)]);return await _0x28691a[_0x233247(0x385)](_0xf3c3d0,{'$set':_0x5724d9},_0x5c0c05);}catch(_0x8e36ba){return console[_0x233247(0x2c1)](_0x8e36ba),null;}}async['find'](_0x3f3cac,_0x50dea5){const _0x3e9458=a0_0x4cdcbe;try{let _0x4df341=this[_0x3e9458(0x2ef)](_0x50dea5),_0x1d5625=I(_0x3f3cac[_0x3e9458(0x449)]);return await _0x4df341[_0x3e9458(0x521)](_0x1d5625);}catch(_0x3763d5){console['error'](_0x3763d5);}}async['delete'](_0x23a523,_0x14d0ca){const _0x1595a0=a0_0x4cdcbe;try{let _0x1bffde=this[_0x1595a0(0x2ef)](_0x14d0ca),_0x3ef5bb=I(_0x23a523[_0x1595a0(0x449)]);await _0x1bffde[_0x1595a0(0x334)](_0x3ef5bb);}catch(_0x4654a3){console['error'](_0x4654a3);}}async[a0_0x4cdcbe(0x2fc)](_0x241dad){const _0x1c7153=a0_0x4cdcbe;try{return await this[_0x1c7153(0x2ef)](_0x241dad)[_0x1c7153(0x58c)]['drop'](),{'success':!0x0};}catch(_0x1a674c){return console['error'](_0x1a674c),{'success':!0x1,'error':_0x1a674c};}}},Ht=class{constructor(_0x4c829d){const _0x433364=a0_0x4cdcbe;this[_0x433364(0x807)]=_0x4c829d;}async[a0_0x4cdcbe(0x6c9)]({instanceName:_0x3477cb},_0x349490){const _0x52801f=a0_0x4cdcbe;return await this['waMonitor'][_0x52801f(0x638)][_0x3477cb][_0x52801f(0x6c9)](_0x349490);}async['whatsappNumber']({instanceName:_0x578159},_0x545596){const _0x206213=a0_0x4cdcbe;return await this[_0x206213(0x807)][_0x206213(0x638)][_0x578159][_0x206213(0x8d4)](_0x545596);}async['importChats']({instanceName:_0x561631},_0x54747a){const _0x5e83bf=a0_0x4cdcbe;return await this[_0x5e83bf(0x807)][_0x5e83bf(0x638)][_0x561631][_0x5e83bf(0x5e8)](_0x54747a);}async[a0_0x4cdcbe(0x18d)]({instanceName:_0x1ee7a6},_0x150605){const _0x1f20ce=a0_0x4cdcbe;return await this[_0x1f20ce(0x807)][_0x1f20ce(0x638)][_0x1ee7a6][_0x1f20ce(0x4ad)](_0x150605);}async[a0_0x4cdcbe(0x5ba)]({instanceName:_0x5ea0f9},_0x397c95){const _0x2bbb7e=a0_0x4cdcbe;return await this[_0x2bbb7e(0x807)][_0x2bbb7e(0x638)][_0x5ea0f9][_0x2bbb7e(0x5ba)](_0x397c95);}async[a0_0x4cdcbe(0x7a6)]({instanceName:_0x235e39},_0x291272){const _0x508a6e=a0_0x4cdcbe;return await this[_0x508a6e(0x807)][_0x508a6e(0x638)][_0x235e39][_0x508a6e(0x7a6)](_0x291272);}async[a0_0x4cdcbe(0x606)]({instanceName:_0x42612d},_0xee5de0){const _0x3c52b6=a0_0x4cdcbe;return await this['waMonitor'][_0x3c52b6(0x638)][_0x42612d][_0x3c52b6(0x5a0)](_0xee5de0[_0x3c52b6(0x64f)]);}async[a0_0x4cdcbe(0x809)]({instanceName:_0x12c7b7},_0x37d99d){const _0x5094cb=a0_0x4cdcbe;return await this[_0x5094cb(0x807)][_0x5094cb(0x638)][_0x12c7b7][_0x5094cb(0x809)](_0x37d99d['number']);}async[a0_0x4cdcbe(0x2b9)]({instanceName:_0x373853},_0xd90776){const _0x32e2e2=a0_0x4cdcbe;return await this[_0x32e2e2(0x807)][_0x32e2e2(0x638)][_0x373853][_0x32e2e2(0x2b9)](_0xd90776);}async[a0_0x4cdcbe(0x51a)]({instanceName:_0x272269},_0x37f6cc){const _0x48f7b7=a0_0x4cdcbe;return await this[_0x48f7b7(0x807)][_0x48f7b7(0x638)][_0x272269][_0x48f7b7(0x51a)](_0x37f6cc);}async['getBase64FromMediaMessage']({instanceName:_0x3918c0},_0x7e9cd8){const _0x1660c9=a0_0x4cdcbe;return await this[_0x1660c9(0x807)][_0x1660c9(0x638)][_0x3918c0]['getBase64FromMediaMessage'](_0x7e9cd8);}async[a0_0x4cdcbe(0x4a2)]({instanceName:_0x1fc49e},_0x1a6dd9){const _0xab1f84=a0_0x4cdcbe;return await this['waMonitor']['waInstances'][_0x1fc49e][_0xab1f84(0x4a2)](_0x1a6dd9);}async[a0_0x4cdcbe(0x59f)]({instanceName:_0x4d1824}){const _0x420b24=a0_0x4cdcbe;return await this[_0x420b24(0x807)][_0x420b24(0x638)][_0x4d1824][_0x420b24(0x59f)]();}async['fetchChats']({instanceName:_0x30b195}){const _0x40450a=a0_0x4cdcbe;return await this[_0x40450a(0x807)][_0x40450a(0x638)][_0x30b195]['fetchChats']();}async[a0_0x4cdcbe(0x4bd)]({instanceName:_0x1aa64d}){const _0x166804=a0_0x4cdcbe;return await this[_0x166804(0x807)]['waInstances'][_0x1aa64d][_0x166804(0x4bd)]();}async[a0_0x4cdcbe(0x6b8)]({instanceName:_0x324c6c},_0x33739a){const _0x399306=a0_0x4cdcbe;return await this[_0x399306(0x807)][_0x399306(0x638)][_0x324c6c][_0x399306(0x6b8)](_0x33739a);}async[a0_0x4cdcbe(0x260)]({instanceName:_0x3ebf77},_0x48d08e){const _0x3dfdac=a0_0x4cdcbe;return await this[_0x3dfdac(0x807)][_0x3dfdac(0x638)][_0x3ebf77][_0x3dfdac(0x260)](_0x48d08e[_0x3dfdac(0x64f)]);}async[a0_0x4cdcbe(0x2c5)]({instanceName:_0x7fbe5f},_0x12df1f){const _0x3ef13f=a0_0x4cdcbe;return await this[_0x3ef13f(0x807)][_0x3ef13f(0x638)][_0x7fbe5f]['updateProfileName'](_0x12df1f[_0x3ef13f(0x5cf)]);}async['updateProfileStatus']({instanceName:_0x8fd9b4},_0x44b01f){const _0x1e9716=a0_0x4cdcbe;return await this[_0x1e9716(0x807)][_0x1e9716(0x638)][_0x8fd9b4][_0x1e9716(0x45b)](_0x44b01f[_0x1e9716(0x4b1)]);}async[a0_0x4cdcbe(0x340)]({instanceName:_0x3176c2},_0x48fa2e){const _0x7916b=a0_0x4cdcbe;return await this[_0x7916b(0x807)]['waInstances'][_0x3176c2][_0x7916b(0x340)](_0x48fa2e[_0x7916b(0x321)]);}async[a0_0x4cdcbe(0x6f3)]({instanceName:_0x240f99},_0x30a5d9){const _0x57808e=a0_0x4cdcbe;return await this[_0x57808e(0x807)][_0x57808e(0x638)][_0x240f99][_0x57808e(0x6f3)]();}},Kt=require(a0_0x4cdcbe(0x1bf)),Qt=class u{constructor(_0x4df033,_0x5a4342,_0x1aee8c,_0x4e8bfd,_0x5e1412){const _0x2eafd3=a0_0x4cdcbe;this[_0x2eafd3(0x807)]=_0x4df033,this[_0x2eafd3(0x5fa)]=_0x5a4342,this[_0x2eafd3(0x671)]=_0x1aee8c,this['eventEmitter']=_0x4e8bfd,this['authService']=_0x5e1412,this['logger']=new $(u['name']);}async[a0_0x4cdcbe(0x1b1)]({instanceName:_0x289dbf,apikey:_0x4bc0b9,number:_0x1e6379,proxy:_0x168011=!0x0}){const _0x30387a=a0_0x4cdcbe;try{let _0x5ca4cd=new $e(this[_0x30387a(0x5fa)],this[_0x30387a(0x230)],this[_0x30387a(0x671)]);_0x5ca4cd['instanceName']=_0x289dbf,this['waMonitor'][_0x30387a(0x638)][_0x5ca4cd['instanceName']]=_0x5ca4cd;let _0xcd40b2={};_0x4bc0b9?(await this[_0x30387a(0x671)][_0x30387a(0x5f4)][_0x30387a(0x22a)]({'apikey':_0x4bc0b9},_0x289dbf),_0xcd40b2[_0x30387a(0x347)]=_0x4bc0b9):_0xcd40b2=await this[_0x30387a(0x637)][_0x30387a(0x60c)]({'instanceName':_0x5ca4cd['instanceName']});let _0x110b1;if(_0x1e6379){if(_0x110b1=await this['verifyWhatsAppNumber'](_0x1e6379),_0x110b1[_0x30387a(0x2c1)])throw new O(_0x110b1[_0x30387a(0x2c1)][_0x30387a(0x897)]());_0x1e6379=_0x110b1['number'];}let _0x166b80;return await _0x5ca4cd[_0x30387a(0x3df)](_0x1e6379),await(0x0,Kt[_0x30387a(0x25a)])(0xfa0),_0x1e6379&&await(0x0,Kt[_0x30387a(0x25a)])(0xbb8),_0x166b80=_0x5ca4cd[_0x30387a(0x5b7)],{'instance':{'instanceName':_0x5ca4cd[_0x30387a(0x181)],'status':_0x30387a(0x35e)},'hash':_0xcd40b2,'qrcode':_0x166b80};}catch(_0xee406c){throw this[_0x30387a(0x83b)][_0x30387a(0x2c1)](_0xee406c),_0xee406c;}}async['connectToWhatsappController']({instanceName:_0x3d4318,number:_0x584c0b=null}){const _0x4fa69e=a0_0x4cdcbe;try{let _0x2bf549=this['waMonitor']['waInstances'][_0x3d4318];switch(_0x2bf549?.['connectionStatus']?.['state']){case'close':return await _0x2bf549[_0x4fa69e(0x3df)](_0x584c0b),await(0x0,Kt[_0x4fa69e(0x25a)])(0x7d0),_0x2bf549[_0x4fa69e(0x5b7)];case'connecting':return _0x2bf549[_0x4fa69e(0x5b7)];default:return await this[_0x4fa69e(0x818)]({'instanceName':_0x3d4318});}}catch(_0x3694a6){this[_0x4fa69e(0x83b)][_0x4fa69e(0x65b)](_0x3694a6);}}async[a0_0x4cdcbe(0x818)]({instanceName:_0x30e6f4}){const _0xaec13=a0_0x4cdcbe;let _0x21a590=this[_0xaec13(0x807)][_0xaec13(0x638)][_0x30e6f4]['connectionStatus'],_0x5bb2a0=null;_0x21a590[_0xaec13(0x5c6)]==='open'&&_0x30e6f4&&(_0x5bb2a0=await this[_0xaec13(0x807)][_0xaec13(0x714)](_0x30e6f4));let _0x518995=null;return _0x21a590[_0xaec13(0x5c6)]==='connecting'&&_0x30e6f4&&(_0x518995=this[_0xaec13(0x807)][_0xaec13(0x638)][_0x30e6f4][_0xaec13(0x5b7)]),{'instance':_0x30e6f4,'connectionStatus':_0x21a590,'instanceInfo':_0x5bb2a0,'qrcode':_0x518995};}async[a0_0x4cdcbe(0x820)](_0x1d764f){const _0x16f16c=a0_0x4cdcbe;_0x1d764f=_0x1d764f[_0x16f16c(0x1a6)](/\D/g,'');let _0x3b5fe3=Object[_0x16f16c(0x684)](this['waMonitor'][_0x16f16c(0x638)])[_0x16f16c(0x58d)](_0x81d074=>{const _0x19c919=_0x16f16c;let _0x29f15=this[_0x19c919(0x807)][_0x19c919(0x638)][_0x81d074];return _0x29f15&&_0x29f15['connectionStatus']&&_0x29f15['connectionStatus'][_0x19c919(0x5c6)]===_0x19c919(0x542);});if(_0x3b5fe3['length']===0x0)return{'number':this[_0x16f16c(0x639)](_0x1d764f)};let _0x1cf449=Math['floor'](Math[_0x16f16c(0x4c0)]()*_0x3b5fe3[_0x16f16c(0x59d)]),_0x570259=_0x3b5fe3[_0x1cf449];try{let _0x7b739e=(await this[_0x16f16c(0x807)][_0x16f16c(0x638)][_0x570259][_0x16f16c(0x8d4)]({'numbers':[_0x1d764f]}))[_0x16f16c(0x7b1)]();return _0x7b739e['exists']?{'number':_0x7b739e[_0x16f16c(0x269)]['replace'](_0x16f16c(0x7c9),'')}:{'number':_0x1d764f,'error':_0x16f16c(0x71e)};}catch(_0x4fc66a){return this['logger'][_0x16f16c(0x2c1)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x4fc66a),{'number':_0x1d764f,'error':_0x16f16c(0x501)};}}[a0_0x4cdcbe(0x639)](_0x57baab){const _0x3f0b64=a0_0x4cdcbe;let _0x3c9ed1=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x3f0b64(0x89d)](_0x57baab);if(_0x3c9ed1&&_0x3c9ed1[0x1]==='55'){let _0x289372=_0x3c9ed1[0x2],_0x2be140=_0x3c9ed1[0x3],_0xe9e24e=_0x3c9ed1[0x4];if(parseInt(_0x289372)>=0x1f&&_0x2be140==='9')return _0x3c9ed1[0x1]+_0x289372+_0xe9e24e;}return _0x57baab;}async[a0_0x4cdcbe(0x287)]({instanceName:_0x56d482}){const _0x1fe29a=a0_0x4cdcbe;try{return this[_0x1fe29a(0x807)][_0x1fe29a(0x638)][_0x56d482]?.[_0x1fe29a(0x811)]?.['ws']?.[_0x1fe29a(0x66b)](),{'status':_0x1fe29a(0x3b0),'error':!0x1,'response':{'message':_0x1fe29a(0x644)}};}catch(_0x58c11a){this[_0x1fe29a(0x83b)][_0x1fe29a(0x2c1)](_0x58c11a);}}async[a0_0x4cdcbe(0x4ac)]({instanceName:_0x4edb50}){const _0x3b1ced=a0_0x4cdcbe;return _0x4edb50?this[_0x3b1ced(0x807)][_0x3b1ced(0x714)](_0x4edb50):this['waMonitor']['instanceInfo']();}async[a0_0x4cdcbe(0x738)]({instanceName:_0xa4e137}){const _0x37cec3=a0_0x4cdcbe;try{return await this[_0x37cec3(0x807)][_0x37cec3(0x638)][_0xa4e137]?.[_0x37cec3(0x811)]?.[_0x37cec3(0x738)](_0x37cec3(0x4e4)+_0xa4e137),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x4ccb56){throw new O(_0x4ccb56[_0x37cec3(0x897)]());}}async['deleteInstance']({instanceName:_0xd0527c}){const _0x9424d6=a0_0x4cdcbe;if((await this['connectionState']({'instanceName':_0xd0527c}))[_0x9424d6(0x62f)][_0x9424d6(0x5c6)]===_0x9424d6(0x542))throw new m([_0x9424d6(0x426),_0x9424d6(0x1fc)]);try{return delete this[_0x9424d6(0x807)][_0x9424d6(0x638)][_0xd0527c],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x3f9b59){throw new m(_0x3f9b59['toString']());}}},ne=require(a0_0x4cdcbe(0x875)),Yt=class{constructor(_0x28df24){this['waMonitor']=_0x28df24;}async[a0_0x4cdcbe(0x1f0)]({instanceName:_0x4a6aed},_0x29a58f){const _0x532c30=a0_0x4cdcbe;return await this['waMonitor']['waInstances'][_0x4a6aed][_0x532c30(0x4c5)](_0x29a58f);}async[a0_0x4cdcbe(0x30e)]({instanceName:_0x592974},_0x4cfd04){const _0x28530d=a0_0x4cdcbe;return await this['waMonitor'][_0x28530d(0x638)][_0x592974]['menuMessage'](_0x4cfd04);}async['sendMedia']({instanceName:_0x48f7ea},_0xba1734){const _0x2acb4e=a0_0x4cdcbe;if((0x0,ne[_0x2acb4e(0x733)])(_0xba1734?.[_0x2acb4e(0x75d)]?.[_0x2acb4e(0x2c6)])&&!_0xba1734?.['mediaMessage']?.['fileName'])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ne[_0x2acb4e(0x4a6)])(_0xba1734?.[_0x2acb4e(0x75d)]?.[_0x2acb4e(0x2c6)])||(0x0,ne['isBase64'])(_0xba1734?.[_0x2acb4e(0x75d)]?.[_0x2acb4e(0x2c6)]))return await this[_0x2acb4e(0x807)][_0x2acb4e(0x638)][_0x48f7ea]['mediaMessage'](_0xba1734);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendSticker']({instanceName:_0x15c61b},_0x92332c){const _0x3aa906=a0_0x4cdcbe;if((0x0,ne[_0x3aa906(0x4a6)])(_0x92332c[_0x3aa906(0x83a)][_0x3aa906(0x1d4)])||(0x0,ne[_0x3aa906(0x733)])(_0x92332c[_0x3aa906(0x83a)][_0x3aa906(0x1d4)]))return await this['waMonitor'][_0x3aa906(0x638)][_0x15c61b][_0x3aa906(0x676)](_0x92332c);throw new m(_0x3aa906(0x371));}async[a0_0x4cdcbe(0x8c7)]({instanceName:_0x3131ac},_0x3d2fe2){const _0x22fa61=a0_0x4cdcbe;if((0x0,ne[_0x22fa61(0x4a6)])(_0x3d2fe2[_0x22fa61(0x537)]['audio'])||(0x0,ne['isBase64'])(_0x3d2fe2[_0x22fa61(0x537)][_0x22fa61(0x6d5)]))return await this[_0x22fa61(0x807)][_0x22fa61(0x638)][_0x3131ac][_0x22fa61(0x5a7)](_0x3d2fe2);throw new m(_0x22fa61(0x371));}async['sendButtons']({instanceName:_0x551088},_0x598532){const _0x5387a3=a0_0x4cdcbe;if((0x0,ne[_0x5387a3(0x733)])(_0x598532[_0x5387a3(0x470)]['mediaMessage']?.['media'])&&!_0x598532[_0x5387a3(0x470)]['mediaMessage']?.[_0x5387a3(0x7eb)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x5387a3(0x807)][_0x5387a3(0x638)][_0x551088][_0x5387a3(0x470)](_0x598532);}async[a0_0x4cdcbe(0x4aa)]({instanceName:_0x31fcdb},_0x3daf4b){const _0x17eaa9=a0_0x4cdcbe;return await this[_0x17eaa9(0x807)][_0x17eaa9(0x638)][_0x31fcdb][_0x17eaa9(0x1b7)](_0x3daf4b);}async[a0_0x4cdcbe(0x68a)]({instanceName:_0x3f27f4},_0x238e83){const _0x8c5eb=a0_0x4cdcbe;return await this[_0x8c5eb(0x807)][_0x8c5eb(0x638)][_0x3f27f4][_0x8c5eb(0x7c3)](_0x238e83);}async[a0_0x4cdcbe(0x652)]({instanceName:_0x52010d},_0x4e54fc){const _0x53bc61=a0_0x4cdcbe;return await this[_0x53bc61(0x807)][_0x53bc61(0x638)][_0x52010d][_0x53bc61(0x302)](_0x4e54fc);}async[a0_0x4cdcbe(0x3c6)]({instanceName:_0x420f66},_0x1c352f){const _0x35a420=a0_0x4cdcbe;return await this[_0x35a420(0x807)][_0x35a420(0x638)][_0x420f66][_0x35a420(0x210)](_0x1c352f);}async[a0_0x4cdcbe(0x3d5)]({instanceName:_0x4b40a3},_0x3669cd){const _0x1378ea=a0_0x4cdcbe;if(!_0x3669cd['reactionMessage'][_0x1378ea(0x518)][_0x1378ea(0x2c8)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x1378ea(0x2aa));return await this['waMonitor'][_0x1378ea(0x638)][_0x4b40a3][_0x1378ea(0x761)](_0x3669cd);}async[a0_0x4cdcbe(0x87b)]({instanceName:_0x165cad},_0x2eca07){const _0x4a9b74=a0_0x4cdcbe;return await this[_0x4a9b74(0x807)][_0x4a9b74(0x638)][_0x165cad][_0x4a9b74(0x8c8)](_0x2eca07);}},ki=require(a0_0x4cdcbe(0x71a)),Us=require('uuid'),Xt=class u{constructor(_0x249e0c,_0x4fcd42,_0x382e8b){const _0x60934c=a0_0x4cdcbe;this['configService']=_0x249e0c,this[_0x60934c(0x807)]=_0x4fcd42,this[_0x60934c(0x671)]=_0x382e8b,this[_0x60934c(0x83b)]=new $(u['name']);}async[a0_0x4cdcbe(0x22c)](_0x21ee53){const _0x27913e=a0_0x4cdcbe;let _0x2caaa=this[_0x27913e(0x5fa)][_0x27913e(0x2df)]('AUTHENTICATION')[_0x27913e(0x408)],_0x28b4f6=(0x0,ki[_0x27913e(0x1e9)])({'instanceName':_0x21ee53['instanceName'],'apiName':rt,'tokenId':(0x0,Us['v4'])()},_0x2caaa['SECRET'],{'expiresIn':_0x2caaa[_0x27913e(0x27b)],'encoding':_0x27913e(0x23e),'subject':_0x27913e(0x29a)}),_0x239454=await this[_0x27913e(0x671)][_0x27913e(0x5f4)]['create']({'jwt':_0x28b4f6},_0x21ee53[_0x27913e(0x181)]);if(_0x239454[_0x27913e(0x2c1)])throw this['logger'][_0x27913e(0x2c1)]({'localError':u[_0x27913e(0x5cf)]+'.jwt','error':_0x239454['error']}),new m('Authentication\x20error',_0x239454[_0x27913e(0x2c1)]?.[_0x27913e(0x897)]());return{'jwt':_0x28b4f6};}async[a0_0x4cdcbe(0x347)](_0x52720a){const _0x4be4c0=a0_0x4cdcbe;let _0x1e675a=(0x0,Us['v4'])()[_0x4be4c0(0x411)](),_0x22f477=await this[_0x4be4c0(0x671)][_0x4be4c0(0x5f4)][_0x4be4c0(0x22a)]({'apikey':_0x1e675a},_0x52720a[_0x4be4c0(0x181)]);if(_0x22f477[_0x4be4c0(0x2c1)])throw this[_0x4be4c0(0x83b)][_0x4be4c0(0x2c1)]({'localError':u[_0x4be4c0(0x5cf)]+'.jwt','error':_0x22f477[_0x4be4c0(0x2c1)]}),new m(_0x4be4c0(0x4ee),_0x22f477[_0x4be4c0(0x2c1)]?.[_0x4be4c0(0x897)]());return{'apikey':_0x1e675a};}async[a0_0x4cdcbe(0x60c)](_0x3986e7){const _0x37f60b=a0_0x4cdcbe;let _0x5638be=this[_0x37f60b(0x5fa)][_0x37f60b(0x2df)]('AUTHENTICATION');return await this[_0x5638be[_0x37f60b(0x395)]](_0x3986e7);}},Zt=class{constructor(_0x56feb0){const _0x1312a6=a0_0x4cdcbe;this[_0x1312a6(0x807)]=_0x56feb0;}async['createGroup'](_0x1ac25e,_0x519d30){const _0x123a2c=a0_0x4cdcbe;return await this[_0x123a2c(0x807)][_0x123a2c(0x638)][_0x1ac25e[_0x123a2c(0x181)]]['createGroup'](_0x519d30);}async['updateGroupPicture'](_0x263eec,_0x1bd0d2){const _0x47408a=a0_0x4cdcbe;return await this[_0x47408a(0x807)][_0x47408a(0x638)][_0x263eec[_0x47408a(0x181)]][_0x47408a(0x4cc)](_0x1bd0d2);}async[a0_0x4cdcbe(0x216)](_0x55170d,_0x27be1c){const _0x41a734=a0_0x4cdcbe;return await this[_0x41a734(0x807)]['waInstances'][_0x55170d[_0x41a734(0x181)]][_0x41a734(0x216)](_0x27be1c);}async[a0_0x4cdcbe(0x27c)](_0x498169,_0x4e9324){const _0x1727a8=a0_0x4cdcbe;return await this[_0x1727a8(0x807)]['waInstances'][_0x498169[_0x1727a8(0x181)]][_0x1727a8(0x27c)](_0x4e9324);}async['groupBetterSetting'](_0x40dd5a,_0x6d8d3c){const _0x1f4a38=a0_0x4cdcbe;return await this[_0x1f4a38(0x807)][_0x1f4a38(0x638)][_0x40dd5a['instanceName']][_0x1f4a38(0x6cd)](_0x6d8d3c);}async[a0_0x4cdcbe(0x180)](_0x49d60f,_0x28d2ca){const _0x306147=a0_0x4cdcbe;return await this[_0x306147(0x807)][_0x306147(0x638)][_0x49d60f[_0x306147(0x181)]][_0x306147(0x180)](_0x28d2ca);}async[a0_0x4cdcbe(0x7d6)](_0x494378,_0x151e84){const _0x51266b=a0_0x4cdcbe;return await this[_0x51266b(0x807)][_0x51266b(0x638)][_0x494378[_0x51266b(0x181)]][_0x51266b(0x692)](_0x151e84);}async[a0_0x4cdcbe(0x82c)](_0x1218a0){const _0x2f1ed4=a0_0x4cdcbe;return await this[_0x2f1ed4(0x807)][_0x2f1ed4(0x638)][_0x1218a0[_0x2f1ed4(0x181)]][_0x2f1ed4(0x82c)]();}async[a0_0x4cdcbe(0x244)](_0xee2a00,_0x59de52){const _0x205ca9=a0_0x4cdcbe;return await this[_0x205ca9(0x807)][_0x205ca9(0x638)][_0xee2a00['instanceName']][_0x205ca9(0x244)](_0x59de52);}async[a0_0x4cdcbe(0x5b9)](_0x3a1404,_0x5e3524){const _0x5c098a=a0_0x4cdcbe;return await this[_0x5c098a(0x807)][_0x5c098a(0x638)][_0x3a1404['instanceName']][_0x5c098a(0x5b9)](_0x5e3524);}async[a0_0x4cdcbe(0x5b0)](_0x3e54e7,_0x521277){const _0x541490=a0_0x4cdcbe;return await this[_0x541490(0x807)]['waInstances'][_0x3e54e7['instanceName']][_0x541490(0x5b0)](_0x521277);}async[a0_0x4cdcbe(0x30b)](_0xf00580,_0x2f6f7b){const _0xce0d8e=a0_0x4cdcbe;return await this[_0xce0d8e(0x807)][_0xce0d8e(0x638)][_0xf00580[_0xce0d8e(0x181)]][_0xce0d8e(0x30b)](_0x2f6f7b);}async['findParticipants'](_0x5d8b68,_0x45a716){const _0x5cc1a2=a0_0x4cdcbe;return await this[_0x5cc1a2(0x807)]['waInstances'][_0x5d8b68[_0x5cc1a2(0x181)]][_0x5cc1a2(0x3a2)](_0x45a716);}async[a0_0x4cdcbe(0x5d5)](_0x4f3e84,_0x54bde1){const _0x284c8c=a0_0x4cdcbe;return await this[_0x284c8c(0x807)][_0x284c8c(0x638)][_0x4f3e84[_0x284c8c(0x181)]]['updateGParticipant'](_0x54bde1);}async['toggleEphemeral'](_0x30c7cf,_0x51afc2){const _0x384977=a0_0x4cdcbe;return await this['waMonitor']['waInstances'][_0x30c7cf['instanceName']][_0x384977(0x7f0)](_0x51afc2);}async[a0_0x4cdcbe(0x5be)](_0x20abaa,_0x108a11){const _0x121e1b=a0_0x4cdcbe;return await this['waMonitor'][_0x121e1b(0x638)][_0x20abaa[_0x121e1b(0x181)]][_0x121e1b(0x5be)](_0x108a11);}},es=class{constructor(_0x1e910b){const _0x4d2aa1=a0_0x4cdcbe;this[_0x4d2aa1(0x807)]=_0x1e910b;}[a0_0x4cdcbe(0x22a)](_0x87495d,_0x3485c9){const _0x36ff5b=a0_0x4cdcbe;return this[_0x36ff5b(0x807)][_0x36ff5b(0x638)][_0x87495d[_0x36ff5b(0x181)]][_0x36ff5b(0x68f)](_0x3485c9);}async[a0_0x4cdcbe(0x521)](_0x207295){const _0x6dfdff=a0_0x4cdcbe;try{return await this[_0x6dfdff(0x807)]['waInstances'][_0x207295[_0x6dfdff(0x181)]][_0x6dfdff(0x35d)]();}catch{return{'enabled':null,'url':''};}}},Gp=new $(a0_0x4cdcbe(0x651)),ts=class{constructor(_0x260174){const _0x4c64f0=a0_0x4cdcbe;this[_0x4c64f0(0x807)]=_0x260174;}async[a0_0x4cdcbe(0x2b5)](_0x34afe4,_0x15c7b1){const _0xd331a6=a0_0x4cdcbe;return await this[_0xd331a6(0x807)][_0xd331a6(0x638)][_0x34afe4[_0xd331a6(0x181)]][_0xd331a6(0x2b5)](_0x15c7b1);}async[a0_0x4cdcbe(0x8da)](_0x34941c){const _0xddfb53=a0_0x4cdcbe;return await this[_0xddfb53(0x807)][_0xddfb53(0x638)][_0x34941c[_0xddfb53(0x181)]]['getScheduleMessage']();}async[a0_0x4cdcbe(0x252)](_0x4368ea){const _0x48e9b6=a0_0x4cdcbe;return await this[_0x48e9b6(0x807)][_0x48e9b6(0x638)][_0x4368ea[_0x48e9b6(0x181)]][_0x48e9b6(0x252)]();}async[a0_0x4cdcbe(0x43e)](_0x3f4334){const _0x315f16=a0_0x4cdcbe;return await this[_0x315f16(0x807)][_0x315f16(0x638)][_0x3f4334[_0x315f16(0x181)]][_0x315f16(0x43e)]();}async['updateAgent'](_0x1f2573,_0x2f3da4){const _0x4dab7e=a0_0x4cdcbe;return await this[_0x4dab7e(0x807)][_0x4dab7e(0x638)][_0x1f2573['instanceName']][_0x4dab7e(0x3bf)](_0x2f3da4);}async['updateCustomFields'](_0x33a6b1,_0x11c827){const _0xfa21d7=a0_0x4cdcbe;return await this[_0xfa21d7(0x807)][_0xfa21d7(0x638)][_0x33a6b1[_0xfa21d7(0x181)]][_0xfa21d7(0x8b0)](_0x11c827);}async[a0_0x4cdcbe(0x36a)](_0x2fc255,_0x404508){const _0xe91981=a0_0x4cdcbe;return await this['waMonitor'][_0xe91981(0x638)][_0x2fc255[_0xe91981(0x181)]][_0xe91981(0x36a)](_0x404508);}async['updateFlowConfig'](_0x35f572,_0x15275b){const _0x552628=a0_0x4cdcbe;return await this[_0x552628(0x807)][_0x552628(0x638)][_0x35f572[_0x552628(0x181)]][_0x552628(0x1cb)](_0x15275b);}async['startFlow'](_0x5ab072,_0x168863){const _0x36953a=a0_0x4cdcbe;return await this[_0x36953a(0x807)][_0x36953a(0x638)][_0x5ab072[_0x36953a(0x181)]][_0x36953a(0x5d3)](_0x168863);}async[a0_0x4cdcbe(0x3ae)](_0x2d6b19,_0x213ffe,_0x3ba27c,_0x4c7c14){const _0x202a06=a0_0x4cdcbe;return await this[_0x202a06(0x807)][_0x202a06(0x638)][_0x2d6b19]['startFlowWebhook'](_0x213ffe,_0x3ba27c,_0x4c7c14);}async[a0_0x4cdcbe(0x735)](_0x45e80e,_0x3954c6){const _0x366b43=a0_0x4cdcbe;return await this[_0x366b43(0x807)]['waInstances'][_0x45e80e[_0x366b43(0x181)]]['getConversation'](_0x3954c6);}async[a0_0x4cdcbe(0x4c7)](_0x45b565,_0x542498){const _0x580615=a0_0x4cdcbe;return await this['waMonitor'][_0x580615(0x638)][_0x45b565[_0x580615(0x181)]][_0x580615(0x4c7)](_0x542498);}async[a0_0x4cdcbe(0x79a)](_0x11b55e,_0x195b6b){const _0x22e721=a0_0x4cdcbe;return await this[_0x22e721(0x807)][_0x22e721(0x638)][_0x11b55e['instanceName']][_0x22e721(0x79a)](_0x195b6b);}async[a0_0x4cdcbe(0x327)](_0x198fa7,_0xc8f6b){const _0x9ee8c5=a0_0x4cdcbe;return await this[_0x9ee8c5(0x807)]['waInstances'][_0x198fa7[_0x9ee8c5(0x181)]][_0x9ee8c5(0x327)](_0xc8f6b);}async[a0_0x4cdcbe(0x1d0)](_0x110680,_0x26adfe){const _0x1e6e30=a0_0x4cdcbe;return await this[_0x1e6e30(0x807)][_0x1e6e30(0x638)][_0x110680[_0x1e6e30(0x181)]][_0x1e6e30(0x1d0)](_0x26adfe[_0x1e6e30(0x42f)]);}async[a0_0x4cdcbe(0x2c7)](_0xb1e13b,_0x5df411,_0x1690eb){const _0x16b4a2=a0_0x4cdcbe;return await this[_0x16b4a2(0x807)][_0x16b4a2(0x638)][_0xb1e13b[_0x16b4a2(0x181)]][_0x16b4a2(0x2c7)](_0x5df411,_0x1690eb);}async['editFlow'](_0xc6ab95,_0x3c29c0,_0x4f4a04){const _0xfcdfa9=a0_0x4cdcbe;return await this['waMonitor'][_0xfcdfa9(0x638)][_0xc6ab95['instanceName']]['editFlow'](_0x3c29c0,_0x4f4a04);}async[a0_0x4cdcbe(0x6bf)](_0x4b4c9b,_0x343a26){const _0x4b6531=a0_0x4cdcbe;return await this[_0x4b6531(0x807)][_0x4b6531(0x638)][_0x4b4c9b[_0x4b6531(0x181)]][_0x4b6531(0x6bf)](_0x343a26);}async[a0_0x4cdcbe(0x2e2)](_0x197cdb,_0x558502){return await this['waMonitor']['waInstances'][_0x197cdb['instanceName']]['editFlowReply'](_0x558502);}async['editFlowGroup'](_0x242a62,_0x3bf8e1){const _0x5e8e36=a0_0x4cdcbe;return await this[_0x5e8e36(0x807)][_0x5e8e36(0x638)][_0x242a62[_0x5e8e36(0x181)]][_0x5e8e36(0x38f)](_0x3bf8e1);}async[a0_0x4cdcbe(0x814)](_0x1b4643,_0x43d100){const _0x49de62=a0_0x4cdcbe;return await this['waMonitor'][_0x49de62(0x638)][_0x1b4643[_0x49de62(0x181)]][_0x49de62(0x814)](_0x43d100);}async[a0_0x4cdcbe(0x34a)](_0x158b0a,_0x44bdfa){const _0x2854d5=a0_0x4cdcbe;return await this[_0x2854d5(0x807)]['waInstances'][_0x158b0a[_0x2854d5(0x181)]][_0x2854d5(0x34a)](_0x44bdfa);}async[a0_0x4cdcbe(0x2ac)](_0x647be1,_0x1264bd){const _0x516338=a0_0x4cdcbe;return await this[_0x516338(0x807)]['waInstances'][_0x647be1[_0x516338(0x181)]]['editFlowVariable'](_0x1264bd);}async[a0_0x4cdcbe(0x2de)](_0x921822,_0x4d5a3c){const _0x39e702=a0_0x4cdcbe;return await this[_0x39e702(0x807)]['waInstances'][_0x921822[_0x39e702(0x181)]][_0x39e702(0x2de)](_0x4d5a3c);}async[a0_0x4cdcbe(0x23b)](_0x5844e9){const _0x5398de=a0_0x4cdcbe;return await this[_0x5398de(0x807)]['waInstances'][_0x5844e9[_0x5398de(0x181)]][_0x5398de(0x23b)]();}},ss=class{constructor(_0xa99f0c){const _0x108f9d=a0_0x4cdcbe;this[_0x108f9d(0x7d1)]=_0xa99f0c;}async[a0_0x4cdcbe(0x58a)](_0x2f6d37,_0x2f876d){const _0x229071=a0_0x4cdcbe;return this[_0x229071(0x7d1)]['create'](_0x2f6d37,_0x2f876d);}async[a0_0x4cdcbe(0x35d)](_0x11643a){const _0x87cb1f=a0_0x4cdcbe;return this['webhookService'][_0x87cb1f(0x521)](_0x11643a);}},as=class extends _{constructor(_0x7403f9,_0x4813d3){const _0x5ed6e1=a0_0x4cdcbe;super(_0x4813d3),this[_0x5ed6e1(0x461)]=_0x7403f9,this[_0x5ed6e1(0x5fa)]=_0x4813d3;}async[a0_0x4cdcbe(0x22a)](_0x57641c,_0x4b1fbb){const _0x5ec31b=a0_0x4cdcbe;try{return this[_0x5ec31b(0x888)][_0x5ec31b(0x8dc)]?{'insertCount':(await this[_0x5ec31b(0x461)]['replaceOne']({'_id':_0x4b1fbb},{..._0x57641c},{'upsert':!0x0}))[_0x5ec31b(0x78f)]}:{'insertCount':0x1};}catch(_0x579aaf){return _0x579aaf;}}async[a0_0x4cdcbe(0x5f7)](_0x395c13){const _0x2630d1=a0_0x4cdcbe;try{if(this[_0x2630d1(0x888)][_0x2630d1(0x8dc)]){await this[_0x2630d1(0x461)][_0x2630d1(0x4f7)]({'_id':_0x395c13});return;}}catch(_0x30406e){return{'error':_0x30406e};}}async['find'](_0x11a31d){const _0x1429cb=a0_0x4cdcbe;try{if(this[_0x1429cb(0x888)]['ENABLED'])return await this[_0x1429cb(0x461)]['findOne']({'_id':_0x11a31d});}catch{return{};}}},is=class extends _{constructor(_0x1d26ce,_0x412ecb){const _0x473ced=a0_0x4cdcbe;super(_0x412ecb),this['authModel']=_0x1d26ce,this[_0x473ced(0x5fa)]=_0x412ecb,this[_0x473ced(0x5f4)]=_0x412ecb['get'](_0x473ced(0x475));}async['create'](_0x316169,_0x3a4428){const _0x4548b8=a0_0x4cdcbe;try{if(this[_0x4548b8(0x888)][_0x4548b8(0x8dc)])return{'insertCount':(await this[_0x4548b8(0x5d7)][_0x4548b8(0x869)]({'_id':_0x3a4428},{'$set':{..._0x316169}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x5b7dae){return{'error':_0x5b7dae};}}async[a0_0x4cdcbe(0x492)](_0x4d3ff8,_0xf81619){const _0xf9ac69=a0_0x4cdcbe;try{if(this[_0xf9ac69(0x888)][_0xf9ac69(0x8dc)])return{'insertCount':(await this[_0xf9ac69(0x5d7)][_0xf9ac69(0x597)](_0x4d3ff8,{'$set':_0xf81619},{'upsert':!0x1}))[_0xf9ac69(0x78f)]};throw new Error(_0xf9ac69(0x7d9));}catch(_0x336b15){return{'error':_0x336b15};}}async[a0_0x4cdcbe(0x334)](_0x293625){const _0x52c55a=a0_0x4cdcbe;try{if(this[_0x52c55a(0x888)][_0x52c55a(0x8dc)])return{'insertCount':(await this[_0x52c55a(0x5d7)][_0x52c55a(0x334)](_0x293625))[_0x52c55a(0x562)]};throw new Error(_0x52c55a(0x2f6));}catch(_0x287f57){return{'error':_0x287f57};}}async[a0_0x4cdcbe(0x5f7)](_0x221cd7){const _0xb45caa=a0_0x4cdcbe;try{if(this[_0xb45caa(0x888)][_0xb45caa(0x8dc)]){await this[_0xb45caa(0x5d7)]['deleteOne']({'_id':_0x221cd7});return;}}catch(_0x325556){return{'error':_0x325556};}}async['find'](_0x13cf45){const _0x4c76a6=a0_0x4cdcbe;try{if(this[_0x4c76a6(0x888)][_0x4c76a6(0x8dc)])return await this[_0x4c76a6(0x5d7)][_0x4c76a6(0x324)]({'_id':_0x13cf45});}catch{return{};}}async['findAll'](){const _0x68fae6=a0_0x4cdcbe;try{if(this[_0x68fae6(0x888)]['ENABLED'])return await this['authModel'][_0x68fae6(0x521)]();}catch{return[];}}async[a0_0x4cdcbe(0x4a9)](_0x1c5f55){const _0x2cec64=a0_0x4cdcbe;try{if(this[_0x2cec64(0x888)][_0x2cec64(0x8dc)])return await this[_0x2cec64(0x5d7)][_0x2cec64(0x521)](_0x1c5f55);}catch{return[];}}},os=class extends _{async[a0_0x4cdcbe(0x4f7)](_0x297a2c){const _0x416da5=a0_0x4cdcbe;try{let _0x48845c=I(_0x297a2c[_0x416da5(0x449)]);return{'deletedCount':(await Ce[_0x416da5(0x4f7)](_0x48845c))[_0x416da5(0x562)]};}catch(_0x13351e){return{'error':_0x13351e?.[_0x416da5(0x897)]()};}}async['updateOne'](_0xce6224,_0x242e1a){const _0x1d18aa=a0_0x4cdcbe;try{let _0x4dfa70=await Ce[_0x1d18aa(0x2f7)](_0xce6224);return _0x4dfa70?(Object[_0x1d18aa(0x4dc)](_0x4dfa70,_0x242e1a),await _0x4dfa70['save']()):(console[_0x1d18aa(0x2c1)](_0x1d18aa(0x248),_0xce6224),null);}catch(_0x8b6d13){return console['error'](_0x1d18aa(0x5cc),_0x8b6d13),null;}}async[a0_0x4cdcbe(0x68e)](_0x26a69c){const _0xe911d5=a0_0x4cdcbe;try{return await new Ce(_0x26a69c)[_0xe911d5(0x5e5)]();}catch(_0x377a75){return console[_0xe911d5(0x2c1)](_0xe911d5(0x862),_0x377a75),null;}}async[a0_0x4cdcbe(0x5ff)](_0x119e63){const _0x4b99d7=a0_0x4cdcbe;try{let _0x5a1f89=_0x119e63['where']??{};return await Ce[_0x4b99d7(0x521)](_0x5a1f89)[_0x4b99d7(0x4a7)](_0x119e63['limit']??0x0)[_0x4b99d7(0x28d)]();}catch(_0x1a1675){return console[_0x4b99d7(0x2c1)](_0x4b99d7(0x70b),_0x1a1675),[];}}async['findOne'](_0x11b6a8){const _0x3a7157=a0_0x4cdcbe;try{let _0x54e646=I(_0x11b6a8['where']);return await Ce[_0x3a7157(0x324)](_0x54e646)[_0x3a7157(0x28d)]();}catch{return null;}}},rs=class extends _{[a0_0x4cdcbe(0x7a3)](_0x265f06){return Ma(_0x265f06);}async[a0_0x4cdcbe(0x5ed)](_0x316d2c){const _0x5772aa=a0_0x4cdcbe;if(_0x316d2c[_0x5772aa(0x59d)]!==0x0)try{return{'insertCount':(await this[_0x5772aa(0x7a3)](_0x316d2c[0x0][_0x5772aa(0x3c1)])[_0x5772aa(0x490)]([..._0x316d2c]))[_0x5772aa(0x59d)]};}catch(_0x3947f5){return _0x3947f5;}}async[a0_0x4cdcbe(0x5f7)](_0x10c3c4,_0x130e77){const _0x4a5c76=a0_0x4cdcbe;try{let _0x54c2dc=this[_0x4a5c76(0x7a3)](_0x130e77),_0x1637d9=I(_0x10c3c4[_0x4a5c76(0x449)]);return{'deletedCount':(await _0x54c2dc[_0x4a5c76(0x334)](_0x1637d9))[_0x4a5c76(0x562)]};}catch(_0x340e40){return{'error':_0x340e40?.[_0x4a5c76(0x897)]()};}}async[a0_0x4cdcbe(0x4f7)](_0x1962ee,_0x53f61e){const _0x39c421=a0_0x4cdcbe;try{let _0x2373b1=this['getConversationModelForOwner'](_0x53f61e),_0x5dc969=I(_0x1962ee[_0x39c421(0x449)]);return{'deletedCount':(await _0x2373b1['deleteOne'](_0x5dc969))[_0x39c421(0x562)]};}catch(_0x153bca){return{'error':_0x153bca?.[_0x39c421(0x897)]()};}}async[a0_0x4cdcbe(0x17d)](_0x547d13,_0x419dbd){const _0x108788=a0_0x4cdcbe;try{if(_0x547d13[_0x108788(0x59d)]===0x0)return;let _0x3a4062=this[_0x108788(0x7a3)](_0x419dbd),_0x1219ec=_0x547d13['map'](_0x1cc424=>({'updateOne':{'filter':{'name':_0x1cc424[_0x108788(0x5cf)],'owner':_0x419dbd},'update':{..._0x1cc424}}})),{modifiedCount:_0x3b32b7}=await _0x3a4062[_0x108788(0x1ad)](_0x1219ec);return{'insertCount':_0x3b32b7};}catch{return;}}async[a0_0x4cdcbe(0x597)](_0x487801,_0x22e2d7,_0x5ac940){const _0x3231b5=a0_0x4cdcbe;try{return{'modifiedCount':(await this[_0x3231b5(0x7a3)](_0x5ac940)[_0x3231b5(0x597)](_0x487801,{'$set':_0x22e2d7})[_0x3231b5(0x89d)]())[_0x3231b5(0x78f)]};}catch(_0xb4000a){return console[_0x3231b5(0x2c1)](_0x3231b5(0x6c1),_0xb4000a),{'error':_0xb4000a};}}async[a0_0x4cdcbe(0x869)](_0x3694e9,_0x378229,_0x18e276){const _0x4f1877=a0_0x4cdcbe;try{return await this['getConversationModelForOwner'](_0x18e276)[_0x4f1877(0x385)]({'_id':_0x3694e9},{'$set':_0x378229},{'new':!0x0,'upsert':!0x0})[_0x4f1877(0x28d)]();}catch(_0x2a50de){return console[_0x4f1877(0x2c1)](_0x2a50de),null;}}async[a0_0x4cdcbe(0x521)](_0x3da340,_0x3cf92e){const _0x200fe5=a0_0x4cdcbe;try{return await this[_0x200fe5(0x7a3)](_0x3cf92e)[_0x200fe5(0x521)](_0x3da340)[_0x200fe5(0x535)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async['findOne'](_0x6309f5,_0x5c0274){const _0x15e323=a0_0x4cdcbe;try{return await this['getConversationModelForOwner'](_0x5c0274)[_0x15e323(0x324)]({..._0x6309f5[_0x15e323(0x449)]})[_0x15e323(0x28d)]();}catch{return null;}}async[a0_0x4cdcbe(0x2fc)](_0x476712){const _0x3fbeee=a0_0x4cdcbe;try{return await this[_0x3fbeee(0x7a3)](_0x476712)[_0x3fbeee(0x58c)]['drop'](),{'success':!0x0};}catch(_0x3a1bef){return console[_0x3fbeee(0x2c1)](_0x3a1bef),{'success':!0x1,'error':_0x3a1bef};}}},ns=class extends _{[a0_0x4cdcbe(0x50a)](_0x541c66){return Ca(_0x541c66);}async[a0_0x4cdcbe(0x1ad)](_0x45df11,_0x28cbd0){const _0xab6235=a0_0x4cdcbe;try{return await this[_0xab6235(0x50a)](_0x28cbd0)[_0xab6235(0x1ad)](_0x45df11);}catch(_0x5234b2){return console[_0xab6235(0x2c1)](_0xab6235(0x3b1),_0x5234b2),null;}}async[a0_0x4cdcbe(0x68e)](_0x84073b,_0x4f108c){const _0x102323=a0_0x4cdcbe;try{let _0x423222=this[_0x102323(0x50a)](_0x4f108c);return await new _0x423222(_0x84073b)['save']();}catch(_0x1e07db){return console[_0x102323(0x2c1)](_0x102323(0x808),_0x1e07db),null;}}async['deleteOne'](_0x54f73b,_0x1e2d07){const _0x4ecc18=a0_0x4cdcbe;try{return await this[_0x4ecc18(0x50a)](_0x1e2d07)['findByIdAndDelete'](_0x54f73b),{};}catch(_0x5f1e7a){return{'error':_0x5f1e7a?.['toString']()};}}async['updateOne'](_0x1b8422,_0x5d5de9,_0xcebb59,_0xc0ed1c={}){const _0xc28a6=a0_0x4cdcbe;try{return await this[_0xc28a6(0x50a)](_0xcebb59)[_0xc28a6(0x385)](_0x1b8422,_0x5d5de9,{..._0xc0ed1c,'new':!0x0})[_0xc28a6(0x28d)]();}catch(_0x24ce1b){return console['error'](_0xc28a6(0x456),_0x24ce1b),null;}}async[a0_0x4cdcbe(0x31b)](_0x27cd09,_0x3b08dc,_0x117005){const _0x1213f3=a0_0x4cdcbe;try{return await this[_0x1213f3(0x50a)](_0x117005)[_0x1213f3(0x6f4)](_0x27cd09,_0x3b08dc,{'new':!0x0})['lean']();}catch(_0x115bd1){return console['error'](_0x1213f3(0x456),_0x115bd1),null;}}async['find'](_0x55600d,_0x2c9d7e){const _0x1e5edf=a0_0x4cdcbe;try{return await this['getScheduleMessageModelForOwner'](_0x2c9d7e)[_0x1e5edf(0x521)](_0x55600d['where'])[_0x1e5edf(0x4a7)](_0x55600d?.[_0x1e5edf(0x4a7)]??0x0)[_0x1e5edf(0x535)]({'when':0x1})[_0x1e5edf(0x28d)]();}catch{return[];}}async[a0_0x4cdcbe(0x324)](_0x28fd99,_0x4f6ab0){const _0x38ef6d=a0_0x4cdcbe;try{return await this[_0x38ef6d(0x50a)](_0x4f6ab0)[_0x38ef6d(0x324)](_0x28fd99[_0x38ef6d(0x449)])[_0x38ef6d(0x535)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x4cdcbe(0x2f7)](_0x1c9e88,_0x28cc05){const _0x1c220e=a0_0x4cdcbe;try{return await this['getScheduleMessageModelForOwner'](_0x28cc05)[_0x1c220e(0x2f7)](_0x1c9e88)['lean']();}catch{return null;}}async[a0_0x4cdcbe(0x334)](_0x1914ab,_0x5773b1){const _0x3bb52f=a0_0x4cdcbe;try{return{'deletedCount':(await this[_0x3bb52f(0x50a)](_0x5773b1)[_0x3bb52f(0x334)](_0x1914ab))[_0x3bb52f(0x562)]};}catch(_0x45f042){return console[_0x3bb52f(0x2c1)](_0x3bb52f(0x1df),_0x45f042),{'error':_0x45f042};}}async[a0_0x4cdcbe(0x2fc)](_0x5b0eb8){const _0x3c292c=a0_0x4cdcbe;try{return await this[_0x3c292c(0x50a)](_0x5b0eb8)[_0x3c292c(0x58c)][_0x3c292c(0x3cb)](),{'success':!0x0};}catch(_0xad1f3f){return console[_0x3c292c(0x2c1)](_0xad1f3f),{'success':!0x1,'error':_0xad1f3f};}}},cs=class extends _{async[a0_0x4cdcbe(0x17d)](_0x5e0bea,_0x199255){const _0x1272cd=a0_0x4cdcbe;try{if(this[_0x1272cd(0x888)]['ENABLED'])return await Ae[_0x1272cd(0x385)]({'_id':_0x199255},{'$set':_0x5e0bea},{'new':!0x0});}catch(_0x4fae65){throw console['error'](_0x1272cd(0x3c4),_0x4fae65),_0x4fae65;}}async[a0_0x4cdcbe(0x892)](_0x3ce9e5){const _0x3de5e9=a0_0x4cdcbe;try{let _0x26305e=await Ae[_0x3de5e9(0x2f7)](_0x3ce9e5);return _0x26305e?_0x26305e[_0x3de5e9(0x69c)]||(_0x26305e[_0x3de5e9(0x69c)]=[],await _0x26305e[_0x3de5e9(0x5e5)]()):(_0x26305e=new Ae({'_id':_0x3ce9e5,'autoCompleteMessages':[]}),await _0x26305e['save']()),_0x26305e;}catch(_0x33788c){return _0x33788c[_0x3de5e9(0x71b)]===0x2af8&&_0x33788c[_0x3de5e9(0x570)]&&_0x33788c['keyPattern'][_0x3de5e9(0x771)]?(console[_0x3de5e9(0x2c1)](_0x3de5e9(0x832)),await Ae[_0x3de5e9(0x58c)][_0x3de5e9(0x77a)](_0x3de5e9(0x2fb)),null):(console['error'](_0x3de5e9(0x1c3),_0x33788c),null);}}},Jo=new $(a0_0x4cdcbe(0x368)),qo=new Ye(b),Vo=new Bt(b),Go=new ct(b),Bo=new Wt(ra,b),Wo=new as(ga,b),zo=new is(da,b),Ho=new Ne(ze,b),Ko=new os(b),Qo=new zt(b),Yo=new rs(b),Xo=new ns(b),Zo=new cs(b),we=new Ke(qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Yo,Qo,Xo,Zo,R?.[a0_0x4cdcbe(0x858)]()),z=new Gt(ms,b,we),er=new Xt(b,z,we),tr=new es(z),Is=new ss(tr),T=new ts(z),he=new Qt(z,b,we,ms,er),H=new Yt(z),k=new Ht(z),G=new Zt(z);Jo[a0_0x4cdcbe(0x71f)](a0_0x4cdcbe(0x5af));var ng=require(a0_0x4cdcbe(0x5a3)),js=require('fs'),Li=A(require(a0_0x4cdcbe(0x680))),Fi=A(require(a0_0x4cdcbe(0x703))),Ue=class u{static #e;static set[a0_0x4cdcbe(0x531)](_0x57009d){this.#e=_0x57009d;}static get[a0_0x4cdcbe(0x680)](){const _0x2d2183=a0_0x4cdcbe;let {FULLCHAIN:_0x1d7b1a,PRIVKEY:_0x44e91d}=b['get']('SSL_CONF');return Li[_0x2d2183(0x56c)]({'cert':(0x0,js[_0x2d2183(0x43a)])(_0x1d7b1a),'key':(0x0,js[_0x2d2183(0x43a)])(_0x44e91d)},u.#e);}static get[a0_0x4cdcbe(0x703)](){const _0x2e401c=a0_0x4cdcbe;return Fi[_0x2e401c(0x56c)](u.#e);}},je=A(require('fs')),Gi=A(require('ini')),Je=A(require(a0_0x4cdcbe(0x459))),us=A(require('path')),ls=require(a0_0x4cdcbe(0x545));function sr(){const _0x159d65=a0_0x4cdcbe;z[_0x159d65(0x5c3)]();let _0x4a07ef=us['default'][_0x159d65(0x481)](__dirname,_0x159d65(0x23d));Vi(_0x4a07ef);}var Vi=_0x48298d=>{const _0x1f769e=a0_0x4cdcbe;let _0x27e0c1=je['default'][_0x1f769e(0x1dc)](_0x48298d),_0x5e4a8d=0xc*0x3c*0x3c*0x3e8,_0x3231c1=0x2*0x3c*0x3c*0x3e8,_0x324ef1=new Date()[_0x1f769e(0x5ea)]();_0x27e0c1['forEach'](_0x442c4c=>{const _0x43e922=_0x1f769e;let _0x2bbd96=us[_0x43e922(0x669)][_0x43e922(0x481)](_0x48298d,_0x442c4c),_0x41033f=je['default'][_0x43e922(0x27e)](_0x2bbd96)[_0x43e922(0x267)][_0x43e922(0x5ea)]();_0x324ef1-_0x41033f>_0x5e4a8d&&(je[_0x43e922(0x669)][_0x43e922(0x550)](_0x2bbd96),console['log'](_0x43e922(0x5c5)+_0x442c4c));}),setTimeout(()=>Vi(_0x48298d),_0x3231c1);};function ar(){const _0x53af14=a0_0x4cdcbe;let _0x4deea7=new $('SERVER'),_0x43977b=(0x0,be[_0x53af14(0x669)])();_0x43977b[_0x53af14(0x23c)]((0x0,qi[_0x53af14(0x669)])({'origin'(_0x345ce4,_0x1a321e){const _0x255531=_0x53af14;let {ORIGIN:_0x1c18c4}=b[_0x255531(0x2df)](_0x255531(0x56e));return _0x345ce4||(_0x345ce4='*'),_0x1c18c4['indexOf']('*')!==-0x1||_0x1c18c4[_0x255531(0x312)](_0x345ce4)!==-0x1?_0x1a321e(null,!0x0):_0x1a321e(new Error(_0x255531(0x58b)));},'methods':[...b[_0x53af14(0x2df)](_0x53af14(0x56e))[_0x53af14(0x57f)]],'credentials':b[_0x53af14(0x2df)]('CORS')[_0x53af14(0x34e)]}),(0x0,be[_0x53af14(0x46e)])({'extended':!0x0,'limit':_0x53af14(0x8cb)}),(0x0,be[_0x53af14(0x30c)])({'limit':_0x53af14(0x8cb)})),_0x43977b[_0x53af14(0x23c)]((_0x3c6a9d,_0x5b4de9,_0x2cd64f)=>{const _0x2ee2cc=_0x53af14;_0x3c6a9d['path'][_0x2ee2cc(0x196)](_0x2ee2cc(0x6df))?_0x2cd64f():(0x0,Ji[_0x2ee2cc(0x669)])()(_0x3c6a9d,_0x5b4de9,_0x2cd64f);}),_0x43977b[_0x53af14(0x389)](_0x53af14(0x6e0),_0x53af14(0x2fa)),_0x43977b[_0x53af14(0x389)](_0x53af14(0x207),(0x0,qs[_0x53af14(0x481)])(ue,_0x53af14(0x207))),_0x43977b[_0x53af14(0x23c)](be[_0x53af14(0x669)][_0x53af14(0x779)]((0x0,qs['join'])(ue,_0x53af14(0x5e0)))),_0x43977b[_0x53af14(0x23c)]((_0x5df9cc,_0x30aaff,_0x381611)=>{const _0x18bde1=_0x53af14;let _0x43ba2d=_0x30aaff[_0x18bde1(0x330)];_0x30aaff[_0x18bde1(0x330)]=function(_0x5c7256){const _0x3ab875=_0x18bde1;if(_0x5df9cc[_0x3ab875(0x596)][_0x3ab875(0x5bf)]==='true'||_0x5df9cc[_0x3ab875(0x4ef)][_0x3ab875(0x82b)]===_0x3ab875(0x608)){let _0x12ef90=JSON[_0x3ab875(0x1c7)](_0x5c7256);_0x5c7256=JSON[_0x3ab875(0x289)](_0x30828f(_0x12ef90));}return _0x43ba2d[_0x3ab875(0x247)](_0x30aaff,[_0x5c7256]);},_0x381611();}),_0x43977b['use']('/',ke),_0x43977b[_0x53af14(0x23c)]((_0x1b74cf,_0x123952,_0x343f5b,_0x207371)=>{const _0x4ff443=_0x53af14;if(_0x1b74cf)return _0x343f5b[_0x4ff443(0x4b1)](_0x1b74cf[_0x4ff443(0x4b1)]||0x1f4)[_0x4ff443(0x30c)](_0x1b74cf);},(_0x528a50,_0x2eacd7,_0x728616)=>{const _0x39c6aa=_0x53af14;let {method:_0x43a884,url:_0x3c0427}=_0x528a50;_0x2eacd7[_0x39c6aa(0x4b1)](0x194)[_0x39c6aa(0x30c)]({'status':0x194,'message':_0x39c6aa(0x514)+_0x43a884[_0x39c6aa(0x411)]()+'\x20'+_0x3c0427,'error':_0x39c6aa(0x8ae)}),_0x728616();});let _0x30828f=(_0x3d7fbd,_0x510f7a=_0x53af14(0x54a))=>{const _0x5d89db=_0x53af14;let _0x5ec7a6=(_0x289e50,_0x4e95ad=null,_0x45162a=!0x1)=>{const _0x362952=a0_0x5e25;let _0x46a174={};return Object['keys'](_0x289e50)[_0x362952(0x1d7)](_0x4bebf1=>{const _0xbdd432=_0x362952;let _0x253a6e=_0x289e50[_0x4bebf1],_0x94b382=''+_0x510f7a+_0x4bebf1;_0x4e95ad&&!_0x45162a&&(_0x94b382=_0x4e95ad+'.'+_0x4bebf1),!_0x253a6e&&_0x253a6e!==0x0&&_0x253a6e!==!0x1||typeof _0x253a6e>'u'?_0x46a174[_0x94b382]=null:typeof _0x253a6e!=_0xbdd432(0x4d6)&&!Array[_0xbdd432(0x2cf)](_0x253a6e)?_0x46a174[_0x94b382]=_0x253a6e:typeof _0x253a6e==_0xbdd432(0x4d6)&&!Array[_0xbdd432(0x2cf)](_0x253a6e)?_0x46a174=Object[_0xbdd432(0x4dc)](_0x46a174,_0x5ec7a6(_0x253a6e,_0x94b382)):Array[_0xbdd432(0x2cf)](_0x253a6e)&&(typeof _0x253a6e[0x0]==_0xbdd432(0x4d6)?(_0x46a174[_0x94b382]=[],_0x253a6e[_0xbdd432(0x1d7)](_0x44ad66=>{const _0x370775=_0xbdd432;_0x46a174[_0x94b382][_0x370775(0x7e2)](_0x5ec7a6(_0x44ad66,_0x94b382,!0x0));})):_0x46a174[_0x94b382]=_0x253a6e);}),_0x46a174;};return Array['isArray'](_0x3d7fbd)?_0x3d7fbd[_0x5d89db(0x79d)](_0x2f80f7=>_0x5ec7a6(_0x2f80f7)):typeof _0x3d7fbd=='object'&&_0x3d7fbd!==null?_0x5ec7a6(_0x3d7fbd):{};},_0x33cf6a=b[_0x53af14(0x2df)](_0x53af14(0x720));Ue['app']=_0x43977b;let _0x4a6a17=Ue[_0x33cf6a[_0x53af14(0x395)]],_0x662382=_0x53af14(0x614);_0x4a6a17['listen'](_0x33cf6a[_0x53af14(0x2ed)],()=>{const _0x55c876=_0x53af14;_0x4deea7['log'](_0x662382),_0x4deea7[_0x55c876(0x65b)](_0x33cf6a[_0x55c876(0x395)][_0x55c876(0x411)]()+'\x20-\x20ON:\x20'+_0x33cf6a[_0x55c876(0x2ed)]);}),sr(),ea();}var ir=a0_0x4cdcbe(0x7bc),or=us[a0_0x4cdcbe(0x669)][a0_0x4cdcbe(0x481)](__dirname,'./.git/config'),Re=null;function rr(){return new Promise((_0x531790,_0x5ebc83)=>{const _0x25469c=a0_0x5e25;je[_0x25469c(0x669)][_0x25469c(0x7d7)](or,_0x25469c(0x3cd),(_0x2fcf97,_0x5efa89)=>{const _0x20e320=_0x25469c;if(_0x2fcf97){Re=_0x2fcf97,_0x531790();return;}Gi[_0x20e320(0x669)][_0x20e320(0x1c7)](_0x5efa89)[_0x20e320(0x73d)][_0x20e320(0x6c6)]===ir?(Re=null,_0x531790()):(Re=new Error(_0x20e320(0x338)),_0x531790());});});}async function nr(){const _0x1c2813=a0_0x4cdcbe;try{await rr(),await Vs();}catch(_0x59cd00){console['error'](_0x1c2813(0x1ed)+_0x59cd00),process[_0x1c2813(0x1e7)](0x1);}}nr();async function Bi(){const _0x34ffbf=a0_0x4cdcbe;let _0x2656f6;try{_0x2656f6=(await Je[_0x34ffbf(0x669)]['get']('https://jsonip.com'))['data']['ip'];}catch(_0x91c512){console[_0x34ffbf(0x2c1)](_0x91c512);try{_0x2656f6=(await Je[_0x34ffbf(0x669)][_0x34ffbf(0x2df)](_0x34ffbf(0x595)))['data']['ip'];}catch(_0x916143){console[_0x34ffbf(0x2c1)](_0x916143);try{_0x2656f6=(await Je[_0x34ffbf(0x669)][_0x34ffbf(0x2df)](_0x34ffbf(0x8aa)))[_0x34ffbf(0x599)][_0x34ffbf(0x2c8)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x432d02){return console['error'](_0x432d02),!0x1;}}}return _0x2656f6;}var Ui=0x0;async function cr(){const _0x89e378=a0_0x4cdcbe;let _0x17f3a1=await new ge(b['get']('REDIS'))[_0x89e378(0x59e)]();return console[_0x89e378(0x65b)](_0x89e378(0x6a6),_0x17f3a1[_0x89e378(0x59d)]),_0x17f3a1['length'];}function lr(_0x1b55e6){const _0x3f40f9=a0_0x4cdcbe;let _0x4d54c7=_0x1b55e6[_0x3f40f9(0x2df)](_0x3f40f9(0x720))[_0x3f40f9(0x32b)],_0x31db78=_0x1b55e6[_0x3f40f9(0x2df)](_0x3f40f9(0x727));console['log'](_0x3f40f9(0x4f3),_0x4d54c7),console['log'](_0x3f40f9(0x326),_0x31db78);let _0x278cfc='',_0x27b326=_0x4d54c7||'';if(_0x4d54c7){let _0xbe06b9=_0x4d54c7[_0x3f40f9(0x2c8)](/\/\/(.*?)\./);console[_0x3f40f9(0x65b)](_0x3f40f9(0x4af),_0xbe06b9),_0xbe06b9&&_0xbe06b9[0x1]&&(_0x278cfc=_0xbe06b9[0x1],console[_0x3f40f9(0x65b)](_0x3f40f9(0x268),_0x278cfc));}if(!_0x278cfc&&_0x31db78&&_0x31db78[_0x3f40f9(0x43f)]){let _0x1904a9=_0x31db78[_0x3f40f9(0x43f)][_0x3f40f9(0x43b)]('/');console[_0x3f40f9(0x65b)](_0x3f40f9(0x1f1),_0x1904a9);let _0x17d15b=_0x1904a9[_0x1904a9[_0x3f40f9(0x59d)]-0x2];if(console['log']('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x17d15b),_0x17d15b){let _0x5c33ab=_0x17d15b[_0x3f40f9(0x43b)]('.');console['log']('Partes\x20do\x20domínio:',_0x5c33ab),_0x5c33ab[_0x3f40f9(0x59d)]>0x2&&(_0x278cfc=_0x5c33ab[0x0],console['log'](_0x3f40f9(0x57a),_0x278cfc),_0x27b326=''+_0x17d15b);}}return{'subdomain':_0x278cfc||_0x3f40f9(0x672),'fullURL':_0x27b326||_0x3f40f9(0x850)};}var {subdomain:K,fullURL:Gs}=lr(b);console[a0_0x4cdcbe(0x65b)](a0_0x4cdcbe(0x309),K),console[a0_0x4cdcbe(0x65b)]('URL\x20completa:',Gs);async function ur(){const _0x4884c5=a0_0x4cdcbe;let _0x282c0e=b[_0x4884c5(0x2df)]('REDIS'),_0x24b9f7=b[_0x4884c5(0x2df)](_0x4884c5(0x475))['API_KEY'][_0x4884c5(0x399)],_0x59b707=b[_0x4884c5(0x2df)](_0x4884c5(0x727)),_0x457b9b=await Bi(),_0x1afa7c=b[_0x4884c5(0x2df)](_0x4884c5(0x720))[_0x4884c5(0x2ed)],_0x53affc=Gs;try{let _0x51cf3b={'ip':_0x457b9b||null,'redis_enable':_0x282c0e?.[_0x4884c5(0x8dc)]||null,'apikey':_0x24b9f7||null,'ssl':_0x59b707?.[_0x4884c5(0x3c3)]||null,'lastupdate':Wi||null,'port':_0x1afa7c||null,'gitInstallError':Re?.[_0x4884c5(0x517)]||null,'url':_0x53affc||null,'subdomain':K};if(console[_0x4884c5(0x65b)](_0x4884c5(0x45f),_0x51cf3b['ip']),_0x282c0e&&_0x282c0e[_0x4884c5(0x8dc)]){let _0x2771bb=await cr();_0x51cf3b[_0x4884c5(0x52b)]=_0x2771bb||null;}for(let _0x1bea59 in _0x51cf3b)_0x51cf3b['hasOwnProperty'](_0x1bea59)&&_0x1bea59!=='ip'&&(_0x51cf3b[_0x1bea59]=JSON[_0x4884c5(0x289)](_0x51cf3b[_0x1bea59]));return(await Je[_0x4884c5(0x669)][_0x4884c5(0x876)](_0x4884c5(0x4b4),_0x51cf3b))[_0x4884c5(0x599)];}catch(_0x58a971){return console[_0x4884c5(0x2c1)](_0x58a971),!0x1;}}var Js=!0x1,Wi=0x25c,dr=0x3,ji=0x1b7740;async function Vs(){const _0x11f262=a0_0x4cdcbe;let _0x2981d2=_0x11f262(0x68b);Re===null&&(_0x2981d2=await Bi());let _0x945b52=await ur();if(_0x945b52){if(_0x945b52['response'][_0x11f262(0x432)]===!0x0){Re===null&&_0x945b52['response']['last_update']-Wi>0x0&&await pr(),Js||(Js=!0x0,ar());let _0x79ac5b=0x24*0x3c*0x3c,_0x3d9aca=_0x945b52[_0x11f262(0x5a2)][_0x11f262(0x7e1)]>_0x79ac5b?_0x79ac5b:_0x945b52['response'][_0x11f262(0x7e1)],_0x26db1f=Number(_0x3d9aca);if(isNaN(_0x26db1f)){console[_0x11f262(0x2c1)](_0x11f262(0x77e));return;}let _0x32ed24=Math[_0x11f262(0x81b)](_0x26db1f/0xe10),_0x44e217=Math[_0x11f262(0x81b)](_0x26db1f%0xe10/0x3c),_0x45142f=new Date(Date[_0x11f262(0x472)]()+_0x26db1f*0x3e8);setTimeout(Vs,_0x26db1f*0x3e8);let _0x40b28f=_0x6bd59d=>_0x6bd59d[_0x11f262(0x897)]()['padStart'](0x2,'0'),_0xde0b19='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x40b28f(_0x32ed24)+'\x20horas\x20e\x20'+_0x40b28f(_0x44e217)+_0x11f262(0x8bb)+_0x40b28f(_0x45142f[_0x11f262(0x3b7)]())+':'+_0x40b28f(_0x45142f[_0x11f262(0x7f1)]())+'.';console[_0x11f262(0x65b)](_0xde0b19);}else return console[_0x11f262(0x65b)](_0x11f262(0x1b6)),Js&&(console[_0x11f262(0x65b)](_0x11f262(0x41e)),process['exit']()),'LICENSE_INVALID';}else{if(Ui++,Ui<dr)console[_0x11f262(0x65b)](_0x11f262(0x468)+ji/0xea60+'\x20minutos...'),setTimeout(Vs,ji);else return console[_0x11f262(0x2c1)](_0x11f262(0x474)),_0x11f262(0x768);}}async function pr(){const _0x999852=a0_0x4cdcbe;console['log'](_0x999852(0x24a)),console[_0x999852(0x65b)]('Limpando\x20logs\x20do\x20PM2...'),(0x0,ls[_0x999852(0x3d2)])(_0x999852(0x7fe),{'shell':!0x0})['on']('close',_0x11321c=>{const _0x3470f8=_0x999852;_0x11321c!==0x0?console[_0x3470f8(0x2c1)](_0x3470f8(0x7f7)):(console[_0x3470f8(0x65b)](_0x3470f8(0x206)),console[_0x3470f8(0x65b)](_0x3470f8(0x17e)),(0x0,ls[_0x3470f8(0x3d2)])(_0x3470f8(0x53f),{'shell':!0x0})['on'](_0x3470f8(0x66b),_0x5814a2=>{const _0x39afa3=_0x3470f8;if(_0x5814a2!==0x0)console['error'](_0x39afa3(0x462));else{console[_0x39afa3(0x65b)](_0x39afa3(0x34d));let _0x44e3f5=(0x0,ls['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x44e3f5[_0x39afa3(0x20c)]['on'](_0x39afa3(0x599),_0x42f807=>{const _0x122d79=_0x39afa3;console[_0x122d79(0x65b)]('Atualização:\x20'+_0x42f807);}),_0x44e3f5[_0x39afa3(0x290)]['on']('data',_0x51da22=>{const _0x78360e=_0x39afa3;console[_0x78360e(0x2c1)](_0x78360e(0x3b2)+_0x51da22);}),_0x44e3f5['on'](_0x39afa3(0x1e7),_0x5bdc1f=>{const _0x1b6363=_0x39afa3;_0x5bdc1f!==0x0?console[_0x1b6363(0x2c1)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x5bdc1f):console['log'](_0x1b6363(0x687)),console[_0x1b6363(0x65b)](_0x1b6363(0x1ab)),setTimeout(()=>process['exit'](),0x2710);});}}));});}0x0&&(module[a0_0x4cdcbe(0x40c)]={'fullURL':fullURL,'subdomain':subdomain});