const a0_0x2530f3=a0_0x4c5f;(function(_0x3a1646,_0x419d27){const _0x44ffab=a0_0x4c5f,_0x17a0c3=_0x3a1646();while(!![]){try{const _0x4e169c=-parseInt(_0x44ffab(0x37c))/0x1*(parseInt(_0x44ffab(0xf9))/0x2)+parseInt(_0x44ffab(0x618))/0x3+parseInt(_0x44ffab(0x6b8))/0x4+parseInt(_0x44ffab(0x1e3))/0x5*(parseInt(_0x44ffab(0x244))/0x6)+-parseInt(_0x44ffab(0x48f))/0x7*(parseInt(_0x44ffab(0x54c))/0x8)+parseInt(_0x44ffab(0x501))/0x9+-parseInt(_0x44ffab(0x2e3))/0xa*(parseInt(_0x44ffab(0x497))/0xb);if(_0x4e169c===_0x419d27)break;else _0x17a0c3['push'](_0x17a0c3['shift']());}catch(_0x1a6284){_0x17a0c3['push'](_0x17a0c3['shift']());}}}(a0_0x33cc,0xa760c));var _o=Object[a0_0x2530f3(0xb0)],Ie=Object['defineProperty'],Po=Object['getOwnPropertyDescriptor'],$o=Object[a0_0x2530f3(0x3f3)],ko=Object[a0_0x2530f3(0x3af)],Lo=Object[a0_0x2530f3(0x282)][a0_0x2530f3(0x276)],jo=(_0x137b6b,_0x315b52)=>{for(var _0x2fb4a4 in _0x315b52)Ie(_0x137b6b,_0x2fb4a4,{'get':_0x315b52[_0x2fb4a4],'enumerable':!0x0});},xs=(_0x4a6547,_0x503bd,_0x4deadc,_0x126797)=>{const _0x161a3a=a0_0x2530f3;if(_0x503bd&&typeof _0x503bd==_0x161a3a(0x419)||typeof _0x503bd==_0x161a3a(0x4b1)){for(let _0x1262c4 of $o(_0x503bd))!Lo[_0x161a3a(0x514)](_0x4a6547,_0x1262c4)&&_0x1262c4!==_0x4deadc&&Ie(_0x4a6547,_0x1262c4,{'get':()=>_0x503bd[_0x1262c4],'enumerable':!(_0x126797=Po(_0x503bd,_0x1262c4))||_0x126797[_0x161a3a(0x60d)]});}return _0x4a6547;},R=(_0x257fca,_0xf38130,_0x5d432c)=>(_0x5d432c=_0x257fca!=null?_o(ko(_0x257fca)):{},xs(_0xf38130||!_0x257fca||!_0x257fca['__esModule']?Ie(_0x5d432c,'default',{'value':_0x257fca,'enumerable':!0x0}):_0x5d432c,_0x257fca)),Fo=_0x34e6a6=>xs(Ie({},a0_0x2530f3(0x3f4),{'value':!0x0}),_0x34e6a6),zr={};jo(zr,{'subdomain':()=>vs}),module['exports']=Fo(zr);var To=R(require(a0_0x2530f3(0x1bb))),_s=require('fs'),Ps=require(a0_0x2530f3(0x221)),$s=require(a0_0x2530f3(0x499)),xe=require(a0_0x2530f3(0x499)),ae=process['cwd'](),ge=(0x0,xe[a0_0x2530f3(0x42a)])(ae,a0_0x2530f3(0x547)),Ds=(0x0,xe[a0_0x2530f3(0x42a)])(ae,a0_0x2530f3(0x40f)),Ui=(0x0,xe[a0_0x2530f3(0x42a)])(ae,'store','auth'),Zt=class{constructor(){this['loadEnv']();}[a0_0x2530f3(0x196)](_0x5589e1){const _0x563ab5=a0_0x2530f3;return this[_0x563ab5(0x23c)][_0x5589e1];}[a0_0x2530f3(0x645)](){const _0x291770=a0_0x2530f3;this['env']=process[_0x291770(0x23c)]?.[_0x291770(0xd5)]!==_0x291770(0x433)?this[_0x291770(0x59b)]():this[_0x291770(0x47d)](),process['env']?.[_0x291770(0xd5)]===_0x291770(0x433)&&(this[_0x291770(0x23c)][_0x291770(0x16a)][_0x291770(0x1b6)]=_0x291770(0x576),this[_0x291770(0x23c)][_0x291770(0x16a)]['PORT']=Number['parseInt'](process[_0x291770(0x23c)]?.['SERVER_PORT']??_0x291770(0x4ef)));}[a0_0x2530f3(0x59b)](){const _0x4d0bc2=a0_0x2530f3;return(0x0,Ps['load'])((0x0,_s[_0x4d0bc2(0x232)])((0x0,$s[_0x4d0bc2(0x42a)])(Ds,_0x4d0bc2(0x4d5)),{'encoding':_0x4d0bc2(0x586)}));}[a0_0x2530f3(0x47d)](){const _0x4a7cf3=a0_0x2530f3;return{'SERVER':{'TYPE':process[_0x4a7cf3(0x23c)]['SERVER_TYPE'],'PORT':Number[_0x4a7cf3(0x6a1)](process['env'][_0x4a7cf3(0x5e9)]),'URL':process[_0x4a7cf3(0x23c)][_0x4a7cf3(0x637)]},'CORS':{'ORIGIN':process[_0x4a7cf3(0x23c)][_0x4a7cf3(0x144)][_0x4a7cf3(0x551)](','),'METHODS':process[_0x4a7cf3(0x23c)][_0x4a7cf3(0x218)][_0x4a7cf3(0x551)](','),'CREDENTIALS':process[_0x4a7cf3(0x23c)]?.[_0x4a7cf3(0xf8)]===_0x4a7cf3(0x433)},'SSL_CONF':{'PRIVKEY':process[_0x4a7cf3(0x23c)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x4a7cf3(0x23c)]?.[_0x4a7cf3(0x117)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x4a7cf3(0x23c)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x4a7cf3(0x6a1)](process[_0x4a7cf3(0x23c)][_0x4a7cf3(0x111)]):void 0x0,'MESSAGES':process[_0x4a7cf3(0x23c)]?.[_0x4a7cf3(0x11f)]===_0x4a7cf3(0x433),'CONTACTS':process[_0x4a7cf3(0x23c)]?.[_0x4a7cf3(0x5b2)]==='true','CHATS':process[_0x4a7cf3(0x23c)]?.[_0x4a7cf3(0xec)]===_0x4a7cf3(0x433)},'DATABASE':{'CONNECTION':{'HOST':process[_0x4a7cf3(0x23c)]?.[_0x4a7cf3(0x2d9)],'PORT':Number[_0x4a7cf3(0x6a1)](process[_0x4a7cf3(0x23c)]?.[_0x4a7cf3(0x2d9)]),'USER':process['env']['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x4a7cf3(0x23c)][_0x4a7cf3(0x486)],'URI':process[_0x4a7cf3(0x23c)][_0x4a7cf3(0x6d6)],'DB_PREFIX_NAME':process[_0x4a7cf3(0x23c)][_0x4a7cf3(0x6c7)]},'ENABLED':process[_0x4a7cf3(0x23c)]?.['DATABASE_ENABLED']===_0x4a7cf3(0x433)},'REDIS':{'ENABLED':process[_0x4a7cf3(0x23c)]?.[_0x4a7cf3(0x4f4)]==='true','URI':process['env'][_0x4a7cf3(0x1dd)]||_0x4a7cf3(0x136),'PREFIX_KEY':process[_0x4a7cf3(0x23c)][_0x4a7cf3(0x27d)]||_0x4a7cf3(0x40c)},'LOG':{'LEVEL':process[_0x4a7cf3(0x23c)]?.[_0x4a7cf3(0x2ae)][_0x4a7cf3(0x551)](','),'COLOR':process[_0x4a7cf3(0x23c)]?.['LOG_COLOR']===_0x4a7cf3(0x433)},'PROXY':process[_0x4a7cf3(0x23c)]?.[_0x4a7cf3(0x407)]===_0x4a7cf3(0x433),'AUTHENTICATION':{'TYPE':process['env']['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env']['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x4a7cf3(0x311)](process[_0x4a7cf3(0x23c)]?.[_0x4a7cf3(0x429)])?Number['parseInt'](process[_0x4a7cf3(0x23c)][_0x4a7cf3(0x429)]):0xe10,'SECRET':process[_0x4a7cf3(0x23c)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new Zt(),Ao=R(require(a0_0x2530f3(0x21d))),pe=R(require('express')),Os=require(a0_0x2530f3(0x499)),es=R(require(a0_0x2530f3(0x568))),ts=(_0x397530=>(_0x397530['LOG']=a0_0x2530f3(0x475),_0x397530[a0_0x2530f3(0xaf)]='\x1b[34m',_0x397530[a0_0x2530f3(0x64d)]=a0_0x2530f3(0x1fe),_0x397530[a0_0x2530f3(0x620)]=a0_0x2530f3(0x489),_0x397530['DEBUG']=a0_0x2530f3(0x10a),_0x397530[a0_0x2530f3(0x1d6)]=a0_0x2530f3(0x4b4),_0x397530[a0_0x2530f3(0x313)]='\x1b[30m',_0x397530))(ts||{}),ks=(_0x4ce649=>(_0x4ce649['LOG']=a0_0x2530f3(0x4d1),_0x4ce649[a0_0x2530f3(0x313)]='\x1b[30m%s\x1b[0m',_0x4ce649['INFO']=a0_0x2530f3(0x2aa),_0x4ce649[a0_0x2530f3(0x64d)]=a0_0x2530f3(0x2be),_0x4ce649[a0_0x2530f3(0x620)]='\x1b[31m%s\x1b[0m',_0x4ce649[a0_0x2530f3(0x5f8)]=a0_0x2530f3(0x355),_0x4ce649['VERBOSE']=a0_0x2530f3(0x6dc),_0x4ce649))(ks||{}),Ls=(_0x555a98=>(_0x555a98['LOG']=a0_0x2530f3(0x398),_0x555a98[a0_0x2530f3(0x64d)]=a0_0x2530f3(0x64d),_0x555a98[a0_0x2530f3(0xaf)]='INFO',_0x555a98[a0_0x2530f3(0x313)]=a0_0x2530f3(0x313),_0x555a98[a0_0x2530f3(0x620)]=a0_0x2530f3(0x620),_0x555a98[a0_0x2530f3(0x5f8)]=a0_0x2530f3(0x5f8),_0x555a98[a0_0x2530f3(0x1d6)]='VERBOSE',_0x555a98))(Ls||{}),js=(_0x493edb=>(_0x493edb['LOG']=a0_0x2530f3(0x421),_0x493edb[a0_0x2530f3(0xaf)]='\x1b[44m',_0x493edb['WARN']='\x1b[43m',_0x493edb[a0_0x2530f3(0x313)]=a0_0x2530f3(0x40b),_0x493edb[a0_0x2530f3(0x620)]=a0_0x2530f3(0x2dd),_0x493edb[a0_0x2530f3(0x5f8)]='\x1b[46m',_0x493edb[a0_0x2530f3(0x1d6)]='\x1b[47m',_0x493edb))(js||{}),v=class{constructor(_0x149a05='Logger'){const _0x857cd3=a0_0x2530f3;this[_0x857cd3(0x3a8)]=_0x149a05,this[_0x857cd3(0x1f2)]=b;}[a0_0x2530f3(0x142)](_0x58c9f6){const _0x3163ce=a0_0x2530f3;this[_0x3163ce(0x3a8)]=_0x58c9f6;}['console'](_0x18f728,_0xa633d2){const _0x4f7888=a0_0x2530f3;let _0x4675ee=[];this[_0x4f7888(0x1f2)][_0x4f7888(0x196)](_0x4f7888(0x398))[_0x4f7888(0x3b2)][_0x4f7888(0x2ed)](_0x3b886b=>_0x4675ee['push'](Ls[_0x3b886b]));let _0x1cebdd=typeof _0x18f728;_0x4675ee[_0x4f7888(0x3e8)](_0xa633d2)&&(b[_0x4f7888(0x196)]('LOG')[_0x4f7888(0x46e)]?(console[_0x4f7888(0x1cc)]('\x1b[1m'+ks[_0xa633d2],_0x4f7888(0x705),(0x0,es[_0x4f7888(0x22c)])()[_0x4f7888(0x288)](_0x4f7888(0x106)),_0x4f7888(0x1e9),ts[_0xa633d2]+js[_0xa633d2]+'\x1b[1m',_0xa633d2+_0x4f7888(0x2b2),'\x1b[33m\x1b[1m',this[_0x4f7888(0x3a8)]+_0x4f7888(0x1e9),ts[_0xa633d2],_0x1cebdd!==_0x4f7888(0x419)?_0x18f728:'','\x1b[0m'),_0x1cebdd===_0x4f7888(0x419)&&console[_0x4f7888(0x1cc)](_0x18f728,'\x0a')):console[_0x4f7888(0x1cc)]((0x0,es[_0x4f7888(0x22c)])()[_0x4f7888(0x288)]('HH:mm:ss'),_0xa633d2+'\x20',''+this[_0x4f7888(0x3a8)],_0x18f728));}[a0_0x2530f3(0x1cc)](_0x3eb3b4){const _0x33a41a=a0_0x2530f3;this[_0x33a41a(0x6fc)](_0x3eb3b4,_0x33a41a(0x398));}['info'](_0x4f1b2f){const _0x132652=a0_0x2530f3;this[_0x132652(0x6fc)](_0x4f1b2f,'INFO');}['warn'](_0x4cb05e){const _0x4544be=a0_0x2530f3;this[_0x4544be(0x6fc)](_0x4cb05e,_0x4544be(0x64d));}['error'](_0x1f3850){this['console'](_0x1f3850,'ERROR');}[a0_0x2530f3(0x34d)](_0xcd0d17){const _0x5bee97=a0_0x2530f3;this[_0x5bee97(0x6fc)](_0xcd0d17,'VERBOSE');}['debug'](_0x44a21b){const _0x4d5e61=a0_0x2530f3;this['console'](_0x44a21b,_0x4d5e61(0x5f8));}[a0_0x2530f3(0x443)](_0x4a15d0){const _0x5ce857=a0_0x2530f3;this[_0x5ce857(0x6fc)](_0x4a15d0,'DARK');}};function Fs(){const _0x38a995=a0_0x2530f3;process['on'](_0x38a995(0x6e0),(_0x198a9a,_0x139055)=>{const _0x48abd7=_0x38a995;new v('uncaughtException')[_0x48abd7(0x426)]({'origin':_0x139055,'stderr':process[_0x48abd7(0x109)]['fd'],'error':_0x198a9a});}),process['on']('unhandledRejection',(_0x597f8b,_0x591e1e)=>{const _0x1494af=_0x38a995;new v(_0x1494af(0x406))[_0x1494af(0x426)]({'origin':_0x591e1e,'stderr':process[_0x1494af(0x109)]['fd'],'error':_0x597f8b});});}var qs=R(require('eventemitter2')),ss=new qs[(a0_0x2530f3(0x22c))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require(a0_0x2530f3(0x3a3)),as=R(require(a0_0x2530f3(0x3a3))),qo=new v(a0_0x2530f3(0x238)),V=b['get'](a0_0x2530f3(0x353)),N=V[a0_0x2530f3(0x6ef)]?V[a0_0x2530f3(0x553)][a0_0x2530f3(0x25c)]?as[a0_0x2530f3(0x22c)][a0_0x2530f3(0x1b4)](V[a0_0x2530f3(0x553)][a0_0x2530f3(0x25c)],{'dbName':V[a0_0x2530f3(0x553)][a0_0x2530f3(0x65e)]+'-whatsapp-api'}):as[a0_0x2530f3(0x22c)][a0_0x2530f3(0x1b4)](a0_0x2530f3(0x15e)+V['CONNECTION']['HOST']+':'+V['CONNECTION'][a0_0x2530f3(0x11c)]+a0_0x2530f3(0x3d8),{'user':V[a0_0x2530f3(0x553)][a0_0x2530f3(0x6b5)],'pass':V[a0_0x2530f3(0x553)][a0_0x2530f3(0x490)],'dbName':V[a0_0x2530f3(0x553)][a0_0x2530f3(0x65e)]+a0_0x2530f3(0x35c)}):null;V[a0_0x2530f3(0x6ef)]&&qo[a0_0x2530f3(0x534)](a0_0x2530f3(0x2f5)+N[a0_0x2530f3(0x484)]);var Uo=new De['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new De[(a0_0x2530f3(0x52b))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Uo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Vo=new De[(a0_0x2530f3(0x52b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Us=_0x4322c3=>{const _0x32f731=a0_0x2530f3;let _0xe26b3e='z_'+_0x4322c3+_0x32f731(0x4fe);return N?.[_0x32f731(0xb6)]('ChatModel',Vo,_0xe26b3e);},Js=require('mongoose'),Bo=new Js[(a0_0x2530f3(0x52b))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x53e4c1=>{const _0x31037d=a0_0x2530f3;let _0x51f913='z_'+_0x53e4c1+'_Contacts';return N?.[_0x31037d(0xb6)](_0x31037d(0x5d6),Bo,_0x51f913);},Bs=require(a0_0x2530f3(0x3a3)),Go=new Bs[(a0_0x2530f3(0x52b))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x4bf7c9=>{const _0x71c167=a0_0x2530f3;let _0x457755='z_'+_0x4bf7c9+_0x71c167(0x2ab);return N?.[_0x71c167(0xb6)]('MessageModel',Go,_0x457755);},Ws=require(a0_0x2530f3(0x3a3)),os=class{},Wo=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),zs=N?.[a0_0x2530f3(0xb6)](os[a0_0x2530f3(0x6c9)],Wo,'authentication'),Hs=require(a0_0x2530f3(0x3a3)),rs=class{},Ks=new Hs[(a0_0x2530f3(0x52b))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0x2530f3(0x1a2)]('save',function(_0x536c64){const _0xd83c29=a0_0x2530f3;delete this[_0xd83c29(0x480)],delete this[_0xd83c29(0x62b)],delete this['flowPrefixCommand'],delete this[_0xd83c29(0x11b)],delete this['flowStopMinutes'],_0x536c64();});var Qs=N?.[a0_0x2530f3(0xb6)](rs['name'],Ks,'webhook'),_=require('mongoose'),_e=class{},Ys=new _[(a0_0x2530f3(0x52b))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new _[(a0_0x2530f3(0x52b))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new _[(a0_0x2530f3(0x52b))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x2530f3(0x448)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new _[(a0_0x2530f3(0x52b))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Ho=new _[(a0_0x2530f3(0x52b))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Ko=new _[(a0_0x2530f3(0x52b))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new _[(a0_0x2530f3(0x52b))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':Ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new _[(a0_0x2530f3(0x52b))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new _[(a0_0x2530f3(0x52b))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ns=class{},ps=new _['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x5eac42=a0_0x2530f3;return _0x5eac42(0x6c0)+Math[_0x5eac42(0x5b4)]()[_0x5eac42(0x593)](0x24)[_0x5eac42(0x185)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]}});ps[a0_0x2530f3(0x1a2)](a0_0x2530f3(0xcf),function(_0x2ecd59){const _0x28722f=a0_0x2530f3;let _0x538e7c=new Set(),_0x2cb976=new Set(this[_0x28722f(0x387)]?.[_0x28722f(0x378)](_0xbb40cc=>_0xbb40cc[_0x28722f(0x6c9)])),_0xac8407=JSON['stringify'](this),_0xcb9545=/{{(?!_)([^}]*)}}/g,_0x4afbb0;for(;(_0x4afbb0=_0xcb9545['exec'](_0xac8407))!==null;)_0x2cb976[_0x28722f(0x59e)](_0x4afbb0[0x1])||_0x538e7c[_0x28722f(0x3a6)](_0x4afbb0[0x1]);_0x538e7c[_0x28722f(0x493)]>0x0?(console['warn'](_0x28722f(0xb9),Array[_0x28722f(0x2f6)](_0x538e7c)),this[_0x28722f(0xbf)]=Array['from'](_0x538e7c)):this[_0x28722f(0xbf)]=[],_0x2ecd59();});var ta=_0x13a1f4=>{const _0x2055e5=a0_0x2530f3;let _0x33bb14='z_'+_0x13a1f4+_0x2055e5(0xf2);return N?.[_0x2055e5(0xb6)](_0x2055e5(0x457),ps,_0x33bb14);},sa=N?.[a0_0x2530f3(0xb6)](ns['name'],ps,a0_0x2530f3(0x34c)),Qo=new _['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Ko]},{'_id':!0x1}),cs=class{},aa=new _[(a0_0x2530f3(0x52b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x2530f3(0xc6)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x2530f3(0x6d0)},'waitingMenu_replyOptions':{'type':[is],'default':[]}}),oa=_0x1c5566=>{const _0x1cb0a0=a0_0x2530f3;let _0x3a745e='z_'+_0x1c5566+_0x1cb0a0(0x3c5);return N?.[_0x1cb0a0(0xb6)](_0x1cb0a0(0x2cd),aa,_0x3a745e);},ra=N?.[a0_0x2530f3(0xb6)](cs['name'],aa,'flowConversation'),ls=class{},Yo=new _[(a0_0x2530f3(0x52b))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Xo=new _[(a0_0x2530f3(0x52b))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new _[(a0_0x2530f3(0x52b))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Yo],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x3c2747=>{const _0x2f4bab=a0_0x2530f3;let _0x9cb26e='z_'+_0x3c2747+_0x2f4bab(0x17e);return N?.[_0x2f4bab(0xb6)](_0x2f4bab(0x2d3),ia,_0x9cb26e);},ca=N?.['model'](ls[a0_0x2530f3(0x6c9)],ia,a0_0x2530f3(0x537)),us=class{},Zo=new _[(a0_0x2530f3(0x52b))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),er=new _[(a0_0x2530f3(0x52b))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x2530f3(0x3e5)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),tr=new _['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),sr=new _[(a0_0x2530f3(0x52b))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[tr]},'customFields':{'type':[Zo]},'flowConfig':{'type':er,'default':{}}}),Pe=N?.[a0_0x2530f3(0xb6)](us[a0_0x2530f3(0x6c9)],sr,a0_0x2530f3(0x5e2)),la=require(a0_0x2530f3(0x3a3)),ar=new la[(a0_0x2530f3(0x52b))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x47863a=>{const _0x5a58e1=a0_0x2530f3;let _0x3da533='z_'+_0x47863a+_0x5a58e1(0x5c7);return N?.['model'](_0x5a58e1(0x19d),ar,_0x3da533);},I=class{constructor(_0x58683c){const _0x2795cf=a0_0x2530f3;this[_0x2795cf(0x223)]=_0x58683c[_0x2795cf(0x196)](_0x2795cf(0x353));}};function A(_0x306836){const _0xfc36f3=a0_0x2530f3;let _0x39ed48={};for(let [_0x3d7aed,_0x3c3edc]of Object[_0xfc36f3(0x560)](_0x306836))if(typeof _0x3c3edc=='object'&&!Array[_0xfc36f3(0x63d)](_0x3c3edc)){for(let [_0x55d3c9,_0x356b81]of Object[_0xfc36f3(0x560)](_0x3c3edc))_0x39ed48[_0x3d7aed+'.'+_0x55d3c9]=_0x356b81;}else _0x39ed48[_0x3d7aed]=_0x3c3edc;return _0x39ed48;}var $e=class{constructor(_0x266905,_0x4643ea,_0x135617,_0x5c9f2e,_0x1d8549,_0x2774a3,_0x445233,_0x1aaa7c,_0xd484a5,_0x144940,_0x17c5ea){const _0x426969=a0_0x2530f3;this[_0x426969(0x335)]=_0x266905,this[_0x426969(0x1ad)]=_0x4643ea,this[_0x426969(0x22f)]=_0x135617,this[_0x426969(0x518)]=_0x5c9f2e,this[_0x426969(0x33e)]=_0x1d8549,this['flow']=_0x2774a3,this['flowConversation']=_0x445233,this[_0x426969(0x157)]=_0x1aaa7c,this[_0x426969(0x690)]=_0xd484a5,this[_0x426969(0x3f9)]=_0x144940,this[_0x426969(0x5af)]=_0x17c5ea;}get[a0_0x2530f3(0x391)](){const _0x24e6ac=a0_0x2530f3;return this[_0x24e6ac(0x5af)];}},ke=class{},Le=class extends I{[a0_0x2530f3(0x41e)](_0x250024){return Gs(_0x250024);}async[a0_0x2530f3(0x1b2)](_0x99ce90,_0xc9dd65){const _0x106403=a0_0x2530f3;if(_0x99ce90['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x106403(0x41e)](_0xc9dd65)[_0x106403(0x5db)]([..._0x99ce90]))[_0x106403(0x66c)]};}catch(_0x53dfea){return _0x53dfea;}}async['find'](_0x2dcdb6,_0x555a49){const _0x384993=a0_0x2530f3;try{let _0x1aa71b=this[_0x384993(0x41e)](_0x555a49),_0x3ce2ef=A(_0x2dcdb6[_0x384993(0x2cc)]);return await _0x1aa71b['find'](_0x3ce2ef)[_0x384993(0xb3)]({'messageTimestamp':-0x1})[_0x384993(0x6df)](_0x2dcdb6?.[_0x384993(0x6df)]??0x0)[_0x384993(0x3d4)]();}catch{return[];}}async[a0_0x2530f3(0x6c8)](_0x288a33,_0x39b67d){const _0x5c363a=a0_0x2530f3;try{let _0x4da8b7=this[_0x5c363a(0x41e)](_0x39b67d),_0x25b4ce=A(_0x288a33['where']);await _0x4da8b7['deleteMany'](_0x25b4ce);}catch(_0x563528){console[_0x5c363a(0x426)](_0x563528);}}async['update'](_0x3d762d,_0x3ef77a,_0x92597){const _0x2e51ee=a0_0x2530f3;try{let _0x4e58ff=this[_0x2e51ee(0x41e)](_0x92597),_0x4a9c9d=A(_0x3d762d[_0x2e51ee(0x2cc)]);return await _0x4e58ff[_0x2e51ee(0x3fe)](_0x4a9c9d,{'$set':_0x3ef77a},{'new':!0x0});}catch(_0x1d3c2f){throw console[_0x2e51ee(0x426)](_0x1d3c2f),_0x1d3c2f;}}async['insertMany'](_0x5751c9,_0x4183c1){const _0x1d1fa4=a0_0x2530f3;if(_0x5751c9['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x4183c1)[_0x1d1fa4(0x5db)]([..._0x5751c9]))[_0x1d1fa4(0x66c)]};}catch(_0x303c19){return console[_0x1d1fa4(0x1cc)](_0x1d1fa4(0x574),_0x303c19),_0x303c19;}}async[a0_0x2530f3(0x4c8)](_0x1ea111){const _0x1e3daf=a0_0x2530f3;try{return await this['getMessageModelForOwner'](_0x1ea111)[_0x1e3daf(0x2e4)][_0x1e3daf(0x2fb)](),{'success':!0x0};}catch(_0x351118){return console['error'](_0x351118),{'success':!0x1,'error':_0x351118};}}},wo=R(require(a0_0x2530f3(0x2e9))),y=R(require(a0_0x2530f3(0x4e3))),ve=require('fs'),F=R(require(a0_0x2530f3(0x499))),se=R(require(a0_0x2530f3(0x5d5))),yo=require('uuid'),bo=R(require(a0_0x2530f3(0x6ac))),So=R(require('qrcode-terminal')),da=[a0_0x2530f3(0x62f),a0_0x2530f3(0x57f),a0_0x2530f3(0x15f),'videoMessage',a0_0x2530f3(0x64c)],pa=[a0_0x2530f3(0x3bc),'documentWithCaptionMessage',a0_0x2530f3(0x131),a0_0x2530f3(0xe0)],Ss=require('os'),Ot=R(require('pino')),_t=require(a0_0x2530f3(0x2e7)),It=require('node-mime-types'),ie=R(require(a0_0x2530f3(0x3a3))),k=require(a0_0x2530f3(0x570)),me=class{constructor(_0x55e34f,_0x33ff1b,_0xbd99cf){const _0x352886=a0_0x2530f3;this['jid']=_0x55e34f,this[_0x352886(0x186)]=_0x33ff1b,this[_0x352886(0x6c9)]=_0xbd99cf;}},je=class{},Fe=class{},be=class{},qe=class{},Ue=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require('express')),ha=require('fs'),ga=require(a0_0x2530f3(0x499));async function We(_0x5aa3d0){const _0x35f591=a0_0x2530f3;let _0x42fca8=B[_0x35f591(0x2f2)][_0x5aa3d0];if(V[_0x35f591(0x6ef)]){let _0x3a8aec=N[_0x35f591(0x283)]()['db'](V[_0x35f591(0x553)]['DB_PREFIX_NAME']+_0x35f591(0x585))[_0x35f591(0x2e4)](_0x5aa3d0);return _0x42fca8||(await _0x3a8aec[_0x35f591(0x44c)]({})[_0x35f591(0x4d8)]())[_0x35f591(0x66c)]>0x0;}return _0x42fca8||(0x0,ha['existsSync'])((0x0,ga[_0x35f591(0x42a)])(ge,_0x5aa3d0));}async function ma(_0x2b91a3,_0x429cb0,_0x4f7f22){const _0xe54ba3=a0_0x2530f3;if(_0x2b91a3[_0xe54ba3(0x133)][_0xe54ba3(0x3e8)](_0xe54ba3(0x671))||_0x2b91a3[_0xe54ba3(0x133)][_0xe54ba3(0x3e8)](_0xe54ba3(0x687))||_0x2b91a3[_0xe54ba3(0x133)]['includes']('/exit')||_0x2b91a3['originalUrl'][_0xe54ba3(0x3e8)]('/config')||_0x2b91a3[_0xe54ba3(0x133)][_0xe54ba3(0x3e8)]('/instance/connect')||_0x2b91a3['originalUrl'][_0xe54ba3(0x3e8)](_0xe54ba3(0x6e2))||_0x2b91a3['originalUrl'][_0xe54ba3(0x3e8)](_0xe54ba3(0x556)))return _0x4f7f22();let _0x5a40ed=_0x2b91a3[_0xe54ba3(0x393)];if(!_0x5a40ed?.[_0xe54ba3(0x67f)])throw new m(_0xe54ba3(0x1e7));if(!await We(_0x5a40ed['instanceName']))throw new j(_0xe54ba3(0x703)+_0x5a40ed[_0xe54ba3(0x67f)]+_0xe54ba3(0x330));_0x4f7f22();}async function fa(_0x456c22,_0x41fcb4,_0x3994c2){const _0x283a12=a0_0x2530f3;if(_0x456c22[_0x283a12(0x133)][_0x283a12(0x3e8)](_0x283a12(0x671))){let _0x5b5829=_0x456c22[_0x283a12(0x295)];if(await We(_0x5b5829[_0x283a12(0x67f)]))throw new K(_0x283a12(0x23e)+_0x5b5829[_0x283a12(0x67f)]+_0x283a12(0x3ea));B['waInstances'][_0x5b5829[_0x283a12(0x67f)]]&&delete B[_0x283a12(0x2f2)][_0x5b5829['instanceName']];}_0x3994c2();}var wa=require(a0_0x2530f3(0x570)),ya=R(require('jsonwebtoken')),ze=a0_0x2530f3(0x40c),rr=new v('GUARD');async function ir(_0x4631a0,_0x3d50cc,_0x52b4be){const _0x3f4a87=a0_0x2530f3;let _0x22790a=_0x4631a0[_0x3f4a87(0x196)](_0x3f4a87(0x494));if(_0x22790a&&b[_0x3f4a87(0x196)](_0x3f4a87(0xad))[_0x3f4a87(0x12b)][_0x3f4a87(0x2c6)]!==_0x22790a)throw new ee();if(b[_0x3f4a87(0x196)](_0x3f4a87(0xad))[_0x3f4a87(0x12b)]['KEY']===_0x22790a)return _0x52b4be();if((_0x4631a0[_0x3f4a87(0x133)][_0x3f4a87(0x3e8)]('/instance/create')||_0x4631a0['originalUrl'][_0x3f4a87(0x3e8)]('/instance/fetchInstances'))&&!_0x22790a)throw new K(_0x3f4a87(0x66d),_0x3f4a87(0x405));let _0x2c2d37=b['get']('AUTHENTICATION')[_0x3f4a87(0x1c9)];try{let [_0x58a05c,_0xb09e67]=_0x4631a0[_0x3f4a87(0x196)](_0x3f4a87(0x1d3))[_0x3f4a87(0x551)]('\x20');if(_0x58a05c[_0x3f4a87(0x51f)]()!==_0x3f4a87(0x49c))throw new ee();if(!(0x0,wa[_0x3f4a87(0x2fc)])(_0xb09e67))throw new ee();let _0x4888ec=_0x4631a0['params'],_0x4ed513=ya[_0x3f4a87(0x22c)][_0x3f4a87(0x2dc)](_0xb09e67,_0x2c2d37[_0x3f4a87(0x3f6)],{'ignoreExpiration':_0x2c2d37[_0x3f4a87(0x339)]===0x0});if(_0x4888ec[_0x3f4a87(0x67f)]!==_0x4ed513[_0x3f4a87(0x67f)]||ze!==_0x4ed513[_0x3f4a87(0x46f)])throw new ee();return _0x52b4be();}catch(_0x4cda50){throw rr['error'](_0x4cda50),new ee();}}async function nr(_0x5a85a8,_0x42f7be,_0x42c67b){const _0x25ce36=a0_0x2530f3;let _0xd6e538=b[_0x25ce36(0x196)](_0x25ce36(0xad))[_0x25ce36(0x12b)],_0x161468=_0x5a85a8[_0x25ce36(0x196)](_0x25ce36(0x494));if(_0xd6e538['KEY']===_0x161468)return _0x42c67b();if(_0x5a85a8[_0x25ce36(0x133)][_0x25ce36(0x3e8)]('/instance/create')){let _0x2f4e19=He,_0x4718ff=_0x5a85a8[_0x25ce36(0x295)][_0x25ce36(0x67f)];if(_0x2f4e19&&_0x4718ff[_0x25ce36(0x51f)]()['startsWith'](_0x2f4e19[_0x25ce36(0x51f)]()))return _0x42c67b();if(!_0x161468)throw new K(_0x25ce36(0x66d),_0x25ce36(0x405));}if(_0x5a85a8[_0x25ce36(0x133)]['includes']('/instance/fetchInstances')&&!_0x161468)throw new K(_0x25ce36(0x66d),_0x25ce36(0x405));if(_0x5a85a8[_0x25ce36(0x133)][_0x25ce36(0x3e8)](_0x25ce36(0x467))&&!_0x161468)throw new K(_0x25ce36(0x66d),_0x25ce36(0x405));if(_0x5a85a8[_0x25ce36(0x133)][_0x25ce36(0x3e8)](_0x25ce36(0x257))&&!_0x161468)throw new K(_0x25ce36(0x66d),_0x25ce36(0x405));try{let _0x273e8a=_0x5a85a8[_0x25ce36(0x393)];if((await ce[_0x25ce36(0x33e)][_0x25ce36(0x44c)](_0x273e8a['instanceName']))[_0x25ce36(0x494)]===_0x161468)return _0x42c67b();}catch{}throw new ee();}var ba={'jwt':ir,'apikey':nr},Za=require(a0_0x2530f3(0x30b)),C=require(a0_0x2530f3(0xbe)),S=(..._0x573692)=>{const _0x521535=a0_0x2530f3;let _0x22e765={};return _0x573692[_0x521535(0x2ed)](_0x466d3b=>_0x22e765[_0x466d3b]={'minLength':0x1,'description':'The\x20\x22'+_0x466d3b+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x573692]}},'then':{'properties':_0x22e765}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'instanceName':{'type':a0_0x2530f3(0x43a)}},...S('instanceName')},Hn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'oldToken':{'type':'string'}},'required':[a0_0x2530f3(0x39d)],...S('oldToken')},Kn={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x2530f3(0x43a)},'remoteJid':{'type':a0_0x2530f3(0x43a)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x2530f3(0x596),a0_0x2530f3(0x139)],...S('id',a0_0x2530f3(0x596))},'message':{'type':a0_0x2530f3(0x419)}}},Q={'properties':{'delay':{'type':a0_0x2530f3(0x272),'description':a0_0x2530f3(0xf4)},'presence':{'type':a0_0x2530f3(0x43a),'enum':[a0_0x2530f3(0x2e5),a0_0x2530f3(0x192),'composing',a0_0x2530f3(0x622),a0_0x2530f3(0x6db)]}}},z={'type':a0_0x2530f3(0x43a),'pattern':a0_0x2530f3(0x3dc),'description':a0_0x2530f3(0x60a)},Sa={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x2530f3(0x419),'properties':{'text':{'type':a0_0x2530f3(0x43a)}},'required':[a0_0x2530f3(0x30c)],...S('text')}},'required':[a0_0x2530f3(0x51c),a0_0x2530f3(0x399)]},Ea={'type':a0_0x2530f3(0x43a),'pattern':a0_0x2530f3(0x24d),'description':a0_0x2530f3(0x60a)},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':a0_0x2530f3(0x419),'properties':{'text':{'type':a0_0x2530f3(0x43a)}},'required':[a0_0x2530f3(0x30c)],...S(a0_0x2530f3(0x30c))}},'required':['textMessage',a0_0x2530f3(0x399)]},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x2530f3(0x419),'properties':{'mediatype':{'type':a0_0x2530f3(0x43a),'enum':[a0_0x2530f3(0x612),'document',a0_0x2530f3(0x125),a0_0x2530f3(0x35f)]},'media':{'type':a0_0x2530f3(0x43a)},'fileName':{'type':a0_0x2530f3(0x43a)},'caption':{'type':a0_0x2530f3(0x43a)}},'required':[a0_0x2530f3(0x5b8),a0_0x2530f3(0x5fc)],...S(a0_0x2530f3(0x4f7),a0_0x2530f3(0x14b),'media')}},'required':[a0_0x2530f3(0x4f5),a0_0x2530f3(0x399)]},Ca={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x2530f3(0x419),'properties':{'image':{'type':a0_0x2530f3(0x43a)}},'required':['image'],...S('image')}},'required':[a0_0x2530f3(0x64c),a0_0x2530f3(0x399)]},Ma={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x2530f3(0x43a),'enum':[a0_0x2530f3(0x30c),a0_0x2530f3(0x612),a0_0x2530f3(0x35f),a0_0x2530f3(0x125)]},'content':{'type':a0_0x2530f3(0x43a)},'caption':{'type':a0_0x2530f3(0x43a)},'backgroundColor':{'type':a0_0x2530f3(0x43a)},'font':{'type':a0_0x2530f3(0x272),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2530f3(0x43a),'pattern':a0_0x2530f3(0x63c),'description':a0_0x2530f3(0x43b)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x2530f3(0x101),a0_0x2530f3(0x491)],...S(a0_0x2530f3(0x101),a0_0x2530f3(0x491))}},'required':[a0_0x2530f3(0x615)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x2530f3(0x419),'properties':{'mediatype':{'type':a0_0x2530f3(0x43a),'enum':['image',a0_0x2530f3(0x319),'video','audio']},'media':{'type':a0_0x2530f3(0x43a)},'fileName':{'type':a0_0x2530f3(0x43a)},'caption':{'type':a0_0x2530f3(0x43a)}},'required':[a0_0x2530f3(0x5b8),a0_0x2530f3(0x5fc)],...S(a0_0x2530f3(0x4f7),'caption','media')}},'required':[a0_0x2530f3(0x4f5),a0_0x2530f3(0x399)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x2530f3(0x43a)}},'required':[a0_0x2530f3(0x35f)],...S('audio')}},'required':[a0_0x2530f3(0x15f),a0_0x2530f3(0x399)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'number':{...z},'pollMessage':{'type':a0_0x2530f3(0x419),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x2530f3(0x399)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x2530f3(0x2fd),a0_0x2530f3(0x610)],...S(a0_0x2530f3(0x6c9),a0_0x2530f3(0x2fd),'values')}},'required':[a0_0x2530f3(0x399),a0_0x2530f3(0xa9)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'number':{...z},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x2530f3(0x43a)},'choices':{'type':a0_0x2530f3(0x4fc),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x2530f3(0x30c),a0_0x2530f3(0x53c)],...S(a0_0x2530f3(0x30c),a0_0x2530f3(0x53c))}},'required':[a0_0x2530f3(0x399),a0_0x2530f3(0x4b3)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x2530f3(0x43a)},'description':{'type':a0_0x2530f3(0x43a)},'footerText':{'type':a0_0x2530f3(0x43a)},'buttons':{'type':a0_0x2530f3(0x4fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2530f3(0x419),'properties':{'buttonText':{'type':a0_0x2530f3(0x43a)},'buttonId':{'type':a0_0x2530f3(0x43a)}},'required':[a0_0x2530f3(0x395),a0_0x2530f3(0x4a3)],...S(a0_0x2530f3(0x395),a0_0x2530f3(0x4a3))}},'mediaMessage':{'type':a0_0x2530f3(0x419),'properties':{'media':{'type':a0_0x2530f3(0x43a)},'fileName':{'type':a0_0x2530f3(0x43a)},'mediatype':{'type':a0_0x2530f3(0x43a),'enum':[a0_0x2530f3(0x612),'document','video']}},'required':[a0_0x2530f3(0x5fc),'mediatype'],...S('media','fileName')}},'required':[a0_0x2530f3(0xa8),a0_0x2530f3(0x4d4)],...S('title',a0_0x2530f3(0x527))}},'required':['number','buttonMessage']},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x2530f3(0x419),'properties':{'latitude':{'type':a0_0x2530f3(0x399)},'longitude':{'type':a0_0x2530f3(0x399)},'name':{'type':a0_0x2530f3(0x43a)},'address':{'type':a0_0x2530f3(0x43a)}},'required':[a0_0x2530f3(0x1f7),a0_0x2530f3(0x18f)],...S(a0_0x2530f3(0x6c9),a0_0x2530f3(0x42b))}},'required':[a0_0x2530f3(0x399),a0_0x2530f3(0x4cf)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x2530f3(0x419),'properties':{'title':{'type':a0_0x2530f3(0x43a)},'description':{'type':'string'},'footerText':{'type':'string'},'buttonText':{'type':a0_0x2530f3(0x43a)},'sections':{'type':a0_0x2530f3(0x4fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x2530f3(0x43a)},'rows':{'type':a0_0x2530f3(0x4fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2530f3(0x419),'properties':{'title':{'type':a0_0x2530f3(0x43a)},'description':{'type':a0_0x2530f3(0x43a)},'rowId':{'type':a0_0x2530f3(0x43a)}},'required':['title','rowId'],...S('title','rowId')}}},'required':[a0_0x2530f3(0xa8),a0_0x2530f3(0x4ad)],...S('title')}}},'required':[a0_0x2530f3(0xa8),a0_0x2530f3(0x527),'buttonText',a0_0x2530f3(0xb4)],...S(a0_0x2530f3(0xa8),a0_0x2530f3(0x527),'buttonText','footerText')}},'required':[a0_0x2530f3(0x399),a0_0x2530f3(0x48b)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x2530f3(0x4fc),'items':{'type':a0_0x2530f3(0x419),'properties':{'fullName':{'type':a0_0x2530f3(0x43a)},'phoneNumber':{'type':a0_0x2530f3(0x43a),'minLength':0xa}},'required':[a0_0x2530f3(0x32d),a0_0x2530f3(0x6b0)],...S(a0_0x2530f3(0x32d))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x2530f3(0x399),a0_0x2530f3(0x178)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x2530f3(0x43a)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2530f3(0x596),a0_0x2530f3(0x139)],...S('id','remoteJid')},'reaction':{'type':a0_0x2530f3(0x43a)}},'required':[a0_0x2530f3(0x58b),a0_0x2530f3(0x578)],...S('reaction')}},'required':[a0_0x2530f3(0xc8)]},_a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x2530f3(0x4fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x2530f3(0x63c),'description':a0_0x2530f3(0x25e)}}}},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'readMessages':{'type':a0_0x2530f3(0x4fc),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x2530f3(0x43a)},'fromMe':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2530f3(0x43a)}},'required':['id',a0_0x2530f3(0x139),a0_0x2530f3(0x596)],...S('id',a0_0x2530f3(0x596))}}},'required':[a0_0x2530f3(0x26c)]},$a={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'privacySettings':{'type':a0_0x2530f3(0x419),'properties':{'readreceipts':{'type':'string','enum':[a0_0x2530f3(0x2ef),a0_0x2530f3(0x2ac)]},'profile':{'type':a0_0x2530f3(0x43a),'enum':['all',a0_0x2530f3(0x2a6),'contact_blacklist',a0_0x2530f3(0x2ac)]},'status':{'type':'string','enum':[a0_0x2530f3(0x2ef),a0_0x2530f3(0x2a6),a0_0x2530f3(0x3b9),a0_0x2530f3(0x2ac)]},'online':{'type':a0_0x2530f3(0x43a),'enum':[a0_0x2530f3(0x2ef),a0_0x2530f3(0x630)]},'last':{'type':'string','enum':[a0_0x2530f3(0x2ef),'contacts',a0_0x2530f3(0x3b9),a0_0x2530f3(0x2ac)]},'groupadd':{'type':a0_0x2530f3(0x43a),'enum':[a0_0x2530f3(0x2ef),a0_0x2530f3(0x2a6),a0_0x2530f3(0x3b9),'none']}},'required':[a0_0x2530f3(0x5c1),a0_0x2530f3(0x48a),a0_0x2530f3(0x64f),a0_0x2530f3(0x318),a0_0x2530f3(0x69d),'groupadd'],...S('readreceipts','profile',a0_0x2530f3(0x64f),a0_0x2530f3(0x318),'last',a0_0x2530f3(0x55b))}},'required':['privacySettings']},ka={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'lastMessage':{'type':a0_0x2530f3(0x419),'properties':{'key':{'type':a0_0x2530f3(0x419),'properties':{'id':{'type':a0_0x2530f3(0x43a)},'remoteJid':{'type':a0_0x2530f3(0x43a)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x2530f3(0x596)],...S('id',a0_0x2530f3(0x596))},'messageTimestamp':{'type':a0_0x2530f3(0x272),'minLength':0x1}},'required':[a0_0x2530f3(0x58b)],...S(a0_0x2530f3(0x595))},'archive':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x2530f3(0x4aa)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'id':{'type':a0_0x2530f3(0x43a)},'fromMe':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2530f3(0x43a)},'participant':{'type':'string'}},'required':['id',a0_0x2530f3(0x139),'remoteJid'],...S('id',a0_0x2530f3(0x596),a0_0x2530f3(0x1d2))},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x2530f3(0x419),'properties':{'_id':{'type':a0_0x2530f3(0x43a),'minLength':0x1},'pushName':{'type':a0_0x2530f3(0x43a),'minLength':0x1},'id':{'type':a0_0x2530f3(0x43a),'minLength':0x1}},...S(a0_0x2530f3(0x13f),'id',a0_0x2530f3(0x62a))}}},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'name':{'type':a0_0x2530f3(0x43a)}},...S('name')},qa={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'status':{'type':a0_0x2530f3(0x43a)}},...S(a0_0x2530f3(0x64f))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'number':{'type':a0_0x2530f3(0x43a)},'picture':{'type':a0_0x2530f3(0x43a)}}},Ua={'type':a0_0x2530f3(0x419),'properties':{'wuid':{'type':a0_0x2530f3(0x43a)},'name':{'type':a0_0x2530f3(0x43a)},'picture':{'type':a0_0x2530f3(0x43a)},'status':{'type':'string'},'isBusiness':{'type':a0_0x2530f3(0x274)}}},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'where':{'type':a0_0x2530f3(0x419),'properties':{'_id':{'type':a0_0x2530f3(0x43a),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x2530f3(0x139),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x2530f3(0x43a),'minLength':0x1,'description':a0_0x2530f3(0x150)},'id':{'type':a0_0x2530f3(0x43a),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...S('_id')},'limit':{'type':'integer'}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'where':{'type':a0_0x2530f3(0x419),'properties':{'_id':{'type':a0_0x2530f3(0x43a)},'remoteJid':{'type':a0_0x2530f3(0x43a)},'id':{'type':a0_0x2530f3(0x43a)},'fromMe':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x2530f3(0x43a),'enum':[a0_0x2530f3(0x620),'PENDING',a0_0x2530f3(0x49e),a0_0x2530f3(0x2ea),a0_0x2530f3(0x4cd),a0_0x2530f3(0x5a9)]}},...S('_id',a0_0x2530f3(0x596),'id',a0_0x2530f3(0x64f))},'limit':{'type':a0_0x2530f3(0x272)}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'number':{...z},'presence':{'type':a0_0x2530f3(0x43a),'enum':[a0_0x2530f3(0x2e5),a0_0x2530f3(0x192),a0_0x2530f3(0x673),a0_0x2530f3(0x622),'paused']}},'required':['presence',a0_0x2530f3(0x399)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'subject':{'type':a0_0x2530f3(0x43a)},'description':{'type':'string'},'profilePicture':{'type':a0_0x2530f3(0x43a)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x2530f3(0x375),'description':a0_0x2530f3(0x382)}}},'required':[a0_0x2530f3(0x243),a0_0x2530f3(0x6dd)],...S(a0_0x2530f3(0x243),a0_0x2530f3(0x527),'profilePicture')},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'groupJid':{'type':a0_0x2530f3(0x43a),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x2530f3(0x2e6)],...S(a0_0x2530f3(0x2e6))},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'groupJid':{'type':a0_0x2530f3(0x43a)},'action':{'type':a0_0x2530f3(0x43a),'enum':[a0_0x2530f3(0x3a6),a0_0x2530f3(0x465),a0_0x2530f3(0x639),a0_0x2530f3(0x1bf)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2530f3(0x43a),'minLength':0xa,'pattern':a0_0x2530f3(0x375),'description':a0_0x2530f3(0x382)}}},'required':[a0_0x2530f3(0x2e6),a0_0x2530f3(0x29a),a0_0x2530f3(0x6dd)],...S(a0_0x2530f3(0x2e6),a0_0x2530f3(0x29a))},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2530f3(0x43a)},'expiration':{'type':a0_0x2530f3(0x399),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x2530f3(0x2e6),a0_0x2530f3(0x446)],...S(a0_0x2530f3(0x2e6),'expiration')},za={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'groupJid':{'type':a0_0x2530f3(0x43a)},'image':{'type':'string'}},'required':[a0_0x2530f3(0x2e6),'image'],...S(a0_0x2530f3(0x2e6),a0_0x2530f3(0x612))},Ha={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2530f3(0x43a)},'description':{'type':a0_0x2530f3(0x43a)}},'required':[a0_0x2530f3(0x2e6),a0_0x2530f3(0x527)],...S('groupJid',a0_0x2530f3(0x527))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'groupJid':{'type':a0_0x2530f3(0x43a)},'name':{'type':'string'}},'required':['groupJid',a0_0x2530f3(0x6c9)],...S(a0_0x2530f3(0x2e6),a0_0x2530f3(0x6c9))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'groupJid':{'type':a0_0x2530f3(0x43a)},'setting':{'type':'string','enum':[a0_0x2530f3(0x3ee),a0_0x2530f3(0x672),a0_0x2530f3(0x4e0),a0_0x2530f3(0x6aa)]}},'required':['groupJid','setting'],...S(a0_0x2530f3(0x2e6),a0_0x2530f3(0x364))},Ya={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x2530f3(0x43a)}},'required':[a0_0x2530f3(0x691)],...S('inviteCode')},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x2530f3(0x419),'properties':{'url':{'type':a0_0x2530f3(0x43a)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x2530f3(0x2df),'enabled']},Zn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x2530f3(0x274),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x2530f3(0x516),'STATUS_INSTANCE',a0_0x2530f3(0x6ed),a0_0x2530f3(0x625),a0_0x2530f3(0x587),a0_0x2530f3(0x23d),a0_0x2530f3(0x5da),a0_0x2530f3(0x70a),a0_0x2530f3(0x3a7),a0_0x2530f3(0x14e),a0_0x2530f3(0xc0),a0_0x2530f3(0x402),a0_0x2530f3(0x250),'CHATS_UPDATE',a0_0x2530f3(0x6cd),a0_0x2530f3(0x10d),a0_0x2530f3(0x5f5),'GROUPS_UPDATE',a0_0x2530f3(0x4df)],...S(a0_0x2530f3(0x516),'STATUS_INSTANCE',a0_0x2530f3(0x6ed),a0_0x2530f3(0x625),a0_0x2530f3(0x587),a0_0x2530f3(0x23d),'SEND_MESSAGE','CONTACTS_SET',a0_0x2530f3(0x3a7),a0_0x2530f3(0x14e),'PRESENCE_UPDATE','CHATS_SET',a0_0x2530f3(0x250),a0_0x2530f3(0x57e),a0_0x2530f3(0x6cd),a0_0x2530f3(0x10d),a0_0x2530f3(0x5f5),'GROUPS_UPDATE',a0_0x2530f3(0x4df))},Ke=class{},Qe=class extends I{[a0_0x2530f3(0x59c)](_0x3027c1){return Vs(_0x3027c1);}async[a0_0x2530f3(0x1b2)](_0x549192){const _0x324c8c=a0_0x2530f3;if(_0x549192[_0x324c8c(0x66c)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x549192[0x0][_0x324c8c(0x50f)])[_0x324c8c(0x5db)]([..._0x549192]))[_0x324c8c(0x66c)]};}catch(_0x5c9925){return _0x5c9925;}}async[a0_0x2530f3(0x6c8)](_0x28b25e,_0x2c1a22){const _0xcf919f=a0_0x2530f3;try{return{'deletedCount':(await this[_0xcf919f(0x59c)](_0x2c1a22)[_0xcf919f(0x61f)]({..._0x28b25e[_0xcf919f(0x2cc)]}))[_0xcf919f(0x251)]};}catch(_0x535bbc){return{'error':_0x535bbc?.[_0xcf919f(0x593)]()};}}async[a0_0x2530f3(0xc3)](_0x473ac1,_0x4e96f5){const _0x5a2274=a0_0x2530f3;try{if(_0x473ac1[_0x5a2274(0x66c)]===0x0)return;let _0xc4fd32=this[_0x5a2274(0x59c)](_0x4e96f5),_0x27249e=_0x473ac1[_0x5a2274(0x378)](_0x429bf5=>({'updateOne':{'filter':{'_id':_0x429bf5[_0x5a2274(0x13f)],'owner':_0x4e96f5},'update':{..._0x429bf5}}})),{modifiedCount:_0x32029c}=await _0xc4fd32['bulkWrite'](_0x27249e);return{'insertCount':_0x32029c};}catch{return;}}async[a0_0x2530f3(0x44c)](_0x5dc787,_0x3ef627){const _0x11474f=a0_0x2530f3;try{let _0x4fa0d9=this[_0x11474f(0x59c)](_0x3ef627),_0x54d239=A(_0x5dc787[_0x11474f(0x2cc)]);return await _0x4fa0d9[_0x11474f(0x44c)](_0x54d239)[_0x11474f(0x6df)](_0x5dc787?.[_0x11474f(0x6df)]??0x0)[_0x11474f(0x3d4)]();}catch{return[];}}async[a0_0x2530f3(0x2ff)](_0x1aa588,_0x563c7e){const _0x2e6002=a0_0x2530f3;try{let _0x283eb0=this[_0x2e6002(0x59c)](_0x563c7e),_0x469fe0=A(_0x1aa588[_0x2e6002(0x2cc)]);return await _0x283eb0['findOne'](_0x469fe0)[_0x2e6002(0x3d4)]();}catch{return null;}}async[a0_0x2530f3(0x4c8)](_0x2d5ca1){const _0x2aa041=a0_0x2530f3;try{return await this[_0x2aa041(0x59c)](_0x2d5ca1)[_0x2aa041(0x2e4)][_0x2aa041(0x2fb)](),{'success':!0x0};}catch(_0x58c449){return console[_0x2aa041(0x426)](_0x58c449),{'success':!0x1,'error':_0x58c449};}}},Ye=require('jsonschema'),cc=require('express-async-errors'),hs=new v('Validate'),U=class{['routerPath'](_0x190747,_0x5b04ed=!0x0){let _0x58e058='/'+_0x190747;return _0x5b04ed&&(_0x58e058+='/:instanceName'),_0x58e058;}async[a0_0x2530f3(0x296)](_0x276017){const _0x48334c=a0_0x2530f3;let {request:_0x5a17bc,schema:_0xb8f6db,ClassRef:_0x267945,execute:_0x432c2f}=_0x276017,_0x149109=new _0x267945(),_0x1f68bb=_0x5a17bc[_0x48334c(0x295)],_0x53f5d1=_0x5a17bc['params'];_0x5a17bc?.['query']&&Object['keys'](_0x5a17bc['query'])[_0x48334c(0x66c)]>0x0&&Object[_0x48334c(0x70b)](_0x53f5d1,_0x5a17bc['query']),_0x5a17bc[_0x48334c(0x133)]['includes'](_0x48334c(0x671))&&Object[_0x48334c(0x70b)](_0x53f5d1,_0x1f68bb),Object['assign'](_0x149109,_0x1f68bb);let _0x2c1d8c=_0xb8f6db?(0x0,Ye[_0x48334c(0x317)])(_0x149109,_0xb8f6db):{'valid':!0x0,'errors':[]};if(!_0x2c1d8c[_0x48334c(0x112)]){let _0xff428d=_0x2c1d8c[_0x48334c(0x581)][_0x48334c(0x378)](({property:_0x5e674e,stack:_0x1196cb,schema:_0x5b5b21})=>{const _0x49e1e2=_0x48334c;let _0x57987c;return _0x5b5b21[_0x49e1e2(0x527)]?_0x57987c=_0x5b5b21[_0x49e1e2(0x527)]:_0x57987c=_0x1196cb['replace'](_0x49e1e2(0x20d),''),{'property':_0x5e674e['replace']('instance.',''),'message':_0x57987c};});throw hs[_0x48334c(0x426)]([..._0xff428d]),new m(..._0xff428d);}return await _0x432c2f(_0x53f5d1,_0x149109);}async[a0_0x2530f3(0x204)](_0x1a940c){const _0x2f09a3=a0_0x2530f3;let {request:_0x220f72,ClassRef:_0x49b832,schema:_0x3caa1c,execute:_0xaa5f3d}=_0x1a940c,_0x4ee1a2=_0x220f72[_0x2f09a3(0x4f6)];if(!_0x4ee1a2?.[_0x2f09a3(0x2e6)])throw new m(_0x2f09a3(0x177),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x4cc50e=_0x220f72['params'],_0x43eafd=_0x220f72[_0x2f09a3(0x295)],_0x428606=new _0x49b832();Object[_0x2f09a3(0x70b)](_0x43eafd,_0x4ee1a2),Object[_0x2f09a3(0x70b)](_0x428606,_0x43eafd);let _0x1b812a=(0x0,Ye[_0x2f09a3(0x317)])(_0x428606,_0x3caa1c);if(!_0x1b812a[_0x2f09a3(0x112)]){let _0x253dd4=_0x1b812a[_0x2f09a3(0x581)][_0x2f09a3(0x378)](({property:_0x34cd44,stack:_0x179958,schema:_0x593596})=>{const _0x3c7e24=_0x2f09a3;let _0x20c49d;return _0x593596['description']?_0x20c49d=_0x593596[_0x3c7e24(0x527)]:_0x20c49d=_0x179958['replace'](_0x3c7e24(0x20d),''),{'property':_0x34cd44['replace'](_0x3c7e24(0x20d),''),'message':_0x20c49d};});throw hs['error']([..._0x253dd4]),new m(..._0x253dd4);}return await _0xaa5f3d(_0x4cc50e,_0x428606);}async[a0_0x2530f3(0x2db)](_0x4528e6){const _0x509e94=a0_0x2530f3;let {request:_0x45f625,ClassRef:_0x3225bb,schema:_0x14610c,execute:_0x268872}=_0x4528e6,_0x5ed85c=_0x45f625['body'];if(!_0x5ed85c?.[_0x509e94(0x691)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x509e94(0x132));let _0x42167c=_0x45f625[_0x509e94(0x393)],_0x385b19=_0x45f625[_0x509e94(0x295)],_0x333609=new _0x3225bb();Object[_0x509e94(0x70b)](_0x385b19,_0x5ed85c),Object[_0x509e94(0x70b)](_0x333609,_0x385b19);let _0x245614=(0x0,Ye[_0x509e94(0x317)])(_0x333609,_0x14610c);if(!_0x245614[_0x509e94(0x112)]){let _0x1c86e0=_0x245614[_0x509e94(0x581)]['map'](({property:_0x2bc884,stack:_0xaf47ea,schema:_0x507db8})=>{const _0x1aa624=_0x509e94;let _0x2932b0;return _0x507db8[_0x1aa624(0x527)]?_0x2932b0=_0x507db8[_0x1aa624(0x527)]:_0x2932b0=_0xaf47ea[_0x1aa624(0x385)](_0x1aa624(0x20d),''),{'property':_0x2bc884[_0x1aa624(0x385)](_0x1aa624(0x20d),''),'message':_0x2932b0};});throw hs['error']([..._0x1c86e0]),new m(..._0x1c86e0);}return await _0x268872(_0x42167c,_0x333609);}},E=class{},Mc=new v(a0_0x2530f3(0x197)),Xe=class extends U{constructor(..._0x5136a1){const _0x44b281=a0_0x2530f3;super(),this[_0x44b281(0x3cc)]=(0x0,Za[_0x44b281(0x2bb)])(),this[_0x44b281(0x3cc)][_0x44b281(0xb2)](this[_0x44b281(0x6c1)](_0x44b281(0x3c0)),..._0x5136a1,async(_0x17f894,_0x3e5db6)=>{const _0x4d1511=_0x44b281;let _0x339698=await this['dataValidate']({'request':_0x17f894,'schema':Va,'ClassRef':je,'execute':(_0x395adf,_0x2ca0dd)=>x[_0x4d1511(0x3c0)](_0x395adf,_0x2ca0dd)});return _0x3e5db6[_0x4d1511(0x64f)](0xc9)[_0x4d1511(0x619)](_0x339698);})[_0x44b281(0xb2)](this[_0x44b281(0x6c1)]('whatsappNumbers'),..._0x5136a1,async(_0x4e6008,_0x5f5947)=>{const _0x2940bf=_0x44b281;let _0x300574=await this['dataValidate']({'request':_0x4e6008,'schema':_a,'ClassRef':Fe,'execute':(_0x3b3e1f,_0x41b106)=>x[_0x2940bf(0x4c4)](_0x3b3e1f,_0x41b106)});return _0x5f5947['status'](0xc9)[_0x2940bf(0x619)](_0x300574);})[_0x44b281(0xb2)](this[_0x44b281(0x6c1)]('editChat'),..._0x5136a1,async(_0x6be70e,_0x5d8ab1)=>{const _0x4de292=_0x44b281;let _0x23977e=await this[_0x4de292(0x296)]({'request':_0x6be70e,'schema':M,'ClassRef':E,'execute':(_0x259ab0,_0x58f6cc)=>x[_0x4de292(0x233)](_0x259ab0,_0x58f6cc)});return _0x5d8ab1[_0x4de292(0x64f)](0xc9)[_0x4de292(0x619)](_0x23977e);})[_0x44b281(0x530)](this[_0x44b281(0x6c1)](_0x44b281(0x356)),..._0x5136a1,async(_0x205b87,_0x39fc68)=>{const _0x2b088b=_0x44b281;let _0x1ae7c7=await this[_0x2b088b(0x296)]({'request':_0x205b87,'schema':Pa,'ClassRef':Je,'execute':(_0x21ab53,_0x170a14)=>x['readMessage'](_0x21ab53,_0x170a14)});return _0x39fc68['status'](0xc9)[_0x2b088b(0x619)](_0x1ae7c7);})[_0x44b281(0x530)](this[_0x44b281(0x6c1)](_0x44b281(0x4eb)),..._0x5136a1,async(_0x2d734b,_0x3353c5)=>{const _0x2f8286=_0x44b281;let _0xacb427=await this[_0x2f8286(0x296)]({'request':_0x2d734b,'schema':ka,'ClassRef':Ve,'execute':(_0x586168,_0x58e5e1)=>x[_0x2f8286(0x4eb)](_0x586168,_0x58e5e1)});return _0x3353c5['status'](0xc9)[_0x2f8286(0x619)](_0xacb427);})['delete'](this['routerPath']('deleteMessageForEveryone'),..._0x5136a1,async(_0x1f2abf,_0x271f98)=>{const _0x2ae2c1=_0x44b281;let _0x11a123=await this[_0x2ae2c1(0x296)]({'request':_0x1f2abf,'schema':La,'ClassRef':Ge,'execute':(_0x381413,_0x6933d7)=>x[_0x2ae2c1(0x337)](_0x381413,_0x6933d7)});return _0x271f98[_0x2ae2c1(0x64f)](0xc9)[_0x2ae2c1(0x619)](_0x11a123);})['post'](this[_0x44b281(0x6c1)]('fetchProfilePictureUrl'),..._0x5136a1,async(_0x153455,_0x10f589)=>{const _0x1dbc8a=_0x44b281;let _0xb0c91f=await this[_0x1dbc8a(0x296)]({'request':_0x153455,'schema':Se,'ClassRef':be,'execute':(_0x342b19,_0x174e9c)=>x[_0x1dbc8a(0x4cc)](_0x342b19,_0x174e9c)});return _0x10f589[_0x1dbc8a(0x64f)](0xc8)['json'](_0xb0c91f);})[_0x44b281(0xb2)](this['routerPath']('fetchProfile'),..._0x5136a1,async(_0x3463e8,_0x332748)=>{const _0x40aeb3=_0x44b281;let _0x1efa45=await this[_0x40aeb3(0x296)]({'request':_0x3463e8,'schema':Ua,'ClassRef':be,'execute':(_0x47d205,_0xed9316)=>x[_0x40aeb3(0x1c6)](_0x47d205,_0xed9316)});return _0x332748[_0x40aeb3(0x64f)](0xc8)[_0x40aeb3(0x619)](_0x1efa45);})[_0x44b281(0xb2)](this[_0x44b281(0x6c1)](_0x44b281(0x640)),..._0x5136a1,async(_0x37f900,_0x1b344d)=>{const _0x18851f=_0x44b281;let _0x3a3a98=await this['dataValidate']({'request':_0x37f900,'schema':ja,'ClassRef':Ke,'execute':(_0x23c86a,_0x4db0c1)=>x[_0x18851f(0x1e4)](_0x23c86a,_0x4db0c1)});return _0x1b344d['status'](0xc8)[_0x18851f(0x619)](_0x3a3a98);})[_0x44b281(0xb2)](this[_0x44b281(0x6c1)](_0x44b281(0x314)),..._0x5136a1,async(_0x1ff760,_0x262f63)=>{const _0x57da0a=_0x44b281;let _0x2c77b3=await this[_0x57da0a(0x296)]({'request':_0x1ff760,'schema':null,'ClassRef':Object,'execute':(_0x3472cc,_0x1261df)=>x[_0x57da0a(0x314)](_0x3472cc,_0x1261df)});return _0x262f63[_0x57da0a(0x64f)](0xc9)[_0x57da0a(0x619)](_0x2c77b3);})[_0x44b281(0xb2)](this[_0x44b281(0x6c1)](_0x44b281(0x1ac)),..._0x5136a1,async(_0x4fe596,_0x4d8ceb)=>{const _0x43549f=_0x44b281;let _0x4182ec=await this[_0x43549f(0x296)]({'request':_0x4fe596,'schema':Ja,'ClassRef':ke,'execute':(_0x4b48b7,_0x12826b)=>x[_0x43549f(0x297)](_0x4b48b7,_0x12826b)});return _0x4d8ceb['status'](0xc8)[_0x43549f(0x619)](_0x4182ec);})[_0x44b281(0x196)](this[_0x44b281(0x6c1)](_0x44b281(0x174)),..._0x5136a1,async(_0x219829,_0x578d33)=>{const _0x592916=_0x44b281;let _0x1c7895=await this[_0x592916(0x296)]({'request':_0x219829,'schema':null,'ClassRef':E,'execute':_0x557100=>x[_0x592916(0x171)](_0x557100)});return _0x578d33[_0x592916(0x64f)](0xc8)['json'](_0x1c7895);})['get'](this[_0x44b281(0x6c1)](_0x44b281(0x52c)),..._0x5136a1,async(_0x38b989,_0x585cc1)=>{const _0x27eecf=_0x44b281;let _0x1f5e70=await this['dataValidate']({'request':_0x38b989,'schema':null,'ClassRef':E,'execute':_0x13565d=>x[_0x27eecf(0x102)](_0x13565d)});return _0x585cc1[_0x27eecf(0x64f)](0xc8)[_0x27eecf(0x619)](_0x1f5e70);})['put'](this[_0x44b281(0x6c1)](_0x44b281(0x52e)),..._0x5136a1,async(_0x28b21f,_0x4a6543)=>{const _0x299507=_0x44b281;let _0x41edbc=await this['dataValidate']({'request':_0x28b21f,'schema':null,'ClassRef':Array,'execute':(_0x397631,_0x1cba68)=>x[_0x299507(0x52e)](_0x397631,_0x1cba68)});return _0x4a6543['status'](0xc8)['json'](_0x41edbc);})[_0x44b281(0x196)](this[_0x44b281(0x6c1)]('fetchPrivacySettings'),..._0x5136a1,async(_0x5d1b1f,_0x3e2813)=>{const _0x1d3e6b=_0x44b281;let _0x43e791=await this[_0x1d3e6b(0x296)]({'request':_0x5d1b1f,'schema':null,'ClassRef':E,'execute':_0x177a4c=>x[_0x1d3e6b(0x56a)](_0x177a4c)});return _0x3e2813[_0x1d3e6b(0x64f)](0xc8)[_0x1d3e6b(0x619)](_0x43e791);})[_0x44b281(0x530)](this[_0x44b281(0x6c1)](_0x44b281(0x167)),..._0x5136a1,async(_0x5f17ea,_0x3c62e1)=>{const _0x3dd376=_0x44b281;let _0xef80bc=await this[_0x3dd376(0x296)]({'request':_0x5f17ea,'schema':$a,'ClassRef':Be,'execute':(_0x4ebe4d,_0x3006a8)=>x[_0x3dd376(0x167)](_0x4ebe4d,_0x3006a8)});return _0x3c62e1['status'](0xc9)[_0x3dd376(0x619)](_0xef80bc);})[_0x44b281(0xb2)](this['routerPath']('fetchBusinessProfile'),..._0x5136a1,async(_0x43d97a,_0x2bf31c)=>{const _0xc74d23=_0x44b281;let _0x30f0bf=await this[_0xc74d23(0x296)]({'request':_0x43d97a,'schema':Se,'ClassRef':fe,'execute':(_0x12d3f9,_0x3abbb8)=>x[_0xc74d23(0x41c)](_0x12d3f9,_0x3abbb8)});return _0x2bf31c[_0xc74d23(0x64f)](0xc8)[_0xc74d23(0x619)](_0x30f0bf);})[_0x44b281(0xb2)](this[_0x44b281(0x6c1)](_0x44b281(0x4c0)),..._0x5136a1,async(_0x3a5756,_0x665f19)=>{const _0x4ebac4=_0x44b281;let _0x7bcf4=await this[_0x4ebac4(0x296)]({'request':_0x3a5756,'schema':Fa,'ClassRef':qe,'execute':(_0x207860,_0x2edb09)=>x['updateProfileName'](_0x207860,_0x2edb09)});return _0x665f19['status'](0xc8)[_0x4ebac4(0x619)](_0x7bcf4);})[_0x44b281(0xb2)](this[_0x44b281(0x6c1)]('updateProfileStatus'),..._0x5136a1,async(_0xe831f0,_0x591696)=>{const _0x5d5c31=_0x44b281;let _0x5e5a99=await this['dataValidate']({'request':_0xe831f0,'schema':qa,'ClassRef':Ue,'execute':(_0x4c8f19,_0x2f3fa0)=>x[_0x5d5c31(0x5fd)](_0x4c8f19,_0x2f3fa0)});return _0x591696['status'](0xc8)[_0x5d5c31(0x619)](_0x5e5a99);})[_0x44b281(0x530)](this[_0x44b281(0x6c1)](_0x44b281(0x3aa)),..._0x5136a1,async(_0x340efe,_0x404e27)=>{const _0x5378fa=_0x44b281;let _0x277228=await this[_0x5378fa(0x296)]({'request':_0x340efe,'schema':Se,'ClassRef':fe,'execute':(_0x5daecd,_0x1f03b3)=>x['updateProfilePicture'](_0x5daecd,_0x1f03b3)});return _0x404e27[_0x5378fa(0x64f)](0xc8)[_0x5378fa(0x619)](_0x277228);})[_0x44b281(0x6c8)](this[_0x44b281(0x6c1)](_0x44b281(0x260)),..._0x5136a1,async(_0x2d1283,_0x3b335d)=>{const _0x7c4212=_0x44b281;let _0x594af1=await this['dataValidate']({'request':_0x2d1283,'schema':Se,'ClassRef':fe,'execute':(_0x24b54e,_0xb6648d)=>x[_0x7c4212(0x260)](_0x24b54e,_0xb6648d)});return _0x3b335d['status'](0xc8)['json'](_0x594af1);});}},eo=require('express'),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},ot=class{},rt=class extends Y{},it=class extends Y{},nt=class extends U{constructor(..._0x4cf1d1){const _0x4563c0=a0_0x2530f3;super(),this['router']=(0x0,eo[_0x4563c0(0x2bb)])(),this[_0x4563c0(0x3cc)][_0x4563c0(0xb2)](this[_0x4563c0(0x6c1)](_0x4563c0(0xb0)),..._0x4cf1d1,async(_0xdd793a,_0x46a7a2)=>{const _0x13e7c7=_0x4563c0;let _0x2b201a=await this[_0x13e7c7(0x296)]({'request':_0xdd793a,'schema':Ba,'ClassRef':Ze,'execute':(_0x13e7df,_0x1cbd5a)=>q[_0x13e7c7(0x5c6)](_0x13e7df,_0x1cbd5a)});_0x46a7a2['status'](0xc9)[_0x13e7c7(0x619)](_0x2b201a);})['put'](this[_0x4563c0(0x6c1)](_0x4563c0(0x572)),..._0x4cf1d1,async(_0x4b5033,_0x5865e1)=>{const _0xf238d8=_0x4563c0;let _0x41c1d4=await this[_0xf238d8(0x204)]({'request':_0x4b5033,'schema':za,'ClassRef':et,'execute':(_0x1a6d2f,_0x31d745)=>q['updateGroupPicture'](_0x1a6d2f,_0x31d745)});_0x5865e1[_0xf238d8(0x64f)](0xc9)[_0xf238d8(0x619)](_0x41c1d4);})['put'](this[_0x4563c0(0x6c1)](_0x4563c0(0x137)),..._0x4cf1d1,async(_0x51bbb6,_0x4fd1fb)=>{const _0x5c4f3a=_0x4563c0;let _0x1fdc50=await this['groupValidate']({'request':_0x51bbb6,'schema':Ha,'ClassRef':tt,'execute':(_0x19e6ab,_0x1fcce8)=>q[_0x5c4f3a(0x137)](_0x19e6ab,_0x1fcce8)});_0x4fd1fb[_0x5c4f3a(0x64f)](0xc9)[_0x5c4f3a(0x619)](_0x1fdc50);})[_0x4563c0(0x530)](this[_0x4563c0(0x6c1)](_0x4563c0(0x58a)),..._0x4cf1d1,async(_0xe982dd,_0x347cfb)=>{const _0x25be08=_0x4563c0;let _0x353547=await this[_0x25be08(0x204)]({'request':_0xe982dd,'schema':Ka,'ClassRef':st,'execute':(_0x183b52,_0x5a55b0)=>q[_0x25be08(0x58a)](_0x183b52,_0x5a55b0)});_0x347cfb['status'](0xc9)['json'](_0x353547);})['put'](this[_0x4563c0(0x6c1)](_0x4563c0(0x3e6)),..._0x4cf1d1,async(_0x13db5c,_0x1d1826)=>{const _0x327b37=_0x4563c0;let _0x34ceb1=await this[_0x327b37(0x204)]({'request':_0x13db5c,'schema':Qa,'ClassRef':at,'execute':(_0x3e6587,_0x3b73dc)=>q['groupSetting'](_0x3e6587,_0x3b73dc)});_0x1d1826['status'](0xc9)[_0x327b37(0x619)](_0x34ceb1);})[_0x4563c0(0x530)](this[_0x4563c0(0x6c1)](_0x4563c0(0x25a)),..._0x4cf1d1,async(_0x16367b,_0xa1c97f)=>{const _0x248a9d=_0x4563c0;let _0x229759=await this[_0x248a9d(0x204)]({'request':_0x16367b,'schema':Wa,'ClassRef':it,'execute':(_0x2e22d8,_0x265950)=>q[_0x248a9d(0x25a)](_0x2e22d8,_0x265950)});_0xa1c97f[_0x248a9d(0x64f)](0xc9)[_0x248a9d(0x619)](_0x229759);})[_0x4563c0(0x196)](this[_0x4563c0(0x6c1)](_0x4563c0(0x3c2)),..._0x4cf1d1,async(_0x2ba575,_0x483320)=>{const _0x816fa8=_0x4563c0;let _0xf9b17a=await this[_0x816fa8(0x204)]({'request':_0x2ba575,'schema':Ee,'ClassRef':Y,'execute':(_0x3a694e,_0x4b2567)=>q[_0x816fa8(0x67b)](_0x3a694e,_0x4b2567)});_0x483320[_0x816fa8(0x64f)](0xc8)[_0x816fa8(0x619)](_0xf9b17a);})[_0x4563c0(0x196)](this['routerPath'](_0x4563c0(0x1d9)),..._0x4cf1d1,async(_0xba26ad,_0x23e00e)=>{const _0x282c82=_0x4563c0;let _0x24a208=await this['dataValidate']({'request':_0xba26ad,'schema':M,'ClassRef':E,'execute':_0x1db15b=>q[_0x282c82(0x1d9)](_0x1db15b)});_0x23e00e[_0x282c82(0x64f)](0xc8)[_0x282c82(0x619)](_0x24a208);})[_0x4563c0(0x196)](this[_0x4563c0(0x6c1)](_0x4563c0(0x6dd)),..._0x4cf1d1,async(_0x1c110f,_0x238d41)=>{const _0x5db37f=_0x4563c0;let _0x32571d=await this[_0x5db37f(0x204)]({'request':_0x1c110f,'schema':Ee,'ClassRef':Y,'execute':(_0x5b3040,_0x3567c6)=>q[_0x5db37f(0x487)](_0x5b3040,_0x3567c6)});_0x238d41['status'](0xc8)[_0x5db37f(0x619)](_0x32571d);})[_0x4563c0(0x196)](this[_0x4563c0(0x6c1)](_0x4563c0(0x691)),..._0x4cf1d1,async(_0x298ca4,_0x4b7c2d)=>{const _0x7dccbe=_0x4563c0;let _0x201422=await this[_0x7dccbe(0x204)]({'request':_0x298ca4,'schema':Ee,'ClassRef':Y,'execute':(_0x51a216,_0x5ab405)=>q[_0x7dccbe(0x691)](_0x51a216,_0x5ab405)});_0x4b7c2d['status'](0xc8)['json'](_0x201422);})[_0x4563c0(0x530)](this['routerPath'](_0x4563c0(0x307)),..._0x4cf1d1,async(_0x3d55b2,_0xe799c7)=>{const _0x5a5162=_0x4563c0;let _0x897c91=await this['joinGroupValidate']({'request':_0x3d55b2,'schema':Ya,'ClassRef':ot,'execute':(_0x1f8178,_0x3a9dbe)=>q[_0x5a5162(0x307)](_0x1f8178,_0x3a9dbe)});_0xe799c7['status'](0xc9)['json'](_0x897c91);})[_0x4563c0(0x530)](this[_0x4563c0(0x6c1)](_0x4563c0(0x1f1)),..._0x4cf1d1,async(_0x135dc6,_0x35dfcf)=>{const _0x52ebb3=_0x4563c0;let _0x3e6e59=await this[_0x52ebb3(0x204)]({'request':_0x135dc6,'schema':Ee,'ClassRef':Y,'execute':(_0x27af63,_0x1b6870)=>q[_0x52ebb3(0x1f1)](_0x27af63,_0x1b6870)});_0x35dfcf[_0x52ebb3(0x64f)](0xc9)['json'](_0x3e6e59);})['put'](this[_0x4563c0(0x6c1)](_0x4563c0(0x6e1)),..._0x4cf1d1,async(_0x1ede72,_0x2c321c)=>{const _0xdcde28=_0x4563c0;let _0x5edcd6=await this[_0xdcde28(0x204)]({'request':_0x1ede72,'schema':Ga,'ClassRef':rt,'execute':(_0x131b56,_0x5a6ab4)=>q['updateGParticipate'](_0x131b56,_0x5a6ab4)});_0x2c321c[_0xdcde28(0x64f)](0xc9)[_0xdcde28(0x619)](_0x5edcd6);})[_0x4563c0(0x6c8)](this['routerPath'](_0x4563c0(0x336)),..._0x4cf1d1,async(_0x5827a5,_0x11d92a)=>{const _0x2b4f41=_0x4563c0;let _0x384bdc=await this[_0x2b4f41(0x204)]({'request':_0x5827a5,'schema':{},'ClassRef':Y,'execute':(_0x2b7bc9,_0x1efdf4)=>q[_0x2b4f41(0x336)](_0x2b7bc9,_0x1efdf4)});_0x11d92a['status'](0xc8)[_0x2b4f41(0x619)](_0x384bdc);});}},to=require(a0_0x2530f3(0x30b)),ct=class extends U{constructor(_0x1b297d,..._0x18381c){const _0x4918c8=a0_0x2530f3;super(),this[_0x4918c8(0x1f2)]=_0x1b297d,this[_0x4918c8(0x3cc)]=(0x0,to['Router'])();let _0x9d30b7=_0x1b297d['get']('AUTHENTICATION');this[_0x4918c8(0x3cc)][_0x4918c8(0xb2)]('/create',..._0x18381c,async(_0x35b3c2,_0x30a397)=>{const _0x588058=_0x4918c8;let {instanceName:_0x9744fa,apikey:_0x235d68,number:_0x5b69ff}=_0x35b3c2[_0x588058(0x295)],_0xa48670=await le['createInstance']({'instanceName':_0x9744fa,'apikey':_0x235d68,'number':_0x5b69ff});return _0x30a397[_0x588058(0x64f)](0xc9)[_0x588058(0x619)](_0xa48670);})['put'](this[_0x4918c8(0x6c1)]('restart'),..._0x18381c,async(_0xec9f42,_0xe5070f)=>{const _0x5ddc08=_0x4918c8;let _0x3e8151=await this[_0x5ddc08(0x296)]({'request':_0xec9f42,'schema':M,'ClassRef':E,'execute':_0xc2521d=>le['restartInstance'](_0xc2521d)});return _0xe5070f['status'](0xc8)['json'](_0x3e8151);})[_0x4918c8(0x196)](this[_0x4918c8(0x6c1)]('connectionState'),..._0x18381c,async(_0x309e43,_0x496c89)=>{const _0x2884c9=_0x4918c8;let _0x2b9b21=await this[_0x2884c9(0x296)]({'request':_0x309e43,'schema':M,'ClassRef':E,'execute':_0x2be34e=>le[_0x2884c9(0x4e1)](_0x2be34e)});return _0x496c89[_0x2884c9(0x64f)](0xc8)[_0x2884c9(0x619)](_0x2b9b21);})[_0x4918c8(0x196)](this[_0x4918c8(0x6c1)]('fetchInstances',!0x1),..._0x18381c,async(_0x2262ac,_0x2ef01c)=>{const _0x48c859=_0x4918c8;let _0x56e830=await this[_0x48c859(0x296)]({'request':_0x2262ac,'schema':null,'ClassRef':E,'execute':_0x3dad16=>le[_0x48c859(0x5ac)](_0x3dad16)});return _0x2ef01c[_0x48c859(0x64f)](0xc8)[_0x48c859(0x619)](_0x56e830);})[_0x4918c8(0x6c8)](this[_0x4918c8(0x6c1)](_0x4918c8(0x16f)),..._0x18381c,async(_0x16ea8e,_0xad6b15)=>{const _0xf52d5e=_0x4918c8;let _0x44450a=await this['dataValidate']({'request':_0x16ea8e,'schema':M,'ClassRef':E,'execute':_0x162305=>le['logout'](_0x162305)});return _0xad6b15[_0xf52d5e(0x64f)](0xc8)[_0xf52d5e(0x619)](_0x44450a);})['delete'](this[_0x4918c8(0x6c1)](_0x4918c8(0x6c8)),..._0x18381c,async(_0x1633c2,_0x5e60dd)=>{const _0x10ca0d=_0x4918c8;let _0x37d487=await this[_0x10ca0d(0x296)]({'request':_0x1633c2,'schema':M,'ClassRef':E,'execute':_0x4ca354=>le[_0x10ca0d(0x4a7)](_0x4ca354)});return _0x5e60dd[_0x10ca0d(0x64f)](0xc8)['json'](_0x37d487);});}},so=require('express'),gs=class{},W=class extends gs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},ht=class extends W{},gt=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends U{constructor(..._0x4a9e73){const _0x1a9c69=a0_0x2530f3;super(),this['router']=(0x0,so['Router'])(),this['router'][_0x1a9c69(0xb2)](this['routerPath'](_0x1a9c69(0x20a)),..._0x4a9e73,async(_0x12a490,_0x1076c8)=>{const _0x257a45=_0x1a9c69;let _0x4da495=await this[_0x257a45(0x296)]({'request':_0x12a490,'schema':Sa,'ClassRef':lt,'execute':(_0x54d666,_0x1ca440)=>G[_0x257a45(0x20a)](_0x54d666,_0x1ca440)});return _0x1076c8[_0x257a45(0x64f)](0xc9)['json'](_0x4da495);})[_0x1a9c69(0xb2)](this[_0x1a9c69(0x6c1)](_0x1a9c69(0x1ed)),..._0x4a9e73,async(_0x140733,_0xddfe61)=>{const _0x3d692b=_0x1a9c69;let _0x5cdcf0=await this[_0x3d692b(0x296)]({'request':_0x140733,'schema':va,'ClassRef':Ce,'execute':(_0x38fdce,_0x7273d8)=>G[_0x3d692b(0x1ed)](_0x38fdce,_0x7273d8)});return _0xddfe61[_0x3d692b(0x64f)](0xc9)[_0x3d692b(0x619)](_0x5cdcf0);})[_0x1a9c69(0xb2)](this['routerPath'](_0x1a9c69(0x168)),..._0x4a9e73,async(_0x4b977c,_0x46b85c)=>{const _0xd74f7a=_0x1a9c69;let _0x2b5e12=await this[_0xd74f7a(0x296)]({'request':_0x4b977c,'schema':Ta,'ClassRef':pt,'execute':(_0x402a88,_0x3977ea)=>G[_0xd74f7a(0x168)](_0x402a88,_0x3977ea)});return _0x46b85c[_0xd74f7a(0x64f)](0xc9)[_0xd74f7a(0x619)](_0x2b5e12);})[_0x1a9c69(0xb2)](this[_0x1a9c69(0x6c1)](_0x1a9c69(0xe5)),..._0x4a9e73,async(_0x6d2b44,_0x51abe2)=>{const _0x41224e=_0x1a9c69;let _0x20c683=await this[_0x41224e(0x296)]({'request':_0x6d2b44,'schema':Na,'ClassRef':Ce,'execute':(_0x171d67,_0x534153)=>G[_0x41224e(0xe5)](_0x171d67,_0x534153)});return _0x51abe2[_0x41224e(0x64f)](0xc9)[_0x41224e(0x619)](_0x20c683);})[_0x1a9c69(0xb2)](this['routerPath'](_0x1a9c69(0x352)),..._0x4a9e73,async(_0x42ee3b,_0x1e4a92)=>{const _0x227e19=_0x1a9c69;let _0x313e33=await this[_0x227e19(0x296)]({'request':_0x42ee3b,'schema':Aa,'ClassRef':gt,'execute':(_0x52f2b6,_0x1f372d)=>G[_0x227e19(0x352)](_0x52f2b6,_0x1f372d)});return _0x1e4a92[_0x227e19(0x64f)](0xc9)['json'](_0x313e33);})[_0x1a9c69(0xb2)](this['routerPath']('sendLocation'),..._0x4a9e73,async(_0x3d8438,_0x583469)=>{const _0x513090=_0x1a9c69;let _0x383f92=await this[_0x513090(0x296)]({'request':_0x3d8438,'schema':Oa,'ClassRef':mt,'execute':(_0xda1fb7,_0x32905a)=>G['sendLocation'](_0xda1fb7,_0x32905a)});return _0x583469['status'](0xc9)[_0x513090(0x619)](_0x383f92);})[_0x1a9c69(0xb2)](this['routerPath'](_0x1a9c69(0x2ba)),..._0x4a9e73,async(_0x476fd2,_0x2363d6)=>{const _0x25e1f9=_0x1a9c69;let _0x2380dc=await this[_0x25e1f9(0x296)]({'request':_0x476fd2,'schema':Ia,'ClassRef':ft,'execute':(_0x3c6307,_0x37081f)=>G[_0x25e1f9(0x2ba)](_0x3c6307,_0x37081f)});return _0x2363d6[_0x25e1f9(0x64f)](0xc9)[_0x25e1f9(0x619)](_0x2380dc);})[_0x1a9c69(0xb2)](this['routerPath']('sendContact'),..._0x4a9e73,async(_0x3cadac,_0x90fada)=>{const _0xefdeca=_0x1a9c69;let _0x2ff02b=await this[_0xefdeca(0x296)]({'request':_0x3cadac,'schema':xa,'ClassRef':wt,'execute':(_0x1c43cc,_0x5efdcc)=>G[_0xefdeca(0x704)](_0x1c43cc,_0x5efdcc)});return _0x90fada['status'](0xc9)[_0xefdeca(0x619)](_0x2ff02b);})[_0x1a9c69(0xb2)](this[_0x1a9c69(0x6c1)](_0x1a9c69(0x696)),..._0x4a9e73,async(_0x25fe26,_0x17adb5)=>{const _0x48437e=_0x1a9c69;let _0x121281=await this['dataValidate']({'request':_0x25fe26,'schema':Da,'ClassRef':yt,'execute':(_0x40f782,_0x5af1f2)=>G['sendReaction'](_0x40f782,_0x5af1f2)});return _0x17adb5[_0x48437e(0x64f)](0xc9)[_0x48437e(0x619)](_0x121281);})['post'](this['routerPath'](_0x1a9c69(0x53b)),..._0x4a9e73,async(_0x4176eb,_0x2bc8e8)=>{const _0x27af1b=_0x1a9c69;let _0x124fa4=await this[_0x27af1b(0x296)]({'request':_0x4176eb,'schema':Ra,'ClassRef':dt,'execute':(_0x380ba2,_0x3c7aed)=>G[_0x27af1b(0x53b)](_0x380ba2,_0x3c7aed)});return _0x2bc8e8[_0x27af1b(0x64f)](0xc9)[_0x27af1b(0x619)](_0x124fa4);})[_0x1a9c69(0xb2)](this[_0x1a9c69(0x6c1)](_0x1a9c69(0x692)),..._0x4a9e73,async(_0x25fc9b,_0xd6114f)=>{const _0x3d44ee=_0x1a9c69;let _0xc7c98e=await this['dataValidate']({'request':_0x25fc9b,'schema':Ma,'ClassRef':ut,'execute':(_0x20609f,_0x58fb44)=>G[_0x3d44ee(0x692)](_0x20609f,_0x58fb44)});return _0xd6114f[_0x3d44ee(0x64f)](0xc9)[_0x3d44ee(0x619)](_0xc7c98e);})[_0x1a9c69(0xb2)](this[_0x1a9c69(0x6c1)](_0x1a9c69(0x329)),..._0x4a9e73,async(_0x3936d7,_0x8ef2bd)=>{const _0x574520=_0x1a9c69;let _0x6ab2ad=await this['dataValidate']({'request':_0x3936d7,'schema':Ca,'ClassRef':ht,'execute':(_0x318d6d,_0x455c15)=>G['sendSticker'](_0x318d6d,_0x455c15)});return _0x8ef2bd[_0x574520(0x64f)](0xc9)[_0x574520(0x619)](_0x6ab2ad);});}},ao=require(a0_0x2530f3(0x30b)),St=class{},Et=class extends U{constructor(..._0xf04134){const _0xea20cb=a0_0x2530f3;super(),this[_0xea20cb(0x3cc)]=(0x0,ao['Router'])(),this[_0xea20cb(0x3cc)][_0xea20cb(0xb2)](this['routerPath'](_0xea20cb(0xcc)),..._0xf04134,async(_0x1c98b0,_0xf8f800)=>{const _0x4617d6=_0xea20cb;let _0x546b87=await this[_0x4617d6(0x296)]({'request':_0x1c98b0,'schema':Xa,'ClassRef':St,'execute':(_0x124244,_0x23804a)=>ms[_0x4617d6(0x5fe)](_0x124244,_0x23804a)});_0xf8f800[_0x4617d6(0x64f)](0xc9)[_0x4617d6(0x619)](_0x546b87);})[_0xea20cb(0x196)](this[_0xea20cb(0x6c1)]('find'),..._0xf04134,async(_0x2d99e6,_0x3829c7)=>{const _0x49ab66=_0xea20cb;let _0x30fae7=await this[_0x49ab66(0x296)]({'request':_0x2d99e6,'schema':M,'ClassRef':E,'execute':_0x43dc7c=>ms[_0x49ab66(0x36d)](_0x43dc7c)});_0x3829c7[_0x49ab66(0x64f)](0xc8)[_0x49ab66(0x619)](_0x30fae7);});}},oo=require(a0_0x2530f3(0x30b)),f=new v(a0_0x2530f3(0x163)),Ct=class extends U{constructor(..._0x33fdaf){const _0x5cc39e=a0_0x2530f3;super(),this[_0x5cc39e(0x3cc)]=(0x0,oo['Router'])(),this[_0x5cc39e(0x3cc)]['post'](this['routerPath'](_0x5cc39e(0x690)),..._0x33fdaf,async(_0x5c5bb7,_0x3d4a9f)=>{const _0x58e66a=_0x5cc39e;let _0x643880=_0x5c5bb7[_0x58e66a(0x295)];f[_0x58e66a(0x34d)](_0x58e66a(0x115)),f['verbose']('request\x20body:\x20'),f[_0x58e66a(0x34d)](_0x5c5bb7[_0x58e66a(0x295)]);let _0x5e2c69=await this[_0x58e66a(0x296)]({'request':_0x5c5bb7,'schema':M,'ClassRef':E,'execute':_0x3ceb48=>T[_0x58e66a(0x4b8)](_0x3ceb48,_0x643880)});_0x3d4a9f['status'](0xc8)[_0x58e66a(0x619)](_0x5e2c69);})[_0x5cc39e(0x196)](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x690)),..._0x33fdaf,async(_0x2f4213,_0x12a84b)=>{const _0x103284=_0x5cc39e;let _0x31c874=await this['dataValidate']({'request':_0x2f4213,'schema':M,'ClassRef':E,'execute':_0x36da97=>T['getScheduleMessage'](_0x36da97)});_0x12a84b[_0x103284(0x64f)](0xc8)[_0x103284(0x619)](_0x31c874);})[_0x5cc39e(0x6c8)](this[_0x5cc39e(0x6c1)]('deleteDoneMessages'),..._0x33fdaf,async(_0x787308,_0x337b13)=>{const _0xd3cd9d=_0x5cc39e;f[_0xd3cd9d(0x34d)](_0xd3cd9d(0x417));let _0x28a1b9=await this['dataValidate']({'request':_0x787308,'schema':M,'ClassRef':E,'execute':_0x5d892e=>T[_0xd3cd9d(0x4d0)](_0x5d892e)});_0x337b13[_0xd3cd9d(0x64f)](0xc8)[_0xd3cd9d(0x619)](_0x28a1b9);})['post'](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x52a)),..._0x33fdaf,async(_0x41a28a,_0x1080f2)=>{const _0x825a19=_0x5cc39e;let _0x332ec0=_0x41a28a[_0x825a19(0x295)];f[_0x825a19(0x34d)]('request\x20received\x20in\x20starFlow'),f[_0x825a19(0x34d)](_0x825a19(0x49f)),f[_0x825a19(0x34d)](_0x41a28a['body']);let _0x14a828=await this[_0x825a19(0x296)]({'request':_0x41a28a,'schema':M,'ClassRef':E,'execute':_0x5f0829=>T[_0x825a19(0x52a)](_0x5f0829,_0x332ec0)});_0x1080f2[_0x825a19(0x64f)](0xc8)[_0x825a19(0x619)](_0x14a828);})['get'](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x511)),..._0x33fdaf,async(_0x3071d6,_0x274bf3)=>{const _0x43cf59=_0x5cc39e;f[_0x43cf59(0x34d)](_0x43cf59(0xdc));let _0x1ca390=await this[_0x43cf59(0x296)]({'request':_0x3071d6,'schema':M,'ClassRef':E,'execute':_0x3d2d4e=>T['getAutomateSystem'](_0x3d2d4e)});_0x274bf3[_0x43cf59(0x64f)](0xc8)[_0x43cf59(0x619)](_0x1ca390);})[_0x5cc39e(0x196)](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x688)),..._0x33fdaf,async(_0x570ee4,_0x258741)=>{const _0x3c0eab=_0x5cc39e;f['verbose']('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x15f42a=await this[_0x3c0eab(0x296)]({'request':_0x570ee4,'schema':M,'ClassRef':E,'execute':_0x2f684c=>T[_0x3c0eab(0x511)](_0x2f684c)});_0x258741['status'](0xc8)[_0x3c0eab(0x619)](_0x15f42a);})[_0x5cc39e(0xb2)](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x4ce)),..._0x33fdaf,async(_0x21f3c3,_0x4c0f76)=>{const _0x5ab6f3=_0x5cc39e;let _0x250097=_0x21f3c3[_0x5ab6f3(0x295)];f['verbose']('request\x20received\x20in\x20updateAgent'),f[_0x5ab6f3(0x34d)](_0x5ab6f3(0x49f)),f[_0x5ab6f3(0x34d)](_0x21f3c3['body']);let _0x2cd72c=await this[_0x5ab6f3(0x296)]({'request':_0x21f3c3,'schema':M,'ClassRef':E,'execute':_0x27867e=>T[_0x5ab6f3(0x4ce)](_0x27867e,_0x250097)});_0x4c0f76[_0x5ab6f3(0x64f)](0xc8)['json'](_0x2cd72c);})['post'](this[_0x5cc39e(0x6c1)]('updateCustomFields'),..._0x33fdaf,async(_0x584214,_0x2c6b0d)=>{const _0x4cfdd1=_0x5cc39e;let _0x529ac8=_0x584214[_0x4cfdd1(0x295)];f[_0x4cfdd1(0x34d)](_0x4cfdd1(0x280)),f[_0x4cfdd1(0x34d)]('request\x20body:\x20'),f['verbose'](_0x584214[_0x4cfdd1(0x295)]);let _0x1a5eca=await this[_0x4cfdd1(0x296)]({'request':_0x584214,'schema':M,'ClassRef':E,'execute':_0x2effe8=>T[_0x4cfdd1(0x31c)](_0x2effe8,_0x529ac8)});_0x2c6b0d['status'](0xc8)[_0x4cfdd1(0x619)](_0x1a5eca);})['post'](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x15b)),..._0x33fdaf,async(_0x2db473,_0xfdee25)=>{const _0x25163f=_0x5cc39e;let _0x37442b=_0x2db473[_0x25163f(0x295)];f[_0x25163f(0x34d)]('request\x20received\x20in\x20updateFlowConfig'),f[_0x25163f(0x34d)](_0x25163f(0x49f)),f[_0x25163f(0x34d)](_0x2db473['body']);let _0x4b22a4=await this[_0x25163f(0x296)]({'request':_0x2db473,'schema':M,'ClassRef':E,'execute':_0xeb830b=>T[_0x25163f(0x15b)](_0xeb830b,_0x37442b)});_0xfdee25['status'](0xc8)[_0x25163f(0x619)](_0x4b22a4);})[_0x5cc39e(0xb2)](this['routerPath'](_0x5cc39e(0x4c2)),..._0x33fdaf,async(_0x4248d4,_0x26e2c5)=>{const _0x46f90b=_0x5cc39e;let _0x17db50=_0x4248d4[_0x46f90b(0x295)];f['verbose'](_0x46f90b(0x5b7)),f[_0x46f90b(0x34d)](_0x46f90b(0x49f)),f['verbose'](_0x4248d4['body']);let _0x18fe29=await this[_0x46f90b(0x296)]({'request':_0x4248d4,'schema':M,'ClassRef':E,'execute':_0x3da588=>T[_0x46f90b(0x4c2)](_0x3da588,_0x17db50)});_0x26e2c5[_0x46f90b(0x64f)](0xc8)[_0x46f90b(0x619)](_0x18fe29);})['post'](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x498)),..._0x33fdaf,async(_0xd6f229,_0x49d42f)=>{const _0x559e0b=_0x5cc39e;let _0x2d4b4d=_0xd6f229[_0x559e0b(0x295)];f['verbose']('request\x20received\x20in\x20fetchConversation'),f[_0x559e0b(0x34d)]('request\x20body:\x20'),f[_0x559e0b(0x34d)](_0xd6f229[_0x559e0b(0x295)]);let _0x285ead=await this[_0x559e0b(0x296)]({'request':_0xd6f229,'schema':M,'ClassRef':E,'execute':_0x359327=>T[_0x559e0b(0x498)](_0x359327,_0x2d4b4d)});_0x49d42f[_0x559e0b(0x64f)](0xc8)[_0x559e0b(0x619)](_0x285ead);})['post'](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x181)),..._0x33fdaf,async(_0x12d915,_0x4db1ff)=>{const _0x346c85=_0x5cc39e;let _0x179753=_0x12d915['body'];f[_0x346c85(0x34d)](_0x346c85(0x47f)),f['verbose'](_0x346c85(0x49f)),f[_0x346c85(0x34d)](_0x12d915[_0x346c85(0x295)]);let _0x32ecb8=await this['dataValidate']({'request':_0x12d915,'schema':M,'ClassRef':E,'execute':_0x40f051=>T[_0x346c85(0x181)](_0x40f051,_0x179753)});_0x4db1ff[_0x346c85(0x64f)](0xc8)['json'](_0x32ecb8);})[_0x5cc39e(0x6c8)](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x3a0)),..._0x33fdaf,async(_0x57e9ec,_0x42733d)=>{const _0x295920=_0x5cc39e;let _0x2153bc=_0x57e9ec[_0x295920(0x295)];f[_0x295920(0x34d)](_0x295920(0x271)),f[_0x295920(0x34d)](_0x295920(0x49f)),f['verbose'](_0x57e9ec[_0x295920(0x295)]);let _0x3d70a5=await this[_0x295920(0x296)]({'request':_0x57e9ec,'schema':M,'ClassRef':E,'execute':_0x52da18=>T['deleteConversation'](_0x52da18,_0x2153bc)});_0x42733d['status'](0xc8)[_0x295920(0x619)](_0x3d70a5);})['post'](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x302)),..._0x33fdaf,async(_0x583639,_0x5b37e3)=>{const _0x1e2c55=_0x5cc39e;let _0x9fbd79=_0x583639[_0x1e2c55(0x295)];f[_0x1e2c55(0x34d)]('request\x20received\x20in\x20createFlow'),f[_0x1e2c55(0x34d)](_0x1e2c55(0x49f)),f[_0x1e2c55(0x34d)](_0x583639['body']);let _0x2bb881=await this['dataValidate']({'request':_0x583639,'schema':M,'ClassRef':E,'execute':_0x56f076=>T[_0x1e2c55(0x6f2)](_0x56f076,_0x9fbd79)});_0x5b37e3[_0x1e2c55(0x64f)](0xc8)[_0x1e2c55(0x619)](_0x2bb881);})[_0x5cc39e(0xb2)](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x3a2)),..._0x33fdaf,async(_0x59d1e5,_0x529d5c)=>{const _0x2fc2d7=_0x5cc39e;let _0x2f9ce2=_0x59d1e5[_0x2fc2d7(0x295)];f[_0x2fc2d7(0x34d)]('request\x20received\x20in\x20editFlow'),f['verbose'](_0x2fc2d7(0x49f)),f[_0x2fc2d7(0x34d)](_0x59d1e5['body']),delete _0x2f9ce2['blocks'],delete _0x2f9ce2[_0x2fc2d7(0x387)],delete _0x2f9ce2['groups'],delete _0x2f9ce2['conditions'];let _0xe24535=await this[_0x2fc2d7(0x296)]({'request':_0x59d1e5,'schema':M,'ClassRef':E,'execute':_0x301c00=>T[_0x2fc2d7(0x4b2)](_0x301c00,_0x2f9ce2)});_0x529d5c[_0x2fc2d7(0x64f)](0xc8)[_0x2fc2d7(0x619)](_0xe24535);})[_0x5cc39e(0xb2)](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x203)),..._0x33fdaf,async(_0xfdf8d3,_0x3a3dfe)=>{const _0x35a5de=_0x5cc39e;let _0x4c32f9=_0xfdf8d3['body'];f['verbose'](_0x35a5de(0x6d3)),f[_0x35a5de(0x34d)](_0x35a5de(0x49f)),f[_0x35a5de(0x34d)](_0xfdf8d3['body']);let _0x1cfb3c=await this[_0x35a5de(0x296)]({'request':_0xfdf8d3,'schema':M,'ClassRef':E,'execute':_0x1bd84c=>T['editFlowBlock'](_0x1bd84c,_0x4c32f9)});_0x3a3dfe['status'](0xc8)[_0x35a5de(0x619)](_0x1cfb3c);})['post'](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x119)),..._0x33fdaf,async(_0x535163,_0x409b65)=>{const _0x185c26=_0x5cc39e;let _0x54b9e9=_0x535163[_0x185c26(0x295)];f[_0x185c26(0x34d)](_0x185c26(0x6d3)),f['verbose'](_0x185c26(0x49f)),f['verbose'](_0x535163[_0x185c26(0x295)]);let _0xc4a5fa=await this['dataValidate']({'request':_0x535163,'schema':M,'ClassRef':E,'execute':_0x52fb3f=>T['editFlowReply'](_0x52fb3f,_0x54b9e9)});_0x409b65[_0x185c26(0x64f)](0xc8)['json'](_0xc4a5fa);})[_0x5cc39e(0xb2)](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x2f7)),..._0x33fdaf,async(_0xc75a2,_0x27d660)=>{const _0x28deeb=_0x5cc39e;let _0x4575ad=_0xc75a2[_0x28deeb(0x295)];f['verbose'](_0x28deeb(0x6d3)),f[_0x28deeb(0x34d)](_0x28deeb(0x49f)),f[_0x28deeb(0x34d)](_0xc75a2[_0x28deeb(0x295)]);let _0x37e3df=await this[_0x28deeb(0x296)]({'request':_0xc75a2,'schema':M,'ClassRef':E,'execute':_0x112148=>T[_0x28deeb(0x2e8)](_0x112148,_0x4575ad)});_0x27d660[_0x28deeb(0x64f)](0xc8)['json'](_0x37e3df);})[_0x5cc39e(0xb2)](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x1cf)),..._0x33fdaf,async(_0x544f98,_0x30a9f2)=>{const _0x23ffe6=_0x5cc39e;let _0x27110c=_0x544f98[_0x23ffe6(0x295)];f[_0x23ffe6(0x34d)](_0x23ffe6(0x48d)),f[_0x23ffe6(0x34d)](_0x23ffe6(0x49f)),f['verbose'](_0x544f98['body']);let _0x2fa86c=await this[_0x23ffe6(0x296)]({'request':_0x544f98,'schema':M,'ClassRef':E,'execute':_0x384f61=>T[_0x23ffe6(0x5b3)](_0x384f61,_0x27110c)});_0x30a9f2[_0x23ffe6(0x64f)](0xc8)[_0x23ffe6(0x619)](_0x2fa86c);})[_0x5cc39e(0xb2)](this[_0x5cc39e(0x6c1)]('editflowcondition'),..._0x33fdaf,async(_0x3c761c,_0x2c4e83)=>{const _0x1ed857=_0x5cc39e;let _0x29569e=_0x3c761c[_0x1ed857(0x295)];f[_0x1ed857(0x34d)](_0x1ed857(0x17a)),f[_0x1ed857(0x34d)](_0x1ed857(0x49f)),f['verbose'](_0x3c761c[_0x1ed857(0x295)]);let _0x3b442d=await this[_0x1ed857(0x296)]({'request':_0x3c761c,'schema':M,'ClassRef':E,'execute':_0x2cc438=>T[_0x1ed857(0x292)](_0x2cc438,_0x29569e)});_0x2c4e83[_0x1ed857(0x64f)](0xc8)[_0x1ed857(0x619)](_0x3b442d);})[_0x5cc39e(0xb2)](this[_0x5cc39e(0x6c1)]('editflowvariable'),..._0x33fdaf,async(_0x34bbd3,_0x2153ee)=>{const _0x3590cc=_0x5cc39e;let _0x3c588c=_0x34bbd3[_0x3590cc(0x295)];f[_0x3590cc(0x34d)](_0x3590cc(0x1a8)),f[_0x3590cc(0x34d)](_0x3590cc(0x49f)),f[_0x3590cc(0x34d)](_0x34bbd3[_0x3590cc(0x295)]);let _0x54064f=await this[_0x3590cc(0x296)]({'request':_0x34bbd3,'schema':M,'ClassRef':E,'execute':_0xddafea=>T['editFlowVariable'](_0xddafea,_0x3c588c)});_0x2153ee[_0x3590cc(0x64f)](0xc8)[_0x3590cc(0x619)](_0x54064f);})['post'](this[_0x5cc39e(0x6c1)]('getflow'),..._0x33fdaf,async(_0x184679,_0x3e6127)=>{const _0x33d271=_0x5cc39e;let _0x552e10=_0x184679[_0x33d271(0x295)];f['verbose'](_0x33d271(0x634)),f[_0x33d271(0x34d)](_0x33d271(0x49f)),f[_0x33d271(0x34d)](_0x184679[_0x33d271(0x295)]);let _0xc5fe54=await this[_0x33d271(0x296)]({'request':_0x184679,'schema':M,'ClassRef':E,'execute':_0x26d45d=>T[_0x33d271(0x468)](_0x26d45d,_0x552e10)});_0x3e6127['status'](0xc8)[_0x33d271(0x619)](_0xc5fe54);})[_0x5cc39e(0x6c8)](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x51b)),..._0x33fdaf,async(_0x12464f,_0x4795eb)=>{const _0x2eceae=_0x5cc39e;let _0x60d5=_0x12464f[_0x2eceae(0x295)];f[_0x2eceae(0x34d)](_0x2eceae(0x651)),f[_0x2eceae(0x34d)](_0x2eceae(0x49f)),f[_0x2eceae(0x34d)](_0x12464f[_0x2eceae(0x295)]);let _0x52b5a4=await this[_0x2eceae(0x296)]({'request':_0x12464f,'schema':M,'ClassRef':E,'execute':_0x111bdd=>T[_0x2eceae(0x538)](_0x111bdd,_0x60d5)});_0x4795eb[_0x2eceae(0x64f)](0xc8)['json'](_0x52b5a4);})['get'](this[_0x5cc39e(0x6c1)](_0x5cc39e(0x4d6)),..._0x33fdaf,async(_0x57d5d0,_0x2d313b)=>{const _0x4b00bd=_0x5cc39e;f[_0x4b00bd(0x34d)]('request\x20received\x20in\x20allFlows');let _0x3b2012=await this[_0x4b00bd(0x296)]({'request':_0x57d5d0,'schema':M,'ClassRef':E,'execute':_0x177c97=>T[_0x4b00bd(0x4a0)](_0x177c97)});_0x2d313b[_0x4b00bd(0x64f)](0xc8)['json'](_0x3b2012);});}},co=R(require(a0_0x2530f3(0x499))),X={};function ro(_0x585b0e,_0x2c8725,_0x8a33f4,_0x2501ba){X[_0x585b0e]||(X[_0x585b0e]={}),X[_0x585b0e][_0x2c8725]={'id':_0x2c8725,'response':_0x8a33f4,'events':_0x2501ba};}function io(_0x17ef2f,_0x2c9671){!X[_0x17ef2f]||!X[_0x17ef2f][_0x2c9671]||delete X[_0x17ef2f][_0x2c9671];}function J(_0x1817ea,_0x49eafc,_0x467e4b){const _0x31fb04=a0_0x2530f3;if(!X[_0x1817ea])return;let _0x3dda4a=_0x31fb04(0x170)+JSON[_0x31fb04(0x6d5)](_0x467e4b)+'\x0a\x0a';Object['values'](X[_0x1817ea])[_0x31fb04(0x2ed)](_0x48586d=>{const _0x544628=_0x31fb04;_0x48586d['events'][_0x544628(0x3e8)](_0x49eafc)&&_0x48586d['response'][_0x544628(0x36a)](_0x3dda4a);});}function no(){const _0x382d0b=a0_0x2530f3;let _0x18a5a8={};for(let _0x46d7f8 in X)_0x18a5a8[_0x46d7f8]=Object[_0x382d0b(0x610)](X[_0x46d7f8])[_0x382d0b(0x378)](_0x255334=>({'id':_0x255334['id'],'events':_0x255334[_0x382d0b(0x33c)]}));return _0x18a5a8;}var lo=require(a0_0x2530f3(0xbe)),ws=require(a0_0x2530f3(0x3a3)),fs=class{},cr=new ws['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),lr=new ws[(a0_0x2530f3(0x52b))]({'_id':{'type':String,'default':a0_0x2530f3(0x2c2)},'WebhookGlobal':{'type':cr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.[a0_0x2530f3(0xb6)](fs[a0_0x2530f3(0x6c9)],lr,a0_0x2530f3(0x644)),ur=co[a0_0x2530f3(0x22c)][a0_0x2530f3(0x42a)](__dirname,a0_0x2530f3(0x549)),vt=(0x0,Mt[a0_0x2530f3(0x2bb)])(),dr=b[a0_0x2530f3(0x196)](a0_0x2530f3(0xad))[a0_0x2530f3(0x1b6)],te=[ma,fa,ba[dr]];vt['use'](a0_0x2530f3(0xac),Mt['default'][a0_0x2530f3(0x584)](ur))[a0_0x2530f3(0x196)](a0_0x2530f3(0x6de),async(_0x174ab1,_0x45f73e)=>{const _0x144a8e=a0_0x2530f3;console[_0x144a8e(0x1cc)](_0x144a8e(0x129));let _0x1c54ca=_0x174ab1['params'][_0x144a8e(0x281)],_0x106363=(_0x174ab1[_0x144a8e(0x4f6)]['events']||'')['split'](','),_0x4145ad=(0x0,lo['v4'])();console[_0x144a8e(0x1cc)]('Instance\x20ID:',_0x1c54ca),console[_0x144a8e(0x1cc)]('Subscribed\x20Events:',_0x106363);let _0xebd99a=b['get'](_0x144a8e(0xad))['API_KEY'],_0x5d2616=_0x174ab1[_0x144a8e(0x4f6)]['apikey'];if(console[_0x144a8e(0x1cc)](_0x144a8e(0x1b5),_0x5d2616),_0xebd99a[_0x144a8e(0x2c6)]!==_0x5d2616){console[_0x144a8e(0x1cc)](_0x144a8e(0x13d));try{let _0xd0ff70=await ce[_0x144a8e(0x33e)][_0x144a8e(0x44c)](_0x1c54ca);if(console[_0x144a8e(0x1cc)](_0x144a8e(0x56c),_0xd0ff70),!_0xd0ff70||_0xd0ff70['apikey']!==_0x5d2616)return console['log'](_0x144a8e(0x5c2)),_0x45f73e['status'](0x191)[_0x144a8e(0x6d8)](_0x144a8e(0x70d));}catch(_0x297aed){return console['error']('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x297aed),_0x45f73e['status'](0x191)[_0x144a8e(0x6d8)](_0x144a8e(0x4ea));}}if(!await We(_0x1c54ca))return _0x45f73e[_0x144a8e(0x64f)](0x194)[_0x144a8e(0x6d8)](_0x144a8e(0x28c));_0x45f73e[_0x144a8e(0xbb)](_0x144a8e(0x29b),'text/event-stream'),_0x45f73e['setHeader'](_0x144a8e(0x2de),'no-cache'),_0x45f73e[_0x144a8e(0xbb)](_0x144a8e(0x423),'keep-alive'),_0x45f73e[_0x144a8e(0x4ec)]();let _0x1af880=_0x144a8e(0x170)+JSON['stringify']({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x45f73e[_0x144a8e(0x36a)](_0x1af880),ro(_0x1c54ca,_0x4145ad,_0x45f73e,_0x106363),_0x174ab1['on'](_0x144a8e(0x16c),()=>{const _0xf231b2=_0x144a8e;console[_0xf231b2(0x1cc)](_0xf231b2(0x30f)+_0x1c54ca),io(_0x1c54ca,_0x4145ad);});}),vt[a0_0x2530f3(0x196)](a0_0x2530f3(0x19c),(_0x1b7008,_0x438e67)=>{const _0xc4138d=a0_0x2530f3;let _0x438fa8=no();_0x438e67[_0xc4138d(0x619)](_0x438fa8);})[a0_0x2530f3(0x196)]('/',(_0x39baaf,_0x103c6f)=>{const _0x31cf36=a0_0x2530f3;let _0xda7dbb=b[_0x31cf36(0x196)]('SSL_CONF'),_0x8ec78=_0xda7dbb&&_0xda7dbb['FULLCHAIN'][_0x31cf36(0x551)]('/')[0x4];if(_0x8ec78){let _0x4a6be5=encodeURIComponent(_0x31cf36(0x566)+_0x8ec78);_0x103c6f['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x4a6be5);}else _0x103c6f[_0x31cf36(0x53f)](_0x31cf36(0x1f6));})[a0_0x2530f3(0x530)](a0_0x2530f3(0x467),...te,async(_0x247ee3,_0x350940)=>{const _0xb838d0=a0_0x2530f3;try{console[_0xb838d0(0x1cc)](_0xb838d0(0x69b)),_0x350940[_0xb838d0(0x64f)](0xc8)[_0xb838d0(0x619)]({'message':_0xb838d0(0x506)}),_0x350940['on'](_0xb838d0(0x2f3),()=>process[_0xb838d0(0x50c)](0x0));}catch(_0x1242e2){console[_0xb838d0(0x426)](_0xb838d0(0x5cf),_0x1242e2),_0x350940[_0xb838d0(0x64f)](0x1f4)['json']({'message':_0xb838d0(0x219)});}})[a0_0x2530f3(0x530)](a0_0x2530f3(0x257),...te,async(_0x5c9672,_0x487dff)=>{const _0x8b7370=a0_0x2530f3;try{let _0x5779a5=_0x5c9672['body'];await we['updateOne']({},{'$set':_0x5779a5},{'upsert':!0x0});let _0xeb29c3=await we[_0x8b7370(0x2ff)]();_0x487dff[_0x8b7370(0x619)](_0xeb29c3);}catch(_0x5ec664){_0x487dff[_0x8b7370(0x64f)](0x190)['send'](_0x5ec664[_0x8b7370(0x335)]);}})['get'](a0_0x2530f3(0x257),...te,async(_0x3ea6ae,_0x5b81bd)=>{const _0x279772=a0_0x2530f3;try{let _0x578e1a=await we['findOne']();if(!_0x578e1a)return _0x5b81bd[_0x279772(0x619)]({});_0x5b81bd['json'](_0x578e1a);}catch(_0x41a380){_0x5b81bd[_0x279772(0x64f)](0x1f4)[_0x279772(0x6d8)](_0x41a380['message']);}})['use'](a0_0x2530f3(0x191),new ct(b,...te)['router'])['use']('/message',new bt(...te)[a0_0x2530f3(0x3cc)])[a0_0x2530f3(0x531)](a0_0x2530f3(0x60c),new Xe(...te)[a0_0x2530f3(0x3cc)])['use'](a0_0x2530f3(0x5c4),new nt(...te)[a0_0x2530f3(0x3cc)])[a0_0x2530f3(0x531)](a0_0x2530f3(0x107),new Et(...te)['router'])['use'](a0_0x2530f3(0x5a7),new Ct(...te)[a0_0x2530f3(0x3cc)]);var m=class{constructor(..._0x35fd0f){const _0x4d2e57=a0_0x2530f3;throw{'status':0x190,'error':_0x4d2e57(0x3a4),'message':_0x35fd0f[_0x4d2e57(0x66c)]>0x0?_0x35fd0f:void 0x0};}},ee=class{constructor(..._0x5c5e3e){throw{'status':0x191,'error':'Unauthorized','message':_0x5c5e3e['length']>0x0?_0x5c5e3e:void 0x0};}},K=class{constructor(..._0x319571){const _0x208bf0=a0_0x2530f3;throw{'status':0x193,'error':'Forbidden','message':_0x319571[_0x208bf0(0x66c)]>0x0?_0x319571:void 0x0};}},j=class{constructor(..._0x3aac1d){const _0x455719=a0_0x2530f3;throw{'status':0x194,'error':_0x455719(0x449),'message':_0x3aac1d[_0x455719(0x66c)]>0x0?_0x3aac1d:void 0x0};}},O=class{constructor(..._0x4d450f){const _0x354562=a0_0x2530f3;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x4d450f[_0x354562(0x66c)]>0x0?_0x4d450f:void 0x0};}},ue=require(a0_0x2530f3(0x4e3));async function ys(_0x56f26d){const _0x3e070b=a0_0x2530f3;let _0x3e9c5f=new v(ys[_0x3e070b(0x6c9)]),_0x5bf39a=N[_0x3e070b(0x283)](),_0x3a276c=_0x5bf39a['db'](b[_0x3e070b(0x196)](_0x3e070b(0x353))[_0x3e070b(0x553)][_0x3e070b(0x65e)]+_0x3e070b(0x585))['collection'](_0x56f26d),_0x5c7633=async(_0x3c054b,_0x10e0d0)=>{const _0x56b3d2=_0x3e070b;try{return await _0x5bf39a['connect'](),await _0x3a276c[_0x56b3d2(0x29c)]({'_id':_0x10e0d0},JSON['parse'](JSON[_0x56b3d2(0x6d5)](_0x3c054b,ue[_0x56b3d2(0x3e3)]['replacer'])),{'upsert':!0x0});}catch{}},_0x102613=async _0x121104=>{const _0x53d0a4=_0x3e070b;try{await _0x5bf39a[_0x53d0a4(0xb8)]();let _0x4b64f6=await _0x3a276c[_0x53d0a4(0x2ff)]({'_id':_0x121104}),_0x35d19d=JSON[_0x53d0a4(0x6d5)](_0x4b64f6);return JSON[_0x53d0a4(0x520)](_0x35d19d,ue[_0x53d0a4(0x3e3)][_0x53d0a4(0x2f8)]);}catch{}},_0x34f366=async _0x407804=>{const _0x4f06c9=_0x3e070b;try{return await _0x5bf39a[_0x4f06c9(0xb8)](),await _0x3a276c[_0x4f06c9(0x3fb)]({'_id':_0x407804});}catch{}},_0x177059=await _0x102613(_0x3e070b(0x5a8))||(0x0,ue['initAuthCreds'])();return{'state':{'creds':_0x177059,'keys':{'get':async(_0x416894,_0x37f395)=>{const _0x1582d2=_0x3e070b;let _0x5abe78={};return await Promise[_0x1582d2(0x2ef)](_0x37f395[_0x1582d2(0x378)](async _0x46d45e=>{const _0xf6afda=_0x1582d2;let _0x3760c1=await _0x102613(_0x416894+'-'+_0x46d45e);_0x416894===_0xf6afda(0x360)&&_0x3760c1&&(_0x3760c1=ue[_0xf6afda(0x65c)][_0xf6afda(0x6fa)][_0xf6afda(0x2f9)]['fromObject'](_0x3760c1)),_0x5abe78[_0x46d45e]=_0x3760c1;})),_0x5abe78;},'set':async _0x557883=>{const _0x4243a5=_0x3e070b;let _0x156334=[];for(let _0x4851a3 in _0x557883)for(let _0x58b1d7 in _0x557883[_0x4851a3]){let _0x176a63=_0x557883[_0x4851a3][_0x58b1d7],_0x387a88=_0x4851a3+'-'+_0x58b1d7;_0x156334[_0x4243a5(0x5aa)](_0x176a63?_0x5c7633(_0x176a63,_0x387a88):_0x34f366(_0x387a88));}await Promise[_0x4243a5(0x2ef)](_0x156334);}}},'saveCreds':async()=>_0x5c7633(_0x177059,_0x3e070b(0x5a8))};}var Es=R(require(a0_0x2530f3(0x3df))),Cs=R(require('node-cache')),Tt=require(a0_0x2530f3(0x4e3)),uo=require('@redis/client'),Rt=require(a0_0x2530f3(0x4e3)),Nt;function pr(_0x182ec3){const _0x45da34=a0_0x2530f3;return Nt||(Nt=(0x0,uo[_0x45da34(0x373)])({'url':_0x182ec3[_0x45da34(0x25c)]}),Nt['connect']()),Nt;}var oe=class c{constructor(_0x3681f3,_0xed4f4c){const _0x51d1ec=a0_0x2530f3;this[_0x51d1ec(0x5d7)]=_0x3681f3,this['instanceName']=_0xed4f4c,this[_0x51d1ec(0xfb)]=new v(c[_0x51d1ec(0x6c9)]),this['client']=pr(_0x3681f3);}set[a0_0x2530f3(0x333)](_0x56ff60){const _0x85bba8=a0_0x2530f3;this[_0x85bba8(0x67f)]=_0x56ff60;}async[a0_0x2530f3(0xd6)](){const _0x148739=a0_0x2530f3;try{return await this[_0x148739(0x4dd)][_0x148739(0x5a5)]([_0x148739(0x557),this[_0x148739(0x5d7)]['PREFIX_KEY']+':*']);}catch(_0x3c885d){this[_0x148739(0xfb)][_0x148739(0x426)](_0x3c885d);}}async[a0_0x2530f3(0x488)](_0x23feab,_0x49714b){const _0x33da1e=a0_0x2530f3;try{let _0x4d34fe=JSON['stringify'](_0x49714b,Rt[_0x33da1e(0x3e3)][_0x33da1e(0x183)]);return await this[_0x33da1e(0x4dd)][_0x33da1e(0x6cc)](this['redisEnv'][_0x33da1e(0x43f)]+':'+this[_0x33da1e(0x67f)],_0x23feab,_0x4d34fe);}catch(_0x1dbc39){this[_0x33da1e(0xfb)]['error'](_0x1dbc39);}}async[a0_0x2530f3(0x3bf)](){const _0x5f28ca=a0_0x2530f3;try{let _0x1be2b0=await this[_0x5f28ca(0x4dd)][_0x5f28ca(0x4ee)](this['redisEnv'][_0x5f28ca(0x43f)]+':'+this['instanceName']);if(_0x1be2b0){for(let _0xd461f2 in _0x1be2b0)Object[_0x5f28ca(0x282)]['hasOwnProperty']['call'](_0x1be2b0,_0xd461f2)&&(_0x1be2b0[_0xd461f2]=JSON[_0x5f28ca(0x520)](_0x1be2b0[_0xd461f2],Rt[_0x5f28ca(0x3e3)][_0x5f28ca(0x2f8)]));return _0x1be2b0;}}catch(_0x12debd){this[_0x5f28ca(0xfb)][_0x5f28ca(0x426)](_0x12debd);}}async[a0_0x2530f3(0x140)](_0x518dfb){const _0x55ef96=a0_0x2530f3;try{let _0xb5cc32=await this[_0x55ef96(0x4dd)][_0x55ef96(0x328)](this[_0x55ef96(0x5d7)][_0x55ef96(0x43f)]+':'+this['instanceName'],_0x518dfb);if(_0xb5cc32)return JSON[_0x55ef96(0x520)](_0xb5cc32,Rt['BufferJSON'][_0x55ef96(0x2f8)]);}catch(_0x109679){this[_0x55ef96(0xfb)][_0x55ef96(0x426)](_0x109679);}}async['removeData'](_0x460537){const _0x335aa1=a0_0x2530f3;try{return await this[_0x335aa1(0x4dd)][_0x335aa1(0x3c3)](this[_0x335aa1(0x5d7)]['PREFIX_KEY']+':'+this['instanceName'],_0x460537);}catch(_0x19782c){this[_0x335aa1(0xfb)][_0x335aa1(0x426)](_0x19782c);}}async[a0_0x2530f3(0x6a4)](_0x23410a){const _0x2293ab=a0_0x2530f3;try{return await this[_0x2293ab(0x4dd)][_0x2293ab(0x3c4)](_0x23410a||this[_0x2293ab(0x5d7)][_0x2293ab(0x43f)]+':'+this[_0x2293ab(0x67f)]);}catch(_0x41028b){this['logger'][_0x2293ab(0x426)](_0x41028b);}}};async function bs(_0x2171c4,_0x2165a1){const _0x3dcf38=a0_0x2530f3;let _0x12410b=new v(bs[_0x3dcf38(0x6c9)]),_0x3caa1d=new oe(_0x2171c4,_0x2165a1),_0x4f982e=async(_0x338364,_0x5a17e3)=>{const _0x523c4f=_0x3dcf38;try{return await _0x3caa1d[_0x523c4f(0x488)](_0x5a17e3,_0x338364);}catch(_0x32c7cf){return _0x12410b[_0x523c4f(0x426)]({'localError':_0x523c4f(0x488),'error':_0x32c7cf});}},_0x8c5c3f=async _0x55cb71=>{const _0x35553d=_0x3dcf38;try{return await _0x3caa1d['readData'](_0x55cb71);}catch(_0x1c9256){_0x12410b[_0x35553d(0x426)]({'readData':'writeData','error':_0x1c9256});return;}},_0x56bbfd=async _0x1f5c1c=>{const _0x1315ab=_0x3dcf38;try{return await _0x3caa1d[_0x1315ab(0x550)](_0x1f5c1c);}catch(_0x102cc2){_0x12410b[_0x1315ab(0x426)]({'readData':_0x1315ab(0x550),'error':_0x102cc2});}},_0x8146a=await _0x8c5c3f(_0x3dcf38(0x5a8))||(0x0,Tt[_0x3dcf38(0x2b5)])();return{'state':{'creds':_0x8146a,'keys':{'get':async(_0x3c0e25,_0x25427f)=>{let _0x2c666e={};return await Promise['all'](_0x25427f['map'](async _0x44c646=>{const _0x1f3147=a0_0x4c5f;let _0x48d763=await _0x8c5c3f(_0x3c0e25+'-'+_0x44c646);_0x3c0e25===_0x1f3147(0x360)&&_0x48d763&&(_0x48d763=Tt['proto'][_0x1f3147(0x6fa)][_0x1f3147(0x2f9)][_0x1f3147(0x216)](_0x48d763)),_0x2c666e[_0x44c646]=_0x48d763;})),_0x2c666e;},'set':async _0x3db3ac=>{const _0x4f5720=_0x3dcf38;let _0x36737f=[];for(let _0x152414 in _0x3db3ac)for(let _0x38b586 in _0x3db3ac[_0x152414]){let _0x37f3cf=_0x3db3ac[_0x152414][_0x38b586],_0x408356=_0x152414+'-'+_0x38b586;_0x36737f[_0x4f5720(0x5aa)](_0x37f3cf?await _0x4f982e(_0x37f3cf,_0x408356):await _0x56bbfd(_0x408356));}await Promise[_0x4f5720(0x2ef)](_0x36737f);}}},'saveCreds':async()=>await _0x4f982e(_0x8146a,_0x3dcf38(0x5a8))};}var L=R(require('fs')),Me=require(a0_0x2530f3(0xbe)),xt=R(require(a0_0x2530f3(0x42e))),Dt=require(a0_0x2530f3(0xd9)),hr=a0_0x2530f3(0x334)['trim'](),At=hr[a0_0x2530f3(0x551)]('\x0a')[a0_0x2530f3(0x378)](_0x1165cf=>{const _0x9f85c8=a0_0x2530f3;let _0x1bf0aa=_0x1165cf['split'](':');return{'host':_0x1bf0aa[0x0],'port':_0x1bf0aa[0x1],'username':_0x1bf0aa[0x2],'password':_0x1bf0aa[0x3],'protocol':_0x9f85c8(0x576)};});function po(_0x103ccc){const _0x1c1a00=a0_0x2530f3;let _0x59f320=At['find'](_0x2442fa=>_0x2442fa[_0x1c1a00(0x291)]===_0x103ccc);return _0x59f320||null;}function ho(){const _0x33a6be=a0_0x2530f3;if(At['length']===0x0)return null;let _0x1761bb=Math[_0x33a6be(0xc5)](Math['random']()*At[_0x33a6be(0x66c)]);return At[_0x1761bb];}function a0_0x33cc(){const _0x354461=['getVariablesChat','uazapiSendAudio','createSectionsFromValues','sendReaction','wuid','flowname:\x20','Temp\x20audio\x20path:\x20','option','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Temp\x20image\x20deleted','last','hostname','messages.upsert','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','parseInt','):\x20conversation.lastInteraction:\x20','Label\x20','delAll','view\x20engine','getDelay','done','addChatLabel','buffer','locked','findFlow','qrcode','archived','fetchLatestBaileysVersion','Audio\x20converted\x20to\x20mp4','phoneNumber','):\x20Campos\x20a\x20serem\x20atualizados:','EMAIL','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','insertCount','USER','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','):\x20Dados\x20migrados\x20com\x20sucesso','1985404CHbljO','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','verifiedName','applyvaredit','\x20minutos\x20verificará\x20novas\x20mensagens','env.yml','conditions','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','!cmd_','routerPath','messageHandle','toUpperCase','menuType','*Pergunta*:\x20\x0a','creds.json','DATABASE_CONNECTION_DB_PREFIX_NAME','delete','name','.ogg','groupToggleEphemeral','hSet','CHATS_DELETE','updateReplyOption','contains','Esse\x20fluxo\x20expirou','certonly','Erro\x20do\x20Certbot:\x20','request\x20received\x20in\x20editFlow','collections','stringify','DATABASE_CONNECTION_URI','not\x20loaded','send','REDIS','syscall','paused','\x1b[37m%s\x1b[0m','participants','/events/:instance','limit','uncaughtException','updateParticipant','/instance/connectionState','address','abs','):\x20newSecondValue\x20após\x20replaceVariables:','groups.upsert','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','uazapiSendMenu','saveVariable','findGroup','#00a1f2','formatBRNumber','QRCODE_UPDATED','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','ENABLED','application/octet-stream','connectionUpdate','createFlow','DisconnectReason','findById','Type\x20not\x20found','formatVCard','saveCreds','optionName','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','Message','File\x20written\x20to\x20path:\x20','console','Read\x20messages\x20fail','birthtime','/media/','groupId','):\x20Deletando\x20fluxo...','Erro\x20ao\x20copiar\x20dados:','The\x20','sendContact','\x1b[1m\x1b[37m','audio/aac','arraybuffer','truncatedtoEnd','):\x20Entrou\x20na\x20função\x20goToFlow','CONTACTS_SET','assign','/wa-presence','API\x20Key\x20inválida.','):\x20Criando\x20fluxo...','userDevicesCache','title','pollMessage','min','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','/media','AUTHENTICATION','waMonitor','INFO','create','mimetype','post','sort','sections','group-participants.update','model','Authentication\x20error','connect','Variáveis\x20não\x20encontradas:','processApiRequest','setHeader','groupMetadata','updateConversation','uuid','variablesNotFound','PRESENCE_UPDATE','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','connectionStatus','update','https://api.elevenlabs.io/v1/text-to-speech/','floor','open','findAndReplaceRegex','reactionMessage','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','set','Type\x20is\x20required','http://checkip.dyndns.org','save','upsertChats','messageSecret','charAt','firstValue','privacySettings','DOCKER_ENV','instanceKeys','#d8e651','):\x20Enviando\x20localização','https-proxy-agent','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Getting\x20profile\x20info','request\x20received\x20in\x20getAutomateSystem','):\x20Erro\x20durante\x20a\x20atualização:\x20','truncatedto','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','viewOnceMessageV2','Error\x20updating\x20profile\x20picture','):\x20Criou\x20conversa\x20no\x20startFlow:','some','count','sendWhatsAppAudio','padEnd','fetchProfile2','chatHandle','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','#dfaef0','replyOptions','STORE_CHATS','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','Instance\x20\x22','capitalizedWords','toLocaleString','lastCondition','_Flows','replaceVariablesInReplyOptions','Enter\x20a\x20value\x20in\x20milliseconds','Image\x20converted\x20to\x20WebP','poll','throwAndLogError','CORS_CREDENTIALS','2pvlFOP','Erro\x20ao\x20buscar\x20conversas:\x20','logger','ids','findByIdAndUpdate','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','unreadCount','dropCollection','type','fetchLabels','block','color','WA\x20MODULE','DD/MM\x20HH:mm:ss','/webhook','\x20saindo\x20da\x20função','stderr','\x1b[36m','.\x20Pulando.','\x0a*Você\x20respondeu*:\x0a','CONNECTION_UPDATE','Comando\x20desconhecido','groups.update','HttpsProxyAgent','STORE_CLEANING_TERMINAL','valid','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','groupCreate','request\x20received\x20in\x20scheduleMessage','group','SSL_CONF_FULLCHAIN','messages.update','editflowreply','maxActives','flowStopConversation','PORT','send.message','\x20não\x20encontrado\x20para\x20atualização.','STORE_MESSAGE','\x22reaction\x22\x20must\x20be\x20an\x20emoji','generate','announce','):\x20Buscando\x20flow...','\x20Tentativa\x20de\x20reconexão\x20','video','\x20de\x20conectar\x20com\x20proxy.','updateMessage','):\x20Fluxos\x20não\x20estão\x20ativados','bateu\x20events','/*.json','API_KEY','Error\x20creating\x20group','pollCreationMessageV3','contactname','):\x20Procurando\x20mensagens\x20para\x20envio','password','viewOnceMessage','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','originalUrl','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','defineAuthState','redis://127.0.0.1:6379','groupDesc','Processing\x20audio','fromMe','#ffc5c7','quotedMessage','stopped','env.KEY\x20!==\x20key','-----------------proxyUri---------------------','_id','readData','getBusinessProfile','setContext','requestPairingCode','CORS_ORIGIN','status.instance','getTime','blockLogs','endSession','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','creation','caption','CORS','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','CONTACTS_UPDATE','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','The\x20property\x20cannot\x20be\x20empty','updateMediaMessage','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','isBase64','Deletion\x20failed','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','webhookModel','label','editFlowBlock','Type\x20defined\x20as\x20audio','subjectOwner','updateFlowConfig','sendMessage','):\x20transformedCustomFieldVariables','mongodb://','audioMessage','Imagem\x20não\x20encontrada','):\x20tem\x20blocks','presenceSubscribe','FlowRouter','test','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','item','updatePrivacySettings','sendMenu','modifiedCount','SERVER','contextInfo','close','Erro\x20ao\x20buscar\x20conversa:\x20','audio/mp4','logout','data:\x20','fetchChats','No\x20invite\x20code','):\x20newFirstValue\x20após\x20replaceVariables:','findChats','):\x20updateResult:','updateMissingEtiquetas','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','contactMessage','instanceInfo','request\x20received\x20in\x20editFlowcondition','notContains','optionDescription','chatId','_ScheduleMessages','notEqual','allContacts','editConversation','Erro\x20ao\x20atualizar\x20o\x20fluxo:','replacer','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','slice','exists','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','sendPresenceUpdate','messaging-history.set','\x20contacts','waitingMenu_id','headers','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','sem\x20texto\x20na\x20mensagem','longitude','Selecione','/instance','available','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','groupHandler','STATUS_INSTANCE','get','ChatRouter','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','Temp\x20audio\x20deleted','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','chatLog','/clients-info','LabelModel','updateAll','options','upperCase',',\x20saindo.','pre','Output\x20path:\x20','<subdomain>','desc','):\x20Editando\x20replyOption...','.\x20Aguardando\x20antes\x20de\x20reconectar...','request\x20received\x20in\x20editFlowvariable','endsWith','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','/wa-chats','findMessages','chat','deleteChat','interval\x20não\x20é\x20um\x20número','connectionClosed','preview','insert','checkAndRestartProcess','createConnection','API\x20Key\x20from\x20Request:','TYPE','senderKeyDistributionMessage','stopMinutesMaxActives','conversation','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','compression','/wa-qrcode','updateLastSeenPrivacy','Chat\x20com\x20ID\x20','demote','lastBlockId','):\x20alterando\x20this.AutomateSystem','lastDisconnect','method','ListType','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','fetchProfile','redis','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','JWT','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','log','localWebhook','.sendDataWebhook-global','editflowgroup','sendMessageWithTyping','createNewConversation','participant','authorization','blocks','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','VERBOSE','updateMany','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','findGroups','replyOption','segundos','condition','REDIS_URI','evaluateCondition','fileLength','contentText','addReplyOption','.jwt','10cccfQo','fetchContacts','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.',',\x20pairCode:\x20','instanceName\x20not\x20provided.','arrayUnique','\x1b[0m','Parando\x20aplicação,\x20atualização\x20recebida','viewOnceMessageV2Extension','chats','sendMedia','pollCreationMessageV2','Business\x20profile\x20fetched','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','revokeInviteCode','configService','connectToWhatsappController','):\x20Alterando\x20fluxo...','writeFile','https://uazapi-plugin.bubbleapps.io/','latitude','):\x20conversation.status:\x20','toDataURL','importChatsBatch','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','50mb','uazapiSendLocation','\x1b[33m','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','Rótulo\x20atualizado:','\x20-y','deleteReplyOption','editflowblock','groupValidate','):\x20Mensagem\x20já\x20enviada\x20para\x20','@broadcast','cpf','):\x20teve\x20mudanças\x20chat.archived:\x20','replaceVariablesLogs','sendText','.txt','updateGParticipate','instance.','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','Types','CLEANING_INTERVAL','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','leadInfo.etiquetas','apiResponse','Button\x20IDs\x20cannot\x20be\x20repeated.','getRandomText','fromObject','):\x20teve\x20mudanças\x20chat.displayName:\x20','CORS_METHODS','Erro\x20ao\x20encerrar\x20a\x20API','Erro\x20de\x20atualização:\x20','importChatsAntigo','StartBot','cors','closeExistingConversations','presence','ignoreGroups','js-yaml','\x20minutos.\x20Será\x20às\x20','dbSettings','.ogv','closed','):\x20Bloco\x20com\x20ID\x20','apirequest','#fed428','Error\x20update\x20group\x20picture','Falta\x20informação\x20para\x20a\x20chamada\x20API','Hash\x20to\x20audio\x20name:\x20','default','Unable\x20to\x20leave\x20the\x20group','delayChatLabel','contact','updateBlock','saveChatVariables','readFileSync','editChat','ini','_activatedCount','\x20-i\x20','contacts.upsert','Db\x20Connection','noConnection','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','toBrazilianNumberFormat','env','MESSAGES_UPSERT','This\x20name\x20','enabled','audioWhatsapp','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','subject','132168IdFfKp','quoted','loadWebhook','):\x20delete\x20=\x20true','Erro\x20ao\x20remover\x20instâncias\x20antigas:','imported','):\x20Erro\x20ao\x20buscar\x20conversas\x20','editOperator','updateStopChat','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','createAndSave','remoteJidsRemaining','CHATS_UPSERT','deletedCount','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','replaceVariablesChat','addBlock','toNumber','):\x20Ignoring\x20group\x20messages.','/config','Chrome','prepareMediaMessage','toggleEphemeral','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','URI','processConditions','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x20do\x20chat\x20','removeProfilePicture','variablesToObject','Instance\x20restarted','state','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','contacts.update','backgroundColor','max','delayChatLabel_MAX_RETRIES','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Instância:\x20','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','readMessages','removeOlderDisconnectedInstances','match','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','user','request\x20received\x20in\x20deleteConversation','integer','responsavelid','boolean','contactHandle','hasOwnProperty','listType','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','):\x20Flow\x20não\x20encontrado','uazapiDeleteMessage','removed','editFlowVariable','REDIS_PREFIX_KEY','Erro:','labels.edit','request\x20received\x20in\x20updateCustomFields','instance','prototype','getClient','@g.us','replaceVariables','URL\x20limpa:\x20','output','format','InstancesAlterarTodas','SSL_CONF','jsonwebtoken','Instância\x20não\x20encontrada.','messageId','protocolMessage','):\x20conversation.waitingMenu_name','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','host','editFlowCondition','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','timerId','body','dataValidate','fetchMessages','\x20ao\x20chat\x20','):\x20Editando\x20bloco...','action','Content-Type','replaceOne','):\x20Erro\x20ao\x20criar\x20fluxo\x20','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','.xlsx','Log\x20out\x20instance:\x20','errno','metadata','/wa-groups','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','Error\x20updating\x20profile\x20status','contacts','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','writeFileSync','chats.update','\x1b[34m%s\x1b[0m','_Messages','none','unlinkSync','LOG_LEVEL','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','delaySecMin','Parando\x20aplicação...','\x20\x1b[0m','OrAnd','desativadoFluxoAte','initAuthCreds','notMatchRegex','sha256','https://chat.whatsapp.com/','.error','sendList','Router','):\x20expirationTime:\x20','\x20quoted:\x20','\x1b[33m%s\x1b[0m','bulkWrite','release','sendAudio','config','port','findConversation','isRunning','KEY','notEmpty','leadInfo.desativadoFluxoAte','label_jid','webhookService','existsSync','where','ConversationModel','end','https','convertaudio','matchRegex','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','ScheduleMessageModel','Error\x20fetching\x20group','):\x20Limpando\x20AutomateSystem','pollMessageOnDelete','next_groupId','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','DATABASE_CONNECTION_HOST','emit','joinGroupValidate','verify','\x1b[41m','Cache-Control','url','.pptx','agents','):\x20Limpando\x20delayMessage','3127120jYmKIH','collection','unavailable','groupJid','child_process','editFlowVaredit','@ffmpeg-installer/ffmpeg','DELIVERY_ACK','chatModify','error_log','forEach','\x20minutos','all','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','nome','waInstances','finish','Erro\x20ao\x20inserir\x20chats:','ON\x20-\x20dbName:\x20','from','editflowvaredit','reviver','AppStateSyncKeyData','mentioned','drop','isJWT','selectableCount','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','findOne','lastReceivedMessage','startsWith','createflow','readFile',',\x20Comparador:\x20','\x20-\x20ON:\x20','Last\x20message\x20not\x20found\x20for\x20number:','joinGroup','trim','Converted\x20audio\x20deleted','):\x20Falha\x20ao\x20deletar\x20mensagem.','express','text','groups','flowName','Connection\x20closed\x20for\x20instance:\x20','indexOf','isInteger','replaceVariablesInObject','DARK','getBase64FromMediaMessage','detail','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','validate','online','document','updateOne','empty','updateCustomFields','getChatModelForOwner','role','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Database\x20is\x20not\x20enabled','website','scheduleNextCheck','Proxy\x20falhou.\x20Tentando\x20o\x20próximo...','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','hGet','sendSticker','realVariables','getLabelModelForOwner','groupInviteCode','fullName','updateMissingTags','everyOne','\x20instance\x20does\x20not\x20exist','height','Erro\x20ao\x20deletar\x20chat:','reference','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','message','leaveGroup','deleteMessage','https://jsonip.com','EXPIRIN_IN','contactsArrayMessage','Flow\x20iniciado\x20com\x20','events','lastmsg','auth','displayName','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','):\x20Enviando\x20mídia','TEXT','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','temp-','):\x20Entrou\x20na\x20função\x20saveReply','.xls','scheduleSendMedia','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','delay','mongodb','flow','verbose','tags','Error\x20while\x20deleting\x20message\x20for\x20everyone','toFile','command','sendButtons','DATABASE','#9ba6ff','\x1b[36m%s\x1b[0m','markMessageAsRead','findByIdAndDelete','Unknown\x20message\x20type\x20or\x20empty\x20message','):\x20','NO_IP','processgoToFlow','-whatsapp-api','Conversa\x20deletada\x20com\x20sucesso.','statusCode','audio','app-state-sync-key','profilePicture','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','fone','setting','URL:','refused','):\x20Going\x20to\x20','waitingMenu_ExpiredMessage','#ffae04','write',',\x20Minutes\x20to\x20Close:\x20','bodyString','findWebhook','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','vote','Converted\x20image\x20deleted','):\x20Buscando\x20todos\x20os\x20fluxos...','authService','createClient','pairingCode','\x5cd+','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Error\x20in\x20markMessageAsRead:','map','response','delayMessage','inner','4915sNfycR','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','editFlowReply','nomecompleto','statusJidList','lastSend','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','start','Host\x20de\x20proxy\x20em\x20\x27auth\x27\x20não\x20encontrado,\x20selecionando\x20um\x20proxy\x20aleatório.','replace','substring','variables','getScheduleMessage','deleteBlock','):\x20Erro\x20ao\x20editar\x20agentes:\x20','g.us','):\x20Não\x20achou\x20nenhum\x20flow','convertToWebP','E-mail:\x20','Valor\x20inicial:\x20\x22',',\x20valor\x20passado:\x20\x22','dbServer','$pull','params','repeat','buttonText','Error\x20change\x20group\x20setting','checkAndUpdateChatStatus','LOG','number','no.connection','msgRetryCounterCache','jpegThumbnail','oldToken','prepareWAMessageMedia','statSync','deleteConversation','):\x20Error\x20processing\x20conditions:\x20','editflow','mongoose','Bad\x20Request','Erro\x20ao\x20editar\x20agentes:\x20','add','CONTACTS_UPSERT','context','decryptPollVote','updateProfilePicture','getStatus','less','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','pt-BR','getPrototypeOf','.png','):\x20atualização\x20chat:\x20','LEVEL','Erro\x20de\x20reinicialização:\x20','goNextblock','Proxy\x20funcionando!','spawn','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Fluxo\x20não\x20encontrado','contact_blacklist',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','augusto.fcs@gmail.com','ephemeralMessage','code','}}\x20->\x20\x22','getAllData','updatePresence','/wa-message-update','findGroupInfos','hDel','del','_FlowHistorico','URL','Erro\x20ao\x20adicionar\x20label\x20','stopWhenYouSendMsg','waitingMenu_text','isLong','secondValue','router','messages.set','scheduleSendText','StatusJidList\x20is\x20required','now','://','Número:\x20','WebhookGlobal','lean','.pdf','oldValue','Valor\x20de\x20find\x20ou\x20replace\x20ausente','?authSource=admin&readPreference=primary&directConnection=true','presence.update','.mp4','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','^\x5cd+[\x5c.@\x5cw-]+','extractRegex','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','long','groupLeave','):\x20Enviando\x20áudio','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','BufferJSON','The\x20instance\x20needs\x20to\x20be\x20disconnected','!stop','groupSetting','Hash\x20to\x20image\x20name:\x20','includes','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','\x20is\x20already\x20in\x20use.','hbs','RECONNECT_TIME_FRAME','.TEL;waid=','announcement','scheduleSendAudio','storePath','\x20chats\x20de\x20','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','getOwnPropertyNames','__esModule','):\x20Bloco\x20copiado:\x20','SECRET','email','subdomain','automateSystem','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','deleteOne','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','findOneAndUpdate','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','testProxy','Error\x20in\x20scheduleNextCheck:\x20','CHATS_SET','Last\x20message\x20not\x20found','application/json','The\x20global\x20api\x20key\x20must\x20be\x20set','unhandledRejection','PROXY','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','processPollUpdateMessage','Including\x20timestamp\x20in\x20url:\x20','\x1b[40m','uazapi','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Erro\x20ao\x20editar\x20o\x20chat:\x20','src','deleted','MAX_RECONNECT_ATTEMPTS','minutesToClose','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','stack','https://github.com/uazapi/uazapi.git','$addToSet','request\x20received\x20in\x20deleteDoneMessages','stanzaId','object','.X-ABLabel:Celular\x0a','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','fetchBusinessProfile','FULLCHAIN','getMessageModelForOwner','Certbot:\x20','NextBlock','\x1b[42m','updateOneById','Connection','resetReconnectionVariables','connecting','error','Início','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','AUTHENTICATION_JWT_EXPIRIN_IN','join','addresss','readMessage','replaceValue','sharp','processblock','urlOrBase64','connectToWhatsapp','fileUrl','true','convertedOptions','warn','Reinicialização\x20iniciada:\x20','last_update','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Sistema\x20atualizado\x20com\x20sucesso!','string','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','mediaSticker','qrcode.updated','):\x20Enviando\x20enquete','PREFIX_KEY','uazapiSendContact','Error\x20fetching\x20and\x20updating\x20profile:\x20','):\x20Buscando\x20conversa...','dark','leadInfo','AddChatLabel','expiration','groupUpdateDescription','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','Not\x20Found','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','connectedName','find','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','jwt','Não\x20respondeu\x20com\x20a\x20enquete.','updateMissingCustomFields','#64c4ff',',\x20lastCondition:\x20','Converting\x20audio\x20to\x20mp4','TEL','\x20não\x20encontrado','value','FlowModel','messagesSend','\x22\x20not\x20found','profilePictureUrl','repository','#92ceac','Resultado\x20da\x20atualização:','InstancesAsDisconnectedX','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','remove.instance','updateChatWithMessage','Button\x20texts\x20cannot\x20be\x20repeated','Nenhum\x20chat\x20encontrado\x20para\x20editar.','and','remove','encoding','/exit','getFlow','express-async-errors','creds.update','ListMessage','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','#01d0e2','COLOR','apiName','Operador:\x20\x22','waUploadToServer','rm\x20-rf\x20','BRL','created','\x1b[32m','\x20horas\x20e\x20','messages','changeVariables','groups_ignore','processvaredits','trimmed',',\x20fará\x20nova\x20verificação\x20em\x20','envProcess','):\x20Procurando\x20conversa','request\x20received\x20in\x20editConversation','flowActive','uazapiSendMedia','status@broadcast','createConversationforStartFlow','$dbName','Error\x20updating\x20profile\x20name','DATABASE_CONNECTION_PASSWORD','findParticipants','writeData','\x1b[31m','profile','listMessage','Configuração\x20do\x20ip:','request\x20received\x20in\x20editFlowgroup','editedMessage','96670jPsGBG','PASSWORD','content','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','size','apikey','delayChatLabel_RETRY_DELAY_MS','menuExpiredMessage','55HxHJDp','fetchConversation','path','):\x20Comando\x20desconhecido:\x20','qrCode','bearer','reorderBlocks','SERVER_ACK','request\x20body:\x20','allFlows','):\x20Usando\x20extensão\x20padrão:\x20','LICENSE_INVALID','buttonId','findAndReplace','CREDENTIALS','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','deleteInstance','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','lastSendMessage','archive','getMessage','/wa-connection-update','rows','flowConfig','Group\x20not\x20found','Erro\x20ao\x20atualizar\x20o\x20flow.','function','editFlow','menuMessage','\x1b[37m','saveMediaToFile','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','isBusiness','editScheduleMessage','#000000','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','filter','variable','Close\x20connection','updateMissingLabels','):\x20Criando\x20nova\x20conversa[createNewConversation]','updateProfileName','Erro\x20inesperado\x20em\x20processvaredits:\x20','getConversation','https://api.openai.com/v1/images/generations','whatsappNumber','reconnectTimestamps',',\x20Segundo\x20Valor:\x20','.uazapi.dev','deleteAll','chats.upsert','groupAcceptInvite','getFlowModelForOwner','fetchProfilePicture','READ','updateAgent','locationMessage','deleteDoneMessages','\x1b[32m%s\x1b[0m','copyBlock','newStoppedUntil','buttons','../env.yml','allflows','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','toArray','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','@s.whatsapp.net','updateGParticipant','stdout','client','Not\x20allowed\x20by\x20CORS','GROUP_PARTICIPANTS_UPDATE','unlocked','connectionState','):\x20Query\x20params:','@whiskeysockets/baileys',',\x20qrcodeCount:\x20','flowConversation','):\x20Ler\x20mensagem','):\x20Deletando\x20mensagem','loggedOut','Fluxos\x20não\x20estão\x20ativados','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','archiveChat','flushHeaders','/events','hGetAll','8080','ORG:','Telefone:\x20','flattenObject','mediaKey','REDIS_ENABLED','mediaMessage','query','fileName','authModel','setWebhook','currency','unknown\x20operation\x20type\x20[','array','listResponseMessage','_Chats','sendDataWebhook','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','10946106OytGZq','Erro\x20ao\x20importar\x20chats:','Image\x20path:\x20','#6f7bcf','/wa-contacts','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','):\x20Conversa\x20inserida\x20com\x20sucesso.','Nenhum\x20proxy\x20funcional\x20encontrado\x20ou\x20desabilitado.','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','):\x20Conversa\x20atualizada\x20em\x20memória','sectionsToString','exit','exec','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','owner','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','getAutomateSystem','ReplyOption\x20com\x20ID\x20','.svg','call','labels.association','local_map','RemoveChatLabel','webhook','#d3a91f','namespace','deleteflow','textMessage','Image\x20created','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','toLowerCase','parse','.webp','cwd','urlencoded','atendimentoAberto','messageContextInfo','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','description','order','headerString','startFlow','Schema','findLabels','):\x20Error\x20processing\x20the\x20block:\x20','importChats','\x20adicionado\x20ao\x20chat\x20','put','use','#56ccb4','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','info','formatStatusMessage','lastInteraction','scheduleMessages','deleteFlow','SUCCESS','updateOnlinePrivacy','sendPoll','choices','jid','chats.set','redirect','https://api.ipify.org?format=json','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20Bloco\x20original\x20para\x20cópia:\x20','createServer','pollUpdateMessage','Erro\x20ao\x20editar\x20a\x20conversa:\x20','Failed\x20to\x20find\x20chat\x20','instances','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','downloads','Atualização:\x20','Font\x20is\x20required','288rfFHdo','etiquetas','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','app','removeData','split','Deleted\x20','CONNECTION','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','cleaningUp','/instance/delete','keys','buttonMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','):\x20Conversa\x20está\x20expirada\x20-\x20voto','groupadd','.sendDataWebhook-local','font','varedit','readMessageBot','entries','.docx','labelId','Not\x20is\x20business\x20profile','Cannot\x20','PRIVKEY','https://','stateConnection','dayjs','sleep','fetchPrivacySettings','Data\x20inválida\x20fornecida','Instance\x20Key\x20from\x20DB:','fetchStatus','authState','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','class-validator','Chat\x20','updateGroupPicture','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','ERROR:\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','http','Fetching\x20business\x20profile','reaction','updateProfilePicturePrivacy','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','unreadcount','remote\x20\x22origin\x22','ms\x20(Attempt\x20','CHATS_UPDATE','documentMessage','expression','errors','pollCreationMessage','ephemeralExpiration','static','-instances','utf-8','MESSAGES_UPDATE','Error\x20updating\x20message\x20status:','getDevice','groupName','key','createConversationforgoToFlow','footerText',',\x20Expiration\x20Time:\x20','content-type','Tentando\x20reconectar...','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','upsertedCount','toString','findAll','messageTimestamp','remoteJid','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','):\x20leadInfoVariables','groupRevokeInvite','data','envYaml','getContactModelForOwner','stopIfLastReturnedError','has','No\x20participants','Erro\x20ao\x20aplicar\x20varedit:\x20','https://api.openai.com/v1/audio/speech','pollErrorMessage','stopConversation','Temp\x20audio\x20created','sendCommand','prefixCommand','/automate','creds','PLAYED','push','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','fetchInstances','header','):\x20não\x20encontrou','dbClient','nextBlock:','):\x20Conversa\x20está\x20expirada','STORE_CONTACTS','editFlowGroup','random','isJidUser','reconnectAttempts','request\x20received\x20in\x20getConversation','mediatype','generateHash','splice','greater','\x20segundos','groupUpdateSubject','instancias:\x20','groupSettingUpdate','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','readreceipts','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','/group','numbers','createGroup','_Labels','toBRL','Revoke\x20error','sending','public','dbInstance','folder','delaySecMax','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','processConditionsTest','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','webp','getScheduleMessageModelForOwner','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','axios','ContactModel','redisEnv','connection.update','getProfileName','SEND_MESSAGE','insertMany','Rótulo\x20deletado:','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','picture','PENDING','leadInfo.','copyDataToNewModel','AutomateSystem','round','eventEmitter','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','moreLogs','):\x20isVote:\x20','saveConversationToDatabase','SERVER_PORT','protocol','notas','findIndex','?timestamp=','\x20}\x0a','_error','getMinutes','normalizeMessage','listen','loadInstance','username','GROUPS_UPSERT','customFields','ip:\x20','DEBUG','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','):\x20Flow\x20desativado','\x22\x20-\x20REMOVED','media','updateProfileStatus','createWebhook','equal','Error\x20updating\x20setting','\x22\x20-\x20NOT\x20CONNECTION','SINGLE_SELECT','message_normalized','shift','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','Getting\x20audio\x20from\x20url','getContentType','chats.delete','):\x20Enviando\x20texto','Invalid\x20format','error\x20get\x20vote','/chat','enumerable','Bloco\x20com\x20ID\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','values','#ffffff','image','Output\x20audio\x20path:\x20','):\x20Visualizando\x20AutomateSystem','statusMessage','createJid','pollCreationMessageKey','2983722yEUtFy','json','findOrCreate','requestFile','Erro\x20ao\x20editar\x20o\x20bloco:\x20','processingScheduleMessageId','sendLocation','deleteMany','ERROR','Module\x20-\x20ON','recording','stopMinutes','scheduled','MESSAGES_SET','evaluateConditionTest','webhookMap','video-cover.png','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','pushName','flowIgnoreGroups','#9ab6c1','isURL','\x22,\x20valor\x20a\x20substituir:\x20\x22','imageMessage','match_last_seen','No\x20join\x20group\x20invite\x20code\x20or\x20url','updateStatusPrivacy','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','request\x20received\x20in\x20getFlow','width','Instance\x20logged\x20out','SERVER_URL','Error\x20in\x20chatModify\x20for\x20number\x20','promote','Error\x20writing\x20file:\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','^\x5cd+','isArray','getMIMEType','setRestartTimer','findContacts','groupParticipantsUpdate','menuIgnoreNonVotes','success','All_Instances_Config','loadEnv','leadInfo.customFields','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','getConversationModelForOwner','isJidGroup','):\x20this.processingScheduleMessageId:\x20','stickerMessage','WARN','stoppedUntil','status','):\x20Current\x20Time:\x20','request\x20received\x20in\x20deleteFlow','isListOfNumbers','varedits','imagechat',',\x20valor\x20a\x20encontrar:\x20\x22','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','lastMessage','makeCacheableSignalKeyStore','ObjectId','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','base64','proto','blockId','DB_PREFIX_NAME','#b4ebff','conversationTimestamp','downloadMediaMessage','utf8','waitingMenu_replyOptions','eventHandler','padStart','./.git/config','documentWithCaptionMessage','hex','loadproxy','uazapiSendText','processUazapi','length','Missing\x20global\x20api\x20key','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','remoteJids','Flow\x20não\x20encontrado','/instance/create','not_announcement','composing','when','cache','reorderReplyOptions','saveTextReply','/wa-message','STORE','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','findGroupInfo','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','\x20removido\x20do\x20chat\x20','process','instanceName','lowerCase','generateWAMessageFromContent','ReplyOptions\x20finais\x20após\x20reordenação:','Desconectado,\x20parando\x20execução.','GROUPS_UPDATE','restartInstance','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','/instance/fetchInstances','getTicketSystem','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','isConnected','mentions','):\x20Editando\x20edição\x20do\x20fluxo...','shutdown\x20-r\x20now','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','scheduleMessage','inviteCode','sendStatus'];a0_0x33cc=function(){return _0x354461;};return a0_0x33cc();}function go(_0x263bbd){const _0x40e31b=a0_0x2530f3;let _0x39e6d8=_0x17d159=>typeof _0x17d159==_0x40e31b(0x43a)&&_0x17d159[_0x40e31b(0x66c)]>0x0,_0x5674d3=_0x406691=>{let _0x41c847=parseInt(_0x406691,0xa);return!isNaN(_0x41c847)&&_0x41c847>0x0&&_0x41c847<=0xffff;},_0x4ce568=_0x3daf9e=>typeof _0x3daf9e==_0x40e31b(0x43a)&&_0x3daf9e[_0x40e31b(0x66c)]>0x0;return _0x263bbd&&_0x39e6d8(_0x263bbd[_0x40e31b(0x291)])&&_0x5674d3(_0x263bbd[_0x40e31b(0x2c3)])&&_0x4ce568(_0x263bbd['username'])&&_0x4ce568(_0x263bbd['password'])&&(_0x263bbd[_0x40e31b(0x5ea)]===_0x40e31b(0x576)||_0x263bbd[_0x40e31b(0x5ea)]===_0x40e31b(0x2cf));}var Eo=a0_0x2530f3(0x258),Ms,re=null,mo=null,He=null,gr=0x3,mr=null;async function fr(){const _0x3bdeab=a0_0x2530f3;let _0x1e5f7a=await we[_0x3bdeab(0x2ff)]();re=_0x1e5f7a?.[_0x3bdeab(0x3d3)]??null,mr=_0x1e5f7a?.['DaysToDelete']??null,Eo=_0x1e5f7a?.['connectedClient']??_0x3bdeab(0x258),Ms=_0x1e5f7a?.[_0x3bdeab(0x44b)]??vs??'uazapi',console[_0x3bdeab(0x1cc)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x3bdeab(0x1cc)](_0x1e5f7a);}async function wr(){await fr();}wr();function $(_0x38c2d0){const _0x4bbfe1=a0_0x2530f3;if(_0x38c2d0[_0x4bbfe1(0x131)]||_0x38c2d0['viewOnceMessageV2']){let _0x55c234=_0x38c2d0[_0x4bbfe1(0x131)]?_0x38c2d0[_0x4bbfe1(0x131)][_0x4bbfe1(0x335)]:_0x38c2d0[_0x4bbfe1(0xe0)]['message'];return(0x0,y[_0x4bbfe1(0x607)])(_0x55c234);}return _0x38c2d0[_0x4bbfe1(0x12d)]?_0x4bbfe1(0x12d):_0x38c2d0['pollCreationMessageV2']?_0x4bbfe1(0x1ee):_0x38c2d0[_0x4bbfe1(0x1eb)]?'viewOnceMessageV2Extension':(0x0,y[_0x4bbfe1(0x607)])(_0x38c2d0);}var fo={},ye=class c{constructor(_0x1ebe3a,_0x3e961b,_0xf40498){const _0x199f11=a0_0x2530f3;this[_0x199f11(0x1f2)]=_0x1ebe3a,this[_0x199f11(0x5e4)]=_0x3e961b,this[_0x199f11(0x45b)]=_0xf40498,this[_0x199f11(0x5e2)]=null,this[_0x199f11(0xfb)]=new v(c[_0x199f11(0x6c9)]),this['instance']={},this[_0x199f11(0x1cd)]={},this[_0x199f11(0x567)]={'state':_0x199f11(0x16c)},this[_0x199f11(0x3f0)]=(0x0,F[_0x199f11(0x42a)])(ae,'downloads'),this[_0x199f11(0x39b)]=new Cs[(_0x199f11(0x22c))](),this[_0x199f11(0xa7)]=new Cs['default'](),this['endSession']=!0x1,this[_0x199f11(0x627)]={'status.instance':_0x199f11(0x4ac),'qrcode.updated':_0x199f11(0x1bc),'messages.upsert':'/wa-message','messages.update':_0x199f11(0x3c1),'send.message':_0x199f11(0x678),'group.upsert':_0x199f11(0x2a3),'group.update':'/wa-groups','group-participants.update':_0x199f11(0x2a3),'connection.update':_0x199f11(0x4ac),'messages.set':_0x199f11(0x678),'contacts.set':'/wa-contacts','contacts.upsert':_0x199f11(0x505),'contacts.update':_0x199f11(0x505),'presence.update':_0x199f11(0x70c),'chats.set':_0x199f11(0x1ab),'chats.update':'/wa-chats','chats.upsert':_0x199f11(0x1ab),'chats.delete':_0x199f11(0x1ab)},this['reconnectAttempts']=0x0,this[_0x199f11(0x4c5)]=[],this[_0x199f11(0x411)]=0xa,this[_0x199f11(0x3ec)]=0xea60,this[_0x199f11(0x2c5)]=!0x1,this[_0x199f11(0xe8)]={'chats.upsert':async(_0x34d4da,_0x524a96)=>{const _0x32139c=_0x199f11;let _0x54913b=[];for await(let _0xe5db3a of _0x34d4da)_0x54913b[_0x32139c(0x5aa)]({'_id':_0xe5db3a['id'],'owner':this[_0x32139c(0x281)][_0x32139c(0x697)],'group':_0xe5db3a['id'][_0x32139c(0x1a9)](_0x32139c(0x284)),'name':_0xe5db3a[_0x32139c(0x6c9)]||_0xe5db3a[_0x32139c(0x33f)]||null,'contactname':null,'lastmsg':_0xe5db3a['conversationTimestamp']&&_0xe5db3a[_0x32139c(0x660)][_0x32139c(0x593)]()[_0x32139c(0x66c)]<0xd?_0xe5db3a['conversationTimestamp']*0x3e8:_0xe5db3a[_0x32139c(0x660)]||null,'archived':_0xe5db3a[_0x32139c(0x6ad)]||!0x1,'unreadcount':_0xe5db3a[_0x32139c(0xff)]||0x0});this[_0x32139c(0x4ff)]('chats.upsert',_0x54913b);},'chats.update':async(_0x7966c0,_0x331608)=>{const _0x182ffb=_0x199f11;for(let _0x4e6c96 of _0x7966c0){let _0x200f27={'_id':_0x4e6c96['id'],'owner':this[_0x182ffb(0x281)][_0x182ffb(0x697)],'group':_0x4e6c96['id'][_0x182ffb(0x1a9)](_0x182ffb(0x284)),'name':_0x4e6c96[_0x182ffb(0x6c9)]||_0x4e6c96['displayName'],'archived':_0x4e6c96[_0x182ffb(0x6ad)],'ephemeralExpiration':_0x4e6c96[_0x182ffb(0x583)]},_0x287077=!0x1,_0xea957a={};_0x200f27[_0x182ffb(0x6ad)]!=null&&(this[_0x182ffb(0xfb)][_0x182ffb(0x34d)](this['instanceName']+'\x20('+this[_0x182ffb(0x281)][_0x182ffb(0x697)]+_0x182ffb(0x208)+_0x4e6c96[_0x182ffb(0x6ad)]),_0x287077=!0x0,_0xea957a[_0x182ffb(0x6ad)]=_0x4e6c96[_0x182ffb(0x6ad)]),_0x4e6c96[_0x182ffb(0x6c9)]!=null&&(this[_0x182ffb(0xfb)][_0x182ffb(0x34d)](this[_0x182ffb(0x67f)]+'\x20('+this[_0x182ffb(0x281)]['wuid']+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x4e6c96[_0x182ffb(0x6c9)]),_0x287077=!0x0,_0xea957a[_0x182ffb(0x6c9)]=_0x4e6c96[_0x182ffb(0x6c9)]),_0x4e6c96['displayName']!=null&&(this[_0x182ffb(0xfb)]['verbose'](this['instanceName']+'\x20('+this[_0x182ffb(0x281)][_0x182ffb(0x697)]+_0x182ffb(0x217)+_0x4e6c96[_0x182ffb(0x33f)]),_0x287077=!0x0,_0xea957a[_0x182ffb(0x6c9)]=_0x4e6c96[_0x182ffb(0x33f)]);let _0x4ad721;_0x287077&&(_0x4ad721=await this[_0x182ffb(0x45b)][_0x182ffb(0x1ad)][_0x182ffb(0x31a)]({'where':{'_id':_0x4e6c96['id']}},_0xea957a,this[_0x182ffb(0x281)]['wuid'])),_0x4ad721&&J(this['instanceName'],'chats',{'chat':_0x4ad721});}},'chats.delete':async _0x27f138=>{const _0x556767=_0x199f11;this['sendDataWebhook'](_0x556767(0x608),[..._0x27f138]);}},this[_0x199f11(0x275)]={'contacts.upsert':async(_0x2fb746,_0x112aa0)=>{const _0x1c31e2=_0x199f11;let _0x3f0b80=await this[_0x1c31e2(0x45b)][_0x1c31e2(0x22f)]['find']({'where':{}},this[_0x1c31e2(0x281)][_0x1c31e2(0x697)]),_0x1da039=[];for await(let _0x1924eb of _0x2fb746)_0x3f0b80[_0x1c31e2(0x44c)](_0x298fea=>_0x298fea[_0x1c31e2(0x13f)]===_0x1924eb['id'])||_0x1da039[_0x1c31e2(0x5aa)]({'_id':_0x1924eb['id'],'pushName':_0x1924eb?.[_0x1c31e2(0x6c9)]||_0x1924eb?.['verifiedName'],'owner':this[_0x1c31e2(0x281)]['wuid']});this[_0x1c31e2(0x4ff)](_0x1c31e2(0x237),_0x1da039),await this[_0x1c31e2(0x45b)][_0x1c31e2(0x22f)][_0x1c31e2(0x1b2)](_0x1da039);},'contacts.update':async(_0x1e4384,_0x3a8c27)=>{const _0x1c6abe=_0x199f11;let _0x2c78d0=[];for await(let _0x209f1f of _0x1e4384)_0x2c78d0[_0x1c6abe(0x5aa)]({'_id':_0x209f1f['id'],'pushName':_0x209f1f?.[_0x1c6abe(0x6c9)]??_0x209f1f?.[_0x1c6abe(0x6ba)],'owner':this[_0x1c6abe(0x281)]['wuid']});this[_0x1c6abe(0x4ff)]('contacts.update',_0x2c78d0);}},this[_0x199f11(0x6c2)]={'messaging-history.set':async({messages:_0x1b5a48,chats:_0x3eaa85,isLatest:_0x24b4a6},_0x34c0f3)=>{const _0x5f11a9=_0x199f11;if(_0x24b4a6){let _0x39dba5=await Promise[_0x5f11a9(0x2ef)](_0x3eaa85[_0x5f11a9(0x378)](async _0x180eab=>({'_id':_0x180eab['id'],'owner':this[_0x5f11a9(0x281)][_0x5f11a9(0x697)],'group':_0x180eab['id'][_0x5f11a9(0x1a9)](_0x5f11a9(0x284)),'name':_0x180eab[_0x5f11a9(0x6c9)]||_0x180eab[_0x5f11a9(0x33f)]||null,'contactname':null,'lastmsg':_0x180eab[_0x5f11a9(0x660)]&&_0x180eab[_0x5f11a9(0x660)]['toString']()[_0x5f11a9(0x66c)]<0xd?_0x180eab[_0x5f11a9(0x660)]*0x3e8:_0x180eab[_0x5f11a9(0x660)]||null,'archived':_0x180eab['archived']||!0x1,'unreadcount':_0x180eab[_0x5f11a9(0xff)]||0x0})));this[_0x5f11a9(0x4ff)](_0x5f11a9(0x53e),_0x39dba5),await this[_0x5f11a9(0xd0)](_0x39dba5,_0x34c0f3);}let _0x574470=[],_0x5eb1cf=Date[_0x5f11a9(0x3d0)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x1fb1e5]of Object[_0x5f11a9(0x560)](_0x1b5a48)){if(_0x1fb1e5[_0x5f11a9(0x335)]?.[_0x5f11a9(0x28e)]||_0x1fb1e5[_0x5f11a9(0x335)]?.[_0x5f11a9(0x1b7)]||!_0x1fb1e5[_0x5f11a9(0x335)]||_0x1fb1e5[_0x5f11a9(0x58b)][_0x5f11a9(0x596)]===_0x5f11a9(0x482)||(Es[_0x5f11a9(0x22c)][_0x5f11a9(0x3ca)](_0x1fb1e5?.[_0x5f11a9(0x595)])&&(_0x1fb1e5[_0x5f11a9(0x595)]=_0x1fb1e5[_0x5f11a9(0x595)]?.[_0x5f11a9(0x255)]()),_0x1fb1e5['messageTimestamp']&&_0x1fb1e5['messageTimestamp'][_0x5f11a9(0x593)]()[_0x5f11a9(0x66c)]<0xd&&(_0x1fb1e5[_0x5f11a9(0x595)]=_0x1fb1e5[_0x5f11a9(0x595)]*0x3e8),_0x1fb1e5[_0x5f11a9(0x595)]<_0x5eb1cf))continue;let {message_normalized:_0x329486}=this[_0x5f11a9(0x5f1)](_0x1fb1e5[_0x5f11a9(0x335)],$(_0x1fb1e5[_0x5f11a9(0x335)]),null);Object['keys'](_0x329486)[_0x5f11a9(0x66c)]>0x0&&_0x574470[_0x5f11a9(0x5aa)]({'_id':_0x1fb1e5[_0x5f11a9(0x58b)]['id'],'key':_0x1fb1e5['key'],'pushName':_0x1fb1e5['pushName'],'participant':_0x1fb1e5[_0x5f11a9(0x1d2)],'message':{..._0x1fb1e5[_0x5f11a9(0x335)]},'messageType':$(_0x1fb1e5[_0x5f11a9(0x335)]),'message_normalized':{'key':_0x1fb1e5[_0x5f11a9(0x58b)],'pushName':_0x1fb1e5['pushName'],'messageTimestamp':_0x1fb1e5[_0x5f11a9(0x595)],..._0x329486},'messageTimestamp':_0x1fb1e5['messageTimestamp'],'owner':this[_0x5f11a9(0x281)]['wuid']});}_0x34c0f3[_0x5f11a9(0x6ef)]&&_0x574470[_0x5f11a9(0x66c)]>0x0&&(this[_0x5f11a9(0xfb)][_0x5f11a9(0x34d)](this[_0x5f11a9(0x67f)]+'\x20('+this[_0x5f11a9(0x281)][_0x5f11a9(0x697)]+_0x5f11a9(0x359)+_0x574470['length']+'\x20mensagens\x20de\x20'+this[_0x5f11a9(0x281)]['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository'][_0x5f11a9(0x335)][_0x5f11a9(0x1b2)]([..._0x574470],this[_0x5f11a9(0x281)][_0x5f11a9(0x697)])),this[_0x5f11a9(0x4ff)](_0x5f11a9(0x3cd),[..._0x574470]),_0x1b5a48=void 0x0;},'messages.upsert':async({messages:_0x10f309,type:_0x36e4f3},_0x3faeca)=>{const _0x5615b7=_0x199f11;let _0x391952=_0x10f309[0x0];if(_0x36e4f3!=='notify'||!_0x391952?.[_0x5615b7(0x335)]||_0x391952[_0x5615b7(0x335)]?.[_0x5615b7(0x28e)]||_0x391952['message'][_0x5615b7(0x1b7)]||_0x391952['key'][_0x5615b7(0x596)]===_0x5615b7(0x482))return;let _0x30cd18=null,_0x240e26=null;try{_0x30cd18=await this[_0x5615b7(0x409)](_0x391952),_0x240e26=_0x30cd18?_0x30cd18['join'](','):null;}catch(_0x4317d7){this['logger'][_0x5615b7(0x34d)](this[_0x5615b7(0x67f)]+'\x20('+this[_0x5615b7(0x281)][_0x5615b7(0x697)]+_0x5615b7(0x359)+(_0x4317d7 instanceof Error?_0x4317d7[_0x5615b7(0x335)]:JSON[_0x5615b7(0x6d5)](_0x4317d7,null,0x2))),_0x240e26=_0x5615b7(0x60b);}if(this[_0x5615b7(0x4dd)][_0x5615b7(0x188)](_0x5615b7(0x2e5)),Es[_0x5615b7(0x22c)]['isLong'](_0x391952[_0x5615b7(0x595)])&&(_0x391952['messageTimestamp']=_0x391952['messageTimestamp']?.[_0x5615b7(0x255)]()),this['localWebhook']?.[_0x5615b7(0x479)]&&_0x391952[_0x5615b7(0x58b)][_0x5615b7(0x596)][_0x5615b7(0x3e8)](_0x5615b7(0x284))){this[_0x5615b7(0xfb)]['verbose']('group\x20ignored');return;}_0x391952[_0x5615b7(0x595)]&&_0x391952[_0x5615b7(0x595)][_0x5615b7(0x593)]()[_0x5615b7(0x66c)]<0xd&&(_0x391952[_0x5615b7(0x595)]=_0x391952[_0x5615b7(0x595)]*0x3e8);let _0x5e0a45=_0x391952[_0x5615b7(0x335)],{messageContent:_0x3a4849,message_normalized:_0x418ff3}=this[_0x5615b7(0x5f1)](_0x5e0a45,$(_0x391952[_0x5615b7(0x335)]),_0x240e26);_0x3a4849||console[_0x5615b7(0x426)]('Mensagem\x20não\x20suportada');let _0x39e210={'_id':_0x391952[_0x5615b7(0x58b)]['id'],'key':_0x391952[_0x5615b7(0x58b)],'pushName':_0x391952[_0x5615b7(0x62a)],'message':{..._0x391952['message']},'messageType':$(_0x391952[_0x5615b7(0x335)]),'message_normalized':{'key':_0x391952[_0x5615b7(0x58b)],'pushName':_0x391952[_0x5615b7(0x62a)],'messageTimestamp':_0x391952[_0x5615b7(0x595)],'source':(0x0,y[_0x5615b7(0x589)])(_0x391952['key']['id']),..._0x418ff3},'messageTimestamp':_0x391952['messageTimestamp'],'owner':this['instance'][_0x5615b7(0x697)],'source':(0x0,y[_0x5615b7(0x589)])(_0x391952[_0x5615b7(0x58b)]['id'])};this[_0x5615b7(0xfb)][_0x5615b7(0x1cc)](_0x39e210),await this[_0x5615b7(0x45b)]['message'][_0x5615b7(0x1b2)]([_0x39e210],this[_0x5615b7(0x281)][_0x5615b7(0x697)]),this[_0x5615b7(0x4ff)](_0x5615b7(0x69f),_0x39e210),J(this['instanceName'],_0x5615b7(0x477),{'message':_0x39e210}),_0x391952['key']['remoteJid']!==_0x5615b7(0x482)&&await this[_0x5615b7(0x461)](_0x3faeca,_0x39e210,_0x5615b7(0x23d));},'messages.update':async(_0x4a68d2,_0x339a11)=>{const _0x202c54=_0x199f11;let _0x1a1d8b={0x0:'ERROR',0x1:_0x202c54(0x5df),0x2:_0x202c54(0x49e),0x3:'DELIVERY_ACK',0x4:'READ',0x5:_0x202c54(0x5a9)};for await(let {key:_0x4baeb9,update:_0x3cd29d}of _0x4a68d2){if(this[_0x202c54(0x1cd)]?.['groups_ignore']&&_0x4baeb9[_0x202c54(0x596)][_0x202c54(0x3e8)](_0x202c54(0x284))){this[_0x202c54(0xfb)][_0x202c54(0x34d)]('group\x20ignored');return;}if(_0x4baeb9['remoteJid']!==_0x202c54(0x482)){let _0x44813f=Date[_0x202c54(0x3d0)](),_0x251fc7;_0x3cd29d[_0x202c54(0x335)]===null&&_0x3cd29d[_0x202c54(0x64f)]===void 0x0?_0x251fc7='DELETED':_0x251fc7=_0x1a1d8b[_0x3cd29d[_0x202c54(0x64f)]];let _0x395476=_0x4baeb9[_0x202c54(0x596)][_0x202c54(0x385)](/:\d{1,2}@/g,'@'),_0x434d88={..._0x4baeb9,'remoteJid':_0x395476,'status':_0x251fc7,'datetime':_0x44813f,'owner':this[_0x202c54(0x281)]['wuid']};this[_0x202c54(0x4ff)](_0x202c54(0x118),_0x434d88),await this['updateMessage'](_0x4baeb9,_0x434d88);}}},'labels.association':async({type:_0x4491d9,association:_0x52e791})=>{const _0x5e7516=_0x199f11;if(_0x52e791['type']===_0x5e7516(0x2c9)){let _0x210bc6,_0x39ca2e=0x0;for(;!_0x210bc6&&_0x39ca2e<this[_0x5e7516(0x268)];)_0x210bc6=await this[_0x5e7516(0x45b)][_0x5e7516(0x1ad)][_0x5e7516(0x2ff)]({'where':{'_id':_0x52e791[_0x5e7516(0x17d)]}},this[_0x5e7516(0x281)]['wuid']),_0x210bc6||(_0x39ca2e++,console['log'](_0x5e7516(0x571)+_0x52e791[_0x5e7516(0x17d)]+'\x20not\x20found,\x20retrying\x20in\x20'+this['delayChatLabel_RETRY_DELAY_MS']+_0x5e7516(0x57d)+_0x39ca2e+'/'+this[_0x5e7516(0x268)]+')'),await this[_0x5e7516(0x22e)](this[_0x5e7516(0x495)]));if(!_0x210bc6){console['error'](_0x5e7516(0x546)+_0x52e791[_0x5e7516(0x17d)]+'\x20after\x20'+this[_0x5e7516(0x268)]+'\x20attempts.');return;}switch(_0x4491d9){case _0x5e7516(0x3a6):console[_0x5e7516(0x1cc)](_0x52e791),await this[_0x5e7516(0x45b)]['chat']['updateOne']({'where':{'_id':_0x52e791[_0x5e7516(0x17d)]}},{'leadInfo.etiquetas':_0x52e791[_0x5e7516(0x562)]},this[_0x5e7516(0x281)]['wuid'],void 0x0,_0x5e7516(0x416));break;case _0x5e7516(0x465):console[_0x5e7516(0x1cc)](_0x52e791),await this[_0x5e7516(0x45b)][_0x5e7516(0x1ad)]['updateOne']({'where':{'_id':_0x52e791['chatId']}},{'leadInfo.etiquetas':_0x52e791[_0x5e7516(0x562)]},this[_0x5e7516(0x281)]['wuid'],void 0x0,_0x5e7516(0x392));break;default:console[_0x5e7516(0x426)](_0x5e7516(0x4fb)+_0x4491d9+']');}}},'labels.edit':async _0x173051=>{const _0x4bbcf5=_0x199f11;if(!_0x173051||!_0x173051['id']){console[_0x4bbcf5(0x426)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x173051[_0x4bbcf5(0x410)]){let _0x3f4c83=['#ff9484',_0x4bbcf5(0x451),_0x4bbcf5(0x228),_0x4bbcf5(0xea),_0x4bbcf5(0x62c),_0x4bbcf5(0x532),'#fe9dfe',_0x4bbcf5(0x519),_0x4bbcf5(0x504),_0x4bbcf5(0xd7),_0x4bbcf5(0x46d),_0x4bbcf5(0x13a),_0x4bbcf5(0x45c),'#f64847',_0x4bbcf5(0x6eb),'#83e421',_0x4bbcf5(0x369),_0x4bbcf5(0x65f),_0x4bbcf5(0x354),'#9568cf'],_0xc9e68;typeof _0x173051[_0x4bbcf5(0x104)]==_0x4bbcf5(0x399)&&_0x173051['color']>=0x0&&_0x173051[_0x4bbcf5(0x104)]<_0x3f4c83[_0x4bbcf5(0x66c)]?_0xc9e68=_0x3f4c83[_0x173051[_0x4bbcf5(0x104)]]:(console[_0x4bbcf5(0x426)](_0x4bbcf5(0x14d),_0x173051['color']),_0xc9e68=_0x4bbcf5(0x4b9));let _0x81de36={'_id':_0x173051['id'],'colorHex':_0xc9e68,'color':_0x173051?.[_0x4bbcf5(0x104)],'name':_0x173051?.['name'],'owner':this[_0x4bbcf5(0x281)][_0x4bbcf5(0x697)]};await this[_0x4bbcf5(0x45b)][_0x4bbcf5(0x157)][_0x4bbcf5(0x31a)]({'where':{'_id':_0x173051['id']}},_0x81de36,this[_0x4bbcf5(0x281)]['wuid']),console[_0x4bbcf5(0x1cc)](_0x4bbcf5(0x200),_0x173051);}_0x173051[_0x4bbcf5(0x410)]&&(await this[_0x4bbcf5(0x45b)]['label']['delete']({'where':{'_id':_0x173051['id']}},this[_0x4bbcf5(0x281)][_0x4bbcf5(0x697)]),console[_0x4bbcf5(0x1cc)](_0x4bbcf5(0x5dc),_0x173051['id']));}},this[_0x199f11(0x194)]={'groups.upsert':_0x5cb27b=>{const _0x15f3fd=_0x199f11;this[_0x15f3fd(0x4ff)]('groups.upsert',_0x5cb27b);},'groups.update':_0x328db1=>{const _0x844ae5=_0x199f11;this[_0x844ae5(0x4ff)](_0x844ae5(0x10f),_0x328db1);},'group-participants.update':_0x8273af=>{const _0x2d94c7=_0x199f11;this[_0x2d94c7(0x4ff)](_0x2d94c7(0xb5),_0x8273af);}},this[_0x199f11(0x268)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x7d0,this['processPollUpdateMessage']=async _0x791bf2=>{const _0x1633ba=_0x199f11;if(_0x791bf2['message']?.[_0x1633ba(0x544)]){let _0x2b11de=await this[_0x1633ba(0x4ab)](_0x791bf2[_0x1633ba(0x335)][_0x1633ba(0x544)][_0x1633ba(0x617)],!0x0);if(_0x2b11de){let _0x1cbd2c=_0x2b11de[_0x1633ba(0x58b)][_0x1633ba(0x139)]?this['instance'][_0x1633ba(0x697)]+_0x1633ba(0x4da):_0x2b11de[_0x1633ba(0x58b)][_0x1633ba(0x1d2)]||_0x2b11de[_0x1633ba(0x58b)][_0x1633ba(0x596)],_0x42569d=_0x2b11de['key']['id'],_0x132340=_0x2b11de[_0x1633ba(0x335)],_0x54a3b0=Buffer[_0x1633ba(0x2f6)](_0x132340[_0x1633ba(0x525)][_0x1633ba(0xd1)][_0x1633ba(0x593)](_0x1633ba(0x668)),_0x1633ba(0x668)),_0x3c3555=(0x0,y[_0x1633ba(0x3a9)])(_0x791bf2[_0x1633ba(0x335)]['pollUpdateMessage'][_0x1633ba(0x36f)],{'pollCreatorJid':_0x1cbd2c,'pollMsgId':_0x42569d,'pollEncKey':_0x54a3b0,'voterJid':_0x791bf2[_0x1633ba(0x58b)][_0x1633ba(0x139)]?this[_0x1633ba(0x281)][_0x1633ba(0x697)]+'@s.whatsapp.net':_0x791bf2[_0x1633ba(0x58b)][_0x1633ba(0x596)]['endsWith'](_0x1633ba(0x38b))?_0x791bf2[_0x1633ba(0x58b)][_0x1633ba(0x1d2)]:_0x791bf2[_0x1633ba(0x58b)][_0x1633ba(0x596)]}),_0x3b1537=[],_0xc49fb6=_0x3c3555['selectedOptions'][_0x1633ba(0x378)](_0x32ae37=>Buffer['from'](_0x32ae37)['toString'](_0x1633ba(0x668)));for(let {optionName:_0x4ddc07}of _0x132340[_0x1633ba(0x582)]?.[_0x1633ba(0x19f)]||_0x132340['pollCreationMessageV3']?.[_0x1633ba(0x19f)]||_0x132340[_0x1633ba(0x1ee)]?.[_0x1633ba(0x19f)])_0xc49fb6[_0x1633ba(0x310)]((0x0,y[_0x1633ba(0x2b7)])(Buffer['from'](_0x4ddc07))['toString'](_0x1633ba(0x668)))>-0x1&&_0x3b1537[_0x1633ba(0x5aa)](_0x4ddc07);return _0x3b1537;}}return null;},this['normalizeMessage']=(_0x5f17d2,_0xaaf492,_0x13f88e)=>{const _0x4b351d=_0x199f11;try{let _0x1fc51c=_0xaaf492?_0x5f17d2[_0xaaf492]:void 0x0,_0x39d383={},_0x3ea689=null,_0x21162a=null,_0xbd330b=null;if(_0x5f17d2[_0x4b351d(0xe0)]?(_0xaaf492=$(_0x5f17d2['viewOnceMessageV2']['message']),_0x1fc51c=_0x5f17d2['viewOnceMessageV2']['message'][_0xaaf492]):_0x5f17d2[_0x4b351d(0x1eb)]?(_0xaaf492=$(_0x5f17d2[_0x4b351d(0x1eb)][_0x4b351d(0x335)]),_0x1fc51c=_0x5f17d2[_0x4b351d(0x1eb)][_0x4b351d(0x335)][_0xaaf492]):_0x5f17d2[_0x4b351d(0x131)]?(_0xaaf492=$(_0x5f17d2['viewOnceMessage'][_0x4b351d(0x335)]),_0x1fc51c=_0x5f17d2[_0x4b351d(0x131)][_0x4b351d(0x335)][_0xaaf492]):_0x5f17d2['ephemeralMessage']?(_0xaaf492=$(_0x5f17d2[_0x4b351d(0x335)][_0x4b351d(0x3bc)][_0x4b351d(0x335)]),_0x1fc51c=_0x5f17d2[_0x4b351d(0x335)][_0x4b351d(0x3bc)][_0x4b351d(0x335)][_0xaaf492]):_0x5f17d2[_0x4b351d(0x48e)]?.[_0x4b351d(0x335)]?.['protocolMessage']?.[_0x4b351d(0x48e)]?(_0xaaf492=$(_0x5f17d2['editedMessage'][_0x4b351d(0x335)][_0x4b351d(0x28e)][_0x4b351d(0x48e)]),_0x3ea689=_0x5f17d2[_0x4b351d(0x48e)][_0x4b351d(0x335)][_0x4b351d(0x28e)]['key']['id'],_0x1fc51c=_0x5f17d2[_0x4b351d(0x48e)][_0x4b351d(0x335)]['protocolMessage'][_0x4b351d(0x48e)][_0xaaf492]):_0x1fc51c=_0x5f17d2[_0xaaf492],!_0xaaf492||!_0x1fc51c)return console[_0x4b351d(0x426)](_0x4b351d(0x358),_0x5f17d2),{'messageType':_0xaaf492,'messageContent':_0x1fc51c,'message_normalized':{}};_0x5f17d2[_0xaaf492]?.[_0x4b351d(0x16b)]?.[_0x4b351d(0x418)]&&_0x5f17d2[_0xaaf492]?.[_0x4b351d(0x16b)]?.[_0x4b351d(0x13b)]&&(_0x21162a=_0x5f17d2[_0xaaf492][_0x4b351d(0x16b)]['stanzaId']),_0x5f17d2['reactionMessage']&&(_0xbd330b=_0x5f17d2[_0x4b351d(0xc8)]['key']['id']);let _0x532cd7;if(_0x1fc51c&&typeof _0x1fc51c==_0x4b351d(0x419)&&_0x4b351d(0x617)in _0x1fc51c&&({pollCreationMessageKey:_0x532cd7}=_0x1fc51c),_0xaaf492===_0x4b351d(0x667)){let _0x5412b7=_0x1fc51c?.[_0x4b351d(0x335)]?.['documentMessage'];_0x5412b7&&(_0x1fc51c=_0x5412b7);}if(_0xaaf492===_0x4b351d(0x582)||_0xaaf492==='pollCreationMessageV2'||_0xaaf492===_0x4b351d(0x12d)){let _0x193d9f=_0x1fc51c[_0x4b351d(0x19f)][_0x4b351d(0x378)](_0x4c0e90=>_0x4c0e90[_0x4b351d(0x6f8)])[_0x4b351d(0x42a)]('|');_0x39d383[_0x4b351d(0x434)]=_0x193d9f;}let _0x57c2f4=_0x1fc51c[_0x4b351d(0x6c9)]||_0x1fc51c[_0x4b351d(0x14b)]||_0x1fc51c[_0x4b351d(0x1b9)]||_0x1fc51c[_0x4b351d(0x33f)];if(_0xaaf492===_0x4b351d(0x48b)){_0x57c2f4=(_0x1fc51c[_0x4b351d(0xa8)]||'')+'\x0a'+(_0x1fc51c[_0x4b351d(0x527)]||'')+'\x0a'+(_0x1fc51c[_0x4b351d(0x58d)]||'');let _0x1bd3ba=this[_0x4b351d(0x50b)](_0x1fc51c['sections']);_0x39d383[_0x4b351d(0x434)]=_0x1bd3ba;}if(_0xaaf492==='listResponseMessage'&&(_0x13f88e=_0x1fc51c['title']),_0x1fc51c['vcard']){let _0xb1f98a=this[_0x4b351d(0x6f6)](JSON[_0x4b351d(0x6d5)](_0x1fc51c['vcard'],null,0x2));_0x57c2f4=_0x57c2f4+'\x0a'+_0xb1f98a;}if(_0x1fc51c){let {sections:_0x11bc64,listType:_0x488dbe,displayName:_0xf41a9c,vcard:_0x3553f4,contactVcard:_0x5e45f7,name:_0x4e94e4,caption:_0x123307,conversation:_0x3591e3,pollCreationMessageKey:_0x300db8,footerText:_0x480d31,contentText:_0x225595,pageCount:_0x5496b6,headerType:_0x4ca88f,isAvatar:_0x18146e,isAnimated:_0x298884,fallbackLc:_0x1aad23,fallbackLg:_0x52ccc8,namespace:_0x528013,elementName:_0x514bf6,localizableParams:_0x4d2940,viewOnce:_0x49323e,height:_0x190fd5,width:_0x104d87,key:_0x4a161e,firstScanLength:_0xef2fde,firstScanSidecar:_0xc42b2a,gifPlayback:_0x18c69f,gifAttribution:_0x2ee1b5,midQualityFileSha256:_0x505a64,scansSidecar:_0x3b2909,streamingSidecar:_0x785c27,thumbnailHeight:_0x1a8886,thumbnailWidth:_0x4a29e7,thumbnailEncSha256:_0x91da6d,thumbnailDirectPath:_0x5951f7,canonicalUrl:_0x2bd0dc,matchedText:_0x32d6f5,previewType:_0x176bb5,thumbnailSha256:_0x19ce16,deviceListMetadataVersion:_0x37dc97,inviteLinkGroupTypeV2:_0x22924e,interactiveAnnotations:_0x3e596c,scanLengths:_0x1c73d2,jpegThumbnail:_0x1df177,url:_0x603917,mediaKeyTimestamp:_0x27dfe5,waveform:_0x4b0ce6,stickerSentTs:_0x59a28a,firstFrameLength:_0x437bed,fileEncSha256:_0x25812e,contextInfo:_0x4f1f4b,firstFrameSidecar:_0x5cbb8d,directPath:_0x45cb26,fileSha256:_0xb65fc8,mediaKey:_0x3dae8c,senderTimestampMs:_0x3c6698,..._0x41adc1}=_0x1fc51c;(_0xaaf492===_0x4b351d(0x48b)||_0xaaf492==='listResponseMessage')&&(delete _0x41adc1[_0x4b351d(0xa8)],delete _0x41adc1[_0x4b351d(0x527)]),typeof _0x1fc51c=='string'?_0x39d383={'text':_0x1fc51c,'type':_0xaaf492||_0x4b351d(0x1b9),..._0x3ea689&&{'edited':_0x3ea689},..._0x21162a&&{'quoted':_0x21162a},..._0xbd330b&&{'reaction':_0xbd330b}}:_0x39d383={'text':_0x57c2f4,..._0x41adc1,..._0xaaf492===_0x4b351d(0x544)?{'poll_id':_0x1fc51c[_0x4b351d(0x617)]['id'],'quoted':_0x1fc51c[_0x4b351d(0x617)]['id'],'vote':_0x13f88e}:{},..._0xaaf492===_0x4b351d(0x4fd)?{'vote':_0x13f88e}:{},'type':_0xaaf492,..._0x3ea689&&{'edited':_0x3ea689},..._0x21162a&&{'quoted':_0x21162a},..._0xbd330b&&{'reaction':_0xbd330b},...(_0xaaf492===_0x4b351d(0x582)||_0xaaf492===_0x4b351d(0x1ee)||_0xaaf492===_0x4b351d(0x12d)||_0xaaf492==='listMessage')&&{'convertedOptions':_0x39d383['convertedOptions']}};}return{'messageType':_0xaaf492,'messageContent':_0x1fc51c,'message_normalized':_0x39d383};}catch(_0x20a209){console['error']('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x20a209);}},this['processingScheduleMessageId']=null,this[_0x199f11(0x381)]=0x0,this[_0x199f11(0x294)]=null,(this['cleanStore'](),this[_0x199f11(0x281)][_0x199f11(0x6ac)]={'count':0x0});}set[a0_0x2530f3(0x67f)](_0x13c014){const _0x18f5b2=a0_0x2530f3;if(!_0x13c014){this[_0x18f5b2(0x281)][_0x18f5b2(0x6c9)]=(0x0,yo['v4'])();return;}this[_0x18f5b2(0x281)]['name']=_0x13c014,this[_0x18f5b2(0x4ff)](_0x18f5b2(0x145),{'instance':this['instance'][_0x18f5b2(0x6c9)],'status':_0x18f5b2(0x474)});}get[a0_0x2530f3(0x67f)](){const _0x5217f0=a0_0x2530f3;return this[_0x5217f0(0x281)]['name'];}get['wuid'](){const _0x4dc5f6=a0_0x2530f3;return this[_0x4dc5f6(0x281)][_0x4dc5f6(0x697)];}async[a0_0x2530f3(0x5d9)](){const _0x3b2de5=a0_0x2530f3;let _0x46afc0=this[_0x3b2de5(0x4dd)]['user']?.['name']??this[_0x3b2de5(0x4dd)]['user']?.[_0x3b2de5(0x6ba)];if(!_0x46afc0){if(this[_0x3b2de5(0x1f2)]['get'](_0x3b2de5(0x353))[_0x3b2de5(0x6ef)]){let _0x419801=await N['getClient']()['db'](this[_0x3b2de5(0x1f2)][_0x3b2de5(0x196)](_0x3b2de5(0x353))[_0x3b2de5(0x553)]['DB_PREFIX_NAME']+_0x3b2de5(0x585))[_0x3b2de5(0x2e4)](this[_0x3b2de5(0x67f)])['findOne']({'_id':_0x3b2de5(0x5a8)});if(_0x419801){let _0x540868=JSON[_0x3b2de5(0x520)](JSON[_0x3b2de5(0x6d5)](_0x419801),y[_0x3b2de5(0x3e3)][_0x3b2de5(0x2f8)]);_0x46afc0=_0x540868['me']?.[_0x3b2de5(0x6c9)]||_0x540868['me']?.[_0x3b2de5(0x6ba)];}}else{if((0x0,ve[_0x3b2de5(0x2cb)])((0x0,F[_0x3b2de5(0x42a)])(ge,this[_0x3b2de5(0x67f)],_0x3b2de5(0x6c6)))){let _0x33bc42=JSON[_0x3b2de5(0x520)]((0x0,ve[_0x3b2de5(0x232)])((0x0,F['join'])(ge,this[_0x3b2de5(0x67f)],_0x3b2de5(0x6c6)),{'encoding':_0x3b2de5(0x586)}));_0x46afc0=_0x33bc42['me']?.[_0x3b2de5(0x6c9)]||_0x33bc42['me']?.[_0x3b2de5(0x6ba)];}}}return _0x46afc0;}get[a0_0x2530f3(0x45a)](){const _0x4a4c94=a0_0x2530f3;return this['instance'][_0x4a4c94(0x45a)];}get['qrCode'](){const _0x4a96b5=a0_0x2530f3;return{'pairingCode':this[_0x4a96b5(0x281)][_0x4a96b5(0x6ac)]?.[_0x4a96b5(0x374)],'code':this['instance'][_0x4a96b5(0x6ac)]?.[_0x4a96b5(0x3bd)],'base64':this[_0x4a96b5(0x281)]['qrcode']?.['base64']};}async['loadWebhook'](){const _0x103d6e=a0_0x2530f3;let _0x40bc46=await this[_0x103d6e(0x45b)][_0x103d6e(0x518)]['find'](this[_0x103d6e(0x67f)]);this[_0x103d6e(0x1cd)]['url']=_0x40bc46?.[_0x103d6e(0x2df)],this['localWebhook'][_0x103d6e(0x23f)]=_0x40bc46?.[_0x103d6e(0x23f)],this[_0x103d6e(0x1cd)][_0x103d6e(0x516)]=_0x40bc46?.['local_map'],this['localWebhook'][_0x103d6e(0x195)]=_0x40bc46?.[_0x103d6e(0x195)],this['localWebhook']['QRCODE_UPDATED']=_0x40bc46?.['QRCODE_UPDATED'],this[_0x103d6e(0x1cd)][_0x103d6e(0x5da)]=_0x40bc46?.[_0x103d6e(0x5da)],this[_0x103d6e(0x1cd)][_0x103d6e(0x23d)]=_0x40bc46?.['MESSAGES_UPSERT'],this['localWebhook'][_0x103d6e(0x587)]=_0x40bc46?.[_0x103d6e(0x587)],this[_0x103d6e(0x1cd)][_0x103d6e(0x5f5)]=_0x40bc46?.['GROUPS_UPSERT'],this['localWebhook'][_0x103d6e(0x684)]=_0x40bc46?.[_0x103d6e(0x684)],this[_0x103d6e(0x1cd)][_0x103d6e(0x4df)]=_0x40bc46?.[_0x103d6e(0x4df)],this[_0x103d6e(0x1cd)]['CHATS_SET']=_0x40bc46?.[_0x103d6e(0x402)],this[_0x103d6e(0x1cd)]['CHATS_UPSERT']=_0x40bc46?.[_0x103d6e(0x250)],this[_0x103d6e(0x1cd)][_0x103d6e(0x57e)]=_0x40bc46?.[_0x103d6e(0x57e)],this[_0x103d6e(0x1cd)][_0x103d6e(0x6cd)]=_0x40bc46?.[_0x103d6e(0x6cd)],this[_0x103d6e(0x1cd)][_0x103d6e(0x70a)]=_0x40bc46?.[_0x103d6e(0x70a)],this['localWebhook'][_0x103d6e(0x3a7)]=_0x40bc46?.[_0x103d6e(0x3a7)],this[_0x103d6e(0x1cd)][_0x103d6e(0x14e)]=_0x40bc46?.[_0x103d6e(0x14e)],this[_0x103d6e(0x1cd)][_0x103d6e(0xc0)]=_0x40bc46?.[_0x103d6e(0xc0)],this[_0x103d6e(0x1cd)]['MESSAGES_SET']=_0x40bc46?.['MESSAGES_SET'],this[_0x103d6e(0x1cd)][_0x103d6e(0x10d)]=_0x40bc46?.[_0x103d6e(0x10d)],this['localWebhook'][_0x103d6e(0x479)]=_0x40bc46?.[_0x103d6e(0x479)];}async[a0_0x2530f3(0x4f9)](_0xdfa76b){const _0x5b894a=a0_0x2530f3;let _0x256863=[_0x5b894a(0x13f),_0x5b894a(0x2df),_0x5b894a(0x23f),_0x5b894a(0x516),_0x5b894a(0x195),_0x5b894a(0x6ed),'MESSAGES_UPDATE',_0x5b894a(0x23d),_0x5b894a(0x5da),_0x5b894a(0x5f5),'GROUPS_UPDATE',_0x5b894a(0x4df),'CHATS_SET',_0x5b894a(0x250),_0x5b894a(0x57e),_0x5b894a(0x6cd),_0x5b894a(0x70a),_0x5b894a(0x3a7),_0x5b894a(0x14e),'PRESENCE_UPDATE',_0x5b894a(0x625),'CONNECTION_UPDATE',_0x5b894a(0x479)],_0x176bf7={};return _0x256863['forEach'](_0xaffc05=>{_0xdfa76b[_0xaffc05]!==void 0x0&&(_0x176bf7[_0xaffc05]=_0xdfa76b[_0xaffc05]);}),await this[_0x5b894a(0x45b)][_0x5b894a(0x518)][_0x5b894a(0xb0)](_0x176bf7,this[_0x5b894a(0x67f)]),Object[_0x5b894a(0x70b)](this['localWebhook'],_0x176bf7),await this[_0x5b894a(0x45b)][_0x5b894a(0x518)][_0x5b894a(0x44c)](this[_0x5b894a(0x67f)]);}async[a0_0x2530f3(0x36d)](){const _0x194a90=a0_0x2530f3;return await this[_0x194a90(0x45b)][_0x194a90(0x518)][_0x194a90(0x44c)](this[_0x194a90(0x67f)]);}async[a0_0x2530f3(0x4ff)](_0x44b7f4,_0x3d3650){const _0x529028=a0_0x2530f3;let _0x98fad0=_0x44b7f4[_0x529028(0x385)](/[\.-]/gm,'_')['toUpperCase'](),_0x47ffc9=this[_0x529028(0x1cd)][_0x529028(0x23f)]&&(0x0,k['isURL'])(this[_0x529028(0x1cd)][_0x529028(0x2df)])?this[_0x529028(0x1cd)][_0x529028(0x2df)]+(this[_0x529028(0x1cd)][_0x529028(0x516)]?this[_0x529028(0x627)][_0x44b7f4]:''):null,_0x24fba8=this['localWebhook'][_0x98fad0],_0x26c0bb=re&&re[_0x529028(0x23f)]&&(0x0,k[_0x529028(0x62d)])(re[_0x529028(0x2df)])?re[_0x529028(0x2df)]+(re['local_map']?this[_0x529028(0x627)][_0x44b7f4]:''):null,_0x5095d3=re?re[_0x98fad0]:null;if(_0x24fba8&&_0x47ffc9)try{await se['default'][_0x529028(0xb0)]({'baseURL':_0x47ffc9})['post']('',{'event':_0x44b7f4,'instance':this[_0x529028(0x281)][_0x529028(0x6c9)],'data':_0x3d3650}),this[_0x529028(0xfb)][_0x529028(0x1cc)](_0x529028(0x4d7)+_0x44b7f4+':\x20'+_0x47ffc9);}catch(_0x54dd68){this[_0x529028(0xfb)][_0x529028(0x426)](this['instanceName']+'\x20('+this[_0x529028(0x281)][_0x529028(0x697)]+_0x529028(0x359)+{'local':c[_0x529028(0x6c9)]+_0x529028(0x55c),'message':_0x54dd68?.[_0x529028(0x335)],'hostName':_0x54dd68?.[_0x529028(0x69e)],'syscall':_0x54dd68?.[_0x529028(0x6da)],'code':_0x54dd68?.[_0x529028(0x3bd)],'error':_0x54dd68?.[_0x529028(0x2a1)],'stack':_0x54dd68?.[_0x529028(0x414)],'name':_0x54dd68?.[_0x529028(0x6c9)]});}if(_0x5095d3&&_0x26c0bb)try{await se[_0x529028(0x22c)][_0x529028(0xb0)]({'baseURL':_0x26c0bb})[_0x529028(0xb2)]('',{'event':_0x44b7f4,'instance':this[_0x529028(0x281)][_0x529028(0x6c9)],'data':_0x3d3650}),this[_0x529028(0xfb)]['log']('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x44b7f4+':\x20'+_0x26c0bb);}catch(_0x4ad6e5){this[_0x529028(0xfb)][_0x529028(0x426)](this[_0x529028(0x67f)]+'\x20('+this[_0x529028(0x281)][_0x529028(0x697)]+_0x529028(0x359)+{'local':c[_0x529028(0x6c9)]+_0x529028(0x1ce),'message':_0x4ad6e5?.[_0x529028(0x335)],'hostName':_0x4ad6e5?.[_0x529028(0x69e)],'syscall':_0x4ad6e5?.['syscall'],'code':_0x4ad6e5?.[_0x529028(0x3bd)],'error':_0x4ad6e5?.['errno'],'stack':_0x4ad6e5?.[_0x529028(0x414)],'name':_0x4ad6e5?.[_0x529028(0x6c9)]});}}async[a0_0x2530f3(0x6f1)]({qr:_0x4ea977,connection:_0x4dfa92,lastDisconnect:_0xbeb9d6}){const _0x2eda00=a0_0x2530f3;if(_0x4ea977){if(this[_0x2eda00(0x281)][_0x2eda00(0x6ac)]['count']===gr)return this['sendDataWebhook']('qrcode.updated',{'message':_0x2eda00(0x686),'statusCode':y[_0x2eda00(0x6f3)]['badSession']}),this[_0x2eda00(0x567)]={'state':_0x2eda00(0x366),'statusReason':y[_0x2eda00(0x6f3)][_0x2eda00(0x1b0)]},this['sendDataWebhook'](_0x2eda00(0x5d8),{'instance':this[_0x2eda00(0x281)][_0x2eda00(0x6c9)],...this[_0x2eda00(0x567)]}),this[_0x2eda00(0x4ff)]('status.instance',{'instance':this['instance']['name'],'status':_0x2eda00(0x27b)}),this[_0x2eda00(0x45b)][_0x2eda00(0x33e)][_0x2eda00(0xb0)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2eda00(0x3d0)]()},this[_0x2eda00(0x281)][_0x2eda00(0x6c9)]),this[_0x2eda00(0x148)]=!0x0,this[_0x2eda00(0x5e4)][_0x2eda00(0x2da)](_0x2eda00(0x39a),this['instance']['name']);this[_0x2eda00(0x281)][_0x2eda00(0x6ac)]['count']++;let _0x4f2496={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x2eda00(0x611),'dark':_0x2eda00(0x4b9)}};bo['default'][_0x2eda00(0x1f9)](_0x4ea977,_0x4f2496,(_0x1bb4ef,_0x492692)=>{const _0x39c532=_0x2eda00;if(_0x1bb4ef){this['logger'][_0x39c532(0x426)](this[_0x39c532(0x67f)]+'\x20('+this['instance'][_0x39c532(0x697)]+_0x39c532(0x63b)+(_0x1bb4ef instanceof Error?_0x1bb4ef['message']:JSON['stringify'](_0x1bb4ef,null,0x2)));return;}this['instance'][_0x39c532(0x6ac)][_0x39c532(0x65b)]=_0x492692,this['instance'][_0x39c532(0x6ac)][_0x39c532(0x3bd)]=_0x4ea977,this[_0x39c532(0x4ff)](_0x39c532(0x43d),{'qrcode':{'instance':this['instance']['name'],'pairingCode':this[_0x39c532(0x281)]['qrcode'][_0x39c532(0x374)],'code':_0x4ea977,'base64':_0x492692}});}),this[_0x2eda00(0x6b0)]?this[_0x2eda00(0x281)]['qrcode'][_0x2eda00(0x374)]=await this[_0x2eda00(0x4dd)][_0x2eda00(0x143)](this['phoneNumber']):this[_0x2eda00(0x281)]['qrcode']['pairingCode']=null,So['default'][_0x2eda00(0x121)](_0x4ea977,{'small':!0x0},_0x242eea=>this['logger'][_0x2eda00(0x1cc)]('\x0a{\x20instance:\x20'+this[_0x2eda00(0x281)][_0x2eda00(0x6c9)]+_0x2eda00(0x4e4)+this[_0x2eda00(0x281)]['qrcode'][_0x2eda00(0xe4)]+_0x2eda00(0x1e6)+this[_0x2eda00(0x281)][_0x2eda00(0x6ac)][_0x2eda00(0x374)]+_0x2eda00(0x5ee)+_0x242eea));}if(_0x4dfa92&&(this[_0x2eda00(0x567)]={'state':_0x4dfa92,'statusReason':_0xbeb9d6?.[_0x2eda00(0x426)]?.[_0x2eda00(0x287)]?.['statusCode']??0xc8},this[_0x2eda00(0x4ff)](_0x2eda00(0x5d8),{'instance':this[_0x2eda00(0x281)][_0x2eda00(0x6c9)],...this[_0x2eda00(0x567)]})),_0x4dfa92===_0x2eda00(0x16c)){if(this['reconnectAttempts']++,this[_0x2eda00(0x4c5)][_0x2eda00(0x5aa)](Date[_0x2eda00(0x3d0)]()),this['reconnectTimestamps']=this['reconnectTimestamps']['filter'](_0x5bc236=>Date[_0x2eda00(0x3d0)]()-_0x5bc236<this['RECONNECT_TIME_FRAME']),_0xbeb9d6[_0x2eda00(0x426)]?.[_0x2eda00(0x287)]?.[_0x2eda00(0x35e)]!==y[_0x2eda00(0x6f3)][_0x2eda00(0x4e8)]&&this[_0x2eda00(0x4c5)][_0x2eda00(0x66c)]<=this[_0x2eda00(0x411)])console[_0x2eda00(0x1cc)](this[_0x2eda00(0x67f)]+_0x2eda00(0x124)+this[_0x2eda00(0x5b6)]+'/'+this[_0x2eda00(0x411)]+_0x2eda00(0x1a7)),console[_0x2eda00(0x1cc)](_0x2eda00(0x590)),await this[_0x2eda00(0x431)]();else{this[_0x2eda00(0x4ff)](_0x2eda00(0x145),{'instance':this[_0x2eda00(0x281)]['name'],'status':'removed'}),this['isConnected']=!0x1,this['repository'][_0x2eda00(0x518)]['delete'](this[_0x2eda00(0x67f)]),this[_0x2eda00(0x45b)][_0x2eda00(0x33e)][_0x2eda00(0xb0)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this['instance'][_0x2eda00(0x6c9)]);try{this[_0x2eda00(0xfb)][_0x2eda00(0x34d)](this['instanceName']+'\x20('+this[_0x2eda00(0x281)][_0x2eda00(0x697)]+_0x2eda00(0x5f9));let _0x3f7b15=await this[_0x2eda00(0x45b)][_0x2eda00(0x335)][_0x2eda00(0x4c8)](this[_0x2eda00(0x281)][_0x2eda00(0x697)]);_0x3f7b15[_0x2eda00(0x643)]?this[_0x2eda00(0xfb)][_0x2eda00(0x34d)](this[_0x2eda00(0x67f)]+'\x20('+this[_0x2eda00(0x281)][_0x2eda00(0x697)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console['error'](_0x2eda00(0x413),_0x3f7b15[_0x2eda00(0x426)]);}catch(_0x132619){console['error'](_0x2eda00(0x293),_0x132619);}this[_0x2eda00(0x37a)]!==null&&(this[_0x2eda00(0xfb)][_0x2eda00(0x34d)](this[_0x2eda00(0x67f)]+'\x20('+this[_0x2eda00(0x281)][_0x2eda00(0x697)]+_0x2eda00(0x2e2)),clearInterval(this[_0x2eda00(0x37a)]),this[_0x2eda00(0x37a)]=null),this['logger'][_0x2eda00(0x34d)](this[_0x2eda00(0x67f)]+'\x20('+this[_0x2eda00(0x281)][_0x2eda00(0x697)]+_0x2eda00(0x2d5)),this['AutomateSystem']=null,this[_0x2eda00(0x5e4)][_0x2eda00(0x2da)](_0x2eda00(0x460),this[_0x2eda00(0x281)][_0x2eda00(0x6c9)],_0x2eda00(0x37b)),this['client']?.['ws']?.['close'](),this[_0x2eda00(0x4dd)][_0x2eda00(0x2ce)](new Error(_0x2eda00(0x4bd)));}}if(_0x4dfa92===_0x2eda00(0xc6)){this[_0x2eda00(0x424)],this[_0x2eda00(0x281)]['wuid']=this[_0x2eda00(0x4dd)][_0x2eda00(0x270)]['id']['replace'](/:\d+/,'')[_0x2eda00(0x385)]('@s.whatsapp.net',''),this[_0x2eda00(0x281)][_0x2eda00(0x45a)]=(await this[_0x2eda00(0x361)](this[_0x2eda00(0x281)][_0x2eda00(0x697)]+'@s.whatsapp.net'))[_0x2eda00(0x45a)],this[_0x2eda00(0x45b)][_0x2eda00(0x33e)][_0x2eda00(0xb0)]({'online':!0x0,'owner':this[_0x2eda00(0x281)]['wuid'],'lastDisconnect':null},this[_0x2eda00(0x281)][_0x2eda00(0x6c9)]);let _0x3c4415=_0x2eda00(0x3d2)+this[_0x2eda00(0x281)][_0x2eda00(0x697)],_0x4a68a0=0x28,_0x3a92e3=Math[_0x2eda00(0xc5)]((_0x4a68a0-_0x3c4415['length'])/0x2),_0x34bafe='\x20'[_0x2eda00(0x394)](_0x3a92e3),_0x219601='CONECTADO\x20À\x20UAZAPI',_0x525d5e=_0x2eda00(0x26a)+this[_0x2eda00(0x281)][_0x2eda00(0x6c9)],_0x5a6a90=(''+_0x34bafe+_0x3c4415+_0x34bafe)['padEnd'](_0x4a68a0,'\x20'),_0x408501=(''+_0x34bafe+_0x219601+_0x34bafe)[_0x2eda00(0xe6)](_0x4a68a0,'\x20'),_0x4e6b4b=(''+_0x34bafe+_0x525d5e+_0x34bafe)[_0x2eda00(0xe6)](_0x4a68a0,'\x20'),_0x581b0e=Math[_0x2eda00(0x267)](_0x5a6a90[_0x2eda00(0x66c)],_0x408501['length'],_0x4e6b4b[_0x2eda00(0x66c)]),_0x2338e0=_0x5a6a90[_0x2eda00(0xe6)](_0x581b0e,'\x20'),_0x3b8143=_0x408501[_0x2eda00(0xe6)](_0x581b0e,'\x20'),_0x5649b3=_0x4e6b4b[_0x2eda00(0xe6)](_0x581b0e,'\x20');this[_0x2eda00(0xfb)]['info'](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x2eda00(0x394)](_0x581b0e)+_0x2eda00(0x54e)+_0x3b8143+_0x2eda00(0x6a0)+_0x5649b3+_0x2eda00(0x6a0)+_0x2338e0+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x2eda00(0x394)](_0x581b0e)+'┘')[_0x2eda00(0x385)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x4765a1=a0_0x2530f3;this[_0x4765a1(0x5b6)]=0x0,this[_0x4765a1(0x4c5)]=[];}async['getMessage'](_0x5880e1,_0x32fe77=!0x1){const _0x38762b=a0_0x2530f3;try{let _0x521084=await this[_0x38762b(0x45b)][_0x38762b(0x335)][_0x38762b(0x44c)]({'where':{'_id':_0x5880e1['id']}},this[_0x38762b(0x281)][_0x38762b(0x697)]);return _0x32fe77?_0x521084[0x0]:_0x521084[0x0]['message'];}catch{return{'conversation':''};}}['cleanStore'](){const _0x26aa08=a0_0x2530f3;let _0x5425da=this['configService'][_0x26aa08(0x196)](_0x26aa08(0x679)),_0x53f58d=this[_0x26aa08(0x1f2)][_0x26aa08(0x196)]('DATABASE');_0x5425da?.[_0x26aa08(0x210)]&&!_0x53f58d[_0x26aa08(0x6ef)]&&setInterval(()=>{const _0x20fad9=_0x26aa08;try{for(let [_0x2cb354,_0x15e04a]of Object['entries'](_0x5425da))_0x15e04a===!0x0&&(0x0,_t['execSync'])(_0x20fad9(0x472)+(0x0,F[_0x20fad9(0x42a)])(this[_0x20fad9(0x3f0)],_0x2cb354[_0x20fad9(0x51f)](),this[_0x20fad9(0x281)][_0x20fad9(0x697)])+_0x20fad9(0x12a));}catch{}},(_0x5425da?.[_0x26aa08(0x210)]??0xe10)*0x3e8);}async[a0_0x2530f3(0x135)](){const _0x11b52b=a0_0x2530f3;let _0x4bd69b=this[_0x11b52b(0x1f2)][_0x11b52b(0x196)]('DATABASE'),_0x36a9af=this[_0x11b52b(0x1f2)][_0x11b52b(0x196)]('REDIS');return _0x36a9af?.['ENABLED']?await bs(_0x36a9af,this[_0x11b52b(0x281)]['name']):_0x4bd69b['ENABLED']?await ys(this[_0x11b52b(0x281)][_0x11b52b(0x6c9)]):await(0x0,y['useMultiFileAuthState'])((0x0,F['join'])(ge,this['instance']['name']));}async['AutomateFunctions'](){const _0x45859f=a0_0x2530f3;let _0x2094f4=()=>Math[_0x45859f(0xc5)](Math[_0x45859f(0x5b4)]()*0x2711)+0x7d0,_0x51bb1d=async()=>{const _0x22786c=_0x45859f;if(!this[_0x22786c(0x68b)]){this[_0x22786c(0xfb)][_0x22786c(0x34d)](_0x22786c(0x683)),this[_0x22786c(0x2c5)]=!0x1;return;}if(this['instance'][_0x22786c(0x697)]&&this[_0x22786c(0x5e2)]&&this['delayMessage']!==null&&this[_0x22786c(0x37a)]!==void 0x0){let _0xf64beb=Math[_0x22786c(0x5e3)](this[_0x22786c(0x37a)]/0xea60);this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0xf64beb+_0x22786c(0x6bc)),this[_0x22786c(0x2c5)]=!0x1;return;}else this['instance'][_0x22786c(0x697)]&&(this[_0x22786c(0xfb)][_0x22786c(0x34d)](this[_0x22786c(0x67f)]+'\x20('+this[_0x22786c(0x281)][_0x22786c(0x697)]+_0x22786c(0x573)),this[_0x22786c(0xfb)][_0x22786c(0x34d)](this[_0x22786c(0x67f)]+'\x20('+this['instance'][_0x22786c(0x697)]+_0x22786c(0x6b7)),this['AutomateSystem']||await this[_0x22786c(0x511)](),(this[_0x22786c(0x37a)]===null||this[_0x22786c(0x37a)]===void 0x0)&&await this[_0x22786c(0x325)]());if(this[_0x22786c(0x2c5)]){let _0x215c77=_0x2094f4();this[_0x22786c(0xfb)][_0x22786c(0x34d)](this[_0x22786c(0x67f)]+_0x22786c(0x3ba)+_0x215c77/0x3e8+_0x22786c(0x5bc)),setTimeout(_0x51bb1d,_0x215c77);}};if(this[_0x45859f(0x2c5)])return;this[_0x45859f(0x2c5)]=!0x0;let _0x154e13=_0x2094f4();setTimeout(_0x51bb1d,_0x154e13);}async[a0_0x2530f3(0x669)](_0x1ebc26=0x0){const _0x5ae962=a0_0x2530f3;if(!(this[_0x5ae962(0x1f2)][_0x5ae962(0x196)](_0x5ae962(0x407))||!0x1)||_0x1ebc26>=0x3)return this[_0x5ae962(0xfb)]['warn'](_0x5ae962(0x508)),this['repository'][_0x5ae962(0x33e)][_0x5ae962(0xb0)]({'ip':null},this[_0x5ae962(0x281)][_0x5ae962(0x6c9)]),{};console['log']('Tentativa\x20'+(_0x1ebc26+0x1)+_0x5ae962(0x126));let _0x5be246=(await this[_0x5ae962(0x45b)]['auth'][_0x5ae962(0x44c)](this[_0x5ae962(0x67f)]))['ip'],_0x281064=po(_0x5be246);if(_0x281064||(console[_0x5ae962(0x1cc)](_0x5ae962(0x384)),_0x281064=ho()),console['log'](_0x5ae962(0x48c),_0x281064),_0x281064&&go(_0x281064)){let _0xb67f63=_0x281064['protocol']+_0x5ae962(0x3d1)+_0x281064[_0x5ae962(0x5f4)]+':'+_0x281064[_0x5ae962(0x130)]+'@'+_0x281064['host']+':'+_0x281064[_0x5ae962(0x2c3)];return console['log'](_0x5ae962(0x13e)),console['log'](_0xb67f63),await this[_0x5ae962(0x400)](_0xb67f63)?(console[_0x5ae962(0x1cc)](_0x5ae962(0x3b5)),this['repository']['auth'][_0x5ae962(0xb0)]({'ip':_0x281064[_0x5ae962(0x291)]},this[_0x5ae962(0x281)]['name']),{'agent':new Dt[(_0x5ae962(0x110))](_0xb67f63),'fetchAgent':new Dt['HttpsProxyAgent'](_0xb67f63)}):(console[_0x5ae962(0x1cc)](_0x5ae962(0x326)),this[_0x5ae962(0x669)](_0x1ebc26+0x1));}else return console[_0x5ae962(0x1cc)]('Configuração\x20do\x20Proxy\x20inválida.\x20Tentando\x20o\x20próximo...'),this[_0x5ae962(0x669)](_0x1ebc26+0x1);}async[a0_0x2530f3(0x400)](_0xd83d18){const _0x126989=a0_0x2530f3;let _0x4730b8=new Dt['HttpsProxyAgent'](_0xd83d18);try{let _0x2c95a8=await se['default'][_0x126989(0x196)](_0x126989(0x540),{'httpsAgent':_0x4730b8});return console[_0x126989(0x1cc)]('Resposta\x20do\x20Teste\x20do\x20Proxy:',_0x2c95a8[_0x126989(0x59a)]),!0x0;}catch{return console[_0x126989(0x426)]('Erro\x20ao\x20testar\x20o\x20proxy'),!0x1;}}async[a0_0x2530f3(0x431)](_0x3cca35){const _0x3852d3=a0_0x2530f3;try{let _0x342043=await this[_0x3852d3(0x669)]();this[_0x3852d3(0x246)](),this[_0x3852d3(0x281)]['authState']=await this[_0x3852d3(0x135)]();let {version:_0x5a1a35}=await(0x0,y[_0x3852d3(0x6ae)])(),_0x84e48c=[Ms,Eo,(0x0,Ss[_0x3852d3(0x2c0)])()],_0x4ba83e={..._0x342043,'auth':{'creds':this['instance'][_0x3852d3(0x56e)]['state'][_0x3852d3(0x5a8)],'keys':(0x0,y[_0x3852d3(0x658)])(this['instance']['authState'][_0x3852d3(0x263)][_0x3852d3(0x557)],(0x0,Ot[_0x3852d3(0x22c)])({'level':_0x3852d3(0x426)}))},'logger':(0x0,Ot[_0x3852d3(0x22c)])({'level':_0x3852d3(0x426)}),'printQRInTerminal':!0x1,'browser':_0x3cca35?['Chrome\x20(Linux)',Ms,(0x0,Ss[_0x3852d3(0x2c0)])()]:_0x84e48c,'version':_0x5a1a35,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x3852d3(0x39b)],'getMessage':async _0x24010d=>await this[_0x3852d3(0x4ab)](_0x24010d),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x5e141c=>(_0x5e141c[_0x3852d3(0x48b)]?.['listType']==y[_0x3852d3(0x65c)][_0x3852d3(0x6fa)]['ListMessage'][_0x3852d3(0x1c4)]['PRODUCT_LIST']&&(_0x5e141c=JSON[_0x3852d3(0x520)](JSON[_0x3852d3(0x6d5)](_0x5e141c)),_0x5e141c['listMessage'][_0x3852d3(0x277)]=y['proto'][_0x3852d3(0x6fa)][_0x3852d3(0x46b)][_0x3852d3(0x1c4)][_0x3852d3(0x602)]),_0x5e141c)};return this['endSession']=!0x1,this[_0x3852d3(0x4dd)]=(0x0,y[_0x3852d3(0x22c)])(_0x4ba83e),this[_0x3852d3(0x664)](),this[_0x3852d3(0x6b0)]=_0x3cca35,this[_0x3852d3(0x4dd)];}catch(_0x297e0d){throw this[_0x3852d3(0xfb)][_0x3852d3(0x426)](this['instanceName']+'\x20('+this['instance'][_0x3852d3(0x697)]+_0x3852d3(0x359)+(_0x297e0d instanceof Error?_0x297e0d[_0x3852d3(0x335)]:JSON[_0x3852d3(0x6d5)](_0x297e0d,null,0x2))),new O(_0x297e0d?.[_0x3852d3(0x593)]());}}['eventHandler'](){const _0x5b18f9=a0_0x2530f3;this['client']['ev'][_0x5b18f9(0x67e)](_0x43b7c3=>{const _0x4b5069=_0x5b18f9;if(!this[_0x4b5069(0x148)]){let _0x16d673=this[_0x4b5069(0x1f2)][_0x4b5069(0x196)](_0x4b5069(0x353));if(_0x43b7c3[_0x4b5069(0x27f)]){let _0x38e7da=_0x43b7c3[_0x4b5069(0x27f)];this[_0x4b5069(0x6c2)][_0x4b5069(0x27f)](_0x38e7da);}if(_0x43b7c3[_0x4b5069(0x515)]){let _0x44bd10=_0x43b7c3[_0x4b5069(0x515)];this[_0x4b5069(0x6c2)]['labels.association'](_0x44bd10);}if(_0x43b7c3['connection.update']&&this[_0x4b5069(0x6f1)](_0x43b7c3[_0x4b5069(0x5d8)]),_0x43b7c3[_0x4b5069(0x46a)]&&this[_0x4b5069(0x281)][_0x4b5069(0x56e)][_0x4b5069(0x6f7)](),_0x43b7c3[_0x4b5069(0x189)]){let _0x55ed85=_0x43b7c3[_0x4b5069(0x189)];this[_0x4b5069(0x6c2)]['messaging-history.set'](_0x55ed85,_0x16d673);}if(_0x43b7c3[_0x4b5069(0x69f)]){let _0x188e58=_0x43b7c3['messages.upsert'];this[_0x4b5069(0x6c2)]['messages.upsert'](_0x188e58,_0x16d673);}if(_0x43b7c3[_0x4b5069(0x118)]){let _0x1e78a9=_0x43b7c3[_0x4b5069(0x118)];_0x1e78a9['forEach'](_0x550bfc=>{const _0x4f4b0c=_0x4b5069;if(fo[_0x550bfc[_0x4f4b0c(0x58b)]['id']]){this[_0x4f4b0c(0x4dd)]['ev'][_0x4f4b0c(0x2da)](_0x4f4b0c(0x69f),{'messages':[_0x550bfc],'type':'notify'}),delete fo[_0x550bfc[_0x4f4b0c(0x58b)]['id']];return;}}),this[_0x4b5069(0x6c2)]['messages.update'](_0x1e78a9,_0x16d673);}if(_0x43b7c3[_0x4b5069(0x3d9)]){let _0x57498e=_0x43b7c3[_0x4b5069(0x3d9)];if(this[_0x4b5069(0x1cd)]?.[_0x4b5069(0x479)]&&_0x57498e['id'][_0x4b5069(0x3e8)]('@g.us'))return;this['sendDataWebhook'](_0x4b5069(0x3d9),_0x57498e);}if(!this[_0x4b5069(0x1cd)]?.[_0x4b5069(0x479)]){if(_0x43b7c3['groups.upsert']){let _0x5013d5=_0x43b7c3[_0x4b5069(0x6e6)];this[_0x4b5069(0x194)]['groups.upsert'](_0x5013d5);}if(_0x43b7c3[_0x4b5069(0x10f)]){let _0x55f04b=_0x43b7c3[_0x4b5069(0x10f)];this[_0x4b5069(0x194)][_0x4b5069(0x10f)](_0x55f04b);}if(_0x43b7c3[_0x4b5069(0xb5)]){let _0x2f242f=_0x43b7c3[_0x4b5069(0xb5)];this[_0x4b5069(0x194)]['group-participants.update'](_0x2f242f);}}if(_0x43b7c3[_0x4b5069(0x4c9)]){let _0x573a62=_0x43b7c3['chats.upsert'];this[_0x4b5069(0xe8)][_0x4b5069(0x4c9)](_0x573a62,_0x16d673);}if(_0x43b7c3['chats.update']){let _0x54940c=_0x43b7c3[_0x4b5069(0x2a9)];this[_0x4b5069(0xe8)]['chats.update'](_0x54940c,_0x16d673);}if(_0x43b7c3[_0x4b5069(0x608)]){let _0x2d8dba=_0x43b7c3[_0x4b5069(0x608)];this['chatHandle'][_0x4b5069(0x608)](_0x2d8dba);}if(_0x43b7c3['contacts.upsert']){let _0x2386fd=_0x43b7c3[_0x4b5069(0x237)];this[_0x4b5069(0x275)]['contacts.upsert'](_0x2386fd,_0x16d673);}if(_0x43b7c3[_0x4b5069(0x265)]){let _0x493f81=_0x43b7c3[_0x4b5069(0x265)];this[_0x4b5069(0x275)][_0x4b5069(0x265)](_0x493f81,_0x16d673);}}});}[a0_0x2530f3(0x22e)](_0x2baead){return new Promise(_0x39c673=>setTimeout(_0x39c673,_0x2baead));}[a0_0x2530f3(0x6ec)](_0x2db181){const _0x1f1157=a0_0x2530f3;let _0x5db208=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1f1157(0x50d)](_0x2db181);if(_0x5db208&&_0x5db208[0x1]==='55'){let _0x4f227a=_0x5db208[0x2],_0x543e2a=_0x5db208[0x3],_0x54ba64=_0x5db208[0x4];if(_0x4f227a>='31'&&_0x543e2a==='9')return _0x5db208[0x1]+_0x4f227a+_0x54ba64;}return _0x2db181;}['createJid'](_0x41e201){const _0x182851=a0_0x2530f3;return _0x41e201['includes'](_0x182851(0x284))||_0x41e201[_0x182851(0x3e8)]('@s.whatsapp.net')||_0x41e201[_0x182851(0x3e8)](_0x182851(0x206))?_0x41e201:(_0x41e201=_0x41e201?.[_0x182851(0x385)](/\s/g,'')[_0x182851(0x385)](/\+/g,'')[_0x182851(0x385)](/\(/g,'')[_0x182851(0x385)](/\)/g,'')[_0x182851(0x551)](/\:/)[0x0][_0x182851(0x551)]('@')[0x0],_0x41e201[_0x182851(0x66c)]>=0x12?(_0x41e201=_0x41e201['replace'](/[^\d-]/g,''),_0x41e201+_0x182851(0x284)):(_0x41e201=_0x41e201[_0x182851(0x385)](/\D/g,''),this[_0x182851(0x6ec)](_0x41e201)+_0x182851(0x4da)));}async[a0_0x2530f3(0x3c0)](_0x5a82cb){const _0x57aeaa=a0_0x2530f3;let _0x43ad66=this[_0x57aeaa(0x616)](_0x5a82cb[_0x57aeaa(0x399)]),_0x506ac6=(await this[_0x57aeaa(0x4c4)]({'numbers':[_0x43ad66]}))[0x0];if(!_0x506ac6[_0x57aeaa(0x186)]&&!(0x0,y[_0x57aeaa(0x64a)])(_0x506ac6[_0x57aeaa(0x53d)]))throw new m(_0x506ac6);let _0x4d3223=(0x0,y['isJidGroup'])(_0x43ad66)?_0x43ad66:_0x506ac6['jid'];if((0x0,y[_0x57aeaa(0x64a)])(_0x4d3223))try{await this[_0x57aeaa(0x4dd)][_0x57aeaa(0xbc)](_0x4d3223);}catch{throw new j('Group\x20not\x20found');}try{return await this['client'][_0x57aeaa(0x162)](_0x4d3223),await this[_0x57aeaa(0x4dd)][_0x57aeaa(0x188)](_0x5a82cb[_0x57aeaa(0x21f)],_0x43ad66),{'status':0xc8,'presence':_0x5a82cb['presence']};}catch(_0x4cea47){throw new m(_0x4cea47[_0x57aeaa(0x593)]());}}async[a0_0x2530f3(0x361)](_0x224843){const _0x22e167=a0_0x2530f3;let _0x6d68ff=this[_0x22e167(0x616)](_0x224843);try{return{'wuid':_0x6d68ff,'profilePictureUrl':await this['client'][_0x22e167(0x45a)](_0x6d68ff,_0x22e167(0x612))};}catch{return{'wuid':_0x6d68ff,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x2884e1,_0xae094d,_0x1e6f52){const _0x501030=a0_0x2530f3;_0x1e6f52||(_0x1e6f52={});let _0x39c887=(await this[_0x501030(0x4c4)]({'numbers':[_0x2884e1]}))[0x0];if(!_0x39c887[_0x501030(0x186)]&&!(0x0,y[_0x501030(0x64a)])(_0x39c887[_0x501030(0x53d)])&&!_0x39c887[_0x501030(0x53d)][_0x501030(0x3e8)](_0x501030(0x206)))throw new m(_0x39c887);let _0x18eefb=_0x39c887['jid'];try{_0x1e6f52?.[_0x501030(0x34a)]&&(await this[_0x501030(0x4dd)][_0x501030(0x162)](_0x18eefb),await this['client'][_0x501030(0x188)](_0x1e6f52?.[_0x501030(0x21f)]??_0x501030(0x673),_0x18eefb),await(0x0,y[_0x501030(0x34a)])(_0x1e6f52[_0x501030(0x34a)]),await this[_0x501030(0x4dd)][_0x501030(0x188)](_0x501030(0x6db),_0x18eefb));let _0x37de0f=_0x1e6f52?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x2f6492;if(_0x1e6f52?.['quoted']){let _0x4add3c=_0x1e6f52?.[_0x501030(0x245)],_0x49d587=_0x4add3c?.['message']?_0x4add3c:await this[_0x501030(0x4ab)](_0x4add3c[_0x501030(0x58b)],!0x0);if(!_0x49d587)throw'Message\x20not\x20found';_0x2f6492=_0x49d587;}let _0x4189f5;if((0x0,y['isJidGroup'])(_0x18eefb))try{let _0x484fa7=await this[_0x501030(0x4dd)]['groupMetadata'](_0x18eefb);if(!_0x484fa7)throw new j(_0x501030(0x4af));_0x1e6f52?.[_0x501030(0x68c)]&&(_0x1e6f52['mentions']?.[_0x501030(0x32f)]?_0x4189f5=_0x484fa7['participants']['map'](_0x25b571=>_0x25b571['id']):_0x1e6f52[_0x501030(0x68c)]?.[_0x501030(0x2fa)]?.['length']&&(_0x4189f5=_0x1e6f52[_0x501030(0x68c)][_0x501030(0x2fa)][_0x501030(0x378)](_0x15c104=>{let _0x2d0503=this['createJid'](_0x15c104);return(0x0,y['isJidGroup'])(_0x2d0503)?null:_0x2d0503;})));}catch{throw new j(_0x501030(0x4af));}let _0x42e28b=await((async()=>{const _0x5371da=_0x501030;let _0x1523f0={'quoted':_0x2f6492};if(!_0xae094d[_0x5371da(0x35f)]&&!_0xae094d['poll']&&!_0xae094d['sticker']&&!_0xae094d[_0x5371da(0x1b9)]&&_0x18eefb!==_0x5371da(0x482)&&!_0xae094d[_0x5371da(0x35f)])return await this[_0x5371da(0x4dd)]['sendMessage'](_0x18eefb,{'forward':{'key':{'remoteJid':this['instance']['wuid'],'fromMe':!0x0},'message':_0xae094d},'mentions':_0x4189f5},_0x1523f0);if(_0xae094d['conversation']){let _0x4bea23=_0xae094d[_0x5371da(0x1b9)];return _0x1e6f52?.[_0x5371da(0x478)]&&(_0x4bea23=await this[_0x5371da(0x253)](_0x4bea23,_0x18eefb)),await this[_0x5371da(0x4dd)]['sendMessage'](_0x18eefb,{'text':_0x4bea23,'mentions':_0x4189f5,'linkPreview':_0x37de0f},_0x1523f0);}return _0x18eefb===_0x5371da(0x482)?await this[_0x5371da(0x4dd)][_0x5371da(0x15c)](_0x18eefb,_0xae094d[_0x5371da(0x64f)][_0x5371da(0x491)],{'backgroundColor':_0xae094d[_0x5371da(0x64f)][_0x5371da(0x69a)][_0x5371da(0x266)],'font':_0xae094d[_0x5371da(0x64f)][_0x5371da(0x69a)][_0x5371da(0x55d)],'statusJidList':_0xae094d[_0x5371da(0x64f)][_0x5371da(0x69a)][_0x5371da(0x380)]}):await this[_0x5371da(0x4dd)]['sendMessage'](_0x18eefb,_0xae094d,_0x1523f0);})()),{message_normalized:_0x314a7a}=this[_0x501030(0x5f1)](_0x42e28b[_0x501030(0x335)],$(_0x42e28b['message']),null),_0x37b194={'_id':_0x42e28b[_0x501030(0x58b)]['id'],'key':_0x42e28b[_0x501030(0x58b)],'pushName':_0x42e28b['pushName'],'message':{..._0x42e28b[_0x501030(0x335)]},'messageType':$(_0x42e28b[_0x501030(0x335)]),'message_normalized':{'key':_0x42e28b[_0x501030(0x58b)],'pushName':_0x42e28b[_0x501030(0x62a)],'messageTimestamp':_0x42e28b['messageTimestamp']&&_0x42e28b[_0x501030(0x595)]['toString']()[_0x501030(0x66c)]<0xd?_0x42e28b['messageTimestamp']*0x3e8:_0x42e28b[_0x501030(0x595)]||null,'source':(0x0,y[_0x501030(0x589)])(_0x42e28b['key']['id']),..._0x314a7a},'messageTimestamp':_0x42e28b['messageTimestamp']&&_0x42e28b[_0x501030(0x595)]['toString']()['length']<0xd?_0x42e28b['messageTimestamp']*0x3e8:_0x42e28b[_0x501030(0x595)]||null,'owner':this[_0x501030(0x281)]['wuid'],'source':(0x0,y[_0x501030(0x589)])(_0x42e28b['key']['id'])};return this['logger'][_0x501030(0x1cc)](_0x37b194),this[_0x501030(0x4ff)](_0x501030(0x11d),_0x37b194),J(this['instanceName'],_0x501030(0x477),{'message':_0x37b194}),this['updateChatWithMessage'](this[_0x501030(0x1f2)][_0x501030(0x196)](_0x501030(0x353)),_0x37b194,_0x501030(0x5da)),await this['repository']['message'][_0x501030(0x1b2)]([_0x37b194],this[_0x501030(0x281)][_0x501030(0x697)]),_0x42e28b;}catch(_0x3ad185){throw this[_0x501030(0xfb)][_0x501030(0x426)](this[_0x501030(0x67f)]+'\x20('+this[_0x501030(0x281)][_0x501030(0x697)]+_0x501030(0x359)+_0x3ad185[_0x501030(0x593)]()),new m(_0x3ad185[_0x501030(0x593)]());}}get[a0_0x2530f3(0xc2)](){return this['stateConnection'];}async[a0_0x2530f3(0x51c)](_0x481fcc){const _0x2831a1=a0_0x2530f3;let _0x5987fd=mo,_0x35ab34=He;return _0x35ab34&&this['instanceName']['toLowerCase']()[_0x2831a1(0x3e8)](_0x35ab34[_0x2831a1(0x51f)]())&&(_0x481fcc[_0x2831a1(0x51c)][_0x2831a1(0x30c)]+='\x0a\x0a'+_0x5987fd),await this[_0x2831a1(0x1d0)](_0x481fcc[_0x2831a1(0x399)],{'conversation':_0x481fcc[_0x2831a1(0x51c)][_0x2831a1(0x30c)]},_0x481fcc?.[_0x2831a1(0x19f)]);}async[a0_0x2530f3(0x535)](_0x1e15a2){const _0x7c89bf=a0_0x2530f3;if(!_0x1e15a2['type'])throw new m(_0x7c89bf(0xcd));if(!_0x1e15a2['content'])throw new m('Content\x20is\x20required');if(_0x1e15a2[_0x7c89bf(0x180)]){let _0x21f632=await this['repository']['contact'][_0x7c89bf(0x44c)]({'where':{}},this['instance'][_0x7c89bf(0x697)]);if(!_0x21f632[_0x7c89bf(0x66c)])throw new m('Contacts\x20not\x20found');_0x1e15a2[_0x7c89bf(0x380)]=_0x21f632[_0x7c89bf(0x4bb)](_0x16e8a7=>_0x16e8a7[_0x7c89bf(0x62a)])[_0x7c89bf(0x378)](_0xb1faa2=>_0xb1faa2[_0x7c89bf(0x13f)]);}if(!_0x1e15a2[_0x7c89bf(0x380)]?.[_0x7c89bf(0x66c)]&&!_0x1e15a2[_0x7c89bf(0x180)])throw new m(_0x7c89bf(0x3cf));if(_0x1e15a2[_0x7c89bf(0x101)]===_0x7c89bf(0x30c)){if(!_0x1e15a2[_0x7c89bf(0x266)])throw new m('Background\x20color\x20is\x20required');if(!_0x1e15a2[_0x7c89bf(0x55d)])throw new m(_0x7c89bf(0x54b));return{'content':{'text':_0x1e15a2[_0x7c89bf(0x491)]},'option':{'backgroundColor':_0x1e15a2[_0x7c89bf(0x266)],'font':_0x1e15a2[_0x7c89bf(0x55d)],'statusJidList':_0x1e15a2[_0x7c89bf(0x380)]}};}if(_0x1e15a2['type']===_0x7c89bf(0x612))return{'content':{'image':{'url':_0x1e15a2['content']},'caption':_0x1e15a2[_0x7c89bf(0x14b)]},'option':{'statusJidList':_0x1e15a2[_0x7c89bf(0x380)]}};if(_0x1e15a2[_0x7c89bf(0x101)]===_0x7c89bf(0x125))return{'content':{'video':{'url':_0x1e15a2[_0x7c89bf(0x491)]},'caption':_0x1e15a2[_0x7c89bf(0x14b)]},'option':{'statusJidList':_0x1e15a2['statusJidList']}};if(_0x1e15a2[_0x7c89bf(0x101)]===_0x7c89bf(0x35f)){this['logger'][_0x7c89bf(0x34d)](_0x7c89bf(0x159)),this[_0x7c89bf(0xfb)][_0x7c89bf(0x34d)](_0x7c89bf(0x138));let _0xe66df6=await this['convertaudio'](_0x1e15a2[_0x7c89bf(0x491)]);if(typeof _0xe66df6=='string'){this[_0x7c89bf(0xfb)][_0x7c89bf(0x34d)]('Audio\x20processed');let _0x3d4f8c=L[_0x7c89bf(0x232)](_0xe66df6)[_0x7c89bf(0x593)](_0x7c89bf(0x65b)),_0x348692={'content':{'audio':Buffer[_0x7c89bf(0x2f6)](_0x3d4f8c,'base64'),'ptt':!0x0,'mimetype':_0x7c89bf(0x16e)},'option':{'statusJidList':_0x1e15a2['statusJidList']}};return L[_0x7c89bf(0x2ad)](_0xe66df6),_0x348692;}else throw new O(_0xe66df6);}throw new m(_0x7c89bf(0x6f5));}async[a0_0x2530f3(0x615)](_0x47758f){const _0x3f04a5=a0_0x2530f3;return await this[_0x3f04a5(0x1d0)](_0x3f04a5(0x482),{'status':await this['formatStatusMessage'](_0x47758f[_0x3f04a5(0x615)])});}async[a0_0x2530f3(0x259)](_0x182325){const _0x53b6b=a0_0x2530f3;try{let _0x5dc394=await(0x0,y[_0x53b6b(0x39e)])({[_0x182325['mediatype']]:(0x0,k[_0x53b6b(0x62d)])(_0x182325[_0x53b6b(0x5fc)])?{'url':_0x182325[_0x53b6b(0x5fc)]}:Buffer[_0x53b6b(0x2f6)](_0x182325['media'],_0x53b6b(0x65b))},{'upload':this['client'][_0x53b6b(0x471)]}),_0x1078f6=_0x182325[_0x53b6b(0x5b8)]+_0x53b6b(0x6fa);if(_0x182325[_0x53b6b(0x5b8)]===_0x53b6b(0x319)&&!_0x182325[_0x53b6b(0x4f7)]){let _0x246229=new RegExp(/.*\/(.+?)\./)[_0x53b6b(0x50d)](_0x182325[_0x53b6b(0x5fc)]);_0x182325[_0x53b6b(0x4f7)]=_0x246229?_0x246229[0x1]:null;}let _0x24daeb=(0x0,k[_0x53b6b(0x62d)])(_0x182325[_0x53b6b(0x5fc)])?_0x182325[_0x53b6b(0x5fc)][_0x53b6b(0x551)]('?')[0x0]:_0x182325[_0x53b6b(0x5fc)];this[_0x53b6b(0xfb)][_0x53b6b(0x34d)](_0x53b6b(0x286)+_0x24daeb);let _0x3d4ca6;(0x0,k[_0x53b6b(0x62d)])(_0x182325[_0x53b6b(0x5fc)])?_0x3d4ca6=(0x0,It[_0x53b6b(0x63e)])(_0x24daeb):_0x182325[_0x53b6b(0x4f7)]&&_0x182325['fileName']['includes']('.')?_0x3d4ca6=(0x0,It['getMIMEType'])(_0x182325['fileName']):_0x3d4ca6=(0x0,It['getMIMEType'])(_0x182325[_0x53b6b(0x5fc)]);let _0x5e658a=mo,_0x1355c3=He;return _0x1355c3&&this[_0x53b6b(0x67f)][_0x53b6b(0x51f)]()[_0x53b6b(0x3e8)](_0x1355c3[_0x53b6b(0x51f)]())&&(_0x182325['caption']+='\x0a\x0a'+_0x5e658a),_0x5dc394[_0x1078f6][_0x53b6b(0x14b)]=_0x182325?.[_0x53b6b(0x14b)],_0x5dc394[_0x1078f6]['mimetype']=_0x3d4ca6,_0x5dc394[_0x1078f6][_0x53b6b(0x4f7)]=_0x182325[_0x53b6b(0x4f7)],_0x182325[_0x53b6b(0x5b8)]===_0x53b6b(0x125)&&(_0x5dc394[_0x1078f6][_0x53b6b(0x39c)]=Uint8Array[_0x53b6b(0x2f6)]((0x0,ve[_0x53b6b(0x232)])((0x0,F[_0x53b6b(0x42a)])(process[_0x53b6b(0x522)](),_0x53b6b(0x628)))),_0x5dc394[_0x1078f6]['gifPlayback']=!0x1),(0x0,y[_0x53b6b(0x681)])('',{[_0x1078f6]:{..._0x5dc394[_0x1078f6]}},{'userJid':this[_0x53b6b(0x281)]['wuid']});}catch(_0x222d28){throw this[_0x53b6b(0xfb)][_0x53b6b(0x426)](this[_0x53b6b(0x67f)]+'\x20('+this[_0x53b6b(0x281)][_0x53b6b(0x697)]+_0x53b6b(0x359)+(_0x222d28 instanceof Error?_0x222d28[_0x53b6b(0x335)]:JSON['stringify'](_0x222d28,null,0x2))),new O(_0x222d28?.['toString']()||_0x222d28);}}async[a0_0x2530f3(0x4f5)](_0x4b4c7b){const _0x324310=a0_0x2530f3;let _0x83b4ed=await this[_0x324310(0x259)](_0x4b4c7b['mediaMessage']);return await this[_0x324310(0x1d0)](_0x4b4c7b[_0x324310(0x399)],{..._0x83b4ed[_0x324310(0x335)]},_0x4b4c7b?.[_0x324310(0x19f)]);}async[a0_0x2530f3(0x38d)](_0x1c86cc,_0x45c51f){const _0x4a5f03=a0_0x2530f3;try{this[_0x4a5f03(0xfb)][_0x4a5f03(0x34d)]('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0xdd1bab,_0x247b66=_0x45c51f+'-'+new Date()['getTime']();this[_0x4a5f03(0xfb)][_0x4a5f03(0x34d)](_0x4a5f03(0x3e7)+_0x247b66);let _0xd214c5=''+(0x0,F['join'])(this[_0x4a5f03(0x3f0)],_0x247b66+'.webp');if(this[_0x4a5f03(0xfb)][_0x4a5f03(0x34d)](_0x4a5f03(0x1a3)+_0xd214c5),(0x0,k[_0x4a5f03(0x153)])(_0x1c86cc)){this[_0x4a5f03(0xfb)][_0x4a5f03(0x34d)]('Image\x20is\x20base64');let _0x5ddfdb=_0x1c86cc['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x3a5e9b=Buffer['from'](_0x5ddfdb,_0x4a5f03(0x65b));_0xdd1bab=''+(0x0,F[_0x4a5f03(0x42a)])(this[_0x4a5f03(0x3f0)],'temp-'+_0x247b66+'.png'),this[_0x4a5f03(0xfb)][_0x4a5f03(0x34d)](_0x4a5f03(0x503)+_0xdd1bab),await(0x0,xt[_0x4a5f03(0x22c)])(_0x3a5e9b)[_0x4a5f03(0x350)](_0xdd1bab),this[_0x4a5f03(0xfb)][_0x4a5f03(0x34d)]('Image\x20created');}else{this[_0x4a5f03(0xfb)][_0x4a5f03(0x34d)]('Image\x20is\x20url');let _0x4bbf04=new Date()[_0x4a5f03(0x146)](),_0x36c049=_0x1c86cc+_0x4a5f03(0x5ed)+_0x4bbf04;this[_0x4a5f03(0xfb)][_0x4a5f03(0x34d)]('including\x20timestamp\x20in\x20url:\x20'+_0x36c049);let _0x37f514=await se[_0x4a5f03(0x22c)][_0x4a5f03(0x196)](_0x36c049,{'responseType':_0x4a5f03(0x707)});this[_0x4a5f03(0xfb)]['verbose']('Getting\x20image\x20from\x20url');let _0x2a79e6=Buffer['from'](_0x37f514[_0x4a5f03(0x59a)],'binary');_0xdd1bab=''+(0x0,F[_0x4a5f03(0x42a)])(this[_0x4a5f03(0x3f0)],'temp-'+_0x247b66+_0x4a5f03(0x3b0)),this[_0x4a5f03(0xfb)][_0x4a5f03(0x34d)](_0x4a5f03(0x503)+_0xdd1bab),await(0x0,xt[_0x4a5f03(0x22c)])(_0x2a79e6)[_0x4a5f03(0x350)](_0xdd1bab),this[_0x4a5f03(0xfb)][_0x4a5f03(0x34d)](_0x4a5f03(0x51d));}return await(0x0,xt[_0x4a5f03(0x22c)])(_0xdd1bab)[_0x4a5f03(0x5d2)]()[_0x4a5f03(0x350)](_0xd214c5),this[_0x4a5f03(0xfb)]['verbose'](_0x4a5f03(0xf5)),L['unlinkSync'](_0xdd1bab),this[_0x4a5f03(0xfb)]['verbose'](_0x4a5f03(0x69c)),_0xd214c5;}catch(_0x124539){console['error'](_0x4a5f03(0x1ca),_0x124539 instanceof Error?_0x124539['message']:JSON['stringify'](_0x124539,null,0x2));}}async['mediaSticker'](_0xeeb15){const _0x4ec980=a0_0x2530f3;let _0x43c1da=await this[_0x4ec980(0x38d)](_0xeeb15[_0x4ec980(0x64c)][_0x4ec980(0x612)],_0xeeb15[_0x4ec980(0x399)]),_0x12d3c6=await this[_0x4ec980(0x1d0)](_0xeeb15[_0x4ec980(0x399)],{'sticker':{'url':_0x43c1da}},_0xeeb15?.[_0x4ec980(0x19f)]);return L[_0x4ec980(0x2ad)](_0x43c1da),this[_0x4ec980(0xfb)][_0x4ec980(0x34d)](_0x4ec980(0x370)),_0x12d3c6;}async[a0_0x2530f3(0x240)](_0x207ed8){const _0x4eb916=a0_0x2530f3;if(this['logger']['verbose']('Sending\x20audio\x20whatsapp'),!_0x207ed8['options']?.[_0x4eb916(0x466)]&&_0x207ed8['options']?.['encoding']!==!0x1&&(_0x207ed8[_0x4eb916(0x19f)]['encoding']=!0x0),_0x207ed8[_0x4eb916(0x19f)]?.[_0x4eb916(0x466)]){let _0x530a7e=await this[_0x4eb916(0x2d0)](_0x207ed8[_0x4eb916(0x15f)][_0x4eb916(0x35f)]);if(typeof _0x530a7e==_0x4eb916(0x43a)){let _0x1158a2=L['readFileSync'](_0x530a7e)[_0x4eb916(0x593)](_0x4eb916(0x65b)),_0x352e1f=this['sendMessageWithTyping'](_0x207ed8[_0x4eb916(0x399)],{'audio':Buffer['from'](_0x1158a2,_0x4eb916(0x65b)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':'recording','delay':_0x207ed8?.[_0x4eb916(0x19f)]?.[_0x4eb916(0x34a)]});return L[_0x4eb916(0x2ad)](_0x530a7e),this['logger'][_0x4eb916(0x34d)](_0x4eb916(0x309)),_0x352e1f;}else throw new O(_0x530a7e);}return await this[_0x4eb916(0x1d0)](_0x207ed8['number'],{'audio':(0x0,k[_0x4eb916(0x62d)])(_0x207ed8[_0x4eb916(0x15f)][_0x4eb916(0x35f)])?{'url':_0x207ed8[_0x4eb916(0x15f)]['audio']}:Buffer[_0x4eb916(0x2f6)](_0x207ed8[_0x4eb916(0x15f)][_0x4eb916(0x35f)],'base64'),'ptt':!0x0,'mimetype':_0x4eb916(0x706)},{'presence':'recording','delay':_0x207ed8?.['options']?.['delay']});}async[a0_0x2530f3(0x2d0)](_0x267bac){const _0x460da5=a0_0x2530f3;this[_0x460da5(0xfb)][_0x460da5(0x34d)](_0x460da5(0x138));let _0x124580,_0x5b63b5,_0x19af29=(0x0,Me['v4'])();if(this['logger']['verbose'](_0x460da5(0x22b)+_0x19af29),(0x0,k[_0x460da5(0x62d)])(_0x267bac)){this[_0x460da5(0xfb)]['verbose']('Audio\x20is\x20url'),_0x5b63b5=''+(0x0,F[_0x460da5(0x42a)])(this['storePath'],_0x19af29+'.mp4'),_0x124580=''+(0x0,F[_0x460da5(0x42a)])(this['storePath'],_0x460da5(0x344)+_0x19af29+'.mp3'),this['logger'][_0x460da5(0x34d)](_0x460da5(0x613)+_0x5b63b5),this[_0x460da5(0xfb)]['verbose']('Temp\x20audio\x20path:\x20'+_0x124580);let _0x4ba7be=new Date()[_0x460da5(0x146)](),_0x22f77f=_0x267bac+'?timestamp='+_0x4ba7be;this[_0x460da5(0xfb)][_0x460da5(0x34d)](_0x460da5(0x40a)+_0x22f77f);let _0x443cd6=await se[_0x460da5(0x22c)][_0x460da5(0x196)](_0x22f77f,{'responseType':'arraybuffer'});this['logger']['verbose'](_0x460da5(0x606)),L[_0x460da5(0x2a8)](_0x124580,_0x443cd6['data']);}else{this[_0x460da5(0xfb)][_0x460da5(0x34d)]('Audio\x20is\x20base64'),_0x5b63b5=''+(0x0,F[_0x460da5(0x42a)])(this[_0x460da5(0x3f0)],_0x19af29+_0x460da5(0x3da)),_0x124580=''+(0x0,F['join'])(this[_0x460da5(0x3f0)],_0x460da5(0x344)+_0x19af29+'.mp3'),this[_0x460da5(0xfb)]['verbose']('Output\x20audio\x20path:\x20'+_0x5b63b5),this['logger'][_0x460da5(0x34d)](_0x460da5(0x699)+_0x124580);let _0x4d832b=Buffer[_0x460da5(0x2f6)](_0x267bac,_0x460da5(0x65b));L['writeFileSync'](_0x124580,_0x4d832b),this[_0x460da5(0xfb)][_0x460da5(0x34d)](_0x460da5(0x5a4));}return this[_0x460da5(0xfb)][_0x460da5(0x34d)](_0x460da5(0x453)),new Promise((_0x5a1e14,_0x3ea233)=>{const _0x14dbb2=_0x460da5;(0x0,_t[_0x14dbb2(0x50d)])(wo[_0x14dbb2(0x22c)][_0x14dbb2(0x499)]+_0x14dbb2(0x236)+_0x124580+_0x14dbb2(0x575)+_0x5b63b5+_0x14dbb2(0x201),_0x237ac2=>{const _0x340e67=_0x14dbb2;L[_0x340e67(0x2ad)](_0x124580),this[_0x340e67(0xfb)][_0x340e67(0x34d)](_0x340e67(0x199)),_0x237ac2&&_0x3ea233(_0x237ac2),this[_0x340e67(0xfb)][_0x340e67(0x34d)](_0x340e67(0x6af)),_0x5a1e14(_0x5b63b5);});});}async[a0_0x2530f3(0x558)](_0xa18193){const _0x810eef=a0_0x2530f3;let _0x12ecda={},_0x37a724=_0x810eef(0x342);if(_0xa18193[_0x810eef(0x558)]?.[_0x810eef(0x4f5)]){_0x37a724=_0xa18193['buttonMessage']['mediaMessage']?.[_0x810eef(0x5b8)]['toUpperCase']()??_0x810eef(0x342),_0x12ecda[_0x810eef(0x4f3)]=_0x37a724[_0x810eef(0x51f)]()+'Message';let _0x58cf7c=await this[_0x810eef(0x259)](_0xa18193['buttonMessage'][_0x810eef(0x4f5)]);_0x12ecda['message']=_0x58cf7c['message'][_0x12ecda[_0x810eef(0x4f3)]],_0x12ecda[_0x810eef(0x1e0)]='*'+_0xa18193['buttonMessage'][_0x810eef(0xa8)]+'*\x0a\x0a'+_0xa18193[_0x810eef(0x558)][_0x810eef(0x527)];}let _0x4277c1={'text':_0xa18193[_0x810eef(0x558)][_0x810eef(0x4d4)][_0x810eef(0x378)](_0x4bb5a2=>_0x4bb5a2[_0x810eef(0x395)]),'ids':_0xa18193['buttonMessage']['buttons'][_0x810eef(0x378)](_0x5bcd28=>_0x5bcd28[_0x810eef(0x4a3)])};if(!(0x0,k[_0x810eef(0x1e8)])(_0x4277c1[_0x810eef(0x30c)])||!(0x0,k['arrayUnique'])(_0x4277c1[_0x810eef(0xfc)]))throw new m(_0x810eef(0x462),_0x810eef(0x214));return await this['sendMessageWithTyping'](_0xa18193[_0x810eef(0x399)],{'buttonsMessage':{'text':_0x12ecda?.[_0x810eef(0x4f3)]?void 0x0:_0xa18193[_0x810eef(0x558)][_0x810eef(0xa8)],'contentText':_0x12ecda?.[_0x810eef(0x1e0)]??_0xa18193[_0x810eef(0x558)][_0x810eef(0x527)],'footerText':_0xa18193[_0x810eef(0x558)]?.[_0x810eef(0x58d)],'buttons':_0xa18193['buttonMessage'][_0x810eef(0x4d4)][_0x810eef(0x378)](_0x2f1042=>({'buttonText':{'displayText':_0x2f1042[_0x810eef(0x395)]},'buttonId':_0x2f1042[_0x810eef(0x4a3)],'type':0x1})),'headerType':y[_0x810eef(0x65c)][_0x810eef(0x6fa)]['ButtonsMessage']['HeaderType'][_0x37a724],[_0x12ecda?.[_0x810eef(0x4f3)]]:_0x12ecda?.[_0x810eef(0x335)]}},_0xa18193?.[_0x810eef(0x19f)]);}async[a0_0x2530f3(0x4cf)](_0x54006a){const _0x343624=a0_0x2530f3;return await this['sendMessageWithTyping'](_0x54006a[_0x343624(0x399)],{'locationMessage':{'degreesLatitude':_0x54006a['locationMessage']['latitude'],'degreesLongitude':_0x54006a[_0x343624(0x4cf)][_0x343624(0x18f)],'name':_0x54006a[_0x343624(0x4cf)]?.['name'],'address':_0x54006a[_0x343624(0x4cf)]?.[_0x343624(0x6e3)]}},_0x54006a?.[_0x343624(0x19f)]);}async[a0_0x2530f3(0x178)](_0x18d35e){const _0xe7d815=a0_0x2530f3;let _0xb58603={},_0x18cf3b=_0x293b85=>{const _0x56f24e=a0_0x4c5f;let _0x4d92eb='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x293b85[_0x56f24e(0x32d)]+'\x0aFN:'+_0x293b85[_0x56f24e(0x32d)]+'\x0a';_0x293b85['organization']&&(_0x4d92eb+=_0x56f24e(0x4f0)+_0x293b85['organization']+';\x0a'),_0x293b85[_0x56f24e(0x3f7)]&&(_0x4d92eb+='EMAIL:'+_0x293b85[_0x56f24e(0x3f7)]+'\x0a'),_0x293b85[_0x56f24e(0x2df)]&&(_0x4d92eb+=_0x56f24e(0x365)+_0x293b85[_0x56f24e(0x2df)]+'\x0a');let _0xf77c59='';return _0x293b85[_0x56f24e(0x6b0)]&&_0x293b85[_0x56f24e(0x6b0)][_0x56f24e(0x551)]('|')[_0x56f24e(0x2ed)]((_0xd16dea,_0x202359)=>{const _0x2e1e02=_0x56f24e;let _0x4e708d=this[_0x2e1e02(0x616)](_0xd16dea)[_0x2e1e02(0x385)](_0x2e1e02(0x4da),'');_0xf77c59+=_0x2e1e02(0x166)+(_0x202359+0x1)+_0x2e1e02(0x3ed)+_0x4e708d+':'+_0xd16dea+'\x0aitem'+(_0x202359+0x1)+_0x2e1e02(0x41a);}),_0x4d92eb+=_0xf77c59+'END:VCARD',_0x4d92eb;};return _0x18d35e[_0xe7d815(0x178)][_0xe7d815(0x66c)]===0x1?_0xb58603[_0xe7d815(0x178)]={'displayName':_0x18d35e[_0xe7d815(0x178)][0x0][_0xe7d815(0x32d)],'vcard':_0x18cf3b(_0x18d35e[_0xe7d815(0x178)][0x0])}:_0xb58603[_0xe7d815(0x33a)]={'displayName':_0x18d35e['contactMessage'][_0xe7d815(0x66c)]+_0xe7d815(0x18a),'contacts':_0x18d35e['contactMessage'][_0xe7d815(0x378)](_0x11112e=>({'displayName':_0x11112e[_0xe7d815(0x32d)],'vcard':_0x18cf3b(_0x11112e)}))},await this[_0xe7d815(0x1d0)](_0x18d35e[_0xe7d815(0x399)],{..._0xb58603},_0x18d35e?.[_0xe7d815(0x19f)]);}async[a0_0x2530f3(0xc8)](_0x3b8920){const _0x4707c5=a0_0x2530f3;return await this['sendMessageWithTyping'](_0x3b8920[_0x4707c5(0xc8)][_0x4707c5(0x58b)][_0x4707c5(0x596)],{'reactionMessage':{'key':_0x3b8920[_0x4707c5(0xc8)]['key'],'text':_0x3b8920[_0x4707c5(0xc8)][_0x4707c5(0x578)]}});}async['whatsappNumber'](_0x2437a4){const _0x5b9d91=a0_0x2530f3;let _0x382e80=[];for await(let _0x3be8e3 of _0x2437a4[_0x5b9d91(0x5c5)]){let _0x2f3ba9=this[_0x5b9d91(0x616)](_0x3be8e3),_0x41784c=!0x1;try{if((0x0,y[_0x5b9d91(0x64a)])(_0x2f3ba9)){let _0x3d7cd7=await this[_0x5b9d91(0x6ea)]({'groupJid':_0x2f3ba9},_0x5b9d91(0x37b));_0x382e80['push'](new me(_0x3d7cd7[_0x5b9d91(0x2a2)]['id'],!!_0x3d7cd7?.[_0x5b9d91(0x2a2)]['id'],_0x3d7cd7?.[_0x5b9d91(0x2a2)][_0x5b9d91(0x243)])),_0x41784c=!!_0x3d7cd7?.['metadata']['id'];}else{let _0x28e712=(await this['client']['onWhatsApp'](_0x2f3ba9))[0x0];_0x382e80[_0x5b9d91(0x5aa)](new me(_0x28e712[_0x5b9d91(0x53d)],_0x28e712['exists'])),_0x41784c=_0x28e712[_0x5b9d91(0x186)];}}catch{await this[_0x5b9d91(0x397)](_0x2f3ba9,_0x41784c),_0x382e80[_0x5b9d91(0x5aa)](new me(_0x3be8e3,!0x1));}}return _0x382e80;}async[a0_0x2530f3(0x397)](_0xd9e109,_0x43585e){const _0x3898e7=a0_0x2530f3;try{await this[_0x3898e7(0x45b)][_0x3898e7(0x1ad)]['findOne']({'where':{'_id':_0xd9e109,'imported':!0x0}},this[_0x3898e7(0x281)][_0x3898e7(0x697)])&&(_0x43585e||(await this[_0x3898e7(0x45b)][_0x3898e7(0x1ad)][_0x3898e7(0x1ae)](_0xd9e109,this[_0x3898e7(0x281)][_0x3898e7(0x697)]),console['log'](_0x3898e7(0x1be)+_0xd9e109+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x31b62f){console[_0x3898e7(0x426)](_0x3898e7(0x29e),_0x31b62f);}}async['markMessageAsRead'](_0x581949){const _0xf4f957=a0_0x2530f3;try{let _0x53c0c6=_0x581949[_0xf4f957(0x26c)][_0xf4f957(0x4bb)](_0x33e303=>(0x0,y[_0xf4f957(0x64a)])(_0x33e303['remoteJid'])||(0x0,y[_0xf4f957(0x5b5)])(_0x33e303[_0xf4f957(0x596)]))['map'](_0x3b3684=>({'remoteJid':_0x3b3684[_0xf4f957(0x596)],'fromMe':_0x3b3684[_0xf4f957(0x139)],'id':_0x3b3684['id']}));await this['client'][_0xf4f957(0x26c)](_0x53c0c6);let _0x47e068=_0x53c0c6['map'](_0x1b618c=>this[_0xf4f957(0x127)](_0x1b618c,{'status':'READ','owner':this['instance'][_0xf4f957(0x697)]})),_0x44ef6f=_0x53c0c6['map'](_0x4f6653=>this[_0xf4f957(0x45b)][_0xf4f957(0x1ad)]['updateOne']({'where':{'_id':_0x4f6653[_0xf4f957(0x596)]}},{'unreadcount':0x0},this[_0xf4f957(0x281)][_0xf4f957(0x697)])),[_0xfe2221,_0x13aeca]=await Promise[_0xf4f957(0x2ef)]([Promise[_0xf4f957(0x2ef)](_0x47e068),Promise[_0xf4f957(0x2ef)](_0x44ef6f)]);return _0x13aeca['filter'](_0x222f14=>_0x222f14!==null)[_0xf4f957(0x2ed)](_0x1e87d9=>{const _0x1b7347=_0xf4f957;J(this[_0x1b7347(0x67f)],_0x1b7347(0x1ec),{'chat':_0x1e87d9});}),{'message':'Read\x20messages','read':_0xf4f957(0x643)};}catch(_0x548a8b){throw console[_0xf4f957(0x426)](_0xf4f957(0x377),_0x548a8b),new O(_0xf4f957(0x6fd),_0x548a8b['toString']());}}async['getLastMessage'](_0x23d6e8){const _0x56b524=a0_0x2530f3;let _0x2d1296={'where':{'key':{'remoteJid':_0x23d6e8}},'limit':0x1},_0x2b0169=await this[_0x56b524(0x297)](_0x2d1296);return _0x2b0169||(console[_0x56b524(0x426)](_0x56b524(0x306),_0x23d6e8),null);}async[a0_0x2530f3(0x4eb)](_0x5b06d8){const _0x137997=a0_0x2530f3;this[_0x137997(0xfb)]['verbose']('Archiving\x20chat');try{let _0x4caa3d=_0x5b06d8[_0x137997(0x657)],_0x61f2d0=_0x5b06d8['chat'];if(!_0x4caa3d&&_0x61f2d0?_0x4caa3d=await this['getLastMessage'](_0x61f2d0):(_0x4caa3d=_0x5b06d8[_0x137997(0x657)],_0x4caa3d['messageTimestamp']=_0x4caa3d?.[_0x137997(0x595)]??Date[_0x137997(0x3d0)](),_0x61f2d0=_0x4caa3d?.[_0x137997(0x58b)]?.['remoteJid']),!_0x4caa3d||Object[_0x137997(0x557)](_0x4caa3d)[_0x137997(0x66c)]===0x0)throw new j(_0x137997(0x403));this[_0x137997(0xfb)]['verbose']('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x61f2d0);try{await this[_0x137997(0x4dd)][_0x137997(0x2eb)]({'archive':_0x5b06d8[_0x137997(0x4aa)],'lastMessages':[_0x4caa3d]},this['createJid'](_0x61f2d0));}catch(_0x233cb1){this[_0x137997(0xfb)][_0x137997(0x426)](_0x137997(0x638)+_0x61f2d0+':\x20'+_0x233cb1['toString']());}this[_0x137997(0xfb)][_0x137997(0x34d)](_0x137997(0x3de)+_0x61f2d0);let _0x5a7e18=await this[_0x137997(0x45b)][_0x137997(0x1ad)][_0x137997(0x31a)]({'where':{'_id':_0x4caa3d?.[_0x137997(0x58b)]?.[_0x137997(0x596)]}},{'archived':_0x5b06d8[_0x137997(0x4aa)]},this[_0x137997(0x281)][_0x137997(0x697)]);return _0x5a7e18?(this[_0x137997(0xfb)][_0x137997(0x34d)]('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x137997(0x6d5)](_0x5a7e18)),J(this[_0x137997(0x67f)],_0x137997(0x1ec),{'chat':_0x5a7e18})):this[_0x137997(0xfb)][_0x137997(0x426)](_0x137997(0x149)+_0x61f2d0),{'chatId':_0x61f2d0,'archived':_0x5b06d8[_0x137997(0x4aa)]};}catch(_0x3091d2){throw this[_0x137997(0xfb)][_0x137997(0x426)]('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x3091d2[_0x137997(0x593)]()),new O({'archived':!0x1,'message':[_0x137997(0x134),_0x3091d2['toString']()]});}}async[a0_0x2530f3(0x337)](_0x1d9477){const _0x4947df=a0_0x2530f3;try{let _0x11ffbc=await this[_0x4947df(0x4dd)]['sendMessage'](_0x1d9477[_0x4947df(0x596)],{'delete':_0x1d9477});try{let _0x55b8fd=await this[_0x4947df(0x127)](_0x1d9477,{'status':'DELETED','owner':this[_0x4947df(0x281)][_0x4947df(0x697)]});this[_0x4947df(0xfb)][_0x4947df(0x34d)](this[_0x4947df(0x67f)]+'\x20('+this[_0x4947df(0x281)]['wuid']+_0x4947df(0x175)+_0x55b8fd);}catch(_0xbb60a6){console['error'](_0x4947df(0x588),_0xbb60a6);}return _0x11ffbc;}catch(_0x4a8f1d){throw new O(_0x4947df(0x34f),_0x4a8f1d?.[_0x4947df(0x593)]());}}async[a0_0x2530f3(0x314)](_0x4c12ad){const _0xbab68c=a0_0x2530f3;try{let _0x2a8df5=_0x4c12ad?.[_0xbab68c(0x335)]?_0x4c12ad:await this[_0xbab68c(0x4ab)](_0x4c12ad[_0xbab68c(0x58b)],!0x0);for(let _0x490811 of pa)_0x2a8df5['message'][_0x490811]&&(_0x2a8df5[_0xbab68c(0x335)]=_0x2a8df5[_0xbab68c(0x335)][_0x490811][_0xbab68c(0x335)]);let _0x4796a9,_0x1d5a97;for(let _0x626d9 of da)if(_0x4796a9=_0x2a8df5[_0xbab68c(0x335)][_0x626d9],_0x4796a9){_0x1d5a97=_0x626d9;break;}if(!_0x4796a9)throw _0xbab68c(0x31f);typeof _0x4796a9[_0xbab68c(0x4f3)]==_0xbab68c(0x419)&&(_0x2a8df5[_0xbab68c(0x335)]=JSON[_0xbab68c(0x520)](JSON[_0xbab68c(0x6d5)](_0x2a8df5[_0xbab68c(0x335)])));let _0x1a9322=await(0x0,y[_0xbab68c(0x661)])({'key':_0x2a8df5?.['key'],'message':_0x2a8df5?.[_0xbab68c(0x335)]},_0xbab68c(0x6a9),{},{'logger':(0x0,Ot[_0xbab68c(0x22c)])({'level':'silent'}),'reuploadRequest':this[_0xbab68c(0x4dd)][_0xbab68c(0x151)]});if(!(_0x1a9322 instanceof Buffer))throw new Error(_0xbab68c(0x6e7));let _0x52282a=this['configService'][_0xbab68c(0x196)](_0xbab68c(0x353)),_0x50ca3e,_0x37f0cd;if(_0x4796a9[_0xbab68c(0x4f7)])_0x50ca3e=_0x4796a9[_0xbab68c(0x4f7)];else{let _0x43fb19=_0x4796a9['mimetype']?.[_0xbab68c(0x26e)](/\/(\w+)/),_0x12787a=_0x43fb19?_0x43fb19[0x1]:null;if(!_0x12787a)throw new Error(_0xbab68c(0x554));_0x50ca3e=(0x0,Me['v4'])()+'.'+_0x12787a;}_0x1d5a97===_0xbab68c(0x15f)&&_0x4796a9['mimetype']==='audio/ogg'?(_0x50ca3e=(0x0,Me['v4'])()+_0xbab68c(0x6ca),_0x37f0cd=_0xbab68c(0x6ff)+await this[_0xbab68c(0x2d0)](_0x1a9322[_0xbab68c(0x593)](_0xbab68c(0x65b)))):(await this[_0xbab68c(0x4b5)](_0x1a9322,_0x50ca3e),_0x37f0cd=_0xbab68c(0x6ff)+_0x50ca3e);let _0x18fa41=this[_0xbab68c(0x1f2)][_0xbab68c(0x196)](_0xbab68c(0x16a))['URL'];if(!_0x18fa41){let _0x7c340=this[_0xbab68c(0x1f2)][_0xbab68c(0x196)](_0xbab68c(0x28a));_0x18fa41=_0xbab68c(0x566)+(_0x7c340&&_0x7c340[_0xbab68c(0x41d)][_0xbab68c(0x551)]('/')[0x4]);}_0x37f0cd=''+_0x18fa41+_0x37f0cd;let _0x4a6cb5=0xc*0x3c*0x3c*0x3e8,_0x430107={'where':{'_id':_0x2a8df5[_0xbab68c(0x58b)]['id']}},_0x35ea11={'message_normalized.fileUrl':_0x37f0cd,'message_normalized.expires_fileUrl':Date['now']()+_0x4a6cb5};try{let _0x1738d8=await this[_0xbab68c(0x45b)][_0xbab68c(0x335)][_0xbab68c(0xc3)](_0x430107,_0x35ea11,this[_0xbab68c(0x281)][_0xbab68c(0x697)]);_0x1738d8&&J(this['instanceName'],_0xbab68c(0x477),{'message':_0x1738d8});}catch(_0x5cca9e){this[_0xbab68c(0xfb)]['error'](this[_0xbab68c(0x67f)]+'\x20('+this[_0xbab68c(0x281)][_0xbab68c(0x697)]+_0xbab68c(0x359)+(_0x5cca9e instanceof Error?_0x5cca9e[_0xbab68c(0x335)]:JSON[_0xbab68c(0x6d5)](_0x5cca9e,null,0x2)));}return{'mediaType':_0x1d5a97,'fileName':_0x4796a9[_0xbab68c(0x4f7)],'caption':_0x4796a9[_0xbab68c(0x14b)],'size':{'fileLength':_0x4796a9[_0xbab68c(0x1df)],'height':_0x4796a9[_0xbab68c(0x331)],'width':_0x4796a9[_0xbab68c(0x635)]},'mimetype':_0x4796a9[_0xbab68c(0xb1)],'base64':_0x1a9322[_0xbab68c(0x593)](_0xbab68c(0x65b)),'fileUrl':_0x37f0cd,'expires_fileUrl':Date[_0xbab68c(0x3d0)]()+_0x4a6cb5};}catch(_0x4c7dba){throw this['logger']['error'](this[_0xbab68c(0x67f)]+'\x20('+this[_0xbab68c(0x281)][_0xbab68c(0x697)]+_0xbab68c(0x359)+(_0x4c7dba instanceof Error?_0x4c7dba[_0xbab68c(0x335)]:JSON[_0xbab68c(0x6d5)](_0x4c7dba,null,0x2))),new m(_0x4c7dba[_0xbab68c(0x593)]());}}async[a0_0x2530f3(0x4b5)](_0x43c4f5,_0x20642a){const _0x3e9739=a0_0x2530f3;let _0x34f25b=F[_0x3e9739(0x22c)][_0x3e9739(0x42a)](__dirname,'downloads');L[_0x3e9739(0x2cb)](_0x34f25b)||L['mkdirSync'](_0x34f25b,{'recursive':!0x0});let _0x5cf0cb=F[_0x3e9739(0x22c)][_0x3e9739(0x42a)](_0x34f25b,_0x20642a);return new Promise((_0x78f99e,_0x4c978c)=>{const _0x5e5e2=_0x3e9739;L[_0x5e5e2(0x1f5)](_0x5cf0cb,_0x43c4f5,_0x4c78ed=>{const _0x2ed637=_0x5e5e2;_0x4c78ed?(this[_0x2ed637(0xfb)]['error'](_0x2ed637(0x63a)+(_0x4c78ed instanceof Error?_0x4c78ed['message']:JSON[_0x2ed637(0x6d5)](_0x4c78ed,null,0x2))),_0x4c978c(_0x4c78ed)):(this[_0x2ed637(0xfb)]['log'](_0x2ed637(0x6fb)+_0x5cf0cb),_0x78f99e(_0x5cf0cb));});});}async[a0_0x2530f3(0x1e4)](_0xc67f6a){const _0x439059=a0_0x2530f3;return await this[_0x439059(0x45b)][_0x439059(0x22f)][_0x439059(0x44c)](_0xc67f6a,this['instance'][_0x439059(0x697)]);}async[a0_0x2530f3(0x102)](){const _0x860b2b=a0_0x2530f3;return await this[_0x860b2b(0x45b)][_0x860b2b(0x157)]['find']({'where':{}},this[_0x860b2b(0x281)][_0x860b2b(0x697)]);}async[a0_0x2530f3(0x297)](_0x4490b2){const _0x5b8af8=a0_0x2530f3;return await this['repository'][_0x5b8af8(0x335)][_0x5b8af8(0x44c)](_0x4490b2,this[_0x5b8af8(0x281)]['wuid']);}async[a0_0x2530f3(0x171)](){const _0x1a6f8c=a0_0x2530f3;return this['repository']['chat'][_0x1a6f8c(0x4be)](this[_0x1a6f8c(0x281)]['wuid']),this[_0x1a6f8c(0x45b)][_0x1a6f8c(0x1ad)][_0x1a6f8c(0x176)](this[_0x1a6f8c(0x281)]['wuid']),this[_0x1a6f8c(0x45b)][_0x1a6f8c(0x1ad)][_0x1a6f8c(0x32e)](this[_0x1a6f8c(0x281)][_0x1a6f8c(0x697)]),this[_0x1a6f8c(0x45b)][_0x1a6f8c(0x1ad)][_0x1a6f8c(0x450)](this[_0x1a6f8c(0x281)]['wuid']),await this[_0x1a6f8c(0x45b)]['chat'][_0x1a6f8c(0x44c)]({'where':{}},this[_0x1a6f8c(0x281)][_0x1a6f8c(0x697)]);}async[a0_0x2530f3(0x21b)](_0x5c1eba){const _0x498a18=a0_0x2530f3;try{if(!Array[_0x498a18(0x63d)](_0x5c1eba)||_0x5c1eba['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x4b3b36=[],_0x4093b4=[];for(let _0x315a8c of _0x5c1eba){if(_0x315a8c[_0x498a18(0x13f)])_0x315a8c[_0x498a18(0x13f)]=this['createJid'](_0x315a8c[_0x498a18(0x13f)]);else continue;await this['repository']['chat'][_0x498a18(0x2ff)]({'where':{'_id':_0x315a8c[_0x498a18(0x13f)]}},this[_0x498a18(0x281)][_0x498a18(0x697)])?_0x4093b4[_0x498a18(0x5aa)]({'_id':_0x315a8c['_id'],'leadInfo':_0x315a8c[_0x498a18(0x444)],'owner':this['instance'][_0x498a18(0x697)]}):_0x4b3b36[_0x498a18(0x5aa)]({'_id':_0x315a8c[_0x498a18(0x13f)],'owner':this[_0x498a18(0x281)][_0x498a18(0x697)],'leadInfo':_0x315a8c[_0x498a18(0x444)],'imported':!0x0});}return _0x4093b4[_0x498a18(0x66c)]>0x0&&await this[_0x498a18(0x45b)]['chat']['updateMany'](_0x4093b4[_0x498a18(0x378)](_0x2882f2=>({'query':{'where':{'_id':_0x2882f2[_0x498a18(0x13f)],'owner':this[_0x498a18(0x281)][_0x498a18(0x697)]}},'update':_0x2882f2}))),_0x4b3b36[_0x498a18(0x66c)]>0x0&&await this[_0x498a18(0x45b)][_0x498a18(0x1ad)]['insertMany'](_0x4b3b36,this['instance'][_0x498a18(0x697)]),{'updated':_0x4093b4['length'],'inserted':_0x4b3b36['length']};}catch(_0x43211b){throw console['error']('Erro\x20ao\x20importar\x20chats:',_0x43211b),_0x43211b;}}async[a0_0x2530f3(0x52e)](_0x319973){const _0x132f43=a0_0x2530f3;try{if(!Array[_0x132f43(0x63d)](_0x319973)||_0x319973[_0x132f43(0x66c)]===0x0)throw new Error(_0x132f43(0x2d2));let _0x51423f=0x64,_0x1b99c2=0x0;for(let _0x5f0a66=0x0;_0x5f0a66<_0x319973[_0x132f43(0x66c)];_0x5f0a66+=_0x51423f){let _0x5e8204=_0x319973[_0x132f43(0x185)](_0x5f0a66,_0x5f0a66+_0x51423f),{updated:_0x8db5a2}=await this[_0x132f43(0x1fa)](_0x5e8204);_0x1b99c2+=_0x8db5a2;}return{'updated':_0x1b99c2};}catch(_0x375e96){throw console[_0x132f43(0x426)](_0x132f43(0x502),_0x375e96),_0x375e96;}}async[a0_0x2530f3(0x1fa)](_0x3fcb15){const _0x418f7d=a0_0x2530f3;try{let _0x544f15=await this['repository'][_0x418f7d(0x157)]['find']({'where':{}},this[_0x418f7d(0x281)][_0x418f7d(0x697)]),_0xf1c97f=new Set(_0x544f15[_0x418f7d(0x378)](_0x583273=>_0x583273[_0x418f7d(0x13f)])),_0x15b07f=[],_0x12e3a5=[];for(let _0x3c641c of _0x3fcb15){if(!_0x3c641c['_id'])continue;_0x3c641c['_id']=this[_0x418f7d(0x616)](_0x3c641c[_0x418f7d(0x13f)]);let _0x49d27e=await this[_0x418f7d(0x45b)][_0x418f7d(0x1ad)][_0x418f7d(0x2ff)]({'where':{'_id':_0x3c641c[_0x418f7d(0x13f)]}},this[_0x418f7d(0x281)]['wuid']),_0x137691={};if(Object['entries'](_0x3c641c[_0x418f7d(0x444)])[_0x418f7d(0x2ed)](([_0x1ecfb8,_0xa9d1d3])=>{const _0x702734=_0x418f7d;_0x137691[_0x702734(0x5e0)+_0x1ecfb8]=_0xa9d1d3;}),_0x49d27e&&!_0x49d27e['imported']){let _0x2d5208=(_0x3c641c[_0x418f7d(0x444)][_0x418f7d(0x54d)]||[])[_0x418f7d(0x4bb)](_0x4de03c=>_0xf1c97f[_0x418f7d(0x59e)](_0x4de03c)),_0x58f667=new Set(_0x49d27e['leadInfo'][_0x418f7d(0x54d)]||[]),_0x4ad08f=_0x2d5208[_0x418f7d(0x4bb)](_0x5600dc=>!_0x58f667['has'](_0x5600dc)),_0x365515=[..._0x58f667]['filter'](_0x246716=>!_0x2d5208[_0x418f7d(0x3e8)](_0x246716));_0x12e3a5[_0x418f7d(0x5aa)](..._0x4ad08f[_0x418f7d(0x378)](_0x33bd9f=>this[_0x418f7d(0x445)](_0x33bd9f,_0x3c641c[_0x418f7d(0x13f)]))),_0x12e3a5[_0x418f7d(0x5aa)](..._0x365515[_0x418f7d(0x378)](_0x45fe44=>this[_0x418f7d(0x517)](_0x45fe44,_0x3c641c[_0x418f7d(0x13f)]))),_0x3c641c[_0x418f7d(0x444)]['etiquetas']=_0x2d5208,_0x15b07f['push']({'query':{'where':{'_id':_0x3c641c[_0x418f7d(0x13f)],'owner':this[_0x418f7d(0x281)]['wuid']}},'update':_0x137691});}else _0x137691[_0x418f7d(0x249)]=!0x0,_0x15b07f['push']({'query':{'where':{'_id':_0x3c641c[_0x418f7d(0x13f)],'owner':this[_0x418f7d(0x281)][_0x418f7d(0x697)]}},'update':_0x137691});}let _0x1272cc=await this[_0x418f7d(0x45b)][_0x418f7d(0x1ad)][_0x418f7d(0x1d7)](_0x15b07f);return await Promise[_0x418f7d(0x2ef)](_0x12e3a5),{'updated':_0x1272cc};}catch(_0x9893de){throw console['error'](_0x418f7d(0x502),_0x9893de),_0x9893de;}}async[a0_0x2530f3(0x56a)](){const _0xd3e60b=a0_0x2530f3;return await this[_0xd3e60b(0x4dd)][_0xd3e60b(0x56a)]();}async[a0_0x2530f3(0x167)](_0x11ae15){const _0x4f766a=a0_0x2530f3;try{return await this[_0x4f766a(0x4dd)]['updateReadReceiptsPrivacy'](_0x11ae15['privacySettings'][_0x4f766a(0x5c1)]),await this[_0x4f766a(0x4dd)][_0x4f766a(0x579)](_0x11ae15[_0x4f766a(0xd4)]['profile']),await this['client'][_0x4f766a(0x632)](_0x11ae15[_0x4f766a(0xd4)][_0x4f766a(0x64f)]),await this[_0x4f766a(0x4dd)][_0x4f766a(0x53a)](_0x11ae15[_0x4f766a(0xd4)]['online']),await this['client'][_0x4f766a(0x1bd)](_0x11ae15[_0x4f766a(0xd4)]['last']),await this[_0x4f766a(0x4dd)]['updateGroupsAddPrivacy'](_0x11ae15[_0x4f766a(0xd4)][_0x4f766a(0x55b)]),this[_0x4f766a(0x4dd)]?.['ws']?.[_0x4f766a(0x16c)](),{'update':_0x4f766a(0x643),'data':{'readreceipts':_0x11ae15[_0x4f766a(0xd4)]['readreceipts'],'profile':_0x11ae15[_0x4f766a(0xd4)][_0x4f766a(0x48a)],'status':_0x11ae15[_0x4f766a(0xd4)]['status'],'online':_0x11ae15[_0x4f766a(0xd4)]['online'],'last':_0x11ae15[_0x4f766a(0xd4)][_0x4f766a(0x69d)],'groupadd':_0x11ae15[_0x4f766a(0xd4)][_0x4f766a(0x55b)]}};}catch(_0x15a6b1){throw new O('Error\x20updating\x20privacy\x20settings',_0x15a6b1[_0x4f766a(0x593)]());}}async[a0_0x2530f3(0xe7)](_0x38d689){const _0x15db0d=a0_0x2530f3;let _0x592a01=_0x38d689?this[_0x15db0d(0x616)](_0x38d689):this['client']?.['user']?.['id'];this[_0x15db0d(0xfb)]['verbose']('Getting\x20profile\x20with\x20jid:\x20'+_0x592a01);try{if(this[_0x15db0d(0xfb)]['verbose'](_0x15db0d(0xdb)),_0x38d689){let _0x63d598=(await this['whatsappNumber']({'numbers':[_0x592a01]}))?.['shift'](),_0x592696=await this[_0x15db0d(0x361)](_0x63d598?.['jid']),_0x436734=await this['getStatus'](_0x63d598?.['jid']),_0x57d3bf=await this[_0x15db0d(0x41c)](_0x63d598?.[_0x15db0d(0x53d)]);return{'wuid':_0x63d598?.[_0x15db0d(0x53d)]||_0x592a01,'name':_0x63d598?.[_0x15db0d(0x6c9)],'numberExists':_0x63d598?.[_0x15db0d(0x186)],'picture':_0x592696?.['profilePictureUrl'],'status':_0x436734?.[_0x15db0d(0x64f)],'isBusiness':_0x57d3bf[_0x15db0d(0x4b7)],'email':_0x57d3bf?.[_0x15db0d(0x3f7)],'description':_0x57d3bf?.[_0x15db0d(0x527)],'website':_0x57d3bf?.[_0x15db0d(0x324)]?.[_0x15db0d(0x604)]()};}}catch{return this[_0x15db0d(0xfb)][_0x15db0d(0x34d)]('Profile\x20not\x20found'),{'wuid':_0x592a01,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x2530f3(0x1c6)](_0x5b40a5){const _0x3226c5=a0_0x2530f3;let _0x327f97=(_0x5b40a5?this[_0x3226c5(0x616)](_0x5b40a5):this[_0x3226c5(0x4dd)]?.['user']?.['id'])[_0x3226c5(0x385)](/:\d{1,2}@/g,'@');this[_0x3226c5(0xfb)][_0x3226c5(0x34d)](_0x3226c5(0x320)+_0x327f97);let _0x13c109=await this[_0x3226c5(0x45b)][_0x3226c5(0x22f)]['findOne']({'where':{'_id':_0x327f97}},this[_0x3226c5(0x281)]['wuid']),_0x3842c9=_0x13c109?_0x13c109[_0x3226c5(0x62a)]:null;try{let _0xf4f670=(await this[_0x3226c5(0x4c4)]({'numbers':[_0x327f97]}))?.['shift'](),_0x1065f9=await this[_0x3226c5(0x361)](_0xf4f670?.[_0x3226c5(0x53d)]),_0x3469bf=await this[_0x3226c5(0x3ab)](_0xf4f670?.[_0x3226c5(0x53d)]),_0x3f2cf5=await this['fetchBusinessProfile'](_0xf4f670?.['jid']),_0x27f58e=await this[_0x3226c5(0x45b)][_0x3226c5(0x1ad)][_0x3226c5(0x2ff)]({'where':{'_id':_0x327f97}},this['instance']['wuid']),_0x1c2df5={'imagechat':_0x1065f9?.[_0x3226c5(0x45a)],'contactname':_0x3842c9||null,'status':_0x3469bf?.['status'],'isBusiness':_0x3f2cf5[_0x3226c5(0x4b7)],'email':_0x3f2cf5?.[_0x3226c5(0x3f7)],'description':_0x3f2cf5?.[_0x3226c5(0x527)],'website':_0x3f2cf5?.[_0x3226c5(0x324)]?.[_0x3226c5(0x604)](),'lastcache':Date[_0x3226c5(0x3d0)](),'imported':!_0x27f58e},_0x113bfb=await this['repository'][_0x3226c5(0x1ad)][_0x3226c5(0x31a)]({'where':{'_id':_0x327f97}},_0x1c2df5,this[_0x3226c5(0x281)][_0x3226c5(0x697)]),_0x4af990={'owner':this['instance'][_0x3226c5(0x697)],'_id':_0x327f97,'profilePictureUrl':_0x1065f9?.['profilePictureUrl'],'status':_0x3469bf?.[_0x3226c5(0x64f)]};return this[_0x3226c5(0x45b)][_0x3226c5(0x22f)][_0x3226c5(0xc3)]([_0x4af990],this[_0x3226c5(0x281)][_0x3226c5(0x697)]),_0x113bfb&&J(this[_0x3226c5(0x67f)],_0x3226c5(0x1ec),{'chat':_0x113bfb}),{'wuid':_0xf4f670?.[_0x3226c5(0x53d)]||_0x327f97,'name':_0xf4f670?.['name'],'numberExists':_0xf4f670?.['exists'],'picture':_0x1065f9?.[_0x3226c5(0x45a)],'status':_0x3469bf?.[_0x3226c5(0x64f)],'isBusiness':_0x3f2cf5['isBusiness'],'email':_0x3f2cf5?.['email'],'description':_0x3f2cf5?.[_0x3226c5(0x527)],'website':_0x3f2cf5?.[_0x3226c5(0x324)]?.[_0x3226c5(0x604)]()};}catch(_0x4bfddc){return this[_0x3226c5(0xfb)][_0x3226c5(0x426)](_0x3226c5(0x441)+(_0x4bfddc instanceof Error?_0x4bfddc[_0x3226c5(0x335)]:JSON[_0x3226c5(0x6d5)](_0x4bfddc,null,0x2))),{};}}async[a0_0x2530f3(0x41c)](_0x1a2947){const _0x2fbcfa=a0_0x2530f3;this[_0x2fbcfa(0xfb)][_0x2fbcfa(0x34d)](_0x2fbcfa(0x577));try{let _0x299510=_0x1a2947?this[_0x2fbcfa(0x616)](_0x1a2947):this[_0x2fbcfa(0x281)][_0x2fbcfa(0x697)],_0x3cf2f0=await this[_0x2fbcfa(0x4dd)][_0x2fbcfa(0x141)](_0x299510);return this['logger']['verbose']('Trying\x20to\x20get\x20business\x20profile'),_0x3cf2f0?(this['logger']['verbose'](_0x2fbcfa(0x1ef)),{'isBusiness':!0x0,..._0x3cf2f0}):{'isBusiness':!0x1,'message':_0x2fbcfa(0x563),...(await this[_0x2fbcfa(0x4c4)]({'numbers':[_0x299510]}))?.[_0x2fbcfa(0x604)]()};}catch(_0x550ea9){throw new O(_0x2fbcfa(0x485),_0x550ea9[_0x2fbcfa(0x593)]());}}async[a0_0x2530f3(0x3ab)](_0x1c01b5){const _0x36ea82=a0_0x2530f3;let _0xb7168f=this[_0x36ea82(0x616)](_0x1c01b5);try{return{'wuid':_0xb7168f,'status':(await this[_0x36ea82(0x4dd)][_0x36ea82(0x56d)](_0xb7168f))?.['status']};}catch{return{'wuid':_0xb7168f,'status':null};}}async[a0_0x2530f3(0x4c0)](_0x227598){const _0x6e110c=a0_0x2530f3;try{return await this['client']['updateProfileName'](_0x227598),{'update':'success'};}catch(_0x95ee3a){throw new O(_0x6e110c(0x485),_0x95ee3a[_0x6e110c(0x593)]());}}async[a0_0x2530f3(0x5fd)](_0x20b4a){const _0x426992=a0_0x2530f3;try{return await this[_0x426992(0x4dd)][_0x426992(0x5fd)](_0x20b4a),{'update':'success'};}catch(_0x2b4688){throw new O(_0x426992(0x2a5),_0x2b4688[_0x426992(0x593)]());}}async[a0_0x2530f3(0x3aa)](_0x28204b){const _0x5b5bb0=a0_0x2530f3;try{let _0x57bb5d;if((0x0,k[_0x5b5bb0(0x62d)])(_0x28204b)){let _0x9924fd=new Date()['getTime'](),_0x382d06=_0x28204b+_0x5b5bb0(0x5ed)+_0x9924fd;_0x57bb5d=(await se[_0x5b5bb0(0x22c)]['get'](_0x382d06,{'responseType':_0x5b5bb0(0x707)}))[_0x5b5bb0(0x59a)];}else{if((0x0,k[_0x5b5bb0(0x153)])(_0x28204b))_0x57bb5d=Buffer['from'](_0x28204b,_0x5b5bb0(0x65b));else throw new m(_0x5b5bb0(0x1aa));}return await this['client']['updateProfilePicture'](this['instance']['wuid'],_0x57bb5d),{'update':_0x5b5bb0(0x643)};}catch(_0x2c91a4){throw new O(_0x5b5bb0(0xe1),_0x2c91a4[_0x5b5bb0(0x593)]());}}async['removeProfilePicture'](){const _0xafdd2f=a0_0x2530f3;try{return await this[_0xafdd2f(0x4dd)]['removeProfilePicture'](this[_0xafdd2f(0x281)][_0xafdd2f(0x697)]),{'update':_0xafdd2f(0x643)};}catch(_0x11202){throw new O('Error\x20removing\x20profile\x20picture',_0x11202['toString']());}}async[a0_0x2530f3(0x5c6)](_0xf70da7){const _0x5d6e9c=a0_0x2530f3;try{let _0x44460f=_0xf70da7[_0x5d6e9c(0x6dd)][_0x5d6e9c(0x378)](_0x34b93f=>this[_0x5d6e9c(0x616)](_0x34b93f)),{id:_0x171fcb}=await this['client'][_0x5d6e9c(0x114)](_0xf70da7['subject'],_0x44460f);return _0xf70da7?.[_0x5d6e9c(0x527)]&&await this[_0x5d6e9c(0x4dd)]['groupUpdateDescription'](_0x171fcb,_0xf70da7[_0x5d6e9c(0x527)]),{'metadata':await this[_0x5d6e9c(0x4dd)][_0x5d6e9c(0xbc)](_0x171fcb)};}catch(_0x136fa3){throw this[_0x5d6e9c(0xfb)][_0x5d6e9c(0x426)](this['instanceName']+'\x20('+this[_0x5d6e9c(0x281)]['wuid']+_0x5d6e9c(0x359)+(_0x136fa3 instanceof Error?_0x136fa3[_0x5d6e9c(0x335)]:JSON[_0x5d6e9c(0x6d5)](_0x136fa3,null,0x2))),new O(_0x5d6e9c(0x12c),_0x136fa3['toString']());}}async[a0_0x2530f3(0x572)](_0x52d290){const _0x3f9f21=a0_0x2530f3;try{let _0x3f214c;if((0x0,k[_0x3f9f21(0x62d)])(_0x52d290[_0x3f9f21(0x612)])){let _0x347084=new Date()[_0x3f9f21(0x146)](),_0x36eb20=_0x52d290[_0x3f9f21(0x612)]+'?timestamp='+_0x347084;_0x3f214c=(await se[_0x3f9f21(0x22c)][_0x3f9f21(0x196)](_0x36eb20,{'responseType':_0x3f9f21(0x707)}))[_0x3f9f21(0x59a)];}else{if((0x0,k[_0x3f9f21(0x153)])(_0x52d290[_0x3f9f21(0x612)]))_0x3f214c=Buffer['from'](_0x52d290[_0x3f9f21(0x612)],_0x3f9f21(0x65b));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client']['updateProfilePicture'](_0x52d290[_0x3f9f21(0x2e6)],_0x3f214c),{'update':_0x3f9f21(0x643)};}catch(_0x28eb48){throw new O(_0x3f9f21(0x229),_0x28eb48[_0x3f9f21(0x593)]());}}async[a0_0x2530f3(0x6ea)](_0x414283,_0x51780e='out'){const _0xeb8b51=a0_0x2530f3;try{let _0x265d1f=await this[_0xeb8b51(0x4dd)][_0xeb8b51(0xbc)](_0x414283[_0xeb8b51(0x2e6)]),_0x4c769c=null;try{_0x4c769c=(await this[_0xeb8b51(0x361)](_0x414283[_0xeb8b51(0x2e6)]))['profilePictureUrl'];}catch(_0x4aed16){this[_0xeb8b51(0xfb)][_0xeb8b51(0x34d)](this['instanceName']+'\x20('+this[_0xeb8b51(0x281)][_0xeb8b51(0x697)]+_0xeb8b51(0xcb)+_0x414283[_0xeb8b51(0x2e6)]+':\x20'+(_0x4aed16 instanceof Error?_0x4aed16[_0xeb8b51(0x335)]:JSON[_0xeb8b51(0x6d5)](_0x4aed16,null,0x2)));}let _0x1dc002=await this['repository'][_0xeb8b51(0x1ad)][_0xeb8b51(0x31a)]({'where':{'_id':_0x414283[_0xeb8b51(0x2e6)]}},{'imagechat':_0x4c769c,'name':_0x265d1f[_0xeb8b51(0x243)],'group_size':_0x265d1f[_0xeb8b51(0x493)],'group_announce':_0x265d1f['announce'],'lastcache':Date[_0xeb8b51(0x3d0)]()},this[_0xeb8b51(0x281)][_0xeb8b51(0x697)]);return _0x1dc002&&J(this[_0xeb8b51(0x67f)],'chats',{'chat':_0x1dc002}),{'metadata':_0x265d1f,'image':_0x4c769c};}catch(_0x5f4019){if(_0x51780e==='inner')return;throw new j(_0xeb8b51(0x2d4),_0x5f4019[_0xeb8b51(0x593)]());}}async[a0_0x2530f3(0x137)](_0x294950){const _0x1f49a9=a0_0x2530f3;try{return await this[_0x1f49a9(0x4dd)][_0x1f49a9(0x447)](_0x294950['groupJid'],_0x294950[_0x1f49a9(0x527)]),{'update':_0x1f49a9(0x643)};}catch(_0x32ca78){throw new O('Error\x20change\x20group\x20description',_0x32ca78[_0x1f49a9(0x593)]());}}async[a0_0x2530f3(0x58a)](_0x3398d3){const _0x447ca9=a0_0x2530f3;try{return await this['client'][_0x447ca9(0x5bd)](_0x3398d3['groupJid'],_0x3398d3[_0x447ca9(0x6c9)]),{'update':'success'};}catch(_0x1388e4){throw new O('Error\x20change\x20group\x20name',_0x1388e4[_0x447ca9(0x593)]());}}async['groupSetting'](_0x44cec2){const _0x30930d=a0_0x2530f3;try{return await this[_0x30930d(0x4dd)][_0x30930d(0x5bf)](_0x44cec2[_0x30930d(0x2e6)],_0x44cec2['setting']),{'update':'success'};}catch(_0x3d4705){throw new O(_0x30930d(0x396),_0x3d4705[_0x30930d(0x593)]());}}async[a0_0x2530f3(0x1d9)](){const _0x1af1f1=a0_0x2530f3;try{let _0x3014ec=[],_0x479065=await this['client']['groupFetchAllParticipating'](),_0x5e5796=Object['values'](_0x479065),_0x590510=_0x5e5796[_0x1af1f1(0x4bb)](_0xec6298=>(0x0,y[_0x1af1f1(0x64a)])(_0xec6298?.['id']))['map'](async _0x3880fa=>{const _0x45598d=_0x1af1f1;try{return await this['client'][_0x45598d(0x45a)](_0x3880fa['id'],_0x45598d(0x1b1));}catch(_0x2d9139){return this[_0x45598d(0xfb)][_0x45598d(0x34d)](this[_0x45598d(0x67f)]+'\x20('+this['instance'][_0x45598d(0x697)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x3880fa['id']+':\x20'+(_0x2d9139 instanceof Error?_0x2d9139[_0x45598d(0x335)]:JSON[_0x45598d(0x6d5)](_0x2d9139,null,0x2))),null;}}),_0x44f02e=await Promise[_0x1af1f1(0x2ef)](_0x590510);for(let _0x26314f=0x0;_0x26314f<_0x5e5796[_0x1af1f1(0x66c)];_0x26314f++){let _0x27c55c=_0x5e5796[_0x26314f];(0x0,y[_0x1af1f1(0x64a)])(_0x27c55c?.['id'])&&_0x3014ec['push']({'groupJid':_0x27c55c?.['id'],'subject':_0x27c55c?.[_0x1af1f1(0x243)],'subjectOwner':_0x27c55c?.[_0x1af1f1(0x15a)]?.[_0x1af1f1(0x551)]('@')[0x0],'subjectTime':_0x27c55c?.['subjectTime'],'size':_0x27c55c?.[_0x1af1f1(0x6dd)]?.['length'],'owner':_0x27c55c?.[_0x1af1f1(0x50f)]?.[_0x1af1f1(0x551)]('@')[0x0],'creation':_0x27c55c?.[_0x1af1f1(0x14a)],'desc':_0x27c55c?.[_0x1af1f1(0x1a5)],'restrict':_0x27c55c?.['restrict'],'announce':_0x27c55c?.[_0x1af1f1(0x122)],'image':_0x44f02e[_0x26314f]});}return _0x3014ec;}catch(_0x1cc073){throw new j(_0x1af1f1(0x2d4),_0x1cc073[_0x1af1f1(0x593)]());}}async[a0_0x2530f3(0x691)](_0x3b6ab9){const _0x23cc75=a0_0x2530f3;try{let _0x382e5e=await this[_0x23cc75(0x4dd)][_0x23cc75(0x32c)](_0x3b6ab9[_0x23cc75(0x2e6)]);return{'inviteUrl':_0x23cc75(0x2b8)+_0x382e5e,'inviteCode':_0x382e5e};}catch(_0x11587b){throw new j(_0x23cc75(0x172),_0x11587b[_0x23cc75(0x593)]());}}async[a0_0x2530f3(0x1f1)](_0x511c05){const _0xd4c27f=a0_0x2530f3;try{let _0x686ad1=await this[_0xd4c27f(0x4dd)][_0xd4c27f(0x599)](_0x511c05['groupJid']);return{'revoked':!0x0,'inviteUrl':_0xd4c27f(0x2b8)+_0x686ad1,'inviteCode':_0x686ad1};}catch(_0x552ab4){throw new j(_0xd4c27f(0x5c9),_0x552ab4[_0xd4c27f(0x593)]());}}async['joinGroup'](_0x262c53){const _0x2dcde2=a0_0x2530f3;try{if((0x0,k[_0x2dcde2(0x62d)])(_0x262c53[_0x2dcde2(0x691)]))var _0x231419=_0x262c53[_0x2dcde2(0x691)]['split']('/')[0x3];else var _0x231419=_0x262c53['inviteCode'];let _0x352c96=await this['client'][_0x2dcde2(0x4ca)](_0x231419);return this[_0x2dcde2(0xfb)][_0x2dcde2(0x34d)](this['instanceName']+'\x20('+this[_0x2dcde2(0x281)][_0x2dcde2(0x697)]+_0x2dcde2(0x359)+_0x352c96),{'join':!0x0,'inviteCode':_0x231419,'groupJid':_0x352c96};}catch(_0x217700){throw new j(_0x2dcde2(0x631),_0x217700[_0x2dcde2(0x593)]());}}async[a0_0x2530f3(0x487)](_0x5d0f34){const _0x222948=a0_0x2530f3;try{return{'participants':(await this[_0x222948(0x4dd)]['groupMetadata'](_0x5d0f34[_0x222948(0x2e6)]))[_0x222948(0x6dd)]};}catch(_0x40e74f){throw new j(_0x222948(0x59f),_0x40e74f[_0x222948(0x593)]());}}async[a0_0x2530f3(0x4db)](_0x2d5fc5){const _0x1df02f=a0_0x2530f3;try{let _0xfb973a=_0x2d5fc5[_0x1df02f(0x6dd)]['map'](_0x4960d4=>this[_0x1df02f(0x616)](_0x4960d4));return{'updateParticipants':await this[_0x1df02f(0x4dd)][_0x1df02f(0x641)](_0x2d5fc5['groupJid'],_0xfb973a,_0x2d5fc5['action'])};}catch(_0x4f7cf3){throw new m('Error\x20updating\x20participants',_0x4f7cf3['toString']());}}async[a0_0x2530f3(0x25a)](_0x332d85){const _0x4b2d43=a0_0x2530f3;try{let _0x289a39=await this['client'][_0x4b2d43(0x6cb)](_0x332d85[_0x4b2d43(0x2e6)],_0x332d85[_0x4b2d43(0x446)]);return{'success':!0x0};}catch(_0x456416){throw new m(_0x4b2d43(0x600),_0x456416[_0x4b2d43(0x593)]());}}async[a0_0x2530f3(0x336)](_0x330629){const _0x2f2424=a0_0x2530f3;try{return await this[_0x2f2424(0x4dd)][_0x2f2424(0x3e0)](_0x330629[_0x2f2424(0x2e6)]),{'groupJid':_0x330629[_0x2f2424(0x2e6)],'leave':!0x0};}catch(_0x468106){throw new m(_0x2f2424(0x22d),_0x468106[_0x2f2424(0x593)]());}}async[a0_0x2530f3(0xa9)](_0x2faa73){const _0x5692dd=a0_0x2530f3;return await this[_0x5692dd(0x1d0)](_0x2faa73[_0x5692dd(0x399)],{'poll':{'name':_0x2faa73[_0x5692dd(0xa9)]?.[_0x5692dd(0x6c9)],'selectableCount':_0x2faa73['pollMessage']['selectableCount'],'values':_0x2faa73['pollMessage'][_0x5692dd(0x610)]}},_0x2faa73?.['options']);}async[a0_0x2530f3(0x48b)](_0x497bf7){const _0x24daf3=a0_0x2530f3;return await this[_0x24daf3(0x1d0)](_0x497bf7[_0x24daf3(0x399)],{'listMessage':{'title':_0x497bf7[_0x24daf3(0x48b)][_0x24daf3(0xa8)],'description':_0x497bf7['listMessage'][_0x24daf3(0x527)],'buttonText':_0x497bf7[_0x24daf3(0x48b)]?.[_0x24daf3(0x395)],'footerText':_0x497bf7[_0x24daf3(0x48b)]?.['footerText'],'sections':_0x497bf7[_0x24daf3(0x48b)][_0x24daf3(0xb4)],'listType':0x2}},_0x497bf7?.['options']);}async[a0_0x2530f3(0x4b3)](_0x233f91){const _0x25f67f=a0_0x2530f3;let _0x5723e7;if(_0x233f91[_0x25f67f(0x4b3)][_0x25f67f(0x101)]==='list'){let _0x1f1c66=_0x233f91[_0x25f67f(0x4b3)][_0x25f67f(0x30c)]['indexOf']('\x0a'),_0x54a857='',_0xb78ca0='';_0x1f1c66!==-0x1?(_0x54a857=_0x233f91[_0x25f67f(0x4b3)][_0x25f67f(0x30c)][_0x25f67f(0x386)](0x0,_0x1f1c66)[_0x25f67f(0x308)](),_0xb78ca0=_0x233f91[_0x25f67f(0x4b3)][_0x25f67f(0x30c)]['substring'](_0x1f1c66+0x1)):_0xb78ca0=_0x233f91['menuMessage']['text'];let _0x4b0148=this[_0x25f67f(0x695)](_0x233f91[_0x25f67f(0x4b3)][_0x25f67f(0x53c)]);_0x5723e7={'listMessage':{'title':_0x54a857,'description':_0xb78ca0,'buttonText':_0x233f91[_0x25f67f(0x4b3)][_0x25f67f(0x395)]||_0x25f67f(0x190),'footerText':_0x233f91[_0x25f67f(0x4b3)]['footerText'],'sections':_0x4b0148,'listType':0x2}};}else{if(_0x233f91[_0x25f67f(0x4b3)]['type']===_0x25f67f(0xf6)){let _0x4f3fa2=_0x233f91[_0x25f67f(0x4b3)][_0x25f67f(0x53c)][_0x25f67f(0x4bb)](_0x253529=>!(_0x253529[_0x25f67f(0x301)]('[')&&_0x253529[_0x25f67f(0x1a9)](']')))[_0x25f67f(0x378)](_0xd1f00b=>_0xd1f00b[_0x25f67f(0x551)]('\x0a')[0x0]);_0x5723e7={'poll':{'name':_0x233f91[_0x25f67f(0x4b3)][_0x25f67f(0x30c)],'selectableCount':_0x233f91[_0x25f67f(0x4b3)][_0x25f67f(0x2fd)]||0x1,'values':_0x4f3fa2}};}}return await this[_0x25f67f(0x1d0)](_0x233f91[_0x25f67f(0x399)],_0x5723e7,_0x233f91?.[_0x25f67f(0x19f)]);}[a0_0x2530f3(0x695)](_0x26a35f){const _0x26f821=a0_0x2530f3;let _0x426272=[],_0x509287={'rows':[]};return _0x26a35f[_0x26f821(0x2ed)](_0xda0b3d=>{const _0xa1f1f7=_0x26f821;if(_0xda0b3d[_0xa1f1f7(0x301)]('[')&&_0xda0b3d[_0xa1f1f7(0x1a9)](']'))_0x509287[_0xa1f1f7(0x4ad)][_0xa1f1f7(0x66c)]>0x0&&_0x426272['push'](_0x509287),_0x509287={'title':_0xda0b3d['slice'](0x1,-0x1),'rows':[]};else{let _0x18cd7a=_0xda0b3d['split']('\x0a')[_0xa1f1f7(0x378)](_0x18c212=>_0x18c212['trim']()),_0x5da0b7=_0x18cd7a[0x0],_0x577425=_0x18cd7a[0x1]||null,_0x506751=_0x18cd7a[0x2]||_0x5da0b7;_0x509287['rows']['push']({'title':_0x5da0b7,'description':_0x577425,'rowId':_0x506751});}}),_0x509287[_0x26f821(0x4ad)][_0x26f821(0x66c)]>0x0&&_0x426272[_0x26f821(0x5aa)](_0x509287),_0x426272;}async['updateMessage'](_0x151922,_0x103880){const _0x360255=a0_0x2530f3;if(await this[_0x360255(0x4ab)](_0x151922,!0x0)){let _0x3dbd7a={'where':{'_id':_0x151922['id']}},_0x40dc10={'status':[_0x103880['status']][0x0]};try{let _0x55a430=await this['repository']['message'][_0x360255(0xc3)](_0x3dbd7a,_0x40dc10,this[_0x360255(0x281)][_0x360255(0x697)]);_0x55a430&&J(this[_0x360255(0x67f)],_0x360255(0x477),{'message':_0x55a430});}catch{}}}['sectionsToString'](_0x27f8d5){const _0x39c693=a0_0x2530f3;let _0x24a62f=[];return _0x27f8d5[_0x39c693(0x2ed)](_0x5b618a=>{const _0x1bc804=_0x39c693;_0x5b618a[_0x1bc804(0xa8)]&&_0x24a62f[_0x1bc804(0x5aa)]('['+_0x5b618a[_0x1bc804(0xa8)]+']'),_0x5b618a[_0x1bc804(0x4ad)][_0x1bc804(0x2ed)](_0x51e312=>{const _0x508994=_0x1bc804;_0x24a62f[_0x508994(0x5aa)](_0x51e312[_0x508994(0xa8)]);});}),_0x24a62f[_0x39c693(0x42a)]('|');}[a0_0x2530f3(0x6f6)](_0x4dcb8e){const _0x34cf45=a0_0x2530f3;let _0x593697=_0x4dcb8e[_0x34cf45(0x385)](/\\n/g,'\x0a')[_0x34cf45(0x551)]('\x0a')[_0x34cf45(0x4bb)](_0x2ebf0d=>_0x2ebf0d[_0x34cf45(0x3e8)](_0x34cf45(0x454))||_0x2ebf0d[_0x34cf45(0x3e8)](_0x34cf45(0x6b2))),_0x51c95a='';return _0x593697[_0x34cf45(0x2ed)](_0x45ccad=>{const _0x4ced5f=_0x34cf45;let _0x159e45=/TEL(?:.*):(.+)/,_0x1a88a8=/EMAIL(?:.*):(.+)/,_0x39684e=_0x45ccad[_0x4ced5f(0x26e)](_0x159e45),_0x179015=_0x45ccad[_0x4ced5f(0x26e)](_0x1a88a8);if(_0x39684e){let _0x3ed1f9=_0x39684e[0x1][_0x4ced5f(0x385)](/-| |\+|\(|\)/g,'')['trim']();_0x51c95a+=_0x4ced5f(0x4f1)+_0x3ed1f9+'\x0a';}else{if(_0x179015){let _0x5cdad2=_0x179015[0x1][_0x4ced5f(0x308)]();_0x51c95a+=_0x4ced5f(0x38e)+_0x5cdad2+'\x0a';}}}),_0x51c95a[_0x34cf45(0x308)]();}async[a0_0x2530f3(0x461)](_0x4101b1,_0x41675c,_0x3b80f7){const _0x4b57a7=a0_0x2530f3;if(!_0x4101b1['ENABLED'])return;let _0x2b04a2=_0x41675c[_0x4b57a7(0x58b)][_0x4b57a7(0x596)][_0x4b57a7(0x385)](/:\d{1,2}@/g,'@'),_0x424d25=_0x41675c[_0x4b57a7(0x58b)][_0x4b57a7(0x139)],_0x348dcd=_0x2b04a2['endsWith'](_0x4b57a7(0x284)),_0x482c2f=_0x41675c[_0x4b57a7(0x603)]?.[_0x4b57a7(0x30c)]||_0x41675c[_0x4b57a7(0x603)]?.[_0x4b57a7(0x14b)]||_0x41675c[_0x4b57a7(0x603)]?.[_0x4b57a7(0x36f)]||_0x41675c[_0x4b57a7(0x603)]?.[_0x4b57a7(0x6c9)],_0x25c207={'lastmsg':_0x41675c[_0x4b57a7(0x595)]||Date[_0x4b57a7(0x3d0)](),'unreadcount':_0x424d25?0x0:0x1,..._0x424d25||_0x348dcd?{}:{'name':_0x41675c[_0x4b57a7(0x62a)]},..._0x348dcd?{'group':_0x348dcd}:{}},_0x123e6d=await this[_0x4b57a7(0x45b)][_0x4b57a7(0x1ad)][_0x4b57a7(0x31a)]({'where':{'_id':_0x2b04a2}},_0x25c207,this[_0x4b57a7(0x281)][_0x4b57a7(0x697)],{'new':!0x0,'upsert':!0x0});if(_0x123e6d['imported']){let _0x47dc76=await this[_0x4b57a7(0x45b)][_0x4b57a7(0x157)][_0x4b57a7(0x44c)]({'where':{}},this['instance'][_0x4b57a7(0x697)]),_0x180731=new Set(_0x47dc76['map'](_0x28d20f=>_0x28d20f['_id'])),_0x18294e=(_0x123e6d['leadInfo']?.[_0x4b57a7(0x54d)]||[])[_0x4b57a7(0x4bb)](_0x53f00a=>_0x180731[_0x4b57a7(0x59e)](_0x53f00a)),_0x34534b={'leadInfo.etiquetas':_0x18294e,'imported':!0x1};_0x123e6d=await this[_0x4b57a7(0x45b)][_0x4b57a7(0x1ad)][_0x4b57a7(0x31a)]({'where':{'_id':_0x2b04a2}},_0x34534b,this[_0x4b57a7(0x281)][_0x4b57a7(0x697)]);for(let _0x1d2773 of _0x18294e)await this['AddChatLabel'](_0x1d2773,_0x2b04a2);}if(!_0x348dcd&&(!_0x123e6d?.[_0x4b57a7(0x444)]||!_0x123e6d[_0x4b57a7(0x444)][_0x4b57a7(0x2f1)])&&_0x41675c[_0x4b57a7(0x62a)]&&!_0x424d25&&(_0x123e6d=await this[_0x4b57a7(0x45b)][_0x4b57a7(0x1ad)][_0x4b57a7(0x31a)]({'where':{'_id':_0x2b04a2}},{'leadInfo.nome':_0x41675c[_0x4b57a7(0x62a)]},this[_0x4b57a7(0x281)][_0x4b57a7(0x697)],{'new':!0x0,'upsert':!0x0})),_0x3b80f7===_0x4b57a7(0x23d)&&_0x424d25&&this[_0x4b57a7(0x5e2)]?.['flowConfig'][_0x4b57a7(0x23f)]&&!_0x482c2f['startsWith'](this[_0x4b57a7(0x5e2)]?.[_0x4b57a7(0x4ae)][_0x4b57a7(0x5a6)])){let _0x500539=(this[_0x4b57a7(0x5e2)]?.['flowConfig'][_0x4b57a7(0x3c8)]||0x5)*0xea60,_0x3a8b98=Date[_0x4b57a7(0x3d0)]()+_0x500539;_0x123e6d?.['leadInfo']?.[_0x4b57a7(0x2b4)]===0x0||(await this['repository'][_0x4b57a7(0x1ad)][_0x4b57a7(0x31a)]({'where':{'_id':_0x2b04a2}},{'leadInfo.desativadoFluxoAte':_0x3a8b98},this[_0x4b57a7(0x281)]['wuid'],{'new':!0x0,'upsert':!0x1}),this[_0x4b57a7(0xfb)][_0x4b57a7(0x34d)](this[_0x4b57a7(0x67f)]+'\x20('+this['instance'][_0x4b57a7(0x697)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x3a8b98+'.'));}if(_0x123e6d)J(this['instanceName'],_0x4b57a7(0x1ec),{'chat':_0x123e6d});else{this['logger']['error'](this['instanceName']+'\x20('+this[_0x4b57a7(0x281)][_0x4b57a7(0x697)]+_0x4b57a7(0x376));return;}if(!this[_0x4b57a7(0x5e2)]?.[_0x4b57a7(0x4ae)][_0x4b57a7(0x23f)])return this[_0x4b57a7(0xfb)][_0x4b57a7(0x34d)](this[_0x4b57a7(0x67f)]+'\x20('+this[_0x4b57a7(0x281)][_0x4b57a7(0x697)]+_0x4b57a7(0x5fa)),null;if(_0x123e6d['_id'][_0x4b57a7(0x3e8)](_0x4b57a7(0x284))&&this[_0x4b57a7(0x5e2)]?.[_0x4b57a7(0x4ae)][_0x4b57a7(0x220)]===!0x0)return this[_0x4b57a7(0xfb)][_0x4b57a7(0x34d)](this[_0x4b57a7(0x67f)]+'\x20('+this[_0x4b57a7(0x281)][_0x4b57a7(0x697)]+_0x4b57a7(0x256)),null;if(_0x123e6d[_0x4b57a7(0x444)]){if(_0x123e6d[_0x4b57a7(0x444)]['desativadoFluxoAte']===0x0||_0x123e6d[_0x4b57a7(0x444)][_0x4b57a7(0x524)])return this[_0x4b57a7(0xfb)][_0x4b57a7(0x34d)](this['instanceName']+'\x20('+this[_0x4b57a7(0x281)][_0x4b57a7(0x697)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x2b04a2+',\x20saindo.'),null;if(_0x123e6d[_0x4b57a7(0x444)]['desativadoFluxoAte']>Date[_0x4b57a7(0x3d0)]()&&!_0x41675c['message_normalized']?.[_0x4b57a7(0x36f)])return this[_0x4b57a7(0xfb)][_0x4b57a7(0x34d)](this[_0x4b57a7(0x67f)]+'\x20('+this[_0x4b57a7(0x281)][_0x4b57a7(0x697)]+_0x4b57a7(0x3db)+new Date(_0x123e6d[_0x4b57a7(0x444)]['desativadoFluxoAte'])[_0x4b57a7(0xf0)]()+_0x4b57a7(0x1a1)),null;}this[_0x4b57a7(0xfb)][_0x4b57a7(0x34d)](this[_0x4b57a7(0x67f)]+'\x20('+this[_0x4b57a7(0x281)][_0x4b57a7(0x697)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x4b57a7(0x21c)](_0x3b80f7,_0x41675c);}async['upsertChats'](_0x12faa8,_0x98103d){const _0x5a277e=a0_0x2530f3;if(_0x98103d[_0x5a277e(0x6ef)]){let _0x2fbf4a=_0x12faa8[_0x5a277e(0x378)](async _0x10b714=>{const _0x41dcea=_0x5a277e;try{let _0x5e1aa3={'_id':_0x10b714[_0x41dcea(0x13f)],'owner':_0x10b714[_0x41dcea(0x50f)],'lastcache':0x0};if(_0x10b714[_0x41dcea(0x116)]!==null&&(_0x5e1aa3['group']=_0x10b714[_0x41dcea(0x116)]),_0x10b714[_0x41dcea(0x6c9)]!==null&&(_0x5e1aa3[_0x41dcea(0x6c9)]=_0x10b714['name']),_0x10b714[_0x41dcea(0x12e)]!==null&&(_0x5e1aa3[_0x41dcea(0x12e)]=_0x10b714[_0x41dcea(0x12e)]),_0x10b714[_0x41dcea(0x654)]!==null&&(_0x5e1aa3[_0x41dcea(0x654)]=_0x10b714[_0x41dcea(0x654)]),_0x10b714['imagechat']===null&&(_0x5e1aa3[_0x41dcea(0x654)]=_0x41dcea(0x160)),_0x10b714[_0x41dcea(0x33d)]!==null&&(_0x5e1aa3[_0x41dcea(0x33d)]=_0x10b714[_0x41dcea(0x33d)]),_0x10b714['archived']!==null&&(_0x5e1aa3[_0x41dcea(0x6ad)]=_0x10b714[_0x41dcea(0x6ad)]),_0x10b714[_0x41dcea(0x57b)]!==null&&(_0x5e1aa3[_0x41dcea(0x57b)]=_0x10b714[_0x41dcea(0x57b)]),Object['keys'](_0x5e1aa3)[_0x41dcea(0x66c)]>0x0)return await this[_0x41dcea(0x45b)][_0x41dcea(0x1ad)]['updateOne']({'where':{'_id':_0x10b714[_0x41dcea(0x13f)]}},_0x5e1aa3,this[_0x41dcea(0x281)][_0x41dcea(0x697)]);}catch(_0x127378){return console[_0x41dcea(0x426)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x10b714['_id']+':',_0x127378),null;}}),_0x29cc26=(await Promise['all'](_0x2fbf4a))['filter'](_0x5f260d=>_0x5f260d!==null)[_0x5a277e(0x66c)];this[_0x5a277e(0xfb)]['verbose'](this[_0x5a277e(0x67f)]+'\x20('+this[_0x5a277e(0x281)][_0x5a277e(0x697)]+_0x5a277e(0x359)+_0x29cc26+_0x5a277e(0x3f1)+this[_0x5a277e(0x281)][_0x5a277e(0x697)]+_0x5a277e(0x60f));}}async[a0_0x2530f3(0x55f)](_0x5b317b){const _0x39617d=a0_0x2530f3;this[_0x39617d(0xfb)][_0x39617d(0x34d)](this[_0x39617d(0x67f)]+'\x20('+this[_0x39617d(0x281)][_0x39617d(0x697)]+_0x39617d(0x4e6));let _0xadf9da={'readMessages':[{'remoteJid':_0x5b317b[_0x39617d(0x19b)]['lastReceivedMessage'][_0x39617d(0x58b)][_0x39617d(0x596)],'fromMe':_0x5b317b[_0x39617d(0x19b)][_0x39617d(0x300)][_0x39617d(0x58b)]['fromMe'],'id':_0x5b317b[_0x39617d(0x19b)][_0x39617d(0x300)][_0x39617d(0x58b)]['id']}]};await this['markMessageAsRead'](_0xadf9da);}async[a0_0x2530f3(0x21c)](_0x41bb12,_0x19bec5){const _0x241137=a0_0x2530f3;try{let {key:_0x355398,message_normalized:_0x4f4c85}=_0x19bec5,_0x230510=_0x4f4c85,_0x2872eb=_0x4f4c85['text']||_0x4f4c85['caption']||_0x4f4c85[_0x241137(0x36f)]||_0x4f4c85['name'],_0x3f56cf=_0x355398[_0x241137(0x596)],_0x38cade;if(_0x230510['key']['fromMe']&&_0x2872eb[_0x241137(0x308)]()!==this[_0x241137(0x5e2)]?.[_0x241137(0x4ae)][_0x241137(0x5a3)][_0x241137(0x308)]())return this[_0x241137(0xfb)][_0x241137(0x34d)](this[_0x241137(0x67f)]+'\x20('+this[_0x241137(0x281)][_0x241137(0x697)]+_0x241137(0x198)),null;if(_0x230510[_0x241137(0x58b)][_0x241137(0x139)]&&_0x2872eb['trim']()===this['AutomateSystem']?.[_0x241137(0x4ae)][_0x241137(0x5a3)][_0x241137(0x308)]()){this['logger'][_0x241137(0x34d)](this[_0x241137(0x67f)]+'\x20('+this[_0x241137(0x281)]['wuid']+_0x241137(0x41b));let _0xcbb852=await this['repository'][_0x241137(0x4e5)][_0x241137(0x44c)]({'remoteJid':_0x3f56cf,'status':_0x241137(0xc6)},this[_0x241137(0x281)][_0x241137(0x697)]);this[_0x241137(0xfb)][_0x241137(0x34d)](this[_0x241137(0x67f)]+'\x20('+this[_0x241137(0x281)][_0x241137(0x697)]+'):\x20Conversas\x20encontradas:'+_0xcbb852);let _0x21aedb=Date['now'](),_0x1d2a43;return this[_0x241137(0x5e2)]?.['flowConfig']['stopMinutes']===0x0?_0x1d2a43={'stoppedUntil':_0x21aedb+0x7591f6200}:_0x1d2a43={'stoppedUntil':_0x21aedb+this[_0x241137(0x5e2)]?.['flowConfig']['stopMinutes']*0x3c*0x3e8},this['logger'][_0x241137(0x34d)](this[_0x241137(0x67f)]+'\x20('+this[_0x241137(0x281)][_0x241137(0x697)]+_0x241137(0x6b1)+_0x1d2a43),this['updateStopChat'](_0x38cade,_0x1d2a43[_0x241137(0x64e)]),null;}if(_0x2872eb&&_0x2872eb['startsWith'](this['AutomateSystem']?.[_0x241137(0x4ae)][_0x241137(0x5a6)])&&_0x2872eb[_0x241137(0x66c)]>0x4){let _0x4a4393=await this[_0x241137(0x45b)][_0x241137(0x34c)][_0x241137(0x2ff)]({'where':{'startCommandWord':_0x2872eb}},this['instance'][_0x241137(0x697)]);if(this[_0x241137(0xfb)][_0x241137(0x34d)](this[_0x241137(0x67f)]+'\x20('+this[_0x241137(0x281)][_0x241137(0x697)]+_0x241137(0x1e5)),_0x4a4393)_0x38cade=await this[_0x241137(0x1d1)](_0x4a4393,_0x230510[_0x241137(0x58b)],_0x230510);else return this['logger']['verbose'](this[_0x241137(0x67f)]+'\x20('+this[_0x241137(0x281)][_0x241137(0x697)]+_0x241137(0x510)),null;}else _0x38cade=await this[_0x241137(0x2c4)](_0x3f56cf,_0x230510);if(_0x38cade){this[_0x241137(0xfb)][_0x241137(0x34d)](this[_0x241137(0x67f)]+'\x20('+this['instance']['wuid']+_0x241137(0x57a)),!_0x355398[_0x241137(0x139)]&&_0x38cade[_0x241137(0x26c)]&&this[_0x241137(0x55f)](_0x38cade);let _0x16dee8=await this[_0x241137(0x420)](_0x38cade);_0x16dee8&&await this[_0x241137(0x42f)](_0x38cade,_0x16dee8);}}catch(_0x227086){this[_0x241137(0xfb)]['error'](this[_0x241137(0x67f)]+'\x20('+this['instance'][_0x241137(0x697)]+_0x241137(0x1ba)+(_0x227086 instanceof Error?_0x227086[_0x241137(0x335)]:JSON['stringify'](_0x227086,null,0x2)));}}['flattenObject'](_0x58e845,_0x12e41d='',_0x1675d2={},_0x1b1bc7=!0x0){const _0x316310=a0_0x2530f3;for(let _0x30b778 in _0x58e845){let _0x217825=_0x1b1bc7?'_'+_0x30b778:''+_0x12e41d+_0x30b778;typeof _0x58e845[_0x30b778]==_0x316310(0x419)&&_0x58e845[_0x30b778]!==null?this[_0x316310(0x4f2)](_0x58e845[_0x30b778],_0x217825+'.',_0x1675d2,!0x1):_0x1675d2[_0x217825]=String(_0x58e845[_0x30b778]);}return _0x1675d2;}['variablesToObject'](_0x49dbef){const _0x57d49c=a0_0x2530f3;let _0x42d95b={};for(let _0x4727d4 of _0x49dbef)typeof _0x4727d4[_0x57d49c(0x6c9)]=='string'&&typeof _0x4727d4[_0x57d49c(0x456)]==_0x57d49c(0x43a)&&(_0x42d95b[_0x4727d4[_0x57d49c(0x6c9)]]=_0x4727d4[_0x57d49c(0x456)]);return _0x42d95b;}async[a0_0x2530f3(0x420)](_0x1fdb15){const _0x2188ea=a0_0x2530f3;if(!this[_0x2188ea(0x5e2)]?.['flowConfig'][_0x2188ea(0x23f)]||_0x1fdb15['status']!==_0x2188ea(0xc6)&&_0x1fdb15[_0x2188ea(0x18b)]==='')return null;let _0x3fc335=_0x1fdb15[_0x2188ea(0x19b)][_0x2188ea(0x1c0)]||_0x2188ea(0x383);typeof _0x1fdb15[_0x2188ea(0x19b)][_0x2188ea(0xf1)]>'u'&&(_0x1fdb15[_0x2188ea(0x19b)][_0x2188ea(0xf1)]=!0x0);let _0x34cb49=_0x1fdb15[_0x2188ea(0x19b)]['lastCondition'];this[_0x2188ea(0xfb)]['verbose'](this[_0x2188ea(0x67f)]+'\x20('+this[_0x2188ea(0x281)][_0x2188ea(0x697)]+'):\x20lastBlockId:\x20'+_0x3fc335+_0x2188ea(0x452)+_0x34cb49);let _0x32b4e6=_0x3fc335===_0x2188ea(0x383)?_0x1fdb15['blocks'][_0x2188ea(0x44c)](_0x1de7d9=>_0x1de7d9[_0x2188ea(0x101)]==='start'):_0x1fdb15[_0x2188ea(0x1d4)][_0x2188ea(0x44c)](_0x3bcf03=>_0x3bcf03[_0x2188ea(0x13f)][_0x2188ea(0x593)]()===_0x3fc335[_0x2188ea(0x593)]());if(!_0x32b4e6)return this[_0x2188ea(0xfb)][_0x2188ea(0x426)](this['instanceName']+'\x20('+this[_0x2188ea(0x281)][_0x2188ea(0x697)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x3fc335),null;let _0x2689b4={'_pushName':_0x1fdb15[_0x2188ea(0x19b)]['lastReceivedMessage'][_0x2188ea(0x62a)],..._0x1fdb15[_0x2188ea(0x19b)][_0x2188ea(0x32a)]},_0x3f117f=null;if(_0x1fdb15[_0x2188ea(0x18b)]){let _0x36b002=_0x1fdb15[_0x2188ea(0x19b)][_0x2188ea(0x300)][_0x2188ea(0x36f)],_0x1711d2=_0x1fdb15[_0x2188ea(0x663)]['find'](_0x85fdbf=>_0x85fdbf[_0x2188ea(0x69a)]===_0x36b002);if(_0x1711d2){let _0x3eee07=_0x1711d2[_0x2188ea(0x2d7)];if(_0x3f117f=_0x1fdb15[_0x2188ea(0x1d4)][_0x2188ea(0x44c)](_0x729fff=>_0x729fff[_0x2188ea(0x700)]===_0x3eee07&&_0x729fff['order']===0x1),_0x32b4e6[_0x2188ea(0x40c)]['pollOnReplyDelete']){let _0x51feb7={'id':_0x1fdb15[_0x2188ea(0x18b)],'remoteJid':_0x1fdb15[_0x2188ea(0x596)],'fromMe':!0x0};await this[_0x2188ea(0x337)](_0x51feb7);}if(_0x32b4e6[_0x2188ea(0x40c)]['pollOnReplyDelete']&&_0x32b4e6[_0x2188ea(0x40c)][_0x2188ea(0x2d6)]&&_0x32b4e6[_0x2188ea(0x40c)][_0x2188ea(0x6c4)]==='poll'){let _0x5cc5bd={'number':_0x1fdb15[_0x2188ea(0x596)],'options':{'delay':0x0},'textMessage':{'text':_0x2188ea(0x6c5)+_0x1fdb15[_0x2188ea(0x3c9)]+_0x2188ea(0x10c)+_0x36b002}};await this['textMessage'](_0x5cc5bd);}_0x1fdb15[_0x2188ea(0x64f)]=_0x2188ea(0xc6),_0x1fdb15['waitingMenu_id']='',_0x1fdb15['waitingMenu_text']='',_0x1fdb15[_0x2188ea(0x663)]=[];}else{this[_0x2188ea(0xfb)][_0x2188ea(0x34d)](this['instanceName']+'\x20('+this['instance'][_0x2188ea(0x697)]+_0x2188ea(0x1ff));let _0x23edfb={'activatedCount':_0x1fdb15[_0x2188ea(0x19b)][_0x2188ea(0x147)][_0x2188ea(0x4bb)](_0x4b666c=>String(_0x4b666c[_0x2188ea(0x65d)])===String(_0x3fc335))['length'],'moreLogs':[_0x2188ea(0x44f)]};if(_0x32b4e6['uazapi']['pollErrorMessage']){let _0x184409={'number':_0x1fdb15[_0x2188ea(0x596)],'options':{'delay':0x0},'textMessage':{'text':_0x32b4e6['uazapi'][_0x2188ea(0x5a2)]}};await this[_0x2188ea(0x51c)](_0x184409);}if(_0x32b4e6[_0x2188ea(0x11a)]!==void 0x0&&_0x23edfb['activatedCount']>=_0x32b4e6['maxActives']){let _0x51b8d9=Date[_0x2188ea(0x3d0)](),_0x32c715=_0x32b4e6['stopMinutesMaxActives']??0xa;isNaN(_0x32c715)&&(_0x32c715=0xa);let _0x3ef894=_0x51b8d9+_0x32c715*0x3c*0x3e8;_0x23edfb[_0x2188ea(0x4d3)]=_0x3ef894,_0x23edfb[_0x2188ea(0x5e6)][_0x2188ea(0x5aa)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this['updateStopChat'](_0x1fdb15,_0x3ef894),_0x1fdb15['waitingMenu_id']='',_0x1fdb15['waitingMenu_text']='',_0x1fdb15['waitingMenu_replyOptions']=[];}return this[_0x2188ea(0xbd)](_0x1fdb15,_0x32b4e6,_0x23edfb,!0x0),null;}}if(_0x34cb49&&_0x32b4e6[_0x2188ea(0x2d7)]&&!_0x1fdb15[_0x2188ea(0x18b)]){let _0x26e151=_0x1fdb15[_0x2188ea(0x1d4)][_0x2188ea(0x4bb)](_0x3714a5=>_0x3714a5['groupId'][_0x2188ea(0x593)]()===_0x32b4e6[_0x2188ea(0x2d7)][_0x2188ea(0x593)]())[_0x2188ea(0xb3)]((_0x958262,_0x55de93)=>_0x958262[_0x2188ea(0x528)]-_0x55de93[_0x2188ea(0x528)]);_0x26e151[_0x2188ea(0x66c)]>0x0&&(_0x3f117f=_0x26e151[0x0]);}if(!_0x3f117f){let _0x3050eb=_0x32b4e6[_0x2188ea(0x700)],_0x1de8ef=_0x1fdb15[_0x2188ea(0x1d4)]['filter'](_0x6238de=>_0x6238de[_0x2188ea(0x700)]===_0x3050eb&&_0x6238de[_0x2188ea(0x528)]>_0x32b4e6[_0x2188ea(0x528)])['sort']((_0x37e6b5,_0x3232e8)=>_0x37e6b5[_0x2188ea(0x528)]-_0x3232e8[_0x2188ea(0x528)]);_0x1de8ef[_0x2188ea(0x66c)]>0x0&&(_0x3f117f=_0x1de8ef[0x0]);}if(!_0x3f117f)return _0x1fdb15[_0x2188ea(0x64f)]=_0x2188ea(0x225),null;_0x1fdb15[_0x2188ea(0x19b)]['realVariables']=_0x2689b4;let _0x2b61ba=JSON[_0x2188ea(0x520)](JSON[_0x2188ea(0x6d5)](_0x3f117f));return this[_0x2188ea(0x312)](_0x2b61ba,_0x1fdb15['chatLog']['realVariables']),_0x1fdb15[_0x2188ea(0x19b)][_0x2188ea(0x1c0)]=_0x2b61ba['_id'],_0x1fdb15[_0x2188ea(0x19b)][_0x2188ea(0xf1)]=!0x0,_0x2b61ba;}['replaceVariables'](_0x11f32c,_0x5439c5){const _0x358c9b=a0_0x2530f3;return _0x11f32c[_0x358c9b(0x385)](/\{\{([^}]+)\}\}/g,(_0x1f2f7e,_0x341dbd)=>_0x5439c5[_0x341dbd]||'');}[a0_0x2530f3(0x312)](_0x2964a7,_0x3d900e){const _0x20602b=a0_0x2530f3;for(let _0x27f3e0 in _0x2964a7)typeof _0x2964a7[_0x27f3e0]==_0x20602b(0x43a)?_0x2964a7[_0x27f3e0]=this['replaceVariables'](_0x2964a7[_0x27f3e0],_0x3d900e):typeof _0x2964a7[_0x27f3e0]==_0x20602b(0x419)&&this[_0x20602b(0x312)](_0x2964a7[_0x27f3e0],_0x3d900e);}async[a0_0x2530f3(0x3b4)](_0x30c9f1,_0x5e2942){const _0x22b66a=a0_0x2530f3;let _0x18ee7d=_0x5e2942[_0x22b66a(0x13f)];if(_0x30c9f1[_0x22b66a(0x19b)]&&_0x30c9f1[_0x22b66a(0x19b)][_0x22b66a(0x147)]){let _0x347273=_0x30c9f1[_0x22b66a(0x19b)][_0x22b66a(0x147)][_0x22b66a(0x4bb)](_0x2bd996=>String(_0x2bd996[_0x22b66a(0x65d)])===String(_0x18ee7d))['pop']();if(_0x347273&&_0x347273['error']&&_0x5e2942[_0x22b66a(0x59d)])return _0x30c9f1['status']=_0x22b66a(0x225),await this['saveConversationToDatabase'](_0x30c9f1),null;}if(_0x5e2942[_0x22b66a(0x101)]===_0x22b66a(0x40c)&&_0x5e2942[_0x22b66a(0x40c)][_0x22b66a(0x351)]===_0x22b66a(0x53b)&&_0x30c9f1['waitingMenu_id'])return _0x30c9f1[_0x22b66a(0x19b)][_0x22b66a(0x1c0)]=_0x18ee7d,await this[_0x22b66a(0x5e8)](_0x30c9f1),null;let _0x4c3048=await this[_0x22b66a(0x420)](_0x30c9f1);if(_0x30c9f1[_0x22b66a(0x19b)]&&_0x30c9f1['chatLog']['blockLogs']){let _0x256909=_0x30c9f1['chatLog'][_0x22b66a(0x147)][_0x22b66a(0x4bb)](_0x14e6c7=>String(_0x14e6c7[_0x22b66a(0x65d)])===String(_0x18ee7d))[_0x22b66a(0x66c)];if(_0x5e2942[_0x22b66a(0x11a)]!==void 0x0&&_0x256909>=_0x5e2942['maxActives']){let _0x1939fa=Date[_0x22b66a(0x3d0)](),_0x4716ba=_0x5e2942[_0x22b66a(0x1b8)]??0xa;isNaN(_0x4716ba)&&(_0x4716ba=0xa);let _0x578464=_0x1939fa+_0x4716ba*0x3c*0x3e8,_0x3acfb7={'newStoppedUntil':_0x578464};return this['updateStopChat'](_0x30c9f1,_0x578464),this[_0x22b66a(0xbd)](_0x30c9f1,_0x5e2942,_0x3acfb7,!0x0),null;}}_0x4c3048&&_0x4c3048[_0x22b66a(0x101)]!==_0x22b66a(0xcf)&&await this['processblock'](_0x30c9f1,_0x4c3048),_0x4c3048||await this['saveConversationToDatabase'](_0x30c9f1),_0x4c3048&&_0x4c3048[_0x22b66a(0x101)]==='save'&&(_0x30c9f1['chatLog'][_0x22b66a(0x1c0)]=_0x18ee7d,await this['saveConversationToDatabase'](_0x30c9f1));}async[a0_0x2530f3(0x42f)](_0x4ac4f3,_0x40e100){const _0x4efd15=a0_0x2530f3;try{let _0x42ef21=_0x40e100[_0x4efd15(0x101)];this[_0x4efd15(0xfb)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4efd15(0x367)+_0x42ef21);let _0x21e9f3={'uazapi':()=>this['processUazapi'](_0x4ac4f3,_0x40e100),'save':()=>this[_0x4efd15(0x677)](_0x4ac4f3,_0x40e100),'stop':()=>this[_0x4efd15(0x5a3)](_0x4ac4f3,_0x40e100),'condition':()=>this[_0x4efd15(0x25d)](_0x4ac4f3,_0x40e100),'varedit':()=>this[_0x4efd15(0x47a)](_0x4ac4f3,_0x40e100),'apirequest':()=>this[_0x4efd15(0xba)](_0x4ac4f3,_0x40e100),'goToFlow':()=>this[_0x4efd15(0x35b)](_0x4ac4f3,_0x40e100)}[_0x42ef21];_0x21e9f3&&await _0x21e9f3();}catch(_0x400975){this[_0x4efd15(0xfb)]['error'](this[_0x4efd15(0x67f)]+'\x20('+this['instance'][_0x4efd15(0x697)]+_0x4efd15(0x52d)+(_0x400975 instanceof Error?_0x400975['message']:JSON[_0x4efd15(0x6d5)](_0x400975,null,0x2)));}}async[a0_0x2530f3(0x35b)](_0x3214bf,_0x27bc88){const _0x5d299c=a0_0x2530f3;if(this[_0x5d299c(0xfb)][_0x5d299c(0x34d)](this[_0x5d299c(0x67f)]+'\x20('+this[_0x5d299c(0x281)][_0x5d299c(0x697)]+_0x5d299c(0x709)),!_0x3214bf||!_0x27bc88)return this[_0x5d299c(0xfb)][_0x5d299c(0x426)](this['instanceName']+'\x20('+this[_0x5d299c(0x281)][_0x5d299c(0x697)]+_0x5d299c(0x23a)),null;await this[_0x5d299c(0xbd)](_0x3214bf,_0x27bc88,{},!0x0,!0x0),console['log'](_0x5d299c(0x5b0)),console['log'](_0x27bc88);let _0x2c9758=_0x27bc88['goToFlow'];console['log'](_0x5d299c(0x698),_0x2c9758),_0x3214bf=await this['createConversationforgoToFlow'](_0x2c9758,_0x3214bf['remoteJid'],_0x3214bf[_0x5d299c(0x19b)][_0x5d299c(0x32a)]),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5d299c(0x281)]['wuid']+_0x5d299c(0x340));let _0x1d4961=await this[_0x5d299c(0x420)](_0x3214bf);_0x1d4961&&await this['processblock'](_0x3214bf,_0x1d4961);}async[a0_0x2530f3(0x58c)](_0x3a09d5,_0x1927f9,_0x468e43){const _0x2f5462=a0_0x2530f3;this['logger'][_0x2f5462(0x34d)](this[_0x2f5462(0x67f)]+'\x20('+this['instance'][_0x2f5462(0x697)]+_0x2f5462(0x3b7));try{if(_0x3a09d5=await this[_0x2f5462(0x45b)][_0x2f5462(0x34c)][_0x2f5462(0x2ff)]({'where':{'name':_0x3a09d5}},this[_0x2f5462(0x281)][_0x2f5462(0x697)]),!_0x3a09d5)return this[_0x2f5462(0xfb)][_0x2f5462(0x426)](this[_0x2f5462(0x67f)]+'\x20('+this[_0x2f5462(0x281)][_0x2f5462(0x697)]+_0x2f5462(0x279)),null;let _0xddcb90=require(_0x2f5462(0x34b))[_0x2f5462(0x659)],_0x324bc0=Date[_0x2f5462(0x3d0)](),_0x10c710=_0x2f5462(0x383),_0x5cd55e={},_0x27d2e6={},_0x4400db={..._0x3a09d5,'chatLog':null},_0x4c1e28={'lastReceivedMessage':_0x5cd55e,'lastSendMessage':_0x27d2e6,'lastBlockId':_0x10c710,'lastCondition':!0x0,'realVariables':_0x468e43};_0x4400db[_0x2f5462(0x19b)]=_0x4c1e28,_0x4400db[_0x2f5462(0x19b)][_0x2f5462(0x32a)]={..._0x468e43},delete _0x4400db[_0x2f5462(0x13f)],_0x4400db['_id']=new _0xddcb90(),_0x4400db[_0x2f5462(0x536)]=_0x324bc0,_0x4400db['status']=_0x2f5462(0xc6),_0x4400db[_0x2f5462(0x596)]=_0x1927f9;let _0x17cd99=await this[_0x2f5462(0x45b)][_0x2f5462(0x4e5)][_0x2f5462(0x31a)](_0x4400db[_0x2f5462(0x13f)],_0x4400db,this[_0x2f5462(0x281)][_0x2f5462(0x697)]);return this[_0x2f5462(0xfb)]['verbose'](this[_0x2f5462(0x67f)]+'\x20('+this[_0x2f5462(0x281)]['wuid']+_0x2f5462(0x507)),_0x17cd99?_0x4400db:null;}catch(_0x34d663){throw this[_0x2f5462(0xfb)][_0x2f5462(0x426)](this[_0x2f5462(0x67f)]+'\x20('+this[_0x2f5462(0x281)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x34d663 instanceof Error?_0x34d663[_0x2f5462(0x335)]:JSON[_0x2f5462(0x6d5)](_0x34d663,null,0x2))),new m(_0x34d663[_0x2f5462(0x335)]);}}async[a0_0x2530f3(0xba)](_0x3656a6,_0x5f1ad5){const _0x185d75=a0_0x2530f3;let _0x57959d,_0x1e071e;try{let _0x416282=_0x5f1ad5[_0x185d75(0x227)];if(!_0x416282||!_0x416282[_0x185d75(0x2df)]||!_0x416282['method'])throw new Error(_0x185d75(0x22a));let _0x5931a7;([_0x185d75(0x5a1),_0x185d75(0x4c3),_0x185d75(0xc4)][_0x185d75(0xe3)](_0x5efc8e=>_0x416282[_0x185d75(0x2df)][_0x185d75(0x3e8)](_0x5efc8e))||_0x416282[_0x185d75(0x61b)])&&(_0x5931a7=_0x185d75(0x707));let _0x52dfef={'method':_0x416282[_0x185d75(0x1c3)],'url':_0x416282[_0x185d75(0x2df)],'headers':_0x416282['header']||{},'data':_0x416282[_0x185d75(0x295)]||{},..._0x5931a7&&{'responseType':_0x5931a7}},_0x548f8f=await(0x0,se[_0x185d75(0x22c)])(_0x52dfef),_0x124e95=_0x548f8f[_0x185d75(0x18c)][_0x185d75(0x58f)];if(_0x124e95&&_0x124e95['includes'](_0x185d75(0x404))){_0x57959d=_0x548f8f[_0x185d75(0x59a)];let _0x565eef=_0x3656a6['chatLog'][_0x185d75(0x32a)],_0x4a402f=this[_0x185d75(0x4f2)](_0x57959d);return Object[_0x185d75(0x70b)](_0x565eef,_0x4a402f),_0x3656a6[_0x185d75(0x19b)][_0x185d75(0x32a)]=_0x565eef,_0x1e071e={'error':!0x1,'apiResponse':_0x57959d},this[_0x185d75(0xbd)](_0x3656a6,_0x5f1ad5,_0x1e071e),_0x57959d;}if(_0x124e95&&(_0x124e95[_0x185d75(0x3e8)](_0x185d75(0x6f0))||_0x124e95[_0x185d75(0x3e8)]('image')||_0x124e95['includes']('audio')||_0x124e95[_0x185d75(0x3e8)](_0x185d75(0x125)))){this[_0x185d75(0xfb)]['verbose'](this[_0x185d75(0x67f)]+'\x20('+this[_0x185d75(0x281)][_0x185d75(0x697)]+_0x185d75(0x1d5)+_0x124e95);let _0x2e6b38=(0x0,Me['v4'])(),_0x1722ea='',_0x5921f7={'image/jpeg':'.jpg','image/png':'.png','image/gif':'.gif','image/webp':_0x185d75(0x521),'image/svg+xml':_0x185d75(0x513),'audio/mpeg':'.mp3','audio/ogg':_0x185d75(0x6ca),'audio/wav':'.wav','video/mp4':'.mp4','video/webm':'.webm','video/ogg':_0x185d75(0x224),'text/plain':_0x185d75(0x20b),'application/pdf':_0x185d75(0x3d5),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x185d75(0x561),'application/vnd.ms-excel':_0x185d75(0x346),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x185d75(0x29f),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x185d75(0x2e0)};_0x5921f7[_0x124e95]?(_0x1722ea=_0x5921f7[_0x124e95],this[_0x185d75(0xfb)][_0x185d75(0x34d)](this[_0x185d75(0x67f)]+'\x20('+this[_0x185d75(0x281)]['wuid']+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x1722ea)):(_0x1722ea=_0x185d75(0x2b9),this[_0x185d75(0xfb)]['verbose'](this[_0x185d75(0x67f)]+'\x20('+this[_0x185d75(0x281)]['wuid']+_0x185d75(0x4a1)+_0x1722ea)),_0x2e6b38+=_0x1722ea,this[_0x185d75(0xfb)][_0x185d75(0x34d)](this[_0x185d75(0x67f)]+'\x20('+this[_0x185d75(0x281)][_0x185d75(0x697)]+_0x185d75(0x56f)+_0x2e6b38);let _0x575f87=this[_0x185d75(0x1f2)][_0x185d75(0x196)](_0x185d75(0x16a))[_0x185d75(0x3c6)];if(!_0x575f87){let _0x414636=this[_0x185d75(0x1f2)][_0x185d75(0x196)]('SSL_CONF');_0x575f87='https://'+(_0x414636&&_0x414636[_0x185d75(0x41d)][_0x185d75(0x551)]('/')[0x4]);}let _0x3a2920=Buffer[_0x185d75(0x2f6)](_0x548f8f[_0x185d75(0x59a)]);await this[_0x185d75(0x4b5)](_0x3a2920,_0x2e6b38);let _0x305006=_0x185d75(0x6ff)+_0x2e6b38;_0x305006=''+_0x575f87+_0x305006,_0x57959d={'fileUrl':_0x305006},_0x3656a6['chatLog'][_0x185d75(0x32a)][_0x185d75(0x432)]=_0x305006;let _0x1c009f=_0x3656a6[_0x185d75(0x19b)][_0x185d75(0x32a)],_0x25dbcc=this['flattenObject'](_0x57959d);return Object['assign'](_0x1c009f,_0x25dbcc),_0x3656a6['chatLog']['realVariables']=_0x1c009f,_0x1e071e={'error':!0x1,'apiResponse':{'fileUrl':_0x305006}},this['updateConversation'](_0x3656a6,_0x5f1ad5,_0x1e071e),_0x57959d;}}catch(_0x2953a1){console['error'](_0x185d75(0xdf),_0x2953a1),_0x2953a1['response']&&(_0x57959d=_0x2953a1[_0x185d75(0x379)][_0x185d75(0x59a)]);let _0x2e7fa7=_0x3656a6[_0x185d75(0x19b)][_0x185d75(0x32a)],_0x3c65be=this[_0x185d75(0x4f2)](_0x57959d);return Object[_0x185d75(0x70b)](_0x2e7fa7,_0x3c65be),_0x3656a6[_0x185d75(0x19b)][_0x185d75(0x32a)]=_0x2e7fa7,_0x1e071e={'error':!0x0,'errorLog':_0x2953a1[_0x185d75(0x593)](),'apiResponse':_0x57959d},this[_0x185d75(0xbd)](_0x3656a6,_0x5f1ad5,_0x1e071e),{'success':!0x1};}}[a0_0x2530f3(0x6bb)](_0x3080ae,_0xc88a80){const _0x3f8a10=a0_0x2530f3;let _0x25c7ed=_0x41a423=>{const _0x6292e2=a0_0x4c5f;let _0x17b05e=_0x41a423[_0x6292e2(0x385)](/[^0-9.,-]/g,'')[_0x6292e2(0x385)](',','.'),_0x128ae5=parseFloat(_0x17b05e);return isNaN(_0x128ae5)?null:_0x128ae5;},_0x1c3399=_0xc88a80['firstValue'],_0xe44700=_0xc88a80[_0x3f8a10(0x3cb)];typeof _0x1c3399==_0x3f8a10(0x43a)&&(_0x1c3399=this[_0x3f8a10(0x285)](_0x1c3399,_0x3080ae[_0x3f8a10(0x19b)][_0x3f8a10(0x32a)])??''),typeof _0xe44700==_0x3f8a10(0x43a)&&(_0xe44700=this[_0x3f8a10(0x285)](_0xe44700,_0x3080ae[_0x3f8a10(0x19b)][_0x3f8a10(0x32a)])??'');let _0x3b6621=null;if(!_0xc88a80[_0x3f8a10(0x24b)])return null;switch(this[_0x3f8a10(0xfb)][_0x3f8a10(0x34d)](this[_0x3f8a10(0x67f)]+'\x20('+this[_0x3f8a10(0x281)][_0x3f8a10(0x697)]+_0x3f8a10(0x173)+_0x1c3399),this['logger'][_0x3f8a10(0x34d)](this[_0x3f8a10(0x67f)]+'\x20('+this[_0x3f8a10(0x281)]['wuid']+_0x3f8a10(0x6e5)+_0xe44700),_0xc88a80['editOperator']){case'+':case'-':case'*':case'/':let _0x43095c=_0x25c7ed(_0x1c3399||'0'),_0x5d8145=_0x25c7ed(_0xe44700||'0');if(_0x43095c===null)return null;switch(_0xc88a80[_0x3f8a10(0x24b)]){case'+':_0x3b6621=_0x43095c+(_0x5d8145??0x0);break;case'-':_0x3b6621=_0x43095c-(_0x5d8145??0x0);break;case'*':_0x3b6621=_0x43095c*(_0x5d8145??0x1);break;case'/':_0x5d8145!==0x0&&(_0x3b6621=_0x43095c/(_0x5d8145??0x1));break;}break;case _0x3f8a10(0x4a4):case _0x3f8a10(0xc7):let _0x2ce272=_0xe44700,_0x5bbbec=_0xc88a80[_0x3f8a10(0x42d)];if(typeof _0x5bbbec==_0x3f8a10(0x43a)&&(_0x5bbbec=this['replaceVariables'](_0x5bbbec,_0x3080ae[_0x3f8a10(0x19b)][_0x3f8a10(0x32a)])??''),_0x2ce272&&_0x5bbbec!==void 0x0){let _0x1e9973=_0xc88a80[_0x3f8a10(0x24b)]===_0x3f8a10(0x4a4)?new RegExp(_0x2ce272[_0x3f8a10(0x385)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x2ce272,'g');_0x3b6621=_0x1c3399[_0x3f8a10(0x385)](_0x1e9973,_0x5bbbec);}else console[_0x3f8a10(0x435)](_0x3f8a10(0x3d7));break;case'setNewValue':_0x3b6621=_0xe44700;break;case _0x3f8a10(0x3dd):let _0xcd4f5f=_0x1c3399['match'](new RegExp(_0xe44700||''));_0x3b6621=_0xcd4f5f?_0xcd4f5f[0x0]:'';break;case _0x3f8a10(0xde):_0x3b6621=_0x1c3399['slice'](0x0,parseInt(_0xe44700||'0'));break;case _0x3f8a10(0x708):let _0x13f418=parseInt(_0xe44700||'0');_0x3b6621=_0x1c3399[_0x3f8a10(0x185)](_0x1c3399[_0x3f8a10(0x66c)]-_0x13f418);break;case _0x3f8a10(0x23b):let _0x38ee79=_0x25c7ed(_0x1c3399),_0x55466f=parseInt(_0xe44700||'0');_0x55466f=Math[_0x3f8a10(0x6e4)](_0x55466f),_0x38ee79!==null?_0x3b6621=_0x38ee79[_0x3f8a10(0xf0)](_0x3f8a10(0x3ae),{'minimumFractionDigits':_0x55466f,'maximumFractionDigits':_0x55466f}):(console[_0x3f8a10(0x435)](_0x3f8a10(0xc1)+_0x1c3399),_0x3b6621=null);break;case'toBRL':let _0x4c6b87=_0x25c7ed(_0x1c3399);_0x4c6b87!==null?_0x3b6621=_0x4c6b87['toLocaleString'](_0x3f8a10(0x3ae),{'style':_0x3f8a10(0x4fa),'currency':_0x3f8a10(0x473)}):(console['warn'](_0x3f8a10(0x211)+_0x1c3399),_0x3b6621=null);break;case _0x3f8a10(0x1a0):_0x3b6621=_0x1c3399[_0x3f8a10(0x6c3)]();break;case _0x3f8a10(0x680):_0x3b6621=_0x1c3399[_0x3f8a10(0x51f)]();break;case _0x3f8a10(0xef):_0x3b6621=_0x1c3399[_0x3f8a10(0x551)]('\x20')[_0x3f8a10(0x378)](_0x5045ea=>_0x5045ea[_0x3f8a10(0xd2)](0x0)[_0x3f8a10(0x6c3)]()+_0x5045ea[_0x3f8a10(0x185)](0x1)['toLowerCase']())['join']('\x20');break;case _0x3f8a10(0x47b):_0x3b6621=_0x1c3399['trim']();break;default:_0x3b6621=_0x1c3399;}return _0x3b6621!==null?_0x3b6621[_0x3f8a10(0x593)]():null;}async[a0_0x2530f3(0x47a)](_0x534a54,_0x58ae9a){const _0x4c274e=a0_0x2530f3;try{let _0x215069=_0x534a54[_0x4c274e(0x653)]?.[_0x4c274e(0x4bb)](_0x28e438=>_0x28e438[_0x4c274e(0x65d)]===_0x58ae9a[_0x4c274e(0x13f)]?.[_0x4c274e(0x593)]())||[],_0x1183c8=_0x58ae9a[_0x4c274e(0x6e9)],_0x29a06b=null,_0x41b9cf=[],_0x29a6ad=_0x534a54[_0x4c274e(0x19b)][_0x4c274e(0x32a)][_0x1183c8];_0x41b9cf[_0x4c274e(0x5aa)](_0x4c274e(0x38f)+_0x29a6ad+'\x22');for(let _0x4c0111 of _0x215069){_0x4c0111[_0x4c274e(0xd3)]=_0x29a6ad,_0x29a06b=_0x4c0111['firstValue'];let _0x4fe24a;try{_0x4fe24a=this['applyvaredit'](_0x534a54,_0x4c0111);}catch(_0x2bfb3e){console[_0x4c274e(0x426)](_0x4c274e(0x5a0)+_0x2bfb3e[_0x4c274e(0x335)]);continue;}if(_0x4fe24a!==null){let _0x59e795=_0x4c274e(0x470)+_0x4c0111[_0x4c274e(0x24b)]+'\x22',_0x381d80=[_0x4c274e(0x5c8),_0x4c274e(0x1a0),_0x4c274e(0x680),_0x4c274e(0xef),_0x4c274e(0x47b)];_0x4c0111[_0x4c274e(0x24b)]==='findAndReplace'||_0x4c0111[_0x4c274e(0x24b)]===_0x4c274e(0xc7)?_0x59e795+=_0x4c274e(0x655)+_0x4c0111['secondValue']+_0x4c274e(0x62e)+_0x4c0111['replaceValue']+'\x22':!_0x381d80[_0x4c274e(0x3e8)](_0x4c0111[_0x4c274e(0x24b)])&&_0x4c0111[_0x4c274e(0x3cb)]!==null&&_0x4c0111[_0x4c274e(0x3cb)]!==void 0x0&&(_0x59e795+=_0x4c274e(0x390)+_0x4c0111[_0x4c274e(0x3cb)]+'\x22'),_0x59e795+=',\x20resultado:\x20'+_0x4fe24a+'.',_0x41b9cf['push'](_0x59e795);}_0x4fe24a!==null&&(_0x29a6ad=_0x4fe24a);}if(_0x534a54['chatLog'][_0x4c274e(0x32a)]&&_0x58ae9a[_0x4c274e(0x6e9)]){_0x534a54['chatLog']['realVariables'][_0x58ae9a[_0x4c274e(0x6e9)]]=_0x29a6ad;let _0x35ddbd={'variable':_0x58ae9a[_0x4c274e(0x6e9)],'oldValue':_0x29a06b,'newValue':_0x29a6ad,'moreLogs':_0x41b9cf};try{this['updateConversation'](_0x534a54,_0x58ae9a,_0x35ddbd);}catch(_0x4880b8){console[_0x4c274e(0x426)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x4880b8[_0x4c274e(0x335)]);}}return _0x1183c8;}catch(_0x31b456){return console[_0x4c274e(0x426)](_0x4c274e(0x4c1)+_0x31b456['message']),null;}}async['processConditions'](_0x2aa2c1,_0x48d8f2){const _0x33bd08=a0_0x2530f3;try{let _0x492c2d=[],_0x2d0801=_0x2aa2c1[_0x33bd08(0x6be)]['filter'](_0x4d041b=>_0x4d041b[_0x33bd08(0x65d)]===_0x48d8f2[_0x33bd08(0x13f)][_0x33bd08(0x593)]()),_0x33de83=null,_0x40f161=!0x1;for(let _0x2a681f of _0x2d0801){let _0x14b8dd=this['evaluateCondition'](_0x2aa2c1,_0x2a681f);_0x492c2d[_0x33bd08(0x5aa)]('Primeiro\x20Valor:\x20'+_0x2a681f[_0x33bd08(0xd3)]+_0x33bd08(0x304)+_0x2a681f[_0x33bd08(0x580)]+_0x33bd08(0x4c6)+_0x2a681f[_0x33bd08(0x3cb)]+',\x20Resultado:\x20'+_0x14b8dd),_0x33de83===null?_0x33de83=_0x14b8dd:_0x2a681f[_0x33bd08(0x2b3)]===_0x33bd08(0x464)?(_0x33de83=_0x33de83&&_0x14b8dd,_0x14b8dd||(_0x40f161=!0x0)):_0x2a681f[_0x33bd08(0x2b3)]==='or'&&(_0x40f161||(_0x33de83=_0x33de83||_0x14b8dd));}_0x33de83===null&&(_0x33de83=!0x0);let _0x10f75a={'moreLogs':_0x492c2d};_0x2aa2c1[_0x33bd08(0x19b)][_0x33bd08(0xf1)]=_0x33de83,await this[_0x33bd08(0xbd)](_0x2aa2c1,_0x48d8f2,_0x10f75a);}catch(_0x5cdecc){this[_0x33bd08(0xfb)][_0x33bd08(0x426)](this[_0x33bd08(0x67f)]+'\x20('+this[_0x33bd08(0x281)][_0x33bd08(0x697)]+_0x33bd08(0x3a1)+(_0x5cdecc instanceof Error?_0x5cdecc[_0x33bd08(0x335)]:JSON[_0x33bd08(0x6d5)](_0x5cdecc,null,0x2)));}}[a0_0x2530f3(0x1de)](_0x503998,_0x3c23d7){const _0xd9e6d6=a0_0x2530f3;let _0x5e5e23=_0x3c23d7[_0xd9e6d6(0xd3)],_0x5512c4=_0x3c23d7[_0xd9e6d6(0x3cb)];typeof _0x5e5e23==_0xd9e6d6(0x43a)&&(_0x5e5e23=this[_0xd9e6d6(0x285)](_0x5e5e23,_0x503998['chatLog'][_0xd9e6d6(0x32a)])??''),typeof _0x5512c4=='string'&&(_0x5512c4=this[_0xd9e6d6(0x285)](_0x5512c4,_0x503998[_0xd9e6d6(0x19b)][_0xd9e6d6(0x32a)])??'');try{switch(_0x3c23d7[_0xd9e6d6(0x580)]){case _0xd9e6d6(0x5ff):return _0x5e5e23===_0x5512c4;case'notEqual':return _0x5e5e23!==_0x5512c4;case _0xd9e6d6(0x6cf):return this[_0xd9e6d6(0x6cf)](_0x5e5e23,_0x5512c4);case _0xd9e6d6(0x17b):return!this['contains'](_0x5e5e23,_0x5512c4);case _0xd9e6d6(0x5bb):return parseFloat(_0x5e5e23)>parseFloat(_0x5512c4);case _0xd9e6d6(0x3ac):return parseFloat(_0x5e5e23)<parseFloat(_0x5512c4);case'notEmpty':return _0x5e5e23!=='';case _0xd9e6d6(0x31b):return _0x5e5e23==='';case _0xd9e6d6(0x2d1):return new RegExp(_0x5512c4)[_0xd9e6d6(0x164)](_0x5e5e23);case _0xd9e6d6(0x2b6):return!new RegExp(_0x5512c4)[_0xd9e6d6(0x164)](_0x5e5e23);default:return!0x1;}}catch(_0x1b401c){return console[_0xd9e6d6(0x426)](_0xd9e6d6(0xda)+_0x1b401c),!0x1;}}[a0_0x2530f3(0x6cf)](_0x3ccff0,_0x1becf1){const _0x29f967=a0_0x2530f3;if(_0x3ccff0===_0x1becf1&&/^\d+$/[_0x29f967(0x164)](_0x3ccff0))return!0x0;if(this['isListOfNumbers'](_0x3ccff0)&&/^\d+$/[_0x29f967(0x164)](_0x1becf1)){let _0x1ea2bc=_0x3ccff0[_0x29f967(0x551)](',')[_0x29f967(0x378)](_0x4a688d=>parseInt(_0x4a688d[_0x29f967(0x308)]())),_0x42020=parseInt(_0x1becf1);return _0x1ea2bc['includes'](_0x42020);}return _0x3ccff0[_0x29f967(0x3e8)](_0x1becf1);}[a0_0x2530f3(0x652)](_0x2d035b){const _0x149ae0=a0_0x2530f3;return/^\d+(,\d+)*$/[_0x149ae0(0x164)](_0x2d035b);}[a0_0x2530f3(0x5d0)](_0x195f92){const _0x52a335=a0_0x2530f3;let _0x10fa7b=!0x0,_0x2d4512=null;for(let _0x5a395b of _0x195f92){let _0x3f80ad=this[_0x52a335(0x626)](_0x5a395b);if(_0x2d4512==='or'&&_0x3f80ad){_0x10fa7b=!0x0;break;}if(_0x2d4512===_0x52a335(0x464)&&!_0x3f80ad){_0x10fa7b=!0x1;break;}_0x2d4512=_0x5a395b[_0x52a335(0x2b3)];}return _0x10fa7b;}[a0_0x2530f3(0x626)](_0x504b26){const _0xb09b7=a0_0x2530f3;let _0x4ac23d=_0x504b26[_0xb09b7(0xd3)],_0x11c42e=_0x504b26[_0xb09b7(0x3cb)];try{switch(_0x504b26[_0xb09b7(0x580)]){case'equal':return String(_0x4ac23d)===String(_0x11c42e);case _0xb09b7(0x17f):return String(_0x4ac23d)!==String(_0x11c42e);case _0xb09b7(0x6cf):return String(_0x4ac23d)[_0xb09b7(0x3e8)](String(_0x11c42e));case _0xb09b7(0x17b):return!String(_0x4ac23d)[_0xb09b7(0x3e8)](String(_0x11c42e));case _0xb09b7(0x5bb):return parseFloat(String(_0x4ac23d))>parseFloat(String(_0x11c42e));case _0xb09b7(0x3ac):return parseFloat(String(_0x4ac23d))<parseFloat(String(_0x11c42e));case _0xb09b7(0x2c7):return String(_0x4ac23d)!=='';case'empty':return String(_0x4ac23d)==='';case _0xb09b7(0x2d1):return new RegExp(String(_0x11c42e))[_0xb09b7(0x164)](String(_0x4ac23d));case _0xb09b7(0x2b6):return!new RegExp(String(_0x11c42e))[_0xb09b7(0x164)](String(_0x4ac23d));default:return!0x1;}}catch(_0x2b4601){return console['error'](_0xb09b7(0xda)+_0x2b4601),!0x1;}}async[a0_0x2530f3(0x677)](_0x166367,_0x5b3b62){const _0x3828af=a0_0x2530f3;if(this[_0x3828af(0xfb)][_0x3828af(0x34d)](this[_0x3828af(0x67f)]+'\x20('+this['instance']['wuid']+_0x3828af(0x345)),!_0x166367||!_0x5b3b62)return this[_0x3828af(0xfb)][_0x3828af(0x426)](this[_0x3828af(0x67f)]+'\x20('+this[_0x3828af(0x281)][_0x3828af(0x697)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x1e09f2=_0x5b3b62[_0x3828af(0x6e9)],_0x3d6588=_0x166367['chatLog'][_0x3828af(0x300)][_0x3828af(0x30c)]||_0x166367[_0x3828af(0x19b)]['lastReceivedMessage'][_0x3828af(0x14b)]||_0x166367[_0x3828af(0x19b)][_0x3828af(0x300)]['vote'];try{_0x166367[_0x3828af(0x19b)][_0x3828af(0x32a)]||(_0x166367[_0x3828af(0x19b)][_0x3828af(0x32a)]={});let _0xe94763=_0x166367[_0x3828af(0x19b)][_0x3828af(0x32a)][_0x1e09f2];_0x166367['chatLog'][_0x3828af(0x32a)][_0x1e09f2]=_0x3d6588;let _0x2a9042={'variable':_0x1e09f2,'oldValue':_0xe94763,'newValue':_0x3d6588};this[_0x3828af(0xbd)](_0x166367,_0x5b3b62,_0x2a9042),this[_0x3828af(0xfb)]['verbose'](this[_0x3828af(0x67f)]+'\x20('+this[_0x3828af(0x281)][_0x3828af(0x697)]+_0x3828af(0x50a));}catch(_0x5992cd){let _0x10e1c9={'error':!0x0,'errorLog':_0x5992cd['toString']()};return this['updateConversation'](_0x166367,_0x5b3b62,_0x10e1c9),this[_0x3828af(0xfb)][_0x3828af(0x426)](this[_0x3828af(0x67f)]+'\x20('+this[_0x3828af(0x281)][_0x3828af(0x697)]+_0x3828af(0xdd)+(_0x5992cd instanceof Error?_0x5992cd[_0x3828af(0x335)]:JSON['stringify'](_0x5992cd,null,0x2))),null;}}async[a0_0x2530f3(0x5a3)](_0x47ceb7,_0x2861f4){const _0x55663f=a0_0x2530f3;if(this[_0x55663f(0xfb)][_0x55663f(0x34d)](this[_0x55663f(0x67f)]+'\x20('+this[_0x55663f(0x281)][_0x55663f(0x697)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x47ceb7||!_0x2861f4)return this[_0x55663f(0xfb)]['error'](this[_0x55663f(0x67f)]+'\x20('+this['instance']['wuid']+_0x55663f(0x23a)),null;let _0x5102c4=Date['now'](),_0x2664b7=parseInt(_0x2861f4[_0x55663f(0x623)],0xa);if(isNaN(_0x2664b7))return this[_0x55663f(0xfb)][_0x55663f(0x426)](this[_0x55663f(0x67f)]+'\x20('+this[_0x55663f(0x281)]['wuid']+_0x55663f(0x2a7)),null;let _0x4ce851={'newStoppedUntil':_0x5102c4+_0x2664b7*0x3c*0x3e8};return await this[_0x55663f(0xbd)](_0x47ceb7,_0x2861f4,_0x4ce851,!0x0),null;}async[a0_0x2530f3(0x66b)](_0x452484,_0x3773c7){const _0x3b607d=a0_0x2530f3;try{switch(_0x3773c7[_0x3b607d(0x40c)][_0x3b607d(0x351)]){case'sendText':await this[_0x3b607d(0x66a)](_0x452484,_0x3773c7);break;case _0x3b607d(0x1ed):await this[_0x3b607d(0x481)](_0x452484,_0x3773c7);break;case _0x3b607d(0x61e):await this[_0x3b607d(0x1fd)](_0x452484,_0x3773c7);break;case _0x3b607d(0x2c1):await this[_0x3b607d(0x694)](_0x452484,_0x3773c7);break;case _0x3b607d(0x704):await this['uazapiSendContact'](_0x452484,_0x3773c7);break;case'sendPoll':await this['uazapiSendMenu'](_0x452484,_0x3773c7);break;case'sendMenu':await this['uazapiSendMenu'](_0x452484,_0x3773c7);break;case'deleteMessage':await this[_0x3b607d(0x27a)](_0x452484,_0x3773c7);break;default:this[_0x3b607d(0xfb)]['error'](this[_0x3b607d(0x67f)]+'\x20('+this[_0x3b607d(0x281)]['wuid']+_0x3b607d(0x49a)+_0x3773c7[_0x3b607d(0x40c)][_0x3b607d(0x351)]);}}catch(_0x4584d0){this[_0x3b607d(0xfb)][_0x3b607d(0x426)](this['instanceName']+'\x20('+this[_0x3b607d(0x281)][_0x3b607d(0x697)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x4584d0 instanceof Error?_0x4584d0[_0x3b607d(0x335)]:JSON['stringify'](_0x4584d0,null,0x2)));}}async[a0_0x2530f3(0xbd)](_0x356767,_0x585af8,_0x4d2a07,_0x568e9c=!0x1,_0x4285ff=!0x1){const _0x58feb9=a0_0x2530f3;_0x356767[_0x58feb9(0x19b)][_0x58feb9(0x147)]||(_0x356767[_0x58feb9(0x19b)][_0x58feb9(0x147)]=[]);let _0x5e9952=(_0x356767[_0x58feb9(0x19b)]['blockLogs']?.[_0x58feb9(0x66c)]??0x0)+0x1,_0x56e594=_0x356767['chatLog'][_0x58feb9(0x147)][_0x58feb9(0x4bb)](_0x496c2a=>String(_0x496c2a[_0x58feb9(0x65d)])===String(_0x585af8[_0x58feb9(0x13f)]))[_0x58feb9(0x66c)]+0x1,_0x4602f2=_0x4d2a07?.['onTime']??Date[_0x58feb9(0x3d0)](),_0x322d6b=_0x4d2a07?.[_0x58feb9(0x426)]?_0x4d2a07['errorLog']??_0x4d2a07[_0x58feb9(0x426)][_0x58feb9(0x593)]():void 0x0,_0x2c6cd0={'onTime':_0x4602f2,'blockId':_0x585af8[_0x58feb9(0x13f)],'order':_0x5e9952,'activatedCount':_0x56e594,'error':_0x4d2a07?.['error']??!0x1,'messageId':_0x4d2a07?.[_0x58feb9(0x28d)],'apiResponse':_0x4d2a07?.[_0x58feb9(0x213)],'apiResponseString':_0x4d2a07?.['apiResponse']?JSON['stringify'](_0x4d2a07?.[_0x58feb9(0x213)]):void 0x0,'variable':_0x4d2a07?.[_0x58feb9(0x4bc)],'oldValue':_0x4d2a07?.[_0x58feb9(0x3d6)],'newValue':_0x4d2a07?.['newValue'],'newStoppedUntil':_0x4d2a07?.[_0x58feb9(0x4d3)],'moreLogs':_0x4d2a07?.['moreLogs'],'errorLog':_0x322d6b};if(_0x4d2a07[_0x58feb9(0x5e6)]&&_0x4d2a07['moreLogs'][_0x58feb9(0x66c)]>0x0){let _0xaf2435=_0x4d2a07[_0x58feb9(0x5e6)][_0x58feb9(0x378)](_0xbf558e=>this[_0x58feb9(0x209)](_0xbf558e,_0x356767[_0x58feb9(0x19b)][_0x58feb9(0x32a)]));_0x2c6cd0[_0x58feb9(0x5e6)]=_0xaf2435;}_0x356767['chatLog'][_0x58feb9(0x32a)]||(_0x356767['chatLog'][_0x58feb9(0x32a)]={}),_0x356767[_0x58feb9(0x19b)][_0x58feb9(0x32a)][_0x58feb9(0x235)]=String(_0x56e594),_0x356767[_0x58feb9(0x19b)][_0x58feb9(0x32a)][_0x58feb9(0x5ef)]=String(_0x4d2a07['error']??!0x1),_0x356767[_0x58feb9(0x19b)][_0x58feb9(0x147)][_0x58feb9(0x5aa)](_0x2c6cd0),_0x356767['chatLog']['lastBlockId']=_0x585af8[_0x58feb9(0x13f)][_0x58feb9(0x593)](),_0x356767[_0x58feb9(0x19b)][_0x58feb9(0x4a9)]&&(_0x356767[_0x58feb9(0x19b)][_0x58feb9(0x4a9)]=_0x356767['chatLog'][_0x58feb9(0x4a9)]),_0x356767[_0x58feb9(0x19b)]['lastReceivedMessage']&&(_0x356767[_0x58feb9(0x19b)][_0x58feb9(0x300)]=_0x356767[_0x58feb9(0x19b)]['lastReceivedMessage']),_0x356767['chatLog']['lastCondition']&&(_0x356767[_0x58feb9(0x19b)]['lastCondition']=_0x356767['chatLog']['lastCondition']),_0x4285ff&&(_0x356767[_0x58feb9(0x64f)]=_0x58feb9(0x225)),_0x568e9c?this[_0x58feb9(0x5e8)](_0x356767):this[_0x58feb9(0x3b4)](_0x356767,_0x585af8);}[a0_0x2530f3(0x209)](_0x41f03e,_0x232289){const _0x466930=a0_0x2530f3;return _0x41f03e['replace'](/\{\{([^}]+)\}\}/g,(_0x2acee7,_0x36c5b1)=>_0x232289[_0x36c5b1]?'{{'+_0x36c5b1+_0x466930(0x3be)+_0x232289[_0x36c5b1]+'\x22':'{{'+_0x36c5b1+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x2530f3(0x5e8)](_0x2633f9){const _0x361fdf=a0_0x2530f3;try{let _0x14779d=Object[_0x361fdf(0x560)](_0x2633f9[_0x361fdf(0x19b)][_0x361fdf(0x32a)])[_0x361fdf(0x378)](([_0x59d1c3,_0x4aafb9])=>({'name':_0x59d1c3,'value':_0x4aafb9})),_0x1acc7e={'status':_0x2633f9[_0x361fdf(0x64f)],'blocks':_0x2633f9[_0x361fdf(0x1d4)],'waitingMenu_id':_0x2633f9[_0x361fdf(0x18b)],'waitingMenu_text':_0x2633f9[_0x361fdf(0x3c9)],'waitingMenu_replyOptions':_0x2633f9[_0x361fdf(0x663)],'chatLog':{'lastBlockId':_0x2633f9[_0x361fdf(0x19b)]['lastBlockId'],'lastSendMessage':_0x2633f9[_0x361fdf(0x19b)]['lastSendMessage'],'lastReceivedMessage':_0x2633f9['chatLog'][_0x361fdf(0x300)],'lastCondition':_0x2633f9[_0x361fdf(0x19b)][_0x361fdf(0xf1)],'chatVariables':_0x14779d,'realVariables':_0x2633f9[_0x361fdf(0x19b)][_0x361fdf(0x32a)],'blockLogs':_0x2633f9['chatLog'][_0x361fdf(0x147)]}},_0x1aadac=await this[_0x361fdf(0x45b)][_0x361fdf(0x4e5)][_0x361fdf(0x31a)](_0x2633f9['_id'],_0x1acc7e,this[_0x361fdf(0x281)][_0x361fdf(0x697)]);if(_0x1aadac){this[_0x361fdf(0xfb)]['verbose'](this[_0x361fdf(0x67f)]+'\x20('+this[_0x361fdf(0x281)][_0x361fdf(0x697)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x1aadac[_0x361fdf(0x13f)]);try{let _0x250c9b=['nome',_0x361fdf(0x37f),_0x361fdf(0x3f7),_0x361fdf(0x207),_0x361fdf(0x64f),_0x361fdf(0x5eb),_0x361fdf(0x273),_0x361fdf(0x34e),_0x361fdf(0x54d)];if(!this[_0x361fdf(0x5e2)]&&(await this['getAutomateSystem'](),!this[_0x361fdf(0x5e2)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x464ef7=this['AutomateSystem']?.[_0x361fdf(0x5f6)][_0x361fdf(0x378)](_0x3d7e6c=>_0x3d7e6c[_0x361fdf(0x6c9)]),_0x4dfcd2={};Object[_0x361fdf(0x560)](_0x2633f9['chatLog'][_0x361fdf(0x32a)])[_0x361fdf(0x2ed)](([_0x4573f8,_0x22ba36])=>{const _0x44272d=_0x361fdf;_0x250c9b['includes'](_0x4573f8)&&(_0x4573f8==='tags'&&typeof _0x22ba36==_0x44272d(0x43a)?_0x4dfcd2[_0x4573f8]=_0x22ba36[_0x44272d(0x551)](',')[_0x44272d(0x378)](_0x493c18=>_0x493c18[_0x44272d(0x308)]())[_0x44272d(0x4bb)](_0x3d87f8=>_0x3d87f8!==''):_0x4573f8===_0x44272d(0x54d)&&typeof _0x22ba36==_0x44272d(0x43a)?_0x4dfcd2[_0x4573f8]=_0x22ba36[_0x44272d(0x551)](',')[_0x44272d(0x378)](_0x3c3d02=>_0x3c3d02[_0x44272d(0x308)]())['filter'](_0x4f252a=>_0x4f252a!==''):_0x4dfcd2[_0x4573f8]=_0x22ba36);});let _0x557994=_0x2633f9[_0x361fdf(0x19b)]['blockLogs'][_0x2633f9[_0x361fdf(0x19b)][_0x361fdf(0x147)]['length']-0x1];if(_0x557994){let _0x25d4c2=_0x557994[_0x361fdf(0x4d3)];_0x25d4c2!==void 0x0&&(_0x4dfcd2[_0x361fdf(0x2b4)]=_0x25d4c2['toString']());}let _0x3cf3ef=_0x14779d['filter'](_0x4fc0a3=>_0x464ef7[_0x361fdf(0x3e8)](_0x4fc0a3['name']));this[_0x361fdf(0xfb)][_0x361fdf(0x34d)](this['instanceName']+'\x20('+this['instance'][_0x361fdf(0x697)]+_0x361fdf(0x598)),this[_0x361fdf(0xfb)][_0x361fdf(0x34d)](_0x4dfcd2),this[_0x361fdf(0xfb)]['verbose'](this[_0x361fdf(0x67f)]+'\x20('+this[_0x361fdf(0x281)][_0x361fdf(0x697)]+'):\x20customFieldVariables'),this[_0x361fdf(0xfb)][_0x361fdf(0x34d)](_0x3cf3ef);let _0x4f2450=_0x3cf3ef[_0x361fdf(0x378)](_0x441d29=>{const _0x34f715=_0x361fdf;let _0x106540=this[_0x34f715(0x5e2)]?.[_0x34f715(0x5f6)][_0x34f715(0x44c)](_0x2b4d5e=>_0x2b4d5e[_0x34f715(0x6c9)]===_0x441d29[_0x34f715(0x6c9)]);if(!_0x106540)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x441d29[_0x34f715(0x6c9)]);return{'_id':_0x106540['_id'],'value':_0x441d29[_0x34f715(0x456)]};});this[_0x361fdf(0xfb)]['verbose'](this['instanceName']+'\x20('+this[_0x361fdf(0x281)][_0x361fdf(0x697)]+_0x361fdf(0x15d)),this[_0x361fdf(0xfb)][_0x361fdf(0x34d)](_0x4f2450),await this['saveChatVariables'](_0x2633f9[_0x361fdf(0x596)],_0x4dfcd2,_0x4f2450);}catch(_0x6fa34f){this[_0x361fdf(0xfb)][_0x361fdf(0x426)](this[_0x361fdf(0x67f)]+'\x20('+this[_0x361fdf(0x281)][_0x361fdf(0x697)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x6fa34f instanceof Error?_0x6fa34f['message']:JSON[_0x361fdf(0x6d5)](_0x6fa34f,null,0x2)));}}else this[_0x361fdf(0xfb)][_0x361fdf(0x426)](this['instanceName']+'\x20('+this['instance'][_0x361fdf(0x697)]+_0x361fdf(0x187));}catch(_0x181579){this[_0x361fdf(0xfb)][_0x361fdf(0x426)](this[_0x361fdf(0x67f)]+'\x20('+this['instance']['wuid']+_0x361fdf(0x3e9)+(_0x181579 instanceof Error?_0x181579[_0x361fdf(0x335)]:JSON[_0x361fdf(0x6d5)](_0x181579,null,0x2)));}}async[a0_0x2530f3(0x231)](_0x100282,_0x657a00,_0x556b51){const _0x435b1f=a0_0x2530f3;try{let _0x951e1e={'leadInfo.leadnome':_0x657a00[_0x435b1f(0x2f1)],'leadInfo.nomecompleto':_0x657a00[_0x435b1f(0x37f)],'leadInfo.email':_0x657a00[_0x435b1f(0x3f7)],'leadInfo.cpf':_0x657a00[_0x435b1f(0x207)],'leadInfo.status':_0x657a00[_0x435b1f(0x64f)],'leadInfo.notas':_0x657a00['notas'],'leadInfo.responsavelid':_0x657a00[_0x435b1f(0x273)],'leadInfo.tags':_0x657a00[_0x435b1f(0x34e)],'leadInfo.etiquetas':_0x657a00[_0x435b1f(0x54d)],'leadInfo.customFields':_0x556b51},_0x4d2034=await this[_0x435b1f(0x45b)][_0x435b1f(0x1ad)][_0x435b1f(0x2ff)]({'where':{'_id':_0x100282}},this[_0x435b1f(0x281)]['wuid']),_0xd47691=new Set(_0x4d2034[_0x435b1f(0x444)]['etiquetas']||[]),_0x80952a=new Set(_0x657a00['etiquetas']||[]),_0x512ff6=await this[_0x435b1f(0x45b)][_0x435b1f(0x157)][_0x435b1f(0x44c)]({'where':{}},this[_0x435b1f(0x281)][_0x435b1f(0x697)]),_0x4aaed3=new Set(_0x512ff6[_0x435b1f(0x378)](_0x4230eb=>_0x4230eb[_0x435b1f(0x13f)])),_0x3064ba=[..._0x80952a]['filter'](_0x5770d2=>!_0xd47691[_0x435b1f(0x59e)](_0x5770d2)&&_0x4aaed3[_0x435b1f(0x59e)](_0x5770d2)),_0x3f981a=[..._0xd47691]['filter'](_0x2d6985=>!_0x80952a[_0x435b1f(0x59e)](_0x2d6985));for(let _0xbeb00d of _0x3064ba)await this[_0x435b1f(0x445)](_0xbeb00d,_0x4d2034[_0x435b1f(0x13f)]),_0xd47691[_0x435b1f(0x3a6)](_0xbeb00d);for(let _0x3caed8 of _0x3f981a)await this[_0x435b1f(0x517)](_0x3caed8,_0x4d2034[_0x435b1f(0x13f)]),_0xd47691['delete'](_0x3caed8);if(_0x435b1f(0x2b4)in _0x657a00){let _0x1aa02d=_0x657a00['desativadoFluxoAte'];_0x951e1e[_0x435b1f(0x2c8)]=_0x1aa02d?Number(_0x1aa02d):null;}let _0x453660=await this[_0x435b1f(0x45b)][_0x435b1f(0x1ad)][_0x435b1f(0x31a)]({'where':{'_id':_0x100282}},_0x951e1e,this[_0x435b1f(0x281)]['wuid']);_0x453660?(this[_0x435b1f(0xfb)]['verbose'](this[_0x435b1f(0x67f)]+'\x20('+this[_0x435b1f(0x281)][_0x435b1f(0x697)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x453660[_0x435b1f(0x13f)]),J(this[_0x435b1f(0x67f)],_0x435b1f(0x1ec),{'chat':_0x453660})):this['logger'][_0x435b1f(0x426)](this[_0x435b1f(0x67f)]+'\x20('+this[_0x435b1f(0x281)][_0x435b1f(0x697)]+_0x435b1f(0x113));}catch(_0x25561b){this[_0x435b1f(0xfb)][_0x435b1f(0x426)](this['instanceName']+'\x20('+this[_0x435b1f(0x281)][_0x435b1f(0x697)]+_0x435b1f(0x19a)+(_0x25561b instanceof Error?_0x25561b[_0x435b1f(0x335)]:JSON['stringify'](_0x25561b,null,0x2)));}}async[a0_0x2530f3(0x24c)](_0x15b723,_0x52e588){const _0x328168=a0_0x2530f3;this[_0x328168(0xfb)][_0x328168(0x34d)](this[_0x328168(0x67f)]+'\x20('+this[_0x328168(0x281)][_0x328168(0x697)]+_0x328168(0x3b1)+_0x52e588);try{let _0x3426f3=await this[_0x328168(0x45b)][_0x328168(0x1ad)][_0x328168(0x31a)]({'where':{'_id':_0x15b723[_0x328168(0x596)]}},{'leadInfo.desativadoFluxoAte':_0x52e588},this['instance'][_0x328168(0x697)]);this[_0x328168(0xfb)][_0x328168(0x34d)](this[_0x328168(0x67f)]+'\x20('+this[_0x328168(0x281)][_0x328168(0x697)]+_0x328168(0x152)+_0x15b723[_0x328168(0x13f)]),this[_0x328168(0xfb)]['verbose'](this[_0x328168(0x67f)]+'\x20('+this[_0x328168(0x281)][_0x328168(0x697)]+_0x328168(0x3b1)+JSON[_0x328168(0x6d5)](_0x3426f3,null,0x2)),_0x3426f3&&J(this[_0x328168(0x67f)],'chats',{'chat':_0x3426f3});}catch(_0x4d8da8){this[_0x328168(0xfb)][_0x328168(0x426)](this[_0x328168(0x67f)]+'\x20('+this[_0x328168(0x281)][_0x328168(0x697)]+_0x328168(0x3fc)+(_0x4d8da8 instanceof Error?_0x4d8da8['message']:JSON['stringify'](_0x4d8da8,null,0x2)));}}async[a0_0x2530f3(0x6ab)](_0x2d172d){const _0x1915df=a0_0x2530f3;try{this[_0x1915df(0xfb)][_0x1915df(0x34d)](this[_0x1915df(0x67f)]+'\x20('+this[_0x1915df(0x281)]['wuid']+_0x1915df(0x123));let _0x1a1178=_0x2d172d[_0x1915df(0x385)](/\D/g,''),_0x204ea8=await this['repository'][_0x1915df(0x34c)]['findOne']({'where':{'testingWith':_0x1a1178}},this[_0x1915df(0x281)][_0x1915df(0x697)]);return _0x204ea8||(this['logger'][_0x1915df(0x34d)](this[_0x1915df(0x67f)]+'\x20('+this[_0x1915df(0x281)][_0x1915df(0x697)]+_0x1915df(0x4b6)),_0x204ea8=await this[_0x1915df(0x45b)][_0x1915df(0x34c)]['findOne']({'where':{'default':!0x0}},this['instance'][_0x1915df(0x697)])),_0x204ea8||(this[_0x1915df(0xfb)]['verbose'](this[_0x1915df(0x67f)]+'\x20('+this[_0x1915df(0x281)][_0x1915df(0x697)]+_0x1915df(0x38c)),null);}catch(_0x1386d3){return this[_0x1915df(0xfb)][_0x1915df(0x426)](this[_0x1915df(0x67f)]+'\x20('+this[_0x1915df(0x281)]['wuid']+_0x1915df(0x648)+(_0x1386d3 instanceof Error?_0x1386d3['message']:JSON['stringify'](_0x1386d3,null,0x2))),null;}}async[a0_0x2530f3(0x2c4)](_0x1a9ed6,_0x269fe4){const _0x33b09c=a0_0x2530f3;try{let _0x1b129c=!!_0x269fe4['vote'],_0x340a69=_0x269fe4[_0x33b09c(0x245)],_0x34a239=null;if(this[_0x33b09c(0xfb)][_0x33b09c(0x34d)](this[_0x33b09c(0x67f)]+'\x20('+this[_0x33b09c(0x281)][_0x33b09c(0x697)]+_0x33b09c(0x5e7)+_0x1b129c+_0x33b09c(0x2bd)+_0x340a69),_0x1b129c){this[_0x33b09c(0xfb)][_0x33b09c(0x34d)](this[_0x33b09c(0x67f)]+'\x20('+this[_0x33b09c(0x281)][_0x33b09c(0x697)]+_0x33b09c(0x5c0));let _0x380fad={'where':{'remoteJid':_0x1a9ed6,'waitingMenu_id':_0x340a69}};if(_0x34a239=await this[_0x33b09c(0x45b)][_0x33b09c(0x4e5)]['findOne'](_0x380fad,this[_0x33b09c(0x281)]['wuid']),!_0x34a239)return this[_0x33b09c(0xfb)][_0x33b09c(0x34d)](this[_0x33b09c(0x67f)]+'\x20('+this[_0x33b09c(0x281)][_0x33b09c(0x697)]+_0x33b09c(0x5ae)),null;let _0x1a166f=Date[_0x33b09c(0x3d0)](),_0x34ddf1=_0x34a239?.['minutesToClose']||0x0,_0x586baa=_0x1a166f-_0x34ddf1*0x3c*0x3e8;if(_0x34a239[_0x33b09c(0x536)]<_0x586baa){this[_0x33b09c(0xfb)][_0x33b09c(0x34d)](this[_0x33b09c(0x67f)]+'\x20('+this[_0x33b09c(0x281)][_0x33b09c(0x697)]+_0x33b09c(0x55a));let _0x9c1449={'number':_0x34a239[_0x33b09c(0x596)],'options':{'delay':0x0},'textMessage':{'text':_0x34a239[_0x33b09c(0x368)]}};await this[_0x33b09c(0x51c)](_0x9c1449);let _0x5f4f45={'status':_0x33b09c(0x225),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x33b09c(0x45b)][_0x33b09c(0x4e5)][_0x33b09c(0x31a)](_0x34a239[_0x33b09c(0x13f)],_0x5f4f45,this[_0x33b09c(0x281)][_0x33b09c(0x697)]),null;}return _0x34a239[_0x33b09c(0x536)]=Date[_0x33b09c(0x3d0)](),_0x34a239[_0x33b09c(0x19b)]['lastReceivedMessage']=_0x269fe4,_0x34a239;}else{this[_0x33b09c(0xfb)]['verbose'](this['instanceName']+'\x20('+this[_0x33b09c(0x281)]['wuid']+'):\x20'+this[_0x33b09c(0x281)]['wuid']+_0x33b09c(0x5e5)),this[_0x33b09c(0xfb)][_0x33b09c(0x34d)](this[_0x33b09c(0x67f)]+'\x20('+this[_0x33b09c(0x281)]['wuid']+_0x33b09c(0x47e));let _0xd9aea={'where':{'remoteJid':_0x1a9ed6,'status':_0x33b09c(0xc6)}};if(_0x34a239=await this[_0x33b09c(0x45b)]['flowConversation']['findOne'](_0xd9aea,this['instance'][_0x33b09c(0x697)]),!_0x34a239){let _0x3525da=await this[_0x33b09c(0x6ab)](_0x1a9ed6);if(_0x3525da&&(_0x34a239=await this[_0x33b09c(0x1d1)](_0x3525da,_0x269fe4['key'],_0x269fe4)),!_0x34a239)return null;}let _0xff40f7=Date[_0x33b09c(0x3d0)](),_0x288a1f=_0x34a239?.[_0x33b09c(0x412)]||0x0,_0x29a775=_0xff40f7-_0x288a1f*0x3c*0x3e8;if(this[_0x33b09c(0xfb)][_0x33b09c(0x34d)](this[_0x33b09c(0x67f)]+'\x20('+this[_0x33b09c(0x281)][_0x33b09c(0x697)]+_0x33b09c(0x650)+_0xff40f7+_0x33b09c(0x36b)+_0x288a1f+_0x33b09c(0x58e)+_0x29a775),this[_0x33b09c(0xfb)][_0x33b09c(0x34d)](this[_0x33b09c(0x67f)]+'\x20('+this['instance'][_0x33b09c(0x697)]+_0x33b09c(0x6b3)),this['logger'][_0x33b09c(0x34d)](this[_0x33b09c(0x67f)]+'\x20('+this[_0x33b09c(0x281)][_0x33b09c(0x697)]+_0x33b09c(0x6a2)+_0x34a239['lastInteraction']),this['logger'][_0x33b09c(0x34d)](this['instanceName']+'\x20('+this[_0x33b09c(0x281)][_0x33b09c(0x697)]+_0x33b09c(0x2bc)+_0x29a775),_0x34a239['lastInteraction']<_0x29a775){this[_0x33b09c(0xfb)][_0x33b09c(0x34d)](this[_0x33b09c(0x67f)]+'\x20('+this[_0x33b09c(0x281)][_0x33b09c(0x697)]+_0x33b09c(0x5b1));let _0xe054e3=await this['findFlow'](_0x1a9ed6);if(_0xe054e3===null)return null;_0x34a239&&await this[_0x33b09c(0x45b)][_0x33b09c(0x4e5)][_0x33b09c(0x31a)](_0x34a239[_0x33b09c(0x13f)],{'status':_0x33b09c(0x225)},this[_0x33b09c(0x281)][_0x33b09c(0x697)]),_0x34a239=await this['createNewConversation'](_0xe054e3,_0x269fe4['key'],_0x269fe4);}return _0x34a239[_0x33b09c(0x536)]=_0xff40f7,_0x34a239['chatLog'][_0x33b09c(0x300)]=_0x269fe4,_0x34a239;}}catch(_0x594cf0){return this['logger'][_0x33b09c(0x426)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x33b09c(0x50e)+(_0x594cf0 instanceof Error?_0x594cf0[_0x33b09c(0x335)]:JSON['stringify'](_0x594cf0,null,0x2))),null;}}async[a0_0x2530f3(0x1d1)](_0x1c3ed8,_0xf8fc7e,_0x4b394c){const _0x5bb8c3=a0_0x2530f3;this[_0x5bb8c3(0xfb)][_0x5bb8c3(0x34d)](this[_0x5bb8c3(0x67f)]+'\x20('+this[_0x5bb8c3(0x281)][_0x5bb8c3(0x697)]+_0x5bb8c3(0x4bf));try{let _0x19aeab=require('mongodb')[_0x5bb8c3(0x659)],_0x5a4bd1=Date[_0x5bb8c3(0x3d0)](),_0x587880=_0x5bb8c3(0x383),_0x497a1b=_0xf8fc7e[_0x5bb8c3(0x139)]?null:_0x4b394c,_0x3dadbb=_0xf8fc7e[_0x5bb8c3(0x139)]?_0x4b394c:null,_0x1f4a02=_0xf8fc7e[_0x5bb8c3(0x596)];await this[_0x5bb8c3(0x21e)](_0x1f4a02);let _0x16355b={..._0x1c3ed8,'chatLog':null},_0x5de786=await this[_0x5bb8c3(0x261)](_0x16355b[_0x5bb8c3(0x387)]),_0x497df3=await this['getVariablesChat'](_0x1f4a02),_0x5c8c09={..._0x5de786,..._0x497df3,'_remoteJid':_0x1f4a02},_0x5d5354={'lastReceivedMessage':_0x497a1b,'lastSendMessage':_0x3dadbb,'lastBlockId':_0x587880,'lastCondition':!0x0,'realVariables':_0x5c8c09};_0x16355b[_0x5bb8c3(0x19b)]=_0x5d5354,delete _0x16355b[_0x5bb8c3(0x13f)],_0x16355b['_id']=new _0x19aeab(),_0x16355b[_0x5bb8c3(0x536)]=_0x5a4bd1,_0x16355b[_0x5bb8c3(0x64f)]='open',_0x16355b[_0x5bb8c3(0x596)]=_0x1f4a02;let _0x13ea70=await this[_0x5bb8c3(0x45b)][_0x5bb8c3(0x4e5)]['updateOne'](_0x16355b[_0x5bb8c3(0x13f)],_0x16355b,this[_0x5bb8c3(0x281)]['wuid']);return this[_0x5bb8c3(0xfb)][_0x5bb8c3(0x34d)](this[_0x5bb8c3(0x67f)]+'\x20('+this[_0x5bb8c3(0x281)]['wuid']+_0x5bb8c3(0x507)),_0x13ea70?_0x16355b:null;}catch(_0x26ae9a){return this['logger'][_0x5bb8c3(0x426)](this[_0x5bb8c3(0x67f)]+'\x20('+this[_0x5bb8c3(0x281)]['wuid']+_0x5bb8c3(0x36e)+(_0x26ae9a instanceof Error?_0x26ae9a[_0x5bb8c3(0x335)]:JSON['stringify'](_0x26ae9a,null,0x2))),_0x26ae9a;}}async['uazapiSendText'](_0x4b9da7,_0x4b83a3){const _0x11c7b5=a0_0x2530f3;let _0x32a904=_0x4b9da7[_0x11c7b5(0x596)];_0x4b83a3[_0x11c7b5(0x40c)][_0x11c7b5(0x596)]&&_0x4b83a3[_0x11c7b5(0x40c)][_0x11c7b5(0x596)][_0x11c7b5(0x308)]()!==''&&(_0x32a904=_0x4b83a3[_0x11c7b5(0x40c)][_0x11c7b5(0x596)][_0x11c7b5(0x308)]()),this[_0x11c7b5(0xfb)][_0x11c7b5(0x34d)](this['instanceName']+'\x20('+this['instance'][_0x11c7b5(0x697)]+'):\x20Enviando\x20texto');let _0x65a1d0={'number':_0x32a904,'options':{'delay':_0x4b83a3[_0x11c7b5(0x40c)]['delay']},'textMessage':{'text':_0x4b83a3[_0x11c7b5(0x40c)][_0x11c7b5(0x30c)]}};try{let _0x4345b8=await this[_0x11c7b5(0x51c)](_0x65a1d0);if(_0x4345b8){let _0x280d4b={'_id':_0x4345b8[_0x11c7b5(0x58b)]['id'],'_fromMe':_0x4345b8['key'][_0x11c7b5(0x139)],'_remoteJid':_0x4345b8[_0x11c7b5(0x58b)][_0x11c7b5(0x596)]};_0x4b9da7['chatLog'][_0x11c7b5(0x1c0)]=_0x4b83a3[_0x11c7b5(0x13f)][_0x11c7b5(0x593)]();let {message_normalized:_0x410ad5}=this['normalizeMessage'](_0x4345b8[_0x11c7b5(0x335)],$(_0x4345b8['message']),null);_0x4b9da7['chatLog'][_0x11c7b5(0x4a9)]=await _0x410ad5;let _0x26af14={'messageId':_0x4345b8['key']['id']},_0xd7ae1b=_0x4b9da7[_0x11c7b5(0x19b)][_0x11c7b5(0x32a)];Object[_0x11c7b5(0x70b)](_0xd7ae1b,_0x280d4b),_0x4b9da7[_0x11c7b5(0x19b)][_0x11c7b5(0x32a)]=_0xd7ae1b,this[_0x11c7b5(0xbd)](_0x4b9da7,_0x4b83a3,_0x26af14);}else{let _0x35d06e={'error':!0x0};this[_0x11c7b5(0xbd)](_0x4b9da7,_0x4b83a3,_0x35d06e),this[_0x11c7b5(0xfb)][_0x11c7b5(0x426)](this['instanceName']+'\x20('+this['instance'][_0x11c7b5(0x697)]+_0x11c7b5(0x242));}}catch(_0x399f53){let _0x5dc85f={'error':!0x0,'errorLog':_0x399f53['toString']()};this['updateConversation'](_0x4b9da7,_0x4b83a3,_0x5dc85f),this[_0x11c7b5(0xfb)][_0x11c7b5(0x426)](this[_0x11c7b5(0x67f)]+'\x20('+this[_0x11c7b5(0x281)]['wuid']+_0x11c7b5(0x349)+(_0x399f53 instanceof Error?_0x399f53[_0x11c7b5(0x335)]:JSON['stringify'](_0x399f53,null,0x2)));}}async['uazapiSendMedia'](_0x261fe1,_0xd9c7bc){const _0x578278=a0_0x2530f3;let _0x1ac973=_0x261fe1[_0x578278(0x596)];_0xd9c7bc[_0x578278(0x40c)][_0x578278(0x596)]&&_0xd9c7bc[_0x578278(0x40c)][_0x578278(0x596)][_0x578278(0x308)]()!==''&&(_0x1ac973=_0xd9c7bc[_0x578278(0x40c)]['remoteJid'][_0x578278(0x308)]()),this[_0x578278(0xfb)][_0x578278(0x34d)](this[_0x578278(0x67f)]+'\x20('+this[_0x578278(0x281)][_0x578278(0x697)]+'):\x20Enviando\x20mídia');let _0x384588={'number':_0x1ac973,'options':{'delay':_0xd9c7bc[_0x578278(0x40c)]['delay']},'mediaMessage':{'mediatype':_0xd9c7bc[_0x578278(0x40c)][_0x578278(0x5b8)],'caption':_0xd9c7bc['uazapi'][_0x578278(0x14b)],'media':_0xd9c7bc['uazapi'][_0x578278(0x5fc)],'fileName':_0xd9c7bc[_0x578278(0x40c)][_0x578278(0x4f7)]}};try{let _0xdfa1db=await this[_0x578278(0x4f5)](_0x384588);if(_0xdfa1db){let _0x50fafb={'_id':_0xdfa1db[_0x578278(0x58b)]['id'],'_fromMe':_0xdfa1db[_0x578278(0x58b)][_0x578278(0x139)],'_remoteJid':_0xdfa1db['key'][_0x578278(0x596)]};_0x261fe1['chatLog']['lastBlockId']=_0xd9c7bc['_id'][_0x578278(0x593)]();let {message_normalized:_0x375fb0}=this[_0x578278(0x5f1)](_0xdfa1db[_0x578278(0x335)],$(_0xdfa1db[_0x578278(0x335)]),null);_0x261fe1[_0x578278(0x19b)]['lastSendMessage']=await _0x375fb0;let _0x5eddcc={'messageId':_0xdfa1db[_0x578278(0x58b)]['id']},_0x30b5fa=_0x261fe1[_0x578278(0x19b)][_0x578278(0x32a)];Object[_0x578278(0x70b)](_0x30b5fa,_0x50fafb),_0x261fe1[_0x578278(0x19b)][_0x578278(0x32a)]=_0x30b5fa,this[_0x578278(0xbd)](_0x261fe1,_0xd9c7bc,_0x5eddcc);}else{let _0x47291a={'error':!0x0};this[_0x578278(0xbd)](_0x261fe1,_0xd9c7bc,_0x47291a),this[_0x578278(0xfb)]['error'](this[_0x578278(0x67f)]+'\x20('+this['instance'][_0x578278(0x697)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x288836){let _0x16daf2={'error':!0x0,'errorLog':_0x288836[_0x578278(0x593)]()};this[_0x578278(0xbd)](_0x261fe1,_0xd9c7bc,_0x16daf2),this['logger'][_0x578278(0x426)](this[_0x578278(0x67f)]+'\x20('+this[_0x578278(0x281)][_0x578278(0x697)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x288836 instanceof Error?_0x288836[_0x578278(0x335)]:JSON['stringify'](_0x288836,null,0x2)));}}async['uazapiSendLocation'](_0x167c45,_0x17b69a){const _0x11850d=a0_0x2530f3;let _0x2e6103=_0x167c45[_0x11850d(0x596)];_0x17b69a['uazapi'][_0x11850d(0x596)]&&_0x17b69a[_0x11850d(0x40c)]['remoteJid'][_0x11850d(0x308)]()!==''&&(_0x2e6103=_0x17b69a[_0x11850d(0x40c)][_0x11850d(0x596)][_0x11850d(0x308)]()),this[_0x11850d(0xfb)][_0x11850d(0x34d)](this[_0x11850d(0x67f)]+'\x20('+this[_0x11850d(0x281)][_0x11850d(0x697)]+_0x11850d(0xd8));let _0x55ef53={'number':_0x2e6103,'options':{'delay':_0x17b69a[_0x11850d(0x40c)][_0x11850d(0x34a)]},'locationMessage':{'name':_0x17b69a[_0x11850d(0x40c)][_0x11850d(0x6c9)],'address':_0x17b69a[_0x11850d(0x40c)][_0x11850d(0x6e3)],'latitude':_0x17b69a[_0x11850d(0x40c)][_0x11850d(0x1f7)],'longitude':_0x17b69a[_0x11850d(0x40c)]['longitude']}};try{let _0x5a9896=await this[_0x11850d(0x4cf)](_0x55ef53);if(_0x5a9896){let _0x37bae1={'_id':_0x5a9896['key']['id'],'_fromMe':_0x5a9896[_0x11850d(0x58b)][_0x11850d(0x139)],'_remoteJid':_0x5a9896[_0x11850d(0x58b)][_0x11850d(0x596)]};_0x167c45[_0x11850d(0x19b)][_0x11850d(0x1c0)]=_0x17b69a['_id'][_0x11850d(0x593)]();let {message_normalized:_0x1dca5c}=this[_0x11850d(0x5f1)](_0x5a9896[_0x11850d(0x335)],$(_0x5a9896[_0x11850d(0x335)]),null);_0x167c45[_0x11850d(0x19b)]['lastSendMessage']=await _0x1dca5c;let _0x4cd98b={'messageId':_0x5a9896['key']['id']},_0x50dfc7=_0x167c45[_0x11850d(0x19b)][_0x11850d(0x32a)];Object[_0x11850d(0x70b)](_0x50dfc7,_0x37bae1),_0x167c45[_0x11850d(0x19b)][_0x11850d(0x32a)]=_0x50dfc7,this[_0x11850d(0xbd)](_0x167c45,_0x17b69a,_0x4cd98b);}else{let _0x6e97bc={'error':!0x0};this[_0x11850d(0xbd)](_0x167c45,_0x17b69a,_0x6e97bc),this[_0x11850d(0xfb)][_0x11850d(0x426)](this[_0x11850d(0x67f)]+'\x20('+this[_0x11850d(0x281)]['wuid']+_0x11850d(0x438));}}catch(_0x2f12c5){let _0x32e3bd={'error':!0x0,'errorLog':_0x2f12c5[_0x11850d(0x593)]()};this['updateConversation'](_0x167c45,_0x17b69a,_0x32e3bd),this[_0x11850d(0xfb)][_0x11850d(0x426)](this['instanceName']+'\x20('+this['instance'][_0x11850d(0x697)]+_0x11850d(0x559)+(_0x2f12c5 instanceof Error?_0x2f12c5[_0x11850d(0x335)]:JSON[_0x11850d(0x6d5)](_0x2f12c5,null,0x2)));}}async[a0_0x2530f3(0x694)](_0x60b3c7,_0x367330){const _0x49bfbc=a0_0x2530f3;let _0x563d05=_0x60b3c7[_0x49bfbc(0x596)];_0x367330[_0x49bfbc(0x40c)][_0x49bfbc(0x596)]&&_0x367330['uazapi']['remoteJid']['trim']()!==''&&(_0x563d05=_0x367330[_0x49bfbc(0x40c)]['remoteJid']['trim']()),this[_0x49bfbc(0xfb)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x49bfbc(0x697)]+_0x49bfbc(0x3e1));let _0x2620a0={'number':_0x563d05,'options':{'delay':_0x367330[_0x49bfbc(0x40c)]['delay']},'audioMessage':{'audio':_0x367330['uazapi'][_0x49bfbc(0x35f)]}};try{let _0x537373=await this['audioWhatsapp'](_0x2620a0);if(_0x537373){let _0x5774c2={'_id':_0x537373[_0x49bfbc(0x58b)]['id'],'_fromMe':_0x537373[_0x49bfbc(0x58b)][_0x49bfbc(0x139)],'_remoteJid':_0x537373[_0x49bfbc(0x58b)][_0x49bfbc(0x596)]};_0x60b3c7[_0x49bfbc(0x19b)][_0x49bfbc(0x1c0)]=_0x367330['_id'][_0x49bfbc(0x593)]();let {message_normalized:_0x3aa492}=this[_0x49bfbc(0x5f1)](_0x537373[_0x49bfbc(0x335)],$(_0x537373['message']),null);_0x60b3c7[_0x49bfbc(0x19b)][_0x49bfbc(0x4a9)]=await _0x3aa492;let _0x75a99a={'messageId':_0x537373[_0x49bfbc(0x58b)]['id']},_0x36221d=_0x60b3c7[_0x49bfbc(0x19b)][_0x49bfbc(0x32a)];Object[_0x49bfbc(0x70b)](_0x36221d,_0x5774c2),_0x60b3c7['chatLog']['realVariables']=_0x36221d,this['updateConversation'](_0x60b3c7,_0x367330,_0x75a99a);}else{let _0x55772d={'error':!0x0};this['updateConversation'](_0x60b3c7,_0x367330,_0x55772d),this[_0x49bfbc(0xfb)]['error'](this[_0x49bfbc(0x67f)]+'\x20('+this['instance']['wuid']+_0x49bfbc(0x40d));}}catch(_0x4d0709){let _0x3d908e={'error':!0x0,'errorLog':_0x4d0709[_0x49bfbc(0x593)]()};this['updateConversation'](_0x60b3c7,_0x367330,_0x3d908e),this[_0x49bfbc(0xfb)][_0x49bfbc(0x426)](this[_0x49bfbc(0x67f)]+'\x20('+this[_0x49bfbc(0x281)][_0x49bfbc(0x697)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x4d0709 instanceof Error?_0x4d0709[_0x49bfbc(0x335)]:JSON[_0x49bfbc(0x6d5)](_0x4d0709,null,0x2)));}}async[a0_0x2530f3(0x440)](_0x106537,_0x4913b9){const _0x5b2e57=a0_0x2530f3;let _0x41cc86=_0x106537['remoteJid'];_0x4913b9[_0x5b2e57(0x40c)]['remoteJid']&&_0x4913b9['uazapi'][_0x5b2e57(0x596)][_0x5b2e57(0x308)]()!==''&&(_0x41cc86=_0x4913b9[_0x5b2e57(0x40c)][_0x5b2e57(0x596)]['trim']()),this[_0x5b2e57(0xfb)][_0x5b2e57(0x34d)](this[_0x5b2e57(0x67f)]+'\x20('+this[_0x5b2e57(0x281)][_0x5b2e57(0x697)]+'):\x20Enviando\x20contato');let _0x178175={'number':_0x41cc86,'options':{'delay':_0x4913b9[_0x5b2e57(0x40c)][_0x5b2e57(0x34a)]},'contactMessage':[{'fullName':_0x4913b9[_0x5b2e57(0x40c)][_0x5b2e57(0x32d)],'phoneNumber':_0x4913b9[_0x5b2e57(0x40c)][_0x5b2e57(0x6b0)]}]};try{let _0x90a1f=await this['contactMessage'](_0x178175);if(_0x90a1f){let _0x2fbdb9={'_id':_0x90a1f[_0x5b2e57(0x58b)]['id'],'_fromMe':_0x90a1f[_0x5b2e57(0x58b)][_0x5b2e57(0x139)],'_remoteJid':_0x90a1f['key'][_0x5b2e57(0x596)]};_0x106537[_0x5b2e57(0x19b)][_0x5b2e57(0x1c0)]=_0x4913b9['_id'][_0x5b2e57(0x593)]();let {message_normalized:_0xc9ac38}=this[_0x5b2e57(0x5f1)](_0x90a1f[_0x5b2e57(0x335)],$(_0x90a1f[_0x5b2e57(0x335)]),null);_0x106537[_0x5b2e57(0x19b)][_0x5b2e57(0x4a9)]=await _0xc9ac38;let _0x4cee89={'messageId':_0x90a1f['key']['id']},_0x240646=_0x106537[_0x5b2e57(0x19b)][_0x5b2e57(0x32a)];Object['assign'](_0x240646,_0x2fbdb9),_0x106537[_0x5b2e57(0x19b)][_0x5b2e57(0x32a)]=_0x240646,this[_0x5b2e57(0xbd)](_0x106537,_0x4913b9,_0x4cee89);}else{let _0x559793={'error':!0x0};this[_0x5b2e57(0xbd)](_0x106537,_0x4913b9,_0x559793),this[_0x5b2e57(0xfb)][_0x5b2e57(0x426)](this[_0x5b2e57(0x67f)]+'\x20('+this[_0x5b2e57(0x281)][_0x5b2e57(0x697)]+_0x5b2e57(0x26f));}}catch(_0x41ead7){let _0x45175b={'error':!0x0,'errorLog':_0x41ead7[_0x5b2e57(0x593)]()};this[_0x5b2e57(0xbd)](_0x106537,_0x4913b9,_0x45175b),this['logger'][_0x5b2e57(0x426)](this[_0x5b2e57(0x67f)]+'\x20('+this['instance'][_0x5b2e57(0x697)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x41ead7 instanceof Error?_0x41ead7['message']:JSON[_0x5b2e57(0x6d5)](_0x41ead7,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x4f8772,_0x2d23b9){const _0x2fc515=a0_0x2530f3;for(let _0x14cace of _0x4f8772)_0x14cace[_0x2fc515(0x69a)]&&(_0x14cace[_0x2fc515(0x69a)]=this[_0x2fc515(0x285)](_0x14cace[_0x2fc515(0x69a)],_0x2d23b9)),_0x14cace['optionDescription']&&(_0x14cace['optionDescription']=this[_0x2fc515(0x285)](_0x14cace[_0x2fc515(0x17c)],_0x2d23b9));}async[a0_0x2530f3(0x6e8)](_0x32de8c,_0x43acc0){const _0x58989f=a0_0x2530f3;let _0x4d1861=_0x32de8c[_0x58989f(0x596)];_0x43acc0[_0x58989f(0x40c)][_0x58989f(0x596)]&&_0x43acc0['uazapi']['remoteJid'][_0x58989f(0x308)]()!==''&&(_0x4d1861=_0x43acc0[_0x58989f(0x40c)]['remoteJid'][_0x58989f(0x308)]()),this['logger']['verbose'](this[_0x58989f(0x67f)]+'\x20('+this[_0x58989f(0x281)]['wuid']+_0x58989f(0x43e));let _0x1de78f=_0x32de8c[_0x58989f(0xeb)][_0x58989f(0x4bb)](_0x3a11b6=>_0x3a11b6[_0x58989f(0x65d)]===_0x43acc0[_0x58989f(0x13f)])[_0x58989f(0xb3)]((_0x10dde1,_0x2b8d87)=>_0x10dde1[_0x58989f(0x528)]-_0x2b8d87[_0x58989f(0x528)]);this[_0x58989f(0xf3)](_0x1de78f,_0x32de8c[_0x58989f(0x19b)][_0x58989f(0x32a)]);let _0x466651=_0x1de78f[_0x58989f(0x378)](_0x4525ea=>_0x4525ea['option']),_0x38c019={'number':_0x4d1861,'menuMessage':{'type':_0x43acc0[_0x58989f(0x40c)][_0x58989f(0x6c4)]||_0x58989f(0xf6),'text':_0x43acc0['uazapi'][_0x58989f(0x30c)]||_0x43acc0[_0x58989f(0x40c)][_0x58989f(0x6c9)],'footerText':_0x43acc0[_0x58989f(0x40c)]['footerText'],'buttonText':_0x43acc0[_0x58989f(0x40c)][_0x58989f(0x395)],'selectableCount':0x1,'choices':_0x466651},'options':{'delay':_0x43acc0['uazapi']['delay']}};try{let _0x490eb4=await this[_0x58989f(0x4b3)](_0x38c019);if(_0x490eb4){let _0x4845cc={'_id':_0x490eb4['key']['id'],'_fromMe':_0x490eb4[_0x58989f(0x58b)][_0x58989f(0x139)],'_remoteJid':_0x490eb4[_0x58989f(0x58b)][_0x58989f(0x596)]};_0x43acc0[_0x58989f(0x40c)][_0x58989f(0x642)]===!0x0&&(_0x32de8c[_0x58989f(0x64f)]='waitingForReplyMenu',this['logger'][_0x58989f(0x34d)](this[_0x58989f(0x67f)]+'\x20('+this[_0x58989f(0x281)]['wuid']+_0x58989f(0x1f8)+_0x32de8c[_0x58989f(0x64f)])),this[_0x58989f(0xfb)][_0x58989f(0x34d)](this[_0x58989f(0x67f)]+'\x20('+this[_0x58989f(0x281)]['wuid']+'):\x20nextBlock.uazapi.name'+(_0x43acc0['uazapi']['name']||_0x43acc0['uazapi']['text'])),_0x32de8c['waitingMenu_id']=_0x490eb4[_0x58989f(0x58b)]['id'],_0x32de8c['waitingMenu_text']=_0x43acc0[_0x58989f(0x40c)][_0x58989f(0x6c9)]||_0x43acc0['uazapi'][_0x58989f(0x30c)],_0x32de8c['waitingMenu_replyOptions']=_0x1de78f,_0x43acc0['uazapi'][_0x58989f(0x496)]&&(_0x32de8c['waitingMenu_ExpiredMessage']=_0x43acc0[_0x58989f(0x40c)][_0x58989f(0x496)]),this[_0x58989f(0xfb)][_0x58989f(0x34d)](this[_0x58989f(0x67f)]+'\x20('+this[_0x58989f(0x281)][_0x58989f(0x697)]+_0x58989f(0x28f)+_0x32de8c['waitingMenu_text']),_0x32de8c[_0x58989f(0x19b)][_0x58989f(0x1c0)]=_0x43acc0[_0x58989f(0x13f)][_0x58989f(0x593)]();let {message_normalized:_0x394ed1}=this[_0x58989f(0x5f1)](_0x490eb4[_0x58989f(0x335)],$(_0x490eb4['message']),null);_0x32de8c[_0x58989f(0x19b)][_0x58989f(0x4a9)]=await _0x394ed1;let _0x11ab83={'messageId':_0x490eb4[_0x58989f(0x58b)]['id']},_0x1f0c8c=_0x32de8c[_0x58989f(0x19b)][_0x58989f(0x32a)];Object[_0x58989f(0x70b)](_0x1f0c8c,_0x4845cc),_0x32de8c['chatLog'][_0x58989f(0x32a)]=_0x1f0c8c,this[_0x58989f(0xbd)](_0x32de8c,_0x43acc0,_0x11ab83);}else{let _0x36fcb1={'error':!0x0};this['updateConversation'](_0x32de8c,_0x43acc0,_0x36fcb1),this['logger'][_0x58989f(0x426)](this[_0x58989f(0x67f)]+'\x20('+this[_0x58989f(0x281)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x402310){let _0x55f3ac={'error':!0x0,'errorLog':_0x402310 instanceof Error?_0x402310[_0x58989f(0x335)]:JSON[_0x58989f(0x6d5)](_0x402310,null,0x2)};this['updateConversation'](_0x32de8c,_0x43acc0,_0x55f3ac),this[_0x58989f(0xfb)]['error'](this['instanceName']+'\x20('+this[_0x58989f(0x281)][_0x58989f(0x697)]+_0x58989f(0x526)+(_0x402310 instanceof Error?_0x402310[_0x58989f(0x335)]:JSON['stringify'](_0x402310,null,0x2)));}}async[a0_0x2530f3(0x27a)](_0x5c10be,_0x39482d){const _0xb96738=a0_0x2530f3;this[_0xb96738(0xfb)]['verbose'](this[_0xb96738(0x67f)]+'\x20('+this[_0xb96738(0x281)][_0xb96738(0x697)]+_0xb96738(0x4e7));let _0x50bdb5=_0x5c10be[_0xb96738(0x19b)][_0xb96738(0x147)][_0xb96738(0x44c)](_0x4798dd=>_0x4798dd['blockId'][_0xb96738(0x593)]()===_0x39482d[_0xb96738(0x40c)][_0xb96738(0x65d)]['toString']()),_0x548a1e={'id':_0x50bdb5['messageId'],'remoteJid':_0x50bdb5['remoteJid'],'fromMe':_0x50bdb5[_0xb96738(0x139)]};try{let _0x34704a=await this[_0xb96738(0x337)](_0x548a1e);if(_0x34704a){_0x5c10be[_0xb96738(0x19b)][_0xb96738(0x1c0)]=_0x39482d[_0xb96738(0x13f)][_0xb96738(0x593)]();let {message_normalized:_0x125cf8}=this[_0xb96738(0x5f1)](_0x34704a[_0xb96738(0x335)],$(_0x34704a[_0xb96738(0x335)]),null);_0x5c10be['chatLog']['lastSendMessage']=await _0x125cf8;let _0x5044a2={};this[_0xb96738(0xbd)](_0x5c10be,_0x39482d,_0x5044a2);}else{let _0x468c04={'error':!0x0};this[_0xb96738(0xbd)](_0x5c10be,_0x39482d,_0x468c04),this[_0xb96738(0xfb)]['error'](this[_0xb96738(0x67f)]+'\x20('+this[_0xb96738(0x281)][_0xb96738(0x697)]+_0xb96738(0x30a));}}catch(_0x2e318b){let _0x111baa={'error':!0x0,'errorLog':_0x2e318b instanceof Error?_0x2e318b[_0xb96738(0x335)]:JSON[_0xb96738(0x6d5)](_0x2e318b,null,0x2)};this[_0xb96738(0xbd)](_0x5c10be,_0x39482d,_0x111baa),this[_0xb96738(0xfb)][_0xb96738(0x426)](this[_0xb96738(0x67f)]+'\x20('+this['instance'][_0xb96738(0x697)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x2e318b instanceof Error?_0x2e318b[_0xb96738(0x335)]:JSON[_0xb96738(0x6d5)](_0x2e318b,null,0x2)));}}async['createFlow'](_0x45a3fc){const _0x2ebebf=a0_0x2530f3;try{if(this[_0x2ebebf(0xfb)][_0x2ebebf(0x34d)](this[_0x2ebebf(0x67f)]+'\x20('+this['instance'][_0x2ebebf(0x697)]+_0x2ebebf(0xa6)),await this[_0x2ebebf(0x45b)][_0x2ebebf(0x34c)][_0x2ebebf(0x2ff)]({'where':{'name':_0x45a3fc[_0x2ebebf(0x6c9)]}},this[_0x2ebebf(0x281)][_0x2ebebf(0x697)]))return{'message':'Flow\x20already\x20exists'};_0x45a3fc[_0x2ebebf(0x22c)]===!0x0&&await this[_0x2ebebf(0x45b)][_0x2ebebf(0x34c)]['updateMany']({},{'default':!0x1},this[_0x2ebebf(0x281)][_0x2ebebf(0x697)]);let _0x2c5ea4=new ie[(_0x2ebebf(0x20f))][(_0x2ebebf(0x659))](),_0x566d73={'_id':_0x2c5ea4,'default':!0x0,'title':_0x2ebebf(0x427),'x':0x0,'y':0x0},_0x1f347d={'_id':new ie[(_0x2ebebf(0x20f))]['ObjectId'](),'order':0x1,'groupId':_0x2c5ea4['toString'](),'type':_0x2ebebf(0x383)},_0x1847db={'_id':new ie[(_0x2ebebf(0x20f))]['ObjectId'](),'owner':this[_0x2ebebf(0x281)][_0x2ebebf(0x697)],'name':_0x45a3fc['name'],'groups':[_0x566d73],'blocks':[_0x1f347d],..._0x45a3fc};return _0x1847db=await this['repository'][_0x2ebebf(0x34c)][_0x2ebebf(0x24e)](_0x1847db,this[_0x2ebebf(0x281)]['wuid']),_0x1847db;}catch(_0x324f6d){throw this[_0x2ebebf(0xfb)]['error'](this[_0x2ebebf(0x67f)]+'\x20('+this[_0x2ebebf(0x281)][_0x2ebebf(0x697)]+_0x2ebebf(0x29d)+(_0x324f6d instanceof Error?_0x324f6d[_0x2ebebf(0x335)]:JSON[_0x2ebebf(0x6d5)](_0x324f6d,null,0x2))),new m(_0x2ebebf(0x67a)+_0x324f6d);}}async[a0_0x2530f3(0x538)](_0x30e8be){const _0xea9a9a=a0_0x2530f3;try{return this[_0xea9a9a(0xfb)]['verbose'](this[_0xea9a9a(0x67f)]+'\x20('+this[_0xea9a9a(0x281)]['wuid']+_0xea9a9a(0x701)),await this[_0xea9a9a(0x45b)][_0xea9a9a(0x34c)]['deleteOne']({'where':{'name':_0x30e8be}},this['instance'][_0xea9a9a(0x697)]);}catch(_0x4e5e32){return this[_0xea9a9a(0xfb)][_0xea9a9a(0x426)](this['instanceName']+'\x20('+this[_0xea9a9a(0x281)][_0xea9a9a(0x697)]+_0xea9a9a(0x5dd)+(_0x4e5e32 instanceof Error?_0x4e5e32[_0xea9a9a(0x335)]:JSON[_0xea9a9a(0x6d5)](_0x4e5e32,null,0x2))),{'message':_0xea9a9a(0x362)+_0x4e5e32};}}async[a0_0x2530f3(0x468)](_0x5b026b){const _0x51a44d=a0_0x2530f3;try{this[_0x51a44d(0xfb)][_0x51a44d(0x34d)](this[_0x51a44d(0x67f)]+'\x20('+this['instance'][_0x51a44d(0x697)]+'):\x20Buscando\x20flow...');let _0x28fe17=await this[_0x51a44d(0x45b)][_0x51a44d(0x34c)][_0x51a44d(0x2ff)]({'where':{'name':_0x5b026b}},this[_0x51a44d(0x281)][_0x51a44d(0x697)]);if(!_0x28fe17)throw new Error(_0x51a44d(0x670));if(!this['AutomateSystem']&&(await this[_0x51a44d(0x511)](),!this[_0x51a44d(0x5e2)]))return null;let _0x5202cb=this[_0x51a44d(0x5e2)]?.[_0x51a44d(0x5f6)][_0x51a44d(0x378)](_0x16da78=>_0x16da78['name']),_0xbbc519=[_0x51a44d(0x2f1),_0x51a44d(0x37f),'email','cpf',_0x51a44d(0x64f),_0x51a44d(0x5eb),_0x51a44d(0x273),_0x51a44d(0x34e),_0x51a44d(0x54d)];_0x28fe17['variables']=_0x28fe17[_0x51a44d(0x387)][_0x51a44d(0x4bb)](_0x12a06f=>!(_0x12a06f[_0x51a44d(0x5cd)]===_0x51a44d(0x444)||_0x12a06f[_0x51a44d(0x444)])),_0xbbc519[_0x51a44d(0x2ed)](_0x17745a=>{const _0x560a3d=_0x51a44d;_0x28fe17[_0x560a3d(0x387)][_0x560a3d(0x5aa)]({'folder':_0x560a3d(0x444),'name':_0x17745a,'value':'','doc':'','leadInfo':!0x0});}),_0x5202cb[_0x51a44d(0x2ed)](_0x19e5b2=>{const _0x5d05b7=_0x51a44d;let _0x41c38a=_0x28fe17[_0x5d05b7(0x387)]['findIndex'](_0x1171c8=>_0x1171c8['name']===_0x19e5b2);_0x41c38a===-0x1?_0x28fe17[_0x5d05b7(0x387)][_0x5d05b7(0x5aa)]({'folder':_0x5d05b7(0x444),'name':_0x19e5b2,'value':'','doc':'','leadInfo':!0x0}):(_0x28fe17['variables'][_0x41c38a][_0x5d05b7(0x5cd)]=_0x5d05b7(0x444),_0x28fe17[_0x5d05b7(0x387)][_0x41c38a][_0x5d05b7(0x444)]=!0x0);}),_0x28fe17[_0x51a44d(0x1d4)]&&_0x28fe17[_0x51a44d(0x1d4)][_0x51a44d(0x66c)]>0x0&&_0x28fe17['blocks'][_0x51a44d(0x2ed)](_0x35f142=>{const _0x5c7386=_0x51a44d;_0x35f142[_0x5c7386(0x700)]&&_0x35f142[_0x5c7386(0x2d7)]&&_0x35f142[_0x5c7386(0x700)]===_0x35f142[_0x5c7386(0x2d7)]&&(_0x35f142['next_groupId']=null);});let _0x13dd93=await this[_0x51a44d(0x45b)][_0x51a44d(0x34c)][_0x51a44d(0x31a)](_0x28fe17[_0x51a44d(0x13f)],_0x28fe17,this['instance']['wuid']);if(!_0x13dd93)throw new Error(_0x51a44d(0x4b0));return _0x13dd93;}catch(_0x31b6a4){throw this[_0x51a44d(0xfb)][_0x51a44d(0x426)](this['instanceName']+'\x20('+this[_0x51a44d(0x281)]['wuid']+_0x51a44d(0x5d4)+(_0x31b6a4 instanceof Error?_0x31b6a4[_0x51a44d(0x335)]:JSON[_0x51a44d(0x6d5)](_0x31b6a4,null,0x2))),new m('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x31b6a4);}}async['allFlows'](){const _0x50403d=a0_0x2530f3;try{return this[_0x50403d(0xfb)][_0x50403d(0x34d)](this['instanceName']+'\x20('+this['instance'][_0x50403d(0x697)]+_0x50403d(0x371)),await this[_0x50403d(0x45b)][_0x50403d(0x34c)][_0x50403d(0x594)]({'where':{}},this['instance']['wuid']);}catch(_0x438fec){return this[_0x50403d(0xfb)]['error'](this[_0x50403d(0x67f)]+'\x20('+this['instance'][_0x50403d(0x697)]+_0x50403d(0x4a6)+(_0x438fec instanceof Error?_0x438fec[_0x50403d(0x335)]:JSON[_0x50403d(0x6d5)](_0x438fec,null,0x2))),{'message':_0x50403d(0x6b6)+_0x438fec};}}async['editFlow'](_0x9050e3){const _0x48be76=a0_0x2530f3;try{this[_0x48be76(0xfb)][_0x48be76(0x34d)](this['instanceName']+'\x20('+this[_0x48be76(0x281)][_0x48be76(0x697)]+_0x48be76(0x1f4));let _0x265756=await this[_0x48be76(0x45b)][_0x48be76(0x34c)]['findOne']({'where':{'name':_0x9050e3[_0x48be76(0x6c9)]}},this['instance'][_0x48be76(0x697)]);return _0x265756?(_0x9050e3['default']===!0x0&&await this[_0x48be76(0x45b)]['flow'][_0x48be76(0x1d7)]({},{'default':!0x1},this['instance'][_0x48be76(0x697)]),await this[_0x48be76(0x45b)][_0x48be76(0x34c)][_0x48be76(0x31a)](_0x265756[_0x48be76(0x13f)],_0x9050e3,this['instance']['wuid'])):{'message':_0x48be76(0x3b8)};}catch(_0x19dfa3){throw this[_0x48be76(0xfb)][_0x48be76(0x426)](this[_0x48be76(0x67f)]+'\x20('+this[_0x48be76(0x281)][_0x48be76(0x697)]+_0x48be76(0x343)+(_0x19dfa3 instanceof Error?_0x19dfa3[_0x48be76(0x335)]:JSON[_0x48be76(0x6d5)](_0x19dfa3,null,0x2))),new m(_0x48be76(0x278)+(_0x19dfa3 instanceof Error?_0x19dfa3[_0x48be76(0x335)]:JSON['stringify'](_0x19dfa3,null,0x2)));}}async[a0_0x2530f3(0x158)](_0x3e39a2){const _0x10c21a=a0_0x2530f3;try{this[_0x10c21a(0xfb)]['verbose'](this[_0x10c21a(0x67f)]+'\x20('+this[_0x10c21a(0x281)][_0x10c21a(0x697)]+_0x10c21a(0x299));let _0x1c7237=await this['repository'][_0x10c21a(0x34c)][_0x10c21a(0x2ff)]({'where':{'name':_0x3e39a2[_0x10c21a(0x6c9)]}},this[_0x10c21a(0x281)][_0x10c21a(0x697)]);_0x1c7237||this[_0x10c21a(0xf7)](_0x10c21a(0x670));let {block:_0x2ee8a4}=_0x3e39a2;_0x2ee8a4?.['copy']?this[_0x10c21a(0x4d2)](_0x1c7237,_0x3e39a2):_0x2ee8a4?.[_0x10c21a(0x6c8)]?this['deleteBlock'](_0x1c7237,_0x3e39a2):_0x2ee8a4['_id']?await this[_0x10c21a(0x230)](_0x1c7237,_0x3e39a2):this[_0x10c21a(0x254)](_0x1c7237,_0x3e39a2);let _0x33130c=await this[_0x10c21a(0x45b)][_0x10c21a(0x34c)][_0x10c21a(0x31a)](_0x1c7237[_0x10c21a(0x13f)],_0x1c7237,this[_0x10c21a(0x281)][_0x10c21a(0x697)]);if(!_0x33130c)throw new Error(_0x10c21a(0x4b0));return _0x33130c;}catch(_0x1e5bbb){this[_0x10c21a(0xf7)](_0x10c21a(0x61c)+_0x1e5bbb);}}async[a0_0x2530f3(0x4d2)](_0xc7b7b,_0x564d24){const _0x225d62=a0_0x2530f3;let _0x3af22e=_0x564d24[_0x225d62(0x103)][_0x225d62(0x13f)],_0x1bb16b=_0xc7b7b[_0x225d62(0x1d4)][_0x225d62(0x44c)](_0x8da129=>_0x8da129[_0x225d62(0x13f)]['toString']()===_0x3af22e);if(!_0x1bb16b){this[_0x225d62(0xfb)][_0x225d62(0x426)](this['instanceName']+'\x20('+this[_0x225d62(0x281)][_0x225d62(0x697)]+_0x225d62(0x226)+_0x3af22e+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x225d62(0xfb)][_0x225d62(0x34d)](this['instanceName']+'\x20('+this[_0x225d62(0x281)][_0x225d62(0x697)]+_0x225d62(0x542)+JSON[_0x225d62(0x6d5)](_0x1bb16b));let _0x381ffc=JSON[_0x225d62(0x520)](JSON['stringify'](_0x1bb16b));_0x381ffc[_0x225d62(0x13f)]=new ie['default'][(_0x225d62(0x20f))][(_0x225d62(0x659))](),this[_0x225d62(0xfb)][_0x225d62(0x34d)](this[_0x225d62(0x67f)]+'\x20('+this['instance'][_0x225d62(0x697)]+_0x225d62(0x3f5)+JSON[_0x225d62(0x6d5)](_0x381ffc)),_0xc7b7b[_0x225d62(0x1d4)]['push'](_0x381ffc),this['reorderBlocks'](_0xc7b7b[_0x225d62(0x1d4)],_0x381ffc['groupId']);}[a0_0x2530f3(0xf7)](_0x5a5abb){const _0x4eddc0=a0_0x2530f3;throw this[_0x4eddc0(0xfb)][_0x4eddc0(0x426)](this[_0x4eddc0(0x67f)]+'\x20('+this['instance'][_0x4eddc0(0x697)]+_0x4eddc0(0x359)+_0x5a5abb),new m(_0x5a5abb);}[a0_0x2530f3(0x389)](_0x263f80,_0x520f44){const _0x5480c5=a0_0x2530f3;let {block:_0x27babe}=_0x520f44;if(_0x27babe[_0x5480c5(0x101)]===_0x5480c5(0x383)){this['throwAndLogError'](_0x5480c5(0x629));return;}if(!_0x27babe[_0x5480c5(0x13f)]){this[_0x5480c5(0xf7)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0xa85992=_0x263f80[_0x5480c5(0x1d4)][_0x5480c5(0x44c)](_0x524dc6=>_0x524dc6[_0x5480c5(0x13f)][_0x5480c5(0x593)]()===_0x520f44[_0x5480c5(0x103)][_0x5480c5(0x13f)]['toString']());if(!_0xa85992){this['throwAndLogError'](_0x5480c5(0x60e)+_0x27babe[_0x5480c5(0x13f)]+_0x5480c5(0x455));return;}_0x263f80[_0x5480c5(0x1d4)]=_0x263f80[_0x5480c5(0x1d4)][_0x5480c5(0x4bb)](_0x4af217=>_0x4af217[_0x5480c5(0x13f)][_0x5480c5(0x593)]()!==_0x520f44['block'][_0x5480c5(0x13f)][_0x5480c5(0x593)]()),_0x263f80[_0x5480c5(0x6be)]=_0x263f80[_0x5480c5(0x6be)][_0x5480c5(0x4bb)](_0x559d66=>_0x559d66[_0x5480c5(0x65d)]!==_0x27babe[_0x5480c5(0x13f)]['toString']()),_0x263f80[_0x5480c5(0x653)]=_0x263f80['varedits']['filter'](_0x544a81=>_0x544a81[_0x5480c5(0x65d)]!==_0x27babe[_0x5480c5(0x13f)]['toString']()),_0x263f80[_0x5480c5(0xeb)]=_0x263f80[_0x5480c5(0xeb)][_0x5480c5(0x4bb)](_0x5dfade=>_0x5dfade[_0x5480c5(0x65d)]!==_0x27babe[_0x5480c5(0x13f)][_0x5480c5(0x593)]()),this['reorderBlocks'](_0x263f80[_0x5480c5(0x1d4)],_0xa85992[_0x5480c5(0x700)]);}async[a0_0x2530f3(0x230)](_0x4541af,_0x324cba){const _0x5de395=a0_0x2530f3;let _0x13d456=_0x4541af[_0x5de395(0x1d4)][_0x5de395(0x5ec)](_0x46be87=>_0x46be87[_0x5de395(0x13f)][_0x5de395(0x593)]()===_0x324cba[_0x5de395(0x103)][_0x5de395(0x13f)][_0x5de395(0x593)]());if(this[_0x5de395(0xfb)][_0x5de395(0x34d)](this[_0x5de395(0x67f)]+'\x20('+this[_0x5de395(0x281)][_0x5de395(0x697)]+_0x5de395(0x3ff)+_0x13d456),_0x13d456===-0x1){this['logger'][_0x5de395(0x34d)](_0x5de395(0x60e)+_0x324cba[_0x5de395(0x103)][_0x5de395(0x13f)]+_0x5de395(0x11e));return;}if(_0x4541af[_0x5de395(0x1d4)][_0x13d456][_0x5de395(0x101)]===_0x5de395(0x383)){let _0x1256cc=Object[_0x5de395(0x557)](_0x324cba[_0x5de395(0x103)]);if(_0x1256cc[_0x5de395(0x66c)]>0x2||_0x1256cc[_0x5de395(0x66c)]===0x2&&!_0x1256cc[_0x5de395(0x3e8)](_0x5de395(0x2d7))){this[_0x5de395(0xf7)](_0x5de395(0x4ba));return;}}let _0x423c83=_0x4541af[_0x5de395(0x1d4)][_0x13d456][_0x5de395(0x700)];for(let _0x57826c in _0x324cba[_0x5de395(0x103)])_0x324cba['block']['hasOwnProperty'](_0x57826c)&&(_0x4541af[_0x5de395(0x1d4)][_0x13d456][_0x57826c]=_0x324cba[_0x5de395(0x103)][_0x57826c]);if(this['logger']['verbose'](this[_0x5de395(0x67f)]+'\x20('+this[_0x5de395(0x281)][_0x5de395(0x697)]+_0x5de395(0x1f0)+JSON[_0x5de395(0x6d5)](_0x4541af[_0x5de395(0x1d4)][_0x13d456])),_0x4541af['blocks'][_0x13d456][_0x5de395(0x227)]&&_0x5de395(0x5ad)in _0x4541af['blocks'][_0x13d456][_0x5de395(0x227)]){this[_0x5de395(0xfb)]['verbose'](this[_0x5de395(0x67f)]+'\x20('+this['instance'][_0x5de395(0x697)]+_0x5de395(0x65a));let _0x2b391a=JSON['stringify'](_0x4541af[_0x5de395(0x1d4)][_0x13d456][_0x5de395(0x227)]['header'],null,0x1);_0x2b391a['length']>0x2&&(_0x2b391a=_0x2b391a[_0x5de395(0x386)](0x1,_0x2b391a[_0x5de395(0x66c)]-0x1)[_0x5de395(0x308)]()),_0x4541af[_0x5de395(0x1d4)][_0x13d456]['apirequest']['headerString']=_0x2b391a;}if(_0x4541af[_0x5de395(0x1d4)][_0x13d456][_0x5de395(0x227)]&&'body'in _0x4541af[_0x5de395(0x1d4)][_0x13d456][_0x5de395(0x227)]){this[_0x5de395(0xfb)][_0x5de395(0x34d)](this[_0x5de395(0x67f)]+'\x20('+this['instance'][_0x5de395(0x697)]+_0x5de395(0x500));let _0x9448bf=JSON[_0x5de395(0x6d5)](_0x4541af[_0x5de395(0x1d4)][_0x13d456][_0x5de395(0x227)][_0x5de395(0x295)],null,0x1);_0x9448bf['length']>0x2&&(_0x9448bf=_0x9448bf[_0x5de395(0x386)](0x1,_0x9448bf[_0x5de395(0x66c)]-0x1)[_0x5de395(0x308)]()),_0x4541af[_0x5de395(0x1d4)][_0x13d456][_0x5de395(0x227)]['bodyString']=_0x9448bf;}let _0xbfc69a=_0x4541af[_0x5de395(0x1d4)][_0x13d456][_0x5de395(0x700)];_0x423c83!==_0xbfc69a?(this['reorderBlocks'](_0x4541af[_0x5de395(0x1d4)],_0x423c83),this[_0x5de395(0x49d)](_0x4541af[_0x5de395(0x1d4)],_0xbfc69a)):this['reorderBlocks'](_0x4541af[_0x5de395(0x1d4)],_0x423c83);}[a0_0x2530f3(0x254)](_0x5fbe8,_0x270a41){const _0x5f2e4d=a0_0x2530f3;if(_0x270a41[_0x5f2e4d(0x103)]['type']==='start'){this['throwAndLogError']('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x270a41[_0x5f2e4d(0x103)][_0x5f2e4d(0x227)]&&'header'in _0x270a41[_0x5f2e4d(0x103)][_0x5f2e4d(0x227)]){this[_0x5f2e4d(0xfb)][_0x5f2e4d(0x34d)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x4201f0=JSON[_0x5f2e4d(0x6d5)](_0x270a41['block'][_0x5f2e4d(0x227)][_0x5f2e4d(0x5ad)],null,0x1);_0x4201f0[_0x5f2e4d(0x66c)]>0x2&&(_0x4201f0=_0x4201f0[_0x5f2e4d(0x386)](0x1,_0x4201f0[_0x5f2e4d(0x66c)]-0x1)[_0x5f2e4d(0x308)]()),_0x270a41[_0x5f2e4d(0x103)][_0x5f2e4d(0x227)][_0x5f2e4d(0x529)]=_0x4201f0;}_0x270a41[_0x5f2e4d(0x103)][_0x5f2e4d(0x227)]&&'body'in _0x270a41[_0x5f2e4d(0x103)]['apirequest']&&(this[_0x5f2e4d(0xfb)][_0x5f2e4d(0x34d)](this[_0x5f2e4d(0x67f)]+'\x20('+this['instance'][_0x5f2e4d(0x697)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x270a41[_0x5f2e4d(0x103)]['apirequest'][_0x5f2e4d(0x36c)]=JSON['stringify'](_0x270a41[_0x5f2e4d(0x103)][_0x5f2e4d(0x227)]['body'],null,0x1)['trim']()),_0x5fbe8[_0x5f2e4d(0x1d4)][_0x5f2e4d(0x5aa)](_0x270a41[_0x5f2e4d(0x103)]),this['reorderBlocks'](_0x5fbe8[_0x5f2e4d(0x1d4)],_0x270a41['block']['groupId']);}[a0_0x2530f3(0x49d)](_0x5cebc6,_0xb157e0){const _0x9645be=a0_0x2530f3;let _0x336102=_0x5cebc6[_0x9645be(0x4bb)](_0x13e4c1=>_0x13e4c1['groupId']===_0xb157e0);_0x336102[_0x9645be(0xb3)]((_0x55ee83,_0x2df167)=>_0x55ee83[_0x9645be(0x528)]-_0x2df167[_0x9645be(0x528)]),_0x336102[_0x9645be(0x2ed)]((_0xe5a4d7,_0x27cef4)=>_0xe5a4d7[_0x9645be(0x528)]=_0x27cef4+0x1);}async[a0_0x2530f3(0x37e)](_0x4d9d5a){const _0x31f267=a0_0x2530f3;try{if(this['logger'][_0x31f267(0x34d)](this[_0x31f267(0x67f)]+'\x20('+this[_0x31f267(0x281)]['wuid']+_0x31f267(0x1a6)),!_0x4d9d5a||!_0x4d9d5a[_0x31f267(0x1da)]){this['throwAndLogError'](_0x31f267(0x56b));return;}let _0xeb67d7=await this[_0x31f267(0x45b)][_0x31f267(0x34c)]['findOne']({'where':{'name':_0x4d9d5a[_0x31f267(0x6c9)]}},this[_0x31f267(0x281)][_0x31f267(0x697)]);_0xeb67d7||this['throwAndLogError'](_0x31f267(0x670));let {replyOption:_0x57e933}=_0x4d9d5a;_0x57e933?.[_0x31f267(0x6c8)]?(this[_0x31f267(0x202)](_0xeb67d7,_0x4d9d5a),this[_0x31f267(0x676)](_0xeb67d7[_0x31f267(0xeb)],_0x4d9d5a[_0x31f267(0x1da)]['blockId'])):_0x57e933[_0x31f267(0x13f)]?(await this['updateReplyOption'](_0xeb67d7,_0x4d9d5a),this['reorderReplyOptions'](_0xeb67d7['replyOptions'],_0x4d9d5a[_0x31f267(0x1da)][_0x31f267(0x65d)])):(this['addReplyOption'](_0xeb67d7,_0x4d9d5a),this['reorderReplyOptions'](_0xeb67d7[_0x31f267(0xeb)],_0x4d9d5a[_0x31f267(0x1da)][_0x31f267(0x65d)]));let _0x406453=await this[_0x31f267(0x45b)]['flow'][_0x31f267(0x31a)](_0xeb67d7[_0x31f267(0x13f)],_0xeb67d7,this['instance'][_0x31f267(0x697)]);if(!_0x406453)throw new Error(_0x31f267(0x4b0));return _0x406453;}catch(_0x21d699){this[_0x31f267(0xf7)](_0x31f267(0x1d8)+_0x21d699);}}[a0_0x2530f3(0x676)](_0x2613d3,_0x1a1011){const _0x25cefc=a0_0x2530f3;console['log'](_0x25cefc(0x509),_0x1a1011),_0x2613d3[_0x25cefc(0x2ed)](_0x44e0df=>{const _0x4ba016=_0x25cefc;_0x44e0df[_0x4ba016(0x65d)]===_0x1a1011&&_0x44e0df[_0x4ba016(0x528)]===void 0x0&&(_0x44e0df[_0x4ba016(0x528)]=0x270f);});let _0x46df74=_0x2613d3[_0x25cefc(0x4bb)](_0x211a7a=>_0x211a7a[_0x25cefc(0x65d)]===_0x1a1011);_0x46df74[_0x25cefc(0xb3)]((_0x565448,_0xb5db21)=>_0x565448['order']-_0xb5db21['order']),_0x46df74[_0x25cefc(0x2ed)]((_0xfb8d83,_0x3c8b93)=>{const _0x336cda=_0x25cefc;_0xfb8d83[_0x336cda(0x528)]=_0x3c8b93+0x1;}),_0x2613d3[_0x25cefc(0x2ed)](_0x1a9d62=>{const _0x502977=_0x25cefc;if(_0x1a9d62[_0x502977(0x65d)]===_0x1a1011){let _0x35d868=_0x46df74[_0x502977(0x44c)](_0x443494=>_0x443494[_0x502977(0x13f)]&&_0x1a9d62['_id']&&_0x443494[_0x502977(0x13f)][_0x502977(0x593)]()===_0x1a9d62['_id'][_0x502977(0x593)]());_0x35d868&&(_0x1a9d62[_0x502977(0x528)]=_0x35d868[_0x502977(0x528)]);}}),console[_0x25cefc(0x1cc)](_0x25cefc(0x682),_0x2613d3);}['deleteReplyOption'](_0xa4f3be,_0x5f1f5b){const _0x35bac5=a0_0x2530f3;let {replyOption:_0x3df8a5}=_0x5f1f5b;if(!_0x3df8a5[_0x35bac5(0x13f)]){this[_0x35bac5(0xf7)](_0x35bac5(0x5d1));return;}if(!_0xa4f3be[_0x35bac5(0xeb)]['find'](_0x43e332=>_0x43e332[_0x35bac5(0x13f)]['toString']()===_0x5f1f5b[_0x35bac5(0x1da)][_0x35bac5(0x13f)]['toString']())){this[_0x35bac5(0xf7)](_0x35bac5(0x512)+_0x3df8a5[_0x35bac5(0x13f)]+_0x35bac5(0x455));return;}_0xa4f3be[_0x35bac5(0xeb)]=_0xa4f3be[_0x35bac5(0xeb)][_0x35bac5(0x4bb)](_0xe62775=>_0xe62775['_id'][_0x35bac5(0x593)]()!==_0x5f1f5b['replyOption'][_0x35bac5(0x13f)][_0x35bac5(0x593)]());}async[a0_0x2530f3(0x6ce)](_0x9e8e72,_0x2aacd3){const _0x588075=a0_0x2530f3;let _0x3f9f66=_0x9e8e72[_0x588075(0xeb)][_0x588075(0x5ec)](_0xe5e47c=>_0xe5e47c[_0x588075(0x13f)]['toString']()===_0x2aacd3[_0x588075(0x1da)][_0x588075(0x13f)][_0x588075(0x593)]());if(_0x3f9f66===-0x1){this[_0x588075(0xf7)]('ReplyOption\x20com\x20ID\x20'+_0x2aacd3['replyOption']['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x1865a9 in _0x2aacd3[_0x588075(0x1da)])_0x2aacd3[_0x588075(0x1da)][_0x588075(0x276)](_0x1865a9)&&(_0x9e8e72[_0x588075(0xeb)][_0x3f9f66][_0x1865a9]=_0x2aacd3['replyOption'][_0x1865a9]);}[a0_0x2530f3(0x1e1)](_0x2df9c5,_0x1632b3){_0x2df9c5['replyOptions']['push'](_0x1632b3['replyOption']);}async[a0_0x2530f3(0x5b3)](_0xb62837){const _0x1fda8b=a0_0x2530f3;this[_0x1fda8b(0xfb)][_0x1fda8b(0x34d)](this['instanceName']+'\x20('+this[_0x1fda8b(0x281)][_0x1fda8b(0x697)]+_0x1fda8b(0xfe)+_0xb62837);try{this[_0x1fda8b(0xfb)][_0x1fda8b(0x34d)](this['instanceName']+'\x20('+this[_0x1fda8b(0x281)]['wuid']+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x1c42e7=await this[_0x1fda8b(0x45b)][_0x1fda8b(0x34c)][_0x1fda8b(0x2ff)]({'where':{'name':_0xb62837['name']}},this[_0x1fda8b(0x281)][_0x1fda8b(0x697)]);if(!_0x1c42e7)throw new Error(_0x1fda8b(0x670));if(_0xb62837[_0x1fda8b(0x116)]&&_0xb62837[_0x1fda8b(0x116)]?.[_0x1fda8b(0x6c8)]===!0x0){if(this[_0x1fda8b(0xfb)][_0x1fda8b(0x34d)](this[_0x1fda8b(0x67f)]+'\x20('+this[_0x1fda8b(0x281)][_0x1fda8b(0x697)]+_0x1fda8b(0x247)),_0xb62837[_0x1fda8b(0x116)]['default']===!0x0)return{'message':_0x1fda8b(0x44d)};if(_0x1c42e7[_0x1fda8b(0x1d4)][_0x1fda8b(0xe3)](_0x279e0b=>_0x279e0b[_0x1fda8b(0x700)]['toString']()===_0xb62837[_0x1fda8b(0x116)][_0x1fda8b(0x13f)]))return this[_0x1fda8b(0xfb)]['verbose'](this[_0x1fda8b(0x67f)]+'\x20('+this[_0x1fda8b(0x281)]['wuid']+_0x1fda8b(0x161)),{'message':_0x1fda8b(0x3fa)};_0x1c42e7['groups']=_0x1c42e7[_0x1fda8b(0x30d)][_0x1fda8b(0x4bb)](_0x496efe=>_0x496efe[_0x1fda8b(0x13f)][_0x1fda8b(0x593)]()!==_0xb62837['group']['_id']);}else{if(_0xb62837['group']){if(_0xb62837[_0x1fda8b(0x116)]['default']===!0x0)return{'message':_0x1fda8b(0x241)};if(_0xb62837[_0x1fda8b(0x116)][_0x1fda8b(0x13f)]){let _0x1b639b=_0x1c42e7['groups'][_0x1fda8b(0x44c)](_0x31af08=>_0x31af08[_0x1fda8b(0x13f)][_0x1fda8b(0x593)]()===_0xb62837[_0x1fda8b(0x116)][_0x1fda8b(0x13f)]);_0x1b639b&&(_0xb62837['group']['x']<0x0&&(_0xb62837[_0x1fda8b(0x116)]['x']=0x0),_0xb62837['group']['y']<0x0&&(_0xb62837[_0x1fda8b(0x116)]['y']=0x0),Object[_0x1fda8b(0x70b)](_0x1b639b,_0xb62837['group']));}else _0x1c42e7[_0x1fda8b(0x30d)][_0x1fda8b(0x5aa)](_0xb62837[_0x1fda8b(0x116)]);}}let _0x180210=await this['repository'][_0x1fda8b(0x34c)][_0x1fda8b(0x31a)](_0x1c42e7[_0x1fda8b(0x13f)],_0x1c42e7,this['instance'][_0x1fda8b(0x697)]);if(!_0x180210)throw new Error(_0x1fda8b(0x4b0));return _0x180210;}catch(_0x360528){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x1fda8b(0x281)]['wuid']+_0x1fda8b(0x2f0)+(_0x360528 instanceof Error?_0x360528[_0x1fda8b(0x335)]:JSON['stringify'](_0x360528,null,0x2))),new m(_0x1fda8b(0x6bf)+(_0x360528 instanceof Error?_0x360528[_0x1fda8b(0x335)]:JSON[_0x1fda8b(0x6d5)](_0x360528,null,0x2)));}}async[a0_0x2530f3(0x292)](_0xfc9238){const _0x321465=a0_0x2530f3;try{this['logger'][_0x321465(0x34d)](this['instanceName']+'\x20('+this[_0x321465(0x281)][_0x321465(0x697)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x5f0808=await this[_0x321465(0x45b)]['flow'][_0x321465(0x2ff)]({'where':{'name':_0xfc9238[_0x321465(0x6c9)]}},this[_0x321465(0x281)][_0x321465(0x697)]);if(!_0x5f0808)throw new Error(_0x321465(0x670));let _0x2fcfe0=!0x1;if(_0xfc9238['condition']?.[_0x321465(0x6c8)]===!0x0)_0x5f0808['conditions']=_0x5f0808[_0x321465(0x6be)][_0x321465(0x4bb)](_0x5b6bd5=>_0x5b6bd5&&_0xfc9238['condition']&&_0x5b6bd5[_0x321465(0x13f)]&&_0xfc9238[_0x321465(0x1dc)][_0x321465(0x13f)]&&_0x5b6bd5[_0x321465(0x13f)]['toString']()!==_0xfc9238['condition'][_0x321465(0x13f)]['toString']()),_0x2fcfe0=!0x0;else{let _0x27422a=_0x5f0808[_0x321465(0x6be)][_0x321465(0x44c)](_0x1b52e1=>_0x1b52e1&&_0xfc9238['condition']&&_0x1b52e1['_id']&&_0xfc9238[_0x321465(0x1dc)][_0x321465(0x13f)]&&_0x1b52e1[_0x321465(0x13f)][_0x321465(0x593)]()===_0xfc9238[_0x321465(0x1dc)][_0x321465(0x13f)][_0x321465(0x593)]());_0x27422a?(_0x2fcfe0=_0x27422a[_0x321465(0x528)]!==_0xfc9238[_0x321465(0x1dc)][_0x321465(0x528)],Object[_0x321465(0x70b)](_0x27422a,_0xfc9238[_0x321465(0x1dc)])):(_0x5f0808[_0x321465(0x6be)][_0x321465(0x5aa)](_0xfc9238[_0x321465(0x1dc)]),_0x2fcfe0=!0x0);}if(_0x2fcfe0){_0x5f0808[_0x321465(0x6be)][_0x321465(0xb3)]((_0x37285e,_0x199791)=>_0x37285e['order']>_0x199791['order']?0x1:_0x199791[_0x321465(0x528)]>_0x37285e[_0x321465(0x528)]?-0x1:0x0);for(let _0x3ea60f=0x0;_0x3ea60f<_0x5f0808[_0x321465(0x6be)][_0x321465(0x66c)];_0x3ea60f++)_0x5f0808[_0x321465(0x6be)][_0x3ea60f][_0x321465(0x528)]=_0x3ea60f+0x1;_0x5f0808[_0x321465(0x6be)]['length']>0x0&&(_0x5f0808[_0x321465(0x6be)][0x0][_0x321465(0x2b3)]=_0x321465(0x464));}let _0x25a908=await this[_0x321465(0x45b)]['flow']['updateOne'](_0x5f0808['_id'],_0x5f0808,this[_0x321465(0x281)][_0x321465(0x697)]);if(!_0x25a908)throw new Error(_0x321465(0x4b0));return _0x25a908;}catch(_0x5232f1){throw this[_0x321465(0xfb)][_0x321465(0x426)](this[_0x321465(0x67f)]+'\x20('+this[_0x321465(0x281)]['wuid']+_0x321465(0x322)+(_0x5232f1 instanceof Error?_0x5232f1[_0x321465(0x335)]:JSON['stringify'](_0x5232f1,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x5232f1 instanceof Error?_0x5232f1[_0x321465(0x335)]:JSON[_0x321465(0x6d5)](_0x5232f1,null,0x2)));}}async['editFlowVaredit'](_0x399236){const _0x55117b=a0_0x2530f3;try{this[_0x55117b(0xfb)][_0x55117b(0x34d)](this['instanceName']+'\x20('+this[_0x55117b(0x281)][_0x55117b(0x697)]+_0x55117b(0x68d));let _0x203ecf=await this['repository'][_0x55117b(0x34c)]['findOne']({'where':{'name':_0x399236[_0x55117b(0x6c9)]}},this['instance'][_0x55117b(0x697)]);if(!_0x203ecf)throw new Error('Flow\x20não\x20encontrado');let _0x477712=!0x1;if(_0x399236[_0x55117b(0x55e)]?.[_0x55117b(0x6c8)]===!0x0)_0x203ecf[_0x55117b(0x653)]=_0x203ecf[_0x55117b(0x653)][_0x55117b(0x4bb)](_0x482e0b=>_0x482e0b&&_0x399236[_0x55117b(0x55e)]&&_0x482e0b[_0x55117b(0x13f)]&&_0x399236['varedit']['_id']&&_0x482e0b['_id']['toString']()!==_0x399236[_0x55117b(0x55e)][_0x55117b(0x13f)][_0x55117b(0x593)]()),_0x477712=!0x0;else{let _0x5225b9=_0x203ecf['varedits'][_0x55117b(0x44c)](_0x193496=>_0x193496&&_0x399236[_0x55117b(0x55e)]&&_0x193496['_id']&&_0x399236['varedit'][_0x55117b(0x13f)]&&_0x193496[_0x55117b(0x13f)][_0x55117b(0x593)]()===_0x399236['varedit'][_0x55117b(0x13f)][_0x55117b(0x593)]());_0x5225b9?(_0x477712=_0x5225b9['order']!==_0x399236[_0x55117b(0x55e)]['order'],Object['assign'](_0x5225b9,_0x399236[_0x55117b(0x55e)])):(_0x203ecf[_0x55117b(0x653)][_0x55117b(0x5aa)](_0x399236[_0x55117b(0x55e)]),_0x477712=!0x0);}if(_0x477712){_0x203ecf[_0x55117b(0x653)]['sort']((_0x45ec60,_0x2892c1)=>_0x45ec60[_0x55117b(0x528)]>_0x2892c1['order']?0x1:_0x2892c1[_0x55117b(0x528)]>_0x45ec60[_0x55117b(0x528)]?-0x1:0x0);for(let _0x2a8ecd=0x0;_0x2a8ecd<_0x203ecf['varedits'][_0x55117b(0x66c)];_0x2a8ecd++)_0x203ecf[_0x55117b(0x653)][_0x2a8ecd]['order']=_0x2a8ecd+0x1;}let _0x372e56=await this[_0x55117b(0x45b)][_0x55117b(0x34c)][_0x55117b(0x31a)](_0x203ecf[_0x55117b(0x13f)],_0x203ecf,this['instance'][_0x55117b(0x697)]);if(!_0x372e56)throw new Error(_0x55117b(0x4b0));return _0x372e56;}catch(_0x566109){throw this[_0x55117b(0xfb)][_0x55117b(0x426)](this[_0x55117b(0x67f)]+'\x20('+this[_0x55117b(0x281)]['wuid']+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x566109 instanceof Error?_0x566109['message']:JSON[_0x55117b(0x6d5)](_0x566109,null,0x2))),new m(_0x55117b(0x184)+(_0x566109 instanceof Error?_0x566109[_0x55117b(0x335)]:JSON['stringify'](_0x566109,null,0x2)));}}async['editFlowVariable'](_0x45fb83){const _0x58fbfd=a0_0x2530f3;try{this['logger'][_0x58fbfd(0x34d)](this[_0x58fbfd(0x67f)]+'\x20('+this[_0x58fbfd(0x281)][_0x58fbfd(0x697)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x14c2f5=await this[_0x58fbfd(0x45b)][_0x58fbfd(0x34c)][_0x58fbfd(0x2ff)]({'where':{'name':_0x45fb83[_0x58fbfd(0x6c9)]}},this[_0x58fbfd(0x281)][_0x58fbfd(0x697)]);if(!_0x14c2f5)throw new Error('Flow\x20não\x20encontrado');_0x45fb83['variable'][_0x58fbfd(0x6c9)]=_0x45fb83[_0x58fbfd(0x4bc)][_0x58fbfd(0x6c9)][_0x58fbfd(0x308)](),_0x45fb83[_0x58fbfd(0x4bc)][_0x58fbfd(0x6c9)][_0x58fbfd(0x301)]('_')&&(_0x45fb83[_0x58fbfd(0x4bc)][_0x58fbfd(0x6c9)]=_0x45fb83[_0x58fbfd(0x4bc)]['name'][_0x58fbfd(0x386)](0x1)),_0x45fb83[_0x58fbfd(0x4bc)][_0x58fbfd(0x6c9)]=_0x45fb83['variable'][_0x58fbfd(0x6c9)][_0x58fbfd(0x308)]();let _0x438024=_0x14c2f5[_0x58fbfd(0x387)][_0x58fbfd(0x44c)](_0xb53717=>_0xb53717['name']===_0x45fb83[_0x58fbfd(0x4bc)][_0x58fbfd(0x6c9)]);if(_0x438024?.[_0x58fbfd(0x444)]===!0x0)throw new Error(_0x58fbfd(0x533));if(_0x45fb83[_0x58fbfd(0x4bc)]?.[_0x58fbfd(0x6c8)]===!0x0){if(!_0x438024)return{'message':'Variável\x20não\x20encontrada!'};_0x14c2f5[_0x58fbfd(0x387)]=_0x14c2f5['variables'][_0x58fbfd(0x4bb)](_0x39c2c2=>_0x39c2c2['name']!==_0x45fb83[_0x58fbfd(0x4bc)][_0x58fbfd(0x6c9)]);}else _0x438024?Object[_0x58fbfd(0x70b)](_0x438024,_0x45fb83[_0x58fbfd(0x4bc)]):_0x14c2f5[_0x58fbfd(0x387)][_0x58fbfd(0x5aa)](_0x45fb83[_0x58fbfd(0x4bc)]);let _0xac53a6=await this[_0x58fbfd(0x45b)][_0x58fbfd(0x34c)][_0x58fbfd(0x31a)](_0x14c2f5[_0x58fbfd(0x13f)],_0x14c2f5,this[_0x58fbfd(0x281)][_0x58fbfd(0x697)]);if(!_0xac53a6)throw new Error(_0x58fbfd(0x4b0));return _0xac53a6;}catch(_0x4c5945){throw this[_0x58fbfd(0xfb)][_0x58fbfd(0x426)](this[_0x58fbfd(0x67f)]+'\x20('+this[_0x58fbfd(0x281)][_0x58fbfd(0x697)]+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x4c5945 instanceof Error?_0x4c5945[_0x58fbfd(0x335)]:JSON[_0x58fbfd(0x6d5)](_0x4c5945,null,0x2))),new m(_0x58fbfd(0x252)+(_0x4c5945 instanceof Error?_0x4c5945[_0x58fbfd(0x335)]:JSON['stringify'](_0x4c5945,null,0x2)));}}async[a0_0x2530f3(0x52a)](_0x598dac){const _0x54bb2c=a0_0x2530f3;let _0x5b7b59=null;try{if(!this['AutomateSystem']?.['flowConfig']['enabled'])throw new m(_0x54bb2c(0x4e9));this[_0x54bb2c(0xfb)][_0x54bb2c(0x34d)](this[_0x54bb2c(0x67f)]+'\x20('+this[_0x54bb2c(0x281)]['wuid']+'):\x20Iniciando\x20bot...');let _0x7edac6=(await this[_0x54bb2c(0x4c4)]({'numbers':[_0x598dac[_0x54bb2c(0x596)]]}))[0x0];if(!_0x7edac6['exists']&&!(0x0,y['isJidGroup'])(_0x7edac6[_0x54bb2c(0x53d)])&&!_0x7edac6[_0x54bb2c(0x53d)]['includes'](_0x54bb2c(0x206)))throw _0x5b7b59=JSON[_0x54bb2c(0x6d5)](_0x7edac6,null,0x2),new m(_0x7edac6);let _0x590365=await this[_0x54bb2c(0x45b)][_0x54bb2c(0x34c)][_0x54bb2c(0x2ff)]({'where':{'name':_0x598dac[_0x54bb2c(0x6c9)]}},this['instance'][_0x54bb2c(0x697)]);if(!_0x590365)return this['logger'][_0x54bb2c(0x426)](this['instanceName']+'\x20('+this[_0x54bb2c(0x281)][_0x54bb2c(0x697)]+'):\x20Flow\x20não\x20encontrado'),{'message':'Flow\x20não\x20encontrado'};let _0x2164c2=await this['createConversationforStartFlow'](_0x590365,_0x7edac6[_0x54bb2c(0x53d)],_0x598dac[_0x54bb2c(0x478)]);if(_0x2164c2){this[_0x54bb2c(0xfb)]['verbose'](this[_0x54bb2c(0x67f)]+'\x20('+this[_0x54bb2c(0x281)][_0x54bb2c(0x697)]+_0x54bb2c(0xe2));let _0x13e89d=await this['NextBlock'](_0x2164c2);return _0x13e89d&&await this[_0x54bb2c(0x42f)](_0x2164c2,_0x13e89d),{'message':_0x54bb2c(0x33b)+_0x598dac[_0x54bb2c(0x596)]};}}catch(_0x3dc34a){if(this['logger'][_0x54bb2c(0x426)](this[_0x54bb2c(0x67f)]+'\x20('+this[_0x54bb2c(0x281)][_0x54bb2c(0x697)]+_0x54bb2c(0x2a4)+(_0x3dc34a instanceof Error?_0x3dc34a['message']:JSON[_0x54bb2c(0x6d5)](_0x3dc34a,null,0x2))),_0x5b7b59=_0x3dc34a instanceof Error?_0x3dc34a[_0x54bb2c(0x335)]:JSON[_0x54bb2c(0x6d5)](_0x3dc34a,null,0x2),_0x5b7b59)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x5b7b59);}}async['closeExistingConversations'](_0x373177){const _0x107015=a0_0x2530f3;try{let _0x510619={'remoteJid':_0x373177,'status':_0x107015(0xc6)},_0x12f8f1={'status':_0x107015(0x225)},_0x3cd22a=await this[_0x107015(0x45b)][_0x107015(0x4e5)][_0x107015(0x1d7)](_0x510619,_0x12f8f1,this['instance'][_0x107015(0x697)]);return this['logger'][_0x107015(0x34d)](this[_0x107015(0x67f)]+'\x20('+this[_0x107015(0x281)]['wuid']+_0x107015(0x269)),_0x3cd22a;}catch(_0x3458e8){throw this[_0x107015(0xfb)][_0x107015(0x426)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x107015(0xed)+_0x3458e8[_0x107015(0x335)]),_0x3458e8;}}async[a0_0x2530f3(0x483)](_0x99add4,_0x29115d,_0x160bdf){const _0x209ab8=a0_0x2530f3;this['logger'][_0x209ab8(0x34d)](this['instanceName']+'\x20('+this[_0x209ab8(0x281)][_0x209ab8(0x697)]+_0x209ab8(0x1c5)),await this[_0x209ab8(0x21e)](_0x29115d);try{let _0x4cb513=require('mongodb')[_0x209ab8(0x659)],_0x45ffae=Date[_0x209ab8(0x3d0)](),_0x2fc56b='start',_0x5a91ba={},_0x1cdeec={},_0x39be81={..._0x99add4,'chatLog':null},_0xe57672=await this['variablesToObject'](_0x39be81['variables']),_0x3fc3a2=await this[_0x209ab8(0x693)](_0x29115d),_0x420209={..._0xe57672,..._0x3fc3a2,'_remoteJid':_0x29115d},_0xdc8275={'lastReceivedMessage':_0x5a91ba,'lastSendMessage':_0x1cdeec,'lastBlockId':_0x2fc56b,'lastCondition':!0x0,'realVariables':_0x420209};_0x39be81['chatLog']=_0xdc8275,_0x39be81[_0x209ab8(0x19b)][_0x209ab8(0x32a)]={..._0x420209,..._0x160bdf},delete _0x39be81[_0x209ab8(0x13f)],_0x39be81[_0x209ab8(0x13f)]=new _0x4cb513(),_0x39be81[_0x209ab8(0x536)]=_0x45ffae,_0x39be81['status']='open',_0x39be81[_0x209ab8(0x596)]=_0x29115d;let _0x5c4d66=await this[_0x209ab8(0x45b)][_0x209ab8(0x4e5)][_0x209ab8(0x31a)](_0x39be81['_id'],_0x39be81,this['instance'][_0x209ab8(0x697)]);return this[_0x209ab8(0xfb)]['verbose'](this[_0x209ab8(0x67f)]+'\x20('+this['instance'][_0x209ab8(0x697)]+_0x209ab8(0x507)),_0x5c4d66?_0x39be81:null;}catch(_0xf59a7f){throw this[_0x209ab8(0xfb)]['error'](this[_0x209ab8(0x67f)]+'\x20('+this[_0x209ab8(0x281)][_0x209ab8(0x697)]+_0x209ab8(0x36e)+(_0xf59a7f instanceof Error?_0xf59a7f[_0x209ab8(0x335)]:JSON[_0x209ab8(0x6d5)](_0xf59a7f,null,0x2))),new m(_0xf59a7f[_0x209ab8(0x335)]);}}async[a0_0x2530f3(0x4c2)](_0x5192e2){const _0x11b721=a0_0x2530f3;try{this[_0x11b721(0xfb)][_0x11b721(0x34d)](this[_0x11b721(0x67f)]+'\x20('+this[_0x11b721(0x281)]['wuid']+_0x11b721(0x442)),this[_0x11b721(0xfb)][_0x11b721(0x34d)](this[_0x11b721(0x67f)]+'\x20('+this['instance']['wuid']+'):\x20Query\x20params:\x20'+_0x5192e2);let _0x5c1c18={'where':{'_id':_0x5192e2}};return await this[_0x11b721(0x45b)][_0x11b721(0x4e5)][_0x11b721(0x2ff)](_0x5c1c18,this[_0x11b721(0x281)]['wuid']);}catch(_0x2978f5){throw this['logger'][_0x11b721(0x426)](this[_0x11b721(0x67f)]+'\x20('+this['instance'][_0x11b721(0x697)]+_0x11b721(0x37d)+(_0x2978f5 instanceof Error?_0x2978f5['message']:JSON['stringify'](_0x2978f5,null,0x2))),new m(_0x11b721(0x16d)+_0x2978f5['message']);}}async[a0_0x2530f3(0x498)](_0x15f4fa){const _0x54e3df=a0_0x2530f3;try{return this[_0x54e3df(0xfb)][_0x54e3df(0x34d)](this[_0x54e3df(0x67f)]+'\x20('+this[_0x54e3df(0x281)][_0x54e3df(0x697)]+'):\x20Buscando\x20conversas...'),await this[_0x54e3df(0x45b)]['flowConversation'][_0x54e3df(0x44c)](_0x15f4fa,this['instance'][_0x54e3df(0x697)]);}catch(_0x2fc74b){throw this['logger'][_0x54e3df(0x426)](this[_0x54e3df(0x67f)]+'\x20('+this['instance'][_0x54e3df(0x697)]+_0x54e3df(0x24a)+(_0x2fc74b instanceof Error?_0x2fc74b['message']:JSON[_0x54e3df(0x6d5)](_0x2fc74b,null,0x2))),new m(_0x54e3df(0xfa)+_0x2fc74b[_0x54e3df(0x335)]);}}async[a0_0x2530f3(0x3a0)](_0x478497){const _0x19fb6f=a0_0x2530f3;try{return this[_0x19fb6f(0xfb)][_0x19fb6f(0x34d)](this[_0x19fb6f(0x67f)]+'\x20('+this[_0x19fb6f(0x281)][_0x19fb6f(0x697)]+'):\x20Deletando\x20conversa...'),this[_0x19fb6f(0xfb)][_0x19fb6f(0x34d)](this[_0x19fb6f(0x67f)]+'\x20('+this[_0x19fb6f(0x281)]['wuid']+_0x19fb6f(0x4e2)+_0x478497),(await this[_0x19fb6f(0x45b)]['flowConversation'][_0x19fb6f(0x3fb)]({'where':{'_id':_0x478497}},this[_0x19fb6f(0x281)][_0x19fb6f(0x697)]))[_0x19fb6f(0x251)]===0x0?{'message':_0x19fb6f(0x20e)}:{'message':_0x19fb6f(0x35d)};}catch(_0x4bb7b9){throw this['logger'][_0x19fb6f(0x426)](this['instanceName']+'\x20('+this[_0x19fb6f(0x281)][_0x19fb6f(0x697)]+_0x19fb6f(0x193)+(_0x4bb7b9 instanceof Error?_0x4bb7b9[_0x19fb6f(0x335)]:JSON[_0x19fb6f(0x6d5)](_0x4bb7b9,null,0x2))),new m(_0x19fb6f(0x2fe)+_0x4bb7b9[_0x19fb6f(0x335)]);}}async[a0_0x2530f3(0x181)](_0x5e46f0){const _0xd2cddf=a0_0x2530f3;try{let {_id:_0x3a1c90,chatLog:_0x3a5d99,status:_0x4bfbf8}=_0x5e46f0;if(!_0x3a1c90)return{'message':_0xd2cddf(0x66e)};let _0x113b01={};if(_0x4bfbf8!==void 0x0&&(_0x113b01[_0xd2cddf(0x64f)]=_0x4bfbf8),Object['keys'](_0x113b01)[_0xd2cddf(0x66c)]===0x0)return{'message':_0xd2cddf(0x3fd)};let _0x4f7324=await this[_0xd2cddf(0x45b)][_0xd2cddf(0x4e5)][_0xd2cddf(0x31a)](_0x3a1c90,_0x113b01,this['instance'][_0xd2cddf(0x697)]);return _0x4f7324||{'message':_0xd2cddf(0x597)};}catch(_0x544255){throw this[_0xd2cddf(0xfb)][_0xd2cddf(0x426)](this[_0xd2cddf(0x67f)]+'\x20('+this['instance'][_0xd2cddf(0x697)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+(_0x544255 instanceof Error?_0x544255['message']:JSON[_0xd2cddf(0x6d5)](_0x544255,null,0x2))),new m(_0xd2cddf(0x545)+_0x544255[_0xd2cddf(0x335)]);}}async[a0_0x2530f3(0x233)](_0x370966){const _0x2d6375=a0_0x2530f3;let _0x2a301a=await this['repository'][_0x2d6375(0x1ad)]['findOne']({'where':{'_id':_0x370966[_0x2d6375(0x13f)]}},this[_0x2d6375(0x281)][_0x2d6375(0x697)]);if(!_0x2a301a)throw new m(_0x2d6375(0x18d));console[_0x2d6375(0x1cc)](_0x370966);try{_0x370966[_0x2d6375(0x13f)]=this[_0x2d6375(0x616)](_0x370966['_id']);let {_id:_0x1ee507,leadInfo:_0x3feb43}=_0x370966;if(!_0x1ee507)throw new Error(_0x2d6375(0x165));let _0x33a1c1=(_0x5323e9,_0x4cbb8f,_0x26a291)=>{const _0x4c2508=_0x2d6375;_0x5323e9&&_0x26a291[_0x4c2508(0x2ed)](_0x5bd579=>{_0x5323e9[_0x5bd579]!==void 0x0&&(_0x4cbb8f['leadInfo.'+_0x5bd579]=_0x5323e9[_0x5bd579]);});},_0x1c4543={};if(_0x3feb43&&(_0x33a1c1(_0x3feb43,_0x1c4543,[_0x2d6375(0x2f1),'nomecompleto',_0x2d6375(0x3f7),_0x2d6375(0x207),_0x2d6375(0x64f),_0x2d6375(0x5eb),_0x2d6375(0x34e),_0x2d6375(0x524),_0x2d6375(0x273),_0x2d6375(0x54d)]),Array[_0x2d6375(0x63d)](_0x3feb43[_0x2d6375(0x5f6)])&&(_0x1c4543[_0x2d6375(0x646)]=_0x3feb43[_0x2d6375(0x5f6)][_0x2d6375(0x378)](_0x3201e3=>({'_id':_0x3201e3[_0x2d6375(0x13f)],'value':_0x3201e3[_0x2d6375(0x456)]}))),_0x370966['leadInfo'][_0x2d6375(0x54d)]!==void 0x0)){let _0x48404f=await this[_0x2d6375(0x45b)][_0x2d6375(0x157)][_0x2d6375(0x44c)]({'where':{}},this['instance']['wuid']),_0x4b5b17=new Set(_0x370966[_0x2d6375(0x444)][_0x2d6375(0x54d)]||[]),_0x1b4acb=new Set(_0x370966['leadInfo'][_0x2d6375(0x54d)]),_0x1caec9=new Set(_0x48404f[_0x2d6375(0x378)](_0x303a4d=>_0x303a4d[_0x2d6375(0x13f)])),_0x52ed4f=[..._0x1b4acb][_0x2d6375(0x4bb)](_0x422aa0=>!_0x4b5b17[_0x2d6375(0x59e)](_0x422aa0)&&_0x1caec9[_0x2d6375(0x59e)](_0x422aa0)),_0x50f0ca=[..._0x4b5b17][_0x2d6375(0x4bb)](_0x1a9544=>!_0x1b4acb[_0x2d6375(0x59e)](_0x1a9544));if(_0x1c4543[_0x2d6375(0x212)]=[..._0x4b5b17],_0x2a301a&&!_0x2a301a[_0x2d6375(0x249)]){for(let _0x589ea3 of _0x52ed4f)await this['AddChatLabel'](_0x589ea3,_0x370966['_id']),_0x4b5b17[_0x2d6375(0x3a6)](_0x589ea3);for(let _0x92d3d4 of _0x50f0ca)await this['RemoveChatLabel'](_0x92d3d4,_0x370966[_0x2d6375(0x13f)]),_0x4b5b17['delete'](_0x92d3d4);}}if(_0x370966[_0x2d6375(0x57b)]!==void 0x0&&(_0x1c4543[_0x2d6375(0x57b)]=Number(_0x370966[_0x2d6375(0x57b)])),Object[_0x2d6375(0x557)](_0x1c4543)[_0x2d6375(0x66c)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x383723=await this[_0x2d6375(0x45b)][_0x2d6375(0x1ad)][_0x2d6375(0x31a)]({'where':{'_id':_0x370966[_0x2d6375(0x13f)]}},_0x1c4543,this[_0x2d6375(0x281)][_0x2d6375(0x697)]);return _0x383723&&J(this[_0x2d6375(0x67f)],_0x2d6375(0x1ec),{'chat':_0x383723}),_0x383723?(this[_0x2d6375(0xfb)]['verbose'](this[_0x2d6375(0x67f)]+'\x20('+this[_0x2d6375(0x281)][_0x2d6375(0x697)]+_0x2d6375(0x359)+JSON[_0x2d6375(0x6d5)](_0x383723,null,0x2)),_0x383723):{'message':_0x2d6375(0x463)};}catch(_0x392724){throw this[_0x2d6375(0xfb)][_0x2d6375(0x426)](this[_0x2d6375(0x67f)]+'\x20('+this['instance'][_0x2d6375(0x697)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+(_0x392724 instanceof Error?_0x392724[_0x2d6375(0x335)]:JSON['stringify'](_0x392724,null,0x2))),new m(_0x2d6375(0x40e)+_0x392724[_0x2d6375(0x335)]);}}async[a0_0x2530f3(0x445)](_0x430872,_0x27f9a5){const _0x2a7f29=a0_0x2530f3;try{await this['client'][_0x2a7f29(0x6a8)](_0x27f9a5,_0x430872),console['log'](_0x2a7f29(0x6a3)+_0x430872+_0x2a7f29(0x52f)+_0x27f9a5+'\x20com\x20sucesso.');}catch(_0x450e0a){console[_0x2a7f29(0x426)](_0x2a7f29(0x3c7)+_0x430872+_0x2a7f29(0x298)+_0x27f9a5+':',_0x450e0a);}}async[a0_0x2530f3(0x517)](_0x15feea,_0x4d002d){const _0x3bd5dc=a0_0x2530f3;try{await this['client']['removeChatLabel'](_0x4d002d,_0x15feea),console['log'](_0x3bd5dc(0x6a3)+_0x15feea+_0x3bd5dc(0x67d)+_0x4d002d+'\x20com\x20sucesso.');}catch(_0x364370){console[_0x3bd5dc(0x426)]('Erro\x20ao\x20remover\x20label\x20'+_0x15feea+_0x3bd5dc(0x25f)+_0x4d002d+':',_0x364370);}}async[a0_0x2530f3(0x4ce)](_0x9eaf08){const _0x12f4dd=a0_0x2530f3;try{let _0x26c9d3=await this[_0x12f4dd(0x45b)][_0x12f4dd(0x3f9)][_0x12f4dd(0x61a)](this[_0x12f4dd(0x281)][_0x12f4dd(0x697)]),_0x1ca192=_0x9eaf08[_0x12f4dd(0x13f)]?_0x26c9d3['agents'][_0x12f4dd(0x5ec)](_0x5f6c72=>_0x5f6c72['_id']===_0x9eaf08[_0x12f4dd(0x13f)]):-0x1;if(_0x9eaf08[_0x12f4dd(0x6c8)]&&_0x1ca192>-0x1)_0x26c9d3[_0x12f4dd(0x2e1)][_0x12f4dd(0x5ba)](_0x1ca192,0x1);else{if(_0x1ca192>-0x1){let _0x24b7de=_0x26c9d3['agents'][_0x1ca192];_0x9eaf08[_0x12f4dd(0x363)]&&(_0x24b7de[_0x12f4dd(0x363)]=_0x9eaf08[_0x12f4dd(0x363)]),_0x9eaf08[_0x12f4dd(0x6c9)]&&(_0x24b7de[_0x12f4dd(0x6c9)]=_0x9eaf08['name']),_0x9eaf08[_0x12f4dd(0x3f7)]&&(_0x24b7de[_0x12f4dd(0x3f7)]=_0x9eaf08['email']),_0x9eaf08[_0x12f4dd(0x31e)]&&(_0x24b7de['role']=_0x9eaf08[_0x12f4dd(0x31e)]);}else _0x26c9d3[_0x12f4dd(0x2e1)][_0x12f4dd(0x5aa)]({'_id':_0x9eaf08[_0x12f4dd(0x13f)]||new ie['default'][(_0x12f4dd(0x20f))][(_0x12f4dd(0x659))]()[_0x12f4dd(0x593)](),'fone':_0x9eaf08[_0x12f4dd(0x363)],'name':_0x9eaf08[_0x12f4dd(0x6c9)],'email':_0x9eaf08[_0x12f4dd(0x3f7)],'role':_0x9eaf08[_0x12f4dd(0x31e)]});}let _0x30523a={'agents':_0x26c9d3[_0x12f4dd(0x2e1)]},_0x4a5caf=await this[_0x12f4dd(0x45b)][_0x12f4dd(0x3f9)][_0x12f4dd(0xc3)](_0x30523a,this[_0x12f4dd(0x281)][_0x12f4dd(0x697)]);return this[_0x12f4dd(0x5e2)]=_0x4a5caf,this[_0x12f4dd(0xfb)][_0x12f4dd(0x34d)](this[_0x12f4dd(0x67f)]+'\x20('+this['instance'][_0x12f4dd(0x697)]+_0x12f4dd(0x1c1)),this[_0x12f4dd(0xfb)][_0x12f4dd(0x34d)](this[_0x12f4dd(0x67f)]+'\x20('+this[_0x12f4dd(0x281)][_0x12f4dd(0x697)]+_0x12f4dd(0x359)+this['AutomateSystem']),_0x4a5caf;}catch(_0x506aba){throw this[_0x12f4dd(0xfb)][_0x12f4dd(0x426)](this[_0x12f4dd(0x67f)]+'\x20('+this['instance'][_0x12f4dd(0x697)]+_0x12f4dd(0x38a)+(_0x506aba instanceof Error?_0x506aba[_0x12f4dd(0x335)]:JSON['stringify'](_0x506aba,null,0x2))),new m(_0x12f4dd(0x3a5)+_0x506aba[_0x12f4dd(0x335)]);}}async[a0_0x2530f3(0x31c)](_0x855a){const _0x4218a7=a0_0x2530f3;try{let _0x5c5ae7=await this['repository']['automateSystem']['findOrCreate'](this[_0x4218a7(0x281)][_0x4218a7(0x697)]),_0x152b8b=_0x855a[_0x4218a7(0x13f)]?_0x5c5ae7[_0x4218a7(0x5f6)][_0x4218a7(0x5ec)](_0x1b069f=>_0x1b069f['_id']===_0x855a[_0x4218a7(0x13f)]):-0x1,_0x8a468f=!0x1,_0x21c6c4=_0x5c5ae7[_0x4218a7(0x5f6)][_0x4218a7(0xe3)](_0x62341c=>_0x62341c[_0x4218a7(0x528)]===_0x855a['order']);if(_0x855a['delete']&&_0x152b8b>-0x1)_0x5c5ae7[_0x4218a7(0x5f6)]['splice'](_0x152b8b,0x1),_0x8a468f=!0x0;else{if(_0x152b8b>-0x1){if(_0x5c5ae7[_0x4218a7(0x5f6)][_0x4218a7(0xe3)](_0x2ca864=>_0x2ca864['name']===_0x855a[_0x4218a7(0x6c9)]&&_0x2ca864[_0x4218a7(0x13f)]!==_0x855a['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0xb05b67=_0x5c5ae7[_0x4218a7(0x5f6)][_0x152b8b];_0x855a[_0x4218a7(0x528)]&&(_0x21c6c4||!Number[_0x4218a7(0x311)](_0x855a[_0x4218a7(0x528)]))&&(_0xb05b67[_0x4218a7(0x528)]=_0x855a[_0x4218a7(0x528)],_0x8a468f=!0x0),_0x855a[_0x4218a7(0x6c9)]&&(_0xb05b67[_0x4218a7(0x6c9)]=_0x855a['name']);}else{if(_0x5c5ae7[_0x4218a7(0x5f6)][_0x4218a7(0xe3)](_0x88003e=>_0x88003e[_0x4218a7(0x6c9)]===_0x855a['name']&&_0x88003e[_0x4218a7(0x13f)]!==_0x855a[_0x4218a7(0x13f)]))throw new Error(_0x4218a7(0x2af));_0x5c5ae7[_0x4218a7(0x5f6)][_0x4218a7(0x5aa)]({'_id':_0x855a['_id']||new ie[(_0x4218a7(0x22c))][(_0x4218a7(0x20f))][(_0x4218a7(0x659))]()[_0x4218a7(0x593)](),'order':_0x855a[_0x4218a7(0x528)],'name':_0x855a[_0x4218a7(0x6c9)]}),_0x8a468f=!0x0;}}if(_0x8a468f){_0x5c5ae7[_0x4218a7(0x5f6)]['sort']((_0x2b8ed6,_0x4f8bc2)=>_0x2b8ed6[_0x4218a7(0x528)]>_0x4f8bc2[_0x4218a7(0x528)]?0x1:_0x4f8bc2[_0x4218a7(0x528)]>_0x2b8ed6[_0x4218a7(0x528)]?-0x1:0x0);for(let _0x5abe23=0x0;_0x5abe23<_0x5c5ae7['customFields'][_0x4218a7(0x66c)];_0x5abe23++)_0x5c5ae7[_0x4218a7(0x5f6)][_0x5abe23][_0x4218a7(0x528)]=_0x5abe23+0x1;}let _0x115fe6=await this[_0x4218a7(0x45b)][_0x4218a7(0x3f9)][_0x4218a7(0xc3)](_0x5c5ae7,this[_0x4218a7(0x281)]['wuid']);return this[_0x4218a7(0x5e2)]=_0x115fe6,this['logger']['verbose'](this[_0x4218a7(0x67f)]+'\x20('+this[_0x4218a7(0x281)][_0x4218a7(0x697)]+_0x4218a7(0x689)),this[_0x4218a7(0xfb)][_0x4218a7(0x34d)](this[_0x4218a7(0x67f)]+'\x20('+this['instance']['wuid']+_0x4218a7(0x359)+this[_0x4218a7(0x5e2)]),_0x115fe6;}catch(_0x4cc7b3){throw this[_0x4218a7(0xfb)][_0x4218a7(0x426)](this[_0x4218a7(0x67f)]+'\x20('+this[_0x4218a7(0x281)][_0x4218a7(0x697)]+_0x4218a7(0x428)+(_0x4cc7b3 instanceof Error?_0x4cc7b3[_0x4218a7(0x335)]:JSON[_0x4218a7(0x6d5)](_0x4cc7b3,null,0x2))),new m(_0x4218a7(0x51e)+_0x4cc7b3[_0x4218a7(0x335)]);}}async[a0_0x2530f3(0x15b)](_0x42d0dc){const _0x4a947d=a0_0x2530f3;try{let _0x1d0e86=await this['repository']['automateSystem'][_0x4a947d(0x61a)](this[_0x4a947d(0x281)][_0x4a947d(0x697)]);if(!_0x1d0e86)throw new Error(_0x4a947d(0x45f));let _0x71bdb8={'_id':_0x1d0e86[_0x4a947d(0x13f)],'flowConfig':{'enabled':_0x42d0dc['enabled']??_0x1d0e86[_0x4a947d(0x4ae)][_0x4a947d(0x23f)],'ignoreGroups':_0x42d0dc[_0x4a947d(0x220)]??_0x1d0e86[_0x4a947d(0x4ae)][_0x4a947d(0x220)],'prefixCommand':_0x42d0dc['prefixCommand']??_0x1d0e86['flowConfig']['prefixCommand'],'stopConversation':_0x42d0dc[_0x4a947d(0x5a3)]??_0x1d0e86[_0x4a947d(0x4ae)]['stopConversation'],'stopMinutes':_0x42d0dc[_0x4a947d(0x623)]??_0x1d0e86['flowConfig'][_0x4a947d(0x623)],'stopWhenYouSendMsg':_0x42d0dc[_0x4a947d(0x3c8)]??_0x1d0e86['flowConfig'][_0x4a947d(0x3c8)]}},_0x6394eb=await this[_0x4a947d(0x45b)]['automateSystem'][_0x4a947d(0xc3)](_0x71bdb8,this['instance'][_0x4a947d(0x697)]);return this[_0x4a947d(0x5e2)]=_0x6394eb,this[_0x4a947d(0xfb)][_0x4a947d(0x34d)](this[_0x4a947d(0x67f)]+'\x20('+this[_0x4a947d(0x281)][_0x4a947d(0x697)]+_0x4a947d(0x1c1)),this[_0x4a947d(0xfb)][_0x4a947d(0x34d)](this['instanceName']+'\x20('+this[_0x4a947d(0x281)]['wuid']+_0x4a947d(0x359)+this[_0x4a947d(0x5e2)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x6394eb;}catch(_0xbe8010){throw this[_0x4a947d(0xfb)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4a947d(0x633)+(_0xbe8010 instanceof Error?_0xbe8010[_0x4a947d(0x335)]:JSON[_0x4a947d(0x6d5)](_0xbe8010,null,0x2))),new m(_0x4a947d(0x4d9)+_0xbe8010[_0x4a947d(0x335)]);}}async[a0_0x2530f3(0x511)](){const _0x31ca3d=a0_0x2530f3;try{let _0x9b4ae1=await this[_0x31ca3d(0x45b)][_0x31ca3d(0x3f9)][_0x31ca3d(0x61a)](this[_0x31ca3d(0x281)][_0x31ca3d(0x697)]);return this[_0x31ca3d(0x5e2)]=_0x9b4ae1,this['logger']['verbose'](this[_0x31ca3d(0x67f)]+'\x20('+this[_0x31ca3d(0x281)][_0x31ca3d(0x697)]+_0x31ca3d(0x614)),this[_0x31ca3d(0xfb)][_0x31ca3d(0x34d)](this[_0x31ca3d(0x5e2)]),_0x9b4ae1;}catch(_0x36183c){throw this[_0x31ca3d(0xfb)][_0x31ca3d(0x426)](this[_0x31ca3d(0x67f)]+'\x20('+this[_0x31ca3d(0x281)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x36183c instanceof Error?_0x36183c['message']:JSON[_0x31ca3d(0x6d5)](_0x36183c,null,0x2))),new m('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x36183c['message']);}}async[a0_0x2530f3(0x63f)](){const _0x49c019=a0_0x2530f3;this['timerId']&&clearTimeout(this[_0x49c019(0x294)]),this[_0x49c019(0x294)]=setTimeout(()=>{const _0x2a49ab=_0x49c019;this[_0x2a49ab(0x1b3)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x543b6f=a0_0x2530f3;Date[_0x543b6f(0x3d0)]()-this[_0x543b6f(0x381)]>=0x1d4c0&&(this[_0x543b6f(0xfb)][_0x543b6f(0x34d)](this[_0x543b6f(0x67f)]+'\x20('+this[_0x543b6f(0x281)][_0x543b6f(0x697)]+_0x543b6f(0x5ab)),this[_0x543b6f(0x61d)]=null,this[_0x543b6f(0x381)]=0x0,this[_0x543b6f(0x37a)]=0x0,await this[_0x543b6f(0x325)]());}async[a0_0x2530f3(0x325)](){const _0x292595=a0_0x2530f3;let _0x2deb33=()=>{const _0x9d7319=a0_0x4c5f;this[_0x9d7319(0xfb)][_0x9d7319(0x34d)](this[_0x9d7319(0x67f)]+'\x20('+this[_0x9d7319(0x281)][_0x9d7319(0x697)]+_0x9d7319(0x64b)+this['processingScheduleMessageId']+_0x9d7319(0x108));},_0x4ace9a=async()=>{const _0x1c27fb=a0_0x4c5f;this[_0x1c27fb(0xfb)][_0x1c27fb(0x34d)](this[_0x1c27fb(0x67f)]+'\x20('+this[_0x1c27fb(0x281)][_0x1c27fb(0x697)]+_0x1c27fb(0x12f));let _0x43a1e9=Date[_0x1c27fb(0x3d0)]()-0xc*0x3c*0x3c*0x3e8,_0x694087={'where':{'status':{'$in':[_0x1c27fb(0x624),_0x1c27fb(0x5ca)]},'$or':[{'when':{'$lte':Date[_0x1c27fb(0x3d0)](),'$gte':_0x43a1e9}},{'when':0x0}]}};return await this[_0x1c27fb(0x45b)][_0x1c27fb(0x690)][_0x1c27fb(0x44c)](_0x694087,this['instance'][_0x1c27fb(0x697)]);},_0x3b59b4=async _0x43fadc=>{const _0x2f443d=a0_0x4c5f;for(let _0xf73023 of _0x43fadc){let _0x507b75={'_id':_0xf73023['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},_0x3235e8={'startSend':Date['now']()};if(!await this['repository'][_0x2f443d(0x690)][_0x2f443d(0x31a)](_0x507b75,_0x3235e8,this[_0x2f443d(0x281)][_0x2f443d(0x697)]))return;if(!this['isConnected']){this[_0x2f443d(0xfb)]['verbose'](this[_0x2f443d(0x67f)]+'\x20('+this['instance']['wuid']+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0xf73023[_0x2f443d(0x101)]==='flow'&&!this['AutomateSystem']?.[_0x2f443d(0x4ae)][_0x2f443d(0x23f)]){this['logger'][_0x2f443d(0x426)](this[_0x2f443d(0x67f)]+'\x20('+this['instance'][_0x2f443d(0x697)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0xf73023[_0x2f443d(0x24f)]||_0xf73023[_0x2f443d(0x24f)][_0x2f443d(0x66c)]===0x0)&&(_0xf73023=await this[_0x2f443d(0x45b)]['scheduleMessage'][_0x2f443d(0x422)](_0xf73023[_0x2f443d(0x13f)],{'status':_0x2f443d(0x5ca),'remoteJidsRemaining':[..._0xf73023[_0x2f443d(0x66f)]]},this[_0x2f443d(0x281)][_0x2f443d(0x697)]));for(let _0xa7d2be of _0xf73023['remoteJidsRemaining']){if(await this[_0x2f443d(0x63f)](),this[_0x2f443d(0x381)]=Date[_0x2f443d(0x3d0)](),_0xf73023[_0x2f443d(0x458)][_0x2f443d(0xe3)](_0x152dd0=>_0x152dd0[_0x2f443d(0x596)]===_0xa7d2be)){this['logger'][_0x2f443d(0x34d)](this[_0x2f443d(0x67f)]+'\x20('+this[_0x2f443d(0x281)]['wuid']+_0x2f443d(0x205)+_0xa7d2be+_0x2f443d(0x10b));continue;}if(!this[_0x2f443d(0x68b)]){this['logger'][_0x2f443d(0x34d)](this[_0x2f443d(0x67f)]+'\x20('+this['instance'][_0x2f443d(0x697)]+_0x2f443d(0x327));break;}if(!this[_0x2f443d(0x61d)]){this['logger'][_0x2f443d(0x34d)](this[_0x2f443d(0x67f)]+'\x20('+this[_0x2f443d(0x281)][_0x2f443d(0x697)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0xf73023[_0x2f443d(0x13f)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0xf73023['type']==='flow'&&!this[_0x2f443d(0x5e2)]?.[_0x2f443d(0x4ae)][_0x2f443d(0x23f)]){this['logger'][_0x2f443d(0x426)](this['instanceName']+'\x20('+this[_0x2f443d(0x281)][_0x2f443d(0x697)]+_0x2f443d(0x591));break;}let _0x94c58f={'remoteJid':_0xa7d2be,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x2f443d(0x3d0)]()},_0x708506=null;try{let _0x308804=await this['SendScheduleMessage'](_0xa7d2be,_0xf73023);_0x94c58f['error']=_0x308804['error'],_0x94c58f['id']=_0x308804['error']?null:_0x308804['id'],_0x94c58f['error_log']=_0x308804[_0x2f443d(0x426)]?_0x308804['detail']?_0x308804[_0x2f443d(0x315)]['toString']():'':null;let _0x2cf780={'$push':{'messagesSend':_0x94c58f},'$pull':{'remoteJidsRemaining':_0xa7d2be}},_0x33e6d1=_0xf73023[_0x2f443d(0x13f)];if(_0x708506=await this[_0x2f443d(0x45b)][_0x2f443d(0x690)][_0x2f443d(0x422)](_0x33e6d1,_0x2cf780,this[_0x2f443d(0x281)][_0x2f443d(0x697)]),_0x308804[_0x2f443d(0x426)])continue;let _0x4637f3=this[_0x2f443d(0x6a6)](_0xf73023[_0x2f443d(0x2b0)],_0xf73023[_0x2f443d(0x5ce)]);await this[_0x2f443d(0x569)](_0x4637f3);}catch(_0x442f7c){this[_0x2f443d(0xfb)]['error'](this['instanceName']+'\x20('+this[_0x2f443d(0x281)][_0x2f443d(0x697)]+_0x2f443d(0x68f)+_0xa7d2be+':\x20'+(_0x442f7c instanceof Error?_0x442f7c[_0x2f443d(0x335)]:JSON['stringify'](_0x442f7c,null,0x2))),_0x94c58f[_0x2f443d(0x426)]=!0x0,_0x94c58f[_0x2f443d(0x2ec)]=_0x442f7c['message'];let _0x406b32={'$push':{'messagesSend':_0x94c58f},'$pull':{'remoteJidsRemaining':_0xa7d2be}},_0x3919aa=_0xf73023[_0x2f443d(0x13f)];_0x708506=await this[_0x2f443d(0x45b)][_0x2f443d(0x690)][_0x2f443d(0x422)](_0x3919aa,_0x406b32,this[_0x2f443d(0x281)][_0x2f443d(0x697)]);}finally{if(_0x708506&&_0x708506[_0x2f443d(0x64f)]===_0x2f443d(0x13c)){this[_0x2f443d(0xfb)]['verbose'](this[_0x2f443d(0x67f)]+'\x20('+this[_0x2f443d(0x281)][_0x2f443d(0x697)]+_0x2f443d(0x6b9)+_0xf73023[_0x2f443d(0x13f)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x5cf8ac=await this[_0x2f443d(0x45b)][_0x2f443d(0x690)][_0x2f443d(0x6f4)](_0xf73023[_0x2f443d(0x13f)],this['instance']['wuid']);if(_0x5cf8ac[_0x2f443d(0x24f)][_0x2f443d(0x66c)]===0x0&&_0x5cf8ac[_0x2f443d(0x64f)]!==_0x2f443d(0x13c)){let _0x4c9c7d={'$set':{'status':_0x2f443d(0x6a7)}},_0x4014e7=_0x5cf8ac[_0x2f443d(0x13f)];await this[_0x2f443d(0x45b)][_0x2f443d(0x690)]['updateOneById'](_0x4014e7,_0x4c9c7d,this[_0x2f443d(0x281)][_0x2f443d(0x697)]);}await new Promise(_0x1656e3=>setTimeout(_0x1656e3,0x1388));}},_0x2a30b1=async()=>{const _0x14c8be=a0_0x4c5f;let _0xeb0efa={'where':{'status':'scheduled','when':{'$gt':Date[_0x14c8be(0x3d0)]()}}},_0x4276d9=await this[_0x14c8be(0x45b)][_0x14c8be(0x690)][_0x14c8be(0x2ff)](_0xeb0efa,this[_0x14c8be(0x281)][_0x14c8be(0x697)]);_0x4276d9&&_0x4276d9[_0x14c8be(0x674)]-Date[_0x14c8be(0x3d0)]()<=0x5265c00?this[_0x14c8be(0x37a)]=_0x4276d9[_0x14c8be(0x674)]-Date[_0x14c8be(0x3d0)]():this[_0x14c8be(0x37a)]=(0x3c+Math[_0x14c8be(0xc5)](Math[_0x14c8be(0x5b4)]()*0x3c))*0x3c*0x3e8,this[_0x14c8be(0x37a)]=Math[_0x14c8be(0x267)](this[_0x14c8be(0x37a)],0x7d0);let _0x30ceb1=Math[_0x14c8be(0x5e3)](this['delayMessage']/0xea60);if(_0x4276d9){let _0x4dcbcc=new Date(_0x4276d9['when'])['toLocaleString']();this[_0x14c8be(0xfb)][_0x14c8be(0x34d)](this[_0x14c8be(0x67f)]+'\x20('+this[_0x14c8be(0x281)][_0x14c8be(0x697)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x4dcbcc+_0x14c8be(0x47c)+_0x30ceb1+_0x14c8be(0x2ee));}else this[_0x14c8be(0xfb)][_0x14c8be(0x34d)](this[_0x14c8be(0x67f)]+'\x20('+this[_0x14c8be(0x281)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x30ceb1+_0x14c8be(0x2ee));setTimeout(()=>this[_0x14c8be(0x325)](),this[_0x14c8be(0x37a)]);};if(this[_0x292595(0x61d)]){await this[_0x292595(0x63f)](),_0x2deb33();return;}if(!this[_0x292595(0x68b)]){this[_0x292595(0xfb)][_0x292595(0x34d)](this['instanceName']+'\x20('+this[_0x292595(0x281)][_0x292595(0x697)]+_0x292595(0x25b)),this[_0x292595(0x61d)]=null,this[_0x292595(0x381)]=0x0,this['delayMessage']=0x0;return;}try{let _0x34b2b1=await _0x4ace9a();_0x34b2b1['length']===0x0?this[_0x292595(0xfb)][_0x292595(0x34d)](this[_0x292595(0x67f)]+'\x20('+this[_0x292595(0x281)][_0x292595(0x697)]+_0x292595(0x4a8)):(this[_0x292595(0x61d)]=_0x34b2b1[0x0]['_id'],await _0x3b59b4(_0x34b2b1)),await _0x2a30b1(),this[_0x292595(0x61d)]=null;}catch(_0x21a357){this[_0x292595(0xfb)][_0x292595(0x426)](_0x292595(0x401)+(_0x21a357 instanceof Error?_0x21a357[_0x292595(0x335)]:JSON[_0x292595(0x6d5)](_0x21a357,null,0x2)));}}['getDelay'](_0x38ebc8,_0x2bac59){const _0x128662=a0_0x2530f3;return _0x38ebc8=Math[_0x128662(0x267)](0.5,_0x38ebc8),_0x2bac59=Math[_0x128662(0xaa)](Math['max'](0x3,_0x2bac59),0x78),Math[_0x128662(0xc5)](Math[_0x128662(0x5b4)]()*(_0x2bac59-_0x38ebc8+0x1)+_0x38ebc8)*0x3e8;}[a0_0x2530f3(0x569)](_0x1a88f6){return new Promise(_0xef58de=>setTimeout(_0xef58de,_0x1a88f6));}async[a0_0x2530f3(0x693)](_0x54d725){const _0x1f229b=a0_0x2530f3;if(!this['AutomateSystem']&&(await this[_0x1f229b(0x511)](),!this[_0x1f229b(0x5e2)]))return null;_0x54d725=this[_0x1f229b(0x616)](_0x54d725);let _0x6446a9=await this['repository'][_0x1f229b(0x1ad)][_0x1f229b(0x2ff)]({'where':{'_id':_0x54d725}},this[_0x1f229b(0x281)][_0x1f229b(0x697)]),_0x991fb0={};if(_0x6446a9&&_0x6446a9[_0x1f229b(0x444)]){let _0x5c2966=_0x6446a9[_0x1f229b(0x444)];typeof _0x5c2966[_0x1f229b(0x2f1)]==_0x1f229b(0x43a)&&(_0x991fb0[_0x1f229b(0x2f1)]=_0x5c2966['nome']),typeof _0x5c2966[_0x1f229b(0x37f)]==_0x1f229b(0x43a)&&(_0x991fb0[_0x1f229b(0x37f)]=_0x5c2966[_0x1f229b(0x37f)]),typeof _0x5c2966[_0x1f229b(0x3f7)]==_0x1f229b(0x43a)&&(_0x991fb0['email']=_0x5c2966[_0x1f229b(0x3f7)]),typeof _0x5c2966['cpf']==_0x1f229b(0x43a)&&(_0x991fb0[_0x1f229b(0x207)]=_0x5c2966[_0x1f229b(0x207)]),typeof _0x5c2966[_0x1f229b(0x64f)]==_0x1f229b(0x43a)&&(_0x991fb0[_0x1f229b(0x64f)]=_0x5c2966[_0x1f229b(0x64f)]),typeof _0x5c2966[_0x1f229b(0x5eb)]==_0x1f229b(0x43a)&&(_0x991fb0['notas']=_0x5c2966[_0x1f229b(0x5eb)]),typeof _0x5c2966[_0x1f229b(0x273)]==_0x1f229b(0x43a)&&(_0x991fb0['responsavelid']=_0x5c2966[_0x1f229b(0x273)]),Array[_0x1f229b(0x63d)](_0x5c2966[_0x1f229b(0x34e)])&&(_0x991fb0[_0x1f229b(0x34e)]=_0x5c2966[_0x1f229b(0x34e)]['join'](',\x20')),Array[_0x1f229b(0x63d)](_0x5c2966['etiquetas'])&&(_0x991fb0[_0x1f229b(0x54d)]=_0x5c2966[_0x1f229b(0x54d)][_0x1f229b(0x42a)](',\x20'));}return _0x6446a9&&_0x6446a9[_0x1f229b(0x444)]&&_0x6446a9[_0x1f229b(0x444)][_0x1f229b(0x5f6)]&&_0x6446a9[_0x1f229b(0x444)]['customFields'][_0x1f229b(0x2ed)](_0x486920=>{const _0x4efd3f=_0x1f229b;let _0x38e793=this[_0x4efd3f(0x5e2)]?.[_0x4efd3f(0x5f6)][_0x4efd3f(0x44c)](_0x34c265=>_0x34c265[_0x4efd3f(0x13f)]===_0x486920[_0x4efd3f(0x13f)]);_0x38e793&&(_0x991fb0[_0x38e793[_0x4efd3f(0x6c9)]]=_0x486920['value']);}),_0x991fb0;}async[a0_0x2530f3(0x253)](_0x5efb9f,_0x3d7c8b){const _0x3a9ec0=a0_0x2530f3;let _0x241d36=await this['getVariablesChat'](_0x3d7c8b);return this[_0x3a9ec0(0x285)](_0x5efb9f,_0x241d36);}async[a0_0x2530f3(0x4b8)](_0x15a06d){const _0x3a13f4=a0_0x2530f3;try{if(this[_0x3a13f4(0xfb)][_0x3a13f4(0x34d)](this[_0x3a13f4(0x67f)]+'\x20('+this[_0x3a13f4(0x281)][_0x3a13f4(0x697)]+'):\x20Edit\x20schedule\x20message...'),_0x15a06d[_0x3a13f4(0x6c8)]&&_0x15a06d[_0x3a13f4(0x13f)]){if(this[_0x3a13f4(0x61d)]===_0x15a06d['_id'][_0x3a13f4(0x593)]())throw new Error(_0x3a13f4(0x548));let _0x1c8dba=await this[_0x3a13f4(0x45b)][_0x3a13f4(0x690)][_0x3a13f4(0x3fb)](_0x15a06d['_id'],this[_0x3a13f4(0x281)][_0x3a13f4(0x697)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1c8dba;}let _0x2b5728;if(_0x15a06d[_0x3a13f4(0x13f)]&&(_0x2b5728=await this[_0x3a13f4(0x45b)][_0x3a13f4(0x690)][_0x3a13f4(0x6f4)](_0x15a06d[_0x3a13f4(0x13f)],this['instance'][_0x3a13f4(0x697)])),_0x2b5728){let _0x229875;if(this[_0x3a13f4(0x61d)]===_0x2b5728[_0x3a13f4(0x13f)][_0x3a13f4(0x593)]())_0x229875={'$set':{'status':_0x15a06d[_0x3a13f4(0x64f)]}};else{let {_id:_0x4db188,..._0x5ab118}=_0x15a06d;_0x229875={'$set':_0x5ab118};}let _0x23354b=await this[_0x3a13f4(0x45b)][_0x3a13f4(0x690)][_0x3a13f4(0x422)](_0x15a06d[_0x3a13f4(0x13f)],_0x229875,this[_0x3a13f4(0x281)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x23354b;}else{_0x15a06d[_0x3a13f4(0x50f)]=this['instance'][_0x3a13f4(0x697)];let _0x40a811=await this[_0x3a13f4(0x45b)][_0x3a13f4(0x690)][_0x3a13f4(0x24e)](_0x15a06d,this['instance'][_0x3a13f4(0x697)]);return setTimeout(()=>this[_0x3a13f4(0x325)](),0x7d0),_0x40a811;}}catch(_0x329476){throw this[_0x3a13f4(0xfb)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3a13f4(0x697)]+_0x3a13f4(0x264)+(_0x329476 instanceof Error?_0x329476['message']:JSON['stringify'](_0x329476,null,0x2))),new m(_0x3a13f4(0x27e)+_0x329476[_0x3a13f4(0x335)]);}}async[a0_0x2530f3(0x388)](){const _0x1ed54=a0_0x2530f3;try{return await this[_0x1ed54(0x45b)][_0x1ed54(0x690)][_0x1ed54(0x44c)]({'where':{}},this[_0x1ed54(0x281)][_0x1ed54(0x697)]);}catch(_0x2f26a3){throw this[_0x1ed54(0xfb)][_0x1ed54(0x426)](this[_0x1ed54(0x67f)]+'\x20('+this[_0x1ed54(0x281)][_0x1ed54(0x697)]+_0x1ed54(0x3f2)+(_0x2f26a3 instanceof Error?_0x2f26a3['message']:JSON[_0x1ed54(0x6d5)](_0x2f26a3,null,0x2))),new m('Erro:'+_0x2f26a3[_0x1ed54(0x335)]);}}async['deleteDoneMessages'](){const _0x5d939c=a0_0x2530f3;try{let _0x4f8e9f={'status':'done'},_0x2d1aa4=await this[_0x5d939c(0x45b)]['scheduleMessage']['deleteMany'](_0x4f8e9f,this[_0x5d939c(0x281)][_0x5d939c(0x697)]);if(!_0x2d1aa4['error'])this[_0x5d939c(0xfb)]['verbose'](this[_0x5d939c(0x67f)]+'\x20('+this[_0x5d939c(0x281)][_0x5d939c(0x697)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x2d1aa4[_0x5d939c(0x426)]['message']||_0x5d939c(0x44a));return this['getScheduleMessage']();}catch(_0x500fe5){throw this[_0x5d939c(0xfb)]['error'](this['instanceName']+'\x20('+this[_0x5d939c(0x281)][_0x5d939c(0x697)]+_0x5d939c(0x5c3)+(_0x500fe5 instanceof Error?_0x500fe5[_0x5d939c(0x335)]:JSON['stringify'](_0x500fe5,null,0x2))),new m('Erro:'+_0x500fe5[_0x5d939c(0x335)]);}}async['SendScheduleMessage'](_0x17965e,_0x455f5d){const _0x10407b=a0_0x2530f3;try{if(_0x455f5d[_0x10407b(0x101)]===_0x10407b(0x34c)&&!this[_0x10407b(0x5e2)]?.[_0x10407b(0x4ae)][_0x10407b(0x23f)])return this[_0x10407b(0xfb)][_0x10407b(0x426)](this[_0x10407b(0x67f)]+'\x20('+this[_0x10407b(0x281)]['wuid']+_0x10407b(0x128)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x455f5d[_0x10407b(0x101)]){case'text':return await this[_0x10407b(0x3ce)](_0x455f5d,_0x17965e);case _0x10407b(0x5fc):return await this[_0x10407b(0x347)](_0x455f5d,_0x17965e);case _0x10407b(0x35f):return await this[_0x10407b(0x3ef)](_0x455f5d,_0x17965e);case'flow':let _0x54d388=new _e();return _0x54d388[_0x10407b(0x6c9)]=_0x455f5d[_0x10407b(0x30e)],_0x54d388[_0x10407b(0x596)]=_0x17965e,await this[_0x10407b(0x52a)](_0x54d388);break;default:return this[_0x10407b(0xfb)]['error'](this[_0x10407b(0x67f)]+'\x20('+this['instance'][_0x10407b(0x697)]+_0x10407b(0x49a)+_0x455f5d[_0x10407b(0x101)]),{'error':!0x0,'detail':_0x10407b(0x10e)};}}catch(_0x52e2ef){return this[_0x10407b(0xfb)]['error'](this[_0x10407b(0x67f)]+'\x20('+this['instance'][_0x10407b(0x697)]+_0x10407b(0x6f9)+(_0x52e2ef instanceof Error?_0x52e2ef[_0x10407b(0x335)]:JSON[_0x10407b(0x6d5)](_0x52e2ef,null,0x2))),{'error':!0x0,'detail':_0x52e2ef[_0x10407b(0x335)]};}}[a0_0x2530f3(0x215)](_0x4dfbdd){const _0x5eee63=a0_0x2530f3;let _0x2e428c=_0x4dfbdd[_0x5eee63(0x551)]('|'),_0x134f08=Math[_0x5eee63(0xc5)](Math[_0x5eee63(0x5b4)]()*_0x2e428c[_0x5eee63(0x66c)]);return _0x2e428c[_0x134f08][_0x5eee63(0x308)]();}async[a0_0x2530f3(0x3ce)](_0x5b3f38,_0x1c2156){const _0x3fbdb2=a0_0x2530f3;if(this[_0x3fbdb2(0xfb)][_0x3fbdb2(0x34d)](this['instanceName']+'\x20('+this[_0x3fbdb2(0x281)][_0x3fbdb2(0x697)]+_0x3fbdb2(0x609)),!_0x5b3f38[_0x3fbdb2(0x335)]['text']||_0x5b3f38[_0x3fbdb2(0x335)]['text'][_0x3fbdb2(0x66c)]===0x0)return{'error':!0x0,'detail':_0x3fbdb2(0x18e)};let _0x3cc882=this[_0x3fbdb2(0x215)](_0x5b3f38['message'][_0x3fbdb2(0x30c)]),_0x926d1a=await this['replaceVariablesChat'](_0x3cc882,_0x1c2156),_0x2c3883={'number':_0x1c2156,'options':{'delay':_0x5b3f38[_0x3fbdb2(0x335)][_0x3fbdb2(0x34a)]},'textMessage':{'text':_0x926d1a}},_0x4a5679=null;try{let _0x3c0586=await this['textMessage'](_0x2c3883);if(_0x3c0586&&_0x3c0586['status'])return{'error':!0x1,'id':_0x3c0586[_0x3fbdb2(0x58b)]['id']};_0x4a5679=JSON[_0x3fbdb2(0x6d5)](_0x3c0586),this[_0x3fbdb2(0xfb)][_0x3fbdb2(0x34d)](this[_0x3fbdb2(0x67f)]+'\x20('+this[_0x3fbdb2(0x281)][_0x3fbdb2(0x697)]+_0x3fbdb2(0x359)+_0x4a5679);}catch(_0x4a552b){this[_0x3fbdb2(0xfb)][_0x3fbdb2(0x426)](this[_0x3fbdb2(0x67f)]+'\x20('+this[_0x3fbdb2(0x281)][_0x3fbdb2(0x697)]+_0x3fbdb2(0x1cb)+(_0x4a552b instanceof Error?_0x4a552b['message']:JSON[_0x3fbdb2(0x6d5)](_0x4a552b,null,0x2))),_0x4a5679=_0x4a552b[_0x3fbdb2(0x335)];}if(_0x4a5679)return{'error':!0x0,'detail':(typeof _0x4a5679=='object'?JSON[_0x3fbdb2(0x6d5)](_0x4a5679,null,0x2):_0x4a5679)[_0x3fbdb2(0x385)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x559997,_0x42c443){const _0x439763=a0_0x2530f3;this[_0x439763(0xfb)]['verbose'](this[_0x439763(0x67f)]+'\x20('+this[_0x439763(0x281)][_0x439763(0x697)]+_0x439763(0x341));let _0x14bcb0;if(_0x559997[_0x439763(0x335)][_0x439763(0x30c)]&&_0x559997[_0x439763(0x335)][_0x439763(0x30c)][_0x439763(0x66c)]>0x0){let _0x1167c1=this[_0x439763(0x215)](_0x559997[_0x439763(0x335)]['text']);_0x14bcb0=await this[_0x439763(0x253)](_0x1167c1,_0x42c443);}let _0x4fe568={'number':_0x42c443,'options':{'delay':_0x559997['message'][_0x439763(0x34a)]},'mediaMessage':{'mediatype':_0x559997[_0x439763(0x335)][_0x439763(0x5b8)],'caption':_0x14bcb0,'media':_0x559997[_0x439763(0x335)][_0x439763(0x430)]}},_0x195cb6=null;try{let _0x38aa26=await this[_0x439763(0x4f5)](_0x4fe568);if(_0x38aa26&&_0x38aa26[_0x439763(0x64f)])return{'error':!0x1,'id':_0x38aa26['key']['id']};_0x195cb6=JSON['stringify'](_0x38aa26),this[_0x439763(0xfb)][_0x439763(0x34d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x439763(0x359)+_0x195cb6);}catch(_0x80d2f4){this[_0x439763(0xfb)][_0x439763(0x426)](this[_0x439763(0x67f)]+'\x20('+this['instance'][_0x439763(0x697)]+_0x439763(0x68a)+(_0x80d2f4 instanceof Error?_0x80d2f4[_0x439763(0x335)]:JSON[_0x439763(0x6d5)](_0x80d2f4,null,0x2))),_0x195cb6=_0x80d2f4[_0x439763(0x335)];}if(_0x195cb6)return{'error':!0x0,'detail':(typeof _0x195cb6==_0x439763(0x419)?JSON[_0x439763(0x6d5)](_0x195cb6,null,0x2):_0x195cb6)['replace'](/[\[\]{}\n]/g,'\x20')[_0x439763(0x385)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x199e7e,_0x942494){const _0x29ec88=a0_0x2530f3;this[_0x29ec88(0xfb)][_0x29ec88(0x34d)](this['instanceName']+'\x20('+this[_0x29ec88(0x281)][_0x29ec88(0x697)]+_0x29ec88(0x3e1));let _0x3df5b5={'number':_0x942494,'options':{'delay':_0x199e7e[_0x29ec88(0x335)][_0x29ec88(0x34a)]},'audioMessage':{'audio':_0x199e7e[_0x29ec88(0x335)][_0x29ec88(0x430)]}},_0x43cb07=null;try{let _0x129095=await this[_0x29ec88(0x240)](_0x3df5b5);if(_0x129095&&_0x129095[_0x29ec88(0x64f)])return{'error':!0x1,'id':_0x129095[_0x29ec88(0x58b)]['id']};_0x43cb07=JSON[_0x29ec88(0x6d5)](_0x129095),this[_0x29ec88(0xfb)][_0x29ec88(0x34d)](this[_0x29ec88(0x67f)]+'\x20('+this[_0x29ec88(0x281)][_0x29ec88(0x697)]+'):\x20'+_0x43cb07);}catch(_0x44023b){this[_0x29ec88(0xfb)][_0x29ec88(0x426)](this[_0x29ec88(0x67f)]+'\x20('+this['instance'][_0x29ec88(0x697)]+_0x29ec88(0xc9)+(_0x44023b instanceof Error?_0x44023b[_0x29ec88(0x335)]:JSON[_0x29ec88(0x6d5)](_0x44023b,null,0x2))),_0x43cb07=_0x44023b[_0x29ec88(0x335)];}if(_0x43cb07)return{'error':!0x0,'detail':(typeof _0x43cb07==_0x29ec88(0x419)?JSON[_0x29ec88(0x6d5)](_0x43cb07,null,0x2):_0x43cb07)['replace'](/[\[\]{}\n]/g,'\x20')[_0x29ec88(0x385)](/  +/g,'\x20')};}},Pt=class c{constructor(_0x2fdb6c,_0x44cbd6,_0x2e0c95){const _0x2d025d=a0_0x2530f3;this[_0x2d025d(0x5e4)]=_0x2fdb6c,this['configService']=_0x44cbd6,this['repository']=_0x2e0c95,this['db']={},this['redis']={},this[_0x2d025d(0xfb)]=new v(c[_0x2d025d(0x6c9)]),this[_0x2d025d(0x2f2)]={},(this['removeInstance'](),this[_0x2d025d(0x239)](),Object['assign'](this['db'],_0x44cbd6['get'](_0x2d025d(0x353))),Object[_0x2d025d(0x70b)](this[_0x2d025d(0x1c7)],_0x44cbd6[_0x2d025d(0x196)](_0x2d025d(0x6d9))),this[_0x2d025d(0x5cc)]=this['db'][_0x2d025d(0x6ef)]?this[_0x2d025d(0x45b)]['dbServer']?.['db'](this['db'][_0x2d025d(0x553)][_0x2d025d(0x65e)]+'-instances'):void 0x0,this[_0x2d025d(0x675)]=this['redis'][_0x2d025d(0x6ef)]?new oe(this[_0x2d025d(0x1c7)]):void 0x0);}async[a0_0x2530f3(0x179)](_0x801922){const _0x117395=a0_0x2530f3;if(_0x801922&&!this[_0x117395(0x2f2)][_0x801922])throw new j(_0x117395(0xee)+_0x801922+_0x117395(0x459));let _0xa563d2=[];for await(let [_0x344f1e,_0x1f40a6]of Object[_0x117395(0x560)](this['waInstances']))if(_0x1f40a6&&_0x1f40a6['connectionStatus']['state']===_0x117395(0xc6)){let _0x5b960a=await this['repository'][_0x117395(0x33e)][_0x117395(0x44c)](_0x344f1e);_0xa563d2[_0x117395(0x5aa)]({'instance':{'instanceName':_0x344f1e,'apikey':_0x5b960a[_0x117395(0x494)],'owner':_0x1f40a6[_0x117395(0x697)],'profileName':await _0x1f40a6['getProfileName']()||_0x117395(0x6d7),'profilePictureUrl':_0x1f40a6[_0x117395(0x45a)]}});}return _0xa563d2[_0x117395(0x44c)](_0x265f08=>_0x265f08[_0x117395(0x281)][_0x117395(0x67f)]===_0x801922)??_0xa563d2;}async['cleaningUp'](_0x51405a){const _0x143268=a0_0x2530f3;if(this['db'][_0x143268(0x6ef)]&&(await this[_0x143268(0x45b)][_0x143268(0x391)][_0x143268(0xb8)](),(await this[_0x143268(0x5cc)][_0x143268(0x6d4)]())['length']>0x0&&await this['dbInstance'][_0x143268(0x100)](_0x51405a)),this['redis']['ENABLED']){this[_0x143268(0x675)][_0x143268(0x333)]=_0x51405a,await this[_0x143268(0x675)][_0x143268(0x6a4)]();return;}}async[a0_0x2530f3(0x5f3)](){const _0x206ccd=a0_0x2530f3;await this['InstancesAlterarTodas']();let _0x4f5fee=async _0x392576=>{const _0x3f0a63=a0_0x4c5f;let _0x17df42=new ye(this[_0x3f0a63(0x1f2)],this[_0x3f0a63(0x5e4)],this[_0x3f0a63(0x45b)]);_0x17df42[_0x3f0a63(0x67f)]=_0x392576,await _0x17df42['connectToWhatsapp'](),this['waInstances'][_0x392576]=_0x17df42;};try{if(this[_0x206ccd(0x1c7)][_0x206ccd(0x6ef)]){let _0xa110c2=await this['cache'][_0x206ccd(0xd6)]();_0xa110c2?.[_0x206ccd(0x66c)]>0x0&&_0xa110c2[_0x206ccd(0x2ed)](async _0x383864=>await _0x4f5fee(_0x383864[_0x206ccd(0x551)](':')[0x1]));return;}if(this['db']['ENABLED']){await this['repository'][_0x206ccd(0x391)]['connect']();let _0x2aaf72=await this[_0x206ccd(0x5cc)][_0x206ccd(0x6d4)]();_0x2aaf72[_0x206ccd(0x66c)]>0x0&&_0x2aaf72['forEach'](async _0x258a21=>await _0x4f5fee(_0x258a21[_0x206ccd(0x51a)][_0x206ccd(0x385)](/^[\w-]+\./,'')));return;}}catch(_0x4a79c0){this[_0x206ccd(0xfb)][_0x206ccd(0x426)](_0x4a79c0);}}async[a0_0x2530f3(0x45e)](){const _0x39a29a=a0_0x2530f3;let _0x1771e8=await this[_0x39a29a(0x45b)]['auth'][_0x39a29a(0x594)](),_0x40cc0b=_0x1771e8[_0x39a29a(0x4bb)](_0x28c2c3=>!this[_0x39a29a(0x2f2)][_0x28c2c3[_0x39a29a(0x13f)]]&&(_0x28c2c3['online']||typeof _0x28c2c3['online']>'u'));_0x40cc0b[_0x39a29a(0x66c)]>0x0&&await Promise[_0x39a29a(0x2ef)](_0x40cc0b[_0x39a29a(0x378)](async _0x19d76b=>{const _0x4c0412=_0x39a29a;let _0x49d0ac={'online':!0x1,'lastDisconnect':Date['now']()};await this['repository'][_0x4c0412(0x33e)][_0x4c0412(0xb0)](_0x49d0ac,_0x19d76b[_0x4c0412(0x13f)]);}));let _0x18a4d5=Date[_0x39a29a(0x3d0)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x3663ab=_0x1771e8[_0x39a29a(0x4bb)](_0x5f2d9f=>!this[_0x39a29a(0x2f2)][_0x5f2d9f['_id']]&&typeof _0x5f2d9f[_0x39a29a(0x1c2)]<'u'&&_0x5f2d9f[_0x39a29a(0x1c2)]<_0x18a4d5);_0x3663ab[_0x39a29a(0x66c)]>0x0&&await Promise['all'](_0x3663ab[_0x39a29a(0x378)](async _0x438c93=>{}));}async[a0_0x2530f3(0x289)](){const _0x9c033=a0_0x2530f3;try{let _0x2cfe98={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x2de383={'online':!0x1,'lastDisconnect':Date['now']()},_0x2222e2=await this[_0x9c033(0x45b)][_0x9c033(0x33e)][_0x9c033(0x19e)](_0x2cfe98,_0x2de383);console[_0x9c033(0x1cc)](_0x9c033(0x67c)+_0x2222e2[_0x9c033(0x6b4)]),await this[_0x9c033(0x26d)]();}catch(_0x36d2e1){console[_0x9c033(0x426)](_0x9c033(0x316),_0x36d2e1);}}async[a0_0x2530f3(0x26d)](){const _0x17b025=a0_0x2530f3;try{let _0x7980dd={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x418e5c=await this[_0x17b025(0x45b)][_0x17b025(0x33e)][_0x17b025(0x61f)](_0x7980dd);console['log'](_0x17b025(0x605)+_0x418e5c[_0x17b025(0x6b4)]);}catch(_0x232012){console[_0x17b025(0x426)](_0x17b025(0x248),_0x232012);}}['removeInstance'](){const _0x2cad4d=a0_0x2530f3;this[_0x2cad4d(0x5e4)]['on']('remove.instance',async _0x123afb=>{const _0x3e1a25=_0x2cad4d;try{this['waInstances'][_0x123afb]=void 0x0;}catch{}try{this[_0x3e1a25(0x555)](_0x123afb);}finally{this[_0x3e1a25(0xfb)]['warn']('Instance\x20\x22'+_0x123afb+_0x3e1a25(0x5fb));}});}[a0_0x2530f3(0x239)](){const _0x3b1d39=a0_0x2530f3;this[_0x3b1d39(0x5e4)]['on']('no.connection',async _0x53a687=>{const _0x27b8af=_0x3b1d39;try{this['waInstances'][_0x53a687]=void 0x0;}catch{}try{this[_0x27b8af(0x555)](_0x53a687);}finally{this['logger']['warn'](_0x27b8af(0xee)+_0x53a687+_0x27b8af(0x601));}});}},$t=class extends I{[a0_0x2530f3(0x31d)](_0x227b0e){return Us(_0x227b0e);}async['insert'](_0x10a44e){const _0x52a66c=a0_0x2530f3;if(_0x10a44e[_0x52a66c(0x66c)]!==0x0)try{return{'insertCount':(await this[_0x52a66c(0x31d)](_0x10a44e[0x0]['owner'])[_0x52a66c(0x5db)]([..._0x10a44e]))[_0x52a66c(0x66c)]};}catch(_0x3ffa32){return _0x3ffa32;}}async[a0_0x2530f3(0x44c)](_0x25209b,_0x4cc1f5){const _0x3293ef=a0_0x2530f3;try{let _0x4098bc=this['getChatModelForOwner'](_0x4cc1f5),_0x5790bf=A(_0x25209b['where']);return await _0x4098bc[_0x3293ef(0x44c)](_0x5790bf)[_0x3293ef(0xb3)]({'lastmsg':-0x1})[_0x3293ef(0x6df)](_0x25209b?.[_0x3293ef(0x6df)]??0x0)['lean']();}catch{return[];}}async[a0_0x2530f3(0x4c8)](_0x2da5ce,_0x2e23ca){const _0x378274=a0_0x2530f3;try{return await this[_0x378274(0x31d)](_0x2e23ca)[_0x378274(0x61f)]({..._0x2da5ce[_0x378274(0x2cc)]}),[];}catch(_0x330f1a){return{'error':_0x330f1a?.[_0x378274(0x593)]()};}}async[a0_0x2530f3(0x2ff)](_0x450f0e,_0x2393a6){const _0x339c13=a0_0x2530f3;try{let _0x24a806=this[_0x339c13(0x31d)](_0x2393a6),_0x46bc98=A(_0x450f0e[_0x339c13(0x2cc)]);return await _0x24a806[_0x339c13(0x2ff)](_0x46bc98)['lean']();}catch{return null;}}async[a0_0x2530f3(0x31a)](_0x31d14e,_0x39438f,_0x4475e8,_0x5925d7,_0xb733e2='$set'){const _0x1f5b9a=a0_0x2530f3;try{let _0x5e9de0={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5925d7},_0x58467e=this[_0x1f5b9a(0x31d)](_0x4475e8),_0x4f1c17=A(_0x31d14e[_0x1f5b9a(0x2cc)]);Object[_0x1f5b9a(0x557)](_0x39438f)['forEach'](_0x1f8737=>{_0x39438f[_0x1f8737]==null&&delete _0x39438f[_0x1f8737];});let _0x24384d={};return _0x24384d[_0xb733e2]=_0x39438f,await _0x58467e[_0x1f5b9a(0x3fe)](_0x4f1c17,_0x24384d,_0x5e9de0);}catch(_0x114963){return console[_0x1f5b9a(0x426)](_0x114963),null;}}async[a0_0x2530f3(0x1d7)](_0x5da1f2){const _0x510a19=a0_0x2530f3;try{let _0x26102f=this[_0x510a19(0x31d)](_0x5da1f2[0x0][_0x510a19(0x4f6)][_0x510a19(0x2cc)]['owner']),_0xebdcef=_0x5da1f2[_0x510a19(0x378)](_0x36f119=>({'updateOne':{'filter':{..._0x36f119[_0x510a19(0x4f6)][_0x510a19(0x2cc)]},'update':{'$set':_0x36f119[_0x510a19(0xc3)]},'upsert':!0x0}})),_0x404ed8=await _0x26102f[_0x510a19(0x2bf)](_0xebdcef);return _0x404ed8[_0x510a19(0x169)]+_0x404ed8[_0x510a19(0x592)];}catch(_0xfecead){return console[_0x510a19(0x426)](_0xfecead),0x0;}}async[a0_0x2530f3(0x4be)](_0xf66618){const _0x51413a=a0_0x2530f3;try{let _0x257958=this[_0x51413a(0x31d)](_0xf66618),_0x1b15dd={'labels':{'$exists':!0x0}},_0x1f1d39={'$unset':{'labels':''}};return(await _0x257958['updateMany'](_0x1b15dd,_0x1f1d39))[_0x51413a(0x169)];}catch(_0x5ba867){return console[_0x51413a(0x426)](_0x5ba867),0x0;}}async['updateMissingEtiquetas'](_0x1ee4bf){const _0x97b3c=a0_0x2530f3;try{let _0x469cd7=this[_0x97b3c(0x31d)](_0x1ee4bf),_0x77c4a1={'leadInfo.etiquetas':{'$exists':!0x1}},_0x3c8e2c={'$set':{'leadInfo.etiquetas':[]}};return(await _0x469cd7[_0x97b3c(0x1d7)](_0x77c4a1,_0x3c8e2c))[_0x97b3c(0x169)];}catch(_0x86fed9){return console[_0x97b3c(0x426)](_0x86fed9),0x0;}}async['updateMissingTags'](_0x5ee248){const _0x4d73ec=a0_0x2530f3;try{let _0x2d6998=this[_0x4d73ec(0x31d)](_0x5ee248),_0x4b03d1={'leadInfo.tags':{'$exists':!0x1}},_0x71924={'$set':{'leadInfo.tags':[]}};return(await _0x2d6998[_0x4d73ec(0x1d7)](_0x4b03d1,_0x71924))[_0x4d73ec(0x169)];}catch(_0x54e4ed){return console[_0x4d73ec(0x426)](_0x54e4ed),0x0;}}async[a0_0x2530f3(0x450)](_0x8c6643){const _0x552631=a0_0x2530f3;try{let _0x57076c=this[_0x552631(0x31d)](_0x8c6643),_0x377486={'leadInfo.customFields':{'$exists':!0x1}},_0x1ff887={'$set':{'leadInfo.customFields':[]}};return(await _0x57076c[_0x552631(0x1d7)](_0x377486,_0x1ff887))[_0x552631(0x169)];}catch(_0x8ef983){return console['error'](_0x8ef983),0x0;}}async['insertMany'](_0x3da8a0,_0x48f919){const _0x551816=a0_0x2530f3;if(!Array[_0x551816(0x63d)](_0x3da8a0)||_0x3da8a0[_0x551816(0x66c)]===0x0)throw new Error(_0x551816(0x492));try{return(await this['getChatModelForOwner'](_0x48f919)[_0x551816(0x5db)](_0x3da8a0))[_0x551816(0x66c)];}catch(_0xdc82bd){throw console[_0x551816(0x426)](_0x551816(0x2f4),_0xdc82bd),_0xdc82bd;}}async['deleteChat'](_0x553947,_0x4cfe6e){const _0x43793e=a0_0x2530f3;try{await this[_0x43793e(0x31d)](_0x4cfe6e)['deleteOne']({'_id':_0x553947});}catch(_0x5a89d1){throw console[_0x43793e(0x426)](_0x43793e(0x332),_0x5a89d1),_0x5a89d1;}}},kt=class extends I{['getLabelModelForOwner'](_0x425aa0){return ua(_0x425aa0);}async['updateOne'](_0x2e4951,_0x190ee7,_0x903842,_0x5b11d3){const _0x1067e3=a0_0x2530f3;try{let _0x1dfb82={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5b11d3},_0x4be70d=this[_0x1067e3(0x32b)](_0x903842),_0x41fc04=A(_0x2e4951[_0x1067e3(0x2cc)]);return await _0x4be70d[_0x1067e3(0x3fe)](_0x41fc04,{'$set':_0x190ee7},_0x1dfb82);}catch(_0x13c1b9){return console[_0x1067e3(0x426)](_0x13c1b9),null;}}async[a0_0x2530f3(0x44c)](_0x4920eb,_0x371ca1){const _0x4123b7=a0_0x2530f3;try{let _0xa7fdff=this[_0x4123b7(0x32b)](_0x371ca1),_0x9c796a=A(_0x4920eb[_0x4123b7(0x2cc)]);return await _0xa7fdff[_0x4123b7(0x44c)](_0x9c796a);}catch(_0x59d7a5){console['error'](_0x59d7a5);}}async[a0_0x2530f3(0x6c8)](_0x2ffb20,_0x57094f){const _0x39b052=a0_0x2530f3;try{let _0x3a93a9=this[_0x39b052(0x32b)](_0x57094f),_0x2e6852=A(_0x2ffb20[_0x39b052(0x2cc)]);await _0x3a93a9['deleteMany'](_0x2e6852);}catch(_0x135b3a){console[_0x39b052(0x426)](_0x135b3a);}}async[a0_0x2530f3(0x4c8)](_0x8899d6){const _0xbb2dad=a0_0x2530f3;try{return await this[_0xbb2dad(0x32b)](_0x8899d6)[_0xbb2dad(0x2e4)]['drop'](),{'success':!0x0};}catch(_0x43646d){return console['error'](_0x43646d),{'success':!0x1,'error':_0x43646d};}}},Lt=class{constructor(_0x798d7f){const _0x779183=a0_0x2530f3;this[_0x779183(0xae)]=_0x798d7f;}async[a0_0x2530f3(0x233)]({instanceName:_0x4b4513},_0x143943){const _0x2d2c6f=a0_0x2530f3;return await this[_0x2d2c6f(0xae)][_0x2d2c6f(0x2f2)][_0x4b4513][_0x2d2c6f(0x233)](_0x143943);}async['whatsappNumber']({instanceName:_0x97e6d6},_0x39c5e7){const _0x508103=a0_0x2530f3;return await this[_0x508103(0xae)]['waInstances'][_0x97e6d6]['whatsappNumber'](_0x39c5e7);}async[a0_0x2530f3(0x52e)]({instanceName:_0x99a4cd},_0x58e160){const _0x319997=a0_0x2530f3;return await this[_0x319997(0xae)]['waInstances'][_0x99a4cd][_0x319997(0x52e)](_0x58e160);}async[a0_0x2530f3(0x42c)]({instanceName:_0x1eb0f6},_0x1ca05a){const _0x556663=a0_0x2530f3;return await this[_0x556663(0xae)][_0x556663(0x2f2)][_0x1eb0f6][_0x556663(0x356)](_0x1ca05a);}async[a0_0x2530f3(0x4eb)]({instanceName:_0x39e340},_0x497073){const _0x42ad10=a0_0x2530f3;return await this[_0x42ad10(0xae)]['waInstances'][_0x39e340][_0x42ad10(0x4eb)](_0x497073);}async[a0_0x2530f3(0x337)]({instanceName:_0x22a652},_0x35d986){const _0x1f7f46=a0_0x2530f3;return await this['waMonitor'][_0x1f7f46(0x2f2)][_0x22a652][_0x1f7f46(0x337)](_0x35d986);}async['fetchProfilePicture']({instanceName:_0x57c0c2},_0x550d9d){const _0x4be27f=a0_0x2530f3;return await this[_0x4be27f(0xae)][_0x4be27f(0x2f2)][_0x57c0c2][_0x4be27f(0x361)](_0x550d9d['number']);}async[a0_0x2530f3(0x1c6)]({instanceName:_0x4fb97f},_0x75c7cf){const _0x461b8e=a0_0x2530f3;return await this['waMonitor'][_0x461b8e(0x2f2)][_0x4fb97f][_0x461b8e(0x1c6)](_0x75c7cf['number']);}async[a0_0x2530f3(0x3c0)]({instanceName:_0x2e3c13},_0x3acb45){const _0x2f8198=a0_0x2530f3;return await this['waMonitor'][_0x2f8198(0x2f2)][_0x2e3c13][_0x2f8198(0x3c0)](_0x3acb45);}async[a0_0x2530f3(0x1e4)]({instanceName:_0x1299f6},_0x444785){const _0x19fc82=a0_0x2530f3;return await this[_0x19fc82(0xae)][_0x19fc82(0x2f2)][_0x1299f6][_0x19fc82(0x1e4)](_0x444785);}async['getBase64FromMediaMessage']({instanceName:_0xa00702},_0x2855a8){const _0x4fc724=a0_0x2530f3;return await this[_0x4fc724(0xae)]['waInstances'][_0xa00702]['getBase64FromMediaMessage'](_0x2855a8);}async['fetchMessages']({instanceName:_0x3da77e},_0x2ffbc4){const _0x24fb72=a0_0x2530f3;return await this[_0x24fb72(0xae)][_0x24fb72(0x2f2)][_0x3da77e]['fetchMessages'](_0x2ffbc4);}async[a0_0x2530f3(0x102)]({instanceName:_0x53f8e9}){const _0x40d21c=a0_0x2530f3;return await this[_0x40d21c(0xae)][_0x40d21c(0x2f2)][_0x53f8e9][_0x40d21c(0x102)]();}async[a0_0x2530f3(0x171)]({instanceName:_0x55ee15}){const _0x229ba0=a0_0x2530f3;return await this['waMonitor'][_0x229ba0(0x2f2)][_0x55ee15][_0x229ba0(0x171)]();}async[a0_0x2530f3(0x56a)]({instanceName:_0x35dd6e}){const _0x5b41f7=a0_0x2530f3;return await this[_0x5b41f7(0xae)][_0x5b41f7(0x2f2)][_0x35dd6e][_0x5b41f7(0x56a)]();}async[a0_0x2530f3(0x167)]({instanceName:_0x2837fe},_0x3512da){const _0x382735=a0_0x2530f3;return await this[_0x382735(0xae)][_0x382735(0x2f2)][_0x2837fe]['updatePrivacySettings'](_0x3512da);}async[a0_0x2530f3(0x41c)]({instanceName:_0x3b6d99},_0x343223){const _0x273412=a0_0x2530f3;return await this[_0x273412(0xae)][_0x273412(0x2f2)][_0x3b6d99][_0x273412(0x41c)](_0x343223[_0x273412(0x399)]);}async[a0_0x2530f3(0x4c0)]({instanceName:_0x221c8b},_0x38eeec){const _0x59c470=a0_0x2530f3;return await this[_0x59c470(0xae)]['waInstances'][_0x221c8b][_0x59c470(0x4c0)](_0x38eeec['name']);}async[a0_0x2530f3(0x5fd)]({instanceName:_0x104bb4},_0x59c666){const _0x2e032e=a0_0x2530f3;return await this[_0x2e032e(0xae)][_0x2e032e(0x2f2)][_0x104bb4]['updateProfileStatus'](_0x59c666[_0x2e032e(0x64f)]);}async['updateProfilePicture']({instanceName:_0x3a4f42},_0x5706e8){const _0x55139=a0_0x2530f3;return await this[_0x55139(0xae)][_0x55139(0x2f2)][_0x3a4f42][_0x55139(0x3aa)](_0x5706e8[_0x55139(0x5de)]);}async['removeProfilePicture']({instanceName:_0x12f87e},_0x4262ff){const _0x259ba9=a0_0x2530f3;return await this[_0x259ba9(0xae)][_0x259ba9(0x2f2)][_0x12f87e][_0x259ba9(0x260)]();}},Ns=require(a0_0x2530f3(0x4e3)),jt=class c{constructor(_0x4ea9cd,_0x46fb92,_0x45f202,_0x3a3b4a,_0x2f1ef4){const _0x5cdc0b=a0_0x2530f3;this[_0x5cdc0b(0xae)]=_0x4ea9cd,this[_0x5cdc0b(0x1f2)]=_0x46fb92,this[_0x5cdc0b(0x45b)]=_0x45f202,this['eventEmitter']=_0x3a3b4a,this['authService']=_0x2f1ef4,this[_0x5cdc0b(0xfb)]=new v(c['name']);}async['createInstance']({instanceName:_0xa631c4,apikey:_0x5f076f,number:_0x4ad3b6,proxy:_0x2f9fc4=!0x0}){const _0x23a859=a0_0x2530f3;try{let _0x3edbfb=new ye(this[_0x23a859(0x1f2)],this[_0x23a859(0x5e4)],this['repository']);_0x3edbfb['instanceName']=_0xa631c4,this[_0x23a859(0xae)][_0x23a859(0x2f2)][_0x3edbfb[_0x23a859(0x67f)]]=_0x3edbfb;let _0x161da7={};_0x5f076f?(await this[_0x23a859(0x45b)][_0x23a859(0x33e)][_0x23a859(0xb0)]({'apikey':_0x5f076f},_0xa631c4),_0x161da7['apikey']=_0x5f076f):_0x161da7=await this[_0x23a859(0x372)][_0x23a859(0x5b9)]({'instanceName':_0x3edbfb[_0x23a859(0x67f)]});let _0x543bbc;return await _0x3edbfb['connectToWhatsapp'](_0x4ad3b6,_0x2f9fc4),await(0x0,Ns[_0x23a859(0x34a)])(0x7d0),_0x543bbc=_0x3edbfb[_0x23a859(0x49b)],{'instance':{'instanceName':_0x3edbfb[_0x23a859(0x67f)],'status':_0x23a859(0x474)},'hash':_0x161da7,'qrcode':_0x543bbc};}catch(_0x47eed7){this['logger'][_0x23a859(0x426)](_0x47eed7);}}async[a0_0x2530f3(0x1f3)]({instanceName:_0x456f9f,number:_0x17b4fd=null,proxy:_0x4afc95=!0x0}){const _0x3baf2e=a0_0x2530f3;try{let _0x42c0b3=this['waMonitor']['waInstances'][_0x456f9f];switch(_0x42c0b3?.[_0x3baf2e(0xc2)]?.[_0x3baf2e(0x263)]){case _0x3baf2e(0x16c):return await _0x42c0b3[_0x3baf2e(0x431)](_0x17b4fd,_0x4afc95),await(0x0,Ns[_0x3baf2e(0x34a)])(0x7d0),_0x42c0b3[_0x3baf2e(0x49b)];case _0x3baf2e(0x425):return _0x42c0b3[_0x3baf2e(0x49b)];default:return await this[_0x3baf2e(0x4e1)]({'instanceName':_0x456f9f});}}catch(_0x28f08a){this[_0x3baf2e(0xfb)]['log'](_0x28f08a);}}async['connectionState']({instanceName:_0x2eb909}){const _0xe67aa7=a0_0x2530f3;let _0x1ccf68=this[_0xe67aa7(0xae)][_0xe67aa7(0x2f2)][_0x2eb909][_0xe67aa7(0xc2)],_0x2e38af=null;_0x1ccf68[_0xe67aa7(0x263)]===_0xe67aa7(0xc6)&&_0x2eb909&&(_0x2e38af=await this[_0xe67aa7(0xae)][_0xe67aa7(0x179)](_0x2eb909));let _0x36f4cd=null;return _0x1ccf68['state']===_0xe67aa7(0x425)&&_0x2eb909&&(_0x36f4cd=this['waMonitor'][_0xe67aa7(0x2f2)][_0x2eb909][_0xe67aa7(0x49b)]),{'instance':_0x2eb909,'connectionStatus':_0x1ccf68,'instanceInfo':_0x2e38af,'qrcode':_0x36f4cd};}async[a0_0x2530f3(0x685)]({instanceName:_0x4adb17}){const _0x3c82e0=a0_0x2530f3;try{return this[_0x3c82e0(0xae)][_0x3c82e0(0x2f2)][_0x4adb17]?.[_0x3c82e0(0x4dd)]?.['ws']?.[_0x3c82e0(0x16c)](),{'status':_0x3c82e0(0x539),'error':!0x1,'response':{'message':_0x3c82e0(0x262)}};}catch(_0x2a1acd){this[_0x3c82e0(0xfb)]['error'](_0x2a1acd);}}async[a0_0x2530f3(0x5ac)]({instanceName:_0xc92af9}){const _0x3ef1c6=a0_0x2530f3;return _0xc92af9?this[_0x3ef1c6(0xae)][_0x3ef1c6(0x179)](_0xc92af9):this[_0x3ef1c6(0xae)][_0x3ef1c6(0x179)]();}async[a0_0x2530f3(0x16f)]({instanceName:_0x123466}){const _0x5655c5=a0_0x2530f3;try{return await this[_0x5655c5(0xae)][_0x5655c5(0x2f2)][_0x123466]?.['client']?.[_0x5655c5(0x16f)](_0x5655c5(0x2a0)+_0x123466),{'error':!0x1,'message':_0x5655c5(0x636)};}catch(_0x121e08){throw new O(_0x121e08[_0x5655c5(0x593)]());}}async[a0_0x2530f3(0x4a7)]({instanceName:_0xb99bc2}){const _0x4d06b7=a0_0x2530f3;if((await this[_0x4d06b7(0x4e1)]({'instanceName':_0xb99bc2}))[_0x4d06b7(0xc2)][_0x4d06b7(0x263)]===_0x4d06b7(0xc6))throw new m([_0x4d06b7(0x154),_0x4d06b7(0x3e4)]);try{return delete this['waMonitor']['waInstances'][_0xb99bc2],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x1eac9e){throw new m(_0x1eac9e['toString']());}}},Z=require(a0_0x2530f3(0x570)),Ft=class{constructor(_0x978c08){const _0x3b23c9=a0_0x2530f3;this[_0x3b23c9(0xae)]=_0x978c08;}async['sendText']({instanceName:_0x382657},_0x3504c5){const _0x16d4dc=a0_0x2530f3;return await this[_0x16d4dc(0xae)][_0x16d4dc(0x2f2)][_0x382657]['textMessage'](_0x3504c5);}async['sendMenu']({instanceName:_0x494a39},_0x198e63){const _0x279b9f=a0_0x2530f3;return await this['waMonitor'][_0x279b9f(0x2f2)][_0x494a39]['menuMessage'](_0x198e63);}async[a0_0x2530f3(0x1ed)]({instanceName:_0x5bd9cf},_0x38da07){const _0x52b13b=a0_0x2530f3;if((0x0,Z[_0x52b13b(0x153)])(_0x38da07?.['mediaMessage']?.[_0x52b13b(0x5fc)])&&!_0x38da07?.[_0x52b13b(0x4f5)]?.[_0x52b13b(0x4f7)])throw new m(_0x52b13b(0x3ad));if((0x0,Z[_0x52b13b(0x62d)])(_0x38da07?.[_0x52b13b(0x4f5)]?.['media'])||(0x0,Z[_0x52b13b(0x153)])(_0x38da07?.[_0x52b13b(0x4f5)]?.[_0x52b13b(0x5fc)]))return await this['waMonitor'][_0x52b13b(0x2f2)][_0x5bd9cf][_0x52b13b(0x4f5)](_0x38da07);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x2530f3(0x329)]({instanceName:_0x209f0d},_0x6222fc){const _0x4d3afa=a0_0x2530f3;if((0x0,Z[_0x4d3afa(0x62d)])(_0x6222fc[_0x4d3afa(0x64c)]['image'])||(0x0,Z[_0x4d3afa(0x153)])(_0x6222fc[_0x4d3afa(0x64c)][_0x4d3afa(0x612)]))return await this['waMonitor'][_0x4d3afa(0x2f2)][_0x209f0d][_0x4d3afa(0x43c)](_0x6222fc);throw new m(_0x4d3afa(0x541));}async[a0_0x2530f3(0xe5)]({instanceName:_0x4d8d5d},_0x4509a7){const _0x3b7010=a0_0x2530f3;if((0x0,Z[_0x3b7010(0x62d)])(_0x4509a7[_0x3b7010(0x15f)][_0x3b7010(0x35f)])||(0x0,Z[_0x3b7010(0x153)])(_0x4509a7['audioMessage'][_0x3b7010(0x35f)]))return await this[_0x3b7010(0xae)][_0x3b7010(0x2f2)][_0x4d8d5d][_0x3b7010(0x240)](_0x4509a7);throw new m(_0x3b7010(0x541));}async[a0_0x2530f3(0x352)]({instanceName:_0x5f47ec},_0xefdc2a){const _0x5876e1=a0_0x2530f3;if((0x0,Z['isBase64'])(_0xefdc2a[_0x5876e1(0x558)]['mediaMessage']?.['media'])&&!_0xefdc2a[_0x5876e1(0x558)][_0x5876e1(0x4f5)]?.['fileName'])throw new m(_0x5876e1(0x3ad));return await this[_0x5876e1(0xae)][_0x5876e1(0x2f2)][_0x5f47ec][_0x5876e1(0x558)](_0xefdc2a);}async[a0_0x2530f3(0x61e)]({instanceName:_0xd2bb80},_0x22deab){const _0x35a39a=a0_0x2530f3;return await this['waMonitor'][_0x35a39a(0x2f2)][_0xd2bb80]['locationMessage'](_0x22deab);}async[a0_0x2530f3(0x53b)]({instanceName:_0x2390f9},_0x173d61){const _0x55b340=a0_0x2530f3;return await this[_0x55b340(0xae)][_0x55b340(0x2f2)][_0x2390f9][_0x55b340(0xa9)](_0x173d61);}async[a0_0x2530f3(0x2ba)]({instanceName:_0x385a29},_0x5916ea){const _0x176cdb=a0_0x2530f3;return await this[_0x176cdb(0xae)][_0x176cdb(0x2f2)][_0x385a29][_0x176cdb(0x48b)](_0x5916ea);}async[a0_0x2530f3(0x704)]({instanceName:_0x15cd16},_0x656e31){const _0x5212d6=a0_0x2530f3;return await this['waMonitor'][_0x5212d6(0x2f2)][_0x15cd16][_0x5212d6(0x178)](_0x656e31);}async[a0_0x2530f3(0x696)]({instanceName:_0x41823d},_0x4f4795){const _0x54e160=a0_0x2530f3;if(!_0x4f4795[_0x54e160(0xc8)][_0x54e160(0x578)][_0x54e160(0x26e)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x54e160(0x120));return await this[_0x54e160(0xae)]['waInstances'][_0x41823d][_0x54e160(0xc8)](_0x4f4795);}async[a0_0x2530f3(0x692)]({instanceName:_0x2e10fc},_0x57b2de){const _0x44d88a=a0_0x2530f3;return await this['waMonitor'][_0x44d88a(0x2f2)][_0x2e10fc][_0x44d88a(0x615)](_0x57b2de);}},Co=require(a0_0x2530f3(0x28b)),Rs=require(a0_0x2530f3(0xbe)),qt=class c{constructor(_0xcb0031,_0x5450a0,_0x5303e6){const _0x2acd39=a0_0x2530f3;this[_0x2acd39(0x1f2)]=_0xcb0031,this[_0x2acd39(0xae)]=_0x5450a0,this['repository']=_0x5303e6,this[_0x2acd39(0xfb)]=new v(c['name']);}async[a0_0x2530f3(0x44e)](_0x589fa7){const _0x4ade51=a0_0x2530f3;let _0x4e0f8c=this['configService']['get']('AUTHENTICATION')[_0x4ade51(0x1c9)],_0x4f60a7=(0x0,Co['sign'])({'instanceName':_0x589fa7[_0x4ade51(0x67f)],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x4e0f8c['SECRET'],{'expiresIn':_0x4e0f8c['EXPIRIN_IN'],'encoding':'utf8','subject':'g-t'}),_0x33801e=await this['repository'][_0x4ade51(0x33e)]['create']({'jwt':_0x4f60a7},_0x589fa7['instanceName']);if(_0x33801e[_0x4ade51(0x426)])throw this[_0x4ade51(0xfb)][_0x4ade51(0x426)]({'localError':c[_0x4ade51(0x6c9)]+'.jwt','error':_0x33801e[_0x4ade51(0x426)]}),new m(_0x4ade51(0xb7),_0x33801e[_0x4ade51(0x426)]?.['toString']());return{'jwt':_0x4f60a7};}async['apikey'](_0x41e8e1){const _0x52b4a0=a0_0x2530f3;let _0x541f7f=(0x0,Rs['v4'])()[_0x52b4a0(0x6c3)](),_0x22ccca=await this[_0x52b4a0(0x45b)][_0x52b4a0(0x33e)][_0x52b4a0(0xb0)]({'apikey':_0x541f7f},_0x41e8e1['instanceName']);if(_0x22ccca[_0x52b4a0(0x426)])throw this[_0x52b4a0(0xfb)]['error']({'localError':c['name']+_0x52b4a0(0x1e2),'error':_0x22ccca[_0x52b4a0(0x426)]}),new m(_0x52b4a0(0xb7),_0x22ccca[_0x52b4a0(0x426)]?.[_0x52b4a0(0x593)]());return{'apikey':_0x541f7f};}async[a0_0x2530f3(0x5b9)](_0x286d63){const _0x51782c=a0_0x2530f3;let _0x34d77b=this[_0x51782c(0x1f2)][_0x51782c(0x196)](_0x51782c(0xad));return await this[_0x34d77b[_0x51782c(0x1b6)]](_0x286d63);}},Ut=class{constructor(_0x4de1f3){const _0x10ee59=a0_0x2530f3;this[_0x10ee59(0xae)]=_0x4de1f3;}async['createGroup'](_0x20f5f5,_0x220db5){const _0x121179=a0_0x2530f3;return await this['waMonitor'][_0x121179(0x2f2)][_0x20f5f5[_0x121179(0x67f)]][_0x121179(0x5c6)](_0x220db5);}async['updateGroupPicture'](_0x544b91,_0x4bd59c){const _0x573b04=a0_0x2530f3;return await this[_0x573b04(0xae)][_0x573b04(0x2f2)][_0x544b91['instanceName']]['updateGroupPicture'](_0x4bd59c);}async[a0_0x2530f3(0x137)](_0x38d8e4,_0x3ab204){const _0x24c6f2=a0_0x2530f3;return await this[_0x24c6f2(0xae)][_0x24c6f2(0x2f2)][_0x38d8e4[_0x24c6f2(0x67f)]]['groupDesc'](_0x3ab204);}async[a0_0x2530f3(0x58a)](_0x27277e,_0xbe31cd){const _0x8aa8b0=a0_0x2530f3;return await this[_0x8aa8b0(0xae)][_0x8aa8b0(0x2f2)][_0x27277e[_0x8aa8b0(0x67f)]][_0x8aa8b0(0x58a)](_0xbe31cd);}async[a0_0x2530f3(0x3e6)](_0x43cbe0,_0x5cf5ed){const _0xc61253=a0_0x2530f3;return await this[_0xc61253(0xae)][_0xc61253(0x2f2)][_0x43cbe0[_0xc61253(0x67f)]][_0xc61253(0x3e6)](_0x5cf5ed);}async[a0_0x2530f3(0x67b)](_0x521ad7,_0x2f14ad){const _0x1a0e23=a0_0x2530f3;return await this[_0x1a0e23(0xae)][_0x1a0e23(0x2f2)][_0x521ad7['instanceName']][_0x1a0e23(0x6ea)](_0x2f14ad);}async[a0_0x2530f3(0x1d9)](_0x1266a7){const _0x32899a=a0_0x2530f3;return await this[_0x32899a(0xae)][_0x32899a(0x2f2)][_0x1266a7[_0x32899a(0x67f)]][_0x32899a(0x1d9)]();}async['inviteCode'](_0x5daf44,_0x295f0f){const _0x506cfa=a0_0x2530f3;return await this[_0x506cfa(0xae)][_0x506cfa(0x2f2)][_0x5daf44[_0x506cfa(0x67f)]]['inviteCode'](_0x295f0f);}async[a0_0x2530f3(0x307)](_0x1e3bd0,_0x2fea5){const _0xe1cb21=a0_0x2530f3;return await this[_0xe1cb21(0xae)][_0xe1cb21(0x2f2)][_0x1e3bd0[_0xe1cb21(0x67f)]][_0xe1cb21(0x307)](_0x2fea5);}async[a0_0x2530f3(0x1f1)](_0x2cb787,_0x321a37){const _0x4d9d18=a0_0x2530f3;return await this[_0x4d9d18(0xae)]['waInstances'][_0x2cb787[_0x4d9d18(0x67f)]][_0x4d9d18(0x1f1)](_0x321a37);}async[a0_0x2530f3(0x487)](_0xdedfaf,_0x2725b9){const _0x3055f5=a0_0x2530f3;return await this[_0x3055f5(0xae)][_0x3055f5(0x2f2)][_0xdedfaf[_0x3055f5(0x67f)]]['findParticipants'](_0x2725b9);}async[a0_0x2530f3(0x20c)](_0x580516,_0x39d3a2){const _0x542bf1=a0_0x2530f3;return await this[_0x542bf1(0xae)][_0x542bf1(0x2f2)][_0x580516['instanceName']][_0x542bf1(0x4db)](_0x39d3a2);}async[a0_0x2530f3(0x25a)](_0x328353,_0xef6e0d){const _0x1365d6=a0_0x2530f3;return await this[_0x1365d6(0xae)][_0x1365d6(0x2f2)][_0x328353[_0x1365d6(0x67f)]][_0x1365d6(0x25a)](_0xef6e0d);}async['leaveGroup'](_0x5a90a9,_0x28d160){const _0x2bc6f3=a0_0x2530f3;return await this[_0x2bc6f3(0xae)][_0x2bc6f3(0x2f2)][_0x5a90a9['instanceName']][_0x2bc6f3(0x336)](_0x28d160);}},Jt=class{constructor(_0x557917){this['waMonitor']=_0x557917;}['create'](_0x5f13f6,_0x19c8a9){const _0x4562a1=a0_0x2530f3;return this['waMonitor'][_0x4562a1(0x2f2)][_0x5f13f6[_0x4562a1(0x67f)]][_0x4562a1(0x4f9)](_0x19c8a9);}async[a0_0x2530f3(0x44c)](_0x5e03bb){const _0x3966e4=a0_0x2530f3;try{return await this[_0x3966e4(0xae)][_0x3966e4(0x2f2)][_0x5e03bb[_0x3966e4(0x67f)]][_0x3966e4(0x36d)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v('FlowController'),Vt=class{constructor(_0x161fc3){const _0x468606=a0_0x2530f3;this[_0x468606(0xae)]=_0x161fc3;}async[a0_0x2530f3(0x4b8)](_0x7a5cce,_0x4102a9){const _0x2b4354=a0_0x2530f3;return await this[_0x2b4354(0xae)][_0x2b4354(0x2f2)][_0x7a5cce[_0x2b4354(0x67f)]][_0x2b4354(0x4b8)](_0x4102a9);}async['getScheduleMessage'](_0x7127f3){const _0x591a67=a0_0x2530f3;return await this[_0x591a67(0xae)][_0x591a67(0x2f2)][_0x7127f3[_0x591a67(0x67f)]][_0x591a67(0x388)]();}async['deleteDoneMessages'](_0x1aba38){const _0x90c6d7=a0_0x2530f3;return await this[_0x90c6d7(0xae)]['waInstances'][_0x1aba38[_0x90c6d7(0x67f)]][_0x90c6d7(0x4d0)]();}async[a0_0x2530f3(0x511)](_0x5a81eb){const _0x6c4b3=a0_0x2530f3;return await this[_0x6c4b3(0xae)][_0x6c4b3(0x2f2)][_0x5a81eb[_0x6c4b3(0x67f)]][_0x6c4b3(0x511)]();}async['updateAgent'](_0xe4560,_0x5caf78){const _0x4fc07c=a0_0x2530f3;return await this['waMonitor'][_0x4fc07c(0x2f2)][_0xe4560['instanceName']][_0x4fc07c(0x4ce)](_0x5caf78);}async[a0_0x2530f3(0x31c)](_0x43fb30,_0x42c919){const _0x406e2e=a0_0x2530f3;return await this['waMonitor'][_0x406e2e(0x2f2)][_0x43fb30[_0x406e2e(0x67f)]]['updateCustomFields'](_0x42c919);}async['updateFlowConfig'](_0x3f20ff,_0x3363d2){const _0x458e66=a0_0x2530f3;return await this[_0x458e66(0xae)][_0x458e66(0x2f2)][_0x3f20ff['instanceName']]['updateFlowConfig'](_0x3363d2);}async[a0_0x2530f3(0x52a)](_0x46fbf1,_0x580b80){const _0x2087f2=a0_0x2530f3;return await this['waMonitor'][_0x2087f2(0x2f2)][_0x46fbf1[_0x2087f2(0x67f)]][_0x2087f2(0x52a)](_0x580b80);}async['getConversation'](_0x189951,_0xe69cd6){const _0x589bea=a0_0x2530f3;return await this[_0x589bea(0xae)][_0x589bea(0x2f2)][_0x189951['instanceName']]['getConversation'](_0xe69cd6);}async[a0_0x2530f3(0x498)](_0x4fc9db,_0x4048a6){const _0x17ceaa=a0_0x2530f3;return await this[_0x17ceaa(0xae)][_0x17ceaa(0x2f2)][_0x4fc9db['instanceName']]['fetchConversation'](_0x4048a6);}async['editConversation'](_0x18f183,_0x247f72){const _0x2eb096=a0_0x2530f3;return await this[_0x2eb096(0xae)][_0x2eb096(0x2f2)][_0x18f183[_0x2eb096(0x67f)]][_0x2eb096(0x181)](_0x247f72);}async[a0_0x2530f3(0x3a0)](_0x54cb9c,_0x2503da){const _0xd788f5=a0_0x2530f3;return await this[_0xd788f5(0xae)]['waInstances'][_0x54cb9c[_0xd788f5(0x67f)]]['deleteConversation'](_0x2503da);}async['getFlow'](_0x2f0b76,_0x3d8e7b){const _0x5da76c=a0_0x2530f3;return await this['waMonitor'][_0x5da76c(0x2f2)][_0x2f0b76[_0x5da76c(0x67f)]][_0x5da76c(0x468)](_0x3d8e7b[_0x5da76c(0x6c9)]);}async[a0_0x2530f3(0x6f2)](_0x1489b5,_0x609886){const _0x1ba004=a0_0x2530f3;return await this['waMonitor'][_0x1ba004(0x2f2)][_0x1489b5[_0x1ba004(0x67f)]][_0x1ba004(0x6f2)](_0x609886);}async[a0_0x2530f3(0x4b2)](_0x2fec72,_0x13c331){const _0x42a6c0=a0_0x2530f3;return await this[_0x42a6c0(0xae)][_0x42a6c0(0x2f2)][_0x2fec72[_0x42a6c0(0x67f)]][_0x42a6c0(0x4b2)](_0x13c331);}async[a0_0x2530f3(0x158)](_0x33de79,_0x4aacb2){const _0x29a32f=a0_0x2530f3;return await this['waMonitor'][_0x29a32f(0x2f2)][_0x33de79[_0x29a32f(0x67f)]][_0x29a32f(0x158)](_0x4aacb2);}async[a0_0x2530f3(0x37e)](_0x4e4d42,_0x2d305b){const _0x27c5ce=a0_0x2530f3;return await this[_0x27c5ce(0xae)][_0x27c5ce(0x2f2)][_0x4e4d42[_0x27c5ce(0x67f)]][_0x27c5ce(0x37e)](_0x2d305b);}async[a0_0x2530f3(0x5b3)](_0x13a4ca,_0x34f9dc){const _0x1a1062=a0_0x2530f3;return await this[_0x1a1062(0xae)][_0x1a1062(0x2f2)][_0x13a4ca[_0x1a1062(0x67f)]]['editFlowGroup'](_0x34f9dc);}async[a0_0x2530f3(0x292)](_0x402a1a,_0x18374){const _0x22ef5f=a0_0x2530f3;return await this[_0x22ef5f(0xae)][_0x22ef5f(0x2f2)][_0x402a1a[_0x22ef5f(0x67f)]]['editFlowCondition'](_0x18374);}async[a0_0x2530f3(0x2e8)](_0x359ed8,_0xd59903){const _0xfb13bd=a0_0x2530f3;return await this[_0xfb13bd(0xae)][_0xfb13bd(0x2f2)][_0x359ed8[_0xfb13bd(0x67f)]][_0xfb13bd(0x2e8)](_0xd59903);}async['editFlowVariable'](_0x2f28bf,_0x4fdbb9){const _0x7d3704=a0_0x2530f3;return await this['waMonitor'][_0x7d3704(0x2f2)][_0x2f28bf['instanceName']][_0x7d3704(0x27c)](_0x4fdbb9);}async[a0_0x2530f3(0x538)](_0x3127ff,_0x1eacec){const _0xff5e62=a0_0x2530f3;return await this[_0xff5e62(0xae)][_0xff5e62(0x2f2)][_0x3127ff[_0xff5e62(0x67f)]][_0xff5e62(0x538)](_0x1eacec[_0xff5e62(0x6c9)]);}async[a0_0x2530f3(0x4a0)](_0x11c841){const _0x549752=a0_0x2530f3;return await this[_0x549752(0xae)][_0x549752(0x2f2)][_0x11c841['instanceName']][_0x549752(0x4a0)]();}},Bt=class{constructor(_0x557e83){const _0x28049d=a0_0x2530f3;this[_0x28049d(0x2ca)]=_0x557e83;}async[a0_0x2530f3(0x5fe)](_0x1641f8,_0x3818ad){const _0x5685e6=a0_0x2530f3;return this[_0x5685e6(0x2ca)]['create'](_0x1641f8,_0x3818ad);}async[a0_0x2530f3(0x36d)](_0x2fbebb){const _0x5279e9=a0_0x2530f3;return this[_0x5279e9(0x2ca)][_0x5279e9(0x44c)](_0x2fbebb);}},Gt=class extends I{constructor(_0x970c19,_0x487214){const _0x366e2c=a0_0x2530f3;super(_0x487214),this[_0x366e2c(0x156)]=_0x970c19,this['configService']=_0x487214;}async[a0_0x2530f3(0xb0)](_0x235383,_0x140442){const _0x4665a6=a0_0x2530f3;try{return this[_0x4665a6(0x223)][_0x4665a6(0x6ef)]?{'insertCount':(await this[_0x4665a6(0x156)][_0x4665a6(0x29c)]({'_id':_0x140442},{..._0x235383},{'upsert':!0x0}))[_0x4665a6(0x169)]}:{'insertCount':0x1};}catch(_0x7c008c){return _0x7c008c;}}async[a0_0x2530f3(0x6c8)](_0xac0b2d){const _0x3e7543=a0_0x2530f3;try{if(this[_0x3e7543(0x223)][_0x3e7543(0x6ef)]){await this[_0x3e7543(0x156)][_0x3e7543(0x3fb)]({'_id':_0xac0b2d});return;}}catch(_0x57edfa){return{'error':_0x57edfa};}}async[a0_0x2530f3(0x44c)](_0x1dce83){const _0x339b1d=a0_0x2530f3;try{if(this[_0x339b1d(0x223)]['ENABLED'])return await this['webhookModel'][_0x339b1d(0x2ff)]({'_id':_0x1dce83});}catch{return{};}}},Wt=class extends I{constructor(_0xfe5373,_0x3ca150){const _0x1cc1e2=a0_0x2530f3;super(_0x3ca150),this[_0x1cc1e2(0x4f8)]=_0xfe5373,this[_0x1cc1e2(0x1f2)]=_0x3ca150,this[_0x1cc1e2(0x33e)]=_0x3ca150[_0x1cc1e2(0x196)](_0x1cc1e2(0xad));}async['create'](_0x49dbc3,_0x2942c4){const _0x534888=a0_0x2530f3;try{if(this[_0x534888(0x223)][_0x534888(0x6ef)])return{'insertCount':(await this[_0x534888(0x4f8)]['updateOne']({'_id':_0x2942c4},{'$set':{..._0x49dbc3}},{'upsert':!0x0}))[_0x534888(0x169)]};}catch(_0x368a31){return{'error':_0x368a31};}}async[a0_0x2530f3(0x19e)](_0x4accd4,_0x5e823a){const _0x1e2f7d=a0_0x2530f3;try{if(this[_0x1e2f7d(0x223)][_0x1e2f7d(0x6ef)])return{'insertCount':(await this[_0x1e2f7d(0x4f8)][_0x1e2f7d(0x1d7)](_0x4accd4,{'$set':_0x5e823a},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x1e2f7d(0x323));}catch(_0x3fdd78){return{'error':_0x3fdd78};}}async['deleteMany'](_0x400612){const _0x196501=a0_0x2530f3;try{if(this[_0x196501(0x223)][_0x196501(0x6ef)])return{'insertCount':(await this['authModel'][_0x196501(0x61f)](_0x400612))[_0x196501(0x251)]};throw new Error(_0x196501(0x323));}catch(_0x713110){return{'error':_0x713110};}}async[a0_0x2530f3(0x6c8)](_0x2156c4){const _0x28bfae=a0_0x2530f3;try{if(this[_0x28bfae(0x223)]['ENABLED']){await this['authModel'][_0x28bfae(0x3fb)]({'_id':_0x2156c4});return;}}catch(_0x38a9ab){return{'error':_0x38a9ab};}}async[a0_0x2530f3(0x44c)](_0x112bec){const _0x293fe2=a0_0x2530f3;try{if(this[_0x293fe2(0x223)]['ENABLED'])return await this['authModel'][_0x293fe2(0x2ff)]({'_id':_0x112bec});}catch{return{};}}async['findAll'](){const _0x218a87=a0_0x2530f3;try{if(this[_0x218a87(0x223)][_0x218a87(0x6ef)])return await this[_0x218a87(0x4f8)][_0x218a87(0x44c)]();}catch{return[];}}},zt=class extends I{[a0_0x2530f3(0x4cb)](_0x4a9cd0){return ta(_0x4a9cd0);}async[a0_0x2530f3(0x5e1)](_0x4b7b9d){const _0x5a8a38=a0_0x2530f3;try{let _0x168ba8=sa,_0x44cdfe=this[_0x5a8a38(0x4cb)](_0x4b7b9d),_0x595b98=await _0x168ba8[_0x5a8a38(0x44c)]({'owner':_0x4b7b9d})['lean'](),_0x503e7c=[],_0x4a11b3=[];for(let _0xcf8e1d of _0x595b98)await _0x44cdfe[_0x5a8a38(0x6f4)](_0xcf8e1d[_0x5a8a38(0x13f)])['lean']()||(_0x503e7c[_0x5a8a38(0x5aa)](_0xcf8e1d),_0x4a11b3[_0x5a8a38(0x5aa)](_0xcf8e1d['_id']));return _0x503e7c[_0x5a8a38(0x66c)]>0x0&&await _0x44cdfe[_0x5a8a38(0x5db)](_0x503e7c,{'ordered':!0x1}),{'success':!0x0};}catch(_0x2e2b78){return console[_0x5a8a38(0x426)]('Erro\x20ao\x20copiar\x20dados:',_0x2e2b78),{'success':!0x1,'error':_0x2e2b78};}}async[a0_0x2530f3(0x6c8)](_0x5df61b,_0x2fa9f8){const _0x14d27a=a0_0x2530f3;try{let _0x187ce1=this[_0x14d27a(0x4cb)](_0x2fa9f8),_0x4e5574=A(_0x5df61b['where']);return{'deletedCount':(await _0x187ce1[_0x14d27a(0x61f)](_0x4e5574))['deletedCount']};}catch(_0x5867e0){return{'error':_0x5867e0?.[_0x14d27a(0x593)]()};}}async['deleteOne'](_0x33b479,_0x445a81){const _0xe95e04=a0_0x2530f3;try{let _0x198af5=this['getFlowModelForOwner'](_0x445a81),_0x5c0e32=A(_0x33b479[_0xe95e04(0x2cc)]);return{'deletedCount':(await _0x198af5[_0xe95e04(0x3fb)](_0x5c0e32))[_0xe95e04(0x251)]};}catch(_0x5a7892){return{'error':_0x5a7892?.[_0xe95e04(0x593)]()};}}async[a0_0x2530f3(0x31a)](_0x3bc51f,_0x15b659,_0x8f7a93){const _0x3ad3a7=a0_0x2530f3;try{return await this[_0x3ad3a7(0x4cb)](_0x8f7a93)['findByIdAndUpdate'](_0x3bc51f,_0x15b659,{'new':!0x0});}catch(_0x56b633){return console['error'](_0x3ad3a7(0x182),_0x56b633),null;}}async[a0_0x2530f3(0x24e)](_0x585801,_0x2345d8){const _0x486847=a0_0x2530f3;try{let _0x59ee58=this[_0x486847(0x4cb)](_0x2345d8);return await new _0x59ee58(_0x585801)[_0x486847(0xcf)]();}catch(_0x771e98){return console[_0x486847(0x426)](_0x486847(0xca),_0x771e98),null;}}async['updateMany'](_0x9818d2,_0x3e3661,_0x1cb95f){const _0x4d2f73=a0_0x2530f3;try{return{'modifiedCount':(await this[_0x4d2f73(0x4cb)](_0x1cb95f)['updateMany'](_0x9818d2,{'$set':_0x3e3661}))[_0x4d2f73(0x169)]};}catch(_0x17374a){return console['error']('Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:',_0x17374a),{'error':_0x17374a};}}async['findAll'](_0x44239f,_0x3f8f23){const _0x2faf81=a0_0x2530f3;try{let _0x17d2cf=this[_0x2faf81(0x4cb)](_0x3f8f23),_0xb482bc=A(_0x44239f[_0x2faf81(0x2cc)]);return await _0x17d2cf['find'](_0xb482bc)[_0x2faf81(0x6df)](_0x44239f?.[_0x2faf81(0x6df)]??0x0)[_0x2faf81(0x3d4)]();}catch{return[];}}async['findOne'](_0x481d23,_0x343d91){const _0x4d0f89=a0_0x2530f3;try{let _0x2f42cc=this[_0x4d0f89(0x4cb)](_0x343d91),_0x2cbb7b=A(_0x481d23['where']);return await _0x2f42cc['findOne'](_0x2cbb7b)[_0x4d0f89(0x3d4)]();}catch{return null;}}async['deleteAll'](_0x503c63){const _0x190d4b=a0_0x2530f3;try{return await this[_0x190d4b(0x4cb)](_0x503c63)['collection'][_0x190d4b(0x2fb)](),{'success':!0x0};}catch(_0x448044){return console[_0x190d4b(0x426)](_0x448044),{'success':!0x1,'error':_0x448044};}}},Ht=class extends I{['getConversationModelForOwner'](_0x2d83ec){return oa(_0x2d83ec);}async[a0_0x2530f3(0x5e1)](_0x5129b9){const _0x32fea7=a0_0x2530f3;try{let _0x5a1573=ra,_0x347c39=this['getConversationModelForOwner'](_0x5129b9),_0x48bcd7=await _0x5a1573[_0x32fea7(0x44c)]({'owner':_0x5129b9})[_0x32fea7(0x3d4)](),_0x125564=[],_0x451b12=[];for(let _0x4a78ef of _0x48bcd7)await _0x347c39[_0x32fea7(0x6f4)](_0x4a78ef[_0x32fea7(0x13f)])['lean']()||(_0x125564[_0x32fea7(0x5aa)](_0x4a78ef),_0x451b12[_0x32fea7(0x5aa)](_0x4a78ef['_id']));return _0x125564[_0x32fea7(0x66c)]>0x0&&await _0x347c39[_0x32fea7(0x5db)](_0x125564,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4b3372){return console[_0x32fea7(0x426)](_0x32fea7(0x702),_0x4b3372),{'success':!0x1,'error':_0x4b3372};}}async[a0_0x2530f3(0x1b2)](_0x3e02d3){const _0x269ed5=a0_0x2530f3;if(_0x3e02d3[_0x269ed5(0x66c)]!==0x0)try{return{'insertCount':(await this[_0x269ed5(0x649)](_0x3e02d3[0x0][_0x269ed5(0x50f)])[_0x269ed5(0x5db)]([..._0x3e02d3]))['length']};}catch(_0x13b212){return _0x13b212;}}async[a0_0x2530f3(0x6c8)](_0x4c1555,_0x1bcc74){const _0x54016d=a0_0x2530f3;try{let _0x2517e7=this[_0x54016d(0x649)](_0x1bcc74),_0x590638=A(_0x4c1555['where']);return{'deletedCount':(await _0x2517e7[_0x54016d(0x61f)](_0x590638))[_0x54016d(0x251)]};}catch(_0x2b882c){return{'error':_0x2b882c?.[_0x54016d(0x593)]()};}}async['deleteOne'](_0x2f634b,_0x44a2f7){const _0x1d27f2=a0_0x2530f3;try{let _0x110574=this[_0x1d27f2(0x649)](_0x44a2f7),_0x433761=A(_0x2f634b[_0x1d27f2(0x2cc)]);return{'deletedCount':(await _0x110574['deleteOne'](_0x433761))[_0x1d27f2(0x251)]};}catch(_0x2eaf03){return{'error':_0x2eaf03?.[_0x1d27f2(0x593)]()};}}async['update'](_0x3612af,_0x4e9a1d){const _0x392bd2=a0_0x2530f3;try{if(_0x3612af[_0x392bd2(0x66c)]===0x0)return;let _0x5275a7=this['getConversationModelForOwner'](_0x4e9a1d),_0x5ba895=_0x3612af['map'](_0x3f4334=>({'updateOne':{'filter':{'name':_0x3f4334[_0x392bd2(0x6c9)],'owner':_0x4e9a1d},'update':{..._0x3f4334}}})),{modifiedCount:_0x344657}=await _0x5275a7['bulkWrite'](_0x5ba895);return{'insertCount':_0x344657};}catch{return;}}async[a0_0x2530f3(0x1d7)](_0x39df18,_0x15aa7e,_0x30f72e){const _0x5d4ccb=a0_0x2530f3;try{return{'modifiedCount':(await this[_0x5d4ccb(0x649)](_0x30f72e)[_0x5d4ccb(0x1d7)](_0x39df18,{'$set':_0x15aa7e}))['modifiedCount']};}catch(_0x154c92){return console[_0x5d4ccb(0x426)](_0x5d4ccb(0x321),_0x154c92),{'error':_0x154c92};}}async[a0_0x2530f3(0x31a)](_0x35314c,_0x56d440,_0x4fd557){const _0x4bb3b5=a0_0x2530f3;try{return await this['getConversationModelForOwner'](_0x4fd557)[_0x4bb3b5(0x3fe)]({'_id':_0x35314c},{'$set':_0x56d440},{'new':!0x0,'upsert':!0x0})[_0x4bb3b5(0x3d4)]();}catch(_0x4464be){return console[_0x4bb3b5(0x426)](_0x4464be),null;}}async[a0_0x2530f3(0x44c)](_0x57b97f,_0x554051){const _0x78394f=a0_0x2530f3;try{return await this['getConversationModelForOwner'](_0x554051)[_0x78394f(0x44c)](_0x57b97f)[_0x78394f(0xb3)]({'lastInteraction':-0x1})[_0x78394f(0x3d4)]();}catch{return[];}}async['findOne'](_0x940eca,_0x40f29c){const _0x286959=a0_0x2530f3;try{return await this[_0x286959(0x649)](_0x40f29c)[_0x286959(0x2ff)]({..._0x940eca[_0x286959(0x2cc)]})['lean']();}catch{return null;}}async['deleteAll'](_0x54b9b1){const _0x85c8e4=a0_0x2530f3;try{return await this[_0x85c8e4(0x649)](_0x54b9b1)[_0x85c8e4(0x2e4)][_0x85c8e4(0x2fb)](),{'success':!0x0};}catch(_0x414f9a){return console['error'](_0x414f9a),{'success':!0x1,'error':_0x414f9a};}}},Kt=class extends I{[a0_0x2530f3(0x5d3)](_0x59ff16){return na(_0x59ff16);}async[a0_0x2530f3(0x5e1)](_0xe010f8){const _0xc3ba62=a0_0x2530f3;try{let _0x45cf91=ca,_0x6f06be=this[_0xc3ba62(0x5d3)](_0xe010f8),_0x24cb80=await _0x45cf91[_0xc3ba62(0x44c)]({'owner':_0xe010f8})[_0xc3ba62(0x3d4)](),_0x1a127d=[],_0x21889e=[];for(let _0x34c3d4 of _0x24cb80)await _0x6f06be[_0xc3ba62(0x6f4)](_0x34c3d4[_0xc3ba62(0x13f)])['lean']()||(_0x1a127d[_0xc3ba62(0x5aa)](_0x34c3d4),_0x21889e[_0xc3ba62(0x5aa)](_0x34c3d4[_0xc3ba62(0x13f)]));return _0x1a127d[_0xc3ba62(0x66c)]>0x0&&await _0x6f06be['insertMany'](_0x1a127d,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4d0cbf){return console['error'](_0xc3ba62(0x702),_0x4d0cbf),{'success':!0x1,'error':_0x4d0cbf};}}async[a0_0x2530f3(0x24e)](_0x51092a,_0x53c4f8){const _0x35e04a=a0_0x2530f3;try{let _0x44e316=this[_0x35e04a(0x5d3)](_0x53c4f8);return await new _0x44e316(_0x51092a)[_0x35e04a(0xcf)]();}catch(_0x350668){return console[_0x35e04a(0x426)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x350668),null;}}async[a0_0x2530f3(0x3fb)](_0x39f340,_0x567538){const _0x49284d=a0_0x2530f3;try{return await this[_0x49284d(0x5d3)](_0x567538)[_0x49284d(0x357)](_0x39f340),{};}catch(_0x359094){return{'error':_0x359094?.[_0x49284d(0x593)]()};}}async['updateOne'](_0xecb2ca,_0x48f9ef,_0x35caa4){const _0x16bcff=a0_0x2530f3;try{return await this[_0x16bcff(0x5d3)](_0x35caa4)[_0x16bcff(0x3fe)](_0xecb2ca,{'$set':_0x48f9ef},{'new':!0x0})[_0x16bcff(0x3d4)]();}catch(_0x511e47){return console[_0x16bcff(0x426)](_0x16bcff(0x408),_0x511e47),null;}}async[a0_0x2530f3(0x422)](_0x2e716c,_0x212e5c,_0xf6810a){const _0x54d696=a0_0x2530f3;try{return await this[_0x54d696(0x5d3)](_0xf6810a)[_0x54d696(0xfd)](_0x2e716c,_0x212e5c,{'new':!0x0})[_0x54d696(0x3d4)]();}catch(_0x4efe8d){return console[_0x54d696(0x426)](_0x54d696(0x408),_0x4efe8d),null;}}async[a0_0x2530f3(0x44c)](_0x46d872,_0x58d65d){const _0x498611=a0_0x2530f3;try{return await this[_0x498611(0x5d3)](_0x58d65d)[_0x498611(0x44c)](_0x46d872[_0x498611(0x2cc)])[_0x498611(0x6df)](_0x46d872?.[_0x498611(0x6df)]??0x0)[_0x498611(0xb3)]({'when':0x1})[_0x498611(0x3d4)]();}catch{return[];}}async[a0_0x2530f3(0x2ff)](_0x5517ea,_0x48f723){const _0x3b6ef6=a0_0x2530f3;try{return await this[_0x3b6ef6(0x5d3)](_0x48f723)['findOne'](_0x5517ea[_0x3b6ef6(0x2cc)])[_0x3b6ef6(0xb3)]({'when':0x1})[_0x3b6ef6(0x3d4)]();}catch{return null;}}async['findById'](_0x70aad3,_0xe63277){const _0xf22e10=a0_0x2530f3;try{return await this['getScheduleMessageModelForOwner'](_0xe63277)[_0xf22e10(0x6f4)](_0x70aad3)[_0xf22e10(0x3d4)]();}catch{return null;}}async[a0_0x2530f3(0x61f)](_0xe39b2d,_0x827689){const _0x458baa=a0_0x2530f3;try{return{'deletedCount':(await this[_0x458baa(0x5d3)](_0x827689)[_0x458baa(0x61f)](_0xe39b2d))[_0x458baa(0x251)]};}catch(_0x212840){return console[_0x458baa(0x426)]('Erro\x20ao\x20deletar\x20mensagens:',_0x212840),{'error':_0x212840};}}async[a0_0x2530f3(0x4c8)](_0x307eb2){const _0x128af6=a0_0x2530f3;try{return await this[_0x128af6(0x5d3)](_0x307eb2)[_0x128af6(0x2e4)][_0x128af6(0x2fb)](),{'success':!0x0};}catch(_0x5aa1a0){return console['error'](_0x5aa1a0),{'success':!0x1,'error':_0x5aa1a0};}}},Qt=class extends I{async[a0_0x2530f3(0xc3)](_0x411c58,_0xe544d4){const _0x2ca659=a0_0x2530f3;try{if(this[_0x2ca659(0x223)][_0x2ca659(0x6ef)]){let _0x18c8de=await Pe[_0x2ca659(0x3fe)]({'_id':_0xe544d4},{'$set':_0x411c58},{'new':!0x0});return console[_0x2ca659(0x1cc)](_0x2ca659(0x45d),_0x18c8de),_0x18c8de;}}catch(_0x5b18a0){throw console[_0x2ca659(0x426)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x5b18a0),_0x5b18a0;}}async[a0_0x2530f3(0x61a)](_0x527264){const _0x2dbb4a=a0_0x2530f3;try{let _0x18ecbb=await Pe[_0x2dbb4a(0x6f4)](_0x527264);return _0x18ecbb||(_0x18ecbb=new Pe({'_id':_0x527264}),await _0x18ecbb[_0x2dbb4a(0xcf)]()),_0x18ecbb;}catch(_0x2dd607){return console[_0x2dbb4a(0x426)](_0x2dbb4a(0x3e2),_0x2dd607),null;}}},yr=new v(a0_0x2530f3(0x105)),br=new Le(b),Sr=new $t(b),Er=new Qe(b),Cr=new Gt(Qs,b),Mr=new Wt(zs,b),vr=new zt(b),Nr=new kt(b),Rr=new Ht(b),Tr=new Kt(b),Ar=new Qt(b),ce=new $e(br,Sr,Er,Cr,Mr,vr,Rr,Nr,Tr,Ar,N?.[a0_0x2530f3(0x283)]()),B=new Pt(ss,b,ce),Or=new qt(b,B,ce),Ir=new Jt(B),ms=new Bt(Ir),T=new Vt(B),le=new jt(B,b,ce,ss,Or),G=new Ft(B),x=new Lt(B),q=new Ut(B);yr[a0_0x2530f3(0x534)](a0_0x2530f3(0x621));function a0_0x4c5f(_0x516085,_0x53fa59){const _0x33cc2b=a0_0x33cc();return a0_0x4c5f=function(_0x4c5f7a,_0x31ddf7){_0x4c5f7a=_0x4c5f7a-0xa6;let _0x55f3c5=_0x33cc2b[_0x4c5f7a];return _0x55f3c5;},a0_0x4c5f(_0x516085,_0x53fa59);}var hh=require(a0_0x2530f3(0x469)),Ts=require('fs'),Mo=R(require(a0_0x2530f3(0x2cf))),vo=R(require(a0_0x2530f3(0x576))),Ne=class c{static #e;static set['app'](_0x2aa485){this.#e=_0x2aa485;}static get[a0_0x2530f3(0x2cf)](){const _0xd73615=a0_0x2530f3;let {FULLCHAIN:_0x4ccda5,PRIVKEY:_0x19e7d4}=b[_0xd73615(0x196)](_0xd73615(0x28a));return Mo[_0xd73615(0x543)]({'cert':(0x0,Ts[_0xd73615(0x232)])(_0x4ccda5),'key':(0x0,Ts[_0xd73615(0x232)])(_0x19e7d4)},c.#e);}static get[a0_0x2530f3(0x576)](){const _0x964a0a=a0_0x2530f3;return vo[_0x964a0a(0x543)](c.#e);}},de=R(require('fs')),Io=R(require(a0_0x2530f3(0x234))),Re=R(require(a0_0x2530f3(0x5d5))),Ae=R(require(a0_0x2530f3(0x499))),Oe=require('child_process');function xr(){const _0x1440dc=a0_0x2530f3;B[_0x1440dc(0x5f3)]();let _0x48fed3=Ae[_0x1440dc(0x22c)][_0x1440dc(0x42a)](__dirname,'downloads');Oo(_0x48fed3);}var Oo=_0x4cb123=>{const _0x49cdf2=a0_0x2530f3;let _0x163ce6=de[_0x49cdf2(0x22c)]['readdirSync'](_0x4cb123),_0x55f790=0xc*0x3c*0x3c*0x3e8,_0x37c13b=0x2*0x3c*0x3c*0x3e8,_0x3fd32c=new Date()[_0x49cdf2(0x146)]();_0x163ce6[_0x49cdf2(0x2ed)](_0x49b7bf=>{const _0xce5b5d=_0x49cdf2;let _0x42961c=Ae[_0xce5b5d(0x22c)][_0xce5b5d(0x42a)](_0x4cb123,_0x49b7bf),_0x30b665=de[_0xce5b5d(0x22c)][_0xce5b5d(0x39f)](_0x42961c)[_0xce5b5d(0x6fe)][_0xce5b5d(0x146)]();_0x3fd32c-_0x30b665>_0x55f790&&(de[_0xce5b5d(0x22c)][_0xce5b5d(0x2ad)](_0x42961c),console[_0xce5b5d(0x1cc)](_0xce5b5d(0x552)+_0x49b7bf));}),setTimeout(()=>Oo(_0x4cb123),_0x37c13b);};function Dr(){const _0x499424=a0_0x2530f3;let _0x484d1d=new v(_0x499424(0x16a)),_0x11518b=(0x0,pe[_0x499424(0x22c)])();_0x11518b[_0x499424(0x531)]((0x0,Ao[_0x499424(0x22c)])({'origin'(_0x884ae5,_0x3aa7f0){const _0x50c520=_0x499424;let {ORIGIN:_0x2aa69c}=b[_0x50c520(0x196)]('CORS');return _0x884ae5||(_0x884ae5='*'),_0x2aa69c[_0x50c520(0x310)]('*')!==-0x1||_0x2aa69c['indexOf'](_0x884ae5)!==-0x1?_0x3aa7f0(null,!0x0):_0x3aa7f0(new Error(_0x50c520(0x4de)));},'methods':[...b['get']('CORS')['METHODS']],'credentials':b[_0x499424(0x196)](_0x499424(0x14c))[_0x499424(0x4a5)]}),(0x0,pe[_0x499424(0x523)])({'extended':!0x0,'limit':_0x499424(0x1fc)}),(0x0,pe[_0x499424(0x619)])({'limit':_0x499424(0x1fc)})),_0x11518b['use']((_0x3fd4a7,_0x4ccb1d,_0x3ed8a3)=>{const _0x57aba4=_0x499424;_0x3fd4a7[_0x57aba4(0x499)][_0x57aba4(0x301)](_0x57aba4(0x4ed))?_0x3ed8a3():(0x0,To[_0x57aba4(0x22c)])()(_0x3fd4a7,_0x4ccb1d,_0x3ed8a3);}),_0x11518b[_0x499424(0xcc)](_0x499424(0x6a5),_0x499424(0x3eb)),_0x11518b[_0x499424(0xcc)]('views',(0x0,Os[_0x499424(0x42a)])(ae,'views')),_0x11518b[_0x499424(0x531)](pe[_0x499424(0x22c)][_0x499424(0x584)]((0x0,Os[_0x499424(0x42a)])(ae,_0x499424(0x5cb)))),_0x11518b[_0x499424(0x531)]((_0x5132af,_0x51ca9b,_0x3ccdaf)=>{const _0x215dc9=_0x499424;let _0x2dbd17=_0x51ca9b[_0x215dc9(0x6d8)];_0x51ca9b[_0x215dc9(0x6d8)]=function(_0x26798f){const _0x2fc55b=_0x215dc9;if(_0x5132af[_0x2fc55b(0x4f6)]['convert']===_0x2fc55b(0x433)||_0x5132af[_0x2fc55b(0x18c)][_0x2fc55b(0x40c)]===_0x2fc55b(0x433)){let _0x28b9bc=JSON['parse'](_0x26798f);_0x26798f=JSON[_0x2fc55b(0x6d5)](_0x547b9f(_0x28b9bc));}return _0x2dbd17['apply'](_0x51ca9b,[_0x26798f]);},_0x3ccdaf();}),_0x11518b[_0x499424(0x531)]('/',vt),_0x11518b[_0x499424(0x531)]((_0x548c00,_0x4d9abe,_0x5e0e23,_0x2e347c)=>{const _0x59294f=_0x499424;if(_0x548c00)return _0x5e0e23[_0x59294f(0x64f)](_0x548c00[_0x59294f(0x64f)]||0x1f4)[_0x59294f(0x619)](_0x548c00);},(_0x35a129,_0x1c2a1d,_0xc223d6)=>{const _0x22c7ad=_0x499424;let {method:_0x37249a,url:_0x59827f}=_0x35a129;_0x1c2a1d[_0x22c7ad(0x64f)](0x194)[_0x22c7ad(0x619)]({'status':0x194,'message':_0x22c7ad(0x564)+_0x37249a[_0x22c7ad(0x6c3)]()+'\x20'+_0x59827f,'error':_0x22c7ad(0x449)}),_0xc223d6();});let _0x547b9f=(_0x29e811,_0xc4a013='_p_')=>{const _0x856bf7=_0x499424;let _0x3421c4=(_0x4ff29a,_0x7f0d8c=null,_0x120bc7=!0x1)=>{const _0x3bc0f0=a0_0x4c5f;let _0x27d85f={};return Object[_0x3bc0f0(0x557)](_0x4ff29a)[_0x3bc0f0(0x2ed)](_0x27044e=>{const _0x618634=_0x3bc0f0;let _0x1948e7=_0x4ff29a[_0x27044e],_0x5a8ce7=''+_0xc4a013+_0x27044e;_0x7f0d8c&&!_0x120bc7&&(_0x5a8ce7=_0x7f0d8c+'.'+_0x27044e),!_0x1948e7&&_0x1948e7!==0x0&&_0x1948e7!==!0x1||typeof _0x1948e7>'u'?_0x27d85f[_0x5a8ce7]=null:typeof _0x1948e7!='object'&&!Array[_0x618634(0x63d)](_0x1948e7)?_0x27d85f[_0x5a8ce7]=_0x1948e7:typeof _0x1948e7=='object'&&!Array[_0x618634(0x63d)](_0x1948e7)?_0x27d85f=Object[_0x618634(0x70b)](_0x27d85f,_0x3421c4(_0x1948e7,_0x5a8ce7)):Array[_0x618634(0x63d)](_0x1948e7)&&(typeof _0x1948e7[0x0]==_0x618634(0x419)?(_0x27d85f[_0x5a8ce7]=[],_0x1948e7[_0x618634(0x2ed)](_0x4935e8=>{const _0x4eb673=_0x618634;_0x27d85f[_0x5a8ce7][_0x4eb673(0x5aa)](_0x3421c4(_0x4935e8,_0x5a8ce7,!0x0));})):_0x27d85f[_0x5a8ce7]=_0x1948e7);}),_0x27d85f;};return Array['isArray'](_0x29e811)?_0x29e811['map'](_0x5c3659=>_0x3421c4(_0x5c3659)):typeof _0x29e811==_0x856bf7(0x419)&&_0x29e811!==null?_0x3421c4(_0x29e811):{};},_0x1876f9=b[_0x499424(0x196)](_0x499424(0x16a));Ne[_0x499424(0x54f)]=_0x11518b;let _0x4d8fcc=Ne[_0x1876f9['TYPE']],_0x5a8511=_0x499424(0x348);_0x4d8fcc[_0x499424(0x5f2)](_0x1876f9[_0x499424(0x11c)],()=>{const _0x57c2cc=_0x499424;_0x484d1d[_0x57c2cc(0x1cc)](_0x5a8511),_0x484d1d[_0x57c2cc(0x1cc)](_0x1876f9[_0x57c2cc(0x1b6)][_0x57c2cc(0x6c3)]()+_0x57c2cc(0x305)+_0x1876f9[_0x57c2cc(0x11c)]);}),xr(),Fs();}var _r=a0_0x2530f3(0x415),Pr=Ae['default'][a0_0x2530f3(0x42a)](__dirname,a0_0x2530f3(0x666)),Te=null;function $r(){return new Promise((_0x1b2930,_0x3106e6)=>{const _0x165d29=a0_0x4c5f;de[_0x165d29(0x22c)][_0x165d29(0x303)](Pr,'utf-8',(_0x12eb22,_0x56b8c0)=>{const _0x2e984b=_0x165d29;if(_0x12eb22){Te=_0x12eb22,_0x1b2930();return;}Io['default'][_0x2e984b(0x520)](_0x56b8c0)[_0x2e984b(0x57c)][_0x2e984b(0x2df)]===_r?(Te=null,_0x1b2930()):(Te=new Error(_0x2e984b(0xab)),_0x1b2930());});});}async function kr(){const _0x330585=a0_0x2530f3;try{await $r(),await Is();}catch(_0x25adfc){console[_0x330585(0x426)](_0x330585(0xe9)+_0x25adfc),process[_0x330585(0x50c)](0x1);}}kr();async function xo(){const _0x12705b=a0_0x2530f3;let _0x18c269;try{_0x18c269=(await Re[_0x12705b(0x22c)][_0x12705b(0x196)](_0x12705b(0x338)))[_0x12705b(0x59a)]['ip'];}catch(_0x5e0625){console['error'](_0x5e0625);try{_0x18c269=(await Re[_0x12705b(0x22c)][_0x12705b(0x196)](_0x12705b(0x540)))['data']['ip'];}catch(_0x101b10){console[_0x12705b(0x426)](_0x101b10);try{_0x18c269=(await Re[_0x12705b(0x22c)]['get'](_0x12705b(0xce)))['data'][_0x12705b(0x26e)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x23c329){return console[_0x12705b(0x426)](_0x23c329),!0x1;}}}return _0x18c269;}var No=0x0;async function Lr(){const _0x26c179=a0_0x2530f3;let _0x1b3be1=await new oe(b[_0x26c179(0x196)](_0x26c179(0x6d9)))[_0x26c179(0xd6)]();return console[_0x26c179(0x1cc)](_0x26c179(0x5be),_0x1b3be1['length']),_0x1b3be1[_0x26c179(0x66c)];}function jr(_0xc1fa2a){const _0x1567a7=a0_0x2530f3;let _0x2dff40=_0xc1fa2a['get'](_0x1567a7(0x16a))['URL'],_0x2f79e4=_0xc1fa2a['get'](_0x1567a7(0x28a)),_0x27c637;if(_0x2dff40){let _0x578b7a=_0x2dff40[_0x1567a7(0x26e)](/\/\/(.*?)\./);_0x578b7a&&_0x578b7a[0x1]&&(_0x27c637=_0x578b7a[0x1]);}if(!_0x27c637&&_0x2f79e4&&_0x2f79e4[_0x1567a7(0x41d)]){let _0x2988cd=_0x2f79e4[_0x1567a7(0x41d)][_0x1567a7(0x551)]('/'),_0xfdaa70=_0x2988cd[_0x2988cd[_0x1567a7(0x66c)]-0x2];if(_0xfdaa70){let _0x3e8516=_0xfdaa70[_0x1567a7(0x551)]('.');_0x3e8516[_0x1567a7(0x66c)]>0x2&&(_0x27c637=_0x3e8516[0x0]);}}return _0x27c637;}var vs=jr(b);async function Fr(){const _0x7a9037=a0_0x2530f3;let _0x477636=b[_0x7a9037(0x196)]('REDIS'),_0x205765=b[_0x7a9037(0x196)](_0x7a9037(0xad))[_0x7a9037(0x12b)]['KEY'],_0x2c57e8=b['get'](_0x7a9037(0x28a)),_0x42ed95=await xo(),_0x1c2cbb=b[_0x7a9037(0x196)](_0x7a9037(0x16a))[_0x7a9037(0x11c)],_0x11f745=b['get'](_0x7a9037(0x16a))['URL'];try{let _0x387099={'ip':_0x42ed95||null,'redis_enable':_0x477636?.[_0x7a9037(0x6ef)]||null,'apikey':_0x205765||null,'ssl':_0x2c57e8?.[_0x7a9037(0x565)]||null,'lastupdate':Do||null,'port':_0x1c2cbb||null,'gitInstallError':Te?.[_0x7a9037(0x335)]||null,'url':_0x11f745||null};if(console[_0x7a9037(0x1cc)](_0x7a9037(0x5f7),_0x387099['ip']),_0x477636&&_0x477636[_0x7a9037(0x6ef)]){let _0x24703b=await Lr();_0x387099['instanceCount']=_0x24703b||null;}for(let _0x4cc015 in _0x387099)_0x387099[_0x7a9037(0x276)](_0x4cc015)&&_0x4cc015!=='ip'&&(_0x387099[_0x4cc015]=JSON[_0x7a9037(0x6d5)](_0x387099[_0x4cc015]));return(await Re['default']['post']('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x387099))[_0x7a9037(0x59a)];}catch(_0x1a02a8){return console[_0x7a9037(0x426)](_0x1a02a8),!0x1;}}var As=!0x1,Do=0x223,qr=0x3,Ro=0x1b7740;async function Is(){const _0xaa4ce6=a0_0x2530f3;if(!await xo())return console['error'](_0xaa4ce6(0x155)),_0xaa4ce6(0x35a);let _0x2bfb63=await Fr();if(_0x2bfb63){if(_0x2bfb63[_0xaa4ce6(0x379)]['licenca']===!0x0){b[_0xaa4ce6(0x196)](_0xaa4ce6(0x28a))['PRIVKEY'][_0xaa4ce6(0x3e8)](_0xaa4ce6(0x1a4))&&_0x2bfb63[_0xaa4ce6(0x379)][_0xaa4ce6(0x3f8)]&&(await Vr(_0x2bfb63[_0xaa4ce6(0x379)][_0xaa4ce6(0x3f8)],Jr),await Br(_0xaa4ce6(0x3bb),_0x2bfb63['response'][_0xaa4ce6(0x3f8)]),console[_0xaa4ce6(0x1cc)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>Wr(),0x2710)),Te===null&&_0x2bfb63[_0xaa4ce6(0x379)][_0xaa4ce6(0x437)]-Do>0x0&&await Ur(),As||(As=!0x0,Dr());let _0x432cea=0x24*0x3c*0x3c,_0x104610=_0x2bfb63[_0xaa4ce6(0x379)]['segundos']>_0x432cea?_0x432cea:_0x2bfb63[_0xaa4ce6(0x379)][_0xaa4ce6(0x1db)],_0x9c39e6=Number(_0x104610);if(isNaN(_0x9c39e6)){console[_0xaa4ce6(0x426)](_0xaa4ce6(0x1af));return;}let _0x2c8bcd=Math[_0xaa4ce6(0xc5)](_0x9c39e6/0xe10),_0xa7bf01=Math[_0xaa4ce6(0xc5)](_0x9c39e6%0xe10/0x3c),_0xc57a5=new Date(Date[_0xaa4ce6(0x3d0)]()+_0x9c39e6*0x3e8);setTimeout(Is,_0x9c39e6*0x3e8);let _0x6cfbd6=_0x5d0253=>_0x5d0253[_0xaa4ce6(0x593)]()[_0xaa4ce6(0x665)](0x2,'0'),_0x46440e='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x6cfbd6(_0x2c8bcd)+_0xaa4ce6(0x476)+_0x6cfbd6(_0xa7bf01)+_0xaa4ce6(0x222)+_0x6cfbd6(_0xc57a5['getHours']())+':'+_0x6cfbd6(_0xc57a5[_0xaa4ce6(0x5f0)]())+'.';console[_0xaa4ce6(0x1cc)](_0x46440e);}else return console[_0xaa4ce6(0x1cc)](_0xaa4ce6(0x1fb)),As&&(console['log'](_0xaa4ce6(0x6ee)),process[_0xaa4ce6(0x50c)]()),_0xaa4ce6(0x4a2);}else{if(No++,No<qr)console[_0xaa4ce6(0x1cc)](_0xaa4ce6(0x656)+Ro/0xea60+'\x20minutos...'),setTimeout(Is,Ro);else return console[_0xaa4ce6(0x426)](_0xaa4ce6(0x2d8)),'SERVER_OFFLINE';}}async function Ur(){const _0x7861f7=a0_0x2530f3;console[_0x7861f7(0x1cc)](_0x7861f7(0x1ea));let _0xa8a592=(0x0,Oe[_0x7861f7(0x3b6)])(_0x7861f7(0x46c),{'shell':!0x0});_0xa8a592[_0x7861f7(0x4dc)]['on'](_0x7861f7(0x59a),_0x7b7d24=>{const _0x5351e0=_0x7861f7;console['log'](_0x5351e0(0x54a)+_0x7b7d24);}),_0xa8a592[_0x7861f7(0x109)]['on']('data',_0x109443=>{const _0x41e846=_0x7861f7;console[_0x41e846(0x426)](_0x41e846(0x21a)+_0x109443);}),_0xa8a592['on']('exit',_0x1a6f2a=>{const _0xc4d5e1=_0x7861f7;_0x1a6f2a!==0x0?console['error'](_0xc4d5e1(0x26b)+_0x1a6f2a):console[_0xc4d5e1(0x1cc)](_0xc4d5e1(0x439)),console[_0xc4d5e1(0x1cc)](_0xc4d5e1(0x2b1)),setTimeout(()=>process[_0xc4d5e1(0x50c)](),0x2710);});}var Jr=Ae[a0_0x2530f3(0x22c)][a0_0x2530f3(0x42a)](__dirname,a0_0x2530f3(0x6bd));async function Vr(_0x32e20f,_0x17a388){const _0x408668=a0_0x2530f3;let _0x1d0204=Gr();_0x32e20f=_0x32e20f['replace'](_0x408668(0x4c7),'');try{let _0x4be786=de['default'][_0x408668(0x232)](_0x17a388,'utf8');_0x4be786=_0x4be786[_0x408668(0x385)](/<apikey>/,_0x1d0204),_0x4be786=_0x4be786['replace'](/<subdomain>/g,_0x32e20f),de[_0x408668(0x22c)][_0x408668(0x2a8)](_0x17a388,_0x4be786,_0x408668(0x662)),console[_0x408668(0x1cc)](_0x408668(0x14f));}catch(_0x3d1967){console[_0x408668(0x426)](_0x408668(0x1c8),_0x3d1967);}}function Br(_0x4159e4,_0x5a574e){return new Promise((_0x534657,_0x1c26a2)=>{const _0x38fd81=a0_0x4c5f;let _0x64ce3b=(0x0,Oe[_0x38fd81(0x3b6)])('certbot',[_0x38fd81(0x6d1),'--standalone','-m',_0x4159e4,'--agree-tos','-d',_0x5a574e]);_0x64ce3b[_0x38fd81(0x4dc)]['on'](_0x38fd81(0x59a),_0xf8fdfb=>{const _0x2d5737=_0x38fd81;console[_0x2d5737(0x1cc)](_0x2d5737(0x41f)+_0xf8fdfb[_0x2d5737(0x593)]());}),_0x64ce3b[_0x38fd81(0x109)]['on'](_0x38fd81(0x59a),_0x4598e3=>{const _0x449fd2=_0x38fd81;console[_0x449fd2(0x426)](_0x449fd2(0x6d2)+_0x4598e3[_0x449fd2(0x593)]());}),_0x64ce3b['on'](_0x38fd81(0x16c),_0x1995f1=>{const _0x1295c4=_0x38fd81;_0x1995f1!==0x0?(console[_0x1295c4(0x426)](_0x1295c4(0x290)+_0x1995f1),_0x1c26a2('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x1995f1)):(console[_0x1295c4(0x1cc)]('Certbot\x20executado\x20com\x20sucesso.'),_0x534657());});});}function Gr(_0x46a2e4=0x32){const _0x1d43b4=a0_0x2530f3;let _0x30c06c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0xc53237='';for(let _0x5d7255=0x0;_0x5d7255<_0x46a2e4;_0x5d7255++)_0xc53237+=_0x30c06c[_0x1d43b4(0xd2)](Math[_0x1d43b4(0xc5)](Math[_0x1d43b4(0x5b4)]()*_0x30c06c[_0x1d43b4(0x66c)]));return _0xc53237;}function Wr(){const _0x5f572d=a0_0x2530f3;(0x0,Oe[_0x5f572d(0x50d)])(_0x5f572d(0x68e),(_0x4a8399,_0x2aeaaa,_0x1bf745)=>{const _0x3c9dc3=_0x5f572d;if(_0x4a8399){console[_0x3c9dc3(0x426)](_0x3c9dc3(0x647)+_0x4a8399);return;}if(_0x1bf745){console['error'](_0x3c9dc3(0x3b3)+_0x1bf745);return;}console[_0x3c9dc3(0x1cc)](_0x3c9dc3(0x436)+_0x2aeaaa);});}0x0&&(module['exports']={'subdomain':subdomain});