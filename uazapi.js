const a0_0x1f4c2a=a0_0x5a52;(function(_0x8bca29,_0x31fe3e){const _0x2599c4=a0_0x5a52,_0x3565f9=_0x8bca29();while(!![]){try{const _0x1c62e9=-parseInt(_0x2599c4(0x3f7))/0x1*(-parseInt(_0x2599c4(0x5c0))/0x2)+-parseInt(_0x2599c4(0x27e))/0x3+parseInt(_0x2599c4(0x428))/0x4+-parseInt(_0x2599c4(0x6e1))/0x5*(-parseInt(_0x2599c4(0x3b2))/0x6)+-parseInt(_0x2599c4(0x13e))/0x7+-parseInt(_0x2599c4(0x5a6))/0x8+parseInt(_0x2599c4(0x629))/0x9;if(_0x1c62e9===_0x31fe3e)break;else _0x3565f9['push'](_0x3565f9['shift']());}catch(_0x205c0d){_0x3565f9['push'](_0x3565f9['shift']());}}}(a0_0x3fa6,0x339a7));var _r=Object[a0_0x1f4c2a(0x59f)],Ie=Object[a0_0x1f4c2a(0x5b7)],Pr=Object[a0_0x1f4c2a(0x13f)],$r=Object[a0_0x1f4c2a(0x332)],kr=Object[a0_0x1f4c2a(0x359)],Lr=Object['prototype'][a0_0x1f4c2a(0x732)],jr=(_0x2a0278,_0x58c7ed)=>{for(var _0x41fb80 in _0x58c7ed)Ie(_0x2a0278,_0x41fb80,{'get':_0x58c7ed[_0x41fb80],'enumerable':!0x0});},_s=(_0xb2542c,_0x4d6075,_0x2ee22d,_0x40b48c)=>{const _0x47bbc9=a0_0x1f4c2a;if(_0x4d6075&&typeof _0x4d6075==_0x47bbc9(0x483)||typeof _0x4d6075==_0x47bbc9(0x748)){for(let _0xf7a398 of $r(_0x4d6075))!Lr[_0x47bbc9(0x2c4)](_0xb2542c,_0xf7a398)&&_0xf7a398!==_0x2ee22d&&Ie(_0xb2542c,_0xf7a398,{'get':()=>_0x4d6075[_0xf7a398],'enumerable':!(_0x40b48c=Pr(_0x4d6075,_0xf7a398))||_0x40b48c['enumerable']});}return _0xb2542c;},R=(_0x19e674,_0x5a360d,_0x38d2bc)=>(_0x38d2bc=_0x19e674!=null?_r(kr(_0x19e674)):{},_s(_0x5a360d||!_0x19e674||!_0x19e674[a0_0x1f4c2a(0x559)]?Ie(_0x38d2bc,a0_0x1f4c2a(0x73c),{'value':_0x19e674,'enumerable':!0x0}):_0x38d2bc,_0x19e674)),Fr=_0x295d81=>_s(Ie({},'__esModule',{'value':!0x0}),_0x295d81),zi={};jr(zi,{'subdomain':()=>Rs}),module[a0_0x1f4c2a(0x48b)]=Fr(zi);var Tr=R(require(a0_0x1f4c2a(0x19e))),$s=require('fs'),ks=require('js-yaml'),Ls=require(a0_0x1f4c2a(0x196)),xe=require(a0_0x1f4c2a(0x196)),ae=process[a0_0x1f4c2a(0x551)](),ge=(0x0,xe['join'])(ae,a0_0x1f4c2a(0x124)),Ps=(0x0,xe['join'])(ae,a0_0x1f4c2a(0x264)),Jo=(0x0,xe[a0_0x1f4c2a(0x431)])(ae,a0_0x1f4c2a(0x448),'auth'),Zt=class{constructor(){const _0x3bebd6=a0_0x1f4c2a;this[_0x3bebd6(0x4a0)]();}[a0_0x1f4c2a(0x67a)](_0x5d9989){const _0x537519=a0_0x1f4c2a;return this[_0x537519(0x5f3)][_0x5d9989];}[a0_0x1f4c2a(0x4a0)](){const _0x5180a6=a0_0x1f4c2a;this[_0x5180a6(0x5f3)]=process['env']?.[_0x5180a6(0x2dd)]!=='true'?this['envYaml']():this['envProcess'](),process[_0x5180a6(0x5f3)]?.[_0x5180a6(0x2dd)]==='true'&&(this[_0x5180a6(0x5f3)][_0x5180a6(0x538)][_0x5180a6(0x6a4)]=_0x5180a6(0x6d1),this['env'][_0x5180a6(0x538)][_0x5180a6(0x515)]=Number[_0x5180a6(0x2cc)](process[_0x5180a6(0x5f3)]?.[_0x5180a6(0x73a)]??_0x5180a6(0x393)));}['envYaml'](){const _0x48f891=a0_0x1f4c2a;return(0x0,ks['load'])((0x0,$s[_0x48f891(0xd6)])((0x0,Ls[_0x48f891(0x431)])(Ps,_0x48f891(0x3b7)),{'encoding':_0x48f891(0x23a)}));}['envProcess'](){const _0xc21802=a0_0x1f4c2a;return{'SERVER':{'TYPE':process[_0xc21802(0x5f3)]['SERVER_TYPE'],'PORT':Number[_0xc21802(0x2cc)](process[_0xc21802(0x5f3)][_0xc21802(0x73a)]),'URL':process[_0xc21802(0x5f3)][_0xc21802(0x12f)]},'CORS':{'ORIGIN':process[_0xc21802(0x5f3)][_0xc21802(0x27a)][_0xc21802(0x702)](','),'METHODS':process[_0xc21802(0x5f3)][_0xc21802(0x573)][_0xc21802(0x702)](','),'CREDENTIALS':process[_0xc21802(0x5f3)]?.[_0xc21802(0x185)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0xc21802(0x5f3)]?.[_0xc21802(0x2f3)],'FULLCHAIN':process[_0xc21802(0x5f3)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0xc21802(0x5f3)]?.[_0xc21802(0x633)])?Number[_0xc21802(0x2cc)](process[_0xc21802(0x5f3)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0xc21802(0x5f3)]?.[_0xc21802(0x412)]===_0xc21802(0x5ef),'CONTACTS':process['env']?.[_0xc21802(0x5db)]===_0xc21802(0x5ef),'CHATS':process[_0xc21802(0x5f3)]?.[_0xc21802(0x31b)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0xc21802(0x371)],'PORT':Number[_0xc21802(0x2cc)](process[_0xc21802(0x5f3)]?.[_0xc21802(0x371)]),'USER':process[_0xc21802(0x5f3)][_0xc21802(0xe7)],'PASSWORD':process[_0xc21802(0x5f3)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0xc21802(0x5f3)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0xc21802(0x5f3)][_0xc21802(0x6fb)]},'ENABLED':process[_0xc21802(0x5f3)]?.[_0xc21802(0x221)]===_0xc21802(0x5ef)},'REDIS':{'ENABLED':process[_0xc21802(0x5f3)]?.['REDIS_ENABLED']===_0xc21802(0x5ef),'URI':process[_0xc21802(0x5f3)][_0xc21802(0x6c2)]||_0xc21802(0x130),'PREFIX_KEY':process[_0xc21802(0x5f3)][_0xc21802(0x6b0)]||_0xc21802(0x638)},'LOG':{'LEVEL':process['env']?.[_0xc21802(0x3a1)][_0xc21802(0x702)](','),'COLOR':process[_0xc21802(0x5f3)]?.[_0xc21802(0x6a5)]==='true'},'PROXY':process[_0xc21802(0x5f3)]?.['PROXY']===_0xc21802(0x5ef),'DOCKER_PASS':process[_0xc21802(0x5f3)]?.[_0xc21802(0x15a)],'AUTHENTICATION':{'TYPE':process[_0xc21802(0x5f3)][_0xc21802(0x742)],'API_KEY':{'KEY':process['env']['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0xc21802(0x4fd)](process['env']?.[_0xc21802(0x746)])?Number[_0xc21802(0x2cc)](process[_0xc21802(0x5f3)][_0xc21802(0x746)]):0xe10,'SECRET':process[_0xc21802(0x5f3)][_0xc21802(0x168)]}}};}},b=new Zt(),Ar=R(require(a0_0x1f4c2a(0x654))),pe=R(require(a0_0x1f4c2a(0x4d0))),xs=require(a0_0x1f4c2a(0x196)),es=R(require('dayjs')),ts=(_0x2a69ad=>(_0x2a69ad['LOG']='\x1b[32m',_0x2a69ad[a0_0x1f4c2a(0x42a)]='\x1b[34m',_0x2a69ad['WARN']=a0_0x1f4c2a(0x2b6),_0x2a69ad[a0_0x1f4c2a(0x240)]=a0_0x1f4c2a(0x463),_0x2a69ad['DEBUG']='\x1b[36m',_0x2a69ad[a0_0x1f4c2a(0x265)]=a0_0x1f4c2a(0x1ab),_0x2a69ad[a0_0x1f4c2a(0x3b4)]=a0_0x1f4c2a(0x341),_0x2a69ad))(ts||{}),js=(_0x4f7c0b=>(_0x4f7c0b['LOG']='\x1b[32m%s\x1b[0m',_0x4f7c0b[a0_0x1f4c2a(0x3b4)]=a0_0x1f4c2a(0x63c),_0x4f7c0b['INFO']=a0_0x1f4c2a(0x271),_0x4f7c0b[a0_0x1f4c2a(0x5dc)]=a0_0x1f4c2a(0x575),_0x4f7c0b[a0_0x1f4c2a(0x240)]=a0_0x1f4c2a(0x4a7),_0x4f7c0b['DEBUG']=a0_0x1f4c2a(0x4e1),_0x4f7c0b['VERBOSE']=a0_0x1f4c2a(0x17d),_0x4f7c0b))(js||{}),Fs=(_0x3a8f98=>(_0x3a8f98[a0_0x1f4c2a(0x327)]=a0_0x1f4c2a(0x327),_0x3a8f98[a0_0x1f4c2a(0x5dc)]=a0_0x1f4c2a(0x5dc),_0x3a8f98[a0_0x1f4c2a(0x42a)]='INFO',_0x3a8f98[a0_0x1f4c2a(0x3b4)]=a0_0x1f4c2a(0x3b4),_0x3a8f98[a0_0x1f4c2a(0x240)]=a0_0x1f4c2a(0x240),_0x3a8f98[a0_0x1f4c2a(0x662)]='DEBUG',_0x3a8f98[a0_0x1f4c2a(0x265)]=a0_0x1f4c2a(0x265),_0x3a8f98))(Fs||{}),Us=(_0x4a2946=>(_0x4a2946[a0_0x1f4c2a(0x327)]=a0_0x1f4c2a(0x1cc),_0x4a2946[a0_0x1f4c2a(0x42a)]=a0_0x1f4c2a(0x158),_0x4a2946[a0_0x1f4c2a(0x5dc)]=a0_0x1f4c2a(0x1be),_0x4a2946['DARK']=a0_0x1f4c2a(0x339),_0x4a2946['ERROR']=a0_0x1f4c2a(0x6ab),_0x4a2946[a0_0x1f4c2a(0x662)]=a0_0x1f4c2a(0x747),_0x4a2946['VERBOSE']=a0_0x1f4c2a(0x55e),_0x4a2946))(Us||{}),v=class{constructor(_0x1c53ad=a0_0x1f4c2a(0x735)){const _0x4ee982=a0_0x1f4c2a;this['context']=_0x1c53ad,this[_0x4ee982(0x1a6)]=b;}[a0_0x1f4c2a(0x4e3)](_0x13ac16){this['context']=_0x13ac16;}['console'](_0x5a110a,_0xd87642){const _0x933115=a0_0x1f4c2a;let _0x8c2367=[];this['configService'][_0x933115(0x67a)](_0x933115(0x327))[_0x933115(0x162)][_0x933115(0x67f)](_0x51db77=>_0x8c2367['push'](Fs[_0x51db77]));let _0x36f16b=typeof _0x5a110a;_0x8c2367[_0x933115(0x5bb)](_0xd87642)&&(b[_0x933115(0x67a)]('LOG')['COLOR']?(console['log'](_0x933115(0xe3)+js[_0xd87642],_0x933115(0x2b0),(0x0,es['default'])()['format']('DD/MM\x20HH:mm:ss'),'\x1b[0m',ts[_0xd87642]+Us[_0xd87642]+'\x1b[1m',_0xd87642+_0x933115(0x70c),_0x933115(0x60b),this[_0x933115(0x3e5)]+_0x933115(0x600),ts[_0xd87642],_0x36f16b!==_0x933115(0x483)?_0x5a110a:'',_0x933115(0x600)),_0x36f16b==='object'&&console[_0x933115(0x2ed)](_0x5a110a,'\x0a')):console['log']((0x0,es[_0x933115(0x73c)])()[_0x933115(0x50d)](_0x933115(0x5df)),_0xd87642+'\x20',''+this[_0x933115(0x3e5)],_0x5a110a));}[a0_0x1f4c2a(0x2ed)](_0x34ebb7){this['console'](_0x34ebb7,'LOG');}[a0_0x1f4c2a(0x708)](_0x24df8f){const _0x17d08f=a0_0x1f4c2a;this['console'](_0x24df8f,_0x17d08f(0x42a));}[a0_0x1f4c2a(0x58d)](_0x3e3b44){const _0x5db1ae=a0_0x1f4c2a;this[_0x5db1ae(0x54b)](_0x3e3b44,_0x5db1ae(0x5dc));}['error'](_0x51e084){const _0x2b423d=a0_0x1f4c2a;this[_0x2b423d(0x54b)](_0x51e084,_0x2b423d(0x240));}[a0_0x1f4c2a(0x204)](_0x306009){const _0x49d58a=a0_0x1f4c2a;this[_0x49d58a(0x54b)](_0x306009,_0x49d58a(0x265));}['debug'](_0x4a2981){const _0x5db2af=a0_0x1f4c2a;this[_0x5db2af(0x54b)](_0x4a2981,_0x5db2af(0x662));}[a0_0x1f4c2a(0x699)](_0x4d5402){const _0x58c3c3=a0_0x1f4c2a;this[_0x58c3c3(0x54b)](_0x4d5402,_0x58c3c3(0x3b4));}};function qs(){const _0x837f7b=a0_0x1f4c2a;process['on'](_0x837f7b(0xfe),(_0x4caeb5,_0x1a55fc)=>{const _0x3299fb=_0x837f7b;new v(_0x3299fb(0xfe))['error']({'origin':_0x1a55fc,'stderr':process[_0x3299fb(0x568)]['fd'],'error':_0x4caeb5});}),process['on'](_0x837f7b(0x66c),(_0x448716,_0x2e8cce)=>{const _0x4faa15=_0x837f7b;new v(_0x4faa15(0x66c))['error']({'origin':_0x2e8cce,'stderr':process['stderr']['fd'],'error':_0x448716});});}var Js=R(require(a0_0x1f4c2a(0x3dd))),ss=new Js[(a0_0x1f4c2a(0x73c))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require(a0_0x1f4c2a(0x26d)),as=R(require(a0_0x1f4c2a(0x26d))),Ur=new v('Db\x20Connection'),V=b[a0_0x1f4c2a(0x67a)](a0_0x1f4c2a(0x51b)),N=V['ENABLED']?V[a0_0x1f4c2a(0x11c)][a0_0x1f4c2a(0x20d)]?as[a0_0x1f4c2a(0x73c)][a0_0x1f4c2a(0x6d3)](V[a0_0x1f4c2a(0x11c)][a0_0x1f4c2a(0x20d)],{'dbName':V['CONNECTION']['DB_PREFIX_NAME']+a0_0x1f4c2a(0x374)}):as[a0_0x1f4c2a(0x73c)][a0_0x1f4c2a(0x6d3)](a0_0x1f4c2a(0x1bf)+V[a0_0x1f4c2a(0x11c)][a0_0x1f4c2a(0x190)]+':'+V[a0_0x1f4c2a(0x11c)][a0_0x1f4c2a(0x515)]+a0_0x1f4c2a(0x3a7),{'user':V[a0_0x1f4c2a(0x11c)]['USER'],'pass':V[a0_0x1f4c2a(0x11c)][a0_0x1f4c2a(0x646)],'dbName':V[a0_0x1f4c2a(0x11c)]['DB_PREFIX_NAME']+a0_0x1f4c2a(0x374)}):null;V[a0_0x1f4c2a(0x177)]&&Ur[a0_0x1f4c2a(0x708)]('ON\x20-\x20dbName:\x20'+N[a0_0x1f4c2a(0x19d)]);var qr=new De[(a0_0x1f4c2a(0x5a0))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jr=new De[(a0_0x1f4c2a(0x5a0))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Vr=new De[(a0_0x1f4c2a(0x5a0))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Vs=_0x259930=>{const _0x45aa41=a0_0x1f4c2a;let _0x1b5af0='z_'+_0x259930+_0x45aa41(0x2b7);return N?.['model'](_0x45aa41(0x206),Vr,_0x1b5af0);},Bs=require(a0_0x1f4c2a(0x26d)),Br=new Bs[(a0_0x1f4c2a(0x5a0))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Gs=_0x2bf7f6=>{const _0x4ed75a=a0_0x1f4c2a;let _0x1c284d='z_'+_0x2bf7f6+_0x4ed75a(0x626);return N?.[_0x4ed75a(0x6be)]('ContactModel',Br,_0x1c284d);},Ws=require('mongoose'),Gr=new Ws[(a0_0x1f4c2a(0x5a0))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),zs=_0x155954=>{const _0x1444b6=a0_0x1f4c2a;let _0x4e9f12='z_'+_0x155954+_0x1444b6(0x523);return N?.[_0x1444b6(0x6be)](_0x1444b6(0x1a7),Gr,_0x4e9f12);},Hs=require(a0_0x1f4c2a(0x26d)),rs=class{},Wr=new Hs[(a0_0x1f4c2a(0x5a0))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),Ks=N?.['model'](rs[a0_0x1f4c2a(0x471)],Wr,a0_0x1f4c2a(0x2e0)),Qs=require(a0_0x1f4c2a(0x26d)),is=class{},Ys=new Qs['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ys[a0_0x1f4c2a(0x698)](a0_0x1f4c2a(0x5c6),function(_0x36cc0e){const _0x13bc5f=a0_0x1f4c2a;delete this[_0x13bc5f(0xd4)],delete this[_0x13bc5f(0x5d0)],delete this['flowPrefixCommand'],delete this[_0x13bc5f(0x432)],delete this[_0x13bc5f(0x741)],_0x36cc0e();});var Xs=N?.[a0_0x1f4c2a(0x6be)](is[a0_0x1f4c2a(0x471)],Ys,'webhook'),_=require(a0_0x1f4c2a(0x26d)),_e=class{},Zs=new _['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),os=new _['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zr=new _[(a0_0x1f4c2a(0x5a0))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x1f4c2a(0x5b0)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x1f4c2a(0x3e6)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x1f4c2a(0x1a3)},'pollErrorMessage':{'type':String,'default':a0_0x1f4c2a(0x22c)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ea=new _['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Hr=new _[(a0_0x1f4c2a(0x5a0))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Kr=new _[(a0_0x1f4c2a(0x5a0))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ta=new _[(a0_0x1f4c2a(0x5a0))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zr},'apirequest':Hr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new _[(a0_0x1f4c2a(0x5a0))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),sa=new _[(a0_0x1f4c2a(0x5a0))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ns=class{},ps=new _[(a0_0x1f4c2a(0x5a0))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x237324=a0_0x1f4c2a;return'!cmd_'+Math[_0x237324(0x3c0)]()[_0x237324(0x6f3)](0x24)[_0x237324(0x6fe)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[ta],'groups':[Zs],'conditions':[ea],'varedits':[sa],'replyOptions':{'type':[os],'default':[]}});ps['pre'](a0_0x1f4c2a(0x5c6),function(_0x14d6b0){const _0x5e1dbc=a0_0x1f4c2a;let _0xf029a4=new Set(),_0x680df0=new Set(this['variables']?.[_0x5e1dbc(0x441)](_0x16132a=>_0x16132a[_0x5e1dbc(0x471)])),_0x4af561=JSON[_0x5e1dbc(0x311)](this),_0x36d4b7=/{{(?!_)([^}]*)}}/g,_0x25957b;for(;(_0x25957b=_0x36d4b7[_0x5e1dbc(0x449)](_0x4af561))!==null;)_0x680df0[_0x5e1dbc(0x595)](_0x25957b[0x1])||_0xf029a4[_0x5e1dbc(0x39c)](_0x25957b[0x1]);_0xf029a4[_0x5e1dbc(0x4da)]>0x0?(console[_0x5e1dbc(0x58d)](_0x5e1dbc(0x729),Array['from'](_0xf029a4)),this[_0x5e1dbc(0x546)]=Array[_0x5e1dbc(0x697)](_0xf029a4)):this[_0x5e1dbc(0x546)]=[],_0x14d6b0();});var aa=_0x30cb19=>{const _0x157a9c=a0_0x1f4c2a;let _0x29523e='z_'+_0x30cb19+_0x157a9c(0x252);return N?.[_0x157a9c(0x6be)]('FlowModel',ps,_0x29523e);},ra=N?.[a0_0x1f4c2a(0x6be)](ns['name'],ps,'flow'),Qr=new _[(a0_0x1f4c2a(0x5a0))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Kr]},{'_id':!0x1}),cs=class{},ia=new _[(a0_0x1f4c2a(0x5a0))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[ta],'groups':[Zs],'conditions':[ea],'varedits':[sa],'replyOptions':{'type':[os],'default':[]},'chatLog':Qr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x1f4c2a(0x1a3)},'waitingMenu_replyOptions':{'type':[os],'default':[]}}),oa=_0x2b76c8=>{const _0x511cf3=a0_0x1f4c2a;let _0x8e9f00='z_'+_0x2b76c8+_0x511cf3(0x11b);return N?.[_0x511cf3(0x6be)]('ConversationModel',ia,_0x8e9f00);},na=N?.[a0_0x1f4c2a(0x6be)](cs[a0_0x1f4c2a(0x471)],ia,a0_0x1f4c2a(0x6f8)),ls=class{},Yr=new _[(a0_0x1f4c2a(0x5a0))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Xr=new _[(a0_0x1f4c2a(0x5a0))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ca=new _[(a0_0x1f4c2a(0x5a0))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Yr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),la=_0x12e3e6=>{const _0x6f6d7f=a0_0x1f4c2a;let _0x5cec2c='z_'+_0x12e3e6+_0x6f6d7f(0x1a9);return N?.['model'](_0x6f6d7f(0x178),ca,_0x5cec2c);},ua=N?.['model'](ls[a0_0x1f4c2a(0x471)],ca,a0_0x1f4c2a(0x704)),us=class{},Zr=new _[(a0_0x1f4c2a(0x5a0))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ei=new _[(a0_0x1f4c2a(0x5a0))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),ti=new _[(a0_0x1f4c2a(0x5a0))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),si=new _[(a0_0x1f4c2a(0x5a0))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ti]},'customFields':{'type':[Zr]},'flowConfig':{'type':ei,'default':{}}}),Pe=N?.[a0_0x1f4c2a(0x6be)](us[a0_0x1f4c2a(0x471)],si,a0_0x1f4c2a(0x29c)),da=require(a0_0x1f4c2a(0x26d)),ai=new da[(a0_0x1f4c2a(0x5a0))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),pa=_0x4ac9ad=>{const _0x44eb57=a0_0x1f4c2a;let _0x5dfe25='z_'+_0x4ac9ad+_0x44eb57(0x3bb);return N?.[_0x44eb57(0x6be)](_0x44eb57(0x29b),ai,_0x5dfe25);},I=class{constructor(_0x5d2a15){const _0x2bb98d=a0_0x1f4c2a;this[_0x2bb98d(0x161)]=_0x5d2a15[_0x2bb98d(0x67a)]('DATABASE');}};function A(_0x177c69){const _0x26ff11=a0_0x1f4c2a;let _0x38cfeb={};for(let [_0x524450,_0x3620d0]of Object[_0x26ff11(0x17b)](_0x177c69))if(typeof _0x3620d0==_0x26ff11(0x483)&&!Array[_0x26ff11(0x66f)](_0x3620d0)){for(let [_0x242228,_0x5b2df6]of Object['entries'](_0x3620d0))_0x38cfeb[_0x524450+'.'+_0x242228]=_0x5b2df6;}else _0x38cfeb[_0x524450]=_0x3620d0;return _0x38cfeb;}var $e=class{constructor(_0x2d9a25,_0x598899,_0xe6d6f2,_0x5764c4,_0x11bc34,_0x3949cb,_0x1d2ac8,_0x4d8c9a,_0x4f44b4,_0x5b742f,_0x4abb6b){const _0x4f6a2f=a0_0x1f4c2a;this[_0x4f6a2f(0x1ae)]=_0x2d9a25,this[_0x4f6a2f(0x164)]=_0x598899,this[_0x4f6a2f(0x1d9)]=_0xe6d6f2,this['webhook']=_0x5764c4,this['auth']=_0x11bc34,this[_0x4f6a2f(0x34a)]=_0x3949cb,this[_0x4f6a2f(0x6f8)]=_0x1d2ac8,this['label']=_0x4d8c9a,this[_0x4f6a2f(0x3f4)]=_0x4f44b4,this['automateSystem']=_0x5b742f,this[_0x4f6a2f(0x6a6)]=_0x4abb6b;}get[a0_0x1f4c2a(0x3c1)](){const _0xae0fb3=a0_0x1f4c2a;return this[_0xae0fb3(0x6a6)];}},ke=class{},Le=class extends I{[a0_0x1f4c2a(0x328)](_0x927a83){return zs(_0x927a83);}async[a0_0x1f4c2a(0x2d2)](_0x580dd6,_0x5b22cf){const _0x41c3fa=a0_0x1f4c2a;if(_0x580dd6[_0x41c3fa(0x4c0)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x41c3fa(0x328)](_0x5b22cf)[_0x41c3fa(0x1ac)]([..._0x580dd6]))['length']};}catch(_0x217c43){return _0x217c43;}}async[a0_0x1f4c2a(0x34c)](_0x2596de,_0x2a2860){const _0xf14e40=a0_0x1f4c2a;try{let _0x3754b0=this[_0xf14e40(0x328)](_0x2a2860),_0x481da4=A(_0x2596de[_0xf14e40(0x45e)]);return await _0x3754b0[_0xf14e40(0x34c)](_0x481da4)[_0xf14e40(0x24b)]({'messageTimestamp':-0x1})[_0xf14e40(0x3a5)](_0x2596de?.[_0xf14e40(0x3a5)]??0x0)['lean']();}catch{return[];}}async['delete'](_0x3fd182,_0x265ce5){const _0x503778=a0_0x1f4c2a;try{let _0x3118e3=this[_0x503778(0x328)](_0x265ce5),_0x48bb96=A(_0x3fd182[_0x503778(0x45e)]);await _0x3118e3[_0x503778(0x468)](_0x48bb96);}catch(_0x1f328f){console[_0x503778(0x513)](_0x1f328f);}}async[a0_0x1f4c2a(0x64d)](_0x26f06e,_0x53e495,_0x272466){const _0x3f52b5=a0_0x1f4c2a;try{let _0x27c80=this[_0x3f52b5(0x328)](_0x272466),_0x1f092b=A(_0x26f06e['where']);return await _0x27c80[_0x3f52b5(0x5a8)](_0x1f092b,{'$set':_0x53e495},{'new':!0x0});}catch(_0x1f60d9){throw console[_0x3f52b5(0x513)](_0x1f60d9),_0x1f60d9;}}async[a0_0x1f4c2a(0x1ac)](_0x5854d0,_0x23ff11){const _0x34c809=a0_0x1f4c2a;if(_0x5854d0[_0x34c809(0x4c0)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x23ff11)[_0x34c809(0x1ac)]([..._0x5854d0]))[_0x34c809(0x4c0)]};}catch(_0x50e1d7){return console[_0x34c809(0x2ed)](_0x34c809(0x159),_0x50e1d7),_0x50e1d7;}}async[a0_0x1f4c2a(0x50f)](_0x46dfbd){const _0x15fd39=a0_0x1f4c2a;try{return await this[_0x15fd39(0x328)](_0x46dfbd)[_0x15fd39(0x498)][_0x15fd39(0x606)](),{'success':!0x0};}catch(_0x1440a2){return console[_0x15fd39(0x513)](_0x1440a2),{'success':!0x1,'error':_0x1440a2};}}},wr=R(require(a0_0x1f4c2a(0x37b))),y=R(require(a0_0x1f4c2a(0x1f2))),ve=require('fs'),U=R(require('path')),se=R(require(a0_0x1f4c2a(0x594))),yr=require(a0_0x1f4c2a(0x726)),br=R(require('qrcode')),Sr=R(require(a0_0x1f4c2a(0x288))),ha=['imageMessage',a0_0x1f4c2a(0x683),a0_0x1f4c2a(0x373),a0_0x1f4c2a(0x18b),a0_0x1f4c2a(0x68f)],ga=[a0_0x1f4c2a(0x2d6),'documentWithCaptionMessage',a0_0x1f4c2a(0x49d),a0_0x1f4c2a(0x1da)],Es=require('os'),Ot=R(require(a0_0x1f4c2a(0xd5))),_t=require(a0_0x1f4c2a(0x4f8)),It=require('node-mime-types'),ne=R(require(a0_0x1f4c2a(0x26d))),P=require(a0_0x1f4c2a(0x2d5)),me=class{constructor(_0x1378a1,_0x4d2c52,_0x42e01d){const _0x35910c=a0_0x1f4c2a;this[_0x35910c(0x255)]=_0x1378a1,this['exists']=_0x4d2c52,this['name']=_0x42e01d;}},je=class{},Fe=class{},be=class{},Ue=class{},qe=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0x1f4c2a(0x4d0))),ma=require('fs'),fa=require('path');async function We(_0x189f43){const _0x92ef3e=a0_0x1f4c2a;let _0x4f79be=B[_0x92ef3e(0x37c)][_0x189f43];if(V[_0x92ef3e(0x177)]){let _0x27a65a=N[_0x92ef3e(0x19b)]()['db'](V['CONNECTION'][_0x92ef3e(0x544)]+'-instances')['collection'](_0x189f43);return _0x4f79be||(await _0x27a65a[_0x92ef3e(0x34c)]({})[_0x92ef3e(0x1c8)]())[_0x92ef3e(0x4c0)]>0x0;}return _0x4f79be||(0x0,ma[_0x92ef3e(0x246)])((0x0,fa['join'])(ge,_0x189f43));}async function wa(_0xf0fb41,_0x52c86f,_0xfd717d){const _0x24502b=a0_0x1f4c2a;if(_0xf0fb41[_0x24502b(0x347)]['includes'](_0x24502b(0x5b3))||_0xf0fb41[_0x24502b(0x347)][_0x24502b(0x5bb)](_0x24502b(0x429))||_0xf0fb41['originalUrl'][_0x24502b(0x5bb)]('/exit')||_0xf0fb41[_0x24502b(0x347)][_0x24502b(0x5bb)](_0x24502b(0x69e))||_0xf0fb41[_0x24502b(0x347)][_0x24502b(0x5bb)](_0x24502b(0x348))||_0xf0fb41['originalUrl']['includes'](_0x24502b(0x53f))||_0xf0fb41['originalUrl'][_0x24502b(0x5bb)](_0x24502b(0x22f)))return _0xfd717d();let _0xf42db9=_0xf0fb41[_0x24502b(0x506)];if(!_0xf42db9?.[_0x24502b(0x2c5)])throw new m(_0x24502b(0x625));if(!await We(_0xf42db9[_0x24502b(0x2c5)]))throw new L(_0x24502b(0x309)+_0xf42db9['instanceName']+_0x24502b(0x5ee));_0xfd717d();}async function ya(_0x4f4e2c,_0x5edf6e,_0x4edd68){const _0x29f501=a0_0x1f4c2a;if(_0x4f4e2c[_0x29f501(0x347)][_0x29f501(0x5bb)](_0x29f501(0x5b3))){let _0xc53b8f=_0x4f4e2c[_0x29f501(0x3c5)];if(await We(_0xc53b8f[_0x29f501(0x2c5)]))throw new K(_0x29f501(0x5e9)+_0xc53b8f[_0x29f501(0x2c5)]+_0x29f501(0x707));B[_0x29f501(0x37c)][_0xc53b8f[_0x29f501(0x2c5)]]&&delete B['waInstances'][_0xc53b8f[_0x29f501(0x2c5)]];}_0x4edd68();}var ba=require(a0_0x1f4c2a(0x2d5)),Sa=R(require(a0_0x1f4c2a(0x3c6))),ze=a0_0x1f4c2a(0x638),ii=new v(a0_0x1f4c2a(0x494));async function oi(_0x4d18ea,_0x284bf7,_0x20274b){const _0x31692c=a0_0x1f4c2a;let _0x68f37f=_0x4d18ea[_0x31692c(0x67a)](_0x31692c(0x690));if(_0x68f37f&&b['get']('AUTHENTICATION')[_0x31692c(0x4bb)]['KEY']!==_0x68f37f)throw new ee();if(b[_0x31692c(0x67a)]('AUTHENTICATION')[_0x31692c(0x4bb)]['KEY']===_0x68f37f)return _0x20274b();if((_0x4d18ea['originalUrl'][_0x31692c(0x5bb)](_0x31692c(0x5b3))||_0x4d18ea[_0x31692c(0x347)]['includes'](_0x31692c(0x429)))&&!_0x68f37f)throw new K(_0x31692c(0x5da),_0x31692c(0x316));let _0x3a5c84=b[_0x31692c(0x67a)]('AUTHENTICATION')[_0x31692c(0x11f)];try{let [_0x5dd802,_0x51e49c]=_0x4d18ea[_0x31692c(0x67a)](_0x31692c(0x345))[_0x31692c(0x702)]('\x20');if(_0x5dd802[_0x31692c(0x2bb)]()!==_0x31692c(0x22b))throw new ee();if(!(0x0,ba['isJWT'])(_0x51e49c))throw new ee();let _0x2889aa=_0x4d18ea[_0x31692c(0x506)],_0x4a43f0=Sa['default'][_0x31692c(0x624)](_0x51e49c,_0x3a5c84[_0x31692c(0x1ec)],{'ignoreExpiration':_0x3a5c84[_0x31692c(0x571)]===0x0});if(_0x2889aa['instanceName']!==_0x4a43f0[_0x31692c(0x2c5)]||ze!==_0x4a43f0[_0x31692c(0x107)])throw new ee();return _0x20274b();}catch(_0x1723c0){throw ii[_0x31692c(0x513)](_0x1723c0),new ee();}}async function ni(_0x39b687,_0x2c5fd4,_0xc5fff1){const _0x54d871=a0_0x1f4c2a;let _0x146a79=b['get'](_0x54d871(0x2f9))[_0x54d871(0x4bb)],_0x21f835=_0x39b687[_0x54d871(0x67a)](_0x54d871(0x690));if(_0x146a79[_0x54d871(0x2a7)]===_0x21f835)return _0xc5fff1();if(_0x39b687[_0x54d871(0x347)][_0x54d871(0x5bb)](_0x54d871(0x5b3))){let _0x28c056=He,_0x58cbb4=_0x39b687[_0x54d871(0x3c5)]['instanceName'];if(_0x28c056&&_0x58cbb4[_0x54d871(0x2bb)]()[_0x54d871(0x587)](_0x28c056[_0x54d871(0x2bb)]()))return _0xc5fff1();if(!_0x21f835)throw new K(_0x54d871(0x5da),_0x54d871(0x316));}if(_0x39b687['originalUrl']['includes'](_0x54d871(0x429))&&!_0x21f835)throw new K(_0x54d871(0x5da),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x39b687[_0x54d871(0x347)][_0x54d871(0x5bb)](_0x54d871(0x492))&&!_0x21f835)throw new K(_0x54d871(0x5da),_0x54d871(0x316));if(_0x39b687[_0x54d871(0x347)]['includes'](_0x54d871(0x69e))&&!_0x21f835)throw new K(_0x54d871(0x5da),_0x54d871(0x316));try{let _0x2ea00d=_0x39b687['params'];if((await le[_0x54d871(0x5c8)]['find'](_0x2ea00d[_0x54d871(0x2c5)]))['apikey']===_0x21f835)return _0xc5fff1();}catch{}throw new ee();}var Ea={'jwt':oi,'apikey':ni},tr=require(a0_0x1f4c2a(0x4d0)),C=require(a0_0x1f4c2a(0x726)),E=(..._0x452192)=>{const _0x2712d1=a0_0x1f4c2a;let _0x29cddb={};return _0x452192[_0x2712d1(0x67f)](_0xe0f32b=>_0x29cddb[_0xe0f32b]={'minLength':0x1,'description':_0x2712d1(0x44c)+_0xe0f32b+_0x2712d1(0x3af)}),{'if':{'propertyNames':{'enum':[..._0x452192]}},'then':{'properties':_0x29cddb}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'instanceName':{'type':'string'}},...E('instanceName')},Kn={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x1f4c2a(0x321)],...E(a0_0x1f4c2a(0x321))},Qn={'properties':{'key':{'type':a0_0x1f4c2a(0x483),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x1f4c2a(0x2f1)},'fromMe':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1f4c2a(0x1fd),'fromMe'],...E('id','remoteJid')},'message':{'type':a0_0x1f4c2a(0x483)}}},Q={'properties':{'delay':{'type':a0_0x1f4c2a(0x290),'description':a0_0x1f4c2a(0x2e2)},'presence':{'type':a0_0x1f4c2a(0x2f1),'enum':[a0_0x1f4c2a(0x3ff),a0_0x1f4c2a(0x743),'composing','recording',a0_0x1f4c2a(0x5cc)]}}},z={'type':a0_0x1f4c2a(0x2f1),'pattern':a0_0x1f4c2a(0x59c),'description':a0_0x1f4c2a(0x4dc)},Ca={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x1f4c2a(0x483),'properties':{'text':{'type':a0_0x1f4c2a(0x2f1)}},'required':[a0_0x1f4c2a(0x5d4)],...E(a0_0x1f4c2a(0x5d4))}},'required':[a0_0x1f4c2a(0x433),a0_0x1f4c2a(0x593)]},Ma={'type':a0_0x1f4c2a(0x2f1),'pattern':a0_0x1f4c2a(0x2a4),'description':a0_0x1f4c2a(0x4dc)},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'number':{...Ma},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x1f4c2a(0x2f1)}},'required':[a0_0x1f4c2a(0x5d4)],...E(a0_0x1f4c2a(0x5d4))}},'required':[a0_0x1f4c2a(0x433),'number']},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'number':{...Ma},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x1f4c2a(0x2f1),'enum':[a0_0x1f4c2a(0x496),a0_0x1f4c2a(0x33a),a0_0x1f4c2a(0x4d3),a0_0x1f4c2a(0x5c1)]},'media':{'type':'string'},'fileName':{'type':a0_0x1f4c2a(0x2f1)},'caption':{'type':a0_0x1f4c2a(0x2f1)}},'required':[a0_0x1f4c2a(0x5c3),'media'],...E(a0_0x1f4c2a(0x5d1),a0_0x1f4c2a(0x599),a0_0x1f4c2a(0x628))}},'required':[a0_0x1f4c2a(0x307),a0_0x1f4c2a(0x593)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x1f4c2a(0x483),'properties':{'image':{'type':a0_0x1f4c2a(0x2f1)}},'required':[a0_0x1f4c2a(0x496)],...E(a0_0x1f4c2a(0x496))}},'required':[a0_0x1f4c2a(0x68f),'number']},Na={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'statusMessage':{'type':a0_0x1f4c2a(0x483),'properties':{'type':{'type':'string','enum':['text',a0_0x1f4c2a(0x496),'audio',a0_0x1f4c2a(0x4d3)]},'content':{'type':a0_0x1f4c2a(0x2f1)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x1f4c2a(0x2f1)},'font':{'type':a0_0x1f4c2a(0x290),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x1f4c2a(0x3e2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1f4c2a(0x2f1),'pattern':a0_0x1f4c2a(0x5c4),'description':a0_0x1f4c2a(0xf1)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x1f4c2a(0x72c),a0_0x1f4c2a(0x3d4)],...E(a0_0x1f4c2a(0x72c),'content')}},'required':[a0_0x1f4c2a(0x41f)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x1f4c2a(0x483),'properties':{'mediatype':{'type':a0_0x1f4c2a(0x2f1),'enum':[a0_0x1f4c2a(0x496),'document','video',a0_0x1f4c2a(0x5c1)]},'media':{'type':a0_0x1f4c2a(0x2f1)},'fileName':{'type':a0_0x1f4c2a(0x2f1)},'caption':{'type':'string'}},'required':[a0_0x1f4c2a(0x5c3),a0_0x1f4c2a(0x628)],...E(a0_0x1f4c2a(0x5d1),a0_0x1f4c2a(0x599),a0_0x1f4c2a(0x628))}},'required':[a0_0x1f4c2a(0x307),'number']},Ta={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x1f4c2a(0x483),'properties':{'audio':{'type':a0_0x1f4c2a(0x2f1)}},'required':['audio'],...E(a0_0x1f4c2a(0x5c1))}},'required':['audioMessage',a0_0x1f4c2a(0x593)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'number':{...z},'pollMessage':{'type':a0_0x1f4c2a(0x483),'properties':{'name':{'type':a0_0x1f4c2a(0x2f1)},'selectableCount':{'type':a0_0x1f4c2a(0x593)},'values':{'type':a0_0x1f4c2a(0x3e2),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1f4c2a(0x471),a0_0x1f4c2a(0x3a0),'values'],...E(a0_0x1f4c2a(0x471),a0_0x1f4c2a(0x3a0),a0_0x1f4c2a(0x552))}},'required':['number',a0_0x1f4c2a(0x34f)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'number':{...z},'menuMessage':{'type':a0_0x1f4c2a(0x483),'properties':{'text':{'type':a0_0x1f4c2a(0x2f1)},'choices':{'type':a0_0x1f4c2a(0x3e2),'minItems':0x2,'uniqueItems':!0x0}},'required':['text','choices'],...E(a0_0x1f4c2a(0x5d4),a0_0x1f4c2a(0x70b))}},'required':[a0_0x1f4c2a(0x593),a0_0x1f4c2a(0x484)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x1f4c2a(0x2f1)},'footerText':{'type':a0_0x1f4c2a(0x2f1)},'buttons':{'type':a0_0x1f4c2a(0x3e2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x1f4c2a(0x2f1)}},'required':[a0_0x1f4c2a(0x27b),a0_0x1f4c2a(0x462)],...E(a0_0x1f4c2a(0x27b),a0_0x1f4c2a(0x462))}},'mediaMessage':{'type':a0_0x1f4c2a(0x483),'properties':{'media':{'type':a0_0x1f4c2a(0x2f1)},'fileName':{'type':a0_0x1f4c2a(0x2f1)},'mediatype':{'type':a0_0x1f4c2a(0x2f1),'enum':[a0_0x1f4c2a(0x496),'document','video']}},'required':['media',a0_0x1f4c2a(0x5c3)],...E(a0_0x1f4c2a(0x628),a0_0x1f4c2a(0x5d1))}},'required':[a0_0x1f4c2a(0x5a3),a0_0x1f4c2a(0x18f)],...E('title',a0_0x1f4c2a(0x680))}},'required':[a0_0x1f4c2a(0x593),a0_0x1f4c2a(0x6e2)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x1f4c2a(0x593)},'longitude':{'type':'number'},'name':{'type':'string'},'address':{'type':a0_0x1f4c2a(0x2f1)}},'required':['latitude',a0_0x1f4c2a(0x70d)],...E(a0_0x1f4c2a(0x471),a0_0x1f4c2a(0x68a))}},'required':[a0_0x1f4c2a(0x593),a0_0x1f4c2a(0x3eb)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':a0_0x1f4c2a(0x2f1)},'buttonText':{'type':a0_0x1f4c2a(0x2f1)},'sections':{'type':a0_0x1f4c2a(0x3e2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1f4c2a(0x483),'properties':{'title':{'type':a0_0x1f4c2a(0x2f1)},'rows':{'type':a0_0x1f4c2a(0x3e2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1f4c2a(0x483),'properties':{'title':{'type':a0_0x1f4c2a(0x2f1)},'description':{'type':'string'},'rowId':{'type':a0_0x1f4c2a(0x2f1)}},'required':['title',a0_0x1f4c2a(0xf7)],...E('title',a0_0x1f4c2a(0xf7))}}},'required':['title',a0_0x1f4c2a(0x2e6)],...E(a0_0x1f4c2a(0x5a3))}}},'required':[a0_0x1f4c2a(0x5a3),a0_0x1f4c2a(0x680),a0_0x1f4c2a(0x27b),'sections'],...E(a0_0x1f4c2a(0x5a3),a0_0x1f4c2a(0x680),'buttonText','footerText')}},'required':[a0_0x1f4c2a(0x593),a0_0x1f4c2a(0xc5)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x1f4c2a(0x3e2),'items':{'type':'object','properties':{'fullName':{'type':a0_0x1f4c2a(0x2f1)},'phoneNumber':{'type':a0_0x1f4c2a(0x2f1),'minLength':0xa}},'required':[a0_0x1f4c2a(0x5cd),a0_0x1f4c2a(0x4ac)],...E('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x1f4c2a(0x593),'contactMessage']},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'reactionMessage':{'type':a0_0x1f4c2a(0x483),'properties':{'key':{'type':a0_0x1f4c2a(0x483),'properties':{'id':{'type':a0_0x1f4c2a(0x2f1)},'remoteJid':{'type':a0_0x1f4c2a(0x2f1)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x1f4c2a(0x1fd),'fromMe'],...E('id',a0_0x1f4c2a(0x1fd))},'reaction':{'type':a0_0x1f4c2a(0x2f1)}},'required':['key',a0_0x1f4c2a(0x4b2)],...E(a0_0x1f4c2a(0x4b2))}},'required':[a0_0x1f4c2a(0x647)]},$a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x1f4c2a(0x3e2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x1f4c2a(0x5c4),'description':a0_0x1f4c2a(0x3d3)}}}},ka={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'readMessages':{'type':a0_0x1f4c2a(0x3e2),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x1f4c2a(0x2f1)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1f4c2a(0x2f1)}},'required':['id',a0_0x1f4c2a(0x4a3),a0_0x1f4c2a(0x1fd)],...E('id',a0_0x1f4c2a(0x1fd))}}},'required':['readMessages']},La={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'privacySettings':{'type':a0_0x1f4c2a(0x483),'properties':{'readreceipts':{'type':a0_0x1f4c2a(0x2f1),'enum':[a0_0x1f4c2a(0x132),'none']},'profile':{'type':a0_0x1f4c2a(0x2f1),'enum':['all',a0_0x1f4c2a(0x5ba),a0_0x1f4c2a(0x3ae),a0_0x1f4c2a(0x1f6)]},'status':{'type':a0_0x1f4c2a(0x2f1),'enum':[a0_0x1f4c2a(0x132),a0_0x1f4c2a(0x5ba),a0_0x1f4c2a(0x3ae),a0_0x1f4c2a(0x1f6)]},'online':{'type':a0_0x1f4c2a(0x2f1),'enum':[a0_0x1f4c2a(0x132),'match_last_seen']},'last':{'type':a0_0x1f4c2a(0x2f1),'enum':[a0_0x1f4c2a(0x132),a0_0x1f4c2a(0x5ba),a0_0x1f4c2a(0x3ae),a0_0x1f4c2a(0x1f6)]},'groupadd':{'type':a0_0x1f4c2a(0x2f1),'enum':[a0_0x1f4c2a(0x132),a0_0x1f4c2a(0x5ba),'contact_blacklist',a0_0x1f4c2a(0x1f6)]}},'required':[a0_0x1f4c2a(0x5d5),a0_0x1f4c2a(0x5ae),a0_0x1f4c2a(0x6ac),a0_0x1f4c2a(0x577),'last','groupadd'],...E(a0_0x1f4c2a(0x5d5),a0_0x1f4c2a(0x5ae),'status',a0_0x1f4c2a(0x577),a0_0x1f4c2a(0x2a2),'groupadd')}},'required':['privacySettings']},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x1f4c2a(0x483),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x1f4c2a(0x2f1)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1f4c2a(0x4a3),a0_0x1f4c2a(0x1fd)],...E('id','remoteJid')},'messageTimestamp':{'type':a0_0x1f4c2a(0x290),'minLength':0x1}},'required':['key'],...E(a0_0x1f4c2a(0x6b2))},'archive':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]}},'required':[a0_0x1f4c2a(0x4b5),a0_0x1f4c2a(0x635)]},Fa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'id':{'type':a0_0x1f4c2a(0x2f1)},'fromMe':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1f4c2a(0x2f1)},'participant':{'type':a0_0x1f4c2a(0x2f1)}},'required':['id','fromMe',a0_0x1f4c2a(0x1fd)],...E('id','remoteJid','participant')},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'where':{'type':a0_0x1f4c2a(0x483),'properties':{'_id':{'type':a0_0x1f4c2a(0x2f1),'minLength':0x1},'pushName':{'type':a0_0x1f4c2a(0x2f1),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...E('_id','id',a0_0x1f4c2a(0x42b))}}},qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':a0_0x1f4c2a(0x2f1)}},...E('name')},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'status':{'type':a0_0x1f4c2a(0x2f1)}},...E(a0_0x1f4c2a(0x6ac))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'number':{'type':'string'},'picture':{'type':'string'}}},Va={'type':a0_0x1f4c2a(0x483),'properties':{'wuid':{'type':a0_0x1f4c2a(0x2f1)},'name':{'type':a0_0x1f4c2a(0x2f1)},'picture':{'type':a0_0x1f4c2a(0x2f1)},'status':{'type':'string'},'isBusiness':{'type':a0_0x1f4c2a(0x142)}}},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'where':{'type':a0_0x1f4c2a(0x483),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x1f4c2a(0x483),'if':{'propertyNames':{'enum':[a0_0x1f4c2a(0x4a3),a0_0x1f4c2a(0x1fd),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x1f4c2a(0x2f1),'minLength':0x1,'description':a0_0x1f4c2a(0x5de)},'id':{'type':a0_0x1f4c2a(0x2f1),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E('_id')},'limit':{'type':a0_0x1f4c2a(0x290)}}},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'where':{'type':a0_0x1f4c2a(0x483),'properties':{'_id':{'type':a0_0x1f4c2a(0x2f1)},'remoteJid':{'type':a0_0x1f4c2a(0x2f1)},'id':{'type':a0_0x1f4c2a(0x2f1)},'fromMe':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x1f4c2a(0x2f1)},'status':{'type':a0_0x1f4c2a(0x2f1),'enum':['ERROR','PENDING','SERVER_ACK',a0_0x1f4c2a(0x253),a0_0x1f4c2a(0x1cf),a0_0x1f4c2a(0x69b)]}},...E(a0_0x1f4c2a(0x273),a0_0x1f4c2a(0x1fd),'id',a0_0x1f4c2a(0x6ac))},'limit':{'type':a0_0x1f4c2a(0x290)}}},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'number':{...z},'presence':{'type':'string','enum':[a0_0x1f4c2a(0x3ff),'available',a0_0x1f4c2a(0x3a6),'recording',a0_0x1f4c2a(0x5cc)]}},'required':[a0_0x1f4c2a(0x6b7),a0_0x1f4c2a(0x593)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'subject':{'type':a0_0x1f4c2a(0x2f1)},'description':{'type':'string'},'profilePicture':{'type':a0_0x1f4c2a(0x2f1)},'participants':{'type':a0_0x1f4c2a(0x3e2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1f4c2a(0x2f1),'minLength':0xa,'pattern':a0_0x1f4c2a(0x41d),'description':a0_0x1f4c2a(0x24a)}}},'required':[a0_0x1f4c2a(0x415),a0_0x1f4c2a(0x527)],...E('subject',a0_0x1f4c2a(0x680),a0_0x1f4c2a(0x6b4))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'groupJid':{'type':'string','pattern':a0_0x1f4c2a(0x1b4)}},'required':[a0_0x1f4c2a(0x212)],...E(a0_0x1f4c2a(0x212))},za={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'groupJid':{'type':a0_0x1f4c2a(0x2f1)},'action':{'type':a0_0x1f4c2a(0x2f1),'enum':[a0_0x1f4c2a(0x39c),a0_0x1f4c2a(0x41e),a0_0x1f4c2a(0x642),a0_0x1f4c2a(0x655)]},'participants':{'type':a0_0x1f4c2a(0x3e2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1f4c2a(0x2f1),'minLength':0xa,'pattern':a0_0x1f4c2a(0x41d),'description':a0_0x1f4c2a(0x24a)}}},'required':[a0_0x1f4c2a(0x212),a0_0x1f4c2a(0x1c6),a0_0x1f4c2a(0x527)],...E(a0_0x1f4c2a(0x212),a0_0x1f4c2a(0x1c6))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'groupJid':{'type':a0_0x1f4c2a(0x2f1)},'expiration':{'type':a0_0x1f4c2a(0x593),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x1f4c2a(0x212),'expiration'],...E(a0_0x1f4c2a(0x212),a0_0x1f4c2a(0x749))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'groupJid':{'type':a0_0x1f4c2a(0x2f1)},'image':{'type':a0_0x1f4c2a(0x2f1)}},'required':[a0_0x1f4c2a(0x212),a0_0x1f4c2a(0x496)],...E(a0_0x1f4c2a(0x212),a0_0x1f4c2a(0x496))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'groupJid':{'type':'string'},'description':{'type':'string'}},'required':[a0_0x1f4c2a(0x212),'description'],...E(a0_0x1f4c2a(0x212),a0_0x1f4c2a(0x680))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'groupJid':{'type':a0_0x1f4c2a(0x2f1)},'name':{'type':a0_0x1f4c2a(0x2f1)}},'required':['groupJid',a0_0x1f4c2a(0x471)],...E(a0_0x1f4c2a(0x212),a0_0x1f4c2a(0x471))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'groupJid':{'type':'string'},'setting':{'type':'string','enum':[a0_0x1f4c2a(0x615),a0_0x1f4c2a(0x3f0),a0_0x1f4c2a(0x1f9),'locked']}},'required':[a0_0x1f4c2a(0x212),a0_0x1f4c2a(0x226)],...E(a0_0x1f4c2a(0x212),a0_0x1f4c2a(0x226))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'inviteCode':{'type':a0_0x1f4c2a(0x2f1)}},'required':[a0_0x1f4c2a(0x16f)],...E('inviteCode')},er={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':a0_0x1f4c2a(0x2f1)},'enabled':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]}},'required':['url','enabled']},ec={'$id':(0x0,C['v4'])(),'type':a0_0x1f4c2a(0x483),'properties':{'local_map':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1f4c2a(0x142),'enum':[!0x0,!0x1]}},'required':[a0_0x1f4c2a(0x329),a0_0x1f4c2a(0x34d),a0_0x1f4c2a(0x435),'MESSAGES_SET',a0_0x1f4c2a(0x2de),'MESSAGES_UPSERT','SEND_MESSAGE',a0_0x1f4c2a(0x3f6),'CONTACTS_UPSERT',a0_0x1f4c2a(0x6bb),'PRESENCE_UPDATE',a0_0x1f4c2a(0x3cf),a0_0x1f4c2a(0x69c),a0_0x1f4c2a(0x141),'CHATS_DELETE',a0_0x1f4c2a(0x2e4),a0_0x1f4c2a(0x4a4),a0_0x1f4c2a(0x4dd),a0_0x1f4c2a(0x3d9)],...E(a0_0x1f4c2a(0x329),a0_0x1f4c2a(0x34d),a0_0x1f4c2a(0x435),a0_0x1f4c2a(0x37e),a0_0x1f4c2a(0x2de),a0_0x1f4c2a(0x352),a0_0x1f4c2a(0x10f),a0_0x1f4c2a(0x3f6),a0_0x1f4c2a(0x46c),a0_0x1f4c2a(0x6bb),'PRESENCE_UPDATE',a0_0x1f4c2a(0x3cf),a0_0x1f4c2a(0x69c),a0_0x1f4c2a(0x141),a0_0x1f4c2a(0x618),a0_0x1f4c2a(0x2e4),a0_0x1f4c2a(0x4a4),a0_0x1f4c2a(0x4dd),'GROUP_PARTICIPANTS_UPDATE')},Ke=class{},Qe=class extends I{[a0_0x1f4c2a(0x3e4)](_0x554fb1){return Gs(_0x554fb1);}async[a0_0x1f4c2a(0x2d2)](_0x5cf4cc){const _0x7903cd=a0_0x1f4c2a;if(_0x5cf4cc[_0x7903cd(0x4c0)]!==0x0)try{return{'insertCount':(await this[_0x7903cd(0x3e4)](_0x5cf4cc[0x0][_0x7903cd(0x5b5)])[_0x7903cd(0x1ac)]([..._0x5cf4cc]))[_0x7903cd(0x4c0)]};}catch(_0x470613){return _0x470613;}}async[a0_0x1f4c2a(0x62c)](_0x5442de,_0x2fda77){const _0x3f8776=a0_0x1f4c2a;try{return{'deletedCount':(await this[_0x3f8776(0x3e4)](_0x2fda77)[_0x3f8776(0x468)]({..._0x5442de['where']}))[_0x3f8776(0x574)]};}catch(_0x1be7ba){return{'error':_0x1be7ba?.[_0x3f8776(0x6f3)]()};}}async[a0_0x1f4c2a(0x64d)](_0x45c149,_0x2c2620){const _0xdc7885=a0_0x1f4c2a;try{if(_0x45c149[_0xdc7885(0x4c0)]===0x0)return;let _0x31512b=this['getContactModelForOwner'](_0x2c2620),_0x3af332=_0x45c149[_0xdc7885(0x441)](_0x36731c=>({'updateOne':{'filter':{'_id':_0x36731c[_0xdc7885(0x273)],'owner':_0x2c2620},'update':{..._0x36731c}}})),{modifiedCount:_0x16f74e}=await _0x31512b[_0xdc7885(0x532)](_0x3af332);return{'insertCount':_0x16f74e};}catch{return;}}async['find'](_0x18beb4,_0x1fe356){const _0x5229c6=a0_0x1f4c2a;try{let _0x3663df=this[_0x5229c6(0x3e4)](_0x1fe356),_0x459d7c=A(_0x18beb4[_0x5229c6(0x45e)]);return await _0x3663df[_0x5229c6(0x34c)](_0x459d7c)[_0x5229c6(0x3a5)](_0x18beb4?.[_0x5229c6(0x3a5)]??0x0)[_0x5229c6(0x14f)]();}catch{return[];}}async['findOne'](_0x1ac618,_0x53c5c9){const _0x55da04=a0_0x1f4c2a;try{let _0x1f08e2=this[_0x55da04(0x3e4)](_0x53c5c9),_0x53287b=A(_0x1ac618[_0x55da04(0x45e)]);return await _0x1f08e2[_0x55da04(0x712)](_0x53287b)[_0x55da04(0x14f)]();}catch{return null;}}async[a0_0x1f4c2a(0x50f)](_0x5e3aa7){const _0x571982=a0_0x1f4c2a;try{return await this[_0x571982(0x3e4)](_0x5e3aa7)[_0x571982(0x498)][_0x571982(0x606)](),{'success':!0x0};}catch(_0x3ce9c0){return console[_0x571982(0x513)](_0x3ce9c0),{'success':!0x1,'error':_0x3ce9c0};}}},Ye=require(a0_0x1f4c2a(0x32f)),lc=require(a0_0x1f4c2a(0x323)),hs=new v(a0_0x1f4c2a(0x684)),q=class{['routerPath'](_0x195286,_0x56d831=!0x0){const _0x4358de=a0_0x1f4c2a;let _0x545571='/'+_0x195286;return _0x56d831&&(_0x545571+=_0x4358de(0x5f4)),_0x545571;}async[a0_0x1f4c2a(0x198)](_0x79bfd1){const _0x5bed97=a0_0x1f4c2a;let {request:_0x4e78c5,schema:_0x5a7497,ClassRef:_0x8e5f55,execute:_0x679188}=_0x79bfd1,_0x783f9a=new _0x8e5f55(),_0x117022=_0x4e78c5[_0x5bed97(0x3c5)],_0x3247ca=_0x4e78c5['params'];_0x4e78c5?.[_0x5bed97(0x2e3)]&&Object['keys'](_0x4e78c5[_0x5bed97(0x2e3)])['length']>0x0&&Object[_0x5bed97(0x46b)](_0x3247ca,_0x4e78c5[_0x5bed97(0x2e3)]),_0x4e78c5[_0x5bed97(0x347)][_0x5bed97(0x5bb)](_0x5bed97(0x5b3))&&Object[_0x5bed97(0x46b)](_0x3247ca,_0x117022),Object[_0x5bed97(0x46b)](_0x783f9a,_0x117022);let _0x1675db=_0x5a7497?(0x0,Ye[_0x5bed97(0x410)])(_0x783f9a,_0x5a7497):{'valid':!0x0,'errors':[]};if(!_0x1675db[_0x5bed97(0x2aa)]){let _0x197324=_0x1675db[_0x5bed97(0x6a1)][_0x5bed97(0x441)](({property:_0x27553d,stack:_0x5de3ea,schema:_0x171905})=>{const _0x3d6653=_0x5bed97;let _0x40e7f7;return _0x171905['description']?_0x40e7f7=_0x171905['description']:_0x40e7f7=_0x5de3ea['replace'](_0x3d6653(0x49c),''),{'property':_0x27553d['replace']('instance.',''),'message':_0x40e7f7};});throw hs[_0x5bed97(0x513)]([..._0x197324]),new m(..._0x197324);}return await _0x679188(_0x3247ca,_0x783f9a);}async[a0_0x1f4c2a(0x4ce)](_0x2d386a){const _0x147aa2=a0_0x1f4c2a;let {request:_0x4f0422,ClassRef:_0x10140a,schema:_0x1778b6,execute:_0xc8de64}=_0x2d386a,_0xb6dd8a=_0x4f0422[_0x147aa2(0x2e3)];if(!_0xb6dd8a?.[_0x147aa2(0x212)])throw new m(_0x147aa2(0xfd),_0x147aa2(0x266));let _0x57f8eb=_0x4f0422[_0x147aa2(0x506)],_0x47052c=_0x4f0422['body'],_0x90bf87=new _0x10140a();Object['assign'](_0x47052c,_0xb6dd8a),Object[_0x147aa2(0x46b)](_0x90bf87,_0x47052c);let _0x2b1146=(0x0,Ye[_0x147aa2(0x410)])(_0x90bf87,_0x1778b6);if(!_0x2b1146[_0x147aa2(0x2aa)]){let _0x157857=_0x2b1146[_0x147aa2(0x6a1)][_0x147aa2(0x441)](({property:_0x157d95,stack:_0x525c3f,schema:_0x1f5600})=>{const _0x3f6b62=_0x147aa2;let _0x495f80;return _0x1f5600['description']?_0x495f80=_0x1f5600['description']:_0x495f80=_0x525c3f[_0x3f6b62(0x6c6)](_0x3f6b62(0x49c),''),{'property':_0x157d95[_0x3f6b62(0x6c6)](_0x3f6b62(0x49c),''),'message':_0x495f80};});throw hs[_0x147aa2(0x513)]([..._0x157857]),new m(..._0x157857);}return await _0xc8de64(_0x57f8eb,_0x90bf87);}async[a0_0x1f4c2a(0x542)](_0x1b6210){const _0x24248e=a0_0x1f4c2a;let {request:_0x3512e8,ClassRef:_0x3aadae,schema:_0x5583fe,execute:_0x2b02b2}=_0x1b6210,_0x5dea22=_0x3512e8[_0x24248e(0x3c5)];if(!_0x5dea22?.[_0x24248e(0x16f)])throw new m(_0x24248e(0x578),_0x24248e(0x1ed));let _0x12b4ed=_0x3512e8[_0x24248e(0x506)],_0x43a734=_0x3512e8[_0x24248e(0x3c5)],_0x358126=new _0x3aadae();Object[_0x24248e(0x46b)](_0x43a734,_0x5dea22),Object[_0x24248e(0x46b)](_0x358126,_0x43a734);let _0x528b58=(0x0,Ye[_0x24248e(0x410)])(_0x358126,_0x5583fe);if(!_0x528b58[_0x24248e(0x2aa)]){let _0x54b82a=_0x528b58[_0x24248e(0x6a1)][_0x24248e(0x441)](({property:_0x5a3f80,stack:_0x12be66,schema:_0x24c7a7})=>{const _0x14eab4=_0x24248e;let _0x1f67fe;return _0x24c7a7[_0x14eab4(0x680)]?_0x1f67fe=_0x24c7a7[_0x14eab4(0x680)]:_0x1f67fe=_0x12be66[_0x14eab4(0x6c6)](_0x14eab4(0x49c),''),{'property':_0x5a3f80[_0x14eab4(0x6c6)](_0x14eab4(0x49c),''),'message':_0x1f67fe};});throw hs['error']([..._0x54b82a]),new m(..._0x54b82a);}return await _0x2b02b2(_0x12b4ed,_0x358126);}},S=class{},vc=new v(a0_0x1f4c2a(0x295)),Xe=class extends q{constructor(..._0x3de1ec){const _0xf098cd=a0_0x1f4c2a;super(),this[_0xf098cd(0x6fa)]=(0x0,tr[_0xf098cd(0x631)])(),this['router']['post'](this[_0xf098cd(0x2e7)](_0xf098cd(0x3ab)),..._0x3de1ec,async(_0x3b38df,_0x1ed0f4)=>{const _0x3ac87a=_0xf098cd;let _0x402531=await this[_0x3ac87a(0x198)]({'request':_0x3b38df,'schema':Ga,'ClassRef':je,'execute':(_0x4513c6,_0x43f155)=>x[_0x3ac87a(0x3ab)](_0x4513c6,_0x43f155)});return _0x1ed0f4[_0x3ac87a(0x6ac)](0xc9)['json'](_0x402531);})['post'](this[_0xf098cd(0x2e7)]('whatsappNumbers'),..._0x3de1ec,async(_0x16c2a1,_0x5545f5)=>{const _0x5ba4ac=_0xf098cd;let _0x30252e=await this['dataValidate']({'request':_0x16c2a1,'schema':$a,'ClassRef':Fe,'execute':(_0x5a5bba,_0x56719e)=>x[_0x5ba4ac(0x234)](_0x5a5bba,_0x56719e)});return _0x5545f5[_0x5ba4ac(0x6ac)](0xc9)[_0x5ba4ac(0x3c7)](_0x30252e);})[_0xf098cd(0x716)](this[_0xf098cd(0x2e7)](_0xf098cd(0x361)),..._0x3de1ec,async(_0x1870a5,_0x2d309d)=>{const _0x253aa4=_0xf098cd;let _0x50cad1=await this[_0x253aa4(0x198)]({'request':_0x1870a5,'schema':M,'ClassRef':S,'execute':(_0x3b17e2,_0x2f5adf)=>x['editChat'](_0x3b17e2,_0x2f5adf)});return _0x2d309d[_0x253aa4(0x6ac)](0xc9)[_0x253aa4(0x3c7)](_0x50cad1);})[_0xf098cd(0x5f2)](this['routerPath'](_0xf098cd(0x261)),..._0x3de1ec,async(_0x375678,_0x25af14)=>{const _0x23142b=_0xf098cd;let _0x48ea47=await this[_0x23142b(0x198)]({'request':_0x375678,'schema':ka,'ClassRef':Je,'execute':(_0x540a1d,_0x2427c0)=>x[_0x23142b(0x6dc)](_0x540a1d,_0x2427c0)});return _0x25af14['status'](0xc9)[_0x23142b(0x3c7)](_0x48ea47);})[_0xf098cd(0x5f2)](this[_0xf098cd(0x2e7)]('archiveChat'),..._0x3de1ec,async(_0x1a8558,_0x2c3a2)=>{const _0x36bb4b=_0xf098cd;let _0x35f1ea=await this[_0x36bb4b(0x198)]({'request':_0x1a8558,'schema':ja,'ClassRef':Ve,'execute':(_0x4f3b72,_0x1a4b95)=>x[_0x36bb4b(0x17e)](_0x4f3b72,_0x1a4b95)});return _0x2c3a2[_0x36bb4b(0x6ac)](0xc9)['json'](_0x35f1ea);})[_0xf098cd(0x62c)](this[_0xf098cd(0x2e7)](_0xf098cd(0x614)),..._0x3de1ec,async(_0xdea29b,_0x3a2b3d)=>{const _0xda9e57=_0xf098cd;let _0x215966=await this['dataValidate']({'request':_0xdea29b,'schema':Fa,'ClassRef':Ge,'execute':(_0x4fb3b7,_0x36ee64)=>x[_0xda9e57(0x550)](_0x4fb3b7,_0x36ee64)});return _0x3a2b3d[_0xda9e57(0x6ac)](0xc9)[_0xda9e57(0x3c7)](_0x215966);})[_0xf098cd(0x716)](this[_0xf098cd(0x2e7)]('fetchProfilePictureUrl'),..._0x3de1ec,async(_0x3f4cab,_0x2b6ef1)=>{const _0x1c4df8=_0xf098cd;let _0x480cf6=await this['dataValidate']({'request':_0x3f4cab,'schema':Se,'ClassRef':be,'execute':(_0x41f57d,_0x12235c)=>x[_0x1c4df8(0x5c5)](_0x41f57d,_0x12235c)});return _0x2b6ef1['status'](0xc8)['json'](_0x480cf6);})[_0xf098cd(0x716)](this['routerPath'](_0xf098cd(0x608)),..._0x3de1ec,async(_0xcc4120,_0x398586)=>{const _0x5d9593=_0xf098cd;let _0x426f06=await this[_0x5d9593(0x198)]({'request':_0xcc4120,'schema':Va,'ClassRef':be,'execute':(_0x1ebadc,_0x5de544)=>x['fetchProfile'](_0x1ebadc,_0x5de544)});return _0x398586[_0x5d9593(0x6ac)](0xc8)[_0x5d9593(0x3c7)](_0x426f06);})[_0xf098cd(0x716)](this[_0xf098cd(0x2e7)](_0xf098cd(0x31e)),..._0x3de1ec,async(_0x115b38,_0x453dbf)=>{const _0x904d9b=_0xf098cd;let _0x136ab4=await this['dataValidate']({'request':_0x115b38,'schema':Ua,'ClassRef':Ke,'execute':(_0x46765f,_0x22c2bc)=>x['fetchContacts'](_0x46765f,_0x22c2bc)});return _0x453dbf[_0x904d9b(0x6ac)](0xc8)[_0x904d9b(0x3c7)](_0x136ab4);})[_0xf098cd(0x716)](this['routerPath'](_0xf098cd(0x16b)),..._0x3de1ec,async(_0x40509e,_0x47c2a0)=>{const _0x39e869=_0xf098cd;let _0x3419f0=await this[_0x39e869(0x198)]({'request':_0x40509e,'schema':null,'ClassRef':Object,'execute':(_0x1ff4b3,_0x18b351)=>x[_0x39e869(0x16b)](_0x1ff4b3,_0x18b351)});return _0x47c2a0['status'](0xc9)[_0x39e869(0x3c7)](_0x3419f0);})[_0xf098cd(0x716)](this['routerPath']('findMessages'),..._0x3de1ec,async(_0x36e569,_0x53ce6a)=>{const _0x2391a6=_0xf098cd;let _0x4f462f=await this[_0x2391a6(0x198)]({'request':_0x36e569,'schema':Ba,'ClassRef':ke,'execute':(_0x3efb18,_0x1f5fbb)=>x[_0x2391a6(0x254)](_0x3efb18,_0x1f5fbb)});return _0x53ce6a['status'](0xc8)[_0x2391a6(0x3c7)](_0x4f462f);})[_0xf098cd(0x67a)](this[_0xf098cd(0x2e7)](_0xf098cd(0x5fa)),..._0x3de1ec,async(_0x46c28b,_0x2d0b65)=>{const _0x554ba0=_0xf098cd;let _0x57cbe9=await this[_0x554ba0(0x198)]({'request':_0x46c28b,'schema':null,'ClassRef':S,'execute':_0x1c2c60=>x[_0x554ba0(0x603)](_0x1c2c60)});return _0x2d0b65['status'](0xc8)[_0x554ba0(0x3c7)](_0x57cbe9);})['get'](this[_0xf098cd(0x2e7)](_0xf098cd(0xf2)),..._0x3de1ec,async(_0x3c1eb5,_0x31fb17)=>{const _0x363caa=_0xf098cd;let _0x312147=await this[_0x363caa(0x198)]({'request':_0x3c1eb5,'schema':null,'ClassRef':S,'execute':_0x422796=>x[_0x363caa(0x14e)](_0x422796)});return _0x31fb17['status'](0xc8)[_0x363caa(0x3c7)](_0x312147);})[_0xf098cd(0x5f2)](this[_0xf098cd(0x2e7)](_0xf098cd(0x5c7)),..._0x3de1ec,async(_0x37e4be,_0x4d8004)=>{const _0x50223c=_0xf098cd;let _0x4f0664=await this[_0x50223c(0x198)]({'request':_0x37e4be,'schema':null,'ClassRef':Array,'execute':(_0x576db1,_0x201751)=>x[_0x50223c(0x5c7)](_0x576db1,_0x201751)});return _0x4d8004[_0x50223c(0x6ac)](0xc8)[_0x50223c(0x3c7)](_0x4f0664);})[_0xf098cd(0x67a)](this[_0xf098cd(0x2e7)](_0xf098cd(0x387)),..._0x3de1ec,async(_0x3c3dd7,_0x376f5a)=>{const _0x5ed714=_0xf098cd;let _0xce9374=await this[_0x5ed714(0x198)]({'request':_0x3c3dd7,'schema':null,'ClassRef':S,'execute':_0x5635f5=>x[_0x5ed714(0x387)](_0x5635f5)});return _0x376f5a[_0x5ed714(0x6ac)](0xc8)[_0x5ed714(0x3c7)](_0xce9374);})[_0xf098cd(0x5f2)](this['routerPath'](_0xf098cd(0x322)),..._0x3de1ec,async(_0x21de0e,_0x5c2d18)=>{const _0x548d55=_0xf098cd;let _0x552a3c=await this['dataValidate']({'request':_0x21de0e,'schema':La,'ClassRef':Be,'execute':(_0x4ab9fc,_0x4bd2b8)=>x['updatePrivacySettings'](_0x4ab9fc,_0x4bd2b8)});return _0x5c2d18[_0x548d55(0x6ac)](0xc9)[_0x548d55(0x3c7)](_0x552a3c);})['post'](this[_0xf098cd(0x2e7)](_0xf098cd(0x320)),..._0x3de1ec,async(_0x5409df,_0x2e4a08)=>{const _0x59cc84=_0xf098cd;let _0x4ba4d7=await this[_0x59cc84(0x198)]({'request':_0x5409df,'schema':Se,'ClassRef':fe,'execute':(_0x257160,_0x41f1ad)=>x[_0x59cc84(0x320)](_0x257160,_0x41f1ad)});return _0x2e4a08[_0x59cc84(0x6ac)](0xc8)['json'](_0x4ba4d7);})[_0xf098cd(0x716)](this[_0xf098cd(0x2e7)](_0xf098cd(0x56e)),..._0x3de1ec,async(_0x125274,_0x11612f)=>{const _0x39509f=_0xf098cd;let _0x25798c=await this[_0x39509f(0x198)]({'request':_0x125274,'schema':qa,'ClassRef':Ue,'execute':(_0x1339f8,_0x4d3c76)=>x['updateProfileName'](_0x1339f8,_0x4d3c76)});return _0x11612f['status'](0xc8)[_0x39509f(0x3c7)](_0x25798c);})[_0xf098cd(0x716)](this[_0xf098cd(0x2e7)](_0xf098cd(0x270)),..._0x3de1ec,async(_0xbb4883,_0x351bf4)=>{const _0x27182d=_0xf098cd;let _0x39ce6d=await this[_0x27182d(0x198)]({'request':_0xbb4883,'schema':Ja,'ClassRef':qe,'execute':(_0x202672,_0x134f4a)=>x[_0x27182d(0x270)](_0x202672,_0x134f4a)});return _0x351bf4[_0x27182d(0x6ac)](0xc8)[_0x27182d(0x3c7)](_0x39ce6d);})[_0xf098cd(0x5f2)](this[_0xf098cd(0x2e7)](_0xf098cd(0x1d5)),..._0x3de1ec,async(_0x241ae1,_0x388363)=>{const _0x42c16b=_0xf098cd;let _0x423957=await this[_0x42c16b(0x198)]({'request':_0x241ae1,'schema':Se,'ClassRef':fe,'execute':(_0x4369ed,_0x9c9563)=>x['updateProfilePicture'](_0x4369ed,_0x9c9563)});return _0x388363[_0x42c16b(0x6ac)](0xc8)['json'](_0x423957);})[_0xf098cd(0x62c)](this[_0xf098cd(0x2e7)]('removeProfilePicture'),..._0x3de1ec,async(_0x338b53,_0x5e1b64)=>{const _0x38a2b0=_0xf098cd;let _0x32db47=await this[_0x38a2b0(0x198)]({'request':_0x338b53,'schema':Se,'ClassRef':fe,'execute':(_0x587c83,_0x299c44)=>x[_0x38a2b0(0x402)](_0x587c83,_0x299c44)});return _0x5e1b64[_0x38a2b0(0x6ac)](0xc8)[_0x38a2b0(0x3c7)](_0x32db47);});}},sr=require(a0_0x1f4c2a(0x4d0)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},rt=class{},it=class extends Y{},ot=class extends Y{},nt=class extends q{constructor(..._0x50b4d2){const _0x25c664=a0_0x1f4c2a;super(),this[_0x25c664(0x6fa)]=(0x0,sr[_0x25c664(0x631)])(),this['router'][_0x25c664(0x716)](this[_0x25c664(0x2e7)](_0x25c664(0x59f)),..._0x50b4d2,async(_0x66741c,_0x3b35f8)=>{const _0x44f434=_0x25c664;let _0x208fe7=await this['dataValidate']({'request':_0x66741c,'schema':Wa,'ClassRef':Ze,'execute':(_0x590e83,_0x23eb4a)=>F[_0x44f434(0x609)](_0x590e83,_0x23eb4a)});_0x3b35f8[_0x44f434(0x6ac)](0xc9)[_0x44f434(0x3c7)](_0x208fe7);})[_0x25c664(0x5f2)](this['routerPath']('updateGroupPicture'),..._0x50b4d2,async(_0x263a2f,_0x1c83ef)=>{const _0xc635fb=_0x25c664;let _0x209939=await this[_0xc635fb(0x4ce)]({'request':_0x263a2f,'schema':Ka,'ClassRef':et,'execute':(_0x6f03ca,_0x406bfb)=>F['updateGroupPicture'](_0x6f03ca,_0x406bfb)});_0x1c83ef['status'](0xc9)[_0xc635fb(0x3c7)](_0x209939);})[_0x25c664(0x5f2)](this[_0x25c664(0x2e7)](_0x25c664(0x619)),..._0x50b4d2,async(_0x554691,_0x4570d1)=>{const _0xbabacc=_0x25c664;let _0x49e53f=await this[_0xbabacc(0x4ce)]({'request':_0x554691,'schema':Qa,'ClassRef':tt,'execute':(_0x336e35,_0x42a049)=>F[_0xbabacc(0x619)](_0x336e35,_0x42a049)});_0x4570d1[_0xbabacc(0x6ac)](0xc9)[_0xbabacc(0x3c7)](_0x49e53f);})[_0x25c664(0x5f2)](this[_0x25c664(0x2e7)](_0x25c664(0xeb)),..._0x50b4d2,async(_0x30a1fe,_0x100b20)=>{const _0x4f15df=_0x25c664;let _0x1b714c=await this[_0x4f15df(0x4ce)]({'request':_0x30a1fe,'schema':Ya,'ClassRef':st,'execute':(_0xe6773c,_0x1bb99c)=>F[_0x4f15df(0xeb)](_0xe6773c,_0x1bb99c)});_0x100b20['status'](0xc9)[_0x4f15df(0x3c7)](_0x1b714c);})[_0x25c664(0x5f2)](this['routerPath'](_0x25c664(0x143)),..._0x50b4d2,async(_0x126988,_0x1dc14d)=>{const _0x3eab95=_0x25c664;let _0x429c4a=await this[_0x3eab95(0x4ce)]({'request':_0x126988,'schema':Xa,'ClassRef':at,'execute':(_0x331040,_0x1e2e2b)=>F['groupSetting'](_0x331040,_0x1e2e2b)});_0x1dc14d[_0x3eab95(0x6ac)](0xc9)[_0x3eab95(0x3c7)](_0x429c4a);})[_0x25c664(0x5f2)](this[_0x25c664(0x2e7)](_0x25c664(0x440)),..._0x50b4d2,async(_0x508c75,_0x504133)=>{const _0x1945b2=_0x25c664;let _0x1691df=await this[_0x1945b2(0x4ce)]({'request':_0x508c75,'schema':Ha,'ClassRef':ot,'execute':(_0x419d79,_0x5041de)=>F['toggleEphemeral'](_0x419d79,_0x5041de)});_0x504133[_0x1945b2(0x6ac)](0xc9)[_0x1945b2(0x3c7)](_0x1691df);})[_0x25c664(0x67a)](this['routerPath'](_0x25c664(0x731)),..._0x50b4d2,async(_0x420f86,_0x4bcbf2)=>{const _0x3b7351=_0x25c664;let _0x345853=await this['groupValidate']({'request':_0x420f86,'schema':Ee,'ClassRef':Y,'execute':(_0x192693,_0x3b68dc)=>F[_0x3b7351(0x5e6)](_0x192693,_0x3b68dc)});_0x4bcbf2['status'](0xc8)['json'](_0x345853);})[_0x25c664(0x67a)](this[_0x25c664(0x2e7)](_0x25c664(0x73b)),..._0x50b4d2,async(_0x539ade,_0x10a700)=>{const _0x5e0e16=_0x25c664;let _0x32da99=await this[_0x5e0e16(0x198)]({'request':_0x539ade,'schema':M,'ClassRef':S,'execute':_0x317446=>F[_0x5e0e16(0x73b)](_0x317446)});_0x10a700[_0x5e0e16(0x6ac)](0xc8)['json'](_0x32da99);})[_0x25c664(0x67a)](this[_0x25c664(0x2e7)]('participants'),..._0x50b4d2,async(_0x5a573e,_0x4d8914)=>{const _0x251264=_0x25c664;let _0x39e133=await this['groupValidate']({'request':_0x5a573e,'schema':Ee,'ClassRef':Y,'execute':(_0x36a6f4,_0x50ae00)=>F[_0x251264(0x705)](_0x36a6f4,_0x50ae00)});_0x4d8914[_0x251264(0x6ac)](0xc8)['json'](_0x39e133);})[_0x25c664(0x67a)](this[_0x25c664(0x2e7)]('inviteCode'),..._0x50b4d2,async(_0x482f59,_0x2236e4)=>{const _0x15a168=_0x25c664;let _0x467d69=await this[_0x15a168(0x4ce)]({'request':_0x482f59,'schema':Ee,'ClassRef':Y,'execute':(_0x17677c,_0x418d6d)=>F['inviteCode'](_0x17677c,_0x418d6d)});_0x2236e4['status'](0xc8)[_0x15a168(0x3c7)](_0x467d69);})[_0x25c664(0x5f2)](this[_0x25c664(0x2e7)](_0x25c664(0x720)),..._0x50b4d2,async(_0x2595e4,_0x51370c)=>{const _0xe831c5=_0x25c664;let _0x3cb622=await this[_0xe831c5(0x542)]({'request':_0x2595e4,'schema':Za,'ClassRef':rt,'execute':(_0x2d8474,_0x1ebe37)=>F[_0xe831c5(0x720)](_0x2d8474,_0x1ebe37)});_0x51370c['status'](0xc9)['json'](_0x3cb622);})[_0x25c664(0x5f2)](this[_0x25c664(0x2e7)](_0x25c664(0x20c)),..._0x50b4d2,async(_0x3a1477,_0x13b948)=>{const _0x4c71a3=_0x25c664;let _0x170027=await this[_0x4c71a3(0x4ce)]({'request':_0x3a1477,'schema':Ee,'ClassRef':Y,'execute':(_0x524a17,_0x46e1cc)=>F[_0x4c71a3(0x20c)](_0x524a17,_0x46e1cc)});_0x13b948[_0x4c71a3(0x6ac)](0xc9)[_0x4c71a3(0x3c7)](_0x170027);})[_0x25c664(0x5f2)](this[_0x25c664(0x2e7)](_0x25c664(0x199)),..._0x50b4d2,async(_0x15cf5c,_0x407e0f)=>{const _0x560b61=_0x25c664;let _0x49ec5d=await this[_0x560b61(0x4ce)]({'request':_0x15cf5c,'schema':za,'ClassRef':it,'execute':(_0xf06ca8,_0x216f7a)=>F[_0x560b61(0x47f)](_0xf06ca8,_0x216f7a)});_0x407e0f[_0x560b61(0x6ac)](0xc9)[_0x560b61(0x3c7)](_0x49ec5d);})[_0x25c664(0x62c)](this['routerPath'](_0x25c664(0x197)),..._0x50b4d2,async(_0x10d467,_0x5cac8c)=>{const _0x386643=_0x25c664;let _0x2f6dc4=await this[_0x386643(0x4ce)]({'request':_0x10d467,'schema':{},'ClassRef':Y,'execute':(_0xa8af22,_0x456566)=>F[_0x386643(0x197)](_0xa8af22,_0x456566)});_0x5cac8c[_0x386643(0x6ac)](0xc8)[_0x386643(0x3c7)](_0x2f6dc4);});}},ar=require(a0_0x1f4c2a(0x4d0)),ct=class extends q{constructor(_0x3d71f1,..._0x3061e8){const _0xa7c5bd=a0_0x1f4c2a;super(),this[_0xa7c5bd(0x1a6)]=_0x3d71f1,this[_0xa7c5bd(0x6fa)]=(0x0,ar[_0xa7c5bd(0x631)])();let _0x13319e=_0x3d71f1['get']('AUTHENTICATION');this['router']['post']('/create',..._0x3061e8,async(_0x3bd783,_0x402c08)=>{const _0x53da37=_0xa7c5bd;let {instanceName:_0x2a4cea,apikey:_0x3322ec,number:_0x3e5953}=_0x3bd783[_0x53da37(0x3c5)],_0x52526a=await re[_0x53da37(0x22d)]({'instanceName':_0x2a4cea,'apikey':_0x3322ec,'number':_0x3e5953});return _0x402c08[_0x53da37(0x6ac)](0xc9)[_0x53da37(0x3c7)](_0x52526a);})[_0xa7c5bd(0x5f2)](this[_0xa7c5bd(0x2e7)]('restart'),..._0x3061e8,async(_0x17cfbb,_0x3e84ce)=>{const _0xe1e537=_0xa7c5bd;let _0x363de3=await this[_0xe1e537(0x198)]({'request':_0x17cfbb,'schema':M,'ClassRef':S,'execute':_0x307b71=>re[_0xe1e537(0x14b)](_0x307b71)});return _0x3e84ce[_0xe1e537(0x6ac)](0xc8)[_0xe1e537(0x3c7)](_0x363de3);})['get'](this[_0xa7c5bd(0x2e7)]('connect'),..._0x3061e8,async(_0x55b176,_0x234517)=>{const _0x31cd08=_0xa7c5bd;let _0x26f105=await this[_0x31cd08(0x198)]({'request':_0x55b176,'schema':M,'ClassRef':S,'execute':_0x1fc871=>re[_0x31cd08(0x643)](_0x1fc871)});return _0x234517['status'](0xc8)[_0x31cd08(0x3c7)](_0x26f105);})[_0xa7c5bd(0x67a)](this[_0xa7c5bd(0x2e7)]('connectionState'),..._0x3061e8,async(_0x287b31,_0x294440)=>{const _0x1200ef=_0xa7c5bd;let _0x93c9da=await this[_0x1200ef(0x198)]({'request':_0x287b31,'schema':M,'ClassRef':S,'execute':_0x1dc7e1=>re[_0x1200ef(0x637)](_0x1dc7e1)});return _0x294440[_0x1200ef(0x6ac)](0xc8)[_0x1200ef(0x3c7)](_0x93c9da);})['get'](this[_0xa7c5bd(0x2e7)]('fetchInstances',!0x1),..._0x3061e8,async(_0x4fe699,_0x557095)=>{const _0x3c8d10=_0xa7c5bd;let _0x2f58ee=await this[_0x3c8d10(0x198)]({'request':_0x4fe699,'schema':null,'ClassRef':S,'execute':_0x4c5bf6=>re[_0x3c8d10(0x189)](_0x4c5bf6)});return _0x557095[_0x3c8d10(0x6ac)](0xc8)[_0x3c8d10(0x3c7)](_0x2f58ee);})['delete'](this[_0xa7c5bd(0x2e7)](_0xa7c5bd(0x645)),..._0x3061e8,async(_0x5ed666,_0x4cfad8)=>{const _0x91e92=_0xa7c5bd;let _0x383f5a=await this[_0x91e92(0x198)]({'request':_0x5ed666,'schema':M,'ClassRef':S,'execute':_0x4df32e=>re['logout'](_0x4df32e)});return _0x4cfad8[_0x91e92(0x6ac)](0xc8)['json'](_0x383f5a);})['delete'](this[_0xa7c5bd(0x2e7)]('delete'),..._0x3061e8,async(_0x5b8c41,_0x3bc942)=>{const _0x1e5aed=_0xa7c5bd;let _0x4fc62b=await this[_0x1e5aed(0x198)]({'request':_0x5b8c41,'schema':M,'ClassRef':S,'execute':_0x185758=>re['deleteInstance'](_0x185758)});return _0x3bc942[_0x1e5aed(0x6ac)](0xc8)[_0x1e5aed(0x3c7)](_0x4fc62b);});}},rr=require('express'),gs=class{},W=class extends gs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},ht=class extends W{},gt=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends q{constructor(..._0xc4cfce){const _0x5e35fc=a0_0x1f4c2a;super(),this[_0x5e35fc(0x6fa)]=(0x0,rr[_0x5e35fc(0x631)])(),this[_0x5e35fc(0x6fa)][_0x5e35fc(0x716)](this[_0x5e35fc(0x2e7)](_0x5e35fc(0x528)),..._0xc4cfce,async(_0x240056,_0x5ccae0)=>{const _0x193dc0=_0x5e35fc;let _0x34c9c4=await this[_0x193dc0(0x198)]({'request':_0x240056,'schema':Ca,'ClassRef':lt,'execute':(_0x1a0069,_0x5b6999)=>G[_0x193dc0(0x528)](_0x1a0069,_0x5b6999)});return _0x5ccae0[_0x193dc0(0x6ac)](0xc9)[_0x193dc0(0x3c7)](_0x34c9c4);})[_0x5e35fc(0x716)](this[_0x5e35fc(0x2e7)](_0x5e35fc(0x2c0)),..._0xc4cfce,async(_0x90218a,_0x2d29a5)=>{const _0x285e07=_0x5e35fc;let _0x5afd8a=await this[_0x285e07(0x198)]({'request':_0x90218a,'schema':Ra,'ClassRef':Ce,'execute':(_0x4cdd8a,_0x2a1408)=>G[_0x285e07(0x2c0)](_0x4cdd8a,_0x2a1408)});return _0x2d29a5['status'](0xc9)[_0x285e07(0x3c7)](_0x5afd8a);})[_0x5e35fc(0x716)](this['routerPath'](_0x5e35fc(0xdc)),..._0xc4cfce,async(_0x5c833b,_0x8bbee4)=>{const _0x33eaac=_0x5e35fc;let _0x550dfb=await this[_0x33eaac(0x198)]({'request':_0x5c833b,'schema':Oa,'ClassRef':pt,'execute':(_0x1b2823,_0x2ef0ae)=>G[_0x33eaac(0xdc)](_0x1b2823,_0x2ef0ae)});return _0x8bbee4['status'](0xc9)['json'](_0x550dfb);})[_0x5e35fc(0x716)](this[_0x5e35fc(0x2e7)](_0x5e35fc(0x41c)),..._0xc4cfce,async(_0x2aaa6d,_0x584451)=>{const _0xcdfe53=_0x5e35fc;let _0x47413e=await this[_0xcdfe53(0x198)]({'request':_0x2aaa6d,'schema':Ta,'ClassRef':Ce,'execute':(_0x1bcfc7,_0x5384b0)=>G[_0xcdfe53(0x41c)](_0x1bcfc7,_0x5384b0)});return _0x584451[_0xcdfe53(0x6ac)](0xc9)[_0xcdfe53(0x3c7)](_0x47413e);})[_0x5e35fc(0x716)](this[_0x5e35fc(0x2e7)]('sendButtons'),..._0xc4cfce,async(_0x521335,_0x206a8a)=>{const _0x45a744=_0x5e35fc;let _0x554592=await this['dataValidate']({'request':_0x521335,'schema':Ia,'ClassRef':gt,'execute':(_0x37666d,_0x244b1d)=>G[_0x45a744(0x50e)](_0x37666d,_0x244b1d)});return _0x206a8a[_0x45a744(0x6ac)](0xc9)[_0x45a744(0x3c7)](_0x554592);})[_0x5e35fc(0x716)](this[_0x5e35fc(0x2e7)](_0x5e35fc(0x5ec)),..._0xc4cfce,async(_0x37f62e,_0x4a615e)=>{const _0x3238ab=_0x5e35fc;let _0x4bf3f1=await this[_0x3238ab(0x198)]({'request':_0x37f62e,'schema':xa,'ClassRef':mt,'execute':(_0x825447,_0x566201)=>G['sendLocation'](_0x825447,_0x566201)});return _0x4a615e[_0x3238ab(0x6ac)](0xc9)[_0x3238ab(0x3c7)](_0x4bf3f1);})[_0x5e35fc(0x716)](this[_0x5e35fc(0x2e7)](_0x5e35fc(0x504)),..._0xc4cfce,async(_0x52af1d,_0x4fe9a9)=>{const _0x3549e2=_0x5e35fc;let _0x38ee25=await this[_0x3549e2(0x198)]({'request':_0x52af1d,'schema':Da,'ClassRef':ft,'execute':(_0xdb6673,_0x16a30e)=>G[_0x3549e2(0x504)](_0xdb6673,_0x16a30e)});return _0x4fe9a9[_0x3549e2(0x6ac)](0xc9)['json'](_0x38ee25);})[_0x5e35fc(0x716)](this[_0x5e35fc(0x2e7)](_0x5e35fc(0xe8)),..._0xc4cfce,async(_0x102035,_0x451a3b)=>{const _0x1ecbb0=_0x5e35fc;let _0x21947a=await this[_0x1ecbb0(0x198)]({'request':_0x102035,'schema':_a,'ClassRef':wt,'execute':(_0xca5c33,_0x5836c7)=>G['sendContact'](_0xca5c33,_0x5836c7)});return _0x451a3b[_0x1ecbb0(0x6ac)](0xc9)[_0x1ecbb0(0x3c7)](_0x21947a);})[_0x5e35fc(0x716)](this[_0x5e35fc(0x2e7)](_0x5e35fc(0x457)),..._0xc4cfce,async(_0x487441,_0x33ca1b)=>{const _0x39606d=_0x5e35fc;let _0x6f5ea9=await this['dataValidate']({'request':_0x487441,'schema':Pa,'ClassRef':yt,'execute':(_0x4f0b69,_0x1e1fd4)=>G['sendReaction'](_0x4f0b69,_0x1e1fd4)});return _0x33ca1b[_0x39606d(0x6ac)](0xc9)[_0x39606d(0x3c7)](_0x6f5ea9);})['post'](this[_0x5e35fc(0x2e7)](_0x5e35fc(0x3d7)),..._0xc4cfce,async(_0xa2dd2f,_0x27473f)=>{const _0x77ec61=_0x5e35fc;let _0x5bf1a7=await this[_0x77ec61(0x198)]({'request':_0xa2dd2f,'schema':Aa,'ClassRef':dt,'execute':(_0x441ae9,_0x200f8c)=>G['sendPoll'](_0x441ae9,_0x200f8c)});return _0x27473f[_0x77ec61(0x6ac)](0xc9)[_0x77ec61(0x3c7)](_0x5bf1a7);})['post'](this['routerPath'](_0x5e35fc(0x4bd)),..._0xc4cfce,async(_0x1e80f7,_0x37d027)=>{const _0x38f6d0=_0x5e35fc;let _0x3ee4cb=await this[_0x38f6d0(0x198)]({'request':_0x1e80f7,'schema':Na,'ClassRef':ut,'execute':(_0x534db5,_0x3f4543)=>G[_0x38f6d0(0x4bd)](_0x534db5,_0x3f4543)});return _0x37d027['status'](0xc9)['json'](_0x3ee4cb);})['post'](this['routerPath']('sendSticker'),..._0xc4cfce,async(_0x35558c,_0x265c38)=>{const _0x46528f=_0x5e35fc;let _0x5e38c9=await this[_0x46528f(0x198)]({'request':_0x35558c,'schema':va,'ClassRef':ht,'execute':(_0x537927,_0xd2e5fd)=>G[_0x46528f(0x134)](_0x537927,_0xd2e5fd)});return _0x265c38[_0x46528f(0x6ac)](0xc9)['json'](_0x5e38c9);});}},ir=require(a0_0x1f4c2a(0x4d0)),St=class{},Et=class extends q{constructor(..._0x38f89b){const _0x375bf4=a0_0x1f4c2a;super(),this[_0x375bf4(0x6fa)]=(0x0,ir[_0x375bf4(0x631)])(),this['router'][_0x375bf4(0x716)](this[_0x375bf4(0x2e7)](_0x375bf4(0x229)),..._0x38f89b,async(_0xbd5630,_0x2c4cf8)=>{const _0x8ae895=_0x375bf4;let _0x4f92df=await this[_0x8ae895(0x198)]({'request':_0xbd5630,'schema':er,'ClassRef':St,'execute':(_0x125f28,_0x2e0bfb)=>ms[_0x8ae895(0x363)](_0x125f28,_0x2e0bfb)});_0x2c4cf8[_0x8ae895(0x6ac)](0xc9)['json'](_0x4f92df);})[_0x375bf4(0x67a)](this[_0x375bf4(0x2e7)](_0x375bf4(0x34c)),..._0x38f89b,async(_0x21f941,_0xeedd17)=>{const _0x7f42a2=_0x375bf4;let _0x4e2cac=await this[_0x7f42a2(0x198)]({'request':_0x21f941,'schema':M,'ClassRef':S,'execute':_0x44d5ba=>ms[_0x7f42a2(0x4e0)](_0x44d5ba)});_0xeedd17['status'](0xc8)[_0x7f42a2(0x3c7)](_0x4e2cac);});}},or=require('express'),f=new v('FlowRouter'),Ct=class extends q{constructor(..._0x242f08){const _0x17010c=a0_0x1f4c2a;super(),this['router']=(0x0,or[_0x17010c(0x631)])(),this[_0x17010c(0x6fa)][_0x17010c(0x716)](this[_0x17010c(0x2e7)](_0x17010c(0x3f4)),..._0x242f08,async(_0x34d02a,_0x15bb1e)=>{const _0x16f04a=_0x17010c;let _0x9a4a14=_0x34d02a[_0x16f04a(0x3c5)];f[_0x16f04a(0x204)](_0x16f04a(0x207)),f[_0x16f04a(0x204)](_0x16f04a(0x30d)),f['verbose'](_0x34d02a[_0x16f04a(0x3c5)]);let _0x24922c=await this[_0x16f04a(0x198)]({'request':_0x34d02a,'schema':M,'ClassRef':S,'execute':_0x4d9c94=>T[_0x16f04a(0x30e)](_0x4d9c94,_0x9a4a14)});_0x15bb1e[_0x16f04a(0x6ac)](0xc8)[_0x16f04a(0x3c7)](_0x24922c);})[_0x17010c(0x67a)](this[_0x17010c(0x2e7)](_0x17010c(0x3f4)),..._0x242f08,async(_0x2063c5,_0x55a1a8)=>{const _0x3fea95=_0x17010c;let _0x741f0=await this[_0x3fea95(0x198)]({'request':_0x2063c5,'schema':M,'ClassRef':S,'execute':_0x53ff5a=>T[_0x3fea95(0x598)](_0x53ff5a)});_0x55a1a8[_0x3fea95(0x6ac)](0xc8)['json'](_0x741f0);})[_0x17010c(0x62c)](this[_0x17010c(0x2e7)](_0x17010c(0x648)),..._0x242f08,async(_0x5629de,_0x4f54df)=>{const _0x188ff6=_0x17010c;f[_0x188ff6(0x204)](_0x188ff6(0x40c));let _0x456d42=await this[_0x188ff6(0x198)]({'request':_0x5629de,'schema':M,'ClassRef':S,'execute':_0x25450f=>T[_0x188ff6(0x648)](_0x25450f)});_0x4f54df[_0x188ff6(0x6ac)](0xc8)['json'](_0x456d42);})['post'](this[_0x17010c(0x2e7)]('startFlow'),..._0x242f08,async(_0x2c565c,_0x34b50d)=>{const _0x3050bd=_0x17010c;let _0x5ab2ed=_0x2c565c[_0x3050bd(0x3c5)];f['verbose']('request\x20received\x20in\x20starFlow'),f[_0x3050bd(0x204)](_0x3050bd(0x30d)),f[_0x3050bd(0x204)](_0x2c565c[_0x3050bd(0x3c5)]);let _0x5e4294=await this['dataValidate']({'request':_0x2c565c,'schema':M,'ClassRef':S,'execute':_0x448895=>T['startFlow'](_0x448895,_0x5ab2ed)});_0x34b50d[_0x3050bd(0x6ac)](0xc8)[_0x3050bd(0x3c7)](_0x5e4294);})[_0x17010c(0x67a)](this[_0x17010c(0x2e7)](_0x17010c(0x228)),..._0x242f08,async(_0x18a9ec,_0x116565)=>{const _0xfcca45=_0x17010c;f[_0xfcca45(0x204)](_0xfcca45(0x5b1));let _0x49cb0b=await this['dataValidate']({'request':_0x18a9ec,'schema':M,'ClassRef':S,'execute':_0x5a7040=>T['getAutomateSystem'](_0x5a7040)});_0x116565[_0xfcca45(0x6ac)](0xc8)['json'](_0x49cb0b);})[_0x17010c(0x67a)](this['routerPath']('getTicketSystem'),..._0x242f08,async(_0x8ec7b0,_0x17fe6c)=>{const _0x4bd460=_0x17010c;f[_0x4bd460(0x204)](_0x4bd460(0x425));let _0x2d5f30=await this[_0x4bd460(0x198)]({'request':_0x8ec7b0,'schema':M,'ClassRef':S,'execute':_0x5ac5d8=>T[_0x4bd460(0x228)](_0x5ac5d8)});_0x17fe6c['status'](0xc8)['json'](_0x2d5f30);})[_0x17010c(0x716)](this[_0x17010c(0x2e7)](_0x17010c(0x2ad)),..._0x242f08,async(_0x1fdee0,_0x5a0450)=>{const _0x3b6610=_0x17010c;let _0x562158=_0x1fdee0[_0x3b6610(0x3c5)];f['verbose'](_0x3b6610(0x3aa)),f[_0x3b6610(0x204)](_0x3b6610(0x30d)),f[_0x3b6610(0x204)](_0x1fdee0[_0x3b6610(0x3c5)]);let _0x49026e=await this[_0x3b6610(0x198)]({'request':_0x1fdee0,'schema':M,'ClassRef':S,'execute':_0x3d084c=>T[_0x3b6610(0x2ad)](_0x3d084c,_0x562158)});_0x5a0450[_0x3b6610(0x6ac)](0xc8)[_0x3b6610(0x3c7)](_0x49026e);})[_0x17010c(0x716)](this['routerPath'](_0x17010c(0x3b0)),..._0x242f08,async(_0x58af9b,_0xe0dd1)=>{const _0x2f019a=_0x17010c;let _0x339530=_0x58af9b[_0x2f019a(0x3c5)];f[_0x2f019a(0x204)](_0x2f019a(0x3ba)),f[_0x2f019a(0x204)](_0x2f019a(0x30d)),f[_0x2f019a(0x204)](_0x58af9b['body']);let _0xfc3ee2=await this['dataValidate']({'request':_0x58af9b,'schema':M,'ClassRef':S,'execute':_0x29c328=>T[_0x2f019a(0x3b0)](_0x29c328,_0x339530)});_0xe0dd1[_0x2f019a(0x6ac)](0xc8)[_0x2f019a(0x3c7)](_0xfc3ee2);})['post'](this[_0x17010c(0x2e7)](_0x17010c(0xe2)),..._0x242f08,async(_0x5e5c29,_0xa6005f)=>{const _0x8a8aae=_0x17010c;let _0x590b36=_0x5e5c29['body'];f[_0x8a8aae(0x204)]('request\x20received\x20in\x20updateFlowConfig'),f[_0x8a8aae(0x204)](_0x8a8aae(0x30d)),f['verbose'](_0x5e5c29[_0x8a8aae(0x3c5)]);let _0x13d7ac=await this['dataValidate']({'request':_0x5e5c29,'schema':M,'ClassRef':S,'execute':_0x40ad2c=>T['updateFlowConfig'](_0x40ad2c,_0x590b36)});_0xa6005f[_0x8a8aae(0x6ac)](0xc8)['json'](_0x13d7ac);})['post'](this['routerPath'](_0x17010c(0x5a4)),..._0x242f08,async(_0x14bae9,_0x1a678c)=>{const _0x438a7f=_0x17010c;let _0x3083ad=_0x14bae9[_0x438a7f(0x3c5)];f[_0x438a7f(0x204)]('request\x20received\x20in\x20getConversation'),f[_0x438a7f(0x204)](_0x438a7f(0x30d)),f[_0x438a7f(0x204)](_0x14bae9[_0x438a7f(0x3c5)]);let _0x3061e1=await this[_0x438a7f(0x198)]({'request':_0x14bae9,'schema':M,'ClassRef':S,'execute':_0x22f6e5=>T[_0x438a7f(0x5a4)](_0x22f6e5,_0x3083ad)});_0x1a678c[_0x438a7f(0x6ac)](0xc8)[_0x438a7f(0x3c7)](_0x3061e1);})['post'](this[_0x17010c(0x2e7)](_0x17010c(0x377)),..._0x242f08,async(_0x35062b,_0x33f949)=>{const _0x3d029c=_0x17010c;let _0x296b4d=_0x35062b['body'];f[_0x3d029c(0x204)]('request\x20received\x20in\x20fetchConversation'),f['verbose'](_0x3d029c(0x30d)),f['verbose'](_0x35062b[_0x3d029c(0x3c5)]);let _0x32abf4=await this[_0x3d029c(0x198)]({'request':_0x35062b,'schema':M,'ClassRef':S,'execute':_0x502d6c=>T[_0x3d029c(0x377)](_0x502d6c,_0x296b4d)});_0x33f949[_0x3d029c(0x6ac)](0xc8)[_0x3d029c(0x3c7)](_0x32abf4);})[_0x17010c(0x716)](this[_0x17010c(0x2e7)](_0x17010c(0x55d)),..._0x242f08,async(_0x38b0da,_0x4e32d4)=>{const _0x20f291=_0x17010c;let _0x3abdc5=_0x38b0da[_0x20f291(0x3c5)];f['verbose']('request\x20received\x20in\x20editConversation'),f['verbose']('request\x20body:\x20'),f[_0x20f291(0x204)](_0x38b0da[_0x20f291(0x3c5)]);let _0x54f520=await this[_0x20f291(0x198)]({'request':_0x38b0da,'schema':M,'ClassRef':S,'execute':_0x308033=>T['editConversation'](_0x308033,_0x3abdc5)});_0x4e32d4['status'](0xc8)[_0x20f291(0x3c7)](_0x54f520);})[_0x17010c(0x62c)](this['routerPath'](_0x17010c(0x5f7)),..._0x242f08,async(_0x4fa873,_0x22dff3)=>{const _0x3992df=_0x17010c;let _0xd6e5f1=_0x4fa873[_0x3992df(0x3c5)];f[_0x3992df(0x204)](_0x3992df(0x148)),f[_0x3992df(0x204)](_0x3992df(0x30d)),f['verbose'](_0x4fa873[_0x3992df(0x3c5)]);let _0x5d7648=await this[_0x3992df(0x198)]({'request':_0x4fa873,'schema':M,'ClassRef':S,'execute':_0x183e93=>T[_0x3992df(0x5f7)](_0x183e93,_0xd6e5f1)});_0x22dff3[_0x3992df(0x6ac)](0xc8)[_0x3992df(0x3c7)](_0x5d7648);})[_0x17010c(0x716)](this['routerPath'](_0x17010c(0x3a4)),..._0x242f08,async(_0x1d90eb,_0x41ad5d)=>{const _0x38861a=_0x17010c;let _0x5e68e4=_0x1d90eb[_0x38861a(0x3c5)];f[_0x38861a(0x204)]('request\x20received\x20in\x20createFlow'),f[_0x38861a(0x204)]('request\x20body:\x20'),f[_0x38861a(0x204)](_0x1d90eb['body']);let _0x139caa=await this['dataValidate']({'request':_0x1d90eb,'schema':M,'ClassRef':S,'execute':_0x493c1a=>T[_0x38861a(0x57c)](_0x493c1a,_0x5e68e4)});_0x41ad5d['status'](0xc8)[_0x38861a(0x3c7)](_0x139caa);})[_0x17010c(0x716)](this['routerPath'](_0x17010c(0x110)),..._0x242f08,async(_0x5184b9,_0x501b00)=>{const _0x61e898=_0x17010c;let _0x287c9d=_0x5184b9['body'];f[_0x61e898(0x204)]('request\x20received\x20in\x20editFlow'),f[_0x61e898(0x204)]('request\x20body:\x20'),f['verbose'](_0x5184b9[_0x61e898(0x3c5)]),delete _0x287c9d[_0x61e898(0x3a8)],delete _0x287c9d['variables'],delete _0x287c9d['groups'],delete _0x287c9d[_0x61e898(0x11d)];let _0x48c4d9=await this[_0x61e898(0x198)]({'request':_0x5184b9,'schema':M,'ClassRef':S,'execute':_0x4d0885=>T[_0x61e898(0x72b)](_0x4d0885,_0x287c9d)});_0x501b00[_0x61e898(0x6ac)](0xc8)[_0x61e898(0x3c7)](_0x48c4d9);})[_0x17010c(0x716)](this['routerPath'](_0x17010c(0x357)),..._0x242f08,async(_0x110633,_0x2466f1)=>{const _0x292077=_0x17010c;let _0x2f96b6=_0x110633[_0x292077(0x3c5)];f['verbose'](_0x292077(0x1d0)),f[_0x292077(0x204)](_0x292077(0x30d)),f[_0x292077(0x204)](_0x110633[_0x292077(0x3c5)]);let _0x5a4cff=await this['dataValidate']({'request':_0x110633,'schema':M,'ClassRef':S,'execute':_0x579c48=>T[_0x292077(0x28a)](_0x579c48,_0x2f96b6)});_0x2466f1[_0x292077(0x6ac)](0xc8)['json'](_0x5a4cff);})[_0x17010c(0x716)](this[_0x17010c(0x2e7)](_0x17010c(0xed)),..._0x242f08,async(_0x4f0af4,_0x1e6194)=>{const _0x54472c=_0x17010c;let _0x306239=_0x4f0af4[_0x54472c(0x3c5)];f[_0x54472c(0x204)](_0x54472c(0x1d0)),f[_0x54472c(0x204)](_0x54472c(0x30d)),f[_0x54472c(0x204)](_0x4f0af4[_0x54472c(0x3c5)]);let _0x47717e=await this[_0x54472c(0x198)]({'request':_0x4f0af4,'schema':M,'ClassRef':S,'execute':_0x59bab9=>T[_0x54472c(0x6ff)](_0x59bab9,_0x306239)});_0x1e6194[_0x54472c(0x6ac)](0xc8)['json'](_0x47717e);})[_0x17010c(0x716)](this[_0x17010c(0x2e7)](_0x17010c(0x188)),..._0x242f08,async(_0x46ae36,_0x11aea2)=>{const _0x46185a=_0x17010c;let _0x12f01c=_0x46ae36[_0x46185a(0x3c5)];f['verbose'](_0x46185a(0x1d0)),f[_0x46185a(0x204)](_0x46185a(0x30d)),f[_0x46185a(0x204)](_0x46ae36[_0x46185a(0x3c5)]);let _0x137270=await this[_0x46185a(0x198)]({'request':_0x46ae36,'schema':M,'ClassRef':S,'execute':_0x58fa75=>T[_0x46185a(0x3c2)](_0x58fa75,_0x12f01c)});_0x11aea2['status'](0xc8)[_0x46185a(0x3c7)](_0x137270);})[_0x17010c(0x716)](this[_0x17010c(0x2e7)]('editflowgroup'),..._0x242f08,async(_0x531ed8,_0x1303bc)=>{const _0xe42a1d=_0x17010c;let _0xb71bf9=_0x531ed8[_0xe42a1d(0x3c5)];f['verbose']('request\x20received\x20in\x20editFlowgroup'),f[_0xe42a1d(0x204)](_0xe42a1d(0x30d)),f[_0xe42a1d(0x204)](_0x531ed8[_0xe42a1d(0x3c5)]);let _0x51c19f=await this['dataValidate']({'request':_0x531ed8,'schema':M,'ClassRef':S,'execute':_0x519fcf=>T[_0xe42a1d(0x677)](_0x519fcf,_0xb71bf9)});_0x1303bc[_0xe42a1d(0x6ac)](0xc8)[_0xe42a1d(0x3c7)](_0x51c19f);})[_0x17010c(0x716)](this['routerPath'](_0x17010c(0x13b)),..._0x242f08,async(_0x22e6a8,_0x2fb91f)=>{const _0x2a9983=_0x17010c;let _0x38095e=_0x22e6a8[_0x2a9983(0x3c5)];f[_0x2a9983(0x204)](_0x2a9983(0x367)),f[_0x2a9983(0x204)](_0x2a9983(0x30d)),f['verbose'](_0x22e6a8[_0x2a9983(0x3c5)]);let _0x58d546=await this[_0x2a9983(0x198)]({'request':_0x22e6a8,'schema':M,'ClassRef':S,'execute':_0x20d96f=>T[_0x2a9983(0x52f)](_0x20d96f,_0x38095e)});_0x2fb91f[_0x2a9983(0x6ac)](0xc8)['json'](_0x58d546);})[_0x17010c(0x716)](this['routerPath']('editflowvariable'),..._0x242f08,async(_0x2b3d9b,_0x3ba4cc)=>{const _0x4de7ee=_0x17010c;let _0x440363=_0x2b3d9b['body'];f['verbose'](_0x4de7ee(0x299)),f[_0x4de7ee(0x204)](_0x4de7ee(0x30d)),f['verbose'](_0x2b3d9b[_0x4de7ee(0x3c5)]);let _0x4491ce=await this[_0x4de7ee(0x198)]({'request':_0x2b3d9b,'schema':M,'ClassRef':S,'execute':_0x57040d=>T[_0x4de7ee(0x5f8)](_0x57040d,_0x440363)});_0x3ba4cc[_0x4de7ee(0x6ac)](0xc8)['json'](_0x4491ce);})[_0x17010c(0x716)](this[_0x17010c(0x2e7)](_0x17010c(0x2c8)),..._0x242f08,async(_0x35b123,_0x124ddd)=>{const _0x519911=_0x17010c;let _0xad23c6=_0x35b123['body'];f[_0x519911(0x204)](_0x519911(0x73d)),f[_0x519911(0x204)](_0x519911(0x30d)),f[_0x519911(0x204)](_0x35b123[_0x519911(0x3c5)]);let _0x1e1525=await this[_0x519911(0x198)]({'request':_0x35b123,'schema':M,'ClassRef':S,'execute':_0x360631=>T['getFlow'](_0x360631,_0xad23c6)});_0x124ddd[_0x519911(0x6ac)](0xc8)['json'](_0x1e1525);})[_0x17010c(0x62c)](this[_0x17010c(0x2e7)](_0x17010c(0x350)),..._0x242f08,async(_0x2d3ffb,_0x87c154)=>{const _0x41f14d=_0x17010c;let _0x4ce52c=_0x2d3ffb[_0x41f14d(0x3c5)];f[_0x41f14d(0x204)]('request\x20received\x20in\x20deleteFlow'),f[_0x41f14d(0x204)](_0x41f14d(0x30d)),f[_0x41f14d(0x204)](_0x2d3ffb['body']);let _0x1136e4=await this[_0x41f14d(0x198)]({'request':_0x2d3ffb,'schema':M,'ClassRef':S,'execute':_0x36f239=>T[_0x41f14d(0x5b4)](_0x36f239,_0x4ce52c)});_0x87c154[_0x41f14d(0x6ac)](0xc8)[_0x41f14d(0x3c7)](_0x1136e4);})[_0x17010c(0x67a)](this[_0x17010c(0x2e7)](_0x17010c(0x2c2)),..._0x242f08,async(_0x11afad,_0xd54633)=>{const _0x5003e0=_0x17010c;f['verbose'](_0x5003e0(0x2e9));let _0x1f22d0=await this[_0x5003e0(0x198)]({'request':_0x11afad,'schema':M,'ClassRef':S,'execute':_0x31be7d=>T[_0x5003e0(0x382)](_0x31be7d)});_0xd54633[_0x5003e0(0x6ac)](0xc8)[_0x5003e0(0x3c7)](_0x1f22d0);});}},ur=R(require('path')),X={};function nr(_0x1809ea,_0x38b13b,_0x191f6b,_0x3610d2){X[_0x1809ea]||(X[_0x1809ea]={}),X[_0x1809ea][_0x38b13b]={'id':_0x38b13b,'response':_0x191f6b,'events':_0x3610d2};}function cr(_0x13d73b,_0x5850f4){!X[_0x13d73b]||!X[_0x13d73b][_0x5850f4]||delete X[_0x13d73b][_0x5850f4];}function J(_0x256541,_0x33bd7e,_0x569278){const _0x122514=a0_0x1f4c2a;if(!X[_0x256541])return;let _0x53ab5f=_0x122514(0x21c)+JSON[_0x122514(0x311)](_0x569278)+'\x0a\x0a';Object[_0x122514(0x552)](X[_0x256541])[_0x122514(0x67f)](_0xa9d897=>{const _0x4c7309=_0x122514;_0xa9d897[_0x4c7309(0x420)][_0x4c7309(0x5bb)](_0x33bd7e)&&_0xa9d897[_0x4c7309(0x488)]['write'](_0x53ab5f);});}function lr(){const _0xea6b25=a0_0x1f4c2a;let _0xc97f7a={};for(let _0x13f19f in X)_0xc97f7a[_0x13f19f]=Object['values'](X[_0x13f19f])[_0xea6b25(0x441)](_0x47f2de=>({'id':_0x47f2de['id'],'events':_0x47f2de[_0xea6b25(0x420)]}));return _0xc97f7a;}var dr=require('uuid'),ws=require(a0_0x1f4c2a(0x26d)),fs=class{},ci=new ws[(a0_0x1f4c2a(0x5a0))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),li=new ws['Schema']({'_id':{'type':String,'default':a0_0x1f4c2a(0x1b5)},'WebhookGlobal':{'type':ci},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.[a0_0x1f4c2a(0x6be)](fs[a0_0x1f4c2a(0x471)],li,'All_Instances_Config'),ui=ur[a0_0x1f4c2a(0x73c)][a0_0x1f4c2a(0x431)](__dirname,'downloads'),vt=(0x0,Mt[a0_0x1f4c2a(0x631)])(),di=b[a0_0x1f4c2a(0x67a)](a0_0x1f4c2a(0x2f9))[a0_0x1f4c2a(0x6a4)],te=[wa,ya,Ea[di]];vt[a0_0x1f4c2a(0x572)](a0_0x1f4c2a(0x613),Mt['default'][a0_0x1f4c2a(0x1df)](ui))[a0_0x1f4c2a(0x67a)](a0_0x1f4c2a(0x4ad),async(_0x375cc9,_0x50eba3)=>{const _0x12096f=a0_0x1f4c2a;console[_0x12096f(0x2ed)](_0x12096f(0x6e8));let _0x2124bc=_0x375cc9[_0x12096f(0x506)][_0x12096f(0x733)],_0x56ad81=(_0x375cc9[_0x12096f(0x2e3)][_0x12096f(0x420)]||'')[_0x12096f(0x702)](','),_0xfa6b63=(0x0,dr['v4'])();console[_0x12096f(0x2ed)](_0x12096f(0x661),_0x2124bc),console[_0x12096f(0x2ed)](_0x12096f(0x4d8),_0x56ad81);let _0x2e05ec=b[_0x12096f(0x67a)](_0x12096f(0x2f9))[_0x12096f(0x4bb)],_0x1a2413=_0x375cc9[_0x12096f(0x2e3)][_0x12096f(0x690)];if(console[_0x12096f(0x2ed)](_0x12096f(0x381),_0x1a2413),_0x2e05ec[_0x12096f(0x2a7)]!==_0x1a2413){console['log'](_0x12096f(0x4a2));try{let _0xa120f6=await le['auth'][_0x12096f(0x34c)](_0x2124bc);if(console[_0x12096f(0x2ed)](_0x12096f(0x220),_0xa120f6),!_0xa120f6||_0xa120f6[_0x12096f(0x690)]!==_0x1a2413)return console[_0x12096f(0x2ed)](_0x12096f(0x590)),_0x50eba3[_0x12096f(0x6ac)](0x191)['send'](_0x12096f(0x243));}catch(_0x39f9d4){return console[_0x12096f(0x513)](_0x12096f(0x15c),_0x39f9d4),_0x50eba3[_0x12096f(0x6ac)](0x191)[_0x12096f(0x33d)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await We(_0x2124bc))return _0x50eba3[_0x12096f(0x6ac)](0x194)[_0x12096f(0x33d)](_0x12096f(0x6c0));_0x50eba3[_0x12096f(0x745)](_0x12096f(0x276),'text/event-stream'),_0x50eba3['setHeader'](_0x12096f(0x48c),_0x12096f(0x447)),_0x50eba3['setHeader'](_0x12096f(0x395),_0x12096f(0x4b8)),_0x50eba3[_0x12096f(0x61a)]();let _0x30d0d7=_0x12096f(0x21c)+JSON[_0x12096f(0x311)]({'info':_0x12096f(0x36b)})+'\x0a\x0a';_0x50eba3[_0x12096f(0x558)](_0x30d0d7),nr(_0x2124bc,_0xfa6b63,_0x50eba3,_0x56ad81),_0x375cc9['on'](_0x12096f(0x52c),()=>{const _0x1951db=_0x12096f;console[_0x1951db(0x2ed)](_0x1951db(0x2e5)+_0x2124bc),cr(_0x2124bc,_0xfa6b63);});}),vt[a0_0x1f4c2a(0x67a)](a0_0x1f4c2a(0x369),(_0x50adff,_0x3ca789)=>{const _0x282129=a0_0x1f4c2a;let _0x56f0e5=lr();_0x3ca789[_0x282129(0x3c7)](_0x56f0e5);})[a0_0x1f4c2a(0x67a)]('/',(_0x303594,_0x1b3c63)=>{const _0x19f210=a0_0x1f4c2a;let _0x114598=b[_0x19f210(0x67a)]('SERVER')['URL'];if(_0x114598){let _0x524c9a=encodeURIComponent(''+_0x114598);_0x1b3c63[_0x19f210(0x100)](_0x19f210(0x62d)+_0x524c9a);return;}let _0x4ffa62=b[_0x19f210(0x67a)]('SSL_CONF'),_0x2e8afd=_0x4ffa62&&_0x4ffa62[_0x19f210(0x19a)][_0x19f210(0x702)]('/')[0x4];if(_0x2e8afd){let _0x4f157c=encodeURIComponent(_0x19f210(0x3d1)+_0x2e8afd);_0x1b3c63[_0x19f210(0x100)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x4f157c);}else _0x1b3c63[_0x19f210(0x100)](_0x19f210(0x18a));})['put']('/exit',...te,async(_0x3b3615,_0x30b205)=>{const _0x14d6bb=a0_0x1f4c2a;try{console['log'](_0x14d6bb(0xfa)),_0x30b205[_0x14d6bb(0x6ac)](0xc8)[_0x14d6bb(0x3c7)]({'message':_0x14d6bb(0x117)}),_0x30b205['on'](_0x14d6bb(0x330),()=>process[_0x14d6bb(0x3ea)](0x0));}catch(_0x28d0d0){console[_0x14d6bb(0x513)](_0x14d6bb(0x2ab),_0x28d0d0),_0x30b205[_0x14d6bb(0x6ac)](0x1f4)[_0x14d6bb(0x3c7)]({'message':_0x14d6bb(0x583)});}})[a0_0x1f4c2a(0x5f2)](a0_0x1f4c2a(0x69e),...te,async(_0x54dad3,_0x5e6976)=>{const _0x1912b5=a0_0x1f4c2a;try{let _0x1f843b=_0x54dad3[_0x1912b5(0x3c5)];await we[_0x1912b5(0x25b)]({},{'$set':_0x1f843b},{'upsert':!0x0});let _0x52f478=await we['findOne']();_0x5e6976[_0x1912b5(0x3c7)](_0x52f478);}catch(_0x344a04){_0x5e6976[_0x1912b5(0x6ac)](0x190)[_0x1912b5(0x33d)](_0x344a04[_0x1912b5(0x1ae)]);}})[a0_0x1f4c2a(0x67a)]('/config',...te,async(_0x2330ca,_0x2d906b)=>{const _0x31dcbd=a0_0x1f4c2a;try{let _0x4ad968=await we[_0x31dcbd(0x712)]();if(!_0x4ad968)return _0x2d906b[_0x31dcbd(0x3c7)]({});_0x2d906b[_0x31dcbd(0x3c7)](_0x4ad968);}catch(_0x5439a3){_0x2d906b[_0x31dcbd(0x6ac)](0x1f4)['send'](_0x5439a3[_0x31dcbd(0x1ae)]);}})[a0_0x1f4c2a(0x572)](a0_0x1f4c2a(0x564),new ct(b,...te)[a0_0x1f4c2a(0x6fa)])[a0_0x1f4c2a(0x572)](a0_0x1f4c2a(0x681),new bt(...te)[a0_0x1f4c2a(0x6fa)])[a0_0x1f4c2a(0x572)](a0_0x1f4c2a(0x4b1),new Xe(...te)['router'])[a0_0x1f4c2a(0x572)]('/group',new nt(...te)[a0_0x1f4c2a(0x6fa)])[a0_0x1f4c2a(0x572)]('/webhook',new Et(...te)['router'])[a0_0x1f4c2a(0x572)](a0_0x1f4c2a(0x408),new Ct(...te)[a0_0x1f4c2a(0x6fa)]);var m=class{constructor(..._0x369dde){const _0x2f771d=a0_0x1f4c2a;throw{'status':0x190,'error':_0x2f771d(0x278),'message':_0x369dde[_0x2f771d(0x4c0)]>0x0?_0x369dde:void 0x0};}},ee=class{constructor(..._0x2386ec){const _0x3023cd=a0_0x1f4c2a;throw{'status':0x191,'error':_0x3023cd(0x6d5),'message':_0x2386ec[_0x3023cd(0x4c0)]>0x0?_0x2386ec:void 0x0};}},K=class{constructor(..._0x84d04b){throw{'status':0x193,'error':'Forbidden','message':_0x84d04b['length']>0x0?_0x84d04b:void 0x0};}},L=class{constructor(..._0x4fb8f8){const _0x2feb23=a0_0x1f4c2a;throw{'status':0x194,'error':'Not\x20Found','message':_0x4fb8f8[_0x2feb23(0x4c0)]>0x0?_0x4fb8f8:void 0x0};}},O=class{constructor(..._0xe4fa10){const _0x4ac51d=a0_0x1f4c2a;throw{'status':0x1f4,'error':_0x4ac51d(0x21d),'message':_0xe4fa10[_0x4ac51d(0x4c0)]>0x0?_0xe4fa10:void 0x0};}},ue=require(a0_0x1f4c2a(0x1f2));async function ys(_0x37f283){const _0x322d90=a0_0x1f4c2a;let _0x783833=new v(ys['name']),_0x550435=N[_0x322d90(0x19b)](),_0x1da52a=_0x550435['db'](b[_0x322d90(0x67a)]('DATABASE')[_0x322d90(0x11c)][_0x322d90(0x544)]+_0x322d90(0x6a0))[_0x322d90(0x498)](_0x37f283),_0x287041=async(_0x533f9d,_0x2a0858)=>{const _0x35ef48=_0x322d90;try{return await _0x550435[_0x35ef48(0x1e9)](),await _0x1da52a[_0x35ef48(0x6ea)]({'_id':_0x2a0858},JSON['parse'](JSON[_0x35ef48(0x311)](_0x533f9d,ue[_0x35ef48(0x51f)][_0x35ef48(0x64e)])),{'upsert':!0x0});}catch{}},_0x2b1982=async _0x38f7e3=>{const _0x93f701=_0x322d90;try{await _0x550435[_0x93f701(0x1e9)]();let _0x3f847f=await _0x1da52a[_0x93f701(0x712)]({'_id':_0x38f7e3}),_0x7fa4e5=JSON[_0x93f701(0x311)](_0x3f847f);return JSON[_0x93f701(0x4d9)](_0x7fa4e5,ue[_0x93f701(0x51f)]['reviver']);}catch{}},_0x1e32cd=async _0x1ffc32=>{const _0x5c49b7=_0x322d90;try{return await _0x550435[_0x5c49b7(0x1e9)](),await _0x1da52a[_0x5c49b7(0x326)]({'_id':_0x1ffc32});}catch{}},_0x1375a3=await _0x2b1982(_0x322d90(0x60f))||(0x0,ue[_0x322d90(0x362)])();return{'state':{'creds':_0x1375a3,'keys':{'get':async(_0x1efa11,_0xd76c9f)=>{const _0x27cefe=_0x322d90;let _0x5c55c2={};return await Promise[_0x27cefe(0x132)](_0xd76c9f['map'](async _0x204085=>{const _0x1aa9f3=_0x27cefe;let _0xd78b06=await _0x2b1982(_0x1efa11+'-'+_0x204085);_0x1efa11===_0x1aa9f3(0x2b3)&&_0xd78b06&&(_0xd78b06=ue['proto'][_0x1aa9f3(0x3ef)][_0x1aa9f3(0x2fe)][_0x1aa9f3(0x6fd)](_0xd78b06)),_0x5c55c2[_0x204085]=_0xd78b06;})),_0x5c55c2;},'set':async _0x1fd674=>{const _0x13803f=_0x322d90;let _0x447120=[];for(let _0x2ac820 in _0x1fd674)for(let _0x25a2ee in _0x1fd674[_0x2ac820]){let _0x353b49=_0x1fd674[_0x2ac820][_0x25a2ee],_0x3e19d3=_0x2ac820+'-'+_0x25a2ee;_0x447120[_0x13803f(0x597)](_0x353b49?_0x287041(_0x353b49,_0x3e19d3):_0x1e32cd(_0x3e19d3));}await Promise[_0x13803f(0x132)](_0x447120);}}},'saveCreds':async()=>_0x287041(_0x1375a3,_0x322d90(0x60f))};}var Cs=R(require(a0_0x1f4c2a(0x6fc))),Ms=R(require(a0_0x1f4c2a(0x5f6))),Tt=require('@whiskeysockets/baileys'),pr=require(a0_0x1f4c2a(0x2ee)),Rt=require(a0_0x1f4c2a(0x1f2)),Nt;function pi(_0x5ba98f){const _0x5e353b=a0_0x1f4c2a;return Nt||(Nt=(0x0,pr['createClient'])({'url':_0x5ba98f[_0x5e353b(0x20d)]}),Nt[_0x5e353b(0x1e9)]()),Nt;}var ie=class c{constructor(_0x5f1fa7,_0x3af646){const _0x4d9c1e=a0_0x1f4c2a;this[_0x4d9c1e(0x3b3)]=_0x5f1fa7,this[_0x4d9c1e(0x2c5)]=_0x3af646,this[_0x4d9c1e(0x3fa)]=new v(c[_0x4d9c1e(0x471)]),this['client']=pi(_0x5f1fa7);}set['reference'](_0x27a6e8){this['instanceName']=_0x27a6e8;}async[a0_0x1f4c2a(0x64f)](){const _0x2a7bec=a0_0x1f4c2a;try{return await this['client'][_0x2a7bec(0x1f4)]([_0x2a7bec(0x6c4),this['redisEnv'][_0x2a7bec(0x298)]+':*']);}catch(_0x2f75c8){this[_0x2a7bec(0x3fa)]['error'](_0x2f75c8);}}async[a0_0x1f4c2a(0x470)](_0x26d266,_0x1559e5){const _0x2542a5=a0_0x1f4c2a;try{let _0x5a6d1b=JSON[_0x2542a5(0x311)](_0x1559e5,Rt[_0x2542a5(0x51f)][_0x2542a5(0x64e)]);return await this[_0x2542a5(0x289)][_0x2542a5(0x6f4)](this[_0x2542a5(0x3b3)][_0x2542a5(0x298)]+':'+this[_0x2542a5(0x2c5)],_0x26d266,_0x5a6d1b);}catch(_0x31a733){this[_0x2542a5(0x3fa)][_0x2542a5(0x513)](_0x31a733);}}async[a0_0x1f4c2a(0x44d)](){const _0x432fb5=a0_0x1f4c2a;try{let _0x42f7ac=await this['client'][_0x432fb5(0x616)](this['redisEnv'][_0x432fb5(0x298)]+':'+this[_0x432fb5(0x2c5)]);if(_0x42f7ac){for(let _0x30496f in _0x42f7ac)Object[_0x432fb5(0x360)][_0x432fb5(0x732)][_0x432fb5(0x2c4)](_0x42f7ac,_0x30496f)&&(_0x42f7ac[_0x30496f]=JSON[_0x432fb5(0x4d9)](_0x42f7ac[_0x30496f],Rt[_0x432fb5(0x51f)][_0x432fb5(0x54d)]));return _0x42f7ac;}}catch(_0x3617c0){this[_0x432fb5(0x3fa)][_0x432fb5(0x513)](_0x3617c0);}}async[a0_0x1f4c2a(0x356)](_0x5dd64e){const _0x4e997e=a0_0x1f4c2a;try{let _0x1030ca=await this[_0x4e997e(0x289)]['hGet'](this['redisEnv'][_0x4e997e(0x298)]+':'+this[_0x4e997e(0x2c5)],_0x5dd64e);if(_0x1030ca)return JSON[_0x4e997e(0x4d9)](_0x1030ca,Rt[_0x4e997e(0x51f)][_0x4e997e(0x54d)]);}catch(_0x1c73fc){this[_0x4e997e(0x3fa)][_0x4e997e(0x513)](_0x1c73fc);}}async['removeData'](_0x30508c){const _0x21d5a4=a0_0x1f4c2a;try{return await this[_0x21d5a4(0x289)]['hDel'](this[_0x21d5a4(0x3b3)][_0x21d5a4(0x298)]+':'+this['instanceName'],_0x30508c);}catch(_0x2e38ff){this['logger']['error'](_0x2e38ff);}}async[a0_0x1f4c2a(0x149)](_0x31e682){const _0x56a160=a0_0x1f4c2a;try{return await this['client'][_0x56a160(0x6d7)](_0x31e682||this[_0x56a160(0x3b3)][_0x56a160(0x298)]+':'+this[_0x56a160(0x2c5)]);}catch(_0x39ed9f){this[_0x56a160(0x3fa)][_0x56a160(0x513)](_0x39ed9f);}}};async function bs(_0x10e562,_0x3a7c1c){const _0x3ded18=a0_0x1f4c2a;let _0x16fd11=new v(bs[_0x3ded18(0x471)]),_0x48a1e4=new ie(_0x10e562,_0x3a7c1c),_0x5024fa=async(_0x3e137f,_0x3147c5)=>{const _0x3a5170=_0x3ded18;try{return await _0x48a1e4['writeData'](_0x3147c5,_0x3e137f);}catch(_0x288d25){return _0x16fd11['error']({'localError':_0x3a5170(0x470),'error':_0x288d25});}},_0xf4e256=async _0xfa3b92=>{const _0x5160e9=_0x3ded18;try{return await _0x48a1e4[_0x5160e9(0x356)](_0xfa3b92);}catch(_0x33b568){_0x16fd11[_0x5160e9(0x513)]({'readData':_0x5160e9(0x470),'error':_0x33b568});return;}},_0x419306=async _0x486cf2=>{const _0x57f8ad=_0x3ded18;try{return await _0x48a1e4[_0x57f8ad(0x123)](_0x486cf2);}catch(_0xf7a20){_0x16fd11[_0x57f8ad(0x513)]({'readData':_0x57f8ad(0x123),'error':_0xf7a20});}},_0x2e46b0=await _0xf4e256(_0x3ded18(0x60f))||(0x0,Tt[_0x3ded18(0x362)])();return{'state':{'creds':_0x2e46b0,'keys':{'get':async(_0x8711df,_0x4b8bc9)=>{let _0x8d7fed={};return await Promise['all'](_0x4b8bc9['map'](async _0x10c8e3=>{const _0xf26546=a0_0x5a52;let _0x30a002=await _0xf4e256(_0x8711df+'-'+_0x10c8e3);_0x8711df===_0xf26546(0x2b3)&&_0x30a002&&(_0x30a002=Tt[_0xf26546(0x147)][_0xf26546(0x3ef)][_0xf26546(0x2fe)][_0xf26546(0x6fd)](_0x30a002)),_0x8d7fed[_0x10c8e3]=_0x30a002;})),_0x8d7fed;},'set':async _0x461367=>{const _0x4ece7b=_0x3ded18;let _0x2bff0a=[];for(let _0x19c7c4 in _0x461367)for(let _0x33f123 in _0x461367[_0x19c7c4]){let _0x4fff98=_0x461367[_0x19c7c4][_0x33f123],_0x190b98=_0x19c7c4+'-'+_0x33f123;_0x2bff0a[_0x4ece7b(0x597)](_0x4fff98?await _0x5024fa(_0x4fff98,_0x190b98):await _0x419306(_0x190b98));}await Promise[_0x4ece7b(0x132)](_0x2bff0a);}}},'saveCreds':async()=>await _0x5024fa(_0x2e46b0,_0x3ded18(0x60f))};}var j=R(require('fs')),Me=require(a0_0x1f4c2a(0x726)),xt=R(require(a0_0x1f4c2a(0x5d7))),Dt=require('https-proxy-agent'),hi='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x1f4c2a(0x2bd)](),At=hi[a0_0x1f4c2a(0x702)]('\x0a')[a0_0x1f4c2a(0x441)](_0x3b1b05=>{const _0x2d6db=a0_0x1f4c2a;let _0x1ecb63=_0x3b1b05[_0x2d6db(0x702)](':'),_0x41874c={'host':_0x1ecb63[0x0],'port':_0x1ecb63[0x1],'protocol':_0x2d6db(0x6d1)};return _0x1ecb63[_0x2d6db(0x4c0)]===0x4&&(_0x41874c['username']=_0x1ecb63[0x2],_0x41874c[_0x2d6db(0x169)]=_0x1ecb63[0x3]),_0x41874c;});function hr(_0x531bd8){const _0x2cc43e=a0_0x1f4c2a;return At[_0x2cc43e(0x34c)](_0x126cfb=>_0x126cfb[_0x2cc43e(0x21e)]===_0x531bd8)||null;}function gr(){const _0x30b1bb=a0_0x1f4c2a;if(At[_0x30b1bb(0x4c0)]===0x0)return null;let _0x543c47=Math[_0x30b1bb(0x61c)](Math['random']()*At[_0x30b1bb(0x4c0)]);return At[_0x543c47];}function Ss(_0x3b5f82){const _0x388177=a0_0x1f4c2a;let _0x5d04a3=_0x406939=>typeof _0x406939==_0x388177(0x2f1)&&_0x406939[_0x388177(0x4c0)]>0x0,_0x1abfce=_0x1cd083=>{let _0xc7c564=parseInt(_0x1cd083,0xa);return!isNaN(_0xc7c564)&&_0xc7c564>0x0&&_0xc7c564<=0xffff;},_0x44a58a=_0xaada04=>typeof _0xaada04==_0x388177(0x2f1)&&_0xaada04['length']>0x0;return _0x3b5f82&&_0x5d04a3(_0x3b5f82[_0x388177(0x21e)])&&_0x1abfce(_0x3b5f82[_0x388177(0x4cf)])&&(!_0x3b5f82['username']||_0x44a58a(_0x3b5f82['username']))&&(!_0x3b5f82[_0x388177(0x169)]||_0x44a58a(_0x3b5f82[_0x388177(0x169)]))&&(_0x3b5f82[_0x388177(0x2a8)]===_0x388177(0x6d1)||_0x3b5f82['protocol']===_0x388177(0x5ca));}var vs=require('crypto'),Er=a0_0x1f4c2a(0x186),Ns,oe=null,mr=null,He=null,gi=0x3,mi=null;async function fi(){const _0x543883=a0_0x1f4c2a;let _0x5e2c22=await we[_0x543883(0x712)]();oe=_0x5e2c22?.[_0x543883(0x1bb)]??null,mi=_0x5e2c22?.[_0x543883(0x3be)]??null,Er=_0x5e2c22?.['connectedClient']??_0x543883(0x186),Ns=_0x5e2c22?.['connectedName']??Rs??_0x543883(0x638),console[_0x543883(0x2ed)](_0x543883(0x669)),console[_0x543883(0x2ed)](_0x5e2c22);}function a0_0x5a52(_0x5e5232,_0x17ac22){const _0x3fa673=a0_0x3fa6();return a0_0x5a52=function(_0x5a52a5,_0x20444a){_0x5a52a5=_0x5a52a5-0xc4;let _0x1c8533=_0x3fa673[_0x5a52a5];return _0x1c8533;},a0_0x5a52(_0x5e5232,_0x17ac22);}async function wi(){await fi();}wi();function k(_0x54e9c1){const _0x175510=a0_0x1f4c2a;if(_0x54e9c1[_0x175510(0x49d)]||_0x54e9c1[_0x175510(0x1da)]){let _0x6fbbcf=_0x54e9c1[_0x175510(0x49d)]?_0x54e9c1[_0x175510(0x49d)][_0x175510(0x1ae)]:_0x54e9c1[_0x175510(0x1da)]['message'];if(_0x6fbbcf)return(0x0,y[_0x175510(0x58e)])(_0x6fbbcf);}return _0x54e9c1[_0x175510(0x281)]?_0x175510(0x281):_0x54e9c1[_0x175510(0x20e)]?_0x175510(0x20e):_0x54e9c1[_0x175510(0x436)]?'viewOnceMessageV2Extension':(0x0,y[_0x175510(0x58e)])(_0x54e9c1);}var fr={},ye=class c{constructor(_0x23a619,_0xc31238,_0x5e8421){const _0x1b5a0d=a0_0x1f4c2a;this[_0x1b5a0d(0x1a6)]=_0x23a619,this['eventEmitter']=_0xc31238,this[_0x1b5a0d(0x16a)]=_0x5e8421,this[_0x1b5a0d(0x29c)]=null,this[_0x1b5a0d(0x3fa)]=new v(c[_0x1b5a0d(0x471)]),this[_0x1b5a0d(0x733)]={},this[_0x1b5a0d(0x3c4)]={},this['stateConnection']={'state':_0x1b5a0d(0x52c)},this['storePath']=(0x0,U[_0x1b5a0d(0x431)])(ae,_0x1b5a0d(0x40d)),this[_0x1b5a0d(0x663)]=new Ms[(_0x1b5a0d(0x73c))](),this[_0x1b5a0d(0x47b)]=new Ms['default'](),this['endSession']=!0x1,this[_0x1b5a0d(0x58f)]={'status.instance':_0x1b5a0d(0x622),'qrcode.updated':_0x1b5a0d(0x378),'messages.upsert':_0x1b5a0d(0x725),'messages.update':_0x1b5a0d(0x1fe),'send.message':'/wa-message','group.upsert':_0x1b5a0d(0x439),'group.update':_0x1b5a0d(0x439),'group-participants.update':_0x1b5a0d(0x439),'connection.update':'/wa-connection-update','messages.set':'/wa-message','contacts.set':_0x1b5a0d(0x5aa),'contacts.upsert':_0x1b5a0d(0x5aa),'contacts.update':'/wa-contacts','presence.update':'/wa-presence','chats.set':'/wa-chats','chats.update':'/wa-chats','chats.upsert':_0x1b5a0d(0x744),'chats.delete':'/wa-chats'},this[_0x1b5a0d(0x1f7)]=0x0,this[_0x1b5a0d(0x4ed)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x1b5a0d(0x4f2)]=!0x1,this[_0x1b5a0d(0x12b)]={'chats.upsert':async(_0x19bf57,_0x40e44d)=>{const _0x4f0a06=_0x1b5a0d;let _0x4f4920=[];for await(let _0x4e1e61 of _0x19bf57)_0x4f4920[_0x4f0a06(0x597)]({'_id':_0x4e1e61['id'],'owner':this[_0x4f0a06(0x733)][_0x4f0a06(0x230)],'group':_0x4e1e61['id'][_0x4f0a06(0x222)](_0x4f0a06(0x121)),'name':_0x4e1e61[_0x4f0a06(0x471)]||_0x4e1e61[_0x4f0a06(0x3ee)]||null,'contactname':null,'lastmsg':_0x4e1e61[_0x4f0a06(0x427)]&&_0x4e1e61[_0x4f0a06(0x427)][_0x4f0a06(0x6f3)]()[_0x4f0a06(0x4c0)]<0xd?_0x4e1e61[_0x4f0a06(0x427)]*0x3e8:_0x4e1e61[_0x4f0a06(0x427)]||null,'archived':_0x4e1e61[_0x4f0a06(0x2ca)]||!0x1,'unreadcount':_0x4e1e61[_0x4f0a06(0x203)]||0x0});this[_0x4f0a06(0x582)](_0x4f0a06(0xd9),_0x4f4920);},'chats.update':async(_0xa2a6d2,_0x135dd8)=>{const _0x4d8ffa=_0x1b5a0d;for(let _0x1b61be of _0xa2a6d2){let _0x477e05={'_id':_0x1b61be['id'],'owner':this[_0x4d8ffa(0x733)][_0x4d8ffa(0x230)],'group':_0x1b61be['id'][_0x4d8ffa(0x222)](_0x4d8ffa(0x121)),'name':_0x1b61be[_0x4d8ffa(0x471)]||_0x1b61be[_0x4d8ffa(0x3ee)],'archived':_0x1b61be[_0x4d8ffa(0x2ca)],'ephemeralExpiration':_0x1b61be[_0x4d8ffa(0x176)]},_0x409019=!0x1,_0x4a3ccd={};_0x477e05[_0x4d8ffa(0x2ca)]!=null&&(this[_0x4d8ffa(0x3fa)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4d8ffa(0x53b)+_0x1b61be['archived']),_0x409019=!0x0,_0x4a3ccd[_0x4d8ffa(0x2ca)]=_0x1b61be[_0x4d8ffa(0x2ca)]),_0x1b61be[_0x4d8ffa(0x471)]!=null&&(this[_0x4d8ffa(0x3fa)][_0x4d8ffa(0x204)](this[_0x4d8ffa(0x2c5)]+'\x20('+this[_0x4d8ffa(0x733)][_0x4d8ffa(0x230)]+_0x4d8ffa(0x667)+_0x1b61be[_0x4d8ffa(0x471)]),_0x409019=!0x0,_0x4a3ccd[_0x4d8ffa(0x471)]=_0x1b61be[_0x4d8ffa(0x471)]),_0x1b61be[_0x4d8ffa(0x3ee)]!=null&&(this[_0x4d8ffa(0x3fa)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4d8ffa(0x230)]+_0x4d8ffa(0x160)+_0x1b61be[_0x4d8ffa(0x3ee)]),_0x409019=!0x0,_0x4a3ccd[_0x4d8ffa(0x471)]=_0x1b61be[_0x4d8ffa(0x3ee)]);let _0x4e4b6a;_0x409019&&(_0x4e4b6a=await this[_0x4d8ffa(0x16a)][_0x4d8ffa(0x164)][_0x4d8ffa(0x25b)]({'where':{'_id':_0x1b61be['id']}},_0x4a3ccd,this[_0x4d8ffa(0x733)]['wuid'])),_0x4e4b6a&&J(this[_0x4d8ffa(0x2c5)],_0x4d8ffa(0x4c4),{'chat':_0x4e4b6a});}},'chats.delete':async _0x3ede88=>{const _0x5b9286=_0x1b5a0d;this['sendDataWebhook'](_0x5b9286(0x693),[..._0x3ede88]);}},this[_0x1b5a0d(0x516)]={'contacts.upsert':async(_0x6b30af,_0x305ab1)=>{const _0xa2248f=_0x1b5a0d;let _0xb09196=await this[_0xa2248f(0x16a)][_0xa2248f(0x1d9)][_0xa2248f(0x34c)]({'where':{}},this[_0xa2248f(0x733)][_0xa2248f(0x230)]),_0x444173=[];for await(let _0x2e651e of _0x6b30af)_0xb09196['find'](_0x3bbac2=>_0x3bbac2[_0xa2248f(0x273)]===_0x2e651e['id'])||_0x444173[_0xa2248f(0x597)]({'_id':_0x2e651e['id'],'pushName':_0x2e651e?.[_0xa2248f(0x471)]||_0x2e651e?.[_0xa2248f(0x1ba)],'owner':this[_0xa2248f(0x733)]['wuid']});this[_0xa2248f(0x582)]('contacts.upsert',_0x444173),await this['repository']['contact'][_0xa2248f(0x2d2)](_0x444173);},'contacts.update':async(_0x540b1c,_0x462f8c)=>{const _0x50917e=_0x1b5a0d;let _0x5651f7=[];for await(let _0x5b0876 of _0x540b1c)_0x5651f7[_0x50917e(0x597)]({'_id':_0x5b0876['id'],'pushName':_0x5b0876?.[_0x50917e(0x471)]??_0x5b0876?.['verifiedName'],'owner':this[_0x50917e(0x733)]['wuid']});this[_0x50917e(0x582)](_0x50917e(0x150),_0x5651f7);}},this['messageHandle']={'messaging-history.set':async({messages:_0x5cd535,chats:_0x2bb928,isLatest:_0x4fef4e},_0x10e86c)=>{const _0x284f72=_0x1b5a0d;if(_0x4fef4e){let _0x1a7efb=await Promise[_0x284f72(0x132)](_0x2bb928['map'](async _0x25bb71=>({'_id':_0x25bb71['id'],'owner':this[_0x284f72(0x733)][_0x284f72(0x230)],'group':_0x25bb71['id'][_0x284f72(0x222)](_0x284f72(0x121)),'name':_0x25bb71[_0x284f72(0x471)]||_0x25bb71['displayName']||null,'contactname':null,'lastmsg':_0x25bb71[_0x284f72(0x427)]&&_0x25bb71[_0x284f72(0x427)]['toString']()[_0x284f72(0x4c0)]<0xd?_0x25bb71['conversationTimestamp']*0x3e8:_0x25bb71[_0x284f72(0x427)]||null,'archived':_0x25bb71[_0x284f72(0x2ca)]||!0x1,'unreadcount':_0x25bb71['unreadCount']||0x0})));this['sendDataWebhook'](_0x284f72(0xcb),_0x1a7efb),await this[_0x284f72(0x6e7)](_0x1a7efb,_0x10e86c);}let _0x49a8ae=[],_0x2faf44=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2623e9]of Object[_0x284f72(0x17b)](_0x5cd535)){if(_0x2623e9['message']?.[_0x284f72(0x138)]||_0x2623e9['message']?.[_0x284f72(0x396)]||!_0x2623e9[_0x284f72(0x1ae)]||_0x2623e9[_0x284f72(0x114)][_0x284f72(0x1fd)]==='status@broadcast'||(Cs[_0x284f72(0x73c)]['isLong'](_0x2623e9?.[_0x284f72(0x6b2)])&&(_0x2623e9[_0x284f72(0x6b2)]=_0x2623e9['messageTimestamp']?.[_0x284f72(0x519)]()),_0x2623e9['messageTimestamp']&&_0x2623e9[_0x284f72(0x6b2)]['toString']()['length']<0xd&&(_0x2623e9[_0x284f72(0x6b2)]=_0x2623e9['messageTimestamp']*0x3e8),_0x2623e9[_0x284f72(0x6b2)]<_0x2faf44))continue;let {message_normalized:_0x45fd0b}=this['normalizeMessage'](_0x2623e9[_0x284f72(0x1ae)],k(_0x2623e9[_0x284f72(0x1ae)]),null);Object[_0x284f72(0x6c4)](_0x45fd0b)[_0x284f72(0x4c0)]>0x0&&_0x49a8ae['push']({'_id':_0x2623e9['key']['id'],'key':_0x2623e9['key'],'pushName':_0x2623e9[_0x284f72(0x42b)],'participant':_0x2623e9['participant'],'message':{..._0x2623e9[_0x284f72(0x1ae)]},'messageType':k(_0x2623e9[_0x284f72(0x1ae)]),'message_normalized':{'key':_0x2623e9[_0x284f72(0x114)],'pushName':_0x2623e9['pushName'],'messageTimestamp':_0x2623e9[_0x284f72(0x6b2)],..._0x45fd0b},'messageTimestamp':_0x2623e9[_0x284f72(0x6b2)],'owner':this['instance']['wuid']});}_0x10e86c[_0x284f72(0x177)]&&_0x49a8ae[_0x284f72(0x4c0)]>0x0&&(this['logger'][_0x284f72(0x204)](this['instanceName']+'\x20('+this['instance'][_0x284f72(0x230)]+_0x284f72(0x2f5)+_0x49a8ae[_0x284f72(0x4c0)]+_0x284f72(0x596)+this['instance'][_0x284f72(0x230)]+_0x284f72(0x5fc)),await this['repository'][_0x284f72(0x1ae)]['insert']([..._0x49a8ae],this[_0x284f72(0x733)]['wuid'])),this[_0x284f72(0x582)]('messages.set',[..._0x49a8ae]),_0x5cd535=void 0x0;},'messages.upsert':async({messages:_0x356242,type:_0x2afe65},_0x210785)=>{const _0x3a028c=_0x1b5a0d;let _0x28d190=_0x356242[0x0];if(_0x2afe65!==_0x3a028c(0x22e)||!_0x28d190?.['message']||_0x28d190[_0x3a028c(0x1ae)]?.[_0x3a028c(0x138)]||_0x28d190[_0x3a028c(0x1ae)][_0x3a028c(0x396)]||_0x28d190[_0x3a028c(0x114)]['remoteJid']===_0x3a028c(0x2af))return;let _0x3cd062=null,_0x48dc24=null;try{_0x3cd062=await this[_0x3a028c(0x521)](_0x28d190),_0x48dc24=_0x3cd062?_0x3cd062[_0x3a028c(0x431)](','):null;}catch(_0x182e67){this[_0x3a028c(0x3fa)]['verbose'](this[_0x3a028c(0x2c5)]+'\x20('+this['instance'][_0x3a028c(0x230)]+'):\x20'+(_0x182e67 instanceof Error?_0x182e67[_0x3a028c(0x1ae)]:JSON['stringify'](_0x182e67,null,0x2))),_0x48dc24=_0x3a028c(0x60e);}if(this['client'][_0x3a028c(0x32a)](_0x3a028c(0x3ff)),Cs[_0x3a028c(0x73c)][_0x3a028c(0x455)](_0x28d190[_0x3a028c(0x6b2)])&&(_0x28d190[_0x3a028c(0x6b2)]=_0x28d190[_0x3a028c(0x6b2)]?.[_0x3a028c(0x519)]()),this[_0x3a028c(0x3c4)]?.['groups_ignore']&&_0x28d190['key'][_0x3a028c(0x1fd)][_0x3a028c(0x5bb)]('@g.us')){this[_0x3a028c(0x3fa)][_0x3a028c(0x204)](this[_0x3a028c(0x2c5)]+'\x20('+this['instance'][_0x3a028c(0x230)]+_0x3a028c(0x344));return;}_0x28d190[_0x3a028c(0x6b2)]&&_0x28d190[_0x3a028c(0x6b2)][_0x3a028c(0x6f3)]()[_0x3a028c(0x4c0)]<0xd&&(_0x28d190[_0x3a028c(0x6b2)]=_0x28d190[_0x3a028c(0x6b2)]*0x3e8);let _0x4d1e62=_0x28d190[_0x3a028c(0x1ae)],{messageContent:_0x355bd3,message_normalized:_0x5e173f}=this[_0x3a028c(0x24f)](_0x4d1e62,k(_0x28d190['message']),_0x48dc24),_0x1f8e98={'_id':_0x28d190[_0x3a028c(0x114)]['id'],'key':_0x28d190[_0x3a028c(0x114)],'pushName':_0x28d190[_0x3a028c(0x42b)],'message':{..._0x28d190[_0x3a028c(0x1ae)]},'messageType':k(_0x28d190['message']),'message_normalized':{'key':_0x28d190[_0x3a028c(0x114)],'pushName':_0x28d190['pushName'],'messageTimestamp':_0x28d190[_0x3a028c(0x6b2)],'source':(0x0,y[_0x3a028c(0x111)])(_0x28d190['key']['id']),..._0x5e173f},'messageTimestamp':_0x28d190[_0x3a028c(0x6b2)],'owner':this[_0x3a028c(0x733)][_0x3a028c(0x230)],'source':(0x0,y[_0x3a028c(0x111)])(_0x28d190[_0x3a028c(0x114)]['id'])};_0x355bd3||(console[_0x3a028c(0x513)](_0x3a028c(0x292)),this[_0x3a028c(0x3fa)][_0x3a028c(0x2ed)](_0x1f8e98)),this['logger']['log'](this[_0x3a028c(0x2c5)]+'\x20('+this['instance'][_0x3a028c(0x230)]+_0x3a028c(0x50c)+_0x1f8e98['messageType']+_0x3a028c(0x42e)+_0x1f8e98['key']?.[_0x3a028c(0x4a3)]+'\x20['+_0x1f8e98[_0x3a028c(0x114)]?.[_0x3a028c(0x1fd)][_0x3a028c(0x6c6)]('@s.whatsapp.net','')+']:'),_0x1f8e98['message_normalized']?.['text']&&this['logger']['log'](_0x1f8e98['message_normalized']?.[_0x3a028c(0x5d4)]),await this[_0x3a028c(0x16a)][_0x3a028c(0x1ae)][_0x3a028c(0x2d2)]([_0x1f8e98],this[_0x3a028c(0x733)]['wuid']),this['sendDataWebhook'](_0x3a028c(0x2ef),_0x1f8e98),J(this['instanceName'],_0x3a028c(0x57a),{'message':_0x1f8e98}),_0x28d190[_0x3a028c(0x114)][_0x3a028c(0x1fd)]!==_0x3a028c(0x2af)&&await this[_0x3a028c(0x4d6)](_0x210785,_0x1f8e98,_0x3a028c(0x352));},'messages.update':async(_0x308b88,_0x123313)=>{const _0x1be71c=_0x1b5a0d;let _0x46ab1d={0x0:_0x1be71c(0x240),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0x1be71c(0x253),0x4:'READ',0x5:_0x1be71c(0x69b)};for await(let {key:_0x491545,update:_0x515490}of _0x308b88){if(this[_0x1be71c(0x3c4)]?.[_0x1be71c(0x40f)]&&_0x491545[_0x1be71c(0x1fd)][_0x1be71c(0x5bb)]('@g.us')){this[_0x1be71c(0x3fa)][_0x1be71c(0x204)](_0x1be71c(0x714));return;}if(_0x491545[_0x1be71c(0x1fd)]!==_0x1be71c(0x2af)){let _0x507d68=Date[_0x1be71c(0x6b8)](),_0x509910;_0x515490[_0x1be71c(0x1ae)]===null&&_0x515490['status']===void 0x0?_0x509910=_0x1be71c(0x2c9):_0x509910=_0x46ab1d[_0x515490[_0x1be71c(0x6ac)]];let _0xfe5beb=_0x491545[_0x1be71c(0x1fd)][_0x1be71c(0x6c6)](/:\d{1,2}@/g,'@'),_0xc13429={..._0x491545,'remoteJid':_0xfe5beb,'status':_0x509910,'datetime':_0x507d68,'owner':this['instance'][_0x1be71c(0x230)]};this[_0x1be71c(0x582)]('messages.update',_0xc13429),await this[_0x1be71c(0x1c1)](_0x491545,_0xc13429);}}},'labels.association':async({type:_0x502e4e,association:_0x11eb16})=>{const _0x24acf3=_0x1b5a0d;if(_0x11eb16['type']===_0x24acf3(0x44f)){let _0x2a3f89,_0x364640=0x0;for(;!_0x2a3f89&&_0x364640<this['delayChatLabel_MAX_RETRIES'];)_0x2a3f89=await this[_0x24acf3(0x16a)][_0x24acf3(0x164)][_0x24acf3(0x712)]({'where':{'_id':_0x11eb16[_0x24acf3(0x38b)]}},this[_0x24acf3(0x733)][_0x24acf3(0x230)]),_0x2a3f89||(_0x364640++,console[_0x24acf3(0x2ed)](_0x24acf3(0x2fa)+_0x11eb16['chatId']+_0x24acf3(0x30c)+this['delayChatLabel_RETRY_DELAY_MS']+_0x24acf3(0x674)+_0x364640+'/'+this[_0x24acf3(0x136)]+')'),await this[_0x24acf3(0xc6)](this[_0x24acf3(0x47e)]));if(!_0x2a3f89){console[_0x24acf3(0x513)]('Failed\x20to\x20find\x20chat\x20'+_0x11eb16[_0x24acf3(0x38b)]+_0x24acf3(0x40b)+this['delayChatLabel_MAX_RETRIES']+_0x24acf3(0x2a1));return;}switch(_0x502e4e){case'add':console[_0x24acf3(0x2ed)](_0x11eb16),await this[_0x24acf3(0x16a)][_0x24acf3(0x164)]['updateOne']({'where':{'_id':_0x11eb16[_0x24acf3(0x38b)]}},{'leadInfo.etiquetas':_0x11eb16['labelId']},this[_0x24acf3(0x733)][_0x24acf3(0x230)],void 0x0,_0x24acf3(0x245));break;case _0x24acf3(0x41e):console[_0x24acf3(0x2ed)](_0x11eb16),await this[_0x24acf3(0x16a)][_0x24acf3(0x164)][_0x24acf3(0x25b)]({'where':{'_id':_0x11eb16[_0x24acf3(0x38b)]}},{'leadInfo.etiquetas':_0x11eb16[_0x24acf3(0x620)]},this[_0x24acf3(0x733)]['wuid'],void 0x0,_0x24acf3(0x56f));break;default:console['error'](_0x24acf3(0x1e1)+_0x502e4e+']');}}},'labels.edit':async _0x33749a=>{const _0x391f07=_0x1b5a0d;if(!_0x33749a||!_0x33749a['id']){console[_0x391f07(0x513)](_0x391f07(0x480));return;}if(!_0x33749a[_0x391f07(0x10c)]){let _0x452f23=['#ff9484',_0x391f07(0x5e3),_0x391f07(0x3f3),_0x391f07(0xcd),'#9ab6c1',_0x391f07(0x671),'#fe9dfe',_0x391f07(0x1c9),_0x391f07(0x66e),'#d8e651',_0x391f07(0x267),_0x391f07(0x62e),'#92ceac',_0x391f07(0x3d6),_0x391f07(0x482),'#83e421',_0x391f07(0x649),_0x391f07(0x180),_0x391f07(0x1e0),_0x391f07(0x6ca)],_0x2377f5;typeof _0x33749a[_0x391f07(0x314)]=='number'&&_0x33749a[_0x391f07(0x314)]>=0x0&&_0x33749a[_0x391f07(0x314)]<_0x452f23['length']?_0x2377f5=_0x452f23[_0x33749a[_0x391f07(0x314)]]:(console[_0x391f07(0x513)](_0x391f07(0x5d8),_0x33749a[_0x391f07(0x314)]),_0x2377f5=_0x391f07(0x6d6));let _0x2056d8={'_id':_0x33749a['id'],'colorHex':_0x2377f5,'color':_0x33749a?.[_0x391f07(0x314)],'name':_0x33749a?.['name'],'owner':this['instance'][_0x391f07(0x230)]};await this[_0x391f07(0x16a)]['label'][_0x391f07(0x25b)]({'where':{'_id':_0x33749a['id']}},_0x2056d8,this[_0x391f07(0x733)][_0x391f07(0x230)]),console[_0x391f07(0x2ed)](_0x391f07(0x5a1),_0x33749a);}_0x33749a[_0x391f07(0x10c)]&&(await this['repository']['label']['delete']({'where':{'_id':_0x33749a['id']}},this[_0x391f07(0x733)][_0x391f07(0x230)]),console['log'](_0x391f07(0x414),_0x33749a['id']));}},this[_0x1b5a0d(0x29f)]={'groups.upsert':_0x314d21=>{const _0x1fe59a=_0x1b5a0d;this[_0x1fe59a(0x582)](_0x1fe59a(0x16d),_0x314d21);},'groups.update':_0x343bb4=>{const _0x32336e=_0x1b5a0d;this[_0x32336e(0x582)](_0x32336e(0x584),_0x343bb4);},'group-participants.update':_0x2e7743=>{const _0xf24a34=_0x1b5a0d;this[_0xf24a34(0x582)](_0xf24a34(0x277),_0x2e7743);}},this['delayChatLabel_MAX_RETRIES']=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x1b5a0d(0x521)]=async _0x26a9d5=>{const _0x1f39e0=_0x1b5a0d;if(_0x26a9d5[_0x1f39e0(0x1ae)]?.[_0x1f39e0(0x146)]){let _0x5829ac=await this[_0x1f39e0(0x315)](_0x26a9d5[_0x1f39e0(0x1ae)][_0x1f39e0(0x146)][_0x1f39e0(0x294)],!0x0);if(_0x5829ac){let _0x1476a1=_0x5829ac[_0x1f39e0(0x114)]['fromMe']?this['instance']['wuid']+'@s.whatsapp.net':_0x5829ac[_0x1f39e0(0x114)][_0x1f39e0(0x630)]||_0x5829ac['key'][_0x1f39e0(0x1fd)],_0x1b3279=_0x5829ac[_0x1f39e0(0x114)]['id'],_0x2c2c1b=_0x5829ac[_0x1f39e0(0x1ae)],_0x2e64ce=Buffer['from'](_0x2c2c1b[_0x1f39e0(0x303)][_0x1f39e0(0x5bd)][_0x1f39e0(0x6f3)](_0x1f39e0(0x5fe)),_0x1f39e0(0x5fe)),_0x477860=(0x0,y[_0x1f39e0(0x489)])(_0x26a9d5[_0x1f39e0(0x1ae)][_0x1f39e0(0x146)][_0x1f39e0(0x2f8)],{'pollCreatorJid':_0x1476a1,'pollMsgId':_0x1b3279,'pollEncKey':_0x2e64ce,'voterJid':_0x26a9d5[_0x1f39e0(0x114)][_0x1f39e0(0x4a3)]?this['instance']['wuid']+_0x1f39e0(0x1cb):_0x26a9d5[_0x1f39e0(0x114)]['remoteJid'][_0x1f39e0(0x222)](_0x1f39e0(0x6b3))?_0x26a9d5[_0x1f39e0(0x114)][_0x1f39e0(0x630)]:_0x26a9d5[_0x1f39e0(0x114)][_0x1f39e0(0x1fd)]}),_0x5a3ccb=[],_0x254f0f=_0x477860[_0x1f39e0(0x293)][_0x1f39e0(0x441)](_0x6e5d32=>Buffer[_0x1f39e0(0x697)](_0x6e5d32)[_0x1f39e0(0x6f3)](_0x1f39e0(0x5fe)));for(let {optionName:_0x30026e}of _0x2c2c1b[_0x1f39e0(0x116)]?.['options']||_0x2c2c1b[_0x1f39e0(0x281)]?.[_0x1f39e0(0x740)]||_0x2c2c1b[_0x1f39e0(0x20e)]?.[_0x1f39e0(0x740)])_0x254f0f[_0x1f39e0(0x2e8)]((0x0,y[_0x1f39e0(0x291)])(Buffer[_0x1f39e0(0x697)](_0x30026e))['toString']('hex'))>-0x1&&_0x5a3ccb['push'](_0x30026e);return _0x5a3ccb;}}return null;},this[_0x1b5a0d(0x24f)]=(_0x5d7144,_0x105321,_0x48d8d5)=>{const _0x7ce57a=_0x1b5a0d;try{let _0x7099f2=_0x105321?_0x5d7144[_0x105321]:void 0x0,_0x2dffdf={},_0x5ec2d8=null,_0x18def9=null,_0x41886f=null;if(_0x5d7144[_0x7ce57a(0x1da)]?(_0x105321=k(_0x5d7144[_0x7ce57a(0x1da)][_0x7ce57a(0x1ae)]),_0x7099f2=_0x5d7144[_0x7ce57a(0x1da)][_0x7ce57a(0x1ae)][_0x105321]):_0x5d7144[_0x7ce57a(0x436)]?(_0x105321=k(_0x5d7144[_0x7ce57a(0x436)][_0x7ce57a(0x1ae)]),_0x7099f2=_0x5d7144[_0x7ce57a(0x436)]['message'][_0x105321]):_0x5d7144[_0x7ce57a(0x49d)]?(_0x105321=k(_0x5d7144[_0x7ce57a(0x49d)][_0x7ce57a(0x1ae)]),_0x7099f2=_0x5d7144[_0x7ce57a(0x49d)][_0x7ce57a(0x1ae)][_0x105321]):_0x5d7144['ephemeralMessage']?(_0x105321=k(_0x5d7144[_0x7ce57a(0x1ae)][_0x7ce57a(0x2d6)][_0x7ce57a(0x1ae)]),_0x7099f2=_0x5d7144['message'][_0x7ce57a(0x2d6)][_0x7ce57a(0x1ae)][_0x105321]):_0x5d7144[_0x7ce57a(0x45d)]?.[_0x7ce57a(0x1ae)]?.['protocolMessage']?.['editedMessage']?(_0x105321=k(_0x5d7144[_0x7ce57a(0x45d)][_0x7ce57a(0x1ae)][_0x7ce57a(0x138)][_0x7ce57a(0x45d)]),_0x5ec2d8=_0x5d7144[_0x7ce57a(0x45d)][_0x7ce57a(0x1ae)]['protocolMessage'][_0x7ce57a(0x114)]['id'],_0x7099f2=_0x5d7144[_0x7ce57a(0x45d)][_0x7ce57a(0x1ae)][_0x7ce57a(0x138)][_0x7ce57a(0x45d)][_0x105321]):_0x7099f2=_0x5d7144[_0x105321],!_0x105321||!_0x7099f2)return console['error'](_0x7ce57a(0x5fd),_0x5d7144),{'messageType':_0x105321,'messageContent':_0x7099f2,'message_normalized':{}};_0x5d7144[_0x105321]?.[_0x7ce57a(0x397)]?.[_0x7ce57a(0xdb)]&&_0x5d7144[_0x105321]?.[_0x7ce57a(0x397)]?.[_0x7ce57a(0xd7)]&&(_0x18def9=_0x5d7144[_0x105321][_0x7ce57a(0x397)]['stanzaId']),_0x5d7144['reactionMessage']&&(_0x41886f=_0x5d7144[_0x7ce57a(0x647)][_0x7ce57a(0x114)]['id']);let _0x1dca5b;if(_0x7099f2&&typeof _0x7099f2=='object'&&_0x7ce57a(0x294)in _0x7099f2&&({pollCreationMessageKey:_0x1dca5b}=_0x7099f2),_0x105321==='documentWithCaptionMessage'){let _0x2f2693=_0x7099f2?.[_0x7ce57a(0x1ae)]?.[_0x7ce57a(0x683)];_0x2f2693&&(_0x7099f2=_0x2f2693);}if(_0x105321===_0x7ce57a(0x116)||_0x105321===_0x7ce57a(0x20e)||_0x105321===_0x7ce57a(0x281)){let _0x2d762d=_0x7099f2[_0x7ce57a(0x740)][_0x7ce57a(0x441)](_0x2dfdbf=>_0x2dfdbf[_0x7ce57a(0x72a)])['join']('|');_0x2dffdf[_0x7ce57a(0x4d7)]=_0x2d762d;}let _0x10aeb2=_0x7099f2[_0x7ce57a(0x471)]||_0x7099f2[_0x7ce57a(0x599)]||_0x7099f2[_0x7ce57a(0x5fb)]||_0x7099f2[_0x7ce57a(0x3ee)];if(_0x105321===_0x7ce57a(0xc5)){_0x10aeb2=(_0x7099f2[_0x7ce57a(0x5a3)]||'')+'\x0a'+(_0x7099f2[_0x7ce57a(0x680)]||'')+'\x0a'+(_0x7099f2[_0x7ce57a(0x52b)]||'');let _0x4d13ee=this['sectionsToString'](_0x7099f2[_0x7ce57a(0x4a8)]);_0x2dffdf[_0x7ce57a(0x4d7)]=_0x4d13ee;}if(_0x105321===_0x7ce57a(0xdf)&&(_0x48d8d5=_0x7099f2[_0x7ce57a(0x5a3)]),_0x7099f2[_0x7ce57a(0x2ba)]){let _0x2fdec9=this['formatVCard'](JSON[_0x7ce57a(0x311)](_0x7099f2[_0x7ce57a(0x2ba)],null,0x2));_0x10aeb2=_0x10aeb2+'\x0a'+_0x2fdec9;}if(_0x7099f2){let {sections:_0x245c15,listType:_0x51c906,displayName:_0x49313c,vcard:_0x40f8f2,contactVcard:_0xa3e7a8,name:_0xfb609d,caption:_0x110b0f,conversation:_0xefccb6,pollCreationMessageKey:_0x59934f,footerText:_0x1c98a8,contentText:_0xbadeee,pageCount:_0x50abae,headerType:_0xe52d06,isAvatar:_0x1ca669,isAnimated:_0x2fb6cc,fallbackLc:_0x387d57,fallbackLg:_0x567218,namespace:_0x131cc8,elementName:_0x2cfc1,localizableParams:_0x1156fb,viewOnce:_0x70c97a,height:_0x2e6080,width:_0x44ab19,key:_0x4c6510,firstScanLength:_0xe285,firstScanSidecar:_0x3b2c51,gifPlayback:_0x3f8083,gifAttribution:_0x2c633a,midQualityFileSha256:_0x293b6a,scansSidecar:_0x436dc4,streamingSidecar:_0x3b20d4,thumbnailHeight:_0x524d0c,thumbnailWidth:_0x2d1b6d,thumbnailEncSha256:_0x513273,thumbnailDirectPath:_0x2892ee,canonicalUrl:_0x3c78bb,matchedText:_0x5e6f7c,previewType:_0xcbcc7c,thumbnailSha256:_0xdccb8e,deviceListMetadataVersion:_0x18a1d9,inviteLinkGroupTypeV2:_0x716a8b,interactiveAnnotations:_0xe73220,scanLengths:_0x23a6ac,jpegThumbnail:_0x113214,url:_0x27ff00,mediaKeyTimestamp:_0x24bb27,waveform:_0x2d3e6d,stickerSentTs:_0x3c23a0,firstFrameLength:_0x389f90,fileEncSha256:_0x4eb73e,contextInfo:_0x470c57,firstFrameSidecar:_0x343fe6,directPath:_0x35d71f,fileSha256:_0x49f423,mediaKey:_0x4dd5a7,senderTimestampMs:_0x306db1,..._0xb7dd0d}=_0x7099f2;(_0x105321===_0x7ce57a(0xc5)||_0x105321===_0x7ce57a(0xdf))&&(delete _0xb7dd0d[_0x7ce57a(0x5a3)],delete _0xb7dd0d['description']),typeof _0x7099f2=='string'?_0x2dffdf={'text':_0x7099f2,'type':_0x105321||_0x7ce57a(0x5fb),..._0x5ec2d8&&{'edited':_0x5ec2d8},..._0x18def9&&{'quoted':_0x18def9},..._0x41886f&&{'reaction':_0x41886f}}:_0x2dffdf={'text':_0x10aeb2,..._0xb7dd0d,..._0x105321==='pollUpdateMessage'?{'poll_id':_0x7099f2[_0x7ce57a(0x294)]['id'],'quoted':_0x7099f2[_0x7ce57a(0x294)]['id'],'vote':_0x48d8d5}:{},..._0x105321==='listResponseMessage'?{'vote':_0x48d8d5}:{},'type':_0x105321,..._0x5ec2d8&&{'edited':_0x5ec2d8},..._0x18def9&&{'quoted':_0x18def9},..._0x41886f&&{'reaction':_0x41886f},...(_0x105321===_0x7ce57a(0x116)||_0x105321===_0x7ce57a(0x20e)||_0x105321===_0x7ce57a(0x281)||_0x105321===_0x7ce57a(0xc5))&&{'convertedOptions':_0x2dffdf['convertedOptions']}};}return{'messageType':_0x105321,'messageContent':_0x7099f2,'message_normalized':_0x2dffdf};}catch(_0x5ce89b){return console[_0x7ce57a(0x513)](_0x7ce57a(0x3bf),_0x5ce89b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x1b5a0d(0x591)]=null,this[_0x1b5a0d(0x3a3)]=0x0,this[_0x1b5a0d(0x4f5)]=null,(this[_0x1b5a0d(0x65f)](),this[_0x1b5a0d(0x733)][_0x1b5a0d(0x354)]={'count':0x0});}set[a0_0x1f4c2a(0x2c5)](_0x4be80b){const _0x4b3eac=a0_0x1f4c2a;if(!_0x4be80b){this[_0x4b3eac(0x733)][_0x4b3eac(0x471)]=(0x0,yr['v4'])();return;}this[_0x4b3eac(0x733)]['name']=_0x4be80b,this['sendDataWebhook'](_0x4b3eac(0x6ae),{'instance':this[_0x4b3eac(0x733)][_0x4b3eac(0x471)],'status':_0x4b3eac(0x518)});}get['instanceName'](){const _0x167847=a0_0x1f4c2a;return this[_0x167847(0x733)]['name'];}get[a0_0x1f4c2a(0x230)](){const _0x264800=a0_0x1f4c2a;return this[_0x264800(0x733)][_0x264800(0x230)];}async['getProfileName'](){const _0x3f457f=a0_0x1f4c2a;let _0x422e32=this[_0x3f457f(0x289)]['user']?.[_0x3f457f(0x471)]??this[_0x3f457f(0x289)][_0x3f457f(0x688)]?.[_0x3f457f(0x1ba)];if(!_0x422e32){if(this[_0x3f457f(0x1a6)]['get'](_0x3f457f(0x51b))['ENABLED']){let _0x3986ed=await N[_0x3f457f(0x19b)]()['db'](this[_0x3f457f(0x1a6)][_0x3f457f(0x67a)]('DATABASE')[_0x3f457f(0x11c)]['DB_PREFIX_NAME']+_0x3f457f(0x6a0))[_0x3f457f(0x498)](this[_0x3f457f(0x2c5)])[_0x3f457f(0x712)]({'_id':_0x3f457f(0x60f)});if(_0x3986ed){let _0x98c010=JSON['parse'](JSON[_0x3f457f(0x311)](_0x3986ed),y[_0x3f457f(0x51f)][_0x3f457f(0x54d)]);_0x422e32=_0x98c010['me']?.[_0x3f457f(0x471)]||_0x98c010['me']?.[_0x3f457f(0x1ba)];}}else{if((0x0,ve[_0x3f457f(0x246)])((0x0,U[_0x3f457f(0x431)])(ge,this[_0x3f457f(0x2c5)],'creds.json'))){let _0xb14272=JSON['parse']((0x0,ve[_0x3f457f(0xd6)])((0x0,U[_0x3f457f(0x431)])(ge,this[_0x3f457f(0x2c5)],_0x3f457f(0x21f)),{'encoding':_0x3f457f(0x23a)}));_0x422e32=_0xb14272['me']?.[_0x3f457f(0x471)]||_0xb14272['me']?.[_0x3f457f(0x1ba)];}}}return _0x422e32;}get[a0_0x1f4c2a(0x272)](){const _0x5832b0=a0_0x1f4c2a;return this[_0x5832b0(0x733)]['profilePictureUrl'];}get[a0_0x1f4c2a(0x565)](){const _0x2534f0=a0_0x1f4c2a;return{'pairingCode':this[_0x2534f0(0x733)][_0x2534f0(0x354)]?.[_0x2534f0(0x390)],'code':this[_0x2534f0(0x733)][_0x2534f0(0x354)]?.[_0x2534f0(0x5ab)],'base64':this['instance'][_0x2534f0(0x354)]?.[_0x2534f0(0x6c5)]};}async[a0_0x1f4c2a(0x211)](){const _0x1797a7=a0_0x1f4c2a;let _0x1faa9e=await this[_0x1797a7(0x16a)][_0x1797a7(0x101)]['find'](this[_0x1797a7(0x2c5)]);this[_0x1797a7(0x3c4)][_0x1797a7(0xea)]=_0x1faa9e?.[_0x1797a7(0xea)],this[_0x1797a7(0x3c4)][_0x1797a7(0x194)]=_0x1faa9e?.[_0x1797a7(0x194)],this[_0x1797a7(0x3c4)]['local_map']=_0x1faa9e?.[_0x1797a7(0x329)],this[_0x1797a7(0x3c4)][_0x1797a7(0x34d)]=_0x1faa9e?.['STATUS_INSTANCE'],this['localWebhook'][_0x1797a7(0x435)]=_0x1faa9e?.[_0x1797a7(0x435)],this['localWebhook'][_0x1797a7(0x10f)]=_0x1faa9e?.[_0x1797a7(0x10f)],this[_0x1797a7(0x3c4)][_0x1797a7(0x352)]=_0x1faa9e?.['MESSAGES_UPSERT'],this[_0x1797a7(0x3c4)][_0x1797a7(0x2de)]=_0x1faa9e?.[_0x1797a7(0x2de)],this[_0x1797a7(0x3c4)][_0x1797a7(0x4a4)]=_0x1faa9e?.[_0x1797a7(0x4a4)],this[_0x1797a7(0x3c4)]['GROUPS_UPDATE']=_0x1faa9e?.[_0x1797a7(0x4dd)],this['localWebhook'][_0x1797a7(0x3d9)]=_0x1faa9e?.[_0x1797a7(0x3d9)],this[_0x1797a7(0x3c4)]['CHATS_SET']=_0x1faa9e?.[_0x1797a7(0x3cf)],this[_0x1797a7(0x3c4)][_0x1797a7(0x69c)]=_0x1faa9e?.['CHATS_UPSERT'],this[_0x1797a7(0x3c4)]['CHATS_UPDATE']=_0x1faa9e?.[_0x1797a7(0x141)],this[_0x1797a7(0x3c4)]['CHATS_DELETE']=_0x1faa9e?.['CHATS_DELETE'],this['localWebhook'][_0x1797a7(0x3f6)]=_0x1faa9e?.[_0x1797a7(0x3f6)],this[_0x1797a7(0x3c4)]['CONTACTS_UPSERT']=_0x1faa9e?.[_0x1797a7(0x46c)],this['localWebhook']['CONTACTS_UPDATE']=_0x1faa9e?.[_0x1797a7(0x6bb)],this[_0x1797a7(0x3c4)][_0x1797a7(0x287)]=_0x1faa9e?.[_0x1797a7(0x287)],this[_0x1797a7(0x3c4)][_0x1797a7(0x37e)]=_0x1faa9e?.[_0x1797a7(0x37e)],this['localWebhook'][_0x1797a7(0x2e4)]=_0x1faa9e?.[_0x1797a7(0x2e4)],this['localWebhook'][_0x1797a7(0x40f)]=_0x1faa9e?.[_0x1797a7(0x40f)];}async[a0_0x1f4c2a(0x36a)](_0x1bff02){const _0x4b0188=a0_0x1f4c2a;let _0x42eb8b=['_id','url',_0x4b0188(0x194),_0x4b0188(0x329),'STATUS_INSTANCE','QRCODE_UPDATED',_0x4b0188(0x2de),_0x4b0188(0x352),'SEND_MESSAGE',_0x4b0188(0x4a4),_0x4b0188(0x4dd),_0x4b0188(0x3d9),_0x4b0188(0x3cf),_0x4b0188(0x69c),'CHATS_UPDATE','CHATS_DELETE',_0x4b0188(0x3f6),_0x4b0188(0x46c),_0x4b0188(0x6bb),'PRESENCE_UPDATE',_0x4b0188(0x37e),_0x4b0188(0x2e4),'groups_ignore'],_0x3e9e35={};return _0x42eb8b[_0x4b0188(0x67f)](_0x7b06d5=>{_0x1bff02[_0x7b06d5]!==void 0x0&&(_0x3e9e35[_0x7b06d5]=_0x1bff02[_0x7b06d5]);}),await this[_0x4b0188(0x16a)][_0x4b0188(0x101)]['create'](_0x3e9e35,this[_0x4b0188(0x2c5)]),Object[_0x4b0188(0x46b)](this[_0x4b0188(0x3c4)],_0x3e9e35),await this['repository'][_0x4b0188(0x101)][_0x4b0188(0x34c)](this[_0x4b0188(0x2c5)]);}async[a0_0x1f4c2a(0x4e0)](){const _0x5ead80=a0_0x1f4c2a;return await this[_0x5ead80(0x16a)][_0x5ead80(0x101)][_0x5ead80(0x34c)](this['instanceName']);}async[a0_0x1f4c2a(0x582)](_0x2d9a66,_0x18eb84){const _0x32a573=a0_0x1f4c2a;let _0x5e97b1=_0x2d9a66[_0x32a573(0x6c6)](/[\.-]/gm,'_')['toUpperCase'](),_0x5a630f=this[_0x32a573(0x3c4)][_0x32a573(0x194)]&&(0x0,P[_0x32a573(0xf5)])(this[_0x32a573(0x3c4)][_0x32a573(0xea)])?this[_0x32a573(0x3c4)][_0x32a573(0xea)]+(this['localWebhook'][_0x32a573(0x329)]?this[_0x32a573(0x58f)][_0x2d9a66]:''):null,_0xa8b343=this[_0x32a573(0x3c4)][_0x5e97b1],_0xaa6bf7=oe&&oe['enabled']&&(0x0,P['isURL'])(oe[_0x32a573(0xea)])?oe[_0x32a573(0xea)]+(oe['local_map']?this[_0x32a573(0x58f)][_0x2d9a66]:''):null,_0x175f7c=oe?oe[_0x5e97b1]:null;if(_0xa8b343&&_0x5a630f)try{await se[_0x32a573(0x73c)]['create']({'baseURL':_0x5a630f})[_0x32a573(0x716)]('',{'event':_0x2d9a66,'instance':this[_0x32a573(0x733)][_0x32a573(0x471)],'data':_0x18eb84}),this['logger'][_0x32a573(0x2ed)](this[_0x32a573(0x2c5)]+'\x20('+this[_0x32a573(0x733)][_0x32a573(0x230)]+_0x32a573(0x25f)+_0x2d9a66+':\x20'+_0x5a630f);}catch{this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x32a573(0x230)]+_0x32a573(0xca)+_0x2d9a66+':\x20'+_0x5a630f);}if(_0x175f7c&&_0xaa6bf7)try{await se[_0x32a573(0x73c)][_0x32a573(0x59f)]({'baseURL':_0xaa6bf7})[_0x32a573(0x716)]('',{'event':_0x2d9a66,'instance':this[_0x32a573(0x733)][_0x32a573(0x471)],'data':_0x18eb84}),this[_0x32a573(0x3fa)][_0x32a573(0x2ed)](this[_0x32a573(0x2c5)]+'\x20('+this['instance'][_0x32a573(0x230)]+_0x32a573(0x460)+_0x2d9a66+':\x20'+_0xaa6bf7);}catch{this[_0x32a573(0x3fa)][_0x32a573(0x513)](this['instanceName']+'\x20('+this['instance'][_0x32a573(0x230)]+_0x32a573(0x6f6)+_0x2d9a66+':\x20'+_0xaa6bf7);}}async[a0_0x1f4c2a(0x308)]({qr:_0x54cd1f,connection:_0x352a9e,lastDisconnect:_0x435b3c}){const _0x34f67f=a0_0x1f4c2a;if(_0x54cd1f){if(this[_0x34f67f(0x733)]['qrcode'][_0x34f67f(0x233)]===gi)return this['sendDataWebhook']('qrcode.updated',{'message':_0x34f67f(0x678),'statusCode':y[_0x34f67f(0x4fc)][_0x34f67f(0x536)]}),this['stateConnection']={'state':_0x34f67f(0x343),'statusReason':y['DisconnectReason'][_0x34f67f(0x29d)]},this[_0x34f67f(0x582)]('connection.update',{'instance':this['instance']['name'],...this[_0x34f67f(0x43f)]}),this[_0x34f67f(0x582)](_0x34f67f(0x6ae),{'instance':this[_0x34f67f(0x733)][_0x34f67f(0x471)],'status':_0x34f67f(0x6e6)}),this[_0x34f67f(0x16a)][_0x34f67f(0x5c8)][_0x34f67f(0x59f)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x34f67f(0x733)][_0x34f67f(0x471)]),this[_0x34f67f(0x25c)]=!0x0,this[_0x34f67f(0x10a)]['emit'](_0x34f67f(0x4b0),this['instance'][_0x34f67f(0x471)]);this['instance'][_0x34f67f(0x354)][_0x34f67f(0x233)]++;let _0x4d8e25={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x34f67f(0x6d6)}};br['default']['toDataURL'](_0x54cd1f,_0x4d8e25,(_0xb5ab84,_0x3a7f48)=>{const _0x2a3923=_0x34f67f;if(_0xb5ab84){this[_0x2a3923(0x3fa)][_0x2a3923(0x513)](this['instanceName']+'\x20('+this[_0x2a3923(0x733)][_0x2a3923(0x230)]+_0x2a3923(0x4e4)+(_0xb5ab84 instanceof Error?_0xb5ab84['message']:JSON['stringify'](_0xb5ab84,null,0x2)));return;}this[_0x2a3923(0x733)][_0x2a3923(0x354)][_0x2a3923(0x6c5)]=_0x3a7f48,this[_0x2a3923(0x733)][_0x2a3923(0x354)][_0x2a3923(0x5ab)]=_0x54cd1f,this[_0x2a3923(0x582)]('qrcode.updated',{'qrcode':{'instance':this[_0x2a3923(0x733)][_0x2a3923(0x471)],'pairingCode':this[_0x2a3923(0x733)][_0x2a3923(0x354)][_0x2a3923(0x390)],'code':_0x54cd1f,'base64':_0x3a7f48}});}),this[_0x34f67f(0x4ac)]?(await(0x0,y[_0x34f67f(0x570)])(0x7d0),this['instance'][_0x34f67f(0x354)][_0x34f67f(0x390)]=await this[_0x34f67f(0x289)]['requestPairingCode'](this['phoneNumber'])):this['instance'][_0x34f67f(0x354)][_0x34f67f(0x390)]=null,Sr[_0x34f67f(0x73c)][_0x34f67f(0x1b2)](_0x54cd1f,{'small':!0x0},_0x21ab91=>this['logger'][_0x34f67f(0x2ed)](_0x34f67f(0x33f)+this[_0x34f67f(0x733)][_0x34f67f(0x471)]+_0x34f67f(0xd0)+this[_0x34f67f(0x733)][_0x34f67f(0x354)][_0x34f67f(0x233)]+_0x34f67f(0x586)+this[_0x34f67f(0x733)][_0x34f67f(0x354)]['pairingCode']+'\x20}\x0a'+_0x21ab91));}if(_0x352a9e&&(this[_0x34f67f(0x43f)]={'state':_0x352a9e,'statusReason':_0x435b3c?.[_0x34f67f(0x513)]?.['output']?.[_0x34f67f(0x411)]??0xc8},this[_0x34f67f(0x582)]('connection.update',{'instance':this[_0x34f67f(0x733)][_0x34f67f(0x471)],...this['stateConnection']})),_0x352a9e===_0x34f67f(0x52c)){if(this[_0x34f67f(0x1f7)]++,this[_0x34f67f(0x4ed)][_0x34f67f(0x597)](Date[_0x34f67f(0x6b8)]()),this[_0x34f67f(0x4ed)]=this[_0x34f67f(0x4ed)][_0x34f67f(0x554)](_0xb81f8=>Date[_0x34f67f(0x6b8)]()-_0xb81f8<this['RECONNECT_TIME_FRAME']),_0x435b3c['error']?.[_0x34f67f(0x446)]?.[_0x34f67f(0x411)]!==y['DisconnectReason'][_0x34f67f(0x524)]&&this[_0x34f67f(0x4ed)]['length']<=this[_0x34f67f(0x262)])console[_0x34f67f(0x2ed)](this['instanceName']+_0x34f67f(0x3c3)+this[_0x34f67f(0x1f7)]+'/'+this[_0x34f67f(0x262)]+_0x34f67f(0x1d7)),console[_0x34f67f(0x2ed)](_0x34f67f(0x481)),await this['connectToWhatsapp']();else{this[_0x34f67f(0x582)](_0x34f67f(0x6ae),{'instance':this[_0x34f67f(0x733)][_0x34f67f(0x471)],'status':_0x34f67f(0x6e6)}),this[_0x34f67f(0x1a5)]=!0x1,this['repository'][_0x34f67f(0x101)][_0x34f67f(0x62c)](this[_0x34f67f(0x2c5)]),this['repository'][_0x34f67f(0x5c8)][_0x34f67f(0x59f)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x34f67f(0x733)][_0x34f67f(0x471)]);try{this[_0x34f67f(0x3fa)][_0x34f67f(0x204)](this[_0x34f67f(0x2c5)]+'\x20('+this[_0x34f67f(0x733)][_0x34f67f(0x230)]+_0x34f67f(0x3d5));let _0x38d0a7=await this['repository'][_0x34f67f(0x1ae)]['deleteAll'](this[_0x34f67f(0x733)][_0x34f67f(0x230)]);_0x38d0a7[_0x34f67f(0x525)]?this[_0x34f67f(0x3fa)][_0x34f67f(0x204)](this[_0x34f67f(0x2c5)]+'\x20('+this[_0x34f67f(0x733)][_0x34f67f(0x230)]+_0x34f67f(0x585)):console[_0x34f67f(0x513)](_0x34f67f(0xf6),_0x38d0a7[_0x34f67f(0x513)]);}catch(_0x5d04d6){console[_0x34f67f(0x513)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x5d04d6);}this['delayMessage']!==null&&(this[_0x34f67f(0x3fa)]['verbose'](this[_0x34f67f(0x2c5)]+'\x20('+this[_0x34f67f(0x733)]['wuid']+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x34f67f(0x485)]),this[_0x34f67f(0x485)]=null),this[_0x34f67f(0x3fa)][_0x34f67f(0x204)](this['instanceName']+'\x20('+this[_0x34f67f(0x733)]['wuid']+_0x34f67f(0x24d)),this[_0x34f67f(0x29c)]=null,this[_0x34f67f(0x10a)][_0x34f67f(0x269)](_0x34f67f(0x737),this[_0x34f67f(0x733)][_0x34f67f(0x471)],_0x34f67f(0x422)),this[_0x34f67f(0x289)]?.['ws']?.[_0x34f67f(0x52c)](),this[_0x34f67f(0x289)]['end'](new Error(_0x34f67f(0x129)));}}if(_0x352a9e===_0x34f67f(0x32e)){this[_0x34f67f(0x734)],this[_0x34f67f(0x733)][_0x34f67f(0x230)]=this[_0x34f67f(0x289)][_0x34f67f(0x688)]['id'][_0x34f67f(0x6c6)](/:\d+/,'')[_0x34f67f(0x6c6)]('@s.whatsapp.net',''),this[_0x34f67f(0x733)]['profilePictureUrl']=(await this['profilePicture'](this[_0x34f67f(0x733)][_0x34f67f(0x230)]+'@s.whatsapp.net'))[_0x34f67f(0x272)],this[_0x34f67f(0x16a)]['auth'][_0x34f67f(0x59f)]({'online':!0x0,'owner':this[_0x34f67f(0x733)][_0x34f67f(0x230)],'lastDisconnect':null},this[_0x34f67f(0x733)][_0x34f67f(0x471)]);let _0x5b8b56='Número:\x20'+this[_0x34f67f(0x733)]['wuid'],_0x1c521c=0x28,_0x595efd=Math[_0x34f67f(0x61c)]((_0x1c521c-_0x5b8b56[_0x34f67f(0x4c0)])/0x2),_0x1621b3='\x20'[_0x34f67f(0x42c)](_0x595efd),_0x4f5ce3=_0x34f67f(0x74b),_0x1f94ef='Instância:\x20'+this['instance'][_0x34f67f(0x471)],_0x20b63a=(''+_0x1621b3+_0x5b8b56+_0x1621b3)[_0x34f67f(0x6bc)](_0x1c521c,'\x20'),_0x5d038a=(''+_0x1621b3+_0x4f5ce3+_0x1621b3)[_0x34f67f(0x6bc)](_0x1c521c,'\x20'),_0x6b9889=(''+_0x1621b3+_0x1f94ef+_0x1621b3)[_0x34f67f(0x6bc)](_0x1c521c,'\x20'),_0x6c8a01=Math[_0x34f67f(0x2d4)](_0x20b63a[_0x34f67f(0x4c0)],_0x5d038a['length'],_0x6b9889[_0x34f67f(0x4c0)]),_0x319d59=_0x20b63a['padEnd'](_0x6c8a01,'\x20'),_0x300e45=_0x5d038a[_0x34f67f(0x6bc)](_0x6c8a01,'\x20'),_0x59a1ef=_0x6b9889[_0x34f67f(0x6bc)](_0x6c8a01,'\x20');this[_0x34f67f(0x3fa)]['info']((_0x34f67f(0x3f9)+'─'['repeat'](_0x6c8a01)+_0x34f67f(0x461)+_0x300e45+_0x34f67f(0x4ae)+_0x59a1ef+_0x34f67f(0x4ae)+_0x319d59+_0x34f67f(0x205)+'─'['repeat'](_0x6c8a01)+'┘')[_0x34f67f(0x6c6)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x34f67f(0x1a5)]=!0x0;}}['resetReconnectionVariables'](){const _0x55760b=a0_0x1f4c2a;this[_0x55760b(0x1f7)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x1f4c2a(0x315)](_0x152080,_0x5d406d=!0x1){const _0x5b1420=a0_0x1f4c2a;try{let _0x464822=await this[_0x5b1420(0x16a)][_0x5b1420(0x1ae)][_0x5b1420(0x34c)]({'where':{'_id':_0x152080['id']}},this[_0x5b1420(0x733)]['wuid']);return _0x5d406d?_0x464822[0x0]:_0x464822[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x1f4c2a(0x65f)](){const _0x343421=a0_0x1f4c2a;let _0x271312=this[_0x343421(0x1a6)][_0x343421(0x67a)](_0x343421(0x1d4)),_0x32a1a2=this[_0x343421(0x1a6)]['get'](_0x343421(0x51b));_0x271312?.['CLEANING_INTERVAL']&&!_0x32a1a2[_0x343421(0x177)]&&setInterval(()=>{const _0x3f25ed=_0x343421;try{for(let [_0x571808,_0x1b5b29]of Object['entries'](_0x271312))_0x1b5b29===!0x0&&(0x0,_t[_0x3f25ed(0x4e2)])(_0x3f25ed(0x192)+(0x0,U[_0x3f25ed(0x431)])(this[_0x3f25ed(0x68b)],_0x571808[_0x3f25ed(0x2bb)](),this[_0x3f25ed(0x733)][_0x3f25ed(0x230)])+_0x3f25ed(0x5e2));}catch{}},(_0x271312?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x1f4c2a(0x172)](){const _0x225e17=a0_0x1f4c2a;let _0x4408c6=this['configService'][_0x225e17(0x67a)](_0x225e17(0x51b)),_0x5cd777=this['configService'][_0x225e17(0x67a)](_0x225e17(0x12e));return _0x5cd777?.[_0x225e17(0x177)]?await bs(_0x5cd777,this['instance']['name']):_0x4408c6['ENABLED']?await ys(this[_0x225e17(0x733)][_0x225e17(0x471)]):await(0x0,y[_0x225e17(0x375)])((0x0,U['join'])(ge,this[_0x225e17(0x733)][_0x225e17(0x471)]));}async[a0_0x1f4c2a(0x213)](){const _0x23b8c2=a0_0x1f4c2a;let _0x28e2fd=()=>Math[_0x23b8c2(0x61c)](Math['random']()*0x2711)+0x7d0,_0x218026=async()=>{const _0x560da1=_0x23b8c2;if(!this[_0x560da1(0x1a5)]){this[_0x560da1(0x3fa)][_0x560da1(0x204)](_0x560da1(0x6cf)),this[_0x560da1(0x4f2)]=!0x1;return;}if(this[_0x560da1(0x733)][_0x560da1(0x230)]&&this[_0x560da1(0x29c)]&&this['delayMessage']!==null&&this[_0x560da1(0x485)]!==void 0x0){let _0x251837=Math[_0x560da1(0x73e)](this[_0x560da1(0x485)]/0xea60);this[_0x560da1(0x3fa)]['verbose'](this[_0x560da1(0x2c5)]+'\x20('+this[_0x560da1(0x733)][_0x560da1(0x230)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x251837+_0x560da1(0xd1)),this[_0x560da1(0x4f2)]=!0x1;return;}else this[_0x560da1(0x733)]['wuid']&&(this[_0x560da1(0x3fa)]['verbose'](this[_0x560da1(0x2c5)]+'\x20('+this[_0x560da1(0x733)][_0x560da1(0x230)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x560da1(0x3fa)][_0x560da1(0x204)](this[_0x560da1(0x2c5)]+'\x20('+this[_0x560da1(0x733)][_0x560da1(0x230)]+'):\x20Dados\x20migrados\x20com\x20sucesso'),this['AutomateSystem']||await this[_0x560da1(0x228)](),(this[_0x560da1(0x485)]===null||this[_0x560da1(0x485)]===void 0x0)&&await this[_0x560da1(0x104)]());if(this[_0x560da1(0x4f2)]){let _0x260c21=_0x28e2fd();this[_0x560da1(0x3fa)][_0x560da1(0x204)](this[_0x560da1(0x2c5)]+_0x560da1(0x48f)+_0x260c21/0x3e8+_0x560da1(0x3b9)),setTimeout(_0x218026,_0x260c21);}};if(this[_0x23b8c2(0x4f2)])return;this['isRunning']=!0x0;let _0x25f016=_0x28e2fd();setTimeout(_0x218026,_0x25f016);}async[a0_0x1f4c2a(0x2d0)](_0x5238eb=0x0,_0x17df04=!0x1){const _0x3c3178=a0_0x1f4c2a;try{if(!(this[_0x3c3178(0x1a6)][_0x3c3178(0x67a)](_0x3c3178(0x4ab))||!0x1)||_0x5238eb>=0x5)return this[_0x3c3178(0x3fa)][_0x3c3178(0x58d)](_0x3c3178(0x6bd)),this[_0x3c3178(0x16a)]['auth'][_0x3c3178(0x59f)]({'ip':null},this['instance'][_0x3c3178(0x471)]),{};this['logger'][_0x3c3178(0x204)](this[_0x3c3178(0x2c5)]+':\x20Tentativa\x20'+(_0x5238eb+0x1)+_0x3c3178(0x401));let _0x10da27;if(!_0x17df04){let _0x321799=await this[_0x3c3178(0x16a)][_0x3c3178(0x5c8)][_0x3c3178(0x34c)](this[_0x3c3178(0x2c5)]);_0x321799&&_0x321799['ip']&&(_0x10da27=hr(_0x321799['ip']));}if((!_0x10da27||!Ss(_0x10da27))&&(this[_0x3c3178(0x3fa)][_0x3c3178(0x204)](this['instanceName']+':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.'),_0x10da27=gr()),_0x10da27&&Ss(_0x10da27)){let _0x3d7071=_0x10da27[_0x3c3178(0x443)]&&_0x10da27[_0x3c3178(0x169)]?_0x10da27[_0x3c3178(0x2a8)]+_0x3c3178(0x15e)+_0x10da27[_0x3c3178(0x443)]+':'+_0x10da27[_0x3c3178(0x169)]+'@'+_0x10da27[_0x3c3178(0x21e)]+':'+_0x10da27[_0x3c3178(0x4cf)]:_0x10da27['protocol']+_0x3c3178(0x15e)+_0x10da27[_0x3c3178(0x21e)]+':'+_0x10da27['port'];return await this[_0x3c3178(0x4e8)](_0x3d7071,_0x10da27['host'])?(this['logger'][_0x3c3178(0x204)](this[_0x3c3178(0x2c5)]+_0x3c3178(0x531)),this[_0x3c3178(0x16a)][_0x3c3178(0x5c8)][_0x3c3178(0x59f)]({'ip':_0x10da27[_0x3c3178(0x21e)]},this[_0x3c3178(0x733)]['name']),{'agent':new Dt[(_0x3c3178(0x5e1))](_0x3d7071),'fetchAgent':new Dt[(_0x3c3178(0x5e1))](_0x3d7071)}):(this[_0x3c3178(0x3fa)][_0x3c3178(0x513)](this[_0x3c3178(0x2c5)]+_0x3c3178(0x3ec)),await(0x0,y['delay'])(0xc8),this[_0x3c3178(0x2d0)](_0x5238eb+0x1,!0x0));}else return this['logger'][_0x3c3178(0x513)](this[_0x3c3178(0x2c5)]+_0x3c3178(0x36f)),await(0x0,y[_0x3c3178(0x570)])(0xc8),this[_0x3c3178(0x2d0)](_0x5238eb+0x1,!0x0);}catch(_0x3a5084){return this[_0x3c3178(0x3fa)]['error'](this['instanceName']+_0x3c3178(0x721)+_0x3a5084['message']),{};}}async[a0_0x1f4c2a(0x4e8)](_0xa74454,_0x49e748){const _0x4d07c5=a0_0x1f4c2a;let _0x5610f8=new Dt[(_0x4d07c5(0x5e1))](_0xa74454),_0x23a974=0x1388,_0x402a32=[{'url':_0x4d07c5(0x385),'parse':_0x4b4d65=>_0x4b4d65['ip']},{'url':_0x4d07c5(0x103),'parse':_0x180cee=>_0x180cee['ip']},{'url':'http://checkip.dyndns.org','parse':_0x46843d=>_0x46843d[_0x4d07c5(0x739)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':'https://ipinfo.io/json','parse':_0x577947=>_0x577947['ip']},{'url':_0x4d07c5(0x453),'parse':_0xb47536=>_0xb47536['trim']()},{'url':'http://ipecho.net/plain','parse':_0x5242a9=>_0x5242a9[_0x4d07c5(0x2bd)]()},{'url':'http://ip-api.com/json','parse':_0x23870a=>_0x23870a[_0x4d07c5(0x2e3)]},{'url':_0x4d07c5(0x2ec),'parse':_0x447e4=>_0x447e4['trim']()},{'url':_0x4d07c5(0x3d2),'parse':_0x4790f8=>_0x4790f8[_0x4d07c5(0x2bd)]()}],_0x2d688b=_0x402a32[Math[_0x4d07c5(0x61c)](Math['random']()*_0x402a32['length'])];try{let _0x31be1b=await se[_0x4d07c5(0x73c)][_0x4d07c5(0x67a)](_0x2d688b['url'],{'httpsAgent':_0x5610f8,'timeout':_0x23a974}),_0x202af4=_0x2d688b['parse'](_0x31be1b[_0x4d07c5(0x54c)]);return _0x202af4===_0x49e748?(this[_0x4d07c5(0x3fa)][_0x4d07c5(0x204)](this['instanceName']+_0x4d07c5(0x685)+_0x49e748+_0x4d07c5(0x55a)+_0x202af4+_0x4d07c5(0x66d)),!0x0):(this[_0x4d07c5(0x3fa)]['error'](this[_0x4d07c5(0x2c5)]+_0x4d07c5(0x685)+_0x49e748+_0x4d07c5(0x55a)+_0x202af4+'\x20->\x20NÃO\x20CORRESPONDE.'),!0x1);}catch(_0x2387bc){return this['logger'][_0x4d07c5(0x513)](this[_0x4d07c5(0x2c5)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x2d688b[_0x4d07c5(0xea)]+':\x20'+_0x2387bc[_0x4d07c5(0x1ae)]),!0x1;}}async[a0_0x1f4c2a(0x5e0)](_0x3e0c91){const _0xe78e67=a0_0x1f4c2a;try{let _0x2f4134=await this[_0xe78e67(0x2d0)]();this['loadWebhook'](),this['instance']['authState']=await this['defineAuthState']();let {version:_0x57ff79}=await(0x0,y[_0xe78e67(0x31d)])(),_0x1b8d95=[Ns,Er,(0x0,Es[_0xe78e67(0x3b5)])()],_0x707655={..._0x2f4134,'auth':{'creds':this[_0xe78e67(0x733)]['authState'][_0xe78e67(0x18d)][_0xe78e67(0x60f)],'keys':(0x0,y[_0xe78e67(0x507)])(this['instance'][_0xe78e67(0xd3)][_0xe78e67(0x18d)][_0xe78e67(0x6c4)],(0x0,Ot[_0xe78e67(0x73c)])({'level':_0xe78e67(0x513)}))},'logger':(0x0,Ot[_0xe78e67(0x73c)])({'level':_0xe78e67(0x513)}),'printQRInTerminal':!0x1,'browser':_0x3e0c91?[_0xe78e67(0x2dc),Ns,(0x0,Es['release'])()]:_0x1b8d95,'version':_0x57ff79,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x31dd53=>{const _0x1cfcb0=_0xe78e67;let _0x595b03=_0x31dd53['endsWith'](_0x1cfcb0(0x14a)),_0x2ad215=_0x31dd53[_0x1cfcb0(0x222)]('@broadcast');return _0x595b03||_0x2ad215;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x16f398=>await this['getMessage'](_0x16f398),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0xe78e67(0x47b)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x58c73b=>(_0x58c73b[_0xe78e67(0xc5)]?.[_0xe78e67(0x3e8)]==y[_0xe78e67(0x147)]['Message'][_0xe78e67(0x499)][_0xe78e67(0x2c6)]['PRODUCT_LIST']&&(_0x58c73b=JSON[_0xe78e67(0x4d9)](JSON[_0xe78e67(0x311)](_0x58c73b)),_0x58c73b[_0xe78e67(0xc5)][_0xe78e67(0x3e8)]=y[_0xe78e67(0x147)]['Message'][_0xe78e67(0x499)]['ListType'][_0xe78e67(0x24c)]),_0x58c73b)};return this[_0xe78e67(0x25c)]=!0x1,this[_0xe78e67(0x289)]=(0x0,y[_0xe78e67(0x73c)])(_0x707655),this[_0xe78e67(0x6ba)](),this[_0xe78e67(0x4ac)]=_0x3e0c91,this[_0xe78e67(0x289)];}catch(_0x4f0850){throw this[_0xe78e67(0x3fa)][_0xe78e67(0x513)](this[_0xe78e67(0x2c5)]+'\x20('+this['instance'][_0xe78e67(0x230)]+_0xe78e67(0x2f5)+(_0x4f0850 instanceof Error?_0x4f0850[_0xe78e67(0x1ae)]:JSON[_0xe78e67(0x311)](_0x4f0850,null,0x2))),new O(_0x4f0850?.[_0xe78e67(0x6f3)]());}}[a0_0x1f4c2a(0x6ba)](){const _0x1ac7d6=a0_0x1f4c2a;this[_0x1ac7d6(0x289)]['ev'][_0x1ac7d6(0x409)](_0x403374=>{const _0x36433d=_0x1ac7d6;if(!this[_0x36433d(0x25c)]){let _0x1475dd=this[_0x36433d(0x1a6)][_0x36433d(0x67a)](_0x36433d(0x51b));if(_0x403374['labels.edit']){let _0x585876=_0x403374[_0x36433d(0x73f)];this[_0x36433d(0x54f)][_0x36433d(0x73f)](_0x585876);}if(_0x403374[_0x36433d(0x135)]){let _0x49f142=_0x403374[_0x36433d(0x135)];this['messageHandle']['labels.association'](_0x49f142);}if(_0x403374[_0x36433d(0x6ee)]&&this[_0x36433d(0x308)](_0x403374[_0x36433d(0x6ee)]),_0x403374[_0x36433d(0x310)]&&this[_0x36433d(0x733)][_0x36433d(0xd3)][_0x36433d(0xce)](),_0x403374[_0x36433d(0x36c)]){let _0x5378eb=_0x403374[_0x36433d(0x36c)];this[_0x36433d(0x54f)][_0x36433d(0x36c)](_0x5378eb,_0x1475dd);}if(_0x403374['messages.upsert']){let _0x2b213d=_0x403374['messages.upsert'];this[_0x36433d(0x54f)][_0x36433d(0x2ef)](_0x2b213d,_0x1475dd);}if(_0x403374[_0x36433d(0x695)]){let _0x44dbd2=_0x403374[_0x36433d(0x695)];_0x44dbd2[_0x36433d(0x67f)](_0x292cd5=>{const _0x27d0bc=_0x36433d;if(fr[_0x292cd5['key']['id']]){this['client']['ev']['emit'](_0x27d0bc(0x2ef),{'messages':[_0x292cd5],'type':_0x27d0bc(0x22e)}),delete fr[_0x292cd5['key']['id']];return;}}),this[_0x36433d(0x54f)][_0x36433d(0x695)](_0x44dbd2,_0x1475dd);}if(_0x403374['presence.update']){let _0x38edf6=_0x403374[_0x36433d(0xcc)];if(this['localWebhook']?.['groups_ignore']&&_0x38edf6['id'][_0x36433d(0x5bb)](_0x36433d(0x121)))return;this['sendDataWebhook']('presence.update',_0x38edf6);}if(!this[_0x36433d(0x3c4)]?.[_0x36433d(0x40f)]){if(_0x403374[_0x36433d(0x16d)]){let _0x5c1bb2=_0x403374[_0x36433d(0x16d)];this[_0x36433d(0x29f)]['groups.upsert'](_0x5c1bb2);}if(_0x403374[_0x36433d(0x584)]){let _0x104eb6=_0x403374[_0x36433d(0x584)];this[_0x36433d(0x29f)][_0x36433d(0x584)](_0x104eb6);}if(_0x403374[_0x36433d(0x277)]){let _0x391199=_0x403374[_0x36433d(0x277)];this['groupHandler'][_0x36433d(0x277)](_0x391199);}}if(_0x403374['chats.upsert']){let _0x408c7c=_0x403374[_0x36433d(0xd9)];this['chatHandle'][_0x36433d(0xd9)](_0x408c7c,_0x1475dd);}if(_0x403374['chats.update']){let _0x1d5a2e=_0x403374[_0x36433d(0x6d0)];this['chatHandle']['chats.update'](_0x1d5a2e,_0x1475dd);}if(_0x403374[_0x36433d(0x693)]){let _0xb3e4ff=_0x403374[_0x36433d(0x693)];this[_0x36433d(0x12b)]['chats.delete'](_0xb3e4ff);}if(_0x403374[_0x36433d(0x118)]){let _0x11d266=_0x403374[_0x36433d(0x118)];this['contactHandle'][_0x36433d(0x118)](_0x11d266,_0x1475dd);}if(_0x403374[_0x36433d(0x150)]){let _0x51fcb2=_0x403374['contacts.update'];this[_0x36433d(0x516)][_0x36433d(0x150)](_0x51fcb2,_0x1475dd);}}});}[a0_0x1f4c2a(0xc6)](_0x36c31b){return new Promise(_0x178947=>setTimeout(_0x178947,_0x36c31b));}['formatBRNumber'](_0x4e2dcf){const _0x8b7fd5=a0_0x1f4c2a;let _0x35dbb8=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x8b7fd5(0x449)](_0x4e2dcf);if(_0x35dbb8&&_0x35dbb8[0x1]==='55'){let _0x197f1f=_0x35dbb8[0x2],_0x9a41c=_0x35dbb8[0x3],_0x11d1aa=_0x35dbb8[0x4];if(_0x197f1f>='31'&&_0x9a41c==='9')return _0x35dbb8[0x1]+_0x197f1f+_0x11d1aa;}return _0x4e2dcf;}[a0_0x1f4c2a(0x5e5)](_0x8398e3){const _0x3d0a6f=a0_0x1f4c2a;return _0x8398e3[_0x3d0a6f(0x5bb)](_0x3d0a6f(0x121))||_0x8398e3[_0x3d0a6f(0x5bb)](_0x3d0a6f(0x1cb))||_0x8398e3['includes'](_0x3d0a6f(0x241))?_0x8398e3:(_0x8398e3=_0x8398e3?.['replace'](/\s/g,'')[_0x3d0a6f(0x6c6)](/\+/g,'')[_0x3d0a6f(0x6c6)](/\(/g,'')[_0x3d0a6f(0x6c6)](/\)/g,'')[_0x3d0a6f(0x702)](/\:/)[0x0][_0x3d0a6f(0x702)]('@')[0x0],_0x8398e3[_0x3d0a6f(0x4c0)]>=0x12?(_0x8398e3=_0x8398e3[_0x3d0a6f(0x6c6)](/[^\d-]/g,''),_0x8398e3+_0x3d0a6f(0x121)):(_0x8398e3=_0x8398e3[_0x3d0a6f(0x6c6)](/\D/g,''),this['formatBRNumber'](_0x8398e3)+_0x3d0a6f(0x1cb)));}async[a0_0x1f4c2a(0x3ab)](_0x333d5d){const _0x5d4a0d=a0_0x1f4c2a;let _0x3ca196=this[_0x5d4a0d(0x5e5)](_0x333d5d['number']),_0xfeee8a=(await this[_0x5d4a0d(0x234)]({'numbers':[_0x3ca196]}))[0x0];if(!_0xfeee8a['exists']&&!(0x0,y[_0x5d4a0d(0x730)])(_0xfeee8a['jid']))throw new m(_0xfeee8a);let _0x37fb8f=(0x0,y[_0x5d4a0d(0x730)])(_0x3ca196)?_0x3ca196:_0xfeee8a['jid'];if((0x0,y[_0x5d4a0d(0x730)])(_0x37fb8f))try{await this['client'][_0x5d4a0d(0x1e8)](_0x37fb8f);}catch{throw new L('Group\x20not\x20found');}try{return await this[_0x5d4a0d(0x289)]['presenceSubscribe'](_0x37fb8f),await this['client'][_0x5d4a0d(0x32a)](_0x333d5d[_0x5d4a0d(0x6b7)],_0x3ca196),{'status':0xc8,'presence':_0x333d5d['presence']};}catch(_0x1814cb){throw new m(_0x1814cb['toString']());}}async[a0_0x1f4c2a(0x6b4)](_0x13436f){const _0x1bc888=a0_0x1f4c2a;let _0x31ce7b=this[_0x1bc888(0x5e5)](_0x13436f);try{return{'wuid':_0x31ce7b,'profilePictureUrl':await this['client']['profilePictureUrl'](_0x31ce7b,'image')};}catch{return{'wuid':_0x31ce7b,'profilePictureUrl':null};}}async[a0_0x1f4c2a(0x26f)](_0x165f8e,_0x5b7b12,_0x5a7284){const _0x512257=a0_0x1f4c2a;_0x5a7284||(_0x5a7284={});let _0x379d10=(await this[_0x512257(0x234)]({'numbers':[_0x165f8e]}))[0x0];if(!_0x379d10[_0x512257(0x3c9)]&&!(0x0,y[_0x512257(0x730)])(_0x379d10[_0x512257(0x255)])&&!_0x379d10[_0x512257(0x255)]['includes'](_0x512257(0x241)))throw new m(_0x379d10);let _0x58fd5e=_0x379d10[_0x512257(0x255)];try{_0x5a7284?.[_0x512257(0x570)]&&(await this[_0x512257(0x289)]['presenceSubscribe'](_0x58fd5e),await this[_0x512257(0x289)][_0x512257(0x32a)](_0x5a7284?.['presence']??_0x512257(0x3a6),_0x58fd5e),await(0x0,y[_0x512257(0x570)])(_0x5a7284['delay']),await this[_0x512257(0x289)][_0x512257(0x32a)](_0x512257(0x5cc),_0x58fd5e));let _0x4198a8=_0x5a7284?.[_0x512257(0x6f5)]!=!0x1?void 0x0:!0x1,_0x4655fa;if(_0x5a7284?.[_0x512257(0xc4)]){let _0x2a60e2=_0x5a7284?.[_0x512257(0xc4)],_0x2163cc=_0x2a60e2?.['message']?_0x2a60e2:await this[_0x512257(0x315)](_0x2a60e2[_0x512257(0x114)],!0x0);if(!_0x2163cc)throw _0x512257(0x5ad);_0x4655fa=_0x2163cc;}let _0x370cad;if((0x0,y['isJidGroup'])(_0x58fd5e))try{let _0x39b835=await this[_0x512257(0x289)]['groupMetadata'](_0x58fd5e);if(!_0x39b835)throw new L('Group\x20not\x20found');_0x5a7284?.[_0x512257(0x24e)]&&(_0x5a7284[_0x512257(0x24e)]?.['everyOne']?_0x370cad=_0x39b835['participants'][_0x512257(0x441)](_0x589495=>_0x589495['id']):_0x5a7284['mentions']?.[_0x512257(0x63d)]?.['length']&&(_0x370cad=_0x5a7284[_0x512257(0x24e)][_0x512257(0x63d)][_0x512257(0x441)](_0x3a5016=>{let _0x4a13c7=this['createJid'](_0x3a5016);return(0x0,y['isJidGroup'])(_0x4a13c7)?null:_0x4a13c7;})));}catch{throw new L(_0x512257(0x4ca));}let _0x3f6190=await((async()=>{const _0x1f827a=_0x512257;let _0x50ea7e={'quoted':_0x4655fa};if(!_0x5b7b12['audio']&&!_0x5b7b12[_0x1f827a(0x51d)]&&!_0x5b7b12[_0x1f827a(0x338)]&&!_0x5b7b12[_0x1f827a(0x5fb)]&&_0x58fd5e!=='status@broadcast'&&!_0x5b7b12['audio'])return await this['client'][_0x1f827a(0x1ff)](_0x58fd5e,{'forward':{'key':{'remoteJid':this[_0x1f827a(0x733)]['wuid'],'fromMe':!0x0},'message':_0x5b7b12},'mentions':_0x370cad},_0x50ea7e);if(_0x5b7b12[_0x1f827a(0x5fb)]){let _0x190327=_0x5b7b12[_0x1f827a(0x5fb)];return _0x5a7284?.[_0x1f827a(0x187)]&&(_0x190327=await this[_0x1f827a(0x44b)](_0x190327,_0x58fd5e)),await this[_0x1f827a(0x289)]['sendMessage'](_0x58fd5e,{'text':_0x190327,'mentions':_0x370cad,'linkPreview':_0x4198a8},_0x50ea7e);}return _0x58fd5e==='status@broadcast'?await this[_0x1f827a(0x289)]['sendMessage'](_0x58fd5e,_0x5b7b12[_0x1f827a(0x6ac)][_0x1f827a(0x3d4)],{'backgroundColor':_0x5b7b12[_0x1f827a(0x6ac)][_0x1f827a(0x3e1)][_0x1f827a(0x318)],'font':_0x5b7b12[_0x1f827a(0x6ac)]['option'][_0x1f827a(0x51e)],'statusJidList':_0x5b7b12[_0x1f827a(0x6ac)][_0x1f827a(0x3e1)][_0x1f827a(0x61b)]}):await this[_0x1f827a(0x289)][_0x1f827a(0x1ff)](_0x58fd5e,_0x5b7b12,_0x50ea7e);})()),{message_normalized:_0x2259f8}=this[_0x512257(0x24f)](_0x3f6190[_0x512257(0x1ae)],k(_0x3f6190['message']),null),_0x2493e7={'_id':_0x3f6190[_0x512257(0x114)]['id'],'key':_0x3f6190[_0x512257(0x114)],'pushName':_0x3f6190['pushName'],'message':{..._0x3f6190[_0x512257(0x1ae)]},'messageType':k(_0x3f6190['message']),'message_normalized':{'key':_0x3f6190[_0x512257(0x114)],'pushName':_0x3f6190['pushName'],'messageTimestamp':_0x3f6190[_0x512257(0x6b2)]&&_0x3f6190[_0x512257(0x6b2)][_0x512257(0x6f3)]()[_0x512257(0x4c0)]<0xd?_0x3f6190[_0x512257(0x6b2)]*0x3e8:_0x3f6190[_0x512257(0x6b2)]||null,'source':(0x0,y[_0x512257(0x111)])(_0x3f6190[_0x512257(0x114)]['id']),..._0x2259f8},'messageTimestamp':_0x3f6190['messageTimestamp']&&_0x3f6190[_0x512257(0x6b2)][_0x512257(0x6f3)]()['length']<0xd?_0x3f6190[_0x512257(0x6b2)]*0x3e8:_0x3f6190[_0x512257(0x6b2)]||null,'owner':this['instance'][_0x512257(0x230)],'source':(0x0,y[_0x512257(0x111)])(_0x3f6190[_0x512257(0x114)]['id'])};return this[_0x512257(0x3fa)][_0x512257(0x2ed)](this[_0x512257(0x2c5)]+'\x20('+this[_0x512257(0x733)][_0x512257(0x230)]+'):('+_0x2493e7['messageType']+_0x512257(0x4c6)+_0x2493e7[_0x512257(0x114)]?.['remoteJid'][_0x512257(0x6c6)](_0x512257(0x1cb),'')+']:'),_0x2493e7['message_normalized']?.[_0x512257(0x5d4)]&&this[_0x512257(0x3fa)]['log'](_0x2493e7[_0x512257(0x5c9)]?.[_0x512257(0x5d4)]),this[_0x512257(0x582)](_0x512257(0x11e),_0x2493e7),J(this[_0x512257(0x2c5)],_0x512257(0x57a),{'message':_0x2493e7}),this['updateChatWithMessage'](this[_0x512257(0x1a6)][_0x512257(0x67a)](_0x512257(0x51b)),_0x2493e7,_0x512257(0x10f)),await this[_0x512257(0x16a)][_0x512257(0x1ae)][_0x512257(0x2d2)]([_0x2493e7],this['instance'][_0x512257(0x230)]),_0x3f6190;}catch(_0x38b27e){throw this[_0x512257(0x3fa)]['error'](this[_0x512257(0x2c5)]+'\x20('+this[_0x512257(0x733)]['wuid']+_0x512257(0x2f5)+_0x38b27e[_0x512257(0x6f3)]()),new m(_0x38b27e[_0x512257(0x6f3)]());}}get['connectionStatus'](){const _0x1ae47d=a0_0x1f4c2a;return this[_0x1ae47d(0x43f)];}async[a0_0x1f4c2a(0x433)](_0x47e1c6){const _0x573462=a0_0x1f4c2a;let _0x583a9e=mr,_0x56835c=He;return _0x56835c&&this[_0x573462(0x2c5)][_0x573462(0x2bb)]()[_0x573462(0x5bb)](_0x56835c['toLowerCase']())&&(_0x47e1c6[_0x573462(0x433)][_0x573462(0x5d4)]+='\x0a\x0a'+_0x583a9e),await this[_0x573462(0x26f)](_0x47e1c6[_0x573462(0x593)],{'conversation':_0x47e1c6[_0x573462(0x433)]['text']},_0x47e1c6?.['options']);}async['formatStatusMessage'](_0x5ae181){const _0x4b67fa=a0_0x1f4c2a;if(!_0x5ae181[_0x4b67fa(0x72c)])throw new m(_0x4b67fa(0x38f));if(!_0x5ae181[_0x4b67fa(0x3d4)])throw new m('Content\x20is\x20required');if(_0x5ae181[_0x4b67fa(0x312)]){let _0x572bb6=await this['repository'][_0x4b67fa(0x1d9)]['find']({'where':{}},this['instance'][_0x4b67fa(0x230)]);if(!_0x572bb6[_0x4b67fa(0x4c0)])throw new m(_0x4b67fa(0x627));_0x5ae181[_0x4b67fa(0x61b)]=_0x572bb6['filter'](_0x326d36=>_0x326d36[_0x4b67fa(0x42b)])[_0x4b67fa(0x441)](_0x4efaad=>_0x4efaad['_id']);}if(!_0x5ae181['statusJidList']?.['length']&&!_0x5ae181[_0x4b67fa(0x312)])throw new m(_0x4b67fa(0x65e));if(_0x5ae181['type']===_0x4b67fa(0x5d4)){if(!_0x5ae181[_0x4b67fa(0x318)])throw new m('Background\x20color\x20is\x20required');if(!_0x5ae181['font'])throw new m(_0x4b67fa(0xf0));return{'content':{'text':_0x5ae181[_0x4b67fa(0x3d4)]},'option':{'backgroundColor':_0x5ae181[_0x4b67fa(0x318)],'font':_0x5ae181[_0x4b67fa(0x51e)],'statusJidList':_0x5ae181[_0x4b67fa(0x61b)]}};}if(_0x5ae181[_0x4b67fa(0x72c)]==='image')return{'content':{'image':{'url':_0x5ae181[_0x4b67fa(0x3d4)]},'caption':_0x5ae181['caption']},'option':{'statusJidList':_0x5ae181[_0x4b67fa(0x61b)]}};if(_0x5ae181[_0x4b67fa(0x72c)]===_0x4b67fa(0x4d3))return{'content':{'video':{'url':_0x5ae181['content']},'caption':_0x5ae181[_0x4b67fa(0x599)]},'option':{'statusJidList':_0x5ae181[_0x4b67fa(0x61b)]}};if(_0x5ae181[_0x4b67fa(0x72c)]===_0x4b67fa(0x5c1)){this[_0x4b67fa(0x3fa)][_0x4b67fa(0x204)](_0x4b67fa(0x6dd)),this['logger'][_0x4b67fa(0x204)](_0x4b67fa(0x526));let _0x2e390c=await this[_0x4b67fa(0x28e)](_0x5ae181[_0x4b67fa(0x3d4)]);if(typeof _0x2e390c=='string'){this[_0x4b67fa(0x3fa)][_0x4b67fa(0x204)](_0x4b67fa(0x13a));let _0x33ac98=j[_0x4b67fa(0xd6)](_0x2e390c)[_0x4b67fa(0x6f3)](_0x4b67fa(0x6c5));return{'content':{'audio':Buffer[_0x4b67fa(0x697)](_0x33ac98,_0x4b67fa(0x6c5)),'ptt':!0x0,'mimetype':_0x4b67fa(0x4c9)},'option':{'statusJidList':_0x5ae181['statusJidList']}};}else throw new O(_0x2e390c);}throw new m(_0x4b67fa(0x6f1));}async[a0_0x1f4c2a(0x41f)](_0x25ad32){const _0x169227=a0_0x1f4c2a;return await this[_0x169227(0x26f)](_0x169227(0x2af),{'status':await this[_0x169227(0x465)](_0x25ad32['statusMessage'])});}async[a0_0x1f4c2a(0x67b)](_0x50064c){const _0x3f0b6c=a0_0x1f4c2a;try{let _0x553c7d=await(0x0,y['prepareWAMessageMedia'])({[_0x50064c[_0x3f0b6c(0x5c3)]]:(0x0,P[_0x3f0b6c(0xf5)])(_0x50064c[_0x3f0b6c(0x628)])?{'url':_0x50064c[_0x3f0b6c(0x628)]}:Buffer[_0x3f0b6c(0x697)](_0x50064c[_0x3f0b6c(0x628)],_0x3f0b6c(0x6c5))},{'upload':this[_0x3f0b6c(0x289)]['waUploadToServer']}),_0x2cd1da=_0x50064c[_0x3f0b6c(0x5c3)]+'Message';if(_0x50064c['mediatype']===_0x3f0b6c(0x33a)&&!_0x50064c[_0x3f0b6c(0x5d1)]){let _0x3cfa90=new RegExp(/.*\/(.+?)\./)['exec'](_0x50064c[_0x3f0b6c(0x628)]);_0x50064c[_0x3f0b6c(0x5d1)]=_0x3cfa90?_0x3cfa90[0x1]:null;}let _0x3f08c2=(0x0,P[_0x3f0b6c(0xf5)])(_0x50064c[_0x3f0b6c(0x628)])?_0x50064c[_0x3f0b6c(0x628)][_0x3f0b6c(0x702)]('?')[0x0]:_0x50064c[_0x3f0b6c(0x628)];this[_0x3f0b6c(0x3fa)][_0x3f0b6c(0x204)](_0x3f0b6c(0x306)+_0x3f08c2);let _0x2411e4;(0x0,P[_0x3f0b6c(0xf5)])(_0x50064c['media'])?_0x2411e4=(0x0,It['getMIMEType'])(_0x3f08c2):_0x50064c[_0x3f0b6c(0x5d1)]&&_0x50064c[_0x3f0b6c(0x5d1)][_0x3f0b6c(0x5bb)]('.')?_0x2411e4=(0x0,It[_0x3f0b6c(0x562)])(_0x50064c[_0x3f0b6c(0x5d1)]):_0x2411e4=(0x0,It[_0x3f0b6c(0x562)])(_0x50064c[_0x3f0b6c(0x628)]);let _0x1114d6=mr,_0x38d75f=He;return _0x38d75f&&this[_0x3f0b6c(0x2c5)][_0x3f0b6c(0x2bb)]()[_0x3f0b6c(0x5bb)](_0x38d75f[_0x3f0b6c(0x2bb)]())&&(_0x50064c['caption']+='\x0a\x0a'+_0x1114d6),_0x553c7d[_0x2cd1da][_0x3f0b6c(0x599)]=_0x50064c?.['caption'],_0x553c7d[_0x2cd1da][_0x3f0b6c(0x403)]=_0x2411e4,_0x553c7d[_0x2cd1da][_0x3f0b6c(0x5d1)]=_0x50064c[_0x3f0b6c(0x5d1)],_0x50064c['mediatype']===_0x3f0b6c(0x4d3)&&(_0x553c7d[_0x2cd1da][_0x3f0b6c(0x5ce)]=Uint8Array['from']((0x0,ve[_0x3f0b6c(0xd6)])((0x0,U[_0x3f0b6c(0x431)])(process[_0x3f0b6c(0x551)](),_0x3f0b6c(0x45b)))),_0x553c7d[_0x2cd1da][_0x3f0b6c(0x500)]=!0x1),(0x0,y[_0x3f0b6c(0x4b9)])('',{[_0x2cd1da]:{..._0x553c7d[_0x2cd1da]}},{'userJid':this[_0x3f0b6c(0x733)][_0x3f0b6c(0x230)]});}catch(_0x439a1d){throw this[_0x3f0b6c(0x3fa)][_0x3f0b6c(0x513)](this['instanceName']+'\x20('+this[_0x3f0b6c(0x733)][_0x3f0b6c(0x230)]+'):\x20'+(_0x439a1d instanceof Error?_0x439a1d[_0x3f0b6c(0x1ae)]:JSON[_0x3f0b6c(0x311)](_0x439a1d,null,0x2))),new O(_0x439a1d?.['toString']()||_0x439a1d);}}async['mediaMessage'](_0x1f6eee){const _0x4dd658=a0_0x1f4c2a;let _0x434818=await this['prepareMediaMessage'](_0x1f6eee['mediaMessage']);return await this['sendMessageWithTyping'](_0x1f6eee[_0x4dd658(0x593)],{..._0x434818[_0x4dd658(0x1ae)]},_0x1f6eee?.[_0x4dd658(0x740)]);}async['convertToWebP'](_0xe75fa4,_0xc6d5ab){const _0x424abb=a0_0x1f4c2a;try{this[_0x424abb(0x3fa)][_0x424abb(0x204)](_0x424abb(0x430));let _0x3776fa,_0x3bf011=_0xc6d5ab+'-'+new Date()[_0x424abb(0x225)]();this[_0x424abb(0x3fa)]['verbose']('Hash\x20to\x20image\x20name:\x20'+_0x3bf011);let _0x52f2c7=''+(0x0,U[_0x424abb(0x431)])(this[_0x424abb(0x68b)],_0x3bf011+'.webp');if(this[_0x424abb(0x3fa)][_0x424abb(0x204)](_0x424abb(0x727)+_0x52f2c7),(0x0,P[_0x424abb(0x469)])(_0xe75fa4)){this[_0x424abb(0x3fa)][_0x424abb(0x204)](_0x424abb(0x39d));let _0x50c795=_0xe75fa4[_0x424abb(0x6c6)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x137dec=Buffer[_0x424abb(0x697)](_0x50c795,_0x424abb(0x6c5));_0x3776fa=''+(0x0,U[_0x424abb(0x431)])(this['storePath'],_0x424abb(0x50b)+_0x3bf011+_0x424abb(0x5be)),this[_0x424abb(0x3fa)][_0x424abb(0x204)](_0x424abb(0x53a)+_0x3776fa),await(0x0,xt[_0x424abb(0x73c)])(_0x137dec)[_0x424abb(0x358)](_0x3776fa),this[_0x424abb(0x3fa)][_0x424abb(0x204)]('Image\x20created');}else{this[_0x424abb(0x3fa)][_0x424abb(0x204)](_0x424abb(0xe0));let _0x495e7e=new Date()[_0x424abb(0x225)](),_0x3f0d47=_0xe75fa4+_0x424abb(0x126)+_0x495e7e;this[_0x424abb(0x3fa)]['verbose']('including\x20timestamp\x20in\x20url:\x20'+_0x3f0d47);let _0x50d52b=await se['default'][_0x424abb(0x67a)](_0x3f0d47,{'responseType':_0x424abb(0x3cc)});this[_0x424abb(0x3fa)][_0x424abb(0x204)](_0x424abb(0x302));let _0x5dff85=Buffer['from'](_0x50d52b[_0x424abb(0x54c)],_0x424abb(0x36e));_0x3776fa=''+(0x0,U[_0x424abb(0x431)])(this[_0x424abb(0x68b)],_0x424abb(0x50b)+_0x3bf011+_0x424abb(0x5be)),this['logger'][_0x424abb(0x204)]('Image\x20path:\x20'+_0x3776fa),await(0x0,xt[_0x424abb(0x73c)])(_0x5dff85)[_0x424abb(0x358)](_0x3776fa),this[_0x424abb(0x3fa)][_0x424abb(0x204)](_0x424abb(0x300));}return await(0x0,xt['default'])(_0x3776fa)[_0x424abb(0x2b5)]()[_0x424abb(0x358)](_0x52f2c7),this['logger'][_0x424abb(0x204)](_0x424abb(0x4d5)),j[_0x424abb(0x1a0)](_0x3776fa),this[_0x424abb(0x3fa)]['verbose'](_0x424abb(0x60c)),_0x52f2c7;}catch(_0x52f0fa){console[_0x424abb(0x513)](_0x424abb(0xdd),_0x52f0fa instanceof Error?_0x52f0fa[_0x424abb(0x1ae)]:JSON[_0x424abb(0x311)](_0x52f0fa,null,0x2));}}async['mediaSticker'](_0x20e20c){const _0xd1154f=a0_0x1f4c2a;let _0x2a5124=await this[_0xd1154f(0x4e7)](_0x20e20c['stickerMessage']['image'],_0x20e20c[_0xd1154f(0x593)]),_0x307126=await this[_0xd1154f(0x26f)](_0x20e20c['number'],{'sticker':{'url':_0x2a5124}},_0x20e20c?.['options']);return j[_0xd1154f(0x1a0)](_0x2a5124),this[_0xd1154f(0x3fa)]['verbose']('Converted\x20image\x20deleted'),_0x307126;}async['audioWhatsapp'](_0x4aae51){const _0x13afaa=a0_0x1f4c2a;if(this[_0x13afaa(0x3fa)]['verbose'](_0x13afaa(0x279)),!_0x4aae51['options']?.[_0x13afaa(0xde)]&&_0x4aae51['options']?.[_0x13afaa(0xde)]!==!0x1&&(_0x4aae51[_0x13afaa(0x740)][_0x13afaa(0xde)]=!0x0),_0x4aae51[_0x13afaa(0x740)]?.[_0x13afaa(0xde)]){let _0x3a2c31=await this['convertaudio'](_0x4aae51[_0x13afaa(0x373)][_0x13afaa(0x5c1)]);if(typeof _0x3a2c31==_0x13afaa(0x2f1)){let _0x55deef=j[_0x13afaa(0xd6)](_0x3a2c31)[_0x13afaa(0x6f3)](_0x13afaa(0x6c5)),_0x563066=this[_0x13afaa(0x26f)](_0x4aae51[_0x13afaa(0x593)],{'audio':Buffer[_0x13afaa(0x697)](_0x55deef,_0x13afaa(0x6c5)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':_0x13afaa(0x511),'delay':_0x4aae51?.[_0x13afaa(0x740)]?.[_0x13afaa(0x570)]});return this[_0x13afaa(0x3fa)]['verbose'](_0x13afaa(0x5b2)),_0x563066;}else throw new O(_0x3a2c31);}return await this[_0x13afaa(0x26f)](_0x4aae51[_0x13afaa(0x593)],{'audio':(0x0,P[_0x13afaa(0xf5)])(_0x4aae51[_0x13afaa(0x373)][_0x13afaa(0x5c1)])?{'url':_0x4aae51[_0x13afaa(0x373)][_0x13afaa(0x5c1)]}:Buffer[_0x13afaa(0x697)](_0x4aae51[_0x13afaa(0x373)][_0x13afaa(0x5c1)],'base64'),'ptt':!0x0,'mimetype':_0x13afaa(0x71a)},{'presence':_0x13afaa(0x511),'delay':_0x4aae51?.[_0x13afaa(0x740)]?.[_0x13afaa(0x570)]});}async['convertaudio'](_0x52cffa){const _0x3cc890=a0_0x1f4c2a;this[_0x3cc890(0x3fa)][_0x3cc890(0x204)]('Processing\x20audio');let _0x110ae2=(0x0,P[_0x3cc890(0xf5)])(_0x52cffa)?(0x0,vs[_0x3cc890(0x29a)])('sha256')[_0x3cc890(0x64d)](_0x52cffa)[_0x3cc890(0x67c)](_0x3cc890(0x5fe)):(0x0,vs[_0x3cc890(0x29a)])(_0x3cc890(0x291))[_0x3cc890(0x64d)](_0x52cffa)[_0x3cc890(0x67c)](_0x3cc890(0x5fe)),_0x516d8d=''+(0x0,U[_0x3cc890(0x431)])(this['storePath'],_0x110ae2+_0x3cc890(0x6b5));if(j[_0x3cc890(0x246)](_0x516d8d))return this[_0x3cc890(0x3fa)][_0x3cc890(0x204)](_0x3cc890(0x2ae)),_0x516d8d;let _0x58d295=''+(0x0,U[_0x3cc890(0x431)])(this[_0x3cc890(0x68b)],_0x3cc890(0x50b)+(0x0,Me['v4'])()+_0x3cc890(0x475));if((0x0,P['isURL'])(_0x52cffa)){let _0x15ab13=new Date()[_0x3cc890(0x225)](),_0x4d6352=_0x52cffa+'?timestamp='+_0x15ab13,_0x5b7296=await se['default'][_0x3cc890(0x67a)](_0x4d6352,{'responseType':_0x3cc890(0x3cc)});j[_0x3cc890(0x66b)](_0x58d295,_0x5b7296['data']);}else{let _0xe7e541=Buffer[_0x3cc890(0x697)](_0x52cffa,_0x3cc890(0x6c5));j['writeFileSync'](_0x58d295,_0xe7e541);}return new Promise((_0x45b818,_0x1a4853)=>{const _0x1d8d73=_0x3cc890;(0x0,_t['exec'])(wr[_0x1d8d73(0x73c)][_0x1d8d73(0x196)]+_0x1d8d73(0x31f)+_0x58d295+_0x1d8d73(0x3ce)+_0x516d8d+_0x1d8d73(0x1dd),_0xf12e6c=>{const _0x5653d9=_0x1d8d73;if(j['unlinkSync'](_0x58d295),_0xf12e6c){this[_0x5653d9(0x3fa)][_0x5653d9(0x204)](_0x5653d9(0x539)),_0x1a4853(_0xf12e6c);return;}this['logger'][_0x5653d9(0x204)](_0x5653d9(0x1f1)),_0x45b818(_0x516d8d);});});}async[a0_0x1f4c2a(0x6e2)](_0x172f4c){const _0x1cf4fa=a0_0x1f4c2a;let _0x402d6b={},_0x5447ba=_0x1cf4fa(0xee);if(_0x172f4c['buttonMessage']?.[_0x1cf4fa(0x307)]){_0x5447ba=_0x172f4c[_0x1cf4fa(0x6e2)][_0x1cf4fa(0x307)]?.[_0x1cf4fa(0x5c3)]['toUpperCase']()??_0x1cf4fa(0xee),_0x402d6b['mediaKey']=_0x5447ba['toLowerCase']()+_0x1cf4fa(0x3ef);let _0x5dba80=await this['prepareMediaMessage'](_0x172f4c[_0x1cf4fa(0x6e2)][_0x1cf4fa(0x307)]);_0x402d6b[_0x1cf4fa(0x1ae)]=_0x5dba80[_0x1cf4fa(0x1ae)][_0x402d6b['mediaKey']],_0x402d6b[_0x1cf4fa(0x1ca)]='*'+_0x172f4c['buttonMessage'][_0x1cf4fa(0x5a3)]+_0x1cf4fa(0x4bc)+_0x172f4c['buttonMessage'][_0x1cf4fa(0x680)];}let _0x356395={'text':_0x172f4c[_0x1cf4fa(0x6e2)][_0x1cf4fa(0x18f)][_0x1cf4fa(0x441)](_0x4898e7=>_0x4898e7[_0x1cf4fa(0x27b)]),'ids':_0x172f4c[_0x1cf4fa(0x6e2)]['buttons']['map'](_0x3e1478=>_0x3e1478['buttonId'])};if(!(0x0,P[_0x1cf4fa(0x153)])(_0x356395[_0x1cf4fa(0x5d4)])||!(0x0,P[_0x1cf4fa(0x153)])(_0x356395[_0x1cf4fa(0x38a)]))throw new m(_0x1cf4fa(0x71c),_0x1cf4fa(0x2fd));return await this[_0x1cf4fa(0x26f)](_0x172f4c[_0x1cf4fa(0x593)],{'buttonsMessage':{'text':_0x402d6b?.[_0x1cf4fa(0x120)]?void 0x0:_0x172f4c[_0x1cf4fa(0x6e2)][_0x1cf4fa(0x5a3)],'contentText':_0x402d6b?.[_0x1cf4fa(0x1ca)]??_0x172f4c[_0x1cf4fa(0x6e2)]['description'],'footerText':_0x172f4c[_0x1cf4fa(0x6e2)]?.[_0x1cf4fa(0x52b)],'buttons':_0x172f4c[_0x1cf4fa(0x6e2)][_0x1cf4fa(0x18f)][_0x1cf4fa(0x441)](_0x4aaa73=>({'buttonText':{'displayText':_0x4aaa73[_0x1cf4fa(0x27b)]},'buttonId':_0x4aaa73[_0x1cf4fa(0x462)],'type':0x1})),'headerType':y[_0x1cf4fa(0x147)][_0x1cf4fa(0x3ef)][_0x1cf4fa(0x4db)][_0x1cf4fa(0x2f2)][_0x5447ba],[_0x402d6b?.[_0x1cf4fa(0x120)]]:_0x402d6b?.['message']}},_0x172f4c?.[_0x1cf4fa(0x740)]);}async[a0_0x1f4c2a(0x3eb)](_0x197be8){const _0xe56d60=a0_0x1f4c2a;return await this['sendMessageWithTyping'](_0x197be8[_0xe56d60(0x593)],{'locationMessage':{'degreesLatitude':_0x197be8[_0xe56d60(0x3eb)][_0xe56d60(0x30b)],'degreesLongitude':_0x197be8['locationMessage'][_0xe56d60(0x70d)],'name':_0x197be8[_0xe56d60(0x3eb)]?.[_0xe56d60(0x471)],'address':_0x197be8[_0xe56d60(0x3eb)]?.[_0xe56d60(0x4d2)]}},_0x197be8?.['options']);}async[a0_0x1f4c2a(0x1ef)](_0x23625c){const _0x3f6db1=a0_0x1f4c2a;let _0x225712={},_0x370fa8=_0x4f5d9f=>{const _0x243b97=a0_0x5a52;let _0x89e7cc=_0x243b97(0x710)+_0x4f5d9f[_0x243b97(0x5cd)]+_0x243b97(0x4b3)+_0x4f5d9f[_0x243b97(0x5cd)]+'\x0a';_0x4f5d9f[_0x243b97(0x23c)]&&(_0x89e7cc+=_0x243b97(0x58b)+_0x4f5d9f[_0x243b97(0x23c)]+';\x0a'),_0x4f5d9f[_0x243b97(0x49b)]&&(_0x89e7cc+=_0x243b97(0x4a5)+_0x4f5d9f[_0x243b97(0x49b)]+'\x0a'),_0x4f5d9f['url']&&(_0x89e7cc+=_0x243b97(0x2eb)+_0x4f5d9f[_0x243b97(0xea)]+'\x0a');let _0x19c68a='';return _0x4f5d9f[_0x243b97(0x4ac)]&&_0x4f5d9f[_0x243b97(0x4ac)]['split']('|')[_0x243b97(0x67f)]((_0x4a7f0a,_0x172491)=>{const _0x3641a6=_0x243b97;let _0x2928ed=this[_0x3641a6(0x5e5)](_0x4a7f0a)['replace'](_0x3641a6(0x1cb),'');_0x19c68a+=_0x3641a6(0x152)+(_0x172491+0x1)+'.TEL;waid='+_0x2928ed+':'+_0x4a7f0a+_0x3641a6(0x719)+(_0x172491+0x1)+_0x3641a6(0x701);}),_0x89e7cc+=_0x19c68a+_0x243b97(0x2d3),_0x89e7cc;};return _0x23625c[_0x3f6db1(0x1ef)][_0x3f6db1(0x4c0)]===0x1?_0x225712['contactMessage']={'displayName':_0x23625c['contactMessage'][0x0]['fullName'],'vcard':_0x370fa8(_0x23625c[_0x3f6db1(0x1ef)][0x0])}:_0x225712[_0x3f6db1(0x4c7)]={'displayName':_0x23625c['contactMessage'][_0x3f6db1(0x4c0)]+_0x3f6db1(0x2ce),'contacts':_0x23625c[_0x3f6db1(0x1ef)][_0x3f6db1(0x441)](_0x25419b=>({'displayName':_0x25419b['fullName'],'vcard':_0x370fa8(_0x25419b)}))},await this['sendMessageWithTyping'](_0x23625c[_0x3f6db1(0x593)],{..._0x225712},_0x23625c?.['options']);}async[a0_0x1f4c2a(0x647)](_0x42d808){const _0x23abe1=a0_0x1f4c2a;return await this[_0x23abe1(0x26f)](_0x42d808['reactionMessage'][_0x23abe1(0x114)]['remoteJid'],{'reactionMessage':{'key':_0x42d808[_0x23abe1(0x647)]['key'],'text':_0x42d808[_0x23abe1(0x647)][_0x23abe1(0x4b2)]}});}async['whatsappNumber'](_0x2bb656){const _0x44b6e9=a0_0x1f4c2a;let _0x4d92d3=[];for await(let _0x201611 of _0x2bb656[_0x44b6e9(0x349)]){let _0x331dc2=this[_0x44b6e9(0x5e5)](_0x201611),_0x5d27de=!0x1;try{if((0x0,y[_0x44b6e9(0x730)])(_0x331dc2)){let _0x37a007=await this['findGroup']({'groupJid':_0x331dc2},_0x44b6e9(0x422));_0x4d92d3[_0x44b6e9(0x597)](new me(_0x37a007[_0x44b6e9(0x333)]['id'],!!_0x37a007?.[_0x44b6e9(0x333)]['id'],_0x37a007?.[_0x44b6e9(0x333)][_0x44b6e9(0x415)])),_0x5d27de=!!_0x37a007?.[_0x44b6e9(0x333)]['id'];}else{let _0x47eac3=(await this[_0x44b6e9(0x289)][_0x44b6e9(0x39f)](_0x331dc2))[0x0];_0x4d92d3[_0x44b6e9(0x597)](new me(_0x47eac3['jid'],_0x47eac3[_0x44b6e9(0x3c9)])),_0x5d27de=_0x47eac3[_0x44b6e9(0x3c9)];}}catch{await this[_0x44b6e9(0x537)](_0x331dc2,_0x5d27de),_0x4d92d3[_0x44b6e9(0x597)](new me(_0x201611,!0x1));}}return _0x4d92d3;}async[a0_0x1f4c2a(0x537)](_0x22e5d8,_0x4d75e8){const _0x1053f3=a0_0x1f4c2a;try{await this['repository'][_0x1053f3(0x164)]['findOne']({'where':{'_id':_0x22e5d8,'imported':!0x0}},this[_0x1053f3(0x733)][_0x1053f3(0x230)])&&(_0x4d75e8||(await this[_0x1053f3(0x16a)][_0x1053f3(0x164)]['deleteChat'](_0x22e5d8,this['instance'][_0x1053f3(0x230)]),console[_0x1053f3(0x2ed)]('Chat\x20com\x20ID\x20'+_0x22e5d8+_0x1053f3(0x703))));}catch(_0x767591){console[_0x1053f3(0x513)](_0x1053f3(0x472),_0x767591);}}async[a0_0x1f4c2a(0x261)](_0x1fe6ae){const _0x14b099=a0_0x1f4c2a;try{let _0x4f810f=_0x1fe6ae['readMessages']['filter'](_0x2065ed=>(0x0,y[_0x14b099(0x730)])(_0x2065ed['remoteJid'])||(0x0,y[_0x14b099(0x722)])(_0x2065ed[_0x14b099(0x1fd)]))[_0x14b099(0x441)](_0x322803=>({'remoteJid':_0x322803[_0x14b099(0x1fd)],'fromMe':_0x322803[_0x14b099(0x4a3)],'id':_0x322803['id']}));await this[_0x14b099(0x289)][_0x14b099(0x364)](_0x4f810f);let _0xc89fa7=_0x4f810f[_0x14b099(0x441)](_0x30f58d=>this['updateMessage'](_0x30f58d,{'status':_0x14b099(0x1cf),'owner':this[_0x14b099(0x733)][_0x14b099(0x230)]})),_0x49af6f=_0x4f810f[_0x14b099(0x441)](_0x2b1874=>this[_0x14b099(0x16a)][_0x14b099(0x164)][_0x14b099(0x25b)]({'where':{'_id':_0x2b1874[_0x14b099(0x1fd)]}},{'unreadcount':0x0},this[_0x14b099(0x733)][_0x14b099(0x230)])),[_0x421a60,_0x4fb165]=await Promise['all']([Promise[_0x14b099(0x132)](_0xc89fa7),Promise['all'](_0x49af6f)]);return _0x4fb165['filter'](_0x47ed9b=>_0x47ed9b!==null)[_0x14b099(0x67f)](_0x235e14=>{const _0x55b91d=_0x14b099;J(this[_0x55b91d(0x2c5)],_0x55b91d(0x4c4),{'chat':_0x235e14});}),{'message':'Read\x20messages','read':'success'};}catch(_0x24a070){throw console[_0x14b099(0x513)](_0x14b099(0x4ec),_0x24a070),new O(_0x14b099(0xe4),_0x24a070[_0x14b099(0x6f3)]());}}async[a0_0x1f4c2a(0x709)](_0x2c0785){const _0x4d305b=a0_0x1f4c2a;let _0x16c3da={'where':{'key':{'remoteJid':_0x2c0785}},'limit':0x1},_0x4bc471=await this[_0x4d305b(0x254)](_0x16c3da);return _0x4bc471||(console[_0x4d305b(0x513)](_0x4d305b(0x5a9),_0x2c0785),null);}async[a0_0x1f4c2a(0x17e)](_0xe96c98){const _0x3e1d25=a0_0x1f4c2a;this[_0x3e1d25(0x3fa)][_0x3e1d25(0x204)](_0x3e1d25(0x4c3));try{let _0x53b23b=_0xe96c98[_0x3e1d25(0x4b5)],_0x41b444=_0xe96c98[_0x3e1d25(0x164)];if(!_0x53b23b&&_0x41b444?_0x53b23b=await this[_0x3e1d25(0x709)](_0x41b444):(_0x53b23b=_0xe96c98[_0x3e1d25(0x4b5)],_0x53b23b['messageTimestamp']=_0x53b23b?.[_0x3e1d25(0x6b2)]??Date[_0x3e1d25(0x6b8)](),_0x41b444=_0x53b23b?.['key']?.['remoteJid']),!_0x53b23b||Object[_0x3e1d25(0x6c4)](_0x53b23b)[_0x3e1d25(0x4c0)]===0x0)throw new L(_0x3e1d25(0x257));this[_0x3e1d25(0x3fa)]['verbose'](_0x3e1d25(0x223)+_0x41b444);try{await this[_0x3e1d25(0x289)][_0x3e1d25(0x493)]({'archive':_0xe96c98[_0x3e1d25(0x635)],'lastMessages':[_0x53b23b]},this[_0x3e1d25(0x5e5)](_0x41b444));}catch(_0x56be4b){this[_0x3e1d25(0x3fa)]['error'](_0x3e1d25(0x670)+_0x41b444+':\x20'+_0x56be4b[_0x3e1d25(0x6f3)]());}this[_0x3e1d25(0x3fa)]['verbose'](_0x3e1d25(0x509)+_0x41b444);let _0x5ea4d0=await this[_0x3e1d25(0x16a)][_0x3e1d25(0x164)]['updateOne']({'where':{'_id':_0x53b23b?.[_0x3e1d25(0x114)]?.[_0x3e1d25(0x1fd)]}},{'archived':_0xe96c98['archive']},this[_0x3e1d25(0x733)][_0x3e1d25(0x230)]);return _0x5ea4d0?(this[_0x3e1d25(0x3fa)][_0x3e1d25(0x204)](_0x3e1d25(0x4e5)+JSON['stringify'](_0x5ea4d0)),J(this[_0x3e1d25(0x2c5)],_0x3e1d25(0x4c4),{'chat':_0x5ea4d0})):this[_0x3e1d25(0x3fa)][_0x3e1d25(0x513)](_0x3e1d25(0x1ee)+_0x41b444),{'chatId':_0x41b444,'archived':_0xe96c98[_0x3e1d25(0x635)]};}catch(_0x28cc75){throw this['logger'][_0x3e1d25(0x513)](_0x3e1d25(0x43b)+_0x28cc75[_0x3e1d25(0x6f3)]()),new O({'archived':!0x1,'message':[_0x3e1d25(0x5bc),_0x28cc75[_0x3e1d25(0x6f3)]()]});}}async[a0_0x1f4c2a(0x550)](_0x1b5b0e){const _0x3e9b54=a0_0x1f4c2a;try{let _0x4be6c2=await this['client'][_0x3e9b54(0x1ff)](_0x1b5b0e[_0x3e9b54(0x1fd)],{'delete':_0x1b5b0e});try{let _0x184e09=await this[_0x3e9b54(0x1c1)](_0x1b5b0e,{'status':_0x3e9b54(0x2c9),'owner':this[_0x3e9b54(0x733)]['wuid']});this[_0x3e9b54(0x3fa)][_0x3e9b54(0x204)](this[_0x3e9b54(0x2c5)]+'\x20('+this[_0x3e9b54(0x733)][_0x3e9b54(0x230)]+_0x3e9b54(0x486)+_0x184e09);}catch(_0x1a348f){console[_0x3e9b54(0x513)](_0x3e9b54(0x49f),_0x1a348f);}return _0x4be6c2;}catch(_0x542ee7){throw new O('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x542ee7?.[_0x3e9b54(0x6f3)]());}}async[a0_0x1f4c2a(0x16b)](_0x4326cb){const _0x105ec2=a0_0x1f4c2a;try{let _0x5a5c0c=_0x4326cb?.[_0x105ec2(0x1ae)]?_0x4326cb:await this[_0x105ec2(0x315)](_0x4326cb[_0x105ec2(0x114)],!0x0);for(let _0x4a7732 of ga)_0x5a5c0c[_0x105ec2(0x1ae)][_0x4a7732]&&(_0x5a5c0c[_0x105ec2(0x1ae)]=_0x5a5c0c['message'][_0x4a7732][_0x105ec2(0x1ae)]);let _0x1d9a59,_0x131335;for(let _0x55aae4 of ha)if(_0x1d9a59=_0x5a5c0c[_0x105ec2(0x1ae)][_0x55aae4],_0x1d9a59){_0x131335=_0x55aae4;break;}if(!_0x1d9a59)throw _0x105ec2(0x6d4);typeof _0x1d9a59[_0x105ec2(0x120)]==_0x105ec2(0x483)&&(_0x5a5c0c['message']=JSON[_0x105ec2(0x4d9)](JSON['stringify'](_0x5a5c0c[_0x105ec2(0x1ae)])));let _0x1ac942=await(0x0,y[_0x105ec2(0x2a6)])({'key':_0x5a5c0c?.[_0x105ec2(0x114)],'message':_0x5a5c0c?.[_0x105ec2(0x1ae)]},_0x105ec2(0x144),{},{'logger':(0x0,Ot['default'])({'level':_0x105ec2(0x131)}),'reuploadRequest':this[_0x105ec2(0x289)][_0x105ec2(0x263)]});if(!(_0x1ac942 instanceof Buffer))throw new Error(_0x105ec2(0x51a));let _0x56c8fd=this[_0x105ec2(0x1a6)][_0x105ec2(0x67a)](_0x105ec2(0x51b)),_0x503f25,_0x46ba8d;if(_0x1d9a59[_0x105ec2(0x5d1)])_0x503f25=_0x1d9a59[_0x105ec2(0x5d1)];else{let _0x57a86e=_0x1d9a59[_0x105ec2(0x403)]?.['match'](/\/(\w+)/),_0x217b12=_0x57a86e?_0x57a86e[0x1]:null;if(!_0x217b12)throw new Error(_0x105ec2(0x4f3));_0x503f25=(0x0,Me['v4'])()+'.'+_0x217b12;}_0x131335===_0x105ec2(0x373)&&_0x1d9a59[_0x105ec2(0x403)]==='audio/ogg'?(_0x503f25=(0x0,Me['v4'])()+_0x105ec2(0x351),_0x46ba8d=_0x105ec2(0x68c)+await this['convertaudio'](_0x1ac942[_0x105ec2(0x6f3)](_0x105ec2(0x6c5)))):(await this[_0x105ec2(0x604)](_0x1ac942,_0x503f25),_0x46ba8d=_0x105ec2(0x68c)+_0x503f25);let _0x40932a=this[_0x105ec2(0x1a6)][_0x105ec2(0x67a)](_0x105ec2(0x538))[_0x105ec2(0x52d)];if(!_0x40932a){let _0x1fd65f=this[_0x105ec2(0x1a6)]['get']('SSL_CONF');_0x40932a=_0x105ec2(0x3d1)+(_0x1fd65f&&_0x1fd65f[_0x105ec2(0x19a)][_0x105ec2(0x702)]('/')[0x4]);}_0x46ba8d=''+_0x40932a+_0x46ba8d;let _0x4693ec=0xc*0x3c*0x3c*0x3e8,_0x4aa08f={'where':{'_id':_0x5a5c0c[_0x105ec2(0x114)]['id']}},_0x511aba={'message_normalized.fileUrl':_0x46ba8d,'message_normalized.expires_fileUrl':Date[_0x105ec2(0x6b8)]()+_0x4693ec};try{let _0x436695=await this[_0x105ec2(0x16a)]['message']['update'](_0x4aa08f,_0x511aba,this[_0x105ec2(0x733)][_0x105ec2(0x230)]);_0x436695&&J(this[_0x105ec2(0x2c5)],_0x105ec2(0x57a),{'message':_0x436695});}catch(_0x35b479){this[_0x105ec2(0x3fa)][_0x105ec2(0x513)](this[_0x105ec2(0x2c5)]+'\x20('+this['instance'][_0x105ec2(0x230)]+_0x105ec2(0x2f5)+(_0x35b479 instanceof Error?_0x35b479[_0x105ec2(0x1ae)]:JSON[_0x105ec2(0x311)](_0x35b479,null,0x2)));}return{'mediaType':_0x131335,'fileName':_0x1d9a59['fileName'],'caption':_0x1d9a59[_0x105ec2(0x599)],'size':{'fileLength':_0x1d9a59[_0x105ec2(0x6de)],'height':_0x1d9a59[_0x105ec2(0x20a)],'width':_0x1d9a59[_0x105ec2(0x163)]},'mimetype':_0x1d9a59[_0x105ec2(0x403)],'base64':_0x1ac942['toString']('base64'),'fileUrl':_0x46ba8d,'expires_fileUrl':Date['now']()+_0x4693ec};}catch(_0x5b83ee){throw this[_0x105ec2(0x3fa)][_0x105ec2(0x513)](this[_0x105ec2(0x2c5)]+'\x20('+this[_0x105ec2(0x733)][_0x105ec2(0x230)]+'):\x20'+(_0x5b83ee instanceof Error?_0x5b83ee[_0x105ec2(0x1ae)]:JSON[_0x105ec2(0x311)](_0x5b83ee,null,0x2))),new m(_0x5b83ee['toString']());}}async[a0_0x1f4c2a(0x604)](_0x1a8c3e,_0x42b139){const _0xc417e3=a0_0x1f4c2a;let _0x5ccbb7=U[_0xc417e3(0x73c)][_0xc417e3(0x431)](__dirname,'downloads');j['existsSync'](_0x5ccbb7)||j[_0xc417e3(0x1d8)](_0x5ccbb7,{'recursive':!0x0});let _0x4c8943=U[_0xc417e3(0x73c)][_0xc417e3(0x431)](_0x5ccbb7,_0x42b139);return new Promise((_0x478fa6,_0xd10b99)=>{const _0x555060=_0xc417e3;j[_0x555060(0x238)](_0x4c8943,_0x1a8c3e,_0xfb27f0=>{const _0x57a413=_0x555060;_0xfb27f0?(this['logger']['error'](_0x57a413(0x239)+(_0xfb27f0 instanceof Error?_0xfb27f0[_0x57a413(0x1ae)]:JSON['stringify'](_0xfb27f0,null,0x2))),_0xd10b99(_0xfb27f0)):(this['logger'][_0x57a413(0x2ed)](_0x57a413(0x419)+_0x4c8943),_0x478fa6(_0x4c8943));});});}async[a0_0x1f4c2a(0x179)](_0x48da6d){const _0x5809d6=a0_0x1f4c2a;return await this['repository'][_0x5809d6(0x1d9)]['find'](_0x48da6d,this['instance']['wuid']);}async[a0_0x1f4c2a(0x14e)](){const _0x42fe46=a0_0x1f4c2a;return await this[_0x42fe46(0x16a)][_0x42fe46(0x602)][_0x42fe46(0x34c)]({'where':{}},this[_0x42fe46(0x733)]['wuid']);}async[a0_0x1f4c2a(0x254)](_0x5584ce){const _0x51a211=a0_0x1f4c2a;return await this['repository'][_0x51a211(0x1ae)][_0x51a211(0x34c)](_0x5584ce,this['instance']['wuid']);}async[a0_0x1f4c2a(0x603)](){const _0x4b8231=a0_0x1f4c2a;return this[_0x4b8231(0x16a)][_0x4b8231(0x164)][_0x4b8231(0x37a)](this['instance'][_0x4b8231(0x230)]),this[_0x4b8231(0x16a)][_0x4b8231(0x164)][_0x4b8231(0x105)](this[_0x4b8231(0x733)][_0x4b8231(0x230)]),this['repository'][_0x4b8231(0x164)][_0x4b8231(0x2ac)](this[_0x4b8231(0x733)][_0x4b8231(0x230)]),this[_0x4b8231(0x16a)]['chat']['updateMissingCustomFields'](this[_0x4b8231(0x733)][_0x4b8231(0x230)]),await this['repository'][_0x4b8231(0x164)][_0x4b8231(0x34c)]({'where':{}},this[_0x4b8231(0x733)][_0x4b8231(0x230)]);}async[a0_0x1f4c2a(0x259)](_0x5b20d8){const _0x1e082e=a0_0x1f4c2a;try{if(!Array[_0x1e082e(0x66f)](_0x5b20d8)||_0x5b20d8[_0x1e082e(0x4c0)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x49e3d4=[],_0xca1779=[];for(let _0x11267f of _0x5b20d8){if(_0x11267f[_0x1e082e(0x273)])_0x11267f[_0x1e082e(0x273)]=this[_0x1e082e(0x5e5)](_0x11267f[_0x1e082e(0x273)]);else continue;await this['repository'][_0x1e082e(0x164)][_0x1e082e(0x712)]({'where':{'_id':_0x11267f['_id']}},this[_0x1e082e(0x733)][_0x1e082e(0x230)])?_0xca1779[_0x1e082e(0x597)]({'_id':_0x11267f[_0x1e082e(0x273)],'leadInfo':_0x11267f[_0x1e082e(0x26e)],'owner':this[_0x1e082e(0x733)]['wuid']}):_0x49e3d4[_0x1e082e(0x597)]({'_id':_0x11267f[_0x1e082e(0x273)],'owner':this[_0x1e082e(0x733)][_0x1e082e(0x230)],'leadInfo':_0x11267f[_0x1e082e(0x26e)],'imported':!0x0});}return _0xca1779[_0x1e082e(0x4c0)]>0x0&&await this[_0x1e082e(0x16a)][_0x1e082e(0x164)][_0x1e082e(0x335)](_0xca1779[_0x1e082e(0x441)](_0x10df71=>({'query':{'where':{'_id':_0x10df71[_0x1e082e(0x273)],'owner':this['instance'][_0x1e082e(0x230)]}},'update':_0x10df71}))),_0x49e3d4[_0x1e082e(0x4c0)]>0x0&&await this[_0x1e082e(0x16a)][_0x1e082e(0x164)][_0x1e082e(0x1ac)](_0x49e3d4,this['instance']['wuid']),{'updated':_0xca1779['length'],'inserted':_0x49e3d4['length']};}catch(_0x44e011){throw console[_0x1e082e(0x513)]('Erro\x20ao\x20importar\x20chats:',_0x44e011),_0x44e011;}}async[a0_0x1f4c2a(0x5c7)](_0x449ab8){const _0x1e57c2=a0_0x1f4c2a;try{if(!Array[_0x1e57c2(0x66f)](_0x449ab8)||_0x449ab8[_0x1e57c2(0x4c0)]===0x0)throw new Error(_0x1e57c2(0x72e));let _0x3b085d=0x64,_0x50f0ac=0x0;for(let _0x5523e1=0x0;_0x5523e1<_0x449ab8[_0x1e57c2(0x4c0)];_0x5523e1+=_0x3b085d){let _0x181768=_0x449ab8[_0x1e57c2(0x6fe)](_0x5523e1,_0x5523e1+_0x3b085d),{updated:_0x4b753c}=await this[_0x1e57c2(0xe9)](_0x181768);_0x50f0ac+=_0x4b753c;}return{'updated':_0x50f0ac};}catch(_0x58e16e){throw console['error'](_0x1e57c2(0x656),_0x58e16e),_0x58e16e;}}async[a0_0x1f4c2a(0xe9)](_0x40b632){const _0x3697fd=a0_0x1f4c2a;try{let _0x2f6d17=await this[_0x3697fd(0x16a)]['label'][_0x3697fd(0x34c)]({'where':{}},this[_0x3697fd(0x733)][_0x3697fd(0x230)]),_0x10eb59=new Set(_0x2f6d17[_0x3697fd(0x441)](_0x3dc913=>_0x3dc913[_0x3697fd(0x273)])),_0x1af63c=[],_0x1b2197=[];for(let _0x16c053 of _0x40b632){if(!_0x16c053['_id'])continue;_0x16c053[_0x3697fd(0x273)]=this[_0x3697fd(0x5e5)](_0x16c053[_0x3697fd(0x273)]);let _0x3d9f3e=await this[_0x3697fd(0x16a)][_0x3697fd(0x164)][_0x3697fd(0x712)]({'where':{'_id':_0x16c053[_0x3697fd(0x273)]}},this[_0x3697fd(0x733)][_0x3697fd(0x230)]),_0x1a5e68={};if(Object['entries'](_0x16c053[_0x3697fd(0x26e)])[_0x3697fd(0x67f)](([_0x83e762,_0x54a5bb])=>{const _0x401103=_0x3697fd;_0x1a5e68[_0x401103(0x687)+_0x83e762]=_0x54a5bb;}),_0x3d9f3e&&!_0x3d9f3e['imported']){let _0x2e0a10=(_0x16c053['leadInfo'][_0x3697fd(0x62a)]||[])[_0x3697fd(0x554)](_0x134cd0=>_0x10eb59[_0x3697fd(0x595)](_0x134cd0)),_0x1729cc=new Set(_0x3d9f3e[_0x3697fd(0x26e)][_0x3697fd(0x62a)]||[]),_0x2ae7cf=_0x2e0a10['filter'](_0x110363=>!_0x1729cc[_0x3697fd(0x595)](_0x110363)),_0x2fb691=[..._0x1729cc][_0x3697fd(0x554)](_0x2d9cb0=>!_0x2e0a10['includes'](_0x2d9cb0));_0x1b2197[_0x3697fd(0x597)](..._0x2ae7cf['map'](_0x39040b=>this[_0x3697fd(0x214)](_0x39040b,_0x16c053[_0x3697fd(0x273)]))),_0x1b2197[_0x3697fd(0x597)](..._0x2fb691['map'](_0x4bae16=>this[_0x3697fd(0x1fa)](_0x4bae16,_0x16c053[_0x3697fd(0x273)]))),_0x16c053[_0x3697fd(0x26e)][_0x3697fd(0x62a)]=_0x2e0a10,_0x1af63c['push']({'query':{'where':{'_id':_0x16c053[_0x3697fd(0x273)],'owner':this[_0x3697fd(0x733)][_0x3697fd(0x230)]}},'update':_0x1a5e68});}else _0x1a5e68[_0x3697fd(0x27c)]=!0x0,_0x1af63c[_0x3697fd(0x597)]({'query':{'where':{'_id':_0x16c053[_0x3697fd(0x273)],'owner':this[_0x3697fd(0x733)]['wuid']}},'update':_0x1a5e68});}let _0x3add2a=await this[_0x3697fd(0x16a)][_0x3697fd(0x164)][_0x3697fd(0x335)](_0x1af63c);return await Promise[_0x3697fd(0x132)](_0x1b2197),{'updated':_0x3add2a};}catch(_0x35b846){throw console[_0x3697fd(0x513)](_0x3697fd(0x656),_0x35b846),_0x35b846;}}async[a0_0x1f4c2a(0x387)](){const _0x3ee95c=a0_0x1f4c2a;return await this[_0x3ee95c(0x289)][_0x3ee95c(0x387)]();}async[a0_0x1f4c2a(0x322)](_0x3abf88){const _0x9e96db=a0_0x1f4c2a;try{return await this[_0x9e96db(0x289)][_0x9e96db(0x510)](_0x3abf88[_0x9e96db(0x545)]['readreceipts']),await this[_0x9e96db(0x289)]['updateProfilePicturePrivacy'](_0x3abf88[_0x9e96db(0x545)]['profile']),await this[_0x9e96db(0x289)][_0x9e96db(0x3ed)](_0x3abf88[_0x9e96db(0x545)][_0x9e96db(0x6ac)]),await this[_0x9e96db(0x289)][_0x9e96db(0x26a)](_0x3abf88[_0x9e96db(0x545)][_0x9e96db(0x577)]),await this[_0x9e96db(0x289)][_0x9e96db(0x576)](_0x3abf88[_0x9e96db(0x545)][_0x9e96db(0x2a2)]),await this[_0x9e96db(0x289)][_0x9e96db(0x3e3)](_0x3abf88['privacySettings'][_0x9e96db(0x43e)]),this[_0x9e96db(0x289)]?.['ws']?.['close'](),{'update':_0x9e96db(0x525),'data':{'readreceipts':_0x3abf88[_0x9e96db(0x545)][_0x9e96db(0x5d5)],'profile':_0x3abf88[_0x9e96db(0x545)][_0x9e96db(0x5ae)],'status':_0x3abf88['privacySettings'][_0x9e96db(0x6ac)],'online':_0x3abf88[_0x9e96db(0x545)][_0x9e96db(0x577)],'last':_0x3abf88['privacySettings'][_0x9e96db(0x2a2)],'groupadd':_0x3abf88[_0x9e96db(0x545)][_0x9e96db(0x43e)]}};}catch(_0x2bdacd){throw new O(_0x9e96db(0x4f4),_0x2bdacd[_0x9e96db(0x6f3)]());}}async[a0_0x1f4c2a(0x2b1)](_0x119404){const _0x213218=a0_0x1f4c2a;let _0x59054f=_0x119404?this['createJid'](_0x119404):this[_0x213218(0x289)]?.[_0x213218(0x688)]?.['id'];this[_0x213218(0x3fa)][_0x213218(0x204)](_0x213218(0x58a)+_0x59054f);try{if(this['logger'][_0x213218(0x204)](_0x213218(0x5e7)),_0x119404){let _0xfbe75c=(await this[_0x213218(0x234)]({'numbers':[_0x59054f]}))?.[_0x213218(0x20b)](),_0x3f03bc=await this[_0x213218(0x6b4)](_0xfbe75c?.[_0x213218(0x255)]),_0x5465cf=await this['getStatus'](_0xfbe75c?.['jid']),_0x24d310=await this[_0x213218(0x320)](_0xfbe75c?.[_0x213218(0x255)]);return{'wuid':_0xfbe75c?.[_0x213218(0x255)]||_0x59054f,'name':_0xfbe75c?.[_0x213218(0x471)],'numberExists':_0xfbe75c?.[_0x213218(0x3c9)],'picture':_0x3f03bc?.[_0x213218(0x272)],'status':_0x5465cf?.[_0x213218(0x6ac)],'isBusiness':_0x24d310[_0x213218(0x3ad)],'email':_0x24d310?.['email'],'description':_0x24d310?.[_0x213218(0x680)],'website':_0x24d310?.['website']?.[_0x213218(0x20b)]()};}}catch{return this[_0x213218(0x3fa)]['verbose'](_0x213218(0x2a9)),{'wuid':_0x59054f,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x1f4c2a(0x608)](_0x58b4f3){const _0x2e762f=a0_0x1f4c2a;let _0x4ae82f=(_0x58b4f3?this['createJid'](_0x58b4f3):this['client']?.['user']?.['id'])[_0x2e762f(0x6c6)](/:\d{1,2}@/g,'@');this['logger'][_0x2e762f(0x204)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x4ae82f);let _0x4ee511=await this['repository']['contact'][_0x2e762f(0x712)]({'where':{'_id':_0x4ae82f}},this['instance']['wuid']),_0x57e026=_0x4ee511?_0x4ee511['pushName']:null;try{let _0x408d37=(await this[_0x2e762f(0x234)]({'numbers':[_0x4ae82f]}))?.[_0x2e762f(0x20b)](),_0x2d5773=await this[_0x2e762f(0x6b4)](_0x408d37?.['jid']),_0x448422=await this[_0x2e762f(0x219)](_0x408d37?.[_0x2e762f(0x255)]),_0x488f84=await this[_0x2e762f(0x320)](_0x408d37?.[_0x2e762f(0x255)]),_0x251542=await this[_0x2e762f(0x16a)][_0x2e762f(0x164)]['findOne']({'where':{'_id':_0x4ae82f}},this[_0x2e762f(0x733)][_0x2e762f(0x230)]),_0x193be9={'imagechat':_0x2d5773?.[_0x2e762f(0x272)],'contactname':_0x57e026||null,'status':_0x448422?.[_0x2e762f(0x6ac)],'isBusiness':_0x488f84[_0x2e762f(0x3ad)],'email':_0x488f84?.[_0x2e762f(0x49b)],'description':_0x488f84?.['description'],'website':_0x488f84?.[_0x2e762f(0x10d)]?.[_0x2e762f(0x20b)](),'lastcache':Date[_0x2e762f(0x6b8)](),'imported':!_0x251542},_0x16936f=await this[_0x2e762f(0x16a)][_0x2e762f(0x164)][_0x2e762f(0x25b)]({'where':{'_id':_0x4ae82f}},_0x193be9,this[_0x2e762f(0x733)][_0x2e762f(0x230)]),_0x5cf788={'owner':this[_0x2e762f(0x733)][_0x2e762f(0x230)],'_id':_0x4ae82f,'profilePictureUrl':_0x2d5773?.[_0x2e762f(0x272)],'status':_0x448422?.[_0x2e762f(0x6ac)]};return this[_0x2e762f(0x16a)][_0x2e762f(0x1d9)]['update']([_0x5cf788],this[_0x2e762f(0x733)][_0x2e762f(0x230)]),_0x16936f&&J(this[_0x2e762f(0x2c5)],_0x2e762f(0x4c4),{'chat':_0x16936f}),{'wuid':_0x408d37?.[_0x2e762f(0x255)]||_0x4ae82f,'name':_0x408d37?.[_0x2e762f(0x471)],'numberExists':_0x408d37?.[_0x2e762f(0x3c9)],'picture':_0x2d5773?.[_0x2e762f(0x272)],'status':_0x448422?.[_0x2e762f(0x6ac)],'isBusiness':_0x488f84[_0x2e762f(0x3ad)],'email':_0x488f84?.['email'],'description':_0x488f84?.['description'],'website':_0x488f84?.[_0x2e762f(0x10d)]?.[_0x2e762f(0x20b)]()};}catch(_0xbe0612){return this['logger'][_0x2e762f(0x513)](_0x2e762f(0x37d)+(_0xbe0612 instanceof Error?_0xbe0612[_0x2e762f(0x1ae)]:JSON[_0x2e762f(0x311)](_0xbe0612,null,0x2))),{};}}async[a0_0x1f4c2a(0x320)](_0x2afa0a){const _0x5e444e=a0_0x1f4c2a;this[_0x5e444e(0x3fa)][_0x5e444e(0x204)]('Fetching\x20business\x20profile');try{let _0x5d0eb4=_0x2afa0a?this[_0x5e444e(0x5e5)](_0x2afa0a):this['instance'][_0x5e444e(0x230)],_0x5bb402=await this[_0x5e444e(0x289)][_0x5e444e(0x383)](_0x5d0eb4);return this[_0x5e444e(0x3fa)][_0x5e444e(0x204)](_0x5e444e(0x37f)),_0x5bb402?(this[_0x5e444e(0x3fa)][_0x5e444e(0x204)](_0x5e444e(0x407)),{'isBusiness':!0x0,..._0x5bb402}):{'isBusiness':!0x1,'message':_0x5e444e(0x2d1),...(await this['whatsappNumber']({'numbers':[_0x5d0eb4]}))?.[_0x5e444e(0x20b)]()};}catch(_0x4a05a1){throw new O(_0x5e444e(0x256),_0x4a05a1['toString']());}}async['getStatus'](_0x507a20){const _0x5696eb=a0_0x1f4c2a;let _0x3890a7=this[_0x5696eb(0x5e5)](_0x507a20);try{return{'wuid':_0x3890a7,'status':(await this[_0x5696eb(0x289)]['fetchStatus'](_0x3890a7))?.[_0x5696eb(0x6ac)]};}catch{return{'wuid':_0x3890a7,'status':null};}}async[a0_0x1f4c2a(0x56e)](_0x3f2029){const _0x40ba62=a0_0x1f4c2a;try{return await this['client'][_0x40ba62(0x56e)](_0x3f2029),{'update':_0x40ba62(0x525)};}catch(_0x29f864){throw new O(_0x40ba62(0x256),_0x29f864[_0x40ba62(0x6f3)]());}}async[a0_0x1f4c2a(0x270)](_0x341238){const _0x230059=a0_0x1f4c2a;try{return await this[_0x230059(0x289)][_0x230059(0x270)](_0x341238),{'update':_0x230059(0x525)};}catch(_0x479c21){throw new O(_0x230059(0x1e7),_0x479c21[_0x230059(0x6f3)]());}}async[a0_0x1f4c2a(0x1d5)](_0x5042a9){const _0x447f4f=a0_0x1f4c2a;try{let _0x5e9aa0;if((0x0,P[_0x447f4f(0xf5)])(_0x5042a9)){let _0x22755e=new Date()[_0x447f4f(0x225)](),_0x1d690f=_0x5042a9+_0x447f4f(0x126)+_0x22755e;_0x5e9aa0=(await se[_0x447f4f(0x73c)][_0x447f4f(0x67a)](_0x1d690f,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,P[_0x447f4f(0x469)])(_0x5042a9))_0x5e9aa0=Buffer['from'](_0x5042a9,_0x447f4f(0x6c5));else throw new m(_0x447f4f(0x530));}return await this[_0x447f4f(0x289)][_0x447f4f(0x1d5)](this[_0x447f4f(0x733)][_0x447f4f(0x230)],_0x5e9aa0),{'update':_0x447f4f(0x525)};}catch(_0x55ec98){throw new O(_0x447f4f(0x389),_0x55ec98[_0x447f4f(0x6f3)]());}}async['removeProfilePicture'](){const _0x3ef38c=a0_0x1f4c2a;try{return await this[_0x3ef38c(0x289)][_0x3ef38c(0x402)](this[_0x3ef38c(0x733)][_0x3ef38c(0x230)]),{'update':_0x3ef38c(0x525)};}catch(_0x2a589f){throw new O(_0x3ef38c(0x19c),_0x2a589f['toString']());}}async[a0_0x1f4c2a(0x609)](_0x4d4332){const _0x401018=a0_0x1f4c2a;try{let _0x5364d8=_0x4d4332['participants'][_0x401018(0x441)](_0x4811e6=>this['createJid'](_0x4811e6)),{id:_0x2cb29d}=await this[_0x401018(0x289)]['groupCreate'](_0x4d4332[_0x401018(0x415)],_0x5364d8);return _0x4d4332?.[_0x401018(0x680)]&&await this[_0x401018(0x289)][_0x401018(0x434)](_0x2cb29d,_0x4d4332[_0x401018(0x680)]),{'metadata':await this[_0x401018(0x289)][_0x401018(0x1e8)](_0x2cb29d)};}catch(_0x1eb990){throw this[_0x401018(0x3fa)][_0x401018(0x513)](this[_0x401018(0x2c5)]+'\x20('+this['instance'][_0x401018(0x230)]+'):\x20'+(_0x1eb990 instanceof Error?_0x1eb990[_0x401018(0x1ae)]:JSON[_0x401018(0x311)](_0x1eb990,null,0x2))),new O(_0x401018(0x1d2),_0x1eb990[_0x401018(0x6f3)]());}}async['updateGroupPicture'](_0x7376c0){const _0x4c55af=a0_0x1f4c2a;try{let _0xbfc27c;if((0x0,P[_0x4c55af(0xf5)])(_0x7376c0[_0x4c55af(0x496)])){let _0x89d3b4=new Date()['getTime'](),_0x4fbff7=_0x7376c0[_0x4c55af(0x496)]+'?timestamp='+_0x89d3b4;_0xbfc27c=(await se['default'][_0x4c55af(0x67a)](_0x4fbff7,{'responseType':_0x4c55af(0x3cc)}))[_0x4c55af(0x54c)];}else{if((0x0,P[_0x4c55af(0x469)])(_0x7376c0[_0x4c55af(0x496)]))_0xbfc27c=Buffer[_0x4c55af(0x697)](_0x7376c0[_0x4c55af(0x496)],_0x4c55af(0x6c5));else throw new m(_0x4c55af(0x530));}return await this[_0x4c55af(0x289)][_0x4c55af(0x1d5)](_0x7376c0[_0x4c55af(0x212)],_0xbfc27c),{'update':_0x4c55af(0x525)};}catch(_0x579515){throw new O('Error\x20update\x20group\x20picture',_0x579515[_0x4c55af(0x6f3)]());}}async[a0_0x1f4c2a(0x6aa)](_0x219b1a,_0xe16ab5='out'){const _0x33a5ed=a0_0x1f4c2a;try{let _0x217467=await this['client'][_0x33a5ed(0x1e8)](_0x219b1a['groupJid']),_0x2b5731=null;try{_0x2b5731=(await this[_0x33a5ed(0x6b4)](_0x219b1a[_0x33a5ed(0x212)]))[_0x33a5ed(0x272)];}catch(_0x41aa3c){this['logger'][_0x33a5ed(0x204)](this[_0x33a5ed(0x2c5)]+'\x20('+this[_0x33a5ed(0x733)]['wuid']+_0x33a5ed(0x3bc)+_0x219b1a['groupJid']+':\x20'+(_0x41aa3c instanceof Error?_0x41aa3c[_0x33a5ed(0x1ae)]:JSON[_0x33a5ed(0x311)](_0x41aa3c,null,0x2)));}let _0x3a1393=await this[_0x33a5ed(0x16a)][_0x33a5ed(0x164)]['updateOne']({'where':{'_id':_0x219b1a[_0x33a5ed(0x212)]}},{'imagechat':_0x2b5731,'name':_0x217467['subject'],'group_size':_0x217467['size'],'group_announce':_0x217467['announce'],'lastcache':Date[_0x33a5ed(0x6b8)]()},this[_0x33a5ed(0x733)][_0x33a5ed(0x230)]);return _0x3a1393&&J(this['instanceName'],_0x33a5ed(0x4c4),{'chat':_0x3a1393}),{'metadata':_0x217467,'image':_0x2b5731};}catch(_0x1d4624){if(_0xe16ab5==='inner')return;throw new L(_0x33a5ed(0x165),_0x1d4624[_0x33a5ed(0x6f3)]());}}async[a0_0x1f4c2a(0x619)](_0xede02a){const _0x30fadd=a0_0x1f4c2a;try{return await this[_0x30fadd(0x289)]['groupUpdateDescription'](_0xede02a[_0x30fadd(0x212)],_0xede02a[_0x30fadd(0x680)]),{'update':_0x30fadd(0x525)};}catch(_0x1f79e5){throw new O(_0x30fadd(0x2da),_0x1f79e5[_0x30fadd(0x6f3)]());}}async[a0_0x1f4c2a(0xeb)](_0x3197d4){const _0x4e43c8=a0_0x1f4c2a;try{return await this[_0x4e43c8(0x289)][_0x4e43c8(0x2d7)](_0x3197d4['groupJid'],_0x3197d4[_0x4e43c8(0x471)]),{'update':_0x4e43c8(0x525)};}catch(_0x5b3bff){throw new O('Error\x20change\x20group\x20name',_0x5b3bff[_0x4e43c8(0x6f3)]());}}async[a0_0x1f4c2a(0x143)](_0x36f498){const _0x2f3250=a0_0x1f4c2a;try{return await this['client']['groupSettingUpdate'](_0x36f498[_0x2f3250(0x212)],_0x36f498['setting']),{'update':_0x2f3250(0x525)};}catch(_0x243478){throw new O(_0x2f3250(0x650),_0x243478[_0x2f3250(0x6f3)]());}}async[a0_0x1f4c2a(0x73b)](){const _0x1868f6=a0_0x1f4c2a;try{let _0x43dffa=[],_0x4a2bb5=await this[_0x1868f6(0x289)][_0x1868f6(0x340)](),_0x5bc860=Object['values'](_0x4a2bb5),_0x3d1ec9=_0x5bc860['filter'](_0x28b5b4=>(0x0,y[_0x1868f6(0x730)])(_0x28b5b4?.['id']))[_0x1868f6(0x441)](async _0xcc3b67=>{const _0x104db0=_0x1868f6;try{return await this[_0x104db0(0x289)][_0x104db0(0x272)](_0xcc3b67['id'],_0x104db0(0x529));}catch(_0x2a4e7e){return this[_0x104db0(0x3fa)][_0x104db0(0x204)](this[_0x104db0(0x2c5)]+'\x20('+this[_0x104db0(0x733)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0xcc3b67['id']+':\x20'+(_0x2a4e7e instanceof Error?_0x2a4e7e['message']:JSON[_0x104db0(0x311)](_0x2a4e7e,null,0x2))),null;}}),_0x5512e5=await Promise[_0x1868f6(0x132)](_0x3d1ec9);for(let _0x441dea=0x0;_0x441dea<_0x5bc860[_0x1868f6(0x4c0)];_0x441dea++){let _0x25fa61=_0x5bc860[_0x441dea];(0x0,y[_0x1868f6(0x730)])(_0x25fa61?.['id'])&&_0x43dffa[_0x1868f6(0x597)]({'groupJid':_0x25fa61?.['id'],'subject':_0x25fa61?.[_0x1868f6(0x415)],'subjectOwner':_0x25fa61?.[_0x1868f6(0x1d6)]?.['split']('@')[0x0],'subjectTime':_0x25fa61?.['subjectTime'],'size':_0x25fa61?.[_0x1868f6(0x527)]?.[_0x1868f6(0x4c0)],'owner':_0x25fa61?.[_0x1868f6(0x5b5)]?.[_0x1868f6(0x702)]('@')[0x0],'creation':_0x25fa61?.['creation'],'desc':_0x25fa61?.[_0x1868f6(0x67d)],'restrict':_0x25fa61?.[_0x1868f6(0x51c)],'announce':_0x25fa61?.[_0x1868f6(0x589)],'image':_0x5512e5[_0x441dea]});}return _0x43dffa;}catch(_0x3f6ad8){throw new L(_0x1868f6(0x165),_0x3f6ad8[_0x1868f6(0x6f3)]());}}async[a0_0x1f4c2a(0x16f)](_0x221002){const _0x55f011=a0_0x1f4c2a;try{let _0x3945da=await this[_0x55f011(0x289)][_0x55f011(0x62f)](_0x221002[_0x55f011(0x212)]);return{'inviteUrl':_0x55f011(0xff)+_0x3945da,'inviteCode':_0x3945da};}catch(_0x5c1d6f){throw new L(_0x55f011(0x512),_0x5c1d6f[_0x55f011(0x6f3)]());}}async['revokeInviteCode'](_0x36b016){const _0x3a35db=a0_0x1f4c2a;try{let _0x10abfa=await this[_0x3a35db(0x289)][_0x3a35db(0x675)](_0x36b016[_0x3a35db(0x212)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x10abfa,'inviteCode':_0x10abfa};}catch(_0x5ab9dd){throw new L(_0x3a35db(0x2a0),_0x5ab9dd['toString']());}}async[a0_0x1f4c2a(0x720)](_0x41350b){const _0x500f6b=a0_0x1f4c2a;try{if((0x0,P[_0x500f6b(0xf5)])(_0x41350b[_0x500f6b(0x16f)]))var _0x5a25b2=_0x41350b[_0x500f6b(0x16f)][_0x500f6b(0x702)]('/')[0x3];else var _0x5a25b2=_0x41350b[_0x500f6b(0x16f)];let _0x3e49fa=await this[_0x500f6b(0x289)][_0x500f6b(0x247)](_0x5a25b2);return this[_0x500f6b(0x3fa)][_0x500f6b(0x204)](this[_0x500f6b(0x2c5)]+'\x20('+this[_0x500f6b(0x733)][_0x500f6b(0x230)]+_0x500f6b(0x2f5)+_0x3e49fa),{'join':!0x0,'inviteCode':_0x5a25b2,'groupJid':_0x3e49fa};}catch(_0x21b6fb){throw new L(_0x500f6b(0x473),_0x21b6fb[_0x500f6b(0x6f3)]());}}async[a0_0x1f4c2a(0x705)](_0x27f906){const _0x1da653=a0_0x1f4c2a;try{return{'participants':(await this['client']['groupMetadata'](_0x27f906[_0x1da653(0x212)]))['participants']};}catch(_0x26102b){throw new L(_0x1da653(0x60a),_0x26102b[_0x1da653(0x6f3)]());}}async[a0_0x1f4c2a(0x1c0)](_0x16ba72){const _0x41c31c=a0_0x1f4c2a;try{let _0x3a9edb=_0x16ba72[_0x41c31c(0x527)][_0x41c31c(0x441)](_0x4d6772=>this[_0x41c31c(0x5e5)](_0x4d6772));return{'updateParticipants':await this[_0x41c31c(0x289)]['groupParticipantsUpdate'](_0x16ba72[_0x41c31c(0x212)],_0x3a9edb,_0x16ba72[_0x41c31c(0x1c6)])};}catch(_0x398a71){throw new m(_0x41c31c(0x2a3),_0x398a71[_0x41c31c(0x6f3)]());}}async['toggleEphemeral'](_0x594d66){const _0x4cdfa7=a0_0x1f4c2a;try{let _0x423113=await this['client'][_0x4cdfa7(0x569)](_0x594d66[_0x4cdfa7(0x212)],_0x594d66[_0x4cdfa7(0x749)]);return{'success':!0x0};}catch(_0x1d463a){throw new m('Error\x20updating\x20setting',_0x1d463a[_0x4cdfa7(0x6f3)]());}}async['leaveGroup'](_0x44451a){const _0x3ee057=a0_0x1f4c2a;try{return await this[_0x3ee057(0x289)][_0x3ee057(0x19f)](_0x44451a['groupJid']),{'groupJid':_0x44451a['groupJid'],'leave':!0x0};}catch(_0x3c2c62){throw new m(_0x3ee057(0x1fb),_0x3c2c62[_0x3ee057(0x6f3)]());}}async[a0_0x1f4c2a(0x34f)](_0x55d8f6){const _0x48e2b2=a0_0x1f4c2a;return await this[_0x48e2b2(0x26f)](_0x55d8f6[_0x48e2b2(0x593)],{'poll':{'name':_0x55d8f6[_0x48e2b2(0x34f)]?.[_0x48e2b2(0x471)],'selectableCount':_0x55d8f6[_0x48e2b2(0x34f)][_0x48e2b2(0x3a0)],'values':_0x55d8f6[_0x48e2b2(0x34f)]['values']}},_0x55d8f6?.[_0x48e2b2(0x740)]);}async[a0_0x1f4c2a(0xc5)](_0x2ae56b){const _0x3fc1c0=a0_0x1f4c2a;return await this[_0x3fc1c0(0x26f)](_0x2ae56b[_0x3fc1c0(0x593)],{'listMessage':{'title':_0x2ae56b[_0x3fc1c0(0xc5)]['title'],'description':_0x2ae56b['listMessage'][_0x3fc1c0(0x680)],'buttonText':_0x2ae56b[_0x3fc1c0(0xc5)]?.[_0x3fc1c0(0x27b)],'footerText':_0x2ae56b[_0x3fc1c0(0xc5)]?.['footerText'],'sections':_0x2ae56b[_0x3fc1c0(0xc5)][_0x3fc1c0(0x4a8)],'listType':0x2}},_0x2ae56b?.[_0x3fc1c0(0x740)]);}async['menuMessage'](_0x52c1c5){const _0x5dbc84=a0_0x1f4c2a;let _0x11e906;if(_0x52c1c5[_0x5dbc84(0x484)][_0x5dbc84(0x72c)]===_0x5dbc84(0x5b0)){let _0x51925b=_0x52c1c5['menuMessage'][_0x5dbc84(0x5d4)][_0x5dbc84(0x2e8)]('\x0a'),_0x315e9f='',_0x1d6043='';_0x51925b!==-0x1?(_0x315e9f=_0x52c1c5[_0x5dbc84(0x484)][_0x5dbc84(0x5d4)][_0x5dbc84(0x561)](0x0,_0x51925b)[_0x5dbc84(0x2bd)](),_0x1d6043=_0x52c1c5[_0x5dbc84(0x484)][_0x5dbc84(0x5d4)][_0x5dbc84(0x561)](_0x51925b+0x1)):_0x1d6043=_0x52c1c5[_0x5dbc84(0x484)][_0x5dbc84(0x5d4)];let _0x45ca4c=this[_0x5dbc84(0x52e)](_0x52c1c5[_0x5dbc84(0x484)]['choices']);_0x11e906={'listMessage':{'title':_0x315e9f,'description':_0x1d6043,'buttonText':_0x52c1c5[_0x5dbc84(0x484)][_0x5dbc84(0x27b)]||'Selecione','footerText':_0x52c1c5['menuMessage']['footerText'],'sections':_0x45ca4c,'listType':0x2}};}else{if(_0x52c1c5[_0x5dbc84(0x484)][_0x5dbc84(0x72c)]===_0x5dbc84(0x51d)){let _0x12c130=_0x52c1c5[_0x5dbc84(0x484)][_0x5dbc84(0x70b)][_0x5dbc84(0x554)](_0x230012=>!(_0x230012['startsWith']('[')&&_0x230012[_0x5dbc84(0x222)](']')))[_0x5dbc84(0x441)](_0x6f393b=>_0x6f393b[_0x5dbc84(0x702)]('\x0a')[0x0]);_0x11e906={'poll':{'name':_0x52c1c5[_0x5dbc84(0x484)][_0x5dbc84(0x5d4)],'selectableCount':_0x52c1c5[_0x5dbc84(0x484)][_0x5dbc84(0x3a0)]||0x1,'values':_0x12c130}};}}return await this[_0x5dbc84(0x26f)](_0x52c1c5[_0x5dbc84(0x593)],_0x11e906,_0x52c1c5?.[_0x5dbc84(0x740)]);}[a0_0x1f4c2a(0x52e)](_0x11576d){const _0x411db7=a0_0x1f4c2a;let _0x46d2e1=[],_0x2c6869={'rows':[]};return _0x11576d[_0x411db7(0x67f)](_0x13f9ae=>{const _0x37d394=_0x411db7;if(_0x13f9ae[_0x37d394(0x587)]('[')&&_0x13f9ae[_0x37d394(0x222)](']'))_0x2c6869[_0x37d394(0x2e6)]['length']>0x0&&_0x46d2e1['push'](_0x2c6869),_0x2c6869={'title':_0x13f9ae[_0x37d394(0x6fe)](0x1,-0x1),'rows':[]};else{let _0x39169a=_0x13f9ae['split']('\x0a')['map'](_0x259b6b=>_0x259b6b[_0x37d394(0x2bd)]()),_0x494f9d=_0x39169a[0x0],_0x38a72e=_0x39169a[0x1]||null,_0x43d08e=_0x39169a[0x2]||_0x494f9d;_0x2c6869[_0x37d394(0x2e6)][_0x37d394(0x597)]({'title':_0x494f9d,'description':_0x38a72e,'rowId':_0x43d08e});}}),_0x2c6869[_0x411db7(0x2e6)]['length']>0x0&&_0x46d2e1['push'](_0x2c6869),_0x46d2e1;}async[a0_0x1f4c2a(0x1c1)](_0x33a4a7,_0x1c6d65){const _0x5097fd=a0_0x1f4c2a;if(await this[_0x5097fd(0x315)](_0x33a4a7,!0x0)){let _0x5dc3ad={'where':{'_id':_0x33a4a7['id']}},_0x260ccb={'status':[_0x1c6d65['status']][0x0]};try{let _0x4226bd=await this[_0x5097fd(0x16a)]['message'][_0x5097fd(0x64d)](_0x5dc3ad,_0x260ccb,this['instance'][_0x5097fd(0x230)]);_0x4226bd&&J(this[_0x5097fd(0x2c5)],_0x5097fd(0x57a),{'message':_0x4226bd});}catch{}}}['sectionsToString'](_0x5333c9){const _0x5c864a=a0_0x1f4c2a;let _0x344466=[];return _0x5333c9['forEach'](_0x4c69f9=>{const _0x235dbb=a0_0x5a52;_0x4c69f9[_0x235dbb(0x5a3)]&&_0x344466[_0x235dbb(0x597)]('['+_0x4c69f9['title']+']'),_0x4c69f9[_0x235dbb(0x2e6)][_0x235dbb(0x67f)](_0x2ec18e=>{const _0x456678=_0x235dbb;_0x344466[_0x456678(0x597)](_0x2ec18e[_0x456678(0x5a3)]);});}),_0x344466[_0x5c864a(0x431)]('|');}[a0_0x1f4c2a(0x6a7)](_0x5524ba){const _0x3468ea=a0_0x1f4c2a;let _0x5adeee=_0x5524ba[_0x3468ea(0x6c6)](/\\n/g,'\x0a')[_0x3468ea(0x702)]('\x0a')[_0x3468ea(0x554)](_0x4e1a47=>_0x4e1a47['includes'](_0x3468ea(0x394))||_0x4e1a47[_0x3468ea(0x5bb)](_0x3468ea(0x43d))),_0x2eecea='';return _0x5adeee[_0x3468ea(0x67f)](_0x29263f=>{const _0x6ce773=_0x3468ea;let _0x4b61ba=/TEL(?:.*):(.+)/,_0x423e1b=/EMAIL(?:.*):(.+)/,_0xd196bd=_0x29263f[_0x6ce773(0x739)](_0x4b61ba),_0x27876f=_0x29263f[_0x6ce773(0x739)](_0x423e1b);if(_0xd196bd){let _0x4ed985=_0xd196bd[0x1]['replace'](/-| |\+|\(|\)/g,'')['trim']();_0x2eecea+=_0x6ce773(0x4b4)+_0x4ed985+'\x0a';}else{if(_0x27876f){let _0x4daa5b=_0x27876f[0x1][_0x6ce773(0x2bd)]();_0x2eecea+=_0x6ce773(0x17f)+_0x4daa5b+'\x0a';}}}),_0x2eecea[_0x3468ea(0x2bd)]();}async['updateChatWithMessage'](_0x3f2634,_0x2f69e4,_0x27f1df){const _0x6951=a0_0x1f4c2a;if(!_0x3f2634['ENABLED'])return;let _0x485f8a=_0x2f69e4[_0x6951(0x114)][_0x6951(0x1fd)][_0x6951(0x6c6)](/:\d{1,2}@/g,'@'),_0x35daba=_0x2f69e4[_0x6951(0x114)][_0x6951(0x4a3)],_0x3662cf=_0x485f8a[_0x6951(0x222)](_0x6951(0x121)),_0x44490b=_0x2f69e4[_0x6951(0x5c9)]?.[_0x6951(0x5d4)]||_0x2f69e4[_0x6951(0x5c9)]?.[_0x6951(0x599)]||_0x2f69e4[_0x6951(0x5c9)]?.[_0x6951(0x2f8)]||_0x2f69e4['message_normalized']?.[_0x6951(0x471)],_0xa210ad={'lastmsg':_0x2f69e4[_0x6951(0x6b2)]||Date[_0x6951(0x6b8)](),'unreadcount':_0x35daba?0x0:0x1,..._0x35daba||_0x3662cf?{}:{'name':_0x2f69e4['pushName']},..._0x3662cf?{'group':_0x3662cf}:{}},_0x11272b=await this[_0x6951(0x16a)][_0x6951(0x164)]['updateOne']({'where':{'_id':_0x485f8a}},_0xa210ad,this['instance']['wuid'],{'new':!0x0,'upsert':!0x0});if(_0x11272b['imported']){let _0x540b33=await this[_0x6951(0x16a)][_0x6951(0x602)][_0x6951(0x34c)]({'where':{}},this[_0x6951(0x733)][_0x6951(0x230)]),_0x33f4ed=new Set(_0x540b33[_0x6951(0x441)](_0x588267=>_0x588267[_0x6951(0x273)])),_0x7e1635=(_0x11272b['leadInfo']?.[_0x6951(0x62a)]||[])[_0x6951(0x554)](_0x15eb75=>_0x33f4ed[_0x6951(0x595)](_0x15eb75)),_0x325668={'leadInfo.etiquetas':_0x7e1635,'imported':!0x1};_0x11272b=await this[_0x6951(0x16a)]['chat'][_0x6951(0x25b)]({'where':{'_id':_0x485f8a}},_0x325668,this['instance'][_0x6951(0x230)]);for(let _0x2b1774 of _0x7e1635)await this[_0x6951(0x214)](_0x2b1774,_0x485f8a);}if(!_0x3662cf&&(!_0x11272b?.['leadInfo']||!_0x11272b[_0x6951(0x26e)][_0x6951(0x547)])&&_0x2f69e4[_0x6951(0x42b)]&&!_0x35daba&&(_0x11272b=await this[_0x6951(0x16a)][_0x6951(0x164)][_0x6951(0x25b)]({'where':{'_id':_0x485f8a}},{'leadInfo.nome':_0x2f69e4[_0x6951(0x42b)]},this['instance']['wuid'],{'new':!0x0,'upsert':!0x0})),_0x27f1df==='MESSAGES_UPSERT'&&_0x35daba&&this['AutomateSystem']?.['flowConfig'][_0x6951(0x194)]&&!_0x44490b[_0x6951(0x587)](this['AutomateSystem']?.['flowConfig']['prefixCommand'])){let _0x4b8052=(this[_0x6951(0x29c)]?.['flowConfig']['stopWhenYouSendMsg']||0x5)*0xea60,_0x1e6a52=Date[_0x6951(0x6b8)]()+_0x4b8052;_0x11272b?.[_0x6951(0x26e)]?.[_0x6951(0x621)]===0x0||(await this[_0x6951(0x16a)][_0x6951(0x164)][_0x6951(0x25b)]({'where':{'_id':_0x485f8a}},{'leadInfo.desativadoFluxoAte':_0x1e6a52},this['instance'][_0x6951(0x230)],{'new':!0x0,'upsert':!0x1}),this[_0x6951(0x3fa)]['verbose'](this[_0x6951(0x2c5)]+'\x20('+this[_0x6951(0x733)]['wuid']+_0x6951(0x30f)+_0x1e6a52+'.'));}if(_0x11272b)J(this[_0x6951(0x2c5)],'chats',{'chat':_0x11272b});else{this[_0x6951(0x3fa)][_0x6951(0x513)](this[_0x6951(0x2c5)]+'\x20('+this[_0x6951(0x733)][_0x6951(0x230)]+_0x6951(0x154));return;}if(!this[_0x6951(0x29c)]?.[_0x6951(0x355)][_0x6951(0x194)])return this[_0x6951(0x3fa)]['verbose'](this[_0x6951(0x2c5)]+'\x20('+this[_0x6951(0x733)][_0x6951(0x230)]+_0x6951(0x450)),null;if(_0x11272b[_0x6951(0x273)][_0x6951(0x5bb)](_0x6951(0x121))&&this[_0x6951(0x29c)]?.['flowConfig'][_0x6951(0x1eb)]===!0x0)return this[_0x6951(0x3fa)][_0x6951(0x204)](this[_0x6951(0x2c5)]+'\x20('+this['instance'][_0x6951(0x230)]+_0x6951(0x451)),null;if(_0x11272b[_0x6951(0x26e)]){if(_0x11272b['leadInfo']['desativadoFluxoAte']===0x0||_0x11272b[_0x6951(0x26e)]['atendimentoAberto'])return this[_0x6951(0x3fa)][_0x6951(0x204)](this[_0x6951(0x2c5)]+'\x20('+this[_0x6951(0x733)][_0x6951(0x230)]+_0x6951(0x25e)+_0x485f8a+_0x6951(0x3f2)),null;if(_0x11272b[_0x6951(0x26e)][_0x6951(0x621)]>Date[_0x6951(0x6b8)]()&&!_0x2f69e4[_0x6951(0x5c9)]?.['vote'])return this['logger'][_0x6951(0x204)](this[_0x6951(0x2c5)]+'\x20('+this[_0x6951(0x733)]['wuid']+_0x6951(0x170)+new Date(_0x11272b[_0x6951(0x26e)]['desativadoFluxoAte'])['toLocaleString']()+_0x6951(0x3f2)),null;}this[_0x6951(0x3fa)][_0x6951(0x204)](this[_0x6951(0x2c5)]+'\x20('+this[_0x6951(0x733)][_0x6951(0x230)]+_0x6951(0x2b9)),this[_0x6951(0x541)](_0x27f1df,_0x2f69e4);}async[a0_0x1f4c2a(0x6e7)](_0x5de5a6,_0x100a60){const _0x503d95=a0_0x1f4c2a;if(_0x100a60[_0x503d95(0x177)]){let _0x3a62fa=_0x5de5a6['map'](async _0xdded14=>{const _0x26400c=_0x503d95;try{let _0x29a5ac={'_id':_0xdded14['_id'],'owner':_0xdded14['owner'],'lastcache':0x0};if(_0xdded14[_0x26400c(0x592)]!==null&&(_0x29a5ac[_0x26400c(0x592)]=_0xdded14['group']),_0xdded14['name']!==null&&(_0x29a5ac['name']=_0xdded14[_0x26400c(0x471)]),_0xdded14[_0x26400c(0x5f9)]!==null&&(_0x29a5ac[_0x26400c(0x5f9)]=_0xdded14[_0x26400c(0x5f9)]),_0xdded14[_0x26400c(0x5cf)]!==null&&(_0x29a5ac['imagechat']=_0xdded14[_0x26400c(0x5cf)]),_0xdded14[_0x26400c(0x5cf)]===null&&(_0x29a5ac[_0x26400c(0x5cf)]=_0x26400c(0x640)),_0xdded14['lastmsg']!==null&&(_0x29a5ac[_0x26400c(0x406)]=_0xdded14[_0x26400c(0x406)]),_0xdded14[_0x26400c(0x2ca)]!==null&&(_0x29a5ac[_0x26400c(0x2ca)]=_0xdded14[_0x26400c(0x2ca)]),_0xdded14['unreadcount']!==null&&(_0x29a5ac[_0x26400c(0x232)]=_0xdded14[_0x26400c(0x232)]),Object['keys'](_0x29a5ac)[_0x26400c(0x4c0)]>0x0)return await this[_0x26400c(0x16a)]['chat']['updateOne']({'where':{'_id':_0xdded14[_0x26400c(0x273)]}},_0x29a5ac,this['instance'][_0x26400c(0x230)]);}catch(_0x16fc67){return console[_0x26400c(0x513)](_0x26400c(0x6c3)+_0xdded14[_0x26400c(0x273)]+':',_0x16fc67),null;}}),_0xbc6f81=(await Promise[_0x503d95(0x132)](_0x3a62fa))[_0x503d95(0x554)](_0x56895a=>_0x56895a!==null)['length'];this[_0x503d95(0x3fa)][_0x503d95(0x204)](this[_0x503d95(0x2c5)]+'\x20('+this[_0x503d95(0x733)][_0x503d95(0x230)]+_0x503d95(0x2f5)+_0xbc6f81+_0x503d95(0x275)+this[_0x503d95(0x733)]['wuid']+_0x503d95(0x366));}}async['readMessageBot'](_0x4906c5){const _0x5ca70a=a0_0x1f4c2a;this['logger'][_0x5ca70a(0x204)](this[_0x5ca70a(0x2c5)]+'\x20('+this[_0x5ca70a(0x733)]['wuid']+_0x5ca70a(0x70e));let _0x3dd1c3={'readMessages':[{'remoteJid':_0x4906c5[_0x5ca70a(0x5bf)][_0x5ca70a(0x4fa)]['key'][_0x5ca70a(0x1fd)],'fromMe':_0x4906c5['chatLog']['lastReceivedMessage'][_0x5ca70a(0x114)]['fromMe'],'id':_0x4906c5['chatLog'][_0x5ca70a(0x4fa)]['key']['id']}]};await this[_0x5ca70a(0x261)](_0x3dd1c3);}async['StartBot'](_0x4df90a,_0x43bf5e){const _0x11a0cb=a0_0x1f4c2a;try{let {key:_0x511b9c,message_normalized:_0xf3e11}=_0x43bf5e,_0x3bf242=_0xf3e11,_0x25ee89=_0xf3e11['text']||_0xf3e11[_0x11a0cb(0x599)]||_0xf3e11[_0x11a0cb(0x2f8)]||_0xf3e11['name'],_0x3c63c6=_0x511b9c[_0x11a0cb(0x1fd)],_0x166b4f;if(_0x3bf242[_0x11a0cb(0x114)][_0x11a0cb(0x4a3)]&&_0x25ee89['trim']()!==this[_0x11a0cb(0x29c)]?.[_0x11a0cb(0x355)]['stopConversation'][_0x11a0cb(0x2bd)]())return this['logger']['verbose'](this[_0x11a0cb(0x2c5)]+'\x20('+this[_0x11a0cb(0x733)][_0x11a0cb(0x230)]+_0x11a0cb(0x137)),null;if(_0x3bf242[_0x11a0cb(0x114)]['fromMe']&&_0x25ee89['trim']()===this[_0x11a0cb(0x29c)]?.[_0x11a0cb(0x355)][_0x11a0cb(0x588)][_0x11a0cb(0x2bd)]()){this[_0x11a0cb(0x3fa)]['verbose'](this[_0x11a0cb(0x2c5)]+'\x20('+this[_0x11a0cb(0x733)][_0x11a0cb(0x230)]+_0x11a0cb(0x4cc));let _0x3b3d19=await this['repository'][_0x11a0cb(0x6f8)]['find']({'remoteJid':_0x3c63c6,'status':_0x11a0cb(0x32e)},this['instance'][_0x11a0cb(0x230)]);this[_0x11a0cb(0x3fa)][_0x11a0cb(0x204)](this[_0x11a0cb(0x2c5)]+'\x20('+this[_0x11a0cb(0x733)][_0x11a0cb(0x230)]+_0x11a0cb(0x249)+_0x3b3d19);let _0x4c6857=Date['now'](),_0xc8c3db;return this[_0x11a0cb(0x29c)]?.[_0x11a0cb(0x355)]['stopMinutes']===0x0?_0xc8c3db={'stoppedUntil':_0x4c6857+0x7591f6200}:_0xc8c3db={'stoppedUntil':_0x4c6857+this[_0x11a0cb(0x29c)]?.[_0x11a0cb(0x355)][_0x11a0cb(0x372)]*0x3c*0x3e8},this[_0x11a0cb(0x3fa)][_0x11a0cb(0x204)](this[_0x11a0cb(0x2c5)]+'\x20('+this[_0x11a0cb(0x733)]['wuid']+_0x11a0cb(0x6e0)+_0xc8c3db),this[_0x11a0cb(0x563)](_0x166b4f,_0xc8c3db['stoppedUntil']),null;}if(_0x25ee89&&_0x25ee89[_0x11a0cb(0x587)](this[_0x11a0cb(0x29c)]?.['flowConfig']['prefixCommand'])&&_0x25ee89[_0x11a0cb(0x4c0)]>0x4){let _0x36af0a=await this['repository'][_0x11a0cb(0x34a)][_0x11a0cb(0x712)]({'where':{'startCommandWord':_0x25ee89}},this['instance'][_0x11a0cb(0x230)]);if(this['logger'][_0x11a0cb(0x204)](this[_0x11a0cb(0x2c5)]+'\x20('+this[_0x11a0cb(0x733)][_0x11a0cb(0x230)]+_0x11a0cb(0x5b6)),_0x36af0a)_0x166b4f=await this[_0x11a0cb(0x68e)](_0x36af0a,_0x3bf242[_0x11a0cb(0x114)],_0x3bf242);else return this[_0x11a0cb(0x3fa)]['verbose'](this[_0x11a0cb(0x2c5)]+'\x20('+this[_0x11a0cb(0x733)]['wuid']+_0x11a0cb(0x2ea)),null;}else _0x166b4f=await this[_0x11a0cb(0x33b)](_0x3c63c6,_0x3bf242);if(_0x166b4f){this[_0x11a0cb(0x3fa)][_0x11a0cb(0x204)](this['instanceName']+'\x20('+this[_0x11a0cb(0x733)]['wuid']+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x511b9c[_0x11a0cb(0x4a3)]&&_0x166b4f[_0x11a0cb(0x364)]&&this[_0x11a0cb(0x23f)](_0x166b4f);let _0x2cf52b=await this[_0x11a0cb(0x218)](_0x166b4f);_0x2cf52b&&await this[_0x11a0cb(0x217)](_0x166b4f,_0x2cf52b);}}catch(_0x80cb12){this[_0x11a0cb(0x3fa)][_0x11a0cb(0x513)](this[_0x11a0cb(0x2c5)]+'\x20('+this[_0x11a0cb(0x733)][_0x11a0cb(0x230)]+_0x11a0cb(0x4ba)+(_0x80cb12 instanceof Error?_0x80cb12[_0x11a0cb(0x1ae)]:JSON['stringify'](_0x80cb12,null,0x2)));}}[a0_0x1f4c2a(0x208)](_0x3cc1f0,_0x1eb614='',_0x7e3ef6={},_0x1f6fc0=!0x0){const _0x38899a=a0_0x1f4c2a;for(let _0x8b6883 in _0x3cc1f0){let _0x33d010=_0x1f6fc0?'_'+_0x8b6883:''+_0x1eb614+_0x8b6883;typeof _0x3cc1f0[_0x8b6883]==_0x38899a(0x483)&&_0x3cc1f0[_0x8b6883]!==null?this[_0x38899a(0x208)](_0x3cc1f0[_0x8b6883],_0x33d010+'.',_0x7e3ef6,!0x1):_0x7e3ef6[_0x33d010]=String(_0x3cc1f0[_0x8b6883]);}return _0x7e3ef6;}[a0_0x1f4c2a(0x6b1)](_0x2b69a4){const _0x16cf11=a0_0x1f4c2a;let _0x5feb0d={};for(let _0x8f3476 of _0x2b69a4)typeof _0x8f3476['name']=='string'&&typeof _0x8f3476[_0x16cf11(0x171)]==_0x16cf11(0x2f1)&&(_0x5feb0d[_0x8f3476[_0x16cf11(0x471)]]=_0x8f3476[_0x16cf11(0x171)]);return _0x5feb0d;}async['NextBlock'](_0x59038f){const _0x49884=a0_0x1f4c2a;if(!this[_0x49884(0x29c)]?.['flowConfig'][_0x49884(0x194)]||_0x59038f[_0x49884(0x6ac)]!==_0x49884(0x32e)&&_0x59038f[_0x49884(0x40e)]==='')return null;let _0x572632=_0x59038f['chatLog'][_0x49884(0x2f7)]||_0x49884(0x5f0);typeof _0x59038f[_0x49884(0x5bf)][_0x49884(0x5d6)]>'u'&&(_0x59038f['chatLog'][_0x49884(0x5d6)]=!0x0);let _0x38d9a7=_0x59038f['chatLog'][_0x49884(0x5d6)];this['logger'][_0x49884(0x204)](this['instanceName']+'\x20('+this['instance'][_0x49884(0x230)]+_0x49884(0x284)+_0x572632+_0x49884(0x1f0)+_0x38d9a7);let _0x521f3a=_0x572632===_0x49884(0x5f0)?_0x59038f[_0x49884(0x3a8)][_0x49884(0x34c)](_0x35de1c=>_0x35de1c['type']===_0x49884(0x5f0)):_0x59038f[_0x49884(0x3a8)][_0x49884(0x34c)](_0xa29777=>_0xa29777['_id'][_0x49884(0x6f3)]()===_0x572632['toString']());if(!_0x521f3a)return this['logger'][_0x49884(0x513)](this['instanceName']+'\x20('+this[_0x49884(0x733)][_0x49884(0x230)]+_0x49884(0x4d1)+_0x572632),null;let _0x3222bd={'_pushName':_0x59038f[_0x49884(0x5bf)]['lastReceivedMessage']['pushName'],..._0x59038f[_0x49884(0x5bf)][_0x49884(0x5a7)]},_0x3ea3d4=null;if(_0x59038f[_0x49884(0x40e)]){let _0x5a6e30=_0x59038f['chatLog'][_0x49884(0x4fa)][_0x49884(0x2f8)],_0x25b837=_0x59038f[_0x49884(0x32c)][_0x49884(0x34c)](_0x37363c=>_0x37363c[_0x49884(0x3e1)]===_0x5a6e30);if(_0x25b837){let _0x59071a=_0x25b837[_0x49884(0x4a9)];if(_0x3ea3d4=_0x59038f[_0x49884(0x3a8)][_0x49884(0x34c)](_0x4fba6b=>_0x4fba6b[_0x49884(0xda)]===_0x59071a&&_0x4fba6b[_0x49884(0x145)]===0x1),_0x521f3a['uazapi'][_0x49884(0x6e4)]){let _0x4e83fc={'id':_0x59038f[_0x49884(0x40e)],'remoteJid':_0x59038f[_0x49884(0x1fd)],'fromMe':!0x0};await this['deleteMessage'](_0x4e83fc);}if(_0x521f3a[_0x49884(0x638)][_0x49884(0x6e4)]&&_0x521f3a[_0x49884(0x638)][_0x49884(0x384)]&&_0x521f3a[_0x49884(0x638)][_0x49884(0x25d)]===_0x49884(0x51d)){let _0x1caca4={'number':_0x59038f[_0x49884(0x1fd)],'options':{'delay':0x0},'textMessage':{'text':_0x49884(0x4af)+_0x59038f[_0x49884(0x2e1)]+_0x49884(0x2cf)+_0x5a6e30}};await this[_0x49884(0x433)](_0x1caca4);}_0x59038f['status']=_0x49884(0x32e),_0x59038f[_0x49884(0x40e)]='',_0x59038f['waitingMenu_text']='',_0x59038f['waitingMenu_replyOptions']=[];}else{this['logger'][_0x49884(0x204)](this[_0x49884(0x2c5)]+'\x20('+this['instance'][_0x49884(0x230)]+_0x49884(0x33e));let _0x5ec313={'activatedCount':_0x59038f[_0x49884(0x5bf)]['blockLogs']['filter'](_0x8bb427=>String(_0x8bb427['blockId'])===String(_0x572632))[_0x49884(0x4c0)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x521f3a[_0x49884(0x638)]['pollErrorMessage']){let _0x449b1d={'number':_0x59038f[_0x49884(0x1fd)],'options':{'delay':0x0},'textMessage':{'text':_0x521f3a['uazapi'][_0x49884(0x216)]}};await this[_0x49884(0x433)](_0x449b1d);}if(_0x521f3a[_0x49884(0x4c8)]!==void 0x0&&_0x5ec313[_0x49884(0x639)]>=_0x521f3a['maxActives']){let _0x279372=Date[_0x49884(0x6b8)](),_0x549c72=_0x521f3a[_0x49884(0x4c1)]??0xa;isNaN(_0x549c72)&&(_0x549c72=0xa);let _0x50c375=_0x279372+_0x549c72*0x3c*0x3e8;_0x5ec313[_0x49884(0x1bc)]=_0x50c375,_0x5ec313[_0x49884(0x452)][_0x49884(0x597)](_0x49884(0x139)),this[_0x49884(0x563)](_0x59038f,_0x50c375),_0x59038f[_0x49884(0x40e)]='',_0x59038f[_0x49884(0x2e1)]='',_0x59038f[_0x49884(0x32c)]=[];}return this[_0x49884(0x477)](_0x59038f,_0x521f3a,_0x5ec313,!0x0),null;}}if(_0x38d9a7&&_0x521f3a[_0x49884(0x4a9)]&&!_0x59038f[_0x49884(0x40e)]){let _0x5dea2d=_0x59038f[_0x49884(0x3a8)][_0x49884(0x554)](_0x3b6b25=>_0x3b6b25[_0x49884(0xda)][_0x49884(0x6f3)]()===_0x521f3a['next_groupId'][_0x49884(0x6f3)]())[_0x49884(0x24b)]((_0x8968da,_0x2550d5)=>_0x8968da[_0x49884(0x145)]-_0x2550d5[_0x49884(0x145)]);_0x5dea2d['length']>0x0&&(_0x3ea3d4=_0x5dea2d[0x0]);}if(!_0x3ea3d4){let _0x268a80=_0x521f3a[_0x49884(0xda)],_0x452f4e=_0x59038f[_0x49884(0x3a8)][_0x49884(0x554)](_0x13d344=>_0x13d344['groupId']===_0x268a80&&_0x13d344[_0x49884(0x145)]>_0x521f3a[_0x49884(0x145)])['sort']((_0x3755ec,_0x46e94c)=>_0x3755ec[_0x49884(0x145)]-_0x46e94c['order']);_0x452f4e[_0x49884(0x4c0)]>0x0&&(_0x3ea3d4=_0x452f4e[0x0]);}if(!_0x3ea3d4)return _0x59038f[_0x49884(0x6ac)]=_0x49884(0x2c7),null;_0x59038f[_0x49884(0x5bf)][_0x49884(0x5a7)]=_0x3222bd;let _0x10e132=JSON[_0x49884(0x4d9)](JSON[_0x49884(0x311)](_0x3ea3d4));return this[_0x49884(0x28c)](_0x10e132,_0x59038f[_0x49884(0x5bf)][_0x49884(0x5a7)]),_0x59038f[_0x49884(0x5bf)][_0x49884(0x2f7)]=_0x10e132['_id'],_0x59038f['chatLog']['lastCondition']=!0x0,_0x10e132;}[a0_0x1f4c2a(0xe1)](_0x5516e9,_0x50149d){const _0x2be57e=a0_0x1f4c2a;return _0x5516e9[_0x2be57e(0x6c6)](/\{\{([^}]+)\}\}/g,(_0x45d363,_0x3ff26b)=>_0x50149d[_0x3ff26b]||'');}[a0_0x1f4c2a(0x28c)](_0x33f956,_0x436e35){const _0x36cd70=a0_0x1f4c2a;for(let _0x287b4e in _0x33f956)typeof _0x33f956[_0x287b4e]==_0x36cd70(0x2f1)?_0x33f956[_0x287b4e]=this[_0x36cd70(0xe1)](_0x33f956[_0x287b4e],_0x436e35):typeof _0x33f956[_0x287b4e]==_0x36cd70(0x483)&&this[_0x36cd70(0x28c)](_0x33f956[_0x287b4e],_0x436e35);}async[a0_0x1f4c2a(0x5a2)](_0x54d39a,_0x7cf62d){const _0x4708c7=a0_0x1f4c2a;let _0x146716=_0x7cf62d['_id'];if(_0x54d39a[_0x4708c7(0x5bf)]&&_0x54d39a[_0x4708c7(0x5bf)][_0x4708c7(0x4ea)]){let _0x25fee2=_0x54d39a[_0x4708c7(0x5bf)][_0x4708c7(0x4ea)][_0x4708c7(0x554)](_0x16bd90=>String(_0x16bd90[_0x4708c7(0x54a)])===String(_0x146716))[_0x4708c7(0x55b)]();if(_0x25fee2&&_0x25fee2[_0x4708c7(0x513)]&&_0x7cf62d[_0x4708c7(0x6d9)])return _0x54d39a[_0x4708c7(0x6ac)]=_0x4708c7(0x2c7),await this[_0x4708c7(0x454)](_0x54d39a),null;}if(_0x7cf62d['type']===_0x4708c7(0x638)&&_0x7cf62d[_0x4708c7(0x638)][_0x4708c7(0x3fb)]===_0x4708c7(0x3d7)&&_0x54d39a[_0x4708c7(0x40e)])return _0x54d39a['chatLog'][_0x4708c7(0x2f7)]=_0x146716,await this['saveConversationToDatabase'](_0x54d39a),null;let _0x5d1e84=await this[_0x4708c7(0x218)](_0x54d39a);if(_0x54d39a[_0x4708c7(0x5bf)]&&_0x54d39a['chatLog'][_0x4708c7(0x4ea)]){let _0x4d6f6b=_0x54d39a[_0x4708c7(0x5bf)][_0x4708c7(0x4ea)][_0x4708c7(0x554)](_0x2ac6a0=>String(_0x2ac6a0[_0x4708c7(0x54a)])===String(_0x146716))[_0x4708c7(0x4c0)];if(_0x7cf62d[_0x4708c7(0x4c8)]!==void 0x0&&_0x4d6f6b>=_0x7cf62d[_0x4708c7(0x4c8)]){let _0x1f8e96=Date[_0x4708c7(0x6b8)](),_0x2911b8=_0x7cf62d[_0x4708c7(0x4c1)]??0xa;isNaN(_0x2911b8)&&(_0x2911b8=0xa);let _0x107302=_0x1f8e96+_0x2911b8*0x3c*0x3e8,_0x46f437={'newStoppedUntil':_0x107302};return this[_0x4708c7(0x563)](_0x54d39a,_0x107302),this[_0x4708c7(0x477)](_0x54d39a,_0x7cf62d,_0x46f437,!0x0),null;}}_0x5d1e84&&_0x5d1e84[_0x4708c7(0x72c)]!==_0x4708c7(0x5c6)&&await this[_0x4708c7(0x217)](_0x54d39a,_0x5d1e84),_0x5d1e84||await this[_0x4708c7(0x454)](_0x54d39a),_0x5d1e84&&_0x5d1e84[_0x4708c7(0x72c)]===_0x4708c7(0x5c6)&&(_0x54d39a['chatLog'][_0x4708c7(0x2f7)]=_0x146716,await this[_0x4708c7(0x454)](_0x54d39a));}async[a0_0x1f4c2a(0x217)](_0x78685d,_0x4d365c){const _0x30a931=a0_0x1f4c2a;try{let _0x5e4a6a=_0x4d365c[_0x30a931(0x72c)];this[_0x30a931(0x3fa)][_0x30a931(0x204)](this[_0x30a931(0x2c5)]+'\x20('+this['instance'][_0x30a931(0x230)]+_0x30a931(0x52a)+_0x5e4a6a);let _0x4d3385={'uazapi':()=>this[_0x30a931(0x42f)](_0x78685d,_0x4d365c),'save':()=>this[_0x30a931(0x388)](_0x78685d,_0x4d365c),'stop':()=>this[_0x30a931(0x588)](_0x78685d,_0x4d365c),'condition':()=>this['processConditions'](_0x78685d,_0x4d365c),'varedit':()=>this[_0x30a931(0x392)](_0x78685d,_0x4d365c),'apirequest':()=>this[_0x30a931(0x1b8)](_0x78685d,_0x4d365c),'goToFlow':()=>this['processgoToFlow'](_0x78685d,_0x4d365c)}[_0x5e4a6a];_0x4d3385&&await _0x4d3385();}catch(_0x54c7eb){this[_0x30a931(0x3fa)][_0x30a931(0x513)](this[_0x30a931(0x2c5)]+'\x20('+this[_0x30a931(0x733)][_0x30a931(0x230)]+_0x30a931(0x236)+(_0x54c7eb instanceof Error?_0x54c7eb[_0x30a931(0x1ae)]:JSON[_0x30a931(0x311)](_0x54c7eb,null,0x2)));}}async[a0_0x1f4c2a(0x20f)](_0x303009,_0x44e785){const _0x1cfb80=a0_0x1f4c2a;if(this['logger'][_0x1cfb80(0x204)](this[_0x1cfb80(0x2c5)]+'\x20('+this[_0x1cfb80(0x733)][_0x1cfb80(0x230)]+_0x1cfb80(0x21a)),!_0x303009||!_0x44e785)return this['logger'][_0x1cfb80(0x513)](this[_0x1cfb80(0x2c5)]+'\x20('+this['instance'][_0x1cfb80(0x230)]+_0x1cfb80(0x391)),null;await this['updateConversation'](_0x303009,_0x44e785,{},!0x0,!0x0),console[_0x1cfb80(0x2ed)]('nextBlock:'),console[_0x1cfb80(0x2ed)](_0x44e785);let _0x4da7e5=_0x44e785[_0x1cfb80(0x424)];console[_0x1cfb80(0x2ed)](_0x1cfb80(0x46a),_0x4da7e5),_0x303009=await this[_0x1cfb80(0x652)](_0x4da7e5,_0x303009[_0x1cfb80(0x1fd)],_0x303009[_0x1cfb80(0x5bf)]['realVariables']),this[_0x1cfb80(0x3fa)][_0x1cfb80(0x204)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1cfb80(0x28b));let _0x1213f8=await this[_0x1cfb80(0x218)](_0x303009);_0x1213f8&&await this[_0x1cfb80(0x217)](_0x303009,_0x1213f8);}async[a0_0x1f4c2a(0x652)](_0x199491,_0x5e6318,_0x4304f6){const _0x48a38d=a0_0x1f4c2a;this[_0x48a38d(0x3fa)]['verbose'](this[_0x48a38d(0x2c5)]+'\x20('+this['instance'][_0x48a38d(0x230)]+_0x48a38d(0x42d));try{if(_0x199491=await this['repository'][_0x48a38d(0x34a)][_0x48a38d(0x712)]({'where':{'name':_0x199491}},this[_0x48a38d(0x733)]['wuid']),!_0x199491)return this[_0x48a38d(0x3fa)]['error'](this[_0x48a38d(0x2c5)]+'\x20('+this['instance'][_0x48a38d(0x230)]+_0x48a38d(0x1a8)),null;let _0x12393a=require(_0x48a38d(0x1d1))[_0x48a38d(0x659)],_0x14a550=Date[_0x48a38d(0x6b8)](),_0x51fc91=_0x48a38d(0x5f0),_0x2a33c1={},_0x3ae5cd={},_0x26f89a={..._0x199491,'chatLog':null},_0x391739={'lastReceivedMessage':_0x2a33c1,'lastSendMessage':_0x3ae5cd,'lastBlockId':_0x51fc91,'lastCondition':!0x0,'realVariables':_0x4304f6};_0x26f89a[_0x48a38d(0x5bf)]=_0x391739,_0x26f89a[_0x48a38d(0x5bf)][_0x48a38d(0x5a7)]={..._0x4304f6},delete _0x26f89a[_0x48a38d(0x273)],_0x26f89a[_0x48a38d(0x273)]=new _0x12393a(),_0x26f89a[_0x48a38d(0x200)]=_0x14a550,_0x26f89a['status']='open',_0x26f89a['remoteJid']=_0x5e6318;let _0x17b16d=await this[_0x48a38d(0x16a)][_0x48a38d(0x6f8)]['updateOne'](_0x26f89a[_0x48a38d(0x273)],_0x26f89a,this['instance']['wuid']);return this[_0x48a38d(0x3fa)][_0x48a38d(0x204)](this[_0x48a38d(0x2c5)]+'\x20('+this[_0x48a38d(0x733)][_0x48a38d(0x230)]+_0x48a38d(0x26c)),_0x17b16d?_0x26f89a:null;}catch(_0xa59b22){throw this['logger'][_0x48a38d(0x513)](this[_0x48a38d(0x2c5)]+'\x20('+this[_0x48a38d(0x733)]['wuid']+_0x48a38d(0x4ee)+(_0xa59b22 instanceof Error?_0xa59b22[_0x48a38d(0x1ae)]:JSON[_0x48a38d(0x311)](_0xa59b22,null,0x2))),new m(_0xa59b22[_0x48a38d(0x1ae)]);}}async[a0_0x1f4c2a(0x1b8)](_0x44fe6d,_0x15af56){const _0x11ceb8=a0_0x1f4c2a;let _0x555248,_0x4b13f9;try{let _0x352551=_0x15af56[_0x11ceb8(0x2c3)];if(!_0x352551||!_0x352551[_0x11ceb8(0xea)]||!_0x352551[_0x11ceb8(0x6ed)])throw new Error(_0x11ceb8(0x555));let _0x3af015;([_0x11ceb8(0xfc),_0x11ceb8(0x2db),_0x11ceb8(0x6f2)][_0x11ceb8(0x2bf)](_0x39049b=>_0x352551['url']['includes'](_0x39049b))||_0x352551['requestFile'])&&(_0x3af015=_0x11ceb8(0x3cc));let _0x3d50fb={'method':_0x352551['method'],'url':_0x352551[_0x11ceb8(0xea)],'headers':_0x352551['header']||{},'data':_0x352551['body']||{},..._0x3af015&&{'responseType':_0x3af015}},_0x49c8b=await(0x0,se[_0x11ceb8(0x73c)])(_0x3d50fb),_0x58ccb3=_0x49c8b[_0x11ceb8(0x4ef)][_0x11ceb8(0x400)];if(_0x58ccb3&&_0x58ccb3[_0x11ceb8(0x5bb)](_0x11ceb8(0x535))){_0x555248=_0x49c8b[_0x11ceb8(0x54c)];let _0x4f92e6=_0x44fe6d[_0x11ceb8(0x5bf)][_0x11ceb8(0x5a7)],_0x27d969=this['flattenObject'](_0x555248);return Object[_0x11ceb8(0x46b)](_0x4f92e6,_0x27d969),_0x44fe6d[_0x11ceb8(0x5bf)]['realVariables']=_0x4f92e6,_0x4b13f9={'error':!0x1,'apiResponse':_0x555248},this[_0x11ceb8(0x477)](_0x44fe6d,_0x15af56,_0x4b13f9),_0x555248;}if(_0x58ccb3&&(_0x58ccb3[_0x11ceb8(0x5bb)](_0x11ceb8(0x175))||_0x58ccb3[_0x11ceb8(0x5bb)](_0x11ceb8(0x496))||_0x58ccb3[_0x11ceb8(0x5bb)](_0x11ceb8(0x5c1))||_0x58ccb3[_0x11ceb8(0x5bb)](_0x11ceb8(0x4d3)))){this['logger']['verbose'](this[_0x11ceb8(0x2c5)]+'\x20('+this[_0x11ceb8(0x733)][_0x11ceb8(0x230)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x58ccb3);let _0x31986e=(0x0,Me['v4'])(),_0x5b47a8='',_0x522981={'image/jpeg':'.jpg','image/png':'.png','image/gif':_0x11ceb8(0x55c),'image/webp':_0x11ceb8(0x676),'image/svg+xml':'.svg','audio/mpeg':_0x11ceb8(0x475),'audio/ogg':_0x11ceb8(0x351),'audio/wav':_0x11ceb8(0x6f7),'video/mp4':_0x11ceb8(0x6b5),'video/webm':_0x11ceb8(0xc8),'video/ogg':_0x11ceb8(0x63a),'text/plain':_0x11ceb8(0x342),'application/pdf':_0x11ceb8(0x641),'application/msword':_0x11ceb8(0x728),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x11ceb8(0x2bc),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x11ceb8(0x128),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x11ceb8(0x260)};_0x522981[_0x58ccb3]?(_0x5b47a8=_0x522981[_0x58ccb3],this['logger'][_0x11ceb8(0x204)](this[_0x11ceb8(0x2c5)]+'\x20('+this[_0x11ceb8(0x733)][_0x11ceb8(0x230)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x5b47a8)):(_0x5b47a8='.error',this[_0x11ceb8(0x3fa)][_0x11ceb8(0x204)](this[_0x11ceb8(0x2c5)]+'\x20('+this[_0x11ceb8(0x733)][_0x11ceb8(0x230)]+_0x11ceb8(0x6e5)+_0x5b47a8)),_0x31986e+=_0x5b47a8,this['logger']['verbose'](this[_0x11ceb8(0x2c5)]+'\x20('+this[_0x11ceb8(0x733)]['wuid']+_0x11ceb8(0x27f)+_0x31986e);let _0x1cca40=this[_0x11ceb8(0x1a6)][_0x11ceb8(0x67a)](_0x11ceb8(0x538))[_0x11ceb8(0x52d)];if(!_0x1cca40){let _0x117351=this[_0x11ceb8(0x1a6)][_0x11ceb8(0x67a)]('SSL_CONF');_0x1cca40=_0x11ceb8(0x3d1)+(_0x117351&&_0x117351[_0x11ceb8(0x19a)]['split']('/')[0x4]);}let _0x4afaf1=Buffer['from'](_0x49c8b[_0x11ceb8(0x54c)]);await this[_0x11ceb8(0x604)](_0x4afaf1,_0x31986e);let _0x25c33a=_0x11ceb8(0x68c)+_0x31986e;_0x25c33a=''+_0x1cca40+_0x25c33a,_0x555248={'fileUrl':_0x25c33a},_0x44fe6d[_0x11ceb8(0x5bf)][_0x11ceb8(0x5a7)][_0x11ceb8(0x1d3)]=_0x25c33a;let _0x470253=_0x44fe6d[_0x11ceb8(0x5bf)][_0x11ceb8(0x5a7)],_0x28abbd=this['flattenObject'](_0x555248);return Object[_0x11ceb8(0x46b)](_0x470253,_0x28abbd),_0x44fe6d[_0x11ceb8(0x5bf)]['realVariables']=_0x470253,_0x4b13f9={'error':!0x1,'apiResponse':{'fileUrl':_0x25c33a}},this[_0x11ceb8(0x477)](_0x44fe6d,_0x15af56,_0x4b13f9),_0x555248;}}catch(_0x2f99aa){console[_0x11ceb8(0x513)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x2f99aa),_0x2f99aa[_0x11ceb8(0x488)]&&(_0x555248=_0x2f99aa[_0x11ceb8(0x488)][_0x11ceb8(0x54c)]);let _0x1a936f=_0x44fe6d['chatLog']['realVariables'],_0x3b9468=this[_0x11ceb8(0x208)](_0x555248);return Object['assign'](_0x1a936f,_0x3b9468),_0x44fe6d[_0x11ceb8(0x5bf)][_0x11ceb8(0x5a7)]=_0x1a936f,_0x4b13f9={'error':!0x0,'errorLog':_0x2f99aa['toString'](),'apiResponse':_0x555248},this[_0x11ceb8(0x477)](_0x44fe6d,_0x15af56,_0x4b13f9),{'success':!0x1};}}[a0_0x1f4c2a(0x653)](_0x14c6b0,_0x46a85a){const _0x76f373=a0_0x1f4c2a;let _0x329814=_0x344c8e=>{const _0x5174e4=a0_0x5a52;let _0x4f7d45=_0x344c8e[_0x5174e4(0x6c6)](/[^0-9.,-]/g,'')[_0x5174e4(0x6c6)](',','.'),_0x241e12=parseFloat(_0x4f7d45);return isNaN(_0x241e12)?null:_0x241e12;},_0x2aa792=_0x46a85a[_0x76f373(0x4f6)],_0x28cd78=_0x46a85a[_0x76f373(0x567)];typeof _0x2aa792==_0x76f373(0x2f1)&&(_0x2aa792=this['replaceVariables'](_0x2aa792,_0x14c6b0[_0x76f373(0x5bf)][_0x76f373(0x5a7)])??''),typeof _0x28cd78=='string'&&(_0x28cd78=this[_0x76f373(0xe1)](_0x28cd78,_0x14c6b0['chatLog'][_0x76f373(0x5a7)])??'');let _0x2f31ff=null;if(!_0x46a85a[_0x76f373(0x5ff)])return null;switch(this[_0x76f373(0x3fa)][_0x76f373(0x204)](this[_0x76f373(0x2c5)]+'\x20('+this[_0x76f373(0x733)]['wuid']+_0x76f373(0x242)+_0x2aa792),this[_0x76f373(0x3fa)][_0x76f373(0x204)](this[_0x76f373(0x2c5)]+'\x20('+this[_0x76f373(0x733)][_0x76f373(0x230)]+_0x76f373(0x413)+_0x28cd78),_0x46a85a[_0x76f373(0x5ff)]){case'+':case'-':case'*':case'/':let _0x139b91=_0x329814(_0x2aa792||'0'),_0xb9ad05=_0x329814(_0x28cd78||'0');if(_0x139b91===null)return null;switch(_0x46a85a['editOperator']){case'+':_0x2f31ff=_0x139b91+(_0xb9ad05??0x0);break;case'-':_0x2f31ff=_0x139b91-(_0xb9ad05??0x0);break;case'*':_0x2f31ff=_0x139b91*(_0xb9ad05??0x1);break;case'/':_0xb9ad05!==0x0&&(_0x2f31ff=_0x139b91/(_0xb9ad05??0x1));break;}break;case'findAndReplace':case'findAndReplaceRegex':let _0x192bcd=_0x28cd78,_0x3e71e5=_0x46a85a[_0x76f373(0x17c)];if(typeof _0x3e71e5=='string'&&(_0x3e71e5=this['replaceVariables'](_0x3e71e5,_0x14c6b0[_0x76f373(0x5bf)][_0x76f373(0x5a7)])??''),_0x192bcd&&_0x3e71e5!==void 0x0){let _0x396402=_0x46a85a[_0x76f373(0x5ff)]===_0x76f373(0x48d)?new RegExp(_0x192bcd['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x76f373(0x32b)),'g'):new RegExp(_0x192bcd,'g');_0x2f31ff=_0x2aa792[_0x76f373(0x6c6)](_0x396402,_0x3e71e5);}else console[_0x76f373(0x58d)](_0x76f373(0x689));break;case _0x76f373(0x57b):_0x2f31ff=_0x28cd78;break;case _0x76f373(0x4e6):let _0x112a4d=_0x2aa792[_0x76f373(0x739)](new RegExp(_0x28cd78||''));_0x2f31ff=_0x112a4d?_0x112a4d[0x0]:'';break;case _0x76f373(0x416):_0x2f31ff=_0x2aa792['slice'](0x0,parseInt(_0x28cd78||'0'));break;case'truncatedtoEnd':let _0x2c9165=parseInt(_0x28cd78||'0');_0x2f31ff=_0x2aa792['slice'](_0x2aa792[_0x76f373(0x4c0)]-_0x2c9165);break;case'toBrazilianNumberFormat':let _0x5e0764=_0x329814(_0x2aa792),_0x191486=parseInt(_0x28cd78||'0');_0x191486=Math[_0x76f373(0x25a)](_0x191486),_0x5e0764!==null?_0x2f31ff=_0x5e0764[_0x76f373(0x657)](_0x76f373(0x258),{'minimumFractionDigits':_0x191486,'maximumFractionDigits':_0x191486}):(console[_0x76f373(0x58d)](_0x76f373(0x59d)+_0x2aa792),_0x2f31ff=null);break;case _0x76f373(0x21b):let _0x370650=_0x329814(_0x2aa792);_0x370650!==null?_0x2f31ff=_0x370650[_0x76f373(0x657)](_0x76f373(0x258),{'style':_0x76f373(0x61f),'currency':'BRL'}):(console['warn'](_0x76f373(0x1af)+_0x2aa792),_0x2f31ff=null);break;case _0x76f373(0x5a5):_0x2f31ff=_0x2aa792[_0x76f373(0x63f)]();break;case'lowerCase':_0x2f31ff=_0x2aa792[_0x76f373(0x2bb)]();break;case _0x76f373(0x549):_0x2f31ff=_0x2aa792['split']('\x20')[_0x76f373(0x441)](_0x2b8e95=>_0x2b8e95['charAt'](0x0)[_0x76f373(0x63f)]()+_0x2b8e95[_0x76f373(0x6fe)](0x1)[_0x76f373(0x2bb)]())[_0x76f373(0x431)]('\x20');break;case _0x76f373(0x44e):_0x2f31ff=_0x2aa792[_0x76f373(0x2bd)]();break;default:_0x2f31ff=_0x2aa792;}return _0x2f31ff!==null?_0x2f31ff[_0x76f373(0x6f3)]():null;}async['processvaredits'](_0x4d4d53,_0x4496a9){const _0x1a6c09=a0_0x1f4c2a;try{let _0x16d694=_0x4d4d53[_0x1a6c09(0x4f1)]?.['filter'](_0x13d042=>_0x13d042[_0x1a6c09(0x54a)]===_0x4496a9['_id']?.[_0x1a6c09(0x6f3)]())||[],_0x35286b=_0x4496a9[_0x1a6c09(0x268)],_0x9bc3e=null,_0x4d7962=[],_0x165a1a=_0x4d4d53['chatLog']['realVariables'][_0x35286b];_0x4d7962[_0x1a6c09(0x597)](_0x1a6c09(0x182)+_0x165a1a+'\x22');for(let _0x46e613 of _0x16d694){_0x46e613[_0x1a6c09(0x4f6)]=_0x165a1a,_0x9bc3e=_0x46e613[_0x1a6c09(0x4f6)];let _0x423f8a;try{_0x423f8a=this[_0x1a6c09(0x653)](_0x4d4d53,_0x46e613);}catch(_0x57fbcc){console[_0x1a6c09(0x513)](_0x1a6c09(0x336)+_0x57fbcc[_0x1a6c09(0x1ae)]);continue;}if(_0x423f8a!==null){let _0x3433ae=_0x1a6c09(0x127)+_0x46e613['editOperator']+'\x22',_0xba2c34=['toBRL',_0x1a6c09(0x5a5),'lowerCase',_0x1a6c09(0x549),_0x1a6c09(0x44e)];_0x46e613[_0x1a6c09(0x5ff)]===_0x1a6c09(0x48d)||_0x46e613[_0x1a6c09(0x5ff)]===_0x1a6c09(0x57f)?_0x3433ae+=_0x1a6c09(0xd2)+_0x46e613[_0x1a6c09(0x567)]+_0x1a6c09(0x49a)+_0x46e613['replaceValue']+'\x22':!_0xba2c34['includes'](_0x46e613[_0x1a6c09(0x5ff)])&&_0x46e613[_0x1a6c09(0x567)]!==null&&_0x46e613['secondValue']!==void 0x0&&(_0x3433ae+=',\x20valor\x20passado:\x20\x22'+_0x46e613[_0x1a6c09(0x567)]+'\x22'),_0x3433ae+=',\x20resultado:\x20'+_0x423f8a+'.',_0x4d7962['push'](_0x3433ae);}_0x423f8a!==null&&(_0x165a1a=_0x423f8a);}if(_0x4d4d53[_0x1a6c09(0x5bf)]['realVariables']&&_0x4496a9['saveVariable']){_0x4d4d53[_0x1a6c09(0x5bf)][_0x1a6c09(0x5a7)][_0x4496a9[_0x1a6c09(0x268)]]=_0x165a1a;let _0x4120f2={'variable':_0x4496a9[_0x1a6c09(0x268)],'oldValue':_0x9bc3e,'newValue':_0x165a1a,'moreLogs':_0x4d7962};try{this[_0x1a6c09(0x477)](_0x4d4d53,_0x4496a9,_0x4120f2);}catch(_0x291420){console[_0x1a6c09(0x513)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x291420[_0x1a6c09(0x1ae)]);}}return _0x35286b;}catch(_0x5a6880){return console[_0x1a6c09(0x513)](_0x1a6c09(0x607)+_0x5a6880[_0x1a6c09(0x1ae)]),null;}}async[a0_0x1f4c2a(0x1e6)](_0x1813fa,_0x411954){const _0x4c676c=a0_0x1f4c2a;try{let _0x3685a8=[],_0x23f73c=_0x1813fa[_0x4c676c(0x11d)][_0x4c676c(0x554)](_0x45d84d=>_0x45d84d[_0x4c676c(0x54a)]===_0x411954[_0x4c676c(0x273)]['toString']()),_0x21947e=null,_0x10b76f=!0x1;for(let _0x2d8f7b of _0x23f73c){let _0x3f33d5=this[_0x4c676c(0xf4)](_0x1813fa,_0x2d8f7b);_0x3685a8['push'](_0x4c676c(0x12c)+_0x2d8f7b[_0x4c676c(0x4f6)]+',\x20Comparador:\x20'+_0x2d8f7b['expression']+',\x20Segundo\x20Valor:\x20'+_0x2d8f7b[_0x4c676c(0x567)]+',\x20Resultado:\x20'+_0x3f33d5),_0x21947e===null?_0x21947e=_0x3f33d5:_0x2d8f7b[_0x4c676c(0x520)]===_0x4c676c(0x64a)?(_0x21947e=_0x21947e&&_0x3f33d5,_0x3f33d5||(_0x10b76f=!0x0)):_0x2d8f7b[_0x4c676c(0x520)]==='or'&&(_0x10b76f||(_0x21947e=_0x21947e||_0x3f33d5));}_0x21947e===null&&(_0x21947e=!0x0);let _0x277bea={'moreLogs':_0x3685a8};_0x1813fa[_0x4c676c(0x5bf)][_0x4c676c(0x5d6)]=_0x21947e,await this[_0x4c676c(0x477)](_0x1813fa,_0x411954,_0x277bea);}catch(_0xeaa281){this[_0x4c676c(0x3fa)][_0x4c676c(0x513)](this[_0x4c676c(0x2c5)]+'\x20('+this[_0x4c676c(0x733)][_0x4c676c(0x230)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0xeaa281 instanceof Error?_0xeaa281['message']:JSON['stringify'](_0xeaa281,null,0x2)));}}['evaluateCondition'](_0x3aa74f,_0x4033f4){const _0x2b2f88=a0_0x1f4c2a;let _0x214352=_0x4033f4[_0x2b2f88(0x4f6)],_0x4d65a1=_0x4033f4[_0x2b2f88(0x567)];typeof _0x214352=='string'&&(_0x214352=this[_0x2b2f88(0xe1)](_0x214352,_0x3aa74f[_0x2b2f88(0x5bf)][_0x2b2f88(0x5a7)])??''),typeof _0x4d65a1==_0x2b2f88(0x2f1)&&(_0x4d65a1=this[_0x2b2f88(0xe1)](_0x4d65a1,_0x3aa74f['chatLog']['realVariables'])??'');try{switch(_0x4033f4[_0x2b2f88(0x405)]){case _0x2b2f88(0x304):return _0x214352===_0x4d65a1;case _0x2b2f88(0x250):return _0x214352!==_0x4d65a1;case _0x2b2f88(0x65b):return this[_0x2b2f88(0x65b)](_0x214352,_0x4d65a1);case _0x2b2f88(0x46f):return!this[_0x2b2f88(0x65b)](_0x214352,_0x4d65a1);case'greater':return parseFloat(_0x214352)>parseFloat(_0x4d65a1);case _0x2b2f88(0x3df):return parseFloat(_0x214352)<parseFloat(_0x4d65a1);case _0x2b2f88(0x1a4):return _0x214352!=='';case'empty':return _0x214352==='';case'matchRegex':return new RegExp(_0x4d65a1)[_0x2b2f88(0x35f)](_0x214352);case _0x2b2f88(0x379):return!new RegExp(_0x4d65a1)['test'](_0x214352);default:return!0x1;}}catch(_0x4ba893){return console['error'](_0x2b2f88(0x39e)+_0x4ba893),!0x1;}}[a0_0x1f4c2a(0x65b)](_0x46e7ac,_0x526f01){const _0x400e2a=a0_0x1f4c2a;if(_0x46e7ac===_0x526f01&&/^\d+$/['test'](_0x46e7ac))return!0x0;if(this[_0x400e2a(0x723)](_0x46e7ac)&&/^\d+$/[_0x400e2a(0x35f)](_0x526f01)){let _0x1253ad=_0x46e7ac['split'](',')[_0x400e2a(0x441)](_0x3cc952=>parseInt(_0x3cc952['trim']())),_0xcfeacd=parseInt(_0x526f01);return _0x1253ad[_0x400e2a(0x5bb)](_0xcfeacd);}return _0x46e7ac[_0x400e2a(0x5bb)](_0x526f01);}[a0_0x1f4c2a(0x723)](_0xe89a70){return/^\d+(,\d+)*$/['test'](_0xe89a70);}[a0_0x1f4c2a(0x696)](_0x23aa2f){let _0x4639fe=!0x0,_0x21e677=null;for(let _0x43e109 of _0x23aa2f){let _0x7c7865=this['evaluateConditionTest'](_0x43e109);if(_0x21e677==='or'&&_0x7c7865){_0x4639fe=!0x0;break;}if(_0x21e677==='and'&&!_0x7c7865){_0x4639fe=!0x1;break;}_0x21e677=_0x43e109['OrAnd'];}return _0x4639fe;}[a0_0x1f4c2a(0x418)](_0x2e842a){const _0xeea712=a0_0x1f4c2a;let _0x21646e=_0x2e842a[_0xeea712(0x4f6)],_0x5d9001=_0x2e842a[_0xeea712(0x567)];try{switch(_0x2e842a[_0xeea712(0x405)]){case _0xeea712(0x304):return String(_0x21646e)===String(_0x5d9001);case _0xeea712(0x250):return String(_0x21646e)!==String(_0x5d9001);case _0xeea712(0x65b):return String(_0x21646e)[_0xeea712(0x5bb)](String(_0x5d9001));case _0xeea712(0x46f):return!String(_0x21646e)[_0xeea712(0x5bb)](String(_0x5d9001));case'greater':return parseFloat(String(_0x21646e))>parseFloat(String(_0x5d9001));case _0xeea712(0x3df):return parseFloat(String(_0x21646e))<parseFloat(String(_0x5d9001));case _0xeea712(0x1a4):return String(_0x21646e)!=='';case _0xeea712(0x173):return String(_0x21646e)==='';case _0xeea712(0x72f):return new RegExp(String(_0x5d9001))[_0xeea712(0x35f)](String(_0x21646e));case'notMatchRegex':return!new RegExp(String(_0x5d9001))[_0xeea712(0x35f)](String(_0x21646e));default:return!0x1;}}catch(_0x23ba91){return console['error'](_0xeea712(0x39e)+_0x23ba91),!0x1;}}async[a0_0x1f4c2a(0x388)](_0x196a83,_0x4ae372){const _0x407b8a=a0_0x1f4c2a;if(this[_0x407b8a(0x3fa)]['verbose'](this[_0x407b8a(0x2c5)]+'\x20('+this[_0x407b8a(0x733)][_0x407b8a(0x230)]+_0x407b8a(0x27d)),!_0x196a83||!_0x4ae372)return this[_0x407b8a(0x3fa)]['error'](this['instanceName']+'\x20('+this['instance'][_0x407b8a(0x230)]+_0x407b8a(0x391)),null;let _0x3d8f42=_0x4ae372['saveVariable'],_0x5854fa=_0x196a83[_0x407b8a(0x5bf)][_0x407b8a(0x4fa)][_0x407b8a(0x5d4)]||_0x196a83[_0x407b8a(0x5bf)]['lastReceivedMessage'][_0x407b8a(0x599)]||_0x196a83[_0x407b8a(0x5bf)][_0x407b8a(0x4fa)][_0x407b8a(0x2f8)];try{_0x196a83[_0x407b8a(0x5bf)]['realVariables']||(_0x196a83[_0x407b8a(0x5bf)][_0x407b8a(0x5a7)]={});let _0x532923=_0x196a83[_0x407b8a(0x5bf)][_0x407b8a(0x5a7)][_0x3d8f42];_0x196a83[_0x407b8a(0x5bf)][_0x407b8a(0x5a7)][_0x3d8f42]=_0x5854fa;let _0x1e0298={'variable':_0x3d8f42,'oldValue':_0x532923,'newValue':_0x5854fa};this[_0x407b8a(0x477)](_0x196a83,_0x4ae372,_0x1e0298),this[_0x407b8a(0x3fa)][_0x407b8a(0x204)](this[_0x407b8a(0x2c5)]+'\x20('+this[_0x407b8a(0x733)][_0x407b8a(0x230)]+_0x407b8a(0x317));}catch(_0x37b4b3){let _0x258318={'error':!0x0,'errorLog':_0x37b4b3[_0x407b8a(0x6f3)]()};return this['updateConversation'](_0x196a83,_0x4ae372,_0x258318),this[_0x407b8a(0x3fa)][_0x407b8a(0x513)](this[_0x407b8a(0x2c5)]+'\x20('+this[_0x407b8a(0x733)][_0x407b8a(0x230)]+_0x407b8a(0x331)+(_0x37b4b3 instanceof Error?_0x37b4b3['message']:JSON['stringify'](_0x37b4b3,null,0x2))),null;}}async[a0_0x1f4c2a(0x588)](_0x1b2ed1,_0x58c64c){const _0x56e1ce=a0_0x1f4c2a;if(this[_0x56e1ce(0x3fa)]['verbose'](this[_0x56e1ce(0x2c5)]+'\x20('+this['instance'][_0x56e1ce(0x230)]+_0x56e1ce(0x31c)),!_0x1b2ed1||!_0x58c64c)return this[_0x56e1ce(0x3fa)][_0x56e1ce(0x513)](this['instanceName']+'\x20('+this['instance'][_0x56e1ce(0x230)]+_0x56e1ce(0x391)),null;let _0x53e564=Date[_0x56e1ce(0x6b8)](),_0x3395e3=parseInt(_0x58c64c['stopMinutes'],0xa);if(isNaN(_0x3395e3))return this[_0x56e1ce(0x3fa)][_0x56e1ce(0x513)](this['instanceName']+'\x20('+this[_0x56e1ce(0x733)][_0x56e1ce(0x230)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x51feb8={'newStoppedUntil':_0x53e564+_0x3395e3*0x3c*0x3e8};return await this['updateConversation'](_0x1b2ed1,_0x58c64c,_0x51feb8,!0x0),null;}async[a0_0x1f4c2a(0x42f)](_0x106d23,_0x38ed0b){const _0x3ffdcb=a0_0x1f4c2a;try{switch(_0x38ed0b[_0x3ffdcb(0x638)]['command']){case _0x3ffdcb(0x528):await this[_0x3ffdcb(0x2f0)](_0x106d23,_0x38ed0b);break;case _0x3ffdcb(0x2c0):await this['uazapiSendMedia'](_0x106d23,_0x38ed0b);break;case _0x3ffdcb(0x5ec):await this[_0x3ffdcb(0x713)](_0x106d23,_0x38ed0b);break;case _0x3ffdcb(0x1c4):await this['uazapiSendAudio'](_0x106d23,_0x38ed0b);break;case _0x3ffdcb(0xe8):await this[_0x3ffdcb(0x365)](_0x106d23,_0x38ed0b);break;case _0x3ffdcb(0x3d7):await this[_0x3ffdcb(0x201)](_0x106d23,_0x38ed0b);break;case _0x3ffdcb(0xdc):await this[_0x3ffdcb(0x201)](_0x106d23,_0x38ed0b);break;case _0x3ffdcb(0x550):await this['uazapiDeleteMessage'](_0x106d23,_0x38ed0b);break;default:this[_0x3ffdcb(0x3fa)][_0x3ffdcb(0x513)](this[_0x3ffdcb(0x2c5)]+'\x20('+this[_0x3ffdcb(0x733)][_0x3ffdcb(0x230)]+_0x3ffdcb(0x63b)+_0x38ed0b[_0x3ffdcb(0x638)][_0x3ffdcb(0x3fb)]);}}catch(_0x5d4df6){this[_0x3ffdcb(0x3fa)][_0x3ffdcb(0x513)](this[_0x3ffdcb(0x2c5)]+'\x20('+this[_0x3ffdcb(0x733)][_0x3ffdcb(0x230)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x5d4df6 instanceof Error?_0x5d4df6[_0x3ffdcb(0x1ae)]:JSON[_0x3ffdcb(0x311)](_0x5d4df6,null,0x2)));}}async['updateConversation'](_0x4f37bf,_0x24398a,_0x281112,_0x2c72f9=!0x1,_0x1e59bf=!0x1){const _0xc07572=a0_0x1f4c2a;_0x4f37bf['chatLog'][_0xc07572(0x4ea)]||(_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x4ea)]=[]);let _0x386c7e=(_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x4ea)]?.['length']??0x0)+0x1,_0x452c06=_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x4ea)][_0xc07572(0x554)](_0x2ddd19=>String(_0x2ddd19[_0xc07572(0x54a)])===String(_0x24398a[_0xc07572(0x273)]))[_0xc07572(0x4c0)]+0x1,_0x58ee3d=_0x281112?.[_0xc07572(0x112)]??Date[_0xc07572(0x6b8)](),_0x51e116=_0x281112?.[_0xc07572(0x513)]?_0x281112[_0xc07572(0x5ed)]??_0x281112[_0xc07572(0x513)][_0xc07572(0x6f3)]():void 0x0,_0x36499b={'onTime':_0x58ee3d,'blockId':_0x24398a[_0xc07572(0x273)],'order':_0x386c7e,'activatedCount':_0x452c06,'error':_0x281112?.['error']??!0x1,'messageId':_0x281112?.[_0xc07572(0x370)],'apiResponse':_0x281112?.[_0xc07572(0x65a)],'apiResponseString':_0x281112?.[_0xc07572(0x65a)]?JSON[_0xc07572(0x311)](_0x281112?.[_0xc07572(0x65a)]):void 0x0,'variable':_0x281112?.[_0xc07572(0x4a1)],'oldValue':_0x281112?.[_0xc07572(0x65d)],'newValue':_0x281112?.['newValue'],'newStoppedUntil':_0x281112?.[_0xc07572(0x1bc)],'moreLogs':_0x281112?.[_0xc07572(0x452)],'errorLog':_0x51e116};if(_0x281112[_0xc07572(0x452)]&&_0x281112[_0xc07572(0x452)][_0xc07572(0x4c0)]>0x0){let _0xf86b9=_0x281112[_0xc07572(0x452)][_0xc07572(0x441)](_0x46a63c=>this[_0xc07572(0x71d)](_0x46a63c,_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x5a7)]));_0x36499b[_0xc07572(0x452)]=_0xf86b9;}_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x5a7)]||(_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x5a7)]={}),_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x5a7)][_0xc07572(0x514)]=String(_0x452c06),_0x4f37bf[_0xc07572(0x5bf)]['realVariables']['_error']=String(_0x281112[_0xc07572(0x513)]??!0x1),_0x4f37bf[_0xc07572(0x5bf)]['blockLogs'][_0xc07572(0x597)](_0x36499b),_0x4f37bf['chatLog'][_0xc07572(0x2f7)]=_0x24398a[_0xc07572(0x273)][_0xc07572(0x6f3)](),_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x28f)]&&(_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x28f)]=_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x28f)]),_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x4fa)]&&(_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x4fa)]=_0x4f37bf['chatLog'][_0xc07572(0x4fa)]),_0x4f37bf[_0xc07572(0x5bf)]['lastCondition']&&(_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x5d6)]=_0x4f37bf[_0xc07572(0x5bf)][_0xc07572(0x5d6)]),_0x1e59bf&&(_0x4f37bf[_0xc07572(0x6ac)]=_0xc07572(0x2c7)),_0x2c72f9?this[_0xc07572(0x454)](_0x4f37bf):this[_0xc07572(0x5a2)](_0x4f37bf,_0x24398a);}[a0_0x1f4c2a(0x71d)](_0x17b0ad,_0x33abc9){const _0x34e474=a0_0x1f4c2a;return _0x17b0ad[_0x34e474(0x6c6)](/\{\{([^}]+)\}\}/g,(_0x1b45d0,_0x398b74)=>_0x33abc9[_0x398b74]?'{{'+_0x398b74+'}}\x20->\x20\x22'+_0x33abc9[_0x398b74]+'\x22':'{{'+_0x398b74+_0x34e474(0x125));}async[a0_0x1f4c2a(0x454)](_0x5a38ad){const _0x4f9f5d=a0_0x1f4c2a;try{let _0x13cf69=Object[_0x4f9f5d(0x17b)](_0x5a38ad[_0x4f9f5d(0x5bf)][_0x4f9f5d(0x5a7)])[_0x4f9f5d(0x441)](([_0x424c2e,_0x1b1219])=>({'name':_0x424c2e,'value':_0x1b1219})),_0x28a752={'status':_0x5a38ad[_0x4f9f5d(0x6ac)],'blocks':_0x5a38ad['blocks'],'waitingMenu_id':_0x5a38ad[_0x4f9f5d(0x40e)],'waitingMenu_text':_0x5a38ad[_0x4f9f5d(0x2e1)],'waitingMenu_replyOptions':_0x5a38ad['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x5a38ad[_0x4f9f5d(0x5bf)]['lastBlockId'],'lastSendMessage':_0x5a38ad['chatLog']['lastSendMessage'],'lastReceivedMessage':_0x5a38ad[_0x4f9f5d(0x5bf)][_0x4f9f5d(0x4fa)],'lastCondition':_0x5a38ad[_0x4f9f5d(0x5bf)]['lastCondition'],'chatVariables':_0x13cf69,'realVariables':_0x5a38ad[_0x4f9f5d(0x5bf)]['realVariables'],'blockLogs':_0x5a38ad[_0x4f9f5d(0x5bf)]['blockLogs']}},_0xf8fedd=await this[_0x4f9f5d(0x16a)][_0x4f9f5d(0x6f8)]['updateOne'](_0x5a38ad['_id'],_0x28a752,this[_0x4f9f5d(0x733)]['wuid']);if(_0xf8fedd){this[_0x4f9f5d(0x3fa)][_0x4f9f5d(0x204)](this['instanceName']+'\x20('+this['instance'][_0x4f9f5d(0x230)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0xf8fedd[_0x4f9f5d(0x273)]);try{let _0x25e245=[_0x4f9f5d(0x547),_0x4f9f5d(0x15b),'email',_0x4f9f5d(0x18c),_0x4f9f5d(0x6ac),_0x4f9f5d(0x140),_0x4f9f5d(0x59a),_0x4f9f5d(0x47d),_0x4f9f5d(0x62a)];if(!this['AutomateSystem']&&(await this[_0x4f9f5d(0x228)](),!this[_0x4f9f5d(0x29c)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x431911=this[_0x4f9f5d(0x29c)]?.[_0x4f9f5d(0x4fb)]['map'](_0x33bad3=>_0x33bad3[_0x4f9f5d(0x471)]),_0x488bd={};Object['entries'](_0x5a38ad[_0x4f9f5d(0x5bf)][_0x4f9f5d(0x5a7)])[_0x4f9f5d(0x67f)](([_0xbf6d21,_0x18714c])=>{const _0xe6d912=_0x4f9f5d;_0x25e245['includes'](_0xbf6d21)&&(_0xbf6d21===_0xe6d912(0x47d)&&typeof _0x18714c==_0xe6d912(0x2f1)?_0x488bd[_0xbf6d21]=_0x18714c['split'](',')['map'](_0x1daa99=>_0x1daa99[_0xe6d912(0x2bd)]())[_0xe6d912(0x554)](_0x13852b=>_0x13852b!==''):_0xbf6d21===_0xe6d912(0x62a)&&typeof _0x18714c==_0xe6d912(0x2f1)?_0x488bd[_0xbf6d21]=_0x18714c['split'](',')[_0xe6d912(0x441)](_0x4c599c=>_0x4c599c[_0xe6d912(0x2bd)]())['filter'](_0x18bc38=>_0x18bc38!==''):_0x488bd[_0xbf6d21]=_0x18714c);});let _0x2bac83=_0x5a38ad[_0x4f9f5d(0x5bf)][_0x4f9f5d(0x4ea)][_0x5a38ad['chatLog'][_0x4f9f5d(0x4ea)][_0x4f9f5d(0x4c0)]-0x1];if(_0x2bac83){let _0x4d7f5b=_0x2bac83[_0x4f9f5d(0x1bc)];_0x4d7f5b!==void 0x0&&(_0x488bd[_0x4f9f5d(0x621)]=_0x4d7f5b[_0x4f9f5d(0x6f3)]());}let _0x44fa63=_0x13cf69['filter'](_0x3a1bb6=>_0x431911['includes'](_0x3a1bb6[_0x4f9f5d(0x471)]));this[_0x4f9f5d(0x3fa)][_0x4f9f5d(0x204)](this[_0x4f9f5d(0x2c5)]+'\x20('+this[_0x4f9f5d(0x733)][_0x4f9f5d(0x230)]+_0x4f9f5d(0x109)),this[_0x4f9f5d(0x3fa)][_0x4f9f5d(0x204)](_0x488bd),this['logger']['verbose'](this[_0x4f9f5d(0x2c5)]+'\x20('+this[_0x4f9f5d(0x733)][_0x4f9f5d(0x230)]+'):\x20customFieldVariables'),this['logger'][_0x4f9f5d(0x204)](_0x44fa63);let _0x285526=_0x44fa63[_0x4f9f5d(0x441)](_0x3b74bb=>{const _0x27bde7=_0x4f9f5d;let _0x24409b=this[_0x27bde7(0x29c)]?.[_0x27bde7(0x4fb)][_0x27bde7(0x34c)](_0x838b25=>_0x838b25[_0x27bde7(0x471)]===_0x3b74bb['name']);if(!_0x24409b)throw new Error(_0x27bde7(0x651)+_0x3b74bb[_0x27bde7(0x471)]);return{'_id':_0x24409b['_id'],'value':_0x3b74bb[_0x27bde7(0x171)]};});this['logger'][_0x4f9f5d(0x204)](this[_0x4f9f5d(0x2c5)]+'\x20('+this[_0x4f9f5d(0x733)]['wuid']+_0x4f9f5d(0x6a2)),this[_0x4f9f5d(0x3fa)]['verbose'](_0x285526),await this['saveChatVariables'](_0x5a38ad[_0x4f9f5d(0x1fd)],_0x488bd,_0x285526);}catch(_0x5e4c53){this['logger'][_0x4f9f5d(0x513)](this[_0x4f9f5d(0x2c5)]+'\x20('+this['instance'][_0x4f9f5d(0x230)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x5e4c53 instanceof Error?_0x5e4c53['message']:JSON[_0x4f9f5d(0x311)](_0x5e4c53,null,0x2)));}}else this['logger'][_0x4f9f5d(0x513)](this[_0x4f9f5d(0x2c5)]+'\x20('+this[_0x4f9f5d(0x733)]['wuid']+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x697d26){this[_0x4f9f5d(0x3fa)][_0x4f9f5d(0x513)](this[_0x4f9f5d(0x2c5)]+'\x20('+this[_0x4f9f5d(0x733)][_0x4f9f5d(0x230)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x697d26 instanceof Error?_0x697d26[_0x4f9f5d(0x1ae)]:JSON[_0x4f9f5d(0x311)](_0x697d26,null,0x2)));}}async[a0_0x1f4c2a(0x1ea)](_0x120dc2,_0x47d60f,_0x2b96ca){const _0x3f4009=a0_0x1f4c2a;try{let _0x17cfca={'leadInfo.leadnome':_0x47d60f['nome'],'leadInfo.nomecompleto':_0x47d60f[_0x3f4009(0x15b)],'leadInfo.email':_0x47d60f['email'],'leadInfo.cpf':_0x47d60f['cpf'],'leadInfo.status':_0x47d60f[_0x3f4009(0x6ac)],'leadInfo.notas':_0x47d60f[_0x3f4009(0x140)],'leadInfo.responsavelid':_0x47d60f[_0x3f4009(0x59a)],'leadInfo.tags':_0x47d60f['tags'],'leadInfo.etiquetas':_0x47d60f['etiquetas'],'leadInfo.customFields':_0x2b96ca},_0x1afec9=await this['repository'][_0x3f4009(0x164)][_0x3f4009(0x712)]({'where':{'_id':_0x120dc2}},this[_0x3f4009(0x733)][_0x3f4009(0x230)]),_0x2c4db5=new Set(_0x1afec9[_0x3f4009(0x26e)][_0x3f4009(0x62a)]||[]),_0x5cdc72=new Set(_0x47d60f[_0x3f4009(0x62a)]||[]),_0x84bf91=await this['repository']['label'][_0x3f4009(0x34c)]({'where':{}},this['instance']['wuid']),_0x2743bb=new Set(_0x84bf91[_0x3f4009(0x441)](_0x357842=>_0x357842[_0x3f4009(0x273)])),_0x59be1e=[..._0x5cdc72]['filter'](_0x322d07=>!_0x2c4db5[_0x3f4009(0x595)](_0x322d07)&&_0x2743bb[_0x3f4009(0x595)](_0x322d07)),_0x53e21f=[..._0x2c4db5][_0x3f4009(0x554)](_0xc9df26=>!_0x5cdc72[_0x3f4009(0x595)](_0xc9df26));for(let _0x4d945f of _0x59be1e)await this[_0x3f4009(0x214)](_0x4d945f,_0x1afec9[_0x3f4009(0x273)]),_0x2c4db5['add'](_0x4d945f);for(let _0x20b51d of _0x53e21f)await this['RemoveChatLabel'](_0x20b51d,_0x1afec9[_0x3f4009(0x273)]),_0x2c4db5[_0x3f4009(0x62c)](_0x20b51d);if(_0x3f4009(0x621)in _0x47d60f){let _0x444c3c=_0x47d60f['desativadoFluxoAte'];_0x17cfca[_0x3f4009(0x601)]=_0x444c3c?Number(_0x444c3c):null;}let _0x48375d=await this[_0x3f4009(0x16a)][_0x3f4009(0x164)][_0x3f4009(0x25b)]({'where':{'_id':_0x120dc2}},_0x17cfca,this[_0x3f4009(0x733)][_0x3f4009(0x230)]);_0x48375d?(this[_0x3f4009(0x3fa)][_0x3f4009(0x204)](this[_0x3f4009(0x2c5)]+'\x20('+this[_0x3f4009(0x733)][_0x3f4009(0x230)]+_0x3f4009(0x285)+_0x48375d[_0x3f4009(0x273)]),J(this['instanceName'],'chats',{'chat':_0x48375d})):this[_0x3f4009(0x3fa)][_0x3f4009(0x513)](this[_0x3f4009(0x2c5)]+'\x20('+this[_0x3f4009(0x733)][_0x3f4009(0x230)]+_0x3f4009(0x5f1));}catch(_0x1b46ed){this[_0x3f4009(0x3fa)][_0x3f4009(0x513)](this[_0x3f4009(0x2c5)]+'\x20('+this['instance'][_0x3f4009(0x230)]+_0x3f4009(0x691)+(_0x1b46ed instanceof Error?_0x1b46ed[_0x3f4009(0x1ae)]:JSON[_0x3f4009(0x311)](_0x1b46ed,null,0x2)));}}async[a0_0x1f4c2a(0x563)](_0xaa1d1c,_0x1b7918){const _0x14e8ca=a0_0x1f4c2a;this[_0x14e8ca(0x3fa)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20atualização\x20chat:\x20'+_0x1b7918);try{let _0x465982=await this[_0x14e8ca(0x16a)][_0x14e8ca(0x164)][_0x14e8ca(0x25b)]({'where':{'_id':_0xaa1d1c[_0x14e8ca(0x1fd)]}},{'leadInfo.desativadoFluxoAte':_0x1b7918},this['instance'][_0x14e8ca(0x230)]);this[_0x14e8ca(0x3fa)][_0x14e8ca(0x204)](this['instanceName']+'\x20('+this[_0x14e8ca(0x733)][_0x14e8ca(0x230)]+_0x14e8ca(0x43c)+_0xaa1d1c[_0x14e8ca(0x273)]),this[_0x14e8ca(0x3fa)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x14e8ca(0x230)]+_0x14e8ca(0x122)+JSON[_0x14e8ca(0x311)](_0x465982,null,0x2)),_0x465982&&J(this[_0x14e8ca(0x2c5)],_0x14e8ca(0x4c4),{'chat':_0x465982});}catch(_0x420c30){this[_0x14e8ca(0x3fa)][_0x14e8ca(0x513)](this['instanceName']+'\x20('+this[_0x14e8ca(0x733)][_0x14e8ca(0x230)]+_0x14e8ca(0x301)+(_0x420c30 instanceof Error?_0x420c30['message']:JSON[_0x14e8ca(0x311)](_0x420c30,null,0x2)));}}async[a0_0x1f4c2a(0x193)](_0x4a188e){const _0xd67f34=a0_0x1f4c2a;try{this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0xd67f34(0x230)]+_0xd67f34(0x62b));let _0x39edad=_0x4a188e[_0xd67f34(0x6c6)](/\D/g,''),_0x2c8dc5=await this[_0xd67f34(0x16a)]['flow'][_0xd67f34(0x712)]({'where':{'testingWith':_0x39edad}},this[_0xd67f34(0x733)]['wuid']);return _0x2c8dc5||(this[_0xd67f34(0x3fa)][_0xd67f34(0x204)](this[_0xd67f34(0x2c5)]+'\x20('+this['instance'][_0xd67f34(0x230)]+_0xd67f34(0x13c)),_0x2c8dc5=await this[_0xd67f34(0x16a)][_0xd67f34(0x34a)][_0xd67f34(0x712)]({'where':{'default':!0x0}},this[_0xd67f34(0x733)][_0xd67f34(0x230)])),_0x2c8dc5||(this[_0xd67f34(0x3fa)][_0xd67f34(0x204)](this[_0xd67f34(0x2c5)]+'\x20('+this[_0xd67f34(0x733)][_0xd67f34(0x230)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x3d4bc0){return this['logger'][_0xd67f34(0x513)](this['instanceName']+'\x20('+this[_0xd67f34(0x733)][_0xd67f34(0x230)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x3d4bc0 instanceof Error?_0x3d4bc0[_0xd67f34(0x1ae)]:JSON[_0xd67f34(0x311)](_0x3d4bc0,null,0x2))),null;}}async[a0_0x1f4c2a(0x33b)](_0x2c13d4,_0x309aad){const _0x362256=a0_0x1f4c2a;try{let _0x5ef4f1=!!_0x309aad['vote'],_0x20348d=_0x309aad[_0x362256(0xc4)],_0x16df6f=null;if(this['logger'][_0x362256(0x204)](this[_0x362256(0x2c5)]+'\x20('+this[_0x362256(0x733)]['wuid']+_0x362256(0x717)+_0x5ef4f1+_0x362256(0x56a)+_0x20348d),_0x5ef4f1){this[_0x362256(0x3fa)]['verbose'](this[_0x362256(0x2c5)]+'\x20('+this[_0x362256(0x733)]['wuid']+_0x362256(0x4f7));let _0x53382f={'where':{'remoteJid':_0x2c13d4,'waitingMenu_id':_0x20348d}};if(_0x16df6f=await this[_0x362256(0x16a)]['flowConversation']['findOne'](_0x53382f,this[_0x362256(0x733)]['wuid']),!_0x16df6f)return this[_0x362256(0x3fa)][_0x362256(0x204)](this[_0x362256(0x2c5)]+'\x20('+this[_0x362256(0x733)][_0x362256(0x230)]+_0x362256(0x119)),null;let _0x540cd1=Date[_0x362256(0x6b8)](),_0x4ecbc3=_0x16df6f?.[_0x362256(0x202)]||0x0,_0x3a5965=_0x540cd1-_0x4ecbc3*0x3c*0x3e8;if(_0x16df6f[_0x362256(0x200)]<_0x3a5965){this['logger']['verbose'](this[_0x362256(0x2c5)]+'\x20('+this[_0x362256(0x733)][_0x362256(0x230)]+_0x362256(0x1b9));let _0x3e2afe={'number':_0x16df6f[_0x362256(0x1fd)],'options':{'delay':0x0},'textMessage':{'text':_0x16df6f[_0x362256(0x738)]}};await this['textMessage'](_0x3e2afe);let _0x82d71a={'status':_0x362256(0x2c7),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository']['flowConversation'][_0x362256(0x25b)](_0x16df6f[_0x362256(0x273)],_0x82d71a,this['instance'][_0x362256(0x230)]),null;}return _0x16df6f[_0x362256(0x200)]=Date[_0x362256(0x6b8)](),_0x16df6f['chatLog'][_0x362256(0x4fa)]=_0x309aad,_0x16df6f;}else{this[_0x362256(0x3fa)][_0x362256(0x204)](this[_0x362256(0x2c5)]+'\x20('+this[_0x362256(0x733)][_0x362256(0x230)]+_0x362256(0x2f5)+this['instance'][_0x362256(0x230)]+_0x362256(0x3a9)),this[_0x362256(0x3fa)][_0x362256(0x204)](this[_0x362256(0x2c5)]+'\x20('+this['instance'][_0x362256(0x230)]+_0x362256(0x31a));let _0x15e208={'where':{'remoteJid':_0x2c13d4,'status':_0x362256(0x32e)}};if(_0x16df6f=await this['repository']['flowConversation'][_0x362256(0x712)](_0x15e208,this[_0x362256(0x733)][_0x362256(0x230)]),!_0x16df6f){let _0x105855=await this[_0x362256(0x193)](_0x2c13d4);if(_0x105855&&(_0x16df6f=await this[_0x362256(0x68e)](_0x105855,_0x309aad[_0x362256(0x114)],_0x309aad)),!_0x16df6f)return null;}let _0x3b5d24=Date[_0x362256(0x6b8)](),_0x828794=_0x16df6f?.['minutesToClose']||0x0,_0x3a2224=_0x3b5d24-_0x828794*0x3c*0x3e8;if(this[_0x362256(0x3fa)][_0x362256(0x204)](this['instanceName']+'\x20('+this[_0x362256(0x733)][_0x362256(0x230)]+_0x362256(0x4de)+_0x3b5d24+_0x362256(0x5ac)+_0x828794+',\x20Expiration\x20Time:\x20'+_0x3a2224),this['logger'][_0x362256(0x204)](this['instanceName']+'\x20('+this[_0x362256(0x733)][_0x362256(0x230)]+_0x362256(0x3ac)),this[_0x362256(0x3fa)][_0x362256(0x204)](this[_0x362256(0x2c5)]+'\x20('+this[_0x362256(0x733)]['wuid']+_0x362256(0x682)+_0x16df6f['lastInteraction']),this[_0x362256(0x3fa)]['verbose'](this[_0x362256(0x2c5)]+'\x20('+this[_0x362256(0x733)]['wuid']+_0x362256(0x195)+_0x3a2224),_0x16df6f[_0x362256(0x200)]<_0x3a2224){this[_0x362256(0x3fa)]['verbose'](this['instanceName']+'\x20('+this[_0x362256(0x733)][_0x362256(0x230)]+_0x362256(0x71e));let _0x5649e5=await this[_0x362256(0x193)](_0x2c13d4);if(_0x5649e5===null)return null;_0x16df6f&&await this['repository'][_0x362256(0x6f8)][_0x362256(0x25b)](_0x16df6f['_id'],{'status':'closed'},this[_0x362256(0x733)][_0x362256(0x230)]),_0x16df6f=await this[_0x362256(0x68e)](_0x5649e5,_0x309aad[_0x362256(0x114)],_0x309aad);}return _0x16df6f[_0x362256(0x200)]=_0x3b5d24,_0x16df6f['chatLog'][_0x362256(0x4fa)]=_0x309aad,_0x16df6f;}}catch(_0x1c2245){return this['logger'][_0x362256(0x513)](this[_0x362256(0x2c5)]+'\x20('+this[_0x362256(0x733)][_0x362256(0x230)]+_0x362256(0x36d)+(_0x1c2245 instanceof Error?_0x1c2245[_0x362256(0x1ae)]:JSON['stringify'](_0x1c2245,null,0x2))),null;}}async[a0_0x1f4c2a(0x68e)](_0xa90f2,_0x44f3d4,_0x14e3c3){const _0x5d0442=a0_0x1f4c2a;this[_0x5d0442(0x3fa)][_0x5d0442(0x204)](this[_0x5d0442(0x2c5)]+'\x20('+this[_0x5d0442(0x733)][_0x5d0442(0x230)]+_0x5d0442(0x325));try{let _0x30319a=require(_0x5d0442(0x1d1))[_0x5d0442(0x659)],_0x3dec3c=Date[_0x5d0442(0x6b8)](),_0x496356=_0x5d0442(0x5f0),_0x4013d9=_0x44f3d4[_0x5d0442(0x4a3)]?null:_0x14e3c3,_0x193cb7=_0x44f3d4[_0x5d0442(0x4a3)]?_0x14e3c3:null,_0x10f171=_0x44f3d4['remoteJid'];await this[_0x5d0442(0x694)](_0x10f171);let _0x337b01={..._0xa90f2,'chatLog':null},_0x16b790=await this['variablesToObject'](_0x337b01['variables']),_0x4f5f1a=await this['getVariablesChat'](_0x10f171),_0x568ac0={..._0x16b790,..._0x4f5f1a,'_remoteJid':_0x10f171},_0x74a532={'lastReceivedMessage':_0x4013d9,'lastSendMessage':_0x193cb7,'lastBlockId':_0x496356,'lastCondition':!0x0,'realVariables':_0x568ac0};_0x337b01[_0x5d0442(0x5bf)]=_0x74a532,delete _0x337b01[_0x5d0442(0x273)],_0x337b01[_0x5d0442(0x273)]=new _0x30319a(),_0x337b01[_0x5d0442(0x200)]=_0x3dec3c,_0x337b01[_0x5d0442(0x6ac)]=_0x5d0442(0x32e),_0x337b01[_0x5d0442(0x1fd)]=_0x10f171;let _0x2c52e0=await this[_0x5d0442(0x16a)]['flowConversation']['updateOne'](_0x337b01['_id'],_0x337b01,this[_0x5d0442(0x733)][_0x5d0442(0x230)]);return this[_0x5d0442(0x3fa)][_0x5d0442(0x204)](this[_0x5d0442(0x2c5)]+'\x20('+this[_0x5d0442(0x733)][_0x5d0442(0x230)]+_0x5d0442(0x26c)),_0x2c52e0?_0x337b01:null;}catch(_0x501e4f){return this['logger']['error'](this[_0x5d0442(0x2c5)]+'\x20('+this[_0x5d0442(0x733)][_0x5d0442(0x230)]+_0x5d0442(0x4ee)+(_0x501e4f instanceof Error?_0x501e4f[_0x5d0442(0x1ae)]:JSON['stringify'](_0x501e4f,null,0x2))),_0x501e4f;}}async[a0_0x1f4c2a(0x2f0)](_0x358783,_0x21e3b5){const _0x38dd30=a0_0x1f4c2a;let _0x5495c2=_0x358783[_0x38dd30(0x1fd)];_0x21e3b5[_0x38dd30(0x638)][_0x38dd30(0x1fd)]&&_0x21e3b5[_0x38dd30(0x638)][_0x38dd30(0x1fd)]['trim']()!==''&&(_0x5495c2=_0x21e3b5[_0x38dd30(0x638)]['remoteJid']['trim']()),this[_0x38dd30(0x3fa)][_0x38dd30(0x204)](this[_0x38dd30(0x2c5)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20texto');let _0x1562cd={'number':_0x5495c2,'options':{'delay':_0x21e3b5[_0x38dd30(0x638)][_0x38dd30(0x570)]},'textMessage':{'text':_0x21e3b5[_0x38dd30(0x638)][_0x38dd30(0x5d4)]}};try{let _0x45980f=await this[_0x38dd30(0x433)](_0x1562cd);if(_0x45980f){let _0x128fa0={'_id':_0x45980f[_0x38dd30(0x114)]['id'],'_fromMe':_0x45980f[_0x38dd30(0x114)][_0x38dd30(0x4a3)],'_remoteJid':_0x45980f[_0x38dd30(0x114)]['remoteJid']};_0x358783[_0x38dd30(0x5bf)][_0x38dd30(0x2f7)]=_0x21e3b5['_id']['toString']();let {message_normalized:_0x3b4452}=this[_0x38dd30(0x24f)](_0x45980f['message'],k(_0x45980f[_0x38dd30(0x1ae)]),null);_0x358783[_0x38dd30(0x5bf)][_0x38dd30(0x28f)]=await _0x3b4452;let _0x37e547={'messageId':_0x45980f[_0x38dd30(0x114)]['id']},_0x4ddbab=_0x358783['chatLog']['realVariables'];Object[_0x38dd30(0x46b)](_0x4ddbab,_0x128fa0),_0x358783[_0x38dd30(0x5bf)][_0x38dd30(0x5a7)]=_0x4ddbab,this[_0x38dd30(0x477)](_0x358783,_0x21e3b5,_0x37e547);}else{let _0x19b5ee={'error':!0x0};this[_0x38dd30(0x477)](_0x358783,_0x21e3b5,_0x19b5ee),this['logger'][_0x38dd30(0x513)](this[_0x38dd30(0x2c5)]+'\x20('+this[_0x38dd30(0x733)][_0x38dd30(0x230)]+_0x38dd30(0x4cd));}}catch(_0x2727de){let _0x38fc31={'error':!0x0,'errorLog':_0x2727de[_0x38dd30(0x6f3)]()};this[_0x38dd30(0x477)](_0x358783,_0x21e3b5,_0x38fc31),this[_0x38dd30(0x3fa)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x38dd30(0x10e)+(_0x2727de instanceof Error?_0x2727de['message']:JSON[_0x38dd30(0x311)](_0x2727de,null,0x2)));}}async[a0_0x1f4c2a(0x5cb)](_0x51fe17,_0x5846e5){const _0x5b5e87=a0_0x1f4c2a;let _0x4a11a8=_0x51fe17[_0x5b5e87(0x1fd)];_0x5846e5[_0x5b5e87(0x638)]['remoteJid']&&_0x5846e5[_0x5b5e87(0x638)]['remoteJid'][_0x5b5e87(0x2bd)]()!==''&&(_0x4a11a8=_0x5846e5[_0x5b5e87(0x638)][_0x5b5e87(0x1fd)][_0x5b5e87(0x2bd)]()),this[_0x5b5e87(0x3fa)]['verbose'](this['instanceName']+'\x20('+this[_0x5b5e87(0x733)][_0x5b5e87(0x230)]+'):\x20Enviando\x20mídia');let _0x9e5569={'number':_0x4a11a8,'options':{'delay':_0x5846e5[_0x5b5e87(0x638)][_0x5b5e87(0x570)]},'mediaMessage':{'mediatype':_0x5846e5[_0x5b5e87(0x638)][_0x5b5e87(0x5c3)],'caption':_0x5846e5[_0x5b5e87(0x638)][_0x5b5e87(0x599)],'media':_0x5846e5[_0x5b5e87(0x638)][_0x5b5e87(0x628)],'fileName':_0x5846e5[_0x5b5e87(0x638)][_0x5b5e87(0x5d1)]}};try{let _0xd451bf=await this[_0x5b5e87(0x307)](_0x9e5569);if(_0xd451bf){let _0x5e7636={'_id':_0xd451bf[_0x5b5e87(0x114)]['id'],'_fromMe':_0xd451bf['key'][_0x5b5e87(0x4a3)],'_remoteJid':_0xd451bf[_0x5b5e87(0x114)][_0x5b5e87(0x1fd)]};_0x51fe17['chatLog'][_0x5b5e87(0x2f7)]=_0x5846e5[_0x5b5e87(0x273)]['toString']();let {message_normalized:_0x9f6c40}=this[_0x5b5e87(0x24f)](_0xd451bf[_0x5b5e87(0x1ae)],k(_0xd451bf[_0x5b5e87(0x1ae)]),null);_0x51fe17[_0x5b5e87(0x5bf)][_0x5b5e87(0x28f)]=await _0x9f6c40;let _0x521b50={'messageId':_0xd451bf['key']['id']},_0xd80672=_0x51fe17[_0x5b5e87(0x5bf)][_0x5b5e87(0x5a7)];Object[_0x5b5e87(0x46b)](_0xd80672,_0x5e7636),_0x51fe17[_0x5b5e87(0x5bf)][_0x5b5e87(0x5a7)]=_0xd80672,this[_0x5b5e87(0x477)](_0x51fe17,_0x5846e5,_0x521b50);}else{let _0x2d27b9={'error':!0x0};this[_0x5b5e87(0x477)](_0x51fe17,_0x5846e5,_0x2d27b9),this[_0x5b5e87(0x3fa)]['error'](this[_0x5b5e87(0x2c5)]+'\x20('+this[_0x5b5e87(0x733)][_0x5b5e87(0x230)]+_0x5b5e87(0x700));}}catch(_0x38ef28){let _0x149932={'error':!0x0,'errorLog':_0x38ef28[_0x5b5e87(0x6f3)]()};this['updateConversation'](_0x51fe17,_0x5846e5,_0x149932),this[_0x5b5e87(0x3fa)][_0x5b5e87(0x513)](this['instanceName']+'\x20('+this['instance'][_0x5b5e87(0x230)]+_0x5b5e87(0x297)+(_0x38ef28 instanceof Error?_0x38ef28['message']:JSON[_0x5b5e87(0x311)](_0x38ef28,null,0x2)));}}async[a0_0x1f4c2a(0x713)](_0x1c98d5,_0x4cac8a){const _0x25600b=a0_0x1f4c2a;let _0x114499=_0x1c98d5[_0x25600b(0x1fd)];_0x4cac8a['uazapi'][_0x25600b(0x1fd)]&&_0x4cac8a[_0x25600b(0x638)]['remoteJid'][_0x25600b(0x2bd)]()!==''&&(_0x114499=_0x4cac8a[_0x25600b(0x638)][_0x25600b(0x1fd)][_0x25600b(0x2bd)]()),this['logger']['verbose'](this[_0x25600b(0x2c5)]+'\x20('+this[_0x25600b(0x733)][_0x25600b(0x230)]+_0x25600b(0x2d9));let _0x819228={'number':_0x114499,'options':{'delay':_0x4cac8a[_0x25600b(0x638)][_0x25600b(0x570)]},'locationMessage':{'name':_0x4cac8a[_0x25600b(0x638)][_0x25600b(0x471)],'address':_0x4cac8a['uazapi'][_0x25600b(0x4d2)],'latitude':_0x4cac8a[_0x25600b(0x638)]['latitude'],'longitude':_0x4cac8a['uazapi'][_0x25600b(0x70d)]}};try{let _0x20842d=await this['locationMessage'](_0x819228);if(_0x20842d){let _0x17f250={'_id':_0x20842d[_0x25600b(0x114)]['id'],'_fromMe':_0x20842d['key'][_0x25600b(0x4a3)],'_remoteJid':_0x20842d[_0x25600b(0x114)][_0x25600b(0x1fd)]};_0x1c98d5['chatLog'][_0x25600b(0x2f7)]=_0x4cac8a['_id'][_0x25600b(0x6f3)]();let {message_normalized:_0x22f7d6}=this[_0x25600b(0x24f)](_0x20842d[_0x25600b(0x1ae)],k(_0x20842d[_0x25600b(0x1ae)]),null);_0x1c98d5[_0x25600b(0x5bf)][_0x25600b(0x28f)]=await _0x22f7d6;let _0x57f80e={'messageId':_0x20842d[_0x25600b(0x114)]['id']},_0x238100=_0x1c98d5['chatLog'][_0x25600b(0x5a7)];Object['assign'](_0x238100,_0x17f250),_0x1c98d5[_0x25600b(0x5bf)][_0x25600b(0x5a7)]=_0x238100,this[_0x25600b(0x477)](_0x1c98d5,_0x4cac8a,_0x57f80e);}else{let _0x1ae707={'error':!0x0};this[_0x25600b(0x477)](_0x1c98d5,_0x4cac8a,_0x1ae707),this[_0x25600b(0x3fa)][_0x25600b(0x513)](this['instanceName']+'\x20('+this[_0x25600b(0x733)][_0x25600b(0x230)]+_0x25600b(0x35b));}}catch(_0x4e7070){let _0x47561c={'error':!0x0,'errorLog':_0x4e7070['toString']()};this[_0x25600b(0x477)](_0x1c98d5,_0x4cac8a,_0x47561c),this['logger'][_0x25600b(0x513)](this[_0x25600b(0x2c5)]+'\x20('+this['instance'][_0x25600b(0x230)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x4e7070 instanceof Error?_0x4e7070[_0x25600b(0x1ae)]:JSON['stringify'](_0x4e7070,null,0x2)));}}async['uazapiSendAudio'](_0x56631b,_0x1e23a8){const _0x282222=a0_0x1f4c2a;let _0x4647ec=_0x56631b[_0x282222(0x1fd)];_0x1e23a8['uazapi']['remoteJid']&&_0x1e23a8['uazapi'][_0x282222(0x1fd)][_0x282222(0x2bd)]()!==''&&(_0x4647ec=_0x1e23a8[_0x282222(0x638)][_0x282222(0x1fd)][_0x282222(0x2bd)]()),this[_0x282222(0x3fa)][_0x282222(0x204)](this[_0x282222(0x2c5)]+'\x20('+this[_0x282222(0x733)]['wuid']+_0x282222(0x174));let _0x578ca7={'number':_0x4647ec,'options':{'delay':_0x1e23a8[_0x282222(0x638)][_0x282222(0x570)]},'audioMessage':{'audio':_0x1e23a8[_0x282222(0x638)][_0x282222(0x5c1)]}};try{let _0x4f179f=await this[_0x282222(0x282)](_0x578ca7);if(_0x4f179f){let _0x31892c={'_id':_0x4f179f['key']['id'],'_fromMe':_0x4f179f[_0x282222(0x114)][_0x282222(0x4a3)],'_remoteJid':_0x4f179f[_0x282222(0x114)]['remoteJid']};_0x56631b[_0x282222(0x5bf)][_0x282222(0x2f7)]=_0x1e23a8['_id'][_0x282222(0x6f3)]();let {message_normalized:_0x26a424}=this[_0x282222(0x24f)](_0x4f179f[_0x282222(0x1ae)],k(_0x4f179f[_0x282222(0x1ae)]),null);_0x56631b['chatLog'][_0x282222(0x28f)]=await _0x26a424;let _0x297e4e={'messageId':_0x4f179f['key']['id']},_0x31979b=_0x56631b[_0x282222(0x5bf)][_0x282222(0x5a7)];Object['assign'](_0x31979b,_0x31892c),_0x56631b['chatLog'][_0x282222(0x5a7)]=_0x31979b,this['updateConversation'](_0x56631b,_0x1e23a8,_0x297e4e);}else{let _0x19480b={'error':!0x0};this[_0x282222(0x477)](_0x56631b,_0x1e23a8,_0x19480b),this[_0x282222(0x3fa)][_0x282222(0x513)](this[_0x282222(0x2c5)]+'\x20('+this[_0x282222(0x733)][_0x282222(0x230)]+_0x282222(0x6a3));}}catch(_0x43cc3d){let _0x52eb5f={'error':!0x0,'errorLog':_0x43cc3d[_0x282222(0x6f3)]()};this['updateConversation'](_0x56631b,_0x1e23a8,_0x52eb5f),this[_0x282222(0x3fa)][_0x282222(0x513)](this['instanceName']+'\x20('+this[_0x282222(0x733)]['wuid']+_0x282222(0x459)+(_0x43cc3d instanceof Error?_0x43cc3d[_0x282222(0x1ae)]:JSON['stringify'](_0x43cc3d,null,0x2)));}}async['uazapiSendContact'](_0x381113,_0x136751){const _0x4a1f09=a0_0x1f4c2a;let _0x231023=_0x381113['remoteJid'];_0x136751['uazapi']['remoteJid']&&_0x136751[_0x4a1f09(0x638)][_0x4a1f09(0x1fd)][_0x4a1f09(0x2bd)]()!==''&&(_0x231023=_0x136751[_0x4a1f09(0x638)][_0x4a1f09(0x1fd)][_0x4a1f09(0x2bd)]()),this[_0x4a1f09(0x3fa)]['verbose'](this[_0x4a1f09(0x2c5)]+'\x20('+this['instance'][_0x4a1f09(0x230)]+_0x4a1f09(0x6db));let _0x2f85cd={'number':_0x231023,'options':{'delay':_0x136751[_0x4a1f09(0x638)][_0x4a1f09(0x570)]},'contactMessage':[{'fullName':_0x136751['uazapi'][_0x4a1f09(0x5cd)],'phoneNumber':_0x136751[_0x4a1f09(0x638)][_0x4a1f09(0x4ac)]}]};try{let _0x23e462=await this[_0x4a1f09(0x1ef)](_0x2f85cd);if(_0x23e462){let _0x4f979b={'_id':_0x23e462[_0x4a1f09(0x114)]['id'],'_fromMe':_0x23e462['key'][_0x4a1f09(0x4a3)],'_remoteJid':_0x23e462['key']['remoteJid']};_0x381113[_0x4a1f09(0x5bf)]['lastBlockId']=_0x136751[_0x4a1f09(0x273)][_0x4a1f09(0x6f3)]();let {message_normalized:_0x1861d8}=this[_0x4a1f09(0x24f)](_0x23e462['message'],k(_0x23e462[_0x4a1f09(0x1ae)]),null);_0x381113[_0x4a1f09(0x5bf)][_0x4a1f09(0x28f)]=await _0x1861d8;let _0xb9f281={'messageId':_0x23e462[_0x4a1f09(0x114)]['id']},_0x551351=_0x381113[_0x4a1f09(0x5bf)][_0x4a1f09(0x5a7)];Object['assign'](_0x551351,_0x4f979b),_0x381113[_0x4a1f09(0x5bf)][_0x4a1f09(0x5a7)]=_0x551351,this[_0x4a1f09(0x477)](_0x381113,_0x136751,_0xb9f281);}else{let _0xd7eb0d={'error':!0x0};this[_0x4a1f09(0x477)](_0x381113,_0x136751,_0xd7eb0d),this[_0x4a1f09(0x3fa)][_0x4a1f09(0x513)](this[_0x4a1f09(0x2c5)]+'\x20('+this[_0x4a1f09(0x733)][_0x4a1f09(0x230)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x43f990){let _0x3392a8={'error':!0x0,'errorLog':_0x43f990[_0x4a1f09(0x6f3)]()};this[_0x4a1f09(0x477)](_0x381113,_0x136751,_0x3392a8),this[_0x4a1f09(0x3fa)][_0x4a1f09(0x513)](this[_0x4a1f09(0x2c5)]+'\x20('+this['instance'][_0x4a1f09(0x230)]+_0x4a1f09(0x4bf)+(_0x43f990 instanceof Error?_0x43f990[_0x4a1f09(0x1ae)]:JSON[_0x4a1f09(0x311)](_0x43f990,null,0x2)));}}[a0_0x1f4c2a(0x57e)](_0xf59677,_0x137929){const _0xc1896b=a0_0x1f4c2a;for(let _0xe0c1ec of _0xf59677)_0xe0c1ec[_0xc1896b(0x3e1)]&&(_0xe0c1ec['option']=this[_0xc1896b(0xe1)](_0xe0c1ec[_0xc1896b(0x3e1)],_0x137929)),_0xe0c1ec['optionDescription']&&(_0xe0c1ec[_0xc1896b(0x6ec)]=this[_0xc1896b(0xe1)](_0xe0c1ec['optionDescription'],_0x137929));}async[a0_0x1f4c2a(0x201)](_0x56b6a9,_0x24be39){const _0x1f393c=a0_0x1f4c2a;let _0x306f1a=_0x56b6a9[_0x1f393c(0x1fd)];_0x24be39[_0x1f393c(0x638)][_0x1f393c(0x1fd)]&&_0x24be39[_0x1f393c(0x638)][_0x1f393c(0x1fd)][_0x1f393c(0x2bd)]()!==''&&(_0x306f1a=_0x24be39[_0x1f393c(0x638)][_0x1f393c(0x1fd)][_0x1f393c(0x2bd)]()),this[_0x1f393c(0x3fa)][_0x1f393c(0x204)](this[_0x1f393c(0x2c5)]+'\x20('+this[_0x1f393c(0x733)][_0x1f393c(0x230)]+_0x1f393c(0x612));let _0x2fdc08=_0x56b6a9[_0x1f393c(0xf8)][_0x1f393c(0x554)](_0x3344d0=>_0x3344d0[_0x1f393c(0x54a)]===_0x24be39[_0x1f393c(0x273)])[_0x1f393c(0x24b)]((_0x22b377,_0x571984)=>_0x22b377['order']-_0x571984['order']);this[_0x1f393c(0x57e)](_0x2fdc08,_0x56b6a9[_0x1f393c(0x5bf)][_0x1f393c(0x5a7)]);let _0x4c9263=_0x2fdc08[_0x1f393c(0x441)](_0x17f5dd=>_0x17f5dd[_0x1f393c(0x3e1)]),_0x3e84b0={'number':_0x306f1a,'menuMessage':{'type':_0x24be39['uazapi']['menuType']||_0x1f393c(0x51d),'text':_0x24be39[_0x1f393c(0x638)][_0x1f393c(0x5d4)]||_0x24be39[_0x1f393c(0x638)][_0x1f393c(0x471)],'footerText':_0x24be39[_0x1f393c(0x638)]['footerText'],'buttonText':_0x24be39['uazapi'][_0x1f393c(0x27b)],'selectableCount':0x1,'choices':_0x4c9263},'options':{'delay':_0x24be39[_0x1f393c(0x638)][_0x1f393c(0x570)]}};try{let _0x43c920=await this[_0x1f393c(0x484)](_0x3e84b0);if(_0x43c920){let _0x680ec0={'_id':_0x43c920[_0x1f393c(0x114)]['id'],'_fromMe':_0x43c920['key'][_0x1f393c(0x4a3)],'_remoteJid':_0x43c920[_0x1f393c(0x114)]['remoteJid']};_0x24be39['uazapi']['menuIgnoreNonVotes']===!0x0&&(_0x56b6a9[_0x1f393c(0x6ac)]=_0x1f393c(0x1b3),this['logger'][_0x1f393c(0x204)](this[_0x1f393c(0x2c5)]+'\x20('+this['instance'][_0x1f393c(0x230)]+_0x1f393c(0x5ea)+_0x56b6a9[_0x1f393c(0x6ac)])),this[_0x1f393c(0x3fa)][_0x1f393c(0x204)](this[_0x1f393c(0x2c5)]+'\x20('+this[_0x1f393c(0x733)]['wuid']+_0x1f393c(0x718)+(_0x24be39[_0x1f393c(0x638)][_0x1f393c(0x471)]||_0x24be39[_0x1f393c(0x638)][_0x1f393c(0x5d4)])),_0x56b6a9[_0x1f393c(0x40e)]=_0x43c920['key']['id'],_0x56b6a9[_0x1f393c(0x2e1)]=_0x24be39[_0x1f393c(0x638)]['name']||_0x24be39['uazapi'][_0x1f393c(0x5d4)],_0x56b6a9[_0x1f393c(0x32c)]=_0x2fdc08,_0x24be39[_0x1f393c(0x638)][_0x1f393c(0x491)]&&(_0x56b6a9[_0x1f393c(0x738)]=_0x24be39[_0x1f393c(0x638)]['menuExpiredMessage']),this[_0x1f393c(0x3fa)][_0x1f393c(0x204)](this[_0x1f393c(0x2c5)]+'\x20('+this['instance'][_0x1f393c(0x230)]+_0x1f393c(0x244)+_0x56b6a9[_0x1f393c(0x2e1)]),_0x56b6a9[_0x1f393c(0x5bf)]['lastBlockId']=_0x24be39['_id']['toString']();let {message_normalized:_0x31be2e}=this['normalizeMessage'](_0x43c920[_0x1f393c(0x1ae)],k(_0x43c920[_0x1f393c(0x1ae)]),null);_0x56b6a9[_0x1f393c(0x5bf)][_0x1f393c(0x28f)]=await _0x31be2e;let _0x1f1ec7={'messageId':_0x43c920['key']['id']},_0x40c814=_0x56b6a9['chatLog'][_0x1f393c(0x5a7)];Object['assign'](_0x40c814,_0x680ec0),_0x56b6a9[_0x1f393c(0x5bf)][_0x1f393c(0x5a7)]=_0x40c814,this[_0x1f393c(0x477)](_0x56b6a9,_0x24be39,_0x1f1ec7);}else{let _0x2f4611={'error':!0x0};this[_0x1f393c(0x477)](_0x56b6a9,_0x24be39,_0x2f4611),this[_0x1f393c(0x3fa)][_0x1f393c(0x513)](this['instanceName']+'\x20('+this[_0x1f393c(0x733)]['wuid']+_0x1f393c(0x38e));}}catch(_0x47979d){let _0x2e0797={'error':!0x0,'errorLog':_0x47979d instanceof Error?_0x47979d[_0x1f393c(0x1ae)]:JSON[_0x1f393c(0x311)](_0x47979d,null,0x2)};this['updateConversation'](_0x56b6a9,_0x24be39,_0x2e0797),this[_0x1f393c(0x3fa)][_0x1f393c(0x513)](this['instanceName']+'\x20('+this[_0x1f393c(0x733)][_0x1f393c(0x230)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x47979d instanceof Error?_0x47979d[_0x1f393c(0x1ae)]:JSON[_0x1f393c(0x311)](_0x47979d,null,0x2)));}}async[a0_0x1f4c2a(0x2ff)](_0x358a03,_0xd5048d){const _0xba8e67=a0_0x1f4c2a;this[_0xba8e67(0x3fa)][_0xba8e67(0x204)](this[_0xba8e67(0x2c5)]+'\x20('+this['instance'][_0xba8e67(0x230)]+_0xba8e67(0x41a));let _0x58958e=_0x358a03[_0xba8e67(0x5bf)][_0xba8e67(0x4ea)]['find'](_0xcc67d0=>_0xcc67d0[_0xba8e67(0x54a)]['toString']()===_0xd5048d[_0xba8e67(0x638)]['blockId'][_0xba8e67(0x6f3)]()),_0x1d57e7={'id':_0x58958e[_0xba8e67(0x370)],'remoteJid':_0x58958e[_0xba8e67(0x1fd)],'fromMe':_0x58958e[_0xba8e67(0x4a3)]};try{let _0x1241d0=await this[_0xba8e67(0x550)](_0x1d57e7);if(_0x1241d0){_0x358a03[_0xba8e67(0x5bf)][_0xba8e67(0x2f7)]=_0xd5048d['_id'][_0xba8e67(0x6f3)]();let {message_normalized:_0x29d649}=this[_0xba8e67(0x24f)](_0x1241d0[_0xba8e67(0x1ae)],k(_0x1241d0[_0xba8e67(0x1ae)]),null);_0x358a03[_0xba8e67(0x5bf)][_0xba8e67(0x28f)]=await _0x29d649;let _0x45fc3b={};this[_0xba8e67(0x477)](_0x358a03,_0xd5048d,_0x45fc3b);}else{let _0x1dd2aa={'error':!0x0};this[_0xba8e67(0x477)](_0x358a03,_0xd5048d,_0x1dd2aa),this[_0xba8e67(0x3fa)]['error'](this[_0xba8e67(0x2c5)]+'\x20('+this[_0xba8e67(0x733)]['wuid']+_0xba8e67(0x353));}}catch(_0xb8bc10){let _0x2ee1fe={'error':!0x0,'errorLog':_0xb8bc10 instanceof Error?_0xb8bc10[_0xba8e67(0x1ae)]:JSON[_0xba8e67(0x311)](_0xb8bc10,null,0x2)};this[_0xba8e67(0x477)](_0x358a03,_0xd5048d,_0x2ee1fe),this[_0xba8e67(0x3fa)][_0xba8e67(0x513)](this[_0xba8e67(0x2c5)]+'\x20('+this[_0xba8e67(0x733)][_0xba8e67(0x230)]+_0xba8e67(0x556)+(_0xb8bc10 instanceof Error?_0xb8bc10[_0xba8e67(0x1ae)]:JSON[_0xba8e67(0x311)](_0xb8bc10,null,0x2)));}}async[a0_0x1f4c2a(0x57c)](_0x2515ee){const _0x338595=a0_0x1f4c2a;try{if(this[_0x338595(0x3fa)][_0x338595(0x204)](this[_0x338595(0x2c5)]+'\x20('+this[_0x338595(0x733)][_0x338595(0x230)]+'):\x20Criando\x20fluxo...'),await this['repository'][_0x338595(0x34a)][_0x338595(0x712)]({'where':{'name':_0x2515ee['name']}},this[_0x338595(0x733)]['wuid']))return{'message':_0x338595(0x251)};_0x2515ee[_0x338595(0x73c)]===!0x0&&await this[_0x338595(0x16a)]['flow'][_0x338595(0x335)]({},{'default':!0x1},this[_0x338595(0x733)][_0x338595(0x230)]);let _0x52a293=new ne[(_0x338595(0x610))][(_0x338595(0x659))](),_0x12926c={'_id':_0x52a293,'default':!0x0,'title':_0x338595(0x53d),'x':0x0,'y':0x0},_0x556d46={'_id':new ne[(_0x338595(0x610))][(_0x338595(0x659))](),'order':0x1,'groupId':_0x52a293[_0x338595(0x6f3)](),'type':_0x338595(0x5f0)},_0x25c2a9={'_id':new ne['Types']['ObjectId'](),'owner':this['instance'][_0x338595(0x230)],'name':_0x2515ee[_0x338595(0x471)],'groups':[_0x12926c],'blocks':[_0x556d46],..._0x2515ee};return _0x25c2a9=await this[_0x338595(0x16a)][_0x338595(0x34a)]['createAndSave'](_0x25c2a9,this['instance'][_0x338595(0x230)]),_0x25c2a9;}catch(_0x13c251){throw this[_0x338595(0x3fa)][_0x338595(0x513)](this['instanceName']+'\x20('+this[_0x338595(0x733)][_0x338595(0x230)]+_0x338595(0x2cb)+(_0x13c251 instanceof Error?_0x13c251[_0x338595(0x1ae)]:JSON[_0x338595(0x311)](_0x13c251,null,0x2))),new m(_0x338595(0x665)+_0x13c251);}}async[a0_0x1f4c2a(0x5b4)](_0x2a9d8d){const _0x5576e5=a0_0x1f4c2a;try{return this[_0x5576e5(0x3fa)][_0x5576e5(0x204)](this['instanceName']+'\x20('+this[_0x5576e5(0x733)][_0x5576e5(0x230)]+_0x5576e5(0x5eb)),await this[_0x5576e5(0x16a)]['flow'][_0x5576e5(0x326)]({'where':{'name':_0x2a9d8d}},this[_0x5576e5(0x733)][_0x5576e5(0x230)]);}catch(_0x173f59){return this['logger'][_0x5576e5(0x513)](this['instanceName']+'\x20('+this[_0x5576e5(0x733)]['wuid']+_0x5576e5(0xcf)+(_0x173f59 instanceof Error?_0x173f59['message']:JSON[_0x5576e5(0x311)](_0x173f59,null,0x2))),{'message':_0x5576e5(0x32d)+_0x173f59};}}async[a0_0x1f4c2a(0x6f9)](_0x1b1513){const _0x29284=a0_0x1f4c2a;try{this[_0x29284(0x3fa)]['verbose'](this[_0x29284(0x2c5)]+'\x20('+this[_0x29284(0x733)][_0x29284(0x230)]+_0x29284(0x62b));let _0x53cc51=await this[_0x29284(0x16a)]['flow'][_0x29284(0x712)]({'where':{'name':_0x1b1513}},this[_0x29284(0x733)][_0x29284(0x230)]);if(!_0x53cc51)throw new Error(_0x29284(0x53c));if(!this['AutomateSystem']&&(await this[_0x29284(0x228)](),!this[_0x29284(0x29c)]))return null;let _0x2753d2=this[_0x29284(0x29c)]?.[_0x29284(0x4fb)]['map'](_0x492132=>_0x492132['name']),_0x2ef446=[_0x29284(0x547),_0x29284(0x15b),_0x29284(0x49b),_0x29284(0x18c),'status','notas',_0x29284(0x59a),_0x29284(0x47d),'etiquetas'];_0x53cc51['variables']=_0x53cc51[_0x29284(0x3d8)]['filter'](_0x3db174=>!(_0x3db174[_0x29284(0x337)]===_0x29284(0x26e)||_0x3db174[_0x29284(0x26e)])),_0x2ef446['forEach'](_0x4ce5bd=>{const _0xd3a8a9=_0x29284;_0x53cc51[_0xd3a8a9(0x3d8)][_0xd3a8a9(0x597)]({'folder':_0xd3a8a9(0x26e),'name':_0x4ce5bd,'value':'','doc':'','leadInfo':!0x0});}),_0x2753d2[_0x29284(0x67f)](_0x3b4583=>{const _0x329f66=_0x29284;let _0x47b897=_0x53cc51[_0x329f66(0x3d8)][_0x329f66(0x560)](_0x15cb94=>_0x15cb94['name']===_0x3b4583);_0x47b897===-0x1?_0x53cc51[_0x329f66(0x3d8)][_0x329f66(0x597)]({'folder':'leadInfo','name':_0x3b4583,'value':'','doc':'','leadInfo':!0x0}):(_0x53cc51['variables'][_0x47b897][_0x329f66(0x337)]='leadInfo',_0x53cc51[_0x329f66(0x3d8)][_0x47b897][_0x329f66(0x26e)]=!0x0);}),_0x53cc51[_0x29284(0x3a8)]&&_0x53cc51[_0x29284(0x3a8)][_0x29284(0x4c0)]>0x0&&_0x53cc51[_0x29284(0x3a8)][_0x29284(0x67f)](_0x204991=>{const _0x1d0ada=_0x29284;_0x204991[_0x1d0ada(0xda)]&&_0x204991[_0x1d0ada(0x4a9)]&&_0x204991[_0x1d0ada(0xda)]===_0x204991[_0x1d0ada(0x4a9)]&&(_0x204991[_0x1d0ada(0x4a9)]=null);});let _0x242f9b=await this[_0x29284(0x16a)][_0x29284(0x34a)][_0x29284(0x25b)](_0x53cc51['_id'],_0x53cc51,this['instance']['wuid']);if(!_0x242f9b)throw new Error(_0x29284(0xe5));return _0x242f9b;}catch(_0x52d581){throw this[_0x29284(0x3fa)][_0x29284(0x513)](this[_0x29284(0x2c5)]+'\x20('+this[_0x29284(0x733)][_0x29284(0x230)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x52d581 instanceof Error?_0x52d581['message']:JSON[_0x29284(0x311)](_0x52d581,null,0x2))),new m('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x52d581);}}async['allFlows'](){const _0x34b071=a0_0x1f4c2a;try{return this[_0x34b071(0x3fa)][_0x34b071(0x204)](this[_0x34b071(0x2c5)]+'\x20('+this[_0x34b071(0x733)][_0x34b071(0x230)]+_0x34b071(0x442)),await this['repository'][_0x34b071(0x34a)][_0x34b071(0x6b9)]({'where':{}},this['instance'][_0x34b071(0x230)]);}catch(_0x3ccfe2){return this[_0x34b071(0x3fa)][_0x34b071(0x513)](this[_0x34b071(0x2c5)]+'\x20('+this[_0x34b071(0x733)][_0x34b071(0x230)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x3ccfe2 instanceof Error?_0x3ccfe2[_0x34b071(0x1ae)]:JSON[_0x34b071(0x311)](_0x3ccfe2,null,0x2))),{'message':_0x34b071(0x22a)+_0x3ccfe2};}}async[a0_0x1f4c2a(0x72b)](_0x2e6c41){const _0x1d56ed=a0_0x1f4c2a;try{this[_0x1d56ed(0x3fa)][_0x1d56ed(0x204)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1d56ed(0x4be));let _0x4a61cc=await this[_0x1d56ed(0x16a)]['flow'][_0x1d56ed(0x712)]({'where':{'name':_0x2e6c41['name']}},this[_0x1d56ed(0x733)][_0x1d56ed(0x230)]);return _0x4a61cc?(_0x2e6c41[_0x1d56ed(0x73c)]===!0x0&&await this['repository'][_0x1d56ed(0x34a)][_0x1d56ed(0x335)]({},{'default':!0x1},this[_0x1d56ed(0x733)][_0x1d56ed(0x230)]),await this[_0x1d56ed(0x16a)][_0x1d56ed(0x34a)][_0x1d56ed(0x25b)](_0x4a61cc['_id'],_0x2e6c41,this[_0x1d56ed(0x733)][_0x1d56ed(0x230)])):{'message':'Fluxo\x20não\x20encontrado'};}catch(_0x38675b){throw this[_0x1d56ed(0x3fa)][_0x1d56ed(0x513)](this[_0x1d56ed(0x2c5)]+'\x20('+this[_0x1d56ed(0x733)][_0x1d56ed(0x230)]+_0x1d56ed(0x398)+(_0x38675b instanceof Error?_0x38675b['message']:JSON[_0x1d56ed(0x311)](_0x38675b,null,0x2))),new m('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x38675b instanceof Error?_0x38675b[_0x1d56ed(0x1ae)]:JSON[_0x1d56ed(0x311)](_0x38675b,null,0x2)));}}async['editFlowBlock'](_0x350831){const _0x3ff4a6=a0_0x1f4c2a;try{this['logger'][_0x3ff4a6(0x204)](this['instanceName']+'\x20('+this[_0x3ff4a6(0x733)][_0x3ff4a6(0x230)]+_0x3ff4a6(0x59b));let _0x45d633=await this[_0x3ff4a6(0x16a)][_0x3ff4a6(0x34a)][_0x3ff4a6(0x712)]({'where':{'name':_0x350831[_0x3ff4a6(0x471)]}},this['instance']['wuid']);_0x45d633||this['throwAndLogError'](_0x3ff4a6(0x53c));let {block:_0x44738d}=_0x350831;_0x44738d?.['copy']?this[_0x3ff4a6(0x456)](_0x45d633,_0x350831):_0x44738d?.['delete']?this[_0x3ff4a6(0x67e)](_0x45d633,_0x350831):_0x44738d[_0x3ff4a6(0x273)]?await this[_0x3ff4a6(0x235)](_0x45d633,_0x350831):this['addBlock'](_0x45d633,_0x350831);let _0x56acbe=await this[_0x3ff4a6(0x16a)]['flow'][_0x3ff4a6(0x25b)](_0x45d633[_0x3ff4a6(0x273)],_0x45d633,this[_0x3ff4a6(0x733)][_0x3ff4a6(0x230)]);if(!_0x56acbe)throw new Error(_0x3ff4a6(0xe5));return _0x56acbe;}catch(_0x3c63d8){this[_0x3ff4a6(0x14d)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x3c63d8);}}async[a0_0x1f4c2a(0x456)](_0xbf5383,_0x2258c8){const _0x4cdc0c=a0_0x1f4c2a;let _0x46d1cd=_0x2258c8['block']['_id'],_0x120145=_0xbf5383[_0x4cdc0c(0x3a8)][_0x4cdc0c(0x34c)](_0xef0cf=>_0xef0cf['_id']['toString']()===_0x46d1cd);if(!_0x120145){this[_0x4cdc0c(0x3fa)][_0x4cdc0c(0x513)](this['instanceName']+'\x20('+this[_0x4cdc0c(0x733)][_0x4cdc0c(0x230)]+_0x4cdc0c(0x2f4)+_0x46d1cd+_0x4cdc0c(0x581));return;}this['logger'][_0x4cdc0c(0x204)](this['instanceName']+'\x20('+this[_0x4cdc0c(0x733)]['wuid']+_0x4cdc0c(0x444)+JSON['stringify'](_0x120145));let _0xf9244b=JSON['parse'](JSON[_0x4cdc0c(0x311)](_0x120145));_0xf9244b[_0x4cdc0c(0x273)]=new ne['default'][(_0x4cdc0c(0x610))][(_0x4cdc0c(0x659))](),this[_0x4cdc0c(0x3fa)][_0x4cdc0c(0x204)](this[_0x4cdc0c(0x2c5)]+'\x20('+this['instance'][_0x4cdc0c(0x230)]+_0x4cdc0c(0x1db)+JSON[_0x4cdc0c(0x311)](_0xf9244b)),_0xbf5383[_0x4cdc0c(0x3a8)][_0x4cdc0c(0x597)](_0xf9244b),this[_0x4cdc0c(0x43a)](_0xbf5383[_0x4cdc0c(0x3a8)],_0xf9244b[_0x4cdc0c(0xda)]);}[a0_0x1f4c2a(0x14d)](_0x402ad9){const _0x5d237a=a0_0x1f4c2a;throw this[_0x5d237a(0x3fa)][_0x5d237a(0x513)](this['instanceName']+'\x20('+this[_0x5d237a(0x733)][_0x5d237a(0x230)]+_0x5d237a(0x2f5)+_0x402ad9),new m(_0x402ad9);}[a0_0x1f4c2a(0x67e)](_0x3a70bf,_0x390932){const _0x185cd1=a0_0x1f4c2a;let {block:_0x239407}=_0x390932;if(_0x239407[_0x185cd1(0x72c)]===_0x185cd1(0x5f0)){this['throwAndLogError'](_0x185cd1(0x3f5));return;}if(!_0x239407[_0x185cd1(0x273)]){this[_0x185cd1(0x14d)](_0x185cd1(0x490));return;}let _0x3f8c93=_0x3a70bf[_0x185cd1(0x3a8)]['find'](_0xb393d2=>_0xb393d2['_id'][_0x185cd1(0x6f3)]()===_0x390932['block']['_id'][_0x185cd1(0x6f3)]());if(!_0x3f8c93){this[_0x185cd1(0x14d)](_0x185cd1(0x5d3)+_0x239407[_0x185cd1(0x273)]+_0x185cd1(0x548));return;}_0x3a70bf[_0x185cd1(0x3a8)]=_0x3a70bf[_0x185cd1(0x3a8)][_0x185cd1(0x554)](_0x3e6925=>_0x3e6925[_0x185cd1(0x273)]['toString']()!==_0x390932[_0x185cd1(0x2b8)][_0x185cd1(0x273)][_0x185cd1(0x6f3)]()),_0x3a70bf[_0x185cd1(0x11d)]=_0x3a70bf['conditions'][_0x185cd1(0x554)](_0x3cba8e=>_0x3cba8e[_0x185cd1(0x54a)]!==_0x239407[_0x185cd1(0x273)][_0x185cd1(0x6f3)]()),_0x3a70bf[_0x185cd1(0x4f1)]=_0x3a70bf[_0x185cd1(0x4f1)][_0x185cd1(0x554)](_0x1c48b3=>_0x1c48b3[_0x185cd1(0x54a)]!==_0x239407[_0x185cd1(0x273)][_0x185cd1(0x6f3)]()),_0x3a70bf[_0x185cd1(0xf8)]=_0x3a70bf[_0x185cd1(0xf8)][_0x185cd1(0x554)](_0x32b301=>_0x32b301[_0x185cd1(0x54a)]!==_0x239407['_id']['toString']()),this[_0x185cd1(0x43a)](_0x3a70bf[_0x185cd1(0x3a8)],_0x3f8c93[_0x185cd1(0xda)]);}async[a0_0x1f4c2a(0x235)](_0x3a425d,_0x1dc3e7){const _0x5893f2=a0_0x1f4c2a;let _0x4ed013=_0x3a425d[_0x5893f2(0x3a8)][_0x5893f2(0x560)](_0x3d7e75=>_0x3d7e75[_0x5893f2(0x273)][_0x5893f2(0x6f3)]()===_0x1dc3e7['block'][_0x5893f2(0x273)][_0x5893f2(0x6f3)]());if(this[_0x5893f2(0x3fa)]['verbose'](this[_0x5893f2(0x2c5)]+'\x20('+this['instance']['wuid']+_0x5893f2(0x2b4)+_0x4ed013),_0x4ed013===-0x1){this[_0x5893f2(0x3fa)][_0x5893f2(0x204)](_0x5893f2(0x5d3)+_0x1dc3e7['block']['_id']+_0x5893f2(0x39b));return;}if(_0x3a425d[_0x5893f2(0x3a8)][_0x4ed013][_0x5893f2(0x72c)]===_0x5893f2(0x5f0)){let _0x4590f2=Object[_0x5893f2(0x6c4)](_0x1dc3e7[_0x5893f2(0x2b8)]);if(_0x4590f2['length']>0x2||_0x4590f2[_0x5893f2(0x4c0)]===0x2&&!_0x4590f2[_0x5893f2(0x5bb)](_0x5893f2(0x4a9))){this[_0x5893f2(0x14d)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x1aa4c8=_0x3a425d[_0x5893f2(0x3a8)][_0x4ed013][_0x5893f2(0xda)];for(let _0x35d6d2 in _0x1dc3e7['block'])_0x1dc3e7[_0x5893f2(0x2b8)][_0x5893f2(0x732)](_0x35d6d2)&&(_0x3a425d[_0x5893f2(0x3a8)][_0x4ed013][_0x35d6d2]=_0x1dc3e7[_0x5893f2(0x2b8)][_0x35d6d2]);if(this['logger'][_0x5893f2(0x204)](this[_0x5893f2(0x2c5)]+'\x20('+this['instance']['wuid']+_0x5893f2(0x231)+JSON[_0x5893f2(0x311)](_0x3a425d[_0x5893f2(0x3a8)][_0x4ed013])),_0x3a425d[_0x5893f2(0x3a8)][_0x4ed013]['apirequest']&&_0x5893f2(0x417)in _0x3a425d[_0x5893f2(0x3a8)][_0x4ed013][_0x5893f2(0x2c3)]){this['logger'][_0x5893f2(0x204)](this[_0x5893f2(0x2c5)]+'\x20('+this[_0x5893f2(0x733)][_0x5893f2(0x230)]+_0x5893f2(0x45c));let _0x44acc9=JSON[_0x5893f2(0x311)](_0x3a425d[_0x5893f2(0x3a8)][_0x4ed013][_0x5893f2(0x2c3)][_0x5893f2(0x417)],null,0x1);_0x44acc9[_0x5893f2(0x4c0)]>0x2&&(_0x44acc9=_0x44acc9[_0x5893f2(0x561)](0x1,_0x44acc9[_0x5893f2(0x4c0)]-0x1)['trim']()),_0x3a425d[_0x5893f2(0x3a8)][_0x4ed013]['apirequest'][_0x5893f2(0x399)]=_0x44acc9;}if(_0x3a425d['blocks'][_0x4ed013][_0x5893f2(0x2c3)]&&_0x5893f2(0x3c5)in _0x3a425d[_0x5893f2(0x3a8)][_0x4ed013][_0x5893f2(0x2c3)]){this[_0x5893f2(0x3fa)]['verbose'](this[_0x5893f2(0x2c5)]+'\x20('+this['instance']['wuid']+_0x5893f2(0x1c3));let _0x4a1d8a=JSON[_0x5893f2(0x311)](_0x3a425d[_0x5893f2(0x3a8)][_0x4ed013][_0x5893f2(0x2c3)][_0x5893f2(0x3c5)],null,0x1);_0x4a1d8a[_0x5893f2(0x4c0)]>0x2&&(_0x4a1d8a=_0x4a1d8a[_0x5893f2(0x561)](0x1,_0x4a1d8a['length']-0x1)[_0x5893f2(0x2bd)]()),_0x3a425d[_0x5893f2(0x3a8)][_0x4ed013][_0x5893f2(0x2c3)][_0x5893f2(0x658)]=_0x4a1d8a;}let _0xc3985c=_0x3a425d['blocks'][_0x4ed013][_0x5893f2(0xda)];_0x1aa4c8!==_0xc3985c?(this[_0x5893f2(0x43a)](_0x3a425d[_0x5893f2(0x3a8)],_0x1aa4c8),this[_0x5893f2(0x43a)](_0x3a425d['blocks'],_0xc3985c)):this[_0x5893f2(0x43a)](_0x3a425d['blocks'],_0x1aa4c8);}['addBlock'](_0x166d0c,_0x3481be){const _0xe06296=a0_0x1f4c2a;if(_0x3481be[_0xe06296(0x2b8)][_0xe06296(0x72c)]==='start'){this['throwAndLogError']('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x3481be[_0xe06296(0x2b8)][_0xe06296(0x2c3)]&&_0xe06296(0x417)in _0x3481be[_0xe06296(0x2b8)][_0xe06296(0x2c3)]){this['logger'][_0xe06296(0x204)](this[_0xe06296(0x2c5)]+'\x20('+this[_0xe06296(0x733)][_0xe06296(0x230)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x27c090=JSON[_0xe06296(0x311)](_0x3481be[_0xe06296(0x2b8)]['apirequest'][_0xe06296(0x417)],null,0x1);_0x27c090[_0xe06296(0x4c0)]>0x2&&(_0x27c090=_0x27c090['substring'](0x1,_0x27c090[_0xe06296(0x4c0)]-0x1)['trim']()),_0x3481be[_0xe06296(0x2b8)]['apirequest'][_0xe06296(0x399)]=_0x27c090;}_0x3481be[_0xe06296(0x2b8)]['apirequest']&&'body'in _0x3481be[_0xe06296(0x2b8)][_0xe06296(0x2c3)]&&(this[_0xe06296(0x3fa)][_0xe06296(0x204)](this[_0xe06296(0x2c5)]+'\x20('+this[_0xe06296(0x733)]['wuid']+_0xe06296(0x1c3)),_0x3481be[_0xe06296(0x2b8)][_0xe06296(0x2c3)][_0xe06296(0x658)]=JSON[_0xe06296(0x311)](_0x3481be['block'][_0xe06296(0x2c3)][_0xe06296(0x3c5)],null,0x1)['trim']()),_0x166d0c[_0xe06296(0x3a8)][_0xe06296(0x597)](_0x3481be['block']),this[_0xe06296(0x43a)](_0x166d0c[_0xe06296(0x3a8)],_0x3481be[_0xe06296(0x2b8)][_0xe06296(0xda)]);}[a0_0x1f4c2a(0x43a)](_0x210532,_0x392604){const _0x473967=a0_0x1f4c2a;let _0x1ae88a=_0x210532['filter'](_0x231c92=>_0x231c92[_0x473967(0xda)]===_0x392604);_0x1ae88a[_0x473967(0x24b)]((_0x317502,_0x1a9336)=>_0x317502[_0x473967(0x145)]-_0x1a9336['order']),_0x1ae88a[_0x473967(0x67f)]((_0x435fab,_0x279cd0)=>_0x435fab[_0x473967(0x145)]=_0x279cd0+0x1);}async['editFlowReply'](_0x35e92f){const _0x2c3012=a0_0x1f4c2a;try{if(this[_0x2c3012(0x3fa)]['verbose'](this[_0x2c3012(0x2c5)]+'\x20('+this['instance'][_0x2c3012(0x230)]+_0x2c3012(0x6cc)),!_0x35e92f||!_0x35e92f[_0x2c3012(0x319)]){this[_0x2c3012(0x14d)]('Data\x20inválida\x20fornecida');return;}let _0x152028=await this[_0x2c3012(0x16a)][_0x2c3012(0x34a)]['findOne']({'where':{'name':_0x35e92f['name']}},this[_0x2c3012(0x733)][_0x2c3012(0x230)]);_0x152028||this[_0x2c3012(0x14d)](_0x2c3012(0x53c));let {replyOption:_0x6446b5}=_0x35e92f;_0x6446b5?.['delete']?(this[_0x2c3012(0x227)](_0x152028,_0x35e92f),this[_0x2c3012(0x386)](_0x152028[_0x2c3012(0xf8)],_0x35e92f[_0x2c3012(0x319)][_0x2c3012(0x54a)])):_0x6446b5[_0x2c3012(0x273)]?(await this[_0x2c3012(0x296)](_0x152028,_0x35e92f),this[_0x2c3012(0x386)](_0x152028['replyOptions'],_0x35e92f['replyOption']['blockId'])):(this[_0x2c3012(0x47a)](_0x152028,_0x35e92f),this[_0x2c3012(0x386)](_0x152028[_0x2c3012(0xf8)],_0x35e92f[_0x2c3012(0x319)][_0x2c3012(0x54a)]));let _0x3758d0=await this['repository'][_0x2c3012(0x34a)][_0x2c3012(0x25b)](_0x152028[_0x2c3012(0x273)],_0x152028,this[_0x2c3012(0x733)]['wuid']);if(!_0x3758d0)throw new Error(_0x2c3012(0xe5));return _0x3758d0;}catch(_0x1a3ce9){this[_0x2c3012(0x14d)](_0x2c3012(0x5af)+_0x1a3ce9);}}[a0_0x1f4c2a(0x386)](_0x5949f5,_0x3436e8){const _0x388858=a0_0x1f4c2a;console[_0x388858(0x2ed)](_0x388858(0xe6),_0x3436e8),_0x5949f5[_0x388858(0x67f)](_0x20b371=>{const _0x596947=_0x388858;_0x20b371['blockId']===_0x3436e8&&_0x20b371[_0x596947(0x145)]===void 0x0&&(_0x20b371['order']=0x270f);});let _0x15dca6=_0x5949f5[_0x388858(0x554)](_0x2d5862=>_0x2d5862[_0x388858(0x54a)]===_0x3436e8);_0x15dca6[_0x388858(0x24b)]((_0x5d3785,_0x52c22c)=>_0x5d3785['order']-_0x52c22c[_0x388858(0x145)]),_0x15dca6[_0x388858(0x67f)]((_0x2c02f6,_0x5e0e4a)=>{const _0x16e7be=_0x388858;_0x2c02f6[_0x16e7be(0x145)]=_0x5e0e4a+0x1;}),_0x5949f5[_0x388858(0x67f)](_0x26e869=>{const _0xe09530=_0x388858;if(_0x26e869[_0xe09530(0x54a)]===_0x3436e8){let _0x223f0f=_0x15dca6[_0xe09530(0x34c)](_0x4c50e2=>_0x4c50e2['_id']&&_0x26e869[_0xe09530(0x273)]&&_0x4c50e2[_0xe09530(0x273)][_0xe09530(0x6f3)]()===_0x26e869[_0xe09530(0x273)][_0xe09530(0x6f3)]());_0x223f0f&&(_0x26e869[_0xe09530(0x145)]=_0x223f0f[_0xe09530(0x145)]);}}),console[_0x388858(0x2ed)]('ReplyOptions\x20finais\x20após\x20reordenação:',_0x5949f5);}[a0_0x1f4c2a(0x227)](_0x18b1a3,_0x1853da){const _0x24f8e4=a0_0x1f4c2a;let {replyOption:_0x2609ae}=_0x1853da;if(!_0x2609ae[_0x24f8e4(0x273)]){this[_0x24f8e4(0x14d)](_0x24f8e4(0x6c1));return;}if(!_0x18b1a3['replyOptions'][_0x24f8e4(0x34c)](_0x248141=>_0x248141['_id']['toString']()===_0x1853da['replyOption'][_0x24f8e4(0x273)][_0x24f8e4(0x6f3)]())){this[_0x24f8e4(0x14d)](_0x24f8e4(0x1ad)+_0x2609ae[_0x24f8e4(0x273)]+_0x24f8e4(0x548));return;}_0x18b1a3[_0x24f8e4(0xf8)]=_0x18b1a3[_0x24f8e4(0xf8)][_0x24f8e4(0x554)](_0x433e7e=>_0x433e7e[_0x24f8e4(0x273)]['toString']()!==_0x1853da[_0x24f8e4(0x319)]['_id'][_0x24f8e4(0x6f3)]());}async[a0_0x1f4c2a(0x296)](_0x22f316,_0x43cd0a){const _0x163793=a0_0x1f4c2a;let _0x163d79=_0x22f316[_0x163793(0xf8)][_0x163793(0x560)](_0x1983e1=>_0x1983e1[_0x163793(0x273)]['toString']()===_0x43cd0a['replyOption']['_id'][_0x163793(0x6f3)]());if(_0x163d79===-0x1){this['throwAndLogError'](_0x163793(0x1ad)+_0x43cd0a[_0x163793(0x319)][_0x163793(0x273)]+_0x163793(0x39b));return;}for(let _0x4b50c9 in _0x43cd0a[_0x163793(0x319)])_0x43cd0a[_0x163793(0x319)]['hasOwnProperty'](_0x4b50c9)&&(_0x22f316['replyOptions'][_0x163d79][_0x4b50c9]=_0x43cd0a[_0x163793(0x319)][_0x4b50c9]);}[a0_0x1f4c2a(0x47a)](_0x1410f1,_0x5ee29a){const _0xecb16f=a0_0x1f4c2a;_0x1410f1[_0xecb16f(0xf8)][_0xecb16f(0x597)](_0x5ee29a[_0xecb16f(0x319)]);}async['editFlowGroup'](_0xa53d6){const _0x405bb9=a0_0x1f4c2a;this['logger'][_0x405bb9(0x204)](this[_0x405bb9(0x2c5)]+'\x20('+this[_0x405bb9(0x733)][_0x405bb9(0x230)]+_0x405bb9(0x74a)+_0xa53d6);try{this[_0x405bb9(0x3fa)][_0x405bb9(0x204)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x405bb9(0x3d0));let _0x39d07a=await this[_0x405bb9(0x16a)][_0x405bb9(0x34a)][_0x405bb9(0x712)]({'where':{'name':_0xa53d6[_0x405bb9(0x471)]}},this[_0x405bb9(0x733)][_0x405bb9(0x230)]);if(!_0x39d07a)throw new Error(_0x405bb9(0x53c));if(_0xa53d6[_0x405bb9(0x592)]&&_0xa53d6[_0x405bb9(0x592)]?.[_0x405bb9(0x62c)]===!0x0){if(this['logger'][_0x405bb9(0x204)](this[_0x405bb9(0x2c5)]+'\x20('+this[_0x405bb9(0x733)]['wuid']+_0x405bb9(0xd8)),_0xa53d6[_0x405bb9(0x592)][_0x405bb9(0x73c)]===!0x0)return{'message':_0x405bb9(0x1aa)};if(_0x39d07a[_0x405bb9(0x3a8)][_0x405bb9(0x2bf)](_0x49a8b3=>_0x49a8b3[_0x405bb9(0xda)][_0x405bb9(0x6f3)]()===_0xa53d6[_0x405bb9(0x592)][_0x405bb9(0x273)]))return this[_0x405bb9(0x3fa)][_0x405bb9(0x204)](this[_0x405bb9(0x2c5)]+'\x20('+this['instance'][_0x405bb9(0x230)]+_0x405bb9(0x44a)),{'message':_0x405bb9(0x1f3)};_0x39d07a[_0x405bb9(0x466)]=_0x39d07a['groups'][_0x405bb9(0x554)](_0x5978f2=>_0x5978f2[_0x405bb9(0x273)][_0x405bb9(0x6f3)]()!==_0xa53d6[_0x405bb9(0x592)]['_id']);}else{if(_0xa53d6[_0x405bb9(0x592)]){if(_0xa53d6[_0x405bb9(0x592)][_0x405bb9(0x73c)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0xa53d6[_0x405bb9(0x592)][_0x405bb9(0x273)]){let _0x341605=_0x39d07a['groups'][_0x405bb9(0x34c)](_0x3edd22=>_0x3edd22[_0x405bb9(0x273)]['toString']()===_0xa53d6[_0x405bb9(0x592)]['_id']);_0x341605&&(_0xa53d6[_0x405bb9(0x592)]['x']<0x0&&(_0xa53d6[_0x405bb9(0x592)]['x']=0x0),_0xa53d6[_0x405bb9(0x592)]['y']<0x0&&(_0xa53d6[_0x405bb9(0x592)]['y']=0x0),Object[_0x405bb9(0x46b)](_0x341605,_0xa53d6[_0x405bb9(0x592)]));}else _0x39d07a['groups'][_0x405bb9(0x597)](_0xa53d6[_0x405bb9(0x592)]);}}let _0xe0f79f=await this[_0x405bb9(0x16a)][_0x405bb9(0x34a)][_0x405bb9(0x25b)](_0x39d07a[_0x405bb9(0x273)],_0x39d07a,this[_0x405bb9(0x733)][_0x405bb9(0x230)]);if(!_0xe0f79f)throw new Error(_0x405bb9(0xe5));return _0xe0f79f;}catch(_0x390ab4){throw this[_0x405bb9(0x3fa)]['error'](this['instanceName']+'\x20('+this[_0x405bb9(0x733)][_0x405bb9(0x230)]+_0x405bb9(0x6c9)+(_0x390ab4 instanceof Error?_0x390ab4[_0x405bb9(0x1ae)]:JSON[_0x405bb9(0x311)](_0x390ab4,null,0x2))),new m(_0x405bb9(0x4f9)+(_0x390ab4 instanceof Error?_0x390ab4[_0x405bb9(0x1ae)]:JSON[_0x405bb9(0x311)](_0x390ab4,null,0x2)));}}async[a0_0x1f4c2a(0x52f)](_0x31851f){const _0x463dbf=a0_0x1f4c2a;try{this[_0x463dbf(0x3fa)]['verbose'](this[_0x463dbf(0x2c5)]+'\x20('+this[_0x463dbf(0x733)][_0x463dbf(0x230)]+_0x463dbf(0x224));let _0x12456e=await this['repository']['flow'][_0x463dbf(0x712)]({'where':{'name':_0x31851f[_0x463dbf(0x471)]}},this['instance'][_0x463dbf(0x230)]);if(!_0x12456e)throw new Error('Flow\x20não\x20encontrado');let _0x2be423=!0x1;if(_0x31851f[_0x463dbf(0x6eb)]?.[_0x463dbf(0x62c)]===!0x0)_0x12456e[_0x463dbf(0x11d)]=_0x12456e[_0x463dbf(0x11d)][_0x463dbf(0x554)](_0x377ead=>_0x377ead&&_0x31851f[_0x463dbf(0x6eb)]&&_0x377ead[_0x463dbf(0x273)]&&_0x31851f[_0x463dbf(0x6eb)][_0x463dbf(0x273)]&&_0x377ead['_id'][_0x463dbf(0x6f3)]()!==_0x31851f[_0x463dbf(0x6eb)]['_id'][_0x463dbf(0x6f3)]()),_0x2be423=!0x0;else{let _0x3ddc8b=_0x12456e[_0x463dbf(0x11d)][_0x463dbf(0x34c)](_0x4250cf=>_0x4250cf&&_0x31851f['condition']&&_0x4250cf['_id']&&_0x31851f[_0x463dbf(0x6eb)][_0x463dbf(0x273)]&&_0x4250cf[_0x463dbf(0x273)][_0x463dbf(0x6f3)]()===_0x31851f[_0x463dbf(0x6eb)][_0x463dbf(0x273)][_0x463dbf(0x6f3)]());_0x3ddc8b?(_0x2be423=_0x3ddc8b[_0x463dbf(0x145)]!==_0x31851f[_0x463dbf(0x6eb)][_0x463dbf(0x145)],Object[_0x463dbf(0x46b)](_0x3ddc8b,_0x31851f[_0x463dbf(0x6eb)])):(_0x12456e[_0x463dbf(0x11d)]['push'](_0x31851f[_0x463dbf(0x6eb)]),_0x2be423=!0x0);}if(_0x2be423){_0x12456e[_0x463dbf(0x11d)][_0x463dbf(0x24b)]((_0x5c5b1d,_0xe337bc)=>_0x5c5b1d[_0x463dbf(0x145)]>_0xe337bc['order']?0x1:_0xe337bc[_0x463dbf(0x145)]>_0x5c5b1d[_0x463dbf(0x145)]?-0x1:0x0);for(let _0x57e509=0x0;_0x57e509<_0x12456e[_0x463dbf(0x11d)][_0x463dbf(0x4c0)];_0x57e509++)_0x12456e['conditions'][_0x57e509][_0x463dbf(0x145)]=_0x57e509+0x1;_0x12456e['conditions'][_0x463dbf(0x4c0)]>0x0&&(_0x12456e[_0x463dbf(0x11d)][0x0][_0x463dbf(0x520)]='and');}let _0x4df15b=await this[_0x463dbf(0x16a)][_0x463dbf(0x34a)][_0x463dbf(0x25b)](_0x12456e['_id'],_0x12456e,this[_0x463dbf(0x733)][_0x463dbf(0x230)]);if(!_0x4df15b)throw new Error(_0x463dbf(0xe5));return _0x4df15b;}catch(_0x1f5e1d){throw this[_0x463dbf(0x3fa)]['error'](this[_0x463dbf(0x2c5)]+'\x20('+this[_0x463dbf(0x733)][_0x463dbf(0x230)]+_0x463dbf(0x467)+(_0x1f5e1d instanceof Error?_0x1f5e1d[_0x463dbf(0x1ae)]:JSON[_0x463dbf(0x311)](_0x1f5e1d,null,0x2))),new Error(_0x463dbf(0x6ad)+(_0x1f5e1d instanceof Error?_0x1f5e1d[_0x463dbf(0x1ae)]:JSON[_0x463dbf(0x311)](_0x1f5e1d,null,0x2)));}}async[a0_0x1f4c2a(0x3c2)](_0x2c1481){const _0x53fc6b=a0_0x1f4c2a;try{this[_0x53fc6b(0x3fa)][_0x53fc6b(0x204)](this[_0x53fc6b(0x2c5)]+'\x20('+this['instance'][_0x53fc6b(0x230)]+_0x53fc6b(0x380));let _0x4e7d61=await this[_0x53fc6b(0x16a)][_0x53fc6b(0x34a)][_0x53fc6b(0x712)]({'where':{'name':_0x2c1481['name']}},this[_0x53fc6b(0x733)][_0x53fc6b(0x230)]);if(!_0x4e7d61)throw new Error(_0x53fc6b(0x53c));let _0x4749cd=!0x1;if(_0x2c1481['varedit']?.[_0x53fc6b(0x62c)]===!0x0)_0x4e7d61[_0x53fc6b(0x4f1)]=_0x4e7d61[_0x53fc6b(0x4f1)][_0x53fc6b(0x554)](_0x41d13a=>_0x41d13a&&_0x2c1481[_0x53fc6b(0x16c)]&&_0x41d13a['_id']&&_0x2c1481[_0x53fc6b(0x16c)][_0x53fc6b(0x273)]&&_0x41d13a['_id'][_0x53fc6b(0x6f3)]()!==_0x2c1481[_0x53fc6b(0x16c)][_0x53fc6b(0x273)][_0x53fc6b(0x6f3)]()),_0x4749cd=!0x0;else{let _0x1cb639=_0x4e7d61[_0x53fc6b(0x4f1)][_0x53fc6b(0x34c)](_0x5b5f18=>_0x5b5f18&&_0x2c1481[_0x53fc6b(0x16c)]&&_0x5b5f18['_id']&&_0x2c1481[_0x53fc6b(0x16c)][_0x53fc6b(0x273)]&&_0x5b5f18['_id'][_0x53fc6b(0x6f3)]()===_0x2c1481['varedit']['_id'][_0x53fc6b(0x6f3)]());_0x1cb639?(_0x4749cd=_0x1cb639[_0x53fc6b(0x145)]!==_0x2c1481[_0x53fc6b(0x16c)][_0x53fc6b(0x145)],Object[_0x53fc6b(0x46b)](_0x1cb639,_0x2c1481['varedit'])):(_0x4e7d61[_0x53fc6b(0x4f1)][_0x53fc6b(0x597)](_0x2c1481[_0x53fc6b(0x16c)]),_0x4749cd=!0x0);}if(_0x4749cd){_0x4e7d61[_0x53fc6b(0x4f1)][_0x53fc6b(0x24b)]((_0x2d3103,_0x5d4b2d)=>_0x2d3103[_0x53fc6b(0x145)]>_0x5d4b2d['order']?0x1:_0x5d4b2d[_0x53fc6b(0x145)]>_0x2d3103['order']?-0x1:0x0);for(let _0x234468=0x0;_0x234468<_0x4e7d61[_0x53fc6b(0x4f1)]['length'];_0x234468++)_0x4e7d61[_0x53fc6b(0x4f1)][_0x234468][_0x53fc6b(0x145)]=_0x234468+0x1;}let _0x1680bb=await this[_0x53fc6b(0x16a)][_0x53fc6b(0x34a)][_0x53fc6b(0x25b)](_0x4e7d61[_0x53fc6b(0x273)],_0x4e7d61,this['instance'][_0x53fc6b(0x230)]);if(!_0x1680bb)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1680bb;}catch(_0x20946c){throw this['logger'][_0x53fc6b(0x513)](this[_0x53fc6b(0x2c5)]+'\x20('+this[_0x53fc6b(0x733)]['wuid']+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x20946c instanceof Error?_0x20946c[_0x53fc6b(0x1ae)]:JSON[_0x53fc6b(0x311)](_0x20946c,null,0x2))),new m(_0x53fc6b(0x6ad)+(_0x20946c instanceof Error?_0x20946c[_0x53fc6b(0x1ae)]:JSON['stringify'](_0x20946c,null,0x2)));}}async[a0_0x1f4c2a(0x5f8)](_0x3c731e){const _0x336e25=a0_0x1f4c2a;try{this[_0x336e25(0x3fa)]['verbose'](this[_0x336e25(0x2c5)]+'\x20('+this[_0x336e25(0x733)]['wuid']+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0xb97a6c=await this['repository'][_0x336e25(0x34a)][_0x336e25(0x712)]({'where':{'name':_0x3c731e[_0x336e25(0x471)]}},this['instance'][_0x336e25(0x230)]);if(!_0xb97a6c)throw new Error('Flow\x20não\x20encontrado');_0x3c731e[_0x336e25(0x4a1)]['name']=_0x3c731e['variable'][_0x336e25(0x471)][_0x336e25(0x2bd)](),_0x3c731e[_0x336e25(0x4a1)][_0x336e25(0x471)][_0x336e25(0x587)]('_')&&(_0x3c731e[_0x336e25(0x4a1)][_0x336e25(0x471)]=_0x3c731e[_0x336e25(0x4a1)][_0x336e25(0x471)]['substring'](0x1)),_0x3c731e[_0x336e25(0x4a1)]['name']=_0x3c731e[_0x336e25(0x4a1)][_0x336e25(0x471)][_0x336e25(0x2bd)]();let _0x1429e6=_0xb97a6c[_0x336e25(0x3d8)][_0x336e25(0x34c)](_0x2d12e6=>_0x2d12e6[_0x336e25(0x471)]===_0x3c731e[_0x336e25(0x4a1)][_0x336e25(0x471)]);if(_0x1429e6?.[_0x336e25(0x26e)]===!0x0)throw new Error(_0x336e25(0x66a));if(_0x3c731e['variable']?.[_0x336e25(0x62c)]===!0x0){if(!_0x1429e6)return{'message':_0x336e25(0x6a8)};_0xb97a6c['variables']=_0xb97a6c[_0x336e25(0x3d8)][_0x336e25(0x554)](_0x458fca=>_0x458fca[_0x336e25(0x471)]!==_0x3c731e['variable'][_0x336e25(0x471)]);}else _0x1429e6?Object[_0x336e25(0x46b)](_0x1429e6,_0x3c731e['variable']):_0xb97a6c['variables'][_0x336e25(0x597)](_0x3c731e[_0x336e25(0x4a1)]);let _0x1030be=await this['repository'][_0x336e25(0x34a)]['updateOne'](_0xb97a6c[_0x336e25(0x273)],_0xb97a6c,this[_0x336e25(0x733)]['wuid']);if(!_0x1030be)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1030be;}catch(_0x5508d1){throw this['logger'][_0x336e25(0x513)](this[_0x336e25(0x2c5)]+'\x20('+this[_0x336e25(0x733)]['wuid']+_0x336e25(0x426)+(_0x5508d1 instanceof Error?_0x5508d1[_0x336e25(0x1ae)]:JSON[_0x336e25(0x311)](_0x5508d1,null,0x2))),new m(_0x336e25(0x445)+(_0x5508d1 instanceof Error?_0x5508d1[_0x336e25(0x1ae)]:JSON['stringify'](_0x5508d1,null,0x2)));}}async[a0_0x1f4c2a(0x4f0)](_0xb39dc){const _0x3b529e=a0_0x1f4c2a;let _0x4ee9f7=null;try{if(!this['AutomateSystem']?.[_0x3b529e(0x355)]['enabled'])throw new m('Fluxos\x20não\x20estão\x20ativados');this[_0x3b529e(0x3fa)][_0x3b529e(0x204)](this[_0x3b529e(0x2c5)]+'\x20('+this[_0x3b529e(0x733)]['wuid']+'):\x20Iniciando\x20bot...');let _0x32531f=(await this['whatsappNumber']({'numbers':[_0xb39dc[_0x3b529e(0x1fd)]]}))[0x0];if(!_0x32531f[_0x3b529e(0x3c9)]&&!(0x0,y[_0x3b529e(0x730)])(_0x32531f['jid'])&&!_0x32531f[_0x3b529e(0x255)]['includes'](_0x3b529e(0x241)))throw _0x4ee9f7=JSON[_0x3b529e(0x311)](_0x32531f,null,0x2),new m(_0x32531f);let _0x5af1d8=await this[_0x3b529e(0x16a)][_0x3b529e(0x34a)][_0x3b529e(0x712)]({'where':{'name':_0xb39dc[_0x3b529e(0x471)]}},this[_0x3b529e(0x733)][_0x3b529e(0x230)]);if(!_0x5af1d8)return this[_0x3b529e(0x3fa)]['error'](this[_0x3b529e(0x2c5)]+'\x20('+this[_0x3b529e(0x733)]['wuid']+_0x3b529e(0x1a8)),{'message':_0x3b529e(0x53c)};let _0x30c23d=await this[_0x3b529e(0x679)](_0x5af1d8,_0x32531f[_0x3b529e(0x255)],_0xb39dc[_0x3b529e(0x187)]);if(_0x30c23d){this[_0x3b529e(0x3fa)][_0x3b529e(0x204)](this[_0x3b529e(0x2c5)]+'\x20('+this[_0x3b529e(0x733)][_0x3b529e(0x230)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x35d13b=await this[_0x3b529e(0x218)](_0x30c23d);return _0x35d13b&&await this['processblock'](_0x30c23d,_0x35d13b),{'message':_0x3b529e(0x41b)+_0xb39dc[_0x3b529e(0x1fd)]};}}catch(_0x2ffb35){if(this[_0x3b529e(0x3fa)]['error'](this[_0x3b529e(0x2c5)]+'\x20('+this[_0x3b529e(0x733)][_0x3b529e(0x230)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x2ffb35 instanceof Error?_0x2ffb35[_0x3b529e(0x1ae)]:JSON['stringify'](_0x2ffb35,null,0x2))),_0x4ee9f7=_0x2ffb35 instanceof Error?_0x2ffb35[_0x3b529e(0x1ae)]:JSON[_0x3b529e(0x311)](_0x2ffb35,null,0x2),_0x4ee9f7)throw new m(_0x3b529e(0xc9)+_0x4ee9f7);}}async[a0_0x1f4c2a(0x694)](_0x1f1416){const _0x54d47c=a0_0x1f4c2a;try{let _0x4924c6={'remoteJid':_0x1f1416,'status':_0x54d47c(0x32e)},_0x5e32eb={'status':'closed'},_0x289ec7=await this[_0x54d47c(0x16a)][_0x54d47c(0x6f8)][_0x54d47c(0x335)](_0x4924c6,_0x5e32eb,this[_0x54d47c(0x733)][_0x54d47c(0x230)]);return this['logger'][_0x54d47c(0x204)](this[_0x54d47c(0x2c5)]+'\x20('+this[_0x54d47c(0x733)][_0x54d47c(0x230)]+_0x54d47c(0x133)),_0x289ec7;}catch(_0x350e01){throw this[_0x54d47c(0x3fa)][_0x54d47c(0x513)](this[_0x54d47c(0x2c5)]+'\x20('+this[_0x54d47c(0x733)][_0x54d47c(0x230)]+_0x54d47c(0x1e3)+_0x350e01[_0x54d47c(0x1ae)]),_0x350e01;}}async[a0_0x1f4c2a(0x679)](_0xe2bd16,_0xfe3d1b,_0x4fc773){const _0x2fe140=a0_0x1f4c2a;this[_0x2fe140(0x3fa)][_0x2fe140(0x204)](this[_0x2fe140(0x2c5)]+'\x20('+this[_0x2fe140(0x733)]['wuid']+_0x2fe140(0x623)),await this[_0x2fe140(0x694)](_0xfe3d1b);try{let _0x3f07f3=require(_0x2fe140(0x1d1))[_0x2fe140(0x659)],_0xc8c30c=Date[_0x2fe140(0x6b8)](),_0x158313='start',_0xbba711={},_0x10dbee={},_0x426c7d={..._0xe2bd16,'chatLog':null},_0x543d96=await this[_0x2fe140(0x6b1)](_0x426c7d[_0x2fe140(0x3d8)]),_0x5661f9=await this[_0x2fe140(0x56c)](_0xfe3d1b),_0x37a93d={..._0x543d96,..._0x5661f9,'_remoteJid':_0xfe3d1b},_0x71829e={'lastReceivedMessage':_0xbba711,'lastSendMessage':_0x10dbee,'lastBlockId':_0x158313,'lastCondition':!0x0,'realVariables':_0x37a93d};_0x426c7d[_0x2fe140(0x5bf)]=_0x71829e,_0x426c7d[_0x2fe140(0x5bf)][_0x2fe140(0x5a7)]={..._0x37a93d,..._0x4fc773},delete _0x426c7d[_0x2fe140(0x273)],_0x426c7d[_0x2fe140(0x273)]=new _0x3f07f3(),_0x426c7d['lastInteraction']=_0xc8c30c,_0x426c7d['status']=_0x2fe140(0x32e),_0x426c7d[_0x2fe140(0x1fd)]=_0xfe3d1b;let _0x147a81=await this[_0x2fe140(0x16a)][_0x2fe140(0x6f8)][_0x2fe140(0x25b)](_0x426c7d[_0x2fe140(0x273)],_0x426c7d,this['instance']['wuid']);return this['logger']['verbose'](this[_0x2fe140(0x2c5)]+'\x20('+this['instance'][_0x2fe140(0x230)]+_0x2fe140(0x26c)),_0x147a81?_0x426c7d:null;}catch(_0x2b26d6){throw this[_0x2fe140(0x3fa)]['error'](this['instanceName']+'\x20('+this[_0x2fe140(0x733)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x2b26d6 instanceof Error?_0x2b26d6[_0x2fe140(0x1ae)]:JSON[_0x2fe140(0x311)](_0x2b26d6,null,0x2))),new m(_0x2b26d6['message']);}}async[a0_0x1f4c2a(0x5a4)](_0x1cd0fa){const _0x5e38b=a0_0x1f4c2a;try{this['logger'][_0x5e38b(0x204)](this[_0x5e38b(0x2c5)]+'\x20('+this['instance'][_0x5e38b(0x230)]+_0x5e38b(0x1dc)),this[_0x5e38b(0x3fa)]['verbose'](this[_0x5e38b(0x2c5)]+'\x20('+this[_0x5e38b(0x733)]['wuid']+_0x5e38b(0x71f)+_0x1cd0fa);let _0x4e19b5={'where':{'_id':_0x1cd0fa}};return await this['repository'][_0x5e38b(0x6f8)][_0x5e38b(0x712)](_0x4e19b5,this[_0x5e38b(0x733)][_0x5e38b(0x230)]);}catch(_0x3fa8b2){throw this[_0x5e38b(0x3fa)]['error'](this[_0x5e38b(0x2c5)]+'\x20('+this['instance'][_0x5e38b(0x230)]+_0x5e38b(0x715)+(_0x3fa8b2 instanceof Error?_0x3fa8b2[_0x5e38b(0x1ae)]:JSON[_0x5e38b(0x311)](_0x3fa8b2,null,0x2))),new m('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x3fa8b2[_0x5e38b(0x1ae)]);}}async[a0_0x1f4c2a(0x377)](_0x455266){const _0x5992e7=a0_0x1f4c2a;try{return this['logger'][_0x5992e7(0x204)](this['instanceName']+'\x20('+this['instance'][_0x5992e7(0x230)]+_0x5992e7(0x35e)),await this['repository'][_0x5992e7(0x6f8)]['find'](_0x455266,this[_0x5992e7(0x733)][_0x5992e7(0x230)]);}catch(_0x20971c){throw this[_0x5992e7(0x3fa)][_0x5992e7(0x513)](this[_0x5992e7(0x2c5)]+'\x20('+this[_0x5992e7(0x733)]['wuid']+_0x5992e7(0x346)+(_0x20971c instanceof Error?_0x20971c[_0x5992e7(0x1ae)]:JSON[_0x5992e7(0x311)](_0x20971c,null,0x2))),new m(_0x5992e7(0x286)+_0x20971c['message']);}}async['deleteConversation'](_0x4e90c4){const _0x36156f=a0_0x1f4c2a;try{return this[_0x36156f(0x3fa)][_0x36156f(0x204)](this[_0x36156f(0x2c5)]+'\x20('+this['instance'][_0x36156f(0x230)]+_0x36156f(0x5e4)),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x36156f(0x733)]['wuid']+_0x36156f(0x11a)+_0x4e90c4),(await this[_0x36156f(0x16a)]['flowConversation'][_0x36156f(0x326)]({'where':{'_id':_0x4e90c4}},this[_0x36156f(0x733)][_0x36156f(0x230)]))[_0x36156f(0x574)]===0x0?{'message':_0x36156f(0x534)}:{'message':_0x36156f(0x209)};}catch(_0x35b178){throw this[_0x36156f(0x3fa)][_0x36156f(0x513)](this[_0x36156f(0x2c5)]+'\x20('+this['instance'][_0x36156f(0x230)]+_0x36156f(0x2a5)+(_0x35b178 instanceof Error?_0x35b178['message']:JSON['stringify'](_0x35b178,null,0x2))),new m('Erro\x20ao\x20deletar\x20a\x20conversa:\x20'+_0x35b178[_0x36156f(0x1ae)]);}}async[a0_0x1f4c2a(0x55d)](_0x25d5a0){const _0x2770e6=a0_0x1f4c2a;try{let {_id:_0x46ddb9,chatLog:_0x282366,status:_0xead490}=_0x25d5a0;if(!_0x46ddb9)return{'message':_0x2770e6(0x26b)};let _0x11cd09={};if(_0xead490!==void 0x0&&(_0x11cd09[_0x2770e6(0x6ac)]=_0xead490),Object[_0x2770e6(0x6c4)](_0x11cd09)['length']===0x0)return{'message':_0x2770e6(0x283)};let _0x952aff=await this[_0x2770e6(0x16a)][_0x2770e6(0x6f8)]['updateOne'](_0x46ddb9,_0x11cd09,this[_0x2770e6(0x733)][_0x2770e6(0x230)]);return _0x952aff||{'message':_0x2770e6(0x487)};}catch(_0x462964){throw this[_0x2770e6(0x3fa)][_0x2770e6(0x513)](this['instanceName']+'\x20('+this[_0x2770e6(0x733)][_0x2770e6(0x230)]+_0x2770e6(0x157)+(_0x462964 instanceof Error?_0x462964['message']:JSON[_0x2770e6(0x311)](_0x462964,null,0x2))),new m(_0x2770e6(0x56d)+_0x462964[_0x2770e6(0x1ae)]);}}async[a0_0x1f4c2a(0x361)](_0xb0b40){const _0x567735=a0_0x1f4c2a;let _0xd40d4e=await this['repository'][_0x567735(0x164)]['findOne']({'where':{'_id':_0xb0b40[_0x567735(0x273)]}},this['instance'][_0x567735(0x230)]);if(!_0xd40d4e)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');console[_0x567735(0x2ed)](_0xb0b40);try{_0xb0b40[_0x567735(0x273)]=this['createJid'](_0xb0b40['_id']);let {_id:_0x24dc0f,leadInfo:_0x5dd58f}=_0xb0b40;if(!_0x24dc0f)throw new Error(_0x567735(0x12a));let _0x434488=(_0x16f75e,_0x4404d2,_0x10b29a)=>{const _0x25ce73=_0x567735;_0x16f75e&&_0x10b29a[_0x25ce73(0x67f)](_0x17cc83=>{const _0x102c61=_0x25ce73;_0x16f75e[_0x17cc83]!==void 0x0&&(_0x4404d2[_0x102c61(0x687)+_0x17cc83]=_0x16f75e[_0x17cc83]);});},_0x4bf532={};if(_0x5dd58f&&(_0x434488(_0x5dd58f,_0x4bf532,['nome',_0x567735(0x15b),'email','cpf',_0x567735(0x6ac),_0x567735(0x140),_0x567735(0x47d),_0x567735(0x2be),'responsavelid','etiquetas']),Array['isArray'](_0x5dd58f[_0x567735(0x4fb)])&&(_0x4bf532['leadInfo.customFields']=_0x5dd58f['customFields']['map'](_0x574aa1=>({'_id':_0x574aa1[_0x567735(0x273)],'value':_0x574aa1[_0x567735(0x171)]}))),_0xb0b40[_0x567735(0x26e)][_0x567735(0x62a)]!==void 0x0)){let _0x11d79d=await this[_0x567735(0x16a)]['label']['find']({'where':{}},this['instance']['wuid']),_0x36da8b=new Set(_0xb0b40[_0x567735(0x26e)][_0x567735(0x62a)]||[]),_0x354f81=new Set(_0xb0b40[_0x567735(0x26e)][_0x567735(0x62a)]),_0x41f4c8=new Set(_0x11d79d[_0x567735(0x441)](_0xf01a33=>_0xf01a33[_0x567735(0x273)])),_0x255175=[..._0x354f81][_0x567735(0x554)](_0x522037=>!_0x36da8b[_0x567735(0x595)](_0x522037)&&_0x41f4c8[_0x567735(0x595)](_0x522037)),_0x5dc187=[..._0x36da8b][_0x567735(0x554)](_0x4a121e=>!_0x354f81[_0x567735(0x595)](_0x4a121e));if(_0x4bf532['leadInfo.etiquetas']=[..._0x36da8b],_0xd40d4e&&!_0xd40d4e[_0x567735(0x27c)]){for(let _0x270b7f of _0x255175)await this['AddChatLabel'](_0x270b7f,_0xb0b40[_0x567735(0x273)]),_0x36da8b[_0x567735(0x39c)](_0x270b7f);for(let _0x109521 of _0x5dc187)await this[_0x567735(0x1fa)](_0x109521,_0xb0b40[_0x567735(0x273)]),_0x36da8b[_0x567735(0x62c)](_0x109521);}}if(_0xb0b40[_0x567735(0x232)]!==void 0x0&&(_0x4bf532['unreadcount']=Number(_0xb0b40[_0x567735(0x232)])),Object[_0x567735(0x6c4)](_0x4bf532)[_0x567735(0x4c0)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x5b9c63=await this['repository'][_0x567735(0x164)]['updateOne']({'where':{'_id':_0xb0b40[_0x567735(0x273)]}},_0x4bf532,this[_0x567735(0x733)][_0x567735(0x230)]);return _0x5b9c63&&J(this[_0x567735(0x2c5)],_0x567735(0x4c4),{'chat':_0x5b9c63}),_0x5b9c63?(this[_0x567735(0x3fa)][_0x567735(0x204)](this[_0x567735(0x2c5)]+'\x20('+this['instance'][_0x567735(0x230)]+'):\x20'+JSON[_0x567735(0x311)](_0x5b9c63,null,0x2)),_0x5b9c63):{'message':_0x567735(0x566)};}catch(_0x2866c2){throw this['logger'][_0x567735(0x513)](this[_0x567735(0x2c5)]+'\x20('+this['instance'][_0x567735(0x230)]+_0x567735(0x61e)+(_0x2866c2 instanceof Error?_0x2866c2[_0x567735(0x1ae)]:JSON[_0x567735(0x311)](_0x2866c2,null,0x2))),new m(_0x567735(0x191)+_0x2866c2[_0x567735(0x1ae)]);}}async[a0_0x1f4c2a(0x214)](_0x578f2c,_0x40d42c){const _0x1ce387=a0_0x1f4c2a;try{await this[_0x1ce387(0x289)]['addChatLabel'](_0x40d42c,_0x578f2c),console[_0x1ce387(0x2ed)](_0x1ce387(0x58c)+_0x578f2c+'\x20adicionado\x20ao\x20chat\x20'+_0x40d42c+_0x1ce387(0x181));}catch(_0x4891af){console[_0x1ce387(0x513)](_0x1ce387(0x69f)+_0x578f2c+_0x1ce387(0x376)+_0x40d42c+':',_0x4891af);}}async[a0_0x1f4c2a(0x1fa)](_0x32cf22,_0x110b8e){const _0x50947b=a0_0x1f4c2a;try{await this[_0x50947b(0x289)][_0x50947b(0x65c)](_0x110b8e,_0x32cf22),console[_0x50947b(0x2ed)](_0x50947b(0x58c)+_0x32cf22+_0x50947b(0x3f1)+_0x110b8e+'\x20com\x20sucesso.');}catch(_0x17e696){console[_0x50947b(0x513)](_0x50947b(0x1cd)+_0x32cf22+_0x50947b(0x664)+_0x110b8e+':',_0x17e696);}}async[a0_0x1f4c2a(0x2ad)](_0x2c4f6b){const _0x516196=a0_0x1f4c2a;try{let _0x2b633f=await this[_0x516196(0x16a)][_0x516196(0x2f6)][_0x516196(0x6d8)](this[_0x516196(0x733)][_0x516196(0x230)]),_0x2d9711=_0x2c4f6b[_0x516196(0x273)]?_0x2b633f[_0x516196(0x423)][_0x516196(0x560)](_0x187ae1=>_0x187ae1['_id']===_0x2c4f6b[_0x516196(0x273)]):-0x1;if(_0x2c4f6b['delete']&&_0x2d9711>-0x1)_0x2b633f[_0x516196(0x423)][_0x516196(0x686)](_0x2d9711,0x1);else{if(_0x2d9711>-0x1){let _0x4df637=_0x2b633f['agents'][_0x2d9711];_0x2c4f6b[_0x516196(0x17a)]&&(_0x4df637[_0x516196(0x17a)]=_0x2c4f6b[_0x516196(0x17a)]),_0x2c4f6b['name']&&(_0x4df637[_0x516196(0x471)]=_0x2c4f6b[_0x516196(0x471)]),_0x2c4f6b['email']&&(_0x4df637[_0x516196(0x49b)]=_0x2c4f6b['email']),_0x2c4f6b[_0x516196(0x579)]&&(_0x4df637[_0x516196(0x579)]=_0x2c4f6b[_0x516196(0x579)]);}else _0x2b633f[_0x516196(0x423)][_0x516196(0x597)]({'_id':_0x2c4f6b['_id']||new ne[(_0x516196(0x73c))]['Types'][(_0x516196(0x659))]()['toString'](),'fone':_0x2c4f6b[_0x516196(0x17a)],'name':_0x2c4f6b[_0x516196(0x471)],'email':_0x2c4f6b[_0x516196(0x49b)],'role':_0x2c4f6b['role']});}let _0x4b0e56={'agents':_0x2b633f['agents']},_0x2ed4e8=await this['repository'][_0x516196(0x2f6)][_0x516196(0x64d)](_0x4b0e56,this[_0x516196(0x733)][_0x516196(0x230)]);return this[_0x516196(0x29c)]=_0x2ed4e8,this[_0x516196(0x3fa)][_0x516196(0x204)](this[_0x516196(0x2c5)]+'\x20('+this['instance'][_0x516196(0x230)]+_0x516196(0x64c)),this['logger'][_0x516196(0x204)](this[_0x516196(0x2c5)]+'\x20('+this[_0x516196(0x733)][_0x516196(0x230)]+_0x516196(0x2f5)+this[_0x516196(0x29c)]),_0x2ed4e8;}catch(_0x537f73){throw this[_0x516196(0x3fa)][_0x516196(0x513)](this[_0x516196(0x2c5)]+'\x20('+this['instance'][_0x516196(0x230)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x537f73 instanceof Error?_0x537f73[_0x516196(0x1ae)]:JSON[_0x516196(0x311)](_0x537f73,null,0x2))),new m('Erro\x20ao\x20editar\x20agentes:\x20'+_0x537f73[_0x516196(0x1ae)]);}}async[a0_0x1f4c2a(0x3b0)](_0x2bc870){const _0x5c8dd4=a0_0x1f4c2a;try{let _0x17904e=await this[_0x5c8dd4(0x16a)]['automateSystem'][_0x5c8dd4(0x6d8)](this[_0x5c8dd4(0x733)][_0x5c8dd4(0x230)]),_0x55de5a=_0x2bc870[_0x5c8dd4(0x273)]?_0x17904e[_0x5c8dd4(0x4fb)][_0x5c8dd4(0x560)](_0x16c764=>_0x16c764[_0x5c8dd4(0x273)]===_0x2bc870[_0x5c8dd4(0x273)]):-0x1,_0x2e175c=!0x1,_0x111056=_0x17904e[_0x5c8dd4(0x4fb)]['some'](_0x1b9611=>_0x1b9611[_0x5c8dd4(0x145)]===_0x2bc870['order']);if(_0x2bc870['delete']&&_0x55de5a>-0x1)_0x17904e[_0x5c8dd4(0x4fb)]['splice'](_0x55de5a,0x1),_0x2e175c=!0x0;else{if(_0x55de5a>-0x1){if(_0x17904e[_0x5c8dd4(0x4fb)][_0x5c8dd4(0x2bf)](_0x5e4742=>_0x5e4742[_0x5c8dd4(0x471)]===_0x2bc870[_0x5c8dd4(0x471)]&&_0x5e4742[_0x5c8dd4(0x273)]!==_0x2bc870[_0x5c8dd4(0x273)]))throw new Error(_0x5c8dd4(0x3b1));let _0x43d4ca=_0x17904e['customFields'][_0x55de5a];_0x2bc870[_0x5c8dd4(0x145)]&&(_0x111056||!Number['isInteger'](_0x2bc870[_0x5c8dd4(0x145)]))&&(_0x43d4ca['order']=_0x2bc870['order'],_0x2e175c=!0x0),_0x2bc870[_0x5c8dd4(0x471)]&&(_0x43d4ca[_0x5c8dd4(0x471)]=_0x2bc870[_0x5c8dd4(0x471)]);}else{if(_0x17904e[_0x5c8dd4(0x4fb)][_0x5c8dd4(0x2bf)](_0xb1cf8d=>_0xb1cf8d[_0x5c8dd4(0x471)]===_0x2bc870[_0x5c8dd4(0x471)]&&_0xb1cf8d[_0x5c8dd4(0x273)]!==_0x2bc870['_id']))throw new Error(_0x5c8dd4(0x3b1));_0x17904e[_0x5c8dd4(0x4fb)][_0x5c8dd4(0x597)]({'_id':_0x2bc870['_id']||new ne['default']['Types']['ObjectId']()[_0x5c8dd4(0x6f3)](),'order':_0x2bc870[_0x5c8dd4(0x145)],'name':_0x2bc870['name']}),_0x2e175c=!0x0;}}if(_0x2e175c){_0x17904e['customFields'][_0x5c8dd4(0x24b)]((_0x5b33c5,_0x4ef25a)=>_0x5b33c5[_0x5c8dd4(0x145)]>_0x4ef25a[_0x5c8dd4(0x145)]?0x1:_0x4ef25a[_0x5c8dd4(0x145)]>_0x5b33c5[_0x5c8dd4(0x145)]?-0x1:0x0);for(let _0x585e99=0x0;_0x585e99<_0x17904e[_0x5c8dd4(0x4fb)]['length'];_0x585e99++)_0x17904e[_0x5c8dd4(0x4fb)][_0x585e99][_0x5c8dd4(0x145)]=_0x585e99+0x1;}let _0x1febbd=await this[_0x5c8dd4(0x16a)][_0x5c8dd4(0x2f6)][_0x5c8dd4(0x64d)](_0x17904e,this[_0x5c8dd4(0x733)]['wuid']);return this[_0x5c8dd4(0x29c)]=_0x1febbd,this['logger'][_0x5c8dd4(0x204)](this['instanceName']+'\x20('+this['instance'][_0x5c8dd4(0x230)]+_0x5c8dd4(0x617)),this[_0x5c8dd4(0x3fa)][_0x5c8dd4(0x204)](this[_0x5c8dd4(0x2c5)]+'\x20('+this[_0x5c8dd4(0x733)]['wuid']+_0x5c8dd4(0x2f5)+this[_0x5c8dd4(0x29c)]),_0x1febbd;}catch(_0x5e0f13){throw this[_0x5c8dd4(0x3fa)]['error'](this['instanceName']+'\x20('+this[_0x5c8dd4(0x733)][_0x5c8dd4(0x230)]+_0x5c8dd4(0x634)+(_0x5e0f13 instanceof Error?_0x5e0f13[_0x5c8dd4(0x1ae)]:JSON[_0x5c8dd4(0x311)](_0x5e0f13,null,0x2))),new m(_0x5c8dd4(0x113)+_0x5e0f13[_0x5c8dd4(0x1ae)]);}}async[a0_0x1f4c2a(0xe2)](_0x5c7bc3){const _0x3c3672=a0_0x1f4c2a;try{let _0x4ea7e0=await this[_0x3c3672(0x16a)]['automateSystem'][_0x3c3672(0x6d8)](this['instance']['wuid']);if(!_0x4ea7e0)throw new Error(_0x3c3672(0x6f0));let _0x483f92={'_id':_0x4ea7e0['_id'],'flowConfig':{'enabled':_0x5c7bc3[_0x3c3672(0x194)]??_0x4ea7e0['flowConfig'][_0x3c3672(0x194)],'ignoreGroups':_0x5c7bc3[_0x3c3672(0x1eb)]??_0x4ea7e0[_0x3c3672(0x355)][_0x3c3672(0x1eb)],'prefixCommand':_0x5c7bc3['prefixCommand']??_0x4ea7e0[_0x3c3672(0x355)]['prefixCommand'],'stopConversation':_0x5c7bc3[_0x3c3672(0x588)]??_0x4ea7e0[_0x3c3672(0x355)]['stopConversation'],'stopMinutes':_0x5c7bc3[_0x3c3672(0x372)]??_0x4ea7e0[_0x3c3672(0x355)][_0x3c3672(0x372)],'stopWhenYouSendMsg':_0x5c7bc3['stopWhenYouSendMsg']??_0x4ea7e0[_0x3c3672(0x355)][_0x3c3672(0x70f)]}},_0x12683e=await this[_0x3c3672(0x16a)][_0x3c3672(0x2f6)]['update'](_0x483f92,this['instance'][_0x3c3672(0x230)]);return this[_0x3c3672(0x29c)]=_0x12683e,this['logger'][_0x3c3672(0x204)](this[_0x3c3672(0x2c5)]+'\x20('+this['instance'][_0x3c3672(0x230)]+_0x3c3672(0x64c)),this['logger'][_0x3c3672(0x204)](this[_0x3c3672(0x2c5)]+'\x20('+this[_0x3c3672(0x733)][_0x3c3672(0x230)]+'):\x20'+this['AutomateSystem']),setTimeout(()=>this[_0x3c3672(0x104)](),0x7d0),_0x12683e;}catch(_0x104ac5){throw this['logger'][_0x3c3672(0x513)](this['instanceName']+'\x20('+this[_0x3c3672(0x733)][_0x3c3672(0x230)]+_0x3c3672(0x421)+(_0x104ac5 instanceof Error?_0x104ac5[_0x3c3672(0x1ae)]:JSON[_0x3c3672(0x311)](_0x104ac5,null,0x2))),new m(_0x3c3672(0x48a)+_0x104ac5['message']);}}async[a0_0x1f4c2a(0x228)](){const _0x1f456f=a0_0x1f4c2a;try{let _0x43375c=await this[_0x1f456f(0x16a)][_0x1f456f(0x2f6)]['findOrCreate'](this[_0x1f456f(0x733)]['wuid']);return this['AutomateSystem']=_0x43375c,this['logger'][_0x1f456f(0x204)](this[_0x1f456f(0x2c5)]+'\x20('+this['instance'][_0x1f456f(0x230)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x1f456f(0x3fa)][_0x1f456f(0x204)](this[_0x1f456f(0x29c)]),_0x43375c;}catch(_0x2fca26){throw this[_0x1f456f(0x3fa)][_0x1f456f(0x513)](this[_0x1f456f(0x2c5)]+'\x20('+this['instance'][_0x1f456f(0x230)]+_0x1f456f(0x706)+(_0x2fca26 instanceof Error?_0x2fca26[_0x1f456f(0x1ae)]:JSON[_0x1f456f(0x311)](_0x2fca26,null,0x2))),new m(_0x1f456f(0x503)+_0x2fca26[_0x1f456f(0x1ae)]);}}async[a0_0x1f4c2a(0x1b7)](){const _0xbaee20=a0_0x1f4c2a;this[_0xbaee20(0x4f5)]&&clearTimeout(this[_0xbaee20(0x4f5)]),this[_0xbaee20(0x4f5)]=setTimeout(()=>{const _0x1a9c00=_0xbaee20;this[_0x1a9c00(0x35c)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x1f4c2a(0x35c)](){const _0x5afeae=a0_0x1f4c2a;Date['now']()-this['lastSend']>=0x1d4c0&&(this[_0x5afeae(0x3fa)]['verbose'](this[_0x5afeae(0x2c5)]+'\x20('+this[_0x5afeae(0x733)][_0x5afeae(0x230)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x5afeae(0x591)]=null,this[_0x5afeae(0x3a3)]=0x0,this[_0x5afeae(0x485)]=0x0,await this[_0x5afeae(0x104)]());}async['scheduleNextCheck'](){const _0x25ac60=a0_0x1f4c2a;let _0x4fed4a=()=>{const _0x5caae7=a0_0x5a52;this[_0x5caae7(0x3fa)][_0x5caae7(0x204)](this[_0x5caae7(0x2c5)]+'\x20('+this[_0x5caae7(0x733)][_0x5caae7(0x230)]+_0x5caae7(0x166)+this['processingScheduleMessageId']+_0x5caae7(0x1a2));},_0x4395ff=async()=>{const _0x3f34a5=a0_0x5a52;this[_0x3f34a5(0x3fa)]['verbose'](this[_0x3f34a5(0x2c5)]+'\x20('+this[_0x3f34a5(0x733)][_0x3f34a5(0x230)]+_0x3f34a5(0x4df));let _0x515639=Date[_0x3f34a5(0x6b8)]()-0xc*0x3c*0x3c*0x3e8,_0x3cf76a={'where':{'status':{'$in':['scheduled','sending']},'$or':[{'when':{'$lte':Date[_0x3f34a5(0x6b8)](),'$gte':_0x515639}},{'when':0x0}]}};return await this[_0x3f34a5(0x16a)]['scheduleMessage']['find'](_0x3cf76a,this[_0x3f34a5(0x733)][_0x3f34a5(0x230)]);},_0x187a1b=async _0x1b3b4b=>{const _0x21c8e4=a0_0x5a52;for(let _0x58b7d2 of _0x1b3b4b){let _0x55e741={'_id':_0x58b7d2[_0x21c8e4(0x273)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x21c8e4(0x6b8)]()-0x1770}}]},_0x2e1020={'startSend':Date[_0x21c8e4(0x6b8)]()};if(!await this[_0x21c8e4(0x16a)][_0x21c8e4(0x3f4)][_0x21c8e4(0x25b)](_0x55e741,_0x2e1020,this['instance'][_0x21c8e4(0x230)]))return;if(!this['isConnected']){this[_0x21c8e4(0x3fa)]['verbose'](this['instanceName']+'\x20('+this[_0x21c8e4(0x733)]['wuid']+_0x21c8e4(0x46d));break;}if(_0x58b7d2[_0x21c8e4(0x72c)]==='flow'&&!this['AutomateSystem']?.[_0x21c8e4(0x355)]['enabled']){this[_0x21c8e4(0x3fa)][_0x21c8e4(0x513)](this[_0x21c8e4(0x2c5)]+'\x20('+this[_0x21c8e4(0x733)][_0x21c8e4(0x230)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x58b7d2[_0x21c8e4(0x215)]||_0x58b7d2[_0x21c8e4(0x215)][_0x21c8e4(0x4c0)]===0x0)&&(_0x58b7d2=await this[_0x21c8e4(0x16a)][_0x21c8e4(0x3f4)][_0x21c8e4(0x50a)](_0x58b7d2[_0x21c8e4(0x273)],{'status':_0x21c8e4(0x6ce),'remoteJidsRemaining':[..._0x58b7d2[_0x21c8e4(0x5dd)]]},this[_0x21c8e4(0x733)][_0x21c8e4(0x230)]));for(let _0x34f3d6 of _0x58b7d2[_0x21c8e4(0x215)]){if(await this[_0x21c8e4(0x1b7)](),this[_0x21c8e4(0x3a3)]=Date[_0x21c8e4(0x6b8)](),_0x58b7d2[_0x21c8e4(0x210)][_0x21c8e4(0x2bf)](_0x572db9=>_0x572db9[_0x21c8e4(0x1fd)]===_0x34f3d6)){this['logger'][_0x21c8e4(0x204)](this[_0x21c8e4(0x2c5)]+'\x20('+this[_0x21c8e4(0x733)][_0x21c8e4(0x230)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x34f3d6+_0x21c8e4(0xec));continue;}if(!this[_0x21c8e4(0x1a5)]){this[_0x21c8e4(0x3fa)]['verbose'](this[_0x21c8e4(0x2c5)]+'\x20('+this[_0x21c8e4(0x733)][_0x21c8e4(0x230)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x21c8e4(0x591)]){this[_0x21c8e4(0x3fa)]['verbose'](this[_0x21c8e4(0x2c5)]+'\x20('+this[_0x21c8e4(0x733)][_0x21c8e4(0x230)]+_0x21c8e4(0x517)+_0x58b7d2[_0x21c8e4(0x273)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x58b7d2[_0x21c8e4(0x72c)]==='flow'&&!this[_0x21c8e4(0x29c)]?.[_0x21c8e4(0x355)][_0x21c8e4(0x194)]){this[_0x21c8e4(0x3fa)][_0x21c8e4(0x513)](this[_0x21c8e4(0x2c5)]+'\x20('+this[_0x21c8e4(0x733)][_0x21c8e4(0x230)]+_0x21c8e4(0x1a1));break;}let _0x40469a={'remoteJid':_0x34f3d6,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x5bb7be=null;try{let _0xd7530b=await this[_0x21c8e4(0x3e7)](_0x34f3d6,_0x58b7d2);_0x40469a[_0x21c8e4(0x513)]=_0xd7530b[_0x21c8e4(0x513)],_0x40469a['id']=_0xd7530b['error']?null:_0xd7530b['id'],_0x40469a['error_log']=_0xd7530b[_0x21c8e4(0x513)]?_0xd7530b['detail']?_0xd7530b[_0x21c8e4(0x540)]['toString']():'':null;let _0x2d8400={'$push':{'messagesSend':_0x40469a},'$pull':{'remoteJidsRemaining':_0x34f3d6}},_0x1f4e46=_0x58b7d2[_0x21c8e4(0x273)];if(_0x5bb7be=await this[_0x21c8e4(0x16a)][_0x21c8e4(0x3f4)]['updateOneById'](_0x1f4e46,_0x2d8400,this[_0x21c8e4(0x733)][_0x21c8e4(0x230)]),_0xd7530b[_0x21c8e4(0x513)])continue;let _0x387293=this[_0x21c8e4(0x505)](_0x58b7d2['delaySecMin'],_0x58b7d2[_0x21c8e4(0x38d)]);await this[_0x21c8e4(0x4eb)](_0x387293);}catch(_0x4f2afc){this[_0x21c8e4(0x3fa)][_0x21c8e4(0x513)](this['instanceName']+'\x20('+this[_0x21c8e4(0x733)]['wuid']+_0x21c8e4(0x666)+_0x34f3d6+':\x20'+(_0x4f2afc instanceof Error?_0x4f2afc['message']:JSON[_0x21c8e4(0x311)](_0x4f2afc,null,0x2))),_0x40469a[_0x21c8e4(0x513)]=!0x0,_0x40469a[_0x21c8e4(0x324)]=_0x4f2afc[_0x21c8e4(0x1ae)];let _0x1044f3={'$push':{'messagesSend':_0x40469a},'$pull':{'remoteJidsRemaining':_0x34f3d6}},_0x1b6b47=_0x58b7d2[_0x21c8e4(0x273)];_0x5bb7be=await this[_0x21c8e4(0x16a)][_0x21c8e4(0x3f4)][_0x21c8e4(0x50a)](_0x1b6b47,_0x1044f3,this['instance'][_0x21c8e4(0x230)]);}finally{if(_0x5bb7be&&_0x5bb7be['status']==='stopped'){this[_0x21c8e4(0x3fa)][_0x21c8e4(0x204)](this['instanceName']+'\x20('+this[_0x21c8e4(0x733)][_0x21c8e4(0x230)]+_0x21c8e4(0x517)+_0x58b7d2[_0x21c8e4(0x273)]+_0x21c8e4(0x6d2));break;}}}let _0x3d1c8d=await this[_0x21c8e4(0x16a)]['scheduleMessage'][_0x21c8e4(0x1c2)](_0x58b7d2[_0x21c8e4(0x273)],this[_0x21c8e4(0x733)]['wuid']);if(_0x3d1c8d[_0x21c8e4(0x215)][_0x21c8e4(0x4c0)]===0x0&&_0x3d1c8d[_0x21c8e4(0x6ac)]!==_0x21c8e4(0x237)){let _0x352e24={'$set':{'status':_0x21c8e4(0x580)}},_0x98d653=_0x3d1c8d['_id'];await this[_0x21c8e4(0x16a)]['scheduleMessage'][_0x21c8e4(0x50a)](_0x98d653,_0x352e24,this[_0x21c8e4(0x733)][_0x21c8e4(0x230)]);}await new Promise(_0x2dfc78=>setTimeout(_0x2dfc78,0x1388));}},_0x29bf8d=async()=>{const _0x4e50da=a0_0x5a52;let _0x364dc7={'where':{'status':_0x4e50da(0x479),'when':{'$gt':Date[_0x4e50da(0x6b8)]()}}},_0x131be1=await this[_0x4e50da(0x16a)][_0x4e50da(0x3f4)][_0x4e50da(0x712)](_0x364dc7,this['instance'][_0x4e50da(0x230)]);_0x131be1&&_0x131be1[_0x4e50da(0x6a9)]-Date[_0x4e50da(0x6b8)]()<=0x5265c00?this[_0x4e50da(0x485)]=_0x131be1[_0x4e50da(0x6a9)]-Date[_0x4e50da(0x6b8)]():this[_0x4e50da(0x485)]=(0x3c+Math[_0x4e50da(0x61c)](Math[_0x4e50da(0x3c0)]()*0x3c))*0x3c*0x3e8,this[_0x4e50da(0x485)]=Math[_0x4e50da(0x2d4)](this[_0x4e50da(0x485)],0x7d0);let _0x3667c5=Math[_0x4e50da(0x73e)](this[_0x4e50da(0x485)]/0xea60);if(_0x131be1){let _0x54615b=new Date(_0x131be1[_0x4e50da(0x6a9)])[_0x4e50da(0x657)]();this['logger'][_0x4e50da(0x204)](this[_0x4e50da(0x2c5)]+'\x20('+this[_0x4e50da(0x733)][_0x4e50da(0x230)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x54615b+_0x4e50da(0x47c)+_0x3667c5+_0x4e50da(0x1e5));}else this[_0x4e50da(0x3fa)][_0x4e50da(0x204)](this[_0x4e50da(0x2c5)]+'\x20('+this[_0x4e50da(0x733)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x3667c5+_0x4e50da(0x1e5));setTimeout(()=>this[_0x4e50da(0x104)](),this['delayMessage']);};if(this[_0x25ac60(0x591)]){await this[_0x25ac60(0x1b7)](),_0x4fed4a();return;}if(!this[_0x25ac60(0x1a5)]){this[_0x25ac60(0x3fa)][_0x25ac60(0x204)](this['instanceName']+'\x20('+this[_0x25ac60(0x733)][_0x25ac60(0x230)]+_0x25ac60(0x45a)),this[_0x25ac60(0x591)]=null,this[_0x25ac60(0x3a3)]=0x0,this[_0x25ac60(0x485)]=0x0;return;}try{let _0x3ce485=await _0x4395ff();_0x3ce485[_0x25ac60(0x4c0)]===0x0?this[_0x25ac60(0x3fa)][_0x25ac60(0x204)](this[_0x25ac60(0x2c5)]+'\x20('+this[_0x25ac60(0x733)][_0x25ac60(0x230)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x25ac60(0x591)]=_0x3ce485[0x0][_0x25ac60(0x273)],await _0x187a1b(_0x3ce485)),await _0x29bf8d(),this[_0x25ac60(0x591)]=null;}catch(_0x161ebf){this[_0x25ac60(0x3fa)][_0x25ac60(0x513)](_0x25ac60(0x438)+(_0x161ebf instanceof Error?_0x161ebf[_0x25ac60(0x1ae)]:JSON[_0x25ac60(0x311)](_0x161ebf,null,0x2)));}}[a0_0x1f4c2a(0x505)](_0x5ce39f,_0x21c6bd){const _0x2879ea=a0_0x1f4c2a;return _0x5ce39f=Math[_0x2879ea(0x2d4)](0.5,_0x5ce39f),_0x21c6bd=Math[_0x2879ea(0x3fd)](Math[_0x2879ea(0x2d4)](0x3,_0x21c6bd),0x78),Math[_0x2879ea(0x61c)](Math['random']()*(_0x21c6bd-_0x5ce39f+0x1)+_0x5ce39f)*0x3e8;}['sleep'](_0x1e4d50){return new Promise(_0x442452=>setTimeout(_0x442452,_0x1e4d50));}async[a0_0x1f4c2a(0x56c)](_0x33344d){const _0x43a72a=a0_0x1f4c2a;if(!this[_0x43a72a(0x29c)]&&(await this[_0x43a72a(0x228)](),!this[_0x43a72a(0x29c)]))return null;_0x33344d=this[_0x43a72a(0x5e5)](_0x33344d);let _0xb9d7af=await this['repository'][_0x43a72a(0x164)][_0x43a72a(0x712)]({'where':{'_id':_0x33344d}},this[_0x43a72a(0x733)][_0x43a72a(0x230)]),_0x272877={};if(_0xb9d7af&&_0xb9d7af[_0x43a72a(0x26e)]){let _0x2904c4=_0xb9d7af['leadInfo'];typeof _0x2904c4[_0x43a72a(0x547)]==_0x43a72a(0x2f1)&&(_0x272877[_0x43a72a(0x547)]=_0x2904c4[_0x43a72a(0x547)]),typeof _0x2904c4['nomecompleto']==_0x43a72a(0x2f1)&&(_0x272877['nomecompleto']=_0x2904c4[_0x43a72a(0x15b)]),typeof _0x2904c4[_0x43a72a(0x49b)]=='string'&&(_0x272877[_0x43a72a(0x49b)]=_0x2904c4[_0x43a72a(0x49b)]),typeof _0x2904c4['cpf']==_0x43a72a(0x2f1)&&(_0x272877[_0x43a72a(0x18c)]=_0x2904c4[_0x43a72a(0x18c)]),typeof _0x2904c4[_0x43a72a(0x6ac)]==_0x43a72a(0x2f1)&&(_0x272877[_0x43a72a(0x6ac)]=_0x2904c4[_0x43a72a(0x6ac)]),typeof _0x2904c4[_0x43a72a(0x140)]=='string'&&(_0x272877[_0x43a72a(0x140)]=_0x2904c4[_0x43a72a(0x140)]),typeof _0x2904c4[_0x43a72a(0x59a)]==_0x43a72a(0x2f1)&&(_0x272877[_0x43a72a(0x59a)]=_0x2904c4['responsavelid']),Array[_0x43a72a(0x66f)](_0x2904c4['tags'])&&(_0x272877[_0x43a72a(0x47d)]=_0x2904c4['tags'][_0x43a72a(0x431)](',\x20')),Array[_0x43a72a(0x66f)](_0x2904c4[_0x43a72a(0x62a)])&&(_0x272877[_0x43a72a(0x62a)]=_0x2904c4[_0x43a72a(0x62a)][_0x43a72a(0x431)](',\x20'));}return _0xb9d7af&&_0xb9d7af[_0x43a72a(0x26e)]&&_0xb9d7af[_0x43a72a(0x26e)][_0x43a72a(0x4fb)]&&_0xb9d7af[_0x43a72a(0x26e)][_0x43a72a(0x4fb)][_0x43a72a(0x67f)](_0x65deb2=>{const _0x3c44fa=_0x43a72a;let _0xfab76f=this[_0x3c44fa(0x29c)]?.[_0x3c44fa(0x4fb)]['find'](_0x2ed864=>_0x2ed864[_0x3c44fa(0x273)]===_0x65deb2['_id']);_0xfab76f&&(_0x272877[_0xfab76f[_0x3c44fa(0x471)]]=_0x65deb2[_0x3c44fa(0x171)]);}),_0x272877;}async[a0_0x1f4c2a(0x44b)](_0x58d51,_0x321c7b){const _0x3ed54f=a0_0x1f4c2a;let _0x347db8=await this[_0x3ed54f(0x56c)](_0x321c7b);return this['replaceVariables'](_0x58d51,_0x347db8);}async[a0_0x1f4c2a(0x30e)](_0x5359cf){const _0x4ca902=a0_0x1f4c2a;try{if(this['logger'][_0x4ca902(0x204)](this[_0x4ca902(0x2c5)]+'\x20('+this['instance'][_0x4ca902(0x230)]+_0x4ca902(0x15d)),_0x5359cf[_0x4ca902(0x62c)]&&_0x5359cf[_0x4ca902(0x273)]){if(this[_0x4ca902(0x591)]===_0x5359cf[_0x4ca902(0x273)]['toString']())throw new Error(_0x4ca902(0x673));let _0x3710bd=await this[_0x4ca902(0x16a)][_0x4ca902(0x3f4)][_0x4ca902(0x326)](_0x5359cf[_0x4ca902(0x273)],this[_0x4ca902(0x733)][_0x4ca902(0x230)]);return setTimeout(()=>this[_0x4ca902(0x104)](),0x7d0),_0x3710bd;}let _0x580944;if(_0x5359cf[_0x4ca902(0x273)]&&(_0x580944=await this[_0x4ca902(0x16a)][_0x4ca902(0x3f4)][_0x4ca902(0x1c2)](_0x5359cf[_0x4ca902(0x273)],this[_0x4ca902(0x733)]['wuid'])),_0x580944){let _0x1bc097;if(this[_0x4ca902(0x591)]===_0x580944[_0x4ca902(0x273)]['toString']())_0x1bc097={'$set':{'status':_0x5359cf['status']}};else{let {_id:_0x1435ff,..._0x16791b}=_0x5359cf;_0x1bc097={'$set':_0x16791b};}let _0x5b51a1=await this[_0x4ca902(0x16a)][_0x4ca902(0x3f4)][_0x4ca902(0x50a)](_0x5359cf['_id'],_0x1bc097,this['instance']['wuid']);return setTimeout(()=>this[_0x4ca902(0x104)](),0x7d0),_0x5b51a1;}else{_0x5359cf[_0x4ca902(0x5b5)]=this[_0x4ca902(0x733)][_0x4ca902(0x230)];let _0x336880=await this['repository'][_0x4ca902(0x3f4)][_0x4ca902(0x48e)](_0x5359cf,this['instance'][_0x4ca902(0x230)]);return setTimeout(()=>this[_0x4ca902(0x104)](),0x7d0),_0x336880;}}catch(_0x2bc8d3){throw this[_0x4ca902(0x3fa)][_0x4ca902(0x513)](this[_0x4ca902(0x2c5)]+'\x20('+this[_0x4ca902(0x733)][_0x4ca902(0x230)]+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+(_0x2bc8d3 instanceof Error?_0x2bc8d3['message']:JSON['stringify'](_0x2bc8d3,null,0x2))),new m(_0x4ca902(0x5d2)+_0x2bc8d3[_0x4ca902(0x1ae)]);}}async[a0_0x1f4c2a(0x598)](){const _0x1ebb58=a0_0x1f4c2a;try{return await this['repository'][_0x1ebb58(0x3f4)][_0x1ebb58(0x34c)]({'where':{}},this[_0x1ebb58(0x733)][_0x1ebb58(0x230)]);}catch(_0x29a89e){throw this[_0x1ebb58(0x3fa)][_0x1ebb58(0x513)](this[_0x1ebb58(0x2c5)]+'\x20('+this[_0x1ebb58(0x733)][_0x1ebb58(0x230)]+_0x1ebb58(0x35d)+(_0x29a89e instanceof Error?_0x29a89e[_0x1ebb58(0x1ae)]:JSON[_0x1ebb58(0x311)](_0x29a89e,null,0x2))),new m('Erro:'+_0x29a89e['message']);}}async[a0_0x1f4c2a(0x648)](){const _0x26c71f=a0_0x1f4c2a;try{let _0x202c24={'status':_0x26c71f(0x580)},_0x310184=await this[_0x26c71f(0x16a)][_0x26c71f(0x3f4)]['deleteMany'](_0x202c24,this[_0x26c71f(0x733)]['wuid']);if(!_0x310184['error'])this[_0x26c71f(0x3fa)][_0x26c71f(0x204)](this[_0x26c71f(0x2c5)]+'\x20('+this[_0x26c71f(0x733)][_0x26c71f(0x230)]+_0x26c71f(0x4aa));else throw new Error(_0x310184[_0x26c71f(0x513)][_0x26c71f(0x1ae)]||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this[_0x26c71f(0x598)]();}catch(_0xc2f7cd){throw this[_0x26c71f(0x3fa)][_0x26c71f(0x513)](this[_0x26c71f(0x2c5)]+'\x20('+this['instance'][_0x26c71f(0x230)]+'):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:'+(_0xc2f7cd instanceof Error?_0xc2f7cd['message']:JSON[_0x26c71f(0x311)](_0xc2f7cd,null,0x2))),new m(_0x26c71f(0x5d2)+_0xc2f7cd[_0x26c71f(0x1ae)]);}}async[a0_0x1f4c2a(0x3e7)](_0x9489a8,_0x56a9aa){const _0x140435=a0_0x1f4c2a;try{if(_0x56a9aa['type']===_0x140435(0x34a)&&!this['AutomateSystem']?.[_0x140435(0x355)]['enabled'])return this['logger'][_0x140435(0x513)](this['instanceName']+'\x20('+this[_0x140435(0x733)][_0x140435(0x230)]+_0x140435(0x497)),{'error':!0x0,'detail':_0x140435(0x69d)};switch(_0x56a9aa[_0x140435(0x72c)]){case _0x140435(0x5d4):return await this[_0x140435(0x18e)](_0x56a9aa,_0x9489a8);case _0x140435(0x628):return await this['scheduleSendMedia'](_0x56a9aa,_0x9489a8);case _0x140435(0x5c1):return await this[_0x140435(0x71b)](_0x56a9aa,_0x9489a8);case _0x140435(0x34a):let _0x46fb87=new _e();return _0x46fb87[_0x140435(0x471)]=_0x56a9aa['flowName'],_0x46fb87[_0x140435(0x1fd)]=_0x9489a8,await this['startFlow'](_0x46fb87);break;default:return this[_0x140435(0x3fa)][_0x140435(0x513)](this[_0x140435(0x2c5)]+'\x20('+this[_0x140435(0x733)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x56a9aa[_0x140435(0x72c)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x431ad3){return this[_0x140435(0x3fa)][_0x140435(0x513)](this[_0x140435(0x2c5)]+'\x20('+this[_0x140435(0x733)][_0x140435(0x230)]+_0x140435(0x464)+(_0x431ad3 instanceof Error?_0x431ad3[_0x140435(0x1ae)]:JSON[_0x140435(0x311)](_0x431ad3,null,0x2))),{'error':!0x0,'detail':_0x431ad3[_0x140435(0x1ae)]};}}[a0_0x1f4c2a(0x23b)](_0x547602){const _0x339099=a0_0x1f4c2a;let _0x4503d7=_0x547602[_0x339099(0x702)]('|'),_0x3d4369=Math['floor'](Math['random']()*_0x4503d7[_0x339099(0x4c0)]);return _0x4503d7[_0x3d4369][_0x339099(0x2bd)]();}async[a0_0x1f4c2a(0x18e)](_0x468703,_0x33638c){const _0xf440a9=a0_0x1f4c2a;if(this[_0xf440a9(0x3fa)][_0xf440a9(0x204)](this[_0xf440a9(0x2c5)]+'\x20('+this[_0xf440a9(0x733)]['wuid']+'):\x20Enviando\x20texto'),!_0x468703[_0xf440a9(0x1ae)][_0xf440a9(0x5d4)]||_0x468703['message'][_0xf440a9(0x5d4)]['length']===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x264692=this[_0xf440a9(0x23b)](_0x468703[_0xf440a9(0x1ae)]['text']),_0x4678fd=await this[_0xf440a9(0x44b)](_0x264692,_0x33638c),_0xd04a64={'number':_0x33638c,'options':{'delay':_0x468703[_0xf440a9(0x1ae)][_0xf440a9(0x570)]},'textMessage':{'text':_0x4678fd}},_0x2de7d3=null;try{let _0x11baf4=await this['textMessage'](_0xd04a64);if(_0x11baf4&&_0x11baf4[_0xf440a9(0x6ac)])return{'error':!0x1,'id':_0x11baf4[_0xf440a9(0x114)]['id']};_0x2de7d3=JSON['stringify'](_0x11baf4),this[_0xf440a9(0x3fa)][_0xf440a9(0x204)](this[_0xf440a9(0x2c5)]+'\x20('+this[_0xf440a9(0x733)]['wuid']+_0xf440a9(0x2f5)+_0x2de7d3);}catch(_0x13e64e){this['logger'][_0xf440a9(0x513)](this[_0xf440a9(0x2c5)]+'\x20('+this[_0xf440a9(0x733)][_0xf440a9(0x230)]+_0xf440a9(0x636)+(_0x13e64e instanceof Error?_0x13e64e[_0xf440a9(0x1ae)]:JSON[_0xf440a9(0x311)](_0x13e64e,null,0x2))),_0x2de7d3=_0x13e64e[_0xf440a9(0x1ae)];}if(_0x2de7d3)return{'error':!0x0,'detail':(typeof _0x2de7d3=='object'?JSON['stringify'](_0x2de7d3,null,0x2):_0x2de7d3)[_0xf440a9(0x6c6)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x1f4c2a(0x30a)](_0x5658ee,_0x24ecb4){const _0x3eab38=a0_0x1f4c2a;this[_0x3eab38(0x3fa)][_0x3eab38(0x204)](this['instanceName']+'\x20('+this['instance'][_0x3eab38(0x230)]+_0x3eab38(0x72d));let _0x3bdfbe;if(_0x5658ee['message'][_0x3eab38(0x5d4)]&&_0x5658ee[_0x3eab38(0x1ae)][_0x3eab38(0x5d4)]['length']>0x0){let _0x23b704=this['getRandomText'](_0x5658ee['message'][_0x3eab38(0x5d4)]);_0x3bdfbe=await this[_0x3eab38(0x44b)](_0x23b704,_0x24ecb4);}let _0x3933de={'number':_0x24ecb4,'options':{'delay':_0x5658ee[_0x3eab38(0x1ae)]['delay']},'mediaMessage':{'mediatype':_0x5658ee[_0x3eab38(0x1ae)]['mediatype'],'caption':_0x3bdfbe,'media':_0x5658ee[_0x3eab38(0x1ae)][_0x3eab38(0x724)]}},_0x3e20b0=null;try{let _0x13c270=await this[_0x3eab38(0x307)](_0x3933de);if(_0x13c270&&_0x13c270[_0x3eab38(0x6ac)])return{'error':!0x1,'id':_0x13c270['key']['id']};_0x3e20b0=JSON['stringify'](_0x13c270),this[_0x3eab38(0x3fa)][_0x3eab38(0x204)](this[_0x3eab38(0x2c5)]+'\x20('+this[_0x3eab38(0x733)][_0x3eab38(0x230)]+_0x3eab38(0x2f5)+_0x3e20b0);}catch(_0x1d8094){this['logger'][_0x3eab38(0x513)](this[_0x3eab38(0x2c5)]+'\x20('+this['instance'][_0x3eab38(0x230)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x1d8094 instanceof Error?_0x1d8094[_0x3eab38(0x1ae)]:JSON[_0x3eab38(0x311)](_0x1d8094,null,0x2))),_0x3e20b0=_0x1d8094[_0x3eab38(0x1ae)];}if(_0x3e20b0)return{'error':!0x0,'detail':(typeof _0x3e20b0=='object'?JSON[_0x3eab38(0x311)](_0x3e20b0,null,0x2):_0x3e20b0)['replace'](/[\[\]{}\n]/g,'\x20')[_0x3eab38(0x6c6)](/  +/g,'\x20')};}async[a0_0x1f4c2a(0x71b)](_0x1a0bf1,_0x5b9f03){const _0xd7c8e8=a0_0x1f4c2a;this['logger'][_0xd7c8e8(0x204)](this['instanceName']+'\x20('+this[_0xd7c8e8(0x733)][_0xd7c8e8(0x230)]+_0xd7c8e8(0x174));let _0x16f37d={'number':_0x5b9f03,'options':{'delay':_0x1a0bf1[_0xd7c8e8(0x1ae)][_0xd7c8e8(0x570)]},'audioMessage':{'audio':_0x1a0bf1['message'][_0xd7c8e8(0x724)]}},_0x75589a=null;try{let _0x46ec52=await this[_0xd7c8e8(0x282)](_0x16f37d);if(_0x46ec52&&_0x46ec52[_0xd7c8e8(0x6ac)])return{'error':!0x1,'id':_0x46ec52[_0xd7c8e8(0x114)]['id']};_0x75589a=JSON['stringify'](_0x46ec52),this[_0xd7c8e8(0x3fa)][_0xd7c8e8(0x204)](this[_0xd7c8e8(0x2c5)]+'\x20('+this['instance'][_0xd7c8e8(0x230)]+'):\x20'+_0x75589a);}catch(_0x571622){this[_0xd7c8e8(0x3fa)][_0xd7c8e8(0x513)](this[_0xd7c8e8(0x2c5)]+'\x20('+this[_0xd7c8e8(0x733)][_0xd7c8e8(0x230)]+_0xd7c8e8(0x55f)+(_0x571622 instanceof Error?_0x571622['message']:JSON[_0xd7c8e8(0x311)](_0x571622,null,0x2))),_0x75589a=_0x571622[_0xd7c8e8(0x1ae)];}if(_0x75589a)return{'error':!0x0,'detail':(typeof _0x75589a==_0xd7c8e8(0x483)?JSON[_0xd7c8e8(0x311)](_0x75589a,null,0x2):_0x75589a)[_0xd7c8e8(0x6c6)](/[\[\]{}\n]/g,'\x20')[_0xd7c8e8(0x6c6)](/  +/g,'\x20')};}},Pt=class c{constructor(_0x542a74,_0x1c4226,_0x34651a){const _0x21ab63=a0_0x1f4c2a;this[_0x21ab63(0x10a)]=_0x542a74,this[_0x21ab63(0x1a6)]=_0x1c4226,this['repository']=_0x34651a,this['db']={},this[_0x21ab63(0x63e)]={},this[_0x21ab63(0x3fa)]=new v(c[_0x21ab63(0x471)]),this[_0x21ab63(0x37c)]={},(this[_0x21ab63(0x660)](),this[_0x21ab63(0x6da)](),Object[_0x21ab63(0x46b)](this['db'],_0x1c4226[_0x21ab63(0x67a)](_0x21ab63(0x51b))),Object[_0x21ab63(0x46b)](this[_0x21ab63(0x63e)],_0x1c4226[_0x21ab63(0x67a)](_0x21ab63(0x12e))),this[_0x21ab63(0x3a2)]=this['db'][_0x21ab63(0x177)]?this[_0x21ab63(0x16a)]['dbServer']?.['db'](this['db'][_0x21ab63(0x11c)][_0x21ab63(0x544)]+'-instances'):void 0x0,this[_0x21ab63(0x23d)]=this[_0x21ab63(0x63e)][_0x21ab63(0x177)]?new ie(this[_0x21ab63(0x63e)]):void 0x0);}async['instanceInfo'](_0x1b5090){const _0x1081e4=a0_0x1f4c2a;if(_0x1b5090&&!this[_0x1081e4(0x37c)][_0x1b5090])throw new L(_0x1081e4(0x1ce)+_0x1b5090+_0x1081e4(0x3bd));let _0x3633b3=[];for await(let [_0xd77db7,_0x211b32]of Object[_0x1081e4(0x17b)](this['waInstances']))if(_0x211b32&&_0x211b32[_0x1081e4(0x2b2)][_0x1081e4(0x18d)]==='open'){let _0xb96610=await this['repository'][_0x1081e4(0x5c8)][_0x1081e4(0x34c)](_0xd77db7);_0x3633b3[_0x1081e4(0x597)]({'instance':{'instanceName':_0xd77db7,'apikey':_0xb96610[_0x1081e4(0x690)],'owner':_0x211b32[_0x1081e4(0x230)],'profileName':await _0x211b32[_0x1081e4(0x56b)]()||_0x1081e4(0x33c),'profilePictureUrl':_0x211b32['profilePictureUrl']}});}return _0x3633b3[_0x1081e4(0x34c)](_0x4c9b15=>_0x4c9b15['instance']['instanceName']===_0x1b5090)??_0x3633b3;}async[a0_0x1f4c2a(0x4fe)](_0x455529){const _0x381259=a0_0x1f4c2a;if(this['db']['ENABLED']&&(await this[_0x381259(0x16a)][_0x381259(0x3c1)][_0x381259(0x1e9)](),(await this[_0x381259(0x3a2)][_0x381259(0x5e8)]())[_0x381259(0x4c0)]>0x0&&await this[_0x381259(0x3a2)]['dropCollection'](_0x455529)),this[_0x381259(0x63e)]['ENABLED']){this[_0x381259(0x23d)][_0x381259(0x60d)]=_0x455529,await this[_0x381259(0x23d)][_0x381259(0x149)]();return;}}async[a0_0x1f4c2a(0x156)](){const _0xb9694e=a0_0x1f4c2a;await this[_0xb9694e(0x53e)]();let _0x372f83=async _0x4d16dc=>{const _0x5210d7=_0xb9694e;let _0x23d926=new ye(this['configService'],this['eventEmitter'],this[_0x5210d7(0x16a)]);_0x23d926[_0x5210d7(0x2c5)]=_0x4d16dc,await _0x23d926[_0x5210d7(0x5e0)](),this[_0x5210d7(0x37c)][_0x4d16dc]=_0x23d926;};try{if(this[_0xb9694e(0x63e)][_0xb9694e(0x177)]){let _0x32d711=await this[_0xb9694e(0x23d)][_0xb9694e(0x64f)]();_0x32d711?.['length']>0x0&&_0x32d711[_0xb9694e(0x67f)](async _0x1b1fa4=>await _0x372f83(_0x1b1fa4[_0xb9694e(0x702)](':')[0x1]));return;}if(this['db'][_0xb9694e(0x177)]){await this[_0xb9694e(0x16a)]['dbServer'][_0xb9694e(0x1e9)]();let _0x253f13=await this[_0xb9694e(0x3a2)][_0xb9694e(0x5e8)]();_0x253f13[_0xb9694e(0x4c0)]>0x0&&_0x253f13[_0xb9694e(0x67f)](async _0x46706c=>await _0x372f83(_0x46706c[_0xb9694e(0xf9)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x1f2257){this[_0xb9694e(0x3fa)][_0xb9694e(0x513)](_0x1f2257);}}async[a0_0x1f4c2a(0x64b)](){const _0x204f41=a0_0x1f4c2a;let _0x57ebb1=await this[_0x204f41(0x16a)][_0x204f41(0x5c8)][_0x204f41(0x6b9)](),_0x14c25e=_0x57ebb1[_0x204f41(0x554)](_0x1dab06=>!this['waInstances'][_0x1dab06[_0x204f41(0x273)]]&&(_0x1dab06['online']||typeof _0x1dab06[_0x204f41(0x577)]>'u'));_0x14c25e[_0x204f41(0x4c0)]>0x0&&await Promise[_0x204f41(0x132)](_0x14c25e[_0x204f41(0x441)](async _0x3f3fd8=>{const _0x3b5eba=_0x204f41;let _0x25456b={'online':!0x1,'lastDisconnect':Date[_0x3b5eba(0x6b8)]()};await this[_0x3b5eba(0x16a)][_0x3b5eba(0x5c8)][_0x3b5eba(0x59f)](_0x25456b,_0x3f3fd8['_id']);}));let _0x1a17f1=Date[_0x204f41(0x6b8)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x244f1f=_0x57ebb1[_0x204f41(0x554)](_0x201bc7=>!this[_0x204f41(0x37c)][_0x201bc7[_0x204f41(0x273)]]&&typeof _0x201bc7[_0x204f41(0xc7)]<'u'&&_0x201bc7['lastDisconnect']<_0x1a17f1);_0x244f1f[_0x204f41(0x4c0)]>0x0&&await Promise[_0x204f41(0x132)](_0x244f1f[_0x204f41(0x441)](async _0xb53d3f=>{}));}async[a0_0x1f4c2a(0x53e)](){const _0x274da4=a0_0x1f4c2a;try{let _0x4bd12c={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x20a2bb={'online':!0x1,'lastDisconnect':Date[_0x274da4(0x6b8)]()},_0x1545eb=await this[_0x274da4(0x16a)][_0x274da4(0x5c8)]['updateAll'](_0x4bd12c,_0x20a2bb);console[_0x274da4(0x2ed)](_0x274da4(0x40a)+_0x1545eb[_0x274da4(0x102)]),await this[_0x274da4(0x54e)]();}catch(_0x6a557f){console[_0x274da4(0x513)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x6a557f);}}async[a0_0x1f4c2a(0x54e)](){const _0x266247=a0_0x1f4c2a;try{let _0x13ebdb={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x4e1bbf=await this['repository']['auth'][_0x266247(0x468)](_0x13ebdb);console[_0x266247(0x2ed)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x4e1bbf[_0x266247(0x102)]);}catch(_0x13d6bd){console[_0x266247(0x513)](_0x266247(0x3e9),_0x13d6bd);}}[a0_0x1f4c2a(0x660)](){const _0x1a40e0=a0_0x1f4c2a;this['eventEmitter']['on'](_0x1a40e0(0x737),async _0x17e5f8=>{const _0xc7d214=_0x1a40e0;try{this[_0xc7d214(0x37c)][_0x17e5f8]=void 0x0;}catch{}try{this['cleaningUp'](_0x17e5f8);}finally{this[_0xc7d214(0x3fa)]['warn'](_0xc7d214(0x1ce)+_0x17e5f8+_0xc7d214(0x183));}});}['noConnection'](){const _0xa3793f=a0_0x1f4c2a;this[_0xa3793f(0x10a)]['on'](_0xa3793f(0x4b0),async _0x1279db=>{const _0x3e6270=_0xa3793f;try{this[_0x3e6270(0x37c)][_0x1279db]=void 0x0;}catch{}try{this[_0x3e6270(0x4fe)](_0x1279db);}finally{this['logger'][_0x3e6270(0x58d)](_0x3e6270(0x1ce)+_0x1279db+'\x22\x20-\x20NOT\x20CONNECTION');}});}},$t=class extends I{[a0_0x1f4c2a(0x3fc)](_0x2ce389){return Vs(_0x2ce389);}async[a0_0x1f4c2a(0x2d2)](_0x4acaad){const _0x40d0fd=a0_0x1f4c2a;if(_0x4acaad[_0x40d0fd(0x4c0)]!==0x0)try{return{'insertCount':(await this[_0x40d0fd(0x3fc)](_0x4acaad[0x0]['owner'])[_0x40d0fd(0x1ac)]([..._0x4acaad]))[_0x40d0fd(0x4c0)]};}catch(_0x57988a){return _0x57988a;}}async['find'](_0x235ccd,_0x41f9fd){const _0x58e849=a0_0x1f4c2a;try{let _0x5581d7=this[_0x58e849(0x3fc)](_0x41f9fd),_0x1d1248=A(_0x235ccd[_0x58e849(0x45e)]);return await _0x5581d7['find'](_0x1d1248)[_0x58e849(0x24b)]({'lastmsg':-0x1})[_0x58e849(0x3a5)](_0x235ccd?.['limit']??0x0)[_0x58e849(0x14f)]();}catch{return[];}}async[a0_0x1f4c2a(0x50f)](_0x28714c,_0x1bb2ae){const _0x12e1e4=a0_0x1f4c2a;try{return await this['getChatModelForOwner'](_0x1bb2ae)['deleteMany']({..._0x28714c[_0x12e1e4(0x45e)]}),[];}catch(_0x474dc9){return{'error':_0x474dc9?.[_0x12e1e4(0x6f3)]()};}}async[a0_0x1f4c2a(0x712)](_0x17829b,_0x56cdf9){const _0x203cf8=a0_0x1f4c2a;try{let _0x190787=this['getChatModelForOwner'](_0x56cdf9),_0x129d4b=A(_0x17829b[_0x203cf8(0x45e)]);return await _0x190787['findOne'](_0x129d4b)['lean']();}catch{return null;}}async[a0_0x1f4c2a(0x25b)](_0x598aa3,_0x533465,_0x1f70ce,_0x4daf25,_0x23b904=a0_0x1f4c2a(0x3c8)){const _0x309cb4=a0_0x1f4c2a;try{let _0x3d6864={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4daf25},_0x1bca7c=this[_0x309cb4(0x3fc)](_0x1f70ce),_0x529c4b=A(_0x598aa3[_0x309cb4(0x45e)]);Object[_0x309cb4(0x6c4)](_0x533465)[_0x309cb4(0x67f)](_0x332e1a=>{_0x533465[_0x332e1a]==null&&delete _0x533465[_0x332e1a];});let _0x297e94={};return _0x297e94[_0x23b904]=_0x533465,await _0x1bca7c[_0x309cb4(0x5a8)](_0x529c4b,_0x297e94,_0x3d6864);}catch(_0x26d021){return console['error'](_0x26d021),null;}}async[a0_0x1f4c2a(0x335)](_0x426e30){const _0x583474=a0_0x1f4c2a;try{let _0xb6c2a4=this[_0x583474(0x3fc)](_0x426e30[0x0][_0x583474(0x2e3)][_0x583474(0x45e)][_0x583474(0x5b5)]),_0x4c3b46=_0x426e30[_0x583474(0x441)](_0x3beef2=>({'updateOne':{'filter':{..._0x3beef2['query'][_0x583474(0x45e)]},'update':{'$set':_0x3beef2[_0x583474(0x64d)]},'upsert':!0x0}})),_0x94942=await _0xb6c2a4[_0x583474(0x532)](_0x4c3b46);return _0x94942[_0x583474(0x4a6)]+_0x94942[_0x583474(0x6bf)];}catch(_0x584901){return console[_0x583474(0x513)](_0x584901),0x0;}}async[a0_0x1f4c2a(0x37a)](_0x415b1e){const _0x3f779a=a0_0x1f4c2a;try{let _0x3a92ea=this['getChatModelForOwner'](_0x415b1e),_0x3265fc={'labels':{'$exists':!0x0}},_0x127406={'$unset':{'labels':''}};return(await _0x3a92ea[_0x3f779a(0x335)](_0x3265fc,_0x127406))[_0x3f779a(0x4a6)];}catch(_0x16e421){return console[_0x3f779a(0x513)](_0x16e421),0x0;}}async[a0_0x1f4c2a(0x105)](_0xc5253c){const _0x49546d=a0_0x1f4c2a;try{let _0xdf588a=this[_0x49546d(0x3fc)](_0xc5253c),_0x1b6f79={'leadInfo.etiquetas':{'$exists':!0x1}},_0x8c9c11={'$set':{'leadInfo.etiquetas':[]}};return(await _0xdf588a[_0x49546d(0x335)](_0x1b6f79,_0x8c9c11))[_0x49546d(0x4a6)];}catch(_0x200b88){return console[_0x49546d(0x513)](_0x200b88),0x0;}}async[a0_0x1f4c2a(0x2ac)](_0x593501){const _0x2a458b=a0_0x1f4c2a;try{let _0x1c673c=this['getChatModelForOwner'](_0x593501),_0x472d93={'leadInfo.tags':{'$exists':!0x1}},_0x267f83={'$set':{'leadInfo.tags':[]}};return(await _0x1c673c[_0x2a458b(0x335)](_0x472d93,_0x267f83))[_0x2a458b(0x4a6)];}catch(_0x524c01){return console[_0x2a458b(0x513)](_0x524c01),0x0;}}async[a0_0x1f4c2a(0x274)](_0x16121e){const _0x2f3984=a0_0x1f4c2a;try{let _0x33c9cd=this['getChatModelForOwner'](_0x16121e),_0x1480d1={'leadInfo.customFields':{'$exists':!0x1}},_0xd1b260={'$set':{'leadInfo.customFields':[]}};return(await _0x33c9cd[_0x2f3984(0x335)](_0x1480d1,_0xd1b260))[_0x2f3984(0x4a6)];}catch(_0x2c8cac){return console['error'](_0x2c8cac),0x0;}}async[a0_0x1f4c2a(0x1ac)](_0x5af0ea,_0x722335){const _0x2b0491=a0_0x1f4c2a;if(!Array[_0x2b0491(0x66f)](_0x5af0ea)||_0x5af0ea[_0x2b0491(0x4c0)]===0x0)throw new Error(_0x2b0491(0x4e9));try{return(await this[_0x2b0491(0x3fc)](_0x722335)[_0x2b0491(0x1ac)](_0x5af0ea))[_0x2b0491(0x4c0)];}catch(_0x4bcce5){throw console[_0x2b0491(0x513)](_0x2b0491(0x4cb),_0x4bcce5),_0x4bcce5;}}async[a0_0x1f4c2a(0x69a)](_0x28dcbe,_0x42c0e8){const _0x19b666=a0_0x1f4c2a;try{await this[_0x19b666(0x3fc)](_0x42c0e8)[_0x19b666(0x326)]({'_id':_0x28dcbe});}catch(_0x480797){throw console[_0x19b666(0x513)](_0x19b666(0x184),_0x480797),_0x480797;}}},kt=class extends I{[a0_0x1f4c2a(0x305)](_0x49cc31){return pa(_0x49cc31);}async['updateOne'](_0x268387,_0x3c3399,_0x2ed91a,_0x3e09e1){const _0x4f1354=a0_0x1f4c2a;try{let _0x276e62={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3e09e1},_0x8021f8=this[_0x4f1354(0x305)](_0x2ed91a),_0x390bba=A(_0x268387[_0x4f1354(0x45e)]);return await _0x8021f8[_0x4f1354(0x5a8)](_0x390bba,{'$set':_0x3c3399},_0x276e62);}catch(_0x50759c){return console[_0x4f1354(0x513)](_0x50759c),null;}}async[a0_0x1f4c2a(0x34c)](_0x2aacb0,_0x232a65){const _0x44b9e9=a0_0x1f4c2a;try{let _0x10564c=this[_0x44b9e9(0x305)](_0x232a65),_0x57fbba=A(_0x2aacb0['where']);return await _0x10564c[_0x44b9e9(0x34c)](_0x57fbba);}catch(_0x186572){console[_0x44b9e9(0x513)](_0x186572);}}async[a0_0x1f4c2a(0x62c)](_0x2f1ff8,_0x46f7bd){const _0x4423d8=a0_0x1f4c2a;try{let _0x4d8a84=this[_0x4423d8(0x305)](_0x46f7bd),_0xc722fc=A(_0x2f1ff8[_0x4423d8(0x45e)]);await _0x4d8a84['deleteMany'](_0xc722fc);}catch(_0x4d7ea9){console['error'](_0x4d7ea9);}}async[a0_0x1f4c2a(0x50f)](_0x5d7777){const _0x4a2362=a0_0x1f4c2a;try{return await this['getLabelModelForOwner'](_0x5d7777)[_0x4a2362(0x498)][_0x4a2362(0x606)](),{'success':!0x0};}catch(_0x2ff379){return console[_0x4a2362(0x513)](_0x2ff379),{'success':!0x1,'error':_0x2ff379};}}},Lt=class{constructor(_0x89d93d){const _0x212d5d=a0_0x1f4c2a;this[_0x212d5d(0x495)]=_0x89d93d;}async['editChat']({instanceName:_0x36bb80},_0x4b31de){const _0x2fb8af=a0_0x1f4c2a;return await this[_0x2fb8af(0x495)][_0x2fb8af(0x37c)][_0x36bb80][_0x2fb8af(0x361)](_0x4b31de);}async[a0_0x1f4c2a(0x234)]({instanceName:_0x3d335a},_0x2c6b3e){const _0x5a0723=a0_0x1f4c2a;return await this[_0x5a0723(0x495)][_0x5a0723(0x37c)][_0x3d335a][_0x5a0723(0x234)](_0x2c6b3e);}async[a0_0x1f4c2a(0x5c7)]({instanceName:_0x406548},_0x32bc44){const _0xfd5056=a0_0x1f4c2a;return await this[_0xfd5056(0x495)][_0xfd5056(0x37c)][_0x406548][_0xfd5056(0x5c7)](_0x32bc44);}async[a0_0x1f4c2a(0x6dc)]({instanceName:_0x27e24f},_0x186080){const _0x346121=a0_0x1f4c2a;return await this['waMonitor']['waInstances'][_0x27e24f][_0x346121(0x261)](_0x186080);}async[a0_0x1f4c2a(0x17e)]({instanceName:_0x10c18f},_0x6d9503){const _0x436ccb=a0_0x1f4c2a;return await this[_0x436ccb(0x495)]['waInstances'][_0x10c18f][_0x436ccb(0x17e)](_0x6d9503);}async[a0_0x1f4c2a(0x550)]({instanceName:_0x5ef217},_0x1d61ba){const _0x27b221=a0_0x1f4c2a;return await this[_0x27b221(0x495)][_0x27b221(0x37c)][_0x5ef217][_0x27b221(0x550)](_0x1d61ba);}async['fetchProfilePicture']({instanceName:_0xb19589},_0x4a6130){const _0x1e1273=a0_0x1f4c2a;return await this[_0x1e1273(0x495)]['waInstances'][_0xb19589]['profilePicture'](_0x4a6130[_0x1e1273(0x593)]);}async[a0_0x1f4c2a(0x608)]({instanceName:_0x430d9a},_0x43f5f7){const _0x2e88d5=a0_0x1f4c2a;return await this[_0x2e88d5(0x495)][_0x2e88d5(0x37c)][_0x430d9a]['fetchProfile'](_0x43f5f7['number']);}async['updatePresence']({instanceName:_0x1cebfc},_0x4cdd3b){const _0x554deb=a0_0x1f4c2a;return await this[_0x554deb(0x495)][_0x554deb(0x37c)][_0x1cebfc][_0x554deb(0x3ab)](_0x4cdd3b);}async['fetchContacts']({instanceName:_0x257822},_0x4135c6){const _0x2db564=a0_0x1f4c2a;return await this['waMonitor'][_0x2db564(0x37c)][_0x257822][_0x2db564(0x179)](_0x4135c6);}async[a0_0x1f4c2a(0x16b)]({instanceName:_0x2a7b3a},_0x9d6b2b){const _0x4dd483=a0_0x1f4c2a;return await this[_0x4dd483(0x495)]['waInstances'][_0x2a7b3a]['getBase64FromMediaMessage'](_0x9d6b2b);}async['fetchMessages']({instanceName:_0x2496d5},_0x3db43a){const _0x1fcd93=a0_0x1f4c2a;return await this[_0x1fcd93(0x495)]['waInstances'][_0x2496d5]['fetchMessages'](_0x3db43a);}async['fetchLabels']({instanceName:_0x29d34f}){const _0x37cb0a=a0_0x1f4c2a;return await this['waMonitor'][_0x37cb0a(0x37c)][_0x29d34f]['fetchLabels']();}async['fetchChats']({instanceName:_0x28cbee}){const _0x1d1561=a0_0x1f4c2a;return await this[_0x1d1561(0x495)][_0x1d1561(0x37c)][_0x28cbee][_0x1d1561(0x603)]();}async[a0_0x1f4c2a(0x387)]({instanceName:_0x2f4b60}){const _0x46b426=a0_0x1f4c2a;return await this[_0x46b426(0x495)]['waInstances'][_0x2f4b60]['fetchPrivacySettings']();}async[a0_0x1f4c2a(0x322)]({instanceName:_0x36f600},_0x3e3f33){const _0x4f0839=a0_0x1f4c2a;return await this['waMonitor'][_0x4f0839(0x37c)][_0x36f600][_0x4f0839(0x322)](_0x3e3f33);}async['fetchBusinessProfile']({instanceName:_0x3a301e},_0x4fb900){const _0xd3fd1d=a0_0x1f4c2a;return await this[_0xd3fd1d(0x495)][_0xd3fd1d(0x37c)][_0x3a301e][_0xd3fd1d(0x320)](_0x4fb900[_0xd3fd1d(0x593)]);}async[a0_0x1f4c2a(0x56e)]({instanceName:_0x5d233b},_0x18c22d){const _0x5928e0=a0_0x1f4c2a;return await this[_0x5928e0(0x495)]['waInstances'][_0x5d233b][_0x5928e0(0x56e)](_0x18c22d[_0x5928e0(0x471)]);}async['updateProfileStatus']({instanceName:_0x4bf278},_0x478e16){const _0x57c93f=a0_0x1f4c2a;return await this[_0x57c93f(0x495)][_0x57c93f(0x37c)][_0x4bf278][_0x57c93f(0x270)](_0x478e16[_0x57c93f(0x6ac)]);}async[a0_0x1f4c2a(0x1d5)]({instanceName:_0x1e6525},_0x259d62){const _0x41de57=a0_0x1f4c2a;return await this[_0x41de57(0x495)]['waInstances'][_0x1e6525]['updateProfilePicture'](_0x259d62[_0x41de57(0xfb)]);}async[a0_0x1f4c2a(0x402)]({instanceName:_0x46c325},_0x2b0302){const _0x4d7a90=a0_0x1f4c2a;return await this[_0x4d7a90(0x495)]['waInstances'][_0x46c325][_0x4d7a90(0x402)]();}},Ts=require(a0_0x1f4c2a(0x1f2)),jt=class c{constructor(_0xd4bb09,_0x5155cf,_0x25278f,_0x5e044b,_0x1c1e20){const _0x1dd5a7=a0_0x1f4c2a;this['waMonitor']=_0xd4bb09,this[_0x1dd5a7(0x1a6)]=_0x5155cf,this[_0x1dd5a7(0x16a)]=_0x25278f,this[_0x1dd5a7(0x10a)]=_0x5e044b,this[_0x1dd5a7(0x711)]=_0x1c1e20,this['logger']=new v(c['name']);}async['createInstance']({instanceName:_0x151370,apikey:_0x9f1c7a,number:_0x51526f,proxy:_0x41d22d=!0x0}){const _0x3825a4=a0_0x1f4c2a;try{let _0x5b8c99=new ye(this[_0x3825a4(0x1a6)],this[_0x3825a4(0x10a)],this[_0x3825a4(0x16a)]);_0x5b8c99['instanceName']=_0x151370,this[_0x3825a4(0x495)][_0x3825a4(0x37c)][_0x5b8c99[_0x3825a4(0x2c5)]]=_0x5b8c99;let _0x57507b={};_0x9f1c7a?(await this[_0x3825a4(0x16a)][_0x3825a4(0x5c8)][_0x3825a4(0x59f)]({'apikey':_0x9f1c7a},_0x151370),_0x57507b[_0x3825a4(0x690)]=_0x9f1c7a):_0x57507b=await this[_0x3825a4(0x711)][_0x3825a4(0x38c)]({'instanceName':_0x5b8c99[_0x3825a4(0x2c5)]});let _0x5a8b0f;return await _0x5b8c99[_0x3825a4(0x5e0)](_0x51526f),await(0x0,Ts['delay'])(0x7d0),_0x5a8b0f=_0x5b8c99[_0x3825a4(0x565)],{'instance':{'instanceName':_0x5b8c99[_0x3825a4(0x2c5)],'status':_0x3825a4(0x518)},'hash':_0x57507b,'qrcode':_0x5a8b0f};}catch(_0x4a2ec5){this[_0x3825a4(0x3fa)][_0x3825a4(0x513)](_0x4a2ec5);}}async[a0_0x1f4c2a(0x643)]({instanceName:_0x4bcad6,number:_0x526270=null}){const _0x17abff=a0_0x1f4c2a;try{let _0x164e25=this['waMonitor']['waInstances'][_0x4bcad6];switch(_0x164e25?.['connectionStatus']?.[_0x17abff(0x18d)]){case _0x17abff(0x52c):return await _0x164e25[_0x17abff(0x5e0)](_0x526270),await(0x0,Ts[_0x17abff(0x570)])(0x7d0),_0x164e25[_0x17abff(0x565)];case _0x17abff(0x458):return _0x164e25[_0x17abff(0x565)];default:return await this[_0x17abff(0x637)]({'instanceName':_0x4bcad6});}}catch(_0x12a1df){this[_0x17abff(0x3fa)][_0x17abff(0x2ed)](_0x12a1df);}}async['connectionState']({instanceName:_0x528d28}){const _0x4cd336=a0_0x1f4c2a;let _0x2bd574=this[_0x4cd336(0x495)][_0x4cd336(0x37c)][_0x528d28][_0x4cd336(0x2b2)],_0x19eb1a=null;_0x2bd574[_0x4cd336(0x18d)]===_0x4cd336(0x32e)&&_0x528d28&&(_0x19eb1a=await this[_0x4cd336(0x495)][_0x4cd336(0x61d)](_0x528d28));let _0x2c6b03=null;return _0x2bd574[_0x4cd336(0x18d)]===_0x4cd336(0x458)&&_0x528d28&&(_0x2c6b03=this[_0x4cd336(0x495)][_0x4cd336(0x37c)][_0x528d28][_0x4cd336(0x565)]),{'instance':_0x528d28,'connectionStatus':_0x2bd574,'instanceInfo':_0x19eb1a,'qrcode':_0x2c6b03};}async[a0_0x1f4c2a(0x14b)]({instanceName:_0x474af7}){const _0xa6222d=a0_0x1f4c2a;try{return this['waMonitor'][_0xa6222d(0x37c)][_0x474af7]?.['client']?.['ws']?.[_0xa6222d(0x52c)](),{'status':_0xa6222d(0x5f5),'error':!0x1,'response':{'message':_0xa6222d(0x3db)}};}catch(_0x12073a){this[_0xa6222d(0x3fa)][_0xa6222d(0x513)](_0x12073a);}}async[a0_0x1f4c2a(0x189)]({instanceName:_0xdfaea0}){const _0x2e3d4f=a0_0x1f4c2a;return _0xdfaea0?this[_0x2e3d4f(0x495)]['instanceInfo'](_0xdfaea0):this[_0x2e3d4f(0x495)][_0x2e3d4f(0x61d)]();}async[a0_0x1f4c2a(0x645)]({instanceName:_0x22e5d7}){const _0x2f7fd3=a0_0x1f4c2a;try{return await this[_0x2f7fd3(0x495)][_0x2f7fd3(0x37c)][_0x22e5d7]?.[_0x2f7fd3(0x289)]?.['logout'](_0x2f7fd3(0x46e)+_0x22e5d7),{'error':!0x1,'message':_0x2f7fd3(0x34e)};}catch(_0x58a06f){throw new O(_0x58a06f[_0x2f7fd3(0x6f3)]());}}async[a0_0x1f4c2a(0x5b9)]({instanceName:_0x1b9020}){const _0x12a995=a0_0x1f4c2a;if((await this[_0x12a995(0x637)]({'instanceName':_0x1b9020}))[_0x12a995(0x2b2)][_0x12a995(0x18d)]===_0x12a995(0x32e))throw new m([_0x12a995(0x70a),_0x12a995(0x2c1)]);try{return delete this[_0x12a995(0x495)][_0x12a995(0x37c)][_0x1b9020],{'error':!0x1,'message':_0x12a995(0x4b7)};}catch(_0x3106f9){throw new m(_0x3106f9[_0x12a995(0x6f3)]());}}},Z=require('class-validator'),Ft=class{constructor(_0x5a9bb7){const _0x13cd3d=a0_0x1f4c2a;this[_0x13cd3d(0x495)]=_0x5a9bb7;}async[a0_0x1f4c2a(0x528)]({instanceName:_0x19a204},_0x1ebd92){const _0x50a9d6=a0_0x1f4c2a;return await this['waMonitor'][_0x50a9d6(0x37c)][_0x19a204][_0x50a9d6(0x433)](_0x1ebd92);}async[a0_0x1f4c2a(0xdc)]({instanceName:_0x4d6f78},_0x294f6a){const _0x50a56a=a0_0x1f4c2a;return await this['waMonitor']['waInstances'][_0x4d6f78][_0x50a56a(0x484)](_0x294f6a);}async[a0_0x1f4c2a(0x2c0)]({instanceName:_0x536a43},_0x240b26){const _0x222462=a0_0x1f4c2a;if((0x0,Z[_0x222462(0x469)])(_0x240b26?.[_0x222462(0x307)]?.[_0x222462(0x628)])&&!_0x240b26?.['mediaMessage']?.[_0x222462(0x5d1)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,Z[_0x222462(0xf5)])(_0x240b26?.[_0x222462(0x307)]?.['media'])||(0x0,Z[_0x222462(0x469)])(_0x240b26?.[_0x222462(0x307)]?.[_0x222462(0x628)]))return await this[_0x222462(0x495)][_0x222462(0x37c)][_0x536a43][_0x222462(0x307)](_0x240b26);throw new m(_0x222462(0x3e0));}async[a0_0x1f4c2a(0x134)]({instanceName:_0x339346},_0x1850b1){const _0x174f5b=a0_0x1f4c2a;if((0x0,Z[_0x174f5b(0xf5)])(_0x1850b1[_0x174f5b(0x68f)][_0x174f5b(0x496)])||(0x0,Z[_0x174f5b(0x469)])(_0x1850b1[_0x174f5b(0x68f)][_0x174f5b(0x496)]))return await this[_0x174f5b(0x495)][_0x174f5b(0x37c)][_0x339346][_0x174f5b(0x5b8)](_0x1850b1);throw new m(_0x174f5b(0x3e0));}async['sendWhatsAppAudio']({instanceName:_0x185466},_0x282e22){const _0x5b18cd=a0_0x1f4c2a;if((0x0,Z[_0x5b18cd(0xf5)])(_0x282e22['audioMessage']['audio'])||(0x0,Z['isBase64'])(_0x282e22['audioMessage'][_0x5b18cd(0x5c1)]))return await this['waMonitor'][_0x5b18cd(0x37c)][_0x185466]['audioWhatsapp'](_0x282e22);throw new m(_0x5b18cd(0x3e0));}async[a0_0x1f4c2a(0x50e)]({instanceName:_0x2532bb},_0x5db822){const _0x689c85=a0_0x1f4c2a;if((0x0,Z[_0x689c85(0x469)])(_0x5db822[_0x689c85(0x6e2)][_0x689c85(0x307)]?.[_0x689c85(0x628)])&&!_0x5db822['buttonMessage'][_0x689c85(0x307)]?.['fileName'])throw new m(_0x689c85(0x4b6));return await this[_0x689c85(0x495)]['waInstances'][_0x2532bb][_0x689c85(0x6e2)](_0x5db822);}async['sendLocation']({instanceName:_0x1c2b23},_0x159f72){const _0xf8c2bc=a0_0x1f4c2a;return await this['waMonitor'][_0xf8c2bc(0x37c)][_0x1c2b23][_0xf8c2bc(0x3eb)](_0x159f72);}async[a0_0x1f4c2a(0x3d7)]({instanceName:_0x2e7616},_0x156892){const _0x20dcb0=a0_0x1f4c2a;return await this[_0x20dcb0(0x495)][_0x20dcb0(0x37c)][_0x2e7616]['pollMessage'](_0x156892);}async[a0_0x1f4c2a(0x504)]({instanceName:_0x433cb9},_0x3d0e45){const _0x4e634f=a0_0x1f4c2a;return await this['waMonitor']['waInstances'][_0x433cb9][_0x4e634f(0xc5)](_0x3d0e45);}async[a0_0x1f4c2a(0xe8)]({instanceName:_0x4fe949},_0x5bb165){const _0x57459e=a0_0x1f4c2a;return await this[_0x57459e(0x495)]['waInstances'][_0x4fe949]['contactMessage'](_0x5bb165);}async['sendReaction']({instanceName:_0x1b9637},_0x1ae824){const _0x5782d1=a0_0x1f4c2a;if(!_0x1ae824[_0x5782d1(0x647)][_0x5782d1(0x4b2)][_0x5782d1(0x739)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this['waMonitor']['waInstances'][_0x1b9637][_0x5782d1(0x647)](_0x1ae824);}async[a0_0x1f4c2a(0x4bd)]({instanceName:_0x3f3cab},_0x1a86c7){const _0xf34f03=a0_0x1f4c2a;return await this[_0xf34f03(0x495)][_0xf34f03(0x37c)][_0x3f3cab][_0xf34f03(0x41f)](_0x1a86c7);}},Cr=require('jsonwebtoken'),As=require('uuid'),Ut=class c{constructor(_0x4a0030,_0x9701cc,_0x8cc2b3){const _0x2d059d=a0_0x1f4c2a;this[_0x2d059d(0x1a6)]=_0x4a0030,this[_0x2d059d(0x495)]=_0x9701cc,this[_0x2d059d(0x16a)]=_0x8cc2b3,this[_0x2d059d(0x3fa)]=new v(c[_0x2d059d(0x471)]);}async[a0_0x1f4c2a(0x151)](_0x40c97c){const _0x150535=a0_0x1f4c2a;let _0xca2641=this['configService'][_0x150535(0x67a)](_0x150535(0x2f9))[_0x150535(0x11f)],_0x119b97=(0x0,Cr[_0x150535(0xf3)])({'instanceName':_0x40c97c[_0x150535(0x2c5)],'apiName':ze,'tokenId':(0x0,As['v4'])()},_0xca2641[_0x150535(0x1ec)],{'expiresIn':_0xca2641[_0x150535(0x571)],'encoding':'utf8','subject':_0x150535(0x3fe)}),_0x4d5e0e=await this[_0x150535(0x16a)][_0x150535(0x5c8)][_0x150535(0x59f)]({'jwt':_0x119b97},_0x40c97c[_0x150535(0x2c5)]);if(_0x4d5e0e['error'])throw this[_0x150535(0x3fa)][_0x150535(0x513)]({'localError':c[_0x150535(0x471)]+_0x150535(0x6e3),'error':_0x4d5e0e[_0x150535(0x513)]}),new m(_0x150535(0x155),_0x4d5e0e[_0x150535(0x513)]?.[_0x150535(0x6f3)]());return{'jwt':_0x119b97};}async[a0_0x1f4c2a(0x690)](_0x371959){const _0x5eebf0=a0_0x1f4c2a;let _0x4c5f94=(0x0,As['v4'])()[_0x5eebf0(0x63f)](),_0x5c87e3=await this[_0x5eebf0(0x16a)][_0x5eebf0(0x5c8)][_0x5eebf0(0x59f)]({'apikey':_0x4c5f94},_0x371959['instanceName']);if(_0x5c87e3[_0x5eebf0(0x513)])throw this['logger'][_0x5eebf0(0x513)]({'localError':c[_0x5eebf0(0x471)]+'.jwt','error':_0x5c87e3[_0x5eebf0(0x513)]}),new m(_0x5eebf0(0x155),_0x5c87e3['error']?.[_0x5eebf0(0x6f3)]());return{'apikey':_0x4c5f94};}async[a0_0x1f4c2a(0x38c)](_0x3c4218){const _0x39c688=a0_0x1f4c2a;let _0x594886=this[_0x39c688(0x1a6)][_0x39c688(0x67a)](_0x39c688(0x2f9));return await this[_0x594886['TYPE']](_0x3c4218);}},qt=class{constructor(_0x2b7ade){const _0x4709a9=a0_0x1f4c2a;this[_0x4709a9(0x495)]=_0x2b7ade;}async['createGroup'](_0x1f38f1,_0x54908e){const _0x5c88a8=a0_0x1f4c2a;return await this['waMonitor'][_0x5c88a8(0x37c)][_0x1f38f1[_0x5c88a8(0x2c5)]]['createGroup'](_0x54908e);}async[a0_0x1f4c2a(0x502)](_0x280eda,_0x17903f){const _0x3153bd=a0_0x1f4c2a;return await this[_0x3153bd(0x495)][_0x3153bd(0x37c)][_0x280eda['instanceName']][_0x3153bd(0x502)](_0x17903f);}async[a0_0x1f4c2a(0x619)](_0xe9f4d4,_0x430216){const _0x480e45=a0_0x1f4c2a;return await this[_0x480e45(0x495)][_0x480e45(0x37c)][_0xe9f4d4[_0x480e45(0x2c5)]]['groupDesc'](_0x430216);}async[a0_0x1f4c2a(0xeb)](_0x105c6f,_0x440d11){const _0x4f23ef=a0_0x1f4c2a;return await this[_0x4f23ef(0x495)]['waInstances'][_0x105c6f[_0x4f23ef(0x2c5)]][_0x4f23ef(0xeb)](_0x440d11);}async[a0_0x1f4c2a(0x143)](_0x43ddad,_0x54b08a){const _0x2f64ea=a0_0x1f4c2a;return await this[_0x2f64ea(0x495)][_0x2f64ea(0x37c)][_0x43ddad['instanceName']][_0x2f64ea(0x143)](_0x54b08a);}async[a0_0x1f4c2a(0x5e6)](_0x59b063,_0x274682){const _0x22184e=a0_0x1f4c2a;return await this[_0x22184e(0x495)][_0x22184e(0x37c)][_0x59b063[_0x22184e(0x2c5)]][_0x22184e(0x6aa)](_0x274682);}async[a0_0x1f4c2a(0x73b)](_0x16800e){const _0x19d040=a0_0x1f4c2a;return await this['waMonitor']['waInstances'][_0x16800e[_0x19d040(0x2c5)]][_0x19d040(0x73b)]();}async[a0_0x1f4c2a(0x16f)](_0x3b52fb,_0x2542a9){const _0x1e5ac3=a0_0x1f4c2a;return await this['waMonitor'][_0x1e5ac3(0x37c)][_0x3b52fb[_0x1e5ac3(0x2c5)]][_0x1e5ac3(0x16f)](_0x2542a9);}async['joinGroup'](_0x2e6467,_0x11698d){const _0x1bc068=a0_0x1f4c2a;return await this['waMonitor'][_0x1bc068(0x37c)][_0x2e6467['instanceName']][_0x1bc068(0x720)](_0x11698d);}async[a0_0x1f4c2a(0x20c)](_0x4ad6ba,_0x1efbc0){const _0x3385be=a0_0x1f4c2a;return await this['waMonitor'][_0x3385be(0x37c)][_0x4ad6ba['instanceName']][_0x3385be(0x20c)](_0x1efbc0);}async['findParticipants'](_0x10a600,_0x3b2c1d){const _0x208b6f=a0_0x1f4c2a;return await this[_0x208b6f(0x495)]['waInstances'][_0x10a600[_0x208b6f(0x2c5)]]['findParticipants'](_0x3b2c1d);}async[a0_0x1f4c2a(0x47f)](_0xa82229,_0x28a86d){const _0x520d87=a0_0x1f4c2a;return await this[_0x520d87(0x495)][_0x520d87(0x37c)][_0xa82229[_0x520d87(0x2c5)]][_0x520d87(0x1c0)](_0x28a86d);}async[a0_0x1f4c2a(0x440)](_0x22abb6,_0x553cb1){const _0x139d98=a0_0x1f4c2a;return await this['waMonitor'][_0x139d98(0x37c)][_0x22abb6[_0x139d98(0x2c5)]][_0x139d98(0x440)](_0x553cb1);}async[a0_0x1f4c2a(0x197)](_0x40bf0d,_0x35c7b1){const _0x7d747f=a0_0x1f4c2a;return await this[_0x7d747f(0x495)][_0x7d747f(0x37c)][_0x40bf0d[_0x7d747f(0x2c5)]]['leaveGroup'](_0x35c7b1);}},Jt=class{constructor(_0x33d74c){const _0x5b0236=a0_0x1f4c2a;this[_0x5b0236(0x495)]=_0x33d74c;}[a0_0x1f4c2a(0x59f)](_0x58d933,_0x136ed5){const _0x486686=a0_0x1f4c2a;return this['waMonitor']['waInstances'][_0x58d933[_0x486686(0x2c5)]][_0x486686(0x36a)](_0x136ed5);}async['find'](_0x2b392c){const _0x5eeedf=a0_0x1f4c2a;try{return await this[_0x5eeedf(0x495)][_0x5eeedf(0x37c)][_0x2b392c[_0x5eeedf(0x2c5)]][_0x5eeedf(0x4e0)]();}catch{return{'enabled':null,'url':''};}}},Xd=new v(a0_0x1f4c2a(0x1f8)),Vt=class{constructor(_0x1522fd){const _0x43e447=a0_0x1f4c2a;this[_0x43e447(0x495)]=_0x1522fd;}async[a0_0x1f4c2a(0x30e)](_0x394004,_0x12bb89){const _0x21abac=a0_0x1f4c2a;return await this[_0x21abac(0x495)]['waInstances'][_0x394004[_0x21abac(0x2c5)]][_0x21abac(0x30e)](_0x12bb89);}async[a0_0x1f4c2a(0x598)](_0x2b9d2a){const _0x38f42d=a0_0x1f4c2a;return await this[_0x38f42d(0x495)][_0x38f42d(0x37c)][_0x2b9d2a[_0x38f42d(0x2c5)]][_0x38f42d(0x598)]();}async['deleteDoneMessages'](_0x38575b){const _0x158ffe=a0_0x1f4c2a;return await this['waMonitor'][_0x158ffe(0x37c)][_0x38575b['instanceName']]['deleteDoneMessages']();}async['getAutomateSystem'](_0x3e3480){const _0x3bc8dd=a0_0x1f4c2a;return await this['waMonitor'][_0x3bc8dd(0x37c)][_0x3e3480['instanceName']][_0x3bc8dd(0x228)]();}async[a0_0x1f4c2a(0x2ad)](_0x16a8d7,_0x56920e){const _0xc333a7=a0_0x1f4c2a;return await this[_0xc333a7(0x495)]['waInstances'][_0x16a8d7['instanceName']][_0xc333a7(0x2ad)](_0x56920e);}async[a0_0x1f4c2a(0x3b0)](_0x1e1b14,_0x23c38c){const _0x2c1ffe=a0_0x1f4c2a;return await this[_0x2c1ffe(0x495)]['waInstances'][_0x1e1b14[_0x2c1ffe(0x2c5)]][_0x2c1ffe(0x3b0)](_0x23c38c);}async[a0_0x1f4c2a(0xe2)](_0x1083fb,_0x354dc3){const _0x1708b1=a0_0x1f4c2a;return await this[_0x1708b1(0x495)]['waInstances'][_0x1083fb[_0x1708b1(0x2c5)]][_0x1708b1(0xe2)](_0x354dc3);}async[a0_0x1f4c2a(0x4f0)](_0x43b08f,_0x2fcf81){const _0xffabd1=a0_0x1f4c2a;return await this[_0xffabd1(0x495)][_0xffabd1(0x37c)][_0x43b08f['instanceName']][_0xffabd1(0x4f0)](_0x2fcf81);}async['getConversation'](_0x5b5d64,_0x419f16){const _0xb25459=a0_0x1f4c2a;return await this[_0xb25459(0x495)][_0xb25459(0x37c)][_0x5b5d64[_0xb25459(0x2c5)]][_0xb25459(0x5a4)](_0x419f16);}async['fetchConversation'](_0x15232d,_0x37a2de){const _0x38fc07=a0_0x1f4c2a;return await this[_0x38fc07(0x495)][_0x38fc07(0x37c)][_0x15232d[_0x38fc07(0x2c5)]]['fetchConversation'](_0x37a2de);}async[a0_0x1f4c2a(0x55d)](_0x34db22,_0x40a8b2){const _0x438ec0=a0_0x1f4c2a;return await this[_0x438ec0(0x495)][_0x438ec0(0x37c)][_0x34db22[_0x438ec0(0x2c5)]][_0x438ec0(0x55d)](_0x40a8b2);}async[a0_0x1f4c2a(0x5f7)](_0x5565eb,_0x2f8b9d){const _0x113282=a0_0x1f4c2a;return await this[_0x113282(0x495)]['waInstances'][_0x5565eb[_0x113282(0x2c5)]][_0x113282(0x5f7)](_0x2f8b9d);}async[a0_0x1f4c2a(0x6f9)](_0x351f63,_0x3f2ac8){const _0x48fec0=a0_0x1f4c2a;return await this[_0x48fec0(0x495)][_0x48fec0(0x37c)][_0x351f63[_0x48fec0(0x2c5)]]['getFlow'](_0x3f2ac8[_0x48fec0(0x471)]);}async[a0_0x1f4c2a(0x57c)](_0x328b53,_0x335f50){const _0x15e704=a0_0x1f4c2a;return await this['waMonitor'][_0x15e704(0x37c)][_0x328b53[_0x15e704(0x2c5)]][_0x15e704(0x57c)](_0x335f50);}async[a0_0x1f4c2a(0x72b)](_0x18deb0,_0x10ab11){const _0x4a3a8c=a0_0x1f4c2a;return await this[_0x4a3a8c(0x495)][_0x4a3a8c(0x37c)][_0x18deb0[_0x4a3a8c(0x2c5)]][_0x4a3a8c(0x72b)](_0x10ab11);}async[a0_0x1f4c2a(0x28a)](_0x5cfa33,_0x354e73){const _0x2f829c=a0_0x1f4c2a;return await this[_0x2f829c(0x495)]['waInstances'][_0x5cfa33[_0x2f829c(0x2c5)]][_0x2f829c(0x28a)](_0x354e73);}async[a0_0x1f4c2a(0x6ff)](_0x3c4419,_0x5f2e2a){const _0x155308=a0_0x1f4c2a;return await this['waMonitor'][_0x155308(0x37c)][_0x3c4419['instanceName']]['editFlowReply'](_0x5f2e2a);}async['editFlowGroup'](_0x57c479,_0x5c29ce){const _0x2c800a=a0_0x1f4c2a;return await this[_0x2c800a(0x495)]['waInstances'][_0x57c479[_0x2c800a(0x2c5)]]['editFlowGroup'](_0x5c29ce);}async[a0_0x1f4c2a(0x52f)](_0x2390dd,_0x144d31){const _0x3a5677=a0_0x1f4c2a;return await this[_0x3a5677(0x495)][_0x3a5677(0x37c)][_0x2390dd[_0x3a5677(0x2c5)]][_0x3a5677(0x52f)](_0x144d31);}async[a0_0x1f4c2a(0x3c2)](_0x3c232f,_0x16cd41){const _0x4323d9=a0_0x1f4c2a;return await this[_0x4323d9(0x495)][_0x4323d9(0x37c)][_0x3c232f[_0x4323d9(0x2c5)]][_0x4323d9(0x3c2)](_0x16cd41);}async[a0_0x1f4c2a(0x5f8)](_0x345e2c,_0x5edd46){const _0x38aeb0=a0_0x1f4c2a;return await this[_0x38aeb0(0x495)][_0x38aeb0(0x37c)][_0x345e2c[_0x38aeb0(0x2c5)]][_0x38aeb0(0x5f8)](_0x5edd46);}async[a0_0x1f4c2a(0x5b4)](_0x909c2b,_0x2e3777){const _0x2c2366=a0_0x1f4c2a;return await this[_0x2c2366(0x495)][_0x2c2366(0x37c)][_0x909c2b[_0x2c2366(0x2c5)]][_0x2c2366(0x5b4)](_0x2e3777[_0x2c2366(0x471)]);}async[a0_0x1f4c2a(0x382)](_0x256c7e){const _0x17a6e3=a0_0x1f4c2a;return await this[_0x17a6e3(0x495)][_0x17a6e3(0x37c)][_0x256c7e[_0x17a6e3(0x2c5)]][_0x17a6e3(0x382)]();}},Bt=class{constructor(_0x1828e8){const _0x2be58f=a0_0x1f4c2a;this[_0x2be58f(0x14c)]=_0x1828e8;}async['createWebhook'](_0x187dab,_0x2f49c1){const _0x4d3592=a0_0x1f4c2a;return this[_0x4d3592(0x14c)][_0x4d3592(0x59f)](_0x187dab,_0x2f49c1);}async[a0_0x1f4c2a(0x4e0)](_0x2a1bfa){return this['webhookService']['find'](_0x2a1bfa);}},Gt=class extends I{constructor(_0x5b2800,_0x4c24d6){const _0x13687c=a0_0x1f4c2a;super(_0x4c24d6),this[_0x13687c(0x368)]=_0x5b2800,this[_0x13687c(0x1a6)]=_0x4c24d6;}async[a0_0x1f4c2a(0x59f)](_0x4b82ee,_0x56eede){const _0x2dd836=a0_0x1f4c2a;try{return this[_0x2dd836(0x161)][_0x2dd836(0x177)]?{'insertCount':(await this['webhookModel']['replaceOne']({'_id':_0x56eede},{..._0x4b82ee},{'upsert':!0x0}))[_0x2dd836(0x4a6)]}:{'insertCount':0x1};}catch(_0x6c6d51){return _0x6c6d51;}}async[a0_0x1f4c2a(0x62c)](_0x3c33b7){const _0x47deb0=a0_0x1f4c2a;try{if(this[_0x47deb0(0x161)][_0x47deb0(0x177)]){await this[_0x47deb0(0x368)][_0x47deb0(0x326)]({'_id':_0x3c33b7});return;}}catch(_0x233c00){return{'error':_0x233c00};}}async[a0_0x1f4c2a(0x34c)](_0x45b554){const _0x4f6e39=a0_0x1f4c2a;try{if(this[_0x4f6e39(0x161)][_0x4f6e39(0x177)])return await this[_0x4f6e39(0x368)][_0x4f6e39(0x712)]({'_id':_0x45b554});}catch{return{};}}},Wt=class extends I{constructor(_0x1a47bc,_0x4cbb3d){const _0x42d2d9=a0_0x1f4c2a;super(_0x4cbb3d),this[_0x42d2d9(0x2fc)]=_0x1a47bc,this[_0x42d2d9(0x1a6)]=_0x4cbb3d,this['auth']=_0x4cbb3d[_0x42d2d9(0x67a)]('AUTHENTICATION');}async['create'](_0x1ba725,_0x440b9a){const _0x254499=a0_0x1f4c2a;try{if(this[_0x254499(0x161)][_0x254499(0x177)])return{'insertCount':(await this[_0x254499(0x2fc)]['updateOne']({'_id':_0x440b9a},{'$set':{..._0x1ba725}},{'upsert':!0x0}))[_0x254499(0x4a6)]};}catch(_0x12035d){return{'error':_0x12035d};}}async['updateAll'](_0x25f86c,_0x3e782d){const _0x13c929=a0_0x1f4c2a;try{if(this[_0x13c929(0x161)]['ENABLED'])return{'insertCount':(await this[_0x13c929(0x2fc)][_0x13c929(0x335)](_0x25f86c,{'$set':_0x3e782d},{'upsert':!0x1}))[_0x13c929(0x4a6)]};throw new Error(_0x13c929(0x474));}catch(_0x5718c1){return{'error':_0x5718c1};}}async[a0_0x1f4c2a(0x468)](_0x1d6870){const _0x264968=a0_0x1f4c2a;try{if(this['dbSettings'][_0x264968(0x177)])return{'insertCount':(await this[_0x264968(0x2fc)]['deleteMany'](_0x1d6870))['deletedCount']};throw new Error(_0x264968(0x474));}catch(_0x369b55){return{'error':_0x369b55};}}async[a0_0x1f4c2a(0x62c)](_0x5ca369){const _0x1dd1f7=a0_0x1f4c2a;try{if(this[_0x1dd1f7(0x161)]['ENABLED']){await this[_0x1dd1f7(0x2fc)][_0x1dd1f7(0x326)]({'_id':_0x5ca369});return;}}catch(_0xb0cdf9){return{'error':_0xb0cdf9};}}async[a0_0x1f4c2a(0x34c)](_0x4e8ac9){const _0x55286b=a0_0x1f4c2a;try{if(this[_0x55286b(0x161)][_0x55286b(0x177)])return await this['authModel'][_0x55286b(0x712)]({'_id':_0x4e8ac9});}catch{return{};}}async[a0_0x1f4c2a(0x6b9)](){const _0x351b25=a0_0x1f4c2a;try{if(this[_0x351b25(0x161)][_0x351b25(0x177)])return await this[_0x351b25(0x2fc)][_0x351b25(0x34c)]();}catch{return[];}}},zt=class extends I{[a0_0x1f4c2a(0x668)](_0x4aaea9){return aa(_0x4aaea9);}async[a0_0x1f4c2a(0x6af)](_0x524023){const _0x4b21bd=a0_0x1f4c2a;try{let _0x2acb5a=ra,_0x407b02=this['getFlowModelForOwner'](_0x524023),_0x192fe2=await _0x2acb5a[_0x4b21bd(0x34c)]({'owner':_0x524023})[_0x4b21bd(0x14f)](),_0x143f14=[],_0x3e50c0=[];for(let _0x51ddfa of _0x192fe2)await _0x407b02[_0x4b21bd(0x1c2)](_0x51ddfa[_0x4b21bd(0x273)])[_0x4b21bd(0x14f)]()||(_0x143f14[_0x4b21bd(0x597)](_0x51ddfa),_0x3e50c0[_0x4b21bd(0x597)](_0x51ddfa[_0x4b21bd(0x273)]));return _0x143f14[_0x4b21bd(0x4c0)]>0x0&&await _0x407b02[_0x4b21bd(0x1ac)](_0x143f14,{'ordered':!0x1}),{'success':!0x0};}catch(_0x202184){return console['error']('Erro\x20ao\x20copiar\x20dados:',_0x202184),{'success':!0x1,'error':_0x202184};}}async[a0_0x1f4c2a(0x62c)](_0x5a5f6c,_0x46c9d9){const _0x21e3c6=a0_0x1f4c2a;try{let _0xe00072=this[_0x21e3c6(0x668)](_0x46c9d9),_0x3abaef=A(_0x5a5f6c[_0x21e3c6(0x45e)]);return{'deletedCount':(await _0xe00072['deleteMany'](_0x3abaef))[_0x21e3c6(0x574)]};}catch(_0x25e1f9){return{'error':_0x25e1f9?.['toString']()};}}async[a0_0x1f4c2a(0x326)](_0x23e63e,_0x27450e){const _0x55dc5b=a0_0x1f4c2a;try{let _0x931c01=this['getFlowModelForOwner'](_0x27450e),_0x17bb80=A(_0x23e63e[_0x55dc5b(0x45e)]);return{'deletedCount':(await _0x931c01[_0x55dc5b(0x326)](_0x17bb80))['deletedCount']};}catch(_0x551d4e){return{'error':_0x551d4e?.[_0x55dc5b(0x6f3)]()};}}async[a0_0x1f4c2a(0x25b)](_0xeae4e0,_0xdad553,_0x410cb3){const _0x1cac86=a0_0x1f4c2a;try{return await this[_0x1cac86(0x668)](_0x410cb3)[_0x1cac86(0x5c2)](_0xeae4e0,_0xdad553,{'new':!0x0});}catch(_0x3f5ca0){return console['error'](_0x1cac86(0x1b0),_0x3f5ca0),null;}}async[a0_0x1f4c2a(0x48e)](_0x6ace44,_0x16e738){const _0x58a9a7=a0_0x1f4c2a;try{let _0xb984bf=this[_0x58a9a7(0x668)](_0x16e738);return await new _0xb984bf(_0x6ace44)[_0x58a9a7(0x5c6)]();}catch(_0x4af029){return console[_0x58a9a7(0x513)](_0x58a9a7(0x553),_0x4af029),null;}}async[a0_0x1f4c2a(0x335)](_0xd8d02e,_0x4c750b,_0xc0d392){const _0x49e533=a0_0x1f4c2a;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0xc0d392)[_0x49e533(0x335)](_0xd8d02e,{'$set':_0x4c750b}))[_0x49e533(0x4a6)]};}catch(_0xf79c95){return console[_0x49e533(0x513)](_0x49e533(0x13d),_0xf79c95),{'error':_0xf79c95};}}async[a0_0x1f4c2a(0x6b9)](_0x3096af,_0x4c31e6){const _0x204b40=a0_0x1f4c2a;try{let _0x5962ac=this[_0x204b40(0x668)](_0x4c31e6),_0x2fd48d=A(_0x3096af[_0x204b40(0x45e)]);return await _0x5962ac[_0x204b40(0x34c)](_0x2fd48d)['limit'](_0x3096af?.[_0x204b40(0x3a5)]??0x0)[_0x204b40(0x14f)]();}catch{return[];}}async[a0_0x1f4c2a(0x712)](_0x23e70c,_0x5a9908){const _0x36c3de=a0_0x1f4c2a;try{let _0x45a435=this[_0x36c3de(0x668)](_0x5a9908),_0x3ac196=A(_0x23e70c[_0x36c3de(0x45e)]);return await _0x45a435[_0x36c3de(0x712)](_0x3ac196)['lean']();}catch{return null;}}async['deleteAll'](_0x412e49){const _0x3d8cac=a0_0x1f4c2a;try{return await this['getFlowModelForOwner'](_0x412e49)[_0x3d8cac(0x498)][_0x3d8cac(0x606)](),{'success':!0x0};}catch(_0x1bf688){return console[_0x3d8cac(0x513)](_0x1bf688),{'success':!0x1,'error':_0x1bf688};}}},Ht=class extends I{[a0_0x1f4c2a(0x4ff)](_0x2c33d7){return oa(_0x2c33d7);}async[a0_0x1f4c2a(0x6af)](_0x20236a){const _0x20a6dc=a0_0x1f4c2a;try{let _0x10d1d9=na,_0x5a54dc=this[_0x20a6dc(0x4ff)](_0x20236a),_0x241756=await _0x10d1d9[_0x20a6dc(0x34c)]({'owner':_0x20236a})[_0x20a6dc(0x14f)](),_0x4c7e4f=[],_0x32c253=[];for(let _0x5bd87e of _0x241756)await _0x5a54dc[_0x20a6dc(0x1c2)](_0x5bd87e[_0x20a6dc(0x273)])[_0x20a6dc(0x14f)]()||(_0x4c7e4f['push'](_0x5bd87e),_0x32c253['push'](_0x5bd87e['_id']));return _0x4c7e4f[_0x20a6dc(0x4c0)]>0x0&&await _0x5a54dc[_0x20a6dc(0x1ac)](_0x4c7e4f,{'ordered':!0x1}),{'success':!0x0};}catch(_0x35b41a){return console[_0x20a6dc(0x513)](_0x20a6dc(0x59e),_0x35b41a),{'success':!0x1,'error':_0x35b41a};}}async[a0_0x1f4c2a(0x2d2)](_0x1442b2){const _0x42836c=a0_0x1f4c2a;if(_0x1442b2['length']!==0x0)try{return{'insertCount':(await this[_0x42836c(0x4ff)](_0x1442b2[0x0][_0x42836c(0x5b5)])[_0x42836c(0x1ac)]([..._0x1442b2]))[_0x42836c(0x4c0)]};}catch(_0x3f8409){return _0x3f8409;}}async[a0_0x1f4c2a(0x62c)](_0x720eb1,_0x12fbfa){const _0x440d79=a0_0x1f4c2a;try{let _0x499009=this[_0x440d79(0x4ff)](_0x12fbfa),_0xfcb42d=A(_0x720eb1['where']);return{'deletedCount':(await _0x499009[_0x440d79(0x468)](_0xfcb42d))['deletedCount']};}catch(_0x3cff06){return{'error':_0x3cff06?.[_0x440d79(0x6f3)]()};}}async[a0_0x1f4c2a(0x326)](_0x5c1fee,_0x1175d1){const _0x14f13c=a0_0x1f4c2a;try{let _0x4859c2=this[_0x14f13c(0x4ff)](_0x1175d1),_0x513575=A(_0x5c1fee[_0x14f13c(0x45e)]);return{'deletedCount':(await _0x4859c2['deleteOne'](_0x513575))[_0x14f13c(0x574)]};}catch(_0x1d3145){return{'error':_0x1d3145?.[_0x14f13c(0x6f3)]()};}}async['update'](_0x3de75e,_0x361475){const _0x415392=a0_0x1f4c2a;try{if(_0x3de75e[_0x415392(0x4c0)]===0x0)return;let _0x18debe=this[_0x415392(0x4ff)](_0x361475),_0x4e43c9=_0x3de75e[_0x415392(0x441)](_0x58cf21=>({'updateOne':{'filter':{'name':_0x58cf21[_0x415392(0x471)],'owner':_0x361475},'update':{..._0x58cf21}}})),{modifiedCount:_0x46e840}=await _0x18debe[_0x415392(0x532)](_0x4e43c9);return{'insertCount':_0x46e840};}catch{return;}}async[a0_0x1f4c2a(0x335)](_0x2fec4e,_0x2383d3,_0x3caa7e){const _0x218177=a0_0x1f4c2a;try{return{'modifiedCount':(await this[_0x218177(0x4ff)](_0x3caa7e)[_0x218177(0x335)](_0x2fec4e,{'$set':_0x2383d3}))['modifiedCount']};}catch(_0x33fbca){return console['error']('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x33fbca),{'error':_0x33fbca};}}async[a0_0x1f4c2a(0x25b)](_0x3f5044,_0x14146f,_0x2187e8){const _0x24b69a=a0_0x1f4c2a;try{return await this[_0x24b69a(0x4ff)](_0x2187e8)['findOneAndUpdate']({'_id':_0x3f5044},{'$set':_0x14146f},{'new':!0x0,'upsert':!0x0})[_0x24b69a(0x14f)]();}catch(_0x3f23ed){return console[_0x24b69a(0x513)](_0x3f23ed),null;}}async[a0_0x1f4c2a(0x34c)](_0x267484,_0x27414b){const _0x539ff2=a0_0x1f4c2a;try{return await this[_0x539ff2(0x4ff)](_0x27414b)[_0x539ff2(0x34c)](_0x267484)[_0x539ff2(0x24b)]({'lastInteraction':-0x1})[_0x539ff2(0x14f)]();}catch{return[];}}async[a0_0x1f4c2a(0x712)](_0x1e6c15,_0x19ef93){const _0xee88b8=a0_0x1f4c2a;try{return await this['getConversationModelForOwner'](_0x19ef93)[_0xee88b8(0x712)]({..._0x1e6c15[_0xee88b8(0x45e)]})['lean']();}catch{return null;}}async[a0_0x1f4c2a(0x50f)](_0xe9cc1a){const _0x302cda=a0_0x1f4c2a;try{return await this['getConversationModelForOwner'](_0xe9cc1a)[_0x302cda(0x498)][_0x302cda(0x606)](),{'success':!0x0};}catch(_0xf6b950){return console[_0x302cda(0x513)](_0xf6b950),{'success':!0x1,'error':_0xf6b950};}}},Kt=class extends I{[a0_0x1f4c2a(0x6b6)](_0x496960){return la(_0x496960);}async[a0_0x1f4c2a(0x6af)](_0x42ee02){const _0x211dba=a0_0x1f4c2a;try{let _0x1c59c4=ua,_0x1805b1=this[_0x211dba(0x6b6)](_0x42ee02),_0x75f87c=await _0x1c59c4[_0x211dba(0x34c)]({'owner':_0x42ee02})[_0x211dba(0x14f)](),_0x2b6515=[],_0x12773d=[];for(let _0x5470ba of _0x75f87c)await _0x1805b1['findById'](_0x5470ba[_0x211dba(0x273)])[_0x211dba(0x14f)]()||(_0x2b6515[_0x211dba(0x597)](_0x5470ba),_0x12773d[_0x211dba(0x597)](_0x5470ba['_id']));return _0x2b6515[_0x211dba(0x4c0)]>0x0&&await _0x1805b1[_0x211dba(0x1ac)](_0x2b6515,{'ordered':!0x1}),{'success':!0x0};}catch(_0x365e37){return console['error'](_0x211dba(0x59e),_0x365e37),{'success':!0x1,'error':_0x365e37};}}async['createAndSave'](_0xcd3fcf,_0x6885d5){const _0x1a4851=a0_0x1f4c2a;try{let _0x56a50d=this[_0x1a4851(0x6b6)](_0x6885d5);return await new _0x56a50d(_0xcd3fcf)[_0x1a4851(0x5c6)]();}catch(_0x28457d){return console[_0x1a4851(0x513)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x28457d),null;}}async[a0_0x1f4c2a(0x326)](_0x2b5736,_0x52d2b9){try{return await this['getScheduleMessageModelForOwner'](_0x52d2b9)['findByIdAndDelete'](_0x2b5736),{};}catch(_0x9f20ab){return{'error':_0x9f20ab?.['toString']()};}}async[a0_0x1f4c2a(0x25b)](_0x512c44,_0x1a9a41,_0x21884d){const _0x55ce37=a0_0x1f4c2a;try{return await this[_0x55ce37(0x6b6)](_0x21884d)[_0x55ce37(0x5a8)](_0x512c44,{'$set':_0x1a9a41},{'new':!0x0})[_0x55ce37(0x14f)]();}catch(_0x267531){return console[_0x55ce37(0x513)](_0x55ce37(0x10b),_0x267531),null;}}async['updateOneById'](_0x57b2f7,_0xa6bfbc,_0x3cd37c){const _0x39478b=a0_0x1f4c2a;try{return await this[_0x39478b(0x6b6)](_0x3cd37c)['findByIdAndUpdate'](_0x57b2f7,_0xa6bfbc,{'new':!0x0})[_0x39478b(0x14f)]();}catch(_0x9fa8ec){return console['error'](_0x39478b(0x10b),_0x9fa8ec),null;}}async[a0_0x1f4c2a(0x34c)](_0x5b7202,_0x522a2c){const _0x593637=a0_0x1f4c2a;try{return await this[_0x593637(0x6b6)](_0x522a2c)['find'](_0x5b7202['where'])[_0x593637(0x3a5)](_0x5b7202?.['limit']??0x0)[_0x593637(0x24b)]({'when':0x1})[_0x593637(0x14f)]();}catch{return[];}}async[a0_0x1f4c2a(0x712)](_0x4cd11a,_0xf55db9){const _0x1f9c11=a0_0x1f4c2a;try{return await this[_0x1f9c11(0x6b6)](_0xf55db9)[_0x1f9c11(0x712)](_0x4cd11a['where'])[_0x1f9c11(0x24b)]({'when':0x1})[_0x1f9c11(0x14f)]();}catch{return null;}}async['findById'](_0x4b1ece,_0xbe1668){const _0x39e7f3=a0_0x1f4c2a;try{return await this[_0x39e7f3(0x6b6)](_0xbe1668)[_0x39e7f3(0x1c2)](_0x4b1ece)[_0x39e7f3(0x14f)]();}catch{return null;}}async[a0_0x1f4c2a(0x468)](_0x1f3618,_0x21ba7f){const _0x2a23a5=a0_0x1f4c2a;try{return{'deletedCount':(await this[_0x2a23a5(0x6b6)](_0x21ba7f)[_0x2a23a5(0x468)](_0x1f3618))[_0x2a23a5(0x574)]};}catch(_0x5b05e2){return console[_0x2a23a5(0x513)](_0x2a23a5(0x4c2),_0x5b05e2),{'error':_0x5b05e2};}}async['deleteAll'](_0x252d44){const _0x3f7163=a0_0x1f4c2a;try{return await this[_0x3f7163(0x6b6)](_0x252d44)[_0x3f7163(0x498)][_0x3f7163(0x606)](),{'success':!0x0};}catch(_0x538292){return console['error'](_0x538292),{'success':!0x1,'error':_0x538292};}}},Qt=class extends I{async[a0_0x1f4c2a(0x64d)](_0x3c0fc6,_0x25895b){const _0x593f2f=a0_0x1f4c2a;try{if(this[_0x593f2f(0x161)][_0x593f2f(0x177)]){let _0x2e037b=await Pe[_0x593f2f(0x5a8)]({'_id':_0x25895b},{'$set':_0x3c0fc6},{'new':!0x0});return console[_0x593f2f(0x2ed)](_0x593f2f(0x115),_0x2e037b),_0x2e037b;}}catch(_0x404c5a){throw console[_0x593f2f(0x513)](_0x593f2f(0x533),_0x404c5a),_0x404c5a;}}async[a0_0x1f4c2a(0x6d8)](_0x5f4fb0){const _0x3f85df=a0_0x1f4c2a;try{let _0x107555=await Pe['findById'](_0x5f4fb0);return _0x107555||(_0x107555=new Pe({'_id':_0x5f4fb0}),await _0x107555['save']()),_0x107555;}catch(_0x2038e5){return console[_0x3f85df(0x513)](_0x3f85df(0x4d4),_0x2038e5),null;}}},yi=new v('WA\x20MODULE'),bi=new Le(b),Si=new $t(b),Ei=new Qe(b),Ci=new Gt(Xs,b),Mi=new Wt(Ks,b),vi=new zt(b),Ni=new kt(b),Ri=new Ht(b),Ti=new Kt(b),Ai=new Qt(b),le=new $e(bi,Si,Ei,Ci,Mi,vi,Ri,Ni,Ti,Ai,N?.['getClient']()),B=new Pt(ss,b,le),Oi=new Ut(b,B,le),Ii=new Jt(B),ms=new Bt(Ii),T=new Vt(B),re=new jt(B,b,le,ss,Oi),G=new Ft(B),x=new Lt(B),F=new qt(B);yi[a0_0x1f4c2a(0x708)](a0_0x1f4c2a(0x1de));var gh=require(a0_0x1f4c2a(0x323)),Os=require('fs'),Mr=R(require(a0_0x1f4c2a(0x5ca))),vr=R(require(a0_0x1f4c2a(0x6d1))),Ne=class c{static #e;static set[a0_0x1f4c2a(0x6cd)](_0x11a2a4){this.#e=_0x11a2a4;}static get[a0_0x1f4c2a(0x5ca)](){const _0x2b4f05=a0_0x1f4c2a;let {FULLCHAIN:_0xc038c1,PRIVKEY:_0x2f22ae}=b[_0x2b4f05(0x67a)]('SSL_CONF');return Mr[_0x2b4f05(0x543)]({'cert':(0x0,Os[_0x2b4f05(0xd6)])(_0xc038c1),'key':(0x0,Os['readFileSync'])(_0x2f22ae)},c.#e);}static get[a0_0x1f4c2a(0x6d1)](){const _0x3ddcd7=a0_0x1f4c2a;return vr[_0x3ddcd7(0x543)](c.#e);}},de=R(require('fs')),Ir=R(require('ini')),Re=R(require('axios')),Ae=R(require(a0_0x1f4c2a(0x196))),Oe=require('child_process');function xi(){const _0x5da35a=a0_0x1f4c2a;B[_0x5da35a(0x156)]();let _0x1fb1f8=Ae[_0x5da35a(0x73c)][_0x5da35a(0x431)](__dirname,'downloads');Or(_0x1fb1f8);}var Or=_0x18dd91=>{const _0x356d79=a0_0x1f4c2a;let _0x57d269=de[_0x356d79(0x73c)][_0x356d79(0x6c8)](_0x18dd91),_0x29360a=0xc*0x3c*0x3c*0x3e8,_0x5ca103=0x2*0x3c*0x3c*0x3e8,_0x4bd494=new Date()[_0x356d79(0x225)]();_0x57d269[_0x356d79(0x67f)](_0x3922c5=>{const _0x127196=_0x356d79;let _0x4af246=Ae[_0x127196(0x73c)][_0x127196(0x431)](_0x18dd91,_0x3922c5),_0x5d217c=de[_0x127196(0x73c)][_0x127196(0x611)](_0x4af246)[_0x127196(0x605)][_0x127196(0x225)]();_0x4bd494-_0x5d217c>_0x29360a&&(de[_0x127196(0x73c)][_0x127196(0x1a0)](_0x4af246),console[_0x127196(0x2ed)](_0x127196(0x1e2)+_0x3922c5));}),setTimeout(()=>Or(_0x18dd91),_0x5ca103);};function Di(){const _0x4b6e38=a0_0x1f4c2a;let _0x2eafa0=new v(_0x4b6e38(0x538)),_0x26eb79=(0x0,pe[_0x4b6e38(0x73c)])();_0x26eb79[_0x4b6e38(0x572)]((0x0,Ar[_0x4b6e38(0x73c)])({'origin'(_0x5aebe9,_0x53fedd){const _0x3a82c2=_0x4b6e38;let {ORIGIN:_0x10d2cb}=b[_0x3a82c2(0x67a)](_0x3a82c2(0x6df));return _0x5aebe9||(_0x5aebe9='*'),_0x10d2cb['indexOf']('*')!==-0x1||_0x10d2cb[_0x3a82c2(0x2e8)](_0x5aebe9)!==-0x1?_0x53fedd(null,!0x0):_0x53fedd(new Error(_0x3a82c2(0x6e9)));},'methods':[...b[_0x4b6e38(0x67a)](_0x4b6e38(0x6df))[_0x4b6e38(0x1fc)]],'credentials':b[_0x4b6e38(0x67a)](_0x4b6e38(0x6df))[_0x4b6e38(0x4c5)]}),(0x0,pe['urlencoded'])({'extended':!0x0,'limit':_0x4b6e38(0x23e)}),(0x0,pe['json'])({'limit':_0x4b6e38(0x23e)})),_0x26eb79[_0x4b6e38(0x572)]((_0x35d9c3,_0x21ba2c,_0x435658)=>{const _0x39e25c=_0x4b6e38;_0x35d9c3['path']['startsWith']('/events')?_0x435658():(0x0,Tr[_0x39e25c(0x73c)])()(_0x35d9c3,_0x21ba2c,_0x435658);}),_0x26eb79[_0x4b6e38(0x229)]('view\x20engine',_0x4b6e38(0x68d)),_0x26eb79['set'](_0x4b6e38(0x3dc),(0x0,xs[_0x4b6e38(0x431)])(ae,'views')),_0x26eb79['use'](pe[_0x4b6e38(0x73c)][_0x4b6e38(0x1df)]((0x0,xs[_0x4b6e38(0x431)])(ae,_0x4b6e38(0x1e4)))),_0x26eb79[_0x4b6e38(0x572)]((_0xb4a2d,_0x2b1692,_0x505a72)=>{const _0x246041=_0x4b6e38;let _0x6a1158=_0x2b1692[_0x246041(0x33d)];_0x2b1692['send']=function(_0xb54c20){const _0x5dd9fb=_0x246041;if(_0xb4a2d[_0x5dd9fb(0x2e3)][_0x5dd9fb(0x280)]===_0x5dd9fb(0x5ef)||_0xb4a2d['headers']['uazapi']===_0x5dd9fb(0x5ef)){let _0x55514b=JSON[_0x5dd9fb(0x4d9)](_0xb54c20);_0xb54c20=JSON[_0x5dd9fb(0x311)](_0x4f300f(_0x55514b));}return _0x6a1158[_0x5dd9fb(0x35a)](_0x2b1692,[_0xb54c20]);},_0x505a72();}),_0x26eb79['use']('/',vt),_0x26eb79[_0x4b6e38(0x572)]((_0xbd3a98,_0x4c02cd,_0xdbc626,_0x31a6dd)=>{const _0x29d348=_0x4b6e38;if(_0xbd3a98)return _0xdbc626[_0x29d348(0x6ac)](_0xbd3a98[_0x29d348(0x6ac)]||0x1f4)[_0x29d348(0x3c7)](_0xbd3a98);},(_0x5a9202,_0x281031,_0x3b408a)=>{const _0x253794=_0x4b6e38;let {method:_0xac7da0,url:_0x3abd98}=_0x5a9202;_0x281031[_0x253794(0x6ac)](0x194)[_0x253794(0x3c7)]({'status':0x194,'message':_0x253794(0xef)+_0xac7da0['toUpperCase']()+'\x20'+_0x3abd98,'error':_0x253794(0x39a)}),_0x3b408a();});let _0x4f300f=(_0x3b9eb5,_0x21a333=_0x4b6e38(0x2cd))=>{const _0x14e6db=_0x4b6e38;let _0x3effb0=(_0x93f2da,_0x4b6bda=null,_0x587d14=!0x1)=>{const _0x41b8d7=a0_0x5a52;let _0x4291e6={};return Object[_0x41b8d7(0x6c4)](_0x93f2da)['forEach'](_0x2153f4=>{const _0x5a9b7f=_0x41b8d7;let _0x2a3ac3=_0x93f2da[_0x2153f4],_0x337540=''+_0x21a333+_0x2153f4;_0x4b6bda&&!_0x587d14&&(_0x337540=_0x4b6bda+'.'+_0x2153f4),!_0x2a3ac3&&_0x2a3ac3!==0x0&&_0x2a3ac3!==!0x1||typeof _0x2a3ac3>'u'?_0x4291e6[_0x337540]=null:typeof _0x2a3ac3!=_0x5a9b7f(0x483)&&!Array[_0x5a9b7f(0x66f)](_0x2a3ac3)?_0x4291e6[_0x337540]=_0x2a3ac3:typeof _0x2a3ac3==_0x5a9b7f(0x483)&&!Array[_0x5a9b7f(0x66f)](_0x2a3ac3)?_0x4291e6=Object['assign'](_0x4291e6,_0x3effb0(_0x2a3ac3,_0x337540)):Array[_0x5a9b7f(0x66f)](_0x2a3ac3)&&(typeof _0x2a3ac3[0x0]=='object'?(_0x4291e6[_0x337540]=[],_0x2a3ac3[_0x5a9b7f(0x67f)](_0x5a7992=>{const _0x519e35=_0x5a9b7f;_0x4291e6[_0x337540][_0x519e35(0x597)](_0x3effb0(_0x5a7992,_0x337540,!0x0));})):_0x4291e6[_0x337540]=_0x2a3ac3);}),_0x4291e6;};return Array[_0x14e6db(0x66f)](_0x3b9eb5)?_0x3b9eb5[_0x14e6db(0x441)](_0x1f42c9=>_0x3effb0(_0x1f42c9)):typeof _0x3b9eb5=='object'&&_0x3b9eb5!==null?_0x3effb0(_0x3b9eb5):{};},_0x302a00=b[_0x4b6e38(0x67a)](_0x4b6e38(0x538));Ne['app']=_0x26eb79;let _0x1aafb3=Ne[_0x302a00[_0x4b6e38(0x6a4)]],_0x35c4b8=_0x4b6e38(0x6cb);_0x1aafb3[_0x4b6e38(0x632)](_0x302a00['PORT'],()=>{const _0x37b18=_0x4b6e38;_0x2eafa0[_0x37b18(0x2ed)](_0x35c4b8),_0x2eafa0['log'](_0x302a00[_0x37b18(0x6a4)]['toUpperCase']()+'\x20-\x20ON:\x20'+_0x302a00[_0x37b18(0x515)]);}),xi(),qs();}var _i='https://github.com/uazapi/uazapi.git',Pi=Ae[a0_0x1f4c2a(0x73c)][a0_0x1f4c2a(0x431)](__dirname,a0_0x1f4c2a(0x57d)),Te=null;function $i(){return new Promise((_0x1c0087,_0x420e69)=>{const _0x53bf58=a0_0x5a52;de['default'][_0x53bf58(0x557)](Pi,_0x53bf58(0x23a),(_0x548a04,_0x5a4055)=>{const _0x3605fc=_0x53bf58;if(_0x548a04){Te=_0x548a04,_0x1c0087();return;}Ir[_0x3605fc(0x73c)]['parse'](_0x5a4055)[_0x3605fc(0x404)][_0x3605fc(0xea)]===_i?(Te=null,_0x1c0087()):(Te=new Error(_0x3605fc(0x2d8)),_0x1c0087());});});}async function ki(){const _0x4d4cd6=a0_0x1f4c2a;try{await $i(),await Ds();}catch(_0x4655f8){console[_0x4d4cd6(0x513)](_0x4d4cd6(0x1c5)+_0x4655f8),process[_0x4d4cd6(0x3ea)](0x1);}}function a0_0x3fa6(){const _0x27ef31=['\x20-\x20retornado:\x20','pop','.gif','editConversation','\x1b[47m','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','findIndex','substring','getMIMEType','updateStopChat','/instance','qrCode','Nenhum\x20chat\x20encontrado\x20para\x20editar.','secondValue','stderr','groupToggleEphemeral','\x20quoted:\x20','getProfileName','getVariablesChat','Erro\x20ao\x20editar\x20a\x20conversa:\x20','updateProfileName','$pull','delay','EXPIRIN_IN','use','CORS_METHODS','deletedCount','\x1b[33m%s\x1b[0m','updateLastSeenPrivacy','online','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','role','messages','setNewValue','createFlow','./.git/config','replaceVariablesInReplyOptions','findAndReplaceRegex','done','\x20não\x20encontrado\x20para\x20cópia','sendDataWebhook','Erro\x20ao\x20encerrar\x20a\x20API','groups.update','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.',',\x20pairCode:\x20','startsWith','stopConversation','announce','Getting\x20profile\x20with\x20jid:\x20','ORG:','Label\x20','warn','getContentType','webhookMap','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','processingScheduleMessageId','group','number','axios','has','\x20mensagens\x20de\x20','push','getScheduleMessage','caption','responsavelid','):\x20Editando\x20bloco...','^\x5cd+[\x5c.@\x5cw-]+','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','Erro\x20ao\x20copiar\x20dados:','create','Schema','Rótulo\x20atualizado:','goNextblock','title','getConversation','upperCase','2925784lcjlmZ','realVariables','findOneAndUpdate','Last\x20message\x20not\x20found\x20for\x20number:','/wa-contacts','code',',\x20Minutes\x20to\x20Close:\x20','Message\x20not\x20found','profile','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','list','request\x20received\x20in\x20getAutomateSystem','Converted\x20audio\x20deleted','/instance/create','deleteFlow','owner','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','defineProperty','mediaSticker','deleteInstance','contacts','includes','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','messageSecret','.png','chatLog','35730TaBcTj','audio','findByIdAndUpdate','mediatype','^\x5cd+','fetchProfilePicture','save','importChats','auth','message_normalized','https','uazapiSendMedia','paused','fullName','jpegThumbnail','imagechat','flowIgnoreGroups','fileName','Erro:','Bloco\x20com\x20ID\x20','text','readreceipts','lastCondition','sharp','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','SERVER_OFFLINE','Missing\x20global\x20api\x20key','STORE_CONTACTS','WARN','remoteJids','The\x20property\x20cannot\x20be\x20empty','HH:mm:ss','connectToWhatsapp','HttpsProxyAgent','/*.json','#64c4ff','):\x20Deletando\x20conversa...','createJid','findGroupInfo','Getting\x20profile\x20info','collections','This\x20name\x20','):\x20conversation.status:\x20','):\x20Deletando\x20fluxo...','sendLocation','errorLog','\x20instance\x20does\x20not\x20exist','true','start','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','put','env','/:instanceName','SUCCESS','node-cache','deleteConversation','editFlowVariable','contactname','findChats','conversation','\x20inseridas\x20no\x20banco\x20de\x20dados...','Unknown\x20message\x20type\x20or\x20empty\x20message','hex','editOperator','\x1b[0m','leadInfo.desativadoFluxoAte','label','fetchChats','saveMediaToFile','birthtime','drop','Erro\x20inesperado\x20em\x20processvaredits:\x20','fetchProfile','createGroup','No\x20participants','\x1b[33m\x1b[1m','Temp\x20image\x20deleted','reference','error\x20get\x20vote','creds','Types','statSync','):\x20Enviando\x20enquete','/media','deleteMessageForEveryone','announcement','hGetAll','):\x20debug\x20alterando\x20this.AutomateSystem','CHATS_DELETE','groupDesc','flushHeaders','statusJidList','floor','instanceInfo','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','currency','labelId','desativadoFluxoAte','/wa-connection-update','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','verify','instanceName\x20not\x20provided.','_Contacts','Contacts\x20not\x20found','media','3016881dSDMde','etiquetas','):\x20Buscando\x20flow...','delete','https://uazapi-plugin.bubbleapps.io/?url=','#ffc5c7','groupInviteCode','participant','Router','listen','STORE_CLEANING_TERMINAL','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','archive','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','connectionState','uazapi','activatedCount','.ogv','):\x20Comando\x20desconhecido:\x20','\x1b[30m%s\x1b[0m','mentioned','redis','toUpperCase','Imagem\x20não\x20encontrada','.pdf','promote','connectToWhatsappController','licenca','logout','PASSWORD','reactionMessage','deleteDoneMessages','#ffae04','and','InstancesAsDisconnectedX','):\x20alterando\x20this.AutomateSystem','update','replacer','instanceKeys','Error\x20change\x20group\x20setting','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','createConversationforgoToFlow','applyvaredit','cors','demote','Erro\x20ao\x20importar\x20chats:','toLocaleString','bodyString','ObjectId','apiResponse','contains','removeChatLabel','oldValue','StatusJidList\x20is\x20required','cleanStore','removeInstance','Instance\x20ID:','DEBUG','msgRetryCounterCache','\x20do\x20chat\x20','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20teve\x20mudanças\x20chat.name:\x20','getFlowModelForOwner','CONFIGURAÇÃO\x20GERAL:','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','writeFileSync','unhandledRejection','\x20->\x20CONFIRMADO.','#6f7bcf','isArray','Error\x20in\x20chatModify\x20for\x20number\x20','#56ccb4','last_update','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','ms\x20(Attempt\x20','groupRevokeInvite','.webp','editFlowGroup','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','createConversationforStartFlow','get','prepareMediaMessage','digest','desc','deleteBlock','forEach','description','/message','):\x20conversation.lastInteraction:\x20','documentMessage','Validate',':\x20IP\x20configurado:\x20','splice','leadInfo.','user','Valor\x20de\x20find\x20ou\x20replace\x20ausente','addresss','storePath','/media/','hbs','createNewConversation','stickerMessage','apikey','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','SSL_CONF','chats.delete','closeExistingConversations','messages.update','processConditionsTest','from','pre','dark','deleteChat','PLAYED','CHATS_UPSERT','Fluxos\x20não\x20estão\x20ativados','/config','Erro\x20ao\x20adicionar\x20label\x20','-instances','errors','):\x20transformedCustomFieldVariables','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','TYPE','LOG_COLOR','dbClient','formatVCard','Variável\x20não\x20encontrada!','when','findGroup','\x1b[41m','status','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','status.instance','copyDataToNewModel','REDIS_PREFIX_KEY','variablesToObject','messageTimestamp','g.us','profilePicture','.mp4','getScheduleMessageModelForOwner','presence','now','findAll','eventHandler','CONTACTS_UPDATE','padEnd','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','model','upsertedCount','Instância\x20não\x20encontrada.','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','REDIS_URI','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','keys','base64','replace','shutdown\x20-r\x20now','readdirSync','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','#9568cf','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20Editando\x20replyOption...','app','sending','Desconectado,\x20parando\x20execução.','chats.update','http','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','createConnection','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Unauthorized','#000000','del','findOrCreate','stopIfLastReturnedError','noConnection','):\x20Enviando\x20contato','readMessage','Type\x20defined\x20as\x20audio','fileLength','CORS','):\x20Campos\x20a\x20serem\x20atualizados:','36930dNSldu','buttonMessage','.jwt','pollOnReplyDelete','):\x20Usando\x20extensão\x20padrão:\x20','removed','upsertChats','bateu\x20events','Not\x20allowed\x20by\x20CORS','replaceOne','condition','optionDescription','method','connection.update','\x20horas\x20e\x20','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Type\x20not\x20found','https://api.elevenlabs.io/v1/text-to-speech/','toString','hSet','linkPreview','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','.wav','flowConversation','getFlow','router','DATABASE_CONNECTION_DB_PREFIX_NAME','long','fromObject','slice','editFlowReply','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','.X-ABLabel:Celular\x0a','split','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','scheduleMessages','findParticipants','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','\x20is\x20already\x20in\x20use.','info','getLastMessage','Deletion\x20failed','choices','\x20\x1b[0m','longitude','):\x20Ler\x20mensagem','stopWhenYouSendMsg','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','authService','findOne','uazapiSendLocation','group\x20ignored','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','post','):\x20isVote:\x20','):\x20nextBlock.uazapi.name','\x0aitem','audio/aac','scheduleSendAudio','Button\x20texts\x20cannot\x20be\x20repeated','replaceVariablesLogs','):\x20Conversa\x20está\x20expirada','):\x20Query\x20params:\x20','joinGroup',':\x20Erro\x20durante\x20loadproxy\x20-\x20','isJidUser','isListOfNumbers','urlOrBase64','/wa-message','uuid','Output\x20path:\x20','.doc','Variáveis\x20não\x20encontradas:','optionName','editFlow','type','):\x20Enviando\x20mídia','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','matchRegex','isJidGroup','findGroupInfos','hasOwnProperty','instance','resetReconnectionVariables','Logger','subdomain','remove.instance','waitingMenu_ExpiredMessage','match','SERVER_PORT','findGroups','default','request\x20received\x20in\x20getFlow','round','labels.edit','options','flowStopMinutes','AUTHENTICATION_TYPE','available','/wa-chats','setHeader','AUTHENTICATION_JWT_EXPIRIN_IN','\x1b[46m','function','expiration','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','CONECTADO\x20À\x20UAZAPI','quoted','listMessage','delayChatLabel','lastDisconnect','.webm','Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','chats.set','presence.update','#dfaef0','saveCreds','):\x20Erro\x20ao\x20deletar\x20fluxo\x20',',\x20qrcodeCount:\x20','\x20minutos\x20verificará\x20novas\x20mensagens',',\x20valor\x20a\x20encontrar:\x20\x22','authState','flowActive','pino','readFileSync','quotedMessage','):\x20delete\x20=\x20true','chats.upsert','groupId','stanzaId','sendMenu','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','encoding','listResponseMessage','Image\x20is\x20url','replaceVariables','updateFlowConfig','\x1b[1m','Read\x20messages\x20fail','Erro\x20ao\x20atualizar\x20o\x20flow.','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','DATABASE_CONNECTION_USER','sendContact','importChatsBatch','url','groupName','.\x20Pulando.','editflowreply','TEXT','Cannot\x20','Font\x20is\x20required','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','findLabels','sign','evaluateCondition','isURL','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','rowId','replyOptions','namespace','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','picture','https://api.openai.com/v1/audio/speech','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','uncaughtException','https://chat.whatsapp.com/','redirect','webhook','insertCount','https://api.ipify.org?format=json','scheduleNextCheck','updateMissingEtiquetas','Erro\x20de\x20atualização:\x20','apiName','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','):\x20leadInfoVariables','eventEmitter','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','deleted','website','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','SEND_MESSAGE','editflow','getDevice','onTime','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','key','Resultado\x20da\x20atualização:','pollCreationMessage','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','contacts.upsert','):\x20não\x20encontrou','):\x20Query\x20params:','_FlowHistorico','CONNECTION','conditions','send.message','JWT','mediaKey','@g.us','):\x20atualização\x20chat:\x20','removeData','instances','}}\x20->\x20valor\x20não\x20encontrado','?timestamp=','Operador:\x20\x22','.ppt','Close\x20connection','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','chatHandle','Primeiro\x20Valor:\x20','certonly','REDIS','SERVER_URL','redis://127.0.0.1:6379','silent','all','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','sendSticker','labels.association','delayChatLabel_MAX_RETRIES','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','protocolMessage','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Audio\x20processed','editflowcondition','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','1375458AlLfVD','getOwnPropertyDescriptor','notas','CHATS_UPDATE','boolean','groupSetting','buffer','order','pollUpdateMessage','proto','request\x20received\x20in\x20deleteConversation','delAll','@newsletter','restartInstance','webhookService','throwAndLogError','fetchLabels','lean','contacts.update','jwt','item','arrayUnique','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Authentication\x20error','loadInstance','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','\x1b[44m','ERROR:\x20','DOCKER_PASS','nomecompleto','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','):\x20Edit\x20schedule\x20message...','://','certbot','):\x20teve\x20mudanças\x20chat.displayName:\x20','dbSettings','LEVEL','width','chat','Error\x20fetching\x20group','):\x20this.processingScheduleMessageId:\x20','Atualização:\x20','AUTHENTICATION_JWT_SECRET','password','repository','getBase64FromMediaMessage','varedit','groups.upsert','augusto.fcs@gmail.com','inviteCode','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','value','defineAuthState','empty','):\x20Enviando\x20áudio','application/octet-stream','ephemeralExpiration','ENABLED','ScheduleMessageModel','fetchContacts','fone','entries','replaceValue','\x1b[37m%s\x1b[0m','archiveChat','E-mail:\x20','#b4ebff','\x20com\x20sucesso.','Valor\x20inicial:\x20\x22','\x22\x20-\x20REMOVED','Erro\x20ao\x20deletar\x20chat:','CORS_CREDENTIALS','Chrome','changeVariables','editflowvaredit','fetchInstances','https://uazapi-plugin.bubbleapps.io/','videoMessage','cpf','state','scheduleSendText','buttons','HOST','Erro\x20ao\x20editar\x20o\x20chat:\x20','rm\x20-rf\x20','findFlow','enabled','):\x20expirationTime:\x20','path','leaveGroup','dataValidate','updateParticipant','FULLCHAIN','getClient','Error\x20removing\x20profile\x20picture','$dbName','compression','groupLeave','unlinkSync','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','\x20saindo\x20da\x20função','Esse\x20fluxo\x20expirou','notEmpty','isConnected','configService','MessageModel','):\x20Flow\x20não\x20encontrado','_ScheduleMessages','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','\x1b[37m','insertMany','ReplyOption\x20com\x20ID\x20','message','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','PRIVKEY','generate','waitingForReplyMenu','^\x5cd+([-]\x5cd+)*@g.us$','config','stdout','setRestartTimer','processApiRequest','):\x20Conversa\x20está\x20expirada\x20-\x20voto','verifiedName','WebhookGlobal','newStoppedUntil','segundos','\x1b[43m','mongodb://','updateGParticipant','updateMessage','findById','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','sendAudio','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','action','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','toArray','#d3a91f','contentText','@s.whatsapp.net','\x1b[42m','Erro\x20ao\x20remover\x20label\x20','Instance\x20\x22','READ','request\x20received\x20in\x20editFlow','mongodb','Error\x20creating\x20group','fileUrl','STORE','updateProfilePicture','subjectOwner','.\x20Aguardando\x20antes\x20de\x20reconectar...','mkdirSync','contact','viewOnceMessageV2','):\x20Bloco\x20copiado:\x20','):\x20Buscando\x20conversa...','\x20-y','Module\x20-\x20ON','static','#9ba6ff','unknown\x20operation\x20type\x20[','Deleted\x20','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','public','\x20minutos','processConditions','Error\x20updating\x20profile\x20status','groupMetadata','connect','saveChatVariables','ignoreGroups','SECRET','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','contactMessage',',\x20lastCondition:\x20','Audio\x20converted\x20and\x20stored\x20in\x20cache','@whiskeysockets/baileys','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','sendCommand','charAt','none','reconnectAttempts','FlowController','unlocked','RemoveChatLabel','Unable\x20to\x20leave\x20the\x20group','METHODS','remoteJid','/wa-message-update','sendMessage','lastInteraction','uazapiSendMenu','minutesToClose','unreadCount','verbose','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','ChatModel','request\x20received\x20in\x20scheduleMessage','flattenObject','Conversa\x20deletada\x20com\x20sucesso.','height','shift','revokeInviteCode','URI','pollCreationMessageV2','processgoToFlow','messagesSend','loadWebhook','groupJid','AutomateFunctions','AddChatLabel','remoteJidsRemaining','pollErrorMessage','processblock','NextBlock','getStatus','):\x20Entrou\x20na\x20função\x20goToFlow','toBRL','data:\x20','Internal\x20Server\x20Error','host','creds.json','Instance\x20Key\x20from\x20DB:','DATABASE_ENABLED','endsWith','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','):\x20Editando\x20condição\x20do\x20fluxo...','getTime','setting','deleteReplyOption','getAutomateSystem','set','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','bearer','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','createInstance','notify','/instance/delete','wuid','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','unreadcount','count','whatsappNumber','updateBlock','):\x20Error\x20processing\x20the\x20block:\x20','stopped','writeFile','Error\x20writing\x20file:\x20','utf-8','getRandomText','organization','cache','50mb','readMessageBot','ERROR','@broadcast','):\x20newFirstValue\x20após\x20replaceVariables:','API\x20Key\x20inválida.','):\x20conversation.waitingMenu_name','$addToSet','existsSync','groupAcceptInvite','padStart','):\x20Conversas\x20encontradas:','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','sort','SINGLE_SELECT','):\x20Limpando\x20AutomateSystem','mentions','normalizeMessage','notEqual','Flow\x20already\x20exists','_Flows','DELIVERY_ACK','fetchMessages','jid','Error\x20updating\x20profile\x20name','Last\x20message\x20not\x20found','pt-BR','importChatsAntigo','abs','updateOne','endSession','menuType','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','.pptx','markMessageAsRead','MAX_RECONNECT_ATTEMPTS','updateMediaMessage','src','VERBOSE','ex:\x20\x22groupJid=120362@g.us\x22','#01d0e2','saveVariable','emit','updateOnlinePrivacy','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','):\x20Conversa\x20inserida\x20com\x20sucesso.','mongoose','leadInfo','sendMessageWithTyping','updateProfileStatus','\x1b[34m%s\x1b[0m','profilePictureUrl','_id','updateMissingCustomFields','\x20chats\x20de\x20','Content-Type','group-participants.update','Bad\x20Request','Sending\x20audio\x20whatsapp','CORS_ORIGIN','buttonText','imported','):\x20Entrou\x20na\x20função\x20saveReply','1238526oKaaGL','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','convert','pollCreationMessageV3','audioWhatsapp','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','):\x20lastBlockId:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','Erro\x20ao\x20buscar\x20conversas:\x20','PRESENCE_UPDATE','qrcode-terminal','client','editFlowBlock','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','replaceVariablesInObject','instanceCount','convertaudio','lastSendMessage','integer','sha256','Mensagem\x20não\x20suportada','selectedOptions','pollCreationMessageKey','ChatRouter','updateReplyOption','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','PREFIX_KEY','request\x20received\x20in\x20editFlowvariable','createHash','LabelModel','AutomateSystem','connectionClosed','spawn','groupHandler','Revoke\x20error','\x20attempts.','last','Error\x20updating\x20participants','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','downloadMediaMessage','KEY','protocol','Profile\x20not\x20found','valid','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','updateMissingTags','updateAgent','Cached\x20audio\x20found,\x20returning\x20existing\x20file','status@broadcast','\x1b[1m\x1b[37m','fetchProfile2','connectionStatus','app-state-sync-key','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','webp','\x1b[33m','_Chats','block','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','vcard','toLowerCase','.docx','trim','atendimentoAberto','some','sendMedia','The\x20instance\x20needs\x20to\x20be\x20disconnected','allflows','apirequest','call','instanceName','ListType','closed','getflow','DELETED','archived','):\x20Erro\x20ao\x20criar\x20fluxo\x20','parseInt','_p_','\x20contacts','\x0a*Você\x20respondeu*:\x0a','loadproxy','Not\x20is\x20business\x20profile','insert','END:VCARD','max','class-validator','ephemeralMessage','groupUpdateSubject','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','):\x20Enviando\x20localização','Error\x20change\x20group\x20description','https://api.openai.com/v1/images/generations','Chrome\x20(Linux)','DOCKER_ENV','MESSAGES_UPDATE','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','authentication','waitingMenu_text','Enter\x20a\x20value\x20in\x20milliseconds','query','CONNECTION_UPDATE','Connection\x20closed\x20for\x20instance:\x20','rows','routerPath','indexOf','request\x20received\x20in\x20allFlows','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','URL:','http://myexternalip.com/raw','log','@redis/client','messages.upsert','uazapiSendText','string','HeaderType','SSL_CONF_PRIVKEY','):\x20Bloco\x20com\x20ID\x20','):\x20','automateSystem','lastBlockId','vote','AUTHENTICATION','Chat\x20','Parando\x20aplicação,\x20atualização\x20recebida','authModel','Button\x20IDs\x20cannot\x20be\x20repeated.','AppStateSyncKeyData','uazapiDeleteMessage','Image\x20created','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Getting\x20image\x20from\x20url','messageContextInfo','equal','getLabelModelForOwner','URL\x20limpa:\x20','mediaMessage','connectionUpdate','The\x20','scheduleSendMedia','latitude','\x20not\x20found,\x20retrying\x20in\x20','request\x20body:\x20','editScheduleMessage','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','creds.update','stringify','allContacts','Sistema\x20atualizado\x20com\x20sucesso!','color','getMessage','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Conversa\x20atualizada\x20em\x20memória','backgroundColor','replyOption','):\x20Procurando\x20conversa','STORE_CHATS','):\x20Entrou\x20na\x20função\x20stop','fetchLatestBaileysVersion','findContacts','\x20-i\x20','fetchBusinessProfile','oldToken','updatePrivacySettings','express-async-errors','error_log','):\x20Criando\x20nova\x20conversa[createNewConversation]','deleteOne','LOG','getMessageModelForOwner','local_map','sendPresenceUpdate','\x5c$&','waitingMenu_replyOptions','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','open','jsonschema','finish','):\x20Erro\x20durante\x20a\x20atualização:\x20','getOwnPropertyNames','metadata','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','updateMany','Erro\x20ao\x20aplicar\x20varedit:\x20','folder','sticker','\x1b[40m','document','findConversation','not\x20loaded','send','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','\x0a{\x20instance:\x20','groupFetchAllParticipating','\x1b[30m','.txt','refused','):\x20group\x20ignored','authorization','):\x20Erro\x20ao\x20buscar\x20conversas\x20','originalUrl','/instance/connect','numbers','flow','\x20minutos.\x20Será\x20às\x20','find','STATUS_INSTANCE','Instance\x20logged\x20out','pollMessage','deleteflow','.ogg','MESSAGES_UPSERT','):\x20Falha\x20ao\x20deletar\x20mensagem.','qrcode','flowConfig','readData','editflowblock','toFile','getPrototypeOf','apply','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','checkAndRestartProcess','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','):\x20Buscando\x20conversas...','test','prototype','editChat','initAuthCreds','createWebhook','readMessages','uazapiSendContact','\x20inseridos\x20no\x20banco\x20de\x20dados...','request\x20received\x20in\x20editFlowcondition','webhookModel','/clients-info','setWebhook','Conexão\x20estabelecida','messaging-history.set','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','binary',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','messageId','DATABASE_CONNECTION_HOST','stopMinutes','audioMessage','-whatsapp-api','useMultiFileAuthState','\x20ao\x20chat\x20','fetchConversation','/wa-qrcode','notMatchRegex','updateMissingLabels','@ffmpeg-installer/ffmpeg','waInstances','Error\x20fetching\x20and\x20updating\x20profile:\x20','MESSAGES_SET','Trying\x20to\x20get\x20business\x20profile','):\x20Editando\x20edição\x20do\x20fluxo...','API\x20Key\x20from\x20Request:','allFlows','getBusinessProfile','pollMessageOnDelete','https://jsonip.com','reorderReplyOptions','fetchPrivacySettings','saveTextReply','Error\x20updating\x20profile\x20picture','ids','chatId','generateHash','delaySecMax','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','Type\x20is\x20required','pairingCode','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','processvaredits','8080','TEL','Connection','senderKeyDistributionMessage','contextInfo','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','headerString','Not\x20Found','\x20não\x20encontrado\x20para\x20atualização.','add','Image\x20is\x20base64','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','onWhatsApp','selectableCount','LOG_LEVEL','dbInstance','lastSend','createflow','limit','composing','?authSource=admin&readPreference=primary&directConnection=true','blocks','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','request\x20received\x20in\x20updateAgent','updatePresence','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','isBusiness','contact_blacklist','\x22\x20cannot\x20be\x20empty','updateCustomFields','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','186JAZDZf','redisEnv','DARK','release','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','../env.yml','Certbot:\x20','\x20segundos','request\x20received\x20in\x20updateCustomFields','_Labels','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','\x22\x20not\x20found','DaysToDelete','Erro\x20ao\x20normalizar\x20a\x20mensagem:','random','dbServer','editFlowVaredit','\x20Tentativa\x20de\x20reconexão\x20','localWebhook','body','jsonwebtoken','json','$set','exists','--standalone','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','arraybuffer','Parando\x20aplicação...','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','CHATS_SET','):\x20Editando\x20grupo\x20do\x20fluxo...','https://','http://icanhazip.com/','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','content','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','#f64847','sendPoll','variables','GROUP_PARTICIPANTS_UPDATE','env.yml','Instance\x20restarted','views','eventemitter2','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','less','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','option','array','updateGroupsAddPrivacy','getContactModelForOwner','context','Selecione','SendScheduleMessage','listType','Erro\x20ao\x20remover\x20instâncias\x20antigas:','exit','locationMessage',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','updateStatusPrivacy','displayName','Message','not_announcement','\x20removido\x20do\x20chat\x20',',\x20saindo.','#fed428','scheduleMessage','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','CONTACTS_SET','19TxJrvZ','LICENSE_INVALID','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','logger','command','getChatModelForOwner','min','g-t','unavailable','content-type','\x20de\x20conectar\x20com\x20IP\x20extra.','removeProfilePicture','mimetype','remote\x20\x22origin\x22','expression','lastmsg','Business\x20profile\x20fetched','/automate','process','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','\x20after\x20','request\x20received\x20in\x20deleteDoneMessages','downloads','waitingMenu_id','groups_ignore','validate','statusCode','STORE_MESSAGE','):\x20newSecondValue\x20após\x20replaceVariables:','Rótulo\x20deletado:','subject','truncatedto','header','evaluateConditionTest','File\x20written\x20to\x20path:\x20','):\x20Deletando\x20mensagem','Flow\x20iniciado\x20com\x20','sendWhatsAppAudio','\x5cd+','remove','statusMessage','events','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','inner','agents','goToFlow','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','conversationTimestamp','1131264rBKmTN','/instance/fetchInstances','INFO','pushName','repeat','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]',')\x20fromMe:\x20','processUazapi','Converting\x20image\x20to\x20WebP\x20to\x20sticker','join','flowStopConversation','textMessage','groupUpdateDescription','QRCODE_UPDATED','viewOnceMessageV2Extension','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','Error\x20in\x20scheduleNextCheck:\x20','/wa-groups','reorderBlocks','Error\x20occurred\x20while\x20archiving\x20chat:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','EMAIL','groupadd','stateConnection','toggleEphemeral','map','):\x20Buscando\x20todos\x20os\x20fluxos...','username','):\x20Bloco\x20original\x20para\x20cópia:\x20','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','output','no-cache','store','exec','):\x20tem\x20blocks','replaceVariablesChat','The\x20\x22','getAllData','trimmed','label_jid','):\x20Flow\x20desativado','):\x20Ignoring\x20group\x20messages.','moreLogs','http://ifconfig.me/ip','saveConversationToDatabase','isLong','copyBlock','sendReaction','connecting','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','video-cover.png','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','editedMessage','where','--agree-tos','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','buttonId','\x1b[31m','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','formatStatusMessage','groups','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','deleteMany','isBase64','flowname:\x20','assign','CONTACTS_UPSERT','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','Log\x20out\x20instance:\x20','notContains','writeData','name','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','No\x20join\x20group\x20invite\x20code\x20or\x20url','Database\x20is\x20not\x20enabled','.mp3','ip:\x20','updateConversation','utf8','scheduled','addReplyOption','userDevicesCache',',\x20fará\x20nova\x20verificação\x20em\x20','tags','delayChatLabel_RETRY_DELAY_MS','updateGParticipate','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Tentando\x20reconectar...','#00a1f2','object','menuMessage','delayMessage','):\x20updateResult:','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','response','decryptPollVote','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','exports','Cache-Control','findAndReplace','createAndSave',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','menuExpiredMessage','/exit','chatModify','GUARD','waMonitor','image','):\x20Fluxos\x20não\x20estão\x20ativados','collection','ListMessage','\x22,\x20valor\x20a\x20substituir:\x20\x22','email','instance.','viewOnceMessage','Erro\x20de\x20reinicialização:\x20','Error\x20updating\x20message\x20status:','loadEnv','variable','env.KEY\x20!==\x20key','fromMe','GROUPS_UPSERT','EMAIL:','modifiedCount','\x1b[31m%s\x1b[0m','sections','next_groupId','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','PROXY','phoneNumber','/events/:instance','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','*Pergunta*:\x20\x0a','no.connection','/chat','reaction','\x0aFN:','Telefone:\x20','lastMessage','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Instance\x20deleted','keep-alive','generateWAMessageFromContent','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','API_KEY','*\x0a\x0a','sendStatus','):\x20Alterando\x20fluxo...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','length','stopMinutesMaxActives','Erro\x20ao\x20deletar\x20mensagens:','Archiving\x20chat','chats','CREDENTIALS',')\x20ENVIANDO\x20VIA\x20API\x20para\x20[','contactsArrayMessage','maxActives','audio/mp4','Group\x20not\x20found','Erro\x20ao\x20inserir\x20chats:','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','groupValidate','port','express','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','address','video','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Image\x20converted\x20to\x20WebP','updateChatWithMessage','convertedOptions','Subscribed\x20Events:','parse','size','ButtonsMessage','Invalid\x20format','GROUPS_UPDATE','):\x20Current\x20Time:\x20','):\x20Procurando\x20mensagens\x20para\x20envio','findWebhook','\x1b[36m%s\x1b[0m','execSync','setContext','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Notifying\x20clients\x20for\x20chat:\x20','extractRegex','convertToWebP','testProxy','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','blockLogs','sleep','Error\x20in\x20markMessageAsRead:','reconnectTimestamps','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','headers','startFlow','varedits','isRunning','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Error\x20updating\x20privacy\x20settings','timerId','firstValue','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','child_process','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','lastReceivedMessage','customFields','DisconnectReason','isInteger','cleaningUp','getConversationModelForOwner','gifPlayback','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','updateGroupPicture','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','sendList','getDelay','params','makeCacheableSignalKeyStore','interval\x20não\x20é\x20um\x20número','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','updateOneById','temp-','):(','format','sendButtons','deleteAll','updateReadReceiptsPrivacy','recording','No\x20invite\x20code','error','_activatedCount','PORT','contactHandle','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','created','toNumber','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','DATABASE','restrict','poll','font','BufferJSON','OrAnd','processPollUpdateMessage','Certbot\x20executado\x20com\x20sucesso.','_Messages','loggedOut','success','Processing\x20audio','participants','sendText','preview','):\x20Going\x20to\x20','footerText','close','URL','createSectionsFromValues','editFlowCondition','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64',':\x20IP\x20funcionando!','bulkWrite','Erro\x20ao\x20atualizar\x20AutomateSystem:','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','application/json','badSession','checkAndUpdateChatStatus','SERVER','Error\x20in\x20converting\x20audio','Image\x20path:\x20','):\x20teve\x20mudanças\x20chat.archived:\x20','Flow\x20não\x20encontrado','Início','InstancesAlterarTodas','/instance/connectionState','detail','StartBot','joinGroupValidate','createServer','DB_PREFIX_NAME','privacySettings','variablesNotFound','nome','\x20não\x20encontrado','capitalizedWords','blockId','console','data','reviver','removeOlderDisconnectedInstances','messageHandle','deleteMessage','cwd','values','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','filter','Falta\x20informação\x20para\x20a\x20chamada\x20API','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','readFile','write','__esModule'];a0_0x3fa6=function(){return _0x27ef31;};return a0_0x3fa6();}ki();async function xr(){const _0x55814a=a0_0x1f4c2a;let _0x245b30;try{_0x245b30=(await Re[_0x55814a(0x73c)][_0x55814a(0x67a)](_0x55814a(0x385)))[_0x55814a(0x54c)]['ip'];}catch(_0x1d623d){console[_0x55814a(0x513)](_0x1d623d);try{_0x245b30=(await Re[_0x55814a(0x73c)][_0x55814a(0x67a)]('https://api.ipify.org?format=json'))['data']['ip'];}catch(_0x5348b5){console[_0x55814a(0x513)](_0x5348b5);try{_0x245b30=(await Re['default'][_0x55814a(0x67a)]('http://checkip.dyndns.org'))[_0x55814a(0x54c)][_0x55814a(0x739)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x345c8f){return console[_0x55814a(0x513)](_0x345c8f),!0x1;}}}return _0x245b30;}var Nr=0x0;async function Li(){const _0x37ee1c=a0_0x1f4c2a;let _0x23a6ba=await new ie(b[_0x37ee1c(0x67a)](_0x37ee1c(0x12e)))[_0x37ee1c(0x64f)]();return console[_0x37ee1c(0x2ed)]('instancias:\x20',_0x23a6ba[_0x37ee1c(0x4c0)]),_0x23a6ba['length'];}function ji(_0x596310){const _0xb65334=a0_0x1f4c2a;let _0x53865f=_0x596310['get'](_0xb65334(0x538))[_0xb65334(0x52d)],_0x3bc452=_0x596310['get'](_0xb65334(0x692)),_0x2b5d3b;if(_0x53865f){let _0xb42c48=_0x53865f[_0xb65334(0x739)](/\/\/(.*?)\./);_0xb42c48&&_0xb42c48[0x1]&&(_0x2b5d3b=_0xb42c48[0x1]);}if(!_0x2b5d3b&&_0x3bc452&&_0x3bc452[_0xb65334(0x19a)]){let _0x2f6365=_0x3bc452[_0xb65334(0x19a)][_0xb65334(0x702)]('/'),_0x252666=_0x2f6365[_0x2f6365[_0xb65334(0x4c0)]-0x2];if(_0x252666){let _0x54541c=_0x252666[_0xb65334(0x702)]('.');_0x54541c[_0xb65334(0x4c0)]>0x2&&(_0x2b5d3b=_0x54541c[0x0]);}}return _0x2b5d3b;}var Rs=ji(b);async function Fi(){const _0x109a33=a0_0x1f4c2a;let _0x261879=b[_0x109a33(0x67a)]('REDIS'),_0x6ec7a2=b[_0x109a33(0x67a)]('AUTHENTICATION')[_0x109a33(0x4bb)][_0x109a33(0x2a7)],_0x8dcbc6=b[_0x109a33(0x67a)](_0x109a33(0x692)),_0x1fcea0=await xr(),_0x22e44e=b[_0x109a33(0x67a)]('SERVER')['PORT'],_0x350914=b[_0x109a33(0x67a)]('SERVER')[_0x109a33(0x52d)];try{let _0x1c5d2a={'ip':_0x1fcea0||null,'redis_enable':_0x261879?.[_0x109a33(0x177)]||null,'apikey':_0x6ec7a2||null,'ssl':_0x8dcbc6?.[_0x109a33(0x1b1)]||null,'lastupdate':Dr||null,'port':_0x22e44e||null,'gitInstallError':Te?.[_0x109a33(0x1ae)]||null,'url':_0x350914||null};if(console[_0x109a33(0x2ed)](_0x109a33(0x476),_0x1c5d2a['ip']),_0x261879&&_0x261879[_0x109a33(0x177)]){let _0x3149fa=await Li();_0x1c5d2a[_0x109a33(0x28d)]=_0x3149fa||null;}for(let _0x5bb7e5 in _0x1c5d2a)_0x1c5d2a[_0x109a33(0x732)](_0x5bb7e5)&&_0x5bb7e5!=='ip'&&(_0x1c5d2a[_0x5bb7e5]=JSON[_0x109a33(0x311)](_0x1c5d2a[_0x5bb7e5]));return(await Re[_0x109a33(0x73c)][_0x109a33(0x716)](_0x109a33(0x501),_0x1c5d2a))['data'];}catch(_0x34b064){return console[_0x109a33(0x513)](_0x34b064),!0x1;}}var Is=!0x1,Dr=0x226,Ui=0x3,Rr=0x1b7740;async function Ds(){const _0x5f1941=a0_0x1f4c2a;if(!await xr())return console[_0x5f1941(0x513)](_0x5f1941(0x2df)),'NO_IP';let _0x1f6c05=await Fi();if(_0x1f6c05){if(_0x1f6c05[_0x5f1941(0x488)][_0x5f1941(0x644)]===!0x0){let _0x32dee2=b['get'](_0x5f1941(0x692)),_0x2f122b=b[_0x5f1941(0x67a)](_0x5f1941(0x538))[_0x5f1941(0x52d)];_0x32dee2&&_0x32dee2?.['PRIVKEY']?.[_0x5f1941(0x5bb)]('<subdomain>')&&_0x1f6c05[_0x5f1941(0x488)]['subdomain']&&!_0x2f122b&&(await Vi(_0x1f6c05[_0x5f1941(0x488)][_0x5f1941(0x736)],Ji),await Bi(_0x5f1941(0x16e),_0x1f6c05[_0x5f1941(0x488)][_0x5f1941(0x736)]),console[_0x5f1941(0x2ed)](_0x5f1941(0x437)),setTimeout(()=>Wi(),0x2710)),Te===null&&_0x1f6c05[_0x5f1941(0x488)][_0x5f1941(0x672)]-Dr>0x0&&await qi(),Is||(Is=!0x0,Di());let _0xc0799c=0x24*0x3c*0x3c,_0x32d565=_0x1f6c05[_0x5f1941(0x488)][_0x5f1941(0x1bd)]>_0xc0799c?_0xc0799c:_0x1f6c05['response']['segundos'],_0x46ed18=Number(_0x32d565);if(isNaN(_0x46ed18)){console[_0x5f1941(0x513)](_0x5f1941(0x508));return;}let _0x1c42aa=Math[_0x5f1941(0x61c)](_0x46ed18/0xe10),_0x2e4969=Math[_0x5f1941(0x61c)](_0x46ed18%0xe10/0x3c),_0x50a62c=new Date(Date[_0x5f1941(0x6b8)]()+_0x46ed18*0x3e8);setTimeout(Ds,_0x46ed18*0x3e8);let _0x3e0fd6=_0x9c864b=>_0x9c864b['toString']()[_0x5f1941(0x248)](0x2,'0'),_0x5c8470=_0x5f1941(0x3b6)+_0x3e0fd6(_0x1c42aa)+_0x5f1941(0x6ef)+_0x3e0fd6(_0x2e4969)+_0x5f1941(0x34b)+_0x3e0fd6(_0x50a62c['getHours']())+':'+_0x3e0fd6(_0x50a62c['getMinutes']())+'.';console['log'](_0x5c8470);}else return console[_0x5f1941(0x2ed)](_0x5f1941(0x334)),Is&&(console[_0x5f1941(0x2ed)](_0x5f1941(0x3de)),process['exit']()),_0x5f1941(0x3f8);}else{if(Nr++,Nr<Ui)console['log'](_0x5f1941(0x1c7)+Rr/0xea60+'\x20minutos...'),setTimeout(Ds,Rr);else return console[_0x5f1941(0x513)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x5f1941(0x5d9);}}async function qi(){const _0x4a8cd3=a0_0x1f4c2a;console[_0x4a8cd3(0x2ed)](_0x4a8cd3(0x2fb));let _0x3a2a6a=(0x0,Oe['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x3a2a6a['stdout']['on'](_0x4a8cd3(0x54c),_0x4fa3ff=>{const _0x46c6ce=_0x4a8cd3;console[_0x46c6ce(0x2ed)](_0x46c6ce(0x167)+_0x4fa3ff);}),_0x3a2a6a[_0x4a8cd3(0x568)]['on']('data',_0x463273=>{const _0x575ba3=_0x4a8cd3;console[_0x575ba3(0x513)](_0x575ba3(0x106)+_0x463273);}),_0x3a2a6a['on']('exit',_0x364cd3=>{const _0x1d412b=_0x4a8cd3;_0x364cd3!==0x0?console[_0x1d412b(0x513)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x364cd3):console[_0x1d412b(0x2ed)](_0x1d412b(0x313)),console[_0x1d412b(0x2ed)](_0x1d412b(0x3cd)),setTimeout(()=>process[_0x1d412b(0x3ea)](),0x2710);});}var Ji=Ae['default'][a0_0x1f4c2a(0x431)](__dirname,a0_0x1f4c2a(0x3da));async function Vi(_0x4d60e2,_0x3698f4){const _0x21b027=a0_0x1f4c2a;let _0x229cd8=Gi();_0x4d60e2=_0x4d60e2[_0x21b027(0x6c6)]('.uazapi.dev','');try{let _0x29741d=de['default'][_0x21b027(0xd6)](_0x3698f4,_0x21b027(0x478));_0x29741d=_0x29741d[_0x21b027(0x6c6)](/<apikey>/,_0x229cd8),_0x29741d=_0x29741d['replace'](/<subdomain>/g,_0x4d60e2),de[_0x21b027(0x73c)][_0x21b027(0x66b)](_0x3698f4,_0x29741d,'utf8'),console[_0x21b027(0x2ed)]('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x571efb){console[_0x21b027(0x513)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x571efb);}}function Bi(_0x3b10ba,_0x33ddae){return new Promise((_0x30d0e2,_0x1b7165)=>{const _0x1ee5d7=a0_0x5a52;let _0x1a315f=(0x0,Oe[_0x1ee5d7(0x29e)])(_0x1ee5d7(0x15f),[_0x1ee5d7(0x12d),_0x1ee5d7(0x3ca),'-m',_0x3b10ba,_0x1ee5d7(0x45f),'-d',_0x33ddae]);_0x1a315f[_0x1ee5d7(0x1b6)]['on']('data',_0x565cca=>{const _0xa4bd03=_0x1ee5d7;console['log'](_0xa4bd03(0x3b8)+_0x565cca[_0xa4bd03(0x6f3)]());}),_0x1a315f['stderr']['on'](_0x1ee5d7(0x54c),_0x1df5ed=>{const _0x3fbe3e=_0x1ee5d7;console[_0x3fbe3e(0x513)]('Erro\x20do\x20Certbot:\x20'+_0x1df5ed[_0x3fbe3e(0x6f3)]());}),_0x1a315f['on'](_0x1ee5d7(0x52c),_0x11c2e5=>{const _0x2d1f8b=_0x1ee5d7;_0x11c2e5!==0x0?(console['error'](_0x2d1f8b(0x3cb)+_0x11c2e5),_0x1b7165(_0x2d1f8b(0x3cb)+_0x11c2e5)):(console[_0x2d1f8b(0x2ed)](_0x2d1f8b(0x522)),_0x30d0e2());});});}function Gi(_0x186eb5=0x32){const _0x52e1b2=a0_0x1f4c2a;let _0x5b20ed='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x418478='';for(let _0x413237=0x0;_0x413237<_0x186eb5;_0x413237++)_0x418478+=_0x5b20ed[_0x52e1b2(0x1f5)](Math[_0x52e1b2(0x61c)](Math[_0x52e1b2(0x3c0)]()*_0x5b20ed[_0x52e1b2(0x4c0)]));return _0x418478;}function Wi(){const _0x2d0cec=a0_0x1f4c2a;(0x0,Oe[_0x2d0cec(0x449)])(_0x2d0cec(0x6c7),(_0x59965a,_0x2addb0,_0x51fd34)=>{const _0x3899a1=_0x2d0cec;if(_0x59965a){console[_0x3899a1(0x513)](_0x3899a1(0x108)+_0x59965a);return;}if(_0x51fd34){console[_0x3899a1(0x513)](_0x3899a1(0x49e)+_0x51fd34);return;}console[_0x3899a1(0x2ed)]('Reinicialização\x20iniciada:\x20'+_0x2addb0);});}0x0&&(module['exports']={'subdomain':subdomain});