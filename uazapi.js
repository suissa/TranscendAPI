const a0_0x6e1050=a0_0x5953;(function(_0x480b93,_0xd913ed){const _0x35b030=a0_0x5953,_0x4dd4bc=_0x480b93();while(!![]){try{const _0x3d91ae=parseInt(_0x35b030(0x27e))/0x1+parseInt(_0x35b030(0x230))/0x2+parseInt(_0x35b030(0x2f2))/0x3*(-parseInt(_0x35b030(0x344))/0x4)+parseInt(_0x35b030(0x275))/0x5*(parseInt(_0x35b030(0x499))/0x6)+parseInt(_0x35b030(0x250))/0x7+-parseInt(_0x35b030(0x481))/0x8+-parseInt(_0x35b030(0x152))/0x9*(parseInt(_0x35b030(0x47a))/0xa);if(_0x3d91ae===_0xd913ed)break;else _0x4dd4bc['push'](_0x4dd4bc['shift']());}catch(_0x199c2d){_0x4dd4bc['push'](_0x4dd4bc['shift']());}}}(a0_0x1352,0x4214a));var Lo=Object[a0_0x6e1050(0x694)],Je=Object[a0_0x6e1050(0x50a)],Fo=Object[a0_0x6e1050(0x734)],Jo=Object[a0_0x6e1050(0x29c)],Uo=Object['getPrototypeOf'],qo=Object['prototype'][a0_0x6e1050(0x437)],Vo=(_0x5a56ad,_0x5a5738)=>{for(var _0x40e952 in _0x5a5738)Je(_0x5a56ad,_0x40e952,{'get':_0x5a5738[_0x40e952],'enumerable':!0x0});},Js=(_0x34abc0,_0x4bcf70,_0x2c0d5b,_0x303a0c)=>{const _0x4511e8=a0_0x6e1050;if(_0x4bcf70&&typeof _0x4bcf70=='object'||typeof _0x4bcf70==_0x4511e8(0x13f)){for(let _0x51f52b of Jo(_0x4bcf70))!qo[_0x4511e8(0x37c)](_0x34abc0,_0x51f52b)&&_0x51f52b!==_0x2c0d5b&&Je(_0x34abc0,_0x51f52b,{'get':()=>_0x4bcf70[_0x51f52b],'enumerable':!(_0x303a0c=Fo(_0x4bcf70,_0x51f52b))||_0x303a0c[_0x4511e8(0x7d1)]});}return _0x34abc0;},T=(_0x57cde0,_0x2ea516,_0x1cc656)=>(_0x1cc656=_0x57cde0!=null?Lo(Uo(_0x57cde0)):{},Js(_0x2ea516||!_0x57cde0||!_0x57cde0['__esModule']?Je(_0x1cc656,a0_0x6e1050(0x45f),{'value':_0x57cde0,'enumerable':!0x0}):_0x1cc656,_0x57cde0)),Go=_0x2f4655=>Js(Je({},a0_0x6e1050(0x10e),{'value':!0x0}),_0x2f4655),ri={};Vo(ri,{'subdomain':()=>Ds}),module[a0_0x6e1050(0x3b1)]=Go(ri);var Io=T(require(a0_0x6e1050(0x448))),qs=require('fs'),Vs=require(a0_0x6e1050(0x153)),Gs=require(a0_0x6e1050(0x112)),Ue=require(a0_0x6e1050(0x112)),ne=process[a0_0x6e1050(0x76e)](),fe=(0x0,Ue[a0_0x6e1050(0x283)])(ne,a0_0x6e1050(0x3f0)),Us=(0x0,Ue['join'])(ne,'src'),Yi=(0x0,Ue['join'])(ne,a0_0x6e1050(0x174),a0_0x6e1050(0x28a)),ns=class{constructor(){const _0x257333=a0_0x6e1050;this[_0x257333(0x6f5)]();}[a0_0x6e1050(0x58b)](_0x48bf8f){const _0x2ce339=a0_0x6e1050;return this[_0x2ce339(0x3af)][_0x48bf8f];}['loadEnv'](){const _0xb3aee3=a0_0x6e1050;this[_0xb3aee3(0x3af)]=process['env']?.['DOCKER_ENV']!==_0xb3aee3(0x758)?this[_0xb3aee3(0x613)]():this[_0xb3aee3(0x724)](),process[_0xb3aee3(0x3af)]?.[_0xb3aee3(0x4d4)]===_0xb3aee3(0x758)&&(this[_0xb3aee3(0x3af)][_0xb3aee3(0x77b)][_0xb3aee3(0x70b)]='http',this[_0xb3aee3(0x3af)]['SERVER'][_0xb3aee3(0x45a)]=Number[_0xb3aee3(0x219)](process[_0xb3aee3(0x3af)]?.[_0xb3aee3(0x29e)]??_0xb3aee3(0x715)));}[a0_0x6e1050(0x613)](){const _0x31b48c=a0_0x6e1050;return(0x0,Vs[_0x31b48c(0x222)])((0x0,qs['readFileSync'])((0x0,Gs[_0x31b48c(0x283)])(Us,'../env.yml'),{'encoding':_0x31b48c(0x2a3)}));}['envProcess'](){const _0x7323f6=a0_0x6e1050;return{'SERVER':{'TYPE':process[_0x7323f6(0x3af)]['SERVER_TYPE'],'PORT':Number[_0x7323f6(0x219)](process['env']['SERVER_PORT']),'URL':process['env'][_0x7323f6(0x107)]},'CORS':{'ORIGIN':process[_0x7323f6(0x3af)]['CORS_ORIGIN'][_0x7323f6(0x4c3)](','),'METHODS':process[_0x7323f6(0x3af)][_0x7323f6(0x7a9)]['split'](','),'CREDENTIALS':process['env']?.['CORS_CREDENTIALS']===_0x7323f6(0x758)},'SSL_CONF':{'PRIVKEY':process[_0x7323f6(0x3af)]?.[_0x7323f6(0x7b2)],'FULLCHAIN':process[_0x7323f6(0x3af)]?.[_0x7323f6(0x716)]},'STORE':{'CLEANING_INTERVAL':Number[_0x7323f6(0x79e)](process[_0x7323f6(0x3af)]?.[_0x7323f6(0x2c9)])?Number['parseInt'](process[_0x7323f6(0x3af)][_0x7323f6(0x2c9)]):void 0x0,'MESSAGES':process[_0x7323f6(0x3af)]?.[_0x7323f6(0x320)]===_0x7323f6(0x758),'CONTACTS':process[_0x7323f6(0x3af)]?.[_0x7323f6(0x335)]==='true','CHATS':process[_0x7323f6(0x3af)]?.[_0x7323f6(0x130)]===_0x7323f6(0x758)},'DATABASE':{'CONNECTION':{'HOST':process[_0x7323f6(0x3af)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x7323f6(0x219)](process['env']?.[_0x7323f6(0x196)]),'USER':process[_0x7323f6(0x3af)][_0x7323f6(0x34a)],'PASSWORD':process[_0x7323f6(0x3af)][_0x7323f6(0x1a6)],'URI':process['env'][_0x7323f6(0x1f3)],'DB_PREFIX_NAME':process[_0x7323f6(0x3af)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.[_0x7323f6(0x79c)]===_0x7323f6(0x758)},'REDIS':{'ENABLED':process[_0x7323f6(0x3af)]?.['REDIS_ENABLED']===_0x7323f6(0x758),'URI':process[_0x7323f6(0x3af)][_0x7323f6(0x1dc)]||_0x7323f6(0x6bb),'PREFIX_KEY':process[_0x7323f6(0x3af)][_0x7323f6(0xfb)]||_0x7323f6(0x17a)},'LOG':{'LEVEL':process[_0x7323f6(0x3af)]?.[_0x7323f6(0x491)][_0x7323f6(0x4c3)](','),'COLOR':process[_0x7323f6(0x3af)]?.[_0x7323f6(0x708)]===_0x7323f6(0x758)},'PROXY':Number[_0x7323f6(0x219)](process[_0x7323f6(0x3af)]?.[_0x7323f6(0x4a5)]),'AUTHENTICATION':{'TYPE':process[_0x7323f6(0x3af)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x7323f6(0x3af)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x7323f6(0x79e)](process['env']?.[_0x7323f6(0x7d4)])?Number[_0x7323f6(0x219)](process[_0x7323f6(0x3af)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x7323f6(0x3af)][_0x7323f6(0x5ee)]}}};}},b=new ns(),xo=T(require(a0_0x6e1050(0x756))),me=T(require(a0_0x6e1050(0x5b7))),Ls=require(a0_0x6e1050(0x112)),cs=T(require(a0_0x6e1050(0x5ec))),ls=(_0x1afd81=>(_0x1afd81[a0_0x6e1050(0x460)]='\x1b[32m',_0x1afd81[a0_0x6e1050(0x4fc)]=a0_0x6e1050(0x6a1),_0x1afd81[a0_0x6e1050(0x189)]=a0_0x6e1050(0x594),_0x1afd81[a0_0x6e1050(0x27f)]=a0_0x6e1050(0x4cd),_0x1afd81[a0_0x6e1050(0x469)]='\x1b[36m',_0x1afd81[a0_0x6e1050(0x59c)]=a0_0x6e1050(0x7bf),_0x1afd81['DARK']=a0_0x6e1050(0x2d2),_0x1afd81))(ls||{}),Bs=(_0x2242db=>(_0x2242db['LOG']='\x1b[32m%s\x1b[0m',_0x2242db[a0_0x6e1050(0x1c2)]=a0_0x6e1050(0x45e),_0x2242db[a0_0x6e1050(0x4fc)]=a0_0x6e1050(0x44a),_0x2242db[a0_0x6e1050(0x189)]='\x1b[33m%s\x1b[0m',_0x2242db[a0_0x6e1050(0x27f)]=a0_0x6e1050(0x767),_0x2242db[a0_0x6e1050(0x469)]=a0_0x6e1050(0x56a),_0x2242db[a0_0x6e1050(0x59c)]=a0_0x6e1050(0x5f6),_0x2242db))(Bs||{}),Ws=(_0x5d985d=>(_0x5d985d[a0_0x6e1050(0x460)]=a0_0x6e1050(0x460),_0x5d985d[a0_0x6e1050(0x189)]='WARN',_0x5d985d['INFO']=a0_0x6e1050(0x4fc),_0x5d985d[a0_0x6e1050(0x1c2)]='DARK',_0x5d985d[a0_0x6e1050(0x27f)]=a0_0x6e1050(0x27f),_0x5d985d['DEBUG']=a0_0x6e1050(0x469),_0x5d985d[a0_0x6e1050(0x59c)]=a0_0x6e1050(0x59c),_0x5d985d))(Ws||{}),zs=(_0x5211ee=>(_0x5211ee[a0_0x6e1050(0x460)]=a0_0x6e1050(0x6e7),_0x5211ee[a0_0x6e1050(0x4fc)]=a0_0x6e1050(0x365),_0x5211ee[a0_0x6e1050(0x189)]=a0_0x6e1050(0x2ac),_0x5211ee['DARK']=a0_0x6e1050(0x6dd),_0x5211ee[a0_0x6e1050(0x27f)]='\x1b[41m',_0x5211ee[a0_0x6e1050(0x469)]='\x1b[46m',_0x5211ee[a0_0x6e1050(0x59c)]='\x1b[47m',_0x5211ee))(zs||{}),$=class{constructor(_0x110f20=a0_0x6e1050(0x609)){const _0x430f7c=a0_0x6e1050;this['context']=_0x110f20,this[_0x430f7c(0x7aa)]=b;}[a0_0x6e1050(0x60a)](_0x2ee491){this['context']=_0x2ee491;}[a0_0x6e1050(0x1ca)](_0x108746,_0x4aa94a){const _0x4133c9=a0_0x6e1050;let _0x3c9eb5=[];this[_0x4133c9(0x7aa)]['get'](_0x4133c9(0x460))[_0x4133c9(0x754)][_0x4133c9(0x463)](_0x1d87a0=>_0x3c9eb5[_0x4133c9(0x122)](Ws[_0x1d87a0]));let _0x3a3238=typeof _0x108746;_0x3c9eb5[_0x4133c9(0x269)](_0x4aa94a)&&(b[_0x4133c9(0x58b)](_0x4133c9(0x460))[_0x4133c9(0x155)]?(console['log']('\x1b[1m'+Bs[_0x4aa94a],_0x4133c9(0x3a1),(0x0,cs[_0x4133c9(0x45f)])()[_0x4133c9(0x389)]('DD/MM\x20HH:mm:ss'),_0x4133c9(0x172),ls[_0x4aa94a]+zs[_0x4aa94a]+_0x4133c9(0x187),_0x4aa94a+_0x4133c9(0x392),'\x1b[33m\x1b[1m',this['context']+_0x4133c9(0x172),ls[_0x4aa94a],_0x3a3238!==_0x4133c9(0x4c5)?_0x108746:'',_0x4133c9(0x172)),_0x3a3238===_0x4133c9(0x4c5)&&console[_0x4133c9(0x47c)](_0x108746,'\x0a')):console['log']((0x0,cs[_0x4133c9(0x45f)])()[_0x4133c9(0x389)](_0x4133c9(0x252)),_0x4aa94a+'\x20',''+this[_0x4133c9(0x7b6)],_0x108746));}[a0_0x6e1050(0x47c)](_0x7a94ce){const _0x3e727b=a0_0x6e1050;this[_0x3e727b(0x1ca)](_0x7a94ce,'LOG');}['info'](_0x18bc6e){const _0x5f1ae1=a0_0x6e1050;this[_0x5f1ae1(0x1ca)](_0x18bc6e,_0x5f1ae1(0x4fc));}['warn'](_0x509264){const _0x14fbc0=a0_0x6e1050;this['console'](_0x509264,_0x14fbc0(0x189));}[a0_0x6e1050(0x7e2)](_0x1d3a6d){const _0xa29904=a0_0x6e1050;this[_0xa29904(0x1ca)](_0x1d3a6d,'ERROR');}[a0_0x6e1050(0x582)](_0x186a5f){const _0x5cab4f=a0_0x6e1050;this['console'](_0x186a5f,_0x5cab4f(0x59c));}['debug'](_0x5cff7e){const _0x59666f=a0_0x6e1050;this['console'](_0x5cff7e,_0x59666f(0x469));}[a0_0x6e1050(0x4f8)](_0x3b6ee7){const _0x235819=a0_0x6e1050;this[_0x235819(0x1ca)](_0x3b6ee7,_0x235819(0x1c2));}};function Hs(){const _0x5ea9a3=a0_0x6e1050;process['on'](_0x5ea9a3(0x24a),(_0x7e224d,_0xf0017b)=>{const _0x41c0c1=_0x5ea9a3;new $(_0x41c0c1(0x24a))[_0x41c0c1(0x7e2)]({'origin':_0xf0017b,'stderr':process[_0x41c0c1(0xe9)]['fd'],'error':_0x7e224d});}),process['on'](_0x5ea9a3(0x4c7),(_0x4ca8a4,_0x1b3789)=>{const _0x484d06=_0x5ea9a3;new $(_0x484d06(0x4c7))[_0x484d06(0x7e2)]({'origin':_0x1b3789,'stderr':process[_0x484d06(0xe9)]['fd'],'error':_0x4ca8a4});});}var Ks=T(require(a0_0x6e1050(0x366))),us=new Ks[(a0_0x6e1050(0x45f))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ye=require(a0_0x6e1050(0x6b1)),ve=T(require(a0_0x6e1050(0x6b1))),qe=new $(a0_0x6e1050(0x1e2)),L=b['get'](a0_0x6e1050(0x161)),A=L[a0_0x6e1050(0x584)]?L[a0_0x6e1050(0x1b4)][a0_0x6e1050(0x7b3)]?ve['default'][a0_0x6e1050(0x31b)](L['CONNECTION'][a0_0x6e1050(0x7b3)],{'dbName':L['CONNECTION'][a0_0x6e1050(0x40d)]+'-whatsapp-api'}):ve[a0_0x6e1050(0x45f)]['createConnection']('mongodb://'+L['CONNECTION']['HOST']+':'+L[a0_0x6e1050(0x1b4)][a0_0x6e1050(0x45a)]+a0_0x6e1050(0x627),{'user':L[a0_0x6e1050(0x1b4)][a0_0x6e1050(0x2b7)],'pass':L[a0_0x6e1050(0x1b4)][a0_0x6e1050(0x135)],'dbName':L[a0_0x6e1050(0x1b4)][a0_0x6e1050(0x40d)]+a0_0x6e1050(0x336)}):null;L[a0_0x6e1050(0x584)]&&qe[a0_0x6e1050(0x4a3)](a0_0x6e1050(0x6c0)+A['$dbName']);var we=L[a0_0x6e1050(0x584)]?L[a0_0x6e1050(0x1b4)]['URI']?ve[a0_0x6e1050(0x45f)][a0_0x6e1050(0x31b)](L[a0_0x6e1050(0x1b4)][a0_0x6e1050(0x7b3)],{'dbName':a0_0x6e1050(0x1d1)}):ve[a0_0x6e1050(0x45f)][a0_0x6e1050(0x31b)](a0_0x6e1050(0x583)+L[a0_0x6e1050(0x1b4)]['HOST']+':'+L[a0_0x6e1050(0x1b4)][a0_0x6e1050(0x45a)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0x6e1050(0x1b4)]['USER'],'pass':L[a0_0x6e1050(0x1b4)][a0_0x6e1050(0x135)],'dbName':a0_0x6e1050(0x1cb)}):null;we&&qe[a0_0x6e1050(0x4a3)](a0_0x6e1050(0x6c0)+we[a0_0x6e1050(0x56f)]),process['on'](a0_0x6e1050(0x64e),()=>{const _0x53aef7=a0_0x6e1050;A&&A[_0x53aef7(0x403)](()=>{const _0x2f3b80=_0x53aef7;qe[_0x2f3b80(0x4a3)](_0x2f3b80(0x7da));}),we&&we['close'](()=>{const _0x16eaff=_0x53aef7;qe[_0x16eaff(0x4a3)](_0x16eaff(0x3fe));});});var Bo=new ye[(a0_0x6e1050(0x6d0))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new ye[(a0_0x6e1050(0x6d0))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),zo=new ye[(a0_0x6e1050(0x6d0))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Ho=new ye[(a0_0x6e1050(0x6d0))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Bo],'default':[]}},{'_id':!0x1}),Ko=new ye[(a0_0x6e1050(0x6d0))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ho,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Wo},'groupdata':{'type':zo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Qs=_0x16ac2d=>{const _0x9d2da9=a0_0x6e1050;let _0x519423='z_'+_0x16ac2d+_0x9d2da9(0x50f);return A?.['model']('ChatModel',Ko,_0x519423);},Ys=require('mongoose'),Qo=new Ys[(a0_0x6e1050(0x6d0))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Xs=_0x383bd5=>{const _0x3a9e93=a0_0x6e1050;let _0x1415a1='z_'+_0x383bd5+_0x3a9e93(0x55a);return A?.['model'](_0x3a9e93(0x4a4),Qo,_0x1415a1);},Zs=require(a0_0x6e1050(0x6b1)),ds=class{},Yo=new Zs['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=we?.[a0_0x6e1050(0x5b2)](ds['name'],Yo,'ContactsAndGroups'),ta=require(a0_0x6e1050(0x6b1)),Xo=new ta[(a0_0x6e1050(0x6d0))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),sa=_0x33eef6=>{const _0x5b0baa=a0_0x6e1050;let _0x2d29b0='z_'+_0x33eef6+_0x5b0baa(0x2f7);return A?.[_0x5b0baa(0x5b2)]('MessageModel',Xo,_0x2d29b0);},aa=require(a0_0x6e1050(0x6b1)),ps=class{},Zo=new aa[(a0_0x6e1050(0x6d0))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),oa=A?.['model'](ps[a0_0x6e1050(0x4f4)],Zo,a0_0x6e1050(0x720)),ra=require(a0_0x6e1050(0x6b1)),hs=class{},ia=new ra[(a0_0x6e1050(0x6d0))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ia[a0_0x6e1050(0x641)](a0_0x6e1050(0x570),function(_0x1b07da){const _0x2763a4=a0_0x6e1050;delete this[_0x2763a4(0x1b5)],delete this[_0x2763a4(0x62d)],delete this['flowPrefixCommand'],delete this['flowStopConversation'],delete this[_0x2763a4(0x1f5)],_0x1b07da();});var na=A?.[a0_0x6e1050(0x5b2)](hs[a0_0x6e1050(0x4f4)],ia,'webhook'),_=require(a0_0x6e1050(0x6b1)),gs=require(a0_0x6e1050(0x7c4)),Ve=class{},ca=new _[(a0_0x6e1050(0x6d0))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ms=new _[(a0_0x6e1050(0x6d0))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),er=new _[(a0_0x6e1050(0x6d0))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x6e1050(0x61d)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x6e1050(0x410)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x6e1050(0x2bf)},'pollErrorMessage':{'type':String,'default':a0_0x6e1050(0x703)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new _[(a0_0x6e1050(0x6d0))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),tr=new _[(a0_0x6e1050(0x6d0))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),sr=new _[(a0_0x6e1050(0x6d0))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ws=new _[(a0_0x6e1050(0x6d0))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ar=new _[(a0_0x6e1050(0x6d0))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ua=new _['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':er},'apirequest':tr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ar,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),da=new _[(a0_0x6e1050(0x6d0))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ys=new _['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,gs['v4'])()},'startID':{'type':String,'default':()=>(0x0,gs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':a0_0x6e1050(0x531)},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x177a95=a0_0x6e1050;return _0x177a95(0x322)+Math[_0x177a95(0x1cd)]()[_0x177a95(0x16c)](0x24)[_0x177a95(0x5be)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ws],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ms],'default':[]}});ys[a0_0x6e1050(0x641)]('save',function(_0x1ba5eb){const _0xeec292=a0_0x6e1050;let _0x121682=new Set(),_0x4e76a0=new Set(this[_0xeec292(0x6e9)]?.[_0xeec292(0x4bf)](_0x19de30=>_0x19de30[_0xeec292(0x4f4)])),_0x2a4c9e=JSON['stringify'](this),_0x44aa8f=/{{(?!_)([^}]*)}}/g,_0x45684a;for(;(_0x45684a=_0x44aa8f[_0xeec292(0x241)](_0x2a4c9e))!==null;)_0x4e76a0['has'](_0x45684a[0x1])||_0x121682[_0xeec292(0x59d)](_0x45684a[0x1]);_0x121682['size']>0x0?(console['warn'](_0xeec292(0x651),Array['from'](_0x121682)),this[_0xeec292(0x65b)]=Array[_0xeec292(0x179)](_0x121682)):this[_0xeec292(0x65b)]=[],_0x1ba5eb();}),ys[a0_0x6e1050(0x641)](a0_0x6e1050(0x566),function(_0x5f2bf6){const _0x3ed2d0=a0_0x6e1050;let _0x44f6a4=this[_0x3ed2d0(0x597)]();if(_0x44f6a4&&typeof _0x44f6a4=='object'&&'$set'in _0x44f6a4){let _0x1b5796=_0x44f6a4[_0x3ed2d0(0x614)];if(_0x1b5796){let _0xd25daa=new Set(),_0x71d002=new Set(_0x1b5796['variables']?.[_0x3ed2d0(0x4bf)](_0xc2d94b=>_0xc2d94b[_0x3ed2d0(0x4f4)])),_0x168f70=JSON[_0x3ed2d0(0x69b)](_0x1b5796),_0x222e5d=/{{(?!_)([^}]*)}}/g,_0x2342e0;for(;(_0x2342e0=_0x222e5d['exec'](_0x168f70))!==null;)_0x71d002[_0x3ed2d0(0x455)](_0x2342e0[0x1])||_0xd25daa['add'](_0x2342e0[0x1]);_0xd25daa[_0x3ed2d0(0x3f1)]>0x0?(console[_0x3ed2d0(0x488)](_0x3ed2d0(0x651),Array[_0x3ed2d0(0x179)](_0xd25daa)),_0x1b5796['variablesNotFound']=Array['from'](_0xd25daa)):_0x1b5796[_0x3ed2d0(0x65b)]=[],this[_0x3ed2d0(0x416)]({'$set':_0x1b5796});}}_0x5f2bf6();});function a0_0x5953(_0x4183f8,_0x25a127){const _0x1352bd=a0_0x1352();return a0_0x5953=function(_0x5953bf,_0x267f99){_0x5953bf=_0x5953bf-0xd1;let _0x539e3b=_0x1352bd[_0x5953bf];return _0x539e3b;},a0_0x5953(_0x4183f8,_0x25a127);}var pa=_0x3a350a=>{const _0x26e528=a0_0x6e1050;let _0x7e8223='z_'+_0x3a350a+_0x26e528(0x7ed);return A?.[_0x26e528(0x5b2)](_0x26e528(0x6e0),ys,_0x7e8223);},or=new _[(a0_0x6e1050(0x6d0))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ws],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[sr]},{'_id':!0x1}),rr=new _['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ws],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ms],'default':[]},'chatLog':or,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x6e1050(0x2bf)},'waitingMenu_replyOptions':{'type':[ms],'default':[]}}),ha=_0x30c644=>{const _0x86f8db=a0_0x6e1050;let _0x275ce7='z_'+_0x30c644+'_FlowHistorico';return A?.[_0x86f8db(0x5b2)](_0x86f8db(0x59b),rr,_0x275ce7);},ir=new _[(a0_0x6e1050(0x6d0))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),nr=new _[(a0_0x6e1050(0x6d0))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),cr=new _[(a0_0x6e1050(0x6d0))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x6e1050(0x607)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':nr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ir],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ga=_0x5b3c10=>{let _0xa24d03='z_'+_0x5b3c10+'_ScheduleMessages';return A?.['model']('ScheduleMessageModel',cr,_0xa24d03);},fs=class{},lr=new _[(a0_0x6e1050(0x6d0))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),ur=new _['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),dr=new _[(a0_0x6e1050(0x6d0))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x6e1050(0x24e)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),pr=new _[(a0_0x6e1050(0x6d0))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),hr=new _['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[pr]},'customFields':{'type':[ur]},'flowConfig':{'type':dr,'default':{}},'autoCompleteMessages':{'type':[lr],'default':[]}}),Ne=A?.['model'](fs[a0_0x6e1050(0x4f4)],hr,a0_0x6e1050(0xf9)),ma=require(a0_0x6e1050(0x6b1)),gr=new ma[(a0_0x6e1050(0x6d0))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),fa=_0x4e337d=>{const _0x2c427a=a0_0x6e1050;let _0x56a10f='z_'+_0x4e337d+_0x2c427a(0x2b3);return A?.[_0x2c427a(0x5b2)](_0x2c427a(0xfe),gr,_0x56a10f);},D=class{constructor(_0x52f67a){const _0x2952f8=a0_0x6e1050;this[_0x2952f8(0x47d)]=_0x52f67a[_0x2952f8(0x58b)](_0x2952f8(0x161));}};function I(_0xa00106){const _0x5653ab=a0_0x6e1050;let _0x2a3640={};for(let [_0x5bd35c,_0x1dc629]of Object[_0x5653ab(0x788)](_0xa00106))if(typeof _0x1dc629==_0x5653ab(0x4c5)&&!Array[_0x5653ab(0x314)](_0x1dc629)){for(let [_0x4d19da,_0x2e6a78]of Object[_0x5653ab(0x788)](_0x1dc629))_0x2a3640[_0x5bd35c+'.'+_0x4d19da]=_0x2e6a78;}else _0x2a3640[_0x5bd35c]=_0x1dc629;return _0x2a3640;}var Ge=class{constructor(_0x902f29,_0xcaea3d,_0x1b9bdd,_0x274585,_0x40dfbc,_0x1282ba,_0x436e36,_0x278202,_0x3e9875,_0x1844bb,_0x1cadb8,_0x1e6b52){const _0xaac9ad=a0_0x6e1050;this[_0xaac9ad(0x50d)]=_0x902f29,this[_0xaac9ad(0x134)]=_0xcaea3d,this['contact']=_0x1b9bdd,this['cacheContact']=_0x274585,this[_0xaac9ad(0x26c)]=_0x40dfbc,this['auth']=_0x1282ba,this[_0xaac9ad(0x646)]=_0x436e36,this[_0xaac9ad(0x1c4)]=_0x278202,this[_0xaac9ad(0x69d)]=_0x3e9875,this[_0xaac9ad(0x24b)]=_0x1844bb,this['automateSystem']=_0x1cadb8,this[_0xaac9ad(0x60d)]=_0x1e6b52;}get[a0_0x6e1050(0x18b)](){return this['dbClient'];}},Be=class{},We=class extends D{[a0_0x6e1050(0x11d)](_0x434e50){return sa(_0x434e50);}async[a0_0x6e1050(0x2ae)](_0x485a7f,_0x2ff0f3){const _0x5bf2e1=a0_0x6e1050;if(_0x485a7f[_0x5bf2e1(0x401)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5bf2e1(0x11d)](_0x2ff0f3)['insertMany']([..._0x485a7f]))['length']};}catch(_0x2e01b0){return _0x2e01b0;}}async[a0_0x6e1050(0x15f)](_0x20c706,_0x564199){const _0x2d5cb3=a0_0x6e1050;try{let _0x5f57ab=this[_0x2d5cb3(0x11d)](_0x564199),_0x5ea86d=I(_0x20c706[_0x2d5cb3(0x6ec)]);return await _0x5f57ab[_0x2d5cb3(0x15f)](_0x5ea86d)['sort']({'messageTimestamp':-0x1})[_0x2d5cb3(0x616)](_0x20c706?.[_0x2d5cb3(0x616)]??0x0)[_0x2d5cb3(0x475)]();}catch{return[];}}async[a0_0x6e1050(0x5c9)](_0x5cdc93,_0x50bc13){const _0x4806f8=a0_0x6e1050;try{let _0x5ccc69=this[_0x4806f8(0x11d)](_0x50bc13),_0x55178f=I(_0x5cdc93[_0x4806f8(0x6ec)]);await _0x5ccc69[_0x4806f8(0x467)](_0x55178f);}catch(_0x5a247d){console[_0x4806f8(0x7e2)](_0x5a247d);}}async[a0_0x6e1050(0x27b)](_0x75ada3,_0x4f0331,_0x15f87e){const _0x59bc78=a0_0x6e1050;try{let _0x593ece=this[_0x59bc78(0x11d)](_0x15f87e),_0x2e717b=I(_0x75ada3[_0x59bc78(0x6ec)]);return await _0x593ece[_0x59bc78(0x566)](_0x2e717b,{'$set':_0x4f0331},{'new':!0x0});}catch(_0x46c3c0){throw console[_0x59bc78(0x7e2)](_0x46c3c0),_0x46c3c0;}}async[a0_0x6e1050(0x3db)](_0x2fae91,_0x2b7805){const _0x4f5d1d=a0_0x6e1050;if(_0x2fae91['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x4f5d1d(0x11d)](_0x2b7805)['insertMany']([..._0x2fae91]))['length']};}catch(_0x30acf5){return console[_0x4f5d1d(0x47c)]('ERROR:\x20',_0x30acf5),_0x30acf5;}}async['deleteAll'](_0x120e9e){const _0x1a6606=a0_0x6e1050;try{return await this['getMessageModelForOwner'](_0x120e9e)[_0x1a6606(0x1c1)]['drop'](),{'success':!0x0};}catch(_0x2e99b5){return console[_0x1a6606(0x7e2)](_0x2e99b5),{'success':!0x1,'error':_0x2e99b5};}}},As=T(require(a0_0x6e1050(0x581))),f=T(require(a0_0x6e1050(0x43b))),De=require('fs'),J=T(require(a0_0x6e1050(0x112))),Q=T(require(a0_0x6e1050(0x4a8))),Co=require(a0_0x6e1050(0x7c4)),Eo=T(require(a0_0x6e1050(0x79d))),vo=T(require(a0_0x6e1050(0x2ab))),wa=[a0_0x6e1050(0x330),a0_0x6e1050(0x28c),'audioMessage','videoMessage',a0_0x6e1050(0x276)],ya=['ephemeralMessage',a0_0x6e1050(0x6fa),a0_0x6e1050(0x712),a0_0x6e1050(0x76a)],Os=require('os'),kt=T(require(a0_0x6e1050(0x4b2))),_e=require('child_process'),jt=require(a0_0x6e1050(0x354)),ie=T(require(a0_0x6e1050(0x6b1))),k=require(a0_0x6e1050(0xe6)),be=class{constructor(_0x3938e2,_0x5968e3,_0x25a13a){const _0x38d653=a0_0x6e1050;this['jid']=_0x3938e2,this[_0x38d653(0x1b6)]=_0x5968e3,this[_0x38d653(0x4f4)]=_0x25a13a;}},ze=class{},He=class{},Re=class{},Ke=class{},Qe=class{},Se=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},It=T(require(a0_0x6e1050(0x5b7))),ba=require('fs'),Sa=require(a0_0x6e1050(0x112));async function $e(_0x5e19ce){const _0x138e16=a0_0x6e1050;let _0xd35a23=B['waInstances'][_0x5e19ce];if(L['ENABLED']){let _0x343242=A[_0x138e16(0x2ad)]()['db'](L[_0x138e16(0x1b4)][_0x138e16(0x40d)]+_0x138e16(0x20e))[_0x138e16(0x1c1)](_0x5e19ce);return _0xd35a23||(await _0x343242[_0x138e16(0x15f)]({})[_0x138e16(0x2a8)]())[_0x138e16(0x401)]>0x0;}return _0xd35a23||(0x0,ba[_0x138e16(0x736)])((0x0,Sa[_0x138e16(0x283)])(fe,_0x5e19ce));}async function Ma(_0x2a44de,_0x53a13d,_0x3b4ce0){const _0x5abc67=a0_0x6e1050;if(_0x2a44de[_0x5abc67(0x601)]['includes'](_0x5abc67(0x4ac))||_0x2a44de['originalUrl']['includes']('/instance/fetchInstances')||_0x2a44de[_0x5abc67(0x601)]['includes'](_0x5abc67(0x76b))||_0x2a44de[_0x5abc67(0x601)][_0x5abc67(0x269)](_0x5abc67(0x1e8))||_0x2a44de[_0x5abc67(0x601)]['includes'](_0x5abc67(0x137))||_0x2a44de[_0x5abc67(0x601)][_0x5abc67(0x269)](_0x5abc67(0x4ea))||_0x2a44de[_0x5abc67(0x601)]['includes'](_0x5abc67(0x263)))return _0x3b4ce0();let _0x2afd65=_0x2a44de[_0x5abc67(0x551)];if(!_0x2afd65?.[_0x5abc67(0x71d)])throw new m('instanceName\x20not\x20provided.');if(!await $e(_0x2afd65[_0x5abc67(0x71d)]))throw new q(_0x5abc67(0xd4)+_0x2afd65[_0x5abc67(0x71d)]+_0x5abc67(0x76c));_0x3b4ce0();}async function Ca(_0x4e074b,_0x232105,_0x359bdb){const _0x462585=a0_0x6e1050;if(_0x4e074b['originalUrl'][_0x462585(0x269)](_0x462585(0x4ac))){let _0x2faa57=_0x4e074b['body'];if(await $e(_0x2faa57[_0x462585(0x71d)]))throw new Y('This\x20name\x20'+_0x2faa57['instanceName']+'\x20is\x20already\x20in\x20use.');B['waInstances'][_0x2faa57[_0x462585(0x71d)]]&&delete B['waInstances'][_0x2faa57[_0x462585(0x71d)]];}_0x359bdb();}var Ea=require(a0_0x6e1050(0xe6)),va=T(require(a0_0x6e1050(0x143))),tt=a0_0x6e1050(0x17a),fr=new $(a0_0x6e1050(0x743));async function wr(_0x2a6c58,_0x48b076,_0x45d165){const _0x487d56=a0_0x6e1050;let _0x5046d4=_0x2a6c58[_0x487d56(0x58b)](_0x487d56(0x305));if(_0x5046d4&&b['get']('AUTHENTICATION')[_0x487d56(0x23e)][_0x487d56(0x370)]!==_0x5046d4)throw new ae();if(b[_0x487d56(0x58b)]('AUTHENTICATION')[_0x487d56(0x23e)][_0x487d56(0x370)]===_0x5046d4)return _0x45d165();if((_0x2a6c58[_0x487d56(0x601)][_0x487d56(0x269)]('/instance/create')||_0x2a6c58['originalUrl']['includes'](_0x487d56(0x10a)))&&!_0x5046d4)throw new Y(_0x487d56(0x1a2),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x57fc43=b[_0x487d56(0x58b)](_0x487d56(0x55b))['JWT'];try{let [_0x1ab2fa,_0x22b7e3]=_0x2a6c58[_0x487d56(0x58b)]('authorization')[_0x487d56(0x4c3)]('\x20');if(_0x1ab2fa[_0x487d56(0x1a4)]()!==_0x487d56(0x7e9))throw new ae();if(!(0x0,Ea[_0x487d56(0x331)])(_0x22b7e3))throw new ae();let _0x3bb1ca=_0x2a6c58[_0x487d56(0x551)],_0x14daa1=va[_0x487d56(0x45f)]['verify'](_0x22b7e3,_0x57fc43[_0x487d56(0x3c3)],{'ignoreExpiration':_0x57fc43[_0x487d56(0x719)]===0x0});if(_0x3bb1ca[_0x487d56(0x71d)]!==_0x14daa1[_0x487d56(0x71d)]||tt!==_0x14daa1['apiName'])throw new ae();return _0x45d165();}catch(_0xa579f8){throw fr[_0x487d56(0x7e2)](_0xa579f8),new ae();}}async function yr(_0x46ca8a,_0x485e2e,_0x1cc297){const _0x379d3a=a0_0x6e1050;let _0x57ea42=b[_0x379d3a(0x58b)](_0x379d3a(0x55b))[_0x379d3a(0x23e)],_0x1e2af7=_0x46ca8a[_0x379d3a(0x58b)]('apikey');if(_0x57ea42[_0x379d3a(0x370)]===_0x1e2af7)return _0x1cc297();if(_0x46ca8a[_0x379d3a(0x601)]['includes'](_0x379d3a(0x4ac))){let _0x17484a=st,_0x58797b=_0x46ca8a[_0x379d3a(0x61f)][_0x379d3a(0x71d)];if(_0x17484a&&_0x58797b[_0x379d3a(0x1a4)]()[_0x379d3a(0x177)](_0x17484a[_0x379d3a(0x1a4)]()))return _0x1cc297();if(!_0x1e2af7)throw new Y('Missing\x20global\x20api\x20key',_0x379d3a(0x220));}if(_0x46ca8a[_0x379d3a(0x601)]['includes'](_0x379d3a(0x10a))&&!_0x1e2af7)throw new Y(_0x379d3a(0x1a2),_0x379d3a(0x220));if(_0x46ca8a[_0x379d3a(0x601)][_0x379d3a(0x269)](_0x379d3a(0x76b))&&!_0x1e2af7)throw new Y(_0x379d3a(0x1a2),_0x379d3a(0x220));if(_0x46ca8a[_0x379d3a(0x601)][_0x379d3a(0x269)]('/config')&&!_0x1e2af7)throw new Y('Missing\x20global\x20api\x20key',_0x379d3a(0x220));try{let _0x46ea6f=_0x46ca8a[_0x379d3a(0x551)],_0x5e060f=await pe[_0x379d3a(0x28a)][_0x379d3a(0x15f)](_0x46ea6f[_0x379d3a(0x71d)]);if(_0x5e060f&&_0x5e060f['apikey']===_0x1e2af7)return _0x1cc297();}catch{}throw new ae();}var Na={'jwt':wr,'apikey':yr},ro=require('express'),E=require(a0_0x6e1050(0x7c4)),C=(..._0x413f7d)=>{const _0x19629f=a0_0x6e1050;let _0x9b8675={};return _0x413f7d[_0x19629f(0x463)](_0x19515f=>_0x9b8675[_0x19515f]={'minLength':0x1,'description':_0x19629f(0x77c)+_0x19515f+_0x19629f(0x3a8)}),{'if':{'propertyNames':{'enum':[..._0x413f7d]}},'then':{'properties':_0x9b8675}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'instanceName':{'type':a0_0x6e1050(0x304)}},...C(a0_0x6e1050(0x71d))},nc={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'oldToken':{'type':a0_0x6e1050(0x304)}},'required':[a0_0x6e1050(0x3ef)],...C(a0_0x6e1050(0x3ef))},cc={'properties':{'key':{'type':a0_0x6e1050(0x4c5),'properties':{'id':{'type':a0_0x6e1050(0x304)},'remoteJid':{'type':a0_0x6e1050(0x304)},'fromMe':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x6e1050(0x636)],...C('id',a0_0x6e1050(0x21b))},'message':{'type':'object'}}},X={'properties':{'delay':{'type':a0_0x6e1050(0x30c),'description':a0_0x6e1050(0x52d)},'presence':{'type':a0_0x6e1050(0x304),'enum':[a0_0x6e1050(0x51c),'available',a0_0x6e1050(0x186),a0_0x6e1050(0x235),a0_0x6e1050(0x334)]}}},H={'type':a0_0x6e1050(0x304),'description':a0_0x6e1050(0x115)},Ra={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...X},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x6e1050(0x304)}},'required':[a0_0x6e1050(0x654)],...C(a0_0x6e1050(0x654))}},'required':[a0_0x6e1050(0x3c6),a0_0x6e1050(0x78b)]},$a={'type':a0_0x6e1050(0x304),'pattern':a0_0x6e1050(0x402),'description':a0_0x6e1050(0x115)},lc={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'number':{...$a},'options':{...X},'textMessage':{'type':a0_0x6e1050(0x4c5),'properties':{'text':{'type':a0_0x6e1050(0x304)}},'required':[a0_0x6e1050(0x654)],...C(a0_0x6e1050(0x654))}},'required':[a0_0x6e1050(0x3c6),a0_0x6e1050(0x78b)]},uc={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'number':{...$a},'options':{...X},'mediaMessage':{'type':a0_0x6e1050(0x4c5),'properties':{'mediatype':{'type':a0_0x6e1050(0x304),'enum':[a0_0x6e1050(0x505),a0_0x6e1050(0x4ce),a0_0x6e1050(0x33c),'audio']},'media':{'type':a0_0x6e1050(0x304)},'fileName':{'type':a0_0x6e1050(0x304)},'caption':{'type':a0_0x6e1050(0x304)}},'required':[a0_0x6e1050(0x374),a0_0x6e1050(0x7cb)],...C(a0_0x6e1050(0x4fe),a0_0x6e1050(0x31d),a0_0x6e1050(0x7cb))}},'required':[a0_0x6e1050(0x4ad),a0_0x6e1050(0x78b)]},Aa={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'number':{...H},'options':{...X},'stickerMessage':{'type':'object','properties':{'image':{'type':'string'}},'required':[a0_0x6e1050(0x505)],...C(a0_0x6e1050(0x505))}},'required':['stickerMessage',a0_0x6e1050(0x78b)]},Oa={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'statusMessage':{'type':a0_0x6e1050(0x4c5),'properties':{'type':{'type':a0_0x6e1050(0x304),'enum':[a0_0x6e1050(0x654),a0_0x6e1050(0x505),a0_0x6e1050(0x7d3),a0_0x6e1050(0x33c)]},'content':{'type':'string'},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x6e1050(0x304)},'font':{'type':a0_0x6e1050(0x30c),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x6e1050(0x6da),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6e1050(0x304),'pattern':'^\x5cd+','description':a0_0x6e1050(0x6f0)}},'allContacts':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]}},'required':[a0_0x6e1050(0x413),a0_0x6e1050(0x2e3)],...C(a0_0x6e1050(0x413),a0_0x6e1050(0x2e3))}},'required':['statusMessage']},Ta={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'number':{...H},'options':{...X},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x6e1050(0x304),'enum':[a0_0x6e1050(0x505),a0_0x6e1050(0x4ce),a0_0x6e1050(0x33c),a0_0x6e1050(0x7d3)]},'media':{'type':a0_0x6e1050(0x304)},'fileName':{'type':a0_0x6e1050(0x304)},'caption':{'type':a0_0x6e1050(0x304)}},'required':[a0_0x6e1050(0x374),'media'],...C(a0_0x6e1050(0x4fe),a0_0x6e1050(0x31d),a0_0x6e1050(0x7cb))}},'required':[a0_0x6e1050(0x4ad),a0_0x6e1050(0x78b)]},Ia={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'number':{...H},'options':{...X},'audioMessage':{'type':a0_0x6e1050(0x4c5),'properties':{'audio':{'type':a0_0x6e1050(0x304)}},'required':[a0_0x6e1050(0x7d3)],...C(a0_0x6e1050(0x7d3))}},'required':[a0_0x6e1050(0x3ca),a0_0x6e1050(0x78b)]},xa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'pollMessage':{'type':a0_0x6e1050(0x4c5),'properties':{'name':{'type':a0_0x6e1050(0x304)},'selectableCount':{'type':'number'},'values':{'type':a0_0x6e1050(0x6da),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x6e1050(0x4f4),a0_0x6e1050(0x6b6),a0_0x6e1050(0x6b9)],...C(a0_0x6e1050(0x4f4),a0_0x6e1050(0x6b6),'values')}},'required':[a0_0x6e1050(0x78b),'pollMessage']},Da={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'number':{...H},'menuMessage':{'type':a0_0x6e1050(0x4c5),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x6e1050(0x6da),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x6e1050(0x654),'choices'],...C(a0_0x6e1050(0x654),a0_0x6e1050(0x215))}},'required':[a0_0x6e1050(0x78b),a0_0x6e1050(0x78f)]},_a={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'number':{...H},'options':{...X},'buttonMessage':{'type':a0_0x6e1050(0x4c5),'properties':{'title':{'type':a0_0x6e1050(0x304)},'description':{'type':'string'},'footerText':{'type':'string'},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6e1050(0x4c5),'properties':{'buttonText':{'type':a0_0x6e1050(0x304)},'buttonId':{'type':a0_0x6e1050(0x304)}},'required':[a0_0x6e1050(0x3f7),a0_0x6e1050(0x522)],...C(a0_0x6e1050(0x3f7),a0_0x6e1050(0x522))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x6e1050(0x304)},'fileName':{'type':a0_0x6e1050(0x304)},'mediatype':{'type':a0_0x6e1050(0x304),'enum':[a0_0x6e1050(0x505),'document',a0_0x6e1050(0x33c)]}},'required':['media',a0_0x6e1050(0x374)],...C(a0_0x6e1050(0x7cb),a0_0x6e1050(0x4fe))}},'required':['title','buttons'],...C(a0_0x6e1050(0x4bc),a0_0x6e1050(0x580))}},'required':['number',a0_0x6e1050(0x556)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'number':{...H},'options':{...X},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x6e1050(0x78b)},'longitude':{'type':a0_0x6e1050(0x78b)},'name':{'type':a0_0x6e1050(0x304)},'address':{'type':a0_0x6e1050(0x304)}},'required':[a0_0x6e1050(0x3cc),a0_0x6e1050(0x684)],...C(a0_0x6e1050(0x4f4),a0_0x6e1050(0x171))}},'required':[a0_0x6e1050(0x78b),a0_0x6e1050(0x52b)]},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...X},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x6e1050(0x304)},'description':{'type':'string'},'footerText':{'type':a0_0x6e1050(0x304)},'buttonText':{'type':a0_0x6e1050(0x304)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6e1050(0x4c5),'properties':{'title':{'type':a0_0x6e1050(0x304)},'rows':{'type':a0_0x6e1050(0x6da),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x6e1050(0x304)},'description':{'type':'string'},'rowId':{'type':a0_0x6e1050(0x304)}},'required':[a0_0x6e1050(0x4bc),a0_0x6e1050(0x6f2)],...C('title','rowId')}}},'required':[a0_0x6e1050(0x4bc),a0_0x6e1050(0x62a)],...C('title')}}},'required':[a0_0x6e1050(0x4bc),a0_0x6e1050(0x580),a0_0x6e1050(0x3f7),'sections'],...C(a0_0x6e1050(0x4bc),a0_0x6e1050(0x580),a0_0x6e1050(0x3f7),a0_0x6e1050(0x555))}},'required':[a0_0x6e1050(0x78b),a0_0x6e1050(0x2dc)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'number':{...H},'options':{...X},'contactMessage':{'type':a0_0x6e1050(0x6da),'items':{'type':'object','properties':{'fullName':{'type':a0_0x6e1050(0x304)},'phoneNumber':{'type':a0_0x6e1050(0x304),'minLength':0xa}},'required':[a0_0x6e1050(0x6e1),a0_0x6e1050(0x1ad)],...C(a0_0x6e1050(0x6e1))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x6e1050(0x78b),'contactMessage']},La={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'reactionMessage':{'type':a0_0x6e1050(0x4c5),'properties':{'key':{'type':a0_0x6e1050(0x4c5),'properties':{'id':{'type':a0_0x6e1050(0x304)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x6e1050(0x636)],...C('id',a0_0x6e1050(0x21b))},'reaction':{'type':'string'}},'required':[a0_0x6e1050(0x759),a0_0x6e1050(0x611)],...C('reaction')}},'required':[a0_0x6e1050(0x4a1)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6e1050(0x304),'pattern':'^\x5cd+','description':a0_0x6e1050(0x11a)}}}},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'readMessages':{'type':a0_0x6e1050(0x6da),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x6e1050(0x636),a0_0x6e1050(0x21b)],...C('id',a0_0x6e1050(0x21b))}}},'required':[a0_0x6e1050(0x6d8)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'privacySettings':{'type':a0_0x6e1050(0x4c5),'properties':{'readreceipts':{'type':a0_0x6e1050(0x304),'enum':[a0_0x6e1050(0x218),a0_0x6e1050(0x568)]},'profile':{'type':a0_0x6e1050(0x304),'enum':[a0_0x6e1050(0x218),a0_0x6e1050(0x26b),a0_0x6e1050(0x6af),a0_0x6e1050(0x568)]},'status':{'type':'string','enum':[a0_0x6e1050(0x218),'contacts',a0_0x6e1050(0x6af),a0_0x6e1050(0x568)]},'online':{'type':'string','enum':[a0_0x6e1050(0x218),a0_0x6e1050(0x702)]},'last':{'type':'string','enum':['all',a0_0x6e1050(0x26b),a0_0x6e1050(0x6af),a0_0x6e1050(0x568)]},'groupadd':{'type':a0_0x6e1050(0x304),'enum':[a0_0x6e1050(0x218),a0_0x6e1050(0x26b),a0_0x6e1050(0x6af),a0_0x6e1050(0x568)]}},'required':['readreceipts',a0_0x6e1050(0x552),'status','online',a0_0x6e1050(0x4c2),'groupadd'],...C('readreceipts',a0_0x6e1050(0x552),a0_0x6e1050(0x349),'online','last',a0_0x6e1050(0x233))}},'required':[a0_0x6e1050(0x5a3)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'lastMessage':{'type':a0_0x6e1050(0x4c5),'properties':{'key':{'type':a0_0x6e1050(0x4c5),'properties':{'id':{'type':a0_0x6e1050(0x304)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]}},'required':['id',a0_0x6e1050(0x636),a0_0x6e1050(0x21b)],...C('id',a0_0x6e1050(0x21b))},'messageTimestamp':{'type':a0_0x6e1050(0x30c),'minLength':0x1}},'required':[a0_0x6e1050(0x759)],...C(a0_0x6e1050(0x166))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x6e1050(0x645)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x6e1050(0x304)}},'required':['id',a0_0x6e1050(0x636),'remoteJid'],...C('id','remoteJid','participant')},Ga={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x6e1050(0x4c5),'properties':{'_id':{'type':a0_0x6e1050(0x304),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...C('_id','id',a0_0x6e1050(0x5af))}}},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'name':{'type':a0_0x6e1050(0x304)}},...C('name')},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'status':{'type':a0_0x6e1050(0x304)}},...C('status')},Ae={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x6e1050(0x304)}}},za={'type':'object','properties':{'wuid':{'type':a0_0x6e1050(0x304)},'name':{'type':a0_0x6e1050(0x304)},'picture':{'type':a0_0x6e1050(0x304)},'status':{'type':a0_0x6e1050(0x304)},'isBusiness':{'type':a0_0x6e1050(0x55e)}}},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'where':{'type':a0_0x6e1050(0x4c5),'properties':{'_id':{'type':a0_0x6e1050(0x304),'minLength':0x1},'key':{'type':a0_0x6e1050(0x4c5),'if':{'propertyNames':{'enum':['fromMe',a0_0x6e1050(0x21b),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x6e1050(0x6aa)},'id':{'type':a0_0x6e1050(0x304),'minLength':0x1,'description':a0_0x6e1050(0x6aa)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x6e1050(0x4c5)}},...C(a0_0x6e1050(0x238))},'limit':{'type':'integer'}}},dc={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':a0_0x6e1050(0x304)},'fromMe':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x6e1050(0x304)},'status':{'type':a0_0x6e1050(0x304),'enum':['ERROR',a0_0x6e1050(0x58a),a0_0x6e1050(0x43e),a0_0x6e1050(0x170),'READ',a0_0x6e1050(0x5f3)]}},...C(a0_0x6e1050(0x238),a0_0x6e1050(0x21b),'id',a0_0x6e1050(0x349))},'limit':{'type':a0_0x6e1050(0x30c)}}},Ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'presence':{'type':a0_0x6e1050(0x304),'enum':[a0_0x6e1050(0x51c),a0_0x6e1050(0x190),a0_0x6e1050(0x186),a0_0x6e1050(0x235),a0_0x6e1050(0x334)]}},'required':[a0_0x6e1050(0x251),a0_0x6e1050(0x78b)]},Qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':'string'},'description':{'type':a0_0x6e1050(0x304)},'profilePicture':{'type':a0_0x6e1050(0x304)},'participants':{'type':a0_0x6e1050(0x6da),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6e1050(0x304),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x6e1050(0x22f)}}},'required':['subject','participants'],...C(a0_0x6e1050(0x57a),'description',a0_0x6e1050(0x79f))},Oe={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x6e1050(0x304),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x6e1050(0x62f)],...C(a0_0x6e1050(0x62f))},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x6e1050(0x304),'enum':[a0_0x6e1050(0x59d),a0_0x6e1050(0x726),a0_0x6e1050(0x585),'demote',a0_0x6e1050(0x660),'approve']},'participants':{'type':a0_0x6e1050(0x6da),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6e1050(0x304),'minLength':0xa,'pattern':a0_0x6e1050(0x74a),'description':a0_0x6e1050(0x22f)}}},'required':[a0_0x6e1050(0x62f),'action',a0_0x6e1050(0x3f2)],...C(a0_0x6e1050(0x62f),a0_0x6e1050(0x7d9))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'groupJid':{'type':a0_0x6e1050(0x304)},'expiration':{'type':a0_0x6e1050(0x78b),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x6e1050(0x62f),a0_0x6e1050(0x78d)],...C(a0_0x6e1050(0x62f),a0_0x6e1050(0x78d))},Za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x6e1050(0x304)},'image':{'type':a0_0x6e1050(0x304)}},'required':[a0_0x6e1050(0x62f),'image'],...C(a0_0x6e1050(0x62f),'image')},eo={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'groupJid':{'type':a0_0x6e1050(0x304)},'description':{'type':a0_0x6e1050(0x304)}},'required':[a0_0x6e1050(0x62f),a0_0x6e1050(0x580)],...C('groupJid',a0_0x6e1050(0x580))},to={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x6e1050(0x304)}},'required':[a0_0x6e1050(0x62f),a0_0x6e1050(0x4f4)],...C('groupJid','name')},so={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x6e1050(0x304),'enum':[a0_0x6e1050(0x38f),a0_0x6e1050(0x718),a0_0x6e1050(0x70a),'locked']}},'required':['groupJid',a0_0x6e1050(0x3f6)],...C(a0_0x6e1050(0x62f),a0_0x6e1050(0x3f6))},ao={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'groupJid':{'type':a0_0x6e1050(0x304)},'restrict':{'type':'boolean'},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x6e1050(0x55e)},'joinApprovalMode':{'type':a0_0x6e1050(0x55e)},'expiration':{'type':a0_0x6e1050(0x30c),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x6e1050(0x304)},'image':{'type':'string'}}},bs={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'inviteCode':{'type':a0_0x6e1050(0x304)}},'required':['inviteCode'],...C(a0_0x6e1050(0x742))},oo={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':'string'},'enabled':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]}},'required':[a0_0x6e1050(0x53b),a0_0x6e1050(0x23a)]},pc={'$id':(0x0,E['v4'])(),'type':a0_0x6e1050(0x4c5),'properties':{'local_map':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x6e1050(0x55e),'enum':[!0x0,!0x1]}},'required':[a0_0x6e1050(0x1c6),a0_0x6e1050(0x4d6),a0_0x6e1050(0x418),a0_0x6e1050(0x48a),a0_0x6e1050(0x7dd),a0_0x6e1050(0x1c0),a0_0x6e1050(0x6ee),a0_0x6e1050(0x1e0),'CONTACTS_UPSERT',a0_0x6e1050(0x496),a0_0x6e1050(0x323),'CHATS_SET',a0_0x6e1050(0x1ed),a0_0x6e1050(0x35e),a0_0x6e1050(0x495),a0_0x6e1050(0x175),'GROUPS_UPSERT',a0_0x6e1050(0x590),a0_0x6e1050(0x5e8)],...C('local_map',a0_0x6e1050(0x4d6),a0_0x6e1050(0x418),'MESSAGES_SET',a0_0x6e1050(0x7dd),a0_0x6e1050(0x1c0),'SEND_MESSAGE',a0_0x6e1050(0x1e0),a0_0x6e1050(0x5c6),a0_0x6e1050(0x496),'PRESENCE_UPDATE',a0_0x6e1050(0x5b0),a0_0x6e1050(0x1ed),a0_0x6e1050(0x35e),a0_0x6e1050(0x495),a0_0x6e1050(0x175),a0_0x6e1050(0x51f),a0_0x6e1050(0x590),'GROUP_PARTICIPANTS_UPDATE')},at=class{},ot=class extends D{[a0_0x6e1050(0x550)](_0x386053){return Xs(_0x386053);}async[a0_0x6e1050(0x2ae)](_0x1fc4bd){const _0x5a107f=a0_0x6e1050;if(_0x1fc4bd[_0x5a107f(0x401)]!==0x0)try{return{'insertCount':(await this[_0x5a107f(0x550)](_0x1fc4bd[0x0][_0x5a107f(0x427)])[_0x5a107f(0x3db)]([..._0x1fc4bd]))[_0x5a107f(0x401)]};}catch(_0x1647dd){return _0x1647dd;}}async['delete'](_0xc1fdb4,_0x12447c){const _0x3b0c10=a0_0x6e1050;try{return{'deletedCount':(await this[_0x3b0c10(0x550)](_0x12447c)[_0x3b0c10(0x467)]({..._0xc1fdb4[_0x3b0c10(0x6ec)]}))[_0x3b0c10(0x748)]};}catch(_0x47c01b){return{'error':_0x47c01b?.[_0x3b0c10(0x16c)]()};}}async['update'](_0x26b3f5,_0x461a67){const _0x1dad71=a0_0x6e1050;try{if(_0x26b3f5[_0x1dad71(0x401)]===0x0)return;let _0x11719f=this[_0x1dad71(0x550)](_0x461a67),_0x411144=_0x26b3f5[_0x1dad71(0x4bf)](_0x2bd038=>({'updateOne':{'filter':{'_id':_0x2bd038[_0x1dad71(0x238)],'owner':_0x461a67},'update':{..._0x2bd038}}})),{modifiedCount:_0x5e31ea}=await _0x11719f[_0x1dad71(0x1ef)](_0x411144);return{'insertCount':_0x5e31ea};}catch{return;}}async[a0_0x6e1050(0x15f)](_0x124be7,_0x5b5cca){const _0x48cf53=a0_0x6e1050;try{let _0x169251=this['getContactModelForOwner'](_0x5b5cca),_0x85e56f=I(_0x124be7['where']);return await _0x169251[_0x48cf53(0x15f)](_0x85e56f)[_0x48cf53(0x616)](_0x124be7?.[_0x48cf53(0x616)]??0x0)[_0x48cf53(0x475)]();}catch{return[];}}async[a0_0x6e1050(0x7a7)](_0x2a4a69,_0x4e26a8){const _0x4af9c2=a0_0x6e1050;try{let _0x13a85c=this[_0x4af9c2(0x550)](_0x4e26a8),_0x2dd44c=I(_0x2a4a69[_0x4af9c2(0x6ec)]);return await _0x13a85c[_0x4af9c2(0x7a7)](_0x2dd44c)['lean']();}catch{return null;}}async[a0_0x6e1050(0x5bf)](_0x59205b){const _0x282ea3=a0_0x6e1050;try{return await this[_0x282ea3(0x550)](_0x59205b)[_0x282ea3(0x1c1)][_0x282ea3(0x519)](),{'success':!0x0};}catch(_0x56ff6a){return console[_0x282ea3(0x7e2)](_0x56ff6a),{'success':!0x1,'error':_0x56ff6a};}}},rt=require(a0_0x6e1050(0x332)),Mc=require(a0_0x6e1050(0x372)),Ss=new $(a0_0x6e1050(0x489)),G=class{[a0_0x6e1050(0x763)](_0x56c773,_0xbc1be7=!0x0){const _0x3243e2=a0_0x6e1050;let _0x247bb7='/'+_0x56c773;return _0xbc1be7&&(_0x247bb7+=_0x3243e2(0x18f)),_0x247bb7;}async[a0_0x6e1050(0x6bd)](_0x30888a){const _0x5eba82=a0_0x6e1050;let {request:_0x30e255,schema:_0x1f5147,ClassRef:_0x41c637,execute:_0x4c4ec8}=_0x30888a,_0xeb951a=new _0x41c637(),_0x4efff6=_0x30e255[_0x5eba82(0x61f)],_0x13f32a=_0x30e255[_0x5eba82(0x551)];_0x30e255?.[_0x5eba82(0x4ba)]&&Object[_0x5eba82(0x1be)](_0x30e255['query'])[_0x5eba82(0x401)]>0x0&&Object['assign'](_0x13f32a,_0x30e255[_0x5eba82(0x4ba)]),_0x30e255[_0x5eba82(0x601)][_0x5eba82(0x269)](_0x5eba82(0x4ac))&&Object['assign'](_0x13f32a,_0x4efff6),Object[_0x5eba82(0x147)](_0xeb951a,_0x4efff6);let _0x518576=_0x1f5147?(0x0,rt[_0x5eba82(0x38b)])(_0xeb951a,_0x1f5147):{'valid':!0x0,'errors':[]};if(!_0x518576['valid']){let _0x35691=_0x518576[_0x5eba82(0x15c)][_0x5eba82(0x4bf)](({property:_0x30ad79,stack:_0x53755c,schema:_0x456a80})=>{const _0x3f4477=_0x5eba82;let _0x30b73b;return _0x456a80[_0x3f4477(0x580)]?_0x30b73b=_0x456a80[_0x3f4477(0x580)]:_0x30b73b=_0x53755c['replace']('instance.',''),{'property':_0x30ad79[_0x3f4477(0x70d)](_0x3f4477(0x21c),''),'message':_0x30b73b};});throw Ss[_0x5eba82(0x7e2)]([..._0x35691]),new m(..._0x35691);}return await _0x4c4ec8(_0x13f32a,_0xeb951a);}async[a0_0x6e1050(0x5e6)](_0x102659){const _0x2799fa=a0_0x6e1050;let {request:_0x47f79e,ClassRef:_0x5eb7c2,schema:_0x58721f,execute:_0x249bc7}=_0x102659,_0x25dca9=_0x47f79e['query'];if(!_0x25dca9?.[_0x2799fa(0x62f)])throw new m(_0x2799fa(0x195),_0x2799fa(0x6a5));let _0x3750ff=_0x47f79e[_0x2799fa(0x551)],_0x3c2aaa=_0x47f79e['body'],_0x16a00b=new _0x5eb7c2();Object['assign'](_0x3c2aaa,_0x25dca9),Object[_0x2799fa(0x147)](_0x16a00b,_0x3c2aaa);let _0xa16a17=(0x0,rt[_0x2799fa(0x38b)])(_0x16a00b,_0x58721f);if(!_0xa16a17[_0x2799fa(0x1fb)]){let _0x44a3ec=_0xa16a17[_0x2799fa(0x15c)][_0x2799fa(0x4bf)](({property:_0x2bf488,stack:_0x1a22c3,schema:_0x566840})=>{const _0x589114=_0x2799fa;let _0x373147;return _0x566840[_0x589114(0x580)]?_0x373147=_0x566840['description']:_0x373147=_0x1a22c3[_0x589114(0x70d)](_0x589114(0x21c),''),{'property':_0x2bf488[_0x589114(0x70d)](_0x589114(0x21c),''),'message':_0x373147};});throw Ss[_0x2799fa(0x7e2)]([..._0x44a3ec]),new m(..._0x44a3ec);}return await _0x249bc7(_0x3750ff,_0x16a00b);}async[a0_0x6e1050(0x408)](_0x48c561){const _0x3a88d4=a0_0x6e1050;let {request:_0x8e39a1,ClassRef:_0x491391,schema:_0x5974a6,execute:_0x25bdef}=_0x48c561,_0x1de3ef=_0x8e39a1[_0x3a88d4(0x61f)];if(!_0x1de3ef?.[_0x3a88d4(0x742)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x3a88d4(0x14b));let _0x48d9b8=_0x8e39a1[_0x3a88d4(0x551)],_0xed4697=_0x8e39a1['body'],_0x2dedee=new _0x491391();Object[_0x3a88d4(0x147)](_0xed4697,_0x1de3ef),Object[_0x3a88d4(0x147)](_0x2dedee,_0xed4697);let _0xbf6080=(0x0,rt[_0x3a88d4(0x38b)])(_0x2dedee,_0x5974a6);if(!_0xbf6080[_0x3a88d4(0x1fb)]){let _0x3c8d1b=_0xbf6080[_0x3a88d4(0x15c)]['map'](({property:_0x2bd4e0,stack:_0x2fa3c8,schema:_0x5c71a3})=>{const _0xb48515=_0x3a88d4;let _0x57bf7f;return _0x5c71a3[_0xb48515(0x580)]?_0x57bf7f=_0x5c71a3['description']:_0x57bf7f=_0x2fa3c8[_0xb48515(0x70d)](_0xb48515(0x21c),''),{'property':_0x2bd4e0[_0xb48515(0x70d)]('instance.',''),'message':_0x57bf7f};});throw Ss[_0x3a88d4(0x7e2)]([..._0x3c8d1b]),new m(..._0x3c8d1b);}return await _0x25bdef(_0x48d9b8,_0x2dedee);}},M=class{},kc=new $(a0_0x6e1050(0x2c5)),it=class extends G{constructor(..._0x9b684d){const _0x17be61=a0_0x6e1050;super(),this[_0x17be61(0x42b)]=(0x0,ro[_0x17be61(0x574)])(),this[_0x17be61(0x42b)][_0x17be61(0x146)](this[_0x17be61(0x763)](_0x17be61(0x560)),..._0x9b684d,async(_0x3dfe69,_0x196ab0)=>{const _0x367540=_0x17be61;let _0x1cee35=await this[_0x367540(0x6bd)]({'request':_0x3dfe69,'schema':Ka,'ClassRef':ze,'execute':(_0x35c754,_0x1d2445)=>P[_0x367540(0x560)](_0x35c754,_0x1d2445)});return _0x196ab0[_0x367540(0x349)](0xc9)['json'](_0x1cee35);})[_0x17be61(0x146)](this[_0x17be61(0x763)](_0x17be61(0x4e2)),..._0x9b684d,async(_0x157395,_0x1aad61)=>{const _0x458bd6=_0x17be61;let _0x8ffa8b=await this['dataValidate']({'request':_0x157395,'schema':Fa,'ClassRef':He,'execute':(_0x448554,_0x717988)=>P[_0x458bd6(0x316)](_0x448554,_0x717988)});return _0x1aad61['status'](0xc9)[_0x458bd6(0x5dd)](_0x8ffa8b);})[_0x17be61(0x146)](this[_0x17be61(0x763)](_0x17be61(0x35d)),..._0x9b684d,async(_0x2bb068,_0x1bd551)=>{const _0x54eeaa=_0x17be61;let _0x3768bd=await this[_0x54eeaa(0x6bd)]({'request':_0x2bb068,'schema':v,'ClassRef':M,'execute':(_0x1ef89a,_0x280f61)=>P[_0x54eeaa(0x35d)](_0x1ef89a,_0x280f61)});return _0x1bd551['status'](0xc9)['json'](_0x3768bd);})[_0x17be61(0x53c)](this[_0x17be61(0x763)]('markMessageAsRead'),..._0x9b684d,async(_0x207f5a,_0x2c116a)=>{const _0x551550=_0x17be61;let _0x4a4de8=await this['dataValidate']({'request':_0x207f5a,'schema':Ja,'ClassRef':Ye,'execute':(_0x335433,_0x10164e)=>P[_0x551550(0x768)](_0x335433,_0x10164e)});return _0x2c116a[_0x551550(0x349)](0xc9)[_0x551550(0x5dd)](_0x4a4de8);})[_0x17be61(0x53c)](this['routerPath']('archiveChat'),..._0x9b684d,async(_0x53e427,_0x1f3b1a)=>{const _0x53c03d=_0x17be61;let _0x14b359=await this[_0x53c03d(0x6bd)]({'request':_0x53e427,'schema':qa,'ClassRef':Xe,'execute':(_0x256812,_0x9ee837)=>P[_0x53c03d(0x438)](_0x256812,_0x9ee837)});return _0x1f3b1a[_0x53c03d(0x349)](0xc9)[_0x53c03d(0x5dd)](_0x14b359);})[_0x17be61(0x5c9)](this['routerPath'](_0x17be61(0x39c)),..._0x9b684d,async(_0x4ad8d7,_0x399c8b)=>{const _0x34acd1=_0x17be61;let _0x5ce594=await this[_0x34acd1(0x6bd)]({'request':_0x4ad8d7,'schema':Va,'ClassRef':et,'execute':(_0xbfa6c4,_0x1e922c)=>P['deleteMessage'](_0xbfa6c4,_0x1e922c)});return _0x399c8b['status'](0xc9)['json'](_0x5ce594);})[_0x17be61(0x146)](this[_0x17be61(0x763)](_0x17be61(0x243)),..._0x9b684d,async(_0x2932bc,_0x3c422a)=>{const _0x4b10fa=_0x17be61;let _0xa5264b=await this[_0x4b10fa(0x6bd)]({'request':_0x2932bc,'schema':Ae,'ClassRef':Re,'execute':(_0x428b85,_0x80ed98)=>P[_0x4b10fa(0x419)](_0x428b85,_0x80ed98)});return _0x3c422a[_0x4b10fa(0x349)](0xc8)[_0x4b10fa(0x5dd)](_0xa5264b);})['post'](this[_0x17be61(0x763)]('fetchProfile'),..._0x9b684d,async(_0x1eb1a4,_0x454dba)=>{const _0x4d0283=_0x17be61;let _0x46c5bc=await this['dataValidate']({'request':_0x1eb1a4,'schema':za,'ClassRef':Re,'execute':(_0x5d80d9,_0x59eb01)=>P[_0x4d0283(0x15e)](_0x5d80d9,_0x59eb01)});return _0x454dba[_0x4d0283(0x349)](0xc8)[_0x4d0283(0x5dd)](_0x46c5bc);})[_0x17be61(0x146)](this[_0x17be61(0x763)](_0x17be61(0x620)),..._0x9b684d,async(_0x98be88,_0x2ec514)=>{const _0x128a0f=_0x17be61;let _0x1d003c=await this[_0x128a0f(0x6bd)]({'request':_0x98be88,'schema':Ga,'ClassRef':at,'execute':(_0x3cd919,_0x202f48)=>P[_0x128a0f(0x4d0)](_0x3cd919,_0x202f48)});return _0x2ec514[_0x128a0f(0x349)](0xc8)[_0x128a0f(0x5dd)](_0x1d003c);})['post'](this['routerPath'](_0x17be61(0x745)),..._0x9b684d,async(_0x4c3a16,_0x4a4c9e)=>{const _0x597057=_0x17be61;let _0x1d0b1d=await this[_0x597057(0x6bd)]({'request':_0x4c3a16,'schema':null,'ClassRef':Object,'execute':(_0x36fea8,_0x16a54c)=>P[_0x597057(0x745)](_0x36fea8,_0x16a54c)});return _0x4a4c9e['status'](0xc9)['json'](_0x1d0b1d);})[_0x17be61(0x146)](this[_0x17be61(0x763)](_0x17be61(0x3e8)),..._0x9b684d,async(_0x3e782e,_0x120373)=>{const _0x45a484=_0x17be61;let _0x10d761=await this[_0x45a484(0x6bd)]({'request':_0x3e782e,'schema':Ha,'ClassRef':Be,'execute':(_0x498f6d,_0x3419f2)=>P[_0x45a484(0x44f)](_0x498f6d,_0x3419f2)});return _0x120373['status'](0xc8)[_0x45a484(0x5dd)](_0x10d761);})[_0x17be61(0x58b)](this[_0x17be61(0x763)](_0x17be61(0xe3)),..._0x9b684d,async(_0xe62e11,_0x4c8ab2)=>{const _0x1c7d18=_0x17be61;let _0x4cc72c=await this[_0x1c7d18(0x6bd)]({'request':_0xe62e11,'schema':null,'ClassRef':M,'execute':_0x1f4b9a=>P[_0x1c7d18(0x76f)](_0x1f4b9a)});return _0x4c8ab2['status'](0xc8)['json'](_0x4cc72c);})[_0x17be61(0x58b)](this[_0x17be61(0x763)](_0x17be61(0x2dd)),..._0x9b684d,async(_0x5f0686,_0xfa056)=>{const _0x172ef6=_0x17be61;let _0x1f82c4=await this[_0x172ef6(0x6bd)]({'request':_0x5f0686,'schema':null,'ClassRef':M,'execute':_0x4ba7ad=>P['fetchLabels'](_0x4ba7ad)});return _0xfa056[_0x172ef6(0x349)](0xc8)[_0x172ef6(0x5dd)](_0x1f82c4);})[_0x17be61(0x53c)](this['routerPath'](_0x17be61(0x5ff)),..._0x9b684d,async(_0x103907,_0x69824d)=>{const _0x401f2d=_0x17be61;let _0x154a2f=await this[_0x401f2d(0x6bd)]({'request':_0x103907,'schema':null,'ClassRef':Array,'execute':(_0x5a742b,_0x98e2fd)=>P['importChats'](_0x5a742b,_0x98e2fd)});return _0x69824d[_0x401f2d(0x349)](0xc8)['json'](_0x154a2f);})['get'](this[_0x17be61(0x763)](_0x17be61(0xdc)),..._0x9b684d,async(_0x2759b6,_0x49ea6c)=>{const _0x1a65b8=_0x17be61;let _0x4a57c8=await this[_0x1a65b8(0x6bd)]({'request':_0x2759b6,'schema':null,'ClassRef':M,'execute':_0x573e79=>P[_0x1a65b8(0xdc)](_0x573e79)});return _0x49ea6c[_0x1a65b8(0x349)](0xc8)[_0x1a65b8(0x5dd)](_0x4a57c8);})[_0x17be61(0x53c)](this[_0x17be61(0x763)]('updatePrivacySettings'),..._0x9b684d,async(_0x5a3f47,_0x4921c0)=>{const _0x2668ce=_0x17be61;let _0x40d2fc=await this[_0x2668ce(0x6bd)]({'request':_0x5a3f47,'schema':Ua,'ClassRef':Ze,'execute':(_0x22da4b,_0x55693d)=>P[_0x2668ce(0x713)](_0x22da4b,_0x55693d)});return _0x4921c0[_0x2668ce(0x349)](0xc9)[_0x2668ce(0x5dd)](_0x40d2fc);})[_0x17be61(0x146)](this['routerPath'](_0x17be61(0x5ed)),..._0x9b684d,async(_0x141310,_0x591e3d)=>{const _0x14a296=_0x17be61;let _0x50e029=await this[_0x14a296(0x6bd)]({'request':_0x141310,'schema':Ae,'ClassRef':Se,'execute':(_0x5069df,_0x5cdc2f)=>P[_0x14a296(0x5ed)](_0x5069df,_0x5cdc2f)});return _0x591e3d[_0x14a296(0x349)](0xc8)['json'](_0x50e029);})[_0x17be61(0x146)](this['routerPath']('updateProfileName'),..._0x9b684d,async(_0x490fc0,_0x37e076)=>{const _0x5c7ecb=_0x17be61;let _0xbfedd3=await this[_0x5c7ecb(0x6bd)]({'request':_0x490fc0,'schema':Ba,'ClassRef':Ke,'execute':(_0x34427e,_0x3d5923)=>P[_0x5c7ecb(0x25b)](_0x34427e,_0x3d5923)});return _0x37e076['status'](0xc8)[_0x5c7ecb(0x5dd)](_0xbfedd3);})['post'](this[_0x17be61(0x763)](_0x17be61(0x198)),..._0x9b684d,async(_0x374e65,_0x9109f0)=>{const _0x3a6fd8=_0x17be61;let _0x47bb04=await this[_0x3a6fd8(0x6bd)]({'request':_0x374e65,'schema':Wa,'ClassRef':Qe,'execute':(_0x448789,_0x12f327)=>P['updateProfileStatus'](_0x448789,_0x12f327)});return _0x9109f0[_0x3a6fd8(0x349)](0xc8)['json'](_0x47bb04);})[_0x17be61(0x53c)](this['routerPath'](_0x17be61(0x459)),..._0x9b684d,async(_0x50b0ed,_0x2a8f78)=>{const _0x3f4cb0=_0x17be61;let _0xdf1311=await this['dataValidate']({'request':_0x50b0ed,'schema':Ae,'ClassRef':Se,'execute':(_0x3f35d8,_0x4d369e)=>P[_0x3f4cb0(0x459)](_0x3f35d8,_0x4d369e)});return _0x2a8f78['status'](0xc8)[_0x3f4cb0(0x5dd)](_0xdf1311);})[_0x17be61(0x5c9)](this[_0x17be61(0x763)](_0x17be61(0x1a3)),..._0x9b684d,async(_0x52c8c6,_0x320f37)=>{const _0x15e836=_0x17be61;let _0x2eb700=await this[_0x15e836(0x6bd)]({'request':_0x52c8c6,'schema':Ae,'ClassRef':Se,'execute':(_0x2f29f9,_0x29cfb7)=>P[_0x15e836(0x1a3)](_0x2f29f9,_0x29cfb7)});return _0x320f37[_0x15e836(0x349)](0xc8)[_0x15e836(0x5dd)](_0x2eb700);});}},io=require(a0_0x6e1050(0x5b7)),nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},pt=class{},Z=class{},Te=class{},ht=class extends Z{},gt=class extends Z{},mt=class extends G{constructor(..._0x27bb8c){const _0x337569=a0_0x6e1050;super(),this['router']=(0x0,io['Router'])(),this[_0x337569(0x42b)][_0x337569(0x146)](this['routerPath'](_0x337569(0x694)),..._0x27bb8c,async(_0x531d69,_0x4a5c11)=>{const _0x2868a2=_0x337569;let _0x11f933=await this[_0x2868a2(0x6bd)]({'request':_0x531d69,'schema':Qa,'ClassRef':nt,'execute':(_0x3f501a,_0x1eb22d)=>V[_0x2868a2(0x5df)](_0x3f501a,_0x1eb22d)});_0x4a5c11[_0x2868a2(0x349)](0xc9)[_0x2868a2(0x5dd)](_0x11f933);})[_0x337569(0x53c)](this[_0x337569(0x763)](_0x337569(0x36e)),..._0x27bb8c,async(_0x41e85f,_0x1a030d)=>{const _0x248f3f=_0x337569;let _0x51bdc1=await this[_0x248f3f(0x5e6)]({'request':_0x41e85f,'schema':Za,'ClassRef':ct,'execute':(_0x453b6b,_0x569115)=>V[_0x248f3f(0x36e)](_0x453b6b,_0x569115)});_0x1a030d['status'](0xc9)[_0x248f3f(0x5dd)](_0x51bdc1);})[_0x337569(0x53c)](this[_0x337569(0x763)](_0x337569(0x40a)),..._0x27bb8c,async(_0x5c8dc4,_0x49e89f)=>{const _0x448c37=_0x337569;let _0x43d248=await this[_0x448c37(0x5e6)]({'request':_0x5c8dc4,'schema':eo,'ClassRef':lt,'execute':(_0x3e116b,_0x1c103d)=>V[_0x448c37(0x40a)](_0x3e116b,_0x1c103d)});_0x49e89f[_0x448c37(0x349)](0xc9)[_0x448c37(0x5dd)](_0x43d248);})[_0x337569(0x53c)](this['routerPath'](_0x337569(0x428)),..._0x27bb8c,async(_0x20afc6,_0x4d6fc3)=>{const _0x3e8dd8=_0x337569;let _0x1debff=await this[_0x3e8dd8(0x5e6)]({'request':_0x20afc6,'schema':to,'ClassRef':ut,'execute':(_0x224997,_0x616697)=>V[_0x3e8dd8(0x428)](_0x224997,_0x616697)});_0x4d6fc3[_0x3e8dd8(0x349)](0xc9)[_0x3e8dd8(0x5dd)](_0x1debff);})[_0x337569(0x53c)](this[_0x337569(0x763)](_0x337569(0x2a5)),..._0x27bb8c,async(_0x2a24c9,_0x462a94)=>{const _0x18867c=_0x337569;let _0x417f36=await this[_0x18867c(0x5e6)]({'request':_0x2a24c9,'schema':ao,'ClassRef':pt,'execute':(_0x527124,_0x52c3f7)=>V[_0x18867c(0x2a5)](_0x527124,_0x52c3f7)});_0x462a94[_0x18867c(0x349)](0xc9)['json'](_0x417f36);})['put'](this[_0x337569(0x763)](_0x337569(0x114)),..._0x27bb8c,async(_0x23901d,_0x3529e9)=>{const _0x49316c=_0x337569;let _0x59f7a7=await this['groupValidate']({'request':_0x23901d,'schema':so,'ClassRef':dt,'execute':(_0x7cf71e,_0x1bf597)=>V[_0x49316c(0x114)](_0x7cf71e,_0x1bf597)});_0x3529e9[_0x49316c(0x349)](0xc9)[_0x49316c(0x5dd)](_0x59f7a7);})[_0x337569(0x53c)](this[_0x337569(0x763)]('toggleEphemeral'),..._0x27bb8c,async(_0x5f51b9,_0x2d8f28)=>{const _0xb36cb7=_0x337569;let _0x3d9a70=await this['groupValidate']({'request':_0x5f51b9,'schema':Xa,'ClassRef':gt,'execute':(_0x2458df,_0xa83da1)=>V[_0xb36cb7(0x630)](_0x2458df,_0xa83da1)});_0x2d8f28[_0xb36cb7(0x349)](0xc9)['json'](_0x3d9a70);})['get'](this['routerPath'](_0x337569(0x7d7)),..._0x27bb8c,async(_0x29c244,_0x513a9d)=>{const _0x156988=_0x337569;let _0x199093=await this[_0x156988(0x5e6)]({'request':_0x29c244,'schema':Oe,'ClassRef':Z,'execute':(_0xb95bca,_0x29baee)=>V[_0x156988(0x398)](_0xb95bca,_0x29baee)});_0x513a9d[_0x156988(0x349)](0xc8)[_0x156988(0x5dd)](_0x199093);})['get'](this['routerPath'](_0x337569(0x667)),..._0x27bb8c,async(_0x3e3e72,_0x36cef5)=>{const _0x33e6e0=_0x337569;let _0x3c8865=await this[_0x33e6e0(0x6bd)]({'request':_0x3e3e72,'schema':v,'ClassRef':M,'execute':_0x128a2f=>V['findGroups'](_0x128a2f)});_0x36cef5['status'](0xc8)[_0x33e6e0(0x5dd)](_0x3c8865);})[_0x337569(0x58b)](this[_0x337569(0x763)](_0x337569(0x3f2)),..._0x27bb8c,async(_0x3cee6d,_0x175f95)=>{const _0x16c546=_0x337569;let _0x2a55dc=await this[_0x16c546(0x5e6)]({'request':_0x3cee6d,'schema':Oe,'ClassRef':Z,'execute':(_0x3d5542,_0x465f49)=>V['findParticipants'](_0x3d5542,_0x465f49)});_0x175f95[_0x16c546(0x349)](0xc8)[_0x16c546(0x5dd)](_0x2a55dc);})[_0x337569(0x58b)](this['routerPath'](_0x337569(0x742)),..._0x27bb8c,async(_0x2d44ac,_0x5a7fd8)=>{const _0x3ea140=_0x337569;let _0x38704a=await this['groupValidate']({'request':_0x2d44ac,'schema':Oe,'ClassRef':Z,'execute':(_0x1b163e,_0xc74374)=>V[_0x3ea140(0x742)](_0x1b163e,_0xc74374)});_0x5a7fd8[_0x3ea140(0x349)](0xc8)[_0x3ea140(0x5dd)](_0x38704a);})[_0x337569(0x146)](this['routerPath'](_0x337569(0x62b)),..._0x27bb8c,async(_0x93dffa,_0x6128bb)=>{const _0x314b73=_0x337569;let _0x16edcd=await this[_0x314b73(0x408)]({'request':_0x93dffa,'schema':bs,'ClassRef':Te,'execute':(_0x5553ab,_0x2381a4)=>V['groupGetInviteInfo'](_0x5553ab,_0x2381a4)});_0x6128bb[_0x314b73(0x349)](0xc9)['json'](_0x16edcd);})[_0x337569(0x53c)](this['routerPath'](_0x337569(0x405)),..._0x27bb8c,async(_0x420c98,_0x16e2f8)=>{const _0x331a0c=_0x337569;let _0x324275=await this['joinGroupValidate']({'request':_0x420c98,'schema':bs,'ClassRef':Te,'execute':(_0x393000,_0x1921a2)=>V[_0x331a0c(0x405)](_0x393000,_0x1921a2)});_0x16e2f8['status'](0xc9)['json'](_0x324275);})[_0x337569(0x53c)](this[_0x337569(0x763)](_0x337569(0x36f)),..._0x27bb8c,async(_0x1a3f79,_0x29eb03)=>{const _0x5ee16e=_0x337569;let _0x681a6b=await this[_0x5ee16e(0x5e6)]({'request':_0x1a3f79,'schema':Oe,'ClassRef':Z,'execute':(_0x32e008,_0x24b53d)=>V[_0x5ee16e(0x36f)](_0x32e008,_0x24b53d)});_0x29eb03[_0x5ee16e(0x349)](0xc9)['json'](_0x681a6b);})[_0x337569(0x53c)](this[_0x337569(0x763)](_0x337569(0x7bb)),..._0x27bb8c,async(_0x3bef58,_0x464e24)=>{const _0x4e11a7=_0x337569;let _0xd6a46a=await this[_0x4e11a7(0x5e6)]({'request':_0x3bef58,'schema':Ya,'ClassRef':ht,'execute':(_0xa0d5b9,_0x1b6e2c)=>V[_0x4e11a7(0x700)](_0xa0d5b9,_0x1b6e2c)});_0x464e24['status'](0xc9)[_0x4e11a7(0x5dd)](_0xd6a46a);})[_0x337569(0x5c9)](this[_0x337569(0x763)]('leaveGroup'),..._0x27bb8c,async(_0x224109,_0x42f541)=>{const _0x332591=_0x337569;let _0x439d14=await this['groupValidate']({'request':_0x224109,'schema':{},'ClassRef':Z,'execute':(_0x29c020,_0x3e7b7b)=>V['leaveGroup'](_0x29c020,_0x3e7b7b)});_0x42f541['status'](0xc8)[_0x332591(0x5dd)](_0x439d14);});}},no=require(a0_0x6e1050(0x5b7)),ft=class extends G{constructor(_0x29a1b8,..._0x24bfaf){const _0x29bc67=a0_0x6e1050;super(),this[_0x29bc67(0x7aa)]=_0x29a1b8,this['router']=(0x0,no[_0x29bc67(0x574)])();let _0x485c4b=_0x29a1b8['get'](_0x29bc67(0x55b));this[_0x29bc67(0x42b)][_0x29bc67(0x146)](_0x29bc67(0x23d),..._0x24bfaf,async(_0x4620c7,_0x1fb062)=>{const _0x27ff61=_0x29bc67;let {instanceName:_0x50f48b,apikey:_0x81f7a8,number:_0x295aae}=_0x4620c7['body'],_0xc8cf0d=await ce[_0x27ff61(0x53a)]({'instanceName':_0x50f48b,'apikey':_0x81f7a8,'number':_0x295aae});return _0x1fb062[_0x27ff61(0x349)](0xc9)[_0x27ff61(0x5dd)](_0xc8cf0d);})[_0x29bc67(0x53c)](this[_0x29bc67(0x763)](_0x29bc67(0x426)),..._0x24bfaf,async(_0x144c06,_0x4f8c7f)=>{const _0x1dbf17=_0x29bc67;let _0x2a022d=await this[_0x1dbf17(0x6bd)]({'request':_0x144c06,'schema':v,'ClassRef':M,'execute':_0x19a857=>ce[_0x1dbf17(0x40e)](_0x19a857)});return _0x4f8c7f[_0x1dbf17(0x349)](0xc8)[_0x1dbf17(0x5dd)](_0x2a022d);})[_0x29bc67(0x58b)](this[_0x29bc67(0x763)](_0x29bc67(0x4bd)),..._0x24bfaf,async(_0x1633a6,_0x185cd4)=>{const _0x4b45dc=_0x29bc67;let _0x16e0b7=await this[_0x4b45dc(0x6bd)]({'request':_0x1633a6,'schema':v,'ClassRef':M,'execute':_0x45a6a3=>ce['connectToWhatsappController'](_0x45a6a3)});return _0x185cd4[_0x4b45dc(0x349)](0xc8)[_0x4b45dc(0x5dd)](_0x16e0b7);})['get'](this[_0x29bc67(0x763)](_0x29bc67(0x16a)),..._0x24bfaf,async(_0x5edbea,_0x5dd62a)=>{const _0x10bee3=_0x29bc67;let _0x57c97d=await this[_0x10bee3(0x6bd)]({'request':_0x5edbea,'schema':v,'ClassRef':M,'execute':_0x397f77=>ce['connectionState'](_0x397f77)});return _0x5dd62a[_0x10bee3(0x349)](0xc8)[_0x10bee3(0x5dd)](_0x57c97d);})[_0x29bc67(0x58b)](this[_0x29bc67(0x763)](_0x29bc67(0x49f),!0x1),..._0x24bfaf,async(_0x2e712f,_0x3da2e6)=>{const _0x51ec54=_0x29bc67;let _0x27b81b=await this[_0x51ec54(0x6bd)]({'request':_0x2e712f,'schema':null,'ClassRef':M,'execute':_0x59c913=>ce[_0x51ec54(0x49f)](_0x59c913)});return _0x3da2e6['status'](0xc8)[_0x51ec54(0x5dd)](_0x27b81b);})[_0x29bc67(0x5c9)](this['routerPath'](_0x29bc67(0x78c)),..._0x24bfaf,async(_0x439649,_0x54c949)=>{const _0x211b25=_0x29bc67;let _0x570c42=await this[_0x211b25(0x6bd)]({'request':_0x439649,'schema':v,'ClassRef':M,'execute':_0x16053a=>ce[_0x211b25(0x78c)](_0x16053a)});return _0x54c949['status'](0xc8)[_0x211b25(0x5dd)](_0x570c42);})[_0x29bc67(0x5c9)](this[_0x29bc67(0x763)](_0x29bc67(0x5c9)),..._0x24bfaf,async(_0x15d31c,_0x452172)=>{const _0x57e12f=_0x29bc67;let _0x547ede=await this[_0x57e12f(0x6bd)]({'request':_0x15d31c,'schema':v,'ClassRef':M,'execute':_0xe30ecf=>ce[_0x57e12f(0x644)](_0xe30ecf)});return _0x452172[_0x57e12f(0x349)](0xc8)['json'](_0x547ede);});}},co=require(a0_0x6e1050(0x5b7)),Ms=class{},z=class extends Ms{},wt=class extends z{},yt=class extends z{},bt=class extends z{},St=class extends z{},Ie=class extends z{},Mt=class extends z{},Ct=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},Rt=class{},$t=class extends G{constructor(..._0x47bdf1){const _0x543906=a0_0x6e1050;super(),this['router']=(0x0,co[_0x543906(0x574)])(),this['router'][_0x543906(0x146)](this['routerPath']('sendText'),..._0x47bdf1,async(_0x58d9d5,_0x424258)=>{const _0x1d2581=_0x543906;try{let _0xd36c1e=await this[_0x1d2581(0x6bd)]({'request':_0x58d9d5,'schema':Ra,'ClassRef':wt,'execute':(_0x94d33e,_0x3a2f71)=>W['sendText'](_0x94d33e,_0x3a2f71)});return _0x424258['status'](0xc9)[_0x1d2581(0x5dd)](_0xd36c1e);}catch(_0x4170d4){console['error'](_0x1d2581(0x576),_0x4170d4),console[_0x1d2581(0x7e2)](_0x1d2581(0x73d),_0x58d9d5[_0x1d2581(0x61f)]),console['error'](_0x1d2581(0x737),_0x58d9d5[_0x1d2581(0x53b)]);}})[_0x543906(0x146)](this[_0x543906(0x763)](_0x543906(0x740)),..._0x47bdf1,async(_0x5ab4f9,_0x3205da)=>{const _0x295b48=_0x543906;try{let _0x505699=await this[_0x295b48(0x6bd)]({'request':_0x5ab4f9,'schema':Ta,'ClassRef':Ie,'execute':(_0x287b18,_0x1ca10f)=>W[_0x295b48(0x740)](_0x287b18,_0x1ca10f)});return _0x3205da[_0x295b48(0x349)](0xc9)[_0x295b48(0x5dd)](_0x505699);}catch(_0x2acfc4){console['error'](_0x295b48(0x576),_0x2acfc4),console[_0x295b48(0x7e2)](_0x295b48(0x73d),_0x5ab4f9[_0x295b48(0x61f)]),console[_0x295b48(0x7e2)](_0x295b48(0x737),_0x5ab4f9[_0x295b48(0x53b)]);}})[_0x543906(0x146)](this[_0x543906(0x763)](_0x543906(0x376)),..._0x47bdf1,async(_0x1913c0,_0x19e1a6)=>{const _0x2a603a=_0x543906;try{let _0x65600e=await this[_0x2a603a(0x6bd)]({'request':_0x1913c0,'schema':Da,'ClassRef':St,'execute':(_0x13ffae,_0x2f9471)=>W['sendMenu'](_0x13ffae,_0x2f9471)});return _0x19e1a6[_0x2a603a(0x349)](0xc9)['json'](_0x65600e);}catch(_0xed506a){console[_0x2a603a(0x7e2)](_0x2a603a(0x576),_0xed506a),console[_0x2a603a(0x7e2)](_0x2a603a(0x73d),_0x1913c0[_0x2a603a(0x61f)]),console[_0x2a603a(0x7e2)](_0x2a603a(0x737),_0x1913c0[_0x2a603a(0x53b)]);}})['post'](this[_0x543906(0x763)](_0x543906(0x412)),..._0x47bdf1,async(_0x2958bb,_0x399924)=>{const _0x1ed724=_0x543906;try{let _0x4f8c51=await this[_0x1ed724(0x6bd)]({'request':_0x2958bb,'schema':Ia,'ClassRef':Ie,'execute':(_0x1df9c0,_0x2a88d8)=>W[_0x1ed724(0x412)](_0x1df9c0,_0x2a88d8)});return _0x399924[_0x1ed724(0x349)](0xc9)[_0x1ed724(0x5dd)](_0x4f8c51);}catch(_0x1015b7){console[_0x1ed724(0x7e2)](_0x1ed724(0x576),_0x1015b7),console[_0x1ed724(0x7e2)](_0x1ed724(0x73d),_0x2958bb[_0x1ed724(0x61f)]),console[_0x1ed724(0x7e2)](_0x1ed724(0x737),_0x2958bb[_0x1ed724(0x53b)]);}})[_0x543906(0x146)](this[_0x543906(0x763)](_0x543906(0x778)),..._0x47bdf1,async(_0x6df0f1,_0x56922d)=>{const _0x182689=_0x543906;try{let _0x23b4ba=await this[_0x182689(0x6bd)]({'request':_0x6df0f1,'schema':_a,'ClassRef':Ct,'execute':(_0x53b541,_0x1e6faa)=>W[_0x182689(0x778)](_0x53b541,_0x1e6faa)});return _0x56922d['status'](0xc9)['json'](_0x23b4ba);}catch(_0x3862c5){console[_0x182689(0x7e2)](_0x182689(0x576),_0x3862c5),console[_0x182689(0x7e2)](_0x182689(0x73d),_0x6df0f1['body']),console[_0x182689(0x7e2)](_0x182689(0x737),_0x6df0f1['url']);}})[_0x543906(0x146)](this[_0x543906(0x763)]('sendLocation'),..._0x47bdf1,async(_0x303ad7,_0x4d42de)=>{const _0x3010ae=_0x543906;try{let _0x25e62f=await this['dataValidate']({'request':_0x303ad7,'schema':Pa,'ClassRef':Et,'execute':(_0xe97424,_0x541b26)=>W['sendLocation'](_0xe97424,_0x541b26)});return _0x4d42de[_0x3010ae(0x349)](0xc9)[_0x3010ae(0x5dd)](_0x25e62f);}catch(_0x80771){console[_0x3010ae(0x7e2)](_0x3010ae(0x576),_0x80771),console[_0x3010ae(0x7e2)](_0x3010ae(0x73d),_0x303ad7['body']),console[_0x3010ae(0x7e2)](_0x3010ae(0x737),_0x303ad7['url']);}})[_0x543906(0x146)](this[_0x543906(0x763)]('sendList'),..._0x47bdf1,async(_0x47fa72,_0x37ce64)=>{const _0xc062e3=_0x543906;try{let _0x6fa2=await this[_0xc062e3(0x6bd)]({'request':_0x47fa72,'schema':ka,'ClassRef':vt,'execute':(_0x4d45d6,_0x170c17)=>W['sendList'](_0x4d45d6,_0x170c17)});return _0x37ce64[_0xc062e3(0x349)](0xc9)[_0xc062e3(0x5dd)](_0x6fa2);}catch(_0x33d61b){console[_0xc062e3(0x7e2)](_0xc062e3(0x576),_0x33d61b),console[_0xc062e3(0x7e2)](_0xc062e3(0x73d),_0x47fa72['body']),console[_0xc062e3(0x7e2)](_0xc062e3(0x737),_0x47fa72[_0xc062e3(0x53b)]);}})[_0x543906(0x146)](this[_0x543906(0x763)](_0x543906(0x2b8)),..._0x47bdf1,async(_0x48ab05,_0x47596b)=>{const _0x51e745=_0x543906;try{let _0x33c1d0=await this['dataValidate']({'request':_0x48ab05,'schema':ja,'ClassRef':Nt,'execute':(_0x267724,_0x93da82)=>W[_0x51e745(0x2b8)](_0x267724,_0x93da82)});return _0x47596b[_0x51e745(0x349)](0xc9)[_0x51e745(0x5dd)](_0x33c1d0);}catch(_0x4394bd){console[_0x51e745(0x7e2)]('Error\x20handling\x20sendmessage:',_0x4394bd),console[_0x51e745(0x7e2)](_0x51e745(0x73d),_0x48ab05[_0x51e745(0x61f)]),console[_0x51e745(0x7e2)](_0x51e745(0x737),_0x48ab05[_0x51e745(0x53b)]);}})[_0x543906(0x146)](this['routerPath'](_0x543906(0x28b)),..._0x47bdf1,async(_0x2b9e8c,_0x4147ab)=>{const _0x300f30=_0x543906;try{let _0x292cf9=await this['dataValidate']({'request':_0x2b9e8c,'schema':La,'ClassRef':Rt,'execute':(_0x45ed34,_0x4575fc)=>W[_0x300f30(0x28b)](_0x45ed34,_0x4575fc)});return _0x4147ab[_0x300f30(0x349)](0xc9)[_0x300f30(0x5dd)](_0x292cf9);}catch(_0x5a00ed){console[_0x300f30(0x7e2)](_0x300f30(0x576),_0x5a00ed),console[_0x300f30(0x7e2)](_0x300f30(0x73d),_0x2b9e8c[_0x300f30(0x61f)]),console[_0x300f30(0x7e2)]('url\x20completa:',_0x2b9e8c[_0x300f30(0x53b)]);}})['post'](this['routerPath']('sendPoll'),..._0x47bdf1,async(_0x3d9d62,_0x2526f6)=>{const _0x3bd153=_0x543906;try{let _0x309ade=await this[_0x3bd153(0x6bd)]({'request':_0x3d9d62,'schema':xa,'ClassRef':bt,'execute':(_0x24e701,_0x17fa04)=>W[_0x3bd153(0xf1)](_0x24e701,_0x17fa04)});return _0x2526f6[_0x3bd153(0x349)](0xc9)[_0x3bd153(0x5dd)](_0x309ade);}catch(_0x151b8d){console[_0x3bd153(0x7e2)]('Error\x20handling\x20sendmessage:',_0x151b8d),console['error'](_0x3bd153(0x73d),_0x3d9d62[_0x3bd153(0x61f)]),console[_0x3bd153(0x7e2)](_0x3bd153(0x737),_0x3d9d62[_0x3bd153(0x53b)]);}})[_0x543906(0x146)](this[_0x543906(0x763)](_0x543906(0x25a)),..._0x47bdf1,async(_0x3a6b55,_0x44d58c)=>{const _0x37cf40=_0x543906;try{let _0x118967=await this['dataValidate']({'request':_0x3a6b55,'schema':Oa,'ClassRef':yt,'execute':(_0x251db7,_0x1584ac)=>W[_0x37cf40(0x25a)](_0x251db7,_0x1584ac)});return _0x44d58c[_0x37cf40(0x349)](0xc9)[_0x37cf40(0x5dd)](_0x118967);}catch(_0x35a780){console[_0x37cf40(0x7e2)]('Error\x20handling\x20sendmessage:',_0x35a780),console[_0x37cf40(0x7e2)](_0x37cf40(0x73d),_0x3a6b55[_0x37cf40(0x61f)]),console[_0x37cf40(0x7e2)]('url\x20completa:',_0x3a6b55[_0x37cf40(0x53b)]);}})[_0x543906(0x146)](this[_0x543906(0x763)]('sendSticker'),..._0x47bdf1,async(_0x3fd350,_0x16d3ed)=>{const _0x3f54de=_0x543906;try{let _0x389a76=await this[_0x3f54de(0x6bd)]({'request':_0x3fd350,'schema':Aa,'ClassRef':Mt,'execute':(_0x3fdb6e,_0x5defbb)=>W[_0x3f54de(0x484)](_0x3fdb6e,_0x5defbb)});return _0x16d3ed[_0x3f54de(0x349)](0xc9)[_0x3f54de(0x5dd)](_0x389a76);}catch(_0x3f647d){console[_0x3f54de(0x7e2)](_0x3f54de(0x576),_0x3f647d),console['error'](_0x3f54de(0x73d),_0x3fd350[_0x3f54de(0x61f)]),console[_0x3f54de(0x7e2)]('url\x20completa:',_0x3fd350[_0x3f54de(0x53b)]);}});}},lo=require(a0_0x6e1050(0x5b7)),At=class{},Ot=class extends G{constructor(..._0x540693){const _0x4aeba0=a0_0x6e1050;super(),this['router']=(0x0,lo[_0x4aeba0(0x574)])(),this[_0x4aeba0(0x42b)][_0x4aeba0(0x146)](this['routerPath']('set'),..._0x540693,async(_0x2835a4,_0x56960d)=>{const _0x347a29=_0x4aeba0;let _0x355c2c=await this[_0x347a29(0x6bd)]({'request':_0x2835a4,'schema':oo,'ClassRef':At,'execute':(_0x36c766,_0x3b227f)=>Cs['createWebhook'](_0x36c766,_0x3b227f)});_0x56960d['status'](0xc9)[_0x347a29(0x5dd)](_0x355c2c);})['get'](this[_0x4aeba0(0x763)](_0x4aeba0(0x15f)),..._0x540693,async(_0x3b8343,_0x8eb630)=>{const _0x524072=_0x4aeba0;let _0x30019f=await this[_0x524072(0x6bd)]({'request':_0x3b8343,'schema':v,'ClassRef':M,'execute':_0x1f52df=>Cs['findWebhook'](_0x1f52df)});_0x8eb630['status'](0xc8)['json'](_0x30019f);});}},uo=require(a0_0x6e1050(0x5b7)),y=new $('FlowRouter'),Tt=class extends G{constructor(..._0x2b1c43){const _0x121b9a=a0_0x6e1050;super(),this[_0x121b9a(0x42b)]=(0x0,uo['Router'])(),this[_0x121b9a(0x42b)][_0x121b9a(0x146)](this[_0x121b9a(0x763)](_0x121b9a(0x24b)),..._0x2b1c43,async(_0x3b9760,_0x2ba53f)=>{const _0x3995e3=_0x121b9a;let _0x4f88c2=_0x3b9760[_0x3995e3(0x61f)];y[_0x3995e3(0x582)]('request\x20received\x20in\x20scheduleMessage'),y[_0x3995e3(0x582)]('request\x20body:\x20'),y['verbose'](_0x3b9760[_0x3995e3(0x61f)]);let _0x39c839=await this[_0x3995e3(0x6bd)]({'request':_0x3b9760,'schema':v,'ClassRef':M,'execute':_0x3144de=>O[_0x3995e3(0x7e6)](_0x3144de,_0x4f88c2)});_0x2ba53f[_0x3995e3(0x349)](0xc8)[_0x3995e3(0x5dd)](_0x39c839);})[_0x121b9a(0x58b)](this['routerPath'](_0x121b9a(0x24b)),..._0x2b1c43,async(_0x50c5c3,_0x5c575e)=>{const _0x5d5546=_0x121b9a;let _0x2615e4=await this[_0x5d5546(0x6bd)]({'request':_0x50c5c3,'schema':v,'ClassRef':M,'execute':_0x20a30c=>O['getScheduleMessage'](_0x20a30c)});_0x5c575e['status'](0xc8)['json'](_0x2615e4);})[_0x121b9a(0x5c9)](this[_0x121b9a(0x763)](_0x121b9a(0x792)),..._0x2b1c43,async(_0x2d6857,_0x440dc9)=>{const _0x2cd0eb=_0x121b9a;y[_0x2cd0eb(0x582)](_0x2cd0eb(0x3bc));let _0x17c067=await this[_0x2cd0eb(0x6bd)]({'request':_0x2d6857,'schema':v,'ClassRef':M,'execute':_0x279130=>O[_0x2cd0eb(0x792)](_0x279130)});_0x440dc9[_0x2cd0eb(0x349)](0xc8)[_0x2cd0eb(0x5dd)](_0x17c067);})[_0x121b9a(0x146)](this[_0x121b9a(0x763)]('startFlow'),..._0x2b1c43,async(_0x276565,_0x197067)=>{const _0x58bee7=_0x121b9a;let _0x1816b=_0x276565[_0x58bee7(0x61f)];y['verbose'](_0x58bee7(0x14f)),y[_0x58bee7(0x582)](_0x58bee7(0x75b)),y[_0x58bee7(0x582)](_0x276565[_0x58bee7(0x61f)]);let _0xd9232f=await this[_0x58bee7(0x6bd)]({'request':_0x276565,'schema':v,'ClassRef':M,'execute':_0x48b309=>O[_0x58bee7(0x722)](_0x48b309,_0x1816b)});_0x197067[_0x58bee7(0x349)](0xc8)[_0x58bee7(0x5dd)](_0xd9232f);})[_0x121b9a(0x58b)](this[_0x121b9a(0x763)](_0x121b9a(0x2f4)),..._0x2b1c43,async(_0x71eb1f,_0x48f84a)=>{const _0x2bb81b=_0x121b9a;y['verbose'](_0x2bb81b(0x57c));let _0x317352=await this[_0x2bb81b(0x6bd)]({'request':_0x71eb1f,'schema':v,'ClassRef':M,'execute':_0xbe7396=>O['getAutomateSystem'](_0xbe7396)});_0x48f84a['status'](0xc8)['json'](_0x317352);})['get'](this['routerPath'](_0x121b9a(0x30d)),..._0x2b1c43,async(_0x49583b,_0x2220cd)=>{const _0xdfed3d=_0x121b9a;y[_0xdfed3d(0x582)](_0xdfed3d(0x294));let _0x2133fc=await this[_0xdfed3d(0x6bd)]({'request':_0x49583b,'schema':v,'ClassRef':M,'execute':_0x401f82=>O[_0xdfed3d(0x2f4)](_0x401f82)});_0x2220cd['status'](0xc8)[_0xdfed3d(0x5dd)](_0x2133fc);})[_0x121b9a(0x146)](this[_0x121b9a(0x763)](_0x121b9a(0x37f)),..._0x2b1c43,async(_0x67410b,_0x2e4e7f)=>{const _0x22d2a2=_0x121b9a;let _0x4ba365=_0x67410b[_0x22d2a2(0x61f)];y[_0x22d2a2(0x582)](_0x22d2a2(0x1d5)),y[_0x22d2a2(0x582)](_0x22d2a2(0x75b)),y[_0x22d2a2(0x582)](_0x67410b['body']);let _0x2d585b=await this[_0x22d2a2(0x6bd)]({'request':_0x67410b,'schema':v,'ClassRef':M,'execute':_0x4dee55=>O[_0x22d2a2(0x37f)](_0x4dee55,_0x4ba365)});_0x2e4e7f[_0x22d2a2(0x349)](0xc8)[_0x22d2a2(0x5dd)](_0x2d585b);})[_0x121b9a(0x146)](this[_0x121b9a(0x763)](_0x121b9a(0x60e)),..._0x2b1c43,async(_0x38a7db,_0x3f6dd5)=>{const _0x508deb=_0x121b9a;let _0x10c33a=_0x38a7db[_0x508deb(0x61f)];y[_0x508deb(0x582)]('request\x20received\x20in\x20updateCustomFields'),y[_0x508deb(0x582)](_0x508deb(0x75b)),y['verbose'](_0x38a7db[_0x508deb(0x61f)]);let _0x138b0f=await this[_0x508deb(0x6bd)]({'request':_0x38a7db,'schema':v,'ClassRef':M,'execute':_0x106211=>O['updateCustomFields'](_0x106211,_0x10c33a)});_0x3f6dd5[_0x508deb(0x349)](0xc8)[_0x508deb(0x5dd)](_0x138b0f);})[_0x121b9a(0x146)](this[_0x121b9a(0x763)]('updateAutoCompleteMessages'),..._0x2b1c43,async(_0x1f09bb,_0x10c978)=>{const _0x122a05=_0x121b9a;let _0x906ec0=_0x1f09bb[_0x122a05(0x61f)];y['verbose'](_0x122a05(0x68b)),y[_0x122a05(0x582)](_0x122a05(0x75b)),y[_0x122a05(0x582)](_0x1f09bb[_0x122a05(0x61f)]);let _0xe1d13b=await this[_0x122a05(0x6bd)]({'request':_0x1f09bb,'schema':v,'ClassRef':M,'execute':_0x552641=>O[_0x122a05(0x7ee)](_0x552641,_0x906ec0)});_0x10c978[_0x122a05(0x349)](0xc8)[_0x122a05(0x5dd)](_0xe1d13b);})[_0x121b9a(0x146)](this['routerPath']('updateFlowConfig'),..._0x2b1c43,async(_0x2e6256,_0x497078)=>{const _0x5af5c4=_0x121b9a;let _0x46883f=_0x2e6256['body'];y[_0x5af5c4(0x582)](_0x5af5c4(0x774)),y[_0x5af5c4(0x582)](_0x5af5c4(0x75b)),y[_0x5af5c4(0x582)](_0x2e6256[_0x5af5c4(0x61f)]);let _0x179f9b=await this[_0x5af5c4(0x6bd)]({'request':_0x2e6256,'schema':v,'ClassRef':M,'execute':_0x54652e=>O[_0x5af5c4(0x20c)](_0x54652e,_0x46883f)});_0x497078['status'](0xc8)['json'](_0x179f9b);})[_0x121b9a(0x146)](this[_0x121b9a(0x763)](_0x121b9a(0x387)),..._0x2b1c43,async(_0x3ee306,_0x1d5339)=>{const _0x44c381=_0x121b9a;let _0x355929=_0x3ee306['body'];y['verbose'](_0x44c381(0xf3)),y[_0x44c381(0x582)](_0x44c381(0x75b)),y[_0x44c381(0x582)](_0x3ee306[_0x44c381(0x61f)]);let _0x2a9fcc=await this[_0x44c381(0x6bd)]({'request':_0x3ee306,'schema':v,'ClassRef':M,'execute':_0x26008c=>O['getConversation'](_0x26008c,_0x355929)});_0x1d5339[_0x44c381(0x349)](0xc8)['json'](_0x2a9fcc);})[_0x121b9a(0x146)](this['routerPath']('fetchConversation'),..._0x2b1c43,async(_0x1e7b6e,_0x194d37)=>{const _0x21c884=_0x121b9a;let _0x1e90d6=_0x1e7b6e[_0x21c884(0x61f)];y[_0x21c884(0x582)]('request\x20received\x20in\x20fetchConversation'),y[_0x21c884(0x582)](_0x21c884(0x75b)),y[_0x21c884(0x582)](_0x1e7b6e[_0x21c884(0x61f)]);let _0x31fcb1=await this[_0x21c884(0x6bd)]({'request':_0x1e7b6e,'schema':v,'ClassRef':M,'execute':_0x43a87f=>O[_0x21c884(0x5f7)](_0x43a87f,_0x1e90d6)});_0x194d37[_0x21c884(0x349)](0xc8)[_0x21c884(0x5dd)](_0x31fcb1);})['post'](this[_0x121b9a(0x763)](_0x121b9a(0x325)),..._0x2b1c43,async(_0x10cfbf,_0x478bd7)=>{const _0x40c654=_0x121b9a;let _0x5756c5=_0x10cfbf[_0x40c654(0x61f)];y[_0x40c654(0x582)]('request\x20received\x20in\x20editConversation'),y[_0x40c654(0x582)]('request\x20body:\x20'),y['verbose'](_0x10cfbf['body']);let _0x4c8cab=await this['dataValidate']({'request':_0x10cfbf,'schema':v,'ClassRef':M,'execute':_0x3d16e7=>O['editConversation'](_0x3d16e7,_0x5756c5)});_0x478bd7['status'](0xc8)['json'](_0x4c8cab);})[_0x121b9a(0x5c9)](this[_0x121b9a(0x763)](_0x121b9a(0x3df)),..._0x2b1c43,async(_0xd11dbf,_0x3e1e6d)=>{const _0xa6286=_0x121b9a;let _0x54e5b1=_0xd11dbf['body'];y['verbose'](_0xa6286(0x7d8)),y[_0xa6286(0x582)]('request\x20body:\x20'),y['verbose'](_0xd11dbf[_0xa6286(0x61f)]);let _0x20f20e=await this[_0xa6286(0x6bd)]({'request':_0xd11dbf,'schema':v,'ClassRef':M,'execute':_0xdbf406=>O[_0xa6286(0x3df)](_0xdbf406,_0x54e5b1)});_0x3e1e6d['status'](0xc8)[_0xa6286(0x5dd)](_0x20f20e);})[_0x121b9a(0x146)](this[_0x121b9a(0x763)]('createflow'),..._0x2b1c43,async(_0x510950,_0x32cc56)=>{const _0x56fcd9=_0x121b9a;let _0x24b592=_0x510950['body'],_0x41e57e=_0x510950[_0x56fcd9(0x123)][_0x56fcd9(0x305)];y[_0x56fcd9(0x582)]('request\x20received\x20in\x20createFlow'),y[_0x56fcd9(0x582)](_0x56fcd9(0x75b)),y[_0x56fcd9(0x582)](_0x510950[_0x56fcd9(0x61f)]);let _0xf33ea6=await this['dataValidate']({'request':_0x510950,'schema':v,'ClassRef':M,'execute':_0x5bee73=>O['createFlow'](_0x5bee73,_0x24b592,_0x41e57e)});_0x32cc56[_0x56fcd9(0x349)](0xc8)[_0x56fcd9(0x5dd)](_0xf33ea6);})[_0x121b9a(0x146)](this[_0x121b9a(0x763)](_0x121b9a(0x253)),..._0x2b1c43,async(_0x4ed24f,_0x2617dc)=>{const _0x3a36e8=_0x121b9a;let _0x1031ff=_0x4ed24f[_0x3a36e8(0x61f)],_0x3644af=_0x4ed24f[_0x3a36e8(0x123)]['apikey'];y['verbose'](_0x3a36e8(0x2e0)),y[_0x3a36e8(0x582)](_0x3a36e8(0x75b)),y[_0x3a36e8(0x582)](_0x4ed24f['body']),delete _0x1031ff['blocks'],delete _0x1031ff[_0x3a36e8(0x6e9)],delete _0x1031ff[_0x3a36e8(0x5dc)],delete _0x1031ff[_0x3a36e8(0x26e)];let _0x5e8768=await this[_0x3a36e8(0x6bd)]({'request':_0x4ed24f,'schema':v,'ClassRef':M,'execute':_0x490bb7=>O[_0x3a36e8(0x5b3)](_0x490bb7,_0x1031ff,_0x3644af)});_0x2617dc[_0x3a36e8(0x349)](0xc8)[_0x3a36e8(0x5dd)](_0x5e8768);})[_0x121b9a(0x146)](this[_0x121b9a(0x763)](_0x121b9a(0xd1)),..._0x2b1c43,async(_0x5f5cf5,_0x1fdec2)=>{const _0x5d8db2=_0x121b9a;let _0x491cd7=_0x5f5cf5[_0x5d8db2(0x61f)],_0x1f6d30=_0x5f5cf5[_0x5d8db2(0x123)][_0x5d8db2(0x305)];y[_0x5d8db2(0x582)](_0x5d8db2(0x2e0)),y['verbose'](_0x5d8db2(0x75b)),y[_0x5d8db2(0x582)](_0x5f5cf5['body']);let _0x4cf6b1=await this['dataValidate']({'request':_0x5f5cf5,'schema':v,'ClassRef':M,'execute':_0x59ea83=>O[_0x5d8db2(0x74c)](_0x59ea83,_0x491cd7,_0x1f6d30)});_0x1fdec2[_0x5d8db2(0x349)](0xc8)[_0x5d8db2(0x5dd)](_0x4cf6b1);})[_0x121b9a(0x146)](this[_0x121b9a(0x763)](_0x121b9a(0x50b)),..._0x2b1c43,async(_0x5d7a92,_0x1b6410)=>{const _0x25b3cf=_0x121b9a;let _0x2c0760=_0x5d7a92['body'],_0x27ba1a=_0x5d7a92[_0x25b3cf(0x123)][_0x25b3cf(0x305)];y[_0x25b3cf(0x582)]('request\x20received\x20in\x20editFlow'),y['verbose'](_0x25b3cf(0x75b)),y['verbose'](_0x5d7a92[_0x25b3cf(0x61f)]);let _0x4e3afc=await this[_0x25b3cf(0x6bd)]({'request':_0x5d7a92,'schema':v,'ClassRef':M,'execute':_0x5eee57=>O[_0x25b3cf(0x725)](_0x5eee57,_0x2c0760,_0x27ba1a)});_0x1b6410[_0x25b3cf(0x349)](0xc8)[_0x25b3cf(0x5dd)](_0x4e3afc);})[_0x121b9a(0x146)](this[_0x121b9a(0x763)](_0x121b9a(0x695)),..._0x2b1c43,async(_0x3375d0,_0x9441d3)=>{const _0xb2f11b=_0x121b9a;let _0x551cf9=_0x3375d0[_0xb2f11b(0x61f)],_0x22accc=_0x3375d0[_0xb2f11b(0x123)][_0xb2f11b(0x305)];y['verbose'](_0xb2f11b(0x2e0)),y[_0xb2f11b(0x582)](_0xb2f11b(0x75b)),y[_0xb2f11b(0x582)](_0x3375d0[_0xb2f11b(0x61f)]);let _0x465d2f=await this[_0xb2f11b(0x6bd)]({'request':_0x3375d0,'schema':v,'ClassRef':M,'execute':_0xe63f8=>O[_0xb2f11b(0x2cf)](_0xe63f8,_0x551cf9,_0x22accc)});_0x9441d3[_0xb2f11b(0x349)](0xc8)[_0xb2f11b(0x5dd)](_0x465d2f);})[_0x121b9a(0x146)](this[_0x121b9a(0x763)]('editflowgroup'),..._0x2b1c43,async(_0x5d0e25,_0xd3d490)=>{const _0x426765=_0x121b9a;let _0x1dfa20=_0x5d0e25[_0x426765(0x61f)],_0x142cd1=_0x5d0e25[_0x426765(0x123)]['apikey'];y[_0x426765(0x582)](_0x426765(0x573)),y[_0x426765(0x582)](_0x426765(0x75b)),y[_0x426765(0x582)](_0x5d0e25['body']);let _0x4d22b5=await this[_0x426765(0x6bd)]({'request':_0x5d0e25,'schema':v,'ClassRef':M,'execute':_0x277c78=>O['editFlowGroup'](_0x277c78,_0x1dfa20,_0x142cd1)});_0xd3d490[_0x426765(0x349)](0xc8)[_0x426765(0x5dd)](_0x4d22b5);})[_0x121b9a(0x146)](this[_0x121b9a(0x763)]('editflowcondition'),..._0x2b1c43,async(_0x17feb7,_0x309d5a)=>{const _0x3ad517=_0x121b9a;let _0x45fc3d=_0x17feb7[_0x3ad517(0x61f)],_0x4c6316=_0x17feb7[_0x3ad517(0x123)][_0x3ad517(0x305)];y[_0x3ad517(0x582)](_0x3ad517(0x2c6)),y['verbose']('request\x20body:\x20'),y[_0x3ad517(0x582)](_0x17feb7[_0x3ad517(0x61f)]);let _0x898379=await this[_0x3ad517(0x6bd)]({'request':_0x17feb7,'schema':v,'ClassRef':M,'execute':_0x2be22d=>O[_0x3ad517(0x18e)](_0x2be22d,_0x45fc3d,_0x4c6316)});_0x309d5a[_0x3ad517(0x349)](0xc8)['json'](_0x898379);})[_0x121b9a(0x146)](this['routerPath'](_0x121b9a(0x705)),..._0x2b1c43,async(_0x4f90b4,_0x7e59e4)=>{const _0x4c9c60=_0x121b9a;let _0x311568=_0x4f90b4['body'],_0x3ed451=_0x4f90b4[_0x4c9c60(0x123)]['apikey'];y[_0x4c9c60(0x582)](_0x4c9c60(0x589)),y[_0x4c9c60(0x582)](_0x4c9c60(0x75b)),y['verbose'](_0x4f90b4[_0x4c9c60(0x61f)]);let _0x32064f=await this['dataValidate']({'request':_0x4f90b4,'schema':v,'ClassRef':M,'execute':_0x1bd001=>O['editFlowVariable'](_0x1bd001,_0x311568,_0x3ed451)});_0x7e59e4[_0x4c9c60(0x349)](0xc8)[_0x4c9c60(0x5dd)](_0x32064f);})[_0x121b9a(0x146)](this[_0x121b9a(0x763)](_0x121b9a(0x12a)),..._0x2b1c43,async(_0x543768,_0x44fcd2)=>{const _0x344b90=_0x121b9a;let _0x2f57cb=_0x543768['body'];y['verbose'](_0x344b90(0x204)),y['verbose'](_0x344b90(0x75b)),y[_0x344b90(0x582)](_0x543768['body']);let _0x1ac471=await this[_0x344b90(0x6bd)]({'request':_0x543768,'schema':v,'ClassRef':M,'execute':_0x795a47=>O['getFlow'](_0x795a47,_0x2f57cb)});_0x44fcd2[_0x344b90(0x349)](0xc8)['json'](_0x1ac471);})[_0x121b9a(0x5c9)](this[_0x121b9a(0x763)](_0x121b9a(0x2da)),..._0x2b1c43,async(_0x3b2683,_0x4e3799)=>{const _0x315abc=_0x121b9a;let _0x2a1114=_0x3b2683[_0x315abc(0x61f)],_0x4f4967=_0x3b2683[_0x315abc(0x123)][_0x315abc(0x305)];y[_0x315abc(0x582)](_0x315abc(0x54c)),y[_0x315abc(0x582)](_0x315abc(0x75b)),y[_0x315abc(0x582)](_0x3b2683[_0x315abc(0x61f)]);let _0x330abb=await this[_0x315abc(0x6bd)]({'request':_0x3b2683,'schema':v,'ClassRef':M,'execute':_0x105058=>O[_0x315abc(0x337)](_0x105058,_0x2a1114,_0x4f4967)});_0x4e3799[_0x315abc(0x349)](0xc8)[_0x315abc(0x5dd)](_0x330abb);})['get'](this[_0x121b9a(0x763)]('allflows'),..._0x2b1c43,async(_0x2e691e,_0x1448cc)=>{const _0x58560c=_0x121b9a;y[_0x58560c(0x582)]('request\x20received\x20in\x20allFlows');let _0x54eb94=await this[_0x58560c(0x6bd)]({'request':_0x2e691e,'schema':v,'ClassRef':M,'execute':_0x2fc159=>O[_0x58560c(0x617)](_0x2fc159)});_0x1448cc['status'](0xc8)['json'](_0x54eb94);});}},mo=T(require(a0_0x6e1050(0x112))),ee={};function po(_0x561e28,_0xd5feab,_0x30ce74,_0x49b935){ee[_0x561e28]||(ee[_0x561e28]={}),ee[_0x561e28][_0xd5feab]={'id':_0xd5feab,'response':_0x30ce74,'events':_0x49b935};}function ho(_0x1dfc21,_0x336c33){!ee[_0x1dfc21]||!ee[_0x1dfc21][_0x336c33]||delete ee[_0x1dfc21][_0x336c33];}function a0_0x1352(){const _0x4c1ab5=['stringify','Hash\x20to\x20image\x20name:\x20','label','):\x20nextBlock.uazapi.name','contactMessage','creds','\x1b[34m','groupMemberAddMode','reorderReplyOptions','sign','ex:\x20\x22groupJid=120362@g.us\x22','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','ids','\x20não\x20encontrado\x20para\x20cópia','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','The\x20property\x20cannot\x20be\x20empty','chats.upsert','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','selectedOptions','some','contact_blacklist','request_time','mongoose','Erro\x20ao\x20iniciar\x20fluxo:\x20','onWhatsApp','client','uazapiSendContact','selectableCount','demote','getContentType','values','autoCompleteMessages.command','redis://127.0.0.1:6379','Processing\x20audio','dataValidate','Parando\x20aplicação...','matchRegex','ON\x20-\x20dbName:\x20','sendMessage','setHeader','Valor\x20de\x20find\x20ou\x20replace\x20ausente','https://chat.whatsapp.com/','floor','\x22\x20not\x20found','options','waInstances','protocolMessage','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','sendPresenceUpdate','https://uazapi-plugin.bubbleapps.io/?url=','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','output','proto','Schema','contact','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Erro\x20na\x20função\x20updateChatWithMessage:\x20','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','generateHash','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','http://ip-api.com/json','readMessages','):\x20Comando\x20desconhecido:\x20','array','presenceSubscribe','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','\x1b[40m','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','data:\x20','FlowModel','fullName','scheduleFlow','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','):\x20Editando\x20grupo\x20do\x20fluxo...','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','\x1b[42m','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','variables','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','group-participants.update','where','presence.update','SEND_MESSAGE','All_Instances_Config','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','rowId','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','loadEnv','ORG:','delayMessage','Início','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','documentWithCaptionMessage','success','Forbidden','):\x20conversation.waitingMenu_name','getProfileName','getStatus','updateGParticipate','):\x20isVote:\x20','match_last_seen','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','instancias:\x20','editflowvariable','groupUpdateDescription','groupRequestParticipantsList','LOG_COLOR','updateReadReceiptsPrivacy','unlocked','TYPE','reorderBlocks','replace','organization','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','cachedContact','\x22,\x20valor\x20a\x20substituir:\x20\x22','viewOnceMessage','updatePrivacySettings','WebhookGlobal','8080','SSL_CONF_FULLCHAIN','Content\x20is\x20required','not_announcement','EXPIRIN_IN','changeVariables','quoted',',\x20qrcodeCount:\x20','instanceName','\x20chats\x20de\x20','nome','authentication','\x20}\x0a','startFlow','findFlow','envProcess','editFlowReply','remove','):\x20leadInfoVariables','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','dbInstance','markMessageAsRead','requestPairingCode','MAX_RECONNECT_ATTEMPTS','createConversationforgoToFlow','--standalone','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','ReplyOption\x20com\x20ID\x20','Rótulo\x20deletado:\x27,\x20','groupRevokeInvite','secondValue','getOwnPropertyDescriptor','instanceInfo','existsSync','url\x20completa:','upsertChats','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','sleep','\x20-\x20ON:\x20','label_jid','body:','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','charAt','sendMedia','loadWebhook','inviteCode','GUARD','.extension','getBase64FromMediaMessage','profileName','CLEANING_INTERVAL','deletedCount','.webp','\x5cd+','Erro\x20ao\x20atualizar\x20conversa:\x20','editFlowBlock','errorLog','readreceipts','#83e421','rm\x20-rf\x20','\x20de\x20conectar\x20com\x20IP\x20extra.','convertedOptions','):\x20customFieldVariables','LEVEL','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','cors','getFlowModelForOwner','true','key','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','request\x20body:\x20','moreLogs','isAdmin','):\x20tem\x20blocks','REDIS','createSharedFlow','https://api.ipify.org?format=json','SSL_CONF','routerPath','messagesSend','findIndex','connectToWhatsapp','\x1b[31m%s\x1b[0m','readMessage','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','viewOnceMessageV2','/exit','\x20instance\x20does\x20not\x20exist','webhookModel','cwd','fetchChats','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Erro\x20de\x20reinicialização:\x20','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','view\x20engine','request\x20received\x20in\x20updateFlowConfig','Button\x20texts\x20cannot\x20be\x20repeated','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','uazapiSendMedia','sendButtons','listResponseMessage','):\x20Entrou\x20na\x20função\x20clearVariables','SERVER','The\x20\x22','descId','prototype','pollMessageOnDelete','keyPattern','.xls','updateMany','updateChatGroupData','):\x20Grupo\x20','prefixCommand','realVariables','leadInfo.','entries','\x20do\x20chat\x20','indexOf','number','logout','expiration','pictureUrl','menuMessage','*Pergunta*:\x20\x0a','\x20foi\x20interrompido\x20pelo\x20usuário.','deleteDoneMessages','dropCollection','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','processPollUpdateMessage','imagechat','audio/ogg;\x20codecs=opus','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','collections','RemoteJid:','DATABASE_ENABLED','qrcode','isInteger','profilePicture','detail','CREDENTIALS','processing_id','responsavelid','newValue','messages.update','g.us','findOne','/media','CORS_METHODS','configService','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','):\x20Alterando\x20fluxo...','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','host','https://ipinfo.io/json','max','):\x20Não\x20achou\x20nenhum\x20flow','SSL_CONF_PRIVKEY','URI','50mb','/instance','context','.docx','sharp','writeFileSync','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','updateParticipant','binary','\x20->\x20CONFIRMADO.','Close\x20connection','\x1b[37m','ephemeralDuration','findConversation','delayChatLabel_MAX_RETRIES','):\x20Entrou\x20na\x20função\x20processawaitSeconds','uuid','crypto','endSession','testingWith','everyOne','Erro\x20ao\x20tentar\x20updateCustomFields','variable','media','contentText','.ogg','cache','utf8','restrict','enumerable','node-cache','audio','AUTHENTICATION_JWT_EXPIRIN_IN','labels.association','https://uazapi-plugin.bubbleapps.io/','findGroupInfos','request\x20received\x20in\x20deleteConversation','action','Database\x20connection\x20closed.','removeUnusedChatFields','Erro\x20ao\x20aplicar\x20varedit:\x20','MESSAGES_UPDATE','Mensagens\x20deletadas\x20com\x20sucesso.','subjectTime','groupRequestParticipantsUpdate','reconnectTimestamps','error','Converted\x20image\x20deleted','agents','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','editScheduleMessage','getBusinessProfile','EMAIL:','bearer','webp','fileLength','updateMissingCustomFields','_Flows','updateAutoCompleteMessages','editflowblock','.wav','mimetype','The\x20','Flow\x20não\x20encontrado','Not\x20allowed\x20by\x20CORS','Certbot:\x20','sem\x20texto\x20na\x20mensagem','):\x20[messages.update]\x20group\x20ignored','importChatsAntigo','mediaSticker','fetchPrivacySettings','createAndSave','fileUrl','evaluateCondition','):\x20Buscando\x20flow,\x20name:\x20','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','Erro\x20ao\x20importar\x20chats','findChats','logger','ephemeralExpiration','class-validator','updateLastSeenPrivacy','updateProfilePicturePrivacy','stderr','@redis/client','convertaudio','error\x20get\x20vote','editFlowVariable','):\x20newSecondValue\x20após\x20replaceVariables:','processawaitSeconds','preview','sendPoll','loadInstance','request\x20received\x20in\x20getConversation','findAndUpdateCacheContact','SUCCESS','menuExpiredMessage','Imagem\x20não\x20encontrada','fone','AutomateSystem','hGetAll','REDIS_PREFIX_KEY','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','LabelModel','Tentando\x20reconectar...','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','):\x20Conversas\x20encontradas:','/wa-groups','getMessage','Erro\x20ao\x20editar\x20o\x20chat','removed','toBRL','SERVER_URL','waitingMenu_id','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','/instance/fetchInstances','Erro\x20ao\x20atualizar\x20o\x20fluxo:','CONECTADO\x20À\x20UAZAPI','):\x20atualização\x20chat:\x20','__esModule','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','Audio\x20processed','nomecompleto','path','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','groupSetting','Invalid\x20format',',\x20Minutes\x20to\x20Close:\x20','Safari','chats.update','TEXT','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','jpegThumbnail','password','getMessageModelForOwner','descOwner','toNumber','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','\x20com\x20sucesso.','push','headers','updateGroupWebhook','goToFlow','qrcode.updated','messages.upsert','\x0a*Você\x20respondeu*:\x0a','online','getflow','del','replaceVariablesLogs','test','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Erro\x20ao\x20deletar\x20a\x20conversa','STORE_CHATS','Desconectado,\x20parando\x20execução.','timeout','pollCreationMessageKey','chat','PASSWORD',',\x20saindo.','/instance/connect','Nenhum\x20participante\x20válido\x20encontrado.','varedit','stdout','senderKeyDistributionMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','displayName','Erro\x20ao\x20remover\x20instâncias\x20antigas:','function','sendText','process','chatModify','jsonwebtoken','shift','removeData','post','assign','AddChatLabel','color','replyOption','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','memberAddMode','contactsArrayMessage','request\x20received\x20in\x20starFlow','notEqual','#01d0e2','99QLeHFs','js-yaml','saveMediaToFile','COLOR','setWebhook','#ffae04','extractRegex','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','):\x20Enviando\x20texto','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','errors','getDevice','fetchProfile','find','Conversa\x20deletada\x20com\x20sucesso.','DATABASE','Image\x20created','):\x20Entrou\x20na\x20função\x20stop','Deleted\x20','\x20contacts','messageTimestamp','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','.pdf','connectionState','contacts.update','toString','refused','.mp3','getMinutes','DELIVERY_ACK','addresss','\x1b[0m','\x22\x20-\x20REMOVED','store','CONNECTION_UPDATE','website','startsWith','updateMissingEtiquetas','from','uazapi','#ff9484','Error\x20removing\x20unused\x20chat\x20fields:','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','StartID:','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','Unauthorized','role','interval\x20não\x20é\x20um\x20número','data','count','app','composing','\x1b[1m','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','WARN','#9ba6ff','dbServer','Fluxos\x20não\x20estão\x20ativados','API\x20Key\x20inválida.','editFlowCondition','/:instanceName','available','redisEnv','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','remote\x20\x22origin\x22','defineAuthState','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','DATABASE_CONNECTION_HOST','replyOptions','updateProfileStatus','mongodb','announce','maxActives','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','chatHandle','autoCompleteMessages.command_1','Business\x20profile\x20fetched','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Missing\x20global\x20api\x20key','removeProfilePicture','toLowerCase','#b4ebff','DATABASE_CONNECTION_PASSWORD','pollCreationMessage','groupToggleEphemeral','mediaKey','getConversationModelForOwner','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','lastBlockId','phoneNumber','pollOnReplyDelete','contextInfo','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','#dfaef0','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','digest','CONNECTION','flowActive','exists','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','Notifying\x20clients\x20for\x20chat:\x20','):\x20Error\x20processing\x20the\x20block:\x20','Error\x20while\x20deleting\x20message\x20for\x20everyone','):\x20Query\x20params:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','delaySecMax','keys','awaitingApproval','MESSAGES_UPSERT','collection','DARK','updateBlock','flowConversation','\x0a{\x20instance:\x20','local_map','.pptx','ListType','shareOwners','console','cachedContacts-whatsapp','waUploadToServer','random','next_groupId','.txt','\x20tentativas.','cachedData-whatsapp','):\x20Criou\x20conversa\x20no\x20startFlow','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','createJid','request\x20received\x20in\x20updateAgent','replaceOne','variablesToObject','.jpg','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','groups_ignore','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','REDIS_URI','lastCondition','Module\x20-\x20ON','):\x20Campos\x20a\x20serem\x20atualizados:','CONTACTS_SET','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Db\x20Connection','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','use','including\x20timestamp\x20in\x20url:\x20','hGet','https-proxy-agent','/config','sections','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','updateAll','OrAnd','CHATS_UPSERT','finish','bulkWrite','messageType','Image\x20path:\x20','):\x20Buscando\x20conversas...','DATABASE_CONNECTION_URI','):\x20Query\x20params:\x20','flowStopMinutes','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','/automate','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','capitalizedWords','valid','order','#9ab6c1','#56ccb4','createServer','lowerCase','exit','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','\x20falhou','request\x20received\x20in\x20getFlow','qrCode','Message\x20not\x20found','):\x20Enviando\x20áudio','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','groupSettingUpdate','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','createHash','updateFlowConfig','saveVariable','-instances','groupFetchAllParticipating','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','fetchLabels','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','Removidas\x20as\x20variáveis:\x20','fetchStatus','choices','block','trimmed','all','parseInt','Erro\x20ao\x20atualizar\x20o\x20documento:','remoteJid','instance.','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','waitingMenu_replyOptions','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','load','silent','*\x0a\x0a','formatBRNumber','getTime','imgUrl','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','done','):\x20Error\x20processing\x20conditions:\x20','Error\x20in\x20converting\x20audio','birthtime','writeData','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','441166JPKhgv','flush','sectionsToString','groupadd','sendMessageWithTyping','recording','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','value','_id','):\x20Enviando\x20mídia','enabled','vcard','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','/create','API_KEY','EMAIL','LICENSE_INVALID','exec','):\x20Entrou\x20na\x20função\x20goToFlow','fetchProfilePictureUrl','resetReconnectionVariables','Instância:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','imported','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','scheduleNextCheck','uncaughtException','scheduleMessage','enviado\x20para','):\x20não\x20encontrou','!stop','endsWith','2346953oSxJmd','presence','HH:mm:ss','editflow','@g.us','copyBlock','processblock','events','):\x20Criando\x20nova\x20conversa[createNewConversation]','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','sendStatus','updateProfileName','statusCode',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Type\x20is\x20required','etiquetas','findParticipants','):\x20Falha\x20ao\x20deletar\x20mensagem.','Bloco\x20com\x20ID\x20','/instance/delete','DaysToDelete',',\x20Resultado:\x20','Error\x20sending\x20text\x20message\x20for\x20instance\x20','user','blockLogs','includes','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','contacts','webhook','isConnected','conditions','isLong','vote','sha256','createFlow','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20','4385SoQpJJ','stickerMessage','connectionStatus','saveTextReply','.error','formatVCard','update','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','processclearVariables','137146CMYTFV','ERROR','optionDescription','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','sim','join','stopWhenYouSendMsg','static','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','connectToWhatsappController','messageHandle','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','auth','sendReaction','documentMessage','Chat\x20com\x20ID\x20','):\x20Edit\x20schedule\x20message...','Erro\x20ao\x20buscar\x20o\x20fluxo','):\x20Conversa\x20está\x20expirada','dropIndex','Resultado\x20da\x20atualização:','undefined','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','messageSecret','waitingMenu_text','#000000','sendAudio','Type\x20defined\x20as\x20audio','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','subjectOwner','getOwnPropertyNames','API\x20Key\x20from\x20Request:','SERVER_PORT','\x20minutos','chatId','editFlowGroup','Erro\x20ao\x20editar\x20o\x20bloco:\x20','utf-8','Erro\x20ao\x20alterar\x20fluxo','groupBetterSetting','instanceKeys','\x0aitem','toArray','AutomateSystem\x20não\x20foi\x20inicializado','\x20não\x20encontrado.','qrcode-terminal','\x1b[43m','getClient','insert','headerString','isRunning','webhookMap','Bad\x20Request','_Labels','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','buttons','#fed428','USER','sendContact','\x20-i\x20','clearVariables','Erro\x20ao\x20deletar\x20chat:','stopConversation','):\x20Entrou\x20na\x20função\x20scheduleFlow','ignoreGroups','Esse\x20fluxo\x20expirou','/wa-all-message','):\x20Erro\x20durante\x20a\x20atualização:\x20','status.instance','_remoteJid','header','ChatRouter','request\x20received\x20in\x20editFlowcondition','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','Group\x20not\x20found','STORE_CLEANING_TERMINAL','automateSystem','groupLeave','saveConversationToDatabase','readdirSync','Falha\x20ao\x20processar\x20a\x20solicitação\x20send.messages','editFlowVaredit','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','\x1b[30m','groupGetInviteInfo','content-type','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','atendimentoAberto','no.connection','awaitSeconds','match','deleteflow','):\x20Buscando\x20todos\x20os\x20fluxos...','listMessage','findLabels','font','lastUpdate','request\x20received\x20in\x20editFlow','readFileSync','\x20-y','content','RemoveChatLabel','groupJoinApprovalMode','extractMessageContent','sendList','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','#92ceac','deleteReplyOption','reference','linkPreview','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','initAuthCreds','loggedOut','superadmin','folder','78YRmSQP','updateStopChat','getAutomateSystem','toLocaleString','stoppedUntil','_Messages','Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','convertToWebP','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','Error\x20fetching\x20group','lastSendMessage','stopped','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Não\x20respondeu\x20com\x20a\x20enquete.','ini','pop','expression','string','apikey','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','lastInteraction','.jwt','groupId','Valor\x20inicial:\x20\x22','off','integer','getTicketSystem','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','ListMessage','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','Falha\x20ao\x20processar\x20fetchBusinessProfile','\x20inseridos\x20no\x20banco\x20de\x20dados...','isArray','\x20global:\x20','whatsappNumber','@s.whatsapp.net','localWebhook','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','Erro\x20ao\x20sincronizar\x20fluxos:\x20','createConnection','[all]','caption','reconnectAttempts','replacer','STORE_MESSAGE','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','!cmd_','PRESENCE_UPDATE','certonly','editConversation','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','):\x20enviado\x20para\x20[','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','bodyString','PRODUCT_LIST','_p_','tags','Instância\x20não\x20encontrada.','http','addChatLabel','imageMessage','isJWT','jsonschema','notMatchRegex','paused','STORE_CONTACTS','-whatsapp-api','deleteFlow','admin','.mp4','unreadCount','.TEL;waid=','video','):\x20Label\x20','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','delayChatLabel_RETRY_DELAY_MS','createNewConversation','https','#9568cf','.ogv','15704rMgXWF','Error\x20in\x20scheduleNextCheck:\x20','/events/:instance','https://','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','status','DATABASE_CONNECTION_USER','removeChatLabel','insertCount','replaceVariables','/wa-message','Falha\x20após\x20várias\x20tentativas.','):\x20Conversa\x20atualizada\x20em\x20memória','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','telefone','send','node-mime-types','Documento\x20com\x20ID\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','findById','StatusJidList\x20is\x20required','notContains','authModel','leadInfo.customFields','sendDataWebhook','editChat','CHATS_UPDATE','getLabelModelForOwner','command','statusMessage','lastSend','\x20depois\x20','getDelay','\x1b[44m','eventemitter2','Converting\x20image\x20to\x20WebP\x20to\x20sticker','editOperator','HeaderType','verifyWhatsAppNumber','importChatsBatch','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','shutdown\x20-r\x20now','updateGroupPicture','revokeInviteCode','KEY','instanceCount','express-async-errors','getVariablesChat','mediatype','Erro\x20do\x20Certbot:\x20','sendMenu','ObjectId','status@broadcast','jid','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','parse','call','decryptPollVote','newStoppedUntil','updateAgent','isJidBroadcast','open','?timestamp=','#f64847','onTime','isCommunityAnnounce','webhookService','getConversation','groups.update','format','Cached\x20audio\x20found,\x20returning\x20existing\x20file','validate','Máximo\x20de\x20tentativas\x20atingido.\x20Falha\x20ao\x20enviar\x20mensagem\x20para\x20','createClient','):\x20Visualizando\x20AutomateSystem','announcement','email','connection.update','\x20\x1b[0m','createSectionsFromValues','FlowController','Erro\x20de\x20atualização:\x20','deleteOne','truncatedto','findGroupInfo','normalizeMessage','when','joinApprovalMode','deleteMessageForEveryone','flowName','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','Instance\x20restarted','greater','\x1b[1m\x1b[37m','replaceVariablesChat','isJidUser','allContacts','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','):\x20Bloco\x20com\x20ID\x20','blockId','\x22\x20cannot\x20be\x20empty',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','scheduleSendMedia',',\x20data:\x20','all_member_add','Error\x20updating\x20cache\x20contact:','env','/media/','exports','CORS','temp-','deleteChat','):\x20Limpando\x20delayMessage','Instance\x20Name:','updateMessage','option','Cannot\x20','condition','connecting','request\x20received\x20in\x20deleteDoneMessages','deleteBlock','isJidGroup','created','cacheContact','flowConfig','):\x20transformedCustomFieldVariables','SECRET','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','applyvaredit','textMessage','Font\x20is\x20required','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','getRandomText','audioMessage','unknown\x20operation\x20type\x20[','latitude','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','pt-BR','.doc','notEmpty','poll','Flow\x20iniciado','PREFIX_KEY','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','updateOneById','/group','cleanStore','minutesToClose','repository','redirect','insertMany','http://checkip.dyndns.org','):\x20alterando\x20this.AutomateSystem','https://github.com/uazapi/uazapi.git','deleteConversation','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','bateu\x20events','processvaredits','filter','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','$pull','updateConversation','eventEmitter','findMessages','audioWhatsapp',',\x20canSendMessage:\x20','BufferJSON','\x20saindo\x20da\x20função','modifiedCount','goNextblock','oldToken','instances','size','participants','):\x20Flow\x20não\x20encontrado','authService','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','setting','buttonText','downloads','mkdirSync','groupdata','global','approve','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','CacheContacts\x20database\x20connection\x20closed.','startFlowWebhook','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','length','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','close','InstancesAlterarTodas','joinGroup','waMonitor','Image\x20is\x20url','joinGroupValidate','toUpperCase','groupDesc','Instance\x20ID:','updateMissingShareOwners','DB_PREFIX_NAME','restartInstance','badSession','Selecione','Erro\x20ao\x20editar\x20a\x20conversa','sendWhatsAppAudio','type','messages.set','):\x20Iniciando\x20bot...','setUpdate','apply','QRCODE_UPDATED','fetchProfilePicture','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','unreadcount','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','--agree-tos','Connection\x20closed\x20for\x20instance:\x20','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','arrayUnique','testProxy','#ffc5c7','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','video-cover.png','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','restart','owner','groupName','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','messageContextInfo','router','Erro\x20ao\x20buscar\x20conversas','connectionUpdate','Erro\x20ao\x20editar\x20agentes','Instance\x20\x22','item','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','startID','Image\x20converted\x20to\x20WebP','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','findWebhook','segundos','hasOwnProperty','archiveChat','Database\x20is\x20not\x20enabled','groupAcceptInvite','@whiskeysockets/baileys','min','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','SERVER_ACK','E-mail:\x20','groupMetadata','creds.json','contacts.upsert','messageId','Erro\x20ao\x20atualizar\x20AutomateSystem:','stanzaId','):\x20Enviando\x20enquete','dbConnection','compression','processApiRequest','\x1b[34m%s\x1b[0m','write','closeExistingConversations','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','messages','fetchMessages','groupCreate','out','#6f7bcf','currency','encoding','has','toFile','firstValue','inner','updateProfilePicture','PORT','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','sharePass','$addToSet','\x1b[30m%s\x1b[0m','default','LOG','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.',':\x20Erro\x20durante\x20loadproxy\x20-\x20','forEach','cacheContactModel','):\x20Mensagem\x20já\x20enviada\x20para\x20','\x20não\x20encontrado\x20para\x20atualização.','deleteMany','recebido\x20de','DEBUG','delayChatLabel','@broadcast','Rótulo\x20inválido\x20ou\x20sem\x20ID.','ip:\x20','trim','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','://','locked',',\x20apikey:\x20','lean','Instance\x20deleted','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20',':\x20Tentativa\x20','remoteJidsRemaining','340460jlnxbx','concat','log','dbSettings','Fetching\x20business\x20profile','toBrazilianNumberFormat','):\x20Editando\x20edição\x20do\x20fluxo...','1200808lMRsob','@newsletter','padEnd','sendSticker','makeCacheableSignalKeyStore','application/json','scheduleSendText','warn','Validate','MESSAGES_SET','cpf','Erro\x20ao\x20atualizar\x20o\x20flow.','Falta\x20informação\x20para\x20a\x20chamada\x20API','Erro\x20ao\x20encerrar\x20a\x20API','message_normalized','#d8e651','LOG_LEVEL','uazapiSendAudio','end','username','CHATS_DELETE','CONTACTS_UPDATE','TEL','.mimetype','1398dQYCJN','\x20quoted:\x20','readMessageBot','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','.ppt','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','fetchInstances','replaceValue','reactionMessage','):\x20','info','ContactModel','PROXY','uazapiSendMenu','spawn','axios','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','leaveGroup','#ffffff','/instance/create','mediaMessage','Trying\x20to\x20get\x20business\x20profile','app-state-sync-key','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','FULLCHAIN','pino','pollMessage','STORE','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','request_method','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','AppStateSyncKeyData','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','query','):\x20Enviando\x20contato','title','connect','findManyByIds','map','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','getMIMEType','last','split','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','object','contactHandle','unhandledRejection','):\x20Procurando\x20conversa','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','):\x20Rótulo\x20atualizado:\x20','\x20->\x20NÃO\x20CORRESPONDE.','upsertedCount','\x1b[31m','document','public','fetchContacts','activatedCount','http://icanhazip.com/',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','DOCKER_ENV','apiResponse','STATUS_INSTANCE','sync','closed','throwAndLogError','):\x20Flow\x20desativado','prepareWAMessageMedia','/wa-chats','isBase64','getLastMessage','StartBot','Pausado\x20por\x20','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','whatsappNumbers','code','):\x20Fluxos\x20não\x20estão\x20ativados','blocks','noConnection','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','Not\x20is\x20business\x20profile','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','/instance/connectionState','getScheduleMessage','File\x20written\x20to\x20path:\x20','groupUpdateSubject','Erro\x20ao\x20inserir\x20chats:','Erro\x20ao\x20arquivar\x20chat','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','delay','):\x20updateResult:','updateOnlinePrivacy','name','uazapiSendLocation','replaceVariablesInReplyOptions',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','dark','_pushName','wuid','\x20-\x20retornado:\x20','INFO','method','fileName','Audio\x20converted\x20and\x20stored\x20in\x20cache',',\x20pairCode:\x20','Erro\x20ao\x20remover\x20label\x20','address','isURL','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','image','certbot','/wa-message-update','isListOfNumbers','fromObject','defineProperty','editflowreply','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','message','):\x20Usando\x20extensão\x20padrão:\x20','_Chats','Internal\x20Server\x20Error','\x20e\x20ID=','msgRetryCounterCache','/wa-connection-update','updateMediaMessage','release','connectedName','URL','.png','drop','deleteMessage','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','unavailable','):\x20teve\x20mudanças\x20chat.archived:\x20','Error\x20parsing\x20JSON:','GROUPS_UPSERT','pollCreationMessageV2','_fromMe','buttonId','ms\x20(tentativa\x20','Connection','normalizeMessageContent','chats.delete','ScheduleMessage','upperCase','varedits','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','locationMessage','statSync','Enter\x20a\x20value\x20in\x20milliseconds','canSendMessage','beautifyWithPlaceholders','\x20segundos','false','processConditions','findAll','env.yml','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','READ','.fileUrl','createRegularFlow','ultimaTentativaRemoteJid','createInstance','url','put','RECONNECT_TIME_FRAME','unlinkSync','Erro\x20ao\x20adicionar\x20label\x20',',\x20global:\x20','equal','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','updateReplyOption','DisconnectReason','isCommunity','Data\x20inválida\x20fornecida','):\x20Procurando\x20mensagens\x20para\x20envio','authState','lastMessage','delAll','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','request\x20received\x20in\x20deleteFlow','findOrCreate','processUazapi','deleted','getContactModelForOwner','params','profile','g-t','Erro\x20ao\x20alterar\x20privacidade','footerText','buttonMessage','WA\x20MODULE','protocol','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','_Contacts','AUTHENTICATION','Número:\x20','https://jsonip.com','boolean','labelId','updatePresence','Telefone:\x20','\x20mensagens\x20de\x20','remove.instance','messaging-history.set','deleteImportedChat','findOneAndUpdate','checkAndRestartProcess','none','/clients-info','\x1b[36m%s\x1b[0m','saveCreds','flushHeaders','yes','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','$dbName','save','storePath','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','request\x20received\x20in\x20editFlowgroup','Router','leadInfo.desativadoFluxoAte','Error\x20handling\x20sendmessage:','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','SERVER_OFFLINE','JWT','subject','isBusiness','request\x20received\x20in\x20getAutomateSystem','start','lastDisconnect','findAndReplace','description','@ffmpeg-installer/ffmpeg','verbose','mongodb://','ENABLED','promote','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','width','removeOlderDisconnectedInstances','request\x20received\x20in\x20editFlowvariable','PENDING','get','Last\x20message\x20not\x20found','The\x20instance\x20needs\x20to\x20be\x20disconnected','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','getFlow','GROUPS_UPDATE','delaySecMin','findByIdAndUpdate','substring','\x1b[33m','keep-alive','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','getUpdate','loadproxy','group','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','ConversationModel','VERBOSE','add','emit','writeFile','conversation','evaluateConditionTest','):\x20newFirstValue\x20após\x20replaceVariables:','privacySettings','sending','PRIVKEY','replaceVariablesInObject','chat\x20não\x20encontrado','processgoToFlow','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','autoCompleteMessages','base64','\x20removido\x20do\x20chat\x20','https://api.elevenlabs.io/v1/text-to-speech/','Getting\x20image\x20from\x20url','pushName','CHATS_SET','state','model','editFlow','updateChatWithMessage','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','#fe9dfe','express','pollCreationMessageV3','sendCommand','groupParticipantsUpdate','findGroup','conversationTimestamp','.uazapi.dev','slice','deleteAll','Deletion\x20failed',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','verifiedName','Authentication\x20error','Not\x20Found','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','CONTACTS_UPSERT','Cache-Control','port','delete','Sending\x20audio\x20whatsapp','prepareMediaMessage','.xlsx','mentioned','hbs','subdomain','):\x20Conversa\x20inserida\x20com\x20sucesso.','Error\x20in\x20chatModify\x20for\x20number\x20','):\x20delete\x20=\x20true','Types','http://ipecho.net/plain','not\x20loaded','/wa-qrcode','HttpsProxyAgent','scheduleSendAudio','downloadMediaMessage','profilePictureUrl','updateMissingTags','groups','json','startCommandWord','createGroup','application/octet-stream','leadInfo','creation','pollErrorMessage',']\x20(','convertaudioMP3','groupValidate','setNewValue','GROUP_PARTICIPANTS_UPDATE','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','messageStubType','bodyStringErrorParse','dayjs','fetchBusinessProfile','AUTHENTICATION_JWT_SECRET','empty','/chat','Parando\x20aplicação,\x20atualização\x20recebida','arraybuffer','PLAYED','Button\x20IDs\x20cannot\x20be\x20repeated.','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','\x1b[37m%s\x1b[0m','fetchConversation','NO_IP','#d3a91f','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','):\x20Buscando\x20flow...','author','repeat','chats','importChats','text/event-stream','originalUrl','round','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','muteEndTime','/wa-contacts','updateGroupsAddPrivacy','scheduled',',\x20lastCondition:\x20','Logger','setContext','mentions','setRestartTimeout','dbClient','updateCustomFields','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','pairingCode','reaction','formatStatusMessage','envYaml','$set','#64c4ff','limit','allFlows','):\x20Editando\x20condição\x20do\x20fluxo...','):\x20Criando\x20fluxo\x20compartilhado...','truncatedtoEnd','DELETED','splice','list','desativadoFluxoAte','body','findContacts','\x20não\x20encontrado','stopMinutesMaxActives','stateConnection','Flow\x20iniciado\x20com\x20','\x20horas\x20e\x20','connectedClient','?authSource=admin&readPreference=primary&directConnection=true','synchronizeFlows','redis','rows','inviteCodeDetails','updateGParticipant','flowIgnoreGroups','notify','groupJid','toggleEphemeral','now','getChatModelForOwner','\x20:\x20','addBlock','sendLocation','fromMe','waitingMenu_ExpiredMessage','chatLog','):\x20Going\x20to\x20','flattenObject','Nenhum\x20chat\x20encontrado\x20para\x20editar.','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','quotedMessage','contains','uazapiDeleteMessage','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','pre','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','Falhou\x20ao\x20encontrar\x20chat\x20','deleteInstance','archive','flow','archived','Subscribed\x20Events:','Erro\x20ao\x20copiar\x20o\x20documento','NextBlock','admin_add','Output\x20path:\x20','hex','beforeExit','Request\x20Body:','namespace','Variáveis\x20não\x20encontradas:','apirequest','createConversationforStartFlow','text','views','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','Reinicialização\x20iniciada:\x20',',\x20Comparador:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','Mensagem\x20não\x20suportada','variablesNotFound','statusJidList','copy','readData','Error\x20occurred\x20while\x20archiving\x20chat:\x20','reject','.url','updateOne','pollUpdateMessage','groups.upsert','processScheduleFlow','):\x20expirationTime:\x20','findGroups','reviver','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','<subdomain>','findAndUpdate','no-cache','):\x20Conversa\x20está\x20expirada\x20-\x20voto','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','findAndReplaceRegex','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','BRL','participant','):\x20[messages.upsert]\x20group\x20ignored','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','createWebhook','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','response','groupHandler','editedMessage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','uazapiSendText','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','removeInstance','fetchLatestBaileysVersion','Message','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','getScheduleMessageModelForOwner','sort','longitude','customFields','stopMinutes','_error','buffer','eventHandler','instance','request\x20received\x20in\x20updateAutoCompleteMessages','notas','audio/ogg','getHours','backgroundColor','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','findByIdAndDelete','toDataURL','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','create','editflowvaredit','SendScheduleMessage','):\x20this.processing_id:\x20','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','lastReceivedMessage','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'];a0_0x1352=function(){return _0x4c1ab5;};return a0_0x1352();}function U(_0x3933bc,_0x298c3f,_0x8bf296){const _0x3bbded=a0_0x6e1050;if(!ee[_0x3933bc])return;let _0x5a24fc=_0x3bbded(0x6df)+JSON['stringify'](_0x8bf296)+'\x0a\x0a';Object[_0x3bbded(0x6b9)](ee[_0x3933bc])['forEach'](_0x5255de=>{const _0x274984=_0x3bbded;_0x5255de[_0x274984(0x257)][_0x274984(0x269)](_0x298c3f)&&_0x5255de['response'][_0x274984(0x44b)](_0x5a24fc);});}function go(){const _0x26e98a=a0_0x6e1050;let _0xbd0ba2={};for(let _0x4c7e7e in ee)_0xbd0ba2[_0x4c7e7e]=Object[_0x26e98a(0x6b9)](ee[_0x4c7e7e])[_0x26e98a(0x4bf)](_0x5e15bc=>({'id':_0x5e15bc['id'],'events':_0x5e15bc[_0x26e98a(0x257)]}));return _0xbd0ba2;}var fo=require(a0_0x6e1050(0x7c4)),vs=require(a0_0x6e1050(0x6b1)),Es=class{},br=new vs[(a0_0x6e1050(0x6d0))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Sr=new vs[(a0_0x6e1050(0x6d0))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':br},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Me=A?.['model'](Es['name'],Sr,a0_0x6e1050(0x6ef)),Mr=mo[a0_0x6e1050(0x45f)]['join'](__dirname,a0_0x6e1050(0x3f8)),xe=(0x0,It[a0_0x6e1050(0x574)])(),Cr=b['get'](a0_0x6e1050(0x55b))['TYPE'],oe=[Ma,Ca,Na[Cr]];xe['use'](a0_0x6e1050(0x7a8),It[a0_0x6e1050(0x45f)][a0_0x6e1050(0x285)](Mr))[a0_0x6e1050(0x58b)](a0_0x6e1050(0x346),async(_0x1a8db6,_0x5acf89)=>{const _0x2e01b7=a0_0x6e1050;console[_0x2e01b7(0x47c)](_0x2e01b7(0x3e1));let _0x2f6630=_0x1a8db6['params']['instance'],_0x591760=(_0x1a8db6[_0x2e01b7(0x4ba)][_0x2e01b7(0x257)]||'')['split'](','),_0x82cdb9=(0x0,fo['v4'])();console['log'](_0x2e01b7(0x40b),_0x2f6630),console[_0x2e01b7(0x47c)](_0x2e01b7(0x648),_0x591760);let _0x2954c1=b['get'](_0x2e01b7(0x55b))[_0x2e01b7(0x23e)],_0x26a456=_0x1a8db6['query'][_0x2e01b7(0x305)];if(console[_0x2e01b7(0x47c)](_0x2e01b7(0x29d),_0x26a456),_0x2954c1[_0x2e01b7(0x370)]!==_0x26a456){console[_0x2e01b7(0x47c)]('env.KEY\x20!==\x20key');try{let _0x5d42da=await pe[_0x2e01b7(0x28a)][_0x2e01b7(0x15f)](_0x2f6630);if(console[_0x2e01b7(0x47c)]('Instance\x20Key\x20from\x20DB:',_0x5d42da),!_0x5d42da||_0x5d42da[_0x2e01b7(0x305)]!==_0x26a456)return console['log'](_0x2e01b7(0x120)),_0x5acf89[_0x2e01b7(0x349)](0x191)['send'](_0x2e01b7(0x18d));}catch(_0x58b921){return console[_0x2e01b7(0x7e2)](_0x2e01b7(0x4c9),_0x58b921),_0x5acf89['status'](0x191)[_0x2e01b7(0x353)](_0x2e01b7(0x1b0));}}if(!await $e(_0x2f6630))return _0x5acf89['status'](0x194)['send'](_0x2e01b7(0x32d));_0x5acf89[_0x2e01b7(0x6c2)]('Content-Type',_0x2e01b7(0x600)),_0x5acf89[_0x2e01b7(0x6c2)](_0x2e01b7(0x5c7),_0x2e01b7(0x66d)),_0x5acf89['setHeader'](_0x2e01b7(0x524),_0x2e01b7(0x595)),_0x5acf89[_0x2e01b7(0x56c)]();let _0x1a9709=_0x2e01b7(0x6df)+JSON[_0x2e01b7(0x69b)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x5acf89[_0x2e01b7(0x44b)](_0x1a9709),po(_0x2f6630,_0x82cdb9,_0x5acf89,_0x591760),_0x1a8db6['on'](_0x2e01b7(0x403),()=>{const _0x3b1962=_0x2e01b7;console['log'](_0x3b1962(0x41e)+_0x2f6630),ho(_0x2f6630,_0x82cdb9);});}),xe[a0_0x6e1050(0x146)]('/startFlow/:instance/:startID',async(_0x1898fd,_0x245478)=>{const _0x4efbe8=a0_0x6e1050;console[_0x4efbe8(0x47c)]('iniciando\x20fluxo\x20router');let _0x173d4e=_0x1898fd[_0x4efbe8(0x551)][_0x4efbe8(0x68a)],_0x445690=_0x1898fd[_0x4efbe8(0x551)]['startID'],_0xd7333a=_0x1898fd[_0x4efbe8(0x4ba)][_0x4efbe8(0x21b)]||'',_0x4c7844=_0x1898fd[_0x4efbe8(0x61f)];console[_0x4efbe8(0x47c)](_0x4efbe8(0x3b6),_0x173d4e),console[_0x4efbe8(0x47c)](_0x4efbe8(0x17e),_0x445690),console[_0x4efbe8(0x47c)](_0x4efbe8(0x79b),_0xd7333a),console[_0x4efbe8(0x47c)](_0x4efbe8(0x64f),_0x4c7844);try{if(!await $e(_0x173d4e))return _0x245478[_0x4efbe8(0x349)](0x194)[_0x4efbe8(0x353)](_0x4efbe8(0x32d));let _0x30ec9b=await O[_0x4efbe8(0x3ff)](_0x173d4e,_0x445690,_0xd7333a,_0x4c7844);_0x245478[_0x4efbe8(0x353)](_0x30ec9b);}catch(_0x476ad0){console[_0x4efbe8(0x7e2)](_0x476ad0),_0x245478[_0x4efbe8(0x349)](0x1f4)[_0x4efbe8(0x353)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),xe['get'](a0_0x6e1050(0x569),(_0x16c7ca,_0xb05884)=>{let _0x1d5e9c=go();_0xb05884['json'](_0x1d5e9c);})[a0_0x6e1050(0x58b)]('/',(_0x4e326e,_0x182511)=>{const _0x4ed87b=a0_0x6e1050;let _0x5b0ebf=b[_0x4ed87b(0x58b)](_0x4ed87b(0x77b))[_0x4ed87b(0x517)];if(_0x5b0ebf){let _0x5b39ea=encodeURIComponent(''+_0x5b0ebf);_0x182511[_0x4ed87b(0x3da)](_0x4ed87b(0x6cc)+_0x5b39ea);return;}let _0x1b00fc=b[_0x4ed87b(0x58b)](_0x4ed87b(0x762)),_0x41ef1f=_0x1b00fc&&_0x1b00fc[_0x4ed87b(0x4b1)][_0x4ed87b(0x4c3)]('/')[0x4];if(_0x41ef1f){let _0x9c2a1=encodeURIComponent(_0x4ed87b(0x347)+_0x41ef1f);_0x182511[_0x4ed87b(0x3da)](_0x4ed87b(0x6cc)+_0x9c2a1);}else _0x182511[_0x4ed87b(0x3da)](_0x4ed87b(0x7d6));})[a0_0x6e1050(0x53c)](a0_0x6e1050(0x76b),...oe,async(_0x196a39,_0x73065a)=>{const _0x136324=a0_0x6e1050;try{console[_0x136324(0x47c)](_0x136324(0x6d2)),_0x73065a['status'](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x73065a['on'](_0x136324(0x1ee),()=>process[_0x136324(0x201)](0x0));}catch(_0x53991a){console['error']('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x53991a),_0x73065a[_0x136324(0x349)](0x1f4)['json']({'message':_0x136324(0x48e)});}})['put'](a0_0x6e1050(0x1e8),...oe,async(_0x4706da,_0x578d69)=>{const _0x116233=a0_0x6e1050;try{let _0x568ba8=_0x4706da[_0x116233(0x61f)];await Me[_0x116233(0x662)]({},{'$set':_0x568ba8},{'upsert':!0x0});let _0x3dc73d=await Me[_0x116233(0x7a7)]();_0x578d69[_0x116233(0x5dd)](_0x3dc73d);}catch(_0x4fcc92){_0x578d69['status'](0x190)[_0x116233(0x353)](_0x4fcc92[_0x116233(0x50d)]);}})[a0_0x6e1050(0x58b)](a0_0x6e1050(0x1e8),...oe,async(_0x454a60,_0x2025b8)=>{const _0x4fac9a=a0_0x6e1050;try{let _0x330b01=await Me[_0x4fac9a(0x7a7)]();if(!_0x330b01)return _0x2025b8['json']({});_0x2025b8[_0x4fac9a(0x5dd)](_0x330b01);}catch(_0xd276b9){_0x2025b8[_0x4fac9a(0x349)](0x1f4)[_0x4fac9a(0x353)](_0xd276b9['message']);}})[a0_0x6e1050(0x1e4)](a0_0x6e1050(0x7b5),new ft(b,...oe)[a0_0x6e1050(0x42b)])[a0_0x6e1050(0x1e4)]('/message',new $t(...oe)['router'])[a0_0x6e1050(0x1e4)](a0_0x6e1050(0x5f0),new it(...oe)[a0_0x6e1050(0x42b)])[a0_0x6e1050(0x1e4)](a0_0x6e1050(0x3d6),new mt(...oe)[a0_0x6e1050(0x42b)])['use']('/webhook',new Ot(...oe)['router'])[a0_0x6e1050(0x1e4)](a0_0x6e1050(0x1f8),new Tt(...oe)[a0_0x6e1050(0x42b)]);var m=class{constructor(..._0x4876ac){const _0x5ce567=a0_0x6e1050;throw{'status':0x190,'error':_0x5ce567(0x2b2),'message':_0x4876ac[_0x5ce567(0x401)]>0x0?_0x4876ac:void 0x0};}},ae=class{constructor(..._0x2eb01e){const _0x349cda=a0_0x6e1050;throw{'status':0x191,'error':_0x349cda(0x180),'message':_0x2eb01e[_0x349cda(0x401)]>0x0?_0x2eb01e:void 0x0};}},Y=class{constructor(..._0x3b5ec4){const _0x2a8d39=a0_0x6e1050;throw{'status':0x193,'error':_0x2a8d39(0x6fc),'message':_0x3b5ec4[_0x2a8d39(0x401)]>0x0?_0x3b5ec4:void 0x0};}},q=class{constructor(..._0x4d2177){const _0x2fec22=a0_0x6e1050;throw{'status':0x194,'error':_0x2fec22(0x5c4),'message':_0x4d2177[_0x2fec22(0x401)]>0x0?_0x4d2177:void 0x0};}},x=class{constructor(..._0x998a5d){const _0x2c07ad=a0_0x6e1050;throw{'status':0x1f4,'error':_0x2c07ad(0x510),'message':_0x998a5d[_0x2c07ad(0x401)]>0x0?_0x998a5d:void 0x0};}},he=require(a0_0x6e1050(0x43b));async function Ns(_0x223a22){const _0x588904=a0_0x6e1050;let _0x3aabaf=new $(Ns[_0x588904(0x4f4)]),_0x29a8e3=A[_0x588904(0x2ad)](),_0x5559ac=_0x29a8e3['db'](b[_0x588904(0x58b)]('DATABASE')[_0x588904(0x1b4)][_0x588904(0x40d)]+_0x588904(0x20e))[_0x588904(0x1c1)](_0x223a22),_0x150dd9=async(_0xdf0272,_0x4f9140)=>{const _0x21878f=_0x588904;try{return await _0x29a8e3[_0x21878f(0x4bd)](),await _0x5559ac[_0x21878f(0x1d6)]({'_id':_0x4f9140},JSON[_0x21878f(0x37b)](JSON['stringify'](_0xdf0272,he[_0x21878f(0x3eb)][_0x21878f(0x31f)])),{'upsert':!0x0});}catch{}},_0x4592ba=async _0x4cb83e=>{const _0x28a09d=_0x588904;try{await _0x29a8e3[_0x28a09d(0x4bd)]();let _0x5c1cdb=await _0x5559ac['findOne']({'_id':_0x4cb83e}),_0x17cd24=JSON['stringify'](_0x5c1cdb);return JSON['parse'](_0x17cd24,he[_0x28a09d(0x3eb)][_0x28a09d(0x668)]);}catch{}},_0x6ef239=async _0x318e9a=>{const _0x1a074a=_0x588904;try{return await _0x29a8e3[_0x1a074a(0x4bd)](),await _0x5559ac[_0x1a074a(0x396)]({'_id':_0x318e9a});}catch{}},_0x52effb=await _0x4592ba(_0x588904(0x6a0))||(0x0,he[_0x588904(0x2ee)])();return{'state':{'creds':_0x52effb,'keys':{'get':async(_0x5711dc,_0x32bc04)=>{const _0x4763b0=_0x588904;let _0x14ebb0={};return await Promise['all'](_0x32bc04[_0x4763b0(0x4bf)](async _0x3bf59b=>{const _0x2493ee=_0x4763b0;let _0x1995e6=await _0x4592ba(_0x5711dc+'-'+_0x3bf59b);_0x5711dc===_0x2493ee(0x4af)&&_0x1995e6&&(_0x1995e6=he[_0x2493ee(0x6cf)][_0x2493ee(0x680)][_0x2493ee(0x4b8)][_0x2493ee(0x509)](_0x1995e6)),_0x14ebb0[_0x3bf59b]=_0x1995e6;})),_0x14ebb0;},'set':async _0x49dfce=>{let _0x597664=[];for(let _0x39eab8 in _0x49dfce)for(let _0x446ca4 in _0x49dfce[_0x39eab8]){let _0x3b7537=_0x49dfce[_0x39eab8][_0x446ca4],_0x3f2e3c=_0x39eab8+'-'+_0x446ca4;_0x597664['push'](_0x3b7537?_0x150dd9(_0x3b7537,_0x3f2e3c):_0x6ef239(_0x3f2e3c));}await Promise['all'](_0x597664);}}},'saveCreds':async()=>_0x150dd9(_0x52effb,_0x588904(0x6a0))};}var Ts=T(require('long')),Is=T(require(a0_0x6e1050(0x7d2))),_t=require('@whiskeysockets/baileys'),wo=require(a0_0x6e1050(0xea)),Dt=require(a0_0x6e1050(0x43b)),xt;function Er(_0x3dea11){const _0x3d91c6=a0_0x6e1050;return xt||(xt=(0x0,wo[_0x3d91c6(0x38d)])({'url':_0x3dea11[_0x3d91c6(0x7b3)]}),xt[_0x3d91c6(0x4bd)]()),xt;}var le=class c{constructor(_0x38f28d,_0x438d4a){const _0xbe9d21=a0_0x6e1050;this[_0xbe9d21(0x191)]=_0x38f28d,this[_0xbe9d21(0x71d)]=_0x438d4a,this['logger']=new $(c[_0xbe9d21(0x4f4)]),this['client']=Er(_0x38f28d);}set[a0_0x6e1050(0x2eb)](_0xae3793){const _0x26b754=a0_0x6e1050;this[_0x26b754(0x71d)]=_0xae3793;}async[a0_0x6e1050(0x2a6)](){const _0x1ddd10=a0_0x6e1050;try{return await this[_0x1ddd10(0x6b4)][_0x1ddd10(0x5b9)]([_0x1ddd10(0x1be),this['redisEnv']['PREFIX_KEY']+':*']);}catch(_0x1b14bc){this[_0x1ddd10(0xe4)][_0x1ddd10(0x7e2)](_0x1b14bc);}}async[a0_0x6e1050(0x22e)](_0x4b023e,_0x1b3e9e){const _0x4a352c=a0_0x6e1050;try{let _0x366a4f=JSON[_0x4a352c(0x69b)](_0x1b3e9e,Dt[_0x4a352c(0x3eb)][_0x4a352c(0x31f)]);return await this['client']['hSet'](this[_0x4a352c(0x191)]['PREFIX_KEY']+':'+this[_0x4a352c(0x71d)],_0x4b023e,_0x366a4f);}catch(_0x14b8a4){this[_0x4a352c(0xe4)][_0x4a352c(0x7e2)](_0x14b8a4);}}async['getAllData'](){const _0x2f6217=a0_0x6e1050;try{let _0x7922b7=await this[_0x2f6217(0x6b4)][_0x2f6217(0xfa)](this[_0x2f6217(0x191)][_0x2f6217(0x3d3)]+':'+this[_0x2f6217(0x71d)]);if(_0x7922b7){for(let _0x4320ed in _0x7922b7)Object[_0x2f6217(0x77e)][_0x2f6217(0x437)][_0x2f6217(0x37c)](_0x7922b7,_0x4320ed)&&(_0x7922b7[_0x4320ed]=JSON[_0x2f6217(0x37b)](_0x7922b7[_0x4320ed],Dt[_0x2f6217(0x3eb)][_0x2f6217(0x668)]));return _0x7922b7;}}catch(_0x1ce051){this[_0x2f6217(0xe4)][_0x2f6217(0x7e2)](_0x1ce051);}}async[a0_0x6e1050(0x65e)](_0x40ceb4){const _0x4b4bab=a0_0x6e1050;try{let _0x257044=await this['client'][_0x4b4bab(0x1e6)](this[_0x4b4bab(0x191)]['PREFIX_KEY']+':'+this[_0x4b4bab(0x71d)],_0x40ceb4);if(_0x257044)return JSON[_0x4b4bab(0x37b)](_0x257044,Dt[_0x4b4bab(0x3eb)][_0x4b4bab(0x668)]);}catch(_0x2c2b3a){this['logger'][_0x4b4bab(0x7e2)](_0x2c2b3a);}}async[a0_0x6e1050(0x145)](_0x34ad6c){const _0x2fdba5=a0_0x6e1050;try{return await this[_0x2fdba5(0x6b4)]['hDel'](this[_0x2fdba5(0x191)]['PREFIX_KEY']+':'+this[_0x2fdba5(0x71d)],_0x34ad6c);}catch(_0x581584){this[_0x2fdba5(0xe4)][_0x2fdba5(0x7e2)](_0x581584);}}async[a0_0x6e1050(0x54a)](_0x35ccbd){const _0x13eb43=a0_0x6e1050;try{return await this[_0x13eb43(0x6b4)][_0x13eb43(0x12b)](_0x35ccbd||this['redisEnv'][_0x13eb43(0x3d3)]+':'+this['instanceName']);}catch(_0x370fb){this[_0x13eb43(0xe4)][_0x13eb43(0x7e2)](_0x370fb);}}};async function Rs(_0x3c82f1,_0x256b32){const _0x42cca4=a0_0x6e1050;let _0x1d86b5=new $(Rs[_0x42cca4(0x4f4)]),_0x428052=new le(_0x3c82f1,_0x256b32),_0x2c48ef=async(_0x327841,_0x522614)=>{const _0x5b2902=_0x42cca4;try{return await _0x428052['writeData'](_0x522614,_0x327841);}catch(_0x3c2fa3){return _0x1d86b5[_0x5b2902(0x7e2)]({'localError':'writeData','error':_0x3c2fa3});}},_0x29a8d2=async _0x410bc9=>{const _0xa8be31=_0x42cca4;try{return await _0x428052[_0xa8be31(0x65e)](_0x410bc9);}catch(_0x1012fb){_0x1d86b5[_0xa8be31(0x7e2)]({'readData':_0xa8be31(0x22e),'error':_0x1012fb});return;}},_0x26268c=async _0x341b9c=>{const _0x519053=_0x42cca4;try{return await _0x428052[_0x519053(0x145)](_0x341b9c);}catch(_0x49945b){_0x1d86b5['error']({'readData':_0x519053(0x145),'error':_0x49945b});}},_0x506a18=await _0x29a8d2('creds')||(0x0,_t[_0x42cca4(0x2ee)])();return{'state':{'creds':_0x506a18,'keys':{'get':async(_0x200b70,_0x3d70fc)=>{const _0x4bc809=_0x42cca4;let _0x2d931e={};return await Promise[_0x4bc809(0x218)](_0x3d70fc[_0x4bc809(0x4bf)](async _0x105cab=>{const _0x30110c=_0x4bc809;let _0x3c0990=await _0x29a8d2(_0x200b70+'-'+_0x105cab);_0x200b70==='app-state-sync-key'&&_0x3c0990&&(_0x3c0990=_t[_0x30110c(0x6cf)]['Message']['AppStateSyncKeyData'][_0x30110c(0x509)](_0x3c0990)),_0x2d931e[_0x105cab]=_0x3c0990;})),_0x2d931e;},'set':async _0x15ebae=>{const _0x299de2=_0x42cca4;let _0x3c6b75=[];for(let _0x47b276 in _0x15ebae)for(let _0x4a7f88 in _0x15ebae[_0x47b276]){let _0x555331=_0x15ebae[_0x47b276][_0x4a7f88],_0x214e3a=_0x47b276+'-'+_0x4a7f88;_0x3c6b75['push'](_0x555331?await _0x2c48ef(_0x555331,_0x214e3a):await _0x26268c(_0x214e3a));}await Promise[_0x299de2(0x218)](_0x3c6b75);}}},'saveCreds':async()=>await _0x2c48ef(_0x506a18,_0x42cca4(0x6a0))};}var j=T(require('fs')),Ce=require(a0_0x6e1050(0x7c4)),Lt=T(require(a0_0x6e1050(0x7b8))),Ft=require(a0_0x6e1050(0x1e7)),vr='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'['trim'](),Pt=vr[a0_0x6e1050(0x4c3)]('\x0a')[a0_0x6e1050(0x4bf)](_0x464ed7=>{const _0x205fd3=a0_0x6e1050;let _0x56163c=_0x464ed7[_0x205fd3(0x4c3)](':'),_0x490073={'host':_0x56163c[0x0],'port':_0x56163c[0x1],'protocol':_0x205fd3(0x32e)};return _0x56163c[_0x205fd3(0x401)]===0x4&&(_0x490073[_0x205fd3(0x494)]=_0x56163c[0x2],_0x490073[_0x205fd3(0x11c)]=_0x56163c[0x3]),_0x490073;});function yo(_0x2f6d6c){const _0x34bdef=a0_0x6e1050;return Pt[_0x34bdef(0x15f)](_0x8ebb68=>_0x8ebb68[_0x34bdef(0x7ae)]===_0x2f6d6c)||null;}function bo(){const _0x4df719=a0_0x6e1050;if(Pt[_0x4df719(0x401)]===0x0)return null;let _0x199f2b=Math[_0x4df719(0x6c5)](Math[_0x4df719(0x1cd)]()*Pt['length']);return Pt[_0x199f2b];}function $s(_0x17dfb8){const _0x2c43c1=a0_0x6e1050;let _0x48715d=_0x114623=>typeof _0x114623==_0x2c43c1(0x304)&&_0x114623[_0x2c43c1(0x401)]>0x0,_0x1eaccb=_0x46d374=>{let _0x2eacf6=parseInt(_0x46d374,0xa);return!isNaN(_0x2eacf6)&&_0x2eacf6>0x0&&_0x2eacf6<=0xffff;},_0x3aba1b=_0x46d88e=>typeof _0x46d88e==_0x2c43c1(0x304)&&_0x46d88e['length']>0x0;return _0x17dfb8&&_0x48715d(_0x17dfb8[_0x2c43c1(0x7ae)])&&_0x1eaccb(_0x17dfb8[_0x2c43c1(0x5c8)])&&(!_0x17dfb8[_0x2c43c1(0x494)]||_0x3aba1b(_0x17dfb8[_0x2c43c1(0x494)]))&&(!_0x17dfb8[_0x2c43c1(0x11c)]||_0x3aba1b(_0x17dfb8[_0x2c43c1(0x11c)]))&&(_0x17dfb8[_0x2c43c1(0x558)]===_0x2c43c1(0x32e)||_0x17dfb8[_0x2c43c1(0x558)]==='https');}var Jt=require(a0_0x6e1050(0x7c5)),xs=a0_0x6e1050(0x117),No,ue=null,So=null,st=null,Nr=0x3,Rr=null,te=b[a0_0x6e1050(0x58b)](a0_0x6e1050(0x55b))[a0_0x6e1050(0x23e)]['KEY'];async function $r(){const _0x461030=a0_0x6e1050;let _0x4e67e6=await Me['findOne']();ue=_0x4e67e6?.[_0x461030(0x714)]??null,Rr=_0x4e67e6?.[_0x461030(0x264)]??null,xs=_0x4e67e6?.[_0x461030(0x626)]??'Safari',No=_0x4e67e6?.[_0x461030(0x516)]??Ds??_0x461030(0x17a),console[_0x461030(0x47c)](_0x4e67e6);}async function Ar(){await $r();}Ar();var Mo={},re={},Ee=class c{constructor(_0x6a40b3,_0x2c7284,_0x54adcd){const _0x26fd9b=a0_0x6e1050;this[_0x26fd9b(0x7aa)]=_0x6a40b3,this[_0x26fd9b(0x3e7)]=_0x2c7284,this[_0x26fd9b(0x3d9)]=_0x54adcd,this[_0x26fd9b(0xf9)]=null,this['logger']=new $(c[_0x26fd9b(0x4f4)]),this['instance']={},this[_0x26fd9b(0x318)]={},this['stateConnection']={'state':_0x26fd9b(0x403)},this[_0x26fd9b(0x571)]=(0x0,J[_0x26fd9b(0x283)])(ne,_0x26fd9b(0x3f8)),this[_0x26fd9b(0x512)]=new Is[(_0x26fd9b(0x45f))](),this['userDevicesCache']=new Is[(_0x26fd9b(0x45f))](),this['endSession']=!0x1,this[_0x26fd9b(0x2b1)]={'status.instance':_0x26fd9b(0x513),'connection.update':_0x26fd9b(0x513),'qrcode.updated':_0x26fd9b(0x5d6),'messages.upsert':_0x26fd9b(0x34e),'send.message':_0x26fd9b(0x34e),'messages.update':_0x26fd9b(0x507),'group.upsert':'/wa-groups','group.update':_0x26fd9b(0x102),'group-participants.update':_0x26fd9b(0x102),'messages.set':_0x26fd9b(0x2c0),'contacts.set':_0x26fd9b(0x605),'contacts.upsert':_0x26fd9b(0x605),'contacts.update':_0x26fd9b(0x605),'presence.update':'/wa-presence','chats.set':_0x26fd9b(0x4dc),'chats.update':_0x26fd9b(0x4dc),'chats.upsert':_0x26fd9b(0x4dc),'chats.delete':_0x26fd9b(0x4dc)},this[_0x26fd9b(0x31e)]=0x0,this[_0x26fd9b(0x7e1)]=[],this[_0x26fd9b(0x72c)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x26fd9b(0x2b0)]=!0x1,this[_0x26fd9b(0x19d)]={'chats.upsert':async(_0x73de53,_0x2500d6)=>{const _0x32ec36=_0x26fd9b;let _0x9bd3df=[];for await(let _0x4108d8 of _0x73de53)_0x9bd3df[_0x32ec36(0x122)]({'_id':_0x4108d8['id'],'owner':this['instance'][_0x32ec36(0x4fa)],'group':_0x4108d8['id'][_0x32ec36(0x24f)]('@g.us'),'name':_0x4108d8[_0x32ec36(0x4f4)]||_0x4108d8[_0x32ec36(0x13d)]||null,'contactname':null,'lastmsg':_0x4108d8[_0x32ec36(0x5bc)]&&_0x4108d8[_0x32ec36(0x5bc)][_0x32ec36(0x16c)]()['length']<0xd?_0x4108d8[_0x32ec36(0x5bc)]*0x3e8:_0x4108d8[_0x32ec36(0x5bc)]||null,'archived':_0x4108d8[_0x32ec36(0x647)]||!0x1,'unreadcount':_0x4108d8[_0x32ec36(0x33a)]||0x0,'ephemeralExpiration':_0x4108d8[_0x32ec36(0xe5)]||0x0});this[_0x32ec36(0x35c)]('chats.upsert',_0x9bd3df);},'chats.update':async(_0x34fca6,_0x51344b)=>{const _0x4facc7=_0x26fd9b;for(let _0x443b27 of _0x34fca6){let _0x1cebb6={'_id':_0x443b27['id'],'owner':this[_0x4facc7(0x68a)]['wuid'],'archived':_0x443b27[_0x4facc7(0x647)],'muteEndTime':_0x443b27[_0x4facc7(0x604)],'ephemeralExpiration':_0x443b27[_0x4facc7(0xe5)]},_0x341942=!0x1,_0x210994={};_0x1cebb6['archived']!=null&&(this[_0x4facc7(0xe4)][_0x4facc7(0x582)](this[_0x4facc7(0x71d)]+'\x20('+this[_0x4facc7(0x68a)]['wuid']+_0x4facc7(0x51d)+_0x443b27['id']+_0x4facc7(0x633)+_0x443b27[_0x4facc7(0x647)]),_0x341942=!0x0,_0x210994[_0x4facc7(0x647)]=_0x443b27['archived']),'muteEndTime'in _0x443b27&&(this[_0x4facc7(0xe4)][_0x4facc7(0x582)](this[_0x4facc7(0x71d)]+'\x20('+this['instance'][_0x4facc7(0x4fa)]+_0x4facc7(0x698)+_0x443b27['id']+'\x20:\x20'+(_0x443b27['muteEndTime']??'0')),_0x341942=!0x0,_0x210994[_0x4facc7(0x604)]=_0x443b27[_0x4facc7(0x604)]??0x0),_0x4facc7(0xe5)in _0x443b27&&(this[_0x4facc7(0xe4)]['verbose'](this[_0x4facc7(0x71d)]+'\x20('+this['instance']['wuid']+_0x4facc7(0x212)+_0x443b27['id']+'\x20:\x20'+(_0x443b27[_0x4facc7(0xe5)]!==void 0x0?_0x443b27[_0x4facc7(0xe5)]:_0x4facc7(0x293))),_0x210994[_0x4facc7(0xe5)]=_0x443b27[_0x4facc7(0xe5)]===null?0x0:_0x443b27[_0x4facc7(0xe5)],_0x341942=!0x0);let _0x5f4248;_0x341942&&(_0x5f4248=await this[_0x4facc7(0x3d9)][_0x4facc7(0x134)][_0x4facc7(0x662)]({'where':{'_id':_0x443b27['id']}},_0x210994,this[_0x4facc7(0x68a)][_0x4facc7(0x4fa)])),_0x5f4248&&U(this['instanceName'],_0x4facc7(0x5fe),{'chat':_0x5f4248});}},'chats.delete':async _0x423a56=>{const _0xbe2078=_0x26fd9b;for(let _0x1ebb91 of _0x423a56)if(_0x1ebb91['endsWith'](_0xbe2078(0x254))){await this[_0xbe2078(0x3d9)][_0xbe2078(0x134)][_0xbe2078(0x5c9)]({'where':{'_id':_0x1ebb91}},this[_0xbe2078(0x68a)]['wuid']);let _0x3c9bfb={'where':{'key':{'remoteJid':_0x1ebb91}}};await this[_0xbe2078(0x3d9)]['message']['delete'](_0x3c9bfb,this['instance'][_0xbe2078(0x4fa)]);}else{await this[_0xbe2078(0x3d9)][_0xbe2078(0x134)][_0xbe2078(0x662)]({'where':{'_id':_0x1ebb91}},{'lastmsg':0x0,'unreadcount':0x0},this[_0xbe2078(0x68a)]['wuid']);let _0x5f52fd={'where':{'key':{'remoteJid':_0x1ebb91}}};await this[_0xbe2078(0x3d9)][_0xbe2078(0x50d)][_0xbe2078(0x5c9)](_0x5f52fd,this[_0xbe2078(0x68a)]['wuid']);}this[_0xbe2078(0x35c)](_0xbe2078(0x526),[..._0x423a56]);}},this[_0x26fd9b(0x4c6)]={'contacts.upsert':async(_0x2c0924,_0x3ac090)=>{const _0x4f4c9b=_0x26fd9b;let _0x180821=await this[_0x4f4c9b(0x3d9)][_0x4f4c9b(0x6d1)][_0x4f4c9b(0x15f)]({'where':{}},this[_0x4f4c9b(0x68a)][_0x4f4c9b(0x4fa)]),_0x40212a=[];for await(let _0x3eabf0 of _0x2c0924)_0x180821[_0x4f4c9b(0x15f)](_0x6eec54=>_0x6eec54['_id']===_0x3eabf0['id'])||_0x40212a[_0x4f4c9b(0x122)]({'_id':_0x3eabf0['id'],'pushName':_0x3eabf0?.[_0x4f4c9b(0x4f4)]||_0x3eabf0?.[_0x4f4c9b(0x5c2)],'owner':this[_0x4f4c9b(0x68a)][_0x4f4c9b(0x4fa)]});this[_0x4f4c9b(0x35c)](_0x4f4c9b(0x442),_0x40212a),await this[_0x4f4c9b(0x3d9)][_0x4f4c9b(0x6d1)][_0x4f4c9b(0x2ae)](_0x40212a);},'contacts.update':async(_0x113d5d,_0x3df608)=>{const _0x4eab6f=_0x26fd9b;let _0x407702=[];for await(let _0x1f64c7 of _0x113d5d)_0x407702['push']({'_id':_0x1f64c7['id'],'pushName':_0x1f64c7?.[_0x4eab6f(0x4f4)]??_0x1f64c7?.[_0x4eab6f(0x5c2)],'owner':this['instance'][_0x4eab6f(0x4fa)]});this['sendDataWebhook'](_0x4eab6f(0x16b),_0x407702);}},this[_0x26fd9b(0x288)]={'messaging-history.set':async({messages:_0x1437fe,chats:_0x79775d,isLatest:_0xcf2192},_0x3f3b78)=>{const _0x57265e=_0x26fd9b;if(_0xcf2192){let _0x3b61d4=await Promise[_0x57265e(0x218)](_0x79775d['map'](async _0x86c4ac=>({'_id':_0x86c4ac['id'],'owner':this[_0x57265e(0x68a)][_0x57265e(0x4fa)],'group':_0x86c4ac['id'][_0x57265e(0x24f)](_0x57265e(0x254)),'name':_0x86c4ac[_0x57265e(0x4f4)]||_0x86c4ac[_0x57265e(0x13d)]||_0x86c4ac[_0x57265e(0x494)]||null,'contactname':null,'lastmsg':_0x86c4ac[_0x57265e(0x5bc)]&&_0x86c4ac[_0x57265e(0x5bc)]['toString']()[_0x57265e(0x401)]<0xd?_0x86c4ac[_0x57265e(0x5bc)]*0x3e8:_0x86c4ac[_0x57265e(0x5bc)]||null,'archived':_0x86c4ac[_0x57265e(0x647)]||!0x1,'unreadcount':_0x86c4ac[_0x57265e(0x33a)]||0x0,'ephemeralExpiration':_0x86c4ac[_0x57265e(0xe5)]||0x0,'muteEndTime':_0x86c4ac[_0x57265e(0x604)]||0x0})));this[_0x57265e(0x35c)]('chats.set',_0x3b61d4),await this[_0x57265e(0x738)](_0x3b61d4,_0x3f3b78);}let _0x2f379f=[],_0x354c95=Date[_0x57265e(0x631)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x26b45f]of Object[_0x57265e(0x788)](_0x1437fe)){if(_0x26b45f[_0x57265e(0x50d)]?.[_0x57265e(0x6c9)]||_0x26b45f[_0x57265e(0x50d)]?.[_0x57265e(0x13b)]||!_0x26b45f[_0x57265e(0x50d)]||_0x26b45f['key'][_0x57265e(0x21b)]===_0x57265e(0x378)||(Ts[_0x57265e(0x45f)][_0x57265e(0x26f)](_0x26b45f?.[_0x57265e(0x166)])&&(_0x26b45f[_0x57265e(0x166)]=_0x26b45f[_0x57265e(0x166)]?.['toNumber']()),_0x26b45f[_0x57265e(0x166)]&&_0x26b45f[_0x57265e(0x166)][_0x57265e(0x16c)]()[_0x57265e(0x401)]<0xd&&(_0x26b45f[_0x57265e(0x166)]=_0x26b45f[_0x57265e(0x166)]*0x3e8),_0x26b45f['messageTimestamp']<_0x354c95))continue;let _0x44a733=(0x0,f[_0x57265e(0x525)])(_0x26b45f[_0x57265e(0x50d)]),_0x40f521=(0x0,f[_0x57265e(0x6b8)])(_0x44a733),{message_normalized:_0x360546}=this[_0x57265e(0x399)](_0x44a733,_0x40f521,null);Object[_0x57265e(0x1be)](_0x360546)[_0x57265e(0x401)]>0x0&&_0x2f379f[_0x57265e(0x122)]({'_id':_0x26b45f['key']['id'],'key':_0x26b45f[_0x57265e(0x759)],'pushName':_0x26b45f[_0x57265e(0x5af)],'participant':_0x26b45f[_0x57265e(0x673)],'message':_0x44a733,'messageType':_0x40f521,'message_normalized':{'key':_0x26b45f[_0x57265e(0x759)],'pushName':_0x26b45f['pushName'],'messageTimestamp':_0x26b45f[_0x57265e(0x166)],..._0x360546},'messageTimestamp':_0x26b45f[_0x57265e(0x166)],'owner':this['instance'][_0x57265e(0x4fa)]});}_0x3f3b78[_0x57265e(0x584)]&&_0x2f379f[_0x57265e(0x401)]>0x0&&(this[_0x57265e(0xe4)][_0x57265e(0x582)](this[_0x57265e(0x71d)]+'\x20('+this[_0x57265e(0x68a)][_0x57265e(0x4fa)]+_0x57265e(0x4a2)+_0x2f379f[_0x57265e(0x401)]+_0x57265e(0x562)+this['instance'][_0x57265e(0x4fa)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x57265e(0x3d9)]['message'][_0x57265e(0x2ae)]([..._0x2f379f],this[_0x57265e(0x68a)][_0x57265e(0x4fa)])),this[_0x57265e(0x35c)](_0x57265e(0x414),[..._0x2f379f]),_0x1437fe=void 0x0;},'messages.upsert':async({messages:_0x4ca13c,type:_0x3c0b9d},_0x9d74f8)=>{const _0x3b1e97=_0x26fd9b;let _0x4308dc=_0x4ca13c[0x0],_0xbbb327=_0x4308dc[_0x3b1e97(0x759)]['id'],_0x1d938b=_0x4308dc[_0x3b1e97(0x5ea)]===0x2,_0x9dc73=0xb;if(this[_0x3b1e97(0x318)]?.[_0x3b1e97(0x1da)]&&_0x4308dc[_0x3b1e97(0x759)][_0x3b1e97(0x21b)][_0x3b1e97(0x269)](_0x3b1e97(0x254))){this[_0x3b1e97(0xe4)][_0x3b1e97(0x582)](this[_0x3b1e97(0x71d)]+'\x20('+this[_0x3b1e97(0x68a)]['wuid']+_0x3b1e97(0x674));return;}if(_0x1d938b){if(re[_0xbbb327]||(re[_0xbbb327]=0x0),re[_0xbbb327]++,this[_0x3b1e97(0xe4)]['error'](this[_0x3b1e97(0x71d)]+'\x20('+this['instance']['wuid']+'):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x4308dc[_0x3b1e97(0x759)]['remoteJid']+_0x3b1e97(0x511)+_0xbbb327+':\x20'+re[_0xbbb327]+'/'+_0x9dc73),re[_0xbbb327]>=_0x9dc73){this[_0x3b1e97(0xe4)][_0x3b1e97(0x7e2)](this['instanceName']+'\x20('+this[_0x3b1e97(0x68a)][_0x3b1e97(0x4fa)]+'):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x4308dc[_0x3b1e97(0x759)]['remoteJid']+_0x3b1e97(0x511)+_0xbbb327+'.');let _0x303904={'key':{..._0x4308dc['key']},'message':{'conversation':'[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22'+_0xbbb327+_0x3b1e97(0x1ea)}};this[_0x3b1e97(0x6b4)]['ev'][_0x3b1e97(0x59e)](_0x3b1e97(0x127),{'messages':[_0x303904],'type':_0x3b1e97(0x62e)}),delete re[_0xbbb327];}}else re[_0xbbb327]&&(this[_0x3b1e97(0xe4)][_0x3b1e97(0x488)]('[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20'+re[_0xbbb327]+'\x20tentativas:\x20remotejid='+_0x4308dc[_0x3b1e97(0x759)][_0x3b1e97(0x21b)]+_0x3b1e97(0x511)+_0xbbb327),delete re[_0xbbb327]);if(_0x3c0b9d!==_0x3b1e97(0x62e)||!_0x4308dc?.[_0x3b1e97(0x50d)]||_0x4308dc[_0x3b1e97(0x50d)]?.[_0x3b1e97(0x6c9)]||_0x4308dc['message'][_0x3b1e97(0x13b)]||_0x4308dc['key'][_0x3b1e97(0x21b)]===_0x3b1e97(0x378))return;let _0x321945=null,_0x4f0245=null;try{_0x321945=await this['processPollUpdateMessage'](_0x4308dc),_0x4f0245=_0x321945?_0x321945['join'](','):null;}catch(_0x59a3a5){this[_0x3b1e97(0xe4)][_0x3b1e97(0x582)](this[_0x3b1e97(0x71d)]+'\x20('+this[_0x3b1e97(0x68a)][_0x3b1e97(0x4fa)]+_0x3b1e97(0x4a2)+(_0x59a3a5 instanceof Error?_0x59a3a5[_0x3b1e97(0x50d)]:JSON[_0x3b1e97(0x69b)](_0x59a3a5,null,0x2))),_0x4f0245=_0x3b1e97(0xec);}this['client'][_0x3b1e97(0x6cb)](_0x3b1e97(0x51c)),Ts['default'][_0x3b1e97(0x26f)](_0x4308dc[_0x3b1e97(0x166)])&&(_0x4308dc['messageTimestamp']=_0x4308dc[_0x3b1e97(0x166)]?.[_0x3b1e97(0x11f)]()),_0x4308dc['messageTimestamp']&&_0x4308dc[_0x3b1e97(0x166)][_0x3b1e97(0x16c)]()[_0x3b1e97(0x401)]<0xd&&(_0x4308dc[_0x3b1e97(0x166)]=_0x4308dc[_0x3b1e97(0x166)]*0x3e8);let _0x19c583=_0x4308dc['message'],_0x34c7ed=(0x0,f[_0x3b1e97(0x525)])(_0x19c583),_0x4b25b3=(0x0,f[_0x3b1e97(0x6b8)])(_0x34c7ed),{messageContent:_0x48248f,message_normalized:_0xa24d9}=this[_0x3b1e97(0x399)](_0x34c7ed,_0x4b25b3,_0x4f0245);_0x4b25b3===_0x3b1e97(0x6c9)&&_0x48248f?.[_0x3b1e97(0x67a)]&&(_0x4b25b3='editedMessage');let _0x4262ce,_0x228ee2=_0x4308dc['key'][_0x3b1e97(0x21b)][_0x3b1e97(0x24f)](_0x3b1e97(0x254));if(_0x4308dc[_0x3b1e97(0x759)][_0x3b1e97(0x636)])_0x4262ce=this[_0x3b1e97(0x68a)][_0x3b1e97(0x5da)];else{let _0x5a8236=_0x228ee2?_0x4308dc[_0x3b1e97(0x759)][_0x3b1e97(0x673)]:_0x4308dc['key'][_0x3b1e97(0x21b)];_0x4262ce=(await this[_0x3b1e97(0xf4)](_0x5a8236,_0x4308dc[_0x3b1e97(0x5af)],!0x1))[_0x3b1e97(0x710)][_0x3b1e97(0x78e)];}let _0x30d083={'_id':_0x4308dc['key']['id'],'key':_0x4308dc[_0x3b1e97(0x759)],'isGroup':_0x228ee2,'profilePictureUrl':_0x4262ce,'pushName':_0x4308dc[_0x3b1e97(0x5af)],'message':_0x34c7ed,'messageType':_0x4b25b3,'message_normalized':{'key':_0x4308dc[_0x3b1e97(0x759)],'pushName':_0x4308dc['pushName'],'messageTimestamp':_0x4308dc[_0x3b1e97(0x166)],'source':(0x0,f[_0x3b1e97(0x15d)])(_0x4308dc[_0x3b1e97(0x759)]['id']),..._0xa24d9},'messageTimestamp':_0x4308dc[_0x3b1e97(0x166)],'owner':this[_0x3b1e97(0x68a)]['wuid'],'source':(0x0,f[_0x3b1e97(0x15d)])(_0x4308dc['key']['id']),'expiration':_0x48248f?.['contextInfo']?.[_0x3b1e97(0x78d)]||0x0};_0x48248f||(console[_0x3b1e97(0x7e2)](_0x3b1e97(0x65a)),this[_0x3b1e97(0xe4)][_0x3b1e97(0x7e2)](_0x30d083)),this[_0x3b1e97(0xe4)]['log'](this[_0x3b1e97(0x71d)]+'\x20('+this[_0x3b1e97(0x68a)][_0x3b1e97(0x4fa)]+'):\x20'+(_0x30d083[_0x3b1e97(0x759)]?.[_0x3b1e97(0x636)]?_0x3b1e97(0x24c):_0x3b1e97(0x468))+'\x20['+_0x30d083[_0x3b1e97(0x759)]?.[_0x3b1e97(0x21b)]['replace'](_0x3b1e97(0x317),'')+_0x3b1e97(0x5e4)+_0x30d083['messageType']+')'),_0x30d083[_0x3b1e97(0x48f)]?.[_0x3b1e97(0x654)]&&this[_0x3b1e97(0xe4)][_0x3b1e97(0x47c)](_0xbbb327+':\x20'+_0x30d083[_0x3b1e97(0x48f)]?.[_0x3b1e97(0x654)]),await this['repository'][_0x3b1e97(0x50d)]['insert']([_0x30d083],this[_0x3b1e97(0x68a)][_0x3b1e97(0x4fa)]),this['sendDataWebhook'](_0x3b1e97(0x127),_0x30d083),U(this[_0x3b1e97(0x71d)],_0x3b1e97(0x44e),{'message':_0x30d083}),_0x4308dc[_0x3b1e97(0x759)]['remoteJid']!==_0x3b1e97(0x378)&&await this[_0x3b1e97(0x5b4)](_0x9d74f8,_0x30d083,_0x3b1e97(0x1c0));},'messages.update':async(_0x58e662,_0x47c639)=>{const _0x8c0dd2=_0x26fd9b;let _0x3e49ab={0x0:_0x8c0dd2(0x27f),0x1:_0x8c0dd2(0x58a),0x2:'SERVER_ACK',0x3:'DELIVERY_ACK',0x4:_0x8c0dd2(0x536),0x5:'PLAYED'};for await(let {key:_0xf5b3d2,update:_0x5ed0c4}of _0x58e662){if(this[_0x8c0dd2(0x318)]?.[_0x8c0dd2(0x1da)]&&_0xf5b3d2[_0x8c0dd2(0x21b)][_0x8c0dd2(0x269)]('@g.us')){this['logger']['verbose'](this[_0x8c0dd2(0x71d)]+'\x20('+this[_0x8c0dd2(0x68a)][_0x8c0dd2(0x4fa)]+_0x8c0dd2(0xd9));return;}if(_0xf5b3d2[_0x8c0dd2(0x21b)]!==_0x8c0dd2(0x378)){let _0x382107=Date[_0x8c0dd2(0x631)](),_0xfaa314;_0x5ed0c4[_0x8c0dd2(0x50d)]===null&&_0x5ed0c4['status']===void 0x0?_0xfaa314=_0x8c0dd2(0x61b):_0xfaa314=_0x3e49ab[_0x5ed0c4[_0x8c0dd2(0x349)]];let _0x8b9137=_0xf5b3d2[_0x8c0dd2(0x21b)]['replace'](/:\d{1,2}@/g,'@'),_0x356d59={..._0xf5b3d2,'remoteJid':_0x8b9137,'status':_0xfaa314,'datetime':_0x382107,'owner':this[_0x8c0dd2(0x68a)]['wuid']};this[_0x8c0dd2(0x35c)]('messages.update',_0x356d59),await this['updateMessage'](_0xf5b3d2,_0x356d59);}}},'labels.association':async({type:_0x314172,association:_0x10e11a})=>{const _0x473b44=_0x26fd9b;if(_0x10e11a[_0x473b44(0x413)]===_0x473b44(0x73c)){let _0x4b69fb,_0x23694a=0x0;for(;!_0x4b69fb&&_0x23694a<this[_0x473b44(0x7c2)];)_0x4b69fb=await this[_0x473b44(0x3d9)][_0x473b44(0x134)][_0x473b44(0x7a7)]({'where':{'_id':_0x10e11a[_0x473b44(0x2a0)]}},this[_0x473b44(0x68a)][_0x473b44(0x4fa)]),_0x4b69fb||(_0x23694a++,this[_0x473b44(0xe4)][_0x473b44(0x4a3)](this['instanceName']+'\x20('+this[_0x473b44(0x68a)][_0x473b44(0x4fa)]+'):\x20Chat\x20'+_0x10e11a[_0x473b44(0x2a0)]+_0x473b44(0x69a)+this[_0x473b44(0x33f)]+_0x473b44(0x523)+_0x23694a+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x473b44(0x46a)](this[_0x473b44(0x33f)]));if(!_0x4b69fb){console[_0x473b44(0x7e2)](_0x473b44(0x643)+_0x10e11a[_0x473b44(0x2a0)]+_0x473b44(0x363)+this[_0x473b44(0x7c2)]+_0x473b44(0x1d0));return;}switch(_0x314172){case _0x473b44(0x59d):console[_0x473b44(0x47c)](_0x10e11a),await this[_0x473b44(0x3d9)][_0x473b44(0x134)][_0x473b44(0x662)]({'where':{'_id':_0x10e11a[_0x473b44(0x2a0)]}},{'leadInfo.etiquetas':_0x10e11a['labelId']},this['instance'][_0x473b44(0x4fa)],void 0x0,_0x473b44(0x45d));break;case _0x473b44(0x726):console[_0x473b44(0x47c)](_0x10e11a),await this[_0x473b44(0x3d9)][_0x473b44(0x134)][_0x473b44(0x662)]({'where':{'_id':_0x10e11a[_0x473b44(0x2a0)]}},{'leadInfo.etiquetas':_0x10e11a[_0x473b44(0x55f)]},this[_0x473b44(0x68a)][_0x473b44(0x4fa)],void 0x0,_0x473b44(0x3e5));break;default:console['error'](_0x473b44(0x3cb)+_0x314172+']');}}},'labels.edit':async _0x3a7151=>{const _0x22de7d=_0x26fd9b;if(!_0x3a7151||!_0x3a7151['id']){console[_0x22de7d(0x7e2)](_0x22de7d(0x46c));return;}if(!_0x3a7151['deleted']){let _0xb92be7=[_0x22de7d(0x17b),_0x22de7d(0x615),_0x22de7d(0x2b6),_0x22de7d(0x1b1),_0x22de7d(0x1fd),_0x22de7d(0x1fe),_0x22de7d(0x5b6),_0x22de7d(0x5f9),_0x22de7d(0x452),_0x22de7d(0x490),_0x22de7d(0x151),_0x22de7d(0x422),_0x22de7d(0x2e9),_0x22de7d(0x383),'#00a1f2',_0x22de7d(0x74f),_0x22de7d(0x157),_0x22de7d(0x1a5),_0x22de7d(0x18a),_0x22de7d(0x342)],_0x168a62;typeof _0x3a7151[_0x22de7d(0x149)]==_0x22de7d(0x78b)&&_0x3a7151[_0x22de7d(0x149)]>=0x0&&_0x3a7151[_0x22de7d(0x149)]<_0xb92be7[_0x22de7d(0x401)]?_0x168a62=_0xb92be7[_0x3a7151[_0x22de7d(0x149)]]:(console[_0x22de7d(0x7e2)](_0x22de7d(0x59a),_0x3a7151[_0x22de7d(0x149)]),_0x168a62=_0x22de7d(0x297));let _0x43fb80={'_id':_0x3a7151['id'],'colorHex':_0x168a62,'color':_0x3a7151?.[_0x22de7d(0x149)],'name':_0x3a7151?.[_0x22de7d(0x4f4)],'owner':this[_0x22de7d(0x68a)][_0x22de7d(0x4fa)]};await this[_0x22de7d(0x3d9)][_0x22de7d(0x69d)][_0x22de7d(0x662)]({'where':{'_id':_0x3a7151['id']}},_0x43fb80,this[_0x22de7d(0x68a)][_0x22de7d(0x4fa)]),this[_0x22de7d(0xe4)][_0x22de7d(0x4a3)](this[_0x22de7d(0x71d)]+'\x20('+this[_0x22de7d(0x68a)][_0x22de7d(0x4fa)]+_0x22de7d(0x4ca)+_0x3a7151);}_0x3a7151[_0x22de7d(0x54f)]&&(await this[_0x22de7d(0x3d9)][_0x22de7d(0x69d)][_0x22de7d(0x5c9)]({'where':{'_id':_0x3a7151['id']}},this[_0x22de7d(0x68a)][_0x22de7d(0x4fa)]),this[_0x22de7d(0xe4)][_0x22de7d(0x4a3)](_0x22de7d(0x731)+_0x3a7151['id']));}},this[_0x26fd9b(0x679)]={'groups.upsert':async _0xc8e825=>{const _0x5d8e91=_0x26fd9b;this[_0x5d8e91(0x318)]?.[_0x5d8e91(0x1da)]||this[_0x5d8e91(0x35c)](_0x5d8e91(0x664),_0xc8e825);for(let _0x4b5e19 of _0xc8e825)await this['updateGroupWebhook'](_0x4b5e19);},'groups.update':async _0x348e3c=>{const _0x56186b=_0x26fd9b;this[_0x56186b(0x318)]?.[_0x56186b(0x1da)]||this[_0x56186b(0x35c)](_0x56186b(0x388),_0x348e3c);for(let _0x113737 of _0x348e3c)await this[_0x56186b(0x124)](_0x113737);},'group-participants.update':async _0xb06e4c=>{const _0x45fa0b=_0x26fd9b;this[_0x45fa0b(0x318)]?.[_0x45fa0b(0x1da)]||this['sendDataWebhook'](_0x45fa0b(0x6eb),_0xb06e4c),await this['updateGroupParticipantsWebhook'](_0xb06e4c);}},this[_0x26fd9b(0x7c2)]=0x5,this[_0x26fd9b(0x33f)]=0x1388,this[_0x26fd9b(0x796)]=async _0x344b73=>{const _0x320b38=_0x26fd9b;if(_0x344b73[_0x320b38(0x50d)]?.[_0x320b38(0x663)]){let _0x353d08=await this[_0x320b38(0x103)](_0x344b73[_0x320b38(0x50d)][_0x320b38(0x663)][_0x320b38(0x133)],!0x0);if(_0x353d08){let _0x22c03f=_0x353d08[_0x320b38(0x759)]['fromMe']?this['instance'][_0x320b38(0x4fa)]+'@s.whatsapp.net':_0x353d08['key'][_0x320b38(0x673)]||_0x353d08[_0x320b38(0x759)][_0x320b38(0x21b)],_0x593a93=_0x353d08[_0x320b38(0x759)]['id'],_0x352023=_0x353d08[_0x320b38(0x50d)],_0x4367f6=Buffer[_0x320b38(0x179)](_0x352023[_0x320b38(0x42a)][_0x320b38(0x295)][_0x320b38(0x16c)](_0x320b38(0x64d)),_0x320b38(0x64d)),_0x4621db=(0x0,f[_0x320b38(0x37d)])(_0x344b73['message']['pollUpdateMessage'][_0x320b38(0x270)],{'pollCreatorJid':_0x22c03f,'pollMsgId':_0x593a93,'pollEncKey':_0x4367f6,'voterJid':_0x344b73[_0x320b38(0x759)][_0x320b38(0x636)]?this['instance'][_0x320b38(0x4fa)]+_0x320b38(0x317):_0x344b73[_0x320b38(0x759)]['remoteJid'][_0x320b38(0x24f)](_0x320b38(0x7a6))?_0x344b73[_0x320b38(0x759)][_0x320b38(0x673)]:_0x344b73[_0x320b38(0x759)]['remoteJid']}),_0x4ac80b=[],_0x13c8a5=_0x4621db[_0x320b38(0x6ad)][_0x320b38(0x4bf)](_0x877e72=>Buffer[_0x320b38(0x179)](_0x877e72)[_0x320b38(0x16c)](_0x320b38(0x64d)));for(let {optionName:_0x50655b}of _0x352023[_0x320b38(0x1a7)]?.[_0x320b38(0x6c7)]||_0x352023['pollCreationMessageV3']?.['options']||_0x352023[_0x320b38(0x520)]?.['options'])_0x13c8a5['indexOf']((0x0,f[_0x320b38(0x271)])(Buffer[_0x320b38(0x179)](_0x50655b))[_0x320b38(0x16c)](_0x320b38(0x64d)))>-0x1&&_0x4ac80b[_0x320b38(0x122)](_0x50655b);return _0x4ac80b;}}return null;},this['normalizeMessage']=(_0xe680,_0x2c98d8,_0x5922c9)=>{const _0x28ee00=_0x26fd9b;try{let _0x3a727a=_0xe680?(0x0,f[_0x28ee00(0x2e6)])(_0xe680)[_0x2c98d8]:void 0x0,_0x189019={},_0xa2e603=null,_0x40edec=null,_0x353fd8=null;_0x2c98d8===_0x28ee00(0x6c9)&&_0x3a727a?.['editedMessage']&&(_0x2c98d8=(0x0,f[_0x28ee00(0x6b8)])(_0x3a727a[_0x28ee00(0x67a)]),_0xa2e603=_0xe680[_0x28ee00(0x6c9)]['key']['id'],_0x3a727a=_0xe680[_0x28ee00(0x6c9)][_0x28ee00(0x67a)][_0x2c98d8]),_0xe680[_0x2c98d8]?.[_0x28ee00(0x1af)]?.[_0x28ee00(0x445)]&&_0xe680[_0x2c98d8]?.[_0x28ee00(0x1af)]?.[_0x28ee00(0x63d)]&&(_0x40edec=_0xe680[_0x2c98d8][_0x28ee00(0x1af)]['stanzaId']),_0xe680[_0x28ee00(0x4a1)]&&(_0x353fd8=_0xe680['reactionMessage'][_0x28ee00(0x759)]['id']);let _0x3c8a5b;if(_0x3a727a&&typeof _0x3a727a==_0x28ee00(0x4c5)&&_0x28ee00(0x133)in _0x3a727a&&({pollCreationMessageKey:_0x3c8a5b}=_0x3a727a),_0x2c98d8===_0x28ee00(0x1a7)||_0x2c98d8===_0x28ee00(0x520)||_0x2c98d8===_0x28ee00(0x5b8)){let _0x452d5f=_0x3a727a[_0x28ee00(0x6c7)][_0x28ee00(0x4bf)](_0x559075=>_0x559075['optionName'])[_0x28ee00(0x283)]('|');_0x189019['convertedOptions']=_0x452d5f;}let _0x51cc9e='';if(_0x3a727a&&(_0x51cc9e+=_0x3a727a[_0x28ee00(0x4f4)]?_0x3a727a['name']:'',_0x51cc9e+=_0x3a727a[_0x28ee00(0x31d)]?'\x20'+_0x3a727a[_0x28ee00(0x31d)]:'',_0x51cc9e+=_0x3a727a[_0x28ee00(0x5a0)]?'\x20'+_0x3a727a[_0x28ee00(0x5a0)]:'',_0x51cc9e+=_0x3a727a['displayName']?'\x20'+_0x3a727a[_0x28ee00(0x13d)]:''),_0x2c98d8===_0x28ee00(0x2dc)){_0x51cc9e=(_0x3a727a[_0x28ee00(0x4bc)]||'')+'\x0a'+(_0x3a727a[_0x28ee00(0x580)]||'')+'\x0a'+(_0x3a727a[_0x28ee00(0x555)]||'');let _0x1197d5=this[_0x28ee00(0x232)](_0x3a727a[_0x28ee00(0x1e9)]);_0x189019[_0x28ee00(0x752)]=_0x1197d5;}if(_0x2c98d8===_0x28ee00(0x779)&&(_0x5922c9=_0x3a727a['title']),_0x3a727a&&_0x3a727a['vcard']){let _0x219117=this['formatVCard'](JSON[_0x28ee00(0x69b)](_0x3a727a[_0x28ee00(0x23b)],null,0x2));_0x51cc9e=_0x51cc9e+'\x0a'+_0x219117;}if(_0x3a727a){let {sections:_0xb2e0b9,listType:_0x1242e2,displayName:_0x28d80a,vcard:_0x5a8675,contactVcard:_0x596e16,name:_0x4cacc5,caption:_0x4c1e9c,conversation:_0x2cc7b7,pollCreationMessageKey:_0x511042,footerText:_0x22720d,contentText:_0x4815cc,pageCount:_0x1c9a7c,headerType:_0x4c6a4b,isAvatar:_0x5f4956,isAnimated:_0x293886,fallbackLc:_0x3a08b5,fallbackLg:_0x490d83,namespace:_0x423201,elementName:_0x13bd3e,localizableParams:_0x4a052a,viewOnce:_0x2f2350,height:_0x12dbd4,width:_0x287b35,key:_0x52c0c8,firstScanLength:_0x501697,firstScanSidecar:_0x4b5ec7,gifPlayback:_0x2534c8,gifAttribution:_0x3ca19e,midQualityFileSha256:_0x484fcb,scansSidecar:_0x192d4b,streamingSidecar:_0x5a2541,thumbnailHeight:_0x3b2286,thumbnailWidth:_0x10f254,thumbnailEncSha256:_0x51782f,thumbnailDirectPath:_0x313682,canonicalUrl:_0x43e8b3,matchedText:_0x4c8535,previewType:_0x5becfc,thumbnailSha256:_0x161232,deviceListMetadataVersion:_0x4078de,inviteLinkGroupTypeV2:_0x618190,interactiveAnnotations:_0x4b3cc1,scanLengths:_0x56ca20,jpegThumbnail:_0x185ba7,url:_0x1a6df5,mediaKeyTimestamp:_0x1feb46,waveform:_0x14a844,stickerSentTs:_0x5313a7,firstFrameLength:_0x4a80dc,fileEncSha256:_0x120236,contextInfo:_0x506455,firstFrameSidecar:_0x2f0c4a,directPath:_0x59f4e6,fileSha256:_0x17828a,mediaKey:_0x5783eb,senderTimestampMs:_0x38e220,..._0x315500}=_0x3a727a;(_0x2c98d8===_0x28ee00(0x2dc)||_0x2c98d8==='listResponseMessage')&&(delete _0x315500['title'],delete _0x315500[_0x28ee00(0x580)]),typeof _0x3a727a==_0x28ee00(0x304)?_0x189019={'text':_0x3a727a,'type':_0x2c98d8||_0x28ee00(0x5a0),..._0xa2e603&&{'edited':_0xa2e603},..._0x40edec&&{'quoted':_0x40edec},..._0x353fd8&&{'reaction':_0x353fd8}}:_0x189019={'text':_0x51cc9e,..._0x315500,..._0x2c98d8===_0x28ee00(0x663)?{'poll_id':_0x3a727a[_0x28ee00(0x133)]['id'],'quoted':_0x3a727a[_0x28ee00(0x133)]['id'],'vote':_0x5922c9}:{},..._0x2c98d8===_0x28ee00(0x779)?{'vote':_0x5922c9}:{},'type':_0x2c98d8,..._0xa2e603&&{'edited':_0xa2e603},..._0x40edec&&{'quoted':_0x40edec},..._0x353fd8&&{'reaction':_0x353fd8},...(_0x2c98d8===_0x28ee00(0x1a7)||_0x2c98d8===_0x28ee00(0x520)||_0x2c98d8==='pollCreationMessageV3'||_0x2c98d8===_0x28ee00(0x2dc))&&{'convertedOptions':_0x189019[_0x28ee00(0x752)]}};}return{'messageType':_0x2c98d8,'messageContent':_0x3a727a,'message_normalized':_0x189019};}catch(_0x145507){return console['error']('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x145507),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x26fd9b(0x3d7)](),this[_0x26fd9b(0x68a)]['qrcode']={'count':0x0},this[_0x26fd9b(0x68a)][_0x26fd9b(0x527)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set['instanceName'](_0x483bc5){const _0x426094=a0_0x6e1050;if(!_0x483bc5){this[_0x426094(0x68a)][_0x426094(0x4f4)]=(0x0,Co['v4'])();return;}this[_0x426094(0x68a)][_0x426094(0x4f4)]=_0x483bc5,this['sendDataWebhook'](_0x426094(0x2c2),{'instance':this[_0x426094(0x68a)][_0x426094(0x4f4)],'status':_0x426094(0x3bf)});}get[a0_0x6e1050(0x71d)](){const _0x14565e=a0_0x6e1050;return this[_0x14565e(0x68a)][_0x14565e(0x4f4)];}get[a0_0x6e1050(0x4fa)](){const _0x1570f9=a0_0x6e1050;return this['instance'][_0x1570f9(0x4fa)];}async[a0_0x6e1050(0x6fe)](){const _0xa51ae1=a0_0x6e1050;let _0x2968e1=this['client'][_0xa51ae1(0x267)]?.[_0xa51ae1(0x4f4)]??this['client']['user']?.[_0xa51ae1(0x5c2)];if(!_0x2968e1){if(this[_0xa51ae1(0x7aa)]['get'](_0xa51ae1(0x161))[_0xa51ae1(0x584)]){let _0x1515d5=await A[_0xa51ae1(0x2ad)]()['db'](this[_0xa51ae1(0x7aa)]['get'](_0xa51ae1(0x161))[_0xa51ae1(0x1b4)][_0xa51ae1(0x40d)]+_0xa51ae1(0x20e))[_0xa51ae1(0x1c1)](this['instanceName'])[_0xa51ae1(0x7a7)]({'_id':_0xa51ae1(0x6a0)});if(_0x1515d5){let _0x5b3037=JSON[_0xa51ae1(0x37b)](JSON[_0xa51ae1(0x69b)](_0x1515d5),f[_0xa51ae1(0x3eb)][_0xa51ae1(0x668)]);_0x2968e1=_0x5b3037['me']?.[_0xa51ae1(0x4f4)]||_0x5b3037['me']?.[_0xa51ae1(0x5c2)];}}else{if((0x0,De[_0xa51ae1(0x736)])((0x0,J[_0xa51ae1(0x283)])(fe,this[_0xa51ae1(0x71d)],_0xa51ae1(0x441)))){let _0x2ce296=JSON[_0xa51ae1(0x37b)]((0x0,De[_0xa51ae1(0x2e1)])((0x0,J[_0xa51ae1(0x283)])(fe,this[_0xa51ae1(0x71d)],_0xa51ae1(0x441)),{'encoding':_0xa51ae1(0x2a3)}));_0x2968e1=_0x2ce296['me']?.[_0xa51ae1(0x4f4)]||_0x2ce296['me']?.[_0xa51ae1(0x5c2)];}}}return _0x2968e1;}get[a0_0x6e1050(0x5da)](){const _0x4c8537=a0_0x6e1050;return this[_0x4c8537(0x68a)][_0x4c8537(0x5da)];}get[a0_0x6e1050(0x205)](){const _0x10e3fc=a0_0x6e1050;return this['instance'][_0x10e3fc(0x79d)]?.[_0x10e3fc(0x610)]?{'pairingCode':this[_0x10e3fc(0x68a)][_0x10e3fc(0x79d)]?.[_0x10e3fc(0x610)]}:{'code':this[_0x10e3fc(0x68a)]['qrcode']?.[_0x10e3fc(0x4e3)],'base64':this[_0x10e3fc(0x68a)][_0x10e3fc(0x79d)]?.['base64']};}async[a0_0x6e1050(0x741)](){const _0x35da2d=a0_0x6e1050;let _0x120181=await this[_0x35da2d(0x3d9)][_0x35da2d(0x26c)][_0x35da2d(0x15f)](this[_0x35da2d(0x71d)]);this[_0x35da2d(0x318)]['url']=_0x120181?.[_0x35da2d(0x53b)],this[_0x35da2d(0x318)][_0x35da2d(0x23a)]=_0x120181?.[_0x35da2d(0x23a)],this[_0x35da2d(0x318)][_0x35da2d(0x1c6)]=_0x120181?.[_0x35da2d(0x1c6)],this[_0x35da2d(0x318)][_0x35da2d(0x4d6)]=_0x120181?.[_0x35da2d(0x4d6)],this[_0x35da2d(0x318)]['QRCODE_UPDATED']=_0x120181?.[_0x35da2d(0x418)],this[_0x35da2d(0x318)][_0x35da2d(0x6ee)]=_0x120181?.[_0x35da2d(0x6ee)],this[_0x35da2d(0x318)][_0x35da2d(0x1c0)]=_0x120181?.[_0x35da2d(0x1c0)],this[_0x35da2d(0x318)][_0x35da2d(0x7dd)]=_0x120181?.[_0x35da2d(0x7dd)],this[_0x35da2d(0x318)][_0x35da2d(0x51f)]=_0x120181?.[_0x35da2d(0x51f)],this[_0x35da2d(0x318)][_0x35da2d(0x590)]=_0x120181?.['GROUPS_UPDATE'],this['localWebhook'][_0x35da2d(0x5e8)]=_0x120181?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x35da2d(0x318)][_0x35da2d(0x5b0)]=_0x120181?.[_0x35da2d(0x5b0)],this['localWebhook'][_0x35da2d(0x1ed)]=_0x120181?.[_0x35da2d(0x1ed)],this[_0x35da2d(0x318)][_0x35da2d(0x35e)]=_0x120181?.[_0x35da2d(0x35e)],this[_0x35da2d(0x318)][_0x35da2d(0x495)]=_0x120181?.[_0x35da2d(0x495)],this[_0x35da2d(0x318)][_0x35da2d(0x1e0)]=_0x120181?.[_0x35da2d(0x1e0)],this[_0x35da2d(0x318)][_0x35da2d(0x5c6)]=_0x120181?.['CONTACTS_UPSERT'],this[_0x35da2d(0x318)][_0x35da2d(0x496)]=_0x120181?.['CONTACTS_UPDATE'],this[_0x35da2d(0x318)][_0x35da2d(0x323)]=_0x120181?.[_0x35da2d(0x323)],this['localWebhook'][_0x35da2d(0x48a)]=_0x120181?.[_0x35da2d(0x48a)],this[_0x35da2d(0x318)][_0x35da2d(0x175)]=_0x120181?.[_0x35da2d(0x175)],this[_0x35da2d(0x318)][_0x35da2d(0x1da)]=_0x120181?.['groups_ignore'];}async['setWebhook'](_0x2996b1){const _0x50d386=a0_0x6e1050;let _0x5f3710=[_0x50d386(0x238),'url','enabled',_0x50d386(0x1c6),'STATUS_INSTANCE',_0x50d386(0x418),_0x50d386(0x7dd),_0x50d386(0x1c0),'SEND_MESSAGE',_0x50d386(0x51f),_0x50d386(0x590),_0x50d386(0x5e8),'CHATS_SET',_0x50d386(0x1ed),'CHATS_UPDATE',_0x50d386(0x495),_0x50d386(0x1e0),'CONTACTS_UPSERT',_0x50d386(0x496),_0x50d386(0x323),_0x50d386(0x48a),'CONNECTION_UPDATE',_0x50d386(0x1da)],_0x56bdb3={};return _0x5f3710[_0x50d386(0x463)](_0x5b6ad3=>{_0x2996b1[_0x5b6ad3]!==void 0x0&&(_0x56bdb3[_0x5b6ad3]=_0x2996b1[_0x5b6ad3]);}),_0x56bdb3[_0x50d386(0x53b)]&&(_0x56bdb3[_0x50d386(0x53b)]=_0x56bdb3[_0x50d386(0x53b)]['trim']()),await this[_0x50d386(0x3d9)]['webhook'][_0x50d386(0x694)](_0x56bdb3,this['instanceName']),Object[_0x50d386(0x147)](this[_0x50d386(0x318)],_0x56bdb3),await this[_0x50d386(0x3d9)][_0x50d386(0x26c)]['find'](this[_0x50d386(0x71d)]);}async[a0_0x6e1050(0x435)](){const _0x1aa32d=a0_0x6e1050;return await this['repository']['webhook'][_0x1aa32d(0x15f)](this[_0x1aa32d(0x71d)]);}async[a0_0x6e1050(0x35c)](_0x36fdab,_0x564b28){const _0x4bcbd1=a0_0x6e1050;let _0x58a2ca=_0x36fdab[_0x4bcbd1(0x70d)](/[\.-]/gm,'_')[_0x4bcbd1(0x409)](),_0x8072d9=this['localWebhook']['enabled']&&(0x0,k[_0x4bcbd1(0x503)])(this['localWebhook'][_0x4bcbd1(0x53b)])?this['localWebhook'][_0x4bcbd1(0x53b)]+(this[_0x4bcbd1(0x318)][_0x4bcbd1(0x1c6)]?this[_0x4bcbd1(0x2b1)][_0x36fdab]:''):null,_0xeaf4ad=this[_0x4bcbd1(0x318)][_0x58a2ca],_0x570bc0=ue&&ue[_0x4bcbd1(0x23a)]&&(0x0,k[_0x4bcbd1(0x503)])(ue[_0x4bcbd1(0x53b)])?ue[_0x4bcbd1(0x53b)]+(ue[_0x4bcbd1(0x1c6)]?this[_0x4bcbd1(0x2b1)][_0x36fdab]:''):null,_0x194fa8=ue?ue[_0x58a2ca]:null;if(_0xeaf4ad&&_0x8072d9)try{await Q[_0x4bcbd1(0x45f)][_0x4bcbd1(0x694)]({'baseURL':_0x8072d9})[_0x4bcbd1(0x146)]('',{'event':_0x36fdab,'instance':this['instance'][_0x4bcbd1(0x4f4)],'apikey':this['instance']['apikey'],'data':_0x564b28}),this[_0x4bcbd1(0xe4)][_0x4bcbd1(0x47c)](this['instanceName']+'\x20('+this[_0x4bcbd1(0x68a)]['wuid']+_0x4bcbd1(0x4b0)+_0x36fdab+':\x20'+_0x8072d9);}catch{this[_0x4bcbd1(0xe4)][_0x4bcbd1(0x7e2)](this[_0x4bcbd1(0x71d)]+'\x20('+this[_0x4bcbd1(0x68a)][_0x4bcbd1(0x4fa)]+_0x4bcbd1(0x477)+_0x36fdab+':\x20'+_0x8072d9);}if(_0x194fa8&&_0x570bc0)try{await Q[_0x4bcbd1(0x45f)][_0x4bcbd1(0x694)]({'baseURL':_0x570bc0})[_0x4bcbd1(0x146)]('',{'event':_0x36fdab,'instance':this[_0x4bcbd1(0x68a)][_0x4bcbd1(0x4f4)],'apikey':this['instance'][_0x4bcbd1(0x305)],'data':_0x564b28}),this['logger'][_0x4bcbd1(0x47c)](this[_0x4bcbd1(0x71d)]+'\x20('+this[_0x4bcbd1(0x68a)]['wuid']+_0x4bcbd1(0x6d4)+_0x36fdab+':\x20'+_0x570bc0);}catch{this['logger'][_0x4bcbd1(0x7e2)](this[_0x4bcbd1(0x71d)]+'\x20('+this[_0x4bcbd1(0x68a)][_0x4bcbd1(0x4fa)]+_0x4bcbd1(0x3cd)+_0x36fdab+':\x20'+_0x570bc0);}}async[a0_0x6e1050(0x42d)]({qr:_0x12829b,connection:_0xc4238e,lastDisconnect:_0x11940e}){const _0xcd3566=a0_0x6e1050;if(_0x12829b){if(this[_0xcd3566(0x68a)][_0xcd3566(0x79d)][_0xcd3566(0x184)]===Nr)return this[_0xcd3566(0x35c)](_0xcd3566(0x126),{'message':_0xcd3566(0x559),'statusCode':f['DisconnectReason'][_0xcd3566(0x40f)]}),this['stateConnection']={'state':_0xcd3566(0x16d),'statusReason':f[_0xcd3566(0x544)]['connectionClosed']},this['sendDataWebhook'](_0xcd3566(0x391),{'instance':this['instance']['name'],...this['stateConnection']}),this[_0xcd3566(0x35c)](_0xcd3566(0x2c2),{'instance':this['instance'][_0xcd3566(0x4f4)],'status':_0xcd3566(0x105)}),this[_0xcd3566(0x3d9)][_0xcd3566(0x28a)][_0xcd3566(0x694)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0xcd3566(0x631)]()},this[_0xcd3566(0x68a)][_0xcd3566(0x4f4)]),this[_0xcd3566(0x7c6)]=!0x0,this[_0xcd3566(0x3e7)]['emit'](_0xcd3566(0x2d7),this['instance']['name']);this[_0xcd3566(0x68a)][_0xcd3566(0x79d)][_0xcd3566(0x184)]++;let _0x4424d3={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0xcd3566(0x4ab),'dark':_0xcd3566(0x297)}};Eo[_0xcd3566(0x45f)][_0xcd3566(0x692)](_0x12829b,_0x4424d3,(_0x3f6e01,_0xba2edd)=>{const _0x3cb5e4=_0xcd3566;if(_0x3f6e01){this[_0x3cb5e4(0xe4)][_0x3cb5e4(0x7e2)](this[_0x3cb5e4(0x71d)]+'\x20('+this[_0x3cb5e4(0x68a)]['wuid']+_0x3cb5e4(0x210)+(_0x3f6e01 instanceof Error?_0x3f6e01[_0x3cb5e4(0x50d)]:JSON[_0x3cb5e4(0x69b)](_0x3f6e01,null,0x2)));return;}this['instance'][_0x3cb5e4(0x79d)][_0x3cb5e4(0x5ab)]=_0xba2edd,this[_0x3cb5e4(0x68a)][_0x3cb5e4(0x79d)][_0x3cb5e4(0x4e3)]=_0x12829b,!this['phoneNumber']&&this[_0x3cb5e4(0x35c)](_0x3cb5e4(0x126),{'qrcode':{'instance':this[_0x3cb5e4(0x68a)][_0x3cb5e4(0x4f4)],'pairingCode':this['instance'][_0x3cb5e4(0x79d)]['pairingCode'],'code':_0x12829b,'base64':_0xba2edd}});}),this[_0xcd3566(0x1ad)]?this['instance'][_0xcd3566(0x79d)][_0xcd3566(0x610)]||(await(0x0,f['delay'])(0x7d0),this[_0xcd3566(0x68a)][_0xcd3566(0x79d)][_0xcd3566(0x610)]=await this['client'][_0xcd3566(0x72b)](this[_0xcd3566(0x1ad)])):this[_0xcd3566(0x68a)][_0xcd3566(0x79d)][_0xcd3566(0x610)]=null,vo[_0xcd3566(0x45f)]['generate'](_0x12829b,{'small':!0x0},_0x202c99=>this[_0xcd3566(0xe4)]['log'](_0xcd3566(0x1c5)+this[_0xcd3566(0x68a)][_0xcd3566(0x4f4)]+_0xcd3566(0x71c)+this[_0xcd3566(0x68a)][_0xcd3566(0x79d)][_0xcd3566(0x184)]+_0xcd3566(0x500)+this['instance']['qrcode'][_0xcd3566(0x610)]+_0xcd3566(0x721)+_0x202c99));}if(_0xc4238e&&(this[_0xcd3566(0x623)]={'state':_0xc4238e,'statusReason':_0x11940e?.[_0xcd3566(0x7e2)]?.[_0xcd3566(0x6ce)]?.[_0xcd3566(0x25c)]??0xc8},this[_0xcd3566(0x35c)]('connection.update',{'instance':this['instance'][_0xcd3566(0x4f4)],...this[_0xcd3566(0x623)]})),_0xc4238e===_0xcd3566(0x403)){if(this[_0xcd3566(0x31e)]++,this[_0xcd3566(0x7e1)]['push'](Date['now']()),this[_0xcd3566(0x7e1)]=this[_0xcd3566(0x7e1)]['filter'](_0x42b740=>Date[_0xcd3566(0x631)]()-_0x42b740<this[_0xcd3566(0x53d)]),_0x11940e['error']?.['output']?.[_0xcd3566(0x25c)]!==f[_0xcd3566(0x544)][_0xcd3566(0x2ef)]&&this['reconnectTimestamps']['length']<=this[_0xcd3566(0x72c)])console[_0xcd3566(0x47c)](this['instanceName']+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0xcd3566(0x31e)]+'/'+this[_0xcd3566(0x72c)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0xcd3566(0x47c)](_0xcd3566(0xff)),await this[_0xcd3566(0x766)]();else{this[_0xcd3566(0x35c)]('status.instance',{'instance':this[_0xcd3566(0x68a)][_0xcd3566(0x4f4)],'status':_0xcd3566(0x105)}),this['instance'][_0xcd3566(0x527)][_0xcd3566(0x26d)]=!0x1,this[_0xcd3566(0x3d9)][_0xcd3566(0x26c)][_0xcd3566(0x5c9)](this[_0xcd3566(0x71d)]),this[_0xcd3566(0x3d9)]['auth'][_0xcd3566(0x694)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0xcd3566(0x631)]()},this[_0xcd3566(0x68a)][_0xcd3566(0x4f4)]);try{this[_0xcd3566(0xe4)][_0xcd3566(0x582)](this[_0xcd3566(0x71d)]+'\x20('+this[_0xcd3566(0x68a)][_0xcd3566(0x4fa)]+_0xcd3566(0x3f5));let _0x2993ad=await this[_0xcd3566(0x3d9)]['message']['deleteAll'](this[_0xcd3566(0x68a)]['wuid']);_0x2993ad['success']?this[_0xcd3566(0xe4)][_0xcd3566(0x582)](this[_0xcd3566(0x71d)]+'\x20('+this[_0xcd3566(0x68a)]['wuid']+_0xcd3566(0x319)):console[_0xcd3566(0x7e2)](_0xcd3566(0x4e9),_0x2993ad[_0xcd3566(0x7e2)]);}catch(_0x1c0cab){console['error'](_0xcd3566(0x188),_0x1c0cab[_0xcd3566(0x50d)]);}this[_0xcd3566(0x68a)][_0xcd3566(0x527)]['delayMessage']!==null&&(this[_0xcd3566(0xe4)][_0xcd3566(0x582)](this[_0xcd3566(0x71d)]+'\x20('+this['instance']['wuid']+_0xcd3566(0x3b5)),clearInterval(this[_0xcd3566(0x68a)][_0xcd3566(0x527)]['delayMessage']),this['instance'][_0xcd3566(0x527)][_0xcd3566(0x6f7)]=null),this['logger'][_0xcd3566(0x582)](this[_0xcd3566(0x71d)]+'\x20('+this[_0xcd3566(0x68a)]['wuid']+'):\x20Limpando\x20AutomateSystem'),this[_0xcd3566(0xf9)]=null,this[_0xcd3566(0x3e7)][_0xcd3566(0x59e)](_0xcd3566(0x563),this[_0xcd3566(0x68a)][_0xcd3566(0x4f4)],_0xcd3566(0x458)),this['client']?.['ws']?.['close'](),this[_0xcd3566(0x6b4)][_0xcd3566(0x493)](new Error(_0xcd3566(0x7be)));}}if(_0xc4238e===_0xcd3566(0x381)){this['client']['ev'][_0xcd3566(0x231)](),this[_0xcd3566(0x244)],this[_0xcd3566(0x68a)][_0xcd3566(0x4fa)]=this[_0xcd3566(0x6b4)][_0xcd3566(0x267)]['id'][_0xcd3566(0x70d)](/:\d+/,'')[_0xcd3566(0x70d)](_0xcd3566(0x317),''),this[_0xcd3566(0x68a)][_0xcd3566(0x5da)]=(await this[_0xcd3566(0x79f)](this[_0xcd3566(0x68a)][_0xcd3566(0x4fa)]+_0xcd3566(0x317)))[_0xcd3566(0x5da)],this[_0xcd3566(0x3d9)]['auth'][_0xcd3566(0x694)]({'online':!0x0,'owner':this['instance'][_0xcd3566(0x4fa)],'lastDisconnect':null},this[_0xcd3566(0x68a)]['name']);let _0x213d14=_0xcd3566(0x55c)+this['instance'][_0xcd3566(0x4fa)],_0x471f91=0x28,_0x127e9b=Math[_0xcd3566(0x6c5)]((_0x471f91-_0x213d14[_0xcd3566(0x401)])/0x2),_0x5ab05c='\x20'['repeat'](_0x127e9b),_0x45d935=_0xcd3566(0x10c),_0xd21939=_0xcd3566(0x245)+this[_0xcd3566(0x68a)][_0xcd3566(0x4f4)],_0x4072a8=(''+_0x5ab05c+_0x213d14+_0x5ab05c)[_0xcd3566(0x483)](_0x471f91,'\x20'),_0x68a85c=(''+_0x5ab05c+_0x45d935+_0x5ab05c)['padEnd'](_0x471f91,'\x20'),_0xefa0a0=(''+_0x5ab05c+_0xd21939+_0x5ab05c)[_0xcd3566(0x483)](_0x471f91,'\x20'),_0x16b1e4=Math['max'](_0x4072a8['length'],_0x68a85c[_0xcd3566(0x401)],_0xefa0a0[_0xcd3566(0x401)]),_0x4e8d75=_0x4072a8[_0xcd3566(0x483)](_0x16b1e4,'\x20'),_0x29b46d=_0x68a85c[_0xcd3566(0x483)](_0x16b1e4,'\x20'),_0xf6f9be=_0xefa0a0[_0xcd3566(0x483)](_0x16b1e4,'\x20');this[_0xcd3566(0xe4)][_0xcd3566(0x4a3)]((_0xcd3566(0x67b)+'─'[_0xcd3566(0x5fd)](_0x16b1e4)+_0xcd3566(0x113)+_0x29b46d+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0xf6f9be+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x4e8d75+_0xcd3566(0x659)+'─'[_0xcd3566(0x5fd)](_0x16b1e4)+'┘')['replace'](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0xcd3566(0x68a)][_0xcd3566(0x527)][_0xcd3566(0x26d)]=!0x0;}}['resetReconnectionVariables'](){const _0x15d3de=a0_0x6e1050;this['reconnectAttempts']=0x0,this[_0x15d3de(0x7e1)]=[];}async['getMessage'](_0x3d0c90,_0x16b98a=!0x1){const _0x113ddc=a0_0x6e1050;try{let _0x5e89ae=await this[_0x113ddc(0x3d9)][_0x113ddc(0x50d)]['find']({'where':{'_id':_0x3d0c90['id']}},this[_0x113ddc(0x68a)][_0x113ddc(0x4fa)]);return _0x16b98a?_0x5e89ae[0x0]:_0x5e89ae[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x6e1050(0x3d7)](){const _0x391b02=a0_0x6e1050;let _0x39d2fa=this[_0x391b02(0x7aa)][_0x391b02(0x58b)](_0x391b02(0x4b4)),_0x3e10d5=this[_0x391b02(0x7aa)]['get']('DATABASE');_0x39d2fa?.[_0x391b02(0x747)]&&!_0x3e10d5[_0x391b02(0x584)]&&setInterval(()=>{const _0x3e7be5=_0x391b02;try{for(let [_0x1b1627,_0x23369b]of Object['entries'](_0x39d2fa))_0x23369b===!0x0&&(0x0,_e['execSync'])(_0x3e7be5(0x750)+(0x0,J[_0x3e7be5(0x283)])(this[_0x3e7be5(0x571)],_0x1b1627['toLowerCase'](),this[_0x3e7be5(0x68a)][_0x3e7be5(0x4fa)])+'/*.json');}catch{}},(_0x39d2fa?.[_0x391b02(0x747)]??0xe10)*0x3e8);}async[a0_0x6e1050(0x194)](){const _0x28f81f=a0_0x6e1050;let _0x3a8c18=this[_0x28f81f(0x7aa)][_0x28f81f(0x58b)]('DATABASE'),_0x5b74a4=this[_0x28f81f(0x7aa)][_0x28f81f(0x58b)](_0x28f81f(0x75f));return _0x5b74a4?.[_0x28f81f(0x584)]?await Rs(_0x5b74a4,this['instance'][_0x28f81f(0x4f4)]):_0x3a8c18['ENABLED']?await Ns(this[_0x28f81f(0x68a)][_0x28f81f(0x4f4)]):await(0x0,f['useMultiFileAuthState'])((0x0,J['join'])(fe,this[_0x28f81f(0x68a)]['name']));}async['AutomateFunctions'](){const _0x4664cb=a0_0x6e1050;let _0x5202f6=()=>Math[_0x4664cb(0x6c5)](Math['random']()*0x2711)+0x7d0,_0x21d999=async()=>{const _0x222a5e=_0x4664cb;if(!this[_0x222a5e(0x68a)]['ScheduleMessage']['isConnected']){this[_0x222a5e(0xe4)][_0x222a5e(0x582)](_0x222a5e(0x131)),this['isRunning']=!0x1;return;}if(this[_0x222a5e(0x68a)]['wuid']&&this[_0x222a5e(0xf9)]&&this[_0x222a5e(0x68a)][_0x222a5e(0x527)]['delayMessage']!==null&&this['instance']['ScheduleMessage'][_0x222a5e(0x6f7)]!==void 0x0){let _0x39c7bf=Math[_0x222a5e(0x602)](this['instance'][_0x222a5e(0x527)]['delayMessage']/0xea60);this[_0x222a5e(0xe4)][_0x222a5e(0x582)](this['instanceName']+'\x20('+this['instance'][_0x222a5e(0x4fa)]+_0x222a5e(0x1a1)+_0x39c7bf+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x222a5e(0x2b0)]=!0x1;return;}else this[_0x222a5e(0x68a)][_0x222a5e(0x4fa)]&&(this['logger'][_0x222a5e(0x582)](this['instanceName']+'\x20('+this[_0x222a5e(0x68a)]['wuid']+_0x222a5e(0x7ab)),this[_0x222a5e(0xf9)]||(await this[_0x222a5e(0x2f4)](),this[_0x222a5e(0x667)]()),(this[_0x222a5e(0x68a)][_0x222a5e(0x527)][_0x222a5e(0x6f7)]===null||this[_0x222a5e(0x68a)]['ScheduleMessage']['delayMessage']===void 0x0)&&await this['scheduleNextCheck']());if(this['isRunning']){let _0x29a9ae=_0x5202f6();this[_0x222a5e(0xe4)]['verbose'](this[_0x222a5e(0x71d)]+_0x222a5e(0x25d)+_0x29a9ae/0x3e8+_0x222a5e(0x530)),setTimeout(_0x21d999,_0x29a9ae);}};if(this[_0x4664cb(0x2b0)])return;this['isRunning']=!0x0;let _0x331e56=_0x5202f6();setTimeout(_0x21d999,_0x331e56);}async['loadproxy'](_0x7ba5ee=0x0,_0x478535=!0x1){const _0x592d1e=a0_0x6e1050;try{let _0x6252d=this[_0x592d1e(0x7aa)]['get'](_0x592d1e(0x4a5));if(_0x6252d!==0x1||typeof _0x6252d>'u'||_0x7ba5ee>=0x5)return this[_0x592d1e(0xe4)][_0x592d1e(0x488)](_0x592d1e(0x21d)),this[_0x592d1e(0x3d9)][_0x592d1e(0x28a)][_0x592d1e(0x694)]({'ip':null},this[_0x592d1e(0x68a)]['name']),{};this[_0x592d1e(0xe4)]['verbose'](this[_0x592d1e(0x71d)]+_0x592d1e(0x478)+(_0x7ba5ee+0x1)+_0x592d1e(0x751));let _0x4c52e7;if(!_0x478535){let _0x5c0d1c=await this[_0x592d1e(0x3d9)][_0x592d1e(0x28a)][_0x592d1e(0x15f)](this['instanceName']);_0x5c0d1c&&_0x5c0d1c['ip']&&(_0x4c52e7=yo(_0x5c0d1c['ip']));}if((!_0x4c52e7||!$s(_0x4c52e7))&&(this[_0x592d1e(0xe4)][_0x592d1e(0x488)](this['instanceName']+_0x592d1e(0x3a9)),_0x4c52e7=bo()),_0x4c52e7&&$s(_0x4c52e7)){let _0x492553=_0x4c52e7['username']&&_0x4c52e7['password']?_0x4c52e7[_0x592d1e(0x558)]+_0x592d1e(0x472)+_0x4c52e7['username']+':'+_0x4c52e7[_0x592d1e(0x11c)]+'@'+_0x4c52e7[_0x592d1e(0x7ae)]+':'+_0x4c52e7[_0x592d1e(0x5c8)]:_0x4c52e7[_0x592d1e(0x558)]+_0x592d1e(0x472)+_0x4c52e7[_0x592d1e(0x7ae)]+':'+_0x4c52e7['port'];return await this['testProxy'](_0x492553,_0x4c52e7['host'])?(this[_0x592d1e(0xe4)][_0x592d1e(0x582)](this[_0x592d1e(0x71d)]+':\x20IP\x20funcionando!'),this['repository']['auth'][_0x592d1e(0x694)]({'ip':_0x4c52e7[_0x592d1e(0x7ae)]},this[_0x592d1e(0x68a)]['name']),{'agent':new Ft[(_0x592d1e(0x5d7))](_0x492553),'fetchAgent':new Ft[(_0x592d1e(0x5d7))](_0x492553)}):(this['logger'][_0x592d1e(0x488)](this[_0x592d1e(0x71d)]+_0x592d1e(0x5c1)),await(0x0,f['delay'])(0xc8),this['loadproxy'](_0x7ba5ee+0x1,!0x0));}else return this[_0x592d1e(0xe4)][_0x592d1e(0x488)](this[_0x592d1e(0x71d)]+_0x592d1e(0x4f7)),await(0x0,f[_0x592d1e(0x4f1)])(0xc8),this[_0x592d1e(0x598)](_0x7ba5ee+0x1,!0x0);}catch(_0x45df3a){return this[_0x592d1e(0xe4)]['error'](this[_0x592d1e(0x71d)]+_0x592d1e(0x462)+_0x45df3a[_0x592d1e(0x50d)]),{};}}async[a0_0x6e1050(0x421)](_0x3b0f22,_0x401e6b){const _0x545630=a0_0x6e1050;let _0x1792c2=new Ft['HttpsProxyAgent'](_0x3b0f22),_0x537a53=0x1388,_0x34490a=[{'url':_0x545630(0x55d),'parse':_0x4650c2=>_0x4650c2['ip']},{'url':'https://api.ipify.org?format=json','parse':_0x54384e=>_0x54384e['ip']},{'url':'http://checkip.dyndns.org','parse':_0x389746=>_0x389746['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x545630(0x7af),'parse':_0x17103d=>_0x17103d['ip']},{'url':'http://ifconfig.me/ip','parse':_0x42fb31=>_0x42fb31[_0x545630(0x46e)]()},{'url':_0x545630(0x5d4),'parse':_0x18def9=>_0x18def9['trim']()},{'url':_0x545630(0x6d7),'parse':_0x3bca94=>_0x3bca94[_0x545630(0x4ba)]},{'url':'http://myexternalip.com/raw','parse':_0x406d0e=>_0x406d0e[_0x545630(0x46e)]()},{'url':_0x545630(0x4d2),'parse':_0xa8cd95=>_0xa8cd95[_0x545630(0x46e)]()}],_0x3b6933=_0x34490a[Math[_0x545630(0x6c5)](Math[_0x545630(0x1cd)]()*_0x34490a[_0x545630(0x401)])];try{let _0x2061cb=await Q[_0x545630(0x45f)][_0x545630(0x58b)](_0x3b6933[_0x545630(0x53b)],{'httpsAgent':_0x1792c2,'timeout':_0x537a53}),_0x272524=_0x3b6933['parse'](_0x2061cb[_0x545630(0x183)]);return _0x272524===_0x401e6b?(this[_0x545630(0xe4)]['verbose'](this[_0x545630(0x71d)]+':\x20IP\x20configurado:\x20'+_0x401e6b+_0x545630(0x4fb)+_0x272524+_0x545630(0x7bd)),!0x0):(this[_0x545630(0xe4)]['error'](this[_0x545630(0x71d)]+':\x20IP\x20configurado:\x20'+_0x401e6b+'\x20-\x20retornado:\x20'+_0x272524+_0x545630(0x4cb)),!0x1);}catch(_0x295b4e){return this[_0x545630(0xe4)][_0x545630(0x7e2)](this['instanceName']+_0x545630(0x4d3)+_0x3b6933[_0x545630(0x53b)]+':\x20'+_0x295b4e['message']),!0x1;}}async[a0_0x6e1050(0x766)](_0xe7260c){const _0x47d2a5=a0_0x6e1050;try{let _0x18a5fa=await this[_0x47d2a5(0x598)]();this[_0x47d2a5(0x741)](),this[_0x47d2a5(0x68a)]['apikey']=(await this['repository']['auth'][_0x47d2a5(0x15f)](this['instance'][_0x47d2a5(0x4f4)]))[_0x47d2a5(0x305)],this[_0x47d2a5(0x68a)][_0x47d2a5(0x548)]=await this[_0x47d2a5(0x194)]();let {version:_0x3fb03c}=await(0x0,f[_0x47d2a5(0x67f)])(),_0x63224b=[No,xs,(0x0,Os[_0x47d2a5(0x515)])()],_0x377223={..._0x18a5fa,'auth':{'creds':this[_0x47d2a5(0x68a)]['authState'][_0x47d2a5(0x5b1)]['creds'],'keys':(0x0,f[_0x47d2a5(0x485)])(this['instance'][_0x47d2a5(0x548)][_0x47d2a5(0x5b1)][_0x47d2a5(0x1be)],(0x0,kt[_0x47d2a5(0x45f)])({'level':_0x47d2a5(0x7e2)}))},'logger':(0x0,kt[_0x47d2a5(0x45f)])({'level':_0x47d2a5(0x7e2)}),'printQRInTerminal':!0x1,'browser':_0xe7260c?['Mac\x20OS',xs,(0x0,Os[_0x47d2a5(0x515)])()]:_0x63224b,'version':_0x3fb03c,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x26c582=>{const _0x5149d0=_0x47d2a5;let _0x16b12b=_0x26c582[_0x5149d0(0x24f)](_0x5149d0(0x482)),_0x1a248b=this[_0x5149d0(0x318)]?.[_0x5149d0(0x1da)]&&_0x26c582[_0x5149d0(0x24f)](_0x5149d0(0x254));return _0x16b12b||(0x0,f[_0x5149d0(0x380)])(_0x26c582)||_0x1a248b;},'msgRetryCounterCache':this[_0x47d2a5(0x512)],'getMessage':async _0x30ed4f=>await this[_0x47d2a5(0x103)](_0x30ed4f),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x2fbca3=>(_0x2fbca3['listMessage']?.['listType']==f[_0x47d2a5(0x6cf)][_0x47d2a5(0x680)]['ListMessage'][_0x47d2a5(0x1c8)][_0x47d2a5(0x32a)]&&(_0x2fbca3=JSON[_0x47d2a5(0x37b)](JSON['stringify'](_0x2fbca3)),_0x2fbca3[_0x47d2a5(0x2dc)]['listType']=f[_0x47d2a5(0x6cf)][_0x47d2a5(0x680)][_0x47d2a5(0x30f)]['ListType']['SINGLE_SELECT']),_0x2fbca3)};return this[_0x47d2a5(0x7c6)]=!0x1,this['client']=(0x0,f[_0x47d2a5(0x45f)])(_0x377223),this['eventHandler'](),this[_0x47d2a5(0x1ad)]=_0xe7260c,this[_0x47d2a5(0x6b4)];}catch(_0x19f7a2){let _0x587887=_0x47d2a5(0x246),_0x270b7b=_0x19f7a2 instanceof Error?_0x19f7a2[_0x47d2a5(0x50d)]:typeof _0x19f7a2==_0x47d2a5(0x4c5)?JSON[_0x47d2a5(0x69b)](_0x19f7a2):_0x19f7a2,_0x1d73bf=_0x587887+':\x20'+_0x270b7b;throw this[_0x47d2a5(0xe4)]['error'](this[_0x47d2a5(0x71d)]+'\x20('+this[_0x47d2a5(0x68a)][_0x47d2a5(0x4fa)]+_0x47d2a5(0x4a2)+_0x1d73bf),new x(_0x1d73bf);}}[a0_0x6e1050(0x689)](){const _0x580b9a=a0_0x6e1050;this[_0x580b9a(0x6b4)]['ev'][_0x580b9a(0x141)](_0x747700=>{const _0x3ba188=_0x580b9a;if(!this['endSession']){let _0x7eaad2=this[_0x3ba188(0x7aa)][_0x3ba188(0x58b)]('DATABASE');if(_0x747700['labels.edit']){let _0x18dc91=_0x747700['labels.edit'];this[_0x3ba188(0x288)]['labels.edit'](_0x18dc91);}if(_0x747700[_0x3ba188(0x7d5)]){let _0x3207a9=_0x747700[_0x3ba188(0x7d5)];this[_0x3ba188(0x288)][_0x3ba188(0x7d5)](_0x3207a9);}if(_0x747700[_0x3ba188(0x391)]&&this[_0x3ba188(0x42d)](_0x747700['connection.update']),_0x747700['creds.update']&&this[_0x3ba188(0x68a)]['authState'][_0x3ba188(0x56b)](),_0x747700[_0x3ba188(0x564)]){let _0x622254=_0x747700[_0x3ba188(0x564)];this[_0x3ba188(0x288)][_0x3ba188(0x564)](_0x622254,_0x7eaad2);}if(_0x747700[_0x3ba188(0x127)]){let _0x48990a=_0x747700[_0x3ba188(0x127)];this['messageHandle'][_0x3ba188(0x127)](_0x48990a,_0x7eaad2);}if(_0x747700[_0x3ba188(0x7a5)]){let _0x1c14f9=_0x747700[_0x3ba188(0x7a5)];_0x1c14f9['forEach'](_0x497138=>{const _0x2359eb=_0x3ba188;if(Mo[_0x497138[_0x2359eb(0x759)]['id']]){this['client']['ev'][_0x2359eb(0x59e)](_0x2359eb(0x127),{'messages':[_0x497138],'type':_0x2359eb(0x62e)}),delete Mo[_0x497138[_0x2359eb(0x759)]['id']];return;}}),this['messageHandle'][_0x3ba188(0x7a5)](_0x1c14f9,_0x7eaad2);}if(_0x747700['presence.update']){let _0x424023=_0x747700['presence.update'];if(this[_0x3ba188(0x318)]?.[_0x3ba188(0x1da)]&&_0x424023['id']['includes'](_0x3ba188(0x254)))return;this[_0x3ba188(0x35c)](_0x3ba188(0x6ed),_0x424023);}if(_0x747700['groups.upsert']){let _0x545360=_0x747700[_0x3ba188(0x664)];this[_0x3ba188(0x679)][_0x3ba188(0x664)](_0x545360);}if(_0x747700[_0x3ba188(0x388)]){let _0x248bcb=_0x747700[_0x3ba188(0x388)];this[_0x3ba188(0x679)][_0x3ba188(0x388)](_0x248bcb);}if(_0x747700[_0x3ba188(0x6eb)]){let _0x57b8f6=_0x747700['group-participants.update'];this[_0x3ba188(0x679)][_0x3ba188(0x6eb)](_0x57b8f6);}if(_0x747700[_0x3ba188(0x6ab)]){let _0x4ec126=_0x747700['chats.upsert'];this['chatHandle']['chats.upsert'](_0x4ec126,_0x7eaad2);}if(_0x747700['chats.update']){let _0xfbaead=_0x747700[_0x3ba188(0x118)];this[_0x3ba188(0x19d)][_0x3ba188(0x118)](_0xfbaead,_0x7eaad2);}if(_0x747700[_0x3ba188(0x526)]){let _0x56c290=_0x747700['chats.delete'];this[_0x3ba188(0x19d)]['chats.delete'](_0x56c290);}if(_0x747700['contacts.upsert']){let _0x478ef2=_0x747700[_0x3ba188(0x442)];this[_0x3ba188(0x4c6)][_0x3ba188(0x442)](_0x478ef2,_0x7eaad2);}if(_0x747700[_0x3ba188(0x16b)]){let _0x3078d2=_0x747700[_0x3ba188(0x16b)];this['contactHandle'][_0x3ba188(0x16b)](_0x3078d2,_0x7eaad2);}}});}[a0_0x6e1050(0x46a)](_0x14d310){return new Promise(_0x23b4d0=>setTimeout(_0x23b4d0,_0x14d310));}[a0_0x6e1050(0x225)](_0x2be94d){const _0x5bcfff=a0_0x6e1050;_0x2be94d=_0x2be94d['replace'](/\D/g,'');let _0x10463f=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5bcfff(0x241)](_0x2be94d);if(_0x10463f&&_0x10463f[0x1]==='55'){let _0x598121=_0x10463f[0x2],_0x553de0=_0x10463f[0x3],_0x349cf7=_0x10463f[0x4];if(parseInt(_0x598121)>=0x1f&&_0x553de0==='9')return _0x10463f[0x1]+_0x598121+_0x349cf7;}return _0x2be94d;}[a0_0x6e1050(0x1d4)](_0x58888e){const _0x53d226=a0_0x6e1050;return _0x58888e[_0x53d226(0x269)](_0x53d226(0x254))||_0x58888e[_0x53d226(0x269)]('@s.whatsapp.net')||_0x58888e['includes'](_0x53d226(0x46b))?_0x58888e:(_0x58888e=_0x58888e?.[_0x53d226(0x70d)](/\s/g,'')['replace'](/\+/g,'')[_0x53d226(0x70d)](/\(/g,'')[_0x53d226(0x70d)](/\)/g,'')[_0x53d226(0x4c3)](/\:/)[0x0][_0x53d226(0x4c3)]('@')[0x0],_0x58888e[_0x53d226(0x401)]>=0x12?(_0x58888e=_0x58888e[_0x53d226(0x70d)](/[^\d-]/g,''),_0x58888e+_0x53d226(0x254)):(_0x58888e=_0x58888e[_0x53d226(0x70d)](/\D/g,''),_0x58888e+_0x53d226(0x317)));}async[a0_0x6e1050(0x560)](_0x2594b7){const _0x5f2832=a0_0x6e1050;let _0x429bdf=(await this['whatsappNumber']({'numbers':[_0x2594b7[_0x5f2832(0x78b)]]}))[0x0];if(!_0x429bdf[_0x5f2832(0x1b6)]&&!(0x0,f[_0x5f2832(0x3be)])(_0x429bdf[_0x5f2832(0x379)])&&!_0x429bdf[_0x5f2832(0x379)][_0x5f2832(0x269)](_0x5f2832(0x46b)))throw new m(_0x429bdf);let _0x231a33=_0x429bdf[_0x5f2832(0x379)];try{return await this[_0x5f2832(0x6b4)]['presenceSubscribe'](_0x231a33),await this[_0x5f2832(0x6b4)][_0x5f2832(0x6cb)](_0x2594b7['presence'],_0x231a33),{'status':0xc8,'presence':_0x2594b7[_0x5f2832(0x251)]};}catch(_0x136404){let _0x401e1b='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x3186fe=_0x136404 instanceof Error?_0x136404[_0x5f2832(0x50d)]:typeof _0x136404==_0x5f2832(0x4c5)?JSON[_0x5f2832(0x69b)](_0x136404):_0x136404,_0x548978=_0x401e1b+':\x20'+_0x3186fe;throw this[_0x5f2832(0xe4)][_0x5f2832(0x7e2)](this[_0x5f2832(0x71d)]+'\x20('+this[_0x5f2832(0x68a)][_0x5f2832(0x4fa)]+'):\x20'+_0x548978),new m(_0x548978);}}async[a0_0x6e1050(0xf4)](_0x3b9faa,_0x4a33cc,_0x350c9e,_0x1bc031=!0x0){const _0x50f8b9=a0_0x6e1050;let _0x3181a5=await this[_0x50f8b9(0x3d9)][_0x50f8b9(0x3c0)][_0x50f8b9(0x7a7)]({'where':{'_id':_0x3b9faa}});if(!_0x3181a5&&!_0x1bc031)return;let _0x1ff931={'lastUpdate':Date[_0x50f8b9(0x631)]()};if(_0x350c9e||!_0x3181a5?.[_0x50f8b9(0x2df)]||Date[_0x50f8b9(0x631)]()-_0x3181a5[_0x50f8b9(0x2df)]>0x18*0x3c*0x3c*0x3e8)try{let _0x46005e=(await this['profilePicture'](_0x3b9faa))[_0x50f8b9(0x5da)];_0x1ff931[_0x50f8b9(0x78e)]=_0x46005e;}catch(_0x4ee018){let _0x58bca6='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x25cd20=_0x4ee018 instanceof Error?_0x4ee018[_0x50f8b9(0x50d)]:typeof _0x4ee018=='object'?JSON[_0x50f8b9(0x69b)](_0x4ee018):_0x4ee018,_0x100175=_0x58bca6+':\x20'+_0x25cd20;throw this[_0x50f8b9(0xe4)][_0x50f8b9(0x7e2)](this[_0x50f8b9(0x71d)]+'\x20('+this[_0x50f8b9(0x68a)][_0x50f8b9(0x4fa)]+'):\x20'+_0x100175),new m(_0x100175);}return _0x4a33cc&&_0x3181a5?.[_0x50f8b9(0x4f4)]!==_0x4a33cc&&(_0x1ff931[_0x50f8b9(0x4f4)]=_0x4a33cc),Object[_0x50f8b9(0x1be)](_0x1ff931)[_0x50f8b9(0x401)]>0x1&&(_0x3181a5?await this[_0x50f8b9(0x3d9)][_0x50f8b9(0x3c0)][_0x50f8b9(0x27b)]({'where':{'_id':_0x3b9faa}},_0x1ff931):await this[_0x50f8b9(0x3d9)]['cacheContact']['insert']([{'_id':_0x3b9faa,..._0x1ff931}]),_0x3181a5={..._0x3181a5,..._0x1ff931}),{'cachedContact':_0x3181a5};}async['profilePicture'](_0x13fb6e){const _0x3fa3e8=a0_0x6e1050;let _0x2092a2=this[_0x3fa3e8(0x1d4)](_0x13fb6e);try{return{'wuid':_0x2092a2,'profilePictureUrl':await this[_0x3fa3e8(0x6b4)][_0x3fa3e8(0x5da)](_0x2092a2,_0x3fa3e8(0x505))};}catch{return{'wuid':_0x2092a2,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x2a49e9,_0x4baaa3,_0x25c1d0){const _0x36e7ed=a0_0x6e1050;let _0x4303a4=0x0,_0x4bc708=0x3;for(;_0x4303a4<_0x4bc708;)try{_0x25c1d0||(_0x25c1d0={});let _0x972d2f=(await this['whatsappNumber']({'numbers':[_0x2a49e9]}))[0x0];if(!_0x972d2f[_0x36e7ed(0x1b6)]&&!(0x0,f[_0x36e7ed(0x3be)])(_0x972d2f[_0x36e7ed(0x379)])&&!_0x972d2f['jid']['includes'](_0x36e7ed(0x46b)))throw console[_0x36e7ed(0x7e2)](_0x972d2f),new m(_0x972d2f);let _0x23f5e7=_0x972d2f[_0x36e7ed(0x379)];if(_0x25c1d0?.[_0x36e7ed(0x4f1)]){await this[_0x36e7ed(0x6b4)][_0x36e7ed(0x6db)](_0x23f5e7),await this[_0x36e7ed(0x6b4)][_0x36e7ed(0x6cb)](_0x25c1d0?.[_0x36e7ed(0x251)]??'composing',_0x23f5e7);let _0x5d2384=Math[_0x36e7ed(0x43c)](_0x25c1d0[_0x36e7ed(0x4f1)],0x2710);await(0x0,f[_0x36e7ed(0x4f1)])(_0x5d2384),await this[_0x36e7ed(0x6b4)][_0x36e7ed(0x6cb)]('paused',_0x23f5e7);}let _0x18971b=_0x25c1d0?.[_0x36e7ed(0x2ec)]!=!0x1?void 0x0:!0x1,_0x5c68b5;if(_0x25c1d0?.[_0x36e7ed(0x71b)]){let _0xe6cb17=_0x25c1d0?.[_0x36e7ed(0x71b)],_0x2ebc61=_0xe6cb17?.[_0x36e7ed(0x50d)]?_0xe6cb17:await this[_0x36e7ed(0x103)](_0xe6cb17[_0x36e7ed(0x759)],!0x0);if(!_0x2ebc61)throw _0x36e7ed(0x206);_0x5c68b5=_0x2ebc61;}let _0x1335f4;if((0x0,f[_0x36e7ed(0x3be)])(_0x23f5e7))try{let _0x2ad062=(await this['repository'][_0x36e7ed(0x134)][_0x36e7ed(0x7a7)]({'where':{'_id':_0x23f5e7}},this['instance']['wuid']))?.[_0x36e7ed(0x3fa)];if(!_0x2ad062)throw new q(_0x36e7ed(0x2c8));_0x25c1d0?.[_0x36e7ed(0x60b)]&&(_0x25c1d0[_0x36e7ed(0x60b)]?.[_0x36e7ed(0x7c8)]?_0x1335f4=_0x2ad062[_0x36e7ed(0x3f2)]['map'](_0x404804=>_0x404804['id']):_0x25c1d0[_0x36e7ed(0x60b)]?.[_0x36e7ed(0x5cd)]?.[_0x36e7ed(0x401)]&&(_0x1335f4=_0x25c1d0[_0x36e7ed(0x60b)]['mentioned']['map'](_0x3a64cc=>{const _0x4136b8=_0x36e7ed;let _0x61bc25=this['createJid'](_0x3a64cc);return(0x0,f[_0x4136b8(0x3be)])(_0x61bc25)?null:_0x61bc25;})));}catch{throw new q(_0x36e7ed(0x2c8));}let _0x5db746=await this['repository'][_0x36e7ed(0x134)]['findOne']({'where':{'_id':_0x23f5e7}},this[_0x36e7ed(0x68a)]['wuid']),_0x2fc477=await((async()=>{const _0x4fd07a=_0x36e7ed;let _0x1626c6={'quoted':_0x5c68b5,'ephemeralExpiration':_0x5db746?.[_0x4fd07a(0xe5)]??0x0};if(!_0x4baaa3[_0x4fd07a(0x7d3)]&&!_0x4baaa3[_0x4fd07a(0x3d1)]&&!_0x4baaa3['sticker']&&!_0x4baaa3[_0x4fd07a(0x5a0)]&&_0x23f5e7!==_0x4fd07a(0x378)&&!_0x4baaa3[_0x4fd07a(0x7d3)])return await this['client']['sendMessage'](_0x23f5e7,{'forward':{'key':{'remoteJid':this[_0x4fd07a(0x68a)][_0x4fd07a(0x4fa)],'fromMe':!0x0},'message':_0x4baaa3},'mentions':_0x1335f4},_0x1626c6);if(_0x4baaa3[_0x4fd07a(0x4a1)])return await this[_0x4fd07a(0x6b4)][_0x4fd07a(0x6c1)](_0x23f5e7,{'react':{'text':_0x4baaa3[_0x4fd07a(0x4a1)]['text'],'key':_0x4baaa3[_0x4fd07a(0x4a1)][_0x4fd07a(0x759)]}},_0x1626c6);if(_0x4baaa3['conversation']){let _0x3ba8ab=_0x4baaa3['conversation'];return _0x25c1d0?.[_0x4fd07a(0x71a)]&&(_0x3ba8ab=await this[_0x4fd07a(0x3a2)](_0x3ba8ab,_0x23f5e7)),await this[_0x4fd07a(0x6b4)][_0x4fd07a(0x6c1)](_0x23f5e7,{'text':_0x3ba8ab,'mentions':_0x1335f4,'linkPreview':_0x18971b},_0x1626c6);}return _0x23f5e7===_0x4fd07a(0x378)?await this[_0x4fd07a(0x6b4)][_0x4fd07a(0x6c1)](_0x23f5e7,_0x4baaa3[_0x4fd07a(0x349)][_0x4fd07a(0x2e3)],{'backgroundColor':_0x4baaa3[_0x4fd07a(0x349)][_0x4fd07a(0x3b8)][_0x4fd07a(0x68f)],'font':_0x4baaa3[_0x4fd07a(0x349)][_0x4fd07a(0x3b8)][_0x4fd07a(0x2de)],'statusJidList':_0x4baaa3['status'][_0x4fd07a(0x3b8)]['statusJidList']}):await this[_0x4fd07a(0x6b4)][_0x4fd07a(0x6c1)](_0x23f5e7,_0x4baaa3,_0x1626c6);})()),_0x4435f0=(0x0,f[_0x36e7ed(0x525)])(_0x2fc477['message']),_0xa9fd3c=(0x0,f[_0x36e7ed(0x6b8)])(_0x4435f0),{message_normalized:_0x4f6e8c}=this[_0x36e7ed(0x399)](_0x4435f0,_0xa9fd3c,null),_0x5c5f5f={'_id':_0x2fc477[_0x36e7ed(0x759)]['id'],'key':_0x2fc477[_0x36e7ed(0x759)],'pushName':_0x2fc477[_0x36e7ed(0x5af)],'isGroup':_0x2fc477[_0x36e7ed(0x759)][_0x36e7ed(0x21b)][_0x36e7ed(0x24f)](_0x36e7ed(0x254)),'profilePictureUrl':this['instance'][_0x36e7ed(0x5da)],'message':_0x4435f0,'messageType':_0xa9fd3c,'message_normalized':{'key':_0x2fc477['key'],'pushName':_0x2fc477[_0x36e7ed(0x5af)],'messageTimestamp':_0x2fc477[_0x36e7ed(0x166)]&&_0x2fc477[_0x36e7ed(0x166)]['toString']()[_0x36e7ed(0x401)]<0xd?_0x2fc477[_0x36e7ed(0x166)]*0x3e8:_0x2fc477[_0x36e7ed(0x166)]||null,'source':(0x0,f[_0x36e7ed(0x15d)])(_0x2fc477['key']['id']),..._0x4f6e8c},'messageTimestamp':_0x2fc477[_0x36e7ed(0x166)]&&_0x2fc477[_0x36e7ed(0x166)]['toString']()[_0x36e7ed(0x401)]<0xd?_0x2fc477[_0x36e7ed(0x166)]*0x3e8:_0x2fc477['messageTimestamp']||null,'owner':this['instance'][_0x36e7ed(0x4fa)],'source':(0x0,f['getDevice'])(_0x2fc477['key']['id'])};return this[_0x36e7ed(0xe4)]['warn'](this[_0x36e7ed(0x71d)]+'\x20('+this[_0x36e7ed(0x68a)][_0x36e7ed(0x4fa)]+_0x36e7ed(0x327)+_0x5c5f5f[_0x36e7ed(0x759)]?.[_0x36e7ed(0x21b)][_0x36e7ed(0x70d)](_0x36e7ed(0x317),'')+']\x20('+_0x5c5f5f[_0x36e7ed(0x1f0)]+')'),_0x5c5f5f[_0x36e7ed(0x48f)]?.[_0x36e7ed(0x654)]&&this['logger'][_0x36e7ed(0x488)](_0x5c5f5f[_0x36e7ed(0x48f)]?.[_0x36e7ed(0x654)]),this['sendDataWebhook']('send.message',_0x5c5f5f),U(this[_0x36e7ed(0x71d)],'messages',{'message':_0x5c5f5f}),await this[_0x36e7ed(0x5b4)](this[_0x36e7ed(0x7aa)][_0x36e7ed(0x58b)](_0x36e7ed(0x161)),_0x5c5f5f,'SEND_MESSAGE',_0x5db746),await this[_0x36e7ed(0x3d9)][_0x36e7ed(0x50d)]['insert']([_0x5c5f5f],this['instance'][_0x36e7ed(0x4fa)]),_0x2fc477;}catch(_0x387e99){if(this[_0x36e7ed(0xe4)][_0x36e7ed(0x7e2)]('Erro\x20ao\x20enviar\x20mensagem:\x20Tentativa\x20'+(_0x4303a4+0x1)+_0x36e7ed(0x203)),_0x4303a4++,_0x4303a4>=_0x4bc708){this[_0x36e7ed(0xe4)]['error'](_0x36e7ed(0x38c)+_0x2a49e9+'\x20');let _0x3b0de2=_0x36e7ed(0x2ce),_0x3391e5=_0x387e99 instanceof Error?_0x387e99['message']:typeof _0x387e99==_0x36e7ed(0x4c5)?JSON[_0x36e7ed(0x69b)](_0x387e99):_0x387e99,_0x4936d3=_0x3b0de2+':\x20'+_0x3391e5;throw this[_0x36e7ed(0xe4)][_0x36e7ed(0x7e2)](this[_0x36e7ed(0x71d)]+'\x20('+this[_0x36e7ed(0x68a)][_0x36e7ed(0x4fa)]+_0x36e7ed(0x4a2)+_0x4936d3),new m(_0x4936d3);}await new Promise(_0x14c537=>setTimeout(_0x14c537,0x3e8*0x2*_0x4303a4));}}get[a0_0x6e1050(0x277)](){const _0x141a0c=a0_0x6e1050;return this[_0x141a0c(0x623)];}async['textMessage'](_0x49569e){const _0xc9825f=a0_0x6e1050;let _0x4228df=So,_0x348797=st;return _0x348797&&this[_0xc9825f(0x71d)][_0xc9825f(0x1a4)]()[_0xc9825f(0x269)](_0x348797[_0xc9825f(0x1a4)]())&&(_0x49569e[_0xc9825f(0x3c6)][_0xc9825f(0x654)]+='\x0a\x0a'+_0x4228df),await this[_0xc9825f(0x234)](_0x49569e['number'],{'conversation':_0x49569e[_0xc9825f(0x3c6)]['text']},_0x49569e?.['options']);}async[a0_0x6e1050(0x612)](_0x32dd14){const _0x592fd9=a0_0x6e1050;if(!_0x32dd14[_0x592fd9(0x413)])throw new m(_0x592fd9(0x25e));if(!_0x32dd14[_0x592fd9(0x2e3)])throw new m(_0x592fd9(0x717));if(_0x32dd14[_0x592fd9(0x3a4)]){let _0x212e12=await this['repository'][_0x592fd9(0x6d1)][_0x592fd9(0x15f)]({'where':{}},this[_0x592fd9(0x68a)][_0x592fd9(0x4fa)]);if(!_0x212e12[_0x592fd9(0x401)])throw new m('Contacts\x20not\x20found');_0x32dd14[_0x592fd9(0x65c)]=_0x212e12[_0x592fd9(0x3e3)](_0x533e9a=>_0x533e9a['pushName'])[_0x592fd9(0x4bf)](_0x4d6f88=>_0x4d6f88[_0x592fd9(0x238)]);}if(!_0x32dd14[_0x592fd9(0x65c)]?.[_0x592fd9(0x401)]&&!_0x32dd14[_0x592fd9(0x3a4)])throw new m(_0x592fd9(0x358));if(_0x32dd14[_0x592fd9(0x413)]===_0x592fd9(0x654)){if(!_0x32dd14[_0x592fd9(0x68f)])throw new m('Background\x20color\x20is\x20required');if(!_0x32dd14['font'])throw new m(_0x592fd9(0x3c7));return{'content':{'text':_0x32dd14['content']},'option':{'backgroundColor':_0x32dd14[_0x592fd9(0x68f)],'font':_0x32dd14[_0x592fd9(0x2de)],'statusJidList':_0x32dd14['statusJidList']}};}if(_0x32dd14['type']===_0x592fd9(0x505))return{'content':{'image':{'url':_0x32dd14[_0x592fd9(0x2e3)]},'caption':_0x32dd14[_0x592fd9(0x31d)]},'option':{'statusJidList':_0x32dd14['statusJidList']}};if(_0x32dd14[_0x592fd9(0x413)]===_0x592fd9(0x33c))return{'content':{'video':{'url':_0x32dd14[_0x592fd9(0x2e3)]},'caption':_0x32dd14[_0x592fd9(0x31d)]},'option':{'statusJidList':_0x32dd14[_0x592fd9(0x65c)]}};if(_0x32dd14[_0x592fd9(0x413)]===_0x592fd9(0x7d3)){this['logger'][_0x592fd9(0x582)](_0x592fd9(0x299)),this[_0x592fd9(0xe4)][_0x592fd9(0x582)](_0x592fd9(0x6bc));let _0x22c3cb=await this[_0x592fd9(0xeb)](_0x32dd14['content']);if(typeof _0x22c3cb==_0x592fd9(0x304)){this[_0x592fd9(0xe4)][_0x592fd9(0x582)](_0x592fd9(0x110));let _0x12601f=j[_0x592fd9(0x2e1)](_0x22c3cb)[_0x592fd9(0x16c)](_0x592fd9(0x5ab));return{'content':{'audio':Buffer['from'](_0x12601f,_0x592fd9(0x5ab)),'ptt':!0x0,'mimetype':_0x592fd9(0x68d)},'option':{'statusJidList':_0x32dd14[_0x592fd9(0x65c)]}};}else throw new x(_0x22c3cb);}throw new m('Type\x20not\x20found');}async[a0_0x6e1050(0x361)](_0x41f6be){const _0x19a278=a0_0x6e1050;return await this[_0x19a278(0x234)](_0x19a278(0x378),{'status':await this['formatStatusMessage'](_0x41f6be[_0x19a278(0x361)])});}async[a0_0x6e1050(0x5cb)](_0x3daae7){const _0x27ed80=a0_0x6e1050;try{let _0x46af66=await(0x0,f[_0x27ed80(0x4db)])({[_0x3daae7[_0x27ed80(0x374)]]:(0x0,k[_0x27ed80(0x503)])(_0x3daae7[_0x27ed80(0x7cb)])?{'url':_0x3daae7[_0x27ed80(0x7cb)]}:Buffer[_0x27ed80(0x179)](_0x3daae7['media'],_0x27ed80(0x5ab))},{'upload':this[_0x27ed80(0x6b4)][_0x27ed80(0x1cc)]}),_0x555570=_0x3daae7[_0x27ed80(0x374)]+_0x27ed80(0x680);if(_0x3daae7[_0x27ed80(0x374)]==='document'&&!_0x3daae7[_0x27ed80(0x4fe)]){let _0x110158=new RegExp(/.*\/(.+?)\./)['exec'](_0x3daae7[_0x27ed80(0x7cb)]);_0x3daae7[_0x27ed80(0x4fe)]=_0x110158?_0x110158[0x1]:null;}let _0x3d8d6a=(0x0,k[_0x27ed80(0x503)])(_0x3daae7[_0x27ed80(0x7cb)])?_0x3daae7[_0x27ed80(0x7cb)][_0x27ed80(0x4c3)]('?')[0x0]:_0x3daae7[_0x27ed80(0x7cb)],_0x4ecd20;(0x0,k[_0x27ed80(0x503)])(_0x3daae7[_0x27ed80(0x7cb)])?_0x4ecd20=(0x0,jt[_0x27ed80(0x4c1)])(_0x3d8d6a):_0x3daae7['fileName']&&_0x3daae7[_0x27ed80(0x4fe)][_0x27ed80(0x269)]('.')?_0x4ecd20=(0x0,jt[_0x27ed80(0x4c1)])(_0x3daae7[_0x27ed80(0x4fe)]):_0x4ecd20=(0x0,jt[_0x27ed80(0x4c1)])(_0x3daae7['media']);let _0x548dc7=So,_0x130865=st;return _0x130865&&this[_0x27ed80(0x71d)][_0x27ed80(0x1a4)]()['includes'](_0x130865['toLowerCase']())&&(_0x3daae7[_0x27ed80(0x31d)]+='\x0a\x0a'+_0x548dc7),_0x46af66[_0x555570]['caption']=_0x3daae7?.[_0x27ed80(0x31d)],_0x46af66[_0x555570]['mimetype']=_0x4ecd20,_0x46af66[_0x555570][_0x27ed80(0x4fe)]=_0x3daae7[_0x27ed80(0x4fe)],_0x3daae7[_0x27ed80(0x374)]===_0x27ed80(0x33c)&&(_0x46af66[_0x555570][_0x27ed80(0x11b)]=Uint8Array[_0x27ed80(0x179)]((0x0,De[_0x27ed80(0x2e1)])((0x0,J[_0x27ed80(0x283)])(process['cwd'](),_0x27ed80(0x424)))),_0x46af66[_0x555570]['gifPlayback']=!0x1),(0x0,f['generateWAMessageFromContent'])('',{[_0x555570]:{..._0x46af66[_0x555570]}},{'userJid':this[_0x27ed80(0x68a)]['wuid']});}catch(_0x2c6a7e){let _0x1a37c8=_0x27ed80(0x17f),_0x1b6148=_0x2c6a7e instanceof Error?_0x2c6a7e[_0x27ed80(0x50d)]:typeof _0x2c6a7e==_0x27ed80(0x4c5)?JSON[_0x27ed80(0x69b)](_0x2c6a7e):_0x2c6a7e,_0x2492a1=_0x1a37c8+':\x20'+_0x1b6148;throw this['logger'][_0x27ed80(0x7e2)](this[_0x27ed80(0x71d)]+'\x20('+this[_0x27ed80(0x68a)]['wuid']+_0x27ed80(0x4a2)+_0x2492a1),new x(_0x2492a1);}}async[a0_0x6e1050(0x4ad)](_0x1aabeb){const _0x4d14d7=a0_0x6e1050;let _0x13f1fe=await this['prepareMediaMessage'](_0x1aabeb[_0x4d14d7(0x4ad)]);return await this[_0x4d14d7(0x234)](_0x1aabeb[_0x4d14d7(0x78b)],{..._0x13f1fe[_0x4d14d7(0x50d)]},_0x1aabeb?.[_0x4d14d7(0x6c7)]);}async[a0_0x6e1050(0x2fa)](_0x304a42,_0x324c2f){const _0x566bc9=a0_0x6e1050;try{this[_0x566bc9(0xe4)]['verbose'](_0x566bc9(0x367));let _0x436410,_0x31a308=_0x324c2f+'-'+new Date()[_0x566bc9(0x226)]();this['logger']['verbose'](_0x566bc9(0x69c)+_0x31a308);let _0xfa92b8=''+(0x0,J[_0x566bc9(0x283)])(this[_0x566bc9(0x571)],_0x31a308+_0x566bc9(0x749));if(this[_0x566bc9(0xe4)][_0x566bc9(0x582)](_0x566bc9(0x64c)+_0xfa92b8),(0x0,k['isBase64'])(_0x304a42)){this[_0x566bc9(0xe4)][_0x566bc9(0x582)]('Image\x20is\x20base64');let _0x141a28=_0x304a42[_0x566bc9(0x70d)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x14e8d2=Buffer[_0x566bc9(0x179)](_0x141a28,_0x566bc9(0x5ab));_0x436410=''+(0x0,J[_0x566bc9(0x283)])(this['storePath'],_0x566bc9(0x3b3)+_0x31a308+'.png'),this[_0x566bc9(0xe4)][_0x566bc9(0x582)]('Image\x20path:\x20'+_0x436410),await(0x0,Lt[_0x566bc9(0x45f)])(_0x14e8d2)['toFile'](_0x436410),this[_0x566bc9(0xe4)][_0x566bc9(0x582)](_0x566bc9(0x162));}else{this['logger'][_0x566bc9(0x582)](_0x566bc9(0x407));let _0x1b07cb=new Date()['getTime'](),_0x4d00ed=_0x304a42+_0x566bc9(0x382)+_0x1b07cb;this[_0x566bc9(0xe4)][_0x566bc9(0x582)](_0x566bc9(0x1e5)+_0x4d00ed);let _0xad1db1=await Q[_0x566bc9(0x45f)][_0x566bc9(0x58b)](_0x4d00ed,{'responseType':_0x566bc9(0x5f2)});this[_0x566bc9(0xe4)][_0x566bc9(0x582)](_0x566bc9(0x5ae));let _0x54ab75=Buffer[_0x566bc9(0x179)](_0xad1db1[_0x566bc9(0x183)],_0x566bc9(0x7bc));_0x436410=''+(0x0,J[_0x566bc9(0x283)])(this[_0x566bc9(0x571)],_0x566bc9(0x3b3)+_0x31a308+_0x566bc9(0x518)),this['logger'][_0x566bc9(0x582)](_0x566bc9(0x1f1)+_0x436410),await(0x0,Lt[_0x566bc9(0x45f)])(_0x54ab75)[_0x566bc9(0x456)](_0x436410),this['logger']['verbose'](_0x566bc9(0x162));}return await(0x0,Lt['default'])(_0x436410)[_0x566bc9(0x7ea)]()['toFile'](_0xfa92b8),this[_0x566bc9(0xe4)][_0x566bc9(0x582)](_0x566bc9(0x433)),j['unlinkSync'](_0x436410),this[_0x566bc9(0xe4)][_0x566bc9(0x582)]('Temp\x20image\x20deleted'),_0xfa92b8;}catch(_0xd35e47){let _0x255846=_0x566bc9(0x400),_0x54943b=_0xd35e47 instanceof Error?_0xd35e47['message']:typeof _0xd35e47==_0x566bc9(0x4c5)?JSON['stringify'](_0xd35e47):_0xd35e47,_0x579300=_0x255846+':\x20'+_0x54943b;this['logger'][_0x566bc9(0x7e2)](this[_0x566bc9(0x71d)]+'\x20('+this[_0x566bc9(0x68a)][_0x566bc9(0x4fa)]+'):\x20'+_0x579300);}}async[a0_0x6e1050(0xdb)](_0x23d29f){const _0x4b3c0c=a0_0x6e1050;let _0x227abd=await this[_0x4b3c0c(0x2fa)](_0x23d29f['stickerMessage'][_0x4b3c0c(0x505)],_0x23d29f[_0x4b3c0c(0x78b)]),_0x46ddaf=await this['sendMessageWithTyping'](_0x23d29f[_0x4b3c0c(0x78b)],{'sticker':{'url':_0x227abd}},_0x23d29f?.[_0x4b3c0c(0x6c7)]);return j[_0x4b3c0c(0x53e)](_0x227abd),this[_0x4b3c0c(0xe4)][_0x4b3c0c(0x582)](_0x4b3c0c(0x7e3)),_0x46ddaf;}async[a0_0x6e1050(0x3e9)](_0x31ac5e){const _0x4cc737=a0_0x6e1050;if(this[_0x4cc737(0xe4)][_0x4cc737(0x582)](_0x4cc737(0x5ca)),!_0x31ac5e[_0x4cc737(0x6c7)]?.[_0x4cc737(0x454)]&&_0x31ac5e[_0x4cc737(0x6c7)]?.[_0x4cc737(0x454)]!==!0x1&&(_0x31ac5e[_0x4cc737(0x6c7)][_0x4cc737(0x454)]=!0x0),_0x31ac5e[_0x4cc737(0x6c7)]?.[_0x4cc737(0x454)]){let _0x5ab376=await this[_0x4cc737(0xeb)](_0x31ac5e[_0x4cc737(0x3ca)][_0x4cc737(0x7d3)]);if(typeof _0x5ab376=='string'){let _0x9167c1=j[_0x4cc737(0x2e1)](_0x5ab376)['toString'](_0x4cc737(0x5ab));return this[_0x4cc737(0x234)](_0x31ac5e['number'],{'audio':Buffer[_0x4cc737(0x179)](_0x9167c1,_0x4cc737(0x5ab)),'ptt':!0x0,'mimetype':_0x4cc737(0x798)},{'presence':'recording','delay':_0x31ac5e?.['options']?.[_0x4cc737(0x4f1)]});}else throw new x(_0x5ab376);}return await this[_0x4cc737(0x234)](_0x31ac5e[_0x4cc737(0x78b)],{'audio':(0x0,k['isURL'])(_0x31ac5e['audioMessage'][_0x4cc737(0x7d3)])?{'url':_0x31ac5e[_0x4cc737(0x3ca)][_0x4cc737(0x7d3)]}:Buffer[_0x4cc737(0x179)](_0x31ac5e[_0x4cc737(0x3ca)][_0x4cc737(0x7d3)],_0x4cc737(0x5ab)),'ptt':!0x0,'mimetype':_0x4cc737(0x798)},{'presence':_0x4cc737(0x235),'delay':_0x31ac5e?.['options']?.['delay']});}async[a0_0x6e1050(0xeb)](_0xfe5a7b){const _0x15c930=a0_0x6e1050;this[_0x15c930(0xe4)][_0x15c930(0x582)]('Processing\x20audio');let _0x4ee575=(0x0,k['isURL'])(_0xfe5a7b)?(0x0,Jt[_0x15c930(0x20b)])('sha256')[_0x15c930(0x27b)](_0xfe5a7b)[_0x15c930(0x1b3)]('hex'):(0x0,Jt['createHash'])(_0x15c930(0x271))[_0x15c930(0x27b)](_0xfe5a7b)[_0x15c930(0x1b3)](_0x15c930(0x64d)),_0x2e2533=''+(0x0,J[_0x15c930(0x283)])(this[_0x15c930(0x571)],_0x4ee575+_0x15c930(0x7cd));if(j['existsSync'](_0x2e2533))return this['logger'][_0x15c930(0x582)](_0x15c930(0x38a)),_0x2e2533;let _0x394e3b=''+(0x0,J[_0x15c930(0x283)])(this['storePath'],_0x15c930(0x3b3)+(0x0,Ce['v4'])()+'.mp3');if((0x0,k[_0x15c930(0x503)])(_0xfe5a7b)){let _0x36c74e=new Date()[_0x15c930(0x226)](),_0x2d4d5f=_0xfe5a7b+'?timestamp='+_0x36c74e,_0x3c8ac1=await Q[_0x15c930(0x45f)][_0x15c930(0x58b)](_0x2d4d5f,{'responseType':_0x15c930(0x5f2)});j[_0x15c930(0x7b9)](_0x394e3b,_0x3c8ac1[_0x15c930(0x183)]);}else{let _0x392f74=Buffer[_0x15c930(0x179)](_0xfe5a7b,_0x15c930(0x5ab));j[_0x15c930(0x7b9)](_0x394e3b,_0x392f74);}return new Promise((_0x4242da,_0x38ab35)=>{const _0x48a585=_0x15c930;(0x0,_e['exec'])(As[_0x48a585(0x45f)][_0x48a585(0x112)]+_0x48a585(0x2b9)+_0x394e3b+_0x48a585(0x431)+_0x2e2533+_0x48a585(0x2e2),_0x4a28e5=>{const _0x1fe596=_0x48a585;if(j[_0x1fe596(0x53e)](_0x394e3b),_0x4a28e5){this['logger'][_0x1fe596(0x582)](_0x1fe596(0x22c)),_0x38ab35(_0x4a28e5);return;}this[_0x1fe596(0xe4)][_0x1fe596(0x582)](_0x1fe596(0x4ff)),_0x4242da(_0x2e2533);});});}async[a0_0x6e1050(0x5e5)](_0x15ff0a){const _0x12040f=a0_0x6e1050;this[_0x12040f(0xe4)][_0x12040f(0x582)](_0x12040f(0x6bc));let _0x43afbe=(0x0,Jt['createHash'])(_0x12040f(0x271))[_0x12040f(0x27b)](_0x15ff0a)[_0x12040f(0x1b3)]('hex'),_0x376831=''+(0x0,J[_0x12040f(0x283)])(this['storePath'],_0x43afbe+'.mp3');if(j[_0x12040f(0x736)](_0x376831))return this[_0x12040f(0xe4)]['verbose'](_0x12040f(0x38a)),J['default']['basename'](_0x376831);let _0xc8d89e=''+(0x0,J[_0x12040f(0x283)])(this[_0x12040f(0x571)],_0x12040f(0x3b3)+_0x43afbe+'.ogg');if((0x0,k['isURL'])(_0x15ff0a)){let _0x33bcde=new Date()[_0x12040f(0x226)](),_0x174f4d=_0x15ff0a+'?timestamp='+_0x33bcde,_0x363dde=await Q[_0x12040f(0x45f)][_0x12040f(0x58b)](_0x174f4d,{'responseType':_0x12040f(0x5f2)});j['writeFileSync'](_0xc8d89e,_0x363dde[_0x12040f(0x183)]);}else{let _0x46fd7a=Buffer['from'](_0x15ff0a,'base64');j[_0x12040f(0x7b9)](_0xc8d89e,_0x46fd7a);}return new Promise((_0x5a7c2d,_0x46fc70)=>{const _0x46efa1=_0x12040f;(0x0,_e['exec'])(As[_0x46efa1(0x45f)]['path']+_0x46efa1(0x2b9)+_0xc8d89e+_0x46efa1(0x26a)+_0x376831+_0x46efa1(0x2e2),_0x6f6fa3=>{const _0x276202=_0x46efa1;if(j[_0x276202(0x53e)](_0xc8d89e),_0x6f6fa3){this[_0x276202(0xe4)][_0x276202(0x582)](_0x276202(0x22c)),_0x46fc70(_0x6f6fa3);return;}this[_0x276202(0xe4)][_0x276202(0x582)](_0x276202(0x4ff)),_0x5a7c2d(J[_0x276202(0x45f)]['basename'](_0x376831));});});}async[a0_0x6e1050(0x556)](_0x5288bc){const _0x4df5bb=a0_0x6e1050;let _0x1946ad={},_0x215bc3=_0x4df5bb(0x119);if(_0x5288bc[_0x4df5bb(0x556)]?.[_0x4df5bb(0x4ad)]){_0x215bc3=_0x5288bc[_0x4df5bb(0x556)][_0x4df5bb(0x4ad)]?.[_0x4df5bb(0x374)][_0x4df5bb(0x409)]()??'TEXT',_0x1946ad[_0x4df5bb(0x1a9)]=_0x215bc3[_0x4df5bb(0x1a4)]()+_0x4df5bb(0x680);let _0x1d079c=await this['prepareMediaMessage'](_0x5288bc[_0x4df5bb(0x556)][_0x4df5bb(0x4ad)]);_0x1946ad['message']=_0x1d079c['message'][_0x1946ad[_0x4df5bb(0x1a9)]],_0x1946ad[_0x4df5bb(0x7cc)]='*'+_0x5288bc[_0x4df5bb(0x556)]['title']+_0x4df5bb(0x224)+_0x5288bc[_0x4df5bb(0x556)]['description'];}let _0x7ec877={'text':_0x5288bc[_0x4df5bb(0x556)][_0x4df5bb(0x2b5)][_0x4df5bb(0x4bf)](_0x385be2=>_0x385be2[_0x4df5bb(0x3f7)]),'ids':_0x5288bc[_0x4df5bb(0x556)][_0x4df5bb(0x2b5)][_0x4df5bb(0x4bf)](_0x55e324=>_0x55e324['buttonId'])};if(!(0x0,k['arrayUnique'])(_0x7ec877[_0x4df5bb(0x654)])||!(0x0,k[_0x4df5bb(0x420)])(_0x7ec877[_0x4df5bb(0x6a7)]))throw new m(_0x4df5bb(0x775),_0x4df5bb(0x5f4));return await this[_0x4df5bb(0x234)](_0x5288bc[_0x4df5bb(0x78b)],{'buttonsMessage':{'text':_0x1946ad?.[_0x4df5bb(0x1a9)]?void 0x0:_0x5288bc['buttonMessage']['title'],'contentText':_0x1946ad?.['contentText']??_0x5288bc[_0x4df5bb(0x556)][_0x4df5bb(0x580)],'footerText':_0x5288bc[_0x4df5bb(0x556)]?.[_0x4df5bb(0x555)],'buttons':_0x5288bc['buttonMessage'][_0x4df5bb(0x2b5)]['map'](_0x43136e=>({'buttonText':{'displayText':_0x43136e[_0x4df5bb(0x3f7)]},'buttonId':_0x43136e[_0x4df5bb(0x522)],'type':0x1})),'headerType':f[_0x4df5bb(0x6cf)]['Message']['ButtonsMessage'][_0x4df5bb(0x369)][_0x215bc3],[_0x1946ad?.['mediaKey']]:_0x1946ad?.[_0x4df5bb(0x50d)]}},_0x5288bc?.[_0x4df5bb(0x6c7)]);}async[a0_0x6e1050(0x52b)](_0x438a27){const _0x51b165=a0_0x6e1050;return await this[_0x51b165(0x234)](_0x438a27[_0x51b165(0x78b)],{'locationMessage':{'degreesLatitude':_0x438a27[_0x51b165(0x52b)][_0x51b165(0x3cc)],'degreesLongitude':_0x438a27[_0x51b165(0x52b)][_0x51b165(0x684)],'name':_0x438a27['locationMessage']?.[_0x51b165(0x4f4)],'address':_0x438a27['locationMessage']?.['address']}},_0x438a27?.[_0x51b165(0x6c7)]);}async[a0_0x6e1050(0x69f)](_0x4c8b14){const _0x53fa39=a0_0x6e1050;let _0x1479b3={},_0x40c6dc=async _0x4ae40f=>{const _0x396980=a0_0x5953;let _0x4feac0='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x4ae40f['fullName']+'\x0aFN:'+_0x4ae40f[_0x396980(0x6e1)]+'\x0a';_0x4ae40f[_0x396980(0x70e)]&&(_0x4feac0+=_0x396980(0x6f6)+_0x4ae40f[_0x396980(0x70e)]+';\x0a'),_0x4ae40f['email']&&(_0x4feac0+=_0x396980(0x7e8)+_0x4ae40f[_0x396980(0x390)]+'\x0a'),_0x4ae40f[_0x396980(0x53b)]&&(_0x4feac0+='URL:'+_0x4ae40f['url']+'\x0a');let _0x3a120b='',_0x17d005=0x1;if(_0x4ae40f[_0x396980(0x1ad)]){let _0x345275=_0x4ae40f[_0x396980(0x1ad)][_0x396980(0x4c3)]('|');for(let _0xae85f3 of _0x345275){let _0x4b72e8=await this[_0x396980(0x316)]({'numbers':[_0xae85f3]}),_0x34cd5b=(_0x4b72e8['length']>0x0?_0x4b72e8[0x0]['jid']:this[_0x396980(0x1d4)](_0xae85f3))[_0x396980(0x70d)](_0x396980(0x317),'');_0x3a120b+=_0x396980(0x430)+_0x17d005+_0x396980(0x33b)+_0x34cd5b+':'+_0xae85f3+_0x396980(0x2a7)+_0x17d005+'.X-ABLabel:Celular\x0a',_0x17d005++;}}return _0x4feac0+=_0x3a120b+'END:VCARD',_0x4feac0;};return _0x4c8b14[_0x53fa39(0x69f)][_0x53fa39(0x401)]===0x1?_0x1479b3[_0x53fa39(0x69f)]={'displayName':_0x4c8b14[_0x53fa39(0x69f)][0x0][_0x53fa39(0x6e1)],'vcard':await _0x40c6dc(_0x4c8b14[_0x53fa39(0x69f)][0x0])}:_0x1479b3[_0x53fa39(0x14e)]={'displayName':_0x4c8b14[_0x53fa39(0x69f)]['length']+_0x53fa39(0x165),'contacts':await Promise[_0x53fa39(0x218)](_0x4c8b14[_0x53fa39(0x69f)][_0x53fa39(0x4bf)](async _0x3d23d4=>({'displayName':_0x3d23d4[_0x53fa39(0x6e1)],'vcard':await _0x40c6dc(_0x3d23d4)})))},await this[_0x53fa39(0x234)](_0x4c8b14[_0x53fa39(0x78b)],{..._0x1479b3},_0x4c8b14?.[_0x53fa39(0x6c7)]);}async['reactionMessage'](_0x118924){const _0x4b9bc0=a0_0x6e1050;return await this[_0x4b9bc0(0x234)](_0x118924[_0x4b9bc0(0x4a1)][_0x4b9bc0(0x759)][_0x4b9bc0(0x21b)],{'reactionMessage':{'key':_0x118924[_0x4b9bc0(0x4a1)][_0x4b9bc0(0x759)],'text':_0x118924[_0x4b9bc0(0x4a1)][_0x4b9bc0(0x611)]}});}async['whatsappNumber'](_0x2da8df){const _0x47862a=a0_0x6e1050;let _0x276363=[];for await(let _0x44b7cf of _0x2da8df['numbers']){let _0x22cc48=this[_0x47862a(0x1d4)](_0x44b7cf),_0x348e31=!0x1;try{if((0x0,f[_0x47862a(0x3be)])(_0x22cc48)){let _0xc651eb=(await this[_0x47862a(0x3d9)][_0x47862a(0x134)][_0x47862a(0x7a7)]({'where':{'_id':_0x22cc48}},this['instance']['wuid']))[_0x47862a(0x3fa)];_0x348e31=!!_0xc651eb?.['id']&&!!_0xc651eb?.[_0x47862a(0x52e)],_0x276363[_0x47862a(0x122)](new be(_0xc651eb['id'],_0x348e31,_0xc651eb?.['subject']));}else{let _0x1b3991=(await this[_0x47862a(0x6b4)][_0x47862a(0x6b3)](_0x22cc48))[0x0];_0x348e31=_0x1b3991[_0x47862a(0x1b6)],_0x276363[_0x47862a(0x122)](new be(_0x1b3991[_0x47862a(0x379)],_0x348e31));}}catch{(0x0,f['isJidGroup'])(_0x22cc48)||await this[_0x47862a(0x565)](_0x22cc48,_0x348e31),_0x276363[_0x47862a(0x122)](new be(_0x44b7cf,!0x1));}}return _0x276363;}async[a0_0x6e1050(0x565)](_0x34a720,_0x1ed6de){const _0x2ed09a=a0_0x6e1050;try{await this[_0x2ed09a(0x3d9)]['chat'][_0x2ed09a(0x7a7)]({'where':{'_id':_0x34a720,'imported':!0x0}},this[_0x2ed09a(0x68a)][_0x2ed09a(0x4fa)])&&(_0x1ed6de||(await this[_0x2ed09a(0x3d9)][_0x2ed09a(0x134)]['deleteChat'](_0x34a720,this[_0x2ed09a(0x68a)][_0x2ed09a(0x4fa)]),this['logger'][_0x2ed09a(0x4a3)](_0x2ed09a(0x28d)+_0x34a720+_0x2ed09a(0x1d3))));}catch(_0x4e3c1b){let _0x50d82a=_0x2ed09a(0x2ed),_0x248e26=_0x4e3c1b instanceof Error?_0x4e3c1b[_0x2ed09a(0x50d)]:typeof _0x4e3c1b=='object'?JSON[_0x2ed09a(0x69b)](_0x4e3c1b):_0x4e3c1b,_0x48eb12=_0x50d82a+':\x20'+_0x248e26;this[_0x2ed09a(0xe4)][_0x2ed09a(0x7e2)](this['instanceName']+'\x20('+this[_0x2ed09a(0x68a)][_0x2ed09a(0x4fa)]+_0x2ed09a(0x4a2)+_0x48eb12);}}async[a0_0x6e1050(0x72a)](_0x4a888e){const _0x12b2fb=a0_0x6e1050;try{let _0x4a2a30=_0x4a888e[_0x12b2fb(0x6d8)][_0x12b2fb(0x3e3)](_0x94b088=>(0x0,f['isJidGroup'])(_0x94b088[_0x12b2fb(0x21b)])||(0x0,f[_0x12b2fb(0x3a3)])(_0x94b088[_0x12b2fb(0x21b)]))[_0x12b2fb(0x4bf)](_0x59f9aa=>({'remoteJid':_0x59f9aa['remoteJid'],'fromMe':_0x59f9aa[_0x12b2fb(0x636)],'id':_0x59f9aa['id']}));await this[_0x12b2fb(0x6b4)][_0x12b2fb(0x6d8)](_0x4a2a30);let _0x347ce9=_0x4a2a30['map'](_0x1777e5=>this['updateMessage'](_0x1777e5,{'status':_0x12b2fb(0x536),'owner':this[_0x12b2fb(0x68a)][_0x12b2fb(0x4fa)]})),_0x4d2caf=_0x4a2a30[_0x12b2fb(0x4bf)](_0x3493a4=>this[_0x12b2fb(0x3d9)][_0x12b2fb(0x134)][_0x12b2fb(0x662)]({'where':{'_id':_0x3493a4[_0x12b2fb(0x21b)]}},{'unreadcount':0x0},this[_0x12b2fb(0x68a)]['wuid'])),[_0x505708,_0x5ed915]=await Promise[_0x12b2fb(0x218)]([Promise[_0x12b2fb(0x218)](_0x347ce9),Promise[_0x12b2fb(0x218)](_0x4d2caf)]);return _0x5ed915[_0x12b2fb(0x3e3)](_0x5a25d2=>_0x5a25d2!==null)['forEach'](_0x1ad2f5=>{const _0x3a5c36=_0x12b2fb;U(this[_0x3a5c36(0x71d)],'chats',{'chat':_0x1ad2f5});}),{'message':'Read\x20messages','read':'success'};}catch(_0x37d051){let _0x469d7a=_0x12b2fb(0x236),_0x7517e8=_0x37d051 instanceof Error?_0x37d051[_0x12b2fb(0x50d)]:typeof _0x37d051=='object'?JSON[_0x12b2fb(0x69b)](_0x37d051):_0x37d051,_0xbfb18=_0x469d7a+':\x20'+_0x7517e8;throw this[_0x12b2fb(0xe4)][_0x12b2fb(0x7e2)](this[_0x12b2fb(0x71d)]+'\x20('+this[_0x12b2fb(0x68a)]['wuid']+_0x12b2fb(0x4a2)+_0xbfb18),new x(_0xbfb18);}}async[a0_0x6e1050(0x4de)](_0x469b3d){const _0x3f63bf=a0_0x6e1050;let _0x32e3b4={'where':{'key':{'remoteJid':_0x469b3d}},'limit':0x1},_0x4509e6=await this[_0x3f63bf(0x44f)](_0x32e3b4);return _0x4509e6||(console[_0x3f63bf(0x7e2)]('Last\x20message\x20not\x20found\x20for\x20number:',_0x469b3d),null);}async[a0_0x6e1050(0x438)](_0x4dd690){const _0x4b8f4b=a0_0x6e1050;this[_0x4b8f4b(0xe4)][_0x4b8f4b(0x582)]('Archiving\x20chat');try{let _0x4965dc=_0x4dd690[_0x4b8f4b(0x549)],_0x2eee69=_0x4dd690[_0x4b8f4b(0x134)];if(!_0x4965dc&&_0x2eee69?_0x4965dc=await this[_0x4b8f4b(0x4de)](_0x2eee69):(_0x4965dc=_0x4dd690[_0x4b8f4b(0x549)],_0x4965dc[_0x4b8f4b(0x166)]=_0x4965dc?.[_0x4b8f4b(0x166)]??Date[_0x4b8f4b(0x631)](),_0x2eee69=_0x4965dc?.[_0x4b8f4b(0x759)]?.[_0x4b8f4b(0x21b)]),!_0x4965dc||Object[_0x4b8f4b(0x1be)](_0x4965dc)[_0x4b8f4b(0x401)]===0x0)throw new q('Last\x20message\x20not\x20found');this[_0x4b8f4b(0xe4)][_0x4b8f4b(0x582)](_0x4b8f4b(0x5fa)+_0x2eee69);try{await this[_0x4b8f4b(0x6b4)][_0x4b8f4b(0x142)]({'archive':_0x4dd690['archive'],'lastMessages':[_0x4965dc]},this[_0x4b8f4b(0x1d4)](_0x2eee69));}catch(_0x536b4f){let _0x2c8acd=_0x4b8f4b(0x5d1)+_0x2eee69,_0x55ccdf=_0x536b4f instanceof Error?_0x536b4f[_0x4b8f4b(0x50d)]:typeof _0x536b4f==_0x4b8f4b(0x4c5)?JSON[_0x4b8f4b(0x69b)](_0x536b4f):_0x536b4f,_0x54166b=_0x2c8acd+':\x20'+_0x55ccdf;this[_0x4b8f4b(0xe4)][_0x4b8f4b(0x7e2)](this[_0x4b8f4b(0x71d)]+'\x20('+this[_0x4b8f4b(0x68a)][_0x4b8f4b(0x4fa)]+'):\x20'+_0x54166b);}this[_0x4b8f4b(0xe4)][_0x4b8f4b(0x582)](_0x4b8f4b(0x259)+_0x2eee69);let _0x16139b=await this['repository'][_0x4b8f4b(0x134)]['updateOne']({'where':{'_id':_0x4965dc?.[_0x4b8f4b(0x759)]?.[_0x4b8f4b(0x21b)]}},{'archived':_0x4dd690[_0x4b8f4b(0x645)]},this[_0x4b8f4b(0x68a)][_0x4b8f4b(0x4fa)]);return _0x16139b?(this[_0x4b8f4b(0xe4)][_0x4b8f4b(0x582)](_0x4b8f4b(0x1b8)+JSON[_0x4b8f4b(0x69b)](_0x16139b)),U(this['instanceName'],'chats',{'chat':_0x16139b})):this['logger'][_0x4b8f4b(0x7e2)](_0x4b8f4b(0x54b)+_0x2eee69),{'chatId':_0x2eee69,'archived':_0x4dd690[_0x4b8f4b(0x645)]};}catch(_0x3cb011){let _0x5c4b82=_0x4b8f4b(0x4ef),_0x3acb31=_0x3cb011 instanceof Error?_0x3cb011[_0x4b8f4b(0x50d)]:typeof _0x3cb011==_0x4b8f4b(0x4c5)?JSON['stringify'](_0x3cb011):_0x3cb011,_0x5d15b7=_0x5c4b82+':\x20'+_0x3acb31;throw this[_0x4b8f4b(0xe4)][_0x4b8f4b(0x7e2)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4b8f4b(0x4a2)+_0x5d15b7),new x(_0x5d15b7);}}async[a0_0x6e1050(0x3b4)](_0x3d3ae1){const _0x1f1e20=a0_0x6e1050;this['logger'][_0x1f1e20(0x582)]('Delete\x20chat');try{let _0x408e50=await this[_0x1f1e20(0x4de)](_0x3d3ae1);if(!_0x408e50||Object['keys'](_0x408e50)[_0x1f1e20(0x401)]===0x0)throw new q(_0x1f1e20(0x58c));let _0x8c9a41=_0x408e50[0x0];this['logger'][_0x1f1e20(0x582)](_0x1f1e20(0x6d6)+_0x3d3ae1);try{await this[_0x1f1e20(0x6b4)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x8c9a41[_0x1f1e20(0x759)],'messageTimestamp':_0x8c9a41[_0x1f1e20(0x166)]}]},this['createJid'](_0x3d3ae1));}catch(_0x41b524){this['logger'][_0x1f1e20(0x7e2)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x3d3ae1+':\x20'+_0x41b524[_0x1f1e20(0x16c)]());}this['logger'][_0x1f1e20(0x582)](_0x1f1e20(0x259)+_0x3d3ae1);return;}catch(_0x50c94a){throw this['logger'][_0x1f1e20(0x7e2)](_0x1f1e20(0x65f)+_0x50c94a['toString']()),new x({'archived':!0x1,'message':[_0x1f1e20(0x1e3),_0x50c94a['toString']()]});}}async[a0_0x6e1050(0x51a)](_0x1fb685){const _0x410ca5=a0_0x6e1050;try{let _0x2e65d9=await this[_0x410ca5(0x6b4)][_0x410ca5(0x6c1)](_0x1fb685[_0x410ca5(0x21b)],{'delete':_0x1fb685});try{let _0x594d18=await this[_0x410ca5(0x3b7)](_0x1fb685,{'status':'DELETED','owner':this[_0x410ca5(0x68a)][_0x410ca5(0x4fa)]});this[_0x410ca5(0xe4)]['verbose'](this[_0x410ca5(0x71d)]+'\x20('+this[_0x410ca5(0x68a)]['wuid']+_0x410ca5(0x4f2)+_0x594d18);}catch(_0x4ebd40){console[_0x410ca5(0x7e2)]('Error\x20updating\x20message\x20status:',_0x4ebd40);}return _0x2e65d9;}catch(_0x4ef50d){throw new x(_0x410ca5(0x1ba),_0x4ef50d?.[_0x410ca5(0x16c)]());}}async[a0_0x6e1050(0x745)](_0x1e41ec){const _0x4144e4=a0_0x6e1050;try{let _0xd9dbff=_0x1e41ec?.['message']?_0x1e41ec:await this[_0x4144e4(0x103)](_0x1e41ec[_0x4144e4(0x759)],!0x0);for(let _0x550bff of ya)_0xd9dbff['message'][_0x550bff]&&(_0xd9dbff['message']=_0xd9dbff['message'][_0x550bff][_0x4144e4(0x50d)]);let _0x41f361,_0x419916;for(let _0x190dda of wa)if(_0x41f361=_0xd9dbff['message'][_0x190dda],_0x41f361){_0x419916=_0x190dda;break;}if(!_0x41f361)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x41f361[_0x4144e4(0x1a9)]=='object'&&(_0xd9dbff[_0x4144e4(0x50d)]=JSON[_0x4144e4(0x37b)](JSON[_0x4144e4(0x69b)](_0xd9dbff[_0x4144e4(0x50d)])));let _0x58eeb8=await(0x0,f[_0x4144e4(0x5d9)])({'key':_0xd9dbff?.[_0x4144e4(0x759)],'message':_0xd9dbff?.[_0x4144e4(0x50d)]},_0x4144e4(0x688),{},{'logger':(0x0,kt['default'])({'level':_0x4144e4(0x223)}),'reuploadRequest':this[_0x4144e4(0x6b4)][_0x4144e4(0x514)]});if(!(_0x58eeb8 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x3d1e37=this[_0x4144e4(0x7aa)][_0x4144e4(0x58b)](_0x4144e4(0x161)),_0xd872e2,_0x3bed2e;if(_0x41f361[_0x4144e4(0x4fe)])_0xd872e2=_0x41f361[_0x4144e4(0x4fe)];else{let _0xd91aa6=_0x41f361[_0x4144e4(0xd3)]?.[_0x4144e4(0x2d9)](/\/(\w+)/),_0x3c67d5=_0xd91aa6?_0xd91aa6[0x1]:null;if(!_0x3c67d5)throw new Error(_0x4144e4(0x3aa));_0xd872e2=(0x0,Ce['v4'])()+'.'+_0x3c67d5;}_0x419916===_0x4144e4(0x3ca)?_0x3bed2e=_0x4144e4(0x3b0)+await this['convertaudioMP3'](_0x58eeb8[_0x4144e4(0x16c)]('base64')):(await this[_0x4144e4(0x154)](_0x58eeb8,_0xd872e2),_0x3bed2e='/media/'+_0xd872e2);let _0x1d8938=this[_0x4144e4(0x7aa)][_0x4144e4(0x58b)](_0x4144e4(0x77b))[_0x4144e4(0x517)];if(!_0x1d8938){let _0x107121=this[_0x4144e4(0x7aa)][_0x4144e4(0x58b)](_0x4144e4(0x762));_0x1d8938=_0x4144e4(0x347)+(_0x107121&&_0x107121[_0x4144e4(0x4b1)][_0x4144e4(0x4c3)]('/')[0x4]);}_0x3bed2e=''+_0x1d8938+_0x3bed2e;let _0x4389b6=0xc*0x3c*0x3c*0x3e8,_0x3a2495={'where':{'_id':_0xd9dbff[_0x4144e4(0x759)]['id']}},_0x29d31a={'message_normalized.fileUrl':_0x3bed2e,'message_normalized.expires_fileUrl':Date[_0x4144e4(0x631)]()+_0x4389b6};try{let _0x49b267=await this[_0x4144e4(0x3d9)][_0x4144e4(0x50d)]['update'](_0x3a2495,_0x29d31a,this['instance'][_0x4144e4(0x4fa)]);_0x49b267&&U(this[_0x4144e4(0x71d)],'messages',{'message':_0x49b267});}catch(_0x3b9400){let _0x261d5b=_0x4144e4(0x286),_0x4d0a2a=_0x3b9400 instanceof Error?_0x3b9400['message']:typeof _0x3b9400==_0x4144e4(0x4c5)?JSON[_0x4144e4(0x69b)](_0x3b9400):_0x3b9400,_0x93ba64=_0x261d5b+':\x20'+_0x4d0a2a;this[_0x4144e4(0xe4)][_0x4144e4(0x7e2)](this['instanceName']+'\x20('+this[_0x4144e4(0x68a)]['wuid']+'):\x20'+_0x93ba64);}return{'mediaType':_0x419916,'fileName':_0x41f361['fileName'],'caption':_0x41f361['caption'],'size':{'fileLength':_0x41f361[_0x4144e4(0x7eb)],'height':_0x41f361['height'],'width':_0x41f361[_0x4144e4(0x587)]},'mimetype':_0x41f361[_0x4144e4(0xd3)],'base64':_0x58eeb8[_0x4144e4(0x16c)]('base64'),'fileUrl':_0x3bed2e,'expires_fileUrl':Date[_0x4144e4(0x631)]()+_0x4389b6};}catch(_0x14bd64){let _0x504b6e='Falha\x20ao\x20processar\x20a\x20solicitação',_0x16f6bf=_0x14bd64 instanceof Error?_0x14bd64[_0x4144e4(0x50d)]:typeof _0x14bd64==_0x4144e4(0x4c5)?JSON[_0x4144e4(0x69b)](_0x14bd64):_0x14bd64,_0xb33fae=_0x504b6e+':\x20'+_0x16f6bf;throw this['logger'][_0x4144e4(0x7e2)](this['instanceName']+'\x20('+this[_0x4144e4(0x68a)]['wuid']+_0x4144e4(0x4a2)+_0xb33fae),new m(_0xb33fae);}}async[a0_0x6e1050(0x154)](_0x5968dc,_0x4138d3){const _0x326802=a0_0x6e1050;let _0x7f29a2=J[_0x326802(0x45f)]['join'](__dirname,_0x326802(0x3f8));j['existsSync'](_0x7f29a2)||j[_0x326802(0x3f9)](_0x7f29a2,{'recursive':!0x0});let _0x2e8a36=J[_0x326802(0x45f)]['join'](_0x7f29a2,_0x4138d3);return new Promise((_0x13d444,_0x1e4a67)=>{const _0x4d96dc=_0x326802;j[_0x4d96dc(0x59f)](_0x2e8a36,_0x5968dc,_0x4ab13b=>{const _0x1a37cf=_0x4d96dc;_0x4ab13b?(this[_0x1a37cf(0xe4)]['error']('Error\x20writing\x20file:\x20'+(_0x4ab13b instanceof Error?_0x4ab13b[_0x1a37cf(0x50d)]:JSON[_0x1a37cf(0x69b)](_0x4ab13b,null,0x2))),_0x1e4a67(_0x4ab13b)):(this[_0x1a37cf(0xe4)]['log'](_0x1a37cf(0x4ec)+_0x2e8a36),_0x13d444(_0x2e8a36));});});}async[a0_0x6e1050(0x4d0)](_0x4238a5){const _0x58bec4=a0_0x6e1050;return await this[_0x58bec4(0x3d9)][_0x58bec4(0x6d1)][_0x58bec4(0x15f)](_0x4238a5,this[_0x58bec4(0x68a)][_0x58bec4(0x4fa)]);}async[a0_0x6e1050(0x211)](){const _0x343a41=a0_0x6e1050;return await this[_0x343a41(0x3d9)][_0x343a41(0x69d)][_0x343a41(0x15f)]({'where':{}},this[_0x343a41(0x68a)][_0x343a41(0x4fa)]);}async['fetchMessages'](_0x348545){const _0x36c97c=a0_0x6e1050;return await this[_0x36c97c(0x3d9)][_0x36c97c(0x50d)][_0x36c97c(0x15f)](_0x348545,this[_0x36c97c(0x68a)]['wuid']);}async[a0_0x6e1050(0x76f)](){const _0x50b401=a0_0x6e1050;return this[_0x50b401(0x3d9)][_0x50b401(0x134)][_0x50b401(0x7db)](this[_0x50b401(0x68a)][_0x50b401(0x4fa)]),this[_0x50b401(0x3d9)][_0x50b401(0x134)][_0x50b401(0x178)](this[_0x50b401(0x68a)][_0x50b401(0x4fa)]),this[_0x50b401(0x3d9)][_0x50b401(0x134)][_0x50b401(0x5db)](this[_0x50b401(0x68a)][_0x50b401(0x4fa)]),this['repository'][_0x50b401(0x134)][_0x50b401(0x7ec)](this[_0x50b401(0x68a)][_0x50b401(0x4fa)]),await this['repository'][_0x50b401(0x134)][_0x50b401(0x15f)]({'where':{}},this[_0x50b401(0x68a)][_0x50b401(0x4fa)]);}async[a0_0x6e1050(0xda)](_0x5407ab){const _0x3f3897=a0_0x6e1050;try{if(!Array['isArray'](_0x5407ab)||_0x5407ab[_0x3f3897(0x401)]===0x0)throw new Error(_0x3f3897(0x56e));let _0x5b2b33=[],_0x2e81a1=[];for(let _0xa673b7 of _0x5407ab){if(_0xa673b7[_0x3f3897(0x238)])_0xa673b7[_0x3f3897(0x238)]=this[_0x3f3897(0x1d4)](_0xa673b7[_0x3f3897(0x238)]);else continue;await this[_0x3f3897(0x3d9)][_0x3f3897(0x134)][_0x3f3897(0x7a7)]({'where':{'_id':_0xa673b7[_0x3f3897(0x238)]}},this[_0x3f3897(0x68a)][_0x3f3897(0x4fa)])?_0x2e81a1[_0x3f3897(0x122)]({'_id':_0xa673b7[_0x3f3897(0x238)],'leadInfo':_0xa673b7[_0x3f3897(0x5e1)],'owner':this[_0x3f3897(0x68a)][_0x3f3897(0x4fa)]}):_0x5b2b33[_0x3f3897(0x122)]({'_id':_0xa673b7['_id'],'owner':this[_0x3f3897(0x68a)][_0x3f3897(0x4fa)],'leadInfo':_0xa673b7['leadInfo'],'imported':!0x0});}return _0x2e81a1[_0x3f3897(0x401)]>0x0&&await this[_0x3f3897(0x3d9)]['chat'][_0x3f3897(0x782)](_0x2e81a1['map'](_0x2fa26f=>({'query':{'where':{'_id':_0x2fa26f[_0x3f3897(0x238)],'owner':this[_0x3f3897(0x68a)][_0x3f3897(0x4fa)]}},'update':_0x2fa26f}))),_0x5b2b33[_0x3f3897(0x401)]>0x0&&await this[_0x3f3897(0x3d9)][_0x3f3897(0x134)][_0x3f3897(0x3db)](_0x5b2b33,this[_0x3f3897(0x68a)][_0x3f3897(0x4fa)]),{'updated':_0x2e81a1['length'],'inserted':_0x5b2b33['length']};}catch(_0x4fb766){let _0x560438='Erro\x20ao\x20importar\x20chats',_0x30f17a=_0x4fb766 instanceof Error?_0x4fb766[_0x3f3897(0x50d)]:typeof _0x4fb766==_0x3f3897(0x4c5)?JSON[_0x3f3897(0x69b)](_0x4fb766):_0x4fb766,_0x1d4c7b=_0x560438+':\x20'+_0x30f17a;throw this[_0x3f3897(0xe4)][_0x3f3897(0x7e2)](this['instanceName']+'\x20('+this[_0x3f3897(0x68a)][_0x3f3897(0x4fa)]+_0x3f3897(0x4a2)+_0x1d4c7b),new m(_0x1d4c7b);}}async[a0_0x6e1050(0x5ff)](_0x353758){const _0xf25501=a0_0x6e1050;try{if(!Array[_0xf25501(0x314)](_0x353758)||_0x353758[_0xf25501(0x401)]===0x0)throw new Error(_0xf25501(0x56e));let _0x312b82=0x64,_0x3e7c6c=0x0;for(let _0x1c6a69=0x0;_0x1c6a69<_0x353758['length'];_0x1c6a69+=_0x312b82){let _0x143d88=_0x353758[_0xf25501(0x5be)](_0x1c6a69,_0x1c6a69+_0x312b82),{updated:_0x4d678b}=await this[_0xf25501(0x36b)](_0x143d88);_0x3e7c6c+=_0x4d678b;}return{'updated':_0x3e7c6c};}catch(_0x392479){let _0xa7faf9=_0xf25501(0xe2),_0x135789=_0x392479 instanceof Error?_0x392479['message']:typeof _0x392479==_0xf25501(0x4c5)?JSON['stringify'](_0x392479):_0x392479,_0x5a8adc=_0xa7faf9+':\x20'+_0x135789;throw this[_0xf25501(0xe4)][_0xf25501(0x7e2)](this['instanceName']+'\x20('+this[_0xf25501(0x68a)]['wuid']+_0xf25501(0x4a2)+_0x5a8adc),new m(_0x5a8adc);}}async[a0_0x6e1050(0x36b)](_0x2c50ad){const _0x9e478a=a0_0x6e1050;try{let _0x5bdfed=await this['repository'][_0x9e478a(0x69d)][_0x9e478a(0x15f)]({'where':{}},this[_0x9e478a(0x68a)]['wuid']),_0x4f3ee8=new Set(_0x5bdfed['map'](_0x102882=>_0x102882[_0x9e478a(0x238)])),_0xa99336=[],_0x32f11e=[];for(let _0x270724 of _0x2c50ad){if(!_0x270724[_0x9e478a(0x238)])continue;_0x270724[_0x9e478a(0x238)]=this[_0x9e478a(0x1d4)](_0x270724['_id']);let _0xaf1221=await this['repository']['chat'][_0x9e478a(0x7a7)]({'where':{'_id':_0x270724[_0x9e478a(0x238)]}},this[_0x9e478a(0x68a)][_0x9e478a(0x4fa)]),_0x50591f={};if(Object['entries'](_0x270724[_0x9e478a(0x5e1)])[_0x9e478a(0x463)](([_0x11ef78,_0x4e9d2c])=>{const _0x232b3a=_0x9e478a;_0x50591f[_0x232b3a(0x787)+_0x11ef78]=_0x4e9d2c;}),_0xaf1221&&!_0xaf1221[_0x9e478a(0x247)]){let _0x2b93d6=(_0x270724[_0x9e478a(0x5e1)]['etiquetas']||[])[_0x9e478a(0x3e3)](_0x5dba49=>_0x4f3ee8[_0x9e478a(0x455)](_0x5dba49)),_0x195c80=new Set(_0xaf1221[_0x9e478a(0x5e1)][_0x9e478a(0x25f)]||[]),_0x300208=_0x2b93d6[_0x9e478a(0x3e3)](_0x4e9aec=>!_0x195c80[_0x9e478a(0x455)](_0x4e9aec)),_0x1f83ae=[..._0x195c80]['filter'](_0x11b692=>!_0x2b93d6[_0x9e478a(0x269)](_0x11b692));_0x32f11e[_0x9e478a(0x122)](..._0x300208[_0x9e478a(0x4bf)](_0x55a32f=>this[_0x9e478a(0x148)](_0x55a32f,_0x270724[_0x9e478a(0x238)]))),_0x32f11e[_0x9e478a(0x122)](..._0x1f83ae['map'](_0x34311d=>this['RemoveChatLabel'](_0x34311d,_0x270724[_0x9e478a(0x238)]))),_0x270724[_0x9e478a(0x5e1)][_0x9e478a(0x25f)]=_0x2b93d6,_0xa99336[_0x9e478a(0x122)]({'query':{'where':{'_id':_0x270724[_0x9e478a(0x238)],'owner':this['instance'][_0x9e478a(0x4fa)]}},'update':_0x50591f});}else _0x50591f['imported']=!0x0,_0xa99336['push']({'query':{'where':{'_id':_0x270724[_0x9e478a(0x238)],'owner':this[_0x9e478a(0x68a)][_0x9e478a(0x4fa)]}},'update':_0x50591f});}let _0x182b4e=await this['repository'][_0x9e478a(0x134)][_0x9e478a(0x782)](_0xa99336);return await Promise[_0x9e478a(0x218)](_0x32f11e),{'updated':_0x182b4e};}catch(_0x280726){let _0x60a050=_0x9e478a(0xe2),_0x4f79eb=_0x280726 instanceof Error?_0x280726[_0x9e478a(0x50d)]:typeof _0x280726=='object'?JSON['stringify'](_0x280726):_0x280726,_0x578a31=_0x60a050+':\x20'+_0x4f79eb;throw this[_0x9e478a(0xe4)]['error'](this[_0x9e478a(0x71d)]+'\x20('+this[_0x9e478a(0x68a)][_0x9e478a(0x4fa)]+_0x9e478a(0x4a2)+_0x578a31),new m(_0x578a31);}}async[a0_0x6e1050(0xdc)](){return await this['client']['fetchPrivacySettings']();}async[a0_0x6e1050(0x713)](_0x28c1fd){const _0x57609e=a0_0x6e1050;try{return await this[_0x57609e(0x6b4)][_0x57609e(0x709)](_0x28c1fd['privacySettings'][_0x57609e(0x74e)]),await this[_0x57609e(0x6b4)][_0x57609e(0xe8)](_0x28c1fd[_0x57609e(0x5a3)][_0x57609e(0x552)]),await this['client']['updateStatusPrivacy'](_0x28c1fd['privacySettings'][_0x57609e(0x349)]),await this[_0x57609e(0x6b4)][_0x57609e(0x4f3)](_0x28c1fd[_0x57609e(0x5a3)][_0x57609e(0x129)]),await this[_0x57609e(0x6b4)][_0x57609e(0xe7)](_0x28c1fd[_0x57609e(0x5a3)][_0x57609e(0x4c2)]),await this['client'][_0x57609e(0x606)](_0x28c1fd[_0x57609e(0x5a3)]['groupadd']),this['client']?.['ws']?.['close'](),{'update':_0x57609e(0x6fb),'data':{'readreceipts':_0x28c1fd[_0x57609e(0x5a3)][_0x57609e(0x74e)],'profile':_0x28c1fd['privacySettings']['profile'],'status':_0x28c1fd['privacySettings']['status'],'online':_0x28c1fd[_0x57609e(0x5a3)][_0x57609e(0x129)],'last':_0x28c1fd['privacySettings'][_0x57609e(0x4c2)],'groupadd':_0x28c1fd[_0x57609e(0x5a3)]['groupadd']}};}catch(_0x3a957a){let _0x219f39=_0x57609e(0x554),_0xb8d8f7=_0x3a957a instanceof Error?_0x3a957a[_0x57609e(0x50d)]:typeof _0x3a957a==_0x57609e(0x4c5)?JSON['stringify'](_0x3a957a):_0x3a957a,_0x2240af=_0x219f39+':\x20'+_0xb8d8f7;throw this[_0x57609e(0xe4)][_0x57609e(0x7e2)](this[_0x57609e(0x71d)]+'\x20('+this['instance'][_0x57609e(0x4fa)]+'):\x20'+_0x2240af),new m(_0x2240af);}}async[a0_0x6e1050(0x15e)](_0x3b6af4){const _0x88248f=a0_0x6e1050;let _0x2d5ea7=(_0x3b6af4?this[_0x88248f(0x1d4)](_0x3b6af4):this[_0x88248f(0x6b4)]?.[_0x88248f(0x267)]?.['id'])[_0x88248f(0x70d)](/:\d{1,2}@/g,'@');this[_0x88248f(0xe4)][_0x88248f(0x582)](_0x88248f(0x577)+_0x2d5ea7);let _0x365120=await this[_0x88248f(0x3d9)][_0x88248f(0x6d1)]['findOne']({'where':{'_id':_0x2d5ea7}},this[_0x88248f(0x68a)][_0x88248f(0x4fa)]),_0x105b12=_0x365120?_0x365120[_0x88248f(0x5af)]:null;try{let _0x4f57f1=(await this['whatsappNumber']({'numbers':[_0x2d5ea7]}))?.[_0x88248f(0x144)](),_0x2275dc=(await this[_0x88248f(0xf4)](_0x2d5ea7,null,!0x1))[_0x88248f(0x710)][_0x88248f(0x78e)],_0xdd17a4=await this[_0x88248f(0x6ff)](_0x4f57f1?.[_0x88248f(0x379)]),_0x133ecc=await this[_0x88248f(0x5ed)](_0x4f57f1?.[_0x88248f(0x379)]),_0x4959e4=(await this['findAndUpdateCacheContact'](_0x2d5ea7,null,!0x1))['cachedContact'][_0x88248f(0x4f4)],_0xf7a68f=await this[_0x88248f(0x3d9)][_0x88248f(0x134)]['findOne']({'where':{'_id':_0x2d5ea7}},this['instance'][_0x88248f(0x4fa)]),_0x51c64e={'imagechat':_0x2275dc,'contactname':_0x105b12||null,'pushName':_0x4959e4,'status':_0xdd17a4?.[_0x88248f(0x349)],'isBusiness':_0x133ecc[_0x88248f(0x57b)],'email':_0x133ecc?.[_0x88248f(0x390)],'description':_0x133ecc?.[_0x88248f(0x580)],'website':_0x133ecc?.[_0x88248f(0x176)]?.['shift'](),'lastcache':Date[_0x88248f(0x631)](),'imported':!_0xf7a68f},_0x3f86cf=await this[_0x88248f(0x3d9)]['chat'][_0x88248f(0x662)]({'where':{'_id':_0x2d5ea7}},_0x51c64e,this[_0x88248f(0x68a)][_0x88248f(0x4fa)]),_0xdf2586={'owner':this[_0x88248f(0x68a)]['wuid'],'_id':_0x2d5ea7,'profilePictureUrl':_0x2275dc,'status':_0xdd17a4?.[_0x88248f(0x349)]};return this[_0x88248f(0x3d9)][_0x88248f(0x6d1)][_0x88248f(0x27b)]([_0xdf2586],this[_0x88248f(0x68a)][_0x88248f(0x4fa)]),_0x3f86cf&&U(this[_0x88248f(0x71d)],_0x88248f(0x5fe),{'chat':_0x3f86cf}),{'wuid':_0x4f57f1?.[_0x88248f(0x379)]||_0x2d5ea7,'name':_0x4f57f1?.[_0x88248f(0x4f4)],'pushName':_0x4959e4,'numberExists':_0x4f57f1?.[_0x88248f(0x1b6)],'picture':_0x2275dc,'status':_0xdd17a4?.[_0x88248f(0x349)],'isBusiness':_0x133ecc[_0x88248f(0x57b)],'email':_0x133ecc?.[_0x88248f(0x390)],'description':_0x133ecc?.[_0x88248f(0x580)],'website':_0x133ecc?.['website']?.[_0x88248f(0x144)]()};}catch(_0x2ee504){return this[_0x88248f(0xe4)]['error']('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x2ee504 instanceof Error?_0x2ee504['message']:JSON[_0x88248f(0x69b)](_0x2ee504,null,0x2))),{};}}async['fetchBusinessProfile'](_0x403201){const _0x3b7290=a0_0x6e1050;this[_0x3b7290(0xe4)][_0x3b7290(0x582)](_0x3b7290(0x47e));try{let _0xeefb8f=_0x403201?this[_0x3b7290(0x1d4)](_0x403201):this['instance'][_0x3b7290(0x4fa)],_0x2ce778=await this[_0x3b7290(0x6b4)][_0x3b7290(0x7e7)](_0xeefb8f);return this['logger'][_0x3b7290(0x582)](_0x3b7290(0x4ae)),_0x2ce778?(this['logger'][_0x3b7290(0x582)](_0x3b7290(0x19f)),{'isBusiness':!0x0,..._0x2ce778}):{'isBusiness':!0x1,'message':_0x3b7290(0x4e8),...(await this['whatsappNumber']({'numbers':[_0xeefb8f]}))?.[_0x3b7290(0x144)]()};}catch(_0x200e75){let _0xdcab43=_0x3b7290(0x312),_0x14aed7=_0x200e75 instanceof Error?_0x200e75['message']:typeof _0x200e75==_0x3b7290(0x4c5)?JSON['stringify'](_0x200e75):_0x200e75,_0x5e414e=_0xdcab43+':\x20'+_0x14aed7;throw this[_0x3b7290(0xe4)][_0x3b7290(0x7e2)](this[_0x3b7290(0x71d)]+'\x20('+this[_0x3b7290(0x68a)][_0x3b7290(0x4fa)]+_0x3b7290(0x4a2)+_0x5e414e),new x(_0x5e414e);}}async['getStatus'](_0x1bfa9e){const _0x2df02c=a0_0x6e1050;let _0x29ed7f=this[_0x2df02c(0x1d4)](_0x1bfa9e);try{return{'wuid':_0x29ed7f,'status':(await this[_0x2df02c(0x6b4)][_0x2df02c(0x214)](_0x29ed7f))?.[_0x2df02c(0x349)]};}catch{return{'wuid':_0x29ed7f,'status':null};}}async[a0_0x6e1050(0x25b)](_0x53a93e){const _0x1afcaf=a0_0x6e1050;try{return await this[_0x1afcaf(0x6b4)][_0x1afcaf(0x25b)](_0x53a93e),{'update':'success'};}catch(_0x56a5cb){let _0x40b389=_0x1afcaf(0x192),_0xbb879=_0x56a5cb instanceof Error?_0x56a5cb[_0x1afcaf(0x50d)]:typeof _0x56a5cb==_0x1afcaf(0x4c5)?JSON[_0x1afcaf(0x69b)](_0x56a5cb):_0x56a5cb,_0x2a78e4=_0x40b389+':\x20'+_0xbb879;throw this[_0x1afcaf(0xe4)][_0x1afcaf(0x7e2)](this[_0x1afcaf(0x71d)]+'\x20('+this[_0x1afcaf(0x68a)][_0x1afcaf(0x4fa)]+_0x1afcaf(0x4a2)+_0x2a78e4),new x(_0x2a78e4);}}async[a0_0x6e1050(0x198)](_0x3f85c6){const _0x276bbf=a0_0x6e1050;try{return await this[_0x276bbf(0x6b4)][_0x276bbf(0x198)](_0x3f85c6),{'update':_0x276bbf(0x6fb)};}catch(_0x5a14e1){let _0x608f8f=_0x276bbf(0x4e7),_0xdf572c=_0x5a14e1 instanceof Error?_0x5a14e1['message']:typeof _0x5a14e1==_0x276bbf(0x4c5)?JSON[_0x276bbf(0x69b)](_0x5a14e1):_0x5a14e1,_0x3b0627=_0x608f8f+':\x20'+_0xdf572c;throw this['logger'][_0x276bbf(0x7e2)](this[_0x276bbf(0x71d)]+'\x20('+this[_0x276bbf(0x68a)][_0x276bbf(0x4fa)]+_0x276bbf(0x4a2)+_0x3b0627),new x(_0x3b0627);}}async[a0_0x6e1050(0x459)](_0x2ad910){const _0x3c34a4=a0_0x6e1050;try{let _0x27559f;if((0x0,k[_0x3c34a4(0x503)])(_0x2ad910)){let _0x4b1cc0=new Date()[_0x3c34a4(0x226)](),_0x3d0daf=_0x2ad910+'?timestamp='+_0x4b1cc0;_0x27559f=(await Q['default'][_0x3c34a4(0x58b)](_0x3d0daf,{'responseType':_0x3c34a4(0x5f2)}))[_0x3c34a4(0x183)];}else{if((0x0,k['isBase64'])(_0x2ad910))_0x27559f=Buffer[_0x3c34a4(0x179)](_0x2ad910,_0x3c34a4(0x5ab));else throw new m(_0x3c34a4(0x4b7));}return await this[_0x3c34a4(0x6b4)][_0x3c34a4(0x459)](this[_0x3c34a4(0x68a)]['wuid'],_0x27559f),{'update':'success'};}catch(_0x43c3f6){let _0x3d8e91=_0x3c34a4(0x693),_0x4e077f=_0x43c3f6 instanceof Error?_0x43c3f6[_0x3c34a4(0x50d)]:typeof _0x43c3f6==_0x3c34a4(0x4c5)?JSON['stringify'](_0x43c3f6):_0x43c3f6,_0x4966ae=_0x3d8e91+':\x20'+_0x4e077f;throw this[_0x3c34a4(0xe4)][_0x3c34a4(0x7e2)](this[_0x3c34a4(0x71d)]+'\x20('+this[_0x3c34a4(0x68a)][_0x3c34a4(0x4fa)]+'):\x20'+_0x4966ae),new x(_0x4966ae);}}async[a0_0x6e1050(0x1a3)](){const _0x15b3c1=a0_0x6e1050;try{return await this['client'][_0x15b3c1(0x1a3)](this[_0x15b3c1(0x68a)][_0x15b3c1(0x4fa)]),{'update':_0x15b3c1(0x6fb)};}catch(_0x153d12){let _0x456912=_0x15b3c1(0x656),_0x1eb741=_0x153d12 instanceof Error?_0x153d12[_0x15b3c1(0x50d)]:typeof _0x153d12==_0x15b3c1(0x4c5)?JSON[_0x15b3c1(0x69b)](_0x153d12):_0x153d12,_0x2d229c=_0x456912+':\x20'+_0x1eb741;throw this[_0x15b3c1(0xe4)][_0x15b3c1(0x7e2)](this['instanceName']+'\x20('+this[_0x15b3c1(0x68a)][_0x15b3c1(0x4fa)]+'):\x20'+_0x2d229c),new x(_0x2d229c);}}async[a0_0x6e1050(0x5df)](_0x4779fd){const _0x5d37bf=a0_0x6e1050;try{let _0x40a4e8=(await this['whatsappNumber']({'numbers':_0x4779fd['participants']}))[_0x5d37bf(0x3e3)](_0x430cc3=>_0x430cc3[_0x5d37bf(0x1b6)])[_0x5d37bf(0x4bf)](_0x84ffaa=>_0x84ffaa[_0x5d37bf(0x379)]),{id:_0x47ec95}=await this[_0x5d37bf(0x6b4)][_0x5d37bf(0x450)](_0x4779fd[_0x5d37bf(0x57a)],_0x40a4e8);_0x4779fd?.[_0x5d37bf(0x580)]&&await this[_0x5d37bf(0x6b4)][_0x5d37bf(0x706)](_0x47ec95,_0x4779fd['description']);let _0x1252cc=await this['client'][_0x5d37bf(0x440)](_0x47ec95);return _0x1252cc[_0x5d37bf(0x1bf)]=[],{'metadata':_0x1252cc};}catch(_0x500b5e){let _0x569764=_0x5d37bf(0xfc),_0x112162=_0x500b5e instanceof Error?_0x500b5e[_0x5d37bf(0x50d)]:typeof _0x500b5e==_0x5d37bf(0x4c5)?JSON[_0x5d37bf(0x69b)](_0x500b5e):_0x500b5e,_0xb24a30=_0x569764+':\x20'+_0x112162;throw this['logger'][_0x5d37bf(0x7e2)](this[_0x5d37bf(0x71d)]+'\x20('+this['instance']['wuid']+_0x5d37bf(0x4a2)+_0xb24a30),new x(_0xb24a30);}}async[a0_0x6e1050(0x2a5)](_0x8b3b0d){const _0x31b566=a0_0x6e1050;try{if(_0x8b3b0d[_0x31b566(0x7d0)]===!0x0&&await this[_0x31b566(0x6b4)][_0x31b566(0x209)](_0x8b3b0d[_0x31b566(0x62f)],_0x31b566(0x473)),_0x8b3b0d['restrict']===!0x1&&await this[_0x31b566(0x6b4)][_0x31b566(0x209)](_0x8b3b0d[_0x31b566(0x62f)],'unlocked'),_0x8b3b0d[_0x31b566(0x19a)]===!0x0&&await this[_0x31b566(0x6b4)][_0x31b566(0x209)](_0x8b3b0d['groupJid'],'announcement'),_0x8b3b0d['announce']===!0x1&&await this[_0x31b566(0x6b4)][_0x31b566(0x209)](_0x8b3b0d[_0x31b566(0x62f)],'not_announcement'),_0x8b3b0d['memberAddMode']===!0x0&&await this[_0x31b566(0x6b4)][_0x31b566(0x6a2)](_0x8b3b0d[_0x31b566(0x62f)],_0x31b566(0x3ad)),_0x8b3b0d[_0x31b566(0x14d)]===!0x1&&await this['client'][_0x31b566(0x6a2)](_0x8b3b0d[_0x31b566(0x62f)],_0x31b566(0x64b)),_0x8b3b0d['joinApprovalMode']===!0x0&&await this[_0x31b566(0x6b4)]['groupJoinApprovalMode'](_0x8b3b0d[_0x31b566(0x62f)],'on'),_0x8b3b0d[_0x31b566(0x39b)]===!0x1&&await this['client'][_0x31b566(0x2e5)](_0x8b3b0d[_0x31b566(0x62f)],_0x31b566(0x30b)),typeof _0x8b3b0d[_0x31b566(0x78d)]<'u'&&_0x8b3b0d[_0x31b566(0x78d)]!==null&&await this[_0x31b566(0x6b4)][_0x31b566(0x1a8)](_0x8b3b0d[_0x31b566(0x62f)],_0x8b3b0d[_0x31b566(0x78d)]),_0x8b3b0d[_0x31b566(0x4f4)]&&await this[_0x31b566(0x6b4)][_0x31b566(0x4ed)](_0x8b3b0d[_0x31b566(0x62f)],_0x8b3b0d['name']),_0x8b3b0d[_0x31b566(0x580)]&&await this[_0x31b566(0x6b4)][_0x31b566(0x706)](_0x8b3b0d[_0x31b566(0x62f)],_0x8b3b0d[_0x31b566(0x580)]),_0x8b3b0d['image']){let _0x33976a;if((0x0,k[_0x31b566(0x503)])(_0x8b3b0d['image'])){let _0x1f9f03=new Date()[_0x31b566(0x226)](),_0x1c91c7=_0x8b3b0d[_0x31b566(0x505)]+_0x31b566(0x382)+_0x1f9f03;_0x33976a=(await Q[_0x31b566(0x45f)]['get'](_0x1c91c7,{'responseType':_0x31b566(0x5f2)}))[_0x31b566(0x183)];}else{if((0x0,k['isBase64'])(_0x8b3b0d[_0x31b566(0x505)]))_0x33976a=Buffer['from'](_0x8b3b0d[_0x31b566(0x505)],'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x31b566(0x6b4)][_0x31b566(0x459)](_0x8b3b0d[_0x31b566(0x62f)],_0x33976a);}return await this['findGroup']({'groupJid':_0x8b3b0d[_0x31b566(0x62f)]});}catch(_0x30e65c){let _0x5a4c94=_0x31b566(0x642),_0x414681=_0x30e65c instanceof Error?_0x30e65c[_0x31b566(0x50d)]:typeof _0x30e65c==_0x31b566(0x4c5)?JSON[_0x31b566(0x69b)](_0x30e65c):_0x30e65c,_0x14c599=_0x5a4c94+':\x20'+_0x414681;throw this[_0x31b566(0xe4)][_0x31b566(0x7e2)](this[_0x31b566(0x71d)]+'\x20('+this['instance'][_0x31b566(0x4fa)]+'):\x20'+_0x14c599),new x(_0x14c599);}}async['updateGParticipant'](_0x18dcff){const _0x55deb8=a0_0x6e1050;try{if(_0x18dcff[_0x55deb8(0x7d9)]===_0x55deb8(0x3fc)||_0x18dcff[_0x55deb8(0x7d9)]===_0x55deb8(0x660)){let _0x371016=_0x18dcff[_0x55deb8(0x3f2)][_0x55deb8(0x4bf)](_0x4f016f=>this['createJid'](_0x4f016f));await this[_0x55deb8(0x6b4)][_0x55deb8(0x7e0)](_0x18dcff[_0x55deb8(0x62f)],_0x371016,_0x18dcff['action']);}else{if(_0x18dcff[_0x55deb8(0x7d9)]===_0x55deb8(0x59d)){let _0x1f9edd=(await this[_0x55deb8(0x316)]({'numbers':_0x18dcff[_0x55deb8(0x3f2)]}))[_0x55deb8(0x3e3)](_0x40ab21=>_0x40ab21['exists'])[_0x55deb8(0x4bf)](_0x3079a3=>this[_0x55deb8(0x1d4)](_0x3079a3[_0x55deb8(0x379)]));if(_0x1f9edd[_0x55deb8(0x401)]===0x0)throw new m(_0x55deb8(0x138));await this['client'][_0x55deb8(0x5ba)](_0x18dcff[_0x55deb8(0x62f)],_0x1f9edd,_0x55deb8(0x59d));}else{let _0x1ed89e=_0x18dcff[_0x55deb8(0x3f2)][_0x55deb8(0x4bf)](_0x31c268=>this[_0x55deb8(0x1d4)](_0x31c268));await this['client']['groupParticipantsUpdate'](_0x18dcff[_0x55deb8(0x62f)],_0x1ed89e,_0x18dcff[_0x55deb8(0x7d9)]);}}return await this['findGroup']({'groupJid':_0x18dcff['groupJid']});}catch(_0x555739){let _0x428b07=_0x55deb8(0x6e4),_0x456c42=_0x555739 instanceof Error?_0x555739[_0x55deb8(0x50d)]:typeof _0x555739==_0x55deb8(0x4c5)?JSON['stringify'](_0x555739):_0x555739,_0x12be53=_0x428b07+':\x20'+_0x456c42;throw this[_0x55deb8(0xe4)][_0x55deb8(0x7e2)](this[_0x55deb8(0x71d)]+'\x20('+this[_0x55deb8(0x68a)]['wuid']+_0x55deb8(0x4a2)+_0x12be53),new m(_0x12be53);}}async[a0_0x6e1050(0x2d3)](_0x221e39){const _0x2af7fd=a0_0x6e1050;try{return await this[_0x2af7fd(0x6b4)]['groupGetInviteInfo'](_0x221e39[_0x2af7fd(0x742)]);}catch(_0x3831a6){let _0x2da5e5=_0x2af7fd(0x603),_0x901a8=_0x3831a6 instanceof Error?_0x3831a6[_0x2af7fd(0x50d)]:typeof _0x3831a6=='object'?JSON[_0x2af7fd(0x69b)](_0x3831a6):_0x3831a6,_0x436e57=_0x2da5e5+':\x20'+_0x901a8;throw this[_0x2af7fd(0xe4)][_0x2af7fd(0x7e2)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x436e57),new m(_0x436e57);}}async[a0_0x6e1050(0x5bb)](_0x134a7f,_0x3d8256=a0_0x6e1050(0x451)){const _0x2ff1e2=a0_0x6e1050;try{let _0x545258=await this[_0x2ff1e2(0x3d9)][_0x2ff1e2(0x134)][_0x2ff1e2(0x7a7)]({'where':{'_id':_0x134a7f[_0x2ff1e2(0x62f)]}},this[_0x2ff1e2(0x68a)][_0x2ff1e2(0x4fa)]),_0x2a4df4=_0x545258?_0x545258[_0x2ff1e2(0x3fa)]:null,_0xc44bab=0x18*0x3c*0x3c*0x3e8;if(!_0x2a4df4||_0x2a4df4[_0x2ff1e2(0x2df)]&&Date[_0x2ff1e2(0x631)]()-_0x2a4df4[_0x2ff1e2(0x2df)]>_0xc44bab){let _0x694d0f=await this[_0x2ff1e2(0x6b4)][_0x2ff1e2(0x440)](_0x134a7f['groupJid']);if(_0x694d0f[_0x2ff1e2(0x7df)]=_0x694d0f?.[_0x2ff1e2(0x7df)]&&_0x694d0f[_0x2ff1e2(0x7df)][_0x2ff1e2(0x16c)]()[_0x2ff1e2(0x401)]<0xd?_0x694d0f?.[_0x2ff1e2(0x7df)]*0x3e8:_0x694d0f?.[_0x2ff1e2(0x7df)]||null,_0x694d0f[_0x2ff1e2(0x5e2)]=_0x694d0f?.['creation']&&_0x694d0f[_0x2ff1e2(0x5e2)]['toString']()[_0x2ff1e2(0x401)]<0xd?_0x694d0f?.[_0x2ff1e2(0x5e2)]*0x3e8:_0x694d0f?.[_0x2ff1e2(0x5e2)]||null,_0x2a4df4={..._0x694d0f,'lastUpdate':Date[_0x2ff1e2(0x631)]()},!_0x694d0f)return;}let _0x25d525=_0x2a4df4[_0x2ff1e2(0x3f2)][_0x2ff1e2(0x6ae)](_0x3f1d86=>_0x3f1d86['id']===this[_0x2ff1e2(0x68a)]['wuid']+_0x2ff1e2(0x317)&&_0x3f1d86[_0x2ff1e2(0x338)]!=null);!_0x2a4df4[_0x2ff1e2(0x742)]&&_0x25d525&&(_0x2a4df4['inviteCode']=(await this[_0x2ff1e2(0x742)](_0x134a7f,!0x1))['inviteUrl']);let _0x1bc4c7=(!_0x2a4df4['announce']||_0x25d525)&&(!_0x2a4df4[_0x2ff1e2(0x545)]||_0x2a4df4[_0x2ff1e2(0x545)]&&_0x2a4df4[_0x2ff1e2(0x385)]&&_0x25d525);_0x2a4df4[_0x2ff1e2(0x75d)]=_0x25d525,_0x2a4df4['canSendMessage']=_0x1bc4c7;let _0x3cb3cd=[];if(_0x25d525&&_0x2a4df4['joinApprovalMode'])try{_0x3cb3cd=await this['client'][_0x2ff1e2(0x707)](_0x134a7f[_0x2ff1e2(0x62f)]),_0x2a4df4['lastFetchAwaitingApproval']=Date[_0x2ff1e2(0x631)]();}catch(_0x490a2f){this[_0x2ff1e2(0xe4)][_0x2ff1e2(0x582)](this[_0x2ff1e2(0x71d)]+'\x20('+this[_0x2ff1e2(0x68a)]['wuid']+_0x2ff1e2(0x471)+_0x134a7f['groupJid']+':\x20'+(_0x490a2f instanceof Error?_0x490a2f[_0x2ff1e2(0x50d)]:JSON[_0x2ff1e2(0x69b)](_0x490a2f,null,0x2)));}try{_0x2a4df4['image']=(await this['findAndUpdateCacheContact'](_0x134a7f[_0x2ff1e2(0x62f)],null,!0x0))[_0x2ff1e2(0x710)]['pictureUrl'];}catch(_0x59471b){this['logger'][_0x2ff1e2(0x582)](this[_0x2ff1e2(0x71d)]+'\x20('+this[_0x2ff1e2(0x68a)][_0x2ff1e2(0x4fa)]+_0x2ff1e2(0x470)+_0x134a7f[_0x2ff1e2(0x62f)]+':\x20'+(_0x59471b instanceof Error?_0x59471b[_0x2ff1e2(0x50d)]:JSON[_0x2ff1e2(0x69b)](_0x59471b,null,0x2)));}let _0x5ca348=_0x2a4df4[_0x2ff1e2(0x3f2)][_0x2ff1e2(0x4bf)](_0x27f2fb=>_0x27f2fb['id']),_0x23cae2=_0x3cb3cd[_0x2ff1e2(0x4bf)](_0x5e7042=>_0x5e7042[_0x2ff1e2(0x379)]),_0x15cc78=await this[_0x2ff1e2(0x3d9)][_0x2ff1e2(0x3c0)][_0x2ff1e2(0x4be)]([..._0x5ca348,..._0x23cae2]);_0x2a4df4[_0x2ff1e2(0x3f2)]=_0x2a4df4[_0x2ff1e2(0x3f2)][_0x2ff1e2(0x4bf)](_0xc9eda4=>{const _0x5a0255=_0x2ff1e2;let _0x1e6437=_0x15cc78[_0x5a0255(0x15f)](_0xd3e454=>_0xd3e454[_0x5a0255(0x238)]===_0xc9eda4['id']);return{'id':_0xc9eda4['id'],'isAdmin':[_0x5a0255(0x338),_0x5a0255(0x2f0)]['includes'](_0xc9eda4[_0x5a0255(0x338)]),'admin':_0xc9eda4[_0x5a0255(0x338)],'pushName':_0x1e6437?.[_0x5a0255(0x4f4)],'profilePictureUrl':_0x1e6437?.[_0x5a0255(0x78e)]};}),_0x2a4df4['awaitingApproval']=_0x3cb3cd[_0x2ff1e2(0x4bf)](_0x371145=>{const _0x9dadc3=_0x2ff1e2;let _0x351b24=_0x15cc78['find'](_0x257bcf=>_0x257bcf[_0x9dadc3(0x238)]===_0x371145[_0x9dadc3(0x379)]);return{'id':_0x371145[_0x9dadc3(0x379)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x351b24?.[_0x9dadc3(0x4f4)],'profilePictureUrl':_0x351b24?.['pictureUrl'],'request_method':_0x371145[_0x9dadc3(0x4b6)],'request_time':_0x371145[_0x9dadc3(0x6b0)]};});let _0x25735b=await this['repository'][_0x2ff1e2(0x134)]['updateOne']({'where':{'_id':_0x134a7f[_0x2ff1e2(0x62f)]}},{'imagechat':_0x2a4df4[_0x2ff1e2(0x505)],'name':_0x2a4df4[_0x2ff1e2(0x57a)],'lastcache':Date['now'](),'groupdata':_0x2a4df4},this[_0x2ff1e2(0x68a)][_0x2ff1e2(0x4fa)]);return U(this['instanceName'],_0x2ff1e2(0x5fe),{'chat':_0x25735b}),{'metadata':_0x2a4df4};}catch(_0x5194a1){if(_0x3d8256===_0x2ff1e2(0x458))return;throw new q(_0x2ff1e2(0x2fc),_0x5194a1['message']['toString']());}}async[a0_0x6e1050(0x667)](){const _0x5485d0=a0_0x6e1050;try{let _0x547b27=[],_0x21b887=await this['client'][_0x5485d0(0x20f)](),_0x31f1b3=Object[_0x5485d0(0x6b9)](_0x21b887),_0x1a8e9c=_0x31f1b3['filter'](_0x23a849=>(0x0,f[_0x5485d0(0x3be)])(_0x23a849?.['id']))[_0x5485d0(0x4bf)](async _0x598bbf=>{const _0x46cf91=_0x5485d0;try{return await this[_0x46cf91(0x6b4)][_0x46cf91(0x5da)](_0x598bbf['id'],_0x46cf91(0xf0));}catch(_0x3ca964){return this[_0x46cf91(0xe4)][_0x46cf91(0x582)](this[_0x46cf91(0x71d)]+'\x20('+this[_0x46cf91(0x68a)][_0x46cf91(0x4fa)]+_0x46cf91(0x470)+_0x598bbf['id']+':\x20'+(_0x3ca964 instanceof Error?_0x3ca964[_0x46cf91(0x50d)]:JSON[_0x46cf91(0x69b)](_0x3ca964,null,0x2))),null;}}),_0x1f1072=await Promise[_0x5485d0(0x218)](_0x1a8e9c);for(let _0x4eebed=0x0;_0x4eebed<_0x31f1b3[_0x5485d0(0x401)];_0x4eebed++){let _0x169991=_0x31f1b3[_0x4eebed];(0x0,f[_0x5485d0(0x3be)])(_0x169991?.['id'])&&(_0x547b27[_0x5485d0(0x122)]({'groupJid':_0x169991?.['id'],'subject':_0x169991?.[_0x5485d0(0x57a)],'subjectOwner':_0x169991?.[_0x5485d0(0x29b)]?.[_0x5485d0(0x4c3)]('@')[0x0],'subjectTime':_0x169991?.[_0x5485d0(0x7df)],'creation':_0x169991?.[_0x5485d0(0x5e2)],'size':_0x169991?.[_0x5485d0(0x3f2)]?.[_0x5485d0(0x401)],'owner':_0x169991?.[_0x5485d0(0x427)]?.[_0x5485d0(0x4c3)]('@')[0x0],'desc':_0x169991?.['desc'],'restrict':_0x169991?.[_0x5485d0(0x7d0)],'announce':_0x169991?.[_0x5485d0(0x19a)],'image':_0x1f1072[_0x4eebed],'isCommunity':_0x169991?.[_0x5485d0(0x545)],'joinApprovalMode':_0x169991?.['joinApprovalMode'],'memberCanAddParticipant':_0x169991?.[_0x5485d0(0x14d)],'participants':_0x169991?.[_0x5485d0(0x3f2)],'descOwner':_0x169991?.[_0x5485d0(0x11e)],'descId':_0x169991?.[_0x5485d0(0x77d)],'memberAddMode':_0x169991?.[_0x5485d0(0x14d)],'isCommunityAnnounce':_0x169991?.[_0x5485d0(0x385)],'ephemeralDuration':_0x169991?.[_0x5485d0(0x7c0)]||0x0,'author':_0x169991?.[_0x5485d0(0x5fc)]}),this[_0x5485d0(0x783)](_0x31f1b3[_0x4eebed]));}return _0x547b27;}catch(_0x5814a6){let _0x5aee3f=_0x5485d0(0x3a5),_0x368489=_0x5814a6 instanceof Error?_0x5814a6[_0x5485d0(0x50d)]:typeof _0x5814a6=='object'?JSON['stringify'](_0x5814a6):_0x5814a6,_0x40f9d0=_0x5aee3f+':\x20'+_0x368489;throw this[_0x5485d0(0xe4)]['error'](this[_0x5485d0(0x71d)]+'\x20('+this[_0x5485d0(0x68a)][_0x5485d0(0x4fa)]+'):\x20'+_0x40f9d0),new q(_0x40f9d0);}}async['updateChatGroupData'](_0x5f14d9){const _0x51733c=a0_0x6e1050;let _0x4d2ea1=await this[_0x51733c(0x3d9)][_0x51733c(0x134)]['findOne']({'where':{'_id':_0x5f14d9['id']}},this['instance'][_0x51733c(0x4fa)]);_0x5f14d9[_0x51733c(0x7df)]=_0x5f14d9?.[_0x51733c(0x7df)]&&_0x5f14d9[_0x51733c(0x7df)][_0x51733c(0x16c)]()[_0x51733c(0x401)]<0xd?_0x5f14d9?.[_0x51733c(0x7df)]*0x3e8:_0x5f14d9?.[_0x51733c(0x7df)]||null,_0x5f14d9[_0x51733c(0x5e2)]=_0x5f14d9?.['creation']&&_0x5f14d9[_0x51733c(0x5e2)][_0x51733c(0x16c)]()[_0x51733c(0x401)]<0xd?_0x5f14d9?.[_0x51733c(0x5e2)]*0x3e8:_0x5f14d9?.['creation']||null;let _0x56e16b=_0x4d2ea1?.[_0x51733c(0x3fa)]?.[_0x51733c(0x1bf)]||[],_0x5ae9d=_0x4d2ea1?.['groupdata']?.['lastFetchAwaitingApproval'],_0x41f8ba=_0x5f14d9[_0x51733c(0x3f2)][_0x51733c(0x4bf)](_0xc6f233=>{const _0x37c9a5=_0x51733c;let _0x31299e=_0x4d2ea1?.['groupdata']?.[_0x37c9a5(0x3f2)][_0x37c9a5(0x15f)](_0x36703f=>_0x36703f['id']===_0xc6f233['id']);return{..._0xc6f233,'isAdmin':[_0x37c9a5(0x338),_0x37c9a5(0x2f0)]['includes'](_0xc6f233[_0x37c9a5(0x338)]),'admin':_0xc6f233[_0x37c9a5(0x338)],'name':_0x31299e?.[_0x37c9a5(0x4f4)]||_0xc6f233[_0x37c9a5(0x4f4)],'imgUrl':_0x31299e?.[_0x37c9a5(0x227)]||_0xc6f233[_0x37c9a5(0x227)]};}),_0xb268a5=_0x41f8ba['some'](_0x5f2290=>_0x5f2290['id']===this[_0x51733c(0x68a)][_0x51733c(0x4fa)]+'@s.whatsapp.net'&&_0x5f2290['isAdmin']),_0x4c7cd8=(!_0x5f14d9[_0x51733c(0x19a)]||_0xb268a5)&&(!_0x5f14d9[_0x51733c(0x545)]||_0x5f14d9[_0x51733c(0x545)]&&_0x5f14d9[_0x51733c(0x385)]&&_0xb268a5),_0x37d8b3={..._0x5f14d9,'participants':_0x41f8ba,'awaitingApproval':_0x56e16b,'lastFetchAwaitingApproval':_0x5ae9d,'isAdmin':_0xb268a5,'canSendMessage':_0x4c7cd8,'lastUpdate':Date[_0x51733c(0x631)]()};await this[_0x51733c(0x3d9)][_0x51733c(0x134)]['updateOne']({'where':{'_id':_0x5f14d9['id']}},{'name':_0x5f14d9[_0x51733c(0x57a)],'group':!0x0,'groupdata':_0x37d8b3,'lastcache':Date[_0x51733c(0x631)]()},this['instance'][_0x51733c(0x4fa)]),U(this[_0x51733c(0x71d)],_0x51733c(0x5fe),{'chat':_0x5f14d9});}async['updateGroupWebhook'](_0x2a8be6){const _0x171b60=a0_0x6e1050;let _0x59b86a=await this['repository']['chat'][_0x171b60(0x7a7)]({'where':{'_id':_0x2a8be6['id']}},this[_0x171b60(0x68a)][_0x171b60(0x4fa)]);_0x2a8be6['subjectTime']=_0x2a8be6?.['subjectTime']&&_0x2a8be6[_0x171b60(0x7df)][_0x171b60(0x16c)]()['length']<0xd?_0x2a8be6?.['subjectTime']*0x3e8:_0x2a8be6?.[_0x171b60(0x7df)]||null,_0x2a8be6['creation']=_0x2a8be6?.[_0x171b60(0x5e2)]&&_0x2a8be6['creation'][_0x171b60(0x16c)]()[_0x171b60(0x401)]<0xd?_0x2a8be6?.[_0x171b60(0x5e2)]*0x3e8:_0x2a8be6?.['creation']||null,_0x2a8be6[_0x171b60(0x742)]&&(_0x2a8be6[_0x171b60(0x742)]='https://chat.whatsapp.com/'+_0x2a8be6[_0x171b60(0x742)]);let _0x3fd7a1=_0x59b86a?.[_0x171b60(0x3fa)]?{..._0x59b86a[_0x171b60(0x3fa)]}:{};Object['keys'](_0x2a8be6)['forEach'](_0x5e4867=>{_0x5e4867!=='id'&&(_0x3fd7a1[_0x5e4867]=_0x2a8be6[_0x5e4867]);});let _0x46f81e=_0x3fd7a1[_0x171b60(0x3f2)]?.[_0x171b60(0x6ae)](_0x3564b5=>_0x3564b5['id']===this[_0x171b60(0x68a)][_0x171b60(0x4fa)]+'@s.whatsapp.net'&&_0x3564b5[_0x171b60(0x75d)])||!0x1;_0x3fd7a1[_0x171b60(0x75d)]=_0x46f81e;let _0x13c1b5=(!_0x3fd7a1[_0x171b60(0x19a)]||_0x46f81e)&&(!_0x3fd7a1['isCommunity']||_0x3fd7a1[_0x171b60(0x545)]&&_0x3fd7a1[_0x171b60(0x385)]&&_0x46f81e);_0x3fd7a1[_0x171b60(0x52e)]=_0x13c1b5;let _0x49a8ca={'group':!0x0,'groupdata':_0x3fd7a1};_0x2a8be6[_0x171b60(0x57a)]&&(_0x49a8ca[_0x171b60(0x4f4)]=_0x2a8be6[_0x171b60(0x57a)]),await this[_0x171b60(0x3d9)][_0x171b60(0x134)][_0x171b60(0x662)]({'where':{'_id':_0x2a8be6['id']}},_0x49a8ca,this[_0x171b60(0x68a)]['wuid'],{'upsert':!0x0}),U(this[_0x171b60(0x71d)],'chats',{'chat':_0x49a8ca});}async['updateGroupParticipantsWebhook'](_0x16b958){const _0x3ca64e=a0_0x6e1050;let _0x958f5b=await this[_0x3ca64e(0x3d9)][_0x3ca64e(0x134)][_0x3ca64e(0x7a7)]({'where':{'_id':_0x16b958['id']}},this['instance'][_0x3ca64e(0x4fa)]);if(!_0x958f5b||!_0x958f5b['groupdata']){this['logger'][_0x3ca64e(0x4a3)](this[_0x3ca64e(0x71d)]+'\x20('+this['instance'][_0x3ca64e(0x4fa)]+'):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20'+_0x16b958['id']);return;}let _0x216315=await this[_0x3ca64e(0x3d9)]['cacheContact']['findManyByIds'](_0x16b958[_0x3ca64e(0x3f2)]),_0x516da8=[..._0x958f5b[_0x3ca64e(0x3fa)]?.['participants']];switch(_0x16b958[_0x3ca64e(0x7d9)]){case _0x3ca64e(0x59d):let _0x5241a7=_0x216315[_0x3ca64e(0x4bf)](_0x5677dc=>({'id':_0x5677dc[_0x3ca64e(0x238)],'isAdmin':!0x1,'name':_0x5677dc[_0x3ca64e(0x4f4)],'imgUrl':_0x5677dc[_0x3ca64e(0x78e)]}));_0x516da8=[..._0x516da8,..._0x5241a7];break;case _0x3ca64e(0x726):_0x516da8=_0x516da8[_0x3ca64e(0x3e3)](_0x268565=>!_0x16b958[_0x3ca64e(0x3f2)][_0x3ca64e(0x269)](_0x268565['id']));break;case _0x3ca64e(0x585):case _0x3ca64e(0x6b7):_0x516da8=_0x516da8[_0x3ca64e(0x4bf)](_0x71b902=>_0x16b958['participants']['includes'](_0x71b902['id'])?{..._0x71b902,'isAdmin':_0x16b958[_0x3ca64e(0x7d9)]===_0x3ca64e(0x585)}:_0x71b902);break;}let _0x3af6ad=_0x516da8[_0x3ca64e(0x401)],_0x36e194=_0x516da8[_0x3ca64e(0x6ae)](_0x373cc1=>_0x373cc1['id']===this['instance'][_0x3ca64e(0x4fa)]+'@s.whatsapp.net'),_0x42ffd9=_0x36e194&&_0x516da8['some'](_0x59b6b1=>_0x59b6b1['id']===this[_0x3ca64e(0x68a)]['wuid']+_0x3ca64e(0x317)&&_0x59b6b1[_0x3ca64e(0x75d)]),_0x33f1f5=_0x36e194&&(!_0x958f5b[_0x3ca64e(0x3fa)]['announce']||_0x42ffd9)&&(!_0x958f5b[_0x3ca64e(0x3fa)]['isCommunity']||_0x958f5b['groupdata']['isCommunity']&&_0x42ffd9);await this[_0x3ca64e(0x3d9)][_0x3ca64e(0x134)][_0x3ca64e(0x662)]({'where':{'_id':_0x16b958['id']}},{'groupdata':{..._0x958f5b[_0x3ca64e(0x3fa)],'participants':_0x516da8,'size':_0x3af6ad,'isAdmin':_0x42ffd9,'canSendMessage':_0x33f1f5}},this[_0x3ca64e(0x68a)][_0x3ca64e(0x4fa)]),this[_0x3ca64e(0xe4)][_0x3ca64e(0x4a3)](this['instanceName']+'\x20('+this[_0x3ca64e(0x68a)][_0x3ca64e(0x4fa)]+_0x3ca64e(0x784)+_0x16b958['id']+_0x3ca64e(0x109)+_0x16b958[_0x3ca64e(0x7d9)]+',\x20Novo\x20tamanho:\x20'+_0x3af6ad+',\x20isAdmin:\x20'+_0x42ffd9+_0x3ca64e(0x3ea)+_0x33f1f5);}async[a0_0x6e1050(0x742)](_0x4664d5,_0x451e98=!0x0){const _0x57d810=a0_0x6e1050;try{let _0x44714a=await this[_0x57d810(0x6b4)]['groupInviteCode'](_0x4664d5[_0x57d810(0x62f)]),_0x3c2a28={'groupdata.inviteCode':_0x57d810(0x6c4)+_0x44714a};if(_0x451e98){let _0x5be1c5=await this[_0x57d810(0x3d9)]['chat'][_0x57d810(0x662)]({'where':{'_id':_0x4664d5[_0x57d810(0x62f)]}},_0x3c2a28,this['instance'][_0x57d810(0x4fa)]);}return{'inviteUrl':_0x57d810(0x6c4)+_0x44714a,'inviteCode':_0x44714a};}catch(_0xdd787){let _0x36a29a=_0x57d810(0x6f3),_0x5605e0=_0xdd787 instanceof Error?_0xdd787[_0x57d810(0x50d)]:typeof _0xdd787=='object'?JSON[_0x57d810(0x69b)](_0xdd787):_0xdd787,_0x301689=_0x36a29a+':\x20'+_0x5605e0;throw this[_0x57d810(0xe4)][_0x57d810(0x7e2)](this[_0x57d810(0x71d)]+'\x20('+this['instance'][_0x57d810(0x4fa)]+_0x57d810(0x4a2)+_0x301689),new q(_0x301689);}}async[a0_0x6e1050(0x36f)](_0x3860fd){const _0x5742a5=a0_0x6e1050;try{let _0x410425=await this[_0x5742a5(0x6b4)][_0x5742a5(0x732)](_0x3860fd[_0x5742a5(0x62f)]);return{'revoked':!0x0,'inviteUrl':_0x5742a5(0x6c4)+_0x410425,'inviteCode':_0x410425};}catch(_0x5042e4){let _0xeb5873=_0x5742a5(0x1db),_0x31c105=_0x5042e4 instanceof Error?_0x5042e4['message']:typeof _0x5042e4==_0x5742a5(0x4c5)?JSON[_0x5742a5(0x69b)](_0x5042e4):_0x5042e4,_0xcb59f6=_0xeb5873+':\x20'+_0x31c105;throw this['logger']['error'](this[_0x5742a5(0x71d)]+'\x20('+this[_0x5742a5(0x68a)][_0x5742a5(0x4fa)]+_0x5742a5(0x4a2)+_0xcb59f6),new q(_0xcb59f6);}}async[a0_0x6e1050(0x405)](_0x120dd4){const _0x3fd5e8=a0_0x6e1050;try{if((0x0,k[_0x3fd5e8(0x503)])(_0x120dd4['inviteCode']))var _0x36a81e=_0x120dd4['inviteCode']['split']('/')[0x3];else var _0x36a81e=_0x120dd4[_0x3fd5e8(0x742)];let _0x7d94df=await this[_0x3fd5e8(0x6b4)][_0x3fd5e8(0x43a)](_0x36a81e);return this[_0x3fd5e8(0xe4)][_0x3fd5e8(0x582)](this[_0x3fd5e8(0x71d)]+'\x20('+this[_0x3fd5e8(0x68a)]['wuid']+_0x3fd5e8(0x4a2)+_0x7d94df),{'join':!0x0,'inviteCode':_0x36a81e,'groupJid':_0x7d94df};}catch(_0x40f897){let _0xdc64b9=_0x3fd5e8(0x43d),_0x330f47=_0x40f897 instanceof Error?_0x40f897['message']:typeof _0x40f897==_0x3fd5e8(0x4c5)?JSON[_0x3fd5e8(0x69b)](_0x40f897):_0x40f897,_0x5c1be9=_0xdc64b9+':\x20'+_0x330f47;throw this[_0x3fd5e8(0xe4)][_0x3fd5e8(0x7e2)](this['instanceName']+'\x20('+this['instance'][_0x3fd5e8(0x4fa)]+_0x3fd5e8(0x4a2)+_0x5c1be9),new q(_0x5c1be9);}}async[a0_0x6e1050(0x260)](_0x3f46b6){const _0x505186=a0_0x6e1050;try{return{'participants':(await this[_0x505186(0x3d9)][_0x505186(0x134)][_0x505186(0x7a7)]({'where':{'_id':_0x3f46b6[_0x505186(0x62f)]}},this[_0x505186(0x68a)][_0x505186(0x4fa)]))[_0x505186(0x3fa)][_0x505186(0x3f2)]};}catch(_0x1705c9){let _0x1c6594=_0x505186(0x49c),_0xc5dfa9=_0x1705c9 instanceof Error?_0x1705c9[_0x505186(0x50d)]:typeof _0x1705c9==_0x505186(0x4c5)?JSON[_0x505186(0x69b)](_0x1705c9):_0x1705c9,_0x3cab35=_0x1c6594+':\x20'+_0xc5dfa9;throw this[_0x505186(0xe4)]['error'](this[_0x505186(0x71d)]+'\x20('+this[_0x505186(0x68a)][_0x505186(0x4fa)]+_0x505186(0x4a2)+_0x3cab35),new q(_0x3cab35);}}async['leaveGroup'](_0x514340){const _0x36da9b=a0_0x6e1050;try{return await this[_0x36da9b(0x6b4)][_0x36da9b(0x2cb)](_0x514340[_0x36da9b(0x62f)]),{'groupJid':_0x514340[_0x36da9b(0x62f)],'leave':!0x0};}catch(_0x25c5b7){let _0x2f3b36='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x5f5a39=_0x25c5b7 instanceof Error?_0x25c5b7[_0x36da9b(0x50d)]:typeof _0x25c5b7=='object'?JSON[_0x36da9b(0x69b)](_0x25c5b7):_0x25c5b7,_0x43f1ce=_0x2f3b36+':\x20'+_0x5f5a39;throw this[_0x36da9b(0xe4)]['error'](this[_0x36da9b(0x71d)]+'\x20('+this[_0x36da9b(0x68a)][_0x36da9b(0x4fa)]+_0x36da9b(0x4a2)+_0x43f1ce),new m(_0x43f1ce);}}async[a0_0x6e1050(0x4b3)](_0x5009ca){const _0x3601a7=a0_0x6e1050;return await this[_0x3601a7(0x234)](_0x5009ca[_0x3601a7(0x78b)],{'poll':{'name':_0x5009ca[_0x3601a7(0x4b3)]?.['name'],'selectableCount':_0x5009ca[_0x3601a7(0x4b3)][_0x3601a7(0x6b6)],'values':_0x5009ca[_0x3601a7(0x4b3)]['values']}},_0x5009ca?.[_0x3601a7(0x6c7)]);}async[a0_0x6e1050(0x2dc)](_0x5e7f6a){const _0x414cfd=a0_0x6e1050;return await this['sendMessageWithTyping'](_0x5e7f6a[_0x414cfd(0x78b)],{'listMessage':{'title':_0x5e7f6a[_0x414cfd(0x2dc)][_0x414cfd(0x4bc)],'description':_0x5e7f6a['listMessage'][_0x414cfd(0x580)],'buttonText':_0x5e7f6a[_0x414cfd(0x2dc)]?.['buttonText'],'footerText':_0x5e7f6a[_0x414cfd(0x2dc)]?.[_0x414cfd(0x555)],'sections':_0x5e7f6a[_0x414cfd(0x2dc)][_0x414cfd(0x1e9)],'listType':0x2}},_0x5e7f6a?.[_0x414cfd(0x6c7)]);}async['menuMessage'](_0xa847d1){const _0x417b31=a0_0x6e1050;let _0x1ce550;if(_0xa847d1[_0x417b31(0x78f)][_0x417b31(0x413)]===_0x417b31(0x61d)){let _0x15d4fb=_0xa847d1[_0x417b31(0x78f)][_0x417b31(0x654)][_0x417b31(0x78a)]('\x0a'),_0x21a006='',_0x211d3b='';_0x15d4fb!==-0x1?(_0x21a006=_0xa847d1['menuMessage'][_0x417b31(0x654)][_0x417b31(0x593)](0x0,_0x15d4fb)['trim'](),_0x211d3b=_0xa847d1[_0x417b31(0x78f)][_0x417b31(0x654)][_0x417b31(0x593)](_0x15d4fb+0x1)):_0x211d3b=_0xa847d1['menuMessage'][_0x417b31(0x654)];let _0x35e90e=_0xa847d1[_0x417b31(0x78f)][_0x417b31(0x215)][_0x417b31(0x3e3)](_0x2e3c80=>_0x2e3c80[_0x417b31(0x46e)]()!==''),_0x406894=this['createSectionsFromValues'](_0x35e90e);_0x1ce550={'listMessage':{'title':_0x21a006,'description':_0x211d3b,'buttonText':_0xa847d1[_0x417b31(0x78f)][_0x417b31(0x3f7)]||_0x417b31(0x410),'footerText':_0xa847d1[_0x417b31(0x78f)]['footerText'],'sections':_0x406894,'listType':0x2}};}else{if(_0xa847d1[_0x417b31(0x78f)][_0x417b31(0x413)]==='poll'){let _0x32f0d6=_0xa847d1[_0x417b31(0x78f)]['choices'][_0x417b31(0x3e3)](_0x6cd492=>!(_0x6cd492[_0x417b31(0x177)]('[')&&_0x6cd492['endsWith'](']'))&&_0x6cd492['trim']()!=='')[_0x417b31(0x4bf)](_0x508649=>_0x508649[_0x417b31(0x4c3)]('\x0a')[0x0]);_0x1ce550={'poll':{'name':_0xa847d1[_0x417b31(0x78f)]['text'],'selectableCount':_0xa847d1[_0x417b31(0x78f)][_0x417b31(0x6b6)]||0x1,'values':_0x32f0d6}};}}return await this[_0x417b31(0x234)](_0xa847d1['number'],_0x1ce550,_0xa847d1?.[_0x417b31(0x6c7)]);}[a0_0x6e1050(0x393)](_0x300cc9){const _0x17324f=a0_0x6e1050;let _0x180ff6=[],_0x2dec08={'rows':[]};return _0x300cc9[_0x17324f(0x463)](_0x626fb1=>{const _0x12edd9=_0x17324f;if(_0x626fb1[_0x12edd9(0x177)]('[')&&_0x626fb1[_0x12edd9(0x24f)](']'))_0x2dec08[_0x12edd9(0x62a)]['length']>0x0&&_0x180ff6[_0x12edd9(0x122)](_0x2dec08),_0x2dec08={'title':_0x626fb1[_0x12edd9(0x5be)](0x1,-0x1),'rows':[]};else{let _0x589ab8=_0x626fb1[_0x12edd9(0x4c3)]('\x0a')['map'](_0x541bde=>_0x541bde[_0x12edd9(0x46e)]()),_0x24f227=_0x589ab8[0x0],_0x20f5a8=_0x589ab8[0x1]||null,_0x47010f=_0x589ab8[0x2]||_0x24f227;_0x2dec08[_0x12edd9(0x62a)][_0x12edd9(0x122)]({'title':_0x24f227,'description':_0x20f5a8,'rowId':_0x47010f});}}),_0x2dec08[_0x17324f(0x62a)]['length']>0x0&&_0x180ff6[_0x17324f(0x122)](_0x2dec08),_0x180ff6;}async[a0_0x6e1050(0x3b7)](_0xe33e23,_0x3bfd84){const _0x573df6=a0_0x6e1050;if(await this['getMessage'](_0xe33e23,!0x0)){let _0x23f6c0={'where':{'_id':_0xe33e23['id']}},_0xdb77b2={'status':[_0x3bfd84[_0x573df6(0x349)]][0x0]};try{let _0x154266=await this[_0x573df6(0x3d9)]['message'][_0x573df6(0x27b)](_0x23f6c0,_0xdb77b2,this[_0x573df6(0x68a)][_0x573df6(0x4fa)]);_0x154266&&U(this[_0x573df6(0x71d)],_0x573df6(0x44e),{'message':_0x154266});}catch{}}}[a0_0x6e1050(0x232)](_0x31d029){const _0x21c72d=a0_0x6e1050;let _0x2816be=[];return _0x31d029[_0x21c72d(0x463)](_0x1bb0bf=>{const _0x29f6fa=_0x21c72d;_0x1bb0bf['title']&&_0x2816be[_0x29f6fa(0x122)]('['+_0x1bb0bf[_0x29f6fa(0x4bc)]+']'),_0x1bb0bf['rows'][_0x29f6fa(0x463)](_0x1d5b51=>{const _0x67958d=_0x29f6fa;_0x2816be[_0x67958d(0x122)](_0x1d5b51['title']);});}),_0x2816be['join']('|');}[a0_0x6e1050(0x27a)](_0x3dba12){const _0x38bc27=a0_0x6e1050;let _0x1f4bc5=_0x3dba12[_0x38bc27(0x70d)](/\\n/g,'\x0a')[_0x38bc27(0x4c3)]('\x0a')[_0x38bc27(0x3e3)](_0x18791e=>_0x18791e[_0x38bc27(0x269)](_0x38bc27(0x497))||_0x18791e[_0x38bc27(0x269)](_0x38bc27(0x23f))),_0x205f33='';return _0x1f4bc5[_0x38bc27(0x463)](_0x3d4f24=>{const _0x46b611=_0x38bc27;let _0x1fb860=/TEL(?:.*):(.+)/,_0x1dc60c=/EMAIL(?:.*):(.+)/,_0x2d2534=_0x3d4f24[_0x46b611(0x2d9)](_0x1fb860),_0x23212b=_0x3d4f24['match'](_0x1dc60c);if(_0x2d2534){let _0x18ea2c=_0x2d2534[0x1][_0x46b611(0x70d)](/-| |\+|\(|\)/g,'')[_0x46b611(0x46e)]();_0x205f33+=_0x46b611(0x561)+_0x18ea2c+'\x0a';}else{if(_0x23212b){let _0xf8bbe4=_0x23212b[0x1][_0x46b611(0x46e)]();_0x205f33+=_0x46b611(0x43f)+_0xf8bbe4+'\x0a';}}}),_0x205f33[_0x38bc27(0x46e)]();}async[a0_0x6e1050(0x5b4)](_0x4decfd,_0x133f35,_0x54f36a,_0x16d1f9=null){const _0x8c48bc=a0_0x6e1050;if(_0x4decfd[_0x8c48bc(0x584)])try{let _0x3cad93=_0x133f35[_0x8c48bc(0x759)]['remoteJid'][_0x8c48bc(0x70d)](/:\d{1,2}@/g,'@'),_0x407a8d=_0x133f35[_0x8c48bc(0x759)][_0x8c48bc(0x636)],_0x59a5a5=_0x3cad93[_0x8c48bc(0x24f)](_0x8c48bc(0x254)),_0x1a6ffe=_0x133f35[_0x8c48bc(0x673)]?.[_0x8c48bc(0x70d)](/:\d{1,2}@/g,'@')||'',_0x282515=_0x133f35['message_normalized']?.[_0x8c48bc(0x654)]||_0x133f35[_0x8c48bc(0x48f)]?.[_0x8c48bc(0x31d)]||_0x133f35[_0x8c48bc(0x48f)]?.[_0x8c48bc(0x270)]||_0x133f35['message_normalized']?.['name'],_0x44c391={'_id':_0x133f35[_0x8c48bc(0x238)],'remoteJid':_0x407a8d?this[_0x8c48bc(0x68a)][_0x8c48bc(0x4fa)]:_0x59a5a5?_0x1a6ffe:_0x3cad93,'pushName':_0x407a8d?this[_0x8c48bc(0x68a)][_0x8c48bc(0x746)]||'Eu':_0x133f35['pushName'],'text':_0x282515,'type':_0x133f35[_0x8c48bc(0x1f0)],'when':_0x133f35[_0x8c48bc(0x166)]||Date['now']()};_0x16d1f9||(_0x16d1f9=await this['repository'][_0x8c48bc(0x134)][_0x8c48bc(0x7a7)]({'where':{'_id':_0x3cad93}},this[_0x8c48bc(0x68a)][_0x8c48bc(0x4fa)]));let _0x11b17c=_0x16d1f9?_0x407a8d?_0x16d1f9[_0x8c48bc(0x41b)]:(_0x16d1f9[_0x8c48bc(0x41b)]||0x0)+0x1:_0x407a8d?0x0:0x1,_0x2501b0={'lastmsg':_0x133f35[_0x8c48bc(0x166)]||Date['now'](),'ephemeralExpiration':_0x133f35[_0x8c48bc(0x78d)],'lastMessage':_0x44c391,'unreadcount':_0x11b17c,..._0x407a8d||_0x59a5a5?{}:{'name':_0x133f35[_0x8c48bc(0x5af)]},..._0x59a5a5?{'group':_0x59a5a5}:{},...!_0x407a8d&&!_0x59a5a5&&_0x133f35[_0x8c48bc(0x5da)]?{'imagechat':_0x133f35[_0x8c48bc(0x5da)]}:{}};if(!_0x59a5a5&&(!_0x16d1f9?.['leadInfo']||!_0x16d1f9['leadInfo'][_0x8c48bc(0x71f)])&&_0x133f35[_0x8c48bc(0x5af)]&&!_0x407a8d&&(_0x2501b0={..._0x2501b0,'leadInfo.nome':_0x133f35[_0x8c48bc(0x5af)]}),_0x16d1f9?.[_0x8c48bc(0x5e1)][_0x8c48bc(0x25f)]||(_0x2501b0={..._0x2501b0,'leadInfo.etiquetas':[]}),_0x16d1f9?.['leadInfo']['customFields']||(_0x2501b0={..._0x2501b0,'leadInfo.customFields':[]}),_0x16d1f9?.[_0x8c48bc(0x5e1)]['tags']||(_0x2501b0={..._0x2501b0,'leadInfo.tags':[]}),_0x16d1f9&&_0x16d1f9?.['imported']){let _0x3edbff=await this[_0x8c48bc(0x3d9)]['label']['find']({'where':{}},this[_0x8c48bc(0x68a)][_0x8c48bc(0x4fa)]),_0x5b87ed=new Set(_0x3edbff['map'](_0x124a66=>_0x124a66['_id'])),_0x1914b2=(_0x16d1f9[_0x8c48bc(0x5e1)]?.['etiquetas']||[])['filter'](_0x3b0369=>_0x5b87ed[_0x8c48bc(0x455)](_0x3b0369));_0x2501b0={..._0x2501b0,'imported':!0x1,'leadInfo.etiquetas':_0x1914b2};for(let _0x1633ae of _0x1914b2)await this['AddChatLabel'](_0x1633ae,_0x3cad93);}if(_0x54f36a===_0x8c48bc(0x1c0)&&_0x407a8d&&this[_0x8c48bc(0xf9)]?.[_0x8c48bc(0x3c1)]['enabled']&&!_0x282515['startsWith'](this[_0x8c48bc(0xf9)]?.['flowConfig'][_0x8c48bc(0x785)])){let _0x99924=(this[_0x8c48bc(0xf9)]?.[_0x8c48bc(0x3c1)][_0x8c48bc(0x284)]||0x5)*0xea60,_0x54d4ae=Date['now']()+_0x99924;_0x16d1f9?.[_0x8c48bc(0x5e1)]?.[_0x8c48bc(0x61e)]===0x0||(_0x2501b0={..._0x2501b0,'leadInfo.desativadoFluxoAte':_0x54d4ae},this['logger'][_0x8c48bc(0x582)](this[_0x8c48bc(0x71d)]+'\x20('+this['instance'][_0x8c48bc(0x4fa)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x54d4ae+'.'));}if(_0x16d1f9=await this[_0x8c48bc(0x3d9)][_0x8c48bc(0x134)]['updateOne']({'where':{'_id':_0x3cad93}},_0x2501b0,this[_0x8c48bc(0x68a)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x16d1f9)U(this['instanceName'],_0x8c48bc(0x5fe),{'chat':_0x16d1f9});else{this[_0x8c48bc(0xe4)][_0x8c48bc(0x7e2)](this['instanceName']+'\x20('+this[_0x8c48bc(0x68a)]['wuid']+_0x8c48bc(0x504));return;}if(!this[_0x8c48bc(0xf9)]?.[_0x8c48bc(0x3c1)][_0x8c48bc(0x23a)])return this[_0x8c48bc(0xe4)][_0x8c48bc(0x582)](this['instanceName']+'\x20('+this[_0x8c48bc(0x68a)]['wuid']+_0x8c48bc(0x4da)),null;if(_0x16d1f9[_0x8c48bc(0x238)][_0x8c48bc(0x269)](_0x8c48bc(0x254))&&this[_0x8c48bc(0xf9)]?.[_0x8c48bc(0x3c1)][_0x8c48bc(0x2be)]===!0x0)return this[_0x8c48bc(0xe4)][_0x8c48bc(0x582)](this[_0x8c48bc(0x71d)]+'\x20('+this[_0x8c48bc(0x68a)][_0x8c48bc(0x4fa)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x16d1f9[_0x8c48bc(0x5e1)]){if(_0x16d1f9[_0x8c48bc(0x5e1)][_0x8c48bc(0x61e)]===0x0||_0x16d1f9[_0x8c48bc(0x5e1)][_0x8c48bc(0x2d6)])return this[_0x8c48bc(0xe4)][_0x8c48bc(0x582)](this['instanceName']+'\x20('+this[_0x8c48bc(0x68a)][_0x8c48bc(0x4fa)]+_0x8c48bc(0x10f)+_0x3cad93+_0x8c48bc(0x136)),null;if(_0x16d1f9['leadInfo'][_0x8c48bc(0x61e)]>Date['now']()&&!_0x133f35[_0x8c48bc(0x48f)]?.[_0x8c48bc(0x270)])return this['logger'][_0x8c48bc(0x582)](this[_0x8c48bc(0x71d)]+'\x20('+this[_0x8c48bc(0x68a)][_0x8c48bc(0x4fa)]+_0x8c48bc(0x6ea)+new Date(_0x16d1f9[_0x8c48bc(0x5e1)][_0x8c48bc(0x61e)])[_0x8c48bc(0x2f5)]()+_0x8c48bc(0x136)),null;}this[_0x8c48bc(0xe4)][_0x8c48bc(0x582)](this[_0x8c48bc(0x71d)]+'\x20('+this[_0x8c48bc(0x68a)][_0x8c48bc(0x4fa)]+_0x8c48bc(0x739)),this[_0x8c48bc(0x4df)](_0x54f36a,_0x133f35);}catch(_0x32864b){let _0x2c239f=_0x8c48bc(0x6d3),_0x551608=_0x32864b instanceof Error?_0x32864b['message']:typeof _0x32864b==_0x8c48bc(0x4c5)?JSON['stringify'](_0x32864b):_0x32864b,_0x5b1cd4=_0x2c239f+':\x20'+_0x551608;return this[_0x8c48bc(0xe4)]['error'](this['instanceName']+'\x20('+this[_0x8c48bc(0x68a)]['wuid']+'):\x20'+_0x5b1cd4),null;}}async[a0_0x6e1050(0x738)](_0x387acf,_0x241ed4){const _0x123ab0=a0_0x6e1050;if(_0x241ed4[_0x123ab0(0x584)]){let _0x328c5b=_0x387acf['map'](async _0x5342fd=>{const _0x424846=_0x123ab0;try{let _0xc9580b={'_id':_0x5342fd[_0x424846(0x238)],'owner':_0x5342fd[_0x424846(0x427)],'lastcache':0x0};if(Object[_0x424846(0x1be)](_0x5342fd)[_0x424846(0x463)](_0x342bc9=>{_0x5342fd[_0x342bc9]!==null&&(_0xc9580b[_0x342bc9]=_0x5342fd[_0x342bc9]);}),_0xc9580b[_0x424846(0x797)]===null&&(_0xc9580b['imagechat']=_0x424846(0xf7)),Object[_0x424846(0x1be)](_0xc9580b)[_0x424846(0x401)]>0x0)return await this[_0x424846(0x3d9)][_0x424846(0x134)][_0x424846(0x662)]({'where':{'_id':_0x5342fd[_0x424846(0x238)]}},_0xc9580b,this[_0x424846(0x68a)]['wuid']);}catch(_0x3ef726){let _0x28d09a=_0x424846(0x794)+_0x5342fd[_0x424846(0x238)],_0x55edef=_0x3ef726 instanceof Error?_0x3ef726[_0x424846(0x50d)]:typeof _0x3ef726==_0x424846(0x4c5)?JSON[_0x424846(0x69b)](_0x3ef726):_0x3ef726,_0x499d74=_0x28d09a+':\x20'+_0x55edef;return this[_0x424846(0xe4)][_0x424846(0x7e2)](this[_0x424846(0x71d)]+'\x20('+this[_0x424846(0x68a)][_0x424846(0x4fa)]+'):\x20'+_0x499d74),null;}}),_0x264475=(await Promise[_0x123ab0(0x218)](_0x328c5b))['filter'](_0x231b59=>_0x231b59!==null)[_0x123ab0(0x401)];this[_0x123ab0(0xe4)][_0x123ab0(0x582)](this[_0x123ab0(0x71d)]+'\x20('+this['instance']['wuid']+_0x123ab0(0x4a2)+_0x264475+_0x123ab0(0x71e)+this[_0x123ab0(0x68a)]['wuid']+_0x123ab0(0x313));}}async['readMessageBot'](_0x16ffbe){const _0x1afd06=a0_0x6e1050;this['logger'][_0x1afd06(0x582)](this['instanceName']+'\x20('+this['instance'][_0x1afd06(0x4fa)]+'):\x20Ler\x20mensagem');let _0x408080={'readMessages':[{'remoteJid':_0x16ffbe[_0x1afd06(0x638)][_0x1afd06(0x699)][_0x1afd06(0x759)][_0x1afd06(0x21b)],'fromMe':_0x16ffbe[_0x1afd06(0x638)][_0x1afd06(0x699)][_0x1afd06(0x759)]['fromMe'],'id':_0x16ffbe[_0x1afd06(0x638)]['lastReceivedMessage'][_0x1afd06(0x759)]['id']}]};await this[_0x1afd06(0x72a)](_0x408080);}async[a0_0x6e1050(0x4df)](_0xe47f9a,_0x3cb212){const _0x5d102e=a0_0x6e1050;try{let {key:_0xb372dc,message_normalized:_0x20540d}=_0x3cb212,_0x22b6bc=_0x20540d,_0x27c2ce=_0x20540d[_0x5d102e(0x654)]||_0x20540d[_0x5d102e(0x31d)]||_0x20540d[_0x5d102e(0x270)]||_0x20540d[_0x5d102e(0x4f4)],_0x4d5658=_0xb372dc['remoteJid'],_0x231eb6;if(_0x22b6bc['key']['fromMe']&&_0x27c2ce[_0x5d102e(0x46e)]()!==this[_0x5d102e(0xf9)]?.[_0x5d102e(0x3c1)][_0x5d102e(0x2bc)]['trim']())return this['logger'][_0x5d102e(0x582)](this['instanceName']+'\x20('+this[_0x5d102e(0x68a)][_0x5d102e(0x4fa)]+_0x5d102e(0x461)),null;if(_0x22b6bc[_0x5d102e(0x759)][_0x5d102e(0x636)]&&_0x27c2ce[_0x5d102e(0x46e)]()===this[_0x5d102e(0xf9)]?.[_0x5d102e(0x3c1)]['stopConversation'][_0x5d102e(0x46e)]()){this[_0x5d102e(0xe4)][_0x5d102e(0x582)](this[_0x5d102e(0x71d)]+'\x20('+this[_0x5d102e(0x68a)][_0x5d102e(0x4fa)]+_0x5d102e(0x58e));let _0x229bc3=await this['repository'][_0x5d102e(0x1c4)][_0x5d102e(0x15f)]({'remoteJid':_0x4d5658,'status':'open'},this[_0x5d102e(0x68a)][_0x5d102e(0x4fa)]);this[_0x5d102e(0xe4)]['verbose'](this[_0x5d102e(0x71d)]+'\x20('+this[_0x5d102e(0x68a)][_0x5d102e(0x4fa)]+_0x5d102e(0x101)+_0x229bc3);let _0x4d36af=Date[_0x5d102e(0x631)](),_0x297958;return this['AutomateSystem']?.['flowConfig'][_0x5d102e(0x686)]===0x0?_0x297958={'stoppedUntil':_0x4d36af+0x7591f6200}:_0x297958={'stoppedUntil':_0x4d36af+this['AutomateSystem']?.[_0x5d102e(0x3c1)][_0x5d102e(0x686)]*0x3c*0x3e8},this['logger'][_0x5d102e(0x582)](this[_0x5d102e(0x71d)]+'\x20('+this['instance'][_0x5d102e(0x4fa)]+_0x5d102e(0x1df)+_0x297958),this[_0x5d102e(0x2f3)](_0x231eb6,_0x297958[_0x5d102e(0x2f6)]),null;}if(_0x27c2ce&&_0x27c2ce[_0x5d102e(0x177)](this[_0x5d102e(0xf9)]?.[_0x5d102e(0x3c1)]['prefixCommand'])&&_0x27c2ce[_0x5d102e(0x401)]>0x4){let _0x1bdb70=await this[_0x5d102e(0x3d9)][_0x5d102e(0x646)][_0x5d102e(0x7a7)]({'where':{'startCommandWord':_0x27c2ce}},this[_0x5d102e(0x68a)][_0x5d102e(0x4fa)]);if(this[_0x5d102e(0xe4)][_0x5d102e(0x582)](this['instanceName']+'\x20('+this['instance'][_0x5d102e(0x4fa)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x1bdb70)_0x231eb6=await this[_0x5d102e(0x340)](_0x1bdb70,_0x22b6bc[_0x5d102e(0x759)],_0x22b6bc);else return this['logger'][_0x5d102e(0x582)](this[_0x5d102e(0x71d)]+'\x20('+this[_0x5d102e(0x68a)][_0x5d102e(0x4fa)]+_0x5d102e(0x5c5)),null;}else _0x231eb6=await this[_0x5d102e(0x7c1)](_0x4d5658,_0x22b6bc);if(_0x231eb6){this[_0x5d102e(0xe4)][_0x5d102e(0x582)](this['instanceName']+'\x20('+this[_0x5d102e(0x68a)]['wuid']+_0x5d102e(0x795)),!_0xb372dc['fromMe']&&_0x231eb6[_0x5d102e(0x6d8)]&&this[_0x5d102e(0x49b)](_0x231eb6);let _0x186f83=await this[_0x5d102e(0x64a)](_0x231eb6);_0x186f83&&await this['processblock'](_0x231eb6,_0x186f83);}}catch(_0x2e8df4){this[_0x5d102e(0xe4)]['error'](this['instanceName']+'\x20('+this['instance'][_0x5d102e(0x4fa)]+_0x5d102e(0x6dc)+(_0x2e8df4 instanceof Error?_0x2e8df4[_0x5d102e(0x50d)]:JSON[_0x5d102e(0x69b)](_0x2e8df4,null,0x2)));}}[a0_0x6e1050(0x63a)](_0x51da20,_0x5a4764='',_0x158d7f={}){const _0x224ac7=a0_0x6e1050;return typeof _0x51da20!=_0x224ac7(0x4c5)||_0x51da20===null?(_0x5a4764&&(_0x158d7f[_0x5a4764]=_0x51da20),_0x158d7f):(Object['entries'](_0x51da20)[_0x224ac7(0x463)](([_0x2a3e00,_0x254b59])=>{const _0x33c738=_0x224ac7;let _0x1bb4db=_0x5a4764?_0x5a4764+'.'+_0x2a3e00:'_'+_0x2a3e00;Array[_0x33c738(0x314)](_0x254b59)?_0x254b59[_0x33c738(0x463)]((_0x46f744,_0x5300d8)=>{this['flattenObject'](_0x46f744,_0x1bb4db+'['+_0x5300d8+']',_0x158d7f);}):typeof _0x254b59==_0x33c738(0x4c5)&&_0x254b59!==null?this[_0x33c738(0x63a)](_0x254b59,_0x1bb4db,_0x158d7f):_0x158d7f[_0x1bb4db]=String(_0x254b59);}),_0x158d7f);}[a0_0x6e1050(0x1d7)](_0x41560f){const _0x2c9756=a0_0x6e1050;let _0x426d6c={};for(let _0x2f557a of _0x41560f)typeof _0x2f557a[_0x2c9756(0x4f4)]==_0x2c9756(0x304)&&typeof _0x2f557a[_0x2c9756(0x237)]==_0x2c9756(0x304)&&(_0x426d6c[_0x2f557a[_0x2c9756(0x4f4)]]=_0x2f557a[_0x2c9756(0x237)]);return _0x426d6c;}async[a0_0x6e1050(0x64a)](_0x2dbcbe){const _0x182ef4=a0_0x6e1050;if(!this[_0x182ef4(0xf9)]?.['flowConfig']['enabled']||_0x2dbcbe[_0x182ef4(0x349)]!==_0x182ef4(0x381)&&_0x2dbcbe[_0x182ef4(0x108)]==='')return null;let _0x195a7a=_0x2dbcbe['chatLog'][_0x182ef4(0x1ac)]||_0x182ef4(0x57d);typeof _0x2dbcbe['chatLog'][_0x182ef4(0x1dd)]>'u'&&(_0x2dbcbe[_0x182ef4(0x638)][_0x182ef4(0x1dd)]=!0x0);let _0xe12e90=_0x2dbcbe[_0x182ef4(0x638)]['lastCondition'];this['logger'][_0x182ef4(0x582)](this[_0x182ef4(0x71d)]+'\x20('+this[_0x182ef4(0x68a)]['wuid']+'):\x20lastBlockId:\x20'+_0x195a7a+_0x182ef4(0x608)+_0xe12e90);let _0x2d4c09=_0x195a7a===_0x182ef4(0x57d)?_0x2dbcbe[_0x182ef4(0x4e5)]['find'](_0x39aefd=>_0x39aefd['type']===_0x182ef4(0x57d)):_0x2dbcbe[_0x182ef4(0x4e5)][_0x182ef4(0x15f)](_0x1a14de=>_0x1a14de[_0x182ef4(0x238)][_0x182ef4(0x16c)]()===_0x195a7a[_0x182ef4(0x16c)]());if(!_0x2d4c09)return this[_0x182ef4(0xe4)]['error'](this[_0x182ef4(0x71d)]+'\x20('+this[_0x182ef4(0x68a)]['wuid']+_0x182ef4(0x36c)+_0x195a7a),null;let _0x3a61d9={'_pushName':_0x2dbcbe?.[_0x182ef4(0x638)]?.[_0x182ef4(0x699)]?.[_0x182ef4(0x5af)]||'',..._0x2dbcbe[_0x182ef4(0x638)][_0x182ef4(0x786)]},_0x1d2379=null;if(_0x2dbcbe[_0x182ef4(0x108)]){let _0x36e50a=_0x2dbcbe[_0x182ef4(0x638)]['lastReceivedMessage'][_0x182ef4(0x270)],_0x24357b=_0x2dbcbe[_0x182ef4(0x21f)]['find'](_0x558cfa=>_0x558cfa[_0x182ef4(0x3b8)]===_0x36e50a);if(_0x24357b){let _0x3145f4=_0x24357b[_0x182ef4(0x1ce)];if(_0x1d2379=_0x2dbcbe[_0x182ef4(0x4e5)][_0x182ef4(0x15f)](_0x45b86b=>_0x45b86b[_0x182ef4(0x309)]===_0x3145f4&&_0x45b86b['order']===0x1),_0x2d4c09[_0x182ef4(0x17a)]['pollOnReplyDelete']){let _0x377bda={'id':_0x2dbcbe[_0x182ef4(0x108)],'remoteJid':_0x2dbcbe[_0x182ef4(0x21b)],'fromMe':!0x0};await this[_0x182ef4(0x51a)](_0x377bda);}if(_0x2d4c09['uazapi'][_0x182ef4(0x1ae)]&&_0x2d4c09[_0x182ef4(0x17a)][_0x182ef4(0x77f)]&&_0x2d4c09[_0x182ef4(0x17a)]['menuType']===_0x182ef4(0x3d1)){let _0x701d18={'number':_0x2dbcbe['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x182ef4(0x790)+_0x2dbcbe[_0x182ef4(0x296)]+_0x182ef4(0x128)+_0x36e50a}};await this[_0x182ef4(0x3c6)](_0x701d18);}_0x2dbcbe[_0x182ef4(0x349)]='open',_0x2dbcbe['waitingMenu_id']='',_0x2dbcbe[_0x182ef4(0x296)]='',_0x2dbcbe['waitingMenu_replyOptions']=[];}else{this[_0x182ef4(0xe4)][_0x182ef4(0x582)](this[_0x182ef4(0x71d)]+'\x20('+this[_0x182ef4(0x68a)]['wuid']+_0x182ef4(0x3c4));let _0x3655f7={'activatedCount':_0x2dbcbe['chatLog'][_0x182ef4(0x268)][_0x182ef4(0x3e3)](_0x463ada=>String(_0x463ada[_0x182ef4(0x3a7)])===String(_0x195a7a))['length'],'moreLogs':[_0x182ef4(0x300)]};if(_0x2d4c09['uazapi'][_0x182ef4(0x5e3)]){let _0x4366c6={'number':_0x2dbcbe[_0x182ef4(0x21b)],'options':{'delay':0x0},'textMessage':{'text':_0x2d4c09[_0x182ef4(0x17a)][_0x182ef4(0x5e3)]}};await this[_0x182ef4(0x3c6)](_0x4366c6);}if(_0x2d4c09[_0x182ef4(0x19b)]!==void 0x0&&_0x3655f7[_0x182ef4(0x4d1)]>=_0x2d4c09[_0x182ef4(0x19b)]){let _0x3fa74b=Date[_0x182ef4(0x631)](),_0x26646d=_0x2d4c09[_0x182ef4(0x622)]??0xa;isNaN(_0x26646d)&&(_0x26646d=0xa);let _0x1c9649=_0x3fa74b+_0x26646d*0x3c*0x3e8;_0x3655f7[_0x182ef4(0x37e)]=_0x1c9649,_0x3655f7[_0x182ef4(0x75c)][_0x182ef4(0x122)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x182ef4(0x2f3)](_0x2dbcbe,_0x1c9649),_0x2dbcbe[_0x182ef4(0x108)]='',_0x2dbcbe[_0x182ef4(0x296)]='',_0x2dbcbe[_0x182ef4(0x21f)]=[];}return this[_0x182ef4(0x3e6)](_0x2dbcbe,_0x2d4c09,_0x3655f7,!0x0),null;}}if(_0xe12e90&&_0x2d4c09['next_groupId']&&!_0x2dbcbe[_0x182ef4(0x108)]){let _0x15769e=_0x2dbcbe['blocks'][_0x182ef4(0x3e3)](_0x50a97b=>_0x50a97b['groupId'][_0x182ef4(0x16c)]()===_0x2d4c09[_0x182ef4(0x1ce)]['toString']())[_0x182ef4(0x683)]((_0x263ba1,_0x25c8ba)=>_0x263ba1['order']-_0x25c8ba[_0x182ef4(0x1fc)]);_0x15769e[_0x182ef4(0x401)]>0x0&&(_0x1d2379=_0x15769e[0x0]);}if(!_0x1d2379){let _0xc28dad=_0x2d4c09[_0x182ef4(0x309)],_0x221c61=_0x2dbcbe['blocks'][_0x182ef4(0x3e3)](_0x47392e=>_0x47392e['groupId']===_0xc28dad&&_0x47392e[_0x182ef4(0x1fc)]>_0x2d4c09['order'])[_0x182ef4(0x683)]((_0xef0bf5,_0x129cbb)=>_0xef0bf5[_0x182ef4(0x1fc)]-_0x129cbb[_0x182ef4(0x1fc)]);_0x221c61['length']>0x0&&(_0x1d2379=_0x221c61[0x0]);}if(!_0x1d2379)return _0x2dbcbe[_0x182ef4(0x349)]=_0x182ef4(0x4d8),null;_0x2dbcbe[_0x182ef4(0x638)][_0x182ef4(0x786)]=_0x3a61d9;let _0x2431d2=JSON[_0x182ef4(0x37b)](JSON[_0x182ef4(0x69b)](_0x1d2379));return this[_0x182ef4(0x5a6)](_0x2431d2,_0x2dbcbe[_0x182ef4(0x638)][_0x182ef4(0x786)]),_0x2dbcbe[_0x182ef4(0x638)][_0x182ef4(0x1ac)]=_0x2431d2[_0x182ef4(0x238)],_0x2dbcbe[_0x182ef4(0x638)]['lastCondition']=!0x0,_0x2431d2;}[a0_0x6e1050(0x34d)](_0x1c82dd,_0x2ef0ab){return _0x1c82dd['replace'](/\{\{([^}]+)\}\}/g,(_0x355fb3,_0x40cae8)=>_0x2ef0ab[_0x40cae8]||'');}[a0_0x6e1050(0x5a6)](_0x13d294,_0x31f118){const _0x3d5bca=a0_0x6e1050;for(let _0x28f6b3 in _0x13d294)typeof _0x13d294[_0x28f6b3]==_0x3d5bca(0x304)?_0x13d294[_0x28f6b3]=this['replaceVariables'](_0x13d294[_0x28f6b3],_0x31f118):typeof _0x13d294[_0x28f6b3]==_0x3d5bca(0x4c5)&&this[_0x3d5bca(0x5a6)](_0x13d294[_0x28f6b3],_0x31f118);}async[a0_0x6e1050(0x3ee)](_0x5da279,_0x1c6889){const _0x12a5cb=a0_0x6e1050;let _0x574c5f=_0x1c6889[_0x12a5cb(0x238)];if(_0x5da279[_0x12a5cb(0x638)]&&_0x5da279['chatLog']['blockLogs']){let _0x4b208a=_0x5da279[_0x12a5cb(0x638)]['blockLogs'][_0x12a5cb(0x3e3)](_0x1cdd75=>String(_0x1cdd75[_0x12a5cb(0x3a7)])===String(_0x574c5f))[_0x12a5cb(0x302)]();if(_0x4b208a&&_0x4b208a[_0x12a5cb(0x7e2)]&&_0x1c6889['stopIfLastReturnedError'])return _0x5da279[_0x12a5cb(0x349)]='closed',await this[_0x12a5cb(0x2cc)](_0x5da279),null;}if(_0x1c6889[_0x12a5cb(0x413)]===_0x12a5cb(0x17a)&&_0x1c6889[_0x12a5cb(0x17a)][_0x12a5cb(0x360)]===_0x12a5cb(0xf1)&&_0x5da279['waitingMenu_id'])return _0x5da279[_0x12a5cb(0x638)]['lastBlockId']=_0x574c5f,await this['saveConversationToDatabase'](_0x5da279),null;let _0x95c58c=await this[_0x12a5cb(0x64a)](_0x5da279);if(_0x5da279[_0x12a5cb(0x638)]&&_0x5da279['chatLog'][_0x12a5cb(0x268)]){let _0x24a9a8=_0x5da279[_0x12a5cb(0x638)][_0x12a5cb(0x268)][_0x12a5cb(0x3e3)](_0x5028ed=>String(_0x5028ed[_0x12a5cb(0x3a7)])===String(_0x574c5f))[_0x12a5cb(0x401)];if(_0x1c6889[_0x12a5cb(0x19b)]!==void 0x0&&_0x24a9a8>=_0x1c6889[_0x12a5cb(0x19b)]){let _0x130d17=Date[_0x12a5cb(0x631)](),_0x42d6c1=_0x1c6889[_0x12a5cb(0x622)]??0xa;isNaN(_0x42d6c1)&&(_0x42d6c1=0xa);let _0x81f103=_0x130d17+_0x42d6c1*0x3c*0x3e8,_0x5e6de3={'newStoppedUntil':_0x81f103};return this['updateStopChat'](_0x5da279,_0x81f103),this['updateConversation'](_0x5da279,_0x1c6889,_0x5e6de3,!0x0),null;}}_0x95c58c&&_0x95c58c[_0x12a5cb(0x413)]!==_0x12a5cb(0x570)&&await this[_0x12a5cb(0x256)](_0x5da279,_0x95c58c),_0x95c58c||await this[_0x12a5cb(0x2cc)](_0x5da279),_0x95c58c&&_0x95c58c['type']===_0x12a5cb(0x570)&&(_0x5da279['chatLog'][_0x12a5cb(0x1ac)]=_0x574c5f,await this[_0x12a5cb(0x2cc)](_0x5da279));}async[a0_0x6e1050(0x256)](_0x7f68ff,_0x46ac03){const _0x30991e=a0_0x6e1050;try{let _0x201c8e=_0x46ac03[_0x30991e(0x413)];this[_0x30991e(0xe4)][_0x30991e(0x582)](this[_0x30991e(0x71d)]+'\x20('+this[_0x30991e(0x68a)][_0x30991e(0x4fa)]+_0x30991e(0x639)+_0x201c8e);let _0xbc0846={'uazapi':()=>this[_0x30991e(0x54e)](_0x7f68ff,_0x46ac03),'save':()=>this[_0x30991e(0x278)](_0x7f68ff,_0x46ac03),'stop':()=>this[_0x30991e(0x2bc)](_0x7f68ff,_0x46ac03),'condition':()=>this[_0x30991e(0x532)](_0x7f68ff,_0x46ac03),'varedit':()=>this[_0x30991e(0x3e2)](_0x7f68ff,_0x46ac03),'apirequest':()=>this['processApiRequest'](_0x7f68ff,_0x46ac03),'goToFlow':()=>this[_0x30991e(0x5a8)](_0x7f68ff,_0x46ac03),'scheduleFlow':()=>this[_0x30991e(0x665)](_0x7f68ff,_0x46ac03),'awaitSeconds':()=>this[_0x30991e(0xef)](_0x7f68ff,_0x46ac03),'clearVariables':()=>this[_0x30991e(0x27d)](_0x7f68ff,_0x46ac03)}[_0x201c8e];_0xbc0846&&await _0xbc0846();}catch(_0x5c62f0){this[_0x30991e(0xe4)][_0x30991e(0x7e2)](this[_0x30991e(0x71d)]+'\x20('+this[_0x30991e(0x68a)][_0x30991e(0x4fa)]+_0x30991e(0x1b9)+(_0x5c62f0 instanceof Error?_0x5c62f0[_0x30991e(0x50d)]:JSON[_0x30991e(0x69b)](_0x5c62f0,null,0x2)));}}async['processawaitSeconds'](_0xd07bc1,_0xbd7a8a){const _0x1e3e0f=a0_0x6e1050;if(this[_0x1e3e0f(0xe4)][_0x1e3e0f(0x582)](this[_0x1e3e0f(0x71d)]+'\x20('+this[_0x1e3e0f(0x68a)][_0x1e3e0f(0x4fa)]+_0x1e3e0f(0x7c3)),!_0xd07bc1||!_0xbd7a8a)return this[_0x1e3e0f(0xe4)]['error'](this[_0x1e3e0f(0x71d)]+'\x20('+this['instance']['wuid']+_0x1e3e0f(0x20a)),null;let _0xf25dda=+_0xbd7a8a[_0x1e3e0f(0x2d8)];isNaN(_0xf25dda)&&(_0xf25dda=0x0),_0xf25dda=Math[_0x1e3e0f(0x43c)](_0xf25dda,0x3c),await(0x0,f[_0x1e3e0f(0x4f1)])(_0xf25dda*0x3e8);let _0x2401f4={'moreLogs':[_0x1e3e0f(0x4e0)+_0xf25dda+'\x20segundos']};return await this[_0x1e3e0f(0x3e6)](_0xd07bc1,_0xbd7a8a,_0x2401f4),_0xf25dda;}async[a0_0x6e1050(0x27d)](_0x47e01c,_0x37e406){const _0x15289d=a0_0x6e1050;if(this[_0x15289d(0xe4)]['verbose'](this['instanceName']+'\x20('+this[_0x15289d(0x68a)][_0x15289d(0x4fa)]+_0x15289d(0x77a)),!_0x47e01c||!_0x37e406)return this[_0x15289d(0xe4)]['error'](this[_0x15289d(0x71d)]+'\x20('+this[_0x15289d(0x68a)][_0x15289d(0x4fa)]+_0x15289d(0x20a)),null;let _0x34f2db=[];if(_0x37e406[_0x15289d(0x2ba)][_0x15289d(0x46e)]()===_0x15289d(0x31c)){let _0xb1d07d=[_0x15289d(0x4f9),_0x15289d(0x687),'_activedCount',_0x15289d(0x2c3),_0x15289d(0x238),_0x15289d(0x521)];_0x34f2db=Object[_0x15289d(0x1be)](_0x47e01c[_0x15289d(0x638)]['realVariables'])[_0x15289d(0x3e3)](_0x2a8225=>_0x2a8225['startsWith']('_')&&!_0xb1d07d['includes'](_0x2a8225));}else _0x34f2db=_0x37e406[_0x15289d(0x2ba)]['split']('|')['map'](_0x2cecaa=>(_0x2cecaa=_0x2cecaa[_0x15289d(0x70d)](/[{}]/g,'')[_0x15289d(0x46e)](),_0x2cecaa[_0x15289d(0x177)]('_')?_0x2cecaa:'_'+_0x2cecaa));let _0xe0ba49=[];_0x34f2db['forEach'](_0x410287=>{const _0x2604a2=_0x15289d;_0x410287 in _0x47e01c['chatLog'][_0x2604a2(0x786)]&&(delete _0x47e01c[_0x2604a2(0x638)][_0x2604a2(0x786)][_0x410287],_0xe0ba49[_0x2604a2(0x122)](_0x410287));}),_0xe0ba49[_0x15289d(0x401)]>0x0?this['logger']['verbose'](this[_0x15289d(0x71d)]+'\x20('+this[_0x15289d(0x68a)][_0x15289d(0x4fa)]+_0x15289d(0x321)+_0xe0ba49['join'](',\x20')):this[_0x15289d(0xe4)][_0x15289d(0x582)](this[_0x15289d(0x71d)]+'\x20('+this[_0x15289d(0x68a)][_0x15289d(0x4fa)]+_0x15289d(0x311));let _0x3acc03={'moreLogs':[_0x15289d(0x213)+_0xe0ba49['join'](',\x20')]};return await this[_0x15289d(0x3e6)](_0x47e01c,_0x37e406,_0x3acc03),null;}async[a0_0x6e1050(0x665)](_0x4109da,_0x1058a7){const _0x29d70f=a0_0x6e1050;if(this[_0x29d70f(0xe4)][_0x29d70f(0x582)](this[_0x29d70f(0x71d)]+'\x20('+this['instance']['wuid']+_0x29d70f(0x2bd)),!_0x4109da||!_0x1058a7)return this[_0x29d70f(0xe4)]['error'](this[_0x29d70f(0x71d)]+'\x20('+this['instance'][_0x29d70f(0x4fa)]+_0x29d70f(0x20a)),null;let _0x199986=_0x4109da[_0x29d70f(0x21b)];_0x1058a7[_0x29d70f(0x6e2)][_0x29d70f(0x21b)]&&_0x1058a7[_0x29d70f(0x6e2)][_0x29d70f(0x21b)][_0x29d70f(0x46e)]()!==''&&(_0x199986=_0x1058a7['uazapi'][_0x29d70f(0x21b)][_0x29d70f(0x46e)]());let _0x37d234=_0x1058a7['scheduleFlow']['timeInMinutes']*0xea60,_0x197ca2=Date['now']()+_0x37d234,_0x643d56={'status':'scheduled','info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x4109da[_0x29d70f(0x4f4)],'remoteJids':[_0x199986],'when':_0x197ca2,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x29d70f(0x646),'flowName':_0x1058a7[_0x29d70f(0x6e2)]['flowName']};this[_0x29d70f(0x7e6)](_0x643d56);let _0x200564=await this[_0x29d70f(0x64a)](_0x4109da);_0x200564&&await this[_0x29d70f(0x256)](_0x4109da,_0x200564);}async[a0_0x6e1050(0x5a8)](_0x1a7273,_0x5aec10){const _0x2faa24=a0_0x6e1050;if(this[_0x2faa24(0xe4)]['verbose'](this[_0x2faa24(0x71d)]+'\x20('+this[_0x2faa24(0x68a)][_0x2faa24(0x4fa)]+_0x2faa24(0x242)),!_0x1a7273||!_0x5aec10)return this['logger']['error'](this[_0x2faa24(0x71d)]+'\x20('+this[_0x2faa24(0x68a)][_0x2faa24(0x4fa)]+_0x2faa24(0x20a)),null;await this['updateConversation'](_0x1a7273,_0x5aec10,{},!0x0,!0x0);let _0x4b1753=_0x5aec10[_0x2faa24(0x125)];_0x1a7273=await this['createConversationforgoToFlow'](_0x4b1753,_0x1a7273[_0x2faa24(0x21b)],_0x1a7273[_0x2faa24(0x638)][_0x2faa24(0x786)]);let _0x30cafe=await this[_0x2faa24(0x64a)](_0x1a7273);_0x30cafe&&await this['processblock'](_0x1a7273,_0x30cafe);}async[a0_0x6e1050(0x72d)](_0x2c8593,_0x591cbc,_0x1c410f){const _0x396e33=a0_0x6e1050;this['logger']['verbose'](this[_0x396e33(0x71d)]+'\x20('+this[_0x396e33(0x68a)][_0x396e33(0x4fa)]+_0x396e33(0x12e));try{if(_0x2c8593=await this[_0x396e33(0x3d9)][_0x396e33(0x646)]['findOne']({'where':{'name':_0x2c8593}},this[_0x396e33(0x68a)][_0x396e33(0x4fa)]),!_0x2c8593)return this[_0x396e33(0xe4)][_0x396e33(0x7e2)](this[_0x396e33(0x71d)]+'\x20('+this[_0x396e33(0x68a)]['wuid']+'):\x20Flow\x20não\x20encontrado'),null;let _0x1b910f=require(_0x396e33(0x199))[_0x396e33(0x377)],_0x2f2dd5=Date[_0x396e33(0x631)](),_0x28de9f=_0x396e33(0x57d),_0x23073b={},_0x450afd={},_0x36de77={..._0x2c8593,'chatLog':null},_0xc2299d={'lastReceivedMessage':_0x23073b,'lastSendMessage':_0x450afd,'lastBlockId':_0x28de9f,'lastCondition':!0x0,'realVariables':_0x1c410f};_0x36de77[_0x396e33(0x638)]=_0xc2299d,_0x36de77[_0x396e33(0x638)][_0x396e33(0x786)]={..._0x1c410f},delete _0x36de77[_0x396e33(0x238)],_0x36de77[_0x396e33(0x238)]=new _0x1b910f(),_0x36de77[_0x396e33(0x307)]=_0x2f2dd5,_0x36de77[_0x396e33(0x349)]=_0x396e33(0x381),_0x36de77[_0x396e33(0x21b)]=_0x591cbc;let _0x5d5e11=await this[_0x396e33(0x3d9)][_0x396e33(0x1c4)][_0x396e33(0x662)](_0x36de77[_0x396e33(0x238)],_0x36de77,this['instance'][_0x396e33(0x4fa)]);return this[_0x396e33(0xe4)][_0x396e33(0x582)](this[_0x396e33(0x71d)]+'\x20('+this[_0x396e33(0x68a)]['wuid']+_0x396e33(0x5d0)),_0x5d5e11?_0x36de77:null;}catch(_0x1950df){let _0x151ad1=_0x396e33(0x649),_0x2cd003=_0x1950df instanceof Error?_0x1950df[_0x396e33(0x50d)]:typeof _0x1950df==_0x396e33(0x4c5)?JSON[_0x396e33(0x69b)](_0x1950df):_0x1950df,_0x3e9694=_0x151ad1+':\x20'+_0x2cd003;throw this['logger']['error'](this[_0x396e33(0x71d)]+'\x20('+this[_0x396e33(0x68a)][_0x396e33(0x4fa)]+'):\x20'+_0x3e9694),new m(_0x3e9694);}}async[a0_0x6e1050(0x449)](_0x4a2ba0,_0x5e93fa){const _0x33ea8b=a0_0x6e1050;let _0x114768,_0x5a9efb;try{let _0x2a30d3=_0x5e93fa[_0x33ea8b(0x652)];if(!_0x2a30d3||!_0x2a30d3[_0x33ea8b(0x53b)]||!_0x2a30d3[_0x33ea8b(0x4fd)])throw new Error(_0x33ea8b(0x48d));let _0x38ecdf;(['https://api.openai.com/v1/audio/speech','https://api.openai.com/v1/images/generations',_0x33ea8b(0x5ad)][_0x33ea8b(0x6ae)](_0x40d7e1=>_0x2a30d3[_0x33ea8b(0x53b)][_0x33ea8b(0x269)](_0x40d7e1))||_0x2a30d3['requestFile'])&&(_0x38ecdf=_0x33ea8b(0x5f2));let _0x33fa0f='\u205f',_0x149740;try{_0x149740=JSON[_0x33ea8b(0x37b)](_0x2a30d3[_0x33ea8b(0x329)][_0x33ea8b(0x70d)](new RegExp(_0x33fa0f,'g'),''));}catch(_0xf35e6b){throw _0xf35e6b;}let _0x417f87={'method':_0x2a30d3[_0x33ea8b(0x4fd)],'url':_0x2a30d3[_0x33ea8b(0x53b)],'headers':_0x2a30d3[_0x33ea8b(0x2c4)]||{},..._0x2a30d3[_0x33ea8b(0x4fd)][_0x33ea8b(0x409)]()!=='GET'&&_0x2a30d3[_0x33ea8b(0x329)]?{'data':JSON[_0x33ea8b(0x37b)](_0x2a30d3[_0x33ea8b(0x329)][_0x33ea8b(0x70d)](new RegExp(_0x33fa0f,'g'),''))}:{},..._0x38ecdf&&{'responseType':_0x38ecdf}},_0x493bb5=await(0x0,Q[_0x33ea8b(0x45f)])(_0x417f87),_0x24d2e7=_0x493bb5[_0x33ea8b(0x123)][_0x33ea8b(0x2d4)];if(_0x24d2e7&&_0x24d2e7[_0x33ea8b(0x269)](_0x33ea8b(0x486))||typeof _0x493bb5[_0x33ea8b(0x183)]==_0x33ea8b(0x304)){if(typeof _0x493bb5[_0x33ea8b(0x183)]==_0x33ea8b(0x304)){let _0x276cb7=_0x493bb5[_0x33ea8b(0x183)][_0x33ea8b(0x70d)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x114768=JSON[_0x33ea8b(0x37b)](_0x276cb7);}catch(_0x551bb5){console[_0x33ea8b(0x7e2)](_0x33ea8b(0x202)+_0x551bb5['message']),_0x114768={'_apiResponse':_0x493bb5['data']};}}else _0x114768=_0x493bb5['data'];let _0x321a90=_0x4a2ba0[_0x33ea8b(0x638)][_0x33ea8b(0x786)],_0x230d36=this['flattenObject'](_0x114768);return Object[_0x33ea8b(0x147)](_0x321a90,_0x230d36),_0x4a2ba0[_0x33ea8b(0x638)][_0x33ea8b(0x786)]=_0x321a90,_0x5a9efb={'error':!0x1,'apiResponse':_0x114768},this[_0x33ea8b(0x3e6)](_0x4a2ba0,_0x5e93fa,_0x5a9efb),_0x114768;}if(_0x24d2e7&&(_0x24d2e7[_0x33ea8b(0x269)](_0x33ea8b(0x5e0))||_0x24d2e7['includes'](_0x33ea8b(0x505))||_0x24d2e7[_0x33ea8b(0x269)](_0x33ea8b(0x7d3))||_0x24d2e7[_0x33ea8b(0x269)](_0x33ea8b(0x33c)))){this['logger']['verbose'](this[_0x33ea8b(0x71d)]+'\x20('+this[_0x33ea8b(0x68a)][_0x33ea8b(0x4fa)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x24d2e7);let _0x1e2e51=(0x0,Ce['v4'])(),_0x397228='',_0x39a25d={'image/jpeg':_0x33ea8b(0x1d8),'image/png':_0x33ea8b(0x518),'image/gif':'.gif','image/webp':_0x33ea8b(0x749),'image/svg+xml':'.svg','audio/mpeg':_0x33ea8b(0x16e),'audio/ogg':_0x33ea8b(0x7cd),'audio/wav':_0x33ea8b(0xd2),'video/mp4':_0x33ea8b(0x339),'video/webm':'.webm','video/ogg':_0x33ea8b(0x343),'text/plain':_0x33ea8b(0x1cf),'application/pdf':_0x33ea8b(0x169),'application/msword':_0x33ea8b(0x3cf),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x33ea8b(0x7b7),'application/vnd.ms-excel':_0x33ea8b(0x781),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x33ea8b(0x5cc),'application/vnd.ms-powerpoint':_0x33ea8b(0x49d),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x33ea8b(0x1c7)};_0x39a25d[_0x24d2e7]?(_0x397228=_0x39a25d[_0x24d2e7],this[_0x33ea8b(0xe4)][_0x33ea8b(0x582)](this[_0x33ea8b(0x71d)]+'\x20('+this['instance'][_0x33ea8b(0x4fa)]+_0x33ea8b(0x5b5)+_0x397228)):(_0x397228=_0x33ea8b(0x279),this[_0x33ea8b(0xe4)]['verbose'](this[_0x33ea8b(0x71d)]+'\x20('+this[_0x33ea8b(0x68a)]['wuid']+_0x33ea8b(0x50e)+_0x397228)),_0x1e2e51+=_0x397228,this[_0x33ea8b(0xe4)]['verbose'](this[_0x33ea8b(0x71d)]+'\x20('+this[_0x33ea8b(0x68a)][_0x33ea8b(0x4fa)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x1e2e51);let _0x3e9799=this[_0x33ea8b(0x7aa)][_0x33ea8b(0x58b)](_0x33ea8b(0x77b))['URL'];if(!_0x3e9799){let _0x3ed8ff=this[_0x33ea8b(0x7aa)][_0x33ea8b(0x58b)](_0x33ea8b(0x762));_0x3e9799=_0x33ea8b(0x347)+(_0x3ed8ff&&_0x3ed8ff[_0x33ea8b(0x4b1)]['split']('/')[0x4]);}let _0x707b4d=Buffer[_0x33ea8b(0x179)](_0x493bb5[_0x33ea8b(0x183)]);await this[_0x33ea8b(0x154)](_0x707b4d,_0x1e2e51);let _0x552639=_0x33ea8b(0x3b0)+_0x1e2e51;_0x552639=''+_0x3e9799+_0x552639,_0x114768={'fileUrl':_0x552639},_0x4a2ba0[_0x33ea8b(0x638)][_0x33ea8b(0x786)][_0x33ea8b(0xde)]=_0x552639;let _0x235638=_0x4a2ba0[_0x33ea8b(0x638)]['realVariables'],_0x48f84b=this[_0x33ea8b(0x63a)](_0x114768);return Object[_0x33ea8b(0x147)](_0x235638,_0x48f84b),_0x4a2ba0[_0x33ea8b(0x638)][_0x33ea8b(0x786)]=_0x235638,_0x5a9efb={'error':!0x1,'apiResponse':{'fileUrl':_0x552639}},this[_0x33ea8b(0x3e6)](_0x4a2ba0,_0x5e93fa,_0x5a9efb),_0x114768;}}catch(_0x244020){console[_0x33ea8b(0x7e2)](_0x33ea8b(0x6a9),_0x244020['message']),_0x244020['response']&&(_0x114768=_0x244020[_0x33ea8b(0x678)][_0x33ea8b(0x183)]);let _0x51f289=_0x4a2ba0[_0x33ea8b(0x638)]['realVariables'],_0x59b2c5=this[_0x33ea8b(0x63a)](_0x114768);return Object[_0x33ea8b(0x147)](_0x51f289,_0x59b2c5),_0x4a2ba0[_0x33ea8b(0x638)]['realVariables']=_0x51f289,_0x5a9efb={'error':!0x0,'errorLog':_0x244020[_0x33ea8b(0x16c)](),'apiResponse':_0x114768},this[_0x33ea8b(0x3e6)](_0x4a2ba0,_0x5e93fa,_0x5a9efb),{'success':!0x1};}}[a0_0x6e1050(0x3c5)](_0x2257d1,_0x96de2a){const _0xec1aab=a0_0x6e1050;let _0x586f81=_0x40ce57=>{const _0x33023c=a0_0x5953;let _0x3f5b85=_0x40ce57['replace'](/[^0-9.,-]/g,'')[_0x33023c(0x70d)](',','.'),_0x423fe3=parseFloat(_0x3f5b85);return isNaN(_0x423fe3)?null:_0x423fe3;},_0x2f47e3=_0x96de2a['firstValue'],_0x3254fd=_0x96de2a['secondValue'];typeof _0x2f47e3==_0xec1aab(0x304)&&(_0x2f47e3=this[_0xec1aab(0x34d)](_0x2f47e3,_0x2257d1[_0xec1aab(0x638)][_0xec1aab(0x786)])??''),typeof _0x3254fd==_0xec1aab(0x304)&&(_0x3254fd=this[_0xec1aab(0x34d)](_0x3254fd,_0x2257d1['chatLog'][_0xec1aab(0x786)])??'');let _0x4e6f01=null;if(!_0x96de2a[_0xec1aab(0x368)])return null;switch(this[_0xec1aab(0xe4)][_0xec1aab(0x582)](this[_0xec1aab(0x71d)]+'\x20('+this['instance'][_0xec1aab(0x4fa)]+_0xec1aab(0x5a2)+_0x2f47e3),this[_0xec1aab(0xe4)][_0xec1aab(0x582)](this[_0xec1aab(0x71d)]+'\x20('+this['instance'][_0xec1aab(0x4fa)]+_0xec1aab(0xee)+_0x3254fd),_0x96de2a[_0xec1aab(0x368)]){case'+':case'-':case'*':case'/':let _0x2b6dad=_0x586f81(_0x2f47e3||'0'),_0x54999a=_0x586f81(_0x3254fd||'0');if(_0x2b6dad===null)return null;switch(_0x96de2a['editOperator']){case'+':_0x4e6f01=_0x2b6dad+(_0x54999a??0x0);break;case'-':_0x4e6f01=_0x2b6dad-(_0x54999a??0x0);break;case'*':_0x4e6f01=_0x2b6dad*(_0x54999a??0x1);break;case'/':_0x54999a!==0x0&&(_0x4e6f01=_0x2b6dad/(_0x54999a??0x1));break;}break;case _0xec1aab(0x57f):case _0xec1aab(0x670):let _0x44e7d7=_0x3254fd,_0x52ea2d=_0x96de2a['replaceValue'];if(typeof _0x52ea2d==_0xec1aab(0x304)&&(_0x52ea2d=this['replaceVariables'](_0x52ea2d,_0x2257d1['chatLog'][_0xec1aab(0x786)])??''),_0x44e7d7&&_0x52ea2d!==void 0x0){let _0x103ff4=_0x96de2a['editOperator']===_0xec1aab(0x57f)?new RegExp(_0x44e7d7[_0xec1aab(0x70d)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x44e7d7,'g');_0x4e6f01=_0x2f47e3['replace'](_0x103ff4,_0x52ea2d);}else console[_0xec1aab(0x488)](_0xec1aab(0x6c3));break;case _0xec1aab(0x5e7):_0x4e6f01=_0x3254fd;break;case _0xec1aab(0x158):let _0x5f04ac=_0x2f47e3[_0xec1aab(0x2d9)](new RegExp(_0x3254fd||''));_0x4e6f01=_0x5f04ac?_0x5f04ac[0x0]:'';break;case _0xec1aab(0x397):_0x4e6f01=_0x2f47e3['slice'](0x0,parseInt(_0x3254fd||'0'));break;case _0xec1aab(0x61a):let _0x22e7e7=parseInt(_0x3254fd||'0');_0x4e6f01=_0x2f47e3[_0xec1aab(0x5be)](_0x2f47e3[_0xec1aab(0x401)]-_0x22e7e7);break;case _0xec1aab(0x47f):let _0x2e2da0=_0x586f81(_0x2f47e3),_0x2bd86e=parseInt(_0x3254fd||'0');_0x2bd86e=Math['abs'](_0x2bd86e),_0x2e2da0!==null?_0x4e6f01=_0x2e2da0['toLocaleString'](_0xec1aab(0x3ce),{'minimumFractionDigits':_0x2bd86e,'maximumFractionDigits':_0x2bd86e}):(console[_0xec1aab(0x488)](_0xec1aab(0x434)+_0x2f47e3),_0x4e6f01=null);break;case _0xec1aab(0x106):let _0x5f358a=_0x586f81(_0x2f47e3);_0x5f358a!==null?_0x4e6f01=_0x5f358a[_0xec1aab(0x2f5)](_0xec1aab(0x3ce),{'style':_0xec1aab(0x453),'currency':_0xec1aab(0x672)}):(console[_0xec1aab(0x488)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x2f47e3),_0x4e6f01=null);break;case _0xec1aab(0x528):_0x4e6f01=_0x2f47e3[_0xec1aab(0x409)]();break;case _0xec1aab(0x200):_0x4e6f01=_0x2f47e3[_0xec1aab(0x1a4)]();break;case _0xec1aab(0x1fa):_0x4e6f01=_0x2f47e3[_0xec1aab(0x4c3)]('\x20')[_0xec1aab(0x4bf)](_0x1d9e32=>_0x1d9e32[_0xec1aab(0x73f)](0x0)[_0xec1aab(0x409)]()+_0x1d9e32[_0xec1aab(0x5be)](0x1)[_0xec1aab(0x1a4)]())[_0xec1aab(0x283)]('\x20');break;case'trimmed':_0x4e6f01=_0x2f47e3[_0xec1aab(0x46e)]();break;default:_0x4e6f01=_0x2f47e3;}return _0x4e6f01!==null?_0x4e6f01[_0xec1aab(0x16c)]():null;}async['processvaredits'](_0xfebc0d,_0x34e119){const _0x208534=a0_0x6e1050;try{let _0x5d9f32=_0xfebc0d[_0x208534(0x529)]?.[_0x208534(0x3e3)](_0x19fbf3=>_0x19fbf3[_0x208534(0x3a7)]===_0x34e119[_0x208534(0x238)]?.[_0x208534(0x16c)]())||[],_0x279868=_0x34e119[_0x208534(0x20d)],_0x11e101=null,_0x2429c3=[],_0x388f32=_0xfebc0d[_0x208534(0x638)][_0x208534(0x786)][_0x279868];_0x2429c3[_0x208534(0x122)](_0x208534(0x30a)+_0x388f32+'\x22');for(let _0x55f2ee of _0x5d9f32){_0x55f2ee['firstValue']=_0x388f32,_0x11e101=_0x55f2ee['firstValue'];let _0x1d0ed2;try{_0x1d0ed2=this[_0x208534(0x3c5)](_0xfebc0d,_0x55f2ee);}catch(_0x392b17){console[_0x208534(0x7e2)](_0x208534(0x7dc)+_0x392b17[_0x208534(0x50d)]);continue;}if(_0x1d0ed2!==null){let _0x777548='Operador:\x20\x22'+_0x55f2ee['editOperator']+'\x22',_0x10fd05=[_0x208534(0x106),_0x208534(0x528),'lowerCase','capitalizedWords',_0x208534(0x217)];_0x55f2ee['editOperator']===_0x208534(0x57f)||_0x55f2ee[_0x208534(0x368)]===_0x208534(0x670)?_0x777548+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x55f2ee[_0x208534(0x733)]+_0x208534(0x711)+_0x55f2ee[_0x208534(0x4a0)]+'\x22':!_0x10fd05['includes'](_0x55f2ee[_0x208534(0x368)])&&_0x55f2ee[_0x208534(0x733)]!==null&&_0x55f2ee[_0x208534(0x733)]!==void 0x0&&(_0x777548+=',\x20valor\x20passado:\x20\x22'+_0x55f2ee[_0x208534(0x733)]+'\x22'),_0x777548+=',\x20resultado:\x20'+_0x1d0ed2+'.',_0x2429c3[_0x208534(0x122)](_0x777548);}_0x1d0ed2!==null&&(_0x388f32=_0x1d0ed2);}if(_0xfebc0d[_0x208534(0x638)][_0x208534(0x786)]&&_0x34e119[_0x208534(0x20d)]){_0xfebc0d[_0x208534(0x638)][_0x208534(0x786)][_0x34e119['saveVariable']]=_0x388f32;let _0x41741f={'variable':_0x34e119[_0x208534(0x20d)],'oldValue':_0x11e101,'newValue':_0x388f32,'moreLogs':_0x2429c3};try{this[_0x208534(0x3e6)](_0xfebc0d,_0x34e119,_0x41741f);}catch(_0x2719d8){console[_0x208534(0x7e2)](_0x208534(0x74b)+_0x2719d8[_0x208534(0x50d)]);}}return _0x279868;}catch(_0x53513e){return console['error'](_0x208534(0x228)+_0x53513e[_0x208534(0x50d)]),null;}}async[a0_0x6e1050(0x532)](_0x16d391,_0x5ef97c){const _0x4cb5dc=a0_0x6e1050;try{let _0x9dcb09=[],_0x548006=_0x16d391[_0x4cb5dc(0x26e)][_0x4cb5dc(0x3e3)](_0x83cc63=>_0x83cc63['blockId']===_0x5ef97c[_0x4cb5dc(0x238)]['toString']()),_0x14a19f=null,_0x44aa02=!0x1;for(let _0x3482ef of _0x548006){let _0x5c5975=this[_0x4cb5dc(0xdf)](_0x16d391,_0x3482ef);_0x9dcb09['push']('Primeiro\x20Valor:\x20'+_0x3482ef['firstValue']+_0x4cb5dc(0x658)+_0x3482ef['expression']+',\x20Segundo\x20Valor:\x20'+_0x3482ef[_0x4cb5dc(0x733)]+_0x4cb5dc(0x265)+_0x5c5975),_0x14a19f===null?_0x14a19f=_0x5c5975:_0x3482ef[_0x4cb5dc(0x1ec)]==='and'?(_0x14a19f=_0x14a19f&&_0x5c5975,_0x5c5975||(_0x44aa02=!0x0)):_0x3482ef[_0x4cb5dc(0x1ec)]==='or'&&(_0x44aa02||(_0x14a19f=_0x14a19f||_0x5c5975));}_0x14a19f===null&&(_0x14a19f=!0x0);let _0xc31563={'moreLogs':_0x9dcb09};_0x16d391[_0x4cb5dc(0x638)]['lastCondition']=_0x14a19f,await this[_0x4cb5dc(0x3e6)](_0x16d391,_0x5ef97c,_0xc31563);}catch(_0xc0016e){this['logger'][_0x4cb5dc(0x7e2)](this['instanceName']+'\x20('+this[_0x4cb5dc(0x68a)]['wuid']+_0x4cb5dc(0x22b)+(_0xc0016e instanceof Error?_0xc0016e[_0x4cb5dc(0x50d)]:JSON[_0x4cb5dc(0x69b)](_0xc0016e,null,0x2)));}}[a0_0x6e1050(0xdf)](_0x53e507,_0x474b4a){const _0x1d5a5b=a0_0x6e1050;let _0x5226b5=_0x474b4a[_0x1d5a5b(0x457)],_0xa5305b=_0x474b4a[_0x1d5a5b(0x733)];typeof _0x5226b5==_0x1d5a5b(0x304)&&(_0x5226b5=this[_0x1d5a5b(0x34d)](_0x5226b5,_0x53e507[_0x1d5a5b(0x638)]['realVariables'])??''),typeof _0xa5305b==_0x1d5a5b(0x304)&&(_0xa5305b=this['replaceVariables'](_0xa5305b,_0x53e507[_0x1d5a5b(0x638)][_0x1d5a5b(0x786)])??'');try{switch(_0x474b4a[_0x1d5a5b(0x303)]){case _0x1d5a5b(0x541):return _0x5226b5===_0xa5305b;case _0x1d5a5b(0x150):return _0x5226b5!==_0xa5305b;case _0x1d5a5b(0x63e):return this['contains'](_0x5226b5,_0xa5305b);case _0x1d5a5b(0x359):return!this[_0x1d5a5b(0x63e)](_0x5226b5,_0xa5305b);case _0x1d5a5b(0x3a0):return parseFloat(_0x5226b5)>parseFloat(_0xa5305b);case'less':return parseFloat(_0x5226b5)<parseFloat(_0xa5305b);case _0x1d5a5b(0x3d0):return _0x5226b5!=='';case'empty':return _0x5226b5==='';case _0x1d5a5b(0x6bf):return new RegExp(_0xa5305b)['test'](_0x5226b5);case _0x1d5a5b(0x333):return!new RegExp(_0xa5305b)[_0x1d5a5b(0x12d)](_0x5226b5);default:return!0x1;}}catch(_0x491752){return console[_0x1d5a5b(0x7e2)](_0x1d5a5b(0x4f0)+_0x491752),!0x1;}}[a0_0x6e1050(0x63e)](_0x26ae15,_0x244819){const _0x54f9c8=a0_0x6e1050;if(_0x26ae15===_0x244819&&/^\d+$/[_0x54f9c8(0x12d)](_0x26ae15))return!0x0;if(this['isListOfNumbers'](_0x26ae15)&&/^\d+$/[_0x54f9c8(0x12d)](_0x244819)){let _0xb3ac20=_0x26ae15[_0x54f9c8(0x4c3)](',')['map'](_0x228309=>parseInt(_0x228309[_0x54f9c8(0x46e)]())),_0x3ed648=parseInt(_0x244819);return _0xb3ac20[_0x54f9c8(0x269)](_0x3ed648);}return _0x26ae15[_0x54f9c8(0x269)](_0x244819);}[a0_0x6e1050(0x508)](_0x14ee3f){const _0x20f475=a0_0x6e1050;return/^\d+(,\d+)*$/[_0x20f475(0x12d)](_0x14ee3f);}['processConditionsTest'](_0x2d80d5){const _0x3f6e36=a0_0x6e1050;let _0x531089=!0x0,_0x49dbdd=null;for(let _0x40e930 of _0x2d80d5){let _0x50c759=this['evaluateConditionTest'](_0x40e930);if(_0x49dbdd==='or'&&_0x50c759){_0x531089=!0x0;break;}if(_0x49dbdd==='and'&&!_0x50c759){_0x531089=!0x1;break;}_0x49dbdd=_0x40e930[_0x3f6e36(0x1ec)];}return _0x531089;}[a0_0x6e1050(0x5a1)](_0x2ea2f9){const _0x101b4a=a0_0x6e1050;let _0x769060=_0x2ea2f9[_0x101b4a(0x457)],_0x55ddd8=_0x2ea2f9[_0x101b4a(0x733)];try{switch(_0x2ea2f9[_0x101b4a(0x303)]){case'equal':return String(_0x769060)===String(_0x55ddd8);case _0x101b4a(0x150):return String(_0x769060)!==String(_0x55ddd8);case _0x101b4a(0x63e):return String(_0x769060)[_0x101b4a(0x269)](String(_0x55ddd8));case _0x101b4a(0x359):return!String(_0x769060)[_0x101b4a(0x269)](String(_0x55ddd8));case _0x101b4a(0x3a0):return parseFloat(String(_0x769060))>parseFloat(String(_0x55ddd8));case'less':return parseFloat(String(_0x769060))<parseFloat(String(_0x55ddd8));case _0x101b4a(0x3d0):return String(_0x769060)!=='';case _0x101b4a(0x5ef):return String(_0x769060)==='';case'matchRegex':return new RegExp(String(_0x55ddd8))[_0x101b4a(0x12d)](String(_0x769060));case _0x101b4a(0x333):return!new RegExp(String(_0x55ddd8))[_0x101b4a(0x12d)](String(_0x769060));default:return!0x1;}}catch(_0x1cf0c5){return console[_0x101b4a(0x7e2)](_0x101b4a(0x4f0)+_0x1cf0c5),!0x1;}}async['saveTextReply'](_0x8e64c,_0x534b15){const _0xd7b95a=a0_0x6e1050;if(this['logger'][_0xd7b95a(0x582)](this[_0xd7b95a(0x71d)]+'\x20('+this[_0xd7b95a(0x68a)]['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x8e64c||!_0x534b15)return this[_0xd7b95a(0xe4)]['error'](this['instanceName']+'\x20('+this[_0xd7b95a(0x68a)][_0xd7b95a(0x4fa)]+_0xd7b95a(0x20a)),null;let _0xadd95=_0x8e64c[_0xd7b95a(0x638)][_0xd7b95a(0x699)][_0xd7b95a(0x759)]['id'];this['logger'][_0xd7b95a(0x582)](this[_0xd7b95a(0x71d)]+'\x20('+this[_0xd7b95a(0x68a)][_0xd7b95a(0x4fa)]+'):\x20mediaMessageInfoId\x20:\x20'+_0xadd95);let _0x360c88={'key':{'id':_0xadd95}},_0xa95fa5=_0x534b15[_0xd7b95a(0x20d)];_0x8e64c[_0xd7b95a(0x638)][_0xd7b95a(0x786)]['_'+_0xa95fa5+_0xd7b95a(0x537)]=null,_0x8e64c[_0xd7b95a(0x638)][_0xd7b95a(0x786)]['_'+_0xa95fa5+_0xd7b95a(0x498)]=null,_0x8e64c['chatLog']['realVariables']['_'+_0xa95fa5+'.extension']=null,_0x8e64c['chatLog'][_0xd7b95a(0x786)]['_'+_0xa95fa5+'.type']=_0x8e64c[_0xd7b95a(0x638)]['lastReceivedMessage'][_0xd7b95a(0x413)];try{let _0xacc6b4=await this[_0xd7b95a(0x745)](_0x360c88);this[_0xd7b95a(0xe4)][_0xd7b95a(0x582)](this[_0xd7b95a(0x71d)]+'\x20('+this['instance']['wuid']+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x8e64c[_0xd7b95a(0x638)][_0xd7b95a(0x786)]['_'+_0xa95fa5+_0xd7b95a(0x661)]=_0xacc6b4[_0xd7b95a(0xde)],_0x8e64c[_0xd7b95a(0x638)][_0xd7b95a(0x786)]['_'+_0xa95fa5+_0xd7b95a(0x498)]=_0xacc6b4[_0xd7b95a(0xd3)];let _0x2e8690=_0xacc6b4['mimetype'][_0xd7b95a(0x2d9)](/\/(\w+)$/),_0xe46bbf=_0x2e8690?_0x2e8690[0x1]:null;_0x8e64c['chatLog'][_0xd7b95a(0x786)]['_'+_0xa95fa5+_0xd7b95a(0x744)]=_0xe46bbf,this[_0xd7b95a(0xe4)][_0xd7b95a(0x582)](this[_0xd7b95a(0x71d)]+'\x20('+this['instance'][_0xd7b95a(0x4fa)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0xa95fa5+'\x27.');}catch(_0x454390){this[_0xd7b95a(0xe4)][_0xd7b95a(0x7e2)](this[_0xd7b95a(0x71d)]+'\x20('+this['instance'][_0xd7b95a(0x4fa)]+_0xd7b95a(0x4a9)+_0x454390);}let _0x44b23a=_0x8e64c[_0xd7b95a(0x638)][_0xd7b95a(0x699)][_0xd7b95a(0x654)]||_0x8e64c[_0xd7b95a(0x638)][_0xd7b95a(0x699)][_0xd7b95a(0x31d)]||_0x8e64c['chatLog'][_0xd7b95a(0x699)][_0xd7b95a(0x270)];try{_0x8e64c[_0xd7b95a(0x638)]['realVariables']||(_0x8e64c[_0xd7b95a(0x638)][_0xd7b95a(0x786)]={});let _0x2eefd4=_0x8e64c['chatLog']['realVariables'][_0xa95fa5];_0x8e64c['chatLog'][_0xd7b95a(0x786)][_0xa95fa5]=_0x44b23a;let _0x1727df={'variable':_0xa95fa5,'oldValue':_0x2eefd4,'newValue':_0x44b23a};this[_0xd7b95a(0x3e6)](_0x8e64c,_0x534b15,_0x1727df),this[_0xd7b95a(0xe4)][_0xd7b95a(0x582)](this[_0xd7b95a(0x71d)]+'\x20('+this[_0xd7b95a(0x68a)]['wuid']+_0xd7b95a(0x350));}catch(_0x4458cb){let _0x1ec391={'error':!0x0,'errorLog':_0x4458cb[_0xd7b95a(0x16c)]()};return this['updateConversation'](_0x8e64c,_0x534b15,_0x1ec391),this['logger'][_0xd7b95a(0x7e2)](this[_0xd7b95a(0x71d)]+'\x20('+this[_0xd7b95a(0x68a)][_0xd7b95a(0x4fa)]+_0xd7b95a(0x2c1)+(_0x4458cb instanceof Error?_0x4458cb[_0xd7b95a(0x50d)]:JSON[_0xd7b95a(0x69b)](_0x4458cb,null,0x2))),null;}}async['stopConversation'](_0x271aae,_0x259779){const _0x46b152=a0_0x6e1050;if(this[_0x46b152(0xe4)][_0x46b152(0x582)](this['instanceName']+'\x20('+this[_0x46b152(0x68a)][_0x46b152(0x4fa)]+_0x46b152(0x163)),!_0x271aae||!_0x259779)return this['logger'][_0x46b152(0x7e2)](this[_0x46b152(0x71d)]+'\x20('+this[_0x46b152(0x68a)][_0x46b152(0x4fa)]+_0x46b152(0x20a)),null;let _0x228fc4=Date[_0x46b152(0x631)](),_0x46e15d=parseInt(_0x259779[_0x46b152(0x686)],0xa);if(isNaN(_0x46e15d))return this[_0x46b152(0xe4)][_0x46b152(0x7e2)](this[_0x46b152(0x71d)]+'\x20('+this['instance']['wuid']+_0x46b152(0x6ac)),null;let _0x2e5a45={'newStoppedUntil':_0x228fc4+_0x46e15d*0x3c*0x3e8};return await this['updateConversation'](_0x271aae,_0x259779,_0x2e5a45,!0x0),null;}async['processUazapi'](_0x3d54e8,_0x42c923){const _0x9b17a=a0_0x6e1050;try{switch(_0x42c923[_0x9b17a(0x17a)][_0x9b17a(0x360)]){case'sendText':await this[_0x9b17a(0x67c)](_0x3d54e8,_0x42c923);break;case _0x9b17a(0x740):await this['uazapiSendMedia'](_0x3d54e8,_0x42c923);break;case _0x9b17a(0x635):await this['uazapiSendLocation'](_0x3d54e8,_0x42c923);break;case _0x9b17a(0x298):await this[_0x9b17a(0x492)](_0x3d54e8,_0x42c923);break;case _0x9b17a(0x2b8):await this[_0x9b17a(0x6b5)](_0x3d54e8,_0x42c923);break;case _0x9b17a(0xf1):await this[_0x9b17a(0x4a6)](_0x3d54e8,_0x42c923);break;case'sendMenu':await this['uazapiSendMenu'](_0x3d54e8,_0x42c923);break;case _0x9b17a(0x51a):await this[_0x9b17a(0x63f)](_0x3d54e8,_0x42c923);break;default:this[_0x9b17a(0xe4)]['error'](this[_0x9b17a(0x71d)]+'\x20('+this[_0x9b17a(0x68a)][_0x9b17a(0x4fa)]+_0x9b17a(0x6d9)+_0x42c923[_0x9b17a(0x17a)]['command']);}}catch(_0x13b2f4){this[_0x9b17a(0xe4)][_0x9b17a(0x7e2)](this['instanceName']+'\x20('+this[_0x9b17a(0x68a)][_0x9b17a(0x4fa)]+_0x9b17a(0x1f6)+(_0x13b2f4 instanceof Error?_0x13b2f4[_0x9b17a(0x50d)]:JSON[_0x9b17a(0x69b)](_0x13b2f4,null,0x2)));}}async[a0_0x6e1050(0x3e6)](_0x5e7c76,_0x130135,_0x1fdb9c,_0x2a4cd3=!0x1,_0x3a49f3=!0x1){const _0x4558de=a0_0x6e1050;_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x268)]||(_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x268)]=[]);let _0x3833ab=(_0x5e7c76[_0x4558de(0x638)]['blockLogs']?.['length']??0x0)+0x1,_0xa8bdbd=_0x5e7c76[_0x4558de(0x638)]['blockLogs']['filter'](_0x38f076=>String(_0x38f076[_0x4558de(0x3a7)])===String(_0x130135['_id']))['length']+0x1,_0x2bcb09=_0x1fdb9c?.[_0x4558de(0x384)]??Date[_0x4558de(0x631)](),_0x47072e=_0x1fdb9c?.[_0x4558de(0x7e2)]?_0x1fdb9c[_0x4558de(0x74d)]??_0x1fdb9c[_0x4558de(0x7e2)]['toString']():void 0x0,_0x77bbc={'onTime':_0x2bcb09,'blockId':_0x130135[_0x4558de(0x238)],'order':_0x3833ab,'activatedCount':_0xa8bdbd,'error':_0x1fdb9c?.[_0x4558de(0x7e2)]??!0x1,'messageId':_0x1fdb9c?.[_0x4558de(0x443)],'apiResponse':_0x1fdb9c?.[_0x4558de(0x4d5)],'apiResponseString':_0x1fdb9c?.[_0x4558de(0x4d5)]?JSON[_0x4558de(0x69b)](_0x1fdb9c?.['apiResponse']):void 0x0,'variable':_0x1fdb9c?.[_0x4558de(0x7ca)],'oldValue':_0x1fdb9c?.['oldValue'],'newValue':_0x1fdb9c?.[_0x4558de(0x7a4)],'newStoppedUntil':_0x1fdb9c?.[_0x4558de(0x37e)],'moreLogs':_0x1fdb9c?.['moreLogs'],'errorLog':_0x47072e};if(_0x1fdb9c[_0x4558de(0x75c)]&&_0x1fdb9c[_0x4558de(0x75c)][_0x4558de(0x401)]>0x0){let _0x19663d=_0x1fdb9c[_0x4558de(0x75c)][_0x4558de(0x4bf)](_0x20f2df=>this['replaceVariablesLogs'](_0x20f2df,_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x786)]));_0x77bbc[_0x4558de(0x75c)]=_0x19663d;}if(_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x786)]||(_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x786)]={}),_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x786)]['_activatedCount']=String(_0xa8bdbd),_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x786)][_0x4558de(0x687)]=String(_0x1fdb9c[_0x4558de(0x7e2)]??!0x1),_0x5e7c76['chatLog'][_0x4558de(0x268)]['push'](_0x77bbc),_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x786)][_0x4558de(0x352)]&&_0x5e7c76[_0x4558de(0x638)]['realVariables'][_0x4558de(0x352)]!==_0x5e7c76[_0x4558de(0x21b)]){let _0xe07361=(await this[_0x4558de(0x316)]({'numbers':[_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x786)][_0x4558de(0x352)]]}))[0x0][_0x4558de(0x379)];_0x5e7c76['chatLog'][_0x4558de(0x786)][_0x4558de(0x352)]=_0xe07361,_0x5e7c76[_0x4558de(0x21b)]=_0xe07361;try{let _0x4b2b67={'_id':{'$ne':_0x5e7c76['_id']},'remoteJid':_0xe07361,'status':_0x4558de(0x381)},_0x4d25a6={'status':_0x4558de(0x4d8)};await this[_0x4558de(0x3d9)]['flowConversation'][_0x4558de(0x782)](_0x4b2b67,_0x4d25a6,this['instance']['wuid']),this['logger'][_0x4558de(0x582)](this[_0x4558de(0x71d)]+'\x20('+this[_0x4558de(0x68a)][_0x4558de(0x4fa)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x3d3d44){this['logger']['error'](this[_0x4558de(0x71d)]+'\x20('+this[_0x4558de(0x68a)][_0x4558de(0x4fa)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x3d3d44[_0x4558de(0x50d)]);}try{let _0xa7111c=_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x786)],_0x30806d=await this[_0x4558de(0x373)](_0xe07361),_0x333796={..._0xa7111c,..._0x30806d,'_remoteJid':_0xe07361};_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x786)]=_0x333796;}catch(_0x36344e){this[_0x4558de(0xe4)][_0x4558de(0x7e2)](this['instanceName']+'\x20('+this[_0x4558de(0x68a)][_0x4558de(0x4fa)]+_0x4558de(0x4e1)+_0x36344e[_0x4558de(0x50d)]);}}_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x1ac)]=_0x130135['_id'][_0x4558de(0x16c)](),_0x5e7c76[_0x4558de(0x638)]['lastSendMessage']&&(_0x5e7c76['chatLog'][_0x4558de(0x2fd)]=_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x2fd)]),_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x699)]&&(_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x699)]=_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x699)]),_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x1dd)]&&(_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x1dd)]=_0x5e7c76[_0x4558de(0x638)][_0x4558de(0x1dd)]),_0x3a49f3&&(_0x5e7c76[_0x4558de(0x349)]=_0x4558de(0x4d8)),_0x2a4cd3?this['saveConversationToDatabase'](_0x5e7c76):this['goNextblock'](_0x5e7c76,_0x130135);}[a0_0x6e1050(0x12c)](_0x310ad9,_0x10eb8a){const _0x27622d=a0_0x6e1050;return _0x310ad9[_0x27622d(0x70d)](/\{\{([^}]+)\}\}/g,(_0x44e1f7,_0xdd1c86)=>_0x10eb8a[_0xdd1c86]?'{{'+_0xdd1c86+'}}\x20->\x20\x22'+_0x10eb8a[_0xdd1c86]+'\x22':'{{'+_0xdd1c86+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x6e1050(0x2cc)](_0x16e4b4){const _0x100f51=a0_0x6e1050;try{let _0xc55e49=Object[_0x100f51(0x788)](_0x16e4b4[_0x100f51(0x638)][_0x100f51(0x786)])['map'](([_0x2e47d9,_0x28d9f0])=>({'name':_0x2e47d9,'value':_0x28d9f0})),_0x34971b={'status':_0x16e4b4[_0x100f51(0x349)],'remoteJid':_0x16e4b4['remoteJid'],'blocks':_0x16e4b4['blocks'],'waitingMenu_id':_0x16e4b4[_0x100f51(0x108)],'waitingMenu_text':_0x16e4b4[_0x100f51(0x296)],'waitingMenu_replyOptions':_0x16e4b4['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x16e4b4[_0x100f51(0x638)][_0x100f51(0x1ac)],'lastSendMessage':_0x16e4b4[_0x100f51(0x638)][_0x100f51(0x2fd)],'lastReceivedMessage':_0x16e4b4['chatLog'][_0x100f51(0x699)],'lastCondition':_0x16e4b4['chatLog'][_0x100f51(0x1dd)],'chatVariables':_0xc55e49,'realVariables':_0x16e4b4['chatLog']['realVariables'],'blockLogs':_0x16e4b4[_0x100f51(0x638)][_0x100f51(0x268)]}},_0x33b334=await this['repository'][_0x100f51(0x1c4)][_0x100f51(0x662)](_0x16e4b4[_0x100f51(0x238)],_0x34971b,this[_0x100f51(0x68a)][_0x100f51(0x4fa)]);if(_0x33b334){this[_0x100f51(0xe4)]['verbose'](this['instanceName']+'\x20('+this[_0x100f51(0x68a)]['wuid']+_0x100f51(0xfd)+_0x33b334[_0x100f51(0x238)]);try{let _0x385f01=[_0x100f51(0x71f),_0x100f51(0x111),_0x100f51(0x390),_0x100f51(0x48b),_0x100f51(0x349),_0x100f51(0x68c),'responsavelid',_0x100f51(0x32c),_0x100f51(0x25f),_0x100f51(0x2d6)];if(!this[_0x100f51(0xf9)]&&(await this[_0x100f51(0x2f4)](),!this[_0x100f51(0xf9)]))throw new Error(_0x100f51(0x2a9));let _0x2a47b0=this[_0x100f51(0xf9)]?.[_0x100f51(0x685)][_0x100f51(0x4bf)](_0x31e717=>_0x31e717[_0x100f51(0x4f4)]),_0x49befa={};Object['entries'](_0x16e4b4[_0x100f51(0x638)][_0x100f51(0x786)])[_0x100f51(0x463)](([_0x55dae3,_0x2273c2])=>{const _0x1193a1=_0x100f51;_0x385f01[_0x1193a1(0x269)](_0x55dae3)&&(_0x55dae3===_0x1193a1(0x32c)&&typeof _0x2273c2==_0x1193a1(0x304)?_0x49befa[_0x55dae3]=_0x2273c2[_0x1193a1(0x4c3)](',')[_0x1193a1(0x4bf)](_0x3da87b=>_0x3da87b[_0x1193a1(0x46e)]())['filter'](_0x26ef11=>_0x26ef11!==''):_0x55dae3===_0x1193a1(0x25f)&&typeof _0x2273c2==_0x1193a1(0x304)?_0x49befa[_0x55dae3]=_0x2273c2[_0x1193a1(0x4c3)](',')[_0x1193a1(0x4bf)](_0x2ceff1=>_0x2ceff1[_0x1193a1(0x46e)]())['filter'](_0x3a93ac=>_0x3a93ac!==''):_0x49befa[_0x55dae3]=_0x2273c2);});let _0x1ec4b0=_0x16e4b4['chatLog'][_0x100f51(0x268)][_0x16e4b4[_0x100f51(0x638)][_0x100f51(0x268)][_0x100f51(0x401)]-0x1];if(_0x1ec4b0){let _0x137d3d=_0x1ec4b0['newStoppedUntil'];_0x137d3d!==void 0x0&&(_0x49befa[_0x100f51(0x61e)]=_0x137d3d['toString']());}let _0x41987f=_0xc55e49[_0x100f51(0x3e3)](_0x47211d=>_0x2a47b0[_0x100f51(0x269)](_0x47211d[_0x100f51(0x4f4)]));this['logger']['verbose'](this[_0x100f51(0x71d)]+'\x20('+this[_0x100f51(0x68a)][_0x100f51(0x4fa)]+_0x100f51(0x727)),this[_0x100f51(0xe4)][_0x100f51(0x582)](_0x49befa),this[_0x100f51(0xe4)][_0x100f51(0x582)](this[_0x100f51(0x71d)]+'\x20('+this[_0x100f51(0x68a)][_0x100f51(0x4fa)]+_0x100f51(0x753)),this[_0x100f51(0xe4)]['verbose'](_0x41987f);let _0x2afabe=_0x41987f[_0x100f51(0x4bf)](_0x2a7afb=>{const _0x4a2a8e=_0x100f51;let _0x4d3a6=this[_0x4a2a8e(0xf9)]?.['customFields']['find'](_0x72f8c6=>_0x72f8c6[_0x4a2a8e(0x4f4)]===_0x2a7afb[_0x4a2a8e(0x4f4)]);if(!_0x4d3a6)throw new Error(_0x4a2a8e(0x273)+_0x2a7afb[_0x4a2a8e(0x4f4)]);return{'_id':_0x4d3a6[_0x4a2a8e(0x238)],'value':_0x2a7afb[_0x4a2a8e(0x237)]};});this['logger']['verbose'](this[_0x100f51(0x71d)]+'\x20('+this[_0x100f51(0x68a)][_0x100f51(0x4fa)]+_0x100f51(0x3c2)),this[_0x100f51(0xe4)][_0x100f51(0x582)](_0x2afabe),await this['saveChatVariables'](_0x16e4b4[_0x100f51(0x21b)],_0x49befa,_0x2afabe);}catch(_0x3484f1){this['logger'][_0x100f51(0x7e2)](this[_0x100f51(0x71d)]+'\x20('+this[_0x100f51(0x68a)][_0x100f51(0x4fa)]+_0x100f51(0x221)+(_0x3484f1 instanceof Error?_0x3484f1[_0x100f51(0x50d)]:JSON[_0x100f51(0x69b)](_0x3484f1,null,0x2)));}}else this[_0x100f51(0xe4)][_0x100f51(0x7e2)](this[_0x100f51(0x71d)]+'\x20('+this['instance']['wuid']+_0x100f51(0x50c));}catch(_0x25dc58){this[_0x100f51(0xe4)][_0x100f51(0x7e2)](this[_0x100f51(0x71d)]+'\x20('+this[_0x100f51(0x68a)][_0x100f51(0x4fa)]+_0x100f51(0x60f)+(_0x25dc58 instanceof Error?_0x25dc58[_0x100f51(0x50d)]:JSON[_0x100f51(0x69b)](_0x25dc58,null,0x2)));}}async['saveChatVariables'](_0x5eb08f,_0x1d2449,_0x229b4a){const _0x2cceab=a0_0x6e1050;try{let _0x5083d7={'leadInfo.leadnome':_0x1d2449[_0x2cceab(0x71f)],'leadInfo.nomecompleto':_0x1d2449[_0x2cceab(0x111)],'leadInfo.email':_0x1d2449[_0x2cceab(0x390)],'leadInfo.cpf':_0x1d2449['cpf'],'leadInfo.status':_0x1d2449[_0x2cceab(0x349)],'leadInfo.notas':_0x1d2449[_0x2cceab(0x68c)],'leadInfo.responsavelid':_0x1d2449[_0x2cceab(0x7a3)],'leadInfo.tags':_0x1d2449['tags'],'leadInfo.etiquetas':_0x1d2449['etiquetas'],'leadInfo.customFields':_0x229b4a,'leadInfo.atendimentoAberto':_0x1d2449[_0x2cceab(0x2d6)]},_0x2fd505=await this[_0x2cceab(0x3d9)][_0x2cceab(0x134)][_0x2cceab(0x7a7)]({'where':{'_id':_0x5eb08f}},this[_0x2cceab(0x68a)][_0x2cceab(0x4fa)]);if(!_0x2fd505)return _0x2cceab(0x5a7);let _0x464737=new Set(_0x2fd505[_0x2cceab(0x5e1)][_0x2cceab(0x25f)]||[]),_0x520d94=new Set(_0x1d2449[_0x2cceab(0x25f)]||[]),_0x3542f8=await this['repository'][_0x2cceab(0x69d)][_0x2cceab(0x15f)]({'where':{}},this[_0x2cceab(0x68a)][_0x2cceab(0x4fa)]),_0xc107f2=new Set(_0x3542f8[_0x2cceab(0x4bf)](_0x5184be=>_0x5184be[_0x2cceab(0x238)])),_0x4542cc=[..._0x520d94][_0x2cceab(0x3e3)](_0x3a166a=>!_0x464737[_0x2cceab(0x455)](_0x3a166a)&&_0xc107f2[_0x2cceab(0x455)](_0x3a166a)),_0x5c62c4=[..._0x464737]['filter'](_0x269fb8=>!_0x520d94[_0x2cceab(0x455)](_0x269fb8));for(let _0x5c31e1 of _0x4542cc)await this[_0x2cceab(0x148)](_0x5c31e1,_0x2fd505[_0x2cceab(0x238)]),_0x464737[_0x2cceab(0x59d)](_0x5c31e1);for(let _0x40a0ae of _0x5c62c4)await this[_0x2cceab(0x2e4)](_0x40a0ae,_0x2fd505[_0x2cceab(0x238)]),_0x464737['delete'](_0x40a0ae);if('desativadoFluxoAte'in _0x1d2449){let _0x3ae638=_0x1d2449['desativadoFluxoAte'];_0x5083d7[_0x2cceab(0x575)]=_0x3ae638?Number(_0x3ae638):null;}if(_0x2cceab(0x2d6)in _0x1d2449){let _0x39592f=_0x1d2449[_0x2cceab(0x2d6)]['toLowerCase']();_0x5083d7['leadInfo.atendimentoAberto']=_0x39592f===_0x2cceab(0x758)||_0x39592f==='1'||_0x39592f===_0x2cceab(0x56d)||_0x39592f===_0x2cceab(0x282);}let _0x4f1198=await this[_0x2cceab(0x3d9)]['chat'][_0x2cceab(0x662)]({'where':{'_id':_0x5eb08f}},_0x5083d7,this['instance']['wuid']);_0x4f1198?(this[_0x2cceab(0xe4)][_0x2cceab(0x582)](this[_0x2cceab(0x71d)]+'\x20('+this[_0x2cceab(0x68a)][_0x2cceab(0x4fa)]+_0x2cceab(0x168)+_0x4f1198[_0x2cceab(0x238)]),U(this[_0x2cceab(0x71d)],_0x2cceab(0x5fe),{'chat':_0x4f1198})):this['logger'][_0x2cceab(0x7e2)](this[_0x2cceab(0x71d)]+'\x20('+this[_0x2cceab(0x68a)]['wuid']+_0x2cceab(0x6f1));}catch(_0x122b0f){this[_0x2cceab(0xe4)][_0x2cceab(0x7e2)](this['instanceName']+'\x20('+this[_0x2cceab(0x68a)][_0x2cceab(0x4fa)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x122b0f instanceof Error?_0x122b0f[_0x2cceab(0x50d)]:JSON[_0x2cceab(0x69b)](_0x122b0f,null,0x2)));}}async[a0_0x6e1050(0x2f3)](_0x22d919,_0x5bd534){const _0x57e05d=a0_0x6e1050;this[_0x57e05d(0xe4)][_0x57e05d(0x582)](this[_0x57e05d(0x71d)]+'\x20('+this[_0x57e05d(0x68a)][_0x57e05d(0x4fa)]+'):\x20atualização\x20chat:\x20'+_0x5bd534);try{let _0x40a14d=await this['repository'][_0x57e05d(0x134)][_0x57e05d(0x662)]({'where':{'_id':_0x22d919['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x5bd534},this[_0x57e05d(0x68a)][_0x57e05d(0x4fa)]);this['logger'][_0x57e05d(0x582)](this['instanceName']+'\x20('+this[_0x57e05d(0x68a)]['wuid']+_0x57e05d(0x1b2)+_0x22d919[_0x57e05d(0x238)]),this['logger'][_0x57e05d(0x582)](this[_0x57e05d(0x71d)]+'\x20('+this[_0x57e05d(0x68a)][_0x57e05d(0x4fa)]+_0x57e05d(0x10d)+JSON[_0x57e05d(0x69b)](_0x40a14d,null,0x2)),_0x40a14d&&U(this['instanceName'],_0x57e05d(0x5fe),{'chat':_0x40a14d});}catch(_0x6511bc){this[_0x57e05d(0xe4)][_0x57e05d(0x7e2)](this['instanceName']+'\x20('+this[_0x57e05d(0x68a)][_0x57e05d(0x4fa)]+_0x57e05d(0x3d4)+(_0x6511bc instanceof Error?_0x6511bc['message']:JSON[_0x57e05d(0x69b)](_0x6511bc,null,0x2)));}}async[a0_0x6e1050(0x723)](_0x1eaed3){const _0xa620be=a0_0x6e1050;try{this[_0xa620be(0xe4)][_0xa620be(0x582)](this[_0xa620be(0x71d)]+'\x20('+this[_0xa620be(0x68a)][_0xa620be(0x4fa)]+_0xa620be(0x5fb));let _0xc617af=_0x1eaed3[_0xa620be(0x70d)](/\D/g,''),_0x31f4ef=await this[_0xa620be(0x3d9)][_0xa620be(0x646)][_0xa620be(0x7a7)]({'where':{'testingWith':_0xc617af}},this[_0xa620be(0x68a)]['wuid']);return _0x31f4ef||(this['logger'][_0xa620be(0x582)](this['instanceName']+'\x20('+this[_0xa620be(0x68a)][_0xa620be(0x4fa)]+_0xa620be(0x6ca)),_0x31f4ef=await this[_0xa620be(0x3d9)][_0xa620be(0x646)][_0xa620be(0x7a7)]({'where':{'default':!0x0}},this[_0xa620be(0x68a)][_0xa620be(0x4fa)])),_0x31f4ef||(this['logger']['verbose'](this[_0xa620be(0x71d)]+'\x20('+this[_0xa620be(0x68a)][_0xa620be(0x4fa)]+_0xa620be(0x7b1)),null);}catch(_0x56d653){return this[_0xa620be(0xe4)][_0xa620be(0x7e2)](this[_0xa620be(0x71d)]+'\x20('+this[_0xa620be(0x68a)]['wuid']+_0xa620be(0x429)+(_0x56d653 instanceof Error?_0x56d653[_0xa620be(0x50d)]:JSON[_0xa620be(0x69b)](_0x56d653,null,0x2))),null;}}async[a0_0x6e1050(0x7c1)](_0x4e8da,_0x133256){const _0x2de19d=a0_0x6e1050;try{let _0x290939=!!_0x133256[_0x2de19d(0x270)],_0x263a7e=_0x133256[_0x2de19d(0x71b)],_0x4be98e=null;if(this[_0x2de19d(0xe4)][_0x2de19d(0x582)](this['instanceName']+'\x20('+this['instance'][_0x2de19d(0x4fa)]+_0x2de19d(0x701)+_0x290939+_0x2de19d(0x49a)+_0x263a7e),_0x290939){this[_0x2de19d(0xe4)][_0x2de19d(0x582)](this[_0x2de19d(0x71d)]+'\x20('+this['instance']['wuid']+_0x2de19d(0x33e));let _0x498ccb={'where':{'remoteJid':_0x4e8da,'waitingMenu_id':_0x263a7e}};if(_0x4be98e=await this['repository'][_0x2de19d(0x1c4)][_0x2de19d(0x7a7)](_0x498ccb,this[_0x2de19d(0x68a)][_0x2de19d(0x4fa)]),!_0x4be98e)return this['logger'][_0x2de19d(0x582)](this[_0x2de19d(0x71d)]+'\x20('+this['instance'][_0x2de19d(0x4fa)]+_0x2de19d(0x24d)),null;let _0x5ed5d0=Date[_0x2de19d(0x631)](),_0x4b2ea5=_0x4be98e?.[_0x2de19d(0x3d8)]||0x0,_0x147acd=_0x5ed5d0-_0x4b2ea5*0x3c*0x3e8;if(_0x4be98e['lastInteraction']<_0x147acd){this[_0x2de19d(0xe4)][_0x2de19d(0x582)](this[_0x2de19d(0x71d)]+'\x20('+this['instance']['wuid']+_0x2de19d(0x66e));let _0x17552a={'number':_0x4be98e['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4be98e[_0x2de19d(0x637)]}};await this[_0x2de19d(0x3c6)](_0x17552a);let _0x51f3d1={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x2de19d(0x3d9)][_0x2de19d(0x1c4)][_0x2de19d(0x662)](_0x4be98e[_0x2de19d(0x238)],_0x51f3d1,this[_0x2de19d(0x68a)][_0x2de19d(0x4fa)]),null;}return _0x4be98e[_0x2de19d(0x307)]=Date['now'](),_0x4be98e['chatLog']['lastReceivedMessage']=_0x133256,_0x4be98e;}else{this[_0x2de19d(0xe4)][_0x2de19d(0x582)](this[_0x2de19d(0x71d)]+'\x20('+this['instance']['wuid']+_0x2de19d(0x4a2)+this[_0x2de19d(0x68a)]['wuid']+_0x2de19d(0x41a)),this[_0x2de19d(0xe4)]['verbose'](this[_0x2de19d(0x71d)]+'\x20('+this[_0x2de19d(0x68a)]['wuid']+_0x2de19d(0x4c8));let _0x2b57fa={'where':{'remoteJid':_0x4e8da,'status':_0x2de19d(0x381)}};if(_0x4be98e=await this['repository']['flowConversation']['findOne'](_0x2b57fa,this['instance'][_0x2de19d(0x4fa)]),!_0x4be98e){let _0x531b96=await this[_0x2de19d(0x723)](_0x4e8da);if(_0x531b96&&(_0x4be98e=await this[_0x2de19d(0x340)](_0x531b96,_0x133256[_0x2de19d(0x759)],_0x133256)),!_0x4be98e)return null;}let _0x25b336=Date[_0x2de19d(0x631)](),_0x59fd2e=_0x4be98e?.[_0x2de19d(0x3d8)]||0x0,_0x4367f4=_0x25b336-_0x59fd2e*0x3c*0x3e8;if(this[_0x2de19d(0xe4)][_0x2de19d(0x582)](this[_0x2de19d(0x71d)]+'\x20('+this['instance'][_0x2de19d(0x4fa)]+'):\x20Current\x20Time:\x20'+_0x25b336+_0x2de19d(0x116)+_0x59fd2e+',\x20Expiration\x20Time:\x20'+_0x4367f4),this['logger'][_0x2de19d(0x582)](this[_0x2de19d(0x71d)]+'\x20('+this[_0x2de19d(0x68a)]['wuid']+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x2de19d(0xe4)]['verbose'](this[_0x2de19d(0x71d)]+'\x20('+this[_0x2de19d(0x68a)][_0x2de19d(0x4fa)]+'):\x20conversation.lastInteraction:\x20'+_0x4be98e[_0x2de19d(0x307)]),this[_0x2de19d(0xe4)][_0x2de19d(0x582)](this['instanceName']+'\x20('+this[_0x2de19d(0x68a)][_0x2de19d(0x4fa)]+_0x2de19d(0x666)+_0x4367f4),_0x4be98e[_0x2de19d(0x307)]<_0x4367f4){this[_0x2de19d(0xe4)][_0x2de19d(0x582)](this['instanceName']+'\x20('+this[_0x2de19d(0x68a)]['wuid']+_0x2de19d(0x290));let _0x2c7a48=await this['findFlow'](_0x4e8da);if(_0x2c7a48===null)return null;_0x4be98e&&await this[_0x2de19d(0x3d9)]['flowConversation'][_0x2de19d(0x662)](_0x4be98e['_id'],{'status':_0x2de19d(0x4d8)},this[_0x2de19d(0x68a)][_0x2de19d(0x4fa)]),_0x4be98e=await this[_0x2de19d(0x340)](_0x2c7a48,_0x133256[_0x2de19d(0x759)],_0x133256);}return _0x4be98e[_0x2de19d(0x307)]=_0x25b336,_0x4be98e[_0x2de19d(0x638)][_0x2de19d(0x699)]=_0x133256,_0x4be98e;}}catch(_0x3f473d){return this[_0x2de19d(0xe4)][_0x2de19d(0x7e2)](this[_0x2de19d(0x71d)]+'\x20('+this['instance'][_0x2de19d(0x4fa)]+_0x2de19d(0xe1)+(_0x3f473d instanceof Error?_0x3f473d[_0x2de19d(0x50d)]:JSON['stringify'](_0x3f473d,null,0x2))),null;}}async[a0_0x6e1050(0x340)](_0x277eee,_0x31feab,_0x56c124){const _0x255cc9=a0_0x6e1050;this[_0x255cc9(0xe4)]['verbose'](this['instanceName']+'\x20('+this[_0x255cc9(0x68a)][_0x255cc9(0x4fa)]+_0x255cc9(0x258));try{let _0x26ca9d=require(_0x255cc9(0x199))[_0x255cc9(0x377)],_0x3ce638=Date[_0x255cc9(0x631)](),_0x36fccb=_0x255cc9(0x57d),_0x27d6a2=_0x31feab[_0x255cc9(0x636)]?null:_0x56c124,_0x31534d=_0x31feab[_0x255cc9(0x636)]?_0x56c124:null,_0xa83cd1=_0x31feab['remoteJid'];await this['closeExistingConversations'](_0xa83cd1);let _0x3472f4={..._0x277eee,'chatLog':null},_0x2670b8=await this[_0x255cc9(0x1d7)](_0x3472f4[_0x255cc9(0x6e9)]),_0x3b56c6=await this[_0x255cc9(0x373)](_0xa83cd1),_0x4dd2f8={..._0x2670b8,..._0x3b56c6,'_remoteJid':_0xa83cd1},_0x32335a={'lastReceivedMessage':_0x27d6a2,'lastSendMessage':_0x31534d,'lastBlockId':_0x36fccb,'lastCondition':!0x0,'realVariables':_0x4dd2f8};_0x3472f4[_0x255cc9(0x638)]=_0x32335a,delete _0x3472f4[_0x255cc9(0x238)],_0x3472f4[_0x255cc9(0x238)]=new _0x26ca9d(),_0x3472f4[_0x255cc9(0x307)]=_0x3ce638,_0x3472f4['status']=_0x255cc9(0x381),_0x3472f4[_0x255cc9(0x21b)]=_0xa83cd1;let _0x1e387f=await this['repository'][_0x255cc9(0x1c4)][_0x255cc9(0x662)](_0x3472f4[_0x255cc9(0x238)],_0x3472f4,this[_0x255cc9(0x68a)][_0x255cc9(0x4fa)]);return this[_0x255cc9(0xe4)]['verbose'](this[_0x255cc9(0x71d)]+'\x20('+this[_0x255cc9(0x68a)][_0x255cc9(0x4fa)]+_0x255cc9(0x5d0)),_0x1e387f?_0x3472f4:null;}catch(_0x403f1b){return this['logger'][_0x255cc9(0x7e2)](this[_0x255cc9(0x71d)]+'\x20('+this['instance'][_0x255cc9(0x4fa)]+_0x255cc9(0x310)+(_0x403f1b instanceof Error?_0x403f1b[_0x255cc9(0x50d)]:JSON['stringify'](_0x403f1b,null,0x2))),_0x403f1b;}}async['uazapiSendText'](_0x17fe78,_0x501ee8){const _0x1afe17=a0_0x6e1050;let _0x5dc63e=_0x17fe78['remoteJid'];_0x501ee8[_0x1afe17(0x17a)]['remoteJid']&&_0x501ee8[_0x1afe17(0x17a)]['remoteJid']['trim']()!==''&&(_0x5dc63e=_0x501ee8[_0x1afe17(0x17a)]['remoteJid']['trim']()),this[_0x1afe17(0xe4)][_0x1afe17(0x582)](this[_0x1afe17(0x71d)]+'\x20('+this[_0x1afe17(0x68a)][_0x1afe17(0x4fa)]+_0x1afe17(0x15a));let _0x2e90f5={'number':_0x5dc63e,'options':{'delay':_0x501ee8['uazapi'][_0x1afe17(0x4f1)],'linkPreview':_0x501ee8[_0x1afe17(0x17a)][_0x1afe17(0x2ec)]},'textMessage':{'text':_0x501ee8[_0x1afe17(0x17a)]['text']}};try{let _0x1902d5=await this['textMessage'](_0x2e90f5);if(_0x1902d5){let _0xa9bc3d={'_id':_0x1902d5[_0x1afe17(0x759)]['id'],'_fromMe':_0x1902d5[_0x1afe17(0x759)][_0x1afe17(0x636)],'_remoteJid':_0x1902d5[_0x1afe17(0x759)][_0x1afe17(0x21b)]},_0x1c420=(0x0,f[_0x1afe17(0x525)])(_0x1902d5['message']),_0x3ed703=(0x0,f['getContentType'])(_0x1c420);_0x17fe78[_0x1afe17(0x638)][_0x1afe17(0x1ac)]=_0x501ee8['_id'][_0x1afe17(0x16c)]();let {message_normalized:_0x37efd7}=this[_0x1afe17(0x399)](_0x1c420,_0x3ed703,null);_0x17fe78[_0x1afe17(0x638)]['lastSendMessage']=await _0x37efd7;let _0x28c855={'messageId':_0x1902d5[_0x1afe17(0x759)]['id']},_0x2a89eb=_0x17fe78[_0x1afe17(0x638)][_0x1afe17(0x786)];Object[_0x1afe17(0x147)](_0x2a89eb,_0xa9bc3d),_0x17fe78[_0x1afe17(0x638)][_0x1afe17(0x786)]=_0x2a89eb,this[_0x1afe17(0x3e6)](_0x17fe78,_0x501ee8,_0x28c855);}else{let _0x4dca51={'error':!0x0};this[_0x1afe17(0x3e6)](_0x17fe78,_0x501ee8,_0x4dca51),this[_0x1afe17(0xe4)][_0x1afe17(0x7e2)](this[_0x1afe17(0x71d)]+'\x20('+this[_0x1afe17(0x68a)][_0x1afe17(0x4fa)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x4dfef3){let _0xc20ec9={'error':!0x0,'errorLog':_0x4dfef3[_0x1afe17(0x16c)]()};this[_0x1afe17(0x3e6)](_0x17fe78,_0x501ee8,_0xc20ec9),this[_0x1afe17(0xe4)][_0x1afe17(0x7e2)](this[_0x1afe17(0x71d)]+'\x20('+this[_0x1afe17(0x68a)][_0x1afe17(0x4fa)]+_0x1afe17(0x669)+(_0x4dfef3 instanceof Error?_0x4dfef3['message']:JSON[_0x1afe17(0x69b)](_0x4dfef3,null,0x2)));}}async[a0_0x6e1050(0x777)](_0x2e17b3,_0xccba9c){const _0xe98fc4=a0_0x6e1050;let _0x4deb48=_0x2e17b3['remoteJid'];_0xccba9c[_0xe98fc4(0x17a)][_0xe98fc4(0x21b)]&&_0xccba9c['uazapi']['remoteJid'][_0xe98fc4(0x46e)]()!==''&&(_0x4deb48=_0xccba9c[_0xe98fc4(0x17a)][_0xe98fc4(0x21b)]['trim']()),this[_0xe98fc4(0xe4)]['verbose'](this[_0xe98fc4(0x71d)]+'\x20('+this[_0xe98fc4(0x68a)][_0xe98fc4(0x4fa)]+'):\x20Enviando\x20mídia');let _0x2b190d={'number':_0x4deb48,'options':{'delay':_0xccba9c['uazapi'][_0xe98fc4(0x4f1)],'linkPreview':_0xccba9c[_0xe98fc4(0x17a)][_0xe98fc4(0x2ec)]},'mediaMessage':{'mediatype':_0xccba9c[_0xe98fc4(0x17a)]['mediatype'],'caption':_0xccba9c[_0xe98fc4(0x17a)][_0xe98fc4(0x31d)],'media':_0xccba9c[_0xe98fc4(0x17a)][_0xe98fc4(0x7cb)],'fileName':_0xccba9c['uazapi'][_0xe98fc4(0x4fe)]}};try{let _0x460d51=await this[_0xe98fc4(0x4ad)](_0x2b190d);if(_0x460d51){let _0x4066b7={'_id':_0x460d51[_0xe98fc4(0x759)]['id'],'_fromMe':_0x460d51[_0xe98fc4(0x759)][_0xe98fc4(0x636)],'_remoteJid':_0x460d51['key'][_0xe98fc4(0x21b)]},_0x5b9b10=(0x0,f[_0xe98fc4(0x525)])(_0x460d51[_0xe98fc4(0x50d)]),_0x4b440a=(0x0,f['getContentType'])(_0x5b9b10);_0x2e17b3[_0xe98fc4(0x638)][_0xe98fc4(0x1ac)]=_0xccba9c[_0xe98fc4(0x238)][_0xe98fc4(0x16c)]();let {message_normalized:_0x52ee9e}=this[_0xe98fc4(0x399)](_0x5b9b10,_0x4b440a,null);_0x2e17b3[_0xe98fc4(0x638)]['lastSendMessage']=await _0x52ee9e;let _0x3a8c01={'messageId':_0x460d51[_0xe98fc4(0x759)]['id']},_0x210e6f=_0x2e17b3[_0xe98fc4(0x638)][_0xe98fc4(0x786)];Object[_0xe98fc4(0x147)](_0x210e6f,_0x4066b7),_0x2e17b3[_0xe98fc4(0x638)][_0xe98fc4(0x786)]=_0x210e6f,this[_0xe98fc4(0x3e6)](_0x2e17b3,_0xccba9c,_0x3a8c01);}else{let _0x45c2af={'error':!0x0};this[_0xe98fc4(0x3e6)](_0x2e17b3,_0xccba9c,_0x45c2af),this[_0xe98fc4(0xe4)][_0xe98fc4(0x7e2)](this[_0xe98fc4(0x71d)]+'\x20('+this[_0xe98fc4(0x68a)][_0xe98fc4(0x4fa)]+_0xe98fc4(0x755));}}catch(_0x3d3e04){let _0x3e8e06={'error':!0x0,'errorLog':_0x3d3e04[_0xe98fc4(0x16c)]()};this[_0xe98fc4(0x3e6)](_0x2e17b3,_0xccba9c,_0x3e8e06),this['logger'][_0xe98fc4(0x7e2)](this['instanceName']+'\x20('+this[_0xe98fc4(0x68a)][_0xe98fc4(0x4fa)]+_0xe98fc4(0x356)+(_0x3d3e04 instanceof Error?_0x3d3e04[_0xe98fc4(0x50d)]:JSON[_0xe98fc4(0x69b)](_0x3d3e04,null,0x2)));}}async[a0_0x6e1050(0x4f5)](_0x390816,_0x43d087){const _0x1b9544=a0_0x6e1050;let _0x16f8eb=_0x390816['remoteJid'];_0x43d087[_0x1b9544(0x17a)][_0x1b9544(0x21b)]&&_0x43d087[_0x1b9544(0x17a)][_0x1b9544(0x21b)][_0x1b9544(0x46e)]()!==''&&(_0x16f8eb=_0x43d087[_0x1b9544(0x17a)]['remoteJid'][_0x1b9544(0x46e)]()),this[_0x1b9544(0xe4)][_0x1b9544(0x582)](this[_0x1b9544(0x71d)]+'\x20('+this['instance'][_0x1b9544(0x4fa)]+'):\x20Enviando\x20localização');let _0x39ebb2={'number':_0x16f8eb,'options':{'delay':_0x43d087[_0x1b9544(0x17a)]['delay']},'locationMessage':{'name':_0x43d087[_0x1b9544(0x17a)][_0x1b9544(0x4f4)],'address':_0x43d087[_0x1b9544(0x17a)][_0x1b9544(0x502)],'latitude':_0x43d087['uazapi']['latitude'],'longitude':_0x43d087[_0x1b9544(0x17a)]['longitude']}};try{let _0x4cc401=await this[_0x1b9544(0x52b)](_0x39ebb2);if(_0x4cc401){let _0x14da62={'_id':_0x4cc401[_0x1b9544(0x759)]['id'],'_fromMe':_0x4cc401[_0x1b9544(0x759)]['fromMe'],'_remoteJid':_0x4cc401[_0x1b9544(0x759)]['remoteJid']},_0x2dd3fa=(0x0,f[_0x1b9544(0x525)])(_0x4cc401[_0x1b9544(0x50d)]),_0x1b61b8=(0x0,f['getContentType'])(_0x2dd3fa);_0x390816[_0x1b9544(0x638)][_0x1b9544(0x1ac)]=_0x43d087[_0x1b9544(0x238)][_0x1b9544(0x16c)]();let {message_normalized:_0x36e56c}=this[_0x1b9544(0x399)](_0x2dd3fa,_0x1b61b8,null);_0x390816[_0x1b9544(0x638)][_0x1b9544(0x2fd)]=await _0x36e56c;let _0x2471ad={'messageId':_0x4cc401[_0x1b9544(0x759)]['id']},_0x3d6a61=_0x390816['chatLog'][_0x1b9544(0x786)];Object[_0x1b9544(0x147)](_0x3d6a61,_0x14da62),_0x390816[_0x1b9544(0x638)]['realVariables']=_0x3d6a61,this['updateConversation'](_0x390816,_0x43d087,_0x2471ad);}else{let _0x59b857={'error':!0x0};this[_0x1b9544(0x3e6)](_0x390816,_0x43d087,_0x59b857),this[_0x1b9544(0xe4)][_0x1b9544(0x7e2)](this[_0x1b9544(0x71d)]+'\x20('+this[_0x1b9544(0x68a)]['wuid']+_0x1b9544(0x13c));}}catch(_0x569c27){let _0x315555={'error':!0x0,'errorLog':_0x569c27[_0x1b9544(0x16c)]()};this[_0x1b9544(0x3e6)](_0x390816,_0x43d087,_0x315555),this[_0x1b9544(0xe4)][_0x1b9544(0x7e2)](this['instanceName']+'\x20('+this[_0x1b9544(0x68a)][_0x1b9544(0x4fa)]+_0x1b9544(0x681)+(_0x569c27 instanceof Error?_0x569c27[_0x1b9544(0x50d)]:JSON['stringify'](_0x569c27,null,0x2)));}}async[a0_0x6e1050(0x492)](_0xfe67b6,_0x13a98d){const _0x34509c=a0_0x6e1050;let _0x2d0589=_0xfe67b6[_0x34509c(0x21b)];_0x13a98d[_0x34509c(0x17a)][_0x34509c(0x21b)]&&_0x13a98d[_0x34509c(0x17a)][_0x34509c(0x21b)][_0x34509c(0x46e)]()!==''&&(_0x2d0589=_0x13a98d[_0x34509c(0x17a)][_0x34509c(0x21b)][_0x34509c(0x46e)]()),this[_0x34509c(0xe4)][_0x34509c(0x582)](this[_0x34509c(0x71d)]+'\x20('+this[_0x34509c(0x68a)][_0x34509c(0x4fa)]+_0x34509c(0x207));let _0x2e158e={'number':_0x2d0589,'options':{'delay':_0x13a98d[_0x34509c(0x17a)][_0x34509c(0x4f1)]},'audioMessage':{'audio':_0x13a98d[_0x34509c(0x17a)][_0x34509c(0x7d3)]}};try{let _0x35f42a=await this[_0x34509c(0x3e9)](_0x2e158e);if(_0x35f42a){let _0x741c6c={'_id':_0x35f42a[_0x34509c(0x759)]['id'],'_fromMe':_0x35f42a[_0x34509c(0x759)]['fromMe'],'_remoteJid':_0x35f42a[_0x34509c(0x759)][_0x34509c(0x21b)]},_0x135b53=(0x0,f[_0x34509c(0x525)])(_0x35f42a[_0x34509c(0x50d)]),_0x177d2c=(0x0,f[_0x34509c(0x6b8)])(_0x135b53);_0xfe67b6[_0x34509c(0x638)][_0x34509c(0x1ac)]=_0x13a98d[_0x34509c(0x238)][_0x34509c(0x16c)]();let {message_normalized:_0x3c5c46}=this[_0x34509c(0x399)](_0x135b53,_0x177d2c,null);_0xfe67b6[_0x34509c(0x638)][_0x34509c(0x2fd)]=await _0x3c5c46;let _0x3c5039={'messageId':_0x35f42a['key']['id']},_0x4242cd=_0xfe67b6[_0x34509c(0x638)][_0x34509c(0x786)];Object['assign'](_0x4242cd,_0x741c6c),_0xfe67b6[_0x34509c(0x638)][_0x34509c(0x786)]=_0x4242cd,this[_0x34509c(0x3e6)](_0xfe67b6,_0x13a98d,_0x3c5039);}else{let _0x39a5d8={'error':!0x0};this['updateConversation'](_0xfe67b6,_0x13a98d,_0x39a5d8),this[_0x34509c(0xe4)][_0x34509c(0x7e2)](this[_0x34509c(0x71d)]+'\x20('+this[_0x34509c(0x68a)][_0x34509c(0x4fa)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x4ee4a9){let _0x5619dc={'error':!0x0,'errorLog':_0x4ee4a9[_0x34509c(0x16c)]()};this[_0x34509c(0x3e6)](_0xfe67b6,_0x13a98d,_0x5619dc),this[_0x34509c(0xe4)]['error'](this[_0x34509c(0x71d)]+'\x20('+this['instance'][_0x34509c(0x4fa)]+_0x34509c(0x1bc)+(_0x4ee4a9 instanceof Error?_0x4ee4a9[_0x34509c(0x50d)]:JSON[_0x34509c(0x69b)](_0x4ee4a9,null,0x2)));}}async[a0_0x6e1050(0x6b5)](_0x3c2e96,_0x3a8170){const _0x1b6bfb=a0_0x6e1050;let _0x5dd157=_0x3c2e96['remoteJid'];_0x3a8170[_0x1b6bfb(0x17a)][_0x1b6bfb(0x21b)]&&_0x3a8170[_0x1b6bfb(0x17a)]['remoteJid'][_0x1b6bfb(0x46e)]()!==''&&(_0x5dd157=_0x3a8170[_0x1b6bfb(0x17a)][_0x1b6bfb(0x21b)][_0x1b6bfb(0x46e)]()),this[_0x1b6bfb(0xe4)][_0x1b6bfb(0x582)](this[_0x1b6bfb(0x71d)]+'\x20('+this[_0x1b6bfb(0x68a)][_0x1b6bfb(0x4fa)]+_0x1b6bfb(0x4bb));let _0x1ccf3c={'number':_0x5dd157,'options':{'delay':_0x3a8170[_0x1b6bfb(0x17a)][_0x1b6bfb(0x4f1)]},'contactMessage':[{'fullName':_0x3a8170[_0x1b6bfb(0x17a)][_0x1b6bfb(0x6e1)],'phoneNumber':_0x3a8170['uazapi'][_0x1b6bfb(0x1ad)]}]};try{let _0x30dc14=await this[_0x1b6bfb(0x69f)](_0x1ccf3c);if(_0x30dc14){let _0x34afd9={'_id':_0x30dc14[_0x1b6bfb(0x759)]['id'],'_fromMe':_0x30dc14[_0x1b6bfb(0x759)][_0x1b6bfb(0x636)],'_remoteJid':_0x30dc14[_0x1b6bfb(0x759)][_0x1b6bfb(0x21b)]},_0x3e78c5=(0x0,f[_0x1b6bfb(0x525)])(_0x30dc14['message']),_0x42f63d=(0x0,f[_0x1b6bfb(0x6b8)])(_0x3e78c5);_0x3c2e96[_0x1b6bfb(0x638)]['lastBlockId']=_0x3a8170[_0x1b6bfb(0x238)][_0x1b6bfb(0x16c)]();let {message_normalized:_0x212d77}=this[_0x1b6bfb(0x399)](_0x3e78c5,_0x42f63d,null);_0x3c2e96[_0x1b6bfb(0x638)][_0x1b6bfb(0x2fd)]=await _0x212d77;let _0x522255={'messageId':_0x30dc14[_0x1b6bfb(0x759)]['id']},_0x224bc7=_0x3c2e96[_0x1b6bfb(0x638)][_0x1b6bfb(0x786)];Object['assign'](_0x224bc7,_0x34afd9),_0x3c2e96['chatLog']['realVariables']=_0x224bc7,this[_0x1b6bfb(0x3e6)](_0x3c2e96,_0x3a8170,_0x522255);}else{let _0x257f40={'error':!0x0};this[_0x1b6bfb(0x3e6)](_0x3c2e96,_0x3a8170,_0x257f40),this['logger'][_0x1b6bfb(0x7e2)](this[_0x1b6bfb(0x71d)]+'\x20('+this[_0x1b6bfb(0x68a)][_0x1b6bfb(0x4fa)]+_0x1b6bfb(0x1a0));}}catch(_0x19e071){let _0x49b50f={'error':!0x0,'errorLog':_0x19e071[_0x1b6bfb(0x16c)]()};this['updateConversation'](_0x3c2e96,_0x3a8170,_0x49b50f),this['logger'][_0x1b6bfb(0x7e2)](this['instanceName']+'\x20('+this['instance'][_0x1b6bfb(0x4fa)]+_0x1b6bfb(0x70f)+(_0x19e071 instanceof Error?_0x19e071[_0x1b6bfb(0x50d)]:JSON[_0x1b6bfb(0x69b)](_0x19e071,null,0x2)));}}[a0_0x6e1050(0x4f6)](_0x1bdcf4,_0x4231d2){const _0x3bc46a=a0_0x6e1050;for(let _0x27d4da of _0x1bdcf4)_0x27d4da[_0x3bc46a(0x3b8)]&&(_0x27d4da[_0x3bc46a(0x3b8)]=this[_0x3bc46a(0x34d)](_0x27d4da[_0x3bc46a(0x3b8)],_0x4231d2)),_0x27d4da['optionDescription']&&(_0x27d4da[_0x3bc46a(0x280)]=this['replaceVariables'](_0x27d4da[_0x3bc46a(0x280)],_0x4231d2));}async[a0_0x6e1050(0x4a6)](_0x5b552b,_0x4a0376){const _0x95dcf5=a0_0x6e1050;let _0x2c2c9f=_0x5b552b[_0x95dcf5(0x21b)];_0x4a0376['uazapi'][_0x95dcf5(0x21b)]&&_0x4a0376[_0x95dcf5(0x17a)][_0x95dcf5(0x21b)][_0x95dcf5(0x46e)]()!==''&&(_0x2c2c9f=_0x4a0376[_0x95dcf5(0x17a)][_0x95dcf5(0x21b)][_0x95dcf5(0x46e)]()),this['logger'][_0x95dcf5(0x582)](this['instanceName']+'\x20('+this[_0x95dcf5(0x68a)][_0x95dcf5(0x4fa)]+_0x95dcf5(0x446));let _0x31ebe9=_0x5b552b[_0x95dcf5(0x197)]['filter'](_0x4c9103=>_0x4c9103[_0x95dcf5(0x3a7)]===_0x4a0376[_0x95dcf5(0x238)])['sort']((_0x2b4d98,_0x25f313)=>_0x2b4d98['order']-_0x25f313['order']);this[_0x95dcf5(0x4f6)](_0x31ebe9,_0x5b552b['chatLog'][_0x95dcf5(0x786)]);let _0x47301d=_0x31ebe9[_0x95dcf5(0x4bf)](_0x3f107a=>_0x3f107a[_0x95dcf5(0x3b8)]),_0x1d179f={'number':_0x2c2c9f,'menuMessage':{'type':_0x4a0376[_0x95dcf5(0x17a)]['menuType']||_0x95dcf5(0x3d1),'text':_0x4a0376[_0x95dcf5(0x17a)][_0x95dcf5(0x654)]||_0x4a0376[_0x95dcf5(0x17a)]['name'],'footerText':_0x4a0376[_0x95dcf5(0x17a)]['footerText'],'buttonText':_0x4a0376['uazapi'][_0x95dcf5(0x3f7)],'selectableCount':0x1,'choices':_0x47301d},'options':{'delay':_0x4a0376[_0x95dcf5(0x17a)][_0x95dcf5(0x4f1)]}};try{let _0x55173c=await this[_0x95dcf5(0x78f)](_0x1d179f);if(_0x55173c){let _0x5e13c4={'_id':_0x55173c[_0x95dcf5(0x759)]['id'],'_fromMe':_0x55173c[_0x95dcf5(0x759)][_0x95dcf5(0x636)],'_remoteJid':_0x55173c[_0x95dcf5(0x759)][_0x95dcf5(0x21b)]};_0x4a0376[_0x95dcf5(0x17a)]['menuIgnoreNonVotes']===!0x0&&(_0x5b552b[_0x95dcf5(0x349)]='waitingForReplyMenu',this[_0x95dcf5(0xe4)][_0x95dcf5(0x582)](this[_0x95dcf5(0x71d)]+'\x20('+this[_0x95dcf5(0x68a)][_0x95dcf5(0x4fa)]+'):\x20conversation.status:\x20'+_0x5b552b[_0x95dcf5(0x349)])),this[_0x95dcf5(0xe4)]['verbose'](this[_0x95dcf5(0x71d)]+'\x20('+this[_0x95dcf5(0x68a)][_0x95dcf5(0x4fa)]+_0x95dcf5(0x69e)+(_0x4a0376[_0x95dcf5(0x17a)][_0x95dcf5(0x4f4)]||_0x4a0376[_0x95dcf5(0x17a)][_0x95dcf5(0x654)])),_0x5b552b[_0x95dcf5(0x108)]=_0x55173c[_0x95dcf5(0x759)]['id'],_0x5b552b[_0x95dcf5(0x296)]=_0x4a0376[_0x95dcf5(0x17a)][_0x95dcf5(0x4f4)]||_0x4a0376[_0x95dcf5(0x17a)][_0x95dcf5(0x654)],_0x5b552b[_0x95dcf5(0x21f)]=_0x31ebe9,_0x4a0376[_0x95dcf5(0x17a)][_0x95dcf5(0xf6)]&&(_0x5b552b[_0x95dcf5(0x637)]=_0x4a0376[_0x95dcf5(0x17a)][_0x95dcf5(0xf6)]),this['logger'][_0x95dcf5(0x582)](this[_0x95dcf5(0x71d)]+'\x20('+this[_0x95dcf5(0x68a)][_0x95dcf5(0x4fa)]+_0x95dcf5(0x6fd)+_0x5b552b[_0x95dcf5(0x296)]);let _0x17b072=(0x0,f['normalizeMessageContent'])(_0x55173c['message']),_0x4438c4=(0x0,f['getContentType'])(_0x17b072);_0x5b552b[_0x95dcf5(0x638)][_0x95dcf5(0x1ac)]=_0x4a0376[_0x95dcf5(0x238)][_0x95dcf5(0x16c)]();let {message_normalized:_0x3943aa}=this[_0x95dcf5(0x399)](_0x17b072,_0x4438c4,null);_0x5b552b[_0x95dcf5(0x638)]['lastSendMessage']=await _0x3943aa;let _0x63261c={'messageId':_0x55173c[_0x95dcf5(0x759)]['id']},_0x11a377=_0x5b552b[_0x95dcf5(0x638)][_0x95dcf5(0x786)];Object[_0x95dcf5(0x147)](_0x11a377,_0x5e13c4),_0x5b552b[_0x95dcf5(0x638)]['realVariables']=_0x11a377,this[_0x95dcf5(0x3e6)](_0x5b552b,_0x4a0376,_0x63261c);}else{let _0x26b237={'error':!0x0};this[_0x95dcf5(0x3e6)](_0x5b552b,_0x4a0376,_0x26b237),this[_0x95dcf5(0xe4)][_0x95dcf5(0x7e2)](this[_0x95dcf5(0x71d)]+'\x20('+this['instance'][_0x95dcf5(0x4fa)]+_0x95dcf5(0x572));}}catch(_0x330b76){let _0x1f621e={'error':!0x0,'errorLog':_0x330b76 instanceof Error?_0x330b76['message']:JSON['stringify'](_0x330b76,null,0x2)};this[_0x95dcf5(0x3e6)](_0x5b552b,_0x4a0376,_0x1f621e),this[_0x95dcf5(0xe4)][_0x95dcf5(0x7e2)](this[_0x95dcf5(0x71d)]+'\x20('+this['instance'][_0x95dcf5(0x4fa)]+_0x95dcf5(0x3fd)+(_0x330b76 instanceof Error?_0x330b76[_0x95dcf5(0x50d)]:JSON['stringify'](_0x330b76,null,0x2)));}}async[a0_0x6e1050(0x63f)](_0x316cd6,_0x41edc5){const _0x42d0db=a0_0x6e1050;this['logger'][_0x42d0db(0x582)](this[_0x42d0db(0x71d)]+'\x20('+this['instance'][_0x42d0db(0x4fa)]+'):\x20Deletando\x20mensagem');let _0x2b7f05=_0x316cd6[_0x42d0db(0x638)][_0x42d0db(0x268)][_0x42d0db(0x15f)](_0x4944d7=>_0x4944d7[_0x42d0db(0x3a7)][_0x42d0db(0x16c)]()===_0x41edc5[_0x42d0db(0x17a)][_0x42d0db(0x3a7)][_0x42d0db(0x16c)]()),_0x17d3c7={'id':_0x2b7f05[_0x42d0db(0x443)],'remoteJid':_0x2b7f05[_0x42d0db(0x21b)],'fromMe':_0x2b7f05['fromMe']};try{let _0x167881=await this[_0x42d0db(0x51a)](_0x17d3c7);if(_0x167881){let _0x32f454=(0x0,f['normalizeMessageContent'])(_0x167881['message']),_0x162de0=(0x0,f[_0x42d0db(0x6b8)])(_0x32f454);_0x316cd6[_0x42d0db(0x638)][_0x42d0db(0x1ac)]=_0x41edc5[_0x42d0db(0x238)]['toString']();let {message_normalized:_0x5b888e}=this[_0x42d0db(0x399)](_0x32f454,_0x162de0,null);_0x316cd6[_0x42d0db(0x638)]['lastSendMessage']=await _0x5b888e;let _0x5c17cc={};this['updateConversation'](_0x316cd6,_0x41edc5,_0x5c17cc);}else{let _0x2a7c76={'error':!0x0};this[_0x42d0db(0x3e6)](_0x316cd6,_0x41edc5,_0x2a7c76),this[_0x42d0db(0xe4)][_0x42d0db(0x7e2)](this['instanceName']+'\x20('+this[_0x42d0db(0x68a)]['wuid']+_0x42d0db(0x261));}}catch(_0x340655){let _0x4a0e53={'error':!0x0,'errorLog':_0x340655 instanceof Error?_0x340655[_0x42d0db(0x50d)]:JSON[_0x42d0db(0x69b)](_0x340655,null,0x2)};this[_0x42d0db(0x3e6)](_0x316cd6,_0x41edc5,_0x4a0e53),this[_0x42d0db(0xe4)][_0x42d0db(0x7e2)](this[_0x42d0db(0x71d)]+'\x20('+this[_0x42d0db(0x68a)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x340655 instanceof Error?_0x340655[_0x42d0db(0x50d)]:JSON[_0x42d0db(0x69b)](_0x340655,null,0x2)));}}async[a0_0x6e1050(0x272)](_0x5e496c,_0x1f03d7){const _0x460d7f=a0_0x6e1050;if(!_0x5e496c[_0x460d7f(0x4f4)])throw new m(_0x460d7f(0x2d5));let _0x309692=_0x5e496c?.[_0x460d7f(0x3fb)]?.['trim']()===_0x460d7f(0x758)?_0x460d7f(0x3fb):this[_0x460d7f(0x68a)][_0x460d7f(0x4fa)],_0x4df241=await this[_0x460d7f(0x3d9)][_0x460d7f(0x646)][_0x460d7f(0x7a7)]({'where':{'name':_0x5e496c['name']}},_0x309692);if(_0x1f03d7!==te&&_0x5e496c?.[_0x460d7f(0x3fb)]===_0x460d7f(0x758))throw new m(_0x460d7f(0x167));if(_0x5e496c?.[_0x460d7f(0x3fb)]!==_0x460d7f(0x758)&&(_0x5e496c[_0x460d7f(0x3fb)]='false'),_0x4df241)throw new m(_0x460d7f(0x326));return'name'in _0x5e496c&&_0x460d7f(0x45c)in _0x5e496c&&_0x460d7f(0x427)in _0x5e496c?this['createSharedFlow'](_0x5e496c[_0x460d7f(0x427)],_0x5e496c[_0x460d7f(0x45c)],_0x5e496c[_0x460d7f(0x4f4)]):this[_0x460d7f(0x538)](_0x5e496c);}async[a0_0x6e1050(0x760)](_0x9e7ca5,_0x435586,_0x3ba853){const _0x52137e=a0_0x6e1050;try{this[_0x52137e(0xe4)]['verbose'](this[_0x52137e(0x71d)]+'\x20('+this[_0x52137e(0x68a)][_0x52137e(0x4fa)]+_0x52137e(0x619));let _0x489fce=await this[_0x52137e(0x3d9)][_0x52137e(0x646)][_0x52137e(0x7a7)]({'where':{'sharePass':_0x435586}},_0x9e7ca5);if(!_0x489fce)throw new m(_0x52137e(0x1b7));let _0x5cea4c={..._0x489fce},_0x285abd=_0x489fce[_0x52137e(0x3fb)]===_0x52137e(0x758)?_0x52137e(0x3fb):_0x489fce[_0x52137e(0x427)];return(_0x9e7ca5===_0x52137e(0x3fb)||_0x489fce[_0x52137e(0x3fb)]===_0x52137e(0x758))&&(_0x5cea4c[_0x52137e(0x3fb)]='sync',_0x5cea4c[_0x52137e(0x427)]='global'),_0x5cea4c[_0x52137e(0x1c9)]=Array[_0x52137e(0x179)](new Set([..._0x489fce[_0x52137e(0x1c9)]||[],_0x285abd,this[_0x52137e(0x68a)][_0x52137e(0x4fa)]])),_0x489fce[_0x52137e(0x1c9)]=_0x5cea4c['shareOwners'],await this[_0x52137e(0x3d9)][_0x52137e(0x646)][_0x52137e(0x662)](_0x489fce[_0x52137e(0x238)],{'shareOwners':_0x489fce[_0x52137e(0x1c9)]},_0x285abd),_0x489fce[_0x52137e(0x45f)]===!0x0&&await this[_0x52137e(0x3d9)][_0x52137e(0x646)][_0x52137e(0x782)]({},{'default':!0x1},this[_0x52137e(0x68a)][_0x52137e(0x4fa)]),_0x5cea4c[_0x52137e(0x427)]=this[_0x52137e(0x68a)][_0x52137e(0x4fa)],await this[_0x52137e(0x3d9)][_0x52137e(0x646)][_0x52137e(0xdd)](_0x5cea4c,this[_0x52137e(0x68a)][_0x52137e(0x4fa)]);}catch(_0x7b7505){let _0xc48f8=_0x52137e(0x2b4),_0x3ee864=_0x7b7505 instanceof Error?_0x7b7505[_0x52137e(0x50d)]:typeof _0x7b7505==_0x52137e(0x4c5)?JSON['stringify'](_0x7b7505):_0x7b7505,_0x48407a=_0xc48f8+':\x20'+_0x3ee864;throw this['logger']['error'](this[_0x52137e(0x71d)]+'\x20('+this[_0x52137e(0x68a)]['wuid']+_0x52137e(0x4a2)+_0x48407a),new m(_0x48407a);}}async['createRegularFlow'](_0x386999){const _0x4a42a0=a0_0x6e1050;try{this[_0x4a42a0(0xe4)][_0x4a42a0(0x582)](this['instanceName']+'\x20('+this[_0x4a42a0(0x68a)][_0x4a42a0(0x4fa)]+'):\x20Criando\x20fluxo\x20regular...');let _0x6de814=_0x386999?.[_0x4a42a0(0x3fb)]===_0x4a42a0(0x758)?'global':this[_0x4a42a0(0x68a)][_0x4a42a0(0x4fa)];delete _0x386999[_0x4a42a0(0x1c9)],delete _0x386999[_0x4a42a0(0x45c)],delete _0x386999[_0x4a42a0(0x427)],_0x386999['default']===!0x0&&await this[_0x4a42a0(0x3d9)][_0x4a42a0(0x646)]['updateMany']({},{'default':!0x1},this[_0x4a42a0(0x68a)]['wuid']);let _0x40a3a3=new ie[(_0x4a42a0(0x5d3))][(_0x4a42a0(0x377))](),_0x63866={'_id':_0x40a3a3,'default':!0x0,'title':_0x4a42a0(0x6f8),'x':0x0,'y':0x0},_0x3b8f36={'_id':new ie['Types'][(_0x4a42a0(0x377))](),'order':0x1,'groupId':_0x40a3a3[_0x4a42a0(0x16c)](),'type':_0x4a42a0(0x57d)},_0x5b988d={'_id':new ie[(_0x4a42a0(0x5d3))][(_0x4a42a0(0x377))](),'owner':this[_0x4a42a0(0x68a)][_0x4a42a0(0x4fa)],'name':_0x386999[_0x4a42a0(0x4f4)],'groups':[_0x63866],'blocks':[_0x3b8f36],..._0x386999};return await this[_0x4a42a0(0x3d9)][_0x4a42a0(0x646)][_0x4a42a0(0xdd)](_0x5b988d,_0x6de814);}catch(_0x2943d9){let _0x348f2a='Erro\x20ao\x20criar\x20fluxo\x20regular',_0x267ef5=_0x2943d9 instanceof Error?_0x2943d9['message']:typeof _0x2943d9==_0x4a42a0(0x4c5)?JSON['stringify'](_0x2943d9):_0x2943d9,_0x375597=_0x348f2a+':\x20'+_0x267ef5;throw this[_0x4a42a0(0xe4)][_0x4a42a0(0x7e2)](this[_0x4a42a0(0x71d)]+'\x20('+this['instance'][_0x4a42a0(0x4fa)]+_0x4a42a0(0x4a2)+_0x375597),new m(_0x375597);}}async[a0_0x6e1050(0x628)](_0x5d535a,_0x347de4){const _0x2cc22a=a0_0x6e1050;this[_0x2cc22a(0xe4)][_0x2cc22a(0x4a3)](_0x2cc22a(0x17d));try{let _0x10e1a8=await this[_0x2cc22a(0x3d9)][_0x2cc22a(0x646)][_0x2cc22a(0x7a7)]({'where':{'_id':_0x5d535a}},_0x347de4);if(delete _0x10e1a8[_0x2cc22a(0x45f)],delete _0x10e1a8[_0x2cc22a(0x5de)],delete _0x10e1a8[_0x2cc22a(0x7c7)],delete _0x10e1a8['minutesToClose'],delete _0x10e1a8[_0x2cc22a(0x6d8)],_0x10e1a8[_0x2cc22a(0x3fb)]==='true'&&(_0x10e1a8[_0x2cc22a(0x3fb)]=_0x2cc22a(0x4d7)),_0x10e1a8&&_0x10e1a8[_0x2cc22a(0x1c9)]){for(let _0x38ba03 of _0x10e1a8[_0x2cc22a(0x1c9)])if(_0x38ba03!==_0x347de4){let _0x2c7853={..._0x10e1a8,'owner':_0x38ba03};await this['repository'][_0x2cc22a(0x646)]['findAndUpdate'](_0x10e1a8[_0x2cc22a(0x238)],_0x2c7853,_0x38ba03);}}}catch(_0x228716){this['logger'][_0x2cc22a(0x7e2)](_0x2cc22a(0x31a)+_0x228716);}}async[a0_0x6e1050(0x337)](_0x5471f7,_0x36e902){const _0x228547=a0_0x6e1050;try{this[_0x228547(0xe4)][_0x228547(0x582)](this['instanceName']+'\x20('+this[_0x228547(0x68a)][_0x228547(0x4fa)]+'):\x20\x27Deletando\x20fluxo,\x20name:\x20'+_0x5471f7[_0x228547(0x4f4)]+_0x228547(0x540)+_0x5471f7[_0x228547(0x3fb)]);let _0x257803=_0x5471f7['global']===_0x228547(0x758)?'global':this[_0x228547(0x68a)][_0x228547(0x4fa)],_0x4e60a9=await this[_0x228547(0x3d9)][_0x228547(0x646)][_0x228547(0x7a7)]({'where':{'name':_0x5471f7[_0x228547(0x4f4)]}},_0x257803);if(!_0x4e60a9)throw new m('Fluxo\x20não\x20encontrado.');if(_0x36e902!==te&&_0x4e60a9?.[_0x228547(0x3fb)]===_0x228547(0x758)&&_0x4e60a9?.[_0x228547(0x427)]!==this[_0x228547(0x68a)][_0x228547(0x4fa)])throw new m(_0x228547(0x2f8));if(_0x4e60a9&&_0x4e60a9[_0x228547(0x1c9)]&&_0x4e60a9[_0x228547(0x1c9)][_0x228547(0x401)]>0x0){for(let _0x9410c1 of _0x4e60a9['shareOwners'])if(_0x9410c1!==_0x257803){let _0x46bee1=await this['repository'][_0x228547(0x646)][_0x228547(0x7a7)]({'where':{'sharePass':_0x4e60a9['sharePass']}},_0x9410c1);if(_0x46bee1){_0x46bee1[_0x228547(0x1c9)]=_0x46bee1[_0x228547(0x1c9)][_0x228547(0x3e3)](_0x3807fc=>_0x3807fc!==_0x4e60a9[_0x228547(0x427)]);let _0x48f348={'shareOwners':_0x46bee1[_0x228547(0x1c9)]};_0x4e60a9[_0x228547(0x3fb)]==='true'&&(_0x48f348[_0x228547(0x3fb)]=_0x228547(0x531)),await this['repository'][_0x228547(0x646)][_0x228547(0x662)](_0x46bee1['_id'],_0x48f348,_0x9410c1);}}}return await this[_0x228547(0x3d9)][_0x228547(0x646)][_0x228547(0x396)]({'where':{'name':_0x5471f7[_0x228547(0x4f4)]}},_0x257803);}catch(_0x3cebf4){return this[_0x228547(0xe4)]['error'](this[_0x228547(0x71d)]+'\x20('+this[_0x228547(0x68a)][_0x228547(0x4fa)]+_0x228547(0x39e)+(_0x3cebf4 instanceof Error?_0x3cebf4[_0x228547(0x50d)]:JSON[_0x228547(0x69b)](_0x3cebf4,null,0x2))),{'message':_0x228547(0x1f9)+_0x3cebf4[_0x228547(0x50d)]};}}async['getFlow'](_0x43d933,_0x588136){const _0x4cbe9f=a0_0x6e1050;try{this['logger']['info'](this['instanceName']+'\x20('+this[_0x4cbe9f(0x68a)]['wuid']+_0x4cbe9f(0xe0)+_0x43d933+_0x4cbe9f(0x315)+_0x588136);let _0xe48bbb=_0x588136?.[_0x4cbe9f(0x46e)]()===_0x4cbe9f(0x758)?_0x4cbe9f(0x3fb):this['instance'][_0x4cbe9f(0x4fa)],_0x554e16=await this[_0x4cbe9f(0x3d9)]['flow'][_0x4cbe9f(0x7a7)]({'where':{'name':_0x43d933}},_0xe48bbb);if(!_0x554e16)throw new Error(_0x4cbe9f(0xd5));if(_0x554e16[_0x4cbe9f(0x432)]||(_0x554e16[_0x4cbe9f(0x432)]=(0x0,Ce['v4'])()),!this[_0x4cbe9f(0xf9)]&&(await this[_0x4cbe9f(0x2f4)](),!this[_0x4cbe9f(0xf9)]))return null;let _0x230075=this[_0x4cbe9f(0xf9)]?.['customFields'][_0x4cbe9f(0x4bf)](_0x4f8580=>_0x4f8580[_0x4cbe9f(0x4f4)]),_0x4e7a95=[_0x4cbe9f(0x71f),_0x4cbe9f(0x111),_0x4cbe9f(0x390),_0x4cbe9f(0x48b),_0x4cbe9f(0x349),_0x4cbe9f(0x68c),_0x4cbe9f(0x7a3),_0x4cbe9f(0x32c),_0x4cbe9f(0x25f),_0x4cbe9f(0x352),_0x4cbe9f(0x2d6)];_0x554e16[_0x4cbe9f(0x6e9)]=_0x554e16[_0x4cbe9f(0x6e9)][_0x4cbe9f(0x3e3)](_0x7a24ab=>!(_0x7a24ab[_0x4cbe9f(0x2f1)]===_0x4cbe9f(0x5e1)||_0x7a24ab[_0x4cbe9f(0x5e1)])),_0x4e7a95[_0x4cbe9f(0x463)](_0x2f37df=>{const _0x284392=_0x4cbe9f;_0x554e16[_0x284392(0x6e9)][_0x284392(0x122)]({'folder':'leadInfo','name':_0x2f37df,'value':'','doc':'','leadInfo':!0x0});}),_0x230075[_0x4cbe9f(0x463)](_0x4e8bca=>{const _0xc3df0=_0x4cbe9f;let _0x57e6e5=_0x554e16[_0xc3df0(0x6e9)]['findIndex'](_0x3a08ad=>_0x3a08ad[_0xc3df0(0x4f4)]===_0x4e8bca);_0x57e6e5===-0x1?_0x554e16[_0xc3df0(0x6e9)][_0xc3df0(0x122)]({'folder':_0xc3df0(0x5e1),'name':_0x4e8bca,'value':'','doc':'','leadInfo':!0x0}):(_0x554e16[_0xc3df0(0x6e9)][_0x57e6e5]['folder']=_0xc3df0(0x5e1),_0x554e16[_0xc3df0(0x6e9)][_0x57e6e5]['leadInfo']=!0x0);}),_0x554e16[_0x4cbe9f(0x4e5)]&&_0x554e16[_0x4cbe9f(0x4e5)][_0x4cbe9f(0x401)]>0x0&&_0x554e16[_0x4cbe9f(0x4e5)][_0x4cbe9f(0x463)](_0x21f864=>{const _0x1d4348=_0x4cbe9f;_0x21f864[_0x1d4348(0x309)]&&_0x21f864[_0x1d4348(0x1ce)]&&_0x21f864[_0x1d4348(0x309)]===_0x21f864[_0x1d4348(0x1ce)]&&(_0x21f864[_0x1d4348(0x1ce)]=null);});let _0x286024=await this[_0x4cbe9f(0x3d9)]['flow'][_0x4cbe9f(0x662)](_0x554e16[_0x4cbe9f(0x238)],_0x554e16,_0xe48bbb);if(!_0x286024)throw new Error(_0x4cbe9f(0x48c));return _0x286024;}catch(_0xcd0f11){let _0x2dfc8d=_0x4cbe9f(0x28f),_0x1fb716=_0xcd0f11 instanceof Error?_0xcd0f11[_0x4cbe9f(0x50d)]:typeof _0xcd0f11==_0x4cbe9f(0x4c5)?JSON[_0x4cbe9f(0x69b)](_0xcd0f11):_0xcd0f11,_0xf1a4a0=_0x2dfc8d+':\x20'+_0x1fb716;throw this[_0x4cbe9f(0xe4)][_0x4cbe9f(0x7e2)](this[_0x4cbe9f(0x71d)]+'\x20('+this[_0x4cbe9f(0x68a)]['wuid']+'):\x20'+_0xf1a4a0),new m(_0xf1a4a0);}}async[a0_0x6e1050(0x617)](){const _0x56e4a1=a0_0x6e1050;try{this[_0x56e4a1(0xe4)]['verbose'](this[_0x56e4a1(0x71d)]+'\x20('+this[_0x56e4a1(0x68a)]['wuid']+_0x56e4a1(0x2db)),await this[_0x56e4a1(0x3d9)]['flow'][_0x56e4a1(0x40c)](this[_0x56e4a1(0x68a)][_0x56e4a1(0x4fa)]);let _0x103613=await this['repository'][_0x56e4a1(0x646)][_0x56e4a1(0x533)]({'where':{}},this['instance'][_0x56e4a1(0x4fa)]),_0x3b3e64=await this[_0x56e4a1(0x3d9)][_0x56e4a1(0x646)][_0x56e4a1(0x533)]({'where':{}},_0x56e4a1(0x3fb));return _0x103613[_0x56e4a1(0x47b)](_0x3b3e64);}catch(_0x3e79b5){return this[_0x56e4a1(0xe4)][_0x56e4a1(0x7e2)](this[_0x56e4a1(0x71d)]+'\x20('+this['instance'][_0x56e4a1(0x4fa)]+_0x56e4a1(0x542)+(_0x3e79b5 instanceof Error?_0x3e79b5[_0x56e4a1(0x50d)]:JSON['stringify'](_0x3e79b5,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x3e79b5[_0x56e4a1(0x50d)]};}}async['editFlow'](_0x115930,_0x3c5cce){const _0x1b3ab8=a0_0x6e1050;try{this[_0x1b3ab8(0xe4)][_0x1b3ab8(0x582)](this['instanceName']+'\x20('+this[_0x1b3ab8(0x68a)][_0x1b3ab8(0x4fa)]+_0x1b3ab8(0x7ac));let _0x48d56c=_0x115930?.['global']?.['trim']()===_0x1b3ab8(0x758)?_0x1b3ab8(0x3fb):this['instance'][_0x1b3ab8(0x4fa)],_0x34a5fc=await this[_0x1b3ab8(0x3d9)][_0x1b3ab8(0x646)][_0x1b3ab8(0x7a7)]({'where':{'name':_0x115930[_0x1b3ab8(0x4f4)]}},_0x48d56c);if(!_0x34a5fc)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x3c5cce!==te&&_0x34a5fc?.[_0x1b3ab8(0x3fb)]==='true'&&_0x34a5fc?.[_0x1b3ab8(0x427)]!==this[_0x1b3ab8(0x68a)][_0x1b3ab8(0x4fa)])throw new m(_0x1b3ab8(0x7ad));_0x34a5fc?.['global']==='sync'&&(_0x115930={'default':_0x115930[_0x1b3ab8(0x45f)],'minutesToClose':_0x115930[_0x1b3ab8(0x3d8)],'readMessages':_0x115930['readMessages'],'testingWith':_0x115930[_0x1b3ab8(0x7c7)],'startCommandWord':_0x115930[_0x1b3ab8(0x5de)]}),_0x115930[_0x1b3ab8(0x45f)]===!0x0&&_0x34a5fc?.[_0x1b3ab8(0x3fb)]!==_0x1b3ab8(0x758)&&await this[_0x1b3ab8(0x3d9)][_0x1b3ab8(0x646)][_0x1b3ab8(0x782)]({},{'default':!0x1},_0x48d56c),delete _0x115930[_0x1b3ab8(0x1c9)],delete _0x115930['sharePass'],delete _0x115930[_0x1b3ab8(0x3fb)];let _0x54c69f=await this['repository'][_0x1b3ab8(0x646)][_0x1b3ab8(0x662)](_0x34a5fc[_0x1b3ab8(0x238)],_0x115930,_0x48d56c);return _0x54c69f&&_0x54c69f[_0x1b3ab8(0x1c9)]&&_0x54c69f['shareOwners'][_0x1b3ab8(0x401)]>0x1&&_0x54c69f[_0x1b3ab8(0x3fb)]!==_0x1b3ab8(0x4d7)&&this[_0x1b3ab8(0x628)](_0x54c69f[_0x1b3ab8(0x238)],_0x48d56c),_0x54c69f;}catch(_0x1c66cb){let _0x434a9b=_0x1b3ab8(0x2a4),_0x49e096=_0x1c66cb instanceof Error?_0x1c66cb[_0x1b3ab8(0x50d)]:typeof _0x1c66cb==_0x1b3ab8(0x4c5)?JSON[_0x1b3ab8(0x69b)](_0x1c66cb):_0x1c66cb,_0x185b4c=_0x434a9b+':\x20'+_0x49e096;throw this[_0x1b3ab8(0xe4)][_0x1b3ab8(0x7e2)](this['instanceName']+'\x20('+this[_0x1b3ab8(0x68a)][_0x1b3ab8(0x4fa)]+'):\x20'+_0x185b4c),new m(_0x185b4c);}}async[a0_0x6e1050(0x74c)](_0x243ddd,_0x2a6c93){const _0xce3f69=a0_0x6e1050;try{this[_0xce3f69(0xe4)][_0xce3f69(0x582)](this[_0xce3f69(0x71d)]+'\x20('+this[_0xce3f69(0x68a)]['wuid']+'):\x20Editando\x20bloco...');let _0x2a05af=_0x243ddd?.['global']?.[_0xce3f69(0x46e)]()==='true'?_0xce3f69(0x3fb):this['instance'][_0xce3f69(0x4fa)],_0x4bfb5c=await this[_0xce3f69(0x3d9)]['flow'][_0xce3f69(0x7a7)]({'where':{'name':_0x243ddd[_0xce3f69(0x4f4)]}},_0x2a05af);if(_0x4bfb5c||this[_0xce3f69(0x4d9)](_0xce3f69(0xd5)),_0x4bfb5c?.['global']===_0xce3f69(0x4d7))throw new m(_0xce3f69(0x348));if(_0x2a6c93!==te&&_0x4bfb5c?.[_0xce3f69(0x3fb)]===_0xce3f69(0x758)&&_0x4bfb5c?.[_0xce3f69(0x427)]!==this[_0xce3f69(0x68a)]['wuid'])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let {block:_0x5ecc31}=_0x243ddd;_0x5ecc31?.[_0xce3f69(0x65d)]?this[_0xce3f69(0x255)](_0x4bfb5c,_0x243ddd):_0x5ecc31?.['delete']?this[_0xce3f69(0x3bd)](_0x4bfb5c,_0x243ddd):_0x5ecc31['_id']?await this[_0xce3f69(0x1c3)](_0x4bfb5c,_0x243ddd):this['addBlock'](_0x4bfb5c,_0x243ddd);let _0xcfdddc=await this[_0xce3f69(0x3d9)][_0xce3f69(0x646)]['updateOne'](_0x4bfb5c[_0xce3f69(0x238)],_0x4bfb5c,_0x2a05af);if(_0xcfdddc&&_0xcfdddc[_0xce3f69(0x1c9)]&&_0xcfdddc['shareOwners'][_0xce3f69(0x401)]>0x1&&this['synchronizeFlows'](_0xcfdddc['_id'],this[_0xce3f69(0x68a)][_0xce3f69(0x4fa)]),!_0xcfdddc)throw new Error(_0xce3f69(0x48c));return _0xcfdddc;}catch(_0x53ee6c){this[_0xce3f69(0x4d9)](_0xce3f69(0x2a2)+_0x53ee6c[_0xce3f69(0x50d)]);}}async[a0_0x6e1050(0x255)](_0x59b52d,_0x1a3fd4){const _0x5f4bb6=a0_0x6e1050;let _0x1157aa=_0x1a3fd4[_0x5f4bb6(0x216)][_0x5f4bb6(0x238)],_0x8fcbb6=_0x59b52d[_0x5f4bb6(0x4e5)][_0x5f4bb6(0x15f)](_0x25a677=>_0x25a677[_0x5f4bb6(0x238)][_0x5f4bb6(0x16c)]()===_0x1157aa);if(!_0x8fcbb6){this[_0x5f4bb6(0xe4)][_0x5f4bb6(0x7e2)](this[_0x5f4bb6(0x71d)]+'\x20('+this['instance'][_0x5f4bb6(0x4fa)]+_0x5f4bb6(0x3a6)+_0x1157aa+_0x5f4bb6(0x6a8));return;}this[_0x5f4bb6(0xe4)][_0x5f4bb6(0x582)](this['instanceName']+'\x20('+this[_0x5f4bb6(0x68a)][_0x5f4bb6(0x4fa)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON['stringify'](_0x8fcbb6));let _0x2a0c7d=JSON[_0x5f4bb6(0x37b)](JSON[_0x5f4bb6(0x69b)](_0x8fcbb6));_0x2a0c7d[_0x5f4bb6(0x238)]=new ie[(_0x5f4bb6(0x45f))]['Types'][(_0x5f4bb6(0x377))](),this[_0x5f4bb6(0xe4)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20copiado:\x20'+JSON[_0x5f4bb6(0x69b)](_0x2a0c7d)),_0x59b52d[_0x5f4bb6(0x4e5)][_0x5f4bb6(0x122)](_0x2a0c7d),this[_0x5f4bb6(0x70c)](_0x59b52d[_0x5f4bb6(0x4e5)],_0x2a0c7d[_0x5f4bb6(0x309)]);}[a0_0x6e1050(0x4d9)](_0x20c15e){const _0x3f0445=a0_0x6e1050;throw this[_0x3f0445(0xe4)][_0x3f0445(0x7e2)](this['instanceName']+'\x20('+this[_0x3f0445(0x68a)][_0x3f0445(0x4fa)]+_0x3f0445(0x4a2)+_0x20c15e),new m(_0x20c15e);}[a0_0x6e1050(0x3bd)](_0x4fd4ad,_0x40ba9b){const _0x203cfe=a0_0x6e1050;let {block:_0x5092e1}=_0x40ba9b;if(_0x5092e1[_0x203cfe(0x413)]===_0x203cfe(0x57d)){this[_0x203cfe(0x4d9)](_0x203cfe(0x75a));return;}if(!_0x5092e1['_id']){this[_0x203cfe(0x4d9)](_0x203cfe(0x776));return;}let _0x25c4f8=_0x4fd4ad[_0x203cfe(0x4e5)][_0x203cfe(0x15f)](_0x23da40=>_0x23da40['_id']['toString']()===_0x40ba9b[_0x203cfe(0x216)][_0x203cfe(0x238)][_0x203cfe(0x16c)]());if(!_0x25c4f8){this[_0x203cfe(0x4d9)](_0x203cfe(0x262)+_0x5092e1[_0x203cfe(0x238)]+_0x203cfe(0x621));return;}_0x4fd4ad[_0x203cfe(0x4e5)]=_0x4fd4ad[_0x203cfe(0x4e5)][_0x203cfe(0x3e3)](_0x4f4cc8=>_0x4f4cc8[_0x203cfe(0x238)][_0x203cfe(0x16c)]()!==_0x40ba9b[_0x203cfe(0x216)]['_id'][_0x203cfe(0x16c)]()),_0x4fd4ad[_0x203cfe(0x26e)]=_0x4fd4ad[_0x203cfe(0x26e)][_0x203cfe(0x3e3)](_0x2e9523=>_0x2e9523[_0x203cfe(0x3a7)]!==_0x5092e1['_id'][_0x203cfe(0x16c)]()),_0x4fd4ad[_0x203cfe(0x529)]=_0x4fd4ad[_0x203cfe(0x529)][_0x203cfe(0x3e3)](_0x5ae7b4=>_0x5ae7b4[_0x203cfe(0x3a7)]!==_0x5092e1[_0x203cfe(0x238)][_0x203cfe(0x16c)]()),_0x4fd4ad[_0x203cfe(0x197)]=_0x4fd4ad['replyOptions'][_0x203cfe(0x3e3)](_0x369692=>_0x369692['blockId']!==_0x5092e1[_0x203cfe(0x238)]['toString']()),this[_0x203cfe(0x70c)](_0x4fd4ad[_0x203cfe(0x4e5)],_0x25c4f8['groupId']);}async[a0_0x6e1050(0x1c3)](_0x533a6d,_0x4be1c1){const _0x5e7d44=a0_0x6e1050;let _0x412398=_0x533a6d[_0x5e7d44(0x4e5)]['findIndex'](_0x3232ef=>_0x3232ef[_0x5e7d44(0x238)][_0x5e7d44(0x16c)]()===_0x4be1c1[_0x5e7d44(0x216)][_0x5e7d44(0x238)][_0x5e7d44(0x16c)]());if(this['logger']['verbose'](this[_0x5e7d44(0x71d)]+'\x20('+this['instance'][_0x5e7d44(0x4fa)]+_0x5e7d44(0x671)+_0x412398),_0x412398===-0x1){this[_0x5e7d44(0xe4)][_0x5e7d44(0x582)](_0x5e7d44(0x262)+_0x4be1c1[_0x5e7d44(0x216)][_0x5e7d44(0x238)]+_0x5e7d44(0x466));return;}if(_0x533a6d[_0x5e7d44(0x4e5)][_0x412398][_0x5e7d44(0x413)]===_0x5e7d44(0x57d)){let _0x262a44=Object['keys'](_0x4be1c1[_0x5e7d44(0x216)]);if(_0x262a44['length']>0x2||_0x262a44[_0x5e7d44(0x401)]===0x2&&!_0x262a44[_0x5e7d44(0x269)](_0x5e7d44(0x1ce))){this['throwAndLogError'](_0x5e7d44(0x73e));return;}}let _0x2000d3=_0x533a6d[_0x5e7d44(0x4e5)][_0x412398]['groupId'];for(let _0x1800af in _0x4be1c1[_0x5e7d44(0x216)])_0x4be1c1[_0x5e7d44(0x216)][_0x5e7d44(0x437)](_0x1800af)&&(_0x533a6d[_0x5e7d44(0x4e5)][_0x412398][_0x1800af]=_0x4be1c1[_0x5e7d44(0x216)][_0x1800af]);if(this[_0x5e7d44(0xe4)][_0x5e7d44(0x582)](this[_0x5e7d44(0x71d)]+'\x20('+this[_0x5e7d44(0x68a)][_0x5e7d44(0x4fa)]+_0x5e7d44(0x45b)+JSON[_0x5e7d44(0x69b)](_0x533a6d[_0x5e7d44(0x4e5)][_0x412398])),_0x533a6d[_0x5e7d44(0x4e5)][_0x412398]['apirequest']&&_0x5e7d44(0x2c4)in _0x533a6d['blocks'][_0x412398][_0x5e7d44(0x652)]){this['logger'][_0x5e7d44(0x582)](this[_0x5e7d44(0x71d)]+'\x20('+this[_0x5e7d44(0x68a)][_0x5e7d44(0x4fa)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x49ac32=JSON[_0x5e7d44(0x69b)](_0x533a6d[_0x5e7d44(0x4e5)][_0x412398][_0x5e7d44(0x652)][_0x5e7d44(0x2c4)],null,0x1);_0x49ac32[_0x5e7d44(0x401)]>0x2&&(_0x49ac32=_0x49ac32[_0x5e7d44(0x593)](0x1,_0x49ac32['length']-0x1)[_0x5e7d44(0x46e)]()),_0x533a6d['blocks'][_0x412398][_0x5e7d44(0x652)][_0x5e7d44(0x2af)]=_0x49ac32;}if(_0x533a6d[_0x5e7d44(0x4e5)][_0x412398]['apirequest']&&_0x5e7d44(0x61f)in _0x533a6d[_0x5e7d44(0x4e5)][_0x412398]['apirequest']&&!(_0x5e7d44(0x329)in _0x533a6d[_0x5e7d44(0x4e5)][_0x412398][_0x5e7d44(0x652)])){this[_0x5e7d44(0xe4)][_0x5e7d44(0x582)](this[_0x5e7d44(0x71d)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x533a6d[_0x5e7d44(0x4e5)][_0x412398][_0x5e7d44(0x652)]['bodyStringErrorParse']=!0x1;let _0x1163ad=JSON['stringify'](_0x533a6d[_0x5e7d44(0x4e5)][_0x412398]['apirequest']['body'],null,0x2);_0x533a6d[_0x5e7d44(0x4e5)][_0x412398][_0x5e7d44(0x652)][_0x5e7d44(0x329)]=_0x1163ad;}if(_0x533a6d[_0x5e7d44(0x4e5)][_0x412398][_0x5e7d44(0x652)]&&_0x5e7d44(0x329)in _0x533a6d[_0x5e7d44(0x4e5)][_0x412398][_0x5e7d44(0x652)]){_0x533a6d[_0x5e7d44(0x4e5)][_0x412398][_0x5e7d44(0x652)]['bodyStringErrorParse']=!0x1;let _0x815658=_0x533a6d[_0x5e7d44(0x4e5)][_0x412398][_0x5e7d44(0x652)][_0x5e7d44(0x329)],_0x16656c=this[_0x5e7d44(0x52f)](_0x815658);_0x533a6d[_0x5e7d44(0x4e5)][_0x412398][_0x5e7d44(0x652)][_0x5e7d44(0x329)]=_0x16656c['result'],_0x533a6d[_0x5e7d44(0x4e5)][_0x412398]['apirequest'][_0x5e7d44(0x5eb)]=_0x16656c[_0x5e7d44(0x7e2)];}let _0x35a852=_0x533a6d['blocks'][_0x412398]['groupId'];_0x2000d3!==_0x35a852?(this['reorderBlocks'](_0x533a6d[_0x5e7d44(0x4e5)],_0x2000d3),this['reorderBlocks'](_0x533a6d[_0x5e7d44(0x4e5)],_0x35a852)):this['reorderBlocks'](_0x533a6d[_0x5e7d44(0x4e5)],_0x2000d3);}[a0_0x6e1050(0x52f)](_0x32aa38){const _0x8afe34=a0_0x6e1050;let _0x55c997='\u205f',_0x4d5c49=!0x1,_0x3c6320='';for(let _0x18f3b0=0x0;_0x18f3b0<_0x32aa38[_0x8afe34(0x401)];_0x18f3b0++){let _0x4d64d6=_0x32aa38[_0x18f3b0];_0x4d64d6==='\x22'&&(_0x18f3b0===0x0||_0x32aa38[_0x18f3b0-0x1]!=='\x5c')&&(_0x4d5c49=!_0x4d5c49),!(!_0x4d5c49&&(_0x4d64d6==='\x0a'||_0x4d64d6==='\x20'||_0x4d64d6===_0x55c997))&&(_0x3c6320+=_0x4d64d6);}let _0xa1d27b={},_0x289e48=9876543210.1234,_0x3faab9=_0x3c6320['replace'](/\{\{([^}]+)\}\}/g,_0x34b839=>{let _0x340e7e=_0x34b839,_0x2e8979=''+_0x289e48;return _0xa1d27b[_0x2e8979]=_0x340e7e,_0x289e48+=0.0001,_0x2e8979;}),_0x481615='',_0x551e6f=!0x1;try{let _0x544ed2=JSON[_0x8afe34(0x37b)](_0x3faab9);_0x481615=JSON['stringify'](_0x544ed2,null,0x2),_0x481615=_0x481615['replace'](/\n( +)/g,(_0x5401df,_0x5c501c)=>{const _0x14a4b7=_0x8afe34;let _0x2390af=_0x5c501c[_0x14a4b7(0x401)];return'\x0a'+_0x55c997[_0x14a4b7(0x5fd)](_0x2390af*0x2);}),_0x481615=_0x481615[_0x8afe34(0x70d)](/(\d{10,}\.\d+)/g,_0x4ba4e9=>_0xa1d27b[_0x4ba4e9]||_0x4ba4e9);}catch(_0x38acee){console[_0x8afe34(0x7e2)](_0x8afe34(0x51e),_0x38acee),_0x481615=_0x32aa38,_0x551e6f=!0x0;}return{'result':_0x481615,'error':_0x551e6f};}[a0_0x6e1050(0x634)](_0x2aefd3,_0x2de5a1){const _0x2cad33=a0_0x6e1050;if(_0x2de5a1['block'][_0x2cad33(0x413)]===_0x2cad33(0x57d)){this[_0x2cad33(0x4d9)](_0x2cad33(0x66f));return;}if(_0x2de5a1[_0x2cad33(0x216)]['apirequest']&&_0x2cad33(0x2c4)in _0x2de5a1[_0x2cad33(0x216)][_0x2cad33(0x652)]){this['logger']['verbose'](this[_0x2cad33(0x71d)]+'\x20('+this['instance']['wuid']+_0x2cad33(0x30e));let _0x313e2e=JSON[_0x2cad33(0x69b)](_0x2de5a1[_0x2cad33(0x216)][_0x2cad33(0x652)][_0x2cad33(0x2c4)],null,0x1);_0x313e2e[_0x2cad33(0x401)]>0x2&&(_0x313e2e=_0x313e2e[_0x2cad33(0x593)](0x1,_0x313e2e[_0x2cad33(0x401)]-0x1)[_0x2cad33(0x46e)]()),_0x2de5a1[_0x2cad33(0x216)][_0x2cad33(0x652)]['headerString']=_0x313e2e;}_0x2de5a1['block'][_0x2cad33(0x652)]&&_0x2cad33(0x61f)in _0x2de5a1[_0x2cad33(0x216)][_0x2cad33(0x652)]&&(this[_0x2cad33(0xe4)][_0x2cad33(0x582)](this[_0x2cad33(0x71d)]+'\x20('+this['instance'][_0x2cad33(0x4fa)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x2de5a1[_0x2cad33(0x216)][_0x2cad33(0x652)][_0x2cad33(0x329)]=JSON[_0x2cad33(0x69b)](_0x2de5a1[_0x2cad33(0x216)][_0x2cad33(0x652)][_0x2cad33(0x61f)],null,0x1)['trim']()),_0x2aefd3[_0x2cad33(0x4e5)][_0x2cad33(0x122)](_0x2de5a1[_0x2cad33(0x216)]),this[_0x2cad33(0x70c)](_0x2aefd3['blocks'],_0x2de5a1['block'][_0x2cad33(0x309)]);}[a0_0x6e1050(0x70c)](_0x1ce269,_0x28f773){const _0x3d8fcb=a0_0x6e1050;let _0x31fce2=_0x1ce269[_0x3d8fcb(0x3e3)](_0x1ec709=>_0x1ec709['groupId']===_0x28f773);_0x31fce2[_0x3d8fcb(0x683)]((_0x2ead6a,_0x30c9dd)=>_0x2ead6a[_0x3d8fcb(0x1fc)]-_0x30c9dd[_0x3d8fcb(0x1fc)]),_0x31fce2['forEach']((_0x5bfdcd,_0x180e4c)=>_0x5bfdcd[_0x3d8fcb(0x1fc)]=_0x180e4c+0x1);}async[a0_0x6e1050(0x725)](_0x5c47b6,_0x309769){const _0x1a73ae=a0_0x6e1050;try{this['logger'][_0x1a73ae(0x582)](this[_0x1a73ae(0x71d)]+'\x20('+this[_0x1a73ae(0x68a)][_0x1a73ae(0x4fa)]+'):\x20Editando\x20replyOption...');let _0x5362b6=_0x5c47b6?.[_0x1a73ae(0x3fb)][_0x1a73ae(0x46e)]()===_0x1a73ae(0x758)?'global':this[_0x1a73ae(0x68a)]['wuid'];if(!_0x5c47b6||!_0x5c47b6['replyOption']){this['throwAndLogError'](_0x1a73ae(0x546));return;}let _0x190393=await this['repository'][_0x1a73ae(0x646)]['findOne']({'where':{'name':_0x5c47b6[_0x1a73ae(0x4f4)]}},_0x5362b6);if(_0x190393||this[_0x1a73ae(0x4d9)]('Flow\x20não\x20encontrado'),_0x190393?.[_0x1a73ae(0x3fb)]===_0x1a73ae(0x4d7))throw new m(_0x1a73ae(0x348));if(_0x309769!==te&&_0x190393?.[_0x1a73ae(0x3fb)]===_0x1a73ae(0x758)&&_0x190393?.[_0x1a73ae(0x427)]!==this[_0x1a73ae(0x68a)][_0x1a73ae(0x4fa)])throw new m(_0x1a73ae(0x7ad));let {replyOption:_0x33cf4a}=_0x5c47b6;_0x33cf4a?.[_0x1a73ae(0x5c9)]?(this['deleteReplyOption'](_0x190393,_0x5c47b6),this[_0x1a73ae(0x6a3)](_0x190393[_0x1a73ae(0x197)],_0x5c47b6[_0x1a73ae(0x14a)][_0x1a73ae(0x3a7)])):_0x33cf4a[_0x1a73ae(0x238)]?(await this[_0x1a73ae(0x543)](_0x190393,_0x5c47b6),this[_0x1a73ae(0x6a3)](_0x190393[_0x1a73ae(0x197)],_0x5c47b6[_0x1a73ae(0x14a)]['blockId'])):(this['addReplyOption'](_0x190393,_0x5c47b6),this[_0x1a73ae(0x6a3)](_0x190393[_0x1a73ae(0x197)],_0x5c47b6['replyOption'][_0x1a73ae(0x3a7)]));let _0x42ec45=await this[_0x1a73ae(0x3d9)][_0x1a73ae(0x646)]['updateOne'](_0x190393[_0x1a73ae(0x238)],_0x190393,_0x5362b6);if(_0x42ec45&&_0x42ec45[_0x1a73ae(0x1c9)]&&_0x42ec45[_0x1a73ae(0x1c9)]['length']>0x1&&_0x42ec45[_0x1a73ae(0x3fb)]!==_0x1a73ae(0x4d7)&&this[_0x1a73ae(0x628)](_0x42ec45[_0x1a73ae(0x238)],_0x5362b6),!_0x42ec45)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x42ec45;}catch(_0x1b19a4){this['throwAndLogError'](_0x1a73ae(0x27c)+_0x1b19a4);}}['reorderReplyOptions'](_0x8c9e08,_0x390870){const _0x909647=a0_0x6e1050;_0x8c9e08['forEach'](_0x595e54=>{const _0x43b9c4=a0_0x5953;_0x595e54[_0x43b9c4(0x3a7)]===_0x390870&&_0x595e54[_0x43b9c4(0x1fc)]===void 0x0&&(_0x595e54[_0x43b9c4(0x1fc)]=0x270f);});let _0x53c1c6=_0x8c9e08[_0x909647(0x3e3)](_0x3c02c2=>_0x3c02c2['blockId']===_0x390870);_0x53c1c6['sort']((_0x22c497,_0x9c3ecc)=>_0x22c497[_0x909647(0x1fc)]-_0x9c3ecc[_0x909647(0x1fc)]),_0x53c1c6[_0x909647(0x463)]((_0x5966d5,_0x12a3d1)=>{const _0x17ca12=_0x909647;_0x5966d5[_0x17ca12(0x1fc)]=_0x12a3d1+0x1;}),_0x8c9e08['forEach'](_0x4e2c8e=>{const _0x4c850b=_0x909647;if(_0x4e2c8e[_0x4c850b(0x3a7)]===_0x390870){let _0x409321=_0x53c1c6['find'](_0x222c58=>_0x222c58[_0x4c850b(0x238)]&&_0x4e2c8e['_id']&&_0x222c58[_0x4c850b(0x238)][_0x4c850b(0x16c)]()===_0x4e2c8e[_0x4c850b(0x238)]['toString']());_0x409321&&(_0x4e2c8e[_0x4c850b(0x1fc)]=_0x409321[_0x4c850b(0x1fc)]);}});}[a0_0x6e1050(0x2ea)](_0x4e5589,_0x3f6c8b){const _0x37b137=a0_0x6e1050;let {replyOption:_0x113d4c}=_0x3f6c8b;if(!_0x113d4c[_0x37b137(0x238)]){this['throwAndLogError']('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x4e5589[_0x37b137(0x197)]['find'](_0x2ced25=>_0x2ced25[_0x37b137(0x238)][_0x37b137(0x16c)]()===_0x3f6c8b[_0x37b137(0x14a)]['_id'][_0x37b137(0x16c)]())){this[_0x37b137(0x4d9)]('ReplyOption\x20com\x20ID\x20'+_0x113d4c['_id']+_0x37b137(0x621));return;}_0x4e5589[_0x37b137(0x197)]=_0x4e5589[_0x37b137(0x197)]['filter'](_0x3a8016=>_0x3a8016['_id'][_0x37b137(0x16c)]()!==_0x3f6c8b['replyOption'][_0x37b137(0x238)][_0x37b137(0x16c)]());}async[a0_0x6e1050(0x543)](_0x5536ec,_0x5c3767){const _0x24266b=a0_0x6e1050;let _0x57f9a7=_0x5536ec[_0x24266b(0x197)]['findIndex'](_0x55d9d8=>_0x55d9d8[_0x24266b(0x238)][_0x24266b(0x16c)]()===_0x5c3767[_0x24266b(0x14a)][_0x24266b(0x238)][_0x24266b(0x16c)]());if(_0x57f9a7===-0x1){this[_0x24266b(0x4d9)](_0x24266b(0x730)+_0x5c3767[_0x24266b(0x14a)][_0x24266b(0x238)]+_0x24266b(0x466));return;}for(let _0x3282f9 in _0x5c3767[_0x24266b(0x14a)])_0x5c3767[_0x24266b(0x14a)][_0x24266b(0x437)](_0x3282f9)&&(_0x5536ec[_0x24266b(0x197)][_0x57f9a7][_0x3282f9]=_0x5c3767[_0x24266b(0x14a)][_0x3282f9]);}['addReplyOption'](_0x59633c,_0x11a81f){const _0x382fbf=a0_0x6e1050;_0x59633c[_0x382fbf(0x197)]['push'](_0x11a81f['replyOption']);}async[a0_0x6e1050(0x2a1)](_0x5bc4a5,_0x2fbbe6){const _0x476b68=a0_0x6e1050;let _0x323ac6=_0x5bc4a5?.[_0x476b68(0x3fb)][_0x476b68(0x46e)]()===_0x476b68(0x758)?_0x476b68(0x3fb):this[_0x476b68(0x68a)][_0x476b68(0x4fa)];this[_0x476b68(0xe4)][_0x476b68(0x582)](this[_0x476b68(0x71d)]+'\x20('+this[_0x476b68(0x68a)][_0x476b68(0x4fa)]+_0x476b68(0x274)+_0x323ac6+_0x476b68(0x474)+_0x2fbbe6+_0x476b68(0x3ac)+JSON[_0x476b68(0x69b)](_0x5bc4a5,null,0x2));try{this[_0x476b68(0xe4)]['verbose'](this['instanceName']+'\x20('+this[_0x476b68(0x68a)][_0x476b68(0x4fa)]+_0x476b68(0x6e5));let _0x51cd73=await this[_0x476b68(0x3d9)][_0x476b68(0x646)][_0x476b68(0x7a7)]({'where':{'name':_0x5bc4a5[_0x476b68(0x4f4)]}},_0x323ac6);if(!_0x51cd73)throw this[_0x476b68(0xe4)]['verbose'](this[_0x476b68(0x71d)]+'\x20('+this[_0x476b68(0x68a)]['wuid']+_0x476b68(0x3f3)),new Error(_0x476b68(0xd5));if(_0x51cd73?.[_0x476b68(0x3fb)]===_0x476b68(0x4d7))throw this[_0x476b68(0xe4)][_0x476b68(0x582)](this[_0x476b68(0x71d)]+'\x20('+this[_0x476b68(0x68a)][_0x476b68(0x4fa)]+_0x476b68(0x675)),new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x2fbbe6!==te&&_0x51cd73?.[_0x476b68(0x3fb)]===_0x476b68(0x758)&&_0x51cd73?.[_0x476b68(0x427)]!==this['instance'][_0x476b68(0x4fa)])throw this[_0x476b68(0xe4)][_0x476b68(0x582)](this['instanceName']+'\x20('+this[_0x476b68(0x68a)]['wuid']+_0x476b68(0x2fb)),new m(_0x476b68(0x7ad));if(_0x5bc4a5[_0x476b68(0x599)]&&_0x5bc4a5[_0x476b68(0x599)]?.['delete']===!0x0){if(this[_0x476b68(0xe4)][_0x476b68(0x582)](this['instanceName']+'\x20('+this['instance'][_0x476b68(0x4fa)]+_0x476b68(0x5d2)),_0x5bc4a5[_0x476b68(0x599)][_0x476b68(0x45f)]===!0x0)return{'message':_0x476b68(0x248)};if(_0x51cd73[_0x476b68(0x4e5)][_0x476b68(0x6ae)](_0x12b540=>_0x12b540[_0x476b68(0x309)]['toString']()===_0x5bc4a5[_0x476b68(0x599)][_0x476b68(0x238)]))return this['logger'][_0x476b68(0x582)](this[_0x476b68(0x71d)]+'\x20('+this[_0x476b68(0x68a)][_0x476b68(0x4fa)]+_0x476b68(0x75e)),{'message':_0x476b68(0x63c)};_0x51cd73['groups']=_0x51cd73[_0x476b68(0x5dc)][_0x476b68(0x3e3)](_0x180d18=>_0x180d18[_0x476b68(0x238)]['toString']()!==_0x5bc4a5['group']['_id']);}else{if(_0x5bc4a5[_0x476b68(0x599)]){if(_0x5bc4a5[_0x476b68(0x599)][_0x476b68(0x45f)]===!0x0)return{'message':_0x476b68(0x3e4)};if(_0x5bc4a5[_0x476b68(0x599)][_0x476b68(0x238)]){let _0x514509=_0x51cd73[_0x476b68(0x5dc)][_0x476b68(0x15f)](_0x45bd9c=>_0x45bd9c[_0x476b68(0x238)][_0x476b68(0x16c)]()===_0x5bc4a5['group']['_id']);_0x514509&&(_0x5bc4a5[_0x476b68(0x599)]['x']<0x0&&(_0x5bc4a5[_0x476b68(0x599)]['x']=0x0),_0x5bc4a5[_0x476b68(0x599)]['y']<0x0&&(_0x5bc4a5[_0x476b68(0x599)]['y']=0x0),Object[_0x476b68(0x147)](_0x514509,_0x5bc4a5[_0x476b68(0x599)]));}else _0x51cd73['groups'][_0x476b68(0x122)](_0x5bc4a5['group']);}}let _0x5acc7a=await this['repository']['flow']['updateOne'](_0x51cd73[_0x476b68(0x238)],_0x51cd73,_0x323ac6);if(_0x5acc7a&&_0x5acc7a[_0x476b68(0x1c9)]&&_0x5acc7a[_0x476b68(0x1c9)][_0x476b68(0x401)]>0x1&&_0x5acc7a['global']!==_0x476b68(0x4d7)&&this[_0x476b68(0x628)](_0x5acc7a['_id'],_0x323ac6),!_0x5acc7a)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x5acc7a;}catch(_0x53b1f4){let _0x2f35ea='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x4333d4=_0x53b1f4 instanceof Error?_0x53b1f4[_0x476b68(0x50d)]:typeof _0x53b1f4=='object'?JSON[_0x476b68(0x69b)](_0x53b1f4):_0x53b1f4,_0xb234e1=_0x2f35ea+':\x20'+_0x4333d4;throw this[_0x476b68(0xe4)][_0x476b68(0x7e2)](this[_0x476b68(0x71d)]+'\x20('+this[_0x476b68(0x68a)]['wuid']+_0x476b68(0x4a2)+_0xb234e1),new m(_0xb234e1);}}async[a0_0x6e1050(0x18e)](_0x2274cd,_0xba5a20){const _0x140bd2=a0_0x6e1050;try{this['logger']['verbose'](this[_0x140bd2(0x71d)]+'\x20('+this[_0x140bd2(0x68a)]['wuid']+_0x140bd2(0x618));let _0x3fb28d=_0x2274cd?.['global'][_0x140bd2(0x46e)]()===_0x140bd2(0x758)?_0x140bd2(0x3fb):this[_0x140bd2(0x68a)][_0x140bd2(0x4fa)],_0x4a36a7=await this[_0x140bd2(0x3d9)][_0x140bd2(0x646)][_0x140bd2(0x7a7)]({'where':{'name':_0x2274cd[_0x140bd2(0x4f4)]}},_0x3fb28d);if(!_0x4a36a7)throw new Error('Flow\x20não\x20encontrado');if(_0x4a36a7?.[_0x140bd2(0x3fb)]==='sync')throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0xba5a20!==te&&_0x4a36a7?.[_0x140bd2(0x3fb)]==='true'&&_0x4a36a7?.[_0x140bd2(0x427)]!==this[_0x140bd2(0x68a)][_0x140bd2(0x4fa)])throw new m(_0x140bd2(0x7ad));let _0xcc996=!0x1;if(_0x2274cd[_0x140bd2(0x3ba)]?.[_0x140bd2(0x5c9)]===!0x0)_0x4a36a7['conditions']=_0x4a36a7[_0x140bd2(0x26e)][_0x140bd2(0x3e3)](_0x51404f=>_0x51404f&&_0x2274cd[_0x140bd2(0x3ba)]&&_0x51404f['_id']&&_0x2274cd[_0x140bd2(0x3ba)][_0x140bd2(0x238)]&&_0x51404f[_0x140bd2(0x238)][_0x140bd2(0x16c)]()!==_0x2274cd[_0x140bd2(0x3ba)][_0x140bd2(0x238)][_0x140bd2(0x16c)]()),_0xcc996=!0x0;else{let _0x32213d=_0x4a36a7[_0x140bd2(0x26e)][_0x140bd2(0x15f)](_0x3648f7=>_0x3648f7&&_0x2274cd[_0x140bd2(0x3ba)]&&_0x3648f7[_0x140bd2(0x238)]&&_0x2274cd[_0x140bd2(0x3ba)][_0x140bd2(0x238)]&&_0x3648f7['_id'][_0x140bd2(0x16c)]()===_0x2274cd[_0x140bd2(0x3ba)][_0x140bd2(0x238)][_0x140bd2(0x16c)]());_0x32213d?(_0xcc996=_0x32213d['order']!==_0x2274cd[_0x140bd2(0x3ba)][_0x140bd2(0x1fc)],Object[_0x140bd2(0x147)](_0x32213d,_0x2274cd[_0x140bd2(0x3ba)])):(_0x4a36a7[_0x140bd2(0x26e)][_0x140bd2(0x122)](_0x2274cd[_0x140bd2(0x3ba)]),_0xcc996=!0x0);}if(_0xcc996){_0x4a36a7[_0x140bd2(0x26e)]['sort']((_0x4fb1d7,_0x18a0c3)=>_0x4fb1d7[_0x140bd2(0x1fc)]>_0x18a0c3[_0x140bd2(0x1fc)]?0x1:_0x18a0c3['order']>_0x4fb1d7['order']?-0x1:0x0);for(let _0x39b512=0x0;_0x39b512<_0x4a36a7[_0x140bd2(0x26e)][_0x140bd2(0x401)];_0x39b512++)_0x4a36a7['conditions'][_0x39b512]['order']=_0x39b512+0x1;_0x4a36a7['conditions']['length']>0x0&&(_0x4a36a7[_0x140bd2(0x26e)][0x0]['OrAnd']='and');}let _0x4af90f=await this[_0x140bd2(0x3d9)]['flow']['updateOne'](_0x4a36a7[_0x140bd2(0x238)],_0x4a36a7,_0x3fb28d);if(_0x4af90f&&_0x4af90f[_0x140bd2(0x1c9)]&&_0x4af90f[_0x140bd2(0x1c9)]['length']>0x1&&_0x4af90f[_0x140bd2(0x3fb)]!==_0x140bd2(0x4d7)&&this['synchronizeFlows'](_0x4af90f['_id'],_0x3fb28d),!_0x4af90f)throw new Error(_0x140bd2(0x48c));return _0x4af90f;}catch(_0x112e6f){let _0x49cf43=_0x140bd2(0x2f9),_0x54d1b6=_0x112e6f instanceof Error?_0x112e6f[_0x140bd2(0x50d)]:typeof _0x112e6f==_0x140bd2(0x4c5)?JSON['stringify'](_0x112e6f):_0x112e6f,_0x388f36=_0x49cf43+':\x20'+_0x54d1b6;throw this[_0x140bd2(0xe4)][_0x140bd2(0x7e2)](this[_0x140bd2(0x71d)]+'\x20('+this[_0x140bd2(0x68a)]['wuid']+'):\x20'+_0x388f36),new m(_0x388f36);}}async[a0_0x6e1050(0x2cf)](_0x33c17f,_0x5aa124){const _0x4fdd83=a0_0x6e1050;try{this[_0x4fdd83(0xe4)]['verbose'](this[_0x4fdd83(0x71d)]+'\x20('+this[_0x4fdd83(0x68a)][_0x4fdd83(0x4fa)]+_0x4fdd83(0x480));let _0x52a2bd=_0x33c17f?.[_0x4fdd83(0x3fb)][_0x4fdd83(0x46e)]()===_0x4fdd83(0x758)?_0x4fdd83(0x3fb):this[_0x4fdd83(0x68a)][_0x4fdd83(0x4fa)],_0x5003ee=await this[_0x4fdd83(0x3d9)][_0x4fdd83(0x646)]['findOne']({'where':{'name':_0x33c17f['name']}},_0x52a2bd);if(!_0x5003ee)throw new Error('Flow\x20não\x20encontrado');if(_0x5003ee?.[_0x4fdd83(0x3fb)]===_0x4fdd83(0x4d7))throw new m(_0x4fdd83(0x348));if(_0x5aa124!==te&&_0x5003ee?.[_0x4fdd83(0x3fb)]===_0x4fdd83(0x758)&&_0x5003ee?.[_0x4fdd83(0x427)]!==this[_0x4fdd83(0x68a)][_0x4fdd83(0x4fa)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let _0x116077=!0x1;if(_0x33c17f[_0x4fdd83(0x139)]?.[_0x4fdd83(0x5c9)]===!0x0)_0x5003ee['varedits']=_0x5003ee['varedits'][_0x4fdd83(0x3e3)](_0x59218a=>_0x59218a&&_0x33c17f[_0x4fdd83(0x139)]&&_0x59218a[_0x4fdd83(0x238)]&&_0x33c17f[_0x4fdd83(0x139)][_0x4fdd83(0x238)]&&_0x59218a[_0x4fdd83(0x238)][_0x4fdd83(0x16c)]()!==_0x33c17f['varedit'][_0x4fdd83(0x238)]['toString']()),_0x116077=!0x0;else{let _0x4e964f=_0x5003ee[_0x4fdd83(0x529)][_0x4fdd83(0x15f)](_0x346412=>_0x346412&&_0x33c17f[_0x4fdd83(0x139)]&&_0x346412[_0x4fdd83(0x238)]&&_0x33c17f[_0x4fdd83(0x139)][_0x4fdd83(0x238)]&&_0x346412['_id'][_0x4fdd83(0x16c)]()===_0x33c17f['varedit'][_0x4fdd83(0x238)][_0x4fdd83(0x16c)]());_0x4e964f?(_0x116077=_0x4e964f[_0x4fdd83(0x1fc)]!==_0x33c17f[_0x4fdd83(0x139)][_0x4fdd83(0x1fc)],Object[_0x4fdd83(0x147)](_0x4e964f,_0x33c17f[_0x4fdd83(0x139)])):(_0x5003ee[_0x4fdd83(0x529)][_0x4fdd83(0x122)](_0x33c17f[_0x4fdd83(0x139)]),_0x116077=!0x0);}if(_0x116077){_0x5003ee[_0x4fdd83(0x529)][_0x4fdd83(0x683)]((_0x310175,_0x33bc4b)=>_0x310175[_0x4fdd83(0x1fc)]>_0x33bc4b[_0x4fdd83(0x1fc)]?0x1:_0x33bc4b[_0x4fdd83(0x1fc)]>_0x310175[_0x4fdd83(0x1fc)]?-0x1:0x0);for(let _0x10fc1e=0x0;_0x10fc1e<_0x5003ee[_0x4fdd83(0x529)][_0x4fdd83(0x401)];_0x10fc1e++)_0x5003ee['varedits'][_0x10fc1e][_0x4fdd83(0x1fc)]=_0x10fc1e+0x1;}let _0x3e3f8e=await this[_0x4fdd83(0x3d9)][_0x4fdd83(0x646)][_0x4fdd83(0x662)](_0x5003ee[_0x4fdd83(0x238)],_0x5003ee,_0x52a2bd);if(_0x3e3f8e&&_0x3e3f8e['shareOwners']&&_0x3e3f8e[_0x4fdd83(0x1c9)]['length']>0x1&&_0x3e3f8e['global']!==_0x4fdd83(0x4d7)&&this[_0x4fdd83(0x628)](_0x3e3f8e[_0x4fdd83(0x238)],_0x52a2bd),!_0x3e3f8e)throw new Error(_0x4fdd83(0x48c));return _0x3e3f8e;}catch(_0x4378c8){let _0x192f7c=_0x4fdd83(0x2f9),_0x545332=_0x4378c8 instanceof Error?_0x4378c8['message']:typeof _0x4378c8==_0x4fdd83(0x4c5)?JSON['stringify'](_0x4378c8):_0x4378c8,_0x12063a=_0x192f7c+':\x20'+_0x545332;throw this[_0x4fdd83(0xe4)][_0x4fdd83(0x7e2)](this[_0x4fdd83(0x71d)]+'\x20('+this[_0x4fdd83(0x68a)]['wuid']+_0x4fdd83(0x4a2)+_0x12063a),new m(_0x12063a);}}async[a0_0x6e1050(0xed)](_0x4fa648,_0x37a588){const _0x13f41d=a0_0x6e1050;try{this[_0x13f41d(0xe4)][_0x13f41d(0x582)](this[_0x13f41d(0x71d)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x4044fb=_0x4fa648?.[_0x13f41d(0x3fb)][_0x13f41d(0x46e)]()===_0x13f41d(0x758)?_0x13f41d(0x3fb):this[_0x13f41d(0x68a)][_0x13f41d(0x4fa)],_0x546b2b=await this['repository'][_0x13f41d(0x646)][_0x13f41d(0x7a7)]({'where':{'name':_0x4fa648['name']}},_0x4044fb);if(!_0x546b2b)throw new Error(_0x13f41d(0xd5));if(_0x546b2b?.[_0x13f41d(0x3fb)]===_0x13f41d(0x4d7))throw new m(_0x13f41d(0x348));if(_0x37a588!==te&&_0x546b2b?.[_0x13f41d(0x3fb)]===_0x13f41d(0x758)&&_0x546b2b?.[_0x13f41d(0x427)]!==this['instance'][_0x13f41d(0x4fa)])throw new m(_0x13f41d(0x7ad));if(_0x37a588!==te&&_0x546b2b?.['global']==='true'&&_0x546b2b?.['owner']!==this['instance']['wuid'])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');_0x4fa648[_0x13f41d(0x7ca)]['name']=_0x4fa648['variable'][_0x13f41d(0x4f4)][_0x13f41d(0x46e)](),_0x4fa648['variable'][_0x13f41d(0x4f4)][_0x13f41d(0x177)]('_')&&(_0x4fa648['variable'][_0x13f41d(0x4f4)]=_0x4fa648['variable'][_0x13f41d(0x4f4)][_0x13f41d(0x593)](0x1)),_0x4fa648[_0x13f41d(0x7ca)][_0x13f41d(0x4f4)]=_0x4fa648[_0x13f41d(0x7ca)]['name'][_0x13f41d(0x46e)]();let _0x265eeb=_0x546b2b[_0x13f41d(0x6e9)][_0x13f41d(0x15f)](_0x4d6574=>_0x4d6574[_0x13f41d(0x4f4)]===_0x4fa648[_0x13f41d(0x7ca)][_0x13f41d(0x4f4)]);if(_0x265eeb?.[_0x13f41d(0x5e1)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x4fa648[_0x13f41d(0x7ca)]?.[_0x13f41d(0x5c9)]===!0x0){if(!_0x265eeb)return{'message':'Variável\x20não\x20encontrada!'};_0x546b2b['variables']=_0x546b2b[_0x13f41d(0x6e9)][_0x13f41d(0x3e3)](_0x149e17=>_0x149e17[_0x13f41d(0x4f4)]!==_0x4fa648[_0x13f41d(0x7ca)]['name']);}else _0x265eeb?Object['assign'](_0x265eeb,_0x4fa648[_0x13f41d(0x7ca)]):_0x546b2b[_0x13f41d(0x6e9)][_0x13f41d(0x122)](_0x4fa648['variable']);let _0x48bce6=await this[_0x13f41d(0x3d9)][_0x13f41d(0x646)][_0x13f41d(0x662)](_0x546b2b[_0x13f41d(0x238)],_0x546b2b,_0x4044fb);if(_0x48bce6&&_0x48bce6[_0x13f41d(0x1c9)]&&_0x48bce6[_0x13f41d(0x1c9)]['length']>0x1&&_0x48bce6[_0x13f41d(0x3fb)]!==_0x13f41d(0x4d7)&&this[_0x13f41d(0x628)](_0x48bce6['_id'],_0x4044fb),!_0x48bce6)throw new Error(_0x13f41d(0x48c));return _0x48bce6;}catch(_0x210bbc){let _0x3827b1=_0x13f41d(0x5f5),_0x982527=_0x210bbc instanceof Error?_0x210bbc[_0x13f41d(0x50d)]:typeof _0x210bbc==_0x13f41d(0x4c5)?JSON[_0x13f41d(0x69b)](_0x210bbc):_0x210bbc,_0x7216b7=_0x3827b1+':\x20'+_0x982527;throw this['logger'][_0x13f41d(0x7e2)](this['instanceName']+'\x20('+this[_0x13f41d(0x68a)]['wuid']+_0x13f41d(0x4a2)+_0x7216b7),new m(_0x7216b7);}}async['startFlow'](_0x58691a){const _0x229b79=a0_0x6e1050;let _0x540c9a=null;try{if(!this[_0x229b79(0xf9)]?.['flowConfig'][_0x229b79(0x23a)])throw new m('Fluxos\x20não\x20estão\x20ativados');this['logger'][_0x229b79(0x582)](this[_0x229b79(0x71d)]+'\x20('+this[_0x229b79(0x68a)][_0x229b79(0x4fa)]+_0x229b79(0x415));let _0x4d4509=(await this[_0x229b79(0x316)]({'numbers':[_0x58691a[_0x229b79(0x21b)]]}))[0x0];if(!_0x4d4509['exists']&&!(0x0,f[_0x229b79(0x3be)])(_0x4d4509['jid'])&&!_0x4d4509['jid'][_0x229b79(0x269)](_0x229b79(0x46b)))throw _0x540c9a=JSON['stringify'](_0x4d4509,null,0x2),new m(_0x4d4509);let _0x3aed2a=await this[_0x229b79(0x3d9)]['flow'][_0x229b79(0x7a7)]({'where':{'name':_0x58691a[_0x229b79(0x4f4)]}},this[_0x229b79(0x68a)]['wuid']);if(!_0x3aed2a)return this[_0x229b79(0xe4)]['error'](this[_0x229b79(0x71d)]+'\x20('+this[_0x229b79(0x68a)]['wuid']+_0x229b79(0x3f3)),{'message':_0x229b79(0xd5)};let _0x2b775e=await this[_0x229b79(0x653)](_0x3aed2a,_0x4d4509[_0x229b79(0x379)],_0x58691a[_0x229b79(0x71a)]);if(_0x2b775e){this[_0x229b79(0xe4)][_0x229b79(0x582)](this[_0x229b79(0x71d)]+'\x20('+this[_0x229b79(0x68a)]['wuid']+_0x229b79(0x1d2));let _0x388dbe=await this[_0x229b79(0x64a)](_0x2b775e);return _0x388dbe&&await this[_0x229b79(0x256)](_0x2b775e,_0x388dbe),{'message':_0x229b79(0x624)+_0x58691a[_0x229b79(0x21b)]};}}catch(_0x3beb08){if(this['logger'][_0x229b79(0x7e2)](this[_0x229b79(0x71d)]+'\x20('+this['instance'][_0x229b79(0x4fa)]+_0x229b79(0x423)+(_0x3beb08 instanceof Error?_0x3beb08[_0x229b79(0x50d)]:JSON['stringify'](_0x3beb08,null,0x2))),_0x540c9a=_0x3beb08 instanceof Error?_0x3beb08[_0x229b79(0x50d)]:JSON['stringify'](_0x3beb08,null,0x2),_0x540c9a)throw new m(_0x229b79(0x6b2)+_0x540c9a);}}async['startFlowWebhook'](_0x488996,_0x3daf75,_0x1971d6){const _0x4ba702=a0_0x6e1050;let _0x374faa=null;try{if(!this[_0x4ba702(0xf9)]?.[_0x4ba702(0x3c1)][_0x4ba702(0x23a)])throw new m(_0x4ba702(0x18c));if(this['logger']['verbose'](this[_0x4ba702(0x71d)]+'\x20('+this[_0x4ba702(0x68a)][_0x4ba702(0x4fa)]+_0x4ba702(0x415)),_0x3daf75){let _0x18e566=(await this[_0x4ba702(0x316)]({'numbers':[_0x3daf75]}))[0x0];if(!_0x18e566['exists']&&!(0x0,f[_0x4ba702(0x3be)])(_0x18e566[_0x4ba702(0x379)])&&!_0x18e566['jid'][_0x4ba702(0x269)](_0x4ba702(0x46b)))throw _0x374faa=JSON[_0x4ba702(0x69b)](_0x18e566,null,0x2),new m(_0x18e566);_0x3daf75=_0x18e566['jid'];}else _0x3daf75||(_0x3daf75=(0x0,Ce['v4'])());let _0x1ebce3=await this['repository']['flow']['findOne']({'where':{'startID':_0x488996}},this[_0x4ba702(0x68a)]['wuid']);if(!_0x1ebce3)throw this[_0x4ba702(0xe4)][_0x4ba702(0x7e2)](this['instanceName']+'\x20('+this[_0x4ba702(0x68a)]['wuid']+_0x4ba702(0x3f3)),new m('Flow\x20não\x20encontrado');let _0x1d59f4=await this['createConversationforStartFlow'](_0x1ebce3,_0x3daf75,null);if(_0x1d59f4){this[_0x4ba702(0xe4)][_0x4ba702(0x582)](this[_0x4ba702(0x71d)]+'\x20('+this[_0x4ba702(0x68a)][_0x4ba702(0x4fa)]+_0x4ba702(0x5e9));let _0x329dec;if(_0x1971d6){let _0x2a02af=_0x1d59f4[_0x4ba702(0x638)]['realVariables'],_0x51c130=this[_0x4ba702(0x63a)](_0x1971d6);Object['assign'](_0x2a02af,_0x51c130),_0x1d59f4[_0x4ba702(0x638)][_0x4ba702(0x786)]=_0x2a02af,_0x329dec={'error':!0x1,'apiResponse':_0x1971d6};}let _0x1e382f=await this['NextBlock'](_0x1d59f4);return _0x1e382f&&await this[_0x4ba702(0x256)](_0x1d59f4,_0x1e382f),{'message':_0x4ba702(0x3d2)};}}catch(_0x3ec97f){if(this[_0x4ba702(0xe4)][_0x4ba702(0x7e2)](this[_0x4ba702(0x71d)]+'\x20('+this[_0x4ba702(0x68a)][_0x4ba702(0x4fa)]+_0x4ba702(0x423)+(_0x3ec97f instanceof Error?_0x3ec97f[_0x4ba702(0x50d)]:JSON[_0x4ba702(0x69b)](_0x3ec97f,null,0x2))),_0x374faa=_0x3ec97f instanceof Error?_0x3ec97f[_0x4ba702(0x50d)]:JSON[_0x4ba702(0x69b)](_0x3ec97f,null,0x2),_0x374faa)throw new m(_0x4ba702(0x6b2)+_0x374faa);}}async[a0_0x6e1050(0x44c)](_0x219cec){const _0x52ea31=a0_0x6e1050;try{let _0x3aff1e={'remoteJid':_0x219cec,'status':_0x52ea31(0x381)},_0x55bf9c={'status':_0x52ea31(0x4d8)},_0x533c38=await this['repository'][_0x52ea31(0x1c4)]['updateMany'](_0x3aff1e,_0x55bf9c,this['instance']['wuid']);return this['logger'][_0x52ea31(0x582)](this[_0x52ea31(0x71d)]+'\x20('+this[_0x52ea31(0x68a)][_0x52ea31(0x4fa)]+_0x52ea31(0x14c)),_0x533c38;}catch(_0x3d34ea){throw this['logger'][_0x52ea31(0x7e2)](this[_0x52ea31(0x71d)]+'\x20('+this[_0x52ea31(0x68a)][_0x52ea31(0x4fa)]+_0x52ea31(0x37a)+_0x3d34ea['message']),_0x3d34ea;}}async[a0_0x6e1050(0x653)](_0x404b87,_0x56c4ac,_0x491508){const _0x5b9aa4=a0_0x6e1050;this['logger'][_0x5b9aa4(0x582)](this['instanceName']+'\x20('+this[_0x5b9aa4(0x68a)][_0x5b9aa4(0x4fa)]+_0x5b9aa4(0x6cd)),await this[_0x5b9aa4(0x44c)](_0x56c4ac);try{let _0x33993d=require(_0x5b9aa4(0x199))[_0x5b9aa4(0x377)],_0xa12ec7=Date[_0x5b9aa4(0x631)](),_0x544af5=_0x5b9aa4(0x57d),_0x3ce1cb={},_0xb1254={},_0xd611e4={..._0x404b87,'chatLog':null},_0x30ac4f=await this[_0x5b9aa4(0x1d7)](_0xd611e4[_0x5b9aa4(0x6e9)]),_0x38eaf5=await this['getVariablesChat'](_0x56c4ac),_0x221986={..._0x30ac4f,..._0x38eaf5,'_remoteJid':_0x56c4ac},_0x4ab3a7={'lastReceivedMessage':_0x3ce1cb,'lastSendMessage':_0xb1254,'lastBlockId':_0x544af5,'lastCondition':!0x0,'realVariables':_0x221986};_0xd611e4[_0x5b9aa4(0x638)]=_0x4ab3a7,_0xd611e4[_0x5b9aa4(0x638)][_0x5b9aa4(0x786)]={..._0x221986,..._0x491508},delete _0xd611e4[_0x5b9aa4(0x238)],_0xd611e4[_0x5b9aa4(0x238)]=new _0x33993d(),_0xd611e4[_0x5b9aa4(0x307)]=_0xa12ec7,_0xd611e4[_0x5b9aa4(0x349)]=_0x5b9aa4(0x381),_0xd611e4[_0x5b9aa4(0x21b)]=_0x56c4ac;let _0x366c0c=await this[_0x5b9aa4(0x3d9)]['flowConversation'][_0x5b9aa4(0x662)](_0xd611e4[_0x5b9aa4(0x238)],_0xd611e4,this[_0x5b9aa4(0x68a)][_0x5b9aa4(0x4fa)]);return this[_0x5b9aa4(0xe4)][_0x5b9aa4(0x582)](this[_0x5b9aa4(0x71d)]+'\x20('+this[_0x5b9aa4(0x68a)][_0x5b9aa4(0x4fa)]+_0x5b9aa4(0x5d0)),_0x366c0c?_0xd611e4:null;}catch(_0x3c96b9){let _0x18929c=_0x5b9aa4(0x649),_0x47848b=_0x3c96b9 instanceof Error?_0x3c96b9[_0x5b9aa4(0x50d)]:typeof _0x3c96b9==_0x5b9aa4(0x4c5)?JSON[_0x5b9aa4(0x69b)](_0x3c96b9):_0x3c96b9,_0x465de3=_0x18929c+':\x20'+_0x47848b;throw this['logger'][_0x5b9aa4(0x7e2)](this['instanceName']+'\x20('+this[_0x5b9aa4(0x68a)][_0x5b9aa4(0x4fa)]+_0x5b9aa4(0x4a2)+_0x465de3),new m(_0x465de3);}}async['getConversation'](_0x17a604){const _0x1d9dcb=a0_0x6e1050;try{this['logger'][_0x1d9dcb(0x582)](this['instanceName']+'\x20('+this[_0x1d9dcb(0x68a)][_0x1d9dcb(0x4fa)]+'):\x20Buscando\x20conversa...'),this[_0x1d9dcb(0xe4)]['verbose'](this[_0x1d9dcb(0x71d)]+'\x20('+this[_0x1d9dcb(0x68a)][_0x1d9dcb(0x4fa)]+_0x1d9dcb(0x1f4)+_0x17a604);let _0x31664e={'where':{'_id':_0x17a604}};return await this[_0x1d9dcb(0x3d9)][_0x1d9dcb(0x1c4)]['findOne'](_0x31664e,this[_0x1d9dcb(0x68a)][_0x1d9dcb(0x4fa)]);}catch(_0x150631){let _0x28ae7f='Erro\x20ao\x20buscar\x20a\x20conversa',_0x272b76=_0x150631 instanceof Error?_0x150631['message']:typeof _0x150631==_0x1d9dcb(0x4c5)?JSON[_0x1d9dcb(0x69b)](_0x150631):_0x150631,_0x1f706d=_0x28ae7f+':\x20'+_0x272b76;throw this[_0x1d9dcb(0xe4)]['error'](this['instanceName']+'\x20('+this[_0x1d9dcb(0x68a)][_0x1d9dcb(0x4fa)]+_0x1d9dcb(0x4a2)+_0x1f706d),new m(_0x1f706d);}}async[a0_0x6e1050(0x5f7)](_0x3572ff){const _0x2e3c9d=a0_0x6e1050;try{return this[_0x2e3c9d(0xe4)][_0x2e3c9d(0x582)](this[_0x2e3c9d(0x71d)]+'\x20('+this['instance']['wuid']+_0x2e3c9d(0x1f2)),await this[_0x2e3c9d(0x3d9)][_0x2e3c9d(0x1c4)][_0x2e3c9d(0x15f)](_0x3572ff,this[_0x2e3c9d(0x68a)][_0x2e3c9d(0x4fa)]);}catch(_0x348069){let _0x1b6808=_0x2e3c9d(0x42c),_0x1e4393=_0x348069 instanceof Error?_0x348069['message']:typeof _0x348069==_0x2e3c9d(0x4c5)?JSON[_0x2e3c9d(0x69b)](_0x348069):_0x348069,_0x562822=_0x1b6808+':\x20'+_0x1e4393;throw this[_0x2e3c9d(0xe4)][_0x2e3c9d(0x7e2)](this[_0x2e3c9d(0x71d)]+'\x20('+this[_0x2e3c9d(0x68a)][_0x2e3c9d(0x4fa)]+'):\x20'+_0x562822),new m(_0x562822);}}async[a0_0x6e1050(0x3df)](_0x2ad6c8){const _0x310ac7=a0_0x6e1050;try{return this['logger']['verbose'](this[_0x310ac7(0x71d)]+'\x20('+this[_0x310ac7(0x68a)][_0x310ac7(0x4fa)]+'):\x20Deletando\x20conversa...'),this[_0x310ac7(0xe4)][_0x310ac7(0x582)](this[_0x310ac7(0x71d)]+'\x20('+this[_0x310ac7(0x68a)]['wuid']+_0x310ac7(0x1bb)+_0x2ad6c8),(await this[_0x310ac7(0x3d9)][_0x310ac7(0x1c4)][_0x310ac7(0x396)]({'where':{'_id':_0x2ad6c8[_0x310ac7(0x238)]}},this[_0x310ac7(0x68a)][_0x310ac7(0x4fa)]))[_0x310ac7(0x748)]===0x0?{'message':_0x310ac7(0x1ab)}:{'message':_0x310ac7(0x160)};}catch(_0xc9d7fd){let _0x2196da=_0x310ac7(0x12f),_0x152f7e=_0xc9d7fd instanceof Error?_0xc9d7fd[_0x310ac7(0x50d)]:typeof _0xc9d7fd==_0x310ac7(0x4c5)?JSON[_0x310ac7(0x69b)](_0xc9d7fd):_0xc9d7fd,_0x21a756=_0x2196da+':\x20'+_0x152f7e;throw this[_0x310ac7(0xe4)][_0x310ac7(0x7e2)](this[_0x310ac7(0x71d)]+'\x20('+this[_0x310ac7(0x68a)][_0x310ac7(0x4fa)]+_0x310ac7(0x4a2)+_0x21a756),new m(_0x21a756);}}async[a0_0x6e1050(0x325)](_0x5b0d73){const _0xff3ae8=a0_0x6e1050;try{let {_id:_0x4526f0,chatLog:_0x32feb6,status:_0xdbaa77}=_0x5b0d73;if(!_0x4526f0)return{'message':_0xff3ae8(0x15b)};let _0x4a6d3d={};if(_0xdbaa77!==void 0x0&&(_0x4a6d3d[_0xff3ae8(0x349)]=_0xdbaa77),Object[_0xff3ae8(0x1be)](_0x4a6d3d)[_0xff3ae8(0x401)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x3539ac=await this[_0xff3ae8(0x3d9)][_0xff3ae8(0x1c4)][_0xff3ae8(0x662)](_0x4526f0,_0x4a6d3d,this['instance']['wuid']);return _0x3539ac||{'message':_0xff3ae8(0x49e)};}catch(_0x3249a3){let _0x524759=_0xff3ae8(0x411),_0x40e241=_0x3249a3 instanceof Error?_0x3249a3[_0xff3ae8(0x50d)]:typeof _0x3249a3==_0xff3ae8(0x4c5)?JSON[_0xff3ae8(0x69b)](_0x3249a3):_0x3249a3,_0x428fd8=_0x524759+':\x20'+_0x40e241;throw this[_0xff3ae8(0xe4)][_0xff3ae8(0x7e2)](this[_0xff3ae8(0x71d)]+'\x20('+this[_0xff3ae8(0x68a)][_0xff3ae8(0x4fa)]+_0xff3ae8(0x4a2)+_0x428fd8),new m(_0x428fd8);}}async[a0_0x6e1050(0x35d)](_0x3fa48e){const _0x7605d7=a0_0x6e1050;try{_0x3fa48e[_0x7605d7(0x238)]=this[_0x7605d7(0x1d4)](_0x3fa48e['_id']);let _0xf5ee0d=await this[_0x7605d7(0x3d9)]['chat'][_0x7605d7(0x7a7)]({'where':{'_id':_0x3fa48e[_0x7605d7(0x238)]}},this[_0x7605d7(0x68a)][_0x7605d7(0x4fa)]);if(!_0xf5ee0d)throw new m(_0x7605d7(0x4b9));let {_id:_0x16935a,leadInfo:_0x186eb1}=_0x3fa48e;if(!_0x16935a)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x3fa48e[_0x7605d7(0x5c9)]===_0x7605d7(0x218))return await this[_0x7605d7(0x3b4)](_0x3fa48e['_id']),await this[_0x7605d7(0x3d9)]['chat']['delete']({'where':{'_id':_0x3fa48e[_0x7605d7(0x238)]}},this[_0x7605d7(0x68a)][_0x7605d7(0x4fa)]),await this[_0x7605d7(0x3d9)][_0x7605d7(0x50d)]['delete']({'where':{'key':{'remoteJid':_0x3fa48e[_0x7605d7(0x238)]}}},this['instance']['wuid']),_0x3fa48e=await this[_0x7605d7(0x3d9)][_0x7605d7(0x134)][_0x7605d7(0x662)]({'where':{'_id':_0x3fa48e[_0x7605d7(0x238)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x7605d7(0x68a)]['wuid']),U(this[_0x7605d7(0x71d)],_0x7605d7(0x5fe),{'chat':_0x3fa48e}),{'message':_0x7605d7(0x100)};if(_0x3fa48e[_0x7605d7(0x5c9)]===_0x7605d7(0x44e))return await this[_0x7605d7(0x3d9)]['message']['delete']({'where':{'key':{'remoteJid':_0x3fa48e[_0x7605d7(0x238)]}}},this[_0x7605d7(0x68a)][_0x7605d7(0x4fa)]),_0x3fa48e=await this['repository'][_0x7605d7(0x134)][_0x7605d7(0x662)]({'where':{'_id':_0x3fa48e[_0x7605d7(0x238)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x7605d7(0x68a)][_0x7605d7(0x4fa)]),U(this[_0x7605d7(0x71d)],_0x7605d7(0x5fe),{'chat':_0x3fa48e}),{'message':_0x7605d7(0x7de)};let _0x143f4d=(_0x1befe4,_0x124691,_0x454a6f)=>{const _0x546d55=_0x7605d7;_0x1befe4&&_0x454a6f[_0x546d55(0x463)](_0x308fda=>{_0x1befe4[_0x308fda]!==void 0x0&&(_0x124691['leadInfo.'+_0x308fda]=_0x1befe4[_0x308fda]);});},_0x5f3a5e={};if('muteEndTime'in _0x3fa48e&&(this['logger'][_0x7605d7(0x582)](_0x7605d7(0x6f4)+_0x3fa48e[_0x7605d7(0x238)]),_0x3fa48e[_0x7605d7(0x604)]=_0x3fa48e[_0x7605d7(0x604)]===0x0?null:-0x1,await this[_0x7605d7(0x6b4)][_0x7605d7(0x142)]({'mute':_0x3fa48e[_0x7605d7(0x604)]},_0x3fa48e['_id']),_0x5f3a5e[_0x7605d7(0x604)]=Number(_0x3fa48e[_0x7605d7(0x604)])),_0x186eb1&&(_0x143f4d(_0x186eb1,_0x5f3a5e,['nome','nomecompleto',_0x7605d7(0x390),_0x7605d7(0x48b),'status',_0x7605d7(0x68c),_0x7605d7(0x32c),_0x7605d7(0x2d6),_0x7605d7(0x7a3),_0x7605d7(0x25f)]),Array['isArray'](_0x186eb1[_0x7605d7(0x685)])&&(_0x5f3a5e[_0x7605d7(0x35b)]=_0x186eb1[_0x7605d7(0x685)][_0x7605d7(0x4bf)](_0x47abf3=>({'_id':_0x47abf3[_0x7605d7(0x238)],'value':_0x47abf3['value']}))),_0x3fa48e[_0x7605d7(0x5e1)][_0x7605d7(0x25f)]!==void 0x0)){let _0x30672a=await this[_0x7605d7(0x3d9)]['label'][_0x7605d7(0x15f)]({'where':{}},this['instance'][_0x7605d7(0x4fa)]),_0x417d36=new Set(_0x3fa48e[_0x7605d7(0x5e1)][_0x7605d7(0x25f)]||[]),_0x1258e5=new Set(_0x3fa48e['leadInfo'][_0x7605d7(0x25f)]),_0x10da48=new Set(_0x30672a[_0x7605d7(0x4bf)](_0xea88f7=>_0xea88f7['_id'])),_0x1bac76=[..._0x1258e5][_0x7605d7(0x3e3)](_0x17265b=>!_0x417d36[_0x7605d7(0x455)](_0x17265b)&&_0x10da48[_0x7605d7(0x455)](_0x17265b)),_0x27d373=[..._0x417d36]['filter'](_0x1ecdaf=>!_0x1258e5[_0x7605d7(0x455)](_0x1ecdaf));if(_0x5f3a5e['leadInfo.etiquetas']=[..._0x417d36],_0xf5ee0d&&!_0xf5ee0d['imported']){for(let _0x3f11f7 of _0x1bac76)await this['AddChatLabel'](_0x3f11f7,_0x3fa48e[_0x7605d7(0x238)]),_0x417d36[_0x7605d7(0x59d)](_0x3f11f7);for(let _0x20694a of _0x27d373)await this[_0x7605d7(0x2e4)](_0x20694a,_0x3fa48e['_id']),_0x417d36[_0x7605d7(0x5c9)](_0x20694a);}}if(_0x3fa48e[_0x7605d7(0x41b)]!==void 0x0&&(_0x5f3a5e[_0x7605d7(0x41b)]=Number(_0x3fa48e[_0x7605d7(0x41b)])),Object[_0x7605d7(0x1be)](_0x5f3a5e)['length']===0x0)throw new Error(_0x7605d7(0x1e1));let _0x2084ac=await this[_0x7605d7(0x3d9)]['chat'][_0x7605d7(0x662)]({'where':{'_id':_0x3fa48e[_0x7605d7(0x238)]}},_0x5f3a5e,this[_0x7605d7(0x68a)][_0x7605d7(0x4fa)]);return _0x2084ac&&U(this[_0x7605d7(0x71d)],_0x7605d7(0x5fe),{'chat':_0x2084ac}),_0x2084ac?(this[_0x7605d7(0xe4)][_0x7605d7(0x582)](this[_0x7605d7(0x71d)]+'\x20('+this[_0x7605d7(0x68a)][_0x7605d7(0x4fa)]+_0x7605d7(0x4a2)+JSON[_0x7605d7(0x69b)](_0x2084ac,null,0x2)),_0x2084ac):{'message':_0x7605d7(0x63b)};}catch(_0x5714c3){let _0x30c863=_0x7605d7(0x104),_0x1f97ea=_0x5714c3 instanceof Error?_0x5714c3['message']:typeof _0x5714c3==_0x7605d7(0x4c5)?JSON[_0x7605d7(0x69b)](_0x5714c3):_0x5714c3,_0x1f4063=_0x30c863+':\x20'+_0x1f97ea;throw this[_0x7605d7(0xe4)][_0x7605d7(0x7e2)](this[_0x7605d7(0x71d)]+'\x20('+this['instance'][_0x7605d7(0x4fa)]+'):\x20'+_0x1f4063),new m(_0x1f4063);}}async[a0_0x6e1050(0x148)](_0x396d72,_0x22bf47){const _0x47285c=a0_0x6e1050;try{await this[_0x47285c(0x6b4)][_0x47285c(0x32f)](_0x22bf47,_0x396d72),this['logger'][_0x47285c(0x4a3)](this[_0x47285c(0x71d)]+'\x20('+this['instance'][_0x47285c(0x4fa)]+_0x47285c(0x33d)+_0x396d72+'\x20adicionado\x20ao\x20chat\x20'+_0x22bf47+'\x20com\x20sucesso.');}catch(_0x573e33){console['error'](_0x47285c(0x53f)+_0x396d72+'\x20ao\x20chat\x20'+_0x22bf47+':',_0x573e33);}}async['RemoveChatLabel'](_0x52b940,_0x386012){const _0x455b6d=a0_0x6e1050;try{await this['client'][_0x455b6d(0x34b)](_0x386012,_0x52b940),this[_0x455b6d(0xe4)][_0x455b6d(0x4a3)](this[_0x455b6d(0x71d)]+'\x20('+this['instance'][_0x455b6d(0x4fa)]+_0x455b6d(0x33d)+_0x52b940+_0x455b6d(0x5ac)+_0x386012+_0x455b6d(0x121));}catch(_0xc2e0a2){console[_0x455b6d(0x7e2)](_0x455b6d(0x501)+_0x52b940+_0x455b6d(0x789)+_0x386012+':',_0xc2e0a2);}}async['updateAgent'](_0x31ff45){const _0x3b37aa=a0_0x6e1050;try{let _0x3f7271=await this[_0x3b37aa(0x3d9)][_0x3b37aa(0x2ca)]['findOrCreate'](this[_0x3b37aa(0x68a)]['wuid']),_0x273bcb=_0x31ff45[_0x3b37aa(0x238)]?_0x3f7271[_0x3b37aa(0x7e4)][_0x3b37aa(0x765)](_0x1d9c26=>_0x1d9c26['_id']===_0x31ff45['_id']):-0x1;if(_0x31ff45[_0x3b37aa(0x5c9)]&&_0x273bcb>-0x1)_0x3f7271['agents'][_0x3b37aa(0x61c)](_0x273bcb,0x1);else{if(_0x273bcb>-0x1){let _0x1b7a5a=_0x3f7271[_0x3b37aa(0x7e4)][_0x273bcb];_0x31ff45[_0x3b37aa(0xf8)]&&(_0x1b7a5a[_0x3b37aa(0xf8)]=_0x31ff45['fone']),_0x31ff45[_0x3b37aa(0x4f4)]&&(_0x1b7a5a[_0x3b37aa(0x4f4)]=_0x31ff45[_0x3b37aa(0x4f4)]),_0x31ff45[_0x3b37aa(0x390)]&&(_0x1b7a5a[_0x3b37aa(0x390)]=_0x31ff45[_0x3b37aa(0x390)]),_0x31ff45[_0x3b37aa(0x181)]&&(_0x1b7a5a[_0x3b37aa(0x181)]=_0x31ff45['role']);}else _0x3f7271[_0x3b37aa(0x7e4)]['push']({'_id':_0x31ff45['_id']||new ie[(_0x3b37aa(0x45f))][(_0x3b37aa(0x5d3))][(_0x3b37aa(0x377))]()['toString'](),'fone':_0x31ff45[_0x3b37aa(0xf8)],'name':_0x31ff45['name'],'email':_0x31ff45[_0x3b37aa(0x390)],'role':_0x31ff45[_0x3b37aa(0x181)]});}let _0x35bb90={'agents':_0x3f7271[_0x3b37aa(0x7e4)]},_0x1bb395=await this[_0x3b37aa(0x3d9)][_0x3b37aa(0x2ca)]['update'](_0x35bb90,this[_0x3b37aa(0x68a)]['wuid']);return this[_0x3b37aa(0xf9)]=_0x1bb395,this['logger'][_0x3b37aa(0x582)](this['instanceName']+'\x20('+this[_0x3b37aa(0x68a)][_0x3b37aa(0x4fa)]+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x3b37aa(0x582)](this[_0x3b37aa(0x71d)]+'\x20('+this[_0x3b37aa(0x68a)][_0x3b37aa(0x4fa)]+_0x3b37aa(0x4a2)+this[_0x3b37aa(0xf9)]),_0x1bb395;}catch(_0x1ee655){let _0x20ed28=_0x3b37aa(0x42e),_0x571cfe=_0x1ee655 instanceof Error?_0x1ee655[_0x3b37aa(0x50d)]:typeof _0x1ee655=='object'?JSON[_0x3b37aa(0x69b)](_0x1ee655):_0x1ee655,_0x491b35=_0x20ed28+':\x20'+_0x571cfe;throw this[_0x3b37aa(0xe4)][_0x3b37aa(0x7e2)](this[_0x3b37aa(0x71d)]+'\x20('+this['instance'][_0x3b37aa(0x4fa)]+_0x3b37aa(0x4a2)+_0x491b35),new m(_0x491b35);}}async[a0_0x6e1050(0x60e)](_0x47283e){const _0x21025e=a0_0x6e1050;try{let _0x4c2e67=await this['repository']['automateSystem']['findOrCreate'](this[_0x21025e(0x68a)][_0x21025e(0x4fa)]),_0x396662=_0x47283e['_id']?_0x4c2e67[_0x21025e(0x685)][_0x21025e(0x765)](_0x55ec92=>_0x55ec92[_0x21025e(0x238)]===_0x47283e['_id']):-0x1,_0x299be5=!0x1,_0x51b354=_0x4c2e67[_0x21025e(0x685)][_0x21025e(0x6ae)](_0x3fed3d=>_0x3fed3d[_0x21025e(0x1fc)]===_0x47283e['order']);if(_0x47283e[_0x21025e(0x5c9)]&&_0x396662>-0x1)_0x4c2e67[_0x21025e(0x685)][_0x21025e(0x61c)](_0x396662,0x1),_0x299be5=!0x0;else{if(_0x396662>-0x1){if(_0x4c2e67[_0x21025e(0x685)][_0x21025e(0x6ae)](_0x2d57d7=>_0x2d57d7['name']===_0x47283e['name']&&_0x2d57d7[_0x21025e(0x238)]!==_0x47283e[_0x21025e(0x238)]))throw new Error(_0x21025e(0x769));let _0x5830f9=_0x4c2e67[_0x21025e(0x685)][_0x396662];_0x47283e[_0x21025e(0x1fc)]&&(_0x51b354||!Number[_0x21025e(0x79e)](_0x47283e['order']))&&(_0x5830f9[_0x21025e(0x1fc)]=_0x47283e[_0x21025e(0x1fc)],_0x299be5=!0x0),_0x47283e[_0x21025e(0x4f4)]&&(_0x5830f9['name']=_0x47283e['name']);}else{if(_0x4c2e67[_0x21025e(0x685)]['some'](_0x558cf0=>_0x558cf0['name']===_0x47283e[_0x21025e(0x4f4)]&&_0x558cf0[_0x21025e(0x238)]!==_0x47283e[_0x21025e(0x238)]))throw new Error(_0x21025e(0x769));_0x4c2e67[_0x21025e(0x685)][_0x21025e(0x122)]({'_id':_0x47283e['_id']||new ie[(_0x21025e(0x45f))][(_0x21025e(0x5d3))]['ObjectId']()[_0x21025e(0x16c)](),'order':_0x47283e['order'],'name':_0x47283e['name']}),_0x299be5=!0x0;}}if(_0x299be5){_0x4c2e67['customFields'][_0x21025e(0x683)]((_0x3323db,_0x2d046e)=>_0x3323db[_0x21025e(0x1fc)]>_0x2d046e[_0x21025e(0x1fc)]?0x1:_0x2d046e[_0x21025e(0x1fc)]>_0x3323db[_0x21025e(0x1fc)]?-0x1:0x0);for(let _0x5c7e25=0x0;_0x5c7e25<_0x4c2e67[_0x21025e(0x685)]['length'];_0x5c7e25++)_0x4c2e67[_0x21025e(0x685)][_0x5c7e25][_0x21025e(0x1fc)]=_0x5c7e25+0x1;}let _0x397eb4=await this[_0x21025e(0x3d9)][_0x21025e(0x2ca)][_0x21025e(0x27b)](_0x4c2e67,this[_0x21025e(0x68a)][_0x21025e(0x4fa)]);return this[_0x21025e(0xf9)]=_0x397eb4,this[_0x21025e(0xe4)]['verbose'](this['instanceName']+'\x20('+this[_0x21025e(0x68a)][_0x21025e(0x4fa)]+_0x21025e(0x46f)),this[_0x21025e(0xe4)][_0x21025e(0x582)](this[_0x21025e(0x71d)]+'\x20('+this[_0x21025e(0x68a)]['wuid']+_0x21025e(0x4a2)+this[_0x21025e(0xf9)]),_0x397eb4;}catch(_0x2429d7){let _0x12b2b2=_0x21025e(0x7c9),_0x9ff192=_0x2429d7 instanceof Error?_0x2429d7[_0x21025e(0x50d)]:typeof _0x2429d7=='object'?JSON[_0x21025e(0x69b)](_0x2429d7):_0x2429d7,_0x4991bb=_0x12b2b2+':\x20'+_0x9ff192;throw this['logger'][_0x21025e(0x7e2)](this['instanceName']+'\x20('+this[_0x21025e(0x68a)][_0x21025e(0x4fa)]+_0x21025e(0x4a2)+_0x4991bb),new m(_0x4991bb);}}async[a0_0x6e1050(0x7ee)](_0x313cb3){const _0xa4f6db=a0_0x6e1050;try{let _0x2fc258=await this[_0xa4f6db(0x3d9)]['automateSystem'][_0xa4f6db(0x54d)](this[_0xa4f6db(0x68a)]['wuid']),_0x4031dc=_0x2fc258?.[_0xa4f6db(0x5aa)]?.[_0xa4f6db(0x765)](_0xac9317=>_0xac9317['_id']===_0x313cb3?.['_id']);if(_0x313cb3?.['delete'])_0x4031dc>-0x1&&_0x2fc258?.[_0xa4f6db(0x5aa)]?.[_0xa4f6db(0x61c)](_0x4031dc,0x1);else{if(_0x4031dc>-0x1){let _0x492d68=_0x2fc258[_0xa4f6db(0x5aa)][_0x4031dc];_0x492d68[_0xa4f6db(0x1fc)]=_0x313cb3?.[_0xa4f6db(0x1fc)]||_0x492d68[_0xa4f6db(0x1fc)],_0x492d68[_0xa4f6db(0x360)]=_0x313cb3?.[_0xa4f6db(0x360)]||_0x492d68['command'],_0x492d68[_0xa4f6db(0x50d)]=_0x313cb3?.[_0xa4f6db(0x50d)]||_0x492d68[_0xa4f6db(0x50d)];}else{let _0x359a6b={'_id':_0x313cb3?.[_0xa4f6db(0x238)]||new ie['default'][(_0xa4f6db(0x5d3))][(_0xa4f6db(0x377))]()[_0xa4f6db(0x16c)](),'order':_0x313cb3?.[_0xa4f6db(0x1fc)],'command':_0x313cb3?.[_0xa4f6db(0x360)],'message':_0x313cb3?.[_0xa4f6db(0x50d)]};_0x2fc258?.[_0xa4f6db(0x5aa)]?.[_0xa4f6db(0x122)](_0x359a6b);}}_0x2fc258?.[_0xa4f6db(0x5aa)]?.[_0xa4f6db(0x683)]((_0x899b08,_0x91a1dc)=>_0x899b08[_0xa4f6db(0x1fc)]-_0x91a1dc[_0xa4f6db(0x1fc)]);let _0x5d7d2b=await this[_0xa4f6db(0x3d9)][_0xa4f6db(0x2ca)][_0xa4f6db(0x27b)](_0x2fc258,this[_0xa4f6db(0x68a)][_0xa4f6db(0x4fa)]);return this['AutomateSystem']=_0x5d7d2b,this[_0xa4f6db(0xe4)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x5d7d2b;}catch(_0x58ff9e){let _0x48b668='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x4635f4=_0x58ff9e instanceof Error?_0x58ff9e[_0xa4f6db(0x50d)]:typeof _0x58ff9e==_0xa4f6db(0x4c5)?JSON[_0xa4f6db(0x69b)](_0x58ff9e):_0x58ff9e,_0x70259b=_0x48b668+':\x20'+_0x4635f4;throw this[_0xa4f6db(0xe4)]['error'](this[_0xa4f6db(0x71d)]+'\x20('+this[_0xa4f6db(0x68a)][_0xa4f6db(0x4fa)]+_0xa4f6db(0x4a2)+_0x70259b),new m(_0x70259b);}}async[a0_0x6e1050(0x20c)](_0x1c53c5){const _0x95fc66=a0_0x6e1050;try{let _0x29f95c=await this[_0x95fc66(0x3d9)][_0x95fc66(0x2ca)]['findOrCreate'](this['instance'][_0x95fc66(0x4fa)]);if(!_0x29f95c)throw new Error(_0x95fc66(0x596));let _0x3e68b8={'_id':_0x29f95c['_id'],'flowConfig':{'enabled':_0x1c53c5[_0x95fc66(0x23a)]??_0x29f95c['flowConfig'][_0x95fc66(0x23a)],'ignoreGroups':_0x1c53c5['ignoreGroups']??_0x29f95c['flowConfig'][_0x95fc66(0x2be)],'prefixCommand':_0x1c53c5[_0x95fc66(0x785)]??_0x29f95c[_0x95fc66(0x3c1)][_0x95fc66(0x785)],'stopConversation':_0x1c53c5[_0x95fc66(0x2bc)]??_0x29f95c[_0x95fc66(0x3c1)][_0x95fc66(0x2bc)],'stopMinutes':_0x1c53c5[_0x95fc66(0x686)]??_0x29f95c[_0x95fc66(0x3c1)][_0x95fc66(0x686)],'stopWhenYouSendMsg':_0x1c53c5['stopWhenYouSendMsg']??_0x29f95c[_0x95fc66(0x3c1)][_0x95fc66(0x284)]}},_0x25106b=await this['repository'][_0x95fc66(0x2ca)][_0x95fc66(0x27b)](_0x3e68b8,this[_0x95fc66(0x68a)][_0x95fc66(0x4fa)]);return this[_0x95fc66(0xf9)]=_0x25106b,this[_0x95fc66(0xe4)]['verbose'](this['instanceName']+'\x20('+this[_0x95fc66(0x68a)][_0x95fc66(0x4fa)]+_0x95fc66(0x3dd)),this['logger'][_0x95fc66(0x582)](this[_0x95fc66(0x71d)]+'\x20('+this[_0x95fc66(0x68a)][_0x95fc66(0x4fa)]+_0x95fc66(0x4a2)+this[_0x95fc66(0xf9)]),setTimeout(()=>this[_0x95fc66(0x249)](),0x7d0),_0x25106b;}catch(_0x4f3bba){let _0x4d6ef8=_0x95fc66(0x6a6),_0x49f0e5=_0x4f3bba instanceof Error?_0x4f3bba[_0x95fc66(0x50d)]:typeof _0x4f3bba==_0x95fc66(0x4c5)?JSON[_0x95fc66(0x69b)](_0x4f3bba):_0x4f3bba,_0x178e9d=_0x4d6ef8+':\x20'+_0x49f0e5;throw this[_0x95fc66(0xe4)][_0x95fc66(0x7e2)](this[_0x95fc66(0x71d)]+'\x20('+this['instance'][_0x95fc66(0x4fa)]+'):\x20'+_0x178e9d),new m(_0x178e9d);}}async[a0_0x6e1050(0x2f4)](){const _0x509f87=a0_0x6e1050;try{let _0x55c18b=await this['repository'][_0x509f87(0x2ca)][_0x509f87(0x54d)](this[_0x509f87(0x68a)][_0x509f87(0x4fa)]);return this[_0x509f87(0xf9)]=_0x55c18b,this[_0x509f87(0xe4)][_0x509f87(0x582)](this['instanceName']+'\x20('+this[_0x509f87(0x68a)][_0x509f87(0x4fa)]+_0x509f87(0x38e)),this[_0x509f87(0xe4)][_0x509f87(0x582)](this['AutomateSystem']),_0x55c18b;}catch(_0x5b7bb4){let _0xb5fcfa=_0x509f87(0x67d),_0x2ea427=_0x5b7bb4 instanceof Error?_0x5b7bb4[_0x509f87(0x50d)]:typeof _0x5b7bb4==_0x509f87(0x4c5)?JSON[_0x509f87(0x69b)](_0x5b7bb4):_0x5b7bb4,_0x6efdb4=_0xb5fcfa+':\x20'+_0x2ea427;throw this[_0x509f87(0xe4)][_0x509f87(0x7e2)](this[_0x509f87(0x71d)]+'\x20('+this[_0x509f87(0x68a)][_0x509f87(0x4fa)]+'):\x20'+_0x6efdb4),new m(_0x6efdb4);}}async[a0_0x6e1050(0x60c)](){const _0x19b023=a0_0x6e1050;this[_0x19b023(0x68a)][_0x19b023(0x527)][_0x19b023(0x132)]&&clearTimeout(this['instance']['ScheduleMessage'][_0x19b023(0x132)]),this[_0x19b023(0x68a)][_0x19b023(0x527)]['timeout']=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x6e1050(0x567)](){const _0x22f5cb=a0_0x6e1050;Date[_0x22f5cb(0x631)]()-this[_0x22f5cb(0x68a)][_0x22f5cb(0x527)][_0x22f5cb(0x362)]>=0x1d4c0&&(this[_0x22f5cb(0xe4)]['verbose'](this['instanceName']+'\x20('+this[_0x22f5cb(0x68a)]['wuid']+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x22f5cb(0x68a)][_0x22f5cb(0x527)]['processing_id']=null,this[_0x22f5cb(0x68a)][_0x22f5cb(0x527)]['lastSend']=0x0,this[_0x22f5cb(0x68a)][_0x22f5cb(0x527)][_0x22f5cb(0x6f7)]=0x0,await this['scheduleNextCheck']());}async[a0_0x6e1050(0x249)](){const _0x121be4=a0_0x6e1050;let _0xd6b7e3=()=>{const _0x47af21=a0_0x5953;this[_0x47af21(0xe4)][_0x47af21(0x582)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x47af21(0x697)+this[_0x47af21(0x68a)][_0x47af21(0x527)][_0x47af21(0x7a2)]+_0x47af21(0x3ec));},_0x271f9c=async()=>{const _0x411049=a0_0x5953;this[_0x411049(0xe4)][_0x411049(0x582)](this['instanceName']+'\x20('+this[_0x411049(0x68a)]['wuid']+_0x411049(0x547));let _0x2617ed=Date[_0x411049(0x631)]()-0xc*0x3c*0x3c*0x3e8,_0x5353c8={'where':{'status':{'$in':[_0x411049(0x607),_0x411049(0x5a4)]},'$or':[{'when':{'$lte':Date[_0x411049(0x631)](),'$gte':_0x2617ed}},{'when':0x0}]}};return await this[_0x411049(0x3d9)]['scheduleMessage'][_0x411049(0x15f)](_0x5353c8,this[_0x411049(0x68a)][_0x411049(0x4fa)]);},_0x46ed39=async _0x4eef13=>{const _0x3b1eb9=a0_0x5953;for(let _0x23ebf1 of _0x4eef13){let _0x35243f={'_id':_0x23ebf1[_0x3b1eb9(0x238)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},_0x4f0e01={'startSend':Date[_0x3b1eb9(0x631)]()};if(!await this[_0x3b1eb9(0x3d9)][_0x3b1eb9(0x24b)]['updateOne'](_0x35243f,_0x4f0e01,this[_0x3b1eb9(0x68a)][_0x3b1eb9(0x4fa)]))return;if(!this[_0x3b1eb9(0x68a)][_0x3b1eb9(0x527)][_0x3b1eb9(0x26d)]){this[_0x3b1eb9(0xe4)][_0x3b1eb9(0x582)](this['instanceName']+'\x20('+this[_0x3b1eb9(0x68a)][_0x3b1eb9(0x4fa)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x23ebf1[_0x3b1eb9(0x413)]===_0x3b1eb9(0x646)&&!this['AutomateSystem']?.[_0x3b1eb9(0x3c1)][_0x3b1eb9(0x23a)]){this[_0x3b1eb9(0xe4)][_0x3b1eb9(0x7e2)](this[_0x3b1eb9(0x71d)]+'\x20('+this[_0x3b1eb9(0x68a)][_0x3b1eb9(0x4fa)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x23ebf1[_0x3b1eb9(0x479)]||_0x23ebf1[_0x3b1eb9(0x479)][_0x3b1eb9(0x401)]===0x0)&&(_0x23ebf1=await this[_0x3b1eb9(0x3d9)][_0x3b1eb9(0x24b)]['updateOneById'](_0x23ebf1[_0x3b1eb9(0x238)],{'status':_0x3b1eb9(0x5a4),'remoteJidsRemaining':[..._0x23ebf1['remoteJids']]},this[_0x3b1eb9(0x68a)]['wuid']));for(let _0xd00545 of _0x23ebf1['remoteJidsRemaining']){if(await this[_0x3b1eb9(0x60c)](),this[_0x3b1eb9(0x68a)]['ScheduleMessage']['lastSend']=Date[_0x3b1eb9(0x631)](),this[_0x3b1eb9(0x68a)][_0x3b1eb9(0x527)][_0x3b1eb9(0x539)]===_0xd00545){this[_0x3b1eb9(0xe4)]['error'](this[_0x3b1eb9(0x71d)]+'\x20('+this[_0x3b1eb9(0x68a)][_0x3b1eb9(0x4fa)]+_0x3b1eb9(0x3e0)+_0xd00545+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');let _0x3bcac3={'$push':{'messagesSend':{'remoteJid':_0xd00545,'error':!0x0,'id':null,'error_log':_0x3b1eb9(0x34f),'log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0xd00545}};await this[_0x3b1eb9(0x3d9)][_0x3b1eb9(0x24b)][_0x3b1eb9(0x3d5)](_0x23ebf1[_0x3b1eb9(0x238)],_0x3bcac3,this[_0x3b1eb9(0x68a)]['wuid']);continue;}if(this[_0x3b1eb9(0x68a)]['ScheduleMessage'][_0x3b1eb9(0x539)]=_0xd00545,_0x23ebf1[_0x3b1eb9(0x764)][_0x3b1eb9(0x6ae)](_0xdd33af=>_0xdd33af[_0x3b1eb9(0x21b)]===_0xd00545)){this[_0x3b1eb9(0xe4)][_0x3b1eb9(0x582)](this[_0x3b1eb9(0x71d)]+'\x20('+this[_0x3b1eb9(0x68a)][_0x3b1eb9(0x4fa)]+_0x3b1eb9(0x465)+_0xd00545+'.\x20Pulando.');continue;}if(!this[_0x3b1eb9(0x68a)]['ScheduleMessage'][_0x3b1eb9(0x26d)]){this[_0x3b1eb9(0xe4)][_0x3b1eb9(0x582)](this[_0x3b1eb9(0x71d)]+'\x20('+this[_0x3b1eb9(0x68a)][_0x3b1eb9(0x4fa)]+_0x3b1eb9(0x328));break;}if(!this[_0x3b1eb9(0x68a)]['ScheduleMessage'][_0x3b1eb9(0x7a2)]){this[_0x3b1eb9(0xe4)][_0x3b1eb9(0x582)](this['instanceName']+'\x20('+this['instance'][_0x3b1eb9(0x4fa)]+_0x3b1eb9(0x6e3)+_0x23ebf1['_id']+_0x3b1eb9(0x791));break;}if(_0x23ebf1[_0x3b1eb9(0x413)]===_0x3b1eb9(0x646)&&!this[_0x3b1eb9(0xf9)]?.[_0x3b1eb9(0x3c1)]['enabled']){this[_0x3b1eb9(0xe4)][_0x3b1eb9(0x7e2)](this[_0x3b1eb9(0x71d)]+'\x20('+this[_0x3b1eb9(0x68a)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x540860={'remoteJid':_0xd00545,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x3b1eb9(0x631)]()},_0x3250c7=null;try{let _0x2e058a=await this[_0x3b1eb9(0x696)](_0xd00545,_0x23ebf1);_0x540860['error']=_0x2e058a[_0x3b1eb9(0x7e2)],_0x540860['id']=_0x2e058a[_0x3b1eb9(0x7e2)]?null:_0x2e058a['id'],_0x540860['error_log']=_0x2e058a[_0x3b1eb9(0x7e2)]?_0x2e058a[_0x3b1eb9(0x7a0)]?_0x2e058a[_0x3b1eb9(0x7a0)][_0x3b1eb9(0x16c)]():'':null;let _0x44bcbe={'$push':{'messagesSend':_0x540860},'$pull':{'remoteJidsRemaining':_0xd00545}},_0x3f3395=_0x23ebf1[_0x3b1eb9(0x238)];if(_0x3250c7=await this['repository'][_0x3b1eb9(0x24b)][_0x3b1eb9(0x3d5)](_0x3f3395,_0x44bcbe,this[_0x3b1eb9(0x68a)][_0x3b1eb9(0x4fa)]),_0x2e058a['error'])continue;let _0x4df6eb=this['getDelay'](_0x23ebf1[_0x3b1eb9(0x591)],_0x23ebf1[_0x3b1eb9(0x1bd)]);await this[_0x3b1eb9(0x73a)](_0x4df6eb);}catch(_0x165af2){this[_0x3b1eb9(0xe4)][_0x3b1eb9(0x7e2)](this['instanceName']+'\x20('+this[_0x3b1eb9(0x68a)][_0x3b1eb9(0x4fa)]+_0x3b1eb9(0x41c)+_0xd00545+':\x20'+(_0x165af2 instanceof Error?_0x165af2[_0x3b1eb9(0x50d)]:JSON['stringify'](_0x165af2,null,0x2))),_0x540860[_0x3b1eb9(0x7e2)]=!0x0,_0x540860['error_log']=_0x165af2[_0x3b1eb9(0x50d)];let _0x40a9e4={'$push':{'messagesSend':_0x540860},'$pull':{'remoteJidsRemaining':_0xd00545}},_0x3accd2=_0x23ebf1['_id'];_0x3250c7=await this[_0x3b1eb9(0x3d9)][_0x3b1eb9(0x24b)][_0x3b1eb9(0x3d5)](_0x3accd2,_0x40a9e4,this[_0x3b1eb9(0x68a)]['wuid']);}finally{if(_0x3250c7&&_0x3250c7[_0x3b1eb9(0x349)]===_0x3b1eb9(0x2fe)){this[_0x3b1eb9(0xe4)][_0x3b1eb9(0x582)](this['instanceName']+'\x20('+this[_0x3b1eb9(0x68a)][_0x3b1eb9(0x4fa)]+_0x3b1eb9(0x6e3)+_0x23ebf1['_id']+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x4947e4=await this[_0x3b1eb9(0x3d9)][_0x3b1eb9(0x24b)][_0x3b1eb9(0x357)](_0x23ebf1[_0x3b1eb9(0x238)],this[_0x3b1eb9(0x68a)][_0x3b1eb9(0x4fa)]);if(_0x4947e4['remoteJidsRemaining']['length']===0x0&&_0x4947e4['status']!=='stopped'){this[_0x3b1eb9(0x68a)][_0x3b1eb9(0x527)][_0x3b1eb9(0x539)]=null;let _0x4ca7ad={'$set':{'status':_0x3b1eb9(0x22a)}},_0x79c033=_0x4947e4[_0x3b1eb9(0x238)];await this[_0x3b1eb9(0x3d9)][_0x3b1eb9(0x24b)][_0x3b1eb9(0x3d5)](_0x79c033,_0x4ca7ad,this['instance']['wuid']);}await new Promise(_0x26c5a5=>setTimeout(_0x26c5a5,0x1388));}},_0x4bf193=async()=>{const _0x5324b8=a0_0x5953;let _0x26d3df={'where':{'status':'scheduled','when':{'$gt':Date[_0x5324b8(0x631)]()}}},_0xe31727=await this[_0x5324b8(0x3d9)][_0x5324b8(0x24b)]['findOne'](_0x26d3df,this[_0x5324b8(0x68a)][_0x5324b8(0x4fa)]);_0xe31727&&_0xe31727['when']-Date[_0x5324b8(0x631)]()<=0x5265c00?this[_0x5324b8(0x68a)][_0x5324b8(0x527)]['delayMessage']=_0xe31727[_0x5324b8(0x39a)]-Date[_0x5324b8(0x631)]():this[_0x5324b8(0x68a)][_0x5324b8(0x527)][_0x5324b8(0x6f7)]=(0x3c+Math[_0x5324b8(0x6c5)](Math['random']()*0x3c))*0x3c*0x3e8,this['instance']['ScheduleMessage']['delayMessage']=Math[_0x5324b8(0x7b0)](this[_0x5324b8(0x68a)][_0x5324b8(0x527)][_0x5324b8(0x6f7)],0x7d0);let _0x499dc1=Math[_0x5324b8(0x602)](this[_0x5324b8(0x68a)][_0x5324b8(0x527)][_0x5324b8(0x6f7)]/0xea60);if(_0xe31727){let _0x58e980=new Date(_0xe31727[_0x5324b8(0x39a)])[_0x5324b8(0x2f5)]();this[_0x5324b8(0xe4)]['verbose'](this[_0x5324b8(0x71d)]+'\x20('+this[_0x5324b8(0x68a)][_0x5324b8(0x4fa)]+_0x5324b8(0x4c0)+_0x58e980+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x499dc1+_0x5324b8(0x29f));}else this['logger'][_0x5324b8(0x582)](this[_0x5324b8(0x71d)]+'\x20('+this[_0x5324b8(0x68a)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x499dc1+_0x5324b8(0x29f));setTimeout(()=>this[_0x5324b8(0x249)](),this[_0x5324b8(0x68a)][_0x5324b8(0x527)][_0x5324b8(0x6f7)]);};if(this[_0x121be4(0x68a)][_0x121be4(0x527)][_0x121be4(0x7a2)]){await this[_0x121be4(0x60c)](),_0xd6b7e3();return;}if(!this[_0x121be4(0x68a)]['ScheduleMessage'][_0x121be4(0x26d)]){this[_0x121be4(0xe4)][_0x121be4(0x582)](this[_0x121be4(0x71d)]+'\x20('+this[_0x121be4(0x68a)][_0x121be4(0x4fa)]+_0x121be4(0x7ba)),this[_0x121be4(0x68a)][_0x121be4(0x527)][_0x121be4(0x7a2)]=null,this['instance'][_0x121be4(0x527)][_0x121be4(0x362)]=0x0,this['instance'][_0x121be4(0x527)][_0x121be4(0x6f7)]=0x0,this['instance'][_0x121be4(0x527)][_0x121be4(0x539)]=null;return;}try{let _0x46b69b=await _0x271f9c();_0x46b69b[_0x121be4(0x401)]===0x0?this[_0x121be4(0xe4)][_0x121be4(0x582)](this[_0x121be4(0x71d)]+'\x20('+this[_0x121be4(0x68a)][_0x121be4(0x4fa)]+_0x121be4(0x52a)):(this['instance']['ScheduleMessage'][_0x121be4(0x7a2)]=_0x46b69b[0x0][_0x121be4(0x238)],await _0x46ed39(_0x46b69b)),await _0x4bf193(),this[_0x121be4(0x68a)][_0x121be4(0x527)]['processing_id']=null,this['instance']['ScheduleMessage'][_0x121be4(0x539)]=null;}catch(_0x1c47a2){this['logger'][_0x121be4(0x7e2)](_0x121be4(0x345)+(_0x1c47a2 instanceof Error?_0x1c47a2[_0x121be4(0x50d)]:JSON[_0x121be4(0x69b)](_0x1c47a2,null,0x2)));}}[a0_0x6e1050(0x364)](_0x55de1b,_0x2e500f){const _0x514d88=a0_0x6e1050;return _0x55de1b=Math['max'](0.5,_0x55de1b),_0x2e500f=Math[_0x514d88(0x43c)](Math[_0x514d88(0x7b0)](0x3,_0x2e500f),0x78),Math['floor'](Math[_0x514d88(0x1cd)]()*(_0x2e500f-_0x55de1b+0x1)+_0x55de1b)*0x3e8;}['sleep'](_0x2c9d55){return new Promise(_0x1b0854=>setTimeout(_0x1b0854,_0x2c9d55));}async['getVariablesChat'](_0x5d45f2){const _0x3f75bd=a0_0x6e1050;if(!this[_0x3f75bd(0xf9)]&&(await this[_0x3f75bd(0x2f4)](),!this[_0x3f75bd(0xf9)]))return null;_0x5d45f2=this[_0x3f75bd(0x1d4)](_0x5d45f2);let _0x15e833=await this['repository']['chat'][_0x3f75bd(0x7a7)]({'where':{'_id':_0x5d45f2}},this['instance']['wuid']),_0x3eced8={};if(_0x15e833&&_0x15e833['leadInfo']){let _0x9e9d7e=_0x15e833[_0x3f75bd(0x5e1)];typeof _0x9e9d7e['nome']=='string'&&(_0x3eced8['nome']=_0x9e9d7e['nome']),typeof _0x9e9d7e['nomecompleto']==_0x3f75bd(0x304)&&(_0x3eced8[_0x3f75bd(0x111)]=_0x9e9d7e[_0x3f75bd(0x111)]),typeof _0x9e9d7e[_0x3f75bd(0x390)]==_0x3f75bd(0x304)&&(_0x3eced8[_0x3f75bd(0x390)]=_0x9e9d7e[_0x3f75bd(0x390)]),typeof _0x9e9d7e['cpf']==_0x3f75bd(0x304)&&(_0x3eced8['cpf']=_0x9e9d7e[_0x3f75bd(0x48b)]),typeof _0x9e9d7e[_0x3f75bd(0x349)]=='string'&&(_0x3eced8[_0x3f75bd(0x349)]=_0x9e9d7e[_0x3f75bd(0x349)]),typeof _0x9e9d7e[_0x3f75bd(0x68c)]=='string'&&(_0x3eced8[_0x3f75bd(0x68c)]=_0x9e9d7e[_0x3f75bd(0x68c)]),typeof _0x9e9d7e[_0x3f75bd(0x7a3)]==_0x3f75bd(0x304)&&(_0x3eced8[_0x3f75bd(0x7a3)]=_0x9e9d7e[_0x3f75bd(0x7a3)]),Array[_0x3f75bd(0x314)](_0x9e9d7e[_0x3f75bd(0x32c)])&&(_0x3eced8['tags']=_0x9e9d7e[_0x3f75bd(0x32c)]['join'](',\x20')),Array[_0x3f75bd(0x314)](_0x9e9d7e[_0x3f75bd(0x25f)])&&(_0x3eced8[_0x3f75bd(0x25f)]=_0x9e9d7e[_0x3f75bd(0x25f)][_0x3f75bd(0x283)](',\x20'));}return _0x15e833&&_0x15e833[_0x3f75bd(0x5e1)]&&_0x15e833[_0x3f75bd(0x5e1)][_0x3f75bd(0x685)]&&_0x15e833[_0x3f75bd(0x5e1)][_0x3f75bd(0x685)][_0x3f75bd(0x463)](_0x4a72f5=>{const _0x1aa8d7=_0x3f75bd;let _0x3781d1=this[_0x1aa8d7(0xf9)]?.[_0x1aa8d7(0x685)][_0x1aa8d7(0x15f)](_0x3d52e2=>_0x3d52e2[_0x1aa8d7(0x238)]===_0x4a72f5[_0x1aa8d7(0x238)]);_0x3781d1&&(_0x3eced8[_0x3781d1[_0x1aa8d7(0x4f4)]]=_0x4a72f5[_0x1aa8d7(0x237)]);}),_0x3eced8;}async['replaceVariablesChat'](_0x48084b,_0x5da5c7){try{let _0x2c5e29=await this['getVariablesChat'](_0x5da5c7);return this['replaceVariables'](_0x48084b,_0x2c5e29);}catch(_0x3991aa){return this['logger']['error']('Erro\x20ao\x20substituir\x20variáveis\x20para\x20'+_0x5da5c7+':\x20'+_0x3991aa),_0x48084b;}}async['editScheduleMessage'](_0xeaf3ea){const _0x139592=a0_0x6e1050;try{if(this[_0x139592(0xe4)]['verbose'](this[_0x139592(0x71d)]+'\x20('+this[_0x139592(0x68a)][_0x139592(0x4fa)]+_0x139592(0x28e)),_0xeaf3ea[_0x139592(0x5c9)]&&_0xeaf3ea[_0x139592(0x238)]){if(this['instance'][_0x139592(0x527)]['processing_id']===_0xeaf3ea[_0x139592(0x238)][_0x139592(0x16c)]())throw new Error(_0x139592(0x289));let _0x19b094=await this[_0x139592(0x3d9)][_0x139592(0x24b)][_0x139592(0x396)](_0xeaf3ea['_id'],this['instance']['wuid']);return setTimeout(()=>this[_0x139592(0x249)](),0x7d0),_0x19b094;}let _0x2c5af7;if(_0xeaf3ea[_0x139592(0x238)]&&(_0x2c5af7=await this[_0x139592(0x3d9)][_0x139592(0x24b)][_0x139592(0x357)](_0xeaf3ea[_0x139592(0x238)],this[_0x139592(0x68a)][_0x139592(0x4fa)])),_0x2c5af7){let _0x426123;if(this[_0x139592(0x68a)][_0x139592(0x527)][_0x139592(0x7a2)]===_0x2c5af7[_0x139592(0x238)][_0x139592(0x16c)]())_0x426123={'$set':{'status':_0xeaf3ea[_0x139592(0x349)]}};else{let {_id:_0x12213e,..._0x19e665}=_0xeaf3ea;_0x426123={'$set':_0x19e665};}let _0x4cfc92=await this[_0x139592(0x3d9)][_0x139592(0x24b)][_0x139592(0x3d5)](_0xeaf3ea['_id'],_0x426123,this['instance'][_0x139592(0x4fa)]);return setTimeout(()=>this[_0x139592(0x249)](),0x7d0),_0x4cfc92;}else{_0xeaf3ea[_0x139592(0x427)]=this[_0x139592(0x68a)][_0x139592(0x4fa)];let _0x514dde=await this[_0x139592(0x3d9)][_0x139592(0x24b)][_0x139592(0xdd)](_0xeaf3ea,this[_0x139592(0x68a)]['wuid']);return setTimeout(()=>this[_0x139592(0x249)](),0x7d0),_0x514dde;}}catch(_0x1dcd98){let _0x931b32=_0x139592(0x2c7),_0x58f56d=_0x1dcd98 instanceof Error?_0x1dcd98[_0x139592(0x50d)]:typeof _0x1dcd98==_0x139592(0x4c5)?JSON[_0x139592(0x69b)](_0x1dcd98):_0x1dcd98,_0x4cb9a8=_0x931b32+':\x20'+_0x58f56d;throw this[_0x139592(0xe4)]['error'](this[_0x139592(0x71d)]+'\x20('+this[_0x139592(0x68a)][_0x139592(0x4fa)]+_0x139592(0x4a2)+_0x4cb9a8),new m(_0x4cb9a8);}}async[a0_0x6e1050(0x4eb)](){const _0xe38d98=a0_0x6e1050;try{return await this['repository'][_0xe38d98(0x24b)]['find']({'where':{}},this[_0xe38d98(0x68a)]['wuid']);}catch(_0x2db02e){let _0x18aec6='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x3730c1=_0x2db02e instanceof Error?_0x2db02e[_0xe38d98(0x50d)]:typeof _0x2db02e=='object'?JSON[_0xe38d98(0x69b)](_0x2db02e):_0x2db02e,_0x7d92ed=_0x18aec6+':\x20'+_0x3730c1;throw this[_0xe38d98(0xe4)]['error'](this[_0xe38d98(0x71d)]+'\x20('+this[_0xe38d98(0x68a)]['wuid']+_0xe38d98(0x4a2)+_0x7d92ed),new m(_0x7d92ed);}}async[a0_0x6e1050(0x792)](){const _0x58497b=a0_0x6e1050;try{let _0x881323={'status':'done'},_0x1d7fe7=await this[_0x58497b(0x3d9)][_0x58497b(0x24b)][_0x58497b(0x467)](_0x881323,this[_0x58497b(0x68a)][_0x58497b(0x4fa)]);if(!_0x1d7fe7[_0x58497b(0x7e2)])this[_0x58497b(0xe4)][_0x58497b(0x582)](this[_0x58497b(0x71d)]+'\x20('+this['instance'][_0x58497b(0x4fa)]+_0x58497b(0x772));else throw new Error(_0x1d7fe7[_0x58497b(0x7e2)][_0x58497b(0x50d)]||_0x58497b(0x2d0));return this[_0x58497b(0x4eb)]();}catch(_0xe25fe){let _0x55afb1=_0x58497b(0x586),_0x2d56b6=_0xe25fe instanceof Error?_0xe25fe[_0x58497b(0x50d)]:typeof _0xe25fe==_0x58497b(0x4c5)?JSON[_0x58497b(0x69b)](_0xe25fe):_0xe25fe,_0x585f90=_0x55afb1+':\x20'+_0x2d56b6;throw this['logger']['error'](this[_0x58497b(0x71d)]+'\x20('+this[_0x58497b(0x68a)][_0x58497b(0x4fa)]+_0x58497b(0x4a2)+_0x585f90),new m(_0x585f90);}}async[a0_0x6e1050(0x696)](_0x329dbe,_0x28f9b5){const _0x5bbe9a=a0_0x6e1050;try{if(_0x28f9b5[_0x5bbe9a(0x413)]===_0x5bbe9a(0x646)&&!this['AutomateSystem']?.[_0x5bbe9a(0x3c1)][_0x5bbe9a(0x23a)])return this['logger'][_0x5bbe9a(0x7e2)](this[_0x5bbe9a(0x71d)]+'\x20('+this[_0x5bbe9a(0x68a)][_0x5bbe9a(0x4fa)]+_0x5bbe9a(0x4e4)),{'error':!0x0,'detail':_0x5bbe9a(0x18c)};switch(_0x28f9b5['type']){case'text':return await this[_0x5bbe9a(0x487)](_0x28f9b5,_0x329dbe);case'media':return await this[_0x5bbe9a(0x3ab)](_0x28f9b5,_0x329dbe);case _0x5bbe9a(0x7d3):return await this[_0x5bbe9a(0x5d8)](_0x28f9b5,_0x329dbe);case _0x5bbe9a(0x646):let _0x11d697=new Ve();return _0x11d697[_0x5bbe9a(0x4f4)]=_0x28f9b5[_0x5bbe9a(0x39d)],_0x11d697[_0x5bbe9a(0x21b)]=_0x329dbe,await this['startFlow'](_0x11d697);break;default:return this[_0x5bbe9a(0xe4)][_0x5bbe9a(0x7e2)](this[_0x5bbe9a(0x71d)]+'\x20('+this[_0x5bbe9a(0x68a)][_0x5bbe9a(0x4fa)]+_0x5bbe9a(0x6d9)+_0x28f9b5['type']),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x19c389){return this[_0x5bbe9a(0xe4)]['error'](this[_0x5bbe9a(0x71d)]+'\x20('+this[_0x5bbe9a(0x68a)][_0x5bbe9a(0x4fa)]+_0x5bbe9a(0x1f7)+(_0x19c389 instanceof Error?_0x19c389[_0x5bbe9a(0x50d)]:JSON[_0x5bbe9a(0x69b)](_0x19c389,null,0x2))),{'error':!0x0,'detail':_0x19c389[_0x5bbe9a(0x50d)]};}}['getRandomText'](_0x4f10ce){const _0x10c36c=a0_0x6e1050;let _0x5c12f7=_0x4f10ce[_0x10c36c(0x4c3)]('|'),_0x1274e5=Math[_0x10c36c(0x6c5)](Math['random']()*_0x5c12f7[_0x10c36c(0x401)]);return _0x5c12f7[_0x1274e5][_0x10c36c(0x46e)]();}async['scheduleSendText'](_0x33ccba,_0x27f173){const _0x3dafbe=a0_0x6e1050;if(this['logger'][_0x3dafbe(0x582)](this[_0x3dafbe(0x71d)]+'\x20('+this[_0x3dafbe(0x68a)]['wuid']+'):\x20Enviando\x20texto'),!_0x33ccba[_0x3dafbe(0x50d)][_0x3dafbe(0x654)]||_0x33ccba['message'][_0x3dafbe(0x654)][_0x3dafbe(0x401)]===0x0)return{'error':!0x0,'detail':_0x3dafbe(0xd8)};let _0x1b9d6d=this[_0x3dafbe(0x3c9)](_0x33ccba['message'][_0x3dafbe(0x654)]),_0x47710e=await this[_0x3dafbe(0x3a2)](_0x1b9d6d,_0x27f173),_0x481126={'number':_0x27f173,'options':{'delay':_0x33ccba[_0x3dafbe(0x50d)][_0x3dafbe(0x4f1)],'linkPreview':_0x33ccba[_0x3dafbe(0x50d)][_0x3dafbe(0x2ec)]},'textMessage':{'text':_0x47710e}},_0x482dfe=null;try{let _0x35f236=await this['textMessage'](_0x481126);if(_0x35f236&&_0x35f236['status'])return{'error':!0x1,'id':_0x35f236[_0x3dafbe(0x759)]['id']};_0x482dfe=JSON['stringify'](_0x35f236),this[_0x3dafbe(0xe4)][_0x3dafbe(0x582)](this[_0x3dafbe(0x71d)]+'\x20('+this['instance'][_0x3dafbe(0x4fa)]+_0x3dafbe(0x4a2)+_0x482dfe);}catch(_0x2ec8c8){this['logger'][_0x3dafbe(0x7e2)](this[_0x3dafbe(0x71d)]+'\x20('+this['instance'][_0x3dafbe(0x4fa)]+_0x3dafbe(0x4b5)+(_0x2ec8c8 instanceof Error?_0x2ec8c8[_0x3dafbe(0x50d)]:JSON[_0x3dafbe(0x69b)](_0x2ec8c8,null,0x2))),_0x482dfe=_0x2ec8c8[_0x3dafbe(0x50d)];}if(_0x482dfe)return{'error':!0x0,'detail':(typeof _0x482dfe==_0x3dafbe(0x4c5)?JSON['stringify'](_0x482dfe,null,0x2):_0x482dfe)[_0x3dafbe(0x70d)](/[\[\]{}\n]/g,'\x20')[_0x3dafbe(0x70d)](/  +/g,'\x20')};}async[a0_0x6e1050(0x3ab)](_0x2bd986,_0x9ceeda){const _0x25470f=a0_0x6e1050;this['logger'][_0x25470f(0x582)](this[_0x25470f(0x71d)]+'\x20('+this[_0x25470f(0x68a)]['wuid']+_0x25470f(0x239));let _0x5cd4be;if(_0x2bd986[_0x25470f(0x50d)][_0x25470f(0x654)]&&_0x2bd986[_0x25470f(0x50d)][_0x25470f(0x654)]['length']>0x0){let _0x48546e=this['getRandomText'](_0x2bd986[_0x25470f(0x50d)][_0x25470f(0x654)]);_0x5cd4be=await this[_0x25470f(0x3a2)](_0x48546e,_0x9ceeda);}let _0x36b888={'number':_0x9ceeda,'options':{'delay':_0x2bd986[_0x25470f(0x50d)]['delay'],'linkPreview':_0x2bd986[_0x25470f(0x50d)][_0x25470f(0x2ec)]},'mediaMessage':{'mediatype':_0x2bd986['message']['mediatype'],'caption':_0x5cd4be,'media':_0x2bd986[_0x25470f(0x50d)]['urlOrBase64']}},_0xc4025b=null;try{let _0x5940d4=await this[_0x25470f(0x4ad)](_0x36b888);if(_0x5940d4&&_0x5940d4[_0x25470f(0x349)])return{'error':!0x1,'id':_0x5940d4['key']['id']};_0xc4025b=JSON[_0x25470f(0x69b)](_0x5940d4),this[_0x25470f(0xe4)][_0x25470f(0x582)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0xc4025b);}catch(_0x451e9d){this['logger']['error'](this[_0x25470f(0x71d)]+'\x20('+this[_0x25470f(0x68a)][_0x25470f(0x4fa)]+_0x25470f(0x6de)+(_0x451e9d instanceof Error?_0x451e9d[_0x25470f(0x50d)]:JSON[_0x25470f(0x69b)](_0x451e9d,null,0x2))),_0xc4025b=_0x451e9d[_0x25470f(0x50d)];}if(_0xc4025b)return{'error':!0x0,'detail':(typeof _0xc4025b=='object'?JSON[_0x25470f(0x69b)](_0xc4025b,null,0x2):_0xc4025b)['replace'](/[\[\]{}\n]/g,'\x20')[_0x25470f(0x70d)](/  +/g,'\x20')};}async[a0_0x6e1050(0x5d8)](_0x2aa917,_0x37357d){const _0x5118d0=a0_0x6e1050;this[_0x5118d0(0xe4)]['verbose'](this[_0x5118d0(0x71d)]+'\x20('+this[_0x5118d0(0x68a)]['wuid']+'):\x20Enviando\x20áudio');let _0xcd7c1b={'number':_0x37357d,'options':{'delay':_0x2aa917[_0x5118d0(0x50d)]['delay']},'audioMessage':{'audio':_0x2aa917['message']['urlOrBase64']}},_0x5f2a04=null;try{let _0x15a437=await this['audioWhatsapp'](_0xcd7c1b);if(_0x15a437&&_0x15a437['status'])return{'error':!0x1,'id':_0x15a437[_0x5118d0(0x759)]['id']};_0x5f2a04=JSON[_0x5118d0(0x69b)](_0x15a437),this[_0x5118d0(0xe4)][_0x5118d0(0x582)](this[_0x5118d0(0x71d)]+'\x20('+this['instance'][_0x5118d0(0x4fa)]+'):\x20'+_0x5f2a04);}catch(_0x359027){this['logger']['error'](this[_0x5118d0(0x71d)]+'\x20('+this['instance']['wuid']+_0x5118d0(0x229)+(_0x359027 instanceof Error?_0x359027['message']:JSON[_0x5118d0(0x69b)](_0x359027,null,0x2))),_0x5f2a04=_0x359027[_0x5118d0(0x50d)];}if(_0x5f2a04)return{'error':!0x0,'detail':(typeof _0x5f2a04==_0x5118d0(0x4c5)?JSON[_0x5118d0(0x69b)](_0x5f2a04,null,0x2):_0x5f2a04)[_0x5118d0(0x70d)](/[\[\]{}\n]/g,'\x20')[_0x5118d0(0x70d)](/  +/g,'\x20')};}async[a0_0x6e1050(0x40a)](_0x594bf1){const _0x35a291=a0_0x6e1050;try{return await this[_0x35a291(0x6b4)][_0x35a291(0x706)](_0x594bf1[_0x35a291(0x62f)],_0x594bf1[_0x35a291(0x580)]),{'update':_0x35a291(0x6fb)};}catch(_0xa64cee){let _0x20039f=_0x35a291(0x159),_0x49cb4c=_0xa64cee instanceof Error?_0xa64cee[_0x35a291(0x50d)]:typeof _0xa64cee==_0x35a291(0x4c5)?JSON['stringify'](_0xa64cee):_0xa64cee,_0x410aee=_0x20039f+':\x20'+_0x49cb4c;throw this[_0x35a291(0xe4)][_0x35a291(0x7e2)](this[_0x35a291(0x71d)]+'\x20('+this[_0x35a291(0x68a)][_0x35a291(0x4fa)]+_0x35a291(0x4a2)+_0x410aee),new x(_0x410aee);}}async['groupName'](_0x51d2c6){const _0x3dbd65=a0_0x6e1050;try{return await this[_0x3dbd65(0x6b4)][_0x3dbd65(0x4ed)](_0x51d2c6[_0x3dbd65(0x62f)],_0x51d2c6[_0x3dbd65(0x4f4)]),{'update':'success'};}catch(_0x5d7194){let _0x2c13e7=_0x3dbd65(0x2e8),_0x504710=_0x5d7194 instanceof Error?_0x5d7194[_0x3dbd65(0x50d)]:typeof _0x5d7194=='object'?JSON[_0x3dbd65(0x69b)](_0x5d7194):_0x5d7194,_0x5749e4=_0x2c13e7+':\x20'+_0x504710;throw this[_0x3dbd65(0xe4)]['error'](this['instanceName']+'\x20('+this[_0x3dbd65(0x68a)][_0x3dbd65(0x4fa)]+_0x3dbd65(0x4a2)+_0x5749e4),new x(_0x5749e4);}}async[a0_0x6e1050(0x630)](_0x16ad79){const _0x3ec2a9=a0_0x6e1050;try{let _0xa235ec=await this[_0x3ec2a9(0x6b4)]['groupToggleEphemeral'](_0x16ad79[_0x3ec2a9(0x62f)],_0x16ad79['expiration']);return{'success':!0x0};}catch(_0x47ec7b){let _0x180134=_0x3ec2a9(0x425),_0x1ecce5=_0x47ec7b instanceof Error?_0x47ec7b[_0x3ec2a9(0x50d)]:typeof _0x47ec7b==_0x3ec2a9(0x4c5)?JSON['stringify'](_0x47ec7b):_0x47ec7b,_0x415d5a=_0x180134+':\x20'+_0x1ecce5;throw this['logger'][_0x3ec2a9(0x7e2)](this[_0x3ec2a9(0x71d)]+'\x20('+this['instance'][_0x3ec2a9(0x4fa)]+_0x3ec2a9(0x4a2)+_0x415d5a),new x(_0x415d5a);}}async[a0_0x6e1050(0x114)](_0x5a2333){const _0x3a5736=a0_0x6e1050;try{return await this['client'][_0x3a5736(0x209)](_0x5a2333[_0x3a5736(0x62f)],_0x5a2333['setting']),{'update':_0x3a5736(0x6fb)};}catch(_0x5be2bf){let _0x2add93=_0x3a5736(0x21e),_0x32bf14=_0x5be2bf instanceof Error?_0x5be2bf[_0x3a5736(0x50d)]:typeof _0x5be2bf=='object'?JSON['stringify'](_0x5be2bf):_0x5be2bf,_0x85b33d=_0x2add93+':\x20'+_0x32bf14;throw this[_0x3a5736(0xe4)][_0x3a5736(0x7e2)](this[_0x3a5736(0x71d)]+'\x20('+this[_0x3a5736(0x68a)][_0x3a5736(0x4fa)]+_0x3a5736(0x4a2)+_0x85b33d),new x(_0x85b33d);}}async[a0_0x6e1050(0x36e)](_0x17574a){const _0x70146=a0_0x6e1050;try{let _0x404863;if((0x0,k[_0x70146(0x503)])(_0x17574a['image'])){let _0x45de1b=new Date()['getTime'](),_0x1c2e1e=_0x17574a[_0x70146(0x505)]+'?timestamp='+_0x45de1b;_0x404863=(await Q[_0x70146(0x45f)][_0x70146(0x58b)](_0x1c2e1e,{'responseType':_0x70146(0x5f2)}))[_0x70146(0x183)];}else{if((0x0,k[_0x70146(0x4dd)])(_0x17574a[_0x70146(0x505)]))_0x404863=Buffer[_0x70146(0x179)](_0x17574a[_0x70146(0x505)],_0x70146(0x5ab));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x70146(0x6b4)]['updateProfilePicture'](_0x17574a['groupJid'],_0x404863),{'update':_0x70146(0x6fb)};}catch(_0x3c84bb){let _0x210e0f=_0x70146(0x677),_0x294131=_0x3c84bb instanceof Error?_0x3c84bb['message']:typeof _0x3c84bb==_0x70146(0x4c5)?JSON[_0x70146(0x69b)](_0x3c84bb):_0x3c84bb,_0x521ae2=_0x210e0f+':\x20'+_0x294131;throw this['logger'][_0x70146(0x7e2)](this[_0x70146(0x71d)]+'\x20('+this['instance'][_0x70146(0x4fa)]+_0x70146(0x4a2)+_0x521ae2),new x(_0x521ae2);}}},Ut=class c{constructor(_0x2139d4,_0x1d1150,_0x9cd299){const _0x45bdb8=a0_0x6e1050;this[_0x45bdb8(0x3e7)]=_0x2139d4,this[_0x45bdb8(0x7aa)]=_0x1d1150,this['repository']=_0x9cd299,this['db']={},this[_0x45bdb8(0x629)]={},this[_0x45bdb8(0xe4)]=new $(c[_0x45bdb8(0x4f4)]),this[_0x45bdb8(0x6c8)]={},(this[_0x45bdb8(0x67e)](),this[_0x45bdb8(0x4e6)](),Object[_0x45bdb8(0x147)](this['db'],_0x1d1150[_0x45bdb8(0x58b)](_0x45bdb8(0x161))),Object[_0x45bdb8(0x147)](this[_0x45bdb8(0x629)],_0x1d1150[_0x45bdb8(0x58b)](_0x45bdb8(0x75f))),this[_0x45bdb8(0x729)]=this['db'][_0x45bdb8(0x584)]?this[_0x45bdb8(0x3d9)][_0x45bdb8(0x18b)]?.['db'](this['db'][_0x45bdb8(0x1b4)]['DB_PREFIX_NAME']+_0x45bdb8(0x20e)):void 0x0,this['cache']=this[_0x45bdb8(0x629)][_0x45bdb8(0x584)]?new le(this[_0x45bdb8(0x629)]):void 0x0);}async[a0_0x6e1050(0x735)](_0x2284eb){const _0x4aa336=a0_0x6e1050;if(_0x2284eb&&!this[_0x4aa336(0x6c8)][_0x2284eb])throw new q('Instance\x20\x22'+_0x2284eb+_0x4aa336(0x6c6));let _0xad6731=[];for await(let [_0x4bf50a,_0x49a23f]of Object[_0x4aa336(0x788)](this['waInstances']))if(_0x49a23f&&_0x49a23f[_0x4aa336(0x277)]['state']===_0x4aa336(0x381)){let _0x4a9ab8=await this[_0x4aa336(0x3d9)][_0x4aa336(0x28a)][_0x4aa336(0x15f)](_0x4bf50a);_0xad6731['push']({'instance':{'instanceName':_0x4bf50a,'apikey':_0x4a9ab8[_0x4aa336(0x305)],'owner':_0x49a23f[_0x4aa336(0x4fa)],'profileName':await _0x49a23f[_0x4aa336(0x6fe)]()||_0x4aa336(0x5d5),'profilePictureUrl':_0x49a23f['profilePictureUrl']}});}return _0xad6731['find'](_0x1b2f9f=>_0x1b2f9f[_0x4aa336(0x68a)][_0x4aa336(0x71d)]===_0x2284eb)??_0xad6731;}async['cleaningUp'](_0x3d5537){const _0x30a915=a0_0x6e1050;if(this['db'][_0x30a915(0x584)]&&(await this[_0x30a915(0x3d9)][_0x30a915(0x18b)][_0x30a915(0x4bd)](),(await this['dbInstance'][_0x30a915(0x79a)]())[_0x30a915(0x401)]>0x0&&await this[_0x30a915(0x729)][_0x30a915(0x793)](_0x3d5537)),this['redis']['ENABLED']){this[_0x30a915(0x7ce)][_0x30a915(0x2eb)]=_0x3d5537,await this[_0x30a915(0x7ce)][_0x30a915(0x54a)]();return;}}async[a0_0x6e1050(0xf2)](){const _0x4e3724=a0_0x6e1050;await this[_0x4e3724(0x404)]();let _0x4bf34f=async _0x75d9ab=>{const _0x1d40ac=_0x4e3724;let _0x50ece5=new Ee(this[_0x1d40ac(0x7aa)],this[_0x1d40ac(0x3e7)],this[_0x1d40ac(0x3d9)]);_0x50ece5['instanceName']=_0x75d9ab,await _0x50ece5[_0x1d40ac(0x766)](),this['waInstances'][_0x75d9ab]=_0x50ece5;};try{if(this[_0x4e3724(0x629)]['ENABLED']){let _0x146b37=await this[_0x4e3724(0x7ce)]['instanceKeys']();_0x146b37?.[_0x4e3724(0x401)]>0x0&&_0x146b37['forEach'](async _0x1c5199=>await _0x4bf34f(_0x1c5199[_0x4e3724(0x4c3)](':')[0x1]));return;}if(this['db'][_0x4e3724(0x584)]){await this[_0x4e3724(0x3d9)][_0x4e3724(0x18b)][_0x4e3724(0x4bd)]();let _0x21f6e5=await this[_0x4e3724(0x729)][_0x4e3724(0x79a)]();_0x21f6e5[_0x4e3724(0x401)]>0x0&&_0x21f6e5['forEach'](async _0x405921=>await _0x4bf34f(_0x405921[_0x4e3724(0x650)][_0x4e3724(0x70d)](/^[\w-]+\./,'')));return;}}catch(_0x15cff7){this[_0x4e3724(0xe4)]['error'](_0x15cff7);}}async['InstancesAsDisconnectedX'](){const _0x3d661c=a0_0x6e1050;let _0x568fca=await this[_0x3d661c(0x3d9)][_0x3d661c(0x28a)][_0x3d661c(0x533)](),_0x181165=_0x568fca['filter'](_0xde32d8=>!this[_0x3d661c(0x6c8)][_0xde32d8[_0x3d661c(0x238)]]&&(_0xde32d8[_0x3d661c(0x129)]||typeof _0xde32d8[_0x3d661c(0x129)]>'u'));_0x181165[_0x3d661c(0x401)]>0x0&&await Promise[_0x3d661c(0x218)](_0x181165[_0x3d661c(0x4bf)](async _0x11be09=>{const _0x2a8995=_0x3d661c;let _0x144f9f={'online':!0x1,'lastDisconnect':Date[_0x2a8995(0x631)]()};await this['repository'][_0x2a8995(0x28a)][_0x2a8995(0x694)](_0x144f9f,_0x11be09['_id']);}));let _0x12ee83=Date[_0x3d661c(0x631)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x28eaf4=_0x568fca[_0x3d661c(0x3e3)](_0x1dc0f5=>!this[_0x3d661c(0x6c8)][_0x1dc0f5['_id']]&&typeof _0x1dc0f5['lastDisconnect']<'u'&&_0x1dc0f5[_0x3d661c(0x57e)]<_0x12ee83);_0x28eaf4[_0x3d661c(0x401)]>0x0&&await Promise[_0x3d661c(0x218)](_0x28eaf4[_0x3d661c(0x4bf)](async _0x1c28dd=>{}));}async[a0_0x6e1050(0x404)](){const _0xc99297=a0_0x6e1050;try{let _0x1d0fba={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0xb214f0={'online':!0x1,'lastDisconnect':Date['now']()},_0x482a9d=await this['repository'][_0xc99297(0x28a)][_0xc99297(0x1eb)](_0x1d0fba,_0xb214f0);console[_0xc99297(0x47c)](_0xc99297(0x5a9)+_0x482a9d['insertCount']),await this['removeOlderDisconnectedInstances']();}catch(_0x1699aa){console[_0xc99297(0x7e2)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x1699aa);}}async[a0_0x6e1050(0x588)](){const _0x2ccd76=a0_0x6e1050;try{let _0x3a9ab4={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x205fcd=await this[_0x2ccd76(0x3d9)]['auth'][_0x2ccd76(0x467)](_0x3a9ab4);console[_0x2ccd76(0x47c)](_0x2ccd76(0x728)+_0x205fcd[_0x2ccd76(0x34c)]);}catch(_0x1bb1f5){console[_0x2ccd76(0x7e2)](_0x2ccd76(0x13e),_0x1bb1f5);}}[a0_0x6e1050(0x67e)](){const _0x37da02=a0_0x6e1050;this['eventEmitter']['on'](_0x37da02(0x563),async _0x1b4e49=>{const _0xaa7d2=_0x37da02;try{this[_0xaa7d2(0x6c8)][_0x1b4e49]=void 0x0;}catch{}try{this['cleaningUp'](_0x1b4e49);}finally{this[_0xaa7d2(0xe4)]['warn'](_0xaa7d2(0x42f)+_0x1b4e49+_0xaa7d2(0x173));}});}[a0_0x6e1050(0x4e6)](){const _0x5909c1=a0_0x6e1050;this[_0x5909c1(0x3e7)]['on'](_0x5909c1(0x2d7),async _0x1e3681=>{const _0x4ac06e=_0x5909c1;try{this[_0x4ac06e(0x6c8)][_0x1e3681]=void 0x0;}catch{}try{this['cleaningUp'](_0x1e3681);}finally{this['logger'][_0x4ac06e(0x488)](_0x4ac06e(0x42f)+_0x1e3681+'\x22\x20-\x20NOT\x20CONNECTION');}});}},qt=class extends D{[a0_0x6e1050(0x632)](_0x2e5ea6){return Qs(_0x2e5ea6);}async[a0_0x6e1050(0x2ae)](_0x5b0b9a){const _0x2f5391=a0_0x6e1050;if(_0x5b0b9a[_0x2f5391(0x401)]!==0x0)try{return{'insertCount':(await this[_0x2f5391(0x632)](_0x5b0b9a[0x0][_0x2f5391(0x427)])[_0x2f5391(0x3db)]([..._0x5b0b9a]))[_0x2f5391(0x401)]};}catch(_0x34b1b8){return _0x34b1b8;}}async[a0_0x6e1050(0x15f)](_0x360032,_0x14cf80){const _0x56c58e=a0_0x6e1050;try{let _0x457ed2=this[_0x56c58e(0x632)](_0x14cf80),_0x2abb96=I(_0x360032[_0x56c58e(0x6ec)]);return await _0x457ed2[_0x56c58e(0x15f)](_0x2abb96)[_0x56c58e(0x683)]({'lastmsg':-0x1})[_0x56c58e(0x616)](_0x360032?.['limit']??0x0)['lean']();}catch{return[];}}async['delete'](_0x2aa5bb,_0x1ec85e){const _0x4f6161=a0_0x6e1050;try{return{'deletedCount':(await this[_0x4f6161(0x632)](_0x1ec85e)['deleteMany']({..._0x2aa5bb[_0x4f6161(0x6ec)]}))[_0x4f6161(0x748)]};}catch(_0x3ff9b2){return{'error':_0x3ff9b2?.[_0x4f6161(0x16c)]()};}}async['deleteAll'](_0x50faed,_0x3eb0c9){const _0x1be9ef=a0_0x6e1050;try{return await this[_0x1be9ef(0x632)](_0x3eb0c9)[_0x1be9ef(0x467)]({..._0x50faed[_0x1be9ef(0x6ec)]}),[];}catch(_0x39f117){return{'error':_0x39f117?.[_0x1be9ef(0x16c)]()};}}async[a0_0x6e1050(0x7a7)](_0xdbbd13,_0x9a2781){const _0x2b8e80=a0_0x6e1050;try{let _0xb38c0b=this['getChatModelForOwner'](_0x9a2781),_0x631b82=I(_0xdbbd13[_0x2b8e80(0x6ec)]);return await _0xb38c0b[_0x2b8e80(0x7a7)](_0x631b82)['lean']();}catch{return null;}}async[a0_0x6e1050(0x662)](_0x47902f,_0x55bfc4,_0xea5757,_0x27ac73,_0x2de3ce=a0_0x6e1050(0x614)){const _0x58500c=a0_0x6e1050;try{let _0x3e61f2={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x27ac73},_0x1acc23=this[_0x58500c(0x632)](_0xea5757),_0x3cd4d4=I(_0x47902f[_0x58500c(0x6ec)]);Object[_0x58500c(0x1be)](_0x55bfc4)[_0x58500c(0x463)](_0x373b4c=>{_0x55bfc4[_0x373b4c]==null&&delete _0x55bfc4[_0x373b4c];});let _0x251470={};return _0x251470[_0x2de3ce]=_0x55bfc4,await _0x1acc23[_0x58500c(0x566)](_0x3cd4d4,_0x251470,_0x3e61f2);}catch(_0x4d2cab){return console[_0x58500c(0x7e2)](_0x4d2cab),null;}}async[a0_0x6e1050(0x782)](_0x47c519){const _0x598c99=a0_0x6e1050;try{let _0x2c870d=this[_0x598c99(0x632)](_0x47c519[0x0][_0x598c99(0x4ba)][_0x598c99(0x6ec)]['owner']),_0x40c895=_0x47c519[_0x598c99(0x4bf)](_0x38b626=>({'updateOne':{'filter':{..._0x38b626[_0x598c99(0x4ba)][_0x598c99(0x6ec)]},'update':{'$set':_0x38b626[_0x598c99(0x27b)]},'upsert':!0x0}})),_0x3ef91d=await _0x2c870d['bulkWrite'](_0x40c895);return _0x3ef91d[_0x598c99(0x3ed)]+_0x3ef91d[_0x598c99(0x4cc)];}catch(_0x341109){return console[_0x598c99(0x7e2)](_0x341109),0x0;}}async['removeUnusedChatFields'](_0x8b4eca){const _0x291d78=a0_0x6e1050;try{let _0x1182ee={'group_isCommunity':'','group_announce':'','group_size':''},_0x57ff76={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x5686ba={'$unset':_0x1182ee};return(await this['getChatModelForOwner'](_0x8b4eca)[_0x291d78(0x782)](_0x57ff76,_0x5686ba))[_0x291d78(0x3ed)];}catch(_0x3c9f74){return console[_0x291d78(0x7e2)](_0x291d78(0x17c),_0x3c9f74),0x0;}}async[a0_0x6e1050(0x178)](_0xf9eb2b){const _0x27e934=a0_0x6e1050;try{let _0x534af6=this['getChatModelForOwner'](_0xf9eb2b),_0xb3021={'leadInfo.etiquetas':{'$exists':!0x1}},_0x19670e={'$set':{'leadInfo.etiquetas':[]}};return(await _0x534af6[_0x27e934(0x782)](_0xb3021,_0x19670e))[_0x27e934(0x3ed)];}catch(_0xc75dc8){return console['error'](_0xc75dc8),0x0;}}async[a0_0x6e1050(0x5db)](_0x1cee38){const _0x1bec29=a0_0x6e1050;try{let _0x322d9b=this[_0x1bec29(0x632)](_0x1cee38),_0x49fdc6={'leadInfo.tags':{'$exists':!0x1}},_0x2659aa={'$set':{'leadInfo.tags':[]}};return(await _0x322d9b[_0x1bec29(0x782)](_0x49fdc6,_0x2659aa))[_0x1bec29(0x3ed)];}catch(_0x5db082){return console[_0x1bec29(0x7e2)](_0x5db082),0x0;}}async[a0_0x6e1050(0x7ec)](_0x1110b9){const _0x17536d=a0_0x6e1050;try{let _0x25d4ac=this[_0x17536d(0x632)](_0x1110b9),_0x12834e={'leadInfo.customFields':{'$exists':!0x1}},_0x47b82f={'$set':{'leadInfo.customFields':[]}};return(await _0x25d4ac[_0x17536d(0x782)](_0x12834e,_0x47b82f))[_0x17536d(0x3ed)];}catch(_0x27119a){return console[_0x17536d(0x7e2)](_0x27119a),0x0;}}async[a0_0x6e1050(0x3db)](_0x18c33b,_0x5a0f87){const _0x17d0d7=a0_0x6e1050;if(!Array[_0x17d0d7(0x314)](_0x18c33b)||_0x18c33b[_0x17d0d7(0x401)]===0x0)throw new Error(_0x17d0d7(0x799));try{return(await this['getChatModelForOwner'](_0x5a0f87)[_0x17d0d7(0x3db)](_0x18c33b))[_0x17d0d7(0x401)];}catch(_0x3b4423){throw console[_0x17d0d7(0x7e2)](_0x17d0d7(0x4ee),_0x3b4423),_0x3b4423;}}async[a0_0x6e1050(0x3b4)](_0x59eaee,_0x3672c5){const _0x1b29ca=a0_0x6e1050;try{await this[_0x1b29ca(0x632)](_0x3672c5)[_0x1b29ca(0x396)]({'_id':_0x59eaee});}catch(_0x697e55){throw console[_0x1b29ca(0x7e2)](_0x1b29ca(0x2bb),_0x697e55),_0x697e55;}}},Vt=class extends D{constructor(_0x59bff3,_0x4a73ae,_0xa6fb71){const _0x215d6e=a0_0x6e1050;super(_0x4a73ae),this['cacheContactModel']=_0x59bff3,this['configService']=_0x4a73ae,this[_0x215d6e(0x447)]=_0xa6fb71;}async[a0_0x6e1050(0x2ae)](_0x1fce95){const _0x104f66=a0_0x6e1050;if(_0x1fce95['length']!==0x0)try{return{'insertCount':(await this[_0x104f66(0x464)][_0x104f66(0x3db)]([..._0x1fce95]))[_0x104f66(0x401)]};}catch(_0x677c82){return _0x677c82;}}async[a0_0x6e1050(0x27b)](_0x2e724f,_0x892087){const _0x342d61=a0_0x6e1050;try{let _0x1633bd=I(_0x2e724f['where']);return{'updatedCount':(await this['cacheContactModel'][_0x342d61(0x782)](_0x1633bd,{'$set':_0x892087}))[_0x342d61(0x3ed)]};}catch(_0x409dfe){return console[_0x342d61(0x7e2)](_0x342d61(0x3ae),_0x409dfe),{'error':_0x409dfe[_0x342d61(0x16c)]()};}}async[a0_0x6e1050(0x4be)](_0x25f8de){const _0x266126=a0_0x6e1050;try{let _0x1738ad={'_id':{'$in':_0x25f8de}};return await this[_0x266126(0x464)][_0x266126(0x15f)](_0x1738ad)[_0x266126(0x475)]();}catch(_0x2bbc4b){return console[_0x266126(0x7e2)]('Error\x20finding\x20many\x20contacts:',_0x2bbc4b),[];}}async[a0_0x6e1050(0x5c9)](_0x236d65){const _0x4687c0=a0_0x6e1050;try{return{'deletedCount':(await this[_0x4687c0(0x464)]['deleteMany']({..._0x236d65[_0x4687c0(0x6ec)]}))[_0x4687c0(0x748)]};}catch(_0x27a9ed){return{'error':_0x27a9ed?.[_0x4687c0(0x16c)]()};}}async[a0_0x6e1050(0x15f)](_0x2a5dd9){const _0x2e9caf=a0_0x6e1050;try{let _0x5ec67f=I(_0x2a5dd9[_0x2e9caf(0x6ec)]);return await this[_0x2e9caf(0x464)][_0x2e9caf(0x15f)](_0x5ec67f)['limit'](_0x2a5dd9?.[_0x2e9caf(0x616)]??0x0)[_0x2e9caf(0x475)]();}catch{return[];}}async['findOne'](_0x1f779f){const _0x2563ad=a0_0x6e1050;try{let _0x9a38af=I(_0x1f779f['where']);return await this['cacheContactModel'][_0x2563ad(0x7a7)](_0x9a38af)[_0x2563ad(0x475)]();}catch{return null;}}},Gt=class extends D{[a0_0x6e1050(0x35f)](_0xec70b3){return fa(_0xec70b3);}async[a0_0x6e1050(0x662)](_0x1032d6,_0x22aa69,_0x438d29,_0x289920){const _0x240983=a0_0x6e1050;try{let _0x754cec={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x289920},_0x1f533f=this[_0x240983(0x35f)](_0x438d29),_0x2fe74c=I(_0x1032d6['where']);return await _0x1f533f[_0x240983(0x566)](_0x2fe74c,{'$set':_0x22aa69},_0x754cec);}catch(_0x2fd5d8){return console[_0x240983(0x7e2)](_0x2fd5d8),null;}}async['find'](_0x41c7e1,_0x5266d4){const _0xf46da4=a0_0x6e1050;try{let _0x1fef93=this['getLabelModelForOwner'](_0x5266d4),_0x48260a=I(_0x41c7e1[_0xf46da4(0x6ec)]);return await _0x1fef93[_0xf46da4(0x15f)](_0x48260a);}catch(_0x219b56){console[_0xf46da4(0x7e2)](_0x219b56);}}async[a0_0x6e1050(0x5c9)](_0x9fddce,_0x13876b){const _0x642c97=a0_0x6e1050;try{let _0x106874=this[_0x642c97(0x35f)](_0x13876b),_0x3cb009=I(_0x9fddce[_0x642c97(0x6ec)]);await _0x106874['deleteMany'](_0x3cb009);}catch(_0x1410d5){console[_0x642c97(0x7e2)](_0x1410d5);}}async[a0_0x6e1050(0x5bf)](_0x2e6fff){const _0x34df71=a0_0x6e1050;try{return await this[_0x34df71(0x35f)](_0x2e6fff)[_0x34df71(0x1c1)][_0x34df71(0x519)](),{'success':!0x0};}catch(_0x49999a){return console[_0x34df71(0x7e2)](_0x49999a),{'success':!0x1,'error':_0x49999a};}}},Bt=class{constructor(_0x152e5d){this['waMonitor']=_0x152e5d;}async[a0_0x6e1050(0x35d)]({instanceName:_0xae2de8},_0x5c0752){const _0x36ad08=a0_0x6e1050;return await this['waMonitor'][_0x36ad08(0x6c8)][_0xae2de8]['editChat'](_0x5c0752);}async['whatsappNumber']({instanceName:_0xbed9ba},_0x455ad8){const _0x26f638=a0_0x6e1050;return await this['waMonitor'][_0x26f638(0x6c8)][_0xbed9ba][_0x26f638(0x316)](_0x455ad8);}async[a0_0x6e1050(0x5ff)]({instanceName:_0x1b4934},_0x4dbbca){return await this['waMonitor']['waInstances'][_0x1b4934]['importChats'](_0x4dbbca);}async[a0_0x6e1050(0x768)]({instanceName:_0x36484e},_0x43dd18){const _0x42844b=a0_0x6e1050;return await this[_0x42844b(0x406)][_0x42844b(0x6c8)][_0x36484e][_0x42844b(0x72a)](_0x43dd18);}async[a0_0x6e1050(0x438)]({instanceName:_0x4e6c06},_0x535e4e){const _0x922f4f=a0_0x6e1050;return await this[_0x922f4f(0x406)][_0x922f4f(0x6c8)][_0x4e6c06][_0x922f4f(0x438)](_0x535e4e);}async['deleteMessage']({instanceName:_0x50adca},_0x4bd13c){const _0x549567=a0_0x6e1050;return await this['waMonitor'][_0x549567(0x6c8)][_0x50adca][_0x549567(0x51a)](_0x4bd13c);}async[a0_0x6e1050(0x419)]({instanceName:_0x1a7da6},_0x5e6e7c){const _0x58c1ec=a0_0x6e1050;return await this[_0x58c1ec(0x406)][_0x58c1ec(0x6c8)][_0x1a7da6]['profilePicture'](_0x5e6e7c[_0x58c1ec(0x78b)]);}async['fetchProfile']({instanceName:_0x5f3b49},_0x5e8d77){const _0x56bf19=a0_0x6e1050;return await this[_0x56bf19(0x406)][_0x56bf19(0x6c8)][_0x5f3b49][_0x56bf19(0x15e)](_0x5e8d77[_0x56bf19(0x78b)]);}async[a0_0x6e1050(0x560)]({instanceName:_0x296830},_0x4d213b){const _0x596b57=a0_0x6e1050;return await this[_0x596b57(0x406)][_0x596b57(0x6c8)][_0x296830][_0x596b57(0x560)](_0x4d213b);}async[a0_0x6e1050(0x4d0)]({instanceName:_0x3a7e6e},_0xe4597c){const _0x420dc=a0_0x6e1050;return await this[_0x420dc(0x406)][_0x420dc(0x6c8)][_0x3a7e6e]['fetchContacts'](_0xe4597c);}async[a0_0x6e1050(0x745)]({instanceName:_0x5d8bd0},_0x409349){const _0x2f986a=a0_0x6e1050;return await this[_0x2f986a(0x406)][_0x2f986a(0x6c8)][_0x5d8bd0][_0x2f986a(0x745)](_0x409349);}async[a0_0x6e1050(0x44f)]({instanceName:_0x19b80e},_0x4405c6){const _0x407eea=a0_0x6e1050;return await this['waMonitor'][_0x407eea(0x6c8)][_0x19b80e][_0x407eea(0x44f)](_0x4405c6);}async[a0_0x6e1050(0x211)]({instanceName:_0x3cb57a}){const _0x22002d=a0_0x6e1050;return await this[_0x22002d(0x406)][_0x22002d(0x6c8)][_0x3cb57a][_0x22002d(0x211)]();}async[a0_0x6e1050(0x76f)]({instanceName:_0x44bebb}){const _0x4f50e7=a0_0x6e1050;return await this['waMonitor'][_0x4f50e7(0x6c8)][_0x44bebb][_0x4f50e7(0x76f)]();}async['fetchPrivacySettings']({instanceName:_0x14dc71}){const _0x45d08c=a0_0x6e1050;return await this['waMonitor'][_0x45d08c(0x6c8)][_0x14dc71][_0x45d08c(0xdc)]();}async[a0_0x6e1050(0x713)]({instanceName:_0x498bae},_0x5b5ac4){const _0x165eb8=a0_0x6e1050;return await this[_0x165eb8(0x406)][_0x165eb8(0x6c8)][_0x498bae][_0x165eb8(0x713)](_0x5b5ac4);}async[a0_0x6e1050(0x5ed)]({instanceName:_0x4afe91},_0x281cce){const _0x186dbc=a0_0x6e1050;return await this['waMonitor'][_0x186dbc(0x6c8)][_0x4afe91][_0x186dbc(0x5ed)](_0x281cce[_0x186dbc(0x78b)]);}async['updateProfileName']({instanceName:_0x4915b7},_0x177179){const _0x11d2a2=a0_0x6e1050;return await this[_0x11d2a2(0x406)][_0x11d2a2(0x6c8)][_0x4915b7]['updateProfileName'](_0x177179[_0x11d2a2(0x4f4)]);}async['updateProfileStatus']({instanceName:_0x54e1c4},_0x33e68c){const _0x235a98=a0_0x6e1050;return await this[_0x235a98(0x406)][_0x235a98(0x6c8)][_0x54e1c4][_0x235a98(0x198)](_0x33e68c[_0x235a98(0x349)]);}async['updateProfilePicture']({instanceName:_0x27f46d},_0x2d3f20){const _0xf0f486=a0_0x6e1050;return await this[_0xf0f486(0x406)][_0xf0f486(0x6c8)][_0x27f46d]['updateProfilePicture'](_0x2d3f20['picture']);}async[a0_0x6e1050(0x1a3)]({instanceName:_0x3cf5e2},_0x535b47){const _0x8db36f=a0_0x6e1050;return await this[_0x8db36f(0x406)]['waInstances'][_0x3cf5e2][_0x8db36f(0x1a3)]();}},_s=require('@whiskeysockets/baileys'),Wt=class c{constructor(_0xb1a67e,_0x5a9e38,_0x5d3a98,_0xd62fa3,_0x1421f1){const _0x243c95=a0_0x6e1050;this[_0x243c95(0x406)]=_0xb1a67e,this['configService']=_0x5a9e38,this[_0x243c95(0x3d9)]=_0x5d3a98,this[_0x243c95(0x3e7)]=_0xd62fa3,this[_0x243c95(0x3f4)]=_0x1421f1,this[_0x243c95(0xe4)]=new $(c[_0x243c95(0x4f4)]);}async[a0_0x6e1050(0x53a)]({instanceName:_0x3eba9a,apikey:_0x3d939a,number:_0x1bea04,proxy:_0x565484=!0x0}){const _0x46784b=a0_0x6e1050;try{let _0x1682e2=new Ee(this['configService'],this[_0x46784b(0x3e7)],this[_0x46784b(0x3d9)]);_0x1682e2[_0x46784b(0x71d)]=_0x3eba9a,this[_0x46784b(0x406)][_0x46784b(0x6c8)][_0x1682e2[_0x46784b(0x71d)]]=_0x1682e2;let _0x4a073a={};_0x3d939a?(await this[_0x46784b(0x3d9)][_0x46784b(0x28a)][_0x46784b(0x694)]({'apikey':_0x3d939a},_0x3eba9a),_0x4a073a[_0x46784b(0x305)]=_0x3d939a):_0x4a073a=await this[_0x46784b(0x3f4)][_0x46784b(0x6d5)]({'instanceName':_0x1682e2[_0x46784b(0x71d)]});let _0x3684a8;if(_0x1bea04){if(_0x3684a8=await this[_0x46784b(0x36a)](_0x1bea04),_0x3684a8[_0x46784b(0x7e2)])throw new x(_0x3684a8[_0x46784b(0x7e2)][_0x46784b(0x16c)]());_0x1bea04=_0x3684a8['number'];}let _0x528d05;return await _0x1682e2[_0x46784b(0x766)](_0x1bea04),await(0x0,_s['delay'])(0x7d0),_0x528d05=_0x1682e2[_0x46784b(0x205)],{'instance':{'instanceName':_0x1682e2[_0x46784b(0x71d)],'status':_0x46784b(0x3bf)},'hash':_0x4a073a,'qrcode':_0x528d05};}catch(_0x2a3108){throw this[_0x46784b(0xe4)]['error'](_0x2a3108),_0x2a3108;}}async[a0_0x6e1050(0x287)]({instanceName:_0x2d19a0,number:_0x24fa4a=null}){const _0x3805c1=a0_0x6e1050;try{let _0x3b214a=this[_0x3805c1(0x406)]['waInstances'][_0x2d19a0];switch(_0x3b214a?.[_0x3805c1(0x277)]?.[_0x3805c1(0x5b1)]){case _0x3805c1(0x403):return await _0x3b214a['connectToWhatsapp'](_0x24fa4a),await(0x0,_s[_0x3805c1(0x4f1)])(0x7d0),_0x3b214a[_0x3805c1(0x205)];case _0x3805c1(0x3bb):return _0x3b214a['qrCode'];default:return await this['connectionState']({'instanceName':_0x2d19a0});}}catch(_0x278ff8){this[_0x3805c1(0xe4)][_0x3805c1(0x47c)](_0x278ff8);}}async['connectionState']({instanceName:_0x2570e9}){const _0x577777=a0_0x6e1050;let _0x1404c2=this[_0x577777(0x406)][_0x577777(0x6c8)][_0x2570e9][_0x577777(0x277)],_0x39a0ce=null;_0x1404c2[_0x577777(0x5b1)]===_0x577777(0x381)&&_0x2570e9&&(_0x39a0ce=await this[_0x577777(0x406)]['instanceInfo'](_0x2570e9));let _0x515f00=null;return _0x1404c2['state']===_0x577777(0x3bb)&&_0x2570e9&&(_0x515f00=this[_0x577777(0x406)][_0x577777(0x6c8)][_0x2570e9]['qrCode']),{'instance':_0x2570e9,'connectionStatus':_0x1404c2,'instanceInfo':_0x39a0ce,'qrcode':_0x515f00};}async[a0_0x6e1050(0x36a)](_0x4952dd){const _0x5bf49c=a0_0x6e1050;_0x4952dd=_0x4952dd[_0x5bf49c(0x70d)](/\D/g,'');let _0x8910d6=Object[_0x5bf49c(0x1be)](this[_0x5bf49c(0x406)]['waInstances'])[_0x5bf49c(0x3e3)](_0x11c6ce=>{const _0x4b9c64=_0x5bf49c;let _0x1e6444=this[_0x4b9c64(0x406)][_0x4b9c64(0x6c8)][_0x11c6ce];return _0x1e6444&&_0x1e6444[_0x4b9c64(0x277)]&&_0x1e6444[_0x4b9c64(0x277)][_0x4b9c64(0x5b1)]===_0x4b9c64(0x381);});if(_0x8910d6['length']===0x0)return{'number':this['formatBRNumber'](_0x4952dd)};let _0x4d747e=Math['floor'](Math[_0x5bf49c(0x1cd)]()*_0x8910d6[_0x5bf49c(0x401)]),_0x35ae02=_0x8910d6[_0x4d747e];try{let _0x3b5c3b=(await this['waMonitor']['waInstances'][_0x35ae02][_0x5bf49c(0x316)]({'numbers':[_0x4952dd]}))[_0x5bf49c(0x144)]();return _0x3b5c3b['exists']?{'number':_0x3b5c3b[_0x5bf49c(0x379)][_0x5bf49c(0x70d)](_0x5bf49c(0x317),'')}:{'number':_0x4952dd,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x2c1927){return this[_0x5bf49c(0xe4)][_0x5bf49c(0x7e2)](_0x5bf49c(0x66a)+_0x2c1927),{'number':_0x4952dd,'error':_0x5bf49c(0x535)};}}[a0_0x6e1050(0x225)](_0x27d3cb){const _0x63f42c=a0_0x6e1050;let _0x177c2b=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x63f42c(0x241)](_0x27d3cb);if(_0x177c2b&&_0x177c2b[0x1]==='55'){let _0x4a897d=_0x177c2b[0x2],_0x4d7ff7=_0x177c2b[0x3],_0x5f5c6=_0x177c2b[0x4];if(parseInt(_0x4a897d)>=0x1f&&_0x4d7ff7==='9')return _0x177c2b[0x1]+_0x4a897d+_0x5f5c6;}return _0x27d3cb;}async[a0_0x6e1050(0x40e)]({instanceName:_0x3dfea3}){const _0x3228fa=a0_0x6e1050;try{return this[_0x3228fa(0x406)][_0x3228fa(0x6c8)][_0x3dfea3]?.[_0x3228fa(0x6b4)]?.['ws']?.[_0x3228fa(0x403)](),{'status':_0x3228fa(0xf5),'error':!0x1,'response':{'message':_0x3228fa(0x39f)}};}catch(_0x2ee361){this['logger'][_0x3228fa(0x7e2)](_0x2ee361);}}async[a0_0x6e1050(0x49f)]({instanceName:_0x33fd54}){const _0x20a0ed=a0_0x6e1050;return _0x33fd54?this['waMonitor'][_0x20a0ed(0x735)](_0x33fd54):this['waMonitor'][_0x20a0ed(0x735)]();}async[a0_0x6e1050(0x78c)]({instanceName:_0x23b2b8}){const _0xc0a899=a0_0x6e1050;try{return await this['waMonitor'][_0xc0a899(0x6c8)][_0x23b2b8]?.[_0xc0a899(0x6b4)]?.['logout']('Log\x20out\x20instance:\x20'+_0x23b2b8),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x27305d){throw new x(_0x27305d[_0xc0a899(0x16c)]());}}async[a0_0x6e1050(0x644)]({instanceName:_0x580c77}){const _0x11be95=a0_0x6e1050;if((await this[_0x11be95(0x16a)]({'instanceName':_0x580c77}))[_0x11be95(0x277)][_0x11be95(0x5b1)]===_0x11be95(0x381))throw new m([_0x11be95(0x5c0),_0x11be95(0x58d)]);try{return delete this[_0x11be95(0x406)][_0x11be95(0x6c8)][_0x580c77],{'error':!0x1,'message':_0x11be95(0x476)};}catch(_0x2a2e54){throw new m(_0x2a2e54[_0x11be95(0x16c)]());}}},se=require(a0_0x6e1050(0xe6)),zt=class{constructor(_0xa8f537){const _0x31d413=a0_0x6e1050;this[_0x31d413(0x406)]=_0xa8f537;}async[a0_0x6e1050(0x140)]({instanceName:_0x14039f},_0x473fd5){const _0x48092a=a0_0x6e1050;try{return await this[_0x48092a(0x406)][_0x48092a(0x6c8)][_0x14039f][_0x48092a(0x3c6)](_0x473fd5);}catch(_0x594484){console['error'](_0x48092a(0x266)+_0x14039f+':',_0x594484);}}async['sendMenu']({instanceName:_0x30f4ca},_0x10cc85){const _0x9d15e3=a0_0x6e1050;return await this['waMonitor']['waInstances'][_0x30f4ca][_0x9d15e3(0x78f)](_0x10cc85);}async[a0_0x6e1050(0x740)]({instanceName:_0x514974},_0x23ea4c){const _0xece75e=a0_0x6e1050;if((0x0,se[_0xece75e(0x4dd)])(_0x23ea4c?.['mediaMessage']?.['media'])&&!_0x23ea4c?.[_0xece75e(0x4ad)]?.['fileName'])throw new m(_0xece75e(0x690));if((0x0,se[_0xece75e(0x503)])(_0x23ea4c?.['mediaMessage']?.[_0xece75e(0x7cb)])||(0x0,se[_0xece75e(0x4dd)])(_0x23ea4c?.[_0xece75e(0x4ad)]?.[_0xece75e(0x7cb)]))return await this['waMonitor']['waInstances'][_0x514974][_0xece75e(0x4ad)](_0x23ea4c);throw new m(_0xece75e(0x51b));}async['sendSticker']({instanceName:_0x4e5fc3},_0x29afd9){const _0x150e02=a0_0x6e1050;if((0x0,se[_0x150e02(0x503)])(_0x29afd9[_0x150e02(0x276)][_0x150e02(0x505)])||(0x0,se[_0x150e02(0x4dd)])(_0x29afd9[_0x150e02(0x276)][_0x150e02(0x505)]))return await this[_0x150e02(0x406)]['waInstances'][_0x4e5fc3][_0x150e02(0xdb)](_0x29afd9);throw new m(_0x150e02(0x51b));}async[a0_0x6e1050(0x412)]({instanceName:_0x5a03b0},_0x5c8bbd){const _0xe80980=a0_0x6e1050;if((0x0,se[_0xe80980(0x503)])(_0x5c8bbd[_0xe80980(0x3ca)][_0xe80980(0x7d3)])||(0x0,se[_0xe80980(0x4dd)])(_0x5c8bbd[_0xe80980(0x3ca)][_0xe80980(0x7d3)]))return await this['waMonitor'][_0xe80980(0x6c8)][_0x5a03b0]['audioWhatsapp'](_0x5c8bbd);throw new m(_0xe80980(0x51b));}async['sendButtons']({instanceName:_0x4cabcc},_0x5e7586){const _0x427707=a0_0x6e1050;if((0x0,se[_0x427707(0x4dd)])(_0x5e7586[_0x427707(0x556)][_0x427707(0x4ad)]?.['media'])&&!_0x5e7586[_0x427707(0x556)][_0x427707(0x4ad)]?.[_0x427707(0x4fe)])throw new m(_0x427707(0x690));return await this[_0x427707(0x406)][_0x427707(0x6c8)][_0x4cabcc][_0x427707(0x556)](_0x5e7586);}async['sendLocation']({instanceName:_0x4fa1b},_0x26589e){const _0x24713c=a0_0x6e1050;return await this[_0x24713c(0x406)][_0x24713c(0x6c8)][_0x4fa1b][_0x24713c(0x52b)](_0x26589e);}async[a0_0x6e1050(0xf1)]({instanceName:_0x4aeb66},_0x17a4f8){const _0x407271=a0_0x6e1050;return await this[_0x407271(0x406)][_0x407271(0x6c8)][_0x4aeb66][_0x407271(0x4b3)](_0x17a4f8);}async[a0_0x6e1050(0x2e7)]({instanceName:_0x33f483},_0xccd84b){const _0x38d445=a0_0x6e1050;return await this['waMonitor'][_0x38d445(0x6c8)][_0x33f483][_0x38d445(0x2dc)](_0xccd84b);}async[a0_0x6e1050(0x2b8)]({instanceName:_0x1f5c2a},_0x4bb924){const _0x229d0b=a0_0x6e1050;return await this[_0x229d0b(0x406)]['waInstances'][_0x1f5c2a][_0x229d0b(0x69f)](_0x4bb924);}async[a0_0x6e1050(0x28b)]({instanceName:_0x5d40b1},_0x4a3ea7){const _0x1c8d03=a0_0x6e1050;if(!_0x4a3ea7[_0x1c8d03(0x4a1)][_0x1c8d03(0x611)][_0x1c8d03(0x2d9)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x1c8d03(0x406)][_0x1c8d03(0x6c8)][_0x5d40b1]['reactionMessage'](_0x4a3ea7);}async['sendStatus']({instanceName:_0x2d100d},_0x4e9523){const _0x5d1753=a0_0x6e1050;return await this[_0x5d1753(0x406)]['waInstances'][_0x2d100d][_0x5d1753(0x361)](_0x4e9523);}},Ro=require(a0_0x6e1050(0x143)),Ps=require('uuid'),Ht=class c{constructor(_0x44b0b4,_0x396d59,_0x525eb5){const _0x44b4bd=a0_0x6e1050;this[_0x44b4bd(0x7aa)]=_0x44b0b4,this[_0x44b4bd(0x406)]=_0x396d59,this[_0x44b4bd(0x3d9)]=_0x525eb5,this[_0x44b4bd(0xe4)]=new $(c[_0x44b4bd(0x4f4)]);}async['jwt'](_0x578b67){const _0x5a7cdb=a0_0x6e1050;let _0x41e4da=this[_0x5a7cdb(0x7aa)][_0x5a7cdb(0x58b)](_0x5a7cdb(0x55b))[_0x5a7cdb(0x579)],_0x4b8ef4=(0x0,Ro[_0x5a7cdb(0x6a4)])({'instanceName':_0x578b67[_0x5a7cdb(0x71d)],'apiName':tt,'tokenId':(0x0,Ps['v4'])()},_0x41e4da[_0x5a7cdb(0x3c3)],{'expiresIn':_0x41e4da[_0x5a7cdb(0x719)],'encoding':_0x5a7cdb(0x7cf),'subject':_0x5a7cdb(0x553)}),_0x3e584d=await this[_0x5a7cdb(0x3d9)]['auth'][_0x5a7cdb(0x694)]({'jwt':_0x4b8ef4},_0x578b67['instanceName']);if(_0x3e584d[_0x5a7cdb(0x7e2)])throw this[_0x5a7cdb(0xe4)][_0x5a7cdb(0x7e2)]({'localError':c[_0x5a7cdb(0x4f4)]+_0x5a7cdb(0x308),'error':_0x3e584d[_0x5a7cdb(0x7e2)]}),new m('Authentication\x20error',_0x3e584d[_0x5a7cdb(0x7e2)]?.[_0x5a7cdb(0x16c)]());return{'jwt':_0x4b8ef4};}async[a0_0x6e1050(0x305)](_0x193cf8){const _0x14c6bc=a0_0x6e1050;let _0x3607dd=(0x0,Ps['v4'])()['toUpperCase'](),_0x5c52d3=await this[_0x14c6bc(0x3d9)][_0x14c6bc(0x28a)][_0x14c6bc(0x694)]({'apikey':_0x3607dd},_0x193cf8[_0x14c6bc(0x71d)]);if(_0x5c52d3['error'])throw this[_0x14c6bc(0xe4)][_0x14c6bc(0x7e2)]({'localError':c[_0x14c6bc(0x4f4)]+_0x14c6bc(0x308),'error':_0x5c52d3[_0x14c6bc(0x7e2)]}),new m(_0x14c6bc(0x5c3),_0x5c52d3[_0x14c6bc(0x7e2)]?.[_0x14c6bc(0x16c)]());return{'apikey':_0x3607dd};}async[a0_0x6e1050(0x6d5)](_0x41f8b1){const _0x232640=a0_0x6e1050;let _0x28ed6a=this[_0x232640(0x7aa)][_0x232640(0x58b)](_0x232640(0x55b));return await this[_0x28ed6a['TYPE']](_0x41f8b1);}},Kt=class{constructor(_0x4a8314){this['waMonitor']=_0x4a8314;}async['createGroup'](_0x212551,_0x20ca4d){const _0x2b5541=a0_0x6e1050;return await this[_0x2b5541(0x406)][_0x2b5541(0x6c8)][_0x212551[_0x2b5541(0x71d)]]['createGroup'](_0x20ca4d);}async['updateGroupPicture'](_0x52580b,_0x3157ac){const _0x4f1f45=a0_0x6e1050;return await this[_0x4f1f45(0x406)][_0x4f1f45(0x6c8)][_0x52580b['instanceName']]['updateGroupPicture'](_0x3157ac);}async[a0_0x6e1050(0x40a)](_0x340b86,_0xcfaa21){const _0xbcb5d0=a0_0x6e1050;return await this['waMonitor'][_0xbcb5d0(0x6c8)][_0x340b86[_0xbcb5d0(0x71d)]][_0xbcb5d0(0x40a)](_0xcfaa21);}async['groupName'](_0x5cef57,_0x1c7ebf){const _0x314662=a0_0x6e1050;return await this[_0x314662(0x406)][_0x314662(0x6c8)][_0x5cef57['instanceName']][_0x314662(0x428)](_0x1c7ebf);}async[a0_0x6e1050(0x2a5)](_0x11e11d,_0x102307){const _0x1f90b9=a0_0x6e1050;return await this['waMonitor']['waInstances'][_0x11e11d[_0x1f90b9(0x71d)]]['groupBetterSetting'](_0x102307);}async[a0_0x6e1050(0x114)](_0x123a6e,_0x48e021){const _0x5028f1=a0_0x6e1050;return await this['waMonitor'][_0x5028f1(0x6c8)][_0x123a6e[_0x5028f1(0x71d)]][_0x5028f1(0x114)](_0x48e021);}async[a0_0x6e1050(0x398)](_0x3904f9,_0x13d387){const _0x3bf296=a0_0x6e1050;return await this['waMonitor'][_0x3bf296(0x6c8)][_0x3904f9[_0x3bf296(0x71d)]][_0x3bf296(0x5bb)](_0x13d387);}async[a0_0x6e1050(0x667)](_0x58cf3a){const _0x414aef=a0_0x6e1050;return await this[_0x414aef(0x406)]['waInstances'][_0x58cf3a[_0x414aef(0x71d)]][_0x414aef(0x667)]();}async[a0_0x6e1050(0x742)](_0x3fc27c,_0x1b552c){const _0x268080=a0_0x6e1050;return await this[_0x268080(0x406)][_0x268080(0x6c8)][_0x3fc27c[_0x268080(0x71d)]][_0x268080(0x742)](_0x1b552c);}async[a0_0x6e1050(0x405)](_0x1daebc,_0x2df686){const _0x2e814b=a0_0x6e1050;return await this['waMonitor'][_0x2e814b(0x6c8)][_0x1daebc['instanceName']][_0x2e814b(0x405)](_0x2df686);}async[a0_0x6e1050(0x2d3)](_0x3295ab,_0xb31ff3){const _0x128f44=a0_0x6e1050;return await this['waMonitor']['waInstances'][_0x3295ab[_0x128f44(0x71d)]][_0x128f44(0x2d3)](_0xb31ff3);}async[a0_0x6e1050(0x36f)](_0x171427,_0x547607){const _0x90d29d=a0_0x6e1050;return await this['waMonitor'][_0x90d29d(0x6c8)][_0x171427[_0x90d29d(0x71d)]][_0x90d29d(0x36f)](_0x547607);}async['findParticipants'](_0x4307ed,_0x164d3b){const _0x400aca=a0_0x6e1050;return await this['waMonitor'][_0x400aca(0x6c8)][_0x4307ed[_0x400aca(0x71d)]][_0x400aca(0x260)](_0x164d3b);}async[a0_0x6e1050(0x700)](_0x4a004d,_0x4ed83b){const _0x1a080a=a0_0x6e1050;return await this[_0x1a080a(0x406)][_0x1a080a(0x6c8)][_0x4a004d['instanceName']][_0x1a080a(0x62c)](_0x4ed83b);}async[a0_0x6e1050(0x630)](_0x581003,_0x375b23){const _0x1ee93a=a0_0x6e1050;return await this[_0x1ee93a(0x406)][_0x1ee93a(0x6c8)][_0x581003[_0x1ee93a(0x71d)]][_0x1ee93a(0x630)](_0x375b23);}async[a0_0x6e1050(0x4aa)](_0x448a38,_0xc10be){const _0x52565a=a0_0x6e1050;return await this[_0x52565a(0x406)][_0x52565a(0x6c8)][_0x448a38[_0x52565a(0x71d)]]['leaveGroup'](_0xc10be);}},Qt=class{constructor(_0x502992){const _0x4d300d=a0_0x6e1050;this[_0x4d300d(0x406)]=_0x502992;}[a0_0x6e1050(0x694)](_0x281e09,_0x51634b){const _0x5348fa=a0_0x6e1050;return this[_0x5348fa(0x406)][_0x5348fa(0x6c8)][_0x281e09[_0x5348fa(0x71d)]][_0x5348fa(0x156)](_0x51634b);}async[a0_0x6e1050(0x15f)](_0x5ef9b6){const _0x44187e=a0_0x6e1050;try{return await this[_0x44187e(0x406)][_0x44187e(0x6c8)][_0x5ef9b6['instanceName']][_0x44187e(0x435)]();}catch{return{'enabled':null,'url':''};}}},vp=new $(a0_0x6e1050(0x394)),Yt=class{constructor(_0x17cc3b){this['waMonitor']=_0x17cc3b;}async[a0_0x6e1050(0x7e6)](_0x321403,_0x3f3411){const _0x55dbfc=a0_0x6e1050;return await this['waMonitor']['waInstances'][_0x321403[_0x55dbfc(0x71d)]][_0x55dbfc(0x7e6)](_0x3f3411);}async[a0_0x6e1050(0x4eb)](_0x2325de){const _0x5e0d64=a0_0x6e1050;return await this[_0x5e0d64(0x406)][_0x5e0d64(0x6c8)][_0x2325de['instanceName']][_0x5e0d64(0x4eb)]();}async[a0_0x6e1050(0x792)](_0x326d7d){return await this['waMonitor']['waInstances'][_0x326d7d['instanceName']]['deleteDoneMessages']();}async[a0_0x6e1050(0x2f4)](_0x42d1cb){const _0x7b69a2=a0_0x6e1050;return await this[_0x7b69a2(0x406)][_0x7b69a2(0x6c8)][_0x42d1cb[_0x7b69a2(0x71d)]][_0x7b69a2(0x2f4)]();}async[a0_0x6e1050(0x37f)](_0x209c94,_0x5e6a6e){const _0x24af27=a0_0x6e1050;return await this[_0x24af27(0x406)][_0x24af27(0x6c8)][_0x209c94['instanceName']][_0x24af27(0x37f)](_0x5e6a6e);}async[a0_0x6e1050(0x60e)](_0x461293,_0x2d9884){const _0x5180d3=a0_0x6e1050;return await this[_0x5180d3(0x406)][_0x5180d3(0x6c8)][_0x461293[_0x5180d3(0x71d)]][_0x5180d3(0x60e)](_0x2d9884);}async['updateAutoCompleteMessages'](_0x14b2c5,_0x3d3227){const _0x3bac5c=a0_0x6e1050;return await this['waMonitor'][_0x3bac5c(0x6c8)][_0x14b2c5['instanceName']][_0x3bac5c(0x7ee)](_0x3d3227);}async[a0_0x6e1050(0x20c)](_0x506bbf,_0x339b5d){const _0x3cecd4=a0_0x6e1050;return await this['waMonitor'][_0x3cecd4(0x6c8)][_0x506bbf[_0x3cecd4(0x71d)]][_0x3cecd4(0x20c)](_0x339b5d);}async['startFlow'](_0x278bfc,_0x520b6f){const _0x5e4c3b=a0_0x6e1050;return await this[_0x5e4c3b(0x406)][_0x5e4c3b(0x6c8)][_0x278bfc[_0x5e4c3b(0x71d)]]['startFlow'](_0x520b6f);}async[a0_0x6e1050(0x3ff)](_0x2a7dcd,_0x386943,_0x4ef507,_0x46fc35){const _0x542b11=a0_0x6e1050;return await this[_0x542b11(0x406)][_0x542b11(0x6c8)][_0x2a7dcd][_0x542b11(0x3ff)](_0x386943,_0x4ef507,_0x46fc35);}async[a0_0x6e1050(0x387)](_0x4f3794,_0x3e9f7a){const _0x1ce3d7=a0_0x6e1050;return await this[_0x1ce3d7(0x406)][_0x1ce3d7(0x6c8)][_0x4f3794[_0x1ce3d7(0x71d)]][_0x1ce3d7(0x387)](_0x3e9f7a);}async[a0_0x6e1050(0x5f7)](_0x55323c,_0x1e74dd){const _0x448ef9=a0_0x6e1050;return await this['waMonitor'][_0x448ef9(0x6c8)][_0x55323c[_0x448ef9(0x71d)]][_0x448ef9(0x5f7)](_0x1e74dd);}async[a0_0x6e1050(0x325)](_0x145d0f,_0x378ce6){const _0x414f5f=a0_0x6e1050;return await this['waMonitor'][_0x414f5f(0x6c8)][_0x145d0f[_0x414f5f(0x71d)]][_0x414f5f(0x325)](_0x378ce6);}async[a0_0x6e1050(0x3df)](_0x2b1434,_0xabbf0d){const _0xb52a31=a0_0x6e1050;return await this[_0xb52a31(0x406)][_0xb52a31(0x6c8)][_0x2b1434['instanceName']][_0xb52a31(0x3df)](_0xabbf0d);}async[a0_0x6e1050(0x58f)](_0x4be21d,_0x872a30){const _0x2debf6=a0_0x6e1050;return await this[_0x2debf6(0x406)][_0x2debf6(0x6c8)][_0x4be21d[_0x2debf6(0x71d)]][_0x2debf6(0x58f)](_0x872a30[_0x2debf6(0x4f4)],_0x872a30[_0x2debf6(0x3fb)]);}async[a0_0x6e1050(0x272)](_0x22aafa,_0x215dd0,_0x3653e9){const _0x2a0d2e=a0_0x6e1050;return await this[_0x2a0d2e(0x406)][_0x2a0d2e(0x6c8)][_0x22aafa[_0x2a0d2e(0x71d)]]['createFlow'](_0x215dd0,_0x3653e9);}async['editFlow'](_0x2844ae,_0x66f5e1,_0x1e645f){const _0x49756e=a0_0x6e1050;return await this[_0x49756e(0x406)]['waInstances'][_0x2844ae[_0x49756e(0x71d)]][_0x49756e(0x5b3)](_0x66f5e1,_0x1e645f);}async['editFlowBlock'](_0x37ecc1,_0x345f8,_0x38d497){const _0x30723b=a0_0x6e1050;return await this[_0x30723b(0x406)][_0x30723b(0x6c8)][_0x37ecc1[_0x30723b(0x71d)]]['editFlowBlock'](_0x345f8,_0x38d497);}async[a0_0x6e1050(0x725)](_0x171cc6,_0x4acad4,_0x59156c){const _0x26ec58=a0_0x6e1050;return await this[_0x26ec58(0x406)][_0x26ec58(0x6c8)][_0x171cc6[_0x26ec58(0x71d)]][_0x26ec58(0x725)](_0x4acad4,_0x59156c);}async[a0_0x6e1050(0x2a1)](_0x8e3d54,_0x1a29d0,_0x38e96d){const _0x1f1fb8=a0_0x6e1050;return await this[_0x1f1fb8(0x406)][_0x1f1fb8(0x6c8)][_0x8e3d54[_0x1f1fb8(0x71d)]]['editFlowGroup'](_0x1a29d0,_0x38e96d);}async['editFlowCondition'](_0x4bfeb4,_0x3e4515,_0x2cde6c){const _0x5c580d=a0_0x6e1050;return await this[_0x5c580d(0x406)][_0x5c580d(0x6c8)][_0x4bfeb4[_0x5c580d(0x71d)]][_0x5c580d(0x18e)](_0x3e4515,_0x2cde6c);}async[a0_0x6e1050(0x2cf)](_0x24738f,_0x37e5d9,_0x5671c9){const _0x3343ac=a0_0x6e1050;return await this[_0x3343ac(0x406)][_0x3343ac(0x6c8)][_0x24738f[_0x3343ac(0x71d)]][_0x3343ac(0x2cf)](_0x37e5d9,_0x5671c9);}async[a0_0x6e1050(0xed)](_0x26a875,_0x3ae540,_0x5a8e9a){const _0x3bdcf4=a0_0x6e1050;return await this['waMonitor'][_0x3bdcf4(0x6c8)][_0x26a875[_0x3bdcf4(0x71d)]]['editFlowVariable'](_0x3ae540,_0x5a8e9a);}async[a0_0x6e1050(0x337)](_0x4a6fc7,_0x2699b8,_0x418113){const _0x4dabaf=a0_0x6e1050;return await this[_0x4dabaf(0x406)][_0x4dabaf(0x6c8)][_0x4a6fc7[_0x4dabaf(0x71d)]][_0x4dabaf(0x337)](_0x2699b8,_0x418113);}async[a0_0x6e1050(0x617)](_0x22904e){const _0x4ee9f0=a0_0x6e1050;return await this[_0x4ee9f0(0x406)]['waInstances'][_0x22904e[_0x4ee9f0(0x71d)]][_0x4ee9f0(0x617)]();}},Xt=class{constructor(_0x400f81){const _0x5c42ef=a0_0x6e1050;this[_0x5c42ef(0x386)]=_0x400f81;}async[a0_0x6e1050(0x676)](_0x442723,_0x26489b){const _0x5946b1=a0_0x6e1050;return this['webhookService'][_0x5946b1(0x694)](_0x442723,_0x26489b);}async[a0_0x6e1050(0x435)](_0x1d41d5){const _0x27d7a1=a0_0x6e1050;return this[_0x27d7a1(0x386)]['find'](_0x1d41d5);}},Zt=class extends D{constructor(_0x3fd728,_0x40077f){const _0x4676fa=a0_0x6e1050;super(_0x40077f),this[_0x4676fa(0x76d)]=_0x3fd728,this[_0x4676fa(0x7aa)]=_0x40077f;}async[a0_0x6e1050(0x694)](_0x227252,_0x401631){const _0x39006b=a0_0x6e1050;try{return this['dbSettings'][_0x39006b(0x584)]?{'insertCount':(await this[_0x39006b(0x76d)][_0x39006b(0x1d6)]({'_id':_0x401631},{..._0x227252},{'upsert':!0x0}))[_0x39006b(0x3ed)]}:{'insertCount':0x1};}catch(_0x5b6f77){return _0x5b6f77;}}async['delete'](_0x4e50c7){const _0x25d140=a0_0x6e1050;try{if(this[_0x25d140(0x47d)][_0x25d140(0x584)]){await this[_0x25d140(0x76d)][_0x25d140(0x396)]({'_id':_0x4e50c7});return;}}catch(_0x18f8a6){return{'error':_0x18f8a6};}}async[a0_0x6e1050(0x15f)](_0x433a9c){const _0x449b4b=a0_0x6e1050;try{if(this[_0x449b4b(0x47d)][_0x449b4b(0x584)])return await this[_0x449b4b(0x76d)][_0x449b4b(0x7a7)]({'_id':_0x433a9c});}catch{return{};}}},es=class extends D{constructor(_0x202dc5,_0x1fee7c){const _0x18c4ff=a0_0x6e1050;super(_0x1fee7c),this['authModel']=_0x202dc5,this[_0x18c4ff(0x7aa)]=_0x1fee7c,this['auth']=_0x1fee7c[_0x18c4ff(0x58b)](_0x18c4ff(0x55b));}async[a0_0x6e1050(0x694)](_0x1abdee,_0x4677ba){const _0xa2c3a6=a0_0x6e1050;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this[_0xa2c3a6(0x35a)][_0xa2c3a6(0x662)]({'_id':_0x4677ba},{'$set':{..._0x1abdee}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x44e383){return{'error':_0x44e383};}}async[a0_0x6e1050(0x1eb)](_0x3bbefc,_0x173f59){const _0x53bf7b=a0_0x6e1050;try{if(this[_0x53bf7b(0x47d)]['ENABLED'])return{'insertCount':(await this[_0x53bf7b(0x35a)]['updateMany'](_0x3bbefc,{'$set':_0x173f59},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x53bf7b(0x439));}catch(_0x74fb90){return{'error':_0x74fb90};}}async[a0_0x6e1050(0x467)](_0x50b493){const _0x51729e=a0_0x6e1050;try{if(this['dbSettings'][_0x51729e(0x584)])return{'insertCount':(await this['authModel']['deleteMany'](_0x50b493))[_0x51729e(0x748)]};throw new Error(_0x51729e(0x439));}catch(_0xefdd67){return{'error':_0xefdd67};}}async[a0_0x6e1050(0x5c9)](_0x287242){const _0x3c1fc1=a0_0x6e1050;try{if(this[_0x3c1fc1(0x47d)][_0x3c1fc1(0x584)]){await this[_0x3c1fc1(0x35a)]['deleteOne']({'_id':_0x287242});return;}}catch(_0x15a134){return{'error':_0x15a134};}}async[a0_0x6e1050(0x15f)](_0x47ab16){const _0x5c28ae=a0_0x6e1050;try{if(this[_0x5c28ae(0x47d)][_0x5c28ae(0x584)])return await this[_0x5c28ae(0x35a)][_0x5c28ae(0x7a7)]({'_id':_0x47ab16});}catch{return{};}}async[a0_0x6e1050(0x533)](){const _0x4a6c95=a0_0x6e1050;try{if(this['dbSettings'][_0x4a6c95(0x584)])return await this[_0x4a6c95(0x35a)][_0x4a6c95(0x15f)]();}catch{return[];}}},ts=class extends D{[a0_0x6e1050(0x757)](_0x2257b2){return pa(_0x2257b2);}async[a0_0x6e1050(0x5c9)](_0x311dbf,_0x2a63a9){const _0x4dc43b=a0_0x6e1050;try{let _0x4e2ea5=this['getFlowModelForOwner'](_0x2a63a9),_0x44b489=I(_0x311dbf[_0x4dc43b(0x6ec)]);return{'deletedCount':(await _0x4e2ea5[_0x4dc43b(0x467)](_0x44b489))[_0x4dc43b(0x748)]};}catch(_0x3581cc){return{'error':_0x3581cc?.[_0x4dc43b(0x16c)]()};}}async['deleteOne'](_0x190605,_0x112bbf){const _0x46f57c=a0_0x6e1050;try{let _0x2ca040=this[_0x46f57c(0x757)](_0x112bbf),_0x13ae92=I(_0x190605['where']);return{'deletedCount':(await _0x2ca040[_0x46f57c(0x396)](_0x13ae92))[_0x46f57c(0x748)]};}catch(_0x14165d){return{'error':_0x14165d?.[_0x46f57c(0x16c)]()};}}async[a0_0x6e1050(0x1d6)](_0x2361ae,_0x57fa3c,_0x244ad0){const _0x31cacc=a0_0x6e1050;try{let _0x12fd50=await this[_0x31cacc(0x757)](_0x244ad0)['findByIdAndUpdate'](_0x2361ae,_0x57fa3c,{'overwrite':!0x0,'new':!0x0});return _0x12fd50||(console[_0x31cacc(0x7e2)](_0x31cacc(0x44d),_0x2361ae),null);}catch(_0x467dd4){return console[_0x31cacc(0x7e2)](_0x31cacc(0x10b),_0x467dd4),null;}}async[a0_0x6e1050(0x662)](_0x47a211,_0x574b2c,_0x4b4a7b){const _0x4103e7=a0_0x6e1050;try{let _0x5495a3=await this[_0x4103e7(0x757)](_0x4b4a7b)['findById'](_0x47a211);return _0x5495a3?(Object[_0x4103e7(0x147)](_0x5495a3,_0x574b2c),await _0x5495a3[_0x4103e7(0x570)]()):(console[_0x4103e7(0x7e2)](_0x4103e7(0x2ff),_0x47a211),null);}catch(_0x566d70){return console['error'](_0x4103e7(0x10b),_0x566d70),null;}}async[a0_0x6e1050(0x66c)](_0x3e8245,_0x50bbec,_0x405e60){const _0x2ad93a=a0_0x6e1050;try{let _0x4b3b08=this['getFlowModelForOwner'](_0x405e60),_0x3c8da=await _0x4b3b08[_0x2ad93a(0x357)](_0x3e8245),_0x571d5f=await _0x4b3b08[_0x2ad93a(0x566)]({'_id':_0x3e8245},_0x50bbec,{'new':!0x0,'runValidators':!0x0});return _0x571d5f||(console[_0x2ad93a(0x47c)](_0x2ad93a(0x355)+_0x3e8245+'\x20e\x20proprietário\x20'+_0x405e60+_0x2ad93a(0x2aa)),null);}catch(_0x2df5db){throw console[_0x2ad93a(0x7e2)](_0x2ad93a(0x21a),_0x2df5db),_0x2df5db;}}async[a0_0x6e1050(0x40c)](_0x254790){const _0x58ef98=a0_0x6e1050;try{let _0xea6405=this[_0x58ef98(0x757)](_0x254790),_0xfe659e={'shareOwners':{'$exists':!0x1}},_0xd0623d={'$set':{'shareOwners':[]}};return(await _0xea6405[_0x58ef98(0x782)](_0xfe659e,_0xd0623d))[_0x58ef98(0x3ed)];}catch(_0x1e282c){return console[_0x58ef98(0x7e2)](_0x1e282c),0x0;}}async[a0_0x6e1050(0xdd)](_0x4ee9a5,_0xcb8329){const _0x1654f1=a0_0x6e1050;try{let _0x753e63=this[_0x1654f1(0x757)](_0xcb8329);return await new _0x753e63(_0x4ee9a5)[_0x1654f1(0x570)]();}catch(_0x58f3f5){return console[_0x1654f1(0x7e2)](_0x1654f1(0x23c),_0x58f3f5),null;}}async[a0_0x6e1050(0x782)](_0x15ae40,_0x8dce60,_0x2bde8e){const _0x116b49=a0_0x6e1050;try{return{'modifiedCount':(await this[_0x116b49(0x757)](_0x2bde8e)[_0x116b49(0x782)](_0x15ae40,{'$set':_0x8dce60}))[_0x116b49(0x3ed)]};}catch(_0x25f2f4){return console['error'](_0x116b49(0x1d9),_0x25f2f4),{'error':_0x25f2f4};}}async[a0_0x6e1050(0x533)](_0x391d4c,_0x45f9ff){const _0x45a1b4=a0_0x6e1050;try{let _0x2f76db=this['getFlowModelForOwner'](_0x45f9ff),_0x340dac=I(_0x391d4c[_0x45a1b4(0x6ec)]);return await _0x2f76db[_0x45a1b4(0x15f)](_0x340dac)['limit'](_0x391d4c?.[_0x45a1b4(0x616)]??0x0)[_0x45a1b4(0x475)]();}catch{return[];}}async[a0_0x6e1050(0x7a7)](_0x58fb46,_0x9be896){const _0x5a6846=a0_0x6e1050;try{let _0x3c9ea3=this[_0x5a6846(0x757)](_0x9be896),_0x3bd317=I(_0x58fb46[_0x5a6846(0x6ec)]);return await _0x3c9ea3[_0x5a6846(0x7a7)](_0x3bd317)['lean']();}catch{return null;}}async[a0_0x6e1050(0x5bf)](_0x4f5e6f){const _0x59adb4=a0_0x6e1050;try{return await this[_0x59adb4(0x757)](_0x4f5e6f)['collection'][_0x59adb4(0x519)](),{'success':!0x0};}catch(_0x3eac0c){return console[_0x59adb4(0x7e2)](_0x3eac0c),{'success':!0x1,'error':_0x3eac0c};}}},ss=class extends D{[a0_0x6e1050(0x1aa)](_0x523adc){return ha(_0x523adc);}async[a0_0x6e1050(0x2ae)](_0x18882a){const _0xe6d3d8=a0_0x6e1050;if(_0x18882a[_0xe6d3d8(0x401)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x18882a[0x0][_0xe6d3d8(0x427)])['insertMany']([..._0x18882a]))[_0xe6d3d8(0x401)]};}catch(_0x147a07){return _0x147a07;}}async[a0_0x6e1050(0x5c9)](_0x21fea9,_0x557764){const _0x5395c4=a0_0x6e1050;try{let _0x4e9d82=this[_0x5395c4(0x1aa)](_0x557764),_0x422fbe=I(_0x21fea9[_0x5395c4(0x6ec)]);return{'deletedCount':(await _0x4e9d82[_0x5395c4(0x467)](_0x422fbe))['deletedCount']};}catch(_0x1a31ed){return{'error':_0x1a31ed?.[_0x5395c4(0x16c)]()};}}async[a0_0x6e1050(0x396)](_0x458321,_0x303691){const _0x5c93b8=a0_0x6e1050;try{let _0x399ac7=this[_0x5c93b8(0x1aa)](_0x303691),_0x5eda03=I(_0x458321[_0x5c93b8(0x6ec)]);return{'deletedCount':(await _0x399ac7[_0x5c93b8(0x396)](_0x5eda03))['deletedCount']};}catch(_0x587126){return{'error':_0x587126?.['toString']()};}}async[a0_0x6e1050(0x27b)](_0x242276,_0x4b96b2){const _0x2844a5=a0_0x6e1050;try{if(_0x242276[_0x2844a5(0x401)]===0x0)return;let _0x160a13=this[_0x2844a5(0x1aa)](_0x4b96b2),_0x1e3e98=_0x242276['map'](_0x4c0ac9=>({'updateOne':{'filter':{'name':_0x4c0ac9[_0x2844a5(0x4f4)],'owner':_0x4b96b2},'update':{..._0x4c0ac9}}})),{modifiedCount:_0x1d7388}=await _0x160a13['bulkWrite'](_0x1e3e98);return{'insertCount':_0x1d7388};}catch{return;}}async[a0_0x6e1050(0x782)](_0x485b69,_0x1cad35,_0x59c982){const _0x3c9b2d=a0_0x6e1050;try{return{'modifiedCount':(await this[_0x3c9b2d(0x1aa)](_0x59c982)['updateMany'](_0x485b69,{'$set':_0x1cad35})[_0x3c9b2d(0x241)]())[_0x3c9b2d(0x3ed)]};}catch(_0x285f53){return console[_0x3c9b2d(0x7e2)](_0x3c9b2d(0x281),_0x285f53),{'error':_0x285f53};}}async[a0_0x6e1050(0x662)](_0x1b8424,_0x45b131,_0x88e362){const _0x3d9de8=a0_0x6e1050;try{return await this['getConversationModelForOwner'](_0x88e362)[_0x3d9de8(0x566)]({'_id':_0x1b8424},{'$set':_0x45b131},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x426e82){return console[_0x3d9de8(0x7e2)](_0x426e82),null;}}async['find'](_0x52d5c3,_0x533b66){const _0x244839=a0_0x6e1050;try{return await this[_0x244839(0x1aa)](_0x533b66)['find'](_0x52d5c3)['sort']({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x6e1050(0x7a7)](_0x299608,_0x92907a){const _0x557dc3=a0_0x6e1050;try{return await this[_0x557dc3(0x1aa)](_0x92907a)[_0x557dc3(0x7a7)]({..._0x299608[_0x557dc3(0x6ec)]})[_0x557dc3(0x475)]();}catch{return null;}}async[a0_0x6e1050(0x5bf)](_0x29a3b2){const _0x40e667=a0_0x6e1050;try{return await this[_0x40e667(0x1aa)](_0x29a3b2)[_0x40e667(0x1c1)][_0x40e667(0x519)](),{'success':!0x0};}catch(_0x4ef6bd){return console['error'](_0x4ef6bd),{'success':!0x1,'error':_0x4ef6bd};}}},as=class extends D{[a0_0x6e1050(0x682)](_0x454653){return ga(_0x454653);}async[a0_0x6e1050(0xdd)](_0x103489,_0x108594){const _0x154cba=a0_0x6e1050;try{let _0x2b4cdf=this[_0x154cba(0x682)](_0x108594);return await new _0x2b4cdf(_0x103489)[_0x154cba(0x570)]();}catch(_0x13adca){return console[_0x154cba(0x7e2)](_0x154cba(0x23c),_0x13adca),null;}}async[a0_0x6e1050(0x396)](_0x2bba00,_0x45ba1a){const _0x387682=a0_0x6e1050;try{return await this['getScheduleMessageModelForOwner'](_0x45ba1a)[_0x387682(0x691)](_0x2bba00),{};}catch(_0x5a1508){return{'error':_0x5a1508?.[_0x387682(0x16c)]()};}}async[a0_0x6e1050(0x662)](_0x3604a6,_0xa5e296,_0x3c4a2e){const _0x50e2a5=a0_0x6e1050;try{return await this['getScheduleMessageModelForOwner'](_0x3c4a2e)[_0x50e2a5(0x566)](_0x3604a6,{'$set':_0xa5e296},{'new':!0x0})[_0x50e2a5(0x475)]();}catch(_0x5b1ce5){return console[_0x50e2a5(0x7e2)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x5b1ce5),null;}}async[a0_0x6e1050(0x3d5)](_0x11e9b9,_0xd45b2d,_0x4149ed){const _0x434d0c=a0_0x6e1050;try{return await this[_0x434d0c(0x682)](_0x4149ed)[_0x434d0c(0x592)](_0x11e9b9,_0xd45b2d,{'new':!0x0})[_0x434d0c(0x475)]();}catch(_0x4cb07f){return console[_0x434d0c(0x7e2)](_0x434d0c(0x770),_0x4cb07f),null;}}async['find'](_0x5efd55,_0x67b81b){const _0x307212=a0_0x6e1050;try{return await this[_0x307212(0x682)](_0x67b81b)[_0x307212(0x15f)](_0x5efd55[_0x307212(0x6ec)])[_0x307212(0x616)](_0x5efd55?.[_0x307212(0x616)]??0x0)[_0x307212(0x683)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x6e1050(0x7a7)](_0x1ac298,_0x186c34){const _0x2f574d=a0_0x6e1050;try{return await this[_0x2f574d(0x682)](_0x186c34)[_0x2f574d(0x7a7)](_0x1ac298[_0x2f574d(0x6ec)])[_0x2f574d(0x683)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x6e1050(0x357)](_0x5c7cec,_0x56544d){const _0x42a14=a0_0x6e1050;try{return await this[_0x42a14(0x682)](_0x56544d)[_0x42a14(0x357)](_0x5c7cec)[_0x42a14(0x475)]();}catch{return null;}}async[a0_0x6e1050(0x467)](_0x10c080,_0x277194){const _0x20bfbf=a0_0x6e1050;try{return{'deletedCount':(await this[_0x20bfbf(0x682)](_0x277194)[_0x20bfbf(0x467)](_0x10c080))[_0x20bfbf(0x748)]};}catch(_0x4bb2e2){return console[_0x20bfbf(0x7e2)]('Erro\x20ao\x20deletar\x20mensagens:',_0x4bb2e2),{'error':_0x4bb2e2};}}async[a0_0x6e1050(0x5bf)](_0x3127b1){const _0x32712b=a0_0x6e1050;try{return await this[_0x32712b(0x682)](_0x3127b1)[_0x32712b(0x1c1)][_0x32712b(0x519)](),{'success':!0x0};}catch(_0x230174){return console['error'](_0x230174),{'success':!0x1,'error':_0x230174};}}},os=class extends D{async[a0_0x6e1050(0x27b)](_0x21ea4f,_0x79190){const _0x4ddd9f=a0_0x6e1050;try{if(this[_0x4ddd9f(0x47d)][_0x4ddd9f(0x584)]){let _0x44249d=await Ne[_0x4ddd9f(0x566)]({'_id':_0x79190},{'$set':_0x21ea4f},{'new':!0x0});return console[_0x4ddd9f(0x47c)](_0x4ddd9f(0x292),_0x44249d),_0x44249d;}}catch(_0x21dd84){throw console['error'](_0x4ddd9f(0x444),_0x21dd84),_0x21dd84;}}async[a0_0x6e1050(0x54d)](_0x8c9680){const _0x501495=a0_0x6e1050;try{let _0x3645d9=await Ne[_0x501495(0x357)](_0x8c9680);return _0x3645d9?_0x3645d9[_0x501495(0x5aa)]||(_0x3645d9['autoCompleteMessages']=[],await _0x3645d9[_0x501495(0x570)]()):(_0x3645d9=new Ne({'_id':_0x8c9680,'autoCompleteMessages':[]}),await _0x3645d9[_0x501495(0x570)]()),_0x3645d9;}catch(_0x497d8a){return _0x497d8a[_0x501495(0x4e3)]===0x2af8&&_0x497d8a[_0x501495(0x780)]&&_0x497d8a[_0x501495(0x780)][_0x501495(0x6ba)]?(console[_0x501495(0x7e2)](_0x501495(0x41f)),await Ne['collection'][_0x501495(0x291)](_0x501495(0x19e)),null):(console[_0x501495(0x7e2)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x497d8a),null);}}},Or=new $(a0_0x6e1050(0x557)),Tr=new We(b),Ir=new qt(b),xr=new ot(b),Dr=new Vt(ea,b),_r=new Zt(na,b),Pr=new es(oa,b),kr=new ts(b),jr=new Gt(b),Lr=new ss(b),Fr=new as(b),Jr=new os(b),pe=new Ge(Tr,Ir,xr,Dr,_r,Pr,kr,Lr,jr,Fr,Jr,A?.[a0_0x6e1050(0x2ad)]()),B=new Ut(us,b,pe),Ur=new Ht(b,B,pe),qr=new Qt(B),Cs=new Xt(qr),O=new Yt(B),ce=new Wt(B,b,pe,us,Ur),W=new zt(B),P=new Bt(B),V=new Kt(B);Or[a0_0x6e1050(0x4a3)](a0_0x6e1050(0x1de));var Uh=require(a0_0x6e1050(0x372)),ks=require('fs'),$o=T(require('https')),Ao=T(require(a0_0x6e1050(0x32e))),Pe=class c{static #e;static set['app'](_0x55f108){this.#e=_0x55f108;}static get[a0_0x6e1050(0x341)](){const _0x1502b9=a0_0x6e1050;let {FULLCHAIN:_0x4f3202,PRIVKEY:_0x37fd4a}=b[_0x1502b9(0x58b)](_0x1502b9(0x762));return $o['createServer']({'cert':(0x0,ks['readFileSync'])(_0x4f3202),'key':(0x0,ks['readFileSync'])(_0x37fd4a)},c.#e);}static get[a0_0x6e1050(0x32e)](){const _0x5dc511=a0_0x6e1050;return Ao[_0x5dc511(0x1ff)](c.#e);}},ge=T(require('fs')),_o=T(require(a0_0x6e1050(0x301))),ke=T(require('axios')),Le=T(require(a0_0x6e1050(0x112))),Fe=require('child_process');function Vr(){const _0x3c2a09=a0_0x6e1050;B[_0x3c2a09(0xf2)]();let _0x54d2fd=Le[_0x3c2a09(0x45f)][_0x3c2a09(0x283)](__dirname,'downloads');Do(_0x54d2fd);}var Do=_0x162840=>{const _0xdf59a=a0_0x6e1050;let _0x43f984=ge[_0xdf59a(0x45f)][_0xdf59a(0x2cd)](_0x162840),_0x28f069=0xc*0x3c*0x3c*0x3e8,_0x3123a2=0x2*0x3c*0x3c*0x3e8,_0x399155=new Date()[_0xdf59a(0x226)]();_0x43f984[_0xdf59a(0x463)](_0x57f8a5=>{const _0xd2a230=_0xdf59a;let _0x315769=Le[_0xd2a230(0x45f)][_0xd2a230(0x283)](_0x162840,_0x57f8a5),_0xfed048=ge[_0xd2a230(0x45f)][_0xd2a230(0x52c)](_0x315769)[_0xd2a230(0x22d)][_0xd2a230(0x226)]();_0x399155-_0xfed048>_0x28f069&&(ge[_0xd2a230(0x45f)]['unlinkSync'](_0x315769),console['log'](_0xd2a230(0x164)+_0x57f8a5));}),setTimeout(()=>Do(_0x162840),_0x3123a2);};function Gr(){const _0x27c7e6=a0_0x6e1050;let _0x48308b=new $(_0x27c7e6(0x77b)),_0x4ad764=(0x0,me[_0x27c7e6(0x45f)])();_0x4ad764[_0x27c7e6(0x1e4)]((0x0,xo[_0x27c7e6(0x45f)])({'origin'(_0x418af8,_0x5bad19){const _0x23a234=_0x27c7e6;let {ORIGIN:_0x33ffb8}=b[_0x23a234(0x58b)](_0x23a234(0x3b2));return _0x418af8||(_0x418af8='*'),_0x33ffb8[_0x23a234(0x78a)]('*')!==-0x1||_0x33ffb8['indexOf'](_0x418af8)!==-0x1?_0x5bad19(null,!0x0):_0x5bad19(new Error(_0x23a234(0xd6)));},'methods':[...b[_0x27c7e6(0x58b)]('CORS')['METHODS']],'credentials':b[_0x27c7e6(0x58b)](_0x27c7e6(0x3b2))[_0x27c7e6(0x7a1)]}),(0x0,me['urlencoded'])({'extended':!0x0,'limit':_0x27c7e6(0x7b4)}),(0x0,me[_0x27c7e6(0x5dd)])({'limit':'50mb'})),_0x4ad764['use']((_0x595da4,_0x4f5eac,_0x2826d2)=>{const _0x55bca2=_0x27c7e6;_0x595da4[_0x55bca2(0x112)]['startsWith']('/events')?_0x2826d2():(0x0,Io[_0x55bca2(0x45f)])()(_0x595da4,_0x4f5eac,_0x2826d2);}),_0x4ad764['set'](_0x27c7e6(0x773),_0x27c7e6(0x5ce)),_0x4ad764['set'](_0x27c7e6(0x655),(0x0,Ls[_0x27c7e6(0x283)])(ne,_0x27c7e6(0x655))),_0x4ad764[_0x27c7e6(0x1e4)](me[_0x27c7e6(0x45f)][_0x27c7e6(0x285)]((0x0,Ls[_0x27c7e6(0x283)])(ne,_0x27c7e6(0x4cf)))),_0x4ad764['use']((_0x26da9b,_0xd59b3e,_0x3e56bc)=>{const _0x3fef90=_0x27c7e6;let _0x55f34e=_0xd59b3e[_0x3fef90(0x353)];_0xd59b3e['send']=function(_0x25151e){const _0x10998f=_0x3fef90;if(_0x26da9b[_0x10998f(0x4ba)]['convert']==='true'||_0x26da9b[_0x10998f(0x123)]['uazapi']===_0x10998f(0x758)){let _0x36961f=JSON['parse'](_0x25151e);_0x25151e=JSON[_0x10998f(0x69b)](_0x35b5db(_0x36961f));}return _0x55f34e[_0x10998f(0x417)](_0xd59b3e,[_0x25151e]);},_0x3e56bc();}),_0x4ad764[_0x27c7e6(0x1e4)]('/',xe),_0x4ad764[_0x27c7e6(0x1e4)]((_0x837c8e,_0x5e9dc5,_0x2d9ada,_0x1d9e7d)=>{const _0x4c59af=_0x27c7e6;if(_0x837c8e)return _0x2d9ada[_0x4c59af(0x349)](_0x837c8e[_0x4c59af(0x349)]||0x1f4)[_0x4c59af(0x5dd)](_0x837c8e);},(_0x487782,_0x5edc10,_0xb936e)=>{const _0x2cbe09=_0x27c7e6;let {method:_0x344d7f,url:_0x3ced88}=_0x487782;_0x5edc10[_0x2cbe09(0x349)](0x194)[_0x2cbe09(0x5dd)]({'status':0x194,'message':_0x2cbe09(0x3b9)+_0x344d7f['toUpperCase']()+'\x20'+_0x3ced88,'error':_0x2cbe09(0x5c4)}),_0xb936e();});let _0x35b5db=(_0x73863e,_0x24cf24=_0x27c7e6(0x32b))=>{const _0xa99d97=_0x27c7e6;let _0x19b074=(_0x54095c,_0xf43914=null,_0x2a3fc5=!0x1)=>{const _0x4b8b8c=a0_0x5953;let _0x1bcb95={};return Object[_0x4b8b8c(0x1be)](_0x54095c)[_0x4b8b8c(0x463)](_0x29bc9d=>{const _0x367a47=_0x4b8b8c;let _0x2afb88=_0x54095c[_0x29bc9d],_0x1ba8ce=''+_0x24cf24+_0x29bc9d;_0xf43914&&!_0x2a3fc5&&(_0x1ba8ce=_0xf43914+'.'+_0x29bc9d),!_0x2afb88&&_0x2afb88!==0x0&&_0x2afb88!==!0x1||typeof _0x2afb88>'u'?_0x1bcb95[_0x1ba8ce]=null:typeof _0x2afb88!=_0x367a47(0x4c5)&&!Array['isArray'](_0x2afb88)?_0x1bcb95[_0x1ba8ce]=_0x2afb88:typeof _0x2afb88=='object'&&!Array[_0x367a47(0x314)](_0x2afb88)?_0x1bcb95=Object[_0x367a47(0x147)](_0x1bcb95,_0x19b074(_0x2afb88,_0x1ba8ce)):Array[_0x367a47(0x314)](_0x2afb88)&&(typeof _0x2afb88[0x0]==_0x367a47(0x4c5)?(_0x1bcb95[_0x1ba8ce]=[],_0x2afb88[_0x367a47(0x463)](_0xa10680=>{const _0x2cc7b9=_0x367a47;_0x1bcb95[_0x1ba8ce][_0x2cc7b9(0x122)](_0x19b074(_0xa10680,_0x1ba8ce,!0x0));})):_0x1bcb95[_0x1ba8ce]=_0x2afb88);}),_0x1bcb95;};return Array[_0xa99d97(0x314)](_0x73863e)?_0x73863e['map'](_0x2f8d08=>_0x19b074(_0x2f8d08)):typeof _0x73863e==_0xa99d97(0x4c5)&&_0x73863e!==null?_0x19b074(_0x73863e):{};},_0x57b56a=b[_0x27c7e6(0x58b)]('SERVER');Pe[_0x27c7e6(0x185)]=_0x4ad764;let _0xcfd639=Pe[_0x57b56a[_0x27c7e6(0x70b)]],_0x1bc855=_0x27c7e6(0x7e5);_0xcfd639['listen'](_0x57b56a[_0x27c7e6(0x45a)],()=>{const _0x3d111f=_0x27c7e6;_0x48308b[_0x3d111f(0x47c)](_0x1bc855),_0x48308b[_0x3d111f(0x47c)](_0x57b56a['TYPE'][_0x3d111f(0x409)]()+_0x3d111f(0x73b)+_0x57b56a[_0x3d111f(0x45a)]);}),Vr(),Hs();}var Br=a0_0x6e1050(0x3de),Wr=Le[a0_0x6e1050(0x45f)][a0_0x6e1050(0x283)](__dirname,'./.git/config'),je=null;function zr(){return new Promise((_0x383465,_0x14505a)=>{const _0x1367bd=a0_0x5953;ge[_0x1367bd(0x45f)]['readFile'](Wr,'utf-8',(_0x51a688,_0x99cd5a)=>{const _0xcca0f4=_0x1367bd;if(_0x51a688){je=_0x51a688,_0x383465();return;}_o[_0xcca0f4(0x45f)][_0xcca0f4(0x37b)](_0x99cd5a)[_0xcca0f4(0x193)][_0xcca0f4(0x53b)]===Br?(je=null,_0x383465()):(je=new Error(_0xcca0f4(0x4c4)),_0x383465());});});}async function Hr(){const _0x5addd3=a0_0x6e1050;try{await zr(),await Fs();}catch(_0x425ad3){console['error'](_0x5addd3(0x208)+_0x425ad3),process[_0x5addd3(0x201)](0x1);}}Hr();async function Po(){const _0x45bad0=a0_0x6e1050;let _0x459176;try{_0x459176=(await ke[_0x45bad0(0x45f)][_0x45bad0(0x58b)]('https://jsonip.com'))['data']['ip'];}catch(_0x44888a){console[_0x45bad0(0x7e2)](_0x44888a);try{_0x459176=(await ke['default'][_0x45bad0(0x58b)](_0x45bad0(0x761)))['data']['ip'];}catch(_0x557a02){console[_0x45bad0(0x7e2)](_0x557a02);try{_0x459176=(await ke[_0x45bad0(0x45f)][_0x45bad0(0x58b)](_0x45bad0(0x3dc)))[_0x45bad0(0x183)][_0x45bad0(0x2d9)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5918d5){return console['error'](_0x5918d5),!0x1;}}}return _0x459176;}var Oo=0x0;async function Kr(){const _0x1999bb=a0_0x6e1050;let _0x417a4d=await new le(b[_0x1999bb(0x58b)]('REDIS'))['instanceKeys']();return console[_0x1999bb(0x47c)](_0x1999bb(0x704),_0x417a4d[_0x1999bb(0x401)]),_0x417a4d[_0x1999bb(0x401)];}function Qr(_0x253573){const _0x378b88=a0_0x6e1050;let _0x39b403=_0x253573['get'](_0x378b88(0x77b))[_0x378b88(0x517)],_0x442d63=_0x253573[_0x378b88(0x58b)]('SSL_CONF'),_0x580c15;if(_0x39b403){let _0x144656=_0x39b403[_0x378b88(0x2d9)](/\/\/(.*?)\./);_0x144656&&_0x144656[0x1]&&(_0x580c15=_0x144656[0x1]);}if(!_0x580c15&&_0x442d63&&_0x442d63[_0x378b88(0x4b1)]){let _0x2cea1d=_0x442d63[_0x378b88(0x4b1)][_0x378b88(0x4c3)]('/'),_0x5a650c=_0x2cea1d[_0x2cea1d[_0x378b88(0x401)]-0x2];if(_0x5a650c){let _0x42f38f=_0x5a650c[_0x378b88(0x4c3)]('.');_0x42f38f[_0x378b88(0x401)]>0x2&&(_0x580c15=_0x42f38f[0x0]);}}return _0x580c15;}var Ds=Qr(b);async function Yr(){const _0x35ae54=a0_0x6e1050;let _0x1151b5=b[_0x35ae54(0x58b)](_0x35ae54(0x75f)),_0x5af0d5=b['get'](_0x35ae54(0x55b))['API_KEY']['KEY'],_0x3d6f1b=b['get'](_0x35ae54(0x762)),_0x395b54=await Po(),_0x494e7a=b[_0x35ae54(0x58b)](_0x35ae54(0x77b))[_0x35ae54(0x45a)],_0x3ca390=b[_0x35ae54(0x58b)]('SERVER')['URL'];try{let _0x1fa2d3={'ip':_0x395b54||null,'redis_enable':_0x1151b5?.['ENABLED']||null,'apikey':_0x5af0d5||null,'ssl':_0x3d6f1b?.[_0x35ae54(0x5a5)]||null,'lastupdate':ko||null,'port':_0x494e7a||null,'gitInstallError':je?.[_0x35ae54(0x50d)]||null,'url':_0x3ca390||null};if(console[_0x35ae54(0x47c)](_0x35ae54(0x46d),_0x1fa2d3['ip']),_0x1151b5&&_0x1151b5[_0x35ae54(0x584)]){let _0x2f877e=await Kr();_0x1fa2d3[_0x35ae54(0x371)]=_0x2f877e||null;}for(let _0x3ba0ad in _0x1fa2d3)_0x1fa2d3[_0x35ae54(0x437)](_0x3ba0ad)&&_0x3ba0ad!=='ip'&&(_0x1fa2d3[_0x3ba0ad]=JSON[_0x35ae54(0x69b)](_0x1fa2d3[_0x3ba0ad]));return(await ke[_0x35ae54(0x45f)][_0x35ae54(0x146)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x1fa2d3))['data'];}catch(_0x238470){return console[_0x35ae54(0x7e2)](_0x238470),!0x1;}}var js=!0x1,ko=0x242,Xr=0x3,To=0x1b7740;async function Fs(){const _0x17dc1c=a0_0x6e1050;if(!await Po())return console[_0x17dc1c(0x7e2)](_0x17dc1c(0x19c)),_0x17dc1c(0x5f8);let _0x556a82=await Yr();if(_0x556a82){if(_0x556a82['response']['licenca']===!0x0){let _0x596948=b[_0x17dc1c(0x58b)]('SSL_CONF'),_0x2f4bf2=b['get'](_0x17dc1c(0x77b))['URL'];_0x596948&&_0x596948?.[_0x17dc1c(0x5a5)]?.[_0x17dc1c(0x269)](_0x17dc1c(0x66b))&&_0x556a82[_0x17dc1c(0x678)]['subdomain']&&!_0x2f4bf2&&(await ti(_0x556a82[_0x17dc1c(0x678)][_0x17dc1c(0x5cf)],ei),await si('augusto.fcs@gmail.com',_0x556a82[_0x17dc1c(0x678)][_0x17dc1c(0x5cf)]),console[_0x17dc1c(0x47c)](_0x17dc1c(0x640)),setTimeout(()=>oi(),0x2710)),je===null&&_0x556a82['response']['last_update']-ko>0x0&&await Zr(),js||(js=!0x0,Gr());let _0x208a14=0x24*0x3c*0x3c,_0x37084a=_0x556a82[_0x17dc1c(0x678)]['segundos']>_0x208a14?_0x208a14:_0x556a82[_0x17dc1c(0x678)][_0x17dc1c(0x436)],_0xa098ff=Number(_0x37084a);if(isNaN(_0xa098ff)){console['error'](_0x17dc1c(0x182));return;}let _0x257a77=Math[_0x17dc1c(0x6c5)](_0xa098ff/0xe10),_0x382a86=Math[_0x17dc1c(0x6c5)](_0xa098ff%0xe10/0x3c),_0x42c81b=new Date(Date[_0x17dc1c(0x631)]()+_0xa098ff*0x3e8);setTimeout(Fs,_0xa098ff*0x3e8);let _0x11b45b=_0x3f93c6=>_0x3f93c6[_0x17dc1c(0x16c)]()['padStart'](0x2,'0'),_0x30e0a7=_0x17dc1c(0x6e8)+_0x11b45b(_0x257a77)+_0x17dc1c(0x625)+_0x11b45b(_0x382a86)+'\x20minutos.\x20Será\x20às\x20'+_0x11b45b(_0x42c81b[_0x17dc1c(0x68e)]())+':'+_0x11b45b(_0x42c81b[_0x17dc1c(0x16f)]())+'.';console[_0x17dc1c(0x47c)](_0x30e0a7);}else return console[_0x17dc1c(0x47c)](_0x17dc1c(0x72f)),js&&(console[_0x17dc1c(0x47c)](_0x17dc1c(0x6f9)),process[_0x17dc1c(0x201)]()),_0x17dc1c(0x240);}else{if(Oo++,Oo<Xr)console[_0x17dc1c(0x47c)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+To/0xea60+'\x20minutos...'),setTimeout(Fs,To);else return console[_0x17dc1c(0x7e2)](_0x17dc1c(0x6e6)),_0x17dc1c(0x578);}}async function Zr(){const _0x301fa2=a0_0x6e1050;console[_0x301fa2(0x47c)](_0x301fa2(0x5f1));let _0x4824fe=(0x0,Fe[_0x301fa2(0x4a7)])(_0x301fa2(0x29a),{'shell':!0x0});_0x4824fe[_0x301fa2(0x13a)]['on'](_0x301fa2(0x183),_0x405e46=>{console['log']('Atualização:\x20'+_0x405e46);}),_0x4824fe[_0x301fa2(0xe9)]['on'](_0x301fa2(0x183),_0x530b13=>{const _0x90cdf6=_0x301fa2;console[_0x90cdf6(0x7e2)](_0x90cdf6(0x395)+_0x530b13);}),_0x4824fe['on'](_0x301fa2(0x201),_0x20e187=>{const _0x51cb24=_0x301fa2;_0x20e187!==0x0?console[_0x51cb24(0x7e2)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x20e187):console['log']('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x51cb24(0x47c)](_0x51cb24(0x6be)),setTimeout(()=>process[_0x51cb24(0x201)](),0x2710);});}var ei=Le['default'][a0_0x6e1050(0x283)](__dirname,a0_0x6e1050(0x534));async function ti(_0x475fc2,_0x22ea36){const _0x3fb460=a0_0x6e1050;let _0x57926c=ai();_0x475fc2=_0x475fc2[_0x3fb460(0x70d)](_0x3fb460(0x5bd),'');try{let _0x28adcf=ge['default'][_0x3fb460(0x2e1)](_0x22ea36,_0x3fb460(0x7cf));_0x28adcf=_0x28adcf['replace'](/<apikey>/,_0x57926c),_0x28adcf=_0x28adcf[_0x3fb460(0x70d)](/<subdomain>/g,_0x475fc2),ge[_0x3fb460(0x45f)]['writeFileSync'](_0x22ea36,_0x28adcf,_0x3fb460(0x7cf)),console[_0x3fb460(0x47c)](_0x3fb460(0x306));}catch(_0x2bbe93){console[_0x3fb460(0x7e2)](_0x3fb460(0x3c8),_0x2bbe93);}}function si(_0x40bcb2,_0x376f28){return new Promise((_0x2d739a,_0x3433c0)=>{const _0x1a2826=a0_0x5953;let _0x5f4de5=(0x0,Fe[_0x1a2826(0x4a7)])(_0x1a2826(0x506),[_0x1a2826(0x324),_0x1a2826(0x72e),'-m',_0x40bcb2,_0x1a2826(0x41d),'-d',_0x376f28]);_0x5f4de5[_0x1a2826(0x13a)]['on'](_0x1a2826(0x183),_0x148d71=>{const _0x8ce45e=_0x1a2826;console[_0x8ce45e(0x47c)](_0x8ce45e(0xd7)+_0x148d71[_0x8ce45e(0x16c)]());}),_0x5f4de5[_0x1a2826(0xe9)]['on']('data',_0x25313f=>{const _0x263ba0=_0x1a2826;console[_0x263ba0(0x7e2)](_0x263ba0(0x375)+_0x25313f[_0x263ba0(0x16c)]());}),_0x5f4de5['on'](_0x1a2826(0x403),_0x4382db=>{const _0x2bfed9=_0x1a2826;_0x4382db!==0x0?(console[_0x2bfed9(0x7e2)](_0x2bfed9(0x2d1)+_0x4382db),_0x3433c0('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x4382db)):(console[_0x2bfed9(0x47c)]('Certbot\x20executado\x20com\x20sucesso.'),_0x2d739a());});});}function ai(_0x47bc4b=0x32){const _0x3ae1e9=a0_0x6e1050;let _0x53a720=_0x3ae1e9(0x351),_0x20675b='';for(let _0x1d2709=0x0;_0x1d2709<_0x47bc4b;_0x1d2709++)_0x20675b+=_0x53a720[_0x3ae1e9(0x73f)](Math[_0x3ae1e9(0x6c5)](Math[_0x3ae1e9(0x1cd)]()*_0x53a720[_0x3ae1e9(0x401)]));return _0x20675b;}function oi(){const _0xeef1c9=a0_0x6e1050;(0x0,Fe[_0xeef1c9(0x241)])(_0xeef1c9(0x36d),(_0x51a2fb,_0x3177c3,_0x4f2440)=>{const _0x3c7736=_0xeef1c9;if(_0x51a2fb){console['error']('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x51a2fb);return;}if(_0x4f2440){console[_0x3c7736(0x7e2)](_0x3c7736(0x771)+_0x4f2440);return;}console[_0x3c7736(0x47c)](_0x3c7736(0x657)+_0x3177c3);});}0x0&&(module[a0_0x6e1050(0x3b1)]={'subdomain':subdomain});