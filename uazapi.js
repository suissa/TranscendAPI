const a0_0x4511c4=a0_0x4bbc;(function(_0xe22870,_0x407db9){const _0x128076=a0_0x4bbc,_0x46e086=_0xe22870();while(!![]){try{const _0x394949=parseInt(_0x128076(0x16f))/0x1+parseInt(_0x128076(0x4d6))/0x2+-parseInt(_0x128076(0x24d))/0x3+-parseInt(_0x128076(0x22f))/0x4+-parseInt(_0x128076(0x6a8))/0x5*(parseInt(_0x128076(0x514))/0x6)+parseInt(_0x128076(0x6eb))/0x7+parseInt(_0x128076(0x6e8))/0x8;if(_0x394949===_0x407db9)break;else _0x46e086['push'](_0x46e086['shift']());}catch(_0x194174){_0x46e086['push'](_0x46e086['shift']());}}}(a0_0x3cfb,0xddeab));var Jr=Object[a0_0x4511c4(0x40d)],_e=Object[a0_0x4511c4(0x542)],Vr=Object[a0_0x4511c4(0x3e6)],Br=Object['getOwnPropertyNames'],Gr=Object['getPrototypeOf'],Wr=Object['prototype'][a0_0x4511c4(0x3c5)],zr=(_0x1dfd55,_0x4e4ced)=>{for(var _0x2db2c2 in _0x4e4ced)_e(_0x1dfd55,_0x2db2c2,{'get':_0x4e4ced[_0x2db2c2],'enumerable':!0x0});},Fs=(_0x420b70,_0x34dcf9,_0x299090,_0x5069e9)=>{const _0x3c7b36=a0_0x4511c4;if(_0x34dcf9&&typeof _0x34dcf9==_0x3c7b36(0x21b)||typeof _0x34dcf9==_0x3c7b36(0x24a)){for(let _0x4f1ff2 of Br(_0x34dcf9))!Wr[_0x3c7b36(0x240)](_0x420b70,_0x4f1ff2)&&_0x4f1ff2!==_0x299090&&_e(_0x420b70,_0x4f1ff2,{'get':()=>_0x34dcf9[_0x4f1ff2],'enumerable':!(_0x5069e9=Vr(_0x34dcf9,_0x4f1ff2))||_0x5069e9[_0x3c7b36(0x442)]});}return _0x420b70;},O=(_0x2c80e9,_0x4720db,_0x4ca9a9)=>(_0x4ca9a9=_0x2c80e9!=null?Jr(Gr(_0x2c80e9)):{},Fs(_0x4720db||!_0x2c80e9||!_0x2c80e9['__esModule']?_e(_0x4ca9a9,a0_0x4511c4(0x1e4),{'value':_0x2c80e9,'enumerable':!0x0}):_0x4ca9a9,_0x2c80e9)),Hr=_0x1785b2=>Fs(_e({},'__esModule',{'value':!0x0}),_0x1785b2),ao={};function a0_0x3cfb(){const _0x135a7b=['reaction','document','notContains','createNewConversation','120QDpreS','protocolMessage','):\x20Erro\x20ao\x20editar\x20agentes:\x20','Not\x20allowed\x20by\x20CORS','Close\x20connection','isListOfNumbers','groupMemberAddMode','_Messages','count','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','ScheduleMessage','desativadoFluxoAte','qrcode','sendMenu','stopIfLastReturnedError','write','groupUpdateDescription','getClient','recebido\x20de','):\x20Visualizando\x20AutomateSystem','\x20não\x20encontrado','fullName','?timestamp=','):\x20Bloco\x20com\x20ID\x20','media','nextBlock:','Type\x20is\x20required','AUTHENTICATION_TYPE','Erro\x20de\x20reinicialização:\x20','empty','secondValue','inviteCode','/media/','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','updateMissingLabels','viewOnceMessageV2','extractMessageContent','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','replaceOne','dark','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','rowId','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','evaluateCondition','type','ListMessage','createSharedFlow','/instance/delete','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','\x1b[33m%s\x1b[0m','connectionClosed','lastDisconnect','etiquetas','https://api.openai.com/v1/images/generations','Database\x20is\x20not\x20enabled','testProxy','prefixCommand','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','modifiedCount','updateMissingTags','editOperator',':\x20IP\x20configurado:\x20','\x1b[31m%s\x1b[0m','\x20-y','7111264XzSlxF','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','order','5924051PYRWUZ','locationMessage','stopConversation','editflowreply','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','ListType','host','Error\x20change\x20group\x20description','push','subject','\x0aFN:','groupSetting','Button\x20texts\x20cannot\x20be\x20repeated','state','uuid','*\x0a\x0a','atendimentoAberto','dbServer','SERVER_TYPE','removed','CORS','Atualização:\x20','contactHandle','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','and','PORT','Variável\x20não\x20encontrada!','limit','Cache-Control','instanceName','chatHandle','\x20do\x20chat\x20','Erro\x20ao\x20copiar\x20dados:','lastmsg','/instance/create','app','EMAIL','):\x20Limpando\x20AutomateSystem','utf8','ContactModel','.webp','groupHandler','createClient','groupJid','initAuthCreds','Unable\x20to\x20leave\x20the\x20group','https://chat.whatsapp.com/','connection.update','insert','GROUPS_UPSERT','instances','.jwt','NextBlock','MessageModel','mongodb://','unreadCount','Error\x20getting\x20invite\x20code\x20info','groupLeave','pairingCode','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','isBase64','query','leadInfo.etiquetas','Instance\x20Key\x20from\x20DB:','updateFlowConfig','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','variable','_Labels','metadata','participants','admin','!cmd_','toArray','finish','^\x5cd+','remove.instance','message','\x22\x20not\x20found','startsWith','INFO','max','shift','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','markMessageAsRead','Processing\x20audio',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','Reinicialização\x20iniciada:\x20','audioWhatsapp','AUTHENTICATION_API_KEY','webhookModel','Read\x20messages','waInstances','Selecione','numbers','updateConversation','not_announcement','):\x20Error\x20processing\x20the\x20block:\x20','conversationTimestamp','sendLocation','URI','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','auth','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','subdomain','fetchProfile','#6f7bcf','\x20saindo\x20da\x20função','role','stringify','stanzaId','views','jsonwebtoken','convertToWebP','groupadd','scheduleMessages','contentText','\x0a{\x20instance:\x20','replaceVariablesChat',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','delayMessage','silent','PRODUCT_LIST','API\x20Key\x20from\x20Request:','pushName','SERVER_ACK','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','findConversation','stopped','statusJidList','getConversationModelForOwner','deleteAll','^\x5cd+([-]\x5cd+)*@g.us$','store','connectionUpdate','DATABASE_CONNECTION_USER','lean','Error\x20update\x20group\x20picture','verifiedName','announce','birthtime','Module\x20-\x20ON','off','flowConfig','FULLCHAIN','\x22reaction\x22\x20must\x20be\x20an\x20emoji','hGetAll','messages.update','notas','contact_blacklist','generateHash','approve','listResponseMessage','error_log','deleteflow','$pull','DATABASE_CONNECTION_HOST','delay','set','stickerMessage','replaceValue','mediaKey','error','Erro\x20ao\x20atualizar\x20o\x20fluxo:',',\x20Comparador:\x20','Button\x20IDs\x20cannot\x20be\x20repeated.','update','editScheduleMessage','next_groupId','):\x20Fluxos\x20não\x20estão\x20ativados','pino','env.KEY\x20!==\x20key','getChatModelForOwner','deleteOne','Error\x20in\x20scheduleNextCheck:\x20','QRCODE_UPDATED','everyOne','lastMessage','Last\x20message\x20not\x20found','uazapiSendMenu','makeCacheableSignalKeyStore','):\x20Buscando\x20todos\x20os\x20fluxos...','):\x20Campos\x20a\x20serem\x20atualizados:','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','fileUrl','padStart','fileLength','connect','DisconnectReason','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','Variáveis\x20não\x20encontradas:','):\x20Enviando\x20localização','The\x20','allContacts','No\x20invite\x20code','localWebhook','variablesNotFound','owner','contact','Message\x20not\x20found','agents','Subscribed\x20Events:','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','success','setHeader','profile','desc','waMonitor','updateStatusPrivacy','\x20com\x20sucesso.','editflowvaredit','load','addBlock','MESSAGES_SET','lastBlockId','findContacts','badSession','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','Failed\x20to\x20find\x20chat\x20','hbs','Imagem\x20não\x20encontrada','removeOlderDisconnectedInstances','sendDataWebhook','groupGetInviteInfo','info','imageMessage','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','startFlow','scheduleMessage','local_map','.X-ABLabel:Celular\x0a','digest','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','This\x20name\x20','dbClient','endsWith','website','@whiskeysockets/baileys','user','URL','DARK','writeFile','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','hGet','from','Output\x20path:\x20','):\x20Editando\x20grupo\x20do\x20fluxo...','allFlows','createRegularFlow','CONNECTION','):\x20Erro\x20ao\x20buscar\x20conversas\x20','instanceInfo','start','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','connectToWhatsappController','menuType','src','email','):\x20Erro\x20ao\x20processar\x20o\x20grupo\x20','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','\x20removido\x20do\x20chat\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','updateStopChat','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','ChatRouter','pollMessage','):\x20teve\x20mudanças\x20chat.name:\x20','):\x20Buscando\x20flow...','SEND_MESSAGE','chats.update','jwt',':\x20IP\x20funcionando!','buttons','fetchStatus','findFlow','STORE','formatVCard','collections','Error\x20in\x20converting\x20audio','toBRL','class-validator','Error\x20occurred\x20while\x20archiving\x20chat:\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Entrou\x20na\x20função\x20saveReply','announcement','statSync','):\x20Criou\x20conversa\x20no\x20startFlow:','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','):\x20newFirstValue\x20após\x20replaceVariables:','DaysToDelete','Desconectado,\x20parando\x20execução.','pictureUrl','setting','varedit','Database\x20connection\x20closed.','createWebhook','webp','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','spawn','CHATS_UPSERT','remoteJids','variables','DATABASE_CONNECTION_URI','dbSettings','chats.set','):\x20Entrou\x20na\x20função\x20stop','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','isJidGroup','-whatsapp-api','\x22\x20-\x20NOT\x20CONNECTION','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','output','.docx','/wa-message-update','waitingMenu_text','equal','send.message','https://','Error\x20in\x20markMessageAsRead:','length','sticker','1477873OoTQmS','request\x20received\x20in\x20editFlowcondition','textMessage','):\x20conversation.status:\x20','isArray','toggleEphemeral','request\x20received\x20in\x20deleteFlow','HH:mm:ss','emit','connectionStatus','DB_PREFIX_NAME','):\x20conversation.lastInteraction:\x20','integer','^\x5cd+[\x5c.@\x5cw-]+','File\x20written\x20to\x20path:\x20','chatLog','STORE_MESSAGE','when','subjectTime','getVariablesChat','Erro\x20do\x20Certbot:\x20','generateWAMessageFromContent','createConversationforgoToFlow','\x1b[41m','SSL_CONF_FULLCHAIN','AddChatLabel','saveMediaToFile','width','existsSync','replace','instanceKeys','/exit','ContactsAndGroups','ip:\x20','Erro\x20ao\x20iniciar\x20fluxo:\x20','Certbot:\x20','http://ipecho.net/plain','fetchLabels','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','caption','_Chats','buttonText','SERVER_PORT','findOne','archiveChat','redisEnv','.jpg','CONNECTION_UPDATE','group-participants.update','REDIS',',\x20saindo.','ephemeralMessage','CONTACTS_UPSERT','errors','pre','/message','verbose','contains','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','findGroups','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','delayChatLabel_RETRY_DELAY_MS','pollCreationMessageV2','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','\x20minutos\x20verificará\x20novas\x20mensagens','fetchConversation','findOrCreate','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','allflows','\x22\x20cannot\x20be\x20empty','instance.','urlOrBase64','Primeiro\x20Valor:\x20','):\x20teve\x20mudanças\x20chat.archived:\x20','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','processblock','Instance\x20logged\x20out','\x20not\x20found,\x20retrying\x20in\x20','slice','shareOwners','status.instance','prototype','lastSend','):\x20isVote:\x20','replyOption','Audio\x20converted\x20and\x20stored\x20in\x20cache','longitude','lastInteraction','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','#9ba6ff','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','exports','console','mimetype','getRandomText','subjectOwner','messages.upsert','SERVER','WARN','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','/clients-info','findAll','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','updateMissingEtiquetas','):\x20Ler\x20mensagem','gifPlayback','hDel','http://checkip.dyndns.org','):\x20Flow\x20não\x20encontrado','webhook','groupSettingUpdate','STORE_CHATS','labels.edit','messages','contactMessage','.xlsx','cwd','default','loadWebhook','reconnectAttempts','getflow',':\x20Erro\x20durante\x20loadproxy\x20-\x20','saveCreds','archive','goToFlow','application/octet-stream','cacheContactModel','reactionMessage','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','webhookMap','InstancesAsDisconnectedX','varedits','paused','restartInstance','sharePass','exec','redis','eventHandler','flattenObject','https://uazapi-plugin.bubbleapps.io/?url=','conversation','@broadcast','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','\x20chats\x20foram\x20atualizados.','menuExpiredMessage','MESSAGES_UPDATE','connectionState','\x20instance\x20does\x20not\x20exist','dropCollection','redirect','view\x20engine','OrAnd','getProfileName','uncaughtException','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','isInteger','client','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','\x20contacts','username','child_process','findAndReplace','Not\x20Found','createAndSave','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','uazapiDeleteMessage','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','processing_id','deleteMessage','Error\x20updating\x20privacy\x20settings','object','sendMessageWithTyping','Temp\x20image\x20deleted','Falta\x20informação\x20para\x20a\x20chamada\x20API','addresss','-instances','option','deleteDoneMessages','):\x20Editando\x20condição\x20do\x20fluxo...','responsavelid','/wa-connection-update',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','GROUP_PARTICIPANTS_UPDATE','PRESENCE_UPDATE','replaceVariablesLogs','LOG_LEVEL','exit','content','stopMinutesMaxActives','_Flows','2009920eIiPXC','FlowModel','waitingMenu_id','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','replaceVariablesInObject','moreLogs','cleanStore','dbInstance','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Error\x20creating\x20group','.mp3','$set','authentication','Notifying\x20clients\x20for\x20chat:\x20','updateCustomFields','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Error\x20updating\x20profile\x20name','call','KEY','send','http://ifconfig.me/ip','updateParticipant','All_Instances_Config','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','uazapiSendLocation','upperCase','Bad\x20Request','function','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','):\x20Deletando\x20mensagem','5150193SutQbQ','updatePresence','conditions','ex:\x20\x22groupJid=120362@g.us\x22','saveVariable','request\x20received\x20in\x20scheduleMessage','jsonschema','mediaMessage','groups.update','getMessageModelForOwner','closed','updateAgent','https://ipinfo.io/json','\x20-\x20retornado:\x20','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','deleteBlock','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','entries','messageType','E-mail:\x20','nomecompleto','):\x20Current\x20Time:\x20','createHash','chatModify','contactname','://','):\x20Edit\x20schedule\x20message...','add','loadInstance','stopWhenYouSendMsg','post','#fed428','cleaningUp','DEBUG','unavailable','qrcode.updated','LabelModel','including\x20timestamp\x20in\x20url:\x20','Revoke\x20error','menuMessage','picture','scheduleSendText','):\x20updateResult:','remove','normal','inner','\x1b[43m','ids','privacySettings','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','Erro\x20ao\x20encerrar\x20a\x20API','Schema','imagechat','readreceipts','text','/instance/connectionState','/wa-all-message','chatId','upsertChats','importChatsBatch','shutdown\x20-r\x20now','/automate','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','title','Parando\x20aplicação...','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','Falha\x20após\x20várias\x20tentativas.','getTime','arrayUnique','JWT','quoted','creds.update','Deleted\x20','delAll','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','sending','replaceVariablesInReplyOptions','editFlowGroup','where','env','mediaSticker','leaveGroup','loadEnv','admin_add','body','Type\x20not\x20found','Fetching\x20business\x20profile','response','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','forEach','LOG','REDIS_URI','processgoToFlow','Erro\x20ao\x20atualizar\x20AutomateSystem:','CONTACTS_SET','fileName','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]',',\x20pairCode:\x20','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','https://api.openai.com/v1/audio/speech','saveChatVariables','test','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','AUTHENTICATION','groups','ENABLED','saveConversationToDatabase','string','groupParticipantsUpdate','condition','FlowRouter','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','js-yaml','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','presence.update','_id','removeChatLabel','Rótulo\x20deletado:','put','Instância:\x20','keep-alive','Invalid\x20format','\x20minutos.\x20Será\x20às\x20','SERVER_URL','contacts','}}\x20->\x20valor\x20não\x20encontrado','apply','updateBlock','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','#01d0e2','writeData','\x1b[34m','http://myexternalip.com/raw','listType','convertaudio','editFlowVariable','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','charAt','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','--standalone','boolean','chats','Mensagem\x20não\x20suportada','changeVariables','validate','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','unhandledRejection','enabled','creds','isBusiness','apiName','getFlowModelForOwner','sign','block','/*.json','whatsappNumbers',',\x20qrcodeCount:\x20','toString','Connection\x20closed\x20for\x20instance:\x20','selectableCount','\x20mensagens\x20de\x20','realVariables','mongoose','tags','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Last\x20message\x20not\x20found\x20for\x20number:','copyDataToNewModel','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','authService','fetchPrivacySettings','pollUpdateMessage','DATABASE_CONNECTION_DB_PREFIX_NAME','.txt','SECRET','Error\x20change\x20group\x20setting','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','CHATS_SET','.\x20Pulando.','Erro\x20ao\x20deletar\x20mensagens:','RemoveChatLabel',',\x20resultado:\x20','Número:\x20','\x20tentativas:\x20remotejid=','notEmpty','expiration','https://uazapi-plugin.bubbleapps.io/','/wa-groups','Content-Type','isConnected','augusto.fcs@gmail.com','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','checkAndUpdateChatStatus','insertMany','@s.whatsapp.net','revokeInviteCode','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','greater','#b4ebff','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','indexOf','audio','STATUS_INSTANCE','newStoppedUntil','):\x20Editando\x20edição\x20do\x20fluxo...','Archiving\x20chat','buttonMessage','/wa-contacts','LICENSE_INVALID','Erro\x20ao\x20atualizar\x20o\x20flow.','preview','bodyString','\x20não\x20encontrado\x20para\x20cópia','useMultiFileAuthState','Erro\x20ao\x20editar\x20o\x20bloco:\x20','isRunning','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','createflow','/webhook','cors','_FlowHistorico','reference','reconnectTimestamps','):\x20Query\x20params:\x20','ChatModel','routerPath','HttpsProxyAgent','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','app-state-sync-key','):\x20Mensagem\x20já\x20enviada\x20para\x20','USER','GROUPS_UPDATE','router','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','audioMessage','EXPIRIN_IN','uazapiSendContact','firstValue','apikey','Flow\x20não\x20encontrado','):\x20transformedCustomFieldVariables','CONTACTS_UPDATE','Fluxos\x20não\x20estão\x20ativados','urlencoded','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','normalizeMessageContent','compression','copyBlock','updateProfileStatus','@g.us','sendPresenceUpdate','/wa-qrcode','editFlowBlock','blockId','sendStatus','Nenhum\x20chat\x20encontrado\x20para\x20editar.','updateOne','RECONNECT_TIME_FRAME','flowName','request\x20received\x20in\x20deleteConversation','params','leadInfo.customFields','):\x20Conversa\x20atualizada\x20em\x20memória','groupValidate','cachedContact','):\x20Enviando\x20áudio','msgRetryCounterCache','includes','long','lastCondition','Deletion\x20failed','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','true','blockLogs','\x1b[31m','.doc','sendList','memberAddMode','cache','TEXT','waitingMenu_replyOptions','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','repository','#d8e651','userDevicesCache','save','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','editflowblock','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','cpf','SUCCESS','execSync','Error\x20updating\x20profile\x20picture','\x1b[36m','Sistema\x20atualizado\x20com\x20sucesso!','AutomateSystem\x20não\x20foi\x20inicializado','headers','#ffae04','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','sem\x20texto\x20na\x20mensagem','open','end','STORE_CLEANING_TERMINAL','AUTHENTICATION_JWT_EXPIRIN_IN','\x1b[32m%s\x1b[0m','delayChatLabel_MAX_RETRIES','):\x20Deletando\x20conversa...','\x0aitem','capitalizedWords','https-proxy-agent','Failed\x20to\x20update\x20contact\x20profile\x20picture','):\x20Criando\x20nova\x20conversa[createNewConversation]','trimmed','storePath','toUpperCase','optionName','color','Label\x20','pollErrorMessage','selectedOptions','fromMe','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','DATABASE_CONNECTION_PASSWORD','timeout','request_time','uazapiSendText','detail','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','\x20não\x20encontrado\x20para\x20atualização.','HOST','):\x20Procurando\x20mensagens\x20para\x20envio','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','done','CHATS_UPDATE','mentions','formatStatusMessage','.pdf','request\x20body:\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','#64c4ff','\x20\x1b[0m','deleted','contacts.update','floor','?authSource=admin&readPreference=primary&directConnection=true','Error\x20change\x20group\x20name','presence','END:VCARD','toLocaleString','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','):\x20Enviando\x20enquete','/create','):\x20Ignoring\x20group\x20messages.','envYaml','updateGroupsAddPrivacy','removeData','labels.association','\x20segundos','):\x20Conversa\x20está\x20expirada\x20-\x20voto','WebhookGlobal','Cached\x20audio\x20found,\x20returning\x20existing\x20file','Erro\x20ao\x20sincronizar\x20fluxos:\x20','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','\x1b[33m','Data\x20inválida\x20fornecida','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','updateMessage','updateMany','Erro\x20ao\x20importar\x20chats:','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','deleteChat','normalizeMessage','closeExistingConversations','listMessage','hasOwnProperty','checkAndRestartProcess','noConnection','arraybuffer','#83e421','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','groupId','customFields','listen','creds.json','use','footerText','Content\x20is\x20required','editflowvariable','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','upsertedCount','status','applyvaredit','waitingMenu_ExpiredMessage','message_normalized','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','AutomateSystem','folder','CLEANING_INTERVAL','join','public','PENDING','\x20minutos...','ORG:','NO_IP','Missing\x20global\x20api\x20key','displayName','getOwnPropertyDescriptor','getHours','array','cachedData-whatsapp','processApiRequest','round','getMIMEType','video-cover.png','node-cache','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','updateReadReceiptsPrivacy','Cannot\x20','MESSAGES_UPSERT','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','currency','matchRegex','convertedOptions','reject','number','all_member_add','binary','buttonId','rm\x20-rf\x20','random','):\x20','synchronizeFlows','path','Esse\x20fluxo\x20expirou','archived','waUploadToServer','dbConnection','url','MAX_RECONNECT_ATTEMPTS','request\x20received\x20in\x20getAutomateSystem','copy','sendPoll','qrCode','groupInviteCode','messageId','create','mongodb','):\x20Procurando\x20conversa','deleteMany','#9568cf','groupToggleEphemeral','config','Getting\x20image\x20from\x20url','_ScheduleMessages','No\x20join\x20group\x20invite\x20code\x20or\x20url','):\x20Conversa\x20inserida\x20com\x20sucesso.','findIndex','flowname:\x20','keys','pollCreationMessageV3','GUARD','scheduleSendAudio','fetchBusinessProfile','importChatsAntigo','viewOnceMessage','https://jsonip.com','chats.delete','joinGroupValidate','):\x20Iniciando\x20bot...','removeProfilePicture','linkPreview','getBase64FromMediaMessage','apiResponse','Comando\x20desconhecido','AutomateFunctions','/wa-message','header','#92ceac','getLabelModelForOwner','Error\x20updating\x20profile\x20status','groups_ignore','pollCreationMessage','flowStopConversation','groupMetadata','):\x20Erro\x20durante\x20a\x20atualização:\x20','exists','get','groupRequestParticipantsList','phoneNumber','readMessage','):\x20atualização\x20chat:\x20','isJidBroadcast','Sending\x20audio\x20whatsapp','no.connection','Tentando\x20reconectar...','some','\x0a*Você\x20respondeu*:\x0a','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','enumerable','fetchInstances','reviver','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','lowerCase','available','Valor\x20de\x20find\x20ou\x20replace\x20ausente','createConversationforStartFlow','value','):\x20Enviando\x20contato','rows','delete','processPollUpdateMessage','getContentType','8080','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','request\x20received\x20in\x20getConversation',',\x20Minutes\x20to\x20Close:\x20','Erro:','request\x20received\x20in\x20createFlow','remoteJid','scheduleNextCheck','sectionsToString','min','http://icanhazip.com/','expression','#00a1f2','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','):\x20Não\x20achou\x20nenhum\x20flow','\x20minutos','data','isJWT',':\x20Tentativa\x20','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','reorderReplyOptions','Flow\x20iniciado\x20com\x20','readFile','messageSecret','deleteInstance','getBusinessProfile','toFile','):\x20Entrou\x20na\x20função\x20goToFlow','createConnection','blocks','Fluxo\x20não\x20encontrado','authState','TYPE','filter','):\x20expirationTime:\x20',',\x20Resultado:\x20','findGroupInfos','request\x20received\x20in\x20updateFlowConfig','eventEmitter','online','sendText','participant','oldValue','Read\x20messages\x20fail','updateGParticipate','findGroupInfo','REDIS_PREFIX_KEY','hex','updateOneById','abs','uazapiSendAudio','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','unreadcount','unlinkSync','notMatchRegex','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','senderKeyDistributionMessage','profilePictureUrl','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','findOneAndUpdate','$addToSet','sections','getAllData','ms\x20(Attempt\x20','deleteFlow','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','warn','Error\x20updating\x20participants','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','#dfaef0','updateProfileName','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','parse','Erro\x20ao\x20remover\x20instâncias\x20antigas:','less','):\x20não\x20encontrou','READ','temp-','label','labelId','.webm','lastSendMessage','):\x20Enviando\x20texto','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Image\x20created','prepareMediaMessage','Não\x20respondeu\x20com\x20a\x20enquete.','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','/instance','getDevice','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','match','jpegThumbnail','findParticipants','vote','base64','key','no-cache','replaceVariables','refused','Erro\x20ao\x20adicionar\x20label\x20','$dbName','all','insertCount','sendSticker','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','ON\x20-\x20dbName:\x20','\x1b[34m%s\x1b[0m','InstancesAlterarTodas','organization','extractRegex','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','menuIgnoreNonVotes','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','evaluateConditionTest','jid','CHATS_DELETE','profilePicture','certbot','font','node-mime-types','deleteMessageForEveryone','contacts.upsert','\x1b[1m','addChatLabel','#9ab6c1','chat','1212136HeeOUk','oldToken','\x20->\x20NÃO\x20CORRESPONDE.','groupRevokeInvite','removeInstance','/config','map','flowStopMinutes','Erro\x20ao\x20inserir\x20chats:','remote\x20\x22origin\x22','groups.upsert','flowIgnoreGroups','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','editChat','crypto','processConditionsTest','getScheduleMessage',',\x20valor\x20a\x20encontrar:\x20\x22','sendMessage','updateMissingShareOwners','\x20adicionado\x20ao\x20chat\x20','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','findAndReplaceRegex','DOCKER_ENV','sendWhatsAppAudio','parseInt','unknown\x20operation\x20type\x20[','fone','createGroup','resetReconnectionVariables','.png','Authentication\x20error','No\x20participants','truncatedtoEnd','Instância\x20não\x20encontrada.','request\x20received\x20in\x20starFlow','automateSystem','groupAcceptInvite','editFlowReply','findMessages','method','nome','findByIdAndUpdate','readMessages','instance','):\x20this.processing_id:\x20','\x20quoted:\x20','updateProfilePicturePrivacy','segundos','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','newValue','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','mediatype','\x20horas\x20e\x20','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','DELIVERY_ACK','.mp4','split','stderr','authModel','.ppt','waitingForReplyMenu','172740SUyVqZ','getConversation','https://api.elevenlabs.io/v1/text-to-speech/','uazapiSendMedia','):\x20[messages.update]\x20group\x20ignored','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Limpando\x20delayMessage','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','audio/mpeg','ObjectId','locked','text/event-stream','groupJoinApprovalMode','updateReplyOption','prepareWAMessageMedia','updatePrivacySettings','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','command','addReplyOption','Trying\x20to\x20get\x20business\x20profile','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','processUazapi','\x1b[30m%s\x1b[0m','findById','\x1b[30m','):\x20leadInfoVariables','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','action','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','originalUrl','express-async-errors','.TEL;waid=','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','isURL','flowConversation','ultimaTentativaRemoteJid','size','SSL_CONF','Validate','formatBRNumber','Resultado\x20da\x20atualização:','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','defineProperty','readdirSync','ERROR:\x20','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','/events','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','Erro\x20ao\x20atualizar\x20conversa:\x20','createServer','messageStubType','del','process','):\x20Conversas\x20encontradas:','/wa-chats','Valor\x20inicial:\x20\x22','dayjs','setWebhook','groupBetterSetting','envProcess','values','\x1b[0m','\x20attempts.','deleteReplyOption','ConversationModel','STORE_CONTACTS','joinApprovalMode','fetchProfilePictureUrl','toNumber','\x20Tentativa\x20de\x20reconexão\x20','scheduled','imported','padEnd','request\x20received\x20in\x20updateCustomFields','image','):\x20alterando\x20this.AutomateSystem','ERROR','\x1b[40m','last_update','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','.xls','createInstance','sort','setRestartTimeout','now','address','getStatus','):\x20delete\x20=\x20true','none','videoMessage','StartBot','request\x20received\x20in\x20allFlows','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','../env.yml','groupName','@newsletter','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','description','importChats','Chat\x20','METHODS','replyOptions','variablesToObject','match_last_seen','Types','logout','_Contacts','flow','webhookService','editflow','trim','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','has','leadInfo','defineAuthState','getScheduleMessageModelForOwner','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','encoding','getContactModelForOwner','format','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','sendAudio','unlocked','documentMessage','PROXY','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','protocol','stdout','findAndUpdateCacheContact','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','http','findWebhook','truncatedto','Operador:\x20\x22','editedMessage','updateProfilePicture','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','stopMinutes','Connection','toDataURL','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','redis://127.0.0.1:6379','instanceName\x20not\x20provided.','Error\x20while\x20deleting\x20message\x20for\x20everyone','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','#ffffff','restrict','*Pergunta*:\x20\x0a','Instance\x20\x22','./.git/config','):\x20Editando\x20variável\x20do\x20fluxo...','find','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','sendButtons','pollOnReplyDelete','BufferJSON','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','close','getMinutes','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','):\x20Editando\x20replyOption...','updateChatWithMessage','notify','logger','groupDesc','API_KEY','axios','\x20chats\x20de\x20','beforeExit','bearer','deleteConversation','minutesToClose','\x20e\x20ID=','getMessage','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','saveTextReply','recording','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','endSession',',\x20Expiration\x20Time:\x20','fetchProfilePicture','json','sha256','group','COLOR','label_jid','toLowerCase','createJid','Error\x20updating\x20setting','messageTimestamp','fetchChats','The\x20property\x20cannot\x20be\x20empty','BRL','/instance/fetchInstances','Erro\x20ao\x20editar\x20o\x20chat:\x20','log','groupRequestParticipantsUpdate','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','findGroups2','goNextblock','uazapi','.wav','statusMessage','wuid','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20conversation.waitingMenu_name','getFlow','replacer','updateAll','Safari\x20(MacOS)','drop','/:instanceName','updateGroupPicture','express','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','loggedOut','isJidUser','pollCreationMessageKey','request\x20received\x20in\x20fetchConversation','stateConnection','pollMessageOnDelete','notEqual','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','contactsArrayMessage','joinGroup','optionDescription','remoteJidsRemaining','Group\x20not\x20found','leadInfo.desativadoFluxoAte','editFlowVaredit','https','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','readFileSync','_p_','bulkWrite','poll','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','dataValidate','ReplyOption\x20com\x20ID\x20','creation','):\x20[messages.upsert]\x20group\x20ignored','downloads','getLastMessage','cacheContact','_error','vcard','Erro\x20ao\x20editar\x20a\x20conversa:\x20','Error\x20fetching\x20group','lastReceivedMessage','50mb','Error\x20updating\x20cache\x20contact:','DATABASE','connectToWhatsapp','throwAndLogError','hSet','deletedCount',',\x20lastCondition:\x20','verify','\x20-i\x20','valid','StatusJidList\x20is\x20required','editFlowCondition','proto','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','configService','request\x20received\x20in\x20editFlow','lastUpdate','Image\x20converted\x20to\x20WebP','flowPrefixCommand','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','requestPairingCode','port','Erro\x20ao\x20editar\x20agentes:\x20','scheduleSendMedia','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','fromObject','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20Criando\x20fluxo\x20regular...','delayChatLabel','getDelay','Image\x20is\x20url','\x20ao\x20chat\x20','messageHandle','.error','):\x20Buscando\x20conversa...','choices','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','certonly','fetchContacts','PRIVKEY','.ogg','pt-BR','#000000','loadproxy','fetchMessages','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','collection','qrcode-terminal','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20customFieldVariables','item','generate','events','DATABASE_ENABLED','\x5cd+','SSL_CONF_PRIVKEY','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','audio/mp4','headerString','writeFileSync','activatedCount','video','findChats','assign','@ffmpeg-installer/ffmpeg','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','editflowgroup','options','reorderBlocks','ignoreGroups','PREFIX_KEY','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','CORS_ORIGIN','CREDENTIALS','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','AppStateSyncKeyData','name','Forbidden','https://api.ipify.org?format=json','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Error\x20removing\x20profile\x20picture','model','CORS_CREDENTIALS','groupUpdateSubject','Conexão\x20estabelecida','g.us','findGroup','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','cachedContacts-whatsapp','sendContact','static','\x1b[42m','isCommunity','):\x20newSecondValue\x20após\x20replaceVariables:','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','flushHeaders','env.yml','maxActives','.ogv','sendReaction','editConversation','status@broadcast','Telefone:\x20','onTime','processConditions','enviado\x20para','Unauthorized','\x20-\x20ON:\x20','/instance/connect','getAutomateSystem','VERBOSE','list','password','composing','contextInfo','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','latitude','Router','getTicketSystem','Bloco\x20com\x20ID\x20','connecting','sendMedia','utf-8','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','ephemeralExpiration','substring','PASSWORD','whatsappNumber','context','leadInfo.','editFlow','chats.upsert','createFlow','processvaredits','messageContextInfo','Message','apirequest','/events/:instance'];a0_0x3cfb=function(){return _0x135a7b;};return a0_0x3cfb();}zr(ao,{'subdomain':()=>Ds}),module[a0_0x4511c4(0x1ca)]=Hr(ao);var kr=O(require(a0_0x4511c4(0x344))),qs=require('fs'),Js=require(a0_0x4511c4(0x2be)),Vs=require('path'),Pe=require(a0_0x4511c4(0x400)),ie=process['cwd'](),ge=(0x0,Pe[a0_0x4511c4(0x3de)])(ie,a0_0x4511c4(0x71d)),Us=(0x0,Pe[a0_0x4511c4(0x3de)])(ie,a0_0x4511c4(0x12c)),Xo=(0x0,Pe[a0_0x4511c4(0x3de)])(ie,a0_0x4511c4(0xb0),'auth'),is=class{constructor(){const _0x16ce0e=a0_0x4511c4;this[_0x16ce0e(0x29f)]();}[a0_0x4511c4(0x436)](_0x619a8a){const _0x1579f5=a0_0x4511c4;return this[_0x1579f5(0x29c)][_0x619a8a];}[a0_0x4511c4(0x29f)](){const _0x463541=a0_0x4511c4;this[_0x463541(0x29c)]=process['env']?.[_0x463541(0x4ed)]!=='true'?this[_0x463541(0x3af)]():this['envProcess'](),process[_0x463541(0x29c)]?.[_0x463541(0x4ed)]==='true'&&(this['env'][_0x463541(0x1d0)][_0x463541(0x471)]=_0x463541(0x59a),this[_0x463541(0x29c)][_0x463541(0x1d0)][_0x463541(0x704)]=Number[_0x463541(0x4ef)](process[_0x463541(0x29c)]?.[_0x463541(0x199)]??_0x463541(0x450)));}[a0_0x4511c4(0x3af)](){const _0x5de993=a0_0x4511c4;return(0x0,Js[_0x5de993(0xfe)])((0x0,qs[_0x5de993(0x606)])((0x0,Vs[_0x5de993(0x3de)])(Us,_0x5de993(0x575)),{'encoding':_0x5de993(0x693)}));}[a0_0x4511c4(0x553)](){const _0x15f24f=a0_0x4511c4;return{'SERVER':{'TYPE':process['env'][_0x15f24f(0x6fd)],'PORT':Number[_0x15f24f(0x4ef)](process[_0x15f24f(0x29c)][_0x15f24f(0x199)]),'URL':process['env'][_0x15f24f(0x2c9)]},'CORS':{'ORIGIN':process[_0x15f24f(0x29c)][_0x15f24f(0x661)]['split'](','),'METHODS':process[_0x15f24f(0x29c)]['CORS_METHODS']['split'](','),'CREDENTIALS':process[_0x15f24f(0x29c)]?.[_0x15f24f(0x66b)]===_0x15f24f(0x35e)},'SSL_CONF':{'PRIVKEY':process[_0x15f24f(0x29c)]?.[_0x15f24f(0x650)],'FULLCHAIN':process['env']?.[_0x15f24f(0x187)]},'STORE':{'CLEANING_INTERVAL':Number[_0x15f24f(0x20a)](process[_0x15f24f(0x29c)]?.[_0x15f24f(0x37c)])?Number[_0x15f24f(0x4ef)](process[_0x15f24f(0x29c)][_0x15f24f(0x37c)]):void 0x0,'MESSAGES':process[_0x15f24f(0x29c)]?.[_0x15f24f(0x17f)]==='true','CONTACTS':process['env']?.[_0x15f24f(0x559)]==='true','CHATS':process[_0x15f24f(0x29c)]?.[_0x15f24f(0x1de)]===_0x15f24f(0x35e)},'DATABASE':{'CONNECTION':{'HOST':process[_0x15f24f(0x29c)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x15f24f(0x4ef)](process[_0x15f24f(0x29c)]?.[_0x15f24f(0xc7)]),'USER':process[_0x15f24f(0x29c)][_0x15f24f(0xb2)],'PASSWORD':process[_0x15f24f(0x29c)][_0x15f24f(0x390)],'URI':process[_0x15f24f(0x29c)][_0x15f24f(0x15c)],'DB_PREFIX_NAME':process[_0x15f24f(0x29c)][_0x15f24f(0x2f9)]},'ENABLED':process[_0x15f24f(0x29c)]?.[_0x15f24f(0x64e)]===_0x15f24f(0x35e)},'REDIS':{'ENABLED':process[_0x15f24f(0x29c)]?.['REDIS_ENABLED']==='true','URI':process[_0x15f24f(0x29c)][_0x15f24f(0x2a9)]||_0x15f24f(0x5a5),'PREFIX_KEY':process[_0x15f24f(0x29c)][_0x15f24f(0x47f)]||_0x15f24f(0x5e1)},'LOG':{'LEVEL':process[_0x15f24f(0x29c)]?.[_0x15f24f(0x22a)][_0x15f24f(0x50f)](','),'COLOR':process[_0x15f24f(0x29c)]?.['LOG_COLOR']==='true'},'PROXY':Number['parseInt'](process[_0x15f24f(0x29c)]?.['PROXY']),'AUTHENTICATION':{'TYPE':process[_0x15f24f(0x29c)][_0x15f24f(0x6c3)],'API_KEY':{'KEY':process[_0x15f24f(0x29c)][_0x15f24f(0x743)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x15f24f(0x29c)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x15f24f(0x4ef)](process[_0x15f24f(0x29c)][_0x15f24f(0x37d)]):0xe10,'SECRET':process[_0x15f24f(0x29c)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new is(),Lr=O(require(a0_0x4511c4(0x329))),he=O(require(a0_0x4511c4(0x5ef))),Ls=require(a0_0x4511c4(0x400)),os=O(require(a0_0x4511c4(0x550))),ns=(_0x4ba8fa=>(_0x4ba8fa[a0_0x4511c4(0x2a8)]='\x1b[32m',_0x4ba8fa[a0_0x4511c4(0x73a)]=a0_0x4511c4(0x2d1),_0x4ba8fa[a0_0x4511c4(0x1d1)]=a0_0x4511c4(0x3b9),_0x4ba8fa[a0_0x4511c4(0x564)]=a0_0x4511c4(0x360),_0x4ba8fa['DEBUG']=a0_0x4511c4(0x373),_0x4ba8fa[a0_0x4511c4(0x687)]='\x1b[37m',_0x4ba8fa[a0_0x4511c4(0x11c)]=a0_0x4511c4(0x52e),_0x4ba8fa))(ns||{}),Bs=(_0x58ce24=>(_0x58ce24[a0_0x4511c4(0x2a8)]=a0_0x4511c4(0x37e),_0x58ce24['DARK']=a0_0x4511c4(0x52c),_0x58ce24[a0_0x4511c4(0x73a)]=a0_0x4511c4(0x4bf),_0x58ce24[a0_0x4511c4(0x1d1)]=a0_0x4511c4(0x6d9),_0x58ce24[a0_0x4511c4(0x564)]=a0_0x4511c4(0x6e6),_0x58ce24['DEBUG']='\x1b[36m%s\x1b[0m',_0x58ce24[a0_0x4511c4(0x687)]='\x1b[37m%s\x1b[0m',_0x58ce24))(Bs||{}),Gs=(_0x2a25a9=>(_0x2a25a9[a0_0x4511c4(0x2a8)]='LOG',_0x2a25a9[a0_0x4511c4(0x1d1)]='WARN',_0x2a25a9['INFO']='INFO',_0x2a25a9[a0_0x4511c4(0x11c)]=a0_0x4511c4(0x11c),_0x2a25a9['ERROR']=a0_0x4511c4(0x564),_0x2a25a9[a0_0x4511c4(0x26e)]=a0_0x4511c4(0x26e),_0x2a25a9[a0_0x4511c4(0x687)]=a0_0x4511c4(0x687),_0x2a25a9))(Gs||{}),Ws=(_0x3d7612=>(_0x3d7612[a0_0x4511c4(0x2a8)]=a0_0x4511c4(0x674),_0x3d7612[a0_0x4511c4(0x73a)]='\x1b[44m',_0x3d7612[a0_0x4511c4(0x1d1)]=a0_0x4511c4(0x27b),_0x3d7612['DARK']=a0_0x4511c4(0x565),_0x3d7612['ERROR']=a0_0x4511c4(0x186),_0x3d7612['DEBUG']='\x1b[46m',_0x3d7612[a0_0x4511c4(0x687)]='\x1b[47m',_0x3d7612))(Ws||{}),v=class{constructor(_0x27f818='Logger'){const _0x59f506=a0_0x4511c4;this[_0x59f506(0x69a)]=_0x27f818,this['configService']=b;}['setContext'](_0x3ecc40){const _0x4e179a=a0_0x4511c4;this[_0x4e179a(0x69a)]=_0x3ecc40;}[a0_0x4511c4(0x1cb)](_0xebb651,_0x388179){const _0x48145c=a0_0x4511c4;let _0x4e5afd=[];this[_0x48145c(0x626)][_0x48145c(0x436)](_0x48145c(0x2a8))['LEVEL'][_0x48145c(0x2a7)](_0x5cdcd4=>_0x4e5afd['push'](Gs[_0x5cdcd4]));let _0x59bcb9=typeof _0xebb651;_0x4e5afd[_0x48145c(0x359)](_0x388179)&&(b['get'](_0x48145c(0x2a8))[_0x48145c(0x5d0)]?(console[_0x48145c(0x5db)](_0x48145c(0x4d2)+Bs[_0x388179],'\x1b[1m\x1b[37m',(0x0,os[_0x48145c(0x1e4)])()[_0x48145c(0x58f)]('DD/MM\x20HH:mm:ss'),_0x48145c(0x555),ns[_0x388179]+Ws[_0x388179]+_0x48145c(0x4d2),_0x388179+_0x48145c(0x3a2),'\x1b[33m\x1b[1m',this[_0x48145c(0x69a)]+_0x48145c(0x555),ns[_0x388179],_0x59bcb9!==_0x48145c(0x21b)?_0xebb651:'','\x1b[0m'),_0x59bcb9===_0x48145c(0x21b)&&console[_0x48145c(0x5db)](_0xebb651,'\x0a')):console['log']((0x0,os[_0x48145c(0x1e4)])()[_0x48145c(0x58f)](_0x48145c(0x176)),_0x388179+'\x20',''+this[_0x48145c(0x69a)],_0xebb651));}['log'](_0x4eccbe){const _0x102766=a0_0x4511c4;this[_0x102766(0x1cb)](_0x4eccbe,'LOG');}[a0_0x4511c4(0x10b)](_0x39d81a){this['console'](_0x39d81a,'INFO');}[a0_0x4511c4(0x494)](_0x3478ca){const _0x1b9fee=a0_0x4511c4;this[_0x1b9fee(0x1cb)](_0x3478ca,_0x1b9fee(0x1d1));}['error'](_0x22c0e7){this['console'](_0x22c0e7,'ERROR');}['verbose'](_0x39563f){this['console'](_0x39563f,'VERBOSE');}['debug'](_0x15b06e){const _0xde11f=a0_0x4511c4;this[_0xde11f(0x1cb)](_0x15b06e,'DEBUG');}[a0_0x4511c4(0x6cf)](_0x3b78f8){const _0x3e66ba=a0_0x4511c4;this[_0x3e66ba(0x1cb)](_0x3b78f8,_0x3e66ba(0x11c));}};function zs(){const _0x4ac878=a0_0x4511c4;process['on'](_0x4ac878(0x208),(_0x3d77bf,_0x9131d3)=>{const _0x430890=_0x4ac878;new v(_0x430890(0x208))[_0x430890(0xcd)]({'origin':_0x9131d3,'stderr':process[_0x430890(0x510)]['fd'],'error':_0x3d77bf});}),process['on'](_0x4ac878(0x2e0),(_0x86f71e,_0x31dbae)=>{const _0x246101=_0x4ac878;new v(_0x246101(0x2e0))['error']({'origin':_0x31dbae,'stderr':process['stderr']['fd'],'error':_0x86f71e});});}var Hs=O(require('eventemitter2')),cs=new Hs[(a0_0x4511c4(0x1e4))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ke=require(a0_0x4511c4(0x2f0)),Se=O(require(a0_0x4511c4(0x2f0))),$e=new v('Db\x20Connection'),$=b['get']('DATABASE'),T=$[a0_0x4511c4(0x2b7)]?$[a0_0x4511c4(0x125)]['URI']?Se['default'][a0_0x4511c4(0x46d)]($[a0_0x4511c4(0x125)][a0_0x4511c4(0x74e)],{'dbName':$[a0_0x4511c4(0x125)][a0_0x4511c4(0x179)]+a0_0x4511c4(0x162)}):Se[a0_0x4511c4(0x1e4)][a0_0x4511c4(0x46d)](a0_0x4511c4(0x721)+$['CONNECTION']['HOST']+':'+$[a0_0x4511c4(0x125)][a0_0x4511c4(0x704)]+a0_0x4511c4(0x3a6),{'user':$[a0_0x4511c4(0x125)][a0_0x4511c4(0x334)],'pass':$['CONNECTION'][a0_0x4511c4(0x698)],'dbName':$[a0_0x4511c4(0x125)][a0_0x4511c4(0x179)]+'-whatsapp-api'}):null;$[a0_0x4511c4(0x2b7)]&&$e[a0_0x4511c4(0x10b)]('ON\x20-\x20dbName:\x20'+T[a0_0x4511c4(0x4b9)]);var me=$['ENABLED']?$[a0_0x4511c4(0x125)][a0_0x4511c4(0x74e)]?Se['default'][a0_0x4511c4(0x46d)]($['CONNECTION'][a0_0x4511c4(0x74e)],{'dbName':a0_0x4511c4(0x3e9)}):Se[a0_0x4511c4(0x1e4)]['createConnection'](a0_0x4511c4(0x721)+$[a0_0x4511c4(0x125)][a0_0x4511c4(0x397)]+':'+$[a0_0x4511c4(0x125)][a0_0x4511c4(0x704)]+a0_0x4511c4(0x3a6),{'user':$[a0_0x4511c4(0x125)][a0_0x4511c4(0x334)],'pass':$[a0_0x4511c4(0x125)]['PASSWORD'],'dbName':a0_0x4511c4(0x671)}):null;me&&$e[a0_0x4511c4(0x10b)](a0_0x4511c4(0x4be)+me[a0_0x4511c4(0x4b9)]),process['on'](a0_0x4511c4(0x5c0),()=>{const _0x51a3ec=a0_0x4511c4;T&&T[_0x51a3ec(0x5b5)](()=>{const _0x46e86a=_0x51a3ec;$e[_0x46e86a(0x10b)](_0x46e86a(0x154));}),me&&me[_0x51a3ec(0x5b5)](()=>{const _0x24c271=_0x51a3ec;$e[_0x24c271(0x10b)]('CacheContacts\x20database\x20connection\x20closed.');});});var Kr=new ke[(a0_0x4511c4(0x280))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Qr=new ke[(a0_0x4511c4(0x280))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Kr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Yr=new ke[(a0_0x4511c4(0x280))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Qr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Ks=_0x4c43e4=>{const _0x1c130f=a0_0x4511c4;let _0x5190a5='z_'+_0x4c43e4+_0x1c130f(0x197);return T?.['model'](_0x1c130f(0x32e),Yr,_0x5190a5);},Qs=require(a0_0x4511c4(0x2f0)),Xr=new Qs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x890718=>{const _0x15b172=a0_0x4511c4;let _0x501720='z_'+_0x890718+_0x15b172(0x582);return T?.[_0x15b172(0x66a)](_0x15b172(0x712),Xr,_0x501720);},Xs=require(a0_0x4511c4(0x2f0)),ls=class{},Zr=new Xs[(a0_0x4511c4(0x280))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=me?.['model'](ls['name'],Zr,a0_0x4511c4(0x18f)),ea=require(a0_0x4511c4(0x2f0)),ei=new ea['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),ta=_0x5ebfef=>{const _0x8d2e3d=a0_0x4511c4;let _0x704b50='z_'+_0x5ebfef+_0x8d2e3d(0x6af);return T?.[_0x8d2e3d(0x66a)](_0x8d2e3d(0x720),ei,_0x704b50);},sa=require(a0_0x4511c4(0x2f0)),us=class{},ti=new sa[(a0_0x4511c4(0x280))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=T?.[a0_0x4511c4(0x66a)](us[a0_0x4511c4(0x665)],ti,a0_0x4511c4(0x23b)),ra=require(a0_0x4511c4(0x2f0)),ds=class{},ia=new ra[(a0_0x4511c4(0x280))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ia[a0_0x4511c4(0x1a5)](a0_0x4511c4(0x36b),function(_0x541270){const _0x2a66df=a0_0x4511c4;delete this['flowActive'],delete this[_0x2a66df(0x4e1)],delete this[_0x2a66df(0x62a)],delete this[_0x2a66df(0x432)],delete this[_0x2a66df(0x4dd)],_0x541270();});var oa=T?.[a0_0x4511c4(0x66a)](ds[a0_0x4511c4(0x665)],ia,a0_0x4511c4(0x1dc)),k=require(a0_0x4511c4(0x2f0)),na=require(a0_0x4511c4(0x6f9)),Le=class{},ca=new k[(a0_0x4511c4(0x280))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ps=new k['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),si=new k[(a0_0x4511c4(0x280))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x4511c4(0x688)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x4511c4(0x747)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x4511c4(0x401)},'pollErrorMessage':{'type':String,'default':a0_0x4511c4(0x574)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new k[(a0_0x4511c4(0x280))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ai=new k[(a0_0x4511c4(0x280))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),ri=new k[(a0_0x4511c4(0x280))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ua=new k[(a0_0x4511c4(0x280))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':si},'apirequest':ai,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ws=new k[(a0_0x4511c4(0x280))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),da=new k[(a0_0x4511c4(0x280))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),hs=class{},je=new k[(a0_0x4511c4(0x280))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,na['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0xaa84f9=a0_0x4511c4;return _0xaa84f9(0x732)+Math[_0xaa84f9(0x3fd)]()[_0xaa84f9(0x2eb)](0x24)[_0xaa84f9(0x1bd)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ws],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ps],'default':[]}});je[a0_0x4511c4(0x1a5)]('save',function(_0x2aeb0a){const _0x4eb4a8=a0_0x4511c4;let _0x558dc1=new Set(),_0xd58dba=new Set(this['variables']?.['map'](_0xed8cbe=>_0xed8cbe[_0x4eb4a8(0x665)])),_0x31a893=JSON['stringify'](this),_0x44f454=/{{(?!_)([^}]*)}}/g,_0x22b2c9;for(;(_0x22b2c9=_0x44f454[_0x4eb4a8(0x1f6)](_0x31a893))!==null;)_0xd58dba[_0x4eb4a8(0x588)](_0x22b2c9[0x1])||_0x558dc1[_0x4eb4a8(0x268)](_0x22b2c9[0x1]);_0x558dc1['size']>0x0?(console[_0x4eb4a8(0x494)](_0x4eb4a8(0xe9),Array[_0x4eb4a8(0x120)](_0x558dc1)),this[_0x4eb4a8(0xef)]=Array[_0x4eb4a8(0x120)](_0x558dc1)):this[_0x4eb4a8(0xef)]=[],_0x2aeb0a();}),je[a0_0x4511c4(0x1a5)](a0_0x4511c4(0x48c),function(_0x34a033){const _0x57174b=a0_0x4511c4;let _0x3b7503=this['getUpdate']();if(_0x3b7503&&typeof _0x3b7503=='object'&&_0x57174b(0x23a)in _0x3b7503){let _0x49f992=_0x3b7503[_0x57174b(0x23a)];if(_0x49f992){let _0x348df8=new Set(),_0x5e8ae2=new Set(_0x49f992[_0x57174b(0x15b)]?.[_0x57174b(0x4dc)](_0x3893e3=>_0x3893e3[_0x57174b(0x665)])),_0x5ccfe5=JSON[_0x57174b(0x757)](_0x49f992),_0x5ebafe=/{{(?!_)([^}]*)}}/g,_0xd764ea;for(;(_0xd764ea=_0x5ebafe['exec'](_0x5ccfe5))!==null;)_0x5e8ae2[_0x57174b(0x588)](_0xd764ea[0x1])||_0x348df8[_0x57174b(0x268)](_0xd764ea[0x1]);_0x348df8[_0x57174b(0x53c)]>0x0?(console['warn'](_0x57174b(0xe9),Array['from'](_0x348df8)),_0x49f992[_0x57174b(0xef)]=Array['from'](_0x348df8)):_0x49f992['variablesNotFound']=[],this['setUpdate']({'$set':_0x49f992});}}_0x34a033();});var pa=_0x493516=>{const _0x1ed5e5=a0_0x4511c4;let _0x4ec149='z_'+_0x493516+_0x1ed5e5(0x22e);return T?.[_0x1ed5e5(0x66a)](_0x1ed5e5(0x230),je,_0x4ec149);},ha=T?.['model'](hs[a0_0x4511c4(0x665)],je,a0_0x4511c4(0x583)),ii=new k[(a0_0x4511c4(0x280))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ws],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ri]},{'_id':!0x1}),gs=class{},ga=new k[(a0_0x4511c4(0x280))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ws],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ps],'default':[]},'chatLog':ii,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x4511c4(0x401)},'waitingMenu_replyOptions':{'type':[ps],'default':[]}}),ma=_0x2b2c6e=>{const _0x4e51a1=a0_0x4511c4;let _0x2167ad='z_'+_0x2b2c6e+_0x4e51a1(0x32a);return T?.['model'](_0x4e51a1(0x558),ga,_0x2167ad);},fa=T?.[a0_0x4511c4(0x66a)](gs[a0_0x4511c4(0x665)],ga,a0_0x4511c4(0x53a)),ms=class{},oi=new k[(a0_0x4511c4(0x280))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ni=new k[(a0_0x4511c4(0x280))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),wa=new k['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x4511c4(0x55e)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ni,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[oi],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ya=_0x2cd655=>{const _0x103d80=a0_0x4511c4;let _0x451f98='z_'+_0x2cd655+_0x103d80(0x415);return T?.[_0x103d80(0x66a)]('ScheduleMessageModel',wa,_0x451f98);},ba=T?.[a0_0x4511c4(0x66a)](ms[a0_0x4511c4(0x665)],wa,a0_0x4511c4(0x75d)),fs=class{},ci=new k['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),li=new k[(a0_0x4511c4(0x280))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),ui=new k[(a0_0x4511c4(0x280))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),di=new k['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ui]},'customFields':{'type':[ci]},'flowConfig':{'type':li,'default':{}}}),Fe=T?.['model'](fs[a0_0x4511c4(0x665)],di,a0_0x4511c4(0x3db)),Sa=require(a0_0x4511c4(0x2f0)),pi=new Sa[(a0_0x4511c4(0x280))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ca=_0x17eff0=>{const _0x379bf5=a0_0x4511c4;let _0x13672d='z_'+_0x17eff0+_0x379bf5(0x72e);return T?.[_0x379bf5(0x66a)](_0x379bf5(0x271),pi,_0x13672d);},D=class{constructor(_0x589b68){const _0x5bbf9e=a0_0x4511c4;this[_0x5bbf9e(0x15d)]=_0x589b68[_0x5bbf9e(0x436)]('DATABASE');}};function A(_0x4c2bfa){const _0x2b398d=a0_0x4511c4;let _0x826b9f={};for(let [_0x3539f4,_0x506847]of Object[_0x2b398d(0x25e)](_0x4c2bfa))if(typeof _0x506847==_0x2b398d(0x21b)&&!Array[_0x2b398d(0x173)](_0x506847)){for(let [_0xf423d2,_0x22164f]of Object['entries'](_0x506847))_0x826b9f[_0x3539f4+'.'+_0xf423d2]=_0x22164f;}else _0x826b9f[_0x3539f4]=_0x506847;return _0x826b9f;}var Ue=class{constructor(_0x513ebf,_0x4b6210,_0x296274,_0xa57edb,_0x383471,_0x3aa137,_0x472505,_0x308c25,_0x9961ca,_0x2c97bc,_0x12950e,_0x44a036){const _0x1ff611=a0_0x4511c4;this[_0x1ff611(0x737)]=_0x513ebf,this[_0x1ff611(0x4d5)]=_0x4b6210,this[_0x1ff611(0xf1)]=_0x296274,this[_0x1ff611(0x611)]=_0xa57edb,this[_0x1ff611(0x1dc)]=_0x383471,this[_0x1ff611(0x750)]=_0x3aa137,this[_0x1ff611(0x583)]=_0x472505,this[_0x1ff611(0x53a)]=_0x308c25,this[_0x1ff611(0x4a0)]=_0x9961ca,this[_0x1ff611(0x110)]=_0x2c97bc,this['automateSystem']=_0x12950e,this[_0x1ff611(0x116)]=_0x44a036;}get[a0_0x4511c4(0x6fc)](){const _0x52596f=a0_0x4511c4;return this[_0x52596f(0x116)];}},qe=class{},Je=class extends D{['getMessageModelForOwner'](_0x47c1bf){return ta(_0x47c1bf);}async[a0_0x4511c4(0x71b)](_0x21503e,_0x3f9d64){const _0x292d56=a0_0x4511c4;if(_0x21503e[_0x292d56(0x16d)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x292d56(0x256)](_0x3f9d64)[_0x292d56(0x30e)]([..._0x21503e]))[_0x292d56(0x16d)]};}catch(_0x17a3cd){return _0x17a3cd;}}async[a0_0x4511c4(0x5af)](_0x35d323,_0x5b290a){const _0x26ae57=a0_0x4511c4;try{let _0x20cd7d=this[_0x26ae57(0x256)](_0x5b290a),_0x103186=A(_0x35d323['where']);return await _0x20cd7d['find'](_0x103186)[_0x26ae57(0x56a)]({'messageTimestamp':-0x1})[_0x26ae57(0x706)](_0x35d323?.['limit']??0x0)[_0x26ae57(0xb3)]();}catch{return[];}}async[a0_0x4511c4(0x44d)](_0x1e8a02,_0x307714){const _0x50eb08=a0_0x4511c4;try{let _0x4c9d7a=this['getMessageModelForOwner'](_0x307714),_0xb01842=A(_0x1e8a02[_0x50eb08(0x29b)]);await _0x4c9d7a['deleteMany'](_0xb01842);}catch(_0x3df07e){console[_0x50eb08(0xcd)](_0x3df07e);}}async[a0_0x4511c4(0xd1)](_0x4e3a4e,_0x3764d8,_0x3f1052){const _0x38f822=a0_0x4511c4;try{let _0xb40d4d=this[_0x38f822(0x256)](_0x3f1052),_0x2bc588=A(_0x4e3a4e[_0x38f822(0x29b)]);return await _0xb40d4d[_0x38f822(0x48c)](_0x2bc588,{'$set':_0x3764d8},{'new':!0x0});}catch(_0x2d7132){throw console[_0x38f822(0xcd)](_0x2d7132),_0x2d7132;}}async[a0_0x4511c4(0x30e)](_0x3c4b06,_0x1a7346){const _0x618b99=a0_0x4511c4;if(_0x3c4b06[_0x618b99(0x16d)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x618b99(0x256)](_0x1a7346)[_0x618b99(0x30e)]([..._0x3c4b06]))[_0x618b99(0x16d)]};}catch(_0x1bd2ea){return console['log'](_0x618b99(0x544),_0x1bd2ea),_0x1bd2ea;}}async['deleteAll'](_0x293953){const _0x5bf57b=a0_0x4511c4;try{return await this[_0x5bf57b(0x256)](_0x293953)[_0x5bf57b(0x647)][_0x5bf57b(0x5ec)](),{'success':!0x0};}catch(_0x3d6759){return console[_0x5bf57b(0xcd)](_0x3d6759),{'success':!0x1,'error':_0x3d6759};}}},Rr=O(require(a0_0x4511c4(0x659))),m=O(require(a0_0x4511c4(0x119))),Te=require('fs'),J=O(require(a0_0x4511c4(0x400))),Z=O(require('axios')),Tr=require(a0_0x4511c4(0x6f9)),Or=O(require('qrcode')),Ar=O(require(a0_0x4511c4(0x648))),Ea=[a0_0x4511c4(0x10c),a0_0x4511c4(0x593),a0_0x4511c4(0x338),a0_0x4511c4(0x571),a0_0x4511c4(0xca)],Ma=[a0_0x4511c4(0x1a2),'documentWithCaptionMessage',a0_0x4511c4(0x420),a0_0x4511c4(0x6cb)],Ts=require('os'),Pt=O(require(a0_0x4511c4(0xd5))),jt=require(a0_0x4511c4(0x20f)),$t=require(a0_0x4511c4(0x4cf)),le=O(require(a0_0x4511c4(0x2f0))),P=require(a0_0x4511c4(0x145)),fe=class{constructor(_0x58443f,_0x38ae29,_0x30ff74){const _0x42db38=a0_0x4511c4;this[_0x42db38(0x4ca)]=_0x58443f,this[_0x42db38(0x435)]=_0x38ae29,this[_0x42db38(0x665)]=_0x30ff74;}},Ve=class{},Be=class{},Ce=class{},Ge=class{},We=class{},we=class{},ze=class{},He=class{},Ke=class{},Qe=class{},Ot=O(require(a0_0x4511c4(0x5ef))),va=require('fs'),Na=require(a0_0x4511c4(0x400));async function Ye(_0x1d08cd){const _0x550843=a0_0x4511c4;let _0x2b1add=B[_0x550843(0x746)][_0x1d08cd];if($['ENABLED']){let _0x6a0a7e=T['getClient']()['db']($[_0x550843(0x125)][_0x550843(0x179)]+'-instances')[_0x550843(0x647)](_0x1d08cd);return _0x2b1add||(await _0x6a0a7e[_0x550843(0x5af)]({})[_0x550843(0x733)]())['length']>0x0;}return _0x2b1add||(0x0,va[_0x550843(0x18b)])((0x0,Na[_0x550843(0x3de)])(ge,_0x1d08cd));}async function Ra(_0x55bd1b,_0x14b30d,_0x19a012){const _0x1a390d=a0_0x4511c4;if(_0x55bd1b[_0x1a390d(0x534)][_0x1a390d(0x359)]('/instance/create')||_0x55bd1b[_0x1a390d(0x534)]['includes'](_0x1a390d(0x5d9))||_0x55bd1b[_0x1a390d(0x534)]['includes'](_0x1a390d(0x18e))||_0x55bd1b[_0x1a390d(0x534)][_0x1a390d(0x359)](_0x1a390d(0x4db))||_0x55bd1b[_0x1a390d(0x534)]['includes'](_0x1a390d(0x685))||_0x55bd1b[_0x1a390d(0x534)][_0x1a390d(0x359)](_0x1a390d(0x284))||_0x55bd1b[_0x1a390d(0x534)][_0x1a390d(0x359)](_0x1a390d(0x6d7)))return _0x19a012();let _0x4128cb=_0x55bd1b[_0x1a390d(0x352)];if(!_0x4128cb?.[_0x1a390d(0x708)])throw new w(_0x1a390d(0x5a6));if(!await Ye(_0x4128cb['instanceName']))throw new L(_0x1a390d(0xeb)+_0x4128cb[_0x1a390d(0x708)]+_0x1a390d(0x202));_0x19a012();}async function Ta(_0x19461d,_0x520b48,_0x20ab86){const _0x2d6b53=a0_0x4511c4;if(_0x19461d[_0x2d6b53(0x534)]['includes']('/instance/create')){let _0x5404e6=_0x19461d['body'];if(await Ye(_0x5404e6[_0x2d6b53(0x708)]))throw new K(_0x2d6b53(0x115)+_0x5404e6[_0x2d6b53(0x708)]+'\x20is\x20already\x20in\x20use.');B[_0x2d6b53(0x746)][_0x5404e6['instanceName']]&&delete B[_0x2d6b53(0x746)][_0x5404e6[_0x2d6b53(0x708)]];}_0x20ab86();}var Oa=require('class-validator'),Aa=O(require(a0_0x4511c4(0x75a))),Xe=a0_0x4511c4(0x5e1),gi=new v(a0_0x4511c4(0x41c));async function mi(_0x6ee652,_0x3dbcc0,_0x47dee9){const _0x1ecf15=a0_0x4511c4;let _0x362f67=_0x6ee652[_0x1ecf15(0x436)](_0x1ecf15(0x33c));if(_0x362f67&&b['get']('AUTHENTICATION')[_0x1ecf15(0x5bd)][_0x1ecf15(0x241)]!==_0x362f67)throw new te();if(b[_0x1ecf15(0x436)](_0x1ecf15(0x2b5))[_0x1ecf15(0x5bd)][_0x1ecf15(0x241)]===_0x362f67)return _0x47dee9();if((_0x6ee652[_0x1ecf15(0x534)]['includes'](_0x1ecf15(0x70d))||_0x6ee652[_0x1ecf15(0x534)][_0x1ecf15(0x359)](_0x1ecf15(0x5d9)))&&!_0x362f67)throw new K(_0x1ecf15(0x3e4),_0x1ecf15(0x519));let _0x1843f9=b[_0x1ecf15(0x436)](_0x1ecf15(0x2b5))[_0x1ecf15(0x292)];try{let [_0x3c8b58,_0x31c7e1]=_0x6ee652[_0x1ecf15(0x436)]('authorization')[_0x1ecf15(0x50f)]('\x20');if(_0x3c8b58['toLowerCase']()!==_0x1ecf15(0x5c1))throw new te();if(!(0x0,Oa[_0x1ecf15(0x462)])(_0x31c7e1))throw new te();let _0x46f875=_0x6ee652[_0x1ecf15(0x352)],_0x1f955f=Aa[_0x1ecf15(0x1e4)][_0x1ecf15(0x61f)](_0x31c7e1,_0x1843f9[_0x1ecf15(0x2fb)],{'ignoreExpiration':_0x1843f9[_0x1ecf15(0x339)]===0x0});if(_0x46f875[_0x1ecf15(0x708)]!==_0x1f955f[_0x1ecf15(0x708)]||Xe!==_0x1f955f[_0x1ecf15(0x2e4)])throw new te();return _0x47dee9();}catch(_0x3d9551){throw gi[_0x1ecf15(0xcd)](_0x3d9551),new te();}}async function fi(_0x7d7361,_0x4e55b9,_0x53a1bd){const _0x1c7707=a0_0x4511c4;let _0x5e911f=b[_0x1c7707(0x436)](_0x1c7707(0x2b5))[_0x1c7707(0x5bd)],_0x82854a=_0x7d7361[_0x1c7707(0x436)](_0x1c7707(0x33c));if(_0x5e911f[_0x1c7707(0x241)]===_0x82854a)return _0x53a1bd();if(_0x7d7361[_0x1c7707(0x534)]['includes'](_0x1c7707(0x70d))){let _0x3fcae2=Ze,_0x9c0e4c=_0x7d7361[_0x1c7707(0x2a1)][_0x1c7707(0x708)];if(_0x3fcae2&&_0x9c0e4c[_0x1c7707(0x5d2)]()[_0x1c7707(0x739)](_0x3fcae2['toLowerCase']()))return _0x53a1bd();if(!_0x82854a)throw new K(_0x1c7707(0x3e4),_0x1c7707(0x519));}if(_0x7d7361[_0x1c7707(0x534)][_0x1c7707(0x359)](_0x1c7707(0x5d9))&&!_0x82854a)throw new K(_0x1c7707(0x3e4),_0x1c7707(0x519));if(_0x7d7361[_0x1c7707(0x534)][_0x1c7707(0x359)]('/exit')&&!_0x82854a)throw new K(_0x1c7707(0x3e4),_0x1c7707(0x519));if(_0x7d7361[_0x1c7707(0x534)][_0x1c7707(0x359)](_0x1c7707(0x4db))&&!_0x82854a)throw new K(_0x1c7707(0x3e4),_0x1c7707(0x519));try{let _0x3e931d=_0x7d7361['params'],_0x3f5955=await ue['auth']['find'](_0x3e931d['instanceName']);if(_0x3f5955&&_0x3f5955['apikey']===_0x82854a)return _0x53a1bd();}catch{}throw new te();}var Ia={'jwt':mi,'apikey':fi},ur=require(a0_0x4511c4(0x5ef)),E=require(a0_0x4511c4(0x6f9)),C=(..._0x4892d2)=>{const _0x1b5480=a0_0x4511c4;let _0x50dc34={};return _0x4892d2[_0x1b5480(0x2a7)](_0x187a01=>_0x50dc34[_0x187a01]={'minLength':0x1,'description':'The\x20\x22'+_0x187a01+_0x1b5480(0x1b4)}),{'if':{'propertyNames':{'enum':[..._0x4892d2]}},'then':{'properties':_0x50dc34}};},M={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'instanceName':{'type':a0_0x4511c4(0x2b9)}},...C(a0_0x4511c4(0x708))},cc={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'oldToken':{'type':a0_0x4511c4(0x2b9)}},'required':[a0_0x4511c4(0x4d7)],...C('oldToken')},lc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x4511c4(0x2b9)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x4511c4(0x38e)],...C('id',a0_0x4511c4(0x456))},'message':{'type':'object'}}},Q={'properties':{'delay':{'type':a0_0x4511c4(0x17b),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':'string','enum':['unavailable',a0_0x4511c4(0x447),a0_0x4511c4(0x68a),a0_0x4511c4(0x5c8),a0_0x4511c4(0x1f3)]}}},z={'type':a0_0x4511c4(0x2b9),'pattern':a0_0x4511c4(0x17c),'description':a0_0x4511c4(0x2c7)},xa={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x4511c4(0x21b),'properties':{'text':{'type':a0_0x4511c4(0x2b9)}},'required':[a0_0x4511c4(0x283)],...C(a0_0x4511c4(0x283))}},'required':[a0_0x4511c4(0x171),a0_0x4511c4(0x3f8)]},Da={'type':a0_0x4511c4(0x2b9),'pattern':a0_0x4511c4(0x25b),'description':'Invalid\x20format'},uc={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'number':{...Da},'options':{...Q},'textMessage':{'type':a0_0x4511c4(0x21b),'properties':{'text':{'type':a0_0x4511c4(0x2b9)}},'required':[a0_0x4511c4(0x283)],...C(a0_0x4511c4(0x283))}},'required':[a0_0x4511c4(0x171),'number']},dc={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'number':{...Da},'options':{...Q},'mediaMessage':{'type':a0_0x4511c4(0x21b),'properties':{'mediatype':{'type':a0_0x4511c4(0x2b9),'enum':['image','document',a0_0x4511c4(0x656),a0_0x4511c4(0x317)]},'media':{'type':a0_0x4511c4(0x2b9)},'fileName':{'type':a0_0x4511c4(0x2b9)},'caption':{'type':a0_0x4511c4(0x2b9)}},'required':[a0_0x4511c4(0x50a),'media'],...C('fileName',a0_0x4511c4(0x196),a0_0x4511c4(0x6c0))}},'required':[a0_0x4511c4(0x254),a0_0x4511c4(0x3f8)]},_a={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x4511c4(0x2b9)}},'required':[a0_0x4511c4(0x562)],...C(a0_0x4511c4(0x562))}},'required':[a0_0x4511c4(0xca),a0_0x4511c4(0x3f8)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x4511c4(0x2b9),'enum':[a0_0x4511c4(0x283),a0_0x4511c4(0x562),a0_0x4511c4(0x317),a0_0x4511c4(0x656)]},'content':{'type':'string'},'caption':{'type':a0_0x4511c4(0x2b9)},'backgroundColor':{'type':'string'},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x4511c4(0x3e8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4511c4(0x2b9),'pattern':'^\x5cd+','description':a0_0x4511c4(0x147)}},'allContacts':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]}},'required':[a0_0x4511c4(0x6d4),a0_0x4511c4(0x22c)],...C(a0_0x4511c4(0x6d4),a0_0x4511c4(0x22c))}},'required':[a0_0x4511c4(0x5e3)]},$a={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x4511c4(0x21b),'properties':{'mediatype':{'type':'string','enum':[a0_0x4511c4(0x562),'document',a0_0x4511c4(0x656),'audio']},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x4511c4(0x2b9)}},'required':[a0_0x4511c4(0x50a),a0_0x4511c4(0x6c0)],...C(a0_0x4511c4(0x2ad),a0_0x4511c4(0x196),a0_0x4511c4(0x6c0))}},'required':[a0_0x4511c4(0x254),a0_0x4511c4(0x3f8)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x4511c4(0x2b9)}},'required':['audio'],...C('audio')}},'required':[a0_0x4511c4(0x338),'number']},La={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'pollMessage':{'type':a0_0x4511c4(0x21b),'properties':{'name':{'type':a0_0x4511c4(0x2b9)},'selectableCount':{'type':a0_0x4511c4(0x3f8)},'values':{'type':a0_0x4511c4(0x3e8),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x4511c4(0x2ed),'values'],...C(a0_0x4511c4(0x665),a0_0x4511c4(0x2ed),a0_0x4511c4(0x554))}},'required':[a0_0x4511c4(0x3f8),a0_0x4511c4(0x136)]},ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':a0_0x4511c4(0x21b),'properties':{'text':{'type':a0_0x4511c4(0x2b9)},'choices':{'type':a0_0x4511c4(0x3e8),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4511c4(0x283),'choices'],...C(a0_0x4511c4(0x283),a0_0x4511c4(0x63c))}},'required':[a0_0x4511c4(0x3f8),'menuMessage']},Fa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x4511c4(0x21b),'properties':{'title':{'type':a0_0x4511c4(0x2b9)},'description':{'type':a0_0x4511c4(0x2b9)},'footerText':{'type':a0_0x4511c4(0x2b9)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4511c4(0x21b),'properties':{'buttonText':{'type':a0_0x4511c4(0x2b9)},'buttonId':{'type':'string'}},'required':[a0_0x4511c4(0x198),a0_0x4511c4(0x3fb)],...C(a0_0x4511c4(0x198),a0_0x4511c4(0x3fb))}},'mediaMessage':{'type':a0_0x4511c4(0x21b),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x4511c4(0x2b9)},'mediatype':{'type':a0_0x4511c4(0x2b9),'enum':['image',a0_0x4511c4(0x6a5),'video']}},'required':[a0_0x4511c4(0x6c0),'mediatype'],...C('media',a0_0x4511c4(0x2ad))}},'required':['title',a0_0x4511c4(0x13d)],...C('title',a0_0x4511c4(0x579))}},'required':[a0_0x4511c4(0x3f8),'buttonMessage']},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x4511c4(0x21b),'properties':{'latitude':{'type':a0_0x4511c4(0x3f8)},'longitude':{'type':a0_0x4511c4(0x3f8)},'name':{'type':a0_0x4511c4(0x2b9)},'address':{'type':'string'}},'required':[a0_0x4511c4(0x68d),a0_0x4511c4(0x1c5)],...C(a0_0x4511c4(0x665),a0_0x4511c4(0x21f))}},'required':['number','locationMessage']},qa={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x4511c4(0x21b),'properties':{'title':{'type':a0_0x4511c4(0x2b9)},'description':{'type':'string'},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':a0_0x4511c4(0x3e8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4511c4(0x21b),'properties':{'title':{'type':a0_0x4511c4(0x2b9)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4511c4(0x21b),'properties':{'title':{'type':a0_0x4511c4(0x2b9)},'description':{'type':a0_0x4511c4(0x2b9)},'rowId':{'type':'string'}},'required':[a0_0x4511c4(0x28c),'rowId'],...C(a0_0x4511c4(0x28c),a0_0x4511c4(0x6d1))}}},'required':[a0_0x4511c4(0x28c),a0_0x4511c4(0x44c)],...C(a0_0x4511c4(0x28c))}}},'required':['title',a0_0x4511c4(0x579),a0_0x4511c4(0x198),a0_0x4511c4(0x48e)],...C(a0_0x4511c4(0x28c),a0_0x4511c4(0x579),a0_0x4511c4(0x198),a0_0x4511c4(0x3d0))}},'required':[a0_0x4511c4(0x3f8),a0_0x4511c4(0x3c4)]},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':'array','items':{'type':a0_0x4511c4(0x21b),'properties':{'fullName':{'type':a0_0x4511c4(0x2b9)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x4511c4(0x6bd),a0_0x4511c4(0x438)],...C(a0_0x4511c4(0x6bd))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number','contactMessage']},Va={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x4511c4(0x2b9)},'remoteJid':{'type':a0_0x4511c4(0x2b9)},'fromMe':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4511c4(0x456),a0_0x4511c4(0x38e)],...C('id','remoteJid')},'reaction':{'type':a0_0x4511c4(0x2b9)}},'required':[a0_0x4511c4(0x4b4),'reaction'],...C('reaction')}},'required':['reactionMessage']},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'numbers':{'type':a0_0x4511c4(0x3e8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4511c4(0x2b9),'pattern':a0_0x4511c4(0x735),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Ga={'$id':(0x0,E['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x4511c4(0x3e8),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x4511c4(0x2b9)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4511c4(0x2b9)}},'required':['id',a0_0x4511c4(0x38e),a0_0x4511c4(0x456)],...C('id',a0_0x4511c4(0x456))}}},'required':[a0_0x4511c4(0x501)]},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'privacySettings':{'type':a0_0x4511c4(0x21b),'properties':{'readreceipts':{'type':a0_0x4511c4(0x2b9),'enum':[a0_0x4511c4(0x4ba),a0_0x4511c4(0x570)]},'profile':{'type':'string','enum':['all','contacts',a0_0x4511c4(0xc0),a0_0x4511c4(0x570)]},'status':{'type':a0_0x4511c4(0x2b9),'enum':['all',a0_0x4511c4(0x2ca),a0_0x4511c4(0xc0),'none']},'online':{'type':a0_0x4511c4(0x2b9),'enum':[a0_0x4511c4(0x4ba),a0_0x4511c4(0x57f)]},'last':{'type':a0_0x4511c4(0x2b9),'enum':[a0_0x4511c4(0x4ba),a0_0x4511c4(0x2ca),a0_0x4511c4(0xc0),a0_0x4511c4(0x570)]},'groupadd':{'type':a0_0x4511c4(0x2b9),'enum':[a0_0x4511c4(0x4ba),'contacts',a0_0x4511c4(0xc0),a0_0x4511c4(0x570)]}},'required':['readreceipts',a0_0x4511c4(0xf8),a0_0x4511c4(0x3d6),'online','last',a0_0x4511c4(0x75c)],...C(a0_0x4511c4(0x282),a0_0x4511c4(0xf8),a0_0x4511c4(0x3d6),'online','last','groupadd')}},'required':['privacySettings']},za={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'lastMessage':{'type':a0_0x4511c4(0x21b),'properties':{'key':{'type':a0_0x4511c4(0x21b),'properties':{'id':{'type':a0_0x4511c4(0x2b9)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4511c4(0x38e),a0_0x4511c4(0x456)],...C('id',a0_0x4511c4(0x456))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x4511c4(0x4b4)],...C('messageTimestamp')},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x4511c4(0xdc),a0_0x4511c4(0x1ea)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4511c4(0x2b9)},'participant':{'type':a0_0x4511c4(0x2b9)}},'required':['id',a0_0x4511c4(0x38e),'remoteJid'],...C('id',a0_0x4511c4(0x456),a0_0x4511c4(0x47a))},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x4511c4(0x2b9),'minLength':0x1},'pushName':{'type':a0_0x4511c4(0x2b9),'minLength':0x1},'id':{'type':a0_0x4511c4(0x2b9),'minLength':0x1}},...C(a0_0x4511c4(0x2c1),'id',a0_0x4511c4(0xa7))}}},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'name':{'type':a0_0x4511c4(0x2b9)}},...C(a0_0x4511c4(0x665))},Ya={'$id':(0x0,E['v4'])(),'type':'object','properties':{'status':{'type':a0_0x4511c4(0x2b9)}},...C('status')},Ee={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'number':{'type':a0_0x4511c4(0x2b9)},'picture':{'type':a0_0x4511c4(0x2b9)}}},Xa={'type':a0_0x4511c4(0x21b),'properties':{'wuid':{'type':a0_0x4511c4(0x2b9)},'name':{'type':a0_0x4511c4(0x2b9)},'picture':{'type':'string'},'status':{'type':'string'},'isBusiness':{'type':a0_0x4511c4(0x2da)}}},Za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x4511c4(0x21b),'if':{'propertyNames':{'enum':[a0_0x4511c4(0x38e),a0_0x4511c4(0x456),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x4511c4(0x5d7)},'id':{'type':a0_0x4511c4(0x2b9),'minLength':0x1,'description':a0_0x4511c4(0x5d7)},'fromMe':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x4511c4(0x21b)}},...C(a0_0x4511c4(0x2c1))},'limit':{'type':'integer'}}},pc={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'where':{'type':a0_0x4511c4(0x21b),'properties':{'_id':{'type':a0_0x4511c4(0x2b9)},'remoteJid':{'type':a0_0x4511c4(0x2b9)},'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x4511c4(0x2b9)},'status':{'type':a0_0x4511c4(0x2b9),'enum':[a0_0x4511c4(0x564),a0_0x4511c4(0x3e0),'SERVER_ACK',a0_0x4511c4(0x50d),a0_0x4511c4(0x49e),'PLAYED']}},...C(a0_0x4511c4(0x2c1),'remoteJid','id',a0_0x4511c4(0x3d6))},'limit':{'type':'integer'}}},er={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':'string','enum':[a0_0x4511c4(0x26f),'available',a0_0x4511c4(0x68a),a0_0x4511c4(0x5c8),'paused']}},'required':[a0_0x4511c4(0x3a8),'number']},tr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x4511c4(0x2b9)},'description':{'type':a0_0x4511c4(0x2b9)},'profilePicture':{'type':a0_0x4511c4(0x2b9)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4511c4(0x2b9),'minLength':0xa,'pattern':a0_0x4511c4(0x64f),'description':a0_0x4511c4(0x14c)}}},'required':['subject',a0_0x4511c4(0x730)],...C(a0_0x4511c4(0x6f4),a0_0x4511c4(0x579),a0_0x4511c4(0x4cc))},Me={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'groupJid':{'type':'string','pattern':a0_0x4511c4(0xaf)}},'required':[a0_0x4511c4(0x716)],...C(a0_0x4511c4(0x716))},sr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4511c4(0x2b9)},'action':{'type':a0_0x4511c4(0x2b9),'enum':[a0_0x4511c4(0x268),a0_0x4511c4(0x278),'promote','demote',a0_0x4511c4(0x3f7),a0_0x4511c4(0xc2)]},'participants':{'type':a0_0x4511c4(0x3e8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4511c4(0x2b9),'minLength':0xa,'pattern':a0_0x4511c4(0x64f),'description':a0_0x4511c4(0x14c)}}},'required':[a0_0x4511c4(0x716),a0_0x4511c4(0x531),a0_0x4511c4(0x730)],...C('groupJid',a0_0x4511c4(0x531))},ar={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'groupJid':{'type':a0_0x4511c4(0x2b9)},'expiration':{'type':a0_0x4511c4(0x3f8),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid','expiration'],...C(a0_0x4511c4(0x716),a0_0x4511c4(0x306))},rr={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'groupJid':{'type':a0_0x4511c4(0x2b9)},'image':{'type':a0_0x4511c4(0x2b9)}},'required':[a0_0x4511c4(0x716),'image'],...C(a0_0x4511c4(0x716),a0_0x4511c4(0x562))},ir={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'groupJid':{'type':a0_0x4511c4(0x2b9)},'description':{'type':a0_0x4511c4(0x2b9)}},'required':[a0_0x4511c4(0x716),'description'],...C(a0_0x4511c4(0x716),'description')},or={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x4511c4(0x2b9)}},'required':[a0_0x4511c4(0x716),a0_0x4511c4(0x665)],...C(a0_0x4511c4(0x716),a0_0x4511c4(0x665))},nr={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'groupJid':{'type':a0_0x4511c4(0x2b9)},'setting':{'type':a0_0x4511c4(0x2b9),'enum':[a0_0x4511c4(0x149),a0_0x4511c4(0x74a),a0_0x4511c4(0x592),a0_0x4511c4(0x51e)]}},'required':[a0_0x4511c4(0x716),'setting'],...C(a0_0x4511c4(0x716),a0_0x4511c4(0x152))},cr={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'groupJid':{'type':a0_0x4511c4(0x2b9)},'restrict':{'type':a0_0x4511c4(0x2da)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x4511c4(0x2da)},'joinApprovalMode':{'type':a0_0x4511c4(0x2da)},'expiration':{'type':a0_0x4511c4(0x17b),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x4511c4(0x2b9)},'description':{'type':a0_0x4511c4(0x2b9)},'image':{'type':a0_0x4511c4(0x2b9)}}},ys={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'inviteCode':{'type':a0_0x4511c4(0x2b9)}},'required':['inviteCode'],...C(a0_0x4511c4(0x6c7))},lr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':'string'},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['url',a0_0x4511c4(0x2e1)]},hc={'$id':(0x0,E['v4'])(),'type':a0_0x4511c4(0x21b),'properties':{'local_map':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x4511c4(0x2da),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x4511c4(0x111),a0_0x4511c4(0x318),a0_0x4511c4(0xda),a0_0x4511c4(0x100),a0_0x4511c4(0x200),a0_0x4511c4(0x3f2),a0_0x4511c4(0x139),a0_0x4511c4(0x2ac),a0_0x4511c4(0x1a3),a0_0x4511c4(0x33f),'PRESENCE_UPDATE',a0_0x4511c4(0x2fe),'CHATS_UPSERT',a0_0x4511c4(0x39b),a0_0x4511c4(0x4cb),a0_0x4511c4(0x19e),a0_0x4511c4(0x71c),a0_0x4511c4(0x335),'GROUP_PARTICIPANTS_UPDATE'],...C(a0_0x4511c4(0x111),a0_0x4511c4(0x318),a0_0x4511c4(0xda),a0_0x4511c4(0x100),a0_0x4511c4(0x200),a0_0x4511c4(0x3f2),a0_0x4511c4(0x139),a0_0x4511c4(0x2ac),'CONTACTS_UPSERT',a0_0x4511c4(0x33f),a0_0x4511c4(0x228),a0_0x4511c4(0x2fe),a0_0x4511c4(0x159),a0_0x4511c4(0x39b),a0_0x4511c4(0x4cb),a0_0x4511c4(0x19e),a0_0x4511c4(0x71c),'GROUPS_UPDATE',a0_0x4511c4(0x227))},et=class{},tt=class extends D{[a0_0x4511c4(0x58e)](_0x2d2ba3){return Ys(_0x2d2ba3);}async[a0_0x4511c4(0x71b)](_0x35e107){const _0x2153a5=a0_0x4511c4;if(_0x35e107['length']!==0x0)try{return{'insertCount':(await this[_0x2153a5(0x58e)](_0x35e107[0x0]['owner'])[_0x2153a5(0x30e)]([..._0x35e107]))[_0x2153a5(0x16d)]};}catch(_0x3c5036){return _0x3c5036;}}async['delete'](_0x205e63,_0x2cbb0d){const _0x5ba29a=a0_0x4511c4;try{return{'deletedCount':(await this[_0x5ba29a(0x58e)](_0x2cbb0d)[_0x5ba29a(0x410)]({..._0x205e63['where']}))['deletedCount']};}catch(_0x1bfeb6){return{'error':_0x1bfeb6?.[_0x5ba29a(0x2eb)]()};}}async['update'](_0x2c3e33,_0xdb5a1a){const _0x12d015=a0_0x4511c4;try{if(_0x2c3e33[_0x12d015(0x16d)]===0x0)return;let _0x77e1e4=this[_0x12d015(0x58e)](_0xdb5a1a),_0x38801d=_0x2c3e33['map'](_0x3e70df=>({'updateOne':{'filter':{'_id':_0x3e70df['_id'],'owner':_0xdb5a1a},'update':{..._0x3e70df}}})),{modifiedCount:_0x53f24f}=await _0x77e1e4[_0x12d015(0x608)](_0x38801d);return{'insertCount':_0x53f24f};}catch{return;}}async[a0_0x4511c4(0x5af)](_0x483d76,_0x35f377){const _0x321654=a0_0x4511c4;try{let _0x45c2a1=this[_0x321654(0x58e)](_0x35f377),_0x1b4fae=A(_0x483d76[_0x321654(0x29b)]);return await _0x45c2a1[_0x321654(0x5af)](_0x1b4fae)[_0x321654(0x706)](_0x483d76?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x4511c4(0x19a)](_0x57f5f7,_0x1084c2){const _0x3d41fe=a0_0x4511c4;try{let _0x5d3f3e=this[_0x3d41fe(0x58e)](_0x1084c2),_0x43a981=A(_0x57f5f7['where']);return await _0x5d3f3e['findOne'](_0x43a981)[_0x3d41fe(0xb3)]();}catch{return null;}}async[a0_0x4511c4(0xae)](_0x4a09a9){const _0x57fcee=a0_0x4511c4;try{return await this[_0x57fcee(0x58e)](_0x4a09a9)[_0x57fcee(0x647)][_0x57fcee(0x5ec)](),{'success':!0x0};}catch(_0xa83871){return console['error'](_0xa83871),{'success':!0x1,'error':_0xa83871};}}},st=require(a0_0x4511c4(0x253)),Ec=require(a0_0x4511c4(0x535)),bs=new v(a0_0x4511c4(0x53e)),V=class{[a0_0x4511c4(0x32f)](_0x4e53de,_0x4b27f6=!0x0){const _0x5ede18=a0_0x4511c4;let _0x485b60='/'+_0x4e53de;return _0x4b27f6&&(_0x485b60+=_0x5ede18(0x5ed)),_0x485b60;}async[a0_0x4511c4(0x60b)](_0x44f070){const _0x30988b=a0_0x4511c4;let {request:_0x6ddd01,schema:_0x2198da,ClassRef:_0x13b84a,execute:_0x269ba6}=_0x44f070,_0x13d832=new _0x13b84a(),_0x363ad7=_0x6ddd01[_0x30988b(0x2a1)],_0x552ef2=_0x6ddd01['params'];_0x6ddd01?.['query']&&Object[_0x30988b(0x41a)](_0x6ddd01['query'])['length']>0x0&&Object[_0x30988b(0x658)](_0x552ef2,_0x6ddd01[_0x30988b(0x728)]),_0x6ddd01[_0x30988b(0x534)][_0x30988b(0x359)](_0x30988b(0x70d))&&Object['assign'](_0x552ef2,_0x363ad7),Object[_0x30988b(0x658)](_0x13d832,_0x363ad7);let _0x347632=_0x2198da?(0x0,st['validate'])(_0x13d832,_0x2198da):{'valid':!0x0,'errors':[]};if(!_0x347632[_0x30988b(0x621)]){let _0x4a4aa6=_0x347632['errors'][_0x30988b(0x4dc)](({property:_0x27834e,stack:_0x388aff,schema:_0x44f11a})=>{const _0x2874df=_0x30988b;let _0x463fd7;return _0x44f11a['description']?_0x463fd7=_0x44f11a['description']:_0x463fd7=_0x388aff['replace'](_0x2874df(0x1b5),''),{'property':_0x27834e[_0x2874df(0x18c)](_0x2874df(0x1b5),''),'message':_0x463fd7};});throw bs['error']([..._0x4a4aa6]),new w(..._0x4a4aa6);}return await _0x269ba6(_0x552ef2,_0x13d832);}async[a0_0x4511c4(0x355)](_0xcc253e){const _0x226740=a0_0x4511c4;let {request:_0x5d0048,ClassRef:_0x51be7e,schema:_0xa39d62,execute:_0x5dd114}=_0xcc253e,_0xef1d7=_0x5d0048[_0x226740(0x728)];if(!_0xef1d7?.[_0x226740(0x716)])throw new w(_0x226740(0xe2),_0x226740(0x250));let _0x26aba5=_0x5d0048[_0x226740(0x352)],_0x408abd=_0x5d0048[_0x226740(0x2a1)],_0x4ef16a=new _0x51be7e();Object['assign'](_0x408abd,_0xef1d7),Object[_0x226740(0x658)](_0x4ef16a,_0x408abd);let _0x292f1a=(0x0,st[_0x226740(0x2de)])(_0x4ef16a,_0xa39d62);if(!_0x292f1a['valid']){let _0x1138fa=_0x292f1a[_0x226740(0x1a4)][_0x226740(0x4dc)](({property:_0x5b6546,stack:_0x267d54,schema:_0x4d877d})=>{const _0x48293c=_0x226740;let _0x3209e7;return _0x4d877d[_0x48293c(0x579)]?_0x3209e7=_0x4d877d[_0x48293c(0x579)]:_0x3209e7=_0x267d54[_0x48293c(0x18c)](_0x48293c(0x1b5),''),{'property':_0x5b6546[_0x48293c(0x18c)](_0x48293c(0x1b5),''),'message':_0x3209e7};});throw bs[_0x226740(0xcd)]([..._0x1138fa]),new w(..._0x1138fa);}return await _0x5dd114(_0x26aba5,_0x4ef16a);}async[a0_0x4511c4(0x423)](_0xf0d95f){const _0xde8058=a0_0x4511c4;let {request:_0x509dba,ClassRef:_0x58d9fb,schema:_0x44f2e2,execute:_0x570064}=_0xf0d95f,_0x2dc982=_0x509dba['body'];if(!_0x2dc982?.[_0xde8058(0x6c7)])throw new w(_0xde8058(0x35d),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x3cf97e=_0x509dba['params'],_0x5100c9=_0x509dba[_0xde8058(0x2a1)],_0x4b3ac7=new _0x58d9fb();Object[_0xde8058(0x658)](_0x5100c9,_0x2dc982),Object[_0xde8058(0x658)](_0x4b3ac7,_0x5100c9);let _0x1c9220=(0x0,st[_0xde8058(0x2de)])(_0x4b3ac7,_0x44f2e2);if(!_0x1c9220['valid']){let _0xc410a5=_0x1c9220[_0xde8058(0x1a4)][_0xde8058(0x4dc)](({property:_0x3c1a2e,stack:_0x5e4cac,schema:_0x5b7e85})=>{const _0x6ab28e=_0xde8058;let _0x4ea404;return _0x5b7e85[_0x6ab28e(0x579)]?_0x4ea404=_0x5b7e85[_0x6ab28e(0x579)]:_0x4ea404=_0x5e4cac[_0x6ab28e(0x18c)](_0x6ab28e(0x1b5),''),{'property':_0x3c1a2e['replace'](_0x6ab28e(0x1b5),''),'message':_0x4ea404};});throw bs[_0xde8058(0xcd)]([..._0xc410a5]),new w(..._0xc410a5);}return await _0x570064(_0x3cf97e,_0x4b3ac7);}},S=class{},Lc=new v(a0_0x4511c4(0x135)),at=class extends V{constructor(..._0x4931fd){const _0x45a3f0=a0_0x4511c4;super(),this[_0x45a3f0(0x336)]=(0x0,ur['Router'])(),this[_0x45a3f0(0x336)][_0x45a3f0(0x26b)](this[_0x45a3f0(0x32f)](_0x45a3f0(0x24e)),..._0x4931fd,async(_0x4c1adb,_0x4d3e38)=>{const _0x555c30=_0x45a3f0;let _0x3e3874=await this['dataValidate']({'request':_0x4c1adb,'schema':er,'ClassRef':Ve,'execute':(_0x371c73,_0x1245df)=>_[_0x555c30(0x24e)](_0x371c73,_0x1245df)});return _0x4d3e38[_0x555c30(0x3d6)](0xc9)[_0x555c30(0x5cd)](_0x3e3874);})[_0x45a3f0(0x26b)](this[_0x45a3f0(0x32f)](_0x45a3f0(0x2e9)),..._0x4931fd,async(_0x305ebc,_0x3c7913)=>{const _0xcaa32c=_0x45a3f0;let _0x3fb644=await this[_0xcaa32c(0x60b)]({'request':_0x305ebc,'schema':Ba,'ClassRef':Be,'execute':(_0x3123d4,_0xebc99f)=>_[_0xcaa32c(0x699)](_0x3123d4,_0xebc99f)});return _0x3c7913['status'](0xc9)[_0xcaa32c(0x5cd)](_0x3fb644);})[_0x45a3f0(0x26b)](this['routerPath'](_0x45a3f0(0x4e3)),..._0x4931fd,async(_0x1fe5cf,_0x41e8a7)=>{const _0x57bee4=_0x45a3f0;let _0x5eab86=await this[_0x57bee4(0x60b)]({'request':_0x1fe5cf,'schema':M,'ClassRef':S,'execute':(_0x130802,_0x349493)=>_[_0x57bee4(0x4e3)](_0x130802,_0x349493)});return _0x41e8a7['status'](0xc9)['json'](_0x5eab86);})[_0x45a3f0(0x2c4)](this[_0x45a3f0(0x32f)](_0x45a3f0(0x73e)),..._0x4931fd,async(_0x139a78,_0x38ede1)=>{const _0x1688a8=_0x45a3f0;let _0x52fb27=await this[_0x1688a8(0x60b)]({'request':_0x139a78,'schema':Ga,'ClassRef':ze,'execute':(_0x5c3093,_0x6d044)=>_['readMessage'](_0x5c3093,_0x6d044)});return _0x38ede1['status'](0xc9)['json'](_0x52fb27);})[_0x45a3f0(0x2c4)](this[_0x45a3f0(0x32f)](_0x45a3f0(0x19b)),..._0x4931fd,async(_0x2c4fc6,_0x5d18ad)=>{const _0x19d0a5=_0x45a3f0;let _0x353a5e=await this[_0x19d0a5(0x60b)]({'request':_0x2c4fc6,'schema':za,'ClassRef':He,'execute':(_0x31f367,_0x147516)=>_[_0x19d0a5(0x19b)](_0x31f367,_0x147516)});return _0x5d18ad['status'](0xc9)[_0x19d0a5(0x5cd)](_0x353a5e);})['delete'](this[_0x45a3f0(0x32f)](_0x45a3f0(0x4d0)),..._0x4931fd,async(_0x58206e,_0xec403f)=>{const _0x52b18a=_0x45a3f0;let _0x12ac90=await this[_0x52b18a(0x60b)]({'request':_0x58206e,'schema':Ha,'ClassRef':Qe,'execute':(_0x56f97f,_0x2c43b7)=>_[_0x52b18a(0x219)](_0x56f97f,_0x2c43b7)});return _0xec403f[_0x52b18a(0x3d6)](0xc9)['json'](_0x12ac90);})[_0x45a3f0(0x26b)](this['routerPath'](_0x45a3f0(0x55b)),..._0x4931fd,async(_0x23705a,_0x39c1c8)=>{const _0x38d5c4=_0x45a3f0;let _0x400572=await this[_0x38d5c4(0x60b)]({'request':_0x23705a,'schema':Ee,'ClassRef':Ce,'execute':(_0x5a1e00,_0xbd25b5)=>_[_0x38d5c4(0x5cc)](_0x5a1e00,_0xbd25b5)});return _0x39c1c8['status'](0xc8)['json'](_0x400572);})[_0x45a3f0(0x26b)](this[_0x45a3f0(0x32f)](_0x45a3f0(0x753)),..._0x4931fd,async(_0x2984dc,_0x25a014)=>{const _0x4b98f1=_0x45a3f0;let _0x2d51c1=await this[_0x4b98f1(0x60b)]({'request':_0x2984dc,'schema':Xa,'ClassRef':Ce,'execute':(_0x3f45ed,_0x8cc1a6)=>_['fetchProfile'](_0x3f45ed,_0x8cc1a6)});return _0x25a014['status'](0xc8)['json'](_0x2d51c1);})[_0x45a3f0(0x26b)](this['routerPath'](_0x45a3f0(0x102)),..._0x4931fd,async(_0x1e0f04,_0x542653)=>{const _0x1215b2=_0x45a3f0;let _0x39d4f2=await this['dataValidate']({'request':_0x1e0f04,'schema':Ka,'ClassRef':et,'execute':(_0x52145c,_0x3682a4)=>_[_0x1215b2(0x63f)](_0x52145c,_0x3682a4)});return _0x542653[_0x1215b2(0x3d6)](0xc8)['json'](_0x39d4f2);})['post'](this[_0x45a3f0(0x32f)](_0x45a3f0(0x427)),..._0x4931fd,async(_0x50c2f5,_0x1f10f1)=>{const _0x280dfa=_0x45a3f0;let _0x138b1f=await this[_0x280dfa(0x60b)]({'request':_0x50c2f5,'schema':null,'ClassRef':Object,'execute':(_0x3c9be0,_0xd3bcf8)=>_[_0x280dfa(0x427)](_0x3c9be0,_0xd3bcf8)});return _0x1f10f1['status'](0xc9)['json'](_0x138b1f);})[_0x45a3f0(0x26b)](this['routerPath'](_0x45a3f0(0x4fd)),..._0x4931fd,async(_0x5329d5,_0x28d399)=>{const _0x126c57=_0x45a3f0;let _0x506788=await this['dataValidate']({'request':_0x5329d5,'schema':Za,'ClassRef':qe,'execute':(_0x4ca72e,_0x80431c)=>_['fetchMessages'](_0x4ca72e,_0x80431c)});return _0x28d399[_0x126c57(0x3d6)](0xc8)[_0x126c57(0x5cd)](_0x506788);})[_0x45a3f0(0x436)](this['routerPath'](_0x45a3f0(0x657)),..._0x4931fd,async(_0xace545,_0x11ae14)=>{const _0x1217f7=_0x45a3f0;let _0x51a753=await this[_0x1217f7(0x60b)]({'request':_0xace545,'schema':null,'ClassRef':S,'execute':_0x51ea37=>_[_0x1217f7(0x5d6)](_0x51ea37)});return _0x11ae14['status'](0xc8)[_0x1217f7(0x5cd)](_0x51a753);})[_0x45a3f0(0x436)](this[_0x45a3f0(0x32f)]('findLabels'),..._0x4931fd,async(_0x2f03f4,_0x16f671)=>{const _0x5b7922=_0x45a3f0;let _0x20e7a6=await this['dataValidate']({'request':_0x2f03f4,'schema':null,'ClassRef':S,'execute':_0x5966f6=>_['fetchLabels'](_0x5966f6)});return _0x16f671[_0x5b7922(0x3d6)](0xc8)['json'](_0x20e7a6);})[_0x45a3f0(0x2c4)](this[_0x45a3f0(0x32f)](_0x45a3f0(0x57a)),..._0x4931fd,async(_0x428d97,_0x42919e)=>{const _0x4df5f9=_0x45a3f0;let _0x3385cd=await this['dataValidate']({'request':_0x428d97,'schema':null,'ClassRef':Array,'execute':(_0x17faa6,_0x5722f4)=>_[_0x4df5f9(0x57a)](_0x17faa6,_0x5722f4)});return _0x42919e[_0x4df5f9(0x3d6)](0xc8)[_0x4df5f9(0x5cd)](_0x3385cd);})[_0x45a3f0(0x436)](this[_0x45a3f0(0x32f)]('fetchPrivacySettings'),..._0x4931fd,async(_0x152a41,_0x11f1b6)=>{const _0x3cd843=_0x45a3f0;let _0x1d2ece=await this[_0x3cd843(0x60b)]({'request':_0x152a41,'schema':null,'ClassRef':S,'execute':_0x3bca0c=>_[_0x3cd843(0x2f7)](_0x3bca0c)});return _0x11f1b6[_0x3cd843(0x3d6)](0xc8)[_0x3cd843(0x5cd)](_0x1d2ece);})[_0x45a3f0(0x2c4)](this['routerPath'](_0x45a3f0(0x523)),..._0x4931fd,async(_0x3554c3,_0x4a673a)=>{const _0x3514c6=_0x45a3f0;let _0x25fa9f=await this[_0x3514c6(0x60b)]({'request':_0x3554c3,'schema':Wa,'ClassRef':Ke,'execute':(_0x38d85b,_0x5873c5)=>_[_0x3514c6(0x523)](_0x38d85b,_0x5873c5)});return _0x4a673a[_0x3514c6(0x3d6)](0xc9)[_0x3514c6(0x5cd)](_0x25fa9f);})[_0x45a3f0(0x26b)](this[_0x45a3f0(0x32f)](_0x45a3f0(0x41e)),..._0x4931fd,async(_0x49bdd0,_0x2f122e)=>{const _0x24eb60=_0x45a3f0;let _0x412c9e=await this[_0x24eb60(0x60b)]({'request':_0x49bdd0,'schema':Ee,'ClassRef':we,'execute':(_0x34bab4,_0x1eb73e)=>_['fetchBusinessProfile'](_0x34bab4,_0x1eb73e)});return _0x2f122e['status'](0xc8)[_0x24eb60(0x5cd)](_0x412c9e);})[_0x45a3f0(0x26b)](this['routerPath'](_0x45a3f0(0x498)),..._0x4931fd,async(_0x430fee,_0x43126a)=>{const _0x2ad3dc=_0x45a3f0;let _0x43c5fb=await this['dataValidate']({'request':_0x430fee,'schema':Qa,'ClassRef':Ge,'execute':(_0x391fb4,_0x119565)=>_['updateProfileName'](_0x391fb4,_0x119565)});return _0x43126a[_0x2ad3dc(0x3d6)](0xc8)[_0x2ad3dc(0x5cd)](_0x43c5fb);})[_0x45a3f0(0x26b)](this['routerPath']('updateProfileStatus'),..._0x4931fd,async(_0x2cc58b,_0x2be91c)=>{const _0x18a599=_0x45a3f0;let _0x447d75=await this['dataValidate']({'request':_0x2cc58b,'schema':Ya,'ClassRef':We,'execute':(_0x526e74,_0x2ee461)=>_[_0x18a599(0x346)](_0x526e74,_0x2ee461)});return _0x2be91c[_0x18a599(0x3d6)](0xc8)[_0x18a599(0x5cd)](_0x447d75);})['put'](this[_0x45a3f0(0x32f)](_0x45a3f0(0x59f)),..._0x4931fd,async(_0x325a6d,_0x16e05b)=>{const _0x5cc80f=_0x45a3f0;let _0x794fa5=await this[_0x5cc80f(0x60b)]({'request':_0x325a6d,'schema':Ee,'ClassRef':we,'execute':(_0xa3474f,_0x3fb852)=>_[_0x5cc80f(0x59f)](_0xa3474f,_0x3fb852)});return _0x16e05b[_0x5cc80f(0x3d6)](0xc8)[_0x5cc80f(0x5cd)](_0x794fa5);})[_0x45a3f0(0x44d)](this[_0x45a3f0(0x32f)]('removeProfilePicture'),..._0x4931fd,async(_0x588eba,_0x52f79e)=>{const _0x23bbe5=_0x45a3f0;let _0x49d2ab=await this[_0x23bbe5(0x60b)]({'request':_0x588eba,'schema':Ee,'ClassRef':we,'execute':(_0x40017a,_0x845982)=>_[_0x23bbe5(0x425)](_0x40017a,_0x845982)});return _0x52f79e[_0x23bbe5(0x3d6)](0xc8)[_0x23bbe5(0x5cd)](_0x49d2ab);});}},dr=require('express'),rt=class{},it=class{},ot=class{},nt=class{},ct=class{},lt=class{},Y=class{},ve=class{},ut=class extends Y{},dt=class extends Y{},pt=class extends V{constructor(..._0x474743){const _0x24a06c=a0_0x4511c4;super(),this['router']=(0x0,dr[_0x24a06c(0x68e)])(),this['router'][_0x24a06c(0x26b)](this[_0x24a06c(0x32f)]('create'),..._0x474743,async(_0x52f87e,_0x5b66cb)=>{const _0x57783f=_0x24a06c;let _0x1c147a=await this[_0x57783f(0x60b)]({'request':_0x52f87e,'schema':tr,'ClassRef':rt,'execute':(_0x98e6eb,_0x3add44)=>j[_0x57783f(0x4f2)](_0x98e6eb,_0x3add44)});_0x5b66cb[_0x57783f(0x3d6)](0xc9)[_0x57783f(0x5cd)](_0x1c147a);})[_0x24a06c(0x2c4)](this[_0x24a06c(0x32f)](_0x24a06c(0x5ee)),..._0x474743,async(_0x4ca85b,_0x1271ce)=>{const _0x41db3d=_0x24a06c;let _0x4a8c36=await this['groupValidate']({'request':_0x4ca85b,'schema':rr,'ClassRef':it,'execute':(_0x3009c7,_0x23be92)=>j[_0x41db3d(0x5ee)](_0x3009c7,_0x23be92)});_0x1271ce[_0x41db3d(0x3d6)](0xc9)[_0x41db3d(0x5cd)](_0x4a8c36);})[_0x24a06c(0x2c4)](this[_0x24a06c(0x32f)]('groupDesc'),..._0x474743,async(_0x5855d4,_0x3fed98)=>{const _0x42f538=_0x24a06c;let _0x5e714c=await this[_0x42f538(0x355)]({'request':_0x5855d4,'schema':ir,'ClassRef':ot,'execute':(_0x5646f1,_0x1c5ebf)=>j[_0x42f538(0x5bc)](_0x5646f1,_0x1c5ebf)});_0x3fed98[_0x42f538(0x3d6)](0xc9)[_0x42f538(0x5cd)](_0x5e714c);})[_0x24a06c(0x2c4)](this[_0x24a06c(0x32f)]('groupName'),..._0x474743,async(_0x42f43e,_0x3dff39)=>{const _0xf226de=_0x24a06c;let _0x206757=await this[_0xf226de(0x355)]({'request':_0x42f43e,'schema':or,'ClassRef':nt,'execute':(_0x41c9d0,_0x52524f)=>j[_0xf226de(0x576)](_0x41c9d0,_0x52524f)});_0x3dff39[_0xf226de(0x3d6)](0xc9)[_0xf226de(0x5cd)](_0x206757);})[_0x24a06c(0x2c4)](this[_0x24a06c(0x32f)](_0x24a06c(0x552)),..._0x474743,async(_0x51da0e,_0x24db45)=>{const _0x5b25a9=_0x24a06c;let _0x5c42b9=await this[_0x5b25a9(0x355)]({'request':_0x51da0e,'schema':cr,'ClassRef':lt,'execute':(_0x12f9b2,_0x509d0f)=>j['groupBetterSetting'](_0x12f9b2,_0x509d0f)});_0x24db45[_0x5b25a9(0x3d6)](0xc9)[_0x5b25a9(0x5cd)](_0x5c42b9);})[_0x24a06c(0x2c4)](this[_0x24a06c(0x32f)](_0x24a06c(0x6f6)),..._0x474743,async(_0x337dac,_0x116cf9)=>{const _0x1da3a9=_0x24a06c;let _0x42dbeb=await this['groupValidate']({'request':_0x337dac,'schema':nr,'ClassRef':ct,'execute':(_0x3edc4b,_0x1939f5)=>j[_0x1da3a9(0x6f6)](_0x3edc4b,_0x1939f5)});_0x116cf9['status'](0xc9)[_0x1da3a9(0x5cd)](_0x42dbeb);})[_0x24a06c(0x2c4)](this[_0x24a06c(0x32f)](_0x24a06c(0x174)),..._0x474743,async(_0x45ea56,_0x41c60a)=>{const _0x31295b=_0x24a06c;let _0x1d91be=await this[_0x31295b(0x355)]({'request':_0x45ea56,'schema':ar,'ClassRef':dt,'execute':(_0x490908,_0x183ac9)=>j[_0x31295b(0x174)](_0x490908,_0x183ac9)});_0x41c60a['status'](0xc9)[_0x31295b(0x5cd)](_0x1d91be);})['get'](this[_0x24a06c(0x32f)](_0x24a06c(0x475)),..._0x474743,async(_0x5e4917,_0x5e9992)=>{const _0x53a258=_0x24a06c;let _0x1f5467=await this[_0x53a258(0x355)]({'request':_0x5e4917,'schema':Me,'ClassRef':Y,'execute':(_0x243fd6,_0x58483f)=>j[_0x53a258(0x47e)](_0x243fd6,_0x58483f)});_0x5e9992[_0x53a258(0x3d6)](0xc8)['json'](_0x1f5467);})[_0x24a06c(0x436)](this[_0x24a06c(0x32f)](_0x24a06c(0x1aa)),..._0x474743,async(_0x116348,_0x45ece7)=>{const _0x19af59=_0x24a06c;let _0x5988ff=await this[_0x19af59(0x60b)]({'request':_0x116348,'schema':M,'ClassRef':S,'execute':_0x47b534=>j[_0x19af59(0x1aa)](_0x47b534)});_0x45ece7[_0x19af59(0x3d6)](0xc8)[_0x19af59(0x5cd)](_0x5988ff);})[_0x24a06c(0x436)](this[_0x24a06c(0x32f)](_0x24a06c(0x730)),..._0x474743,async(_0x54a99a,_0x2602c0)=>{const _0x1c1946=_0x24a06c;let _0x2475a9=await this[_0x1c1946(0x355)]({'request':_0x54a99a,'schema':Me,'ClassRef':Y,'execute':(_0x22980f,_0x5de61a)=>j['findParticipants'](_0x22980f,_0x5de61a)});_0x2602c0[_0x1c1946(0x3d6)](0xc8)['json'](_0x2475a9);})[_0x24a06c(0x436)](this[_0x24a06c(0x32f)](_0x24a06c(0x6c7)),..._0x474743,async(_0x38aeda,_0x3234fe)=>{const _0x43d879=_0x24a06c;let _0x4b4db4=await this[_0x43d879(0x355)]({'request':_0x38aeda,'schema':Me,'ClassRef':Y,'execute':(_0x30fd5f,_0x89f7e4)=>j[_0x43d879(0x6c7)](_0x30fd5f,_0x89f7e4)});_0x3234fe[_0x43d879(0x3d6)](0xc8)['json'](_0x4b4db4);})[_0x24a06c(0x26b)](this[_0x24a06c(0x32f)]('inviteCodeDetails'),..._0x474743,async(_0x634ed1,_0x592c7b)=>{const _0x16f47e=_0x24a06c;let _0x379aec=await this[_0x16f47e(0x423)]({'request':_0x634ed1,'schema':ys,'ClassRef':ve,'execute':(_0x5e97a1,_0x380379)=>j[_0x16f47e(0x10a)](_0x5e97a1,_0x380379)});_0x592c7b[_0x16f47e(0x3d6)](0xc9)['json'](_0x379aec);})[_0x24a06c(0x2c4)](this[_0x24a06c(0x32f)](_0x24a06c(0x5fe)),..._0x474743,async(_0x526f5b,_0x29fafe)=>{const _0x2783e7=_0x24a06c;let _0xa0e1d4=await this[_0x2783e7(0x423)]({'request':_0x526f5b,'schema':ys,'ClassRef':ve,'execute':(_0x1911e7,_0x225ebb)=>j['joinGroup'](_0x1911e7,_0x225ebb)});_0x29fafe[_0x2783e7(0x3d6)](0xc9)[_0x2783e7(0x5cd)](_0xa0e1d4);})['put'](this[_0x24a06c(0x32f)](_0x24a06c(0x310)),..._0x474743,async(_0x1fe7a7,_0x45868f)=>{const _0x474e53=_0x24a06c;let _0x5b86c3=await this['groupValidate']({'request':_0x1fe7a7,'schema':Me,'ClassRef':Y,'execute':(_0x3570f5,_0x4fac5f)=>j[_0x474e53(0x310)](_0x3570f5,_0x4fac5f)});_0x45868f['status'](0xc9)[_0x474e53(0x5cd)](_0x5b86c3);})['put'](this['routerPath'](_0x24a06c(0x244)),..._0x474743,async(_0x1ce6a7,_0x10a97d)=>{const _0x266518=_0x24a06c;let _0x2825e1=await this[_0x266518(0x355)]({'request':_0x1ce6a7,'schema':sr,'ClassRef':ut,'execute':(_0x3ae52b,_0x455c84)=>j[_0x266518(0x47d)](_0x3ae52b,_0x455c84)});_0x10a97d['status'](0xc9)[_0x266518(0x5cd)](_0x2825e1);})['delete'](this[_0x24a06c(0x32f)](_0x24a06c(0x29e)),..._0x474743,async(_0x3d6e51,_0x390bd2)=>{const _0x4a5352=_0x24a06c;let _0x311298=await this[_0x4a5352(0x355)]({'request':_0x3d6e51,'schema':{},'ClassRef':Y,'execute':(_0x24163a,_0x426447)=>j[_0x4a5352(0x29e)](_0x24163a,_0x426447)});_0x390bd2[_0x4a5352(0x3d6)](0xc8)[_0x4a5352(0x5cd)](_0x311298);});}},pr=require(a0_0x4511c4(0x5ef)),ht=class extends V{constructor(_0x554e88,..._0x4c4b51){const _0xe8a9d=a0_0x4511c4;super(),this[_0xe8a9d(0x626)]=_0x554e88,this[_0xe8a9d(0x336)]=(0x0,pr[_0xe8a9d(0x68e)])();let _0x28d7fc=_0x554e88[_0xe8a9d(0x436)](_0xe8a9d(0x2b5));this[_0xe8a9d(0x336)][_0xe8a9d(0x26b)](_0xe8a9d(0x3ad),..._0x4c4b51,async(_0x32160a,_0x2c09a4)=>{const _0x483c5a=_0xe8a9d;let {instanceName:_0x9710d3,apikey:_0x1645fd,number:_0x4ba016}=_0x32160a[_0x483c5a(0x2a1)],_0x16e2c5=await oe[_0x483c5a(0x569)]({'instanceName':_0x9710d3,'apikey':_0x1645fd,'number':_0x4ba016});return _0x2c09a4[_0x483c5a(0x3d6)](0xc9)[_0x483c5a(0x5cd)](_0x16e2c5);})[_0xe8a9d(0x2c4)](this['routerPath']('restart'),..._0x4c4b51,async(_0x4840c2,_0xaccfc)=>{const _0x581974=_0xe8a9d;let _0x4891fa=await this[_0x581974(0x60b)]({'request':_0x4840c2,'schema':M,'ClassRef':S,'execute':_0x3b186c=>oe[_0x581974(0x1f4)](_0x3b186c)});return _0xaccfc['status'](0xc8)[_0x581974(0x5cd)](_0x4891fa);})['get'](this['routerPath'](_0xe8a9d(0xe6)),..._0x4c4b51,async(_0x42f794,_0x351a0b)=>{const _0x2e536b=_0xe8a9d;let _0x2dfb0c=await this[_0x2e536b(0x60b)]({'request':_0x42f794,'schema':M,'ClassRef':S,'execute':_0x529380=>oe['connectToWhatsappController'](_0x529380)});return _0x351a0b[_0x2e536b(0x3d6)](0xc8)['json'](_0x2dfb0c);})[_0xe8a9d(0x436)](this['routerPath'](_0xe8a9d(0x201)),..._0x4c4b51,async(_0x11f98d,_0x7ada79)=>{const _0x511f62=_0xe8a9d;let _0x23de1d=await this[_0x511f62(0x60b)]({'request':_0x11f98d,'schema':M,'ClassRef':S,'execute':_0x31894f=>oe['connectionState'](_0x31894f)});return _0x7ada79[_0x511f62(0x3d6)](0xc8)[_0x511f62(0x5cd)](_0x23de1d);})['get'](this[_0xe8a9d(0x32f)](_0xe8a9d(0x443),!0x1),..._0x4c4b51,async(_0x2267f1,_0x2989e7)=>{const _0x320a88=_0xe8a9d;let _0x4aab61=await this[_0x320a88(0x60b)]({'request':_0x2267f1,'schema':null,'ClassRef':S,'execute':_0x1984a4=>oe[_0x320a88(0x443)](_0x1984a4)});return _0x2989e7[_0x320a88(0x3d6)](0xc8)['json'](_0x4aab61);})[_0xe8a9d(0x44d)](this['routerPath'](_0xe8a9d(0x581)),..._0x4c4b51,async(_0x252daa,_0x18e24d)=>{const _0x28536b=_0xe8a9d;let _0x38300e=await this['dataValidate']({'request':_0x252daa,'schema':M,'ClassRef':S,'execute':_0x5cadcc=>oe[_0x28536b(0x581)](_0x5cadcc)});return _0x18e24d[_0x28536b(0x3d6)](0xc8)[_0x28536b(0x5cd)](_0x38300e);})[_0xe8a9d(0x44d)](this['routerPath'](_0xe8a9d(0x44d)),..._0x4c4b51,async(_0xd48b39,_0x2a2a9b)=>{const _0x15910b=_0xe8a9d;let _0x23ac6c=await this[_0x15910b(0x60b)]({'request':_0xd48b39,'schema':M,'ClassRef':S,'execute':_0x441003=>oe[_0x15910b(0x469)](_0x441003)});return _0x2a2a9b[_0x15910b(0x3d6)](0xc8)['json'](_0x23ac6c);});}},hr=require(a0_0x4511c4(0x5ef)),Ss=class{},W=class extends Ss{},gt=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},Ne=class extends W{},yt=class extends W{},bt=class extends W{},St=class extends W{},Ct=class extends W{},Et=class extends W{},Mt=class{},vt=class extends V{constructor(..._0x3aef8d){const _0x2e6503=a0_0x4511c4;super(),this['router']=(0x0,hr[_0x2e6503(0x68e)])(),this[_0x2e6503(0x336)]['post'](this[_0x2e6503(0x32f)](_0x2e6503(0x479)),..._0x3aef8d,async(_0x4220b0,_0x4edb5c)=>{const _0x213534=_0x2e6503;let _0x593b53=await this[_0x213534(0x60b)]({'request':_0x4220b0,'schema':xa,'ClassRef':gt,'execute':(_0x5ce640,_0x4c4b7d)=>G[_0x213534(0x479)](_0x5ce640,_0x4c4b7d)});return _0x4edb5c['status'](0xc9)[_0x213534(0x5cd)](_0x593b53);})[_0x2e6503(0x26b)](this[_0x2e6503(0x32f)](_0x2e6503(0x692)),..._0x3aef8d,async(_0x57a597,_0x4fd4ac)=>{const _0x482003=_0x2e6503;let _0x11019c=await this[_0x482003(0x60b)]({'request':_0x57a597,'schema':$a,'ClassRef':Ne,'execute':(_0x511dd5,_0x2636d6)=>G[_0x482003(0x692)](_0x511dd5,_0x2636d6)});return _0x4fd4ac['status'](0xc9)['json'](_0x11019c);})['post'](this[_0x2e6503(0x32f)](_0x2e6503(0x6b5)),..._0x3aef8d,async(_0x3649b1,_0x7e260d)=>{const _0x425b85=_0x2e6503;let _0x3fe444=await this['dataValidate']({'request':_0x3649b1,'schema':ja,'ClassRef':wt,'execute':(_0x3b290d,_0x57fc30)=>G[_0x425b85(0x6b5)](_0x3b290d,_0x57fc30)});return _0x7e260d[_0x425b85(0x3d6)](0xc9)[_0x425b85(0x5cd)](_0x3fe444);})[_0x2e6503(0x26b)](this[_0x2e6503(0x32f)]('sendWhatsAppAudio'),..._0x3aef8d,async(_0x3fd26c,_0x1d225b)=>{const _0x9ea85d=_0x2e6503;let _0x5a9abd=await this[_0x9ea85d(0x60b)]({'request':_0x3fd26c,'schema':ka,'ClassRef':Ne,'execute':(_0x483ea9,_0xa68d6e)=>G[_0x9ea85d(0x4ee)](_0x483ea9,_0xa68d6e)});return _0x1d225b[_0x9ea85d(0x3d6)](0xc9)[_0x9ea85d(0x5cd)](_0x5a9abd);})[_0x2e6503(0x26b)](this['routerPath'](_0x2e6503(0x5b1)),..._0x3aef8d,async(_0x3b7969,_0x39dcb0)=>{const _0xf1e51e=_0x2e6503;let _0x2d97db=await this['dataValidate']({'request':_0x3b7969,'schema':Fa,'ClassRef':bt,'execute':(_0x464a08,_0x37afdf)=>G[_0xf1e51e(0x5b1)](_0x464a08,_0x37afdf)});return _0x39dcb0['status'](0xc9)[_0xf1e51e(0x5cd)](_0x2d97db);})['post'](this[_0x2e6503(0x32f)](_0x2e6503(0x74d)),..._0x3aef8d,async(_0x2fbe2d,_0x528028)=>{const _0x478151=_0x2e6503;let _0x4838c2=await this[_0x478151(0x60b)]({'request':_0x2fbe2d,'schema':Ua,'ClassRef':St,'execute':(_0x4353dd,_0x44da72)=>G[_0x478151(0x74d)](_0x4353dd,_0x44da72)});return _0x528028[_0x478151(0x3d6)](0xc9)[_0x478151(0x5cd)](_0x4838c2);})[_0x2e6503(0x26b)](this[_0x2e6503(0x32f)](_0x2e6503(0x362)),..._0x3aef8d,async(_0x186cb8,_0x2d8f2d)=>{const _0x15b4aa=_0x2e6503;let _0x3ee429=await this[_0x15b4aa(0x60b)]({'request':_0x186cb8,'schema':qa,'ClassRef':Ct,'execute':(_0x533ad1,_0x273bb2)=>G[_0x15b4aa(0x362)](_0x533ad1,_0x273bb2)});return _0x2d8f2d[_0x15b4aa(0x3d6)](0xc9)[_0x15b4aa(0x5cd)](_0x3ee429);})[_0x2e6503(0x26b)](this[_0x2e6503(0x32f)]('sendContact'),..._0x3aef8d,async(_0x1d2e21,_0x1eff1f)=>{const _0xb53942=_0x2e6503;let _0x1485b7=await this[_0xb53942(0x60b)]({'request':_0x1d2e21,'schema':Ja,'ClassRef':Et,'execute':(_0x5c13df,_0x3c4a26)=>G[_0xb53942(0x672)](_0x5c13df,_0x3c4a26)});return _0x1eff1f[_0xb53942(0x3d6)](0xc9)[_0xb53942(0x5cd)](_0x1485b7);})[_0x2e6503(0x26b)](this['routerPath'](_0x2e6503(0x67c)),..._0x3aef8d,async(_0x4d425a,_0x371bc7)=>{const _0xfd8bdc=_0x2e6503;let _0x149154=await this['dataValidate']({'request':_0x4d425a,'schema':Va,'ClassRef':Mt,'execute':(_0x1589c1,_0x1f7fa7)=>G['sendReaction'](_0x1589c1,_0x1f7fa7)});return _0x371bc7[_0xfd8bdc(0x3d6)](0xc9)['json'](_0x149154);})[_0x2e6503(0x26b)](this[_0x2e6503(0x32f)](_0x2e6503(0x409)),..._0x3aef8d,async(_0x5c21d2,_0x50e302)=>{const _0x4d0733=_0x2e6503;let _0x3e43c7=await this[_0x4d0733(0x60b)]({'request':_0x5c21d2,'schema':La,'ClassRef':ft,'execute':(_0x2a6b15,_0x3ee33c)=>G['sendPoll'](_0x2a6b15,_0x3ee33c)});return _0x50e302['status'](0xc9)[_0x4d0733(0x5cd)](_0x3e43c7);})[_0x2e6503(0x26b)](this[_0x2e6503(0x32f)](_0x2e6503(0x34c)),..._0x3aef8d,async(_0x1879dd,_0xed3205)=>{const _0x3e878f=_0x2e6503;let _0x46d0ac=await this[_0x3e878f(0x60b)]({'request':_0x1879dd,'schema':Pa,'ClassRef':mt,'execute':(_0x5b900b,_0x3f8d97)=>G['sendStatus'](_0x5b900b,_0x3f8d97)});return _0xed3205[_0x3e878f(0x3d6)](0xc9)[_0x3e878f(0x5cd)](_0x46d0ac);})['post'](this[_0x2e6503(0x32f)](_0x2e6503(0x4bc)),..._0x3aef8d,async(_0x43a8b8,_0x30ba0d)=>{const _0x2af107=_0x2e6503;let _0x2ff34e=await this[_0x2af107(0x60b)]({'request':_0x43a8b8,'schema':_a,'ClassRef':yt,'execute':(_0x1a4d9e,_0x5e3261)=>G[_0x2af107(0x4bc)](_0x1a4d9e,_0x5e3261)});return _0x30ba0d[_0x2af107(0x3d6)](0xc9)[_0x2af107(0x5cd)](_0x2ff34e);});}},gr=require('express'),Nt=class{},Rt=class extends V{constructor(..._0x4373d4){const _0x3fe736=a0_0x4511c4;super(),this[_0x3fe736(0x336)]=(0x0,gr[_0x3fe736(0x68e)])(),this[_0x3fe736(0x336)][_0x3fe736(0x26b)](this[_0x3fe736(0x32f)]('set'),..._0x4373d4,async(_0xd03f55,_0x2bee24)=>{const _0x5eea71=_0x3fe736;let _0x276f06=await this[_0x5eea71(0x60b)]({'request':_0xd03f55,'schema':lr,'ClassRef':Nt,'execute':(_0x2b34d4,_0x15268f)=>Cs['createWebhook'](_0x2b34d4,_0x15268f)});_0x2bee24[_0x5eea71(0x3d6)](0xc9)[_0x5eea71(0x5cd)](_0x276f06);})[_0x3fe736(0x436)](this[_0x3fe736(0x32f)](_0x3fe736(0x5af)),..._0x4373d4,async(_0x3c9020,_0x259c87)=>{const _0x414a21=_0x3fe736;let _0x12058f=await this[_0x414a21(0x60b)]({'request':_0x3c9020,'schema':M,'ClassRef':S,'execute':_0x28dbaf=>Cs[_0x414a21(0x59b)](_0x28dbaf)});_0x259c87[_0x414a21(0x3d6)](0xc8)['json'](_0x12058f);});}},mr=require('express'),y=new v(a0_0x4511c4(0x2bc)),Tt=class extends V{constructor(..._0x3b23cb){const _0x472a84=a0_0x4511c4;super(),this['router']=(0x0,mr['Router'])(),this[_0x472a84(0x336)][_0x472a84(0x26b)](this[_0x472a84(0x32f)]('scheduleMessage'),..._0x3b23cb,async(_0x450480,_0x26d349)=>{const _0x28b0d1=_0x472a84;let _0x352299=_0x450480[_0x28b0d1(0x2a1)];y[_0x28b0d1(0x1a7)](_0x28b0d1(0x252)),y[_0x28b0d1(0x1a7)]('request\x20body:\x20'),y[_0x28b0d1(0x1a7)](_0x450480[_0x28b0d1(0x2a1)]);let _0x77ee38=await this[_0x28b0d1(0x60b)]({'request':_0x450480,'schema':M,'ClassRef':S,'execute':_0x204dba=>I[_0x28b0d1(0xd2)](_0x204dba,_0x352299)});_0x26d349[_0x28b0d1(0x3d6)](0xc8)[_0x28b0d1(0x5cd)](_0x77ee38);})[_0x472a84(0x436)](this[_0x472a84(0x32f)](_0x472a84(0x110)),..._0x3b23cb,async(_0x6525ff,_0x2e989e)=>{const _0x5add31=_0x472a84;let _0x2d27dc=await this[_0x5add31(0x60b)]({'request':_0x6525ff,'schema':M,'ClassRef':S,'execute':_0x4c1ee4=>I[_0x5add31(0x4e6)](_0x4c1ee4)});_0x2e989e['status'](0xc8)['json'](_0x2d27dc);})['delete'](this[_0x472a84(0x32f)](_0x472a84(0x222)),..._0x3b23cb,async(_0x522eea,_0x418547)=>{const _0x2d2eae=_0x472a84;y['verbose']('request\x20received\x20in\x20deleteDoneMessages');let _0x40177e=await this[_0x2d2eae(0x60b)]({'request':_0x522eea,'schema':M,'ClassRef':S,'execute':_0x42d567=>I['deleteDoneMessages'](_0x42d567)});_0x418547[_0x2d2eae(0x3d6)](0xc8)[_0x2d2eae(0x5cd)](_0x40177e);})[_0x472a84(0x26b)](this['routerPath'](_0x472a84(0x10f)),..._0x3b23cb,async(_0x1fa15d,_0x51a6d1)=>{const _0x576525=_0x472a84;let _0x4d3b61=_0x1fa15d[_0x576525(0x2a1)];y[_0x576525(0x1a7)](_0x576525(0x4f9)),y['verbose'](_0x576525(0x39f)),y[_0x576525(0x1a7)](_0x1fa15d[_0x576525(0x2a1)]);let _0x120b63=await this[_0x576525(0x60b)]({'request':_0x1fa15d,'schema':M,'ClassRef':S,'execute':_0x1d1d61=>I[_0x576525(0x10f)](_0x1d1d61,_0x4d3b61)});_0x51a6d1[_0x576525(0x3d6)](0xc8)[_0x576525(0x5cd)](_0x120b63);})[_0x472a84(0x436)](this[_0x472a84(0x32f)](_0x472a84(0x686)),..._0x3b23cb,async(_0x35cfb5,_0x1fd1b8)=>{const _0x3075d7=_0x472a84;y['verbose'](_0x3075d7(0x407));let _0x1a65c0=await this[_0x3075d7(0x60b)]({'request':_0x35cfb5,'schema':M,'ClassRef':S,'execute':_0x2b62a7=>I[_0x3075d7(0x686)](_0x2b62a7)});_0x1fd1b8['status'](0xc8)['json'](_0x1a65c0);})[_0x472a84(0x436)](this[_0x472a84(0x32f)](_0x472a84(0x68f)),..._0x3b23cb,async(_0x53b482,_0x1d245f)=>{const _0x89efc2=_0x472a84;y[_0x89efc2(0x1a7)](_0x89efc2(0x4ab));let _0x5f21dd=await this[_0x89efc2(0x60b)]({'request':_0x53b482,'schema':M,'ClassRef':S,'execute':_0x545ebd=>I[_0x89efc2(0x686)](_0x545ebd)});_0x1d245f[_0x89efc2(0x3d6)](0xc8)['json'](_0x5f21dd);})[_0x472a84(0x26b)](this[_0x472a84(0x32f)]('updateAgent'),..._0x3b23cb,async(_0x1fd294,_0x59580c)=>{const _0x210e7c=_0x472a84;let _0x1266f5=_0x1fd294[_0x210e7c(0x2a1)];y[_0x210e7c(0x1a7)]('request\x20received\x20in\x20updateAgent'),y[_0x210e7c(0x1a7)](_0x210e7c(0x39f)),y[_0x210e7c(0x1a7)](_0x1fd294[_0x210e7c(0x2a1)]);let _0x3744ae=await this['dataValidate']({'request':_0x1fd294,'schema':M,'ClassRef':S,'execute':_0x3728b5=>I[_0x210e7c(0x258)](_0x3728b5,_0x1266f5)});_0x59580c[_0x210e7c(0x3d6)](0xc8)[_0x210e7c(0x5cd)](_0x3744ae);})[_0x472a84(0x26b)](this['routerPath'](_0x472a84(0x23d)),..._0x3b23cb,async(_0x2649f1,_0x390744)=>{const _0x2e5b68=_0x472a84;let _0x392d71=_0x2649f1[_0x2e5b68(0x2a1)];y[_0x2e5b68(0x1a7)](_0x2e5b68(0x561)),y[_0x2e5b68(0x1a7)]('request\x20body:\x20'),y[_0x2e5b68(0x1a7)](_0x2649f1[_0x2e5b68(0x2a1)]);let _0x39bbd5=await this['dataValidate']({'request':_0x2649f1,'schema':M,'ClassRef':S,'execute':_0x14ac4f=>I[_0x2e5b68(0x23d)](_0x14ac4f,_0x392d71)});_0x390744[_0x2e5b68(0x3d6)](0xc8)[_0x2e5b68(0x5cd)](_0x39bbd5);})[_0x472a84(0x26b)](this[_0x472a84(0x32f)]('updateFlowConfig'),..._0x3b23cb,async(_0x187197,_0x36cd76)=>{const _0x496da0=_0x472a84;let _0x1ba67b=_0x187197[_0x496da0(0x2a1)];y[_0x496da0(0x1a7)](_0x496da0(0x476)),y['verbose'](_0x496da0(0x39f)),y[_0x496da0(0x1a7)](_0x187197[_0x496da0(0x2a1)]);let _0x4cce62=await this[_0x496da0(0x60b)]({'request':_0x187197,'schema':M,'ClassRef':S,'execute':_0x3a64f9=>I[_0x496da0(0x72b)](_0x3a64f9,_0x1ba67b)});_0x36cd76[_0x496da0(0x3d6)](0xc8)[_0x496da0(0x5cd)](_0x4cce62);})[_0x472a84(0x26b)](this[_0x472a84(0x32f)](_0x472a84(0x515)),..._0x3b23cb,async(_0x36142d,_0x3ed09c)=>{const _0x496b93=_0x472a84;let _0x5e9766=_0x36142d[_0x496b93(0x2a1)];y[_0x496b93(0x1a7)](_0x496b93(0x452)),y['verbose'](_0x496b93(0x39f)),y[_0x496b93(0x1a7)](_0x36142d[_0x496b93(0x2a1)]);let _0x32252c=await this['dataValidate']({'request':_0x36142d,'schema':M,'ClassRef':S,'execute':_0x379cc7=>I[_0x496b93(0x515)](_0x379cc7,_0x5e9766)});_0x3ed09c['status'](0xc8)[_0x496b93(0x5cd)](_0x32252c);})[_0x472a84(0x26b)](this['routerPath'](_0x472a84(0x1b0)),..._0x3b23cb,async(_0x1bd6e1,_0x17d04a)=>{const _0x37ada8=_0x472a84;let _0x3cb4e9=_0x1bd6e1['body'];y[_0x37ada8(0x1a7)](_0x37ada8(0x5f8)),y[_0x37ada8(0x1a7)](_0x37ada8(0x39f)),y[_0x37ada8(0x1a7)](_0x1bd6e1[_0x37ada8(0x2a1)]);let _0x1e7c3f=await this[_0x37ada8(0x60b)]({'request':_0x1bd6e1,'schema':M,'ClassRef':S,'execute':_0x5dec69=>I[_0x37ada8(0x1b0)](_0x5dec69,_0x3cb4e9)});_0x17d04a['status'](0xc8)[_0x37ada8(0x5cd)](_0x1e7c3f);})['post'](this[_0x472a84(0x32f)](_0x472a84(0x67d)),..._0x3b23cb,async(_0x107228,_0x5b4a39)=>{const _0x4b83b9=_0x472a84;let _0xc49fc2=_0x107228['body'];y[_0x4b83b9(0x1a7)]('request\x20received\x20in\x20editConversation'),y['verbose'](_0x4b83b9(0x39f)),y['verbose'](_0x107228[_0x4b83b9(0x2a1)]);let _0x51af48=await this['dataValidate']({'request':_0x107228,'schema':M,'ClassRef':S,'execute':_0x3540e7=>I[_0x4b83b9(0x67d)](_0x3540e7,_0xc49fc2)});_0x5b4a39[_0x4b83b9(0x3d6)](0xc8)[_0x4b83b9(0x5cd)](_0x51af48);})[_0x472a84(0x44d)](this[_0x472a84(0x32f)]('deleteConversation'),..._0x3b23cb,async(_0x4dbe76,_0x2b1239)=>{const _0x166b8a=_0x472a84;let _0x1e7321=_0x4dbe76['body'];y[_0x166b8a(0x1a7)](_0x166b8a(0x351)),y[_0x166b8a(0x1a7)](_0x166b8a(0x39f)),y[_0x166b8a(0x1a7)](_0x4dbe76[_0x166b8a(0x2a1)]);let _0x2241ae=await this[_0x166b8a(0x60b)]({'request':_0x4dbe76,'schema':M,'ClassRef':S,'execute':_0x299c8b=>I[_0x166b8a(0x5c2)](_0x299c8b,_0x1e7321)});_0x2b1239[_0x166b8a(0x3d6)](0xc8)[_0x166b8a(0x5cd)](_0x2241ae);})['post'](this[_0x472a84(0x32f)](_0x472a84(0x327)),..._0x3b23cb,async(_0x2ccaf4,_0x3b5c7c)=>{const _0x121573=_0x472a84;let _0x3ec2af=_0x2ccaf4['body'];y[_0x121573(0x1a7)](_0x121573(0x455)),y['verbose']('request\x20body:\x20'),y[_0x121573(0x1a7)](_0x2ccaf4[_0x121573(0x2a1)]);let _0x280a19=await this[_0x121573(0x60b)]({'request':_0x2ccaf4,'schema':M,'ClassRef':S,'execute':_0x16c5d1=>I[_0x121573(0x69e)](_0x16c5d1,_0x3ec2af)});_0x3b5c7c['status'](0xc8)[_0x121573(0x5cd)](_0x280a19);})[_0x472a84(0x26b)](this[_0x472a84(0x32f)](_0x472a84(0x585)),..._0x3b23cb,async(_0x523b4e,_0x120cc4)=>{const _0x402b61=_0x472a84;let _0x53dc8f=_0x523b4e['body'];y[_0x402b61(0x1a7)]('request\x20received\x20in\x20editFlow'),y[_0x402b61(0x1a7)](_0x402b61(0x39f)),y[_0x402b61(0x1a7)](_0x523b4e['body']),delete _0x53dc8f[_0x402b61(0x46e)],delete _0x53dc8f[_0x402b61(0x15b)],delete _0x53dc8f[_0x402b61(0x2b6)],delete _0x53dc8f[_0x402b61(0x24f)];let _0x1f2f0c=await this[_0x402b61(0x60b)]({'request':_0x523b4e,'schema':M,'ClassRef':S,'execute':_0x4090dd=>I[_0x402b61(0x69c)](_0x4090dd,_0x53dc8f)});_0x120cc4['status'](0xc8)[_0x402b61(0x5cd)](_0x1f2f0c);})[_0x472a84(0x26b)](this[_0x472a84(0x32f)](_0x472a84(0x36d)),..._0x3b23cb,async(_0x515ae1,_0x3273c4)=>{const _0x17b5ed=_0x472a84;let _0x9f59a7=_0x515ae1[_0x17b5ed(0x2a1)];y[_0x17b5ed(0x1a7)](_0x17b5ed(0x627)),y[_0x17b5ed(0x1a7)](_0x17b5ed(0x39f)),y[_0x17b5ed(0x1a7)](_0x515ae1[_0x17b5ed(0x2a1)]);let _0x4f64bd=await this['dataValidate']({'request':_0x515ae1,'schema':M,'ClassRef':S,'execute':_0x5c16ac=>I[_0x17b5ed(0x34a)](_0x5c16ac,_0x9f59a7)});_0x3273c4[_0x17b5ed(0x3d6)](0xc8)['json'](_0x4f64bd);})[_0x472a84(0x26b)](this['routerPath'](_0x472a84(0x6ee)),..._0x3b23cb,async(_0x750a88,_0x5af874)=>{const _0xc3f989=_0x472a84;let _0x284bd1=_0x750a88[_0xc3f989(0x2a1)];y[_0xc3f989(0x1a7)]('request\x20received\x20in\x20editFlow'),y[_0xc3f989(0x1a7)]('request\x20body:\x20'),y['verbose'](_0x750a88[_0xc3f989(0x2a1)]);let _0x5a59e9=await this[_0xc3f989(0x60b)]({'request':_0x750a88,'schema':M,'ClassRef':S,'execute':_0x4382e9=>I[_0xc3f989(0x4fc)](_0x4382e9,_0x284bd1)});_0x5af874[_0xc3f989(0x3d6)](0xc8)[_0xc3f989(0x5cd)](_0x5a59e9);})[_0x472a84(0x26b)](this[_0x472a84(0x32f)](_0x472a84(0xfd)),..._0x3b23cb,async(_0x2f23a5,_0x3c199f)=>{const _0x2a24c9=_0x472a84;let _0x1d7f03=_0x2f23a5[_0x2a24c9(0x2a1)];y[_0x2a24c9(0x1a7)]('request\x20received\x20in\x20editFlow'),y[_0x2a24c9(0x1a7)](_0x2a24c9(0x39f)),y[_0x2a24c9(0x1a7)](_0x2f23a5['body']);let _0x29842f=await this[_0x2a24c9(0x60b)]({'request':_0x2f23a5,'schema':M,'ClassRef':S,'execute':_0x3989a7=>I[_0x2a24c9(0x603)](_0x3989a7,_0x1d7f03)});_0x3c199f[_0x2a24c9(0x3d6)](0xc8)[_0x2a24c9(0x5cd)](_0x29842f);})[_0x472a84(0x26b)](this[_0x472a84(0x32f)](_0x472a84(0x65b)),..._0x3b23cb,async(_0xe3be45,_0x35ad16)=>{const _0x520df1=_0x472a84;let _0x552fd5=_0xe3be45[_0x520df1(0x2a1)];y[_0x520df1(0x1a7)]('request\x20received\x20in\x20editFlowgroup'),y[_0x520df1(0x1a7)](_0x520df1(0x39f)),y[_0x520df1(0x1a7)](_0xe3be45[_0x520df1(0x2a1)]);let _0x4ad205=await this[_0x520df1(0x60b)]({'request':_0xe3be45,'schema':M,'ClassRef':S,'execute':_0x36bee8=>I[_0x520df1(0x29a)](_0x36bee8,_0x552fd5)});_0x35ad16[_0x520df1(0x3d6)](0xc8)[_0x520df1(0x5cd)](_0x4ad205);})['post'](this[_0x472a84(0x32f)]('editflowcondition'),..._0x3b23cb,async(_0x30d26e,_0x1aa39f)=>{const _0xb8d699=_0x472a84;let _0x36846d=_0x30d26e[_0xb8d699(0x2a1)];y['verbose'](_0xb8d699(0x170)),y[_0xb8d699(0x1a7)]('request\x20body:\x20'),y[_0xb8d699(0x1a7)](_0x30d26e[_0xb8d699(0x2a1)]);let _0x4594bb=await this['dataValidate']({'request':_0x30d26e,'schema':M,'ClassRef':S,'execute':_0x158578=>I[_0xb8d699(0x623)](_0x158578,_0x36846d)});_0x1aa39f['status'](0xc8)[_0xb8d699(0x5cd)](_0x4594bb);})[_0x472a84(0x26b)](this[_0x472a84(0x32f)](_0x472a84(0x3d2)),..._0x3b23cb,async(_0x864498,_0x955158)=>{const _0x117752=_0x472a84;let _0x10ba64=_0x864498['body'];y['verbose']('request\x20received\x20in\x20editFlowvariable'),y['verbose'](_0x117752(0x39f)),y[_0x117752(0x1a7)](_0x864498['body']);let _0x41cdee=await this['dataValidate']({'request':_0x864498,'schema':M,'ClassRef':S,'execute':_0x1a163d=>I['editFlowVariable'](_0x1a163d,_0x10ba64)});_0x955158[_0x117752(0x3d6)](0xc8)['json'](_0x41cdee);})[_0x472a84(0x26b)](this[_0x472a84(0x32f)](_0x472a84(0x1e7)),..._0x3b23cb,async(_0x52b537,_0x515d8b)=>{const _0x307607=_0x472a84;let _0x3addcd=_0x52b537[_0x307607(0x2a1)];y['verbose']('request\x20received\x20in\x20getFlow'),y[_0x307607(0x1a7)](_0x307607(0x39f)),y['verbose'](_0x52b537[_0x307607(0x2a1)]);let _0x45a89d=await this['dataValidate']({'request':_0x52b537,'schema':M,'ClassRef':S,'execute':_0x14479d=>I[_0x307607(0x5e8)](_0x14479d,_0x3addcd)});_0x515d8b[_0x307607(0x3d6)](0xc8)['json'](_0x45a89d);})[_0x472a84(0x44d)](this[_0x472a84(0x32f)](_0x472a84(0xc5)),..._0x3b23cb,async(_0xa41e16,_0x172ab8)=>{const _0x3cfa56=_0x472a84;let _0x40b2e6=_0xa41e16[_0x3cfa56(0x2a1)];y['verbose'](_0x3cfa56(0x175)),y[_0x3cfa56(0x1a7)]('request\x20body:\x20'),y[_0x3cfa56(0x1a7)](_0xa41e16[_0x3cfa56(0x2a1)]);let _0x13e9bb=await this[_0x3cfa56(0x60b)]({'request':_0xa41e16,'schema':M,'ClassRef':S,'execute':_0x20f32c=>I[_0x3cfa56(0x491)](_0x20f32c,_0x40b2e6)});_0x172ab8[_0x3cfa56(0x3d6)](0xc8)[_0x3cfa56(0x5cd)](_0x13e9bb);})[_0x472a84(0x436)](this['routerPath'](_0x472a84(0x1b3)),..._0x3b23cb,async(_0x4b291e,_0x43c977)=>{const _0x3ed92f=_0x472a84;y[_0x3ed92f(0x1a7)](_0x3ed92f(0x573));let _0xf44431=await this[_0x3ed92f(0x60b)]({'request':_0x4b291e,'schema':M,'ClassRef':S,'execute':_0x2bd8ba=>I['allFlows'](_0x2bd8ba)});_0x43c977['status'](0xc8)[_0x3ed92f(0x5cd)](_0xf44431);});}},br=O(require(a0_0x4511c4(0x400))),X={};function fr(_0x5590be,_0x5b3ae9,_0x169e66,_0x7d945d){X[_0x5590be]||(X[_0x5590be]={}),X[_0x5590be][_0x5b3ae9]={'id':_0x5b3ae9,'response':_0x169e66,'events':_0x7d945d};}function wr(_0x2a63fa,_0x1d98dc){!X[_0x2a63fa]||!X[_0x2a63fa][_0x1d98dc]||delete X[_0x2a63fa][_0x1d98dc];}function q(_0x597abf,_0x59980a,_0x38ed1d){const _0x511edf=a0_0x4511c4;if(!X[_0x597abf])return;let _0x3ede21='data:\x20'+JSON[_0x511edf(0x757)](_0x38ed1d)+'\x0a\x0a';Object[_0x511edf(0x554)](X[_0x597abf])['forEach'](_0x2ffe64=>{const _0x2c87df=_0x511edf;_0x2ffe64['events'][_0x2c87df(0x359)](_0x59980a)&&_0x2ffe64['response'][_0x2c87df(0x6b7)](_0x3ede21);});}function yr(){const _0xa3baa4=a0_0x4511c4;let _0x5d30e3={};for(let _0x5e380d in X)_0x5d30e3[_0x5e380d]=Object[_0xa3baa4(0x554)](X[_0x5e380d])[_0xa3baa4(0x4dc)](_0x1123c3=>({'id':_0x1123c3['id'],'events':_0x1123c3[_0xa3baa4(0x64d)]}));return _0x5d30e3;}var Sr=require(a0_0x4511c4(0x6f9)),Ms=require(a0_0x4511c4(0x2f0)),Es=class{},wi=new Ms['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),yi=new Ms[(a0_0x4511c4(0x280))]({'_id':{'type':String,'default':a0_0x4511c4(0x413)},'WebhookGlobal':{'type':wi},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=T?.[a0_0x4511c4(0x66a)](Es[a0_0x4511c4(0x665)],yi,a0_0x4511c4(0x245)),bi=br['default']['join'](__dirname,'downloads'),At=(0x0,Ot[a0_0x4511c4(0x68e)])(),Si=b[a0_0x4511c4(0x436)](a0_0x4511c4(0x2b5))[a0_0x4511c4(0x471)],se=[Ra,Ta,Ia[Si]];At[a0_0x4511c4(0x3cf)]('/media',Ot[a0_0x4511c4(0x1e4)][a0_0x4511c4(0x673)](bi))[a0_0x4511c4(0x436)](a0_0x4511c4(0x6a3),async(_0x2fc25e,_0x3b4e96)=>{const _0x4f5ba9=a0_0x4511c4;console[_0x4f5ba9(0x5db)]('bateu\x20events');let _0x21e735=_0x2fc25e[_0x4f5ba9(0x352)][_0x4f5ba9(0x502)],_0x1870dc=(_0x2fc25e[_0x4f5ba9(0x728)][_0x4f5ba9(0x64d)]||'')[_0x4f5ba9(0x50f)](','),_0x38aba9=(0x0,Sr['v4'])();console['log']('Instance\x20ID:',_0x21e735),console['log'](_0x4f5ba9(0xf4),_0x1870dc);let _0x375e4a=b[_0x4f5ba9(0x436)](_0x4f5ba9(0x2b5))['API_KEY'],_0x8072ff=_0x2fc25e['query'][_0x4f5ba9(0x33c)];if(console[_0x4f5ba9(0x5db)](_0x4f5ba9(0xa6),_0x8072ff),_0x375e4a[_0x4f5ba9(0x241)]!==_0x8072ff){console[_0x4f5ba9(0x5db)](_0x4f5ba9(0xd6));try{let _0x34cc7b=await ue['auth'][_0x4f5ba9(0x5af)](_0x21e735);if(console[_0x4f5ba9(0x5db)](_0x4f5ba9(0x72a),_0x34cc7b),!_0x34cc7b||_0x34cc7b['apikey']!==_0x8072ff)return console['log'](_0x4f5ba9(0x6d8)),_0x3b4e96['status'](0x191)['send']('API\x20Key\x20inválida.');}catch(_0x2e2286){return console['error']('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x2e2286),_0x3b4e96[_0x4f5ba9(0x3d6)](0x191)['send'](_0x4f5ba9(0x52a));}}if(!await Ye(_0x21e735))return _0x3b4e96[_0x4f5ba9(0x3d6)](0x194)[_0x4f5ba9(0x242)](_0x4f5ba9(0x4f8));_0x3b4e96[_0x4f5ba9(0xf7)](_0x4f5ba9(0x309),_0x4f5ba9(0x51f)),_0x3b4e96[_0x4f5ba9(0xf7)](_0x4f5ba9(0x707),_0x4f5ba9(0x4b5)),_0x3b4e96['setHeader'](_0x4f5ba9(0x5a2),_0x4f5ba9(0x2c6)),_0x3b4e96[_0x4f5ba9(0x678)]();let _0xad4c1e='data:\x20'+JSON['stringify']({'info':_0x4f5ba9(0x66d)})+'\x0a\x0a';_0x3b4e96[_0x4f5ba9(0x6b7)](_0xad4c1e),fr(_0x21e735,_0x38aba9,_0x3b4e96,_0x1870dc),_0x2fc25e['on'](_0x4f5ba9(0x5b5),()=>{const _0x6fba37=_0x4f5ba9;console[_0x6fba37(0x5db)](_0x6fba37(0x2ec)+_0x21e735),wr(_0x21e735,_0x38aba9);});}),At[a0_0x4511c4(0x436)](a0_0x4511c4(0x1d3),(_0x24f392,_0x436849)=>{let _0x1006a8=yr();_0x436849['json'](_0x1006a8);})['get']('/',(_0x30adaa,_0x504565)=>{const _0x5a98a3=a0_0x4511c4;let _0x3f1c75=b[_0x5a98a3(0x436)]('SERVER')['URL'];if(_0x3f1c75){let _0x1d4b6d=encodeURIComponent(''+_0x3f1c75);_0x504565[_0x5a98a3(0x204)](_0x5a98a3(0x1fa)+_0x1d4b6d);return;}let _0x130acd=b[_0x5a98a3(0x436)](_0x5a98a3(0x53d)),_0x379c83=_0x130acd&&_0x130acd[_0x5a98a3(0xbb)]['split']('/')[0x4];if(_0x379c83){let _0x256355=encodeURIComponent(_0x5a98a3(0x16b)+_0x379c83);_0x504565['redirect'](_0x5a98a3(0x1fa)+_0x256355);}else _0x504565['redirect'](_0x5a98a3(0x307));})[a0_0x4511c4(0x2c4)]('/exit',...se,async(_0x4dcb56,_0x267200)=>{const _0x3aeee6=a0_0x4511c4;try{console[_0x3aeee6(0x5db)](_0x3aeee6(0x50c)),_0x267200[_0x3aeee6(0x3d6)](0xc8)[_0x3aeee6(0x5cd)]({'message':_0x3aeee6(0x213)}),_0x267200['on'](_0x3aeee6(0x734),()=>process[_0x3aeee6(0x22b)](0x0));}catch(_0x792e08){console[_0x3aeee6(0xcd)](_0x3aeee6(0x633),_0x792e08),_0x267200['status'](0x1f4)['json']({'message':_0x3aeee6(0x27f)});}})[a0_0x4511c4(0x2c4)](a0_0x4511c4(0x4db),...se,async(_0x1b76e0,_0x25539e)=>{const _0xa2fb8b=a0_0x4511c4;try{let _0x472d7a=_0x1b76e0[_0xa2fb8b(0x2a1)];await ye['updateOne']({},{'$set':_0x472d7a},{'upsert':!0x0});let _0x259c3b=await ye['findOne']();_0x25539e[_0xa2fb8b(0x5cd)](_0x259c3b);}catch(_0x19acc9){_0x25539e[_0xa2fb8b(0x3d6)](0x190)[_0xa2fb8b(0x242)](_0x19acc9[_0xa2fb8b(0x737)]);}})[a0_0x4511c4(0x436)](a0_0x4511c4(0x4db),...se,async(_0x14ce9e,_0x1522b7)=>{const _0x2f0040=a0_0x4511c4;try{let _0x15186b=await ye[_0x2f0040(0x19a)]();if(!_0x15186b)return _0x1522b7[_0x2f0040(0x5cd)]({});_0x1522b7[_0x2f0040(0x5cd)](_0x15186b);}catch(_0x4215ee){_0x1522b7['status'](0x1f4)[_0x2f0040(0x242)](_0x4215ee['message']);}})[a0_0x4511c4(0x3cf)](a0_0x4511c4(0x4ac),new ht(b,...se)['router'])[a0_0x4511c4(0x3cf)](a0_0x4511c4(0x1a6),new vt(...se)[a0_0x4511c4(0x336)])[a0_0x4511c4(0x3cf)]('/chat',new at(...se)[a0_0x4511c4(0x336)])[a0_0x4511c4(0x3cf)]('/group',new pt(...se)['router'])[a0_0x4511c4(0x3cf)](a0_0x4511c4(0x328),new Rt(...se)['router'])[a0_0x4511c4(0x3cf)](a0_0x4511c4(0x28a),new Tt(...se)[a0_0x4511c4(0x336)]);var w=class{constructor(..._0x1de267){const _0x123778=a0_0x4511c4;throw{'status':0x190,'error':_0x123778(0x249),'message':_0x1de267[_0x123778(0x16d)]>0x0?_0x1de267:void 0x0};}},te=class{constructor(..._0x5079c0){const _0x547cbc=a0_0x4511c4;throw{'status':0x191,'error':_0x547cbc(0x683),'message':_0x5079c0[_0x547cbc(0x16d)]>0x0?_0x5079c0:void 0x0};}},K=class{constructor(..._0x698259){const _0x59c4b0=a0_0x4511c4;throw{'status':0x193,'error':_0x59c4b0(0x666),'message':_0x698259['length']>0x0?_0x698259:void 0x0};}},L=class{constructor(..._0x317dc9){const _0x2a4eca=a0_0x4511c4;throw{'status':0x194,'error':_0x2a4eca(0x211),'message':_0x317dc9['length']>0x0?_0x317dc9:void 0x0};}},x=class{constructor(..._0x23d70e){const _0x974b50=a0_0x4511c4;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x23d70e[_0x974b50(0x16d)]>0x0?_0x23d70e:void 0x0};}},de=require(a0_0x4511c4(0x119));async function vs(_0x984aa5){const _0x17e9af=a0_0x4511c4;let _0x3996c1=new v(vs[_0x17e9af(0x665)]),_0x5e477a=T[_0x17e9af(0x6b9)](),_0x33a1af=_0x5e477a['db'](b[_0x17e9af(0x436)](_0x17e9af(0x619))['CONNECTION']['DB_PREFIX_NAME']+_0x17e9af(0x220))['collection'](_0x984aa5),_0x2bcaa6=async(_0x58fd9e,_0x228006)=>{const _0x1d4e33=_0x17e9af;try{return await _0x5e477a[_0x1d4e33(0xe6)](),await _0x33a1af[_0x1d4e33(0x6ce)]({'_id':_0x228006},JSON['parse'](JSON[_0x1d4e33(0x757)](_0x58fd9e,de['BufferJSON'][_0x1d4e33(0x5e9)])),{'upsert':!0x0});}catch{}},_0x5e3525=async _0x1e639b=>{const _0x2b4afd=_0x17e9af;try{await _0x5e477a[_0x2b4afd(0xe6)]();let _0x57dd61=await _0x33a1af[_0x2b4afd(0x19a)]({'_id':_0x1e639b}),_0x166e7a=JSON[_0x2b4afd(0x757)](_0x57dd61);return JSON[_0x2b4afd(0x49a)](_0x166e7a,de[_0x2b4afd(0x5b3)][_0x2b4afd(0x444)]);}catch{}},_0x316ccf=async _0x1d156c=>{const _0xf3c3af=_0x17e9af;try{return await _0x5e477a[_0xf3c3af(0xe6)](),await _0x33a1af['deleteOne']({'_id':_0x1d156c});}catch{}},_0x52e17d=await _0x5e3525(_0x17e9af(0x2e2))||(0x0,de['initAuthCreds'])();return{'state':{'creds':_0x52e17d,'keys':{'get':async(_0x543231,_0x31fc1e)=>{const _0x45de56=_0x17e9af;let _0x4d2299={};return await Promise[_0x45de56(0x4ba)](_0x31fc1e[_0x45de56(0x4dc)](async _0x592d34=>{const _0x424ff6=_0x45de56;let _0x403dc2=await _0x5e3525(_0x543231+'-'+_0x592d34);_0x543231==='app-state-sync-key'&&_0x403dc2&&(_0x403dc2=de[_0x424ff6(0x624)][_0x424ff6(0x6a1)][_0x424ff6(0x664)][_0x424ff6(0x631)](_0x403dc2)),_0x4d2299[_0x592d34]=_0x403dc2;})),_0x4d2299;},'set':async _0x4503a4=>{const _0x419ae7=_0x17e9af;let _0xc1f683=[];for(let _0x36be2 in _0x4503a4)for(let _0x3bcc4b in _0x4503a4[_0x36be2]){let _0x337cc2=_0x4503a4[_0x36be2][_0x3bcc4b],_0xdf9697=_0x36be2+'-'+_0x3bcc4b;_0xc1f683[_0x419ae7(0x6f3)](_0x337cc2?_0x2bcaa6(_0x337cc2,_0xdf9697):_0x316ccf(_0xdf9697));}await Promise[_0x419ae7(0x4ba)](_0xc1f683);}}},'saveCreds':async()=>_0x2bcaa6(_0x52e17d,'creds')};}var Os=O(require(a0_0x4511c4(0x35a))),As=O(require(a0_0x4511c4(0x3ee))),Dt=require(a0_0x4511c4(0x119)),Cr=require('@redis/client'),xt=require(a0_0x4511c4(0x119)),It;function Ci(_0x347609){const _0x1dde7f=a0_0x4511c4;return It||(It=(0x0,Cr[_0x1dde7f(0x715)])({'url':_0x347609[_0x1dde7f(0x74e)]}),It[_0x1dde7f(0xe6)]()),It;}function a0_0x4bbc(_0x4899ea,_0x5de745){const _0x3cfbb7=a0_0x3cfb();return a0_0x4bbc=function(_0x4bbcfb,_0x3a7d9d){_0x4bbcfb=_0x4bbcfb-0xa3;let _0x2e4209=_0x3cfbb7[_0x4bbcfb];return _0x2e4209;},a0_0x4bbc(_0x4899ea,_0x5de745);}var ne=class c{constructor(_0x370a0f,_0x1f92c2){const _0x1e3927=a0_0x4511c4;this['redisEnv']=_0x370a0f,this[_0x1e3927(0x708)]=_0x1f92c2,this[_0x1e3927(0x5bb)]=new v(c['name']),this[_0x1e3927(0x20b)]=Ci(_0x370a0f);}set[a0_0x4511c4(0x32b)](_0xdbe814){const _0x43a386=a0_0x4511c4;this[_0x43a386(0x708)]=_0xdbe814;}async[a0_0x4511c4(0x18d)](){const _0x31d4ad=a0_0x4511c4;try{return await this[_0x31d4ad(0x20b)]['sendCommand']([_0x31d4ad(0x41a),this[_0x31d4ad(0x19c)][_0x31d4ad(0x65f)]+':*']);}catch(_0x2b6894){this[_0x31d4ad(0x5bb)][_0x31d4ad(0xcd)](_0x2b6894);}}async[a0_0x4511c4(0x2d0)](_0x4de9b8,_0x54016f){const _0x259372=a0_0x4511c4;try{let _0x56c1b8=JSON['stringify'](_0x54016f,xt['BufferJSON']['replacer']);return await this[_0x259372(0x20b)][_0x259372(0x61c)](this[_0x259372(0x19c)][_0x259372(0x65f)]+':'+this[_0x259372(0x708)],_0x4de9b8,_0x56c1b8);}catch(_0x9327d8){this[_0x259372(0x5bb)][_0x259372(0xcd)](_0x9327d8);}}async[a0_0x4511c4(0x48f)](){const _0x25e676=a0_0x4511c4;try{let _0x3a50f3=await this[_0x25e676(0x20b)][_0x25e676(0xbd)](this[_0x25e676(0x19c)][_0x25e676(0x65f)]+':'+this[_0x25e676(0x708)]);if(_0x3a50f3){for(let _0x5e463a in _0x3a50f3)Object[_0x25e676(0x1c0)][_0x25e676(0x3c5)]['call'](_0x3a50f3,_0x5e463a)&&(_0x3a50f3[_0x5e463a]=JSON['parse'](_0x3a50f3[_0x5e463a],xt[_0x25e676(0x5b3)][_0x25e676(0x444)]));return _0x3a50f3;}}catch(_0x1a769e){this[_0x25e676(0x5bb)]['error'](_0x1a769e);}}async['readData'](_0x55cfa7){const _0xdd1be3=a0_0x4511c4;try{let _0x1d5de1=await this[_0xdd1be3(0x20b)][_0xdd1be3(0x11f)](this[_0xdd1be3(0x19c)]['PREFIX_KEY']+':'+this[_0xdd1be3(0x708)],_0x55cfa7);if(_0x1d5de1)return JSON[_0xdd1be3(0x49a)](_0x1d5de1,xt['BufferJSON'][_0xdd1be3(0x444)]);}catch(_0x31c205){this[_0xdd1be3(0x5bb)][_0xdd1be3(0xcd)](_0x31c205);}}async[a0_0x4511c4(0x3b1)](_0x23b11c){const _0x49bd1e=a0_0x4511c4;try{return await this[_0x49bd1e(0x20b)][_0x49bd1e(0x1d9)](this[_0x49bd1e(0x19c)][_0x49bd1e(0x65f)]+':'+this[_0x49bd1e(0x708)],_0x23b11c);}catch(_0x1e6c54){this['logger']['error'](_0x1e6c54);}}async['delAll'](_0x56e376){const _0x47ca6a=a0_0x4511c4;try{return await this[_0x47ca6a(0x20b)][_0x47ca6a(0x54b)](_0x56e376||this['redisEnv'][_0x47ca6a(0x65f)]+':'+this[_0x47ca6a(0x708)]);}catch(_0x503476){this[_0x47ca6a(0x5bb)][_0x47ca6a(0xcd)](_0x503476);}}};async function Ns(_0x3352b8,_0x531c70){const _0xd4e5c1=a0_0x4511c4;let _0x4c5ca3=new v(Ns[_0xd4e5c1(0x665)]),_0x2de6b5=new ne(_0x3352b8,_0x531c70),_0x41756d=async(_0x9b7e00,_0x56f73f)=>{const _0x20775a=_0xd4e5c1;try{return await _0x2de6b5[_0x20775a(0x2d0)](_0x56f73f,_0x9b7e00);}catch(_0x1dc1e5){return _0x4c5ca3['error']({'localError':'writeData','error':_0x1dc1e5});}},_0x231a02=async _0xcea61=>{const _0x4ed14f=_0xd4e5c1;try{return await _0x2de6b5['readData'](_0xcea61);}catch(_0x42ae79){_0x4c5ca3['error']({'readData':_0x4ed14f(0x2d0),'error':_0x42ae79});return;}},_0xcc7658=async _0x2c0545=>{const _0x963b5f=_0xd4e5c1;try{return await _0x2de6b5[_0x963b5f(0x3b1)](_0x2c0545);}catch(_0x258cdc){_0x4c5ca3[_0x963b5f(0xcd)]({'readData':'removeData','error':_0x258cdc});}},_0x2270f6=await _0x231a02(_0xd4e5c1(0x2e2))||(0x0,Dt[_0xd4e5c1(0x717)])();return{'state':{'creds':_0x2270f6,'keys':{'get':async(_0x1d9278,_0x42e47)=>{const _0x5664b4=_0xd4e5c1;let _0x4eca94={};return await Promise[_0x5664b4(0x4ba)](_0x42e47[_0x5664b4(0x4dc)](async _0x528193=>{const _0x44b106=_0x5664b4;let _0x3bf985=await _0x231a02(_0x1d9278+'-'+_0x528193);_0x1d9278===_0x44b106(0x332)&&_0x3bf985&&(_0x3bf985=Dt['proto']['Message'][_0x44b106(0x664)][_0x44b106(0x631)](_0x3bf985)),_0x4eca94[_0x528193]=_0x3bf985;})),_0x4eca94;},'set':async _0x589769=>{const _0x24a0eb=_0xd4e5c1;let _0x312810=[];for(let _0x263ffa in _0x589769)for(let _0x3db95a in _0x589769[_0x263ffa]){let _0x30298c=_0x589769[_0x263ffa][_0x3db95a],_0x2f4146=_0x263ffa+'-'+_0x3db95a;_0x312810['push'](_0x30298c?await _0x41756d(_0x30298c,_0x2f4146):await _0xcc7658(_0x2f4146));}await Promise[_0x24a0eb(0x4ba)](_0x312810);}}},'saveCreds':async()=>await _0x41756d(_0x2270f6,'creds')};}var F=O(require('fs')),Re=require('uuid'),kt=O(require('sharp')),Lt=require(a0_0x4511c4(0x383)),Ei='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'['trim'](),_t=Ei[a0_0x4511c4(0x50f)]('\x0a')['map'](_0x1c213c=>{const _0x2071ce=a0_0x4511c4;let _0x16ff09=_0x1c213c['split'](':'),_0xb43f93={'host':_0x16ff09[0x0],'port':_0x16ff09[0x1],'protocol':_0x2071ce(0x59a)};return _0x16ff09[_0x2071ce(0x16d)]===0x4&&(_0xb43f93[_0x2071ce(0x20e)]=_0x16ff09[0x2],_0xb43f93['password']=_0x16ff09[0x3]),_0xb43f93;});function Er(_0x48e4a8){const _0x3dd4a7=a0_0x4511c4;return _t['find'](_0x26c002=>_0x26c002[_0x3dd4a7(0x6f1)]===_0x48e4a8)||null;}function Mr(){const _0x15e870=a0_0x4511c4;if(_t[_0x15e870(0x16d)]===0x0)return null;let _0x1c98e9=Math[_0x15e870(0x3a5)](Math[_0x15e870(0x3fd)]()*_t[_0x15e870(0x16d)]);return _t[_0x1c98e9];}function Rs(_0x252eba){const _0x4fe17d=a0_0x4511c4;let _0x41ae47=_0x117b6f=>typeof _0x117b6f=='string'&&_0x117b6f[_0x4fe17d(0x16d)]>0x0,_0x43e869=_0x3e142d=>{let _0x5be15d=parseInt(_0x3e142d,0xa);return!isNaN(_0x5be15d)&&_0x5be15d>0x0&&_0x5be15d<=0xffff;},_0x2f6cc9=_0x530bb4=>typeof _0x530bb4=='string'&&_0x530bb4[_0x4fe17d(0x16d)]>0x0;return _0x252eba&&_0x41ae47(_0x252eba['host'])&&_0x43e869(_0x252eba[_0x4fe17d(0x62d)])&&(!_0x252eba[_0x4fe17d(0x20e)]||_0x2f6cc9(_0x252eba[_0x4fe17d(0x20e)]))&&(!_0x252eba['password']||_0x2f6cc9(_0x252eba[_0x4fe17d(0x689)]))&&(_0x252eba[_0x4fe17d(0x596)]===_0x4fe17d(0x59a)||_0x252eba[_0x4fe17d(0x596)]==='https');}var Is=require(a0_0x4511c4(0x4e4)),Ir=a0_0x4511c4(0x5eb),xs,ce=null,vr=null,Ze=null,Mi=0x3,vi=null;async function Ni(){const _0x11fe5f=a0_0x4511c4;let _0x1bf50e=await ye[_0x11fe5f(0x19a)]();ce=_0x1bf50e?.[_0x11fe5f(0x3b5)]??null,vi=_0x1bf50e?.[_0x11fe5f(0x14f)]??null,Ir=_0x1bf50e?.['connectedClient']??'Chrome',xs=_0x1bf50e?.['connectedName']??Ds??_0x11fe5f(0x5e1),console[_0x11fe5f(0x5db)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x11fe5f(0x5db)](_0x1bf50e);}async function Ri(){await Ni();}Ri();var Nr={},ae={},be=class c{constructor(_0x98cd8c,_0x3c87c5,_0x3bd071){const _0x2f1703=a0_0x4511c4;this[_0x2f1703(0x626)]=_0x98cd8c,this[_0x2f1703(0x477)]=_0x3c87c5,this[_0x2f1703(0x368)]=_0x3bd071,this[_0x2f1703(0x3db)]=null,this[_0x2f1703(0x5bb)]=new v(c[_0x2f1703(0x665)]),this[_0x2f1703(0x502)]={},this['localWebhook']={},this[_0x2f1703(0x5f9)]={'state':'close'},this['storePath']=(0x0,J['join'])(ie,_0x2f1703(0x60f)),this[_0x2f1703(0x358)]=new As[(_0x2f1703(0x1e4))](),this[_0x2f1703(0x36a)]=new As[(_0x2f1703(0x1e4))](),this[_0x2f1703(0x5ca)]=!0x1,this['webhookMap']={'status.instance':_0x2f1703(0x225),'connection.update':_0x2f1703(0x225),'qrcode.updated':_0x2f1703(0x349),'messages.upsert':_0x2f1703(0x42b),'send.message':'/wa-message','messages.update':_0x2f1703(0x167),'group.upsert':_0x2f1703(0x308),'group.update':_0x2f1703(0x308),'group-participants.update':_0x2f1703(0x308),'messages.set':_0x2f1703(0x285),'contacts.set':'/wa-contacts','contacts.upsert':'/wa-contacts','contacts.update':_0x2f1703(0x31d),'presence.update':'/wa-presence','chats.set':'/wa-chats','chats.update':'/wa-chats','chats.upsert':_0x2f1703(0x54e),'chats.delete':_0x2f1703(0x54e)},this[_0x2f1703(0x1e6)]=0x0,this[_0x2f1703(0x32c)]=[],this[_0x2f1703(0x406)]=0xa,this[_0x2f1703(0x34f)]=0xea60,this[_0x2f1703(0x325)]=!0x1,this[_0x2f1703(0x709)]={'chats.upsert':async(_0x71c17a,_0x28d7a7)=>{const _0x46b4cb=_0x2f1703;let _0x1a2ec0=[];for await(let _0x476d08 of _0x71c17a)_0x1a2ec0[_0x46b4cb(0x6f3)]({'_id':_0x476d08['id'],'owner':this['instance']['wuid'],'group':_0x476d08['id'][_0x46b4cb(0x117)]('@g.us'),'name':_0x476d08[_0x46b4cb(0x665)]||_0x476d08[_0x46b4cb(0x3e5)]||null,'contactname':null,'lastmsg':_0x476d08['conversationTimestamp']&&_0x476d08[_0x46b4cb(0x74c)][_0x46b4cb(0x2eb)]()[_0x46b4cb(0x16d)]<0xd?_0x476d08[_0x46b4cb(0x74c)]*0x3e8:_0x476d08['conversationTimestamp']||null,'archived':_0x476d08[_0x46b4cb(0x402)]||!0x1,'unreadcount':_0x476d08['unreadCount']||0x0});this[_0x46b4cb(0x109)](_0x46b4cb(0x69d),_0x1a2ec0);},'chats.update':async(_0x26f0ec,_0x57a1fe)=>{const _0x2b86c9=_0x2f1703;for(let _0x2a5bbd of _0x26f0ec){let _0x1ccd7f={'_id':_0x2a5bbd['id'],'owner':this[_0x2b86c9(0x502)][_0x2b86c9(0x5e4)],'group':_0x2a5bbd['id'][_0x2b86c9(0x117)]('@g.us'),'name':_0x2a5bbd[_0x2b86c9(0x665)]||_0x2a5bbd[_0x2b86c9(0x3e5)],'archived':_0x2a5bbd[_0x2b86c9(0x402)],'ephemeralExpiration':_0x2a5bbd[_0x2b86c9(0x696)]},_0x4274e6=!0x1,_0x5d1799={};_0x1ccd7f[_0x2b86c9(0x402)]!=null&&(this[_0x2b86c9(0x5bb)][_0x2b86c9(0x1a7)](this[_0x2b86c9(0x708)]+'\x20('+this[_0x2b86c9(0x502)]['wuid']+_0x2b86c9(0x1b8)+_0x2a5bbd[_0x2b86c9(0x402)]),_0x4274e6=!0x0,_0x5d1799['archived']=_0x2a5bbd['archived']),_0x2a5bbd[_0x2b86c9(0x665)]!=null&&(this[_0x2b86c9(0x5bb)][_0x2b86c9(0x1a7)](this[_0x2b86c9(0x708)]+'\x20('+this[_0x2b86c9(0x502)][_0x2b86c9(0x5e4)]+_0x2b86c9(0x137)+_0x2a5bbd[_0x2b86c9(0x665)]),_0x4274e6=!0x0,_0x5d1799['name']=_0x2a5bbd[_0x2b86c9(0x665)]),_0x2a5bbd[_0x2b86c9(0x3e5)]!=null&&(this['logger']['verbose'](this[_0x2b86c9(0x708)]+'\x20('+this[_0x2b86c9(0x502)][_0x2b86c9(0x5e4)]+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x2a5bbd['displayName']),_0x4274e6=!0x0,_0x5d1799[_0x2b86c9(0x665)]=_0x2a5bbd[_0x2b86c9(0x3e5)]);let _0x442aed;_0x4274e6&&(_0x442aed=await this[_0x2b86c9(0x368)][_0x2b86c9(0x4d5)]['updateOne']({'where':{'_id':_0x2a5bbd['id']}},_0x5d1799,this[_0x2b86c9(0x502)][_0x2b86c9(0x5e4)])),_0x442aed&&q(this[_0x2b86c9(0x708)],_0x2b86c9(0x2db),{'chat':_0x442aed});}},'chats.delete':async _0x2c6d35=>{const _0x2225d2=_0x2f1703;this['sendDataWebhook'](_0x2225d2(0x422),[..._0x2c6d35]);}},this[_0x2f1703(0x701)]={'contacts.upsert':async(_0x708a3b,_0x5cb77c)=>{const _0x25f038=_0x2f1703;let _0x213acb=await this['repository'][_0x25f038(0xf1)][_0x25f038(0x5af)]({'where':{}},this[_0x25f038(0x502)][_0x25f038(0x5e4)]),_0x122800=[];for await(let _0x1c3d65 of _0x708a3b)_0x213acb[_0x25f038(0x5af)](_0x35ab71=>_0x35ab71['_id']===_0x1c3d65['id'])||_0x122800['push']({'_id':_0x1c3d65['id'],'pushName':_0x1c3d65?.['name']||_0x1c3d65?.[_0x25f038(0xb5)],'owner':this[_0x25f038(0x502)][_0x25f038(0x5e4)]});this['sendDataWebhook']('contacts.upsert',_0x122800),await this['repository'][_0x25f038(0xf1)][_0x25f038(0x71b)](_0x122800);},'contacts.update':async(_0x38d218,_0x17c0cd)=>{const _0x4d141d=_0x2f1703;let _0xdbf45e=[];for await(let _0x1aa792 of _0x38d218)_0xdbf45e[_0x4d141d(0x6f3)]({'_id':_0x1aa792['id'],'pushName':_0x1aa792?.[_0x4d141d(0x665)]??_0x1aa792?.[_0x4d141d(0xb5)],'owner':this[_0x4d141d(0x502)]['wuid']});this[_0x4d141d(0x109)]('contacts.update',_0xdbf45e);}},this[_0x2f1703(0x639)]={'messaging-history.set':async({messages:_0x4aa883,chats:_0x3504e9,isLatest:_0x525e9c},_0x25aed5)=>{const _0x3a2fce=_0x2f1703;if(_0x525e9c){let _0x3dd08a=await Promise[_0x3a2fce(0x4ba)](_0x3504e9[_0x3a2fce(0x4dc)](async _0x564594=>({'_id':_0x564594['id'],'owner':this[_0x3a2fce(0x502)][_0x3a2fce(0x5e4)],'group':_0x564594['id'][_0x3a2fce(0x117)](_0x3a2fce(0x347)),'name':_0x564594[_0x3a2fce(0x665)]||_0x564594[_0x3a2fce(0x3e5)]||null,'contactname':null,'lastmsg':_0x564594[_0x3a2fce(0x74c)]&&_0x564594[_0x3a2fce(0x74c)]['toString']()['length']<0xd?_0x564594[_0x3a2fce(0x74c)]*0x3e8:_0x564594['conversationTimestamp']||null,'archived':_0x564594[_0x3a2fce(0x402)]||!0x1,'unreadcount':_0x564594[_0x3a2fce(0x722)]||0x0})));this[_0x3a2fce(0x109)](_0x3a2fce(0x15e),_0x3dd08a),await this['upsertChats'](_0x3dd08a,_0x25aed5);}let _0x1b912c=[],_0x277a77=Date[_0x3a2fce(0x56c)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x1ea64b]of Object[_0x3a2fce(0x25e)](_0x4aa883)){if(_0x1ea64b[_0x3a2fce(0x737)]?.[_0x3a2fce(0x6a9)]||_0x1ea64b['message']?.[_0x3a2fce(0x489)]||!_0x1ea64b['message']||_0x1ea64b[_0x3a2fce(0x4b4)][_0x3a2fce(0x456)]==='status@broadcast'||(Os[_0x3a2fce(0x1e4)]['isLong'](_0x1ea64b?.[_0x3a2fce(0x5d5)])&&(_0x1ea64b[_0x3a2fce(0x5d5)]=_0x1ea64b['messageTimestamp']?.[_0x3a2fce(0x55c)]()),_0x1ea64b[_0x3a2fce(0x5d5)]&&_0x1ea64b[_0x3a2fce(0x5d5)][_0x3a2fce(0x2eb)]()[_0x3a2fce(0x16d)]<0xd&&(_0x1ea64b[_0x3a2fce(0x5d5)]=_0x1ea64b[_0x3a2fce(0x5d5)]*0x3e8),_0x1ea64b[_0x3a2fce(0x5d5)]<_0x277a77))continue;let _0xcc6c0f=(0x0,m[_0x3a2fce(0x343)])(_0x1ea64b[_0x3a2fce(0x737)]),_0x3d2214=(0x0,m[_0x3a2fce(0x44f)])(_0xcc6c0f),{message_normalized:_0x35c26a}=this[_0x3a2fce(0x3c2)](_0xcc6c0f,_0x3d2214,null);Object['keys'](_0x35c26a)[_0x3a2fce(0x16d)]>0x0&&_0x1b912c['push']({'_id':_0x1ea64b['key']['id'],'key':_0x1ea64b['key'],'pushName':_0x1ea64b['pushName'],'participant':_0x1ea64b['participant'],'message':_0xcc6c0f,'messageType':_0x3d2214,'message_normalized':{'key':_0x1ea64b[_0x3a2fce(0x4b4)],'pushName':_0x1ea64b[_0x3a2fce(0xa7)],'messageTimestamp':_0x1ea64b[_0x3a2fce(0x5d5)],..._0x35c26a},'messageTimestamp':_0x1ea64b[_0x3a2fce(0x5d5)],'owner':this[_0x3a2fce(0x502)][_0x3a2fce(0x5e4)]});}_0x25aed5[_0x3a2fce(0x2b7)]&&_0x1b912c[_0x3a2fce(0x16d)]>0x0&&(this[_0x3a2fce(0x5bb)][_0x3a2fce(0x1a7)](this['instanceName']+'\x20('+this[_0x3a2fce(0x502)][_0x3a2fce(0x5e4)]+_0x3a2fce(0x3fe)+_0x1b912c['length']+_0x3a2fce(0x2ee)+this['instance'][_0x3a2fce(0x5e4)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x3a2fce(0x368)][_0x3a2fce(0x737)]['insert']([..._0x1b912c],this[_0x3a2fce(0x502)]['wuid'])),this[_0x3a2fce(0x109)]('messages.set',[..._0x1b912c]),_0x4aa883=void 0x0;},'messages.upsert':async({messages:_0x307103,type:_0x32f56f},_0x12944a)=>{const _0x5eeb6d=_0x2f1703;let _0x2f469e=_0x307103[0x0],_0x369ecb=_0x2f469e[_0x5eeb6d(0x4b4)]['id'],_0xb26425=_0x2f469e[_0x5eeb6d(0x54a)]===0x2,_0xe25b16=0x6;if(this[_0x5eeb6d(0xee)]?.[_0x5eeb6d(0x430)]&&_0x2f469e[_0x5eeb6d(0x4b4)][_0x5eeb6d(0x456)]['includes'](_0x5eeb6d(0x347))){this['logger'][_0x5eeb6d(0x1a7)](this[_0x5eeb6d(0x708)]+'\x20('+this['instance'][_0x5eeb6d(0x5e4)]+_0x5eeb6d(0x60e));return;}if(_0xb26425){if(ae[_0x369ecb]||(ae[_0x369ecb]=0x0),ae[_0x369ecb]++,this['logger'][_0x5eeb6d(0xcd)](this[_0x5eeb6d(0x708)]+'\x20('+this[_0x5eeb6d(0x502)][_0x5eeb6d(0x5e4)]+_0x5eeb6d(0x646)+_0x2f469e[_0x5eeb6d(0x4b4)]['remoteJid']+_0x5eeb6d(0x5c4)+_0x369ecb+':\x20'+ae[_0x369ecb]+'/'+_0xe25b16),ae[_0x369ecb]>=_0xe25b16){this[_0x5eeb6d(0x5bb)][_0x5eeb6d(0xcd)](this['instanceName']+'\x20('+this[_0x5eeb6d(0x502)][_0x5eeb6d(0x5e4)]+_0x5eeb6d(0x4ae)+_0x2f469e[_0x5eeb6d(0x4b4)][_0x5eeb6d(0x456)]+_0x5eeb6d(0x5c4)+_0x369ecb+'.');let _0x294f71={'key':{..._0x2f469e['key']},'message':{'conversation':_0x5eeb6d(0x651)+_0x369ecb+_0x5eeb6d(0x72c)}};_0x2f469e[_0x5eeb6d(0x4b4)][_0x5eeb6d(0x456)]['includes'](_0x5eeb6d(0x30f))&&this['client']['ev'][_0x5eeb6d(0x177)](_0x5eeb6d(0x1cf),{'messages':[_0x294f71],'type':_0x5eeb6d(0x5ba)}),delete ae[_0x369ecb];}}else ae[_0x369ecb]&&(this[_0x5eeb6d(0x5bb)]['warn']('[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20'+ae[_0x369ecb]+_0x5eeb6d(0x304)+_0x2f469e['key'][_0x5eeb6d(0x456)]+'\x20e\x20ID='+_0x369ecb),delete ae[_0x369ecb]);if(_0x32f56f!=='notify'||!_0x2f469e?.[_0x5eeb6d(0x737)]||_0x2f469e[_0x5eeb6d(0x737)]?.['protocolMessage']||_0x2f469e['message'][_0x5eeb6d(0x489)]||_0x2f469e[_0x5eeb6d(0x4b4)][_0x5eeb6d(0x456)]==='status@broadcast')return;let _0x240a29=null,_0x2898d6=null;try{_0x240a29=await this['processPollUpdateMessage'](_0x2f469e),_0x2898d6=_0x240a29?_0x240a29[_0x5eeb6d(0x3de)](','):null;}catch(_0x108a58){this[_0x5eeb6d(0x5bb)]['verbose'](this[_0x5eeb6d(0x708)]+'\x20('+this['instance'][_0x5eeb6d(0x5e4)]+_0x5eeb6d(0x3fe)+(_0x108a58 instanceof Error?_0x108a58[_0x5eeb6d(0x737)]:JSON[_0x5eeb6d(0x757)](_0x108a58,null,0x2))),_0x2898d6='error\x20get\x20vote';}this[_0x5eeb6d(0x20b)]['sendPresenceUpdate'](_0x5eeb6d(0x26f)),Os[_0x5eeb6d(0x1e4)]['isLong'](_0x2f469e[_0x5eeb6d(0x5d5)])&&(_0x2f469e[_0x5eeb6d(0x5d5)]=_0x2f469e[_0x5eeb6d(0x5d5)]?.[_0x5eeb6d(0x55c)]()),_0x2f469e[_0x5eeb6d(0x5d5)]&&_0x2f469e[_0x5eeb6d(0x5d5)]['toString']()[_0x5eeb6d(0x16d)]<0xd&&(_0x2f469e['messageTimestamp']=_0x2f469e[_0x5eeb6d(0x5d5)]*0x3e8);let _0x42be51=_0x2f469e[_0x5eeb6d(0x737)],_0x45524d=(0x0,m[_0x5eeb6d(0x343)])(_0x42be51),_0x45d10d=(0x0,m[_0x5eeb6d(0x44f)])(_0x45524d),{messageContent:_0x567732,message_normalized:_0x346c47}=this[_0x5eeb6d(0x3c2)](_0x45524d,_0x45d10d,_0x2898d6);_0x45d10d==='protocolMessage'&&_0x567732?.[_0x5eeb6d(0x59e)]&&(_0x45d10d='editedMessage');let _0x5759c8,_0x44d423=_0x2f469e[_0x5eeb6d(0x4b4)][_0x5eeb6d(0x456)][_0x5eeb6d(0x117)]('@g.us');if(_0x2f469e[_0x5eeb6d(0x4b4)][_0x5eeb6d(0x38e)])_0x5759c8=this['instance']['profilePictureUrl'];else{let _0x34bb7e=_0x44d423?_0x2f469e['key'][_0x5eeb6d(0x47a)]:_0x2f469e[_0x5eeb6d(0x4b4)][_0x5eeb6d(0x456)];_0x5759c8=(await this['findAndUpdateCacheContact'](_0x34bb7e,_0x2f469e[_0x5eeb6d(0xa7)],!0x1))['cachedContact'][_0x5eeb6d(0x151)];}let _0x330563={'_id':_0x2f469e[_0x5eeb6d(0x4b4)]['id'],'key':_0x2f469e[_0x5eeb6d(0x4b4)],'isGroup':_0x44d423,'profilePictureUrl':_0x5759c8,'pushName':_0x2f469e['pushName'],'message':_0x45524d,'messageType':_0x45d10d,'message_normalized':{'key':_0x2f469e[_0x5eeb6d(0x4b4)],'pushName':_0x2f469e['pushName'],'messageTimestamp':_0x2f469e[_0x5eeb6d(0x5d5)],'source':(0x0,m['getDevice'])(_0x2f469e[_0x5eeb6d(0x4b4)]['id']),..._0x346c47},'messageTimestamp':_0x2f469e['messageTimestamp'],'owner':this[_0x5eeb6d(0x502)][_0x5eeb6d(0x5e4)],'source':(0x0,m['getDevice'])(_0x2f469e[_0x5eeb6d(0x4b4)]['id'])};_0x567732||(console[_0x5eeb6d(0xcd)](_0x5eeb6d(0x2dc)),this[_0x5eeb6d(0x5bb)]['error'](_0x330563)),this[_0x5eeb6d(0x5bb)][_0x5eeb6d(0x5db)](this[_0x5eeb6d(0x708)]+'\x20('+this[_0x5eeb6d(0x502)][_0x5eeb6d(0x5e4)]+_0x5eeb6d(0x3fe)+(_0x330563[_0x5eeb6d(0x4b4)]?.['fromMe']?_0x5eeb6d(0x682):_0x5eeb6d(0x6ba))+'\x20['+_0x330563[_0x5eeb6d(0x4b4)]?.[_0x5eeb6d(0x456)][_0x5eeb6d(0x18c)](_0x5eeb6d(0x30f),'')+']\x20('+_0x330563['messageType']+')'),_0x330563[_0x5eeb6d(0x3d9)]?.[_0x5eeb6d(0x283)]&&this[_0x5eeb6d(0x5bb)][_0x5eeb6d(0x5db)](_0x369ecb+':\x20'+_0x330563[_0x5eeb6d(0x3d9)]?.['text']),await this[_0x5eeb6d(0x368)]['message'][_0x5eeb6d(0x71b)]([_0x330563],this['instance'][_0x5eeb6d(0x5e4)]),this['sendDataWebhook'](_0x5eeb6d(0x1cf),_0x330563),q(this[_0x5eeb6d(0x708)],_0x5eeb6d(0x1e0),{'message':_0x330563}),_0x2f469e[_0x5eeb6d(0x4b4)][_0x5eeb6d(0x456)]!==_0x5eeb6d(0x67e)&&await this[_0x5eeb6d(0x5b9)](_0x12944a,_0x330563,'MESSAGES_UPSERT');},'messages.update':async(_0x51481a,_0xdcd68d)=>{const _0x2f8f2c=_0x2f1703;let _0x1ae6ec={0x0:_0x2f8f2c(0x564),0x1:_0x2f8f2c(0x3e0),0x2:_0x2f8f2c(0xa8),0x3:'DELIVERY_ACK',0x4:_0x2f8f2c(0x49e),0x5:'PLAYED'};for await(let {key:_0x25911b,update:_0xa16185}of _0x51481a){if(this['localWebhook']?.[_0x2f8f2c(0x430)]&&_0x25911b[_0x2f8f2c(0x456)]['includes']('@g.us')){this[_0x2f8f2c(0x5bb)][_0x2f8f2c(0x1a7)](this[_0x2f8f2c(0x708)]+'\x20('+this[_0x2f8f2c(0x502)][_0x2f8f2c(0x5e4)]+_0x2f8f2c(0x518));return;}if(_0x25911b[_0x2f8f2c(0x456)]!==_0x2f8f2c(0x67e)){let _0x55add5=Date['now'](),_0x304071;_0xa16185[_0x2f8f2c(0x737)]===null&&_0xa16185[_0x2f8f2c(0x3d6)]===void 0x0?_0x304071='DELETED':_0x304071=_0x1ae6ec[_0xa16185[_0x2f8f2c(0x3d6)]];let _0x370835=_0x25911b[_0x2f8f2c(0x456)][_0x2f8f2c(0x18c)](/:\d{1,2}@/g,'@'),_0xb5290a={..._0x25911b,'remoteJid':_0x370835,'status':_0x304071,'datetime':_0x55add5,'owner':this[_0x2f8f2c(0x502)][_0x2f8f2c(0x5e4)]};this[_0x2f8f2c(0x109)](_0x2f8f2c(0xbe),_0xb5290a),await this[_0x2f8f2c(0x3bc)](_0x25911b,_0xb5290a);}}},'labels.association':async({type:_0x16c483,association:_0x561dc8})=>{const _0x54bf82=_0x2f1703;if(_0x561dc8[_0x54bf82(0x6d4)]===_0x54bf82(0x5d1)){let _0x203109,_0xe38d8a=0x0;for(;!_0x203109&&_0xe38d8a<this[_0x54bf82(0x37f)];)_0x203109=await this[_0x54bf82(0x368)][_0x54bf82(0x4d5)]['findOne']({'where':{'_id':_0x561dc8[_0x54bf82(0x286)]}},this[_0x54bf82(0x502)][_0x54bf82(0x5e4)]),_0x203109||(_0xe38d8a++,console[_0x54bf82(0x5db)](_0x54bf82(0x57b)+_0x561dc8[_0x54bf82(0x286)]+_0x54bf82(0x1bc)+this[_0x54bf82(0x1ac)]+_0x54bf82(0x490)+_0xe38d8a+'/'+this[_0x54bf82(0x37f)]+')'),await this[_0x54bf82(0x635)](this[_0x54bf82(0x1ac)]));if(!_0x203109){console[_0x54bf82(0xcd)](_0x54bf82(0x105)+_0x561dc8[_0x54bf82(0x286)]+'\x20after\x20'+this[_0x54bf82(0x37f)]+_0x54bf82(0x556));return;}switch(_0x16c483){case _0x54bf82(0x268):console[_0x54bf82(0x5db)](_0x561dc8),await this[_0x54bf82(0x368)]['chat']['updateOne']({'where':{'_id':_0x561dc8[_0x54bf82(0x286)]}},{'leadInfo.etiquetas':_0x561dc8[_0x54bf82(0x4a1)]},this[_0x54bf82(0x502)]['wuid'],void 0x0,_0x54bf82(0x48d));break;case _0x54bf82(0x278):console[_0x54bf82(0x5db)](_0x561dc8),await this[_0x54bf82(0x368)]['chat'][_0x54bf82(0x34e)]({'where':{'_id':_0x561dc8[_0x54bf82(0x286)]}},{'leadInfo.etiquetas':_0x561dc8[_0x54bf82(0x4a1)]},this['instance']['wuid'],void 0x0,_0x54bf82(0xc6));break;default:console['error'](_0x54bf82(0x4f0)+_0x16c483+']');}}},'labels.edit':async _0x57cef=>{const _0x5eb9b4=_0x2f1703;if(!_0x57cef||!_0x57cef['id']){console[_0x5eb9b4(0xcd)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x57cef[_0x5eb9b4(0x3a3)]){let _0x12fb4c=['#ff9484',_0x5eb9b4(0x3a1),_0x5eb9b4(0x26c),_0x5eb9b4(0x497),_0x5eb9b4(0x4d4),'#56ccb4','#fe9dfe','#d3a91f',_0x5eb9b4(0x754),_0x5eb9b4(0x369),_0x5eb9b4(0x2cf),'#ffc5c7',_0x5eb9b4(0x42d),'#f64847',_0x5eb9b4(0x45c),_0x5eb9b4(0x3c9),_0x5eb9b4(0x377),_0x5eb9b4(0x313),_0x5eb9b4(0x1c8),_0x5eb9b4(0x411)],_0x47578e;typeof _0x57cef[_0x5eb9b4(0x38a)]=='number'&&_0x57cef['color']>=0x0&&_0x57cef[_0x5eb9b4(0x38a)]<_0x12fb4c[_0x5eb9b4(0x16d)]?_0x47578e=_0x12fb4c[_0x57cef['color']]:(console['error'](_0x5eb9b4(0x38f),_0x57cef['color']),_0x47578e=_0x5eb9b4(0x643));let _0x1eb0eb={'_id':_0x57cef['id'],'colorHex':_0x47578e,'color':_0x57cef?.[_0x5eb9b4(0x38a)],'name':_0x57cef?.[_0x5eb9b4(0x665)],'owner':this['instance'][_0x5eb9b4(0x5e4)]};await this[_0x5eb9b4(0x368)][_0x5eb9b4(0x4a0)]['updateOne']({'where':{'_id':_0x57cef['id']}},_0x1eb0eb,this[_0x5eb9b4(0x502)]['wuid']),console[_0x5eb9b4(0x5db)]('Rótulo\x20atualizado:',_0x57cef);}_0x57cef['deleted']&&(await this['repository']['label'][_0x5eb9b4(0x44d)]({'where':{'_id':_0x57cef['id']}},this[_0x5eb9b4(0x502)]['wuid']),console[_0x5eb9b4(0x5db)](_0x5eb9b4(0x2c3),_0x57cef['id']));}},this[_0x2f1703(0x714)]={'groups.upsert':_0x3d1ac6=>{const _0xe52290=_0x2f1703;this[_0xe52290(0x109)](_0xe52290(0x4e0),_0x3d1ac6);},'groups.update':_0x542df4=>{const _0x5dca25=_0x2f1703;this['sendDataWebhook'](_0x5dca25(0x255),_0x542df4);},'group-participants.update':_0x2260d7=>{const _0x3dc4a1=_0x2f1703;this[_0x3dc4a1(0x109)](_0x3dc4a1(0x19f),_0x2260d7);}},this[_0x2f1703(0x37f)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x2f1703(0x44e)]=async _0x4d5a95=>{const _0x248576=_0x2f1703;if(_0x4d5a95[_0x248576(0x737)]?.[_0x248576(0x2f8)]){let _0x138674=await this[_0x248576(0x5c5)](_0x4d5a95[_0x248576(0x737)][_0x248576(0x2f8)]['pollCreationMessageKey'],!0x0);if(_0x138674){let _0x15de4e=_0x138674['key'][_0x248576(0x38e)]?this[_0x248576(0x502)][_0x248576(0x5e4)]+_0x248576(0x30f):_0x138674[_0x248576(0x4b4)][_0x248576(0x47a)]||_0x138674[_0x248576(0x4b4)][_0x248576(0x456)],_0x474182=_0x138674[_0x248576(0x4b4)]['id'],_0x249ae1=_0x138674[_0x248576(0x737)],_0xbe8223=Buffer[_0x248576(0x120)](_0x249ae1[_0x248576(0x6a0)][_0x248576(0x468)][_0x248576(0x2eb)](_0x248576(0x480)),_0x248576(0x480)),_0x21b600=(0x0,m['decryptPollVote'])(_0x4d5a95[_0x248576(0x737)][_0x248576(0x2f8)]['vote'],{'pollCreatorJid':_0x15de4e,'pollMsgId':_0x474182,'pollEncKey':_0xbe8223,'voterJid':_0x4d5a95[_0x248576(0x4b4)][_0x248576(0x38e)]?this['instance']['wuid']+_0x248576(0x30f):_0x4d5a95[_0x248576(0x4b4)][_0x248576(0x456)][_0x248576(0x117)](_0x248576(0x66e))?_0x4d5a95[_0x248576(0x4b4)][_0x248576(0x47a)]:_0x4d5a95[_0x248576(0x4b4)]['remoteJid']}),_0x4f354c=[],_0x1957b2=_0x21b600[_0x248576(0x38d)][_0x248576(0x4dc)](_0x182db9=>Buffer[_0x248576(0x120)](_0x182db9)[_0x248576(0x2eb)](_0x248576(0x480)));for(let {optionName:_0x5e821a}of _0x249ae1[_0x248576(0x431)]?.[_0x248576(0x65c)]||_0x249ae1[_0x248576(0x41b)]?.[_0x248576(0x65c)]||_0x249ae1['pollCreationMessageV2']?.['options'])_0x1957b2['indexOf']((0x0,m[_0x248576(0x5ce)])(Buffer['from'](_0x5e821a))[_0x248576(0x2eb)]('hex'))>-0x1&&_0x4f354c['push'](_0x5e821a);return _0x4f354c;}}return null;},this[_0x2f1703(0x3c2)]=(_0x19ad18,_0x4fb791,_0x44ab6d)=>{const _0x4a48cd=_0x2f1703;try{let _0x167499=_0x19ad18?(0x0,m[_0x4a48cd(0x6cc)])(_0x19ad18)[_0x4fb791]:void 0x0,_0x3b2a98={},_0x4e940c=null,_0x3583c7=null,_0x378e4e=null;_0x4fb791==='protocolMessage'&&_0x167499?.[_0x4a48cd(0x59e)]&&(_0x4fb791=(0x0,m[_0x4a48cd(0x44f)])(_0x167499['editedMessage']),_0x4e940c=_0x19ad18[_0x4a48cd(0x6a9)][_0x4a48cd(0x4b4)]['id'],_0x167499=_0x19ad18['protocolMessage']['editedMessage'][_0x4fb791]),_0x19ad18[_0x4fb791]?.[_0x4a48cd(0x68b)]?.[_0x4a48cd(0x758)]&&_0x19ad18[_0x4fb791]?.['contextInfo']?.['quotedMessage']&&(_0x3583c7=_0x19ad18[_0x4fb791][_0x4a48cd(0x68b)][_0x4a48cd(0x758)]),_0x19ad18[_0x4a48cd(0x1ee)]&&(_0x378e4e=_0x19ad18[_0x4a48cd(0x1ee)][_0x4a48cd(0x4b4)]['id']);let _0x3641d2;if(_0x167499&&typeof _0x167499=='object'&&'pollCreationMessageKey'in _0x167499&&({pollCreationMessageKey:_0x3641d2}=_0x167499),_0x4fb791==='pollCreationMessage'||_0x4fb791===_0x4a48cd(0x1ad)||_0x4fb791==='pollCreationMessageV3'){let _0xea3a4f=_0x167499[_0x4a48cd(0x65c)]['map'](_0x1205a3=>_0x1205a3[_0x4a48cd(0x389)])[_0x4a48cd(0x3de)]('|');_0x3b2a98[_0x4a48cd(0x3f6)]=_0xea3a4f;}let _0x3d0081='';if(_0x167499&&(_0x3d0081+=_0x167499['name']?_0x167499[_0x4a48cd(0x665)]:'',_0x3d0081+=_0x167499[_0x4a48cd(0x196)]?'\x20'+_0x167499['caption']:'',_0x3d0081+=_0x167499[_0x4a48cd(0x1fb)]?'\x20'+_0x167499[_0x4a48cd(0x1fb)]:'',_0x3d0081+=_0x167499[_0x4a48cd(0x3e5)]?'\x20'+_0x167499[_0x4a48cd(0x3e5)]:''),_0x4fb791===_0x4a48cd(0x3c4)){_0x3d0081=(_0x167499[_0x4a48cd(0x28c)]||'')+'\x0a'+(_0x167499['description']||'')+'\x0a'+(_0x167499[_0x4a48cd(0x3d0)]||'');let _0x25f2a8=this[_0x4a48cd(0x458)](_0x167499[_0x4a48cd(0x48e)]);_0x3b2a98[_0x4a48cd(0x3f6)]=_0x25f2a8;}if(_0x4fb791===_0x4a48cd(0xc3)&&(_0x44ab6d=_0x167499[_0x4a48cd(0x28c)]),_0x167499&&_0x167499[_0x4a48cd(0x613)]){let _0x4fcd55=this[_0x4a48cd(0x141)](JSON[_0x4a48cd(0x757)](_0x167499[_0x4a48cd(0x613)],null,0x2));_0x3d0081=_0x3d0081+'\x0a'+_0x4fcd55;}if(_0x167499){let {sections:_0x158e9b,listType:_0x4a4a5e,displayName:_0x2a4366,vcard:_0x2a0ae1,contactVcard:_0x1e2856,name:_0x40dd95,caption:_0x2aa63a,conversation:_0x26ba42,pollCreationMessageKey:_0x2dd4e4,footerText:_0x4b3057,contentText:_0x29f993,pageCount:_0x6add03,headerType:_0x5168a2,isAvatar:_0x3391fb,isAnimated:_0x299fa9,fallbackLc:_0x3f60ce,fallbackLg:_0x4130cb,namespace:_0x4b21a0,elementName:_0x453ed9,localizableParams:_0x12491b,viewOnce:_0x5d526f,height:_0x111a59,width:_0x30f99f,key:_0x3e342b,firstScanLength:_0x288628,firstScanSidecar:_0x5468c5,gifPlayback:_0x36394c,gifAttribution:_0xd26a80,midQualityFileSha256:_0x4b196d,scansSidecar:_0x364571,streamingSidecar:_0xcde71c,thumbnailHeight:_0xd1bd9f,thumbnailWidth:_0x41a535,thumbnailEncSha256:_0xfa18c3,thumbnailDirectPath:_0x27f681,canonicalUrl:_0x34cef7,matchedText:_0x3b7717,previewType:_0x491896,thumbnailSha256:_0x1c6fc2,deviceListMetadataVersion:_0x2ca748,inviteLinkGroupTypeV2:_0x49f59,interactiveAnnotations:_0x384b67,scanLengths:_0x230be8,jpegThumbnail:_0x38408a,url:_0x5dd97c,mediaKeyTimestamp:_0x38d589,waveform:_0x50d42d,stickerSentTs:_0x36757d,firstFrameLength:_0x299645,fileEncSha256:_0x15d9c9,contextInfo:_0xa7886b,firstFrameSidecar:_0x2837bf,directPath:_0x1ba251,fileSha256:_0x3dacf3,mediaKey:_0x4a9251,senderTimestampMs:_0x3875f1,..._0x3a189b}=_0x167499;(_0x4fb791===_0x4a48cd(0x3c4)||_0x4fb791===_0x4a48cd(0xc3))&&(delete _0x3a189b['title'],delete _0x3a189b['description']),typeof _0x167499==_0x4a48cd(0x2b9)?_0x3b2a98={'text':_0x167499,'type':_0x4fb791||'conversation',..._0x4e940c&&{'edited':_0x4e940c},..._0x3583c7&&{'quoted':_0x3583c7},..._0x378e4e&&{'reaction':_0x378e4e}}:_0x3b2a98={'text':_0x3d0081,..._0x3a189b,..._0x4fb791==='pollUpdateMessage'?{'poll_id':_0x167499['pollCreationMessageKey']['id'],'quoted':_0x167499[_0x4a48cd(0x5f7)]['id'],'vote':_0x44ab6d}:{},..._0x4fb791===_0x4a48cd(0xc3)?{'vote':_0x44ab6d}:{},'type':_0x4fb791,..._0x4e940c&&{'edited':_0x4e940c},..._0x3583c7&&{'quoted':_0x3583c7},..._0x378e4e&&{'reaction':_0x378e4e},...(_0x4fb791==='pollCreationMessage'||_0x4fb791==='pollCreationMessageV2'||_0x4fb791===_0x4a48cd(0x41b)||_0x4fb791===_0x4a48cd(0x3c4))&&{'convertedOptions':_0x3b2a98[_0x4a48cd(0x3f6)]}};}return{'messageType':_0x4fb791,'messageContent':_0x167499,'message_normalized':_0x3b2a98};}catch(_0x42dae6){return console[_0x4a48cd(0xcd)](_0x4a48cd(0x524),_0x42dae6),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this['cleanStore'](),this[_0x2f1703(0x502)]['qrcode']={'count':0x0},this[_0x2f1703(0x502)][_0x2f1703(0x6b2)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x4511c4(0x708)](_0x5ba994){const _0x36439b=a0_0x4511c4;if(!_0x5ba994){this[_0x36439b(0x502)][_0x36439b(0x665)]=(0x0,Tr['v4'])();return;}this['instance']['name']=_0x5ba994,this[_0x36439b(0x109)](_0x36439b(0x1bf),{'instance':this['instance'][_0x36439b(0x665)],'status':'created'});}get['instanceName'](){const _0x4d670c=a0_0x4511c4;return this['instance'][_0x4d670c(0x665)];}get[a0_0x4511c4(0x5e4)](){const _0x3fb1c4=a0_0x4511c4;return this[_0x3fb1c4(0x502)][_0x3fb1c4(0x5e4)];}async[a0_0x4511c4(0x207)](){const _0x355cb5=a0_0x4511c4;let _0x4be887=this[_0x355cb5(0x20b)][_0x355cb5(0x11a)]?.['name']??this[_0x355cb5(0x20b)][_0x355cb5(0x11a)]?.[_0x355cb5(0xb5)];if(!_0x4be887){if(this[_0x355cb5(0x626)][_0x355cb5(0x436)](_0x355cb5(0x619))[_0x355cb5(0x2b7)]){let _0x35ade7=await T[_0x355cb5(0x6b9)]()['db'](this[_0x355cb5(0x626)][_0x355cb5(0x436)](_0x355cb5(0x619))[_0x355cb5(0x125)][_0x355cb5(0x179)]+_0x355cb5(0x220))[_0x355cb5(0x647)](this[_0x355cb5(0x708)])['findOne']({'_id':_0x355cb5(0x2e2)});if(_0x35ade7){let _0x35b3b0=JSON[_0x355cb5(0x49a)](JSON[_0x355cb5(0x757)](_0x35ade7),m['BufferJSON'][_0x355cb5(0x444)]);_0x4be887=_0x35b3b0['me']?.['name']||_0x35b3b0['me']?.[_0x355cb5(0xb5)];}}else{if((0x0,Te['existsSync'])((0x0,J[_0x355cb5(0x3de)])(ge,this['instanceName'],'creds.json'))){let _0x3f07e9=JSON['parse']((0x0,Te[_0x355cb5(0x606)])((0x0,J[_0x355cb5(0x3de)])(ge,this[_0x355cb5(0x708)],_0x355cb5(0x3ce)),{'encoding':_0x355cb5(0x693)}));_0x4be887=_0x3f07e9['me']?.[_0x355cb5(0x665)]||_0x3f07e9['me']?.['verifiedName'];}}}return _0x4be887;}get[a0_0x4511c4(0x48a)](){const _0x50dff7=a0_0x4511c4;return this[_0x50dff7(0x502)][_0x50dff7(0x48a)];}get[a0_0x4511c4(0x40a)](){const _0x3f0fa8=a0_0x4511c4;return{'pairingCode':this[_0x3f0fa8(0x502)][_0x3f0fa8(0x6b4)]?.[_0x3f0fa8(0x725)],'code':this[_0x3f0fa8(0x502)]['qrcode']?.['code'],'base64':this[_0x3f0fa8(0x502)]['qrcode']?.[_0x3f0fa8(0x4b3)]};}async['loadWebhook'](){const _0x1e5d23=a0_0x4511c4;let _0x48b2c2=await this[_0x1e5d23(0x368)][_0x1e5d23(0x1dc)][_0x1e5d23(0x5af)](this['instanceName']);this[_0x1e5d23(0xee)][_0x1e5d23(0x405)]=_0x48b2c2?.[_0x1e5d23(0x405)],this['localWebhook'][_0x1e5d23(0x2e1)]=_0x48b2c2?.['enabled'],this[_0x1e5d23(0xee)][_0x1e5d23(0x111)]=_0x48b2c2?.[_0x1e5d23(0x111)],this[_0x1e5d23(0xee)]['STATUS_INSTANCE']=_0x48b2c2?.['STATUS_INSTANCE'],this[_0x1e5d23(0xee)]['QRCODE_UPDATED']=_0x48b2c2?.[_0x1e5d23(0xda)],this['localWebhook']['SEND_MESSAGE']=_0x48b2c2?.[_0x1e5d23(0x139)],this[_0x1e5d23(0xee)]['MESSAGES_UPSERT']=_0x48b2c2?.['MESSAGES_UPSERT'],this[_0x1e5d23(0xee)][_0x1e5d23(0x200)]=_0x48b2c2?.[_0x1e5d23(0x200)],this[_0x1e5d23(0xee)][_0x1e5d23(0x71c)]=_0x48b2c2?.[_0x1e5d23(0x71c)],this[_0x1e5d23(0xee)][_0x1e5d23(0x335)]=_0x48b2c2?.['GROUPS_UPDATE'],this[_0x1e5d23(0xee)]['GROUP_PARTICIPANTS_UPDATE']=_0x48b2c2?.[_0x1e5d23(0x227)],this['localWebhook'][_0x1e5d23(0x2fe)]=_0x48b2c2?.[_0x1e5d23(0x2fe)],this['localWebhook'][_0x1e5d23(0x159)]=_0x48b2c2?.[_0x1e5d23(0x159)],this[_0x1e5d23(0xee)][_0x1e5d23(0x39b)]=_0x48b2c2?.[_0x1e5d23(0x39b)],this['localWebhook'][_0x1e5d23(0x4cb)]=_0x48b2c2?.[_0x1e5d23(0x4cb)],this[_0x1e5d23(0xee)][_0x1e5d23(0x2ac)]=_0x48b2c2?.[_0x1e5d23(0x2ac)],this['localWebhook']['CONTACTS_UPSERT']=_0x48b2c2?.[_0x1e5d23(0x1a3)],this[_0x1e5d23(0xee)][_0x1e5d23(0x33f)]=_0x48b2c2?.['CONTACTS_UPDATE'],this[_0x1e5d23(0xee)][_0x1e5d23(0x228)]=_0x48b2c2?.['PRESENCE_UPDATE'],this[_0x1e5d23(0xee)]['MESSAGES_SET']=_0x48b2c2?.[_0x1e5d23(0x100)],this['localWebhook'][_0x1e5d23(0x19e)]=_0x48b2c2?.[_0x1e5d23(0x19e)],this['localWebhook']['groups_ignore']=_0x48b2c2?.['groups_ignore'];}async[a0_0x4511c4(0x551)](_0x2f3824){const _0x375f6e=a0_0x4511c4;let _0xf0cec7=['_id',_0x375f6e(0x405),_0x375f6e(0x2e1),_0x375f6e(0x111),'STATUS_INSTANCE','QRCODE_UPDATED',_0x375f6e(0x200),'MESSAGES_UPSERT','SEND_MESSAGE',_0x375f6e(0x71c),_0x375f6e(0x335),_0x375f6e(0x227),_0x375f6e(0x2fe),_0x375f6e(0x159),_0x375f6e(0x39b),_0x375f6e(0x4cb),'CONTACTS_SET',_0x375f6e(0x1a3),'CONTACTS_UPDATE','PRESENCE_UPDATE',_0x375f6e(0x100),_0x375f6e(0x19e),_0x375f6e(0x430)],_0x1721a5={};return _0xf0cec7[_0x375f6e(0x2a7)](_0x29db22=>{_0x2f3824[_0x29db22]!==void 0x0&&(_0x1721a5[_0x29db22]=_0x2f3824[_0x29db22]);}),await this[_0x375f6e(0x368)]['webhook'][_0x375f6e(0x40d)](_0x1721a5,this['instanceName']),Object[_0x375f6e(0x658)](this[_0x375f6e(0xee)],_0x1721a5),await this[_0x375f6e(0x368)][_0x375f6e(0x1dc)]['find'](this[_0x375f6e(0x708)]);}async[a0_0x4511c4(0x59b)](){const _0x2b39fd=a0_0x4511c4;return await this[_0x2b39fd(0x368)]['webhook'][_0x2b39fd(0x5af)](this[_0x2b39fd(0x708)]);}async['sendDataWebhook'](_0x2caf3f,_0x4452ad){const _0x309fa4=a0_0x4511c4;let _0x27b1a5=_0x2caf3f[_0x309fa4(0x18c)](/[\.-]/gm,'_')[_0x309fa4(0x388)](),_0x1c2d31=this['localWebhook']['enabled']&&(0x0,P[_0x309fa4(0x539)])(this[_0x309fa4(0xee)]['url'])?this[_0x309fa4(0xee)][_0x309fa4(0x405)]+(this['localWebhook'][_0x309fa4(0x111)]?this['webhookMap'][_0x2caf3f]:''):null,_0x1491d4=this[_0x309fa4(0xee)][_0x27b1a5],_0x458dbd=ce&&ce['enabled']&&(0x0,P[_0x309fa4(0x539)])(ce['url'])?ce[_0x309fa4(0x405)]+(ce[_0x309fa4(0x111)]?this[_0x309fa4(0x1f0)][_0x2caf3f]:''):null,_0x19a663=ce?ce[_0x27b1a5]:null;if(_0x1491d4&&_0x1c2d31)try{await Z[_0x309fa4(0x1e4)][_0x309fa4(0x40d)]({'baseURL':_0x1c2d31})[_0x309fa4(0x26b)]('',{'event':_0x2caf3f,'instance':this[_0x309fa4(0x502)][_0x309fa4(0x665)],'apikey':this[_0x309fa4(0x502)]['apikey'],'data':_0x4452ad}),this[_0x309fa4(0x5bb)][_0x309fa4(0x5db)](this[_0x309fa4(0x708)]+'\x20('+this[_0x309fa4(0x502)][_0x309fa4(0x5e4)]+_0x309fa4(0x2b0)+_0x2caf3f+':\x20'+_0x1c2d31);}catch{this[_0x309fa4(0x5bb)][_0x309fa4(0xcd)](this[_0x309fa4(0x708)]+'\x20('+this[_0x309fa4(0x502)][_0x309fa4(0x5e4)]+_0x309fa4(0x2fd)+_0x2caf3f+':\x20'+_0x1c2d31);}if(_0x19a663&&_0x458dbd)try{await Z['default'][_0x309fa4(0x40d)]({'baseURL':_0x458dbd})[_0x309fa4(0x26b)]('',{'event':_0x2caf3f,'instance':this[_0x309fa4(0x502)][_0x309fa4(0x665)],'apikey':this['instance']['apikey'],'data':_0x4452ad}),this[_0x309fa4(0x5bb)]['log'](this[_0x309fa4(0x708)]+'\x20('+this[_0x309fa4(0x502)][_0x309fa4(0x5e4)]+_0x309fa4(0x214)+_0x2caf3f+':\x20'+_0x458dbd);}catch{this[_0x309fa4(0x5bb)][_0x309fa4(0xcd)](this[_0x309fa4(0x708)]+'\x20('+this[_0x309fa4(0x502)]['wuid']+_0x309fa4(0x6d2)+_0x2caf3f+':\x20'+_0x458dbd);}}async[a0_0x4511c4(0xb1)]({qr:_0x1ea36e,connection:_0x1d0883,lastDisconnect:_0x183410}){const _0x2bef1d=a0_0x4511c4;if(_0x1ea36e){if(this[_0x2bef1d(0x502)][_0x2bef1d(0x6b4)]['count']===Mi)return this[_0x2bef1d(0x109)]('qrcode.updated',{'message':_0x2bef1d(0x6b1),'statusCode':m['DisconnectReason'][_0x2bef1d(0x103)]}),this[_0x2bef1d(0x5f9)]={'state':_0x2bef1d(0x4b7),'statusReason':m[_0x2bef1d(0xe7)][_0x2bef1d(0x6da)]},this['sendDataWebhook']('connection.update',{'instance':this[_0x2bef1d(0x502)]['name'],...this['stateConnection']}),this[_0x2bef1d(0x109)](_0x2bef1d(0x1bf),{'instance':this['instance'][_0x2bef1d(0x665)],'status':_0x2bef1d(0x6fe)}),this[_0x2bef1d(0x368)][_0x2bef1d(0x750)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2bef1d(0x56c)]()},this[_0x2bef1d(0x502)][_0x2bef1d(0x665)]),this[_0x2bef1d(0x5ca)]=!0x0,this['eventEmitter'][_0x2bef1d(0x177)](_0x2bef1d(0x43d),this[_0x2bef1d(0x502)][_0x2bef1d(0x665)]);this[_0x2bef1d(0x502)][_0x2bef1d(0x6b4)][_0x2bef1d(0x6b0)]++;let _0xcd44a6={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x2bef1d(0x5a9),'dark':_0x2bef1d(0x643)}};Or['default'][_0x2bef1d(0x5a3)](_0x1ea36e,_0xcd44a6,(_0x8b04b6,_0x90d312)=>{const _0x5116fc=_0x2bef1d;if(_0x8b04b6){this[_0x5116fc(0x5bb)][_0x5116fc(0xcd)](this[_0x5116fc(0x708)]+'\x20('+this['instance'][_0x5116fc(0x5e4)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x8b04b6 instanceof Error?_0x8b04b6['message']:JSON[_0x5116fc(0x757)](_0x8b04b6,null,0x2)));return;}this[_0x5116fc(0x502)][_0x5116fc(0x6b4)][_0x5116fc(0x4b3)]=_0x90d312,this[_0x5116fc(0x502)][_0x5116fc(0x6b4)]['code']=_0x1ea36e,this[_0x5116fc(0x109)](_0x5116fc(0x270),{'qrcode':{'instance':this[_0x5116fc(0x502)][_0x5116fc(0x665)],'pairingCode':this[_0x5116fc(0x502)]['qrcode'][_0x5116fc(0x725)],'code':_0x1ea36e,'base64':_0x90d312}});}),this['phoneNumber']?(await(0x0,m['delay'])(0x7d0),this[_0x2bef1d(0x502)][_0x2bef1d(0x6b4)]['pairingCode']=await this[_0x2bef1d(0x20b)][_0x2bef1d(0x62c)](this[_0x2bef1d(0x438)])):this[_0x2bef1d(0x502)][_0x2bef1d(0x6b4)][_0x2bef1d(0x725)]=null,Ar[_0x2bef1d(0x1e4)][_0x2bef1d(0x64c)](_0x1ea36e,{'small':!0x0},_0x2e3537=>this[_0x2bef1d(0x5bb)][_0x2bef1d(0x5db)](_0x2bef1d(0x75f)+this[_0x2bef1d(0x502)][_0x2bef1d(0x665)]+_0x2bef1d(0x2ea)+this['instance'][_0x2bef1d(0x6b4)][_0x2bef1d(0x6b0)]+_0x2bef1d(0x2af)+this[_0x2bef1d(0x502)][_0x2bef1d(0x6b4)][_0x2bef1d(0x725)]+'\x20}\x0a'+_0x2e3537));}if(_0x1d0883&&(this[_0x2bef1d(0x5f9)]={'state':_0x1d0883,'statusReason':_0x183410?.[_0x2bef1d(0xcd)]?.[_0x2bef1d(0x165)]?.['statusCode']??0xc8},this['sendDataWebhook'](_0x2bef1d(0x71a),{'instance':this[_0x2bef1d(0x502)][_0x2bef1d(0x665)],...this[_0x2bef1d(0x5f9)]})),_0x1d0883==='close'){if(this[_0x2bef1d(0x1e6)]++,this[_0x2bef1d(0x32c)][_0x2bef1d(0x6f3)](Date[_0x2bef1d(0x56c)]()),this['reconnectTimestamps']=this[_0x2bef1d(0x32c)][_0x2bef1d(0x472)](_0x49252c=>Date['now']()-_0x49252c<this[_0x2bef1d(0x34f)]),_0x183410[_0x2bef1d(0xcd)]?.[_0x2bef1d(0x165)]?.['statusCode']!==m[_0x2bef1d(0xe7)][_0x2bef1d(0x5f5)]&&this[_0x2bef1d(0x32c)][_0x2bef1d(0x16d)]<=this[_0x2bef1d(0x406)])console[_0x2bef1d(0x5db)](this[_0x2bef1d(0x708)]+_0x2bef1d(0x55d)+this[_0x2bef1d(0x1e6)]+'/'+this[_0x2bef1d(0x406)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x2bef1d(0x5db)](_0x2bef1d(0x43e)),await this[_0x2bef1d(0x61a)]();else{this['sendDataWebhook'](_0x2bef1d(0x1bf),{'instance':this[_0x2bef1d(0x502)][_0x2bef1d(0x665)],'status':_0x2bef1d(0x6fe)}),this[_0x2bef1d(0x502)][_0x2bef1d(0x6b2)]['isConnected']=!0x1,this[_0x2bef1d(0x368)][_0x2bef1d(0x1dc)]['delete'](this[_0x2bef1d(0x708)]),this['repository'][_0x2bef1d(0x750)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2bef1d(0x56c)]()},this[_0x2bef1d(0x502)][_0x2bef1d(0x665)]);try{this['logger'][_0x2bef1d(0x1a7)](this[_0x2bef1d(0x708)]+'\x20('+this[_0x2bef1d(0x502)][_0x2bef1d(0x5e4)]+_0x2bef1d(0x677));let _0x3f3820=await this[_0x2bef1d(0x368)]['message'][_0x2bef1d(0xae)](this[_0x2bef1d(0x502)][_0x2bef1d(0x5e4)]);_0x3f3820[_0x2bef1d(0xf6)]?this[_0x2bef1d(0x5bb)][_0x2bef1d(0x1a7)](this[_0x2bef1d(0x708)]+'\x20('+this[_0x2bef1d(0x502)][_0x2bef1d(0x5e4)]+_0x2bef1d(0x195)):console[_0x2bef1d(0xcd)](_0x2bef1d(0x1c9),_0x3f3820[_0x2bef1d(0xcd)]);}catch(_0x5ca23a){console['error'](_0x2bef1d(0x4aa),_0x5ca23a);}this[_0x2bef1d(0x502)][_0x2bef1d(0x6b2)]['delayMessage']!==null&&(this[_0x2bef1d(0x5bb)][_0x2bef1d(0x1a7)](this[_0x2bef1d(0x708)]+'\x20('+this[_0x2bef1d(0x502)]['wuid']+_0x2bef1d(0x51a)),clearInterval(this[_0x2bef1d(0x502)][_0x2bef1d(0x6b2)]['delayMessage']),this['instance']['ScheduleMessage'][_0x2bef1d(0xa3)]=null),this['logger']['verbose'](this[_0x2bef1d(0x708)]+'\x20('+this[_0x2bef1d(0x502)]['wuid']+_0x2bef1d(0x710)),this[_0x2bef1d(0x3db)]=null,this[_0x2bef1d(0x477)][_0x2bef1d(0x177)]('remove.instance',this[_0x2bef1d(0x502)][_0x2bef1d(0x665)],_0x2bef1d(0x27a)),this[_0x2bef1d(0x20b)]?.['ws']?.[_0x2bef1d(0x5b5)](),this['client'][_0x2bef1d(0x37b)](new Error(_0x2bef1d(0x6ac)));}}if(_0x1d0883===_0x2bef1d(0x37a)){this['client']['ev']['flush'](),this[_0x2bef1d(0x4f3)],this['instance']['wuid']=this['client']['user']['id']['replace'](/:\d+/,'')[_0x2bef1d(0x18c)]('@s.whatsapp.net',''),this[_0x2bef1d(0x502)]['profilePictureUrl']=(await this[_0x2bef1d(0x4cc)](this[_0x2bef1d(0x502)][_0x2bef1d(0x5e4)]+_0x2bef1d(0x30f)))['profilePictureUrl'],this[_0x2bef1d(0x368)][_0x2bef1d(0x750)][_0x2bef1d(0x40d)]({'online':!0x0,'owner':this[_0x2bef1d(0x502)]['wuid'],'lastDisconnect':null},this[_0x2bef1d(0x502)][_0x2bef1d(0x665)]);let _0x5e3f12=_0x2bef1d(0x303)+this[_0x2bef1d(0x502)][_0x2bef1d(0x5e4)],_0x47a78a=0x28,_0x15c2be=Math[_0x2bef1d(0x3a5)]((_0x47a78a-_0x5e3f12[_0x2bef1d(0x16d)])/0x2),_0x45a463='\x20'['repeat'](_0x15c2be),_0x5835f7='CONECTADO\x20À\x20UAZAPI',_0x185964=_0x2bef1d(0x2c5)+this[_0x2bef1d(0x502)][_0x2bef1d(0x665)],_0x226f86=(''+_0x45a463+_0x5e3f12+_0x45a463)[_0x2bef1d(0x560)](_0x47a78a,'\x20'),_0x47c355=(''+_0x45a463+_0x5835f7+_0x45a463)[_0x2bef1d(0x560)](_0x47a78a,'\x20'),_0x3b9814=(''+_0x45a463+_0x185964+_0x45a463)['padEnd'](_0x47a78a,'\x20'),_0x4a6707=Math[_0x2bef1d(0x73b)](_0x226f86['length'],_0x47c355[_0x2bef1d(0x16d)],_0x3b9814[_0x2bef1d(0x16d)]),_0x4adb90=_0x226f86['padEnd'](_0x4a6707,'\x20'),_0x4289df=_0x47c355[_0x2bef1d(0x560)](_0x4a6707,'\x20'),_0x3121c4=_0x3b9814[_0x2bef1d(0x560)](_0x4a6707,'\x20');this[_0x2bef1d(0x5bb)][_0x2bef1d(0x10b)]((_0x2bef1d(0x232)+'─'['repeat'](_0x4a6707)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x4289df+_0x2bef1d(0x331)+_0x3121c4+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x4adb90+_0x2bef1d(0x5f4)+'─'['repeat'](_0x4a6707)+'┘')[_0x2bef1d(0x18c)](/^ +/gm,'\x20\x20')),this[_0x2bef1d(0x42a)](),this[_0x2bef1d(0x502)]['ScheduleMessage'][_0x2bef1d(0x30a)]=!0x0;}}[a0_0x4511c4(0x4f3)](){const _0xe089bf=a0_0x4511c4;this[_0xe089bf(0x1e6)]=0x0,this[_0xe089bf(0x32c)]=[];}async[a0_0x4511c4(0x5c5)](_0x9fdb14,_0x57c0d6=!0x1){const _0x48ad46=a0_0x4511c4;try{let _0x272bf0=await this[_0x48ad46(0x368)][_0x48ad46(0x737)][_0x48ad46(0x5af)]({'where':{'_id':_0x9fdb14['id']}},this[_0x48ad46(0x502)]['wuid']);return _0x57c0d6?_0x272bf0[0x0]:_0x272bf0[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x4511c4(0x235)](){const _0x1652fd=a0_0x4511c4;let _0x426b84=this['configService']['get'](_0x1652fd(0x140)),_0x3504c2=this[_0x1652fd(0x626)]['get'](_0x1652fd(0x619));_0x426b84?.['CLEANING_INTERVAL']&&!_0x3504c2[_0x1652fd(0x2b7)]&&setInterval(()=>{const _0x7504ff=_0x1652fd;try{for(let [_0x502fa8,_0x4cdcab]of Object['entries'](_0x426b84))_0x4cdcab===!0x0&&(0x0,jt[_0x7504ff(0x371)])(_0x7504ff(0x3fc)+(0x0,J[_0x7504ff(0x3de)])(this[_0x7504ff(0x387)],_0x502fa8[_0x7504ff(0x5d2)](),this[_0x7504ff(0x502)]['wuid'])+_0x7504ff(0x2e8));}catch{}},(_0x426b84?.[_0x1652fd(0x3dd)]??0xe10)*0x3e8);}async[a0_0x4511c4(0x58a)](){const _0xb77561=a0_0x4511c4;let _0xf17a87=this[_0xb77561(0x626)][_0xb77561(0x436)](_0xb77561(0x619)),_0x22eb4e=this[_0xb77561(0x626)]['get'](_0xb77561(0x1a0));return _0x22eb4e?.[_0xb77561(0x2b7)]?await Ns(_0x22eb4e,this[_0xb77561(0x502)][_0xb77561(0x665)]):_0xf17a87[_0xb77561(0x2b7)]?await vs(this[_0xb77561(0x502)]['name']):await(0x0,m[_0xb77561(0x323)])((0x0,J['join'])(ge,this[_0xb77561(0x502)][_0xb77561(0x665)]));}async['AutomateFunctions'](){const _0x2f7447=a0_0x4511c4;let _0x262681=()=>Math[_0x2f7447(0x3a5)](Math['random']()*0x2711)+0x7d0,_0x240afe=async()=>{const _0x391dbf=_0x2f7447;if(!this[_0x391dbf(0x502)][_0x391dbf(0x6b2)][_0x391dbf(0x30a)]){this[_0x391dbf(0x5bb)][_0x391dbf(0x1a7)](_0x391dbf(0x150)),this['isRunning']=!0x1;return;}if(this[_0x391dbf(0x502)][_0x391dbf(0x5e4)]&&this['AutomateSystem']&&this[_0x391dbf(0x502)]['ScheduleMessage'][_0x391dbf(0xa3)]!==null&&this[_0x391dbf(0x502)]['ScheduleMessage'][_0x391dbf(0xa3)]!==void 0x0){let _0x2e2a86=Math[_0x391dbf(0x3eb)](this[_0x391dbf(0x502)][_0x391dbf(0x6b2)]['delayMessage']/0xea60);this[_0x391dbf(0x5bb)]['verbose'](this[_0x391dbf(0x708)]+'\x20('+this[_0x391dbf(0x502)][_0x391dbf(0x5e4)]+_0x391dbf(0x3ca)+_0x2e2a86+_0x391dbf(0x1af)),this['isRunning']=!0x1;return;}else this[_0x391dbf(0x502)][_0x391dbf(0x5e4)]&&(this['logger'][_0x391dbf(0x1a7)](this[_0x391dbf(0x708)]+'\x20('+this[_0x391dbf(0x502)][_0x391dbf(0x5e4)]+_0x391dbf(0x399)),this[_0x391dbf(0x3db)]||await this[_0x391dbf(0x686)](),(this['instance'][_0x391dbf(0x6b2)][_0x391dbf(0xa3)]===null||this[_0x391dbf(0x502)][_0x391dbf(0x6b2)][_0x391dbf(0xa3)]===void 0x0)&&await this[_0x391dbf(0x457)]());if(this['isRunning']){let _0x3be127=_0x262681();this[_0x391dbf(0x5bb)][_0x391dbf(0x1a7)](this[_0x391dbf(0x708)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x3be127/0x3e8+_0x391dbf(0x3b3)),setTimeout(_0x240afe,_0x3be127);}};if(this[_0x2f7447(0x325)])return;this['isRunning']=!0x0;let _0x22b18c=_0x262681();setTimeout(_0x240afe,_0x22b18c);}async[a0_0x4511c4(0x644)](_0x222fcb=0x0,_0x56ba14=!0x1){const _0x29237c=a0_0x4511c4;try{let _0x16f04b=this[_0x29237c(0x626)][_0x29237c(0x436)](_0x29237c(0x594));if(_0x16f04b!==0x1||typeof _0x16f04b>'u'||_0x222fcb>=0x5)return this['logger'][_0x29237c(0x494)](_0x29237c(0x1b9)),this[_0x29237c(0x368)][_0x29237c(0x750)][_0x29237c(0x40d)]({'ip':null},this['instance'][_0x29237c(0x665)]),{};this[_0x29237c(0x5bb)]['verbose'](this['instanceName']+_0x29237c(0x463)+(_0x222fcb+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x1e6f57;if(!_0x56ba14){let _0x502077=await this[_0x29237c(0x368)][_0x29237c(0x750)][_0x29237c(0x5af)](this['instanceName']);_0x502077&&_0x502077['ip']&&(_0x1e6f57=Er(_0x502077['ip']));}if((!_0x1e6f57||!Rs(_0x1e6f57))&&(this['logger']['warn'](this['instanceName']+_0x29237c(0x761)),_0x1e6f57=Mr()),_0x1e6f57&&Rs(_0x1e6f57)){let _0x591f4f=_0x1e6f57[_0x29237c(0x20e)]&&_0x1e6f57[_0x29237c(0x689)]?_0x1e6f57[_0x29237c(0x596)]+_0x29237c(0x266)+_0x1e6f57[_0x29237c(0x20e)]+':'+_0x1e6f57[_0x29237c(0x689)]+'@'+_0x1e6f57[_0x29237c(0x6f1)]+':'+_0x1e6f57[_0x29237c(0x62d)]:_0x1e6f57[_0x29237c(0x596)]+_0x29237c(0x266)+_0x1e6f57['host']+':'+_0x1e6f57[_0x29237c(0x62d)];return await this[_0x29237c(0x6df)](_0x591f4f,_0x1e6f57['host'])?(this['logger'][_0x29237c(0x1a7)](this[_0x29237c(0x708)]+_0x29237c(0x13c)),this[_0x29237c(0x368)][_0x29237c(0x750)]['create']({'ip':_0x1e6f57['host']},this['instance'][_0x29237c(0x665)]),{'agent':new Lt[(_0x29237c(0x330))](_0x591f4f),'fetchAgent':new Lt[(_0x29237c(0x330))](_0x591f4f)}):(this['logger']['warn'](this[_0x29237c(0x708)]+_0x29237c(0x740)),await(0x0,m[_0x29237c(0xc8)])(0xc8),this[_0x29237c(0x644)](_0x222fcb+0x1,!0x0));}else return this[_0x29237c(0x5bb)]['warn'](this[_0x29237c(0x708)]+_0x29237c(0x226)),await(0x0,m[_0x29237c(0xc8)])(0xc8),this[_0x29237c(0x644)](_0x222fcb+0x1,!0x0);}catch(_0x5127f0){return this[_0x29237c(0x5bb)][_0x29237c(0xcd)](this[_0x29237c(0x708)]+_0x29237c(0x1e8)+_0x5127f0[_0x29237c(0x737)]),{};}}async['testProxy'](_0x406790,_0x2a5ac6){const _0x1e42a7=a0_0x4511c4;let _0xcd1afb=new Lt['HttpsProxyAgent'](_0x406790),_0x1ec7c3=0x1388,_0xed565c=[{'url':_0x1e42a7(0x421),'parse':_0x1523d9=>_0x1523d9['ip']},{'url':_0x1e42a7(0x667),'parse':_0x128f20=>_0x128f20['ip']},{'url':_0x1e42a7(0x1da),'parse':_0x3f2b8b=>_0x3f2b8b[_0x1e42a7(0x4af)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x1e42a7(0x259),'parse':_0x1d33fa=>_0x1d33fa['ip']},{'url':_0x1e42a7(0x243),'parse':_0x4c331a=>_0x4c331a['trim']()},{'url':_0x1e42a7(0x193),'parse':_0x557951=>_0x557951['trim']()},{'url':'http://ip-api.com/json','parse':_0x36fbbf=>_0x36fbbf[_0x1e42a7(0x728)]},{'url':_0x1e42a7(0x2d2),'parse':_0x92dfb6=>_0x92dfb6['trim']()},{'url':_0x1e42a7(0x45a),'parse':_0x22308c=>_0x22308c[_0x1e42a7(0x586)]()}],_0x99feb9=_0xed565c[Math[_0x1e42a7(0x3a5)](Math[_0x1e42a7(0x3fd)]()*_0xed565c['length'])];try{let _0x8669df=await Z[_0x1e42a7(0x1e4)][_0x1e42a7(0x436)](_0x99feb9[_0x1e42a7(0x405)],{'httpsAgent':_0xcd1afb,'timeout':_0x1ec7c3}),_0x1a54aa=_0x99feb9[_0x1e42a7(0x49a)](_0x8669df[_0x1e42a7(0x461)]);return _0x1a54aa===_0x2a5ac6?(this[_0x1e42a7(0x5bb)][_0x1e42a7(0x1a7)](this['instanceName']+':\x20IP\x20configurado:\x20'+_0x2a5ac6+_0x1e42a7(0x25a)+_0x1a54aa+'\x20->\x20CONFIRMADO.'),!0x0):(this[_0x1e42a7(0x5bb)][_0x1e42a7(0xcd)](this['instanceName']+_0x1e42a7(0x6e5)+_0x2a5ac6+_0x1e42a7(0x25a)+_0x1a54aa+_0x1e42a7(0x4d8)),!0x1);}catch(_0x14bbc0){return this[_0x1e42a7(0x5bb)][_0x1e42a7(0xcd)](this[_0x1e42a7(0x708)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x99feb9[_0x1e42a7(0x405)]+':\x20'+_0x14bbc0[_0x1e42a7(0x737)]),!0x1;}}async[a0_0x4511c4(0x61a)](_0x515aa5){const _0x9aa912=a0_0x4511c4;try{let _0x167133=await this[_0x9aa912(0x644)]();this[_0x9aa912(0x1e5)](),this[_0x9aa912(0x502)][_0x9aa912(0x33c)]=(await this[_0x9aa912(0x368)][_0x9aa912(0x750)]['find'](this[_0x9aa912(0x502)][_0x9aa912(0x665)]))[_0x9aa912(0x33c)],this['instance']['authState']=await this['defineAuthState']();let {version:_0x2cd2c3}=await(0x0,m['fetchLatestBaileysVersion'])(),_0x1ac3a0=[xs,Ir,(0x0,Ts['release'])()],_0x29db60={..._0x167133,'auth':{'creds':this[_0x9aa912(0x502)]['authState']['state'][_0x9aa912(0x2e2)],'keys':(0x0,m[_0x9aa912(0xdf)])(this[_0x9aa912(0x502)][_0x9aa912(0x470)]['state']['keys'],(0x0,Pt['default'])({'level':_0x9aa912(0xcd)}))},'logger':(0x0,Pt[_0x9aa912(0x1e4)])({'level':_0x9aa912(0xcd)}),'printQRInTerminal':!0x1,'browser':_0x515aa5?['Chrome\x20(Linux)',xs,(0x0,Ts['release'])()]:_0x1ac3a0,'version':_0x2cd2c3,'maxMsgRetryCount':0x5,'retryRequestDelayMs':0x1f4,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x4210c3=>{const _0x3ce1bf=_0x9aa912;let _0x596d7f=_0x4210c3[_0x3ce1bf(0x117)](_0x3ce1bf(0x577)),_0x484368=this[_0x3ce1bf(0xee)]?.[_0x3ce1bf(0x430)]&&_0x4210c3[_0x3ce1bf(0x117)](_0x3ce1bf(0x347));return _0x596d7f||(0x0,m[_0x3ce1bf(0x43b)])(_0x4210c3)||_0x484368;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0xafe1a8=>await this[_0x9aa912(0x5c5)](_0xafe1a8),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x171fdb=>(_0x171fdb[_0x9aa912(0x3c4)]?.['listType']==m[_0x9aa912(0x624)][_0x9aa912(0x6a1)][_0x9aa912(0x6d5)]['ListType'][_0x9aa912(0xa5)]&&(_0x171fdb=JSON[_0x9aa912(0x49a)](JSON[_0x9aa912(0x757)](_0x171fdb)),_0x171fdb['listMessage'][_0x9aa912(0x2d3)]=m['proto'][_0x9aa912(0x6a1)][_0x9aa912(0x6d5)][_0x9aa912(0x6f0)]['SINGLE_SELECT']),_0x171fdb)};return this[_0x9aa912(0x5ca)]=!0x1,this[_0x9aa912(0x20b)]=(0x0,m[_0x9aa912(0x1e4)])(_0x29db60),this[_0x9aa912(0x1f8)](),this[_0x9aa912(0x438)]=_0x515aa5,this[_0x9aa912(0x20b)];}catch(_0x1caf8b){throw this['logger']['error'](this[_0x9aa912(0x708)]+'\x20('+this[_0x9aa912(0x502)]['wuid']+'):\x20'+(_0x1caf8b instanceof Error?_0x1caf8b['message']:JSON['stringify'](_0x1caf8b,null,0x2))),new x(_0x1caf8b?.[_0x9aa912(0x2eb)]());}}[a0_0x4511c4(0x1f8)](){const _0x5908d5=a0_0x4511c4;this[_0x5908d5(0x20b)]['ev'][_0x5908d5(0x54c)](_0x43a300=>{const _0x3e30f7=_0x5908d5;if(!this[_0x3e30f7(0x5ca)]){let _0x175c2b=this[_0x3e30f7(0x626)][_0x3e30f7(0x436)](_0x3e30f7(0x619));if(_0x43a300['labels.edit']){let _0xcc1a85=_0x43a300['labels.edit'];this['messageHandle'][_0x3e30f7(0x1df)](_0xcc1a85);}if(_0x43a300[_0x3e30f7(0x3b2)]){let _0x586736=_0x43a300[_0x3e30f7(0x3b2)];this['messageHandle'][_0x3e30f7(0x3b2)](_0x586736);}if(_0x43a300[_0x3e30f7(0x71a)]&&this[_0x3e30f7(0xb1)](_0x43a300[_0x3e30f7(0x71a)]),_0x43a300[_0x3e30f7(0x294)]&&this[_0x3e30f7(0x502)][_0x3e30f7(0x470)][_0x3e30f7(0x1e9)](),_0x43a300['messaging-history.set']){let _0x28cd44=_0x43a300['messaging-history.set'];this[_0x3e30f7(0x639)]['messaging-history.set'](_0x28cd44,_0x175c2b);}if(_0x43a300[_0x3e30f7(0x1cf)]){let _0x1537fb=_0x43a300[_0x3e30f7(0x1cf)];this['messageHandle'][_0x3e30f7(0x1cf)](_0x1537fb,_0x175c2b);}if(_0x43a300[_0x3e30f7(0xbe)]){let _0xb17c31=_0x43a300['messages.update'];_0xb17c31[_0x3e30f7(0x2a7)](_0x3a1480=>{const _0x10999e=_0x3e30f7;if(Nr[_0x3a1480[_0x10999e(0x4b4)]['id']]){this[_0x10999e(0x20b)]['ev'][_0x10999e(0x177)](_0x10999e(0x1cf),{'messages':[_0x3a1480],'type':_0x10999e(0x5ba)}),delete Nr[_0x3a1480['key']['id']];return;}}),this['messageHandle']['messages.update'](_0xb17c31,_0x175c2b);}if(_0x43a300['presence.update']){let _0x26a5a2=_0x43a300[_0x3e30f7(0x2c0)];if(this['localWebhook']?.[_0x3e30f7(0x430)]&&_0x26a5a2['id']['includes'](_0x3e30f7(0x347)))return;this[_0x3e30f7(0x109)](_0x3e30f7(0x2c0),_0x26a5a2);}if(!this['localWebhook']?.['groups_ignore']){if(_0x43a300[_0x3e30f7(0x4e0)]){let _0x283f1e=_0x43a300['groups.upsert'];this[_0x3e30f7(0x714)]['groups.upsert'](_0x283f1e);}if(_0x43a300[_0x3e30f7(0x255)]){let _0x4100ab=_0x43a300[_0x3e30f7(0x255)];this[_0x3e30f7(0x714)][_0x3e30f7(0x255)](_0x4100ab);}if(_0x43a300[_0x3e30f7(0x19f)]){let _0x1d06ff=_0x43a300[_0x3e30f7(0x19f)];this[_0x3e30f7(0x714)][_0x3e30f7(0x19f)](_0x1d06ff);}}if(_0x43a300['chats.upsert']){let _0x76571a=_0x43a300[_0x3e30f7(0x69d)];this[_0x3e30f7(0x709)]['chats.upsert'](_0x76571a,_0x175c2b);}if(_0x43a300[_0x3e30f7(0x13a)]){let _0x1e93bb=_0x43a300[_0x3e30f7(0x13a)];this[_0x3e30f7(0x709)]['chats.update'](_0x1e93bb,_0x175c2b);}if(_0x43a300['chats.delete']){let _0x2d7250=_0x43a300[_0x3e30f7(0x422)];this[_0x3e30f7(0x709)][_0x3e30f7(0x422)](_0x2d7250);}if(_0x43a300[_0x3e30f7(0x4d1)]){let _0x60f7ac=_0x43a300[_0x3e30f7(0x4d1)];this[_0x3e30f7(0x701)]['contacts.upsert'](_0x60f7ac,_0x175c2b);}if(_0x43a300[_0x3e30f7(0x3a4)]){let _0x398360=_0x43a300[_0x3e30f7(0x3a4)];this[_0x3e30f7(0x701)][_0x3e30f7(0x3a4)](_0x398360,_0x175c2b);}}});}[a0_0x4511c4(0x635)](_0x186e2f){return new Promise(_0x500c06=>setTimeout(_0x500c06,_0x186e2f));}[a0_0x4511c4(0x53f)](_0xd4c5b7){const _0x32bc5a=a0_0x4511c4;let _0x3a6531=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x32bc5a(0x1f6)](_0xd4c5b7);if(_0x3a6531&&_0x3a6531[0x1]==='55'){let _0x610b7=_0x3a6531[0x2],_0x493f7f=_0x3a6531[0x3],_0x2fb261=_0x3a6531[0x4];if(_0x610b7>='31'&&_0x493f7f==='9')return _0x3a6531[0x1]+_0x610b7+_0x2fb261;}return _0xd4c5b7;}[a0_0x4511c4(0x5d3)](_0x3413ca){const _0x886f0f=a0_0x4511c4;return _0x3413ca['includes'](_0x886f0f(0x347))||_0x3413ca[_0x886f0f(0x359)]('@s.whatsapp.net')||_0x3413ca[_0x886f0f(0x359)](_0x886f0f(0x1fc))?_0x3413ca:(_0x3413ca=_0x3413ca?.[_0x886f0f(0x18c)](/\s/g,'')[_0x886f0f(0x18c)](/\+/g,'')['replace'](/\(/g,'')['replace'](/\)/g,'')[_0x886f0f(0x50f)](/\:/)[0x0][_0x886f0f(0x50f)]('@')[0x0],_0x3413ca[_0x886f0f(0x16d)]>=0x12?(_0x3413ca=_0x3413ca['replace'](/[^\d-]/g,''),_0x3413ca+'@g.us'):(_0x3413ca=_0x3413ca['replace'](/\D/g,''),_0x3413ca+'@s.whatsapp.net'));}async[a0_0x4511c4(0x24e)](_0x5b3dca){const _0x34a918=a0_0x4511c4;let _0x3de97f=this['createJid'](_0x5b3dca[_0x34a918(0x3f8)]),_0x4e17d3=(await this[_0x34a918(0x699)]({'numbers':[_0x3de97f]}))[0x0];if(!_0x4e17d3['exists']&&!(0x0,m[_0x34a918(0x161)])(_0x4e17d3['jid']))throw new w(_0x4e17d3);let _0x588ea0=(0x0,m[_0x34a918(0x161)])(_0x3de97f)?_0x3de97f:_0x4e17d3['jid'];if((0x0,m['isJidGroup'])(_0x588ea0))try{await this[_0x34a918(0x20b)]['groupMetadata'](_0x588ea0);}catch{throw new L(_0x34a918(0x601));}try{return await this[_0x34a918(0x20b)]['presenceSubscribe'](_0x588ea0),await this[_0x34a918(0x20b)][_0x34a918(0x348)](_0x5b3dca[_0x34a918(0x3a8)],_0x3de97f),{'status':0xc8,'presence':_0x5b3dca[_0x34a918(0x3a8)]};}catch(_0x2420ae){throw new w(_0x2420ae['toString']());}}async['findAndUpdateCacheContact'](_0x493dbb,_0x4d4bd4,_0x372906){const _0x5d3810=a0_0x4511c4;let _0x3bda64=await this['repository'][_0x5d3810(0x611)][_0x5d3810(0x19a)]({'where':{'_id':_0x493dbb}}),_0x1e461d={'lastUpdate':Date['now']()};if(_0x372906||!_0x3bda64?.[_0x5d3810(0x628)]||Date['now']()-_0x3bda64[_0x5d3810(0x628)]>0x18*0x3c*0x3c*0x3e8)try{let _0x4260d1=(await this[_0x5d3810(0x4cc)](_0x493dbb))[_0x5d3810(0x48a)];_0x1e461d[_0x5d3810(0x151)]=_0x4260d1;}catch(_0x5d9cf9){console['error'](_0x5d3810(0x384),_0x5d9cf9);}return _0x4d4bd4&&_0x3bda64?.[_0x5d3810(0x665)]!==_0x4d4bd4&&(_0x1e461d[_0x5d3810(0x665)]=_0x4d4bd4),Object['keys'](_0x1e461d)['length']>0x1&&(_0x3bda64?await this[_0x5d3810(0x368)]['cacheContact'][_0x5d3810(0xd1)]({'where':{'_id':_0x493dbb}},_0x1e461d):await this[_0x5d3810(0x368)][_0x5d3810(0x611)][_0x5d3810(0x71b)]([{'_id':_0x493dbb,..._0x1e461d}]),_0x3bda64={..._0x3bda64,..._0x1e461d}),{'cachedContact':_0x3bda64};}async[a0_0x4511c4(0x4cc)](_0x2a83e0){const _0x5db47f=a0_0x4511c4;let _0x46cd14=this[_0x5db47f(0x5d3)](_0x2a83e0);try{return{'wuid':_0x46cd14,'profilePictureUrl':await this[_0x5db47f(0x20b)][_0x5db47f(0x48a)](_0x46cd14,_0x5db47f(0x562))};}catch{return{'wuid':_0x46cd14,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x4ac9d1,_0x240ad8,_0x36b6dd){const _0x51aea6=a0_0x4511c4;_0x36b6dd||(_0x36b6dd={});let _0x316484=(await this[_0x51aea6(0x699)]({'numbers':[_0x4ac9d1]}))[0x0];if(!_0x316484[_0x51aea6(0x435)]&&!(0x0,m[_0x51aea6(0x161)])(_0x316484[_0x51aea6(0x4ca)])&&!_0x316484[_0x51aea6(0x4ca)][_0x51aea6(0x359)](_0x51aea6(0x1fc)))throw new w(_0x316484);let _0x49e887=_0x316484[_0x51aea6(0x4ca)];try{if(_0x36b6dd?.['delay']){await this['client']['presenceSubscribe'](_0x49e887),await this[_0x51aea6(0x20b)][_0x51aea6(0x348)](_0x36b6dd?.[_0x51aea6(0x3a8)]??'composing',_0x49e887);let _0x2d1f86=Math['min'](_0x36b6dd[_0x51aea6(0xc8)],0x2710);await(0x0,m[_0x51aea6(0xc8)])(_0x2d1f86),await this[_0x51aea6(0x20b)]['sendPresenceUpdate'](_0x51aea6(0x1f3),_0x49e887);}let _0x132368=_0x36b6dd?.[_0x51aea6(0x426)]!=!0x1?void 0x0:!0x1,_0x1bd4f9;if(_0x36b6dd?.[_0x51aea6(0x293)]){let _0x37c796=_0x36b6dd?.[_0x51aea6(0x293)],_0x3b6053=_0x37c796?.[_0x51aea6(0x737)]?_0x37c796:await this[_0x51aea6(0x5c5)](_0x37c796['key'],!0x0);if(!_0x3b6053)throw _0x51aea6(0xf2);_0x1bd4f9=_0x3b6053;}let _0x86f19e;if((0x0,m['isJidGroup'])(_0x49e887))try{let _0x262104=await this[_0x51aea6(0x20b)][_0x51aea6(0x433)](_0x49e887);if(!_0x262104)throw new L(_0x51aea6(0x601));_0x36b6dd?.['mentions']&&(_0x36b6dd[_0x51aea6(0x39c)]?.[_0x51aea6(0xdb)]?_0x86f19e=_0x262104[_0x51aea6(0x730)][_0x51aea6(0x4dc)](_0x218296=>_0x218296['id']):_0x36b6dd[_0x51aea6(0x39c)]?.['mentioned']?.[_0x51aea6(0x16d)]&&(_0x86f19e=_0x36b6dd[_0x51aea6(0x39c)]['mentioned'][_0x51aea6(0x4dc)](_0x1edd27=>{const _0x320db8=_0x51aea6;let _0x2c4ccc=this[_0x320db8(0x5d3)](_0x1edd27);return(0x0,m['isJidGroup'])(_0x2c4ccc)?null:_0x2c4ccc;})));}catch{throw new L(_0x51aea6(0x601));}let _0x4703a3=await((async()=>{const _0x92350b=_0x51aea6;let _0x4b8406={'quoted':_0x1bd4f9};if(!_0x240ad8[_0x92350b(0x317)]&&!_0x240ad8['poll']&&!_0x240ad8[_0x92350b(0x16e)]&&!_0x240ad8[_0x92350b(0x1fb)]&&_0x49e887!==_0x92350b(0x67e)&&!_0x240ad8[_0x92350b(0x317)])return await this[_0x92350b(0x20b)][_0x92350b(0x4e8)](_0x49e887,{'forward':{'key':{'remoteJid':this['instance']['wuid'],'fromMe':!0x0},'message':_0x240ad8},'mentions':_0x86f19e},_0x4b8406);if(_0x240ad8[_0x92350b(0x1ee)])return await this[_0x92350b(0x20b)][_0x92350b(0x4e8)](_0x49e887,{'react':{'text':_0x240ad8[_0x92350b(0x1ee)][_0x92350b(0x283)],'key':_0x240ad8[_0x92350b(0x1ee)][_0x92350b(0x4b4)]}},_0x4b8406);if(_0x240ad8[_0x92350b(0x1fb)]){let _0x528176=_0x240ad8[_0x92350b(0x1fb)];return _0x36b6dd?.[_0x92350b(0x2dd)]&&(_0x528176=await this[_0x92350b(0x760)](_0x528176,_0x49e887)),await this[_0x92350b(0x20b)]['sendMessage'](_0x49e887,{'text':_0x528176,'mentions':_0x86f19e,'linkPreview':_0x132368},_0x4b8406);}return _0x49e887===_0x92350b(0x67e)?await this[_0x92350b(0x20b)]['sendMessage'](_0x49e887,_0x240ad8['status']['content'],{'backgroundColor':_0x240ad8[_0x92350b(0x3d6)][_0x92350b(0x221)]['backgroundColor'],'font':_0x240ad8['status'][_0x92350b(0x221)][_0x92350b(0x4ce)],'statusJidList':_0x240ad8[_0x92350b(0x3d6)][_0x92350b(0x221)][_0x92350b(0xac)]}):await this[_0x92350b(0x20b)]['sendMessage'](_0x49e887,_0x240ad8,_0x4b8406);})()),_0xa82cf4=(0x0,m[_0x51aea6(0x343)])(_0x4703a3[_0x51aea6(0x737)]),_0x3b347b=(0x0,m['getContentType'])(_0xa82cf4),{message_normalized:_0x54caf0}=this[_0x51aea6(0x3c2)](_0xa82cf4,_0x3b347b,null),_0x123b8d={'_id':_0x4703a3['key']['id'],'key':_0x4703a3['key'],'pushName':_0x4703a3[_0x51aea6(0xa7)],'isGroup':_0x4703a3['key'][_0x51aea6(0x456)][_0x51aea6(0x117)](_0x51aea6(0x347)),'profilePictureUrl':this[_0x51aea6(0x502)][_0x51aea6(0x48a)],'message':_0xa82cf4,'messageType':_0x3b347b,'message_normalized':{'key':_0x4703a3['key'],'pushName':_0x4703a3[_0x51aea6(0xa7)],'messageTimestamp':_0x4703a3[_0x51aea6(0x5d5)]&&_0x4703a3['messageTimestamp'][_0x51aea6(0x2eb)]()[_0x51aea6(0x16d)]<0xd?_0x4703a3[_0x51aea6(0x5d5)]*0x3e8:_0x4703a3['messageTimestamp']||null,'source':(0x0,m[_0x51aea6(0x4ad)])(_0x4703a3[_0x51aea6(0x4b4)]['id']),..._0x54caf0},'messageTimestamp':_0x4703a3[_0x51aea6(0x5d5)]&&_0x4703a3[_0x51aea6(0x5d5)][_0x51aea6(0x2eb)]()['length']<0xd?_0x4703a3[_0x51aea6(0x5d5)]*0x3e8:_0x4703a3[_0x51aea6(0x5d5)]||null,'owner':this[_0x51aea6(0x502)][_0x51aea6(0x5e4)],'source':(0x0,m[_0x51aea6(0x4ad)])(_0x4703a3[_0x51aea6(0x4b4)]['id'])};return this[_0x51aea6(0x5bb)]['warn'](this[_0x51aea6(0x708)]+'\x20('+this[_0x51aea6(0x502)][_0x51aea6(0x5e4)]+'):\x20enviado\x20para\x20['+_0x123b8d[_0x51aea6(0x4b4)]?.[_0x51aea6(0x456)]['replace'](_0x51aea6(0x30f),'')+']\x20('+_0x123b8d[_0x51aea6(0x25f)]+')'),_0x123b8d[_0x51aea6(0x3d9)]?.['text']&&this[_0x51aea6(0x5bb)]['warn'](_0x123b8d[_0x51aea6(0x3d9)]?.[_0x51aea6(0x283)]),this[_0x51aea6(0x109)](_0x51aea6(0x16a),_0x123b8d),q(this[_0x51aea6(0x708)],'messages',{'message':_0x123b8d}),this[_0x51aea6(0x5b9)](this['configService']['get']('DATABASE'),_0x123b8d,_0x51aea6(0x139)),await this[_0x51aea6(0x368)][_0x51aea6(0x737)][_0x51aea6(0x71b)]([_0x123b8d],this[_0x51aea6(0x502)]['wuid']),_0x4703a3;}catch(_0x3f27c1){throw this[_0x51aea6(0x5bb)][_0x51aea6(0xcd)](this[_0x51aea6(0x708)]+'\x20('+this[_0x51aea6(0x502)][_0x51aea6(0x5e4)]+_0x51aea6(0x3fe)+_0x3f27c1[_0x51aea6(0x2eb)]()),new w(_0x3f27c1[_0x51aea6(0x2eb)]());}}get[a0_0x4511c4(0x178)](){const _0x26bbfa=a0_0x4511c4;return this[_0x26bbfa(0x5f9)];}async[a0_0x4511c4(0x171)](_0x2217b7){const _0x511c89=a0_0x4511c4;let _0x513d7d=vr,_0x338dda=Ze;return _0x338dda&&this[_0x511c89(0x708)][_0x511c89(0x5d2)]()[_0x511c89(0x359)](_0x338dda[_0x511c89(0x5d2)]())&&(_0x2217b7[_0x511c89(0x171)][_0x511c89(0x283)]+='\x0a\x0a'+_0x513d7d),await this[_0x511c89(0x21c)](_0x2217b7[_0x511c89(0x3f8)],{'conversation':_0x2217b7[_0x511c89(0x171)][_0x511c89(0x283)]},_0x2217b7?.['options']);}async[a0_0x4511c4(0x39d)](_0x41d368){const _0x2382f4=a0_0x4511c4;if(!_0x41d368[_0x2382f4(0x6d4)])throw new w(_0x2382f4(0x6c2));if(!_0x41d368[_0x2382f4(0x22c)])throw new w(_0x2382f4(0x3d1));if(_0x41d368[_0x2382f4(0xec)]){let _0x14c852=await this[_0x2382f4(0x368)][_0x2382f4(0xf1)][_0x2382f4(0x5af)]({'where':{}},this[_0x2382f4(0x502)][_0x2382f4(0x5e4)]);if(!_0x14c852[_0x2382f4(0x16d)])throw new w('Contacts\x20not\x20found');_0x41d368['statusJidList']=_0x14c852[_0x2382f4(0x472)](_0x1bf98f=>_0x1bf98f[_0x2382f4(0xa7)])[_0x2382f4(0x4dc)](_0x45ab9e=>_0x45ab9e[_0x2382f4(0x2c1)]);}if(!_0x41d368[_0x2382f4(0xac)]?.['length']&&!_0x41d368[_0x2382f4(0xec)])throw new w(_0x2382f4(0x622));if(_0x41d368[_0x2382f4(0x6d4)]==='text'){if(!_0x41d368['backgroundColor'])throw new w('Background\x20color\x20is\x20required');if(!_0x41d368['font'])throw new w('Font\x20is\x20required');return{'content':{'text':_0x41d368[_0x2382f4(0x22c)]},'option':{'backgroundColor':_0x41d368['backgroundColor'],'font':_0x41d368[_0x2382f4(0x4ce)],'statusJidList':_0x41d368['statusJidList']}};}if(_0x41d368[_0x2382f4(0x6d4)]===_0x2382f4(0x562))return{'content':{'image':{'url':_0x41d368[_0x2382f4(0x22c)]},'caption':_0x41d368[_0x2382f4(0x196)]},'option':{'statusJidList':_0x41d368[_0x2382f4(0xac)]}};if(_0x41d368[_0x2382f4(0x6d4)]===_0x2382f4(0x656))return{'content':{'video':{'url':_0x41d368['content']},'caption':_0x41d368[_0x2382f4(0x196)]},'option':{'statusJidList':_0x41d368[_0x2382f4(0xac)]}};if(_0x41d368['type']==='audio'){this[_0x2382f4(0x5bb)][_0x2382f4(0x1a7)]('Type\x20defined\x20as\x20audio'),this[_0x2382f4(0x5bb)][_0x2382f4(0x1a7)]('Processing\x20audio');let _0x45198f=await this[_0x2382f4(0x2d4)](_0x41d368[_0x2382f4(0x22c)]);if(typeof _0x45198f=='string'){this[_0x2382f4(0x5bb)]['verbose']('Audio\x20processed');let _0x4c455f=F['readFileSync'](_0x45198f)[_0x2382f4(0x2eb)](_0x2382f4(0x4b3));return{'content':{'audio':Buffer[_0x2382f4(0x120)](_0x4c455f,_0x2382f4(0x4b3)),'ptt':!0x0,'mimetype':_0x2382f4(0x652)},'option':{'statusJidList':_0x41d368[_0x2382f4(0xac)]}};}else throw new x(_0x45198f);}throw new w(_0x2382f4(0x2a2));}async[a0_0x4511c4(0x5e3)](_0x77103b){const _0x1ab013=a0_0x4511c4;return await this[_0x1ab013(0x21c)]('status@broadcast',{'status':await this[_0x1ab013(0x39d)](_0x77103b['statusMessage'])});}async[a0_0x4511c4(0x4a8)](_0x8153a4){const _0x138f60=a0_0x4511c4;try{let _0x3e67a8=await(0x0,m[_0x138f60(0x522)])({[_0x8153a4['mediatype']]:(0x0,P[_0x138f60(0x539)])(_0x8153a4[_0x138f60(0x6c0)])?{'url':_0x8153a4['media']}:Buffer[_0x138f60(0x120)](_0x8153a4[_0x138f60(0x6c0)],_0x138f60(0x4b3))},{'upload':this['client'][_0x138f60(0x403)]}),_0x299d38=_0x8153a4['mediatype']+'Message';if(_0x8153a4[_0x138f60(0x50a)]==='document'&&!_0x8153a4[_0x138f60(0x2ad)]){let _0x264d8b=new RegExp(/.*\/(.+?)\./)[_0x138f60(0x1f6)](_0x8153a4[_0x138f60(0x6c0)]);_0x8153a4[_0x138f60(0x2ad)]=_0x264d8b?_0x264d8b[0x1]:null;}let _0x128298=(0x0,P[_0x138f60(0x539)])(_0x8153a4[_0x138f60(0x6c0)])?_0x8153a4['media'][_0x138f60(0x50f)]('?')[0x0]:_0x8153a4[_0x138f60(0x6c0)];this[_0x138f60(0x5bb)][_0x138f60(0x1a7)]('URL\x20limpa:\x20'+_0x128298);let _0xdc776e;(0x0,P[_0x138f60(0x539)])(_0x8153a4[_0x138f60(0x6c0)])?_0xdc776e=(0x0,$t['getMIMEType'])(_0x128298):_0x8153a4['fileName']&&_0x8153a4[_0x138f60(0x2ad)][_0x138f60(0x359)]('.')?_0xdc776e=(0x0,$t['getMIMEType'])(_0x8153a4[_0x138f60(0x2ad)]):_0xdc776e=(0x0,$t[_0x138f60(0x3ec)])(_0x8153a4['media']);let _0x37cba5=vr,_0x2c92a9=Ze;return _0x2c92a9&&this[_0x138f60(0x708)][_0x138f60(0x5d2)]()[_0x138f60(0x359)](_0x2c92a9['toLowerCase']())&&(_0x8153a4[_0x138f60(0x196)]+='\x0a\x0a'+_0x37cba5),_0x3e67a8[_0x299d38][_0x138f60(0x196)]=_0x8153a4?.[_0x138f60(0x196)],_0x3e67a8[_0x299d38][_0x138f60(0x1cc)]=_0xdc776e,_0x3e67a8[_0x299d38][_0x138f60(0x2ad)]=_0x8153a4[_0x138f60(0x2ad)],_0x8153a4[_0x138f60(0x50a)]==='video'&&(_0x3e67a8[_0x299d38][_0x138f60(0x4b0)]=Uint8Array[_0x138f60(0x120)]((0x0,Te[_0x138f60(0x606)])((0x0,J[_0x138f60(0x3de)])(process[_0x138f60(0x1e3)](),_0x138f60(0x3ed)))),_0x3e67a8[_0x299d38][_0x138f60(0x1d8)]=!0x1),(0x0,m[_0x138f60(0x184)])('',{[_0x299d38]:{..._0x3e67a8[_0x299d38]}},{'userJid':this['instance']['wuid']});}catch(_0x4a77ec){throw this[_0x138f60(0x5bb)][_0x138f60(0xcd)](this[_0x138f60(0x708)]+'\x20('+this[_0x138f60(0x502)]['wuid']+_0x138f60(0x3fe)+(_0x4a77ec instanceof Error?_0x4a77ec[_0x138f60(0x737)]:JSON[_0x138f60(0x757)](_0x4a77ec,null,0x2))),new x(_0x4a77ec?.[_0x138f60(0x2eb)]()||_0x4a77ec);}}async['mediaMessage'](_0x1e91ca){const _0x324785=a0_0x4511c4;let _0x26b4b1=await this[_0x324785(0x4a8)](_0x1e91ca['mediaMessage']);return await this[_0x324785(0x21c)](_0x1e91ca[_0x324785(0x3f8)],{..._0x26b4b1[_0x324785(0x737)]},_0x1e91ca?.[_0x324785(0x65c)]);}async[a0_0x4511c4(0x75b)](_0x1096f2,_0x5e2d48){const _0x23b392=a0_0x4511c4;try{this[_0x23b392(0x5bb)]['verbose']('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x205e7a,_0x4f5ce9=_0x5e2d48+'-'+new Date()['getTime']();this[_0x23b392(0x5bb)][_0x23b392(0x1a7)]('Hash\x20to\x20image\x20name:\x20'+_0x4f5ce9);let _0x3532d2=''+(0x0,J[_0x23b392(0x3de)])(this[_0x23b392(0x387)],_0x4f5ce9+_0x23b392(0x713));if(this[_0x23b392(0x5bb)]['verbose'](_0x23b392(0x121)+_0x3532d2),(0x0,P[_0x23b392(0x727)])(_0x1096f2)){this[_0x23b392(0x5bb)][_0x23b392(0x1a7)]('Image\x20is\x20base64');let _0xa14f5=_0x1096f2[_0x23b392(0x18c)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x3dcbb9=Buffer[_0x23b392(0x120)](_0xa14f5,_0x23b392(0x4b3));_0x205e7a=''+(0x0,J['join'])(this[_0x23b392(0x387)],_0x23b392(0x49f)+_0x4f5ce9+_0x23b392(0x4f4)),this[_0x23b392(0x5bb)][_0x23b392(0x1a7)]('Image\x20path:\x20'+_0x205e7a),await(0x0,kt['default'])(_0x3dcbb9)[_0x23b392(0x46b)](_0x205e7a),this[_0x23b392(0x5bb)]['verbose']('Image\x20created');}else{this[_0x23b392(0x5bb)][_0x23b392(0x1a7)](_0x23b392(0x637));let _0x40de3e=new Date()[_0x23b392(0x290)](),_0x447dc2=_0x1096f2+'?timestamp='+_0x40de3e;this[_0x23b392(0x5bb)][_0x23b392(0x1a7)](_0x23b392(0x272)+_0x447dc2);let _0x3b04ee=await Z[_0x23b392(0x1e4)][_0x23b392(0x436)](_0x447dc2,{'responseType':_0x23b392(0x3c8)});this[_0x23b392(0x5bb)][_0x23b392(0x1a7)](_0x23b392(0x414));let _0x562d46=Buffer[_0x23b392(0x120)](_0x3b04ee[_0x23b392(0x461)],_0x23b392(0x3fa));_0x205e7a=''+(0x0,J[_0x23b392(0x3de)])(this[_0x23b392(0x387)],_0x23b392(0x49f)+_0x4f5ce9+'.png'),this[_0x23b392(0x5bb)]['verbose']('Image\x20path:\x20'+_0x205e7a),await(0x0,kt[_0x23b392(0x1e4)])(_0x562d46)['toFile'](_0x205e7a),this['logger'][_0x23b392(0x1a7)](_0x23b392(0x4a7));}return await(0x0,kt[_0x23b392(0x1e4)])(_0x205e7a)[_0x23b392(0x156)]()[_0x23b392(0x46b)](_0x3532d2),this['logger'][_0x23b392(0x1a7)](_0x23b392(0x629)),F[_0x23b392(0x486)](_0x205e7a),this[_0x23b392(0x5bb)][_0x23b392(0x1a7)](_0x23b392(0x21d)),_0x3532d2;}catch(_0x4956da){console['error']('Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:',_0x4956da instanceof Error?_0x4956da[_0x23b392(0x737)]:JSON[_0x23b392(0x757)](_0x4956da,null,0x2));}}async[a0_0x4511c4(0x29d)](_0x4972ae){const _0x428bd0=a0_0x4511c4;let _0xed4fcd=await this['convertToWebP'](_0x4972ae[_0x428bd0(0xca)][_0x428bd0(0x562)],_0x4972ae[_0x428bd0(0x3f8)]),_0x4afbd9=await this[_0x428bd0(0x21c)](_0x4972ae[_0x428bd0(0x3f8)],{'sticker':{'url':_0xed4fcd}},_0x4972ae?.[_0x428bd0(0x65c)]);return F[_0x428bd0(0x486)](_0xed4fcd),this['logger'][_0x428bd0(0x1a7)]('Converted\x20image\x20deleted'),_0x4afbd9;}async[a0_0x4511c4(0x742)](_0x117893){const _0x4460e0=a0_0x4511c4;if(this[_0x4460e0(0x5bb)][_0x4460e0(0x1a7)](_0x4460e0(0x43c)),!_0x117893[_0x4460e0(0x65c)]?.[_0x4460e0(0x58d)]&&_0x117893[_0x4460e0(0x65c)]?.[_0x4460e0(0x58d)]!==!0x1&&(_0x117893[_0x4460e0(0x65c)][_0x4460e0(0x58d)]=!0x0),_0x117893[_0x4460e0(0x65c)]?.[_0x4460e0(0x58d)]){let _0x49dd92=await this[_0x4460e0(0x2d4)](_0x117893[_0x4460e0(0x338)]['audio']);if(typeof _0x49dd92==_0x4460e0(0x2b9)){let _0x2efb34=F['readFileSync'](_0x49dd92)[_0x4460e0(0x2eb)]('base64');return this['sendMessageWithTyping'](_0x117893[_0x4460e0(0x3f8)],{'audio':Buffer[_0x4460e0(0x120)](_0x2efb34,_0x4460e0(0x4b3)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':_0x4460e0(0x5c8),'delay':_0x117893?.[_0x4460e0(0x65c)]?.[_0x4460e0(0xc8)]});}else throw new x(_0x49dd92);}return await this[_0x4460e0(0x21c)](_0x117893[_0x4460e0(0x3f8)],{'audio':(0x0,P['isURL'])(_0x117893[_0x4460e0(0x338)][_0x4460e0(0x317)])?{'url':_0x117893[_0x4460e0(0x338)]['audio']}:Buffer[_0x4460e0(0x120)](_0x117893['audioMessage'][_0x4460e0(0x317)],_0x4460e0(0x4b3)),'ptt':!0x0,'mimetype':_0x4460e0(0x51c)},{'presence':_0x4460e0(0x5c8),'delay':_0x117893?.['options']?.[_0x4460e0(0xc8)]});}async['convertaudio'](_0x129f3f){const _0x1d2fa1=a0_0x4511c4;this[_0x1d2fa1(0x5bb)][_0x1d2fa1(0x1a7)](_0x1d2fa1(0x73f));let _0x300b1d=(0x0,P[_0x1d2fa1(0x539)])(_0x129f3f)?(0x0,Is['createHash'])(_0x1d2fa1(0x5ce))[_0x1d2fa1(0xd1)](_0x129f3f)[_0x1d2fa1(0x113)]('hex'):(0x0,Is[_0x1d2fa1(0x263)])(_0x1d2fa1(0x5ce))['update'](_0x129f3f)[_0x1d2fa1(0x113)]('hex'),_0x2e93c3=''+(0x0,J['join'])(this[_0x1d2fa1(0x387)],_0x300b1d+_0x1d2fa1(0x50e));if(F[_0x1d2fa1(0x18b)](_0x2e93c3))return this[_0x1d2fa1(0x5bb)]['verbose'](_0x1d2fa1(0x3b6)),_0x2e93c3;let _0x4b56d6=''+(0x0,J[_0x1d2fa1(0x3de)])(this['storePath'],_0x1d2fa1(0x49f)+(0x0,Re['v4'])()+_0x1d2fa1(0x239));if((0x0,P[_0x1d2fa1(0x539)])(_0x129f3f)){let _0x15d148=new Date()[_0x1d2fa1(0x290)](),_0x5c10be=_0x129f3f+_0x1d2fa1(0x6be)+_0x15d148,_0x36740f=await Z[_0x1d2fa1(0x1e4)][_0x1d2fa1(0x436)](_0x5c10be,{'responseType':'arraybuffer'});F[_0x1d2fa1(0x654)](_0x4b56d6,_0x36740f['data']);}else{let _0x59aac1=Buffer[_0x1d2fa1(0x120)](_0x129f3f,_0x1d2fa1(0x4b3));F['writeFileSync'](_0x4b56d6,_0x59aac1);}return new Promise((_0x224702,_0x580d1d)=>{const _0x3a13fa=_0x1d2fa1;(0x0,jt['exec'])(Rr[_0x3a13fa(0x1e4)][_0x3a13fa(0x400)]+_0x3a13fa(0x620)+_0x4b56d6+_0x3a13fa(0x157)+_0x2e93c3+_0x3a13fa(0x6e7),_0x59d1f9=>{const _0x5e4b68=_0x3a13fa;if(F['unlinkSync'](_0x4b56d6),_0x59d1f9){this[_0x5e4b68(0x5bb)][_0x5e4b68(0x1a7)](_0x5e4b68(0x143)),_0x580d1d(_0x59d1f9);return;}this['logger'][_0x5e4b68(0x1a7)](_0x5e4b68(0x1c4)),_0x224702(_0x2e93c3);});});}async['buttonMessage'](_0x4a01bd){const _0x2316ce=a0_0x4511c4;let _0x54e81b={},_0x5ba7d9=_0x2316ce(0x365);if(_0x4a01bd[_0x2316ce(0x31c)]?.['mediaMessage']){_0x5ba7d9=_0x4a01bd['buttonMessage'][_0x2316ce(0x254)]?.['mediatype'][_0x2316ce(0x388)]()??_0x2316ce(0x365),_0x54e81b['mediaKey']=_0x5ba7d9[_0x2316ce(0x5d2)]()+_0x2316ce(0x6a1);let _0x1bc25e=await this['prepareMediaMessage'](_0x4a01bd[_0x2316ce(0x31c)]['mediaMessage']);_0x54e81b[_0x2316ce(0x737)]=_0x1bc25e[_0x2316ce(0x737)][_0x54e81b[_0x2316ce(0xcc)]],_0x54e81b[_0x2316ce(0x75e)]='*'+_0x4a01bd[_0x2316ce(0x31c)][_0x2316ce(0x28c)]+_0x2316ce(0x6fa)+_0x4a01bd[_0x2316ce(0x31c)][_0x2316ce(0x579)];}let _0x2b041b={'text':_0x4a01bd[_0x2316ce(0x31c)]['buttons'][_0x2316ce(0x4dc)](_0x5c2244=>_0x5c2244['buttonText']),'ids':_0x4a01bd[_0x2316ce(0x31c)][_0x2316ce(0x13d)]['map'](_0x3f626e=>_0x3f626e[_0x2316ce(0x3fb)])};if(!(0x0,P['arrayUnique'])(_0x2b041b[_0x2316ce(0x283)])||!(0x0,P[_0x2316ce(0x291)])(_0x2b041b[_0x2316ce(0x27c)]))throw new w(_0x2316ce(0x6f7),_0x2316ce(0xd0));return await this[_0x2316ce(0x21c)](_0x4a01bd['number'],{'buttonsMessage':{'text':_0x54e81b?.[_0x2316ce(0xcc)]?void 0x0:_0x4a01bd[_0x2316ce(0x31c)]['title'],'contentText':_0x54e81b?.[_0x2316ce(0x75e)]??_0x4a01bd[_0x2316ce(0x31c)][_0x2316ce(0x579)],'footerText':_0x4a01bd['buttonMessage']?.[_0x2316ce(0x3d0)],'buttons':_0x4a01bd[_0x2316ce(0x31c)]['buttons'][_0x2316ce(0x4dc)](_0x7a5fb5=>({'buttonText':{'displayText':_0x7a5fb5[_0x2316ce(0x198)]},'buttonId':_0x7a5fb5[_0x2316ce(0x3fb)],'type':0x1})),'headerType':m[_0x2316ce(0x624)][_0x2316ce(0x6a1)]['ButtonsMessage']['HeaderType'][_0x5ba7d9],[_0x54e81b?.[_0x2316ce(0xcc)]]:_0x54e81b?.[_0x2316ce(0x737)]}},_0x4a01bd?.['options']);}async[a0_0x4511c4(0x6ec)](_0x11ac79){const _0x419d8a=a0_0x4511c4;return await this[_0x419d8a(0x21c)](_0x11ac79[_0x419d8a(0x3f8)],{'locationMessage':{'degreesLatitude':_0x11ac79[_0x419d8a(0x6ec)][_0x419d8a(0x68d)],'degreesLongitude':_0x11ac79[_0x419d8a(0x6ec)][_0x419d8a(0x1c5)],'name':_0x11ac79[_0x419d8a(0x6ec)]?.[_0x419d8a(0x665)],'address':_0x11ac79[_0x419d8a(0x6ec)]?.[_0x419d8a(0x56d)]}},_0x11ac79?.[_0x419d8a(0x65c)]);}async['contactMessage'](_0x3d9a8f){const _0x2970d4=a0_0x4511c4;let _0x384129={},_0x200d53=_0x1e0308=>{const _0x5cfeaa=a0_0x4bbc;let _0x22aac5=_0x5cfeaa(0x3f3)+_0x1e0308[_0x5cfeaa(0x6bd)]+_0x5cfeaa(0x6f5)+_0x1e0308[_0x5cfeaa(0x6bd)]+'\x0a';_0x1e0308[_0x5cfeaa(0x4c1)]&&(_0x22aac5+=_0x5cfeaa(0x3e2)+_0x1e0308[_0x5cfeaa(0x4c1)]+';\x0a'),_0x1e0308[_0x5cfeaa(0x12d)]&&(_0x22aac5+='EMAIL:'+_0x1e0308[_0x5cfeaa(0x12d)]+'\x0a'),_0x1e0308[_0x5cfeaa(0x405)]&&(_0x22aac5+='URL:'+_0x1e0308['url']+'\x0a');let _0x36d4a4='';return _0x1e0308['phoneNumber']&&_0x1e0308[_0x5cfeaa(0x438)]['split']('|')[_0x5cfeaa(0x2a7)]((_0x5ec3b2,_0x56cb9f)=>{const _0x44cd4c=_0x5cfeaa;let _0x19a313=this['createJid'](_0x5ec3b2)['replace']('@s.whatsapp.net','');_0x36d4a4+=_0x44cd4c(0x64b)+(_0x56cb9f+0x1)+_0x44cd4c(0x536)+_0x19a313+':'+_0x5ec3b2+_0x44cd4c(0x381)+(_0x56cb9f+0x1)+_0x44cd4c(0x112);}),_0x22aac5+=_0x36d4a4+_0x5cfeaa(0x3a9),_0x22aac5;};return _0x3d9a8f[_0x2970d4(0x1e1)][_0x2970d4(0x16d)]===0x1?_0x384129[_0x2970d4(0x1e1)]={'displayName':_0x3d9a8f[_0x2970d4(0x1e1)][0x0][_0x2970d4(0x6bd)],'vcard':_0x200d53(_0x3d9a8f[_0x2970d4(0x1e1)][0x0])}:_0x384129[_0x2970d4(0x5fd)]={'displayName':_0x3d9a8f[_0x2970d4(0x1e1)]['length']+_0x2970d4(0x20d),'contacts':_0x3d9a8f[_0x2970d4(0x1e1)][_0x2970d4(0x4dc)](_0x99e81=>({'displayName':_0x99e81[_0x2970d4(0x6bd)],'vcard':_0x200d53(_0x99e81)}))},await this[_0x2970d4(0x21c)](_0x3d9a8f[_0x2970d4(0x3f8)],{..._0x384129},_0x3d9a8f?.[_0x2970d4(0x65c)]);}async['reactionMessage'](_0x29e3a9){const _0x49d9e9=a0_0x4511c4;return await this[_0x49d9e9(0x21c)](_0x29e3a9[_0x49d9e9(0x1ee)]['key'][_0x49d9e9(0x456)],{'reactionMessage':{'key':_0x29e3a9['reactionMessage'][_0x49d9e9(0x4b4)],'text':_0x29e3a9[_0x49d9e9(0x1ee)][_0x49d9e9(0x6a4)]}});}async[a0_0x4511c4(0x699)](_0x28710a){const _0x16815b=a0_0x4511c4;let _0x397902=[];for await(let _0x2c3f1f of _0x28710a[_0x16815b(0x748)]){let _0x2a883a=this[_0x16815b(0x5d3)](_0x2c3f1f),_0x1f1190=!0x1;try{if((0x0,m[_0x16815b(0x161)])(_0x2a883a)){let _0x38eee4=await this[_0x16815b(0x66f)]({'groupJid':_0x2a883a},_0x16815b(0x27a));_0x397902[_0x16815b(0x6f3)](new fe(_0x38eee4[_0x16815b(0x72f)]['id'],!!_0x38eee4?.[_0x16815b(0x72f)]['id'],_0x38eee4?.[_0x16815b(0x72f)][_0x16815b(0x6f4)])),_0x1f1190=!!_0x38eee4?.[_0x16815b(0x72f)]['id'];}else{let _0x1d4573=(await this['client']['onWhatsApp'](_0x2a883a))[0x0];_0x397902[_0x16815b(0x6f3)](new fe(_0x1d4573[_0x16815b(0x4ca)],_0x1d4573[_0x16815b(0x435)])),_0x1f1190=_0x1d4573[_0x16815b(0x435)];}}catch{await this['checkAndUpdateChatStatus'](_0x2a883a,_0x1f1190),_0x397902[_0x16815b(0x6f3)](new fe(_0x2c3f1f,!0x1));}}return _0x397902;}async[a0_0x4511c4(0x30d)](_0x139832,_0x1399ac){const _0x13a3d5=a0_0x4511c4;try{await this[_0x13a3d5(0x368)][_0x13a3d5(0x4d5)]['findOne']({'where':{'_id':_0x139832,'imported':!0x0}},this[_0x13a3d5(0x502)][_0x13a3d5(0x5e4)])&&(_0x1399ac||(await this[_0x13a3d5(0x368)][_0x13a3d5(0x4d5)][_0x13a3d5(0x3c1)](_0x139832,this['instance']['wuid']),console[_0x13a3d5(0x5db)]('Chat\x20com\x20ID\x20'+_0x139832+_0x13a3d5(0x62b))));}catch(_0x431846){console[_0x13a3d5(0xcd)]('Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:',_0x431846);}}async[a0_0x4511c4(0x73e)](_0x22c1ef){const _0x250c85=a0_0x4511c4;try{let _0x5669cc=_0x22c1ef['readMessages'][_0x250c85(0x472)](_0x3c04b2=>(0x0,m['isJidGroup'])(_0x3c04b2['remoteJid'])||(0x0,m[_0x250c85(0x5f6)])(_0x3c04b2['remoteJid']))[_0x250c85(0x4dc)](_0x4d5fd7=>({'remoteJid':_0x4d5fd7[_0x250c85(0x456)],'fromMe':_0x4d5fd7[_0x250c85(0x38e)],'id':_0x4d5fd7['id']}));await this[_0x250c85(0x20b)][_0x250c85(0x501)](_0x5669cc);let _0x1b3419=_0x5669cc[_0x250c85(0x4dc)](_0x1119f0=>this[_0x250c85(0x3bc)](_0x1119f0,{'status':_0x250c85(0x49e),'owner':this[_0x250c85(0x502)][_0x250c85(0x5e4)]})),_0x3079d4=_0x5669cc[_0x250c85(0x4dc)](_0x483723=>this['repository'][_0x250c85(0x4d5)][_0x250c85(0x34e)]({'where':{'_id':_0x483723['remoteJid']}},{'unreadcount':0x0},this[_0x250c85(0x502)][_0x250c85(0x5e4)])),[_0x333f14,_0x323359]=await Promise[_0x250c85(0x4ba)]([Promise[_0x250c85(0x4ba)](_0x1b3419),Promise[_0x250c85(0x4ba)](_0x3079d4)]);return _0x323359[_0x250c85(0x472)](_0x386911=>_0x386911!==null)[_0x250c85(0x2a7)](_0x5e43dc=>{const _0x3b43f2=_0x250c85;q(this[_0x3b43f2(0x708)],_0x3b43f2(0x2db),{'chat':_0x5e43dc});}),{'message':_0x250c85(0x745),'read':'success'};}catch(_0x4a2234){throw console[_0x250c85(0xcd)](_0x250c85(0x16c),_0x4a2234),new x(_0x250c85(0x47c),_0x4a2234[_0x250c85(0x2eb)]());}}async[a0_0x4511c4(0x610)](_0xc6d55f){const _0xe45a7d=a0_0x4511c4;let _0x2ca548={'where':{'key':{'remoteJid':_0xc6d55f}},'limit':0x1},_0x5066c2=await this[_0xe45a7d(0x645)](_0x2ca548);return _0x5066c2||(console['error'](_0xe45a7d(0x2f3),_0xc6d55f),null);}async[a0_0x4511c4(0x19b)](_0x46aef0){const _0xd1f0bc=a0_0x4511c4;this['logger'][_0xd1f0bc(0x1a7)](_0xd1f0bc(0x31b));try{let _0x83ed33=_0x46aef0[_0xd1f0bc(0xdc)],_0x2e0d7e=_0x46aef0[_0xd1f0bc(0x4d5)];if(!_0x83ed33&&_0x2e0d7e?_0x83ed33=await this[_0xd1f0bc(0x610)](_0x2e0d7e):(_0x83ed33=_0x46aef0[_0xd1f0bc(0xdc)],_0x83ed33[_0xd1f0bc(0x5d5)]=_0x83ed33?.[_0xd1f0bc(0x5d5)]??Date['now'](),_0x2e0d7e=_0x83ed33?.[_0xd1f0bc(0x4b4)]?.[_0xd1f0bc(0x456)]),!_0x83ed33||Object[_0xd1f0bc(0x41a)](_0x83ed33)[_0xd1f0bc(0x16d)]===0x0)throw new L(_0xd1f0bc(0xdd));this['logger']['verbose'](_0xd1f0bc(0x533)+_0x2e0d7e);try{await this[_0xd1f0bc(0x20b)][_0xd1f0bc(0x264)]({'archive':_0x46aef0[_0xd1f0bc(0x1ea)],'lastMessages':[_0x83ed33]},this[_0xd1f0bc(0x5d3)](_0x2e0d7e));}catch(_0x371963){this[_0xd1f0bc(0x5bb)][_0xd1f0bc(0xcd)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x2e0d7e+':\x20'+_0x371963[_0xd1f0bc(0x2eb)]());}this[_0xd1f0bc(0x5bb)][_0xd1f0bc(0x1a7)](_0xd1f0bc(0x4c8)+_0x2e0d7e);let _0x1a9f73=await this[_0xd1f0bc(0x368)][_0xd1f0bc(0x4d5)][_0xd1f0bc(0x34e)]({'where':{'_id':_0x83ed33?.['key']?.[_0xd1f0bc(0x456)]}},{'archived':_0x46aef0[_0xd1f0bc(0x1ea)]},this['instance']['wuid']);return _0x1a9f73?(this[_0xd1f0bc(0x5bb)][_0xd1f0bc(0x1a7)](_0xd1f0bc(0x23c)+JSON['stringify'](_0x1a9f73)),q(this[_0xd1f0bc(0x708)],_0xd1f0bc(0x2db),{'chat':_0x1a9f73})):this[_0xd1f0bc(0x5bb)][_0xd1f0bc(0xcd)](_0xd1f0bc(0x60a)+_0x2e0d7e),{'chatId':_0x2e0d7e,'archived':_0x46aef0['archive']};}catch(_0x2ad354){throw this[_0xd1f0bc(0x5bb)][_0xd1f0bc(0xcd)](_0xd1f0bc(0x146)+_0x2ad354[_0xd1f0bc(0x2eb)]()),new x({'archived':!0x1,'message':[_0xd1f0bc(0x670),_0x2ad354[_0xd1f0bc(0x2eb)]()]});}}async['deleteMessage'](_0x4c2a4d){const _0xe47a01=a0_0x4511c4;try{let _0x5d9773=await this[_0xe47a01(0x20b)]['sendMessage'](_0x4c2a4d[_0xe47a01(0x456)],{'delete':_0x4c2a4d});try{let _0x525708=await this[_0xe47a01(0x3bc)](_0x4c2a4d,{'status':'DELETED','owner':this[_0xe47a01(0x502)]['wuid']});this[_0xe47a01(0x5bb)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0xe47a01(0x277)+_0x525708);}catch(_0x2d7970){console['error']('Error\x20updating\x20message\x20status:',_0x2d7970);}return _0x5d9773;}catch(_0x48fdde){throw new x(_0xe47a01(0x5a7),_0x48fdde?.[_0xe47a01(0x2eb)]());}}async[a0_0x4511c4(0x427)](_0x310d1a){const _0x24d9f8=a0_0x4511c4;try{let _0x170ea7=_0x310d1a?.['message']?_0x310d1a:await this[_0x24d9f8(0x5c5)](_0x310d1a[_0x24d9f8(0x4b4)],!0x0);for(let _0x21ea2b of Ma)_0x170ea7[_0x24d9f8(0x737)][_0x21ea2b]&&(_0x170ea7[_0x24d9f8(0x737)]=_0x170ea7[_0x24d9f8(0x737)][_0x21ea2b][_0x24d9f8(0x737)]);let _0x4a965f,_0x43406c;for(let _0x1adcc0 of Ea)if(_0x4a965f=_0x170ea7[_0x24d9f8(0x737)][_0x1adcc0],_0x4a965f){_0x43406c=_0x1adcc0;break;}if(!_0x4a965f)throw _0x24d9f8(0x23e);typeof _0x4a965f[_0x24d9f8(0xcc)]==_0x24d9f8(0x21b)&&(_0x170ea7[_0x24d9f8(0x737)]=JSON['parse'](JSON[_0x24d9f8(0x757)](_0x170ea7[_0x24d9f8(0x737)])));let _0xebf57a=await(0x0,m['downloadMediaMessage'])({'key':_0x170ea7?.[_0x24d9f8(0x4b4)],'message':_0x170ea7?.[_0x24d9f8(0x737)]},'buffer',{},{'logger':(0x0,Pt[_0x24d9f8(0x1e4)])({'level':_0x24d9f8(0xa4)}),'reuploadRequest':this[_0x24d9f8(0x20b)]['updateMediaMessage']});if(!(_0xebf57a instanceof Buffer))throw new Error(_0x24d9f8(0x5de));let _0x493885=this['configService']['get'](_0x24d9f8(0x619)),_0x3bbb1f,_0x3fbf1f;if(_0x4a965f[_0x24d9f8(0x2ad)])_0x3bbb1f=_0x4a965f[_0x24d9f8(0x2ad)];else{let _0x39c1ad=_0x4a965f[_0x24d9f8(0x1cc)]?.[_0x24d9f8(0x4af)](/\/(\w+)/),_0x2776b6=_0x39c1ad?_0x39c1ad[0x1]:null;if(!_0x2776b6)throw new Error(_0x24d9f8(0x74f));_0x3bbb1f=(0x0,Re['v4'])()+'.'+_0x2776b6;}_0x43406c===_0x24d9f8(0x338)&&_0x4a965f['mimetype']==='audio/ogg'?(_0x3bbb1f=(0x0,Re['v4'])()+_0x24d9f8(0x641),_0x3fbf1f='/media/'+await this[_0x24d9f8(0x2d4)](_0xebf57a[_0x24d9f8(0x2eb)](_0x24d9f8(0x4b3)))):(await this[_0x24d9f8(0x189)](_0xebf57a,_0x3bbb1f),_0x3fbf1f=_0x24d9f8(0x6c8)+_0x3bbb1f);let _0x4fdc77=this['configService']['get']('SERVER')[_0x24d9f8(0x11b)];if(!_0x4fdc77){let _0x3ed994=this[_0x24d9f8(0x626)][_0x24d9f8(0x436)](_0x24d9f8(0x53d));_0x4fdc77=_0x24d9f8(0x16b)+(_0x3ed994&&_0x3ed994[_0x24d9f8(0xbb)][_0x24d9f8(0x50f)]('/')[0x4]);}_0x3fbf1f=''+_0x4fdc77+_0x3fbf1f;let _0x43ad58=0xc*0x3c*0x3c*0x3e8,_0x27cd0d={'where':{'_id':_0x170ea7[_0x24d9f8(0x4b4)]['id']}},_0x577ad9={'message_normalized.fileUrl':_0x3fbf1f,'message_normalized.expires_fileUrl':Date['now']()+_0x43ad58};try{let _0x39e38b=await this[_0x24d9f8(0x368)][_0x24d9f8(0x737)][_0x24d9f8(0xd1)](_0x27cd0d,_0x577ad9,this[_0x24d9f8(0x502)][_0x24d9f8(0x5e4)]);_0x39e38b&&q(this[_0x24d9f8(0x708)],_0x24d9f8(0x1e0),{'message':_0x39e38b});}catch(_0x26934e){this[_0x24d9f8(0x5bb)][_0x24d9f8(0xcd)](this[_0x24d9f8(0x708)]+'\x20('+this['instance'][_0x24d9f8(0x5e4)]+_0x24d9f8(0x3fe)+(_0x26934e instanceof Error?_0x26934e[_0x24d9f8(0x737)]:JSON[_0x24d9f8(0x757)](_0x26934e,null,0x2)));}return{'mediaType':_0x43406c,'fileName':_0x4a965f[_0x24d9f8(0x2ad)],'caption':_0x4a965f[_0x24d9f8(0x196)],'size':{'fileLength':_0x4a965f[_0x24d9f8(0xe5)],'height':_0x4a965f['height'],'width':_0x4a965f[_0x24d9f8(0x18a)]},'mimetype':_0x4a965f['mimetype'],'base64':_0xebf57a[_0x24d9f8(0x2eb)](_0x24d9f8(0x4b3)),'fileUrl':_0x3fbf1f,'expires_fileUrl':Date[_0x24d9f8(0x56c)]()+_0x43ad58};}catch(_0x7fc9ad){throw this['logger'][_0x24d9f8(0xcd)](this[_0x24d9f8(0x708)]+'\x20('+this[_0x24d9f8(0x502)][_0x24d9f8(0x5e4)]+'):\x20'+(_0x7fc9ad instanceof Error?_0x7fc9ad[_0x24d9f8(0x737)]:JSON[_0x24d9f8(0x757)](_0x7fc9ad,null,0x2))),new w(_0x7fc9ad[_0x24d9f8(0x2eb)]());}}async['saveMediaToFile'](_0x36e9a5,_0x4fc45c){const _0x18286c=a0_0x4511c4;let _0x587b84=J[_0x18286c(0x1e4)]['join'](__dirname,_0x18286c(0x60f));F['existsSync'](_0x587b84)||F['mkdirSync'](_0x587b84,{'recursive':!0x0});let _0x352a05=J['default'][_0x18286c(0x3de)](_0x587b84,_0x4fc45c);return new Promise((_0x2ba9b8,_0x5b31f2)=>{const _0x2de2f4=_0x18286c;F[_0x2de2f4(0x11d)](_0x352a05,_0x36e9a5,_0x5044c5=>{const _0x3ab62f=_0x2de2f4;_0x5044c5?(this['logger'][_0x3ab62f(0xcd)]('Error\x20writing\x20file:\x20'+(_0x5044c5 instanceof Error?_0x5044c5['message']:JSON['stringify'](_0x5044c5,null,0x2))),_0x5b31f2(_0x5044c5)):(this[_0x3ab62f(0x5bb)][_0x3ab62f(0x5db)](_0x3ab62f(0x17d)+_0x352a05),_0x2ba9b8(_0x352a05));});});}async[a0_0x4511c4(0x63f)](_0x48f1c2){const _0x1d61a4=a0_0x4511c4;return await this[_0x1d61a4(0x368)][_0x1d61a4(0xf1)][_0x1d61a4(0x5af)](_0x48f1c2,this[_0x1d61a4(0x502)][_0x1d61a4(0x5e4)]);}async[a0_0x4511c4(0x194)](){const _0x34de96=a0_0x4511c4;return await this[_0x34de96(0x368)][_0x34de96(0x4a0)][_0x34de96(0x5af)]({'where':{}},this[_0x34de96(0x502)][_0x34de96(0x5e4)]);}async[a0_0x4511c4(0x645)](_0x4b5815){const _0x40cebe=a0_0x4511c4;return await this[_0x40cebe(0x368)][_0x40cebe(0x737)][_0x40cebe(0x5af)](_0x4b5815,this[_0x40cebe(0x502)][_0x40cebe(0x5e4)]);}async[a0_0x4511c4(0x5d6)](){const _0x3330d4=a0_0x4511c4;return this[_0x3330d4(0x368)][_0x3330d4(0x4d5)][_0x3330d4(0x6ca)](this[_0x3330d4(0x502)][_0x3330d4(0x5e4)]),this[_0x3330d4(0x368)][_0x3330d4(0x4d5)][_0x3330d4(0x1d6)](this[_0x3330d4(0x502)][_0x3330d4(0x5e4)]),this[_0x3330d4(0x368)][_0x3330d4(0x4d5)][_0x3330d4(0x6e3)](this[_0x3330d4(0x502)][_0x3330d4(0x5e4)]),this['repository'][_0x3330d4(0x4d5)]['updateMissingCustomFields'](this[_0x3330d4(0x502)]['wuid']),await this['repository'][_0x3330d4(0x4d5)]['find']({'where':{}},this[_0x3330d4(0x502)][_0x3330d4(0x5e4)]);}async[a0_0x4511c4(0x41f)](_0x4064a5){const _0x54087e=a0_0x4511c4;try{if(!Array['isArray'](_0x4064a5)||_0x4064a5['length']===0x0)throw new Error(_0x54087e(0x4e2));let _0x24d917=[],_0x287af9=[];for(let _0x193bdb of _0x4064a5){if(_0x193bdb[_0x54087e(0x2c1)])_0x193bdb[_0x54087e(0x2c1)]=this[_0x54087e(0x5d3)](_0x193bdb[_0x54087e(0x2c1)]);else continue;await this[_0x54087e(0x368)][_0x54087e(0x4d5)][_0x54087e(0x19a)]({'where':{'_id':_0x193bdb[_0x54087e(0x2c1)]}},this[_0x54087e(0x502)][_0x54087e(0x5e4)])?_0x287af9[_0x54087e(0x6f3)]({'_id':_0x193bdb[_0x54087e(0x2c1)],'leadInfo':_0x193bdb[_0x54087e(0x589)],'owner':this[_0x54087e(0x502)][_0x54087e(0x5e4)]}):_0x24d917[_0x54087e(0x6f3)]({'_id':_0x193bdb[_0x54087e(0x2c1)],'owner':this[_0x54087e(0x502)][_0x54087e(0x5e4)],'leadInfo':_0x193bdb[_0x54087e(0x589)],'imported':!0x0});}return _0x287af9[_0x54087e(0x16d)]>0x0&&await this[_0x54087e(0x368)][_0x54087e(0x4d5)]['updateMany'](_0x287af9[_0x54087e(0x4dc)](_0x1759aa=>({'query':{'where':{'_id':_0x1759aa['_id'],'owner':this[_0x54087e(0x502)][_0x54087e(0x5e4)]}},'update':_0x1759aa}))),_0x24d917[_0x54087e(0x16d)]>0x0&&await this[_0x54087e(0x368)][_0x54087e(0x4d5)][_0x54087e(0x30e)](_0x24d917,this[_0x54087e(0x502)][_0x54087e(0x5e4)]),{'updated':_0x287af9[_0x54087e(0x16d)],'inserted':_0x24d917['length']};}catch(_0x2106e5){throw console[_0x54087e(0xcd)]('Erro\x20ao\x20importar\x20chats:',_0x2106e5),_0x2106e5;}}async[a0_0x4511c4(0x57a)](_0x2dfa6f){const _0x10ad6b=a0_0x4511c4;try{if(!Array[_0x10ad6b(0x173)](_0x2dfa6f)||_0x2dfa6f[_0x10ad6b(0x16d)]===0x0)throw new Error(_0x10ad6b(0x4e2));let _0x5aed6e=0x64,_0x205319=0x0;for(let _0x4ff356=0x0;_0x4ff356<_0x2dfa6f[_0x10ad6b(0x16d)];_0x4ff356+=_0x5aed6e){let _0x13c253=_0x2dfa6f['slice'](_0x4ff356,_0x4ff356+_0x5aed6e),{updated:_0x476cec}=await this['importChatsBatch'](_0x13c253);_0x205319+=_0x476cec;}return{'updated':_0x205319};}catch(_0x6afb91){throw console[_0x10ad6b(0xcd)](_0x10ad6b(0x3be),_0x6afb91),_0x6afb91;}}async[a0_0x4511c4(0x288)](_0x1079f2){const _0x3cdf93=a0_0x4511c4;try{let _0x5b8436=await this[_0x3cdf93(0x368)]['label'][_0x3cdf93(0x5af)]({'where':{}},this[_0x3cdf93(0x502)]['wuid']),_0x3ed345=new Set(_0x5b8436[_0x3cdf93(0x4dc)](_0x16a265=>_0x16a265[_0x3cdf93(0x2c1)])),_0x54cb5f=[],_0x2e8f60=[];for(let _0x2cd068 of _0x1079f2){if(!_0x2cd068[_0x3cdf93(0x2c1)])continue;_0x2cd068[_0x3cdf93(0x2c1)]=this[_0x3cdf93(0x5d3)](_0x2cd068['_id']);let _0x2e3643=await this[_0x3cdf93(0x368)][_0x3cdf93(0x4d5)]['findOne']({'where':{'_id':_0x2cd068[_0x3cdf93(0x2c1)]}},this[_0x3cdf93(0x502)][_0x3cdf93(0x5e4)]),_0x3a2843={};if(Object[_0x3cdf93(0x25e)](_0x2cd068[_0x3cdf93(0x589)])[_0x3cdf93(0x2a7)](([_0x1b3ecc,_0x429ad7])=>{const _0x4cb9f3=_0x3cdf93;_0x3a2843[_0x4cb9f3(0x69b)+_0x1b3ecc]=_0x429ad7;}),_0x2e3643&&!_0x2e3643['imported']){let _0x52c259=(_0x2cd068[_0x3cdf93(0x589)][_0x3cdf93(0x6dc)]||[])[_0x3cdf93(0x472)](_0xeabf31=>_0x3ed345['has'](_0xeabf31)),_0x17c13c=new Set(_0x2e3643['leadInfo'][_0x3cdf93(0x6dc)]||[]),_0x4a2cb4=_0x52c259[_0x3cdf93(0x472)](_0x4aba3f=>!_0x17c13c['has'](_0x4aba3f)),_0x16d66a=[..._0x17c13c][_0x3cdf93(0x472)](_0x135ee8=>!_0x52c259[_0x3cdf93(0x359)](_0x135ee8));_0x2e8f60[_0x3cdf93(0x6f3)](..._0x4a2cb4[_0x3cdf93(0x4dc)](_0x4f82d9=>this[_0x3cdf93(0x188)](_0x4f82d9,_0x2cd068[_0x3cdf93(0x2c1)]))),_0x2e8f60[_0x3cdf93(0x6f3)](..._0x16d66a['map'](_0x340bcb=>this['RemoveChatLabel'](_0x340bcb,_0x2cd068[_0x3cdf93(0x2c1)]))),_0x2cd068[_0x3cdf93(0x589)][_0x3cdf93(0x6dc)]=_0x52c259,_0x54cb5f['push']({'query':{'where':{'_id':_0x2cd068[_0x3cdf93(0x2c1)],'owner':this[_0x3cdf93(0x502)]['wuid']}},'update':_0x3a2843});}else _0x3a2843[_0x3cdf93(0x55f)]=!0x0,_0x54cb5f[_0x3cdf93(0x6f3)]({'query':{'where':{'_id':_0x2cd068[_0x3cdf93(0x2c1)],'owner':this[_0x3cdf93(0x502)][_0x3cdf93(0x5e4)]}},'update':_0x3a2843});}let _0x288510=await this['repository'][_0x3cdf93(0x4d5)][_0x3cdf93(0x3bd)](_0x54cb5f);return await Promise[_0x3cdf93(0x4ba)](_0x2e8f60),{'updated':_0x288510};}catch(_0x5a85a6){throw console[_0x3cdf93(0xcd)](_0x3cdf93(0x3be),_0x5a85a6),_0x5a85a6;}}async[a0_0x4511c4(0x2f7)](){const _0x491f48=a0_0x4511c4;return await this[_0x491f48(0x20b)][_0x491f48(0x2f7)]();}async[a0_0x4511c4(0x523)](_0x3bb766){const _0x183dc6=a0_0x4511c4;try{return await this['client'][_0x183dc6(0x3f0)](_0x3bb766[_0x183dc6(0x27d)][_0x183dc6(0x282)]),await this['client'][_0x183dc6(0x505)](_0x3bb766[_0x183dc6(0x27d)]['profile']),await this[_0x183dc6(0x20b)][_0x183dc6(0xfb)](_0x3bb766[_0x183dc6(0x27d)][_0x183dc6(0x3d6)]),await this[_0x183dc6(0x20b)]['updateOnlinePrivacy'](_0x3bb766[_0x183dc6(0x27d)][_0x183dc6(0x478)]),await this[_0x183dc6(0x20b)]['updateLastSeenPrivacy'](_0x3bb766[_0x183dc6(0x27d)]['last']),await this[_0x183dc6(0x20b)][_0x183dc6(0x3b0)](_0x3bb766[_0x183dc6(0x27d)]['groupadd']),this[_0x183dc6(0x20b)]?.['ws']?.[_0x183dc6(0x5b5)](),{'update':_0x183dc6(0xf6),'data':{'readreceipts':_0x3bb766[_0x183dc6(0x27d)][_0x183dc6(0x282)],'profile':_0x3bb766[_0x183dc6(0x27d)][_0x183dc6(0xf8)],'status':_0x3bb766['privacySettings'][_0x183dc6(0x3d6)],'online':_0x3bb766[_0x183dc6(0x27d)]['online'],'last':_0x3bb766[_0x183dc6(0x27d)]['last'],'groupadd':_0x3bb766[_0x183dc6(0x27d)][_0x183dc6(0x75c)]}};}catch(_0x3ed26b){throw new x(_0x183dc6(0x21a),_0x3ed26b[_0x183dc6(0x2eb)]());}}async[a0_0x4511c4(0x753)](_0x4e0a10){const _0xa0663=a0_0x4511c4;let _0x3d9bce=(_0x4e0a10?this[_0xa0663(0x5d3)](_0x4e0a10):this['client']?.[_0xa0663(0x11a)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0xa0663(0x5bb)][_0xa0663(0x1a7)](_0xa0663(0x578)+_0x3d9bce);let _0x2e8edf=await this['repository'][_0xa0663(0xf1)][_0xa0663(0x19a)]({'where':{'_id':_0x3d9bce}},this[_0xa0663(0x502)][_0xa0663(0x5e4)]),_0x494a9d=_0x2e8edf?_0x2e8edf['pushName']:null;try{let _0x5ae404=(await this['whatsappNumber']({'numbers':[_0x3d9bce]}))?.['shift'](),_0x5b51e3=(await this['findAndUpdateCacheContact'](_0x3d9bce,null,!0x1))[_0xa0663(0x356)]['pictureUrl'],_0xb5da5a=await this[_0xa0663(0x56e)](_0x5ae404?.[_0xa0663(0x4ca)]),_0x3dc2a7=await this[_0xa0663(0x41e)](_0x5ae404?.[_0xa0663(0x4ca)]),_0x1b74dc=(await this['findAndUpdateCacheContact'](_0x3d9bce,null,!0x1))[_0xa0663(0x356)][_0xa0663(0x665)],_0x4792d9=await this[_0xa0663(0x368)]['chat'][_0xa0663(0x19a)]({'where':{'_id':_0x3d9bce}},this[_0xa0663(0x502)][_0xa0663(0x5e4)]),_0x403732={'imagechat':_0x5b51e3,'contactname':_0x494a9d||null,'pushName':_0x1b74dc,'status':_0xb5da5a?.[_0xa0663(0x3d6)],'isBusiness':_0x3dc2a7[_0xa0663(0x2e3)],'email':_0x3dc2a7?.['email'],'description':_0x3dc2a7?.['description'],'website':_0x3dc2a7?.[_0xa0663(0x118)]?.[_0xa0663(0x73c)](),'lastcache':Date[_0xa0663(0x56c)](),'imported':!_0x4792d9},_0x288e49=await this[_0xa0663(0x368)][_0xa0663(0x4d5)]['updateOne']({'where':{'_id':_0x3d9bce}},_0x403732,this[_0xa0663(0x502)][_0xa0663(0x5e4)]),_0x540c09={'owner':this[_0xa0663(0x502)][_0xa0663(0x5e4)],'_id':_0x3d9bce,'profilePictureUrl':_0x5b51e3,'status':_0xb5da5a?.['status']};return this['repository'][_0xa0663(0xf1)][_0xa0663(0xd1)]([_0x540c09],this[_0xa0663(0x502)][_0xa0663(0x5e4)]),_0x288e49&&q(this['instanceName'],_0xa0663(0x2db),{'chat':_0x288e49}),{'wuid':_0x5ae404?.[_0xa0663(0x4ca)]||_0x3d9bce,'name':_0x5ae404?.[_0xa0663(0x665)],'pushName':_0x1b74dc,'numberExists':_0x5ae404?.['exists'],'picture':_0x5b51e3,'status':_0xb5da5a?.[_0xa0663(0x3d6)],'isBusiness':_0x3dc2a7[_0xa0663(0x2e3)],'email':_0x3dc2a7?.[_0xa0663(0x12d)],'description':_0x3dc2a7?.['description'],'website':_0x3dc2a7?.[_0xa0663(0x118)]?.[_0xa0663(0x73c)]()};}catch(_0x21a9dd){return this[_0xa0663(0x5bb)][_0xa0663(0xcd)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x21a9dd instanceof Error?_0x21a9dd[_0xa0663(0x737)]:JSON[_0xa0663(0x757)](_0x21a9dd,null,0x2))),{};}}async[a0_0x4511c4(0x41e)](_0x628d59){const _0x34e073=a0_0x4511c4;this[_0x34e073(0x5bb)][_0x34e073(0x1a7)](_0x34e073(0x2a3));try{let _0x24187c=_0x628d59?this['createJid'](_0x628d59):this['instance'][_0x34e073(0x5e4)],_0x9b679e=await this[_0x34e073(0x20b)][_0x34e073(0x46a)](_0x24187c);return this['logger'][_0x34e073(0x1a7)](_0x34e073(0x529)),_0x9b679e?(this[_0x34e073(0x5bb)][_0x34e073(0x1a7)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x9b679e}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this['whatsappNumber']({'numbers':[_0x24187c]}))?.[_0x34e073(0x73c)]()};}catch(_0x1ff5fc){throw new x(_0x34e073(0x23f),_0x1ff5fc[_0x34e073(0x2eb)]());}}async[a0_0x4511c4(0x56e)](_0x71a2ba){const _0x5b734a=a0_0x4511c4;let _0x534812=this[_0x5b734a(0x5d3)](_0x71a2ba);try{return{'wuid':_0x534812,'status':(await this[_0x5b734a(0x20b)][_0x5b734a(0x13e)](_0x534812))?.[_0x5b734a(0x3d6)]};}catch{return{'wuid':_0x534812,'status':null};}}async[a0_0x4511c4(0x498)](_0x3c0021){const _0x4284b1=a0_0x4511c4;try{return await this[_0x4284b1(0x20b)][_0x4284b1(0x498)](_0x3c0021),{'update':_0x4284b1(0xf6)};}catch(_0x559da){throw new x(_0x4284b1(0x23f),_0x559da[_0x4284b1(0x2eb)]());}}async[a0_0x4511c4(0x346)](_0x55c4ac){const _0x42125d=a0_0x4511c4;try{return await this[_0x42125d(0x20b)][_0x42125d(0x346)](_0x55c4ac),{'update':_0x42125d(0xf6)};}catch(_0x21e021){throw new x(_0x42125d(0x42f),_0x21e021[_0x42125d(0x2eb)]());}}async[a0_0x4511c4(0x59f)](_0x5a7036){const _0x15a76f=a0_0x4511c4;try{let _0x224fc7;if((0x0,P[_0x15a76f(0x539)])(_0x5a7036)){let _0x48a9bd=new Date()[_0x15a76f(0x290)](),_0xaf4f4=_0x5a7036+'?timestamp='+_0x48a9bd;_0x224fc7=(await Z[_0x15a76f(0x1e4)][_0x15a76f(0x436)](_0xaf4f4,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,P[_0x15a76f(0x727)])(_0x5a7036))_0x224fc7=Buffer['from'](_0x5a7036,_0x15a76f(0x4b3));else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x15a76f(0x20b)][_0x15a76f(0x59f)](this[_0x15a76f(0x502)]['wuid'],_0x224fc7),{'update':'success'};}catch(_0x32a466){throw new x(_0x15a76f(0x372),_0x32a466['toString']());}}async[a0_0x4511c4(0x425)](){const _0x89b84a=a0_0x4511c4;try{return await this[_0x89b84a(0x20b)][_0x89b84a(0x425)](this[_0x89b84a(0x502)][_0x89b84a(0x5e4)]),{'update':_0x89b84a(0xf6)};}catch(_0x248326){throw new x(_0x89b84a(0x669),_0x248326[_0x89b84a(0x2eb)]());}}async[a0_0x4511c4(0x4f2)](_0x46575d){const _0x2c3e5a=a0_0x4511c4;try{let _0x717937=_0x46575d[_0x2c3e5a(0x730)][_0x2c3e5a(0x4dc)](_0x3acf91=>this[_0x2c3e5a(0x5d3)](_0x3acf91)),{id:_0x15a452}=await this[_0x2c3e5a(0x20b)]['groupCreate'](_0x46575d['subject'],_0x717937);return _0x46575d?.[_0x2c3e5a(0x579)]&&await this[_0x2c3e5a(0x20b)][_0x2c3e5a(0x6b8)](_0x15a452,_0x46575d[_0x2c3e5a(0x579)]),{'metadata':await this[_0x2c3e5a(0x20b)]['groupMetadata'](_0x15a452)};}catch(_0x115391){throw this[_0x2c3e5a(0x5bb)][_0x2c3e5a(0xcd)](this[_0x2c3e5a(0x708)]+'\x20('+this[_0x2c3e5a(0x502)]['wuid']+'):\x20'+(_0x115391 instanceof Error?_0x115391[_0x2c3e5a(0x737)]:JSON[_0x2c3e5a(0x757)](_0x115391,null,0x2))),new x(_0x2c3e5a(0x238),_0x115391[_0x2c3e5a(0x2eb)]());}}async[a0_0x4511c4(0x5ee)](_0x53d2f2){const _0x3c2e3a=a0_0x4511c4;try{let _0x355cb4;if((0x0,P[_0x3c2e3a(0x539)])(_0x53d2f2[_0x3c2e3a(0x562)])){let _0x1e6769=new Date()[_0x3c2e3a(0x290)](),_0x3af3fa=_0x53d2f2[_0x3c2e3a(0x562)]+_0x3c2e3a(0x6be)+_0x1e6769;_0x355cb4=(await Z['default'][_0x3c2e3a(0x436)](_0x3af3fa,{'responseType':_0x3c2e3a(0x3c8)}))[_0x3c2e3a(0x461)];}else{if((0x0,P[_0x3c2e3a(0x727)])(_0x53d2f2[_0x3c2e3a(0x562)]))_0x355cb4=Buffer[_0x3c2e3a(0x120)](_0x53d2f2[_0x3c2e3a(0x562)],_0x3c2e3a(0x4b3));else throw new w(_0x3c2e3a(0x488));}return await this['client'][_0x3c2e3a(0x59f)](_0x53d2f2[_0x3c2e3a(0x716)],_0x355cb4),{'update':_0x3c2e3a(0xf6)};}catch(_0x27d49b){throw new x(_0x3c2e3a(0xb4),_0x27d49b[_0x3c2e3a(0x2eb)]());}}async[a0_0x4511c4(0x5bc)](_0x546529){const _0x59e3f7=a0_0x4511c4;try{return await this[_0x59e3f7(0x20b)][_0x59e3f7(0x6b8)](_0x546529[_0x59e3f7(0x716)],_0x546529['description']),{'update':_0x59e3f7(0xf6)};}catch(_0x2e5792){throw new x(_0x59e3f7(0x6f2),_0x2e5792[_0x59e3f7(0x2eb)]());}}async[a0_0x4511c4(0x576)](_0x556588){const _0x5a5919=a0_0x4511c4;try{return await this[_0x5a5919(0x20b)][_0x5a5919(0x66c)](_0x556588[_0x5a5919(0x716)],_0x556588[_0x5a5919(0x665)]),{'update':'success'};}catch(_0x1750e4){throw new x(_0x5a5919(0x3a7),_0x1750e4[_0x5a5919(0x2eb)]());}}async[a0_0x4511c4(0x174)](_0x3cc1ef){const _0x20518f=a0_0x4511c4;try{let _0x1d208e=await this[_0x20518f(0x20b)]['groupToggleEphemeral'](_0x3cc1ef[_0x20518f(0x716)],_0x3cc1ef[_0x20518f(0x306)]);return{'success':!0x0};}catch(_0x1d4034){throw new w(_0x20518f(0x5d4),_0x1d4034[_0x20518f(0x2eb)]());}}async[a0_0x4511c4(0x6f6)](_0x53799d){const _0x204345=a0_0x4511c4;try{return await this[_0x204345(0x20b)][_0x204345(0x1dd)](_0x53799d[_0x204345(0x716)],_0x53799d[_0x204345(0x152)]),{'update':'success'};}catch(_0x3f364d){throw new x(_0x204345(0x2fc),_0x3f364d[_0x204345(0x2eb)]());}}async['groupBetterSetting'](_0x2b3001){const _0x290b58=a0_0x4511c4;try{if(_0x2b3001[_0x290b58(0x5aa)]===!0x0&&await this['client'][_0x290b58(0x1dd)](_0x2b3001[_0x290b58(0x716)],_0x290b58(0x51e)),_0x2b3001[_0x290b58(0x5aa)]===!0x1&&await this[_0x290b58(0x20b)][_0x290b58(0x1dd)](_0x2b3001['groupJid'],_0x290b58(0x592)),_0x2b3001[_0x290b58(0xb6)]===!0x0&&await this[_0x290b58(0x20b)][_0x290b58(0x1dd)](_0x2b3001[_0x290b58(0x716)],_0x290b58(0x149)),_0x2b3001[_0x290b58(0xb6)]===!0x1&&await this[_0x290b58(0x20b)][_0x290b58(0x1dd)](_0x2b3001[_0x290b58(0x716)],'not_announcement'),_0x2b3001['memberAddMode']===!0x0&&await this['client'][_0x290b58(0x6ae)](_0x2b3001['groupJid'],_0x290b58(0x3f9)),_0x2b3001['memberAddMode']===!0x1&&await this['client'][_0x290b58(0x6ae)](_0x2b3001['groupJid'],_0x290b58(0x2a0)),_0x2b3001[_0x290b58(0x55a)]===!0x0&&await this['client'][_0x290b58(0x520)](_0x2b3001[_0x290b58(0x716)],'on'),_0x2b3001[_0x290b58(0x55a)]===!0x1&&await this['client'][_0x290b58(0x520)](_0x2b3001['groupJid'],_0x290b58(0xb9)),typeof _0x2b3001['expiration']<'u'&&_0x2b3001[_0x290b58(0x306)]!==null&&await this[_0x290b58(0x20b)][_0x290b58(0x412)](_0x2b3001[_0x290b58(0x716)],_0x2b3001[_0x290b58(0x306)]),_0x2b3001[_0x290b58(0x665)]&&await this[_0x290b58(0x20b)]['groupUpdateSubject'](_0x2b3001[_0x290b58(0x716)],_0x2b3001[_0x290b58(0x665)]),_0x2b3001['description']&&await this[_0x290b58(0x20b)][_0x290b58(0x6b8)](_0x2b3001[_0x290b58(0x716)],_0x2b3001['description']),_0x2b3001[_0x290b58(0x562)]){let _0x595b5f;if((0x0,P[_0x290b58(0x539)])(_0x2b3001[_0x290b58(0x562)])){let _0x13671b=new Date()[_0x290b58(0x290)](),_0x483745=_0x2b3001[_0x290b58(0x562)]+_0x290b58(0x6be)+_0x13671b;_0x595b5f=(await Z[_0x290b58(0x1e4)][_0x290b58(0x436)](_0x483745,{'responseType':'arraybuffer'}))[_0x290b58(0x461)];}else{if((0x0,P['isBase64'])(_0x2b3001[_0x290b58(0x562)]))_0x595b5f=Buffer[_0x290b58(0x120)](_0x2b3001[_0x290b58(0x562)],_0x290b58(0x4b3));else throw new w(_0x290b58(0x488));}await this[_0x290b58(0x20b)][_0x290b58(0x59f)](_0x2b3001['groupJid'],_0x595b5f);}return await this[_0x290b58(0x66f)]({'groupJid':_0x2b3001['groupJid']},'inner');}catch(_0x40e0f4){throw new x(_0x290b58(0x2fc),_0x40e0f4[_0x290b58(0x2eb)]());}}async['updateGParticipant'](_0x558959){const _0x63ae9c=a0_0x4511c4;try{if(_0x558959['action']===_0x63ae9c(0xc2)||_0x558959[_0x63ae9c(0x531)]==='reject'){let _0x2f6fec=_0x558959[_0x63ae9c(0x730)][_0x63ae9c(0x4dc)](_0x2f6077=>this[_0x63ae9c(0x5d3)](_0x2f6077));await this['client'][_0x63ae9c(0x5dc)](_0x558959[_0x63ae9c(0x716)],_0x2f6fec,_0x558959[_0x63ae9c(0x531)]);}else{let _0x4b9154=_0x558959['participants'][_0x63ae9c(0x4dc)](_0xa96cd2=>this[_0x63ae9c(0x5d3)](_0xa96cd2));await this[_0x63ae9c(0x20b)][_0x63ae9c(0x2ba)](_0x558959[_0x63ae9c(0x716)],_0x4b9154,_0x558959[_0x63ae9c(0x531)]);}return await this[_0x63ae9c(0x66f)]({'groupJid':_0x558959[_0x63ae9c(0x716)]},_0x63ae9c(0x27a));}catch(_0x2d5b13){throw new w(_0x63ae9c(0x495),_0x2d5b13[_0x63ae9c(0x2eb)]());}}async['groupGetInviteInfo'](_0x228792){const _0x2874d6=a0_0x4511c4;try{return await this[_0x2874d6(0x20b)][_0x2874d6(0x10a)](_0x228792['inviteCode']);}catch(_0x2f9e0e){throw new x(_0x2874d6(0x723),_0x2f9e0e[_0x2874d6(0x2eb)]());}}async[a0_0x4511c4(0x66f)](_0xdbb58,_0x310198='out'){const _0x2b60b5=a0_0x4511c4;try{let _0x3bcdc4=await this[_0x2b60b5(0x20b)][_0x2b60b5(0x433)](_0xdbb58[_0x2b60b5(0x716)]),_0x516577=[];try{_0x516577=await this[_0x2b60b5(0x20b)][_0x2b60b5(0x437)](_0xdbb58[_0x2b60b5(0x716)]);}catch(_0x55806f){this[_0x2b60b5(0x5bb)][_0x2b60b5(0x1a7)](this['instanceName']+'\x20('+this[_0x2b60b5(0x502)]['wuid']+_0x2b60b5(0x2f5)+_0xdbb58['groupJid']+':\x20'+(_0x55806f instanceof Error?_0x55806f[_0x2b60b5(0x737)]:JSON[_0x2b60b5(0x757)](_0x55806f,null,0x2)));}let _0x116e49=null;try{_0x116e49=(await this[_0x2b60b5(0x598)](_0xdbb58[_0x2b60b5(0x716)],null,!0x0))[_0x2b60b5(0x356)][_0x2b60b5(0x151)];}catch(_0x3d0e83){this['logger']['verbose'](this[_0x2b60b5(0x708)]+'\x20('+this[_0x2b60b5(0x502)][_0x2b60b5(0x5e4)]+_0x2b60b5(0x237)+_0xdbb58['groupJid']+':\x20'+(_0x3d0e83 instanceof Error?_0x3d0e83[_0x2b60b5(0x737)]:JSON['stringify'](_0x3d0e83,null,0x2)));}let _0x54abc3=_0x3bcdc4[_0x2b60b5(0x730)]['map'](_0x5539d7=>_0x5539d7['id']),_0x30f465=_0x516577[_0x2b60b5(0x4dc)](_0x18128b=>_0x18128b['jid']),_0x5afa62=await this[_0x2b60b5(0x368)]['cacheContact']['findManyByIds']([..._0x54abc3,..._0x30f465]),_0x2aa06a=_0x3bcdc4[_0x2b60b5(0x730)][_0x2b60b5(0x4dc)](_0x49913f=>{const _0x44c4e6=_0x2b60b5;let _0x4eef33=_0x5afa62[_0x44c4e6(0x5af)](_0x59e00d=>_0x59e00d['_id']===_0x49913f['id']);return{'id':_0x49913f['id'],'status':_0x49913f[_0x44c4e6(0x731)]?_0x49913f[_0x44c4e6(0x731)]:_0x44c4e6(0x279),'pushName':_0x4eef33?.[_0x44c4e6(0x665)],'profilePictureUrl':_0x4eef33?.[_0x44c4e6(0x151)]};}),_0x1c6bef=_0x516577[_0x2b60b5(0x4dc)](_0x3f992d=>{const _0x35fc4b=_0x2b60b5;let _0x29868f=_0x5afa62[_0x35fc4b(0x5af)](_0x2d9400=>_0x2d9400['_id']===_0x3f992d[_0x35fc4b(0x4ca)]);return{'id':_0x3f992d[_0x35fc4b(0x4ca)],'status':'awaitingApproval','pushName':_0x29868f?.[_0x35fc4b(0x665)],'profilePictureUrl':_0x29868f?.[_0x35fc4b(0x151)],'request_method':_0x3f992d['request_method'],'request_time':_0x3f992d[_0x35fc4b(0x392)]};}),_0x4253bd=[..._0x2aa06a,..._0x1c6bef];_0x3bcdc4[_0x2b60b5(0x730)]=_0x4253bd;let _0x1279cd=await this[_0x2b60b5(0x368)]['chat'][_0x2b60b5(0x34e)]({'where':{'_id':_0xdbb58[_0x2b60b5(0x716)]}},{'imagechat':_0x116e49,'name':_0x3bcdc4['subject'],'group_size':_0x3bcdc4['size'],'group_announce':_0x3bcdc4['announce'],'group_isCommunity':_0x3bcdc4[_0x2b60b5(0x675)],'lastcache':Date['now']()},this[_0x2b60b5(0x502)][_0x2b60b5(0x5e4)]);return _0x1279cd&&q(this[_0x2b60b5(0x708)],_0x2b60b5(0x2db),{'chat':_0x1279cd}),{'metadata':_0x3bcdc4,'image':_0x116e49};}catch(_0x3be27d){if(_0x310198==='inner')return;throw new L(_0x2b60b5(0x615),_0x3be27d[_0x2b60b5(0x2eb)]());}}async[a0_0x4511c4(0x5df)](){const _0x1f88d4=a0_0x4511c4;try{let _0x4baaf7=await this[_0x1f88d4(0x20b)]['groupFetchAllParticipating'](),_0x596ac3=Object[_0x1f88d4(0x554)](_0x4baaf7)['filter'](_0x5e219b=>(0x0,m[_0x1f88d4(0x161)])(_0x5e219b?.['id']))[_0x1f88d4(0x4dc)](async _0x5f5074=>{const _0x1e55a0=_0x1f88d4;try{let _0x4a8804=await this[_0x1e55a0(0x20b)][_0x1e55a0(0x48a)](_0x5f5074['id'],_0x1e55a0(0x320)),_0x47eb45=await this[_0x1e55a0(0x598)](_0x5f5074['id'],_0x5f5074['subject'],!0x1),_0x43ac2f=_0x47eb45[_0x1e55a0(0x356)][_0x1e55a0(0x151)],_0x5e4225={'groupJid':_0x5f5074?.['id'],'subject':_0x5f5074?.[_0x1e55a0(0x6f4)],'subjectOwner':_0x5f5074?.[_0x1e55a0(0x1ce)]?.[_0x1e55a0(0x50f)]('@')[0x0],'subjectTime':_0x5f5074?.[_0x1e55a0(0x181)],'size':_0x5f5074?.[_0x1e55a0(0x730)]?.[_0x1e55a0(0x16d)],'owner':_0x5f5074?.['owner']?.[_0x1e55a0(0x50f)]('@')[0x0],'creation':_0x5f5074?.[_0x1e55a0(0x60d)],'desc':_0x5f5074?.[_0x1e55a0(0xf9)],'restrict':_0x5f5074?.['restrict'],'announce':_0x5f5074?.['announce'],'image':_0x43ac2f,'isCommunity':_0x5f5074?.['isCommunity'],'joinApprovalMode':_0x5f5074?.['joinApprovalMode'],'memberCanAddParticipant':_0x5f5074?.[_0x1e55a0(0x363)]},_0x1e5b27=await this[_0x1e55a0(0x368)][_0x1e55a0(0x4d5)][_0x1e55a0(0x34e)]({'where':{'_id':_0x5f5074?.['id']}},{'imagechat':_0x47eb45[_0x1e55a0(0x356)]['pictureUrl'],'name':_0x5f5074?.['subject'],'group_size':_0x5f5074?.['size'],'group_announce':_0x5f5074?.['announce'],'group_isCommunity':_0x5f5074?.[_0x1e55a0(0x675)],'lastcache':Date['now']()},this['instance'][_0x1e55a0(0x5e4)]);return _0x1e5b27&&q(this[_0x1e55a0(0x708)],_0x1e55a0(0x2db),{'chat':_0x1e5b27}),_0x5e4225;}catch(_0x368845){return this[_0x1e55a0(0x5bb)]['verbose'](this[_0x1e55a0(0x708)]+'\x20('+this[_0x1e55a0(0x502)]['wuid']+_0x1e55a0(0x12e)+_0x5f5074['id']+':\x20'+(_0x368845 instanceof Error?_0x368845[_0x1e55a0(0x737)]:JSON[_0x1e55a0(0x757)](_0x368845,null,0x2))),null;}}),_0x11eb5c=(await Promise[_0x1f88d4(0x4ba)](_0x596ac3))['filter'](_0x3066c8=>_0x3066c8!==null);return console['log'](_0x11eb5c[_0x1f88d4(0x16d)]+_0x1f88d4(0x1fe)),_0x11eb5c;}catch(_0x2cf721){throw new L(_0x1f88d4(0x615),_0x2cf721[_0x1f88d4(0x2eb)]());}}async[a0_0x4511c4(0x1aa)](){const _0x5a548d=a0_0x4511c4;try{let _0x268dc2=[],_0xb4ece7=await this[_0x5a548d(0x20b)]['groupFetchAllParticipating'](),_0x3ade8d=Object[_0x5a548d(0x554)](_0xb4ece7),_0x53bc34=_0x3ade8d[_0x5a548d(0x472)](_0x206512=>(0x0,m[_0x5a548d(0x161)])(_0x206512?.['id']))[_0x5a548d(0x4dc)](async _0x418446=>{const _0x240c02=_0x5a548d;try{return await this['client'][_0x240c02(0x48a)](_0x418446['id'],_0x240c02(0x320));}catch(_0x39a3a2){return this['logger'][_0x240c02(0x1a7)](this[_0x240c02(0x708)]+'\x20('+this[_0x240c02(0x502)]['wuid']+_0x240c02(0x237)+_0x418446['id']+':\x20'+(_0x39a3a2 instanceof Error?_0x39a3a2[_0x240c02(0x737)]:JSON[_0x240c02(0x757)](_0x39a3a2,null,0x2))),null;}}),_0x59a5ae=await Promise[_0x5a548d(0x4ba)](_0x53bc34);for(let _0x4d31d1=0x0;_0x4d31d1<_0x3ade8d['length'];_0x4d31d1++){let _0x2dff96=_0x3ade8d[_0x4d31d1];if((0x0,m['isJidGroup'])(_0x2dff96?.['id'])){_0x268dc2[_0x5a548d(0x6f3)]({'groupJid':_0x2dff96?.['id'],'subject':_0x2dff96?.[_0x5a548d(0x6f4)],'subjectOwner':_0x2dff96?.[_0x5a548d(0x1ce)]?.[_0x5a548d(0x50f)]('@')[0x0],'subjectTime':_0x2dff96?.[_0x5a548d(0x181)],'size':_0x2dff96?.['participants']?.[_0x5a548d(0x16d)],'owner':_0x2dff96?.[_0x5a548d(0xf0)]?.[_0x5a548d(0x50f)]('@')[0x0],'creation':_0x2dff96?.['creation'],'desc':_0x2dff96?.['desc'],'restrict':_0x2dff96?.[_0x5a548d(0x5aa)],'announce':_0x2dff96?.[_0x5a548d(0xb6)],'image':_0x59a5ae[_0x4d31d1],'isCommunity':_0x2dff96?.[_0x5a548d(0x675)],'joinApprovalMode':_0x2dff96?.['joinApprovalMode'],'memberCanAddParticipant':_0x2dff96?.[_0x5a548d(0x363)]});let _0x236f4a=await this[_0x5a548d(0x368)]['chat'][_0x5a548d(0x34e)]({'where':{'_id':_0x2dff96?.['id']}},{'imagechat':_0x59a5ae[_0x4d31d1],'name':_0x2dff96?.[_0x5a548d(0x6f4)],'group_size':_0x2dff96?.[_0x5a548d(0x53c)],'group_announce':_0x2dff96?.[_0x5a548d(0xb6)],'group_isCommunity':_0x2dff96?.[_0x5a548d(0x675)],'lastcache':Date[_0x5a548d(0x56c)]()},this['instance'][_0x5a548d(0x5e4)]);_0x236f4a&&q(this['instanceName'],_0x5a548d(0x2db),{'chat':_0x236f4a});}}return _0x268dc2;}catch(_0x34ca35){throw new L('Error\x20fetching\x20group',_0x34ca35[_0x5a548d(0x2eb)]());}}async[a0_0x4511c4(0x6c7)](_0x30962f){const _0x8daef1=a0_0x4511c4;try{let _0x32878c=await this[_0x8daef1(0x20b)][_0x8daef1(0x40b)](_0x30962f[_0x8daef1(0x716)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x32878c,'inviteCode':_0x32878c};}catch(_0xa91fa9){throw new L(_0x8daef1(0xed),_0xa91fa9[_0x8daef1(0x2eb)]());}}async[a0_0x4511c4(0x310)](_0x46f0ff){const _0x1ed880=a0_0x4511c4;try{let _0x35ed58=await this[_0x1ed880(0x20b)][_0x1ed880(0x4d9)](_0x46f0ff[_0x1ed880(0x716)]);return{'revoked':!0x0,'inviteUrl':_0x1ed880(0x719)+_0x35ed58,'inviteCode':_0x35ed58};}catch(_0x183d3e){throw new L(_0x1ed880(0x273),_0x183d3e[_0x1ed880(0x2eb)]());}}async['joinGroup'](_0x2e48c0){const _0x37dcaa=a0_0x4511c4;try{if((0x0,P[_0x37dcaa(0x539)])(_0x2e48c0[_0x37dcaa(0x6c7)]))var _0x4defa0=_0x2e48c0[_0x37dcaa(0x6c7)][_0x37dcaa(0x50f)]('/')[0x3];else var _0x4defa0=_0x2e48c0['inviteCode'];let _0x1a463a=await this['client'][_0x37dcaa(0x4fb)](_0x4defa0);return this[_0x37dcaa(0x5bb)]['verbose'](this[_0x37dcaa(0x708)]+'\x20('+this[_0x37dcaa(0x502)][_0x37dcaa(0x5e4)]+_0x37dcaa(0x3fe)+_0x1a463a),{'join':!0x0,'inviteCode':_0x4defa0,'groupJid':_0x1a463a};}catch(_0x6d0897){throw new L(_0x37dcaa(0x416),_0x6d0897['toString']());}}async[a0_0x4511c4(0x4b1)](_0x76669){const _0x4e61dc=a0_0x4511c4;try{return{'participants':(await this[_0x4e61dc(0x20b)][_0x4e61dc(0x433)](_0x76669['groupJid']))[_0x4e61dc(0x730)]};}catch(_0xf4dec8){throw new L(_0x4e61dc(0x4f6),_0xf4dec8[_0x4e61dc(0x2eb)]());}}async[a0_0x4511c4(0x29e)](_0x33df75){const _0x3130fc=a0_0x4511c4;try{return await this[_0x3130fc(0x20b)][_0x3130fc(0x724)](_0x33df75['groupJid']),{'groupJid':_0x33df75[_0x3130fc(0x716)],'leave':!0x0};}catch(_0x1af466){throw new w(_0x3130fc(0x718),_0x1af466['toString']());}}async[a0_0x4511c4(0x136)](_0x1c3f29){const _0x567377=a0_0x4511c4;return await this[_0x567377(0x21c)](_0x1c3f29[_0x567377(0x3f8)],{'poll':{'name':_0x1c3f29[_0x567377(0x136)]?.[_0x567377(0x665)],'selectableCount':_0x1c3f29[_0x567377(0x136)][_0x567377(0x2ed)],'values':_0x1c3f29[_0x567377(0x136)][_0x567377(0x554)]}},_0x1c3f29?.[_0x567377(0x65c)]);}async[a0_0x4511c4(0x3c4)](_0x1d699b){const _0x4a0c34=a0_0x4511c4;return await this['sendMessageWithTyping'](_0x1d699b[_0x4a0c34(0x3f8)],{'listMessage':{'title':_0x1d699b[_0x4a0c34(0x3c4)][_0x4a0c34(0x28c)],'description':_0x1d699b[_0x4a0c34(0x3c4)][_0x4a0c34(0x579)],'buttonText':_0x1d699b[_0x4a0c34(0x3c4)]?.[_0x4a0c34(0x198)],'footerText':_0x1d699b[_0x4a0c34(0x3c4)]?.[_0x4a0c34(0x3d0)],'sections':_0x1d699b[_0x4a0c34(0x3c4)][_0x4a0c34(0x48e)],'listType':0x2}},_0x1d699b?.['options']);}async[a0_0x4511c4(0x274)](_0x3aa71b){const _0xf567c8=a0_0x4511c4;let _0xbe967e;if(_0x3aa71b['menuMessage'][_0xf567c8(0x6d4)]===_0xf567c8(0x688)){let _0x3b0e53=_0x3aa71b[_0xf567c8(0x274)][_0xf567c8(0x283)][_0xf567c8(0x316)]('\x0a'),_0x2e4501='',_0x16559c='';_0x3b0e53!==-0x1?(_0x2e4501=_0x3aa71b[_0xf567c8(0x274)][_0xf567c8(0x283)][_0xf567c8(0x697)](0x0,_0x3b0e53)[_0xf567c8(0x586)](),_0x16559c=_0x3aa71b[_0xf567c8(0x274)]['text'][_0xf567c8(0x697)](_0x3b0e53+0x1)):_0x16559c=_0x3aa71b['menuMessage'][_0xf567c8(0x283)];let _0xb6aeed=_0x3aa71b[_0xf567c8(0x274)]['choices'][_0xf567c8(0x472)](_0x5b9e82=>_0x5b9e82['trim']()!==''),_0x1cfc6a=this['createSectionsFromValues'](_0xb6aeed);_0xbe967e={'listMessage':{'title':_0x2e4501,'description':_0x16559c,'buttonText':_0x3aa71b[_0xf567c8(0x274)]['buttonText']||'Selecione','footerText':_0x3aa71b['menuMessage'][_0xf567c8(0x3d0)],'sections':_0x1cfc6a,'listType':0x2}};}else{if(_0x3aa71b[_0xf567c8(0x274)]['type']==='poll'){let _0x3dddce=_0x3aa71b[_0xf567c8(0x274)][_0xf567c8(0x63c)][_0xf567c8(0x472)](_0x147fc9=>!(_0x147fc9[_0xf567c8(0x739)]('[')&&_0x147fc9[_0xf567c8(0x117)](']'))&&_0x147fc9['trim']()!=='')[_0xf567c8(0x4dc)](_0x1d196f=>_0x1d196f[_0xf567c8(0x50f)]('\x0a')[0x0]);_0xbe967e={'poll':{'name':_0x3aa71b[_0xf567c8(0x274)][_0xf567c8(0x283)],'selectableCount':_0x3aa71b[_0xf567c8(0x274)]['selectableCount']||0x1,'values':_0x3dddce}};}}return await this[_0xf567c8(0x21c)](_0x3aa71b[_0xf567c8(0x3f8)],_0xbe967e,_0x3aa71b?.[_0xf567c8(0x65c)]);}['createSectionsFromValues'](_0x2ac6e3){const _0xa4c07c=a0_0x4511c4;let _0x60fd15=[],_0x1be3a6={'rows':[]};return _0x2ac6e3[_0xa4c07c(0x2a7)](_0x33c14b=>{const _0x47e27c=_0xa4c07c;if(_0x33c14b['startsWith']('[')&&_0x33c14b[_0x47e27c(0x117)](']'))_0x1be3a6[_0x47e27c(0x44c)][_0x47e27c(0x16d)]>0x0&&_0x60fd15[_0x47e27c(0x6f3)](_0x1be3a6),_0x1be3a6={'title':_0x33c14b['slice'](0x1,-0x1),'rows':[]};else{let _0x5a0e4b=_0x33c14b[_0x47e27c(0x50f)]('\x0a')[_0x47e27c(0x4dc)](_0x3fce6c=>_0x3fce6c[_0x47e27c(0x586)]()),_0x523888=_0x5a0e4b[0x0],_0x62cc9f=_0x5a0e4b[0x1]||null,_0x50e667=_0x5a0e4b[0x2]||_0x523888;_0x1be3a6[_0x47e27c(0x44c)][_0x47e27c(0x6f3)]({'title':_0x523888,'description':_0x62cc9f,'rowId':_0x50e667});}}),_0x1be3a6[_0xa4c07c(0x44c)][_0xa4c07c(0x16d)]>0x0&&_0x60fd15[_0xa4c07c(0x6f3)](_0x1be3a6),_0x60fd15;}async[a0_0x4511c4(0x3bc)](_0x1a6246,_0x86c510){const _0x1459cd=a0_0x4511c4;if(await this[_0x1459cd(0x5c5)](_0x1a6246,!0x0)){let _0xc06d99={'where':{'_id':_0x1a6246['id']}},_0xc60639={'status':[_0x86c510[_0x1459cd(0x3d6)]][0x0]};try{let _0x209017=await this['repository'][_0x1459cd(0x737)][_0x1459cd(0xd1)](_0xc06d99,_0xc60639,this[_0x1459cd(0x502)]['wuid']);_0x209017&&q(this[_0x1459cd(0x708)],_0x1459cd(0x1e0),{'message':_0x209017});}catch{}}}[a0_0x4511c4(0x458)](_0x55abd9){const _0x3d2536=a0_0x4511c4;let _0x22c2d4=[];return _0x55abd9[_0x3d2536(0x2a7)](_0x10ebeb=>{const _0x36a4bd=_0x3d2536;_0x10ebeb[_0x36a4bd(0x28c)]&&_0x22c2d4[_0x36a4bd(0x6f3)]('['+_0x10ebeb[_0x36a4bd(0x28c)]+']'),_0x10ebeb[_0x36a4bd(0x44c)][_0x36a4bd(0x2a7)](_0x3b2b91=>{const _0x3c4953=_0x36a4bd;_0x22c2d4[_0x3c4953(0x6f3)](_0x3b2b91[_0x3c4953(0x28c)]);});}),_0x22c2d4[_0x3d2536(0x3de)]('|');}['formatVCard'](_0x512c4c){const _0x515038=a0_0x4511c4;let _0x10e660=_0x512c4c[_0x515038(0x18c)](/\\n/g,'\x0a')[_0x515038(0x50f)]('\x0a')['filter'](_0x562311=>_0x562311[_0x515038(0x359)]('TEL')||_0x562311['includes'](_0x515038(0x70f))),_0x91728a='';return _0x10e660['forEach'](_0x44ea87=>{const _0x507009=_0x515038;let _0x37a95d=/TEL(?:.*):(.+)/,_0x2be7f2=/EMAIL(?:.*):(.+)/,_0x5177ca=_0x44ea87[_0x507009(0x4af)](_0x37a95d),_0x57c01f=_0x44ea87['match'](_0x2be7f2);if(_0x5177ca){let _0x28ddbc=_0x5177ca[0x1][_0x507009(0x18c)](/-| |\+|\(|\)/g,'')[_0x507009(0x586)]();_0x91728a+=_0x507009(0x67f)+_0x28ddbc+'\x0a';}else{if(_0x57c01f){let _0x4d9269=_0x57c01f[0x1]['trim']();_0x91728a+=_0x507009(0x260)+_0x4d9269+'\x0a';}}}),_0x91728a[_0x515038(0x586)]();}async[a0_0x4511c4(0x5b9)](_0x1115d4,_0xaf2032,_0x202616){const _0x5daec3=a0_0x4511c4;if(!_0x1115d4[_0x5daec3(0x2b7)])return;let _0xb7209=_0xaf2032[_0x5daec3(0x4b4)]['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x27f55f=_0xaf2032[_0x5daec3(0x4b4)][_0x5daec3(0x38e)],_0x13b80d=_0xb7209[_0x5daec3(0x117)](_0x5daec3(0x347)),_0x2e1478=_0xaf2032[_0x5daec3(0x3d9)]?.[_0x5daec3(0x283)]||_0xaf2032['message_normalized']?.['caption']||_0xaf2032['message_normalized']?.[_0x5daec3(0x4b2)]||_0xaf2032[_0x5daec3(0x3d9)]?.[_0x5daec3(0x665)],_0x144dd3={'lastmsg':_0xaf2032['messageTimestamp']||Date[_0x5daec3(0x56c)](),'unreadcount':_0x27f55f?0x0:0x1,..._0x27f55f||_0x13b80d?{}:{'name':_0xaf2032[_0x5daec3(0xa7)]},..._0x13b80d?{'group':_0x13b80d}:{},...!_0x27f55f&&!_0x13b80d&&_0xaf2032[_0x5daec3(0x48a)]?{'imagechat':_0xaf2032[_0x5daec3(0x48a)]}:{}},_0x27a7f3=await this[_0x5daec3(0x368)][_0x5daec3(0x4d5)]['updateOne']({'where':{'_id':_0xb7209}},_0x144dd3,this['instance']['wuid'],{'new':!0x0,'upsert':!0x0});if(_0x27a7f3[_0x5daec3(0x55f)]){let _0x1f11ef=await this[_0x5daec3(0x368)]['label'][_0x5daec3(0x5af)]({'where':{}},this[_0x5daec3(0x502)]['wuid']),_0x2177aa=new Set(_0x1f11ef[_0x5daec3(0x4dc)](_0x3d702b=>_0x3d702b[_0x5daec3(0x2c1)])),_0x2f634e=(_0x27a7f3['leadInfo']?.[_0x5daec3(0x6dc)]||[])[_0x5daec3(0x472)](_0x40c438=>_0x2177aa[_0x5daec3(0x588)](_0x40c438)),_0x1e5b8f={'leadInfo.etiquetas':_0x2f634e,'imported':!0x1};_0x27a7f3=await this[_0x5daec3(0x368)][_0x5daec3(0x4d5)][_0x5daec3(0x34e)]({'where':{'_id':_0xb7209}},_0x1e5b8f,this[_0x5daec3(0x502)]['wuid']);for(let _0x9ee170 of _0x2f634e)await this['AddChatLabel'](_0x9ee170,_0xb7209);}if(!_0x13b80d&&(!_0x27a7f3?.[_0x5daec3(0x589)]||!_0x27a7f3[_0x5daec3(0x589)][_0x5daec3(0x4ff)])&&_0xaf2032[_0x5daec3(0xa7)]&&!_0x27f55f&&(_0x27a7f3=await this['repository'][_0x5daec3(0x4d5)][_0x5daec3(0x34e)]({'where':{'_id':_0xb7209}},{'leadInfo.nome':_0xaf2032[_0x5daec3(0xa7)]},this['instance']['wuid'],{'new':!0x0,'upsert':!0x0})),_0x202616===_0x5daec3(0x3f2)&&_0x27f55f&&this[_0x5daec3(0x3db)]?.[_0x5daec3(0xba)][_0x5daec3(0x2e1)]&&!_0x2e1478[_0x5daec3(0x739)](this[_0x5daec3(0x3db)]?.[_0x5daec3(0xba)]['prefixCommand'])){let _0x2eb582=(this[_0x5daec3(0x3db)]?.[_0x5daec3(0xba)][_0x5daec3(0x26a)]||0x5)*0xea60,_0x38cbb9=Date[_0x5daec3(0x56c)]()+_0x2eb582;_0x27a7f3?.[_0x5daec3(0x589)]?.[_0x5daec3(0x6b3)]===0x0||(await this[_0x5daec3(0x368)][_0x5daec3(0x4d5)]['updateOne']({'where':{'_id':_0xb7209}},{'leadInfo.desativadoFluxoAte':_0x38cbb9},this[_0x5daec3(0x502)][_0x5daec3(0x5e4)],{'new':!0x0,'upsert':!0x1}),this[_0x5daec3(0x5bb)]['verbose'](this['instanceName']+'\x20('+this[_0x5daec3(0x502)][_0x5daec3(0x5e4)]+_0x5daec3(0x28e)+_0x38cbb9+'.'));}if(_0x27a7f3)q(this['instanceName'],'chats',{'chat':_0x27a7f3});else{this['logger']['error'](this[_0x5daec3(0x708)]+'\x20('+this[_0x5daec3(0x502)][_0x5daec3(0x5e4)]+_0x5daec3(0x5f2));return;}if(!this[_0x5daec3(0x3db)]?.[_0x5daec3(0xba)][_0x5daec3(0x2e1)])return this[_0x5daec3(0x5bb)]['verbose'](this[_0x5daec3(0x708)]+'\x20('+this[_0x5daec3(0x502)][_0x5daec3(0x5e4)]+'):\x20Flow\x20desativado'),null;if(_0x27a7f3[_0x5daec3(0x2c1)]['includes'](_0x5daec3(0x347))&&this[_0x5daec3(0x3db)]?.[_0x5daec3(0xba)][_0x5daec3(0x65e)]===!0x0)return this['logger'][_0x5daec3(0x1a7)](this[_0x5daec3(0x708)]+'\x20('+this['instance'][_0x5daec3(0x5e4)]+_0x5daec3(0x3ae)),null;if(_0x27a7f3[_0x5daec3(0x589)]){if(_0x27a7f3[_0x5daec3(0x589)]['desativadoFluxoAte']===0x0||_0x27a7f3[_0x5daec3(0x589)][_0x5daec3(0x6fb)])return this['logger'][_0x5daec3(0x1a7)](this['instanceName']+'\x20('+this[_0x5daec3(0x502)][_0x5daec3(0x5e4)]+_0x5daec3(0x605)+_0xb7209+_0x5daec3(0x1a1)),null;if(_0x27a7f3[_0x5daec3(0x589)]['desativadoFluxoAte']>Date[_0x5daec3(0x56c)]()&&!_0xaf2032[_0x5daec3(0x3d9)]?.['vote'])return this[_0x5daec3(0x5bb)]['verbose'](this[_0x5daec3(0x708)]+'\x20('+this['instance']['wuid']+_0x5daec3(0x702)+new Date(_0x27a7f3[_0x5daec3(0x589)]['desativadoFluxoAte'])['toLocaleString']()+',\x20saindo.'),null;}this['logger'][_0x5daec3(0x1a7)](this[_0x5daec3(0x708)]+'\x20('+this[_0x5daec3(0x502)]['wuid']+_0x5daec3(0x164)),this[_0x5daec3(0x572)](_0x202616,_0xaf2032);}async[a0_0x4511c4(0x287)](_0x10ecb5,_0x184946){const _0x228573=a0_0x4511c4;if(_0x184946[_0x228573(0x2b7)]){let _0x2f38d6=_0x10ecb5[_0x228573(0x4dc)](async _0x18aa74=>{const _0x477536=_0x228573;try{let _0x36e847={'_id':_0x18aa74['_id'],'owner':_0x18aa74[_0x477536(0xf0)],'lastcache':0x0};if(_0x18aa74[_0x477536(0x5cf)]!==null&&(_0x36e847[_0x477536(0x5cf)]=_0x18aa74[_0x477536(0x5cf)]),_0x18aa74[_0x477536(0x665)]!==null&&(_0x36e847[_0x477536(0x665)]=_0x18aa74[_0x477536(0x665)]),_0x18aa74[_0x477536(0x265)]!==null&&(_0x36e847[_0x477536(0x265)]=_0x18aa74['contactname']),_0x18aa74['imagechat']!==null&&(_0x36e847[_0x477536(0x281)]=_0x18aa74[_0x477536(0x281)]),_0x18aa74[_0x477536(0x281)]===null&&(_0x36e847[_0x477536(0x281)]=_0x477536(0x107)),_0x18aa74[_0x477536(0x70c)]!==null&&(_0x36e847[_0x477536(0x70c)]=_0x18aa74['lastmsg']),_0x18aa74[_0x477536(0x402)]!==null&&(_0x36e847['archived']=_0x18aa74['archived']),_0x18aa74[_0x477536(0x485)]!==null&&(_0x36e847['unreadcount']=_0x18aa74['unreadcount']),Object[_0x477536(0x41a)](_0x36e847)[_0x477536(0x16d)]>0x0)return await this['repository'][_0x477536(0x4d5)][_0x477536(0x34e)]({'where':{'_id':_0x18aa74[_0x477536(0x2c1)]}},_0x36e847,this['instance'][_0x477536(0x5e4)]);}catch(_0x290775){return console['error'](_0x477536(0x5c9)+_0x18aa74['_id']+':',_0x290775),null;}}),_0x183396=(await Promise[_0x228573(0x4ba)](_0x2f38d6))['filter'](_0x47c460=>_0x47c460!==null)['length'];this[_0x228573(0x5bb)][_0x228573(0x1a7)](this[_0x228573(0x708)]+'\x20('+this['instance'][_0x228573(0x5e4)]+'):\x20'+_0x183396+_0x228573(0x5bf)+this[_0x228573(0x502)]['wuid']+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async['readMessageBot'](_0x16f1ea){const _0xe6b72b=a0_0x4511c4;this[_0xe6b72b(0x5bb)][_0xe6b72b(0x1a7)](this[_0xe6b72b(0x708)]+'\x20('+this['instance'][_0xe6b72b(0x5e4)]+_0xe6b72b(0x1d7));let _0x48544b={'readMessages':[{'remoteJid':_0x16f1ea[_0xe6b72b(0x17e)]['lastReceivedMessage'][_0xe6b72b(0x4b4)][_0xe6b72b(0x456)],'fromMe':_0x16f1ea[_0xe6b72b(0x17e)][_0xe6b72b(0x616)]['key'][_0xe6b72b(0x38e)],'id':_0x16f1ea[_0xe6b72b(0x17e)][_0xe6b72b(0x616)][_0xe6b72b(0x4b4)]['id']}]};await this[_0xe6b72b(0x73e)](_0x48544b);}async['StartBot'](_0x243eea,_0x150190){const _0x28abdb=a0_0x4511c4;try{let {key:_0x178a72,message_normalized:_0x904fc5}=_0x150190,_0x481907=_0x904fc5,_0x56d290=_0x904fc5[_0x28abdb(0x283)]||_0x904fc5[_0x28abdb(0x196)]||_0x904fc5[_0x28abdb(0x4b2)]||_0x904fc5[_0x28abdb(0x665)],_0x30ed64=_0x178a72[_0x28abdb(0x456)],_0x1f3796;if(_0x481907[_0x28abdb(0x4b4)][_0x28abdb(0x38e)]&&_0x56d290[_0x28abdb(0x586)]()!==this[_0x28abdb(0x3db)]?.['flowConfig'][_0x28abdb(0x6ed)][_0x28abdb(0x586)]())return this[_0x28abdb(0x5bb)][_0x28abdb(0x1a7)](this[_0x28abdb(0x708)]+'\x20('+this['instance'][_0x28abdb(0x5e4)]+_0x28abdb(0x6cd)),null;if(_0x481907[_0x28abdb(0x4b4)]['fromMe']&&_0x56d290[_0x28abdb(0x586)]()===this[_0x28abdb(0x3db)]?.[_0x28abdb(0xba)][_0x28abdb(0x6ed)][_0x28abdb(0x586)]()){this['logger']['verbose'](this[_0x28abdb(0x708)]+'\x20('+this['instance'][_0x28abdb(0x5e4)]+_0x28abdb(0x246));let _0x3a859d=await this[_0x28abdb(0x368)]['flowConversation']['find']({'remoteJid':_0x30ed64,'status':_0x28abdb(0x37a)},this[_0x28abdb(0x502)][_0x28abdb(0x5e4)]);this[_0x28abdb(0x5bb)]['verbose'](this[_0x28abdb(0x708)]+'\x20('+this[_0x28abdb(0x502)]['wuid']+_0x28abdb(0x54d)+_0x3a859d);let _0x5cce89=Date['now'](),_0x4c75b2;return this[_0x28abdb(0x3db)]?.['flowConfig']['stopMinutes']===0x0?_0x4c75b2={'stoppedUntil':_0x5cce89+0x7591f6200}:_0x4c75b2={'stoppedUntil':_0x5cce89+this[_0x28abdb(0x3db)]?.[_0x28abdb(0xba)][_0x28abdb(0x5a1)]*0x3c*0x3e8},this['logger']['verbose'](this[_0x28abdb(0x708)]+'\x20('+this[_0x28abdb(0x502)][_0x28abdb(0x5e4)]+_0x28abdb(0xe1)+_0x4c75b2),this[_0x28abdb(0x133)](_0x1f3796,_0x4c75b2['stoppedUntil']),null;}if(_0x56d290&&_0x56d290[_0x28abdb(0x739)](this[_0x28abdb(0x3db)]?.['flowConfig'][_0x28abdb(0x6e0)])&&_0x56d290[_0x28abdb(0x16d)]>0x4){let _0x1b83f3=await this[_0x28abdb(0x368)][_0x28abdb(0x583)][_0x28abdb(0x19a)]({'where':{'startCommandWord':_0x56d290}},this[_0x28abdb(0x502)][_0x28abdb(0x5e4)]);if(this['logger'][_0x28abdb(0x1a7)](this['instanceName']+'\x20('+this[_0x28abdb(0x502)][_0x28abdb(0x5e4)]+_0x28abdb(0x36c)),_0x1b83f3)_0x1f3796=await this['createNewConversation'](_0x1b83f3,_0x481907['key'],_0x481907);else return this['logger']['verbose'](this[_0x28abdb(0x708)]+'\x20('+this[_0x28abdb(0x502)][_0x28abdb(0x5e4)]+_0x28abdb(0x297)),null;}else _0x1f3796=await this['findConversation'](_0x30ed64,_0x481907);if(_0x1f3796){this[_0x28abdb(0x5bb)][_0x28abdb(0x1a7)](this[_0x28abdb(0x708)]+'\x20('+this[_0x28abdb(0x502)][_0x28abdb(0x5e4)]+_0x28abdb(0x538)),!_0x178a72['fromMe']&&_0x1f3796[_0x28abdb(0x501)]&&this['readMessageBot'](_0x1f3796);let _0x4b6052=await this[_0x28abdb(0x71f)](_0x1f3796);_0x4b6052&&await this[_0x28abdb(0x1ba)](_0x1f3796,_0x4b6052);}}catch(_0x4ae449){this['logger']['error'](this['instanceName']+'\x20('+this[_0x28abdb(0x502)][_0x28abdb(0x5e4)]+_0x28abdb(0x378)+(_0x4ae449 instanceof Error?_0x4ae449[_0x28abdb(0x737)]:JSON[_0x28abdb(0x757)](_0x4ae449,null,0x2)));}}[a0_0x4511c4(0x1f9)](_0x1a634d,_0x366e16='',_0x1f6147={},_0x24cc52=!0x0){const _0x4eb0e4=a0_0x4511c4;for(let _0x33371b in _0x1a634d){let _0x570322=_0x24cc52?'_'+_0x33371b:''+_0x366e16+_0x33371b;typeof _0x1a634d[_0x33371b]==_0x4eb0e4(0x21b)&&_0x1a634d[_0x33371b]!==null?this[_0x4eb0e4(0x1f9)](_0x1a634d[_0x33371b],_0x570322+'.',_0x1f6147,!0x1):_0x1f6147[_0x570322]=String(_0x1a634d[_0x33371b]);}return _0x1f6147;}[a0_0x4511c4(0x57e)](_0x32c918){const _0xfec522=a0_0x4511c4;let _0x565408={};for(let _0x47dc0a of _0x32c918)typeof _0x47dc0a[_0xfec522(0x665)]==_0xfec522(0x2b9)&&typeof _0x47dc0a['value']=='string'&&(_0x565408[_0x47dc0a[_0xfec522(0x665)]]=_0x47dc0a[_0xfec522(0x44a)]);return _0x565408;}async[a0_0x4511c4(0x71f)](_0x44a20c){const _0x1fa10e=a0_0x4511c4;if(!this['AutomateSystem']?.[_0x1fa10e(0xba)][_0x1fa10e(0x2e1)]||_0x44a20c[_0x1fa10e(0x3d6)]!=='open'&&_0x44a20c['waitingMenu_id']==='')return null;let _0x16bfb3=_0x44a20c[_0x1fa10e(0x17e)][_0x1fa10e(0x101)]||'start';typeof _0x44a20c[_0x1fa10e(0x17e)][_0x1fa10e(0x35b)]>'u'&&(_0x44a20c[_0x1fa10e(0x17e)]['lastCondition']=!0x0);let _0x2e2b4c=_0x44a20c[_0x1fa10e(0x17e)][_0x1fa10e(0x35b)];this[_0x1fa10e(0x5bb)][_0x1fa10e(0x1a7)](this[_0x1fa10e(0x708)]+'\x20('+this['instance'][_0x1fa10e(0x5e4)]+'):\x20lastBlockId:\x20'+_0x16bfb3+_0x1fa10e(0x61e)+_0x2e2b4c);let _0x5a7fd7=_0x16bfb3===_0x1fa10e(0x128)?_0x44a20c[_0x1fa10e(0x46e)][_0x1fa10e(0x5af)](_0x1ba6ea=>_0x1ba6ea[_0x1fa10e(0x6d4)]===_0x1fa10e(0x128)):_0x44a20c[_0x1fa10e(0x46e)][_0x1fa10e(0x5af)](_0x2a95fe=>_0x2a95fe['_id'][_0x1fa10e(0x2eb)]()===_0x16bfb3[_0x1fa10e(0x2eb)]());if(!_0x5a7fd7)return this['logger'][_0x1fa10e(0xcd)](this['instanceName']+'\x20('+this['instance'][_0x1fa10e(0x5e4)]+_0x1fa10e(0x4c5)+_0x16bfb3),null;let _0x238ee5={'_pushName':_0x44a20c[_0x1fa10e(0x17e)][_0x1fa10e(0x616)][_0x1fa10e(0xa7)],..._0x44a20c['chatLog'][_0x1fa10e(0x2ef)]},_0xffee8e=null;if(_0x44a20c['waitingMenu_id']){let _0x168081=_0x44a20c['chatLog'][_0x1fa10e(0x616)]['vote'],_0x5e8492=_0x44a20c[_0x1fa10e(0x366)][_0x1fa10e(0x5af)](_0x5c5ebd=>_0x5c5ebd[_0x1fa10e(0x221)]===_0x168081);if(_0x5e8492){let _0x1b73a1=_0x5e8492['next_groupId'];if(_0xffee8e=_0x44a20c[_0x1fa10e(0x46e)][_0x1fa10e(0x5af)](_0x372631=>_0x372631['groupId']===_0x1b73a1&&_0x372631[_0x1fa10e(0x6ea)]===0x1),_0x5a7fd7['uazapi'][_0x1fa10e(0x5b2)]){let _0x39843a={'id':_0x44a20c[_0x1fa10e(0x231)],'remoteJid':_0x44a20c['remoteJid'],'fromMe':!0x0};await this['deleteMessage'](_0x39843a);}if(_0x5a7fd7[_0x1fa10e(0x5e1)][_0x1fa10e(0x5b2)]&&_0x5a7fd7['uazapi'][_0x1fa10e(0x5fa)]&&_0x5a7fd7[_0x1fa10e(0x5e1)]['menuType']===_0x1fa10e(0x609)){let _0xad1ef7={'number':_0x44a20c[_0x1fa10e(0x456)],'options':{'delay':0x0},'textMessage':{'text':_0x1fa10e(0x5ab)+_0x44a20c[_0x1fa10e(0x168)]+_0x1fa10e(0x440)+_0x168081}};await this[_0x1fa10e(0x171)](_0xad1ef7);}_0x44a20c[_0x1fa10e(0x3d6)]='open',_0x44a20c['waitingMenu_id']='',_0x44a20c[_0x1fa10e(0x168)]='',_0x44a20c['waitingMenu_replyOptions']=[];}else{this[_0x1fa10e(0x5bb)][_0x1fa10e(0x1a7)](this[_0x1fa10e(0x708)]+'\x20('+this[_0x1fa10e(0x502)]['wuid']+_0x1fa10e(0x526));let _0x3313af={'activatedCount':_0x44a20c[_0x1fa10e(0x17e)][_0x1fa10e(0x35f)][_0x1fa10e(0x472)](_0x1ec031=>String(_0x1ec031[_0x1fa10e(0x34b)])===String(_0x16bfb3))['length'],'moreLogs':[_0x1fa10e(0x4a9)]};if(_0x5a7fd7['uazapi'][_0x1fa10e(0x38c)]){let _0x3a6f20={'number':_0x44a20c[_0x1fa10e(0x456)],'options':{'delay':0x0},'textMessage':{'text':_0x5a7fd7[_0x1fa10e(0x5e1)]['pollErrorMessage']}};await this[_0x1fa10e(0x171)](_0x3a6f20);}if(_0x5a7fd7['maxActives']!==void 0x0&&_0x3313af[_0x1fa10e(0x655)]>=_0x5a7fd7[_0x1fa10e(0x67a)]){let _0x1aee75=Date[_0x1fa10e(0x56c)](),_0x30e733=_0x5a7fd7[_0x1fa10e(0x22d)]??0xa;isNaN(_0x30e733)&&(_0x30e733=0xa);let _0x389293=_0x1aee75+_0x30e733*0x3c*0x3e8;_0x3313af[_0x1fa10e(0x319)]=_0x389293,_0x3313af[_0x1fa10e(0x234)][_0x1fa10e(0x6f3)](_0x1fa10e(0x25d)),this['updateStopChat'](_0x44a20c,_0x389293),_0x44a20c[_0x1fa10e(0x231)]='',_0x44a20c['waitingMenu_text']='',_0x44a20c[_0x1fa10e(0x366)]=[];}return this['updateConversation'](_0x44a20c,_0x5a7fd7,_0x3313af,!0x0),null;}}if(_0x2e2b4c&&_0x5a7fd7[_0x1fa10e(0xd3)]&&!_0x44a20c[_0x1fa10e(0x231)]){let _0x494ec0=_0x44a20c[_0x1fa10e(0x46e)][_0x1fa10e(0x472)](_0x38b956=>_0x38b956[_0x1fa10e(0x3cb)][_0x1fa10e(0x2eb)]()===_0x5a7fd7[_0x1fa10e(0xd3)][_0x1fa10e(0x2eb)]())[_0x1fa10e(0x56a)]((_0x52d3fc,_0x2b0867)=>_0x52d3fc[_0x1fa10e(0x6ea)]-_0x2b0867['order']);_0x494ec0[_0x1fa10e(0x16d)]>0x0&&(_0xffee8e=_0x494ec0[0x0]);}if(!_0xffee8e){let _0x10cdb4=_0x5a7fd7[_0x1fa10e(0x3cb)],_0x16450f=_0x44a20c[_0x1fa10e(0x46e)][_0x1fa10e(0x472)](_0x35d6fa=>_0x35d6fa[_0x1fa10e(0x3cb)]===_0x10cdb4&&_0x35d6fa[_0x1fa10e(0x6ea)]>_0x5a7fd7[_0x1fa10e(0x6ea)])[_0x1fa10e(0x56a)]((_0x33197c,_0x3e7052)=>_0x33197c[_0x1fa10e(0x6ea)]-_0x3e7052[_0x1fa10e(0x6ea)]);_0x16450f[_0x1fa10e(0x16d)]>0x0&&(_0xffee8e=_0x16450f[0x0]);}if(!_0xffee8e)return _0x44a20c[_0x1fa10e(0x3d6)]='closed',null;_0x44a20c['chatLog'][_0x1fa10e(0x2ef)]=_0x238ee5;let _0xaaeec1=JSON['parse'](JSON[_0x1fa10e(0x757)](_0xffee8e));return this['replaceVariablesInObject'](_0xaaeec1,_0x44a20c[_0x1fa10e(0x17e)][_0x1fa10e(0x2ef)]),_0x44a20c[_0x1fa10e(0x17e)]['lastBlockId']=_0xaaeec1['_id'],_0x44a20c[_0x1fa10e(0x17e)][_0x1fa10e(0x35b)]=!0x0,_0xaaeec1;}[a0_0x4511c4(0x4b6)](_0xf8cda0,_0x2a1cff){return _0xf8cda0['replace'](/\{\{([^}]+)\}\}/g,(_0x410444,_0x5317dd)=>_0x2a1cff[_0x5317dd]||'');}[a0_0x4511c4(0x233)](_0x40e5d9,_0x410541){const _0x21e8ef=a0_0x4511c4;for(let _0x2c87db in _0x40e5d9)typeof _0x40e5d9[_0x2c87db]==_0x21e8ef(0x2b9)?_0x40e5d9[_0x2c87db]=this['replaceVariables'](_0x40e5d9[_0x2c87db],_0x410541):typeof _0x40e5d9[_0x2c87db]==_0x21e8ef(0x21b)&&this[_0x21e8ef(0x233)](_0x40e5d9[_0x2c87db],_0x410541);}async[a0_0x4511c4(0x5e0)](_0x289b18,_0x1a8ced){const _0x10eb8f=a0_0x4511c4;let _0x3984f3=_0x1a8ced[_0x10eb8f(0x2c1)];if(_0x289b18[_0x10eb8f(0x17e)]&&_0x289b18[_0x10eb8f(0x17e)][_0x10eb8f(0x35f)]){let _0x4c0aee=_0x289b18[_0x10eb8f(0x17e)]['blockLogs'][_0x10eb8f(0x472)](_0x297e09=>String(_0x297e09[_0x10eb8f(0x34b)])===String(_0x3984f3))['pop']();if(_0x4c0aee&&_0x4c0aee['error']&&_0x1a8ced[_0x10eb8f(0x6b6)])return _0x289b18['status']='closed',await this[_0x10eb8f(0x2b8)](_0x289b18),null;}if(_0x1a8ced[_0x10eb8f(0x6d4)]==='uazapi'&&_0x1a8ced[_0x10eb8f(0x5e1)][_0x10eb8f(0x527)]===_0x10eb8f(0x409)&&_0x289b18['waitingMenu_id'])return _0x289b18[_0x10eb8f(0x17e)]['lastBlockId']=_0x3984f3,await this['saveConversationToDatabase'](_0x289b18),null;let _0xf3519=await this[_0x10eb8f(0x71f)](_0x289b18);if(_0x289b18[_0x10eb8f(0x17e)]&&_0x289b18[_0x10eb8f(0x17e)][_0x10eb8f(0x35f)]){let _0x3a885a=_0x289b18[_0x10eb8f(0x17e)][_0x10eb8f(0x35f)][_0x10eb8f(0x472)](_0x287590=>String(_0x287590[_0x10eb8f(0x34b)])===String(_0x3984f3))['length'];if(_0x1a8ced[_0x10eb8f(0x67a)]!==void 0x0&&_0x3a885a>=_0x1a8ced['maxActives']){let _0x5a8e55=Date['now'](),_0xc244b4=_0x1a8ced[_0x10eb8f(0x22d)]??0xa;isNaN(_0xc244b4)&&(_0xc244b4=0xa);let _0x33550d=_0x5a8e55+_0xc244b4*0x3c*0x3e8,_0x182377={'newStoppedUntil':_0x33550d};return this[_0x10eb8f(0x133)](_0x289b18,_0x33550d),this['updateConversation'](_0x289b18,_0x1a8ced,_0x182377,!0x0),null;}}_0xf3519&&_0xf3519[_0x10eb8f(0x6d4)]!=='save'&&await this['processblock'](_0x289b18,_0xf3519),_0xf3519||await this[_0x10eb8f(0x2b8)](_0x289b18),_0xf3519&&_0xf3519[_0x10eb8f(0x6d4)]===_0x10eb8f(0x36b)&&(_0x289b18[_0x10eb8f(0x17e)][_0x10eb8f(0x101)]=_0x3984f3,await this[_0x10eb8f(0x2b8)](_0x289b18));}async[a0_0x4511c4(0x1ba)](_0x44257a,_0x119442){const _0x3b5ec7=a0_0x4511c4;try{let _0x248ea3=_0x119442[_0x3b5ec7(0x6d4)];this[_0x3b5ec7(0x5bb)][_0x3b5ec7(0x1a7)](this[_0x3b5ec7(0x708)]+'\x20('+this[_0x3b5ec7(0x502)][_0x3b5ec7(0x5e4)]+'):\x20Going\x20to\x20'+_0x248ea3);let _0x177d50={'uazapi':()=>this[_0x3b5ec7(0x52b)](_0x44257a,_0x119442),'save':()=>this['saveTextReply'](_0x44257a,_0x119442),'stop':()=>this[_0x3b5ec7(0x6ed)](_0x44257a,_0x119442),'condition':()=>this[_0x3b5ec7(0x681)](_0x44257a,_0x119442),'varedit':()=>this[_0x3b5ec7(0x69f)](_0x44257a,_0x119442),'apirequest':()=>this[_0x3b5ec7(0x3ea)](_0x44257a,_0x119442),'goToFlow':()=>this[_0x3b5ec7(0x2aa)](_0x44257a,_0x119442)}[_0x248ea3];_0x177d50&&await _0x177d50();}catch(_0x365358){this[_0x3b5ec7(0x5bb)][_0x3b5ec7(0xcd)](this[_0x3b5ec7(0x708)]+'\x20('+this[_0x3b5ec7(0x502)][_0x3b5ec7(0x5e4)]+_0x3b5ec7(0x74b)+(_0x365358 instanceof Error?_0x365358[_0x3b5ec7(0x737)]:JSON['stringify'](_0x365358,null,0x2)));}}async[a0_0x4511c4(0x2aa)](_0x332d6e,_0x3061ea){const _0x1b24af=a0_0x4511c4;if(this[_0x1b24af(0x5bb)]['verbose'](this[_0x1b24af(0x708)]+'\x20('+this[_0x1b24af(0x502)][_0x1b24af(0x5e4)]+_0x1b24af(0x46c)),!_0x332d6e||!_0x3061ea)return this[_0x1b24af(0x5bb)]['error'](this[_0x1b24af(0x708)]+'\x20('+this[_0x1b24af(0x502)]['wuid']+_0x1b24af(0x3da)),null;await this[_0x1b24af(0x749)](_0x332d6e,_0x3061ea,{},!0x0,!0x0),console['log'](_0x1b24af(0x6c1)),console[_0x1b24af(0x5db)](_0x3061ea);let _0x3acfbd=_0x3061ea[_0x1b24af(0x1eb)];console[_0x1b24af(0x5db)](_0x1b24af(0x419),_0x3acfbd),_0x332d6e=await this[_0x1b24af(0x185)](_0x3acfbd,_0x332d6e[_0x1b24af(0x456)],_0x332d6e[_0x1b24af(0x17e)][_0x1b24af(0x2ef)]),this[_0x1b24af(0x5bb)]['verbose'](this[_0x1b24af(0x708)]+'\x20('+this[_0x1b24af(0x502)][_0x1b24af(0x5e4)]+_0x1b24af(0x12f));let _0x56e808=await this['NextBlock'](_0x332d6e);_0x56e808&&await this[_0x1b24af(0x1ba)](_0x332d6e,_0x56e808);}async['createConversationforgoToFlow'](_0x4d512b,_0x18d62d,_0x2684f9){const _0x1850fa=a0_0x4511c4;this[_0x1850fa(0x5bb)][_0x1850fa(0x1a7)](this[_0x1850fa(0x708)]+'\x20('+this[_0x1850fa(0x502)][_0x1850fa(0x5e4)]+_0x1850fa(0x3ef));try{if(_0x4d512b=await this[_0x1850fa(0x368)][_0x1850fa(0x583)][_0x1850fa(0x19a)]({'where':{'name':_0x4d512b}},this['instance'][_0x1850fa(0x5e4)]),!_0x4d512b)return this[_0x1850fa(0x5bb)][_0x1850fa(0xcd)](this[_0x1850fa(0x708)]+'\x20('+this[_0x1850fa(0x502)]['wuid']+_0x1850fa(0x1db)),null;let _0x18f2da=require('mongodb')[_0x1850fa(0x51d)],_0x496a8=Date['now'](),_0x2415b0=_0x1850fa(0x128),_0x563a2c={},_0x5d02c4={},_0x5014f9={..._0x4d512b,'chatLog':null},_0x2d0ae2={'lastReceivedMessage':_0x563a2c,'lastSendMessage':_0x5d02c4,'lastBlockId':_0x2415b0,'lastCondition':!0x0,'realVariables':_0x2684f9};_0x5014f9[_0x1850fa(0x17e)]=_0x2d0ae2,_0x5014f9['chatLog']['realVariables']={..._0x2684f9},delete _0x5014f9['_id'],_0x5014f9[_0x1850fa(0x2c1)]=new _0x18f2da(),_0x5014f9[_0x1850fa(0x1c6)]=_0x496a8,_0x5014f9[_0x1850fa(0x3d6)]=_0x1850fa(0x37a),_0x5014f9[_0x1850fa(0x456)]=_0x18d62d;let _0x37dcdc=await this[_0x1850fa(0x368)][_0x1850fa(0x53a)][_0x1850fa(0x34e)](_0x5014f9[_0x1850fa(0x2c1)],_0x5014f9,this[_0x1850fa(0x502)][_0x1850fa(0x5e4)]);return this['logger']['verbose'](this[_0x1850fa(0x708)]+'\x20('+this[_0x1850fa(0x502)][_0x1850fa(0x5e4)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x37dcdc?_0x5014f9:null;}catch(_0x1c45a2){throw this[_0x1850fa(0x5bb)][_0x1850fa(0xcd)](this[_0x1850fa(0x708)]+'\x20('+this[_0x1850fa(0x502)][_0x1850fa(0x5e4)]+_0x1850fa(0x567)+(_0x1c45a2 instanceof Error?_0x1c45a2['message']:JSON[_0x1850fa(0x757)](_0x1c45a2,null,0x2))),new w(_0x1c45a2[_0x1850fa(0x737)]);}}async[a0_0x4511c4(0x3ea)](_0xd0e68b,_0x4b17da){const _0x1ccd29=a0_0x4511c4;let _0xea47a9,_0x2a8bcc;try{let _0x4a59f9=_0x4b17da[_0x1ccd29(0x6a2)];if(!_0x4a59f9||!_0x4a59f9[_0x1ccd29(0x405)]||!_0x4a59f9['method'])throw new Error(_0x1ccd29(0x21e));let _0x5197c2;([_0x1ccd29(0x2b1),_0x1ccd29(0x6dd),_0x1ccd29(0x516)][_0x1ccd29(0x43f)](_0x1dd95c=>_0x4a59f9[_0x1ccd29(0x405)][_0x1ccd29(0x359)](_0x1dd95c))||_0x4a59f9['requestFile'])&&(_0x5197c2=_0x1ccd29(0x3c8));let _0x13558d={'method':_0x4a59f9[_0x1ccd29(0x4fe)],'url':_0x4a59f9[_0x1ccd29(0x405)],'headers':_0x4a59f9[_0x1ccd29(0x42c)]||{},'data':_0x4a59f9[_0x1ccd29(0x2a1)]||{},..._0x5197c2&&{'responseType':_0x5197c2}},_0x440695=await(0x0,Z['default'])(_0x13558d),_0x27d059=_0x440695[_0x1ccd29(0x376)]['content-type'];if(_0x27d059&&_0x27d059[_0x1ccd29(0x359)]('application/json')){_0xea47a9=_0x440695[_0x1ccd29(0x461)];let _0xc8bc8f=_0xd0e68b[_0x1ccd29(0x17e)][_0x1ccd29(0x2ef)],_0x584f71=this[_0x1ccd29(0x1f9)](_0xea47a9);return Object[_0x1ccd29(0x658)](_0xc8bc8f,_0x584f71),_0xd0e68b[_0x1ccd29(0x17e)]['realVariables']=_0xc8bc8f,_0x2a8bcc={'error':!0x1,'apiResponse':_0xea47a9},this[_0x1ccd29(0x749)](_0xd0e68b,_0x4b17da,_0x2a8bcc),_0xea47a9;}if(_0x27d059&&(_0x27d059[_0x1ccd29(0x359)](_0x1ccd29(0x1ec))||_0x27d059[_0x1ccd29(0x359)](_0x1ccd29(0x562))||_0x27d059[_0x1ccd29(0x359)](_0x1ccd29(0x317))||_0x27d059[_0x1ccd29(0x359)](_0x1ccd29(0x656)))){this[_0x1ccd29(0x5bb)]['verbose'](this['instanceName']+'\x20('+this[_0x1ccd29(0x502)]['wuid']+_0x1ccd29(0x48b)+_0x27d059);let _0x416d7f=(0x0,Re['v4'])(),_0x2f472b='',_0x2c5b63={'image/jpeg':_0x1ccd29(0x19d),'image/png':_0x1ccd29(0x4f4),'image/gif':'.gif','image/webp':_0x1ccd29(0x713),'image/svg+xml':'.svg','audio/mpeg':_0x1ccd29(0x239),'audio/ogg':_0x1ccd29(0x641),'audio/wav':_0x1ccd29(0x5e2),'video/mp4':_0x1ccd29(0x50e),'video/webm':_0x1ccd29(0x4a2),'video/ogg':_0x1ccd29(0x67b),'text/plain':_0x1ccd29(0x2fa),'application/pdf':_0x1ccd29(0x39e),'application/msword':_0x1ccd29(0x361),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x1ccd29(0x166),'application/vnd.ms-excel':_0x1ccd29(0x568),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x1ccd29(0x1e2),'application/vnd.ms-powerpoint':_0x1ccd29(0x512),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x2c5b63[_0x27d059]?(_0x2f472b=_0x2c5b63[_0x27d059],this[_0x1ccd29(0x5bb)]['verbose'](this[_0x1ccd29(0x708)]+'\x20('+this['instance'][_0x1ccd29(0x5e4)]+_0x1ccd29(0x2ce)+_0x2f472b)):(_0x2f472b=_0x1ccd29(0x63a),this[_0x1ccd29(0x5bb)]['verbose'](this['instanceName']+'\x20('+this[_0x1ccd29(0x502)][_0x1ccd29(0x5e4)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x2f472b)),_0x416d7f+=_0x2f472b,this[_0x1ccd29(0x5bb)]['verbose'](this[_0x1ccd29(0x708)]+'\x20('+this['instance'][_0x1ccd29(0x5e4)]+_0x1ccd29(0x4c3)+_0x416d7f);let _0x45e8e0=this[_0x1ccd29(0x626)][_0x1ccd29(0x436)](_0x1ccd29(0x1d0))[_0x1ccd29(0x11b)];if(!_0x45e8e0){let _0x3b6d00=this[_0x1ccd29(0x626)][_0x1ccd29(0x436)]('SSL_CONF');_0x45e8e0=_0x1ccd29(0x16b)+(_0x3b6d00&&_0x3b6d00['FULLCHAIN']['split']('/')[0x4]);}let _0x1b7ed0=Buffer[_0x1ccd29(0x120)](_0x440695['data']);await this[_0x1ccd29(0x189)](_0x1b7ed0,_0x416d7f);let _0x463156=_0x1ccd29(0x6c8)+_0x416d7f;_0x463156=''+_0x45e8e0+_0x463156,_0xea47a9={'fileUrl':_0x463156},_0xd0e68b[_0x1ccd29(0x17e)]['realVariables'][_0x1ccd29(0xe3)]=_0x463156;let _0x88c705=_0xd0e68b[_0x1ccd29(0x17e)][_0x1ccd29(0x2ef)],_0x387810=this[_0x1ccd29(0x1f9)](_0xea47a9);return Object[_0x1ccd29(0x658)](_0x88c705,_0x387810),_0xd0e68b[_0x1ccd29(0x17e)]['realVariables']=_0x88c705,_0x2a8bcc={'error':!0x1,'apiResponse':{'fileUrl':_0x463156}},this[_0x1ccd29(0x749)](_0xd0e68b,_0x4b17da,_0x2a8bcc),_0xea47a9;}}catch(_0x13d7aa){console[_0x1ccd29(0xcd)](_0x1ccd29(0x2b4),_0x13d7aa),_0x13d7aa[_0x1ccd29(0x2a4)]&&(_0xea47a9=_0x13d7aa[_0x1ccd29(0x2a4)][_0x1ccd29(0x461)]);let _0x53e096=_0xd0e68b['chatLog'][_0x1ccd29(0x2ef)],_0x597c3f=this[_0x1ccd29(0x1f9)](_0xea47a9);return Object['assign'](_0x53e096,_0x597c3f),_0xd0e68b[_0x1ccd29(0x17e)]['realVariables']=_0x53e096,_0x2a8bcc={'error':!0x0,'errorLog':_0x13d7aa[_0x1ccd29(0x2eb)](),'apiResponse':_0xea47a9},this['updateConversation'](_0xd0e68b,_0x4b17da,_0x2a8bcc),{'success':!0x1};}}[a0_0x4511c4(0x3d7)](_0x24f361,_0x3b9352){const _0x8f1df6=a0_0x4511c4;let _0x1de577=_0x1cc7bf=>{const _0x50f2b5=a0_0x4bbc;let _0xf9dffd=_0x1cc7bf[_0x50f2b5(0x18c)](/[^0-9.,-]/g,'')[_0x50f2b5(0x18c)](',','.'),_0x25bda1=parseFloat(_0xf9dffd);return isNaN(_0x25bda1)?null:_0x25bda1;},_0x1835df=_0x3b9352[_0x8f1df6(0x33b)],_0x26a136=_0x3b9352['secondValue'];typeof _0x1835df==_0x8f1df6(0x2b9)&&(_0x1835df=this['replaceVariables'](_0x1835df,_0x24f361[_0x8f1df6(0x17e)][_0x8f1df6(0x2ef)])??''),typeof _0x26a136==_0x8f1df6(0x2b9)&&(_0x26a136=this['replaceVariables'](_0x26a136,_0x24f361['chatLog'][_0x8f1df6(0x2ef)])??'');let _0x2f8625=null;if(!_0x3b9352[_0x8f1df6(0x6e4)])return null;switch(this['logger'][_0x8f1df6(0x1a7)](this[_0x8f1df6(0x708)]+'\x20('+this[_0x8f1df6(0x502)][_0x8f1df6(0x5e4)]+_0x8f1df6(0x14e)+_0x1835df),this['logger'][_0x8f1df6(0x1a7)](this['instanceName']+'\x20('+this[_0x8f1df6(0x502)]['wuid']+_0x8f1df6(0x676)+_0x26a136),_0x3b9352['editOperator']){case'+':case'-':case'*':case'/':let _0x3a1391=_0x1de577(_0x1835df||'0'),_0x448859=_0x1de577(_0x26a136||'0');if(_0x3a1391===null)return null;switch(_0x3b9352[_0x8f1df6(0x6e4)]){case'+':_0x2f8625=_0x3a1391+(_0x448859??0x0);break;case'-':_0x2f8625=_0x3a1391-(_0x448859??0x0);break;case'*':_0x2f8625=_0x3a1391*(_0x448859??0x1);break;case'/':_0x448859!==0x0&&(_0x2f8625=_0x3a1391/(_0x448859??0x1));break;}break;case _0x8f1df6(0x210):case _0x8f1df6(0x4ec):let _0x3d2306=_0x26a136,_0x3ed7e5=_0x3b9352[_0x8f1df6(0xcb)];if(typeof _0x3ed7e5==_0x8f1df6(0x2b9)&&(_0x3ed7e5=this['replaceVariables'](_0x3ed7e5,_0x24f361[_0x8f1df6(0x17e)][_0x8f1df6(0x2ef)])??''),_0x3d2306&&_0x3ed7e5!==void 0x0){let _0x314417=_0x3b9352[_0x8f1df6(0x6e4)]===_0x8f1df6(0x210)?new RegExp(_0x3d2306[_0x8f1df6(0x18c)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x3d2306,'g');_0x2f8625=_0x1835df[_0x8f1df6(0x18c)](_0x314417,_0x3ed7e5);}else console['warn'](_0x8f1df6(0x448));break;case'setNewValue':_0x2f8625=_0x26a136;break;case _0x8f1df6(0x4c2):let _0x542343=_0x1835df['match'](new RegExp(_0x26a136||''));_0x2f8625=_0x542343?_0x542343[0x0]:'';break;case _0x8f1df6(0x59c):_0x2f8625=_0x1835df[_0x8f1df6(0x1bd)](0x0,parseInt(_0x26a136||'0'));break;case _0x8f1df6(0x4f7):let _0x31cd75=parseInt(_0x26a136||'0');_0x2f8625=_0x1835df[_0x8f1df6(0x1bd)](_0x1835df['length']-_0x31cd75);break;case'toBrazilianNumberFormat':let _0x5dbbfb=_0x1de577(_0x1835df),_0x108578=parseInt(_0x26a136||'0');_0x108578=Math[_0x8f1df6(0x482)](_0x108578),_0x5dbbfb!==null?_0x2f8625=_0x5dbbfb[_0x8f1df6(0x3aa)]('pt-BR',{'minimumFractionDigits':_0x108578,'maximumFractionDigits':_0x108578}):(console[_0x8f1df6(0x494)](_0x8f1df6(0x45e)+_0x1835df),_0x2f8625=null);break;case _0x8f1df6(0x144):let _0x30dde1=_0x1de577(_0x1835df);_0x30dde1!==null?_0x2f8625=_0x30dde1['toLocaleString'](_0x8f1df6(0x642),{'style':_0x8f1df6(0x3f4),'currency':_0x8f1df6(0x5d8)}):(console[_0x8f1df6(0x494)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x1835df),_0x2f8625=null);break;case _0x8f1df6(0x248):_0x2f8625=_0x1835df[_0x8f1df6(0x388)]();break;case'lowerCase':_0x2f8625=_0x1835df[_0x8f1df6(0x5d2)]();break;case _0x8f1df6(0x382):_0x2f8625=_0x1835df[_0x8f1df6(0x50f)]('\x20')['map'](_0x599e3d=>_0x599e3d[_0x8f1df6(0x2d7)](0x0)['toUpperCase']()+_0x599e3d['slice'](0x1)[_0x8f1df6(0x5d2)]())[_0x8f1df6(0x3de)]('\x20');break;case'trimmed':_0x2f8625=_0x1835df[_0x8f1df6(0x586)]();break;default:_0x2f8625=_0x1835df;}return _0x2f8625!==null?_0x2f8625[_0x8f1df6(0x2eb)]():null;}async['processvaredits'](_0x3c7e08,_0x3cb226){const _0x1d39b1=a0_0x4511c4;try{let _0x1ef769=_0x3c7e08['varedits']?.[_0x1d39b1(0x472)](_0x5e7774=>_0x5e7774[_0x1d39b1(0x34b)]===_0x3cb226['_id']?.[_0x1d39b1(0x2eb)]())||[],_0x1331b0=_0x3cb226[_0x1d39b1(0x251)],_0x500632=null,_0x3d54cb=[],_0x4bada2=_0x3c7e08[_0x1d39b1(0x17e)][_0x1d39b1(0x2ef)][_0x1331b0];_0x3d54cb['push'](_0x1d39b1(0x54f)+_0x4bada2+'\x22');for(let _0x1eff38 of _0x1ef769){_0x1eff38[_0x1d39b1(0x33b)]=_0x4bada2,_0x500632=_0x1eff38['firstValue'];let _0xab2d68;try{_0xab2d68=this[_0x1d39b1(0x3d7)](_0x3c7e08,_0x1eff38);}catch(_0x37dd26){console[_0x1d39b1(0xcd)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x37dd26['message']);continue;}if(_0xab2d68!==null){let _0x37fb66=_0x1d39b1(0x59d)+_0x1eff38[_0x1d39b1(0x6e4)]+'\x22',_0x344160=['toBRL','upperCase',_0x1d39b1(0x446),_0x1d39b1(0x382),_0x1d39b1(0x386)];_0x1eff38[_0x1d39b1(0x6e4)]===_0x1d39b1(0x210)||_0x1eff38[_0x1d39b1(0x6e4)]===_0x1d39b1(0x4ec)?_0x37fb66+=_0x1d39b1(0x4e7)+_0x1eff38[_0x1d39b1(0x6c6)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x1eff38[_0x1d39b1(0xcb)]+'\x22':!_0x344160['includes'](_0x1eff38[_0x1d39b1(0x6e4)])&&_0x1eff38[_0x1d39b1(0x6c6)]!==null&&_0x1eff38[_0x1d39b1(0x6c6)]!==void 0x0&&(_0x37fb66+=',\x20valor\x20passado:\x20\x22'+_0x1eff38[_0x1d39b1(0x6c6)]+'\x22'),_0x37fb66+=_0x1d39b1(0x302)+_0xab2d68+'.',_0x3d54cb[_0x1d39b1(0x6f3)](_0x37fb66);}_0xab2d68!==null&&(_0x4bada2=_0xab2d68);}if(_0x3c7e08[_0x1d39b1(0x17e)][_0x1d39b1(0x2ef)]&&_0x3cb226[_0x1d39b1(0x251)]){_0x3c7e08[_0x1d39b1(0x17e)]['realVariables'][_0x3cb226[_0x1d39b1(0x251)]]=_0x4bada2;let _0x49b08e={'variable':_0x3cb226[_0x1d39b1(0x251)],'oldValue':_0x500632,'newValue':_0x4bada2,'moreLogs':_0x3d54cb};try{this['updateConversation'](_0x3c7e08,_0x3cb226,_0x49b08e);}catch(_0x221d24){console['error'](_0x1d39b1(0x548)+_0x221d24['message']);}}return _0x1331b0;}catch(_0x31eb3c){return console[_0x1d39b1(0xcd)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x31eb3c[_0x1d39b1(0x737)]),null;}}async[a0_0x4511c4(0x681)](_0x1fc6b5,_0x2fa0e9){const _0x17de87=a0_0x4511c4;try{let _0x10da79=[],_0x744937=_0x1fc6b5[_0x17de87(0x24f)][_0x17de87(0x472)](_0x54b863=>_0x54b863[_0x17de87(0x34b)]===_0x2fa0e9['_id'][_0x17de87(0x2eb)]()),_0x438678=null,_0x79f994=!0x1;for(let _0x240a37 of _0x744937){let _0x33053d=this[_0x17de87(0x6d3)](_0x1fc6b5,_0x240a37);_0x10da79['push'](_0x17de87(0x1b7)+_0x240a37[_0x17de87(0x33b)]+_0x17de87(0xcf)+_0x240a37[_0x17de87(0x45b)]+',\x20Segundo\x20Valor:\x20'+_0x240a37[_0x17de87(0x6c6)]+_0x17de87(0x474)+_0x33053d),_0x438678===null?_0x438678=_0x33053d:_0x240a37[_0x17de87(0x206)]===_0x17de87(0x703)?(_0x438678=_0x438678&&_0x33053d,_0x33053d||(_0x79f994=!0x0)):_0x240a37[_0x17de87(0x206)]==='or'&&(_0x79f994||(_0x438678=_0x438678||_0x33053d));}_0x438678===null&&(_0x438678=!0x0);let _0x376604={'moreLogs':_0x10da79};_0x1fc6b5[_0x17de87(0x17e)]['lastCondition']=_0x438678,await this[_0x17de87(0x749)](_0x1fc6b5,_0x2fa0e9,_0x376604);}catch(_0x60f17e){this[_0x17de87(0x5bb)]['error'](this['instanceName']+'\x20('+this[_0x17de87(0x502)][_0x17de87(0x5e4)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x60f17e instanceof Error?_0x60f17e[_0x17de87(0x737)]:JSON['stringify'](_0x60f17e,null,0x2)));}}[a0_0x4511c4(0x6d3)](_0x46cadd,_0x141ccb){const _0x19bb36=a0_0x4511c4;let _0x355bc0=_0x141ccb[_0x19bb36(0x33b)],_0x11e931=_0x141ccb[_0x19bb36(0x6c6)];typeof _0x355bc0=='string'&&(_0x355bc0=this[_0x19bb36(0x4b6)](_0x355bc0,_0x46cadd[_0x19bb36(0x17e)]['realVariables'])??''),typeof _0x11e931==_0x19bb36(0x2b9)&&(_0x11e931=this[_0x19bb36(0x4b6)](_0x11e931,_0x46cadd[_0x19bb36(0x17e)][_0x19bb36(0x2ef)])??'');try{switch(_0x141ccb[_0x19bb36(0x45b)]){case _0x19bb36(0x169):return _0x355bc0===_0x11e931;case _0x19bb36(0x5fb):return _0x355bc0!==_0x11e931;case _0x19bb36(0x1a8):return this[_0x19bb36(0x1a8)](_0x355bc0,_0x11e931);case _0x19bb36(0x6a6):return!this[_0x19bb36(0x1a8)](_0x355bc0,_0x11e931);case _0x19bb36(0x312):return parseFloat(_0x355bc0)>parseFloat(_0x11e931);case _0x19bb36(0x49c):return parseFloat(_0x355bc0)<parseFloat(_0x11e931);case _0x19bb36(0x305):return _0x355bc0!=='';case _0x19bb36(0x6c5):return _0x355bc0==='';case _0x19bb36(0x3f5):return new RegExp(_0x11e931)['test'](_0x355bc0);case _0x19bb36(0x487):return!new RegExp(_0x11e931)[_0x19bb36(0x2b3)](_0x355bc0);default:return!0x1;}}catch(_0x20985a){return console['error'](_0x19bb36(0x2a6)+_0x20985a),!0x1;}}[a0_0x4511c4(0x1a8)](_0xd32d31,_0x316c00){const _0x4e6663=a0_0x4511c4;if(_0xd32d31===_0x316c00&&/^\d+$/['test'](_0xd32d31))return!0x0;if(this[_0x4e6663(0x6ad)](_0xd32d31)&&/^\d+$/['test'](_0x316c00)){let _0x578918=_0xd32d31[_0x4e6663(0x50f)](',')[_0x4e6663(0x4dc)](_0x56db0e=>parseInt(_0x56db0e['trim']())),_0xdef232=parseInt(_0x316c00);return _0x578918[_0x4e6663(0x359)](_0xdef232);}return _0xd32d31['includes'](_0x316c00);}[a0_0x4511c4(0x6ad)](_0x3a4b21){const _0x20641c=a0_0x4511c4;return/^\d+(,\d+)*$/[_0x20641c(0x2b3)](_0x3a4b21);}[a0_0x4511c4(0x4e5)](_0x730172){const _0x39205d=a0_0x4511c4;let _0x17a2a2=!0x0,_0x590842=null;for(let _0x394b84 of _0x730172){let _0x493947=this[_0x39205d(0x4c9)](_0x394b84);if(_0x590842==='or'&&_0x493947){_0x17a2a2=!0x0;break;}if(_0x590842==='and'&&!_0x493947){_0x17a2a2=!0x1;break;}_0x590842=_0x394b84[_0x39205d(0x206)];}return _0x17a2a2;}['evaluateConditionTest'](_0x8da36){const _0x2b2197=a0_0x4511c4;let _0x52d944=_0x8da36['firstValue'],_0x4e5fe1=_0x8da36[_0x2b2197(0x6c6)];try{switch(_0x8da36[_0x2b2197(0x45b)]){case'equal':return String(_0x52d944)===String(_0x4e5fe1);case'notEqual':return String(_0x52d944)!==String(_0x4e5fe1);case _0x2b2197(0x1a8):return String(_0x52d944)['includes'](String(_0x4e5fe1));case _0x2b2197(0x6a6):return!String(_0x52d944)[_0x2b2197(0x359)](String(_0x4e5fe1));case _0x2b2197(0x312):return parseFloat(String(_0x52d944))>parseFloat(String(_0x4e5fe1));case _0x2b2197(0x49c):return parseFloat(String(_0x52d944))<parseFloat(String(_0x4e5fe1));case _0x2b2197(0x305):return String(_0x52d944)!=='';case _0x2b2197(0x6c5):return String(_0x52d944)==='';case _0x2b2197(0x3f5):return new RegExp(String(_0x4e5fe1))[_0x2b2197(0x2b3)](String(_0x52d944));case'notMatchRegex':return!new RegExp(String(_0x4e5fe1))['test'](String(_0x52d944));default:return!0x1;}}catch(_0x54088d){return console['error'](_0x2b2197(0x2a6)+_0x54088d),!0x1;}}async[a0_0x4511c4(0x5c7)](_0x1f40c2,_0x490267){const _0x417aa6=a0_0x4511c4;if(this[_0x417aa6(0x5bb)]['verbose'](this[_0x417aa6(0x708)]+'\x20('+this[_0x417aa6(0x502)][_0x417aa6(0x5e4)]+_0x417aa6(0x148)),!_0x1f40c2||!_0x490267)return this[_0x417aa6(0x5bb)][_0x417aa6(0xcd)](this[_0x417aa6(0x708)]+'\x20('+this[_0x417aa6(0x502)][_0x417aa6(0x5e4)]+_0x417aa6(0x3da)),null;let _0x48bcb7=_0x490267[_0x417aa6(0x251)],_0x4814d4=_0x1f40c2[_0x417aa6(0x17e)][_0x417aa6(0x616)][_0x417aa6(0x283)]||_0x1f40c2[_0x417aa6(0x17e)][_0x417aa6(0x616)][_0x417aa6(0x196)]||_0x1f40c2['chatLog'][_0x417aa6(0x616)][_0x417aa6(0x4b2)];try{_0x1f40c2[_0x417aa6(0x17e)][_0x417aa6(0x2ef)]||(_0x1f40c2[_0x417aa6(0x17e)][_0x417aa6(0x2ef)]={});let _0x3f867c=_0x1f40c2['chatLog'][_0x417aa6(0x2ef)][_0x48bcb7];_0x1f40c2[_0x417aa6(0x17e)][_0x417aa6(0x2ef)][_0x48bcb7]=_0x4814d4;let _0x4e1072={'variable':_0x48bcb7,'oldValue':_0x3f867c,'newValue':_0x4814d4};this[_0x417aa6(0x749)](_0x1f40c2,_0x490267,_0x4e1072),this[_0x417aa6(0x5bb)][_0x417aa6(0x1a7)](this[_0x417aa6(0x708)]+'\x20('+this[_0x417aa6(0x502)][_0x417aa6(0x5e4)]+_0x417aa6(0x354));}catch(_0x3954e7){let _0x5e4a0b={'error':!0x0,'errorLog':_0x3954e7[_0x417aa6(0x2eb)]()};return this['updateConversation'](_0x1f40c2,_0x490267,_0x5e4a0b),this[_0x417aa6(0x5bb)]['error'](this[_0x417aa6(0x708)]+'\x20('+this[_0x417aa6(0x502)][_0x417aa6(0x5e4)]+_0x417aa6(0x434)+(_0x3954e7 instanceof Error?_0x3954e7['message']:JSON[_0x417aa6(0x757)](_0x3954e7,null,0x2))),null;}}async[a0_0x4511c4(0x6ed)](_0xb69661,_0x64e63a){const _0xfa7ec6=a0_0x4511c4;if(this['logger'][_0xfa7ec6(0x1a7)](this[_0xfa7ec6(0x708)]+'\x20('+this[_0xfa7ec6(0x502)][_0xfa7ec6(0x5e4)]+_0xfa7ec6(0x15f)),!_0xb69661||!_0x64e63a)return this[_0xfa7ec6(0x5bb)][_0xfa7ec6(0xcd)](this[_0xfa7ec6(0x708)]+'\x20('+this['instance'][_0xfa7ec6(0x5e4)]+_0xfa7ec6(0x3da)),null;let _0x4c36fc=Date[_0xfa7ec6(0x56c)](),_0x180a39=parseInt(_0x64e63a[_0xfa7ec6(0x5a1)],0xa);if(isNaN(_0x180a39))return this[_0xfa7ec6(0x5bb)][_0xfa7ec6(0xcd)](this['instanceName']+'\x20('+this[_0xfa7ec6(0x502)]['wuid']+_0xfa7ec6(0x5c6)),null;let _0x4f9f0b={'newStoppedUntil':_0x4c36fc+_0x180a39*0x3c*0x3e8};return await this['updateConversation'](_0xb69661,_0x64e63a,_0x4f9f0b,!0x0),null;}async[a0_0x4511c4(0x52b)](_0x2e8da8,_0x2d5b64){const _0x275f9d=a0_0x4511c4;try{switch(_0x2d5b64[_0x275f9d(0x5e1)][_0x275f9d(0x527)]){case'sendText':await this[_0x275f9d(0x393)](_0x2e8da8,_0x2d5b64);break;case _0x275f9d(0x692):await this[_0x275f9d(0x517)](_0x2e8da8,_0x2d5b64);break;case _0x275f9d(0x74d):await this[_0x275f9d(0x247)](_0x2e8da8,_0x2d5b64);break;case _0x275f9d(0x591):await this[_0x275f9d(0x483)](_0x2e8da8,_0x2d5b64);break;case'sendContact':await this[_0x275f9d(0x33a)](_0x2e8da8,_0x2d5b64);break;case _0x275f9d(0x409):await this[_0x275f9d(0xde)](_0x2e8da8,_0x2d5b64);break;case _0x275f9d(0x6b5):await this['uazapiSendMenu'](_0x2e8da8,_0x2d5b64);break;case'deleteMessage':await this[_0x275f9d(0x216)](_0x2e8da8,_0x2d5b64);break;default:this[_0x275f9d(0x5bb)][_0x275f9d(0xcd)](this[_0x275f9d(0x708)]+'\x20('+this[_0x275f9d(0x502)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x2d5b64[_0x275f9d(0x5e1)][_0x275f9d(0x527)]);}}catch(_0x15cdb1){this[_0x275f9d(0x5bb)][_0x275f9d(0xcd)](this[_0x275f9d(0x708)]+'\x20('+this['instance'][_0x275f9d(0x5e4)]+_0x275f9d(0x3bb)+(_0x15cdb1 instanceof Error?_0x15cdb1[_0x275f9d(0x737)]:JSON['stringify'](_0x15cdb1,null,0x2)));}}async[a0_0x4511c4(0x749)](_0x15ca4e,_0x3839ca,_0x2ae2e5,_0x4d3cf8=!0x1,_0x214614=!0x1){const _0x3babcf=a0_0x4511c4;_0x15ca4e[_0x3babcf(0x17e)][_0x3babcf(0x35f)]||(_0x15ca4e[_0x3babcf(0x17e)]['blockLogs']=[]);let _0x3d7c59=(_0x15ca4e[_0x3babcf(0x17e)][_0x3babcf(0x35f)]?.[_0x3babcf(0x16d)]??0x0)+0x1,_0x1b79bf=_0x15ca4e[_0x3babcf(0x17e)]['blockLogs'][_0x3babcf(0x472)](_0x3b826e=>String(_0x3b826e[_0x3babcf(0x34b)])===String(_0x3839ca[_0x3babcf(0x2c1)]))[_0x3babcf(0x16d)]+0x1,_0x315a72=_0x2ae2e5?.[_0x3babcf(0x680)]??Date[_0x3babcf(0x56c)](),_0x4a01bf=_0x2ae2e5?.[_0x3babcf(0xcd)]?_0x2ae2e5['errorLog']??_0x2ae2e5[_0x3babcf(0xcd)]['toString']():void 0x0,_0x9e4f85={'onTime':_0x315a72,'blockId':_0x3839ca[_0x3babcf(0x2c1)],'order':_0x3d7c59,'activatedCount':_0x1b79bf,'error':_0x2ae2e5?.[_0x3babcf(0xcd)]??!0x1,'messageId':_0x2ae2e5?.[_0x3babcf(0x40c)],'apiResponse':_0x2ae2e5?.['apiResponse'],'apiResponseString':_0x2ae2e5?.[_0x3babcf(0x428)]?JSON['stringify'](_0x2ae2e5?.[_0x3babcf(0x428)]):void 0x0,'variable':_0x2ae2e5?.[_0x3babcf(0x72d)],'oldValue':_0x2ae2e5?.[_0x3babcf(0x47b)],'newValue':_0x2ae2e5?.[_0x3babcf(0x508)],'newStoppedUntil':_0x2ae2e5?.[_0x3babcf(0x319)],'moreLogs':_0x2ae2e5?.[_0x3babcf(0x234)],'errorLog':_0x4a01bf};if(_0x2ae2e5['moreLogs']&&_0x2ae2e5[_0x3babcf(0x234)][_0x3babcf(0x16d)]>0x0){let _0x16bae8=_0x2ae2e5['moreLogs'][_0x3babcf(0x4dc)](_0x23d90d=>this['replaceVariablesLogs'](_0x23d90d,_0x15ca4e[_0x3babcf(0x17e)]['realVariables']));_0x9e4f85['moreLogs']=_0x16bae8;}_0x15ca4e[_0x3babcf(0x17e)][_0x3babcf(0x2ef)]||(_0x15ca4e[_0x3babcf(0x17e)]['realVariables']={}),_0x15ca4e['chatLog'][_0x3babcf(0x2ef)]['_activatedCount']=String(_0x1b79bf),_0x15ca4e[_0x3babcf(0x17e)]['realVariables'][_0x3babcf(0x612)]=String(_0x2ae2e5[_0x3babcf(0xcd)]??!0x1),_0x15ca4e[_0x3babcf(0x17e)]['blockLogs'][_0x3babcf(0x6f3)](_0x9e4f85),_0x15ca4e[_0x3babcf(0x17e)][_0x3babcf(0x101)]=_0x3839ca['_id'][_0x3babcf(0x2eb)](),_0x15ca4e[_0x3babcf(0x17e)]['lastSendMessage']&&(_0x15ca4e[_0x3babcf(0x17e)]['lastSendMessage']=_0x15ca4e[_0x3babcf(0x17e)][_0x3babcf(0x4a3)]),_0x15ca4e[_0x3babcf(0x17e)][_0x3babcf(0x616)]&&(_0x15ca4e['chatLog'][_0x3babcf(0x616)]=_0x15ca4e[_0x3babcf(0x17e)]['lastReceivedMessage']),_0x15ca4e[_0x3babcf(0x17e)]['lastCondition']&&(_0x15ca4e['chatLog'][_0x3babcf(0x35b)]=_0x15ca4e[_0x3babcf(0x17e)][_0x3babcf(0x35b)]),_0x214614&&(_0x15ca4e[_0x3babcf(0x3d6)]=_0x3babcf(0x257)),_0x4d3cf8?this[_0x3babcf(0x2b8)](_0x15ca4e):this[_0x3babcf(0x5e0)](_0x15ca4e,_0x3839ca);}[a0_0x4511c4(0x229)](_0x5a1e1c,_0x3b007c){const _0x405a78=a0_0x4511c4;return _0x5a1e1c['replace'](/\{\{([^}]+)\}\}/g,(_0x43cc2c,_0xab978b)=>_0x3b007c[_0xab978b]?'{{'+_0xab978b+'}}\x20->\x20\x22'+_0x3b007c[_0xab978b]+'\x22':'{{'+_0xab978b+_0x405a78(0x2cb));}async['saveConversationToDatabase'](_0x481156){const _0x3492f0=a0_0x4511c4;try{let _0x33b173=Object[_0x3492f0(0x25e)](_0x481156[_0x3492f0(0x17e)]['realVariables'])[_0x3492f0(0x4dc)](([_0x578604,_0x2d3394])=>({'name':_0x578604,'value':_0x2d3394})),_0x712a6c={'status':_0x481156[_0x3492f0(0x3d6)],'blocks':_0x481156[_0x3492f0(0x46e)],'waitingMenu_id':_0x481156[_0x3492f0(0x231)],'waitingMenu_text':_0x481156[_0x3492f0(0x168)],'waitingMenu_replyOptions':_0x481156[_0x3492f0(0x366)],'chatLog':{'lastBlockId':_0x481156[_0x3492f0(0x17e)][_0x3492f0(0x101)],'lastSendMessage':_0x481156[_0x3492f0(0x17e)][_0x3492f0(0x4a3)],'lastReceivedMessage':_0x481156[_0x3492f0(0x17e)]['lastReceivedMessage'],'lastCondition':_0x481156['chatLog'][_0x3492f0(0x35b)],'chatVariables':_0x33b173,'realVariables':_0x481156['chatLog']['realVariables'],'blockLogs':_0x481156[_0x3492f0(0x17e)][_0x3492f0(0x35f)]}},_0x3c1fca=await this[_0x3492f0(0x368)]['flowConversation'][_0x3492f0(0x34e)](_0x481156[_0x3492f0(0x2c1)],_0x712a6c,this[_0x3492f0(0x502)][_0x3492f0(0x5e4)]);if(_0x3c1fca){this[_0x3492f0(0x5bb)][_0x3492f0(0x1a7)](this['instanceName']+'\x20('+this[_0x3492f0(0x502)]['wuid']+_0x3492f0(0x695)+_0x3c1fca['_id']);try{let _0x466131=[_0x3492f0(0x4ff),_0x3492f0(0x261),_0x3492f0(0x12d),_0x3492f0(0x36f),_0x3492f0(0x3d6),_0x3492f0(0xbf),_0x3492f0(0x224),_0x3492f0(0x2f1),_0x3492f0(0x6dc)];if(!this[_0x3492f0(0x3db)]&&(await this[_0x3492f0(0x686)](),!this['AutomateSystem']))throw new Error(_0x3492f0(0x375));let _0x41b474=this[_0x3492f0(0x3db)]?.[_0x3492f0(0x3cc)][_0x3492f0(0x4dc)](_0x346fab=>_0x346fab[_0x3492f0(0x665)]),_0x1267d5={};Object[_0x3492f0(0x25e)](_0x481156['chatLog'][_0x3492f0(0x2ef)])['forEach'](([_0x26c784,_0x52fa24])=>{const _0x5a56e3=_0x3492f0;_0x466131[_0x5a56e3(0x359)](_0x26c784)&&(_0x26c784===_0x5a56e3(0x2f1)&&typeof _0x52fa24==_0x5a56e3(0x2b9)?_0x1267d5[_0x26c784]=_0x52fa24[_0x5a56e3(0x50f)](',')[_0x5a56e3(0x4dc)](_0x43515c=>_0x43515c[_0x5a56e3(0x586)]())[_0x5a56e3(0x472)](_0x2f593e=>_0x2f593e!==''):_0x26c784===_0x5a56e3(0x6dc)&&typeof _0x52fa24==_0x5a56e3(0x2b9)?_0x1267d5[_0x26c784]=_0x52fa24[_0x5a56e3(0x50f)](',')[_0x5a56e3(0x4dc)](_0x39d5b3=>_0x39d5b3[_0x5a56e3(0x586)]())['filter'](_0x108c44=>_0x108c44!==''):_0x1267d5[_0x26c784]=_0x52fa24);});let _0x40bc7c=_0x481156['chatLog'][_0x3492f0(0x35f)][_0x481156[_0x3492f0(0x17e)][_0x3492f0(0x35f)][_0x3492f0(0x16d)]-0x1];if(_0x40bc7c){let _0x112466=_0x40bc7c['newStoppedUntil'];_0x112466!==void 0x0&&(_0x1267d5[_0x3492f0(0x6b3)]=_0x112466[_0x3492f0(0x2eb)]());}let _0x21eaa2=_0x33b173[_0x3492f0(0x472)](_0x2b1dcb=>_0x41b474[_0x3492f0(0x359)](_0x2b1dcb['name']));this[_0x3492f0(0x5bb)][_0x3492f0(0x1a7)](this[_0x3492f0(0x708)]+'\x20('+this[_0x3492f0(0x502)][_0x3492f0(0x5e4)]+_0x3492f0(0x52f)),this[_0x3492f0(0x5bb)]['verbose'](_0x1267d5),this['logger'][_0x3492f0(0x1a7)](this[_0x3492f0(0x708)]+'\x20('+this[_0x3492f0(0x502)][_0x3492f0(0x5e4)]+_0x3492f0(0x64a)),this[_0x3492f0(0x5bb)][_0x3492f0(0x1a7)](_0x21eaa2);let _0x2b3e10=_0x21eaa2[_0x3492f0(0x4dc)](_0x897d16=>{const _0x5ac8dc=_0x3492f0;let _0x5bde87=this['AutomateSystem']?.[_0x5ac8dc(0x3cc)][_0x5ac8dc(0x5af)](_0x1e48bb=>_0x1e48bb[_0x5ac8dc(0x665)]===_0x897d16[_0x5ac8dc(0x665)]);if(!_0x5bde87)throw new Error(_0x5ac8dc(0x1d2)+_0x897d16['name']);return{'_id':_0x5bde87[_0x5ac8dc(0x2c1)],'value':_0x897d16[_0x5ac8dc(0x44a)]};});this['logger'][_0x3492f0(0x1a7)](this[_0x3492f0(0x708)]+'\x20('+this[_0x3492f0(0x502)]['wuid']+_0x3492f0(0x33e)),this[_0x3492f0(0x5bb)][_0x3492f0(0x1a7)](_0x2b3e10),await this[_0x3492f0(0x2b2)](_0x481156[_0x3492f0(0x456)],_0x1267d5,_0x2b3e10);}catch(_0x5e1a28){this['logger'][_0x3492f0(0xcd)](this[_0x3492f0(0x708)]+'\x20('+this[_0x3492f0(0x502)][_0x3492f0(0x5e4)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x5e1a28 instanceof Error?_0x5e1a28['message']:JSON[_0x3492f0(0x757)](_0x5e1a28,null,0x2)));}}else this[_0x3492f0(0x5bb)]['error'](this[_0x3492f0(0x708)]+'\x20('+this[_0x3492f0(0x502)]['wuid']+_0x3492f0(0x326));}catch(_0x140809){this[_0x3492f0(0x5bb)]['error'](this[_0x3492f0(0x708)]+'\x20('+this[_0x3492f0(0x502)][_0x3492f0(0x5e4)]+_0x3492f0(0x5b7)+(_0x140809 instanceof Error?_0x140809['message']:JSON[_0x3492f0(0x757)](_0x140809,null,0x2)));}}async[a0_0x4511c4(0x2b2)](_0x2f859f,_0x117a37,_0x288d4e){const _0xefafd2=a0_0x4511c4;try{let _0x2c3b5b={'leadInfo.leadnome':_0x117a37[_0xefafd2(0x4ff)],'leadInfo.nomecompleto':_0x117a37[_0xefafd2(0x261)],'leadInfo.email':_0x117a37[_0xefafd2(0x12d)],'leadInfo.cpf':_0x117a37[_0xefafd2(0x36f)],'leadInfo.status':_0x117a37[_0xefafd2(0x3d6)],'leadInfo.notas':_0x117a37[_0xefafd2(0xbf)],'leadInfo.responsavelid':_0x117a37['responsavelid'],'leadInfo.tags':_0x117a37['tags'],'leadInfo.etiquetas':_0x117a37['etiquetas'],'leadInfo.customFields':_0x288d4e},_0x3170cf=await this[_0xefafd2(0x368)][_0xefafd2(0x4d5)][_0xefafd2(0x19a)]({'where':{'_id':_0x2f859f}},this[_0xefafd2(0x502)][_0xefafd2(0x5e4)]),_0x312d07=new Set(_0x3170cf[_0xefafd2(0x589)][_0xefafd2(0x6dc)]||[]),_0x37c1bd=new Set(_0x117a37['etiquetas']||[]),_0x73482b=await this['repository'][_0xefafd2(0x4a0)][_0xefafd2(0x5af)]({'where':{}},this[_0xefafd2(0x502)]['wuid']),_0x20e89a=new Set(_0x73482b[_0xefafd2(0x4dc)](_0x235bf8=>_0x235bf8[_0xefafd2(0x2c1)])),_0x418dbc=[..._0x37c1bd][_0xefafd2(0x472)](_0x534bb9=>!_0x312d07['has'](_0x534bb9)&&_0x20e89a['has'](_0x534bb9)),_0x1d526a=[..._0x312d07]['filter'](_0x6e96b1=>!_0x37c1bd[_0xefafd2(0x588)](_0x6e96b1));for(let _0x994149 of _0x418dbc)await this[_0xefafd2(0x188)](_0x994149,_0x3170cf[_0xefafd2(0x2c1)]),_0x312d07['add'](_0x994149);for(let _0x3af069 of _0x1d526a)await this[_0xefafd2(0x301)](_0x3af069,_0x3170cf[_0xefafd2(0x2c1)]),_0x312d07[_0xefafd2(0x44d)](_0x3af069);if('desativadoFluxoAte'in _0x117a37){let _0x57446f=_0x117a37[_0xefafd2(0x6b3)];_0x2c3b5b[_0xefafd2(0x602)]=_0x57446f?Number(_0x57446f):null;}let _0x5a1110=await this[_0xefafd2(0x368)][_0xefafd2(0x4d5)][_0xefafd2(0x34e)]({'where':{'_id':_0x2f859f}},_0x2c3b5b,this[_0xefafd2(0x502)][_0xefafd2(0x5e4)]);_0x5a1110?(this['logger'][_0xefafd2(0x1a7)](this[_0xefafd2(0x708)]+'\x20('+this[_0xefafd2(0x502)][_0xefafd2(0x5e4)]+_0xefafd2(0x541)+_0x5a1110[_0xefafd2(0x2c1)]),q(this['instanceName'],_0xefafd2(0x2db),{'chat':_0x5a1110})):this[_0xefafd2(0x5bb)][_0xefafd2(0xcd)](this[_0xefafd2(0x708)]+'\x20('+this[_0xefafd2(0x502)][_0xefafd2(0x5e4)]+_0xefafd2(0x6d0));}catch(_0x59bb1d){this[_0xefafd2(0x5bb)][_0xefafd2(0xcd)](this[_0xefafd2(0x708)]+'\x20('+this[_0xefafd2(0x502)][_0xefafd2(0x5e4)]+_0xefafd2(0x5f1)+(_0x59bb1d instanceof Error?_0x59bb1d[_0xefafd2(0x737)]:JSON[_0xefafd2(0x757)](_0x59bb1d,null,0x2)));}}async[a0_0x4511c4(0x133)](_0x4ba182,_0x3112d3){const _0x119c76=a0_0x4511c4;this[_0x119c76(0x5bb)][_0x119c76(0x1a7)](this[_0x119c76(0x708)]+'\x20('+this[_0x119c76(0x502)][_0x119c76(0x5e4)]+_0x119c76(0x43a)+_0x3112d3);try{let _0x139512=await this['repository'][_0x119c76(0x4d5)]['updateOne']({'where':{'_id':_0x4ba182['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x3112d3},this[_0x119c76(0x502)][_0x119c76(0x5e4)]);this[_0x119c76(0x5bb)][_0x119c76(0x1a7)](this['instanceName']+'\x20('+this[_0x119c76(0x502)][_0x119c76(0x5e4)]+_0x119c76(0x30c)+_0x4ba182['_id']),this[_0x119c76(0x5bb)][_0x119c76(0x1a7)](this[_0x119c76(0x708)]+'\x20('+this[_0x119c76(0x502)][_0x119c76(0x5e4)]+_0x119c76(0x43a)+JSON[_0x119c76(0x757)](_0x139512,null,0x2)),_0x139512&&q(this[_0x119c76(0x708)],'chats',{'chat':_0x139512});}catch(_0x2ec990){this[_0x119c76(0x5bb)][_0x119c76(0xcd)](this[_0x119c76(0x708)]+'\x20('+this[_0x119c76(0x502)]['wuid']+_0x119c76(0x660)+(_0x2ec990 instanceof Error?_0x2ec990['message']:JSON[_0x119c76(0x757)](_0x2ec990,null,0x2)));}}async[a0_0x4511c4(0x13f)](_0xe59297){const _0xd7fc36=a0_0x4511c4;try{this[_0xd7fc36(0x5bb)][_0xd7fc36(0x1a7)](this[_0xd7fc36(0x708)]+'\x20('+this[_0xd7fc36(0x502)]['wuid']+_0xd7fc36(0x138));let _0xe2246b=_0xe59297[_0xd7fc36(0x18c)](/\D/g,''),_0x2802b5=await this[_0xd7fc36(0x368)][_0xd7fc36(0x583)][_0xd7fc36(0x19a)]({'where':{'testingWith':_0xe2246b}},this['instance'][_0xd7fc36(0x5e4)]);return _0x2802b5||(this[_0xd7fc36(0x5bb)][_0xd7fc36(0x1a7)](this[_0xd7fc36(0x708)]+'\x20('+this[_0xd7fc36(0x502)][_0xd7fc36(0x5e4)]+_0xd7fc36(0x63d)),_0x2802b5=await this[_0xd7fc36(0x368)][_0xd7fc36(0x583)]['findOne']({'where':{'default':!0x0}},this['instance'][_0xd7fc36(0x5e4)])),_0x2802b5||(this[_0xd7fc36(0x5bb)][_0xd7fc36(0x1a7)](this[_0xd7fc36(0x708)]+'\x20('+this['instance'][_0xd7fc36(0x5e4)]+_0xd7fc36(0x45f)),null);}catch(_0x1c4be8){return this[_0xd7fc36(0x5bb)]['error'](this[_0xd7fc36(0x708)]+'\x20('+this[_0xd7fc36(0x502)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x1c4be8 instanceof Error?_0x1c4be8['message']:JSON['stringify'](_0x1c4be8,null,0x2))),null;}}async[a0_0x4511c4(0xaa)](_0x5c4451,_0x1a1173){const _0x49e5d3=a0_0x4511c4;try{let _0x587003=!!_0x1a1173[_0x49e5d3(0x4b2)],_0x45deb2=_0x1a1173[_0x49e5d3(0x293)],_0x412f6b=null;if(this[_0x49e5d3(0x5bb)]['verbose'](this[_0x49e5d3(0x708)]+'\x20('+this[_0x49e5d3(0x502)][_0x49e5d3(0x5e4)]+_0x49e5d3(0x1c2)+_0x587003+_0x49e5d3(0x504)+_0x45deb2),_0x587003){this[_0x49e5d3(0x5bb)][_0x49e5d3(0x1a7)](this[_0x49e5d3(0x708)]+'\x20('+this['instance']['wuid']+_0x49e5d3(0x3b8));let _0xb5df0e={'where':{'remoteJid':_0x5c4451,'waitingMenu_id':_0x45deb2}};if(_0x412f6b=await this[_0x49e5d3(0x368)]['flowConversation'][_0x49e5d3(0x19a)](_0xb5df0e,this[_0x49e5d3(0x502)][_0x49e5d3(0x5e4)]),!_0x412f6b)return this[_0x49e5d3(0x5bb)][_0x49e5d3(0x1a7)](this[_0x49e5d3(0x708)]+'\x20('+this['instance'][_0x49e5d3(0x5e4)]+_0x49e5d3(0x49d)),null;let _0x28fc8d=Date['now'](),_0x3d9d5c=_0x412f6b?.[_0x49e5d3(0x5c3)]||0x0,_0x103eee=_0x28fc8d-_0x3d9d5c*0x3c*0x3e8;if(_0x412f6b[_0x49e5d3(0x1c6)]<_0x103eee){this[_0x49e5d3(0x5bb)][_0x49e5d3(0x1a7)](this['instanceName']+'\x20('+this[_0x49e5d3(0x502)]['wuid']+_0x49e5d3(0x3b4));let _0x159ba5={'number':_0x412f6b['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x412f6b['waitingMenu_ExpiredMessage']}};await this['textMessage'](_0x159ba5);let _0x32f2b1={'status':_0x49e5d3(0x257),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x49e5d3(0x368)][_0x49e5d3(0x53a)]['updateOne'](_0x412f6b[_0x49e5d3(0x2c1)],_0x32f2b1,this['instance'][_0x49e5d3(0x5e4)]),null;}return _0x412f6b[_0x49e5d3(0x1c6)]=Date[_0x49e5d3(0x56c)](),_0x412f6b[_0x49e5d3(0x17e)][_0x49e5d3(0x616)]=_0x1a1173,_0x412f6b;}else{this[_0x49e5d3(0x5bb)]['verbose'](this[_0x49e5d3(0x708)]+'\x20('+this['instance'][_0x49e5d3(0x5e4)]+_0x49e5d3(0x3fe)+this[_0x49e5d3(0x502)]['wuid']+_0x49e5d3(0xa9)),this['logger'][_0x49e5d3(0x1a7)](this[_0x49e5d3(0x708)]+'\x20('+this[_0x49e5d3(0x502)]['wuid']+_0x49e5d3(0x40f));let _0x10d000={'where':{'remoteJid':_0x5c4451,'status':'open'}};if(_0x412f6b=await this[_0x49e5d3(0x368)][_0x49e5d3(0x53a)][_0x49e5d3(0x19a)](_0x10d000,this[_0x49e5d3(0x502)][_0x49e5d3(0x5e4)]),!_0x412f6b){let _0x4b6090=await this[_0x49e5d3(0x13f)](_0x5c4451);if(_0x4b6090&&(_0x412f6b=await this[_0x49e5d3(0x6a7)](_0x4b6090,_0x1a1173[_0x49e5d3(0x4b4)],_0x1a1173)),!_0x412f6b)return null;}let _0x32fdc8=Date[_0x49e5d3(0x56c)](),_0x411edf=_0x412f6b?.[_0x49e5d3(0x5c3)]||0x0,_0x51fed9=_0x32fdc8-_0x411edf*0x3c*0x3e8;if(this[_0x49e5d3(0x5bb)][_0x49e5d3(0x1a7)](this[_0x49e5d3(0x708)]+'\x20('+this[_0x49e5d3(0x502)][_0x49e5d3(0x5e4)]+_0x49e5d3(0x262)+_0x32fdc8+_0x49e5d3(0x453)+_0x411edf+_0x49e5d3(0x5cb)+_0x51fed9),this[_0x49e5d3(0x5bb)][_0x49e5d3(0x1a7)](this[_0x49e5d3(0x708)]+'\x20('+this[_0x49e5d3(0x502)]['wuid']+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this['logger']['verbose'](this[_0x49e5d3(0x708)]+'\x20('+this['instance'][_0x49e5d3(0x5e4)]+_0x49e5d3(0x17a)+_0x412f6b[_0x49e5d3(0x1c6)]),this[_0x49e5d3(0x5bb)][_0x49e5d3(0x1a7)](this['instanceName']+'\x20('+this[_0x49e5d3(0x502)][_0x49e5d3(0x5e4)]+_0x49e5d3(0x473)+_0x51fed9),_0x412f6b[_0x49e5d3(0x1c6)]<_0x51fed9){this[_0x49e5d3(0x5bb)][_0x49e5d3(0x1a7)](this[_0x49e5d3(0x708)]+'\x20('+this['instance'][_0x49e5d3(0x5e4)]+'):\x20Conversa\x20está\x20expirada');let _0x53d53e=await this['findFlow'](_0x5c4451);if(_0x53d53e===null)return null;_0x412f6b&&await this[_0x49e5d3(0x368)][_0x49e5d3(0x53a)]['updateOne'](_0x412f6b[_0x49e5d3(0x2c1)],{'status':_0x49e5d3(0x257)},this[_0x49e5d3(0x502)][_0x49e5d3(0x5e4)]),_0x412f6b=await this[_0x49e5d3(0x6a7)](_0x53d53e,_0x1a1173[_0x49e5d3(0x4b4)],_0x1a1173);}return _0x412f6b[_0x49e5d3(0x1c6)]=_0x32fdc8,_0x412f6b[_0x49e5d3(0x17e)][_0x49e5d3(0x616)]=_0x1a1173,_0x412f6b;}}catch(_0x5ed3ff){return this[_0x49e5d3(0x5bb)]['error'](this[_0x49e5d3(0x708)]+'\x20('+this['instance'][_0x49e5d3(0x5e4)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x5ed3ff instanceof Error?_0x5ed3ff[_0x49e5d3(0x737)]:JSON[_0x49e5d3(0x757)](_0x5ed3ff,null,0x2))),null;}}async['createNewConversation'](_0x413fa3,_0x52b874,_0x27ad8b){const _0xa19050=a0_0x4511c4;this[_0xa19050(0x5bb)][_0xa19050(0x1a7)](this[_0xa19050(0x708)]+'\x20('+this['instance'][_0xa19050(0x5e4)]+_0xa19050(0x385));try{let _0x97663d=require(_0xa19050(0x40e))[_0xa19050(0x51d)],_0x162d9b=Date[_0xa19050(0x56c)](),_0x363344=_0xa19050(0x128),_0x3bc43b=_0x52b874['fromMe']?null:_0x27ad8b,_0x4d3826=_0x52b874['fromMe']?_0x27ad8b:null,_0x346bc9=_0x52b874[_0xa19050(0x456)];await this[_0xa19050(0x3c3)](_0x346bc9);let _0x2e14a8={..._0x413fa3,'chatLog':null},_0x1ea5af=await this['variablesToObject'](_0x2e14a8[_0xa19050(0x15b)]),_0x39c198=await this['getVariablesChat'](_0x346bc9),_0x1c60f0={..._0x1ea5af,..._0x39c198,'_remoteJid':_0x346bc9},_0x3ded87={'lastReceivedMessage':_0x3bc43b,'lastSendMessage':_0x4d3826,'lastBlockId':_0x363344,'lastCondition':!0x0,'realVariables':_0x1c60f0};_0x2e14a8[_0xa19050(0x17e)]=_0x3ded87,delete _0x2e14a8[_0xa19050(0x2c1)],_0x2e14a8['_id']=new _0x97663d(),_0x2e14a8[_0xa19050(0x1c6)]=_0x162d9b,_0x2e14a8[_0xa19050(0x3d6)]=_0xa19050(0x37a),_0x2e14a8['remoteJid']=_0x346bc9;let _0x1581db=await this[_0xa19050(0x368)][_0xa19050(0x53a)][_0xa19050(0x34e)](_0x2e14a8[_0xa19050(0x2c1)],_0x2e14a8,this[_0xa19050(0x502)]['wuid']);return this[_0xa19050(0x5bb)]['verbose'](this[_0xa19050(0x708)]+'\x20('+this[_0xa19050(0x502)][_0xa19050(0x5e4)]+_0xa19050(0x417)),_0x1581db?_0x2e14a8:null;}catch(_0x178e59){return this['logger']['error'](this['instanceName']+'\x20('+this[_0xa19050(0x502)][_0xa19050(0x5e4)]+_0xa19050(0x567)+(_0x178e59 instanceof Error?_0x178e59[_0xa19050(0x737)]:JSON[_0xa19050(0x757)](_0x178e59,null,0x2))),_0x178e59;}}async[a0_0x4511c4(0x393)](_0x3fd3f4,_0x189b32){const _0x59a7e9=a0_0x4511c4;let _0x2b5ef1=_0x3fd3f4['remoteJid'];_0x189b32[_0x59a7e9(0x5e1)][_0x59a7e9(0x456)]&&_0x189b32['uazapi'][_0x59a7e9(0x456)][_0x59a7e9(0x586)]()!==''&&(_0x2b5ef1=_0x189b32[_0x59a7e9(0x5e1)][_0x59a7e9(0x456)][_0x59a7e9(0x586)]()),this['logger'][_0x59a7e9(0x1a7)](this[_0x59a7e9(0x708)]+'\x20('+this[_0x59a7e9(0x502)][_0x59a7e9(0x5e4)]+_0x59a7e9(0x4a4));let _0x180cc1={'number':_0x2b5ef1,'options':{'delay':_0x189b32['uazapi'][_0x59a7e9(0xc8)]},'textMessage':{'text':_0x189b32['uazapi']['text']}};try{let _0x327918=await this[_0x59a7e9(0x171)](_0x180cc1);if(_0x327918){let _0x34a25d={'_id':_0x327918[_0x59a7e9(0x4b4)]['id'],'_fromMe':_0x327918['key'][_0x59a7e9(0x38e)],'_remoteJid':_0x327918['key']['remoteJid']},_0x5eef69=(0x0,m[_0x59a7e9(0x343)])(_0x327918[_0x59a7e9(0x737)]),_0x56a368=(0x0,m[_0x59a7e9(0x44f)])(_0x5eef69);_0x3fd3f4[_0x59a7e9(0x17e)][_0x59a7e9(0x101)]=_0x189b32[_0x59a7e9(0x2c1)][_0x59a7e9(0x2eb)]();let {message_normalized:_0x55b07a}=this[_0x59a7e9(0x3c2)](_0x5eef69,_0x56a368,null);_0x3fd3f4[_0x59a7e9(0x17e)][_0x59a7e9(0x4a3)]=await _0x55b07a;let _0x3bb99f={'messageId':_0x327918['key']['id']},_0x4f1442=_0x3fd3f4[_0x59a7e9(0x17e)][_0x59a7e9(0x2ef)];Object['assign'](_0x4f1442,_0x34a25d),_0x3fd3f4['chatLog'][_0x59a7e9(0x2ef)]=_0x4f1442,this[_0x59a7e9(0x749)](_0x3fd3f4,_0x189b32,_0x3bb99f);}else{let _0x34e362={'error':!0x0};this[_0x59a7e9(0x749)](_0x3fd3f4,_0x189b32,_0x34e362),this[_0x59a7e9(0x5bb)][_0x59a7e9(0xcd)](this['instanceName']+'\x20('+this[_0x59a7e9(0x502)][_0x59a7e9(0x5e4)]+_0x59a7e9(0x507));}}catch(_0x21bff7){let _0x52acad={'error':!0x0,'errorLog':_0x21bff7[_0x59a7e9(0x2eb)]()};this[_0x59a7e9(0x749)](_0x3fd3f4,_0x189b32,_0x52acad),this[_0x59a7e9(0x5bb)][_0x59a7e9(0xcd)](this[_0x59a7e9(0x708)]+'\x20('+this[_0x59a7e9(0x502)][_0x59a7e9(0x5e4)]+_0x59a7e9(0x649)+(_0x21bff7 instanceof Error?_0x21bff7[_0x59a7e9(0x737)]:JSON[_0x59a7e9(0x757)](_0x21bff7,null,0x2)));}}async[a0_0x4511c4(0x517)](_0x476bd1,_0x1aa465){const _0x38a320=a0_0x4511c4;let _0x53b995=_0x476bd1[_0x38a320(0x456)];_0x1aa465['uazapi'][_0x38a320(0x456)]&&_0x1aa465['uazapi'][_0x38a320(0x456)]['trim']()!==''&&(_0x53b995=_0x1aa465[_0x38a320(0x5e1)][_0x38a320(0x456)][_0x38a320(0x586)]()),this[_0x38a320(0x5bb)][_0x38a320(0x1a7)](this[_0x38a320(0x708)]+'\x20('+this[_0x38a320(0x502)][_0x38a320(0x5e4)]+'):\x20Enviando\x20mídia');let _0x17e15b={'number':_0x53b995,'options':{'delay':_0x1aa465['uazapi'][_0x38a320(0xc8)]},'mediaMessage':{'mediatype':_0x1aa465[_0x38a320(0x5e1)]['mediatype'],'caption':_0x1aa465[_0x38a320(0x5e1)][_0x38a320(0x196)],'media':_0x1aa465['uazapi'][_0x38a320(0x6c0)],'fileName':_0x1aa465[_0x38a320(0x5e1)]['fileName']}};try{let _0x39f339=await this[_0x38a320(0x254)](_0x17e15b);if(_0x39f339){let _0x462d01={'_id':_0x39f339[_0x38a320(0x4b4)]['id'],'_fromMe':_0x39f339[_0x38a320(0x4b4)]['fromMe'],'_remoteJid':_0x39f339['key'][_0x38a320(0x456)]},_0x341096=(0x0,m['normalizeMessageContent'])(_0x39f339[_0x38a320(0x737)]),_0x8df977=(0x0,m[_0x38a320(0x44f)])(_0x341096);_0x476bd1['chatLog'][_0x38a320(0x101)]=_0x1aa465[_0x38a320(0x2c1)]['toString']();let {message_normalized:_0x4dea5e}=this['normalizeMessage'](_0x341096,_0x8df977,null);_0x476bd1['chatLog'][_0x38a320(0x4a3)]=await _0x4dea5e;let _0x319349={'messageId':_0x39f339[_0x38a320(0x4b4)]['id']},_0x275f34=_0x476bd1[_0x38a320(0x17e)][_0x38a320(0x2ef)];Object[_0x38a320(0x658)](_0x275f34,_0x462d01),_0x476bd1['chatLog']['realVariables']=_0x275f34,this['updateConversation'](_0x476bd1,_0x1aa465,_0x319349);}else{let _0x4e856a={'error':!0x0};this[_0x38a320(0x749)](_0x476bd1,_0x1aa465,_0x4e856a),this[_0x38a320(0x5bb)][_0x38a320(0xcd)](this[_0x38a320(0x708)]+'\x20('+this[_0x38a320(0x502)][_0x38a320(0x5e4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x38a545){let _0x14561f={'error':!0x0,'errorLog':_0x38a545[_0x38a320(0x2eb)]()};this[_0x38a320(0x749)](_0x476bd1,_0x1aa465,_0x14561f),this[_0x38a320(0x5bb)]['error'](this[_0x38a320(0x708)]+'\x20('+this['instance'][_0x38a320(0x5e4)]+_0x38a320(0x4a6)+(_0x38a545 instanceof Error?_0x38a545[_0x38a320(0x737)]:JSON[_0x38a320(0x757)](_0x38a545,null,0x2)));}}async['uazapiSendLocation'](_0x1975d4,_0x294167){const _0x3568ac=a0_0x4511c4;let _0x321237=_0x1975d4[_0x3568ac(0x456)];_0x294167['uazapi'][_0x3568ac(0x456)]&&_0x294167[_0x3568ac(0x5e1)][_0x3568ac(0x456)][_0x3568ac(0x586)]()!==''&&(_0x321237=_0x294167[_0x3568ac(0x5e1)][_0x3568ac(0x456)][_0x3568ac(0x586)]()),this[_0x3568ac(0x5bb)][_0x3568ac(0x1a7)](this[_0x3568ac(0x708)]+'\x20('+this[_0x3568ac(0x502)][_0x3568ac(0x5e4)]+_0x3568ac(0xea));let _0x6079c1={'number':_0x321237,'options':{'delay':_0x294167['uazapi'][_0x3568ac(0xc8)]},'locationMessage':{'name':_0x294167[_0x3568ac(0x5e1)][_0x3568ac(0x665)],'address':_0x294167[_0x3568ac(0x5e1)]['address'],'latitude':_0x294167[_0x3568ac(0x5e1)][_0x3568ac(0x68d)],'longitude':_0x294167[_0x3568ac(0x5e1)][_0x3568ac(0x1c5)]}};try{let _0x3aac21=await this[_0x3568ac(0x6ec)](_0x6079c1);if(_0x3aac21){let _0x556b6a={'_id':_0x3aac21[_0x3568ac(0x4b4)]['id'],'_fromMe':_0x3aac21[_0x3568ac(0x4b4)][_0x3568ac(0x38e)],'_remoteJid':_0x3aac21[_0x3568ac(0x4b4)][_0x3568ac(0x456)]},_0x23c247=(0x0,m['normalizeMessageContent'])(_0x3aac21[_0x3568ac(0x737)]),_0x957a1c=(0x0,m[_0x3568ac(0x44f)])(_0x23c247);_0x1975d4[_0x3568ac(0x17e)][_0x3568ac(0x101)]=_0x294167[_0x3568ac(0x2c1)][_0x3568ac(0x2eb)]();let {message_normalized:_0x4eea61}=this[_0x3568ac(0x3c2)](_0x23c247,_0x957a1c,null);_0x1975d4[_0x3568ac(0x17e)][_0x3568ac(0x4a3)]=await _0x4eea61;let _0x1fb856={'messageId':_0x3aac21[_0x3568ac(0x4b4)]['id']},_0x43ccbe=_0x1975d4[_0x3568ac(0x17e)][_0x3568ac(0x2ef)];Object[_0x3568ac(0x658)](_0x43ccbe,_0x556b6a),_0x1975d4[_0x3568ac(0x17e)][_0x3568ac(0x2ef)]=_0x43ccbe,this['updateConversation'](_0x1975d4,_0x294167,_0x1fb856);}else{let _0x5d14f1={'error':!0x0};this[_0x3568ac(0x749)](_0x1975d4,_0x294167,_0x5d14f1),this[_0x3568ac(0x5bb)]['error'](this[_0x3568ac(0x708)]+'\x20('+this[_0x3568ac(0x502)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x210804){let _0x46f792={'error':!0x0,'errorLog':_0x210804[_0x3568ac(0x2eb)]()};this[_0x3568ac(0x749)](_0x1975d4,_0x294167,_0x46f792),this['logger'][_0x3568ac(0xcd)](this[_0x3568ac(0x708)]+'\x20('+this[_0x3568ac(0x502)][_0x3568ac(0x5e4)]+_0x3568ac(0x1ae)+(_0x210804 instanceof Error?_0x210804[_0x3568ac(0x737)]:JSON['stringify'](_0x210804,null,0x2)));}}async[a0_0x4511c4(0x483)](_0x459a8b,_0x2a78f6){const _0xda2a6d=a0_0x4511c4;let _0x3e6ca5=_0x459a8b['remoteJid'];_0x2a78f6[_0xda2a6d(0x5e1)][_0xda2a6d(0x456)]&&_0x2a78f6[_0xda2a6d(0x5e1)][_0xda2a6d(0x456)]['trim']()!==''&&(_0x3e6ca5=_0x2a78f6['uazapi']['remoteJid'][_0xda2a6d(0x586)]()),this[_0xda2a6d(0x5bb)][_0xda2a6d(0x1a7)](this[_0xda2a6d(0x708)]+'\x20('+this[_0xda2a6d(0x502)][_0xda2a6d(0x5e4)]+_0xda2a6d(0x357));let _0x4c445d={'number':_0x3e6ca5,'options':{'delay':_0x2a78f6['uazapi'][_0xda2a6d(0xc8)]},'audioMessage':{'audio':_0x2a78f6[_0xda2a6d(0x5e1)]['audio']}};try{let _0x1354a3=await this['audioWhatsapp'](_0x4c445d);if(_0x1354a3){let _0x16f221={'_id':_0x1354a3[_0xda2a6d(0x4b4)]['id'],'_fromMe':_0x1354a3[_0xda2a6d(0x4b4)][_0xda2a6d(0x38e)],'_remoteJid':_0x1354a3[_0xda2a6d(0x4b4)][_0xda2a6d(0x456)]},_0x4d1467=(0x0,m[_0xda2a6d(0x343)])(_0x1354a3[_0xda2a6d(0x737)]),_0xcb718c=(0x0,m[_0xda2a6d(0x44f)])(_0x4d1467);_0x459a8b[_0xda2a6d(0x17e)][_0xda2a6d(0x101)]=_0x2a78f6[_0xda2a6d(0x2c1)][_0xda2a6d(0x2eb)]();let {message_normalized:_0x561931}=this[_0xda2a6d(0x3c2)](_0x4d1467,_0xcb718c,null);_0x459a8b['chatLog'][_0xda2a6d(0x4a3)]=await _0x561931;let _0xddbaa1={'messageId':_0x1354a3[_0xda2a6d(0x4b4)]['id']},_0x17d76b=_0x459a8b[_0xda2a6d(0x17e)]['realVariables'];Object[_0xda2a6d(0x658)](_0x17d76b,_0x16f221),_0x459a8b[_0xda2a6d(0x17e)][_0xda2a6d(0x2ef)]=_0x17d76b,this[_0xda2a6d(0x749)](_0x459a8b,_0x2a78f6,_0xddbaa1);}else{let _0x4ee7ba={'error':!0x0};this[_0xda2a6d(0x749)](_0x459a8b,_0x2a78f6,_0x4ee7ba),this[_0xda2a6d(0x5bb)]['error'](this['instanceName']+'\x20('+this[_0xda2a6d(0x502)][_0xda2a6d(0x5e4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x189596){let _0x77d250={'error':!0x0,'errorLog':_0x189596['toString']()};this[_0xda2a6d(0x749)](_0x459a8b,_0x2a78f6,_0x77d250),this[_0xda2a6d(0x5bb)][_0xda2a6d(0xcd)](this['instanceName']+'\x20('+this[_0xda2a6d(0x502)][_0xda2a6d(0x5e4)]+_0xda2a6d(0x114)+(_0x189596 instanceof Error?_0x189596[_0xda2a6d(0x737)]:JSON['stringify'](_0x189596,null,0x2)));}}async['uazapiSendContact'](_0x172279,_0x24a0e4){const _0x3a81f9=a0_0x4511c4;let _0x345779=_0x172279['remoteJid'];_0x24a0e4[_0x3a81f9(0x5e1)]['remoteJid']&&_0x24a0e4[_0x3a81f9(0x5e1)]['remoteJid'][_0x3a81f9(0x586)]()!==''&&(_0x345779=_0x24a0e4[_0x3a81f9(0x5e1)][_0x3a81f9(0x456)][_0x3a81f9(0x586)]()),this['logger'][_0x3a81f9(0x1a7)](this[_0x3a81f9(0x708)]+'\x20('+this['instance'][_0x3a81f9(0x5e4)]+_0x3a81f9(0x44b));let _0x1df016={'number':_0x345779,'options':{'delay':_0x24a0e4[_0x3a81f9(0x5e1)]['delay']},'contactMessage':[{'fullName':_0x24a0e4[_0x3a81f9(0x5e1)][_0x3a81f9(0x6bd)],'phoneNumber':_0x24a0e4[_0x3a81f9(0x5e1)][_0x3a81f9(0x438)]}]};try{let _0x59d5e7=await this[_0x3a81f9(0x1e1)](_0x1df016);if(_0x59d5e7){let _0x4ca84f={'_id':_0x59d5e7['key']['id'],'_fromMe':_0x59d5e7[_0x3a81f9(0x4b4)][_0x3a81f9(0x38e)],'_remoteJid':_0x59d5e7['key'][_0x3a81f9(0x456)]},_0x44340d=(0x0,m[_0x3a81f9(0x343)])(_0x59d5e7[_0x3a81f9(0x737)]),_0x1cb658=(0x0,m[_0x3a81f9(0x44f)])(_0x44340d);_0x172279[_0x3a81f9(0x17e)][_0x3a81f9(0x101)]=_0x24a0e4[_0x3a81f9(0x2c1)][_0x3a81f9(0x2eb)]();let {message_normalized:_0xf25f4d}=this[_0x3a81f9(0x3c2)](_0x44340d,_0x1cb658,null);_0x172279['chatLog'][_0x3a81f9(0x4a3)]=await _0xf25f4d;let _0x9676c4={'messageId':_0x59d5e7[_0x3a81f9(0x4b4)]['id']},_0x3b75fc=_0x172279[_0x3a81f9(0x17e)][_0x3a81f9(0x2ef)];Object[_0x3a81f9(0x658)](_0x3b75fc,_0x4ca84f),_0x172279['chatLog'][_0x3a81f9(0x2ef)]=_0x3b75fc,this[_0x3a81f9(0x749)](_0x172279,_0x24a0e4,_0x9676c4);}else{let _0xaf0a67={'error':!0x0};this['updateConversation'](_0x172279,_0x24a0e4,_0xaf0a67),this[_0x3a81f9(0x5bb)][_0x3a81f9(0xcd)](this['instanceName']+'\x20('+this[_0x3a81f9(0x502)]['wuid']+_0x3a81f9(0x4c4));}}catch(_0xa3fa3c){let _0x159458={'error':!0x0,'errorLog':_0xa3fa3c[_0x3a81f9(0x2eb)]()};this[_0x3a81f9(0x749)](_0x172279,_0x24a0e4,_0x159458),this[_0x3a81f9(0x5bb)][_0x3a81f9(0xcd)](this[_0x3a81f9(0x708)]+'\x20('+this[_0x3a81f9(0x502)][_0x3a81f9(0x5e4)]+_0x3a81f9(0x532)+(_0xa3fa3c instanceof Error?_0xa3fa3c[_0x3a81f9(0x737)]:JSON[_0x3a81f9(0x757)](_0xa3fa3c,null,0x2)));}}[a0_0x4511c4(0x299)](_0x533f48,_0x2859cf){const _0x3b50b2=a0_0x4511c4;for(let _0x17bf97 of _0x533f48)_0x17bf97[_0x3b50b2(0x221)]&&(_0x17bf97[_0x3b50b2(0x221)]=this[_0x3b50b2(0x4b6)](_0x17bf97[_0x3b50b2(0x221)],_0x2859cf)),_0x17bf97[_0x3b50b2(0x5ff)]&&(_0x17bf97[_0x3b50b2(0x5ff)]=this[_0x3b50b2(0x4b6)](_0x17bf97[_0x3b50b2(0x5ff)],_0x2859cf));}async['uazapiSendMenu'](_0x5beca5,_0x2407b2){const _0xaf1bcd=a0_0x4511c4;let _0x10a7b1=_0x5beca5[_0xaf1bcd(0x456)];_0x2407b2[_0xaf1bcd(0x5e1)][_0xaf1bcd(0x456)]&&_0x2407b2['uazapi'][_0xaf1bcd(0x456)]['trim']()!==''&&(_0x10a7b1=_0x2407b2['uazapi'][_0xaf1bcd(0x456)]['trim']()),this[_0xaf1bcd(0x5bb)]['verbose'](this['instanceName']+'\x20('+this[_0xaf1bcd(0x502)][_0xaf1bcd(0x5e4)]+_0xaf1bcd(0x3ac));let _0x3f6ba0=_0x5beca5['replyOptions'][_0xaf1bcd(0x472)](_0x2d4f09=>_0x2d4f09['blockId']===_0x2407b2[_0xaf1bcd(0x2c1)])[_0xaf1bcd(0x56a)]((_0x405cbc,_0x51e9c6)=>_0x405cbc[_0xaf1bcd(0x6ea)]-_0x51e9c6[_0xaf1bcd(0x6ea)]);this[_0xaf1bcd(0x299)](_0x3f6ba0,_0x5beca5[_0xaf1bcd(0x17e)][_0xaf1bcd(0x2ef)]);let _0x54b491=_0x3f6ba0['map'](_0x44a0f6=>_0x44a0f6['option']),_0x5af8b6={'number':_0x10a7b1,'menuMessage':{'type':_0x2407b2['uazapi'][_0xaf1bcd(0x12b)]||_0xaf1bcd(0x609),'text':_0x2407b2['uazapi'][_0xaf1bcd(0x283)]||_0x2407b2[_0xaf1bcd(0x5e1)][_0xaf1bcd(0x665)],'footerText':_0x2407b2[_0xaf1bcd(0x5e1)][_0xaf1bcd(0x3d0)],'buttonText':_0x2407b2[_0xaf1bcd(0x5e1)][_0xaf1bcd(0x198)],'selectableCount':0x1,'choices':_0x54b491},'options':{'delay':_0x2407b2['uazapi'][_0xaf1bcd(0xc8)]}};try{let _0x33d683=await this[_0xaf1bcd(0x274)](_0x5af8b6);if(_0x33d683){let _0xfb3066={'_id':_0x33d683[_0xaf1bcd(0x4b4)]['id'],'_fromMe':_0x33d683[_0xaf1bcd(0x4b4)][_0xaf1bcd(0x38e)],'_remoteJid':_0x33d683[_0xaf1bcd(0x4b4)]['remoteJid']};_0x2407b2['uazapi'][_0xaf1bcd(0x4c6)]===!0x0&&(_0x5beca5[_0xaf1bcd(0x3d6)]=_0xaf1bcd(0x513),this[_0xaf1bcd(0x5bb)]['verbose'](this['instanceName']+'\x20('+this[_0xaf1bcd(0x502)]['wuid']+_0xaf1bcd(0x172)+_0x5beca5[_0xaf1bcd(0x3d6)])),this[_0xaf1bcd(0x5bb)][_0xaf1bcd(0x1a7)](this[_0xaf1bcd(0x708)]+'\x20('+this['instance'][_0xaf1bcd(0x5e4)]+'):\x20nextBlock.uazapi.name'+(_0x2407b2['uazapi'][_0xaf1bcd(0x665)]||_0x2407b2[_0xaf1bcd(0x5e1)][_0xaf1bcd(0x283)])),_0x5beca5[_0xaf1bcd(0x231)]=_0x33d683['key']['id'],_0x5beca5['waitingMenu_text']=_0x2407b2[_0xaf1bcd(0x5e1)][_0xaf1bcd(0x665)]||_0x2407b2[_0xaf1bcd(0x5e1)][_0xaf1bcd(0x283)],_0x5beca5[_0xaf1bcd(0x366)]=_0x3f6ba0,_0x2407b2[_0xaf1bcd(0x5e1)][_0xaf1bcd(0x1ff)]&&(_0x5beca5[_0xaf1bcd(0x3d8)]=_0x2407b2['uazapi'][_0xaf1bcd(0x1ff)]),this[_0xaf1bcd(0x5bb)]['verbose'](this[_0xaf1bcd(0x708)]+'\x20('+this[_0xaf1bcd(0x502)]['wuid']+_0xaf1bcd(0x5e7)+_0x5beca5[_0xaf1bcd(0x168)]);let _0x234da8=(0x0,m[_0xaf1bcd(0x343)])(_0x33d683[_0xaf1bcd(0x737)]),_0x422833=(0x0,m['getContentType'])(_0x234da8);_0x5beca5['chatLog']['lastBlockId']=_0x2407b2[_0xaf1bcd(0x2c1)]['toString']();let {message_normalized:_0x5d6168}=this[_0xaf1bcd(0x3c2)](_0x234da8,_0x422833,null);_0x5beca5[_0xaf1bcd(0x17e)]['lastSendMessage']=await _0x5d6168;let _0x1a2bfb={'messageId':_0x33d683[_0xaf1bcd(0x4b4)]['id']},_0x2766e2=_0x5beca5[_0xaf1bcd(0x17e)][_0xaf1bcd(0x2ef)];Object[_0xaf1bcd(0x658)](_0x2766e2,_0xfb3066),_0x5beca5[_0xaf1bcd(0x17e)][_0xaf1bcd(0x2ef)]=_0x2766e2,this[_0xaf1bcd(0x749)](_0x5beca5,_0x2407b2,_0x1a2bfb);}else{let _0xbc0500={'error':!0x0};this[_0xaf1bcd(0x749)](_0x5beca5,_0x2407b2,_0xbc0500),this[_0xaf1bcd(0x5bb)]['error'](this[_0xaf1bcd(0x708)]+'\x20('+this[_0xaf1bcd(0x502)]['wuid']+_0xaf1bcd(0x6e9));}}catch(_0x434e11){let _0x443191={'error':!0x0,'errorLog':_0x434e11 instanceof Error?_0x434e11['message']:JSON[_0xaf1bcd(0x757)](_0x434e11,null,0x2)};this[_0xaf1bcd(0x749)](_0x5beca5,_0x2407b2,_0x443191),this['logger'][_0xaf1bcd(0xcd)](this[_0xaf1bcd(0x708)]+'\x20('+this[_0xaf1bcd(0x502)][_0xaf1bcd(0x5e4)]+_0xaf1bcd(0x36e)+(_0x434e11 instanceof Error?_0x434e11[_0xaf1bcd(0x737)]:JSON[_0xaf1bcd(0x757)](_0x434e11,null,0x2)));}}async[a0_0x4511c4(0x216)](_0x57564e,_0x2aadec){const _0x595610=a0_0x4511c4;this[_0x595610(0x5bb)]['verbose'](this[_0x595610(0x708)]+'\x20('+this[_0x595610(0x502)][_0x595610(0x5e4)]+_0x595610(0x24c));let _0x2a6e3b=_0x57564e['chatLog'][_0x595610(0x35f)]['find'](_0x14c648=>_0x14c648['blockId'][_0x595610(0x2eb)]()===_0x2aadec[_0x595610(0x5e1)][_0x595610(0x34b)][_0x595610(0x2eb)]()),_0x2f9969={'id':_0x2a6e3b[_0x595610(0x40c)],'remoteJid':_0x2a6e3b[_0x595610(0x456)],'fromMe':_0x2a6e3b[_0x595610(0x38e)]};try{let _0x468b6d=await this[_0x595610(0x219)](_0x2f9969);if(_0x468b6d){let _0x3a9ba0=(0x0,m[_0x595610(0x343)])(_0x468b6d['message']),_0x39ffa4=(0x0,m[_0x595610(0x44f)])(_0x3a9ba0);_0x57564e[_0x595610(0x17e)]['lastBlockId']=_0x2aadec[_0x595610(0x2c1)][_0x595610(0x2eb)]();let {message_normalized:_0xd7d1b7}=this[_0x595610(0x3c2)](_0x3a9ba0,_0x39ffa4,null);_0x57564e[_0x595610(0x17e)][_0x595610(0x4a3)]=await _0xd7d1b7;let _0x597230={};this[_0x595610(0x749)](_0x57564e,_0x2aadec,_0x597230);}else{let _0x168ac4={'error':!0x0};this[_0x595610(0x749)](_0x57564e,_0x2aadec,_0x168ac4),this[_0x595610(0x5bb)][_0x595610(0xcd)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x325399){let _0x5cdb7f={'error':!0x0,'errorLog':_0x325399 instanceof Error?_0x325399[_0x595610(0x737)]:JSON['stringify'](_0x325399,null,0x2)};this['updateConversation'](_0x57564e,_0x2aadec,_0x5cdb7f),this[_0x595610(0x5bb)]['error'](this['instanceName']+'\x20('+this['instance'][_0x595610(0x5e4)]+_0x595610(0x314)+(_0x325399 instanceof Error?_0x325399[_0x595610(0x737)]:JSON[_0x595610(0x757)](_0x325399,null,0x2)));}}async[a0_0x4511c4(0x69e)](_0x5373fd){const _0x51b434=a0_0x4511c4;if(!_0x5373fd['name'])throw new w(_0x51b434(0x10e));if(await this[_0x51b434(0x368)][_0x51b434(0x583)]['findOne']({'where':{'name':_0x5373fd[_0x51b434(0x665)]}},this[_0x51b434(0x502)][_0x51b434(0x5e4)]))throw new w(_0x51b434(0x5b0));return _0x51b434(0x665)in _0x5373fd&&_0x51b434(0x1f5)in _0x5373fd&&_0x51b434(0xf0)in _0x5373fd&&Object[_0x51b434(0x41a)](_0x5373fd)[_0x51b434(0x16d)]===0x3?this[_0x51b434(0x6d6)](_0x5373fd[_0x51b434(0xf0)],_0x5373fd[_0x51b434(0x1f5)],_0x5373fd['name']):this[_0x51b434(0x124)](_0x5373fd);}async[a0_0x4511c4(0x6d6)](_0x4e38c4,_0x4e2067,_0x3b84c9){const _0x346f61=a0_0x4511c4;try{this[_0x346f61(0x5bb)]['verbose'](this[_0x346f61(0x708)]+'\x20('+this[_0x346f61(0x502)]['wuid']+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x243091=await this['repository'][_0x346f61(0x583)][_0x346f61(0x19a)]({'where':{'name':_0x3b84c9,'sharePass':_0x4e2067}},_0x4e38c4);if(!_0x243091)throw new w(_0x346f61(0x1ab));let _0x2c9401={..._0x243091};return _0x2c9401['owner']=this['instance']['wuid'],_0x2c9401[_0x346f61(0x1be)]=Array[_0x346f61(0x120)](new Set([..._0x243091[_0x346f61(0x1be)]||[],_0x243091[_0x346f61(0xf0)],this[_0x346f61(0x502)][_0x346f61(0x5e4)]])),_0x243091['shareOwners']=_0x2c9401['shareOwners'],await this[_0x346f61(0x368)][_0x346f61(0x583)][_0x346f61(0x34e)](_0x243091['_id'],{'shareOwners':_0x243091[_0x346f61(0x1be)]},_0x243091[_0x346f61(0xf0)]),_0x243091[_0x346f61(0x1e4)]===!0x0&&await this['repository'][_0x346f61(0x583)][_0x346f61(0x3bd)]({},{'default':!0x1},this['instance']['wuid']),await this[_0x346f61(0x368)][_0x346f61(0x583)][_0x346f61(0x212)](_0x2c9401,this[_0x346f61(0x502)][_0x346f61(0x5e4)]);}catch(_0x1698ed){throw this[_0x346f61(0x5bb)][_0x346f61(0xcd)](this[_0x346f61(0x708)]+'\x20('+this[_0x346f61(0x502)][_0x346f61(0x5e4)]+_0x346f61(0x2bd)+_0x1698ed),new w(_0x346f61(0x509)+_0x1698ed);}}async[a0_0x4511c4(0x124)](_0xf0328a){const _0x3e3d81=a0_0x4511c4;try{this[_0x3e3d81(0x5bb)]['verbose'](this[_0x3e3d81(0x708)]+'\x20('+this[_0x3e3d81(0x502)]['wuid']+_0x3e3d81(0x634)),delete _0xf0328a['shareOwners'],delete _0xf0328a[_0x3e3d81(0x1f5)],delete _0xf0328a[_0x3e3d81(0xf0)],_0xf0328a[_0x3e3d81(0x1e4)]===!0x0&&await this[_0x3e3d81(0x368)]['flow'][_0x3e3d81(0x3bd)]({},{'default':!0x1},this['instance']['wuid']);let _0x31754b=new le[(_0x3e3d81(0x580))][(_0x3e3d81(0x51d))](),_0x4e2b0e={'_id':_0x31754b,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x21eebf={'_id':new le['Types'][(_0x3e3d81(0x51d))](),'order':0x1,'groupId':_0x31754b[_0x3e3d81(0x2eb)](),'type':_0x3e3d81(0x128)},_0x32e9e4={'_id':new le[(_0x3e3d81(0x580))]['ObjectId'](),'owner':this['instance'][_0x3e3d81(0x5e4)],'name':_0xf0328a['name'],'groups':[_0x4e2b0e],'blocks':[_0x21eebf],..._0xf0328a};return await this[_0x3e3d81(0x368)]['flow']['createAndSave'](_0x32e9e4,this[_0x3e3d81(0x502)][_0x3e3d81(0x5e4)]);}catch(_0x541053){throw this[_0x3e3d81(0x5bb)][_0x3e3d81(0xcd)](this[_0x3e3d81(0x708)]+'\x20('+this['instance'][_0x3e3d81(0x5e4)]+_0x3e3d81(0x630)+_0x541053),new w(_0x3e3d81(0x464)+_0x541053);}}async['synchronizeFlows'](_0x130fd6,_0x329536){const _0x21ac84=a0_0x4511c4;try{let _0x450350=await this['repository']['flow']['findOne']({'where':{'_id':_0x130fd6}},_0x329536);if(_0x450350&&_0x450350[_0x21ac84(0x1be)]){for(let _0x2c4173 of _0x450350[_0x21ac84(0x1be)])if(_0x2c4173!==_0x329536){let _0x429c0e={..._0x450350,'owner':_0x2c4173};await this['repository']['flow']['replaceOne'](_0x130fd6,_0x429c0e,_0x2c4173);}}}catch(_0x5f00ac){this[_0x21ac84(0x5bb)][_0x21ac84(0xcd)](_0x21ac84(0x3b7)+_0x5f00ac);}}async[a0_0x4511c4(0x491)](_0x43a81f){const _0x3986a1=a0_0x4511c4;try{this[_0x3986a1(0x5bb)][_0x3986a1(0x1a7)](this['instanceName']+'\x20('+this[_0x3986a1(0x502)][_0x3986a1(0x5e4)]+'):\x20Deletando\x20fluxo...');let _0x16ecb9=await this['repository'][_0x3986a1(0x583)][_0x3986a1(0x19a)]({'where':{'name':_0x43a81f}},this[_0x3986a1(0x502)][_0x3986a1(0x5e4)]);if(_0x16ecb9&&_0x16ecb9[_0x3986a1(0x1be)]&&_0x16ecb9[_0x3986a1(0x1be)][_0x3986a1(0x16d)]>0x1){for(let _0x53406c of _0x16ecb9[_0x3986a1(0x1be)])if(_0x53406c!==this[_0x3986a1(0x502)][_0x3986a1(0x5e4)]){let _0x38b5a6=await this[_0x3986a1(0x368)]['flow'][_0x3986a1(0x19a)]({'where':{'sharePass':_0x16ecb9[_0x3986a1(0x1f5)]}},_0x53406c);_0x38b5a6&&(_0x38b5a6['shareOwners']=_0x38b5a6[_0x3986a1(0x1be)][_0x3986a1(0x472)](_0x1c4689=>_0x1c4689!==_0x16ecb9[_0x3986a1(0xf0)]),await this[_0x3986a1(0x368)][_0x3986a1(0x583)][_0x3986a1(0x34e)](_0x38b5a6[_0x3986a1(0x2c1)],{'shareOwners':_0x38b5a6[_0x3986a1(0x1be)]},_0x53406c));}}return await this[_0x3986a1(0x368)]['flow'][_0x3986a1(0xd8)]({'where':{'name':_0x43a81f}},this[_0x3986a1(0x502)][_0x3986a1(0x5e4)]);}catch(_0x125d73){return this['logger'][_0x3986a1(0xcd)](this['instanceName']+'\x20('+this[_0x3986a1(0x502)]['wuid']+_0x3986a1(0x315)+(_0x125d73 instanceof Error?_0x125d73[_0x3986a1(0x737)]:JSON[_0x3986a1(0x757)](_0x125d73,null,0x2))),{'message':_0x3986a1(0x3a0)+_0x125d73};}}async[a0_0x4511c4(0x5e8)](_0x1f0599){const _0x1f1df3=a0_0x4511c4;try{this[_0x1f1df3(0x5bb)]['verbose'](this[_0x1f1df3(0x708)]+'\x20('+this[_0x1f1df3(0x502)][_0x1f1df3(0x5e4)]+_0x1f1df3(0x138));let _0x1981f5=await this[_0x1f1df3(0x368)][_0x1f1df3(0x583)][_0x1f1df3(0x19a)]({'where':{'name':_0x1f0599}},this[_0x1f1df3(0x502)][_0x1f1df3(0x5e4)]);if(!_0x1981f5)throw new Error(_0x1f1df3(0x33d));if(!this['AutomateSystem']&&(await this[_0x1f1df3(0x686)](),!this[_0x1f1df3(0x3db)]))return null;let _0x25091e=this[_0x1f1df3(0x3db)]?.['customFields'][_0x1f1df3(0x4dc)](_0x28b5d1=>_0x28b5d1[_0x1f1df3(0x665)]),_0x2839a2=[_0x1f1df3(0x4ff),_0x1f1df3(0x261),_0x1f1df3(0x12d),_0x1f1df3(0x36f),_0x1f1df3(0x3d6),_0x1f1df3(0xbf),_0x1f1df3(0x224),'tags','etiquetas'];_0x1981f5['variables']=_0x1981f5[_0x1f1df3(0x15b)][_0x1f1df3(0x472)](_0x43c8e2=>!(_0x43c8e2[_0x1f1df3(0x3dc)]==='leadInfo'||_0x43c8e2[_0x1f1df3(0x589)])),_0x2839a2['forEach'](_0x82fb93=>{const _0x1b641c=_0x1f1df3;_0x1981f5[_0x1b641c(0x15b)]['push']({'folder':'leadInfo','name':_0x82fb93,'value':'','doc':'','leadInfo':!0x0});}),_0x25091e['forEach'](_0x374d04=>{const _0x2a0528=_0x1f1df3;let _0x3a8fc0=_0x1981f5[_0x2a0528(0x15b)][_0x2a0528(0x418)](_0x41829b=>_0x41829b[_0x2a0528(0x665)]===_0x374d04);_0x3a8fc0===-0x1?_0x1981f5[_0x2a0528(0x15b)]['push']({'folder':_0x2a0528(0x589),'name':_0x374d04,'value':'','doc':'','leadInfo':!0x0}):(_0x1981f5[_0x2a0528(0x15b)][_0x3a8fc0][_0x2a0528(0x3dc)]=_0x2a0528(0x589),_0x1981f5[_0x2a0528(0x15b)][_0x3a8fc0]['leadInfo']=!0x0);}),_0x1981f5[_0x1f1df3(0x46e)]&&_0x1981f5[_0x1f1df3(0x46e)][_0x1f1df3(0x16d)]>0x0&&_0x1981f5[_0x1f1df3(0x46e)][_0x1f1df3(0x2a7)](_0x57580d=>{const _0x15b253=_0x1f1df3;_0x57580d[_0x15b253(0x3cb)]&&_0x57580d[_0x15b253(0xd3)]&&_0x57580d[_0x15b253(0x3cb)]===_0x57580d[_0x15b253(0xd3)]&&(_0x57580d['next_groupId']=null);});let _0x47c91f=await this[_0x1f1df3(0x368)][_0x1f1df3(0x583)][_0x1f1df3(0x34e)](_0x1981f5['_id'],_0x1981f5,this[_0x1f1df3(0x502)][_0x1f1df3(0x5e4)]);if(!_0x47c91f)throw new Error(_0x1f1df3(0x31f));return _0x47c91f;}catch(_0x56c207){throw this[_0x1f1df3(0x5bb)]['error'](this['instanceName']+'\x20('+this[_0x1f1df3(0x502)][_0x1f1df3(0x5e4)]+_0x1f1df3(0x215)+(_0x56c207 instanceof Error?_0x56c207[_0x1f1df3(0x737)]:JSON['stringify'](_0x56c207,null,0x2))),new w(_0x1f1df3(0x668)+_0x56c207);}}async[a0_0x4511c4(0x123)](){const _0x5154b3=a0_0x4511c4;try{return this[_0x5154b3(0x5bb)][_0x5154b3(0x1a7)](this[_0x5154b3(0x708)]+'\x20('+this[_0x5154b3(0x502)]['wuid']+_0x5154b3(0xe0)),await this[_0x5154b3(0x368)][_0x5154b3(0x583)][_0x5154b3(0x4e9)](this[_0x5154b3(0x502)][_0x5154b3(0x5e4)]),await this[_0x5154b3(0x368)][_0x5154b3(0x583)][_0x5154b3(0x1d4)]({'where':{}},this[_0x5154b3(0x502)][_0x5154b3(0x5e4)]);}catch(_0x40b11b){return this['logger'][_0x5154b3(0xcd)](this[_0x5154b3(0x708)]+'\x20('+this[_0x5154b3(0x502)][_0x5154b3(0x5e4)]+_0x5154b3(0x751)+(_0x40b11b instanceof Error?_0x40b11b[_0x5154b3(0x737)]:JSON[_0x5154b3(0x757)](_0x40b11b,null,0x2))),{'message':_0x5154b3(0x2d8)+_0x40b11b};}}async[a0_0x4511c4(0x69c)](_0x1de723){const _0xbbe14e=a0_0x4511c4;try{this[_0xbbe14e(0x5bb)]['verbose'](this[_0xbbe14e(0x708)]+'\x20('+this[_0xbbe14e(0x502)][_0xbbe14e(0x5e4)]+'):\x20Alterando\x20fluxo...');let _0x476ec0=await this[_0xbbe14e(0x368)]['flow'][_0xbbe14e(0x19a)]({'where':{'name':_0x1de723[_0xbbe14e(0x665)]}},this[_0xbbe14e(0x502)][_0xbbe14e(0x5e4)]);if(!_0x476ec0)return{'message':_0xbbe14e(0x46f)};_0x1de723['default']===!0x0&&await this['repository'][_0xbbe14e(0x583)][_0xbbe14e(0x3bd)]({},{'default':!0x1},this[_0xbbe14e(0x502)][_0xbbe14e(0x5e4)]),delete _0x1de723['shareOwners'],delete _0x1de723['sharePass'];let _0x53b737=await this[_0xbbe14e(0x368)][_0xbbe14e(0x583)]['updateOne'](_0x476ec0[_0xbbe14e(0x2c1)],_0x1de723,this[_0xbbe14e(0x502)][_0xbbe14e(0x5e4)]);return _0x53b737&&_0x53b737[_0xbbe14e(0x1be)]&&_0x53b737[_0xbbe14e(0x1be)][_0xbbe14e(0x16d)]>0x1&&this[_0xbbe14e(0x3ff)](_0x53b737[_0xbbe14e(0x2c1)],this['instance'][_0xbbe14e(0x5e4)]),_0x53b737;}catch(_0xe6adb9){throw this[_0xbbe14e(0x5bb)][_0xbbe14e(0xcd)](this[_0xbbe14e(0x708)]+'\x20('+this[_0xbbe14e(0x502)][_0xbbe14e(0x5e4)]+_0xbbe14e(0x58c)+(_0xe6adb9 instanceof Error?_0xe6adb9[_0xbbe14e(0x737)]:JSON['stringify'](_0xe6adb9,null,0x2))),new w('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0xe6adb9 instanceof Error?_0xe6adb9['message']:JSON[_0xbbe14e(0x757)](_0xe6adb9,null,0x2)));}}async[a0_0x4511c4(0x34a)](_0x28ce50){const _0x196967=a0_0x4511c4;try{this[_0x196967(0x5bb)]['verbose'](this[_0x196967(0x708)]+'\x20('+this[_0x196967(0x502)][_0x196967(0x5e4)]+'):\x20Editando\x20bloco...');let _0x37df66=await this[_0x196967(0x368)][_0x196967(0x583)][_0x196967(0x19a)]({'where':{'name':_0x28ce50['name']}},this['instance']['wuid']);_0x37df66||this[_0x196967(0x61b)](_0x196967(0x33d));let {block:_0x8a573b}=_0x28ce50;_0x8a573b?.[_0x196967(0x408)]?this[_0x196967(0x345)](_0x37df66,_0x28ce50):_0x8a573b?.[_0x196967(0x44d)]?this[_0x196967(0x25c)](_0x37df66,_0x28ce50):_0x8a573b[_0x196967(0x2c1)]?await this['updateBlock'](_0x37df66,_0x28ce50):this[_0x196967(0xff)](_0x37df66,_0x28ce50);let _0x317d49=await this[_0x196967(0x368)][_0x196967(0x583)][_0x196967(0x34e)](_0x37df66[_0x196967(0x2c1)],_0x37df66,this[_0x196967(0x502)][_0x196967(0x5e4)]);if(_0x317d49&&_0x317d49['shareOwners']&&_0x317d49[_0x196967(0x1be)][_0x196967(0x16d)]>0x1&&this[_0x196967(0x3ff)](_0x317d49[_0x196967(0x2c1)],this[_0x196967(0x502)]['wuid']),!_0x317d49)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x317d49;}catch(_0x480ddc){this['throwAndLogError'](_0x196967(0x324)+_0x480ddc);}}async[a0_0x4511c4(0x345)](_0x2716ca,_0x5ceffd){const _0x43485a=a0_0x4511c4;let _0x4f7c00=_0x5ceffd[_0x43485a(0x2e7)][_0x43485a(0x2c1)],_0x4c138c=_0x2716ca[_0x43485a(0x46e)][_0x43485a(0x5af)](_0x50ff14=>_0x50ff14[_0x43485a(0x2c1)][_0x43485a(0x2eb)]()===_0x4f7c00);if(!_0x4c138c){this[_0x43485a(0x5bb)]['error'](this[_0x43485a(0x708)]+'\x20('+this[_0x43485a(0x502)][_0x43485a(0x5e4)]+_0x43485a(0x6bf)+_0x4f7c00+_0x43485a(0x322));return;}this[_0x43485a(0x5bb)][_0x43485a(0x1a7)](this[_0x43485a(0x708)]+'\x20('+this['instance'][_0x43485a(0x5e4)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x43485a(0x757)](_0x4c138c));let _0x345bb4=JSON['parse'](JSON[_0x43485a(0x757)](_0x4c138c));_0x345bb4[_0x43485a(0x2c1)]=new le['default'][(_0x43485a(0x580))][(_0x43485a(0x51d))](),this[_0x43485a(0x5bb)][_0x43485a(0x1a7)](this[_0x43485a(0x708)]+'\x20('+this[_0x43485a(0x502)][_0x43485a(0x5e4)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x43485a(0x757)](_0x345bb4)),_0x2716ca[_0x43485a(0x46e)][_0x43485a(0x6f3)](_0x345bb4),this['reorderBlocks'](_0x2716ca[_0x43485a(0x46e)],_0x345bb4[_0x43485a(0x3cb)]);}[a0_0x4511c4(0x61b)](_0x5b51b4){const _0x1c7d53=a0_0x4511c4;throw this[_0x1c7d53(0x5bb)][_0x1c7d53(0xcd)](this[_0x1c7d53(0x708)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x5b51b4),new w(_0x5b51b4);}[a0_0x4511c4(0x25c)](_0x32c452,_0x15704f){const _0x10ed6e=a0_0x4511c4;let {block:_0x36b729}=_0x15704f;if(_0x36b729[_0x10ed6e(0x6d4)]==='start'){this[_0x10ed6e(0x61b)](_0x10ed6e(0x445));return;}if(!_0x36b729['_id']){this[_0x10ed6e(0x61b)](_0x10ed6e(0x5f0));return;}let _0x5d5ae8=_0x32c452['blocks'][_0x10ed6e(0x5af)](_0x5b9c9d=>_0x5b9c9d['_id']['toString']()===_0x15704f[_0x10ed6e(0x2e7)]['_id']['toString']());if(!_0x5d5ae8){this[_0x10ed6e(0x61b)](_0x10ed6e(0x690)+_0x36b729[_0x10ed6e(0x2c1)]+_0x10ed6e(0x6bc));return;}_0x32c452['blocks']=_0x32c452[_0x10ed6e(0x46e)][_0x10ed6e(0x472)](_0x520391=>_0x520391[_0x10ed6e(0x2c1)][_0x10ed6e(0x2eb)]()!==_0x15704f[_0x10ed6e(0x2e7)][_0x10ed6e(0x2c1)][_0x10ed6e(0x2eb)]()),_0x32c452['conditions']=_0x32c452[_0x10ed6e(0x24f)]['filter'](_0x4a6062=>_0x4a6062['blockId']!==_0x36b729['_id'][_0x10ed6e(0x2eb)]()),_0x32c452[_0x10ed6e(0x1f2)]=_0x32c452[_0x10ed6e(0x1f2)][_0x10ed6e(0x472)](_0x263b7d=>_0x263b7d[_0x10ed6e(0x34b)]!==_0x36b729['_id']['toString']()),_0x32c452[_0x10ed6e(0x57d)]=_0x32c452[_0x10ed6e(0x57d)][_0x10ed6e(0x472)](_0x1bc2b8=>_0x1bc2b8[_0x10ed6e(0x34b)]!==_0x36b729['_id']['toString']()),this[_0x10ed6e(0x65d)](_0x32c452[_0x10ed6e(0x46e)],_0x5d5ae8[_0x10ed6e(0x3cb)]);}async[a0_0x4511c4(0x2cd)](_0x7b6371,_0x41f26d){const _0x51c89a=a0_0x4511c4;let _0x46278f=_0x7b6371[_0x51c89a(0x46e)]['findIndex'](_0x152cdb=>_0x152cdb['_id'][_0x51c89a(0x2eb)]()===_0x41f26d[_0x51c89a(0x2e7)][_0x51c89a(0x2c1)][_0x51c89a(0x2eb)]());if(this['logger'][_0x51c89a(0x1a7)](this[_0x51c89a(0x708)]+'\x20('+this[_0x51c89a(0x502)][_0x51c89a(0x5e4)]+_0x51c89a(0x395)+_0x46278f),_0x46278f===-0x1){this[_0x51c89a(0x5bb)][_0x51c89a(0x1a7)](_0x51c89a(0x690)+_0x41f26d[_0x51c89a(0x2e7)]['_id']+_0x51c89a(0x396));return;}if(_0x7b6371[_0x51c89a(0x46e)][_0x46278f]['type']===_0x51c89a(0x128)){let _0x3719b3=Object['keys'](_0x41f26d['block']);if(_0x3719b3['length']>0x2||_0x3719b3[_0x51c89a(0x16d)]===0x2&&!_0x3719b3[_0x51c89a(0x359)](_0x51c89a(0xd3))){this['throwAndLogError']('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x50cbdf=_0x7b6371['blocks'][_0x46278f][_0x51c89a(0x3cb)];for(let _0x545219 in _0x41f26d[_0x51c89a(0x2e7)])_0x41f26d[_0x51c89a(0x2e7)]['hasOwnProperty'](_0x545219)&&(_0x7b6371[_0x51c89a(0x46e)][_0x46278f][_0x545219]=_0x41f26d['block'][_0x545219]);if(this['logger']['verbose'](this[_0x51c89a(0x708)]+'\x20('+this[_0x51c89a(0x502)][_0x51c89a(0x5e4)]+_0x51c89a(0x694)+JSON['stringify'](_0x7b6371[_0x51c89a(0x46e)][_0x46278f])),_0x7b6371[_0x51c89a(0x46e)][_0x46278f][_0x51c89a(0x6a2)]&&'header'in _0x7b6371[_0x51c89a(0x46e)][_0x46278f]['apirequest']){this['logger'][_0x51c89a(0x1a7)](this[_0x51c89a(0x708)]+'\x20('+this[_0x51c89a(0x502)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x5452cc=JSON['stringify'](_0x7b6371['blocks'][_0x46278f][_0x51c89a(0x6a2)][_0x51c89a(0x42c)],null,0x1);_0x5452cc['length']>0x2&&(_0x5452cc=_0x5452cc[_0x51c89a(0x697)](0x1,_0x5452cc[_0x51c89a(0x16d)]-0x1)['trim']()),_0x7b6371['blocks'][_0x46278f][_0x51c89a(0x6a2)][_0x51c89a(0x653)]=_0x5452cc;}if(_0x7b6371[_0x51c89a(0x46e)][_0x46278f][_0x51c89a(0x6a2)]&&_0x51c89a(0x2a1)in _0x7b6371[_0x51c89a(0x46e)][_0x46278f][_0x51c89a(0x6a2)]){this['logger'][_0x51c89a(0x1a7)](this[_0x51c89a(0x708)]+'\x20('+this['instance'][_0x51c89a(0x5e4)]+_0x51c89a(0x6ef));let _0x1abaaf=JSON[_0x51c89a(0x757)](_0x7b6371[_0x51c89a(0x46e)][_0x46278f][_0x51c89a(0x6a2)][_0x51c89a(0x2a1)],null,0x1);_0x1abaaf[_0x51c89a(0x16d)]>0x2&&(_0x1abaaf=_0x1abaaf[_0x51c89a(0x697)](0x1,_0x1abaaf[_0x51c89a(0x16d)]-0x1)[_0x51c89a(0x586)]()),_0x7b6371[_0x51c89a(0x46e)][_0x46278f][_0x51c89a(0x6a2)][_0x51c89a(0x321)]=_0x1abaaf;}let _0x1ed0a7=_0x7b6371[_0x51c89a(0x46e)][_0x46278f][_0x51c89a(0x3cb)];_0x50cbdf!==_0x1ed0a7?(this[_0x51c89a(0x65d)](_0x7b6371[_0x51c89a(0x46e)],_0x50cbdf),this[_0x51c89a(0x65d)](_0x7b6371[_0x51c89a(0x46e)],_0x1ed0a7)):this[_0x51c89a(0x65d)](_0x7b6371[_0x51c89a(0x46e)],_0x50cbdf);}[a0_0x4511c4(0xff)](_0x47c7cd,_0x5b5347){const _0x45fdb6=a0_0x4511c4;if(_0x5b5347['block'][_0x45fdb6(0x6d4)]==='start'){this[_0x45fdb6(0x61b)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x5b5347[_0x45fdb6(0x2e7)]['apirequest']&&_0x45fdb6(0x42c)in _0x5b5347[_0x45fdb6(0x2e7)][_0x45fdb6(0x6a2)]){this[_0x45fdb6(0x5bb)][_0x45fdb6(0x1a7)](this[_0x45fdb6(0x708)]+'\x20('+this[_0x45fdb6(0x502)]['wuid']+_0x45fdb6(0x5f3));let _0xe6491d=JSON[_0x45fdb6(0x757)](_0x5b5347[_0x45fdb6(0x2e7)]['apirequest'][_0x45fdb6(0x42c)],null,0x1);_0xe6491d[_0x45fdb6(0x16d)]>0x2&&(_0xe6491d=_0xe6491d[_0x45fdb6(0x697)](0x1,_0xe6491d[_0x45fdb6(0x16d)]-0x1)[_0x45fdb6(0x586)]()),_0x5b5347[_0x45fdb6(0x2e7)][_0x45fdb6(0x6a2)]['headerString']=_0xe6491d;}_0x5b5347[_0x45fdb6(0x2e7)][_0x45fdb6(0x6a2)]&&'body'in _0x5b5347[_0x45fdb6(0x2e7)][_0x45fdb6(0x6a2)]&&(this['logger'][_0x45fdb6(0x1a7)](this[_0x45fdb6(0x708)]+'\x20('+this[_0x45fdb6(0x502)][_0x45fdb6(0x5e4)]+_0x45fdb6(0x6ef)),_0x5b5347['block'][_0x45fdb6(0x6a2)]['bodyString']=JSON[_0x45fdb6(0x757)](_0x5b5347[_0x45fdb6(0x2e7)][_0x45fdb6(0x6a2)][_0x45fdb6(0x2a1)],null,0x1)[_0x45fdb6(0x586)]()),_0x47c7cd[_0x45fdb6(0x46e)][_0x45fdb6(0x6f3)](_0x5b5347[_0x45fdb6(0x2e7)]),this['reorderBlocks'](_0x47c7cd['blocks'],_0x5b5347[_0x45fdb6(0x2e7)][_0x45fdb6(0x3cb)]);}[a0_0x4511c4(0x65d)](_0x40d64c,_0x40f9be){const _0x319f66=a0_0x4511c4;let _0x3cd968=_0x40d64c[_0x319f66(0x472)](_0x40cb85=>_0x40cb85['groupId']===_0x40f9be);_0x3cd968['sort']((_0x5e2d52,_0x41b3ea)=>_0x5e2d52[_0x319f66(0x6ea)]-_0x41b3ea['order']),_0x3cd968[_0x319f66(0x2a7)]((_0x1d1548,_0x54fc6b)=>_0x1d1548['order']=_0x54fc6b+0x1);}async[a0_0x4511c4(0x4fc)](_0x6dd1cf){const _0x5b7d6e=a0_0x4511c4;try{if(this['logger'][_0x5b7d6e(0x1a7)](this[_0x5b7d6e(0x708)]+'\x20('+this[_0x5b7d6e(0x502)][_0x5b7d6e(0x5e4)]+_0x5b7d6e(0x5b8)),!_0x6dd1cf||!_0x6dd1cf['replyOption']){this[_0x5b7d6e(0x61b)](_0x5b7d6e(0x3ba));return;}let _0x3df7b2=await this[_0x5b7d6e(0x368)][_0x5b7d6e(0x583)][_0x5b7d6e(0x19a)]({'where':{'name':_0x6dd1cf['name']}},this[_0x5b7d6e(0x502)][_0x5b7d6e(0x5e4)]);_0x3df7b2||this[_0x5b7d6e(0x61b)](_0x5b7d6e(0x33d));let {replyOption:_0x4cfe47}=_0x6dd1cf;_0x4cfe47?.['delete']?(this[_0x5b7d6e(0x557)](_0x3df7b2,_0x6dd1cf),this[_0x5b7d6e(0x465)](_0x3df7b2['replyOptions'],_0x6dd1cf[_0x5b7d6e(0x1c3)][_0x5b7d6e(0x34b)])):_0x4cfe47[_0x5b7d6e(0x2c1)]?(await this[_0x5b7d6e(0x521)](_0x3df7b2,_0x6dd1cf),this[_0x5b7d6e(0x465)](_0x3df7b2[_0x5b7d6e(0x57d)],_0x6dd1cf[_0x5b7d6e(0x1c3)]['blockId'])):(this['addReplyOption'](_0x3df7b2,_0x6dd1cf),this[_0x5b7d6e(0x465)](_0x3df7b2[_0x5b7d6e(0x57d)],_0x6dd1cf[_0x5b7d6e(0x1c3)]['blockId']));let _0x5b682e=await this['repository'][_0x5b7d6e(0x583)]['updateOne'](_0x3df7b2[_0x5b7d6e(0x2c1)],_0x3df7b2,this['instance']['wuid']);if(_0x5b682e&&_0x5b682e[_0x5b7d6e(0x1be)]&&_0x5b682e[_0x5b7d6e(0x1be)][_0x5b7d6e(0x16d)]>0x1&&this[_0x5b7d6e(0x3ff)](_0x5b682e[_0x5b7d6e(0x2c1)],this['instance'][_0x5b7d6e(0x5e4)]),!_0x5b682e)throw new Error(_0x5b7d6e(0x31f));return _0x5b682e;}catch(_0x16de3f){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x16de3f);}}[a0_0x4511c4(0x465)](_0x209468,_0x444bc5){const _0x40eb11=a0_0x4511c4;console[_0x40eb11(0x5db)](_0x40eb11(0x65a),_0x444bc5),_0x209468[_0x40eb11(0x2a7)](_0x2de585=>{const _0x122477=_0x40eb11;_0x2de585[_0x122477(0x34b)]===_0x444bc5&&_0x2de585[_0x122477(0x6ea)]===void 0x0&&(_0x2de585['order']=0x270f);});let _0x374b4b=_0x209468[_0x40eb11(0x472)](_0x44ab43=>_0x44ab43['blockId']===_0x444bc5);_0x374b4b[_0x40eb11(0x56a)]((_0x2ac430,_0x3b333f)=>_0x2ac430[_0x40eb11(0x6ea)]-_0x3b333f['order']),_0x374b4b[_0x40eb11(0x2a7)]((_0x35114b,_0x4481cd)=>{const _0x290e77=_0x40eb11;_0x35114b[_0x290e77(0x6ea)]=_0x4481cd+0x1;}),_0x209468['forEach'](_0x2c4379=>{const _0x1e293a=_0x40eb11;if(_0x2c4379[_0x1e293a(0x34b)]===_0x444bc5){let _0x2ced20=_0x374b4b[_0x1e293a(0x5af)](_0x5d109c=>_0x5d109c[_0x1e293a(0x2c1)]&&_0x2c4379[_0x1e293a(0x2c1)]&&_0x5d109c[_0x1e293a(0x2c1)]['toString']()===_0x2c4379[_0x1e293a(0x2c1)][_0x1e293a(0x2eb)]());_0x2ced20&&(_0x2c4379['order']=_0x2ced20[_0x1e293a(0x6ea)]);}}),console[_0x40eb11(0x5db)]('ReplyOptions\x20finais\x20após\x20reordenação:',_0x209468);}[a0_0x4511c4(0x557)](_0x9c9800,_0x309824){const _0x2081e0=a0_0x4511c4;let {replyOption:_0x11b294}=_0x309824;if(!_0x11b294['_id']){this['throwAndLogError'](_0x2081e0(0x2df));return;}if(!_0x9c9800['replyOptions']['find'](_0x34909a=>_0x34909a[_0x2081e0(0x2c1)]['toString']()===_0x309824[_0x2081e0(0x1c3)]['_id'][_0x2081e0(0x2eb)]())){this['throwAndLogError'](_0x2081e0(0x60c)+_0x11b294[_0x2081e0(0x2c1)]+'\x20não\x20encontrado');return;}_0x9c9800[_0x2081e0(0x57d)]=_0x9c9800[_0x2081e0(0x57d)][_0x2081e0(0x472)](_0x57f230=>_0x57f230[_0x2081e0(0x2c1)][_0x2081e0(0x2eb)]()!==_0x309824[_0x2081e0(0x1c3)][_0x2081e0(0x2c1)][_0x2081e0(0x2eb)]());}async['updateReplyOption'](_0x373e4d,_0x375c85){const _0x5f6f83=a0_0x4511c4;let _0x15bb92=_0x373e4d[_0x5f6f83(0x57d)]['findIndex'](_0xfeedfc=>_0xfeedfc['_id']['toString']()===_0x375c85[_0x5f6f83(0x1c3)][_0x5f6f83(0x2c1)]['toString']());if(_0x15bb92===-0x1){this[_0x5f6f83(0x61b)](_0x5f6f83(0x60c)+_0x375c85[_0x5f6f83(0x1c3)][_0x5f6f83(0x2c1)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x2e9015 in _0x375c85[_0x5f6f83(0x1c3)])_0x375c85[_0x5f6f83(0x1c3)][_0x5f6f83(0x3c5)](_0x2e9015)&&(_0x373e4d[_0x5f6f83(0x57d)][_0x15bb92][_0x2e9015]=_0x375c85[_0x5f6f83(0x1c3)][_0x2e9015]);}[a0_0x4511c4(0x528)](_0x333aef,_0x3636c9){const _0x19311a=a0_0x4511c4;_0x333aef[_0x19311a(0x57d)][_0x19311a(0x6f3)](_0x3636c9[_0x19311a(0x1c3)]);}async[a0_0x4511c4(0x29a)](_0x3a9635){const _0x226455=a0_0x4511c4;this[_0x226455(0x5bb)]['verbose'](this[_0x226455(0x708)]+'\x20('+this[_0x226455(0x502)][_0x226455(0x5e4)]+_0x226455(0x311)+_0x3a9635);try{this['logger'][_0x226455(0x1a7)](this[_0x226455(0x708)]+'\x20('+this[_0x226455(0x502)]['wuid']+_0x226455(0x122));let _0x596631=await this[_0x226455(0x368)]['flow']['findOne']({'where':{'name':_0x3a9635[_0x226455(0x665)]}},this[_0x226455(0x502)][_0x226455(0x5e4)]);if(!_0x596631)throw new Error(_0x226455(0x33d));if(_0x3a9635['group']&&_0x3a9635['group']?.[_0x226455(0x44d)]===!0x0){if(this[_0x226455(0x5bb)][_0x226455(0x1a7)](this['instanceName']+'\x20('+this[_0x226455(0x502)][_0x226455(0x5e4)]+_0x226455(0x56f)),_0x3a9635[_0x226455(0x5cf)][_0x226455(0x1e4)]===!0x0)return{'message':_0x226455(0x530)};if(_0x596631[_0x226455(0x46e)][_0x226455(0x43f)](_0x262b20=>_0x262b20[_0x226455(0x3cb)][_0x226455(0x2eb)]()===_0x3a9635[_0x226455(0x5cf)][_0x226455(0x2c1)]))return this[_0x226455(0x5bb)][_0x226455(0x1a7)](this[_0x226455(0x708)]+'\x20('+this[_0x226455(0x502)][_0x226455(0x5e4)]+'):\x20tem\x20blocks'),{'message':_0x226455(0x129)};_0x596631['groups']=_0x596631[_0x226455(0x2b6)]['filter'](_0x17d7c2=>_0x17d7c2[_0x226455(0x2c1)][_0x226455(0x2eb)]()!==_0x3a9635[_0x226455(0x5cf)]['_id']);}else{if(_0x3a9635['group']){if(_0x3a9635['group'][_0x226455(0x1e4)]===!0x0)return{'message':_0x226455(0x663)};if(_0x3a9635['group'][_0x226455(0x2c1)]){let _0xf3b7da=_0x596631[_0x226455(0x2b6)][_0x226455(0x5af)](_0x407632=>_0x407632[_0x226455(0x2c1)][_0x226455(0x2eb)]()===_0x3a9635['group'][_0x226455(0x2c1)]);_0xf3b7da&&(_0x3a9635[_0x226455(0x5cf)]['x']<0x0&&(_0x3a9635[_0x226455(0x5cf)]['x']=0x0),_0x3a9635[_0x226455(0x5cf)]['y']<0x0&&(_0x3a9635[_0x226455(0x5cf)]['y']=0x0),Object[_0x226455(0x658)](_0xf3b7da,_0x3a9635['group']));}else _0x596631[_0x226455(0x2b6)][_0x226455(0x6f3)](_0x3a9635[_0x226455(0x5cf)]);}}let _0x258165=await this['repository'][_0x226455(0x583)][_0x226455(0x34e)](_0x596631[_0x226455(0x2c1)],_0x596631,this[_0x226455(0x502)][_0x226455(0x5e4)]);if(_0x258165&&_0x258165['shareOwners']&&_0x258165[_0x226455(0x1be)]['length']>0x1&&this[_0x226455(0x3ff)](_0x258165[_0x226455(0x2c1)],this['instance']['wuid']),!_0x258165)throw new Error(_0x226455(0x31f));return _0x258165;}catch(_0x3b83ef){throw this['logger'][_0x226455(0xcd)](this[_0x226455(0x708)]+'\x20('+this[_0x226455(0x502)]['wuid']+_0x226455(0x545)+(_0x3b83ef instanceof Error?_0x3b83ef['message']:JSON[_0x226455(0x757)](_0x3b83ef,null,0x2))),new w(_0x226455(0x5a0)+(_0x3b83ef instanceof Error?_0x3b83ef[_0x226455(0x737)]:JSON[_0x226455(0x757)](_0x3b83ef,null,0x2)));}}async[a0_0x4511c4(0x623)](_0x3ce5aa){const _0x24d0dd=a0_0x4511c4;try{this['logger'][_0x24d0dd(0x1a7)](this[_0x24d0dd(0x708)]+'\x20('+this[_0x24d0dd(0x502)][_0x24d0dd(0x5e4)]+_0x24d0dd(0x223));let _0x4e94e4=await this[_0x24d0dd(0x368)]['flow'][_0x24d0dd(0x19a)]({'where':{'name':_0x3ce5aa[_0x24d0dd(0x665)]}},this[_0x24d0dd(0x502)][_0x24d0dd(0x5e4)]);if(!_0x4e94e4)throw new Error('Flow\x20não\x20encontrado');let _0x5787e4=!0x1;if(_0x3ce5aa[_0x24d0dd(0x2bb)]?.['delete']===!0x0)_0x4e94e4[_0x24d0dd(0x24f)]=_0x4e94e4[_0x24d0dd(0x24f)][_0x24d0dd(0x472)](_0x2809b2=>_0x2809b2&&_0x3ce5aa[_0x24d0dd(0x2bb)]&&_0x2809b2[_0x24d0dd(0x2c1)]&&_0x3ce5aa['condition'][_0x24d0dd(0x2c1)]&&_0x2809b2[_0x24d0dd(0x2c1)][_0x24d0dd(0x2eb)]()!==_0x3ce5aa[_0x24d0dd(0x2bb)][_0x24d0dd(0x2c1)][_0x24d0dd(0x2eb)]()),_0x5787e4=!0x0;else{let _0x3534a6=_0x4e94e4['conditions'][_0x24d0dd(0x5af)](_0x41508d=>_0x41508d&&_0x3ce5aa['condition']&&_0x41508d[_0x24d0dd(0x2c1)]&&_0x3ce5aa[_0x24d0dd(0x2bb)][_0x24d0dd(0x2c1)]&&_0x41508d['_id']['toString']()===_0x3ce5aa[_0x24d0dd(0x2bb)]['_id'][_0x24d0dd(0x2eb)]());_0x3534a6?(_0x5787e4=_0x3534a6[_0x24d0dd(0x6ea)]!==_0x3ce5aa[_0x24d0dd(0x2bb)][_0x24d0dd(0x6ea)],Object[_0x24d0dd(0x658)](_0x3534a6,_0x3ce5aa[_0x24d0dd(0x2bb)])):(_0x4e94e4['conditions'][_0x24d0dd(0x6f3)](_0x3ce5aa[_0x24d0dd(0x2bb)]),_0x5787e4=!0x0);}if(_0x5787e4){_0x4e94e4[_0x24d0dd(0x24f)][_0x24d0dd(0x56a)]((_0x27d816,_0x26ffc9)=>_0x27d816[_0x24d0dd(0x6ea)]>_0x26ffc9['order']?0x1:_0x26ffc9[_0x24d0dd(0x6ea)]>_0x27d816[_0x24d0dd(0x6ea)]?-0x1:0x0);for(let _0x5d8f43=0x0;_0x5d8f43<_0x4e94e4['conditions'][_0x24d0dd(0x16d)];_0x5d8f43++)_0x4e94e4[_0x24d0dd(0x24f)][_0x5d8f43][_0x24d0dd(0x6ea)]=_0x5d8f43+0x1;_0x4e94e4['conditions'][_0x24d0dd(0x16d)]>0x0&&(_0x4e94e4[_0x24d0dd(0x24f)][0x0][_0x24d0dd(0x206)]=_0x24d0dd(0x703));}let _0x36e3a3=await this[_0x24d0dd(0x368)][_0x24d0dd(0x583)][_0x24d0dd(0x34e)](_0x4e94e4[_0x24d0dd(0x2c1)],_0x4e94e4,this[_0x24d0dd(0x502)]['wuid']);if(_0x36e3a3&&_0x36e3a3[_0x24d0dd(0x1be)]&&_0x36e3a3[_0x24d0dd(0x1be)][_0x24d0dd(0x16d)]>0x1&&this[_0x24d0dd(0x3ff)](_0x36e3a3[_0x24d0dd(0x2c1)],this[_0x24d0dd(0x502)][_0x24d0dd(0x5e4)]),!_0x36e3a3)throw new Error(_0x24d0dd(0x31f));return _0x36e3a3;}catch(_0x4b6330){throw this['logger']['error'](this[_0x24d0dd(0x708)]+'\x20('+this[_0x24d0dd(0x502)][_0x24d0dd(0x5e4)]+_0x24d0dd(0x5fc)+(_0x4b6330 instanceof Error?_0x4b6330['message']:JSON[_0x24d0dd(0x757)](_0x4b6330,null,0x2))),new Error(_0x24d0dd(0x1d5)+(_0x4b6330 instanceof Error?_0x4b6330[_0x24d0dd(0x737)]:JSON[_0x24d0dd(0x757)](_0x4b6330,null,0x2)));}}async[a0_0x4511c4(0x603)](_0x554132){const _0x4cef88=a0_0x4511c4;try{this['logger'][_0x4cef88(0x1a7)](this['instanceName']+'\x20('+this['instance'][_0x4cef88(0x5e4)]+_0x4cef88(0x31a));let _0xad8471=await this[_0x4cef88(0x368)][_0x4cef88(0x583)][_0x4cef88(0x19a)]({'where':{'name':_0x554132[_0x4cef88(0x665)]}},this[_0x4cef88(0x502)]['wuid']);if(!_0xad8471)throw new Error(_0x4cef88(0x33d));let _0x227d14=!0x1;if(_0x554132[_0x4cef88(0x153)]?.[_0x4cef88(0x44d)]===!0x0)_0xad8471['varedits']=_0xad8471[_0x4cef88(0x1f2)][_0x4cef88(0x472)](_0xca4b21=>_0xca4b21&&_0x554132[_0x4cef88(0x153)]&&_0xca4b21[_0x4cef88(0x2c1)]&&_0x554132[_0x4cef88(0x153)][_0x4cef88(0x2c1)]&&_0xca4b21['_id'][_0x4cef88(0x2eb)]()!==_0x554132[_0x4cef88(0x153)]['_id']['toString']()),_0x227d14=!0x0;else{let _0x43c316=_0xad8471[_0x4cef88(0x1f2)]['find'](_0x136f02=>_0x136f02&&_0x554132[_0x4cef88(0x153)]&&_0x136f02[_0x4cef88(0x2c1)]&&_0x554132['varedit'][_0x4cef88(0x2c1)]&&_0x136f02[_0x4cef88(0x2c1)][_0x4cef88(0x2eb)]()===_0x554132[_0x4cef88(0x153)][_0x4cef88(0x2c1)][_0x4cef88(0x2eb)]());_0x43c316?(_0x227d14=_0x43c316['order']!==_0x554132[_0x4cef88(0x153)][_0x4cef88(0x6ea)],Object[_0x4cef88(0x658)](_0x43c316,_0x554132[_0x4cef88(0x153)])):(_0xad8471['varedits'][_0x4cef88(0x6f3)](_0x554132[_0x4cef88(0x153)]),_0x227d14=!0x0);}if(_0x227d14){_0xad8471['varedits'][_0x4cef88(0x56a)]((_0x2625df,_0x235294)=>_0x2625df[_0x4cef88(0x6ea)]>_0x235294[_0x4cef88(0x6ea)]?0x1:_0x235294['order']>_0x2625df['order']?-0x1:0x0);for(let _0x19c753=0x0;_0x19c753<_0xad8471[_0x4cef88(0x1f2)][_0x4cef88(0x16d)];_0x19c753++)_0xad8471[_0x4cef88(0x1f2)][_0x19c753][_0x4cef88(0x6ea)]=_0x19c753+0x1;}let _0x43d9a2=await this[_0x4cef88(0x368)][_0x4cef88(0x583)][_0x4cef88(0x34e)](_0xad8471['_id'],_0xad8471,this['instance'][_0x4cef88(0x5e4)]);if(_0x43d9a2&&_0x43d9a2[_0x4cef88(0x1be)]&&_0x43d9a2[_0x4cef88(0x1be)]['length']>0x1&&this[_0x4cef88(0x3ff)](_0x43d9a2[_0x4cef88(0x2c1)],this[_0x4cef88(0x502)][_0x4cef88(0x5e4)]),!_0x43d9a2)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x43d9a2;}catch(_0x2e68dc){throw this[_0x4cef88(0x5bb)][_0x4cef88(0xcd)](this['instanceName']+'\x20('+this['instance'][_0x4cef88(0x5e4)]+_0x4cef88(0x5fc)+(_0x2e68dc instanceof Error?_0x2e68dc[_0x4cef88(0x737)]:JSON['stringify'](_0x2e68dc,null,0x2))),new w(_0x4cef88(0x1d5)+(_0x2e68dc instanceof Error?_0x2e68dc[_0x4cef88(0x737)]:JSON['stringify'](_0x2e68dc,null,0x2)));}}async['editFlowVariable'](_0x192fa2){const _0x475c3e=a0_0x4511c4;try{this[_0x475c3e(0x5bb)][_0x475c3e(0x1a7)](this[_0x475c3e(0x708)]+'\x20('+this['instance'][_0x475c3e(0x5e4)]+_0x475c3e(0x5ae));let _0x48500a=await this['repository'][_0x475c3e(0x583)][_0x475c3e(0x19a)]({'where':{'name':_0x192fa2[_0x475c3e(0x665)]}},this[_0x475c3e(0x502)][_0x475c3e(0x5e4)]);if(!_0x48500a)throw new Error(_0x475c3e(0x33d));_0x192fa2['variable'][_0x475c3e(0x665)]=_0x192fa2['variable']['name']['trim'](),_0x192fa2[_0x475c3e(0x72d)]['name'][_0x475c3e(0x739)]('_')&&(_0x192fa2[_0x475c3e(0x72d)][_0x475c3e(0x665)]=_0x192fa2['variable']['name']['substring'](0x1)),_0x192fa2[_0x475c3e(0x72d)][_0x475c3e(0x665)]=_0x192fa2[_0x475c3e(0x72d)][_0x475c3e(0x665)][_0x475c3e(0x586)]();let _0x457390=_0x48500a[_0x475c3e(0x15b)][_0x475c3e(0x5af)](_0x4c49fc=>_0x4c49fc[_0x475c3e(0x665)]===_0x192fa2[_0x475c3e(0x72d)]['name']);if(_0x457390?.[_0x475c3e(0x589)]===!0x0)throw new Error(_0x475c3e(0x3d3));if(_0x192fa2[_0x475c3e(0x72d)]?.[_0x475c3e(0x44d)]===!0x0){if(!_0x457390)return{'message':_0x475c3e(0x705)};_0x48500a[_0x475c3e(0x15b)]=_0x48500a['variables']['filter'](_0x5d5e79=>_0x5d5e79['name']!==_0x192fa2[_0x475c3e(0x72d)][_0x475c3e(0x665)]);}else _0x457390?Object['assign'](_0x457390,_0x192fa2['variable']):_0x48500a['variables']['push'](_0x192fa2['variable']);let _0x4263c1=await this[_0x475c3e(0x368)]['flow'][_0x475c3e(0x34e)](_0x48500a['_id'],_0x48500a,this[_0x475c3e(0x502)][_0x475c3e(0x5e4)]);if(_0x4263c1&&_0x4263c1[_0x475c3e(0x1be)]&&_0x4263c1[_0x475c3e(0x1be)][_0x475c3e(0x16d)]>0x1&&this[_0x475c3e(0x3ff)](_0x4263c1[_0x475c3e(0x2c1)],this[_0x475c3e(0x502)][_0x475c3e(0x5e4)]),!_0x4263c1)throw new Error(_0x475c3e(0x31f));return _0x4263c1;}catch(_0x228bd6){throw this[_0x475c3e(0x5bb)][_0x475c3e(0xcd)](this[_0x475c3e(0x708)]+'\x20('+this[_0x475c3e(0x502)]['wuid']+_0x475c3e(0x5e6)+(_0x228bd6 instanceof Error?_0x228bd6['message']:JSON[_0x475c3e(0x757)](_0x228bd6,null,0x2))),new w(_0x475c3e(0x134)+(_0x228bd6 instanceof Error?_0x228bd6[_0x475c3e(0x737)]:JSON[_0x475c3e(0x757)](_0x228bd6,null,0x2)));}}async[a0_0x4511c4(0x10f)](_0x3f898e){const _0x4414ec=a0_0x4511c4;let _0x3b3792=null;try{if(!this['AutomateSystem']?.['flowConfig'][_0x4414ec(0x2e1)])throw new w(_0x4414ec(0x340));this[_0x4414ec(0x5bb)][_0x4414ec(0x1a7)](this[_0x4414ec(0x708)]+'\x20('+this[_0x4414ec(0x502)][_0x4414ec(0x5e4)]+_0x4414ec(0x424));let _0x3a9020=(await this['whatsappNumber']({'numbers':[_0x3f898e[_0x4414ec(0x456)]]}))[0x0];if(!_0x3a9020[_0x4414ec(0x435)]&&!(0x0,m[_0x4414ec(0x161)])(_0x3a9020[_0x4414ec(0x4ca)])&&!_0x3a9020[_0x4414ec(0x4ca)][_0x4414ec(0x359)]('@broadcast'))throw _0x3b3792=JSON[_0x4414ec(0x757)](_0x3a9020,null,0x2),new w(_0x3a9020);let _0x165c0c=await this[_0x4414ec(0x368)][_0x4414ec(0x583)][_0x4414ec(0x19a)]({'where':{'name':_0x3f898e[_0x4414ec(0x665)]}},this[_0x4414ec(0x502)][_0x4414ec(0x5e4)]);if(!_0x165c0c)return this[_0x4414ec(0x5bb)][_0x4414ec(0xcd)](this['instanceName']+'\x20('+this[_0x4414ec(0x502)]['wuid']+_0x4414ec(0x1db)),{'message':_0x4414ec(0x33d)};let _0x757268=await this[_0x4414ec(0x449)](_0x165c0c,_0x3a9020[_0x4414ec(0x4ca)],_0x3f898e[_0x4414ec(0x2dd)]);if(_0x757268){this[_0x4414ec(0x5bb)]['verbose'](this['instanceName']+'\x20('+this[_0x4414ec(0x502)][_0x4414ec(0x5e4)]+_0x4414ec(0x14b));let _0x4429ef=await this[_0x4414ec(0x71f)](_0x757268);return _0x4429ef&&await this['processblock'](_0x757268,_0x4429ef),{'message':_0x4414ec(0x466)+_0x3f898e[_0x4414ec(0x456)]};}}catch(_0x3c0ce9){if(this[_0x4414ec(0x5bb)][_0x4414ec(0xcd)](this[_0x4414ec(0x708)]+'\x20('+this[_0x4414ec(0x502)][_0x4414ec(0x5e4)]+_0x4414ec(0x5b4)+(_0x3c0ce9 instanceof Error?_0x3c0ce9[_0x4414ec(0x737)]:JSON[_0x4414ec(0x757)](_0x3c0ce9,null,0x2))),_0x3b3792=_0x3c0ce9 instanceof Error?_0x3c0ce9[_0x4414ec(0x737)]:JSON[_0x4414ec(0x757)](_0x3c0ce9,null,0x2),_0x3b3792)throw new w(_0x4414ec(0x191)+_0x3b3792);}}async[a0_0x4511c4(0x3c3)](_0x28a358){const _0xca751d=a0_0x4511c4;try{let _0x72657f={'remoteJid':_0x28a358,'status':_0xca751d(0x37a)},_0x25ac94={'status':_0xca751d(0x257)},_0x3426f9=await this[_0xca751d(0x368)][_0xca751d(0x53a)][_0xca751d(0x3bd)](_0x72657f,_0x25ac94,this[_0xca751d(0x502)][_0xca751d(0x5e4)]);return this['logger'][_0xca751d(0x1a7)](this[_0xca751d(0x708)]+'\x20('+this['instance'][_0xca751d(0x5e4)]+_0xca751d(0x2f2)),_0x3426f9;}catch(_0x2beea6){throw this['logger'][_0xca751d(0xcd)](this[_0xca751d(0x708)]+'\x20('+this[_0xca751d(0x502)][_0xca751d(0x5e4)]+_0xca751d(0x1c7)+_0x2beea6[_0xca751d(0x737)]),_0x2beea6;}}async[a0_0x4511c4(0x449)](_0x1c4cbb,_0xf6e486,_0x2a39b5){const _0x3feb19=a0_0x4511c4;this[_0x3feb19(0x5bb)][_0x3feb19(0x1a7)](this[_0x3feb19(0x708)]+'\x20('+this[_0x3feb19(0x502)]['wuid']+_0x3feb19(0x2ae)),await this['closeExistingConversations'](_0xf6e486);try{let _0x19b615=require(_0x3feb19(0x40e))['ObjectId'],_0x5f4819=Date[_0x3feb19(0x56c)](),_0x3a701d=_0x3feb19(0x128),_0x22116={},_0x2971e1={},_0x2f555f={..._0x1c4cbb,'chatLog':null},_0x13c214=await this[_0x3feb19(0x57e)](_0x2f555f[_0x3feb19(0x15b)]),_0x255326=await this[_0x3feb19(0x182)](_0xf6e486),_0x59d597={..._0x13c214,..._0x255326,'_remoteJid':_0xf6e486},_0x1167bd={'lastReceivedMessage':_0x22116,'lastSendMessage':_0x2971e1,'lastBlockId':_0x3a701d,'lastCondition':!0x0,'realVariables':_0x59d597};_0x2f555f['chatLog']=_0x1167bd,_0x2f555f[_0x3feb19(0x17e)][_0x3feb19(0x2ef)]={..._0x59d597,..._0x2a39b5},delete _0x2f555f[_0x3feb19(0x2c1)],_0x2f555f['_id']=new _0x19b615(),_0x2f555f[_0x3feb19(0x1c6)]=_0x5f4819,_0x2f555f[_0x3feb19(0x3d6)]=_0x3feb19(0x37a),_0x2f555f['remoteJid']=_0xf6e486;let _0x5b82c2=await this[_0x3feb19(0x368)][_0x3feb19(0x53a)]['updateOne'](_0x2f555f['_id'],_0x2f555f,this[_0x3feb19(0x502)][_0x3feb19(0x5e4)]);return this[_0x3feb19(0x5bb)][_0x3feb19(0x1a7)](this[_0x3feb19(0x708)]+'\x20('+this['instance'][_0x3feb19(0x5e4)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x5b82c2?_0x2f555f:null;}catch(_0x4a19f2){throw this[_0x3feb19(0x5bb)][_0x3feb19(0xcd)](this[_0x3feb19(0x708)]+'\x20('+this[_0x3feb19(0x502)][_0x3feb19(0x5e4)]+_0x3feb19(0x567)+(_0x4a19f2 instanceof Error?_0x4a19f2['message']:JSON['stringify'](_0x4a19f2,null,0x2))),new w(_0x4a19f2[_0x3feb19(0x737)]);}}async['getConversation'](_0x257c96){const _0x34212d=a0_0x4511c4;try{this[_0x34212d(0x5bb)][_0x34212d(0x1a7)](this[_0x34212d(0x708)]+'\x20('+this[_0x34212d(0x502)][_0x34212d(0x5e4)]+_0x34212d(0x63b)),this[_0x34212d(0x5bb)][_0x34212d(0x1a7)](this[_0x34212d(0x708)]+'\x20('+this[_0x34212d(0x502)][_0x34212d(0x5e4)]+_0x34212d(0x32d)+_0x257c96);let _0x1df45b={'where':{'_id':_0x257c96}};return await this[_0x34212d(0x368)][_0x34212d(0x53a)]['findOne'](_0x1df45b,this[_0x34212d(0x502)]['wuid']);}catch(_0x71123b){throw this[_0x34212d(0x5bb)][_0x34212d(0xcd)](this[_0x34212d(0x708)]+'\x20('+this['instance'][_0x34212d(0x5e4)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x71123b instanceof Error?_0x71123b['message']:JSON[_0x34212d(0x757)](_0x71123b,null,0x2))),new w('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x71123b[_0x34212d(0x737)]);}}async['fetchConversation'](_0x1a5b67){const _0x45f245=a0_0x4511c4;try{return this['logger'][_0x45f245(0x1a7)](this[_0x45f245(0x708)]+'\x20('+this[_0x45f245(0x502)][_0x45f245(0x5e4)]+'):\x20Buscando\x20conversas...'),await this[_0x45f245(0x368)][_0x45f245(0x53a)][_0x45f245(0x5af)](_0x1a5b67,this[_0x45f245(0x502)]['wuid']);}catch(_0x515871){throw this[_0x45f245(0x5bb)][_0x45f245(0xcd)](this['instanceName']+'\x20('+this['instance'][_0x45f245(0x5e4)]+_0x45f245(0x126)+(_0x515871 instanceof Error?_0x515871[_0x45f245(0x737)]:JSON['stringify'](_0x515871,null,0x2))),new w('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x515871[_0x45f245(0x737)]);}}async[a0_0x4511c4(0x5c2)](_0x427a73){const _0x255552=a0_0x4511c4;try{return this[_0x255552(0x5bb)]['verbose'](this['instanceName']+'\x20('+this[_0x255552(0x502)][_0x255552(0x5e4)]+_0x255552(0x380)),this[_0x255552(0x5bb)][_0x255552(0x1a7)](this[_0x255552(0x708)]+'\x20('+this['instance'][_0x255552(0x5e4)]+'):\x20Query\x20params:'+_0x427a73),(await this['repository']['flowConversation'][_0x255552(0xd8)]({'where':{'_id':_0x427a73}},this[_0x255552(0x502)][_0x255552(0x5e4)]))[_0x255552(0x61d)]===0x0?{'message':_0x255552(0x625)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x3f4af8){throw this['logger'][_0x255552(0xcd)](this[_0x255552(0x708)]+'\x20('+this['instance'][_0x255552(0x5e4)]+_0x255552(0x5dd)+(_0x3f4af8 instanceof Error?_0x3f4af8['message']:JSON[_0x255552(0x757)](_0x3f4af8,null,0x2))),new w(_0x255552(0x3bf)+_0x3f4af8['message']);}}async['editConversation'](_0x26df55){const _0xac1ab2=a0_0x4511c4;try{let {_id:_0x97a9ff,chatLog:_0xa30d64,status:_0x237f80}=_0x26df55;if(!_0x97a9ff)return{'message':_0xac1ab2(0x587)};let _0x56529a={};if(_0x237f80!==void 0x0&&(_0x56529a['status']=_0x237f80),Object[_0xac1ab2(0x41a)](_0x56529a)['length']===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x27442c=await this['repository']['flowConversation'][_0xac1ab2(0x34e)](_0x97a9ff,_0x56529a,this[_0xac1ab2(0x502)]['wuid']);return _0x27442c||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x4a1007){throw this['logger'][_0xac1ab2(0xcd)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xac1ab2(0x499)+(_0x4a1007 instanceof Error?_0x4a1007[_0xac1ab2(0x737)]:JSON['stringify'](_0x4a1007,null,0x2))),new w(_0xac1ab2(0x614)+_0x4a1007['message']);}}async[a0_0x4511c4(0x4e3)](_0x3641fc){const _0x16e001=a0_0x4511c4;let _0x541f6a=await this['repository'][_0x16e001(0x4d5)]['findOne']({'where':{'_id':_0x3641fc[_0x16e001(0x2c1)]}},this[_0x16e001(0x502)][_0x16e001(0x5e4)]);if(!_0x541f6a)throw new w(_0x16e001(0x493));console['log'](_0x3641fc);try{_0x3641fc[_0x16e001(0x2c1)]=this['createJid'](_0x3641fc['_id']);let {_id:_0x139e76,leadInfo:_0x4cea89}=_0x3641fc;if(!_0x139e76)throw new Error(_0x16e001(0x2bf));let _0x2581db=(_0x35ccfb,_0x40625a,_0x1dabbe)=>{const _0x5c1e75=_0x16e001;_0x35ccfb&&_0x1dabbe[_0x5c1e75(0x2a7)](_0x21ced3=>{const _0x2ec2c1=_0x5c1e75;_0x35ccfb[_0x21ced3]!==void 0x0&&(_0x40625a[_0x2ec2c1(0x69b)+_0x21ced3]=_0x35ccfb[_0x21ced3]);});},_0xce09f3={};if(_0x4cea89&&(_0x2581db(_0x4cea89,_0xce09f3,['nome',_0x16e001(0x261),_0x16e001(0x12d),'cpf','status','notas',_0x16e001(0x2f1),'atendimentoAberto',_0x16e001(0x224),'etiquetas']),Array['isArray'](_0x4cea89[_0x16e001(0x3cc)])&&(_0xce09f3[_0x16e001(0x353)]=_0x4cea89[_0x16e001(0x3cc)][_0x16e001(0x4dc)](_0x3c53c6=>({'_id':_0x3c53c6[_0x16e001(0x2c1)],'value':_0x3c53c6['value']}))),_0x3641fc['leadInfo'][_0x16e001(0x6dc)]!==void 0x0)){let _0x5e8b04=await this[_0x16e001(0x368)][_0x16e001(0x4a0)][_0x16e001(0x5af)]({'where':{}},this[_0x16e001(0x502)][_0x16e001(0x5e4)]),_0x4e8865=new Set(_0x3641fc[_0x16e001(0x589)][_0x16e001(0x6dc)]||[]),_0x9f8e3a=new Set(_0x3641fc[_0x16e001(0x589)][_0x16e001(0x6dc)]),_0x146a36=new Set(_0x5e8b04[_0x16e001(0x4dc)](_0x59e379=>_0x59e379[_0x16e001(0x2c1)])),_0x5041b3=[..._0x9f8e3a][_0x16e001(0x472)](_0x1e5c7c=>!_0x4e8865[_0x16e001(0x588)](_0x1e5c7c)&&_0x146a36[_0x16e001(0x588)](_0x1e5c7c)),_0x21f86b=[..._0x4e8865]['filter'](_0x3d2018=>!_0x9f8e3a[_0x16e001(0x588)](_0x3d2018));if(_0xce09f3[_0x16e001(0x729)]=[..._0x4e8865],_0x541f6a&&!_0x541f6a['imported']){for(let _0x16c4e2 of _0x5041b3)await this[_0x16e001(0x188)](_0x16c4e2,_0x3641fc[_0x16e001(0x2c1)]),_0x4e8865[_0x16e001(0x268)](_0x16c4e2);for(let _0x2a9989 of _0x21f86b)await this[_0x16e001(0x301)](_0x2a9989,_0x3641fc[_0x16e001(0x2c1)]),_0x4e8865[_0x16e001(0x44d)](_0x2a9989);}}if(_0x3641fc['unreadcount']!==void 0x0&&(_0xce09f3['unreadcount']=Number(_0x3641fc[_0x16e001(0x485)])),Object[_0x16e001(0x41a)](_0xce09f3)[_0x16e001(0x16d)]===0x0)throw new Error(_0x16e001(0x590));let _0x1fc3bd=await this['repository']['chat'][_0x16e001(0x34e)]({'where':{'_id':_0x3641fc[_0x16e001(0x2c1)]}},_0xce09f3,this['instance'][_0x16e001(0x5e4)]);return _0x1fc3bd&&q(this[_0x16e001(0x708)],_0x16e001(0x2db),{'chat':_0x1fc3bd}),_0x1fc3bd?(this['logger']['verbose'](this[_0x16e001(0x708)]+'\x20('+this[_0x16e001(0x502)][_0x16e001(0x5e4)]+'):\x20'+JSON[_0x16e001(0x757)](_0x1fc3bd,null,0x2)),_0x1fc3bd):{'message':_0x16e001(0x34d)};}catch(_0x4516da){throw this[_0x16e001(0x5bb)][_0x16e001(0xcd)](this[_0x16e001(0x708)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+(_0x4516da instanceof Error?_0x4516da[_0x16e001(0x737)]:JSON[_0x16e001(0x757)](_0x4516da,null,0x2))),new w(_0x16e001(0x5da)+_0x4516da[_0x16e001(0x737)]);}}async[a0_0x4511c4(0x188)](_0x24d633,_0x45574c){const _0x571781=a0_0x4511c4;try{await this[_0x571781(0x20b)][_0x571781(0x4d3)](_0x45574c,_0x24d633),console[_0x571781(0x5db)](_0x571781(0x38b)+_0x24d633+_0x571781(0x4ea)+_0x45574c+_0x571781(0xfc));}catch(_0x34f060){console[_0x571781(0xcd)](_0x571781(0x4b8)+_0x24d633+_0x571781(0x638)+_0x45574c+':',_0x34f060);}}async[a0_0x4511c4(0x301)](_0x4bd938,_0xf92011){const _0x4a7efb=a0_0x4511c4;try{await this['client'][_0x4a7efb(0x2c2)](_0xf92011,_0x4bd938),console[_0x4a7efb(0x5db)]('Label\x20'+_0x4bd938+_0x4a7efb(0x131)+_0xf92011+_0x4a7efb(0xfc));}catch(_0x1607b9){console[_0x4a7efb(0xcd)]('Erro\x20ao\x20remover\x20label\x20'+_0x4bd938+_0x4a7efb(0x70a)+_0xf92011+':',_0x1607b9);}}async['updateAgent'](_0xe38edf){const _0x246dd8=a0_0x4511c4;try{let _0x298c70=await this[_0x246dd8(0x368)][_0x246dd8(0x4fa)]['findOrCreate'](this['instance'][_0x246dd8(0x5e4)]),_0x5e1433=_0xe38edf['_id']?_0x298c70[_0x246dd8(0xf3)][_0x246dd8(0x418)](_0x3cbd95=>_0x3cbd95[_0x246dd8(0x2c1)]===_0xe38edf[_0x246dd8(0x2c1)]):-0x1;if(_0xe38edf[_0x246dd8(0x44d)]&&_0x5e1433>-0x1)_0x298c70[_0x246dd8(0xf3)]['splice'](_0x5e1433,0x1);else{if(_0x5e1433>-0x1){let _0x31b9ac=_0x298c70[_0x246dd8(0xf3)][_0x5e1433];_0xe38edf[_0x246dd8(0x4f1)]&&(_0x31b9ac['fone']=_0xe38edf['fone']),_0xe38edf[_0x246dd8(0x665)]&&(_0x31b9ac[_0x246dd8(0x665)]=_0xe38edf[_0x246dd8(0x665)]),_0xe38edf[_0x246dd8(0x12d)]&&(_0x31b9ac[_0x246dd8(0x12d)]=_0xe38edf[_0x246dd8(0x12d)]),_0xe38edf['role']&&(_0x31b9ac[_0x246dd8(0x756)]=_0xe38edf[_0x246dd8(0x756)]);}else _0x298c70[_0x246dd8(0xf3)][_0x246dd8(0x6f3)]({'_id':_0xe38edf[_0x246dd8(0x2c1)]||new le[(_0x246dd8(0x1e4))][(_0x246dd8(0x580))]['ObjectId']()[_0x246dd8(0x2eb)](),'fone':_0xe38edf[_0x246dd8(0x4f1)],'name':_0xe38edf[_0x246dd8(0x665)],'email':_0xe38edf[_0x246dd8(0x12d)],'role':_0xe38edf[_0x246dd8(0x756)]});}let _0x2c0521={'agents':_0x298c70[_0x246dd8(0xf3)]},_0x43d387=await this[_0x246dd8(0x368)][_0x246dd8(0x4fa)][_0x246dd8(0xd1)](_0x2c0521,this[_0x246dd8(0x502)][_0x246dd8(0x5e4)]);return this['AutomateSystem']=_0x43d387,this['logger']['verbose'](this[_0x246dd8(0x708)]+'\x20('+this['instance'][_0x246dd8(0x5e4)]+_0x246dd8(0x563)),this['logger']['verbose'](this[_0x246dd8(0x708)]+'\x20('+this[_0x246dd8(0x502)]['wuid']+_0x246dd8(0x3fe)+this['AutomateSystem']),_0x43d387;}catch(_0x52fde2){throw this[_0x246dd8(0x5bb)][_0x246dd8(0xcd)](this[_0x246dd8(0x708)]+'\x20('+this[_0x246dd8(0x502)][_0x246dd8(0x5e4)]+_0x246dd8(0x6aa)+(_0x52fde2 instanceof Error?_0x52fde2[_0x246dd8(0x737)]:JSON['stringify'](_0x52fde2,null,0x2))),new w(_0x246dd8(0x62e)+_0x52fde2[_0x246dd8(0x737)]);}}async['updateCustomFields'](_0x5e6f65){const _0x5cfe8c=a0_0x4511c4;try{let _0x5213ca=await this[_0x5cfe8c(0x368)][_0x5cfe8c(0x4fa)][_0x5cfe8c(0x1b1)](this['instance'][_0x5cfe8c(0x5e4)]),_0x3df831=_0x5e6f65['_id']?_0x5213ca['customFields'][_0x5cfe8c(0x418)](_0x3c0df1=>_0x3c0df1[_0x5cfe8c(0x2c1)]===_0x5e6f65['_id']):-0x1,_0x30fe67=!0x1,_0x33f387=_0x5213ca[_0x5cfe8c(0x3cc)][_0x5cfe8c(0x43f)](_0x3f5665=>_0x3f5665[_0x5cfe8c(0x6ea)]===_0x5e6f65[_0x5cfe8c(0x6ea)]);if(_0x5e6f65[_0x5cfe8c(0x44d)]&&_0x3df831>-0x1)_0x5213ca['customFields']['splice'](_0x3df831,0x1),_0x30fe67=!0x0;else{if(_0x3df831>-0x1){if(_0x5213ca[_0x5cfe8c(0x3cc)]['some'](_0xcd0614=>_0xcd0614[_0x5cfe8c(0x665)]===_0x5e6f65['name']&&_0xcd0614['_id']!==_0x5e6f65[_0x5cfe8c(0x2c1)]))throw new Error(_0x5cfe8c(0x3c0));let _0x571db7=_0x5213ca['customFields'][_0x3df831];_0x5e6f65['order']&&(_0x33f387||!Number[_0x5cfe8c(0x20a)](_0x5e6f65[_0x5cfe8c(0x6ea)]))&&(_0x571db7[_0x5cfe8c(0x6ea)]=_0x5e6f65[_0x5cfe8c(0x6ea)],_0x30fe67=!0x0),_0x5e6f65[_0x5cfe8c(0x665)]&&(_0x571db7[_0x5cfe8c(0x665)]=_0x5e6f65[_0x5cfe8c(0x665)]);}else{if(_0x5213ca['customFields']['some'](_0x581adb=>_0x581adb[_0x5cfe8c(0x665)]===_0x5e6f65['name']&&_0x581adb[_0x5cfe8c(0x2c1)]!==_0x5e6f65[_0x5cfe8c(0x2c1)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x5213ca[_0x5cfe8c(0x3cc)]['push']({'_id':_0x5e6f65[_0x5cfe8c(0x2c1)]||new le['default'][(_0x5cfe8c(0x580))][(_0x5cfe8c(0x51d))]()['toString'](),'order':_0x5e6f65[_0x5cfe8c(0x6ea)],'name':_0x5e6f65[_0x5cfe8c(0x665)]}),_0x30fe67=!0x0;}}if(_0x30fe67){_0x5213ca[_0x5cfe8c(0x3cc)]['sort']((_0x35fdaa,_0x519fb0)=>_0x35fdaa['order']>_0x519fb0[_0x5cfe8c(0x6ea)]?0x1:_0x519fb0[_0x5cfe8c(0x6ea)]>_0x35fdaa[_0x5cfe8c(0x6ea)]?-0x1:0x0);for(let _0x4fcaba=0x0;_0x4fcaba<_0x5213ca[_0x5cfe8c(0x3cc)][_0x5cfe8c(0x16d)];_0x4fcaba++)_0x5213ca[_0x5cfe8c(0x3cc)][_0x4fcaba][_0x5cfe8c(0x6ea)]=_0x4fcaba+0x1;}let _0x1ec591=await this[_0x5cfe8c(0x368)][_0x5cfe8c(0x4fa)][_0x5cfe8c(0xd1)](_0x5213ca,this[_0x5cfe8c(0x502)][_0x5cfe8c(0x5e4)]);return this[_0x5cfe8c(0x3db)]=_0x1ec591,this[_0x5cfe8c(0x5bb)][_0x5cfe8c(0x1a7)](this[_0x5cfe8c(0x708)]+'\x20('+this[_0x5cfe8c(0x502)]['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x5cfe8c(0x5bb)][_0x5cfe8c(0x1a7)](this['instanceName']+'\x20('+this[_0x5cfe8c(0x502)][_0x5cfe8c(0x5e4)]+_0x5cfe8c(0x3fe)+this[_0x5cfe8c(0x3db)]),_0x1ec591;}catch(_0x2883ed){throw this[_0x5cfe8c(0x5bb)][_0x5cfe8c(0xcd)](this['instanceName']+'\x20('+this[_0x5cfe8c(0x502)]['wuid']+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x2883ed instanceof Error?_0x2883ed[_0x5cfe8c(0x737)]:JSON['stringify'](_0x2883ed,null,0x2))),new w(_0x5cfe8c(0x1ef)+_0x2883ed[_0x5cfe8c(0x737)]);}}async['updateFlowConfig'](_0x615336){const _0x2a2b23=a0_0x4511c4;try{let _0x437dee=await this[_0x2a2b23(0x368)][_0x2a2b23(0x4fa)][_0x2a2b23(0x1b1)](this[_0x2a2b23(0x502)][_0x2a2b23(0x5e4)]);if(!_0x437dee)throw new Error(_0x2a2b23(0x2a5));let _0x4840b4={'_id':_0x437dee['_id'],'flowConfig':{'enabled':_0x615336[_0x2a2b23(0x2e1)]??_0x437dee[_0x2a2b23(0xba)][_0x2a2b23(0x2e1)],'ignoreGroups':_0x615336[_0x2a2b23(0x65e)]??_0x437dee['flowConfig']['ignoreGroups'],'prefixCommand':_0x615336[_0x2a2b23(0x6e0)]??_0x437dee[_0x2a2b23(0xba)][_0x2a2b23(0x6e0)],'stopConversation':_0x615336['stopConversation']??_0x437dee[_0x2a2b23(0xba)][_0x2a2b23(0x6ed)],'stopMinutes':_0x615336[_0x2a2b23(0x5a1)]??_0x437dee['flowConfig']['stopMinutes'],'stopWhenYouSendMsg':_0x615336[_0x2a2b23(0x26a)]??_0x437dee[_0x2a2b23(0xba)][_0x2a2b23(0x26a)]}},_0x8016bc=await this['repository'][_0x2a2b23(0x4fa)]['update'](_0x4840b4,this[_0x2a2b23(0x502)][_0x2a2b23(0x5e4)]);return this[_0x2a2b23(0x3db)]=_0x8016bc,this[_0x2a2b23(0x5bb)][_0x2a2b23(0x1a7)](this[_0x2a2b23(0x708)]+'\x20('+this[_0x2a2b23(0x502)][_0x2a2b23(0x5e4)]+_0x2a2b23(0x563)),this[_0x2a2b23(0x5bb)][_0x2a2b23(0x1a7)](this['instanceName']+'\x20('+this[_0x2a2b23(0x502)][_0x2a2b23(0x5e4)]+_0x2a2b23(0x3fe)+this['AutomateSystem']),setTimeout(()=>this[_0x2a2b23(0x457)](),0x7d0),_0x8016bc;}catch(_0x435c2f){throw this['logger'][_0x2a2b23(0xcd)](this[_0x2a2b23(0x708)]+'\x20('+this[_0x2a2b23(0x502)]['wuid']+_0x2a2b23(0x4c7)+(_0x435c2f instanceof Error?_0x435c2f[_0x2a2b23(0x737)]:JSON[_0x2a2b23(0x757)](_0x435c2f,null,0x2))),new w(_0x2a2b23(0xf5)+_0x435c2f['message']);}}async[a0_0x4511c4(0x686)](){const _0x948dd1=a0_0x4511c4;try{let _0x3f3ae1=await this['repository']['automateSystem'][_0x948dd1(0x1b1)](this[_0x948dd1(0x502)]['wuid']);return this[_0x948dd1(0x3db)]=_0x3f3ae1,this[_0x948dd1(0x5bb)]['verbose'](this['instanceName']+'\x20('+this[_0x948dd1(0x502)]['wuid']+_0x948dd1(0x6bb)),this['logger'][_0x948dd1(0x1a7)](this[_0x948dd1(0x3db)]),_0x3f3ae1;}catch(_0x20ac93){throw this[_0x948dd1(0x5bb)][_0x948dd1(0xcd)](this['instanceName']+'\x20('+this[_0x948dd1(0x502)]['wuid']+_0x948dd1(0x45d)+(_0x20ac93 instanceof Error?_0x20ac93[_0x948dd1(0x737)]:JSON[_0x948dd1(0x757)](_0x20ac93,null,0x2))),new w(_0x948dd1(0x11e)+_0x20ac93[_0x948dd1(0x737)]);}}async['setRestartTimeout'](){const _0x199bf5=a0_0x4511c4;this[_0x199bf5(0x502)]['ScheduleMessage'][_0x199bf5(0x391)]&&clearTimeout(this[_0x199bf5(0x502)][_0x199bf5(0x6b2)][_0x199bf5(0x391)]),this[_0x199bf5(0x502)][_0x199bf5(0x6b2)][_0x199bf5(0x391)]=setTimeout(()=>{const _0x5d2453=_0x199bf5;this[_0x5d2453(0x3c6)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x4511c4(0x3c6)](){const _0x58174e=a0_0x4511c4;Date[_0x58174e(0x56c)]()-this[_0x58174e(0x502)][_0x58174e(0x6b2)]['lastSend']>=0x1d4c0&&(this['logger'][_0x58174e(0x1a7)](this['instanceName']+'\x20('+this[_0x58174e(0x502)]['wuid']+_0x58174e(0x342)),this[_0x58174e(0x502)][_0x58174e(0x6b2)][_0x58174e(0x218)]=null,this[_0x58174e(0x502)][_0x58174e(0x6b2)]['lastSend']=0x0,this[_0x58174e(0x502)][_0x58174e(0x6b2)]['delayMessage']=0x0,await this['scheduleNextCheck']());}async[a0_0x4511c4(0x457)](){const _0x4522ba=a0_0x4511c4;let _0xacf911=()=>{const _0x41352d=a0_0x4bbc;this[_0x41352d(0x5bb)][_0x41352d(0x1a7)](this['instanceName']+'\x20('+this[_0x41352d(0x502)][_0x41352d(0x5e4)]+_0x41352d(0x503)+this[_0x41352d(0x502)][_0x41352d(0x6b2)][_0x41352d(0x218)]+_0x41352d(0x755));},_0xc37258=async()=>{const _0x422c42=a0_0x4bbc;this[_0x422c42(0x5bb)][_0x422c42(0x1a7)](this[_0x422c42(0x708)]+'\x20('+this[_0x422c42(0x502)]['wuid']+_0x422c42(0x398));let _0x30c640=Date[_0x422c42(0x56c)]()-0xc*0x3c*0x3c*0x3e8,_0x2a7213={'where':{'status':{'$in':[_0x422c42(0x55e),_0x422c42(0x298)]},'$or':[{'when':{'$lte':Date[_0x422c42(0x56c)](),'$gte':_0x30c640}},{'when':0x0}]}};return await this[_0x422c42(0x368)][_0x422c42(0x110)]['find'](_0x2a7213,this[_0x422c42(0x502)][_0x422c42(0x5e4)]);},_0x382512=async _0x69bff3=>{const _0x179f3e=a0_0x4bbc;for(let _0xcd0f1 of _0x69bff3){let _0x327d44={'_id':_0xcd0f1[_0x179f3e(0x2c1)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x179f3e(0x56c)]()-0x1770}}]},_0x5e54b4={'startSend':Date[_0x179f3e(0x56c)]()};if(!await this['repository'][_0x179f3e(0x110)][_0x179f3e(0x34e)](_0x327d44,_0x5e54b4,this[_0x179f3e(0x502)][_0x179f3e(0x5e4)]))return;if(!this[_0x179f3e(0x502)][_0x179f3e(0x6b2)][_0x179f3e(0x30a)]){this[_0x179f3e(0x5bb)][_0x179f3e(0x1a7)](this[_0x179f3e(0x708)]+'\x20('+this[_0x179f3e(0x502)][_0x179f3e(0x5e4)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0xcd0f1['type']===_0x179f3e(0x583)&&!this[_0x179f3e(0x3db)]?.[_0x179f3e(0xba)][_0x179f3e(0x2e1)]){this['logger']['error'](this[_0x179f3e(0x708)]+'\x20('+this['instance'][_0x179f3e(0x5e4)]+_0x179f3e(0x104));continue;}(!_0xcd0f1[_0x179f3e(0x600)]||_0xcd0f1[_0x179f3e(0x600)][_0x179f3e(0x16d)]===0x0)&&(_0xcd0f1=await this[_0x179f3e(0x368)][_0x179f3e(0x110)][_0x179f3e(0x481)](_0xcd0f1[_0x179f3e(0x2c1)],{'status':_0x179f3e(0x298),'remoteJidsRemaining':[..._0xcd0f1[_0x179f3e(0x15a)]]},this[_0x179f3e(0x502)][_0x179f3e(0x5e4)]));for(let _0x40dd04 of _0xcd0f1['remoteJidsRemaining']){if(await this[_0x179f3e(0x56b)](),this[_0x179f3e(0x502)][_0x179f3e(0x6b2)][_0x179f3e(0x1c1)]=Date[_0x179f3e(0x56c)](),this[_0x179f3e(0x502)][_0x179f3e(0x6b2)][_0x179f3e(0x53b)]===_0x40dd04){this[_0x179f3e(0x5bb)]['error'](this['instanceName']+'\x20('+this['instance'][_0x179f3e(0x5e4)]+_0x179f3e(0x3ab)+_0x40dd04+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');let _0x144bc6={'$push':{'messagesSend':{'remoteJid':_0x40dd04,'error':!0x0,'id':null,'error_log':_0x179f3e(0x28f),'log_timestamp':Date[_0x179f3e(0x56c)]()}},'$pull':{'remoteJidsRemaining':_0x40dd04}};await this[_0x179f3e(0x368)][_0x179f3e(0x110)][_0x179f3e(0x481)](_0xcd0f1[_0x179f3e(0x2c1)],_0x144bc6,this['instance'][_0x179f3e(0x5e4)]);continue;}if(this[_0x179f3e(0x502)][_0x179f3e(0x6b2)][_0x179f3e(0x53b)]=_0x40dd04,_0xcd0f1['messagesSend']['some'](_0x16909f=>_0x16909f[_0x179f3e(0x456)]===_0x40dd04)){this[_0x179f3e(0x5bb)][_0x179f3e(0x1a7)](this[_0x179f3e(0x708)]+'\x20('+this[_0x179f3e(0x502)]['wuid']+_0x179f3e(0x333)+_0x40dd04+_0x179f3e(0x2ff));continue;}if(!this[_0x179f3e(0x502)][_0x179f3e(0x6b2)]['isConnected']){this[_0x179f3e(0x5bb)]['verbose'](this[_0x179f3e(0x708)]+'\x20('+this[_0x179f3e(0x502)]['wuid']+_0x179f3e(0x20c));break;}if(!this[_0x179f3e(0x502)]['ScheduleMessage'][_0x179f3e(0x218)]){this[_0x179f3e(0x5bb)][_0x179f3e(0x1a7)](this[_0x179f3e(0x708)]+'\x20('+this[_0x179f3e(0x502)][_0x179f3e(0x5e4)]+_0x179f3e(0x68c)+_0xcd0f1[_0x179f3e(0x2c1)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0xcd0f1[_0x179f3e(0x6d4)]===_0x179f3e(0x583)&&!this[_0x179f3e(0x3db)]?.[_0x179f3e(0xba)]['enabled']){this[_0x179f3e(0x5bb)]['error'](this[_0x179f3e(0x708)]+'\x20('+this['instance'][_0x179f3e(0x5e4)]+_0x179f3e(0x104));break;}let _0x2bce49={'remoteJid':_0x40dd04,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x62f4d0=null;try{let _0x524beb=await this['SendScheduleMessage'](_0x40dd04,_0xcd0f1);_0x2bce49[_0x179f3e(0xcd)]=_0x524beb[_0x179f3e(0xcd)],_0x2bce49['id']=_0x524beb['error']?null:_0x524beb['id'],_0x2bce49[_0x179f3e(0xc4)]=_0x524beb['error']?_0x524beb['detail']?_0x524beb[_0x179f3e(0x394)][_0x179f3e(0x2eb)]():'':null;let _0x2eca5b={'$push':{'messagesSend':_0x2bce49},'$pull':{'remoteJidsRemaining':_0x40dd04}},_0x4113de=_0xcd0f1[_0x179f3e(0x2c1)];if(_0x62f4d0=await this[_0x179f3e(0x368)][_0x179f3e(0x110)][_0x179f3e(0x481)](_0x4113de,_0x2eca5b,this[_0x179f3e(0x502)][_0x179f3e(0x5e4)]),_0x524beb[_0x179f3e(0xcd)])continue;let _0x598f7c=this['getDelay'](_0xcd0f1['delaySecMin'],_0xcd0f1['delaySecMax']);await this['sleep'](_0x598f7c);}catch(_0xbf18b3){this[_0x179f3e(0x5bb)]['error'](this[_0x179f3e(0x708)]+'\x20('+this[_0x179f3e(0x502)][_0x179f3e(0x5e4)]+_0x179f3e(0x4bd)+_0x40dd04+':\x20'+(_0xbf18b3 instanceof Error?_0xbf18b3[_0x179f3e(0x737)]:JSON[_0x179f3e(0x757)](_0xbf18b3,null,0x2))),_0x2bce49[_0x179f3e(0xcd)]=!0x0,_0x2bce49[_0x179f3e(0xc4)]=_0xbf18b3[_0x179f3e(0x737)];let _0x2ead74={'$push':{'messagesSend':_0x2bce49},'$pull':{'remoteJidsRemaining':_0x40dd04}},_0x247255=_0xcd0f1[_0x179f3e(0x2c1)];_0x62f4d0=await this[_0x179f3e(0x368)][_0x179f3e(0x110)][_0x179f3e(0x481)](_0x247255,_0x2ead74,this[_0x179f3e(0x502)][_0x179f3e(0x5e4)]);}finally{if(_0x62f4d0&&_0x62f4d0[_0x179f3e(0x3d6)]===_0x179f3e(0xab)){this[_0x179f3e(0x5bb)][_0x179f3e(0x1a7)](this[_0x179f3e(0x708)]+'\x20('+this[_0x179f3e(0x502)][_0x179f3e(0x5e4)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0xcd0f1[_0x179f3e(0x2c1)]+_0x179f3e(0x51b));break;}}}let _0x4a1370=await this[_0x179f3e(0x368)][_0x179f3e(0x110)][_0x179f3e(0x52d)](_0xcd0f1[_0x179f3e(0x2c1)],this['instance']['wuid']);if(_0x4a1370[_0x179f3e(0x600)]['length']===0x0&&_0x4a1370[_0x179f3e(0x3d6)]!==_0x179f3e(0xab)){let _0x192fe8={'$set':{'status':_0x179f3e(0x39a)}},_0xcea542=_0x4a1370[_0x179f3e(0x2c1)];await this[_0x179f3e(0x368)][_0x179f3e(0x110)][_0x179f3e(0x481)](_0xcea542,_0x192fe8,this['instance']['wuid']);}await new Promise(_0x352698=>setTimeout(_0x352698,0x1388));}},_0x460197=async()=>{const _0x55ec6c=a0_0x4bbc;let _0x3fb6c1={'where':{'status':_0x55ec6c(0x55e),'when':{'$gt':Date['now']()}}},_0x1f3a76=await this[_0x55ec6c(0x368)][_0x55ec6c(0x110)][_0x55ec6c(0x19a)](_0x3fb6c1,this[_0x55ec6c(0x502)]['wuid']);_0x1f3a76&&_0x1f3a76[_0x55ec6c(0x180)]-Date[_0x55ec6c(0x56c)]()<=0x5265c00?this[_0x55ec6c(0x502)][_0x55ec6c(0x6b2)]['delayMessage']=_0x1f3a76[_0x55ec6c(0x180)]-Date[_0x55ec6c(0x56c)]():this[_0x55ec6c(0x502)][_0x55ec6c(0x6b2)][_0x55ec6c(0xa3)]=(0x3c+Math['floor'](Math[_0x55ec6c(0x3fd)]()*0x3c))*0x3c*0x3e8,this[_0x55ec6c(0x502)][_0x55ec6c(0x6b2)][_0x55ec6c(0xa3)]=Math[_0x55ec6c(0x73b)](this[_0x55ec6c(0x502)][_0x55ec6c(0x6b2)][_0x55ec6c(0xa3)],0x7d0);let _0x41e574=Math[_0x55ec6c(0x3eb)](this['instance'][_0x55ec6c(0x6b2)][_0x55ec6c(0xa3)]/0xea60);if(_0x1f3a76){let _0x3ceaf3=new Date(_0x1f3a76[_0x55ec6c(0x180)])[_0x55ec6c(0x3aa)]();this[_0x55ec6c(0x5bb)][_0x55ec6c(0x1a7)](this['instanceName']+'\x20('+this[_0x55ec6c(0x502)][_0x55ec6c(0x5e4)]+_0x55ec6c(0x4a5)+_0x3ceaf3+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x41e574+'\x20minutos');}else this[_0x55ec6c(0x5bb)][_0x55ec6c(0x1a7)](this[_0x55ec6c(0x708)]+'\x20('+this[_0x55ec6c(0x502)][_0x55ec6c(0x5e4)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x41e574+_0x55ec6c(0x460));setTimeout(()=>this[_0x55ec6c(0x457)](),this[_0x55ec6c(0x502)][_0x55ec6c(0x6b2)][_0x55ec6c(0xa3)]);};if(this['instance'][_0x4522ba(0x6b2)][_0x4522ba(0x218)]){await this['setRestartTimeout'](),_0xacf911();return;}if(!this[_0x4522ba(0x502)]['ScheduleMessage'][_0x4522ba(0x30a)]){this[_0x4522ba(0x5bb)]['verbose'](this[_0x4522ba(0x708)]+'\x20('+this[_0x4522ba(0x502)]['wuid']+_0x4522ba(0x2d6)),this['instance'][_0x4522ba(0x6b2)][_0x4522ba(0x218)]=null,this[_0x4522ba(0x502)][_0x4522ba(0x6b2)][_0x4522ba(0x1c1)]=0x0,this['instance']['ScheduleMessage'][_0x4522ba(0xa3)]=0x0,this[_0x4522ba(0x502)][_0x4522ba(0x6b2)]['ultimaTentativaRemoteJid']=null;return;}try{let _0x18999d=await _0xc37258();_0x18999d[_0x4522ba(0x16d)]===0x0?this[_0x4522ba(0x5bb)][_0x4522ba(0x1a7)](this['instanceName']+'\x20('+this[_0x4522ba(0x502)]['wuid']+_0x4522ba(0x1b2)):(this[_0x4522ba(0x502)][_0x4522ba(0x6b2)][_0x4522ba(0x218)]=_0x18999d[0x0][_0x4522ba(0x2c1)],await _0x382512(_0x18999d)),await _0x460197(),this[_0x4522ba(0x502)][_0x4522ba(0x6b2)][_0x4522ba(0x218)]=null,this['instance'][_0x4522ba(0x6b2)][_0x4522ba(0x53b)]=null;}catch(_0x1cceed){this['logger']['error'](_0x4522ba(0xd9)+(_0x1cceed instanceof Error?_0x1cceed[_0x4522ba(0x737)]:JSON['stringify'](_0x1cceed,null,0x2)));}}[a0_0x4511c4(0x636)](_0x197daf,_0x17432f){const _0x582548=a0_0x4511c4;return _0x197daf=Math[_0x582548(0x73b)](0.5,_0x197daf),_0x17432f=Math[_0x582548(0x459)](Math[_0x582548(0x73b)](0x3,_0x17432f),0x78),Math[_0x582548(0x3a5)](Math[_0x582548(0x3fd)]()*(_0x17432f-_0x197daf+0x1)+_0x197daf)*0x3e8;}['sleep'](_0x2e0ad2){return new Promise(_0x20c54f=>setTimeout(_0x20c54f,_0x2e0ad2));}async[a0_0x4511c4(0x182)](_0x3974b3){const _0x4666c1=a0_0x4511c4;if(!this[_0x4666c1(0x3db)]&&(await this[_0x4666c1(0x686)](),!this['AutomateSystem']))return null;_0x3974b3=this['createJid'](_0x3974b3);let _0xaae193=await this[_0x4666c1(0x368)]['chat']['findOne']({'where':{'_id':_0x3974b3}},this[_0x4666c1(0x502)][_0x4666c1(0x5e4)]),_0x296478={};if(_0xaae193&&_0xaae193[_0x4666c1(0x589)]){let _0x4ee613=_0xaae193[_0x4666c1(0x589)];typeof _0x4ee613[_0x4666c1(0x4ff)]=='string'&&(_0x296478[_0x4666c1(0x4ff)]=_0x4ee613[_0x4666c1(0x4ff)]),typeof _0x4ee613[_0x4666c1(0x261)]==_0x4666c1(0x2b9)&&(_0x296478[_0x4666c1(0x261)]=_0x4ee613[_0x4666c1(0x261)]),typeof _0x4ee613[_0x4666c1(0x12d)]==_0x4666c1(0x2b9)&&(_0x296478[_0x4666c1(0x12d)]=_0x4ee613['email']),typeof _0x4ee613[_0x4666c1(0x36f)]==_0x4666c1(0x2b9)&&(_0x296478[_0x4666c1(0x36f)]=_0x4ee613[_0x4666c1(0x36f)]),typeof _0x4ee613[_0x4666c1(0x3d6)]==_0x4666c1(0x2b9)&&(_0x296478[_0x4666c1(0x3d6)]=_0x4ee613[_0x4666c1(0x3d6)]),typeof _0x4ee613['notas']=='string'&&(_0x296478[_0x4666c1(0xbf)]=_0x4ee613['notas']),typeof _0x4ee613[_0x4666c1(0x224)]==_0x4666c1(0x2b9)&&(_0x296478[_0x4666c1(0x224)]=_0x4ee613[_0x4666c1(0x224)]),Array[_0x4666c1(0x173)](_0x4ee613[_0x4666c1(0x2f1)])&&(_0x296478[_0x4666c1(0x2f1)]=_0x4ee613[_0x4666c1(0x2f1)][_0x4666c1(0x3de)](',\x20')),Array[_0x4666c1(0x173)](_0x4ee613[_0x4666c1(0x6dc)])&&(_0x296478[_0x4666c1(0x6dc)]=_0x4ee613[_0x4666c1(0x6dc)][_0x4666c1(0x3de)](',\x20'));}return _0xaae193&&_0xaae193[_0x4666c1(0x589)]&&_0xaae193[_0x4666c1(0x589)][_0x4666c1(0x3cc)]&&_0xaae193[_0x4666c1(0x589)][_0x4666c1(0x3cc)][_0x4666c1(0x2a7)](_0x4ac640=>{const _0x28f754=_0x4666c1;let _0x514153=this[_0x28f754(0x3db)]?.[_0x28f754(0x3cc)][_0x28f754(0x5af)](_0x51a826=>_0x51a826['_id']===_0x4ac640[_0x28f754(0x2c1)]);_0x514153&&(_0x296478[_0x514153['name']]=_0x4ac640['value']);}),_0x296478;}async[a0_0x4511c4(0x760)](_0x5f1146,_0x45fae0){const _0x2106d3=a0_0x4511c4;let _0x18ac46=await this[_0x2106d3(0x182)](_0x45fae0);return this[_0x2106d3(0x4b6)](_0x5f1146,_0x18ac46);}async[a0_0x4511c4(0xd2)](_0x29592b){const _0x447a96=a0_0x4511c4;try{if(this['logger'][_0x447a96(0x1a7)](this[_0x447a96(0x708)]+'\x20('+this['instance']['wuid']+_0x447a96(0x267)),_0x29592b[_0x447a96(0x44d)]&&_0x29592b[_0x447a96(0x2c1)]){if(this[_0x447a96(0x502)][_0x447a96(0x6b2)][_0x447a96(0x218)]===_0x29592b[_0x447a96(0x2c1)][_0x447a96(0x2eb)]())throw new Error(_0x447a96(0x14d));let _0xe47622=await this[_0x447a96(0x368)][_0x447a96(0x110)][_0x447a96(0xd8)](_0x29592b[_0x447a96(0x2c1)],this[_0x447a96(0x502)][_0x447a96(0x5e4)]);return setTimeout(()=>this[_0x447a96(0x457)](),0x7d0),_0xe47622;}let _0x49980a;if(_0x29592b[_0x447a96(0x2c1)]&&(_0x49980a=await this[_0x447a96(0x368)][_0x447a96(0x110)][_0x447a96(0x52d)](_0x29592b[_0x447a96(0x2c1)],this[_0x447a96(0x502)]['wuid'])),_0x49980a){let _0x503d2d;if(this[_0x447a96(0x502)][_0x447a96(0x6b2)][_0x447a96(0x218)]===_0x49980a[_0x447a96(0x2c1)][_0x447a96(0x2eb)]())_0x503d2d={'$set':{'status':_0x29592b[_0x447a96(0x3d6)]}};else{let {_id:_0x4eb829,..._0x4b4ebb}=_0x29592b;_0x503d2d={'$set':_0x4b4ebb};}let _0x4a4c67=await this[_0x447a96(0x368)]['scheduleMessage'][_0x447a96(0x481)](_0x29592b[_0x447a96(0x2c1)],_0x503d2d,this['instance'][_0x447a96(0x5e4)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x4a4c67;}else{_0x29592b['owner']=this[_0x447a96(0x502)]['wuid'];let _0x452911=await this['repository'][_0x447a96(0x110)][_0x447a96(0x212)](_0x29592b,this[_0x447a96(0x502)][_0x447a96(0x5e4)]);return setTimeout(()=>this[_0x447a96(0x457)](),0x7d0),_0x452911;}}catch(_0x481749){throw this['logger'][_0x447a96(0xcd)](this[_0x447a96(0x708)]+'\x20('+this[_0x447a96(0x502)][_0x447a96(0x5e4)]+_0x447a96(0x24b)+(_0x481749 instanceof Error?_0x481749[_0x447a96(0x737)]:JSON['stringify'](_0x481749,null,0x2))),new w(_0x447a96(0x454)+_0x481749['message']);}}async[a0_0x4511c4(0x4e6)](){const _0x128b89=a0_0x4511c4;try{return await this['repository'][_0x128b89(0x110)][_0x128b89(0x5af)]({'where':{}},this[_0x128b89(0x502)][_0x128b89(0x5e4)]);}catch(_0x2dc2a9){throw this['logger']['error'](this[_0x128b89(0x708)]+'\x20('+this[_0x128b89(0x502)][_0x128b89(0x5e4)]+_0x128b89(0x537)+(_0x2dc2a9 instanceof Error?_0x2dc2a9[_0x128b89(0x737)]:JSON['stringify'](_0x2dc2a9,null,0x2))),new w(_0x128b89(0x454)+_0x2dc2a9[_0x128b89(0x737)]);}}async[a0_0x4511c4(0x222)](){const _0x28daff=a0_0x4511c4;try{let _0x732775={'status':_0x28daff(0x39a)},_0x3f92a5=await this[_0x28daff(0x368)][_0x28daff(0x110)]['deleteMany'](_0x732775,this[_0x28daff(0x502)]['wuid']);if(!_0x3f92a5[_0x28daff(0xcd)])this[_0x28daff(0x5bb)][_0x28daff(0x1a7)](this[_0x28daff(0x708)]+'\x20('+this['instance']['wuid']+_0x28daff(0xe8));else throw new Error(_0x3f92a5[_0x28daff(0xcd)][_0x28daff(0x737)]||_0x28daff(0x525));return this[_0x28daff(0x4e6)]();}catch(_0xaf4fc1){throw this[_0x28daff(0x5bb)][_0x28daff(0xcd)](this[_0x28daff(0x708)]+'\x20('+this[_0x28daff(0x502)][_0x28daff(0x5e4)]+_0x28daff(0x73d)+(_0xaf4fc1 instanceof Error?_0xaf4fc1['message']:JSON['stringify'](_0xaf4fc1,null,0x2))),new w(_0x28daff(0x454)+_0xaf4fc1[_0x28daff(0x737)]);}}async['SendScheduleMessage'](_0x104556,_0x18de24){const _0x14e6d6=a0_0x4511c4;try{if(_0x18de24[_0x14e6d6(0x6d4)]==='flow'&&!this[_0x14e6d6(0x3db)]?.[_0x14e6d6(0xba)][_0x14e6d6(0x2e1)])return this[_0x14e6d6(0x5bb)][_0x14e6d6(0xcd)](this[_0x14e6d6(0x708)]+'\x20('+this[_0x14e6d6(0x502)][_0x14e6d6(0x5e4)]+_0x14e6d6(0xd4)),{'error':!0x0,'detail':_0x14e6d6(0x340)};switch(_0x18de24['type']){case _0x14e6d6(0x283):return await this['scheduleSendText'](_0x18de24,_0x104556);case _0x14e6d6(0x6c0):return await this['scheduleSendMedia'](_0x18de24,_0x104556);case _0x14e6d6(0x317):return await this[_0x14e6d6(0x41d)](_0x18de24,_0x104556);case _0x14e6d6(0x583):let _0xa0bf67=new Le();return _0xa0bf67[_0x14e6d6(0x665)]=_0x18de24[_0x14e6d6(0x350)],_0xa0bf67[_0x14e6d6(0x456)]=_0x104556,await this[_0x14e6d6(0x10f)](_0xa0bf67);break;default:return this[_0x14e6d6(0x5bb)][_0x14e6d6(0xcd)](this['instanceName']+'\x20('+this['instance'][_0x14e6d6(0x5e4)]+'):\x20Comando\x20desconhecido:\x20'+_0x18de24['type']),{'error':!0x0,'detail':_0x14e6d6(0x429)};}}catch(_0x8963a0){return this[_0x14e6d6(0x5bb)][_0x14e6d6(0xcd)](this['instanceName']+'\x20('+this[_0x14e6d6(0x502)][_0x14e6d6(0x5e4)]+_0x14e6d6(0x217)+(_0x8963a0 instanceof Error?_0x8963a0[_0x14e6d6(0x737)]:JSON[_0x14e6d6(0x757)](_0x8963a0,null,0x2))),{'error':!0x0,'detail':_0x8963a0[_0x14e6d6(0x737)]};}}[a0_0x4511c4(0x1cd)](_0x3c2f7a){const _0x3f0d50=a0_0x4511c4;let _0x4f8ee7=_0x3c2f7a[_0x3f0d50(0x50f)]('|'),_0x12f06b=Math[_0x3f0d50(0x3a5)](Math[_0x3f0d50(0x3fd)]()*_0x4f8ee7[_0x3f0d50(0x16d)]);return _0x4f8ee7[_0x12f06b]['trim']();}async[a0_0x4511c4(0x276)](_0x111876,_0x2a6f5d){const _0x3ed786=a0_0x4511c4;if(this['logger'][_0x3ed786(0x1a7)](this[_0x3ed786(0x708)]+'\x20('+this['instance'][_0x3ed786(0x5e4)]+_0x3ed786(0x4a4)),!_0x111876[_0x3ed786(0x737)][_0x3ed786(0x283)]||_0x111876[_0x3ed786(0x737)][_0x3ed786(0x283)][_0x3ed786(0x16d)]===0x0)return{'error':!0x0,'detail':_0x3ed786(0x379)};let _0x33d2a2=this[_0x3ed786(0x1cd)](_0x111876[_0x3ed786(0x737)]['text']),_0xea542c=await this[_0x3ed786(0x760)](_0x33d2a2,_0x2a6f5d),_0x2bc283={'number':_0x2a6f5d,'options':{'delay':_0x111876[_0x3ed786(0x737)][_0x3ed786(0xc8)]},'textMessage':{'text':_0xea542c}},_0x3a8a2d=null;try{let _0x54f8f1=await this[_0x3ed786(0x171)](_0x2bc283);if(_0x54f8f1&&_0x54f8f1[_0x3ed786(0x3d6)])return{'error':!0x1,'id':_0x54f8f1[_0x3ed786(0x4b4)]['id']};_0x3a8a2d=JSON[_0x3ed786(0x757)](_0x54f8f1),this[_0x3ed786(0x5bb)]['verbose'](this[_0x3ed786(0x708)]+'\x20('+this[_0x3ed786(0x502)][_0x3ed786(0x5e4)]+_0x3ed786(0x3fe)+_0x3a8a2d);}catch(_0x57e465){this[_0x3ed786(0x5bb)][_0x3ed786(0xcd)](this[_0x3ed786(0x708)]+'\x20('+this[_0x3ed786(0x502)][_0x3ed786(0x5e4)]+_0x3ed786(0x726)+(_0x57e465 instanceof Error?_0x57e465[_0x3ed786(0x737)]:JSON[_0x3ed786(0x757)](_0x57e465,null,0x2))),_0x3a8a2d=_0x57e465[_0x3ed786(0x737)];}if(_0x3a8a2d)return{'error':!0x0,'detail':(typeof _0x3a8a2d==_0x3ed786(0x21b)?JSON[_0x3ed786(0x757)](_0x3a8a2d,null,0x2):_0x3a8a2d)['replace'](/[\[\]{}\n]/g,'\x20')[_0x3ed786(0x18c)](/  +/g,'\x20')};}async[a0_0x4511c4(0x62f)](_0x7dc49d,_0x1b7691){const _0x8b430=a0_0x4511c4;this[_0x8b430(0x5bb)][_0x8b430(0x1a7)](this['instanceName']+'\x20('+this[_0x8b430(0x502)][_0x8b430(0x5e4)]+'):\x20Enviando\x20mídia');let _0x4b1e7a;if(_0x7dc49d['message'][_0x8b430(0x283)]&&_0x7dc49d['message']['text'][_0x8b430(0x16d)]>0x0){let _0x165769=this[_0x8b430(0x1cd)](_0x7dc49d[_0x8b430(0x737)][_0x8b430(0x283)]);_0x4b1e7a=await this['replaceVariablesChat'](_0x165769,_0x1b7691);}let _0x5f4bd7={'number':_0x1b7691,'options':{'delay':_0x7dc49d[_0x8b430(0x737)][_0x8b430(0xc8)]},'mediaMessage':{'mediatype':_0x7dc49d[_0x8b430(0x737)][_0x8b430(0x50a)],'caption':_0x4b1e7a,'media':_0x7dc49d['message'][_0x8b430(0x1b6)]}},_0x12b580=null;try{let _0x55f0fa=await this['mediaMessage'](_0x5f4bd7);if(_0x55f0fa&&_0x55f0fa['status'])return{'error':!0x1,'id':_0x55f0fa[_0x8b430(0x4b4)]['id']};_0x12b580=JSON[_0x8b430(0x757)](_0x55f0fa),this[_0x8b430(0x5bb)][_0x8b430(0x1a7)](this['instanceName']+'\x20('+this[_0x8b430(0x502)][_0x8b430(0x5e4)]+_0x8b430(0x3fe)+_0x12b580);}catch(_0x2f0b9d){this['logger'][_0x8b430(0xcd)](this[_0x8b430(0x708)]+'\x20('+this[_0x8b430(0x502)][_0x8b430(0x5e4)]+_0x8b430(0x130)+(_0x2f0b9d instanceof Error?_0x2f0b9d['message']:JSON[_0x8b430(0x757)](_0x2f0b9d,null,0x2))),_0x12b580=_0x2f0b9d[_0x8b430(0x737)];}if(_0x12b580)return{'error':!0x0,'detail':(typeof _0x12b580==_0x8b430(0x21b)?JSON[_0x8b430(0x757)](_0x12b580,null,0x2):_0x12b580)[_0x8b430(0x18c)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x4511c4(0x41d)](_0x50565e,_0xcdaa1e){const _0xe607e8=a0_0x4511c4;this[_0xe607e8(0x5bb)][_0xe607e8(0x1a7)](this[_0xe607e8(0x708)]+'\x20('+this[_0xe607e8(0x502)]['wuid']+_0xe607e8(0x357));let _0x1ed96c={'number':_0xcdaa1e,'options':{'delay':_0x50565e[_0xe607e8(0x737)][_0xe607e8(0xc8)]},'audioMessage':{'audio':_0x50565e[_0xe607e8(0x737)]['urlOrBase64']}},_0x2d212c=null;try{let _0x20beb9=await this['audioWhatsapp'](_0x1ed96c);if(_0x20beb9&&_0x20beb9[_0xe607e8(0x3d6)])return{'error':!0x1,'id':_0x20beb9[_0xe607e8(0x4b4)]['id']};_0x2d212c=JSON[_0xe607e8(0x757)](_0x20beb9),this['logger'][_0xe607e8(0x1a7)](this['instanceName']+'\x20('+this[_0xe607e8(0x502)][_0xe607e8(0x5e4)]+_0xe607e8(0x3fe)+_0x2d212c);}catch(_0x3af1e7){this[_0xe607e8(0x5bb)]['error'](this[_0xe607e8(0x708)]+'\x20('+this[_0xe607e8(0x502)][_0xe607e8(0x5e4)]+_0xe607e8(0x132)+(_0x3af1e7 instanceof Error?_0x3af1e7[_0xe607e8(0x737)]:JSON[_0xe607e8(0x757)](_0x3af1e7,null,0x2))),_0x2d212c=_0x3af1e7['message'];}if(_0x2d212c)return{'error':!0x0,'detail':(typeof _0x2d212c==_0xe607e8(0x21b)?JSON[_0xe607e8(0x757)](_0x2d212c,null,0x2):_0x2d212c)[_0xe607e8(0x18c)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},Ft=class c{constructor(_0x434ec8,_0x5f0e72,_0x41633e){const _0x4446af=a0_0x4511c4;this[_0x4446af(0x477)]=_0x434ec8,this[_0x4446af(0x626)]=_0x5f0e72,this[_0x4446af(0x368)]=_0x41633e,this['db']={},this[_0x4446af(0x1f7)]={},this[_0x4446af(0x5bb)]=new v(c['name']),this[_0x4446af(0x746)]={},(this[_0x4446af(0x4da)](),this[_0x4446af(0x3c7)](),Object[_0x4446af(0x658)](this['db'],_0x5f0e72[_0x4446af(0x436)]('DATABASE')),Object[_0x4446af(0x658)](this[_0x4446af(0x1f7)],_0x5f0e72[_0x4446af(0x436)](_0x4446af(0x1a0))),this[_0x4446af(0x236)]=this['db']['ENABLED']?this[_0x4446af(0x368)]['dbServer']?.['db'](this['db']['CONNECTION'][_0x4446af(0x179)]+'-instances'):void 0x0,this[_0x4446af(0x364)]=this[_0x4446af(0x1f7)][_0x4446af(0x2b7)]?new ne(this['redis']):void 0x0);}async[a0_0x4511c4(0x127)](_0x529b1f){const _0x5688d4=a0_0x4511c4;if(_0x529b1f&&!this[_0x5688d4(0x746)][_0x529b1f])throw new L(_0x5688d4(0x5ac)+_0x529b1f+_0x5688d4(0x738));let _0x2548ec=[];for await(let [_0x40f089,_0x3f438a]of Object[_0x5688d4(0x25e)](this[_0x5688d4(0x746)]))if(_0x3f438a&&_0x3f438a[_0x5688d4(0x178)]['state']===_0x5688d4(0x37a)){let _0x39a05f=await this[_0x5688d4(0x368)][_0x5688d4(0x750)][_0x5688d4(0x5af)](_0x40f089);_0x2548ec[_0x5688d4(0x6f3)]({'instance':{'instanceName':_0x40f089,'apikey':_0x39a05f[_0x5688d4(0x33c)],'owner':_0x3f438a[_0x5688d4(0x5e4)],'profileName':await _0x3f438a[_0x5688d4(0x207)]()||'not\x20loaded','profilePictureUrl':_0x3f438a[_0x5688d4(0x48a)]}});}return _0x2548ec[_0x5688d4(0x5af)](_0xd89094=>_0xd89094[_0x5688d4(0x502)][_0x5688d4(0x708)]===_0x529b1f)??_0x2548ec;}async['cleaningUp'](_0x5c084e){const _0x247ef7=a0_0x4511c4;if(this['db'][_0x247ef7(0x2b7)]&&(await this[_0x247ef7(0x368)][_0x247ef7(0x6fc)][_0x247ef7(0xe6)](),(await this[_0x247ef7(0x236)][_0x247ef7(0x142)]())['length']>0x0&&await this[_0x247ef7(0x236)][_0x247ef7(0x203)](_0x5c084e)),this[_0x247ef7(0x1f7)][_0x247ef7(0x2b7)]){this[_0x247ef7(0x364)][_0x247ef7(0x32b)]=_0x5c084e,await this['cache'][_0x247ef7(0x296)]();return;}}async[a0_0x4511c4(0x269)](){const _0x46d3fa=a0_0x4511c4;await this[_0x46d3fa(0x4c0)]();let _0x3f9c55=async _0x1f518a=>{const _0x4267c7=_0x46d3fa;let _0x57e40b=new be(this[_0x4267c7(0x626)],this[_0x4267c7(0x477)],this[_0x4267c7(0x368)]);_0x57e40b[_0x4267c7(0x708)]=_0x1f518a,await _0x57e40b['connectToWhatsapp'](),this['waInstances'][_0x1f518a]=_0x57e40b;};try{if(this['redis'][_0x46d3fa(0x2b7)]){let _0x171413=await this[_0x46d3fa(0x364)]['instanceKeys']();_0x171413?.[_0x46d3fa(0x16d)]>0x0&&_0x171413['forEach'](async _0x21b02e=>await _0x3f9c55(_0x21b02e[_0x46d3fa(0x50f)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x46d3fa(0x368)][_0x46d3fa(0x6fc)]['connect']();let _0x8360f9=await this['dbInstance'][_0x46d3fa(0x142)]();_0x8360f9[_0x46d3fa(0x16d)]>0x0&&_0x8360f9[_0x46d3fa(0x2a7)](async _0x3696b9=>await _0x3f9c55(_0x3696b9['namespace']['replace'](/^[\w-]+\./,'')));return;}}catch(_0x2355c9){this[_0x46d3fa(0x5bb)][_0x46d3fa(0xcd)](_0x2355c9);}}async[a0_0x4511c4(0x1f1)](){const _0x539a74=a0_0x4511c4;let _0x38776f=await this['repository'][_0x539a74(0x750)][_0x539a74(0x1d4)](),_0x472aa1=_0x38776f['filter'](_0x87084a=>!this[_0x539a74(0x746)][_0x87084a[_0x539a74(0x2c1)]]&&(_0x87084a[_0x539a74(0x478)]||typeof _0x87084a[_0x539a74(0x478)]>'u'));_0x472aa1[_0x539a74(0x16d)]>0x0&&await Promise[_0x539a74(0x4ba)](_0x472aa1[_0x539a74(0x4dc)](async _0x5d1439=>{const _0x5bf113=_0x539a74;let _0x58d13e={'online':!0x1,'lastDisconnect':Date[_0x5bf113(0x56c)]()};await this[_0x5bf113(0x368)][_0x5bf113(0x750)][_0x5bf113(0x40d)](_0x58d13e,_0x5d1439['_id']);}));let _0x5dabb8=Date[_0x539a74(0x56c)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x22cd15=_0x38776f[_0x539a74(0x472)](_0x239281=>!this[_0x539a74(0x746)][_0x239281[_0x539a74(0x2c1)]]&&typeof _0x239281[_0x539a74(0x6db)]<'u'&&_0x239281[_0x539a74(0x6db)]<_0x5dabb8);_0x22cd15[_0x539a74(0x16d)]>0x0&&await Promise[_0x539a74(0x4ba)](_0x22cd15[_0x539a74(0x4dc)](async _0x42d01e=>{}));}async[a0_0x4511c4(0x4c0)](){const _0x1d57bb=a0_0x4511c4;try{let _0x5cefc0={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x260070={'online':!0x1,'lastDisconnect':Date[_0x1d57bb(0x56c)]()},_0x23f46b=await this[_0x1d57bb(0x368)][_0x1d57bb(0x750)]['updateAll'](_0x5cefc0,_0x260070);console[_0x1d57bb(0x5db)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x23f46b['insertCount']),await this['removeOlderDisconnectedInstances']();}catch(_0x1a9183){console[_0x1d57bb(0xcd)](_0x1d57bb(0x595),_0x1a9183);}}async[a0_0x4511c4(0x108)](){const _0x22ee41=a0_0x4511c4;try{let _0x1a9a7f={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x4b1c49=await this[_0x22ee41(0x368)][_0x22ee41(0x750)][_0x22ee41(0x410)](_0x1a9a7f);console[_0x22ee41(0x5db)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x4b1c49[_0x22ee41(0x4bb)]);}catch(_0x391787){console[_0x22ee41(0xcd)](_0x22ee41(0x49b),_0x391787);}}[a0_0x4511c4(0x4da)](){const _0x32f3c7=a0_0x4511c4;this[_0x32f3c7(0x477)]['on'](_0x32f3c7(0x736),async _0x194529=>{const _0x4e7d75=_0x32f3c7;try{this[_0x4e7d75(0x746)][_0x194529]=void 0x0;}catch{}try{this[_0x4e7d75(0x26d)](_0x194529);}finally{this[_0x4e7d75(0x5bb)]['warn'](_0x4e7d75(0x5ac)+_0x194529+'\x22\x20-\x20REMOVED');}});}[a0_0x4511c4(0x3c7)](){const _0x2234c7=a0_0x4511c4;this[_0x2234c7(0x477)]['on'](_0x2234c7(0x43d),async _0x56fbda=>{const _0x56116f=_0x2234c7;try{this[_0x56116f(0x746)][_0x56fbda]=void 0x0;}catch{}try{this[_0x56116f(0x26d)](_0x56fbda);}finally{this[_0x56116f(0x5bb)][_0x56116f(0x494)](_0x56116f(0x5ac)+_0x56fbda+_0x56116f(0x163));}});}},Ut=class extends D{[a0_0x4511c4(0xd7)](_0x1be89b){return Ks(_0x1be89b);}async[a0_0x4511c4(0x71b)](_0x116100){const _0x2dfd0c=a0_0x4511c4;if(_0x116100[_0x2dfd0c(0x16d)]!==0x0)try{return{'insertCount':(await this[_0x2dfd0c(0xd7)](_0x116100[0x0][_0x2dfd0c(0xf0)])[_0x2dfd0c(0x30e)]([..._0x116100]))[_0x2dfd0c(0x16d)]};}catch(_0x4071ab){return _0x4071ab;}}async[a0_0x4511c4(0x5af)](_0xfcb4b,_0x2ec806){const _0x1ffd0e=a0_0x4511c4;try{let _0x7533b=this[_0x1ffd0e(0xd7)](_0x2ec806),_0x30cfea=A(_0xfcb4b[_0x1ffd0e(0x29b)]);return await _0x7533b[_0x1ffd0e(0x5af)](_0x30cfea)[_0x1ffd0e(0x56a)]({'lastmsg':-0x1})[_0x1ffd0e(0x706)](_0xfcb4b?.['limit']??0x0)[_0x1ffd0e(0xb3)]();}catch{return[];}}async[a0_0x4511c4(0xae)](_0x2fbe7d,_0x2e51be){const _0x4e43b3=a0_0x4511c4;try{return await this[_0x4e43b3(0xd7)](_0x2e51be)[_0x4e43b3(0x410)]({..._0x2fbe7d[_0x4e43b3(0x29b)]}),[];}catch(_0x4e477f){return{'error':_0x4e477f?.[_0x4e43b3(0x2eb)]()};}}async['findOne'](_0x408015,_0xfb1c5a){const _0x3191d1=a0_0x4511c4;try{let _0x2c2254=this[_0x3191d1(0xd7)](_0xfb1c5a),_0x43730c=A(_0x408015[_0x3191d1(0x29b)]);return await _0x2c2254[_0x3191d1(0x19a)](_0x43730c)[_0x3191d1(0xb3)]();}catch{return null;}}async['updateOne'](_0x310cf1,_0x544893,_0x3df110,_0x3dd425,_0x9723d8='$set'){const _0x58dac3=a0_0x4511c4;try{let _0x5158b8={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3dd425},_0x58cc74=this['getChatModelForOwner'](_0x3df110),_0x2ef0fb=A(_0x310cf1['where']);Object[_0x58dac3(0x41a)](_0x544893)['forEach'](_0x28b539=>{_0x544893[_0x28b539]==null&&delete _0x544893[_0x28b539];});let _0x593cb9={};return _0x593cb9[_0x9723d8]=_0x544893,await _0x58cc74[_0x58dac3(0x48c)](_0x2ef0fb,_0x593cb9,_0x5158b8);}catch(_0x4b121b){return console['error'](_0x4b121b),null;}}async['updateMany'](_0x2af980){const _0x52b594=a0_0x4511c4;try{let _0x41074e=this[_0x52b594(0xd7)](_0x2af980[0x0][_0x52b594(0x728)]['where']['owner']),_0xdad359=_0x2af980['map'](_0x3f5c11=>({'updateOne':{'filter':{..._0x3f5c11[_0x52b594(0x728)][_0x52b594(0x29b)]},'update':{'$set':_0x3f5c11[_0x52b594(0xd1)]},'upsert':!0x0}})),_0x564419=await _0x41074e[_0x52b594(0x608)](_0xdad359);return _0x564419[_0x52b594(0x6e2)]+_0x564419[_0x52b594(0x3d5)];}catch(_0x51dd87){return console['error'](_0x51dd87),0x0;}}async[a0_0x4511c4(0x6ca)](_0x412388){const _0xef663=a0_0x4511c4;try{let _0x1b6639=this[_0xef663(0xd7)](_0x412388),_0xb8b22c={'labels':{'$exists':!0x0}},_0x1b2655={'$unset':{'labels':''}};return(await _0x1b6639[_0xef663(0x3bd)](_0xb8b22c,_0x1b2655))['modifiedCount'];}catch(_0x24f3f1){return console[_0xef663(0xcd)](_0x24f3f1),0x0;}}async['updateMissingEtiquetas'](_0x1bf2fa){const _0x12a853=a0_0x4511c4;try{let _0x31bf62=this[_0x12a853(0xd7)](_0x1bf2fa),_0x554314={'leadInfo.etiquetas':{'$exists':!0x1}},_0x49b695={'$set':{'leadInfo.etiquetas':[]}};return(await _0x31bf62[_0x12a853(0x3bd)](_0x554314,_0x49b695))[_0x12a853(0x6e2)];}catch(_0x58e53d){return console[_0x12a853(0xcd)](_0x58e53d),0x0;}}async[a0_0x4511c4(0x6e3)](_0x1cf9a4){const _0x8981fc=a0_0x4511c4;try{let _0x571ddc=this[_0x8981fc(0xd7)](_0x1cf9a4),_0x243780={'leadInfo.tags':{'$exists':!0x1}},_0x28caab={'$set':{'leadInfo.tags':[]}};return(await _0x571ddc[_0x8981fc(0x3bd)](_0x243780,_0x28caab))[_0x8981fc(0x6e2)];}catch(_0x4cf703){return console[_0x8981fc(0xcd)](_0x4cf703),0x0;}}async['updateMissingCustomFields'](_0x4f3081){const _0xbfc8c1=a0_0x4511c4;try{let _0xb8e386=this['getChatModelForOwner'](_0x4f3081),_0x33dbe8={'leadInfo.customFields':{'$exists':!0x1}},_0x59228b={'$set':{'leadInfo.customFields':[]}};return(await _0xb8e386['updateMany'](_0x33dbe8,_0x59228b))[_0xbfc8c1(0x6e2)];}catch(_0x3bfa69){return console[_0xbfc8c1(0xcd)](_0x3bfa69),0x0;}}async[a0_0x4511c4(0x30e)](_0x24ad27,_0x29971e){const _0x226552=a0_0x4511c4;if(!Array[_0x226552(0x173)](_0x24ad27)||_0x24ad27[_0x226552(0x16d)]===0x0)throw new Error(_0x226552(0x28b));try{return(await this[_0x226552(0xd7)](_0x29971e)['insertMany'](_0x24ad27))[_0x226552(0x16d)];}catch(_0x3ca24f){throw console['error'](_0x226552(0x4de),_0x3ca24f),_0x3ca24f;}}async[a0_0x4511c4(0x3c1)](_0x22dd37,_0x1de96a){const _0x4d0a19=a0_0x4511c4;try{await this[_0x4d0a19(0xd7)](_0x1de96a)['deleteOne']({'_id':_0x22dd37});}catch(_0x275ae7){throw console['error']('Erro\x20ao\x20deletar\x20chat:',_0x275ae7),_0x275ae7;}}},qt=class extends D{constructor(_0x49b746,_0x27cf3d,_0x56f9b9){const _0x45fbfb=a0_0x4511c4;super(_0x27cf3d),this['cacheContactModel']=_0x49b746,this[_0x45fbfb(0x626)]=_0x27cf3d,this[_0x45fbfb(0x404)]=_0x56f9b9;}async[a0_0x4511c4(0x71b)](_0x23720d){const _0x52cc26=a0_0x4511c4;if(_0x23720d[_0x52cc26(0x16d)]!==0x0)try{return{'insertCount':(await this[_0x52cc26(0x1ed)][_0x52cc26(0x30e)]([..._0x23720d]))[_0x52cc26(0x16d)]};}catch(_0x34bd14){return _0x34bd14;}}async['update'](_0x180fe7,_0xcd23dd){const _0x10adf5=a0_0x4511c4;try{let _0x49ba61=A(_0x180fe7[_0x10adf5(0x29b)]);return{'updatedCount':(await this[_0x10adf5(0x1ed)][_0x10adf5(0x3bd)](_0x49ba61,{'$set':_0xcd23dd}))[_0x10adf5(0x6e2)]};}catch(_0x383e35){return console['error'](_0x10adf5(0x618),_0x383e35),{'error':_0x383e35[_0x10adf5(0x2eb)]()};}}async['findManyByIds'](_0x1afcf4){const _0x1eef63=a0_0x4511c4;try{let _0x1105a5={'_id':{'$in':_0x1afcf4}};return await this[_0x1eef63(0x1ed)][_0x1eef63(0x5af)](_0x1105a5)[_0x1eef63(0xb3)]();}catch(_0x32a06b){return console[_0x1eef63(0xcd)]('Error\x20finding\x20many\x20contacts:',_0x32a06b),[];}}async[a0_0x4511c4(0x44d)](_0xe0498a){const _0x12d27c=a0_0x4511c4;try{return{'deletedCount':(await this[_0x12d27c(0x1ed)]['deleteMany']({..._0xe0498a[_0x12d27c(0x29b)]}))['deletedCount']};}catch(_0x2e73c0){return{'error':_0x2e73c0?.['toString']()};}}async['find'](_0xdc1dc7){const _0xebf02c=a0_0x4511c4;try{let _0x4a390c=A(_0xdc1dc7['where']);return await this[_0xebf02c(0x1ed)][_0xebf02c(0x5af)](_0x4a390c)[_0xebf02c(0x706)](_0xdc1dc7?.[_0xebf02c(0x706)]??0x0)[_0xebf02c(0xb3)]();}catch{return[];}}async[a0_0x4511c4(0x19a)](_0xf9a134){const _0x3dc3b3=a0_0x4511c4;try{let _0x2f4ff1=A(_0xf9a134[_0x3dc3b3(0x29b)]);return await this['cacheContactModel'][_0x3dc3b3(0x19a)](_0x2f4ff1)[_0x3dc3b3(0xb3)]();}catch{return null;}}},Jt=class extends D{['getLabelModelForOwner'](_0x36f633){return Ca(_0x36f633);}async[a0_0x4511c4(0x34e)](_0x32e6c3,_0x5605ad,_0x2df667,_0x24caee){const _0x1586fe=a0_0x4511c4;try{let _0xdf0100={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x24caee},_0x1a5d0a=this['getLabelModelForOwner'](_0x2df667),_0x2e1ef0=A(_0x32e6c3['where']);return await _0x1a5d0a[_0x1586fe(0x48c)](_0x2e1ef0,{'$set':_0x5605ad},_0xdf0100);}catch(_0xb615c){return console['error'](_0xb615c),null;}}async[a0_0x4511c4(0x5af)](_0x55e9b8,_0x382357){const _0x46a4bb=a0_0x4511c4;try{let _0x400267=this['getLabelModelForOwner'](_0x382357),_0x36e51f=A(_0x55e9b8['where']);return await _0x400267['find'](_0x36e51f);}catch(_0x15ea20){console[_0x46a4bb(0xcd)](_0x15ea20);}}async[a0_0x4511c4(0x44d)](_0x11ce3a,_0x50c839){const _0x4cf395=a0_0x4511c4;try{let _0x403927=this[_0x4cf395(0x42e)](_0x50c839),_0x2d9601=A(_0x11ce3a[_0x4cf395(0x29b)]);await _0x403927[_0x4cf395(0x410)](_0x2d9601);}catch(_0x36f3df){console[_0x4cf395(0xcd)](_0x36f3df);}}async[a0_0x4511c4(0xae)](_0xb22a5c){const _0x3aba3e=a0_0x4511c4;try{return await this['getLabelModelForOwner'](_0xb22a5c)['collection'][_0x3aba3e(0x5ec)](),{'success':!0x0};}catch(_0x361a74){return console[_0x3aba3e(0xcd)](_0x361a74),{'success':!0x1,'error':_0x361a74};}}},Vt=class{constructor(_0x282d18){const _0x1340bc=a0_0x4511c4;this[_0x1340bc(0xfa)]=_0x282d18;}async['editChat']({instanceName:_0x1f5674},_0x1f8095){const _0x34f3d1=a0_0x4511c4;return await this[_0x34f3d1(0xfa)][_0x34f3d1(0x746)][_0x1f5674]['editChat'](_0x1f8095);}async[a0_0x4511c4(0x699)]({instanceName:_0x4ed2ec},_0x2a65f9){const _0xe87a36=a0_0x4511c4;return await this['waMonitor'][_0xe87a36(0x746)][_0x4ed2ec]['whatsappNumber'](_0x2a65f9);}async[a0_0x4511c4(0x57a)]({instanceName:_0x240023},_0x8667ad){const _0x4f6e7d=a0_0x4511c4;return await this['waMonitor'][_0x4f6e7d(0x746)][_0x240023][_0x4f6e7d(0x57a)](_0x8667ad);}async[a0_0x4511c4(0x439)]({instanceName:_0x2111b1},_0x8be0d5){const _0x335f21=a0_0x4511c4;return await this[_0x335f21(0xfa)][_0x335f21(0x746)][_0x2111b1][_0x335f21(0x73e)](_0x8be0d5);}async[a0_0x4511c4(0x19b)]({instanceName:_0x481449},_0x4e3a09){const _0x12b928=a0_0x4511c4;return await this[_0x12b928(0xfa)][_0x12b928(0x746)][_0x481449][_0x12b928(0x19b)](_0x4e3a09);}async[a0_0x4511c4(0x219)]({instanceName:_0x2b86ae},_0x5377d7){const _0x408dd3=a0_0x4511c4;return await this[_0x408dd3(0xfa)][_0x408dd3(0x746)][_0x2b86ae][_0x408dd3(0x219)](_0x5377d7);}async[a0_0x4511c4(0x5cc)]({instanceName:_0x23b156},_0x26f166){const _0x8816fc=a0_0x4511c4;return await this[_0x8816fc(0xfa)][_0x8816fc(0x746)][_0x23b156][_0x8816fc(0x4cc)](_0x26f166[_0x8816fc(0x3f8)]);}async[a0_0x4511c4(0x753)]({instanceName:_0x140bfe},_0x3af778){const _0x471e7e=a0_0x4511c4;return await this['waMonitor']['waInstances'][_0x140bfe][_0x471e7e(0x753)](_0x3af778[_0x471e7e(0x3f8)]);}async[a0_0x4511c4(0x24e)]({instanceName:_0x56aef9},_0x4929b3){const _0xe4d95f=a0_0x4511c4;return await this['waMonitor']['waInstances'][_0x56aef9][_0xe4d95f(0x24e)](_0x4929b3);}async[a0_0x4511c4(0x63f)]({instanceName:_0x25fea5},_0x34fb29){const _0x305f1f=a0_0x4511c4;return await this[_0x305f1f(0xfa)][_0x305f1f(0x746)][_0x25fea5][_0x305f1f(0x63f)](_0x34fb29);}async[a0_0x4511c4(0x427)]({instanceName:_0x285dec},_0x4fd11e){const _0x1a39d4=a0_0x4511c4;return await this['waMonitor'][_0x1a39d4(0x746)][_0x285dec]['getBase64FromMediaMessage'](_0x4fd11e);}async[a0_0x4511c4(0x645)]({instanceName:_0x1be368},_0x5c9749){const _0x540cd4=a0_0x4511c4;return await this[_0x540cd4(0xfa)][_0x540cd4(0x746)][_0x1be368][_0x540cd4(0x645)](_0x5c9749);}async[a0_0x4511c4(0x194)]({instanceName:_0x3acbe5}){const _0x36aa41=a0_0x4511c4;return await this[_0x36aa41(0xfa)][_0x36aa41(0x746)][_0x3acbe5][_0x36aa41(0x194)]();}async[a0_0x4511c4(0x5d6)]({instanceName:_0x4543ba}){const _0x1c91fa=a0_0x4511c4;return await this[_0x1c91fa(0xfa)][_0x1c91fa(0x746)][_0x4543ba][_0x1c91fa(0x5d6)]();}async['fetchPrivacySettings']({instanceName:_0x5b5b49}){const _0x3443de=a0_0x4511c4;return await this[_0x3443de(0xfa)][_0x3443de(0x746)][_0x5b5b49][_0x3443de(0x2f7)]();}async['updatePrivacySettings']({instanceName:_0xe64ab4},_0x163258){const _0x52ab9c=a0_0x4511c4;return await this[_0x52ab9c(0xfa)][_0x52ab9c(0x746)][_0xe64ab4][_0x52ab9c(0x523)](_0x163258);}async[a0_0x4511c4(0x41e)]({instanceName:_0x2575d8},_0x3f2fb8){const _0x8f9ff6=a0_0x4511c4;return await this[_0x8f9ff6(0xfa)][_0x8f9ff6(0x746)][_0x2575d8][_0x8f9ff6(0x41e)](_0x3f2fb8[_0x8f9ff6(0x3f8)]);}async['updateProfileName']({instanceName:_0x247cb5},_0x4daf05){const _0x22f195=a0_0x4511c4;return await this[_0x22f195(0xfa)][_0x22f195(0x746)][_0x247cb5]['updateProfileName'](_0x4daf05[_0x22f195(0x665)]);}async[a0_0x4511c4(0x346)]({instanceName:_0x4f7582},_0x22d255){const _0x3c2c38=a0_0x4511c4;return await this['waMonitor']['waInstances'][_0x4f7582][_0x3c2c38(0x346)](_0x22d255['status']);}async[a0_0x4511c4(0x59f)]({instanceName:_0xa48727},_0x27b8b5){const _0x16bf0b=a0_0x4511c4;return await this['waMonitor'][_0x16bf0b(0x746)][_0xa48727]['updateProfilePicture'](_0x27b8b5[_0x16bf0b(0x275)]);}async[a0_0x4511c4(0x425)]({instanceName:_0x2bf373},_0x29d343){const _0xe4ef41=a0_0x4511c4;return await this[_0xe4ef41(0xfa)]['waInstances'][_0x2bf373][_0xe4ef41(0x425)]();}},_s=require(a0_0x4511c4(0x119)),Bt=class c{constructor(_0x38ea7b,_0x19955e,_0x3b9b68,_0x2a6185,_0x357dea){const _0x4217b5=a0_0x4511c4;this[_0x4217b5(0xfa)]=_0x38ea7b,this[_0x4217b5(0x626)]=_0x19955e,this[_0x4217b5(0x368)]=_0x3b9b68,this['eventEmitter']=_0x2a6185,this[_0x4217b5(0x2f6)]=_0x357dea,this['logger']=new v(c[_0x4217b5(0x665)]);}async[a0_0x4511c4(0x569)]({instanceName:_0x42c062,apikey:_0x24c8a1,number:_0x392d25,proxy:_0x41a799=!0x0}){const _0x2bcb51=a0_0x4511c4;try{let _0x18b168=new be(this[_0x2bcb51(0x626)],this['eventEmitter'],this['repository']);_0x18b168[_0x2bcb51(0x708)]=_0x42c062,this[_0x2bcb51(0xfa)][_0x2bcb51(0x746)][_0x18b168[_0x2bcb51(0x708)]]=_0x18b168;let _0x25ff01={};_0x24c8a1?(await this['repository'][_0x2bcb51(0x750)]['create']({'apikey':_0x24c8a1},_0x42c062),_0x25ff01[_0x2bcb51(0x33c)]=_0x24c8a1):_0x25ff01=await this[_0x2bcb51(0x2f6)][_0x2bcb51(0xc1)]({'instanceName':_0x18b168[_0x2bcb51(0x708)]});let _0x2ce661;return await _0x18b168['connectToWhatsapp'](_0x392d25),await(0x0,_s[_0x2bcb51(0xc8)])(0x7d0),_0x2ce661=_0x18b168[_0x2bcb51(0x40a)],{'instance':{'instanceName':_0x18b168[_0x2bcb51(0x708)],'status':'created'},'hash':_0x25ff01,'qrcode':_0x2ce661};}catch(_0x340996){this['logger']['error'](_0x340996);}}async[a0_0x4511c4(0x12a)]({instanceName:_0x21520b,number:_0xb8bdc6=null}){const _0x102c36=a0_0x4511c4;try{let _0x41446c=this['waMonitor'][_0x102c36(0x746)][_0x21520b];switch(_0x41446c?.[_0x102c36(0x178)]?.['state']){case _0x102c36(0x5b5):return await _0x41446c['connectToWhatsapp'](_0xb8bdc6),await(0x0,_s[_0x102c36(0xc8)])(0x7d0),_0x41446c[_0x102c36(0x40a)];case'connecting':return _0x41446c[_0x102c36(0x40a)];default:return await this[_0x102c36(0x201)]({'instanceName':_0x21520b});}}catch(_0x1df3cf){this['logger'][_0x102c36(0x5db)](_0x1df3cf);}}async[a0_0x4511c4(0x201)]({instanceName:_0x5eb496}){const _0x265c8c=a0_0x4511c4;let _0x208c18=this['waMonitor'][_0x265c8c(0x746)][_0x5eb496][_0x265c8c(0x178)],_0x3db00f=null;_0x208c18['state']===_0x265c8c(0x37a)&&_0x5eb496&&(_0x3db00f=await this[_0x265c8c(0xfa)]['instanceInfo'](_0x5eb496));let _0xb9b04a=null;return _0x208c18[_0x265c8c(0x6f8)]===_0x265c8c(0x691)&&_0x5eb496&&(_0xb9b04a=this[_0x265c8c(0xfa)][_0x265c8c(0x746)][_0x5eb496][_0x265c8c(0x40a)]),{'instance':_0x5eb496,'connectionStatus':_0x208c18,'instanceInfo':_0x3db00f,'qrcode':_0xb9b04a};}async[a0_0x4511c4(0x1f4)]({instanceName:_0x237980}){const _0x41724e=a0_0x4511c4;try{return this[_0x41724e(0xfa)][_0x41724e(0x746)][_0x237980]?.[_0x41724e(0x20b)]?.['ws']?.[_0x41724e(0x5b5)](),{'status':_0x41724e(0x370),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0xb15ef2){this[_0x41724e(0x5bb)][_0x41724e(0xcd)](_0xb15ef2);}}async[a0_0x4511c4(0x443)]({instanceName:_0x4d41c7}){const _0x368d8a=a0_0x4511c4;return _0x4d41c7?this[_0x368d8a(0xfa)][_0x368d8a(0x127)](_0x4d41c7):this['waMonitor'][_0x368d8a(0x127)]();}async[a0_0x4511c4(0x581)]({instanceName:_0x28c265}){const _0x253044=a0_0x4511c4;try{return await this[_0x253044(0xfa)][_0x253044(0x746)][_0x28c265]?.[_0x253044(0x20b)]?.[_0x253044(0x581)]('Log\x20out\x20instance:\x20'+_0x28c265),{'error':!0x1,'message':_0x253044(0x1bb)};}catch(_0x185f23){throw new x(_0x185f23[_0x253044(0x2eb)]());}}async['deleteInstance']({instanceName:_0xbc3f10}){const _0x45175a=a0_0x4511c4;if((await this['connectionState']({'instanceName':_0xbc3f10}))['connectionStatus'][_0x45175a(0x6f8)]==='open')throw new w([_0x45175a(0x35c),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x45175a(0xfa)][_0x45175a(0x746)][_0xbc3f10],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x66f9bd){throw new w(_0x66f9bd[_0x45175a(0x2eb)]());}}},ee=require(a0_0x4511c4(0x145)),Gt=class{constructor(_0x2eb88d){this['waMonitor']=_0x2eb88d;}async[a0_0x4511c4(0x479)]({instanceName:_0x1fe09f},_0xf02c7f){const _0x45e2db=a0_0x4511c4;return await this[_0x45e2db(0xfa)][_0x45e2db(0x746)][_0x1fe09f][_0x45e2db(0x171)](_0xf02c7f);}async[a0_0x4511c4(0x6b5)]({instanceName:_0x16ba78},_0x94b057){const _0x43155f=a0_0x4511c4;return await this[_0x43155f(0xfa)]['waInstances'][_0x16ba78]['menuMessage'](_0x94b057);}async[a0_0x4511c4(0x692)]({instanceName:_0x20845a},_0x59ce88){const _0x33ad4b=a0_0x4511c4;if((0x0,ee[_0x33ad4b(0x727)])(_0x59ce88?.[_0x33ad4b(0x254)]?.[_0x33ad4b(0x6c0)])&&!_0x59ce88?.['mediaMessage']?.[_0x33ad4b(0x2ad)])throw new w(_0x33ad4b(0x10d));if((0x0,ee['isURL'])(_0x59ce88?.[_0x33ad4b(0x254)]?.[_0x33ad4b(0x6c0)])||(0x0,ee[_0x33ad4b(0x727)])(_0x59ce88?.[_0x33ad4b(0x254)]?.['media']))return await this['waMonitor'][_0x33ad4b(0x746)][_0x20845a][_0x33ad4b(0x254)](_0x59ce88);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x4511c4(0x4bc)]({instanceName:_0x20c58e},_0x4e1876){const _0x3a7d74=a0_0x4511c4;if((0x0,ee[_0x3a7d74(0x539)])(_0x4e1876[_0x3a7d74(0xca)][_0x3a7d74(0x562)])||(0x0,ee[_0x3a7d74(0x727)])(_0x4e1876[_0x3a7d74(0xca)][_0x3a7d74(0x562)]))return await this[_0x3a7d74(0xfa)][_0x3a7d74(0x746)][_0x20c58e][_0x3a7d74(0x29d)](_0x4e1876);throw new w(_0x3a7d74(0x4eb));}async[a0_0x4511c4(0x4ee)]({instanceName:_0x351739},_0x5d7a0b){const _0x120ccc=a0_0x4511c4;if((0x0,ee[_0x120ccc(0x539)])(_0x5d7a0b['audioMessage']['audio'])||(0x0,ee[_0x120ccc(0x727)])(_0x5d7a0b['audioMessage'][_0x120ccc(0x317)]))return await this[_0x120ccc(0xfa)][_0x120ccc(0x746)][_0x351739]['audioWhatsapp'](_0x5d7a0b);throw new w(_0x120ccc(0x4eb));}async['sendButtons']({instanceName:_0x5ba8d0},_0x31c956){const _0x31c6ef=a0_0x4511c4;if((0x0,ee[_0x31c6ef(0x727)])(_0x31c956[_0x31c6ef(0x31c)][_0x31c6ef(0x254)]?.[_0x31c6ef(0x6c0)])&&!_0x31c956[_0x31c6ef(0x31c)][_0x31c6ef(0x254)]?.[_0x31c6ef(0x2ad)])throw new w(_0x31c6ef(0x10d));return await this[_0x31c6ef(0xfa)][_0x31c6ef(0x746)][_0x5ba8d0][_0x31c6ef(0x31c)](_0x31c956);}async[a0_0x4511c4(0x74d)]({instanceName:_0x2821fa},_0x4b43c7){const _0xa96159=a0_0x4511c4;return await this[_0xa96159(0xfa)][_0xa96159(0x746)][_0x2821fa][_0xa96159(0x6ec)](_0x4b43c7);}async[a0_0x4511c4(0x409)]({instanceName:_0x41db99},_0x45d19c){return await this['waMonitor']['waInstances'][_0x41db99]['pollMessage'](_0x45d19c);}async['sendList']({instanceName:_0x5e898b},_0x63fc8e){const _0x2bbab8=a0_0x4511c4;return await this['waMonitor'][_0x2bbab8(0x746)][_0x5e898b][_0x2bbab8(0x3c4)](_0x63fc8e);}async[a0_0x4511c4(0x672)]({instanceName:_0x2a52f7},_0x187510){const _0xa0ca2f=a0_0x4511c4;return await this['waMonitor'][_0xa0ca2f(0x746)][_0x2a52f7][_0xa0ca2f(0x1e1)](_0x187510);}async['sendReaction']({instanceName:_0x1eaedc},_0xd7cef2){const _0x22f907=a0_0x4511c4;if(!_0xd7cef2['reactionMessage']['reaction'][_0x22f907(0x4af)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x22f907(0xbc));return await this['waMonitor'][_0x22f907(0x746)][_0x1eaedc][_0x22f907(0x1ee)](_0xd7cef2);}async[a0_0x4511c4(0x34c)]({instanceName:_0x23932d},_0x5cd289){const _0x4f95e4=a0_0x4511c4;return await this[_0x4f95e4(0xfa)][_0x4f95e4(0x746)][_0x23932d][_0x4f95e4(0x5e3)](_0x5cd289);}},xr=require(a0_0x4511c4(0x75a)),Ps=require(a0_0x4511c4(0x6f9)),Wt=class c{constructor(_0x208819,_0x9748d,_0x41b597){const _0x39bd19=a0_0x4511c4;this[_0x39bd19(0x626)]=_0x208819,this['waMonitor']=_0x9748d,this[_0x39bd19(0x368)]=_0x41b597,this[_0x39bd19(0x5bb)]=new v(c['name']);}async[a0_0x4511c4(0x13b)](_0x4d08a1){const _0x14cfd4=a0_0x4511c4;let _0x4c02a0=this['configService']['get'](_0x14cfd4(0x2b5))[_0x14cfd4(0x292)],_0x3ae5b6=(0x0,xr[_0x14cfd4(0x2e6)])({'instanceName':_0x4d08a1[_0x14cfd4(0x708)],'apiName':Xe,'tokenId':(0x0,Ps['v4'])()},_0x4c02a0[_0x14cfd4(0x2fb)],{'expiresIn':_0x4c02a0[_0x14cfd4(0x339)],'encoding':_0x14cfd4(0x711),'subject':'g-t'}),_0x10c23a=await this['repository'][_0x14cfd4(0x750)][_0x14cfd4(0x40d)]({'jwt':_0x3ae5b6},_0x4d08a1[_0x14cfd4(0x708)]);if(_0x10c23a[_0x14cfd4(0xcd)])throw this[_0x14cfd4(0x5bb)][_0x14cfd4(0xcd)]({'localError':c[_0x14cfd4(0x665)]+_0x14cfd4(0x71e),'error':_0x10c23a[_0x14cfd4(0xcd)]}),new w('Authentication\x20error',_0x10c23a[_0x14cfd4(0xcd)]?.[_0x14cfd4(0x2eb)]());return{'jwt':_0x3ae5b6};}async['apikey'](_0x539c07){const _0x1296a1=a0_0x4511c4;let _0x1eb905=(0x0,Ps['v4'])()[_0x1296a1(0x388)](),_0x4037df=await this[_0x1296a1(0x368)]['auth']['create']({'apikey':_0x1eb905},_0x539c07[_0x1296a1(0x708)]);if(_0x4037df[_0x1296a1(0xcd)])throw this[_0x1296a1(0x5bb)][_0x1296a1(0xcd)]({'localError':c['name']+'.jwt','error':_0x4037df[_0x1296a1(0xcd)]}),new w(_0x1296a1(0x4f5),_0x4037df[_0x1296a1(0xcd)]?.[_0x1296a1(0x2eb)]());return{'apikey':_0x1eb905};}async[a0_0x4511c4(0xc1)](_0xa99faf){const _0x9ac852=a0_0x4511c4;let _0xb0a4f5=this[_0x9ac852(0x626)][_0x9ac852(0x436)](_0x9ac852(0x2b5));return await this[_0xb0a4f5[_0x9ac852(0x471)]](_0xa99faf);}},zt=class{constructor(_0x3ed1b3){const _0x5481c5=a0_0x4511c4;this[_0x5481c5(0xfa)]=_0x3ed1b3;}async[a0_0x4511c4(0x4f2)](_0x586a7f,_0x11e492){const _0x224259=a0_0x4511c4;return await this['waMonitor'][_0x224259(0x746)][_0x586a7f[_0x224259(0x708)]][_0x224259(0x4f2)](_0x11e492);}async[a0_0x4511c4(0x5ee)](_0x59912c,_0x3e18f2){const _0x173df2=a0_0x4511c4;return await this['waMonitor'][_0x173df2(0x746)][_0x59912c[_0x173df2(0x708)]]['updateGroupPicture'](_0x3e18f2);}async[a0_0x4511c4(0x5bc)](_0x1ae0f5,_0xa6c07c){const _0x21f9b2=a0_0x4511c4;return await this[_0x21f9b2(0xfa)]['waInstances'][_0x1ae0f5[_0x21f9b2(0x708)]]['groupDesc'](_0xa6c07c);}async[a0_0x4511c4(0x576)](_0x1a0010,_0x333c45){const _0x1198c2=a0_0x4511c4;return await this['waMonitor']['waInstances'][_0x1a0010[_0x1198c2(0x708)]][_0x1198c2(0x576)](_0x333c45);}async[a0_0x4511c4(0x552)](_0x56b603,_0x242aa1){const _0x3c9211=a0_0x4511c4;return await this['waMonitor'][_0x3c9211(0x746)][_0x56b603[_0x3c9211(0x708)]][_0x3c9211(0x552)](_0x242aa1);}async[a0_0x4511c4(0x6f6)](_0x3433a,_0x1e7b26){const _0x1ee884=a0_0x4511c4;return await this[_0x1ee884(0xfa)][_0x1ee884(0x746)][_0x3433a[_0x1ee884(0x708)]][_0x1ee884(0x6f6)](_0x1e7b26);}async[a0_0x4511c4(0x47e)](_0x4ac37d,_0x1ec7c2){const _0x59cf59=a0_0x4511c4;return await this[_0x59cf59(0xfa)][_0x59cf59(0x746)][_0x4ac37d[_0x59cf59(0x708)]][_0x59cf59(0x66f)](_0x1ec7c2);}async['findGroups'](_0x3db4f7){const _0xb6ab6=a0_0x4511c4;return await this['waMonitor'][_0xb6ab6(0x746)][_0x3db4f7[_0xb6ab6(0x708)]][_0xb6ab6(0x1aa)]();}async[a0_0x4511c4(0x6c7)](_0x276d8a,_0x5dc585){const _0x153c32=a0_0x4511c4;return await this[_0x153c32(0xfa)][_0x153c32(0x746)][_0x276d8a[_0x153c32(0x708)]][_0x153c32(0x6c7)](_0x5dc585);}async['joinGroup'](_0x145873,_0x4823e3){const _0x3c82f9=a0_0x4511c4;return await this['waMonitor'][_0x3c82f9(0x746)][_0x145873[_0x3c82f9(0x708)]][_0x3c82f9(0x5fe)](_0x4823e3);}async[a0_0x4511c4(0x10a)](_0x565de7,_0x4271b3){const _0xbebe6c=a0_0x4511c4;return await this[_0xbebe6c(0xfa)][_0xbebe6c(0x746)][_0x565de7['instanceName']]['groupGetInviteInfo'](_0x4271b3);}async['revokeInviteCode'](_0x14f291,_0x4b4a8a){const _0x4bcc9c=a0_0x4511c4;return await this['waMonitor'][_0x4bcc9c(0x746)][_0x14f291[_0x4bcc9c(0x708)]]['revokeInviteCode'](_0x4b4a8a);}async['findParticipants'](_0x57fb74,_0x587f1e){const _0x3fe2c1=a0_0x4511c4;return await this[_0x3fe2c1(0xfa)][_0x3fe2c1(0x746)][_0x57fb74['instanceName']][_0x3fe2c1(0x4b1)](_0x587f1e);}async['updateGParticipate'](_0x5f2347,_0x186ead){const _0x3ea5c5=a0_0x4511c4;return await this[_0x3ea5c5(0xfa)][_0x3ea5c5(0x746)][_0x5f2347['instanceName']]['updateGParticipant'](_0x186ead);}async[a0_0x4511c4(0x174)](_0x812e27,_0x4e7fd1){const _0x4714c7=a0_0x4511c4;return await this[_0x4714c7(0xfa)]['waInstances'][_0x812e27[_0x4714c7(0x708)]][_0x4714c7(0x174)](_0x4e7fd1);}async[a0_0x4511c4(0x29e)](_0x34ce7f,_0x3094eb){const _0x23a95f=a0_0x4511c4;return await this['waMonitor'][_0x23a95f(0x746)][_0x34ce7f['instanceName']][_0x23a95f(0x29e)](_0x3094eb);}},Ht=class{constructor(_0x15a663){const _0x8837b3=a0_0x4511c4;this[_0x8837b3(0xfa)]=_0x15a663;}[a0_0x4511c4(0x40d)](_0x352b87,_0x39c3f6){const _0x43de9f=a0_0x4511c4;return this[_0x43de9f(0xfa)][_0x43de9f(0x746)][_0x352b87[_0x43de9f(0x708)]][_0x43de9f(0x551)](_0x39c3f6);}async[a0_0x4511c4(0x5af)](_0x2f5c10){const _0x1bbf9c=a0_0x4511c4;try{return await this[_0x1bbf9c(0xfa)][_0x1bbf9c(0x746)][_0x2f5c10[_0x1bbf9c(0x708)]][_0x1bbf9c(0x59b)]();}catch{return{'enabled':null,'url':''};}}},fp=new v('FlowController'),Kt=class{constructor(_0x9f51c6){this['waMonitor']=_0x9f51c6;}async[a0_0x4511c4(0xd2)](_0x23c11a,_0x23b4f4){const _0x53cbaf=a0_0x4511c4;return await this[_0x53cbaf(0xfa)]['waInstances'][_0x23c11a[_0x53cbaf(0x708)]][_0x53cbaf(0xd2)](_0x23b4f4);}async[a0_0x4511c4(0x4e6)](_0x33f6cd){const _0x4129ec=a0_0x4511c4;return await this['waMonitor']['waInstances'][_0x33f6cd['instanceName']][_0x4129ec(0x4e6)]();}async['deleteDoneMessages'](_0x30a477){const _0x6914df=a0_0x4511c4;return await this[_0x6914df(0xfa)][_0x6914df(0x746)][_0x30a477[_0x6914df(0x708)]][_0x6914df(0x222)]();}async[a0_0x4511c4(0x686)](_0x144757){const _0x434bd1=a0_0x4511c4;return await this[_0x434bd1(0xfa)][_0x434bd1(0x746)][_0x144757[_0x434bd1(0x708)]][_0x434bd1(0x686)]();}async[a0_0x4511c4(0x258)](_0xce16f2,_0x24f43f){const _0x2150e6=a0_0x4511c4;return await this[_0x2150e6(0xfa)][_0x2150e6(0x746)][_0xce16f2[_0x2150e6(0x708)]][_0x2150e6(0x258)](_0x24f43f);}async[a0_0x4511c4(0x23d)](_0x806975,_0x2e06df){const _0x25b672=a0_0x4511c4;return await this[_0x25b672(0xfa)][_0x25b672(0x746)][_0x806975[_0x25b672(0x708)]][_0x25b672(0x23d)](_0x2e06df);}async[a0_0x4511c4(0x72b)](_0x14235d,_0xa71663){const _0x5380ab=a0_0x4511c4;return await this[_0x5380ab(0xfa)][_0x5380ab(0x746)][_0x14235d[_0x5380ab(0x708)]]['updateFlowConfig'](_0xa71663);}async['startFlow'](_0x3f5f3a,_0x3463ed){const _0x3e1608=a0_0x4511c4;return await this[_0x3e1608(0xfa)]['waInstances'][_0x3f5f3a[_0x3e1608(0x708)]][_0x3e1608(0x10f)](_0x3463ed);}async[a0_0x4511c4(0x515)](_0x5a3c02,_0x5c6526){const _0x169e82=a0_0x4511c4;return await this[_0x169e82(0xfa)][_0x169e82(0x746)][_0x5a3c02[_0x169e82(0x708)]][_0x169e82(0x515)](_0x5c6526);}async[a0_0x4511c4(0x1b0)](_0x135a71,_0x3ddb6b){const _0x39ce36=a0_0x4511c4;return await this[_0x39ce36(0xfa)][_0x39ce36(0x746)][_0x135a71[_0x39ce36(0x708)]][_0x39ce36(0x1b0)](_0x3ddb6b);}async[a0_0x4511c4(0x67d)](_0x5e26a7,_0x563dd9){const _0x2f37b9=a0_0x4511c4;return await this[_0x2f37b9(0xfa)]['waInstances'][_0x5e26a7[_0x2f37b9(0x708)]]['editConversation'](_0x563dd9);}async[a0_0x4511c4(0x5c2)](_0x9e63c3,_0x193a73){const _0x47690b=a0_0x4511c4;return await this[_0x47690b(0xfa)][_0x47690b(0x746)][_0x9e63c3[_0x47690b(0x708)]][_0x47690b(0x5c2)](_0x193a73);}async[a0_0x4511c4(0x5e8)](_0x2a8ef,_0x5272be){const _0x483fa4=a0_0x4511c4;return await this['waMonitor'][_0x483fa4(0x746)][_0x2a8ef['instanceName']]['getFlow'](_0x5272be[_0x483fa4(0x665)]);}async[a0_0x4511c4(0x69e)](_0x924596,_0x182541){const _0x35483b=a0_0x4511c4;return await this['waMonitor'][_0x35483b(0x746)][_0x924596[_0x35483b(0x708)]]['createFlow'](_0x182541);}async[a0_0x4511c4(0x69c)](_0x262ef8,_0x3d032f){const _0x190180=a0_0x4511c4;return await this[_0x190180(0xfa)]['waInstances'][_0x262ef8[_0x190180(0x708)]][_0x190180(0x69c)](_0x3d032f);}async[a0_0x4511c4(0x34a)](_0x1fb853,_0x4673c3){const _0xa89da=a0_0x4511c4;return await this[_0xa89da(0xfa)][_0xa89da(0x746)][_0x1fb853['instanceName']]['editFlowBlock'](_0x4673c3);}async[a0_0x4511c4(0x4fc)](_0x2b4581,_0x5153e0){const _0x1ca841=a0_0x4511c4;return await this['waMonitor'][_0x1ca841(0x746)][_0x2b4581['instanceName']][_0x1ca841(0x4fc)](_0x5153e0);}async[a0_0x4511c4(0x29a)](_0x1767a9,_0x4a739b){const _0x4f346d=a0_0x4511c4;return await this['waMonitor'][_0x4f346d(0x746)][_0x1767a9['instanceName']][_0x4f346d(0x29a)](_0x4a739b);}async['editFlowCondition'](_0x219cff,_0x4ce3d6){const _0x5c7370=a0_0x4511c4;return await this[_0x5c7370(0xfa)][_0x5c7370(0x746)][_0x219cff[_0x5c7370(0x708)]][_0x5c7370(0x623)](_0x4ce3d6);}async[a0_0x4511c4(0x603)](_0x236e56,_0x1ce889){const _0xd074e7=a0_0x4511c4;return await this['waMonitor'][_0xd074e7(0x746)][_0x236e56[_0xd074e7(0x708)]][_0xd074e7(0x603)](_0x1ce889);}async[a0_0x4511c4(0x2d5)](_0x2d9020,_0x4f3446){const _0x2c1f24=a0_0x4511c4;return await this['waMonitor'][_0x2c1f24(0x746)][_0x2d9020['instanceName']]['editFlowVariable'](_0x4f3446);}async[a0_0x4511c4(0x491)](_0x2c7eaa,_0x180089){const _0x5ae56b=a0_0x4511c4;return await this[_0x5ae56b(0xfa)][_0x5ae56b(0x746)][_0x2c7eaa['instanceName']]['deleteFlow'](_0x180089[_0x5ae56b(0x665)]);}async[a0_0x4511c4(0x123)](_0x24b072){const _0x215b6e=a0_0x4511c4;return await this[_0x215b6e(0xfa)][_0x215b6e(0x746)][_0x24b072[_0x215b6e(0x708)]][_0x215b6e(0x123)]();}},Qt=class{constructor(_0x16b336){const _0x55de0e=a0_0x4511c4;this[_0x55de0e(0x584)]=_0x16b336;}async[a0_0x4511c4(0x155)](_0xc432ce,_0x9f275c){const _0x390949=a0_0x4511c4;return this[_0x390949(0x584)][_0x390949(0x40d)](_0xc432ce,_0x9f275c);}async['findWebhook'](_0x350961){const _0x1284a0=a0_0x4511c4;return this[_0x1284a0(0x584)]['find'](_0x350961);}},Yt=class extends D{constructor(_0x29bf09,_0x4b8a9b){const _0x57f3b9=a0_0x4511c4;super(_0x4b8a9b),this[_0x57f3b9(0x744)]=_0x29bf09,this[_0x57f3b9(0x626)]=_0x4b8a9b;}async[a0_0x4511c4(0x40d)](_0x2f3f6e,_0x26066c){const _0x49f163=a0_0x4511c4;try{return this[_0x49f163(0x15d)][_0x49f163(0x2b7)]?{'insertCount':(await this[_0x49f163(0x744)][_0x49f163(0x6ce)]({'_id':_0x26066c},{..._0x2f3f6e},{'upsert':!0x0}))[_0x49f163(0x6e2)]}:{'insertCount':0x1};}catch(_0x28bd5a){return _0x28bd5a;}}async[a0_0x4511c4(0x44d)](_0x5251d9){const _0x5a18d0=a0_0x4511c4;try{if(this[_0x5a18d0(0x15d)][_0x5a18d0(0x2b7)]){await this[_0x5a18d0(0x744)]['deleteOne']({'_id':_0x5251d9});return;}}catch(_0x4ef867){return{'error':_0x4ef867};}}async[a0_0x4511c4(0x5af)](_0x1cabb1){const _0xa13317=a0_0x4511c4;try{if(this[_0xa13317(0x15d)][_0xa13317(0x2b7)])return await this[_0xa13317(0x744)][_0xa13317(0x19a)]({'_id':_0x1cabb1});}catch{return{};}}},Xt=class extends D{constructor(_0x430147,_0x34e334){const _0x4ee832=a0_0x4511c4;super(_0x34e334),this[_0x4ee832(0x511)]=_0x430147,this[_0x4ee832(0x626)]=_0x34e334,this[_0x4ee832(0x750)]=_0x34e334[_0x4ee832(0x436)]('AUTHENTICATION');}async[a0_0x4511c4(0x40d)](_0xd6e8ea,_0x26d190){const _0x3c2b2e=a0_0x4511c4;try{if(this[_0x3c2b2e(0x15d)][_0x3c2b2e(0x2b7)])return{'insertCount':(await this['authModel'][_0x3c2b2e(0x34e)]({'_id':_0x26d190},{'$set':{..._0xd6e8ea}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x3a6515){return{'error':_0x3a6515};}}async[a0_0x4511c4(0x5ea)](_0x528484,_0xa463c9){const _0x8753f1=a0_0x4511c4;try{if(this['dbSettings'][_0x8753f1(0x2b7)])return{'insertCount':(await this[_0x8753f1(0x511)]['updateMany'](_0x528484,{'$set':_0xa463c9},{'upsert':!0x1}))['modifiedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x5d6aa7){return{'error':_0x5d6aa7};}}async[a0_0x4511c4(0x410)](_0x477b67){const _0x1a95ba=a0_0x4511c4;try{if(this[_0x1a95ba(0x15d)][_0x1a95ba(0x2b7)])return{'insertCount':(await this[_0x1a95ba(0x511)][_0x1a95ba(0x410)](_0x477b67))[_0x1a95ba(0x61d)]};throw new Error(_0x1a95ba(0x6de));}catch(_0x529ef6){return{'error':_0x529ef6};}}async[a0_0x4511c4(0x44d)](_0x235f92){const _0x3835c9=a0_0x4511c4;try{if(this[_0x3835c9(0x15d)][_0x3835c9(0x2b7)]){await this['authModel']['deleteOne']({'_id':_0x235f92});return;}}catch(_0x1af9df){return{'error':_0x1af9df};}}async[a0_0x4511c4(0x5af)](_0x5782df){const _0x2c364d=a0_0x4511c4;try{if(this[_0x2c364d(0x15d)][_0x2c364d(0x2b7)])return await this[_0x2c364d(0x511)]['findOne']({'_id':_0x5782df});}catch{return{};}}async['findAll'](){const _0x2b6534=a0_0x4511c4;try{if(this[_0x2b6534(0x15d)]['ENABLED'])return await this[_0x2b6534(0x511)][_0x2b6534(0x5af)]();}catch{return[];}}},Zt=class extends D{['getFlowModelForOwner'](_0x27cc16){return pa(_0x27cc16);}async[a0_0x4511c4(0x2f4)](_0x5cbefb){const _0x272871=a0_0x4511c4;try{let _0x202b77=ha,_0x52ef80=this[_0x272871(0x2e5)](_0x5cbefb),_0x12fcfe=await _0x202b77[_0x272871(0x5af)]({'owner':_0x5cbefb})['lean'](),_0x643aa9=[],_0x577614=[];for(let _0x349269 of _0x12fcfe)await _0x52ef80['findById'](_0x349269[_0x272871(0x2c1)])[_0x272871(0xb3)]()||(_0x643aa9['push'](_0x349269),_0x577614[_0x272871(0x6f3)](_0x349269[_0x272871(0x2c1)]));return _0x643aa9[_0x272871(0x16d)]>0x0&&await _0x52ef80['insertMany'](_0x643aa9,{'ordered':!0x1}),{'success':!0x0};}catch(_0x38fde3){return console[_0x272871(0xcd)](_0x272871(0x70b),_0x38fde3),{'success':!0x1,'error':_0x38fde3};}}async[a0_0x4511c4(0x44d)](_0x3af321,_0x181ebc){const _0x2f15e3=a0_0x4511c4;try{let _0x18a6ef=this[_0x2f15e3(0x2e5)](_0x181ebc),_0x252beb=A(_0x3af321['where']);return{'deletedCount':(await _0x18a6ef[_0x2f15e3(0x410)](_0x252beb))[_0x2f15e3(0x61d)]};}catch(_0x4176a5){return{'error':_0x4176a5?.[_0x2f15e3(0x2eb)]()};}}async[a0_0x4511c4(0xd8)](_0xca03af,_0xe53c59){const _0x11cbd4=a0_0x4511c4;try{let _0xcc660f=this[_0x11cbd4(0x2e5)](_0xe53c59),_0x443e7e=A(_0xca03af[_0x11cbd4(0x29b)]);return{'deletedCount':(await _0xcc660f[_0x11cbd4(0xd8)](_0x443e7e))[_0x11cbd4(0x61d)]};}catch(_0x2fdb33){return{'error':_0x2fdb33?.[_0x11cbd4(0x2eb)]()};}}async[a0_0x4511c4(0x6ce)](_0x3e26c0,_0x1665ce,_0x3f5b77){const _0x29503c=a0_0x4511c4;try{let _0x5b6aea=await this[_0x29503c(0x2e5)](_0x3f5b77)[_0x29503c(0x500)](_0x3e26c0,_0x1665ce,{'overwrite':!0x0,'new':!0x0});return _0x5b6aea||(console[_0x29503c(0xcd)](_0x29503c(0x451),_0x3e26c0),null);}catch(_0x4f8dbe){return console[_0x29503c(0xcd)](_0x29503c(0xce),_0x4f8dbe),null;}}async['updateOne'](_0x3589da,_0x1dbd10,_0x2e7813){const _0x232e45=a0_0x4511c4;try{let _0x380463=await this[_0x232e45(0x2e5)](_0x2e7813)[_0x232e45(0x52d)](_0x3589da);return _0x380463?(Object['assign'](_0x380463,_0x1dbd10),await _0x380463[_0x232e45(0x36b)]()):(console[_0x232e45(0xcd)](_0x232e45(0x3d4),_0x3589da),null);}catch(_0x2b126b){return console[_0x232e45(0xcd)](_0x232e45(0xce),_0x2b126b),null;}}async[a0_0x4511c4(0x4e9)](_0x5af05e){const _0x33d3aa=a0_0x4511c4;try{let _0x4ff374=this[_0x33d3aa(0x2e5)](_0x5af05e),_0xd9b20d={'shareOwners':{'$exists':!0x1}},_0x5422a9={'$set':{'shareOwners':[]}};return(await _0x4ff374[_0x33d3aa(0x3bd)](_0xd9b20d,_0x5422a9))[_0x33d3aa(0x6e2)];}catch(_0x99fae4){return console[_0x33d3aa(0xcd)](_0x99fae4),0x0;}}async['createAndSave'](_0x43e9c2,_0x4bec80){const _0x3ae55d=a0_0x4511c4;try{let _0x31ba6e=this[_0x3ae55d(0x2e5)](_0x4bec80);return await new _0x31ba6e(_0x43e9c2)[_0x3ae55d(0x36b)]();}catch(_0x4e39f4){return console[_0x3ae55d(0xcd)](_0x3ae55d(0x441),_0x4e39f4),null;}}async['updateMany'](_0x23138a,_0x3a8649,_0x2fbe84){const _0x562bea=a0_0x4511c4;try{return{'modifiedCount':(await this[_0x562bea(0x2e5)](_0x2fbe84)[_0x562bea(0x3bd)](_0x23138a,{'$set':_0x3a8649}))[_0x562bea(0x6e2)]};}catch(_0x553284){return console['error'](_0x562bea(0x492),_0x553284),{'error':_0x553284};}}async[a0_0x4511c4(0x1d4)](_0x2bbc18,_0x58666c){const _0x3670eb=a0_0x4511c4;try{let _0x28f788=this[_0x3670eb(0x2e5)](_0x58666c),_0x187604=A(_0x2bbc18['where']);return await _0x28f788[_0x3670eb(0x5af)](_0x187604)[_0x3670eb(0x706)](_0x2bbc18?.['limit']??0x0)[_0x3670eb(0xb3)]();}catch{return[];}}async[a0_0x4511c4(0x19a)](_0x355b2b,_0x18ef38){const _0x2b1766=a0_0x4511c4;try{let _0xb2905c=this[_0x2b1766(0x2e5)](_0x18ef38),_0x1eb122=A(_0x355b2b['where']);return await _0xb2905c[_0x2b1766(0x19a)](_0x1eb122)['lean']();}catch{return null;}}async[a0_0x4511c4(0xae)](_0x4e6899){const _0x446996=a0_0x4511c4;try{return await this[_0x446996(0x2e5)](_0x4e6899)[_0x446996(0x647)][_0x446996(0x5ec)](),{'success':!0x0};}catch(_0x43a3e9){return console[_0x446996(0xcd)](_0x43a3e9),{'success':!0x1,'error':_0x43a3e9};}}},es=class extends D{[a0_0x4511c4(0xad)](_0x44caf5){return ma(_0x44caf5);}async['copyDataToNewModel'](_0x25e2c0){const _0x162df4=a0_0x4511c4;try{let _0x187633=fa,_0x13f2ba=this['getConversationModelForOwner'](_0x25e2c0),_0x13cd1b=await _0x187633[_0x162df4(0x5af)]({'owner':_0x25e2c0})[_0x162df4(0xb3)](),_0x48e318=[],_0x382166=[];for(let _0x3bada8 of _0x13cd1b)await _0x13f2ba[_0x162df4(0x52d)](_0x3bada8['_id'])[_0x162df4(0xb3)]()||(_0x48e318[_0x162df4(0x6f3)](_0x3bada8),_0x382166['push'](_0x3bada8['_id']));return _0x48e318[_0x162df4(0x16d)]>0x0&&await _0x13f2ba['insertMany'](_0x48e318,{'ordered':!0x1}),{'success':!0x0};}catch(_0x5a5ee8){return console[_0x162df4(0xcd)](_0x162df4(0x70b),_0x5a5ee8),{'success':!0x1,'error':_0x5a5ee8};}}async[a0_0x4511c4(0x71b)](_0x35ab3d){const _0x20692c=a0_0x4511c4;if(_0x35ab3d[_0x20692c(0x16d)]!==0x0)try{return{'insertCount':(await this[_0x20692c(0xad)](_0x35ab3d[0x0]['owner'])[_0x20692c(0x30e)]([..._0x35ab3d]))[_0x20692c(0x16d)]};}catch(_0x1547e4){return _0x1547e4;}}async[a0_0x4511c4(0x44d)](_0x23203a,_0x400f4a){const _0xf092b7=a0_0x4511c4;try{let _0x544ad3=this['getConversationModelForOwner'](_0x400f4a),_0x58226d=A(_0x23203a[_0xf092b7(0x29b)]);return{'deletedCount':(await _0x544ad3['deleteMany'](_0x58226d))[_0xf092b7(0x61d)]};}catch(_0xe95660){return{'error':_0xe95660?.['toString']()};}}async[a0_0x4511c4(0xd8)](_0x5a7d6c,_0x1f3b31){const _0x190b31=a0_0x4511c4;try{let _0x596da3=this[_0x190b31(0xad)](_0x1f3b31),_0x9c9423=A(_0x5a7d6c[_0x190b31(0x29b)]);return{'deletedCount':(await _0x596da3[_0x190b31(0xd8)](_0x9c9423))['deletedCount']};}catch(_0x4c5850){return{'error':_0x4c5850?.['toString']()};}}async[a0_0x4511c4(0xd1)](_0x1ba8d9,_0x22fa52){const _0x5eef7f=a0_0x4511c4;try{if(_0x1ba8d9[_0x5eef7f(0x16d)]===0x0)return;let _0x2a4987=this[_0x5eef7f(0xad)](_0x22fa52),_0x1866c1=_0x1ba8d9[_0x5eef7f(0x4dc)](_0x38aabc=>({'updateOne':{'filter':{'name':_0x38aabc[_0x5eef7f(0x665)],'owner':_0x22fa52},'update':{..._0x38aabc}}})),{modifiedCount:_0x1c0ed4}=await _0x2a4987[_0x5eef7f(0x608)](_0x1866c1);return{'insertCount':_0x1c0ed4};}catch{return;}}async[a0_0x4511c4(0x3bd)](_0x413b68,_0x10afa5,_0x377e56){const _0x3562e8=a0_0x4511c4;try{return{'modifiedCount':(await this[_0x3562e8(0xad)](_0x377e56)[_0x3562e8(0x3bd)](_0x413b68,{'$set':_0x10afa5}))['modifiedCount']};}catch(_0x3c1bb8){return console[_0x3562e8(0xcd)](_0x3562e8(0x209),_0x3c1bb8),{'error':_0x3c1bb8};}}async['updateOne'](_0x305492,_0x438566,_0x2c8a73){const _0xdc691c=a0_0x4511c4;try{return await this[_0xdc691c(0xad)](_0x2c8a73)['findOneAndUpdate']({'_id':_0x305492},{'$set':_0x438566},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x36d2b7){return console[_0xdc691c(0xcd)](_0x36d2b7),null;}}async[a0_0x4511c4(0x5af)](_0x31d9f1,_0x3d0ad1){const _0x180472=a0_0x4511c4;try{return await this[_0x180472(0xad)](_0x3d0ad1)['find'](_0x31d9f1)[_0x180472(0x56a)]({'lastInteraction':-0x1})[_0x180472(0xb3)]();}catch{return[];}}async[a0_0x4511c4(0x19a)](_0x3ce123,_0x203d23){const _0x41f29d=a0_0x4511c4;try{return await this[_0x41f29d(0xad)](_0x203d23)[_0x41f29d(0x19a)]({..._0x3ce123[_0x41f29d(0x29b)]})[_0x41f29d(0xb3)]();}catch{return null;}}async[a0_0x4511c4(0xae)](_0x49c51e){const _0x3dfa2f=a0_0x4511c4;try{return await this[_0x3dfa2f(0xad)](_0x49c51e)[_0x3dfa2f(0x647)]['drop'](),{'success':!0x0};}catch(_0x5edbf0){return console[_0x3dfa2f(0xcd)](_0x5edbf0),{'success':!0x1,'error':_0x5edbf0};}}},ts=class extends D{[a0_0x4511c4(0x58b)](_0x21d83c){return ya(_0x21d83c);}async['copyDataToNewModel'](_0x4d6bff){const _0x148fea=a0_0x4511c4;try{let _0x26b278=ba,_0x48008b=this[_0x148fea(0x58b)](_0x4d6bff),_0x1d4e6e=await _0x26b278['find']({'owner':_0x4d6bff})['lean'](),_0x1225dc=[],_0x33a00f=[];for(let _0x3dd105 of _0x1d4e6e)await _0x48008b[_0x148fea(0x52d)](_0x3dd105[_0x148fea(0x2c1)])[_0x148fea(0xb3)]()||(_0x1225dc[_0x148fea(0x6f3)](_0x3dd105),_0x33a00f[_0x148fea(0x6f3)](_0x3dd105[_0x148fea(0x2c1)]));return _0x1225dc[_0x148fea(0x16d)]>0x0&&await _0x48008b['insertMany'](_0x1225dc,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1b0333){return console['error'](_0x148fea(0x70b),_0x1b0333),{'success':!0x1,'error':_0x1b0333};}}async['createAndSave'](_0x2b6573,_0x564f66){const _0x3e11fd=a0_0x4511c4;try{let _0xe06584=this[_0x3e11fd(0x58b)](_0x564f66);return await new _0xe06584(_0x2b6573)[_0x3e11fd(0x36b)]();}catch(_0x157047){return console['error'](_0x3e11fd(0x441),_0x157047),null;}}async['deleteOne'](_0x491d6e,_0xee0e7c){const _0x16f5b3=a0_0x4511c4;try{return await this[_0x16f5b3(0x58b)](_0xee0e7c)['findByIdAndDelete'](_0x491d6e),{};}catch(_0x5c8ce9){return{'error':_0x5c8ce9?.['toString']()};}}async[a0_0x4511c4(0x34e)](_0x47e461,_0xbe4716,_0x43680f){const _0x4e5633=a0_0x4511c4;try{return await this[_0x4e5633(0x58b)](_0x43680f)[_0x4e5633(0x48c)](_0x47e461,{'$set':_0xbe4716},{'new':!0x0})[_0x4e5633(0xb3)]();}catch(_0x301680){return console[_0x4e5633(0xcd)](_0x4e5633(0x1a9),_0x301680),null;}}async['updateOneById'](_0x25d031,_0x5b3f9e,_0x3601a9){const _0x5d995a=a0_0x4511c4;try{return await this[_0x5d995a(0x58b)](_0x3601a9)[_0x5d995a(0x500)](_0x25d031,_0x5b3f9e,{'new':!0x0})[_0x5d995a(0xb3)]();}catch(_0x63d317){return console[_0x5d995a(0xcd)](_0x5d995a(0x1a9),_0x63d317),null;}}async['find'](_0x3c7bb4,_0x45ae3c){const _0x550261=a0_0x4511c4;try{return await this[_0x550261(0x58b)](_0x45ae3c)[_0x550261(0x5af)](_0x3c7bb4[_0x550261(0x29b)])[_0x550261(0x706)](_0x3c7bb4?.['limit']??0x0)[_0x550261(0x56a)]({'when':0x1})[_0x550261(0xb3)]();}catch{return[];}}async['findOne'](_0x3f4242,_0x3d07ad){const _0x28c3a1=a0_0x4511c4;try{return await this[_0x28c3a1(0x58b)](_0x3d07ad)[_0x28c3a1(0x19a)](_0x3f4242[_0x28c3a1(0x29b)])[_0x28c3a1(0x56a)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x4511c4(0x52d)](_0x4c0fb9,_0x479d8d){const _0x3364f4=a0_0x4511c4;try{return await this[_0x3364f4(0x58b)](_0x479d8d)[_0x3364f4(0x52d)](_0x4c0fb9)[_0x3364f4(0xb3)]();}catch{return null;}}async['deleteMany'](_0x2f754e,_0x4c02da){const _0x17af55=a0_0x4511c4;try{return{'deletedCount':(await this[_0x17af55(0x58b)](_0x4c02da)[_0x17af55(0x410)](_0x2f754e))[_0x17af55(0x61d)]};}catch(_0x4b7a77){return console[_0x17af55(0xcd)](_0x17af55(0x300),_0x4b7a77),{'error':_0x4b7a77};}}async[a0_0x4511c4(0xae)](_0x5d3bd9){const _0x26b19b=a0_0x4511c4;try{return await this['getScheduleMessageModelForOwner'](_0x5d3bd9)['collection'][_0x26b19b(0x5ec)](),{'success':!0x0};}catch(_0x5a96be){return console[_0x26b19b(0xcd)](_0x5a96be),{'success':!0x1,'error':_0x5a96be};}}},ss=class extends D{async[a0_0x4511c4(0xd1)](_0x18fb62,_0x1c6ead){const _0x380a17=a0_0x4511c4;try{if(this[_0x380a17(0x15d)][_0x380a17(0x2b7)]){let _0x5382ca=await Fe['findOneAndUpdate']({'_id':_0x1c6ead},{'$set':_0x18fb62},{'new':!0x0});return console[_0x380a17(0x5db)](_0x380a17(0x540),_0x5382ca),_0x5382ca;}}catch(_0x2a796d){throw console[_0x380a17(0xcd)](_0x380a17(0x2ab),_0x2a796d),_0x2a796d;}}async['findOrCreate'](_0x59230c){const _0xb3679e=a0_0x4511c4;try{let _0x898fe3=await Fe['findById'](_0x59230c);return _0x898fe3||(_0x898fe3=new Fe({'_id':_0x59230c}),await _0x898fe3[_0xb3679e(0x36b)]()),_0x898fe3;}catch(_0x48da42){return console[_0xb3679e(0xcd)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x48da42),null;}}},Ti=new v('WA\x20MODULE'),Oi=new Je(b),Ai=new Ut(b),Ii=new tt(b),xi=new qt(Zs,b),Di=new Yt(oa,b),_i=new Xt(aa,b),Pi=new Zt(b),$i=new Jt(b),ki=new es(b),Li=new ts(b),ji=new ss(b),ue=new Ue(Oi,Ai,Ii,xi,Di,_i,Pi,ki,$i,Li,ji,T?.[a0_0x4511c4(0x6b9)]()),B=new Ft(cs,b,ue),Fi=new Wt(b,B,ue),Ui=new Ht(B),Cs=new Qt(Ui),I=new Kt(B),oe=new Bt(B,b,ue,cs,Fi),G=new Gt(B),_=new Vt(B),j=new zt(B);Ti[a0_0x4511c4(0x10b)](a0_0x4511c4(0xb8));var _h=require(a0_0x4511c4(0x535)),$s=require('fs'),Dr=O(require(a0_0x4511c4(0x604))),_r=O(require(a0_0x4511c4(0x59a))),Oe=class c{static #e;static set['app'](_0x3be86d){this.#e=_0x3be86d;}static get[a0_0x4511c4(0x604)](){const _0x5c8205=a0_0x4511c4;let {FULLCHAIN:_0x200c7f,PRIVKEY:_0x3fbc31}=b['get'](_0x5c8205(0x53d));return Dr['createServer']({'cert':(0x0,$s['readFileSync'])(_0x200c7f),'key':(0x0,$s[_0x5c8205(0x606)])(_0x3fbc31)},c.#e);}static get[a0_0x4511c4(0x59a)](){const _0x3b6ac1=a0_0x4511c4;return _r[_0x3b6ac1(0x549)](c.#e);}},pe=O(require('fs')),Fr=O(require('ini')),Ae=O(require(a0_0x4511c4(0x5be))),xe=O(require(a0_0x4511c4(0x400))),De=require('child_process');function qi(){const _0x42ac3f=a0_0x4511c4;B[_0x42ac3f(0x269)]();let _0x423af6=xe[_0x42ac3f(0x1e4)][_0x42ac3f(0x3de)](__dirname,_0x42ac3f(0x60f));jr(_0x423af6);}var jr=_0x20a19c=>{const _0x3f07f6=a0_0x4511c4;let _0x28b926=pe[_0x3f07f6(0x1e4)][_0x3f07f6(0x543)](_0x20a19c),_0x5b484f=0xc*0x3c*0x3c*0x3e8,_0x81e668=0x2*0x3c*0x3c*0x3e8,_0xe074a=new Date()[_0x3f07f6(0x290)]();_0x28b926[_0x3f07f6(0x2a7)](_0x26d5f3=>{const _0x226856=_0x3f07f6;let _0x56202b=xe[_0x226856(0x1e4)][_0x226856(0x3de)](_0x20a19c,_0x26d5f3),_0x5f0ef3=pe[_0x226856(0x1e4)][_0x226856(0x14a)](_0x56202b)[_0x226856(0xb7)][_0x226856(0x290)]();_0xe074a-_0x5f0ef3>_0x5b484f&&(pe[_0x226856(0x1e4)]['unlinkSync'](_0x56202b),console[_0x226856(0x5db)](_0x226856(0x295)+_0x26d5f3));}),setTimeout(()=>jr(_0x20a19c),_0x81e668);};function Ji(){const _0x32e319=a0_0x4511c4;let _0x3a4853=new v(_0x32e319(0x1d0)),_0x15e863=(0x0,he[_0x32e319(0x1e4)])();_0x15e863['use']((0x0,Lr[_0x32e319(0x1e4)])({'origin'(_0x384fa8,_0x47458b){const _0x4d4892=_0x32e319;let {ORIGIN:_0x8d5864}=b[_0x4d4892(0x436)](_0x4d4892(0x6ff));return _0x384fa8||(_0x384fa8='*'),_0x8d5864[_0x4d4892(0x316)]('*')!==-0x1||_0x8d5864[_0x4d4892(0x316)](_0x384fa8)!==-0x1?_0x47458b(null,!0x0):_0x47458b(new Error(_0x4d4892(0x6ab)));},'methods':[...b[_0x32e319(0x436)](_0x32e319(0x6ff))[_0x32e319(0x57c)]],'credentials':b[_0x32e319(0x436)](_0x32e319(0x6ff))[_0x32e319(0x662)]}),(0x0,he[_0x32e319(0x341)])({'extended':!0x0,'limit':'50mb'}),(0x0,he[_0x32e319(0x5cd)])({'limit':_0x32e319(0x617)})),_0x15e863[_0x32e319(0x3cf)]((_0x5f4ea8,_0x6475c8,_0x51657a)=>{const _0x35c4ac=_0x32e319;_0x5f4ea8['path']['startsWith'](_0x35c4ac(0x546))?_0x51657a():(0x0,kr[_0x35c4ac(0x1e4)])()(_0x5f4ea8,_0x6475c8,_0x51657a);}),_0x15e863[_0x32e319(0xc9)](_0x32e319(0x205),_0x32e319(0x106)),_0x15e863['set'](_0x32e319(0x759),(0x0,Ls[_0x32e319(0x3de)])(ie,_0x32e319(0x759))),_0x15e863[_0x32e319(0x3cf)](he[_0x32e319(0x1e4)][_0x32e319(0x673)]((0x0,Ls[_0x32e319(0x3de)])(ie,_0x32e319(0x3df)))),_0x15e863[_0x32e319(0x3cf)]((_0x31c9cd,_0x49bd66,_0x45ca1c)=>{const _0x7656eb=_0x32e319;let _0x37ddb2=_0x49bd66[_0x7656eb(0x242)];_0x49bd66[_0x7656eb(0x242)]=function(_0x347dbb){const _0xf679f1=_0x7656eb;if(_0x31c9cd[_0xf679f1(0x728)]['convert']===_0xf679f1(0x35e)||_0x31c9cd[_0xf679f1(0x376)]['uazapi']==='true'){let _0x31cdfe=JSON[_0xf679f1(0x49a)](_0x347dbb);_0x347dbb=JSON[_0xf679f1(0x757)](_0x513087(_0x31cdfe));}return _0x37ddb2[_0xf679f1(0x2cc)](_0x49bd66,[_0x347dbb]);},_0x45ca1c();}),_0x15e863[_0x32e319(0x3cf)]('/',At),_0x15e863[_0x32e319(0x3cf)]((_0x4f67ea,_0x39ed24,_0x1b9c21,_0x2c66ad)=>{const _0xe5e2b4=_0x32e319;if(_0x4f67ea)return _0x1b9c21['status'](_0x4f67ea[_0xe5e2b4(0x3d6)]||0x1f4)['json'](_0x4f67ea);},(_0xb4e94f,_0x37c224,_0x1111e6)=>{const _0x193f44=_0x32e319;let {method:_0x178387,url:_0x1e4d89}=_0xb4e94f;_0x37c224[_0x193f44(0x3d6)](0x194)[_0x193f44(0x5cd)]({'status':0x194,'message':_0x193f44(0x3f1)+_0x178387['toUpperCase']()+'\x20'+_0x1e4d89,'error':_0x193f44(0x211)}),_0x1111e6();});let _0x513087=(_0x2a0710,_0x260057=_0x32e319(0x607))=>{const _0x4bd97d=_0x32e319;let _0x3c14b9=(_0x575fb5,_0x304f35=null,_0xc91580=!0x1)=>{const _0x2187a5=a0_0x4bbc;let _0xd7206a={};return Object[_0x2187a5(0x41a)](_0x575fb5)[_0x2187a5(0x2a7)](_0x372964=>{const _0x2076bb=_0x2187a5;let _0x19921e=_0x575fb5[_0x372964],_0x249f41=''+_0x260057+_0x372964;_0x304f35&&!_0xc91580&&(_0x249f41=_0x304f35+'.'+_0x372964),!_0x19921e&&_0x19921e!==0x0&&_0x19921e!==!0x1||typeof _0x19921e>'u'?_0xd7206a[_0x249f41]=null:typeof _0x19921e!=_0x2076bb(0x21b)&&!Array['isArray'](_0x19921e)?_0xd7206a[_0x249f41]=_0x19921e:typeof _0x19921e=='object'&&!Array[_0x2076bb(0x173)](_0x19921e)?_0xd7206a=Object[_0x2076bb(0x658)](_0xd7206a,_0x3c14b9(_0x19921e,_0x249f41)):Array[_0x2076bb(0x173)](_0x19921e)&&(typeof _0x19921e[0x0]=='object'?(_0xd7206a[_0x249f41]=[],_0x19921e[_0x2076bb(0x2a7)](_0x10aa47=>{const _0x2a96a7=_0x2076bb;_0xd7206a[_0x249f41][_0x2a96a7(0x6f3)](_0x3c14b9(_0x10aa47,_0x249f41,!0x0));})):_0xd7206a[_0x249f41]=_0x19921e);}),_0xd7206a;};return Array[_0x4bd97d(0x173)](_0x2a0710)?_0x2a0710[_0x4bd97d(0x4dc)](_0x4674b9=>_0x3c14b9(_0x4674b9)):typeof _0x2a0710==_0x4bd97d(0x21b)&&_0x2a0710!==null?_0x3c14b9(_0x2a0710):{};},_0x1a6aff=b[_0x32e319(0x436)](_0x32e319(0x1d0));Oe[_0x32e319(0x70e)]=_0x15e863;let _0x4e20da=Oe[_0x1a6aff[_0x32e319(0x471)]],_0x32bfd0=_0x32e319(0x1fd);_0x4e20da[_0x32e319(0x3cd)](_0x1a6aff['PORT'],()=>{const _0x370c2f=_0x32e319;_0x3a4853[_0x370c2f(0x5db)](_0x32bfd0),_0x3a4853[_0x370c2f(0x5db)](_0x1a6aff[_0x370c2f(0x471)][_0x370c2f(0x388)]()+_0x370c2f(0x684)+_0x1a6aff[_0x370c2f(0x704)]);}),qi(),zs();}var Vi='https://github.com/uazapi/uazapi.git',Bi=xe[a0_0x4511c4(0x1e4)][a0_0x4511c4(0x3de)](__dirname,a0_0x4511c4(0x5ad)),Ie=null;function Gi(){return new Promise((_0x322875,_0x4e8874)=>{const _0x3ec47c=a0_0x4bbc;pe[_0x3ec47c(0x1e4)][_0x3ec47c(0x467)](Bi,_0x3ec47c(0x693),(_0x20f24c,_0x4d136c)=>{const _0x10c616=_0x3ec47c;if(_0x20f24c){Ie=_0x20f24c,_0x322875();return;}Fr[_0x10c616(0x1e4)]['parse'](_0x4d136c)[_0x10c616(0x4df)][_0x10c616(0x405)]===Vi?(Ie=null,_0x322875()):(Ie=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x322875());});});}async function Wi(){const _0x23727a=a0_0x4511c4;try{await Gi(),await js();}catch(_0x76cfd9){console[_0x23727a(0xcd)](_0x23727a(0x599)+_0x76cfd9),process[_0x23727a(0x22b)](0x1);}}Wi();async function Ur(){const _0x906e1f=a0_0x4511c4;let _0x399d89;try{_0x399d89=(await Ae['default'][_0x906e1f(0x436)](_0x906e1f(0x421)))[_0x906e1f(0x461)]['ip'];}catch(_0x249b37){console[_0x906e1f(0xcd)](_0x249b37);try{_0x399d89=(await Ae['default'][_0x906e1f(0x436)]('https://api.ipify.org?format=json'))[_0x906e1f(0x461)]['ip'];}catch(_0x10daec){console[_0x906e1f(0xcd)](_0x10daec);try{_0x399d89=(await Ae['default'][_0x906e1f(0x436)](_0x906e1f(0x1da)))[_0x906e1f(0x461)][_0x906e1f(0x4af)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4ef4d0){return console['error'](_0x4ef4d0),!0x1;}}}return _0x399d89;}var Pr=0x0;async function zi(){const _0x375a2f=a0_0x4511c4;let _0x349ad9=await new ne(b[_0x375a2f(0x436)](_0x375a2f(0x1a0)))[_0x375a2f(0x18d)]();return console[_0x375a2f(0x5db)]('instancias:\x20',_0x349ad9[_0x375a2f(0x16d)]),_0x349ad9['length'];}function Hi(_0x564e67){const _0x3ce950=a0_0x4511c4;let _0x43792f=_0x564e67[_0x3ce950(0x436)]('SERVER')[_0x3ce950(0x11b)],_0x2d5dd8=_0x564e67[_0x3ce950(0x436)](_0x3ce950(0x53d)),_0x8ebc02;if(_0x43792f){let _0xb00b4a=_0x43792f['match'](/\/\/(.*?)\./);_0xb00b4a&&_0xb00b4a[0x1]&&(_0x8ebc02=_0xb00b4a[0x1]);}if(!_0x8ebc02&&_0x2d5dd8&&_0x2d5dd8[_0x3ce950(0xbb)]){let _0x3bd77f=_0x2d5dd8[_0x3ce950(0xbb)][_0x3ce950(0x50f)]('/'),_0x20a28b=_0x3bd77f[_0x3bd77f['length']-0x2];if(_0x20a28b){let _0x1a97fd=_0x20a28b['split']('.');_0x1a97fd[_0x3ce950(0x16d)]>0x2&&(_0x8ebc02=_0x1a97fd[0x0]);}}return _0x8ebc02;}var Ds=Hi(b);async function Ki(){const _0x3f562e=a0_0x4511c4;let _0x2d4da9=b['get'](_0x3f562e(0x1a0)),_0x1b5a3a=b[_0x3f562e(0x436)](_0x3f562e(0x2b5))[_0x3f562e(0x5bd)][_0x3f562e(0x241)],_0x23071f=b[_0x3f562e(0x436)](_0x3f562e(0x53d)),_0x21f881=await Ur(),_0x29077d=b[_0x3f562e(0x436)](_0x3f562e(0x1d0))[_0x3f562e(0x704)],_0x14f2c3=b['get'](_0x3f562e(0x1d0))[_0x3f562e(0x11b)];try{let _0x5db2e={'ip':_0x21f881||null,'redis_enable':_0x2d4da9?.[_0x3f562e(0x2b7)]||null,'apikey':_0x1b5a3a||null,'ssl':_0x23071f?.[_0x3f562e(0x640)]||null,'lastupdate':qr||null,'port':_0x29077d||null,'gitInstallError':Ie?.[_0x3f562e(0x737)]||null,'url':_0x14f2c3||null};if(console[_0x3f562e(0x5db)](_0x3f562e(0x190),_0x5db2e['ip']),_0x2d4da9&&_0x2d4da9[_0x3f562e(0x2b7)]){let _0x71de64=await zi();_0x5db2e['instanceCount']=_0x71de64||null;}for(let _0x1e94b1 in _0x5db2e)_0x5db2e[_0x3f562e(0x3c5)](_0x1e94b1)&&_0x1e94b1!=='ip'&&(_0x5db2e[_0x1e94b1]=JSON[_0x3f562e(0x757)](_0x5db2e[_0x1e94b1]));return(await Ae[_0x3f562e(0x1e4)][_0x3f562e(0x26b)](_0x3f562e(0x160),_0x5db2e))[_0x3f562e(0x461)];}catch(_0x196357){return console[_0x3f562e(0xcd)](_0x196357),!0x1;}}var ks=!0x1,qr=0x22e,Qi=0x3,$r=0x1b7740;async function js(){const _0x2aa6a8=a0_0x4511c4;if(!await Ur())return console[_0x2aa6a8(0xcd)](_0x2aa6a8(0x6c9)),_0x2aa6a8(0x3e3);let _0x820c23=await Ki();if(_0x820c23){if(_0x820c23['response']['licenca']===!0x0){let _0x12cdca=b[_0x2aa6a8(0x436)](_0x2aa6a8(0x53d)),_0x38f34c=b[_0x2aa6a8(0x436)]('SERVER')[_0x2aa6a8(0x11b)];_0x12cdca&&_0x12cdca?.[_0x2aa6a8(0x640)]?.[_0x2aa6a8(0x359)]('<subdomain>')&&_0x820c23[_0x2aa6a8(0x2a4)][_0x2aa6a8(0x752)]&&!_0x38f34c&&(await Zi(_0x820c23[_0x2aa6a8(0x2a4)]['subdomain'],Xi),await eo(_0x2aa6a8(0x30b),_0x820c23[_0x2aa6a8(0x2a4)][_0x2aa6a8(0x752)]),console['log'](_0x2aa6a8(0x337)),setTimeout(()=>so(),0x2710)),Ie===null&&_0x820c23[_0x2aa6a8(0x2a4)][_0x2aa6a8(0x566)]-qr>0x0&&await Yi(),ks||(ks=!0x0,Ji());let _0x2c3c2a=0x24*0x3c*0x3c,_0x384c3a=_0x820c23[_0x2aa6a8(0x2a4)][_0x2aa6a8(0x506)]>_0x2c3c2a?_0x2c3c2a:_0x820c23[_0x2aa6a8(0x2a4)][_0x2aa6a8(0x506)],_0x460d18=Number(_0x384c3a);if(isNaN(_0x460d18)){console['error']('interval\x20não\x20é\x20um\x20número');return;}let _0x338da7=Math['floor'](_0x460d18/0xe10),_0xccab01=Math[_0x2aa6a8(0x3a5)](_0x460d18%0xe10/0x3c),_0x48d3d2=new Date(Date[_0x2aa6a8(0x56c)]()+_0x460d18*0x3e8);setTimeout(js,_0x460d18*0x3e8);let _0x3e3252=_0x526b0e=>_0x526b0e['toString']()[_0x2aa6a8(0xe4)](0x2,'0'),_0x238120=_0x2aa6a8(0x496)+_0x3e3252(_0x338da7)+_0x2aa6a8(0x50b)+_0x3e3252(_0xccab01)+_0x2aa6a8(0x2c8)+_0x3e3252(_0x48d3d2[_0x2aa6a8(0x3e7)]())+':'+_0x3e3252(_0x48d3d2[_0x2aa6a8(0x5b6)]())+'.';console[_0x2aa6a8(0x5db)](_0x238120);}else return console['log'](_0x2aa6a8(0x5a4)),ks&&(console[_0x2aa6a8(0x5db)](_0x2aa6a8(0x5a8)),process['exit']()),_0x2aa6a8(0x31e);}else{if(Pr++,Pr<Qi)console['log'](_0x2aa6a8(0x5e5)+$r/0xea60+_0x2aa6a8(0x3e1)),setTimeout(js,$r);else return console[_0x2aa6a8(0xcd)](_0x2aa6a8(0x547)),'SERVER_OFFLINE';}}async function Yi(){const _0x1fa3f7=a0_0x4511c4;console[_0x1fa3f7(0x5db)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x1b05fd=(0x0,De[_0x1fa3f7(0x158)])(_0x1fa3f7(0x6e1),{'shell':!0x0});_0x1b05fd[_0x1fa3f7(0x597)]['on'](_0x1fa3f7(0x461),_0x5e6ab0=>{const _0x1bd688=_0x1fa3f7;console[_0x1bd688(0x5db)](_0x1bd688(0x700)+_0x5e6ab0);}),_0x1b05fd[_0x1fa3f7(0x510)]['on'](_0x1fa3f7(0x461),_0x1ab943=>{const _0x1297e5=_0x1fa3f7;console[_0x1297e5(0xcd)]('Erro\x20de\x20atualização:\x20'+_0x1ab943);}),_0x1b05fd['on'](_0x1fa3f7(0x22b),_0x2a3d23=>{const _0x51ce4e=_0x1fa3f7;_0x2a3d23!==0x0?console[_0x51ce4e(0xcd)](_0x51ce4e(0x27e)+_0x2a3d23):console['log'](_0x51ce4e(0x374)),console[_0x51ce4e(0x5db)](_0x51ce4e(0x28d)),setTimeout(()=>process[_0x51ce4e(0x22b)](),0x2710);});}var Xi=xe[a0_0x4511c4(0x1e4)][a0_0x4511c4(0x3de)](__dirname,a0_0x4511c4(0x679));async function Zi(_0x55949c,_0x874a20){const _0x4f50fb=a0_0x4511c4;let _0x3faea5=to();_0x55949c=_0x55949c['replace']('.uazapi.dev','');try{let _0x59f7c3=pe[_0x4f50fb(0x1e4)]['readFileSync'](_0x874a20,'utf8');_0x59f7c3=_0x59f7c3[_0x4f50fb(0x18c)](/<apikey>/,_0x3faea5),_0x59f7c3=_0x59f7c3['replace'](/<subdomain>/g,_0x55949c),pe[_0x4f50fb(0x1e4)][_0x4f50fb(0x654)](_0x874a20,_0x59f7c3,'utf8'),console['log']('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x39e475){console[_0x4f50fb(0xcd)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x39e475);}}function eo(_0x3a6695,_0x11bab9){return new Promise((_0x520c0a,_0x145bb0)=>{const _0x1b05dc=a0_0x4bbc;let _0x41cbbf=(0x0,De[_0x1b05dc(0x158)])(_0x1b05dc(0x4cd),[_0x1b05dc(0x63e),_0x1b05dc(0x2d9),'-m',_0x3a6695,'--agree-tos','-d',_0x11bab9]);_0x41cbbf[_0x1b05dc(0x597)]['on'](_0x1b05dc(0x461),_0x25c2c5=>{const _0x1803d8=_0x1b05dc;console[_0x1803d8(0x5db)](_0x1803d8(0x192)+_0x25c2c5[_0x1803d8(0x2eb)]());}),_0x41cbbf[_0x1b05dc(0x510)]['on']('data',_0x1d9f7f=>{const _0x3d6ad8=_0x1b05dc;console[_0x3d6ad8(0xcd)](_0x3d6ad8(0x183)+_0x1d9f7f['toString']());}),_0x41cbbf['on'](_0x1b05dc(0x5b5),_0x82afce=>{const _0x239a69=_0x1b05dc;_0x82afce!==0x0?(console[_0x239a69(0xcd)](_0x239a69(0x484)+_0x82afce),_0x145bb0(_0x239a69(0x484)+_0x82afce)):(console[_0x239a69(0x5db)]('Certbot\x20executado\x20com\x20sucesso.'),_0x520c0a());});});}function to(_0x1921ba=0x32){const _0x1b7d03=a0_0x4511c4;let _0x89bf32=_0x1b7d03(0x367),_0x1caa63='';for(let _0x3275d8=0x0;_0x3275d8<_0x1921ba;_0x3275d8++)_0x1caa63+=_0x89bf32[_0x1b7d03(0x2d7)](Math[_0x1b7d03(0x3a5)](Math[_0x1b7d03(0x3fd)]()*_0x89bf32[_0x1b7d03(0x16d)]));return _0x1caa63;}function so(){const _0x3e93a6=a0_0x4511c4;(0x0,De[_0x3e93a6(0x1f6)])(_0x3e93a6(0x289),(_0x2efb0f,_0x5a28cd,_0x25faaa)=>{const _0x4e3938=_0x3e93a6;if(_0x2efb0f){console[_0x4e3938(0xcd)](_0x4e3938(0x632)+_0x2efb0f);return;}if(_0x25faaa){console[_0x4e3938(0xcd)](_0x4e3938(0x6c4)+_0x25faaa);return;}console[_0x4e3938(0x5db)](_0x4e3938(0x741)+_0x5a28cd);});}0x0&&(module[a0_0x4511c4(0x1ca)]={'subdomain':subdomain});