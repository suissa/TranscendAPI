const a0_0x18e9af=a0_0x7bd5;(function(_0x3530b7,_0x14977b){const _0x37d70d=a0_0x7bd5,_0x2e8e04=_0x3530b7();while(!![]){try{const _0x2f7f7b=parseInt(_0x37d70d(0x123))/0x1+-parseInt(_0x37d70d(0x5a6))/0x2+parseInt(_0x37d70d(0x6b3))/0x3+parseInt(_0x37d70d(0x5c0))/0x4*(-parseInt(_0x37d70d(0x2f0))/0x5)+-parseInt(_0x37d70d(0x2fd))/0x6*(-parseInt(_0x37d70d(0x515))/0x7)+-parseInt(_0x37d70d(0x4da))/0x8+parseInt(_0x37d70d(0x315))/0x9;if(_0x2f7f7b===_0x14977b)break;else _0x2e8e04['push'](_0x2e8e04['shift']());}catch(_0x91eef9){_0x2e8e04['push'](_0x2e8e04['shift']());}}}(a0_0x4e5d,0x1cf63));var Pr=Object[a0_0x18e9af(0x1bb)],Ie=Object[a0_0x18e9af(0x1ae)],$r=Object[a0_0x18e9af(0x4e9)],kr=Object[a0_0x18e9af(0x54d)],Lr=Object['getPrototypeOf'],Fr=Object[a0_0x18e9af(0x42a)]['hasOwnProperty'],jr=(_0x3c9dec,_0x4a9a28)=>{for(var _0x464fb9 in _0x4a9a28)Ie(_0x3c9dec,_0x464fb9,{'get':_0x4a9a28[_0x464fb9],'enumerable':!0x0});},_s=(_0x542bc0,_0x572f54,_0x209bdc,_0x1d5bcb)=>{const _0x1b86f2=a0_0x18e9af;if(_0x572f54&&typeof _0x572f54==_0x1b86f2(0x61d)||typeof _0x572f54==_0x1b86f2(0x56c)){for(let _0x31bece of kr(_0x572f54))!Fr[_0x1b86f2(0x469)](_0x542bc0,_0x31bece)&&_0x31bece!==_0x209bdc&&Ie(_0x542bc0,_0x31bece,{'get':()=>_0x572f54[_0x31bece],'enumerable':!(_0x1d5bcb=$r(_0x572f54,_0x31bece))||_0x1d5bcb[_0x1b86f2(0x2de)]});}return _0x542bc0;},T=(_0x2da025,_0x4c5d06,_0x2c489a)=>(_0x2c489a=_0x2da025!=null?Pr(Lr(_0x2da025)):{},_s(_0x4c5d06||!_0x2da025||!_0x2da025[a0_0x18e9af(0x69f)]?Ie(_0x2c489a,a0_0x18e9af(0x30c),{'value':_0x2da025,'enumerable':!0x0}):_0x2c489a,_0x2da025)),Ur=_0x4616e9=>_s(Ie({},a0_0x18e9af(0x69f),{'value':!0x0}),_0x4616e9),Hi={};jr(Hi,{'subdomain':()=>Rs}),module[a0_0x18e9af(0x442)]=Ur(Hi);var Or=T(require(a0_0x18e9af(0x43f))),$s=require('fs'),ks=require(a0_0x18e9af(0x6a9)),Ls=require(a0_0x18e9af(0x4e7)),xe=require(a0_0x18e9af(0x4e7)),se=process['cwd'](),ge=(0x0,xe['join'])(se,a0_0x18e9af(0x576)),Ps=(0x0,xe[a0_0x18e9af(0x4d1)])(se,a0_0x18e9af(0x6e6)),Vo=(0x0,xe[a0_0x18e9af(0x4d1)])(se,a0_0x18e9af(0x57e),a0_0x18e9af(0x153)),es=class{constructor(){const _0x22a667=a0_0x18e9af;this[_0x22a667(0x5f5)]();}['get'](_0x5ed151){const _0x1185ce=a0_0x18e9af;return this[_0x1185ce(0x278)][_0x5ed151];}[a0_0x18e9af(0x5f5)](){const _0x5d85d7=a0_0x18e9af;this[_0x5d85d7(0x278)]=process[_0x5d85d7(0x278)]?.[_0x5d85d7(0x362)]!=='true'?this[_0x5d85d7(0x690)]():this[_0x5d85d7(0x2f8)](),process['env']?.[_0x5d85d7(0x362)]==='true'&&(this[_0x5d85d7(0x278)]['SERVER']['TYPE']=_0x5d85d7(0x361),this[_0x5d85d7(0x278)][_0x5d85d7(0x1ad)][_0x5d85d7(0x6ca)]=Number['parseInt'](process['env']?.[_0x5d85d7(0x318)]??'8080'));}[a0_0x18e9af(0x690)](){const _0x22037e=a0_0x18e9af;return(0x0,ks['load'])((0x0,$s['readFileSync'])((0x0,Ls['join'])(Ps,_0x22037e(0x6eb)),{'encoding':'utf-8'}));}[a0_0x18e9af(0x2f8)](){const _0x12f48c=a0_0x18e9af;return{'SERVER':{'TYPE':process['env'][_0x12f48c(0x48f)],'PORT':Number['parseInt'](process['env']['SERVER_PORT']),'URL':process[_0x12f48c(0x278)][_0x12f48c(0x410)]},'CORS':{'ORIGIN':process[_0x12f48c(0x278)]['CORS_ORIGIN']['split'](','),'METHODS':process[_0x12f48c(0x278)][_0x12f48c(0x133)][_0x12f48c(0x308)](','),'CREDENTIALS':process[_0x12f48c(0x278)]?.[_0x12f48c(0x682)]===_0x12f48c(0x511)},'SSL_CONF':{'PRIVKEY':process[_0x12f48c(0x278)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process['env']?.[_0x12f48c(0x30a)]},'STORE':{'CLEANING_INTERVAL':Number[_0x12f48c(0x101)](process['env']?.[_0x12f48c(0x30e)])?Number['parseInt'](process['env'][_0x12f48c(0x30e)]):void 0x0,'MESSAGES':process[_0x12f48c(0x278)]?.[_0x12f48c(0x539)]==='true','CONTACTS':process[_0x12f48c(0x278)]?.[_0x12f48c(0x301)]===_0x12f48c(0x511),'CHATS':process[_0x12f48c(0x278)]?.[_0x12f48c(0x160)]===_0x12f48c(0x511)},'DATABASE':{'CONNECTION':{'HOST':process[_0x12f48c(0x278)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x12f48c(0x264)](process['env']?.[_0x12f48c(0x784)]),'USER':process[_0x12f48c(0x278)][_0x12f48c(0x25b)],'PASSWORD':process[_0x12f48c(0x278)][_0x12f48c(0x4e5)],'URI':process[_0x12f48c(0x278)][_0x12f48c(0x378)],'DB_PREFIX_NAME':process[_0x12f48c(0x278)][_0x12f48c(0x427)]},'ENABLED':process['env']?.['DATABASE_ENABLED']===_0x12f48c(0x511)},'REDIS':{'ENABLED':process[_0x12f48c(0x278)]?.[_0x12f48c(0x709)]==='true','URI':process[_0x12f48c(0x278)]['REDIS_URI']||_0x12f48c(0x5aa),'PREFIX_KEY':process[_0x12f48c(0x278)][_0x12f48c(0x75c)]||_0x12f48c(0x4bb)},'LOG':{'LEVEL':process[_0x12f48c(0x278)]?.[_0x12f48c(0x589)]['split'](','),'COLOR':process['env']?.[_0x12f48c(0x49d)]===_0x12f48c(0x511)},'PROXY':Number[_0x12f48c(0x264)](process[_0x12f48c(0x278)]?.[_0x12f48c(0x339)]),'AUTHENTICATION':{'TYPE':process[_0x12f48c(0x278)][_0x12f48c(0x21c)],'API_KEY':{'KEY':process[_0x12f48c(0x278)][_0x12f48c(0x6a8)]},'JWT':{'EXPIRIN_IN':Number[_0x12f48c(0x101)](process['env']?.[_0x12f48c(0x750)])?Number['parseInt'](process[_0x12f48c(0x278)][_0x12f48c(0x750)]):0xe10,'SECRET':process[_0x12f48c(0x278)][_0x12f48c(0x59d)]}}};}},b=new es(),Ar=T(require(a0_0x18e9af(0x242))),pe=T(require('express')),xs=require(a0_0x18e9af(0x4e7)),ts=T(require('dayjs')),ss=(_0x4a2e19=>(_0x4a2e19[a0_0x18e9af(0x4c5)]='\x1b[32m',_0x4a2e19[a0_0x18e9af(0x5cc)]=a0_0x18e9af(0x202),_0x4a2e19[a0_0x18e9af(0x135)]=a0_0x18e9af(0x355),_0x4a2e19[a0_0x18e9af(0x73d)]=a0_0x18e9af(0x74c),_0x4a2e19['DEBUG']=a0_0x18e9af(0x1df),_0x4a2e19[a0_0x18e9af(0x42b)]='\x1b[37m',_0x4a2e19[a0_0x18e9af(0x699)]=a0_0x18e9af(0x3b7),_0x4a2e19))(ss||{}),Fs=(_0x416f9a=>(_0x416f9a[a0_0x18e9af(0x4c5)]=a0_0x18e9af(0x457),_0x416f9a[a0_0x18e9af(0x699)]=a0_0x18e9af(0x141),_0x416f9a[a0_0x18e9af(0x5cc)]='\x1b[34m%s\x1b[0m',_0x416f9a[a0_0x18e9af(0x135)]=a0_0x18e9af(0x2b0),_0x416f9a[a0_0x18e9af(0x73d)]=a0_0x18e9af(0x46d),_0x416f9a[a0_0x18e9af(0x67d)]=a0_0x18e9af(0x331),_0x416f9a[a0_0x18e9af(0x42b)]=a0_0x18e9af(0x10f),_0x416f9a))(Fs||{}),js=(_0x54a40e=>(_0x54a40e[a0_0x18e9af(0x4c5)]='LOG',_0x54a40e[a0_0x18e9af(0x135)]=a0_0x18e9af(0x135),_0x54a40e[a0_0x18e9af(0x5cc)]=a0_0x18e9af(0x5cc),_0x54a40e[a0_0x18e9af(0x699)]='DARK',_0x54a40e[a0_0x18e9af(0x73d)]=a0_0x18e9af(0x73d),_0x54a40e[a0_0x18e9af(0x67d)]=a0_0x18e9af(0x67d),_0x54a40e['VERBOSE']=a0_0x18e9af(0x42b),_0x54a40e))(js||{}),Us=(_0x3e4adb=>(_0x3e4adb[a0_0x18e9af(0x4c5)]='\x1b[42m',_0x3e4adb[a0_0x18e9af(0x5cc)]='\x1b[44m',_0x3e4adb['WARN']=a0_0x18e9af(0x173),_0x3e4adb['DARK']='\x1b[40m',_0x3e4adb[a0_0x18e9af(0x73d)]=a0_0x18e9af(0x23d),_0x3e4adb[a0_0x18e9af(0x67d)]=a0_0x18e9af(0x466),_0x3e4adb[a0_0x18e9af(0x42b)]=a0_0x18e9af(0x131),_0x3e4adb))(Us||{}),N=class{constructor(_0x3bb68b='Logger'){const _0x3bc384=a0_0x18e9af;this[_0x3bc384(0x624)]=_0x3bb68b,this[_0x3bc384(0x38c)]=b;}['setContext'](_0x445a0b){this['context']=_0x445a0b;}['console'](_0x21c33a,_0x351637){const _0x5f0caf=a0_0x18e9af;let _0x4c9475=[];this[_0x5f0caf(0x38c)]['get'](_0x5f0caf(0x4c5))[_0x5f0caf(0x486)]['forEach'](_0x2ef864=>_0x4c9475[_0x5f0caf(0x256)](js[_0x2ef864]));let _0x55e494=typeof _0x21c33a;_0x4c9475['includes'](_0x351637)&&(b['get'](_0x5f0caf(0x4c5))[_0x5f0caf(0x59b)]?(console[_0x5f0caf(0x704)](_0x5f0caf(0x275)+Fs[_0x351637],'\x1b[1m\x1b[37m',(0x0,ts[_0x5f0caf(0x30c)])()[_0x5f0caf(0x11b)](_0x5f0caf(0x33a)),_0x5f0caf(0x4a7),ss[_0x351637]+Us[_0x351637]+_0x5f0caf(0x275),_0x351637+_0x5f0caf(0x46f),'\x1b[33m\x1b[1m',this[_0x5f0caf(0x624)]+_0x5f0caf(0x4a7),ss[_0x351637],_0x55e494!==_0x5f0caf(0x61d)?_0x21c33a:'','\x1b[0m'),_0x55e494===_0x5f0caf(0x61d)&&console[_0x5f0caf(0x704)](_0x21c33a,'\x0a')):console[_0x5f0caf(0x704)]((0x0,ts['default'])()['format'](_0x5f0caf(0x138)),_0x351637+'\x20',''+this[_0x5f0caf(0x624)],_0x21c33a));}[a0_0x18e9af(0x704)](_0x168615){const _0x495790=a0_0x18e9af;this[_0x495790(0x6c7)](_0x168615,'LOG');}[a0_0x18e9af(0x703)](_0x2fb720){const _0x50ca61=a0_0x18e9af;this[_0x50ca61(0x6c7)](_0x2fb720,'INFO');}[a0_0x18e9af(0x365)](_0x50124b){const _0x459ce9=a0_0x18e9af;this['console'](_0x50124b,_0x459ce9(0x135));}[a0_0x18e9af(0x1b4)](_0x1c2d29){const _0x356059=a0_0x18e9af;this[_0x356059(0x6c7)](_0x1c2d29,_0x356059(0x73d));}['verbose'](_0x22096c){const _0x425767=a0_0x18e9af;this[_0x425767(0x6c7)](_0x22096c,_0x425767(0x42b));}[a0_0x18e9af(0x663)](_0x133e6e){const _0x30a7d2=a0_0x18e9af;this[_0x30a7d2(0x6c7)](_0x133e6e,'DEBUG');}[a0_0x18e9af(0x518)](_0x583899){const _0x2ee6d0=a0_0x18e9af;this[_0x2ee6d0(0x6c7)](_0x583899,_0x2ee6d0(0x699));}};function qs(){const _0x36276a=a0_0x18e9af;process['on'](_0x36276a(0x621),(_0x264fe4,_0x154b7b)=>{const _0x3f0c63=_0x36276a;new N('uncaughtException')[_0x3f0c63(0x1b4)]({'origin':_0x154b7b,'stderr':process['stderr']['fd'],'error':_0x264fe4});}),process['on'](_0x36276a(0x502),(_0x16ef11,_0x44d17b)=>{const _0x368742=_0x36276a;new N(_0x368742(0x502))[_0x368742(0x1b4)]({'origin':_0x44d17b,'stderr':process['stderr']['fd'],'error':_0x16ef11});});}var Js=T(require('eventemitter2')),as=new Js[(a0_0x18e9af(0x30c))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require('mongoose'),rs=T(require('mongoose')),qr=new N(a0_0x18e9af(0x460)),J=b['get'](a0_0x18e9af(0x368)),R=J['ENABLED']?J[a0_0x18e9af(0x3cf)][a0_0x18e9af(0x2db)]?rs[a0_0x18e9af(0x30c)][a0_0x18e9af(0x1b3)](J[a0_0x18e9af(0x3cf)]['URI'],{'dbName':J[a0_0x18e9af(0x3cf)][a0_0x18e9af(0x4e2)]+'-whatsapp-api'}):rs[a0_0x18e9af(0x30c)]['createConnection']('mongodb://'+J[a0_0x18e9af(0x3cf)][a0_0x18e9af(0x644)]+':'+J[a0_0x18e9af(0x3cf)][a0_0x18e9af(0x6ca)]+a0_0x18e9af(0x431),{'user':J[a0_0x18e9af(0x3cf)][a0_0x18e9af(0x3f9)],'pass':J[a0_0x18e9af(0x3cf)][a0_0x18e9af(0x546)],'dbName':J[a0_0x18e9af(0x3cf)][a0_0x18e9af(0x4e2)]+a0_0x18e9af(0x577)}):null;J['ENABLED']&&qr[a0_0x18e9af(0x703)](a0_0x18e9af(0x3d5)+R[a0_0x18e9af(0x1fc)]);var Jr=new De['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vr=new De['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Br=new De[(a0_0x18e9af(0x3e0))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Vr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Vs=_0x226b5c=>{const _0x201b58=a0_0x18e9af;let _0x30e557='z_'+_0x226b5c+'_Chats';return R?.[_0x201b58(0x3de)](_0x201b58(0x187),Br,_0x30e557);},Bs=require(a0_0x18e9af(0x40d)),Gr=new Bs[(a0_0x18e9af(0x3e0))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Gs=_0x3a14b6=>{const _0x9c51bc=a0_0x18e9af;let _0xb34027='z_'+_0x3a14b6+_0x9c51bc(0x358);return R?.[_0x9c51bc(0x3de)]('ContactModel',Gr,_0xb34027);},Ws=require(a0_0x18e9af(0x40d)),Wr=new Ws[(a0_0x18e9af(0x3e0))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),zs=_0x43870f=>{const _0x5b6d30=a0_0x18e9af;let _0x2c04d0='z_'+_0x43870f+'_Messages';return R?.[_0x5b6d30(0x3de)]('MessageModel',Wr,_0x2c04d0);},Hs=require(a0_0x18e9af(0x40d)),is=class{},zr=new Hs[(a0_0x18e9af(0x3e0))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),Ks=R?.[a0_0x18e9af(0x3de)](is[a0_0x18e9af(0x10b)],zr,'authentication'),Qs=require(a0_0x18e9af(0x40d)),os=class{},Ys=new Qs[(a0_0x18e9af(0x3e0))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});function a0_0x4e5d(){const _0x1abfd0=['Número:\x20','latitude',',\x20valor\x20a\x20encontrar:\x20\x22','sendPoll','last','#dfaef0','testProxy','groupJid','/wa-message-update','mkdirSync','sendMenu','Selecione','Resultado\x20da\x20atualização:','prefixCommand','updateGParticipate','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','config','debug','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','getAutomateSystem','):\x20Erro\x20durante\x20a\x20atualização:\x20','ms\x20(Attempt\x20','message','stopIfLastReturnedError','key','viewOnceMessageV2','/events','waitingMenu_text','leaveGroup','--agree-tos','Revoke\x20error','/wa-contacts','sendReaction','.mp4','app-state-sync-key','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','stringify','processblock','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','recording','labels.edit','match','Instance\x20logged\x20out','DEBUG','RECONNECT_TIME_FRAME','getFlowModelForOwner','validate','convert','CORS_CREDENTIALS','delaySecMin','Primeiro\x20Valor:\x20','utf-8','statusMessage','varedit','toLocaleString','apply','createConversationforStartFlow','The\x20global\x20api\x20key\x20must\x20be\x20set','findByIdAndDelete','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','/clients-info','command','envYaml','sendSticker','URL','hbs','redis','ENABLED','archive','remote\x20\x22origin\x22','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','DARK','#ff9484','composing','joinGroup','data:\x20','isBase64','__esModule','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','HttpsProxyAgent','qrcode.updated','\x20inseridos\x20no\x20banco\x20de\x20dados...','password','://','@ffmpeg-installer/ffmpeg','AUTHENTICATION_API_KEY','js-yaml','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','groupCreate','contacts.upsert','createFlow','waitingMenu_id','):\x20newFirstValue\x20após\x20replaceVariables:','):\x20Enviando\x20enquete','fetchStatus','\x20não\x20encontrado','5418CjFAeV','stickerMessage','No\x20invite\x20code','replaceVariablesInObject','updateOnlinePrivacy','.uazapi.dev','bodyString','buttons','-instances','replyOption','leadInfo.','fetchChats','changeVariables','contact','desc','getTime','urlencoded','#b4ebff','KEY','CHATS_DELETE','console','updateMessage','dataValidate','PORT','charAt','contactname','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','):\x20Entrou\x20na\x20função\x20stop','groups_ignore','content','#d3a91f','https://chat.whatsapp.com/','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','PREFIX_KEY','displayName','forEach','createNewConversation','json','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','getContentType','Erro\x20de\x20atualização:\x20','updatePresence','connection.update','importChats','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','https://api.openai.com/v1/audio/speech','\x22\x20not\x20found','finish','revokeInviteCode','src','routerPath','Forbidden','flowStopConversation','Type\x20not\x20found','../env.yml','message_normalized','Tentando\x20reconectar...','blockLogs','conversation','qrCode','updateMediaMessage','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','The\x20instance\x20needs\x20to\x20be\x20disconnected','archiveChat','updateChatWithMessage','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','labelId','\x20}\x0a','.ogg','Temp\x20image\x20deleted','height','waMonitor','#9ba6ff','utf8','leadInfo','count','_ScheduleMessages','Sending\x20audio\x20whatsapp','info','log','agents','findAndReplace','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','lastInteraction','REDIS_ENABLED','checkAndRestartProcess','CONECTADO\x20À\x20UAZAPI','update',',\x20qrcodeCount:\x20','Erro\x20ao\x20atualizar\x20AutomateSystem:','):\x20delete\x20=\x20true','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','ObjectId','deleteMessageForEveryone','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','error_log','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','.mp3','updatePrivacySettings','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','profile','createJid','realVariables','Erro\x20ao\x20encerrar\x20a\x20API','deleteReplyOption','Erro\x20ao\x20buscar\x20conversas:\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','updateMissingTags','connectionState','https://','groupUpdateSubject','action','padStart','del','pollCreationMessageV3','indexOf','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','):\x20transformedCustomFieldVariables','saveMediaToFile','/config','listResponseMessage','CHATS_UPSERT','uazapiSendText','pollUpdateMessage','collection','/wa-groups','Instância\x20não\x20encontrada.','assign','.svg',',\x20Resultado:\x20','https://uazapi-plugin.bubbleapps.io/?url=','#9568cf','reorderBlocks','mentioned','PRIVKEY','ERROR','sem\x20texto\x20na\x20mensagem','Cache-Control','Getting\x20image\x20from\x20url','findById','Authentication\x20error','reconnectTimestamps','Processing\x20audio','\x20adicionado\x20ao\x20chat\x20',',\x20fará\x20nova\x20verificação\x20em\x20','url','):\x20conversation.lastInteraction:\x20','}}\x20->\x20\x22','owner',',\x20Expiration\x20Time:\x20','\x1b[31m','GUARD','prepareMediaMessage','\x20quoted:\x20','AUTHENTICATION_JWT_EXPIRIN_IN','saveConversationToDatabase','redirect','pollErrorMessage','):\x20Conversa\x20está\x20expirada\x20-\x20voto','poll','delayChatLabel_MAX_RETRIES','presence','username','updateMissingCustomFields','AutomateFunctions','):\x20tem\x20blocks','REDIS_PREFIX_KEY','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Read\x20messages\x20fail','public','stopped','readData','delay','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','remoteJidsRemaining','\x20-y','scheduled','fetchInstances','views','TEL','#56ccb4','Instance\x20restarted','allflows','sections','getBusinessProfile',':\x20IP\x20funcionando!','quoted','editflowvaredit','pre','deleteConversation','condition','):\x20Going\x20to\x20','):\x20Criando\x20fluxo\x20regular...','instance','exists','Getting\x20profile\x20with\x20jid:\x20','createAndSave','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','findAndReplaceRegex','request\x20received\x20in\x20editFlowvariable','variables','pt-BR','The\x20','Database\x20is\x20not\x20enabled','padEnd','):\x20nextBlock.uazapi.name','DATABASE_CONNECTION_HOST','contacts','\x20de\x20conectar\x20com\x20IP\x20extra.','ids','):\x20Deletando\x20fluxo...','node-mime-types','write','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','arrayUnique','READ','scheduleSendMedia','videoMessage','WebhookGlobal','dbSettings','#64c4ff','eventEmitter','findMessages','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','isInteger','sendLocation','File\x20written\x20to\x20path:\x20','contains','documentWithCaptionMessage','importChatsBatch','detail','groupSetting','Error\x20updating\x20message\x20status:','ListMessage','name','messageTimestamp','refused','/wa-message','\x1b[37m%s\x1b[0m','stderr','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','findIndex','atendimentoAberto','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','_error','mediatype','):\x20Editando\x20grupo\x20do\x20fluxo...','conditions','):\x20Flow\x20não\x20encontrado','format','\x0a{\x20instance:\x20','scheduleMessage','AUTHENTICATION','video-cover.png','type','audio/ogg','sendWhatsAppAudio','107674weBpoy','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','choices','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','reaction','send','ip:\x20','):\x20Procurando\x20conversa','pollMessageOnDelete','messageStubType','Erro\x20ao\x20editar\x20a\x20conversa:\x20','cleanStore','creds.json','/instance/connectionState','\x1b[47m','query','CORS_METHODS','):\x20Deletando\x20conversa...','WARN','end','StatusJidList\x20is\x20required','HH:mm:ss','replaceVariablesLogs','lastSendMessage','metadata','findLabels','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','createSectionsFromValues','\x1b[30m%s\x1b[0m','\x0aFN:','secondValue','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','):\x20Enviando\x20texto','Group\x20not\x20found','sendContact','image','StartBot','delaySecMax','\x20inseridas\x20no\x20banco\x20de\x20dados...','flowname:\x20','addChatLabel','phoneNumber','updateCustomFields','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','updateOne','cleaningUp','auth','Safari\x20(MacOS)','request\x20received\x20in\x20deleteFlow','No\x20join\x20group\x20invite\x20code\x20or\x20url','none','Type\x20defined\x20as\x20audio','minutesToClose','TEXT','FULLCHAIN','stopMinutes','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','\x20-\x20ON:\x20','length','STORE_CHATS','Operador:\x20\x22','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','Error\x20writing\x20file:\x20','oldToken','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','Atualização:\x20','getClient','saveChatVariables','Contacts\x20not\x20found','keep-alive','unknown\x20operation\x20type\x20[','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','authState','remove.instance','request\x20received\x20in\x20deleteDoneMessages','):\x20Erro\x20ao\x20editar\x20agentes:\x20','CONTACTS_SET','Audio\x20processed','\x1b[43m','MESSAGES_SET','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','splice','):\x20Conversa\x20inserida\x20com\x20sucesso.','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','getScheduleMessage','namespace','MAX_RECONNECT_ATTEMPTS','@newsletter','findGroupInfo','connectionClosed','optionDescription','order','notContains','findGroups','/instance','vcard','getLastMessage','ChatModel','AddChatLabel','):\x20teve\x20mudanças\x20chat.displayName:\x20','fromMe','chatLog','client','Erro\x20ao\x20iniciar\x20fluxo:\x20','viewOnceMessage','.png','\x20ao\x20chat\x20','maxActives','CHATS_UPDATE','chats.set','prepareWAMessageMedia','Comando\x20desconhecido','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','throwAndLogError','ERROR:\x20','BRL','LabelModel','delayChatLabel','currency','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',',\x20Segundo\x20Valor:\x20','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','GROUP_PARTICIPANTS_UPDATE','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','Message\x20not\x20found','updateMissingShareOwners','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','match_last_seen','editFlowGroup','uazapiDeleteMessage','protocolMessage','next_groupId','removeInstance','pairingCode','SERVER','defineProperty','video','):\x20Alterando\x20fluxo...','toNumber','augusto.fcs@gmail.com','createConnection','error','Internal\x20Server\x20Error','NextBlock','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','axios','presence.update','Error\x20updating\x20profile\x20name','create','editFlowReply','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','scheduleSendText','startFlow','status.instance','Error\x20creating\x20group','fetchConversation','\x22\x20cannot\x20be\x20empty','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','lastMessage','findParticipants','):\x20Editando\x20variável\x20do\x20fluxo...','#000000','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada:\x20ID\x20=\x20','getProfileName','header','ephemeralExpiration','Variável\x20não\x20encontrada!','host','messagesSend','updateProfilePicture','delayChatLabel_RETRY_DELAY_MS','express','The\x20\x22','description','@s.whatsapp.net','REDIS','):\x20teve\x20mudanças\x20chat.archived:\x20','hDel','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','cwd','ignoreGroups','removed','\x1b[36m','updateConversation','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','item','request\x20received\x20in\x20getConversation','dbServer','post','sendMedia','Invalid\x20format','local_map','authorization','\x20is\x20already\x20in\x20use.','createSharedFlow','trim','JWT','editedMessage','drop','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','editFlowVariable','saveTextReply','size','contactsArrayMessage','footerText','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','isBusiness','sendDataWebhook','):\x20teve\x20mudanças\x20chat.name:\x20','color','notify','$dbName','http://myexternalip.com/raw','SEND_MESSAGE','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','findGroupInfos','block','\x1b[34m','lastCondition','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','.ogv','audio/mp4','wuid','):\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','endsWith','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','readdirSync','SINGLE_SELECT','view\x20engine','webhookService','toDataURL','updateProfileName','webhookModel','env.yml','not\x20loaded','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','chatHandle','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','/instance/create','media','Erro\x20ao\x20remover\x20instâncias\x20antigas:','group\x20ignored','AUTHENTICATION_TYPE','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','URL:','senderKeyDistributionMessage','round','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','findAll','connect','findOrCreate','events','fetchProfilePictureUrl','isURL','subdomain','folder','tags','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','digest','hasOwnProperty','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','messageContextInfo','process','webhookMap','logger','Button\x20IDs\x20cannot\x20be\x20repeated.','remove','entries','audio','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','findOne','Variáveis\x20não\x20encontradas:','readFileSync','instanceCount','uazapiSendLocation','\x1b[41m','statSync','replace','\x20chats\x20de\x20','participant','cors','Button\x20texts\x20cannot\x20be\x20repeated','unlinkSync','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','request\x20received\x20in\x20createFlow','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','createConversationforgoToFlow','groups.update','request\x20received\x20in\x20updateAgent','pollCreationMessageKey','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','output','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','creds','mentions','removeChatLabel','\x20->\x20NÃO\x20CORRESPONDE.','):\x20Usando\x20extensão\x20padrão:\x20','hGet','goToFlow','push','Error\x20change\x20group\x20description','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','document','chat','DATABASE_CONNECTION_USER','):\x20Editando\x20bloco...','scheduleMessages','fetchProfile','setHeader','protocol','https','node-cache','ChatRouter','parseInt','child_process','Desconectado,\x20parando\x20execução.','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','audioWhatsapp','All_Instances_Config','):\x20Bloco\x20original\x20para\x20cópia:\x20','formatBRNumber','isArray','evaluateConditionTest','Flow\x20não\x20encontrado','newValue','silent','newStoppedUntil','getTicketSystem','request\x20received\x20in\x20deleteConversation','):\x20Enviando\x20localização','\x1b[1m','shareOwners','.jpg','env','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Error\x20occurred\x20while\x20archiving\x20chat:\x20','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','user','groupAcceptInvite','website','/media/','label_jid','<subdomain>','sign','variablesToObject','evaluateCondition','):\x20Iniciando\x20bot...','etiquetas','Archiving\x20chat','Cached\x20audio\x20found,\x20returning\x20existing\x20file','Instance\x20\x22','nomecompleto','groupValidate','static','SUCCESS','contact_blacklist','Missing\x20global\x20api\x20key','groupMetadata','Not\x20Found','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','EMAIL:','ScheduleMessageModel','endSession','uazapiSendContact','loadproxy','):\x20Flow\x20desativado','CONFIGURAÇÃO\x20GERAL:','deleteAll','reconnectAttempts','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','\x20minutos...','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','findByIdAndUpdate','):\x20conversation.waitingMenu_name','uazapiSendMedia','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','messages.upsert','*\x0a\x0a','notas','synchronizeFlows','\x20attempts.','):\x20Não\x20achou\x20nenhum\x20flow','toFile','CONTACTS_UPSERT','NO_IP','stanzaId','findWebhook','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','\x1b[33m%s\x1b[0m','chatId','msgRetryCounterCache','upsertChats','organization','removeOlderDisconnectedInstances','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','https://api.ipify.org?format=json','.TEL;waid=','buffer','errors','Error\x20in\x20markMessageAsRead:','/message','documentMessage','joinGroupValidate','getVariablesChat','sectionsToString','inviteCode','oldValue','contextInfo','^\x5cd+[\x5c.@\x5cw-]+','.pptx','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','/:instanceName','params','Converted\x20audio\x20deleted','http://ipecho.net/plain','getMessageModelForOwner','.xls','proto','findChats','stateConnection','updateGParticipant','title','?timestamp=','@whiskeysockets/baileys','CONTACTS_UPDATE','scheduleNextCheck','Última\x20tentativa\x20de\x20recuperação\x20para\x20a\x20mensagem:\x20ID\x20=\x20','Content\x20is\x20required','has','URI','long','done','enumerable','messages.update','findOneAndUpdate','menuMessage','replaceValue','use','capitalizedWords','mediaMessage','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','sendButtons','all','temp-','onTime','loadInstance','cpf','END:VCARD','updateGroupPicture','):\x20Limpando\x20AutomateSystem','223025seWDcm','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','chats.upsert','/wa-qrcode','filter','fetchProfile2','convertaudio','request\x20received\x20in\x20editFlowgroup','envProcess','ini','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','toString','instanceInfo','24942LXVawF','messageId','Validate','Close\x20connection','STORE_CONTACTS','deleteDoneMessages','):\x20lastBlockId:\x20','getContactModelForOwner','repository','readreceipts','fetchPrivacySettings','split','deleteflow','SSL_CONF_FULLCHAIN','getHours','default','modifiedCount','STORE_CLEANING_TERMINAL','request\x20received\x20in\x20fetchConversation','status@broadcast','Rótulo\x20atualizado:','closeExistingConversations','menuIgnoreNonVotes','waInstances','2451006jjyszg','goNextblock','varedits','SERVER_PORT','Telefone:\x20','editFlow','updateMissingEtiquetas','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','getFlow','--standalone','normalizeMessageContent','Error\x20updating\x20setting','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','\x20removido\x20do\x20chat\x20','mediaSticker','processgoToFlow','Esse\x20fluxo\x20expirou','#ffae04','getAllData','):\x20Conversa\x20está\x20expirada','buttonText','g-t','):\x20Criando\x20nova\x20conversa[createNewConversation]','editFlowVaredit','insertCount','send.message','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','localWebhook','\x1b[36m%s\x1b[0m','getStatus','numbers','createWebhook','last_update','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','fetchLabels','stdout','PROXY','DD/MM\x20HH:mm:ss','backgroundColor','presenceSubscribe','Erro:','checkAndUpdateChatStatus','E-mail:\x20','editflowcondition','):\x20debug\x20alterando\x20this.AutomateSystem','GROUPS_UPDATE','reorderReplyOptions','):\x20conversation.status:\x20','existsSync','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','request\x20received\x20in\x20editFlowcondition','Business\x20profile\x20fetched','URL\x20limpa:\x20','statusCode','vote','#f64847','Não\x20respondeu\x20com\x20a\x20enquete.','valid','createHash','greater','InstancesAlterarTodas','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','qrcode','toArray','\x1b[33m','allFlows','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','_Contacts','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','router','timerId','jid','readFile','originalUrl','noConnection','jwt','http','DOCKER_ENV','instanceKeys','closed','warn','):\x20Limpando\x20delayMessage','sendText','DATABASE','processvaredits','no.connection','updateOneById','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','bulkWrite','Converted\x20image\x20deleted','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','rm\x20-rf\x20','Início','stopConversation','\x20do\x20chat\x20','./.git/config','/wa-presence','execSync','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','DATABASE_CONNECTION_URI','request\x20received\x20in\x20getAutomateSystem','STATUS_INSTANCE','sending','Image\x20is\x20url','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','replyOptions','deleted','Trying\x20to\x20get\x20business\x20profile','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','request\x20received\x20in\x20updateCustomFields','error\x20get\x20vote','readMessage','SendScheduleMessage','moreLogs','flattenObject','boolean','):\x20Buscando\x20todos\x20os\x20fluxos...','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','getConversation','configService','verify','notEmpty','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','apikey','spawn','Getting\x20profile\x20info','dbInstance','generateWAMessageFromContent','chatModify','crypto','Instance\x20deleted','stopWhenYouSendMsg','formatVCard','):\x20Enviando\x20contato','.ppt','applyvaredit','desativadoFluxoAte','isConnected','/media','@broadcast','online','_Flows','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','blockId','AutomateSystem','env.KEY\x20!==\x20key','):\x20Enviando\x20áudio','flowConfig','waitingMenu_replyOptions','groupRevokeInvite','fetchLatestBaileysVersion','profilePictureUrl','copy','fullName','demote','hGetAll','):\x20Conversas\x20encontradas:','.\x20Pulando.','editFlowCondition','\x20minutos\x20verificará\x20novas\x20mensagens','fileName','ORG:','\x1b[30m','connectionStatus','Instance\x20ID:','instancias:\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','#fed428','upperCase','Erro\x20ao\x20copiar\x20dados:','qrcode-terminal','options','flowName','mongodb','normalizeMessage','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','Rótulo\x20deletado:','empty','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','/instance/connect','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','):\x20updateResult:','groupDesc','\x20saindo\x20da\x20função','CONNECTION','Fluxos\x20não\x20estão\x20ativados','):\x20expirationTime:\x20','$pull','Error\x20in\x20chatModify\x20for\x20number\x20','addReplyOption','ON\x20-\x20dbName:\x20','FlowRouter','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','50mb','certbot','text','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','imagechat','variablesNotFound','model','Audio\x20converted\x20and\x20stored\x20in\x20cache','Schema','lowerCase','Image\x20created','updateAll','createServer','code','Erro\x20do\x20Certbot:\x20','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20this.processingScheduleMessageId:\x20','isJidUser','groupHandler','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','removeData','replaceVariables','.jwt','textMessage','):\x20newSecondValue\x20após\x20replaceVariables:','requestPairingCode','everyOne','https://github.com/uazapi/uazapi.git','groupUpdateDescription','DisconnectReason','GROUPS_UPSERT','flowConversation','role','USER','emit','ex:\x20\x22groupJid=120362@g.us\x22','remoteJid','):\x20Mensagem\x20não\x20descriptografada\x20detectada:\x20ID\x20=\x20','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','announcement','):\x20Entrou\x20na\x20função\x20saveReply','editOperator','email','generateHash','fone','instance.','deleteOne','whatsappNumber','/*.json','less','nome','API_KEY','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','mongoose','ephemeralMessage','request\x20received\x20in\x20editConversation','SERVER_URL','replacer','writeFile','readMessageBot','deleteMessage','automateSystem','findConversation','flowPrefixCommand','success','EXPIRIN_IN','):\x20Ler\x20mensagem','lastSend','pop','$addToSet','headers','state','):\x20Entrou\x20na\x20função\x20goToFlow','\x20não\x20encontrado\x20para\x20atualização.','connectToWhatsappController','Erro\x20ao\x20editar\x20agentes:\x20','release','when','):\x20Error\x20processing\x20the\x20block:\x20','DATABASE_CONNECTION_DB_PREFIX_NAME',',\x20resultado:\x20','\x22reaction\x22\x20must\x20be\x20an\x20emoji','prototype','VERBOSE','getMinutes','http://checkip.dyndns.org','waUploadToServer','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','findFlow','?authSource=admin&readPreference=primary&directConnection=true','out','/exit','groupName','Message','eventHandler','.doc','):\x20Fluxos\x20não\x20estão\x20ativados','editflowgroup','segundos','shift','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','#fe9dfe','\x20not\x20found,\x20retrying\x20in\x20','compression','getDevice','mediaKey','exports','put','variable','getRandomText','open','contactHandle','startsWith','initAuthCreds','application/json','Image\x20path:\x20','leadInfo.customFields','pushName','caption','application/octet-stream','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','apiName','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','AppStateSyncKeyData','apirequest','authService','\x20contacts','\x1b[32m%s\x1b[0m','decryptPollVote','MESSAGES_UPSERT','ButtonsMessage','}}\x20->\x20valor\x20não\x20encontrado','picture','get','uazapiSendAudio','no-cache','Db\x20Connection','\x20segundos','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','sendMessageWithTyping','MESSAGES_UPDATE','data','\x1b[46m','matchRegex','Error\x20removing\x20profile\x20picture','call','app','Error\x20while\x20deleting\x20message\x20for\x20everyone','storePath','\x1b[31m%s\x1b[0m','Error\x20updating\x20profile\x20picture','\x20\x1b[0m','writeFileSync','lastReceivedMessage','Types','array','parse','enabled','Fetching\x20business\x20profile','isRunning','defineAuthState','allContacts','Valor\x20inicial:\x20\x22','verifiedName','selectedOptions','processingScheduleMessageId','leadInfo.etiquetas','contactMessage','.pdf','groupId','TYPE','Image\x20is\x20base64','/instance/delete','truncatedtoEnd','LEVEL','Connection\x20closed\x20for\x20instance:\x20','slice','getBase64FromMediaMessage','participants','updateMissingLabels','map','copyBlock','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','SERVER_TYPE','audioMessage','collections','CLEANING_INTERVAL','find','save','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','#92ceac','\x22\x20-\x20NOT\x20CONNECTION','set','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','deleteInstance','BufferJSON','updateStatusPrivacy','LOG_COLOR','archived','Enter\x20a\x20value\x20in\x20milliseconds','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','No\x20participants','requestFile','\x0a*Você\x20respondeu*:\x0a','waitingMenu_ExpiredMessage','reactionMessage','):\x20Editando\x20replyOption...','\x1b[0m','):\x20atualização\x20chat:\x20','exec','imageMessage',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','contacts.update','/instance/fetchInstances','option','equal','loadWebhook','imported','):\x20Buscando\x20flow...','updateStopChat','Log\x20out\x20instance:\x20','Reinicialização\x20iniciada:\x20','express-async-errors','request\x20body:\x20','deletedCount','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','class-validator','uazapi','.\x20Aguardando\x20antes\x20de\x20reconectar...','\x20foi\x20interrompido\x20pelo\x20usuário.','):\x20Error\x20processing\x20conditions:\x20','uazapiSendMenu','headerString','ListType','lastmsg','buttonMessage','logout','LOG','):\x20Falha\x20ao\x20deletar\x20mensagem.','createRegularFlow','setRestartTimer','updateMany','groupParticipantsUpdate','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','fromObject','cache','Chat\x20','badSession','Output\x20path:\x20','join','label','METHODS','exit','ReplyOption\x20com\x20ID\x20','includes','):\x20Enviando\x20mídia','downloads','reviver','411424ZLXeqw','trimmed','InstancesAsDisconnectedX','This\x20name\x20','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','webhook','Bloco\x20com\x20ID\x20','group','DB_PREFIX_NAME','getflow','connectedClient','DATABASE_CONNECTION_PASSWORD','Profile\x20not\x20found','path','connectToWhatsapp','getOwnPropertyDescriptor','buttonId','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','\x20after\x20','request\x20received\x20in\x20editFlow','Router','Cannot\x20','request\x20received\x20in\x20scheduleMessage','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','toUpperCase','groups','):\x20não\x20encontrou','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','CHATS_SET','leadInfo.desativadoFluxoAte','formatStatusMessage','sleep','sendMessage','Conversa\x20deletada\x20com\x20sucesso.','messaging-history.set','messages.set','listMessage','groupadd','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','unhandledRejection','DELETED','fetchBusinessProfile','OrAnd','ConversationModel','Erro\x20ao\x20remover\x20label\x20','/group','paused',',\x20Comparador:\x20','subject','max','\x0aitem','birthtime','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','connectedName','true','SECRET','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','delayMessage','189IixrWQ','):\x20Campos\x20a\x20serem\x20atualizados:','isJWT','dark','setting','truncatedto','CORS','removeProfilePicture','repeat','_activatedCount','.txt','replaceOne','/automate','status','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','nextBlock:','sendPresenceUpdate','notEqual','add','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','announce','Erro\x20ao\x20editar\x20o\x20bloco:\x20','PLAYED','getScheduleMessageModelForOwner','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','fetchMessages','PRODUCT_LIST','API\x20Key\x20from\x20Request:','QRCODE_UPDATED','markMessageAsRead','chats','selectableCount','onWhatsApp','reference','STORE_MESSAGE','Connection','):\x20alterando\x20this.AutomateSystem','messages','copyDataToNewModel','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','getChatModelForOwner','sort','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','):\x20enviado\x20para\x20[','replaceVariablesChat','resetReconnectionVariables','Parando\x20aplicação,\x20atualização\x20recebida','PASSWORD','Label\x20','locationMessage','updateFlowConfig','from','width','):\x20Deletando\x20mensagem','getOwnPropertyNames','test','min','_id','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Chat\x20com\x20ID\x20','start','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','SERVER_ACK','):\x20group\x20ignored','Mensagem\x20não\x20suportada','Erro\x20ao\x20sincronizar\x20fluxos:\x20','Certbot:\x20','font','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','.docx','CONNECTION_UPDATE','):\x20Erro\x20ao\x20buscar\x20conversas\x20','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','pollOnReplyDelete','redisEnv','statusJidList','creds.update','delAll','updateAgent','):\x20Visualizando\x20AutomateSystem','#6f7bcf','createflow','messageHandle','rowId','listType','function','values','convertedOptions','groups.upsert','chats.delete','string','):\x20Query\x20params:','restart','profilePicture','insertMany','instances','-whatsapp-api','/wa-chats','uuid','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','\x20-\x20retornado:\x20','where','Converting\x20image\x20to\x20WebP\x20to\x20sticker','store','promote','longitude','keys','value','inner','instanceName','.xlsx','findGroup','some','getLabelModelForOwner','LOG_LEVEL','privacySettings','unlocked','setWebhook','Instância:\x20','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','readMessages','deleteFlow','verbose','http://ip-api.com/json','subjectOwner','sendStatus','Erro\x20ao\x20adicionar\x20label\x20','!cmd_','getMIMEType','stopMinutesMaxActives','getDelay','rows','COLOR','listen','AUTHENTICATION_JWT_SECRET','random','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','https://jsonip.com','.X-ABLabel:Celular\x0a','method','apiResponse','unreadCount','201946EGSXJU','PRESENCE_UPDATE','RemoveChatLabel','.wav','redis://127.0.0.1:6379','updateGroupsAddPrivacy','processUazapi','saveVariable','\x20minutos.\x20Será\x20às\x20','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','Error\x20updating\x20profile\x20status','jsonwebtoken','lastBlockId','substring','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Erro\x20ao\x20importar\x20chats:','/chat','floor','createGroup','expiration','pollCreationMessage','Error\x20in\x20scheduleNextCheck:\x20','urlOrBase64','CREDENTIALS','groupFetchAllParticipating','@g.us','20asrlWi','/wa-connection-update','arraybuffer','webp','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','group-participants.update','#83e421','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','):\x20Bloco\x20copiado:\x20','^\x5cd+','hSet','certonly','INFO','updateProfileStatus','contentText','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Error\x20updating\x20participants','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','labels.association','FlowController','connecting','$set','):\x20Comando\x20desconhecido:\x20','\x5cd+','lastDisconnect','Content-Type','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','Falta\x20informação\x20para\x20a\x20chamada\x20API','response','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','processApiRequest','activatedCount','created','mimetype','writeData','):\x20Ignoring\x20group\x20messages.','createInstance','and','ReplyOptions\x20finais\x20após\x20reordenação:','deleteBlock','editFlowBlock','\x20Tentativa\x20de\x20reconexão\x20','customFields','toggleEphemeral','groupSettingUpdate','flushHeaders','API\x20Key\x20inválida.','delete','isJidGroup','Font\x20is\x20required','bearer','fetchContacts','userDevicesCache','loadEnv','isLong','recebido\x20de','connectionUpdate','addBlock','groupToggleEphemeral','insert','Module\x20-\x20ON','pollCreationMessageV2','Chrome','number','base64','unreadcount','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','flow','getMessage','authModel','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','firstValue','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','#9ab6c1','Erro\x20ao\x20atualizar\x20o\x20flow.','DELIVERY_ACK','processPollUpdateMessage','now','sha256','/webhook','whatsappNumbers','chats.update','list','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','pino','@redis/client','responsavelid','integer','lean','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','conversationTimestamp','expression','messageType','object','flowIgnoreGroups','editScheduleMessage','jpegThumbnail','uncaughtException','deleteMany','notMatchRegex','context','LICENSE_INVALID','hex','SSL_CONF','updateReplyOption','Not\x20is\x20business\x20profile','pollMessage','\x5c$&','editflowblock','body','unavailable','toLowerCase','request\x20received\x20in\x20updateFlowConfig','#d8e651','limit','editChat','Erro\x20ao\x20avaliar\x20a\x20condição:\x20',',\x20Minutes\x20to\x20Close:\x20','sendList','blocks','shutdown\x20-r\x20now','PENDING','.webp','toBRL','port','\x20não\x20encontrado\x20para\x20cópia','menuType','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','_Labels','sharePass','instanceName\x20not\x20provided.','fetchProfilePicture','HOST','saveCreds','\x20com\x20sucesso.','close','encoding','\x20minutos','processConditionsTest','editConversation','getConversationModelForOwner','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','updateParticipant',',\x20saindo.','Sistema\x20atualizado\x20com\x20sucesso!','\x22\x20-\x20REMOVED'];a0_0x4e5d=function(){return _0x1abfd0;};return a0_0x4e5d();}Ys['pre'](a0_0x18e9af(0x494),function(_0x5e4d8f){const _0x57ed3e=a0_0x18e9af;delete this['flowActive'],delete this[_0x57ed3e(0x61e)],delete this[_0x57ed3e(0x417)],delete this[_0x57ed3e(0x6e9)],delete this['flowStopMinutes'],_0x5e4d8f();});var Xs=R?.[a0_0x18e9af(0x3de)](os['name'],Ys,a0_0x18e9af(0x4df)),P=require('mongoose'),Zs=require(a0_0x18e9af(0x579)),_e=class{},ea=new P[(a0_0x18e9af(0x3e0))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ns=new P[(a0_0x18e9af(0x3e0))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Hr=new P[(a0_0x18e9af(0x3e0))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x18e9af(0x612)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x18e9af(0x325)},'pollErrorMessage':{'type':String,'default':a0_0x18e9af(0x2e6)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ta=new P['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Kr=new P['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Qr=new P['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),sa=new P[(a0_0x18e9af(0x3e0))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Hr},'apirequest':Kr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ps=new P[(a0_0x18e9af(0x3e0))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),aa=new P[(a0_0x18e9af(0x3e0))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),cs=class{},Pe=new P[(a0_0x18e9af(0x3e0))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,Zs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x37244a=a0_0x18e9af;return _0x37244a(0x596)+Math['random']()[_0x37244a(0x2fb)](0x24)[_0x37244a(0x488)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ps],'variablesNotFound':{'type':[String]},'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]}});Pe[a0_0x18e9af(0x772)](a0_0x18e9af(0x494),function(_0x3a5381){const _0xda9389=a0_0x18e9af;let _0x17e1c1=new Set(),_0x5c7ca8=new Set(this[_0xda9389(0x77e)]?.['map'](_0x42a4c0=>_0x42a4c0[_0xda9389(0x10b)])),_0x5ed6c8=JSON[_0xda9389(0x676)](this),_0x44a097=/{{(?!_)([^}]*)}}/g,_0x453d46;for(;(_0x453d46=_0x44a097[_0xda9389(0x4a9)](_0x5ed6c8))!==null;)_0x5c7ca8['has'](_0x453d46[0x1])||_0x17e1c1['add'](_0x453d46[0x1]);_0x17e1c1['size']>0x0?(console['warn'](_0xda9389(0x239),Array[_0xda9389(0x54a)](_0x17e1c1)),this['variablesNotFound']=Array[_0xda9389(0x54a)](_0x17e1c1)):this[_0xda9389(0x3dd)]=[],_0x3a5381();}),Pe['pre'](a0_0x18e9af(0x2e0),function(_0x3eb39b){const _0xd16ee9=a0_0x18e9af;let _0x4fbf36=this['getUpdate']();if(_0x4fbf36&&typeof _0x4fbf36=='object'&&'$set'in _0x4fbf36){let _0x4e4718=_0x4fbf36['$set'];if(_0x4e4718){let _0x5b65f7=new Set(),_0x594395=new Set(_0x4e4718[_0xd16ee9(0x77e)]?.[_0xd16ee9(0x48c)](_0x18adcb=>_0x18adcb[_0xd16ee9(0x10b)])),_0x159b0b=JSON['stringify'](_0x4e4718),_0x8b21df=/{{(?!_)([^}]*)}}/g,_0x193638;for(;(_0x193638=_0x8b21df['exec'](_0x159b0b))!==null;)_0x594395[_0xd16ee9(0x2da)](_0x193638[0x1])||_0x5b65f7['add'](_0x193638[0x1]);_0x5b65f7[_0xd16ee9(0x1f3)]>0x0?(console[_0xd16ee9(0x365)](_0xd16ee9(0x239),Array[_0xd16ee9(0x54a)](_0x5b65f7)),_0x4e4718['variablesNotFound']=Array[_0xd16ee9(0x54a)](_0x5b65f7)):_0x4e4718['variablesNotFound']=[],this['setUpdate']({'$set':_0x4e4718});}}_0x3eb39b();});var ra=_0x411a3a=>{const _0x5f0cef=a0_0x18e9af;let _0x23f97b='z_'+_0x411a3a+_0x5f0cef(0x3a2);return R?.[_0x5f0cef(0x3de)]('FlowModel',Pe,_0x23f97b);},ia=R?.['model'](cs[a0_0x18e9af(0x10b)],Pe,a0_0x18e9af(0x603)),Yr=new P['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ps],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Qr]},{'_id':!0x1}),ls=class{},oa=new P[(a0_0x18e9af(0x3e0))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ps],'blocks':[sa],'groups':[ea],'conditions':[ta],'varedits':[aa],'replyOptions':{'type':[ns],'default':[]},'chatLog':Yr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x18e9af(0x446)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x18e9af(0x325)},'waitingMenu_replyOptions':{'type':[ns],'default':[]}}),na=_0x47829d=>{const _0x79c3e0=a0_0x18e9af;let _0x189f0a='z_'+_0x47829d+'_FlowHistorico';return R?.['model'](_0x79c3e0(0x506),oa,_0x189f0a);},ca=R?.[a0_0x18e9af(0x3de)](ls[a0_0x18e9af(0x10b)],oa,'flowConversation'),us=class{},Xr=new P[(a0_0x18e9af(0x3e0))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Zr=new P[(a0_0x18e9af(0x3e0))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),la=new P['Schema']({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Zr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Xr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ua=_0x115c84=>{const _0x43a511=a0_0x18e9af;let _0x3e4fcf='z_'+_0x115c84+_0x43a511(0x701);return R?.[_0x43a511(0x3de)](_0x43a511(0x294),la,_0x3e4fcf);},da=R?.[a0_0x18e9af(0x3de)](us['name'],la,a0_0x18e9af(0x25d)),ds=class{},ei=new P[(a0_0x18e9af(0x3e0))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ti=new P['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),si=new P['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ai=new P[(a0_0x18e9af(0x3e0))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[si]},'customFields':{'type':[ei]},'flowConfig':{'type':ti,'default':{}}}),$e=R?.[a0_0x18e9af(0x3de)](ds[a0_0x18e9af(0x10b)],ai,a0_0x18e9af(0x3a5)),pa=require(a0_0x18e9af(0x40d)),ri=new pa[(a0_0x18e9af(0x3e0))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ha=_0x19e730=>{const _0xc26850=a0_0x18e9af;let _0x45cf4b='z_'+_0x19e730+_0xc26850(0x640);return R?.['model'](_0xc26850(0x19a),ri,_0x45cf4b);},x=class{constructor(_0x1f52e4){const _0x9c3cf4=a0_0x18e9af;this[_0x9c3cf4(0xfc)]=_0x1f52e4[_0x9c3cf4(0x45d)](_0x9c3cf4(0x368));}};function A(_0x20bf26){const _0x310553=a0_0x18e9af;let _0x47b4e6={};for(let [_0x30ffb1,_0x306a84]of Object[_0x310553(0x235)](_0x20bf26))if(typeof _0x306a84=='object'&&!Array[_0x310553(0x26c)](_0x306a84)){for(let [_0x61fbe5,_0xd43664]of Object[_0x310553(0x235)](_0x306a84))_0x47b4e6[_0x30ffb1+'.'+_0x61fbe5]=_0xd43664;}else _0x47b4e6[_0x30ffb1]=_0x306a84;return _0x47b4e6;}var ke=class{constructor(_0x128804,_0x396400,_0x15e3cc,_0x547760,_0x5e98cf,_0x35a996,_0x5cde98,_0x57259a,_0x4314be,_0x1771e0,_0x57ce50){const _0x5cb0a9=a0_0x18e9af;this[_0x5cb0a9(0x668)]=_0x128804,this[_0x5cb0a9(0x25a)]=_0x396400,this[_0x5cb0a9(0x6c0)]=_0x15e3cc,this[_0x5cb0a9(0x4df)]=_0x547760,this[_0x5cb0a9(0x153)]=_0x5e98cf,this['flow']=_0x35a996,this[_0x5cb0a9(0x3f7)]=_0x5cde98,this[_0x5cb0a9(0x4d2)]=_0x57259a,this[_0x5cb0a9(0x11d)]=_0x4314be,this[_0x5cb0a9(0x415)]=_0x1771e0,this['dbClient']=_0x57ce50;}get['dbServer'](){return this['dbClient'];}},Le=class{},Fe=class extends x{[a0_0x18e9af(0x2cd)](_0x15fdd2){return zs(_0x15fdd2);}async[a0_0x18e9af(0x5fb)](_0x51e681,_0x202d44){const _0x4dd4a1=a0_0x18e9af;if(_0x51e681[_0x4dd4a1(0x15f)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x4dd4a1(0x2cd)](_0x202d44)[_0x4dd4a1(0x575)]([..._0x51e681]))[_0x4dd4a1(0x15f)]};}catch(_0x108a03){return _0x108a03;}}async[a0_0x18e9af(0x493)](_0x3dbfcc,_0x3ab76c){const _0x12ede2=a0_0x18e9af;try{let _0x261f5d=this[_0x12ede2(0x2cd)](_0x3ab76c),_0x2c2988=A(_0x3dbfcc['where']);return await _0x261f5d[_0x12ede2(0x493)](_0x2c2988)[_0x12ede2(0x540)]({'messageTimestamp':-0x1})[_0x12ede2(0x632)](_0x3dbfcc?.[_0x12ede2(0x632)]??0x0)[_0x12ede2(0x618)]();}catch{return[];}}async['delete'](_0x9f495b,_0x226a27){const _0x169a7d=a0_0x18e9af;try{let _0x54d1c4=this['getMessageModelForOwner'](_0x226a27),_0x443806=A(_0x9f495b[_0x169a7d(0x57c)]);await _0x54d1c4[_0x169a7d(0x622)](_0x443806);}catch(_0x422948){console['error'](_0x422948);}}async[a0_0x18e9af(0x70c)](_0x559e43,_0x442d86,_0x7275b4){const _0x379499=a0_0x18e9af;try{let _0x3c2b3a=this[_0x379499(0x2cd)](_0x7275b4),_0x1ba9f0=A(_0x559e43[_0x379499(0x57c)]);return await _0x3c2b3a[_0x379499(0x2e0)](_0x1ba9f0,{'$set':_0x442d86},{'new':!0x0});}catch(_0x5736d3){throw console[_0x379499(0x1b4)](_0x5736d3),_0x5736d3;}}async['insertMany'](_0x278277,_0xde5567){const _0x385ad9=a0_0x18e9af;if(_0x278277[_0x385ad9(0x15f)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x385ad9(0x2cd)](_0xde5567)[_0x385ad9(0x575)]([..._0x278277]))[_0x385ad9(0x15f)]};}catch(_0x2dce3b){return console[_0x385ad9(0x704)](_0x385ad9(0x198),_0x2dce3b),_0x2dce3b;}}async[a0_0x18e9af(0x29a)](_0x12471e){const _0x2f04f1=a0_0x18e9af;try{return await this[_0x2f04f1(0x2cd)](_0x12471e)[_0x2f04f1(0x732)][_0x2f04f1(0x1ef)](),{'success':!0x0};}catch(_0x161717){return console[_0x2f04f1(0x1b4)](_0x161717),{'success':!0x1,'error':_0x161717};}}},yr=T(require(a0_0x18e9af(0x6a7))),m=T(require(a0_0x18e9af(0x2d5))),ve=require('fs'),j=T(require(a0_0x18e9af(0x4e7))),te=T(require('axios')),br=require(a0_0x18e9af(0x579)),Sr=T(require(a0_0x18e9af(0x353))),Er=T(require(a0_0x18e9af(0x3bf))),ga=[a0_0x18e9af(0x4aa),a0_0x18e9af(0x2bf),a0_0x18e9af(0x490),a0_0x18e9af(0x78f),a0_0x18e9af(0x6b4)],ma=[a0_0x18e9af(0x40e),a0_0x18e9af(0x105),a0_0x18e9af(0x18e),a0_0x18e9af(0x66b)],Es=require('os'),It=T(require(a0_0x18e9af(0x614))),Pt=require(a0_0x18e9af(0x265)),xt=require(a0_0x18e9af(0x789)),ne=T(require(a0_0x18e9af(0x40d))),$=require(a0_0x18e9af(0x4ba)),me=class{constructor(_0xca16d7,_0x15bfc6,_0x297d9b){const _0x36a063=a0_0x18e9af;this[_0x36a063(0x35c)]=_0xca16d7,this[_0x36a063(0x778)]=_0x15bfc6,this[_0x36a063(0x10b)]=_0x297d9b;}},je=class{},Ue=class{},be=class{},qe=class{},Je=class{},fe=class{},Ve=class{},Be=class{},Ge=class{},We=class{},vt=T(require(a0_0x18e9af(0x1d4))),fa=require('fs'),wa=require(a0_0x18e9af(0x4e7));async function ze(_0x582256){const _0x57fe39=a0_0x18e9af;let _0x461f33=V[_0x57fe39(0x314)][_0x582256];if(J['ENABLED']){let _0x3e621d=R['getClient']()['db'](J[_0x57fe39(0x3cf)][_0x57fe39(0x4e2)]+_0x57fe39(0x6bb))[_0x57fe39(0x732)](_0x582256);return _0x461f33||(await _0x3e621d[_0x57fe39(0x493)]({})[_0x57fe39(0x354)]())['length']>0x0;}return _0x461f33||(0x0,fa[_0x57fe39(0x345)])((0x0,wa[_0x57fe39(0x4d1)])(ge,_0x582256));}async function ya(_0x2b0137,_0x3b5243,_0x2efaa0){const _0x42d4f1=a0_0x18e9af;if(_0x2b0137[_0x42d4f1(0x35e)][_0x42d4f1(0x4d6)](_0x42d4f1(0x218))||_0x2b0137['originalUrl']['includes'](_0x42d4f1(0x4ad))||_0x2b0137['originalUrl'][_0x42d4f1(0x4d6)](_0x42d4f1(0x433))||_0x2b0137['originalUrl']['includes'](_0x42d4f1(0x72d))||_0x2b0137[_0x42d4f1(0x35e)]['includes'](_0x42d4f1(0x3c9))||_0x2b0137[_0x42d4f1(0x35e)][_0x42d4f1(0x4d6)](_0x42d4f1(0x130))||_0x2b0137[_0x42d4f1(0x35e)]['includes'](_0x42d4f1(0x484)))return _0x2efaa0();let _0x3d24e4=_0x2b0137[_0x42d4f1(0x2ca)];if(!_0x3d24e4?.[_0x42d4f1(0x584)])throw new w(_0x42d4f1(0x642));if(!await ze(_0x3d24e4[_0x42d4f1(0x584)]))throw new k(_0x42d4f1(0x780)+_0x3d24e4[_0x42d4f1(0x584)]+'\x20instance\x20does\x20not\x20exist');_0x2efaa0();}async function ba(_0x4d655e,_0x4b3a15,_0x2204df){const _0x3a7868=a0_0x18e9af;if(_0x4d655e['originalUrl'][_0x3a7868(0x4d6)](_0x3a7868(0x218))){let _0x29f54e=_0x4d655e[_0x3a7868(0x62d)];if(await ze(_0x29f54e[_0x3a7868(0x584)]))throw new H(_0x3a7868(0x4dd)+_0x29f54e[_0x3a7868(0x584)]+_0x3a7868(0x1ea));V[_0x3a7868(0x314)][_0x29f54e['instanceName']]&&delete V[_0x3a7868(0x314)][_0x29f54e[_0x3a7868(0x584)]];}_0x2204df();}var Sa=require(a0_0x18e9af(0x4ba)),Ea=T(require(a0_0x18e9af(0x5b1))),He=a0_0x18e9af(0x4bb),oi=new N(a0_0x18e9af(0x74d));async function ni(_0xdcdbf6,_0x2dede2,_0x2b2fde){const _0x47cccb=a0_0x18e9af;let _0x3389af=_0xdcdbf6[_0x47cccb(0x45d)](_0x47cccb(0x390));if(_0x3389af&&b['get'](_0x47cccb(0x11e))[_0x47cccb(0x40b)][_0x47cccb(0x6c5)]!==_0x3389af)throw new Z();if(b['get'](_0x47cccb(0x11e))[_0x47cccb(0x40b)]['KEY']===_0x3389af)return _0x2b2fde();if((_0xdcdbf6['originalUrl'][_0x47cccb(0x4d6)]('/instance/create')||_0xdcdbf6[_0x47cccb(0x35e)][_0x47cccb(0x4d6)]('/instance/fetchInstances'))&&!_0x3389af)throw new H(_0x47cccb(0x28f),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x21e0de=b['get']('AUTHENTICATION')['JWT'];try{let [_0xf300a2,_0x357531]=_0xdcdbf6[_0x47cccb(0x45d)](_0x47cccb(0x1e9))[_0x47cccb(0x308)]('\x20');if(_0xf300a2[_0x47cccb(0x62f)]()!==_0x47cccb(0x5f2))throw new Z();if(!(0x0,Sa[_0x47cccb(0x517)])(_0x357531))throw new Z();let _0x325e1=_0xdcdbf6[_0x47cccb(0x2ca)],_0x30942e=Ea[_0x47cccb(0x30c)][_0x47cccb(0x38d)](_0x357531,_0x21e0de['SECRET'],{'ignoreExpiration':_0x21e0de[_0x47cccb(0x419)]===0x0});if(_0x325e1[_0x47cccb(0x584)]!==_0x30942e['instanceName']||He!==_0x30942e[_0x47cccb(0x451)])throw new Z();return _0x2b2fde();}catch(_0x45b1de){throw oi[_0x47cccb(0x1b4)](_0x45b1de),new Z();}}async function ci(_0x2e6b32,_0x56a281,_0x3b08fd){const _0x46726a=a0_0x18e9af;let _0xa2fc15=b[_0x46726a(0x45d)](_0x46726a(0x11e))[_0x46726a(0x40b)],_0x2ea0b4=_0x2e6b32[_0x46726a(0x45d)](_0x46726a(0x390));if(_0xa2fc15['KEY']===_0x2ea0b4)return _0x3b08fd();if(_0x2e6b32[_0x46726a(0x35e)][_0x46726a(0x4d6)]('/instance/create')){let _0x1c2dfe=Ke,_0x1311d4=_0x2e6b32[_0x46726a(0x62d)][_0x46726a(0x584)];if(_0x1c2dfe&&_0x1311d4[_0x46726a(0x62f)]()[_0x46726a(0x448)](_0x1c2dfe[_0x46726a(0x62f)]()))return _0x3b08fd();if(!_0x2ea0b4)throw new H(_0x46726a(0x28f),_0x46726a(0x68b));}if(_0x2e6b32[_0x46726a(0x35e)][_0x46726a(0x4d6)](_0x46726a(0x4ad))&&!_0x2ea0b4)throw new H(_0x46726a(0x28f),_0x46726a(0x68b));if(_0x2e6b32[_0x46726a(0x35e)][_0x46726a(0x4d6)]('/exit')&&!_0x2ea0b4)throw new H(_0x46726a(0x28f),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x2e6b32[_0x46726a(0x35e)][_0x46726a(0x4d6)](_0x46726a(0x72d))&&!_0x2ea0b4)throw new H(_0x46726a(0x28f),_0x46726a(0x68b));try{let _0x297d9d=_0x2e6b32[_0x46726a(0x2ca)];if((await le[_0x46726a(0x153)][_0x46726a(0x493)](_0x297d9d[_0x46726a(0x584)]))[_0x46726a(0x390)]===_0x2ea0b4)return _0x3b08fd();}catch{}throw new Z();}var Ca={'jwt':ni,'apikey':ci},sr=require(a0_0x18e9af(0x1d4)),C=require('uuid'),E=(..._0x5ce364)=>{const _0x366951=a0_0x18e9af;let _0x420a07={};return _0x5ce364['forEach'](_0x47e3b4=>_0x420a07[_0x47e3b4]={'minLength':0x1,'description':_0x366951(0x1d5)+_0x47e3b4+_0x366951(0x1c3)}),{'if':{'propertyNames':{'enum':[..._0x5ce364]}},'then':{'properties':_0x420a07}};},v={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'instanceName':{'type':a0_0x18e9af(0x571)}},...E(a0_0x18e9af(0x584))},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x18e9af(0x164)],...E('oldToken')},Yn={'properties':{'key':{'type':a0_0x18e9af(0x61d),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x18e9af(0x571)},'fromMe':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]}},'required':['id',a0_0x18e9af(0x3fc),a0_0x18e9af(0x18a)],...E('id',a0_0x18e9af(0x3fc))},'message':{'type':a0_0x18e9af(0x61d)}}},K={'properties':{'delay':{'type':'integer','description':a0_0x18e9af(0x49f)},'presence':{'type':a0_0x18e9af(0x571),'enum':['unavailable','available',a0_0x18e9af(0x69b),a0_0x18e9af(0x679),a0_0x18e9af(0x509)]}}},W={'type':'string','pattern':a0_0x18e9af(0x2c6),'description':a0_0x18e9af(0x1e7)},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{...W},'options':{...K},'textMessage':{'type':a0_0x18e9af(0x61d),'properties':{'text':{'type':a0_0x18e9af(0x571)}},'required':['text'],...E('text')}},'required':[a0_0x18e9af(0x3ef),'number']},va={'type':a0_0x18e9af(0x571),'pattern':a0_0x18e9af(0x2a2),'description':'Invalid\x20format'},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{...va},'options':{...K},'textMessage':{'type':a0_0x18e9af(0x61d),'properties':{'text':{'type':a0_0x18e9af(0x571)}},'required':[a0_0x18e9af(0x3da)],...E('text')}},'required':[a0_0x18e9af(0x3ef),'number']},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{...va},'options':{...K},'mediaMessage':{'type':a0_0x18e9af(0x61d),'properties':{'mediatype':{'type':a0_0x18e9af(0x571),'enum':[a0_0x18e9af(0x148),a0_0x18e9af(0x259),a0_0x18e9af(0x1af),a0_0x18e9af(0x236)]},'media':{'type':a0_0x18e9af(0x571)},'fileName':{'type':a0_0x18e9af(0x571)},'caption':{'type':a0_0x18e9af(0x571)}},'required':['mediatype','media'],...E(a0_0x18e9af(0x3b5),'caption',a0_0x18e9af(0x219))}},'required':[a0_0x18e9af(0x2e5),a0_0x18e9af(0x5ff)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':a0_0x18e9af(0x61d),'properties':{'image':{'type':a0_0x18e9af(0x571)}},'required':[a0_0x18e9af(0x148)],...E(a0_0x18e9af(0x148))}},'required':['stickerMessage',a0_0x18e9af(0x5ff)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'statusMessage':{'type':a0_0x18e9af(0x61d),'properties':{'type':{'type':a0_0x18e9af(0x571),'enum':[a0_0x18e9af(0x3da),a0_0x18e9af(0x148),a0_0x18e9af(0x236),'video']},'content':{'type':a0_0x18e9af(0x571)},'caption':{'type':a0_0x18e9af(0x571)},'backgroundColor':{'type':a0_0x18e9af(0x571)},'font':{'type':a0_0x18e9af(0x617),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x18e9af(0x473),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x18e9af(0x571),'pattern':a0_0x18e9af(0x5c9),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]}},'required':[a0_0x18e9af(0x120),a0_0x18e9af(0x6d0)],...E(a0_0x18e9af(0x120),'content')}},'required':[a0_0x18e9af(0x686)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':[a0_0x18e9af(0x148),a0_0x18e9af(0x259),a0_0x18e9af(0x1af),a0_0x18e9af(0x236)]},'media':{'type':'string'},'fileName':{'type':a0_0x18e9af(0x571)},'caption':{'type':a0_0x18e9af(0x571)}},'required':['mediatype','media'],...E(a0_0x18e9af(0x3b5),'caption',a0_0x18e9af(0x219))}},'required':['mediaMessage',a0_0x18e9af(0x5ff)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{...W},'options':{...K},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x18e9af(0x571)}},'required':['audio'],...E(a0_0x18e9af(0x236))}},'required':[a0_0x18e9af(0x490),a0_0x18e9af(0x5ff)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{...W},'pollMessage':{'type':a0_0x18e9af(0x61d),'properties':{'name':{'type':a0_0x18e9af(0x571)},'selectableCount':{'type':a0_0x18e9af(0x5ff)},'values':{'type':a0_0x18e9af(0x473),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x18e9af(0x10b),a0_0x18e9af(0x536),a0_0x18e9af(0x56d)],...E(a0_0x18e9af(0x10b),a0_0x18e9af(0x536),'values')}},'required':['number',a0_0x18e9af(0x62a)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{...W},'menuMessage':{'type':a0_0x18e9af(0x61d),'properties':{'text':{'type':a0_0x18e9af(0x571)},'choices':{'type':a0_0x18e9af(0x473),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x18e9af(0x3da),'choices'],...E(a0_0x18e9af(0x3da),a0_0x18e9af(0x125))}},'required':['number','menuMessage']},xa={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':a0_0x18e9af(0x61d),'properties':{'title':{'type':'string'},'description':{'type':a0_0x18e9af(0x571)},'footerText':{'type':a0_0x18e9af(0x571)},'buttons':{'type':a0_0x18e9af(0x473),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x18e9af(0x571)}},'required':[a0_0x18e9af(0x329),a0_0x18e9af(0x4ea)],...E('buttonText',a0_0x18e9af(0x4ea))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x18e9af(0x571)},'fileName':{'type':a0_0x18e9af(0x571)},'mediatype':{'type':a0_0x18e9af(0x571),'enum':['image',a0_0x18e9af(0x259),a0_0x18e9af(0x1af)]}},'required':[a0_0x18e9af(0x219),a0_0x18e9af(0x117)],...E(a0_0x18e9af(0x219),a0_0x18e9af(0x3b5))}},'required':[a0_0x18e9af(0x2d3),a0_0x18e9af(0x6ba)],...E(a0_0x18e9af(0x2d3),a0_0x18e9af(0x1d6))}},'required':['number','buttonMessage']},Da={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{...W},'options':{...K},'locationMessage':{'type':a0_0x18e9af(0x61d),'properties':{'latitude':{'type':a0_0x18e9af(0x5ff)},'longitude':{'type':a0_0x18e9af(0x5ff)},'name':{'type':'string'},'address':{'type':'string'}},'required':[a0_0x18e9af(0x653),a0_0x18e9af(0x580)],...E(a0_0x18e9af(0x10b),'addresss')}},'required':[a0_0x18e9af(0x5ff),'locationMessage']},_a={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{...W},'options':{...K},'listMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x18e9af(0x571)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x18e9af(0x61d),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x18e9af(0x473),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x18e9af(0x61d),'properties':{'title':{'type':a0_0x18e9af(0x571)},'description':{'type':a0_0x18e9af(0x571)},'rowId':{'type':a0_0x18e9af(0x571)}},'required':[a0_0x18e9af(0x2d3),a0_0x18e9af(0x56a)],...E(a0_0x18e9af(0x2d3),a0_0x18e9af(0x56a))}}},'required':[a0_0x18e9af(0x2d3),a0_0x18e9af(0x59a)],...E(a0_0x18e9af(0x2d3))}}},'required':[a0_0x18e9af(0x2d3),'description',a0_0x18e9af(0x329),a0_0x18e9af(0x76d)],...E('title',a0_0x18e9af(0x1d6),a0_0x18e9af(0x329),'footerText')}},'required':[a0_0x18e9af(0x5ff),a0_0x18e9af(0x4ff)]},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{...W},'options':{...K},'contactMessage':{'type':a0_0x18e9af(0x473),'items':{'type':a0_0x18e9af(0x61d),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x18e9af(0x571),'minLength':0xa}},'required':[a0_0x18e9af(0x3ae),a0_0x18e9af(0x14e)],...E(a0_0x18e9af(0x3ae))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x18e9af(0x5ff),'contactMessage']},$a={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'reactionMessage':{'type':a0_0x18e9af(0x61d),'properties':{'key':{'type':a0_0x18e9af(0x61d),'properties':{'id':{'type':a0_0x18e9af(0x571)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x18e9af(0x18a)],...E('id',a0_0x18e9af(0x3fc))},'reaction':{'type':a0_0x18e9af(0x571)}},'required':['key',a0_0x18e9af(0x127)],...E(a0_0x18e9af(0x127))}},'required':[a0_0x18e9af(0x4a5)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'numbers':{'type':a0_0x18e9af(0x473),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x18e9af(0x571),'pattern':'^\x5cd+','description':a0_0x18e9af(0x3ca)}}}},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x18e9af(0x18a),a0_0x18e9af(0x3fc)],...E('id','remoteJid')}}},'required':[a0_0x18e9af(0x58f)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'privacySettings':{'type':a0_0x18e9af(0x61d),'properties':{'readreceipts':{'type':'string','enum':[a0_0x18e9af(0x2e8),a0_0x18e9af(0x157)]},'profile':{'type':a0_0x18e9af(0x571),'enum':['all',a0_0x18e9af(0x785),a0_0x18e9af(0x28e),a0_0x18e9af(0x157)]},'status':{'type':'string','enum':[a0_0x18e9af(0x2e8),a0_0x18e9af(0x785),'contact_blacklist','none']},'online':{'type':a0_0x18e9af(0x571),'enum':['all',a0_0x18e9af(0x1a6)]},'last':{'type':a0_0x18e9af(0x571),'enum':[a0_0x18e9af(0x2e8),'contacts',a0_0x18e9af(0x28e),a0_0x18e9af(0x157)]},'groupadd':{'type':'string','enum':[a0_0x18e9af(0x2e8),a0_0x18e9af(0x785),'contact_blacklist',a0_0x18e9af(0x157)]}},'required':['readreceipts',a0_0x18e9af(0x71a),a0_0x18e9af(0x522),a0_0x18e9af(0x3a1),'last',a0_0x18e9af(0x500)],...E(a0_0x18e9af(0x306),a0_0x18e9af(0x71a),a0_0x18e9af(0x522),a0_0x18e9af(0x3a1),'last',a0_0x18e9af(0x500))}},'required':[a0_0x18e9af(0x58a)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x18e9af(0x61d),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','fromMe','remoteJid'],...E('id','remoteJid')},'messageTimestamp':{'type':a0_0x18e9af(0x617),'minLength':0x1}},'required':[a0_0x18e9af(0x66a)],...E(a0_0x18e9af(0x10c))},'archive':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]}},'required':['lastMessage','archive']},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'id':{'type':a0_0x18e9af(0x571)},'fromMe':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x18e9af(0x571)},'participant':{'type':a0_0x18e9af(0x571)}},'required':['id',a0_0x18e9af(0x18a),a0_0x18e9af(0x3fc)],...E('id','remoteJid',a0_0x18e9af(0x241))},qa={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x18e9af(0x571),'minLength':0x1},'pushName':{'type':a0_0x18e9af(0x571),'minLength':0x1},'id':{'type':a0_0x18e9af(0x571),'minLength':0x1}},...E(a0_0x18e9af(0x550),'id',a0_0x18e9af(0x44d))}}},Ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':a0_0x18e9af(0x571)}},...E(a0_0x18e9af(0x10b))},Va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'status':{'type':'string'}},...E(a0_0x18e9af(0x522))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{'type':a0_0x18e9af(0x571)},'picture':{'type':a0_0x18e9af(0x571)}}},Ba={'type':a0_0x18e9af(0x61d),'properties':{'wuid':{'type':'string'},'name':{'type':'string'},'picture':{'type':a0_0x18e9af(0x571)},'status':{'type':a0_0x18e9af(0x571)},'isBusiness':{'type':'boolean'}}},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'where':{'type':a0_0x18e9af(0x61d),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x18e9af(0x61d),'if':{'propertyNames':{'enum':[a0_0x18e9af(0x18a),a0_0x18e9af(0x3fc),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x18e9af(0x571),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x18e9af(0x571),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x18e9af(0x61d)}},...E(a0_0x18e9af(0x550))},'limit':{'type':a0_0x18e9af(0x617)}}},ec={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x18e9af(0x61d),'properties':{'_id':{'type':a0_0x18e9af(0x571)},'remoteJid':{'type':'string'},'id':{'type':a0_0x18e9af(0x571)},'fromMe':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x18e9af(0x571)},'status':{'type':a0_0x18e9af(0x571),'enum':[a0_0x18e9af(0x73d),a0_0x18e9af(0x639),a0_0x18e9af(0x555),a0_0x18e9af(0x60b),a0_0x18e9af(0x78d),'PLAYED']}},...E(a0_0x18e9af(0x550),a0_0x18e9af(0x3fc),'id',a0_0x18e9af(0x522))},'limit':{'type':a0_0x18e9af(0x617)}}},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'number':{...W},'presence':{'type':'string','enum':['unavailable','available',a0_0x18e9af(0x69b),a0_0x18e9af(0x679),a0_0x18e9af(0x509)]}},'required':['presence',a0_0x18e9af(0x5ff)]},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x18e9af(0x571)},'description':{'type':a0_0x18e9af(0x571)},'profilePicture':{'type':a0_0x18e9af(0x571)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x18e9af(0x571),'minLength':0xa,'pattern':a0_0x18e9af(0x5d7),'description':a0_0x18e9af(0x31c)}}},'required':[a0_0x18e9af(0x50b),'participants'],...E('subject','description',a0_0x18e9af(0x574))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'groupJid':{'type':a0_0x18e9af(0x571),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x18e9af(0x659)],...E(a0_0x18e9af(0x659))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'groupJid':{'type':a0_0x18e9af(0x571)},'action':{'type':a0_0x18e9af(0x571),'enum':['add',a0_0x18e9af(0x234),a0_0x18e9af(0x57f),a0_0x18e9af(0x3af)]},'participants':{'type':a0_0x18e9af(0x473),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x18e9af(0x5d7),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x18e9af(0x659),a0_0x18e9af(0x725),a0_0x18e9af(0x48a)],...E(a0_0x18e9af(0x659),a0_0x18e9af(0x725))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'groupJid':{'type':a0_0x18e9af(0x571)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x18e9af(0x659),'expiration'],...E(a0_0x18e9af(0x659),a0_0x18e9af(0x5b9))},Qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'image':{'type':'string'}},'required':[a0_0x18e9af(0x659),'image'],...E(a0_0x18e9af(0x659),a0_0x18e9af(0x148))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'groupJid':{'type':a0_0x18e9af(0x571)},'description':{'type':'string'}},'required':[a0_0x18e9af(0x659),a0_0x18e9af(0x1d6)],...E(a0_0x18e9af(0x659),a0_0x18e9af(0x1d6))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'groupJid':{'type':a0_0x18e9af(0x571)},'name':{'type':'string'}},'required':[a0_0x18e9af(0x659),a0_0x18e9af(0x10b)],...E('groupJid','name')},Za={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'groupJid':{'type':a0_0x18e9af(0x571)},'setting':{'type':'string','enum':[a0_0x18e9af(0x3ff),'not_announcement',a0_0x18e9af(0x58b),'locked']}},'required':[a0_0x18e9af(0x659),a0_0x18e9af(0x519)],...E(a0_0x18e9af(0x659),a0_0x18e9af(0x519))},er={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x18e9af(0x2c3)],...E('inviteCode')},tr={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'url':{'type':a0_0x18e9af(0x571)},'enabled':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]}},'required':[a0_0x18e9af(0x747),a0_0x18e9af(0x475)]},tc={'$id':(0x0,C['v4'])(),'type':a0_0x18e9af(0x61d),'properties':{'local_map':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x18e9af(0x388),'enum':[!0x0,!0x1]}},'required':[a0_0x18e9af(0x1e8),a0_0x18e9af(0x37a),a0_0x18e9af(0x533),a0_0x18e9af(0x174),'MESSAGES_UPDATE',a0_0x18e9af(0x459),a0_0x18e9af(0x1fe),'CONTACTS_SET',a0_0x18e9af(0x2ab),'CONTACTS_UPDATE',a0_0x18e9af(0x5a7),a0_0x18e9af(0x4f7),a0_0x18e9af(0x72f),a0_0x18e9af(0x192),'CHATS_DELETE',a0_0x18e9af(0x55d),a0_0x18e9af(0x3f6),a0_0x18e9af(0x342),a0_0x18e9af(0x1a0)],...E(a0_0x18e9af(0x1e8),a0_0x18e9af(0x37a),a0_0x18e9af(0x533),a0_0x18e9af(0x174),a0_0x18e9af(0x464),a0_0x18e9af(0x459),a0_0x18e9af(0x1fe),a0_0x18e9af(0x171),a0_0x18e9af(0x2ab),'CONTACTS_UPDATE','PRESENCE_UPDATE',a0_0x18e9af(0x4f7),a0_0x18e9af(0x72f),a0_0x18e9af(0x192),a0_0x18e9af(0x6c6),a0_0x18e9af(0x55d),a0_0x18e9af(0x3f6),a0_0x18e9af(0x342),a0_0x18e9af(0x1a0))},Qe=class{},Ye=class extends x{[a0_0x18e9af(0x304)](_0xb12689){return Gs(_0xb12689);}async[a0_0x18e9af(0x5fb)](_0x145ddf){const _0x3e1e7d=a0_0x18e9af;if(_0x145ddf[_0x3e1e7d(0x15f)]!==0x0)try{return{'insertCount':(await this[_0x3e1e7d(0x304)](_0x145ddf[0x0][_0x3e1e7d(0x74a)])[_0x3e1e7d(0x575)]([..._0x145ddf]))[_0x3e1e7d(0x15f)]};}catch(_0xd4902f){return _0xd4902f;}}async[a0_0x18e9af(0x5ef)](_0xfa9a3c,_0x40cf45){const _0x5e6e79=a0_0x18e9af;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x40cf45)[_0x5e6e79(0x622)]({..._0xfa9a3c[_0x5e6e79(0x57c)]}))[_0x5e6e79(0x4b8)]};}catch(_0x4cf5d7){return{'error':_0x4cf5d7?.[_0x5e6e79(0x2fb)]()};}}async[a0_0x18e9af(0x70c)](_0x2914db,_0x290dde){const _0x2bb14c=a0_0x18e9af;try{if(_0x2914db[_0x2bb14c(0x15f)]===0x0)return;let _0x1b3266=this['getContactModelForOwner'](_0x290dde),_0x24a0ff=_0x2914db[_0x2bb14c(0x48c)](_0x54825f=>({'updateOne':{'filter':{'_id':_0x54825f['_id'],'owner':_0x290dde},'update':{..._0x54825f}}})),{modifiedCount:_0x337444}=await _0x1b3266[_0x2bb14c(0x36d)](_0x24a0ff);return{'insertCount':_0x337444};}catch{return;}}async['find'](_0x110170,_0x546057){const _0x395768=a0_0x18e9af;try{let _0x1e8b7e=this[_0x395768(0x304)](_0x546057),_0x96010d=A(_0x110170[_0x395768(0x57c)]);return await _0x1e8b7e['find'](_0x96010d)[_0x395768(0x632)](_0x110170?.[_0x395768(0x632)]??0x0)[_0x395768(0x618)]();}catch{return[];}}async[a0_0x18e9af(0x238)](_0xe8a4fa,_0x2d0e90){const _0x112ebf=a0_0x18e9af;try{let _0x8df5a7=this[_0x112ebf(0x304)](_0x2d0e90),_0x1e7170=A(_0xe8a4fa[_0x112ebf(0x57c)]);return await _0x8df5a7['findOne'](_0x1e7170)['lean']();}catch{return null;}}async['deleteAll'](_0x25402f){const _0x2d4a5b=a0_0x18e9af;try{return await this[_0x2d4a5b(0x304)](_0x25402f)[_0x2d4a5b(0x732)][_0x2d4a5b(0x1ef)](),{'success':!0x0};}catch(_0x143824){return console['error'](_0x143824),{'success':!0x1,'error':_0x143824};}}},Xe=require('jsonschema'),uc=require(a0_0x18e9af(0x4b6)),hs=new N(a0_0x18e9af(0x2ff)),U=class{[a0_0x18e9af(0x6e7)](_0x2a4f36,_0x130bba=!0x0){const _0x571dc2=a0_0x18e9af;let _0x3c9e81='/'+_0x2a4f36;return _0x130bba&&(_0x3c9e81+=_0x571dc2(0x2c9)),_0x3c9e81;}async[a0_0x18e9af(0x6c9)](_0x4ba29e){const _0x3817af=a0_0x18e9af;let {request:_0x5ed01e,schema:_0x5d80f4,ClassRef:_0x4123af,execute:_0x43bf30}=_0x4ba29e,_0x2bbf04=new _0x4123af(),_0x37c2df=_0x5ed01e['body'],_0x5a16d2=_0x5ed01e[_0x3817af(0x2ca)];_0x5ed01e?.[_0x3817af(0x132)]&&Object[_0x3817af(0x581)](_0x5ed01e[_0x3817af(0x132)])[_0x3817af(0x15f)]>0x0&&Object['assign'](_0x5a16d2,_0x5ed01e[_0x3817af(0x132)]),_0x5ed01e[_0x3817af(0x35e)][_0x3817af(0x4d6)](_0x3817af(0x218))&&Object[_0x3817af(0x735)](_0x5a16d2,_0x37c2df),Object['assign'](_0x2bbf04,_0x37c2df);let _0x19d8ff=_0x5d80f4?(0x0,Xe[_0x3817af(0x680)])(_0x2bbf04,_0x5d80f4):{'valid':!0x0,'errors':[]};if(!_0x19d8ff['valid']){let _0x3e6e61=_0x19d8ff[_0x3817af(0x2bc)][_0x3817af(0x48c)](({property:_0x3489ab,stack:_0x337353,schema:_0x421952})=>{const _0x5e126f=_0x3817af;let _0x565296;return _0x421952[_0x5e126f(0x1d6)]?_0x565296=_0x421952[_0x5e126f(0x1d6)]:_0x565296=_0x337353[_0x5e126f(0x23f)](_0x5e126f(0x405),''),{'property':_0x3489ab['replace']('instance.',''),'message':_0x565296};});throw hs[_0x3817af(0x1b4)]([..._0x3e6e61]),new w(..._0x3e6e61);}return await _0x43bf30(_0x5a16d2,_0x2bbf04);}async['groupValidate'](_0x3f5602){const _0x15904a=a0_0x18e9af;let {request:_0x31bc1e,ClassRef:_0x46f4ac,schema:_0xad52ba,execute:_0x3dd008}=_0x3f5602,_0xfbae6c=_0x31bc1e['query'];if(!_0xfbae6c?.[_0x15904a(0x659)])throw new w('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x15904a(0x3fb));let _0x23287c=_0x31bc1e[_0x15904a(0x2ca)],_0x2ee8b6=_0x31bc1e[_0x15904a(0x62d)],_0x586bdd=new _0x46f4ac();Object['assign'](_0x2ee8b6,_0xfbae6c),Object[_0x15904a(0x735)](_0x586bdd,_0x2ee8b6);let _0x4d013d=(0x0,Xe[_0x15904a(0x680)])(_0x586bdd,_0xad52ba);if(!_0x4d013d[_0x15904a(0x34e)]){let _0x2821c6=_0x4d013d['errors'][_0x15904a(0x48c)](({property:_0x8ed444,stack:_0x2f5951,schema:_0x4dd8de})=>{const _0x4722a9=_0x15904a;let _0x3562ab;return _0x4dd8de['description']?_0x3562ab=_0x4dd8de[_0x4722a9(0x1d6)]:_0x3562ab=_0x2f5951[_0x4722a9(0x23f)](_0x4722a9(0x405),''),{'property':_0x8ed444[_0x4722a9(0x23f)](_0x4722a9(0x405),''),'message':_0x3562ab};});throw hs[_0x15904a(0x1b4)]([..._0x2821c6]),new w(..._0x2821c6);}return await _0x3dd008(_0x23287c,_0x586bdd);}async[a0_0x18e9af(0x2c0)](_0x689da3){const _0x3bcd93=a0_0x18e9af;let {request:_0x33d2b0,ClassRef:_0x532536,schema:_0x8ca3fa,execute:_0x2a6029}=_0x689da3,_0x553853=_0x33d2b0['body'];if(!_0x553853?.[_0x3bcd93(0x2c3)])throw new w(_0x3bcd93(0x2b7),_0x3bcd93(0x6a1));let _0x807467=_0x33d2b0[_0x3bcd93(0x2ca)],_0x555374=_0x33d2b0['body'],_0x59ef21=new _0x532536();Object[_0x3bcd93(0x735)](_0x555374,_0x553853),Object[_0x3bcd93(0x735)](_0x59ef21,_0x555374);let _0x33f470=(0x0,Xe[_0x3bcd93(0x680)])(_0x59ef21,_0x8ca3fa);if(!_0x33f470[_0x3bcd93(0x34e)]){let _0x2b8050=_0x33f470[_0x3bcd93(0x2bc)][_0x3bcd93(0x48c)](({property:_0x3e8cc5,stack:_0x3f2c1c,schema:_0xff8886})=>{const _0x79d564=_0x3bcd93;let _0x10192e;return _0xff8886['description']?_0x10192e=_0xff8886['description']:_0x10192e=_0x3f2c1c[_0x79d564(0x23f)]('instance.',''),{'property':_0x3e8cc5[_0x79d564(0x23f)](_0x79d564(0x405),''),'message':_0x10192e};});throw hs['error']([..._0x2b8050]),new w(..._0x2b8050);}return await _0x2a6029(_0x807467,_0x59ef21);}},S=class{},Nc=new N(a0_0x18e9af(0x263)),Ze=class extends U{constructor(..._0x53ed20){const _0x18eb81=a0_0x18e9af;super(),this['router']=(0x0,sr[_0x18eb81(0x4ee)])(),this[_0x18eb81(0x35a)][_0x18eb81(0x1e5)](this[_0x18eb81(0x6e7)](_0x18eb81(0x6dd)),..._0x53ed20,async(_0x4b6731,_0x4a217e)=>{const _0x37be9d=_0x18eb81;let _0x2c95ca=await this['dataValidate']({'request':_0x4b6731,'schema':Wa,'ClassRef':je,'execute':(_0x4db06b,_0x7025ec)=>D[_0x37be9d(0x6dd)](_0x4db06b,_0x7025ec)});return _0x4a217e[_0x37be9d(0x522)](0xc9)[_0x37be9d(0x6d8)](_0x2c95ca);})['post'](this['routerPath'](_0x18eb81(0x610)),..._0x53ed20,async(_0x522692,_0xf50360)=>{const _0x368830=_0x18eb81;let _0x29e2c3=await this['dataValidate']({'request':_0x522692,'schema':ka,'ClassRef':Ue,'execute':(_0x487990,_0x4f3fd6)=>D[_0x368830(0x407)](_0x487990,_0x4f3fd6)});return _0xf50360[_0x368830(0x522)](0xc9)[_0x368830(0x6d8)](_0x29e2c3);})[_0x18eb81(0x1e5)](this[_0x18eb81(0x6e7)](_0x18eb81(0x633)),..._0x53ed20,async(_0xdeabe8,_0x218e16)=>{const _0x4b2e96=_0x18eb81;let _0x1e33f3=await this[_0x4b2e96(0x6c9)]({'request':_0xdeabe8,'schema':v,'ClassRef':S,'execute':(_0x2ca3e6,_0x2d8560)=>D[_0x4b2e96(0x633)](_0x2ca3e6,_0x2d8560)});return _0x218e16[_0x4b2e96(0x522)](0xc9)['json'](_0x1e33f3);})['put'](this[_0x18eb81(0x6e7)](_0x18eb81(0x534)),..._0x53ed20,async(_0x411cfd,_0x44a33c)=>{const _0x3da46c=_0x18eb81;let _0x193229=await this[_0x3da46c(0x6c9)]({'request':_0x411cfd,'schema':La,'ClassRef':Ve,'execute':(_0x3cdaba,_0x3713e2)=>D[_0x3da46c(0x384)](_0x3cdaba,_0x3713e2)});return _0x44a33c[_0x3da46c(0x522)](0xc9)[_0x3da46c(0x6d8)](_0x193229);})[_0x18eb81(0x443)](this[_0x18eb81(0x6e7)](_0x18eb81(0x6f4)),..._0x53ed20,async(_0x1ada1b,_0x577b43)=>{const _0x3caf4d=_0x18eb81;let _0x4cbfb1=await this[_0x3caf4d(0x6c9)]({'request':_0x1ada1b,'schema':ja,'ClassRef':Be,'execute':(_0x23f485,_0x472c7c)=>D[_0x3caf4d(0x6f4)](_0x23f485,_0x472c7c)});return _0x577b43[_0x3caf4d(0x522)](0xc9)['json'](_0x4cbfb1);})[_0x18eb81(0x5ef)](this[_0x18eb81(0x6e7)](_0x18eb81(0x712)),..._0x53ed20,async(_0x551d66,_0x47076c)=>{const _0x2bf97b=_0x18eb81;let _0x1670cd=await this[_0x2bf97b(0x6c9)]({'request':_0x551d66,'schema':Ua,'ClassRef':We,'execute':(_0x3df93a,_0x4e1dfe)=>D[_0x2bf97b(0x414)](_0x3df93a,_0x4e1dfe)});return _0x47076c[_0x2bf97b(0x522)](0xc9)[_0x2bf97b(0x6d8)](_0x1670cd);})[_0x18eb81(0x1e5)](this[_0x18eb81(0x6e7)](_0x18eb81(0x226)),..._0x53ed20,async(_0x483a4e,_0x173d20)=>{const _0x1d171b=_0x18eb81;let _0x494487=await this[_0x1d171b(0x6c9)]({'request':_0x483a4e,'schema':Se,'ClassRef':be,'execute':(_0x3920a2,_0x265bca)=>D['fetchProfilePicture'](_0x3920a2,_0x265bca)});return _0x173d20[_0x1d171b(0x522)](0xc8)[_0x1d171b(0x6d8)](_0x494487);})['post'](this['routerPath'](_0x18eb81(0x25e)),..._0x53ed20,async(_0x3d8e73,_0xb50c48)=>{const _0x492796=_0x18eb81;let _0x5b942c=await this[_0x492796(0x6c9)]({'request':_0x3d8e73,'schema':Ba,'ClassRef':be,'execute':(_0x2cd9fd,_0x26f8aa)=>D[_0x492796(0x25e)](_0x2cd9fd,_0x26f8aa)});return _0xb50c48['status'](0xc8)['json'](_0x5b942c);})[_0x18eb81(0x1e5)](this['routerPath']('findContacts'),..._0x53ed20,async(_0x15a667,_0x26ee0a)=>{const _0x109cd1=_0x18eb81;let _0x5ac60b=await this[_0x109cd1(0x6c9)]({'request':_0x15a667,'schema':qa,'ClassRef':Qe,'execute':(_0x5da03a,_0x49ca25)=>D[_0x109cd1(0x5f3)](_0x5da03a,_0x49ca25)});return _0x26ee0a[_0x109cd1(0x522)](0xc8)['json'](_0x5ac60b);})[_0x18eb81(0x1e5)](this['routerPath'](_0x18eb81(0x489)),..._0x53ed20,async(_0x3f2874,_0x1977dc)=>{const _0x2c5ce5=_0x18eb81;let _0x5be975=await this['dataValidate']({'request':_0x3f2874,'schema':null,'ClassRef':Object,'execute':(_0x2c2e31,_0x1ef15e)=>D[_0x2c5ce5(0x489)](_0x2c2e31,_0x1ef15e)});return _0x1977dc['status'](0xc9)[_0x2c5ce5(0x6d8)](_0x5be975);})['post'](this[_0x18eb81(0x6e7)](_0x18eb81(0xff)),..._0x53ed20,async(_0x2a42ca,_0x67a760)=>{const _0x566c85=_0x18eb81;let _0x3dc478=await this[_0x566c85(0x6c9)]({'request':_0x2a42ca,'schema':Ga,'ClassRef':Le,'execute':(_0x2d681f,_0x1f08cb)=>D['fetchMessages'](_0x2d681f,_0x1f08cb)});return _0x67a760[_0x566c85(0x522)](0xc8)[_0x566c85(0x6d8)](_0x3dc478);})[_0x18eb81(0x45d)](this['routerPath'](_0x18eb81(0x2d0)),..._0x53ed20,async(_0x29f1e9,_0x3465fe)=>{const _0x292a86=_0x18eb81;let _0x62b22d=await this[_0x292a86(0x6c9)]({'request':_0x29f1e9,'schema':null,'ClassRef':S,'execute':_0x4d630d=>D[_0x292a86(0x6be)](_0x4d630d)});return _0x3465fe[_0x292a86(0x522)](0xc8)[_0x292a86(0x6d8)](_0x62b22d);})[_0x18eb81(0x45d)](this[_0x18eb81(0x6e7)](_0x18eb81(0x13c)),..._0x53ed20,async(_0xacbe24,_0xd7f976)=>{const _0x50bc88=_0x18eb81;let _0xe3991a=await this[_0x50bc88(0x6c9)]({'request':_0xacbe24,'schema':null,'ClassRef':S,'execute':_0x3d7ee7=>D[_0x50bc88(0x337)](_0x3d7ee7)});return _0xd7f976[_0x50bc88(0x522)](0xc8)[_0x50bc88(0x6d8)](_0xe3991a);})['put'](this[_0x18eb81(0x6e7)](_0x18eb81(0x6df)),..._0x53ed20,async(_0x13a5fb,_0x462db2)=>{const _0x25e452=_0x18eb81;let _0x3ffbe5=await this[_0x25e452(0x6c9)]({'request':_0x13a5fb,'schema':null,'ClassRef':Array,'execute':(_0x1b3e32,_0x4e8822)=>D['importChats'](_0x1b3e32,_0x4e8822)});return _0x462db2[_0x25e452(0x522)](0xc8)[_0x25e452(0x6d8)](_0x3ffbe5);})['get'](this[_0x18eb81(0x6e7)](_0x18eb81(0x307)),..._0x53ed20,async(_0xba15ed,_0x1246b4)=>{const _0x45683f=_0x18eb81;let _0x461280=await this[_0x45683f(0x6c9)]({'request':_0xba15ed,'schema':null,'ClassRef':S,'execute':_0x56ce71=>D[_0x45683f(0x307)](_0x56ce71)});return _0x1246b4[_0x45683f(0x522)](0xc8)[_0x45683f(0x6d8)](_0x461280);})[_0x18eb81(0x443)](this[_0x18eb81(0x6e7)](_0x18eb81(0x718)),..._0x53ed20,async(_0x1a0889,_0x1181cf)=>{const _0x4858fd=_0x18eb81;let _0x1229f0=await this[_0x4858fd(0x6c9)]({'request':_0x1a0889,'schema':Fa,'ClassRef':Ge,'execute':(_0x3c97b5,_0x23e97e)=>D[_0x4858fd(0x718)](_0x3c97b5,_0x23e97e)});return _0x1181cf[_0x4858fd(0x522)](0xc9)[_0x4858fd(0x6d8)](_0x1229f0);})[_0x18eb81(0x1e5)](this[_0x18eb81(0x6e7)](_0x18eb81(0x504)),..._0x53ed20,async(_0x30e671,_0x4956cb)=>{const _0x581bf7=_0x18eb81;let _0x24d250=await this[_0x581bf7(0x6c9)]({'request':_0x30e671,'schema':Se,'ClassRef':fe,'execute':(_0x43276c,_0x230c4f)=>D[_0x581bf7(0x504)](_0x43276c,_0x230c4f)});return _0x4956cb[_0x581bf7(0x522)](0xc8)[_0x581bf7(0x6d8)](_0x24d250);})[_0x18eb81(0x1e5)](this[_0x18eb81(0x6e7)]('updateProfileName'),..._0x53ed20,async(_0x5768a6,_0x441430)=>{const _0x4583e1=_0x18eb81;let _0xab1f04=await this[_0x4583e1(0x6c9)]({'request':_0x5768a6,'schema':Ja,'ClassRef':qe,'execute':(_0x4525a9,_0x235934)=>D[_0x4583e1(0x211)](_0x4525a9,_0x235934)});return _0x441430[_0x4583e1(0x522)](0xc8)[_0x4583e1(0x6d8)](_0xab1f04);})[_0x18eb81(0x1e5)](this[_0x18eb81(0x6e7)](_0x18eb81(0x5cd)),..._0x53ed20,async(_0x236347,_0x1e3d72)=>{const _0x2a92ff=_0x18eb81;let _0x15f8e7=await this['dataValidate']({'request':_0x236347,'schema':Va,'ClassRef':Je,'execute':(_0x1a4ce1,_0x1316bb)=>D['updateProfileStatus'](_0x1a4ce1,_0x1316bb)});return _0x1e3d72[_0x2a92ff(0x522)](0xc8)[_0x2a92ff(0x6d8)](_0x15f8e7);})['put'](this[_0x18eb81(0x6e7)]('updateProfilePicture'),..._0x53ed20,async(_0x5e9cae,_0x120fbc)=>{const _0x487238=_0x18eb81;let _0x1426f8=await this['dataValidate']({'request':_0x5e9cae,'schema':Se,'ClassRef':fe,'execute':(_0x5b7088,_0x40b44e)=>D[_0x487238(0x1d2)](_0x5b7088,_0x40b44e)});return _0x120fbc[_0x487238(0x522)](0xc8)[_0x487238(0x6d8)](_0x1426f8);})[_0x18eb81(0x5ef)](this['routerPath'](_0x18eb81(0x51c)),..._0x53ed20,async(_0x351dab,_0x516ad0)=>{const _0x426e92=_0x18eb81;let _0x5767d5=await this[_0x426e92(0x6c9)]({'request':_0x351dab,'schema':Se,'ClassRef':fe,'execute':(_0x432be1,_0x501636)=>D[_0x426e92(0x51c)](_0x432be1,_0x501636)});return _0x516ad0[_0x426e92(0x522)](0xc8)[_0x426e92(0x6d8)](_0x5767d5);});}},ar=require(a0_0x18e9af(0x1d4)),et=class{},tt=class{},st=class{},at=class{},rt=class{},Q=class{},it=class{},ot=class extends Q{},nt=class extends Q{},ct=class extends U{constructor(..._0x57a570){const _0x50ad0b=a0_0x18e9af;super(),this[_0x50ad0b(0x35a)]=(0x0,ar[_0x50ad0b(0x4ee)])(),this[_0x50ad0b(0x35a)][_0x50ad0b(0x1e5)](this[_0x50ad0b(0x6e7)](_0x50ad0b(0x1bb)),..._0x57a570,async(_0x3b7287,_0xccbb33)=>{const _0x552810=_0x50ad0b;let _0x51ef44=await this['dataValidate']({'request':_0x3b7287,'schema':za,'ClassRef':et,'execute':(_0x3f80f6,_0x4c623f)=>F[_0x552810(0x5b8)](_0x3f80f6,_0x4c623f)});_0xccbb33[_0x552810(0x522)](0xc9)['json'](_0x51ef44);})['put'](this[_0x50ad0b(0x6e7)](_0x50ad0b(0x2ee)),..._0x57a570,async(_0x72ef9,_0x3ba200)=>{const _0xd71d88=_0x50ad0b;let _0x51dda7=await this[_0xd71d88(0x28b)]({'request':_0x72ef9,'schema':Qa,'ClassRef':tt,'execute':(_0x1979ba,_0x5f1a2e)=>F['updateGroupPicture'](_0x1979ba,_0x5f1a2e)});_0x3ba200['status'](0xc9)[_0xd71d88(0x6d8)](_0x51dda7);})['put'](this[_0x50ad0b(0x6e7)](_0x50ad0b(0x3cd)),..._0x57a570,async(_0x44987,_0x17b831)=>{const _0x1f4597=_0x50ad0b;let _0x1a4993=await this[_0x1f4597(0x28b)]({'request':_0x44987,'schema':Ya,'ClassRef':st,'execute':(_0x404f11,_0x80117)=>F[_0x1f4597(0x3cd)](_0x404f11,_0x80117)});_0x17b831[_0x1f4597(0x522)](0xc9)['json'](_0x1a4993);})[_0x50ad0b(0x443)](this[_0x50ad0b(0x6e7)](_0x50ad0b(0x434)),..._0x57a570,async(_0x3ee00b,_0xa6f445)=>{const _0x31e27a=_0x50ad0b;let _0x524542=await this['groupValidate']({'request':_0x3ee00b,'schema':Xa,'ClassRef':at,'execute':(_0x434180,_0x5ea9a6)=>F[_0x31e27a(0x434)](_0x434180,_0x5ea9a6)});_0xa6f445[_0x31e27a(0x522)](0xc9)[_0x31e27a(0x6d8)](_0x524542);})[_0x50ad0b(0x443)](this[_0x50ad0b(0x6e7)](_0x50ad0b(0x108)),..._0x57a570,async(_0x2e6ba0,_0xbe560b)=>{const _0x1e4bc4=_0x50ad0b;let _0x590c21=await this[_0x1e4bc4(0x28b)]({'request':_0x2e6ba0,'schema':Za,'ClassRef':rt,'execute':(_0x480f0b,_0x30e943)=>F[_0x1e4bc4(0x108)](_0x480f0b,_0x30e943)});_0xbe560b[_0x1e4bc4(0x522)](0xc9)[_0x1e4bc4(0x6d8)](_0x590c21);})[_0x50ad0b(0x443)](this['routerPath']('toggleEphemeral'),..._0x57a570,async(_0x2b971b,_0x118307)=>{const _0x2ebfb1=_0x50ad0b;let _0x42fe87=await this[_0x2ebfb1(0x28b)]({'request':_0x2b971b,'schema':Ka,'ClassRef':nt,'execute':(_0x17e96f,_0x286d72)=>F[_0x2ebfb1(0x5eb)](_0x17e96f,_0x286d72)});_0x118307[_0x2ebfb1(0x522)](0xc9)[_0x2ebfb1(0x6d8)](_0x42fe87);})['get'](this[_0x50ad0b(0x6e7)](_0x50ad0b(0x200)),..._0x57a570,async(_0x3daa3c,_0x26d5e4)=>{const _0x5c2059=_0x50ad0b;let _0x3757bd=await this['groupValidate']({'request':_0x3daa3c,'schema':Ee,'ClassRef':Q,'execute':(_0x4ae90a,_0x2cb3a6)=>F[_0x5c2059(0x17e)](_0x4ae90a,_0x2cb3a6)});_0x26d5e4[_0x5c2059(0x522)](0xc8)['json'](_0x3757bd);})[_0x50ad0b(0x45d)](this['routerPath'](_0x50ad0b(0x183)),..._0x57a570,async(_0x3d459b,_0x275497)=>{const _0x2fbdbe=_0x50ad0b;let _0x31ecdf=await this[_0x2fbdbe(0x6c9)]({'request':_0x3d459b,'schema':v,'ClassRef':S,'execute':_0x154501=>F[_0x2fbdbe(0x183)](_0x154501)});_0x275497[_0x2fbdbe(0x522)](0xc8)[_0x2fbdbe(0x6d8)](_0x31ecdf);})['get'](this[_0x50ad0b(0x6e7)](_0x50ad0b(0x48a)),..._0x57a570,async(_0x49bef2,_0x592819)=>{const _0x3a393f=_0x50ad0b;let _0x3064ea=await this['groupValidate']({'request':_0x49bef2,'schema':Ee,'ClassRef':Q,'execute':(_0xe31a38,_0x447a89)=>F['findParticipants'](_0xe31a38,_0x447a89)});_0x592819['status'](0xc8)[_0x3a393f(0x6d8)](_0x3064ea);})['get'](this[_0x50ad0b(0x6e7)](_0x50ad0b(0x2c3)),..._0x57a570,async(_0x463cf1,_0x3b418c)=>{const _0x22c734=_0x50ad0b;let _0x22aebb=await this[_0x22c734(0x28b)]({'request':_0x463cf1,'schema':Ee,'ClassRef':Q,'execute':(_0x37383a,_0x4eecf2)=>F[_0x22c734(0x2c3)](_0x37383a,_0x4eecf2)});_0x3b418c[_0x22c734(0x522)](0xc8)[_0x22c734(0x6d8)](_0x22aebb);})['put'](this['routerPath'](_0x50ad0b(0x69c)),..._0x57a570,async(_0x2d648f,_0x2b75a1)=>{const _0x483dbd=_0x50ad0b;let _0x319ed9=await this['joinGroupValidate']({'request':_0x2d648f,'schema':er,'ClassRef':it,'execute':(_0x2b4fc8,_0x4b16da)=>F[_0x483dbd(0x69c)](_0x2b4fc8,_0x4b16da)});_0x2b75a1[_0x483dbd(0x522)](0xc9)[_0x483dbd(0x6d8)](_0x319ed9);})[_0x50ad0b(0x443)](this[_0x50ad0b(0x6e7)](_0x50ad0b(0x6e5)),..._0x57a570,async(_0x181ac3,_0x159c74)=>{const _0x3e262a=_0x50ad0b;let _0x3bf57b=await this[_0x3e262a(0x28b)]({'request':_0x181ac3,'schema':Ee,'ClassRef':Q,'execute':(_0x5ecba3,_0x5e2fd0)=>F['revokeInviteCode'](_0x5ecba3,_0x5e2fd0)});_0x159c74[_0x3e262a(0x522)](0xc9)['json'](_0x3bf57b);})[_0x50ad0b(0x443)](this['routerPath'](_0x50ad0b(0x64e)),..._0x57a570,async(_0x210c6d,_0x17c74b)=>{const _0xdc980a=_0x50ad0b;let _0x235542=await this[_0xdc980a(0x28b)]({'request':_0x210c6d,'schema':Ha,'ClassRef':ot,'execute':(_0x3c6af8,_0x3980d4)=>F['updateGParticipate'](_0x3c6af8,_0x3980d4)});_0x17c74b[_0xdc980a(0x522)](0xc9)['json'](_0x235542);})[_0x50ad0b(0x5ef)](this[_0x50ad0b(0x6e7)](_0x50ad0b(0x66e)),..._0x57a570,async(_0x2575c3,_0x36197e)=>{const _0x1d44b7=_0x50ad0b;let _0x42dfc7=await this[_0x1d44b7(0x28b)]({'request':_0x2575c3,'schema':{},'ClassRef':Q,'execute':(_0x151f0a,_0xdab323)=>F[_0x1d44b7(0x66e)](_0x151f0a,_0xdab323)});_0x36197e[_0x1d44b7(0x522)](0xc8)['json'](_0x42dfc7);});}},rr=require(a0_0x18e9af(0x1d4)),lt=class extends U{constructor(_0x24f3a4,..._0x128192){const _0x66ca5d=a0_0x18e9af;super(),this['configService']=_0x24f3a4,this[_0x66ca5d(0x35a)]=(0x0,rr[_0x66ca5d(0x4ee)])();let _0x47b3da=_0x24f3a4[_0x66ca5d(0x45d)](_0x66ca5d(0x11e));this[_0x66ca5d(0x35a)][_0x66ca5d(0x1e5)]('/create',..._0x128192,async(_0x44b096,_0x5aa4b4)=>{const _0xf98673=_0x66ca5d;let {instanceName:_0x29b180,apikey:_0x47d57b,number:_0x220dbb}=_0x44b096[_0xf98673(0x62d)],_0x36a4ff=await ae['createInstance']({'instanceName':_0x29b180,'apikey':_0x47d57b,'number':_0x220dbb});return _0x5aa4b4['status'](0xc9)[_0xf98673(0x6d8)](_0x36a4ff);})['put'](this[_0x66ca5d(0x6e7)](_0x66ca5d(0x573)),..._0x128192,async(_0xfebd8f,_0x3d6ae0)=>{const _0x30f8bc=_0x66ca5d;let _0x3ad498=await this['dataValidate']({'request':_0xfebd8f,'schema':v,'ClassRef':S,'execute':_0xabeca2=>ae['restartInstance'](_0xabeca2)});return _0x3d6ae0[_0x30f8bc(0x522)](0xc8)['json'](_0x3ad498);})[_0x66ca5d(0x45d)](this['routerPath'](_0x66ca5d(0x223)),..._0x128192,async(_0x45b2a1,_0x1b461f)=>{const _0x38ca8d=_0x66ca5d;let _0x276138=await this[_0x38ca8d(0x6c9)]({'request':_0x45b2a1,'schema':v,'ClassRef':S,'execute':_0x53ab9e=>ae[_0x38ca8d(0x422)](_0x53ab9e)});return _0x1b461f[_0x38ca8d(0x522)](0xc8)[_0x38ca8d(0x6d8)](_0x276138);})[_0x66ca5d(0x45d)](this[_0x66ca5d(0x6e7)](_0x66ca5d(0x722)),..._0x128192,async(_0x17f126,_0x3812a7)=>{const _0x36b579=_0x66ca5d;let _0x448729=await this['dataValidate']({'request':_0x17f126,'schema':v,'ClassRef':S,'execute':_0x19a511=>ae[_0x36b579(0x722)](_0x19a511)});return _0x3812a7['status'](0xc8)[_0x36b579(0x6d8)](_0x448729);})[_0x66ca5d(0x45d)](this[_0x66ca5d(0x6e7)](_0x66ca5d(0x767),!0x1),..._0x128192,async(_0x253511,_0x335f40)=>{const _0x56d51d=_0x66ca5d;let _0x2027fc=await this[_0x56d51d(0x6c9)]({'request':_0x253511,'schema':null,'ClassRef':S,'execute':_0x4be95c=>ae[_0x56d51d(0x767)](_0x4be95c)});return _0x335f40[_0x56d51d(0x522)](0xc8)[_0x56d51d(0x6d8)](_0x2027fc);})[_0x66ca5d(0x5ef)](this[_0x66ca5d(0x6e7)](_0x66ca5d(0x4c4)),..._0x128192,async(_0x3d8c7c,_0x4706e0)=>{const _0x4eb4ec=_0x66ca5d;let _0x3bf58a=await this[_0x4eb4ec(0x6c9)]({'request':_0x3d8c7c,'schema':v,'ClassRef':S,'execute':_0x42b089=>ae[_0x4eb4ec(0x4c4)](_0x42b089)});return _0x4706e0[_0x4eb4ec(0x522)](0xc8)[_0x4eb4ec(0x6d8)](_0x3bf58a);})[_0x66ca5d(0x5ef)](this[_0x66ca5d(0x6e7)]('delete'),..._0x128192,async(_0x3f7b00,_0x22404e)=>{const _0x5cd5e4=_0x66ca5d;let _0x2b8bdf=await this[_0x5cd5e4(0x6c9)]({'request':_0x3f7b00,'schema':v,'ClassRef':S,'execute':_0x2c96d7=>ae['deleteInstance'](_0x2c96d7)});return _0x22404e[_0x5cd5e4(0x522)](0xc8)['json'](_0x2b8bdf);});}},ir=require('express'),gs=class{},G=class extends gs{},ut=class extends G{},dt=class extends G{},pt=class extends G{},ht=class extends G{},Ce=class extends G{},gt=class extends G{},mt=class extends G{},ft=class extends G{},wt=class extends G{},yt=class extends G{},bt=class{},St=class extends U{constructor(..._0x615052){const _0x372b5d=a0_0x18e9af;super(),this[_0x372b5d(0x35a)]=(0x0,ir[_0x372b5d(0x4ee)])(),this[_0x372b5d(0x35a)][_0x372b5d(0x1e5)](this[_0x372b5d(0x6e7)]('sendText'),..._0x615052,async(_0x501a50,_0x4c1f16)=>{const _0x475afd=_0x372b5d;let _0x4cecd2=await this['dataValidate']({'request':_0x501a50,'schema':Ma,'ClassRef':ut,'execute':(_0x8db87d,_0x405fed)=>B[_0x475afd(0x367)](_0x8db87d,_0x405fed)});return _0x4c1f16['status'](0xc9)[_0x475afd(0x6d8)](_0x4cecd2);})['post'](this[_0x372b5d(0x6e7)](_0x372b5d(0x1e6)),..._0x615052,async(_0x3b1ded,_0x3b82bc)=>{const _0x5be438=_0x372b5d;let _0x1220b1=await this['dataValidate']({'request':_0x3b1ded,'schema':Ta,'ClassRef':Ce,'execute':(_0x501883,_0x11f474)=>B[_0x5be438(0x1e6)](_0x501883,_0x11f474)});return _0x3b82bc[_0x5be438(0x522)](0xc9)['json'](_0x1220b1);})['post'](this[_0x372b5d(0x6e7)](_0x372b5d(0x65c)),..._0x615052,async(_0x4b86ca,_0x21b2b4)=>{const _0x2fd30d=_0x372b5d;let _0x5b3a46=await this[_0x2fd30d(0x6c9)]({'request':_0x4b86ca,'schema':Ia,'ClassRef':ht,'execute':(_0x18b23a,_0x4fcc02)=>B[_0x2fd30d(0x65c)](_0x18b23a,_0x4fcc02)});return _0x21b2b4[_0x2fd30d(0x522)](0xc9)[_0x2fd30d(0x6d8)](_0x5b3a46);})[_0x372b5d(0x1e5)](this['routerPath'](_0x372b5d(0x122)),..._0x615052,async(_0x11b9b7,_0x501577)=>{const _0x5449d2=_0x372b5d;let _0x53fdc3=await this[_0x5449d2(0x6c9)]({'request':_0x11b9b7,'schema':Oa,'ClassRef':Ce,'execute':(_0x3362bc,_0x46d669)=>B['sendWhatsAppAudio'](_0x3362bc,_0x46d669)});return _0x501577[_0x5449d2(0x522)](0xc9)['json'](_0x53fdc3);})[_0x372b5d(0x1e5)](this['routerPath'](_0x372b5d(0x2e7)),..._0x615052,async(_0x4a48d7,_0x3eb54a)=>{const _0xa434ee=_0x372b5d;let _0x2ebc6d=await this[_0xa434ee(0x6c9)]({'request':_0x4a48d7,'schema':xa,'ClassRef':mt,'execute':(_0x215e7f,_0x396757)=>B[_0xa434ee(0x2e7)](_0x215e7f,_0x396757)});return _0x3eb54a[_0xa434ee(0x522)](0xc9)[_0xa434ee(0x6d8)](_0x2ebc6d);})[_0x372b5d(0x1e5)](this['routerPath'](_0x372b5d(0x102)),..._0x615052,async(_0x1d36d9,_0x428d82)=>{const _0x53433b=_0x372b5d;let _0x6cc0=await this[_0x53433b(0x6c9)]({'request':_0x1d36d9,'schema':Da,'ClassRef':ft,'execute':(_0x3f0f18,_0x4d67ad)=>B[_0x53433b(0x102)](_0x3f0f18,_0x4d67ad)});return _0x428d82[_0x53433b(0x522)](0xc9)['json'](_0x6cc0);})['post'](this['routerPath'](_0x372b5d(0x636)),..._0x615052,async(_0x1383e4,_0x32fc52)=>{const _0x285ecd=_0x372b5d;let _0x524eb9=await this[_0x285ecd(0x6c9)]({'request':_0x1383e4,'schema':_a,'ClassRef':wt,'execute':(_0x155ef5,_0x865bfe)=>B[_0x285ecd(0x636)](_0x155ef5,_0x865bfe)});return _0x32fc52[_0x285ecd(0x522)](0xc9)['json'](_0x524eb9);})[_0x372b5d(0x1e5)](this[_0x372b5d(0x6e7)]('sendContact'),..._0x615052,async(_0x2a3408,_0x2c0947)=>{let _0x1bbc40=await this['dataValidate']({'request':_0x2a3408,'schema':Pa,'ClassRef':yt,'execute':(_0x24b7ac,_0x60b343)=>B['sendContact'](_0x24b7ac,_0x60b343)});return _0x2c0947['status'](0xc9)['json'](_0x1bbc40);})['post'](this[_0x372b5d(0x6e7)](_0x372b5d(0x672)),..._0x615052,async(_0x2c98a8,_0xa1603e)=>{const _0x1d4746=_0x372b5d;let _0x5ec2f1=await this[_0x1d4746(0x6c9)]({'request':_0x2c98a8,'schema':$a,'ClassRef':bt,'execute':(_0xef3818,_0x9bbb81)=>B[_0x1d4746(0x672)](_0xef3818,_0x9bbb81)});return _0xa1603e[_0x1d4746(0x522)](0xc9)[_0x1d4746(0x6d8)](_0x5ec2f1);})[_0x372b5d(0x1e5)](this[_0x372b5d(0x6e7)](_0x372b5d(0x655)),..._0x615052,async(_0x185364,_0x3ad45d)=>{const _0x89138e=_0x372b5d;let _0xcaa4c1=await this[_0x89138e(0x6c9)]({'request':_0x185364,'schema':Aa,'ClassRef':pt,'execute':(_0x546985,_0x3f106b)=>B[_0x89138e(0x655)](_0x546985,_0x3f106b)});return _0x3ad45d[_0x89138e(0x522)](0xc9)[_0x89138e(0x6d8)](_0xcaa4c1);})[_0x372b5d(0x1e5)](this[_0x372b5d(0x6e7)](_0x372b5d(0x594)),..._0x615052,async(_0x14f9db,_0x19565a)=>{const _0x486585=_0x372b5d;let _0x305912=await this[_0x486585(0x6c9)]({'request':_0x14f9db,'schema':Ra,'ClassRef':dt,'execute':(_0x3f65c8,_0xe09704)=>B[_0x486585(0x594)](_0x3f65c8,_0xe09704)});return _0x19565a[_0x486585(0x522)](0xc9)['json'](_0x305912);})[_0x372b5d(0x1e5)](this[_0x372b5d(0x6e7)](_0x372b5d(0x691)),..._0x615052,async(_0x51aab5,_0x1bd3ca)=>{const _0x161161=_0x372b5d;let _0x23f546=await this[_0x161161(0x6c9)]({'request':_0x51aab5,'schema':Na,'ClassRef':gt,'execute':(_0x1f2c26,_0x352f8e)=>B[_0x161161(0x691)](_0x1f2c26,_0x352f8e)});return _0x1bd3ca[_0x161161(0x522)](0xc9)[_0x161161(0x6d8)](_0x23f546);});}},or=require('express'),Et=class{},Ct=class extends U{constructor(..._0x455827){const _0x2148a1=a0_0x18e9af;super(),this[_0x2148a1(0x35a)]=(0x0,or[_0x2148a1(0x4ee)])(),this[_0x2148a1(0x35a)][_0x2148a1(0x1e5)](this[_0x2148a1(0x6e7)](_0x2148a1(0x498)),..._0x455827,async(_0xefacd2,_0x6c7665)=>{const _0x5ea5f9=_0x2148a1;let _0x53efac=await this[_0x5ea5f9(0x6c9)]({'request':_0xefacd2,'schema':tr,'ClassRef':Et,'execute':(_0x3adaa4,_0x1eac23)=>ms[_0x5ea5f9(0x334)](_0x3adaa4,_0x1eac23)});_0x6c7665[_0x5ea5f9(0x522)](0xc9)[_0x5ea5f9(0x6d8)](_0x53efac);})['get'](this[_0x2148a1(0x6e7)](_0x2148a1(0x493)),..._0x455827,async(_0xa8bc07,_0x204886)=>{const _0x8c0555=_0x2148a1;let _0x212079=await this[_0x8c0555(0x6c9)]({'request':_0xa8bc07,'schema':v,'ClassRef':S,'execute':_0x378732=>ms['findWebhook'](_0x378732)});_0x204886[_0x8c0555(0x522)](0xc8)[_0x8c0555(0x6d8)](_0x212079);});}},nr=require(a0_0x18e9af(0x1d4)),y=new N(a0_0x18e9af(0x3d6)),Mt=class extends U{constructor(..._0x3c214e){const _0x595cd8=a0_0x18e9af;super(),this[_0x595cd8(0x35a)]=(0x0,nr['Router'])(),this[_0x595cd8(0x35a)][_0x595cd8(0x1e5)](this['routerPath'](_0x595cd8(0x11d)),..._0x3c214e,async(_0x52fd3f,_0x347d7f)=>{const _0x16c6f3=_0x595cd8;let _0xd1999e=_0x52fd3f['body'];y[_0x16c6f3(0x591)](_0x16c6f3(0x4f0)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x52fd3f[_0x16c6f3(0x62d)]);let _0x57e289=await this[_0x16c6f3(0x6c9)]({'request':_0x52fd3f,'schema':v,'ClassRef':S,'execute':_0x5799cf=>O['editScheduleMessage'](_0x5799cf,_0xd1999e)});_0x347d7f[_0x16c6f3(0x522)](0xc8)['json'](_0x57e289);})[_0x595cd8(0x45d)](this[_0x595cd8(0x6e7)]('scheduleMessage'),..._0x3c214e,async(_0x3ec729,_0x14a199)=>{const _0x1f9beb=_0x595cd8;let _0x3fe0a4=await this[_0x1f9beb(0x6c9)]({'request':_0x3ec729,'schema':v,'ClassRef':S,'execute':_0x564cf6=>O[_0x1f9beb(0x17a)](_0x564cf6)});_0x14a199[_0x1f9beb(0x522)](0xc8)[_0x1f9beb(0x6d8)](_0x3fe0a4);})[_0x595cd8(0x5ef)](this[_0x595cd8(0x6e7)]('deleteDoneMessages'),..._0x3c214e,async(_0x3ae057,_0x30fd7f)=>{const _0x378598=_0x595cd8;y[_0x378598(0x591)](_0x378598(0x16f));let _0x1092d7=await this[_0x378598(0x6c9)]({'request':_0x3ae057,'schema':v,'ClassRef':S,'execute':_0x297706=>O[_0x378598(0x302)](_0x297706)});_0x30fd7f[_0x378598(0x522)](0xc8)[_0x378598(0x6d8)](_0x1092d7);})['post'](this['routerPath'](_0x595cd8(0x1bf)),..._0x3c214e,async(_0x9f0584,_0x556ce4)=>{const _0x808397=_0x595cd8;let _0x575ffa=_0x9f0584['body'];y[_0x808397(0x591)]('request\x20received\x20in\x20starFlow'),y['verbose'](_0x808397(0x4b7)),y[_0x808397(0x591)](_0x9f0584[_0x808397(0x62d)]);let _0x5f4ff1=await this[_0x808397(0x6c9)]({'request':_0x9f0584,'schema':v,'ClassRef':S,'execute':_0x196000=>O['startFlow'](_0x196000,_0x575ffa)});_0x556ce4[_0x808397(0x522)](0xc8)[_0x808397(0x6d8)](_0x5f4ff1);})['get'](this[_0x595cd8(0x6e7)](_0x595cd8(0x665)),..._0x3c214e,async(_0x5c9f5f,_0x400dbf)=>{const _0x1d1125=_0x595cd8;y[_0x1d1125(0x591)](_0x1d1125(0x379));let _0x3b7674=await this[_0x1d1125(0x6c9)]({'request':_0x5c9f5f,'schema':v,'ClassRef':S,'execute':_0x38c049=>O[_0x1d1125(0x665)](_0x38c049)});_0x400dbf[_0x1d1125(0x522)](0xc8)[_0x1d1125(0x6d8)](_0x3b7674);})['get'](this[_0x595cd8(0x6e7)](_0x595cd8(0x272)),..._0x3c214e,async(_0x425b03,_0xc45af3)=>{const _0x22da2b=_0x595cd8;y[_0x22da2b(0x591)](_0x22da2b(0x6d3));let _0x3d4966=await this[_0x22da2b(0x6c9)]({'request':_0x425b03,'schema':v,'ClassRef':S,'execute':_0x34d8d5=>O[_0x22da2b(0x665)](_0x34d8d5)});_0xc45af3[_0x22da2b(0x522)](0xc8)[_0x22da2b(0x6d8)](_0x3d4966);})[_0x595cd8(0x1e5)](this[_0x595cd8(0x6e7)](_0x595cd8(0x565)),..._0x3c214e,async(_0x2b2b5e,_0x460fd5)=>{const _0xb0374=_0x595cd8;let _0x840685=_0x2b2b5e[_0xb0374(0x62d)];y[_0xb0374(0x591)](_0xb0374(0x24a)),y[_0xb0374(0x591)](_0xb0374(0x4b7)),y['verbose'](_0x2b2b5e[_0xb0374(0x62d)]);let _0x201622=await this['dataValidate']({'request':_0x2b2b5e,'schema':v,'ClassRef':S,'execute':_0x5f52d1=>O[_0xb0374(0x565)](_0x5f52d1,_0x840685)});_0x460fd5[_0xb0374(0x522)](0xc8)[_0xb0374(0x6d8)](_0x201622);})[_0x595cd8(0x1e5)](this[_0x595cd8(0x6e7)](_0x595cd8(0x14f)),..._0x3c214e,async(_0xdf8edb,_0x2a4dac)=>{const _0x1f2e49=_0x595cd8;let _0x36a1b1=_0xdf8edb[_0x1f2e49(0x62d)];y[_0x1f2e49(0x591)](_0x1f2e49(0x382)),y['verbose']('request\x20body:\x20'),y['verbose'](_0xdf8edb[_0x1f2e49(0x62d)]);let _0x2eaacf=await this['dataValidate']({'request':_0xdf8edb,'schema':v,'ClassRef':S,'execute':_0x40b641=>O[_0x1f2e49(0x14f)](_0x40b641,_0x36a1b1)});_0x2a4dac[_0x1f2e49(0x522)](0xc8)[_0x1f2e49(0x6d8)](_0x2eaacf);})['post'](this['routerPath']('updateFlowConfig'),..._0x3c214e,async(_0x50208c,_0x5219b9)=>{const _0x5a33e2=_0x595cd8;let _0x38bacf=_0x50208c[_0x5a33e2(0x62d)];y[_0x5a33e2(0x591)](_0x5a33e2(0x630)),y['verbose']('request\x20body:\x20'),y[_0x5a33e2(0x591)](_0x50208c[_0x5a33e2(0x62d)]);let _0x186f6c=await this[_0x5a33e2(0x6c9)]({'request':_0x50208c,'schema':v,'ClassRef':S,'execute':_0x2f5725=>O[_0x5a33e2(0x549)](_0x2f5725,_0x38bacf)});_0x5219b9['status'](0xc8)[_0x5a33e2(0x6d8)](_0x186f6c);})[_0x595cd8(0x1e5)](this[_0x595cd8(0x6e7)](_0x595cd8(0x38b)),..._0x3c214e,async(_0x5894bc,_0x4fed96)=>{const _0x258beb=_0x595cd8;let _0x49073f=_0x5894bc[_0x258beb(0x62d)];y[_0x258beb(0x591)](_0x258beb(0x1e3)),y[_0x258beb(0x591)](_0x258beb(0x4b7)),y['verbose'](_0x5894bc[_0x258beb(0x62d)]);let _0x255d54=await this[_0x258beb(0x6c9)]({'request':_0x5894bc,'schema':v,'ClassRef':S,'execute':_0x286add=>O['getConversation'](_0x286add,_0x49073f)});_0x4fed96[_0x258beb(0x522)](0xc8)[_0x258beb(0x6d8)](_0x255d54);})[_0x595cd8(0x1e5)](this[_0x595cd8(0x6e7)](_0x595cd8(0x1c2)),..._0x3c214e,async(_0x306b68,_0x3e8649)=>{const _0x176b70=_0x595cd8;let _0x3bd247=_0x306b68[_0x176b70(0x62d)];y[_0x176b70(0x591)](_0x176b70(0x30f)),y[_0x176b70(0x591)](_0x176b70(0x4b7)),y[_0x176b70(0x591)](_0x306b68[_0x176b70(0x62d)]);let _0x20044a=await this[_0x176b70(0x6c9)]({'request':_0x306b68,'schema':v,'ClassRef':S,'execute':_0xc0a184=>O[_0x176b70(0x1c2)](_0xc0a184,_0x3bd247)});_0x3e8649[_0x176b70(0x522)](0xc8)[_0x176b70(0x6d8)](_0x20044a);})[_0x595cd8(0x1e5)](this[_0x595cd8(0x6e7)](_0x595cd8(0x64b)),..._0x3c214e,async(_0x39a1bf,_0x40abfa)=>{const _0x5fead8=_0x595cd8;let _0x424eab=_0x39a1bf['body'];y[_0x5fead8(0x591)](_0x5fead8(0x40f)),y[_0x5fead8(0x591)](_0x5fead8(0x4b7)),y['verbose'](_0x39a1bf[_0x5fead8(0x62d)]);let _0x2c4e41=await this[_0x5fead8(0x6c9)]({'request':_0x39a1bf,'schema':v,'ClassRef':S,'execute':_0xdb2d4e=>O[_0x5fead8(0x64b)](_0xdb2d4e,_0x424eab)});_0x40abfa[_0x5fead8(0x522)](0xc8)[_0x5fead8(0x6d8)](_0x2c4e41);})['delete'](this[_0x595cd8(0x6e7)](_0x595cd8(0x773)),..._0x3c214e,async(_0x4e7281,_0x3eb965)=>{const _0x5884ac=_0x595cd8;let _0x1ef525=_0x4e7281[_0x5884ac(0x62d)];y[_0x5884ac(0x591)](_0x5884ac(0x273)),y[_0x5884ac(0x591)](_0x5884ac(0x4b7)),y[_0x5884ac(0x591)](_0x4e7281[_0x5884ac(0x62d)]);let _0x3adef4=await this[_0x5884ac(0x6c9)]({'request':_0x4e7281,'schema':v,'ClassRef':S,'execute':_0x2dda71=>O[_0x5884ac(0x773)](_0x2dda71,_0x1ef525)});_0x3eb965['status'](0xc8)[_0x5884ac(0x6d8)](_0x3adef4);})['post'](this[_0x595cd8(0x6e7)](_0x595cd8(0x568)),..._0x3c214e,async(_0x50290e,_0x43025d)=>{const _0x4436b3=_0x595cd8;let _0x5768dd=_0x50290e[_0x4436b3(0x62d)];y[_0x4436b3(0x591)](_0x4436b3(0x246)),y[_0x4436b3(0x591)](_0x4436b3(0x4b7)),y[_0x4436b3(0x591)](_0x50290e[_0x4436b3(0x62d)]);let _0x11da62=await this[_0x4436b3(0x6c9)]({'request':_0x50290e,'schema':v,'ClassRef':S,'execute':_0x246669=>O[_0x4436b3(0x6ad)](_0x246669,_0x5768dd)});_0x43025d['status'](0xc8)[_0x4436b3(0x6d8)](_0x11da62);})[_0x595cd8(0x1e5)](this[_0x595cd8(0x6e7)]('editflow'),..._0x3c214e,async(_0x49869b,_0x4b340d)=>{const _0x2d39a0=_0x595cd8;let _0x3adc5c=_0x49869b[_0x2d39a0(0x62d)];y[_0x2d39a0(0x591)](_0x2d39a0(0x4ed)),y['verbose'](_0x2d39a0(0x4b7)),y[_0x2d39a0(0x591)](_0x49869b[_0x2d39a0(0x62d)]),delete _0x3adc5c[_0x2d39a0(0x637)],delete _0x3adc5c[_0x2d39a0(0x77e)],delete _0x3adc5c[_0x2d39a0(0x4f4)],delete _0x3adc5c[_0x2d39a0(0x119)];let _0x22001f=await this[_0x2d39a0(0x6c9)]({'request':_0x49869b,'schema':v,'ClassRef':S,'execute':_0xf60efc=>O[_0x2d39a0(0x31a)](_0xf60efc,_0x3adc5c)});_0x4b340d[_0x2d39a0(0x522)](0xc8)[_0x2d39a0(0x6d8)](_0x22001f);})['post'](this['routerPath'](_0x595cd8(0x62c)),..._0x3c214e,async(_0x29b234,_0x22a37f)=>{const _0x4a2980=_0x595cd8;let _0xa65c05=_0x29b234['body'];y[_0x4a2980(0x591)]('request\x20received\x20in\x20editFlow'),y[_0x4a2980(0x591)](_0x4a2980(0x4b7)),y[_0x4a2980(0x591)](_0x29b234[_0x4a2980(0x62d)]);let _0x3b111d=await this[_0x4a2980(0x6c9)]({'request':_0x29b234,'schema':v,'ClassRef':S,'execute':_0x157da8=>O[_0x4a2980(0x5e8)](_0x157da8,_0xa65c05)});_0x22a37f['status'](0xc8)[_0x4a2980(0x6d8)](_0x3b111d);})[_0x595cd8(0x1e5)](this['routerPath']('editflowreply'),..._0x3c214e,async(_0x219ad5,_0x3df777)=>{const _0x34ee12=_0x595cd8;let _0x48cc2f=_0x219ad5[_0x34ee12(0x62d)];y[_0x34ee12(0x591)](_0x34ee12(0x4ed)),y[_0x34ee12(0x591)](_0x34ee12(0x4b7)),y[_0x34ee12(0x591)](_0x219ad5[_0x34ee12(0x62d)]);let _0x3cd466=await this[_0x34ee12(0x6c9)]({'request':_0x219ad5,'schema':v,'ClassRef':S,'execute':_0x364712=>O[_0x34ee12(0x1bc)](_0x364712,_0x48cc2f)});_0x3df777[_0x34ee12(0x522)](0xc8)['json'](_0x3cd466);})['post'](this[_0x595cd8(0x6e7)](_0x595cd8(0x771)),..._0x3c214e,async(_0x3ec726,_0xc2ed02)=>{const _0x990cc0=_0x595cd8;let _0x406c41=_0x3ec726[_0x990cc0(0x62d)];y[_0x990cc0(0x591)]('request\x20received\x20in\x20editFlow'),y[_0x990cc0(0x591)]('request\x20body:\x20'),y[_0x990cc0(0x591)](_0x3ec726[_0x990cc0(0x62d)]);let _0x26de8d=await this['dataValidate']({'request':_0x3ec726,'schema':v,'ClassRef':S,'execute':_0x46031a=>O['editFlowVaredit'](_0x46031a,_0x406c41)});_0xc2ed02['status'](0xc8)[_0x990cc0(0x6d8)](_0x26de8d);})[_0x595cd8(0x1e5)](this[_0x595cd8(0x6e7)](_0x595cd8(0x439)),..._0x3c214e,async(_0x460146,_0x5c083d)=>{const _0x25ec37=_0x595cd8;let _0xe81f48=_0x460146[_0x25ec37(0x62d)];y[_0x25ec37(0x591)](_0x25ec37(0x2f7)),y[_0x25ec37(0x591)](_0x25ec37(0x4b7)),y[_0x25ec37(0x591)](_0x460146['body']);let _0xa7320c=await this[_0x25ec37(0x6c9)]({'request':_0x460146,'schema':v,'ClassRef':S,'execute':_0x4d451f=>O[_0x25ec37(0x1a7)](_0x4d451f,_0xe81f48)});_0x5c083d[_0x25ec37(0x522)](0xc8)['json'](_0xa7320c);})[_0x595cd8(0x1e5)](this[_0x595cd8(0x6e7)](_0x595cd8(0x340)),..._0x3c214e,async(_0x2c8e5b,_0x125b0d)=>{const _0x2fb3a3=_0x595cd8;let _0x3642da=_0x2c8e5b[_0x2fb3a3(0x62d)];y[_0x2fb3a3(0x591)](_0x2fb3a3(0x347)),y[_0x2fb3a3(0x591)](_0x2fb3a3(0x4b7)),y[_0x2fb3a3(0x591)](_0x2c8e5b[_0x2fb3a3(0x62d)]);let _0x1810a4=await this[_0x2fb3a3(0x6c9)]({'request':_0x2c8e5b,'schema':v,'ClassRef':S,'execute':_0x1fdedb=>O[_0x2fb3a3(0x3b3)](_0x1fdedb,_0x3642da)});_0x125b0d[_0x2fb3a3(0x522)](0xc8)[_0x2fb3a3(0x6d8)](_0x1810a4);})['post'](this[_0x595cd8(0x6e7)]('editflowvariable'),..._0x3c214e,async(_0x417ab7,_0xe8b933)=>{const _0xd2f112=_0x595cd8;let _0x581924=_0x417ab7[_0xd2f112(0x62d)];y[_0xd2f112(0x591)](_0xd2f112(0x77d)),y['verbose']('request\x20body:\x20'),y[_0xd2f112(0x591)](_0x417ab7[_0xd2f112(0x62d)]);let _0x4596e5=await this['dataValidate']({'request':_0x417ab7,'schema':v,'ClassRef':S,'execute':_0x497d3d=>O[_0xd2f112(0x1f1)](_0x497d3d,_0x581924)});_0xe8b933[_0xd2f112(0x522)](0xc8)[_0xd2f112(0x6d8)](_0x4596e5);})[_0x595cd8(0x1e5)](this['routerPath'](_0x595cd8(0x4e3)),..._0x3c214e,async(_0x31feef,_0x45fd74)=>{const _0x3a46e8=_0x595cd8;let _0x1796c9=_0x31feef[_0x3a46e8(0x62d)];y['verbose']('request\x20received\x20in\x20getFlow'),y[_0x3a46e8(0x591)](_0x3a46e8(0x4b7)),y['verbose'](_0x31feef['body']);let _0x276d48=await this['dataValidate']({'request':_0x31feef,'schema':v,'ClassRef':S,'execute':_0x32aaef=>O[_0x3a46e8(0x31d)](_0x32aaef,_0x1796c9)});_0x45fd74[_0x3a46e8(0x522)](0xc8)['json'](_0x276d48);})[_0x595cd8(0x5ef)](this['routerPath'](_0x595cd8(0x309)),..._0x3c214e,async(_0x3e8092,_0x1d5e55)=>{const _0xa75989=_0x595cd8;let _0x1d47a6=_0x3e8092[_0xa75989(0x62d)];y[_0xa75989(0x591)](_0xa75989(0x155)),y[_0xa75989(0x591)]('request\x20body:\x20'),y[_0xa75989(0x591)](_0x3e8092['body']);let _0x23d493=await this[_0xa75989(0x6c9)]({'request':_0x3e8092,'schema':v,'ClassRef':S,'execute':_0xedacc8=>O['deleteFlow'](_0xedacc8,_0x1d47a6)});_0x1d5e55['status'](0xc8)[_0xa75989(0x6d8)](_0x23d493);})['get'](this['routerPath'](_0x595cd8(0x76c)),..._0x3c214e,async(_0x3f5eb8,_0x31cd28)=>{const _0x157bca=_0x595cd8;y[_0x157bca(0x591)]('request\x20received\x20in\x20allFlows');let _0x371069=await this[_0x157bca(0x6c9)]({'request':_0x3f5eb8,'schema':v,'ClassRef':S,'execute':_0x4c9743=>O[_0x157bca(0x356)](_0x4c9743)});_0x31cd28[_0x157bca(0x522)](0xc8)[_0x157bca(0x6d8)](_0x371069);});}},dr=T(require('path')),Y={};function cr(_0x2dacce,_0x20392f,_0x5f4b96,_0x203631){Y[_0x2dacce]||(Y[_0x2dacce]={}),Y[_0x2dacce][_0x20392f]={'id':_0x20392f,'response':_0x5f4b96,'events':_0x203631};}function lr(_0x5d2b5f,_0xb3e846){!Y[_0x5d2b5f]||!Y[_0x5d2b5f][_0xb3e846]||delete Y[_0x5d2b5f][_0xb3e846];}function q(_0x28b105,_0x372cfa,_0x489fd9){const _0x1e4b73=a0_0x18e9af;if(!Y[_0x28b105])return;let _0x2ddbfd=_0x1e4b73(0x69d)+JSON[_0x1e4b73(0x676)](_0x489fd9)+'\x0a\x0a';Object[_0x1e4b73(0x56d)](Y[_0x28b105])[_0x1e4b73(0x6d6)](_0x6eab48=>{const _0x86e48f=_0x1e4b73;_0x6eab48[_0x86e48f(0x225)][_0x86e48f(0x4d6)](_0x372cfa)&&_0x6eab48['response'][_0x86e48f(0x78a)](_0x2ddbfd);});}function ur(){const _0x39166b=a0_0x18e9af;let _0x5e04d7={};for(let _0x476d85 in Y)_0x5e04d7[_0x476d85]=Object[_0x39166b(0x56d)](Y[_0x476d85])['map'](_0x1fba8c=>({'id':_0x1fba8c['id'],'events':_0x1fba8c['events']}));return _0x5e04d7;}var pr=require(a0_0x18e9af(0x579)),ws=require(a0_0x18e9af(0x40d)),fs=class{},li=new ws['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),ui=new ws[(a0_0x18e9af(0x3e0))]({'_id':{'type':String,'default':a0_0x18e9af(0x662)},'WebhookGlobal':{'type':li},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=R?.[a0_0x18e9af(0x3de)](fs[a0_0x18e9af(0x10b)],ui,a0_0x18e9af(0x269)),di=dr[a0_0x18e9af(0x30c)]['join'](__dirname,a0_0x18e9af(0x4d8)),Nt=(0x0,vt['Router'])(),pi=b['get'](a0_0x18e9af(0x11e))[a0_0x18e9af(0x482)],ee=[ya,ba,Ca[pi]];Nt['use'](a0_0x18e9af(0x39f),vt[a0_0x18e9af(0x30c)][a0_0x18e9af(0x28c)](di))[a0_0x18e9af(0x45d)]('/events/:instance',async(_0x2cab46,_0x141fe0)=>{const _0x3dbd75=a0_0x18e9af;console[_0x3dbd75(0x704)]('bateu\x20events');let _0x34095e=_0x2cab46[_0x3dbd75(0x2ca)][_0x3dbd75(0x777)],_0x5d002d=(_0x2cab46[_0x3dbd75(0x132)]['events']||'')['split'](','),_0x4f28a1=(0x0,pr['v4'])();console[_0x3dbd75(0x704)](_0x3dbd75(0x3b9),_0x34095e),console[_0x3dbd75(0x704)]('Subscribed\x20Events:',_0x5d002d);let _0x509e1c=b[_0x3dbd75(0x45d)](_0x3dbd75(0x11e))[_0x3dbd75(0x40b)],_0x34db30=_0x2cab46[_0x3dbd75(0x132)][_0x3dbd75(0x390)];if(console[_0x3dbd75(0x704)](_0x3dbd75(0x532),_0x34db30),_0x509e1c[_0x3dbd75(0x6c5)]!==_0x34db30){console[_0x3dbd75(0x704)](_0x3dbd75(0x3a6));try{let _0x25f72c=await le[_0x3dbd75(0x153)][_0x3dbd75(0x493)](_0x34095e);if(console[_0x3dbd75(0x704)]('Instance\x20Key\x20from\x20DB:',_0x25f72c),!_0x25f72c||_0x25f72c[_0x3dbd75(0x390)]!==_0x34db30)return console[_0x3dbd75(0x704)](_0x3dbd75(0x3bb)),_0x141fe0['status'](0x191)[_0x3dbd75(0x128)](_0x3dbd75(0x5ee));}catch(_0xc88c65){return console[_0x3dbd75(0x1b4)](_0x3dbd75(0x52e),_0xc88c65),_0x141fe0['status'](0x191)[_0x3dbd75(0x128)](_0x3dbd75(0x5c7));}}if(!await ze(_0x34095e))return _0x141fe0[_0x3dbd75(0x522)](0x194)['send'](_0x3dbd75(0x734));_0x141fe0[_0x3dbd75(0x25f)](_0x3dbd75(0x5d9),'text/event-stream'),_0x141fe0[_0x3dbd75(0x25f)](_0x3dbd75(0x73f),_0x3dbd75(0x45f)),_0x141fe0[_0x3dbd75(0x25f)](_0x3dbd75(0x53a),_0x3dbd75(0x16a)),_0x141fe0[_0x3dbd75(0x5ed)]();let _0x36e632=_0x3dbd75(0x69d)+JSON['stringify']({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x141fe0[_0x3dbd75(0x78a)](_0x36e632),cr(_0x34095e,_0x4f28a1,_0x141fe0,_0x5d002d),_0x2cab46['on']('close',()=>{const _0x2c9c4e=_0x3dbd75;console[_0x2c9c4e(0x704)](_0x2c9c4e(0x487)+_0x34095e),lr(_0x34095e,_0x4f28a1);});}),Nt[a0_0x18e9af(0x45d)](a0_0x18e9af(0x68e),(_0x3d9f46,_0x80dffa)=>{const _0x5ce478=a0_0x18e9af;let _0x38c089=ur();_0x80dffa[_0x5ce478(0x6d8)](_0x38c089);})['get']('/',(_0xba6fb6,_0x56de07)=>{const _0x10b77a=a0_0x18e9af;let _0x5ee3e1=b[_0x10b77a(0x45d)](_0x10b77a(0x1ad))['URL'];if(_0x5ee3e1){let _0x51946d=encodeURIComponent(''+_0x5ee3e1);_0x56de07[_0x10b77a(0x752)](_0x10b77a(0x738)+_0x51946d);return;}let _0x3898c8=b[_0x10b77a(0x45d)](_0x10b77a(0x627)),_0x441696=_0x3898c8&&_0x3898c8[_0x10b77a(0x15b)][_0x10b77a(0x308)]('/')[0x4];if(_0x441696){let _0x5457b0=encodeURIComponent(_0x10b77a(0x723)+_0x441696);_0x56de07['redirect'](_0x10b77a(0x738)+_0x5457b0);}else _0x56de07[_0x10b77a(0x752)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x18e9af(0x443)]('/exit',...ee,async(_0x486f4e,_0x35dbe4)=>{const _0x3fea48=a0_0x18e9af;try{console['log'](_0x3fea48(0x22b)),_0x35dbe4[_0x3fea48(0x522)](0xc8)[_0x3fea48(0x6d8)]({'message':_0x3fea48(0x3a3)}),_0x35dbe4['on'](_0x3fea48(0x6e4),()=>process[_0x3fea48(0x4d4)](0x0));}catch(_0x40bc51){console[_0x3fea48(0x1b4)](_0x3fea48(0x3e7),_0x40bc51),_0x35dbe4[_0x3fea48(0x522)](0x1f4)['json']({'message':_0x3fea48(0x71d)});}})[a0_0x18e9af(0x443)](a0_0x18e9af(0x72d),...ee,async(_0x1e81d4,_0x1e5b82)=>{const _0x4aa462=a0_0x18e9af;try{let _0x36d0a0=_0x1e81d4[_0x4aa462(0x62d)];await we[_0x4aa462(0x151)]({},{'$set':_0x36d0a0},{'upsert':!0x0});let _0x5c2ebd=await we[_0x4aa462(0x238)]();_0x1e5b82[_0x4aa462(0x6d8)](_0x5c2ebd);}catch(_0x42091f){_0x1e5b82['status'](0x190)[_0x4aa462(0x128)](_0x42091f[_0x4aa462(0x668)]);}})[a0_0x18e9af(0x45d)](a0_0x18e9af(0x72d),...ee,async(_0x31d65a,_0x2b9d32)=>{const _0x2a2fab=a0_0x18e9af;try{let _0x4c6137=await we[_0x2a2fab(0x238)]();if(!_0x4c6137)return _0x2b9d32[_0x2a2fab(0x6d8)]({});_0x2b9d32[_0x2a2fab(0x6d8)](_0x4c6137);}catch(_0x476814){_0x2b9d32[_0x2a2fab(0x522)](0x1f4)[_0x2a2fab(0x128)](_0x476814[_0x2a2fab(0x668)]);}})[a0_0x18e9af(0x2e3)](a0_0x18e9af(0x184),new lt(b,...ee)[a0_0x18e9af(0x35a)])[a0_0x18e9af(0x2e3)](a0_0x18e9af(0x2be),new St(...ee)[a0_0x18e9af(0x35a)])[a0_0x18e9af(0x2e3)](a0_0x18e9af(0x5b6),new Ze(...ee)[a0_0x18e9af(0x35a)])[a0_0x18e9af(0x2e3)](a0_0x18e9af(0x508),new ct(...ee)['router'])[a0_0x18e9af(0x2e3)](a0_0x18e9af(0x60f),new Ct(...ee)[a0_0x18e9af(0x35a)])[a0_0x18e9af(0x2e3)](a0_0x18e9af(0x521),new Mt(...ee)['router']);function a0_0x7bd5(_0x45edb0,_0x28dbf3){const _0x4e5d91=a0_0x4e5d();return a0_0x7bd5=function(_0x7bd55d,_0x50be53){_0x7bd55d=_0x7bd55d-0xfb;let _0xd3cfa=_0x4e5d91[_0x7bd55d];return _0xd3cfa;},a0_0x7bd5(_0x45edb0,_0x28dbf3);}var w=class{constructor(..._0x282d2b){const _0x174801=a0_0x18e9af;throw{'status':0x190,'error':'Bad\x20Request','message':_0x282d2b[_0x174801(0x15f)]>0x0?_0x282d2b:void 0x0};}},Z=class{constructor(..._0x234db9){throw{'status':0x191,'error':'Unauthorized','message':_0x234db9['length']>0x0?_0x234db9:void 0x0};}},H=class{constructor(..._0x3de68e){const _0x38b818=a0_0x18e9af;throw{'status':0x193,'error':_0x38b818(0x6e8),'message':_0x3de68e[_0x38b818(0x15f)]>0x0?_0x3de68e:void 0x0};}},k=class{constructor(..._0x5ee53d){const _0x5eb15d=a0_0x18e9af;throw{'status':0x194,'error':'Not\x20Found','message':_0x5ee53d[_0x5eb15d(0x15f)]>0x0?_0x5ee53d:void 0x0};}},I=class{constructor(..._0x55dbce){const _0x56a7a3=a0_0x18e9af;throw{'status':0x1f4,'error':_0x56a7a3(0x1b5),'message':_0x55dbce[_0x56a7a3(0x15f)]>0x0?_0x55dbce:void 0x0};}},ue=require(a0_0x18e9af(0x2d5));async function ys(_0x323b93){const _0x56a014=a0_0x18e9af;let _0x568a48=new N(ys['name']),_0x49674f=R[_0x56a014(0x167)](),_0xa8ec4f=_0x49674f['db'](b[_0x56a014(0x45d)]('DATABASE')[_0x56a014(0x3cf)][_0x56a014(0x4e2)]+_0x56a014(0x6bb))['collection'](_0x323b93),_0x26953f=async(_0x37c16d,_0x3c0c58)=>{const _0x5399ce=_0x56a014;try{return await _0x49674f[_0x5399ce(0x223)](),await _0xa8ec4f[_0x5399ce(0x520)]({'_id':_0x3c0c58},JSON['parse'](JSON[_0x5399ce(0x676)](_0x37c16d,ue[_0x5399ce(0x49b)][_0x5399ce(0x411)])),{'upsert':!0x0});}catch{}},_0x1aa5e0=async _0x1bdde4=>{const _0x2f327a=_0x56a014;try{await _0x49674f[_0x2f327a(0x223)]();let _0x4fec07=await _0xa8ec4f['findOne']({'_id':_0x1bdde4}),_0x2efb07=JSON[_0x2f327a(0x676)](_0x4fec07);return JSON['parse'](_0x2efb07,ue['BufferJSON']['reviver']);}catch{}},_0x35fdfe=async _0xe87ce1=>{const _0x33c300=_0x56a014;try{return await _0x49674f[_0x33c300(0x223)](),await _0xa8ec4f['deleteOne']({'_id':_0xe87ce1});}catch{}},_0x5ec620=await _0x1aa5e0('creds')||(0x0,ue[_0x56a014(0x449)])();return{'state':{'creds':_0x5ec620,'keys':{'get':async(_0x4fe40b,_0x420f58)=>{const _0x564b50=_0x56a014;let _0x526c47={};return await Promise[_0x564b50(0x2e8)](_0x420f58[_0x564b50(0x48c)](async _0x15b7a0=>{const _0x155d14=_0x564b50;let _0x37fba1=await _0x1aa5e0(_0x4fe40b+'-'+_0x15b7a0);_0x4fe40b===_0x155d14(0x674)&&_0x37fba1&&(_0x37fba1=ue[_0x155d14(0x2cf)][_0x155d14(0x435)][_0x155d14(0x453)][_0x155d14(0x4cc)](_0x37fba1)),_0x526c47[_0x15b7a0]=_0x37fba1;})),_0x526c47;},'set':async _0x461200=>{const _0x16e3dc=_0x56a014;let _0x4fc3fc=[];for(let _0x5df09f in _0x461200)for(let _0x58f73b in _0x461200[_0x5df09f]){let _0x367a8e=_0x461200[_0x5df09f][_0x58f73b],_0xe42173=_0x5df09f+'-'+_0x58f73b;_0x4fc3fc[_0x16e3dc(0x256)](_0x367a8e?_0x26953f(_0x367a8e,_0xe42173):_0x35fdfe(_0xe42173));}await Promise[_0x16e3dc(0x2e8)](_0x4fc3fc);}}},'saveCreds':async()=>_0x26953f(_0x5ec620,_0x56a014(0x24f))};}var Cs=T(require(a0_0x18e9af(0x2dc))),Ms=T(require(a0_0x18e9af(0x262))),Ot=require(a0_0x18e9af(0x2d5)),hr=require(a0_0x18e9af(0x615)),Tt=require(a0_0x18e9af(0x2d5)),Rt;function hi(_0x165e55){const _0xef5c12=a0_0x18e9af;return Rt||(Rt=(0x0,hr['createClient'])({'url':_0x165e55[_0xef5c12(0x2db)]}),Rt[_0xef5c12(0x223)]()),Rt;}var re=class c{constructor(_0x1f98da,_0x78d1f1){const _0x2df814=a0_0x18e9af;this[_0x2df814(0x561)]=_0x1f98da,this[_0x2df814(0x584)]=_0x78d1f1,this['logger']=new N(c[_0x2df814(0x10b)]),this[_0x2df814(0x18c)]=hi(_0x1f98da);}set[a0_0x18e9af(0x538)](_0x30c027){const _0x5a6ca2=a0_0x18e9af;this[_0x5a6ca2(0x584)]=_0x30c027;}async[a0_0x18e9af(0x363)](){const _0xf2ea4e=a0_0x18e9af;try{return await this[_0xf2ea4e(0x18c)]['sendCommand']([_0xf2ea4e(0x581),this[_0xf2ea4e(0x561)][_0xf2ea4e(0x6d4)]+':*']);}catch(_0x24a089){this['logger'][_0xf2ea4e(0x1b4)](_0x24a089);}}async[a0_0x18e9af(0x5e2)](_0x3bb6ad,_0x16040a){const _0x79099e=a0_0x18e9af;try{let _0x465421=JSON[_0x79099e(0x676)](_0x16040a,Tt['BufferJSON'][_0x79099e(0x411)]);return await this[_0x79099e(0x18c)][_0x79099e(0x5ca)](this[_0x79099e(0x561)][_0x79099e(0x6d4)]+':'+this[_0x79099e(0x584)],_0x3bb6ad,_0x465421);}catch(_0xf2e4ba){this[_0x79099e(0x232)][_0x79099e(0x1b4)](_0xf2e4ba);}}async[a0_0x18e9af(0x327)](){const _0x4ad977=a0_0x18e9af;try{let _0x1bb82e=await this['client'][_0x4ad977(0x3b0)](this['redisEnv']['PREFIX_KEY']+':'+this[_0x4ad977(0x584)]);if(_0x1bb82e){for(let _0x596c89 in _0x1bb82e)Object['prototype'][_0x4ad977(0x22d)]['call'](_0x1bb82e,_0x596c89)&&(_0x1bb82e[_0x596c89]=JSON[_0x4ad977(0x474)](_0x1bb82e[_0x596c89],Tt[_0x4ad977(0x49b)]['reviver']));return _0x1bb82e;}}catch(_0x137f23){this[_0x4ad977(0x232)]['error'](_0x137f23);}}async[a0_0x18e9af(0x761)](_0x3d1df1){const _0x55cbed=a0_0x18e9af;try{let _0x293ba0=await this['client'][_0x55cbed(0x254)](this['redisEnv'][_0x55cbed(0x6d4)]+':'+this[_0x55cbed(0x584)],_0x3d1df1);if(_0x293ba0)return JSON[_0x55cbed(0x474)](_0x293ba0,Tt[_0x55cbed(0x49b)][_0x55cbed(0x4d9)]);}catch(_0x2b25d0){this[_0x55cbed(0x232)][_0x55cbed(0x1b4)](_0x2b25d0);}}async['removeData'](_0xf26208){const _0x36b54f=a0_0x18e9af;try{return await this['client'][_0x36b54f(0x1da)](this['redisEnv']['PREFIX_KEY']+':'+this[_0x36b54f(0x584)],_0xf26208);}catch(_0x256dec){this[_0x36b54f(0x232)][_0x36b54f(0x1b4)](_0x256dec);}}async[a0_0x18e9af(0x564)](_0x1b36e1){const _0x273766=a0_0x18e9af;try{return await this[_0x273766(0x18c)][_0x273766(0x727)](_0x1b36e1||this['redisEnv'][_0x273766(0x6d4)]+':'+this[_0x273766(0x584)]);}catch(_0x26b934){this[_0x273766(0x232)][_0x273766(0x1b4)](_0x26b934);}}};async function bs(_0x3bdbd7,_0x1428f5){const _0x28b7f7=a0_0x18e9af;let _0x68d7a2=new N(bs[_0x28b7f7(0x10b)]),_0x192ad5=new re(_0x3bdbd7,_0x1428f5),_0x3ae8e3=async(_0x564f61,_0x570daa)=>{const _0xa5baa0=_0x28b7f7;try{return await _0x192ad5[_0xa5baa0(0x5e2)](_0x570daa,_0x564f61);}catch(_0x52a6ac){return _0x68d7a2[_0xa5baa0(0x1b4)]({'localError':_0xa5baa0(0x5e2),'error':_0x52a6ac});}},_0x5d9b85=async _0x5ca99c=>{const _0x5da290=_0x28b7f7;try{return await _0x192ad5[_0x5da290(0x761)](_0x5ca99c);}catch(_0x212cf2){_0x68d7a2[_0x5da290(0x1b4)]({'readData':_0x5da290(0x5e2),'error':_0x212cf2});return;}},_0xf959aa=async _0x4dbff6=>{const _0x425a28=_0x28b7f7;try{return await _0x192ad5['removeData'](_0x4dbff6);}catch(_0x333c2e){_0x68d7a2[_0x425a28(0x1b4)]({'readData':_0x425a28(0x3ec),'error':_0x333c2e});}},_0x29944b=await _0x5d9b85(_0x28b7f7(0x24f))||(0x0,Ot[_0x28b7f7(0x449)])();return{'state':{'creds':_0x29944b,'keys':{'get':async(_0x1f58fe,_0x4b5a82)=>{const _0x307691=_0x28b7f7;let _0x242d03={};return await Promise[_0x307691(0x2e8)](_0x4b5a82[_0x307691(0x48c)](async _0x3ff464=>{const _0x26154a=_0x307691;let _0x5ac54c=await _0x5d9b85(_0x1f58fe+'-'+_0x3ff464);_0x1f58fe===_0x26154a(0x674)&&_0x5ac54c&&(_0x5ac54c=Ot[_0x26154a(0x2cf)][_0x26154a(0x435)]['AppStateSyncKeyData'][_0x26154a(0x4cc)](_0x5ac54c)),_0x242d03[_0x3ff464]=_0x5ac54c;})),_0x242d03;},'set':async _0x536143=>{const _0x6c5cbf=_0x28b7f7;let _0x3cdbb5=[];for(let _0x4b9515 in _0x536143)for(let _0x4d14b2 in _0x536143[_0x4b9515]){let _0x374132=_0x536143[_0x4b9515][_0x4d14b2],_0x1af108=_0x4b9515+'-'+_0x4d14b2;_0x3cdbb5[_0x6c5cbf(0x256)](_0x374132?await _0x3ae8e3(_0x374132,_0x1af108):await _0xf959aa(_0x1af108));}await Promise[_0x6c5cbf(0x2e8)](_0x3cdbb5);}}},'saveCreds':async()=>await _0x3ae8e3(_0x29944b,_0x28b7f7(0x24f))};}var L=T(require('fs')),Me=require(a0_0x18e9af(0x579)),Dt=T(require('sharp')),_t=require('https-proxy-agent'),gi=a0_0x18e9af(0x58e)[a0_0x18e9af(0x1ec)](),At=gi['split']('\x0a')[a0_0x18e9af(0x48c)](_0x47bfd6=>{const _0x4d26a4=a0_0x18e9af;let _0x2f0971=_0x47bfd6['split'](':'),_0x2706c5={'host':_0x2f0971[0x0],'port':_0x2f0971[0x1],'protocol':_0x4d26a4(0x361)};return _0x2f0971[_0x4d26a4(0x15f)]===0x4&&(_0x2706c5['username']=_0x2f0971[0x2],_0x2706c5[_0x4d26a4(0x6a5)]=_0x2f0971[0x3]),_0x2706c5;});function gr(_0x3c0cbe){const _0x6f6b91=a0_0x18e9af;return At[_0x6f6b91(0x493)](_0x14f552=>_0x14f552[_0x6f6b91(0x1d0)]===_0x3c0cbe)||null;}function mr(){const _0x995864=a0_0x18e9af;if(At[_0x995864(0x15f)]===0x0)return null;let _0x8a5a0f=Math['floor'](Math[_0x995864(0x59e)]()*At[_0x995864(0x15f)]);return At[_0x8a5a0f];}function Ss(_0x3e1dae){const _0x425dd8=a0_0x18e9af;let _0x151ee2=_0x28cbcf=>typeof _0x28cbcf==_0x425dd8(0x571)&&_0x28cbcf[_0x425dd8(0x15f)]>0x0,_0x1113d2=_0x5dcca7=>{let _0x15fc1d=parseInt(_0x5dcca7,0xa);return!isNaN(_0x15fc1d)&&_0x15fc1d>0x0&&_0x15fc1d<=0xffff;},_0x3c81da=_0x2db667=>typeof _0x2db667==_0x425dd8(0x571)&&_0x2db667['length']>0x0;return _0x3e1dae&&_0x151ee2(_0x3e1dae[_0x425dd8(0x1d0)])&&_0x1113d2(_0x3e1dae['port'])&&(!_0x3e1dae['username']||_0x3c81da(_0x3e1dae[_0x425dd8(0x758)]))&&(!_0x3e1dae[_0x425dd8(0x6a5)]||_0x3c81da(_0x3e1dae[_0x425dd8(0x6a5)]))&&(_0x3e1dae[_0x425dd8(0x260)]===_0x425dd8(0x361)||_0x3e1dae[_0x425dd8(0x260)]==='https');}var vs=require(a0_0x18e9af(0x396)),Cr=a0_0x18e9af(0x154),Ns,oe=null,fr=null,Ke=null,mi=0x3,fi=null;async function wi(){const _0x160cc5=a0_0x18e9af;let _0x282ac2=await we[_0x160cc5(0x238)]();oe=_0x282ac2?.[_0x160cc5(0xfb)]??null,fi=_0x282ac2?.['DaysToDelete']??null,Cr=_0x282ac2?.[_0x160cc5(0x4e4)]??_0x160cc5(0x5fe),Ns=_0x282ac2?.[_0x160cc5(0x510)]??Rs??'uazapi',console[_0x160cc5(0x704)](_0x160cc5(0x299)),console[_0x160cc5(0x704)](_0x282ac2);}async function yi(){await wi();}yi();var wr={},ie={},ye=class c{constructor(_0x2a8f09,_0x21ce57,_0x2f01df){const _0x243bb6=a0_0x18e9af;this[_0x243bb6(0x38c)]=_0x2a8f09,this[_0x243bb6(0xfe)]=_0x21ce57,this[_0x243bb6(0x305)]=_0x2f01df,this[_0x243bb6(0x3a5)]=null,this['logger']=new N(c['name']),this['instance']={},this[_0x243bb6(0x330)]={},this[_0x243bb6(0x2d1)]={'state':_0x243bb6(0x647)},this[_0x243bb6(0x46c)]=(0x0,j[_0x243bb6(0x4d1)])(se,_0x243bb6(0x4d8)),this[_0x243bb6(0x2b2)]=new Ms[(_0x243bb6(0x30c))](),this[_0x243bb6(0x5f4)]=new Ms[(_0x243bb6(0x30c))](),this[_0x243bb6(0x295)]=!0x1,this['webhookMap']={'status.instance':_0x243bb6(0x5c1),'qrcode.updated':_0x243bb6(0x2f3),'messages.upsert':_0x243bb6(0x10e),'messages.update':_0x243bb6(0x65a),'send.message':_0x243bb6(0x10e),'group.upsert':'/wa-groups','group.update':_0x243bb6(0x733),'group-participants.update':_0x243bb6(0x733),'connection.update':_0x243bb6(0x5c1),'messages.set':_0x243bb6(0x10e),'contacts.set':_0x243bb6(0x671),'contacts.upsert':_0x243bb6(0x671),'contacts.update':_0x243bb6(0x671),'presence.update':_0x243bb6(0x375),'chats.set':'/wa-chats','chats.update':_0x243bb6(0x578),'chats.upsert':_0x243bb6(0x578),'chats.delete':_0x243bb6(0x578)},this[_0x243bb6(0x29b)]=0x0,this[_0x243bb6(0x743)]=[],this[_0x243bb6(0x17c)]=0xa,this[_0x243bb6(0x67e)]=0xea60,this[_0x243bb6(0x477)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x439f8c,_0x3bb964)=>{const _0x501fa4=_0x243bb6;let _0x59a30b=[];for await(let _0x345503 of _0x439f8c)_0x59a30b[_0x501fa4(0x256)]({'_id':_0x345503['id'],'owner':this[_0x501fa4(0x777)][_0x501fa4(0x207)],'group':_0x345503['id'][_0x501fa4(0x20a)]('@g.us'),'name':_0x345503[_0x501fa4(0x10b)]||_0x345503['displayName']||null,'contactname':null,'lastmsg':_0x345503[_0x501fa4(0x61a)]&&_0x345503[_0x501fa4(0x61a)][_0x501fa4(0x2fb)]()[_0x501fa4(0x15f)]<0xd?_0x345503[_0x501fa4(0x61a)]*0x3e8:_0x345503['conversationTimestamp']||null,'archived':_0x345503['archived']||!0x1,'unreadcount':_0x345503[_0x501fa4(0x5a5)]||0x0});this[_0x501fa4(0x1f8)](_0x501fa4(0x2f2),_0x59a30b);},'chats.update':async(_0x26615a,_0x5c188d)=>{const _0x4fd62c=_0x243bb6;for(let _0x388d03 of _0x26615a){let _0x282098={'_id':_0x388d03['id'],'owner':this[_0x4fd62c(0x777)]['wuid'],'group':_0x388d03['id'][_0x4fd62c(0x20a)]('@g.us'),'name':_0x388d03[_0x4fd62c(0x10b)]||_0x388d03[_0x4fd62c(0x6d5)],'archived':_0x388d03[_0x4fd62c(0x49e)],'ephemeralExpiration':_0x388d03[_0x4fd62c(0x1ce)]},_0x512b26=!0x1,_0x2d43a1={};_0x282098[_0x4fd62c(0x49e)]!=null&&(this[_0x4fd62c(0x232)][_0x4fd62c(0x591)](this[_0x4fd62c(0x584)]+'\x20('+this[_0x4fd62c(0x777)]['wuid']+_0x4fd62c(0x1d9)+_0x388d03[_0x4fd62c(0x49e)]),_0x512b26=!0x0,_0x2d43a1[_0x4fd62c(0x49e)]=_0x388d03[_0x4fd62c(0x49e)]),_0x388d03[_0x4fd62c(0x10b)]!=null&&(this[_0x4fd62c(0x232)][_0x4fd62c(0x591)](this[_0x4fd62c(0x584)]+'\x20('+this[_0x4fd62c(0x777)][_0x4fd62c(0x207)]+_0x4fd62c(0x1f9)+_0x388d03[_0x4fd62c(0x10b)]),_0x512b26=!0x0,_0x2d43a1[_0x4fd62c(0x10b)]=_0x388d03['name']),_0x388d03[_0x4fd62c(0x6d5)]!=null&&(this[_0x4fd62c(0x232)][_0x4fd62c(0x591)](this[_0x4fd62c(0x584)]+'\x20('+this[_0x4fd62c(0x777)]['wuid']+_0x4fd62c(0x189)+_0x388d03['displayName']),_0x512b26=!0x0,_0x2d43a1['name']=_0x388d03[_0x4fd62c(0x6d5)]);let _0x183f4f;_0x512b26&&(_0x183f4f=await this[_0x4fd62c(0x305)][_0x4fd62c(0x25a)][_0x4fd62c(0x151)]({'where':{'_id':_0x388d03['id']}},_0x2d43a1,this[_0x4fd62c(0x777)]['wuid'])),_0x183f4f&&q(this[_0x4fd62c(0x584)],_0x4fd62c(0x535),{'chat':_0x183f4f});}},'chats.delete':async _0x3fbad9=>{const _0x33d84e=_0x243bb6;this['sendDataWebhook'](_0x33d84e(0x570),[..._0x3fbad9]);}},this['contactHandle']={'contacts.upsert':async(_0x13ce7f,_0x473eae)=>{const _0x4a35a9=_0x243bb6;let _0x19594c=await this[_0x4a35a9(0x305)][_0x4a35a9(0x6c0)][_0x4a35a9(0x493)]({'where':{}},this[_0x4a35a9(0x777)]['wuid']),_0x4d4f0b=[];for await(let _0x522cd9 of _0x13ce7f)_0x19594c['find'](_0x5ae658=>_0x5ae658['_id']===_0x522cd9['id'])||_0x4d4f0b[_0x4a35a9(0x256)]({'_id':_0x522cd9['id'],'pushName':_0x522cd9?.[_0x4a35a9(0x10b)]||_0x522cd9?.[_0x4a35a9(0x47b)],'owner':this[_0x4a35a9(0x777)][_0x4a35a9(0x207)]});this['sendDataWebhook'](_0x4a35a9(0x6ac),_0x4d4f0b),await this[_0x4a35a9(0x305)][_0x4a35a9(0x6c0)]['insert'](_0x4d4f0b);},'contacts.update':async(_0x202154,_0x208157)=>{const _0x1e3d2c=_0x243bb6;let _0x38ee4a=[];for await(let _0x2d5a of _0x202154)_0x38ee4a['push']({'_id':_0x2d5a['id'],'pushName':_0x2d5a?.[_0x1e3d2c(0x10b)]??_0x2d5a?.[_0x1e3d2c(0x47b)],'owner':this[_0x1e3d2c(0x777)][_0x1e3d2c(0x207)]});this[_0x1e3d2c(0x1f8)](_0x1e3d2c(0x4ac),_0x38ee4a);}},this[_0x243bb6(0x569)]={'messaging-history.set':async({messages:_0x20a636,chats:_0x2304da,isLatest:_0x3ed778},_0xb0730a)=>{const _0xe3e172=_0x243bb6;if(_0x3ed778){let _0x67827=await Promise['all'](_0x2304da[_0xe3e172(0x48c)](async _0x21d6f7=>({'_id':_0x21d6f7['id'],'owner':this[_0xe3e172(0x777)][_0xe3e172(0x207)],'group':_0x21d6f7['id'][_0xe3e172(0x20a)]('@g.us'),'name':_0x21d6f7['name']||_0x21d6f7['displayName']||null,'contactname':null,'lastmsg':_0x21d6f7[_0xe3e172(0x61a)]&&_0x21d6f7['conversationTimestamp'][_0xe3e172(0x2fb)]()['length']<0xd?_0x21d6f7[_0xe3e172(0x61a)]*0x3e8:_0x21d6f7['conversationTimestamp']||null,'archived':_0x21d6f7['archived']||!0x1,'unreadcount':_0x21d6f7[_0xe3e172(0x5a5)]||0x0})));this[_0xe3e172(0x1f8)](_0xe3e172(0x193),_0x67827),await this[_0xe3e172(0x2b3)](_0x67827,_0xb0730a);}let _0x5d34d6=[],_0x5eed2f=Date[_0xe3e172(0x60d)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x847f3]of Object['entries'](_0x20a636)){if(_0x847f3[_0xe3e172(0x668)]?.[_0xe3e172(0x1a9)]||_0x847f3[_0xe3e172(0x668)]?.[_0xe3e172(0x21f)]||!_0x847f3[_0xe3e172(0x668)]||_0x847f3[_0xe3e172(0x66a)][_0xe3e172(0x3fc)]===_0xe3e172(0x310)||(Cs[_0xe3e172(0x30c)][_0xe3e172(0x5f6)](_0x847f3?.[_0xe3e172(0x10c)])&&(_0x847f3[_0xe3e172(0x10c)]=_0x847f3[_0xe3e172(0x10c)]?.[_0xe3e172(0x1b1)]()),_0x847f3[_0xe3e172(0x10c)]&&_0x847f3[_0xe3e172(0x10c)][_0xe3e172(0x2fb)]()['length']<0xd&&(_0x847f3['messageTimestamp']=_0x847f3['messageTimestamp']*0x3e8),_0x847f3[_0xe3e172(0x10c)]<_0x5eed2f))continue;let _0x3081a4=(0x0,m[_0xe3e172(0x31f)])(_0x847f3[_0xe3e172(0x668)]),_0x55f9dd=(0x0,m['getContentType'])(_0x3081a4),{message_normalized:_0xd5be63}=this[_0xe3e172(0x3c3)](_0x3081a4,_0x55f9dd,null);Object['keys'](_0xd5be63)['length']>0x0&&_0x5d34d6['push']({'_id':_0x847f3[_0xe3e172(0x66a)]['id'],'key':_0x847f3[_0xe3e172(0x66a)],'pushName':_0x847f3[_0xe3e172(0x44d)],'participant':_0x847f3[_0xe3e172(0x241)],'message':_0x3081a4,'messageType':_0x55f9dd,'message_normalized':{'key':_0x847f3[_0xe3e172(0x66a)],'pushName':_0x847f3[_0xe3e172(0x44d)],'messageTimestamp':_0x847f3[_0xe3e172(0x10c)],..._0xd5be63},'messageTimestamp':_0x847f3[_0xe3e172(0x10c)],'owner':this[_0xe3e172(0x777)][_0xe3e172(0x207)]});}_0xb0730a[_0xe3e172(0x695)]&&_0x5d34d6[_0xe3e172(0x15f)]>0x0&&(this[_0xe3e172(0x232)][_0xe3e172(0x591)](this[_0xe3e172(0x584)]+'\x20('+this[_0xe3e172(0x777)][_0xe3e172(0x207)]+'):\x20'+_0x5d34d6[_0xe3e172(0x15f)]+'\x20mensagens\x20de\x20'+this[_0xe3e172(0x777)][_0xe3e172(0x207)]+_0xe3e172(0x14b)),await this[_0xe3e172(0x305)][_0xe3e172(0x668)][_0xe3e172(0x5fb)]([..._0x5d34d6],this['instance']['wuid'])),this[_0xe3e172(0x1f8)](_0xe3e172(0x4fe),[..._0x5d34d6]),_0x20a636=void 0x0;},'messages.upsert':async({messages:_0x41dd9d,type:_0x3a06b8},_0x531e7f)=>{const _0x38e41c=_0x243bb6;let _0x522069=_0x41dd9d[0x0],_0x4a6893=_0x522069[_0x38e41c(0x66a)]['id'],_0x17ef1d=_0x522069[_0x38e41c(0x12c)]===0x2,_0x11be83=0xa;if(_0x17ef1d){if(console[_0x38e41c(0x1b4)](this[_0x38e41c(0x584)]+'\x20('+this[_0x38e41c(0x777)][_0x38e41c(0x207)]+_0x38e41c(0x3fd)+_0x4a6893),console[_0x38e41c(0x1b4)](_0x522069),ie[_0x4a6893]||(ie[_0x4a6893]=0x0),ie[_0x4a6893]++,console[_0x38e41c(0x1b4)](this['instanceName']+'\x20('+this['instance'][_0x38e41c(0x207)]+'):\x20Tentativas\x20para\x20ID\x20'+_0x4a6893+':\x20'+ie[_0x4a6893]+'/'+_0x11be83),ie[_0x4a6893]>=_0x11be83){console[_0x38e41c(0x1b4)](_0x38e41c(0x2d8)+_0x4a6893);let _0x3809d6={'key':{..._0x522069[_0x38e41c(0x66a)]},'message':{'conversation':_0x38e41c(0x1a5)}};_0x522069[_0x38e41c(0x66a)]['remoteJid'][_0x38e41c(0x4d6)](_0x38e41c(0x1d7))&&this[_0x38e41c(0x18c)]['ev']['emit']('messages.upsert',{'messages':[_0x3809d6],'type':_0x38e41c(0x1fb)}),console[_0x38e41c(0x1b4)](this[_0x38e41c(0x584)]+'\x20('+this[_0x38e41c(0x777)][_0x38e41c(0x207)]+'):\x20[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.'),delete ie[_0x4a6893];}}else ie[_0x4a6893]&&(console['error'](_0x38e41c(0x1cb)+_0x4a6893),delete ie[_0x4a6893]);if(_0x3a06b8!==_0x38e41c(0x1fb)||!_0x522069?.['message']||_0x522069[_0x38e41c(0x668)]?.[_0x38e41c(0x1a9)]||_0x522069[_0x38e41c(0x668)]['senderKeyDistributionMessage']||_0x522069[_0x38e41c(0x66a)][_0x38e41c(0x3fc)]===_0x38e41c(0x310))return;let _0x93a755=null,_0x38c28f=null;try{_0x93a755=await this['processPollUpdateMessage'](_0x522069),_0x38c28f=_0x93a755?_0x93a755[_0x38e41c(0x4d1)](','):null;}catch(_0xc0b168){this[_0x38e41c(0x232)][_0x38e41c(0x591)](this['instanceName']+'\x20('+this[_0x38e41c(0x777)][_0x38e41c(0x207)]+_0x38e41c(0x208)+(_0xc0b168 instanceof Error?_0xc0b168[_0x38e41c(0x668)]:JSON['stringify'](_0xc0b168,null,0x2))),_0x38c28f=_0x38e41c(0x383);}if(this[_0x38e41c(0x18c)]['sendPresenceUpdate'](_0x38e41c(0x62e)),Cs[_0x38e41c(0x30c)][_0x38e41c(0x5f6)](_0x522069[_0x38e41c(0x10c)])&&(_0x522069[_0x38e41c(0x10c)]=_0x522069[_0x38e41c(0x10c)]?.[_0x38e41c(0x1b1)]()),this[_0x38e41c(0x330)]?.[_0x38e41c(0x6cf)]&&_0x522069['key']['remoteJid'][_0x38e41c(0x4d6)](_0x38e41c(0x5bf))){this['logger'][_0x38e41c(0x591)](this['instanceName']+'\x20('+this[_0x38e41c(0x777)][_0x38e41c(0x207)]+_0x38e41c(0x556));return;}_0x522069['messageTimestamp']&&_0x522069['messageTimestamp'][_0x38e41c(0x2fb)]()[_0x38e41c(0x15f)]<0xd&&(_0x522069['messageTimestamp']=_0x522069[_0x38e41c(0x10c)]*0x3e8);let _0x3cd3df=_0x522069['message'],_0x330f06=(0x0,m[_0x38e41c(0x31f)])(_0x3cd3df),_0x3f9b7a=(0x0,m[_0x38e41c(0x6db)])(_0x330f06),{messageContent:_0x5939f6,message_normalized:_0x2560ce}=this[_0x38e41c(0x3c3)](_0x330f06,_0x3f9b7a,_0x38c28f);_0x3f9b7a===_0x38e41c(0x1a9)&&_0x5939f6?.['editedMessage']&&(_0x3f9b7a=_0x38e41c(0x1ee));let _0x1a4ccf={'_id':_0x522069[_0x38e41c(0x66a)]['id'],'key':_0x522069[_0x38e41c(0x66a)],'pushName':_0x522069[_0x38e41c(0x44d)],'message':_0x330f06,'messageType':_0x3f9b7a,'message_normalized':{'key':_0x522069[_0x38e41c(0x66a)],'pushName':_0x522069[_0x38e41c(0x44d)],'messageTimestamp':_0x522069['messageTimestamp'],'source':(0x0,m[_0x38e41c(0x440)])(_0x522069[_0x38e41c(0x66a)]['id']),..._0x2560ce},'messageTimestamp':_0x522069[_0x38e41c(0x10c)],'owner':this['instance'][_0x38e41c(0x207)],'source':(0x0,m['getDevice'])(_0x522069['key']['id'])};_0x5939f6||(console['error'](_0x38e41c(0x557)),this[_0x38e41c(0x232)][_0x38e41c(0x1b4)](_0x1a4ccf)),this[_0x38e41c(0x232)][_0x38e41c(0x704)](this['instanceName']+'\x20('+this[_0x38e41c(0x777)]['wuid']+_0x38e41c(0x208)+(_0x1a4ccf[_0x38e41c(0x66a)]?.[_0x38e41c(0x18a)]?'enviado\x20para':_0x38e41c(0x5f7))+'\x20['+_0x1a4ccf[_0x38e41c(0x66a)]?.[_0x38e41c(0x3fc)][_0x38e41c(0x23f)](_0x38e41c(0x1d7),'')+']\x20('+_0x1a4ccf[_0x38e41c(0x61c)]+'\x20-\x20Id:\x20'+_0x4a6893+')'),_0x1a4ccf[_0x38e41c(0x6ec)]?.[_0x38e41c(0x3da)]&&this[_0x38e41c(0x232)][_0x38e41c(0x704)](_0x1a4ccf[_0x38e41c(0x6ec)]?.['text']),await this[_0x38e41c(0x305)][_0x38e41c(0x668)][_0x38e41c(0x5fb)]([_0x1a4ccf],this[_0x38e41c(0x777)][_0x38e41c(0x207)]),this[_0x38e41c(0x1f8)](_0x38e41c(0x2a4),_0x1a4ccf),q(this['instanceName'],_0x38e41c(0x53c),{'message':_0x1a4ccf}),_0x522069['key'][_0x38e41c(0x3fc)]!=='status@broadcast'&&await this[_0x38e41c(0x6f5)](_0x531e7f,_0x1a4ccf,_0x38e41c(0x459));},'messages.update':async(_0x12c784,_0x5d38e8)=>{const _0x8576b7=_0x243bb6;let _0x15af27={0x0:_0x8576b7(0x73d),0x1:_0x8576b7(0x639),0x2:_0x8576b7(0x555),0x3:_0x8576b7(0x60b),0x4:'READ',0x5:_0x8576b7(0x52b)};for await(let {key:_0x584bcd,update:_0x2b5e43}of _0x12c784){if(this[_0x8576b7(0x330)]?.[_0x8576b7(0x6cf)]&&_0x584bcd[_0x8576b7(0x3fc)][_0x8576b7(0x4d6)]('@g.us')){this[_0x8576b7(0x232)][_0x8576b7(0x591)](_0x8576b7(0x21b));return;}if(_0x584bcd['remoteJid']!=='status@broadcast'){let _0x3445dc=Date[_0x8576b7(0x60d)](),_0x10209d;_0x2b5e43[_0x8576b7(0x668)]===null&&_0x2b5e43[_0x8576b7(0x522)]===void 0x0?_0x10209d=_0x8576b7(0x503):_0x10209d=_0x15af27[_0x2b5e43['status']];let _0x2aab01=_0x584bcd['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x18cdb3={..._0x584bcd,'remoteJid':_0x2aab01,'status':_0x10209d,'datetime':_0x3445dc,'owner':this['instance'][_0x8576b7(0x207)]};this['sendDataWebhook'](_0x8576b7(0x2df),_0x18cdb3),await this['updateMessage'](_0x584bcd,_0x18cdb3);}}},'labels.association':async({type:_0x2ce067,association:_0x338d9d})=>{const _0x5ed900=_0x243bb6;if(_0x338d9d[_0x5ed900(0x120)]===_0x5ed900(0x280)){let _0x4aff34,_0x2a9bed=0x0;for(;!_0x4aff34&&_0x2a9bed<this['delayChatLabel_MAX_RETRIES'];)_0x4aff34=await this['repository']['chat'][_0x5ed900(0x238)]({'where':{'_id':_0x338d9d[_0x5ed900(0x2b1)]}},this[_0x5ed900(0x777)]['wuid']),_0x4aff34||(_0x2a9bed++,console[_0x5ed900(0x704)](_0x5ed900(0x4ce)+_0x338d9d[_0x5ed900(0x2b1)]+_0x5ed900(0x43e)+this[_0x5ed900(0x1d3)]+_0x5ed900(0x667)+_0x2a9bed+'/'+this[_0x5ed900(0x756)]+')'),await this[_0x5ed900(0x19b)](this[_0x5ed900(0x1d3)]));if(!_0x4aff34){console['error']('Failed\x20to\x20find\x20chat\x20'+_0x338d9d[_0x5ed900(0x2b1)]+_0x5ed900(0x4ec)+this[_0x5ed900(0x756)]+_0x5ed900(0x2a8));return;}switch(_0x2ce067){case'add':console[_0x5ed900(0x704)](_0x338d9d),await this[_0x5ed900(0x305)][_0x5ed900(0x25a)][_0x5ed900(0x151)]({'where':{'_id':_0x338d9d[_0x5ed900(0x2b1)]}},{'leadInfo.etiquetas':_0x338d9d['labelId']},this[_0x5ed900(0x777)][_0x5ed900(0x207)],void 0x0,_0x5ed900(0x41d));break;case _0x5ed900(0x234):console['log'](_0x338d9d),await this['repository'][_0x5ed900(0x25a)][_0x5ed900(0x151)]({'where':{'_id':_0x338d9d['chatId']}},{'leadInfo.etiquetas':_0x338d9d[_0x5ed900(0x6f7)]},this[_0x5ed900(0x777)][_0x5ed900(0x207)],void 0x0,_0x5ed900(0x3d2));break;default:console['error'](_0x5ed900(0x16b)+_0x2ce067+']');}}},'labels.edit':async _0xa3408b=>{const _0x5c05d0=_0x243bb6;if(!_0xa3408b||!_0xa3408b['id']){console[_0x5c05d0(0x1b4)](_0x5c05d0(0x551));return;}if(!_0xa3408b[_0x5c05d0(0x37f)]){let _0x59b7f1=[_0x5c05d0(0x69a),_0x5c05d0(0xfd),_0x5c05d0(0x3bc),_0x5c05d0(0x657),_0x5c05d0(0x609),_0x5c05d0(0x76a),_0x5c05d0(0x43d),_0x5c05d0(0x6d1),_0x5c05d0(0x567),_0x5c05d0(0x631),'#01d0e2','#ffc5c7',_0x5c05d0(0x496),_0x5c05d0(0x34c),'#00a1f2',_0x5c05d0(0x5c6),_0x5c05d0(0x326),_0x5c05d0(0x6c4),_0x5c05d0(0x6fd),_0x5c05d0(0x739)],_0x28baf5;typeof _0xa3408b[_0x5c05d0(0x1fa)]=='number'&&_0xa3408b[_0x5c05d0(0x1fa)]>=0x0&&_0xa3408b[_0x5c05d0(0x1fa)]<_0x59b7f1[_0x5c05d0(0x15f)]?_0x28baf5=_0x59b7f1[_0xa3408b['color']]:(console['error']('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:',_0xa3408b[_0x5c05d0(0x1fa)]),_0x28baf5=_0x5c05d0(0x1c8));let _0x403155={'_id':_0xa3408b['id'],'colorHex':_0x28baf5,'color':_0xa3408b?.[_0x5c05d0(0x1fa)],'name':_0xa3408b?.[_0x5c05d0(0x10b)],'owner':this[_0x5c05d0(0x777)][_0x5c05d0(0x207)]};await this[_0x5c05d0(0x305)][_0x5c05d0(0x4d2)][_0x5c05d0(0x151)]({'where':{'_id':_0xa3408b['id']}},_0x403155,this[_0x5c05d0(0x777)]['wuid']),console[_0x5c05d0(0x704)](_0x5c05d0(0x311),_0xa3408b);}_0xa3408b[_0x5c05d0(0x37f)]&&(await this['repository'][_0x5c05d0(0x4d2)][_0x5c05d0(0x5ef)]({'where':{'_id':_0xa3408b['id']}},this[_0x5c05d0(0x777)]['wuid']),console[_0x5c05d0(0x704)](_0x5c05d0(0x3c5),_0xa3408b['id']));}},this[_0x243bb6(0x3ea)]={'groups.upsert':_0x521803=>{const _0x1510ca=_0x243bb6;this[_0x1510ca(0x1f8)](_0x1510ca(0x56f),_0x521803);},'groups.update':_0x4a3b7c=>{const _0x6c6f2c=_0x243bb6;this[_0x6c6f2c(0x1f8)](_0x6c6f2c(0x249),_0x4a3b7c);},'group-participants.update':_0x4b4ca4=>{const _0x530b11=_0x243bb6;this[_0x530b11(0x1f8)](_0x530b11(0x5c5),_0x4b4ca4);}},this[_0x243bb6(0x756)]=0x5,this[_0x243bb6(0x1d3)]=0x1388,this[_0x243bb6(0x60c)]=async _0x634187=>{const _0x37d290=_0x243bb6;if(_0x634187['message']?.[_0x37d290(0x731)]){let _0x1f5cc2=await this['getMessage'](_0x634187[_0x37d290(0x668)][_0x37d290(0x731)]['pollCreationMessageKey'],!0x0);if(_0x1f5cc2){let _0xf3ee25=_0x1f5cc2[_0x37d290(0x66a)][_0x37d290(0x18a)]?this[_0x37d290(0x777)][_0x37d290(0x207)]+'@s.whatsapp.net':_0x1f5cc2[_0x37d290(0x66a)][_0x37d290(0x241)]||_0x1f5cc2[_0x37d290(0x66a)][_0x37d290(0x3fc)],_0x13e78d=_0x1f5cc2[_0x37d290(0x66a)]['id'],_0x1b5b3b=_0x1f5cc2[_0x37d290(0x668)],_0x424ff4=Buffer[_0x37d290(0x54a)](_0x1b5b3b[_0x37d290(0x22f)]['messageSecret'][_0x37d290(0x2fb)](_0x37d290(0x626)),'hex'),_0x22ea3c=(0x0,m[_0x37d290(0x458)])(_0x634187[_0x37d290(0x668)]['pollUpdateMessage'][_0x37d290(0x34b)],{'pollCreatorJid':_0xf3ee25,'pollMsgId':_0x13e78d,'pollEncKey':_0x424ff4,'voterJid':_0x634187[_0x37d290(0x66a)][_0x37d290(0x18a)]?this['instance'][_0x37d290(0x207)]+'@s.whatsapp.net':_0x634187[_0x37d290(0x66a)][_0x37d290(0x3fc)][_0x37d290(0x20a)]('g.us')?_0x634187[_0x37d290(0x66a)]['participant']:_0x634187[_0x37d290(0x66a)][_0x37d290(0x3fc)]}),_0x4ed835=[],_0x31ad8e=_0x22ea3c[_0x37d290(0x47c)][_0x37d290(0x48c)](_0x47b9c2=>Buffer[_0x37d290(0x54a)](_0x47b9c2)['toString'](_0x37d290(0x626)));for(let {optionName:_0x4acbfc}of _0x1b5b3b[_0x37d290(0x5ba)]?.[_0x37d290(0x3c0)]||_0x1b5b3b[_0x37d290(0x728)]?.[_0x37d290(0x3c0)]||_0x1b5b3b[_0x37d290(0x5fd)]?.[_0x37d290(0x3c0)])_0x31ad8e['indexOf']((0x0,m[_0x37d290(0x60e)])(Buffer[_0x37d290(0x54a)](_0x4acbfc))[_0x37d290(0x2fb)](_0x37d290(0x626)))>-0x1&&_0x4ed835['push'](_0x4acbfc);return _0x4ed835;}}return null;},this[_0x243bb6(0x3c3)]=(_0x442f27,_0x5bf417,_0x2fe0d6)=>{const _0x404442=_0x243bb6;try{let _0x5efe3e=_0x442f27?(0x0,m['extractMessageContent'])(_0x442f27)[_0x5bf417]:void 0x0,_0x43e2b8={},_0x543395=null,_0x4b53aa=null,_0x363808=null;_0x5bf417===_0x404442(0x1a9)&&_0x5efe3e?.[_0x404442(0x1ee)]&&(_0x5bf417=(0x0,m['getContentType'])(_0x5efe3e[_0x404442(0x1ee)]),_0x543395=_0x442f27[_0x404442(0x1a9)][_0x404442(0x66a)]['id'],_0x5efe3e=_0x442f27['protocolMessage']['editedMessage'][_0x5bf417]),_0x442f27[_0x5bf417]?.[_0x404442(0x2c5)]?.[_0x404442(0x2ad)]&&_0x442f27[_0x5bf417]?.['contextInfo']?.['quotedMessage']&&(_0x4b53aa=_0x442f27[_0x5bf417][_0x404442(0x2c5)]['stanzaId']),_0x442f27[_0x404442(0x4a5)]&&(_0x363808=_0x442f27[_0x404442(0x4a5)][_0x404442(0x66a)]['id']);let _0x5b0220;if(_0x5efe3e&&typeof _0x5efe3e==_0x404442(0x61d)&&'pollCreationMessageKey'in _0x5efe3e&&({pollCreationMessageKey:_0x5b0220}=_0x5efe3e),_0x5bf417===_0x404442(0x5ba)||_0x5bf417===_0x404442(0x5fd)||_0x5bf417==='pollCreationMessageV3'){let _0x412974=_0x5efe3e[_0x404442(0x3c0)][_0x404442(0x48c)](_0x2b6d90=>_0x2b6d90['optionName'])[_0x404442(0x4d1)]('|');_0x43e2b8[_0x404442(0x56e)]=_0x412974;}let _0x594cd4='';if(_0x5efe3e&&(_0x594cd4+=_0x5efe3e[_0x404442(0x10b)]?_0x5efe3e[_0x404442(0x10b)]:'',_0x594cd4+=_0x5efe3e[_0x404442(0x44e)]?'\x20'+_0x5efe3e[_0x404442(0x44e)]:'',_0x594cd4+=_0x5efe3e[_0x404442(0x6ef)]?'\x20'+_0x5efe3e[_0x404442(0x6ef)]:'',_0x594cd4+=_0x5efe3e[_0x404442(0x6d5)]?'\x20'+_0x5efe3e[_0x404442(0x6d5)]:''),_0x5bf417==='listMessage'){_0x594cd4=(_0x5efe3e[_0x404442(0x2d3)]||'')+'\x0a'+(_0x5efe3e[_0x404442(0x1d6)]||'')+'\x0a'+(_0x5efe3e['footerText']||'');let _0x2115ef=this[_0x404442(0x2c2)](_0x5efe3e[_0x404442(0x76d)]);_0x43e2b8[_0x404442(0x56e)]=_0x2115ef;}if(_0x5bf417===_0x404442(0x72e)&&(_0x2fe0d6=_0x5efe3e['title']),_0x5efe3e&&_0x5efe3e[_0x404442(0x185)]){let _0x147bfb=this[_0x404442(0x399)](JSON[_0x404442(0x676)](_0x5efe3e[_0x404442(0x185)],null,0x2));_0x594cd4=_0x594cd4+'\x0a'+_0x147bfb;}if(_0x5efe3e){let {sections:_0x25444f,listType:_0x2b817a,displayName:_0x170f86,vcard:_0x24d21a,contactVcard:_0x20f199,name:_0x4adf40,caption:_0x21161e,conversation:_0x5034e6,pollCreationMessageKey:_0x1f877b,footerText:_0x3a788e,contentText:_0x519409,pageCount:_0x29c586,headerType:_0x3a01bd,isAvatar:_0x288c8a,isAnimated:_0x3f69b1,fallbackLc:_0x2f6411,fallbackLg:_0x7b0c57,namespace:_0x3f7831,elementName:_0x4a3338,localizableParams:_0x3b10e8,viewOnce:_0x456214,height:_0x49462a,width:_0x641751,key:_0xbfda58,firstScanLength:_0x23f7c5,firstScanSidecar:_0x2a82b4,gifPlayback:_0xd2b96a,gifAttribution:_0x540eea,midQualityFileSha256:_0x5de123,scansSidecar:_0x3871ac,streamingSidecar:_0x13d562,thumbnailHeight:_0x4b56eb,thumbnailWidth:_0x5c3ac7,thumbnailEncSha256:_0x1cf388,thumbnailDirectPath:_0x4a9fb0,canonicalUrl:_0x25238c,matchedText:_0xd72ef6,previewType:_0x2a178a,thumbnailSha256:_0x2e7f9b,deviceListMetadataVersion:_0x2a9964,inviteLinkGroupTypeV2:_0xb0d016,interactiveAnnotations:_0x1c629b,scanLengths:_0x2193a9,jpegThumbnail:_0x3992b1,url:_0x3c2b2d,mediaKeyTimestamp:_0x3ece7b,waveform:_0x44afbe,stickerSentTs:_0x3c9d90,firstFrameLength:_0x336a23,fileEncSha256:_0x37d21a,contextInfo:_0x91c739,firstFrameSidecar:_0x36a81f,directPath:_0x2dd7fb,fileSha256:_0x5cc99c,mediaKey:_0x182a79,senderTimestampMs:_0x447fbe,..._0x59e551}=_0x5efe3e;(_0x5bf417===_0x404442(0x4ff)||_0x5bf417===_0x404442(0x72e))&&(delete _0x59e551['title'],delete _0x59e551[_0x404442(0x1d6)]),typeof _0x5efe3e==_0x404442(0x571)?_0x43e2b8={'text':_0x5efe3e,'type':_0x5bf417||'conversation',..._0x543395&&{'edited':_0x543395},..._0x4b53aa&&{'quoted':_0x4b53aa},..._0x363808&&{'reaction':_0x363808}}:_0x43e2b8={'text':_0x594cd4,..._0x59e551,..._0x5bf417===_0x404442(0x731)?{'poll_id':_0x5efe3e[_0x404442(0x24b)]['id'],'quoted':_0x5efe3e['pollCreationMessageKey']['id'],'vote':_0x2fe0d6}:{},..._0x5bf417===_0x404442(0x72e)?{'vote':_0x2fe0d6}:{},'type':_0x5bf417,..._0x543395&&{'edited':_0x543395},..._0x4b53aa&&{'quoted':_0x4b53aa},..._0x363808&&{'reaction':_0x363808},...(_0x5bf417==='pollCreationMessage'||_0x5bf417===_0x404442(0x5fd)||_0x5bf417===_0x404442(0x728)||_0x5bf417===_0x404442(0x4ff))&&{'convertedOptions':_0x43e2b8['convertedOptions']}};}return{'messageType':_0x5bf417,'messageContent':_0x5efe3e,'message_normalized':_0x43e2b8};}catch(_0x13a8b7){return console[_0x404442(0x1b4)](_0x404442(0x75d),_0x13a8b7),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x243bb6(0x47d)]=null,this[_0x243bb6(0x41b)]=0x0,this[_0x243bb6(0x35b)]=null,(this[_0x243bb6(0x12e)](),this['instance'][_0x243bb6(0x353)]={'count':0x0});}set['instanceName'](_0x2108cf){const _0x4f5aea=a0_0x18e9af;if(!_0x2108cf){this['instance']['name']=(0x0,br['v4'])();return;}this[_0x4f5aea(0x777)][_0x4f5aea(0x10b)]=_0x2108cf,this['sendDataWebhook']('status.instance',{'instance':this[_0x4f5aea(0x777)]['name'],'status':_0x4f5aea(0x5e0)});}get['instanceName'](){const _0x455274=a0_0x18e9af;return this[_0x455274(0x777)][_0x455274(0x10b)];}get[a0_0x18e9af(0x207)](){const _0x5bd575=a0_0x18e9af;return this[_0x5bd575(0x777)][_0x5bd575(0x207)];}async[a0_0x18e9af(0x1cc)](){const _0x26d216=a0_0x18e9af;let _0x1c23b4=this[_0x26d216(0x18c)][_0x26d216(0x27c)]?.[_0x26d216(0x10b)]??this['client']['user']?.[_0x26d216(0x47b)];if(!_0x1c23b4){if(this[_0x26d216(0x38c)][_0x26d216(0x45d)](_0x26d216(0x368))[_0x26d216(0x695)]){let _0x22ee01=await R[_0x26d216(0x167)]()['db'](this[_0x26d216(0x38c)][_0x26d216(0x45d)](_0x26d216(0x368))[_0x26d216(0x3cf)]['DB_PREFIX_NAME']+_0x26d216(0x6bb))[_0x26d216(0x732)](this['instanceName'])[_0x26d216(0x238)]({'_id':'creds'});if(_0x22ee01){let _0x2ff9cc=JSON['parse'](JSON['stringify'](_0x22ee01),m[_0x26d216(0x49b)][_0x26d216(0x4d9)]);_0x1c23b4=_0x2ff9cc['me']?.[_0x26d216(0x10b)]||_0x2ff9cc['me']?.[_0x26d216(0x47b)];}}else{if((0x0,ve[_0x26d216(0x345)])((0x0,j[_0x26d216(0x4d1)])(ge,this[_0x26d216(0x584)],_0x26d216(0x12f)))){let _0xa6a4e2=JSON[_0x26d216(0x474)]((0x0,ve[_0x26d216(0x23a)])((0x0,j[_0x26d216(0x4d1)])(ge,this[_0x26d216(0x584)],_0x26d216(0x12f)),{'encoding':_0x26d216(0x685)}));_0x1c23b4=_0xa6a4e2['me']?.[_0x26d216(0x10b)]||_0xa6a4e2['me']?.[_0x26d216(0x47b)];}}}return _0x1c23b4;}get[a0_0x18e9af(0x3ac)](){const _0x33d881=a0_0x18e9af;return this[_0x33d881(0x777)][_0x33d881(0x3ac)];}get[a0_0x18e9af(0x6f0)](){const _0x4517c5=a0_0x18e9af;return{'pairingCode':this['instance'][_0x4517c5(0x353)]?.[_0x4517c5(0x1ac)],'code':this[_0x4517c5(0x777)][_0x4517c5(0x353)]?.['code'],'base64':this['instance']['qrcode']?.[_0x4517c5(0x600)]};}async['loadWebhook'](){const _0x3dc239=a0_0x18e9af;let _0x2c141d=await this[_0x3dc239(0x305)][_0x3dc239(0x4df)]['find'](this[_0x3dc239(0x584)]);this[_0x3dc239(0x330)]['url']=_0x2c141d?.['url'],this[_0x3dc239(0x330)][_0x3dc239(0x475)]=_0x2c141d?.['enabled'],this[_0x3dc239(0x330)][_0x3dc239(0x1e8)]=_0x2c141d?.[_0x3dc239(0x1e8)],this[_0x3dc239(0x330)][_0x3dc239(0x37a)]=_0x2c141d?.[_0x3dc239(0x37a)],this[_0x3dc239(0x330)]['QRCODE_UPDATED']=_0x2c141d?.[_0x3dc239(0x533)],this['localWebhook']['SEND_MESSAGE']=_0x2c141d?.[_0x3dc239(0x1fe)],this[_0x3dc239(0x330)][_0x3dc239(0x459)]=_0x2c141d?.[_0x3dc239(0x459)],this['localWebhook'][_0x3dc239(0x464)]=_0x2c141d?.['MESSAGES_UPDATE'],this[_0x3dc239(0x330)][_0x3dc239(0x3f6)]=_0x2c141d?.[_0x3dc239(0x3f6)],this[_0x3dc239(0x330)][_0x3dc239(0x342)]=_0x2c141d?.['GROUPS_UPDATE'],this[_0x3dc239(0x330)][_0x3dc239(0x1a0)]=_0x2c141d?.[_0x3dc239(0x1a0)],this['localWebhook'][_0x3dc239(0x4f7)]=_0x2c141d?.[_0x3dc239(0x4f7)],this['localWebhook']['CHATS_UPSERT']=_0x2c141d?.[_0x3dc239(0x72f)],this[_0x3dc239(0x330)]['CHATS_UPDATE']=_0x2c141d?.[_0x3dc239(0x192)],this[_0x3dc239(0x330)][_0x3dc239(0x6c6)]=_0x2c141d?.[_0x3dc239(0x6c6)],this[_0x3dc239(0x330)][_0x3dc239(0x171)]=_0x2c141d?.[_0x3dc239(0x171)],this[_0x3dc239(0x330)][_0x3dc239(0x2ab)]=_0x2c141d?.['CONTACTS_UPSERT'],this[_0x3dc239(0x330)]['CONTACTS_UPDATE']=_0x2c141d?.[_0x3dc239(0x2d6)],this[_0x3dc239(0x330)]['PRESENCE_UPDATE']=_0x2c141d?.[_0x3dc239(0x5a7)],this[_0x3dc239(0x330)][_0x3dc239(0x174)]=_0x2c141d?.['MESSAGES_SET'],this[_0x3dc239(0x330)][_0x3dc239(0x55d)]=_0x2c141d?.[_0x3dc239(0x55d)],this[_0x3dc239(0x330)]['groups_ignore']=_0x2c141d?.[_0x3dc239(0x6cf)];}async[a0_0x18e9af(0x58c)](_0x447184){const _0x1c1ba8=a0_0x18e9af;let _0x5278de=['_id',_0x1c1ba8(0x747),'enabled',_0x1c1ba8(0x1e8),'STATUS_INSTANCE',_0x1c1ba8(0x533),_0x1c1ba8(0x464),_0x1c1ba8(0x459),_0x1c1ba8(0x1fe),_0x1c1ba8(0x3f6),_0x1c1ba8(0x342),_0x1c1ba8(0x1a0),_0x1c1ba8(0x4f7),_0x1c1ba8(0x72f),_0x1c1ba8(0x192),'CHATS_DELETE',_0x1c1ba8(0x171),_0x1c1ba8(0x2ab),'CONTACTS_UPDATE',_0x1c1ba8(0x5a7),'MESSAGES_SET','CONNECTION_UPDATE',_0x1c1ba8(0x6cf)],_0x364709={};return _0x5278de[_0x1c1ba8(0x6d6)](_0x5918bf=>{_0x447184[_0x5918bf]!==void 0x0&&(_0x364709[_0x5918bf]=_0x447184[_0x5918bf]);}),await this['repository']['webhook']['create'](_0x364709,this[_0x1c1ba8(0x584)]),Object[_0x1c1ba8(0x735)](this[_0x1c1ba8(0x330)],_0x364709),await this[_0x1c1ba8(0x305)][_0x1c1ba8(0x4df)][_0x1c1ba8(0x493)](this[_0x1c1ba8(0x584)]);}async['findWebhook'](){const _0xf7d29e=a0_0x18e9af;return await this[_0xf7d29e(0x305)]['webhook'][_0xf7d29e(0x493)](this[_0xf7d29e(0x584)]);}async[a0_0x18e9af(0x1f8)](_0x1c3481,_0x2c8117){const _0x223343=a0_0x18e9af;let _0x2cb694=_0x1c3481['replace'](/[\.-]/gm,'_')['toUpperCase'](),_0x57616f=this['localWebhook'][_0x223343(0x475)]&&(0x0,$['isURL'])(this['localWebhook'][_0x223343(0x747)])?this[_0x223343(0x330)][_0x223343(0x747)]+(this['localWebhook'][_0x223343(0x1e8)]?this[_0x223343(0x231)][_0x1c3481]:''):null,_0x402609=this[_0x223343(0x330)][_0x2cb694],_0x5c3fe3=oe&&oe[_0x223343(0x475)]&&(0x0,$[_0x223343(0x227)])(oe['url'])?oe[_0x223343(0x747)]+(oe[_0x223343(0x1e8)]?this['webhookMap'][_0x1c3481]:''):null,_0x47d91d=oe?oe[_0x2cb694]:null;if(_0x402609&&_0x57616f)try{await te[_0x223343(0x30c)]['create']({'baseURL':_0x57616f})[_0x223343(0x1e5)]('',{'event':_0x1c3481,'instance':this[_0x223343(0x777)][_0x223343(0x10b)],'apikey':this[_0x223343(0x777)]['apikey'],'data':_0x2c8117}),this[_0x223343(0x232)]['log'](this['instanceName']+'\x20('+this[_0x223343(0x777)]['wuid']+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x1c3481+':\x20'+_0x57616f);}catch{this[_0x223343(0x232)][_0x223343(0x1b4)](this[_0x223343(0x584)]+'\x20('+this[_0x223343(0x777)][_0x223343(0x207)]+_0x223343(0x2af)+_0x1c3481+':\x20'+_0x57616f);}if(_0x47d91d&&_0x5c3fe3)try{await te['default'][_0x223343(0x1bb)]({'baseURL':_0x5c3fe3})['post']('',{'event':_0x1c3481,'instance':this[_0x223343(0x777)][_0x223343(0x10b)],'apikey':this[_0x223343(0x777)][_0x223343(0x390)],'data':_0x2c8117}),this[_0x223343(0x232)][_0x223343(0x704)](this['instanceName']+'\x20('+this[_0x223343(0x777)][_0x223343(0x207)]+_0x223343(0x78b)+_0x1c3481+':\x20'+_0x5c3fe3);}catch{this[_0x223343(0x232)][_0x223343(0x1b4)](this['instanceName']+'\x20('+this[_0x223343(0x777)][_0x223343(0x207)]+_0x223343(0x523)+_0x1c3481+':\x20'+_0x5c3fe3);}}async[a0_0x18e9af(0x5f8)]({qr:_0x2f5c7f,connection:_0x4f0a85,lastDisconnect:_0xbc1140}){const _0x36133b=a0_0x18e9af;if(_0x2f5c7f){if(this[_0x36133b(0x777)][_0x36133b(0x353)][_0x36133b(0x700)]===mi)return this[_0x36133b(0x1f8)](_0x36133b(0x6a3),{'message':_0x36133b(0x664),'statusCode':m['DisconnectReason'][_0x36133b(0x4cf)]}),this[_0x36133b(0x2d1)]={'state':_0x36133b(0x10d),'statusReason':m[_0x36133b(0x3f5)][_0x36133b(0x17f)]},this[_0x36133b(0x1f8)](_0x36133b(0x6de),{'instance':this['instance']['name'],...this[_0x36133b(0x2d1)]}),this[_0x36133b(0x1f8)](_0x36133b(0x1c0),{'instance':this[_0x36133b(0x777)][_0x36133b(0x10b)],'status':'removed'}),this[_0x36133b(0x305)][_0x36133b(0x153)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x36133b(0x777)]['name']),this['endSession']=!0x0,this[_0x36133b(0xfe)][_0x36133b(0x3fa)](_0x36133b(0x36a),this[_0x36133b(0x777)][_0x36133b(0x10b)]);this[_0x36133b(0x777)][_0x36133b(0x353)][_0x36133b(0x700)]++;let _0x3c0d6c={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x36133b(0x1c8)}};Sr[_0x36133b(0x30c)][_0x36133b(0x210)](_0x2f5c7f,_0x3c0d6c,(_0x47406e,_0x423023)=>{const _0x3dcf84=_0x36133b;if(_0x47406e){this[_0x3dcf84(0x232)][_0x3dcf84(0x1b4)](this[_0x3dcf84(0x584)]+'\x20('+this[_0x3dcf84(0x777)]['wuid']+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x47406e instanceof Error?_0x47406e[_0x3dcf84(0x668)]:JSON[_0x3dcf84(0x676)](_0x47406e,null,0x2)));return;}this[_0x3dcf84(0x777)][_0x3dcf84(0x353)][_0x3dcf84(0x600)]=_0x423023,this[_0x3dcf84(0x777)]['qrcode'][_0x3dcf84(0x3e5)]=_0x2f5c7f,this[_0x3dcf84(0x1f8)](_0x3dcf84(0x6a3),{'qrcode':{'instance':this['instance'][_0x3dcf84(0x10b)],'pairingCode':this['instance'][_0x3dcf84(0x353)]['pairingCode'],'code':_0x2f5c7f,'base64':_0x423023}});}),this[_0x36133b(0x14e)]?(await(0x0,m[_0x36133b(0x762)])(0x7d0),this[_0x36133b(0x777)][_0x36133b(0x353)][_0x36133b(0x1ac)]=await this[_0x36133b(0x18c)][_0x36133b(0x3f1)](this[_0x36133b(0x14e)])):this['instance']['qrcode']['pairingCode']=null,Er[_0x36133b(0x30c)]['generate'](_0x2f5c7f,{'small':!0x0},_0xf6183e=>this['logger']['log'](_0x36133b(0x11c)+this[_0x36133b(0x777)][_0x36133b(0x10b)]+_0x36133b(0x70d)+this[_0x36133b(0x777)][_0x36133b(0x353)]['count']+',\x20pairCode:\x20'+this['instance'][_0x36133b(0x353)][_0x36133b(0x1ac)]+_0x36133b(0x6f8)+_0xf6183e));}if(_0x4f0a85&&(this['stateConnection']={'state':_0x4f0a85,'statusReason':_0xbc1140?.['error']?.[_0x36133b(0x24d)]?.['statusCode']??0xc8},this[_0x36133b(0x1f8)](_0x36133b(0x6de),{'instance':this[_0x36133b(0x777)][_0x36133b(0x10b)],...this[_0x36133b(0x2d1)]})),_0x4f0a85==='close'){if(this[_0x36133b(0x29b)]++,this[_0x36133b(0x743)][_0x36133b(0x256)](Date[_0x36133b(0x60d)]()),this[_0x36133b(0x743)]=this[_0x36133b(0x743)][_0x36133b(0x2f4)](_0x357f0a=>Date['now']()-_0x357f0a<this['RECONNECT_TIME_FRAME']),_0xbc1140[_0x36133b(0x1b4)]?.[_0x36133b(0x24d)]?.[_0x36133b(0x34a)]!==m[_0x36133b(0x3f5)]['loggedOut']&&this['reconnectTimestamps'][_0x36133b(0x15f)]<=this[_0x36133b(0x17c)])console[_0x36133b(0x704)](this[_0x36133b(0x584)]+_0x36133b(0x5e9)+this[_0x36133b(0x29b)]+'/'+this[_0x36133b(0x17c)]+_0x36133b(0x4bc)),console[_0x36133b(0x704)](_0x36133b(0x6ed)),await this[_0x36133b(0x4e8)]();else{this[_0x36133b(0x1f8)](_0x36133b(0x1c0),{'instance':this[_0x36133b(0x777)][_0x36133b(0x10b)],'status':_0x36133b(0x1de)}),this[_0x36133b(0x39e)]=!0x1,this[_0x36133b(0x305)][_0x36133b(0x4df)]['delete'](this[_0x36133b(0x584)]),this[_0x36133b(0x305)][_0x36133b(0x153)][_0x36133b(0x1bb)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x36133b(0x60d)]()},this['instance'][_0x36133b(0x10b)]);try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x36133b(0x777)]['wuid']+_0x36133b(0x501));let _0x4626a1=await this[_0x36133b(0x305)]['message'][_0x36133b(0x29a)](this[_0x36133b(0x777)][_0x36133b(0x207)]);_0x4626a1['success']?this[_0x36133b(0x232)][_0x36133b(0x591)](this[_0x36133b(0x584)]+'\x20('+this[_0x36133b(0x777)]['wuid']+_0x36133b(0x162)):console[_0x36133b(0x1b4)](_0x36133b(0x5c4),_0x4626a1[_0x36133b(0x1b4)]);}catch(_0x596d09){console[_0x36133b(0x1b4)](_0x36133b(0x495),_0x596d09);}this[_0x36133b(0x514)]!==null&&(this[_0x36133b(0x232)][_0x36133b(0x591)](this[_0x36133b(0x584)]+'\x20('+this[_0x36133b(0x777)][_0x36133b(0x207)]+_0x36133b(0x366)),clearInterval(this[_0x36133b(0x514)]),this[_0x36133b(0x514)]=null),this[_0x36133b(0x232)][_0x36133b(0x591)](this[_0x36133b(0x584)]+'\x20('+this['instance']['wuid']+_0x36133b(0x2ef)),this[_0x36133b(0x3a5)]=null,this['eventEmitter']['emit'](_0x36133b(0x16e),this['instance'][_0x36133b(0x10b)],_0x36133b(0x583)),this[_0x36133b(0x18c)]?.['ws']?.[_0x36133b(0x647)](),this[_0x36133b(0x18c)][_0x36133b(0x136)](new Error(_0x36133b(0x300)));}}if(_0x4f0a85===_0x36133b(0x446)){this[_0x36133b(0x18c)]['ev']['flush'](),this[_0x36133b(0x544)],this[_0x36133b(0x777)][_0x36133b(0x207)]=this[_0x36133b(0x18c)]['user']['id'][_0x36133b(0x23f)](/:\d+/,'')[_0x36133b(0x23f)]('@s.whatsapp.net',''),this[_0x36133b(0x777)][_0x36133b(0x3ac)]=(await this[_0x36133b(0x574)](this[_0x36133b(0x777)][_0x36133b(0x207)]+_0x36133b(0x1d7)))[_0x36133b(0x3ac)],this[_0x36133b(0x305)][_0x36133b(0x153)][_0x36133b(0x1bb)]({'online':!0x0,'owner':this[_0x36133b(0x777)][_0x36133b(0x207)],'lastDisconnect':null},this[_0x36133b(0x777)][_0x36133b(0x10b)]);let _0x1ad012=_0x36133b(0x652)+this[_0x36133b(0x777)]['wuid'],_0xed48b7=0x28,_0x1c7a68=Math[_0x36133b(0x5b7)]((_0xed48b7-_0x1ad012[_0x36133b(0x15f)])/0x2),_0x4cab1e='\x20'[_0x36133b(0x51d)](_0x1c7a68),_0x479c53=_0x36133b(0x70b),_0x1cef46=_0x36133b(0x58d)+this[_0x36133b(0x777)][_0x36133b(0x10b)],_0x509efd=(''+_0x4cab1e+_0x1ad012+_0x4cab1e)[_0x36133b(0x782)](_0xed48b7,'\x20'),_0x440da3=(''+_0x4cab1e+_0x479c53+_0x4cab1e)[_0x36133b(0x782)](_0xed48b7,'\x20'),_0x48fdd9=(''+_0x4cab1e+_0x1cef46+_0x4cab1e)[_0x36133b(0x782)](_0xed48b7,'\x20'),_0x17ddc7=Math[_0x36133b(0x50c)](_0x509efd['length'],_0x440da3[_0x36133b(0x15f)],_0x48fdd9[_0x36133b(0x15f)]),_0xeb0109=_0x509efd[_0x36133b(0x782)](_0x17ddc7,'\x20'),_0x57509d=_0x440da3['padEnd'](_0x17ddc7,'\x20'),_0x526910=_0x48fdd9[_0x36133b(0x782)](_0x17ddc7,'\x20');this['logger'][_0x36133b(0x703)]((_0x36133b(0x209)+'─'[_0x36133b(0x51d)](_0x17ddc7)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x57509d+_0x36133b(0x3d7)+_0x526910+_0x36133b(0x3d7)+_0xeb0109+_0x36133b(0x217)+'─'['repeat'](_0x17ddc7)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x36133b(0x75a)](),this[_0x36133b(0x39e)]=!0x0;}}['resetReconnectionVariables'](){const _0x1ed383=a0_0x18e9af;this['reconnectAttempts']=0x0,this[_0x1ed383(0x743)]=[];}async['getMessage'](_0x14d1d3,_0x5336fe=!0x1){const _0x26a6fe=a0_0x18e9af;try{let _0x414638=await this[_0x26a6fe(0x305)]['message'][_0x26a6fe(0x493)]({'where':{'_id':_0x14d1d3['id']}},this['instance'][_0x26a6fe(0x207)]);return _0x5336fe?_0x414638[0x0]:_0x414638[0x0][_0x26a6fe(0x668)];}catch{return{'conversation':''};}}[a0_0x18e9af(0x12e)](){const _0x250b56=a0_0x18e9af;let _0x2e0435=this[_0x250b56(0x38c)]['get']('STORE'),_0x2abc8b=this[_0x250b56(0x38c)]['get'](_0x250b56(0x368));_0x2e0435?.[_0x250b56(0x492)]&&!_0x2abc8b[_0x250b56(0x695)]&&setInterval(()=>{const _0x595577=_0x250b56;try{for(let [_0x5ce1f0,_0x185417]of Object[_0x595577(0x235)](_0x2e0435))_0x185417===!0x0&&(0x0,Pt[_0x595577(0x376)])(_0x595577(0x370)+(0x0,j[_0x595577(0x4d1)])(this[_0x595577(0x46c)],_0x5ce1f0[_0x595577(0x62f)](),this[_0x595577(0x777)][_0x595577(0x207)])+_0x595577(0x408));}catch{}},(_0x2e0435?.[_0x250b56(0x492)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x4b5393=a0_0x18e9af;let _0x472d4f=this[_0x4b5393(0x38c)]['get'](_0x4b5393(0x368)),_0x2e001b=this[_0x4b5393(0x38c)]['get'](_0x4b5393(0x1d8));return _0x2e001b?.[_0x4b5393(0x695)]?await bs(_0x2e001b,this[_0x4b5393(0x777)]['name']):_0x472d4f['ENABLED']?await ys(this[_0x4b5393(0x777)][_0x4b5393(0x10b)]):await(0x0,m['useMultiFileAuthState'])((0x0,j[_0x4b5393(0x4d1)])(ge,this[_0x4b5393(0x777)]['name']));}async['AutomateFunctions'](){const _0x12115e=a0_0x18e9af;let _0x50441b=()=>Math[_0x12115e(0x5b7)](Math[_0x12115e(0x59e)]()*0x2711)+0x7d0,_0x410e93=async()=>{const _0x277321=_0x12115e;if(!this['isConnected']){this['logger'][_0x277321(0x591)](_0x277321(0x266)),this[_0x277321(0x477)]=!0x1;return;}if(this['instance']['wuid']&&this[_0x277321(0x3a5)]&&this[_0x277321(0x514)]!==null&&this[_0x277321(0x514)]!==void 0x0){let _0xe95ae5=Math[_0x277321(0x220)](this[_0x277321(0x514)]/0xea60);this['logger'][_0x277321(0x591)](this[_0x277321(0x584)]+'\x20('+this['instance'][_0x277321(0x207)]+_0x277321(0x1b7)+_0xe95ae5+_0x277321(0x3b4)),this[_0x277321(0x477)]=!0x1;return;}else this['instance'][_0x277321(0x207)]&&(this[_0x277321(0x232)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x277321(0x207)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this['logger'][_0x277321(0x591)](this['instanceName']+'\x20('+this[_0x277321(0x777)][_0x277321(0x207)]+'):\x20Dados\x20migrados\x20com\x20sucesso'),this['AutomateSystem']||await this['getAutomateSystem'](),(this['delayMessage']===null||this[_0x277321(0x514)]===void 0x0)&&await this[_0x277321(0x2d7)]());if(this['isRunning']){let _0x172e92=_0x50441b();this[_0x277321(0x232)][_0x277321(0x591)](this[_0x277321(0x584)]+_0x277321(0x4ab)+_0x172e92/0x3e8+_0x277321(0x461)),setTimeout(_0x410e93,_0x172e92);}};if(this['isRunning'])return;this[_0x12115e(0x477)]=!0x0;let _0x25729d=_0x50441b();setTimeout(_0x410e93,_0x25729d);}async['loadproxy'](_0x1642b9=0x0,_0xd42e6d=!0x1){const _0x512913=a0_0x18e9af;try{let _0x2d775e=this[_0x512913(0x38c)]['get'](_0x512913(0x339));if(_0x2d775e!==0x1||typeof _0x2d775e>'u'||_0x1642b9>=0x5)return this[_0x512913(0x232)]['warn'](_0x512913(0x20b)),this[_0x512913(0x305)][_0x512913(0x153)][_0x512913(0x1bb)]({'ip':null},this['instance']['name']),{};this[_0x512913(0x232)][_0x512913(0x591)](this[_0x512913(0x584)]+':\x20Tentativa\x20'+(_0x1642b9+0x1)+_0x512913(0x786));let _0x425a77;if(!_0xd42e6d){let _0x4cc936=await this['repository']['auth'][_0x512913(0x493)](this[_0x512913(0x584)]);_0x4cc936&&_0x4cc936['ip']&&(_0x425a77=gr(_0x4cc936['ip']));}if((!_0x425a77||!Ss(_0x425a77))&&(this['logger'][_0x512913(0x365)](this[_0x512913(0x584)]+':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.'),_0x425a77=mr()),_0x425a77&&Ss(_0x425a77)){let _0x931d1f=_0x425a77[_0x512913(0x758)]&&_0x425a77[_0x512913(0x6a5)]?_0x425a77[_0x512913(0x260)]+_0x512913(0x6a6)+_0x425a77[_0x512913(0x758)]+':'+_0x425a77[_0x512913(0x6a5)]+'@'+_0x425a77[_0x512913(0x1d0)]+':'+_0x425a77[_0x512913(0x63c)]:_0x425a77[_0x512913(0x260)]+_0x512913(0x6a6)+_0x425a77['host']+':'+_0x425a77['port'];return await this[_0x512913(0x658)](_0x931d1f,_0x425a77[_0x512913(0x1d0)])?(this[_0x512913(0x232)][_0x512913(0x591)](this['instanceName']+_0x512913(0x76f)),this[_0x512913(0x305)][_0x512913(0x153)][_0x512913(0x1bb)]({'ip':_0x425a77[_0x512913(0x1d0)]},this[_0x512913(0x777)]['name']),{'agent':new _t['HttpsProxyAgent'](_0x931d1f),'fetchAgent':new _t[(_0x512913(0x6a2))](_0x931d1f)}):(this[_0x512913(0x232)][_0x512913(0x365)](this[_0x512913(0x584)]+_0x512913(0x176)),await(0x0,m[_0x512913(0x762)])(0xc8),this[_0x512913(0x297)](_0x1642b9+0x1,!0x0));}else return this[_0x512913(0x232)][_0x512913(0x365)](this['instanceName']+':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...'),await(0x0,m[_0x512913(0x762)])(0xc8),this[_0x512913(0x297)](_0x1642b9+0x1,!0x0);}catch(_0xe1b7d0){return this[_0x512913(0x232)][_0x512913(0x1b4)](this[_0x512913(0x584)]+':\x20Erro\x20durante\x20loadproxy\x20-\x20'+_0xe1b7d0[_0x512913(0x668)]),{};}}async[a0_0x18e9af(0x658)](_0x124d06,_0x45af64){const _0x43db3f=a0_0x18e9af;let _0x17c5e2=new _t[(_0x43db3f(0x6a2))](_0x124d06),_0x589f8d=0x1388,_0x563877=[{'url':_0x43db3f(0x5a1),'parse':_0x1d7da5=>_0x1d7da5['ip']},{'url':'https://api.ipify.org?format=json','parse':_0x65dbc1=>_0x65dbc1['ip']},{'url':_0x43db3f(0x42d),'parse':_0x3c458c=>_0x3c458c[_0x43db3f(0x67b)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':'https://ipinfo.io/json','parse':_0x1ca03a=>_0x1ca03a['ip']},{'url':'http://ifconfig.me/ip','parse':_0x8cc1a4=>_0x8cc1a4[_0x43db3f(0x1ec)]()},{'url':_0x43db3f(0x2cc),'parse':_0x3a9efc=>_0x3a9efc[_0x43db3f(0x1ec)]()},{'url':_0x43db3f(0x592),'parse':_0x4b71fa=>_0x4b71fa[_0x43db3f(0x132)]},{'url':_0x43db3f(0x1fd),'parse':_0x247946=>_0x247946[_0x43db3f(0x1ec)]()},{'url':'http://icanhazip.com/','parse':_0x3c4200=>_0x3c4200[_0x43db3f(0x1ec)]()}],_0x72070e=_0x563877[Math['floor'](Math[_0x43db3f(0x59e)]()*_0x563877[_0x43db3f(0x15f)])];try{let _0x2ec064=await te['default'][_0x43db3f(0x45d)](_0x72070e[_0x43db3f(0x747)],{'httpsAgent':_0x17c5e2,'timeout':_0x589f8d}),_0x31000f=_0x72070e['parse'](_0x2ec064[_0x43db3f(0x465)]);return _0x31000f===_0x45af64?(this[_0x43db3f(0x232)][_0x43db3f(0x591)](this[_0x43db3f(0x584)]+':\x20IP\x20configurado:\x20'+_0x45af64+_0x43db3f(0x57b)+_0x31000f+'\x20->\x20CONFIRMADO.'),!0x0):(this[_0x43db3f(0x232)][_0x43db3f(0x1b4)](this[_0x43db3f(0x584)]+':\x20IP\x20configurado:\x20'+_0x45af64+_0x43db3f(0x57b)+_0x31000f+_0x43db3f(0x252)),!0x1);}catch(_0x581533){return this['logger'][_0x43db3f(0x1b4)](this[_0x43db3f(0x584)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x72070e['url']+':\x20'+_0x581533[_0x43db3f(0x668)]),!0x1;}}async['connectToWhatsapp'](_0x9b3873){const _0x447a21=a0_0x18e9af;try{let _0x5a7698=await this[_0x447a21(0x297)]();this[_0x447a21(0x4b0)](),this[_0x447a21(0x777)][_0x447a21(0x390)]=(await this[_0x447a21(0x305)][_0x447a21(0x153)][_0x447a21(0x493)](this[_0x447a21(0x777)][_0x447a21(0x10b)]))[_0x447a21(0x390)],this[_0x447a21(0x777)]['authState']=await this[_0x447a21(0x478)]();let {version:_0x103499}=await(0x0,m[_0x447a21(0x3ab)])(),_0x515666=[Ns,Cr,(0x0,Es[_0x447a21(0x424)])()],_0x4da9ca={..._0x5a7698,'auth':{'creds':this['instance'][_0x447a21(0x16d)][_0x447a21(0x41f)][_0x447a21(0x24f)],'keys':(0x0,m['makeCacheableSignalKeyStore'])(this[_0x447a21(0x777)][_0x447a21(0x16d)][_0x447a21(0x41f)][_0x447a21(0x581)],(0x0,It['default'])({'level':_0x447a21(0x1b4)}))},'logger':(0x0,It[_0x447a21(0x30c)])({'level':_0x447a21(0x1b4)}),'printQRInTerminal':!0x1,'browser':_0x9b3873?[_0x447a21(0x154),Ns,(0x0,Es[_0x447a21(0x424)])()]:_0x515666,'version':_0x103499,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x48ee30=>{const _0x1aa1fb=_0x447a21;let _0x2f406d=_0x48ee30[_0x1aa1fb(0x20a)](_0x1aa1fb(0x17d)),_0x169d5e=_0x48ee30[_0x1aa1fb(0x20a)](_0x1aa1fb(0x3a0));return _0x2f406d||_0x169d5e;},'msgRetryCounterCache':this[_0x447a21(0x2b2)],'getMessage':async _0x456fbb=>await this[_0x447a21(0x604)](_0x456fbb),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x447a21(0x5f4)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x1acd5b=>(_0x1acd5b[_0x447a21(0x4ff)]?.[_0x447a21(0x56b)]==m[_0x447a21(0x2cf)]['Message'][_0x447a21(0x10a)][_0x447a21(0x4c1)][_0x447a21(0x531)]&&(_0x1acd5b=JSON['parse'](JSON[_0x447a21(0x676)](_0x1acd5b)),_0x1acd5b[_0x447a21(0x4ff)][_0x447a21(0x56b)]=m[_0x447a21(0x2cf)][_0x447a21(0x435)]['ListMessage']['ListType'][_0x447a21(0x20d)]),_0x1acd5b)};return this[_0x447a21(0x295)]=!0x1,this['client']=(0x0,m['default'])(_0x4da9ca),this['eventHandler'](),this[_0x447a21(0x14e)]=_0x9b3873,this[_0x447a21(0x18c)];}catch(_0x2ba0bf){throw this[_0x447a21(0x232)][_0x447a21(0x1b4)](this[_0x447a21(0x584)]+'\x20('+this[_0x447a21(0x777)][_0x447a21(0x207)]+'):\x20'+(_0x2ba0bf instanceof Error?_0x2ba0bf['message']:JSON['stringify'](_0x2ba0bf,null,0x2))),new I(_0x2ba0bf?.[_0x447a21(0x2fb)]());}}[a0_0x18e9af(0x436)](){const _0x3b5d2d=a0_0x18e9af;this[_0x3b5d2d(0x18c)]['ev'][_0x3b5d2d(0x230)](_0x5a0d7a=>{const _0x229e50=_0x3b5d2d;if(!this[_0x229e50(0x295)]){let _0x6a69c8=this[_0x229e50(0x38c)][_0x229e50(0x45d)](_0x229e50(0x368));if(_0x5a0d7a[_0x229e50(0x67a)]){let _0x5665af=_0x5a0d7a['labels.edit'];this[_0x229e50(0x569)][_0x229e50(0x67a)](_0x5665af);}if(_0x5a0d7a[_0x229e50(0x5d2)]){let _0x1bee29=_0x5a0d7a[_0x229e50(0x5d2)];this[_0x229e50(0x569)][_0x229e50(0x5d2)](_0x1bee29);}if(_0x5a0d7a[_0x229e50(0x6de)]&&this[_0x229e50(0x5f8)](_0x5a0d7a[_0x229e50(0x6de)]),_0x5a0d7a[_0x229e50(0x563)]&&this[_0x229e50(0x777)]['authState'][_0x229e50(0x645)](),_0x5a0d7a[_0x229e50(0x4fd)]){let _0x5dfb0b=_0x5a0d7a[_0x229e50(0x4fd)];this[_0x229e50(0x569)][_0x229e50(0x4fd)](_0x5dfb0b,_0x6a69c8);}if(_0x5a0d7a[_0x229e50(0x2a4)]){let _0x3c2d1f=_0x5a0d7a[_0x229e50(0x2a4)];this[_0x229e50(0x569)][_0x229e50(0x2a4)](_0x3c2d1f,_0x6a69c8);}if(_0x5a0d7a[_0x229e50(0x2df)]){let _0x4a1bc5=_0x5a0d7a[_0x229e50(0x2df)];_0x4a1bc5[_0x229e50(0x6d6)](_0x914bb3=>{const _0x4fd66d=_0x229e50;if(wr[_0x914bb3[_0x4fd66d(0x66a)]['id']]){this[_0x4fd66d(0x18c)]['ev'][_0x4fd66d(0x3fa)]('messages.upsert',{'messages':[_0x914bb3],'type':_0x4fd66d(0x1fb)}),delete wr[_0x914bb3['key']['id']];return;}}),this['messageHandle'][_0x229e50(0x2df)](_0x4a1bc5,_0x6a69c8);}if(_0x5a0d7a[_0x229e50(0x1b9)]){let _0x57e3fb=_0x5a0d7a[_0x229e50(0x1b9)];if(this['localWebhook']?.['groups_ignore']&&_0x57e3fb['id'][_0x229e50(0x4d6)]('@g.us'))return;this[_0x229e50(0x1f8)]('presence.update',_0x57e3fb);}if(!this[_0x229e50(0x330)]?.[_0x229e50(0x6cf)]){if(_0x5a0d7a[_0x229e50(0x56f)]){let _0x20e02b=_0x5a0d7a['groups.upsert'];this[_0x229e50(0x3ea)][_0x229e50(0x56f)](_0x20e02b);}if(_0x5a0d7a[_0x229e50(0x249)]){let _0xc5d39=_0x5a0d7a[_0x229e50(0x249)];this['groupHandler'][_0x229e50(0x249)](_0xc5d39);}if(_0x5a0d7a[_0x229e50(0x5c5)]){let _0x6f201a=_0x5a0d7a[_0x229e50(0x5c5)];this[_0x229e50(0x3ea)][_0x229e50(0x5c5)](_0x6f201a);}}if(_0x5a0d7a['chats.upsert']){let _0x4bf2cd=_0x5a0d7a[_0x229e50(0x2f2)];this['chatHandle'][_0x229e50(0x2f2)](_0x4bf2cd,_0x6a69c8);}if(_0x5a0d7a['chats.update']){let _0x534c0f=_0x5a0d7a['chats.update'];this[_0x229e50(0x216)][_0x229e50(0x611)](_0x534c0f,_0x6a69c8);}if(_0x5a0d7a[_0x229e50(0x570)]){let _0x23a8ff=_0x5a0d7a[_0x229e50(0x570)];this[_0x229e50(0x216)]['chats.delete'](_0x23a8ff);}if(_0x5a0d7a[_0x229e50(0x6ac)]){let _0x3053d9=_0x5a0d7a[_0x229e50(0x6ac)];this[_0x229e50(0x447)]['contacts.upsert'](_0x3053d9,_0x6a69c8);}if(_0x5a0d7a[_0x229e50(0x4ac)]){let _0x7371df=_0x5a0d7a[_0x229e50(0x4ac)];this['contactHandle'][_0x229e50(0x4ac)](_0x7371df,_0x6a69c8);}}});}[a0_0x18e9af(0x19b)](_0x2bb2a8){return new Promise(_0x134d52=>setTimeout(_0x134d52,_0x2bb2a8));}[a0_0x18e9af(0x26b)](_0x2b47bf){const _0x5b8671=a0_0x18e9af;let _0x325294=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5b8671(0x4a9)](_0x2b47bf);if(_0x325294&&_0x325294[0x1]==='55'){let _0x275fa3=_0x325294[0x2],_0x38cda8=_0x325294[0x3],_0x3092e3=_0x325294[0x4];if(_0x275fa3>='31'&&_0x38cda8==='9')return _0x325294[0x1]+_0x275fa3+_0x3092e3;}return _0x2b47bf;}['createJid'](_0x24dc79){const _0x3c09bb=a0_0x18e9af;return _0x24dc79[_0x3c09bb(0x4d6)]('@g.us')||_0x24dc79[_0x3c09bb(0x4d6)](_0x3c09bb(0x1d7))||_0x24dc79[_0x3c09bb(0x4d6)](_0x3c09bb(0x3a0))?_0x24dc79:(_0x24dc79=_0x24dc79?.[_0x3c09bb(0x23f)](/\s/g,'')[_0x3c09bb(0x23f)](/\+/g,'')[_0x3c09bb(0x23f)](/\(/g,'')[_0x3c09bb(0x23f)](/\)/g,'')[_0x3c09bb(0x308)](/\:/)[0x0][_0x3c09bb(0x308)]('@')[0x0],_0x24dc79[_0x3c09bb(0x15f)]>=0x12?(_0x24dc79=_0x24dc79[_0x3c09bb(0x23f)](/[^\d-]/g,''),_0x24dc79+_0x3c09bb(0x5bf)):(_0x24dc79=_0x24dc79[_0x3c09bb(0x23f)](/\D/g,''),this[_0x3c09bb(0x26b)](_0x24dc79)+'@s.whatsapp.net'));}async['updatePresence'](_0x142715){const _0x26ba05=a0_0x18e9af;let _0xe422a4=this[_0x26ba05(0x71b)](_0x142715[_0x26ba05(0x5ff)]),_0x4d3d4e=(await this[_0x26ba05(0x407)]({'numbers':[_0xe422a4]}))[0x0];if(!_0x4d3d4e[_0x26ba05(0x778)]&&!(0x0,m[_0x26ba05(0x5f0)])(_0x4d3d4e[_0x26ba05(0x35c)]))throw new w(_0x4d3d4e);let _0x2cb606=(0x0,m[_0x26ba05(0x5f0)])(_0xe422a4)?_0xe422a4:_0x4d3d4e[_0x26ba05(0x35c)];if((0x0,m[_0x26ba05(0x5f0)])(_0x2cb606))try{await this[_0x26ba05(0x18c)][_0x26ba05(0x290)](_0x2cb606);}catch{throw new k(_0x26ba05(0x146));}try{return await this[_0x26ba05(0x18c)][_0x26ba05(0x33c)](_0x2cb606),await this['client'][_0x26ba05(0x525)](_0x142715[_0x26ba05(0x757)],_0xe422a4),{'status':0xc8,'presence':_0x142715[_0x26ba05(0x757)]};}catch(_0x490ded){throw new w(_0x490ded['toString']());}}async[a0_0x18e9af(0x574)](_0x19ff81){const _0x3e6cbd=a0_0x18e9af;let _0x4fb7ce=this[_0x3e6cbd(0x71b)](_0x19ff81);try{return{'wuid':_0x4fb7ce,'profilePictureUrl':await this[_0x3e6cbd(0x18c)][_0x3e6cbd(0x3ac)](_0x4fb7ce,_0x3e6cbd(0x148))};}catch{return{'wuid':_0x4fb7ce,'profilePictureUrl':null};}}async[a0_0x18e9af(0x463)](_0x142f26,_0x564057,_0x2caf87){const _0x307073=a0_0x18e9af;_0x2caf87||(_0x2caf87={});let _0x186cf7=(await this[_0x307073(0x407)]({'numbers':[_0x142f26]}))[0x0];if(!_0x186cf7['exists']&&!(0x0,m['isJidGroup'])(_0x186cf7[_0x307073(0x35c)])&&!_0x186cf7[_0x307073(0x35c)][_0x307073(0x4d6)](_0x307073(0x3a0)))throw new w(_0x186cf7);let _0x20afe7=_0x186cf7[_0x307073(0x35c)];try{_0x2caf87?.[_0x307073(0x762)]&&(await this['client'][_0x307073(0x33c)](_0x20afe7),await this['client']['sendPresenceUpdate'](_0x2caf87?.[_0x307073(0x757)]??_0x307073(0x69b),_0x20afe7),await(0x0,m[_0x307073(0x762)])(_0x2caf87[_0x307073(0x762)]),await this[_0x307073(0x18c)][_0x307073(0x525)](_0x307073(0x509),_0x20afe7));let _0x311bb8=_0x2caf87?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x5e033f;if(_0x2caf87?.[_0x307073(0x770)]){let _0x39c38a=_0x2caf87?.[_0x307073(0x770)],_0x1266e7=_0x39c38a?.[_0x307073(0x668)]?_0x39c38a:await this['getMessage'](_0x39c38a[_0x307073(0x66a)],!0x0);if(!_0x1266e7)throw _0x307073(0x1a2);_0x5e033f=_0x1266e7;}let _0x14be32;if((0x0,m[_0x307073(0x5f0)])(_0x20afe7))try{let _0x5db84a=await this[_0x307073(0x18c)][_0x307073(0x290)](_0x20afe7);if(!_0x5db84a)throw new k(_0x307073(0x146));_0x2caf87?.[_0x307073(0x250)]&&(_0x2caf87[_0x307073(0x250)]?.[_0x307073(0x3f2)]?_0x14be32=_0x5db84a['participants']['map'](_0x316b7e=>_0x316b7e['id']):_0x2caf87[_0x307073(0x250)]?.[_0x307073(0x73b)]?.[_0x307073(0x15f)]&&(_0x14be32=_0x2caf87[_0x307073(0x250)]['mentioned'][_0x307073(0x48c)](_0x56eca6=>{const _0x489d2f=_0x307073;let _0x2c9a49=this[_0x489d2f(0x71b)](_0x56eca6);return(0x0,m['isJidGroup'])(_0x2c9a49)?null:_0x2c9a49;})));}catch{throw new k('Group\x20not\x20found');}let _0x485a92=await((async()=>{const _0x269721=_0x307073;let _0x568209={'quoted':_0x5e033f};if(!_0x564057[_0x269721(0x236)]&&!_0x564057[_0x269721(0x755)]&&!_0x564057['sticker']&&!_0x564057[_0x269721(0x6ef)]&&_0x20afe7!==_0x269721(0x310)&&!_0x564057[_0x269721(0x236)])return await this['client'][_0x269721(0x4fb)](_0x20afe7,{'forward':{'key':{'remoteJid':this[_0x269721(0x777)]['wuid'],'fromMe':!0x0},'message':_0x564057},'mentions':_0x14be32},_0x568209);if(_0x564057[_0x269721(0x4a5)])return await this[_0x269721(0x18c)][_0x269721(0x4fb)](_0x20afe7,{'react':{'text':_0x564057[_0x269721(0x4a5)]['text'],'key':_0x564057[_0x269721(0x4a5)][_0x269721(0x66a)]}},_0x568209);if(_0x564057[_0x269721(0x6ef)]){let _0x2d232f=_0x564057[_0x269721(0x6ef)];return _0x2caf87?.[_0x269721(0x6bf)]&&(_0x2d232f=await this[_0x269721(0x543)](_0x2d232f,_0x20afe7)),await this[_0x269721(0x18c)][_0x269721(0x4fb)](_0x20afe7,{'text':_0x2d232f,'mentions':_0x14be32,'linkPreview':_0x311bb8},_0x568209);}return _0x20afe7==='status@broadcast'?await this[_0x269721(0x18c)][_0x269721(0x4fb)](_0x20afe7,_0x564057[_0x269721(0x522)][_0x269721(0x6d0)],{'backgroundColor':_0x564057[_0x269721(0x522)][_0x269721(0x4ae)][_0x269721(0x33b)],'font':_0x564057[_0x269721(0x522)][_0x269721(0x4ae)][_0x269721(0x55a)],'statusJidList':_0x564057['status'][_0x269721(0x4ae)][_0x269721(0x562)]}):await this['client']['sendMessage'](_0x20afe7,_0x564057,_0x568209);})()),_0x27cd5d=(0x0,m[_0x307073(0x31f)])(_0x485a92[_0x307073(0x668)]),_0x3c7dc3=(0x0,m[_0x307073(0x6db)])(_0x27cd5d),{message_normalized:_0x155596}=this[_0x307073(0x3c3)](_0x27cd5d,_0x3c7dc3,null),_0x81a430={'_id':_0x485a92['key']['id'],'key':_0x485a92[_0x307073(0x66a)],'pushName':_0x485a92[_0x307073(0x44d)],'message':_0x27cd5d,'messageType':_0x3c7dc3,'message_normalized':{'key':_0x485a92[_0x307073(0x66a)],'pushName':_0x485a92[_0x307073(0x44d)],'messageTimestamp':_0x485a92[_0x307073(0x10c)]&&_0x485a92[_0x307073(0x10c)]['toString']()[_0x307073(0x15f)]<0xd?_0x485a92['messageTimestamp']*0x3e8:_0x485a92[_0x307073(0x10c)]||null,'source':(0x0,m[_0x307073(0x440)])(_0x485a92[_0x307073(0x66a)]['id']),..._0x155596},'messageTimestamp':_0x485a92['messageTimestamp']&&_0x485a92[_0x307073(0x10c)]['toString']()[_0x307073(0x15f)]<0xd?_0x485a92[_0x307073(0x10c)]*0x3e8:_0x485a92[_0x307073(0x10c)]||null,'owner':this[_0x307073(0x777)][_0x307073(0x207)],'source':(0x0,m[_0x307073(0x440)])(_0x485a92[_0x307073(0x66a)]['id'])};return this[_0x307073(0x232)][_0x307073(0x365)](this[_0x307073(0x584)]+'\x20('+this[_0x307073(0x777)][_0x307073(0x207)]+_0x307073(0x542)+_0x81a430['key']?.[_0x307073(0x3fc)]['replace'](_0x307073(0x1d7),'')+']\x20('+_0x81a430[_0x307073(0x61c)]+')'),_0x81a430[_0x307073(0x6ec)]?.[_0x307073(0x3da)]&&this[_0x307073(0x232)]['warn'](_0x81a430['message_normalized']?.['text']),this[_0x307073(0x1f8)](_0x307073(0x32e),_0x81a430),q(this[_0x307073(0x584)],_0x307073(0x53c),{'message':_0x81a430}),this[_0x307073(0x6f5)](this['configService'][_0x307073(0x45d)]('DATABASE'),_0x81a430,_0x307073(0x1fe)),await this[_0x307073(0x305)][_0x307073(0x668)][_0x307073(0x5fb)]([_0x81a430],this[_0x307073(0x777)]['wuid']),_0x485a92;}catch(_0x53e5c8){throw this['logger']['error'](this[_0x307073(0x584)]+'\x20('+this[_0x307073(0x777)]['wuid']+_0x307073(0x208)+_0x53e5c8[_0x307073(0x2fb)]()),new w(_0x53e5c8[_0x307073(0x2fb)]());}}get[a0_0x18e9af(0x3b8)](){return this['stateConnection'];}async[a0_0x18e9af(0x3ef)](_0x3dcce2){const _0x1eb556=a0_0x18e9af;let _0x133bf7=fr,_0x2a4715=Ke;return _0x2a4715&&this[_0x1eb556(0x584)][_0x1eb556(0x62f)]()[_0x1eb556(0x4d6)](_0x2a4715[_0x1eb556(0x62f)]())&&(_0x3dcce2[_0x1eb556(0x3ef)]['text']+='\x0a\x0a'+_0x133bf7),await this[_0x1eb556(0x463)](_0x3dcce2[_0x1eb556(0x5ff)],{'conversation':_0x3dcce2['textMessage'][_0x1eb556(0x3da)]},_0x3dcce2?.[_0x1eb556(0x3c0)]);}async['formatStatusMessage'](_0x386103){const _0x2e9235=a0_0x18e9af;if(!_0x386103[_0x2e9235(0x120)])throw new w('Type\x20is\x20required');if(!_0x386103['content'])throw new w(_0x2e9235(0x2d9));if(_0x386103[_0x2e9235(0x479)]){let _0xcc2c22=await this[_0x2e9235(0x305)]['contact'][_0x2e9235(0x493)]({'where':{}},this['instance'][_0x2e9235(0x207)]);if(!_0xcc2c22[_0x2e9235(0x15f)])throw new w(_0x2e9235(0x169));_0x386103[_0x2e9235(0x562)]=_0xcc2c22[_0x2e9235(0x2f4)](_0x49b26d=>_0x49b26d[_0x2e9235(0x44d)])['map'](_0xd05d2a=>_0xd05d2a[_0x2e9235(0x550)]);}if(!_0x386103['statusJidList']?.[_0x2e9235(0x15f)]&&!_0x386103['allContacts'])throw new w(_0x2e9235(0x137));if(_0x386103[_0x2e9235(0x120)]==='text'){if(!_0x386103['backgroundColor'])throw new w('Background\x20color\x20is\x20required');if(!_0x386103[_0x2e9235(0x55a)])throw new w(_0x2e9235(0x5f1));return{'content':{'text':_0x386103[_0x2e9235(0x6d0)]},'option':{'backgroundColor':_0x386103[_0x2e9235(0x33b)],'font':_0x386103[_0x2e9235(0x55a)],'statusJidList':_0x386103['statusJidList']}};}if(_0x386103[_0x2e9235(0x120)]===_0x2e9235(0x148))return{'content':{'image':{'url':_0x386103['content']},'caption':_0x386103[_0x2e9235(0x44e)]},'option':{'statusJidList':_0x386103['statusJidList']}};if(_0x386103[_0x2e9235(0x120)]===_0x2e9235(0x1af))return{'content':{'video':{'url':_0x386103[_0x2e9235(0x6d0)]},'caption':_0x386103['caption']},'option':{'statusJidList':_0x386103[_0x2e9235(0x562)]}};if(_0x386103[_0x2e9235(0x120)]==='audio'){this[_0x2e9235(0x232)][_0x2e9235(0x591)](_0x2e9235(0x158)),this[_0x2e9235(0x232)]['verbose'](_0x2e9235(0x744));let _0x5a2432=await this[_0x2e9235(0x2f6)](_0x386103[_0x2e9235(0x6d0)]);if(typeof _0x5a2432==_0x2e9235(0x571)){this['logger'][_0x2e9235(0x591)](_0x2e9235(0x172));let _0x4eab8d=L[_0x2e9235(0x23a)](_0x5a2432)[_0x2e9235(0x2fb)](_0x2e9235(0x600));return{'content':{'audio':Buffer[_0x2e9235(0x54a)](_0x4eab8d,_0x2e9235(0x600)),'ptt':!0x0,'mimetype':_0x2e9235(0x206)},'option':{'statusJidList':_0x386103[_0x2e9235(0x562)]}};}else throw new I(_0x5a2432);}throw new w(_0x2e9235(0x6ea));}async['statusMessage'](_0x17569f){const _0x2c6c5c=a0_0x18e9af;return await this[_0x2c6c5c(0x463)](_0x2c6c5c(0x310),{'status':await this[_0x2c6c5c(0x4f9)](_0x17569f[_0x2c6c5c(0x686)])});}async['prepareMediaMessage'](_0x597273){const _0x5e02aa=a0_0x18e9af;try{let _0x391fbe=await(0x0,m[_0x5e02aa(0x194)])({[_0x597273['mediatype']]:(0x0,$[_0x5e02aa(0x227)])(_0x597273[_0x5e02aa(0x219)])?{'url':_0x597273[_0x5e02aa(0x219)]}:Buffer[_0x5e02aa(0x54a)](_0x597273[_0x5e02aa(0x219)],_0x5e02aa(0x600))},{'upload':this[_0x5e02aa(0x18c)][_0x5e02aa(0x42e)]}),_0x44d4f1=_0x597273['mediatype']+'Message';if(_0x597273[_0x5e02aa(0x117)]===_0x5e02aa(0x259)&&!_0x597273['fileName']){let _0xa20a80=new RegExp(/.*\/(.+?)\./)[_0x5e02aa(0x4a9)](_0x597273[_0x5e02aa(0x219)]);_0x597273[_0x5e02aa(0x3b5)]=_0xa20a80?_0xa20a80[0x1]:null;}let _0x33913d=(0x0,$[_0x5e02aa(0x227)])(_0x597273['media'])?_0x597273['media'][_0x5e02aa(0x308)]('?')[0x0]:_0x597273[_0x5e02aa(0x219)];this[_0x5e02aa(0x232)][_0x5e02aa(0x591)](_0x5e02aa(0x349)+_0x33913d);let _0xc9f1e;(0x0,$[_0x5e02aa(0x227)])(_0x597273[_0x5e02aa(0x219)])?_0xc9f1e=(0x0,xt[_0x5e02aa(0x597)])(_0x33913d):_0x597273[_0x5e02aa(0x3b5)]&&_0x597273[_0x5e02aa(0x3b5)][_0x5e02aa(0x4d6)]('.')?_0xc9f1e=(0x0,xt[_0x5e02aa(0x597)])(_0x597273[_0x5e02aa(0x3b5)]):_0xc9f1e=(0x0,xt[_0x5e02aa(0x597)])(_0x597273['media']);let _0xd6fcf7=fr,_0x31335b=Ke;return _0x31335b&&this[_0x5e02aa(0x584)]['toLowerCase']()[_0x5e02aa(0x4d6)](_0x31335b[_0x5e02aa(0x62f)]())&&(_0x597273[_0x5e02aa(0x44e)]+='\x0a\x0a'+_0xd6fcf7),_0x391fbe[_0x44d4f1][_0x5e02aa(0x44e)]=_0x597273?.['caption'],_0x391fbe[_0x44d4f1][_0x5e02aa(0x5e1)]=_0xc9f1e,_0x391fbe[_0x44d4f1][_0x5e02aa(0x3b5)]=_0x597273[_0x5e02aa(0x3b5)],_0x597273[_0x5e02aa(0x117)]===_0x5e02aa(0x1af)&&(_0x391fbe[_0x44d4f1][_0x5e02aa(0x620)]=Uint8Array[_0x5e02aa(0x54a)]((0x0,ve['readFileSync'])((0x0,j[_0x5e02aa(0x4d1)])(process[_0x5e02aa(0x1dc)](),_0x5e02aa(0x11f)))),_0x391fbe[_0x44d4f1]['gifPlayback']=!0x1),(0x0,m[_0x5e02aa(0x394)])('',{[_0x44d4f1]:{..._0x391fbe[_0x44d4f1]}},{'userJid':this[_0x5e02aa(0x777)][_0x5e02aa(0x207)]});}catch(_0x179a12){throw this[_0x5e02aa(0x232)][_0x5e02aa(0x1b4)](this[_0x5e02aa(0x584)]+'\x20('+this[_0x5e02aa(0x777)][_0x5e02aa(0x207)]+_0x5e02aa(0x208)+(_0x179a12 instanceof Error?_0x179a12[_0x5e02aa(0x668)]:JSON['stringify'](_0x179a12,null,0x2))),new I(_0x179a12?.['toString']()||_0x179a12);}}async[a0_0x18e9af(0x2e5)](_0x3be59c){const _0x18276e=a0_0x18e9af;let _0x6b68f0=await this[_0x18276e(0x74e)](_0x3be59c['mediaMessage']);return await this[_0x18276e(0x463)](_0x3be59c[_0x18276e(0x5ff)],{..._0x6b68f0['message']},_0x3be59c?.[_0x18276e(0x3c0)]);}async['convertToWebP'](_0x564031,_0x30e469){const _0x572d20=a0_0x18e9af;try{this['logger'][_0x572d20(0x591)](_0x572d20(0x57d));let _0x259c83,_0xc16fd4=_0x30e469+'-'+new Date()[_0x572d20(0x6c2)]();this[_0x572d20(0x232)][_0x572d20(0x591)]('Hash\x20to\x20image\x20name:\x20'+_0xc16fd4);let _0x3bbcc4=''+(0x0,j[_0x572d20(0x4d1)])(this[_0x572d20(0x46c)],_0xc16fd4+_0x572d20(0x63a));if(this[_0x572d20(0x232)][_0x572d20(0x591)](_0x572d20(0x4d0)+_0x3bbcc4),(0x0,$['isBase64'])(_0x564031)){this[_0x572d20(0x232)][_0x572d20(0x591)](_0x572d20(0x483));let _0x331128=_0x564031[_0x572d20(0x23f)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x230895=Buffer[_0x572d20(0x54a)](_0x331128,'base64');_0x259c83=''+(0x0,j[_0x572d20(0x4d1)])(this[_0x572d20(0x46c)],_0x572d20(0x2e9)+_0xc16fd4+_0x572d20(0x18f)),this[_0x572d20(0x232)][_0x572d20(0x591)](_0x572d20(0x44b)+_0x259c83),await(0x0,Dt['default'])(_0x230895)[_0x572d20(0x2aa)](_0x259c83),this['logger'][_0x572d20(0x591)]('Image\x20created');}else{this['logger'][_0x572d20(0x591)](_0x572d20(0x37c));let _0x275930=new Date()[_0x572d20(0x6c2)](),_0x1e455b=_0x564031+_0x572d20(0x2d4)+_0x275930;this[_0x572d20(0x232)][_0x572d20(0x591)]('including\x20timestamp\x20in\x20url:\x20'+_0x1e455b);let _0x592688=await te[_0x572d20(0x30c)][_0x572d20(0x45d)](_0x1e455b,{'responseType':_0x572d20(0x5c2)});this[_0x572d20(0x232)]['verbose'](_0x572d20(0x740));let _0x31b755=Buffer['from'](_0x592688[_0x572d20(0x465)],'binary');_0x259c83=''+(0x0,j[_0x572d20(0x4d1)])(this[_0x572d20(0x46c)],_0x572d20(0x2e9)+_0xc16fd4+_0x572d20(0x18f)),this[_0x572d20(0x232)][_0x572d20(0x591)](_0x572d20(0x44b)+_0x259c83),await(0x0,Dt[_0x572d20(0x30c)])(_0x31b755)['toFile'](_0x259c83),this['logger'][_0x572d20(0x591)](_0x572d20(0x3e2));}return await(0x0,Dt['default'])(_0x259c83)[_0x572d20(0x5c3)]()[_0x572d20(0x2aa)](_0x3bbcc4),this[_0x572d20(0x232)]['verbose']('Image\x20converted\x20to\x20WebP'),L[_0x572d20(0x244)](_0x259c83),this[_0x572d20(0x232)][_0x572d20(0x591)](_0x572d20(0x6fa)),_0x3bbcc4;}catch(_0x5dae2a){console[_0x572d20(0x1b4)]('Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:',_0x5dae2a instanceof Error?_0x5dae2a[_0x572d20(0x668)]:JSON['stringify'](_0x5dae2a,null,0x2));}}async[a0_0x18e9af(0x323)](_0x5d1353){const _0x2ebbef=a0_0x18e9af;let _0x82123=await this['convertToWebP'](_0x5d1353[_0x2ebbef(0x6b4)]['image'],_0x5d1353[_0x2ebbef(0x5ff)]),_0x457670=await this['sendMessageWithTyping'](_0x5d1353[_0x2ebbef(0x5ff)],{'sticker':{'url':_0x82123}},_0x5d1353?.[_0x2ebbef(0x3c0)]);return L[_0x2ebbef(0x244)](_0x82123),this[_0x2ebbef(0x232)][_0x2ebbef(0x591)](_0x2ebbef(0x36e)),_0x457670;}async['audioWhatsapp'](_0x19353c){const _0x4f3a84=a0_0x18e9af;if(this['logger'][_0x4f3a84(0x591)](_0x4f3a84(0x702)),!_0x19353c[_0x4f3a84(0x3c0)]?.[_0x4f3a84(0x648)]&&_0x19353c[_0x4f3a84(0x3c0)]?.['encoding']!==!0x1&&(_0x19353c[_0x4f3a84(0x3c0)][_0x4f3a84(0x648)]=!0x0),_0x19353c['options']?.['encoding']){let _0x3991c5=await this[_0x4f3a84(0x2f6)](_0x19353c['audioMessage'][_0x4f3a84(0x236)]);if(typeof _0x3991c5=='string'){let _0x1f8134=L[_0x4f3a84(0x23a)](_0x3991c5)[_0x4f3a84(0x2fb)](_0x4f3a84(0x600)),_0x197a11=this[_0x4f3a84(0x463)](_0x19353c['number'],{'audio':Buffer[_0x4f3a84(0x54a)](_0x1f8134,_0x4f3a84(0x600)),'ptt':!0x0,'mimetype':_0x4f3a84(0x206)},{'presence':_0x4f3a84(0x679),'delay':_0x19353c?.[_0x4f3a84(0x3c0)]?.['delay']});return this[_0x4f3a84(0x232)][_0x4f3a84(0x591)](_0x4f3a84(0x2cb)),_0x197a11;}else throw new I(_0x3991c5);}return await this[_0x4f3a84(0x463)](_0x19353c[_0x4f3a84(0x5ff)],{'audio':(0x0,$[_0x4f3a84(0x227)])(_0x19353c['audioMessage'][_0x4f3a84(0x236)])?{'url':_0x19353c['audioMessage'][_0x4f3a84(0x236)]}:Buffer[_0x4f3a84(0x54a)](_0x19353c[_0x4f3a84(0x490)][_0x4f3a84(0x236)],'base64'),'ptt':!0x0,'mimetype':'audio/mpeg'},{'presence':'recording','delay':_0x19353c?.[_0x4f3a84(0x3c0)]?.[_0x4f3a84(0x762)]});}async[a0_0x18e9af(0x2f6)](_0x15128){const _0x23cac4=a0_0x18e9af;this[_0x23cac4(0x232)][_0x23cac4(0x591)](_0x23cac4(0x744));let _0x579836=(0x0,$[_0x23cac4(0x227)])(_0x15128)?(0x0,vs[_0x23cac4(0x34f)])(_0x23cac4(0x60e))[_0x23cac4(0x70c)](_0x15128)[_0x23cac4(0x22c)]('hex'):(0x0,vs[_0x23cac4(0x34f)])(_0x23cac4(0x60e))['update'](_0x15128)[_0x23cac4(0x22c)]('hex'),_0x425a6d=''+(0x0,j[_0x23cac4(0x4d1)])(this['storePath'],_0x579836+_0x23cac4(0x673));if(L[_0x23cac4(0x345)](_0x425a6d))return this[_0x23cac4(0x232)][_0x23cac4(0x591)](_0x23cac4(0x288)),_0x425a6d;let _0x242e65=''+(0x0,j['join'])(this['storePath'],_0x23cac4(0x2e9)+(0x0,Me['v4'])()+_0x23cac4(0x717));if((0x0,$[_0x23cac4(0x227)])(_0x15128)){let _0x7732f7=new Date()['getTime'](),_0x17ffc6=_0x15128+'?timestamp='+_0x7732f7,_0x2182f6=await te[_0x23cac4(0x30c)][_0x23cac4(0x45d)](_0x17ffc6,{'responseType':'arraybuffer'});L[_0x23cac4(0x470)](_0x242e65,_0x2182f6[_0x23cac4(0x465)]);}else{let _0x3cb53c=Buffer[_0x23cac4(0x54a)](_0x15128,_0x23cac4(0x600));L[_0x23cac4(0x470)](_0x242e65,_0x3cb53c);}return new Promise((_0x355e5a,_0x2da55e)=>{const _0x44c039=_0x23cac4;(0x0,Pt['exec'])(yr[_0x44c039(0x30c)]['path']+'\x20-i\x20'+_0x242e65+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x425a6d+_0x44c039(0x765),_0x2302bf=>{const _0x3a1add=_0x44c039;if(L[_0x3a1add(0x244)](_0x242e65),_0x2302bf){this['logger']['verbose']('Error\x20in\x20converting\x20audio'),_0x2da55e(_0x2302bf);return;}this['logger'][_0x3a1add(0x591)](_0x3a1add(0x3df)),_0x355e5a(_0x425a6d);});});}async[a0_0x18e9af(0x4c3)](_0x12ccb8){const _0x51ea1b=a0_0x18e9af;let _0x4610b5={},_0x43e7d6=_0x51ea1b(0x15a);if(_0x12ccb8[_0x51ea1b(0x4c3)]?.[_0x51ea1b(0x2e5)]){_0x43e7d6=_0x12ccb8['buttonMessage'][_0x51ea1b(0x2e5)]?.[_0x51ea1b(0x117)][_0x51ea1b(0x4f3)]()??_0x51ea1b(0x15a),_0x4610b5[_0x51ea1b(0x441)]=_0x43e7d6[_0x51ea1b(0x62f)]()+'Message';let _0x5adec3=await this[_0x51ea1b(0x74e)](_0x12ccb8[_0x51ea1b(0x4c3)][_0x51ea1b(0x2e5)]);_0x4610b5[_0x51ea1b(0x668)]=_0x5adec3['message'][_0x4610b5['mediaKey']],_0x4610b5[_0x51ea1b(0x5ce)]='*'+_0x12ccb8[_0x51ea1b(0x4c3)][_0x51ea1b(0x2d3)]+_0x51ea1b(0x2a5)+_0x12ccb8[_0x51ea1b(0x4c3)][_0x51ea1b(0x1d6)];}let _0x3a95f8={'text':_0x12ccb8[_0x51ea1b(0x4c3)][_0x51ea1b(0x6ba)]['map'](_0x3cf5f0=>_0x3cf5f0[_0x51ea1b(0x329)]),'ids':_0x12ccb8[_0x51ea1b(0x4c3)][_0x51ea1b(0x6ba)][_0x51ea1b(0x48c)](_0x37326c=>_0x37326c[_0x51ea1b(0x4ea)])};if(!(0x0,$['arrayUnique'])(_0x3a95f8[_0x51ea1b(0x3da)])||!(0x0,$[_0x51ea1b(0x78c)])(_0x3a95f8[_0x51ea1b(0x787)]))throw new w(_0x51ea1b(0x243),_0x51ea1b(0x233));return await this[_0x51ea1b(0x463)](_0x12ccb8[_0x51ea1b(0x5ff)],{'buttonsMessage':{'text':_0x4610b5?.['mediaKey']?void 0x0:_0x12ccb8['buttonMessage'][_0x51ea1b(0x2d3)],'contentText':_0x4610b5?.['contentText']??_0x12ccb8[_0x51ea1b(0x4c3)][_0x51ea1b(0x1d6)],'footerText':_0x12ccb8['buttonMessage']?.['footerText'],'buttons':_0x12ccb8['buttonMessage'][_0x51ea1b(0x6ba)][_0x51ea1b(0x48c)](_0xe13f27=>({'buttonText':{'displayText':_0xe13f27[_0x51ea1b(0x329)]},'buttonId':_0xe13f27[_0x51ea1b(0x4ea)],'type':0x1})),'headerType':m[_0x51ea1b(0x2cf)][_0x51ea1b(0x435)][_0x51ea1b(0x45a)]['HeaderType'][_0x43e7d6],[_0x4610b5?.[_0x51ea1b(0x441)]]:_0x4610b5?.[_0x51ea1b(0x668)]}},_0x12ccb8?.[_0x51ea1b(0x3c0)]);}async['locationMessage'](_0xa7aee2){const _0x1388a3=a0_0x18e9af;return await this[_0x1388a3(0x463)](_0xa7aee2['number'],{'locationMessage':{'degreesLatitude':_0xa7aee2[_0x1388a3(0x548)]['latitude'],'degreesLongitude':_0xa7aee2[_0x1388a3(0x548)][_0x1388a3(0x580)],'name':_0xa7aee2[_0x1388a3(0x548)]?.['name'],'address':_0xa7aee2[_0x1388a3(0x548)]?.['address']}},_0xa7aee2?.[_0x1388a3(0x3c0)]);}async['contactMessage'](_0x48cda2){const _0x507f64=a0_0x18e9af;let _0x330ba2={},_0x53b586=_0x1a6584=>{const _0x259041=a0_0x7bd5;let _0x49fecf='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x1a6584[_0x259041(0x3ae)]+_0x259041(0x142)+_0x1a6584[_0x259041(0x3ae)]+'\x0a';_0x1a6584[_0x259041(0x2b4)]&&(_0x49fecf+=_0x259041(0x3b6)+_0x1a6584[_0x259041(0x2b4)]+';\x0a'),_0x1a6584[_0x259041(0x402)]&&(_0x49fecf+=_0x259041(0x293)+_0x1a6584['email']+'\x0a'),_0x1a6584[_0x259041(0x747)]&&(_0x49fecf+=_0x259041(0x21e)+_0x1a6584[_0x259041(0x747)]+'\x0a');let _0x586894='';return _0x1a6584['phoneNumber']&&_0x1a6584[_0x259041(0x14e)][_0x259041(0x308)]('|')['forEach']((_0x168fa6,_0x293914)=>{const _0x556053=_0x259041;let _0x3fea67=this['createJid'](_0x168fa6)[_0x556053(0x23f)](_0x556053(0x1d7),'');_0x586894+=_0x556053(0x1e2)+(_0x293914+0x1)+_0x556053(0x2ba)+_0x3fea67+':'+_0x168fa6+_0x556053(0x50d)+(_0x293914+0x1)+_0x556053(0x5a2);}),_0x49fecf+=_0x586894+_0x259041(0x2ed),_0x49fecf;};return _0x48cda2['contactMessage']['length']===0x1?_0x330ba2['contactMessage']={'displayName':_0x48cda2[_0x507f64(0x47f)][0x0][_0x507f64(0x3ae)],'vcard':_0x53b586(_0x48cda2['contactMessage'][0x0])}:_0x330ba2[_0x507f64(0x1f4)]={'displayName':_0x48cda2['contactMessage'][_0x507f64(0x15f)]+_0x507f64(0x456),'contacts':_0x48cda2[_0x507f64(0x47f)][_0x507f64(0x48c)](_0x29d98b=>({'displayName':_0x29d98b[_0x507f64(0x3ae)],'vcard':_0x53b586(_0x29d98b)}))},await this[_0x507f64(0x463)](_0x48cda2[_0x507f64(0x5ff)],{..._0x330ba2},_0x48cda2?.[_0x507f64(0x3c0)]);}async[a0_0x18e9af(0x4a5)](_0x310347){const _0x558ec6=a0_0x18e9af;return await this[_0x558ec6(0x463)](_0x310347[_0x558ec6(0x4a5)][_0x558ec6(0x66a)][_0x558ec6(0x3fc)],{'reactionMessage':{'key':_0x310347[_0x558ec6(0x4a5)][_0x558ec6(0x66a)],'text':_0x310347['reactionMessage'][_0x558ec6(0x127)]}});}async[a0_0x18e9af(0x407)](_0x2a91d3){const _0x31baa5=a0_0x18e9af;let _0x1954f5=[];for await(let _0x327767 of _0x2a91d3[_0x31baa5(0x333)]){let _0x5a834f=this[_0x31baa5(0x71b)](_0x327767),_0x2f3a0e=!0x1;try{if((0x0,m['isJidGroup'])(_0x5a834f)){let _0x47e252=await this['findGroup']({'groupJid':_0x5a834f},'inner');_0x1954f5[_0x31baa5(0x256)](new me(_0x47e252[_0x31baa5(0x13b)]['id'],!!_0x47e252?.['metadata']['id'],_0x47e252?.['metadata'][_0x31baa5(0x50b)])),_0x2f3a0e=!!_0x47e252?.[_0x31baa5(0x13b)]['id'];}else{let _0x2ac790=(await this['client'][_0x31baa5(0x537)](_0x5a834f))[0x0];_0x1954f5[_0x31baa5(0x256)](new me(_0x2ac790['jid'],_0x2ac790[_0x31baa5(0x778)])),_0x2f3a0e=_0x2ac790['exists'];}}catch{await this[_0x31baa5(0x33e)](_0x5a834f,_0x2f3a0e),_0x1954f5[_0x31baa5(0x256)](new me(_0x327767,!0x1));}}return _0x1954f5;}async[a0_0x18e9af(0x33e)](_0x46993c,_0x5f3281){const _0x3cb267=a0_0x18e9af;try{await this[_0x3cb267(0x305)][_0x3cb267(0x25a)][_0x3cb267(0x238)]({'where':{'_id':_0x46993c,'imported':!0x0}},this[_0x3cb267(0x777)][_0x3cb267(0x207)])&&(_0x5f3281||(await this[_0x3cb267(0x305)]['chat']['deleteChat'](_0x46993c,this[_0x3cb267(0x777)]['wuid']),console[_0x3cb267(0x704)](_0x3cb267(0x552)+_0x46993c+_0x3cb267(0x279))));}catch(_0x37d138){console[_0x3cb267(0x1b4)](_0x3cb267(0x4cb),_0x37d138);}}async[a0_0x18e9af(0x534)](_0x3e52c0){const _0x392bce=a0_0x18e9af;try{let _0x4eac13=_0x3e52c0[_0x392bce(0x58f)][_0x392bce(0x2f4)](_0x447e4d=>(0x0,m[_0x392bce(0x5f0)])(_0x447e4d[_0x392bce(0x3fc)])||(0x0,m[_0x392bce(0x3e9)])(_0x447e4d['remoteJid']))[_0x392bce(0x48c)](_0x26169e=>({'remoteJid':_0x26169e[_0x392bce(0x3fc)],'fromMe':_0x26169e[_0x392bce(0x18a)],'id':_0x26169e['id']}));await this['client'][_0x392bce(0x58f)](_0x4eac13);let _0x3a09c6=_0x4eac13[_0x392bce(0x48c)](_0x1cbdc5=>this['updateMessage'](_0x1cbdc5,{'status':'READ','owner':this[_0x392bce(0x777)][_0x392bce(0x207)]})),_0x4a4aea=_0x4eac13['map'](_0x5d285a=>this['repository'][_0x392bce(0x25a)][_0x392bce(0x151)]({'where':{'_id':_0x5d285a[_0x392bce(0x3fc)]}},{'unreadcount':0x0},this[_0x392bce(0x777)][_0x392bce(0x207)])),[_0x30ab26,_0x397922]=await Promise[_0x392bce(0x2e8)]([Promise[_0x392bce(0x2e8)](_0x3a09c6),Promise[_0x392bce(0x2e8)](_0x4a4aea)]);return _0x397922[_0x392bce(0x2f4)](_0x525f5e=>_0x525f5e!==null)[_0x392bce(0x6d6)](_0x3ba58b=>{const _0x3e4627=_0x392bce;q(this['instanceName'],_0x3e4627(0x535),{'chat':_0x3ba58b});}),{'message':'Read\x20messages','read':'success'};}catch(_0x19cd32){throw console[_0x392bce(0x1b4)](_0x392bce(0x2bd),_0x19cd32),new I(_0x392bce(0x75e),_0x19cd32['toString']());}}async[a0_0x18e9af(0x186)](_0x556383){const _0x383330=a0_0x18e9af;let _0x3ac170={'where':{'key':{'remoteJid':_0x556383}},'limit':0x1},_0x50b80a=await this[_0x383330(0x530)](_0x3ac170);return _0x50b80a||(console[_0x383330(0x1b4)]('Last\x20message\x20not\x20found\x20for\x20number:',_0x556383),null);}async[a0_0x18e9af(0x6f4)](_0x132fe5){const _0x408fd2=a0_0x18e9af;this['logger'][_0x408fd2(0x591)](_0x408fd2(0x287));try{let _0x3f8625=_0x132fe5[_0x408fd2(0x1c5)],_0x355262=_0x132fe5[_0x408fd2(0x25a)];if(!_0x3f8625&&_0x355262?_0x3f8625=await this[_0x408fd2(0x186)](_0x355262):(_0x3f8625=_0x132fe5[_0x408fd2(0x1c5)],_0x3f8625[_0x408fd2(0x10c)]=_0x3f8625?.[_0x408fd2(0x10c)]??Date[_0x408fd2(0x60d)](),_0x355262=_0x3f8625?.[_0x408fd2(0x66a)]?.[_0x408fd2(0x3fc)]),!_0x3f8625||Object[_0x408fd2(0x581)](_0x3f8625)[_0x408fd2(0x15f)]===0x0)throw new k('Last\x20message\x20not\x20found');this[_0x408fd2(0x232)][_0x408fd2(0x591)]('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x355262);try{await this['client'][_0x408fd2(0x395)]({'archive':_0x132fe5[_0x408fd2(0x696)],'lastMessages':[_0x3f8625]},this[_0x408fd2(0x71b)](_0x355262));}catch(_0x552455){this[_0x408fd2(0x232)]['error'](_0x408fd2(0x3d3)+_0x355262+':\x20'+_0x552455[_0x408fd2(0x2fb)]());}this['logger']['verbose'](_0x408fd2(0x714)+_0x355262);let _0x21b7d9=await this[_0x408fd2(0x305)]['chat'][_0x408fd2(0x151)]({'where':{'_id':_0x3f8625?.[_0x408fd2(0x66a)]?.[_0x408fd2(0x3fc)]}},{'archived':_0x132fe5[_0x408fd2(0x696)]},this[_0x408fd2(0x777)]['wuid']);return _0x21b7d9?(this[_0x408fd2(0x232)]['verbose']('Notifying\x20clients\x20for\x20chat:\x20'+JSON['stringify'](_0x21b7d9)),q(this[_0x408fd2(0x584)],_0x408fd2(0x535),{'chat':_0x21b7d9})):this['logger'][_0x408fd2(0x1b4)]('Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x355262),{'chatId':_0x355262,'archived':_0x132fe5[_0x408fd2(0x696)]};}catch(_0x86cf93){throw this[_0x408fd2(0x232)][_0x408fd2(0x1b4)](_0x408fd2(0x27a)+_0x86cf93[_0x408fd2(0x2fb)]()),new I({'archived':!0x1,'message':[_0x408fd2(0x16c),_0x86cf93[_0x408fd2(0x2fb)]()]});}}async[a0_0x18e9af(0x414)](_0x2adc21){const _0x207b3e=a0_0x18e9af;try{let _0x25faf7=await this['client'][_0x207b3e(0x4fb)](_0x2adc21[_0x207b3e(0x3fc)],{'delete':_0x2adc21});try{let _0x242ffc=await this[_0x207b3e(0x6c8)](_0x2adc21,{'status':_0x207b3e(0x503),'owner':this[_0x207b3e(0x777)][_0x207b3e(0x207)]});this['logger'][_0x207b3e(0x591)](this[_0x207b3e(0x584)]+'\x20('+this[_0x207b3e(0x777)]['wuid']+_0x207b3e(0x3cc)+_0x242ffc);}catch(_0x3076fe){console[_0x207b3e(0x1b4)](_0x207b3e(0x109),_0x3076fe);}return _0x25faf7;}catch(_0x2bcceb){throw new I(_0x207b3e(0x46b),_0x2bcceb?.[_0x207b3e(0x2fb)]());}}async[a0_0x18e9af(0x489)](_0x285b67){const _0xfe7964=a0_0x18e9af;try{let _0x1a5501=_0x285b67?.[_0xfe7964(0x668)]?_0x285b67:await this['getMessage'](_0x285b67[_0xfe7964(0x66a)],!0x0);for(let _0x1c6502 of ma)_0x1a5501[_0xfe7964(0x668)][_0x1c6502]&&(_0x1a5501['message']=_0x1a5501['message'][_0x1c6502][_0xfe7964(0x668)]);let _0x2f85a3,_0x398109;for(let _0x34c8d7 of ga)if(_0x2f85a3=_0x1a5501[_0xfe7964(0x668)][_0x34c8d7],_0x2f85a3){_0x398109=_0x34c8d7;break;}if(!_0x2f85a3)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x2f85a3['mediaKey']==_0xfe7964(0x61d)&&(_0x1a5501[_0xfe7964(0x668)]=JSON['parse'](JSON['stringify'](_0x1a5501[_0xfe7964(0x668)])));let _0x16067c=await(0x0,m['downloadMediaMessage'])({'key':_0x1a5501?.[_0xfe7964(0x66a)],'message':_0x1a5501?.['message']},_0xfe7964(0x2bb),{},{'logger':(0x0,It['default'])({'level':_0xfe7964(0x270)}),'reuploadRequest':this['client'][_0xfe7964(0x6f1)]});if(!(_0x16067c instanceof Buffer))throw new Error(_0xfe7964(0x1c9));let _0x15bf75=this[_0xfe7964(0x38c)][_0xfe7964(0x45d)](_0xfe7964(0x368)),_0x520f07,_0x47157b;if(_0x2f85a3[_0xfe7964(0x3b5)])_0x520f07=_0x2f85a3[_0xfe7964(0x3b5)];else{let _0x13d804=_0x2f85a3[_0xfe7964(0x5e1)]?.[_0xfe7964(0x67b)](/\/(\w+)/),_0x4d35da=_0x13d804?_0x13d804[0x1]:null;if(!_0x4d35da)throw new Error(_0xfe7964(0x707));_0x520f07=(0x0,Me['v4'])()+'.'+_0x4d35da;}_0x398109===_0xfe7964(0x490)&&_0x2f85a3[_0xfe7964(0x5e1)]===_0xfe7964(0x121)?(_0x520f07=(0x0,Me['v4'])()+'.ogg',_0x47157b=_0xfe7964(0x27f)+await this['convertaudio'](_0x16067c[_0xfe7964(0x2fb)]('base64'))):(await this[_0xfe7964(0x72c)](_0x16067c,_0x520f07),_0x47157b=_0xfe7964(0x27f)+_0x520f07);let _0x700c2c=this['configService']['get']('SERVER')['URL'];if(!_0x700c2c){let _0x78d963=this['configService'][_0xfe7964(0x45d)]('SSL_CONF');_0x700c2c=_0xfe7964(0x723)+(_0x78d963&&_0x78d963[_0xfe7964(0x15b)][_0xfe7964(0x308)]('/')[0x4]);}_0x47157b=''+_0x700c2c+_0x47157b;let _0x118195=0xc*0x3c*0x3c*0x3e8,_0x2b2c7a={'where':{'_id':_0x1a5501[_0xfe7964(0x66a)]['id']}},_0x103351={'message_normalized.fileUrl':_0x47157b,'message_normalized.expires_fileUrl':Date[_0xfe7964(0x60d)]()+_0x118195};try{let _0x19b521=await this[_0xfe7964(0x305)][_0xfe7964(0x668)][_0xfe7964(0x70c)](_0x2b2c7a,_0x103351,this[_0xfe7964(0x777)]['wuid']);_0x19b521&&q(this[_0xfe7964(0x584)],_0xfe7964(0x53c),{'message':_0x19b521});}catch(_0x528d77){this['logger']['error'](this[_0xfe7964(0x584)]+'\x20('+this['instance'][_0xfe7964(0x207)]+_0xfe7964(0x208)+(_0x528d77 instanceof Error?_0x528d77[_0xfe7964(0x668)]:JSON[_0xfe7964(0x676)](_0x528d77,null,0x2)));}return{'mediaType':_0x398109,'fileName':_0x2f85a3[_0xfe7964(0x3b5)],'caption':_0x2f85a3[_0xfe7964(0x44e)],'size':{'fileLength':_0x2f85a3['fileLength'],'height':_0x2f85a3[_0xfe7964(0x6fb)],'width':_0x2f85a3[_0xfe7964(0x54b)]},'mimetype':_0x2f85a3[_0xfe7964(0x5e1)],'base64':_0x16067c[_0xfe7964(0x2fb)]('base64'),'fileUrl':_0x47157b,'expires_fileUrl':Date[_0xfe7964(0x60d)]()+_0x118195};}catch(_0x13433a){throw this[_0xfe7964(0x232)][_0xfe7964(0x1b4)](this[_0xfe7964(0x584)]+'\x20('+this[_0xfe7964(0x777)]['wuid']+'):\x20'+(_0x13433a instanceof Error?_0x13433a['message']:JSON['stringify'](_0x13433a,null,0x2))),new w(_0x13433a[_0xfe7964(0x2fb)]());}}async[a0_0x18e9af(0x72c)](_0x3e0f63,_0x2f16a7){const _0x2468a5=a0_0x18e9af;let _0x4e48ec=j[_0x2468a5(0x30c)]['join'](__dirname,_0x2468a5(0x4d8));L[_0x2468a5(0x345)](_0x4e48ec)||L[_0x2468a5(0x65b)](_0x4e48ec,{'recursive':!0x0});let _0x11221a=j[_0x2468a5(0x30c)][_0x2468a5(0x4d1)](_0x4e48ec,_0x2f16a7);return new Promise((_0xb1f462,_0x2bff98)=>{const _0x2afadd=_0x2468a5;L[_0x2afadd(0x412)](_0x11221a,_0x3e0f63,_0x5481f0=>{const _0x2aafb8=_0x2afadd;_0x5481f0?(this[_0x2aafb8(0x232)][_0x2aafb8(0x1b4)](_0x2aafb8(0x163)+(_0x5481f0 instanceof Error?_0x5481f0[_0x2aafb8(0x668)]:JSON[_0x2aafb8(0x676)](_0x5481f0,null,0x2))),_0x2bff98(_0x5481f0)):(this[_0x2aafb8(0x232)]['log'](_0x2aafb8(0x103)+_0x11221a),_0xb1f462(_0x11221a));});});}async[a0_0x18e9af(0x5f3)](_0xaab855){const _0x3520f3=a0_0x18e9af;return await this[_0x3520f3(0x305)][_0x3520f3(0x6c0)][_0x3520f3(0x493)](_0xaab855,this[_0x3520f3(0x777)]['wuid']);}async['fetchLabels'](){const _0x35d4e7=a0_0x18e9af;return await this['repository']['label'][_0x35d4e7(0x493)]({'where':{}},this[_0x35d4e7(0x777)]['wuid']);}async['fetchMessages'](_0x53b904){const _0xc75e0a=a0_0x18e9af;return await this[_0xc75e0a(0x305)][_0xc75e0a(0x668)]['find'](_0x53b904,this[_0xc75e0a(0x777)][_0xc75e0a(0x207)]);}async[a0_0x18e9af(0x6be)](){const _0x4ab025=a0_0x18e9af;return this['repository']['chat'][_0x4ab025(0x48b)](this[_0x4ab025(0x777)][_0x4ab025(0x207)]),this[_0x4ab025(0x305)][_0x4ab025(0x25a)][_0x4ab025(0x31b)](this[_0x4ab025(0x777)]['wuid']),this[_0x4ab025(0x305)][_0x4ab025(0x25a)][_0x4ab025(0x721)](this[_0x4ab025(0x777)][_0x4ab025(0x207)]),this['repository'][_0x4ab025(0x25a)][_0x4ab025(0x759)](this['instance']['wuid']),await this[_0x4ab025(0x305)][_0x4ab025(0x25a)]['find']({'where':{}},this['instance'][_0x4ab025(0x207)]);}async['importChatsAntigo'](_0x39b0e1){const _0x35fca6=a0_0x18e9af;try{if(!Array['isArray'](_0x39b0e1)||_0x39b0e1['length']===0x0)throw new Error(_0x35fca6(0x5cf));let _0x13b4f2=[],_0x152ae5=[];for(let _0xb13908 of _0x39b0e1){if(_0xb13908[_0x35fca6(0x550)])_0xb13908['_id']=this[_0x35fca6(0x71b)](_0xb13908[_0x35fca6(0x550)]);else continue;await this[_0x35fca6(0x305)]['chat'][_0x35fca6(0x238)]({'where':{'_id':_0xb13908[_0x35fca6(0x550)]}},this[_0x35fca6(0x777)][_0x35fca6(0x207)])?_0x152ae5[_0x35fca6(0x256)]({'_id':_0xb13908[_0x35fca6(0x550)],'leadInfo':_0xb13908[_0x35fca6(0x6ff)],'owner':this['instance']['wuid']}):_0x13b4f2[_0x35fca6(0x256)]({'_id':_0xb13908[_0x35fca6(0x550)],'owner':this[_0x35fca6(0x777)][_0x35fca6(0x207)],'leadInfo':_0xb13908[_0x35fca6(0x6ff)],'imported':!0x0});}return _0x152ae5[_0x35fca6(0x15f)]>0x0&&await this[_0x35fca6(0x305)][_0x35fca6(0x25a)]['updateMany'](_0x152ae5[_0x35fca6(0x48c)](_0x273dc5=>({'query':{'where':{'_id':_0x273dc5[_0x35fca6(0x550)],'owner':this[_0x35fca6(0x777)][_0x35fca6(0x207)]}},'update':_0x273dc5}))),_0x13b4f2[_0x35fca6(0x15f)]>0x0&&await this[_0x35fca6(0x305)]['chat']['insertMany'](_0x13b4f2,this[_0x35fca6(0x777)][_0x35fca6(0x207)]),{'updated':_0x152ae5['length'],'inserted':_0x13b4f2['length']};}catch(_0x1f5d57){throw console[_0x35fca6(0x1b4)]('Erro\x20ao\x20importar\x20chats:',_0x1f5d57),_0x1f5d57;}}async[a0_0x18e9af(0x6df)](_0x420b47){const _0x104a38=a0_0x18e9af;try{if(!Array[_0x104a38(0x26c)](_0x420b47)||_0x420b47[_0x104a38(0x15f)]===0x0)throw new Error(_0x104a38(0x5cf));let _0x3b697a=0x64,_0x4af786=0x0;for(let _0x401986=0x0;_0x401986<_0x420b47[_0x104a38(0x15f)];_0x401986+=_0x3b697a){let _0x1f6174=_0x420b47['slice'](_0x401986,_0x401986+_0x3b697a),{updated:_0x4d1972}=await this[_0x104a38(0x106)](_0x1f6174);_0x4af786+=_0x4d1972;}return{'updated':_0x4af786};}catch(_0x2710df){throw console[_0x104a38(0x1b4)](_0x104a38(0x5b5),_0x2710df),_0x2710df;}}async[a0_0x18e9af(0x106)](_0x42134c){const _0x294de3=a0_0x18e9af;try{let _0x4e7b1d=await this['repository'][_0x294de3(0x4d2)][_0x294de3(0x493)]({'where':{}},this['instance'][_0x294de3(0x207)]),_0xc760e6=new Set(_0x4e7b1d['map'](_0x590c49=>_0x590c49[_0x294de3(0x550)])),_0x19d43c=[],_0x10b65e=[];for(let _0x8ef7e of _0x42134c){if(!_0x8ef7e['_id'])continue;_0x8ef7e['_id']=this[_0x294de3(0x71b)](_0x8ef7e[_0x294de3(0x550)]);let _0x8affec=await this['repository'][_0x294de3(0x25a)][_0x294de3(0x238)]({'where':{'_id':_0x8ef7e[_0x294de3(0x550)]}},this[_0x294de3(0x777)][_0x294de3(0x207)]),_0x4c3030={};if(Object['entries'](_0x8ef7e[_0x294de3(0x6ff)])['forEach'](([_0x521a19,_0x49448b])=>{const _0x2d526c=_0x294de3;_0x4c3030[_0x2d526c(0x6bd)+_0x521a19]=_0x49448b;}),_0x8affec&&!_0x8affec[_0x294de3(0x4b1)]){let _0x26a34a=(_0x8ef7e[_0x294de3(0x6ff)]['etiquetas']||[])['filter'](_0x3b9480=>_0xc760e6['has'](_0x3b9480)),_0x20ac8b=new Set(_0x8affec[_0x294de3(0x6ff)][_0x294de3(0x286)]||[]),_0x5000f8=_0x26a34a['filter'](_0x56882c=>!_0x20ac8b[_0x294de3(0x2da)](_0x56882c)),_0x3cd470=[..._0x20ac8b]['filter'](_0x2845ab=>!_0x26a34a['includes'](_0x2845ab));_0x10b65e[_0x294de3(0x256)](..._0x5000f8[_0x294de3(0x48c)](_0x120dd3=>this[_0x294de3(0x188)](_0x120dd3,_0x8ef7e['_id']))),_0x10b65e['push'](..._0x3cd470['map'](_0x395be6=>this[_0x294de3(0x5a8)](_0x395be6,_0x8ef7e['_id']))),_0x8ef7e['leadInfo'][_0x294de3(0x286)]=_0x26a34a,_0x19d43c['push']({'query':{'where':{'_id':_0x8ef7e[_0x294de3(0x550)],'owner':this['instance'][_0x294de3(0x207)]}},'update':_0x4c3030});}else _0x4c3030[_0x294de3(0x4b1)]=!0x0,_0x19d43c[_0x294de3(0x256)]({'query':{'where':{'_id':_0x8ef7e[_0x294de3(0x550)],'owner':this[_0x294de3(0x777)][_0x294de3(0x207)]}},'update':_0x4c3030});}let _0xf1f195=await this[_0x294de3(0x305)][_0x294de3(0x25a)][_0x294de3(0x4c9)](_0x19d43c);return await Promise[_0x294de3(0x2e8)](_0x10b65e),{'updated':_0xf1f195};}catch(_0x1c37ff){throw console[_0x294de3(0x1b4)](_0x294de3(0x5b5),_0x1c37ff),_0x1c37ff;}}async[a0_0x18e9af(0x307)](){const _0x8bfc14=a0_0x18e9af;return await this[_0x8bfc14(0x18c)]['fetchPrivacySettings']();}async[a0_0x18e9af(0x718)](_0x2a7f76){const _0x4e43a9=a0_0x18e9af;try{return await this[_0x4e43a9(0x18c)]['updateReadReceiptsPrivacy'](_0x2a7f76['privacySettings']['readreceipts']),await this['client']['updateProfilePicturePrivacy'](_0x2a7f76['privacySettings'][_0x4e43a9(0x71a)]),await this[_0x4e43a9(0x18c)][_0x4e43a9(0x49c)](_0x2a7f76[_0x4e43a9(0x58a)][_0x4e43a9(0x522)]),await this[_0x4e43a9(0x18c)][_0x4e43a9(0x6b7)](_0x2a7f76[_0x4e43a9(0x58a)][_0x4e43a9(0x3a1)]),await this[_0x4e43a9(0x18c)]['updateLastSeenPrivacy'](_0x2a7f76['privacySettings'][_0x4e43a9(0x656)]),await this[_0x4e43a9(0x18c)][_0x4e43a9(0x5ab)](_0x2a7f76['privacySettings'][_0x4e43a9(0x500)]),this['client']?.['ws']?.[_0x4e43a9(0x647)](),{'update':_0x4e43a9(0x418),'data':{'readreceipts':_0x2a7f76[_0x4e43a9(0x58a)]['readreceipts'],'profile':_0x2a7f76[_0x4e43a9(0x58a)][_0x4e43a9(0x71a)],'status':_0x2a7f76['privacySettings'][_0x4e43a9(0x522)],'online':_0x2a7f76[_0x4e43a9(0x58a)][_0x4e43a9(0x3a1)],'last':_0x2a7f76[_0x4e43a9(0x58a)][_0x4e43a9(0x656)],'groupadd':_0x2a7f76['privacySettings'][_0x4e43a9(0x500)]}};}catch(_0x1914e6){throw new I('Error\x20updating\x20privacy\x20settings',_0x1914e6[_0x4e43a9(0x2fb)]());}}async[a0_0x18e9af(0x2f5)](_0x3764c0){const _0x3f89b4=a0_0x18e9af;let _0x134418=_0x3764c0?this[_0x3f89b4(0x71b)](_0x3764c0):this[_0x3f89b4(0x18c)]?.[_0x3f89b4(0x27c)]?.['id'];this['logger']['verbose'](_0x3f89b4(0x779)+_0x134418);try{if(this[_0x3f89b4(0x232)][_0x3f89b4(0x591)](_0x3f89b4(0x392)),_0x3764c0){let _0x523c05=(await this[_0x3f89b4(0x407)]({'numbers':[_0x134418]}))?.['shift'](),_0x2ca60e=await this[_0x3f89b4(0x574)](_0x523c05?.[_0x3f89b4(0x35c)]),_0x38afdf=await this['getStatus'](_0x523c05?.[_0x3f89b4(0x35c)]),_0x4c9709=await this[_0x3f89b4(0x504)](_0x523c05?.[_0x3f89b4(0x35c)]);return{'wuid':_0x523c05?.[_0x3f89b4(0x35c)]||_0x134418,'name':_0x523c05?.[_0x3f89b4(0x10b)],'numberExists':_0x523c05?.[_0x3f89b4(0x778)],'picture':_0x2ca60e?.[_0x3f89b4(0x3ac)],'status':_0x38afdf?.[_0x3f89b4(0x522)],'isBusiness':_0x4c9709[_0x3f89b4(0x1f7)],'email':_0x4c9709?.[_0x3f89b4(0x402)],'description':_0x4c9709?.[_0x3f89b4(0x1d6)],'website':_0x4c9709?.[_0x3f89b4(0x27e)]?.['shift']()};}}catch{return this[_0x3f89b4(0x232)][_0x3f89b4(0x591)](_0x3f89b4(0x4e6)),{'wuid':_0x134418,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x18e9af(0x25e)](_0x60a4d8){const _0x51283e=a0_0x18e9af;let _0x31582d=(_0x60a4d8?this[_0x51283e(0x71b)](_0x60a4d8):this[_0x51283e(0x18c)]?.['user']?.['id'])[_0x51283e(0x23f)](/:\d{1,2}@/g,'@');this['logger'][_0x51283e(0x591)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x31582d);let _0x5c56e1=await this[_0x51283e(0x305)][_0x51283e(0x6c0)]['findOne']({'where':{'_id':_0x31582d}},this[_0x51283e(0x777)][_0x51283e(0x207)]),_0x20eac5=_0x5c56e1?_0x5c56e1[_0x51283e(0x44d)]:null;try{let _0x52f293=(await this[_0x51283e(0x407)]({'numbers':[_0x31582d]}))?.[_0x51283e(0x43b)](),_0x8c44dc=await this[_0x51283e(0x574)](_0x52f293?.[_0x51283e(0x35c)]),_0x17c09f=await this[_0x51283e(0x332)](_0x52f293?.[_0x51283e(0x35c)]),_0x234fee=await this[_0x51283e(0x504)](_0x52f293?.[_0x51283e(0x35c)]),_0x11a070=await this[_0x51283e(0x305)][_0x51283e(0x25a)][_0x51283e(0x238)]({'where':{'_id':_0x31582d}},this[_0x51283e(0x777)][_0x51283e(0x207)]),_0x393a78={'imagechat':_0x8c44dc?.['profilePictureUrl'],'contactname':_0x20eac5||null,'status':_0x17c09f?.[_0x51283e(0x522)],'isBusiness':_0x234fee['isBusiness'],'email':_0x234fee?.[_0x51283e(0x402)],'description':_0x234fee?.[_0x51283e(0x1d6)],'website':_0x234fee?.[_0x51283e(0x27e)]?.[_0x51283e(0x43b)](),'lastcache':Date[_0x51283e(0x60d)](),'imported':!_0x11a070},_0x110e94=await this[_0x51283e(0x305)][_0x51283e(0x25a)]['updateOne']({'where':{'_id':_0x31582d}},_0x393a78,this[_0x51283e(0x777)][_0x51283e(0x207)]),_0x469dcd={'owner':this[_0x51283e(0x777)][_0x51283e(0x207)],'_id':_0x31582d,'profilePictureUrl':_0x8c44dc?.[_0x51283e(0x3ac)],'status':_0x17c09f?.[_0x51283e(0x522)]};return this[_0x51283e(0x305)][_0x51283e(0x6c0)][_0x51283e(0x70c)]([_0x469dcd],this[_0x51283e(0x777)][_0x51283e(0x207)]),_0x110e94&&q(this[_0x51283e(0x584)],_0x51283e(0x535),{'chat':_0x110e94}),{'wuid':_0x52f293?.['jid']||_0x31582d,'name':_0x52f293?.['name'],'numberExists':_0x52f293?.[_0x51283e(0x778)],'picture':_0x8c44dc?.[_0x51283e(0x3ac)],'status':_0x17c09f?.[_0x51283e(0x522)],'isBusiness':_0x234fee[_0x51283e(0x1f7)],'email':_0x234fee?.[_0x51283e(0x402)],'description':_0x234fee?.[_0x51283e(0x1d6)],'website':_0x234fee?.['website']?.[_0x51283e(0x43b)]()};}catch(_0x288986){return this[_0x51283e(0x232)][_0x51283e(0x1b4)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x288986 instanceof Error?_0x288986['message']:JSON[_0x51283e(0x676)](_0x288986,null,0x2))),{};}}async[a0_0x18e9af(0x504)](_0x3d0ac2){const _0x4405cc=a0_0x18e9af;this[_0x4405cc(0x232)]['verbose'](_0x4405cc(0x476));try{let _0x1583d5=_0x3d0ac2?this[_0x4405cc(0x71b)](_0x3d0ac2):this[_0x4405cc(0x777)]['wuid'],_0xa7b0b7=await this['client'][_0x4405cc(0x76e)](_0x1583d5);return this['logger'][_0x4405cc(0x591)](_0x4405cc(0x380)),_0xa7b0b7?(this[_0x4405cc(0x232)][_0x4405cc(0x591)](_0x4405cc(0x348)),{'isBusiness':!0x0,..._0xa7b0b7}):{'isBusiness':!0x1,'message':_0x4405cc(0x629),...(await this[_0x4405cc(0x407)]({'numbers':[_0x1583d5]}))?.[_0x4405cc(0x43b)]()};}catch(_0x5f3a1f){throw new I(_0x4405cc(0x1ba),_0x5f3a1f[_0x4405cc(0x2fb)]());}}async['getStatus'](_0xad9d6b){const _0x45e20e=a0_0x18e9af;let _0x4e90ec=this[_0x45e20e(0x71b)](_0xad9d6b);try{return{'wuid':_0x4e90ec,'status':(await this[_0x45e20e(0x18c)][_0x45e20e(0x6b1)](_0x4e90ec))?.[_0x45e20e(0x522)]};}catch{return{'wuid':_0x4e90ec,'status':null};}}async[a0_0x18e9af(0x211)](_0x26fac9){const _0x30f770=a0_0x18e9af;try{return await this[_0x30f770(0x18c)][_0x30f770(0x211)](_0x26fac9),{'update':'success'};}catch(_0x1a76a8){throw new I(_0x30f770(0x1ba),_0x1a76a8[_0x30f770(0x2fb)]());}}async[a0_0x18e9af(0x5cd)](_0x593f5e){const _0xa49bdc=a0_0x18e9af;try{return await this['client'][_0xa49bdc(0x5cd)](_0x593f5e),{'update':_0xa49bdc(0x418)};}catch(_0x1fd095){throw new I(_0xa49bdc(0x5b0),_0x1fd095[_0xa49bdc(0x2fb)]());}}async[a0_0x18e9af(0x1d2)](_0x1fd359){const _0x5a3c18=a0_0x18e9af;try{let _0x5ad1e5;if((0x0,$[_0x5a3c18(0x227)])(_0x1fd359)){let _0x1fc505=new Date()[_0x5a3c18(0x6c2)](),_0x11f978=_0x1fd359+'?timestamp='+_0x1fc505;_0x5ad1e5=(await te[_0x5a3c18(0x30c)][_0x5a3c18(0x45d)](_0x11f978,{'responseType':_0x5a3c18(0x5c2)}))[_0x5a3c18(0x465)];}else{if((0x0,$[_0x5a3c18(0x69e)])(_0x1fd359))_0x5ad1e5=Buffer[_0x5a3c18(0x54a)](_0x1fd359,_0x5a3c18(0x600));else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x5a3c18(0x18c)]['updateProfilePicture'](this[_0x5a3c18(0x777)][_0x5a3c18(0x207)],_0x5ad1e5),{'update':_0x5a3c18(0x418)};}catch(_0x5c8d4f){throw new I(_0x5a3c18(0x46e),_0x5c8d4f['toString']());}}async['removeProfilePicture'](){const _0x4bb182=a0_0x18e9af;try{return await this[_0x4bb182(0x18c)][_0x4bb182(0x51c)](this[_0x4bb182(0x777)]['wuid']),{'update':'success'};}catch(_0x41068f){throw new I(_0x4bb182(0x468),_0x41068f[_0x4bb182(0x2fb)]());}}async['createGroup'](_0x241882){const _0x16b3b0=a0_0x18e9af;try{let _0x4661ad=_0x241882[_0x16b3b0(0x48a)][_0x16b3b0(0x48c)](_0x44f640=>this[_0x16b3b0(0x71b)](_0x44f640)),{id:_0x28cb88}=await this[_0x16b3b0(0x18c)][_0x16b3b0(0x6ab)](_0x241882[_0x16b3b0(0x50b)],_0x4661ad);return _0x241882?.[_0x16b3b0(0x1d6)]&&await this['client'][_0x16b3b0(0x3f4)](_0x28cb88,_0x241882[_0x16b3b0(0x1d6)]),{'metadata':await this[_0x16b3b0(0x18c)][_0x16b3b0(0x290)](_0x28cb88)};}catch(_0x4b5052){throw this[_0x16b3b0(0x232)]['error'](this[_0x16b3b0(0x584)]+'\x20('+this['instance'][_0x16b3b0(0x207)]+'):\x20'+(_0x4b5052 instanceof Error?_0x4b5052[_0x16b3b0(0x668)]:JSON[_0x16b3b0(0x676)](_0x4b5052,null,0x2))),new I(_0x16b3b0(0x1c1),_0x4b5052[_0x16b3b0(0x2fb)]());}}async[a0_0x18e9af(0x2ee)](_0xa811fe){const _0x3ecae9=a0_0x18e9af;try{let _0x12d9a6;if((0x0,$[_0x3ecae9(0x227)])(_0xa811fe[_0x3ecae9(0x148)])){let _0x7bb0c1=new Date()['getTime'](),_0x48114f=_0xa811fe[_0x3ecae9(0x148)]+_0x3ecae9(0x2d4)+_0x7bb0c1;_0x12d9a6=(await te[_0x3ecae9(0x30c)]['get'](_0x48114f,{'responseType':_0x3ecae9(0x5c2)}))[_0x3ecae9(0x465)];}else{if((0x0,$[_0x3ecae9(0x69e)])(_0xa811fe[_0x3ecae9(0x148)]))_0x12d9a6=Buffer[_0x3ecae9(0x54a)](_0xa811fe[_0x3ecae9(0x148)],_0x3ecae9(0x600));else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x3ecae9(0x18c)]['updateProfilePicture'](_0xa811fe[_0x3ecae9(0x659)],_0x12d9a6),{'update':_0x3ecae9(0x418)};}catch(_0x3cb719){throw new I('Error\x20update\x20group\x20picture',_0x3cb719[_0x3ecae9(0x2fb)]());}}async[a0_0x18e9af(0x586)](_0x1685ea,_0x393bfc=a0_0x18e9af(0x432)){const _0x3ec06c=a0_0x18e9af;try{let _0x161a73=await this[_0x3ec06c(0x18c)][_0x3ec06c(0x290)](_0x1685ea[_0x3ec06c(0x659)]),_0x313b02=null;try{_0x313b02=(await this['profilePicture'](_0x1685ea['groupJid']))[_0x3ec06c(0x3ac)];}catch(_0x56c9c2){this[_0x3ec06c(0x232)][_0x3ec06c(0x591)](this['instanceName']+'\x20('+this['instance'][_0x3ec06c(0x207)]+_0x3ec06c(0x6a0)+_0x1685ea[_0x3ec06c(0x659)]+':\x20'+(_0x56c9c2 instanceof Error?_0x56c9c2[_0x3ec06c(0x668)]:JSON['stringify'](_0x56c9c2,null,0x2)));}let _0x6b620a=await this[_0x3ec06c(0x305)][_0x3ec06c(0x25a)][_0x3ec06c(0x151)]({'where':{'_id':_0x1685ea['groupJid']}},{'imagechat':_0x313b02,'name':_0x161a73['subject'],'group_size':_0x161a73['size'],'group_announce':_0x161a73['announce'],'lastcache':Date[_0x3ec06c(0x60d)]()},this[_0x3ec06c(0x777)][_0x3ec06c(0x207)]);return _0x6b620a&&q(this[_0x3ec06c(0x584)],_0x3ec06c(0x535),{'chat':_0x6b620a}),{'metadata':_0x161a73,'image':_0x313b02};}catch(_0x24eefb){if(_0x393bfc===_0x3ec06c(0x583))return;throw new k('Error\x20fetching\x20group',_0x24eefb[_0x3ec06c(0x2fb)]());}}async[a0_0x18e9af(0x3cd)](_0x5c98b6){const _0x4a29cc=a0_0x18e9af;try{return await this[_0x4a29cc(0x18c)][_0x4a29cc(0x3f4)](_0x5c98b6['groupJid'],_0x5c98b6[_0x4a29cc(0x1d6)]),{'update':_0x4a29cc(0x418)};}catch(_0x333cab){throw new I(_0x4a29cc(0x257),_0x333cab[_0x4a29cc(0x2fb)]());}}async['groupName'](_0x2c6143){const _0x57f410=a0_0x18e9af;try{return await this[_0x57f410(0x18c)][_0x57f410(0x724)](_0x2c6143[_0x57f410(0x659)],_0x2c6143[_0x57f410(0x10b)]),{'update':'success'};}catch(_0x14fa63){throw new I('Error\x20change\x20group\x20name',_0x14fa63[_0x57f410(0x2fb)]());}}async[a0_0x18e9af(0x108)](_0x308cb0){const _0x39db52=a0_0x18e9af;try{return await this[_0x39db52(0x18c)][_0x39db52(0x5ec)](_0x308cb0[_0x39db52(0x659)],_0x308cb0[_0x39db52(0x519)]),{'update':_0x39db52(0x418)};}catch(_0x421dad){throw new I('Error\x20change\x20group\x20setting',_0x421dad['toString']());}}async[a0_0x18e9af(0x183)](){const _0x1e778b=a0_0x18e9af;try{let _0xb4c05e=[],_0x4039b7=await this[_0x1e778b(0x18c)][_0x1e778b(0x5be)](),_0x56502a=Object[_0x1e778b(0x56d)](_0x4039b7),_0x53a632=_0x56502a[_0x1e778b(0x2f4)](_0x15d7a7=>(0x0,m['isJidGroup'])(_0x15d7a7?.['id']))['map'](async _0x43cac9=>{const _0x8412ad=_0x1e778b;try{return await this[_0x8412ad(0x18c)][_0x8412ad(0x3ac)](_0x43cac9['id'],'preview');}catch(_0x3db25b){return this[_0x8412ad(0x232)][_0x8412ad(0x591)](this[_0x8412ad(0x584)]+'\x20('+this[_0x8412ad(0x777)][_0x8412ad(0x207)]+_0x8412ad(0x6a0)+_0x43cac9['id']+':\x20'+(_0x3db25b instanceof Error?_0x3db25b[_0x8412ad(0x668)]:JSON[_0x8412ad(0x676)](_0x3db25b,null,0x2))),null;}}),_0x80887e=await Promise[_0x1e778b(0x2e8)](_0x53a632);for(let _0x1030bd=0x0;_0x1030bd<_0x56502a[_0x1e778b(0x15f)];_0x1030bd++){let _0x301ff2=_0x56502a[_0x1030bd];(0x0,m['isJidGroup'])(_0x301ff2?.['id'])&&_0xb4c05e[_0x1e778b(0x256)]({'groupJid':_0x301ff2?.['id'],'subject':_0x301ff2?.[_0x1e778b(0x50b)],'subjectOwner':_0x301ff2?.[_0x1e778b(0x593)]?.[_0x1e778b(0x308)]('@')[0x0],'subjectTime':_0x301ff2?.['subjectTime'],'size':_0x301ff2?.[_0x1e778b(0x48a)]?.[_0x1e778b(0x15f)],'owner':_0x301ff2?.[_0x1e778b(0x74a)]?.['split']('@')[0x0],'creation':_0x301ff2?.['creation'],'desc':_0x301ff2?.[_0x1e778b(0x6c1)],'restrict':_0x301ff2?.['restrict'],'announce':_0x301ff2?.[_0x1e778b(0x529)],'image':_0x80887e[_0x1030bd]});}return _0xb4c05e;}catch(_0x2d52d4){throw new k('Error\x20fetching\x20group',_0x2d52d4[_0x1e778b(0x2fb)]());}}async[a0_0x18e9af(0x2c3)](_0xf32726){const _0x4de174=a0_0x18e9af;try{let _0xa08f39=await this['client']['groupInviteCode'](_0xf32726[_0x4de174(0x659)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0xa08f39,'inviteCode':_0xa08f39};}catch(_0x359cc9){throw new k(_0x4de174(0x6b5),_0x359cc9[_0x4de174(0x2fb)]());}}async[a0_0x18e9af(0x6e5)](_0x1d227a){const _0x3e3c24=a0_0x18e9af;try{let _0x50cb1a=await this['client'][_0x3e3c24(0x3aa)](_0x1d227a[_0x3e3c24(0x659)]);return{'revoked':!0x0,'inviteUrl':_0x3e3c24(0x6d2)+_0x50cb1a,'inviteCode':_0x50cb1a};}catch(_0x1a7fea){throw new k(_0x3e3c24(0x670),_0x1a7fea['toString']());}}async[a0_0x18e9af(0x69c)](_0x153f3d){const _0x27300a=a0_0x18e9af;try{if((0x0,$[_0x27300a(0x227)])(_0x153f3d[_0x27300a(0x2c3)]))var _0x618e59=_0x153f3d[_0x27300a(0x2c3)]['split']('/')[0x3];else var _0x618e59=_0x153f3d['inviteCode'];let _0x3dffc4=await this['client'][_0x27300a(0x27d)](_0x618e59);return this['logger'][_0x27300a(0x591)](this[_0x27300a(0x584)]+'\x20('+this['instance'][_0x27300a(0x207)]+_0x27300a(0x208)+_0x3dffc4),{'join':!0x0,'inviteCode':_0x618e59,'groupJid':_0x3dffc4};}catch(_0x4d44e5){throw new k(_0x27300a(0x156),_0x4d44e5[_0x27300a(0x2fb)]());}}async[a0_0x18e9af(0x1c6)](_0x54caaa){const _0x28a1aa=a0_0x18e9af;try{return{'participants':(await this[_0x28a1aa(0x18c)][_0x28a1aa(0x290)](_0x54caaa['groupJid']))[_0x28a1aa(0x48a)]};}catch(_0x42f567){throw new k(_0x28a1aa(0x4a1),_0x42f567[_0x28a1aa(0x2fb)]());}}async[a0_0x18e9af(0x2d2)](_0x44bc69){const _0x582739=a0_0x18e9af;try{let _0xa9a43d=_0x44bc69[_0x582739(0x48a)][_0x582739(0x48c)](_0x4f9eb2=>this[_0x582739(0x71b)](_0x4f9eb2));return{'updateParticipants':await this['client'][_0x582739(0x4ca)](_0x44bc69[_0x582739(0x659)],_0xa9a43d,_0x44bc69[_0x582739(0x725)])};}catch(_0x34c123){throw new w(_0x582739(0x5d0),_0x34c123[_0x582739(0x2fb)]());}}async[a0_0x18e9af(0x5eb)](_0x233e58){const _0x1f9da3=a0_0x18e9af;try{let _0x5da20b=await this[_0x1f9da3(0x18c)][_0x1f9da3(0x5fa)](_0x233e58[_0x1f9da3(0x659)],_0x233e58[_0x1f9da3(0x5b9)]);return{'success':!0x0};}catch(_0x5988fb){throw new w(_0x1f9da3(0x320),_0x5988fb[_0x1f9da3(0x2fb)]());}}async[a0_0x18e9af(0x66e)](_0x574ffb){const _0x393410=a0_0x18e9af;try{return await this[_0x393410(0x18c)]['groupLeave'](_0x574ffb[_0x393410(0x659)]),{'groupJid':_0x574ffb[_0x393410(0x659)],'leave':!0x0};}catch(_0x3b2b2b){throw new w('Unable\x20to\x20leave\x20the\x20group',_0x3b2b2b[_0x393410(0x2fb)]());}}async[a0_0x18e9af(0x62a)](_0x17ed45){const _0x4986dd=a0_0x18e9af;return await this[_0x4986dd(0x463)](_0x17ed45[_0x4986dd(0x5ff)],{'poll':{'name':_0x17ed45['pollMessage']?.['name'],'selectableCount':_0x17ed45[_0x4986dd(0x62a)][_0x4986dd(0x536)],'values':_0x17ed45[_0x4986dd(0x62a)]['values']}},_0x17ed45?.[_0x4986dd(0x3c0)]);}async[a0_0x18e9af(0x4ff)](_0x7468a2){const _0x815499=a0_0x18e9af;return await this[_0x815499(0x463)](_0x7468a2[_0x815499(0x5ff)],{'listMessage':{'title':_0x7468a2[_0x815499(0x4ff)][_0x815499(0x2d3)],'description':_0x7468a2[_0x815499(0x4ff)][_0x815499(0x1d6)],'buttonText':_0x7468a2[_0x815499(0x4ff)]?.['buttonText'],'footerText':_0x7468a2[_0x815499(0x4ff)]?.['footerText'],'sections':_0x7468a2[_0x815499(0x4ff)][_0x815499(0x76d)],'listType':0x2}},_0x7468a2?.[_0x815499(0x3c0)]);}async['menuMessage'](_0x35aeec){const _0x28d746=a0_0x18e9af;let _0x4368ee;if(_0x35aeec[_0x28d746(0x2e1)][_0x28d746(0x120)]===_0x28d746(0x612)){let _0x39b3e0=_0x35aeec[_0x28d746(0x2e1)]['text']['indexOf']('\x0a'),_0x578138='',_0x266df2='';_0x39b3e0!==-0x1?(_0x578138=_0x35aeec[_0x28d746(0x2e1)][_0x28d746(0x3da)][_0x28d746(0x5b3)](0x0,_0x39b3e0)[_0x28d746(0x1ec)](),_0x266df2=_0x35aeec[_0x28d746(0x2e1)][_0x28d746(0x3da)][_0x28d746(0x5b3)](_0x39b3e0+0x1)):_0x266df2=_0x35aeec['menuMessage']['text'];let _0x262dae=_0x35aeec['menuMessage']['choices'][_0x28d746(0x2f4)](_0x578416=>_0x578416[_0x28d746(0x1ec)]()!==''),_0x1bc2e6=this[_0x28d746(0x140)](_0x262dae);_0x4368ee={'listMessage':{'title':_0x578138,'description':_0x266df2,'buttonText':_0x35aeec[_0x28d746(0x2e1)][_0x28d746(0x329)]||_0x28d746(0x65d),'footerText':_0x35aeec[_0x28d746(0x2e1)][_0x28d746(0x1f5)],'sections':_0x1bc2e6,'listType':0x2}};}else{if(_0x35aeec[_0x28d746(0x2e1)]['type']===_0x28d746(0x755)){let _0x5680e4=_0x35aeec[_0x28d746(0x2e1)][_0x28d746(0x125)][_0x28d746(0x2f4)](_0x5487d3=>!(_0x5487d3['startsWith']('[')&&_0x5487d3[_0x28d746(0x20a)](']'))&&_0x5487d3[_0x28d746(0x1ec)]()!=='')[_0x28d746(0x48c)](_0x2cd938=>_0x2cd938[_0x28d746(0x308)]('\x0a')[0x0]);_0x4368ee={'poll':{'name':_0x35aeec[_0x28d746(0x2e1)][_0x28d746(0x3da)],'selectableCount':_0x35aeec[_0x28d746(0x2e1)]['selectableCount']||0x1,'values':_0x5680e4}};}}return await this[_0x28d746(0x463)](_0x35aeec[_0x28d746(0x5ff)],_0x4368ee,_0x35aeec?.[_0x28d746(0x3c0)]);}['createSectionsFromValues'](_0x182155){const _0x8c623a=a0_0x18e9af;let _0x4c01d7=[],_0xa219e6={'rows':[]};return _0x182155['forEach'](_0x1ef02e=>{const _0x39fb92=a0_0x7bd5;if(_0x1ef02e['startsWith']('[')&&_0x1ef02e[_0x39fb92(0x20a)](']'))_0xa219e6['rows'][_0x39fb92(0x15f)]>0x0&&_0x4c01d7[_0x39fb92(0x256)](_0xa219e6),_0xa219e6={'title':_0x1ef02e[_0x39fb92(0x488)](0x1,-0x1),'rows':[]};else{let _0x706835=_0x1ef02e[_0x39fb92(0x308)]('\x0a')[_0x39fb92(0x48c)](_0x5b1c12=>_0x5b1c12['trim']()),_0x58b993=_0x706835[0x0],_0x384123=_0x706835[0x1]||null,_0xe835a0=_0x706835[0x2]||_0x58b993;_0xa219e6[_0x39fb92(0x59a)][_0x39fb92(0x256)]({'title':_0x58b993,'description':_0x384123,'rowId':_0xe835a0});}}),_0xa219e6[_0x8c623a(0x59a)][_0x8c623a(0x15f)]>0x0&&_0x4c01d7[_0x8c623a(0x256)](_0xa219e6),_0x4c01d7;}async[a0_0x18e9af(0x6c8)](_0x16db4e,_0x5256ae){const _0x14f047=a0_0x18e9af;if(await this[_0x14f047(0x604)](_0x16db4e,!0x0)){let _0x1c66a4={'where':{'_id':_0x16db4e['id']}},_0x28e479={'status':[_0x5256ae[_0x14f047(0x522)]][0x0]};try{let _0x56714f=await this[_0x14f047(0x305)][_0x14f047(0x668)]['update'](_0x1c66a4,_0x28e479,this[_0x14f047(0x777)][_0x14f047(0x207)]);_0x56714f&&q(this[_0x14f047(0x584)],_0x14f047(0x53c),{'message':_0x56714f});}catch{}}}[a0_0x18e9af(0x2c2)](_0x372836){const _0x37d97d=a0_0x18e9af;let _0x4d98ca=[];return _0x372836[_0x37d97d(0x6d6)](_0xac4df3=>{const _0x3f1a37=_0x37d97d;_0xac4df3['title']&&_0x4d98ca[_0x3f1a37(0x256)]('['+_0xac4df3['title']+']'),_0xac4df3[_0x3f1a37(0x59a)][_0x3f1a37(0x6d6)](_0x42eac0=>{const _0x4805fc=_0x3f1a37;_0x4d98ca[_0x4805fc(0x256)](_0x42eac0[_0x4805fc(0x2d3)]);});}),_0x4d98ca[_0x37d97d(0x4d1)]('|');}[a0_0x18e9af(0x399)](_0x5c2023){const _0xa9a5f5=a0_0x18e9af;let _0x395c0e=_0x5c2023[_0xa9a5f5(0x23f)](/\\n/g,'\x0a')[_0xa9a5f5(0x308)]('\x0a')[_0xa9a5f5(0x2f4)](_0x418583=>_0x418583['includes'](_0xa9a5f5(0x769))||_0x418583[_0xa9a5f5(0x4d6)]('EMAIL')),_0x13b8d3='';return _0x395c0e[_0xa9a5f5(0x6d6)](_0x57a14c=>{const _0x355323=_0xa9a5f5;let _0x2eab9a=/TEL(?:.*):(.+)/,_0x779051=/EMAIL(?:.*):(.+)/,_0x412402=_0x57a14c['match'](_0x2eab9a),_0x1561d4=_0x57a14c['match'](_0x779051);if(_0x412402){let _0xa0ba87=_0x412402[0x1][_0x355323(0x23f)](/-| |\+|\(|\)/g,'')[_0x355323(0x1ec)]();_0x13b8d3+=_0x355323(0x319)+_0xa0ba87+'\x0a';}else{if(_0x1561d4){let _0x49eb7b=_0x1561d4[0x1]['trim']();_0x13b8d3+=_0x355323(0x33f)+_0x49eb7b+'\x0a';}}}),_0x13b8d3[_0xa9a5f5(0x1ec)]();}async['updateChatWithMessage'](_0x48791b,_0xda7824,_0xec4a1e){const _0x44f66c=a0_0x18e9af;if(!_0x48791b['ENABLED'])return;let _0x494afb=_0xda7824['key'][_0x44f66c(0x3fc)][_0x44f66c(0x23f)](/:\d{1,2}@/g,'@'),_0xe2a9a7=_0xda7824[_0x44f66c(0x66a)][_0x44f66c(0x18a)],_0x52bbeb=_0x494afb[_0x44f66c(0x20a)](_0x44f66c(0x5bf)),_0x5af080=_0xda7824[_0x44f66c(0x6ec)]?.[_0x44f66c(0x3da)]||_0xda7824[_0x44f66c(0x6ec)]?.[_0x44f66c(0x44e)]||_0xda7824[_0x44f66c(0x6ec)]?.['vote']||_0xda7824[_0x44f66c(0x6ec)]?.[_0x44f66c(0x10b)],_0x2d5f6c={'lastmsg':_0xda7824[_0x44f66c(0x10c)]||Date[_0x44f66c(0x60d)](),'unreadcount':_0xe2a9a7?0x0:0x1,..._0xe2a9a7||_0x52bbeb?{}:{'name':_0xda7824[_0x44f66c(0x44d)]},..._0x52bbeb?{'group':_0x52bbeb}:{}},_0x1dd448=await this[_0x44f66c(0x305)][_0x44f66c(0x25a)][_0x44f66c(0x151)]({'where':{'_id':_0x494afb}},_0x2d5f6c,this[_0x44f66c(0x777)][_0x44f66c(0x207)],{'new':!0x0,'upsert':!0x0});if(_0x1dd448['imported']){let _0x44588e=await this[_0x44f66c(0x305)]['label'][_0x44f66c(0x493)]({'where':{}},this[_0x44f66c(0x777)][_0x44f66c(0x207)]),_0xf521c2=new Set(_0x44588e[_0x44f66c(0x48c)](_0x19d913=>_0x19d913['_id'])),_0x30711d=(_0x1dd448[_0x44f66c(0x6ff)]?.[_0x44f66c(0x286)]||[])[_0x44f66c(0x2f4)](_0x17e3e7=>_0xf521c2[_0x44f66c(0x2da)](_0x17e3e7)),_0x304d0f={'leadInfo.etiquetas':_0x30711d,'imported':!0x1};_0x1dd448=await this['repository'][_0x44f66c(0x25a)][_0x44f66c(0x151)]({'where':{'_id':_0x494afb}},_0x304d0f,this[_0x44f66c(0x777)][_0x44f66c(0x207)]);for(let _0xc45ef of _0x30711d)await this[_0x44f66c(0x188)](_0xc45ef,_0x494afb);}if(!_0x52bbeb&&(!_0x1dd448?.['leadInfo']||!_0x1dd448[_0x44f66c(0x6ff)][_0x44f66c(0x40a)])&&_0xda7824[_0x44f66c(0x44d)]&&!_0xe2a9a7&&(_0x1dd448=await this[_0x44f66c(0x305)]['chat']['updateOne']({'where':{'_id':_0x494afb}},{'leadInfo.nome':_0xda7824[_0x44f66c(0x44d)]},this[_0x44f66c(0x777)][_0x44f66c(0x207)],{'new':!0x0,'upsert':!0x0})),_0xec4a1e===_0x44f66c(0x459)&&_0xe2a9a7&&this[_0x44f66c(0x3a5)]?.[_0x44f66c(0x3a8)][_0x44f66c(0x475)]&&!_0x5af080[_0x44f66c(0x448)](this[_0x44f66c(0x3a5)]?.[_0x44f66c(0x3a8)][_0x44f66c(0x65f)])){let _0x1e88c1=(this['AutomateSystem']?.[_0x44f66c(0x3a8)]['stopWhenYouSendMsg']||0x5)*0xea60,_0x414aba=Date[_0x44f66c(0x60d)]()+_0x1e88c1;_0x1dd448?.[_0x44f66c(0x6ff)]?.[_0x44f66c(0x39d)]===0x0||(await this[_0x44f66c(0x305)][_0x44f66c(0x25a)][_0x44f66c(0x151)]({'where':{'_id':_0x494afb}},{'leadInfo.desativadoFluxoAte':_0x414aba},this['instance'][_0x44f66c(0x207)],{'new':!0x0,'upsert':!0x1}),this[_0x44f66c(0x232)][_0x44f66c(0x591)](this[_0x44f66c(0x584)]+'\x20('+this['instance']['wuid']+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x414aba+'.'));}if(_0x1dd448)q(this[_0x44f66c(0x584)],'chats',{'chat':_0x1dd448});else{this[_0x44f66c(0x232)][_0x44f66c(0x1b4)](this[_0x44f66c(0x584)]+'\x20('+this[_0x44f66c(0x777)][_0x44f66c(0x207)]+_0x44f66c(0x22e));return;}if(!this[_0x44f66c(0x3a5)]?.['flowConfig'][_0x44f66c(0x475)])return this['logger']['verbose'](this[_0x44f66c(0x584)]+'\x20('+this[_0x44f66c(0x777)]['wuid']+_0x44f66c(0x298)),null;if(_0x1dd448['_id'][_0x44f66c(0x4d6)]('@g.us')&&this['AutomateSystem']?.[_0x44f66c(0x3a8)][_0x44f66c(0x1dd)]===!0x0)return this[_0x44f66c(0x232)][_0x44f66c(0x591)](this[_0x44f66c(0x584)]+'\x20('+this[_0x44f66c(0x777)][_0x44f66c(0x207)]+_0x44f66c(0x5e3)),null;if(_0x1dd448['leadInfo']){if(_0x1dd448[_0x44f66c(0x6ff)][_0x44f66c(0x39d)]===0x0||_0x1dd448[_0x44f66c(0x6ff)]['atendimentoAberto'])return this['logger'][_0x44f66c(0x591)](this['instanceName']+'\x20('+this[_0x44f66c(0x777)][_0x44f66c(0x207)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x494afb+_0x44f66c(0x64f)),null;if(_0x1dd448['leadInfo'][_0x44f66c(0x39d)]>Date['now']()&&!_0xda7824[_0x44f66c(0x6ec)]?.['vote'])return this[_0x44f66c(0x232)][_0x44f66c(0x591)](this[_0x44f66c(0x584)]+'\x20('+this['instance'][_0x44f66c(0x207)]+_0x44f66c(0x541)+new Date(_0x1dd448['leadInfo'][_0x44f66c(0x39d)])[_0x44f66c(0x688)]()+_0x44f66c(0x64f)),null;}this[_0x44f66c(0x232)][_0x44f66c(0x591)](this[_0x44f66c(0x584)]+'\x20('+this[_0x44f66c(0x777)]['wuid']+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x44f66c(0x149)](_0xec4a1e,_0xda7824);}async[a0_0x18e9af(0x2b3)](_0x38b3fd,_0x47ecf8){const _0x505d69=a0_0x18e9af;if(_0x47ecf8[_0x505d69(0x695)]){let _0xbea566=_0x38b3fd[_0x505d69(0x48c)](async _0x1fcdf5=>{const _0x30068a=_0x505d69;try{let _0x122ae5={'_id':_0x1fcdf5[_0x30068a(0x550)],'owner':_0x1fcdf5[_0x30068a(0x74a)],'lastcache':0x0};if(_0x1fcdf5['group']!==null&&(_0x122ae5[_0x30068a(0x4e1)]=_0x1fcdf5['group']),_0x1fcdf5['name']!==null&&(_0x122ae5[_0x30068a(0x10b)]=_0x1fcdf5[_0x30068a(0x10b)]),_0x1fcdf5[_0x30068a(0x6cc)]!==null&&(_0x122ae5[_0x30068a(0x6cc)]=_0x1fcdf5[_0x30068a(0x6cc)]),_0x1fcdf5['imagechat']!==null&&(_0x122ae5[_0x30068a(0x3dc)]=_0x1fcdf5['imagechat']),_0x1fcdf5[_0x30068a(0x3dc)]===null&&(_0x122ae5[_0x30068a(0x3dc)]='Imagem\x20não\x20encontrada'),_0x1fcdf5['lastmsg']!==null&&(_0x122ae5[_0x30068a(0x4c2)]=_0x1fcdf5['lastmsg']),_0x1fcdf5[_0x30068a(0x49e)]!==null&&(_0x122ae5['archived']=_0x1fcdf5[_0x30068a(0x49e)]),_0x1fcdf5['unreadcount']!==null&&(_0x122ae5[_0x30068a(0x601)]=_0x1fcdf5[_0x30068a(0x601)]),Object[_0x30068a(0x581)](_0x122ae5)['length']>0x0)return await this[_0x30068a(0x305)][_0x30068a(0x25a)][_0x30068a(0x151)]({'where':{'_id':_0x1fcdf5[_0x30068a(0x550)]}},_0x122ae5,this[_0x30068a(0x777)]['wuid']);}catch(_0x18cf90){return console[_0x30068a(0x1b4)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x1fcdf5[_0x30068a(0x550)]+':',_0x18cf90),null;}}),_0x2ca490=(await Promise[_0x505d69(0x2e8)](_0xbea566))[_0x505d69(0x2f4)](_0x54f1f8=>_0x54f1f8!==null)[_0x505d69(0x15f)];this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x505d69(0x207)]+'):\x20'+_0x2ca490+_0x505d69(0x240)+this[_0x505d69(0x777)][_0x505d69(0x207)]+_0x505d69(0x6a4));}}async[a0_0x18e9af(0x413)](_0x175551){const _0x509d8a=a0_0x18e9af;this['logger'][_0x509d8a(0x591)](this[_0x509d8a(0x584)]+'\x20('+this['instance'][_0x509d8a(0x207)]+_0x509d8a(0x41a));let _0x37d1d0={'readMessages':[{'remoteJid':_0x175551[_0x509d8a(0x18b)][_0x509d8a(0x471)][_0x509d8a(0x66a)][_0x509d8a(0x3fc)],'fromMe':_0x175551[_0x509d8a(0x18b)][_0x509d8a(0x471)][_0x509d8a(0x66a)][_0x509d8a(0x18a)],'id':_0x175551[_0x509d8a(0x18b)]['lastReceivedMessage'][_0x509d8a(0x66a)]['id']}]};await this['markMessageAsRead'](_0x37d1d0);}async[a0_0x18e9af(0x149)](_0x183cc8,_0x2ac236){const _0x2a3239=a0_0x18e9af;try{let {key:_0x56b504,message_normalized:_0x39fa5f}=_0x2ac236,_0x5db98b=_0x39fa5f,_0x166901=_0x39fa5f[_0x2a3239(0x3da)]||_0x39fa5f[_0x2a3239(0x44e)]||_0x39fa5f[_0x2a3239(0x34b)]||_0x39fa5f[_0x2a3239(0x10b)],_0x55cad2=_0x56b504['remoteJid'],_0x49f62d;if(_0x5db98b['key'][_0x2a3239(0x18a)]&&_0x166901[_0x2a3239(0x1ec)]()!==this[_0x2a3239(0x3a5)]?.[_0x2a3239(0x3a8)][_0x2a3239(0x372)][_0x2a3239(0x1ec)]())return this['logger'][_0x2a3239(0x591)](this[_0x2a3239(0x584)]+'\x20('+this[_0x2a3239(0x777)][_0x2a3239(0x207)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x5db98b[_0x2a3239(0x66a)][_0x2a3239(0x18a)]&&_0x166901['trim']()===this[_0x2a3239(0x3a5)]?.['flowConfig'][_0x2a3239(0x372)]['trim']()){this[_0x2a3239(0x232)][_0x2a3239(0x591)](this[_0x2a3239(0x584)]+'\x20('+this[_0x2a3239(0x777)][_0x2a3239(0x207)]+_0x2a3239(0x5da));let _0x1ab49d=await this[_0x2a3239(0x305)]['flowConversation'][_0x2a3239(0x493)]({'remoteJid':_0x55cad2,'status':'open'},this['instance'][_0x2a3239(0x207)]);this[_0x2a3239(0x232)][_0x2a3239(0x591)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2a3239(0x3b1)+_0x1ab49d);let _0x1bf199=Date[_0x2a3239(0x60d)](),_0x481d41;return this['AutomateSystem']?.[_0x2a3239(0x3a8)][_0x2a3239(0x15c)]===0x0?_0x481d41={'stoppedUntil':_0x1bf199+0x7591f6200}:_0x481d41={'stoppedUntil':_0x1bf199+this[_0x2a3239(0x3a5)]?.[_0x2a3239(0x3a8)][_0x2a3239(0x15c)]*0x3c*0x3e8},this[_0x2a3239(0x232)][_0x2a3239(0x591)](this[_0x2a3239(0x584)]+'\x20('+this[_0x2a3239(0x777)][_0x2a3239(0x207)]+_0x2a3239(0x516)+_0x481d41),this[_0x2a3239(0x4b3)](_0x49f62d,_0x481d41['stoppedUntil']),null;}if(_0x166901&&_0x166901[_0x2a3239(0x448)](this[_0x2a3239(0x3a5)]?.[_0x2a3239(0x3a8)][_0x2a3239(0x65f)])&&_0x166901[_0x2a3239(0x15f)]>0x4){let _0xd6aba3=await this[_0x2a3239(0x305)]['flow'][_0x2a3239(0x238)]({'where':{'startCommandWord':_0x166901}},this[_0x2a3239(0x777)][_0x2a3239(0x207)]);if(this[_0x2a3239(0x232)]['verbose'](this[_0x2a3239(0x584)]+'\x20('+this[_0x2a3239(0x777)][_0x2a3239(0x207)]+_0x2a3239(0x237)),_0xd6aba3)_0x49f62d=await this[_0x2a3239(0x6d7)](_0xd6aba3,_0x5db98b['key'],_0x5db98b);else return this['logger'][_0x2a3239(0x591)](this[_0x2a3239(0x584)]+'\x20('+this[_0x2a3239(0x777)]['wuid']+_0x2a3239(0x720)),null;}else _0x49f62d=await this[_0x2a3239(0x416)](_0x55cad2,_0x5db98b);if(_0x49f62d){this[_0x2a3239(0x232)][_0x2a3239(0x591)](this[_0x2a3239(0x584)]+'\x20('+this[_0x2a3239(0x777)]['wuid']+_0x2a3239(0x3c4)),!_0x56b504[_0x2a3239(0x18a)]&&_0x49f62d[_0x2a3239(0x58f)]&&this[_0x2a3239(0x413)](_0x49f62d);let _0x76a821=await this['NextBlock'](_0x49f62d);_0x76a821&&await this[_0x2a3239(0x677)](_0x49f62d,_0x76a821);}}catch(_0x11a4d9){this[_0x2a3239(0x232)]['error'](this[_0x2a3239(0x584)]+'\x20('+this[_0x2a3239(0x777)][_0x2a3239(0x207)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x11a4d9 instanceof Error?_0x11a4d9[_0x2a3239(0x668)]:JSON[_0x2a3239(0x676)](_0x11a4d9,null,0x2)));}}[a0_0x18e9af(0x387)](_0x5daf6b,_0x3e2d43='',_0x376f0f={},_0x1c012b=!0x0){const _0xfee4a9=a0_0x18e9af;for(let _0x443552 in _0x5daf6b){let _0x36a195=_0x1c012b?'_'+_0x443552:''+_0x3e2d43+_0x443552;typeof _0x5daf6b[_0x443552]==_0xfee4a9(0x61d)&&_0x5daf6b[_0x443552]!==null?this[_0xfee4a9(0x387)](_0x5daf6b[_0x443552],_0x36a195+'.',_0x376f0f,!0x1):_0x376f0f[_0x36a195]=String(_0x5daf6b[_0x443552]);}return _0x376f0f;}[a0_0x18e9af(0x283)](_0x18555c){const _0x1851cf=a0_0x18e9af;let _0x1831c5={};for(let _0x7ddff6 of _0x18555c)typeof _0x7ddff6[_0x1851cf(0x10b)]==_0x1851cf(0x571)&&typeof _0x7ddff6[_0x1851cf(0x582)]==_0x1851cf(0x571)&&(_0x1831c5[_0x7ddff6['name']]=_0x7ddff6[_0x1851cf(0x582)]);return _0x1831c5;}async['NextBlock'](_0xa3c71){const _0x9a21b4=a0_0x18e9af;if(!this[_0x9a21b4(0x3a5)]?.[_0x9a21b4(0x3a8)][_0x9a21b4(0x475)]||_0xa3c71[_0x9a21b4(0x522)]!==_0x9a21b4(0x446)&&_0xa3c71['waitingMenu_id']==='')return null;let _0x2ca812=_0xa3c71['chatLog'][_0x9a21b4(0x5b2)]||'start';typeof _0xa3c71[_0x9a21b4(0x18b)]['lastCondition']>'u'&&(_0xa3c71[_0x9a21b4(0x18b)][_0x9a21b4(0x203)]=!0x0);let _0x3ed9c7=_0xa3c71[_0x9a21b4(0x18b)][_0x9a21b4(0x203)];this[_0x9a21b4(0x232)][_0x9a21b4(0x591)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x9a21b4(0x303)+_0x2ca812+',\x20lastCondition:\x20'+_0x3ed9c7);let _0x517da8=_0x2ca812===_0x9a21b4(0x553)?_0xa3c71[_0x9a21b4(0x637)][_0x9a21b4(0x493)](_0x2bcddc=>_0x2bcddc[_0x9a21b4(0x120)]==='start'):_0xa3c71['blocks']['find'](_0x21385e=>_0x21385e['_id'][_0x9a21b4(0x2fb)]()===_0x2ca812[_0x9a21b4(0x2fb)]());if(!_0x517da8)return this[_0x9a21b4(0x232)][_0x9a21b4(0x1b4)](this[_0x9a21b4(0x584)]+'\x20('+this[_0x9a21b4(0x777)][_0x9a21b4(0x207)]+_0x9a21b4(0x4de)+_0x2ca812),null;let _0x270fc0={'_pushName':_0xa3c71[_0x9a21b4(0x18b)]['lastReceivedMessage'][_0x9a21b4(0x44d)],..._0xa3c71[_0x9a21b4(0x18b)][_0x9a21b4(0x71c)]},_0x28a684=null;if(_0xa3c71['waitingMenu_id']){let _0x4c6d95=_0xa3c71[_0x9a21b4(0x18b)][_0x9a21b4(0x471)]['vote'],_0x125d08=_0xa3c71[_0x9a21b4(0x3a9)][_0x9a21b4(0x493)](_0x38e235=>_0x38e235[_0x9a21b4(0x4ae)]===_0x4c6d95);if(_0x125d08){let _0x77fe95=_0x125d08[_0x9a21b4(0x1aa)];if(_0x28a684=_0xa3c71[_0x9a21b4(0x637)][_0x9a21b4(0x493)](_0x5e3a49=>_0x5e3a49[_0x9a21b4(0x481)]===_0x77fe95&&_0x5e3a49[_0x9a21b4(0x181)]===0x1),_0x517da8[_0x9a21b4(0x4bb)]['pollOnReplyDelete']){let _0x4db756={'id':_0xa3c71[_0x9a21b4(0x6ae)],'remoteJid':_0xa3c71[_0x9a21b4(0x3fc)],'fromMe':!0x0};await this[_0x9a21b4(0x414)](_0x4db756);}if(_0x517da8[_0x9a21b4(0x4bb)][_0x9a21b4(0x560)]&&_0x517da8[_0x9a21b4(0x4bb)][_0x9a21b4(0x12b)]&&_0x517da8['uazapi']['menuType']===_0x9a21b4(0x755)){let _0x423403={'number':_0xa3c71[_0x9a21b4(0x3fc)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0xa3c71[_0x9a21b4(0x66d)]+_0x9a21b4(0x4a3)+_0x4c6d95}};await this['textMessage'](_0x423403);}_0xa3c71[_0x9a21b4(0x522)]=_0x9a21b4(0x446),_0xa3c71[_0x9a21b4(0x6ae)]='',_0xa3c71[_0x9a21b4(0x66d)]='',_0xa3c71[_0x9a21b4(0x3a9)]=[];}else{this[_0x9a21b4(0x232)][_0x9a21b4(0x591)](this[_0x9a21b4(0x584)]+'\x20('+this['instance'][_0x9a21b4(0x207)]+_0x9a21b4(0x13f));let _0x206f50={'activatedCount':_0xa3c71['chatLog'][_0x9a21b4(0x6ee)][_0x9a21b4(0x2f4)](_0x3d32bb=>String(_0x3d32bb[_0x9a21b4(0x3a4)])===String(_0x2ca812))[_0x9a21b4(0x15f)],'moreLogs':[_0x9a21b4(0x34d)]};if(_0x517da8['uazapi'][_0x9a21b4(0x753)]){let _0x3a1d0f={'number':_0xa3c71[_0x9a21b4(0x3fc)],'options':{'delay':0x0},'textMessage':{'text':_0x517da8[_0x9a21b4(0x4bb)]['pollErrorMessage']}};await this['textMessage'](_0x3a1d0f);}if(_0x517da8['maxActives']!==void 0x0&&_0x206f50[_0x9a21b4(0x5df)]>=_0x517da8[_0x9a21b4(0x191)]){let _0x56e3de=Date[_0x9a21b4(0x60d)](),_0x3ebf98=_0x517da8['stopMinutesMaxActives']??0xa;isNaN(_0x3ebf98)&&(_0x3ebf98=0xa);let _0x33e1cd=_0x56e3de+_0x3ebf98*0x3c*0x3e8;_0x206f50[_0x9a21b4(0x271)]=_0x33e1cd,_0x206f50['moreLogs']['push']('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x9a21b4(0x4b3)](_0xa3c71,_0x33e1cd),_0xa3c71[_0x9a21b4(0x6ae)]='',_0xa3c71['waitingMenu_text']='',_0xa3c71[_0x9a21b4(0x3a9)]=[];}return this[_0x9a21b4(0x1e0)](_0xa3c71,_0x517da8,_0x206f50,!0x0),null;}}if(_0x3ed9c7&&_0x517da8[_0x9a21b4(0x1aa)]&&!_0xa3c71[_0x9a21b4(0x6ae)]){let _0x13e0ea=_0xa3c71[_0x9a21b4(0x637)][_0x9a21b4(0x2f4)](_0x32b3dd=>_0x32b3dd['groupId'][_0x9a21b4(0x2fb)]()===_0x517da8[_0x9a21b4(0x1aa)][_0x9a21b4(0x2fb)]())[_0x9a21b4(0x540)]((_0x35bf6d,_0x3f48f5)=>_0x35bf6d['order']-_0x3f48f5['order']);_0x13e0ea['length']>0x0&&(_0x28a684=_0x13e0ea[0x0]);}if(!_0x28a684){let _0x97a40a=_0x517da8['groupId'],_0xe9380f=_0xa3c71[_0x9a21b4(0x637)]['filter'](_0x574dc0=>_0x574dc0['groupId']===_0x97a40a&&_0x574dc0[_0x9a21b4(0x181)]>_0x517da8[_0x9a21b4(0x181)])[_0x9a21b4(0x540)]((_0x2922a2,_0x5d287a)=>_0x2922a2['order']-_0x5d287a[_0x9a21b4(0x181)]);_0xe9380f[_0x9a21b4(0x15f)]>0x0&&(_0x28a684=_0xe9380f[0x0]);}if(!_0x28a684)return _0xa3c71['status']=_0x9a21b4(0x364),null;_0xa3c71[_0x9a21b4(0x18b)][_0x9a21b4(0x71c)]=_0x270fc0;let _0x22bfd0=JSON['parse'](JSON[_0x9a21b4(0x676)](_0x28a684));return this[_0x9a21b4(0x6b6)](_0x22bfd0,_0xa3c71[_0x9a21b4(0x18b)][_0x9a21b4(0x71c)]),_0xa3c71[_0x9a21b4(0x18b)]['lastBlockId']=_0x22bfd0[_0x9a21b4(0x550)],_0xa3c71['chatLog'][_0x9a21b4(0x203)]=!0x0,_0x22bfd0;}[a0_0x18e9af(0x3ed)](_0x2bf59c,_0x26ce74){const _0x2915a6=a0_0x18e9af;return _0x2bf59c[_0x2915a6(0x23f)](/\{\{([^}]+)\}\}/g,(_0x2df40c,_0x7c6768)=>_0x26ce74[_0x7c6768]||'');}[a0_0x18e9af(0x6b6)](_0x39b2dd,_0x283ce0){const _0x420b83=a0_0x18e9af;for(let _0x5b6445 in _0x39b2dd)typeof _0x39b2dd[_0x5b6445]=='string'?_0x39b2dd[_0x5b6445]=this['replaceVariables'](_0x39b2dd[_0x5b6445],_0x283ce0):typeof _0x39b2dd[_0x5b6445]==_0x420b83(0x61d)&&this['replaceVariablesInObject'](_0x39b2dd[_0x5b6445],_0x283ce0);}async[a0_0x18e9af(0x316)](_0x480caf,_0x394f21){const _0x4237e8=a0_0x18e9af;let _0x56da32=_0x394f21[_0x4237e8(0x550)];if(_0x480caf['chatLog']&&_0x480caf[_0x4237e8(0x18b)][_0x4237e8(0x6ee)]){let _0x476782=_0x480caf[_0x4237e8(0x18b)][_0x4237e8(0x6ee)][_0x4237e8(0x2f4)](_0x5d6058=>String(_0x5d6058['blockId'])===String(_0x56da32))[_0x4237e8(0x41c)]();if(_0x476782&&_0x476782[_0x4237e8(0x1b4)]&&_0x394f21[_0x4237e8(0x669)])return _0x480caf[_0x4237e8(0x522)]=_0x4237e8(0x364),await this[_0x4237e8(0x751)](_0x480caf),null;}if(_0x394f21[_0x4237e8(0x120)]===_0x4237e8(0x4bb)&&_0x394f21[_0x4237e8(0x4bb)][_0x4237e8(0x68f)]==='sendPoll'&&_0x480caf['waitingMenu_id'])return _0x480caf[_0x4237e8(0x18b)][_0x4237e8(0x5b2)]=_0x56da32,await this[_0x4237e8(0x751)](_0x480caf),null;let _0x2de4f2=await this[_0x4237e8(0x1b6)](_0x480caf);if(_0x480caf['chatLog']&&_0x480caf[_0x4237e8(0x18b)]['blockLogs']){let _0xec23ce=_0x480caf[_0x4237e8(0x18b)][_0x4237e8(0x6ee)][_0x4237e8(0x2f4)](_0x3b62ad=>String(_0x3b62ad[_0x4237e8(0x3a4)])===String(_0x56da32))['length'];if(_0x394f21[_0x4237e8(0x191)]!==void 0x0&&_0xec23ce>=_0x394f21[_0x4237e8(0x191)]){let _0x3dc09b=Date[_0x4237e8(0x60d)](),_0x23be24=_0x394f21[_0x4237e8(0x598)]??0xa;isNaN(_0x23be24)&&(_0x23be24=0xa);let _0x168fc8=_0x3dc09b+_0x23be24*0x3c*0x3e8,_0x57b284={'newStoppedUntil':_0x168fc8};return this[_0x4237e8(0x4b3)](_0x480caf,_0x168fc8),this[_0x4237e8(0x1e0)](_0x480caf,_0x394f21,_0x57b284,!0x0),null;}}_0x2de4f2&&_0x2de4f2[_0x4237e8(0x120)]!==_0x4237e8(0x494)&&await this[_0x4237e8(0x677)](_0x480caf,_0x2de4f2),_0x2de4f2||await this['saveConversationToDatabase'](_0x480caf),_0x2de4f2&&_0x2de4f2[_0x4237e8(0x120)]==='save'&&(_0x480caf['chatLog'][_0x4237e8(0x5b2)]=_0x56da32,await this[_0x4237e8(0x751)](_0x480caf));}async[a0_0x18e9af(0x677)](_0x2353bd,_0x19721d){const _0xae948d=a0_0x18e9af;try{let _0x2c5ee5=_0x19721d['type'];this[_0xae948d(0x232)]['verbose'](this[_0xae948d(0x584)]+'\x20('+this['instance'][_0xae948d(0x207)]+_0xae948d(0x775)+_0x2c5ee5);let _0x16b864={'uazapi':()=>this[_0xae948d(0x5ac)](_0x2353bd,_0x19721d),'save':()=>this[_0xae948d(0x1f2)](_0x2353bd,_0x19721d),'stop':()=>this[_0xae948d(0x372)](_0x2353bd,_0x19721d),'condition':()=>this['processConditions'](_0x2353bd,_0x19721d),'varedit':()=>this[_0xae948d(0x369)](_0x2353bd,_0x19721d),'apirequest':()=>this[_0xae948d(0x5de)](_0x2353bd,_0x19721d),'goToFlow':()=>this[_0xae948d(0x324)](_0x2353bd,_0x19721d)}[_0x2c5ee5];_0x16b864&&await _0x16b864();}catch(_0x3ed8fa){this[_0xae948d(0x232)]['error'](this[_0xae948d(0x584)]+'\x20('+this[_0xae948d(0x777)][_0xae948d(0x207)]+_0xae948d(0x426)+(_0x3ed8fa instanceof Error?_0x3ed8fa[_0xae948d(0x668)]:JSON['stringify'](_0x3ed8fa,null,0x2)));}}async[a0_0x18e9af(0x324)](_0x259d84,_0x3c5a17){const _0x406bb3=a0_0x18e9af;if(this['logger'][_0x406bb3(0x591)](this[_0x406bb3(0x584)]+'\x20('+this[_0x406bb3(0x777)][_0x406bb3(0x207)]+_0x406bb3(0x420)),!_0x259d84||!_0x3c5a17)return this[_0x406bb3(0x232)][_0x406bb3(0x1b4)](this[_0x406bb3(0x584)]+'\x20('+this[_0x406bb3(0x777)][_0x406bb3(0x207)]+_0x406bb3(0x719)),null;await this[_0x406bb3(0x1e0)](_0x259d84,_0x3c5a17,{},!0x0,!0x0),console['log'](_0x406bb3(0x524)),console['log'](_0x3c5a17);let _0x5e24ae=_0x3c5a17[_0x406bb3(0x255)];console[_0x406bb3(0x704)](_0x406bb3(0x14c),_0x5e24ae),_0x259d84=await this[_0x406bb3(0x248)](_0x5e24ae,_0x259d84[_0x406bb3(0x3fc)],_0x259d84[_0x406bb3(0x18b)]['realVariables']),this[_0x406bb3(0x232)]['verbose'](this[_0x406bb3(0x584)]+'\x20('+this['instance'][_0x406bb3(0x207)]+_0x406bb3(0x2b6));let _0x5b9a9b=await this[_0x406bb3(0x1b6)](_0x259d84);_0x5b9a9b&&await this[_0x406bb3(0x677)](_0x259d84,_0x5b9a9b);}async[a0_0x18e9af(0x248)](_0x4ee61e,_0x172f18,_0x412f51){const _0x2ed5aa=a0_0x18e9af;this[_0x2ed5aa(0x232)][_0x2ed5aa(0x591)](this[_0x2ed5aa(0x584)]+'\x20('+this[_0x2ed5aa(0x777)][_0x2ed5aa(0x207)]+_0x2ed5aa(0x2fa));try{if(_0x4ee61e=await this[_0x2ed5aa(0x305)][_0x2ed5aa(0x603)][_0x2ed5aa(0x238)]({'where':{'name':_0x4ee61e}},this['instance'][_0x2ed5aa(0x207)]),!_0x4ee61e)return this[_0x2ed5aa(0x232)][_0x2ed5aa(0x1b4)](this[_0x2ed5aa(0x584)]+'\x20('+this[_0x2ed5aa(0x777)][_0x2ed5aa(0x207)]+_0x2ed5aa(0x11a)),null;let _0x23dbe1=require('mongodb')[_0x2ed5aa(0x711)],_0x13d6a5=Date[_0x2ed5aa(0x60d)](),_0x2d55af=_0x2ed5aa(0x553),_0x48b464={},_0x551d20={},_0x2ae36a={..._0x4ee61e,'chatLog':null},_0x15d968={'lastReceivedMessage':_0x48b464,'lastSendMessage':_0x551d20,'lastBlockId':_0x2d55af,'lastCondition':!0x0,'realVariables':_0x412f51};_0x2ae36a[_0x2ed5aa(0x18b)]=_0x15d968,_0x2ae36a[_0x2ed5aa(0x18b)][_0x2ed5aa(0x71c)]={..._0x412f51},delete _0x2ae36a[_0x2ed5aa(0x550)],_0x2ae36a[_0x2ed5aa(0x550)]=new _0x23dbe1(),_0x2ae36a['lastInteraction']=_0x13d6a5,_0x2ae36a[_0x2ed5aa(0x522)]=_0x2ed5aa(0x446),_0x2ae36a[_0x2ed5aa(0x3fc)]=_0x172f18;let _0x5706b1=await this[_0x2ed5aa(0x305)][_0x2ed5aa(0x3f7)][_0x2ed5aa(0x151)](_0x2ae36a[_0x2ed5aa(0x550)],_0x2ae36a,this['instance'][_0x2ed5aa(0x207)]);return this[_0x2ed5aa(0x232)][_0x2ed5aa(0x591)](this['instanceName']+'\x20('+this[_0x2ed5aa(0x777)]['wuid']+_0x2ed5aa(0x178)),_0x5706b1?_0x2ae36a:null;}catch(_0x3c6da3){throw this['logger'][_0x2ed5aa(0x1b4)](this[_0x2ed5aa(0x584)]+'\x20('+this[_0x2ed5aa(0x777)]['wuid']+_0x2ed5aa(0x554)+(_0x3c6da3 instanceof Error?_0x3c6da3['message']:JSON[_0x2ed5aa(0x676)](_0x3c6da3,null,0x2))),new w(_0x3c6da3[_0x2ed5aa(0x668)]);}}async[a0_0x18e9af(0x5de)](_0x55e4a4,_0x80108a){const _0x56cfea=a0_0x18e9af;let _0x556f02,_0x94a76;try{let _0x1618fc=_0x80108a['apirequest'];if(!_0x1618fc||!_0x1618fc[_0x56cfea(0x747)]||!_0x1618fc[_0x56cfea(0x5a3)])throw new Error(_0x56cfea(0x5db));let _0x19c93c;([_0x56cfea(0x6e2),'https://api.openai.com/v1/images/generations','https://api.elevenlabs.io/v1/text-to-speech/'][_0x56cfea(0x587)](_0x25f612=>_0x1618fc[_0x56cfea(0x747)][_0x56cfea(0x4d6)](_0x25f612))||_0x1618fc[_0x56cfea(0x4a2)])&&(_0x19c93c=_0x56cfea(0x5c2));let _0x570ac6={'method':_0x1618fc[_0x56cfea(0x5a3)],'url':_0x1618fc[_0x56cfea(0x747)],'headers':_0x1618fc[_0x56cfea(0x1cd)]||{},'data':_0x1618fc[_0x56cfea(0x62d)]||{},..._0x19c93c&&{'responseType':_0x19c93c}},_0x3f8a81=await(0x0,te[_0x56cfea(0x30c)])(_0x570ac6),_0x2291e6=_0x3f8a81[_0x56cfea(0x41e)]['content-type'];if(_0x2291e6&&_0x2291e6[_0x56cfea(0x4d6)](_0x56cfea(0x44a))){_0x556f02=_0x3f8a81['data'];let _0x1c870f=_0x55e4a4[_0x56cfea(0x18b)]['realVariables'],_0xa906e5=this['flattenObject'](_0x556f02);return Object[_0x56cfea(0x735)](_0x1c870f,_0xa906e5),_0x55e4a4[_0x56cfea(0x18b)][_0x56cfea(0x71c)]=_0x1c870f,_0x94a76={'error':!0x1,'apiResponse':_0x556f02},this[_0x56cfea(0x1e0)](_0x55e4a4,_0x80108a,_0x94a76),_0x556f02;}if(_0x2291e6&&(_0x2291e6[_0x56cfea(0x4d6)](_0x56cfea(0x44f))||_0x2291e6['includes'](_0x56cfea(0x148))||_0x2291e6[_0x56cfea(0x4d6)](_0x56cfea(0x236))||_0x2291e6[_0x56cfea(0x4d6)]('video'))){this[_0x56cfea(0x232)][_0x56cfea(0x591)](this[_0x56cfea(0x584)]+'\x20('+this['instance'][_0x56cfea(0x207)]+_0x56cfea(0x3db)+_0x2291e6);let _0x573f5f=(0x0,Me['v4'])(),_0x1c9cde='',_0x2f6667={'image/jpeg':_0x56cfea(0x277),'image/png':'.png','image/gif':'.gif','image/webp':_0x56cfea(0x63a),'image/svg+xml':_0x56cfea(0x736),'audio/mpeg':_0x56cfea(0x717),'audio/ogg':_0x56cfea(0x6f9),'audio/wav':_0x56cfea(0x5a9),'video/mp4':_0x56cfea(0x673),'video/webm':'.webm','video/ogg':_0x56cfea(0x205),'text/plain':_0x56cfea(0x51f),'application/pdf':_0x56cfea(0x480),'application/msword':_0x56cfea(0x437),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x56cfea(0x55c),'application/vnd.ms-excel':_0x56cfea(0x2ce),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x56cfea(0x585),'application/vnd.ms-powerpoint':_0x56cfea(0x39b),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x56cfea(0x2c7)};_0x2f6667[_0x2291e6]?(_0x1c9cde=_0x2f6667[_0x2291e6],this[_0x56cfea(0x232)][_0x56cfea(0x591)](this[_0x56cfea(0x584)]+'\x20('+this['instance'][_0x56cfea(0x207)]+_0x56cfea(0x4eb)+_0x1c9cde)):(_0x1c9cde='.error',this[_0x56cfea(0x232)][_0x56cfea(0x591)](this[_0x56cfea(0x584)]+'\x20('+this[_0x56cfea(0x777)][_0x56cfea(0x207)]+_0x56cfea(0x253)+_0x1c9cde)),_0x573f5f+=_0x1c9cde,this[_0x56cfea(0x232)][_0x56cfea(0x591)](this[_0x56cfea(0x584)]+'\x20('+this[_0x56cfea(0x777)][_0x56cfea(0x207)]+_0x56cfea(0x36f)+_0x573f5f);let _0x5b28f1=this[_0x56cfea(0x38c)]['get'](_0x56cfea(0x1ad))[_0x56cfea(0x692)];if(!_0x5b28f1){let _0x10b36f=this[_0x56cfea(0x38c)][_0x56cfea(0x45d)](_0x56cfea(0x627));_0x5b28f1=_0x56cfea(0x723)+(_0x10b36f&&_0x10b36f[_0x56cfea(0x15b)][_0x56cfea(0x308)]('/')[0x4]);}let _0x475312=Buffer[_0x56cfea(0x54a)](_0x3f8a81[_0x56cfea(0x465)]);await this[_0x56cfea(0x72c)](_0x475312,_0x573f5f);let _0x5701a1=_0x56cfea(0x27f)+_0x573f5f;_0x5701a1=''+_0x5b28f1+_0x5701a1,_0x556f02={'fileUrl':_0x5701a1},_0x55e4a4['chatLog'][_0x56cfea(0x71c)]['fileUrl']=_0x5701a1;let _0x46373e=_0x55e4a4[_0x56cfea(0x18b)]['realVariables'],_0x53578a=this[_0x56cfea(0x387)](_0x556f02);return Object[_0x56cfea(0x735)](_0x46373e,_0x53578a),_0x55e4a4[_0x56cfea(0x18b)][_0x56cfea(0x71c)]=_0x46373e,_0x94a76={'error':!0x1,'apiResponse':{'fileUrl':_0x5701a1}},this['updateConversation'](_0x55e4a4,_0x80108a,_0x94a76),_0x556f02;}}catch(_0x3b9948){console['error'](_0x56cfea(0x126),_0x3b9948),_0x3b9948['response']&&(_0x556f02=_0x3b9948[_0x56cfea(0x5dc)][_0x56cfea(0x465)]);let _0x32f3b2=_0x55e4a4['chatLog'][_0x56cfea(0x71c)],_0x5c1a8c=this[_0x56cfea(0x387)](_0x556f02);return Object[_0x56cfea(0x735)](_0x32f3b2,_0x5c1a8c),_0x55e4a4['chatLog'][_0x56cfea(0x71c)]=_0x32f3b2,_0x94a76={'error':!0x0,'errorLog':_0x3b9948[_0x56cfea(0x2fb)](),'apiResponse':_0x556f02},this[_0x56cfea(0x1e0)](_0x55e4a4,_0x80108a,_0x94a76),{'success':!0x1};}}['applyvaredit'](_0x2a6f9a,_0x3e3f67){const _0x3c70c0=a0_0x18e9af;let _0x22922c=_0x4e84f4=>{const _0x1a4071=a0_0x7bd5;let _0xdb5fca=_0x4e84f4[_0x1a4071(0x23f)](/[^0-9.,-]/g,'')[_0x1a4071(0x23f)](',','.'),_0x2bd173=parseFloat(_0xdb5fca);return isNaN(_0x2bd173)?null:_0x2bd173;},_0x30f2f7=_0x3e3f67[_0x3c70c0(0x607)],_0x4dc82d=_0x3e3f67[_0x3c70c0(0x143)];typeof _0x30f2f7==_0x3c70c0(0x571)&&(_0x30f2f7=this[_0x3c70c0(0x3ed)](_0x30f2f7,_0x2a6f9a[_0x3c70c0(0x18b)][_0x3c70c0(0x71c)])??''),typeof _0x4dc82d==_0x3c70c0(0x571)&&(_0x4dc82d=this[_0x3c70c0(0x3ed)](_0x4dc82d,_0x2a6f9a[_0x3c70c0(0x18b)][_0x3c70c0(0x71c)])??'');let _0x10c53e=null;if(!_0x3e3f67['editOperator'])return null;switch(this['logger'][_0x3c70c0(0x591)](this[_0x3c70c0(0x584)]+'\x20('+this[_0x3c70c0(0x777)]['wuid']+_0x3c70c0(0x6af)+_0x30f2f7),this[_0x3c70c0(0x232)]['verbose'](this['instanceName']+'\x20('+this[_0x3c70c0(0x777)][_0x3c70c0(0x207)]+_0x3c70c0(0x3f0)+_0x4dc82d),_0x3e3f67[_0x3c70c0(0x401)]){case'+':case'-':case'*':case'/':let _0x54732c=_0x22922c(_0x30f2f7||'0'),_0x5544d8=_0x22922c(_0x4dc82d||'0');if(_0x54732c===null)return null;switch(_0x3e3f67['editOperator']){case'+':_0x10c53e=_0x54732c+(_0x5544d8??0x0);break;case'-':_0x10c53e=_0x54732c-(_0x5544d8??0x0);break;case'*':_0x10c53e=_0x54732c*(_0x5544d8??0x1);break;case'/':_0x5544d8!==0x0&&(_0x10c53e=_0x54732c/(_0x5544d8??0x1));break;}break;case _0x3c70c0(0x706):case _0x3c70c0(0x77c):let _0x563c58=_0x4dc82d,_0x5c2c1d=_0x3e3f67['replaceValue'];if(typeof _0x5c2c1d==_0x3c70c0(0x571)&&(_0x5c2c1d=this['replaceVariables'](_0x5c2c1d,_0x2a6f9a['chatLog']['realVariables'])??''),_0x563c58&&_0x5c2c1d!==void 0x0){let _0x42db4d=_0x3e3f67[_0x3c70c0(0x401)]===_0x3c70c0(0x706)?new RegExp(_0x563c58[_0x3c70c0(0x23f)](/[-\/\\^$*+?.()|[\]{}]/g,_0x3c70c0(0x62b)),'g'):new RegExp(_0x563c58,'g');_0x10c53e=_0x30f2f7['replace'](_0x42db4d,_0x5c2c1d);}else console[_0x3c70c0(0x365)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0x10c53e=_0x4dc82d;break;case'extractRegex':let _0x389dd5=_0x30f2f7[_0x3c70c0(0x67b)](new RegExp(_0x4dc82d||''));_0x10c53e=_0x389dd5?_0x389dd5[0x0]:'';break;case _0x3c70c0(0x51a):_0x10c53e=_0x30f2f7['slice'](0x0,parseInt(_0x4dc82d||'0'));break;case _0x3c70c0(0x485):let _0x55dd6a=parseInt(_0x4dc82d||'0');_0x10c53e=_0x30f2f7[_0x3c70c0(0x488)](_0x30f2f7['length']-_0x55dd6a);break;case'toBrazilianNumberFormat':let _0xd70f2c=_0x22922c(_0x30f2f7),_0x245237=parseInt(_0x4dc82d||'0');_0x245237=Math['abs'](_0x245237),_0xd70f2c!==null?_0x10c53e=_0xd70f2c[_0x3c70c0(0x688)](_0x3c70c0(0x77f),{'minimumFractionDigits':_0x245237,'maximumFractionDigits':_0x245237}):(console[_0x3c70c0(0x365)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x30f2f7),_0x10c53e=null);break;case _0x3c70c0(0x63b):let _0x292c01=_0x22922c(_0x30f2f7);_0x292c01!==null?_0x10c53e=_0x292c01['toLocaleString'](_0x3c70c0(0x77f),{'style':_0x3c70c0(0x19c),'currency':_0x3c70c0(0x199)}):(console[_0x3c70c0(0x365)](_0x3c70c0(0x698)+_0x30f2f7),_0x10c53e=null);break;case'upperCase':_0x10c53e=_0x30f2f7['toUpperCase']();break;case _0x3c70c0(0x3e1):_0x10c53e=_0x30f2f7[_0x3c70c0(0x62f)]();break;case _0x3c70c0(0x2e4):_0x10c53e=_0x30f2f7[_0x3c70c0(0x308)]('\x20')[_0x3c70c0(0x48c)](_0x57cb0b=>_0x57cb0b[_0x3c70c0(0x6cb)](0x0)[_0x3c70c0(0x4f3)]()+_0x57cb0b[_0x3c70c0(0x488)](0x1)[_0x3c70c0(0x62f)]())[_0x3c70c0(0x4d1)]('\x20');break;case _0x3c70c0(0x4db):_0x10c53e=_0x30f2f7[_0x3c70c0(0x1ec)]();break;default:_0x10c53e=_0x30f2f7;}return _0x10c53e!==null?_0x10c53e[_0x3c70c0(0x2fb)]():null;}async['processvaredits'](_0x3c62b2,_0x1482b2){const _0x5372ad=a0_0x18e9af;try{let _0x30863f=_0x3c62b2['varedits']?.['filter'](_0x39262f=>_0x39262f['blockId']===_0x1482b2[_0x5372ad(0x550)]?.[_0x5372ad(0x2fb)]())||[],_0x2814d9=_0x1482b2[_0x5372ad(0x5ad)],_0x17111c=null,_0x5cbccc=[],_0x3c6cb3=_0x3c62b2[_0x5372ad(0x18b)]['realVariables'][_0x2814d9];_0x5cbccc[_0x5372ad(0x256)](_0x5372ad(0x47a)+_0x3c6cb3+'\x22');for(let _0x1dbbd5 of _0x30863f){_0x1dbbd5[_0x5372ad(0x607)]=_0x3c6cb3,_0x17111c=_0x1dbbd5[_0x5372ad(0x607)];let _0x2479f2;try{_0x2479f2=this[_0x5372ad(0x39c)](_0x3c62b2,_0x1dbbd5);}catch(_0x46cd4b){console[_0x5372ad(0x1b4)](_0x5372ad(0x115)+_0x46cd4b[_0x5372ad(0x668)]);continue;}if(_0x2479f2!==null){let _0x2b7a67=_0x5372ad(0x161)+_0x1dbbd5[_0x5372ad(0x401)]+'\x22',_0x4bec75=['toBRL',_0x5372ad(0x3bd),_0x5372ad(0x3e1),'capitalizedWords','trimmed'];_0x1dbbd5[_0x5372ad(0x401)]===_0x5372ad(0x706)||_0x1dbbd5[_0x5372ad(0x401)]===_0x5372ad(0x77c)?_0x2b7a67+=_0x5372ad(0x654)+_0x1dbbd5['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x1dbbd5[_0x5372ad(0x2e2)]+'\x22':!_0x4bec75[_0x5372ad(0x4d6)](_0x1dbbd5[_0x5372ad(0x401)])&&_0x1dbbd5[_0x5372ad(0x143)]!==null&&_0x1dbbd5[_0x5372ad(0x143)]!==void 0x0&&(_0x2b7a67+=',\x20valor\x20passado:\x20\x22'+_0x1dbbd5[_0x5372ad(0x143)]+'\x22'),_0x2b7a67+=_0x5372ad(0x428)+_0x2479f2+'.',_0x5cbccc[_0x5372ad(0x256)](_0x2b7a67);}_0x2479f2!==null&&(_0x3c6cb3=_0x2479f2);}if(_0x3c62b2['chatLog'][_0x5372ad(0x71c)]&&_0x1482b2['saveVariable']){_0x3c62b2[_0x5372ad(0x18b)]['realVariables'][_0x1482b2['saveVariable']]=_0x3c6cb3;let _0x3ea754={'variable':_0x1482b2[_0x5372ad(0x5ad)],'oldValue':_0x17111c,'newValue':_0x3c6cb3,'moreLogs':_0x5cbccc};try{this[_0x5372ad(0x1e0)](_0x3c62b2,_0x1482b2,_0x3ea754);}catch(_0x2dbe0a){console[_0x5372ad(0x1b4)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x2dbe0a[_0x5372ad(0x668)]);}}return _0x2814d9;}catch(_0x347e2c){return console[_0x5372ad(0x1b4)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x347e2c[_0x5372ad(0x668)]),null;}}async['processConditions'](_0x384e57,_0x29ba0f){const _0x34d564=a0_0x18e9af;try{let _0x1471c8=[],_0x180b76=_0x384e57['conditions'][_0x34d564(0x2f4)](_0x2064a8=>_0x2064a8[_0x34d564(0x3a4)]===_0x29ba0f[_0x34d564(0x550)]['toString']()),_0x5f48fe=null,_0x4eddc7=!0x1;for(let _0x58bf50 of _0x180b76){let _0x1041fc=this[_0x34d564(0x284)](_0x384e57,_0x58bf50);_0x1471c8[_0x34d564(0x256)](_0x34d564(0x684)+_0x58bf50[_0x34d564(0x607)]+_0x34d564(0x50a)+_0x58bf50[_0x34d564(0x61b)]+_0x34d564(0x19e)+_0x58bf50[_0x34d564(0x143)]+_0x34d564(0x737)+_0x1041fc),_0x5f48fe===null?_0x5f48fe=_0x1041fc:_0x58bf50[_0x34d564(0x505)]===_0x34d564(0x5e5)?(_0x5f48fe=_0x5f48fe&&_0x1041fc,_0x1041fc||(_0x4eddc7=!0x0)):_0x58bf50['OrAnd']==='or'&&(_0x4eddc7||(_0x5f48fe=_0x5f48fe||_0x1041fc));}_0x5f48fe===null&&(_0x5f48fe=!0x0);let _0x35ead4={'moreLogs':_0x1471c8};_0x384e57[_0x34d564(0x18b)][_0x34d564(0x203)]=_0x5f48fe,await this[_0x34d564(0x1e0)](_0x384e57,_0x29ba0f,_0x35ead4);}catch(_0x26c068){this[_0x34d564(0x232)][_0x34d564(0x1b4)](this['instanceName']+'\x20('+this[_0x34d564(0x777)][_0x34d564(0x207)]+_0x34d564(0x4be)+(_0x26c068 instanceof Error?_0x26c068[_0x34d564(0x668)]:JSON[_0x34d564(0x676)](_0x26c068,null,0x2)));}}[a0_0x18e9af(0x284)](_0x2e03d7,_0x2515d7){const _0x31ae79=a0_0x18e9af;let _0x23beb2=_0x2515d7[_0x31ae79(0x607)],_0x34c78d=_0x2515d7[_0x31ae79(0x143)];typeof _0x23beb2==_0x31ae79(0x571)&&(_0x23beb2=this[_0x31ae79(0x3ed)](_0x23beb2,_0x2e03d7[_0x31ae79(0x18b)]['realVariables'])??''),typeof _0x34c78d==_0x31ae79(0x571)&&(_0x34c78d=this['replaceVariables'](_0x34c78d,_0x2e03d7[_0x31ae79(0x18b)][_0x31ae79(0x71c)])??'');try{switch(_0x2515d7[_0x31ae79(0x61b)]){case _0x31ae79(0x4af):return _0x23beb2===_0x34c78d;case _0x31ae79(0x526):return _0x23beb2!==_0x34c78d;case'contains':return this[_0x31ae79(0x104)](_0x23beb2,_0x34c78d);case _0x31ae79(0x182):return!this['contains'](_0x23beb2,_0x34c78d);case _0x31ae79(0x350):return parseFloat(_0x23beb2)>parseFloat(_0x34c78d);case _0x31ae79(0x409):return parseFloat(_0x23beb2)<parseFloat(_0x34c78d);case _0x31ae79(0x38e):return _0x23beb2!=='';case _0x31ae79(0x3c6):return _0x23beb2==='';case _0x31ae79(0x467):return new RegExp(_0x34c78d)[_0x31ae79(0x54e)](_0x23beb2);case _0x31ae79(0x623):return!new RegExp(_0x34c78d)[_0x31ae79(0x54e)](_0x23beb2);default:return!0x1;}}catch(_0x41062b){return console[_0x31ae79(0x1b4)](_0x31ae79(0x634)+_0x41062b),!0x1;}}['contains'](_0x473af3,_0x5923de){const _0x5748b2=a0_0x18e9af;if(_0x473af3===_0x5923de&&/^\d+$/[_0x5748b2(0x54e)](_0x473af3))return!0x0;if(this['isListOfNumbers'](_0x473af3)&&/^\d+$/[_0x5748b2(0x54e)](_0x5923de)){let _0x8d7941=_0x473af3['split'](',')[_0x5748b2(0x48c)](_0x55d74c=>parseInt(_0x55d74c[_0x5748b2(0x1ec)]())),_0x540517=parseInt(_0x5923de);return _0x8d7941[_0x5748b2(0x4d6)](_0x540517);}return _0x473af3[_0x5748b2(0x4d6)](_0x5923de);}['isListOfNumbers'](_0x543766){return/^\d+(,\d+)*$/['test'](_0x543766);}[a0_0x18e9af(0x64a)](_0x3c103f){const _0x3edc22=a0_0x18e9af;let _0x3a6a03=!0x0,_0x37c536=null;for(let _0x47fbd6 of _0x3c103f){let _0x2de707=this[_0x3edc22(0x26d)](_0x47fbd6);if(_0x37c536==='or'&&_0x2de707){_0x3a6a03=!0x0;break;}if(_0x37c536===_0x3edc22(0x5e5)&&!_0x2de707){_0x3a6a03=!0x1;break;}_0x37c536=_0x47fbd6[_0x3edc22(0x505)];}return _0x3a6a03;}[a0_0x18e9af(0x26d)](_0x3a67a7){const _0xbe29b0=a0_0x18e9af;let _0x1167c7=_0x3a67a7[_0xbe29b0(0x607)],_0x616f2e=_0x3a67a7['secondValue'];try{switch(_0x3a67a7[_0xbe29b0(0x61b)]){case'equal':return String(_0x1167c7)===String(_0x616f2e);case _0xbe29b0(0x526):return String(_0x1167c7)!==String(_0x616f2e);case _0xbe29b0(0x104):return String(_0x1167c7)['includes'](String(_0x616f2e));case _0xbe29b0(0x182):return!String(_0x1167c7)[_0xbe29b0(0x4d6)](String(_0x616f2e));case _0xbe29b0(0x350):return parseFloat(String(_0x1167c7))>parseFloat(String(_0x616f2e));case _0xbe29b0(0x409):return parseFloat(String(_0x1167c7))<parseFloat(String(_0x616f2e));case'notEmpty':return String(_0x1167c7)!=='';case _0xbe29b0(0x3c6):return String(_0x1167c7)==='';case _0xbe29b0(0x467):return new RegExp(String(_0x616f2e))['test'](String(_0x1167c7));case _0xbe29b0(0x623):return!new RegExp(String(_0x616f2e))[_0xbe29b0(0x54e)](String(_0x1167c7));default:return!0x1;}}catch(_0x554264){return console[_0xbe29b0(0x1b4)](_0xbe29b0(0x634)+_0x554264),!0x1;}}async['saveTextReply'](_0x45380a,_0x226037){const _0x1ee017=a0_0x18e9af;if(this[_0x1ee017(0x232)]['verbose'](this[_0x1ee017(0x584)]+'\x20('+this[_0x1ee017(0x777)]['wuid']+_0x1ee017(0x400)),!_0x45380a||!_0x226037)return this[_0x1ee017(0x232)]['error'](this['instanceName']+'\x20('+this['instance'][_0x1ee017(0x207)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x2b8378=_0x226037[_0x1ee017(0x5ad)],_0x3973dc=_0x45380a[_0x1ee017(0x18b)]['lastReceivedMessage'][_0x1ee017(0x3da)]||_0x45380a[_0x1ee017(0x18b)][_0x1ee017(0x471)][_0x1ee017(0x44e)]||_0x45380a[_0x1ee017(0x18b)]['lastReceivedMessage']['vote'];try{_0x45380a[_0x1ee017(0x18b)][_0x1ee017(0x71c)]||(_0x45380a[_0x1ee017(0x18b)][_0x1ee017(0x71c)]={});let _0x327cb6=_0x45380a[_0x1ee017(0x18b)][_0x1ee017(0x71c)][_0x2b8378];_0x45380a[_0x1ee017(0x18b)][_0x1ee017(0x71c)][_0x2b8378]=_0x3973dc;let _0x3520a2={'variable':_0x2b8378,'oldValue':_0x327cb6,'newValue':_0x3973dc};this['updateConversation'](_0x45380a,_0x226037,_0x3520a2),this[_0x1ee017(0x232)][_0x1ee017(0x591)](this[_0x1ee017(0x584)]+'\x20('+this[_0x1ee017(0x777)][_0x1ee017(0x207)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x5c7735){let _0x2c0602={'error':!0x0,'errorLog':_0x5c7735['toString']()};return this[_0x1ee017(0x1e0)](_0x45380a,_0x226037,_0x2c0602),this[_0x1ee017(0x232)]['error'](this['instanceName']+'\x20('+this['instance'][_0x1ee017(0x207)]+_0x1ee017(0x666)+(_0x5c7735 instanceof Error?_0x5c7735[_0x1ee017(0x668)]:JSON['stringify'](_0x5c7735,null,0x2))),null;}}async[a0_0x18e9af(0x372)](_0x5bd26f,_0x4156f5){const _0x93ca46=a0_0x18e9af;if(this[_0x93ca46(0x232)][_0x93ca46(0x591)](this[_0x93ca46(0x584)]+'\x20('+this['instance'][_0x93ca46(0x207)]+_0x93ca46(0x6ce)),!_0x5bd26f||!_0x4156f5)return this[_0x93ca46(0x232)][_0x93ca46(0x1b4)](this[_0x93ca46(0x584)]+'\x20('+this[_0x93ca46(0x777)][_0x93ca46(0x207)]+_0x93ca46(0x719)),null;let _0x3aff2a=Date[_0x93ca46(0x60d)](),_0x1c8505=parseInt(_0x4156f5[_0x93ca46(0x15c)],0xa);if(isNaN(_0x1c8505))return this[_0x93ca46(0x232)][_0x93ca46(0x1b4)](this[_0x93ca46(0x584)]+'\x20('+this['instance'][_0x93ca46(0x207)]+_0x93ca46(0x215)),null;let _0x5d26cb={'newStoppedUntil':_0x3aff2a+_0x1c8505*0x3c*0x3e8};return await this[_0x93ca46(0x1e0)](_0x5bd26f,_0x4156f5,_0x5d26cb,!0x0),null;}async['processUazapi'](_0x2d786c,_0x56288d){const _0x3962c2=a0_0x18e9af;try{switch(_0x56288d['uazapi'][_0x3962c2(0x68f)]){case _0x3962c2(0x367):await this[_0x3962c2(0x730)](_0x2d786c,_0x56288d);break;case _0x3962c2(0x1e6):await this[_0x3962c2(0x2a1)](_0x2d786c,_0x56288d);break;case _0x3962c2(0x102):await this[_0x3962c2(0x23c)](_0x2d786c,_0x56288d);break;case'sendAudio':await this[_0x3962c2(0x45e)](_0x2d786c,_0x56288d);break;case _0x3962c2(0x147):await this['uazapiSendContact'](_0x2d786c,_0x56288d);break;case _0x3962c2(0x655):await this[_0x3962c2(0x4bf)](_0x2d786c,_0x56288d);break;case _0x3962c2(0x65c):await this['uazapiSendMenu'](_0x2d786c,_0x56288d);break;case _0x3962c2(0x414):await this[_0x3962c2(0x1a8)](_0x2d786c,_0x56288d);break;default:this[_0x3962c2(0x232)][_0x3962c2(0x1b4)](this[_0x3962c2(0x584)]+'\x20('+this['instance'][_0x3962c2(0x207)]+_0x3962c2(0x5d6)+_0x56288d[_0x3962c2(0x4bb)][_0x3962c2(0x68f)]);}}catch(_0x2ca392){this[_0x3962c2(0x232)][_0x3962c2(0x1b4)](this['instanceName']+'\x20('+this[_0x3962c2(0x777)][_0x3962c2(0x207)]+_0x3962c2(0x6cd)+(_0x2ca392 instanceof Error?_0x2ca392['message']:JSON[_0x3962c2(0x676)](_0x2ca392,null,0x2)));}}async[a0_0x18e9af(0x1e0)](_0x22cca5,_0x1ef26b,_0x471f16,_0x47a0c5=!0x1,_0x431a7a=!0x1){const _0x4809a4=a0_0x18e9af;_0x22cca5[_0x4809a4(0x18b)][_0x4809a4(0x6ee)]||(_0x22cca5[_0x4809a4(0x18b)]['blockLogs']=[]);let _0x1afe79=(_0x22cca5[_0x4809a4(0x18b)][_0x4809a4(0x6ee)]?.[_0x4809a4(0x15f)]??0x0)+0x1,_0x53b9ec=_0x22cca5[_0x4809a4(0x18b)][_0x4809a4(0x6ee)][_0x4809a4(0x2f4)](_0x436cbb=>String(_0x436cbb['blockId'])===String(_0x1ef26b[_0x4809a4(0x550)]))['length']+0x1,_0x536d40=_0x471f16?.[_0x4809a4(0x2ea)]??Date[_0x4809a4(0x60d)](),_0x10093d=_0x471f16?.[_0x4809a4(0x1b4)]?_0x471f16['errorLog']??_0x471f16[_0x4809a4(0x1b4)][_0x4809a4(0x2fb)]():void 0x0,_0x294a77={'onTime':_0x536d40,'blockId':_0x1ef26b[_0x4809a4(0x550)],'order':_0x1afe79,'activatedCount':_0x53b9ec,'error':_0x471f16?.[_0x4809a4(0x1b4)]??!0x1,'messageId':_0x471f16?.[_0x4809a4(0x2fe)],'apiResponse':_0x471f16?.['apiResponse'],'apiResponseString':_0x471f16?.['apiResponse']?JSON['stringify'](_0x471f16?.[_0x4809a4(0x5a4)]):void 0x0,'variable':_0x471f16?.[_0x4809a4(0x444)],'oldValue':_0x471f16?.[_0x4809a4(0x2c4)],'newValue':_0x471f16?.[_0x4809a4(0x26f)],'newStoppedUntil':_0x471f16?.[_0x4809a4(0x271)],'moreLogs':_0x471f16?.[_0x4809a4(0x386)],'errorLog':_0x10093d};if(_0x471f16['moreLogs']&&_0x471f16['moreLogs'][_0x4809a4(0x15f)]>0x0){let _0x459958=_0x471f16[_0x4809a4(0x386)][_0x4809a4(0x48c)](_0x269d2a=>this[_0x4809a4(0x139)](_0x269d2a,_0x22cca5['chatLog'][_0x4809a4(0x71c)]));_0x294a77['moreLogs']=_0x459958;}_0x22cca5[_0x4809a4(0x18b)][_0x4809a4(0x71c)]||(_0x22cca5[_0x4809a4(0x18b)]['realVariables']={}),_0x22cca5['chatLog']['realVariables'][_0x4809a4(0x51e)]=String(_0x53b9ec),_0x22cca5[_0x4809a4(0x18b)]['realVariables'][_0x4809a4(0x116)]=String(_0x471f16['error']??!0x1),_0x22cca5[_0x4809a4(0x18b)][_0x4809a4(0x6ee)][_0x4809a4(0x256)](_0x294a77),_0x22cca5['chatLog'][_0x4809a4(0x5b2)]=_0x1ef26b[_0x4809a4(0x550)]['toString'](),_0x22cca5['chatLog'][_0x4809a4(0x13a)]&&(_0x22cca5[_0x4809a4(0x18b)][_0x4809a4(0x13a)]=_0x22cca5[_0x4809a4(0x18b)][_0x4809a4(0x13a)]),_0x22cca5[_0x4809a4(0x18b)][_0x4809a4(0x471)]&&(_0x22cca5[_0x4809a4(0x18b)][_0x4809a4(0x471)]=_0x22cca5['chatLog'][_0x4809a4(0x471)]),_0x22cca5['chatLog'][_0x4809a4(0x203)]&&(_0x22cca5[_0x4809a4(0x18b)][_0x4809a4(0x203)]=_0x22cca5[_0x4809a4(0x18b)][_0x4809a4(0x203)]),_0x431a7a&&(_0x22cca5[_0x4809a4(0x522)]=_0x4809a4(0x364)),_0x47a0c5?this[_0x4809a4(0x751)](_0x22cca5):this['goNextblock'](_0x22cca5,_0x1ef26b);}[a0_0x18e9af(0x139)](_0x112a9d,_0x4a8fa9){const _0xacc36f=a0_0x18e9af;return _0x112a9d[_0xacc36f(0x23f)](/\{\{([^}]+)\}\}/g,(_0x27455,_0x1bb5fd)=>_0x4a8fa9[_0x1bb5fd]?'{{'+_0x1bb5fd+_0xacc36f(0x749)+_0x4a8fa9[_0x1bb5fd]+'\x22':'{{'+_0x1bb5fd+_0xacc36f(0x45b));}async[a0_0x18e9af(0x751)](_0x139a56){const _0x323989=a0_0x18e9af;try{let _0x31cdd2=Object['entries'](_0x139a56[_0x323989(0x18b)][_0x323989(0x71c)])[_0x323989(0x48c)](([_0x58e00a,_0x2df247])=>({'name':_0x58e00a,'value':_0x2df247})),_0x107e35={'status':_0x139a56[_0x323989(0x522)],'blocks':_0x139a56[_0x323989(0x637)],'waitingMenu_id':_0x139a56[_0x323989(0x6ae)],'waitingMenu_text':_0x139a56[_0x323989(0x66d)],'waitingMenu_replyOptions':_0x139a56[_0x323989(0x3a9)],'chatLog':{'lastBlockId':_0x139a56[_0x323989(0x18b)][_0x323989(0x5b2)],'lastSendMessage':_0x139a56[_0x323989(0x18b)][_0x323989(0x13a)],'lastReceivedMessage':_0x139a56[_0x323989(0x18b)][_0x323989(0x471)],'lastCondition':_0x139a56['chatLog'][_0x323989(0x203)],'chatVariables':_0x31cdd2,'realVariables':_0x139a56['chatLog'][_0x323989(0x71c)],'blockLogs':_0x139a56['chatLog'][_0x323989(0x6ee)]}},_0x11ce3c=await this[_0x323989(0x305)]['flowConversation']['updateOne'](_0x139a56[_0x323989(0x550)],_0x107e35,this[_0x323989(0x777)]['wuid']);if(_0x11ce3c){this['logger']['verbose'](this[_0x323989(0x584)]+'\x20('+this['instance'][_0x323989(0x207)]+_0x323989(0x1f6)+_0x11ce3c['_id']);try{let _0x38d1dc=[_0x323989(0x40a),_0x323989(0x28a),'email',_0x323989(0x2ec),_0x323989(0x522),_0x323989(0x2a6),'responsavelid',_0x323989(0x22a),_0x323989(0x286)];if(!this[_0x323989(0x3a5)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x10223e=this[_0x323989(0x3a5)]?.[_0x323989(0x5ea)][_0x323989(0x48c)](_0x50b280=>_0x50b280[_0x323989(0x10b)]),_0x756d0d={};Object[_0x323989(0x235)](_0x139a56[_0x323989(0x18b)][_0x323989(0x71c)])[_0x323989(0x6d6)](([_0x1f41bc,_0x416042])=>{const _0x4591dc=_0x323989;_0x38d1dc[_0x4591dc(0x4d6)](_0x1f41bc)&&(_0x1f41bc===_0x4591dc(0x22a)&&typeof _0x416042==_0x4591dc(0x571)?_0x756d0d[_0x1f41bc]=_0x416042[_0x4591dc(0x308)](',')[_0x4591dc(0x48c)](_0x4500ac=>_0x4500ac[_0x4591dc(0x1ec)]())[_0x4591dc(0x2f4)](_0x81d17e=>_0x81d17e!==''):_0x1f41bc===_0x4591dc(0x286)&&typeof _0x416042==_0x4591dc(0x571)?_0x756d0d[_0x1f41bc]=_0x416042[_0x4591dc(0x308)](',')['map'](_0x49080e=>_0x49080e[_0x4591dc(0x1ec)]())[_0x4591dc(0x2f4)](_0x1f5ed1=>_0x1f5ed1!==''):_0x756d0d[_0x1f41bc]=_0x416042);});let _0x534f38=_0x139a56[_0x323989(0x18b)][_0x323989(0x6ee)][_0x139a56[_0x323989(0x18b)][_0x323989(0x6ee)][_0x323989(0x15f)]-0x1];if(_0x534f38){let _0x2c6669=_0x534f38[_0x323989(0x271)];_0x2c6669!==void 0x0&&(_0x756d0d[_0x323989(0x39d)]=_0x2c6669[_0x323989(0x2fb)]());}let _0x4d518e=_0x31cdd2['filter'](_0x31110f=>_0x10223e['includes'](_0x31110f[_0x323989(0x10b)]));this[_0x323989(0x232)][_0x323989(0x591)](this[_0x323989(0x584)]+'\x20('+this['instance']['wuid']+'):\x20leadInfoVariables'),this['logger'][_0x323989(0x591)](_0x756d0d),this[_0x323989(0x232)]['verbose'](this[_0x323989(0x584)]+'\x20('+this['instance'][_0x323989(0x207)]+'):\x20customFieldVariables'),this[_0x323989(0x232)]['verbose'](_0x4d518e);let _0x5acd6c=_0x4d518e[_0x323989(0x48c)](_0x129acc=>{const _0x438d7b=_0x323989;let _0x582fc9=this[_0x438d7b(0x3a5)]?.['customFields'][_0x438d7b(0x493)](_0x2eb4fa=>_0x2eb4fa[_0x438d7b(0x10b)]===_0x129acc[_0x438d7b(0x10b)]);if(!_0x582fc9)throw new Error(_0x438d7b(0x357)+_0x129acc[_0x438d7b(0x10b)]);return{'_id':_0x582fc9[_0x438d7b(0x550)],'value':_0x129acc[_0x438d7b(0x582)]};});this['logger'][_0x323989(0x591)](this[_0x323989(0x584)]+'\x20('+this[_0x323989(0x777)][_0x323989(0x207)]+_0x323989(0x72b)),this[_0x323989(0x232)][_0x323989(0x591)](_0x5acd6c),await this[_0x323989(0x168)](_0x139a56[_0x323989(0x3fc)],_0x756d0d,_0x5acd6c);}catch(_0x2e6aae){this[_0x323989(0x232)][_0x323989(0x1b4)](this[_0x323989(0x584)]+'\x20('+this[_0x323989(0x777)]['wuid']+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x2e6aae instanceof Error?_0x2e6aae['message']:JSON[_0x323989(0x676)](_0x2e6aae,null,0x2)));}}else this['logger'][_0x323989(0x1b4)](this[_0x323989(0x584)]+'\x20('+this['instance'][_0x323989(0x207)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x3ece82){this[_0x323989(0x232)]['error'](this[_0x323989(0x584)]+'\x20('+this['instance'][_0x323989(0x207)]+_0x323989(0x144)+(_0x3ece82 instanceof Error?_0x3ece82[_0x323989(0x668)]:JSON[_0x323989(0x676)](_0x3ece82,null,0x2)));}}async['saveChatVariables'](_0x78717,_0x5d0a8c,_0x216c8c){const _0x42ba95=a0_0x18e9af;try{let _0x31c975={'leadInfo.leadnome':_0x5d0a8c[_0x42ba95(0x40a)],'leadInfo.nomecompleto':_0x5d0a8c[_0x42ba95(0x28a)],'leadInfo.email':_0x5d0a8c['email'],'leadInfo.cpf':_0x5d0a8c['cpf'],'leadInfo.status':_0x5d0a8c[_0x42ba95(0x522)],'leadInfo.notas':_0x5d0a8c[_0x42ba95(0x2a6)],'leadInfo.responsavelid':_0x5d0a8c['responsavelid'],'leadInfo.tags':_0x5d0a8c[_0x42ba95(0x22a)],'leadInfo.etiquetas':_0x5d0a8c[_0x42ba95(0x286)],'leadInfo.customFields':_0x216c8c},_0x3bb68a=await this[_0x42ba95(0x305)][_0x42ba95(0x25a)][_0x42ba95(0x238)]({'where':{'_id':_0x78717}},this[_0x42ba95(0x777)][_0x42ba95(0x207)]),_0x4348ca=new Set(_0x3bb68a['leadInfo'][_0x42ba95(0x286)]||[]),_0x508538=new Set(_0x5d0a8c[_0x42ba95(0x286)]||[]),_0x573709=await this[_0x42ba95(0x305)][_0x42ba95(0x4d2)]['find']({'where':{}},this[_0x42ba95(0x777)]['wuid']),_0x1a66d6=new Set(_0x573709[_0x42ba95(0x48c)](_0x265813=>_0x265813['_id'])),_0x840453=[..._0x508538][_0x42ba95(0x2f4)](_0x5b01d8=>!_0x4348ca[_0x42ba95(0x2da)](_0x5b01d8)&&_0x1a66d6[_0x42ba95(0x2da)](_0x5b01d8)),_0x5c27c0=[..._0x4348ca]['filter'](_0x15e013=>!_0x508538[_0x42ba95(0x2da)](_0x15e013));for(let _0x1474a6 of _0x840453)await this['AddChatLabel'](_0x1474a6,_0x3bb68a[_0x42ba95(0x550)]),_0x4348ca[_0x42ba95(0x527)](_0x1474a6);for(let _0x552832 of _0x5c27c0)await this['RemoveChatLabel'](_0x552832,_0x3bb68a[_0x42ba95(0x550)]),_0x4348ca['delete'](_0x552832);if(_0x42ba95(0x39d)in _0x5d0a8c){let _0x58c881=_0x5d0a8c[_0x42ba95(0x39d)];_0x31c975[_0x42ba95(0x4f8)]=_0x58c881?Number(_0x58c881):null;}let _0x56b898=await this['repository']['chat']['updateOne']({'where':{'_id':_0x78717}},_0x31c975,this[_0x42ba95(0x777)]['wuid']);_0x56b898?(this[_0x42ba95(0x232)][_0x42ba95(0x591)](this[_0x42ba95(0x584)]+'\x20('+this['instance'][_0x42ba95(0x207)]+_0x42ba95(0x4b9)+_0x56b898[_0x42ba95(0x550)]),q(this[_0x42ba95(0x584)],_0x42ba95(0x535),{'chat':_0x56b898})):this['logger'][_0x42ba95(0x1b4)](this[_0x42ba95(0x584)]+'\x20('+this[_0x42ba95(0x777)][_0x42ba95(0x207)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x152495){this[_0x42ba95(0x232)][_0x42ba95(0x1b4)](this[_0x42ba95(0x584)]+'\x20('+this[_0x42ba95(0x777)][_0x42ba95(0x207)]+_0x42ba95(0x675)+(_0x152495 instanceof Error?_0x152495[_0x42ba95(0x668)]:JSON[_0x42ba95(0x676)](_0x152495,null,0x2)));}}async['updateStopChat'](_0xc59bc4,_0x27f9c0){const _0x3dd8f9=a0_0x18e9af;this[_0x3dd8f9(0x232)]['verbose'](this[_0x3dd8f9(0x584)]+'\x20('+this[_0x3dd8f9(0x777)]['wuid']+'):\x20atualização\x20chat:\x20'+_0x27f9c0);try{let _0xaa46e3=await this[_0x3dd8f9(0x305)][_0x3dd8f9(0x25a)]['updateOne']({'where':{'_id':_0xc59bc4[_0x3dd8f9(0x3fc)]}},{'leadInfo.desativadoFluxoAte':_0x27f9c0},this[_0x3dd8f9(0x777)][_0x3dd8f9(0x207)]);this[_0x3dd8f9(0x232)][_0x3dd8f9(0x591)](this[_0x3dd8f9(0x584)]+'\x20('+this[_0x3dd8f9(0x777)][_0x3dd8f9(0x207)]+_0x3dd8f9(0x50f)+_0xc59bc4[_0x3dd8f9(0x550)]),this['logger']['verbose'](this[_0x3dd8f9(0x584)]+'\x20('+this['instance'][_0x3dd8f9(0x207)]+_0x3dd8f9(0x4a8)+JSON[_0x3dd8f9(0x676)](_0xaa46e3,null,0x2)),_0xaa46e3&&q(this[_0x3dd8f9(0x584)],_0x3dd8f9(0x535),{'chat':_0xaa46e3});}catch(_0x5df8f9){this[_0x3dd8f9(0x232)][_0x3dd8f9(0x1b4)](this[_0x3dd8f9(0x584)]+'\x20('+this['instance'][_0x3dd8f9(0x207)]+_0x3dd8f9(0x710)+(_0x5df8f9 instanceof Error?_0x5df8f9['message']:JSON[_0x3dd8f9(0x676)](_0x5df8f9,null,0x2)));}}async[a0_0x18e9af(0x430)](_0x162066){const _0x23566c=a0_0x18e9af;try{this['logger']['verbose'](this[_0x23566c(0x584)]+'\x20('+this[_0x23566c(0x777)]['wuid']+_0x23566c(0x4b2));let _0x43e4c8=_0x162066[_0x23566c(0x23f)](/\D/g,''),_0x338abd=await this[_0x23566c(0x305)][_0x23566c(0x603)]['findOne']({'where':{'testingWith':_0x43e4c8}},this[_0x23566c(0x777)][_0x23566c(0x207)]);return _0x338abd||(this[_0x23566c(0x232)][_0x23566c(0x591)](this['instanceName']+'\x20('+this[_0x23566c(0x777)][_0x23566c(0x207)]+_0x23566c(0x1f0)),_0x338abd=await this[_0x23566c(0x305)][_0x23566c(0x603)][_0x23566c(0x238)]({'where':{'default':!0x0}},this[_0x23566c(0x777)][_0x23566c(0x207)])),_0x338abd||(this[_0x23566c(0x232)][_0x23566c(0x591)](this[_0x23566c(0x584)]+'\x20('+this[_0x23566c(0x777)][_0x23566c(0x207)]+_0x23566c(0x2a9)),null);}catch(_0x131b63){return this[_0x23566c(0x232)][_0x23566c(0x1b4)](this[_0x23566c(0x584)]+'\x20('+this[_0x23566c(0x777)][_0x23566c(0x207)]+_0x23566c(0x292)+(_0x131b63 instanceof Error?_0x131b63[_0x23566c(0x668)]:JSON[_0x23566c(0x676)](_0x131b63,null,0x2))),null;}}async[a0_0x18e9af(0x416)](_0x1cf0ad,_0xfe14a2){const _0x5e9584=a0_0x18e9af;try{let _0x3164de=!!_0xfe14a2['vote'],_0x1a11ee=_0xfe14a2['quoted'],_0x2ae604=null;if(this[_0x5e9584(0x232)][_0x5e9584(0x591)](this['instanceName']+'\x20('+this[_0x5e9584(0x777)][_0x5e9584(0x207)]+'):\x20isVote:\x20'+_0x3164de+_0x5e9584(0x74f)+_0x1a11ee),_0x3164de){this['logger'][_0x5e9584(0x591)](this[_0x5e9584(0x584)]+'\x20('+this[_0x5e9584(0x777)]['wuid']+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x224efe={'where':{'remoteJid':_0x1cf0ad,'waitingMenu_id':_0x1a11ee}};if(_0x2ae604=await this[_0x5e9584(0x305)][_0x5e9584(0x3f7)][_0x5e9584(0x238)](_0x224efe,this[_0x5e9584(0x777)][_0x5e9584(0x207)]),!_0x2ae604)return this[_0x5e9584(0x232)]['verbose'](this['instanceName']+'\x20('+this[_0x5e9584(0x777)][_0x5e9584(0x207)]+_0x5e9584(0x4f5)),null;let _0x437f42=Date[_0x5e9584(0x60d)](),_0x4e83ef=_0x2ae604?.[_0x5e9584(0x159)]||0x0,_0x38bb76=_0x437f42-_0x4e83ef*0x3c*0x3e8;if(_0x2ae604['lastInteraction']<_0x38bb76){this[_0x5e9584(0x232)][_0x5e9584(0x591)](this[_0x5e9584(0x584)]+'\x20('+this['instance']['wuid']+_0x5e9584(0x754));let _0x230fde={'number':_0x2ae604[_0x5e9584(0x3fc)],'options':{'delay':0x0},'textMessage':{'text':_0x2ae604[_0x5e9584(0x4a4)]}};await this[_0x5e9584(0x3ef)](_0x230fde);let _0x3d7616={'status':_0x5e9584(0x364),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository']['flowConversation'][_0x5e9584(0x151)](_0x2ae604[_0x5e9584(0x550)],_0x3d7616,this['instance'][_0x5e9584(0x207)]),null;}return _0x2ae604[_0x5e9584(0x708)]=Date[_0x5e9584(0x60d)](),_0x2ae604['chatLog'][_0x5e9584(0x471)]=_0xfe14a2,_0x2ae604;}else{this[_0x5e9584(0x232)][_0x5e9584(0x591)](this[_0x5e9584(0x584)]+'\x20('+this[_0x5e9584(0x777)][_0x5e9584(0x207)]+_0x5e9584(0x208)+this[_0x5e9584(0x777)][_0x5e9584(0x207)]+_0x5e9584(0x763)),this[_0x5e9584(0x232)][_0x5e9584(0x591)](this[_0x5e9584(0x584)]+'\x20('+this['instance']['wuid']+_0x5e9584(0x12a));let _0x55e061={'where':{'remoteJid':_0x1cf0ad,'status':_0x5e9584(0x446)}};if(_0x2ae604=await this[_0x5e9584(0x305)][_0x5e9584(0x3f7)][_0x5e9584(0x238)](_0x55e061,this['instance']['wuid']),!_0x2ae604){let _0x15c7e1=await this[_0x5e9584(0x430)](_0x1cf0ad);if(_0x15c7e1&&(_0x2ae604=await this[_0x5e9584(0x6d7)](_0x15c7e1,_0xfe14a2[_0x5e9584(0x66a)],_0xfe14a2)),!_0x2ae604)return null;}let _0x344ef2=Date[_0x5e9584(0x60d)](),_0x3e6548=_0x2ae604?.[_0x5e9584(0x159)]||0x0,_0x30983d=_0x344ef2-_0x3e6548*0x3c*0x3e8;if(this[_0x5e9584(0x232)][_0x5e9584(0x591)](this[_0x5e9584(0x584)]+'\x20('+this['instance'][_0x5e9584(0x207)]+'):\x20Current\x20Time:\x20'+_0x344ef2+_0x5e9584(0x635)+_0x3e6548+_0x5e9584(0x74b)+_0x30983d),this['logger'][_0x5e9584(0x591)](this[_0x5e9584(0x584)]+'\x20('+this[_0x5e9584(0x777)][_0x5e9584(0x207)]+_0x5e9584(0x38a)),this['logger']['verbose'](this[_0x5e9584(0x584)]+'\x20('+this[_0x5e9584(0x777)][_0x5e9584(0x207)]+_0x5e9584(0x748)+_0x2ae604['lastInteraction']),this[_0x5e9584(0x232)][_0x5e9584(0x591)](this['instanceName']+'\x20('+this[_0x5e9584(0x777)]['wuid']+_0x5e9584(0x3d1)+_0x30983d),_0x2ae604[_0x5e9584(0x708)]<_0x30983d){this['logger'][_0x5e9584(0x591)](this[_0x5e9584(0x584)]+'\x20('+this[_0x5e9584(0x777)][_0x5e9584(0x207)]+_0x5e9584(0x328));let _0x242882=await this[_0x5e9584(0x430)](_0x1cf0ad);if(_0x242882===null)return null;_0x2ae604&&await this[_0x5e9584(0x305)][_0x5e9584(0x3f7)][_0x5e9584(0x151)](_0x2ae604[_0x5e9584(0x550)],{'status':_0x5e9584(0x364)},this[_0x5e9584(0x777)][_0x5e9584(0x207)]),_0x2ae604=await this[_0x5e9584(0x6d7)](_0x242882,_0xfe14a2[_0x5e9584(0x66a)],_0xfe14a2);}return _0x2ae604[_0x5e9584(0x708)]=_0x344ef2,_0x2ae604[_0x5e9584(0x18b)][_0x5e9584(0x471)]=_0xfe14a2,_0x2ae604;}}catch(_0x41f3ed){return this[_0x5e9584(0x232)][_0x5e9584(0x1b4)](this[_0x5e9584(0x584)]+'\x20('+this[_0x5e9584(0x777)]['wuid']+_0x5e9584(0x321)+(_0x41f3ed instanceof Error?_0x41f3ed['message']:JSON['stringify'](_0x41f3ed,null,0x2))),null;}}async[a0_0x18e9af(0x6d7)](_0x3a89b1,_0x44395d,_0x479776){const _0x400784=a0_0x18e9af;this[_0x400784(0x232)][_0x400784(0x591)](this[_0x400784(0x584)]+'\x20('+this[_0x400784(0x777)]['wuid']+_0x400784(0x32b));try{let _0x4fc20e=require(_0x400784(0x3c2))[_0x400784(0x711)],_0x5414e3=Date[_0x400784(0x60d)](),_0x2bbecd=_0x400784(0x553),_0x2e2833=_0x44395d['fromMe']?null:_0x479776,_0x45204b=_0x44395d[_0x400784(0x18a)]?_0x479776:null,_0x5753d6=_0x44395d[_0x400784(0x3fc)];await this[_0x400784(0x312)](_0x5753d6);let _0x46c6c6={..._0x3a89b1,'chatLog':null},_0x52b039=await this[_0x400784(0x283)](_0x46c6c6[_0x400784(0x77e)]),_0xa955d3=await this['getVariablesChat'](_0x5753d6),_0x44dedf={..._0x52b039,..._0xa955d3,'_remoteJid':_0x5753d6},_0x1285e0={'lastReceivedMessage':_0x2e2833,'lastSendMessage':_0x45204b,'lastBlockId':_0x2bbecd,'lastCondition':!0x0,'realVariables':_0x44dedf};_0x46c6c6[_0x400784(0x18b)]=_0x1285e0,delete _0x46c6c6[_0x400784(0x550)],_0x46c6c6['_id']=new _0x4fc20e(),_0x46c6c6[_0x400784(0x708)]=_0x5414e3,_0x46c6c6[_0x400784(0x522)]=_0x400784(0x446),_0x46c6c6[_0x400784(0x3fc)]=_0x5753d6;let _0x51a03c=await this[_0x400784(0x305)][_0x400784(0x3f7)]['updateOne'](_0x46c6c6[_0x400784(0x550)],_0x46c6c6,this[_0x400784(0x777)][_0x400784(0x207)]);return this[_0x400784(0x232)][_0x400784(0x591)](this[_0x400784(0x584)]+'\x20('+this[_0x400784(0x777)][_0x400784(0x207)]+_0x400784(0x178)),_0x51a03c?_0x46c6c6:null;}catch(_0x3fe26e){return this[_0x400784(0x232)][_0x400784(0x1b4)](this[_0x400784(0x584)]+'\x20('+this[_0x400784(0x777)][_0x400784(0x207)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x3fe26e instanceof Error?_0x3fe26e['message']:JSON['stringify'](_0x3fe26e,null,0x2))),_0x3fe26e;}}async[a0_0x18e9af(0x730)](_0x5a1f4c,_0xe9dcb4){const _0x269c9a=a0_0x18e9af;let _0x3ba32b=_0x5a1f4c[_0x269c9a(0x3fc)];_0xe9dcb4[_0x269c9a(0x4bb)]['remoteJid']&&_0xe9dcb4[_0x269c9a(0x4bb)][_0x269c9a(0x3fc)][_0x269c9a(0x1ec)]()!==''&&(_0x3ba32b=_0xe9dcb4[_0x269c9a(0x4bb)][_0x269c9a(0x3fc)][_0x269c9a(0x1ec)]()),this[_0x269c9a(0x232)][_0x269c9a(0x591)](this['instanceName']+'\x20('+this['instance'][_0x269c9a(0x207)]+_0x269c9a(0x145));let _0x2a9f5b={'number':_0x3ba32b,'options':{'delay':_0xe9dcb4[_0x269c9a(0x4bb)][_0x269c9a(0x762)]},'textMessage':{'text':_0xe9dcb4['uazapi'][_0x269c9a(0x3da)]}};try{let _0x248429=await this[_0x269c9a(0x3ef)](_0x2a9f5b);if(_0x248429){let _0x465749={'_id':_0x248429[_0x269c9a(0x66a)]['id'],'_fromMe':_0x248429[_0x269c9a(0x66a)][_0x269c9a(0x18a)],'_remoteJid':_0x248429[_0x269c9a(0x66a)][_0x269c9a(0x3fc)]},_0x44847e=(0x0,m[_0x269c9a(0x31f)])(_0x248429[_0x269c9a(0x668)]),_0x3d5ea9=(0x0,m[_0x269c9a(0x6db)])(_0x44847e);_0x5a1f4c[_0x269c9a(0x18b)][_0x269c9a(0x5b2)]=_0xe9dcb4[_0x269c9a(0x550)][_0x269c9a(0x2fb)]();let {message_normalized:_0x41fb43}=this[_0x269c9a(0x3c3)](_0x44847e,_0x3d5ea9,null);_0x5a1f4c[_0x269c9a(0x18b)][_0x269c9a(0x13a)]=await _0x41fb43;let _0x419053={'messageId':_0x248429[_0x269c9a(0x66a)]['id']},_0x30d858=_0x5a1f4c[_0x269c9a(0x18b)]['realVariables'];Object['assign'](_0x30d858,_0x465749),_0x5a1f4c[_0x269c9a(0x18b)][_0x269c9a(0x71c)]=_0x30d858,this[_0x269c9a(0x1e0)](_0x5a1f4c,_0xe9dcb4,_0x419053);}else{let _0x472e09={'error':!0x0};this[_0x269c9a(0x1e0)](_0x5a1f4c,_0xe9dcb4,_0x472e09),this[_0x269c9a(0x232)]['error'](this[_0x269c9a(0x584)]+'\x20('+this[_0x269c9a(0x777)]['wuid']+_0x269c9a(0x111));}}catch(_0x4f58fe){let _0x1ca58f={'error':!0x0,'errorLog':_0x4f58fe[_0x269c9a(0x2fb)]()};this[_0x269c9a(0x1e0)](_0x5a1f4c,_0xe9dcb4,_0x1ca58f),this[_0x269c9a(0x232)][_0x269c9a(0x1b4)](this[_0x269c9a(0x584)]+'\x20('+this[_0x269c9a(0x777)][_0x269c9a(0x207)]+_0x269c9a(0x5d1)+(_0x4f58fe instanceof Error?_0x4f58fe[_0x269c9a(0x668)]:JSON['stringify'](_0x4f58fe,null,0x2)));}}async[a0_0x18e9af(0x2a1)](_0x386331,_0x89803){const _0x555843=a0_0x18e9af;let _0x252305=_0x386331[_0x555843(0x3fc)];_0x89803[_0x555843(0x4bb)][_0x555843(0x3fc)]&&_0x89803[_0x555843(0x4bb)][_0x555843(0x3fc)][_0x555843(0x1ec)]()!==''&&(_0x252305=_0x89803[_0x555843(0x4bb)][_0x555843(0x3fc)][_0x555843(0x1ec)]()),this[_0x555843(0x232)]['verbose'](this['instanceName']+'\x20('+this[_0x555843(0x777)][_0x555843(0x207)]+_0x555843(0x4d7));let _0x39ef16={'number':_0x252305,'options':{'delay':_0x89803[_0x555843(0x4bb)][_0x555843(0x762)]},'mediaMessage':{'mediatype':_0x89803[_0x555843(0x4bb)][_0x555843(0x117)],'caption':_0x89803[_0x555843(0x4bb)][_0x555843(0x44e)],'media':_0x89803[_0x555843(0x4bb)][_0x555843(0x219)],'fileName':_0x89803[_0x555843(0x4bb)]['fileName']}};try{let _0xc96b23=await this[_0x555843(0x2e5)](_0x39ef16);if(_0xc96b23){let _0x2fff97={'_id':_0xc96b23[_0x555843(0x66a)]['id'],'_fromMe':_0xc96b23[_0x555843(0x66a)][_0x555843(0x18a)],'_remoteJid':_0xc96b23[_0x555843(0x66a)][_0x555843(0x3fc)]},_0x3fab43=(0x0,m[_0x555843(0x31f)])(_0xc96b23['message']),_0x42a35d=(0x0,m['getContentType'])(_0x3fab43);_0x386331[_0x555843(0x18b)][_0x555843(0x5b2)]=_0x89803[_0x555843(0x550)]['toString']();let {message_normalized:_0x57d8df}=this['normalizeMessage'](_0x3fab43,_0x42a35d,null);_0x386331[_0x555843(0x18b)][_0x555843(0x13a)]=await _0x57d8df;let _0x5ea0d0={'messageId':_0xc96b23[_0x555843(0x66a)]['id']},_0x4eb8cd=_0x386331[_0x555843(0x18b)][_0x555843(0x71c)];Object['assign'](_0x4eb8cd,_0x2fff97),_0x386331['chatLog'][_0x555843(0x71c)]=_0x4eb8cd,this[_0x555843(0x1e0)](_0x386331,_0x89803,_0x5ea0d0);}else{let _0x2cf617={'error':!0x0};this[_0x555843(0x1e0)](_0x386331,_0x89803,_0x2cf617),this[_0x555843(0x232)][_0x555843(0x1b4)](this[_0x555843(0x584)]+'\x20('+this['instance'][_0x555843(0x207)]+_0x555843(0x13d));}}catch(_0x5842fc){let _0x57b143={'error':!0x0,'errorLog':_0x5842fc[_0x555843(0x2fb)]()};this[_0x555843(0x1e0)](_0x386331,_0x89803,_0x57b143),this[_0x555843(0x232)][_0x555843(0x1b4)](this[_0x555843(0x584)]+'\x20('+this[_0x555843(0x777)]['wuid']+_0x555843(0x196)+(_0x5842fc instanceof Error?_0x5842fc[_0x555843(0x668)]:JSON[_0x555843(0x676)](_0x5842fc,null,0x2)));}}async[a0_0x18e9af(0x23c)](_0x128a40,_0x4f48c7){const _0x4ba498=a0_0x18e9af;let _0x530c70=_0x128a40[_0x4ba498(0x3fc)];_0x4f48c7['uazapi'][_0x4ba498(0x3fc)]&&_0x4f48c7[_0x4ba498(0x4bb)][_0x4ba498(0x3fc)]['trim']()!==''&&(_0x530c70=_0x4f48c7[_0x4ba498(0x4bb)][_0x4ba498(0x3fc)][_0x4ba498(0x1ec)]()),this['logger'][_0x4ba498(0x591)](this['instanceName']+'\x20('+this[_0x4ba498(0x777)][_0x4ba498(0x207)]+_0x4ba498(0x274));let _0x552501={'number':_0x530c70,'options':{'delay':_0x4f48c7['uazapi']['delay']},'locationMessage':{'name':_0x4f48c7[_0x4ba498(0x4bb)][_0x4ba498(0x10b)],'address':_0x4f48c7['uazapi']['address'],'latitude':_0x4f48c7[_0x4ba498(0x4bb)][_0x4ba498(0x653)],'longitude':_0x4f48c7[_0x4ba498(0x4bb)]['longitude']}};try{let _0x18cb24=await this['locationMessage'](_0x552501);if(_0x18cb24){let _0x28d499={'_id':_0x18cb24[_0x4ba498(0x66a)]['id'],'_fromMe':_0x18cb24[_0x4ba498(0x66a)][_0x4ba498(0x18a)],'_remoteJid':_0x18cb24[_0x4ba498(0x66a)][_0x4ba498(0x3fc)]},_0x46ed48=(0x0,m[_0x4ba498(0x31f)])(_0x18cb24[_0x4ba498(0x668)]),_0x178787=(0x0,m[_0x4ba498(0x6db)])(_0x46ed48);_0x128a40[_0x4ba498(0x18b)][_0x4ba498(0x5b2)]=_0x4f48c7[_0x4ba498(0x550)][_0x4ba498(0x2fb)]();let {message_normalized:_0x209aef}=this['normalizeMessage'](_0x46ed48,_0x178787,null);_0x128a40[_0x4ba498(0x18b)]['lastSendMessage']=await _0x209aef;let _0x1390b1={'messageId':_0x18cb24[_0x4ba498(0x66a)]['id']},_0x5a88a9=_0x128a40[_0x4ba498(0x18b)]['realVariables'];Object[_0x4ba498(0x735)](_0x5a88a9,_0x28d499),_0x128a40[_0x4ba498(0x18b)][_0x4ba498(0x71c)]=_0x5a88a9,this[_0x4ba498(0x1e0)](_0x128a40,_0x4f48c7,_0x1390b1);}else{let _0x3ee88d={'error':!0x0};this[_0x4ba498(0x1e0)](_0x128a40,_0x4f48c7,_0x3ee88d),this['logger'][_0x4ba498(0x1b4)](this[_0x4ba498(0x584)]+'\x20('+this['instance'][_0x4ba498(0x207)]+_0x4ba498(0x3eb));}}catch(_0x4907cf){let _0x545b07={'error':!0x0,'errorLog':_0x4907cf['toString']()};this[_0x4ba498(0x1e0)](_0x128a40,_0x4f48c7,_0x545b07),this[_0x4ba498(0x232)][_0x4ba498(0x1b4)](this[_0x4ba498(0x584)]+'\x20('+this[_0x4ba498(0x777)]['wuid']+_0x4ba498(0x4f6)+(_0x4907cf instanceof Error?_0x4907cf[_0x4ba498(0x668)]:JSON[_0x4ba498(0x676)](_0x4907cf,null,0x2)));}}async[a0_0x18e9af(0x45e)](_0x36288f,_0x1fa7bf){const _0x19647d=a0_0x18e9af;let _0x31f0a1=_0x36288f[_0x19647d(0x3fc)];_0x1fa7bf[_0x19647d(0x4bb)][_0x19647d(0x3fc)]&&_0x1fa7bf[_0x19647d(0x4bb)][_0x19647d(0x3fc)][_0x19647d(0x1ec)]()!==''&&(_0x31f0a1=_0x1fa7bf[_0x19647d(0x4bb)][_0x19647d(0x3fc)][_0x19647d(0x1ec)]()),this[_0x19647d(0x232)][_0x19647d(0x591)](this[_0x19647d(0x584)]+'\x20('+this['instance'][_0x19647d(0x207)]+_0x19647d(0x3a7));let _0x2373bd={'number':_0x31f0a1,'options':{'delay':_0x1fa7bf[_0x19647d(0x4bb)][_0x19647d(0x762)]},'audioMessage':{'audio':_0x1fa7bf['uazapi'][_0x19647d(0x236)]}};try{let _0x27a474=await this[_0x19647d(0x268)](_0x2373bd);if(_0x27a474){let _0x19f669={'_id':_0x27a474[_0x19647d(0x66a)]['id'],'_fromMe':_0x27a474[_0x19647d(0x66a)]['fromMe'],'_remoteJid':_0x27a474[_0x19647d(0x66a)][_0x19647d(0x3fc)]},_0x35336d=(0x0,m[_0x19647d(0x31f)])(_0x27a474[_0x19647d(0x668)]),_0x405d91=(0x0,m[_0x19647d(0x6db)])(_0x35336d);_0x36288f[_0x19647d(0x18b)][_0x19647d(0x5b2)]=_0x1fa7bf[_0x19647d(0x550)][_0x19647d(0x2fb)]();let {message_normalized:_0x37ccb3}=this['normalizeMessage'](_0x35336d,_0x405d91,null);_0x36288f[_0x19647d(0x18b)][_0x19647d(0x13a)]=await _0x37ccb3;let _0x4b701c={'messageId':_0x27a474['key']['id']},_0x97f894=_0x36288f[_0x19647d(0x18b)][_0x19647d(0x71c)];Object[_0x19647d(0x735)](_0x97f894,_0x19f669),_0x36288f[_0x19647d(0x18b)][_0x19647d(0x71c)]=_0x97f894,this[_0x19647d(0x1e0)](_0x36288f,_0x1fa7bf,_0x4b701c);}else{let _0x987794={'error':!0x0};this[_0x19647d(0x1e0)](_0x36288f,_0x1fa7bf,_0x987794),this[_0x19647d(0x232)]['error'](this[_0x19647d(0x584)]+'\x20('+this[_0x19647d(0x777)][_0x19647d(0x207)]+_0x19647d(0x2a3));}}catch(_0x50d687){let _0x28fec0={'error':!0x0,'errorLog':_0x50d687[_0x19647d(0x2fb)]()};this[_0x19647d(0x1e0)](_0x36288f,_0x1fa7bf,_0x28fec0),this[_0x19647d(0x232)][_0x19647d(0x1b4)](this[_0x19647d(0x584)]+'\x20('+this['instance'][_0x19647d(0x207)]+_0x19647d(0x42f)+(_0x50d687 instanceof Error?_0x50d687[_0x19647d(0x668)]:JSON[_0x19647d(0x676)](_0x50d687,null,0x2)));}}async[a0_0x18e9af(0x296)](_0x5631fc,_0x2906f0){const _0x1dba2d=a0_0x18e9af;let _0x2eb096=_0x5631fc[_0x1dba2d(0x3fc)];_0x2906f0[_0x1dba2d(0x4bb)][_0x1dba2d(0x3fc)]&&_0x2906f0['uazapi'][_0x1dba2d(0x3fc)]['trim']()!==''&&(_0x2eb096=_0x2906f0[_0x1dba2d(0x4bb)][_0x1dba2d(0x3fc)][_0x1dba2d(0x1ec)]()),this[_0x1dba2d(0x232)][_0x1dba2d(0x591)](this[_0x1dba2d(0x584)]+'\x20('+this[_0x1dba2d(0x777)][_0x1dba2d(0x207)]+_0x1dba2d(0x39a));let _0x159a86={'number':_0x2eb096,'options':{'delay':_0x2906f0[_0x1dba2d(0x4bb)][_0x1dba2d(0x762)]},'contactMessage':[{'fullName':_0x2906f0[_0x1dba2d(0x4bb)][_0x1dba2d(0x3ae)],'phoneNumber':_0x2906f0['uazapi'][_0x1dba2d(0x14e)]}]};try{let _0x9651c=await this[_0x1dba2d(0x47f)](_0x159a86);if(_0x9651c){let _0x49020e={'_id':_0x9651c[_0x1dba2d(0x66a)]['id'],'_fromMe':_0x9651c[_0x1dba2d(0x66a)]['fromMe'],'_remoteJid':_0x9651c[_0x1dba2d(0x66a)]['remoteJid']},_0x2300e=(0x0,m[_0x1dba2d(0x31f)])(_0x9651c['message']),_0x174f2f=(0x0,m['getContentType'])(_0x2300e);_0x5631fc[_0x1dba2d(0x18b)][_0x1dba2d(0x5b2)]=_0x2906f0[_0x1dba2d(0x550)][_0x1dba2d(0x2fb)]();let {message_normalized:_0x1d1464}=this['normalizeMessage'](_0x2300e,_0x174f2f,null);_0x5631fc['chatLog'][_0x1dba2d(0x13a)]=await _0x1d1464;let _0x3f0709={'messageId':_0x9651c['key']['id']},_0x7897ec=_0x5631fc[_0x1dba2d(0x18b)][_0x1dba2d(0x71c)];Object['assign'](_0x7897ec,_0x49020e),_0x5631fc[_0x1dba2d(0x18b)][_0x1dba2d(0x71c)]=_0x7897ec,this[_0x1dba2d(0x1e0)](_0x5631fc,_0x2906f0,_0x3f0709);}else{let _0x4f8e7a={'error':!0x0};this['updateConversation'](_0x5631fc,_0x2906f0,_0x4f8e7a),this['logger'][_0x1dba2d(0x1b4)](this[_0x1dba2d(0x584)]+'\x20('+this['instance'][_0x1dba2d(0x207)]+_0x1dba2d(0x6da));}}catch(_0x12b455){let _0x5efb3c={'error':!0x0,'errorLog':_0x12b455[_0x1dba2d(0x2fb)]()};this[_0x1dba2d(0x1e0)](_0x5631fc,_0x2906f0,_0x5efb3c),this['logger'][_0x1dba2d(0x1b4)](this[_0x1dba2d(0x584)]+'\x20('+this[_0x1dba2d(0x777)][_0x1dba2d(0x207)]+_0x1dba2d(0x57a)+(_0x12b455 instanceof Error?_0x12b455[_0x1dba2d(0x668)]:JSON[_0x1dba2d(0x676)](_0x12b455,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x1ac943,_0x5e593d){const _0x19d8f1=a0_0x18e9af;for(let _0x3e2b29 of _0x1ac943)_0x3e2b29[_0x19d8f1(0x4ae)]&&(_0x3e2b29[_0x19d8f1(0x4ae)]=this['replaceVariables'](_0x3e2b29[_0x19d8f1(0x4ae)],_0x5e593d)),_0x3e2b29['optionDescription']&&(_0x3e2b29[_0x19d8f1(0x180)]=this['replaceVariables'](_0x3e2b29[_0x19d8f1(0x180)],_0x5e593d));}async[a0_0x18e9af(0x4bf)](_0x1e649b,_0x1acf51){const _0x944e9a=a0_0x18e9af;let _0x5d62a6=_0x1e649b[_0x944e9a(0x3fc)];_0x1acf51[_0x944e9a(0x4bb)]['remoteJid']&&_0x1acf51['uazapi'][_0x944e9a(0x3fc)][_0x944e9a(0x1ec)]()!==''&&(_0x5d62a6=_0x1acf51['uazapi']['remoteJid'][_0x944e9a(0x1ec)]()),this['logger']['verbose'](this[_0x944e9a(0x584)]+'\x20('+this[_0x944e9a(0x777)][_0x944e9a(0x207)]+_0x944e9a(0x6b0));let _0x153ad0=_0x1e649b['replyOptions'][_0x944e9a(0x2f4)](_0x43ea07=>_0x43ea07[_0x944e9a(0x3a4)]===_0x1acf51[_0x944e9a(0x550)])[_0x944e9a(0x540)]((_0x14199b,_0x58f975)=>_0x14199b[_0x944e9a(0x181)]-_0x58f975['order']);this['replaceVariablesInReplyOptions'](_0x153ad0,_0x1e649b[_0x944e9a(0x18b)]['realVariables']);let _0x1f66b8=_0x153ad0[_0x944e9a(0x48c)](_0x1d99fa=>_0x1d99fa[_0x944e9a(0x4ae)]),_0x123307={'number':_0x5d62a6,'menuMessage':{'type':_0x1acf51[_0x944e9a(0x4bb)][_0x944e9a(0x63e)]||'poll','text':_0x1acf51[_0x944e9a(0x4bb)][_0x944e9a(0x3da)]||_0x1acf51[_0x944e9a(0x4bb)][_0x944e9a(0x10b)],'footerText':_0x1acf51[_0x944e9a(0x4bb)][_0x944e9a(0x1f5)],'buttonText':_0x1acf51[_0x944e9a(0x4bb)]['buttonText'],'selectableCount':0x1,'choices':_0x1f66b8},'options':{'delay':_0x1acf51[_0x944e9a(0x4bb)][_0x944e9a(0x762)]}};try{let _0x7e9f97=await this[_0x944e9a(0x2e1)](_0x123307);if(_0x7e9f97){let _0x137fca={'_id':_0x7e9f97[_0x944e9a(0x66a)]['id'],'_fromMe':_0x7e9f97[_0x944e9a(0x66a)]['fromMe'],'_remoteJid':_0x7e9f97[_0x944e9a(0x66a)][_0x944e9a(0x3fc)]};_0x1acf51['uazapi'][_0x944e9a(0x313)]===!0x0&&(_0x1e649b[_0x944e9a(0x522)]='waitingForReplyMenu',this[_0x944e9a(0x232)][_0x944e9a(0x591)](this[_0x944e9a(0x584)]+'\x20('+this[_0x944e9a(0x777)]['wuid']+_0x944e9a(0x344)+_0x1e649b[_0x944e9a(0x522)])),this[_0x944e9a(0x232)][_0x944e9a(0x591)](this['instanceName']+'\x20('+this[_0x944e9a(0x777)][_0x944e9a(0x207)]+_0x944e9a(0x783)+(_0x1acf51['uazapi'][_0x944e9a(0x10b)]||_0x1acf51['uazapi'][_0x944e9a(0x3da)])),_0x1e649b[_0x944e9a(0x6ae)]=_0x7e9f97[_0x944e9a(0x66a)]['id'],_0x1e649b['waitingMenu_text']=_0x1acf51[_0x944e9a(0x4bb)][_0x944e9a(0x10b)]||_0x1acf51[_0x944e9a(0x4bb)][_0x944e9a(0x3da)],_0x1e649b[_0x944e9a(0x3a9)]=_0x153ad0,_0x1acf51['uazapi']['menuExpiredMessage']&&(_0x1e649b['waitingMenu_ExpiredMessage']=_0x1acf51[_0x944e9a(0x4bb)]['menuExpiredMessage']),this[_0x944e9a(0x232)]['verbose'](this[_0x944e9a(0x584)]+'\x20('+this[_0x944e9a(0x777)][_0x944e9a(0x207)]+_0x944e9a(0x2a0)+_0x1e649b[_0x944e9a(0x66d)]);let _0x3c8780=(0x0,m[_0x944e9a(0x31f)])(_0x7e9f97['message']),_0x4517f9=(0x0,m[_0x944e9a(0x6db)])(_0x3c8780);_0x1e649b[_0x944e9a(0x18b)][_0x944e9a(0x5b2)]=_0x1acf51[_0x944e9a(0x550)][_0x944e9a(0x2fb)]();let {message_normalized:_0x2ac0a3}=this[_0x944e9a(0x3c3)](_0x3c8780,_0x4517f9,null);_0x1e649b[_0x944e9a(0x18b)]['lastSendMessage']=await _0x2ac0a3;let _0x104416={'messageId':_0x7e9f97['key']['id']},_0x40868f=_0x1e649b[_0x944e9a(0x18b)][_0x944e9a(0x71c)];Object[_0x944e9a(0x735)](_0x40868f,_0x137fca),_0x1e649b['chatLog'][_0x944e9a(0x71c)]=_0x40868f,this[_0x944e9a(0x1e0)](_0x1e649b,_0x1acf51,_0x104416);}else{let _0x386157={'error':!0x0};this[_0x944e9a(0x1e0)](_0x1e649b,_0x1acf51,_0x386157),this['logger'][_0x944e9a(0x1b4)](this[_0x944e9a(0x584)]+'\x20('+this[_0x944e9a(0x777)][_0x944e9a(0x207)]+_0x944e9a(0x377));}}catch(_0x3218ff){let _0x270622={'error':!0x0,'errorLog':_0x3218ff instanceof Error?_0x3218ff[_0x944e9a(0x668)]:JSON[_0x944e9a(0x676)](_0x3218ff,null,0x2)};this[_0x944e9a(0x1e0)](_0x1e649b,_0x1acf51,_0x270622),this[_0x944e9a(0x232)][_0x944e9a(0x1b4)](this[_0x944e9a(0x584)]+'\x20('+this[_0x944e9a(0x777)][_0x944e9a(0x207)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x3218ff instanceof Error?_0x3218ff['message']:JSON[_0x944e9a(0x676)](_0x3218ff,null,0x2)));}}async[a0_0x18e9af(0x1a8)](_0x184435,_0x504f42){const _0x5df1aa=a0_0x18e9af;this['logger'][_0x5df1aa(0x591)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5df1aa(0x54c));let _0x1ac56c=_0x184435[_0x5df1aa(0x18b)]['blockLogs'][_0x5df1aa(0x493)](_0x31e6bb=>_0x31e6bb[_0x5df1aa(0x3a4)][_0x5df1aa(0x2fb)]()===_0x504f42['uazapi'][_0x5df1aa(0x3a4)][_0x5df1aa(0x2fb)]()),_0x5972a3={'id':_0x1ac56c[_0x5df1aa(0x2fe)],'remoteJid':_0x1ac56c[_0x5df1aa(0x3fc)],'fromMe':_0x1ac56c['fromMe']};try{let _0x108ce6=await this[_0x5df1aa(0x414)](_0x5972a3);if(_0x108ce6){let _0x567458=(0x0,m[_0x5df1aa(0x31f)])(_0x108ce6['message']),_0x5875ea=(0x0,m[_0x5df1aa(0x6db)])(_0x567458);_0x184435[_0x5df1aa(0x18b)][_0x5df1aa(0x5b2)]=_0x504f42[_0x5df1aa(0x550)]['toString']();let {message_normalized:_0x362e18}=this[_0x5df1aa(0x3c3)](_0x567458,_0x5875ea,null);_0x184435[_0x5df1aa(0x18b)]['lastSendMessage']=await _0x362e18;let _0x3acc9b={};this[_0x5df1aa(0x1e0)](_0x184435,_0x504f42,_0x3acc9b);}else{let _0x3e7b10={'error':!0x0};this[_0x5df1aa(0x1e0)](_0x184435,_0x504f42,_0x3e7b10),this[_0x5df1aa(0x232)]['error'](this[_0x5df1aa(0x584)]+'\x20('+this[_0x5df1aa(0x777)][_0x5df1aa(0x207)]+_0x5df1aa(0x4c6));}}catch(_0x448cbb){let _0x1af295={'error':!0x0,'errorLog':_0x448cbb instanceof Error?_0x448cbb[_0x5df1aa(0x668)]:JSON[_0x5df1aa(0x676)](_0x448cbb,null,0x2)};this[_0x5df1aa(0x1e0)](_0x184435,_0x504f42,_0x1af295),this[_0x5df1aa(0x232)][_0x5df1aa(0x1b4)](this[_0x5df1aa(0x584)]+'\x20('+this[_0x5df1aa(0x777)][_0x5df1aa(0x207)]+_0x5df1aa(0x2f1)+(_0x448cbb instanceof Error?_0x448cbb[_0x5df1aa(0x668)]:JSON[_0x5df1aa(0x676)](_0x448cbb,null,0x2)));}}async['createFlow'](_0x35e1e6){const _0x3b0254=a0_0x18e9af;if(!_0x35e1e6[_0x3b0254(0x10b)])throw new w(_0x3b0254(0x267));if(await this['repository']['flow'][_0x3b0254(0x238)]({'where':{'name':_0x35e1e6[_0x3b0254(0x10b)]}},this['instance']['wuid']))throw new w(_0x3b0254(0x63f));return _0x3b0254(0x10b)in _0x35e1e6&&_0x3b0254(0x641)in _0x35e1e6&&_0x3b0254(0x74a)in _0x35e1e6&&Object['keys'](_0x35e1e6)['length']===0x3?this['createSharedFlow'](_0x35e1e6[_0x3b0254(0x74a)],_0x35e1e6[_0x3b0254(0x641)],_0x35e1e6['name']):this[_0x3b0254(0x4c7)](_0x35e1e6);}async[a0_0x18e9af(0x1eb)](_0x326aeb,_0x2c42c7,_0x302030){const _0x237bb7=a0_0x18e9af;try{this[_0x237bb7(0x232)][_0x237bb7(0x591)](this[_0x237bb7(0x584)]+'\x20('+this[_0x237bb7(0x777)][_0x237bb7(0x207)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x1c1af2=await this[_0x237bb7(0x305)][_0x237bb7(0x603)][_0x237bb7(0x238)]({'where':{'name':_0x302030,'sharePass':_0x2c42c7}},_0x326aeb);if(!_0x1c1af2)throw new w('Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.');let _0x2bbdc7={..._0x1c1af2};return _0x2bbdc7[_0x237bb7(0x74a)]=this['instance']['wuid'],_0x2bbdc7[_0x237bb7(0x276)]=Array[_0x237bb7(0x54a)](new Set([..._0x1c1af2['shareOwners']||[],_0x1c1af2[_0x237bb7(0x74a)],this['instance'][_0x237bb7(0x207)]])),_0x1c1af2[_0x237bb7(0x276)]=_0x2bbdc7['shareOwners'],await this[_0x237bb7(0x305)][_0x237bb7(0x603)][_0x237bb7(0x151)](_0x1c1af2[_0x237bb7(0x550)],{'shareOwners':_0x1c1af2['shareOwners']},_0x1c1af2[_0x237bb7(0x74a)]),_0x1c1af2['default']===!0x0&&await this[_0x237bb7(0x305)][_0x237bb7(0x603)]['updateMany']({},{'default':!0x1},this[_0x237bb7(0x777)]['wuid']),await this[_0x237bb7(0x305)]['flow'][_0x237bb7(0x77a)](_0x2bbdc7,this[_0x237bb7(0x777)][_0x237bb7(0x207)]);}catch(_0xf48a45){throw this['logger'][_0x237bb7(0x1b4)](this['instanceName']+'\x20('+this[_0x237bb7(0x777)]['wuid']+_0x237bb7(0x258)+_0xf48a45),new w(_0x237bb7(0x48e)+_0xf48a45);}}async['createRegularFlow'](_0x3b4122){const _0x44b4ff=a0_0x18e9af;try{this[_0x44b4ff(0x232)][_0x44b4ff(0x591)](this[_0x44b4ff(0x584)]+'\x20('+this[_0x44b4ff(0x777)][_0x44b4ff(0x207)]+_0x44b4ff(0x776)),delete _0x3b4122['shareOwners'],delete _0x3b4122[_0x44b4ff(0x641)],delete _0x3b4122[_0x44b4ff(0x74a)],_0x3b4122['default']===!0x0&&await this[_0x44b4ff(0x305)][_0x44b4ff(0x603)][_0x44b4ff(0x4c9)]({},{'default':!0x1},this[_0x44b4ff(0x777)]['wuid']);let _0x18a5c1=new ne[(_0x44b4ff(0x472))]['ObjectId'](),_0x38f9e9={'_id':_0x18a5c1,'default':!0x0,'title':_0x44b4ff(0x371),'x':0x0,'y':0x0},_0x45aa41={'_id':new ne['Types']['ObjectId'](),'order':0x1,'groupId':_0x18a5c1[_0x44b4ff(0x2fb)](),'type':'start'},_0x21751d={'_id':new ne[(_0x44b4ff(0x472))][(_0x44b4ff(0x711))](),'owner':this[_0x44b4ff(0x777)][_0x44b4ff(0x207)],'name':_0x3b4122[_0x44b4ff(0x10b)],'groups':[_0x38f9e9],'blocks':[_0x45aa41],..._0x3b4122};return await this[_0x44b4ff(0x305)][_0x44b4ff(0x603)][_0x44b4ff(0x77a)](_0x21751d,this[_0x44b4ff(0x777)][_0x44b4ff(0x207)]);}catch(_0x5a03f9){throw this['logger'][_0x44b4ff(0x1b4)](this[_0x44b4ff(0x584)]+'\x20('+this[_0x44b4ff(0x777)][_0x44b4ff(0x207)]+'):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20'+_0x5a03f9),new w(_0x44b4ff(0x36c)+_0x5a03f9);}}async[a0_0x18e9af(0x2a7)](_0x1b0585,_0xbf76d0){const _0x1d7566=a0_0x18e9af;try{let _0x42d65e=await this[_0x1d7566(0x305)]['flow'][_0x1d7566(0x238)]({'where':{'_id':_0x1b0585}},_0xbf76d0);if(_0x42d65e&&_0x42d65e[_0x1d7566(0x276)]){for(let _0x3fca45 of _0x42d65e[_0x1d7566(0x276)])if(_0x3fca45!==_0xbf76d0){let _0x5de411={..._0x42d65e,'owner':_0x3fca45};await this['repository'][_0x1d7566(0x603)]['replaceOne'](_0x1b0585,_0x5de411,_0x3fca45);}}}catch(_0x26bdb2){this[_0x1d7566(0x232)][_0x1d7566(0x1b4)](_0x1d7566(0x558)+_0x26bdb2);}}async[a0_0x18e9af(0x590)](_0x24385b){const _0x225da4=a0_0x18e9af;try{this['logger']['verbose'](this[_0x225da4(0x584)]+'\x20('+this[_0x225da4(0x777)][_0x225da4(0x207)]+_0x225da4(0x788));let _0x5654e2=await this['repository'][_0x225da4(0x603)][_0x225da4(0x238)]({'where':{'name':_0x24385b}},this['instance'][_0x225da4(0x207)]);if(_0x5654e2&&_0x5654e2[_0x225da4(0x276)]&&_0x5654e2[_0x225da4(0x276)][_0x225da4(0x15f)]>0x1){for(let _0x5ec52f of _0x5654e2['shareOwners'])if(_0x5ec52f!==this[_0x225da4(0x777)]['wuid']){let _0x4699b8=await this['repository'][_0x225da4(0x603)][_0x225da4(0x238)]({'where':{'sharePass':_0x5654e2[_0x225da4(0x641)]}},_0x5ec52f);_0x4699b8&&(_0x4699b8[_0x225da4(0x276)]=_0x4699b8[_0x225da4(0x276)][_0x225da4(0x2f4)](_0x3afdf1=>_0x3afdf1!==_0x5654e2[_0x225da4(0x74a)]),await this[_0x225da4(0x305)][_0x225da4(0x603)][_0x225da4(0x151)](_0x4699b8[_0x225da4(0x550)],{'shareOwners':_0x4699b8['shareOwners']},_0x5ec52f));}}return await this[_0x225da4(0x305)][_0x225da4(0x603)][_0x225da4(0x406)]({'where':{'name':_0x24385b}},this[_0x225da4(0x777)]['wuid']);}catch(_0x5ea9fc){return this[_0x225da4(0x232)][_0x225da4(0x1b4)](this[_0x225da4(0x584)]+'\x20('+this[_0x225da4(0x777)][_0x225da4(0x207)]+_0x225da4(0x462)+(_0x5ea9fc instanceof Error?_0x5ea9fc['message']:JSON[_0x225da4(0x676)](_0x5ea9fc,null,0x2))),{'message':_0x225da4(0x6e1)+_0x5ea9fc};}}async[a0_0x18e9af(0x31d)](_0x599dcf){const _0x5036fa=a0_0x18e9af;try{this['logger'][_0x5036fa(0x591)](this[_0x5036fa(0x584)]+'\x20('+this[_0x5036fa(0x777)]['wuid']+_0x5036fa(0x4b2));let _0x54a3e0=await this[_0x5036fa(0x305)][_0x5036fa(0x603)][_0x5036fa(0x238)]({'where':{'name':_0x599dcf}},this[_0x5036fa(0x777)][_0x5036fa(0x207)]);if(!_0x54a3e0)throw new Error(_0x5036fa(0x26e));if(!this[_0x5036fa(0x3a5)]&&(await this[_0x5036fa(0x665)](),!this['AutomateSystem']))return null;let _0x3ea952=this[_0x5036fa(0x3a5)]?.[_0x5036fa(0x5ea)]['map'](_0x5862f0=>_0x5862f0['name']),_0x283040=[_0x5036fa(0x40a),'nomecompleto',_0x5036fa(0x402),'cpf','status',_0x5036fa(0x2a6),'responsavelid',_0x5036fa(0x22a),_0x5036fa(0x286)];_0x54a3e0['variables']=_0x54a3e0[_0x5036fa(0x77e)][_0x5036fa(0x2f4)](_0x2cca5d=>!(_0x2cca5d[_0x5036fa(0x229)]==='leadInfo'||_0x2cca5d[_0x5036fa(0x6ff)])),_0x283040[_0x5036fa(0x6d6)](_0x3ad0cd=>{const _0x35260c=_0x5036fa;_0x54a3e0[_0x35260c(0x77e)][_0x35260c(0x256)]({'folder':_0x35260c(0x6ff),'name':_0x3ad0cd,'value':'','doc':'','leadInfo':!0x0});}),_0x3ea952['forEach'](_0x54454c=>{const _0x2ea614=_0x5036fa;let _0x23b775=_0x54a3e0[_0x2ea614(0x77e)]['findIndex'](_0x3655b6=>_0x3655b6[_0x2ea614(0x10b)]===_0x54454c);_0x23b775===-0x1?_0x54a3e0[_0x2ea614(0x77e)][_0x2ea614(0x256)]({'folder':'leadInfo','name':_0x54454c,'value':'','doc':'','leadInfo':!0x0}):(_0x54a3e0[_0x2ea614(0x77e)][_0x23b775][_0x2ea614(0x229)]=_0x2ea614(0x6ff),_0x54a3e0[_0x2ea614(0x77e)][_0x23b775][_0x2ea614(0x6ff)]=!0x0);}),_0x54a3e0[_0x5036fa(0x637)]&&_0x54a3e0[_0x5036fa(0x637)][_0x5036fa(0x15f)]>0x0&&_0x54a3e0[_0x5036fa(0x637)][_0x5036fa(0x6d6)](_0x36415a=>{const _0x3ba35d=_0x5036fa;_0x36415a['groupId']&&_0x36415a[_0x3ba35d(0x1aa)]&&_0x36415a[_0x3ba35d(0x481)]===_0x36415a[_0x3ba35d(0x1aa)]&&(_0x36415a[_0x3ba35d(0x1aa)]=null);});let _0xc4910d=await this[_0x5036fa(0x305)]['flow'][_0x5036fa(0x151)](_0x54a3e0[_0x5036fa(0x550)],_0x54a3e0,this[_0x5036fa(0x777)][_0x5036fa(0x207)]);if(!_0xc4910d)throw new Error(_0x5036fa(0x60a));return _0xc4910d;}catch(_0xc0a699){throw this[_0x5036fa(0x232)]['error'](this[_0x5036fa(0x584)]+'\x20('+this[_0x5036fa(0x777)][_0x5036fa(0x207)]+_0x5036fa(0x52f)+(_0xc0a699 instanceof Error?_0xc0a699[_0x5036fa(0x668)]:JSON[_0x5036fa(0x676)](_0xc0a699,null,0x2))),new w(_0x5036fa(0x3c7)+_0xc0a699);}}async[a0_0x18e9af(0x356)](){const _0x27bdc4=a0_0x18e9af;try{return this['logger'][_0x27bdc4(0x591)](this['instanceName']+'\x20('+this[_0x27bdc4(0x777)][_0x27bdc4(0x207)]+_0x27bdc4(0x389)),await this[_0x27bdc4(0x305)][_0x27bdc4(0x603)]['updateMissingShareOwners'](this[_0x27bdc4(0x777)][_0x27bdc4(0x207)]),await this['repository'][_0x27bdc4(0x603)][_0x27bdc4(0x222)]({'where':{}},this[_0x27bdc4(0x777)][_0x27bdc4(0x207)]);}catch(_0x5ecfea){return this[_0x27bdc4(0x232)][_0x27bdc4(0x1b4)](this[_0x27bdc4(0x584)]+'\x20('+this[_0x27bdc4(0x777)][_0x27bdc4(0x207)]+_0x27bdc4(0x72a)+(_0x5ecfea instanceof Error?_0x5ecfea[_0x27bdc4(0x668)]:JSON['stringify'](_0x5ecfea,null,0x2))),{'message':_0x27bdc4(0x179)+_0x5ecfea};}}async[a0_0x18e9af(0x31a)](_0x1076c6){const _0x5a423f=a0_0x18e9af;try{this[_0x5a423f(0x232)]['verbose'](this[_0x5a423f(0x584)]+'\x20('+this[_0x5a423f(0x777)][_0x5a423f(0x207)]+_0x5a423f(0x1b0));let _0x142841=await this[_0x5a423f(0x305)][_0x5a423f(0x603)][_0x5a423f(0x238)]({'where':{'name':_0x1076c6[_0x5a423f(0x10b)]}},this['instance'][_0x5a423f(0x207)]);if(!_0x142841)return{'message':'Fluxo\x20não\x20encontrado'};_0x1076c6[_0x5a423f(0x30c)]===!0x0&&await this[_0x5a423f(0x305)][_0x5a423f(0x603)][_0x5a423f(0x4c9)]({},{'default':!0x1},this[_0x5a423f(0x777)]['wuid']),delete _0x1076c6[_0x5a423f(0x276)],delete _0x1076c6[_0x5a423f(0x641)];let _0x3ad34e=await this[_0x5a423f(0x305)][_0x5a423f(0x603)][_0x5a423f(0x151)](_0x142841[_0x5a423f(0x550)],_0x1076c6,this[_0x5a423f(0x777)][_0x5a423f(0x207)]);return _0x3ad34e&&_0x3ad34e[_0x5a423f(0x276)]&&_0x3ad34e['shareOwners'][_0x5a423f(0x15f)]>0x1&&this['synchronizeFlows'](_0x3ad34e[_0x5a423f(0x550)],this[_0x5a423f(0x777)][_0x5a423f(0x207)]),_0x3ad34e;}catch(_0x48d143){throw this[_0x5a423f(0x232)][_0x5a423f(0x1b4)](this['instanceName']+'\x20('+this[_0x5a423f(0x777)][_0x5a423f(0x207)]+_0x5a423f(0x77b)+(_0x48d143 instanceof Error?_0x48d143['message']:JSON[_0x5a423f(0x676)](_0x48d143,null,0x2))),new w(_0x5a423f(0x19f)+(_0x48d143 instanceof Error?_0x48d143[_0x5a423f(0x668)]:JSON[_0x5a423f(0x676)](_0x48d143,null,0x2)));}}async[a0_0x18e9af(0x5e8)](_0x4a32e2){const _0x15f95f=a0_0x18e9af;try{this[_0x15f95f(0x232)]['verbose'](this['instanceName']+'\x20('+this[_0x15f95f(0x777)]['wuid']+_0x15f95f(0x25c));let _0x2dda63=await this['repository']['flow'][_0x15f95f(0x238)]({'where':{'name':_0x4a32e2[_0x15f95f(0x10b)]}},this[_0x15f95f(0x777)][_0x15f95f(0x207)]);_0x2dda63||this[_0x15f95f(0x197)](_0x15f95f(0x26e));let {block:_0x5bb245}=_0x4a32e2;_0x5bb245?.[_0x15f95f(0x3ad)]?this[_0x15f95f(0x48d)](_0x2dda63,_0x4a32e2):_0x5bb245?.[_0x15f95f(0x5ef)]?this[_0x15f95f(0x5e7)](_0x2dda63,_0x4a32e2):_0x5bb245[_0x15f95f(0x550)]?await this['updateBlock'](_0x2dda63,_0x4a32e2):this[_0x15f95f(0x5f9)](_0x2dda63,_0x4a32e2);let _0x595eea=await this[_0x15f95f(0x305)]['flow']['updateOne'](_0x2dda63[_0x15f95f(0x550)],_0x2dda63,this[_0x15f95f(0x777)]['wuid']);if(_0x595eea&&_0x595eea[_0x15f95f(0x276)]&&_0x595eea['shareOwners'][_0x15f95f(0x15f)]>0x1&&this[_0x15f95f(0x2a7)](_0x595eea[_0x15f95f(0x550)],this[_0x15f95f(0x777)][_0x15f95f(0x207)]),!_0x595eea)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x595eea;}catch(_0x485c39){this['throwAndLogError'](_0x15f95f(0x52a)+_0x485c39);}}async[a0_0x18e9af(0x48d)](_0x5fc1f8,_0x52ee88){const _0x1a94fe=a0_0x18e9af;let _0x4ed60f=_0x52ee88[_0x1a94fe(0x201)][_0x1a94fe(0x550)],_0x5c54cb=_0x5fc1f8['blocks'][_0x1a94fe(0x493)](_0x528f77=>_0x528f77['_id'][_0x1a94fe(0x2fb)]()===_0x4ed60f);if(!_0x5c54cb){this['logger'][_0x1a94fe(0x1b4)](this[_0x1a94fe(0x584)]+'\x20('+this[_0x1a94fe(0x777)][_0x1a94fe(0x207)]+'):\x20Bloco\x20com\x20ID\x20'+_0x4ed60f+_0x1a94fe(0x63d));return;}this[_0x1a94fe(0x232)][_0x1a94fe(0x591)](this[_0x1a94fe(0x584)]+'\x20('+this[_0x1a94fe(0x777)][_0x1a94fe(0x207)]+_0x1a94fe(0x26a)+JSON[_0x1a94fe(0x676)](_0x5c54cb));let _0x50bfd3=JSON[_0x1a94fe(0x474)](JSON[_0x1a94fe(0x676)](_0x5c54cb));_0x50bfd3[_0x1a94fe(0x550)]=new ne['default'][(_0x1a94fe(0x472))][(_0x1a94fe(0x711))](),this[_0x1a94fe(0x232)][_0x1a94fe(0x591)](this[_0x1a94fe(0x584)]+'\x20('+this[_0x1a94fe(0x777)]['wuid']+_0x1a94fe(0x5c8)+JSON[_0x1a94fe(0x676)](_0x50bfd3)),_0x5fc1f8[_0x1a94fe(0x637)][_0x1a94fe(0x256)](_0x50bfd3),this['reorderBlocks'](_0x5fc1f8[_0x1a94fe(0x637)],_0x50bfd3[_0x1a94fe(0x481)]);}[a0_0x18e9af(0x197)](_0x1f307c){const _0x577994=a0_0x18e9af;throw this[_0x577994(0x232)]['error'](this[_0x577994(0x584)]+'\x20('+this[_0x577994(0x777)][_0x577994(0x207)]+_0x577994(0x208)+_0x1f307c),new w(_0x1f307c);}['deleteBlock'](_0x4b3f15,_0x149721){const _0x172887=a0_0x18e9af;let {block:_0x18a69e}=_0x149721;if(_0x18a69e[_0x172887(0x120)]===_0x172887(0x553)){this[_0x172887(0x197)](_0x172887(0x15d));return;}if(!_0x18a69e[_0x172887(0x550)]){this[_0x172887(0x197)](_0x172887(0x29c));return;}let _0x444db9=_0x4b3f15[_0x172887(0x637)]['find'](_0xa29e0b=>_0xa29e0b[_0x172887(0x550)]['toString']()===_0x149721[_0x172887(0x201)][_0x172887(0x550)][_0x172887(0x2fb)]());if(!_0x444db9){this[_0x172887(0x197)](_0x172887(0x4e0)+_0x18a69e['_id']+_0x172887(0x6b2));return;}_0x4b3f15[_0x172887(0x637)]=_0x4b3f15['blocks'][_0x172887(0x2f4)](_0x57e7f6=>_0x57e7f6[_0x172887(0x550)][_0x172887(0x2fb)]()!==_0x149721[_0x172887(0x201)][_0x172887(0x550)][_0x172887(0x2fb)]()),_0x4b3f15[_0x172887(0x119)]=_0x4b3f15['conditions'][_0x172887(0x2f4)](_0x5a5216=>_0x5a5216[_0x172887(0x3a4)]!==_0x18a69e[_0x172887(0x550)]['toString']()),_0x4b3f15['varedits']=_0x4b3f15[_0x172887(0x317)]['filter'](_0x465bdf=>_0x465bdf[_0x172887(0x3a4)]!==_0x18a69e[_0x172887(0x550)][_0x172887(0x2fb)]()),_0x4b3f15[_0x172887(0x37e)]=_0x4b3f15[_0x172887(0x37e)]['filter'](_0x37114e=>_0x37114e[_0x172887(0x3a4)]!==_0x18a69e['_id']['toString']()),this[_0x172887(0x73a)](_0x4b3f15[_0x172887(0x637)],_0x444db9[_0x172887(0x481)]);}async['updateBlock'](_0x2ef74a,_0x6a5c88){const _0x40090d=a0_0x18e9af;let _0x45d09e=_0x2ef74a[_0x40090d(0x637)][_0x40090d(0x112)](_0x16c4fc=>_0x16c4fc['_id'][_0x40090d(0x2fb)]()===_0x6a5c88['block'][_0x40090d(0x550)][_0x40090d(0x2fb)]());if(this['logger'][_0x40090d(0x591)](this[_0x40090d(0x584)]+'\x20('+this['instance']['wuid']+_0x40090d(0x124)+_0x45d09e),_0x45d09e===-0x1){this[_0x40090d(0x232)][_0x40090d(0x591)]('Bloco\x20com\x20ID\x20'+_0x6a5c88[_0x40090d(0x201)]['_id']+_0x40090d(0x421));return;}if(_0x2ef74a[_0x40090d(0x637)][_0x45d09e][_0x40090d(0x120)]===_0x40090d(0x553)){let _0x462647=Object[_0x40090d(0x581)](_0x6a5c88[_0x40090d(0x201)]);if(_0x462647['length']>0x2||_0x462647[_0x40090d(0x15f)]===0x2&&!_0x462647[_0x40090d(0x4d6)](_0x40090d(0x1aa))){this[_0x40090d(0x197)](_0x40090d(0x2c8));return;}}let _0x4f03d2=_0x2ef74a['blocks'][_0x45d09e]['groupId'];for(let _0x3f14e2 in _0x6a5c88[_0x40090d(0x201)])_0x6a5c88['block'][_0x40090d(0x22d)](_0x3f14e2)&&(_0x2ef74a[_0x40090d(0x637)][_0x45d09e][_0x3f14e2]=_0x6a5c88[_0x40090d(0x201)][_0x3f14e2]);if(this[_0x40090d(0x232)][_0x40090d(0x591)](this['instanceName']+'\x20('+this[_0x40090d(0x777)][_0x40090d(0x207)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x40090d(0x676)](_0x2ef74a[_0x40090d(0x637)][_0x45d09e])),_0x2ef74a[_0x40090d(0x637)][_0x45d09e]['apirequest']&&_0x40090d(0x1cd)in _0x2ef74a[_0x40090d(0x637)][_0x45d09e][_0x40090d(0x454)]){this['logger'][_0x40090d(0x591)](this['instanceName']+'\x20('+this[_0x40090d(0x777)][_0x40090d(0x207)]+_0x40090d(0x5dd));let _0x4427bd=JSON[_0x40090d(0x676)](_0x2ef74a[_0x40090d(0x637)][_0x45d09e][_0x40090d(0x454)][_0x40090d(0x1cd)],null,0x1);_0x4427bd['length']>0x2&&(_0x4427bd=_0x4427bd[_0x40090d(0x5b3)](0x1,_0x4427bd[_0x40090d(0x15f)]-0x1)['trim']()),_0x2ef74a[_0x40090d(0x637)][_0x45d09e][_0x40090d(0x454)][_0x40090d(0x4c0)]=_0x4427bd;}if(_0x2ef74a[_0x40090d(0x637)][_0x45d09e][_0x40090d(0x454)]&&_0x40090d(0x62d)in _0x2ef74a[_0x40090d(0x637)][_0x45d09e]['apirequest']){this[_0x40090d(0x232)]['verbose'](this[_0x40090d(0x584)]+'\x20('+this[_0x40090d(0x777)][_0x40090d(0x207)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0x24029d=JSON[_0x40090d(0x676)](_0x2ef74a[_0x40090d(0x637)][_0x45d09e][_0x40090d(0x454)]['body'],null,0x1);_0x24029d['length']>0x2&&(_0x24029d=_0x24029d[_0x40090d(0x5b3)](0x1,_0x24029d['length']-0x1)[_0x40090d(0x1ec)]()),_0x2ef74a['blocks'][_0x45d09e][_0x40090d(0x454)][_0x40090d(0x6b9)]=_0x24029d;}let _0x1fa62e=_0x2ef74a[_0x40090d(0x637)][_0x45d09e][_0x40090d(0x481)];_0x4f03d2!==_0x1fa62e?(this[_0x40090d(0x73a)](_0x2ef74a['blocks'],_0x4f03d2),this[_0x40090d(0x73a)](_0x2ef74a[_0x40090d(0x637)],_0x1fa62e)):this[_0x40090d(0x73a)](_0x2ef74a[_0x40090d(0x637)],_0x4f03d2);}['addBlock'](_0x282968,_0x2817b2){const _0x534034=a0_0x18e9af;if(_0x2817b2['block'][_0x534034(0x120)]===_0x534034(0x553)){this[_0x534034(0x197)](_0x534034(0x661));return;}if(_0x2817b2[_0x534034(0x201)]['apirequest']&&'header'in _0x2817b2[_0x534034(0x201)]['apirequest']){this[_0x534034(0x232)]['verbose'](this[_0x534034(0x584)]+'\x20('+this[_0x534034(0x777)][_0x534034(0x207)]+_0x534034(0x5dd));let _0x4d83e4=JSON[_0x534034(0x676)](_0x2817b2[_0x534034(0x201)]['apirequest'][_0x534034(0x1cd)],null,0x1);_0x4d83e4['length']>0x2&&(_0x4d83e4=_0x4d83e4[_0x534034(0x5b3)](0x1,_0x4d83e4['length']-0x1)[_0x534034(0x1ec)]()),_0x2817b2[_0x534034(0x201)][_0x534034(0x454)][_0x534034(0x4c0)]=_0x4d83e4;}_0x2817b2['block'][_0x534034(0x454)]&&'body'in _0x2817b2[_0x534034(0x201)][_0x534034(0x454)]&&(this[_0x534034(0x232)][_0x534034(0x591)](this[_0x534034(0x584)]+'\x20('+this[_0x534034(0x777)][_0x534034(0x207)]+_0x534034(0x499)),_0x2817b2[_0x534034(0x201)]['apirequest']['bodyString']=JSON[_0x534034(0x676)](_0x2817b2[_0x534034(0x201)]['apirequest']['body'],null,0x1)['trim']()),_0x282968['blocks'][_0x534034(0x256)](_0x2817b2[_0x534034(0x201)]),this[_0x534034(0x73a)](_0x282968[_0x534034(0x637)],_0x2817b2['block']['groupId']);}[a0_0x18e9af(0x73a)](_0x1300de,_0x51cf82){const _0x3fa7e3=a0_0x18e9af;let _0x55947e=_0x1300de['filter'](_0x2cf198=>_0x2cf198[_0x3fa7e3(0x481)]===_0x51cf82);_0x55947e['sort']((_0x18b005,_0x6b98bb)=>_0x18b005[_0x3fa7e3(0x181)]-_0x6b98bb[_0x3fa7e3(0x181)]),_0x55947e[_0x3fa7e3(0x6d6)]((_0x36820d,_0x434d19)=>_0x36820d[_0x3fa7e3(0x181)]=_0x434d19+0x1);}async[a0_0x18e9af(0x1bc)](_0xa787bd){const _0xcd24e5=a0_0x18e9af;try{if(this['logger'][_0xcd24e5(0x591)](this[_0xcd24e5(0x584)]+'\x20('+this[_0xcd24e5(0x777)][_0xcd24e5(0x207)]+_0xcd24e5(0x4a6)),!_0xa787bd||!_0xa787bd['replyOption']){this[_0xcd24e5(0x197)]('Data\x20inválida\x20fornecida');return;}let _0x5a7df3=await this[_0xcd24e5(0x305)][_0xcd24e5(0x603)][_0xcd24e5(0x238)]({'where':{'name':_0xa787bd[_0xcd24e5(0x10b)]}},this[_0xcd24e5(0x777)]['wuid']);_0x5a7df3||this[_0xcd24e5(0x197)]('Flow\x20não\x20encontrado');let {replyOption:_0x3c9b81}=_0xa787bd;_0x3c9b81?.[_0xcd24e5(0x5ef)]?(this[_0xcd24e5(0x71e)](_0x5a7df3,_0xa787bd),this[_0xcd24e5(0x343)](_0x5a7df3[_0xcd24e5(0x37e)],_0xa787bd[_0xcd24e5(0x6bc)][_0xcd24e5(0x3a4)])):_0x3c9b81[_0xcd24e5(0x550)]?(await this['updateReplyOption'](_0x5a7df3,_0xa787bd),this[_0xcd24e5(0x343)](_0x5a7df3[_0xcd24e5(0x37e)],_0xa787bd[_0xcd24e5(0x6bc)][_0xcd24e5(0x3a4)])):(this[_0xcd24e5(0x3d4)](_0x5a7df3,_0xa787bd),this[_0xcd24e5(0x343)](_0x5a7df3[_0xcd24e5(0x37e)],_0xa787bd[_0xcd24e5(0x6bc)]['blockId']));let _0x418fff=await this[_0xcd24e5(0x305)][_0xcd24e5(0x603)]['updateOne'](_0x5a7df3[_0xcd24e5(0x550)],_0x5a7df3,this[_0xcd24e5(0x777)][_0xcd24e5(0x207)]);if(_0x418fff&&_0x418fff['shareOwners']&&_0x418fff[_0xcd24e5(0x276)][_0xcd24e5(0x15f)]>0x1&&this[_0xcd24e5(0x2a7)](_0x418fff[_0xcd24e5(0x550)],this[_0xcd24e5(0x777)][_0xcd24e5(0x207)]),!_0x418fff)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x418fff;}catch(_0x40ea75){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x40ea75);}}[a0_0x18e9af(0x343)](_0x27324a,_0x1a8101){const _0x2064ee=a0_0x18e9af;console[_0x2064ee(0x704)](_0x2064ee(0x1c4),_0x1a8101),_0x27324a[_0x2064ee(0x6d6)](_0x90ab2d=>{const _0x41ca75=_0x2064ee;_0x90ab2d['blockId']===_0x1a8101&&_0x90ab2d[_0x41ca75(0x181)]===void 0x0&&(_0x90ab2d[_0x41ca75(0x181)]=0x270f);});let _0x52ca4e=_0x27324a[_0x2064ee(0x2f4)](_0x19cec4=>_0x19cec4[_0x2064ee(0x3a4)]===_0x1a8101);_0x52ca4e[_0x2064ee(0x540)]((_0x35731d,_0x18d6e7)=>_0x35731d['order']-_0x18d6e7['order']),_0x52ca4e[_0x2064ee(0x6d6)]((_0x1dc182,_0x2ba238)=>{const _0x1a10ea=_0x2064ee;_0x1dc182[_0x1a10ea(0x181)]=_0x2ba238+0x1;}),_0x27324a['forEach'](_0x5c9c6e=>{const _0x32da7=_0x2064ee;if(_0x5c9c6e[_0x32da7(0x3a4)]===_0x1a8101){let _0x576e9f=_0x52ca4e[_0x32da7(0x493)](_0x3bfeb9=>_0x3bfeb9[_0x32da7(0x550)]&&_0x5c9c6e['_id']&&_0x3bfeb9['_id']['toString']()===_0x5c9c6e[_0x32da7(0x550)][_0x32da7(0x2fb)]());_0x576e9f&&(_0x5c9c6e['order']=_0x576e9f[_0x32da7(0x181)]);}}),console['log'](_0x2064ee(0x5e6),_0x27324a);}[a0_0x18e9af(0x71e)](_0x582d99,_0x52347c){const _0xa029d8=a0_0x18e9af;let {replyOption:_0x4e6ca5}=_0x52347c;if(!_0x4e6ca5['_id']){this[_0xa029d8(0x197)](_0xa029d8(0x247));return;}if(!_0x582d99[_0xa029d8(0x37e)][_0xa029d8(0x493)](_0x50eb43=>_0x50eb43[_0xa029d8(0x550)][_0xa029d8(0x2fb)]()===_0x52347c[_0xa029d8(0x6bc)]['_id']['toString']())){this[_0xa029d8(0x197)](_0xa029d8(0x4d5)+_0x4e6ca5[_0xa029d8(0x550)]+'\x20não\x20encontrado');return;}_0x582d99['replyOptions']=_0x582d99[_0xa029d8(0x37e)][_0xa029d8(0x2f4)](_0x15b75c=>_0x15b75c[_0xa029d8(0x550)][_0xa029d8(0x2fb)]()!==_0x52347c[_0xa029d8(0x6bc)][_0xa029d8(0x550)][_0xa029d8(0x2fb)]());}async[a0_0x18e9af(0x628)](_0xe9a46f,_0x2e65b9){const _0x31f93a=a0_0x18e9af;let _0x2bfbd5=_0xe9a46f[_0x31f93a(0x37e)][_0x31f93a(0x112)](_0x4793cd=>_0x4793cd[_0x31f93a(0x550)]['toString']()===_0x2e65b9[_0x31f93a(0x6bc)]['_id'][_0x31f93a(0x2fb)]());if(_0x2bfbd5===-0x1){this['throwAndLogError'](_0x31f93a(0x4d5)+_0x2e65b9['replyOption']['_id']+_0x31f93a(0x421));return;}for(let _0x1e23d1 in _0x2e65b9['replyOption'])_0x2e65b9[_0x31f93a(0x6bc)][_0x31f93a(0x22d)](_0x1e23d1)&&(_0xe9a46f[_0x31f93a(0x37e)][_0x2bfbd5][_0x1e23d1]=_0x2e65b9['replyOption'][_0x1e23d1]);}[a0_0x18e9af(0x3d4)](_0x55c314,_0x50a52c){const _0x6186a8=a0_0x18e9af;_0x55c314[_0x6186a8(0x37e)][_0x6186a8(0x256)](_0x50a52c['replyOption']);}async[a0_0x18e9af(0x1a7)](_0x500383){const _0x3f8505=a0_0x18e9af;this[_0x3f8505(0x232)][_0x3f8505(0x591)](this['instanceName']+'\x20('+this[_0x3f8505(0x777)][_0x3f8505(0x207)]+_0x3f8505(0x150)+_0x500383);try{this['logger'][_0x3f8505(0x591)](this[_0x3f8505(0x584)]+'\x20('+this[_0x3f8505(0x777)]['wuid']+_0x3f8505(0x118));let _0x578fea=await this['repository'][_0x3f8505(0x603)][_0x3f8505(0x238)]({'where':{'name':_0x500383['name']}},this[_0x3f8505(0x777)]['wuid']);if(!_0x578fea)throw new Error(_0x3f8505(0x26e));if(_0x500383[_0x3f8505(0x4e1)]&&_0x500383[_0x3f8505(0x4e1)]?.['delete']===!0x0){if(this[_0x3f8505(0x232)][_0x3f8505(0x591)](this[_0x3f8505(0x584)]+'\x20('+this[_0x3f8505(0x777)]['wuid']+_0x3f8505(0x70f)),_0x500383[_0x3f8505(0x4e1)][_0x3f8505(0x30c)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x578fea[_0x3f8505(0x637)]['some'](_0x573259=>_0x573259[_0x3f8505(0x481)]['toString']()===_0x500383[_0x3f8505(0x4e1)][_0x3f8505(0x550)]))return this['logger']['verbose'](this[_0x3f8505(0x584)]+'\x20('+this[_0x3f8505(0x777)][_0x3f8505(0x207)]+_0x3f8505(0x75b)),{'message':_0x3f8505(0x713)};_0x578fea[_0x3f8505(0x4f4)]=_0x578fea[_0x3f8505(0x4f4)][_0x3f8505(0x2f4)](_0x262dbf=>_0x262dbf[_0x3f8505(0x550)][_0x3f8505(0x2fb)]()!==_0x500383[_0x3f8505(0x4e1)]['_id']);}else{if(_0x500383[_0x3f8505(0x4e1)]){if(_0x500383['group']['default']===!0x0)return{'message':_0x3f8505(0x1e1)};if(_0x500383[_0x3f8505(0x4e1)][_0x3f8505(0x550)]){let _0x28a9ff=_0x578fea['groups']['find'](_0x88340=>_0x88340['_id'][_0x3f8505(0x2fb)]()===_0x500383[_0x3f8505(0x4e1)][_0x3f8505(0x550)]);_0x28a9ff&&(_0x500383[_0x3f8505(0x4e1)]['x']<0x0&&(_0x500383[_0x3f8505(0x4e1)]['x']=0x0),_0x500383[_0x3f8505(0x4e1)]['y']<0x0&&(_0x500383['group']['y']=0x0),Object[_0x3f8505(0x735)](_0x28a9ff,_0x500383[_0x3f8505(0x4e1)]));}else _0x578fea[_0x3f8505(0x4f4)][_0x3f8505(0x256)](_0x500383[_0x3f8505(0x4e1)]);}}let _0x18c755=await this[_0x3f8505(0x305)]['flow'][_0x3f8505(0x151)](_0x578fea['_id'],_0x578fea,this[_0x3f8505(0x777)]['wuid']);if(_0x18c755&&_0x18c755[_0x3f8505(0x276)]&&_0x18c755[_0x3f8505(0x276)][_0x3f8505(0x15f)]>0x1&&this['synchronizeFlows'](_0x18c755[_0x3f8505(0x550)],this[_0x3f8505(0x777)]['wuid']),!_0x18c755)throw new Error(_0x3f8505(0x60a));return _0x18c755;}catch(_0x362f1f){throw this[_0x3f8505(0x232)][_0x3f8505(0x1b4)](this[_0x3f8505(0x584)]+'\x20('+this[_0x3f8505(0x777)]['wuid']+_0x3f8505(0x381)+(_0x362f1f instanceof Error?_0x362f1f[_0x3f8505(0x668)]:JSON[_0x3f8505(0x676)](_0x362f1f,null,0x2))),new w(_0x3f8505(0x1db)+(_0x362f1f instanceof Error?_0x362f1f[_0x3f8505(0x668)]:JSON[_0x3f8505(0x676)](_0x362f1f,null,0x2)));}}async[a0_0x18e9af(0x3b3)](_0x183e56){const _0x4e0382=a0_0x18e9af;try{this['logger'][_0x4e0382(0x591)](this[_0x4e0382(0x584)]+'\x20('+this[_0x4e0382(0x777)][_0x4e0382(0x207)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x2b7513=await this[_0x4e0382(0x305)][_0x4e0382(0x603)][_0x4e0382(0x238)]({'where':{'name':_0x183e56[_0x4e0382(0x10b)]}},this[_0x4e0382(0x777)][_0x4e0382(0x207)]);if(!_0x2b7513)throw new Error('Flow\x20não\x20encontrado');let _0x1fb714=!0x1;if(_0x183e56[_0x4e0382(0x774)]?.[_0x4e0382(0x5ef)]===!0x0)_0x2b7513[_0x4e0382(0x119)]=_0x2b7513['conditions']['filter'](_0x5dd008=>_0x5dd008&&_0x183e56[_0x4e0382(0x774)]&&_0x5dd008[_0x4e0382(0x550)]&&_0x183e56[_0x4e0382(0x774)][_0x4e0382(0x550)]&&_0x5dd008[_0x4e0382(0x550)]['toString']()!==_0x183e56[_0x4e0382(0x774)]['_id'][_0x4e0382(0x2fb)]()),_0x1fb714=!0x0;else{let _0x21d24f=_0x2b7513[_0x4e0382(0x119)][_0x4e0382(0x493)](_0x246dd6=>_0x246dd6&&_0x183e56[_0x4e0382(0x774)]&&_0x246dd6[_0x4e0382(0x550)]&&_0x183e56[_0x4e0382(0x774)][_0x4e0382(0x550)]&&_0x246dd6[_0x4e0382(0x550)][_0x4e0382(0x2fb)]()===_0x183e56[_0x4e0382(0x774)][_0x4e0382(0x550)][_0x4e0382(0x2fb)]());_0x21d24f?(_0x1fb714=_0x21d24f[_0x4e0382(0x181)]!==_0x183e56[_0x4e0382(0x774)][_0x4e0382(0x181)],Object['assign'](_0x21d24f,_0x183e56[_0x4e0382(0x774)])):(_0x2b7513['conditions'][_0x4e0382(0x256)](_0x183e56['condition']),_0x1fb714=!0x0);}if(_0x1fb714){_0x2b7513[_0x4e0382(0x119)][_0x4e0382(0x540)]((_0x48d1a9,_0x1d7659)=>_0x48d1a9['order']>_0x1d7659[_0x4e0382(0x181)]?0x1:_0x1d7659[_0x4e0382(0x181)]>_0x48d1a9[_0x4e0382(0x181)]?-0x1:0x0);for(let _0x5f4e3c=0x0;_0x5f4e3c<_0x2b7513[_0x4e0382(0x119)]['length'];_0x5f4e3c++)_0x2b7513[_0x4e0382(0x119)][_0x5f4e3c][_0x4e0382(0x181)]=_0x5f4e3c+0x1;_0x2b7513[_0x4e0382(0x119)][_0x4e0382(0x15f)]>0x0&&(_0x2b7513['conditions'][0x0][_0x4e0382(0x505)]='and');}let _0x5a7b40=await this[_0x4e0382(0x305)][_0x4e0382(0x603)][_0x4e0382(0x151)](_0x2b7513[_0x4e0382(0x550)],_0x2b7513,this[_0x4e0382(0x777)][_0x4e0382(0x207)]);if(_0x5a7b40&&_0x5a7b40['shareOwners']&&_0x5a7b40[_0x4e0382(0x276)][_0x4e0382(0x15f)]>0x1&&this[_0x4e0382(0x2a7)](_0x5a7b40['_id'],this[_0x4e0382(0x777)][_0x4e0382(0x207)]),!_0x5a7b40)throw new Error(_0x4e0382(0x60a));return _0x5a7b40;}catch(_0x4bd7df){throw this['logger'][_0x4e0382(0x1b4)](this['instanceName']+'\x20('+this[_0x4e0382(0x777)][_0x4e0382(0x207)]+_0x4e0382(0x24e)+(_0x4bd7df instanceof Error?_0x4bd7df['message']:JSON[_0x4e0382(0x676)](_0x4bd7df,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x4bd7df instanceof Error?_0x4bd7df['message']:JSON[_0x4e0382(0x676)](_0x4bd7df,null,0x2)));}}async[a0_0x18e9af(0x32c)](_0x14d27e){const _0x2f9f25=a0_0x18e9af;try{this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2f9f25(0x207)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x94e412=await this[_0x2f9f25(0x305)][_0x2f9f25(0x603)][_0x2f9f25(0x238)]({'where':{'name':_0x14d27e[_0x2f9f25(0x10b)]}},this[_0x2f9f25(0x777)]['wuid']);if(!_0x94e412)throw new Error(_0x2f9f25(0x26e));let _0x1a5f1b=!0x1;if(_0x14d27e['varedit']?.[_0x2f9f25(0x5ef)]===!0x0)_0x94e412['varedits']=_0x94e412['varedits'][_0x2f9f25(0x2f4)](_0x1c7b94=>_0x1c7b94&&_0x14d27e[_0x2f9f25(0x687)]&&_0x1c7b94[_0x2f9f25(0x550)]&&_0x14d27e['varedit'][_0x2f9f25(0x550)]&&_0x1c7b94[_0x2f9f25(0x550)][_0x2f9f25(0x2fb)]()!==_0x14d27e[_0x2f9f25(0x687)]['_id']['toString']()),_0x1a5f1b=!0x0;else{let _0x3e6d0a=_0x94e412[_0x2f9f25(0x317)]['find'](_0x1b0ece=>_0x1b0ece&&_0x14d27e[_0x2f9f25(0x687)]&&_0x1b0ece[_0x2f9f25(0x550)]&&_0x14d27e['varedit']['_id']&&_0x1b0ece[_0x2f9f25(0x550)][_0x2f9f25(0x2fb)]()===_0x14d27e[_0x2f9f25(0x687)][_0x2f9f25(0x550)][_0x2f9f25(0x2fb)]());_0x3e6d0a?(_0x1a5f1b=_0x3e6d0a[_0x2f9f25(0x181)]!==_0x14d27e['varedit'][_0x2f9f25(0x181)],Object['assign'](_0x3e6d0a,_0x14d27e[_0x2f9f25(0x687)])):(_0x94e412['varedits'][_0x2f9f25(0x256)](_0x14d27e[_0x2f9f25(0x687)]),_0x1a5f1b=!0x0);}if(_0x1a5f1b){_0x94e412[_0x2f9f25(0x317)][_0x2f9f25(0x540)]((_0x2397f2,_0x235060)=>_0x2397f2['order']>_0x235060['order']?0x1:_0x235060[_0x2f9f25(0x181)]>_0x2397f2[_0x2f9f25(0x181)]?-0x1:0x0);for(let _0x11d018=0x0;_0x11d018<_0x94e412['varedits'][_0x2f9f25(0x15f)];_0x11d018++)_0x94e412['varedits'][_0x11d018]['order']=_0x11d018+0x1;}let _0x3e085c=await this[_0x2f9f25(0x305)][_0x2f9f25(0x603)][_0x2f9f25(0x151)](_0x94e412['_id'],_0x94e412,this[_0x2f9f25(0x777)]['wuid']);if(_0x3e085c&&_0x3e085c[_0x2f9f25(0x276)]&&_0x3e085c[_0x2f9f25(0x276)][_0x2f9f25(0x15f)]>0x1&&this[_0x2f9f25(0x2a7)](_0x3e085c['_id'],this['instance']['wuid']),!_0x3e085c)throw new Error(_0x2f9f25(0x60a));return _0x3e085c;}catch(_0x190ad2){throw this['logger'][_0x2f9f25(0x1b4)](this[_0x2f9f25(0x584)]+'\x20('+this[_0x2f9f25(0x777)][_0x2f9f25(0x207)]+_0x2f9f25(0x24e)+(_0x190ad2 instanceof Error?_0x190ad2[_0x2f9f25(0x668)]:JSON[_0x2f9f25(0x676)](_0x190ad2,null,0x2))),new w('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x190ad2 instanceof Error?_0x190ad2[_0x2f9f25(0x668)]:JSON[_0x2f9f25(0x676)](_0x190ad2,null,0x2)));}}async[a0_0x18e9af(0x1f1)](_0x53a565){const _0x40a725=a0_0x18e9af;try{this[_0x40a725(0x232)][_0x40a725(0x591)](this['instanceName']+'\x20('+this['instance'][_0x40a725(0x207)]+_0x40a725(0x1c7));let _0x13cfe1=await this[_0x40a725(0x305)]['flow'][_0x40a725(0x238)]({'where':{'name':_0x53a565[_0x40a725(0x10b)]}},this[_0x40a725(0x777)]['wuid']);if(!_0x13cfe1)throw new Error(_0x40a725(0x26e));_0x53a565[_0x40a725(0x444)][_0x40a725(0x10b)]=_0x53a565[_0x40a725(0x444)][_0x40a725(0x10b)][_0x40a725(0x1ec)](),_0x53a565['variable']['name']['startsWith']('_')&&(_0x53a565[_0x40a725(0x444)]['name']=_0x53a565[_0x40a725(0x444)][_0x40a725(0x10b)][_0x40a725(0x5b3)](0x1)),_0x53a565[_0x40a725(0x444)][_0x40a725(0x10b)]=_0x53a565['variable']['name']['trim']();let _0x419447=_0x13cfe1[_0x40a725(0x77e)][_0x40a725(0x493)](_0x181eb4=>_0x181eb4['name']===_0x53a565[_0x40a725(0x444)][_0x40a725(0x10b)]);if(_0x419447?.['leadInfo']===!0x0)throw new Error(_0x40a725(0x37d));if(_0x53a565[_0x40a725(0x444)]?.[_0x40a725(0x5ef)]===!0x0){if(!_0x419447)return{'message':_0x40a725(0x1cf)};_0x13cfe1[_0x40a725(0x77e)]=_0x13cfe1[_0x40a725(0x77e)]['filter'](_0x2898d0=>_0x2898d0[_0x40a725(0x10b)]!==_0x53a565['variable'][_0x40a725(0x10b)]);}else _0x419447?Object[_0x40a725(0x735)](_0x419447,_0x53a565[_0x40a725(0x444)]):_0x13cfe1['variables'][_0x40a725(0x256)](_0x53a565[_0x40a725(0x444)]);let _0x209067=await this[_0x40a725(0x305)][_0x40a725(0x603)]['updateOne'](_0x13cfe1[_0x40a725(0x550)],_0x13cfe1,this[_0x40a725(0x777)][_0x40a725(0x207)]);if(_0x209067&&_0x209067[_0x40a725(0x276)]&&_0x209067[_0x40a725(0x276)]['length']>0x1&&this[_0x40a725(0x2a7)](_0x209067[_0x40a725(0x550)],this[_0x40a725(0x777)][_0x40a725(0x207)]),!_0x209067)throw new Error(_0x40a725(0x60a));return _0x209067;}catch(_0x2355f8){throw this[_0x40a725(0x232)][_0x40a725(0x1b4)](this['instanceName']+'\x20('+this[_0x40a725(0x777)][_0x40a725(0x207)]+_0x40a725(0x513)+(_0x2355f8 instanceof Error?_0x2355f8['message']:JSON[_0x40a725(0x676)](_0x2355f8,null,0x2))),new w(_0x40a725(0x100)+(_0x2355f8 instanceof Error?_0x2355f8[_0x40a725(0x668)]:JSON['stringify'](_0x2355f8,null,0x2)));}}async['startFlow'](_0x35c6d6){const _0x4ffead=a0_0x18e9af;let _0x7f9480=null;try{if(!this[_0x4ffead(0x3a5)]?.[_0x4ffead(0x3a8)]['enabled'])throw new w('Fluxos\x20não\x20estão\x20ativados');this[_0x4ffead(0x232)][_0x4ffead(0x591)](this[_0x4ffead(0x584)]+'\x20('+this[_0x4ffead(0x777)][_0x4ffead(0x207)]+_0x4ffead(0x285));let _0x58e5ae=(await this[_0x4ffead(0x407)]({'numbers':[_0x35c6d6['remoteJid']]}))[0x0];if(!_0x58e5ae[_0x4ffead(0x778)]&&!(0x0,m[_0x4ffead(0x5f0)])(_0x58e5ae[_0x4ffead(0x35c)])&&!_0x58e5ae[_0x4ffead(0x35c)]['includes'](_0x4ffead(0x3a0)))throw _0x7f9480=JSON[_0x4ffead(0x676)](_0x58e5ae,null,0x2),new w(_0x58e5ae);let _0x33befc=await this['repository'][_0x4ffead(0x603)][_0x4ffead(0x238)]({'where':{'name':_0x35c6d6[_0x4ffead(0x10b)]}},this[_0x4ffead(0x777)]['wuid']);if(!_0x33befc)return this['logger'][_0x4ffead(0x1b4)](this[_0x4ffead(0x584)]+'\x20('+this[_0x4ffead(0x777)]['wuid']+'):\x20Flow\x20não\x20encontrado'),{'message':_0x4ffead(0x26e)};let _0x3a6aeb=await this[_0x4ffead(0x68a)](_0x33befc,_0x58e5ae[_0x4ffead(0x35c)],_0x35c6d6[_0x4ffead(0x6bf)]);if(_0x3a6aeb){this[_0x4ffead(0x232)]['verbose'](this[_0x4ffead(0x584)]+'\x20('+this['instance'][_0x4ffead(0x207)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x56e77a=await this[_0x4ffead(0x1b6)](_0x3a6aeb);return _0x56e77a&&await this[_0x4ffead(0x677)](_0x3a6aeb,_0x56e77a),{'message':'Flow\x20iniciado\x20com\x20'+_0x35c6d6[_0x4ffead(0x3fc)]};}}catch(_0x39943c){if(this['logger'][_0x4ffead(0x1b4)](this[_0x4ffead(0x584)]+'\x20('+this[_0x4ffead(0x777)]['wuid']+_0x4ffead(0x5af)+(_0x39943c instanceof Error?_0x39943c['message']:JSON[_0x4ffead(0x676)](_0x39943c,null,0x2))),_0x7f9480=_0x39943c instanceof Error?_0x39943c[_0x4ffead(0x668)]:JSON[_0x4ffead(0x676)](_0x39943c,null,0x2),_0x7f9480)throw new w(_0x4ffead(0x18d)+_0x7f9480);}}async[a0_0x18e9af(0x312)](_0x11ee14){const _0x323ff9=a0_0x18e9af;try{let _0xc14f98={'remoteJid':_0x11ee14,'status':'open'},_0x2c32db={'status':'closed'},_0x255351=await this[_0x323ff9(0x305)][_0x323ff9(0x3f7)]['updateMany'](_0xc14f98,_0x2c32db,this[_0x323ff9(0x777)][_0x323ff9(0x207)]);return this[_0x323ff9(0x232)][_0x323ff9(0x591)](this['instanceName']+'\x20('+this[_0x323ff9(0x777)]['wuid']+_0x323ff9(0x32f)),_0x255351;}catch(_0x4c6f8b){throw this[_0x323ff9(0x232)][_0x323ff9(0x1b4)](this[_0x323ff9(0x584)]+'\x20('+this[_0x323ff9(0x777)][_0x323ff9(0x207)]+_0x323ff9(0x678)+_0x4c6f8b[_0x323ff9(0x668)]),_0x4c6f8b;}}async[a0_0x18e9af(0x68a)](_0x4573ea,_0xece925,_0x12408f){const _0x820e93=a0_0x18e9af;this[_0x820e93(0x232)][_0x820e93(0x591)](this[_0x820e93(0x584)]+'\x20('+this[_0x820e93(0x777)][_0x820e93(0x207)]+_0x820e93(0x716)),await this[_0x820e93(0x312)](_0xece925);try{let _0x346929=require(_0x820e93(0x3c2))[_0x820e93(0x711)],_0x50859d=Date[_0x820e93(0x60d)](),_0x550399='start',_0x328408={},_0x40116c={},_0x26a770={..._0x4573ea,'chatLog':null},_0x329291=await this[_0x820e93(0x283)](_0x26a770['variables']),_0x30f4f8=await this[_0x820e93(0x2c1)](_0xece925),_0x502f81={..._0x329291,..._0x30f4f8,'_remoteJid':_0xece925},_0xb6129d={'lastReceivedMessage':_0x328408,'lastSendMessage':_0x40116c,'lastBlockId':_0x550399,'lastCondition':!0x0,'realVariables':_0x502f81};_0x26a770['chatLog']=_0xb6129d,_0x26a770[_0x820e93(0x18b)][_0x820e93(0x71c)]={..._0x502f81,..._0x12408f},delete _0x26a770[_0x820e93(0x550)],_0x26a770[_0x820e93(0x550)]=new _0x346929(),_0x26a770['lastInteraction']=_0x50859d,_0x26a770[_0x820e93(0x522)]=_0x820e93(0x446),_0x26a770[_0x820e93(0x3fc)]=_0xece925;let _0x13b05b=await this[_0x820e93(0x305)][_0x820e93(0x3f7)][_0x820e93(0x151)](_0x26a770['_id'],_0x26a770,this['instance']['wuid']);return this['logger'][_0x820e93(0x591)](this[_0x820e93(0x584)]+'\x20('+this['instance'][_0x820e93(0x207)]+_0x820e93(0x178)),_0x13b05b?_0x26a770:null;}catch(_0x232825){throw this['logger']['error'](this[_0x820e93(0x584)]+'\x20('+this['instance'][_0x820e93(0x207)]+_0x820e93(0x554)+(_0x232825 instanceof Error?_0x232825[_0x820e93(0x668)]:JSON[_0x820e93(0x676)](_0x232825,null,0x2))),new w(_0x232825[_0x820e93(0x668)]);}}async[a0_0x18e9af(0x38b)](_0xb069a7){const _0x265618=a0_0x18e9af;try{this[_0x265618(0x232)]['verbose'](this[_0x265618(0x584)]+'\x20('+this['instance'][_0x265618(0x207)]+'):\x20Buscando\x20conversa...'),this[_0x265618(0x232)]['verbose'](this[_0x265618(0x584)]+'\x20('+this['instance'][_0x265618(0x207)]+'):\x20Query\x20params:\x20'+_0xb069a7);let _0x476396={'where':{'_id':_0xb069a7}};return await this[_0x265618(0x305)][_0x265618(0x3f7)][_0x265618(0x238)](_0x476396,this[_0x265618(0x777)]['wuid']);}catch(_0x553bd6){throw this[_0x265618(0x232)][_0x265618(0x1b4)](this[_0x265618(0x584)]+'\x20('+this[_0x265618(0x777)][_0x265618(0x207)]+_0x265618(0x6d9)+(_0x553bd6 instanceof Error?_0x553bd6['message']:JSON[_0x265618(0x676)](_0x553bd6,null,0x2))),new w('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x553bd6['message']);}}async[a0_0x18e9af(0x1c2)](_0x53243f){const _0x6462fc=a0_0x18e9af;try{return this[_0x6462fc(0x232)][_0x6462fc(0x591)](this[_0x6462fc(0x584)]+'\x20('+this[_0x6462fc(0x777)][_0x6462fc(0x207)]+'):\x20Buscando\x20conversas...'),await this[_0x6462fc(0x305)]['flowConversation'][_0x6462fc(0x493)](_0x53243f,this[_0x6462fc(0x777)][_0x6462fc(0x207)]);}catch(_0x130417){throw this[_0x6462fc(0x232)][_0x6462fc(0x1b4)](this['instanceName']+'\x20('+this['instance'][_0x6462fc(0x207)]+_0x6462fc(0x55e)+(_0x130417 instanceof Error?_0x130417[_0x6462fc(0x668)]:JSON[_0x6462fc(0x676)](_0x130417,null,0x2))),new w(_0x6462fc(0x71f)+_0x130417[_0x6462fc(0x668)]);}}async[a0_0x18e9af(0x773)](_0xe418e8){const _0x2c4acc=a0_0x18e9af;try{return this['logger'][_0x2c4acc(0x591)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2c4acc(0x134)),this[_0x2c4acc(0x232)][_0x2c4acc(0x591)](this[_0x2c4acc(0x584)]+'\x20('+this[_0x2c4acc(0x777)][_0x2c4acc(0x207)]+_0x2c4acc(0x572)+_0xe418e8),(await this['repository'][_0x2c4acc(0x3f7)][_0x2c4acc(0x406)]({'where':{'_id':_0xe418e8}},this[_0x2c4acc(0x777)][_0x2c4acc(0x207)]))[_0x2c4acc(0x4b8)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x2c4acc(0x4fc)};}catch(_0x228b7f){throw this[_0x2c4acc(0x232)][_0x2c4acc(0x1b4)](this[_0x2c4acc(0x584)]+'\x20('+this[_0x2c4acc(0x777)][_0x2c4acc(0x207)]+_0x2c4acc(0x24c)+(_0x228b7f instanceof Error?_0x228b7f['message']:JSON[_0x2c4acc(0x676)](_0x228b7f,null,0x2))),new w('Erro\x20ao\x20deletar\x20a\x20conversa:\x20'+_0x228b7f[_0x2c4acc(0x668)]);}}async[a0_0x18e9af(0x64b)](_0x2fedc3){const _0x442b0c=a0_0x18e9af;try{let {_id:_0x18b85b,chatLog:_0x3122d5,status:_0x47904a}=_0x2fedc3;if(!_0x18b85b)return{'message':_0x442b0c(0x3cb)};let _0x12230c={};if(_0x47904a!==void 0x0&&(_0x12230c['status']=_0x47904a),Object[_0x442b0c(0x581)](_0x12230c)['length']===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x45fc35=await this['repository']['flowConversation'][_0x442b0c(0x151)](_0x18b85b,_0x12230c,this[_0x442b0c(0x777)][_0x442b0c(0x207)]);return _0x45fc35||{'message':_0x442b0c(0x452)};}catch(_0x13fc78){throw this['logger'][_0x442b0c(0x1b4)](this[_0x442b0c(0x584)]+'\x20('+this[_0x442b0c(0x777)]['wuid']+_0x442b0c(0x602)+(_0x13fc78 instanceof Error?_0x13fc78[_0x442b0c(0x668)]:JSON[_0x442b0c(0x676)](_0x13fc78,null,0x2))),new w(_0x442b0c(0x12d)+_0x13fc78[_0x442b0c(0x668)]);}}async[a0_0x18e9af(0x633)](_0x88af54){const _0x399045=a0_0x18e9af;let _0x34b399=await this[_0x399045(0x305)][_0x399045(0x25a)][_0x399045(0x238)]({'where':{'_id':_0x88af54[_0x399045(0x550)]}},this[_0x399045(0x777)][_0x399045(0x207)]);if(!_0x34b399)throw new w(_0x399045(0x165));console[_0x399045(0x704)](_0x88af54);try{_0x88af54[_0x399045(0x550)]=this[_0x399045(0x71b)](_0x88af54[_0x399045(0x550)]);let {_id:_0x2e15e8,leadInfo:_0x564cd1}=_0x88af54;if(!_0x2e15e8)throw new Error(_0x399045(0x3fe));let _0xd2cfd3=(_0x1c80c5,_0x1742a7,_0x10e2e5)=>{_0x1c80c5&&_0x10e2e5['forEach'](_0x21a536=>{const _0x14e00c=a0_0x7bd5;_0x1c80c5[_0x21a536]!==void 0x0&&(_0x1742a7[_0x14e00c(0x6bd)+_0x21a536]=_0x1c80c5[_0x21a536]);});},_0x27743a={};if(_0x564cd1&&(_0xd2cfd3(_0x564cd1,_0x27743a,[_0x399045(0x40a),_0x399045(0x28a),'email',_0x399045(0x2ec),_0x399045(0x522),'notas','tags',_0x399045(0x113),_0x399045(0x616),_0x399045(0x286)]),Array[_0x399045(0x26c)](_0x564cd1['customFields'])&&(_0x27743a[_0x399045(0x44c)]=_0x564cd1[_0x399045(0x5ea)][_0x399045(0x48c)](_0xeaf8e7=>({'_id':_0xeaf8e7[_0x399045(0x550)],'value':_0xeaf8e7['value']}))),_0x88af54[_0x399045(0x6ff)][_0x399045(0x286)]!==void 0x0)){let _0x4ddef5=await this[_0x399045(0x305)][_0x399045(0x4d2)][_0x399045(0x493)]({'where':{}},this[_0x399045(0x777)][_0x399045(0x207)]),_0x9c2d82=new Set(_0x88af54[_0x399045(0x6ff)]['etiquetas']||[]),_0xbe0f90=new Set(_0x88af54['leadInfo'][_0x399045(0x286)]),_0x52bb3d=new Set(_0x4ddef5[_0x399045(0x48c)](_0x1cec6c=>_0x1cec6c[_0x399045(0x550)])),_0x274e43=[..._0xbe0f90][_0x399045(0x2f4)](_0x2d49f2=>!_0x9c2d82[_0x399045(0x2da)](_0x2d49f2)&&_0x52bb3d[_0x399045(0x2da)](_0x2d49f2)),_0x8e8921=[..._0x9c2d82][_0x399045(0x2f4)](_0x5b5f7e=>!_0xbe0f90[_0x399045(0x2da)](_0x5b5f7e));if(_0x27743a[_0x399045(0x47e)]=[..._0x9c2d82],_0x34b399&&!_0x34b399['imported']){for(let _0x49bc5d of _0x274e43)await this[_0x399045(0x188)](_0x49bc5d,_0x88af54['_id']),_0x9c2d82[_0x399045(0x527)](_0x49bc5d);for(let _0x332163 of _0x8e8921)await this[_0x399045(0x5a8)](_0x332163,_0x88af54[_0x399045(0x550)]),_0x9c2d82[_0x399045(0x5ef)](_0x332163);}}if(_0x88af54[_0x399045(0x601)]!==void 0x0&&(_0x27743a[_0x399045(0x601)]=Number(_0x88af54['unreadcount'])),Object['keys'](_0x27743a)['length']===0x0)throw new Error(_0x399045(0x1bd));let _0x3ab0ea=await this[_0x399045(0x305)][_0x399045(0x25a)][_0x399045(0x151)]({'where':{'_id':_0x88af54[_0x399045(0x550)]}},_0x27743a,this[_0x399045(0x777)][_0x399045(0x207)]);return _0x3ab0ea&&q(this['instanceName'],_0x399045(0x535),{'chat':_0x3ab0ea}),_0x3ab0ea?(this[_0x399045(0x232)][_0x399045(0x591)](this[_0x399045(0x584)]+'\x20('+this['instance'][_0x399045(0x207)]+_0x399045(0x208)+JSON[_0x399045(0x676)](_0x3ab0ea,null,0x2)),_0x3ab0ea):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x2626c0){throw this[_0x399045(0x232)]['error'](this[_0x399045(0x584)]+'\x20('+this[_0x399045(0x777)][_0x399045(0x207)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+(_0x2626c0 instanceof Error?_0x2626c0[_0x399045(0x668)]:JSON[_0x399045(0x676)](_0x2626c0,null,0x2))),new w('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x2626c0['message']);}}async['AddChatLabel'](_0x44d481,_0x3a850f){const _0x1703f3=a0_0x18e9af;try{await this['client'][_0x1703f3(0x14d)](_0x3a850f,_0x44d481),console['log']('Label\x20'+_0x44d481+_0x1703f3(0x745)+_0x3a850f+_0x1703f3(0x646));}catch(_0x46864d){console[_0x1703f3(0x1b4)](_0x1703f3(0x595)+_0x44d481+_0x1703f3(0x190)+_0x3a850f+':',_0x46864d);}}async[a0_0x18e9af(0x5a8)](_0x1870d4,_0x293e82){const _0x4a0cb6=a0_0x18e9af;try{await this[_0x4a0cb6(0x18c)][_0x4a0cb6(0x251)](_0x293e82,_0x1870d4),console['log'](_0x4a0cb6(0x547)+_0x1870d4+_0x4a0cb6(0x322)+_0x293e82+_0x4a0cb6(0x646));}catch(_0x3ff35d){console[_0x4a0cb6(0x1b4)](_0x4a0cb6(0x507)+_0x1870d4+_0x4a0cb6(0x373)+_0x293e82+':',_0x3ff35d);}}async['updateAgent'](_0x1ffdbf){const _0x276ade=a0_0x18e9af;try{let _0x475589=await this['repository'][_0x276ade(0x415)]['findOrCreate'](this['instance'][_0x276ade(0x207)]),_0x98585d=_0x1ffdbf['_id']?_0x475589[_0x276ade(0x705)][_0x276ade(0x112)](_0x23bfc4=>_0x23bfc4[_0x276ade(0x550)]===_0x1ffdbf[_0x276ade(0x550)]):-0x1;if(_0x1ffdbf[_0x276ade(0x5ef)]&&_0x98585d>-0x1)_0x475589['agents'][_0x276ade(0x177)](_0x98585d,0x1);else{if(_0x98585d>-0x1){let _0x41d625=_0x475589[_0x276ade(0x705)][_0x98585d];_0x1ffdbf[_0x276ade(0x404)]&&(_0x41d625[_0x276ade(0x404)]=_0x1ffdbf['fone']),_0x1ffdbf['name']&&(_0x41d625[_0x276ade(0x10b)]=_0x1ffdbf[_0x276ade(0x10b)]),_0x1ffdbf[_0x276ade(0x402)]&&(_0x41d625[_0x276ade(0x402)]=_0x1ffdbf[_0x276ade(0x402)]),_0x1ffdbf[_0x276ade(0x3f8)]&&(_0x41d625[_0x276ade(0x3f8)]=_0x1ffdbf[_0x276ade(0x3f8)]);}else _0x475589['agents'][_0x276ade(0x256)]({'_id':_0x1ffdbf[_0x276ade(0x550)]||new ne['default'][(_0x276ade(0x472))]['ObjectId']()[_0x276ade(0x2fb)](),'fone':_0x1ffdbf[_0x276ade(0x404)],'name':_0x1ffdbf['name'],'email':_0x1ffdbf[_0x276ade(0x402)],'role':_0x1ffdbf[_0x276ade(0x3f8)]});}let _0x202598={'agents':_0x475589[_0x276ade(0x705)]},_0x2008d2=await this[_0x276ade(0x305)][_0x276ade(0x415)]['update'](_0x202598,this[_0x276ade(0x777)][_0x276ade(0x207)]);return this['AutomateSystem']=_0x2008d2,this[_0x276ade(0x232)]['verbose'](this['instanceName']+'\x20('+this[_0x276ade(0x777)][_0x276ade(0x207)]+_0x276ade(0x53b)),this[_0x276ade(0x232)][_0x276ade(0x591)](this[_0x276ade(0x584)]+'\x20('+this['instance'][_0x276ade(0x207)]+'):\x20'+this[_0x276ade(0x3a5)]),_0x2008d2;}catch(_0x379393){throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x276ade(0x207)]+_0x276ade(0x170)+(_0x379393 instanceof Error?_0x379393[_0x276ade(0x668)]:JSON[_0x276ade(0x676)](_0x379393,null,0x2))),new w(_0x276ade(0x423)+_0x379393[_0x276ade(0x668)]);}}async[a0_0x18e9af(0x14f)](_0x3ccbeb){const _0x5a21cd=a0_0x18e9af;try{let _0x4b1c73=await this[_0x5a21cd(0x305)]['automateSystem'][_0x5a21cd(0x224)](this[_0x5a21cd(0x777)][_0x5a21cd(0x207)]),_0x2986b3=_0x3ccbeb[_0x5a21cd(0x550)]?_0x4b1c73[_0x5a21cd(0x5ea)]['findIndex'](_0x3907cb=>_0x3907cb[_0x5a21cd(0x550)]===_0x3ccbeb[_0x5a21cd(0x550)]):-0x1,_0x5f21f2=!0x1,_0x34b723=_0x4b1c73[_0x5a21cd(0x5ea)][_0x5a21cd(0x587)](_0x2c333d=>_0x2c333d[_0x5a21cd(0x181)]===_0x3ccbeb['order']);if(_0x3ccbeb[_0x5a21cd(0x5ef)]&&_0x2986b3>-0x1)_0x4b1c73[_0x5a21cd(0x5ea)]['splice'](_0x2986b3,0x1),_0x5f21f2=!0x0;else{if(_0x2986b3>-0x1){if(_0x4b1c73[_0x5a21cd(0x5ea)]['some'](_0xf57182=>_0xf57182[_0x5a21cd(0x10b)]===_0x3ccbeb[_0x5a21cd(0x10b)]&&_0xf57182[_0x5a21cd(0x550)]!==_0x3ccbeb[_0x5a21cd(0x550)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x1702ab=_0x4b1c73[_0x5a21cd(0x5ea)][_0x2986b3];_0x3ccbeb['order']&&(_0x34b723||!Number['isInteger'](_0x3ccbeb[_0x5a21cd(0x181)]))&&(_0x1702ab[_0x5a21cd(0x181)]=_0x3ccbeb[_0x5a21cd(0x181)],_0x5f21f2=!0x0),_0x3ccbeb['name']&&(_0x1702ab['name']=_0x3ccbeb[_0x5a21cd(0x10b)]);}else{if(_0x4b1c73[_0x5a21cd(0x5ea)][_0x5a21cd(0x587)](_0x5926e1=>_0x5926e1[_0x5a21cd(0x10b)]===_0x3ccbeb[_0x5a21cd(0x10b)]&&_0x5926e1[_0x5a21cd(0x550)]!==_0x3ccbeb[_0x5a21cd(0x550)]))throw new Error(_0x5a21cd(0x5a0));_0x4b1c73[_0x5a21cd(0x5ea)][_0x5a21cd(0x256)]({'_id':_0x3ccbeb['_id']||new ne['default'][(_0x5a21cd(0x472))]['ObjectId']()[_0x5a21cd(0x2fb)](),'order':_0x3ccbeb['order'],'name':_0x3ccbeb[_0x5a21cd(0x10b)]}),_0x5f21f2=!0x0;}}if(_0x5f21f2){_0x4b1c73[_0x5a21cd(0x5ea)][_0x5a21cd(0x540)]((_0xb4ad5e,_0x9c551b)=>_0xb4ad5e[_0x5a21cd(0x181)]>_0x9c551b[_0x5a21cd(0x181)]?0x1:_0x9c551b[_0x5a21cd(0x181)]>_0xb4ad5e['order']?-0x1:0x0);for(let _0x49ad59=0x0;_0x49ad59<_0x4b1c73[_0x5a21cd(0x5ea)][_0x5a21cd(0x15f)];_0x49ad59++)_0x4b1c73[_0x5a21cd(0x5ea)][_0x49ad59][_0x5a21cd(0x181)]=_0x49ad59+0x1;}let _0x824102=await this[_0x5a21cd(0x305)][_0x5a21cd(0x415)][_0x5a21cd(0x70c)](_0x4b1c73,this[_0x5a21cd(0x777)]['wuid']);return this['AutomateSystem']=_0x824102,this[_0x5a21cd(0x232)]['verbose'](this[_0x5a21cd(0x584)]+'\x20('+this[_0x5a21cd(0x777)][_0x5a21cd(0x207)]+_0x5a21cd(0x341)),this['logger'][_0x5a21cd(0x591)](this['instanceName']+'\x20('+this[_0x5a21cd(0x777)]['wuid']+_0x5a21cd(0x208)+this['AutomateSystem']),_0x824102;}catch(_0x26dabd){throw this[_0x5a21cd(0x232)]['error'](this[_0x5a21cd(0x584)]+'\x20('+this['instance'][_0x5a21cd(0x207)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x26dabd instanceof Error?_0x26dabd['message']:JSON[_0x5a21cd(0x676)](_0x26dabd,null,0x2))),new w(_0x5a21cd(0x619)+_0x26dabd['message']);}}async[a0_0x18e9af(0x549)](_0x4e4ccc){const _0x3eeda6=a0_0x18e9af;try{let _0xe17b03=await this['repository'][_0x3eeda6(0x415)][_0x3eeda6(0x224)](this[_0x3eeda6(0x777)][_0x3eeda6(0x207)]);if(!_0xe17b03)throw new Error(_0x3eeda6(0x175));let _0x23c892={'_id':_0xe17b03[_0x3eeda6(0x550)],'flowConfig':{'enabled':_0x4e4ccc['enabled']??_0xe17b03[_0x3eeda6(0x3a8)][_0x3eeda6(0x475)],'ignoreGroups':_0x4e4ccc['ignoreGroups']??_0xe17b03[_0x3eeda6(0x3a8)][_0x3eeda6(0x1dd)],'prefixCommand':_0x4e4ccc[_0x3eeda6(0x65f)]??_0xe17b03[_0x3eeda6(0x3a8)][_0x3eeda6(0x65f)],'stopConversation':_0x4e4ccc[_0x3eeda6(0x372)]??_0xe17b03[_0x3eeda6(0x3a8)][_0x3eeda6(0x372)],'stopMinutes':_0x4e4ccc[_0x3eeda6(0x15c)]??_0xe17b03['flowConfig'][_0x3eeda6(0x15c)],'stopWhenYouSendMsg':_0x4e4ccc[_0x3eeda6(0x398)]??_0xe17b03['flowConfig'][_0x3eeda6(0x398)]}},_0x1d6d37=await this[_0x3eeda6(0x305)]['automateSystem'][_0x3eeda6(0x70c)](_0x23c892,this['instance'][_0x3eeda6(0x207)]);return this[_0x3eeda6(0x3a5)]=_0x1d6d37,this[_0x3eeda6(0x232)][_0x3eeda6(0x591)](this[_0x3eeda6(0x584)]+'\x20('+this[_0x3eeda6(0x777)][_0x3eeda6(0x207)]+_0x3eeda6(0x53b)),this[_0x3eeda6(0x232)]['verbose'](this[_0x3eeda6(0x584)]+'\x20('+this[_0x3eeda6(0x777)][_0x3eeda6(0x207)]+_0x3eeda6(0x208)+this['AutomateSystem']),setTimeout(()=>this[_0x3eeda6(0x2d7)](),0x7d0),_0x1d6d37;}catch(_0x3cf28a){throw this[_0x3eeda6(0x232)]['error'](this[_0x3eeda6(0x584)]+'\x20('+this[_0x3eeda6(0x777)][_0x3eeda6(0x207)]+_0x3eeda6(0x55f)+(_0x3cf28a instanceof Error?_0x3cf28a[_0x3eeda6(0x668)]:JSON[_0x3eeda6(0x676)](_0x3cf28a,null,0x2))),new w(_0x3eeda6(0x40c)+_0x3cf28a[_0x3eeda6(0x668)]);}}async[a0_0x18e9af(0x665)](){const _0x48f4ca=a0_0x18e9af;try{let _0x398cf8=await this[_0x48f4ca(0x305)][_0x48f4ca(0x415)][_0x48f4ca(0x224)](this[_0x48f4ca(0x777)][_0x48f4ca(0x207)]);return this[_0x48f4ca(0x3a5)]=_0x398cf8,this[_0x48f4ca(0x232)][_0x48f4ca(0x591)](this[_0x48f4ca(0x584)]+'\x20('+this['instance']['wuid']+_0x48f4ca(0x566)),this['logger'][_0x48f4ca(0x591)](this[_0x48f4ca(0x3a5)]),_0x398cf8;}catch(_0x258bd4){throw this[_0x48f4ca(0x232)]['error'](this[_0x48f4ca(0x584)]+'\x20('+this[_0x48f4ca(0x777)][_0x48f4ca(0x207)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x258bd4 instanceof Error?_0x258bd4[_0x48f4ca(0x668)]:JSON[_0x48f4ca(0x676)](_0x258bd4,null,0x2))),new w(_0x48f4ca(0x450)+_0x258bd4[_0x48f4ca(0x668)]);}}async[a0_0x18e9af(0x4c8)](){const _0x5726f4=a0_0x18e9af;this[_0x5726f4(0x35b)]&&clearTimeout(this[_0x5726f4(0x35b)]),this[_0x5726f4(0x35b)]=setTimeout(()=>{const _0x5b76b1=_0x5726f4;this[_0x5b76b1(0x70a)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x18e9af(0x70a)](){const _0x2f09af=a0_0x18e9af;Date[_0x2f09af(0x60d)]()-this[_0x2f09af(0x41b)]>=0x1d4c0&&(this[_0x2f09af(0x232)]['verbose'](this[_0x2f09af(0x584)]+'\x20('+this['instance'][_0x2f09af(0x207)]+_0x2f09af(0x4f2)),this[_0x2f09af(0x47d)]=null,this[_0x2f09af(0x41b)]=0x0,this[_0x2f09af(0x514)]=0x0,await this[_0x2f09af(0x2d7)]());}async[a0_0x18e9af(0x2d7)](){const _0x23e8d2=a0_0x18e9af;let _0x455b8e=()=>{const _0x133411=a0_0x7bd5;this[_0x133411(0x232)][_0x133411(0x591)](this[_0x133411(0x584)]+'\x20('+this[_0x133411(0x777)][_0x133411(0x207)]+_0x133411(0x3e8)+this[_0x133411(0x47d)]+_0x133411(0x3ce));},_0x5a90a7=async()=>{const _0x549839=a0_0x7bd5;this[_0x549839(0x232)][_0x549839(0x591)](this[_0x549839(0x584)]+'\x20('+this['instance'][_0x549839(0x207)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x3f36ac=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x2182ce={'where':{'status':{'$in':[_0x549839(0x766),'sending']},'$or':[{'when':{'$lte':Date[_0x549839(0x60d)](),'$gte':_0x3f36ac}},{'when':0x0}]}};return await this[_0x549839(0x305)][_0x549839(0x11d)][_0x549839(0x493)](_0x2182ce,this['instance'][_0x549839(0x207)]);},_0x34c248=async _0x568d9a=>{const _0x466a18=a0_0x7bd5;for(let _0x352003 of _0x568d9a){let _0x439c55={'_id':_0x352003['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x466a18(0x60d)]()-0x1770}}]},_0x108662={'startSend':Date[_0x466a18(0x60d)]()};if(!await this[_0x466a18(0x305)][_0x466a18(0x11d)][_0x466a18(0x151)](_0x439c55,_0x108662,this[_0x466a18(0x777)][_0x466a18(0x207)]))return;if(!this[_0x466a18(0x39e)]){this[_0x466a18(0x232)]['verbose'](this[_0x466a18(0x584)]+'\x20('+this[_0x466a18(0x777)][_0x466a18(0x207)]+_0x466a18(0x336));break;}if(_0x352003['type']===_0x466a18(0x603)&&!this['AutomateSystem']?.[_0x466a18(0x3a8)][_0x466a18(0x475)]){this[_0x466a18(0x232)][_0x466a18(0x1b4)](this[_0x466a18(0x584)]+'\x20('+this[_0x466a18(0x777)]['wuid']+_0x466a18(0x29e));continue;}(!_0x352003[_0x466a18(0x764)]||_0x352003[_0x466a18(0x764)][_0x466a18(0x15f)]===0x0)&&(_0x352003=await this[_0x466a18(0x305)][_0x466a18(0x11d)][_0x466a18(0x36b)](_0x352003['_id'],{'status':_0x466a18(0x37b),'remoteJidsRemaining':[..._0x352003['remoteJids']]},this[_0x466a18(0x777)]['wuid']));for(let _0x17d4c0 of _0x352003['remoteJidsRemaining']){if(await this[_0x466a18(0x4c8)](),this[_0x466a18(0x41b)]=Date['now'](),_0x352003[_0x466a18(0x1d1)][_0x466a18(0x587)](_0x90f8f=>_0x90f8f[_0x466a18(0x3fc)]===_0x17d4c0)){this[_0x466a18(0x232)][_0x466a18(0x591)](this[_0x466a18(0x584)]+'\x20('+this[_0x466a18(0x777)][_0x466a18(0x207)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x17d4c0+_0x466a18(0x3b2));continue;}if(!this[_0x466a18(0x39e)]){this['logger'][_0x466a18(0x591)](this[_0x466a18(0x584)]+'\x20('+this[_0x466a18(0x777)]['wuid']+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x466a18(0x47d)]){this[_0x466a18(0x232)][_0x466a18(0x591)](this[_0x466a18(0x584)]+'\x20('+this[_0x466a18(0x777)][_0x466a18(0x207)]+_0x466a18(0x59f)+_0x352003[_0x466a18(0x550)]+_0x466a18(0x4bd));break;}if(_0x352003[_0x466a18(0x120)]===_0x466a18(0x603)&&!this[_0x466a18(0x3a5)]?.[_0x466a18(0x3a8)]['enabled']){this[_0x466a18(0x232)][_0x466a18(0x1b4)](this[_0x466a18(0x584)]+'\x20('+this[_0x466a18(0x777)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x1652bd={'remoteJid':_0x17d4c0,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x466a18(0x60d)]()},_0x3df4a9=null;try{let _0x3bdbbb=await this[_0x466a18(0x385)](_0x17d4c0,_0x352003);_0x1652bd[_0x466a18(0x1b4)]=_0x3bdbbb[_0x466a18(0x1b4)],_0x1652bd['id']=_0x3bdbbb[_0x466a18(0x1b4)]?null:_0x3bdbbb['id'],_0x1652bd[_0x466a18(0x715)]=_0x3bdbbb[_0x466a18(0x1b4)]?_0x3bdbbb['detail']?_0x3bdbbb[_0x466a18(0x107)]['toString']():'':null;let _0x3d6554={'$push':{'messagesSend':_0x1652bd},'$pull':{'remoteJidsRemaining':_0x17d4c0}},_0x108b66=_0x352003[_0x466a18(0x550)];if(_0x3df4a9=await this[_0x466a18(0x305)][_0x466a18(0x11d)][_0x466a18(0x36b)](_0x108b66,_0x3d6554,this[_0x466a18(0x777)][_0x466a18(0x207)]),_0x3bdbbb['error'])continue;let _0xada3cf=this[_0x466a18(0x599)](_0x352003[_0x466a18(0x683)],_0x352003[_0x466a18(0x14a)]);await this['sleep'](_0xada3cf);}catch(_0x512ff8){this[_0x466a18(0x232)][_0x466a18(0x1b4)](this[_0x466a18(0x584)]+'\x20('+this[_0x466a18(0x777)][_0x466a18(0x207)]+_0x466a18(0x27b)+_0x17d4c0+':\x20'+(_0x512ff8 instanceof Error?_0x512ff8[_0x466a18(0x668)]:JSON[_0x466a18(0x676)](_0x512ff8,null,0x2))),_0x1652bd[_0x466a18(0x1b4)]=!0x0,_0x1652bd[_0x466a18(0x715)]=_0x512ff8[_0x466a18(0x668)];let _0x43c14b={'$push':{'messagesSend':_0x1652bd},'$pull':{'remoteJidsRemaining':_0x17d4c0}},_0x20c259=_0x352003[_0x466a18(0x550)];_0x3df4a9=await this[_0x466a18(0x305)]['scheduleMessage'][_0x466a18(0x36b)](_0x20c259,_0x43c14b,this[_0x466a18(0x777)][_0x466a18(0x207)]);}finally{if(_0x3df4a9&&_0x3df4a9['status']===_0x466a18(0x760)){this['logger'][_0x466a18(0x591)](this[_0x466a18(0x584)]+'\x20('+this[_0x466a18(0x777)][_0x466a18(0x207)]+_0x466a18(0x59f)+_0x352003[_0x466a18(0x550)]+_0x466a18(0x1a4));break;}}}let _0x12cbd=await this['repository'][_0x466a18(0x11d)][_0x466a18(0x741)](_0x352003[_0x466a18(0x550)],this[_0x466a18(0x777)]['wuid']);if(_0x12cbd[_0x466a18(0x764)][_0x466a18(0x15f)]===0x0&&_0x12cbd[_0x466a18(0x522)]!==_0x466a18(0x760)){let _0x4b0ce2={'$set':{'status':'done'}},_0x228100=_0x12cbd[_0x466a18(0x550)];await this[_0x466a18(0x305)][_0x466a18(0x11d)][_0x466a18(0x36b)](_0x228100,_0x4b0ce2,this[_0x466a18(0x777)][_0x466a18(0x207)]);}await new Promise(_0x5bc289=>setTimeout(_0x5bc289,0x1388));}},_0x50f41d=async()=>{const _0x250b8f=a0_0x7bd5;let _0x11abbb={'where':{'status':'scheduled','when':{'$gt':Date[_0x250b8f(0x60d)]()}}},_0x13d95a=await this[_0x250b8f(0x305)][_0x250b8f(0x11d)][_0x250b8f(0x238)](_0x11abbb,this[_0x250b8f(0x777)][_0x250b8f(0x207)]);_0x13d95a&&_0x13d95a[_0x250b8f(0x425)]-Date['now']()<=0x5265c00?this[_0x250b8f(0x514)]=_0x13d95a[_0x250b8f(0x425)]-Date[_0x250b8f(0x60d)]():this[_0x250b8f(0x514)]=(0x3c+Math[_0x250b8f(0x5b7)](Math[_0x250b8f(0x59e)]()*0x3c))*0x3c*0x3e8,this[_0x250b8f(0x514)]=Math[_0x250b8f(0x50c)](this[_0x250b8f(0x514)],0x7d0);let _0x3ecc9d=Math[_0x250b8f(0x220)](this[_0x250b8f(0x514)]/0xea60);if(_0x13d95a){let _0x150a39=new Date(_0x13d95a[_0x250b8f(0x425)])['toLocaleString']();this[_0x250b8f(0x232)][_0x250b8f(0x591)](this['instanceName']+'\x20('+this[_0x250b8f(0x777)][_0x250b8f(0x207)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x150a39+_0x250b8f(0x746)+_0x3ecc9d+_0x250b8f(0x649));}else this[_0x250b8f(0x232)][_0x250b8f(0x591)](this[_0x250b8f(0x584)]+'\x20('+this[_0x250b8f(0x777)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x3ecc9d+'\x20minutos');setTimeout(()=>this[_0x250b8f(0x2d7)](),this[_0x250b8f(0x514)]);};if(this[_0x23e8d2(0x47d)]){await this[_0x23e8d2(0x4c8)](),_0x455b8e();return;}if(!this['isConnected']){this[_0x23e8d2(0x232)][_0x23e8d2(0x591)](this[_0x23e8d2(0x584)]+'\x20('+this[_0x23e8d2(0x777)][_0x23e8d2(0x207)]+_0x23e8d2(0x528)),this[_0x23e8d2(0x47d)]=null,this[_0x23e8d2(0x41b)]=0x0,this[_0x23e8d2(0x514)]=0x0;return;}try{let _0x15cf66=await _0x5a90a7();_0x15cf66[_0x23e8d2(0x15f)]===0x0?this[_0x23e8d2(0x232)]['verbose'](this[_0x23e8d2(0x584)]+'\x20('+this[_0x23e8d2(0x777)]['wuid']+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x23e8d2(0x47d)]=_0x15cf66[0x0][_0x23e8d2(0x550)],await _0x34c248(_0x15cf66)),await _0x50f41d(),this[_0x23e8d2(0x47d)]=null;}catch(_0x576e5f){this['logger'][_0x23e8d2(0x1b4)](_0x23e8d2(0x5bb)+(_0x576e5f instanceof Error?_0x576e5f['message']:JSON['stringify'](_0x576e5f,null,0x2)));}}[a0_0x18e9af(0x599)](_0x8af3e5,_0x374be4){const _0x461a54=a0_0x18e9af;return _0x8af3e5=Math[_0x461a54(0x50c)](0.5,_0x8af3e5),_0x374be4=Math[_0x461a54(0x54f)](Math[_0x461a54(0x50c)](0x3,_0x374be4),0x78),Math['floor'](Math[_0x461a54(0x59e)]()*(_0x374be4-_0x8af3e5+0x1)+_0x8af3e5)*0x3e8;}[a0_0x18e9af(0x4fa)](_0xbb4ebd){return new Promise(_0x4d7322=>setTimeout(_0x4d7322,_0xbb4ebd));}async[a0_0x18e9af(0x2c1)](_0x46c25d){const _0x400f86=a0_0x18e9af;if(!this['AutomateSystem']&&(await this[_0x400f86(0x665)](),!this[_0x400f86(0x3a5)]))return null;_0x46c25d=this[_0x400f86(0x71b)](_0x46c25d);let _0x3b6b43=await this[_0x400f86(0x305)][_0x400f86(0x25a)][_0x400f86(0x238)]({'where':{'_id':_0x46c25d}},this[_0x400f86(0x777)][_0x400f86(0x207)]),_0x3db364={};if(_0x3b6b43&&_0x3b6b43[_0x400f86(0x6ff)]){let _0xb55328=_0x3b6b43['leadInfo'];typeof _0xb55328[_0x400f86(0x40a)]==_0x400f86(0x571)&&(_0x3db364[_0x400f86(0x40a)]=_0xb55328[_0x400f86(0x40a)]),typeof _0xb55328[_0x400f86(0x28a)]=='string'&&(_0x3db364[_0x400f86(0x28a)]=_0xb55328[_0x400f86(0x28a)]),typeof _0xb55328[_0x400f86(0x402)]=='string'&&(_0x3db364[_0x400f86(0x402)]=_0xb55328[_0x400f86(0x402)]),typeof _0xb55328[_0x400f86(0x2ec)]==_0x400f86(0x571)&&(_0x3db364['cpf']=_0xb55328[_0x400f86(0x2ec)]),typeof _0xb55328[_0x400f86(0x522)]==_0x400f86(0x571)&&(_0x3db364[_0x400f86(0x522)]=_0xb55328[_0x400f86(0x522)]),typeof _0xb55328[_0x400f86(0x2a6)]==_0x400f86(0x571)&&(_0x3db364[_0x400f86(0x2a6)]=_0xb55328['notas']),typeof _0xb55328[_0x400f86(0x616)]==_0x400f86(0x571)&&(_0x3db364[_0x400f86(0x616)]=_0xb55328[_0x400f86(0x616)]),Array['isArray'](_0xb55328[_0x400f86(0x22a)])&&(_0x3db364[_0x400f86(0x22a)]=_0xb55328['tags'][_0x400f86(0x4d1)](',\x20')),Array[_0x400f86(0x26c)](_0xb55328[_0x400f86(0x286)])&&(_0x3db364[_0x400f86(0x286)]=_0xb55328['etiquetas'][_0x400f86(0x4d1)](',\x20'));}return _0x3b6b43&&_0x3b6b43[_0x400f86(0x6ff)]&&_0x3b6b43['leadInfo'][_0x400f86(0x5ea)]&&_0x3b6b43[_0x400f86(0x6ff)][_0x400f86(0x5ea)][_0x400f86(0x6d6)](_0x38097f=>{const _0x5908ef=_0x400f86;let _0x149fae=this[_0x5908ef(0x3a5)]?.[_0x5908ef(0x5ea)][_0x5908ef(0x493)](_0x395a7a=>_0x395a7a[_0x5908ef(0x550)]===_0x38097f[_0x5908ef(0x550)]);_0x149fae&&(_0x3db364[_0x149fae[_0x5908ef(0x10b)]]=_0x38097f[_0x5908ef(0x582)]);}),_0x3db364;}async[a0_0x18e9af(0x543)](_0x389370,_0xe4e18b){const _0x4d217f=a0_0x18e9af;let _0x2bbadd=await this[_0x4d217f(0x2c1)](_0xe4e18b);return this[_0x4d217f(0x3ed)](_0x389370,_0x2bbadd);}async[a0_0x18e9af(0x61f)](_0x463857){const _0x1e51b2=a0_0x18e9af;try{if(this[_0x1e51b2(0x232)][_0x1e51b2(0x591)](this[_0x1e51b2(0x584)]+'\x20('+this[_0x1e51b2(0x777)][_0x1e51b2(0x207)]+'):\x20Edit\x20schedule\x20message...'),_0x463857[_0x1e51b2(0x5ef)]&&_0x463857[_0x1e51b2(0x550)]){if(this[_0x1e51b2(0x47d)]===_0x463857[_0x1e51b2(0x550)][_0x1e51b2(0x2fb)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x4a92ad=await this['repository']['scheduleMessage']['deleteOne'](_0x463857['_id'],this[_0x1e51b2(0x777)]['wuid']);return setTimeout(()=>this[_0x1e51b2(0x2d7)](),0x7d0),_0x4a92ad;}let _0x22f9df;if(_0x463857['_id']&&(_0x22f9df=await this[_0x1e51b2(0x305)][_0x1e51b2(0x11d)][_0x1e51b2(0x741)](_0x463857['_id'],this[_0x1e51b2(0x777)][_0x1e51b2(0x207)])),_0x22f9df){let _0x4961c8;if(this[_0x1e51b2(0x47d)]===_0x22f9df[_0x1e51b2(0x550)]['toString']())_0x4961c8={'$set':{'status':_0x463857[_0x1e51b2(0x522)]}};else{let {_id:_0x7de487,..._0x3c917b}=_0x463857;_0x4961c8={'$set':_0x3c917b};}let _0x940597=await this[_0x1e51b2(0x305)]['scheduleMessage'][_0x1e51b2(0x36b)](_0x463857[_0x1e51b2(0x550)],_0x4961c8,this[_0x1e51b2(0x777)][_0x1e51b2(0x207)]);return setTimeout(()=>this[_0x1e51b2(0x2d7)](),0x7d0),_0x940597;}else{_0x463857['owner']=this[_0x1e51b2(0x777)][_0x1e51b2(0x207)];let _0x293237=await this[_0x1e51b2(0x305)]['scheduleMessage'][_0x1e51b2(0x77a)](_0x463857,this['instance']['wuid']);return setTimeout(()=>this[_0x1e51b2(0x2d7)](),0x7d0),_0x293237;}}catch(_0x1f6520){throw this['logger'][_0x1e51b2(0x1b4)](this[_0x1e51b2(0x584)]+'\x20('+this[_0x1e51b2(0x777)]['wuid']+_0x1e51b2(0x114)+(_0x1f6520 instanceof Error?_0x1f6520[_0x1e51b2(0x668)]:JSON['stringify'](_0x1f6520,null,0x2))),new w(_0x1e51b2(0x33d)+_0x1f6520['message']);}}async[a0_0x18e9af(0x17a)](){const _0xde4f4c=a0_0x18e9af;try{return await this['repository'][_0xde4f4c(0x11d)]['find']({'where':{}},this['instance'][_0xde4f4c(0x207)]);}catch(_0x33293e){throw this[_0xde4f4c(0x232)]['error'](this['instanceName']+'\x20('+this[_0xde4f4c(0x777)][_0xde4f4c(0x207)]+_0xde4f4c(0x53e)+(_0x33293e instanceof Error?_0x33293e[_0xde4f4c(0x668)]:JSON[_0xde4f4c(0x676)](_0x33293e,null,0x2))),new w(_0xde4f4c(0x33d)+_0x33293e[_0xde4f4c(0x668)]);}}async['deleteDoneMessages'](){const _0x5ae259=a0_0x18e9af;try{let _0x205ba4={'status':_0x5ae259(0x2dd)},_0x457edc=await this[_0x5ae259(0x305)][_0x5ae259(0x11d)]['deleteMany'](_0x205ba4,this['instance'][_0x5ae259(0x207)]);if(!_0x457edc[_0x5ae259(0x1b4)])this['logger']['verbose'](this[_0x5ae259(0x584)]+'\x20('+this[_0x5ae259(0x777)]['wuid']+_0x5ae259(0x55b));else throw new Error(_0x457edc[_0x5ae259(0x1b4)][_0x5ae259(0x668)]||_0x5ae259(0x1ca));return this[_0x5ae259(0x17a)]();}catch(_0x34d22a){throw this[_0x5ae259(0x232)]['error'](this[_0x5ae259(0x584)]+'\x20('+this[_0x5ae259(0x777)][_0x5ae259(0x207)]+_0x5ae259(0x2b8)+(_0x34d22a instanceof Error?_0x34d22a['message']:JSON[_0x5ae259(0x676)](_0x34d22a,null,0x2))),new w('Erro:'+_0x34d22a[_0x5ae259(0x668)]);}}async[a0_0x18e9af(0x385)](_0x45254a,_0x106833){const _0x2343ed=a0_0x18e9af;try{if(_0x106833[_0x2343ed(0x120)]===_0x2343ed(0x603)&&!this[_0x2343ed(0x3a5)]?.[_0x2343ed(0x3a8)][_0x2343ed(0x475)])return this[_0x2343ed(0x232)][_0x2343ed(0x1b4)](this[_0x2343ed(0x584)]+'\x20('+this[_0x2343ed(0x777)][_0x2343ed(0x207)]+_0x2343ed(0x438)),{'error':!0x0,'detail':_0x2343ed(0x3d0)};switch(_0x106833[_0x2343ed(0x120)]){case _0x2343ed(0x3da):return await this[_0x2343ed(0x1be)](_0x106833,_0x45254a);case _0x2343ed(0x219):return await this[_0x2343ed(0x78e)](_0x106833,_0x45254a);case'audio':return await this['scheduleSendAudio'](_0x106833,_0x45254a);case _0x2343ed(0x603):let _0x5448a1=new _e();return _0x5448a1[_0x2343ed(0x10b)]=_0x106833[_0x2343ed(0x3c1)],_0x5448a1['remoteJid']=_0x45254a,await this[_0x2343ed(0x1bf)](_0x5448a1);break;default:return this['logger'][_0x2343ed(0x1b4)](this[_0x2343ed(0x584)]+'\x20('+this[_0x2343ed(0x777)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x106833['type']),{'error':!0x0,'detail':_0x2343ed(0x195)};}}catch(_0x1c843b){return this[_0x2343ed(0x232)]['error'](this['instanceName']+'\x20('+this['instance'][_0x2343ed(0x207)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x1c843b instanceof Error?_0x1c843b[_0x2343ed(0x668)]:JSON[_0x2343ed(0x676)](_0x1c843b,null,0x2))),{'error':!0x0,'detail':_0x1c843b[_0x2343ed(0x668)]};}}[a0_0x18e9af(0x445)](_0x1a32a2){const _0x28b6f2=a0_0x18e9af;let _0x37c1e4=_0x1a32a2[_0x28b6f2(0x308)]('|'),_0x392194=Math[_0x28b6f2(0x5b7)](Math['random']()*_0x37c1e4[_0x28b6f2(0x15f)]);return _0x37c1e4[_0x392194]['trim']();}async[a0_0x18e9af(0x1be)](_0xc3f614,_0x5b7732){const _0xa9e423=a0_0x18e9af;if(this[_0xa9e423(0x232)]['verbose'](this[_0xa9e423(0x584)]+'\x20('+this[_0xa9e423(0x777)][_0xa9e423(0x207)]+_0xa9e423(0x145)),!_0xc3f614[_0xa9e423(0x668)][_0xa9e423(0x3da)]||_0xc3f614[_0xa9e423(0x668)][_0xa9e423(0x3da)]['length']===0x0)return{'error':!0x0,'detail':_0xa9e423(0x73e)};let _0x1f766f=this['getRandomText'](_0xc3f614[_0xa9e423(0x668)][_0xa9e423(0x3da)]),_0x5f025a=await this[_0xa9e423(0x543)](_0x1f766f,_0x5b7732),_0x102872={'number':_0x5b7732,'options':{'delay':_0xc3f614[_0xa9e423(0x668)]['delay']},'textMessage':{'text':_0x5f025a}},_0x1d3e7a=null;try{let _0x52611c=await this['textMessage'](_0x102872);if(_0x52611c&&_0x52611c[_0xa9e423(0x522)])return{'error':!0x1,'id':_0x52611c[_0xa9e423(0x66a)]['id']};_0x1d3e7a=JSON[_0xa9e423(0x676)](_0x52611c),this['logger'][_0xa9e423(0x591)](this['instanceName']+'\x20('+this[_0xa9e423(0x777)][_0xa9e423(0x207)]+_0xa9e423(0x208)+_0x1d3e7a);}catch(_0x5a20d8){this[_0xa9e423(0x232)][_0xa9e423(0x1b4)](this[_0xa9e423(0x584)]+'\x20('+this[_0xa9e423(0x777)][_0xa9e423(0x207)]+_0xa9e423(0x359)+(_0x5a20d8 instanceof Error?_0x5a20d8[_0xa9e423(0x668)]:JSON['stringify'](_0x5a20d8,null,0x2))),_0x1d3e7a=_0x5a20d8['message'];}if(_0x1d3e7a)return{'error':!0x0,'detail':(typeof _0x1d3e7a=='object'?JSON[_0xa9e423(0x676)](_0x1d3e7a,null,0x2):_0x1d3e7a)['replace'](/[\[\]{}\n]/g,'\x20')[_0xa9e423(0x23f)](/  +/g,'\x20')};}async[a0_0x18e9af(0x78e)](_0x6ab16,_0x4a46ec){const _0x52601e=a0_0x18e9af;this[_0x52601e(0x232)][_0x52601e(0x591)](this[_0x52601e(0x584)]+'\x20('+this[_0x52601e(0x777)][_0x52601e(0x207)]+_0x52601e(0x4d7));let _0x20f690;if(_0x6ab16[_0x52601e(0x668)][_0x52601e(0x3da)]&&_0x6ab16[_0x52601e(0x668)][_0x52601e(0x3da)]['length']>0x0){let _0x5e7774=this[_0x52601e(0x445)](_0x6ab16['message']['text']);_0x20f690=await this['replaceVariablesChat'](_0x5e7774,_0x4a46ec);}let _0x3f7f63={'number':_0x4a46ec,'options':{'delay':_0x6ab16['message'][_0x52601e(0x762)]},'mediaMessage':{'mediatype':_0x6ab16['message'][_0x52601e(0x117)],'caption':_0x20f690,'media':_0x6ab16['message']['urlOrBase64']}},_0x46f9c8=null;try{let _0x24221d=await this['mediaMessage'](_0x3f7f63);if(_0x24221d&&_0x24221d[_0x52601e(0x522)])return{'error':!0x1,'id':_0x24221d[_0x52601e(0x66a)]['id']};_0x46f9c8=JSON[_0x52601e(0x676)](_0x24221d),this[_0x52601e(0x232)][_0x52601e(0x591)](this['instanceName']+'\x20('+this[_0x52601e(0x777)][_0x52601e(0x207)]+_0x52601e(0x208)+_0x46f9c8);}catch(_0x1e5ad3){this['logger'][_0x52601e(0x1b4)](this[_0x52601e(0x584)]+'\x20('+this['instance'][_0x52601e(0x207)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x1e5ad3 instanceof Error?_0x1e5ad3['message']:JSON[_0x52601e(0x676)](_0x1e5ad3,null,0x2))),_0x46f9c8=_0x1e5ad3[_0x52601e(0x668)];}if(_0x46f9c8)return{'error':!0x0,'detail':(typeof _0x46f9c8==_0x52601e(0x61d)?JSON[_0x52601e(0x676)](_0x46f9c8,null,0x2):_0x46f9c8)[_0x52601e(0x23f)](/[\[\]{}\n]/g,'\x20')[_0x52601e(0x23f)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x1e0d56,_0x686c7e){const _0x46bdc3=a0_0x18e9af;this[_0x46bdc3(0x232)][_0x46bdc3(0x591)](this[_0x46bdc3(0x584)]+'\x20('+this[_0x46bdc3(0x777)]['wuid']+_0x46bdc3(0x3a7));let _0x11cb3e={'number':_0x686c7e,'options':{'delay':_0x1e0d56[_0x46bdc3(0x668)][_0x46bdc3(0x762)]},'audioMessage':{'audio':_0x1e0d56[_0x46bdc3(0x668)][_0x46bdc3(0x5bc)]}},_0x355a8c=null;try{let _0x316554=await this[_0x46bdc3(0x268)](_0x11cb3e);if(_0x316554&&_0x316554['status'])return{'error':!0x1,'id':_0x316554[_0x46bdc3(0x66a)]['id']};_0x355a8c=JSON[_0x46bdc3(0x676)](_0x316554),this[_0x46bdc3(0x232)][_0x46bdc3(0x591)](this[_0x46bdc3(0x584)]+'\x20('+this[_0x46bdc3(0x777)]['wuid']+_0x46bdc3(0x208)+_0x355a8c);}catch(_0x3a8683){this[_0x46bdc3(0x232)][_0x46bdc3(0x1b4)](this['instanceName']+'\x20('+this[_0x46bdc3(0x777)][_0x46bdc3(0x207)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x3a8683 instanceof Error?_0x3a8683['message']:JSON[_0x46bdc3(0x676)](_0x3a8683,null,0x2))),_0x355a8c=_0x3a8683[_0x46bdc3(0x668)];}if(_0x355a8c)return{'error':!0x0,'detail':(typeof _0x355a8c==_0x46bdc3(0x61d)?JSON[_0x46bdc3(0x676)](_0x355a8c,null,0x2):_0x355a8c)[_0x46bdc3(0x23f)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},$t=class c{constructor(_0xc31009,_0x1bae18,_0x134a12){const _0x38906e=a0_0x18e9af;this[_0x38906e(0xfe)]=_0xc31009,this['configService']=_0x1bae18,this['repository']=_0x134a12,this['db']={},this[_0x38906e(0x694)]={},this['logger']=new N(c[_0x38906e(0x10b)]),this['waInstances']={},(this[_0x38906e(0x1ab)](),this[_0x38906e(0x35f)](),Object[_0x38906e(0x735)](this['db'],_0x1bae18['get'](_0x38906e(0x368))),Object['assign'](this[_0x38906e(0x694)],_0x1bae18['get'](_0x38906e(0x1d8))),this[_0x38906e(0x393)]=this['db']['ENABLED']?this[_0x38906e(0x305)][_0x38906e(0x1e4)]?.['db'](this['db'][_0x38906e(0x3cf)][_0x38906e(0x4e2)]+_0x38906e(0x6bb)):void 0x0,this[_0x38906e(0x4cd)]=this['redis']['ENABLED']?new re(this[_0x38906e(0x694)]):void 0x0);}async['instanceInfo'](_0x22f764){const _0x44e3d9=a0_0x18e9af;if(_0x22f764&&!this['waInstances'][_0x22f764])throw new k(_0x44e3d9(0x289)+_0x22f764+_0x44e3d9(0x6e3));let _0x23875c=[];for await(let [_0x386d1d,_0xa6b712]of Object[_0x44e3d9(0x235)](this[_0x44e3d9(0x314)]))if(_0xa6b712&&_0xa6b712[_0x44e3d9(0x3b8)][_0x44e3d9(0x41f)]==='open'){let _0x5b4c2a=await this[_0x44e3d9(0x305)]['auth'][_0x44e3d9(0x493)](_0x386d1d);_0x23875c[_0x44e3d9(0x256)]({'instance':{'instanceName':_0x386d1d,'apikey':_0x5b4c2a[_0x44e3d9(0x390)],'owner':_0xa6b712[_0x44e3d9(0x207)],'profileName':await _0xa6b712[_0x44e3d9(0x1cc)]()||_0x44e3d9(0x214),'profilePictureUrl':_0xa6b712[_0x44e3d9(0x3ac)]}});}return _0x23875c[_0x44e3d9(0x493)](_0x2575ae=>_0x2575ae[_0x44e3d9(0x777)][_0x44e3d9(0x584)]===_0x22f764)??_0x23875c;}async['cleaningUp'](_0x201098){const _0x38525f=a0_0x18e9af;if(this['db'][_0x38525f(0x695)]&&(await this[_0x38525f(0x305)][_0x38525f(0x1e4)][_0x38525f(0x223)](),(await this[_0x38525f(0x393)][_0x38525f(0x491)]())['length']>0x0&&await this['dbInstance']['dropCollection'](_0x201098)),this[_0x38525f(0x694)]['ENABLED']){this[_0x38525f(0x4cd)]['reference']=_0x201098,await this[_0x38525f(0x4cd)][_0x38525f(0x564)]();return;}}async[a0_0x18e9af(0x2eb)](){const _0x397236=a0_0x18e9af;await this[_0x397236(0x351)]();let _0x3d5eaf=async _0xb84d6a=>{const _0x2c8e5e=_0x397236;let _0x348d95=new ye(this[_0x2c8e5e(0x38c)],this[_0x2c8e5e(0xfe)],this[_0x2c8e5e(0x305)]);_0x348d95[_0x2c8e5e(0x584)]=_0xb84d6a,await _0x348d95[_0x2c8e5e(0x4e8)](),this[_0x2c8e5e(0x314)][_0xb84d6a]=_0x348d95;};try{if(this[_0x397236(0x694)][_0x397236(0x695)]){let _0x7bad57=await this[_0x397236(0x4cd)][_0x397236(0x363)]();_0x7bad57?.[_0x397236(0x15f)]>0x0&&_0x7bad57[_0x397236(0x6d6)](async _0x2df69f=>await _0x3d5eaf(_0x2df69f[_0x397236(0x308)](':')[0x1]));return;}if(this['db'][_0x397236(0x695)]){await this[_0x397236(0x305)][_0x397236(0x1e4)][_0x397236(0x223)]();let _0x29160b=await this[_0x397236(0x393)][_0x397236(0x491)]();_0x29160b[_0x397236(0x15f)]>0x0&&_0x29160b['forEach'](async _0x1a46f0=>await _0x3d5eaf(_0x1a46f0[_0x397236(0x17b)][_0x397236(0x23f)](/^[\w-]+\./,'')));return;}}catch(_0x2880f6){this[_0x397236(0x232)]['error'](_0x2880f6);}}async[a0_0x18e9af(0x4dc)](){const _0x29428e=a0_0x18e9af;let _0xe37d9a=await this[_0x29428e(0x305)][_0x29428e(0x153)][_0x29428e(0x222)](),_0x32e77c=_0xe37d9a[_0x29428e(0x2f4)](_0x2ae5fe=>!this[_0x29428e(0x314)][_0x2ae5fe[_0x29428e(0x550)]]&&(_0x2ae5fe['online']||typeof _0x2ae5fe[_0x29428e(0x3a1)]>'u'));_0x32e77c[_0x29428e(0x15f)]>0x0&&await Promise[_0x29428e(0x2e8)](_0x32e77c[_0x29428e(0x48c)](async _0x38f089=>{const _0x1fdf6e=_0x29428e;let _0x5c8b68={'online':!0x1,'lastDisconnect':Date[_0x1fdf6e(0x60d)]()};await this[_0x1fdf6e(0x305)]['auth'][_0x1fdf6e(0x1bb)](_0x5c8b68,_0x38f089['_id']);}));let _0x1e0d90=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0x200a1b=_0xe37d9a[_0x29428e(0x2f4)](_0x92b99d=>!this[_0x29428e(0x314)][_0x92b99d[_0x29428e(0x550)]]&&typeof _0x92b99d['lastDisconnect']<'u'&&_0x92b99d[_0x29428e(0x5d8)]<_0x1e0d90);_0x200a1b['length']>0x0&&await Promise[_0x29428e(0x2e8)](_0x200a1b[_0x29428e(0x48c)](async _0x217de9=>{}));}async[a0_0x18e9af(0x351)](){const _0x3446ec=a0_0x18e9af;try{let _0x9d67e6={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x58862a={'online':!0x1,'lastDisconnect':Date[_0x3446ec(0x60d)]()},_0x583bca=await this[_0x3446ec(0x305)]['auth'][_0x3446ec(0x3e3)](_0x9d67e6,_0x58862a);console[_0x3446ec(0x704)](_0x3446ec(0x606)+_0x583bca['insertCount']),await this[_0x3446ec(0x2b5)]();}catch(_0x35200e){console['error'](_0x3446ec(0x6f2),_0x35200e);}}async[a0_0x18e9af(0x2b5)](){const _0x16f17f=a0_0x18e9af;try{let _0x274d0d={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x51857d=await this['repository']['auth'][_0x16f17f(0x622)](_0x274d0d);console[_0x16f17f(0x704)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x51857d[_0x16f17f(0x32d)]);}catch(_0x1146b7){console[_0x16f17f(0x1b4)](_0x16f17f(0x21a),_0x1146b7);}}[a0_0x18e9af(0x1ab)](){this['eventEmitter']['on']('remove.instance',async _0x2bdb43=>{const _0x36ea8e=a0_0x7bd5;try{this[_0x36ea8e(0x314)][_0x2bdb43]=void 0x0;}catch{}try{this['cleaningUp'](_0x2bdb43);}finally{this[_0x36ea8e(0x232)][_0x36ea8e(0x365)](_0x36ea8e(0x289)+_0x2bdb43+_0x36ea8e(0x651));}});}['noConnection'](){const _0x243b05=a0_0x18e9af;this[_0x243b05(0xfe)]['on'](_0x243b05(0x36a),async _0x9eb08b=>{const _0x49a687=_0x243b05;try{this['waInstances'][_0x9eb08b]=void 0x0;}catch{}try{this[_0x49a687(0x152)](_0x9eb08b);}finally{this['logger'][_0x49a687(0x365)](_0x49a687(0x289)+_0x9eb08b+_0x49a687(0x497));}});}},kt=class extends x{[a0_0x18e9af(0x53f)](_0x53e598){return Vs(_0x53e598);}async[a0_0x18e9af(0x5fb)](_0x48ba63){const _0x2eba48=a0_0x18e9af;if(_0x48ba63['length']!==0x0)try{return{'insertCount':(await this[_0x2eba48(0x53f)](_0x48ba63[0x0]['owner'])[_0x2eba48(0x575)]([..._0x48ba63]))[_0x2eba48(0x15f)]};}catch(_0x2b0412){return _0x2b0412;}}async[a0_0x18e9af(0x493)](_0x159b73,_0x3ca9ff){const _0x1087fb=a0_0x18e9af;try{let _0x5bcffe=this['getChatModelForOwner'](_0x3ca9ff),_0x5ef046=A(_0x159b73[_0x1087fb(0x57c)]);return await _0x5bcffe[_0x1087fb(0x493)](_0x5ef046)[_0x1087fb(0x540)]({'lastmsg':-0x1})[_0x1087fb(0x632)](_0x159b73?.[_0x1087fb(0x632)]??0x0)[_0x1087fb(0x618)]();}catch{return[];}}async[a0_0x18e9af(0x29a)](_0x59efc6,_0x540f5d){const _0x1c3d18=a0_0x18e9af;try{return await this['getChatModelForOwner'](_0x540f5d)[_0x1c3d18(0x622)]({..._0x59efc6['where']}),[];}catch(_0x509b10){return{'error':_0x509b10?.[_0x1c3d18(0x2fb)]()};}}async['findOne'](_0x5ee692,_0x2f22d6){const _0x24d6e2=a0_0x18e9af;try{let _0x2d7cc8=this[_0x24d6e2(0x53f)](_0x2f22d6),_0x2ffce4=A(_0x5ee692[_0x24d6e2(0x57c)]);return await _0x2d7cc8[_0x24d6e2(0x238)](_0x2ffce4)[_0x24d6e2(0x618)]();}catch{return null;}}async[a0_0x18e9af(0x151)](_0x5be320,_0x1ba18b,_0x15491d,_0x2ecd11,_0x4e22fb=a0_0x18e9af(0x5d5)){const _0x2e0e0b=a0_0x18e9af;try{let _0x513619={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2ecd11},_0xad0a35=this[_0x2e0e0b(0x53f)](_0x15491d),_0x6e5938=A(_0x5be320['where']);Object['keys'](_0x1ba18b)['forEach'](_0x1fde94=>{_0x1ba18b[_0x1fde94]==null&&delete _0x1ba18b[_0x1fde94];});let _0x10e3f9={};return _0x10e3f9[_0x4e22fb]=_0x1ba18b,await _0xad0a35[_0x2e0e0b(0x2e0)](_0x6e5938,_0x10e3f9,_0x513619);}catch(_0x24fbbe){return console[_0x2e0e0b(0x1b4)](_0x24fbbe),null;}}async[a0_0x18e9af(0x4c9)](_0x55ffdb){const _0x2ae63c=a0_0x18e9af;try{let _0x160339=this[_0x2ae63c(0x53f)](_0x55ffdb[0x0][_0x2ae63c(0x132)][_0x2ae63c(0x57c)]['owner']),_0x4660de=_0x55ffdb[_0x2ae63c(0x48c)](_0x4bf3f6=>({'updateOne':{'filter':{..._0x4bf3f6[_0x2ae63c(0x132)][_0x2ae63c(0x57c)]},'update':{'$set':_0x4bf3f6[_0x2ae63c(0x70c)]},'upsert':!0x0}})),_0x1ec66d=await _0x160339[_0x2ae63c(0x36d)](_0x4660de);return _0x1ec66d[_0x2ae63c(0x30d)]+_0x1ec66d['upsertedCount'];}catch(_0x585911){return console[_0x2ae63c(0x1b4)](_0x585911),0x0;}}async[a0_0x18e9af(0x48b)](_0x287fd7){const _0x1b7e6f=a0_0x18e9af;try{let _0x3b1c69=this['getChatModelForOwner'](_0x287fd7),_0x32c3c8={'labels':{'$exists':!0x0}},_0x27dd44={'$unset':{'labels':''}};return(await _0x3b1c69[_0x1b7e6f(0x4c9)](_0x32c3c8,_0x27dd44))[_0x1b7e6f(0x30d)];}catch(_0x3f37d8){return console[_0x1b7e6f(0x1b4)](_0x3f37d8),0x0;}}async['updateMissingEtiquetas'](_0x5678b2){const _0x5e4bb3=a0_0x18e9af;try{let _0x38d9a4=this['getChatModelForOwner'](_0x5678b2),_0x138231={'leadInfo.etiquetas':{'$exists':!0x1}},_0x68a682={'$set':{'leadInfo.etiquetas':[]}};return(await _0x38d9a4[_0x5e4bb3(0x4c9)](_0x138231,_0x68a682))[_0x5e4bb3(0x30d)];}catch(_0x4bc2b5){return console['error'](_0x4bc2b5),0x0;}}async[a0_0x18e9af(0x721)](_0x1556c8){const _0x226e45=a0_0x18e9af;try{let _0x2c469f=this[_0x226e45(0x53f)](_0x1556c8),_0x4d759f={'leadInfo.tags':{'$exists':!0x1}},_0x5378a2={'$set':{'leadInfo.tags':[]}};return(await _0x2c469f[_0x226e45(0x4c9)](_0x4d759f,_0x5378a2))['modifiedCount'];}catch(_0x1b692a){return console[_0x226e45(0x1b4)](_0x1b692a),0x0;}}async[a0_0x18e9af(0x759)](_0x3e7ee0){const _0x339146=a0_0x18e9af;try{let _0x239d79=this[_0x339146(0x53f)](_0x3e7ee0),_0x1b5b0c={'leadInfo.customFields':{'$exists':!0x1}},_0x41ae19={'$set':{'leadInfo.customFields':[]}};return(await _0x239d79[_0x339146(0x4c9)](_0x1b5b0c,_0x41ae19))[_0x339146(0x30d)];}catch(_0x572889){return console[_0x339146(0x1b4)](_0x572889),0x0;}}async[a0_0x18e9af(0x575)](_0x2a2df9,_0x20d1d3){const _0x5cfee4=a0_0x18e9af;if(!Array[_0x5cfee4(0x26c)](_0x2a2df9)||_0x2a2df9[_0x5cfee4(0x15f)]===0x0)throw new Error(_0x5cfee4(0x1a1));try{return(await this['getChatModelForOwner'](_0x20d1d3)['insertMany'](_0x2a2df9))[_0x5cfee4(0x15f)];}catch(_0x315f27){throw console[_0x5cfee4(0x1b4)]('Erro\x20ao\x20inserir\x20chats:',_0x315f27),_0x315f27;}}async['deleteChat'](_0x5f5234,_0x395246){const _0x22f491=a0_0x18e9af;try{await this[_0x22f491(0x53f)](_0x395246)['deleteOne']({'_id':_0x5f5234});}catch(_0x2f65e3){throw console[_0x22f491(0x1b4)]('Erro\x20ao\x20deletar\x20chat:',_0x2f65e3),_0x2f65e3;}}},Lt=class extends x{['getLabelModelForOwner'](_0x21d8e4){return ha(_0x21d8e4);}async[a0_0x18e9af(0x151)](_0x25fa61,_0x5814a9,_0x211d62,_0x29c393){const _0xb6bea3=a0_0x18e9af;try{let _0xd7626a={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x29c393},_0x3da99e=this[_0xb6bea3(0x588)](_0x211d62),_0x3cb5fa=A(_0x25fa61[_0xb6bea3(0x57c)]);return await _0x3da99e['findOneAndUpdate'](_0x3cb5fa,{'$set':_0x5814a9},_0xd7626a);}catch(_0x511e94){return console[_0xb6bea3(0x1b4)](_0x511e94),null;}}async['find'](_0x551d18,_0x166e76){const _0x2fc757=a0_0x18e9af;try{let _0x330a35=this['getLabelModelForOwner'](_0x166e76),_0x14543e=A(_0x551d18[_0x2fc757(0x57c)]);return await _0x330a35[_0x2fc757(0x493)](_0x14543e);}catch(_0x423ed2){console['error'](_0x423ed2);}}async[a0_0x18e9af(0x5ef)](_0x40ff74,_0x4bc867){const _0x1f4371=a0_0x18e9af;try{let _0xc08b6e=this[_0x1f4371(0x588)](_0x4bc867),_0x25cbe0=A(_0x40ff74['where']);await _0xc08b6e[_0x1f4371(0x622)](_0x25cbe0);}catch(_0xda79b0){console['error'](_0xda79b0);}}async[a0_0x18e9af(0x29a)](_0x4dd327){const _0x4e2b26=a0_0x18e9af;try{return await this[_0x4e2b26(0x588)](_0x4dd327)['collection'][_0x4e2b26(0x1ef)](),{'success':!0x0};}catch(_0x48e3f6){return console['error'](_0x48e3f6),{'success':!0x1,'error':_0x48e3f6};}}},Ft=class{constructor(_0x3b66b8){const _0x347ad8=a0_0x18e9af;this[_0x347ad8(0x6fc)]=_0x3b66b8;}async['editChat']({instanceName:_0x3f38d1},_0x450c34){const _0x33424b=a0_0x18e9af;return await this[_0x33424b(0x6fc)][_0x33424b(0x314)][_0x3f38d1][_0x33424b(0x633)](_0x450c34);}async[a0_0x18e9af(0x407)]({instanceName:_0x5d8d02},_0x2afd0a){const _0x3c9c33=a0_0x18e9af;return await this[_0x3c9c33(0x6fc)][_0x3c9c33(0x314)][_0x5d8d02][_0x3c9c33(0x407)](_0x2afd0a);}async[a0_0x18e9af(0x6df)]({instanceName:_0x5b4c2e},_0x190804){const _0xf773fb=a0_0x18e9af;return await this['waMonitor'][_0xf773fb(0x314)][_0x5b4c2e][_0xf773fb(0x6df)](_0x190804);}async[a0_0x18e9af(0x384)]({instanceName:_0x461b19},_0x2cc413){const _0x3e38ce=a0_0x18e9af;return await this[_0x3e38ce(0x6fc)][_0x3e38ce(0x314)][_0x461b19]['markMessageAsRead'](_0x2cc413);}async['archiveChat']({instanceName:_0x2f6729},_0x55a8e6){const _0x2e4bcb=a0_0x18e9af;return await this[_0x2e4bcb(0x6fc)][_0x2e4bcb(0x314)][_0x2f6729]['archiveChat'](_0x55a8e6);}async[a0_0x18e9af(0x414)]({instanceName:_0x39c2e9},_0x3595f2){const _0x8cab6f=a0_0x18e9af;return await this['waMonitor'][_0x8cab6f(0x314)][_0x39c2e9][_0x8cab6f(0x414)](_0x3595f2);}async[a0_0x18e9af(0x643)]({instanceName:_0x2b8597},_0x5f48ef){const _0x1405f0=a0_0x18e9af;return await this[_0x1405f0(0x6fc)][_0x1405f0(0x314)][_0x2b8597][_0x1405f0(0x574)](_0x5f48ef['number']);}async[a0_0x18e9af(0x25e)]({instanceName:_0x170dbb},_0xcf6ce2){const _0x20507b=a0_0x18e9af;return await this['waMonitor'][_0x20507b(0x314)][_0x170dbb]['fetchProfile'](_0xcf6ce2[_0x20507b(0x5ff)]);}async['updatePresence']({instanceName:_0x57ab69},_0x2c076f){const _0x29525f=a0_0x18e9af;return await this['waMonitor']['waInstances'][_0x57ab69][_0x29525f(0x6dd)](_0x2c076f);}async[a0_0x18e9af(0x5f3)]({instanceName:_0x574750},_0xd56df0){const _0x375af2=a0_0x18e9af;return await this[_0x375af2(0x6fc)][_0x375af2(0x314)][_0x574750][_0x375af2(0x5f3)](_0xd56df0);}async[a0_0x18e9af(0x489)]({instanceName:_0x5f00fd},_0xab3edb){return await this['waMonitor']['waInstances'][_0x5f00fd]['getBase64FromMediaMessage'](_0xab3edb);}async[a0_0x18e9af(0x530)]({instanceName:_0x66ce7a},_0x5d5121){const _0x35ec8f=a0_0x18e9af;return await this['waMonitor'][_0x35ec8f(0x314)][_0x66ce7a]['fetchMessages'](_0x5d5121);}async[a0_0x18e9af(0x337)]({instanceName:_0x2bd77d}){const _0x3674d9=a0_0x18e9af;return await this[_0x3674d9(0x6fc)][_0x3674d9(0x314)][_0x2bd77d][_0x3674d9(0x337)]();}async['fetchChats']({instanceName:_0x4d5d99}){const _0x1272ec=a0_0x18e9af;return await this[_0x1272ec(0x6fc)]['waInstances'][_0x4d5d99][_0x1272ec(0x6be)]();}async[a0_0x18e9af(0x307)]({instanceName:_0x43d112}){const _0x18a25d=a0_0x18e9af;return await this['waMonitor'][_0x18a25d(0x314)][_0x43d112]['fetchPrivacySettings']();}async[a0_0x18e9af(0x718)]({instanceName:_0x457c1c},_0x3e0903){const _0x4a8897=a0_0x18e9af;return await this[_0x4a8897(0x6fc)]['waInstances'][_0x457c1c][_0x4a8897(0x718)](_0x3e0903);}async[a0_0x18e9af(0x504)]({instanceName:_0x576820},_0x32dccf){const _0x138323=a0_0x18e9af;return await this[_0x138323(0x6fc)][_0x138323(0x314)][_0x576820][_0x138323(0x504)](_0x32dccf[_0x138323(0x5ff)]);}async[a0_0x18e9af(0x211)]({instanceName:_0x3af23f},_0x7c840c){const _0x527820=a0_0x18e9af;return await this[_0x527820(0x6fc)][_0x527820(0x314)][_0x3af23f][_0x527820(0x211)](_0x7c840c[_0x527820(0x10b)]);}async['updateProfileStatus']({instanceName:_0x3bd26c},_0x29c627){const _0x1360a7=a0_0x18e9af;return await this[_0x1360a7(0x6fc)][_0x1360a7(0x314)][_0x3bd26c]['updateProfileStatus'](_0x29c627[_0x1360a7(0x522)]);}async['updateProfilePicture']({instanceName:_0x3ac0f1},_0x9d8583){const _0x87ca6c=a0_0x18e9af;return await this[_0x87ca6c(0x6fc)][_0x87ca6c(0x314)][_0x3ac0f1][_0x87ca6c(0x1d2)](_0x9d8583[_0x87ca6c(0x45c)]);}async[a0_0x18e9af(0x51c)]({instanceName:_0x1058e4},_0x26a245){const _0xc56638=a0_0x18e9af;return await this[_0xc56638(0x6fc)][_0xc56638(0x314)][_0x1058e4][_0xc56638(0x51c)]();}},Ts=require(a0_0x18e9af(0x2d5)),jt=class c{constructor(_0x35749f,_0x23f994,_0x12798d,_0x1b6d3e,_0x313586){const _0x1db706=a0_0x18e9af;this[_0x1db706(0x6fc)]=_0x35749f,this[_0x1db706(0x38c)]=_0x23f994,this[_0x1db706(0x305)]=_0x12798d,this[_0x1db706(0xfe)]=_0x1b6d3e,this[_0x1db706(0x455)]=_0x313586,this[_0x1db706(0x232)]=new N(c[_0x1db706(0x10b)]);}async[a0_0x18e9af(0x5e4)]({instanceName:_0x5bf32a,apikey:_0x17fc20,number:_0x2848f1,proxy:_0x303a95=!0x0}){const _0x426071=a0_0x18e9af;try{let _0x8e246=new ye(this[_0x426071(0x38c)],this[_0x426071(0xfe)],this['repository']);_0x8e246[_0x426071(0x584)]=_0x5bf32a,this[_0x426071(0x6fc)][_0x426071(0x314)][_0x8e246[_0x426071(0x584)]]=_0x8e246;let _0x4f121d={};_0x17fc20?(await this[_0x426071(0x305)][_0x426071(0x153)]['create']({'apikey':_0x17fc20},_0x5bf32a),_0x4f121d[_0x426071(0x390)]=_0x17fc20):_0x4f121d=await this[_0x426071(0x455)][_0x426071(0x403)]({'instanceName':_0x8e246['instanceName']});let _0x59a9e5;return await _0x8e246[_0x426071(0x4e8)](_0x2848f1),await(0x0,Ts[_0x426071(0x762)])(0x7d0),_0x59a9e5=_0x8e246[_0x426071(0x6f0)],{'instance':{'instanceName':_0x8e246['instanceName'],'status':_0x426071(0x5e0)},'hash':_0x4f121d,'qrcode':_0x59a9e5};}catch(_0x1b5f9b){this[_0x426071(0x232)][_0x426071(0x1b4)](_0x1b5f9b);}}async[a0_0x18e9af(0x422)]({instanceName:_0x3549da,number:_0x2cdc5d=null}){const _0x2e9bb6=a0_0x18e9af;try{let _0x48c9d0=this[_0x2e9bb6(0x6fc)]['waInstances'][_0x3549da];switch(_0x48c9d0?.[_0x2e9bb6(0x3b8)]?.[_0x2e9bb6(0x41f)]){case _0x2e9bb6(0x647):return await _0x48c9d0[_0x2e9bb6(0x4e8)](_0x2cdc5d),await(0x0,Ts[_0x2e9bb6(0x762)])(0x7d0),_0x48c9d0[_0x2e9bb6(0x6f0)];case _0x2e9bb6(0x5d4):return _0x48c9d0[_0x2e9bb6(0x6f0)];default:return await this[_0x2e9bb6(0x722)]({'instanceName':_0x3549da});}}catch(_0x51dbea){this[_0x2e9bb6(0x232)][_0x2e9bb6(0x704)](_0x51dbea);}}async[a0_0x18e9af(0x722)]({instanceName:_0xc40a9b}){const _0x249595=a0_0x18e9af;let _0x227908=this[_0x249595(0x6fc)][_0x249595(0x314)][_0xc40a9b]['connectionStatus'],_0x4685f0=null;_0x227908[_0x249595(0x41f)]===_0x249595(0x446)&&_0xc40a9b&&(_0x4685f0=await this['waMonitor'][_0x249595(0x2fc)](_0xc40a9b));let _0x41b7c0=null;return _0x227908[_0x249595(0x41f)]==='connecting'&&_0xc40a9b&&(_0x41b7c0=this[_0x249595(0x6fc)][_0x249595(0x314)][_0xc40a9b][_0x249595(0x6f0)]),{'instance':_0xc40a9b,'connectionStatus':_0x227908,'instanceInfo':_0x4685f0,'qrcode':_0x41b7c0};}async['restartInstance']({instanceName:_0x5898aa}){const _0x2759ae=a0_0x18e9af;try{return this[_0x2759ae(0x6fc)][_0x2759ae(0x314)][_0x5898aa]?.[_0x2759ae(0x18c)]?.['ws']?.[_0x2759ae(0x647)](),{'status':_0x2759ae(0x28d),'error':!0x1,'response':{'message':_0x2759ae(0x76b)}};}catch(_0x33aafa){this[_0x2759ae(0x232)]['error'](_0x33aafa);}}async[a0_0x18e9af(0x767)]({instanceName:_0x2dc162}){const _0x470b94=a0_0x18e9af;return _0x2dc162?this[_0x470b94(0x6fc)][_0x470b94(0x2fc)](_0x2dc162):this['waMonitor']['instanceInfo']();}async[a0_0x18e9af(0x4c4)]({instanceName:_0x5deb52}){const _0x239555=a0_0x18e9af;try{return await this[_0x239555(0x6fc)]['waInstances'][_0x5deb52]?.[_0x239555(0x18c)]?.[_0x239555(0x4c4)](_0x239555(0x4b4)+_0x5deb52),{'error':!0x1,'message':_0x239555(0x67c)};}catch(_0x5565fe){throw new I(_0x5565fe[_0x239555(0x2fb)]());}}async[a0_0x18e9af(0x49a)]({instanceName:_0x2f2896}){const _0x3c484e=a0_0x18e9af;if((await this['connectionState']({'instanceName':_0x2f2896}))[_0x3c484e(0x3b8)][_0x3c484e(0x41f)]===_0x3c484e(0x446))throw new w(['Deletion\x20failed',_0x3c484e(0x6f3)]);try{return delete this[_0x3c484e(0x6fc)][_0x3c484e(0x314)][_0x2f2896],{'error':!0x1,'message':_0x3c484e(0x397)};}catch(_0x216472){throw new w(_0x216472['toString']());}}},X=require(a0_0x18e9af(0x4ba)),Ut=class{constructor(_0x26bbee){const _0x4737c2=a0_0x18e9af;this[_0x4737c2(0x6fc)]=_0x26bbee;}async[a0_0x18e9af(0x367)]({instanceName:_0x1d560d},_0xb44f92){const _0x3de9e5=a0_0x18e9af;return await this[_0x3de9e5(0x6fc)]['waInstances'][_0x1d560d][_0x3de9e5(0x3ef)](_0xb44f92);}async[a0_0x18e9af(0x65c)]({instanceName:_0x166409},_0xe94595){const _0x428766=a0_0x18e9af;return await this[_0x428766(0x6fc)]['waInstances'][_0x166409][_0x428766(0x2e1)](_0xe94595);}async[a0_0x18e9af(0x1e6)]({instanceName:_0x1efd7d},_0x479f5b){const _0x490f0e=a0_0x18e9af;if((0x0,X[_0x490f0e(0x69e)])(_0x479f5b?.[_0x490f0e(0x2e5)]?.[_0x490f0e(0x219)])&&!_0x479f5b?.[_0x490f0e(0x2e5)]?.['fileName'])throw new w(_0x490f0e(0x21d));if((0x0,X['isURL'])(_0x479f5b?.[_0x490f0e(0x2e5)]?.['media'])||(0x0,X[_0x490f0e(0x69e)])(_0x479f5b?.[_0x490f0e(0x2e5)]?.[_0x490f0e(0x219)]))return await this[_0x490f0e(0x6fc)][_0x490f0e(0x314)][_0x1efd7d][_0x490f0e(0x2e5)](_0x479f5b);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendSticker']({instanceName:_0x1c601e},_0x4b7c85){const _0x1012cf=a0_0x18e9af;if((0x0,X['isURL'])(_0x4b7c85[_0x1012cf(0x6b4)][_0x1012cf(0x148)])||(0x0,X[_0x1012cf(0x69e)])(_0x4b7c85[_0x1012cf(0x6b4)][_0x1012cf(0x148)]))return await this[_0x1012cf(0x6fc)][_0x1012cf(0x314)][_0x1c601e][_0x1012cf(0x323)](_0x4b7c85);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x18e9af(0x122)]({instanceName:_0x44b3d3},_0x49dc3c){const _0x457f5b=a0_0x18e9af;if((0x0,X[_0x457f5b(0x227)])(_0x49dc3c[_0x457f5b(0x490)][_0x457f5b(0x236)])||(0x0,X['isBase64'])(_0x49dc3c[_0x457f5b(0x490)][_0x457f5b(0x236)]))return await this[_0x457f5b(0x6fc)][_0x457f5b(0x314)][_0x44b3d3]['audioWhatsapp'](_0x49dc3c);throw new w(_0x457f5b(0x204));}async[a0_0x18e9af(0x2e7)]({instanceName:_0x5377dd},_0x332cdc){const _0x5d8faf=a0_0x18e9af;if((0x0,X[_0x5d8faf(0x69e)])(_0x332cdc[_0x5d8faf(0x4c3)]['mediaMessage']?.[_0x5d8faf(0x219)])&&!_0x332cdc[_0x5d8faf(0x4c3)][_0x5d8faf(0x2e5)]?.['fileName'])throw new w(_0x5d8faf(0x21d));return await this['waMonitor']['waInstances'][_0x5377dd][_0x5d8faf(0x4c3)](_0x332cdc);}async['sendLocation']({instanceName:_0x2b4802},_0x344705){const _0x1d122f=a0_0x18e9af;return await this['waMonitor'][_0x1d122f(0x314)][_0x2b4802]['locationMessage'](_0x344705);}async['sendPoll']({instanceName:_0x1aaba6},_0x1b17a5){const _0x495941=a0_0x18e9af;return await this[_0x495941(0x6fc)][_0x495941(0x314)][_0x1aaba6]['pollMessage'](_0x1b17a5);}async[a0_0x18e9af(0x636)]({instanceName:_0xe95cc7},_0x4928de){const _0x4a7b8f=a0_0x18e9af;return await this[_0x4a7b8f(0x6fc)][_0x4a7b8f(0x314)][_0xe95cc7][_0x4a7b8f(0x4ff)](_0x4928de);}async[a0_0x18e9af(0x147)]({instanceName:_0x4e9e1e},_0x2f33e1){const _0x1bb9fd=a0_0x18e9af;return await this[_0x1bb9fd(0x6fc)][_0x1bb9fd(0x314)][_0x4e9e1e][_0x1bb9fd(0x47f)](_0x2f33e1);}async[a0_0x18e9af(0x672)]({instanceName:_0x17351d},_0x2bf4e7){const _0x19bbbf=a0_0x18e9af;if(!_0x2bf4e7['reactionMessage'][_0x19bbbf(0x127)][_0x19bbbf(0x67b)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x19bbbf(0x429));return await this[_0x19bbbf(0x6fc)][_0x19bbbf(0x314)][_0x17351d]['reactionMessage'](_0x2bf4e7);}async[a0_0x18e9af(0x594)]({instanceName:_0x1978dc},_0x572bc8){const _0xa4a91f=a0_0x18e9af;return await this['waMonitor'][_0xa4a91f(0x314)][_0x1978dc][_0xa4a91f(0x686)](_0x572bc8);}},Mr=require(a0_0x18e9af(0x5b1)),Os=require(a0_0x18e9af(0x579)),qt=class c{constructor(_0x1f7106,_0x54e5e8,_0x2e204f){const _0x297bde=a0_0x18e9af;this[_0x297bde(0x38c)]=_0x1f7106,this['waMonitor']=_0x54e5e8,this['repository']=_0x2e204f,this[_0x297bde(0x232)]=new N(c['name']);}async[a0_0x18e9af(0x360)](_0x15f86b){const _0xcb91bb=a0_0x18e9af;let _0x330d04=this['configService'][_0xcb91bb(0x45d)]('AUTHENTICATION')[_0xcb91bb(0x1ed)],_0x3d26a2=(0x0,Mr[_0xcb91bb(0x282)])({'instanceName':_0x15f86b[_0xcb91bb(0x584)],'apiName':He,'tokenId':(0x0,Os['v4'])()},_0x330d04[_0xcb91bb(0x512)],{'expiresIn':_0x330d04['EXPIRIN_IN'],'encoding':_0xcb91bb(0x6fe),'subject':_0xcb91bb(0x32a)}),_0x5e5e92=await this[_0xcb91bb(0x305)]['auth'][_0xcb91bb(0x1bb)]({'jwt':_0x3d26a2},_0x15f86b['instanceName']);if(_0x5e5e92[_0xcb91bb(0x1b4)])throw this[_0xcb91bb(0x232)]['error']({'localError':c[_0xcb91bb(0x10b)]+_0xcb91bb(0x3ee),'error':_0x5e5e92[_0xcb91bb(0x1b4)]}),new w(_0xcb91bb(0x742),_0x5e5e92[_0xcb91bb(0x1b4)]?.[_0xcb91bb(0x2fb)]());return{'jwt':_0x3d26a2};}async[a0_0x18e9af(0x390)](_0x201dfe){const _0x225018=a0_0x18e9af;let _0x4289a3=(0x0,Os['v4'])()['toUpperCase'](),_0x586dc2=await this[_0x225018(0x305)][_0x225018(0x153)][_0x225018(0x1bb)]({'apikey':_0x4289a3},_0x201dfe[_0x225018(0x584)]);if(_0x586dc2['error'])throw this[_0x225018(0x232)][_0x225018(0x1b4)]({'localError':c['name']+_0x225018(0x3ee),'error':_0x586dc2[_0x225018(0x1b4)]}),new w(_0x225018(0x742),_0x586dc2['error']?.[_0x225018(0x2fb)]());return{'apikey':_0x4289a3};}async[a0_0x18e9af(0x403)](_0x505db4){const _0xb62e3c=a0_0x18e9af;let _0x179a30=this[_0xb62e3c(0x38c)][_0xb62e3c(0x45d)]('AUTHENTICATION');return await this[_0x179a30[_0xb62e3c(0x482)]](_0x505db4);}},Jt=class{constructor(_0x2dacf2){const _0x54a803=a0_0x18e9af;this[_0x54a803(0x6fc)]=_0x2dacf2;}async[a0_0x18e9af(0x5b8)](_0x526e68,_0x5a15bd){const _0x22dbc=a0_0x18e9af;return await this['waMonitor']['waInstances'][_0x526e68[_0x22dbc(0x584)]]['createGroup'](_0x5a15bd);}async[a0_0x18e9af(0x2ee)](_0x522fd4,_0x552954){const _0x3d29cd=a0_0x18e9af;return await this['waMonitor'][_0x3d29cd(0x314)][_0x522fd4[_0x3d29cd(0x584)]][_0x3d29cd(0x2ee)](_0x552954);}async['groupDesc'](_0x32de6e,_0x1663cf){const _0xce6ef7=a0_0x18e9af;return await this[_0xce6ef7(0x6fc)][_0xce6ef7(0x314)][_0x32de6e[_0xce6ef7(0x584)]][_0xce6ef7(0x3cd)](_0x1663cf);}async[a0_0x18e9af(0x434)](_0x25991c,_0x10ab17){const _0x53ddba=a0_0x18e9af;return await this[_0x53ddba(0x6fc)][_0x53ddba(0x314)][_0x25991c[_0x53ddba(0x584)]][_0x53ddba(0x434)](_0x10ab17);}async[a0_0x18e9af(0x108)](_0x4836bb,_0x1a8c44){const _0x18a100=a0_0x18e9af;return await this[_0x18a100(0x6fc)][_0x18a100(0x314)][_0x4836bb[_0x18a100(0x584)]]['groupSetting'](_0x1a8c44);}async[a0_0x18e9af(0x17e)](_0x2d5a54,_0x57d92d){const _0x1c7f81=a0_0x18e9af;return await this[_0x1c7f81(0x6fc)][_0x1c7f81(0x314)][_0x2d5a54[_0x1c7f81(0x584)]][_0x1c7f81(0x586)](_0x57d92d);}async[a0_0x18e9af(0x183)](_0x489a37){const _0x567a4d=a0_0x18e9af;return await this[_0x567a4d(0x6fc)]['waInstances'][_0x489a37['instanceName']][_0x567a4d(0x183)]();}async['inviteCode'](_0x2d9741,_0x2da69d){const _0x3c4670=a0_0x18e9af;return await this['waMonitor'][_0x3c4670(0x314)][_0x2d9741[_0x3c4670(0x584)]][_0x3c4670(0x2c3)](_0x2da69d);}async[a0_0x18e9af(0x69c)](_0x30d17b,_0x1e1a4d){const _0x237ee3=a0_0x18e9af;return await this[_0x237ee3(0x6fc)][_0x237ee3(0x314)][_0x30d17b[_0x237ee3(0x584)]]['joinGroup'](_0x1e1a4d);}async['revokeInviteCode'](_0x3818ed,_0x54f0bc){const _0x510bba=a0_0x18e9af;return await this[_0x510bba(0x6fc)]['waInstances'][_0x3818ed[_0x510bba(0x584)]][_0x510bba(0x6e5)](_0x54f0bc);}async[a0_0x18e9af(0x1c6)](_0x420a2c,_0x4d4168){const _0x26dd64=a0_0x18e9af;return await this[_0x26dd64(0x6fc)][_0x26dd64(0x314)][_0x420a2c[_0x26dd64(0x584)]]['findParticipants'](_0x4d4168);}async[a0_0x18e9af(0x660)](_0x5d31e8,_0xe6202b){const _0x468c0f=a0_0x18e9af;return await this[_0x468c0f(0x6fc)][_0x468c0f(0x314)][_0x5d31e8['instanceName']][_0x468c0f(0x2d2)](_0xe6202b);}async[a0_0x18e9af(0x5eb)](_0x543c87,_0xa13191){const _0x23a47b=a0_0x18e9af;return await this[_0x23a47b(0x6fc)][_0x23a47b(0x314)][_0x543c87[_0x23a47b(0x584)]][_0x23a47b(0x5eb)](_0xa13191);}async['leaveGroup'](_0x461071,_0x50ad69){const _0x387aa5=a0_0x18e9af;return await this[_0x387aa5(0x6fc)]['waInstances'][_0x461071[_0x387aa5(0x584)]][_0x387aa5(0x66e)](_0x50ad69);}},Vt=class{constructor(_0x45244f){this['waMonitor']=_0x45244f;}['create'](_0xb3eb1e,_0x397cff){const _0xa767fb=a0_0x18e9af;return this[_0xa767fb(0x6fc)][_0xa767fb(0x314)][_0xb3eb1e[_0xa767fb(0x584)]][_0xa767fb(0x58c)](_0x397cff);}async['find'](_0x4e59da){const _0x21e4bf=a0_0x18e9af;try{return await this['waMonitor'][_0x21e4bf(0x314)][_0x4e59da[_0x21e4bf(0x584)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Zd=new N(a0_0x18e9af(0x5d3)),Bt=class{constructor(_0x32b171){this['waMonitor']=_0x32b171;}async[a0_0x18e9af(0x61f)](_0x1a9860,_0x5ce72f){const _0xc3182=a0_0x18e9af;return await this['waMonitor'][_0xc3182(0x314)][_0x1a9860['instanceName']][_0xc3182(0x61f)](_0x5ce72f);}async[a0_0x18e9af(0x17a)](_0x2c22d6){const _0x493d60=a0_0x18e9af;return await this[_0x493d60(0x6fc)][_0x493d60(0x314)][_0x2c22d6[_0x493d60(0x584)]][_0x493d60(0x17a)]();}async['deleteDoneMessages'](_0x21529b){const _0x46a2a9=a0_0x18e9af;return await this[_0x46a2a9(0x6fc)][_0x46a2a9(0x314)][_0x21529b[_0x46a2a9(0x584)]][_0x46a2a9(0x302)]();}async[a0_0x18e9af(0x665)](_0x54ad69){const _0x36c799=a0_0x18e9af;return await this[_0x36c799(0x6fc)]['waInstances'][_0x54ad69[_0x36c799(0x584)]][_0x36c799(0x665)]();}async[a0_0x18e9af(0x565)](_0x5d2763,_0x3d2d42){const _0x324ff8=a0_0x18e9af;return await this[_0x324ff8(0x6fc)][_0x324ff8(0x314)][_0x5d2763[_0x324ff8(0x584)]][_0x324ff8(0x565)](_0x3d2d42);}async[a0_0x18e9af(0x14f)](_0x1b4001,_0x4d753c){const _0x249fc5=a0_0x18e9af;return await this[_0x249fc5(0x6fc)][_0x249fc5(0x314)][_0x1b4001[_0x249fc5(0x584)]][_0x249fc5(0x14f)](_0x4d753c);}async[a0_0x18e9af(0x549)](_0x486a0b,_0x58387a){const _0x4e31e3=a0_0x18e9af;return await this[_0x4e31e3(0x6fc)]['waInstances'][_0x486a0b[_0x4e31e3(0x584)]][_0x4e31e3(0x549)](_0x58387a);}async[a0_0x18e9af(0x1bf)](_0x55a48a,_0xf53d8a){const _0x1e2ae3=a0_0x18e9af;return await this[_0x1e2ae3(0x6fc)][_0x1e2ae3(0x314)][_0x55a48a[_0x1e2ae3(0x584)]][_0x1e2ae3(0x1bf)](_0xf53d8a);}async['getConversation'](_0x58dbf0,_0x3e7678){const _0x25e3f0=a0_0x18e9af;return await this['waMonitor'][_0x25e3f0(0x314)][_0x58dbf0['instanceName']][_0x25e3f0(0x38b)](_0x3e7678);}async['fetchConversation'](_0x14f94a,_0x37149c){const _0x3d46cb=a0_0x18e9af;return await this[_0x3d46cb(0x6fc)][_0x3d46cb(0x314)][_0x14f94a[_0x3d46cb(0x584)]][_0x3d46cb(0x1c2)](_0x37149c);}async['editConversation'](_0x3a6b2c,_0x47d0c2){const _0x372567=a0_0x18e9af;return await this[_0x372567(0x6fc)][_0x372567(0x314)][_0x3a6b2c['instanceName']][_0x372567(0x64b)](_0x47d0c2);}async[a0_0x18e9af(0x773)](_0x1dc163,_0x237766){const _0x124ece=a0_0x18e9af;return await this[_0x124ece(0x6fc)][_0x124ece(0x314)][_0x1dc163[_0x124ece(0x584)]][_0x124ece(0x773)](_0x237766);}async[a0_0x18e9af(0x31d)](_0x417b0a,_0x18c37a){const _0xaa6399=a0_0x18e9af;return await this[_0xaa6399(0x6fc)][_0xaa6399(0x314)][_0x417b0a[_0xaa6399(0x584)]]['getFlow'](_0x18c37a[_0xaa6399(0x10b)]);}async['createFlow'](_0x3c3e21,_0x299176){const _0x3ae30d=a0_0x18e9af;return await this[_0x3ae30d(0x6fc)][_0x3ae30d(0x314)][_0x3c3e21[_0x3ae30d(0x584)]][_0x3ae30d(0x6ad)](_0x299176);}async['editFlow'](_0x542a2d,_0x3601ef){const _0x86e35c=a0_0x18e9af;return await this[_0x86e35c(0x6fc)]['waInstances'][_0x542a2d['instanceName']]['editFlow'](_0x3601ef);}async[a0_0x18e9af(0x5e8)](_0x2cbd4e,_0x12202b){const _0x3c51a6=a0_0x18e9af;return await this[_0x3c51a6(0x6fc)]['waInstances'][_0x2cbd4e[_0x3c51a6(0x584)]][_0x3c51a6(0x5e8)](_0x12202b);}async[a0_0x18e9af(0x1bc)](_0x248869,_0x72c2eb){const _0x4594dd=a0_0x18e9af;return await this['waMonitor'][_0x4594dd(0x314)][_0x248869[_0x4594dd(0x584)]]['editFlowReply'](_0x72c2eb);}async['editFlowGroup'](_0x4c02fd,_0x2b6b57){const _0x24195d=a0_0x18e9af;return await this['waMonitor'][_0x24195d(0x314)][_0x4c02fd[_0x24195d(0x584)]][_0x24195d(0x1a7)](_0x2b6b57);}async[a0_0x18e9af(0x3b3)](_0x192b70,_0x5619e1){const _0x5601fa=a0_0x18e9af;return await this[_0x5601fa(0x6fc)]['waInstances'][_0x192b70[_0x5601fa(0x584)]][_0x5601fa(0x3b3)](_0x5619e1);}async[a0_0x18e9af(0x32c)](_0x320426,_0x483de6){const _0x3ef7f2=a0_0x18e9af;return await this[_0x3ef7f2(0x6fc)]['waInstances'][_0x320426[_0x3ef7f2(0x584)]]['editFlowVaredit'](_0x483de6);}async[a0_0x18e9af(0x1f1)](_0x161edb,_0x2e0051){const _0x3c6fdb=a0_0x18e9af;return await this['waMonitor'][_0x3c6fdb(0x314)][_0x161edb[_0x3c6fdb(0x584)]][_0x3c6fdb(0x1f1)](_0x2e0051);}async['deleteFlow'](_0x33dd1d,_0x23557e){const _0x5690f8=a0_0x18e9af;return await this['waMonitor'][_0x5690f8(0x314)][_0x33dd1d[_0x5690f8(0x584)]][_0x5690f8(0x590)](_0x23557e[_0x5690f8(0x10b)]);}async[a0_0x18e9af(0x356)](_0x5b3470){const _0x13a0ee=a0_0x18e9af;return await this[_0x13a0ee(0x6fc)]['waInstances'][_0x5b3470[_0x13a0ee(0x584)]][_0x13a0ee(0x356)]();}},Gt=class{constructor(_0x442058){const _0x5561dc=a0_0x18e9af;this[_0x5561dc(0x20f)]=_0x442058;}async[a0_0x18e9af(0x334)](_0x4fca57,_0x151649){const _0x2de1ee=a0_0x18e9af;return this['webhookService'][_0x2de1ee(0x1bb)](_0x4fca57,_0x151649);}async[a0_0x18e9af(0x2ae)](_0x59a4a7){const _0xdb1689=a0_0x18e9af;return this['webhookService'][_0xdb1689(0x493)](_0x59a4a7);}},Wt=class extends x{constructor(_0x253a1b,_0x4cf8c4){const _0x888cc5=a0_0x18e9af;super(_0x4cf8c4),this[_0x888cc5(0x212)]=_0x253a1b,this[_0x888cc5(0x38c)]=_0x4cf8c4;}async[a0_0x18e9af(0x1bb)](_0x4c95ac,_0x5d4e9e){const _0x42b054=a0_0x18e9af;try{return this[_0x42b054(0xfc)]['ENABLED']?{'insertCount':(await this['webhookModel']['replaceOne']({'_id':_0x5d4e9e},{..._0x4c95ac},{'upsert':!0x0}))[_0x42b054(0x30d)]}:{'insertCount':0x1};}catch(_0x3875d7){return _0x3875d7;}}async['delete'](_0x480e44){const _0x330e16=a0_0x18e9af;try{if(this[_0x330e16(0xfc)][_0x330e16(0x695)]){await this[_0x330e16(0x212)]['deleteOne']({'_id':_0x480e44});return;}}catch(_0x4890d4){return{'error':_0x4890d4};}}async[a0_0x18e9af(0x493)](_0x237381){const _0x28ff98=a0_0x18e9af;try{if(this['dbSettings'][_0x28ff98(0x695)])return await this[_0x28ff98(0x212)][_0x28ff98(0x238)]({'_id':_0x237381});}catch{return{};}}},zt=class extends x{constructor(_0x443bda,_0x3be4f6){const _0x8ffd49=a0_0x18e9af;super(_0x3be4f6),this['authModel']=_0x443bda,this[_0x8ffd49(0x38c)]=_0x3be4f6,this[_0x8ffd49(0x153)]=_0x3be4f6['get'](_0x8ffd49(0x11e));}async['create'](_0x32279b,_0x2ca10d){const _0x4422ae=a0_0x18e9af;try{if(this[_0x4422ae(0xfc)][_0x4422ae(0x695)])return{'insertCount':(await this['authModel'][_0x4422ae(0x151)]({'_id':_0x2ca10d},{'$set':{..._0x32279b}},{'upsert':!0x0}))[_0x4422ae(0x30d)]};}catch(_0x187983){return{'error':_0x187983};}}async['updateAll'](_0xc66492,_0x1e538b){const _0x3c0eaa=a0_0x18e9af;try{if(this[_0x3c0eaa(0xfc)][_0x3c0eaa(0x695)])return{'insertCount':(await this['authModel'][_0x3c0eaa(0x4c9)](_0xc66492,{'$set':_0x1e538b},{'upsert':!0x1}))[_0x3c0eaa(0x30d)]};throw new Error(_0x3c0eaa(0x781));}catch(_0x3c4de1){return{'error':_0x3c4de1};}}async[a0_0x18e9af(0x622)](_0x3f36f7){const _0x40a8a4=a0_0x18e9af;try{if(this[_0x40a8a4(0xfc)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x40a8a4(0x622)](_0x3f36f7))[_0x40a8a4(0x4b8)]};throw new Error(_0x40a8a4(0x781));}catch(_0x3142b5){return{'error':_0x3142b5};}}async[a0_0x18e9af(0x5ef)](_0x39365f){const _0x254bfb=a0_0x18e9af;try{if(this[_0x254bfb(0xfc)][_0x254bfb(0x695)]){await this[_0x254bfb(0x605)]['deleteOne']({'_id':_0x39365f});return;}}catch(_0x3e167d){return{'error':_0x3e167d};}}async[a0_0x18e9af(0x493)](_0x5b421d){const _0x473062=a0_0x18e9af;try{if(this[_0x473062(0xfc)][_0x473062(0x695)])return await this['authModel'][_0x473062(0x238)]({'_id':_0x5b421d});}catch{return{};}}async['findAll'](){const _0x295561=a0_0x18e9af;try{if(this[_0x295561(0xfc)][_0x295561(0x695)])return await this[_0x295561(0x605)][_0x295561(0x493)]();}catch{return[];}}},Ht=class extends x{[a0_0x18e9af(0x67f)](_0x1df50c){return ra(_0x1df50c);}async[a0_0x18e9af(0x53d)](_0x51f6f3){const _0x4131f3=a0_0x18e9af;try{let _0x291f78=ia,_0x585507=this[_0x4131f3(0x67f)](_0x51f6f3),_0x24ce78=await _0x291f78[_0x4131f3(0x493)]({'owner':_0x51f6f3})[_0x4131f3(0x618)](),_0x1d93c1=[],_0x393986=[];for(let _0x48a537 of _0x24ce78)await _0x585507[_0x4131f3(0x741)](_0x48a537['_id'])[_0x4131f3(0x618)]()||(_0x1d93c1[_0x4131f3(0x256)](_0x48a537),_0x393986[_0x4131f3(0x256)](_0x48a537[_0x4131f3(0x550)]));return _0x1d93c1[_0x4131f3(0x15f)]>0x0&&await _0x585507[_0x4131f3(0x575)](_0x1d93c1,{'ordered':!0x1}),{'success':!0x0};}catch(_0x200a81){return console['error'](_0x4131f3(0x3be),_0x200a81),{'success':!0x1,'error':_0x200a81};}}async[a0_0x18e9af(0x5ef)](_0x2fafb7,_0x31eae5){const _0x8dc792=a0_0x18e9af;try{let _0x5cf31a=this['getFlowModelForOwner'](_0x31eae5),_0xd481a2=A(_0x2fafb7['where']);return{'deletedCount':(await _0x5cf31a[_0x8dc792(0x622)](_0xd481a2))[_0x8dc792(0x4b8)]};}catch(_0x5792e5){return{'error':_0x5792e5?.[_0x8dc792(0x2fb)]()};}}async[a0_0x18e9af(0x406)](_0x247238,_0x2c1dcc){const _0x109dbe=a0_0x18e9af;try{let _0x4bbe0e=this[_0x109dbe(0x67f)](_0x2c1dcc),_0x5acd3c=A(_0x247238[_0x109dbe(0x57c)]);return{'deletedCount':(await _0x4bbe0e[_0x109dbe(0x406)](_0x5acd3c))[_0x109dbe(0x4b8)]};}catch(_0x22679a){return{'error':_0x22679a?.[_0x109dbe(0x2fb)]()};}}async[a0_0x18e9af(0x520)](_0x23d4cc,_0x3747bb,_0x589af5){const _0x38721d=a0_0x18e9af;try{let _0x52b506=await this[_0x38721d(0x67f)](_0x589af5)[_0x38721d(0x29f)](_0x23d4cc,_0x3747bb,{'overwrite':!0x0,'new':!0x0});return _0x52b506||(console['error'](_0x38721d(0x19d),_0x23d4cc),null);}catch(_0x1bd8b7){return console['error'](_0x38721d(0x3c8),_0x1bd8b7),null;}}async['updateOne'](_0x1bf4a9,_0x202af8,_0x5ea36c){const _0x3676b9=a0_0x18e9af;try{let _0xe988f1=await this['getFlowModelForOwner'](_0x5ea36c)[_0x3676b9(0x741)](_0x1bf4a9);return _0xe988f1?(Object[_0x3676b9(0x735)](_0xe988f1,_0x202af8),await _0xe988f1[_0x3676b9(0x494)]()):(console['error']('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x1bf4a9),null);}catch(_0x2adb11){return console['error'](_0x3676b9(0x3c8),_0x2adb11),null;}}async[a0_0x18e9af(0x1a3)](_0x4b8c07){const _0x43955b=a0_0x18e9af;try{let _0x39d614=this['getFlowModelForOwner'](_0x4b8c07),_0x5c3803={'shareOwners':{'$exists':!0x1}},_0x2dce35={'$set':{'shareOwners':[]}};return(await _0x39d614[_0x43955b(0x4c9)](_0x5c3803,_0x2dce35))[_0x43955b(0x30d)];}catch(_0x5b6460){return console[_0x43955b(0x1b4)](_0x5b6460),0x0;}}async[a0_0x18e9af(0x77a)](_0x4f3862,_0x5d57f0){const _0x469091=a0_0x18e9af;try{let _0x5aed56=this[_0x469091(0x67f)](_0x5d57f0);return await new _0x5aed56(_0x4f3862)[_0x469091(0x494)]();}catch(_0x2fa0ee){return console[_0x469091(0x1b4)](_0x469091(0x221),_0x2fa0ee),null;}}async[a0_0x18e9af(0x4c9)](_0x526810,_0x2c9c60,_0x20fde8){const _0x5695ae=a0_0x18e9af;try{return{'modifiedCount':(await this[_0x5695ae(0x67f)](_0x20fde8)[_0x5695ae(0x4c9)](_0x526810,{'$set':_0x2c9c60}))['modifiedCount']};}catch(_0x46acda){return console[_0x5695ae(0x1b4)]('Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:',_0x46acda),{'error':_0x46acda};}}async[a0_0x18e9af(0x222)](_0x10c7e6,_0x41236d){const _0x49c20c=a0_0x18e9af;try{let _0x329015=this[_0x49c20c(0x67f)](_0x41236d),_0x18f613=A(_0x10c7e6[_0x49c20c(0x57c)]);return await _0x329015['find'](_0x18f613)['limit'](_0x10c7e6?.[_0x49c20c(0x632)]??0x0)[_0x49c20c(0x618)]();}catch{return[];}}async[a0_0x18e9af(0x238)](_0xff7f80,_0x27bef7){const _0x38e9b5=a0_0x18e9af;try{let _0xb4cc13=this[_0x38e9b5(0x67f)](_0x27bef7),_0x23561b=A(_0xff7f80[_0x38e9b5(0x57c)]);return await _0xb4cc13['findOne'](_0x23561b)[_0x38e9b5(0x618)]();}catch{return null;}}async[a0_0x18e9af(0x29a)](_0x495472){const _0x574c33=a0_0x18e9af;try{return await this[_0x574c33(0x67f)](_0x495472)[_0x574c33(0x732)][_0x574c33(0x1ef)](),{'success':!0x0};}catch(_0x3f8f1c){return console['error'](_0x3f8f1c),{'success':!0x1,'error':_0x3f8f1c};}}},Kt=class extends x{[a0_0x18e9af(0x64c)](_0xa78f74){return na(_0xa78f74);}async[a0_0x18e9af(0x53d)](_0x2b40e6){const _0x82749d=a0_0x18e9af;try{let _0x3475f9=ca,_0x4d7111=this[_0x82749d(0x64c)](_0x2b40e6),_0x1d9767=await _0x3475f9[_0x82749d(0x493)]({'owner':_0x2b40e6})[_0x82749d(0x618)](),_0x46eb9b=[],_0x4e5cd8=[];for(let _0x34ab3d of _0x1d9767)await _0x4d7111['findById'](_0x34ab3d[_0x82749d(0x550)])[_0x82749d(0x618)]()||(_0x46eb9b[_0x82749d(0x256)](_0x34ab3d),_0x4e5cd8[_0x82749d(0x256)](_0x34ab3d[_0x82749d(0x550)]));return _0x46eb9b['length']>0x0&&await _0x4d7111['insertMany'](_0x46eb9b,{'ordered':!0x1}),{'success':!0x0};}catch(_0xf4cbe2){return console[_0x82749d(0x1b4)](_0x82749d(0x3be),_0xf4cbe2),{'success':!0x1,'error':_0xf4cbe2};}}async['insert'](_0x9a7d05){const _0xfbe6f1=a0_0x18e9af;if(_0x9a7d05[_0xfbe6f1(0x15f)]!==0x0)try{return{'insertCount':(await this[_0xfbe6f1(0x64c)](_0x9a7d05[0x0][_0xfbe6f1(0x74a)])[_0xfbe6f1(0x575)]([..._0x9a7d05]))['length']};}catch(_0x87eead){return _0x87eead;}}async[a0_0x18e9af(0x5ef)](_0x5ec637,_0x1b2acf){const _0x11aff7=a0_0x18e9af;try{let _0x43a409=this[_0x11aff7(0x64c)](_0x1b2acf),_0x2f64a6=A(_0x5ec637[_0x11aff7(0x57c)]);return{'deletedCount':(await _0x43a409['deleteMany'](_0x2f64a6))[_0x11aff7(0x4b8)]};}catch(_0xe8dc8a){return{'error':_0xe8dc8a?.[_0x11aff7(0x2fb)]()};}}async[a0_0x18e9af(0x406)](_0xb06ae9,_0x23164f){const _0x2e8fee=a0_0x18e9af;try{let _0x449509=this['getConversationModelForOwner'](_0x23164f),_0xbcea8b=A(_0xb06ae9[_0x2e8fee(0x57c)]);return{'deletedCount':(await _0x449509[_0x2e8fee(0x406)](_0xbcea8b))[_0x2e8fee(0x4b8)]};}catch(_0x39bae9){return{'error':_0x39bae9?.[_0x2e8fee(0x2fb)]()};}}async[a0_0x18e9af(0x70c)](_0x1a41c1,_0x354bbc){const _0x4432ee=a0_0x18e9af;try{if(_0x1a41c1['length']===0x0)return;let _0x31458e=this['getConversationModelForOwner'](_0x354bbc),_0x215183=_0x1a41c1['map'](_0x4ca6f8=>({'updateOne':{'filter':{'name':_0x4ca6f8[_0x4432ee(0x10b)],'owner':_0x354bbc},'update':{..._0x4ca6f8}}})),{modifiedCount:_0x42c09b}=await _0x31458e['bulkWrite'](_0x215183);return{'insertCount':_0x42c09b};}catch{return;}}async[a0_0x18e9af(0x4c9)](_0x21c101,_0x2e428b,_0x205331){const _0x59fca3=a0_0x18e9af;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x205331)[_0x59fca3(0x4c9)](_0x21c101,{'$set':_0x2e428b}))[_0x59fca3(0x30d)]};}catch(_0x19ad44){return console[_0x59fca3(0x1b4)](_0x59fca3(0x613),_0x19ad44),{'error':_0x19ad44};}}async[a0_0x18e9af(0x151)](_0x328600,_0x185fb0,_0x505370){const _0x6bd940=a0_0x18e9af;try{return await this[_0x6bd940(0x64c)](_0x505370)[_0x6bd940(0x2e0)]({'_id':_0x328600},{'$set':_0x185fb0},{'new':!0x0,'upsert':!0x0})[_0x6bd940(0x618)]();}catch(_0x49c66b){return console[_0x6bd940(0x1b4)](_0x49c66b),null;}}async['find'](_0x4f1931,_0x30a5ab){const _0x2df1af=a0_0x18e9af;try{return await this[_0x2df1af(0x64c)](_0x30a5ab)['find'](_0x4f1931)[_0x2df1af(0x540)]({'lastInteraction':-0x1})[_0x2df1af(0x618)]();}catch{return[];}}async[a0_0x18e9af(0x238)](_0x8697ce,_0x202060){const _0x27a5cb=a0_0x18e9af;try{return await this['getConversationModelForOwner'](_0x202060)[_0x27a5cb(0x238)]({..._0x8697ce[_0x27a5cb(0x57c)]})[_0x27a5cb(0x618)]();}catch{return null;}}async[a0_0x18e9af(0x29a)](_0x2788e0){const _0x13e4a3=a0_0x18e9af;try{return await this[_0x13e4a3(0x64c)](_0x2788e0)[_0x13e4a3(0x732)][_0x13e4a3(0x1ef)](),{'success':!0x0};}catch(_0x3ae545){return console[_0x13e4a3(0x1b4)](_0x3ae545),{'success':!0x1,'error':_0x3ae545};}}},Qt=class extends x{[a0_0x18e9af(0x52c)](_0x519f58){return ua(_0x519f58);}async[a0_0x18e9af(0x53d)](_0x2d1915){const _0x17acfa=a0_0x18e9af;try{let _0x4e2e32=da,_0x3e010a=this[_0x17acfa(0x52c)](_0x2d1915),_0x39bd28=await _0x4e2e32[_0x17acfa(0x493)]({'owner':_0x2d1915})[_0x17acfa(0x618)](),_0x14d514=[],_0x37d5a8=[];for(let _0x54a1e0 of _0x39bd28)await _0x3e010a[_0x17acfa(0x741)](_0x54a1e0[_0x17acfa(0x550)])[_0x17acfa(0x618)]()||(_0x14d514[_0x17acfa(0x256)](_0x54a1e0),_0x37d5a8[_0x17acfa(0x256)](_0x54a1e0[_0x17acfa(0x550)]));return _0x14d514[_0x17acfa(0x15f)]>0x0&&await _0x3e010a['insertMany'](_0x14d514,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4942ed){return console[_0x17acfa(0x1b4)](_0x17acfa(0x3be),_0x4942ed),{'success':!0x1,'error':_0x4942ed};}}async['createAndSave'](_0x111584,_0x378148){try{let _0x2b7af4=this['getScheduleMessageModelForOwner'](_0x378148);return await new _0x2b7af4(_0x111584)['save']();}catch(_0x2d290b){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x2d290b),null;}}async[a0_0x18e9af(0x406)](_0x289b6a,_0x3fe753){const _0x46e9d4=a0_0x18e9af;try{return await this['getScheduleMessageModelForOwner'](_0x3fe753)[_0x46e9d4(0x68c)](_0x289b6a),{};}catch(_0x369e83){return{'error':_0x369e83?.[_0x46e9d4(0x2fb)]()};}}async[a0_0x18e9af(0x151)](_0x247312,_0x50e6fd,_0x354ca5){const _0x50acab=a0_0x18e9af;try{return await this[_0x50acab(0x52c)](_0x354ca5)[_0x50acab(0x2e0)](_0x247312,{'$set':_0x50e6fd},{'new':!0x0})[_0x50acab(0x618)]();}catch(_0x7d7eb7){return console['error'](_0x50acab(0x5b4),_0x7d7eb7),null;}}async[a0_0x18e9af(0x36b)](_0xdb6b61,_0x48442f,_0x324a00){const _0xa0f70=a0_0x18e9af;try{return await this[_0xa0f70(0x52c)](_0x324a00)['findByIdAndUpdate'](_0xdb6b61,_0x48442f,{'new':!0x0})[_0xa0f70(0x618)]();}catch(_0x1c4dbc){return console[_0xa0f70(0x1b4)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x1c4dbc),null;}}async[a0_0x18e9af(0x493)](_0x1b9586,_0x438b7b){const _0x32e273=a0_0x18e9af;try{return await this[_0x32e273(0x52c)](_0x438b7b)[_0x32e273(0x493)](_0x1b9586['where'])[_0x32e273(0x632)](_0x1b9586?.[_0x32e273(0x632)]??0x0)[_0x32e273(0x540)]({'when':0x1})[_0x32e273(0x618)]();}catch{return[];}}async['findOne'](_0x297299,_0x3d89f4){const _0x5bb235=a0_0x18e9af;try{return await this['getScheduleMessageModelForOwner'](_0x3d89f4)['findOne'](_0x297299[_0x5bb235(0x57c)])[_0x5bb235(0x540)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x18e9af(0x741)](_0x3b3442,_0x579ebf){const _0xecf6c6=a0_0x18e9af;try{return await this[_0xecf6c6(0x52c)](_0x579ebf)[_0xecf6c6(0x741)](_0x3b3442)[_0xecf6c6(0x618)]();}catch{return null;}}async['deleteMany'](_0x49afa7,_0x8ea604){const _0x4b5bad=a0_0x18e9af;try{return{'deletedCount':(await this[_0x4b5bad(0x52c)](_0x8ea604)[_0x4b5bad(0x622)](_0x49afa7))[_0x4b5bad(0x4b8)]};}catch(_0x5c6b1e){return console[_0x4b5bad(0x1b4)]('Erro\x20ao\x20deletar\x20mensagens:',_0x5c6b1e),{'error':_0x5c6b1e};}}async['deleteAll'](_0xa9c46d){const _0x3c77b1=a0_0x18e9af;try{return await this[_0x3c77b1(0x52c)](_0xa9c46d)[_0x3c77b1(0x732)]['drop'](),{'success':!0x0};}catch(_0x198ab3){return console[_0x3c77b1(0x1b4)](_0x198ab3),{'success':!0x1,'error':_0x198ab3};}}},Yt=class extends x{async[a0_0x18e9af(0x70c)](_0x2a36dc,_0x54a66e){const _0x55b9c6=a0_0x18e9af;try{if(this['dbSettings'][_0x55b9c6(0x695)]){let _0x1c5688=await $e[_0x55b9c6(0x2e0)]({'_id':_0x54a66e},{'$set':_0x2a36dc},{'new':!0x0});return console[_0x55b9c6(0x704)](_0x55b9c6(0x65e),_0x1c5688),_0x1c5688;}}catch(_0x133254){throw console[_0x55b9c6(0x1b4)](_0x55b9c6(0x70e),_0x133254),_0x133254;}}async[a0_0x18e9af(0x224)](_0x1d20a0){const _0x25fe63=a0_0x18e9af;try{let _0x531dd6=await $e[_0x25fe63(0x741)](_0x1d20a0);return _0x531dd6||(_0x531dd6=new $e({'_id':_0x1d20a0}),await _0x531dd6[_0x25fe63(0x494)]()),_0x531dd6;}catch(_0x480003){return console[_0x25fe63(0x1b4)](_0x25fe63(0x52d),_0x480003),null;}}},bi=new N('WA\x20MODULE'),Si=new Fe(b),Ei=new kt(b),Ci=new Ye(b),Mi=new Wt(Xs,b),vi=new zt(Ks,b),Ni=new Ht(b),Ri=new Lt(b),Ti=new Kt(b),Oi=new Qt(b),Ai=new Yt(b),le=new ke(Si,Ei,Ci,Mi,vi,Ni,Ti,Ri,Oi,Ai,R?.[a0_0x18e9af(0x167)]()),V=new $t(as,b,le),Ii=new qt(b,V,le),xi=new Vt(V),ms=new Gt(xi),O=new Bt(V),ae=new jt(V,b,le,as,Ii),B=new Ut(V),D=new Ft(V),F=new Jt(V);bi[a0_0x18e9af(0x703)](a0_0x18e9af(0x5fc));var mh=require(a0_0x18e9af(0x4b6)),As=require('fs'),vr=T(require('https')),Nr=T(require('http')),Ne=class c{static #e;static set['app'](_0x5d524c){this.#e=_0x5d524c;}static get[a0_0x18e9af(0x261)](){const _0x1497ae=a0_0x18e9af;let {FULLCHAIN:_0x332609,PRIVKEY:_0x54835c}=b[_0x1497ae(0x45d)](_0x1497ae(0x627));return vr[_0x1497ae(0x3e4)]({'cert':(0x0,As[_0x1497ae(0x23a)])(_0x332609),'key':(0x0,As['readFileSync'])(_0x54835c)},c.#e);}static get[a0_0x18e9af(0x361)](){return Nr['createServer'](c.#e);}},de=T(require('fs')),xr=T(require(a0_0x18e9af(0x2f9))),Re=T(require(a0_0x18e9af(0x1b8))),Oe=T(require('path')),Ae=require(a0_0x18e9af(0x265));function Di(){const _0x595e9c=a0_0x18e9af;V['loadInstance']();let _0x34293b=Oe[_0x595e9c(0x30c)]['join'](__dirname,_0x595e9c(0x4d8));Ir(_0x34293b);}var Ir=_0x44c601=>{const _0xc94e2e=a0_0x18e9af;let _0x1e87d0=de['default'][_0xc94e2e(0x20c)](_0x44c601),_0x234f63=0xc*0x3c*0x3c*0x3e8,_0x313179=0x2*0x3c*0x3c*0x3e8,_0x4fa6e5=new Date()[_0xc94e2e(0x6c2)]();_0x1e87d0[_0xc94e2e(0x6d6)](_0x3776e3=>{const _0xb51e7c=_0xc94e2e;let _0x2f11c5=Oe[_0xb51e7c(0x30c)][_0xb51e7c(0x4d1)](_0x44c601,_0x3776e3),_0x21b297=de[_0xb51e7c(0x30c)][_0xb51e7c(0x23e)](_0x2f11c5)[_0xb51e7c(0x50e)]['getTime']();_0x4fa6e5-_0x21b297>_0x234f63&&(de['default']['unlinkSync'](_0x2f11c5),console[_0xb51e7c(0x704)]('Deleted\x20'+_0x3776e3));}),setTimeout(()=>Ir(_0x44c601),_0x313179);};function _i(){const _0x43ec1a=a0_0x18e9af;let _0x338dbe=new N('SERVER'),_0x15a0f9=(0x0,pe['default'])();_0x15a0f9[_0x43ec1a(0x2e3)]((0x0,Ar['default'])({'origin'(_0x3cad50,_0x163d51){const _0x12feba=_0x43ec1a;let {ORIGIN:_0x424429}=b[_0x12feba(0x45d)](_0x12feba(0x51b));return _0x3cad50||(_0x3cad50='*'),_0x424429[_0x12feba(0x729)]('*')!==-0x1||_0x424429[_0x12feba(0x729)](_0x3cad50)!==-0x1?_0x163d51(null,!0x0):_0x163d51(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b['get']('CORS')[_0x43ec1a(0x4d3)]],'credentials':b['get'](_0x43ec1a(0x51b))[_0x43ec1a(0x5bd)]}),(0x0,pe[_0x43ec1a(0x6c3)])({'extended':!0x0,'limit':'50mb'}),(0x0,pe[_0x43ec1a(0x6d8)])({'limit':_0x43ec1a(0x3d8)})),_0x15a0f9['use']((_0x35090c,_0x94609d,_0x360c1c)=>{const _0xa272aa=_0x43ec1a;_0x35090c[_0xa272aa(0x4e7)][_0xa272aa(0x448)](_0xa272aa(0x66c))?_0x360c1c():(0x0,Or['default'])()(_0x35090c,_0x94609d,_0x360c1c);}),_0x15a0f9[_0x43ec1a(0x498)](_0x43ec1a(0x20e),_0x43ec1a(0x693)),_0x15a0f9[_0x43ec1a(0x498)](_0x43ec1a(0x768),(0x0,xs['join'])(se,'views')),_0x15a0f9[_0x43ec1a(0x2e3)](pe[_0x43ec1a(0x30c)][_0x43ec1a(0x28c)]((0x0,xs[_0x43ec1a(0x4d1)])(se,_0x43ec1a(0x75f)))),_0x15a0f9['use']((_0x6a27bd,_0x430fe8,_0x38bcc0)=>{const _0x42001c=_0x43ec1a;let _0x1df8ec=_0x430fe8[_0x42001c(0x128)];_0x430fe8[_0x42001c(0x128)]=function(_0x31b0a4){const _0x13e96f=_0x42001c;if(_0x6a27bd[_0x13e96f(0x132)][_0x13e96f(0x681)]===_0x13e96f(0x511)||_0x6a27bd['headers'][_0x13e96f(0x4bb)]===_0x13e96f(0x511)){let _0x310acd=JSON[_0x13e96f(0x474)](_0x31b0a4);_0x31b0a4=JSON[_0x13e96f(0x676)](_0x431141(_0x310acd));}return _0x1df8ec[_0x13e96f(0x689)](_0x430fe8,[_0x31b0a4]);},_0x38bcc0();}),_0x15a0f9[_0x43ec1a(0x2e3)]('/',Nt),_0x15a0f9[_0x43ec1a(0x2e3)]((_0x664d9e,_0xc49d26,_0x5b3022,_0x386897)=>{const _0x53796e=_0x43ec1a;if(_0x664d9e)return _0x5b3022[_0x53796e(0x522)](_0x664d9e['status']||0x1f4)[_0x53796e(0x6d8)](_0x664d9e);},(_0x1b35cb,_0x196bcb,_0x2059c5)=>{const _0xe98acd=_0x43ec1a;let {method:_0x3b2ec5,url:_0x3fb7d2}=_0x1b35cb;_0x196bcb[_0xe98acd(0x522)](0x194)[_0xe98acd(0x6d8)]({'status':0x194,'message':_0xe98acd(0x4ef)+_0x3b2ec5[_0xe98acd(0x4f3)]()+'\x20'+_0x3fb7d2,'error':_0xe98acd(0x291)}),_0x2059c5();});let _0x431141=(_0x2e03e8,_0x1e53c0='_p_')=>{const _0xf9671d=_0x43ec1a;let _0x2bf53e=(_0x559a55,_0x5c00b6=null,_0x34dfc0=!0x1)=>{let _0x27d4d0={};return Object['keys'](_0x559a55)['forEach'](_0x4b7340=>{const _0x150f0c=a0_0x7bd5;let _0x403ac6=_0x559a55[_0x4b7340],_0x104569=''+_0x1e53c0+_0x4b7340;_0x5c00b6&&!_0x34dfc0&&(_0x104569=_0x5c00b6+'.'+_0x4b7340),!_0x403ac6&&_0x403ac6!==0x0&&_0x403ac6!==!0x1||typeof _0x403ac6>'u'?_0x27d4d0[_0x104569]=null:typeof _0x403ac6!=_0x150f0c(0x61d)&&!Array[_0x150f0c(0x26c)](_0x403ac6)?_0x27d4d0[_0x104569]=_0x403ac6:typeof _0x403ac6==_0x150f0c(0x61d)&&!Array['isArray'](_0x403ac6)?_0x27d4d0=Object['assign'](_0x27d4d0,_0x2bf53e(_0x403ac6,_0x104569)):Array[_0x150f0c(0x26c)](_0x403ac6)&&(typeof _0x403ac6[0x0]==_0x150f0c(0x61d)?(_0x27d4d0[_0x104569]=[],_0x403ac6[_0x150f0c(0x6d6)](_0x3c38cf=>{_0x27d4d0[_0x104569]['push'](_0x2bf53e(_0x3c38cf,_0x104569,!0x0));})):_0x27d4d0[_0x104569]=_0x403ac6);}),_0x27d4d0;};return Array[_0xf9671d(0x26c)](_0x2e03e8)?_0x2e03e8[_0xf9671d(0x48c)](_0x54f13a=>_0x2bf53e(_0x54f13a)):typeof _0x2e03e8==_0xf9671d(0x61d)&&_0x2e03e8!==null?_0x2bf53e(_0x2e03e8):{};},_0x120098=b['get'](_0x43ec1a(0x1ad));Ne[_0x43ec1a(0x46a)]=_0x15a0f9;let _0x1c6c0d=Ne[_0x120098[_0x43ec1a(0x482)]],_0x34b390='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x1c6c0d[_0x43ec1a(0x59c)](_0x120098[_0x43ec1a(0x6ca)],()=>{const _0x2409d6=_0x43ec1a;_0x338dbe['log'](_0x34b390),_0x338dbe[_0x2409d6(0x704)](_0x120098[_0x2409d6(0x482)]['toUpperCase']()+_0x2409d6(0x15e)+_0x120098[_0x2409d6(0x6ca)]);}),Di(),qs();}var Pi=a0_0x18e9af(0x3f3),$i=Oe[a0_0x18e9af(0x30c)][a0_0x18e9af(0x4d1)](__dirname,a0_0x18e9af(0x374)),Te=null;function ki(){return new Promise((_0x515c05,_0xff9350)=>{const _0x4c5350=a0_0x7bd5;de[_0x4c5350(0x30c)][_0x4c5350(0x35d)]($i,_0x4c5350(0x685),(_0x5a1b1a,_0xcf1ba3)=>{const _0x3e6ecc=_0x4c5350;if(_0x5a1b1a){Te=_0x5a1b1a,_0x515c05();return;}xr[_0x3e6ecc(0x30c)][_0x3e6ecc(0x474)](_0xcf1ba3)[_0x3e6ecc(0x697)][_0x3e6ecc(0x747)]===Pi?(Te=null,_0x515c05()):(Te=new Error(_0x3e6ecc(0x6e0)),_0x515c05());});});}async function Li(){const _0x15eda2=a0_0x18e9af;try{await ki(),await Ds();}catch(_0x11b9ba){console[_0x15eda2(0x1b4)](_0x15eda2(0x245)+_0x11b9ba),process[_0x15eda2(0x4d4)](0x1);}}Li();async function Dr(){const _0x262198=a0_0x18e9af;let _0x1d32da;try{_0x1d32da=(await Re[_0x262198(0x30c)][_0x262198(0x45d)](_0x262198(0x5a1)))['data']['ip'];}catch(_0x1417cd){console['error'](_0x1417cd);try{_0x1d32da=(await Re['default'][_0x262198(0x45d)](_0x262198(0x2b9)))['data']['ip'];}catch(_0x25adac){console['error'](_0x25adac);try{_0x1d32da=(await Re[_0x262198(0x30c)][_0x262198(0x45d)]('http://checkip.dyndns.org'))['data'][_0x262198(0x67b)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xd1ab83){return console[_0x262198(0x1b4)](_0xd1ab83),!0x1;}}}return _0x1d32da;}var Rr=0x0;async function Fi(){const _0x379d4a=a0_0x18e9af;let _0x17f9d8=await new re(b[_0x379d4a(0x45d)](_0x379d4a(0x1d8)))['instanceKeys']();return console[_0x379d4a(0x704)](_0x379d4a(0x3ba),_0x17f9d8[_0x379d4a(0x15f)]),_0x17f9d8[_0x379d4a(0x15f)];}function ji(_0x159e13){const _0x3cd97d=a0_0x18e9af;let _0x2c330a=_0x159e13['get'](_0x3cd97d(0x1ad))[_0x3cd97d(0x692)],_0x106a64=_0x159e13[_0x3cd97d(0x45d)]('SSL_CONF'),_0x13ca02;if(_0x2c330a){let _0x5b5c61=_0x2c330a[_0x3cd97d(0x67b)](/\/\/(.*?)\./);_0x5b5c61&&_0x5b5c61[0x1]&&(_0x13ca02=_0x5b5c61[0x1]);}if(!_0x13ca02&&_0x106a64&&_0x106a64[_0x3cd97d(0x15b)]){let _0x482333=_0x106a64[_0x3cd97d(0x15b)][_0x3cd97d(0x308)]('/'),_0x8284bb=_0x482333[_0x482333[_0x3cd97d(0x15f)]-0x2];if(_0x8284bb){let _0x3c9cda=_0x8284bb[_0x3cd97d(0x308)]('.');_0x3c9cda[_0x3cd97d(0x15f)]>0x2&&(_0x13ca02=_0x3c9cda[0x0]);}}return _0x13ca02;}var Rs=ji(b);async function Ui(){const _0x21c087=a0_0x18e9af;let _0x4b8738=b[_0x21c087(0x45d)](_0x21c087(0x1d8)),_0x1902ee=b[_0x21c087(0x45d)](_0x21c087(0x11e))[_0x21c087(0x40b)][_0x21c087(0x6c5)],_0x198c54=b[_0x21c087(0x45d)](_0x21c087(0x627)),_0x2dc4a9=await Dr(),_0xaa6809=b[_0x21c087(0x45d)](_0x21c087(0x1ad))[_0x21c087(0x6ca)],_0x129283=b[_0x21c087(0x45d)](_0x21c087(0x1ad))['URL'];try{let _0x29489c={'ip':_0x2dc4a9||null,'redis_enable':_0x4b8738?.[_0x21c087(0x695)]||null,'apikey':_0x1902ee||null,'ssl':_0x198c54?.[_0x21c087(0x73c)]||null,'lastupdate':_r||null,'port':_0xaa6809||null,'gitInstallError':Te?.[_0x21c087(0x668)]||null,'url':_0x129283||null};if(console[_0x21c087(0x704)](_0x21c087(0x129),_0x29489c['ip']),_0x4b8738&&_0x4b8738['ENABLED']){let _0x40ac12=await Fi();_0x29489c[_0x21c087(0x23b)]=_0x40ac12||null;}for(let _0x13a2cf in _0x29489c)_0x29489c['hasOwnProperty'](_0x13a2cf)&&_0x13a2cf!=='ip'&&(_0x29489c[_0x13a2cf]=JSON[_0x21c087(0x676)](_0x29489c[_0x13a2cf]));return(await Re[_0x21c087(0x30c)][_0x21c087(0x1e5)](_0x21c087(0x346),_0x29489c))['data'];}catch(_0x4e92a7){return console['error'](_0x4e92a7),!0x1;}}var Is=!0x1,_r=0x229,qi=0x3,Tr=0x1b7740;async function Ds(){const _0x54bab3=a0_0x18e9af;if(!await Dr())return console[_0x54bab3(0x1b4)](_0x54bab3(0x43c)),_0x54bab3(0x2ac);let _0x206c64=await Ui();if(_0x206c64){if(_0x206c64[_0x54bab3(0x5dc)]['licenca']===!0x0){let _0x24f92f=b[_0x54bab3(0x45d)](_0x54bab3(0x627)),_0x2bd99f=b[_0x54bab3(0x45d)](_0x54bab3(0x1ad))[_0x54bab3(0x692)];_0x24f92f&&_0x24f92f?.[_0x54bab3(0x73c)]?.[_0x54bab3(0x4d6)](_0x54bab3(0x281))&&_0x206c64[_0x54bab3(0x5dc)][_0x54bab3(0x228)]&&!_0x2bd99f&&(await Bi(_0x206c64[_0x54bab3(0x5dc)]['subdomain'],Vi),await Gi(_0x54bab3(0x1b2),_0x206c64[_0x54bab3(0x5dc)][_0x54bab3(0x228)]),console['log'](_0x54bab3(0x4f1)),setTimeout(()=>zi(),0x2710)),Te===null&&_0x206c64[_0x54bab3(0x5dc)][_0x54bab3(0x335)]-_r>0x0&&await Ji(),Is||(Is=!0x0,_i());let _0x1d1274=0x24*0x3c*0x3c,_0x17ca16=_0x206c64[_0x54bab3(0x5dc)][_0x54bab3(0x43a)]>_0x1d1274?_0x1d1274:_0x206c64['response']['segundos'],_0x23a0b3=Number(_0x17ca16);if(isNaN(_0x23a0b3)){console[_0x54bab3(0x1b4)]('interval\x20não\x20é\x20um\x20número');return;}let _0x102ba3=Math['floor'](_0x23a0b3/0xe10),_0x2a6db6=Math[_0x54bab3(0x5b7)](_0x23a0b3%0xe10/0x3c),_0x4ae8ae=new Date(Date['now']()+_0x23a0b3*0x3e8);setTimeout(Ds,_0x23a0b3*0x3e8);let _0x48221e=_0x4de4d4=>_0x4de4d4[_0x54bab3(0x2fb)]()[_0x54bab3(0x726)](0x2,'0'),_0x5f212a=_0x54bab3(0x352)+_0x48221e(_0x102ba3)+'\x20horas\x20e\x20'+_0x48221e(_0x2a6db6)+_0x54bab3(0x5ae)+_0x48221e(_0x4ae8ae[_0x54bab3(0x30b)]())+':'+_0x48221e(_0x4ae8ae[_0x54bab3(0x42c)]())+'.';console[_0x54bab3(0x704)](_0x5f212a);}else return console[_0x54bab3(0x704)](_0x54bab3(0x6aa)),Is&&(console['log']('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process['exit']()),_0x54bab3(0x625);}else{if(Rr++,Rr<qi)console[_0x54bab3(0x704)](_0x54bab3(0x68d)+Tr/0xea60+_0x54bab3(0x29d)),setTimeout(Ds,Tr);else return console['error'](_0x54bab3(0x6f6)),'SERVER_OFFLINE';}}async function Ji(){const _0x491fe4=a0_0x18e9af;console[_0x491fe4(0x704)](_0x491fe4(0x545));let _0x47006c=(0x0,Ae[_0x491fe4(0x391)])(_0x491fe4(0x1ff),{'shell':!0x0});_0x47006c[_0x491fe4(0x338)]['on'](_0x491fe4(0x465),_0x5a4536=>{const _0x293960=_0x491fe4;console[_0x293960(0x704)](_0x293960(0x166)+_0x5a4536);}),_0x47006c[_0x491fe4(0x110)]['on'](_0x491fe4(0x465),_0x1c60f0=>{const _0x1b9e32=_0x491fe4;console[_0x1b9e32(0x1b4)](_0x1b9e32(0x6dc)+_0x1c60f0);}),_0x47006c['on']('exit',_0x361502=>{const _0x2cc52f=_0x491fe4;_0x361502!==0x0?console['error'](_0x2cc52f(0x608)+_0x361502):console[_0x2cc52f(0x704)](_0x2cc52f(0x650)),console[_0x2cc52f(0x704)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x2cc52f(0x4d4)](),0x2710);});}var Vi=Oe[a0_0x18e9af(0x30c)][a0_0x18e9af(0x4d1)](__dirname,a0_0x18e9af(0x213));async function Bi(_0x385900,_0xe667f5){const _0x5b9678=a0_0x18e9af;let _0x284416=Wi();_0x385900=_0x385900[_0x5b9678(0x23f)](_0x5b9678(0x6b8),'');try{let _0x79cc05=de[_0x5b9678(0x30c)][_0x5b9678(0x23a)](_0xe667f5,_0x5b9678(0x6fe));_0x79cc05=_0x79cc05[_0x5b9678(0x23f)](/<apikey>/,_0x284416),_0x79cc05=_0x79cc05['replace'](/<subdomain>/g,_0x385900),de['default'][_0x5b9678(0x470)](_0xe667f5,_0x79cc05,_0x5b9678(0x6fe)),console['log'](_0x5b9678(0x4a0));}catch(_0x28df6a){console[_0x5b9678(0x1b4)](_0x5b9678(0x64d),_0x28df6a);}}function Gi(_0x27444d,_0x5045ff){return new Promise((_0x101a75,_0x50567b)=>{const _0x4536fe=a0_0x7bd5;let _0x3d29b0=(0x0,Ae[_0x4536fe(0x391)])(_0x4536fe(0x3d9),[_0x4536fe(0x5cb),_0x4536fe(0x31e),'-m',_0x27444d,_0x4536fe(0x66f),'-d',_0x5045ff]);_0x3d29b0[_0x4536fe(0x338)]['on'](_0x4536fe(0x465),_0x574653=>{const _0x17e1c5=_0x4536fe;console[_0x17e1c5(0x704)](_0x17e1c5(0x559)+_0x574653[_0x17e1c5(0x2fb)]());}),_0x3d29b0[_0x4536fe(0x110)]['on'](_0x4536fe(0x465),_0x3e80d1=>{const _0x519a21=_0x4536fe;console[_0x519a21(0x1b4)](_0x519a21(0x3e6)+_0x3e80d1['toString']());}),_0x3d29b0['on']('close',_0x453730=>{const _0x1f4496=_0x4536fe;_0x453730!==0x0?(console[_0x1f4496(0x1b4)](_0x1f4496(0x38f)+_0x453730),_0x50567b('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x453730)):(console['log']('Certbot\x20executado\x20com\x20sucesso.'),_0x101a75());});});}function Wi(_0x4c9a3e=0x32){const _0x520753=a0_0x18e9af;let _0x522a03='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x1b58dc='';for(let _0x3a5a3c=0x0;_0x3a5a3c<_0x4c9a3e;_0x3a5a3c++)_0x1b58dc+=_0x522a03[_0x520753(0x6cb)](Math[_0x520753(0x5b7)](Math[_0x520753(0x59e)]()*_0x522a03['length']));return _0x1b58dc;}function zi(){const _0x4736cc=a0_0x18e9af;(0x0,Ae[_0x4736cc(0x4a9)])(_0x4736cc(0x638),(_0x26c5c8,_0x5cc837,_0x5b355d)=>{const _0xbdad31=_0x4736cc;if(_0x26c5c8){console['error'](_0xbdad31(0x13e)+_0x26c5c8);return;}if(_0x5b355d){console[_0xbdad31(0x1b4)]('Erro\x20de\x20reinicialização:\x20'+_0x5b355d);return;}console[_0xbdad31(0x704)](_0xbdad31(0x4b5)+_0x5cc837);});}0x0&&(module[a0_0x18e9af(0x442)]={'subdomain':subdomain});