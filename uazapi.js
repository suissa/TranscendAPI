const a0_0x34238b=a0_0x3a3c;(function(_0x496dc0,_0x1391d6){const _0xda0a4f=a0_0x3a3c,_0x42a0f2=_0x496dc0();while(!![]){try{const _0x197cec=-parseInt(_0xda0a4f(0x28e))/0x1+-parseInt(_0xda0a4f(0x828))/0x2*(-parseInt(_0xda0a4f(0x2c3))/0x3)+-parseInt(_0xda0a4f(0x650))/0x4+parseInt(_0xda0a4f(0x497))/0x5+-parseInt(_0xda0a4f(0x5e2))/0x6+-parseInt(_0xda0a4f(0x450))/0x7*(-parseInt(_0xda0a4f(0x4e6))/0x8)+parseInt(_0xda0a4f(0x68a))/0x9;if(_0x197cec===_0x1391d6)break;else _0x42a0f2['push'](_0x42a0f2['shift']());}catch(_0x3a95cb){_0x42a0f2['push'](_0x42a0f2['shift']());}}}(a0_0x4223,0x6b185));var Pi=Object['create'],Fe=Object[a0_0x34238b(0x161)],ki=Object[a0_0x34238b(0x6d8)],ji=Object[a0_0x34238b(0x694)],Li=Object[a0_0x34238b(0x2aa)],Fi=Object['prototype'][a0_0x34238b(0x512)],Ji=(_0x9552dc,_0x3ca853)=>{for(var _0x42eba3 in _0x3ca853)Fe(_0x9552dc,_0x42eba3,{'get':_0x3ca853[_0x42eba3],'enumerable':!0x0});},Fs=(_0x534d89,_0x101d8b,_0x1e83da,_0x4c42a3)=>{const _0x19bea0=a0_0x34238b;if(_0x101d8b&&typeof _0x101d8b==_0x19bea0(0x410)||typeof _0x101d8b==_0x19bea0(0x6b5)){for(let _0x566832 of ji(_0x101d8b))!Fi['call'](_0x534d89,_0x566832)&&_0x566832!==_0x1e83da&&Fe(_0x534d89,_0x566832,{'get':()=>_0x101d8b[_0x566832],'enumerable':!(_0x4c42a3=ki(_0x101d8b,_0x566832))||_0x4c42a3['enumerable']});}return _0x534d89;},O=(_0x255e7f,_0x5bc23a,_0x457d8e)=>(_0x457d8e=_0x255e7f!=null?Pi(Li(_0x255e7f)):{},Fs(_0x5bc23a||!_0x255e7f||!_0x255e7f[a0_0x34238b(0x34b)]?Fe(_0x457d8e,a0_0x34238b(0x3fd),{'value':_0x255e7f,'enumerable':!0x0}):_0x457d8e,_0x255e7f)),Ui=_0x13fee6=>Fs(Fe({},a0_0x34238b(0x34b),{'value':!0x0}),_0x13fee6),ar={};Ji(ar,{'subdomain':()=>Ds}),module['exports']=Ui(ar);var Ai=O(require(a0_0x34238b(0x549))),Us=require('fs'),qs=require('js-yaml'),Vs=require(a0_0x34238b(0x74d)),Je=require(a0_0x34238b(0x74d)),re=process[a0_0x34238b(0x2ee)](),me=(0x0,Je['join'])(re,a0_0x34238b(0x434)),Js=(0x0,Je[a0_0x34238b(0x692)])(re,a0_0x34238b(0x581)),Kr=(0x0,Je[a0_0x34238b(0x692)])(re,a0_0x34238b(0x42e),'auth'),ns=class{constructor(){const _0xfbfd7=a0_0x34238b;this[_0xfbfd7(0x32a)]();}[a0_0x34238b(0x480)](_0x59b4b9){const _0x532dbc=a0_0x34238b;return this[_0x532dbc(0x6b1)][_0x59b4b9];}['loadEnv'](){const _0xb3c20a=a0_0x34238b;this[_0xb3c20a(0x6b1)]=process[_0xb3c20a(0x6b1)]?.[_0xb3c20a(0x747)]!==_0xb3c20a(0x2b1)?this[_0xb3c20a(0x416)]():this['envProcess'](),process['env']?.[_0xb3c20a(0x747)]===_0xb3c20a(0x2b1)&&(this['env']['SERVER'][_0xb3c20a(0x5d7)]='http',this[_0xb3c20a(0x6b1)][_0xb3c20a(0x269)][_0xb3c20a(0x82f)]=Number[_0xb3c20a(0x763)](process['env']?.[_0xb3c20a(0x3bf)]??_0xb3c20a(0x71a)));}[a0_0x34238b(0x416)](){const _0x5977bc=a0_0x34238b;return(0x0,qs[_0x5977bc(0x47e)])((0x0,Us[_0x5977bc(0x5c2)])((0x0,Vs['join'])(Js,_0x5977bc(0x3e7)),{'encoding':_0x5977bc(0x603)}));}['envProcess'](){const _0x57fe78=a0_0x34238b;return{'SERVER':{'TYPE':process[_0x57fe78(0x6b1)]['SERVER_TYPE'],'PORT':Number[_0x57fe78(0x763)](process[_0x57fe78(0x6b1)][_0x57fe78(0x3bf)]),'URL':process['env']['SERVER_URL']},'CORS':{'ORIGIN':process[_0x57fe78(0x6b1)][_0x57fe78(0x6c5)][_0x57fe78(0x447)](','),'METHODS':process[_0x57fe78(0x6b1)]['CORS_METHODS'][_0x57fe78(0x447)](','),'CREDENTIALS':process[_0x57fe78(0x6b1)]?.[_0x57fe78(0x501)]===_0x57fe78(0x2b1)},'SSL_CONF':{'PRIVKEY':process[_0x57fe78(0x6b1)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x57fe78(0x6b1)]?.[_0x57fe78(0x305)]},'STORE':{'CLEANING_INTERVAL':Number[_0x57fe78(0x487)](process['env']?.[_0x57fe78(0x7cd)])?Number[_0x57fe78(0x763)](process['env'][_0x57fe78(0x7cd)]):void 0x0,'MESSAGES':process[_0x57fe78(0x6b1)]?.[_0x57fe78(0x198)]===_0x57fe78(0x2b1),'CONTACTS':process[_0x57fe78(0x6b1)]?.[_0x57fe78(0x4f5)]===_0x57fe78(0x2b1),'CHATS':process[_0x57fe78(0x6b1)]?.[_0x57fe78(0x514)]===_0x57fe78(0x2b1)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x57fe78(0x4c6)],'PORT':Number[_0x57fe78(0x763)](process[_0x57fe78(0x6b1)]?.[_0x57fe78(0x4c6)]),'USER':process[_0x57fe78(0x6b1)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x57fe78(0x6b1)][_0x57fe78(0x54f)],'URI':process[_0x57fe78(0x6b1)][_0x57fe78(0x641)],'DB_PREFIX_NAME':process[_0x57fe78(0x6b1)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x57fe78(0x6b1)]?.[_0x57fe78(0x412)]===_0x57fe78(0x2b1)},'REDIS':{'ENABLED':process[_0x57fe78(0x6b1)]?.[_0x57fe78(0x350)]===_0x57fe78(0x2b1),'URI':process[_0x57fe78(0x6b1)][_0x57fe78(0x15c)]||_0x57fe78(0x3f0),'PREFIX_KEY':process['env'][_0x57fe78(0x78a)]||_0x57fe78(0x7d2)},'LOG':{'LEVEL':process[_0x57fe78(0x6b1)]?.[_0x57fe78(0x26b)][_0x57fe78(0x447)](','),'COLOR':process[_0x57fe78(0x6b1)]?.['LOG_COLOR']===_0x57fe78(0x2b1)},'PROXY':Number['parseInt'](process[_0x57fe78(0x6b1)]?.[_0x57fe78(0x3ae)]),'AUTHENTICATION':{'TYPE':process[_0x57fe78(0x6b1)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env'][_0x57fe78(0x226)]},'JWT':{'EXPIRIN_IN':Number[_0x57fe78(0x487)](process[_0x57fe78(0x6b1)]?.[_0x57fe78(0x243)])?Number[_0x57fe78(0x763)](process['env'][_0x57fe78(0x243)]):0xe10,'SECRET':process[_0x57fe78(0x6b1)][_0x57fe78(0x6e1)]}}};}},S=new ns(),Oi=O(require('cors')),he=O(require(a0_0x34238b(0x240))),js=require(a0_0x34238b(0x74d)),cs=O(require(a0_0x34238b(0x504))),ls=(_0x3ffd3f=>(_0x3ffd3f[a0_0x34238b(0x44c)]=a0_0x34238b(0x7ec),_0x3ffd3f[a0_0x34238b(0x63d)]='\x1b[34m',_0x3ffd3f['WARN']=a0_0x34238b(0x1e4),_0x3ffd3f[a0_0x34238b(0x27b)]=a0_0x34238b(0x284),_0x3ffd3f[a0_0x34238b(0x2f6)]=a0_0x34238b(0x774),_0x3ffd3f['VERBOSE']=a0_0x34238b(0x3a6),_0x3ffd3f['DARK']='\x1b[30m',_0x3ffd3f))(ls||{}),Gs=(_0x378362=>(_0x378362[a0_0x34238b(0x44c)]='\x1b[32m%s\x1b[0m',_0x378362[a0_0x34238b(0x60b)]='\x1b[30m%s\x1b[0m',_0x378362[a0_0x34238b(0x63d)]=a0_0x34238b(0x2d5),_0x378362['WARN']='\x1b[33m%s\x1b[0m',_0x378362[a0_0x34238b(0x27b)]=a0_0x34238b(0x4f2),_0x378362['DEBUG']=a0_0x34238b(0x50b),_0x378362[a0_0x34238b(0x71f)]=a0_0x34238b(0x2b2),_0x378362))(Gs||{}),Bs=(_0x35de83=>(_0x35de83['LOG']=a0_0x34238b(0x44c),_0x35de83['WARN']=a0_0x34238b(0x6a6),_0x35de83[a0_0x34238b(0x63d)]=a0_0x34238b(0x63d),_0x35de83['DARK']=a0_0x34238b(0x60b),_0x35de83[a0_0x34238b(0x27b)]='ERROR',_0x35de83[a0_0x34238b(0x2f6)]=a0_0x34238b(0x2f6),_0x35de83['VERBOSE']='VERBOSE',_0x35de83))(Bs||{}),Ws=(_0x19dca2=>(_0x19dca2[a0_0x34238b(0x44c)]=a0_0x34238b(0x466),_0x19dca2['INFO']=a0_0x34238b(0x510),_0x19dca2[a0_0x34238b(0x6a6)]='\x1b[43m',_0x19dca2['DARK']=a0_0x34238b(0x50a),_0x19dca2[a0_0x34238b(0x27b)]=a0_0x34238b(0x7d4),_0x19dca2[a0_0x34238b(0x2f6)]=a0_0x34238b(0x77d),_0x19dca2[a0_0x34238b(0x71f)]='\x1b[47m',_0x19dca2))(Ws||{}),R=class{constructor(_0x412dd5=a0_0x34238b(0x834)){this['context']=_0x412dd5,this['configService']=S;}[a0_0x34238b(0x6db)](_0x1f9c4e){this['context']=_0x1f9c4e;}[a0_0x34238b(0x6ae)](_0x3926ee,_0x2d38ca){const _0x4c82a2=a0_0x34238b;let _0x5bc350=[];this[_0x4c82a2(0x5ff)]['get'](_0x4c82a2(0x44c))[_0x4c82a2(0x2df)][_0x4c82a2(0x44e)](_0x1a085c=>_0x5bc350[_0x4c82a2(0x57d)](Bs[_0x1a085c]));let _0x38c088=typeof _0x3926ee;_0x5bc350[_0x4c82a2(0x331)](_0x2d38ca)&&(S['get'](_0x4c82a2(0x44c))[_0x4c82a2(0x4d4)]?(console[_0x4c82a2(0x685)]('\x1b[1m'+Gs[_0x2d38ca],_0x4c82a2(0x42f),(0x0,cs[_0x4c82a2(0x3fd)])()['format']('DD/MM\x20HH:mm:ss'),_0x4c82a2(0x4f3),ls[_0x2d38ca]+Ws[_0x2d38ca]+_0x4c82a2(0x30e),_0x2d38ca+_0x4c82a2(0x7a0),_0x4c82a2(0x48a),this[_0x4c82a2(0x40c)]+_0x4c82a2(0x4f3),ls[_0x2d38ca],_0x38c088!=='object'?_0x3926ee:'',_0x4c82a2(0x4f3)),_0x38c088===_0x4c82a2(0x410)&&console[_0x4c82a2(0x685)](_0x3926ee,'\x0a')):console[_0x4c82a2(0x685)]((0x0,cs[_0x4c82a2(0x3fd)])()['format']('HH:mm:ss'),_0x2d38ca+'\x20',''+this['context'],_0x3926ee));}['log'](_0x14ca5f){const _0x4df10a=a0_0x34238b;this[_0x4df10a(0x6ae)](_0x14ca5f,_0x4df10a(0x44c));}['info'](_0x391988){const _0x692495=a0_0x34238b;this[_0x692495(0x6ae)](_0x391988,_0x692495(0x63d));}[a0_0x34238b(0x686)](_0x300ff8){const _0x217210=a0_0x34238b;this['console'](_0x300ff8,_0x217210(0x6a6));}[a0_0x34238b(0x62f)](_0x5c8adc){const _0x145ec3=a0_0x34238b;this[_0x145ec3(0x6ae)](_0x5c8adc,_0x145ec3(0x27b));}[a0_0x34238b(0x2da)](_0x3cfa23){const _0x515dd4=a0_0x34238b;this['console'](_0x3cfa23,_0x515dd4(0x71f));}[a0_0x34238b(0x1e8)](_0x3742c6){const _0x1851da=a0_0x34238b;this[_0x1851da(0x6ae)](_0x3742c6,_0x1851da(0x2f6));}[a0_0x34238b(0x635)](_0x59b295){const _0x26fabd=a0_0x34238b;this[_0x26fabd(0x6ae)](_0x59b295,'DARK');}};function zs(){const _0x157b59=a0_0x34238b;process['on'](_0x157b59(0x80e),(_0x11a67e,_0x4b51bf)=>{const _0x34670a=_0x157b59;new R(_0x34670a(0x80e))[_0x34670a(0x62f)]({'origin':_0x4b51bf,'stderr':process[_0x34670a(0x157)]['fd'],'error':_0x11a67e});}),process['on'](_0x157b59(0x3cf),(_0x5c944b,_0x5d2371)=>{const _0x3e3a0b=_0x157b59;new R(_0x3e3a0b(0x3cf))['error']({'origin':_0x5d2371,'stderr':process[_0x3e3a0b(0x157)]['fd'],'error':_0x5c944b});});}var Hs=O(require(a0_0x34238b(0x4ae))),us=new Hs[(a0_0x34238b(0x3fd))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require(a0_0x34238b(0x731)),Ee=O(require(a0_0x34238b(0x731))),Ue=new R(a0_0x34238b(0x3f3)),L=S[a0_0x34238b(0x480)](a0_0x34238b(0x16f)),$=L['ENABLED']?L[a0_0x34238b(0x7da)]['URI']?Ee[a0_0x34238b(0x3fd)]['createConnection'](L[a0_0x34238b(0x7da)]['URI'],{'dbName':L['CONNECTION'][a0_0x34238b(0x27d)]+a0_0x34238b(0x657)}):Ee[a0_0x34238b(0x3fd)][a0_0x34238b(0x4e7)](a0_0x34238b(0x6b2)+L[a0_0x34238b(0x7da)]['HOST']+':'+L[a0_0x34238b(0x7da)][a0_0x34238b(0x82f)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0x34238b(0x7da)]['USER'],'pass':L['CONNECTION'][a0_0x34238b(0x7ba)],'dbName':L[a0_0x34238b(0x7da)][a0_0x34238b(0x27d)]+a0_0x34238b(0x657)}):null;L[a0_0x34238b(0x22a)]&&Ue[a0_0x34238b(0x364)]('ON\x20-\x20dbName:\x20'+$[a0_0x34238b(0x44a)]);var fe=L['ENABLED']?L['CONNECTION'][a0_0x34238b(0x2c9)]?Ee[a0_0x34238b(0x3fd)][a0_0x34238b(0x4e7)](L['CONNECTION'][a0_0x34238b(0x2c9)],{'dbName':a0_0x34238b(0x2f3)}):Ee[a0_0x34238b(0x3fd)][a0_0x34238b(0x4e7)](a0_0x34238b(0x6b2)+L[a0_0x34238b(0x7da)]['HOST']+':'+L[a0_0x34238b(0x7da)][a0_0x34238b(0x82f)]+a0_0x34238b(0x55d),{'user':L[a0_0x34238b(0x7da)][a0_0x34238b(0x7d6)],'pass':L[a0_0x34238b(0x7da)][a0_0x34238b(0x7ba)],'dbName':'cachedContacts-whatsapp'}):null;fe&&Ue['info'](a0_0x34238b(0x3c1)+fe[a0_0x34238b(0x44a)]),process['on'](a0_0x34238b(0x71e),()=>{const _0xf6c322=a0_0x34238b;$&&$['close'](()=>{const _0x574382=a0_0x3a3c;Ue[_0x574382(0x364)]('Database\x20connection\x20closed.');}),fe&&fe[_0xf6c322(0x5dc)](()=>{const _0x185eb2=_0xf6c322;Ue[_0x185eb2(0x364)](_0x185eb2(0x400));});});var qi=new we['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vi=new we[(a0_0x34238b(0x312))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Gi=new we[(a0_0x34238b(0x312))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Bi=new we['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qi],'default':[]}},{'_id':!0x1}),Wi=new we[(a0_0x34238b(0x312))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Bi,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Vi},'groupdata':{'type':Gi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ks=_0x2fd4c1=>{const _0x87f65c=a0_0x34238b;let _0x33f712='z_'+_0x2fd4c1+_0x87f65c(0x460);return $?.[_0x87f65c(0x757)]('ChatModel',Wi,_0x33f712);},Qs=require('mongoose'),zi=new Qs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x33372c=>{const _0x27cb58=a0_0x34238b;let _0x56194b='z_'+_0x33372c+_0x27cb58(0x6c8);return $?.[_0x27cb58(0x757)](_0x27cb58(0x17f),zi,_0x56194b);},Xs=require(a0_0x34238b(0x731)),ds=class{},Hi=new Xs[(a0_0x34238b(0x312))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=fe?.[a0_0x34238b(0x757)](ds[a0_0x34238b(0x5f8)],Hi,a0_0x34238b(0x260)),ea=require('mongoose'),Ki=new ea[(a0_0x34238b(0x312))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ta=_0x5e8b1a=>{const _0x2ad055=a0_0x34238b;let _0x1be887='z_'+_0x5e8b1a+_0x2ad055(0x6c9);return $?.[_0x2ad055(0x757)](_0x2ad055(0x67e),Ki,_0x1be887);},sa=require('mongoose'),ps=class{},Qi=new sa[(a0_0x34238b(0x312))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=$?.['model'](ps[a0_0x34238b(0x5f8)],Qi,'authentication'),ia=require(a0_0x34238b(0x731)),hs=class{},oa=new ia[(a0_0x34238b(0x312))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});oa['pre'](a0_0x34238b(0x338),function(_0x82432c){const _0x545864=a0_0x34238b;delete this[_0x545864(0x1a4)],delete this[_0x545864(0x7cb)],delete this['flowPrefixCommand'],delete this[_0x545864(0x5b5)],delete this['flowStopMinutes'],_0x82432c();});var ra=$?.['model'](hs['name'],oa,a0_0x34238b(0x630)),D=require(a0_0x34238b(0x731)),gs=require(a0_0x34238b(0x247)),qe=class{},na=new D[(a0_0x34238b(0x312))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ms=new D['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Yi=new D['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x34238b(0x4b6)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x34238b(0x53b)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ca=new D[(a0_0x34238b(0x312))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Xi=new D[(a0_0x34238b(0x312))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),Zi=new D['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ws=new D[(a0_0x34238b(0x312))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),eo=new D['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),la=new D['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Yi},'apirequest':Xi,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':eo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ua=new D[(a0_0x34238b(0x312))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ys=new D[(a0_0x34238b(0x312))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,gs['v4'])()},'startID':{'type':String,'default':()=>(0x0,gs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':a0_0x34238b(0x3c0)},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x47f270=a0_0x34238b;return'!cmd_'+Math[_0x47f270(0x403)]()[_0x47f270(0x513)](0x24)[_0x47f270(0x4e3)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ws],'variablesNotFound':{'type':[String]},'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[ms],'default':[]}});ys[a0_0x34238b(0x3e4)](a0_0x34238b(0x338),function(_0x27f099){const _0x31e06d=a0_0x34238b;let _0x33b199=new Set(),_0x4d707c=new Set(this[_0x31e06d(0x60d)]?.[_0x31e06d(0x643)](_0x5f16af=>_0x5f16af[_0x31e06d(0x5f8)])),_0x3b1eb0=JSON[_0x31e06d(0x4eb)](this),_0x4da999=/{{(?!_)([^}]*)}}/g,_0xf140df;for(;(_0xf140df=_0x4da999[_0x31e06d(0x438)](_0x3b1eb0))!==null;)_0x4d707c[_0x31e06d(0x3c4)](_0xf140df[0x1])||_0x33b199[_0x31e06d(0x7d8)](_0xf140df[0x1]);_0x33b199[_0x31e06d(0x215)]>0x0?(console[_0x31e06d(0x686)](_0x31e06d(0x354),Array[_0x31e06d(0x28d)](_0x33b199)),this['variablesNotFound']=Array[_0x31e06d(0x28d)](_0x33b199)):this[_0x31e06d(0x687)]=[],_0x27f099();}),ys['pre'](a0_0x34238b(0x168),function(_0x173a5f){const _0x75a5a1=a0_0x34238b;let _0x5e1c77=this[_0x75a5a1(0x381)]();if(_0x5e1c77&&typeof _0x5e1c77==_0x75a5a1(0x410)&&_0x75a5a1(0x658)in _0x5e1c77){let _0x4c6abb=_0x5e1c77['$set'];if(_0x4c6abb){let _0x15164c=new Set(),_0x3ed141=new Set(_0x4c6abb[_0x75a5a1(0x60d)]?.[_0x75a5a1(0x643)](_0x135794=>_0x135794[_0x75a5a1(0x5f8)])),_0x4e5fe8=JSON[_0x75a5a1(0x4eb)](_0x4c6abb),_0x2c5ba0=/{{(?!_)([^}]*)}}/g,_0x297815;for(;(_0x297815=_0x2c5ba0[_0x75a5a1(0x438)](_0x4e5fe8))!==null;)_0x3ed141[_0x75a5a1(0x3c4)](_0x297815[0x1])||_0x15164c['add'](_0x297815[0x1]);_0x15164c['size']>0x0?(console[_0x75a5a1(0x686)](_0x75a5a1(0x354),Array[_0x75a5a1(0x28d)](_0x15164c)),_0x4c6abb[_0x75a5a1(0x687)]=Array[_0x75a5a1(0x28d)](_0x15164c)):_0x4c6abb[_0x75a5a1(0x687)]=[],this[_0x75a5a1(0x1a9)]({'$set':_0x4c6abb});}}_0x173a5f();});var da=_0x33f4e9=>{const _0x1f1e8b=a0_0x34238b;let _0x5dc6ae='z_'+_0x33f4e9+'_Flows';return $?.[_0x1f1e8b(0x757)](_0x1f1e8b(0x69c),ys,_0x5dc6ae);},to=new D[(a0_0x34238b(0x312))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ws],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Zi]},{'_id':!0x1}),so=new D[(a0_0x34238b(0x312))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ws],'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[ms],'default':[]},'chatLog':to,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x34238b(0x6c4)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x34238b(0x53b)},'waitingMenu_replyOptions':{'type':[ms],'default':[]}}),pa=_0x1030b5=>{const _0x451a97=a0_0x34238b;let _0x237f34='z_'+_0x1030b5+_0x451a97(0x51b);return $?.['model'](_0x451a97(0x726),so,_0x237f34);},ao=new D[(a0_0x34238b(0x312))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),io=new D[(a0_0x34238b(0x312))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),oo=new D['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x34238b(0x75b)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':io,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ao],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ha=_0x3b9e68=>{const _0x578130=a0_0x34238b;let _0x40bbe6='z_'+_0x3b9e68+_0x578130(0x6ab);return $?.[_0x578130(0x757)](_0x578130(0x77f),oo,_0x40bbe6);},fs=class{},ro=new D[(a0_0x34238b(0x312))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),no=new D[(a0_0x34238b(0x312))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),co=new D['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),lo=new D[(a0_0x34238b(0x312))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),uo=new D[(a0_0x34238b(0x312))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[lo]},'customFields':{'type':[no]},'flowConfig':{'type':co,'default':{}},'autoCompleteMessages':{'type':[ro],'default':[]}}),ve=$?.[a0_0x34238b(0x757)](fs[a0_0x34238b(0x5f8)],uo,'AutomateSystem'),ga=require('mongoose'),po=new ga['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ma=_0x527ec4=>{const _0x58fe86=a0_0x34238b;let _0x11eb25='z_'+_0x527ec4+_0x58fe86(0x1bb);return $?.[_0x58fe86(0x757)](_0x58fe86(0x36f),po,_0x11eb25);},x=class{constructor(_0x3763db){const _0x433689=a0_0x34238b;this[_0x433689(0x2cb)]=_0x3763db[_0x433689(0x480)]('DATABASE');}};function T(_0x474985){const _0x215ac5=a0_0x34238b;let _0x268a1c={};for(let [_0x1c0d40,_0x394dd8]of Object[_0x215ac5(0x468)](_0x474985))if(typeof _0x394dd8==_0x215ac5(0x410)&&!Array[_0x215ac5(0x358)](_0x394dd8)){for(let [_0xef852d,_0x30105b]of Object[_0x215ac5(0x468)](_0x394dd8))_0x268a1c[_0x1c0d40+'.'+_0xef852d]=_0x30105b;}else _0x268a1c[_0x1c0d40]=_0x394dd8;return _0x268a1c;}var Ve=class{constructor(_0x463557,_0x44ad26,_0x88d8e6,_0x36fc62,_0x18a4a6,_0x142e4c,_0x5c173a,_0x267217,_0x289796,_0x17df86,_0x2f676f,_0x242c3c){const _0x55271c=a0_0x34238b;this[_0x55271c(0x707)]=_0x463557,this[_0x55271c(0x7fd)]=_0x44ad26,this[_0x55271c(0x1da)]=_0x88d8e6,this[_0x55271c(0x4de)]=_0x36fc62,this[_0x55271c(0x630)]=_0x18a4a6,this['auth']=_0x142e4c,this[_0x55271c(0x798)]=_0x5c173a,this['flowConversation']=_0x267217,this[_0x55271c(0x489)]=_0x289796,this[_0x55271c(0x766)]=_0x17df86,this[_0x55271c(0x4a4)]=_0x2f676f,this[_0x55271c(0x804)]=_0x242c3c;}get[a0_0x34238b(0x1eb)](){const _0x4727bf=a0_0x34238b;return this[_0x4727bf(0x804)];}},Ge=class{},Be=class extends x{[a0_0x34238b(0x4d2)](_0x28606b){return ta(_0x28606b);}async[a0_0x34238b(0x202)](_0x19d84c,_0x813d8e){const _0xc4b9e2=a0_0x34238b;if(_0x19d84c[_0xc4b9e2(0x6f5)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xc4b9e2(0x4d2)](_0x813d8e)[_0xc4b9e2(0x43e)]([..._0x19d84c]))[_0xc4b9e2(0x6f5)]};}catch(_0x58cacf){return _0x58cacf;}}async['find'](_0xe32fc0,_0x5d2766){const _0x3ea5e9=a0_0x34238b;try{let _0x395b36=this[_0x3ea5e9(0x4d2)](_0x5d2766),_0x2f0bd1=T(_0xe32fc0[_0x3ea5e9(0x722)]);return await _0x395b36['find'](_0x2f0bd1)[_0x3ea5e9(0x778)]({'messageTimestamp':-0x1})[_0x3ea5e9(0x5a9)](_0xe32fc0?.['limit']??0x0)[_0x3ea5e9(0x23f)]();}catch{return[];}}async[a0_0x34238b(0x253)](_0x560433,_0xdbecc7){const _0x413211=a0_0x34238b;try{let _0x829615=this[_0x413211(0x4d2)](_0xdbecc7),_0x10ad7b=T(_0x560433[_0x413211(0x722)]);await _0x829615['deleteMany'](_0x10ad7b);}catch(_0x8a9d0f){console[_0x413211(0x62f)](_0x8a9d0f);}}async[a0_0x34238b(0x386)](_0x314ca6,_0x361058,_0x4bbbd0){const _0x59da8f=a0_0x34238b;try{let _0x1739b7=this['getMessageModelForOwner'](_0x4bbbd0),_0x2742c3=T(_0x314ca6['where']);return await _0x1739b7[_0x59da8f(0x168)](_0x2742c3,{'$set':_0x361058},{'new':!0x0});}catch(_0x23c9da){throw console[_0x59da8f(0x62f)](_0x23c9da),_0x23c9da;}}async[a0_0x34238b(0x43e)](_0x3febf9,_0x2bbea8){const _0x2d103c=a0_0x34238b;if(_0x3febf9[_0x2d103c(0x6f5)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x2bbea8)[_0x2d103c(0x43e)]([..._0x3febf9]))['length']};}catch(_0x4b26c6){return console[_0x2d103c(0x685)]('ERROR:\x20',_0x4b26c6),_0x4b26c6;}}async[a0_0x34238b(0x275)](_0x1c7b47){const _0x14356a=a0_0x34238b;try{return await this['getMessageModelForOwner'](_0x1c7b47)[_0x14356a(0x322)]['drop'](),{'success':!0x0};}catch(_0xc0f3eb){return console[_0x14356a(0x62f)](_0xc0f3eb),{'success':!0x1,'error':_0xc0f3eb};}}},As=O(require(a0_0x34238b(0x562))),w=O(require(a0_0x34238b(0x5b3))),xe=require('fs'),F=O(require('path')),K=O(require('axios')),bi=require(a0_0x34238b(0x247)),Si=O(require('qrcode')),Mi=O(require('qrcode-terminal')),fa=['imageMessage','documentMessage','audioMessage',a0_0x34238b(0x3db),a0_0x34238b(0x60a)],wa=[a0_0x34238b(0x40a),a0_0x34238b(0x35a),a0_0x34238b(0x20f),'viewOnceMessageV2'],Os=require('os'),Pt=O(require(a0_0x34238b(0x651))),De=require('child_process'),kt=require('node-mime-types'),oe=O(require(a0_0x34238b(0x731))),P=require('class-validator'),ye=class{constructor(_0x15d325,_0x38829e,_0x3fa083){const _0x455645=a0_0x34238b;this[_0x455645(0x817)]=_0x15d325,this[_0x455645(0x810)]=_0x38829e,this[_0x455645(0x5f8)]=_0x3fa083;}},We=class{},ze=class{},Ne=class{},He=class{},Ke=class{},be=class{},Qe=class{},Ye=class{},Xe=class{},Ze=class{},Tt=O(require('express')),ya=require('fs'),ba=require(a0_0x34238b(0x74d));async function Re(_0x25dc5a){const _0x34483f=a0_0x34238b;let _0x2c7dcb=G[_0x34483f(0x41c)][_0x25dc5a];if(L[_0x34483f(0x22a)]){let _0x500029=$[_0x34483f(0x789)]()['db'](L[_0x34483f(0x7da)]['DB_PREFIX_NAME']+_0x34483f(0x5ad))[_0x34483f(0x322)](_0x25dc5a);return _0x2c7dcb||(await _0x500029['find']({})[_0x34483f(0x670)]())['length']>0x0;}return _0x2c7dcb||(0x0,ya[_0x34483f(0x5b1)])((0x0,ba['join'])(me,_0x25dc5a));}async function Sa(_0x58c548,_0xc7069b,_0x24ca00){const _0x437e60=a0_0x34238b;if(_0x58c548['originalUrl']['includes']('/instance/create')||_0x58c548[_0x437e60(0x79f)]['includes']('/instance/fetchInstances')||_0x58c548[_0x437e60(0x79f)][_0x437e60(0x331)](_0x437e60(0x224))||_0x58c548[_0x437e60(0x79f)][_0x437e60(0x331)]('/config')||_0x58c548[_0x437e60(0x79f)][_0x437e60(0x331)]('/instance/connect')||_0x58c548[_0x437e60(0x79f)]['includes'](_0x437e60(0x1fc))||_0x58c548['originalUrl'][_0x437e60(0x331)](_0x437e60(0x7af)))return _0x24ca00();let _0x25cd49=_0x58c548[_0x437e60(0x71c)];if(!_0x25cd49?.[_0x437e60(0x185)])throw new m(_0x437e60(0x2a7));if(!await Re(_0x25cd49[_0x437e60(0x185)]))throw new U(_0x437e60(0x6f6)+_0x25cd49[_0x437e60(0x185)]+'\x20instance\x20does\x20not\x20exist');_0x24ca00();}async function Ma(_0x27c17b,_0x40056a,_0x17b94f){const _0x416acb=a0_0x34238b;if(_0x27c17b[_0x416acb(0x79f)][_0x416acb(0x331)](_0x416acb(0x737))){let _0x9c40e4=_0x27c17b[_0x416acb(0x261)];if(await Re(_0x9c40e4['instanceName']))throw new Q(_0x416acb(0x17c)+_0x9c40e4[_0x416acb(0x185)]+'\x20is\x20already\x20in\x20use.');G[_0x416acb(0x41c)][_0x9c40e4[_0x416acb(0x185)]]&&delete G[_0x416acb(0x41c)][_0x9c40e4['instanceName']];}_0x17b94f();}var Ca=require(a0_0x34238b(0x343)),Ea=O(require(a0_0x34238b(0x39c))),et='uazapi',go=new R(a0_0x34238b(0x276));async function mo(_0x32566e,_0x6d8343,_0x428e54){const _0x2e995d=a0_0x34238b;let _0x32431e=_0x32566e[_0x2e995d(0x480)](_0x2e995d(0x4ba));if(_0x32431e&&S['get'](_0x2e995d(0x1ca))['API_KEY'][_0x2e995d(0x192)]!==_0x32431e)throw new ae();if(S[_0x2e995d(0x480)](_0x2e995d(0x1ca))['API_KEY'][_0x2e995d(0x192)]===_0x32431e)return _0x428e54();if((_0x32566e[_0x2e995d(0x79f)][_0x2e995d(0x331)](_0x2e995d(0x737))||_0x32566e[_0x2e995d(0x79f)]['includes'](_0x2e995d(0x2bc)))&&!_0x32431e)throw new Q(_0x2e995d(0x72a),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x2a551d=S['get'](_0x2e995d(0x1ca))['JWT'];try{let [_0x1bf368,_0x1b5a4a]=_0x32566e[_0x2e995d(0x480)](_0x2e995d(0x820))[_0x2e995d(0x447)]('\x20');if(_0x1bf368[_0x2e995d(0x7e4)]()!==_0x2e995d(0x248))throw new ae();if(!(0x0,Ca[_0x2e995d(0x35c)])(_0x1b5a4a))throw new ae();let _0x407e62=_0x32566e[_0x2e995d(0x71c)],_0x382909=Ea['default']['verify'](_0x1b5a4a,_0x2a551d[_0x2e995d(0x378)],{'ignoreExpiration':_0x2a551d[_0x2e995d(0x730)]===0x0});if(_0x407e62['instanceName']!==_0x382909[_0x2e995d(0x185)]||et!==_0x382909[_0x2e995d(0x7b0)])throw new ae();return _0x428e54();}catch(_0x3c1797){throw go[_0x2e995d(0x62f)](_0x3c1797),new ae();}}async function fo(_0x566048,_0x4d0bf6,_0x5e6ff8){const _0x473cf4=a0_0x34238b;let _0x5b4f4f=S[_0x473cf4(0x480)](_0x473cf4(0x1ca))[_0x473cf4(0x6f0)],_0x360815=_0x566048['get']('apikey');if(_0x5b4f4f['KEY']===_0x360815)return _0x5e6ff8();if(_0x566048[_0x473cf4(0x79f)][_0x473cf4(0x331)](_0x473cf4(0x737))){let _0x4fe282=tt,_0x5a92a6=_0x566048['body'][_0x473cf4(0x185)];if(_0x4fe282&&_0x5a92a6[_0x473cf4(0x7e4)]()[_0x473cf4(0x42a)](_0x4fe282['toLowerCase']()))return _0x5e6ff8();if(!_0x360815)throw new Q(_0x473cf4(0x72a),_0x473cf4(0x4bc));}if(_0x566048['originalUrl']['includes'](_0x473cf4(0x2bc))&&!_0x360815)throw new Q('Missing\x20global\x20api\x20key',_0x473cf4(0x4bc));if(_0x566048['originalUrl'][_0x473cf4(0x331)]('/exit')&&!_0x360815)throw new Q('Missing\x20global\x20api\x20key',_0x473cf4(0x4bc));if(_0x566048[_0x473cf4(0x79f)][_0x473cf4(0x331)](_0x473cf4(0x169))&&!_0x360815)throw new Q(_0x473cf4(0x72a),_0x473cf4(0x4bc));try{let _0x3702ed=_0x566048[_0x473cf4(0x71c)],_0x1bf435=await ue[_0x473cf4(0x411)][_0x473cf4(0x802)](_0x3702ed[_0x473cf4(0x185)]);if(_0x1bf435&&_0x1bf435[_0x473cf4(0x4ba)]===_0x360815)return _0x5e6ff8();}catch{}throw new ae();}var va={'jwt':mo,'apikey':fo},ii=require('express'),E=require(a0_0x34238b(0x247)),C=(..._0x359808)=>{const _0x68d01b=a0_0x34238b;let _0x217e75={};return _0x359808[_0x68d01b(0x44e)](_0x518a4d=>_0x217e75[_0x518a4d]={'minLength':0x1,'description':_0x68d01b(0x2d1)+_0x518a4d+_0x68d01b(0x313)}),{'if':{'propertyNames':{'enum':[..._0x359808]}},'then':{'properties':_0x217e75}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'instanceName':{'type':'string'}},...C(a0_0x34238b(0x185))},oc={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'oldToken':{'type':a0_0x34238b(0x330)}},'required':[a0_0x34238b(0x81f)],...C(a0_0x34238b(0x81f))},rc={'properties':{'key':{'type':a0_0x34238b(0x410),'properties':{'id':{'type':a0_0x34238b(0x330)},'remoteJid':{'type':a0_0x34238b(0x330)},'fromMe':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x34238b(0x484),a0_0x34238b(0x600)],...C('id',a0_0x34238b(0x484))},'message':{'type':'object'}}},Y={'properties':{'delay':{'type':a0_0x34238b(0x1ed),'description':a0_0x34238b(0x217)},'presence':{'type':a0_0x34238b(0x330),'enum':[a0_0x34238b(0x65b),a0_0x34238b(0x356),'composing',a0_0x34238b(0x18b),a0_0x34238b(0x53c)]}}},z={'type':a0_0x34238b(0x330),'description':a0_0x34238b(0x31f)},Na={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x34238b(0x410),'properties':{'text':{'type':'string'}},'required':[a0_0x34238b(0x295)],...C(a0_0x34238b(0x295))}},'required':['textMessage',a0_0x34238b(0x570)]},Ra={'type':'string','pattern':a0_0x34238b(0x559),'description':a0_0x34238b(0x31f)},nc={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'number':{...Ra},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x34238b(0x330)}},'required':['text'],...C(a0_0x34238b(0x295))}},'required':[a0_0x34238b(0x4ff),'number']},cc={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'number':{...Ra},'options':{...Y},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x34238b(0x330),'enum':[a0_0x34238b(0x483),a0_0x34238b(0x608),a0_0x34238b(0x2f8),'audio']},'media':{'type':a0_0x34238b(0x330)},'fileName':{'type':a0_0x34238b(0x330)},'caption':{'type':a0_0x34238b(0x330)}},'required':[a0_0x34238b(0x5f7),a0_0x34238b(0x7fa)],...C('fileName','caption',a0_0x34238b(0x7fa))}},'required':[a0_0x34238b(0x6c3),a0_0x34238b(0x570)]},$a={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x34238b(0x410),'properties':{'image':{'type':a0_0x34238b(0x330)}},'required':[a0_0x34238b(0x483)],...C(a0_0x34238b(0x483))}},'required':[a0_0x34238b(0x60a),a0_0x34238b(0x570)]},Aa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x34238b(0x330),'enum':[a0_0x34238b(0x295),a0_0x34238b(0x483),a0_0x34238b(0x585),a0_0x34238b(0x2f8)]},'content':{'type':a0_0x34238b(0x330)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x34238b(0x330)},'font':{'type':a0_0x34238b(0x1ed),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x34238b(0x330),'pattern':a0_0x34238b(0x782),'description':a0_0x34238b(0x1d2)}},'allContacts':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]}},'required':[a0_0x34238b(0x3f1),'content'],...C('type',a0_0x34238b(0x760))}},'required':[a0_0x34238b(0x6ed)]},Oa={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x34238b(0x410),'properties':{'mediatype':{'type':a0_0x34238b(0x330),'enum':[a0_0x34238b(0x483),a0_0x34238b(0x608),a0_0x34238b(0x2f8),a0_0x34238b(0x585)]},'media':{'type':a0_0x34238b(0x330)},'fileName':{'type':'string'},'caption':{'type':a0_0x34238b(0x330)}},'required':[a0_0x34238b(0x5f7),a0_0x34238b(0x7fa)],...C('fileName',a0_0x34238b(0x689),a0_0x34238b(0x7fa))}},'required':['mediaMessage',a0_0x34238b(0x570)]},Ta={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':'object','properties':{'audio':{'type':'string'}},'required':[a0_0x34238b(0x585)],...C(a0_0x34238b(0x585))}},'required':[a0_0x34238b(0x38d),a0_0x34238b(0x570)]},Ia={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'number':{...z},'pollMessage':{'type':a0_0x34238b(0x410),'properties':{'name':{'type':a0_0x34238b(0x330)},'selectableCount':{'type':'number'},'values':{'type':a0_0x34238b(0x637),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x34238b(0x5f8),a0_0x34238b(0x3ca),a0_0x34238b(0x4c5)],...C('name',a0_0x34238b(0x3ca),a0_0x34238b(0x4c5))}},'required':[a0_0x34238b(0x570),a0_0x34238b(0x2b4)]},xa={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'number':{...z},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x34238b(0x330)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x34238b(0x295),a0_0x34238b(0x23c)],...C(a0_0x34238b(0x295),a0_0x34238b(0x23c))}},'required':[a0_0x34238b(0x570),'menuMessage']},Da={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x34238b(0x410),'properties':{'title':{'type':a0_0x34238b(0x330)},'description':{'type':a0_0x34238b(0x330)},'footerText':{'type':a0_0x34238b(0x330)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':'string'}},'required':[a0_0x34238b(0x4d7),a0_0x34238b(0x599)],...C(a0_0x34238b(0x4d7),a0_0x34238b(0x599))}},'mediaMessage':{'type':a0_0x34238b(0x410),'properties':{'media':{'type':a0_0x34238b(0x330)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x34238b(0x330),'enum':['image',a0_0x34238b(0x608),a0_0x34238b(0x2f8)]}},'required':['media',a0_0x34238b(0x5f7)],...C(a0_0x34238b(0x7fa),a0_0x34238b(0x62a))}},'required':[a0_0x34238b(0x81d),'buttons'],...C(a0_0x34238b(0x81d),a0_0x34238b(0x1a7))}},'required':['number',a0_0x34238b(0x3c5)]},_a={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x34238b(0x570)},'longitude':{'type':a0_0x34238b(0x570)},'name':{'type':a0_0x34238b(0x330)},'address':{'type':a0_0x34238b(0x330)}},'required':[a0_0x34238b(0x1dd),a0_0x34238b(0x61a)],...C(a0_0x34238b(0x5f8),a0_0x34238b(0x45b))}},'required':[a0_0x34238b(0x570),a0_0x34238b(0x786)]},Pa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x34238b(0x410),'properties':{'title':{'type':a0_0x34238b(0x330)},'description':{'type':a0_0x34238b(0x330)},'footerText':{'type':a0_0x34238b(0x330)},'buttonText':{'type':a0_0x34238b(0x330)},'sections':{'type':a0_0x34238b(0x637),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x34238b(0x410),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x34238b(0x637),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x34238b(0x410),'properties':{'title':{'type':'string'},'description':{'type':a0_0x34238b(0x330)},'rowId':{'type':a0_0x34238b(0x330)}},'required':[a0_0x34238b(0x81d),a0_0x34238b(0x518)],...C(a0_0x34238b(0x81d),a0_0x34238b(0x518))}}},'required':[a0_0x34238b(0x81d),'rows'],...C('title')}}},'required':[a0_0x34238b(0x81d),a0_0x34238b(0x1a7),'buttonText',a0_0x34238b(0x452)],...C(a0_0x34238b(0x81d),'description',a0_0x34238b(0x4d7),a0_0x34238b(0x552))}},'required':[a0_0x34238b(0x570),a0_0x34238b(0x51c)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x34238b(0x637),'items':{'type':a0_0x34238b(0x410),'properties':{'fullName':{'type':a0_0x34238b(0x330)},'phoneNumber':{'type':a0_0x34238b(0x330),'minLength':0xa}},'required':[a0_0x34238b(0x279),'phoneNumber'],...C(a0_0x34238b(0x279))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x34238b(0x570),a0_0x34238b(0x63a)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x34238b(0x410),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x34238b(0x330)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x34238b(0x484),a0_0x34238b(0x600)],...C('id',a0_0x34238b(0x484))},'reaction':{'type':a0_0x34238b(0x330)}},'required':[a0_0x34238b(0x332),a0_0x34238b(0x21c)],...C(a0_0x34238b(0x21c))}},'required':[a0_0x34238b(0x397)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'numbers':{'type':a0_0x34238b(0x637),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x34238b(0x330),'pattern':a0_0x34238b(0x782),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'readMessages':{'type':a0_0x34238b(0x637),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x34238b(0x330)},'fromMe':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id','fromMe',a0_0x34238b(0x484)],...C('id','remoteJid')}}},'required':[a0_0x34238b(0x1cc)]},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x34238b(0x410),'properties':{'readreceipts':{'type':a0_0x34238b(0x330),'enum':[a0_0x34238b(0x4e2),'none']},'profile':{'type':a0_0x34238b(0x330),'enum':[a0_0x34238b(0x4e2),a0_0x34238b(0x5f5),a0_0x34238b(0x712),a0_0x34238b(0x767)]},'status':{'type':a0_0x34238b(0x330),'enum':[a0_0x34238b(0x4e2),'contacts','contact_blacklist',a0_0x34238b(0x767)]},'online':{'type':'string','enum':[a0_0x34238b(0x4e2),a0_0x34238b(0x47c)]},'last':{'type':a0_0x34238b(0x330),'enum':[a0_0x34238b(0x4e2),a0_0x34238b(0x5f5),a0_0x34238b(0x712),'none']},'groupadd':{'type':'string','enum':['all',a0_0x34238b(0x5f5),a0_0x34238b(0x712),a0_0x34238b(0x767)]}},'required':['readreceipts',a0_0x34238b(0x2a2),'status',a0_0x34238b(0x392),a0_0x34238b(0x5be),'groupadd'],...C(a0_0x34238b(0x464),a0_0x34238b(0x2a2),a0_0x34238b(0x7b4),a0_0x34238b(0x392),a0_0x34238b(0x5be),a0_0x34238b(0x1ae))}},'required':[a0_0x34238b(0x3e2)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'lastMessage':{'type':a0_0x34238b(0x410),'properties':{'key':{'type':a0_0x34238b(0x410),'properties':{'id':{'type':a0_0x34238b(0x330)},'remoteJid':{'type':a0_0x34238b(0x330)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x34238b(0x600),a0_0x34238b(0x484)],...C('id',a0_0x34238b(0x484))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x34238b(0x332)],...C(a0_0x34238b(0x310))},'archive':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]}},'required':[a0_0x34238b(0x2ea),a0_0x34238b(0x4c3)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'id':{'type':a0_0x34238b(0x330)},'fromMe':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x34238b(0x330)},'participant':{'type':a0_0x34238b(0x330)}},'required':['id',a0_0x34238b(0x600),a0_0x34238b(0x484)],...C('id',a0_0x34238b(0x484),a0_0x34238b(0x5f6))},Va={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'where':{'type':a0_0x34238b(0x410),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x34238b(0x330),'minLength':0x1},'id':{'type':a0_0x34238b(0x330),'minLength':0x1}},...C(a0_0x34238b(0x45c),'id',a0_0x34238b(0x81c))}}},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'name':{'type':a0_0x34238b(0x330)}},...C(a0_0x34238b(0x5f8))},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'status':{'type':a0_0x34238b(0x330)}},...C(a0_0x34238b(0x7b4))},$e={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'number':{'type':'string'},'picture':{'type':'string'}}},Wa={'type':a0_0x34238b(0x410),'properties':{'wuid':{'type':a0_0x34238b(0x330)},'name':{'type':a0_0x34238b(0x330)},'picture':{'type':'string'},'status':{'type':a0_0x34238b(0x330)},'isBusiness':{'type':a0_0x34238b(0x58b)}}},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x34238b(0x410),'properties':{'_id':{'type':a0_0x34238b(0x330),'minLength':0x1},'key':{'type':a0_0x34238b(0x410),'if':{'propertyNames':{'enum':[a0_0x34238b(0x600),a0_0x34238b(0x484),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x34238b(0x330),'minLength':0x1,'description':a0_0x34238b(0x5bc)},'id':{'type':a0_0x34238b(0x330),'minLength':0x1,'description':a0_0x34238b(0x5bc)},'fromMe':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x34238b(0x410)}},...C(a0_0x34238b(0x45c))},'limit':{'type':a0_0x34238b(0x1ed)}}},lc={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'where':{'type':a0_0x34238b(0x410),'properties':{'_id':{'type':a0_0x34238b(0x330)},'remoteJid':{'type':'string'},'id':{'type':a0_0x34238b(0x330)},'fromMe':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x34238b(0x330),'enum':['ERROR',a0_0x34238b(0x55f),'SERVER_ACK',a0_0x34238b(0x495),'READ',a0_0x34238b(0x235)]}},...C(a0_0x34238b(0x45c),a0_0x34238b(0x484),'id','status')},'limit':{'type':a0_0x34238b(0x1ed)}}},Ha={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':a0_0x34238b(0x330),'enum':[a0_0x34238b(0x65b),a0_0x34238b(0x356),a0_0x34238b(0x51d),a0_0x34238b(0x18b),'paused']}},'required':['presence',a0_0x34238b(0x570)]},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x34238b(0x330)},'profilePicture':{'type':a0_0x34238b(0x330)},'participants':{'type':a0_0x34238b(0x637),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x34238b(0x330),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x34238b(0x23b)}}},'required':[a0_0x34238b(0x190),a0_0x34238b(0x325)],...C(a0_0x34238b(0x190),a0_0x34238b(0x1a7),'profilePicture')},Ae={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'groupJid':{'type':a0_0x34238b(0x330),'pattern':a0_0x34238b(0x638)}},'required':['groupJid'],...C('groupJid')},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'groupJid':{'type':a0_0x34238b(0x330)},'action':{'type':a0_0x34238b(0x330),'enum':[a0_0x34238b(0x7d8),'remove','promote',a0_0x34238b(0x5b9),'reject',a0_0x34238b(0x2b8)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x34238b(0x330),'minLength':0xa,'pattern':a0_0x34238b(0x5ea),'description':a0_0x34238b(0x23b)}}},'required':['groupJid',a0_0x34238b(0x627),a0_0x34238b(0x325)],...C('groupJid','action')},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'groupJid':{'type':a0_0x34238b(0x330)},'expiration':{'type':a0_0x34238b(0x570),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid','expiration'],...C(a0_0x34238b(0x7eb),a0_0x34238b(0x7ea))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'groupJid':{'type':a0_0x34238b(0x330)},'image':{'type':a0_0x34238b(0x330)}},'required':[a0_0x34238b(0x7eb),a0_0x34238b(0x483)],...C('groupJid',a0_0x34238b(0x483))},Za={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x34238b(0x330)}},'required':[a0_0x34238b(0x7eb),a0_0x34238b(0x1a7)],...C('groupJid','description')},ei={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x34238b(0x330)}},'required':[a0_0x34238b(0x7eb),a0_0x34238b(0x5f8)],...C(a0_0x34238b(0x7eb),a0_0x34238b(0x5f8))},ti={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'groupJid':{'type':a0_0x34238b(0x330)},'setting':{'type':a0_0x34238b(0x330),'enum':[a0_0x34238b(0x77e),a0_0x34238b(0x6b0),a0_0x34238b(0x749),a0_0x34238b(0x479)]}},'required':[a0_0x34238b(0x7eb),a0_0x34238b(0x59c)],...C(a0_0x34238b(0x7eb),a0_0x34238b(0x59c))},si={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x34238b(0x330)},'restrict':{'type':a0_0x34238b(0x58b)},'announce':{'type':a0_0x34238b(0x58b)},'memberAddMode':{'type':a0_0x34238b(0x58b)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x34238b(0x1ed),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x34238b(0x330)},'description':{'type':a0_0x34238b(0x330)},'image':{'type':a0_0x34238b(0x330)}}},bs={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'inviteCode':{'type':a0_0x34238b(0x330)}},'required':[a0_0x34238b(0x586)],...C(a0_0x34238b(0x586))},ai={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':a0_0x34238b(0x330)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['url','enabled']},uc={'$id':(0x0,E['v4'])(),'type':a0_0x34238b(0x410),'properties':{'local_map':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x34238b(0x58b),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x34238b(0x812),'QRCODE_UPDATED',a0_0x34238b(0x5f4),a0_0x34238b(0x584),a0_0x34238b(0x55b),a0_0x34238b(0x31b),a0_0x34238b(0x1df),a0_0x34238b(0x5e8),a0_0x34238b(0x531),a0_0x34238b(0x1b5),a0_0x34238b(0x3f7),a0_0x34238b(0x6a7),'CHATS_UPDATE',a0_0x34238b(0x7ac),'CONNECTION_UPDATE',a0_0x34238b(0x6e4),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE'],...C('local_map','STATUS_INSTANCE',a0_0x34238b(0x1d3),a0_0x34238b(0x5f4),a0_0x34238b(0x584),a0_0x34238b(0x55b),a0_0x34238b(0x31b),a0_0x34238b(0x1df),a0_0x34238b(0x5e8),'CONTACTS_UPDATE',a0_0x34238b(0x1b5),a0_0x34238b(0x3f7),'CHATS_UPSERT','CHATS_UPDATE',a0_0x34238b(0x7ac),a0_0x34238b(0x7d9),a0_0x34238b(0x6e4),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE')},st=class{},at=class extends x{[a0_0x34238b(0x31d)](_0x42d356){return Ys(_0x42d356);}async[a0_0x34238b(0x202)](_0xcdad7b){const _0x51b67e=a0_0x34238b;if(_0xcdad7b[_0x51b67e(0x6f5)]!==0x0)try{return{'insertCount':(await this[_0x51b67e(0x31d)](_0xcdad7b[0x0][_0x51b67e(0x553)])[_0x51b67e(0x43e)]([..._0xcdad7b]))[_0x51b67e(0x6f5)]};}catch(_0x54dc85){return _0x54dc85;}}async[a0_0x34238b(0x253)](_0x9772d9,_0x1cedb6){const _0x185ec4=a0_0x34238b;try{return{'deletedCount':(await this[_0x185ec4(0x31d)](_0x1cedb6)[_0x185ec4(0x68c)]({..._0x9772d9[_0x185ec4(0x722)]}))[_0x185ec4(0x759)]};}catch(_0x3c07c3){return{'error':_0x3c07c3?.['toString']()};}}async[a0_0x34238b(0x386)](_0x56df5a,_0x149fe5){const _0x4ef3ab=a0_0x34238b;try{if(_0x56df5a[_0x4ef3ab(0x6f5)]===0x0)return;let _0x12fef5=this[_0x4ef3ab(0x31d)](_0x149fe5),_0x397c22=_0x56df5a[_0x4ef3ab(0x643)](_0xafc57e=>({'updateOne':{'filter':{'_id':_0xafc57e['_id'],'owner':_0x149fe5},'update':{..._0xafc57e}}})),{modifiedCount:_0x468e82}=await _0x12fef5[_0x4ef3ab(0x21a)](_0x397c22);return{'insertCount':_0x468e82};}catch{return;}}async[a0_0x34238b(0x802)](_0x16899f,_0x4de494){const _0x2cb8f2=a0_0x34238b;try{let _0x12d016=this[_0x2cb8f2(0x31d)](_0x4de494),_0x35abe4=T(_0x16899f[_0x2cb8f2(0x722)]);return await _0x12d016['find'](_0x35abe4)[_0x2cb8f2(0x5a9)](_0x16899f?.[_0x2cb8f2(0x5a9)]??0x0)[_0x2cb8f2(0x23f)]();}catch{return[];}}async[a0_0x34238b(0x6cc)](_0x34caec,_0x8985dc){const _0x330a61=a0_0x34238b;try{let _0x8902fd=this['getContactModelForOwner'](_0x8985dc),_0xb42c3b=T(_0x34caec[_0x330a61(0x722)]);return await _0x8902fd[_0x330a61(0x6cc)](_0xb42c3b)[_0x330a61(0x23f)]();}catch{return null;}}async[a0_0x34238b(0x275)](_0x370791){const _0x5b3ff0=a0_0x34238b;try{return await this[_0x5b3ff0(0x31d)](_0x370791)[_0x5b3ff0(0x322)]['drop'](),{'success':!0x0};}catch(_0x3c3026){return console[_0x5b3ff0(0x62f)](_0x3c3026),{'success':!0x1,'error':_0x3c3026};}}},it=require('jsonschema'),bc=require(a0_0x34238b(0x3ba)),Ss=new R(a0_0x34238b(0x19c)),V=class{[a0_0x34238b(0x3cc)](_0x229db0,_0x169457=!0x0){let _0x57b17d='/'+_0x229db0;return _0x169457&&(_0x57b17d+='/:instanceName'),_0x57b17d;}async[a0_0x34238b(0x346)](_0x324b4d){const _0xf8c483=a0_0x34238b;let {request:_0x7de04c,schema:_0x241597,ClassRef:_0x199e34,execute:_0x1479e2}=_0x324b4d,_0x5a31e1=new _0x199e34(),_0x4dc2a7=_0x7de04c[_0xf8c483(0x261)],_0x483765=_0x7de04c['params'];_0x7de04c?.[_0xf8c483(0x38a)]&&Object[_0xf8c483(0x58c)](_0x7de04c[_0xf8c483(0x38a)])[_0xf8c483(0x6f5)]>0x0&&Object[_0xf8c483(0x752)](_0x483765,_0x7de04c[_0xf8c483(0x38a)]),_0x7de04c[_0xf8c483(0x79f)][_0xf8c483(0x331)](_0xf8c483(0x737))&&Object[_0xf8c483(0x752)](_0x483765,_0x4dc2a7),Object[_0xf8c483(0x752)](_0x5a31e1,_0x4dc2a7);let _0x49f2d2=_0x241597?(0x0,it[_0xf8c483(0x5dd)])(_0x5a31e1,_0x241597):{'valid':!0x0,'errors':[]};if(!_0x49f2d2[_0xf8c483(0x683)]){let _0x579541=_0x49f2d2[_0xf8c483(0x30b)][_0xf8c483(0x643)](({property:_0x1c1c87,stack:_0x127be1,schema:_0x62d685})=>{const _0x2cb9b0=_0xf8c483;let _0x45643d;return _0x62d685['description']?_0x45643d=_0x62d685[_0x2cb9b0(0x1a7)]:_0x45643d=_0x127be1['replace'](_0x2cb9b0(0x81a),''),{'property':_0x1c1c87[_0x2cb9b0(0x5c6)](_0x2cb9b0(0x81a),''),'message':_0x45643d};});throw Ss[_0xf8c483(0x62f)]([..._0x579541]),new m(..._0x579541);}return await _0x1479e2(_0x483765,_0x5a31e1);}async[a0_0x34238b(0x65a)](_0x487efe){const _0x5e9cf9=a0_0x34238b;let {request:_0x3899ab,ClassRef:_0x4b2e07,schema:_0x1574eb,execute:_0x34dd3c}=_0x487efe,_0x23567f=_0x3899ab['query'];if(!_0x23567f?.[_0x5e9cf9(0x7eb)])throw new m(_0x5e9cf9(0x25f),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x587d8c=_0x3899ab[_0x5e9cf9(0x71c)],_0x5d57a0=_0x3899ab['body'],_0x14f33a=new _0x4b2e07();Object['assign'](_0x5d57a0,_0x23567f),Object['assign'](_0x14f33a,_0x5d57a0);let _0x5e5eec=(0x0,it[_0x5e9cf9(0x5dd)])(_0x14f33a,_0x1574eb);if(!_0x5e5eec[_0x5e9cf9(0x683)]){let _0x103ec2=_0x5e5eec['errors']['map'](({property:_0x287696,stack:_0x257932,schema:_0x1e3690})=>{const _0x3bb624=_0x5e9cf9;let _0x3af947;return _0x1e3690['description']?_0x3af947=_0x1e3690[_0x3bb624(0x1a7)]:_0x3af947=_0x257932['replace'](_0x3bb624(0x81a),''),{'property':_0x287696[_0x3bb624(0x5c6)]('instance.',''),'message':_0x3af947};});throw Ss['error']([..._0x103ec2]),new m(..._0x103ec2);}return await _0x34dd3c(_0x587d8c,_0x14f33a);}async[a0_0x34238b(0x401)](_0x5735e4){const _0x1f9321=a0_0x34238b;let {request:_0x367ea0,ClassRef:_0x19a605,schema:_0x110b58,execute:_0x3e522f}=_0x5735e4,_0x5e7f31=_0x367ea0['body'];if(!_0x5e7f31?.[_0x1f9321(0x586)])throw new m(_0x1f9321(0x152),_0x1f9321(0x2a3));let _0xa6b78b=_0x367ea0['params'],_0xf28c79=_0x367ea0[_0x1f9321(0x261)],_0x4bc71a=new _0x19a605();Object['assign'](_0xf28c79,_0x5e7f31),Object[_0x1f9321(0x752)](_0x4bc71a,_0xf28c79);let _0x5cf0a7=(0x0,it[_0x1f9321(0x5dd)])(_0x4bc71a,_0x110b58);if(!_0x5cf0a7[_0x1f9321(0x683)]){let _0x43e259=_0x5cf0a7[_0x1f9321(0x30b)][_0x1f9321(0x643)](({property:_0x4a38ca,stack:_0x39a940,schema:_0x4020a4})=>{const _0x50b0d0=_0x1f9321;let _0x43b85b;return _0x4020a4[_0x50b0d0(0x1a7)]?_0x43b85b=_0x4020a4[_0x50b0d0(0x1a7)]:_0x43b85b=_0x39a940['replace'](_0x50b0d0(0x81a),''),{'property':_0x4a38ca[_0x50b0d0(0x5c6)](_0x50b0d0(0x81a),''),'message':_0x43b85b};});throw Ss[_0x1f9321(0x62f)]([..._0x43e259]),new m(..._0x43e259);}return await _0x3e522f(_0xa6b78b,_0x4bc71a);}},M=class{},_c=new R(a0_0x34238b(0x6ca)),ot=class extends V{constructor(..._0x261e10){const _0x50cfff=a0_0x34238b;super(),this[_0x50cfff(0x4fa)]=(0x0,ii[_0x50cfff(0x6bf)])(),this[_0x50cfff(0x4fa)]['post'](this[_0x50cfff(0x3cc)](_0x50cfff(0x6b8)),..._0x261e10,async(_0x5ba92c,_0x4d321c)=>{const _0x3b5f28=_0x50cfff;let _0x2fdce1=await this[_0x3b5f28(0x346)]({'request':_0x5ba92c,'schema':Ha,'ClassRef':We,'execute':(_0x5ab5f0,_0x30f73f)=>_[_0x3b5f28(0x6b8)](_0x5ab5f0,_0x30f73f)});return _0x4d321c[_0x3b5f28(0x7b4)](0xc9)[_0x3b5f28(0x56d)](_0x2fdce1);})[_0x50cfff(0x7c4)](this[_0x50cfff(0x3cc)](_0x50cfff(0x6d5)),..._0x261e10,async(_0x216c9a,_0x31df3d)=>{const _0x4b353c=_0x50cfff;let _0x44a0ad=await this['dataValidate']({'request':_0x216c9a,'schema':La,'ClassRef':ze,'execute':(_0x191710,_0xc01850)=>_[_0x4b353c(0x5e4)](_0x191710,_0xc01850)});return _0x31df3d[_0x4b353c(0x7b4)](0xc9)['json'](_0x44a0ad);})[_0x50cfff(0x7c4)](this['routerPath'](_0x50cfff(0x41e)),..._0x261e10,async(_0x261c19,_0x1f7873)=>{const _0xbb5f00=_0x50cfff;let _0x2d8a33=await this['dataValidate']({'request':_0x261c19,'schema':v,'ClassRef':M,'execute':(_0xd576c3,_0x67bc3c)=>_[_0xbb5f00(0x41e)](_0xd576c3,_0x67bc3c)});return _0x1f7873[_0xbb5f00(0x7b4)](0xc9)[_0xbb5f00(0x56d)](_0x2d8a33);})['put'](this[_0x50cfff(0x3cc)](_0x50cfff(0x40f)),..._0x261e10,async(_0x2c49c8,_0x2b00ba)=>{const _0x2544c4=_0x50cfff;let _0xb53ff4=await this['dataValidate']({'request':_0x2c49c8,'schema':Fa,'ClassRef':Qe,'execute':(_0x3cd0de,_0x3f7d24)=>_[_0x2544c4(0x506)](_0x3cd0de,_0x3f7d24)});return _0x2b00ba['status'](0xc9)[_0x2544c4(0x56d)](_0xb53ff4);})['put'](this[_0x50cfff(0x3cc)](_0x50cfff(0x3c2)),..._0x261e10,async(_0x4a0cf0,_0x2a958e)=>{const _0x231b3c=_0x50cfff;let _0x171c85=await this[_0x231b3c(0x346)]({'request':_0x4a0cf0,'schema':Ua,'ClassRef':Ye,'execute':(_0x1c0227,_0x162228)=>_[_0x231b3c(0x3c2)](_0x1c0227,_0x162228)});return _0x2a958e[_0x231b3c(0x7b4)](0xc9)['json'](_0x171c85);})[_0x50cfff(0x253)](this[_0x50cfff(0x3cc)](_0x50cfff(0x711)),..._0x261e10,async(_0x372eb7,_0x1a24aa)=>{const _0x4c1277=_0x50cfff;let _0x39ef25=await this['dataValidate']({'request':_0x372eb7,'schema':qa,'ClassRef':Ze,'execute':(_0x462ea7,_0x4b09b8)=>_['deleteMessage'](_0x462ea7,_0x4b09b8)});return _0x1a24aa['status'](0xc9)[_0x4c1277(0x56d)](_0x39ef25);})[_0x50cfff(0x7c4)](this[_0x50cfff(0x3cc)](_0x50cfff(0x16a)),..._0x261e10,async(_0x1f491c,_0x3a8bf3)=>{const _0x341080=_0x50cfff;let _0x164f8b=await this[_0x341080(0x346)]({'request':_0x1f491c,'schema':$e,'ClassRef':Ne,'execute':(_0x3b4c3e,_0x328767)=>_[_0x341080(0x7c0)](_0x3b4c3e,_0x328767)});return _0x3a8bf3[_0x341080(0x7b4)](0xc8)['json'](_0x164f8b);})['post'](this[_0x50cfff(0x3cc)](_0x50cfff(0x409)),..._0x261e10,async(_0x4ea006,_0x183840)=>{const _0x65cda8=_0x50cfff;let _0x3f7b6c=await this[_0x65cda8(0x346)]({'request':_0x4ea006,'schema':Wa,'ClassRef':Ne,'execute':(_0x52a6e9,_0x2db9aa)=>_[_0x65cda8(0x409)](_0x52a6e9,_0x2db9aa)});return _0x183840[_0x65cda8(0x7b4)](0xc8)['json'](_0x3f7b6c);})[_0x50cfff(0x7c4)](this['routerPath'](_0x50cfff(0x232)),..._0x261e10,async(_0x41424b,_0xd7f17e)=>{const _0x3db8fc=_0x50cfff;let _0x1341f0=await this[_0x3db8fc(0x346)]({'request':_0x41424b,'schema':Va,'ClassRef':st,'execute':(_0x451a4d,_0x208813)=>_['fetchContacts'](_0x451a4d,_0x208813)});return _0xd7f17e[_0x3db8fc(0x7b4)](0xc8)['json'](_0x1341f0);})['post'](this[_0x50cfff(0x3cc)](_0x50cfff(0x3e8)),..._0x261e10,async(_0x23d604,_0x273a14)=>{const _0x392613=_0x50cfff;let _0x40c302=await this[_0x392613(0x346)]({'request':_0x23d604,'schema':null,'ClassRef':Object,'execute':(_0x554613,_0x311f35)=>_[_0x392613(0x3e8)](_0x554613,_0x311f35)});return _0x273a14[_0x392613(0x7b4)](0xc9)['json'](_0x40c302);})[_0x50cfff(0x7c4)](this[_0x50cfff(0x3cc)](_0x50cfff(0x6e5)),..._0x261e10,async(_0x31e8a8,_0x169b94)=>{const _0xce561b=_0x50cfff;let _0x566040=await this[_0xce561b(0x346)]({'request':_0x31e8a8,'schema':za,'ClassRef':Ge,'execute':(_0x2dbab0,_0x4eadfb)=>_['fetchMessages'](_0x2dbab0,_0x4eadfb)});return _0x169b94[_0xce561b(0x7b4)](0xc8)[_0xce561b(0x56d)](_0x566040);})[_0x50cfff(0x480)](this['routerPath'](_0x50cfff(0x4f4)),..._0x261e10,async(_0x564ec8,_0x50f30d)=>{const _0x45dcae=_0x50cfff;let _0x4d08ad=await this[_0x45dcae(0x346)]({'request':_0x564ec8,'schema':null,'ClassRef':M,'execute':_0x1394c1=>_[_0x45dcae(0x32b)](_0x1394c1)});return _0x50f30d[_0x45dcae(0x7b4)](0xc8)[_0x45dcae(0x56d)](_0x4d08ad);})[_0x50cfff(0x480)](this['routerPath'](_0x50cfff(0x193)),..._0x261e10,async(_0x3543df,_0x15bac0)=>{const _0x4c42bf=_0x50cfff;let _0x313a81=await this[_0x4c42bf(0x346)]({'request':_0x3543df,'schema':null,'ClassRef':M,'execute':_0x433aef=>_[_0x4c42bf(0x61c)](_0x433aef)});return _0x15bac0[_0x4c42bf(0x7b4)](0xc8)[_0x4c42bf(0x56d)](_0x313a81);})[_0x50cfff(0x60e)](this[_0x50cfff(0x3cc)](_0x50cfff(0x77b)),..._0x261e10,async(_0x3789b9,_0x7fa506)=>{const _0x3d2ddd=_0x50cfff;let _0x46ca1a=await this[_0x3d2ddd(0x346)]({'request':_0x3789b9,'schema':null,'ClassRef':Array,'execute':(_0x21826c,_0x2011bb)=>_[_0x3d2ddd(0x77b)](_0x21826c,_0x2011bb)});return _0x7fa506[_0x3d2ddd(0x7b4)](0xc8)[_0x3d2ddd(0x56d)](_0x46ca1a);})[_0x50cfff(0x480)](this[_0x50cfff(0x3cc)](_0x50cfff(0x207)),..._0x261e10,async(_0x222891,_0x399a73)=>{const _0xd36352=_0x50cfff;let _0x2d2e0f=await this[_0xd36352(0x346)]({'request':_0x222891,'schema':null,'ClassRef':M,'execute':_0x11319a=>_[_0xd36352(0x207)](_0x11319a)});return _0x399a73[_0xd36352(0x7b4)](0xc8)[_0xd36352(0x56d)](_0x2d2e0f);})[_0x50cfff(0x60e)](this['routerPath'](_0x50cfff(0x3df)),..._0x261e10,async(_0x3381b3,_0x493e4b)=>{const _0x5930d1=_0x50cfff;let _0x2ac1d0=await this[_0x5930d1(0x346)]({'request':_0x3381b3,'schema':Ja,'ClassRef':Xe,'execute':(_0x68f18e,_0x735f99)=>_[_0x5930d1(0x3df)](_0x68f18e,_0x735f99)});return _0x493e4b[_0x5930d1(0x7b4)](0xc9)[_0x5930d1(0x56d)](_0x2ac1d0);})[_0x50cfff(0x7c4)](this[_0x50cfff(0x3cc)]('fetchBusinessProfile'),..._0x261e10,async(_0x3cbbf3,_0x4c98c8)=>{const _0x139d07=_0x50cfff;let _0x212ad1=await this[_0x139d07(0x346)]({'request':_0x3cbbf3,'schema':$e,'ClassRef':be,'execute':(_0x3cdc06,_0x3c29bc)=>_['fetchBusinessProfile'](_0x3cdc06,_0x3c29bc)});return _0x4c98c8[_0x139d07(0x7b4)](0xc8)[_0x139d07(0x56d)](_0x212ad1);})[_0x50cfff(0x7c4)](this[_0x50cfff(0x3cc)](_0x50cfff(0x6b3)),..._0x261e10,async(_0x2abf96,_0x1e47ff)=>{const _0x564449=_0x50cfff;let _0x5aafaf=await this[_0x564449(0x346)]({'request':_0x2abf96,'schema':Ga,'ClassRef':He,'execute':(_0x43b308,_0x3010d6)=>_[_0x564449(0x6b3)](_0x43b308,_0x3010d6)});return _0x1e47ff['status'](0xc8)[_0x564449(0x56d)](_0x5aafaf);})[_0x50cfff(0x7c4)](this[_0x50cfff(0x3cc)](_0x50cfff(0x52c)),..._0x261e10,async(_0x43d022,_0x1daffe)=>{const _0x19096f=_0x50cfff;let _0x5d4ed7=await this[_0x19096f(0x346)]({'request':_0x43d022,'schema':Ba,'ClassRef':Ke,'execute':(_0x522c01,_0x3a363f)=>_[_0x19096f(0x52c)](_0x522c01,_0x3a363f)});return _0x1daffe['status'](0xc8)['json'](_0x5d4ed7);})['put'](this[_0x50cfff(0x3cc)](_0x50cfff(0x1c4)),..._0x261e10,async(_0x854b11,_0x1f942c)=>{const _0x48162e=_0x50cfff;let _0x5b97fc=await this['dataValidate']({'request':_0x854b11,'schema':$e,'ClassRef':be,'execute':(_0xc0ecd5,_0x3a1025)=>_[_0x48162e(0x1c4)](_0xc0ecd5,_0x3a1025)});return _0x1f942c[_0x48162e(0x7b4)](0xc8)[_0x48162e(0x56d)](_0x5b97fc);})['delete'](this[_0x50cfff(0x3cc)](_0x50cfff(0x67f)),..._0x261e10,async(_0x40a5aa,_0x2c6092)=>{const _0x3b5e8a=_0x50cfff;let _0x2b3417=await this[_0x3b5e8a(0x346)]({'request':_0x40a5aa,'schema':$e,'ClassRef':be,'execute':(_0x245d71,_0x4ca6b8)=>_[_0x3b5e8a(0x67f)](_0x245d71,_0x4ca6b8)});return _0x2c6092['status'](0xc8)['json'](_0x2b3417);});}},oi=require(a0_0x34238b(0x240)),rt=class{},nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},X=class{},Oe=class{},pt=class extends X{},ht=class extends X{},gt=class extends V{constructor(..._0x299776){const _0x167476=a0_0x34238b;super(),this[_0x167476(0x4fa)]=(0x0,oi[_0x167476(0x6bf)])(),this['router'][_0x167476(0x7c4)](this[_0x167476(0x3cc)](_0x167476(0x6a0)),..._0x299776,async(_0x4a16d6,_0x1e8882)=>{const _0x50691b=_0x167476;let _0x1002d6=await this[_0x50691b(0x346)]({'request':_0x4a16d6,'schema':Ka,'ClassRef':rt,'execute':(_0x34122e,_0x5bad5f)=>q[_0x50691b(0x32e)](_0x34122e,_0x5bad5f)});_0x1e8882[_0x50691b(0x7b4)](0xc9)['json'](_0x1002d6);})['put'](this[_0x167476(0x3cc)](_0x167476(0x22b)),..._0x299776,async(_0x57127c,_0x27816b)=>{const _0x4d31e1=_0x167476;let _0xd68862=await this['groupValidate']({'request':_0x57127c,'schema':Xa,'ClassRef':nt,'execute':(_0x9093ec,_0x507216)=>q['updateGroupPicture'](_0x9093ec,_0x507216)});_0x27816b[_0x4d31e1(0x7b4)](0xc9)['json'](_0xd68862);})[_0x167476(0x60e)](this[_0x167476(0x3cc)](_0x167476(0x459)),..._0x299776,async(_0x1668dc,_0x498f3a)=>{const _0x2e412f=_0x167476;let _0x2d9aa6=await this[_0x2e412f(0x65a)]({'request':_0x1668dc,'schema':Za,'ClassRef':ct,'execute':(_0x3f41f6,_0x513532)=>q[_0x2e412f(0x459)](_0x3f41f6,_0x513532)});_0x498f3a[_0x2e412f(0x7b4)](0xc9)[_0x2e412f(0x56d)](_0x2d9aa6);})[_0x167476(0x60e)](this[_0x167476(0x3cc)](_0x167476(0x321)),..._0x299776,async(_0x2fd773,_0x4168b4)=>{const _0xcbe7e0=_0x167476;let _0xe0724c=await this[_0xcbe7e0(0x65a)]({'request':_0x2fd773,'schema':ei,'ClassRef':lt,'execute':(_0x545297,_0x372a14)=>q[_0xcbe7e0(0x321)](_0x545297,_0x372a14)});_0x4168b4[_0xcbe7e0(0x7b4)](0xc9)[_0xcbe7e0(0x56d)](_0xe0724c);})[_0x167476(0x60e)](this[_0x167476(0x3cc)](_0x167476(0x64a)),..._0x299776,async(_0x293dcc,_0x34dae0)=>{const _0x116add=_0x167476;let _0x369752=await this['groupValidate']({'request':_0x293dcc,'schema':si,'ClassRef':dt,'execute':(_0x20aa19,_0x36bf18)=>q[_0x116add(0x64a)](_0x20aa19,_0x36bf18)});_0x34dae0[_0x116add(0x7b4)](0xc9)[_0x116add(0x56d)](_0x369752);})[_0x167476(0x60e)](this[_0x167476(0x3cc)](_0x167476(0x320)),..._0x299776,async(_0x32c81e,_0x2e4356)=>{const _0x6b5786=_0x167476;let _0x36a022=await this[_0x6b5786(0x65a)]({'request':_0x32c81e,'schema':ti,'ClassRef':ut,'execute':(_0x1bef72,_0x4fab58)=>q[_0x6b5786(0x320)](_0x1bef72,_0x4fab58)});_0x2e4356[_0x6b5786(0x7b4)](0xc9)[_0x6b5786(0x56d)](_0x36a022);})[_0x167476(0x60e)](this['routerPath'](_0x167476(0x1cf)),..._0x299776,async(_0x21f4e1,_0x7cf570)=>{const _0x5e6e83=_0x167476;let _0x23a569=await this[_0x5e6e83(0x65a)]({'request':_0x21f4e1,'schema':Ya,'ClassRef':ht,'execute':(_0x180b4e,_0x2e25ec)=>q['toggleEphemeral'](_0x180b4e,_0x2e25ec)});_0x7cf570[_0x5e6e83(0x7b4)](0xc9)[_0x5e6e83(0x56d)](_0x23a569);})[_0x167476(0x480)](this[_0x167476(0x3cc)](_0x167476(0x340)),..._0x299776,async(_0x30317e,_0x1f6195)=>{const _0x100b8e=_0x167476;let _0x399362=await this[_0x100b8e(0x65a)]({'request':_0x30317e,'schema':Ae,'ClassRef':X,'execute':(_0xb9f34b,_0x138256)=>q[_0x100b8e(0x648)](_0xb9f34b,_0x138256)});_0x1f6195[_0x100b8e(0x7b4)](0xc8)['json'](_0x399362);})[_0x167476(0x480)](this[_0x167476(0x3cc)]('findGroups'),..._0x299776,async(_0x2ae89e,_0x11d2d2)=>{const _0x211032=_0x167476;let _0x1dc478=await this[_0x211032(0x346)]({'request':_0x2ae89e,'schema':v,'ClassRef':M,'execute':_0x35f525=>q[_0x211032(0x274)](_0x35f525)});_0x11d2d2[_0x211032(0x7b4)](0xc8)['json'](_0x1dc478);})[_0x167476(0x480)](this[_0x167476(0x3cc)](_0x167476(0x325)),..._0x299776,async(_0x1451ee,_0x3c0328)=>{const _0xbc1b92=_0x167476;let _0x9de4cc=await this[_0xbc1b92(0x65a)]({'request':_0x1451ee,'schema':Ae,'ClassRef':X,'execute':(_0x45a183,_0x574a0f)=>q[_0xbc1b92(0x27f)](_0x45a183,_0x574a0f)});_0x3c0328['status'](0xc8)[_0xbc1b92(0x56d)](_0x9de4cc);})[_0x167476(0x480)](this[_0x167476(0x3cc)](_0x167476(0x586)),..._0x299776,async(_0x4b7899,_0x57a100)=>{const _0x5b5145=_0x167476;let _0x246817=await this[_0x5b5145(0x65a)]({'request':_0x4b7899,'schema':Ae,'ClassRef':X,'execute':(_0x559d9e,_0x5c6d9b)=>q['inviteCode'](_0x559d9e,_0x5c6d9b)});_0x57a100['status'](0xc8)[_0x5b5145(0x56d)](_0x246817);})[_0x167476(0x7c4)](this[_0x167476(0x3cc)](_0x167476(0x62c)),..._0x299776,async(_0x475181,_0x4dc5d7)=>{const _0x29566f=_0x167476;let _0x22a2fa=await this[_0x29566f(0x401)]({'request':_0x475181,'schema':bs,'ClassRef':Oe,'execute':(_0x56c179,_0x41807b)=>q['groupGetInviteInfo'](_0x56c179,_0x41807b)});_0x4dc5d7[_0x29566f(0x7b4)](0xc9)[_0x29566f(0x56d)](_0x22a2fa);})[_0x167476(0x60e)](this[_0x167476(0x3cc)]('joinGroup'),..._0x299776,async(_0x860724,_0x220817)=>{const _0x3a3eb7=_0x167476;let _0x196a22=await this[_0x3a3eb7(0x401)]({'request':_0x860724,'schema':bs,'ClassRef':Oe,'execute':(_0xa8f832,_0x45bb4c)=>q[_0x3a3eb7(0x6c6)](_0xa8f832,_0x45bb4c)});_0x220817[_0x3a3eb7(0x7b4)](0xc9)['json'](_0x196a22);})[_0x167476(0x60e)](this[_0x167476(0x3cc)](_0x167476(0x612)),..._0x299776,async(_0x50affe,_0x1ca02e)=>{const _0x34ac65=_0x167476;let _0x1c10a0=await this['groupValidate']({'request':_0x50affe,'schema':Ae,'ClassRef':X,'execute':(_0x3739bb,_0x1bded1)=>q[_0x34ac65(0x612)](_0x3739bb,_0x1bded1)});_0x1ca02e[_0x34ac65(0x7b4)](0xc9)[_0x34ac65(0x56d)](_0x1c10a0);})[_0x167476(0x60e)](this['routerPath'](_0x167476(0x496)),..._0x299776,async(_0x180d28,_0xdfb94a)=>{const _0x1b5561=_0x167476;let _0x28c071=await this[_0x1b5561(0x65a)]({'request':_0x180d28,'schema':Qa,'ClassRef':pt,'execute':(_0x4e7ddc,_0x414077)=>q[_0x1b5561(0x7fc)](_0x4e7ddc,_0x414077)});_0xdfb94a[_0x1b5561(0x7b4)](0xc9)['json'](_0x28c071);})[_0x167476(0x253)](this[_0x167476(0x3cc)]('leaveGroup'),..._0x299776,async(_0x202d07,_0x4ce6f6)=>{const _0x5ae922=_0x167476;let _0x39348c=await this[_0x5ae922(0x65a)]({'request':_0x202d07,'schema':{},'ClassRef':X,'execute':(_0x33138d,_0x251f66)=>q[_0x5ae922(0x65e)](_0x33138d,_0x251f66)});_0x4ce6f6[_0x5ae922(0x7b4)](0xc8)[_0x5ae922(0x56d)](_0x39348c);});}},ri=require(a0_0x34238b(0x240)),mt=class extends V{constructor(_0x26ed42,..._0x361627){const _0xeddc08=a0_0x34238b;super(),this['configService']=_0x26ed42,this[_0xeddc08(0x4fa)]=(0x0,ri[_0xeddc08(0x6bf)])();let _0x2f041d=_0x26ed42[_0xeddc08(0x480)](_0xeddc08(0x1ca));this[_0xeddc08(0x4fa)][_0xeddc08(0x7c4)](_0xeddc08(0x7ff),..._0x361627,async(_0xf7c97a,_0x4a7d91)=>{const _0x4814d1=_0xeddc08;let {instanceName:_0xcd5415,apikey:_0x54e4ce,number:_0x1035e8}=_0xf7c97a[_0x4814d1(0x261)],_0x1a2682=await ne['createInstance']({'instanceName':_0xcd5415,'apikey':_0x54e4ce,'number':_0x1035e8});return _0x4a7d91['status'](0xc9)[_0x4814d1(0x56d)](_0x1a2682);})['put'](this[_0xeddc08(0x3cc)](_0xeddc08(0x5a0)),..._0x361627,async(_0x18beb4,_0x590bc5)=>{const _0x4d39aa=_0xeddc08;let _0x2dde47=await this['dataValidate']({'request':_0x18beb4,'schema':v,'ClassRef':M,'execute':_0x862c90=>ne[_0x4d39aa(0x3d3)](_0x862c90)});return _0x590bc5['status'](0xc8)[_0x4d39aa(0x56d)](_0x2dde47);})['get'](this[_0xeddc08(0x3cc)](_0xeddc08(0x5d8)),..._0x361627,async(_0x5f22a0,_0x476a13)=>{const _0x141816=_0xeddc08;let _0x1b124b=await this[_0x141816(0x346)]({'request':_0x5f22a0,'schema':v,'ClassRef':M,'execute':_0x18c8a2=>ne['connectToWhatsappController'](_0x18c8a2)});return _0x476a13['status'](0xc8)[_0x141816(0x56d)](_0x1b124b);})[_0xeddc08(0x480)](this[_0xeddc08(0x3cc)]('connectionState'),..._0x361627,async(_0x24eee3,_0x2167fd)=>{const _0x2e3560=_0xeddc08;let _0x3e5596=await this['dataValidate']({'request':_0x24eee3,'schema':v,'ClassRef':M,'execute':_0x1274ae=>ne[_0x2e3560(0x55e)](_0x1274ae)});return _0x2167fd[_0x2e3560(0x7b4)](0xc8)['json'](_0x3e5596);})[_0xeddc08(0x480)](this[_0xeddc08(0x3cc)](_0xeddc08(0x5cc),!0x1),..._0x361627,async(_0x307b92,_0x3b34b7)=>{const _0x595113=_0xeddc08;let _0xc969f7=await this[_0x595113(0x346)]({'request':_0x307b92,'schema':null,'ClassRef':M,'execute':_0x270141=>ne[_0x595113(0x5cc)](_0x270141)});return _0x3b34b7[_0x595113(0x7b4)](0xc8)[_0x595113(0x56d)](_0xc969f7);})['delete'](this[_0xeddc08(0x3cc)](_0xeddc08(0x1ce)),..._0x361627,async(_0x45ddff,_0x3cd165)=>{const _0x31647d=_0xeddc08;let _0x438d0b=await this[_0x31647d(0x346)]({'request':_0x45ddff,'schema':v,'ClassRef':M,'execute':_0x2cce2f=>ne[_0x31647d(0x1ce)](_0x2cce2f)});return _0x3cd165[_0x31647d(0x7b4)](0xc8)[_0x31647d(0x56d)](_0x438d0b);})[_0xeddc08(0x253)](this['routerPath'](_0xeddc08(0x253)),..._0x361627,async(_0x5b7c49,_0x6b5220)=>{const _0x48939e=_0xeddc08;let _0x2c2d2d=await this[_0x48939e(0x346)]({'request':_0x5b7c49,'schema':v,'ClassRef':M,'execute':_0x59a987=>ne[_0x48939e(0x5b6)](_0x59a987)});return _0x6b5220[_0x48939e(0x7b4)](0xc8)[_0x48939e(0x56d)](_0x2c2d2d);});}},ni=require(a0_0x34238b(0x240)),Ms=class{},W=class extends Ms{},ft=class extends W{},wt=class extends W{},yt=class extends W{},bt=class extends W{},Te=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class{},Rt=class extends V{constructor(..._0x4bb5a7){const _0x22cf63=a0_0x34238b;super(),this['router']=(0x0,ni[_0x22cf63(0x6bf)])(),this[_0x22cf63(0x4fa)][_0x22cf63(0x7c4)](this[_0x22cf63(0x3cc)](_0x22cf63(0x7b2)),..._0x4bb5a7,async(_0x5367b4,_0x37f895)=>{const _0x5230bf=_0x22cf63;let _0x9c25ce=await this[_0x5230bf(0x346)]({'request':_0x5367b4,'schema':Na,'ClassRef':ft,'execute':(_0x54c424,_0x33a67b)=>B[_0x5230bf(0x7b2)](_0x54c424,_0x33a67b)});return _0x37f895[_0x5230bf(0x7b4)](0xc9)['json'](_0x9c25ce);})['post'](this[_0x22cf63(0x3cc)]('sendMedia'),..._0x4bb5a7,async(_0x48a2cc,_0x4240f9)=>{const _0x5e01aa=_0x22cf63;let _0x4e28d4=await this[_0x5e01aa(0x346)]({'request':_0x48a2cc,'schema':Oa,'ClassRef':Te,'execute':(_0x292169,_0x5c22f6)=>B[_0x5e01aa(0x6d3)](_0x292169,_0x5c22f6)});return _0x4240f9['status'](0xc9)[_0x5e01aa(0x56d)](_0x4e28d4);})[_0x22cf63(0x7c4)](this[_0x22cf63(0x3cc)](_0x22cf63(0x2d4)),..._0x4bb5a7,async(_0x27d8b1,_0x4d226b)=>{const _0x548421=_0x22cf63;let _0x546fe5=await this[_0x548421(0x346)]({'request':_0x27d8b1,'schema':xa,'ClassRef':bt,'execute':(_0x17fba0,_0x56aa29)=>B['sendMenu'](_0x17fba0,_0x56aa29)});return _0x4d226b['status'](0xc9)[_0x548421(0x56d)](_0x546fe5);})['post'](this[_0x22cf63(0x3cc)](_0x22cf63(0x80f)),..._0x4bb5a7,async(_0x102a2f,_0x54b183)=>{const _0x25ab87=_0x22cf63;let _0x45d1e8=await this['dataValidate']({'request':_0x102a2f,'schema':Ta,'ClassRef':Te,'execute':(_0x555b5b,_0x5203e2)=>B[_0x25ab87(0x80f)](_0x555b5b,_0x5203e2)});return _0x54b183[_0x25ab87(0x7b4)](0xc9)[_0x25ab87(0x56d)](_0x45d1e8);})[_0x22cf63(0x7c4)](this[_0x22cf63(0x3cc)]('sendButtons'),..._0x4bb5a7,async(_0x158359,_0x416109)=>{const _0x38eae6=_0x22cf63;let _0x129244=await this[_0x38eae6(0x346)]({'request':_0x158359,'schema':Da,'ClassRef':Mt,'execute':(_0x5401e8,_0x5b23dc)=>B['sendButtons'](_0x5401e8,_0x5b23dc)});return _0x416109[_0x38eae6(0x7b4)](0xc9)[_0x38eae6(0x56d)](_0x129244);})['post'](this[_0x22cf63(0x3cc)](_0x22cf63(0x49e)),..._0x4bb5a7,async(_0x12bcb2,_0x47689a)=>{const _0x3bd0b6=_0x22cf63;let _0x1c1412=await this[_0x3bd0b6(0x346)]({'request':_0x12bcb2,'schema':_a,'ClassRef':Ct,'execute':(_0xcd22c,_0x22fea9)=>B['sendLocation'](_0xcd22c,_0x22fea9)});return _0x47689a[_0x3bd0b6(0x7b4)](0xc9)['json'](_0x1c1412);})[_0x22cf63(0x7c4)](this[_0x22cf63(0x3cc)](_0x22cf63(0x5af)),..._0x4bb5a7,async(_0x467730,_0x2a7f9a)=>{const _0x42d707=_0x22cf63;let _0x2ab05c=await this[_0x42d707(0x346)]({'request':_0x467730,'schema':Pa,'ClassRef':Et,'execute':(_0x104a7f,_0x15eb72)=>B[_0x42d707(0x5af)](_0x104a7f,_0x15eb72)});return _0x2a7f9a[_0x42d707(0x7b4)](0xc9)[_0x42d707(0x56d)](_0x2ab05c);})[_0x22cf63(0x7c4)](this[_0x22cf63(0x3cc)](_0x22cf63(0x667)),..._0x4bb5a7,async(_0x3d2e0f,_0x3ed6d7)=>{const _0x1d3859=_0x22cf63;let _0x5f19f9=await this[_0x1d3859(0x346)]({'request':_0x3d2e0f,'schema':ka,'ClassRef':vt,'execute':(_0x3edd31,_0x5e7ca6)=>B['sendContact'](_0x3edd31,_0x5e7ca6)});return _0x3ed6d7['status'](0xc9)[_0x1d3859(0x56d)](_0x5f19f9);})['post'](this[_0x22cf63(0x3cc)](_0x22cf63(0x23d)),..._0x4bb5a7,async(_0x27992e,_0x266335)=>{const _0x50675d=_0x22cf63;let _0x505633=await this['dataValidate']({'request':_0x27992e,'schema':ja,'ClassRef':Nt,'execute':(_0x4bee77,_0x49925c)=>B[_0x50675d(0x23d)](_0x4bee77,_0x49925c)});return _0x266335[_0x50675d(0x7b4)](0xc9)['json'](_0x505633);})['post'](this[_0x22cf63(0x3cc)]('sendPoll'),..._0x4bb5a7,async(_0x24130f,_0x3610ce)=>{const _0x387632=_0x22cf63;let _0x4c080a=await this[_0x387632(0x346)]({'request':_0x24130f,'schema':Ia,'ClassRef':yt,'execute':(_0x56481e,_0x265a85)=>B[_0x387632(0x187)](_0x56481e,_0x265a85)});return _0x3610ce[_0x387632(0x7b4)](0xc9)[_0x387632(0x56d)](_0x4c080a);})[_0x22cf63(0x7c4)](this[_0x22cf63(0x3cc)]('sendStatus'),..._0x4bb5a7,async(_0xb1a4b6,_0x1147a1)=>{const _0x164193=_0x22cf63;let _0x4c8d35=await this[_0x164193(0x346)]({'request':_0xb1a4b6,'schema':Aa,'ClassRef':wt,'execute':(_0x5c7e3c,_0x511477)=>B[_0x164193(0x3ff)](_0x5c7e3c,_0x511477)});return _0x1147a1[_0x164193(0x7b4)](0xc9)[_0x164193(0x56d)](_0x4c8d35);})[_0x22cf63(0x7c4)](this[_0x22cf63(0x3cc)](_0x22cf63(0x2d3)),..._0x4bb5a7,async(_0x24650e,_0x4a438e)=>{const _0x4e62a8=_0x22cf63;let _0x40b2ee=await this[_0x4e62a8(0x346)]({'request':_0x24650e,'schema':$a,'ClassRef':St,'execute':(_0x23b4e2,_0x102740)=>B[_0x4e62a8(0x2d3)](_0x23b4e2,_0x102740)});return _0x4a438e['status'](0xc9)[_0x4e62a8(0x56d)](_0x40b2ee);});}},ci=require(a0_0x34238b(0x240)),$t=class{},At=class extends V{constructor(..._0x808475){const _0x9677cb=a0_0x34238b;super(),this['router']=(0x0,ci[_0x9677cb(0x6bf)])(),this[_0x9677cb(0x4fa)][_0x9677cb(0x7c4)](this[_0x9677cb(0x3cc)](_0x9677cb(0x339)),..._0x808475,async(_0x1c5f9b,_0x35e4df)=>{const _0x4fa0b8=_0x9677cb;let _0xcd9aaf=await this[_0x4fa0b8(0x346)]({'request':_0x1c5f9b,'schema':ai,'ClassRef':$t,'execute':(_0x3cebe4,_0x18838b)=>Cs['createWebhook'](_0x3cebe4,_0x18838b)});_0x35e4df[_0x4fa0b8(0x7b4)](0xc9)['json'](_0xcd9aaf);})[_0x9677cb(0x480)](this[_0x9677cb(0x3cc)](_0x9677cb(0x802)),..._0x808475,async(_0x5959ad,_0x3abcdb)=>{const _0x29564f=_0x9677cb;let _0x251497=await this[_0x29564f(0x346)]({'request':_0x5959ad,'schema':v,'ClassRef':M,'execute':_0x195cb1=>Cs[_0x29564f(0x4fc)](_0x195cb1)});_0x3abcdb['status'](0xc8)[_0x29564f(0x56d)](_0x251497);});}},li=require(a0_0x34238b(0x240)),y=new R('FlowRouter'),Ot=class extends V{constructor(..._0x24a386){const _0x4d92e9=a0_0x34238b;super(),this[_0x4d92e9(0x4fa)]=(0x0,li[_0x4d92e9(0x6bf)])(),this[_0x4d92e9(0x4fa)][_0x4d92e9(0x7c4)](this[_0x4d92e9(0x3cc)]('scheduleMessage'),..._0x24a386,async(_0x3fc001,_0x42a6cd)=>{const _0x3469d1=_0x4d92e9;let _0x2fa41a=_0x3fc001[_0x3469d1(0x261)];y[_0x3469d1(0x2da)](_0x3469d1(0x64f)),y[_0x3469d1(0x2da)](_0x3469d1(0x281)),y['verbose'](_0x3fc001[_0x3469d1(0x261)]);let _0x1800b0=await this[_0x3469d1(0x346)]({'request':_0x3fc001,'schema':v,'ClassRef':M,'execute':_0x38a227=>A[_0x3469d1(0x19b)](_0x38a227,_0x2fa41a)});_0x42a6cd[_0x3469d1(0x7b4)](0xc8)['json'](_0x1800b0);})['get'](this[_0x4d92e9(0x3cc)]('scheduleMessage'),..._0x24a386,async(_0x523174,_0x2a1259)=>{const _0x31c2ca=_0x4d92e9;let _0x150b33=await this[_0x31c2ca(0x346)]({'request':_0x523174,'schema':v,'ClassRef':M,'execute':_0x598ee6=>A['getScheduleMessage'](_0x598ee6)});_0x2a1259[_0x31c2ca(0x7b4)](0xc8)[_0x31c2ca(0x56d)](_0x150b33);})['delete'](this[_0x4d92e9(0x3cc)](_0x4d92e9(0x28c)),..._0x24a386,async(_0x1ced3b,_0xeea98e)=>{const _0x54ac48=_0x4d92e9;y[_0x54ac48(0x2da)](_0x54ac48(0x1be));let _0x3c02d7=await this[_0x54ac48(0x346)]({'request':_0x1ced3b,'schema':v,'ClassRef':M,'execute':_0x412460=>A[_0x54ac48(0x28c)](_0x412460)});_0xeea98e[_0x54ac48(0x7b4)](0xc8)['json'](_0x3c02d7);})[_0x4d92e9(0x7c4)](this['routerPath'](_0x4d92e9(0x775)),..._0x24a386,async(_0xb348ec,_0x235037)=>{const _0x3acb30=_0x4d92e9;let _0x37ae05=_0xb348ec[_0x3acb30(0x261)];y[_0x3acb30(0x2da)](_0x3acb30(0x5b0)),y[_0x3acb30(0x2da)](_0x3acb30(0x281)),y['verbose'](_0xb348ec[_0x3acb30(0x261)]);let _0x16a017=await this[_0x3acb30(0x346)]({'request':_0xb348ec,'schema':v,'ClassRef':M,'execute':_0xfc58c7=>A[_0x3acb30(0x775)](_0xfc58c7,_0x37ae05)});_0x235037[_0x3acb30(0x7b4)](0xc8)[_0x3acb30(0x56d)](_0x16a017);})[_0x4d92e9(0x480)](this[_0x4d92e9(0x3cc)](_0x4d92e9(0x7ae)),..._0x24a386,async(_0x234b6a,_0x24dca0)=>{const _0xc58ef8=_0x4d92e9;y[_0xc58ef8(0x2da)](_0xc58ef8(0x27e));let _0x50bbf2=await this[_0xc58ef8(0x346)]({'request':_0x234b6a,'schema':v,'ClassRef':M,'execute':_0x21c9be=>A[_0xc58ef8(0x7ae)](_0x21c9be)});_0x24dca0['status'](0xc8)[_0xc58ef8(0x56d)](_0x50bbf2);})[_0x4d92e9(0x480)](this[_0x4d92e9(0x3cc)](_0x4d92e9(0x164)),..._0x24a386,async(_0x31d49c,_0x11ea14)=>{const _0xc8fdb7=_0x4d92e9;y['verbose'](_0xc8fdb7(0x20b));let _0x1bc701=await this['dataValidate']({'request':_0x31d49c,'schema':v,'ClassRef':M,'execute':_0x2500fe=>A[_0xc8fdb7(0x7ae)](_0x2500fe)});_0x11ea14[_0xc8fdb7(0x7b4)](0xc8)[_0xc8fdb7(0x56d)](_0x1bc701);})[_0x4d92e9(0x7c4)](this[_0x4d92e9(0x3cc)](_0x4d92e9(0x675)),..._0x24a386,async(_0x14a05e,_0x5d9dc7)=>{const _0x1e317f=_0x4d92e9;let _0x42d3ef=_0x14a05e[_0x1e317f(0x261)];y['verbose'](_0x1e317f(0x4ac)),y[_0x1e317f(0x2da)](_0x1e317f(0x281)),y[_0x1e317f(0x2da)](_0x14a05e[_0x1e317f(0x261)]);let _0x25e11c=await this[_0x1e317f(0x346)]({'request':_0x14a05e,'schema':v,'ClassRef':M,'execute':_0x594a9b=>A['updateAgent'](_0x594a9b,_0x42d3ef)});_0x5d9dc7[_0x1e317f(0x7b4)](0xc8)[_0x1e317f(0x56d)](_0x25e11c);})['post'](this[_0x4d92e9(0x3cc)](_0x4d92e9(0x555)),..._0x24a386,async(_0x4eb64c,_0x518d62)=>{const _0x391a44=_0x4d92e9;let _0x49f160=_0x4eb64c[_0x391a44(0x261)];y[_0x391a44(0x2da)](_0x391a44(0x37d)),y['verbose'](_0x391a44(0x281)),y[_0x391a44(0x2da)](_0x4eb64c[_0x391a44(0x261)]);let _0x70fbef=await this[_0x391a44(0x346)]({'request':_0x4eb64c,'schema':v,'ClassRef':M,'execute':_0x596db4=>A[_0x391a44(0x555)](_0x596db4,_0x49f160)});_0x518d62[_0x391a44(0x7b4)](0xc8)[_0x391a44(0x56d)](_0x70fbef);})[_0x4d92e9(0x7c4)](this[_0x4d92e9(0x3cc)](_0x4d92e9(0x2a6)),..._0x24a386,async(_0x405c1c,_0x2170fd)=>{const _0x529230=_0x4d92e9;let _0x57383c=_0x405c1c[_0x529230(0x261)];y[_0x529230(0x2da)](_0x529230(0x7b6)),y['verbose']('request\x20body:\x20'),y[_0x529230(0x2da)](_0x405c1c[_0x529230(0x261)]);let _0x32de19=await this['dataValidate']({'request':_0x405c1c,'schema':v,'ClassRef':M,'execute':_0x335bce=>A[_0x529230(0x2a6)](_0x335bce,_0x57383c)});_0x2170fd[_0x529230(0x7b4)](0xc8)[_0x529230(0x56d)](_0x32de19);})['post'](this['routerPath'](_0x4d92e9(0x6dd)),..._0x24a386,async(_0x30bc0c,_0x4a1ccf)=>{const _0x16f7c0=_0x4d92e9;let _0x3c5947=_0x30bc0c['body'];y[_0x16f7c0(0x2da)](_0x16f7c0(0x75f)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x30bc0c[_0x16f7c0(0x261)]);let _0x13f1c0=await this[_0x16f7c0(0x346)]({'request':_0x30bc0c,'schema':v,'ClassRef':M,'execute':_0x87da65=>A[_0x16f7c0(0x6dd)](_0x87da65,_0x3c5947)});_0x4a1ccf['status'](0xc8)[_0x16f7c0(0x56d)](_0x13f1c0);})['post'](this['routerPath'](_0x4d92e9(0x2fc)),..._0x24a386,async(_0xb4df1f,_0x217e45)=>{const _0x3eafb3=_0x4d92e9;let _0x2eff73=_0xb4df1f['body'];y[_0x3eafb3(0x2da)](_0x3eafb3(0x7c3)),y[_0x3eafb3(0x2da)](_0x3eafb3(0x281)),y['verbose'](_0xb4df1f[_0x3eafb3(0x261)]);let _0x126670=await this[_0x3eafb3(0x346)]({'request':_0xb4df1f,'schema':v,'ClassRef':M,'execute':_0x23c331=>A[_0x3eafb3(0x2fc)](_0x23c331,_0x2eff73)});_0x217e45[_0x3eafb3(0x7b4)](0xc8)['json'](_0x126670);})[_0x4d92e9(0x7c4)](this[_0x4d92e9(0x3cc)](_0x4d92e9(0x61b)),..._0x24a386,async(_0x3fa3f1,_0xb31872)=>{const _0x2fdc57=_0x4d92e9;let _0x10b3a5=_0x3fa3f1['body'];y[_0x2fdc57(0x2da)]('request\x20received\x20in\x20fetchConversation'),y['verbose'](_0x2fdc57(0x281)),y[_0x2fdc57(0x2da)](_0x3fa3f1[_0x2fdc57(0x261)]);let _0xb39ab9=await this['dataValidate']({'request':_0x3fa3f1,'schema':v,'ClassRef':M,'execute':_0x3a855c=>A['fetchConversation'](_0x3a855c,_0x10b3a5)});_0xb31872['status'](0xc8)['json'](_0xb39ab9);})[_0x4d92e9(0x7c4)](this['routerPath'](_0x4d92e9(0x37e)),..._0x24a386,async(_0x4e1cd5,_0x4cc663)=>{const _0x1e07f1=_0x4d92e9;let _0x19fda3=_0x4e1cd5['body'];y[_0x1e07f1(0x2da)](_0x1e07f1(0x6ea)),y[_0x1e07f1(0x2da)](_0x1e07f1(0x281)),y[_0x1e07f1(0x2da)](_0x4e1cd5['body']);let _0x1c3a67=await this[_0x1e07f1(0x346)]({'request':_0x4e1cd5,'schema':v,'ClassRef':M,'execute':_0x2ae233=>A[_0x1e07f1(0x37e)](_0x2ae233,_0x19fda3)});_0x4cc663['status'](0xc8)[_0x1e07f1(0x56d)](_0x1c3a67);})['delete'](this['routerPath'](_0x4d92e9(0x7cc)),..._0x24a386,async(_0xf602f1,_0x48c00f)=>{const _0x380c1d=_0x4d92e9;let _0x264182=_0xf602f1[_0x380c1d(0x261)];y[_0x380c1d(0x2da)]('request\x20received\x20in\x20deleteConversation'),y[_0x380c1d(0x2da)](_0x380c1d(0x281)),y[_0x380c1d(0x2da)](_0xf602f1['body']);let _0x5acd94=await this[_0x380c1d(0x346)]({'request':_0xf602f1,'schema':v,'ClassRef':M,'execute':_0x5e6c13=>A[_0x380c1d(0x7cc)](_0x5e6c13,_0x264182)});_0x48c00f[_0x380c1d(0x7b4)](0xc8)['json'](_0x5acd94);})[_0x4d92e9(0x7c4)](this['routerPath'](_0x4d92e9(0x421)),..._0x24a386,async(_0x540916,_0x513a25)=>{const _0x4ff686=_0x4d92e9;let _0x104c2f=_0x540916[_0x4ff686(0x261)],_0x6344eb=_0x540916['headers']['apikey'];y[_0x4ff686(0x2da)](_0x4ff686(0x536)),y[_0x4ff686(0x2da)](_0x4ff686(0x281)),y[_0x4ff686(0x2da)](_0x540916['body']);let _0x3ec36a=await this['dataValidate']({'request':_0x540916,'schema':v,'ClassRef':M,'execute':_0x59e013=>A['createFlow'](_0x59e013,_0x104c2f,_0x6344eb)});_0x513a25[_0x4ff686(0x7b4)](0xc8)[_0x4ff686(0x56d)](_0x3ec36a);})[_0x4d92e9(0x7c4)](this['routerPath']('editflow'),..._0x24a386,async(_0x5fa604,_0xadbf0d)=>{const _0x54c3ed=_0x4d92e9;let _0x2ce52a=_0x5fa604[_0x54c3ed(0x261)],_0x4797f3=_0x5fa604[_0x54c3ed(0x3a8)][_0x54c3ed(0x4ba)];y['verbose'](_0x54c3ed(0x6de)),y[_0x54c3ed(0x2da)](_0x54c3ed(0x281)),y[_0x54c3ed(0x2da)](_0x5fa604[_0x54c3ed(0x261)]),delete _0x2ce52a[_0x54c3ed(0x3ea)],delete _0x2ce52a[_0x54c3ed(0x60d)],delete _0x2ce52a['groups'],delete _0x2ce52a['conditions'];let _0x23a848=await this[_0x54c3ed(0x346)]({'request':_0x5fa604,'schema':v,'ClassRef':M,'execute':_0xafb6d8=>A[_0x54c3ed(0x326)](_0xafb6d8,_0x2ce52a,_0x4797f3)});_0xadbf0d[_0x54c3ed(0x7b4)](0xc8)['json'](_0x23a848);})['post'](this[_0x4d92e9(0x3cc)](_0x4d92e9(0x639)),..._0x24a386,async(_0x423ed1,_0x3b2c3b)=>{const _0x46b241=_0x4d92e9;let _0x144a53=_0x423ed1[_0x46b241(0x261)],_0x560c01=_0x423ed1[_0x46b241(0x3a8)][_0x46b241(0x4ba)];y[_0x46b241(0x2da)](_0x46b241(0x6de)),y[_0x46b241(0x2da)]('request\x20body:\x20'),y[_0x46b241(0x2da)](_0x423ed1['body']);let _0x493823=await this['dataValidate']({'request':_0x423ed1,'schema':v,'ClassRef':M,'execute':_0x46af47=>A['editFlowBlock'](_0x46af47,_0x144a53,_0x560c01)});_0x3b2c3b['status'](0xc8)[_0x46b241(0x56d)](_0x493823);})[_0x4d92e9(0x7c4)](this[_0x4d92e9(0x3cc)](_0x4d92e9(0x59a)),..._0x24a386,async(_0x5be8c5,_0x560056)=>{const _0x565c50=_0x4d92e9;let _0x7e056f=_0x5be8c5[_0x565c50(0x261)],_0x1d1a5b=_0x5be8c5['headers'][_0x565c50(0x4ba)];y[_0x565c50(0x2da)]('request\x20received\x20in\x20editFlow'),y[_0x565c50(0x2da)](_0x565c50(0x281)),y[_0x565c50(0x2da)](_0x5be8c5[_0x565c50(0x261)]);let _0x384880=await this[_0x565c50(0x346)]({'request':_0x5be8c5,'schema':v,'ClassRef':M,'execute':_0x5d8917=>A[_0x565c50(0x666)](_0x5d8917,_0x7e056f,_0x1d1a5b)});_0x560056['status'](0xc8)[_0x565c50(0x56d)](_0x384880);})['post'](this[_0x4d92e9(0x3cc)](_0x4d92e9(0x66d)),..._0x24a386,async(_0x32e2ec,_0x493ca9)=>{const _0x11c179=_0x4d92e9;let _0x18831f=_0x32e2ec[_0x11c179(0x261)],_0x4cc782=_0x32e2ec[_0x11c179(0x3a8)][_0x11c179(0x4ba)];y[_0x11c179(0x2da)]('request\x20received\x20in\x20editFlow'),y[_0x11c179(0x2da)](_0x11c179(0x281)),y['verbose'](_0x32e2ec['body']);let _0x4a5031=await this[_0x11c179(0x346)]({'request':_0x32e2ec,'schema':v,'ClassRef':M,'execute':_0x3e26d7=>A[_0x11c179(0x3af)](_0x3e26d7,_0x18831f,_0x4cc782)});_0x493ca9[_0x11c179(0x7b4)](0xc8)[_0x11c179(0x56d)](_0x4a5031);})['post'](this[_0x4d92e9(0x3cc)](_0x4d92e9(0x2ac)),..._0x24a386,async(_0x4685a2,_0x459352)=>{const _0x6f4bec=_0x4d92e9;let _0x18aaae=_0x4685a2[_0x6f4bec(0x261)],_0x6c4911=_0x4685a2[_0x6f4bec(0x3a8)][_0x6f4bec(0x4ba)];y[_0x6f4bec(0x2da)](_0x6f4bec(0x7db)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x4685a2[_0x6f4bec(0x261)]);let _0x117dcd=await this[_0x6f4bec(0x346)]({'request':_0x4685a2,'schema':v,'ClassRef':M,'execute':_0x4f4201=>A['editFlowGroup'](_0x4f4201,_0x18aaae,_0x6c4911)});_0x459352[_0x6f4bec(0x7b4)](0xc8)[_0x6f4bec(0x56d)](_0x117dcd);})[_0x4d92e9(0x7c4)](this[_0x4d92e9(0x3cc)](_0x4d92e9(0x362)),..._0x24a386,async(_0x434338,_0x2ea4f2)=>{const _0x407c2b=_0x4d92e9;let _0xee1c06=_0x434338['body'],_0x453d95=_0x434338[_0x407c2b(0x3a8)][_0x407c2b(0x4ba)];y[_0x407c2b(0x2da)](_0x407c2b(0x351)),y[_0x407c2b(0x2da)](_0x407c2b(0x281)),y[_0x407c2b(0x2da)](_0x434338['body']);let _0x4f0c95=await this[_0x407c2b(0x346)]({'request':_0x434338,'schema':v,'ClassRef':M,'execute':_0xbb64f1=>A['editFlowCondition'](_0xbb64f1,_0xee1c06,_0x453d95)});_0x2ea4f2[_0x407c2b(0x7b4)](0xc8)[_0x407c2b(0x56d)](_0x4f0c95);})[_0x4d92e9(0x7c4)](this[_0x4d92e9(0x3cc)]('editflowvariable'),..._0x24a386,async(_0x8eddfd,_0x4b71d0)=>{const _0x248094=_0x4d92e9;let _0x553b67=_0x8eddfd[_0x248094(0x261)],_0x18f765=_0x8eddfd[_0x248094(0x3a8)]['apikey'];y[_0x248094(0x2da)](_0x248094(0x318)),y[_0x248094(0x2da)](_0x248094(0x281)),y[_0x248094(0x2da)](_0x8eddfd[_0x248094(0x261)]);let _0x425308=await this['dataValidate']({'request':_0x8eddfd,'schema':v,'ClassRef':M,'execute':_0x318d21=>A[_0x248094(0x462)](_0x318d21,_0x553b67,_0x18f765)});_0x4b71d0['status'](0xc8)[_0x248094(0x56d)](_0x425308);})['post'](this[_0x4d92e9(0x3cc)](_0x4d92e9(0x60c)),..._0x24a386,async(_0x5e4ada,_0x153861)=>{const _0x51b0ac=_0x4d92e9;let _0x5db6c8=_0x5e4ada['body'];y[_0x51b0ac(0x2da)]('request\x20received\x20in\x20getFlow'),y[_0x51b0ac(0x2da)]('request\x20body:\x20'),y[_0x51b0ac(0x2da)](_0x5e4ada[_0x51b0ac(0x261)]);let _0x10d855=await this['dataValidate']({'request':_0x5e4ada,'schema':v,'ClassRef':M,'execute':_0x2e5027=>A[_0x51b0ac(0x18d)](_0x2e5027,_0x5db6c8)});_0x153861[_0x51b0ac(0x7b4)](0xc8)[_0x51b0ac(0x56d)](_0x10d855);})[_0x4d92e9(0x253)](this[_0x4d92e9(0x3cc)]('deleteflow'),..._0x24a386,async(_0x5ecc9e,_0x2b128c)=>{const _0x178191=_0x4d92e9;let _0x7cb88b=_0x5ecc9e['body'],_0x4804e7=_0x5ecc9e['headers'][_0x178191(0x4ba)];y[_0x178191(0x2da)](_0x178191(0x1f9)),y['verbose'](_0x178191(0x281)),y[_0x178191(0x2da)](_0x5ecc9e[_0x178191(0x261)]);let _0x585e23=await this[_0x178191(0x346)]({'request':_0x5ecc9e,'schema':v,'ClassRef':M,'execute':_0x42037c=>A['deleteFlow'](_0x42037c,_0x7cb88b,_0x4804e7)});_0x2b128c[_0x178191(0x7b4)](0xc8)[_0x178191(0x56d)](_0x585e23);})[_0x4d92e9(0x480)](this[_0x4d92e9(0x3cc)]('allflows'),..._0x24a386,async(_0x4c2749,_0x4a3e88)=>{const _0x4b649f=_0x4d92e9;y[_0x4b649f(0x2da)]('request\x20received\x20in\x20allFlows');let _0x455d6a=await this[_0x4b649f(0x346)]({'request':_0x4c2749,'schema':v,'ClassRef':M,'execute':_0x423a76=>A[_0x4b649f(0x517)](_0x423a76)});_0x4a3e88[_0x4b649f(0x7b4)](0xc8)[_0x4b649f(0x56d)](_0x455d6a);});}},hi=O(require(a0_0x34238b(0x74d))),Z={};function ui(_0x4df82e,_0x1e49d5,_0x1d29da,_0x4308ea){Z[_0x4df82e]||(Z[_0x4df82e]={}),Z[_0x4df82e][_0x1e49d5]={'id':_0x1e49d5,'response':_0x1d29da,'events':_0x4308ea};}function di(_0xc91963,_0x5bac4b){!Z[_0xc91963]||!Z[_0xc91963][_0x5bac4b]||delete Z[_0xc91963][_0x5bac4b];}function J(_0x508903,_0x558ba1,_0x1d58b8){const _0x1a2bf9=a0_0x34238b;if(!Z[_0x508903])return;let _0x2dd90b=_0x1a2bf9(0x258)+JSON[_0x1a2bf9(0x4eb)](_0x1d58b8)+'\x0a\x0a';Object[_0x1a2bf9(0x4c5)](Z[_0x508903])[_0x1a2bf9(0x44e)](_0x1252db=>{const _0x1320b3=_0x1a2bf9;_0x1252db[_0x1320b3(0x17b)][_0x1320b3(0x331)](_0x558ba1)&&_0x1252db[_0x1320b3(0x1b2)][_0x1320b3(0x272)](_0x2dd90b);});}function pi(){const _0x5a5648=a0_0x34238b;let _0x52aca5={};for(let _0x138f52 in Z)_0x52aca5[_0x138f52]=Object['values'](Z[_0x138f52])[_0x5a5648(0x643)](_0x386f58=>({'id':_0x386f58['id'],'events':_0x386f58[_0x5a5648(0x17b)]}));return _0x52aca5;}var gi=require(a0_0x34238b(0x247)),vs=require(a0_0x34238b(0x731)),Es=class{},wo=new vs['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),yo=new vs[(a0_0x34238b(0x312))]({'_id':{'type':String,'default':a0_0x34238b(0x278)},'WebhookGlobal':{'type':wo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=$?.['model'](Es['name'],yo,'All_Instances_Config'),bo=hi['default'][a0_0x34238b(0x692)](__dirname,'downloads'),Ie=(0x0,Tt['Router'])(),So=S['get'](a0_0x34238b(0x1ca))['TYPE'],ie=[Sa,Ma,va[So]];function a0_0x4223(){const _0x5a61ba=['METHODS','lowerCase','/instance/create','https://uazapi-plugin.bubbleapps.io/?url=','evaluateCondition','_activedCount',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','URL','profilePictureUrl','processConditions','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','round','findByIdAndUpdate','mediaSticker','):\x20[messages.update]\x20group\x20ignored','Erro\x20ao\x20deletar\x20chat:','quoted','DOCKER_ENV','Erro\x20ao\x20importar\x20chats','unlocked','getLastMessage','resetReconnectionVariables','findManyByIds','path','):\x20mediaMessageInfoId\x20:\x20','StartBot','chatModify','):\x20debug\x20alterando\x20this.AutomateSystem','assign','contactHandle','[all]','author','\x0a{\x20instance:\x20','model','):\x20transformedCustomFieldVariables','deletedCount','Erro\x20do\x20Certbot:\x20','scheduled','truncatedtoEnd','created','scheduleNextCheck','request\x20received\x20in\x20updateFlowConfig','content','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','isURL','parseInt','labelId','Error\x20removing\x20unused\x20chat\x20fields:','scheduleMessage','none','sharp','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','uazapiSendAudio','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','groupdata','.ogv','pollMessageOnDelete','remoteJids','):\x20newFirstValue\x20após\x20replaceVariables:','):\x20Flow\x20desativado','organization','basename','\x1b[36m','startFlow','):\x20Bloco\x20original\x20para\x20cópia:\x20','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','sort','Authentication\x20error','defineAuthState','importChats','\x22\x20not\x20found','\x1b[46m','announcement','ScheduleMessageModel','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','sendDataWebhook','^\x5cd+','connectionClosed','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','editFlowBlock','locationMessage','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','getClient','REDIS_PREFIX_KEY','):Sending\x20audio\x20whatsapp','setRestartTimeout','isConnected','https://api.ipify.org?format=json','pairingCode','):\x20Conversa\x20atualizada\x20em\x20memória','unreadcount','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','minutesToClose','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','@broadcast','updateGParticipant','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','flow','\x0a*Você\x20respondeu*:\x0a','getConversationModelForOwner','keyPattern','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','video-cover.png','labels.association','originalUrl','\x20\x1b[0m','emit','flush','count','isLong','varedits','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','phoneNumber','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','sem\x20texto\x20na\x20mensagem','CHATS_DELETE','content-type','getAutomateSystem','/instance/delete','apiName','conversationTimestamp','sendText','messages.upsert','status','PRIVKEY','request\x20received\x20in\x20updateAutoCompleteMessages','delayChatLabel','timeout','width','PASSWORD','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','host','):\x20Falha\x20ao\x20deletar\x20mensagem.','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','group','fetchProfilePicture','agents','method','request\x20received\x20in\x20getConversation','post','):\x20Visualizando\x20AutomateSystem','):\x20Erro\x20durante\x20a\x20atualização:\x20','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','?timestamp=','Erro\x20ao\x20deletar\x20mensagens:','flowIgnoreGroups','deleteConversation','STORE_CLEANING_TERMINAL','_pushName','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','):\x20Iniciando\x20bot...','fileLength','uazapi','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','\x1b[41m','Chat\x20com\x20ID\x20','USER','chatHandle','add','CONNECTION_UPDATE','CONNECTION','request\x20received\x20in\x20editFlowgroup','SERVER_OFFLINE','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','all_member_add','/webhook','AutomateSystem','release','command','toLowerCase','https://ipinfo.io/json','):Image\x20created','stanzaId','lastDisconnect','\x22,\x20valor\x20a\x20substituir:\x20\x22','expiration','groupJid','\x1b[32m','detail','GROUPS_UPDATE','matchRegex','cpf','sending','removeChatLabel','Error\x20fetching\x20and\x20updating\x20profile:\x20','\x20:\x20','throwAndLogError','group-participants.update','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Comando\x20desconhecido','lastCondition','media','/wa-connection-update','updateGParticipate','chat','NO_IP','/create','exit','MAX_RECONNECT_ATTEMPTS','find','Número\x20não\x20possui\x20WhatsApp.','dbClient','processScheduleFlow','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','vote','processUazapi','createNewConversation',',\x20valor\x20passado:\x20\x22','./.git/config','authModel','uncaughtException','sendWhatsAppAudio','exists','\x20minutos','STATUS_INSTANCE','):\x20Ignoring\x20group\x20messages.','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','Atualização:\x20','Início','jid','Read\x20messages','Erro\x20ao\x20atualizar\x20o\x20documento:','instance.','#6f7bcf','pushName','title','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','oldToken','authorization','lastReceivedMessage','groups','\x20-\x20JID:\x20','updateOnlinePrivacy','createFlow','result','findAndReplace','626bVHfjz','Content-Type','requestPairingCode','label_jid','creation','\x0aFN:','Variável\x20não\x20encontrada!','PORT','/wa-qrcode','fone','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','Logger','contacts.upsert','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','createServer','start','qrcode','replaceVariablesChat','):Audio\x20converted\x20and\x20stored\x20in\x20cache','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','updateConversation','isJidGroup','beautifyWithPlaceholders','updateGroupWebhook','stderr','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','hex','sendMessage','isListOfNumbers','REDIS_URI','AutomateSystem\x20não\x20foi\x20inicializado','ObjectId','Flow\x20iniciado\x20com\x20','synchronizeFlows','defineProperty','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','tags','getTicketSystem','listResponseMessage','stopConversation','\x20-\x20retornado:\x20','findOneAndUpdate','/config','fetchProfilePictureUrl','Erro\x20ao\x20inserir\x20chats:','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','isBase64','waitingMenu_replyOptions','DATABASE','):\x20newSecondValue\x20após\x20replaceVariables:','getMessage','Subscribed\x20Events:','connectionUpdate','startID','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','nome','.TEL;waid=','status@broadcast','getScheduleMessage','downloads','events','This\x20name\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','Error\x20updating\x20cache\x20contact:','ContactModel','out','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','processing_id','condition','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','instanceName','instanceKeys','sendPoll','SendScheduleMessage','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','groupMetadata','recording','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','getFlow','wuid','Erro\x20ao\x20encerrar\x20a\x20API','subject','E-mail:\x20','KEY','findLabels','value','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','deleteReplyOption','ignoreGroups','STORE_MESSAGE','flushHeaders','):\x20Going\x20to\x20','editScheduleMessage','Validate','\x20-\x20ON:\x20','://','editOperator','):Output\x20path:\x20','verifyWhatsAppNumber','remove.instance','address','flowActive','pollCreationMessageKey','sleep','description','readData','setUpdate','#ffffff','):\x20expirationTime:\x20','/wa-groups','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','groupadd','blockLogs','gifPlayback','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','response','addReplyOption','Conexão\x20estabelecida','PRESENCE_UPDATE','connecting','):\x20Conversa\x20está\x20expirada','waitingMenu_text','Nenhum\x20participante\x20válido\x20encontrado.','DisconnectReason','_Labels','getHours','deleteOne','request\x20received\x20in\x20deleteDoneMessages','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','desc','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','Font\x20is\x20required','ReplyOption\x20com\x20ID\x20','updateProfilePicture','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','/wa-contacts','READ','bodyString','.wav','AUTHENTICATION','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','readMessages','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','logout','toggleEphemeral','cachedContact','digest','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','QRCODE_UPDATED','addChatLabel','getDevice','waitingMenu_ExpiredMessage','AutomateFunctions','dbInstance','removeData','contact','):\x20','delay','latitude','Not\x20Found','CONTACTS_SET','closeExistingConversations','\x20segundos','chats','sim','\x1b[33m','findByIdAndDelete','decryptPollVote','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','debug','):\x20Conversa\x20inserida\x20com\x20sucesso.','):\x20Limpando\x20delayMessage','dbServer','repeat','integer','creds','):\x20Mensagem\x20recuperada\x20após\x20','\x20não\x20encontrado\x20para\x20cópia',',\x20Segundo\x20Valor:\x20','hGet','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','findAll','sendMessageWithTyping','getChatModelForOwner','extractMessageContent','Erro\x20ao\x20buscar\x20Schedule\x20Messages','request\x20received\x20in\x20deleteFlow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','/instance/connectionState','/clients-info','variablesToObject','ListType','presence','text/event-stream','insert','readdirSync','.error','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','fetchPrivacySettings','toFile','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','reviver','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','notas','responsavelid','API\x20Key\x20from\x20Request:','viewOnceMessage','testingWith','Button\x20IDs\x20cannot\x20be\x20repeated.','block','*Pergunta*:\x20\x0a','getTime','size','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','Enter\x20a\x20value\x20in\x20milliseconds','remoteJidsRemaining','status.instance','bulkWrite','createJid','reaction','getMIMEType','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','getScheduleMessageModelForOwner','findById','):including\x20timestamp\x20in\x20url:\x20','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','/exit','}}\x20->\x20valor\x20não\x20encontrado','AUTHENTICATION_API_KEY','setWebhook','mongodb','Erro\x20ao\x20arquivar\x20chat','ENABLED','updateGroupPicture','shareOwners','trim','preview','):\x20Entrou\x20na\x20função\x20stop','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','scheduleFlow','findContacts','groupJoinApprovalMode','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20','PLAYED','):Converted\x20image\x20deleted','onWhatsApp','startCommandWord','Log\x20out\x20instance:\x20','item','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','choices','sendReaction','/media/','lean','express','noConnection','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','AUTHENTICATION_JWT_EXPIRIN_IN','saveVariable','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20Enviando\x20mídia','uuid','bearer','#ffae04','desativadoFluxoAte','#9568cf','Telefone:\x20','writeData','):\x20leadInfoVariables','copyBlock',',\x20canSendMessage:\x20','\x20adicionado\x20ao\x20chat\x20','stopWhenYouSendMsg','delete','long','):Type\x20defined\x20as\x20audio','processConditionsTest','checkAndRestartProcess','data:\x20','reference','.jpg','Erro\x20ao\x20atualizar\x20conversa:\x20','storePath','saveChatVariables','):\x20Conversa\x20está\x20expirada\x20-\x20voto','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','ContactsAndGroups','body','createConversationforgoToFlow','groupRevokeInvite','mimetype','deleted','upsertChats','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','uazapiDeleteMessage','SERVER','empty','LOG_LEVEL','updateMissingShareOwners','flowConversation','ip:\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','chatLog','dropIndex','write','groups.update','findGroups','deleteAll','GUARD','):\x20Grupo\x20','config','fullName','Não\x20respondeu\x20com\x20a\x20enquete.','ERROR','lastUpdate','DB_PREFIX_NAME','request\x20received\x20in\x20getAutomateSystem','findParticipants','ScheduleMessage','request\x20body:\x20','groupUpdateSubject','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','\x1b[31m','/wa-chats','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','/chat','generate','REDIS','ORG:','removeOlderDisconnectedInstances','deleteDoneMessages','from','286319AxdHde','/*.json','\x20->\x20NÃO\x20CORRESPONDE.','.png','atendimentoAberto','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','jpegThumbnail','text','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','header','buttons','updateMissingEtiquetas','bodyStringErrorParse','displayName','arrayUnique','ListMessage','waitingForReplyMenu','logger','\x20não\x20encontrado\x20para\x20atualização.','delayChatLabel_RETRY_DELAY_MS','profile','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','Bad\x20Request','g-t','updateAutoCompleteMessages','instanceName\x20not\x20provided.','options','.type','getPrototypeOf','public','editflowgroup','awaitSeconds','maxActives','contains','updateGroupParticipantsWebhook','true','\x1b[37m%s\x1b[0m','\x20Tentativa\x20de\x20reconexão\x20','pollMessage','replacer','#b4ebff','qrCode','approve','Last\x20message\x20not\x20found\x20for\x20number:','convertToWebP','loadWebhook','/instance/fetchInstances','greater','https','loadproxy','AddChatLabel','option','hDel','3651rPWDHz','contentText','toNumber','msgRetryCounterCache','_error','Error\x20in\x20scheduleNextCheck:\x20','URI','changeVariables','dbSettings','Erro\x20ao\x20alterar\x20fluxo','):Processing\x20audio','nomecompleto','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','downloadMediaMessage','The\x20\x22','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','sendSticker','sendMenu','\x1b[34m%s\x1b[0m','fetchBusinessProfile','http://ip-api.com/json','temp-','messageHandle','verbose','sync','#64c4ff','request_time','some','LEVEL','stateConnection','.mp4','The\x20instance\x20needs\x20to\x20be\x20disconnected','#f64847','\x20de\x20conectar\x20com\x20IP\x20extra.','):Audio\x20processed','\x20com\x20sucesso.','Connection','):\x20Entrou\x20na\x20função\x20scheduleFlow','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','lastMessage','statSync','timeInMinutes','reconnectTimestamps','cwd','ini','replaceVariablesInObject','state','chats.set','cachedData-whatsapp','code','audio/ogg;\x20codecs=opus','DEBUG','allContacts','video','END:VCARD','capitalizedWords','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','getConversation','global','unlinkSync','not\x20loaded','pictureUrl','Erro\x20ao\x20copiar\x20o\x20documento','trimmed','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','SSL_CONF_FULLCHAIN','toDataURL','):\x20conversation.lastInteraction:\x20','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','Reinicialização\x20iniciada:\x20','saveMediaToFile','errors','memberAddMode','createSharedFlow','\x1b[1m','.\x20Pulando.','messageTimestamp','apply','Schema','\x22\x20cannot\x20be\x20empty','Database\x20is\x20not\x20enabled','ms\x20(tentativa\x20','):\x20Buscando\x20flow...','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','request\x20received\x20in\x20editFlowvariable','sticker','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','SEND_MESSAGE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','getContactModelForOwner','error_log','Invalid\x20format','groupSetting','groupName','collection','data','apirequest','participants','editFlow','scheduleSendMedia','Error\x20parsing\x20JSON:','updateAll','loadEnv','fetchChats','vcard','Fluxo\x20não\x20encontrado.','createGroup','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','string','includes','key','firstValue','realVariables','deleteBlock','audio/ogg','\x20-y','save','set',',\x20Comparador:\x20','processgoToFlow','test','autoCompleteMessages','/automate','normalizeMessage','findGroupInfos','restrict','inner','class-validator','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','updateOneById','dataValidate','authService','updateReadReceiptsPrivacy','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','buffer','__esModule','no.connection','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','archived','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','REDIS_ENABLED','request\x20received\x20in\x20editFlowcondition','\x20global:\x20','FULLCHAIN','Variáveis\x20não\x20encontradas:','substring','available','exports','isArray','):\x20Alterando\x20fluxo...','documentWithCaptionMessage','createAndSave','isJWT','saveTextReply','padStart','poll','replaceVariables','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','editflowcondition','RemoveChatLabel','info','):\x20Bloco\x20copiado:\x20','app','instance','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','convertaudioMP3','CORS','Erro\x20ao\x20tentar\x20updateCustomFields','subjectTime','generateHash','getBusinessProfile','LabelModel','replaceValue','messageType','local_map','Module\x20-\x20ON','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','sectionsToString','initAuthCreds','/wa-message','SECRET','.mimetype','expression','leadInfo.desativadoFluxoAte','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','request\x20received\x20in\x20updateCustomFields','editConversation','varedit','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','getUpdate','Error\x20updating\x20message\x20status:','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','verifiedName','connectionStatus','update','and','toBRL','convert','query','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','https://api.elevenlabs.io/v1/text-to-speech/','audioMessage','formatStatusMessage','):Desconectado,\x20parando\x20execução.','error\x20get\x20vote','updateStopChat','online','\x20quoted:\x20','\x20minutos\x20verificará\x20novas\x20mensagens','oldValue','Nenhum\x20chat\x20encontrado\x20para\x20editar.','reactionMessage','listType','getProfileName','scheduleSendAudio','mentioned','jsonwebtoken','Deletion\x20failed','canSendMessage','/instance','setHeader','):\x20Procurando\x20conversa','processblock','stopMinutes','statusJidList','messaging-history.set','\x1b[37m','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','headers','):\x20Entrou\x20na\x20função\x20clearVariables','PREFIX_KEY','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','utf8','augusto.fcs@gmail.com','PROXY','editFlowVaredit','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','):\x20Editando\x20condição\x20do\x20fluxo...','Erro\x20ao\x20editar\x20a\x20conversa','sha256','webhookMap','Rótulo\x20deletado:\x27,\x20','Mensagens\x20deletadas\x20com\x20sucesso.','messageStubParameters','encoding','groupRequestParticipantsList','express-async-errors','telefone','Bloco\x20com\x20ID\x20','#ff9484','off','SERVER_PORT','false','ON\x20-\x20dbName:\x20','archiveChat','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','has','buttonMessage','writeFileSync','replaceOne','):\x20Chat\x20','editFlowGroup','selectableCount','messageId','routerPath','updateReplyOption','/message','unhandledRejection','undefined','axios','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','restartInstance','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','groups_ignore','getContentType','Primeiro\x20Valor:\x20','sendPresenceUpdate','webp','videoMessage','\x0aitem','Background\x20color\x20is\x20required','Instance\x20\x22','updatePrivacySettings','Safari','menuType','privacySettings','WA\x20MODULE','pre','findIndex','\x20saindo\x20da\x20função','../env.yml','getBase64FromMediaMessage','updateGroupsAddPrivacy','blocks','licenca','userDevicesCache','messages.update','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','redis://127.0.0.1:6379','type','Resultado\x20da\x20atualização:','Db\x20Connection','Erro\x20ao\x20tentar\x20autoCompleteMessages','isRunning','50mb','CHATS_SET','success',',\x20global:\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','parse','namespace','default','sendMessageAck','sendStatus','CacheContacts\x20database\x20connection\x20closed.','joinGroupValidate','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','random','\x20}\x0a','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','startFlowWebhook','):\x20Buscando\x20conversas...','mentions','fetchProfile','ephemeralMessage','):\x20alterando\x20this.AutomateSystem','context','notMatchRegex','groupFetchAllParticipating','markMessageAsRead','object','auth','DATABASE_ENABLED','getDelay','#00a1f2','chats.upsert','envYaml','segundos','CLEANING_INTERVAL','notEmpty','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','waInstances','Instance\x20logged\x20out','editChat','\x20não\x20encontrado','.pdf','createflow','redisEnv','replaceVariablesInReplyOptions','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','fetchLatestBaileysVersion','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','creds.json','profilePicture','conversation','startsWith','Falha\x20ao\x20processar\x20a\x20solicitação','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','Erro\x20ao\x20atualizar\x20o\x20flow.','store','\x1b[1m\x1b[37m','onTime','@redis/client','labels.edit','now','instances','env.KEY\x20!==\x20key','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','enviado\x20para','exec','):\x20conversation.waitingMenu_name','editedMessage','subjectOwner','creds.update','contactsArrayMessage','insertMany','protocolMessage','NextBlock','match','OrAnd','createWebhook','Erro\x20inesperado\x20em\x20processvaredits:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','authState','split','groupHandler','imgUrl','$dbName','SUCCESS','LOG','findFlow','forEach','createClient','763MzVqSx','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','sections','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','@s.whatsapp.net','):\x20Editando\x20variável\x20do\x20fluxo...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','moreLogs','Erro\x20ao\x20atualizar\x20AutomateSystem:','groupDesc','http://checkip.dyndns.org','addresss','_id','RemoteJid:','):\x20Enviando\x20áudio','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','_Chats','remove','editFlowVariable','HeaderType','readreceipts','DaysToDelete','\x1b[42m','https://jsonip.com','entries','cleaningUp','ultimaTentativaRemoteJid','/wa-presence','newStoppedUntil','isAdmin','getRandomText','contextInfo','announce','indexOf','truncatedto','fetchStatus','chatId','updateLastSeenPrivacy','GROUP_PARTICIPANTS_UPDATE','fetchContacts','Error\x20finding\x20many\x20contacts:','locked','arraybuffer','equal','match_last_seen','groupCreate','load','):\x20Não\x20achou\x20nenhum\x20flow','get','Cache-Control','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','image','remoteJid','pollCreationMessage','user','isInteger','Erro\x20ao\x20iniciar\x20o\x20fluxo.','label','\x1b[33m\x1b[1m','.jwt','JWT','.url','Valor\x20inicial:\x20\x22','binary','order','proto','createRegularFlow','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','makeCacheableSignalKeyStore','DELIVERY_ACK','updateParticipant','141565zafLUL','getVariablesChat','findAndReplaceRegex','updateProfilePicturePrivacy','\x20contacts','connectToWhatsappController','createInstance','sendLocation','messages.set','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Falta\x20informação\x20para\x20a\x20chamada\x20API','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','):\x20teve\x20mudanças\x20chat.archived:\x20','automateSystem','*\x0a\x0a','ephemeralExpiration','jwt','}}\x20->\x20\x22','$pull','groupUpdateDescription','deleteFlow','request\x20received\x20in\x20updateAgent',',\x20lastCondition:\x20','eventemitter2','Error\x20in\x20chatModify\x20for\x20number\x20','optionDescription','removeUnusedChatFields','Imagem\x20não\x20encontrada','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','/wa-message-update','upperCase','list','uazapiSendLocation','promote','menuExpiredMessage','apikey','blockId','The\x20global\x20api\x20key\x20must\x20be\x20set','saveConversationToDatabase','createSectionsFromValues','_remoteJid','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20delete\x20=\x20true','findAndUpdate','archive','variable','values','DATABASE_CONNECTION_HOST','Selecione','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','PRODUCT_LIST','base64','send','chats.update','):\x20Bloco\x20com\x20ID\x20','evaluateConditionTest','qrcode.updated','DELETED','pollCreationMessageV2','getMessageModelForOwner','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','COLOR','findGroup','birthtime','buttonText','done','silent',',\x20apikey:\x20','Flow\x20não\x20encontrado','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','leadInfo','cacheContact','):Archiving\x20chat','groups.upsert','\x20não\x20encontrado.','all','slice','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','):\x20Enviando\x20enquete','56744yAGMEf','createConnection','urlencoded','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','.mp3','stringify','keep-alive','app-state-sync-key','formatVCard','StatusJidList\x20is\x20required','):\x20atualização\x20chat:\x20','repository','\x1b[31m%s\x1b[0m','\x1b[0m','findChats','STORE_CONTACTS','etiquetas','endSession','updateMissingTags','localWebhook','router','upsertedCount','findWebhook','Erro\x20ao\x20iniciar\x20fluxo:\x20','delayChatLabel_MAX_RETRIES','textMessage','updateChatGroupData','CORS_CREDENTIALS','Group\x20not\x20found','groupLeave','dayjs','\x20foi\x20interrompido\x20pelo\x20usuário.','readMessage',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','Internal\x20Server\x20Error','Conversa\x20deletada\x20com\x20sucesso.','\x1b[40m','\x1b[36m%s\x1b[0m','reorderReplyOptions','FlowController','fromObject','isJidBroadcast','\x1b[44m','redis','hasOwnProperty','toString','STORE_CHATS','lastSendMessage','writeFile','allFlows','rowId','messages','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','_FlowHistorico','listMessage','composing','ButtonsMessage','convertedOptions','\x20do\x20chat\x20','client','):\x20Editando\x20grupo\x20do\x20fluxo...','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','menuMessage','\x20minutos...','profileName','Erro\x20ao\x20editar\x20o\x20bloco:\x20','applyvaredit','BufferJSON','Fluxos\x20não\x20estão\x20ativados','loadInstance','updateProfileStatus','.\x20(ID:\x20','.xlsx','sign','everyOne','CONTACTS_UPDATE','Certbot:\x20','normalizeMessageContent','splice','flowConfig','request\x20received\x20in\x20createFlow','connectedClient','sharePass','protocol','call','Esse\x20fluxo\x20expirou','paused','updateOne','mediaKey','views','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','awaitingApproval','):\x20Query\x20params:','.uazapi.dev','addBlock','https://chat.whatsapp.com/','Types','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20Label\x20','compression','testProxy','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','_fromMe','customFields','DATABASE_CONNECTION_PASSWORD','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','updateStatusPrivacy','footerText','owner','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','updateCustomFields','processawaitSeconds','request_method','):\x20\x27Deletando\x20fluxo,\x20name:\x20','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','):\x20updateResult:','MESSAGES_UPSERT','):\x20Usando\x20extensão\x20padrão:\x20','?authSource=admin&readPreference=primary&directConnection=true','connectionState','PENDING','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','findConversation','@ffmpeg-installer/ffmpeg','Erro\x20ao\x20adicionar\x20label\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','rm\x20-rf\x20','TEXT','Fluxo\x20agendado\x20pelo\x20fluxo\x20','.webp','#9ba6ff','pollOnReplyDelete','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','notEqual','json','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','):\x20[messages.upsert]\x20group\x20ignored','number','instanceInfo','waMonitor','groupSettingUpdate','selectedOptions','):Fetching\x20business\x20profile','deleteImportedChat','Contacts\x20not\x20found','shift','.ogg','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','eventHandler','senderKeyDistributionMessage','push','.docx','less',',\x20data:\x20','src','messagesSend','muteEndTime','MESSAGES_UPDATE','audio','inviteCode','messageSecret','findAndUpdateCacheContact','apiResponse','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','boolean','keys','uazapiSendMedia','API\x20Key\x20inválida.','Falha\x20ao\x20processar\x20fetchBusinessProfile','processvaredits','Instance\x20ID:','reconnectAttempts','Erro\x20ao\x20criar\x20fluxo\x20regular','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','leadInfo.atendimentoAberto','\x20tentativas.\x20(ID:\x20','Erro\x20ao\x20buscar\x20a\x20conversa','buttonId','editflowreply','last_update','setting','output','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','pollCreationMessageV3','restart','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','.fileUrl','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','updateMany','):\x20Criando\x20nova\x20conversa[createNewConversation]','Type\x20not\x20found','limit','):\x20Flow\x20não\x20encontrado','Erro\x20ao\x20atualizar\x20o\x20fluxo:','groupId','-instances','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','sendList','request\x20received\x20in\x20starFlow','existsSync','cache','@whiskeysockets/baileys','updateMessage','flowStopConversation','deleteInstance','\x20mensagens\x20de\x20','processclearVariables','demote','Operador:\x20\x22','leadInfo.customFields','The\x20property\x20cannot\x20be\x20empty','dbConnection','last','node-cache','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','\x20horas\x20e\x20','readFileSync','replyOption','contacts.update','flowName','replace','):Image\x20is\x20base64','):\x20Entrou\x20na\x20função\x20processawaitSeconds','ephemeralDuration','HttpsProxyAgent','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','fetchInstances','#000000','requestFile','lastInteraction','joinApprovalMode','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','modifiedCount','#92ceac','Last\x20message\x20not\x20found','):Image\x20converted\x20to\x20WebP','):\x20Fluxos\x20não\x20estão\x20ativados','TYPE','connect','http://ipecho.net/plain','replaceVariablesLogs','.ppt','close','validate','#83e421','):\x20Buscando\x20conversa...','SERVER_ACK','getLabelModelForOwner','2375526hjlrIA','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','whatsappNumber','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','Content\x20is\x20required','):\x20Editando\x20bloco...','CONTACTS_UPSERT','createConversationforStartFlow','\x5cd+','importChatsBatch','EMAIL:','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','):\x20Error\x20processing\x20conditions:\x20','processPollUpdateMessage','isCommunityAnnounce','updateChatWithMessage','):\x20Campos\x20a\x20serem\x20atualizados:','\x22\x20-\x20NOT\x20CONNECTION','MESSAGES_SET','contacts','participant','mediatype','name','\x20e\x20proprietário\x20','Certbot\x20executado\x20com\x20sucesso.','SSL_CONF','):Image\x20is\x20url','website','Deleted\x20','configService','fromMe','imported','endsWith','utf-8','floor','Erro\x20ao\x20editar\x20o\x20chat','Sistema\x20atualizado\x20com\x20sucesso!','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','document','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','stickerMessage','DARK','getflow','variables','put','Mac\x20OS','):\x20Erro\x20ao\x20tentar\x20recuperar\x20a\x20mensagem.\x20Tentativa\x20','/startFlow/:instance/:startID','revokeInviteCode','.extension','folder','hSet','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','Error\x20while\x20deleting\x20message\x20for\x20everyone','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','connection.update','longitude','fetchConversation','fetchLabels','prepareMediaMessage','createHash',',\x20Expiration\x20Time:\x20','secondValue','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','connectToWhatsapp','uazapiSendMenu','fileUrl','presence.update','Removidas\x20as\x20variáveis:\x20','action','prefixCommand','scheduleSendText','fileName','cacheContactModel','inviteCodeDetails','removed','role','error','webhook','Cannot\x20','Documento\x20com\x20ID\x20','):Hash\x20to\x20image\x20name:\x20','loggedOut','dark','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','array','^\x5cd+([-]\x5cd+)*@g.us$','editflowblock','contactMessage','Message\x20not\x20found','conditions','INFO','\x20ao\x20chat\x20','headerString','getFlowModelForOwner','DATABASE_CONNECTION_URI','):Error\x20in\x20converting\x20audio','map','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.',',\x20Novo\x20tamanho:\x20','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','findGroupInfo','padEnd','groupBetterSetting','insertCount','):Notifying\x20clients\x20for\x20chat:\x20','messageContextInfo','Erro\x20ao\x20buscar\x20conversas','request\x20received\x20in\x20scheduleMessage','984600JKHiTN','pino','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','readFile','):Temp\x20image\x20deleted','Erro\x20de\x20atualização:\x20','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','-whatsapp-api','$set','iniciando\x20fluxo\x20router','groupValidate','unavailable','Instância\x20não\x20encontrada.','unreadCount','leaveGroup','@g.us','):Business\x20profile\x20fetched','execSync','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','editFlowCondition','max','.txt','editFlowReply','sendContact','descId','leadInfo.','Instance\x20restarted','linkPreview','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','editflowvaredit','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.',':\x20IP\x20configurado:\x20','toArray','reorderBlocks','message_normalized','):\x20Enviando\x20contato','audioWhatsapp','updateAgent','numbers','SINGLE_SELECT','color','AppStateSyncKeyData','Message','redirect','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','MessageModel','removeProfilePicture','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','notContains','url','valid','<subdomain>','log','warn','variablesNotFound','https://api.openai.com/v1/audio/speech','caption','1662120SuDNEI','LICENSE_INVALID','deleteMany','use','updateBlock','):\x20não\x20encontrou','password','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','join','port','getOwnPropertyNames','sendButtons','imagechat','email','pollErrorMessage','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','closed','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','FlowModel','stopped','sendAudio','groupAcceptInvite','create','toLocaleString','):\x20Ler\x20mensagem','Not\x20is\x20business\x20profile','flattenObject','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','WARN','CHATS_UPSERT','readMessageBot','statusCode','groupMemberAddMode','_ScheduleMessages','Rótulo\x20inválido\x20ou\x20sem\x20ID.','pollUpdateMessage','console','process','not_announcement','env','mongodb://','updateProfileName','formatBRNumber','function','Erro\x20ao\x20remover\x20instâncias\x20antigas:','username','updatePresence','stopMinutesMaxActives','Pausado\x20por\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','#9ab6c1','backgroundColor',',\x20valor\x20a\x20encontrar:\x20\x22','Router','replyOptions','next_groupId','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','mediaMessage','open','CORS_ORIGIN','joinGroup','fetchMessages','_Contacts','_Messages','ChatRouter','waitingMenu_id','findOne',':\x20IP\x20funcionando!','stdout','quotedMessage','admin','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','processApiRequest','sendMedia','/events/:instance','whatsappNumbers','charAt','):\x20Limpando\x20AutomateSystem','getOwnPropertyDescriptor','deleteMessage','generateWAMessageFromContent','setContext','newValue','updateFlowConfig','request\x20received\x20in\x20editFlow','pt-BR',',\x20pairCode:\x20','AUTHENTICATION_JWT_SECRET','isCommunity','convertaudio','GROUPS_UPSERT','findMessages','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','):\x20tem\x20blocks','groupGetInviteInfo','findOrCreate','request\x20received\x20in\x20editConversation','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','statusMessage','):\x20Buscando\x20flow,\x20name:\x20','listen','API_KEY','filter','Instância:\x20','enabled','delayMessage','length','The\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','when','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','lastSend',']\x20(','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','):\x20Edit\x20schedule\x20message...','unknown\x20operation\x20type\x20[','chats.delete','#ffc5c7',',\x20Minutes\x20to\x20Close:\x20','uazapiSendText','lastBlockId','toUpperCase','message','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','webhookService','getStatus','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','superadmin','drop','send.message','crypto','instanceCount','deleteMessageForEveryone','contact_blacklist','cleanStore','webhookModel','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','height','Número:\x20','remote\x20\x22origin\x22','8080','lastFetchAwaitingApproval','params','deleteChat','beforeExit','VERBOSE','):\x20Current\x20Time:\x20','Not\x20allowed\x20by\x20CORS','where','groupParticipantsUpdate','):\x20conversation.status:\x20','Mensagem\x20não\x20suportada','ConversationModel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','https://api.openai.com/v1/images/generations','http','Missing\x20global\x20api\x20key','eventEmitter','font','min',':\x20Erro\x20durante\x20loadproxy\x20-\x20','CHATS_UPDATE','EXPIRIN_IN','mongoose','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','https://','isBusiness'];a0_0x4223=function(){return _0x5a61ba;};return a0_0x4223();}Ie[a0_0x34238b(0x68d)]('/media',Tt[a0_0x34238b(0x3fd)]['static'](bo))[a0_0x34238b(0x480)](a0_0x34238b(0x6d4),async(_0x4e11c9,_0x23d6a3)=>{const _0xbf327e=a0_0x34238b;console[_0xbf327e(0x685)]('bateu\x20events');let _0x2cfdfd=_0x4e11c9['params'][_0xbf327e(0x367)],_0x3fb1be=(_0x4e11c9[_0xbf327e(0x38a)][_0xbf327e(0x17b)]||'')[_0xbf327e(0x447)](','),_0x492fb4=(0x0,gi['v4'])();console[_0xbf327e(0x685)](_0xbf327e(0x591),_0x2cfdfd),console[_0xbf327e(0x685)](_0xbf327e(0x172),_0x3fb1be);let _0xf41c9f=S[_0xbf327e(0x480)](_0xbf327e(0x1ca))[_0xbf327e(0x6f0)],_0x656513=_0x4e11c9[_0xbf327e(0x38a)][_0xbf327e(0x4ba)];if(console[_0xbf327e(0x685)](_0xbf327e(0x20e),_0x656513),_0xf41c9f[_0xbf327e(0x192)]!==_0x656513){console[_0xbf327e(0x685)](_0xbf327e(0x435));try{let _0x39c3fe=await ue[_0xbf327e(0x411)]['find'](_0x2cfdfd);if(console[_0xbf327e(0x685)]('Instance\x20Key\x20from\x20DB:',_0x39c3fe),!_0x39c3fe||_0x39c3fe[_0xbf327e(0x4ba)]!==_0x656513)return console[_0xbf327e(0x685)](_0xbf327e(0x5d1)),_0x23d6a3[_0xbf327e(0x7b4)](0x191)['send'](_0xbf327e(0x58e));}catch(_0x40d81c){return console['error']('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x40d81c),_0x23d6a3[_0xbf327e(0x7b4)](0x191)[_0xbf327e(0x4cb)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Re(_0x2cfdfd))return _0x23d6a3[_0xbf327e(0x7b4)](0x194)[_0xbf327e(0x4cb)](_0xbf327e(0x65c));_0x23d6a3['setHeader'](_0xbf327e(0x829),_0xbf327e(0x201)),_0x23d6a3[_0xbf327e(0x3a0)](_0xbf327e(0x481),'no-cache'),_0x23d6a3[_0xbf327e(0x3a0)](_0xbf327e(0x2e7),_0xbf327e(0x4ec)),_0x23d6a3[_0xbf327e(0x199)]();let _0x1405b4=_0xbf327e(0x258)+JSON[_0xbf327e(0x4eb)]({'info':_0xbf327e(0x1b4)})+'\x0a\x0a';_0x23d6a3['write'](_0x1405b4),ui(_0x2cfdfd,_0x492fb4,_0x23d6a3,_0x3fb1be),_0x4e11c9['on'](_0xbf327e(0x5dc),()=>{const _0x3fa9be=_0xbf327e;console[_0x3fa9be(0x685)]('Connection\x20closed\x20for\x20instance:\x20'+_0x2cfdfd),di(_0x2cfdfd,_0x492fb4);});}),Ie[a0_0x34238b(0x7c4)](a0_0x34238b(0x611),async(_0x184c7c,_0x3d30d7)=>{const _0x57b7ec=a0_0x34238b;console[_0x57b7ec(0x685)](_0x57b7ec(0x659));let _0x4d6276=_0x184c7c['params']['instance'],_0x533976=_0x184c7c['params']['startID'],_0x14ebc9=_0x184c7c[_0x57b7ec(0x38a)][_0x57b7ec(0x484)]||'',_0x40fac1=_0x184c7c[_0x57b7ec(0x261)];console['log']('Instance\x20Name:',_0x4d6276),console['log']('StartID:',_0x533976),console[_0x57b7ec(0x685)](_0x57b7ec(0x45d),_0x14ebc9),console[_0x57b7ec(0x685)]('Request\x20Body:',_0x40fac1);try{if(!await Re(_0x4d6276))return _0x3d30d7[_0x57b7ec(0x7b4)](0x194)[_0x57b7ec(0x4cb)](_0x57b7ec(0x65c));let _0x4aea97=await A[_0x57b7ec(0x406)](_0x4d6276,_0x533976,_0x14ebc9,_0x40fac1);_0x3d30d7[_0x57b7ec(0x4cb)](_0x4aea97);}catch(_0x1c9a96){console[_0x57b7ec(0x62f)](_0x1c9a96),_0x3d30d7[_0x57b7ec(0x7b4)](0x1f4)[_0x57b7ec(0x4cb)](_0x57b7ec(0x488));}}),Ie['get'](a0_0x34238b(0x1fd),(_0x2e1c4b,_0x17a65d)=>{const _0x334a0a=a0_0x34238b;let _0x1ab1ca=pi();_0x17a65d[_0x334a0a(0x56d)](_0x1ab1ca);})[a0_0x34238b(0x480)]('/',(_0x4451ab,_0x3c1507)=>{const _0x5b189f=a0_0x34238b;let _0x3aa07d=S['get'](_0x5b189f(0x269))[_0x5b189f(0x73c)];if(_0x3aa07d){let _0xac94ce=encodeURIComponent(''+_0x3aa07d);_0x3c1507[_0x5b189f(0x67b)](_0x5b189f(0x738)+_0xac94ce);return;}let _0x31138e=S[_0x5b189f(0x480)]('SSL_CONF'),_0x2ab88a=_0x31138e&&_0x31138e[_0x5b189f(0x353)][_0x5b189f(0x447)]('/')[0x4];if(_0x2ab88a){let _0x4a0ef8=encodeURIComponent(_0x5b189f(0x733)+_0x2ab88a);_0x3c1507[_0x5b189f(0x67b)](_0x5b189f(0x738)+_0x4a0ef8);}else _0x3c1507[_0x5b189f(0x67b)]('https://uazapi-plugin.bubbleapps.io/');})[a0_0x34238b(0x60e)](a0_0x34238b(0x224),...ie,async(_0x66e6f5,_0x2f8d00)=>{const _0xb815b8=a0_0x34238b;try{console[_0xb815b8(0x685)](_0xb815b8(0x3ee)),_0x2f8d00[_0xb815b8(0x7b4)](0xc8)[_0xb815b8(0x56d)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x2f8d00['on']('finish',()=>process['exit'](0x0));}catch(_0x2320ba){console['error'](_0xb815b8(0x547),_0x2320ba),_0x2f8d00[_0xb815b8(0x7b4)](0x1f4)[_0xb815b8(0x56d)]({'message':_0xb815b8(0x18f)});}})[a0_0x34238b(0x60e)]('/config',...ie,async(_0x2c94bb,_0x5e59fa)=>{const _0xf84b5d=a0_0x34238b;try{let _0x5910a6=_0x2c94bb[_0xf84b5d(0x261)];await Se['updateOne']({},{'$set':_0x5910a6},{'upsert':!0x0});let _0x164ef3=await Se[_0xf84b5d(0x6cc)]();_0x5e59fa['json'](_0x164ef3);}catch(_0x385198){_0x5e59fa[_0xf84b5d(0x7b4)](0x190)[_0xf84b5d(0x4cb)](_0x385198[_0xf84b5d(0x707)]);}})[a0_0x34238b(0x480)](a0_0x34238b(0x169),...ie,async(_0x43902a,_0x4e37c0)=>{const _0x169b5c=a0_0x34238b;try{let _0x4e6739=await Se[_0x169b5c(0x6cc)]();if(!_0x4e6739)return _0x4e37c0[_0x169b5c(0x56d)]({});_0x4e37c0['json'](_0x4e6739);}catch(_0x5e0657){_0x4e37c0[_0x169b5c(0x7b4)](0x1f4)['send'](_0x5e0657[_0x169b5c(0x707)]);}})[a0_0x34238b(0x68d)](a0_0x34238b(0x39f),new mt(S,...ie)['router'])[a0_0x34238b(0x68d)](a0_0x34238b(0x3ce),new Rt(...ie)[a0_0x34238b(0x4fa)])[a0_0x34238b(0x68d)](a0_0x34238b(0x287),new ot(...ie)[a0_0x34238b(0x4fa)])[a0_0x34238b(0x68d)]('/group',new gt(...ie)[a0_0x34238b(0x4fa)])[a0_0x34238b(0x68d)](a0_0x34238b(0x7e0),new At(...ie)[a0_0x34238b(0x4fa)])['use'](a0_0x34238b(0x33e),new Ot(...ie)[a0_0x34238b(0x4fa)]);var m=class{constructor(..._0x20d493){const _0x4969b3=a0_0x34238b;throw{'status':0x190,'error':_0x4969b3(0x2a4),'message':_0x20d493[_0x4969b3(0x6f5)]>0x0?_0x20d493:void 0x0};}},ae=class{constructor(..._0x158d16){throw{'status':0x191,'error':'Unauthorized','message':_0x158d16['length']>0x0?_0x158d16:void 0x0};}},Q=class{constructor(..._0x308130){const _0x283410=a0_0x34238b;throw{'status':0x193,'error':'Forbidden','message':_0x308130[_0x283410(0x6f5)]>0x0?_0x308130:void 0x0};}},U=class{constructor(..._0x22ea96){const _0x24b85=a0_0x34238b;throw{'status':0x194,'error':_0x24b85(0x1de),'message':_0x22ea96[_0x24b85(0x6f5)]>0x0?_0x22ea96:void 0x0};}},I=class{constructor(..._0x3b56c2){const _0x317110=a0_0x34238b;throw{'status':0x1f4,'error':_0x317110(0x508),'message':_0x3b56c2['length']>0x0?_0x3b56c2:void 0x0};}},de=require(a0_0x34238b(0x5b3));async function Ns(_0x52c712){const _0x1a8a52=a0_0x34238b;let _0x26c728=new R(Ns[_0x1a8a52(0x5f8)]),_0x4fc7c2=$[_0x1a8a52(0x789)](),_0x50969a=_0x4fc7c2['db'](S[_0x1a8a52(0x480)](_0x1a8a52(0x16f))['CONNECTION'][_0x1a8a52(0x27d)]+_0x1a8a52(0x5ad))[_0x1a8a52(0x322)](_0x52c712),_0x658ea0=async(_0x48fab2,_0x5e6f63)=>{const _0x4dc55b=_0x1a8a52;try{return await _0x4fc7c2[_0x4dc55b(0x5d8)](),await _0x50969a[_0x4dc55b(0x3c7)]({'_id':_0x5e6f63},JSON[_0x4dc55b(0x3fb)](JSON['stringify'](_0x48fab2,de[_0x4dc55b(0x529)][_0x4dc55b(0x2b5)])),{'upsert':!0x0});}catch{}},_0x15b806=async _0x349ef1=>{const _0x5c4ee1=_0x1a8a52;try{await _0x4fc7c2[_0x5c4ee1(0x5d8)]();let _0x3b47d2=await _0x50969a['findOne']({'_id':_0x349ef1}),_0x175912=JSON[_0x5c4ee1(0x4eb)](_0x3b47d2);return JSON['parse'](_0x175912,de[_0x5c4ee1(0x529)][_0x5c4ee1(0x20a)]);}catch{}},_0x5e9212=async _0x53f85f=>{const _0x5a7e47=_0x1a8a52;try{return await _0x4fc7c2['connect'](),await _0x50969a[_0x5a7e47(0x1bd)]({'_id':_0x53f85f});}catch{}},_0x48c25c=await _0x15b806(_0x1a8a52(0x1ee))||(0x0,de['initAuthCreds'])();return{'state':{'creds':_0x48c25c,'keys':{'get':async(_0x1ee95f,_0x998fc4)=>{const _0x2235b9=_0x1a8a52;let _0x42e714={};return await Promise[_0x2235b9(0x4e2)](_0x998fc4[_0x2235b9(0x643)](async _0x38a5f3=>{const _0x373885=_0x2235b9;let _0x371387=await _0x15b806(_0x1ee95f+'-'+_0x38a5f3);_0x1ee95f==='app-state-sync-key'&&_0x371387&&(_0x371387=de[_0x373885(0x491)][_0x373885(0x67a)]['AppStateSyncKeyData'][_0x373885(0x50e)](_0x371387)),_0x42e714[_0x38a5f3]=_0x371387;})),_0x42e714;},'set':async _0x5b8f6b=>{let _0x469ef5=[];for(let _0x33cf95 in _0x5b8f6b)for(let _0x5666ed in _0x5b8f6b[_0x33cf95]){let _0x3b57a4=_0x5b8f6b[_0x33cf95][_0x5666ed],_0x388b57=_0x33cf95+'-'+_0x5666ed;_0x469ef5['push'](_0x3b57a4?_0x658ea0(_0x3b57a4,_0x388b57):_0x5e9212(_0x388b57));}await Promise['all'](_0x469ef5);}}},'saveCreds':async()=>_0x658ea0(_0x48c25c,_0x1a8a52(0x1ee))};}var Ts=O(require(a0_0x34238b(0x254))),Is=O(require(a0_0x34238b(0x5bf))),Dt=require(a0_0x34238b(0x5b3)),mi=require(a0_0x34238b(0x431)),xt=require('@whiskeysockets/baileys'),It;function Mo(_0x5f45e6){const _0x443237=a0_0x34238b;return It||(It=(0x0,mi[_0x443237(0x44f)])({'url':_0x5f45e6[_0x443237(0x2c9)]}),It['connect']()),It;}var ce=class c{constructor(_0x363e88,_0x4c13af){const _0x5c5660=a0_0x34238b;this[_0x5c5660(0x422)]=_0x363e88,this['instanceName']=_0x4c13af,this[_0x5c5660(0x29f)]=new R(c[_0x5c5660(0x5f8)]),this[_0x5c5660(0x521)]=Mo(_0x363e88);}set[a0_0x34238b(0x259)](_0x33edbd){this['instanceName']=_0x33edbd;}async[a0_0x34238b(0x186)](){const _0x30386b=a0_0x34238b;try{return await this['client']['sendCommand'](['keys',this[_0x30386b(0x422)]['PREFIX_KEY']+':*']);}catch(_0x326dd1){this[_0x30386b(0x29f)]['error'](_0x326dd1);}}async[a0_0x34238b(0x24d)](_0x3169c9,_0x1fd09d){const _0x23e77f=a0_0x34238b;try{let _0x3a9f33=JSON[_0x23e77f(0x4eb)](_0x1fd09d,xt[_0x23e77f(0x529)]['replacer']);return await this[_0x23e77f(0x521)][_0x23e77f(0x615)](this[_0x23e77f(0x422)]['PREFIX_KEY']+':'+this[_0x23e77f(0x185)],_0x3169c9,_0x3a9f33);}catch(_0x4be724){this[_0x23e77f(0x29f)]['error'](_0x4be724);}}async['getAllData'](){const _0x416b7c=a0_0x34238b;try{let _0x3fceba=await this[_0x416b7c(0x521)]['hGetAll'](this['redisEnv'][_0x416b7c(0x3aa)]+':'+this[_0x416b7c(0x185)]);if(_0x3fceba){for(let _0x3cffe9 in _0x3fceba)Object['prototype'][_0x416b7c(0x512)][_0x416b7c(0x53a)](_0x3fceba,_0x3cffe9)&&(_0x3fceba[_0x3cffe9]=JSON[_0x416b7c(0x3fb)](_0x3fceba[_0x3cffe9],xt[_0x416b7c(0x529)][_0x416b7c(0x20a)]));return _0x3fceba;}}catch(_0x1198ed){this[_0x416b7c(0x29f)][_0x416b7c(0x62f)](_0x1198ed);}}async[a0_0x34238b(0x1a8)](_0x4ae049){const _0x194217=a0_0x34238b;try{let _0x39c756=await this[_0x194217(0x521)][_0x194217(0x1f2)](this[_0x194217(0x422)][_0x194217(0x3aa)]+':'+this[_0x194217(0x185)],_0x4ae049);if(_0x39c756)return JSON[_0x194217(0x3fb)](_0x39c756,xt[_0x194217(0x529)][_0x194217(0x20a)]);}catch(_0x14c010){this['logger'][_0x194217(0x62f)](_0x14c010);}}async[a0_0x34238b(0x1d9)](_0x3ca16b){const _0x102f2b=a0_0x34238b;try{return await this[_0x102f2b(0x521)][_0x102f2b(0x2c2)](this[_0x102f2b(0x422)][_0x102f2b(0x3aa)]+':'+this[_0x102f2b(0x185)],_0x3ca16b);}catch(_0x564db7){this[_0x102f2b(0x29f)][_0x102f2b(0x62f)](_0x564db7);}}async['delAll'](_0x385a16){const _0xde373a=a0_0x34238b;try{return await this['client']['del'](_0x385a16||this['redisEnv'][_0xde373a(0x3aa)]+':'+this[_0xde373a(0x185)]);}catch(_0xa0e9f5){this[_0xde373a(0x29f)][_0xde373a(0x62f)](_0xa0e9f5);}}};async function Rs(_0x1a594a,_0x5e3ee0){const _0x5338fa=a0_0x34238b;let _0x3a29f0=new R(Rs['name']),_0x1e8409=new ce(_0x1a594a,_0x5e3ee0),_0x2cfbdf=async(_0x5a373c,_0x56ae1b)=>{const _0x1659a4=a0_0x3a3c;try{return await _0x1e8409['writeData'](_0x56ae1b,_0x5a373c);}catch(_0x4b9c58){return _0x3a29f0['error']({'localError':_0x1659a4(0x24d),'error':_0x4b9c58});}},_0x562dc4=async _0x3459b4=>{const _0x1e0412=a0_0x3a3c;try{return await _0x1e8409[_0x1e0412(0x1a8)](_0x3459b4);}catch(_0x41ba82){_0x3a29f0[_0x1e0412(0x62f)]({'readData':'writeData','error':_0x41ba82});return;}},_0x566afe=async _0x332a30=>{try{return await _0x1e8409['removeData'](_0x332a30);}catch(_0x232b5d){_0x3a29f0['error']({'readData':'removeData','error':_0x232b5d});}},_0x7a33a=await _0x562dc4('creds')||(0x0,Dt[_0x5338fa(0x376)])();return{'state':{'creds':_0x7a33a,'keys':{'get':async(_0x1e4d4e,_0x41cb37)=>{const _0x63d482=_0x5338fa;let _0x2c0fb5={};return await Promise[_0x63d482(0x4e2)](_0x41cb37['map'](async _0x13c2f6=>{const _0x2126c0=_0x63d482;let _0x5b8f2a=await _0x562dc4(_0x1e4d4e+'-'+_0x13c2f6);_0x1e4d4e===_0x2126c0(0x4ed)&&_0x5b8f2a&&(_0x5b8f2a=Dt[_0x2126c0(0x491)][_0x2126c0(0x67a)][_0x2126c0(0x679)]['fromObject'](_0x5b8f2a)),_0x2c0fb5[_0x13c2f6]=_0x5b8f2a;})),_0x2c0fb5;},'set':async _0x1c6da8=>{const _0x228ef7=_0x5338fa;let _0x1af125=[];for(let _0x568798 in _0x1c6da8)for(let _0x339bb8 in _0x1c6da8[_0x568798]){let _0x40ec4d=_0x1c6da8[_0x568798][_0x339bb8],_0x211a35=_0x568798+'-'+_0x339bb8;_0x1af125[_0x228ef7(0x57d)](_0x40ec4d?await _0x2cfbdf(_0x40ec4d,_0x211a35):await _0x566afe(_0x211a35));}await Promise[_0x228ef7(0x4e2)](_0x1af125);}}},'saveCreds':async()=>await _0x2cfbdf(_0x7a33a,'creds')};}var j=O(require('fs')),Me=require(a0_0x34238b(0x247)),jt=O(require(a0_0x34238b(0x768))),Lt=require('https-proxy-agent'),Co=a0_0x34238b(0x3c3)[a0_0x34238b(0x22d)](),_t=Co[a0_0x34238b(0x447)]('\x0a')[a0_0x34238b(0x643)](_0x2703ad=>{const _0xf9022a=a0_0x34238b;let _0x92e147=_0x2703ad['split'](':'),_0x432cd5={'host':_0x92e147[0x0],'port':_0x92e147[0x1],'protocol':_0xf9022a(0x729)};return _0x92e147[_0xf9022a(0x6f5)]===0x4&&(_0x432cd5[_0xf9022a(0x6b7)]=_0x92e147[0x2],_0x432cd5['password']=_0x92e147[0x3]),_0x432cd5;});function fi(_0x4b26cc){const _0x953a57=a0_0x34238b;return _t[_0x953a57(0x802)](_0x36f149=>_0x36f149[_0x953a57(0x7bc)]===_0x4b26cc)||null;}function wi(){const _0x4e58cc=a0_0x34238b;if(_t[_0x4e58cc(0x6f5)]===0x0)return null;let _0x50293a=Math[_0x4e58cc(0x604)](Math[_0x4e58cc(0x403)]()*_t['length']);return _t[_0x50293a];}function $s(_0x239a4f){const _0x2eb50d=a0_0x34238b;let _0x524657=_0x3599d0=>typeof _0x3599d0==_0x2eb50d(0x330)&&_0x3599d0[_0x2eb50d(0x6f5)]>0x0,_0x85810e=_0x2ce834=>{let _0x4b1fd5=parseInt(_0x2ce834,0xa);return!isNaN(_0x4b1fd5)&&_0x4b1fd5>0x0&&_0x4b1fd5<=0xffff;},_0x242ff9=_0x34fbfc=>typeof _0x34fbfc==_0x2eb50d(0x330)&&_0x34fbfc['length']>0x0;return _0x239a4f&&_0x524657(_0x239a4f[_0x2eb50d(0x7bc)])&&_0x85810e(_0x239a4f['port'])&&(!_0x239a4f['username']||_0x242ff9(_0x239a4f[_0x2eb50d(0x6b7)]))&&(!_0x239a4f['password']||_0x242ff9(_0x239a4f[_0x2eb50d(0x690)]))&&(_0x239a4f[_0x2eb50d(0x539)]===_0x2eb50d(0x729)||_0x239a4f[_0x2eb50d(0x539)]===_0x2eb50d(0x2be));}var Ft=require(a0_0x34238b(0x70f)),xs='Safari',Ci,le=null,yi=null,tt=null,Eo=0x3,vo=null,ee=S['get'](a0_0x34238b(0x1ca))['API_KEY'][a0_0x34238b(0x192)];async function No(){const _0x578df4=a0_0x34238b;let _0xf96902=await Se[_0x578df4(0x6cc)]();le=_0xf96902?.['WebhookGlobal']??null,vo=_0xf96902?.[_0x578df4(0x465)]??null,xs=_0xf96902?.[_0x578df4(0x537)]??_0x578df4(0x3e0),Ci=_0xf96902?.['connectedName']??Ds??'uazapi',console[_0x578df4(0x685)](_0xf96902);}async function Ro(){await No();}Ro();var Ce=class c{constructor(_0x2fce9b,_0x2a938e,_0x5701ea){const _0x24e738=a0_0x34238b;this[_0x24e738(0x5ff)]=_0x2fce9b,this[_0x24e738(0x72b)]=_0x2a938e,this['repository']=_0x5701ea,this[_0x24e738(0x7e1)]=null,this[_0x24e738(0x29f)]=new R(c[_0x24e738(0x5f8)]),this[_0x24e738(0x367)]={},this[_0x24e738(0x4f9)]={},this[_0x24e738(0x2e0)]={'state':'close'},this[_0x24e738(0x25c)]=(0x0,F[_0x24e738(0x692)])(re,_0x24e738(0x17a)),this[_0x24e738(0x2c6)]=new Is['default'](),this[_0x24e738(0x3ec)]=new Is['default'](),this['endSession']=!0x1,this[_0x24e738(0x3b4)]={'status.instance':_0x24e738(0x7fb),'connection.update':_0x24e738(0x7fb),'qrcode.updated':_0x24e738(0x830),'messages.upsert':_0x24e738(0x377),'send.message':'/wa-message','messages.update':_0x24e738(0x4b4),'group.upsert':_0x24e738(0x1ac),'group.update':_0x24e738(0x1ac),'group-participants.update':_0x24e738(0x1ac),'messages.set':'/wa-all-message','contacts.set':_0x24e738(0x1c6),'contacts.upsert':_0x24e738(0x1c6),'contacts.update':_0x24e738(0x1c6),'presence.update':_0x24e738(0x46b),'chats.set':'/wa-chats','chats.update':_0x24e738(0x285),'chats.upsert':'/wa-chats','chats.delete':'/wa-chats'},this[_0x24e738(0x592)]=0x0,this[_0x24e738(0x2ed)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x24e738(0x3f5)]=!0x1,this[_0x24e738(0x7d7)]={'chats.upsert':async(_0x7c1bcf,_0x476c15)=>{const _0x100014=_0x24e738;let _0x3d93d8=[];for await(let _0x2de5dd of _0x7c1bcf)_0x3d93d8[_0x100014(0x57d)]({'_id':_0x2de5dd['id'],'owner':this[_0x100014(0x367)][_0x100014(0x18e)],'group':_0x2de5dd['id']['endsWith'](_0x100014(0x65f)),'name':_0x2de5dd[_0x100014(0x5f8)]||_0x2de5dd['displayName']||null,'contactname':null,'lastmsg':_0x2de5dd[_0x100014(0x7b1)]&&_0x2de5dd['conversationTimestamp'][_0x100014(0x513)]()[_0x100014(0x6f5)]<0xd?_0x2de5dd['conversationTimestamp']*0x3e8:_0x2de5dd[_0x100014(0x7b1)]||null,'archived':_0x2de5dd[_0x100014(0x34e)]||!0x1,'unreadcount':_0x2de5dd[_0x100014(0x65d)]||0x0,'ephemeralExpiration':_0x2de5dd[_0x100014(0x4a6)]||0x0});this[_0x100014(0x781)](_0x100014(0x415),_0x3d93d8);},'chats.update':async(_0x1ee3fb,_0x4f2e15)=>{const _0x5f3e8d=_0x24e738;for(let _0x2f0da2 of _0x1ee3fb){let _0x1f0e01={'_id':_0x2f0da2['id'],'owner':this[_0x5f3e8d(0x367)]['wuid'],'archived':_0x2f0da2[_0x5f3e8d(0x34e)],'muteEndTime':_0x2f0da2['muteEndTime'],'ephemeralExpiration':_0x2f0da2[_0x5f3e8d(0x4a6)]},_0x7ec632=!0x1,_0x3e80e9={};_0x1f0e01[_0x5f3e8d(0x34e)]!=null&&(this[_0x5f3e8d(0x29f)]['verbose'](this[_0x5f3e8d(0x185)]+'\x20('+this['instance']['wuid']+_0x5f3e8d(0x4a3)+_0x2f0da2['id']+_0x5f3e8d(0x7f4)+_0x2f0da2['archived']),_0x7ec632=!0x0,_0x3e80e9[_0x5f3e8d(0x34e)]=_0x2f0da2[_0x5f3e8d(0x34e)]),_0x5f3e8d(0x583)in _0x2f0da2&&(this[_0x5f3e8d(0x29f)][_0x5f3e8d(0x2da)](this[_0x5f3e8d(0x185)]+'\x20('+this[_0x5f3e8d(0x367)]['wuid']+_0x5f3e8d(0x1c1)+_0x2f0da2['id']+_0x5f3e8d(0x7f4)+(_0x2f0da2[_0x5f3e8d(0x583)]??'0')),_0x7ec632=!0x0,_0x3e80e9['muteEndTime']=_0x2f0da2[_0x5f3e8d(0x583)]??0x0),_0x5f3e8d(0x4a6)in _0x2f0da2&&(this['logger'][_0x5f3e8d(0x2da)](this['instanceName']+'\x20('+this[_0x5f3e8d(0x367)]['wuid']+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x2f0da2['id']+_0x5f3e8d(0x7f4)+(_0x2f0da2[_0x5f3e8d(0x4a6)]!==void 0x0?_0x2f0da2['ephemeralExpiration']:_0x5f3e8d(0x3d0))),_0x3e80e9[_0x5f3e8d(0x4a6)]=_0x2f0da2['ephemeralExpiration']===null?0x0:_0x2f0da2[_0x5f3e8d(0x4a6)],_0x7ec632=!0x0);let _0xbcf324;_0x7ec632&&(_0xbcf324=await this[_0x5f3e8d(0x4f1)][_0x5f3e8d(0x7fd)][_0x5f3e8d(0x53d)]({'where':{'_id':_0x2f0da2['id']}},_0x3e80e9,this['instance']['wuid'])),_0xbcf324&&J(this[_0x5f3e8d(0x185)],_0x5f3e8d(0x1e2),{'chat':_0xbcf324});}},'chats.delete':async _0x5d99b4=>{const _0x2e2e91=_0x24e738;for(let _0x2ac6bd of _0x5d99b4)if(_0x2ac6bd[_0x2e2e91(0x602)](_0x2e2e91(0x65f))){await this[_0x2e2e91(0x4f1)][_0x2e2e91(0x7fd)]['delete']({'where':{'_id':_0x2ac6bd}},this['instance'][_0x2e2e91(0x18e)]);let _0x2c980={'where':{'key':{'remoteJid':_0x2ac6bd}}};await this[_0x2e2e91(0x4f1)][_0x2e2e91(0x707)][_0x2e2e91(0x253)](_0x2c980,this[_0x2e2e91(0x367)][_0x2e2e91(0x18e)]);}else{await this[_0x2e2e91(0x4f1)][_0x2e2e91(0x7fd)][_0x2e2e91(0x53d)]({'where':{'_id':_0x2ac6bd}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']);let _0x9659c3={'where':{'key':{'remoteJid':_0x2ac6bd}}};await this[_0x2e2e91(0x4f1)][_0x2e2e91(0x707)][_0x2e2e91(0x253)](_0x9659c3,this['instance'][_0x2e2e91(0x18e)]);}this[_0x2e2e91(0x781)]('chats.delete',[..._0x5d99b4]);}},this[_0x24e738(0x753)]={'contacts.upsert':async(_0x289e20,_0x44c03f)=>{const _0x163b32=_0x24e738;let _0x821908=await this['repository'][_0x163b32(0x1da)][_0x163b32(0x802)]({'where':{}},this[_0x163b32(0x367)]['wuid']),_0x9fc9a=[];for await(let _0x4c4c66 of _0x289e20)_0x821908[_0x163b32(0x802)](_0x2765b4=>_0x2765b4[_0x163b32(0x45c)]===_0x4c4c66['id'])||_0x9fc9a['push']({'_id':_0x4c4c66['id'],'pushName':_0x4c4c66?.['name']||_0x4c4c66?.[_0x163b32(0x384)],'owner':this[_0x163b32(0x367)]['wuid']});this[_0x163b32(0x781)](_0x163b32(0x835),_0x9fc9a),await this[_0x163b32(0x4f1)][_0x163b32(0x1da)][_0x163b32(0x202)](_0x9fc9a);},'contacts.update':async(_0x3ca5ea,_0x2b0ffe)=>{const _0x3736e2=_0x24e738;let _0xa70d54=[];for await(let _0x2f4e52 of _0x3ca5ea)_0xa70d54['push']({'_id':_0x2f4e52['id'],'pushName':_0x2f4e52?.[_0x3736e2(0x5f8)]??_0x2f4e52?.['verifiedName'],'owner':this[_0x3736e2(0x367)]['wuid']});this[_0x3736e2(0x781)](_0x3736e2(0x5c4),_0xa70d54);}},this[_0x24e738(0x2d9)]={'messaging-history.set':async({messages:_0x4170bc,chats:_0x24cc36,isLatest:_0x2a90e0},_0x3632d6)=>{const _0x152ab5=_0x24e738;if(_0x2a90e0){let _0x1ecedd=await Promise[_0x152ab5(0x4e2)](_0x24cc36[_0x152ab5(0x643)](async _0x14d861=>({'_id':_0x14d861['id'],'owner':this[_0x152ab5(0x367)][_0x152ab5(0x18e)],'group':_0x14d861['id'][_0x152ab5(0x602)](_0x152ab5(0x65f)),'name':_0x14d861[_0x152ab5(0x5f8)]||_0x14d861[_0x152ab5(0x29b)]||_0x14d861['username']||null,'contactname':null,'lastmsg':_0x14d861['conversationTimestamp']&&_0x14d861[_0x152ab5(0x7b1)]['toString']()[_0x152ab5(0x6f5)]<0xd?_0x14d861['conversationTimestamp']*0x3e8:_0x14d861[_0x152ab5(0x7b1)]||null,'archived':_0x14d861[_0x152ab5(0x34e)]||!0x1,'unreadcount':_0x14d861[_0x152ab5(0x65d)]||0x0,'ephemeralExpiration':_0x14d861[_0x152ab5(0x4a6)]||0x0,'muteEndTime':_0x14d861[_0x152ab5(0x583)]||0x0})));this[_0x152ab5(0x781)](_0x152ab5(0x2f2),_0x1ecedd),await this[_0x152ab5(0x266)](_0x1ecedd,_0x3632d6);}let _0x8f0af=[],_0x987710=Date[_0x152ab5(0x433)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3348d4]of Object[_0x152ab5(0x468)](_0x4170bc)){if(_0x3348d4['message']?.['protocolMessage']||_0x3348d4['message']?.[_0x152ab5(0x57c)]||!_0x3348d4[_0x152ab5(0x707)]||_0x3348d4[_0x152ab5(0x332)][_0x152ab5(0x484)]===_0x152ab5(0x178)||(Ts[_0x152ab5(0x3fd)][_0x152ab5(0x7a4)](_0x3348d4?.[_0x152ab5(0x310)])&&(_0x3348d4[_0x152ab5(0x310)]=_0x3348d4[_0x152ab5(0x310)]?.[_0x152ab5(0x2c5)]()),_0x3348d4[_0x152ab5(0x310)]&&_0x3348d4['messageTimestamp']['toString']()['length']<0xd&&(_0x3348d4[_0x152ab5(0x310)]=_0x3348d4[_0x152ab5(0x310)]*0x3e8),_0x3348d4[_0x152ab5(0x310)]<_0x987710))continue;let _0x53b73e=(0x0,w[_0x152ab5(0x533)])(_0x3348d4[_0x152ab5(0x707)]),_0x244370=(0x0,w['getContentType'])(_0x53b73e),{message_normalized:_0x41c49d}=this[_0x152ab5(0x33f)](_0x53b73e,_0x244370,null);Object[_0x152ab5(0x58c)](_0x41c49d)[_0x152ab5(0x6f5)]>0x0&&_0x8f0af[_0x152ab5(0x57d)]({'_id':_0x3348d4['key']['id'],'key':_0x3348d4[_0x152ab5(0x332)],'pushName':_0x3348d4[_0x152ab5(0x81c)],'participant':_0x3348d4[_0x152ab5(0x5f6)],'message':_0x53b73e,'messageType':_0x244370,'message_normalized':{'key':_0x3348d4[_0x152ab5(0x332)],'pushName':_0x3348d4[_0x152ab5(0x81c)],'messageTimestamp':_0x3348d4[_0x152ab5(0x310)],..._0x41c49d},'messageTimestamp':_0x3348d4[_0x152ab5(0x310)],'owner':this[_0x152ab5(0x367)][_0x152ab5(0x18e)]});}_0x3632d6[_0x152ab5(0x22a)]&&_0x8f0af['length']>0x0&&(this[_0x152ab5(0x29f)][_0x152ab5(0x2da)](this[_0x152ab5(0x185)]+'\x20('+this['instance'][_0x152ab5(0x18e)]+_0x152ab5(0x1db)+_0x8f0af[_0x152ab5(0x6f5)]+_0x152ab5(0x5b7)+this[_0x152ab5(0x367)][_0x152ab5(0x18e)]+_0x152ab5(0x245)),await this[_0x152ab5(0x4f1)][_0x152ab5(0x707)][_0x152ab5(0x202)]([..._0x8f0af],this[_0x152ab5(0x367)][_0x152ab5(0x18e)])),this['sendDataWebhook'](_0x152ab5(0x49f),[..._0x8f0af]),_0x4170bc=void 0x0;},'messages.upsert':async({messages:_0x3cc180,type:_0xe16f93},_0x5c123e)=>{const _0x28ba5a=_0x24e738;let _0x32e9fc=_0x3cc180[0x0],_0x45f5ea=_0x32e9fc['messageStubParameters']&&_0x32e9fc[_0x28ba5a(0x3b7)][0x0]==='Message\x20absent\x20from\x20node';if(this['localWebhook']?.['groups_ignore']&&_0x32e9fc['key']['remoteJid']['includes'](_0x28ba5a(0x65f))){this['logger'][_0x28ba5a(0x2da)](this['instanceName']+'\x20('+this[_0x28ba5a(0x367)][_0x28ba5a(0x18e)]+_0x28ba5a(0x56f));return;}if(_0x45f5ea){for(let _0x9b395e=0x0;_0x9b395e<0x5;_0x9b395e++)try{await this['client'][_0x28ba5a(0x3fe)](JSON[_0x28ba5a(0x3fb)](_0x32e9fc[_0x28ba5a(0x3b7)][0x1],w[_0x28ba5a(0x529)][_0x28ba5a(0x20a)])),this[_0x28ba5a(0x29f)][_0x28ba5a(0x364)](this[_0x28ba5a(0x185)]+'\x20('+this['instance']['wuid']+_0x28ba5a(0x1ef)+(_0x9b395e+0x1)+_0x28ba5a(0x597)+_0x32e9fc[_0x28ba5a(0x332)]['id']+_0x28ba5a(0x823)+_0x32e9fc[_0x28ba5a(0x332)]['remoteJid']+')');break;}catch(_0x3a83ef){if(this[_0x28ba5a(0x29f)]['error'](this[_0x28ba5a(0x185)]+'\x20('+this['instance'][_0x28ba5a(0x18e)]+_0x28ba5a(0x610)+(_0x9b395e+0x1)+_0x28ba5a(0x52d)+_0x32e9fc[_0x28ba5a(0x332)]['id']+_0x28ba5a(0x823)+_0x32e9fc[_0x28ba5a(0x332)]['remoteJid']+')'),_0x9b395e===0x4)throw _0x3a83ef;await new Promise(_0xf59c49=>setTimeout(_0xf59c49,0x7d0));}}if(_0xe16f93!=='notify'||!_0x32e9fc?.['message']||_0x32e9fc['message']?.[_0x28ba5a(0x43f)]||_0x32e9fc[_0x28ba5a(0x707)]['senderKeyDistributionMessage']||_0x32e9fc[_0x28ba5a(0x332)][_0x28ba5a(0x484)]==='status@broadcast')return;let _0x3126cf=null,_0x5cfb92=null;try{_0x3126cf=await this[_0x28ba5a(0x5ef)](_0x32e9fc),_0x5cfb92=_0x3126cf?_0x3126cf[_0x28ba5a(0x692)](','):null;}catch(_0x3b89f8){this[_0x28ba5a(0x29f)][_0x28ba5a(0x2da)](this[_0x28ba5a(0x185)]+'\x20('+this['instance'][_0x28ba5a(0x18e)]+_0x28ba5a(0x1db)+(_0x3b89f8 instanceof Error?_0x3b89f8[_0x28ba5a(0x707)]:JSON[_0x28ba5a(0x4eb)](_0x3b89f8,null,0x2))),_0x5cfb92=_0x28ba5a(0x390);}this[_0x28ba5a(0x521)][_0x28ba5a(0x3d9)](_0x28ba5a(0x65b)),Ts['default']['isLong'](_0x32e9fc[_0x28ba5a(0x310)])&&(_0x32e9fc[_0x28ba5a(0x310)]=_0x32e9fc[_0x28ba5a(0x310)]?.[_0x28ba5a(0x2c5)]()),_0x32e9fc[_0x28ba5a(0x310)]&&_0x32e9fc[_0x28ba5a(0x310)]['toString']()['length']<0xd&&(_0x32e9fc[_0x28ba5a(0x310)]=_0x32e9fc[_0x28ba5a(0x310)]*0x3e8);let _0x398abb=_0x32e9fc[_0x28ba5a(0x707)],_0x2e6451=(0x0,w[_0x28ba5a(0x533)])(_0x398abb),_0x40d301=(0x0,w[_0x28ba5a(0x3d7)])(_0x2e6451),{messageContent:_0x10167d,message_normalized:_0x5dca50}=this[_0x28ba5a(0x33f)](_0x2e6451,_0x40d301,_0x5cfb92);_0x40d301===_0x28ba5a(0x43f)&&_0x10167d?.[_0x28ba5a(0x43a)]&&(_0x40d301=_0x28ba5a(0x43a));let _0x1055d3,_0x24ea7a=_0x32e9fc[_0x28ba5a(0x332)][_0x28ba5a(0x484)][_0x28ba5a(0x602)](_0x28ba5a(0x65f));if(_0x32e9fc[_0x28ba5a(0x332)][_0x28ba5a(0x600)])_0x1055d3=this['instance'][_0x28ba5a(0x73d)];else{let _0x59817d=_0x24ea7a?_0x32e9fc[_0x28ba5a(0x332)][_0x28ba5a(0x5f6)]:_0x32e9fc[_0x28ba5a(0x332)]['remoteJid'];_0x1055d3=(await this[_0x28ba5a(0x588)](_0x59817d,_0x32e9fc[_0x28ba5a(0x81c)],!0x1))['cachedContact']['pictureUrl'];}let _0x4e0740={'_id':_0x32e9fc[_0x28ba5a(0x332)]['id'],'key':_0x32e9fc[_0x28ba5a(0x332)],'isGroup':_0x24ea7a,'profilePictureUrl':_0x1055d3,'pushName':_0x32e9fc[_0x28ba5a(0x81c)],'message':_0x2e6451,'messageType':_0x40d301,'message_normalized':{'key':_0x32e9fc[_0x28ba5a(0x332)],'pushName':_0x32e9fc[_0x28ba5a(0x81c)],'messageTimestamp':_0x32e9fc[_0x28ba5a(0x310)],'source':(0x0,w[_0x28ba5a(0x1d5)])(_0x32e9fc[_0x28ba5a(0x332)]['id']),..._0x5dca50},'messageTimestamp':_0x32e9fc['messageTimestamp'],'owner':this[_0x28ba5a(0x367)]['wuid'],'source':(0x0,w[_0x28ba5a(0x1d5)])(_0x32e9fc[_0x28ba5a(0x332)]['id']),'expiration':_0x10167d?.[_0x28ba5a(0x46f)]?.[_0x28ba5a(0x7ea)]||0x0};_0x10167d||(console['error'](_0x28ba5a(0x725)),console[_0x28ba5a(0x62f)](_0x4e0740)),this['logger']['log'](this['instanceName']+'\x20('+this[_0x28ba5a(0x367)]['wuid']+_0x28ba5a(0x1db)+(_0x4e0740[_0x28ba5a(0x332)]?.[_0x28ba5a(0x600)]?_0x28ba5a(0x437):'recebido\x20de')+'\x20['+_0x4e0740[_0x28ba5a(0x332)]?.[_0x28ba5a(0x484)][_0x28ba5a(0x5c6)](_0x28ba5a(0x454),'')+_0x28ba5a(0x6fd)+_0x4e0740[_0x28ba5a(0x371)]+')'),_0x4e0740[_0x28ba5a(0x672)]?.['text']&&this[_0x28ba5a(0x29f)][_0x28ba5a(0x685)](_0x32e9fc[_0x28ba5a(0x332)]['id']+':\x20'+_0x4e0740['message_normalized']?.[_0x28ba5a(0x295)]),await this['repository'][_0x28ba5a(0x707)][_0x28ba5a(0x202)]([_0x4e0740],this[_0x28ba5a(0x367)][_0x28ba5a(0x18e)]),this[_0x28ba5a(0x781)](_0x28ba5a(0x7b3),_0x4e0740),J(this['instanceName'],_0x28ba5a(0x519),{'message':_0x4e0740}),_0x32e9fc[_0x28ba5a(0x332)]['remoteJid']!==_0x28ba5a(0x178)&&await this[_0x28ba5a(0x5f1)](_0x5c123e,_0x4e0740,_0x28ba5a(0x55b));},'messages.update':async(_0x5970bc,_0x52b764)=>{const _0xe337a5=_0x24e738;let _0x12fd12={0x0:'ERROR',0x1:_0xe337a5(0x55f),0x2:_0xe337a5(0x5e0),0x3:_0xe337a5(0x495),0x4:_0xe337a5(0x1c7),0x5:_0xe337a5(0x235)};for await(let {key:_0x5c7041,update:_0x54a84a}of _0x5970bc){if(this[_0xe337a5(0x4f9)]?.[_0xe337a5(0x3d6)]&&_0x5c7041[_0xe337a5(0x484)][_0xe337a5(0x331)](_0xe337a5(0x65f))){this[_0xe337a5(0x29f)][_0xe337a5(0x2da)](this[_0xe337a5(0x185)]+'\x20('+this[_0xe337a5(0x367)][_0xe337a5(0x18e)]+_0xe337a5(0x744));return;}if(_0x5c7041[_0xe337a5(0x484)]!==_0xe337a5(0x178)){let _0x31536a=Date['now'](),_0x3c8ec8;_0x54a84a['message']===null&&_0x54a84a[_0xe337a5(0x7b4)]===void 0x0?_0x3c8ec8=_0xe337a5(0x4d0):_0x3c8ec8=_0x12fd12[_0x54a84a['status']];let _0xb0fa08=_0x5c7041[_0xe337a5(0x484)][_0xe337a5(0x5c6)](/:\d{1,2}@/g,'@'),_0x15951e={..._0x5c7041,'remoteJid':_0xb0fa08,'status':_0x3c8ec8,'datetime':_0x31536a,'owner':this[_0xe337a5(0x367)]['wuid']};this[_0xe337a5(0x781)](_0xe337a5(0x3ed),_0x15951e),await this[_0xe337a5(0x5b4)](_0x5c7041,_0x15951e);}}},'labels.association':async({type:_0x22a938,association:_0x4aecca})=>{const _0x20aaeb=_0x24e738;if(_0x4aecca[_0x20aaeb(0x3f1)]===_0x20aaeb(0x82b)){let _0x2167f7,_0xa91f8a=0x0;for(;!_0x2167f7&&_0xa91f8a<this[_0x20aaeb(0x4fe)];)_0x2167f7=await this[_0x20aaeb(0x4f1)][_0x20aaeb(0x7fd)][_0x20aaeb(0x6cc)]({'where':{'_id':_0x4aecca[_0x20aaeb(0x474)]}},this[_0x20aaeb(0x367)][_0x20aaeb(0x18e)]),_0x2167f7||(_0xa91f8a++,this[_0x20aaeb(0x29f)][_0x20aaeb(0x364)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x20aaeb(0x3c8)+_0x4aecca[_0x20aaeb(0x474)]+_0x20aaeb(0x647)+this[_0x20aaeb(0x2a1)]+_0x20aaeb(0x315)+_0xa91f8a+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x20aaeb(0x7b7)](this[_0x20aaeb(0x2a1)]));if(!_0x2167f7){console[_0x20aaeb(0x62f)]('Falhou\x20ao\x20encontrar\x20chat\x20'+_0x4aecca[_0x20aaeb(0x474)]+'\x20depois\x20'+this[_0x20aaeb(0x4fe)]+'\x20tentativas.');return;}switch(_0x22a938){case _0x20aaeb(0x7d8):console[_0x20aaeb(0x685)](_0x4aecca),await this[_0x20aaeb(0x4f1)][_0x20aaeb(0x7fd)][_0x20aaeb(0x53d)]({'where':{'_id':_0x4aecca['chatId']}},{'leadInfo.etiquetas':_0x4aecca[_0x20aaeb(0x764)]},this[_0x20aaeb(0x367)][_0x20aaeb(0x18e)],void 0x0,'$addToSet');break;case'remove':console[_0x20aaeb(0x685)](_0x4aecca),await this['repository'][_0x20aaeb(0x7fd)][_0x20aaeb(0x53d)]({'where':{'_id':_0x4aecca['chatId']}},{'leadInfo.etiquetas':_0x4aecca[_0x20aaeb(0x764)]},this[_0x20aaeb(0x367)][_0x20aaeb(0x18e)],void 0x0,_0x20aaeb(0x4a9));break;default:console['error'](_0x20aaeb(0x700)+_0x22a938+']');}}},'labels.edit':async _0x53cea2=>{const _0x4bf255=_0x24e738;if(!_0x53cea2||!_0x53cea2['id']){console[_0x4bf255(0x62f)](_0x4bf255(0x6ac));return;}if(!_0x53cea2[_0x4bf255(0x265)]){let _0x82ccc9=[_0x4bf255(0x3bd),_0x4bf255(0x2dc),'#fed428','#dfaef0',_0x4bf255(0x6bc),'#56ccb4','#fe9dfe','#d3a91f',_0x4bf255(0x81b),'#d8e651','#01d0e2',_0x4bf255(0x702),_0x4bf255(0x5d3),_0x4bf255(0x2e3),_0x4bf255(0x414),_0x4bf255(0x5de),_0x4bf255(0x249),_0x4bf255(0x2b6),_0x4bf255(0x569),_0x4bf255(0x24b)],_0x58512c;typeof _0x53cea2[_0x4bf255(0x678)]==_0x4bf255(0x570)&&_0x53cea2[_0x4bf255(0x678)]>=0x0&&_0x53cea2[_0x4bf255(0x678)]<_0x82ccc9[_0x4bf255(0x6f5)]?_0x58512c=_0x82ccc9[_0x53cea2[_0x4bf255(0x678)]]:(console[_0x4bf255(0x62f)](_0x4bf255(0x4b3),_0x53cea2[_0x4bf255(0x678)]),_0x58512c=_0x4bf255(0x5cd));let _0x35ecfd={'_id':_0x53cea2['id'],'colorHex':_0x58512c,'color':_0x53cea2?.[_0x4bf255(0x678)],'name':_0x53cea2?.[_0x4bf255(0x5f8)],'owner':this['instance'][_0x4bf255(0x18e)]};await this['repository'][_0x4bf255(0x489)]['updateOne']({'where':{'_id':_0x53cea2['id']}},_0x35ecfd,this[_0x4bf255(0x367)]['wuid']),this[_0x4bf255(0x29f)][_0x4bf255(0x364)](this[_0x4bf255(0x185)]+'\x20('+this[_0x4bf255(0x367)][_0x4bf255(0x18e)]+'):\x20Rótulo\x20atualizado:\x20'+_0x53cea2);}_0x53cea2['deleted']&&(await this[_0x4bf255(0x4f1)][_0x4bf255(0x489)][_0x4bf255(0x253)]({'where':{'_id':_0x53cea2['id']}},this[_0x4bf255(0x367)][_0x4bf255(0x18e)]),this[_0x4bf255(0x29f)][_0x4bf255(0x364)](_0x4bf255(0x3b5)+_0x53cea2['id']));}},this[_0x24e738(0x448)]={'groups.upsert':async _0x4b41ea=>{const _0x402eea=_0x24e738;this[_0x402eea(0x4f9)]?.[_0x402eea(0x3d6)]||this[_0x402eea(0x781)]('groups.upsert',_0x4b41ea);for(let _0x53aad3 of _0x4b41ea)await this[_0x402eea(0x156)](_0x53aad3);},'groups.update':async _0x2a5a9d=>{const _0x446d5d=_0x24e738;this[_0x446d5d(0x4f9)]?.[_0x446d5d(0x3d6)]||this['sendDataWebhook'](_0x446d5d(0x273),_0x2a5a9d);for(let _0x7fbb5 of _0x2a5a9d)await this[_0x446d5d(0x156)](_0x7fbb5);},'group-participants.update':async _0x8a9b47=>{const _0x1b8065=_0x24e738;this['localWebhook']?.[_0x1b8065(0x3d6)]||this[_0x1b8065(0x781)]('group-participants.update',_0x8a9b47),await this[_0x1b8065(0x2b0)](_0x8a9b47);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x24e738(0x2a1)]=0x1388,this[_0x24e738(0x5ef)]=async _0x2968a3=>{const _0x120c4a=_0x24e738;if(_0x2968a3[_0x120c4a(0x707)]?.['pollUpdateMessage']){let _0x16237c=await this[_0x120c4a(0x171)](_0x2968a3[_0x120c4a(0x707)][_0x120c4a(0x6ad)][_0x120c4a(0x1a5)],!0x0);if(_0x16237c){let _0xcff5bb=_0x16237c['key'][_0x120c4a(0x600)]?this[_0x120c4a(0x367)][_0x120c4a(0x18e)]+_0x120c4a(0x454):_0x16237c[_0x120c4a(0x332)][_0x120c4a(0x5f6)]||_0x16237c[_0x120c4a(0x332)]['remoteJid'],_0xb21873=_0x16237c['key']['id'],_0x27ffa3=_0x16237c['message'],_0x53a207=Buffer[_0x120c4a(0x28d)](_0x27ffa3[_0x120c4a(0x64d)][_0x120c4a(0x587)]['toString']('hex'),'hex'),_0x695b60=(0x0,w[_0x120c4a(0x1e6)])(_0x2968a3[_0x120c4a(0x707)]['pollUpdateMessage'][_0x120c4a(0x808)],{'pollCreatorJid':_0xcff5bb,'pollMsgId':_0xb21873,'pollEncKey':_0x53a207,'voterJid':_0x2968a3[_0x120c4a(0x332)][_0x120c4a(0x600)]?this['instance'][_0x120c4a(0x18e)]+_0x120c4a(0x454):_0x2968a3[_0x120c4a(0x332)][_0x120c4a(0x484)][_0x120c4a(0x602)]('g.us')?_0x2968a3[_0x120c4a(0x332)]['participant']:_0x2968a3[_0x120c4a(0x332)]['remoteJid']}),_0x247c4f=[],_0x357e99=_0x695b60[_0x120c4a(0x574)]['map'](_0x2d2e87=>Buffer[_0x120c4a(0x28d)](_0x2d2e87)[_0x120c4a(0x513)](_0x120c4a(0x159)));for(let {optionName:_0x3ff702}of _0x27ffa3['pollCreationMessage']?.[_0x120c4a(0x2a8)]||_0x27ffa3[_0x120c4a(0x59f)]?.[_0x120c4a(0x2a8)]||_0x27ffa3[_0x120c4a(0x4d1)]?.[_0x120c4a(0x2a8)])_0x357e99['indexOf']((0x0,w[_0x120c4a(0x3b3)])(Buffer[_0x120c4a(0x28d)](_0x3ff702))['toString'](_0x120c4a(0x159)))>-0x1&&_0x247c4f[_0x120c4a(0x57d)](_0x3ff702);return _0x247c4f;}}return null;},this[_0x24e738(0x33f)]=(_0x518257,_0xe9f2ab,_0x2386c5)=>{const _0x1f9509=_0x24e738;try{let _0x35745b=_0x518257?(0x0,w[_0x1f9509(0x1f7)])(_0x518257)[_0xe9f2ab]:void 0x0,_0x308408={},_0x3dbad8=null,_0x5469d5=null,_0xe70b17=null;_0xe9f2ab===_0x1f9509(0x43f)&&_0x35745b?.[_0x1f9509(0x43a)]&&(_0xe9f2ab=(0x0,w[_0x1f9509(0x3d7)])(_0x35745b['editedMessage']),_0x3dbad8=_0x518257[_0x1f9509(0x43f)]['key']['id'],_0x35745b=_0x518257[_0x1f9509(0x43f)][_0x1f9509(0x43a)][_0xe9f2ab]),_0x518257[_0xe9f2ab]?.[_0x1f9509(0x46f)]?.['stanzaId']&&_0x518257[_0xe9f2ab]?.[_0x1f9509(0x46f)]?.[_0x1f9509(0x6cf)]&&(_0x5469d5=_0x518257[_0xe9f2ab][_0x1f9509(0x46f)][_0x1f9509(0x7e7)]),_0x518257[_0x1f9509(0x397)]&&(_0xe70b17=_0x518257['reactionMessage'][_0x1f9509(0x332)]['id']);let _0x398976;if(_0x35745b&&typeof _0x35745b=='object'&&_0x1f9509(0x1a5)in _0x35745b&&({pollCreationMessageKey:_0x398976}=_0x35745b),_0xe9f2ab===_0x1f9509(0x485)||_0xe9f2ab===_0x1f9509(0x4d1)||_0xe9f2ab===_0x1f9509(0x59f)){let _0x5ad53b=_0x35745b['options'][_0x1f9509(0x643)](_0x40557d=>_0x40557d['optionName'])[_0x1f9509(0x692)]('|');_0x308408[_0x1f9509(0x51f)]=_0x5ad53b;}let _0x2a6ef0='';if(_0x35745b&&(_0x2a6ef0+=_0x35745b[_0x1f9509(0x5f8)]?_0x35745b[_0x1f9509(0x5f8)]:'',_0x2a6ef0+=_0x35745b[_0x1f9509(0x689)]?'\x20'+_0x35745b[_0x1f9509(0x689)]:'',_0x2a6ef0+=_0x35745b[_0x1f9509(0x429)]?'\x20'+_0x35745b[_0x1f9509(0x429)]:'',_0x2a6ef0+=_0x35745b[_0x1f9509(0x29b)]?'\x20'+_0x35745b[_0x1f9509(0x29b)]:''),_0xe9f2ab===_0x1f9509(0x51c)){_0x2a6ef0=(_0x35745b[_0x1f9509(0x81d)]||'')+'\x0a'+(_0x35745b[_0x1f9509(0x1a7)]||'')+'\x0a'+(_0x35745b[_0x1f9509(0x552)]||'');let _0x50416b=this['sectionsToString'](_0x35745b[_0x1f9509(0x452)]);_0x308408[_0x1f9509(0x51f)]=_0x50416b;}if(_0xe9f2ab===_0x1f9509(0x165)&&(_0x2386c5=_0x35745b['title']),_0x35745b&&_0x35745b[_0x1f9509(0x32c)]){let _0x2ace8a=this[_0x1f9509(0x4ee)](JSON[_0x1f9509(0x4eb)](_0x35745b[_0x1f9509(0x32c)],null,0x2));_0x2a6ef0=_0x2a6ef0+'\x0a'+_0x2ace8a;}if(_0x35745b){let {sections:_0x14e0e2,listType:_0x228987,displayName:_0x2b1079,vcard:_0x1a711c,contactVcard:_0xf8f419,name:_0x51ae59,caption:_0x434afb,conversation:_0x1ee2e4,pollCreationMessageKey:_0x534cfd,footerText:_0x1b9e15,contentText:_0x370917,pageCount:_0x44a324,headerType:_0x1a9be9,isAvatar:_0x342931,isAnimated:_0x5e4e88,fallbackLc:_0x48282c,fallbackLg:_0x11d62c,namespace:_0x75b0cf,elementName:_0x1b92b4,localizableParams:_0x27b94,viewOnce:_0x524a2d,height:_0x4f7d9b,width:_0x494e4a,key:_0x5d5c26,firstScanLength:_0x302230,firstScanSidecar:_0x19d14b,gifPlayback:_0x4ee71c,gifAttribution:_0x3bfcb5,midQualityFileSha256:_0x158ada,scansSidecar:_0x460059,streamingSidecar:_0x5e6011,thumbnailHeight:_0x59455a,thumbnailWidth:_0x59c522,thumbnailEncSha256:_0x19bbd5,thumbnailDirectPath:_0x47c039,canonicalUrl:_0x1c176b,matchedText:_0x4f1c16,previewType:_0xfae067,thumbnailSha256:_0x4fd97a,deviceListMetadataVersion:_0x191974,inviteLinkGroupTypeV2:_0x55d2e9,interactiveAnnotations:_0x44457a,scanLengths:_0x1af4b0,jpegThumbnail:_0x3d5950,url:_0x435259,mediaKeyTimestamp:_0x56789a,waveform:_0x2e475c,stickerSentTs:_0x4d3ee6,firstFrameLength:_0x11297d,fileEncSha256:_0x2982a8,contextInfo:_0x5b9486,firstFrameSidecar:_0x3a3f42,directPath:_0x378a66,fileSha256:_0x8fb65b,mediaKey:_0x14e1b1,senderTimestampMs:_0x27e01b,..._0xad198a}=_0x35745b;(_0xe9f2ab===_0x1f9509(0x51c)||_0xe9f2ab===_0x1f9509(0x165))&&(delete _0xad198a[_0x1f9509(0x81d)],delete _0xad198a[_0x1f9509(0x1a7)]),typeof _0x35745b=='string'?_0x308408={'text':_0x35745b,'type':_0xe9f2ab||_0x1f9509(0x429),..._0x3dbad8&&{'edited':_0x3dbad8},..._0x5469d5&&{'quoted':_0x5469d5},..._0xe70b17&&{'reaction':_0xe70b17}}:_0x308408={'text':_0x2a6ef0,..._0xad198a,..._0xe9f2ab===_0x1f9509(0x6ad)?{'poll_id':_0x35745b[_0x1f9509(0x1a5)]['id'],'quoted':_0x35745b[_0x1f9509(0x1a5)]['id'],'vote':_0x2386c5}:{},..._0xe9f2ab===_0x1f9509(0x165)?{'vote':_0x2386c5}:{},'type':_0xe9f2ab,..._0x3dbad8&&{'edited':_0x3dbad8},..._0x5469d5&&{'quoted':_0x5469d5},..._0xe70b17&&{'reaction':_0xe70b17},...(_0xe9f2ab==='pollCreationMessage'||_0xe9f2ab===_0x1f9509(0x4d1)||_0xe9f2ab==='pollCreationMessageV3'||_0xe9f2ab===_0x1f9509(0x51c))&&{'convertedOptions':_0x308408[_0x1f9509(0x51f)]}};}return{'messageType':_0xe9f2ab,'messageContent':_0x35745b,'message_normalized':_0x308408};}catch(_0x228346){return console[_0x1f9509(0x62f)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x228346),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x24e738(0x713)](),this[_0x24e738(0x367)][_0x24e738(0x839)]={'count':0x0},this['instance'][_0x24e738(0x280)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x34238b(0x185)](_0x3e03c3){const _0x5bdb81=a0_0x34238b;if(!_0x3e03c3){this['instance']['name']=(0x0,bi['v4'])();return;}this[_0x5bdb81(0x367)][_0x5bdb81(0x5f8)]=_0x3e03c3,this[_0x5bdb81(0x781)]('status.instance',{'instance':this[_0x5bdb81(0x367)][_0x5bdb81(0x5f8)],'status':_0x5bdb81(0x75d)});}get[a0_0x34238b(0x185)](){const _0x3d8c2f=a0_0x34238b;return this[_0x3d8c2f(0x367)][_0x3d8c2f(0x5f8)];}get['wuid'](){return this['instance']['wuid'];}async[a0_0x34238b(0x399)](){const _0x4ecdc1=a0_0x34238b;let _0x35610a=this[_0x4ecdc1(0x521)]['user']?.[_0x4ecdc1(0x5f8)]??this['client'][_0x4ecdc1(0x486)]?.[_0x4ecdc1(0x384)];if(!_0x35610a){if(this[_0x4ecdc1(0x5ff)][_0x4ecdc1(0x480)](_0x4ecdc1(0x16f))['ENABLED']){let _0x35b92d=await $[_0x4ecdc1(0x789)]()['db'](this[_0x4ecdc1(0x5ff)][_0x4ecdc1(0x480)](_0x4ecdc1(0x16f))[_0x4ecdc1(0x7da)]['DB_PREFIX_NAME']+_0x4ecdc1(0x5ad))[_0x4ecdc1(0x322)](this[_0x4ecdc1(0x185)])[_0x4ecdc1(0x6cc)]({'_id':_0x4ecdc1(0x1ee)});if(_0x35b92d){let _0x1dbf18=JSON[_0x4ecdc1(0x3fb)](JSON['stringify'](_0x35b92d),w['BufferJSON'][_0x4ecdc1(0x20a)]);_0x35610a=_0x1dbf18['me']?.[_0x4ecdc1(0x5f8)]||_0x1dbf18['me']?.['verifiedName'];}}else{if((0x0,xe['existsSync'])((0x0,F[_0x4ecdc1(0x692)])(me,this[_0x4ecdc1(0x185)],_0x4ecdc1(0x427)))){let _0x48de72=JSON[_0x4ecdc1(0x3fb)]((0x0,xe['readFileSync'])((0x0,F[_0x4ecdc1(0x692)])(me,this[_0x4ecdc1(0x185)],_0x4ecdc1(0x427)),{'encoding':_0x4ecdc1(0x603)}));_0x35610a=_0x48de72['me']?.[_0x4ecdc1(0x5f8)]||_0x48de72['me']?.[_0x4ecdc1(0x384)];}}}return _0x35610a;}get[a0_0x34238b(0x73d)](){const _0x643b38=a0_0x34238b;return this[_0x643b38(0x367)][_0x643b38(0x73d)];}get[a0_0x34238b(0x2b7)](){const _0x5e938a=a0_0x34238b;return this['instance'][_0x5e938a(0x839)]?.['pairingCode']?{'pairingCode':this[_0x5e938a(0x367)][_0x5e938a(0x839)]?.[_0x5e938a(0x78f)]}:{'code':this[_0x5e938a(0x367)][_0x5e938a(0x839)]?.[_0x5e938a(0x2f4)],'base64':this[_0x5e938a(0x367)]['qrcode']?.[_0x5e938a(0x4ca)]};}async[a0_0x34238b(0x2bb)](){const _0x39c36d=a0_0x34238b;let _0x262ed5=await this[_0x39c36d(0x4f1)][_0x39c36d(0x630)][_0x39c36d(0x802)](this[_0x39c36d(0x185)]);this['localWebhook'][_0x39c36d(0x682)]=_0x262ed5?.['url'],this[_0x39c36d(0x4f9)][_0x39c36d(0x6f3)]=_0x262ed5?.[_0x39c36d(0x6f3)],this[_0x39c36d(0x4f9)][_0x39c36d(0x372)]=_0x262ed5?.[_0x39c36d(0x372)],this[_0x39c36d(0x4f9)][_0x39c36d(0x812)]=_0x262ed5?.['STATUS_INSTANCE'],this[_0x39c36d(0x4f9)][_0x39c36d(0x1d3)]=_0x262ed5?.[_0x39c36d(0x1d3)],this['localWebhook'][_0x39c36d(0x31b)]=_0x262ed5?.['SEND_MESSAGE'],this[_0x39c36d(0x4f9)][_0x39c36d(0x55b)]=_0x262ed5?.[_0x39c36d(0x55b)],this[_0x39c36d(0x4f9)][_0x39c36d(0x584)]=_0x262ed5?.[_0x39c36d(0x584)],this['localWebhook'][_0x39c36d(0x6e4)]=_0x262ed5?.['GROUPS_UPSERT'],this[_0x39c36d(0x4f9)][_0x39c36d(0x7ee)]=_0x262ed5?.[_0x39c36d(0x7ee)],this[_0x39c36d(0x4f9)][_0x39c36d(0x476)]=_0x262ed5?.['GROUP_PARTICIPANTS_UPDATE'],this['localWebhook']['CHATS_SET']=_0x262ed5?.[_0x39c36d(0x3f7)],this[_0x39c36d(0x4f9)][_0x39c36d(0x6a7)]=_0x262ed5?.[_0x39c36d(0x6a7)],this[_0x39c36d(0x4f9)][_0x39c36d(0x72f)]=_0x262ed5?.['CHATS_UPDATE'],this['localWebhook'][_0x39c36d(0x7ac)]=_0x262ed5?.[_0x39c36d(0x7ac)],this[_0x39c36d(0x4f9)]['CONTACTS_SET']=_0x262ed5?.[_0x39c36d(0x1df)],this[_0x39c36d(0x4f9)][_0x39c36d(0x5e8)]=_0x262ed5?.[_0x39c36d(0x5e8)],this['localWebhook'][_0x39c36d(0x531)]=_0x262ed5?.[_0x39c36d(0x531)],this[_0x39c36d(0x4f9)][_0x39c36d(0x1b5)]=_0x262ed5?.[_0x39c36d(0x1b5)],this[_0x39c36d(0x4f9)][_0x39c36d(0x5f4)]=_0x262ed5?.[_0x39c36d(0x5f4)],this[_0x39c36d(0x4f9)][_0x39c36d(0x7d9)]=_0x262ed5?.[_0x39c36d(0x7d9)],this[_0x39c36d(0x4f9)][_0x39c36d(0x3d6)]=_0x262ed5?.['groups_ignore'];}async[a0_0x34238b(0x227)](_0x378890){const _0x426549=a0_0x34238b;let _0x166258=[_0x426549(0x45c),'url','enabled',_0x426549(0x372),_0x426549(0x812),_0x426549(0x1d3),_0x426549(0x584),_0x426549(0x55b),'SEND_MESSAGE',_0x426549(0x6e4),_0x426549(0x7ee),_0x426549(0x476),'CHATS_SET',_0x426549(0x6a7),_0x426549(0x72f),'CHATS_DELETE',_0x426549(0x1df),_0x426549(0x5e8),_0x426549(0x531),_0x426549(0x1b5),_0x426549(0x5f4),_0x426549(0x7d9),_0x426549(0x3d6)],_0x2ae7bc={};return _0x166258['forEach'](_0x4aaf49=>{_0x378890[_0x4aaf49]!==void 0x0&&(_0x2ae7bc[_0x4aaf49]=_0x378890[_0x4aaf49]);}),_0x2ae7bc[_0x426549(0x682)]&&(_0x2ae7bc['url']=_0x2ae7bc['url'][_0x426549(0x22d)]()),await this[_0x426549(0x4f1)]['webhook'][_0x426549(0x6a0)](_0x2ae7bc,this[_0x426549(0x185)]),Object['assign'](this['localWebhook'],_0x2ae7bc),await this[_0x426549(0x4f1)][_0x426549(0x630)][_0x426549(0x802)](this[_0x426549(0x185)]);}async['findWebhook'](){const _0x97df4b=a0_0x34238b;return await this[_0x97df4b(0x4f1)][_0x97df4b(0x630)][_0x97df4b(0x802)](this[_0x97df4b(0x185)]);}async[a0_0x34238b(0x781)](_0x44da46,_0x9d0cca){const _0x2c176b=a0_0x34238b;let _0x3d1b72=_0x44da46['replace'](/[\.-]/gm,'_')['toUpperCase'](),_0x543d8c=this['localWebhook']['enabled']&&(0x0,P[_0x2c176b(0x762)])(this['localWebhook'][_0x2c176b(0x682)])?this['localWebhook'][_0x2c176b(0x682)]+(this[_0x2c176b(0x4f9)]['local_map']?this[_0x2c176b(0x3b4)][_0x44da46]:''):null,_0x5de426=this[_0x2c176b(0x4f9)][_0x3d1b72],_0x305ed6=le&&le[_0x2c176b(0x6f3)]&&(0x0,P[_0x2c176b(0x762)])(le[_0x2c176b(0x682)])?le[_0x2c176b(0x682)]+(le[_0x2c176b(0x372)]?this[_0x2c176b(0x3b4)][_0x44da46]:''):null,_0x53926d=le?le[_0x3d1b72]:null;if(_0x5de426&&_0x543d8c)try{await K['default'][_0x2c176b(0x6a0)]({'baseURL':_0x543d8c})[_0x2c176b(0x7c4)]('',{'event':_0x44da46,'instance':this[_0x2c176b(0x367)][_0x2c176b(0x5f8)],'apikey':this[_0x2c176b(0x367)][_0x2c176b(0x4ba)],'data':_0x9d0cca}),this[_0x2c176b(0x29f)][_0x2c176b(0x685)](this[_0x2c176b(0x185)]+'\x20('+this['instance']['wuid']+_0x2c176b(0x2e9)+_0x44da46+':\x20'+_0x543d8c);}catch{this[_0x2c176b(0x29f)][_0x2c176b(0x62f)](this[_0x2c176b(0x185)]+'\x20('+this[_0x2c176b(0x367)][_0x2c176b(0x18e)]+_0x2c176b(0x680)+_0x44da46+':\x20'+_0x543d8c);}if(_0x53926d&&_0x305ed6)try{await K[_0x2c176b(0x3fd)][_0x2c176b(0x6a0)]({'baseURL':_0x305ed6})['post']('',{'event':_0x44da46,'instance':this[_0x2c176b(0x367)]['name'],'apikey':this[_0x2c176b(0x367)][_0x2c176b(0x4ba)],'data':_0x9d0cca}),this[_0x2c176b(0x29f)][_0x2c176b(0x685)](this[_0x2c176b(0x185)]+'\x20('+this[_0x2c176b(0x367)][_0x2c176b(0x18e)]+_0x2c176b(0x761)+_0x44da46+':\x20'+_0x305ed6);}catch{this[_0x2c176b(0x29f)]['error'](this[_0x2c176b(0x185)]+'\x20('+this[_0x2c176b(0x367)][_0x2c176b(0x18e)]+_0x2c176b(0x4c0)+_0x44da46+':\x20'+_0x305ed6);}}async[a0_0x34238b(0x173)]({qr:_0x4d78bf,connection:_0x103072,lastDisconnect:_0x5e35dd}){const _0x20353e=a0_0x34238b;if(_0x4d78bf){if(this[_0x20353e(0x367)]['qrcode'][_0x20353e(0x7a3)]===Eo)return this['sendDataWebhook'](_0x20353e(0x4cf),{'message':_0x20353e(0x3b0),'statusCode':w[_0x20353e(0x1ba)]['badSession']}),this[_0x20353e(0x2e0)]={'state':'refused','statusReason':w['DisconnectReason'][_0x20353e(0x783)]},this[_0x20353e(0x781)](_0x20353e(0x619),{'instance':this[_0x20353e(0x367)]['name'],...this[_0x20353e(0x2e0)]}),this['sendDataWebhook']('status.instance',{'instance':this[_0x20353e(0x367)][_0x20353e(0x5f8)],'status':_0x20353e(0x62d)}),this[_0x20353e(0x4f1)][_0x20353e(0x411)][_0x20353e(0x6a0)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x20353e(0x433)]()},this[_0x20353e(0x367)][_0x20353e(0x5f8)]),this[_0x20353e(0x4f7)]=!0x0,this[_0x20353e(0x72b)][_0x20353e(0x7a1)](_0x20353e(0x34c),this[_0x20353e(0x367)][_0x20353e(0x5f8)]);this['instance']['qrcode'][_0x20353e(0x7a3)]++;let _0x11d18e={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x20353e(0x1aa),'dark':'#000000'}};Si[_0x20353e(0x3fd)][_0x20353e(0x306)](_0x4d78bf,_0x11d18e,(_0x3cbc77,_0x532593)=>{const _0x168142=_0x20353e;if(_0x3cbc77){this[_0x168142(0x29f)][_0x168142(0x62f)](this['instanceName']+'\x20('+this[_0x168142(0x367)]['wuid']+_0x168142(0x7bb)+(_0x3cbc77 instanceof Error?_0x3cbc77[_0x168142(0x707)]:JSON[_0x168142(0x4eb)](_0x3cbc77,null,0x2)));return;}this[_0x168142(0x367)]['qrcode'][_0x168142(0x4ca)]=_0x532593,this[_0x168142(0x367)][_0x168142(0x839)][_0x168142(0x2f4)]=_0x4d78bf,!this['phoneNumber']&&this[_0x168142(0x781)](_0x168142(0x4cf),{'qrcode':{'instance':this[_0x168142(0x367)][_0x168142(0x5f8)],'pairingCode':this[_0x168142(0x367)]['qrcode'][_0x168142(0x78f)],'code':_0x4d78bf,'base64':_0x532593}});}),this['phoneNumber']?this[_0x20353e(0x367)][_0x20353e(0x839)][_0x20353e(0x78f)]||(await(0x0,w[_0x20353e(0x1dc)])(0x7d0),this[_0x20353e(0x367)][_0x20353e(0x839)][_0x20353e(0x78f)]=await this[_0x20353e(0x521)][_0x20353e(0x82a)](this[_0x20353e(0x7a7)])):this['instance'][_0x20353e(0x839)][_0x20353e(0x78f)]=null,Mi[_0x20353e(0x3fd)][_0x20353e(0x288)](_0x4d78bf,{'small':!0x0},_0xb9af14=>this[_0x20353e(0x29f)][_0x20353e(0x685)](_0x20353e(0x756)+this[_0x20353e(0x367)]['name']+',\x20qrcodeCount:\x20'+this[_0x20353e(0x367)][_0x20353e(0x839)][_0x20353e(0x7a3)]+_0x20353e(0x6e0)+this[_0x20353e(0x367)]['qrcode']['pairingCode']+_0x20353e(0x404)+_0xb9af14));}if(_0x103072&&(this[_0x20353e(0x2e0)]={'state':_0x103072,'statusReason':_0x5e35dd?.[_0x20353e(0x62f)]?.[_0x20353e(0x59d)]?.['statusCode']??0xc8},this[_0x20353e(0x781)](_0x20353e(0x619),{'instance':this['instance'][_0x20353e(0x5f8)],...this['stateConnection']})),_0x103072===_0x20353e(0x5dc)){if(this[_0x20353e(0x592)]++,this['reconnectTimestamps']['push'](Date['now']()),this['reconnectTimestamps']=this[_0x20353e(0x2ed)][_0x20353e(0x6f1)](_0x3fa3d3=>Date[_0x20353e(0x433)]()-_0x3fa3d3<this['RECONNECT_TIME_FRAME']),_0x5e35dd[_0x20353e(0x62f)]?.['output']?.[_0x20353e(0x6a9)]!==w['DisconnectReason'][_0x20353e(0x634)]&&this[_0x20353e(0x2ed)][_0x20353e(0x6f5)]<=this[_0x20353e(0x801)])console[_0x20353e(0x685)](this[_0x20353e(0x185)]+_0x20353e(0x2b3)+this[_0x20353e(0x592)]+'/'+this[_0x20353e(0x801)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console['log']('Tentando\x20reconectar...'),await this[_0x20353e(0x622)]();else{this['sendDataWebhook'](_0x20353e(0x219),{'instance':this[_0x20353e(0x367)][_0x20353e(0x5f8)],'status':_0x20353e(0x62d)}),this[_0x20353e(0x367)][_0x20353e(0x280)][_0x20353e(0x78d)]=!0x1,this[_0x20353e(0x4f1)][_0x20353e(0x630)][_0x20353e(0x253)](this[_0x20353e(0x185)]),this[_0x20353e(0x4f1)][_0x20353e(0x411)][_0x20353e(0x6a0)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x20353e(0x433)]()},this[_0x20353e(0x367)][_0x20353e(0x5f8)]);try{this[_0x20353e(0x29f)][_0x20353e(0x2da)](this[_0x20353e(0x185)]+'\x20('+this['instance'][_0x20353e(0x18e)]+_0x20353e(0x16c));let _0x4e7139=await this['repository'][_0x20353e(0x707)]['deleteAll'](this[_0x20353e(0x367)][_0x20353e(0x18e)]);_0x4e7139[_0x20353e(0x3f8)]?this[_0x20353e(0x29f)][_0x20353e(0x2da)](this['instanceName']+'\x20('+this[_0x20353e(0x367)][_0x20353e(0x18e)]+_0x20353e(0x645)):console[_0x20353e(0x62f)](_0x20353e(0x67c),_0x4e7139[_0x20353e(0x62f)]);}catch(_0x49383a){console[_0x20353e(0x62f)](_0x20353e(0x216),_0x49383a[_0x20353e(0x707)]);}this[_0x20353e(0x367)][_0x20353e(0x280)][_0x20353e(0x6f4)]!==null&&(this[_0x20353e(0x29f)][_0x20353e(0x2da)](this[_0x20353e(0x185)]+'\x20('+this[_0x20353e(0x367)][_0x20353e(0x18e)]+_0x20353e(0x1ea)),clearInterval(this[_0x20353e(0x367)][_0x20353e(0x280)][_0x20353e(0x6f4)]),this['instance'][_0x20353e(0x280)]['delayMessage']=null),this[_0x20353e(0x29f)][_0x20353e(0x2da)](this[_0x20353e(0x185)]+'\x20('+this['instance'][_0x20353e(0x18e)]+_0x20353e(0x6d7)),this['AutomateSystem']=null,this[_0x20353e(0x72b)][_0x20353e(0x7a1)](_0x20353e(0x1a2),this[_0x20353e(0x367)]['name'],_0x20353e(0x342)),this[_0x20353e(0x521)]?.['ws']?.[_0x20353e(0x5dc)](),this[_0x20353e(0x521)]['end'](new Error('Close\x20connection'));}}if(_0x103072===_0x20353e(0x6c4)){this['client']['ev'][_0x20353e(0x7a2)](),this['resetReconnectionVariables'],this[_0x20353e(0x367)]['wuid']=this[_0x20353e(0x521)][_0x20353e(0x486)]['id']['replace'](/:\d+/,'')[_0x20353e(0x5c6)](_0x20353e(0x454),''),this[_0x20353e(0x367)][_0x20353e(0x73d)]=(await this[_0x20353e(0x428)](this['instance'][_0x20353e(0x18e)]+_0x20353e(0x454)))['profilePictureUrl'],this[_0x20353e(0x4f1)][_0x20353e(0x411)][_0x20353e(0x6a0)]({'online':!0x0,'owner':this[_0x20353e(0x367)]['wuid'],'lastDisconnect':null},this[_0x20353e(0x367)][_0x20353e(0x5f8)]);let _0x49b847=_0x20353e(0x718)+this[_0x20353e(0x367)]['wuid'],_0x3a77fb=0x28,_0x19ff90=Math[_0x20353e(0x604)]((_0x3a77fb-_0x49b847[_0x20353e(0x6f5)])/0x2),_0x38a9ef='\x20'[_0x20353e(0x1ec)](_0x19ff90),_0x4505e0='CONECTADO\x20À\x20UAZAPI',_0x4e30d0=_0x20353e(0x6f2)+this[_0x20353e(0x367)][_0x20353e(0x5f8)],_0x5a23c3=(''+_0x38a9ef+_0x49b847+_0x38a9ef)['padEnd'](_0x3a77fb,'\x20'),_0x58a47f=(''+_0x38a9ef+_0x4505e0+_0x38a9ef)[_0x20353e(0x649)](_0x3a77fb,'\x20'),_0x1092da=(''+_0x38a9ef+_0x4e30d0+_0x38a9ef)[_0x20353e(0x649)](_0x3a77fb,'\x20'),_0x38eb13=Math[_0x20353e(0x664)](_0x5a23c3[_0x20353e(0x6f5)],_0x58a47f['length'],_0x1092da[_0x20353e(0x6f5)]),_0x289fd8=_0x5a23c3[_0x20353e(0x649)](_0x38eb13,'\x20'),_0x483aa3=_0x58a47f[_0x20353e(0x649)](_0x38eb13,'\x20'),_0x3147a0=_0x1092da[_0x20353e(0x649)](_0x38eb13,'\x20');this[_0x20353e(0x29f)]['info']((_0x20353e(0x609)+'─'[_0x20353e(0x1ec)](_0x38eb13)+_0x20353e(0x81e)+_0x483aa3+_0x20353e(0x807)+_0x3147a0+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x289fd8+_0x20353e(0x445)+'─'[_0x20353e(0x1ec)](_0x38eb13)+'┘')[_0x20353e(0x5c6)](/^ +/gm,'\x20\x20')),this[_0x20353e(0x1d7)](),this['instance'][_0x20353e(0x280)]['isConnected']=!0x0;}}[a0_0x34238b(0x74b)](){const _0x2eacbe=a0_0x34238b;this[_0x2eacbe(0x592)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x34238b(0x171)](_0x2a0f2a,_0x2a7531=!0x1){const _0x48dd83=a0_0x34238b;try{let _0x552b50=await this[_0x48dd83(0x4f1)][_0x48dd83(0x707)][_0x48dd83(0x802)]({'where':{'_id':_0x2a0f2a['id']}},this[_0x48dd83(0x367)][_0x48dd83(0x18e)]);return _0x2a7531?_0x552b50[0x0]:_0x552b50[0x0][_0x48dd83(0x707)];}catch{return{'conversation':''};}}[a0_0x34238b(0x713)](){const _0xcc4ca4=a0_0x34238b;let _0x5285fa=this[_0xcc4ca4(0x5ff)][_0xcc4ca4(0x480)]('STORE'),_0x719ad6=this['configService'][_0xcc4ca4(0x480)](_0xcc4ca4(0x16f));_0x5285fa?.[_0xcc4ca4(0x418)]&&!_0x719ad6[_0xcc4ca4(0x22a)]&&setInterval(()=>{const _0x19015d=_0xcc4ca4;try{for(let [_0x1fb1f5,_0x91794c]of Object[_0x19015d(0x468)](_0x5285fa))_0x91794c===!0x0&&(0x0,De[_0x19015d(0x661)])(_0x19015d(0x565)+(0x0,F[_0x19015d(0x692)])(this[_0x19015d(0x25c)],_0x1fb1f5[_0x19015d(0x7e4)](),this[_0x19015d(0x367)][_0x19015d(0x18e)])+_0x19015d(0x28f));}catch{}},(_0x5285fa?.[_0xcc4ca4(0x418)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x5d9c68=a0_0x34238b;let _0x172232=this['configService'][_0x5d9c68(0x480)](_0x5d9c68(0x16f)),_0x3e3fd9=this['configService'][_0x5d9c68(0x480)]('REDIS');return _0x3e3fd9?.['ENABLED']?await Rs(_0x3e3fd9,this['instance']['name']):_0x172232[_0x5d9c68(0x22a)]?await Ns(this[_0x5d9c68(0x367)][_0x5d9c68(0x5f8)]):await(0x0,w['useMultiFileAuthState'])((0x0,F[_0x5d9c68(0x692)])(me,this['instance'][_0x5d9c68(0x5f8)]));}async['AutomateFunctions'](){const _0x5a35d3=a0_0x34238b;let _0x1ffa6f=()=>Math['floor'](Math['random']()*0x2711)+0x7d0,_0x3a172a=async()=>{const _0x56e4f4=a0_0x3a3c;if(!this['instance']['ScheduleMessage']['isConnected']){this[_0x56e4f4(0x29f)][_0x56e4f4(0x2da)](this[_0x56e4f4(0x185)]+'\x20('+this[_0x56e4f4(0x367)]['wuid']+_0x56e4f4(0x38f)),this[_0x56e4f4(0x3f5)]=!0x1;return;}if(this[_0x56e4f4(0x367)][_0x56e4f4(0x18e)]&&this[_0x56e4f4(0x7e1)]&&this[_0x56e4f4(0x367)][_0x56e4f4(0x280)][_0x56e4f4(0x6f4)]!==null&&this[_0x56e4f4(0x367)]['ScheduleMessage']['delayMessage']!==void 0x0){let _0x4da59f=Math[_0x56e4f4(0x741)](this[_0x56e4f4(0x367)][_0x56e4f4(0x280)][_0x56e4f4(0x6f4)]/0xea60);this[_0x56e4f4(0x29f)][_0x56e4f4(0x2da)](this[_0x56e4f4(0x185)]+'\x20('+this['instance']['wuid']+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x4da59f+_0x56e4f4(0x394)),this[_0x56e4f4(0x3f5)]=!0x1;return;}else this['instance']['wuid']&&(this['logger'][_0x56e4f4(0x2da)](this['instanceName']+'\x20('+this[_0x56e4f4(0x367)][_0x56e4f4(0x18e)]+_0x56e4f4(0x34d)),this[_0x56e4f4(0x7e1)]||(await this['getAutomateSystem'](),this[_0x56e4f4(0x274)]()),(this[_0x56e4f4(0x367)][_0x56e4f4(0x280)]['delayMessage']===null||this[_0x56e4f4(0x367)][_0x56e4f4(0x280)][_0x56e4f4(0x6f4)]===void 0x0)&&await this['scheduleNextCheck']());if(this['isRunning']){let _0x2d3152=_0x1ffa6f();this[_0x56e4f4(0x29f)][_0x56e4f4(0x2da)](this[_0x56e4f4(0x185)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x2d3152/0x3e8+_0x56e4f4(0x1e1)),setTimeout(_0x3a172a,_0x2d3152);}};if(this['isRunning'])return;this[_0x5a35d3(0x3f5)]=!0x0;let _0x39eda4=_0x1ffa6f();setTimeout(_0x3a172a,_0x39eda4);}async['loadproxy'](_0x5f279e=0x0,_0x49b015=!0x1){const _0x96e2f6=a0_0x34238b;try{let _0x12a7f7=this[_0x96e2f6(0x5ff)][_0x96e2f6(0x480)]('PROXY');if(_0x12a7f7!==0x1||typeof _0x12a7f7>'u'||_0x5f279e>=0x5)return this[_0x96e2f6(0x29f)][_0x96e2f6(0x686)](_0x96e2f6(0x794)),this[_0x96e2f6(0x4f1)]['auth']['create']({'ip':null},this[_0x96e2f6(0x367)][_0x96e2f6(0x5f8)]),{};this[_0x96e2f6(0x29f)][_0x96e2f6(0x2da)](this[_0x96e2f6(0x185)]+':\x20Tentativa\x20'+(_0x5f279e+0x1)+_0x96e2f6(0x2e4));let _0x1004f3;if(!_0x49b015){let _0x27df5e=await this[_0x96e2f6(0x4f1)]['auth'][_0x96e2f6(0x802)](this['instanceName']);_0x27df5e&&_0x27df5e['ip']&&(_0x1004f3=fi(_0x27df5e['ip']));}if((!_0x1004f3||!$s(_0x1004f3))&&(this[_0x96e2f6(0x29f)]['warn'](this[_0x96e2f6(0x185)]+':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.'),_0x1004f3=wi()),_0x1004f3&&$s(_0x1004f3)){let _0x2eb193=_0x1004f3[_0x96e2f6(0x6b7)]&&_0x1004f3['password']?_0x1004f3['protocol']+_0x96e2f6(0x19e)+_0x1004f3[_0x96e2f6(0x6b7)]+':'+_0x1004f3[_0x96e2f6(0x690)]+'@'+_0x1004f3[_0x96e2f6(0x7bc)]+':'+_0x1004f3['port']:_0x1004f3['protocol']+_0x96e2f6(0x19e)+_0x1004f3[_0x96e2f6(0x7bc)]+':'+_0x1004f3[_0x96e2f6(0x693)];return await this[_0x96e2f6(0x54a)](_0x2eb193,_0x1004f3[_0x96e2f6(0x7bc)])?(this['logger'][_0x96e2f6(0x2da)](this[_0x96e2f6(0x185)]+_0x96e2f6(0x6cd)),this[_0x96e2f6(0x4f1)]['auth'][_0x96e2f6(0x6a0)]({'ip':_0x1004f3[_0x96e2f6(0x7bc)]},this[_0x96e2f6(0x367)][_0x96e2f6(0x5f8)]),{'agent':new Lt[(_0x96e2f6(0x5ca))](_0x2eb193),'fetchAgent':new Lt[(_0x96e2f6(0x5ca))](_0x2eb193)}):(this[_0x96e2f6(0x29f)]['warn'](this[_0x96e2f6(0x185)]+':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...'),await(0x0,w['delay'])(0xc8),this[_0x96e2f6(0x2bf)](_0x5f279e+0x1,!0x0));}else return this[_0x96e2f6(0x29f)]['warn'](this[_0x96e2f6(0x185)]+_0x96e2f6(0x73b)),await(0x0,w['delay'])(0xc8),this['loadproxy'](_0x5f279e+0x1,!0x0);}catch(_0x39b68d){return this['logger'][_0x96e2f6(0x62f)](this[_0x96e2f6(0x185)]+_0x96e2f6(0x72e)+_0x39b68d[_0x96e2f6(0x707)]),{};}}async['testProxy'](_0x2d7cb6,_0x3336bf){const _0x2dde31=a0_0x34238b;let _0x36304a=new Lt[(_0x2dde31(0x5ca))](_0x2d7cb6),_0x1f2c19=0x1388,_0x4102aa=[{'url':_0x2dde31(0x467),'parse':_0x20053c=>_0x20053c['ip']},{'url':_0x2dde31(0x78e),'parse':_0x4f74c6=>_0x4f74c6['ip']},{'url':_0x2dde31(0x45a),'parse':_0x17e60b=>_0x17e60b[_0x2dde31(0x441)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x2dde31(0x7e5),'parse':_0x11fbd1=>_0x11fbd1['ip']},{'url':'http://ifconfig.me/ip','parse':_0x5a9958=>_0x5a9958['trim']()},{'url':_0x2dde31(0x5d9),'parse':_0xa606b6=>_0xa606b6['trim']()},{'url':_0x2dde31(0x2d7),'parse':_0x31c1ea=>_0x31c1ea['query']},{'url':'http://myexternalip.com/raw','parse':_0x2136eb=>_0x2136eb[_0x2dde31(0x22d)]()},{'url':'http://icanhazip.com/','parse':_0x117d0c=>_0x117d0c[_0x2dde31(0x22d)]()}],_0x228f2b=_0x4102aa[Math[_0x2dde31(0x604)](Math[_0x2dde31(0x403)]()*_0x4102aa[_0x2dde31(0x6f5)])];try{let _0x3b9d4e=await K[_0x2dde31(0x3fd)][_0x2dde31(0x480)](_0x228f2b[_0x2dde31(0x682)],{'httpsAgent':_0x36304a,'timeout':_0x1f2c19}),_0x5aa967=_0x228f2b[_0x2dde31(0x3fb)](_0x3b9d4e[_0x2dde31(0x323)]);return _0x5aa967===_0x3336bf?(this[_0x2dde31(0x29f)][_0x2dde31(0x2da)](this[_0x2dde31(0x185)]+_0x2dde31(0x66f)+_0x3336bf+_0x2dde31(0x167)+_0x5aa967+'\x20->\x20CONFIRMADO.'),!0x0):(this[_0x2dde31(0x29f)][_0x2dde31(0x62f)](this[_0x2dde31(0x185)]+_0x2dde31(0x66f)+_0x3336bf+_0x2dde31(0x167)+_0x5aa967+_0x2dde31(0x290)),!0x1);}catch(_0x242cff){return this['logger'][_0x2dde31(0x62f)](this['instanceName']+_0x2dde31(0x507)+_0x228f2b[_0x2dde31(0x682)]+':\x20'+_0x242cff[_0x2dde31(0x707)]),!0x1;}}async[a0_0x34238b(0x622)](_0x419bbf){const _0x104f7c=a0_0x34238b;try{let _0x57dbc4=await this[_0x104f7c(0x2bf)]();this[_0x104f7c(0x2bb)](),this[_0x104f7c(0x367)][_0x104f7c(0x4ba)]=(await this[_0x104f7c(0x4f1)][_0x104f7c(0x411)][_0x104f7c(0x802)](this[_0x104f7c(0x367)][_0x104f7c(0x5f8)]))[_0x104f7c(0x4ba)],this[_0x104f7c(0x367)][_0x104f7c(0x446)]=await this[_0x104f7c(0x77a)]();let {version:_0x2f50b1}=await(0x0,w[_0x104f7c(0x425)])(),_0x160ddf=[Ci,xs,(0x0,Os['release'])()],_0x58b386={..._0x57dbc4,'auth':{'creds':this[_0x104f7c(0x367)][_0x104f7c(0x446)]['state'][_0x104f7c(0x1ee)],'keys':(0x0,w[_0x104f7c(0x494)])(this[_0x104f7c(0x367)]['authState'][_0x104f7c(0x2f1)][_0x104f7c(0x58c)],(0x0,Pt[_0x104f7c(0x3fd)])({'level':_0x104f7c(0x62f)}))},'logger':(0x0,Pt[_0x104f7c(0x3fd)])({'level':_0x104f7c(0x62f)}),'printQRInTerminal':!0x1,'browser':_0x419bbf?[_0x104f7c(0x60f),xs,(0x0,Os[_0x104f7c(0x7e2)])()]:_0x160ddf,'version':_0x2f50b1,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x192338=>{const _0x1d2724=_0x104f7c;let _0x4e79cc=_0x192338[_0x1d2724(0x602)]('@newsletter'),_0x3fe435=this[_0x1d2724(0x4f9)]?.[_0x1d2724(0x3d6)]&&_0x192338[_0x1d2724(0x602)](_0x1d2724(0x65f));return _0x4e79cc||(0x0,w[_0x1d2724(0x50f)])(_0x192338)||_0x3fe435;},'msgRetryCounterCache':this[_0x104f7c(0x2c6)],'getMessage':async _0x5ee9ab=>await this[_0x104f7c(0x171)](_0x5ee9ab),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x104f7c(0x3ec)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x1e6731=>(_0x1e6731[_0x104f7c(0x51c)]?.[_0x104f7c(0x398)]==w[_0x104f7c(0x491)][_0x104f7c(0x67a)][_0x104f7c(0x29d)]['ListType'][_0x104f7c(0x4c9)]&&(_0x1e6731=JSON[_0x104f7c(0x3fb)](JSON[_0x104f7c(0x4eb)](_0x1e6731)),_0x1e6731['listMessage'][_0x104f7c(0x398)]=w[_0x104f7c(0x491)][_0x104f7c(0x67a)][_0x104f7c(0x29d)][_0x104f7c(0x1ff)][_0x104f7c(0x677)]),_0x1e6731)};return this['endSession']=!0x1,this[_0x104f7c(0x521)]=(0x0,w['default'])(_0x58b386),this[_0x104f7c(0x57b)](),this['phoneNumber']=_0x419bbf,this['client'];}catch(_0x369176){let _0x5e219a='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp',_0x881ba6=_0x369176 instanceof Error?_0x369176[_0x104f7c(0x707)]:typeof _0x369176=='object'?JSON[_0x104f7c(0x4eb)](_0x369176):_0x369176,_0x426892=_0x5e219a+':\x20'+_0x881ba6;throw this['logger'][_0x104f7c(0x62f)](this[_0x104f7c(0x185)]+'\x20('+this[_0x104f7c(0x367)][_0x104f7c(0x18e)]+_0x104f7c(0x1db)+_0x426892),new I(_0x426892);}}['eventHandler'](){const _0x5885a6=a0_0x34238b;this[_0x5885a6(0x521)]['ev'][_0x5885a6(0x6af)](_0xa8f171=>{const _0x3ef8f2=_0x5885a6;if(!this['endSession']){let _0xa1e419=this['configService'][_0x3ef8f2(0x480)](_0x3ef8f2(0x16f));if(_0xa8f171[_0x3ef8f2(0x432)]){let _0xa55d1a=_0xa8f171[_0x3ef8f2(0x432)];this[_0x3ef8f2(0x2d9)][_0x3ef8f2(0x432)](_0xa55d1a);}if(_0xa8f171[_0x3ef8f2(0x79e)]){let _0x389492=_0xa8f171['labels.association'];this[_0x3ef8f2(0x2d9)]['labels.association'](_0x389492);}if(_0xa8f171['connection.update']&&this[_0x3ef8f2(0x173)](_0xa8f171[_0x3ef8f2(0x619)]),_0xa8f171[_0x3ef8f2(0x43c)]&&this[_0x3ef8f2(0x367)]['authState']['saveCreds'](),_0xa8f171[_0x3ef8f2(0x3a5)]){let _0x369919=_0xa8f171['messaging-history.set'];this[_0x3ef8f2(0x2d9)][_0x3ef8f2(0x3a5)](_0x369919,_0xa1e419);}if(_0xa8f171[_0x3ef8f2(0x7b3)]){let _0x5e394f=_0xa8f171[_0x3ef8f2(0x7b3)];this[_0x3ef8f2(0x2d9)][_0x3ef8f2(0x7b3)](_0x5e394f,_0xa1e419);}if(_0xa8f171[_0x3ef8f2(0x3ed)]){let _0x19ccb1=_0xa8f171[_0x3ef8f2(0x3ed)];this[_0x3ef8f2(0x2d9)][_0x3ef8f2(0x3ed)](_0x19ccb1,_0xa1e419);}if(_0xa8f171[_0x3ef8f2(0x625)]){let _0x3a1457=_0xa8f171[_0x3ef8f2(0x625)];if(this[_0x3ef8f2(0x4f9)]?.[_0x3ef8f2(0x3d6)]&&_0x3a1457['id'][_0x3ef8f2(0x331)](_0x3ef8f2(0x65f)))return;this[_0x3ef8f2(0x781)](_0x3ef8f2(0x625),_0x3a1457);}if(_0xa8f171[_0x3ef8f2(0x4e0)]){let _0x38d800=_0xa8f171[_0x3ef8f2(0x4e0)];this[_0x3ef8f2(0x448)][_0x3ef8f2(0x4e0)](_0x38d800);}if(_0xa8f171['groups.update']){let _0x5835c6=_0xa8f171[_0x3ef8f2(0x273)];this['groupHandler'][_0x3ef8f2(0x273)](_0x5835c6);}if(_0xa8f171[_0x3ef8f2(0x7f6)]){let _0x39d04d=_0xa8f171[_0x3ef8f2(0x7f6)];this[_0x3ef8f2(0x448)][_0x3ef8f2(0x7f6)](_0x39d04d);}if(_0xa8f171['chats.upsert']){let _0x21f50c=_0xa8f171['chats.upsert'];this['chatHandle'][_0x3ef8f2(0x415)](_0x21f50c,_0xa1e419);}if(_0xa8f171['chats.update']){let _0x50ed16=_0xa8f171['chats.update'];this[_0x3ef8f2(0x7d7)][_0x3ef8f2(0x4cc)](_0x50ed16,_0xa1e419);}if(_0xa8f171[_0x3ef8f2(0x701)]){let _0x51dc95=_0xa8f171[_0x3ef8f2(0x701)];this['chatHandle'][_0x3ef8f2(0x701)](_0x51dc95);}if(_0xa8f171['contacts.upsert']){let _0x4d46b8=_0xa8f171[_0x3ef8f2(0x835)];this[_0x3ef8f2(0x753)][_0x3ef8f2(0x835)](_0x4d46b8,_0xa1e419);}if(_0xa8f171[_0x3ef8f2(0x5c4)]){let _0x19387f=_0xa8f171[_0x3ef8f2(0x5c4)];this[_0x3ef8f2(0x753)]['contacts.update'](_0x19387f,_0xa1e419);}}});}[a0_0x34238b(0x7b7)](_0x2d7092){return new Promise(_0x5258f3=>setTimeout(_0x5258f3,_0x2d7092));}[a0_0x34238b(0x6b4)](_0x2d1faa){const _0x2cc78c=a0_0x34238b;_0x2d1faa=_0x2d1faa[_0x2cc78c(0x5c6)](/\D/g,'');let _0x102b52=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x2d1faa);if(_0x102b52&&_0x102b52[0x1]==='55'){let _0x44abd8=_0x102b52[0x2],_0x2376ee=_0x102b52[0x3],_0x5e27f9=_0x102b52[0x4];if(parseInt(_0x44abd8)>=0x1f&&_0x2376ee==='9')return _0x102b52[0x1]+_0x44abd8+_0x5e27f9;}return _0x2d1faa;}[a0_0x34238b(0x21b)](_0x497043){const _0x34a61b=a0_0x34238b;return _0x497043['length']>=0x12?(_0x497043=_0x497043[_0x34a61b(0x5c6)](/[^\d-]/g,''),_0x497043+_0x34a61b(0x65f)):_0x497043[_0x34a61b(0x331)]('@g.us')||_0x497043['includes']('@s.whatsapp.net')||_0x497043[_0x34a61b(0x331)](_0x34a61b(0x795))?_0x497043:(_0x497043=_0x497043?.[_0x34a61b(0x5c6)](/\s/g,'')[_0x34a61b(0x5c6)](/\+/g,'')[_0x34a61b(0x5c6)](/\(/g,'')[_0x34a61b(0x5c6)](/\)/g,'')[_0x34a61b(0x447)](/\:/)[0x0]['split']('@')[0x0],_0x497043=_0x497043[_0x34a61b(0x5c6)](/\D/g,''),_0x497043+_0x34a61b(0x454));}async[a0_0x34238b(0x6b8)](_0x30ab34){const _0x47c269=a0_0x34238b;let _0x5651df=(await this['whatsappNumber']({'numbers':[_0x30ab34['number']]}))[0x0];if(!_0x5651df[_0x47c269(0x810)]&&!(0x0,w[_0x47c269(0x154)])(_0x5651df[_0x47c269(0x817)])&&!_0x5651df[_0x47c269(0x817)][_0x47c269(0x331)](_0x47c269(0x795)))throw new m(_0x5651df);let _0x4f7b75=_0x5651df[_0x47c269(0x817)];try{return await this[_0x47c269(0x521)]['presenceSubscribe'](_0x4f7b75),await this[_0x47c269(0x521)]['sendPresenceUpdate'](_0x30ab34['presence'],_0x4f7b75),{'status':0xc8,'presence':_0x30ab34[_0x47c269(0x200)]};}catch(_0x40d081){let _0x20da47=_0x47c269(0x361),_0x2e885c=_0x40d081 instanceof Error?_0x40d081['message']:typeof _0x40d081==_0x47c269(0x410)?JSON[_0x47c269(0x4eb)](_0x40d081):_0x40d081,_0x1f7ffe=_0x20da47+':\x20'+_0x2e885c;throw this[_0x47c269(0x29f)][_0x47c269(0x62f)](this['instanceName']+'\x20('+this[_0x47c269(0x367)]['wuid']+_0x47c269(0x1db)+_0x1f7ffe),new m(_0x1f7ffe);}}async[a0_0x34238b(0x588)](_0x25a984,_0x4f236c,_0xc139bc,_0x44a816=!0x0){const _0x434907=a0_0x34238b;let _0x2a3f3e=await this['repository']['cacheContact'][_0x434907(0x6cc)]({'where':{'_id':_0x25a984}});if(!_0x2a3f3e&&!_0x44a816)return;let _0x51af9a={'lastUpdate':Date['now']()};if(_0xc139bc||!_0x2a3f3e?.[_0x434907(0x27c)]||Date['now']()-_0x2a3f3e['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x106da1=(await this[_0x434907(0x428)](_0x25a984))[_0x434907(0x73d)];_0x51af9a[_0x434907(0x300)]=_0x106da1;}catch(_0x5acac6){let _0x22f09d=_0x434907(0x42c),_0x541f99=_0x5acac6 instanceof Error?_0x5acac6['message']:typeof _0x5acac6==_0x434907(0x410)?JSON['stringify'](_0x5acac6):_0x5acac6,_0x502517=_0x22f09d+':\x20'+_0x541f99;throw this[_0x434907(0x29f)][_0x434907(0x62f)](this[_0x434907(0x185)]+'\x20('+this[_0x434907(0x367)][_0x434907(0x18e)]+'):\x20'+_0x502517),new m(_0x502517);}return _0x4f236c&&_0x2a3f3e?.['name']!==_0x4f236c&&(_0x51af9a[_0x434907(0x5f8)]=_0x4f236c),Object[_0x434907(0x58c)](_0x51af9a)['length']>0x1&&(_0x2a3f3e?await this[_0x434907(0x4f1)][_0x434907(0x4de)][_0x434907(0x386)]({'where':{'_id':_0x25a984}},_0x51af9a):await this['repository']['cacheContact']['insert']([{'_id':_0x25a984,..._0x51af9a}]),_0x2a3f3e={..._0x2a3f3e,..._0x51af9a}),{'cachedContact':_0x2a3f3e};}async[a0_0x34238b(0x428)](_0x69ad6){const _0x436e69=a0_0x34238b;let _0xdea3c9=this['createJid'](_0x69ad6);try{return{'wuid':_0xdea3c9,'profilePictureUrl':await this[_0x436e69(0x521)]['profilePictureUrl'](_0xdea3c9,'image')};}catch{return{'wuid':_0xdea3c9,'profilePictureUrl':null};}}async[a0_0x34238b(0x1f5)](_0x59e8da,_0x39019d,_0xb9ccd9){const _0x2b19c1=a0_0x34238b;try{_0xb9ccd9||(_0xb9ccd9={});let _0x5686fa=(await this['whatsappNumber']({'numbers':[_0x59e8da]}))[0x0];if(!_0x5686fa['exists']&&!(0x0,w[_0x2b19c1(0x154)])(_0x5686fa[_0x2b19c1(0x817)])&&!_0x5686fa['jid'][_0x2b19c1(0x331)](_0x2b19c1(0x795)))throw new m(_0x5686fa);let _0x1593d7=_0x5686fa['jid'];if(_0xb9ccd9?.[_0x2b19c1(0x1dc)]){await this['client']['presenceSubscribe'](_0x1593d7),await this['client'][_0x2b19c1(0x3d9)](_0xb9ccd9?.[_0x2b19c1(0x200)]??_0x2b19c1(0x51d),_0x1593d7);let _0x276a6e=Math['min'](_0xb9ccd9[_0x2b19c1(0x1dc)],0x2710);await(0x0,w[_0x2b19c1(0x1dc)])(_0x276a6e),await this[_0x2b19c1(0x521)][_0x2b19c1(0x3d9)](_0x2b19c1(0x53c),_0x1593d7);}let _0x16c18c=_0xb9ccd9?.[_0x2b19c1(0x66b)]!=!0x1?void 0x0:!0x1,_0x9a382a;if(_0xb9ccd9?.[_0x2b19c1(0x746)]){let _0x121a03=_0xb9ccd9?.[_0x2b19c1(0x746)],_0x2cd6d4=_0x121a03?.['message']?_0x121a03:await this[_0x2b19c1(0x171)](_0x121a03[_0x2b19c1(0x332)],!0x0);if(!_0x2cd6d4)throw _0x2b19c1(0x63b);_0x9a382a=_0x2cd6d4;}let _0x525473;if((0x0,w[_0x2b19c1(0x154)])(_0x1593d7))try{let _0x1036c0=(await this[_0x2b19c1(0x4f1)][_0x2b19c1(0x7fd)][_0x2b19c1(0x6cc)]({'where':{'_id':_0x1593d7}},this['instance'][_0x2b19c1(0x18e)]))[_0x2b19c1(0x76c)];if(!_0x1036c0)throw new U('Group\x20not\x20found');_0xb9ccd9?.[_0x2b19c1(0x408)]&&(_0xb9ccd9[_0x2b19c1(0x408)]?.[_0x2b19c1(0x530)]?_0x525473=_0x1036c0['participants'][_0x2b19c1(0x643)](_0x1e3001=>_0x1e3001['id']):_0xb9ccd9[_0x2b19c1(0x408)]?.['mentioned']?.[_0x2b19c1(0x6f5)]&&(_0x525473=_0xb9ccd9['mentions'][_0x2b19c1(0x39b)]['map'](_0x3910c0=>{const _0x8d705c=_0x2b19c1;let _0x5c2006=this[_0x8d705c(0x21b)](_0x3910c0);return(0x0,w[_0x8d705c(0x154)])(_0x5c2006)?null:_0x5c2006;})));}catch{throw new U(_0x2b19c1(0x502));}let _0xc33f92=await this[_0x2b19c1(0x4f1)]['chat'][_0x2b19c1(0x6cc)]({'where':{'_id':_0x1593d7}},this[_0x2b19c1(0x367)][_0x2b19c1(0x18e)]),_0x5a8c11=await((async()=>{const _0x620587=_0x2b19c1;let _0x104fd={'quoted':_0x9a382a,'ephemeralExpiration':_0xc33f92?.['ephemeralExpiration']??0x0};if(!_0x39019d[_0x620587(0x585)]&&!_0x39019d[_0x620587(0x35f)]&&!_0x39019d[_0x620587(0x319)]&&!_0x39019d[_0x620587(0x429)]&&_0x1593d7!==_0x620587(0x178)&&!_0x39019d[_0x620587(0x585)])return await this['client']['sendMessage'](_0x1593d7,{'forward':{'key':{'remoteJid':this[_0x620587(0x367)][_0x620587(0x18e)],'fromMe':!0x0},'message':_0x39019d},'mentions':_0x525473},_0x104fd);if(_0x39019d[_0x620587(0x397)])return await this[_0x620587(0x521)][_0x620587(0x15a)](_0x1593d7,{'react':{'text':_0x39019d[_0x620587(0x397)][_0x620587(0x295)],'key':_0x39019d['reactionMessage'][_0x620587(0x332)]}},_0x104fd);if(_0x39019d[_0x620587(0x429)]){let _0x1aa35e=_0x39019d[_0x620587(0x429)];return _0xb9ccd9?.[_0x620587(0x2ca)]&&(_0x1aa35e=await this[_0x620587(0x83a)](_0x1aa35e,_0x1593d7)),await this[_0x620587(0x521)]['sendMessage'](_0x1593d7,{'text':_0x1aa35e,'mentions':_0x525473,'linkPreview':_0x16c18c},_0x104fd);}return _0x1593d7===_0x620587(0x178)?await this[_0x620587(0x521)]['sendMessage'](_0x1593d7,_0x39019d['status'][_0x620587(0x760)],{'backgroundColor':_0x39019d['status']['option'][_0x620587(0x6bd)],'font':_0x39019d['status']['option'][_0x620587(0x72c)],'statusJidList':_0x39019d[_0x620587(0x7b4)]['option'][_0x620587(0x3a4)]}):await this[_0x620587(0x521)][_0x620587(0x15a)](_0x1593d7,_0x39019d,_0x104fd);})()),_0x53cbd1=(0x0,w[_0x2b19c1(0x533)])(_0x5a8c11['message']),_0x54b840=(0x0,w[_0x2b19c1(0x3d7)])(_0x53cbd1),{message_normalized:_0x5641c5}=this['normalizeMessage'](_0x53cbd1,_0x54b840,null),_0x365e3b={'_id':_0x5a8c11[_0x2b19c1(0x332)]['id'],'key':_0x5a8c11[_0x2b19c1(0x332)],'pushName':_0x5a8c11[_0x2b19c1(0x81c)],'isGroup':_0x5a8c11[_0x2b19c1(0x332)][_0x2b19c1(0x484)]['endsWith'](_0x2b19c1(0x65f)),'profilePictureUrl':this[_0x2b19c1(0x367)][_0x2b19c1(0x73d)],'message':_0x53cbd1,'messageType':_0x54b840,'message_normalized':{'key':_0x5a8c11[_0x2b19c1(0x332)],'pushName':_0x5a8c11[_0x2b19c1(0x81c)],'messageTimestamp':_0x5a8c11['messageTimestamp']&&_0x5a8c11[_0x2b19c1(0x310)]['toString']()[_0x2b19c1(0x6f5)]<0xd?_0x5a8c11[_0x2b19c1(0x310)]*0x3e8:_0x5a8c11[_0x2b19c1(0x310)]||null,'source':(0x0,w[_0x2b19c1(0x1d5)])(_0x5a8c11[_0x2b19c1(0x332)]['id']),..._0x5641c5},'messageTimestamp':_0x5a8c11[_0x2b19c1(0x310)]&&_0x5a8c11[_0x2b19c1(0x310)][_0x2b19c1(0x513)]()[_0x2b19c1(0x6f5)]<0xd?_0x5a8c11[_0x2b19c1(0x310)]*0x3e8:_0x5a8c11[_0x2b19c1(0x310)]||null,'owner':this[_0x2b19c1(0x367)][_0x2b19c1(0x18e)],'source':(0x0,w[_0x2b19c1(0x1d5)])(_0x5a8c11['key']['id'])};return this[_0x2b19c1(0x29f)][_0x2b19c1(0x686)](this['instanceName']+'\x20('+this[_0x2b19c1(0x367)][_0x2b19c1(0x18e)]+'):\x20enviado\x20para\x20['+_0x365e3b[_0x2b19c1(0x332)]?.[_0x2b19c1(0x484)][_0x2b19c1(0x5c6)](_0x2b19c1(0x454),'')+_0x2b19c1(0x6fd)+_0x365e3b['messageType']+')'),_0x365e3b[_0x2b19c1(0x672)]?.[_0x2b19c1(0x295)]&&this[_0x2b19c1(0x29f)][_0x2b19c1(0x686)](_0x365e3b[_0x2b19c1(0x672)]?.['text']),this[_0x2b19c1(0x781)](_0x2b19c1(0x70e),_0x365e3b),J(this[_0x2b19c1(0x185)],_0x2b19c1(0x519),{'message':_0x365e3b}),this[_0x2b19c1(0x5f1)](this[_0x2b19c1(0x5ff)][_0x2b19c1(0x480)](_0x2b19c1(0x16f)),_0x365e3b,_0x2b19c1(0x31b),_0xc33f92),await this[_0x2b19c1(0x4f1)][_0x2b19c1(0x707)][_0x2b19c1(0x202)]([_0x365e3b],this[_0x2b19c1(0x367)][_0x2b19c1(0x18e)]),_0x5a8c11;}catch(_0x40fe4b){let _0x1c9c4a=_0x2b19c1(0x1b1),_0xdcd07f=_0x40fe4b instanceof Error?_0x40fe4b[_0x2b19c1(0x707)]:typeof _0x40fe4b==_0x2b19c1(0x410)?JSON[_0x2b19c1(0x4eb)](_0x40fe4b):_0x40fe4b,_0x3e7535=_0x1c9c4a+':\x20'+_0xdcd07f;throw this[_0x2b19c1(0x29f)][_0x2b19c1(0x62f)](this['instanceName']+'\x20('+this['instance'][_0x2b19c1(0x18e)]+_0x2b19c1(0x1db)+_0x3e7535),new m(_0x3e7535);}}get['connectionStatus'](){const _0x2e4837=a0_0x34238b;return this[_0x2e4837(0x2e0)];}async[a0_0x34238b(0x4ff)](_0x870cfa){const _0x3e40b9=a0_0x34238b;let _0x73e71d=yi,_0x40681b=tt;return _0x40681b&&this[_0x3e40b9(0x185)]['toLowerCase']()[_0x3e40b9(0x331)](_0x40681b[_0x3e40b9(0x7e4)]())&&(_0x870cfa['textMessage'][_0x3e40b9(0x295)]+='\x0a\x0a'+_0x73e71d),await this[_0x3e40b9(0x1f5)](_0x870cfa[_0x3e40b9(0x570)],{'conversation':_0x870cfa[_0x3e40b9(0x4ff)][_0x3e40b9(0x295)]},_0x870cfa?.[_0x3e40b9(0x2a8)]);}async[a0_0x34238b(0x38e)](_0x3724bf){const _0x511670=a0_0x34238b;if(!_0x3724bf[_0x511670(0x3f1)])throw new m('Type\x20is\x20required');if(!_0x3724bf[_0x511670(0x760)])throw new m(_0x511670(0x5e6));if(_0x3724bf[_0x511670(0x2f7)]){let _0x13afc4=await this[_0x511670(0x4f1)][_0x511670(0x1da)]['find']({'where':{}},this[_0x511670(0x367)][_0x511670(0x18e)]);if(!_0x13afc4['length'])throw new m(_0x511670(0x577));_0x3724bf[_0x511670(0x3a4)]=_0x13afc4[_0x511670(0x6f1)](_0x2d1bb1=>_0x2d1bb1[_0x511670(0x81c)])[_0x511670(0x643)](_0x51ee16=>_0x51ee16[_0x511670(0x45c)]);}if(!_0x3724bf[_0x511670(0x3a4)]?.['length']&&!_0x3724bf[_0x511670(0x2f7)])throw new m(_0x511670(0x4ef));if(_0x3724bf[_0x511670(0x3f1)]===_0x511670(0x295)){if(!_0x3724bf['backgroundColor'])throw new m(_0x511670(0x3dd));if(!_0x3724bf[_0x511670(0x72c)])throw new m(_0x511670(0x1c2));return{'content':{'text':_0x3724bf['content']},'option':{'backgroundColor':_0x3724bf[_0x511670(0x6bd)],'font':_0x3724bf[_0x511670(0x72c)],'statusJidList':_0x3724bf[_0x511670(0x3a4)]}};}if(_0x3724bf[_0x511670(0x3f1)]===_0x511670(0x483))return{'content':{'image':{'url':_0x3724bf[_0x511670(0x760)]},'caption':_0x3724bf[_0x511670(0x689)]},'option':{'statusJidList':_0x3724bf[_0x511670(0x3a4)]}};if(_0x3724bf[_0x511670(0x3f1)]===_0x511670(0x2f8))return{'content':{'video':{'url':_0x3724bf[_0x511670(0x760)]},'caption':_0x3724bf['caption']},'option':{'statusJidList':_0x3724bf[_0x511670(0x3a4)]}};if(_0x3724bf['type']===_0x511670(0x585)){this['logger']['verbose'](this[_0x511670(0x185)]+'\x20('+this[_0x511670(0x367)][_0x511670(0x18e)]+_0x511670(0x255)),this['logger']['verbose'](this[_0x511670(0x185)]+'\x20('+this[_0x511670(0x367)]['wuid']+_0x511670(0x2cd));let _0x8e3ced=await this[_0x511670(0x6e3)](_0x3724bf[_0x511670(0x760)]);if(typeof _0x8e3ced==_0x511670(0x330)){this['logger'][_0x511670(0x2da)](this['instanceName']+'\x20('+this[_0x511670(0x367)][_0x511670(0x18e)]+_0x511670(0x2e5));let _0x50355f=j[_0x511670(0x5c2)](_0x8e3ced)[_0x511670(0x513)](_0x511670(0x4ca));return{'content':{'audio':Buffer[_0x511670(0x28d)](_0x50355f,_0x511670(0x4ca)),'ptt':!0x0,'mimetype':_0x511670(0x336)},'option':{'statusJidList':_0x3724bf[_0x511670(0x3a4)]}};}else throw new I(_0x8e3ced);}throw new m(_0x511670(0x5a8));}async['statusMessage'](_0x2a1c20){const _0x25bc5b=a0_0x34238b;return await this[_0x25bc5b(0x1f5)](_0x25bc5b(0x178),{'status':await this[_0x25bc5b(0x38e)](_0x2a1c20[_0x25bc5b(0x6ed)])});}async[a0_0x34238b(0x61d)](_0x5bbaee){const _0x46b005=a0_0x34238b;try{let _0x4e202d=await(0x0,w['prepareWAMessageMedia'])({[_0x5bbaee[_0x46b005(0x5f7)]]:(0x0,P['isURL'])(_0x5bbaee[_0x46b005(0x7fa)])?{'url':_0x5bbaee['media']}:Buffer['from'](_0x5bbaee[_0x46b005(0x7fa)],_0x46b005(0x4ca))},{'upload':this[_0x46b005(0x521)]['waUploadToServer']}),_0x43dea0=_0x5bbaee[_0x46b005(0x5f7)]+_0x46b005(0x67a);if(_0x5bbaee[_0x46b005(0x5f7)]==='document'&&!_0x5bbaee[_0x46b005(0x62a)]){let _0x530697=new RegExp(/.*\/(.+?)\./)[_0x46b005(0x438)](_0x5bbaee[_0x46b005(0x7fa)]);_0x5bbaee[_0x46b005(0x62a)]=_0x530697?_0x530697[0x1]:null;}let _0x585134=(0x0,P[_0x46b005(0x762)])(_0x5bbaee[_0x46b005(0x7fa)])?_0x5bbaee[_0x46b005(0x7fa)][_0x46b005(0x447)]('?')[0x0]:_0x5bbaee[_0x46b005(0x7fa)],_0x4ce685;(0x0,P['isURL'])(_0x5bbaee[_0x46b005(0x7fa)])?_0x4ce685=(0x0,kt['getMIMEType'])(_0x585134):_0x5bbaee['fileName']&&_0x5bbaee[_0x46b005(0x62a)]['includes']('.')?_0x4ce685=(0x0,kt[_0x46b005(0x21d)])(_0x5bbaee['fileName']):_0x4ce685=(0x0,kt['getMIMEType'])(_0x5bbaee['media']);let _0x510ef6=yi,_0x4f90c4=tt;return _0x4f90c4&&this[_0x46b005(0x185)][_0x46b005(0x7e4)]()[_0x46b005(0x331)](_0x4f90c4[_0x46b005(0x7e4)]())&&(_0x5bbaee['caption']+='\x0a\x0a'+_0x510ef6),_0x4e202d[_0x43dea0][_0x46b005(0x689)]=_0x5bbaee?.[_0x46b005(0x689)],_0x4e202d[_0x43dea0][_0x46b005(0x264)]=_0x4ce685,_0x4e202d[_0x43dea0][_0x46b005(0x62a)]=_0x5bbaee[_0x46b005(0x62a)],_0x5bbaee[_0x46b005(0x5f7)]===_0x46b005(0x2f8)&&(_0x4e202d[_0x43dea0][_0x46b005(0x294)]=Uint8Array[_0x46b005(0x28d)]((0x0,xe[_0x46b005(0x5c2)])((0x0,F[_0x46b005(0x692)])(process[_0x46b005(0x2ee)](),_0x46b005(0x79d)))),_0x4e202d[_0x43dea0][_0x46b005(0x1b0)]=!0x1),(0x0,w[_0x46b005(0x6da)])('',{[_0x43dea0]:{..._0x4e202d[_0x43dea0]}},{'userJid':this[_0x46b005(0x367)][_0x46b005(0x18e)]});}catch(_0x5587c5){let _0x2b9794=_0x46b005(0x7a6),_0x4284d9=_0x5587c5 instanceof Error?_0x5587c5[_0x46b005(0x707)]:typeof _0x5587c5==_0x46b005(0x410)?JSON[_0x46b005(0x4eb)](_0x5587c5):_0x5587c5,_0x5a6a36=_0x2b9794+':\x20'+_0x4284d9;throw this[_0x46b005(0x29f)][_0x46b005(0x62f)](this[_0x46b005(0x185)]+'\x20('+this[_0x46b005(0x367)]['wuid']+_0x46b005(0x1db)+_0x5a6a36),new I(_0x5a6a36);}}async[a0_0x34238b(0x6c3)](_0x5fdb70){const _0x486823=a0_0x34238b;let _0x66fb48=await this[_0x486823(0x61d)](_0x5fdb70[_0x486823(0x6c3)]);return await this['sendMessageWithTyping'](_0x5fdb70[_0x486823(0x570)],{..._0x66fb48[_0x486823(0x707)]},_0x5fdb70?.['options']);}async[a0_0x34238b(0x2ba)](_0x58f33e,_0x442e33){const _0x40108a=a0_0x34238b;try{this['logger'][_0x40108a(0x2da)](this[_0x40108a(0x185)]+'\x20('+this[_0x40108a(0x367)][_0x40108a(0x18e)]+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x760bc2,_0xc4f8fe=_0x442e33+'-'+new Date()['getTime']();this[_0x40108a(0x29f)][_0x40108a(0x2da)](this[_0x40108a(0x185)]+'\x20('+this[_0x40108a(0x367)]['wuid']+_0x40108a(0x633)+_0xc4f8fe);let _0x345c08=''+(0x0,F['join'])(this[_0x40108a(0x25c)],_0xc4f8fe+_0x40108a(0x568));if(this[_0x40108a(0x29f)][_0x40108a(0x2da)](this[_0x40108a(0x185)]+'\x20('+this[_0x40108a(0x367)]['wuid']+_0x40108a(0x1a0)+_0x345c08),(0x0,P[_0x40108a(0x16d)])(_0x58f33e)){this[_0x40108a(0x29f)][_0x40108a(0x2da)](this[_0x40108a(0x185)]+'\x20('+this[_0x40108a(0x367)][_0x40108a(0x18e)]+_0x40108a(0x5c7));let _0xad3d39=_0x58f33e['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x3e0d48=Buffer['from'](_0xad3d39,_0x40108a(0x4ca));_0x760bc2=''+(0x0,F['join'])(this[_0x40108a(0x25c)],_0x40108a(0x2d8)+_0xc4f8fe+_0x40108a(0x291)),this[_0x40108a(0x29f)][_0x40108a(0x2da)](this[_0x40108a(0x185)]+'\x20('+this[_0x40108a(0x367)][_0x40108a(0x18e)]+'):Image\x20path:\x20'+_0x760bc2),await(0x0,jt[_0x40108a(0x3fd)])(_0x3e0d48)['toFile'](_0x760bc2),this['logger'][_0x40108a(0x2da)](this[_0x40108a(0x185)]+'\x20('+this[_0x40108a(0x367)][_0x40108a(0x18e)]+_0x40108a(0x7e6));}else{this[_0x40108a(0x29f)]['verbose'](this['instanceName']+'\x20('+this[_0x40108a(0x367)]['wuid']+_0x40108a(0x5fc));let _0x5d086e=new Date()[_0x40108a(0x214)](),_0x233504=_0x58f33e+_0x40108a(0x7c9)+_0x5d086e;this['logger'][_0x40108a(0x2da)](this[_0x40108a(0x185)]+'\x20('+this[_0x40108a(0x367)][_0x40108a(0x18e)]+_0x40108a(0x222)+_0x233504);let _0x1674cf=await K['default'][_0x40108a(0x480)](_0x233504,{'responseType':_0x40108a(0x47a)});this[_0x40108a(0x29f)][_0x40108a(0x2da)](this[_0x40108a(0x185)]+'\x20('+this[_0x40108a(0x367)]['wuid']+'):Getting\x20image\x20from\x20url');let _0x3b7364=Buffer[_0x40108a(0x28d)](_0x1674cf[_0x40108a(0x323)],_0x40108a(0x48f));_0x760bc2=''+(0x0,F[_0x40108a(0x692)])(this['storePath'],_0x40108a(0x2d8)+_0xc4f8fe+_0x40108a(0x291)),this[_0x40108a(0x29f)][_0x40108a(0x2da)](this[_0x40108a(0x185)]+'\x20('+this[_0x40108a(0x367)][_0x40108a(0x18e)]+'):Image\x20path:\x20'+_0x760bc2),await(0x0,jt['default'])(_0x3b7364)[_0x40108a(0x208)](_0x760bc2),this[_0x40108a(0x29f)]['verbose'](this[_0x40108a(0x185)]+'\x20('+this[_0x40108a(0x367)]['wuid']+_0x40108a(0x7e6));}return await(0x0,jt[_0x40108a(0x3fd)])(_0x760bc2)[_0x40108a(0x3da)]()[_0x40108a(0x208)](_0x345c08),this[_0x40108a(0x29f)][_0x40108a(0x2da)](this['instanceName']+'\x20('+this[_0x40108a(0x367)][_0x40108a(0x18e)]+_0x40108a(0x5d5)),j[_0x40108a(0x2fe)](_0x760bc2),this['logger'][_0x40108a(0x2da)](this[_0x40108a(0x185)]+'\x20('+this[_0x40108a(0x367)][_0x40108a(0x18e)]+_0x40108a(0x654)),_0x345c08;}catch(_0x57092f){let _0x53b9d6='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x402459=_0x57092f instanceof Error?_0x57092f[_0x40108a(0x707)]:typeof _0x57092f==_0x40108a(0x410)?JSON[_0x40108a(0x4eb)](_0x57092f):_0x57092f,_0x132036=_0x53b9d6+':\x20'+_0x402459;this[_0x40108a(0x29f)][_0x40108a(0x62f)](this[_0x40108a(0x185)]+'\x20('+this[_0x40108a(0x367)]['wuid']+_0x40108a(0x1db)+_0x132036);}}async[a0_0x34238b(0x743)](_0x171516){const _0x303888=a0_0x34238b;let _0x5348fe=await this[_0x303888(0x2ba)](_0x171516[_0x303888(0x60a)][_0x303888(0x483)],_0x171516[_0x303888(0x570)]),_0x28c645=await this[_0x303888(0x1f5)](_0x171516[_0x303888(0x570)],{'sticker':{'url':_0x5348fe}},_0x171516?.[_0x303888(0x2a8)]);return j['unlinkSync'](_0x5348fe),this[_0x303888(0x29f)][_0x303888(0x2da)](this[_0x303888(0x185)]+'\x20('+this[_0x303888(0x367)][_0x303888(0x18e)]+_0x303888(0x236)),_0x28c645;}async['audioWhatsapp'](_0x10d718){const _0x386764=a0_0x34238b;if(this[_0x386764(0x29f)]['verbose'](this[_0x386764(0x185)]+'\x20('+this[_0x386764(0x367)][_0x386764(0x18e)]+_0x386764(0x78b)),!_0x10d718[_0x386764(0x2a8)]?.['encoding']&&_0x10d718[_0x386764(0x2a8)]?.[_0x386764(0x3b8)]!==!0x1&&(_0x10d718[_0x386764(0x2a8)]['encoding']=!0x0),_0x10d718['options']?.[_0x386764(0x3b8)]){let _0x22a488=await this[_0x386764(0x6e3)](_0x10d718[_0x386764(0x38d)][_0x386764(0x585)]);if(typeof _0x22a488=='string'){let _0xd58f47=j[_0x386764(0x5c2)](_0x22a488)[_0x386764(0x513)]('base64');return this['sendMessageWithTyping'](_0x10d718[_0x386764(0x570)],{'audio':Buffer['from'](_0xd58f47,_0x386764(0x4ca)),'ptt':!0x0,'mimetype':_0x386764(0x2f5)},{'presence':'recording','delay':_0x10d718?.[_0x386764(0x2a8)]?.[_0x386764(0x1dc)]});}else throw new I(_0x22a488);}return await this['sendMessageWithTyping'](_0x10d718[_0x386764(0x570)],{'audio':(0x0,P[_0x386764(0x762)])(_0x10d718[_0x386764(0x38d)][_0x386764(0x585)])?{'url':_0x10d718[_0x386764(0x38d)][_0x386764(0x585)]}:Buffer[_0x386764(0x28d)](_0x10d718[_0x386764(0x38d)]['audio'],_0x386764(0x4ca)),'ptt':!0x0,'mimetype':_0x386764(0x2f5)},{'presence':'recording','delay':_0x10d718?.[_0x386764(0x2a8)]?.['delay']});}async[a0_0x34238b(0x6e3)](_0x1792ca){const _0x398919=a0_0x34238b;this[_0x398919(0x29f)]['verbose'](this['instanceName']+'\x20('+this[_0x398919(0x367)][_0x398919(0x18e)]+_0x398919(0x2cd));let _0x49ef80=(0x0,P[_0x398919(0x762)])(_0x1792ca)?(0x0,Ft[_0x398919(0x61e)])(_0x398919(0x3b3))[_0x398919(0x386)](_0x1792ca)[_0x398919(0x1d1)](_0x398919(0x159)):(0x0,Ft[_0x398919(0x61e)])(_0x398919(0x3b3))[_0x398919(0x386)](_0x1792ca)[_0x398919(0x1d1)](_0x398919(0x159)),_0x4c75c3=''+(0x0,F['join'])(this['storePath'],_0x49ef80+_0x398919(0x579));if(j[_0x398919(0x5b1)](_0x4c75c3))return this['logger'][_0x398919(0x2da)](this[_0x398919(0x185)]+'\x20('+this['instance'][_0x398919(0x18e)]+_0x398919(0x205)),_0x4c75c3;let _0x494be1=''+(0x0,F[_0x398919(0x692)])(this[_0x398919(0x25c)],_0x398919(0x2d8)+(0x0,Me['v4'])()+_0x398919(0x4ea));if((0x0,P[_0x398919(0x762)])(_0x1792ca)){let _0x10f6bf=new Date()[_0x398919(0x214)](),_0x473e38=_0x1792ca+_0x398919(0x7c9)+_0x10f6bf,_0x5ad9c5=await K[_0x398919(0x3fd)][_0x398919(0x480)](_0x473e38,{'responseType':'arraybuffer'});j[_0x398919(0x3c6)](_0x494be1,_0x5ad9c5[_0x398919(0x323)]);}else{let _0x3f2255=Buffer['from'](_0x1792ca,_0x398919(0x4ca));j[_0x398919(0x3c6)](_0x494be1,_0x3f2255);}return new Promise((_0x5425b1,_0xc00841)=>{const _0x4af90a=_0x398919;(0x0,De[_0x4af90a(0x438)])(As[_0x4af90a(0x3fd)]['path']+'\x20-i\x20'+_0x494be1+_0x4af90a(0x836)+_0x4c75c3+'\x20-y',_0x59bc20=>{const _0x3d6579=_0x4af90a;if(j[_0x3d6579(0x2fe)](_0x494be1),_0x59bc20){this[_0x3d6579(0x29f)][_0x3d6579(0x2da)](this[_0x3d6579(0x185)]+'\x20('+this[_0x3d6579(0x367)][_0x3d6579(0x18e)]+_0x3d6579(0x642)),_0xc00841(_0x59bc20);return;}this[_0x3d6579(0x29f)][_0x3d6579(0x2da)](this[_0x3d6579(0x185)]+'\x20('+this['instance']['wuid']+_0x3d6579(0x83b)),_0x5425b1(_0x4c75c3);});});}async[a0_0x34238b(0x369)](_0x5a24b1){const _0x44e658=a0_0x34238b;this[_0x44e658(0x29f)]['verbose'](this[_0x44e658(0x185)]+'\x20('+this[_0x44e658(0x367)][_0x44e658(0x18e)]+_0x44e658(0x2cd));let _0x2552ef=(0x0,Ft[_0x44e658(0x61e)])(_0x44e658(0x3b3))[_0x44e658(0x386)](_0x5a24b1)['digest'](_0x44e658(0x159)),_0x30acb5=''+(0x0,F[_0x44e658(0x692)])(this[_0x44e658(0x25c)],_0x2552ef+'.mp3');if(j['existsSync'](_0x30acb5))return this['logger'][_0x44e658(0x2da)](this[_0x44e658(0x185)]+'\x20('+this[_0x44e658(0x367)][_0x44e658(0x18e)]+_0x44e658(0x205)),F[_0x44e658(0x3fd)]['basename'](_0x30acb5);let _0x352262=''+(0x0,F[_0x44e658(0x692)])(this[_0x44e658(0x25c)],_0x44e658(0x2d8)+_0x2552ef+_0x44e658(0x579));if((0x0,P['isURL'])(_0x5a24b1)){let _0xa6fe75=new Date()[_0x44e658(0x214)](),_0x58a5d7=_0x5a24b1+_0x44e658(0x7c9)+_0xa6fe75,_0x128ef2=await K['default']['get'](_0x58a5d7,{'responseType':_0x44e658(0x47a)});j['writeFileSync'](_0x352262,_0x128ef2[_0x44e658(0x323)]);}else{let _0x10f810=Buffer[_0x44e658(0x28d)](_0x5a24b1,_0x44e658(0x4ca));j[_0x44e658(0x3c6)](_0x352262,_0x10f810);}return new Promise((_0x217e21,_0xe8f9f3)=>{const _0x386f42=_0x44e658;(0x0,De[_0x386f42(0x438)])(As['default'][_0x386f42(0x74d)]+'\x20-i\x20'+_0x352262+_0x386f42(0x3ef)+_0x30acb5+_0x386f42(0x337),_0x314074=>{const _0x39b60f=_0x386f42;if(j[_0x39b60f(0x2fe)](_0x352262),_0x314074){this[_0x39b60f(0x29f)]['verbose'](this[_0x39b60f(0x185)]+'\x20('+this[_0x39b60f(0x367)][_0x39b60f(0x18e)]+_0x39b60f(0x642)),_0xe8f9f3(_0x314074);return;}this[_0x39b60f(0x29f)][_0x39b60f(0x2da)](this[_0x39b60f(0x185)]+'\x20('+this[_0x39b60f(0x367)]['wuid']+_0x39b60f(0x83b)),_0x217e21(F[_0x39b60f(0x3fd)][_0x39b60f(0x773)](_0x30acb5));});});}async['buttonMessage'](_0x4173a2){const _0x35f47b=a0_0x34238b;let _0x3f0b86={},_0xca3fe5=_0x35f47b(0x566);if(_0x4173a2['buttonMessage']?.['mediaMessage']){_0xca3fe5=_0x4173a2[_0x35f47b(0x3c5)][_0x35f47b(0x6c3)]?.['mediatype'][_0x35f47b(0x706)]()??_0x35f47b(0x566),_0x3f0b86[_0x35f47b(0x53e)]=_0xca3fe5[_0x35f47b(0x7e4)]()+_0x35f47b(0x67a);let _0x1b6df9=await this[_0x35f47b(0x61d)](_0x4173a2[_0x35f47b(0x3c5)][_0x35f47b(0x6c3)]);_0x3f0b86[_0x35f47b(0x707)]=_0x1b6df9['message'][_0x3f0b86[_0x35f47b(0x53e)]],_0x3f0b86['contentText']='*'+_0x4173a2['buttonMessage'][_0x35f47b(0x81d)]+_0x35f47b(0x4a5)+_0x4173a2['buttonMessage'][_0x35f47b(0x1a7)];}let _0x281489={'text':_0x4173a2[_0x35f47b(0x3c5)][_0x35f47b(0x298)]['map'](_0x17f0d2=>_0x17f0d2[_0x35f47b(0x4d7)]),'ids':_0x4173a2[_0x35f47b(0x3c5)][_0x35f47b(0x298)][_0x35f47b(0x643)](_0x25de02=>_0x25de02['buttonId'])};if(!(0x0,P[_0x35f47b(0x29c)])(_0x281489[_0x35f47b(0x295)])||!(0x0,P[_0x35f47b(0x29c)])(_0x281489['ids']))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x35f47b(0x211));return await this[_0x35f47b(0x1f5)](_0x4173a2['number'],{'buttonsMessage':{'text':_0x3f0b86?.[_0x35f47b(0x53e)]?void 0x0:_0x4173a2[_0x35f47b(0x3c5)][_0x35f47b(0x81d)],'contentText':_0x3f0b86?.[_0x35f47b(0x2c4)]??_0x4173a2[_0x35f47b(0x3c5)][_0x35f47b(0x1a7)],'footerText':_0x4173a2[_0x35f47b(0x3c5)]?.['footerText'],'buttons':_0x4173a2[_0x35f47b(0x3c5)][_0x35f47b(0x298)][_0x35f47b(0x643)](_0x159e62=>({'buttonText':{'displayText':_0x159e62[_0x35f47b(0x4d7)]},'buttonId':_0x159e62[_0x35f47b(0x599)],'type':0x1})),'headerType':w['proto'][_0x35f47b(0x67a)][_0x35f47b(0x51e)][_0x35f47b(0x463)][_0xca3fe5],[_0x3f0b86?.[_0x35f47b(0x53e)]]:_0x3f0b86?.[_0x35f47b(0x707)]}},_0x4173a2?.[_0x35f47b(0x2a8)]);}async[a0_0x34238b(0x786)](_0x55dcf1){const _0x2820be=a0_0x34238b;return await this[_0x2820be(0x1f5)](_0x55dcf1['number'],{'locationMessage':{'degreesLatitude':_0x55dcf1['locationMessage'][_0x2820be(0x1dd)],'degreesLongitude':_0x55dcf1[_0x2820be(0x786)][_0x2820be(0x61a)],'name':_0x55dcf1['locationMessage']?.[_0x2820be(0x5f8)],'address':_0x55dcf1[_0x2820be(0x786)]?.[_0x2820be(0x1a3)]}},_0x55dcf1?.[_0x2820be(0x2a8)]);}async[a0_0x34238b(0x63a)](_0x5076c3){const _0x370525=a0_0x34238b;let _0x1268dd={},_0x410991=async _0x36dad1=>{const _0x3e3dd4=a0_0x3a3c;let _0x42230d=_0x3e3dd4(0x54c)+_0x36dad1[_0x3e3dd4(0x279)]+_0x3e3dd4(0x82d)+_0x36dad1[_0x3e3dd4(0x279)]+'\x0a';_0x36dad1[_0x3e3dd4(0x772)]&&(_0x42230d+=_0x3e3dd4(0x28a)+_0x36dad1['organization']+';\x0a'),_0x36dad1[_0x3e3dd4(0x697)]&&(_0x42230d+=_0x3e3dd4(0x5ec)+_0x36dad1[_0x3e3dd4(0x697)]+'\x0a'),_0x36dad1['url']&&(_0x42230d+='URL:'+_0x36dad1['url']+'\x0a');let _0x1142e0='',_0x2152a1=0x1;if(_0x36dad1['phoneNumber']){let _0x856d9e=_0x36dad1[_0x3e3dd4(0x7a7)]['split']('|');for(let _0x3418f0 of _0x856d9e){let _0x220e7b=await this[_0x3e3dd4(0x5e4)]({'numbers':[_0x3418f0]}),_0x323f43=(_0x220e7b[_0x3e3dd4(0x6f5)]>0x0?_0x220e7b[0x0][_0x3e3dd4(0x817)]:this[_0x3e3dd4(0x21b)](_0x3418f0))[_0x3e3dd4(0x5c6)](_0x3e3dd4(0x454),'');_0x1142e0+=_0x3e3dd4(0x23a)+_0x2152a1+_0x3e3dd4(0x177)+_0x323f43+':'+_0x3418f0+_0x3e3dd4(0x3dc)+_0x2152a1+'.X-ABLabel:Celular\x0a',_0x2152a1++;}}return _0x42230d+=_0x1142e0+_0x3e3dd4(0x2f9),_0x42230d;};return _0x5076c3[_0x370525(0x63a)][_0x370525(0x6f5)]===0x1?_0x1268dd[_0x370525(0x63a)]={'displayName':_0x5076c3[_0x370525(0x63a)][0x0][_0x370525(0x279)],'vcard':await _0x410991(_0x5076c3[_0x370525(0x63a)][0x0])}:_0x1268dd[_0x370525(0x43d)]={'displayName':_0x5076c3[_0x370525(0x63a)][_0x370525(0x6f5)]+_0x370525(0x49b),'contacts':await Promise[_0x370525(0x4e2)](_0x5076c3['contactMessage'][_0x370525(0x643)](async _0x4e9034=>({'displayName':_0x4e9034['fullName'],'vcard':await _0x410991(_0x4e9034)})))},await this[_0x370525(0x1f5)](_0x5076c3['number'],{..._0x1268dd},_0x5076c3?.[_0x370525(0x2a8)]);}async[a0_0x34238b(0x397)](_0x3d40b0){const _0x2706c8=a0_0x34238b;return await this[_0x2706c8(0x1f5)](_0x3d40b0[_0x2706c8(0x397)][_0x2706c8(0x332)][_0x2706c8(0x484)],{'reactionMessage':{'key':_0x3d40b0['reactionMessage'][_0x2706c8(0x332)],'text':_0x3d40b0[_0x2706c8(0x397)][_0x2706c8(0x21c)]}});}async[a0_0x34238b(0x5e4)](_0x41140a){const _0x19e2bd=a0_0x34238b;let _0xaa4c53=[];for await(let _0x49435c of _0x41140a[_0x19e2bd(0x676)]){let _0x404860=this['createJid'](_0x49435c),_0x113e7e=!0x1;try{if((0x0,w[_0x19e2bd(0x154)])(_0x404860)){let _0xa2914b=(await this[_0x19e2bd(0x4f1)][_0x19e2bd(0x7fd)]['findOne']({'where':{'_id':_0x404860}},this['instance'][_0x19e2bd(0x18e)]))['groupdata'];_0x113e7e=!!_0xa2914b?.['id']&&!!_0xa2914b?.[_0x19e2bd(0x39e)],_0xaa4c53['push'](new ye(_0xa2914b['id'],_0x113e7e,_0xa2914b?.['subject']));}else{let _0x410b89=(await this[_0x19e2bd(0x521)][_0x19e2bd(0x237)](_0x404860))[0x0];_0x113e7e=_0x410b89[_0x19e2bd(0x810)],_0xaa4c53['push'](new ye(_0x410b89['jid'],_0x113e7e));}}catch{(0x0,w[_0x19e2bd(0x154)])(_0x404860)||await this[_0x19e2bd(0x576)](_0x404860,_0x113e7e),_0xaa4c53['push'](new ye(_0x49435c,!0x1));}}return _0xaa4c53;}async[a0_0x34238b(0x576)](_0x52224e,_0x18b8a5){const _0x40405a=a0_0x34238b;try{await this[_0x40405a(0x4f1)]['chat'][_0x40405a(0x6cc)]({'where':{'_id':_0x52224e,'imported':!0x0}},this[_0x40405a(0x367)]['wuid'])&&(_0x18b8a5||(await this['repository'][_0x40405a(0x7fd)][_0x40405a(0x71d)](_0x52224e,this[_0x40405a(0x367)][_0x40405a(0x18e)]),this[_0x40405a(0x29f)][_0x40405a(0x364)](_0x40405a(0x7d5)+_0x52224e+_0x40405a(0x780))));}catch(_0x5ad81d){let _0x2fefa3=_0x40405a(0x405),_0x3a1ea4=_0x5ad81d instanceof Error?_0x5ad81d[_0x40405a(0x707)]:typeof _0x5ad81d==_0x40405a(0x410)?JSON[_0x40405a(0x4eb)](_0x5ad81d):_0x5ad81d,_0x37c03c=_0x2fefa3+':\x20'+_0x3a1ea4;this['logger'][_0x40405a(0x62f)](this[_0x40405a(0x185)]+'\x20('+this[_0x40405a(0x367)]['wuid']+_0x40405a(0x1db)+_0x37c03c);}}async['markMessageAsRead'](_0x4287db){const _0x2fc46d=a0_0x34238b;try{let _0x55d225=_0x4287db['readMessages'][_0x2fc46d(0x6f1)](_0x53e81a=>(0x0,w[_0x2fc46d(0x154)])(_0x53e81a[_0x2fc46d(0x484)])||(0x0,w['isJidUser'])(_0x53e81a[_0x2fc46d(0x484)]))[_0x2fc46d(0x643)](_0xb5bb51=>({'remoteJid':_0xb5bb51[_0x2fc46d(0x484)],'fromMe':_0xb5bb51[_0x2fc46d(0x600)],'id':_0xb5bb51['id']}));await this[_0x2fc46d(0x521)]['readMessages'](_0x55d225);let _0x1837ae=_0x55d225[_0x2fc46d(0x643)](_0x5b8f93=>this[_0x2fc46d(0x5b4)](_0x5b8f93,{'status':_0x2fc46d(0x1c7),'owner':this[_0x2fc46d(0x367)][_0x2fc46d(0x18e)]})),_0x4cadd8=_0x55d225[_0x2fc46d(0x643)](_0x179df2=>this[_0x2fc46d(0x4f1)][_0x2fc46d(0x7fd)][_0x2fc46d(0x53d)]({'where':{'_id':_0x179df2['remoteJid']}},{'unreadcount':0x0},this[_0x2fc46d(0x367)]['wuid'])),[_0x3a2529,_0x29b284]=await Promise[_0x2fc46d(0x4e2)]([Promise[_0x2fc46d(0x4e2)](_0x1837ae),Promise['all'](_0x4cadd8)]);return _0x29b284['filter'](_0x107e44=>_0x107e44!==null)[_0x2fc46d(0x44e)](_0x1fafd2=>{const _0x589af5=_0x2fc46d;J(this[_0x589af5(0x185)],_0x589af5(0x1e2),{'chat':_0x1fafd2});}),{'message':_0x2fc46d(0x818),'read':_0x2fc46d(0x3f8)};}catch(_0x32878b){let _0x35afcf=_0x2fc46d(0x493),_0x27e30c=_0x32878b instanceof Error?_0x32878b['message']:typeof _0x32878b==_0x2fc46d(0x410)?JSON[_0x2fc46d(0x4eb)](_0x32878b):_0x32878b,_0x1a1f6e=_0x35afcf+':\x20'+_0x27e30c;throw this[_0x2fc46d(0x29f)][_0x2fc46d(0x62f)](this[_0x2fc46d(0x185)]+'\x20('+this[_0x2fc46d(0x367)][_0x2fc46d(0x18e)]+'):\x20'+_0x1a1f6e),new I(_0x1a1f6e);}}async[a0_0x34238b(0x74a)](_0x33a0eb){const _0x5d8389=a0_0x34238b;let _0xeca244={'where':{'key':{'remoteJid':_0x33a0eb}},'limit':0x1},_0xfd1c9b=await this[_0x5d8389(0x6c7)](_0xeca244);return _0xfd1c9b||(console[_0x5d8389(0x62f)](_0x5d8389(0x2b9),_0x33a0eb),null);}async[a0_0x34238b(0x3c2)](_0x1d7d4a){const _0x41dd4b=a0_0x34238b;this[_0x41dd4b(0x29f)][_0x41dd4b(0x2da)](this[_0x41dd4b(0x185)]+'\x20('+this[_0x41dd4b(0x367)][_0x41dd4b(0x18e)]+_0x41dd4b(0x4df));try{let _0x4d841a=_0x1d7d4a[_0x41dd4b(0x2ea)],_0x37b1c8=_0x1d7d4a[_0x41dd4b(0x7fd)];if(!_0x4d841a&&_0x37b1c8?_0x4d841a=await this[_0x41dd4b(0x74a)](_0x37b1c8):(_0x4d841a=_0x1d7d4a[_0x41dd4b(0x2ea)],_0x4d841a[_0x41dd4b(0x310)]=_0x4d841a?.[_0x41dd4b(0x310)]??Date['now'](),_0x37b1c8=_0x4d841a?.[_0x41dd4b(0x332)]?.['remoteJid']),!_0x4d841a||Object[_0x41dd4b(0x58c)](_0x4d841a)[_0x41dd4b(0x6f5)]===0x0)throw new U(_0x41dd4b(0x5d4));this[_0x41dd4b(0x29f)][_0x41dd4b(0x2da)](this[_0x41dd4b(0x185)]+'\x20('+this[_0x41dd4b(0x367)][_0x41dd4b(0x18e)]+_0x41dd4b(0x4dc)+_0x37b1c8);try{await this['client'][_0x41dd4b(0x750)]({'archive':_0x1d7d4a[_0x41dd4b(0x4c3)],'lastMessages':[_0x4d841a]},this[_0x41dd4b(0x21b)](_0x37b1c8));}catch(_0x59b3e1){let _0x379840=_0x41dd4b(0x4af)+_0x37b1c8,_0x294dc7=_0x59b3e1 instanceof Error?_0x59b3e1[_0x41dd4b(0x707)]:typeof _0x59b3e1==_0x41dd4b(0x410)?JSON[_0x41dd4b(0x4eb)](_0x59b3e1):_0x59b3e1,_0x5de81d=_0x379840+':\x20'+_0x294dc7;this[_0x41dd4b(0x29f)]['error'](this[_0x41dd4b(0x185)]+'\x20('+this[_0x41dd4b(0x367)][_0x41dd4b(0x18e)]+_0x41dd4b(0x1db)+_0x5de81d);}this[_0x41dd4b(0x29f)][_0x41dd4b(0x2da)](this[_0x41dd4b(0x185)]+'\x20('+this['instance'][_0x41dd4b(0x18e)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x37b1c8);let _0x385e4d=await this[_0x41dd4b(0x4f1)][_0x41dd4b(0x7fd)][_0x41dd4b(0x53d)]({'where':{'_id':_0x4d841a?.['key']?.[_0x41dd4b(0x484)]}},{'archived':_0x1d7d4a['archive']},this[_0x41dd4b(0x367)][_0x41dd4b(0x18e)]);return _0x385e4d?(this[_0x41dd4b(0x29f)][_0x41dd4b(0x2da)](this[_0x41dd4b(0x185)]+'\x20('+this[_0x41dd4b(0x367)]['wuid']+_0x41dd4b(0x64c)+JSON['stringify'](_0x385e4d)),J(this['instanceName'],'chats',{'chat':_0x385e4d})):this[_0x41dd4b(0x29f)][_0x41dd4b(0x62f)](this['instanceName']+'\x20('+this[_0x41dd4b(0x367)]['wuid']+_0x41dd4b(0x833)+_0x37b1c8),{'chatId':_0x37b1c8,'archived':_0x1d7d4a[_0x41dd4b(0x4c3)]};}catch(_0x30f9a1){let _0x319347=_0x41dd4b(0x229),_0x259a83=_0x30f9a1 instanceof Error?_0x30f9a1[_0x41dd4b(0x707)]:typeof _0x30f9a1==_0x41dd4b(0x410)?JSON[_0x41dd4b(0x4eb)](_0x30f9a1):_0x30f9a1,_0x38b212=_0x319347+':\x20'+_0x259a83;throw this[_0x41dd4b(0x29f)][_0x41dd4b(0x62f)](this[_0x41dd4b(0x185)]+'\x20('+this[_0x41dd4b(0x367)]['wuid']+'):\x20'+_0x38b212),new I(_0x38b212);}}async['deleteChat'](_0x56edbf){const _0x407ea3=a0_0x34238b;this[_0x407ea3(0x29f)][_0x407ea3(0x2da)](this[_0x407ea3(0x185)]+'\x20('+this[_0x407ea3(0x367)][_0x407ea3(0x18e)]+'):Delete\x20chat');try{let _0x2a528d=await this[_0x407ea3(0x74a)](_0x56edbf);if(!_0x2a528d||Object[_0x407ea3(0x58c)](_0x2a528d)[_0x407ea3(0x6f5)]===0x0)throw new U(_0x407ea3(0x5d4));let _0x4e56a8=_0x2a528d[0x0];this[_0x407ea3(0x29f)][_0x407ea3(0x2da)](this['instanceName']+'\x20('+this['instance'][_0x407ea3(0x18e)]+_0x407ea3(0x51a)+_0x56edbf);try{await this[_0x407ea3(0x521)][_0x407ea3(0x750)]({'delete':!0x0,'lastMessages':[{'key':_0x4e56a8[_0x407ea3(0x332)],'messageTimestamp':_0x4e56a8['messageTimestamp']}]},this[_0x407ea3(0x21b)](_0x56edbf));}catch(_0x69c979){this['logger'][_0x407ea3(0x62f)](_0x407ea3(0x4af)+_0x56edbf+':\x20'+_0x69c979[_0x407ea3(0x513)]());}this[_0x407ea3(0x29f)][_0x407ea3(0x2da)](this['instanceName']+'\x20('+this[_0x407ea3(0x367)][_0x407ea3(0x18e)]+_0x407ea3(0x523)+_0x56edbf);return;}catch(_0xc58bb2){throw this['logger'][_0x407ea3(0x62f)](this['instanceName']+'\x20('+this[_0x407ea3(0x367)][_0x407ea3(0x18e)]+'):Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0xc58bb2['toString']()),new I({'archived':!0x1,'message':[_0x407ea3(0x7aa),_0xc58bb2[_0x407ea3(0x513)]()]});}}async[a0_0x34238b(0x6d9)](_0x22979d){const _0x2dd5de=a0_0x34238b;try{let _0x3c4044=await this['client'][_0x2dd5de(0x15a)](_0x22979d['remoteJid'],{'delete':_0x22979d});try{let _0x1ef0ec=await this[_0x2dd5de(0x5b4)](_0x22979d,{'status':'DELETED','owner':this[_0x2dd5de(0x367)][_0x2dd5de(0x18e)]});this[_0x2dd5de(0x29f)][_0x2dd5de(0x2da)](this[_0x2dd5de(0x185)]+'\x20('+this[_0x2dd5de(0x367)][_0x2dd5de(0x18e)]+_0x2dd5de(0x55a)+_0x1ef0ec);}catch(_0x2959fe){console[_0x2dd5de(0x62f)](_0x2dd5de(0x382),_0x2959fe);}return _0x3c4044;}catch(_0x2a6fff){throw new I(_0x2dd5de(0x617),_0x2a6fff?.['toString']());}}async[a0_0x34238b(0x3e8)](_0x5d4d62){const _0x14ee4b=a0_0x34238b;try{let _0x4bbf33=_0x5d4d62?.['message']?_0x5d4d62:await this['getMessage'](_0x5d4d62[_0x14ee4b(0x332)],!0x0);for(let _0x1f33d0 of wa)_0x4bbf33[_0x14ee4b(0x707)][_0x1f33d0]&&(_0x4bbf33['message']=_0x4bbf33[_0x14ee4b(0x707)][_0x1f33d0]['message']);let _0x385fe6,_0x1e42df;for(let _0x3c552c of fa)if(_0x385fe6=_0x4bbf33[_0x14ee4b(0x707)][_0x3c552c],_0x385fe6){_0x1e42df=_0x3c552c;break;}if(!_0x385fe6)throw _0x14ee4b(0x740);typeof _0x385fe6[_0x14ee4b(0x53e)]=='object'&&(_0x4bbf33[_0x14ee4b(0x707)]=JSON['parse'](JSON[_0x14ee4b(0x4eb)](_0x4bbf33[_0x14ee4b(0x707)])));let _0x2ed52d=await(0x0,w[_0x14ee4b(0x2d0)])({'key':_0x4bbf33?.[_0x14ee4b(0x332)],'message':_0x4bbf33?.[_0x14ee4b(0x707)]},_0x14ee4b(0x34a),{},{'logger':(0x0,Pt[_0x14ee4b(0x3fd)])({'level':_0x14ee4b(0x4d9)}),'reuploadRequest':this[_0x14ee4b(0x521)]['updateMediaMessage']});if(!(_0x2ed52d instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x169a16=this[_0x14ee4b(0x5ff)][_0x14ee4b(0x480)](_0x14ee4b(0x16f)),_0x79d505,_0x355077;if(_0x385fe6[_0x14ee4b(0x62a)])_0x79d505=_0x385fe6[_0x14ee4b(0x62a)];else{let _0x1023d8=_0x385fe6[_0x14ee4b(0x264)]?.[_0x14ee4b(0x441)](/\/(\w+)/),_0x3ed2f8=_0x1023d8?_0x1023d8[0x1]:null;if(!_0x3ed2f8)throw new Error(_0x14ee4b(0x383));_0x79d505=(0x0,Me['v4'])()+'.'+_0x3ed2f8;}_0x1e42df===_0x14ee4b(0x38d)?_0x355077='/media/'+await this[_0x14ee4b(0x369)](_0x2ed52d[_0x14ee4b(0x513)](_0x14ee4b(0x4ca))):(await this[_0x14ee4b(0x30a)](_0x2ed52d,_0x79d505),_0x355077='/media/'+_0x79d505);let _0x236ef7=this[_0x14ee4b(0x5ff)]['get']('SERVER')['URL'];if(!_0x236ef7){let _0x594d5b=this[_0x14ee4b(0x5ff)][_0x14ee4b(0x480)](_0x14ee4b(0x5fb));_0x236ef7='https://'+(_0x594d5b&&_0x594d5b['FULLCHAIN'][_0x14ee4b(0x447)]('/')[0x4]);}_0x355077=''+_0x236ef7+_0x355077;let _0x34caf9=0xc*0x3c*0x3c*0x3e8,_0x2cab14={'where':{'_id':_0x4bbf33['key']['id']}},_0x403e89={'message_normalized.fileUrl':_0x355077,'message_normalized.expires_fileUrl':Date[_0x14ee4b(0x433)]()+_0x34caf9};try{let _0x5a773f=await this['repository'][_0x14ee4b(0x707)][_0x14ee4b(0x386)](_0x2cab14,_0x403e89,this[_0x14ee4b(0x367)]['wuid']);_0x5a773f&&J(this[_0x14ee4b(0x185)],_0x14ee4b(0x519),{'message':_0x5a773f});}catch(_0x4e0df4){let _0x5ebbad='Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage',_0x5f45bf=_0x4e0df4 instanceof Error?_0x4e0df4[_0x14ee4b(0x707)]:typeof _0x4e0df4==_0x14ee4b(0x410)?JSON['stringify'](_0x4e0df4):_0x4e0df4,_0x509eaf=_0x5ebbad+':\x20'+_0x5f45bf;this['logger']['error'](this['instanceName']+'\x20('+this[_0x14ee4b(0x367)][_0x14ee4b(0x18e)]+_0x14ee4b(0x1db)+_0x509eaf);}return{'mediaType':_0x1e42df,'fileName':_0x385fe6[_0x14ee4b(0x62a)],'caption':_0x385fe6['caption'],'size':{'fileLength':_0x385fe6[_0x14ee4b(0x7d1)],'height':_0x385fe6[_0x14ee4b(0x717)],'width':_0x385fe6[_0x14ee4b(0x7b9)]},'mimetype':_0x385fe6[_0x14ee4b(0x264)],'base64':_0x2ed52d['toString']('base64'),'fileUrl':_0x355077,'expires_fileUrl':Date[_0x14ee4b(0x433)]()+_0x34caf9};}catch(_0x44cd5a){let _0x108b37=_0x14ee4b(0x42b),_0x1ec3a8=_0x44cd5a instanceof Error?_0x44cd5a[_0x14ee4b(0x707)]:typeof _0x44cd5a==_0x14ee4b(0x410)?JSON[_0x14ee4b(0x4eb)](_0x44cd5a):_0x44cd5a,_0x3889f3=_0x108b37+':\x20'+_0x1ec3a8;throw this[_0x14ee4b(0x29f)][_0x14ee4b(0x62f)](this[_0x14ee4b(0x185)]+'\x20('+this[_0x14ee4b(0x367)]['wuid']+_0x14ee4b(0x1db)+_0x3889f3),new m(_0x3889f3);}}async['saveMediaToFile'](_0x3e67fa,_0x4637dd){const _0x5cd9ed=a0_0x34238b;let _0x434d9f=F[_0x5cd9ed(0x3fd)][_0x5cd9ed(0x692)](__dirname,'downloads');j[_0x5cd9ed(0x5b1)](_0x434d9f)||j['mkdirSync'](_0x434d9f,{'recursive':!0x0});let _0x451001=F[_0x5cd9ed(0x3fd)][_0x5cd9ed(0x692)](_0x434d9f,_0x4637dd);return new Promise((_0x4b955d,_0x368f4f)=>{const _0x28520e=_0x5cd9ed;j[_0x28520e(0x516)](_0x451001,_0x3e67fa,_0x4d5845=>{const _0x57cc02=_0x28520e;_0x4d5845?(this[_0x57cc02(0x29f)][_0x57cc02(0x62f)]('Error\x20writing\x20file:\x20'+(_0x4d5845 instanceof Error?_0x4d5845[_0x57cc02(0x707)]:JSON[_0x57cc02(0x4eb)](_0x4d5845,null,0x2))),_0x368f4f(_0x4d5845)):(this['logger']['log']('File\x20written\x20to\x20path:\x20'+_0x451001),_0x4b955d(_0x451001));});});}async[a0_0x34238b(0x477)](_0x5510a7){const _0x34ccbf=a0_0x34238b;return await this['repository']['contact'][_0x34ccbf(0x802)](_0x5510a7,this['instance']['wuid']);}async[a0_0x34238b(0x61c)](){const _0x19055b=a0_0x34238b;return await this[_0x19055b(0x4f1)][_0x19055b(0x489)]['find']({'where':{}},this[_0x19055b(0x367)]['wuid']);}async[a0_0x34238b(0x6c7)](_0xe16c6a){const _0x5aba7b=a0_0x34238b;return await this['repository']['message']['find'](_0xe16c6a,this['instance'][_0x5aba7b(0x18e)]);}async[a0_0x34238b(0x32b)](){const _0x160b15=a0_0x34238b;return this[_0x160b15(0x4f1)][_0x160b15(0x7fd)][_0x160b15(0x4b1)](this[_0x160b15(0x367)]['wuid']),this[_0x160b15(0x4f1)][_0x160b15(0x7fd)][_0x160b15(0x299)](this[_0x160b15(0x367)][_0x160b15(0x18e)]),this[_0x160b15(0x4f1)][_0x160b15(0x7fd)]['updateMissingTags'](this[_0x160b15(0x367)][_0x160b15(0x18e)]),this[_0x160b15(0x4f1)][_0x160b15(0x7fd)]['updateMissingCustomFields'](this[_0x160b15(0x367)][_0x160b15(0x18e)]),await this[_0x160b15(0x4f1)][_0x160b15(0x7fd)][_0x160b15(0x802)]({'where':{}},this[_0x160b15(0x367)][_0x160b15(0x18e)]);}async['importChatsAntigo'](_0x213a91){const _0x1b852d=a0_0x34238b;try{if(!Array['isArray'](_0x213a91)||_0x213a91[_0x1b852d(0x6f5)]===0x0)throw new Error(_0x1b852d(0x1ad));let _0x1643d5=[],_0x11be5=[];for(let _0x579346 of _0x213a91){if(_0x579346['_id'])_0x579346[_0x1b852d(0x45c)]=this[_0x1b852d(0x21b)](_0x579346[_0x1b852d(0x45c)]);else continue;await this[_0x1b852d(0x4f1)]['chat'][_0x1b852d(0x6cc)]({'where':{'_id':_0x579346[_0x1b852d(0x45c)]}},this[_0x1b852d(0x367)][_0x1b852d(0x18e)])?_0x11be5[_0x1b852d(0x57d)]({'_id':_0x579346['_id'],'leadInfo':_0x579346[_0x1b852d(0x4dd)],'owner':this[_0x1b852d(0x367)]['wuid']}):_0x1643d5[_0x1b852d(0x57d)]({'_id':_0x579346[_0x1b852d(0x45c)],'owner':this[_0x1b852d(0x367)][_0x1b852d(0x18e)],'leadInfo':_0x579346[_0x1b852d(0x4dd)],'imported':!0x0});}return _0x11be5[_0x1b852d(0x6f5)]>0x0&&await this[_0x1b852d(0x4f1)]['chat'][_0x1b852d(0x5a6)](_0x11be5[_0x1b852d(0x643)](_0x3d7f64=>({'query':{'where':{'_id':_0x3d7f64['_id'],'owner':this[_0x1b852d(0x367)][_0x1b852d(0x18e)]}},'update':_0x3d7f64}))),_0x1643d5[_0x1b852d(0x6f5)]>0x0&&await this[_0x1b852d(0x4f1)][_0x1b852d(0x7fd)][_0x1b852d(0x43e)](_0x1643d5,this['instance'][_0x1b852d(0x18e)]),{'updated':_0x11be5[_0x1b852d(0x6f5)],'inserted':_0x1643d5[_0x1b852d(0x6f5)]};}catch(_0x3c7068){let _0xe1e3a7=_0x1b852d(0x748),_0x5d0b8a=_0x3c7068 instanceof Error?_0x3c7068[_0x1b852d(0x707)]:typeof _0x3c7068==_0x1b852d(0x410)?JSON[_0x1b852d(0x4eb)](_0x3c7068):_0x3c7068,_0xcca9e8=_0xe1e3a7+':\x20'+_0x5d0b8a;throw this['logger'][_0x1b852d(0x62f)](this['instanceName']+'\x20('+this[_0x1b852d(0x367)][_0x1b852d(0x18e)]+_0x1b852d(0x1db)+_0xcca9e8),new m(_0xcca9e8);}}async[a0_0x34238b(0x77b)](_0x1c9a3a){const _0xe11008=a0_0x34238b;try{if(!Array['isArray'](_0x1c9a3a)||_0x1c9a3a['length']===0x0)throw new Error(_0xe11008(0x1ad));let _0x591b12=0x64,_0x553c1b=0x0;for(let _0x2bab0d=0x0;_0x2bab0d<_0x1c9a3a[_0xe11008(0x6f5)];_0x2bab0d+=_0x591b12){let _0xd6828e=_0x1c9a3a['slice'](_0x2bab0d,_0x2bab0d+_0x591b12),{updated:_0x4014d4}=await this['importChatsBatch'](_0xd6828e);_0x553c1b+=_0x4014d4;}return{'updated':_0x553c1b};}catch(_0x54f5ed){let _0x14504e=_0xe11008(0x748),_0x4d6294=_0x54f5ed instanceof Error?_0x54f5ed[_0xe11008(0x707)]:typeof _0x54f5ed==_0xe11008(0x410)?JSON['stringify'](_0x54f5ed):_0x54f5ed,_0x2e0d54=_0x14504e+':\x20'+_0x4d6294;throw this[_0xe11008(0x29f)][_0xe11008(0x62f)](this[_0xe11008(0x185)]+'\x20('+this[_0xe11008(0x367)][_0xe11008(0x18e)]+_0xe11008(0x1db)+_0x2e0d54),new m(_0x2e0d54);}}async[a0_0x34238b(0x5eb)](_0x1a8e8e){const _0x2076f2=a0_0x34238b;try{let _0x1b5f60=await this['repository'][_0x2076f2(0x489)][_0x2076f2(0x802)]({'where':{}},this[_0x2076f2(0x367)][_0x2076f2(0x18e)]),_0x29ac32=new Set(_0x1b5f60[_0x2076f2(0x643)](_0x3cc6f7=>_0x3cc6f7['_id'])),_0x2db4c9=[],_0x3f240b=[];for(let _0x1a11f4 of _0x1a8e8e){if(!_0x1a11f4[_0x2076f2(0x45c)])continue;_0x1a11f4[_0x2076f2(0x45c)]=this[_0x2076f2(0x21b)](_0x1a11f4[_0x2076f2(0x45c)]);let _0x177af4=await this[_0x2076f2(0x4f1)][_0x2076f2(0x7fd)][_0x2076f2(0x6cc)]({'where':{'_id':_0x1a11f4[_0x2076f2(0x45c)]}},this[_0x2076f2(0x367)][_0x2076f2(0x18e)]),_0x3cd514={};if(Object[_0x2076f2(0x468)](_0x1a11f4['leadInfo'])[_0x2076f2(0x44e)](([_0x3103da,_0x126016])=>{const _0x3415cc=_0x2076f2;_0x3cd514[_0x3415cc(0x669)+_0x3103da]=_0x126016;}),_0x177af4&&!_0x177af4[_0x2076f2(0x601)]){let _0x6a4de8=(_0x1a11f4[_0x2076f2(0x4dd)][_0x2076f2(0x4f6)]||[])[_0x2076f2(0x6f1)](_0x3616e0=>_0x29ac32[_0x2076f2(0x3c4)](_0x3616e0)),_0xdc1e1a=new Set(_0x177af4[_0x2076f2(0x4dd)][_0x2076f2(0x4f6)]||[]),_0x5c3750=_0x6a4de8[_0x2076f2(0x6f1)](_0x449a19=>!_0xdc1e1a[_0x2076f2(0x3c4)](_0x449a19)),_0x52cb9b=[..._0xdc1e1a]['filter'](_0x104475=>!_0x6a4de8[_0x2076f2(0x331)](_0x104475));_0x3f240b[_0x2076f2(0x57d)](..._0x5c3750[_0x2076f2(0x643)](_0x3330e7=>this[_0x2076f2(0x2c0)](_0x3330e7,_0x1a11f4[_0x2076f2(0x45c)]))),_0x3f240b['push'](..._0x52cb9b[_0x2076f2(0x643)](_0x82a442=>this[_0x2076f2(0x363)](_0x82a442,_0x1a11f4[_0x2076f2(0x45c)]))),_0x1a11f4[_0x2076f2(0x4dd)][_0x2076f2(0x4f6)]=_0x6a4de8,_0x2db4c9[_0x2076f2(0x57d)]({'query':{'where':{'_id':_0x1a11f4[_0x2076f2(0x45c)],'owner':this[_0x2076f2(0x367)]['wuid']}},'update':_0x3cd514});}else _0x3cd514[_0x2076f2(0x601)]=!0x0,_0x2db4c9[_0x2076f2(0x57d)]({'query':{'where':{'_id':_0x1a11f4[_0x2076f2(0x45c)],'owner':this[_0x2076f2(0x367)]['wuid']}},'update':_0x3cd514});}let _0x40bf27=await this['repository']['chat'][_0x2076f2(0x5a6)](_0x2db4c9);return await Promise[_0x2076f2(0x4e2)](_0x3f240b),{'updated':_0x40bf27};}catch(_0x5a769a){let _0x68b322='Erro\x20ao\x20importar\x20chats',_0x21d274=_0x5a769a instanceof Error?_0x5a769a['message']:typeof _0x5a769a==_0x2076f2(0x410)?JSON[_0x2076f2(0x4eb)](_0x5a769a):_0x5a769a,_0x3a449c=_0x68b322+':\x20'+_0x21d274;throw this[_0x2076f2(0x29f)][_0x2076f2(0x62f)](this[_0x2076f2(0x185)]+'\x20('+this[_0x2076f2(0x367)]['wuid']+_0x2076f2(0x1db)+_0x3a449c),new m(_0x3a449c);}}async[a0_0x34238b(0x207)](){const _0x7471ad=a0_0x34238b;return await this[_0x7471ad(0x521)][_0x7471ad(0x207)]();}async[a0_0x34238b(0x3df)](_0x44a107){const _0x2ec5b6=a0_0x34238b;try{return await this[_0x2ec5b6(0x521)][_0x2ec5b6(0x348)](_0x44a107[_0x2ec5b6(0x3e2)][_0x2ec5b6(0x464)]),await this[_0x2ec5b6(0x521)][_0x2ec5b6(0x49a)](_0x44a107[_0x2ec5b6(0x3e2)]['profile']),await this[_0x2ec5b6(0x521)][_0x2ec5b6(0x551)](_0x44a107[_0x2ec5b6(0x3e2)][_0x2ec5b6(0x7b4)]),await this['client'][_0x2ec5b6(0x824)](_0x44a107['privacySettings'][_0x2ec5b6(0x392)]),await this[_0x2ec5b6(0x521)][_0x2ec5b6(0x475)](_0x44a107[_0x2ec5b6(0x3e2)][_0x2ec5b6(0x5be)]),await this[_0x2ec5b6(0x521)][_0x2ec5b6(0x3e9)](_0x44a107['privacySettings'][_0x2ec5b6(0x1ae)]),this['client']?.['ws']?.[_0x2ec5b6(0x5dc)](),{'update':'success','data':{'readreceipts':_0x44a107[_0x2ec5b6(0x3e2)][_0x2ec5b6(0x464)],'profile':_0x44a107[_0x2ec5b6(0x3e2)][_0x2ec5b6(0x2a2)],'status':_0x44a107[_0x2ec5b6(0x3e2)][_0x2ec5b6(0x7b4)],'online':_0x44a107[_0x2ec5b6(0x3e2)][_0x2ec5b6(0x392)],'last':_0x44a107[_0x2ec5b6(0x3e2)][_0x2ec5b6(0x5be)],'groupadd':_0x44a107[_0x2ec5b6(0x3e2)][_0x2ec5b6(0x1ae)]}};}catch(_0x212a04){let _0x5e9a2d='Erro\x20ao\x20alterar\x20privacidade',_0x1eeeef=_0x212a04 instanceof Error?_0x212a04[_0x2ec5b6(0x707)]:typeof _0x212a04=='object'?JSON[_0x2ec5b6(0x4eb)](_0x212a04):_0x212a04,_0x2562a1=_0x5e9a2d+':\x20'+_0x1eeeef;throw this[_0x2ec5b6(0x29f)]['error'](this[_0x2ec5b6(0x185)]+'\x20('+this[_0x2ec5b6(0x367)]['wuid']+'):\x20'+_0x2562a1),new m(_0x2562a1);}}async[a0_0x34238b(0x409)](_0x39c83c){const _0x39bc54=a0_0x34238b;let _0x55e818=(_0x39c83c?this[_0x39bc54(0x21b)](_0x39c83c):this[_0x39bc54(0x521)]?.['user']?.['id'])['replace'](/:\d{1,2}@/g,'@');this['logger']['verbose'](this[_0x39bc54(0x185)]+'\x20('+this[_0x39bc54(0x367)]['wuid']+'):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x55e818);let _0x58ba49=await this[_0x39bc54(0x4f1)][_0x39bc54(0x1da)][_0x39bc54(0x6cc)]({'where':{'_id':_0x55e818}},this[_0x39bc54(0x367)][_0x39bc54(0x18e)]),_0x49b5aa=_0x58ba49?_0x58ba49[_0x39bc54(0x81c)]:null;try{let _0x4887d7=(await this[_0x39bc54(0x5e4)]({'numbers':[_0x55e818]}))?.[_0x39bc54(0x578)](),_0x2c84d6=(await this[_0x39bc54(0x588)](_0x55e818,null,!0x1))[_0x39bc54(0x1d0)][_0x39bc54(0x300)],_0x15e544=await this[_0x39bc54(0x70a)](_0x4887d7?.[_0x39bc54(0x817)]),_0x4de9fd=await this[_0x39bc54(0x2d6)](_0x4887d7?.[_0x39bc54(0x817)]),_0x2ace4c=(await this[_0x39bc54(0x588)](_0x55e818,null,!0x1))[_0x39bc54(0x1d0)][_0x39bc54(0x5f8)],_0x321deb=await this[_0x39bc54(0x4f1)][_0x39bc54(0x7fd)]['findOne']({'where':{'_id':_0x55e818}},this['instance'][_0x39bc54(0x18e)]),_0x397ded={'imagechat':_0x2c84d6,'contactname':_0x49b5aa||null,'pushName':_0x2ace4c,'status':_0x15e544?.[_0x39bc54(0x7b4)],'isBusiness':_0x4de9fd[_0x39bc54(0x734)],'email':_0x4de9fd?.['email'],'description':_0x4de9fd?.['description'],'website':_0x4de9fd?.[_0x39bc54(0x5fd)]?.[_0x39bc54(0x578)](),'lastcache':Date[_0x39bc54(0x433)](),'imported':!_0x321deb},_0x3c4cad=await this[_0x39bc54(0x4f1)][_0x39bc54(0x7fd)][_0x39bc54(0x53d)]({'where':{'_id':_0x55e818}},_0x397ded,this[_0x39bc54(0x367)][_0x39bc54(0x18e)]),_0x280d68={'owner':this[_0x39bc54(0x367)][_0x39bc54(0x18e)],'_id':_0x55e818,'profilePictureUrl':_0x2c84d6,'status':_0x15e544?.[_0x39bc54(0x7b4)]};return this[_0x39bc54(0x4f1)][_0x39bc54(0x1da)][_0x39bc54(0x386)]([_0x280d68],this['instance'][_0x39bc54(0x18e)]),_0x3c4cad&&J(this[_0x39bc54(0x185)],_0x39bc54(0x1e2),{'chat':_0x3c4cad}),{'wuid':_0x4887d7?.[_0x39bc54(0x817)]||_0x55e818,'name':_0x4887d7?.[_0x39bc54(0x5f8)],'pushName':_0x2ace4c,'numberExists':_0x4887d7?.[_0x39bc54(0x810)],'picture':_0x2c84d6,'status':_0x15e544?.[_0x39bc54(0x7b4)],'isBusiness':_0x4de9fd['isBusiness'],'email':_0x4de9fd?.['email'],'description':_0x4de9fd?.['description'],'website':_0x4de9fd?.[_0x39bc54(0x5fd)]?.['shift']()};}catch(_0x423a3d){return this[_0x39bc54(0x29f)][_0x39bc54(0x62f)](_0x39bc54(0x7f3)+(_0x423a3d instanceof Error?_0x423a3d[_0x39bc54(0x707)]:JSON[_0x39bc54(0x4eb)](_0x423a3d,null,0x2))),{};}}async[a0_0x34238b(0x2d6)](_0x53c9f8){const _0x3399ac=a0_0x34238b;this[_0x3399ac(0x29f)]['verbose'](this[_0x3399ac(0x185)]+'\x20('+this[_0x3399ac(0x367)][_0x3399ac(0x18e)]+_0x3399ac(0x575));try{let _0xa1af0c=_0x53c9f8?this[_0x3399ac(0x21b)](_0x53c9f8):this[_0x3399ac(0x367)][_0x3399ac(0x18e)],_0x5de67e=await this[_0x3399ac(0x521)][_0x3399ac(0x36e)](_0xa1af0c);return this[_0x3399ac(0x29f)][_0x3399ac(0x2da)](this['instanceName']+'\x20('+this['instance'][_0x3399ac(0x18e)]+'):Trying\x20to\x20get\x20business\x20profile'),_0x5de67e?(this[_0x3399ac(0x29f)][_0x3399ac(0x2da)](this['instanceName']+'\x20('+this[_0x3399ac(0x367)][_0x3399ac(0x18e)]+_0x3399ac(0x660)),{'isBusiness':!0x0,..._0x5de67e}):{'isBusiness':!0x1,'message':_0x3399ac(0x6a3),...(await this[_0x3399ac(0x5e4)]({'numbers':[_0xa1af0c]}))?.[_0x3399ac(0x578)]()};}catch(_0x1212b5){let _0x13299d=_0x3399ac(0x58f),_0x3662e0=_0x1212b5 instanceof Error?_0x1212b5[_0x3399ac(0x707)]:typeof _0x1212b5==_0x3399ac(0x410)?JSON[_0x3399ac(0x4eb)](_0x1212b5):_0x1212b5,_0x4fe3b4=_0x13299d+':\x20'+_0x3662e0;throw this['logger']['error'](this[_0x3399ac(0x185)]+'\x20('+this[_0x3399ac(0x367)][_0x3399ac(0x18e)]+'):\x20'+_0x4fe3b4),new I(_0x4fe3b4);}}async[a0_0x34238b(0x70a)](_0x47df67){const _0x32b5f4=a0_0x34238b;let _0x2770f9=this[_0x32b5f4(0x21b)](_0x47df67);try{return{'wuid':_0x2770f9,'status':(await this['client'][_0x32b5f4(0x473)](_0x2770f9))?.['status']};}catch{return{'wuid':_0x2770f9,'status':null};}}async[a0_0x34238b(0x6b3)](_0x28e8d8){const _0x5b143f=a0_0x34238b;try{return await this[_0x5b143f(0x521)][_0x5b143f(0x6b3)](_0x28e8d8),{'update':'success'};}catch(_0x1d1ac5){let _0x2d8a56=_0x5b143f(0x293),_0x2372ee=_0x1d1ac5 instanceof Error?_0x1d1ac5[_0x5b143f(0x707)]:typeof _0x1d1ac5==_0x5b143f(0x410)?JSON[_0x5b143f(0x4eb)](_0x1d1ac5):_0x1d1ac5,_0x135139=_0x2d8a56+':\x20'+_0x2372ee;throw this[_0x5b143f(0x29f)][_0x5b143f(0x62f)](this['instanceName']+'\x20('+this[_0x5b143f(0x367)]['wuid']+'):\x20'+_0x135139),new I(_0x135139);}}async[a0_0x34238b(0x52c)](_0x455f15){const _0x356fe0=a0_0x34238b;try{return await this['client'][_0x356fe0(0x52c)](_0x455f15),{'update':_0x356fe0(0x3f8)};}catch(_0x3529ca){let _0x56bf97='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x14a672=_0x3529ca instanceof Error?_0x3529ca[_0x356fe0(0x707)]:typeof _0x3529ca==_0x356fe0(0x410)?JSON[_0x356fe0(0x4eb)](_0x3529ca):_0x3529ca,_0x398852=_0x56bf97+':\x20'+_0x14a672;throw this[_0x356fe0(0x29f)][_0x356fe0(0x62f)](this[_0x356fe0(0x185)]+'\x20('+this[_0x356fe0(0x367)][_0x356fe0(0x18e)]+_0x356fe0(0x1db)+_0x398852),new I(_0x398852);}}async['updateProfilePicture'](_0xcd641){const _0x488b22=a0_0x34238b;try{let _0x2703da;if((0x0,P[_0x488b22(0x762)])(_0xcd641)){let _0x5dc9c5=new Date()[_0x488b22(0x214)](),_0x5bebc2=_0xcd641+_0x488b22(0x7c9)+_0x5dc9c5;_0x2703da=(await K[_0x488b22(0x3fd)][_0x488b22(0x480)](_0x5bebc2,{'responseType':_0x488b22(0x47a)}))[_0x488b22(0x323)];}else{if((0x0,P[_0x488b22(0x16d)])(_0xcd641))_0x2703da=Buffer[_0x488b22(0x28d)](_0xcd641,_0x488b22(0x4ca));else throw new m(_0x488b22(0x349));}return await this[_0x488b22(0x521)][_0x488b22(0x1c4)](this[_0x488b22(0x367)]['wuid'],_0x2703da),{'update':_0x488b22(0x3f8)};}catch(_0x51b2a1){let _0x31e1a8=_0x488b22(0x6e6),_0x3538d7=_0x51b2a1 instanceof Error?_0x51b2a1[_0x488b22(0x707)]:typeof _0x51b2a1==_0x488b22(0x410)?JSON['stringify'](_0x51b2a1):_0x51b2a1,_0x537e69=_0x31e1a8+':\x20'+_0x3538d7;throw this[_0x488b22(0x29f)]['error'](this[_0x488b22(0x185)]+'\x20('+this[_0x488b22(0x367)][_0x488b22(0x18e)]+_0x488b22(0x1db)+_0x537e69),new I(_0x537e69);}}async[a0_0x34238b(0x67f)](){const _0x1ce495=a0_0x34238b;try{return await this[_0x1ce495(0x521)][_0x1ce495(0x67f)](this['instance']['wuid']),{'update':_0x1ce495(0x3f8)};}catch(_0x5bbdf5){let _0x381fd7=_0x1ce495(0x732),_0x586317=_0x5bbdf5 instanceof Error?_0x5bbdf5['message']:typeof _0x5bbdf5==_0x1ce495(0x410)?JSON['stringify'](_0x5bbdf5):_0x5bbdf5,_0x1af52b=_0x381fd7+':\x20'+_0x586317;throw this[_0x1ce495(0x29f)][_0x1ce495(0x62f)](this['instanceName']+'\x20('+this[_0x1ce495(0x367)]['wuid']+'):\x20'+_0x1af52b),new I(_0x1af52b);}}async[a0_0x34238b(0x32e)](_0x11693c){const _0xa62f15=a0_0x34238b;try{let _0x44faa7=(await this[_0xa62f15(0x5e4)]({'numbers':_0x11693c[_0xa62f15(0x325)]}))[_0xa62f15(0x6f1)](_0x17fe7f=>_0x17fe7f[_0xa62f15(0x810)])[_0xa62f15(0x643)](_0xa201bb=>_0xa201bb['jid']),{id:_0x493f6d}=await this[_0xa62f15(0x521)][_0xa62f15(0x47d)](_0x11693c[_0xa62f15(0x190)],_0x44faa7);_0x11693c?.[_0xa62f15(0x1a7)]&&await this['client'][_0xa62f15(0x4aa)](_0x493f6d,_0x11693c[_0xa62f15(0x1a7)]);let _0x2c0848=await this[_0xa62f15(0x521)][_0xa62f15(0x18a)](_0x493f6d);return _0x2c0848[_0xa62f15(0x541)]=[],{'metadata':_0x2c0848};}catch(_0x37e433){let _0x276f9e=_0xa62f15(0x67d),_0x1c5b01=_0x37e433 instanceof Error?_0x37e433['message']:typeof _0x37e433==_0xa62f15(0x410)?JSON[_0xa62f15(0x4eb)](_0x37e433):_0x37e433,_0x28a1ed=_0x276f9e+':\x20'+_0x1c5b01;throw this[_0xa62f15(0x29f)]['error'](this['instanceName']+'\x20('+this[_0xa62f15(0x367)]['wuid']+_0xa62f15(0x1db)+_0x28a1ed),new I(_0x28a1ed);}}async[a0_0x34238b(0x64a)](_0x3108c){const _0x120083=a0_0x34238b;try{if(_0x3108c[_0x120083(0x341)]===!0x0&&await this[_0x120083(0x521)]['groupSettingUpdate'](_0x3108c[_0x120083(0x7eb)],_0x120083(0x479)),_0x3108c[_0x120083(0x341)]===!0x1&&await this['client'][_0x120083(0x573)](_0x3108c[_0x120083(0x7eb)],_0x120083(0x749)),_0x3108c['announce']===!0x0&&await this['client'][_0x120083(0x573)](_0x3108c['groupJid'],_0x120083(0x77e)),_0x3108c['announce']===!0x1&&await this[_0x120083(0x521)][_0x120083(0x573)](_0x3108c[_0x120083(0x7eb)],_0x120083(0x6b0)),_0x3108c['memberAddMode']===!0x0&&await this['client'][_0x120083(0x6aa)](_0x3108c[_0x120083(0x7eb)],_0x120083(0x7df)),_0x3108c['memberAddMode']===!0x1&&await this[_0x120083(0x521)][_0x120083(0x6aa)](_0x3108c[_0x120083(0x7eb)],'admin_add'),_0x3108c['joinApprovalMode']===!0x0&&await this[_0x120083(0x521)][_0x120083(0x233)](_0x3108c[_0x120083(0x7eb)],'on'),_0x3108c[_0x120083(0x5d0)]===!0x1&&await this[_0x120083(0x521)]['groupJoinApprovalMode'](_0x3108c[_0x120083(0x7eb)],_0x120083(0x3be)),typeof _0x3108c[_0x120083(0x7ea)]<'u'&&_0x3108c[_0x120083(0x7ea)]!==null&&await this[_0x120083(0x521)]['groupToggleEphemeral'](_0x3108c[_0x120083(0x7eb)],_0x3108c[_0x120083(0x7ea)]),_0x3108c['name']&&await this[_0x120083(0x521)]['groupUpdateSubject'](_0x3108c[_0x120083(0x7eb)],_0x3108c[_0x120083(0x5f8)]),_0x3108c['description']&&await this[_0x120083(0x521)][_0x120083(0x4aa)](_0x3108c[_0x120083(0x7eb)],_0x3108c[_0x120083(0x1a7)]),_0x3108c[_0x120083(0x483)]){let _0x3cbc2a;if((0x0,P[_0x120083(0x762)])(_0x3108c[_0x120083(0x483)])){let _0xfaa69e=new Date()[_0x120083(0x214)](),_0x2d6320=_0x3108c[_0x120083(0x483)]+_0x120083(0x7c9)+_0xfaa69e;_0x3cbc2a=(await K[_0x120083(0x3fd)]['get'](_0x2d6320,{'responseType':_0x120083(0x47a)}))[_0x120083(0x323)];}else{if((0x0,P['isBase64'])(_0x3108c[_0x120083(0x483)]))_0x3cbc2a=Buffer[_0x120083(0x28d)](_0x3108c[_0x120083(0x483)],_0x120083(0x4ca));else throw new m(_0x120083(0x349));}await this[_0x120083(0x521)][_0x120083(0x1c4)](_0x3108c[_0x120083(0x7eb)],_0x3cbc2a);}return await this[_0x120083(0x4d5)]({'groupJid':_0x3108c['groupJid']});}catch(_0x5b0d44){let _0x5f5b9e=_0x120083(0x304),_0x2493dd=_0x5b0d44 instanceof Error?_0x5b0d44[_0x120083(0x707)]:typeof _0x5b0d44==_0x120083(0x410)?JSON['stringify'](_0x5b0d44):_0x5b0d44,_0x1a2aa2=_0x5f5b9e+':\x20'+_0x2493dd;throw this['logger']['error'](this[_0x120083(0x185)]+'\x20('+this[_0x120083(0x367)]['wuid']+_0x120083(0x1db)+_0x1a2aa2),new I(_0x1a2aa2);}}async[a0_0x34238b(0x796)](_0x2d61eb){const _0x11caec=a0_0x34238b;try{if(_0x2d61eb['action']===_0x11caec(0x2b8)||_0x2d61eb['action']==='reject'){let _0x1c207c=_0x2d61eb[_0x11caec(0x325)][_0x11caec(0x643)](_0x5567f4=>this[_0x11caec(0x21b)](_0x5567f4));await this[_0x11caec(0x521)]['groupRequestParticipantsUpdate'](_0x2d61eb[_0x11caec(0x7eb)],_0x1c207c,_0x2d61eb[_0x11caec(0x627)]);}else{if(_0x2d61eb[_0x11caec(0x627)]==='add'){let _0x20f101=(await this['whatsappNumber']({'numbers':_0x2d61eb['participants']}))[_0x11caec(0x6f1)](_0x1b0c61=>_0x1b0c61[_0x11caec(0x810)])[_0x11caec(0x643)](_0x39fbb6=>this[_0x11caec(0x21b)](_0x39fbb6[_0x11caec(0x817)]));if(_0x20f101[_0x11caec(0x6f5)]===0x0)throw new m(_0x11caec(0x1b9));await this['client'][_0x11caec(0x723)](_0x2d61eb[_0x11caec(0x7eb)],_0x20f101,_0x11caec(0x7d8));}else{let _0x549ee2=_0x2d61eb[_0x11caec(0x325)][_0x11caec(0x643)](_0x3bf4d2=>this[_0x11caec(0x21b)](_0x3bf4d2));await this['client'][_0x11caec(0x723)](_0x2d61eb[_0x11caec(0x7eb)],_0x549ee2,_0x2d61eb[_0x11caec(0x627)]);}}return await this[_0x11caec(0x4d5)]({'groupJid':_0x2d61eb['groupJid']});}catch(_0x8a7872){let _0x277e42=_0x11caec(0x5c0),_0x2fcf86=_0x8a7872 instanceof Error?_0x8a7872[_0x11caec(0x707)]:typeof _0x8a7872==_0x11caec(0x410)?JSON[_0x11caec(0x4eb)](_0x8a7872):_0x8a7872,_0x489ccb=_0x277e42+':\x20'+_0x2fcf86;throw this['logger'][_0x11caec(0x62f)](this[_0x11caec(0x185)]+'\x20('+this[_0x11caec(0x367)][_0x11caec(0x18e)]+'):\x20'+_0x489ccb),new m(_0x489ccb);}}async[a0_0x34238b(0x6e8)](_0xceb44c){const _0x1c547d=a0_0x34238b;try{return await this[_0x1c547d(0x521)][_0x1c547d(0x6e8)](_0xceb44c['inviteCode']);}catch(_0x89ffee){let _0x59462b=_0x1c547d(0x283),_0x47b307=_0x89ffee instanceof Error?_0x89ffee[_0x1c547d(0x707)]:typeof _0x89ffee==_0x1c547d(0x410)?JSON[_0x1c547d(0x4eb)](_0x89ffee):_0x89ffee,_0x1bf73a=_0x59462b+':\x20'+_0x47b307;throw this['logger'][_0x1c547d(0x62f)](this[_0x1c547d(0x185)]+'\x20('+this[_0x1c547d(0x367)]['wuid']+_0x1c547d(0x1db)+_0x1bf73a),new m(_0x1bf73a);}}async[a0_0x34238b(0x4d5)](_0x1ddacd,_0x231e6d=a0_0x34238b(0x180)){const _0x5237ca=a0_0x34238b;try{let _0x16ceb3=await this[_0x5237ca(0x4f1)][_0x5237ca(0x7fd)][_0x5237ca(0x6cc)]({'where':{'_id':_0x1ddacd[_0x5237ca(0x7eb)]}},this[_0x5237ca(0x367)][_0x5237ca(0x18e)]),_0x288241=_0x16ceb3?_0x16ceb3[_0x5237ca(0x76c)]:null,_0x1a0da8=0x18*0x3c*0x3c*0x3e8;if(!_0x288241||_0x288241[_0x5237ca(0x27c)]&&Date[_0x5237ca(0x433)]()-_0x288241[_0x5237ca(0x27c)]>_0x1a0da8){let _0x5ae8e6=await this[_0x5237ca(0x521)][_0x5237ca(0x18a)](_0x1ddacd[_0x5237ca(0x7eb)]);if(_0x5ae8e6['subjectTime']=_0x5ae8e6?.['subjectTime']&&_0x5ae8e6[_0x5237ca(0x36c)][_0x5237ca(0x513)]()[_0x5237ca(0x6f5)]<0xd?_0x5ae8e6?.['subjectTime']*0x3e8:_0x5ae8e6?.['subjectTime']||null,_0x5ae8e6['creation']=_0x5ae8e6?.[_0x5237ca(0x82c)]&&_0x5ae8e6[_0x5237ca(0x82c)][_0x5237ca(0x513)]()[_0x5237ca(0x6f5)]<0xd?_0x5ae8e6?.[_0x5237ca(0x82c)]*0x3e8:_0x5ae8e6?.['creation']||null,_0x288241={..._0x5ae8e6,'lastUpdate':Date[_0x5237ca(0x433)]()},!_0x5ae8e6)return;}let _0x4cd214=_0x288241[_0x5237ca(0x325)][_0x5237ca(0x2de)](_0x363c74=>_0x363c74['id']===this[_0x5237ca(0x367)]['wuid']+'@s.whatsapp.net'&&_0x363c74[_0x5237ca(0x6d0)]!=null);!_0x288241[_0x5237ca(0x586)]&&_0x4cd214&&(_0x288241[_0x5237ca(0x586)]=(await this[_0x5237ca(0x586)](_0x1ddacd,!0x1))['inviteUrl']);let _0x3f2d90=(!_0x288241['announce']||_0x4cd214)&&(!_0x288241[_0x5237ca(0x6e2)]||_0x288241['isCommunity']&&_0x288241[_0x5237ca(0x5f0)]&&_0x4cd214);_0x288241[_0x5237ca(0x46d)]=_0x4cd214,_0x288241[_0x5237ca(0x39e)]=_0x3f2d90;let _0x4b289a=[];if(_0x4cd214&&_0x288241['joinApprovalMode'])try{_0x4b289a=await this['client'][_0x5237ca(0x3b9)](_0x1ddacd[_0x5237ca(0x7eb)]),_0x288241[_0x5237ca(0x71b)]=Date[_0x5237ca(0x433)]();}catch(_0x245a33){this[_0x5237ca(0x29f)][_0x5237ca(0x2da)](this[_0x5237ca(0x185)]+'\x20('+this[_0x5237ca(0x367)][_0x5237ca(0x18e)]+_0x5237ca(0x1cb)+_0x1ddacd[_0x5237ca(0x7eb)]+':\x20'+(_0x245a33 instanceof Error?_0x245a33[_0x5237ca(0x707)]:JSON[_0x5237ca(0x4eb)](_0x245a33,null,0x2)));}try{_0x288241[_0x5237ca(0x483)]=(await this['findAndUpdateCacheContact'](_0x1ddacd[_0x5237ca(0x7eb)],null,!0x0))[_0x5237ca(0x1d0)][_0x5237ca(0x300)];}catch(_0x3fc58d){this[_0x5237ca(0x29f)][_0x5237ca(0x2da)](this[_0x5237ca(0x185)]+'\x20('+this[_0x5237ca(0x367)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x1ddacd['groupJid']+':\x20'+(_0x3fc58d instanceof Error?_0x3fc58d[_0x5237ca(0x707)]:JSON['stringify'](_0x3fc58d,null,0x2)));}let _0x1462dd=_0x288241[_0x5237ca(0x325)][_0x5237ca(0x643)](_0x4b0782=>_0x4b0782['id']),_0x3be240=_0x4b289a[_0x5237ca(0x643)](_0xc454c2=>_0xc454c2[_0x5237ca(0x817)]),_0x2326e8=await this[_0x5237ca(0x4f1)]['cacheContact'][_0x5237ca(0x74c)]([..._0x1462dd,..._0x3be240]);_0x288241['participants']=_0x288241[_0x5237ca(0x325)]['map'](_0x1326e5=>{const _0xe7d67=_0x5237ca;let _0x356a93=_0x2326e8[_0xe7d67(0x802)](_0x444ca0=>_0x444ca0[_0xe7d67(0x45c)]===_0x1326e5['id']);return{'id':_0x1326e5['id'],'isAdmin':[_0xe7d67(0x6d0),_0xe7d67(0x70c)][_0xe7d67(0x331)](_0x1326e5[_0xe7d67(0x6d0)]),'admin':_0x1326e5['admin'],'pushName':_0x356a93?.[_0xe7d67(0x5f8)],'profilePictureUrl':_0x356a93?.[_0xe7d67(0x300)]};}),_0x288241[_0x5237ca(0x541)]=_0x4b289a[_0x5237ca(0x643)](_0x21df01=>{const _0x3c6c7a=_0x5237ca;let _0x1be616=_0x2326e8['find'](_0x5a7301=>_0x5a7301['_id']===_0x21df01[_0x3c6c7a(0x817)]);return{'id':_0x21df01[_0x3c6c7a(0x817)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x1be616?.[_0x3c6c7a(0x5f8)],'profilePictureUrl':_0x1be616?.['pictureUrl'],'request_method':_0x21df01[_0x3c6c7a(0x557)],'request_time':_0x21df01[_0x3c6c7a(0x2dd)]};});let _0x294baf=await this[_0x5237ca(0x4f1)][_0x5237ca(0x7fd)][_0x5237ca(0x53d)]({'where':{'_id':_0x1ddacd[_0x5237ca(0x7eb)]}},{'imagechat':_0x288241['image'],'name':_0x288241[_0x5237ca(0x190)],'lastcache':Date['now'](),'groupdata':_0x288241},this[_0x5237ca(0x367)][_0x5237ca(0x18e)]);return J(this[_0x5237ca(0x185)],_0x5237ca(0x1e2),{'chat':_0x294baf}),{'metadata':_0x288241};}catch(_0x47bb35){if(_0x231e6d===_0x5237ca(0x342))return;throw new U('Error\x20fetching\x20group',_0x47bb35['message'][_0x5237ca(0x513)]());}}async['findGroups'](){const _0x3996f0=a0_0x34238b;try{let _0x3221e0=[],_0x1cbb4d=await this[_0x3996f0(0x521)][_0x3996f0(0x40e)](),_0x2f751a=Object['values'](_0x1cbb4d),_0x374025=_0x2f751a[_0x3996f0(0x6f1)](_0x1050ab=>(0x0,w[_0x3996f0(0x154)])(_0x1050ab?.['id']))[_0x3996f0(0x643)](async _0xcdbe44=>{const _0x24d05b=_0x3996f0;try{return await this[_0x24d05b(0x521)]['profilePictureUrl'](_0xcdbe44['id'],_0x24d05b(0x22e));}catch(_0x14ace2){return this['logger']['verbose'](this[_0x24d05b(0x185)]+'\x20('+this[_0x24d05b(0x367)][_0x24d05b(0x18e)]+_0x24d05b(0x436)+_0xcdbe44['id']+':\x20'+(_0x14ace2 instanceof Error?_0x14ace2['message']:JSON[_0x24d05b(0x4eb)](_0x14ace2,null,0x2))),null;}}),_0x4a3c56=await Promise[_0x3996f0(0x4e2)](_0x374025);for(let _0x16b5b8=0x0;_0x16b5b8<_0x2f751a[_0x3996f0(0x6f5)];_0x16b5b8++){let _0x2517a0=_0x2f751a[_0x16b5b8];(0x0,w[_0x3996f0(0x154)])(_0x2517a0?.['id'])&&(_0x3221e0[_0x3996f0(0x57d)]({'groupJid':_0x2517a0?.['id'],'subject':_0x2517a0?.[_0x3996f0(0x190)],'subjectOwner':_0x2517a0?.[_0x3996f0(0x43b)]?.[_0x3996f0(0x447)]('@')[0x0],'subjectTime':_0x2517a0?.['subjectTime'],'creation':_0x2517a0?.[_0x3996f0(0x82c)],'size':_0x2517a0?.['participants']?.[_0x3996f0(0x6f5)],'owner':_0x2517a0?.[_0x3996f0(0x553)]?.[_0x3996f0(0x447)]('@')[0x0],'desc':_0x2517a0?.[_0x3996f0(0x1c0)],'restrict':_0x2517a0?.[_0x3996f0(0x341)],'announce':_0x2517a0?.[_0x3996f0(0x470)],'image':_0x4a3c56[_0x16b5b8],'isCommunity':_0x2517a0?.[_0x3996f0(0x6e2)],'joinApprovalMode':_0x2517a0?.[_0x3996f0(0x5d0)],'memberCanAddParticipant':_0x2517a0?.[_0x3996f0(0x30c)],'participants':_0x2517a0?.[_0x3996f0(0x325)],'descOwner':_0x2517a0?.['descOwner'],'descId':_0x2517a0?.[_0x3996f0(0x668)],'memberAddMode':_0x2517a0?.[_0x3996f0(0x30c)],'isCommunityAnnounce':_0x2517a0?.[_0x3996f0(0x5f0)],'ephemeralDuration':_0x2517a0?.[_0x3996f0(0x5c9)]||0x0,'author':_0x2517a0?.[_0x3996f0(0x755)]}),this['updateChatGroupData'](_0x2f751a[_0x16b5b8]));}return _0x3221e0;}catch(_0x56d6f7){let _0x241b4a=_0x3996f0(0x7cf),_0x579b7f=_0x56d6f7 instanceof Error?_0x56d6f7[_0x3996f0(0x707)]:typeof _0x56d6f7==_0x3996f0(0x410)?JSON[_0x3996f0(0x4eb)](_0x56d6f7):_0x56d6f7,_0x553f25=_0x241b4a+':\x20'+_0x579b7f;throw this[_0x3996f0(0x29f)][_0x3996f0(0x62f)](this[_0x3996f0(0x185)]+'\x20('+this[_0x3996f0(0x367)][_0x3996f0(0x18e)]+'):\x20'+_0x553f25),new U(_0x553f25);}}async[a0_0x34238b(0x500)](_0x87ca3e){const _0x25c768=a0_0x34238b;let _0x17a0dc=await this[_0x25c768(0x4f1)][_0x25c768(0x7fd)][_0x25c768(0x6cc)]({'where':{'_id':_0x87ca3e['id']}},this[_0x25c768(0x367)][_0x25c768(0x18e)]);_0x87ca3e['subjectTime']=_0x87ca3e?.['subjectTime']&&_0x87ca3e[_0x25c768(0x36c)][_0x25c768(0x513)]()['length']<0xd?_0x87ca3e?.['subjectTime']*0x3e8:_0x87ca3e?.['subjectTime']||null,_0x87ca3e['creation']=_0x87ca3e?.[_0x25c768(0x82c)]&&_0x87ca3e[_0x25c768(0x82c)]['toString']()[_0x25c768(0x6f5)]<0xd?_0x87ca3e?.[_0x25c768(0x82c)]*0x3e8:_0x87ca3e?.['creation']||null;let _0x4a090d=_0x17a0dc?.[_0x25c768(0x76c)]?.[_0x25c768(0x541)]||[],_0x36aaea=_0x17a0dc?.[_0x25c768(0x76c)]?.[_0x25c768(0x71b)],_0x404cb3=_0x87ca3e[_0x25c768(0x325)][_0x25c768(0x643)](_0x4b644b=>{const _0x3d12da=_0x25c768;let _0x433353=_0x17a0dc?.[_0x3d12da(0x76c)]?.[_0x3d12da(0x325)][_0x3d12da(0x802)](_0x4f44a4=>_0x4f44a4['id']===_0x4b644b['id']);return{..._0x4b644b,'isAdmin':[_0x3d12da(0x6d0),_0x3d12da(0x70c)][_0x3d12da(0x331)](_0x4b644b['admin']),'admin':_0x4b644b[_0x3d12da(0x6d0)],'name':_0x433353?.[_0x3d12da(0x5f8)]||_0x4b644b[_0x3d12da(0x5f8)],'imgUrl':_0x433353?.[_0x3d12da(0x449)]||_0x4b644b[_0x3d12da(0x449)]};}),_0x271145=_0x404cb3[_0x25c768(0x2de)](_0x5bcab2=>_0x5bcab2['id']===this[_0x25c768(0x367)][_0x25c768(0x18e)]+_0x25c768(0x454)&&_0x5bcab2[_0x25c768(0x46d)]),_0x446021=(!_0x87ca3e['announce']||_0x271145)&&(!_0x87ca3e[_0x25c768(0x6e2)]||_0x87ca3e[_0x25c768(0x6e2)]&&_0x87ca3e[_0x25c768(0x5f0)]&&_0x271145),_0x492dce={..._0x87ca3e,'participants':_0x404cb3,'awaitingApproval':_0x4a090d,'lastFetchAwaitingApproval':_0x36aaea,'isAdmin':_0x271145,'canSendMessage':_0x446021,'lastUpdate':Date['now']()};await this[_0x25c768(0x4f1)][_0x25c768(0x7fd)][_0x25c768(0x53d)]({'where':{'_id':_0x87ca3e['id']}},{'name':_0x87ca3e[_0x25c768(0x190)],'group':!0x0,'groupdata':_0x492dce,'lastcache':Date['now']()},this[_0x25c768(0x367)][_0x25c768(0x18e)]),J(this[_0x25c768(0x185)],_0x25c768(0x1e2),{'chat':_0x87ca3e});}async[a0_0x34238b(0x156)](_0x3b8d6d){const _0x29ccf1=a0_0x34238b;let _0x57d7f1=await this['repository'][_0x29ccf1(0x7fd)][_0x29ccf1(0x6cc)]({'where':{'_id':_0x3b8d6d['id']}},this[_0x29ccf1(0x367)][_0x29ccf1(0x18e)]);_0x3b8d6d[_0x29ccf1(0x36c)]=_0x3b8d6d?.['subjectTime']&&_0x3b8d6d[_0x29ccf1(0x36c)][_0x29ccf1(0x513)]()[_0x29ccf1(0x6f5)]<0xd?_0x3b8d6d?.[_0x29ccf1(0x36c)]*0x3e8:_0x3b8d6d?.[_0x29ccf1(0x36c)]||null,_0x3b8d6d[_0x29ccf1(0x82c)]=_0x3b8d6d?.[_0x29ccf1(0x82c)]&&_0x3b8d6d[_0x29ccf1(0x82c)]['toString']()[_0x29ccf1(0x6f5)]<0xd?_0x3b8d6d?.['creation']*0x3e8:_0x3b8d6d?.[_0x29ccf1(0x82c)]||null,_0x3b8d6d[_0x29ccf1(0x586)]&&(_0x3b8d6d[_0x29ccf1(0x586)]=_0x29ccf1(0x545)+_0x3b8d6d[_0x29ccf1(0x586)]);let _0x484adc=_0x57d7f1?.[_0x29ccf1(0x76c)]?{..._0x57d7f1[_0x29ccf1(0x76c)]}:{};Object[_0x29ccf1(0x58c)](_0x3b8d6d)['forEach'](_0x123e52=>{_0x123e52!=='id'&&(_0x484adc[_0x123e52]=_0x3b8d6d[_0x123e52]);});let _0x462500=_0x484adc[_0x29ccf1(0x325)]?.[_0x29ccf1(0x2de)](_0x33eb24=>_0x33eb24['id']===this[_0x29ccf1(0x367)]['wuid']+'@s.whatsapp.net'&&_0x33eb24[_0x29ccf1(0x46d)])||!0x1;_0x484adc[_0x29ccf1(0x46d)]=_0x462500;let _0x1545fc=(!_0x484adc[_0x29ccf1(0x470)]||_0x462500)&&(!_0x484adc[_0x29ccf1(0x6e2)]||_0x484adc[_0x29ccf1(0x6e2)]&&_0x484adc[_0x29ccf1(0x5f0)]&&_0x462500);_0x484adc[_0x29ccf1(0x39e)]=_0x1545fc;let _0x31eaa9={'group':!0x0,'groupdata':_0x484adc};_0x3b8d6d[_0x29ccf1(0x190)]&&(_0x31eaa9[_0x29ccf1(0x5f8)]=_0x3b8d6d[_0x29ccf1(0x190)]),await this[_0x29ccf1(0x4f1)][_0x29ccf1(0x7fd)][_0x29ccf1(0x53d)]({'where':{'_id':_0x3b8d6d['id']}},_0x31eaa9,this['instance'][_0x29ccf1(0x18e)],{'upsert':!0x0}),J(this[_0x29ccf1(0x185)],_0x29ccf1(0x1e2),{'chat':_0x31eaa9});}async[a0_0x34238b(0x2b0)](_0x84a392){const _0x10788b=a0_0x34238b;let _0x2def7c=await this['repository'][_0x10788b(0x7fd)][_0x10788b(0x6cc)]({'where':{'_id':_0x84a392['id']}},this['instance'][_0x10788b(0x18e)]);if(!_0x2def7c||!_0x2def7c[_0x10788b(0x76c)]){this['logger'][_0x10788b(0x364)](this[_0x10788b(0x185)]+'\x20('+this['instance'][_0x10788b(0x18e)]+_0x10788b(0x5e5)+_0x84a392['id']);return;}let _0x3990e7=await this[_0x10788b(0x4f1)][_0x10788b(0x4de)][_0x10788b(0x74c)](_0x84a392[_0x10788b(0x325)]),_0xdfcab1=[..._0x2def7c['groupdata']?.[_0x10788b(0x325)]];switch(_0x84a392[_0x10788b(0x627)]){case _0x10788b(0x7d8):let _0x1a3cdb=_0x3990e7[_0x10788b(0x643)](_0x14e32=>({'id':_0x14e32[_0x10788b(0x45c)],'isAdmin':!0x1,'name':_0x14e32[_0x10788b(0x5f8)],'imgUrl':_0x14e32[_0x10788b(0x300)]}));_0xdfcab1=[..._0xdfcab1,..._0x1a3cdb];break;case _0x10788b(0x461):_0xdfcab1=_0xdfcab1[_0x10788b(0x6f1)](_0x2dc1c1=>!_0x84a392[_0x10788b(0x325)][_0x10788b(0x331)](_0x2dc1c1['id']));break;case _0x10788b(0x4b8):case'demote':_0xdfcab1=_0xdfcab1[_0x10788b(0x643)](_0x65bdc8=>_0x84a392[_0x10788b(0x325)][_0x10788b(0x331)](_0x65bdc8['id'])?{..._0x65bdc8,'isAdmin':_0x84a392[_0x10788b(0x627)]==='promote'}:_0x65bdc8);break;}let _0x185575=_0xdfcab1[_0x10788b(0x6f5)],_0x3ea7ed=_0xdfcab1[_0x10788b(0x2de)](_0x5eaaa5=>_0x5eaaa5['id']===this[_0x10788b(0x367)]['wuid']+'@s.whatsapp.net'),_0x22c369=_0x3ea7ed&&_0xdfcab1['some'](_0x1c1a93=>_0x1c1a93['id']===this[_0x10788b(0x367)]['wuid']+'@s.whatsapp.net'&&_0x1c1a93[_0x10788b(0x46d)]),_0x2c1c21=_0x3ea7ed&&(!_0x2def7c[_0x10788b(0x76c)][_0x10788b(0x470)]||_0x22c369)&&(!_0x2def7c[_0x10788b(0x76c)][_0x10788b(0x6e2)]||_0x2def7c['groupdata']['isCommunity']&&_0x22c369);await this[_0x10788b(0x4f1)][_0x10788b(0x7fd)][_0x10788b(0x53d)]({'where':{'_id':_0x84a392['id']}},{'groupdata':{..._0x2def7c['groupdata'],'participants':_0xdfcab1,'size':_0x185575,'isAdmin':_0x22c369,'canSendMessage':_0x2c1c21}},this[_0x10788b(0x367)][_0x10788b(0x18e)]),this[_0x10788b(0x29f)][_0x10788b(0x364)](this[_0x10788b(0x185)]+'\x20('+this[_0x10788b(0x367)]['wuid']+_0x10788b(0x277)+_0x84a392['id']+_0x10788b(0x41a)+_0x84a392[_0x10788b(0x627)]+_0x10788b(0x646)+_0x185575+',\x20isAdmin:\x20'+_0x22c369+_0x10788b(0x250)+_0x2c1c21);}async['inviteCode'](_0x156891,_0x3697f6=!0x0){const _0x8caa32=a0_0x34238b;try{let _0x2dce75=await this[_0x8caa32(0x521)]['groupInviteCode'](_0x156891[_0x8caa32(0x7eb)]),_0x179d5e={'groupdata.inviteCode':_0x8caa32(0x545)+_0x2dce75};if(_0x3697f6){let _0x473056=await this[_0x8caa32(0x4f1)]['chat']['updateOne']({'where':{'_id':_0x156891[_0x8caa32(0x7eb)]}},_0x179d5e,this[_0x8caa32(0x367)][_0x8caa32(0x18e)]);}return{'inviteUrl':_0x8caa32(0x545)+_0x2dce75,'inviteCode':_0x2dce75};}catch(_0x5bd743){let _0x275211='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x49c74c=_0x5bd743 instanceof Error?_0x5bd743['message']:typeof _0x5bd743=='object'?JSON[_0x8caa32(0x4eb)](_0x5bd743):_0x5bd743,_0x3ddc2e=_0x275211+':\x20'+_0x49c74c;throw this['logger'][_0x8caa32(0x62f)](this[_0x8caa32(0x185)]+'\x20('+this[_0x8caa32(0x367)][_0x8caa32(0x18e)]+_0x8caa32(0x1db)+_0x3ddc2e),new U(_0x3ddc2e);}}async[a0_0x34238b(0x612)](_0x4ff7f4){const _0x635ea8=a0_0x34238b;try{let _0x19481d=await this[_0x635ea8(0x521)][_0x635ea8(0x263)](_0x4ff7f4['groupJid']);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x19481d,'inviteCode':_0x19481d};}catch(_0x538108){let _0x44b258=_0x635ea8(0x564),_0x56c949=_0x538108 instanceof Error?_0x538108[_0x635ea8(0x707)]:typeof _0x538108==_0x635ea8(0x410)?JSON[_0x635ea8(0x4eb)](_0x538108):_0x538108,_0x4c7bc5=_0x44b258+':\x20'+_0x56c949;throw this[_0x635ea8(0x29f)][_0x635ea8(0x62f)](this[_0x635ea8(0x185)]+'\x20('+this[_0x635ea8(0x367)][_0x635ea8(0x18e)]+_0x635ea8(0x1db)+_0x4c7bc5),new U(_0x4c7bc5);}}async[a0_0x34238b(0x6c6)](_0x2769d8){const _0x545439=a0_0x34238b;try{if((0x0,P[_0x545439(0x762)])(_0x2769d8['inviteCode']))var _0x2eb8d1=_0x2769d8[_0x545439(0x586)]['split']('/')[0x3];else var _0x2eb8d1=_0x2769d8['inviteCode'];let _0x2aa9a0=await this[_0x545439(0x521)][_0x545439(0x69f)](_0x2eb8d1);return this[_0x545439(0x29f)][_0x545439(0x2da)](this[_0x545439(0x185)]+'\x20('+this[_0x545439(0x367)]['wuid']+_0x545439(0x1db)+_0x2aa9a0),{'join':!0x0,'inviteCode':_0x2eb8d1,'groupJid':_0x2aa9a0};}catch(_0x18f332){let _0x520515=_0x545439(0x4e9),_0x4a4e60=_0x18f332 instanceof Error?_0x18f332[_0x545439(0x707)]:typeof _0x18f332==_0x545439(0x410)?JSON['stringify'](_0x18f332):_0x18f332,_0x442ca5=_0x520515+':\x20'+_0x4a4e60;throw this[_0x545439(0x29f)][_0x545439(0x62f)](this[_0x545439(0x185)]+'\x20('+this[_0x545439(0x367)][_0x545439(0x18e)]+_0x545439(0x1db)+_0x442ca5),new U(_0x442ca5);}}async[a0_0x34238b(0x27f)](_0x53f080){const _0x4c8a75=a0_0x34238b;try{return{'participants':(await this[_0x4c8a75(0x4f1)]['chat'][_0x4c8a75(0x6cc)]({'where':{'_id':_0x53f080[_0x4c8a75(0x7eb)]}},this[_0x4c8a75(0x367)][_0x4c8a75(0x18e)]))[_0x4c8a75(0x76c)][_0x4c8a75(0x325)]};}catch(_0x3b7b52){let _0x1da64a=_0x4c8a75(0x792),_0x59a7f6=_0x3b7b52 instanceof Error?_0x3b7b52[_0x4c8a75(0x707)]:typeof _0x3b7b52==_0x4c8a75(0x410)?JSON['stringify'](_0x3b7b52):_0x3b7b52,_0x240614=_0x1da64a+':\x20'+_0x59a7f6;throw this[_0x4c8a75(0x29f)]['error'](this[_0x4c8a75(0x185)]+'\x20('+this[_0x4c8a75(0x367)][_0x4c8a75(0x18e)]+_0x4c8a75(0x1db)+_0x240614),new U(_0x240614);}}async[a0_0x34238b(0x65e)](_0x12e46c){const _0x5133c3=a0_0x34238b;try{return await this['client'][_0x5133c3(0x503)](_0x12e46c[_0x5133c3(0x7eb)]),{'groupJid':_0x12e46c[_0x5133c3(0x7eb)],'leave':!0x0};}catch(_0x58244b){let _0x3c16e1=_0x5133c3(0x708),_0x5a66c7=_0x58244b instanceof Error?_0x58244b['message']:typeof _0x58244b=='object'?JSON['stringify'](_0x58244b):_0x58244b,_0x1b18d1=_0x3c16e1+':\x20'+_0x5a66c7;throw this[_0x5133c3(0x29f)][_0x5133c3(0x62f)](this['instanceName']+'\x20('+this[_0x5133c3(0x367)]['wuid']+_0x5133c3(0x1db)+_0x1b18d1),new m(_0x1b18d1);}}async[a0_0x34238b(0x2b4)](_0x207e2e){const _0x208f75=a0_0x34238b;return await this[_0x208f75(0x1f5)](_0x207e2e['number'],{'poll':{'name':_0x207e2e['pollMessage']?.['name'],'selectableCount':_0x207e2e[_0x208f75(0x2b4)]['selectableCount'],'values':_0x207e2e['pollMessage'][_0x208f75(0x4c5)]}},_0x207e2e?.['options']);}async[a0_0x34238b(0x51c)](_0x46d487){const _0x2a7ed1=a0_0x34238b;return await this[_0x2a7ed1(0x1f5)](_0x46d487['number'],{'listMessage':{'title':_0x46d487[_0x2a7ed1(0x51c)]['title'],'description':_0x46d487[_0x2a7ed1(0x51c)][_0x2a7ed1(0x1a7)],'buttonText':_0x46d487[_0x2a7ed1(0x51c)]?.[_0x2a7ed1(0x4d7)],'footerText':_0x46d487[_0x2a7ed1(0x51c)]?.[_0x2a7ed1(0x552)],'sections':_0x46d487[_0x2a7ed1(0x51c)]['sections'],'listType':0x2}},_0x46d487?.[_0x2a7ed1(0x2a8)]);}async[a0_0x34238b(0x524)](_0x570e84){const _0x1bcb87=a0_0x34238b;let _0x75df52;if(_0x570e84['menuMessage'][_0x1bcb87(0x3f1)]===_0x1bcb87(0x4b6)){let _0x2d8f13=_0x570e84[_0x1bcb87(0x524)][_0x1bcb87(0x295)]['indexOf']('\x0a'),_0x2eea54='',_0xa4858='';_0x2d8f13!==-0x1?(_0x2eea54=_0x570e84['menuMessage'][_0x1bcb87(0x295)]['substring'](0x0,_0x2d8f13)[_0x1bcb87(0x22d)](),_0xa4858=_0x570e84[_0x1bcb87(0x524)][_0x1bcb87(0x295)][_0x1bcb87(0x355)](_0x2d8f13+0x1)):_0xa4858=_0x570e84['menuMessage'][_0x1bcb87(0x295)];let _0x33d613=_0x570e84[_0x1bcb87(0x524)][_0x1bcb87(0x23c)][_0x1bcb87(0x6f1)](_0x504ca1=>_0x504ca1[_0x1bcb87(0x22d)]()!==''),_0x4e0faa=this['createSectionsFromValues'](_0x33d613);_0x75df52={'listMessage':{'title':_0x2eea54,'description':_0xa4858,'buttonText':_0x570e84[_0x1bcb87(0x524)][_0x1bcb87(0x4d7)]||_0x1bcb87(0x4c7),'footerText':_0x570e84[_0x1bcb87(0x524)][_0x1bcb87(0x552)],'sections':_0x4e0faa,'listType':0x2}};}else{if(_0x570e84[_0x1bcb87(0x524)]['type']==='poll'){let _0x539144=_0x570e84['menuMessage'][_0x1bcb87(0x23c)][_0x1bcb87(0x6f1)](_0x3561df=>!(_0x3561df[_0x1bcb87(0x42a)]('[')&&_0x3561df['endsWith'](']'))&&_0x3561df['trim']()!=='')[_0x1bcb87(0x643)](_0x41c568=>_0x41c568[_0x1bcb87(0x447)]('\x0a')[0x0]);_0x75df52={'poll':{'name':_0x570e84[_0x1bcb87(0x524)][_0x1bcb87(0x295)],'selectableCount':_0x570e84[_0x1bcb87(0x524)][_0x1bcb87(0x3ca)]||0x1,'values':_0x539144}};}}return await this['sendMessageWithTyping'](_0x570e84[_0x1bcb87(0x570)],_0x75df52,_0x570e84?.['options']);}[a0_0x34238b(0x4be)](_0x9c276e){const _0x5edcac=a0_0x34238b;let _0x312662=[],_0x39962a={'rows':[]};return _0x9c276e[_0x5edcac(0x44e)](_0x4511f8=>{const _0x18e58b=_0x5edcac;if(_0x4511f8[_0x18e58b(0x42a)]('[')&&_0x4511f8[_0x18e58b(0x602)](']'))_0x39962a['rows'][_0x18e58b(0x6f5)]>0x0&&_0x312662[_0x18e58b(0x57d)](_0x39962a),_0x39962a={'title':_0x4511f8[_0x18e58b(0x4e3)](0x1,-0x1),'rows':[]};else{let _0x429e65=_0x4511f8[_0x18e58b(0x447)]('\x0a')['map'](_0x12c482=>_0x12c482[_0x18e58b(0x22d)]()),_0x5b0bc7=_0x429e65[0x0],_0x42846c=_0x429e65[0x1]||null,_0x5a107f=_0x429e65[0x2]||_0x5b0bc7;_0x39962a['rows'][_0x18e58b(0x57d)]({'title':_0x5b0bc7,'description':_0x42846c,'rowId':_0x5a107f});}}),_0x39962a['rows'][_0x5edcac(0x6f5)]>0x0&&_0x312662[_0x5edcac(0x57d)](_0x39962a),_0x312662;}async[a0_0x34238b(0x5b4)](_0x59b285,_0x40efc5){const _0x4f065a=a0_0x34238b;if(await this[_0x4f065a(0x171)](_0x59b285,!0x0)){let _0x44ef50={'where':{'_id':_0x59b285['id']}},_0x26da37={'status':[_0x40efc5['status']][0x0]};try{let _0x1e09cb=await this['repository'][_0x4f065a(0x707)][_0x4f065a(0x386)](_0x44ef50,_0x26da37,this[_0x4f065a(0x367)]['wuid']);_0x1e09cb&&J(this[_0x4f065a(0x185)],_0x4f065a(0x519),{'message':_0x1e09cb});}catch{}}}[a0_0x34238b(0x375)](_0x58d807){const _0x32cf78=a0_0x34238b;let _0x7d2e52=[];return _0x58d807['forEach'](_0x50d134=>{const _0x2ec89f=a0_0x3a3c;_0x50d134[_0x2ec89f(0x81d)]&&_0x7d2e52[_0x2ec89f(0x57d)]('['+_0x50d134['title']+']'),_0x50d134['rows']['forEach'](_0x19bd20=>{_0x7d2e52['push'](_0x19bd20['title']);});}),_0x7d2e52[_0x32cf78(0x692)]('|');}[a0_0x34238b(0x4ee)](_0x46f64f){const _0x1327b3=a0_0x34238b;let _0x177da7=_0x46f64f['replace'](/\\n/g,'\x0a')[_0x1327b3(0x447)]('\x0a')[_0x1327b3(0x6f1)](_0x2865a2=>_0x2865a2[_0x1327b3(0x331)]('TEL')||_0x2865a2[_0x1327b3(0x331)]('EMAIL')),_0x2c4f62='';return _0x177da7['forEach'](_0xc0830c=>{const _0x319443=_0x1327b3;let _0x4fedb4=/TEL(?:.*):(.+)/,_0x2189ea=/EMAIL(?:.*):(.+)/,_0x14115c=_0xc0830c[_0x319443(0x441)](_0x4fedb4),_0xd5462e=_0xc0830c[_0x319443(0x441)](_0x2189ea);if(_0x14115c){let _0x4f6879=_0x14115c[0x1][_0x319443(0x5c6)](/-| |\+|\(|\)/g,'')['trim']();_0x2c4f62+=_0x319443(0x24c)+_0x4f6879+'\x0a';}else{if(_0xd5462e){let _0x8463b1=_0xd5462e[0x1][_0x319443(0x22d)]();_0x2c4f62+=_0x319443(0x191)+_0x8463b1+'\x0a';}}}),_0x2c4f62[_0x1327b3(0x22d)]();}async[a0_0x34238b(0x5f1)](_0x2b75eb,_0x275de6,_0x35fc63,_0xc69b8f=null){const _0x15a273=a0_0x34238b;if(_0x2b75eb[_0x15a273(0x22a)])try{let _0x5f2e51=_0x275de6[_0x15a273(0x332)]['remoteJid'][_0x15a273(0x5c6)](/:\d{1,2}@/g,'@'),_0x21e78b=_0x275de6[_0x15a273(0x332)][_0x15a273(0x600)],_0x8c34e7=_0x5f2e51[_0x15a273(0x602)](_0x15a273(0x65f)),_0x8defa5=_0x275de6[_0x15a273(0x5f6)]?.[_0x15a273(0x5c6)](/:\d{1,2}@/g,'@')||'',_0x53ec1d=_0x275de6['message_normalized']?.[_0x15a273(0x295)]||_0x275de6[_0x15a273(0x672)]?.[_0x15a273(0x689)]||_0x275de6['message_normalized']?.['vote']||_0x275de6[_0x15a273(0x672)]?.[_0x15a273(0x5f8)]||'',_0x12053a={'_id':_0x275de6[_0x15a273(0x45c)],'remoteJid':_0x21e78b?this[_0x15a273(0x367)][_0x15a273(0x18e)]:_0x8c34e7?_0x8defa5:_0x5f2e51,'pushName':_0x21e78b?this[_0x15a273(0x367)][_0x15a273(0x526)]||'Eu':_0x275de6[_0x15a273(0x81c)],'text':_0x53ec1d,'type':_0x275de6[_0x15a273(0x371)],'when':_0x275de6[_0x15a273(0x310)]||Date['now']()};_0xc69b8f||(_0xc69b8f=await this[_0x15a273(0x4f1)][_0x15a273(0x7fd)][_0x15a273(0x6cc)]({'where':{'_id':_0x5f2e51}},this[_0x15a273(0x367)][_0x15a273(0x18e)]));let _0x595866=_0xc69b8f?_0x21e78b?_0xc69b8f[_0x15a273(0x791)]:(_0xc69b8f['unreadcount']||0x0)+0x1:_0x21e78b?0x0:0x1,_0xc7efd1={'lastmsg':_0x275de6[_0x15a273(0x310)]||Date[_0x15a273(0x433)](),'ephemeralExpiration':_0x275de6[_0x15a273(0x7ea)],'lastMessage':_0x12053a,'unreadcount':_0x595866,..._0x21e78b||_0x8c34e7?{}:{'name':_0x275de6[_0x15a273(0x81c)]},..._0x8c34e7?{'group':_0x8c34e7}:{},...!_0x21e78b&&!_0x8c34e7&&_0x275de6[_0x15a273(0x73d)]?{'imagechat':_0x275de6[_0x15a273(0x73d)]}:{}};if(!_0x8c34e7&&(!_0xc69b8f?.[_0x15a273(0x4dd)]||!_0xc69b8f['leadInfo'][_0x15a273(0x176)])&&_0x275de6[_0x15a273(0x81c)]&&!_0x21e78b&&(_0xc7efd1={..._0xc7efd1,'leadInfo.nome':_0x275de6[_0x15a273(0x81c)]}),_0xc69b8f?.[_0x15a273(0x4dd)][_0x15a273(0x4f6)]||(_0xc7efd1={..._0xc7efd1,'leadInfo.etiquetas':[]}),_0xc69b8f?.[_0x15a273(0x4dd)][_0x15a273(0x54e)]||(_0xc7efd1={..._0xc7efd1,'leadInfo.customFields':[]}),_0xc69b8f?.[_0x15a273(0x4dd)][_0x15a273(0x163)]||(_0xc7efd1={..._0xc7efd1,'leadInfo.tags':[]}),_0xc69b8f&&_0xc69b8f?.[_0x15a273(0x601)]){let _0x47f86e=await this[_0x15a273(0x4f1)][_0x15a273(0x489)]['find']({'where':{}},this[_0x15a273(0x367)]['wuid']),_0x2c643d=new Set(_0x47f86e['map'](_0x1e522b=>_0x1e522b[_0x15a273(0x45c)])),_0x472006=(_0xc69b8f['leadInfo']?.[_0x15a273(0x4f6)]||[])[_0x15a273(0x6f1)](_0x2a2429=>_0x2c643d['has'](_0x2a2429));_0xc7efd1={..._0xc7efd1,'imported':!0x1,'leadInfo.etiquetas':_0x472006};for(let _0x342923 of _0x472006)await this[_0x15a273(0x2c0)](_0x342923,_0x5f2e51);}if(_0x35fc63===_0x15a273(0x55b)&&_0x21e78b&&this[_0x15a273(0x7e1)]?.[_0x15a273(0x535)][_0x15a273(0x6f3)]&&!_0x53ec1d[_0x15a273(0x42a)](this['AutomateSystem']?.['flowConfig']['prefixCommand'])){let _0x18ccf4=(this[_0x15a273(0x7e1)]?.[_0x15a273(0x535)][_0x15a273(0x252)]||0x5)*0xea60,_0xae70d3=Date[_0x15a273(0x433)]()+_0x18ccf4;_0xc69b8f?.[_0x15a273(0x4dd)]?.[_0x15a273(0x24a)]===0x0||(_0xc7efd1={..._0xc7efd1,'leadInfo.desativadoFluxoAte':_0xae70d3},this[_0x15a273(0x29f)][_0x15a273(0x2da)](this[_0x15a273(0x185)]+'\x20('+this[_0x15a273(0x367)]['wuid']+_0x15a273(0x7dd)+_0xae70d3+'.'));}if(_0xc69b8f=await this[_0x15a273(0x4f1)]['chat'][_0x15a273(0x53d)]({'where':{'_id':_0x5f2e51}},_0xc7efd1,this[_0x15a273(0x367)][_0x15a273(0x18e)],{'new':!0x0,'upsert':!0x0}),_0xc69b8f)J(this[_0x15a273(0x185)],_0x15a273(0x1e2),{'chat':_0xc69b8f});else{this[_0x15a273(0x29f)]['error'](this[_0x15a273(0x185)]+'\x20('+this[_0x15a273(0x367)][_0x15a273(0x18e)]+_0x15a273(0x6f9));return;}if(!this[_0x15a273(0x7e1)]?.[_0x15a273(0x535)]['enabled'])return this['logger'][_0x15a273(0x2da)](this['instanceName']+'\x20('+this[_0x15a273(0x367)][_0x15a273(0x18e)]+_0x15a273(0x771)),null;if(_0xc69b8f[_0x15a273(0x45c)][_0x15a273(0x331)](_0x15a273(0x65f))&&this['AutomateSystem']?.[_0x15a273(0x535)]['ignoreGroups']===!0x0)return this['logger']['verbose'](this[_0x15a273(0x185)]+'\x20('+this['instance'][_0x15a273(0x18e)]+_0x15a273(0x813)),null;if(_0xc69b8f[_0x15a273(0x4dd)]){if(_0xc69b8f[_0x15a273(0x4dd)]['desativadoFluxoAte']===0x0||_0xc69b8f['leadInfo']['atendimentoAberto'])return this[_0x15a273(0x29f)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x15a273(0x18e)]+_0x15a273(0x716)+_0x5f2e51+',\x20saindo.'),null;if(_0xc69b8f[_0x15a273(0x4dd)]['desativadoFluxoAte']>Date[_0x15a273(0x433)]()&&!_0x275de6[_0x15a273(0x672)]?.[_0x15a273(0x808)])return this[_0x15a273(0x29f)][_0x15a273(0x2da)](this[_0x15a273(0x185)]+'\x20('+this[_0x15a273(0x367)][_0x15a273(0x18e)]+_0x15a273(0x618)+new Date(_0xc69b8f[_0x15a273(0x4dd)][_0x15a273(0x24a)])[_0x15a273(0x6a1)]()+',\x20saindo.'),null;}this['logger']['verbose'](this[_0x15a273(0x185)]+'\x20('+this[_0x15a273(0x367)][_0x15a273(0x18e)]+_0x15a273(0x1c5)),this[_0x15a273(0x74f)](_0x35fc63,_0x275de6);}catch(_0x3639d1){let _0x5b778f='Erro\x20na\x20função\x20updateChatWithMessage:\x20',_0x2e7f0e=_0x3639d1 instanceof Error?_0x3639d1[_0x15a273(0x707)]:typeof _0x3639d1==_0x15a273(0x410)?JSON['stringify'](_0x3639d1):_0x3639d1,_0x157a86=_0x5b778f+':\x20'+_0x2e7f0e;return this[_0x15a273(0x29f)]['error'](this[_0x15a273(0x185)]+'\x20('+this[_0x15a273(0x367)][_0x15a273(0x18e)]+_0x15a273(0x1db)+_0x157a86),null;}}async['upsertChats'](_0x2fe7dd,_0x4e8e2d){const _0x46fa91=a0_0x34238b;if(_0x4e8e2d[_0x46fa91(0x22a)]){let _0x15a4f1=_0x2fe7dd[_0x46fa91(0x643)](async _0x1023e0=>{const _0xabc0b7=_0x46fa91;try{let _0x5997da={'_id':_0x1023e0[_0xabc0b7(0x45c)],'owner':_0x1023e0[_0xabc0b7(0x553)],'lastcache':0x0};if(Object[_0xabc0b7(0x58c)](_0x1023e0)['forEach'](_0x3acdf1=>{_0x1023e0[_0x3acdf1]!==null&&(_0x5997da[_0x3acdf1]=_0x1023e0[_0x3acdf1]);}),_0x5997da['imagechat']===null&&(_0x5997da[_0xabc0b7(0x696)]=_0xabc0b7(0x4b2)),Object[_0xabc0b7(0x58c)](_0x5997da)[_0xabc0b7(0x6f5)]>0x0)return await this['repository'][_0xabc0b7(0x7fd)][_0xabc0b7(0x53d)]({'where':{'_id':_0x1023e0[_0xabc0b7(0x45c)]}},_0x5997da,this['instance'][_0xabc0b7(0x18e)]);}catch(_0x57a726){let _0x216c39='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x1023e0[_0xabc0b7(0x45c)],_0x2c14c7=_0x57a726 instanceof Error?_0x57a726[_0xabc0b7(0x707)]:typeof _0x57a726=='object'?JSON['stringify'](_0x57a726):_0x57a726,_0x4df8be=_0x216c39+':\x20'+_0x2c14c7;return this[_0xabc0b7(0x29f)][_0xabc0b7(0x62f)](this[_0xabc0b7(0x185)]+'\x20('+this[_0xabc0b7(0x367)]['wuid']+'):\x20'+_0x4df8be),null;}}),_0x1dd26f=(await Promise[_0x46fa91(0x4e2)](_0x15a4f1))['filter'](_0x56c68e=>_0x56c68e!==null)[_0x46fa91(0x6f5)];this[_0x46fa91(0x29f)][_0x46fa91(0x2da)](this[_0x46fa91(0x185)]+'\x20('+this[_0x46fa91(0x367)][_0x46fa91(0x18e)]+'):\x20'+_0x1dd26f+'\x20chats\x20de\x20'+this[_0x46fa91(0x367)]['wuid']+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x34238b(0x6a8)](_0x58d28a){const _0x308e91=a0_0x34238b;this['logger'][_0x308e91(0x2da)](this['instanceName']+'\x20('+this['instance'][_0x308e91(0x18e)]+_0x308e91(0x6a2));let _0x3cffd6={'readMessages':[{'remoteJid':_0x58d28a['chatLog'][_0x308e91(0x821)]['key'][_0x308e91(0x484)],'fromMe':_0x58d28a['chatLog'][_0x308e91(0x821)][_0x308e91(0x332)][_0x308e91(0x600)],'id':_0x58d28a[_0x308e91(0x270)]['lastReceivedMessage'][_0x308e91(0x332)]['id']}]};await this[_0x308e91(0x40f)](_0x3cffd6);}async[a0_0x34238b(0x74f)](_0x2e2c00,_0x10f6b9){const _0x6c1749=a0_0x34238b;try{let {key:_0xae2431,message_normalized:_0x3c9beb}=_0x10f6b9,_0x337a5f=_0x3c9beb,_0x5f200d=_0x3c9beb['text']||_0x3c9beb[_0x6c1749(0x689)]||_0x3c9beb[_0x6c1749(0x808)]||_0x3c9beb['name']||'',_0x4c92ff=_0xae2431[_0x6c1749(0x484)],_0x231903;if(_0x337a5f[_0x6c1749(0x332)][_0x6c1749(0x600)]&&_0x5f200d[_0x6c1749(0x22d)]()!==this[_0x6c1749(0x7e1)]?.[_0x6c1749(0x535)]['stopConversation'][_0x6c1749(0x22d)]())return this[_0x6c1749(0x29f)][_0x6c1749(0x2da)](this[_0x6c1749(0x185)]+'\x20('+this[_0x6c1749(0x367)][_0x6c1749(0x18e)]+_0x6c1749(0x699)),null;if(_0x337a5f[_0x6c1749(0x332)]['fromMe']&&_0x5f200d['trim']()===this['AutomateSystem']?.[_0x6c1749(0x535)]['stopConversation'][_0x6c1749(0x22d)]()){this['logger'][_0x6c1749(0x2da)](this['instanceName']+'\x20('+this[_0x6c1749(0x367)][_0x6c1749(0x18e)]+_0x6c1749(0x784));let _0x4178af=await this[_0x6c1749(0x4f1)][_0x6c1749(0x26d)][_0x6c1749(0x802)]({'remoteJid':_0x4c92ff,'status':'open'},this['instance'][_0x6c1749(0x18e)]);this[_0x6c1749(0x29f)][_0x6c1749(0x2da)](this[_0x6c1749(0x185)]+'\x20('+this['instance'][_0x6c1749(0x18e)]+'):\x20Conversas\x20encontradas:'+_0x4178af);let _0x3462e1=Date[_0x6c1749(0x433)](),_0x377382;return this[_0x6c1749(0x7e1)]?.[_0x6c1749(0x535)]['stopMinutes']===0x0?_0x377382={'stoppedUntil':_0x3462e1+0x7591f6200}:_0x377382={'stoppedUntil':_0x3462e1+this[_0x6c1749(0x7e1)]?.[_0x6c1749(0x535)][_0x6c1749(0x3a3)]*0x3c*0x3e8},this[_0x6c1749(0x29f)][_0x6c1749(0x2da)](this['instanceName']+'\x20('+this['instance'][_0x6c1749(0x18e)]+_0x6c1749(0x5f2)+_0x377382),this['updateStopChat'](_0x231903,_0x377382['stoppedUntil']),null;}if(_0x5f200d&&_0x5f200d[_0x6c1749(0x42a)](this['AutomateSystem']?.[_0x6c1749(0x535)][_0x6c1749(0x628)])&&_0x5f200d[_0x6c1749(0x6f5)]>0x4){let _0x1cd031=await this[_0x6c1749(0x4f1)][_0x6c1749(0x798)][_0x6c1749(0x6cc)]({'where':{'startCommandWord':_0x5f200d}},this[_0x6c1749(0x367)][_0x6c1749(0x18e)]);if(this[_0x6c1749(0x29f)]['verbose'](this[_0x6c1749(0x185)]+'\x20('+this[_0x6c1749(0x367)][_0x6c1749(0x18e)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x1cd031)_0x231903=await this[_0x6c1749(0x80a)](_0x1cd031,_0x337a5f[_0x6c1749(0x332)],_0x337a5f);else return this[_0x6c1749(0x29f)][_0x6c1749(0x2da)](this['instanceName']+'\x20('+this[_0x6c1749(0x367)][_0x6c1749(0x18e)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x231903=await this[_0x6c1749(0x561)](_0x4c92ff,_0x337a5f);if(_0x231903){this[_0x6c1749(0x29f)][_0x6c1749(0x2da)](this[_0x6c1749(0x185)]+'\x20('+this['instance']['wuid']+_0x6c1749(0x69b)),!_0xae2431[_0x6c1749(0x600)]&&_0x231903[_0x6c1749(0x1cc)]&&this[_0x6c1749(0x6a8)](_0x231903);let _0x32ad33=await this[_0x6c1749(0x440)](_0x231903);_0x32ad33&&await this[_0x6c1749(0x3a2)](_0x231903,_0x32ad33);}}catch(_0x2fce7a){this[_0x6c1749(0x29f)][_0x6c1749(0x62f)](this[_0x6c1749(0x185)]+'\x20('+this[_0x6c1749(0x367)][_0x6c1749(0x18e)]+_0x6c1749(0x58a)+(_0x2fce7a instanceof Error?_0x2fce7a[_0x6c1749(0x707)]:JSON[_0x6c1749(0x4eb)](_0x2fce7a,null,0x2)));}}['flattenObject'](_0x442a7d,_0x2870a5='',_0xa2dd={}){const _0x157afb=a0_0x34238b;return typeof _0x442a7d!=_0x157afb(0x410)||_0x442a7d===null?(_0x2870a5&&(_0xa2dd[_0x2870a5]=_0x442a7d),_0xa2dd):(Object[_0x157afb(0x468)](_0x442a7d)[_0x157afb(0x44e)](([_0xdc9a23,_0x299ee5])=>{const _0x17131=_0x157afb;let _0x1dbc6b=_0x2870a5?_0x2870a5+'.'+_0xdc9a23:'_'+_0xdc9a23;Array[_0x17131(0x358)](_0x299ee5)?_0x299ee5[_0x17131(0x44e)]((_0x1cfeb2,_0x4829f1)=>{const _0x4bdcdd=_0x17131;this[_0x4bdcdd(0x6a4)](_0x1cfeb2,_0x1dbc6b+'['+_0x4829f1+']',_0xa2dd);}):typeof _0x299ee5==_0x17131(0x410)&&_0x299ee5!==null?this[_0x17131(0x6a4)](_0x299ee5,_0x1dbc6b,_0xa2dd):_0xa2dd[_0x1dbc6b]=String(_0x299ee5);}),_0xa2dd);}[a0_0x34238b(0x1fe)](_0x216b98){const _0x5c6395=a0_0x34238b;let _0x551842={};for(let _0x31ebb5 of _0x216b98)typeof _0x31ebb5[_0x5c6395(0x5f8)]==_0x5c6395(0x330)&&typeof _0x31ebb5['value']==_0x5c6395(0x330)&&(_0x551842[_0x31ebb5[_0x5c6395(0x5f8)]]=_0x31ebb5[_0x5c6395(0x194)]);return _0x551842;}async['NextBlock'](_0xf287c){const _0x3bbe9d=a0_0x34238b;if(!this['AutomateSystem']?.[_0x3bbe9d(0x535)][_0x3bbe9d(0x6f3)]||_0xf287c[_0x3bbe9d(0x7b4)]!==_0x3bbe9d(0x6c4)&&_0xf287c['waitingMenu_id']==='')return null;let _0x5bdc6c=_0xf287c[_0x3bbe9d(0x270)][_0x3bbe9d(0x705)]||'start';typeof _0xf287c[_0x3bbe9d(0x270)][_0x3bbe9d(0x7f9)]>'u'&&(_0xf287c[_0x3bbe9d(0x270)][_0x3bbe9d(0x7f9)]=!0x0);let _0x25dadb=_0xf287c[_0x3bbe9d(0x270)]['lastCondition'];this[_0x3bbe9d(0x29f)][_0x3bbe9d(0x2da)](this[_0x3bbe9d(0x185)]+'\x20('+this[_0x3bbe9d(0x367)][_0x3bbe9d(0x18e)]+'):\x20lastBlockId:\x20'+_0x5bdc6c+_0x3bbe9d(0x4ad)+_0x25dadb);let _0x15d2a0=_0x5bdc6c===_0x3bbe9d(0x838)?_0xf287c[_0x3bbe9d(0x3ea)][_0x3bbe9d(0x802)](_0x5e2d63=>_0x5e2d63[_0x3bbe9d(0x3f1)]==='start'):_0xf287c['blocks'][_0x3bbe9d(0x802)](_0x213b4a=>_0x213b4a[_0x3bbe9d(0x45c)]['toString']()===_0x5bdc6c['toString']());if(!_0x15d2a0)return this['logger'][_0x3bbe9d(0x62f)](this[_0x3bbe9d(0x185)]+'\x20('+this[_0x3bbe9d(0x367)][_0x3bbe9d(0x18e)]+_0x3bbe9d(0x1bf)+_0x5bdc6c),null;let _0x938f2f={'_pushName':_0xf287c?.[_0x3bbe9d(0x270)]?.[_0x3bbe9d(0x821)]?.[_0x3bbe9d(0x81c)]||'',..._0xf287c[_0x3bbe9d(0x270)][_0x3bbe9d(0x334)]},_0x25e78a=null;if(_0xf287c['waitingMenu_id']){let _0x4202e5=_0xf287c[_0x3bbe9d(0x270)]['lastReceivedMessage'][_0x3bbe9d(0x808)],_0x5e5f11=_0xf287c['waitingMenu_replyOptions'][_0x3bbe9d(0x802)](_0x22e28e=>_0x22e28e['option']===_0x4202e5);if(_0x5e5f11){let _0x3b9b67=_0x5e5f11[_0x3bbe9d(0x6c1)];if(_0x25e78a=_0xf287c[_0x3bbe9d(0x3ea)][_0x3bbe9d(0x802)](_0x1c65c2=>_0x1c65c2[_0x3bbe9d(0x5ac)]===_0x3b9b67&&_0x1c65c2['order']===0x1),_0x15d2a0[_0x3bbe9d(0x7d2)][_0x3bbe9d(0x56a)]){let _0x16da95={'id':_0xf287c[_0x3bbe9d(0x6cb)],'remoteJid':_0xf287c['remoteJid'],'fromMe':!0x0};await this['deleteMessage'](_0x16da95);}if(_0x15d2a0[_0x3bbe9d(0x7d2)][_0x3bbe9d(0x56a)]&&_0x15d2a0[_0x3bbe9d(0x7d2)][_0x3bbe9d(0x76e)]&&_0x15d2a0['uazapi'][_0x3bbe9d(0x3e1)]===_0x3bbe9d(0x35f)){let _0x2774cf={'number':_0xf287c[_0x3bbe9d(0x484)],'options':{'delay':0x0},'textMessage':{'text':_0x3bbe9d(0x213)+_0xf287c[_0x3bbe9d(0x1b8)]+_0x3bbe9d(0x799)+_0x4202e5}};await this[_0x3bbe9d(0x4ff)](_0x2774cf);}_0xf287c[_0x3bbe9d(0x7b4)]=_0x3bbe9d(0x6c4),_0xf287c[_0x3bbe9d(0x6cb)]='',_0xf287c[_0x3bbe9d(0x1b8)]='',_0xf287c[_0x3bbe9d(0x16e)]=[];}else{this['logger']['verbose'](this[_0x3bbe9d(0x185)]+'\x20('+this[_0x3bbe9d(0x367)][_0x3bbe9d(0x18e)]+_0x3bbe9d(0x26f));let _0x3715cf={'activatedCount':_0xf287c[_0x3bbe9d(0x270)][_0x3bbe9d(0x1af)][_0x3bbe9d(0x6f1)](_0x6d4017=>String(_0x6d4017['blockId'])===String(_0x5bdc6c))[_0x3bbe9d(0x6f5)],'moreLogs':[_0x3bbe9d(0x27a)]};if(_0x15d2a0[_0x3bbe9d(0x7d2)][_0x3bbe9d(0x698)]){let _0x470f18={'number':_0xf287c[_0x3bbe9d(0x484)],'options':{'delay':0x0},'textMessage':{'text':_0x15d2a0[_0x3bbe9d(0x7d2)][_0x3bbe9d(0x698)]}};await this['textMessage'](_0x470f18);}if(_0x15d2a0[_0x3bbe9d(0x2ae)]!==void 0x0&&_0x3715cf['activatedCount']>=_0x15d2a0[_0x3bbe9d(0x2ae)]){let _0x33cd6b=Date[_0x3bbe9d(0x433)](),_0x335162=_0x15d2a0[_0x3bbe9d(0x6b9)]??0xa;isNaN(_0x335162)&&(_0x335162=0xa);let _0x505ddf=_0x33cd6b+_0x335162*0x3c*0x3e8;_0x3715cf[_0x3bbe9d(0x46c)]=_0x505ddf,_0x3715cf[_0x3bbe9d(0x457)][_0x3bbe9d(0x57d)](_0x3bbe9d(0x2d2)),this[_0x3bbe9d(0x391)](_0xf287c,_0x505ddf),_0xf287c['waitingMenu_id']='',_0xf287c[_0x3bbe9d(0x1b8)]='',_0xf287c[_0x3bbe9d(0x16e)]=[];}return this[_0x3bbe9d(0x153)](_0xf287c,_0x15d2a0,_0x3715cf,!0x0),null;}}if(_0x25dadb&&_0x15d2a0['next_groupId']&&!_0xf287c['waitingMenu_id']){let _0x1fb441=_0xf287c['blocks']['filter'](_0x4bfd58=>_0x4bfd58[_0x3bbe9d(0x5ac)][_0x3bbe9d(0x513)]()===_0x15d2a0[_0x3bbe9d(0x6c1)][_0x3bbe9d(0x513)]())[_0x3bbe9d(0x778)]((_0x25e3b0,_0x3c5b96)=>_0x25e3b0[_0x3bbe9d(0x490)]-_0x3c5b96[_0x3bbe9d(0x490)]);_0x1fb441['length']>0x0&&(_0x25e78a=_0x1fb441[0x0]);}if(!_0x25e78a){let _0x2d2930=_0x15d2a0[_0x3bbe9d(0x5ac)],_0x1ff7e4=_0xf287c[_0x3bbe9d(0x3ea)]['filter'](_0x1f571c=>_0x1f571c[_0x3bbe9d(0x5ac)]===_0x2d2930&&_0x1f571c['order']>_0x15d2a0[_0x3bbe9d(0x490)])['sort']((_0x4e0787,_0xb9ed14)=>_0x4e0787[_0x3bbe9d(0x490)]-_0xb9ed14['order']);_0x1ff7e4[_0x3bbe9d(0x6f5)]>0x0&&(_0x25e78a=_0x1ff7e4[0x0]);}if(!_0x25e78a)return _0xf287c['status']=_0x3bbe9d(0x69a),null;_0xf287c[_0x3bbe9d(0x270)][_0x3bbe9d(0x334)]=_0x938f2f;let _0x26cae0=JSON[_0x3bbe9d(0x3fb)](JSON['stringify'](_0x25e78a));return this[_0x3bbe9d(0x2f0)](_0x26cae0,_0xf287c['chatLog'][_0x3bbe9d(0x334)]),_0xf287c[_0x3bbe9d(0x270)]['lastBlockId']=_0x26cae0[_0x3bbe9d(0x45c)],_0xf287c[_0x3bbe9d(0x270)]['lastCondition']=!0x0,_0x26cae0;}[a0_0x34238b(0x360)](_0x41cfba,_0xb5fc7a){const _0x4498dd=a0_0x34238b;return _0x41cfba[_0x4498dd(0x5c6)](/\{\{([^}]+)\}\}/g,(_0x4dc79b,_0xe8eed4)=>_0xb5fc7a[_0xe8eed4]||'');}[a0_0x34238b(0x2f0)](_0x3740e9,_0x5283d9){const _0x16beba=a0_0x34238b;for(let _0x3900ef in _0x3740e9)typeof _0x3740e9[_0x3900ef]==_0x16beba(0x330)?_0x3740e9[_0x3900ef]=this['replaceVariables'](_0x3740e9[_0x3900ef],_0x5283d9):typeof _0x3740e9[_0x3900ef]==_0x16beba(0x410)&&this['replaceVariablesInObject'](_0x3740e9[_0x3900ef],_0x5283d9);}async['goNextblock'](_0x2a73ba,_0x451e0a){const _0x3535ce=a0_0x34238b;let _0x51496d=_0x451e0a[_0x3535ce(0x45c)];if(_0x2a73ba[_0x3535ce(0x270)]&&_0x2a73ba[_0x3535ce(0x270)][_0x3535ce(0x1af)]){let _0x226a14=_0x2a73ba[_0x3535ce(0x270)][_0x3535ce(0x1af)][_0x3535ce(0x6f1)](_0xa84709=>String(_0xa84709['blockId'])===String(_0x51496d))['pop']();if(_0x226a14&&_0x226a14[_0x3535ce(0x62f)]&&_0x451e0a['stopIfLastReturnedError'])return _0x2a73ba[_0x3535ce(0x7b4)]=_0x3535ce(0x69a),await this[_0x3535ce(0x4bd)](_0x2a73ba),null;}if(_0x451e0a[_0x3535ce(0x3f1)]===_0x3535ce(0x7d2)&&_0x451e0a[_0x3535ce(0x7d2)]['command']===_0x3535ce(0x187)&&_0x2a73ba[_0x3535ce(0x6cb)])return _0x2a73ba[_0x3535ce(0x270)][_0x3535ce(0x705)]=_0x51496d,await this['saveConversationToDatabase'](_0x2a73ba),null;let _0x1d7d00=await this[_0x3535ce(0x440)](_0x2a73ba);if(_0x2a73ba[_0x3535ce(0x270)]&&_0x2a73ba[_0x3535ce(0x270)][_0x3535ce(0x1af)]){let _0x19a326=_0x2a73ba[_0x3535ce(0x270)][_0x3535ce(0x1af)][_0x3535ce(0x6f1)](_0x3a2bc9=>String(_0x3a2bc9[_0x3535ce(0x4bb)])===String(_0x51496d))[_0x3535ce(0x6f5)];if(_0x451e0a[_0x3535ce(0x2ae)]!==void 0x0&&_0x19a326>=_0x451e0a['maxActives']){let _0x766934=Date[_0x3535ce(0x433)](),_0x317dff=_0x451e0a[_0x3535ce(0x6b9)]??0xa;isNaN(_0x317dff)&&(_0x317dff=0xa);let _0x6a2d84=_0x766934+_0x317dff*0x3c*0x3e8,_0xd7a284={'newStoppedUntil':_0x6a2d84};return this[_0x3535ce(0x391)](_0x2a73ba,_0x6a2d84),this['updateConversation'](_0x2a73ba,_0x451e0a,_0xd7a284,!0x0),null;}}_0x1d7d00&&_0x1d7d00[_0x3535ce(0x3f1)]!==_0x3535ce(0x338)&&await this[_0x3535ce(0x3a2)](_0x2a73ba,_0x1d7d00),_0x1d7d00||await this[_0x3535ce(0x4bd)](_0x2a73ba),_0x1d7d00&&_0x1d7d00[_0x3535ce(0x3f1)]==='save'&&(_0x2a73ba[_0x3535ce(0x270)]['lastBlockId']=_0x51496d,await this['saveConversationToDatabase'](_0x2a73ba));}async['processblock'](_0x5cd1aa,_0x1c2a21){const _0x42a026=a0_0x34238b;try{let _0x45767f=_0x1c2a21[_0x42a026(0x3f1)];this['logger']['verbose'](this[_0x42a026(0x185)]+'\x20('+this[_0x42a026(0x367)][_0x42a026(0x18e)]+_0x42a026(0x19a)+_0x45767f);let _0x16c3c4={'uazapi':()=>this[_0x42a026(0x809)](_0x5cd1aa,_0x1c2a21),'save':()=>this[_0x42a026(0x35d)](_0x5cd1aa,_0x1c2a21),'stop':()=>this['stopConversation'](_0x5cd1aa,_0x1c2a21),'condition':()=>this['processConditions'](_0x5cd1aa,_0x1c2a21),'varedit':()=>this['processvaredits'](_0x5cd1aa,_0x1c2a21),'apirequest':()=>this[_0x42a026(0x6d2)](_0x5cd1aa,_0x1c2a21),'goToFlow':()=>this[_0x42a026(0x33b)](_0x5cd1aa,_0x1c2a21),'scheduleFlow':()=>this[_0x42a026(0x805)](_0x5cd1aa,_0x1c2a21),'awaitSeconds':()=>this[_0x42a026(0x556)](_0x5cd1aa,_0x1c2a21),'clearVariables':()=>this[_0x42a026(0x5b8)](_0x5cd1aa,_0x1c2a21)}[_0x45767f];_0x16c3c4&&await _0x16c3c4();}catch(_0x4d90f6){this['logger'][_0x42a026(0x62f)](this['instanceName']+'\x20('+this[_0x42a026(0x367)][_0x42a026(0x18e)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x4d90f6 instanceof Error?_0x4d90f6['message']:JSON[_0x42a026(0x4eb)](_0x4d90f6,null,0x2)));}}async[a0_0x34238b(0x556)](_0x4bf28b,_0x387438){const _0x3b25ad=a0_0x34238b;if(this[_0x3b25ad(0x29f)][_0x3b25ad(0x2da)](this[_0x3b25ad(0x185)]+'\x20('+this['instance'][_0x3b25ad(0x18e)]+_0x3b25ad(0x5c8)),!_0x4bf28b||!_0x387438)return this[_0x3b25ad(0x29f)][_0x3b25ad(0x62f)](this[_0x3b25ad(0x185)]+'\x20('+this[_0x3b25ad(0x367)][_0x3b25ad(0x18e)]+_0x3b25ad(0x3ab)),null;let _0x5c4019=+_0x387438[_0x3b25ad(0x2ad)];isNaN(_0x5c4019)&&(_0x5c4019=0x0),_0x5c4019=Math['min'](_0x5c4019,0x3c),await(0x0,w[_0x3b25ad(0x1dc)])(_0x5c4019*0x3e8);let _0x42a6f4={'moreLogs':[_0x3b25ad(0x6ba)+_0x5c4019+_0x3b25ad(0x1e1)]};return await this[_0x3b25ad(0x153)](_0x4bf28b,_0x387438,_0x42a6f4),_0x5c4019;}async[a0_0x34238b(0x5b8)](_0x1b8c02,_0x4d2b47){const _0x14b189=a0_0x34238b;if(this[_0x14b189(0x29f)][_0x14b189(0x2da)](this[_0x14b189(0x185)]+'\x20('+this[_0x14b189(0x367)][_0x14b189(0x18e)]+_0x14b189(0x3a9)),!_0x1b8c02||!_0x4d2b47)return this[_0x14b189(0x29f)][_0x14b189(0x62f)](this['instanceName']+'\x20('+this[_0x14b189(0x367)][_0x14b189(0x18e)]+_0x14b189(0x3ab)),null;let _0x1d662d=[];if(_0x4d2b47['clearVariables'][_0x14b189(0x22d)]()===_0x14b189(0x754)){let _0x5dcc28=[_0x14b189(0x7ce),_0x14b189(0x2c7),_0x14b189(0x73a),_0x14b189(0x4bf),_0x14b189(0x45c),_0x14b189(0x54d)];_0x1d662d=Object['keys'](_0x1b8c02[_0x14b189(0x270)][_0x14b189(0x334)])['filter'](_0x19a5b4=>_0x19a5b4[_0x14b189(0x42a)]('_')&&!_0x5dcc28[_0x14b189(0x331)](_0x19a5b4));}else _0x1d662d=_0x4d2b47['clearVariables'][_0x14b189(0x447)]('|')[_0x14b189(0x643)](_0x5be75d=>(_0x5be75d=_0x5be75d[_0x14b189(0x5c6)](/[{}]/g,'')[_0x14b189(0x22d)](),_0x5be75d[_0x14b189(0x42a)]('_')?_0x5be75d:'_'+_0x5be75d));let _0x5d3b16=[];_0x1d662d['forEach'](_0x255d35=>{const _0x44c6ae=_0x14b189;_0x255d35 in _0x1b8c02[_0x44c6ae(0x270)][_0x44c6ae(0x334)]&&(delete _0x1b8c02[_0x44c6ae(0x270)]['realVariables'][_0x255d35],_0x5d3b16['push'](_0x255d35));}),_0x5d3b16[_0x14b189(0x6f5)]>0x0?this[_0x14b189(0x29f)][_0x14b189(0x2da)](this[_0x14b189(0x185)]+'\x20('+this[_0x14b189(0x367)]['wuid']+_0x14b189(0x777)+_0x5d3b16[_0x14b189(0x692)](',\x20')):this['logger']['verbose'](this[_0x14b189(0x185)]+'\x20('+this[_0x14b189(0x367)][_0x14b189(0x18e)]+_0x14b189(0x242));let _0x52c9b1={'moreLogs':[_0x14b189(0x626)+_0x5d3b16['join'](',\x20')]};return await this[_0x14b189(0x153)](_0x1b8c02,_0x4d2b47,_0x52c9b1),null;}async[a0_0x34238b(0x805)](_0x22c69d,_0x4f96d2){const _0x3c062c=a0_0x34238b;if(this[_0x3c062c(0x29f)]['verbose'](this[_0x3c062c(0x185)]+'\x20('+this['instance']['wuid']+_0x3c062c(0x2e8)),!_0x22c69d||!_0x4f96d2)return this[_0x3c062c(0x29f)]['error'](this[_0x3c062c(0x185)]+'\x20('+this[_0x3c062c(0x367)][_0x3c062c(0x18e)]+_0x3c062c(0x3ab)),null;let _0x39345=_0x22c69d[_0x3c062c(0x484)];_0x4f96d2[_0x3c062c(0x231)][_0x3c062c(0x484)]&&_0x4f96d2[_0x3c062c(0x231)][_0x3c062c(0x484)][_0x3c062c(0x22d)]()!==''&&(_0x39345=_0x4f96d2['uazapi'][_0x3c062c(0x484)]['trim']());let _0x4451ef=_0x4f96d2[_0x3c062c(0x231)][_0x3c062c(0x2ec)]*0xea60,_0x5d9a17=Date[_0x3c062c(0x433)]()+_0x4451ef,_0x3bdadc={'status':_0x3c062c(0x75b),'info':_0x3c062c(0x567)+_0x22c69d[_0x3c062c(0x5f8)],'remoteJids':[_0x39345],'when':_0x5d9a17,'delaySecMin':0x0,'delaySecMax':0x0,'type':'flow','flowName':_0x4f96d2[_0x3c062c(0x231)][_0x3c062c(0x5c5)]};this[_0x3c062c(0x19b)](_0x3bdadc);let _0x2ce62f=await this[_0x3c062c(0x440)](_0x22c69d);_0x2ce62f&&await this['processblock'](_0x22c69d,_0x2ce62f);}async['processgoToFlow'](_0x4821e6,_0x49c00b){const _0x1352d3=a0_0x34238b;if(this[_0x1352d3(0x29f)][_0x1352d3(0x2da)](this[_0x1352d3(0x185)]+'\x20('+this[_0x1352d3(0x367)][_0x1352d3(0x18e)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x4821e6||!_0x49c00b)return this[_0x1352d3(0x29f)][_0x1352d3(0x62f)](this[_0x1352d3(0x185)]+'\x20('+this[_0x1352d3(0x367)][_0x1352d3(0x18e)]+_0x1352d3(0x3ab)),null;await this[_0x1352d3(0x153)](_0x4821e6,_0x49c00b,{},!0x0,!0x0);let _0x4c7c68=_0x49c00b['goToFlow'];_0x4821e6=await this['createConversationforgoToFlow'](_0x4c7c68,_0x4821e6[_0x1352d3(0x484)],_0x4821e6[_0x1352d3(0x270)][_0x1352d3(0x334)]);let _0x5718bf=await this[_0x1352d3(0x440)](_0x4821e6);_0x5718bf&&await this['processblock'](_0x4821e6,_0x5718bf);}async[a0_0x34238b(0x262)](_0x5d61c1,_0xae02fa,_0x7c7ad8){const _0x4b280e=a0_0x34238b;this[_0x4b280e(0x29f)][_0x4b280e(0x2da)](this[_0x4b280e(0x185)]+'\x20('+this[_0x4b280e(0x367)][_0x4b280e(0x18e)]+_0x4b280e(0x662));try{if(_0x5d61c1=await this[_0x4b280e(0x4f1)][_0x4b280e(0x798)]['findOne']({'where':{'name':_0x5d61c1}},this[_0x4b280e(0x367)][_0x4b280e(0x18e)]),!_0x5d61c1)return this[_0x4b280e(0x29f)][_0x4b280e(0x62f)](this['instanceName']+'\x20('+this[_0x4b280e(0x367)][_0x4b280e(0x18e)]+_0x4b280e(0x5aa)),null;let _0x23455f=require(_0x4b280e(0x228))['ObjectId'],_0x41579a=Date[_0x4b280e(0x433)](),_0x1c4485=_0x4b280e(0x838),_0x170a9e={},_0x5d6281={},_0x4052b6={..._0x5d61c1,'chatLog':null},_0x26797d={'lastReceivedMessage':_0x170a9e,'lastSendMessage':_0x5d6281,'lastBlockId':_0x1c4485,'lastCondition':!0x0,'realVariables':_0x7c7ad8};_0x4052b6['chatLog']=_0x26797d,_0x4052b6[_0x4b280e(0x270)][_0x4b280e(0x334)]={..._0x7c7ad8},delete _0x4052b6[_0x4b280e(0x45c)],_0x4052b6[_0x4b280e(0x45c)]=new _0x23455f(),_0x4052b6[_0x4b280e(0x5cf)]=_0x41579a,_0x4052b6[_0x4b280e(0x7b4)]=_0x4b280e(0x6c4),_0x4052b6[_0x4b280e(0x484)]=_0xae02fa;let _0x5e0be8=await this[_0x4b280e(0x4f1)][_0x4b280e(0x26d)][_0x4b280e(0x53d)](_0x4052b6['_id'],_0x4052b6,this[_0x4b280e(0x367)]['wuid']);return this[_0x4b280e(0x29f)][_0x4b280e(0x2da)](this[_0x4b280e(0x185)]+'\x20('+this[_0x4b280e(0x367)]['wuid']+_0x4b280e(0x1e9)),_0x5e0be8?_0x4052b6:null;}catch(_0x163ea9){let _0x342e2d=_0x4b280e(0x301),_0x503c2f=_0x163ea9 instanceof Error?_0x163ea9[_0x4b280e(0x707)]:typeof _0x163ea9==_0x4b280e(0x410)?JSON[_0x4b280e(0x4eb)](_0x163ea9):_0x163ea9,_0x16b505=_0x342e2d+':\x20'+_0x503c2f;throw this[_0x4b280e(0x29f)]['error'](this[_0x4b280e(0x185)]+'\x20('+this[_0x4b280e(0x367)][_0x4b280e(0x18e)]+'):\x20'+_0x16b505),new m(_0x16b505);}}async[a0_0x34238b(0x6d2)](_0x1a8367,_0x26f841){const _0x236a31=a0_0x34238b;let _0x4eb216,_0x23f185;try{let _0x4da188=_0x26f841[_0x236a31(0x324)];if(!_0x4da188||!_0x4da188[_0x236a31(0x682)]||!_0x4da188[_0x236a31(0x7c2)])throw new Error(_0x236a31(0x4a1));let _0x299319;([_0x236a31(0x688),_0x236a31(0x728),_0x236a31(0x38c)]['some'](_0x5d0774=>_0x4da188[_0x236a31(0x682)][_0x236a31(0x331)](_0x5d0774))||_0x4da188[_0x236a31(0x5ce)])&&(_0x299319='arraybuffer');let _0x4dd657='\u205f',_0x3e1b86;try{_0x3e1b86=JSON[_0x236a31(0x3fb)](_0x4da188[_0x236a31(0x1c8)][_0x236a31(0x5c6)](new RegExp(_0x4dd657,'g'),''));}catch(_0x1cf63e){throw _0x1cf63e;}let _0x485c49={'method':_0x4da188[_0x236a31(0x7c2)],'url':_0x4da188['url'],'headers':_0x4da188['header']||{},..._0x4da188[_0x236a31(0x7c2)][_0x236a31(0x706)]()!=='GET'&&_0x4da188[_0x236a31(0x1c8)]?{'data':JSON[_0x236a31(0x3fb)](_0x4da188['bodyString']['replace'](new RegExp(_0x4dd657,'g'),''))}:{},..._0x299319&&{'responseType':_0x299319}},_0x59e612=await(0x0,K[_0x236a31(0x3fd)])(_0x485c49),_0x4bc1f7=_0x59e612[_0x236a31(0x3a8)][_0x236a31(0x7ad)];if(_0x4bc1f7&&_0x4bc1f7[_0x236a31(0x331)]('application/json')||typeof _0x59e612['data']==_0x236a31(0x330)){if(typeof _0x59e612[_0x236a31(0x323)]==_0x236a31(0x330)){let _0x5b9302=_0x59e612['data'][_0x236a31(0x5c6)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x236a31(0x22d)]();try{_0x4eb216=JSON['parse'](_0x5b9302);}catch(_0x4942c4){console['error'](_0x236a31(0x296)+_0x4942c4['message']),_0x4eb216={'_apiResponse':_0x59e612['data']};}}else _0x4eb216=_0x59e612[_0x236a31(0x323)];let _0xcebef9=_0x1a8367['chatLog'][_0x236a31(0x334)],_0x1a9a07=this[_0x236a31(0x6a4)](_0x4eb216);return Object[_0x236a31(0x752)](_0xcebef9,_0x1a9a07),_0x1a8367[_0x236a31(0x270)]['realVariables']=_0xcebef9,_0x23f185={'error':!0x1,'apiResponse':_0x4eb216},this[_0x236a31(0x153)](_0x1a8367,_0x26f841,_0x23f185),_0x4eb216;}if(_0x4bc1f7&&(_0x4bc1f7[_0x236a31(0x331)]('application/octet-stream')||_0x4bc1f7['includes'](_0x236a31(0x483))||_0x4bc1f7[_0x236a31(0x331)]('audio')||_0x4bc1f7[_0x236a31(0x331)](_0x236a31(0x2f8)))){this['logger'][_0x236a31(0x2da)](this[_0x236a31(0x185)]+'\x20('+this['instance'][_0x236a31(0x18e)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x4bc1f7);let _0x2dd465=(0x0,Me['v4'])(),_0x4a9270='',_0x421092={'image/jpeg':_0x236a31(0x25a),'image/png':_0x236a31(0x291),'image/gif':'.gif','image/webp':_0x236a31(0x568),'image/svg+xml':'.svg','audio/mpeg':_0x236a31(0x4ea),'audio/ogg':_0x236a31(0x579),'audio/wav':_0x236a31(0x1c9),'video/mp4':_0x236a31(0x2e1),'video/webm':'.webm','video/ogg':_0x236a31(0x76d),'text/plain':_0x236a31(0x665),'application/pdf':_0x236a31(0x420),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x236a31(0x57e),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x236a31(0x52e),'application/vnd.ms-powerpoint':_0x236a31(0x5db),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x421092[_0x4bc1f7]?(_0x4a9270=_0x421092[_0x4bc1f7],this[_0x236a31(0x29f)][_0x236a31(0x2da)](this[_0x236a31(0x185)]+'\x20('+this[_0x236a31(0x367)][_0x236a31(0x18e)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x4a9270)):(_0x4a9270=_0x236a31(0x204),this[_0x236a31(0x29f)][_0x236a31(0x2da)](this[_0x236a31(0x185)]+'\x20('+this[_0x236a31(0x367)][_0x236a31(0x18e)]+_0x236a31(0x55c)+_0x4a9270)),_0x2dd465+=_0x4a9270,this[_0x236a31(0x29f)][_0x236a31(0x2da)](this[_0x236a31(0x185)]+'\x20('+this[_0x236a31(0x367)][_0x236a31(0x18e)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x2dd465);let _0x59da1a=this['configService'][_0x236a31(0x480)](_0x236a31(0x269))['URL'];if(!_0x59da1a){let _0x3f73ae=this[_0x236a31(0x5ff)][_0x236a31(0x480)](_0x236a31(0x5fb));_0x59da1a=_0x236a31(0x733)+(_0x3f73ae&&_0x3f73ae[_0x236a31(0x353)][_0x236a31(0x447)]('/')[0x4]);}let _0x26bb05=Buffer[_0x236a31(0x28d)](_0x59e612[_0x236a31(0x323)]);await this[_0x236a31(0x30a)](_0x26bb05,_0x2dd465);let _0xa61537=_0x236a31(0x23e)+_0x2dd465;_0xa61537=''+_0x59da1a+_0xa61537,_0x4eb216={'fileUrl':_0xa61537},_0x1a8367['chatLog']['realVariables'][_0x236a31(0x624)]=_0xa61537;let _0x20f406=_0x1a8367[_0x236a31(0x270)][_0x236a31(0x334)],_0x3a4695=this[_0x236a31(0x6a4)](_0x4eb216);return Object[_0x236a31(0x752)](_0x20f406,_0x3a4695),_0x1a8367[_0x236a31(0x270)]['realVariables']=_0x20f406,_0x23f185={'error':!0x1,'apiResponse':{'fileUrl':_0xa61537}},this[_0x236a31(0x153)](_0x1a8367,_0x26f841,_0x23f185),_0x4eb216;}}catch(_0x131618){console['error'](_0x236a31(0x691),_0x131618[_0x236a31(0x707)]),_0x131618['response']&&(_0x4eb216=_0x131618[_0x236a31(0x1b2)][_0x236a31(0x323)]);let _0x2cf599=_0x1a8367[_0x236a31(0x270)]['realVariables'],_0x2b4ca1=this[_0x236a31(0x6a4)](_0x4eb216);return Object[_0x236a31(0x752)](_0x2cf599,_0x2b4ca1),_0x1a8367[_0x236a31(0x270)][_0x236a31(0x334)]=_0x2cf599,_0x23f185={'error':!0x0,'errorLog':_0x131618[_0x236a31(0x513)](),'apiResponse':_0x4eb216},this[_0x236a31(0x153)](_0x1a8367,_0x26f841,_0x23f185),{'success':!0x1};}}[a0_0x34238b(0x528)](_0x443ab1,_0x48420e){const _0x13697d=a0_0x34238b;let _0x41eb61=_0x435ff6=>{const _0x8b9980=a0_0x3a3c;let _0x18b04a=_0x435ff6[_0x8b9980(0x5c6)](/[^0-9.,-]/g,'')[_0x8b9980(0x5c6)](',','.'),_0x2b84f7=parseFloat(_0x18b04a);return isNaN(_0x2b84f7)?null:_0x2b84f7;},_0x206983=_0x48420e[_0x13697d(0x333)],_0x33d9f3=_0x48420e[_0x13697d(0x620)];typeof _0x206983=='string'&&(_0x206983=this[_0x13697d(0x360)](_0x206983,_0x443ab1[_0x13697d(0x270)][_0x13697d(0x334)])??''),typeof _0x33d9f3==_0x13697d(0x330)&&(_0x33d9f3=this['replaceVariables'](_0x33d9f3,_0x443ab1[_0x13697d(0x270)][_0x13697d(0x334)])??'');let _0x55e3ea=null;if(!_0x48420e[_0x13697d(0x19f)])return null;switch(this[_0x13697d(0x29f)][_0x13697d(0x2da)](this[_0x13697d(0x185)]+'\x20('+this[_0x13697d(0x367)][_0x13697d(0x18e)]+_0x13697d(0x770)+_0x206983),this[_0x13697d(0x29f)][_0x13697d(0x2da)](this[_0x13697d(0x185)]+'\x20('+this[_0x13697d(0x367)][_0x13697d(0x18e)]+_0x13697d(0x170)+_0x33d9f3),_0x48420e[_0x13697d(0x19f)]){case'+':case'-':case'*':case'/':let _0x99d0f0=_0x41eb61(_0x206983||'0'),_0x383ce8=_0x41eb61(_0x33d9f3||'0');if(_0x99d0f0===null)return null;switch(_0x48420e['editOperator']){case'+':_0x55e3ea=_0x99d0f0+(_0x383ce8??0x0);break;case'-':_0x55e3ea=_0x99d0f0-(_0x383ce8??0x0);break;case'*':_0x55e3ea=_0x99d0f0*(_0x383ce8??0x1);break;case'/':_0x383ce8!==0x0&&(_0x55e3ea=_0x99d0f0/(_0x383ce8??0x1));break;}break;case _0x13697d(0x827):case _0x13697d(0x499):let _0x12fc8a=_0x33d9f3,_0x5d71bb=_0x48420e['replaceValue'];if(typeof _0x5d71bb==_0x13697d(0x330)&&(_0x5d71bb=this[_0x13697d(0x360)](_0x5d71bb,_0x443ab1[_0x13697d(0x270)][_0x13697d(0x334)])??''),_0x12fc8a&&_0x5d71bb!==void 0x0){let _0x5b59d0=_0x48420e[_0x13697d(0x19f)]===_0x13697d(0x827)?new RegExp(_0x12fc8a[_0x13697d(0x5c6)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x12fc8a,'g');_0x55e3ea=_0x206983[_0x13697d(0x5c6)](_0x5b59d0,_0x5d71bb);}else console[_0x13697d(0x686)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0x55e3ea=_0x33d9f3;break;case'extractRegex':let _0x52337a=_0x206983[_0x13697d(0x441)](new RegExp(_0x33d9f3||''));_0x55e3ea=_0x52337a?_0x52337a[0x0]:'';break;case _0x13697d(0x472):_0x55e3ea=_0x206983[_0x13697d(0x4e3)](0x0,parseInt(_0x33d9f3||'0'));break;case _0x13697d(0x75c):let _0x2ec9ce=parseInt(_0x33d9f3||'0');_0x55e3ea=_0x206983['slice'](_0x206983[_0x13697d(0x6f5)]-_0x2ec9ce);break;case'toBrazilianNumberFormat':let _0x399b80=_0x41eb61(_0x206983),_0x54ecbf=parseInt(_0x33d9f3||'0');_0x54ecbf=Math['abs'](_0x54ecbf),_0x399b80!==null?_0x55e3ea=_0x399b80[_0x13697d(0x6a1)]('pt-BR',{'minimumFractionDigits':_0x54ecbf,'maximumFractionDigits':_0x54ecbf}):(console[_0x13697d(0x686)](_0x13697d(0x797)+_0x206983),_0x55e3ea=null);break;case _0x13697d(0x388):let _0x566572=_0x41eb61(_0x206983);_0x566572!==null?_0x55e3ea=_0x566572[_0x13697d(0x6a1)](_0x13697d(0x6df),{'style':'currency','currency':'BRL'}):(console[_0x13697d(0x686)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x206983),_0x55e3ea=null);break;case _0x13697d(0x4b5):_0x55e3ea=_0x206983[_0x13697d(0x706)]();break;case _0x13697d(0x736):_0x55e3ea=_0x206983[_0x13697d(0x7e4)]();break;case _0x13697d(0x2fa):_0x55e3ea=_0x206983[_0x13697d(0x447)]('\x20')[_0x13697d(0x643)](_0x409646=>_0x409646[_0x13697d(0x6d6)](0x0)[_0x13697d(0x706)]()+_0x409646[_0x13697d(0x4e3)](0x1)['toLowerCase']())['join']('\x20');break;case'trimmed':_0x55e3ea=_0x206983[_0x13697d(0x22d)]();break;default:_0x55e3ea=_0x206983;}return _0x55e3ea!==null?_0x55e3ea[_0x13697d(0x513)]():null;}async[a0_0x34238b(0x590)](_0xae8996,_0x201b74){const _0x355ac3=a0_0x34238b;try{let _0x342d25=_0xae8996[_0x355ac3(0x7a5)]?.[_0x355ac3(0x6f1)](_0x4e319b=>_0x4e319b[_0x355ac3(0x4bb)]===_0x201b74['_id']?.[_0x355ac3(0x513)]())||[],_0x4f1b84=_0x201b74[_0x355ac3(0x244)],_0x32953d=null,_0x25c77f=[],_0x4c7830=_0xae8996[_0x355ac3(0x270)]['realVariables'][_0x4f1b84];_0x25c77f['push'](_0x355ac3(0x48e)+_0x4c7830+'\x22');for(let _0x345f71 of _0x342d25){_0x345f71[_0x355ac3(0x333)]=_0x4c7830,_0x32953d=_0x345f71[_0x355ac3(0x333)];let _0x2a8a0f;try{_0x2a8a0f=this['applyvaredit'](_0xae8996,_0x345f71);}catch(_0x1a1adc){console['error'](_0x355ac3(0x6f7)+_0x1a1adc[_0x355ac3(0x707)]);continue;}if(_0x2a8a0f!==null){let _0x536788=_0x355ac3(0x5ba)+_0x345f71[_0x355ac3(0x19f)]+'\x22',_0x5ebf75=[_0x355ac3(0x388),_0x355ac3(0x4b5),'lowerCase',_0x355ac3(0x2fa),_0x355ac3(0x302)];_0x345f71[_0x355ac3(0x19f)]===_0x355ac3(0x827)||_0x345f71[_0x355ac3(0x19f)]===_0x355ac3(0x499)?_0x536788+=_0x355ac3(0x6be)+_0x345f71['secondValue']+_0x355ac3(0x7e9)+_0x345f71[_0x355ac3(0x370)]+'\x22':!_0x5ebf75['includes'](_0x345f71[_0x355ac3(0x19f)])&&_0x345f71['secondValue']!==null&&_0x345f71[_0x355ac3(0x620)]!==void 0x0&&(_0x536788+=_0x355ac3(0x80b)+_0x345f71[_0x355ac3(0x620)]+'\x22'),_0x536788+=',\x20resultado:\x20'+_0x2a8a0f+'.',_0x25c77f[_0x355ac3(0x57d)](_0x536788);}_0x2a8a0f!==null&&(_0x4c7830=_0x2a8a0f);}if(_0xae8996['chatLog']['realVariables']&&_0x201b74[_0x355ac3(0x244)]){_0xae8996[_0x355ac3(0x270)]['realVariables'][_0x201b74[_0x355ac3(0x244)]]=_0x4c7830;let _0x56ae60={'variable':_0x201b74[_0x355ac3(0x244)],'oldValue':_0x32953d,'newValue':_0x4c7830,'moreLogs':_0x25c77f};try{this[_0x355ac3(0x153)](_0xae8996,_0x201b74,_0x56ae60);}catch(_0x4c945c){console[_0x355ac3(0x62f)](_0x355ac3(0x25b)+_0x4c945c[_0x355ac3(0x707)]);}}return _0x4f1b84;}catch(_0x147cbe){return console[_0x355ac3(0x62f)](_0x355ac3(0x444)+_0x147cbe[_0x355ac3(0x707)]),null;}}async[a0_0x34238b(0x73e)](_0x2625b9,_0x1ad73e){const _0x2d96e2=a0_0x34238b;try{let _0x584e4c=[],_0x50d06f=_0x2625b9[_0x2d96e2(0x63c)][_0x2d96e2(0x6f1)](_0x504a25=>_0x504a25[_0x2d96e2(0x4bb)]===_0x1ad73e[_0x2d96e2(0x45c)][_0x2d96e2(0x513)]()),_0x399f11=null,_0xea1339=!0x1;for(let _0x1e05b9 of _0x50d06f){let _0x5278e3=this[_0x2d96e2(0x739)](_0x2625b9,_0x1e05b9);_0x584e4c[_0x2d96e2(0x57d)](_0x2d96e2(0x3d8)+_0x1e05b9[_0x2d96e2(0x333)]+_0x2d96e2(0x33a)+_0x1e05b9[_0x2d96e2(0x37a)]+_0x2d96e2(0x1f1)+_0x1e05b9[_0x2d96e2(0x620)]+',\x20Resultado:\x20'+_0x5278e3),_0x399f11===null?_0x399f11=_0x5278e3:_0x1e05b9[_0x2d96e2(0x442)]==='and'?(_0x399f11=_0x399f11&&_0x5278e3,_0x5278e3||(_0xea1339=!0x0)):_0x1e05b9[_0x2d96e2(0x442)]==='or'&&(_0xea1339||(_0x399f11=_0x399f11||_0x5278e3));}_0x399f11===null&&(_0x399f11=!0x0);let _0x29d003={'moreLogs':_0x584e4c};_0x2625b9[_0x2d96e2(0x270)][_0x2d96e2(0x7f9)]=_0x399f11,await this[_0x2d96e2(0x153)](_0x2625b9,_0x1ad73e,_0x29d003);}catch(_0x51fc3c){this[_0x2d96e2(0x29f)]['error'](this[_0x2d96e2(0x185)]+'\x20('+this['instance']['wuid']+_0x2d96e2(0x5ee)+(_0x51fc3c instanceof Error?_0x51fc3c[_0x2d96e2(0x707)]:JSON[_0x2d96e2(0x4eb)](_0x51fc3c,null,0x2)));}}['evaluateCondition'](_0x79bc5e,_0x530eb3){const _0x37eda1=a0_0x34238b;let _0x4ec20c=_0x530eb3[_0x37eda1(0x333)],_0x2e7941=_0x530eb3['secondValue'];typeof _0x4ec20c==_0x37eda1(0x330)&&(_0x4ec20c=this[_0x37eda1(0x360)](_0x4ec20c,_0x79bc5e['chatLog']['realVariables'])??''),typeof _0x2e7941==_0x37eda1(0x330)&&(_0x2e7941=this[_0x37eda1(0x360)](_0x2e7941,_0x79bc5e[_0x37eda1(0x270)][_0x37eda1(0x334)])??'');try{switch(_0x530eb3['expression']){case _0x37eda1(0x47b):return _0x4ec20c===_0x2e7941;case'notEqual':return _0x4ec20c!==_0x2e7941;case _0x37eda1(0x2af):return this[_0x37eda1(0x2af)](_0x4ec20c,_0x2e7941);case _0x37eda1(0x681):return!this[_0x37eda1(0x2af)](_0x4ec20c,_0x2e7941);case'greater':return parseFloat(_0x4ec20c)>parseFloat(_0x2e7941);case _0x37eda1(0x57f):return parseFloat(_0x4ec20c)<parseFloat(_0x2e7941);case _0x37eda1(0x419):return _0x4ec20c!=='';case'empty':return _0x4ec20c==='';case _0x37eda1(0x7ef):return new RegExp(_0x2e7941)[_0x37eda1(0x33c)](_0x4ec20c);case _0x37eda1(0x40d):return!new RegExp(_0x2e7941)['test'](_0x4ec20c);default:return!0x1;}}catch(_0x1e4cda){return console[_0x37eda1(0x62f)](_0x37eda1(0x34f)+_0x1e4cda),!0x1;}}[a0_0x34238b(0x2af)](_0x43d43c,_0x11cbb9){const _0x21c8b0=a0_0x34238b;if(_0x43d43c===_0x11cbb9&&/^\d+$/[_0x21c8b0(0x33c)](_0x43d43c))return!0x0;if(this[_0x21c8b0(0x15b)](_0x43d43c)&&/^\d+$/[_0x21c8b0(0x33c)](_0x11cbb9)){let _0x16196f=_0x43d43c[_0x21c8b0(0x447)](',')['map'](_0x7fca9=>parseInt(_0x7fca9['trim']())),_0xf47e42=parseInt(_0x11cbb9);return _0x16196f['includes'](_0xf47e42);}return _0x43d43c['includes'](_0x11cbb9);}[a0_0x34238b(0x15b)](_0x4ffd5a){return/^\d+(,\d+)*$/['test'](_0x4ffd5a);}[a0_0x34238b(0x256)](_0x4dac72){const _0x40997e=a0_0x34238b;let _0x76f27a=!0x0,_0x140186=null;for(let _0x4c8556 of _0x4dac72){let _0x18a9d4=this['evaluateConditionTest'](_0x4c8556);if(_0x140186==='or'&&_0x18a9d4){_0x76f27a=!0x0;break;}if(_0x140186===_0x40997e(0x387)&&!_0x18a9d4){_0x76f27a=!0x1;break;}_0x140186=_0x4c8556[_0x40997e(0x442)];}return _0x76f27a;}[a0_0x34238b(0x4ce)](_0x4c8f88){const _0x1a1593=a0_0x34238b;let _0x20ed05=_0x4c8f88['firstValue'],_0xbadcc3=_0x4c8f88[_0x1a1593(0x620)];try{switch(_0x4c8f88[_0x1a1593(0x37a)]){case _0x1a1593(0x47b):return String(_0x20ed05)===String(_0xbadcc3);case _0x1a1593(0x56c):return String(_0x20ed05)!==String(_0xbadcc3);case _0x1a1593(0x2af):return String(_0x20ed05)[_0x1a1593(0x331)](String(_0xbadcc3));case _0x1a1593(0x681):return!String(_0x20ed05)['includes'](String(_0xbadcc3));case _0x1a1593(0x2bd):return parseFloat(String(_0x20ed05))>parseFloat(String(_0xbadcc3));case _0x1a1593(0x57f):return parseFloat(String(_0x20ed05))<parseFloat(String(_0xbadcc3));case _0x1a1593(0x419):return String(_0x20ed05)!=='';case _0x1a1593(0x26a):return String(_0x20ed05)==='';case _0x1a1593(0x7ef):return new RegExp(String(_0xbadcc3))['test'](String(_0x20ed05));case'notMatchRegex':return!new RegExp(String(_0xbadcc3))[_0x1a1593(0x33c)](String(_0x20ed05));default:return!0x1;}}catch(_0x229c4a){return console['error'](_0x1a1593(0x34f)+_0x229c4a),!0x1;}}async[a0_0x34238b(0x35d)](_0xb73663,_0x532810){const _0x3caca5=a0_0x34238b;if(this[_0x3caca5(0x29f)]['verbose'](this[_0x3caca5(0x185)]+'\x20('+this['instance'][_0x3caca5(0x18e)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0xb73663||!_0x532810)return this[_0x3caca5(0x29f)][_0x3caca5(0x62f)](this[_0x3caca5(0x185)]+'\x20('+this[_0x3caca5(0x367)][_0x3caca5(0x18e)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x47588b=_0xb73663[_0x3caca5(0x270)][_0x3caca5(0x821)]['key']['id'];this[_0x3caca5(0x29f)][_0x3caca5(0x2da)](this['instanceName']+'\x20('+this[_0x3caca5(0x367)]['wuid']+_0x3caca5(0x74e)+_0x47588b);let _0x40c692={'key':{'id':_0x47588b}},_0x21c1b1=_0x532810[_0x3caca5(0x244)];_0xb73663[_0x3caca5(0x270)][_0x3caca5(0x334)]['_'+_0x21c1b1+_0x3caca5(0x5a2)]=null,_0xb73663[_0x3caca5(0x270)][_0x3caca5(0x334)]['_'+_0x21c1b1+'.mimetype']=null,_0xb73663['chatLog'][_0x3caca5(0x334)]['_'+_0x21c1b1+_0x3caca5(0x613)]=null,_0xb73663[_0x3caca5(0x270)][_0x3caca5(0x334)]['_'+_0x21c1b1+_0x3caca5(0x2a9)]=_0xb73663[_0x3caca5(0x270)]['lastReceivedMessage']['type'];try{let _0x457660=await this[_0x3caca5(0x3e8)](_0x40c692);this['logger'][_0x3caca5(0x2da)](this[_0x3caca5(0x185)]+'\x20('+this['instance'][_0x3caca5(0x18e)]+_0x3caca5(0x2cf)),_0xb73663[_0x3caca5(0x270)][_0x3caca5(0x334)]['_'+_0x21c1b1+_0x3caca5(0x48d)]=_0x457660[_0x3caca5(0x624)],_0xb73663[_0x3caca5(0x270)][_0x3caca5(0x334)]['_'+_0x21c1b1+_0x3caca5(0x379)]=_0x457660[_0x3caca5(0x264)];let _0x17408f=_0x457660[_0x3caca5(0x264)][_0x3caca5(0x441)](/\/(\w+)$/),_0x2569f6=_0x17408f?_0x17408f[0x1]:null;_0xb73663[_0x3caca5(0x270)][_0x3caca5(0x334)]['_'+_0x21c1b1+_0x3caca5(0x613)]=_0x2569f6,this[_0x3caca5(0x29f)][_0x3caca5(0x2da)](this['instanceName']+'\x20('+this[_0x3caca5(0x367)][_0x3caca5(0x18e)]+_0x3caca5(0x832)+_0x21c1b1+'\x27.');}catch(_0x19c1a8){this[_0x3caca5(0x29f)][_0x3caca5(0x62f)](this[_0x3caca5(0x185)]+'\x20('+this[_0x3caca5(0x367)][_0x3caca5(0x18e)]+_0x3caca5(0x308)+_0x19c1a8[_0x3caca5(0x707)]);}let _0x5522f4=_0xb73663[_0x3caca5(0x270)]['lastReceivedMessage'][_0x3caca5(0x295)]||_0xb73663[_0x3caca5(0x270)][_0x3caca5(0x821)][_0x3caca5(0x689)]||_0xb73663[_0x3caca5(0x270)][_0x3caca5(0x821)]['vote'];try{_0xb73663[_0x3caca5(0x270)][_0x3caca5(0x334)]||(_0xb73663['chatLog']['realVariables']={});let _0x2d1e38=_0xb73663['chatLog'][_0x3caca5(0x334)][_0x21c1b1];_0xb73663[_0x3caca5(0x270)][_0x3caca5(0x334)][_0x21c1b1]=_0x5522f4;let _0x59b7c6={'variable':_0x21c1b1,'oldValue':_0x2d1e38,'newValue':_0x5522f4};this[_0x3caca5(0x153)](_0xb73663,_0x532810,_0x59b7c6),this[_0x3caca5(0x29f)][_0x3caca5(0x2da)](this[_0x3caca5(0x185)]+'\x20('+this[_0x3caca5(0x367)][_0x3caca5(0x18e)]+_0x3caca5(0x790));}catch(_0x43ae6f){let _0x35155d={'error':!0x0,'errorLog':_0x43ae6f[_0x3caca5(0x513)]()};return this[_0x3caca5(0x153)](_0xb73663,_0x532810,_0x35155d),this[_0x3caca5(0x29f)]['error'](this[_0x3caca5(0x185)]+'\x20('+this[_0x3caca5(0x367)][_0x3caca5(0x18e)]+_0x3caca5(0x7c6)+(_0x43ae6f instanceof Error?_0x43ae6f[_0x3caca5(0x707)]:JSON[_0x3caca5(0x4eb)](_0x43ae6f,null,0x2))),null;}}async[a0_0x34238b(0x166)](_0x2ca23f,_0x4e9149){const _0x2427f9=a0_0x34238b;if(this[_0x2427f9(0x29f)][_0x2427f9(0x2da)](this[_0x2427f9(0x185)]+'\x20('+this[_0x2427f9(0x367)][_0x2427f9(0x18e)]+_0x2427f9(0x22f)),!_0x2ca23f||!_0x4e9149)return this[_0x2427f9(0x29f)]['error'](this[_0x2427f9(0x185)]+'\x20('+this['instance']['wuid']+_0x2427f9(0x3ab)),null;let _0x5cdfc0=Date[_0x2427f9(0x433)](),_0xe421a3=parseInt(_0x4e9149[_0x2427f9(0x3a3)],0xa);if(isNaN(_0xe421a3))return this[_0x2427f9(0x29f)][_0x2427f9(0x62f)](this[_0x2427f9(0x185)]+'\x20('+this['instance'][_0x2427f9(0x18e)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x5a7bd1={'newStoppedUntil':_0x5cdfc0+_0xe421a3*0x3c*0x3e8};return await this[_0x2427f9(0x153)](_0x2ca23f,_0x4e9149,_0x5a7bd1,!0x0),null;}async['processUazapi'](_0x49866b,_0x25ae40){const _0x5e5394=a0_0x34238b;try{switch(_0x25ae40[_0x5e5394(0x7d2)][_0x5e5394(0x7e3)]){case'sendText':await this[_0x5e5394(0x704)](_0x49866b,_0x25ae40);break;case'sendMedia':await this['uazapiSendMedia'](_0x49866b,_0x25ae40);break;case _0x5e5394(0x49e):await this[_0x5e5394(0x4b7)](_0x49866b,_0x25ae40);break;case _0x5e5394(0x69e):await this[_0x5e5394(0x76a)](_0x49866b,_0x25ae40);break;case'sendContact':await this['uazapiSendContact'](_0x49866b,_0x25ae40);break;case'sendPoll':await this[_0x5e5394(0x623)](_0x49866b,_0x25ae40);break;case _0x5e5394(0x2d4):await this[_0x5e5394(0x623)](_0x49866b,_0x25ae40);break;case _0x5e5394(0x6d9):await this[_0x5e5394(0x268)](_0x49866b,_0x25ae40);break;default:this[_0x5e5394(0x29f)][_0x5e5394(0x62f)](this[_0x5e5394(0x185)]+'\x20('+this[_0x5e5394(0x367)][_0x5e5394(0x18e)]+'):\x20Comando\x20desconhecido:\x20'+_0x25ae40['uazapi'][_0x5e5394(0x7e3)]);}}catch(_0x5d5bff){this[_0x5e5394(0x29f)][_0x5e5394(0x62f)](this['instanceName']+'\x20('+this['instance'][_0x5e5394(0x18e)]+_0x5e5394(0x424)+(_0x5d5bff instanceof Error?_0x5d5bff[_0x5e5394(0x707)]:JSON[_0x5e5394(0x4eb)](_0x5d5bff,null,0x2)));}}async[a0_0x34238b(0x153)](_0x3aa939,_0x4944d1,_0x20ff8a,_0x515fd3=!0x1,_0x5db863=!0x1){const _0x3f8616=a0_0x34238b;_0x3aa939['chatLog'][_0x3f8616(0x1af)]||(_0x3aa939['chatLog'][_0x3f8616(0x1af)]=[]);let _0x39b294=(_0x3aa939[_0x3f8616(0x270)][_0x3f8616(0x1af)]?.[_0x3f8616(0x6f5)]??0x0)+0x1,_0x3c19f4=_0x3aa939[_0x3f8616(0x270)][_0x3f8616(0x1af)]['filter'](_0x499e65=>String(_0x499e65[_0x3f8616(0x4bb)])===String(_0x4944d1['_id']))[_0x3f8616(0x6f5)]+0x1,_0x2ca345=_0x20ff8a?.[_0x3f8616(0x430)]??Date['now'](),_0x781d27=_0x20ff8a?.['error']?_0x20ff8a['errorLog']??_0x20ff8a[_0x3f8616(0x62f)][_0x3f8616(0x513)]():void 0x0,_0x831229={'onTime':_0x2ca345,'blockId':_0x4944d1[_0x3f8616(0x45c)],'order':_0x39b294,'activatedCount':_0x3c19f4,'error':_0x20ff8a?.[_0x3f8616(0x62f)]??!0x1,'messageId':_0x20ff8a?.['messageId'],'apiResponse':_0x20ff8a?.[_0x3f8616(0x589)],'apiResponseString':_0x20ff8a?.[_0x3f8616(0x589)]?JSON[_0x3f8616(0x4eb)](_0x20ff8a?.['apiResponse']):void 0x0,'variable':_0x20ff8a?.[_0x3f8616(0x4c4)],'oldValue':_0x20ff8a?.[_0x3f8616(0x395)],'newValue':_0x20ff8a?.[_0x3f8616(0x6dc)],'newStoppedUntil':_0x20ff8a?.[_0x3f8616(0x46c)],'moreLogs':_0x20ff8a?.[_0x3f8616(0x457)],'errorLog':_0x781d27};if(_0x20ff8a[_0x3f8616(0x457)]&&_0x20ff8a[_0x3f8616(0x457)][_0x3f8616(0x6f5)]>0x0){let _0x5cab69=_0x20ff8a[_0x3f8616(0x457)]['map'](_0x40e99=>this[_0x3f8616(0x5da)](_0x40e99,_0x3aa939[_0x3f8616(0x270)]['realVariables']));_0x831229[_0x3f8616(0x457)]=_0x5cab69;}if(_0x3aa939['chatLog'][_0x3f8616(0x334)]||(_0x3aa939[_0x3f8616(0x270)]['realVariables']={}),_0x3aa939[_0x3f8616(0x270)][_0x3f8616(0x334)]['_activatedCount']=String(_0x3c19f4),_0x3aa939[_0x3f8616(0x270)][_0x3f8616(0x334)][_0x3f8616(0x2c7)]=String(_0x20ff8a[_0x3f8616(0x62f)]??!0x1),_0x3aa939[_0x3f8616(0x270)]['blockLogs'][_0x3f8616(0x57d)](_0x831229),_0x3aa939['chatLog'][_0x3f8616(0x334)][_0x3f8616(0x3bb)]&&_0x3aa939[_0x3f8616(0x270)][_0x3f8616(0x334)]['telefone']!==_0x3aa939[_0x3f8616(0x484)]){let _0x18a689=(await this[_0x3f8616(0x5e4)]({'numbers':[_0x3aa939[_0x3f8616(0x270)][_0x3f8616(0x334)][_0x3f8616(0x3bb)]]}))[0x0][_0x3f8616(0x817)];_0x3aa939['chatLog'][_0x3f8616(0x334)][_0x3f8616(0x3bb)]=_0x18a689,_0x3aa939[_0x3f8616(0x484)]=_0x18a689;try{let _0x508d23={'_id':{'$ne':_0x3aa939['_id']},'remoteJid':_0x18a689,'status':'open'},_0x3f7e7d={'status':'closed'};await this['repository'][_0x3f8616(0x26d)][_0x3f8616(0x5a6)](_0x508d23,_0x3f7e7d,this[_0x3f8616(0x367)][_0x3f8616(0x18e)]),this[_0x3f8616(0x29f)][_0x3f8616(0x2da)](this[_0x3f8616(0x185)]+'\x20('+this['instance'][_0x3f8616(0x18e)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x397147){this[_0x3f8616(0x29f)][_0x3f8616(0x62f)](this[_0x3f8616(0x185)]+'\x20('+this[_0x3f8616(0x367)][_0x3f8616(0x18e)]+_0x3f8616(0x4d3)+_0x397147[_0x3f8616(0x707)]);}try{let _0x577aaf=_0x3aa939[_0x3f8616(0x270)][_0x3f8616(0x334)],_0x9e775d=await this['getVariablesChat'](_0x18a689),_0x3bc979={..._0x577aaf,..._0x9e775d,'_remoteJid':_0x18a689};_0x3aa939['chatLog'][_0x3f8616(0x334)]=_0x3bc979;}catch(_0x3c9cf9){this[_0x3f8616(0x29f)][_0x3f8616(0x62f)](this['instanceName']+'\x20('+this['instance'][_0x3f8616(0x18e)]+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x3c9cf9[_0x3f8616(0x707)]);}}_0x3aa939[_0x3f8616(0x270)][_0x3f8616(0x705)]=_0x4944d1[_0x3f8616(0x45c)][_0x3f8616(0x513)](),_0x3aa939[_0x3f8616(0x270)][_0x3f8616(0x515)]&&(_0x3aa939[_0x3f8616(0x270)][_0x3f8616(0x515)]=_0x3aa939[_0x3f8616(0x270)][_0x3f8616(0x515)]),_0x3aa939['chatLog'][_0x3f8616(0x821)]&&(_0x3aa939['chatLog'][_0x3f8616(0x821)]=_0x3aa939[_0x3f8616(0x270)]['lastReceivedMessage']),_0x3aa939['chatLog']['lastCondition']&&(_0x3aa939['chatLog']['lastCondition']=_0x3aa939['chatLog'][_0x3f8616(0x7f9)]),_0x5db863&&(_0x3aa939[_0x3f8616(0x7b4)]=_0x3f8616(0x69a)),_0x515fd3?this['saveConversationToDatabase'](_0x3aa939):this['goNextblock'](_0x3aa939,_0x4944d1);}[a0_0x34238b(0x5da)](_0x1b65b5,_0x51fcda){const _0x5ea89d=a0_0x34238b;return _0x1b65b5[_0x5ea89d(0x5c6)](/\{\{([^}]+)\}\}/g,(_0x336e95,_0x461917)=>_0x51fcda[_0x461917]?'{{'+_0x461917+_0x5ea89d(0x4a8)+_0x51fcda[_0x461917]+'\x22':'{{'+_0x461917+_0x5ea89d(0x225));}async['saveConversationToDatabase'](_0x5d4934){const _0x39d0a4=a0_0x34238b;try{let _0x391c01=Object['entries'](_0x5d4934[_0x39d0a4(0x270)][_0x39d0a4(0x334)])[_0x39d0a4(0x643)](([_0x17059f,_0x58b169])=>({'name':_0x17059f,'value':_0x58b169})),_0xfa229e={'status':_0x5d4934['status'],'remoteJid':_0x5d4934['remoteJid'],'blocks':_0x5d4934[_0x39d0a4(0x3ea)],'waitingMenu_id':_0x5d4934[_0x39d0a4(0x6cb)],'waitingMenu_text':_0x5d4934[_0x39d0a4(0x1b8)],'waitingMenu_replyOptions':_0x5d4934[_0x39d0a4(0x16e)],'chatLog':{'lastBlockId':_0x5d4934[_0x39d0a4(0x270)][_0x39d0a4(0x705)],'lastSendMessage':_0x5d4934[_0x39d0a4(0x270)][_0x39d0a4(0x515)],'lastReceivedMessage':_0x5d4934['chatLog'][_0x39d0a4(0x821)],'lastCondition':_0x5d4934['chatLog']['lastCondition'],'chatVariables':_0x391c01,'realVariables':_0x5d4934[_0x39d0a4(0x270)][_0x39d0a4(0x334)],'blockLogs':_0x5d4934[_0x39d0a4(0x270)]['blockLogs']}},_0x3f1f25=await this[_0x39d0a4(0x4f1)]['flowConversation']['updateOne'](_0x5d4934[_0x39d0a4(0x45c)],_0xfa229e,this[_0x39d0a4(0x367)][_0x39d0a4(0x18e)]);if(_0x3f1f25){this[_0x39d0a4(0x29f)][_0x39d0a4(0x2da)](this[_0x39d0a4(0x185)]+'\x20('+this[_0x39d0a4(0x367)][_0x39d0a4(0x18e)]+_0x39d0a4(0x7be)+_0x3f1f25[_0x39d0a4(0x45c)]);try{let _0x5efa09=['nome',_0x39d0a4(0x2ce),_0x39d0a4(0x697),'cpf',_0x39d0a4(0x7b4),_0x39d0a4(0x20c),_0x39d0a4(0x20d),_0x39d0a4(0x163),_0x39d0a4(0x4f6),_0x39d0a4(0x292)];if(!this['AutomateSystem']&&(await this[_0x39d0a4(0x7ae)](),!this[_0x39d0a4(0x7e1)]))throw new Error(_0x39d0a4(0x15d));let _0x58c6e5=this[_0x39d0a4(0x7e1)]?.[_0x39d0a4(0x54e)]['map'](_0x42b403=>_0x42b403[_0x39d0a4(0x5f8)]),_0x553efa={};Object[_0x39d0a4(0x468)](_0x5d4934[_0x39d0a4(0x270)][_0x39d0a4(0x334)])[_0x39d0a4(0x44e)](([_0x350e7b,_0x300967])=>{const _0x4e5c30=_0x39d0a4;_0x5efa09['includes'](_0x350e7b)&&(_0x350e7b===_0x4e5c30(0x163)&&typeof _0x300967==_0x4e5c30(0x330)?_0x553efa[_0x350e7b]=_0x300967[_0x4e5c30(0x447)](',')['map'](_0xf9fda0=>_0xf9fda0[_0x4e5c30(0x22d)]())[_0x4e5c30(0x6f1)](_0x408800=>_0x408800!==''):_0x350e7b===_0x4e5c30(0x4f6)&&typeof _0x300967==_0x4e5c30(0x330)?_0x553efa[_0x350e7b]=_0x300967[_0x4e5c30(0x447)](',')['map'](_0x15abc8=>_0x15abc8['trim']())['filter'](_0xe1799e=>_0xe1799e!==''):_0x553efa[_0x350e7b]=_0x300967);});let _0x1c2e7a=_0x5d4934['chatLog'][_0x39d0a4(0x1af)][_0x5d4934[_0x39d0a4(0x270)]['blockLogs']['length']-0x1];if(_0x1c2e7a){let _0x2e7517=_0x1c2e7a['newStoppedUntil'];_0x2e7517!==void 0x0&&(_0x553efa['desativadoFluxoAte']=_0x2e7517[_0x39d0a4(0x513)]());}let _0x5aa11e=_0x391c01[_0x39d0a4(0x6f1)](_0x38c658=>_0x58c6e5[_0x39d0a4(0x331)](_0x38c658[_0x39d0a4(0x5f8)]));this[_0x39d0a4(0x29f)][_0x39d0a4(0x2da)](this['instanceName']+'\x20('+this[_0x39d0a4(0x367)][_0x39d0a4(0x18e)]+_0x39d0a4(0x24e)),this[_0x39d0a4(0x29f)]['verbose'](_0x553efa),this[_0x39d0a4(0x29f)][_0x39d0a4(0x2da)](this[_0x39d0a4(0x185)]+'\x20('+this[_0x39d0a4(0x367)][_0x39d0a4(0x18e)]+'):\x20customFieldVariables'),this[_0x39d0a4(0x29f)][_0x39d0a4(0x2da)](_0x5aa11e);let _0x346ebf=_0x5aa11e[_0x39d0a4(0x643)](_0x53c64a=>{const _0x52ead7=_0x39d0a4;let _0x137a04=this['AutomateSystem']?.[_0x52ead7(0x54e)][_0x52ead7(0x802)](_0x51f076=>_0x51f076[_0x52ead7(0x5f8)]===_0x53c64a[_0x52ead7(0x5f8)]);if(!_0x137a04)throw new Error(_0x52ead7(0x644)+_0x53c64a[_0x52ead7(0x5f8)]);return{'_id':_0x137a04[_0x52ead7(0x45c)],'value':_0x53c64a[_0x52ead7(0x194)]};});this[_0x39d0a4(0x29f)][_0x39d0a4(0x2da)](this[_0x39d0a4(0x185)]+'\x20('+this['instance'][_0x39d0a4(0x18e)]+_0x39d0a4(0x758)),this[_0x39d0a4(0x29f)]['verbose'](_0x346ebf),await this[_0x39d0a4(0x25d)](_0x5d4934[_0x39d0a4(0x484)],_0x553efa,_0x346ebf);}catch(_0x2f1fb0){this[_0x39d0a4(0x29f)][_0x39d0a4(0x62f)](this[_0x39d0a4(0x185)]+'\x20('+this[_0x39d0a4(0x367)][_0x39d0a4(0x18e)]+_0x39d0a4(0x1e7)+(_0x2f1fb0 instanceof Error?_0x2f1fb0[_0x39d0a4(0x707)]:JSON[_0x39d0a4(0x4eb)](_0x2f1fb0,null,0x2)));}}else this[_0x39d0a4(0x29f)][_0x39d0a4(0x62f)](this[_0x39d0a4(0x185)]+'\x20('+this[_0x39d0a4(0x367)][_0x39d0a4(0x18e)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x378146){this['logger']['error'](this[_0x39d0a4(0x185)]+'\x20('+this['instance'][_0x39d0a4(0x18e)]+_0x39d0a4(0x5e3)+(_0x378146 instanceof Error?_0x378146['message']:JSON[_0x39d0a4(0x4eb)](_0x378146,null,0x2)));}}async['saveChatVariables'](_0x57a541,_0x572614,_0x48e4e0){const _0x2f1e68=a0_0x34238b;try{let _0x2fd44c={'leadInfo.leadnome':_0x572614[_0x2f1e68(0x176)],'leadInfo.nomecompleto':_0x572614[_0x2f1e68(0x2ce)],'leadInfo.email':_0x572614[_0x2f1e68(0x697)],'leadInfo.cpf':_0x572614[_0x2f1e68(0x7f0)],'leadInfo.status':_0x572614[_0x2f1e68(0x7b4)],'leadInfo.notas':_0x572614['notas'],'leadInfo.responsavelid':_0x572614['responsavelid'],'leadInfo.tags':_0x572614[_0x2f1e68(0x163)],'leadInfo.etiquetas':_0x572614[_0x2f1e68(0x4f6)],'leadInfo.customFields':_0x48e4e0,'leadInfo.atendimentoAberto':_0x572614[_0x2f1e68(0x292)]},_0x15ad7f=await this[_0x2f1e68(0x4f1)]['chat']['findOne']({'where':{'_id':_0x57a541}},this[_0x2f1e68(0x367)]['wuid']);if(!_0x15ad7f)return'chat\x20não\x20encontrado';let _0xc42d6b=new Set(_0x15ad7f[_0x2f1e68(0x4dd)][_0x2f1e68(0x4f6)]||[]),_0x4993df=new Set(_0x572614[_0x2f1e68(0x4f6)]||[]),_0x5c8845=await this[_0x2f1e68(0x4f1)][_0x2f1e68(0x489)]['find']({'where':{}},this['instance'][_0x2f1e68(0x18e)]),_0x514b1c=new Set(_0x5c8845[_0x2f1e68(0x643)](_0x2b7bc4=>_0x2b7bc4[_0x2f1e68(0x45c)])),_0x29e739=[..._0x4993df][_0x2f1e68(0x6f1)](_0x21260a=>!_0xc42d6b[_0x2f1e68(0x3c4)](_0x21260a)&&_0x514b1c[_0x2f1e68(0x3c4)](_0x21260a)),_0x59698c=[..._0xc42d6b]['filter'](_0x5b7626=>!_0x4993df[_0x2f1e68(0x3c4)](_0x5b7626));for(let _0x3eb23c of _0x29e739)await this[_0x2f1e68(0x2c0)](_0x3eb23c,_0x15ad7f['_id']),_0xc42d6b[_0x2f1e68(0x7d8)](_0x3eb23c);for(let _0x4689d9 of _0x59698c)await this['RemoveChatLabel'](_0x4689d9,_0x15ad7f[_0x2f1e68(0x45c)]),_0xc42d6b[_0x2f1e68(0x253)](_0x4689d9);if('desativadoFluxoAte'in _0x572614){let _0x497882=_0x572614[_0x2f1e68(0x24a)];_0x2fd44c[_0x2f1e68(0x37b)]=_0x497882?Number(_0x497882):null;}if(_0x2f1e68(0x292)in _0x572614){let _0x3cdca2=_0x572614['atendimentoAberto'][_0x2f1e68(0x7e4)]();_0x2fd44c[_0x2f1e68(0x596)]=_0x3cdca2===_0x2f1e68(0x2b1)||_0x3cdca2==='1'||_0x3cdca2==='yes'||_0x3cdca2===_0x2f1e68(0x1e3);}let _0x5c9d84=await this['repository'][_0x2f1e68(0x7fd)]['updateOne']({'where':{'_id':_0x57a541}},_0x2fd44c,this[_0x2f1e68(0x367)]['wuid']);_0x5c9d84?(this[_0x2f1e68(0x29f)]['verbose'](this['instanceName']+'\x20('+this[_0x2f1e68(0x367)][_0x2f1e68(0x18e)]+_0x2f1e68(0x5ed)+_0x5c9d84[_0x2f1e68(0x45c)]),J(this[_0x2f1e68(0x185)],_0x2f1e68(0x1e2),{'chat':_0x5c9d84})):this[_0x2f1e68(0x29f)][_0x2f1e68(0x62f)](this[_0x2f1e68(0x185)]+'\x20('+this[_0x2f1e68(0x367)][_0x2f1e68(0x18e)]+_0x2f1e68(0x806));}catch(_0x2df88c){this[_0x2f1e68(0x29f)][_0x2f1e68(0x62f)](this[_0x2f1e68(0x185)]+'\x20('+this[_0x2f1e68(0x367)][_0x2f1e68(0x18e)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x2df88c instanceof Error?_0x2df88c[_0x2f1e68(0x707)]:JSON[_0x2f1e68(0x4eb)](_0x2df88c,null,0x2)));}}async['updateStopChat'](_0x5484bc,_0x558c04){const _0x4612b3=a0_0x34238b;this[_0x4612b3(0x29f)]['verbose'](this[_0x4612b3(0x185)]+'\x20('+this[_0x4612b3(0x367)][_0x4612b3(0x18e)]+_0x4612b3(0x4f0)+_0x558c04);try{let _0x4ce6e8=await this['repository'][_0x4612b3(0x7fd)]['updateOne']({'where':{'_id':_0x5484bc[_0x4612b3(0x484)]}},{'leadInfo.desativadoFluxoAte':_0x558c04},this[_0x4612b3(0x367)][_0x4612b3(0x18e)]);this[_0x4612b3(0x29f)]['verbose'](this[_0x4612b3(0x185)]+'\x20('+this[_0x4612b3(0x367)][_0x4612b3(0x18e)]+_0x4612b3(0x206)+_0x5484bc[_0x4612b3(0x45c)]),this['logger']['verbose'](this[_0x4612b3(0x185)]+'\x20('+this[_0x4612b3(0x367)][_0x4612b3(0x18e)]+_0x4612b3(0x4f0)+JSON[_0x4612b3(0x4eb)](_0x4ce6e8,null,0x2)),_0x4ce6e8&&J(this[_0x4612b3(0x185)],_0x4612b3(0x1e2),{'chat':_0x4ce6e8});}catch(_0x5619bf){this['logger'][_0x4612b3(0x62f)](this[_0x4612b3(0x185)]+'\x20('+this[_0x4612b3(0x367)][_0x4612b3(0x18e)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x5619bf instanceof Error?_0x5619bf[_0x4612b3(0x707)]:JSON[_0x4612b3(0x4eb)](_0x5619bf,null,0x2)));}}async[a0_0x34238b(0x44d)](_0x3438b2){const _0x52e21f=a0_0x34238b;try{this[_0x52e21f(0x29f)][_0x52e21f(0x2da)](this[_0x52e21f(0x185)]+'\x20('+this[_0x52e21f(0x367)]['wuid']+_0x52e21f(0x316));let _0x25cfa2=_0x3438b2[_0x52e21f(0x5c6)](/\D/g,''),_0x290e05=await this[_0x52e21f(0x4f1)][_0x52e21f(0x798)][_0x52e21f(0x6cc)]({'where':{'testingWith':_0x25cfa2}},this[_0x52e21f(0x367)][_0x52e21f(0x18e)]);return _0x290e05||(this[_0x52e21f(0x29f)][_0x52e21f(0x2da)](this['instanceName']+'\x20('+this[_0x52e21f(0x367)]['wuid']+_0x52e21f(0x223)),_0x290e05=await this[_0x52e21f(0x4f1)][_0x52e21f(0x798)][_0x52e21f(0x6cc)]({'where':{'default':!0x0}},this[_0x52e21f(0x367)][_0x52e21f(0x18e)])),_0x290e05||(this[_0x52e21f(0x29f)][_0x52e21f(0x2da)](this[_0x52e21f(0x185)]+'\x20('+this['instance'][_0x52e21f(0x18e)]+_0x52e21f(0x47f)),null);}catch(_0x359392){return this[_0x52e21f(0x29f)][_0x52e21f(0x62f)](this[_0x52e21f(0x185)]+'\x20('+this[_0x52e21f(0x367)][_0x52e21f(0x18e)]+_0x52e21f(0x7a8)+(_0x359392 instanceof Error?_0x359392[_0x52e21f(0x707)]:JSON[_0x52e21f(0x4eb)](_0x359392,null,0x2))),null;}}async['findConversation'](_0x2d509a,_0x50bcde){const _0x4bc60a=a0_0x34238b;try{let _0x5b0cc1=!!_0x50bcde[_0x4bc60a(0x808)],_0x94c0f8=_0x50bcde['quoted'],_0xa2344c=null;if(this[_0x4bc60a(0x29f)]['verbose'](this['instanceName']+'\x20('+this[_0x4bc60a(0x367)][_0x4bc60a(0x18e)]+'):\x20isVote:\x20'+_0x5b0cc1+_0x4bc60a(0x393)+_0x94c0f8),_0x5b0cc1){this['logger']['verbose'](this[_0x4bc60a(0x185)]+'\x20('+this[_0x4bc60a(0x367)]['wuid']+_0x4bc60a(0x788));let _0x18f6be={'where':{'remoteJid':_0x2d509a,'waitingMenu_id':_0x94c0f8}};if(_0xa2344c=await this['repository'][_0x4bc60a(0x26d)][_0x4bc60a(0x6cc)](_0x18f6be,this['instance'][_0x4bc60a(0x18e)]),!_0xa2344c)return this[_0x4bc60a(0x29f)]['verbose'](this[_0x4bc60a(0x185)]+'\x20('+this[_0x4bc60a(0x367)][_0x4bc60a(0x18e)]+_0x4bc60a(0x68f)),null;let _0xe99db0=Date[_0x4bc60a(0x433)](),_0x18b198=_0xa2344c?.[_0x4bc60a(0x793)]||0x0,_0x512e34=_0xe99db0-_0x18b198*0x3c*0x3e8;if(_0xa2344c[_0x4bc60a(0x5cf)]<_0x512e34){this[_0x4bc60a(0x29f)]['verbose'](this[_0x4bc60a(0x185)]+'\x20('+this[_0x4bc60a(0x367)][_0x4bc60a(0x18e)]+_0x4bc60a(0x25e));let _0x21e7d1={'number':_0xa2344c[_0x4bc60a(0x484)],'options':{'delay':0x0},'textMessage':{'text':_0xa2344c[_0x4bc60a(0x1d6)]}};await this[_0x4bc60a(0x4ff)](_0x21e7d1);let _0x47de05={'status':_0x4bc60a(0x69a),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x4bc60a(0x4f1)]['flowConversation'][_0x4bc60a(0x53d)](_0xa2344c[_0x4bc60a(0x45c)],_0x47de05,this[_0x4bc60a(0x367)][_0x4bc60a(0x18e)]),null;}return _0xa2344c['lastInteraction']=Date[_0x4bc60a(0x433)](),_0xa2344c[_0x4bc60a(0x270)][_0x4bc60a(0x821)]=_0x50bcde,_0xa2344c;}else{this['logger'][_0x4bc60a(0x2da)](this[_0x4bc60a(0x185)]+'\x20('+this[_0x4bc60a(0x367)][_0x4bc60a(0x18e)]+_0x4bc60a(0x1db)+this[_0x4bc60a(0x367)][_0x4bc60a(0x18e)]+_0x4bc60a(0x5a3)),this['logger'][_0x4bc60a(0x2da)](this['instanceName']+'\x20('+this[_0x4bc60a(0x367)]['wuid']+_0x4bc60a(0x3a1));let _0x206d97={'where':{'remoteJid':_0x2d509a,'status':_0x4bc60a(0x6c4)}};if(_0xa2344c=await this[_0x4bc60a(0x4f1)][_0x4bc60a(0x26d)]['findOne'](_0x206d97,this[_0x4bc60a(0x367)][_0x4bc60a(0x18e)]),!_0xa2344c){let _0x1a39a4=await this['findFlow'](_0x2d509a);if(_0x1a39a4&&(_0xa2344c=await this[_0x4bc60a(0x80a)](_0x1a39a4,_0x50bcde[_0x4bc60a(0x332)],_0x50bcde)),!_0xa2344c)return null;}let _0x428c8f=Date[_0x4bc60a(0x433)](),_0x14958d=_0xa2344c?.['minutesToClose']||0x0,_0x39d19e=_0x428c8f-_0x14958d*0x3c*0x3e8;if(this['logger'][_0x4bc60a(0x2da)](this[_0x4bc60a(0x185)]+'\x20('+this[_0x4bc60a(0x367)][_0x4bc60a(0x18e)]+_0x4bc60a(0x720)+_0x428c8f+_0x4bc60a(0x703)+_0x14958d+_0x4bc60a(0x61f)+_0x39d19e),this[_0x4bc60a(0x29f)]['verbose'](this[_0x4bc60a(0x185)]+'\x20('+this[_0x4bc60a(0x367)][_0x4bc60a(0x18e)]+_0x4bc60a(0x189)),this['logger'][_0x4bc60a(0x2da)](this['instanceName']+'\x20('+this[_0x4bc60a(0x367)][_0x4bc60a(0x18e)]+_0x4bc60a(0x307)+_0xa2344c[_0x4bc60a(0x5cf)]),this[_0x4bc60a(0x29f)][_0x4bc60a(0x2da)](this['instanceName']+'\x20('+this[_0x4bc60a(0x367)]['wuid']+_0x4bc60a(0x1ab)+_0x39d19e),_0xa2344c['lastInteraction']<_0x39d19e){this['logger'][_0x4bc60a(0x2da)](this[_0x4bc60a(0x185)]+'\x20('+this['instance'][_0x4bc60a(0x18e)]+_0x4bc60a(0x1b7));let _0x5a9f1c=await this[_0x4bc60a(0x44d)](_0x2d509a);if(_0x5a9f1c===null)return null;_0xa2344c&&await this['repository']['flowConversation']['updateOne'](_0xa2344c[_0x4bc60a(0x45c)],{'status':_0x4bc60a(0x69a)},this['instance'][_0x4bc60a(0x18e)]),_0xa2344c=await this[_0x4bc60a(0x80a)](_0x5a9f1c,_0x50bcde[_0x4bc60a(0x332)],_0x50bcde);}return _0xa2344c[_0x4bc60a(0x5cf)]=_0x428c8f,_0xa2344c[_0x4bc60a(0x270)][_0x4bc60a(0x821)]=_0x50bcde,_0xa2344c;}}catch(_0xfcae8b){return this['logger'][_0x4bc60a(0x62f)](this['instanceName']+'\x20('+this['instance'][_0x4bc60a(0x18e)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0xfcae8b instanceof Error?_0xfcae8b[_0x4bc60a(0x707)]:JSON[_0x4bc60a(0x4eb)](_0xfcae8b,null,0x2))),null;}}async[a0_0x34238b(0x80a)](_0x28aadc,_0xf26a5e,_0x262827){const _0x2303a1=a0_0x34238b;this[_0x2303a1(0x29f)]['verbose'](this[_0x2303a1(0x185)]+'\x20('+this[_0x2303a1(0x367)][_0x2303a1(0x18e)]+_0x2303a1(0x5a7));try{let _0x6789be=require(_0x2303a1(0x228))[_0x2303a1(0x15e)],_0x5c395e=Date['now'](),_0x107976=_0x2303a1(0x838),_0x4fc25a=_0xf26a5e[_0x2303a1(0x600)]?null:_0x262827,_0x391123=_0xf26a5e['fromMe']?_0x262827:null,_0x28be32=_0xf26a5e[_0x2303a1(0x484)];await this['closeExistingConversations'](_0x28be32);let _0x549425={..._0x28aadc,'chatLog':null},_0x3b4d59=await this[_0x2303a1(0x1fe)](_0x549425['variables']),_0x338226=await this[_0x2303a1(0x498)](_0x28be32),_0x3f38f7={..._0x3b4d59,..._0x338226,'_remoteJid':_0x28be32},_0x205f7a={'lastReceivedMessage':_0x4fc25a,'lastSendMessage':_0x391123,'lastBlockId':_0x107976,'lastCondition':!0x0,'realVariables':_0x3f38f7};_0x549425[_0x2303a1(0x270)]=_0x205f7a,delete _0x549425[_0x2303a1(0x45c)],_0x549425[_0x2303a1(0x45c)]=new _0x6789be(),_0x549425[_0x2303a1(0x5cf)]=_0x5c395e,_0x549425[_0x2303a1(0x7b4)]='open',_0x549425['remoteJid']=_0x28be32;let _0x228c80=await this['repository'][_0x2303a1(0x26d)][_0x2303a1(0x53d)](_0x549425[_0x2303a1(0x45c)],_0x549425,this[_0x2303a1(0x367)]['wuid']);return this['logger'][_0x2303a1(0x2da)](this['instanceName']+'\x20('+this['instance'][_0x2303a1(0x18e)]+_0x2303a1(0x1e9)),_0x228c80?_0x549425:null;}catch(_0x33a233){return this[_0x2303a1(0x29f)][_0x2303a1(0x62f)](this[_0x2303a1(0x185)]+'\x20('+this[_0x2303a1(0x367)][_0x2303a1(0x18e)]+_0x2303a1(0x594)+(_0x33a233 instanceof Error?_0x33a233[_0x2303a1(0x707)]:JSON[_0x2303a1(0x4eb)](_0x33a233,null,0x2))),_0x33a233;}}async[a0_0x34238b(0x704)](_0x2e9111,_0x4965dd){const _0x5790db=a0_0x34238b;let _0x5b6c92=_0x2e9111['remoteJid'];_0x4965dd[_0x5790db(0x7d2)]['remoteJid']&&_0x4965dd[_0x5790db(0x7d2)][_0x5790db(0x484)]['trim']()!==''&&(_0x5b6c92=_0x4965dd[_0x5790db(0x7d2)][_0x5790db(0x484)][_0x5790db(0x22d)]()),this[_0x5790db(0x29f)][_0x5790db(0x2da)](this['instanceName']+'\x20('+this[_0x5790db(0x367)][_0x5790db(0x18e)]+'):\x20Enviando\x20texto');let _0x2a054b={'number':_0x5b6c92,'options':{'delay':_0x4965dd[_0x5790db(0x7d2)][_0x5790db(0x1dc)],'linkPreview':_0x4965dd[_0x5790db(0x7d2)][_0x5790db(0x66b)]},'textMessage':{'text':_0x4965dd[_0x5790db(0x7d2)][_0x5790db(0x295)]}};try{let _0x2e7f27=await this[_0x5790db(0x4ff)](_0x2a054b);if(_0x2e7f27){let _0x195ff1={'_id':_0x2e7f27[_0x5790db(0x332)]['id'],'_fromMe':_0x2e7f27[_0x5790db(0x332)][_0x5790db(0x600)],'_remoteJid':_0x2e7f27['key']['remoteJid']},_0x3e2836=(0x0,w[_0x5790db(0x533)])(_0x2e7f27[_0x5790db(0x707)]),_0x2ae293=(0x0,w['getContentType'])(_0x3e2836);_0x2e9111[_0x5790db(0x270)][_0x5790db(0x705)]=_0x4965dd[_0x5790db(0x45c)][_0x5790db(0x513)]();let {message_normalized:_0x44abf4}=this[_0x5790db(0x33f)](_0x3e2836,_0x2ae293,null);_0x2e9111[_0x5790db(0x270)][_0x5790db(0x515)]=await _0x44abf4;let _0x5b665a={'messageId':_0x2e7f27[_0x5790db(0x332)]['id']},_0x2bc33c=_0x2e9111[_0x5790db(0x270)][_0x5790db(0x334)];Object[_0x5790db(0x752)](_0x2bc33c,_0x195ff1),_0x2e9111[_0x5790db(0x270)][_0x5790db(0x334)]=_0x2bc33c,this[_0x5790db(0x153)](_0x2e9111,_0x4965dd,_0x5b665a);}else{let _0x29295a={'error':!0x0};this[_0x5790db(0x153)](_0x2e9111,_0x4965dd,_0x29295a),this[_0x5790db(0x29f)][_0x5790db(0x62f)](this['instanceName']+'\x20('+this[_0x5790db(0x367)][_0x5790db(0x18e)]+_0x5790db(0x1fa));}}catch(_0x3f3676){let _0x3d665a={'error':!0x0,'errorLog':_0x3f3676[_0x5790db(0x513)]()};this[_0x5790db(0x153)](_0x2e9111,_0x4965dd,_0x3d665a),this[_0x5790db(0x29f)][_0x5790db(0x62f)](this['instanceName']+'\x20('+this[_0x5790db(0x367)]['wuid']+_0x5790db(0x426)+(_0x3f3676 instanceof Error?_0x3f3676['message']:JSON['stringify'](_0x3f3676,null,0x2)));}}async[a0_0x34238b(0x58d)](_0x1cb80c,_0x225913){const _0x313442=a0_0x34238b;let _0x76d10d=_0x1cb80c[_0x313442(0x484)];_0x225913[_0x313442(0x7d2)][_0x313442(0x484)]&&_0x225913[_0x313442(0x7d2)][_0x313442(0x484)]['trim']()!==''&&(_0x76d10d=_0x225913[_0x313442(0x7d2)]['remoteJid']['trim']()),this[_0x313442(0x29f)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x313442(0x18e)]+'):\x20Enviando\x20mídia');let _0x382eb2={'number':_0x76d10d,'options':{'delay':_0x225913['uazapi'][_0x313442(0x1dc)],'linkPreview':_0x225913[_0x313442(0x7d2)][_0x313442(0x66b)]},'mediaMessage':{'mediatype':_0x225913[_0x313442(0x7d2)][_0x313442(0x5f7)],'caption':_0x225913['uazapi']['caption'],'media':_0x225913[_0x313442(0x7d2)][_0x313442(0x7fa)],'fileName':_0x225913[_0x313442(0x7d2)][_0x313442(0x62a)]}};try{let _0x535692=await this['mediaMessage'](_0x382eb2);if(_0x535692){let _0x39a901={'_id':_0x535692[_0x313442(0x332)]['id'],'_fromMe':_0x535692['key'][_0x313442(0x600)],'_remoteJid':_0x535692[_0x313442(0x332)]['remoteJid']},_0x103319=(0x0,w[_0x313442(0x533)])(_0x535692[_0x313442(0x707)]),_0x338d2e=(0x0,w[_0x313442(0x3d7)])(_0x103319);_0x1cb80c['chatLog'][_0x313442(0x705)]=_0x225913[_0x313442(0x45c)]['toString']();let {message_normalized:_0x46e9c6}=this[_0x313442(0x33f)](_0x103319,_0x338d2e,null);_0x1cb80c[_0x313442(0x270)][_0x313442(0x515)]=await _0x46e9c6;let _0x5a9ad3={'messageId':_0x535692['key']['id']},_0x46c440=_0x1cb80c[_0x313442(0x270)][_0x313442(0x334)];Object[_0x313442(0x752)](_0x46c440,_0x39a901),_0x1cb80c['chatLog'][_0x313442(0x334)]=_0x46c440,this[_0x313442(0x153)](_0x1cb80c,_0x225913,_0x5a9ad3);}else{let _0x29c0a4={'error':!0x0};this[_0x313442(0x153)](_0x1cb80c,_0x225913,_0x29c0a4),this['logger']['error'](this['instanceName']+'\x20('+this[_0x313442(0x367)][_0x313442(0x18e)]+_0x313442(0x727));}}catch(_0x15e227){let _0x53fb21={'error':!0x0,'errorLog':_0x15e227[_0x313442(0x513)]()};this[_0x313442(0x153)](_0x1cb80c,_0x225913,_0x53fb21),this[_0x313442(0x29f)]['error'](this[_0x313442(0x185)]+'\x20('+this[_0x313442(0x367)][_0x313442(0x18e)]+_0x313442(0x21f)+(_0x15e227 instanceof Error?_0x15e227['message']:JSON[_0x313442(0x4eb)](_0x15e227,null,0x2)));}}async[a0_0x34238b(0x4b7)](_0x35950f,_0x539b5a){const _0x3b57ed=a0_0x34238b;let _0x25eac7=_0x35950f['remoteJid'];_0x539b5a['uazapi'][_0x3b57ed(0x484)]&&_0x539b5a[_0x3b57ed(0x7d2)][_0x3b57ed(0x484)]['trim']()!==''&&(_0x25eac7=_0x539b5a[_0x3b57ed(0x7d2)][_0x3b57ed(0x484)][_0x3b57ed(0x22d)]()),this[_0x3b57ed(0x29f)][_0x3b57ed(0x2da)](this['instanceName']+'\x20('+this['instance'][_0x3b57ed(0x18e)]+'):\x20Enviando\x20localização');let _0x1e686a={'number':_0x25eac7,'options':{'delay':_0x539b5a['uazapi'][_0x3b57ed(0x1dc)]},'locationMessage':{'name':_0x539b5a[_0x3b57ed(0x7d2)][_0x3b57ed(0x5f8)],'address':_0x539b5a['uazapi'][_0x3b57ed(0x1a3)],'latitude':_0x539b5a['uazapi'][_0x3b57ed(0x1dd)],'longitude':_0x539b5a[_0x3b57ed(0x7d2)][_0x3b57ed(0x61a)]}};try{let _0x2f962c=await this['locationMessage'](_0x1e686a);if(_0x2f962c){let _0x14e898={'_id':_0x2f962c[_0x3b57ed(0x332)]['id'],'_fromMe':_0x2f962c[_0x3b57ed(0x332)]['fromMe'],'_remoteJid':_0x2f962c[_0x3b57ed(0x332)]['remoteJid']},_0x24d61f=(0x0,w['normalizeMessageContent'])(_0x2f962c[_0x3b57ed(0x707)]),_0x12589a=(0x0,w['getContentType'])(_0x24d61f);_0x35950f[_0x3b57ed(0x270)][_0x3b57ed(0x705)]=_0x539b5a[_0x3b57ed(0x45c)][_0x3b57ed(0x513)]();let {message_normalized:_0x55516b}=this[_0x3b57ed(0x33f)](_0x24d61f,_0x12589a,null);_0x35950f[_0x3b57ed(0x270)][_0x3b57ed(0x515)]=await _0x55516b;let _0x1634b3={'messageId':_0x2f962c[_0x3b57ed(0x332)]['id']},_0xfb41d6=_0x35950f['chatLog'][_0x3b57ed(0x334)];Object['assign'](_0xfb41d6,_0x14e898),_0x35950f['chatLog'][_0x3b57ed(0x334)]=_0xfb41d6,this['updateConversation'](_0x35950f,_0x539b5a,_0x1634b3);}else{let _0x139d12={'error':!0x0};this[_0x3b57ed(0x153)](_0x35950f,_0x539b5a,_0x139d12),this['logger'][_0x3b57ed(0x62f)](this['instanceName']+'\x20('+this[_0x3b57ed(0x367)][_0x3b57ed(0x18e)]+_0x3b57ed(0x621));}}catch(_0x828222){let _0x21d6f5={'error':!0x0,'errorLog':_0x828222[_0x3b57ed(0x513)]()};this[_0x3b57ed(0x153)](_0x35950f,_0x539b5a,_0x21d6f5),this[_0x3b57ed(0x29f)][_0x3b57ed(0x62f)](this[_0x3b57ed(0x185)]+'\x20('+this['instance'][_0x3b57ed(0x18e)]+_0x3b57ed(0x303)+(_0x828222 instanceof Error?_0x828222[_0x3b57ed(0x707)]:JSON['stringify'](_0x828222,null,0x2)));}}async[a0_0x34238b(0x76a)](_0x27d52d,_0x2bd235){const _0x1dc98b=a0_0x34238b;let _0x27ce45=_0x27d52d[_0x1dc98b(0x484)];_0x2bd235['uazapi'][_0x1dc98b(0x484)]&&_0x2bd235['uazapi'][_0x1dc98b(0x484)][_0x1dc98b(0x22d)]()!==''&&(_0x27ce45=_0x2bd235[_0x1dc98b(0x7d2)]['remoteJid'][_0x1dc98b(0x22d)]()),this[_0x1dc98b(0x29f)][_0x1dc98b(0x2da)](this[_0x1dc98b(0x185)]+'\x20('+this[_0x1dc98b(0x367)][_0x1dc98b(0x18e)]+_0x1dc98b(0x45e));let _0x580612={'number':_0x27ce45,'options':{'delay':_0x2bd235[_0x1dc98b(0x7d2)][_0x1dc98b(0x1dc)]},'audioMessage':{'audio':_0x2bd235[_0x1dc98b(0x7d2)][_0x1dc98b(0x585)]}};try{let _0x1ada8d=await this[_0x1dc98b(0x674)](_0x580612);if(_0x1ada8d){let _0x6763b0={'_id':_0x1ada8d[_0x1dc98b(0x332)]['id'],'_fromMe':_0x1ada8d[_0x1dc98b(0x332)][_0x1dc98b(0x600)],'_remoteJid':_0x1ada8d[_0x1dc98b(0x332)][_0x1dc98b(0x484)]},_0x485016=(0x0,w[_0x1dc98b(0x533)])(_0x1ada8d[_0x1dc98b(0x707)]),_0x40e5aa=(0x0,w[_0x1dc98b(0x3d7)])(_0x485016);_0x27d52d[_0x1dc98b(0x270)][_0x1dc98b(0x705)]=_0x2bd235[_0x1dc98b(0x45c)][_0x1dc98b(0x513)]();let {message_normalized:_0x1107bc}=this['normalizeMessage'](_0x485016,_0x40e5aa,null);_0x27d52d[_0x1dc98b(0x270)][_0x1dc98b(0x515)]=await _0x1107bc;let _0x4ed497={'messageId':_0x1ada8d[_0x1dc98b(0x332)]['id']},_0x112ced=_0x27d52d[_0x1dc98b(0x270)]['realVariables'];Object[_0x1dc98b(0x752)](_0x112ced,_0x6763b0),_0x27d52d[_0x1dc98b(0x270)][_0x1dc98b(0x334)]=_0x112ced,this[_0x1dc98b(0x153)](_0x27d52d,_0x2bd235,_0x4ed497);}else{let _0x1efd72={'error':!0x0};this[_0x1dc98b(0x153)](_0x27d52d,_0x2bd235,_0x1efd72),this[_0x1dc98b(0x29f)][_0x1dc98b(0x62f)](this['instanceName']+'\x20('+this[_0x1dc98b(0x367)][_0x1dc98b(0x18e)]+_0x1dc98b(0x456));}}catch(_0x43b086){let _0x18b981={'error':!0x0,'errorLog':_0x43b086['toString']()};this[_0x1dc98b(0x153)](_0x27d52d,_0x2bd235,_0x18b981),this[_0x1dc98b(0x29f)][_0x1dc98b(0x62f)](this[_0x1dc98b(0x185)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x43b086 instanceof Error?_0x43b086['message']:JSON[_0x1dc98b(0x4eb)](_0x43b086,null,0x2)));}}async['uazapiSendContact'](_0x3798f4,_0x4ab26f){const _0x532ac0=a0_0x34238b;let _0x51ea08=_0x3798f4['remoteJid'];_0x4ab26f['uazapi'][_0x532ac0(0x484)]&&_0x4ab26f['uazapi'][_0x532ac0(0x484)]['trim']()!==''&&(_0x51ea08=_0x4ab26f[_0x532ac0(0x7d2)]['remoteJid'][_0x532ac0(0x22d)]()),this[_0x532ac0(0x29f)][_0x532ac0(0x2da)](this['instanceName']+'\x20('+this['instance'][_0x532ac0(0x18e)]+_0x532ac0(0x673));let _0xffc905={'number':_0x51ea08,'options':{'delay':_0x4ab26f[_0x532ac0(0x7d2)][_0x532ac0(0x1dc)]},'contactMessage':[{'fullName':_0x4ab26f['uazapi']['fullName'],'phoneNumber':_0x4ab26f['uazapi']['phoneNumber']}]};try{let _0x1caed9=await this[_0x532ac0(0x63a)](_0xffc905);if(_0x1caed9){let _0x191c04={'_id':_0x1caed9[_0x532ac0(0x332)]['id'],'_fromMe':_0x1caed9[_0x532ac0(0x332)]['fromMe'],'_remoteJid':_0x1caed9[_0x532ac0(0x332)][_0x532ac0(0x484)]},_0x111040=(0x0,w[_0x532ac0(0x533)])(_0x1caed9['message']),_0x5b9287=(0x0,w[_0x532ac0(0x3d7)])(_0x111040);_0x3798f4[_0x532ac0(0x270)][_0x532ac0(0x705)]=_0x4ab26f[_0x532ac0(0x45c)][_0x532ac0(0x513)]();let {message_normalized:_0x1a24f8}=this['normalizeMessage'](_0x111040,_0x5b9287,null);_0x3798f4[_0x532ac0(0x270)][_0x532ac0(0x515)]=await _0x1a24f8;let _0x9b482d={'messageId':_0x1caed9['key']['id']},_0x58a01e=_0x3798f4[_0x532ac0(0x270)][_0x532ac0(0x334)];Object[_0x532ac0(0x752)](_0x58a01e,_0x191c04),_0x3798f4['chatLog'][_0x532ac0(0x334)]=_0x58a01e,this[_0x532ac0(0x153)](_0x3798f4,_0x4ab26f,_0x9b482d);}else{let _0x29ced2={'error':!0x0};this[_0x532ac0(0x153)](_0x3798f4,_0x4ab26f,_0x29ced2),this[_0x532ac0(0x29f)][_0x532ac0(0x62f)](this[_0x532ac0(0x185)]+'\x20('+this[_0x532ac0(0x367)][_0x532ac0(0x18e)]+_0x532ac0(0x1f3));}}catch(_0xf3202a){let _0x3d1c98={'error':!0x0,'errorLog':_0xf3202a[_0x532ac0(0x513)]()};this[_0x532ac0(0x153)](_0x3798f4,_0x4ab26f,_0x3d1c98),this['logger'][_0x532ac0(0x62f)](this[_0x532ac0(0x185)]+'\x20('+this[_0x532ac0(0x367)]['wuid']+_0x532ac0(0x652)+(_0xf3202a instanceof Error?_0xf3202a[_0x532ac0(0x707)]:JSON[_0x532ac0(0x4eb)](_0xf3202a,null,0x2)));}}[a0_0x34238b(0x423)](_0x2f9876,_0x37588d){const _0x47e6aa=a0_0x34238b;for(let _0x1249a2 of _0x2f9876)_0x1249a2[_0x47e6aa(0x2c1)]&&(_0x1249a2[_0x47e6aa(0x2c1)]=this[_0x47e6aa(0x360)](_0x1249a2[_0x47e6aa(0x2c1)],_0x37588d)),_0x1249a2['optionDescription']&&(_0x1249a2[_0x47e6aa(0x4b0)]=this['replaceVariables'](_0x1249a2[_0x47e6aa(0x4b0)],_0x37588d));}async[a0_0x34238b(0x623)](_0x5c607c,_0x46936a){const _0x4cd120=a0_0x34238b;let _0xf6ac4f=_0x5c607c[_0x4cd120(0x484)];_0x46936a['uazapi'][_0x4cd120(0x484)]&&_0x46936a[_0x4cd120(0x7d2)][_0x4cd120(0x484)][_0x4cd120(0x22d)]()!==''&&(_0xf6ac4f=_0x46936a['uazapi'][_0x4cd120(0x484)]['trim']()),this[_0x4cd120(0x29f)]['verbose'](this['instanceName']+'\x20('+this[_0x4cd120(0x367)][_0x4cd120(0x18e)]+_0x4cd120(0x4e5));let _0x2abffe=_0x5c607c['replyOptions'][_0x4cd120(0x6f1)](_0x1ef732=>_0x1ef732[_0x4cd120(0x4bb)]===_0x46936a['_id'])[_0x4cd120(0x778)]((_0x2ceb57,_0x52e482)=>_0x2ceb57[_0x4cd120(0x490)]-_0x52e482[_0x4cd120(0x490)]);this['replaceVariablesInReplyOptions'](_0x2abffe,_0x5c607c[_0x4cd120(0x270)][_0x4cd120(0x334)]);let _0xfe2721=_0x2abffe[_0x4cd120(0x643)](_0xa400f=>_0xa400f[_0x4cd120(0x2c1)]),_0x432d84={'number':_0xf6ac4f,'menuMessage':{'type':_0x46936a[_0x4cd120(0x7d2)][_0x4cd120(0x3e1)]||_0x4cd120(0x35f),'text':_0x46936a[_0x4cd120(0x7d2)][_0x4cd120(0x295)]||_0x46936a[_0x4cd120(0x7d2)][_0x4cd120(0x5f8)],'footerText':_0x46936a[_0x4cd120(0x7d2)][_0x4cd120(0x552)],'buttonText':_0x46936a[_0x4cd120(0x7d2)][_0x4cd120(0x4d7)],'selectableCount':0x1,'choices':_0xfe2721},'options':{'delay':_0x46936a[_0x4cd120(0x7d2)][_0x4cd120(0x1dc)]}};try{let _0x44aac6=await this['menuMessage'](_0x432d84);if(_0x44aac6){let _0x1748a1={'_id':_0x44aac6[_0x4cd120(0x332)]['id'],'_fromMe':_0x44aac6[_0x4cd120(0x332)][_0x4cd120(0x600)],'_remoteJid':_0x44aac6[_0x4cd120(0x332)][_0x4cd120(0x484)]};_0x46936a[_0x4cd120(0x7d2)]['menuIgnoreNonVotes']===!0x0&&(_0x5c607c['status']=_0x4cd120(0x29e),this[_0x4cd120(0x29f)][_0x4cd120(0x2da)](this['instanceName']+'\x20('+this[_0x4cd120(0x367)]['wuid']+_0x4cd120(0x724)+_0x5c607c['status'])),this['logger'][_0x4cd120(0x2da)](this[_0x4cd120(0x185)]+'\x20('+this['instance'][_0x4cd120(0x18e)]+'):\x20nextBlock.uazapi.name'+(_0x46936a[_0x4cd120(0x7d2)][_0x4cd120(0x5f8)]||_0x46936a[_0x4cd120(0x7d2)][_0x4cd120(0x295)])),_0x5c607c['waitingMenu_id']=_0x44aac6['key']['id'],_0x5c607c[_0x4cd120(0x1b8)]=_0x46936a['uazapi']['name']||_0x46936a[_0x4cd120(0x7d2)][_0x4cd120(0x295)],_0x5c607c[_0x4cd120(0x16e)]=_0x2abffe,_0x46936a[_0x4cd120(0x7d2)][_0x4cd120(0x4b9)]&&(_0x5c607c[_0x4cd120(0x1d6)]=_0x46936a[_0x4cd120(0x7d2)][_0x4cd120(0x4b9)]),this['logger'][_0x4cd120(0x2da)](this[_0x4cd120(0x185)]+'\x20('+this[_0x4cd120(0x367)][_0x4cd120(0x18e)]+_0x4cd120(0x439)+_0x5c607c[_0x4cd120(0x1b8)]);let _0xf89ba6=(0x0,w[_0x4cd120(0x533)])(_0x44aac6[_0x4cd120(0x707)]),_0x389bbd=(0x0,w[_0x4cd120(0x3d7)])(_0xf89ba6);_0x5c607c[_0x4cd120(0x270)]['lastBlockId']=_0x46936a[_0x4cd120(0x45c)][_0x4cd120(0x513)]();let {message_normalized:_0x468ad6}=this['normalizeMessage'](_0xf89ba6,_0x389bbd,null);_0x5c607c[_0x4cd120(0x270)][_0x4cd120(0x515)]=await _0x468ad6;let _0x31d64e={'messageId':_0x44aac6[_0x4cd120(0x332)]['id']},_0x371142=_0x5c607c[_0x4cd120(0x270)]['realVariables'];Object[_0x4cd120(0x752)](_0x371142,_0x1748a1),_0x5c607c[_0x4cd120(0x270)]['realVariables']=_0x371142,this[_0x4cd120(0x153)](_0x5c607c,_0x46936a,_0x31d64e);}else{let _0x142924={'error':!0x0};this[_0x4cd120(0x153)](_0x5c607c,_0x46936a,_0x142924),this[_0x4cd120(0x29f)][_0x4cd120(0x62f)](this[_0x4cd120(0x185)]+'\x20('+this[_0x4cd120(0x367)]['wuid']+_0x4cd120(0x31c));}}catch(_0x3e8575){let _0x4aaae3={'error':!0x0,'errorLog':_0x3e8575 instanceof Error?_0x3e8575[_0x4cd120(0x707)]:JSON[_0x4cd120(0x4eb)](_0x3e8575,null,0x2)};this[_0x4cd120(0x153)](_0x5c607c,_0x46936a,_0x4aaae3),this['logger'][_0x4cd120(0x62f)](this[_0x4cd120(0x185)]+'\x20('+this[_0x4cd120(0x367)][_0x4cd120(0x18e)]+_0x4cd120(0x453)+(_0x3e8575 instanceof Error?_0x3e8575[_0x4cd120(0x707)]:JSON[_0x4cd120(0x4eb)](_0x3e8575,null,0x2)));}}async[a0_0x34238b(0x268)](_0x25d846,_0x3275e5){const _0x57eb8e=a0_0x34238b;this[_0x57eb8e(0x29f)][_0x57eb8e(0x2da)](this['instanceName']+'\x20('+this[_0x57eb8e(0x367)][_0x57eb8e(0x18e)]+'):\x20Deletando\x20mensagem');let _0x236b33=_0x25d846[_0x57eb8e(0x270)]['blockLogs'][_0x57eb8e(0x802)](_0x5d63eb=>_0x5d63eb['blockId']['toString']()===_0x3275e5[_0x57eb8e(0x7d2)][_0x57eb8e(0x4bb)][_0x57eb8e(0x513)]()),_0x58388f={'id':_0x236b33[_0x57eb8e(0x3cb)],'remoteJid':_0x236b33[_0x57eb8e(0x484)],'fromMe':_0x236b33['fromMe']};try{let _0x549c4e=await this[_0x57eb8e(0x6d9)](_0x58388f);if(_0x549c4e){let _0x12cf6c=(0x0,w[_0x57eb8e(0x533)])(_0x549c4e[_0x57eb8e(0x707)]),_0x179939=(0x0,w[_0x57eb8e(0x3d7)])(_0x12cf6c);_0x25d846[_0x57eb8e(0x270)][_0x57eb8e(0x705)]=_0x3275e5['_id']['toString']();let {message_normalized:_0x277e49}=this['normalizeMessage'](_0x12cf6c,_0x179939,null);_0x25d846[_0x57eb8e(0x270)][_0x57eb8e(0x515)]=await _0x277e49;let _0xd8f270={};this[_0x57eb8e(0x153)](_0x25d846,_0x3275e5,_0xd8f270);}else{let _0x2c1354={'error':!0x0};this[_0x57eb8e(0x153)](_0x25d846,_0x3275e5,_0x2c1354),this[_0x57eb8e(0x29f)][_0x57eb8e(0x62f)](this[_0x57eb8e(0x185)]+'\x20('+this[_0x57eb8e(0x367)][_0x57eb8e(0x18e)]+_0x57eb8e(0x7bd));}}catch(_0xc8a655){let _0x50e557={'error':!0x0,'errorLog':_0xc8a655 instanceof Error?_0xc8a655[_0x57eb8e(0x707)]:JSON[_0x57eb8e(0x4eb)](_0xc8a655,null,0x2)};this['updateConversation'](_0x25d846,_0x3275e5,_0x50e557),this[_0x57eb8e(0x29f)]['error'](this['instanceName']+'\x20('+this[_0x57eb8e(0x367)][_0x57eb8e(0x18e)]+_0x57eb8e(0x37c)+(_0xc8a655 instanceof Error?_0xc8a655[_0x57eb8e(0x707)]:JSON[_0x57eb8e(0x4eb)](_0xc8a655,null,0x2)));}}async[a0_0x34238b(0x825)](_0x4fd17f,_0xc99e0b){const _0x4f8e75=a0_0x34238b;if(!_0x4fd17f[_0x4f8e75(0x5f8)])throw new m(_0x4f8e75(0x482));let _0x2cd05f=_0x4fd17f?.[_0x4f8e75(0x2fd)]?.[_0x4f8e75(0x22d)]()==='true'?_0x4f8e75(0x2fd):this['instance']['wuid'],_0x187233=await this['repository'][_0x4f8e75(0x798)][_0x4f8e75(0x6cc)]({'where':{'name':_0x4fd17f[_0x4f8e75(0x5f8)]}},_0x2cd05f);if(_0xc99e0b!==ee&&_0x4fd17f?.[_0x4f8e75(0x2fd)]===_0x4f8e75(0x2b1))throw new m(_0x4f8e75(0x814));if(_0x4fd17f?.['global']!=='true'&&(_0x4fd17f[_0x4f8e75(0x2fd)]='false'),_0x187233)throw new m(_0x4f8e75(0x56e));return _0x4f8e75(0x5f8)in _0x4fd17f&&_0x4f8e75(0x538)in _0x4fd17f&&_0x4f8e75(0x553)in _0x4fd17f?this[_0x4f8e75(0x30d)](_0x4fd17f[_0x4f8e75(0x553)],_0x4fd17f['sharePass'],_0x4fd17f[_0x4f8e75(0x5f8)]):this[_0x4f8e75(0x492)](_0x4fd17f);}async[a0_0x34238b(0x30d)](_0x4d414d,_0x29d0d2,_0x371ea1){const _0x3540e1=a0_0x34238b;try{this[_0x3540e1(0x29f)][_0x3540e1(0x2da)](this[_0x3540e1(0x185)]+'\x20('+this[_0x3540e1(0x367)][_0x3540e1(0x18e)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x4f91de=await this['repository'][_0x3540e1(0x798)][_0x3540e1(0x6cc)]({'where':{'sharePass':_0x29d0d2}},_0x4d414d);if(!_0x4f91de)throw new m(_0x3540e1(0x66e));let _0x20257c={..._0x4f91de},_0x14ae58=_0x4f91de[_0x3540e1(0x2fd)]===_0x3540e1(0x2b1)?'global':_0x4f91de[_0x3540e1(0x553)];return(_0x4d414d===_0x3540e1(0x2fd)||_0x4f91de[_0x3540e1(0x2fd)]===_0x3540e1(0x2b1))&&(_0x20257c[_0x3540e1(0x2fd)]=_0x3540e1(0x2db),_0x20257c[_0x3540e1(0x553)]='global'),_0x20257c[_0x3540e1(0x22c)]=Array[_0x3540e1(0x28d)](new Set([..._0x4f91de['shareOwners']||[],_0x14ae58,this['instance']['wuid']])),_0x4f91de[_0x3540e1(0x22c)]=_0x20257c[_0x3540e1(0x22c)],await this[_0x3540e1(0x4f1)][_0x3540e1(0x798)][_0x3540e1(0x53d)](_0x4f91de[_0x3540e1(0x45c)],{'shareOwners':_0x4f91de['shareOwners']},_0x14ae58),_0x4f91de['default']===!0x0&&await this[_0x3540e1(0x4f1)]['flow'][_0x3540e1(0x5a6)]({},{'default':!0x1},this[_0x3540e1(0x367)][_0x3540e1(0x18e)]),_0x20257c[_0x3540e1(0x553)]=this[_0x3540e1(0x367)][_0x3540e1(0x18e)],await this[_0x3540e1(0x4f1)][_0x3540e1(0x798)][_0x3540e1(0x35b)](_0x20257c,this[_0x3540e1(0x367)][_0x3540e1(0x18e)]);}catch(_0x518897){let _0x1a8a0f=_0x3540e1(0x7c8),_0x31faa2=_0x518897 instanceof Error?_0x518897[_0x3540e1(0x707)]:typeof _0x518897==_0x3540e1(0x410)?JSON[_0x3540e1(0x4eb)](_0x518897):_0x518897,_0x2b5c62=_0x1a8a0f+':\x20'+_0x31faa2;throw this['logger'][_0x3540e1(0x62f)](this[_0x3540e1(0x185)]+'\x20('+this['instance'][_0x3540e1(0x18e)]+'):\x20'+_0x2b5c62),new m(_0x2b5c62);}}async['createRegularFlow'](_0x57d615){const _0x43f502=a0_0x34238b;try{this['logger']['verbose'](this[_0x43f502(0x185)]+'\x20('+this['instance'][_0x43f502(0x18e)]+'):\x20Criando\x20fluxo\x20regular...');let _0x2f7d46=_0x57d615?.[_0x43f502(0x2fd)]===_0x43f502(0x2b1)?_0x43f502(0x2fd):this[_0x43f502(0x367)]['wuid'];delete _0x57d615[_0x43f502(0x22c)],delete _0x57d615[_0x43f502(0x538)],delete _0x57d615['owner'],_0x57d615['default']===!0x0&&await this['repository'][_0x43f502(0x798)][_0x43f502(0x5a6)]({},{'default':!0x1},this[_0x43f502(0x367)][_0x43f502(0x18e)]);let _0x15fb81=new oe[(_0x43f502(0x546))][(_0x43f502(0x15e))](),_0x3228a1={'_id':_0x15fb81,'default':!0x0,'title':_0x43f502(0x816),'x':0x0,'y':0x0},_0x3e50ab={'_id':new oe[(_0x43f502(0x546))][(_0x43f502(0x15e))](),'order':0x1,'groupId':_0x15fb81[_0x43f502(0x513)](),'type':'start'},_0x56bc03={'_id':new oe[(_0x43f502(0x546))]['ObjectId'](),'owner':this[_0x43f502(0x367)][_0x43f502(0x18e)],'name':_0x57d615[_0x43f502(0x5f8)],'groups':[_0x3228a1],'blocks':[_0x3e50ab],..._0x57d615};return await this['repository'][_0x43f502(0x798)]['createAndSave'](_0x56bc03,_0x2f7d46);}catch(_0x2278e7){let _0x41861f=_0x43f502(0x593),_0x54198c=_0x2278e7 instanceof Error?_0x2278e7[_0x43f502(0x707)]:typeof _0x2278e7==_0x43f502(0x410)?JSON['stringify'](_0x2278e7):_0x2278e7,_0x42221d=_0x41861f+':\x20'+_0x54198c;throw this[_0x43f502(0x29f)]['error'](this[_0x43f502(0x185)]+'\x20('+this['instance'][_0x43f502(0x18e)]+_0x43f502(0x1db)+_0x42221d),new m(_0x42221d);}}async[a0_0x34238b(0x160)](_0x2a3aea,_0x31e78a){const _0x22e800=a0_0x34238b;this[_0x22e800(0x29f)][_0x22e800(0x364)](_0x22e800(0x451));try{let _0x574aef=await this['repository'][_0x22e800(0x798)][_0x22e800(0x6cc)]({'where':{'_id':_0x2a3aea}},_0x31e78a);if(delete _0x574aef[_0x22e800(0x3fd)],delete _0x574aef[_0x22e800(0x238)],delete _0x574aef['testingWith'],delete _0x574aef[_0x22e800(0x793)],delete _0x574aef[_0x22e800(0x1cc)],_0x574aef[_0x22e800(0x2fd)]==='true'&&(_0x574aef['global']='sync'),_0x574aef&&_0x574aef['shareOwners']){for(let _0x4a24c1 of _0x574aef[_0x22e800(0x22c)])if(_0x4a24c1!==_0x31e78a){let _0x17461c={..._0x574aef,'owner':_0x4a24c1};await this[_0x22e800(0x4f1)][_0x22e800(0x798)][_0x22e800(0x4c2)](_0x574aef[_0x22e800(0x45c)],_0x17461c,_0x4a24c1);}}}catch(_0x294457){this[_0x22e800(0x29f)]['error']('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0x294457);}}async[a0_0x34238b(0x4ab)](_0x74f8f8,_0x572522){const _0x137f90=a0_0x34238b;try{this[_0x137f90(0x29f)][_0x137f90(0x2da)](this[_0x137f90(0x185)]+'\x20('+this[_0x137f90(0x367)]['wuid']+_0x137f90(0x558)+_0x74f8f8['name']+_0x137f90(0x3f9)+_0x74f8f8[_0x137f90(0x2fd)]);let _0x28763d=_0x74f8f8[_0x137f90(0x2fd)]===_0x137f90(0x2b1)?_0x137f90(0x2fd):this['instance']['wuid'],_0x3ff242=await this[_0x137f90(0x4f1)][_0x137f90(0x798)][_0x137f90(0x6cc)]({'where':{'name':_0x74f8f8[_0x137f90(0x5f8)]}},_0x28763d);if(!_0x3ff242)throw new m(_0x137f90(0x32d));if(_0x572522!==ee&&_0x3ff242?.[_0x137f90(0x2fd)]===_0x137f90(0x2b1)&&_0x3ff242?.[_0x137f90(0x553)]!==this[_0x137f90(0x367)]['wuid'])throw new m('Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global');if(_0x3ff242&&_0x3ff242[_0x137f90(0x22c)]&&_0x3ff242['shareOwners'][_0x137f90(0x6f5)]>0x0){for(let _0x654b61 of _0x3ff242['shareOwners'])if(_0x654b61!==_0x28763d){let _0x355323=await this['repository']['flow'][_0x137f90(0x6cc)]({'where':{'sharePass':_0x3ff242['sharePass']}},_0x654b61);if(_0x355323){_0x355323[_0x137f90(0x22c)]=_0x355323[_0x137f90(0x22c)]['filter'](_0x8e27c4=>_0x8e27c4!==_0x3ff242[_0x137f90(0x553)]);let _0x400e0b={'shareOwners':_0x355323['shareOwners']};_0x3ff242[_0x137f90(0x2fd)]==='true'&&(_0x400e0b[_0x137f90(0x2fd)]=_0x137f90(0x3c0)),await this[_0x137f90(0x4f1)][_0x137f90(0x798)][_0x137f90(0x53d)](_0x355323[_0x137f90(0x45c)],_0x400e0b,_0x654b61);}}}return await this[_0x137f90(0x4f1)][_0x137f90(0x798)][_0x137f90(0x1bd)]({'where':{'name':_0x74f8f8[_0x137f90(0x5f8)]}},_0x28763d);}catch(_0x40469b){return this[_0x137f90(0x29f)][_0x137f90(0x62f)](this[_0x137f90(0x185)]+'\x20('+this[_0x137f90(0x367)]['wuid']+_0x137f90(0x656)+(_0x40469b instanceof Error?_0x40469b['message']:JSON['stringify'](_0x40469b,null,0x2))),{'message':_0x137f90(0x7a9)+_0x40469b[_0x137f90(0x707)]};}}async[a0_0x34238b(0x18d)](_0x530960,_0x46d251){const _0x3d73f8=a0_0x34238b;try{this['logger'][_0x3d73f8(0x364)](this[_0x3d73f8(0x185)]+'\x20('+this[_0x3d73f8(0x367)][_0x3d73f8(0x18e)]+_0x3d73f8(0x6ee)+_0x530960+_0x3d73f8(0x352)+_0x46d251);let _0x92252c=_0x46d251?.[_0x3d73f8(0x22d)]()===_0x3d73f8(0x2b1)?_0x3d73f8(0x2fd):this[_0x3d73f8(0x367)][_0x3d73f8(0x18e)],_0x5959d0=await this['repository'][_0x3d73f8(0x798)][_0x3d73f8(0x6cc)]({'where':{'name':_0x530960}},_0x92252c);if(!_0x5959d0)throw new Error('Flow\x20não\x20encontrado');if(_0x5959d0[_0x3d73f8(0x174)]||(_0x5959d0[_0x3d73f8(0x174)]=(0x0,Me['v4'])()),!this[_0x3d73f8(0x7e1)]&&(await this['getAutomateSystem'](),!this[_0x3d73f8(0x7e1)]))return null;let _0x32698d=this[_0x3d73f8(0x7e1)]?.[_0x3d73f8(0x54e)][_0x3d73f8(0x643)](_0x9e9ac5=>_0x9e9ac5[_0x3d73f8(0x5f8)]),_0x1f5265=[_0x3d73f8(0x176),_0x3d73f8(0x2ce),_0x3d73f8(0x697),_0x3d73f8(0x7f0),_0x3d73f8(0x7b4),_0x3d73f8(0x20c),'responsavelid',_0x3d73f8(0x163),_0x3d73f8(0x4f6),_0x3d73f8(0x3bb),'atendimentoAberto'];_0x5959d0[_0x3d73f8(0x60d)]=_0x5959d0['variables']['filter'](_0x1c688e=>!(_0x1c688e[_0x3d73f8(0x614)]==='leadInfo'||_0x1c688e[_0x3d73f8(0x4dd)])),_0x1f5265[_0x3d73f8(0x44e)](_0x1915c3=>{const _0x2d401a=_0x3d73f8;_0x5959d0[_0x2d401a(0x60d)][_0x2d401a(0x57d)]({'folder':_0x2d401a(0x4dd),'name':_0x1915c3,'value':'','doc':'','leadInfo':!0x0});}),_0x32698d[_0x3d73f8(0x44e)](_0x2a66c2=>{const _0x272fa6=_0x3d73f8;let _0x56bb7e=_0x5959d0[_0x272fa6(0x60d)][_0x272fa6(0x3e5)](_0x2015a1=>_0x2015a1['name']===_0x2a66c2);_0x56bb7e===-0x1?_0x5959d0['variables'][_0x272fa6(0x57d)]({'folder':'leadInfo','name':_0x2a66c2,'value':'','doc':'','leadInfo':!0x0}):(_0x5959d0['variables'][_0x56bb7e][_0x272fa6(0x614)]=_0x272fa6(0x4dd),_0x5959d0[_0x272fa6(0x60d)][_0x56bb7e]['leadInfo']=!0x0);}),_0x5959d0[_0x3d73f8(0x3ea)]&&_0x5959d0[_0x3d73f8(0x3ea)][_0x3d73f8(0x6f5)]>0x0&&_0x5959d0[_0x3d73f8(0x3ea)][_0x3d73f8(0x44e)](_0x3483eb=>{const _0x383647=_0x3d73f8;_0x3483eb[_0x383647(0x5ac)]&&_0x3483eb['next_groupId']&&_0x3483eb[_0x383647(0x5ac)]===_0x3483eb['next_groupId']&&(_0x3483eb[_0x383647(0x6c1)]=null);});let _0x708f9a=await this['repository'][_0x3d73f8(0x798)]['updateOne'](_0x5959d0[_0x3d73f8(0x45c)],_0x5959d0,_0x92252c);if(!_0x708f9a)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x708f9a;}catch(_0xdf0bc7){let _0x566b96='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x46c67d=_0xdf0bc7 instanceof Error?_0xdf0bc7[_0x3d73f8(0x707)]:typeof _0xdf0bc7==_0x3d73f8(0x410)?JSON[_0x3d73f8(0x4eb)](_0xdf0bc7):_0xdf0bc7,_0x3e4b5c=_0x566b96+':\x20'+_0x46c67d;throw this['logger']['error'](this[_0x3d73f8(0x185)]+'\x20('+this['instance'][_0x3d73f8(0x18e)]+_0x3d73f8(0x1db)+_0x3e4b5c),new m(_0x3e4b5c);}}async['allFlows'](){const _0x305d08=a0_0x34238b;try{this[_0x305d08(0x29f)][_0x305d08(0x2da)](this[_0x305d08(0x185)]+'\x20('+this[_0x305d08(0x367)][_0x305d08(0x18e)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x305d08(0x4f1)][_0x305d08(0x798)][_0x305d08(0x26c)](this[_0x305d08(0x367)][_0x305d08(0x18e)]);let _0x2fe1a3=await this[_0x305d08(0x4f1)][_0x305d08(0x798)][_0x305d08(0x1f4)]({'where':{}},this[_0x305d08(0x367)][_0x305d08(0x18e)]),_0x320af7=await this[_0x305d08(0x4f1)][_0x305d08(0x798)][_0x305d08(0x1f4)]({'where':{}},_0x305d08(0x2fd));return _0x2fe1a3['concat'](_0x320af7);}catch(_0x34f823){return this[_0x305d08(0x29f)][_0x305d08(0x62f)](this['instanceName']+'\x20('+this[_0x305d08(0x367)][_0x305d08(0x18e)]+_0x305d08(0x6eb)+(_0x34f823 instanceof Error?_0x34f823['message']:JSON['stringify'](_0x34f823,null,0x2))),{'message':_0x305d08(0x6fe)+_0x34f823[_0x305d08(0x707)]};}}async['editFlow'](_0x105557,_0x7842ff){const _0x2aae64=a0_0x34238b;try{this[_0x2aae64(0x29f)][_0x2aae64(0x2da)](this[_0x2aae64(0x185)]+'\x20('+this[_0x2aae64(0x367)][_0x2aae64(0x18e)]+_0x2aae64(0x359));let _0x1ac4e1=_0x105557?.['global']?.[_0x2aae64(0x22d)]()===_0x2aae64(0x2b1)?_0x2aae64(0x2fd):this[_0x2aae64(0x367)][_0x2aae64(0x18e)],_0x5b6742=await this[_0x2aae64(0x4f1)]['flow'][_0x2aae64(0x6cc)]({'where':{'name':_0x105557[_0x2aae64(0x5f8)]}},_0x1ac4e1);if(!_0x5b6742)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x7842ff!==ee&&_0x5b6742?.[_0x2aae64(0x2fd)]===_0x2aae64(0x2b1)&&_0x5b6742?.[_0x2aae64(0x553)]!==this[_0x2aae64(0x367)][_0x2aae64(0x18e)])throw new m(_0x2aae64(0x787));_0x5b6742?.['global']===_0x2aae64(0x2db)&&(_0x105557={'default':_0x105557[_0x2aae64(0x3fd)],'minutesToClose':_0x105557[_0x2aae64(0x793)],'readMessages':_0x105557['readMessages'],'testingWith':_0x105557[_0x2aae64(0x210)],'startCommandWord':_0x105557[_0x2aae64(0x238)]}),_0x105557[_0x2aae64(0x3fd)]===!0x0&&_0x5b6742?.[_0x2aae64(0x2fd)]!==_0x2aae64(0x2b1)&&await this[_0x2aae64(0x4f1)][_0x2aae64(0x798)][_0x2aae64(0x5a6)]({},{'default':!0x1},_0x1ac4e1),delete _0x105557['shareOwners'],delete _0x105557[_0x2aae64(0x538)],delete _0x105557['global'];let _0x5e671e=await this[_0x2aae64(0x4f1)]['flow'][_0x2aae64(0x53d)](_0x5b6742[_0x2aae64(0x45c)],_0x105557,_0x1ac4e1);return _0x5e671e&&_0x5e671e[_0x2aae64(0x22c)]&&_0x5e671e['shareOwners']['length']>0x1&&_0x5e671e[_0x2aae64(0x2fd)]!==_0x2aae64(0x2db)&&this['synchronizeFlows'](_0x5e671e[_0x2aae64(0x45c)],_0x1ac4e1),_0x5e671e;}catch(_0x2d58ac){let _0x57f51b=_0x2aae64(0x2cc),_0x299909=_0x2d58ac instanceof Error?_0x2d58ac[_0x2aae64(0x707)]:typeof _0x2d58ac==_0x2aae64(0x410)?JSON['stringify'](_0x2d58ac):_0x2d58ac,_0x2b1983=_0x57f51b+':\x20'+_0x299909;throw this['logger']['error'](this[_0x2aae64(0x185)]+'\x20('+this[_0x2aae64(0x367)][_0x2aae64(0x18e)]+_0x2aae64(0x1db)+_0x2b1983),new m(_0x2b1983);}}async['editFlowBlock'](_0xbf0416,_0x2b61f1){const _0x4677df=a0_0x34238b;try{this[_0x4677df(0x29f)][_0x4677df(0x2da)](this[_0x4677df(0x185)]+'\x20('+this[_0x4677df(0x367)][_0x4677df(0x18e)]+_0x4677df(0x5e7));let _0x553dbe=_0xbf0416?.[_0x4677df(0x2fd)]?.[_0x4677df(0x22d)]()===_0x4677df(0x2b1)?_0x4677df(0x2fd):this[_0x4677df(0x367)][_0x4677df(0x18e)],_0x17f80c=await this[_0x4677df(0x4f1)][_0x4677df(0x798)][_0x4677df(0x6cc)]({'where':{'name':_0xbf0416[_0x4677df(0x5f8)]}},_0x553dbe);if(_0x17f80c||this['throwAndLogError'](_0x4677df(0x4db)),_0x17f80c?.[_0x4677df(0x2fd)]===_0x4677df(0x2db))throw new m(_0x4677df(0x374));if(_0x2b61f1!==ee&&_0x17f80c?.[_0x4677df(0x2fd)]===_0x4677df(0x2b1)&&_0x17f80c?.[_0x4677df(0x553)]!==this['instance'][_0x4677df(0x18e)])throw new m(_0x4677df(0x787));let {block:_0x5860a9}=_0xbf0416;_0x5860a9?.['copy']?this[_0x4677df(0x24f)](_0x17f80c,_0xbf0416):_0x5860a9?.[_0x4677df(0x253)]?this[_0x4677df(0x335)](_0x17f80c,_0xbf0416):_0x5860a9['_id']?await this[_0x4677df(0x68e)](_0x17f80c,_0xbf0416):this['addBlock'](_0x17f80c,_0xbf0416);let _0x3b761f=await this[_0x4677df(0x4f1)][_0x4677df(0x798)][_0x4677df(0x53d)](_0x17f80c['_id'],_0x17f80c,_0x553dbe);if(_0x3b761f&&_0x3b761f['shareOwners']&&_0x3b761f[_0x4677df(0x22c)][_0x4677df(0x6f5)]>0x1&&this[_0x4677df(0x160)](_0x3b761f[_0x4677df(0x45c)],this[_0x4677df(0x367)][_0x4677df(0x18e)]),!_0x3b761f)throw new Error(_0x4677df(0x42d));return _0x3b761f;}catch(_0x14a1f4){this[_0x4677df(0x7f5)](_0x4677df(0x527)+_0x14a1f4[_0x4677df(0x707)]);}}async[a0_0x34238b(0x24f)](_0xeea56,_0x5205df){const _0x120c15=a0_0x34238b;let _0x261378=_0x5205df[_0x120c15(0x212)]['_id'],_0x28a5ee=_0xeea56['blocks'][_0x120c15(0x802)](_0x225b82=>_0x225b82[_0x120c15(0x45c)][_0x120c15(0x513)]()===_0x261378);if(!_0x28a5ee){this['logger'][_0x120c15(0x62f)](this[_0x120c15(0x185)]+'\x20('+this['instance'][_0x120c15(0x18e)]+_0x120c15(0x4cd)+_0x261378+_0x120c15(0x1f0));return;}this[_0x120c15(0x29f)]['verbose'](this[_0x120c15(0x185)]+'\x20('+this[_0x120c15(0x367)][_0x120c15(0x18e)]+_0x120c15(0x776)+JSON[_0x120c15(0x4eb)](_0x28a5ee));let _0x5ab3b7=JSON[_0x120c15(0x3fb)](JSON[_0x120c15(0x4eb)](_0x28a5ee));_0x5ab3b7[_0x120c15(0x45c)]=new oe[(_0x120c15(0x3fd))]['Types'][(_0x120c15(0x15e))](),this[_0x120c15(0x29f)][_0x120c15(0x2da)](this[_0x120c15(0x185)]+'\x20('+this[_0x120c15(0x367)][_0x120c15(0x18e)]+_0x120c15(0x365)+JSON['stringify'](_0x5ab3b7)),_0xeea56['blocks'][_0x120c15(0x57d)](_0x5ab3b7),this[_0x120c15(0x671)](_0xeea56[_0x120c15(0x3ea)],_0x5ab3b7['groupId']);}[a0_0x34238b(0x7f5)](_0x291f76){const _0x39ec72=a0_0x34238b;throw this[_0x39ec72(0x29f)][_0x39ec72(0x62f)](this[_0x39ec72(0x185)]+'\x20('+this[_0x39ec72(0x367)][_0x39ec72(0x18e)]+_0x39ec72(0x1db)+_0x291f76),new m(_0x291f76);}['deleteBlock'](_0x2b7b1f,_0x27a631){const _0x508ede=a0_0x34238b;let {block:_0x2e3c68}=_0x27a631;if(_0x2e3c68['type']===_0x508ede(0x838)){this[_0x508ede(0x7f5)](_0x508ede(0x616));return;}if(!_0x2e3c68['_id']){this[_0x508ede(0x7f5)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0xf99f6e=_0x2b7b1f['blocks']['find'](_0x2370f3=>_0x2370f3['_id'][_0x508ede(0x513)]()===_0x27a631[_0x508ede(0x212)][_0x508ede(0x45c)][_0x508ede(0x513)]());if(!_0xf99f6e){this[_0x508ede(0x7f5)](_0x508ede(0x3bc)+_0x2e3c68[_0x508ede(0x45c)]+'\x20não\x20encontrado');return;}_0x2b7b1f['blocks']=_0x2b7b1f[_0x508ede(0x3ea)][_0x508ede(0x6f1)](_0x43ede2=>_0x43ede2[_0x508ede(0x45c)]['toString']()!==_0x27a631[_0x508ede(0x212)][_0x508ede(0x45c)][_0x508ede(0x513)]()),_0x2b7b1f['conditions']=_0x2b7b1f[_0x508ede(0x63c)][_0x508ede(0x6f1)](_0x101576=>_0x101576[_0x508ede(0x4bb)]!==_0x2e3c68[_0x508ede(0x45c)][_0x508ede(0x513)]()),_0x2b7b1f[_0x508ede(0x7a5)]=_0x2b7b1f[_0x508ede(0x7a5)][_0x508ede(0x6f1)](_0x562125=>_0x562125[_0x508ede(0x4bb)]!==_0x2e3c68['_id'][_0x508ede(0x513)]()),_0x2b7b1f[_0x508ede(0x6c0)]=_0x2b7b1f['replyOptions'][_0x508ede(0x6f1)](_0x5999b0=>_0x5999b0[_0x508ede(0x4bb)]!==_0x2e3c68[_0x508ede(0x45c)]['toString']()),this[_0x508ede(0x671)](_0x2b7b1f[_0x508ede(0x3ea)],_0xf99f6e['groupId']);}async[a0_0x34238b(0x68e)](_0x15403d,_0x29453f){const _0x27dba9=a0_0x34238b;let _0x1151e=_0x15403d[_0x27dba9(0x3ea)][_0x27dba9(0x3e5)](_0x2dd6d3=>_0x2dd6d3[_0x27dba9(0x45c)][_0x27dba9(0x513)]()===_0x29453f[_0x27dba9(0x212)][_0x27dba9(0x45c)]['toString']());if(this[_0x27dba9(0x29f)][_0x27dba9(0x2da)](this['instanceName']+'\x20('+this[_0x27dba9(0x367)][_0x27dba9(0x18e)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x1151e),_0x1151e===-0x1){this[_0x27dba9(0x29f)][_0x27dba9(0x2da)](_0x27dba9(0x3bc)+_0x29453f[_0x27dba9(0x212)]['_id']+_0x27dba9(0x2a0));return;}if(_0x15403d['blocks'][_0x1151e]['type']==='start'){let _0x4c0273=Object[_0x27dba9(0x58c)](_0x29453f[_0x27dba9(0x212)]);if(_0x4c0273[_0x27dba9(0x6f5)]>0x2||_0x4c0273[_0x27dba9(0x6f5)]===0x2&&!_0x4c0273['includes'](_0x27dba9(0x6c1))){this[_0x27dba9(0x7f5)](_0x27dba9(0x3a7));return;}}let _0x15dca2=_0x15403d['blocks'][_0x1151e][_0x27dba9(0x5ac)];for(let _0x562bde in _0x29453f[_0x27dba9(0x212)])_0x29453f[_0x27dba9(0x212)][_0x27dba9(0x512)](_0x562bde)&&(_0x15403d[_0x27dba9(0x3ea)][_0x1151e][_0x562bde]=_0x29453f['block'][_0x562bde]);if(this[_0x27dba9(0x29f)]['verbose'](this['instanceName']+'\x20('+this[_0x27dba9(0x367)][_0x27dba9(0x18e)]+_0x27dba9(0x3d4)+JSON['stringify'](_0x15403d[_0x27dba9(0x3ea)][_0x1151e])),_0x15403d[_0x27dba9(0x3ea)][_0x1151e][_0x27dba9(0x324)]&&_0x27dba9(0x297)in _0x15403d[_0x27dba9(0x3ea)][_0x1151e]['apirequest']){this[_0x27dba9(0x29f)]['verbose'](this[_0x27dba9(0x185)]+'\x20('+this[_0x27dba9(0x367)][_0x27dba9(0x18e)]+_0x27dba9(0x70b));let _0x566b2f=JSON['stringify'](_0x15403d[_0x27dba9(0x3ea)][_0x1151e][_0x27dba9(0x324)]['header'],null,0x1);_0x566b2f[_0x27dba9(0x6f5)]>0x2&&(_0x566b2f=_0x566b2f[_0x27dba9(0x355)](0x1,_0x566b2f[_0x27dba9(0x6f5)]-0x1)[_0x27dba9(0x22d)]()),_0x15403d[_0x27dba9(0x3ea)][_0x1151e]['apirequest'][_0x27dba9(0x63f)]=_0x566b2f;}if(_0x15403d[_0x27dba9(0x3ea)][_0x1151e][_0x27dba9(0x324)]&&_0x27dba9(0x261)in _0x15403d[_0x27dba9(0x3ea)][_0x1151e][_0x27dba9(0x324)]&&!(_0x27dba9(0x1c8)in _0x15403d[_0x27dba9(0x3ea)][_0x1151e][_0x27dba9(0x324)])){this[_0x27dba9(0x29f)][_0x27dba9(0x2da)](this['instanceName']+'\x20('+this[_0x27dba9(0x367)][_0x27dba9(0x18e)]+_0x27dba9(0x3fa)),_0x15403d[_0x27dba9(0x3ea)][_0x1151e][_0x27dba9(0x324)][_0x27dba9(0x29a)]=!0x1;let _0x5cac5d=JSON[_0x27dba9(0x4eb)](_0x15403d['blocks'][_0x1151e]['apirequest'][_0x27dba9(0x261)],null,0x2);_0x15403d[_0x27dba9(0x3ea)][_0x1151e][_0x27dba9(0x324)][_0x27dba9(0x1c8)]=_0x5cac5d;}if(_0x15403d[_0x27dba9(0x3ea)][_0x1151e]['apirequest']&&_0x27dba9(0x1c8)in _0x15403d['blocks'][_0x1151e][_0x27dba9(0x324)]){_0x15403d['blocks'][_0x1151e][_0x27dba9(0x324)][_0x27dba9(0x29a)]=!0x1;let _0x3d5284=_0x15403d[_0x27dba9(0x3ea)][_0x1151e][_0x27dba9(0x324)]['bodyString'],_0x4c087f=this['beautifyWithPlaceholders'](_0x3d5284);_0x15403d['blocks'][_0x1151e][_0x27dba9(0x324)][_0x27dba9(0x1c8)]=_0x4c087f[_0x27dba9(0x826)],_0x15403d['blocks'][_0x1151e][_0x27dba9(0x324)][_0x27dba9(0x29a)]=_0x4c087f[_0x27dba9(0x62f)];}let _0x54668a=_0x15403d[_0x27dba9(0x3ea)][_0x1151e][_0x27dba9(0x5ac)];_0x15dca2!==_0x54668a?(this[_0x27dba9(0x671)](_0x15403d['blocks'],_0x15dca2),this[_0x27dba9(0x671)](_0x15403d['blocks'],_0x54668a)):this[_0x27dba9(0x671)](_0x15403d[_0x27dba9(0x3ea)],_0x15dca2);}[a0_0x34238b(0x155)](_0x34e469){const _0x42b7eb=a0_0x34238b;let _0x2512d5='\u205f',_0x5704d4=!0x1,_0x182b6c='';for(let _0xd9510d=0x0;_0xd9510d<_0x34e469[_0x42b7eb(0x6f5)];_0xd9510d++){let _0x1dc6c7=_0x34e469[_0xd9510d];_0x1dc6c7==='\x22'&&(_0xd9510d===0x0||_0x34e469[_0xd9510d-0x1]!=='\x5c')&&(_0x5704d4=!_0x5704d4),!(!_0x5704d4&&(_0x1dc6c7==='\x0a'||_0x1dc6c7==='\x20'||_0x1dc6c7===_0x2512d5))&&(_0x182b6c+=_0x1dc6c7);}let _0x9199fb={},_0x13b2f0=9876543210.1234,_0x1e758f=_0x182b6c[_0x42b7eb(0x5c6)](/\{\{([^}]+)\}\}/g,_0xbbc0fc=>{let _0x4b4a71=_0xbbc0fc,_0x1daf46=''+_0x13b2f0;return _0x9199fb[_0x1daf46]=_0x4b4a71,_0x13b2f0+=0.0001,_0x1daf46;}),_0x50bf2c='',_0x3608b2=!0x1;try{let _0x28af12=JSON[_0x42b7eb(0x3fb)](_0x1e758f);_0x50bf2c=JSON[_0x42b7eb(0x4eb)](_0x28af12,null,0x2),_0x50bf2c=_0x50bf2c[_0x42b7eb(0x5c6)](/\n( +)/g,(_0x228c3b,_0x408a3b)=>{const _0x226770=_0x42b7eb;let _0x1aecdb=_0x408a3b['length'];return'\x0a'+_0x2512d5[_0x226770(0x1ec)](_0x1aecdb*0x2);}),_0x50bf2c=_0x50bf2c[_0x42b7eb(0x5c6)](/(\d{10,}\.\d+)/g,_0x6f95c2=>_0x9199fb[_0x6f95c2]||_0x6f95c2);}catch(_0x3d4509){console[_0x42b7eb(0x62f)](_0x42b7eb(0x328),_0x3d4509),_0x50bf2c=_0x34e469,_0x3608b2=!0x0;}return{'result':_0x50bf2c,'error':_0x3608b2};}[a0_0x34238b(0x544)](_0x2de6f8,_0x56981e){const _0x2996ae=a0_0x34238b;if(_0x56981e['block']['type']==='start'){this[_0x2996ae(0x7f5)](_0x2996ae(0x6ec));return;}if(_0x56981e[_0x2996ae(0x212)]['apirequest']&&_0x2996ae(0x297)in _0x56981e['block'][_0x2996ae(0x324)]){this['logger'][_0x2996ae(0x2da)](this[_0x2996ae(0x185)]+'\x20('+this[_0x2996ae(0x367)]['wuid']+_0x2996ae(0x70b));let _0x2882e4=JSON[_0x2996ae(0x4eb)](_0x56981e[_0x2996ae(0x212)][_0x2996ae(0x324)][_0x2996ae(0x297)],null,0x1);_0x2882e4['length']>0x2&&(_0x2882e4=_0x2882e4[_0x2996ae(0x355)](0x1,_0x2882e4['length']-0x1)['trim']()),_0x56981e[_0x2996ae(0x212)][_0x2996ae(0x324)][_0x2996ae(0x63f)]=_0x2882e4;}_0x56981e[_0x2996ae(0x212)][_0x2996ae(0x324)]&&_0x2996ae(0x261)in _0x56981e['block'][_0x2996ae(0x324)]&&(this[_0x2996ae(0x29f)][_0x2996ae(0x2da)](this[_0x2996ae(0x185)]+'\x20('+this[_0x2996ae(0x367)][_0x2996ae(0x18e)]+_0x2996ae(0x3fa)),_0x56981e[_0x2996ae(0x212)][_0x2996ae(0x324)][_0x2996ae(0x1c8)]=JSON[_0x2996ae(0x4eb)](_0x56981e[_0x2996ae(0x212)][_0x2996ae(0x324)][_0x2996ae(0x261)],null,0x1)[_0x2996ae(0x22d)]()),_0x2de6f8[_0x2996ae(0x3ea)]['push'](_0x56981e['block']),this[_0x2996ae(0x671)](_0x2de6f8[_0x2996ae(0x3ea)],_0x56981e[_0x2996ae(0x212)][_0x2996ae(0x5ac)]);}[a0_0x34238b(0x671)](_0x2f8757,_0xf9af0f){const _0x7e3e4d=a0_0x34238b;let _0x1144ec=_0x2f8757[_0x7e3e4d(0x6f1)](_0x3700e9=>_0x3700e9[_0x7e3e4d(0x5ac)]===_0xf9af0f);_0x1144ec[_0x7e3e4d(0x778)]((_0xe182bb,_0x55aa75)=>_0xe182bb[_0x7e3e4d(0x490)]-_0x55aa75[_0x7e3e4d(0x490)]),_0x1144ec[_0x7e3e4d(0x44e)]((_0x372902,_0x285cd2)=>_0x372902[_0x7e3e4d(0x490)]=_0x285cd2+0x1);}async[a0_0x34238b(0x666)](_0x53c1d0,_0x44b1e2){const _0x306909=a0_0x34238b;try{this[_0x306909(0x29f)][_0x306909(0x2da)](this[_0x306909(0x185)]+'\x20('+this[_0x306909(0x367)][_0x306909(0x18e)]+'):\x20Editando\x20replyOption...');let _0x1b8783=_0x53c1d0?.[_0x306909(0x2fd)][_0x306909(0x22d)]()==='true'?_0x306909(0x2fd):this[_0x306909(0x367)][_0x306909(0x18e)];if(!_0x53c1d0||!_0x53c1d0[_0x306909(0x5c3)]){this[_0x306909(0x7f5)]('Data\x20inválida\x20fornecida');return;}let _0x2528b4=await this[_0x306909(0x4f1)][_0x306909(0x798)][_0x306909(0x6cc)]({'where':{'name':_0x53c1d0['name']}},_0x1b8783);if(_0x2528b4||this['throwAndLogError']('Flow\x20não\x20encontrado'),_0x2528b4?.[_0x306909(0x2fd)]===_0x306909(0x2db))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x44b1e2!==ee&&_0x2528b4?.[_0x306909(0x2fd)]===_0x306909(0x2b1)&&_0x2528b4?.[_0x306909(0x553)]!==this[_0x306909(0x367)]['wuid'])throw new m(_0x306909(0x787));let {replyOption:_0xd98713}=_0x53c1d0;_0xd98713?.[_0x306909(0x253)]?(this[_0x306909(0x196)](_0x2528b4,_0x53c1d0),this['reorderReplyOptions'](_0x2528b4['replyOptions'],_0x53c1d0[_0x306909(0x5c3)][_0x306909(0x4bb)])):_0xd98713['_id']?(await this['updateReplyOption'](_0x2528b4,_0x53c1d0),this[_0x306909(0x50c)](_0x2528b4['replyOptions'],_0x53c1d0[_0x306909(0x5c3)][_0x306909(0x4bb)])):(this[_0x306909(0x1b3)](_0x2528b4,_0x53c1d0),this[_0x306909(0x50c)](_0x2528b4[_0x306909(0x6c0)],_0x53c1d0[_0x306909(0x5c3)][_0x306909(0x4bb)]));let _0x175ecc=await this[_0x306909(0x4f1)][_0x306909(0x798)]['updateOne'](_0x2528b4[_0x306909(0x45c)],_0x2528b4,_0x1b8783);if(_0x175ecc&&_0x175ecc[_0x306909(0x22c)]&&_0x175ecc[_0x306909(0x22c)][_0x306909(0x6f5)]>0x1&&_0x175ecc[_0x306909(0x2fd)]!==_0x306909(0x2db)&&this[_0x306909(0x160)](_0x175ecc[_0x306909(0x45c)],_0x1b8783),!_0x175ecc)throw new Error(_0x306909(0x42d));return _0x175ecc;}catch(_0x5d34f7){this[_0x306909(0x7f5)](_0x306909(0x554)+_0x5d34f7);}}['reorderReplyOptions'](_0x38c473,_0x1d38aa){const _0x1473fd=a0_0x34238b;_0x38c473[_0x1473fd(0x44e)](_0xb8f2f3=>{const _0x9d47ef=_0x1473fd;_0xb8f2f3[_0x9d47ef(0x4bb)]===_0x1d38aa&&_0xb8f2f3[_0x9d47ef(0x490)]===void 0x0&&(_0xb8f2f3[_0x9d47ef(0x490)]=0x270f);});let _0x5f2d5f=_0x38c473[_0x1473fd(0x6f1)](_0x769709=>_0x769709[_0x1473fd(0x4bb)]===_0x1d38aa);_0x5f2d5f['sort']((_0x38fc14,_0x58905a)=>_0x38fc14[_0x1473fd(0x490)]-_0x58905a[_0x1473fd(0x490)]),_0x5f2d5f[_0x1473fd(0x44e)]((_0x100a62,_0x329778)=>{_0x100a62['order']=_0x329778+0x1;}),_0x38c473['forEach'](_0x23855d=>{const _0x35783d=_0x1473fd;if(_0x23855d[_0x35783d(0x4bb)]===_0x1d38aa){let _0x11532a=_0x5f2d5f[_0x35783d(0x802)](_0x2a0b20=>_0x2a0b20['_id']&&_0x23855d['_id']&&_0x2a0b20['_id'][_0x35783d(0x513)]()===_0x23855d[_0x35783d(0x45c)][_0x35783d(0x513)]());_0x11532a&&(_0x23855d['order']=_0x11532a[_0x35783d(0x490)]);}});}[a0_0x34238b(0x196)](_0x45b80a,_0x7475f4){const _0x36a81f=a0_0x34238b;let {replyOption:_0x30794d}=_0x7475f4;if(!_0x30794d['_id']){this[_0x36a81f(0x7f5)](_0x36a81f(0x7c7));return;}if(!_0x45b80a[_0x36a81f(0x6c0)][_0x36a81f(0x802)](_0x10c8f4=>_0x10c8f4[_0x36a81f(0x45c)]['toString']()===_0x7475f4[_0x36a81f(0x5c3)]['_id']['toString']())){this[_0x36a81f(0x7f5)](_0x36a81f(0x1c3)+_0x30794d[_0x36a81f(0x45c)]+_0x36a81f(0x41f));return;}_0x45b80a[_0x36a81f(0x6c0)]=_0x45b80a[_0x36a81f(0x6c0)][_0x36a81f(0x6f1)](_0x1c271d=>_0x1c271d['_id']['toString']()!==_0x7475f4['replyOption'][_0x36a81f(0x45c)][_0x36a81f(0x513)]());}async[a0_0x34238b(0x3cd)](_0x475a53,_0x274261){const _0x408f88=a0_0x34238b;let _0xc18c3f=_0x475a53[_0x408f88(0x6c0)][_0x408f88(0x3e5)](_0x26e47f=>_0x26e47f['_id'][_0x408f88(0x513)]()===_0x274261[_0x408f88(0x5c3)][_0x408f88(0x45c)][_0x408f88(0x513)]());if(_0xc18c3f===-0x1){this[_0x408f88(0x7f5)](_0x408f88(0x1c3)+_0x274261[_0x408f88(0x5c3)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x41a8c6 in _0x274261[_0x408f88(0x5c3)])_0x274261[_0x408f88(0x5c3)][_0x408f88(0x512)](_0x41a8c6)&&(_0x475a53[_0x408f88(0x6c0)][_0xc18c3f][_0x41a8c6]=_0x274261[_0x408f88(0x5c3)][_0x41a8c6]);}[a0_0x34238b(0x1b3)](_0x17e051,_0x28a0ab){const _0x3c3f75=a0_0x34238b;_0x17e051[_0x3c3f75(0x6c0)]['push'](_0x28a0ab[_0x3c3f75(0x5c3)]);}async[a0_0x34238b(0x3c9)](_0x2d68df,_0x5e6096){const _0x4db83e=a0_0x34238b;let _0x594723=_0x2d68df?.[_0x4db83e(0x2fd)][_0x4db83e(0x22d)]()==='true'?'global':this['instance'][_0x4db83e(0x18e)];this[_0x4db83e(0x29f)][_0x4db83e(0x2da)](this[_0x4db83e(0x185)]+'\x20('+this[_0x4db83e(0x367)][_0x4db83e(0x18e)]+_0x4db83e(0x234)+_0x594723+_0x4db83e(0x4da)+_0x5e6096+_0x4db83e(0x580)+JSON['stringify'](_0x2d68df,null,0x2));try{this['logger'][_0x4db83e(0x2da)](this[_0x4db83e(0x185)]+'\x20('+this[_0x4db83e(0x367)]['wuid']+_0x4db83e(0x522));let _0x20c3c2=await this['repository'][_0x4db83e(0x798)][_0x4db83e(0x6cc)]({'where':{'name':_0x2d68df[_0x4db83e(0x5f8)]}},_0x594723);if(!_0x20c3c2)throw this['logger'][_0x4db83e(0x2da)](this[_0x4db83e(0x185)]+'\x20('+this['instance'][_0x4db83e(0x18e)]+_0x4db83e(0x5aa)),new Error(_0x4db83e(0x4db));if(_0x20c3c2?.['global']===_0x4db83e(0x2db))throw this[_0x4db83e(0x29f)][_0x4db83e(0x2da)](this[_0x4db83e(0x185)]+'\x20('+this[_0x4db83e(0x367)][_0x4db83e(0x18e)]+_0x4db83e(0x4c8)),new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x5e6096!==ee&&_0x20c3c2?.[_0x4db83e(0x2fd)]===_0x4db83e(0x2b1)&&_0x20c3c2?.[_0x4db83e(0x553)]!==this['instance']['wuid'])throw this[_0x4db83e(0x29f)]['verbose'](this[_0x4db83e(0x185)]+'\x20('+this['instance'][_0x4db83e(0x18e)]+_0x4db83e(0x66c)),new m(_0x4db83e(0x787));if(_0x2d68df['group']&&_0x2d68df['group']?.[_0x4db83e(0x253)]===!0x0){if(this[_0x4db83e(0x29f)][_0x4db83e(0x2da)](this['instanceName']+'\x20('+this['instance'][_0x4db83e(0x18e)]+_0x4db83e(0x4c1)),_0x2d68df['group'][_0x4db83e(0x3fd)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x20c3c2[_0x4db83e(0x3ea)][_0x4db83e(0x2de)](_0x36648a=>_0x36648a[_0x4db83e(0x5ac)][_0x4db83e(0x513)]()===_0x2d68df[_0x4db83e(0x7bf)][_0x4db83e(0x45c)]))return this[_0x4db83e(0x29f)]['verbose'](this[_0x4db83e(0x185)]+'\x20('+this['instance']['wuid']+_0x4db83e(0x6e7)),{'message':_0x4db83e(0x636)};_0x20c3c2[_0x4db83e(0x822)]=_0x20c3c2[_0x4db83e(0x822)]['filter'](_0x48efec=>_0x48efec[_0x4db83e(0x45c)]['toString']()!==_0x2d68df[_0x4db83e(0x7bf)][_0x4db83e(0x45c)]);}else{if(_0x2d68df[_0x4db83e(0x7bf)]){if(_0x2d68df[_0x4db83e(0x7bf)]['default']===!0x0)return{'message':_0x4db83e(0x6c2)};if(_0x2d68df['group']['_id']){let _0x5f1698=_0x20c3c2[_0x4db83e(0x822)]['find'](_0x2c8d58=>_0x2c8d58[_0x4db83e(0x45c)][_0x4db83e(0x513)]()===_0x2d68df['group'][_0x4db83e(0x45c)]);_0x5f1698&&(_0x2d68df[_0x4db83e(0x7bf)]['x']<0x0&&(_0x2d68df[_0x4db83e(0x7bf)]['x']=0x0),_0x2d68df['group']['y']<0x0&&(_0x2d68df[_0x4db83e(0x7bf)]['y']=0x0),Object['assign'](_0x5f1698,_0x2d68df[_0x4db83e(0x7bf)]));}else _0x20c3c2[_0x4db83e(0x822)][_0x4db83e(0x57d)](_0x2d68df[_0x4db83e(0x7bf)]);}}let _0x57b4f2=await this[_0x4db83e(0x4f1)][_0x4db83e(0x798)][_0x4db83e(0x53d)](_0x20c3c2[_0x4db83e(0x45c)],_0x20c3c2,_0x594723);if(_0x57b4f2&&_0x57b4f2[_0x4db83e(0x22c)]&&_0x57b4f2[_0x4db83e(0x22c)][_0x4db83e(0x6f5)]>0x1&&_0x57b4f2[_0x4db83e(0x2fd)]!=='sync'&&this['synchronizeFlows'](_0x57b4f2[_0x4db83e(0x45c)],_0x594723),!_0x57b4f2)throw new Error(_0x4db83e(0x42d));return _0x57b4f2;}catch(_0x324aa8){let _0x1e9751=_0x4db83e(0x7d3),_0x269d08=_0x324aa8 instanceof Error?_0x324aa8[_0x4db83e(0x707)]:typeof _0x324aa8=='object'?JSON[_0x4db83e(0x4eb)](_0x324aa8):_0x324aa8,_0x43253f=_0x1e9751+':\x20'+_0x269d08;throw this[_0x4db83e(0x29f)][_0x4db83e(0x62f)](this[_0x4db83e(0x185)]+'\x20('+this[_0x4db83e(0x367)]['wuid']+_0x4db83e(0x1db)+_0x43253f),new m(_0x43253f);}}async[a0_0x34238b(0x663)](_0x17e4f6,_0x8a176b){const _0x441fed=a0_0x34238b;try{this[_0x441fed(0x29f)]['verbose'](this[_0x441fed(0x185)]+'\x20('+this['instance'][_0x441fed(0x18e)]+_0x441fed(0x3b1));let _0x40c6d4=_0x17e4f6?.[_0x441fed(0x2fd)][_0x441fed(0x22d)]()===_0x441fed(0x2b1)?_0x441fed(0x2fd):this[_0x441fed(0x367)][_0x441fed(0x18e)],_0x31c3a5=await this['repository'][_0x441fed(0x798)][_0x441fed(0x6cc)]({'where':{'name':_0x17e4f6['name']}},_0x40c6d4);if(!_0x31c3a5)throw new Error(_0x441fed(0x4db));if(_0x31c3a5?.['global']===_0x441fed(0x2db))throw new m(_0x441fed(0x374));if(_0x8a176b!==ee&&_0x31c3a5?.[_0x441fed(0x2fd)]===_0x441fed(0x2b1)&&_0x31c3a5?.[_0x441fed(0x553)]!==this[_0x441fed(0x367)][_0x441fed(0x18e)])throw new m(_0x441fed(0x787));let _0x34719e=!0x1;if(_0x17e4f6[_0x441fed(0x183)]?.['delete']===!0x0)_0x31c3a5[_0x441fed(0x63c)]=_0x31c3a5[_0x441fed(0x63c)][_0x441fed(0x6f1)](_0x19bc9d=>_0x19bc9d&&_0x17e4f6[_0x441fed(0x183)]&&_0x19bc9d[_0x441fed(0x45c)]&&_0x17e4f6['condition'][_0x441fed(0x45c)]&&_0x19bc9d['_id'][_0x441fed(0x513)]()!==_0x17e4f6[_0x441fed(0x183)][_0x441fed(0x45c)][_0x441fed(0x513)]()),_0x34719e=!0x0;else{let _0x59be3f=_0x31c3a5['conditions'][_0x441fed(0x802)](_0x26cfaf=>_0x26cfaf&&_0x17e4f6['condition']&&_0x26cfaf[_0x441fed(0x45c)]&&_0x17e4f6[_0x441fed(0x183)]['_id']&&_0x26cfaf[_0x441fed(0x45c)][_0x441fed(0x513)]()===_0x17e4f6[_0x441fed(0x183)][_0x441fed(0x45c)][_0x441fed(0x513)]());_0x59be3f?(_0x34719e=_0x59be3f['order']!==_0x17e4f6[_0x441fed(0x183)][_0x441fed(0x490)],Object['assign'](_0x59be3f,_0x17e4f6['condition'])):(_0x31c3a5[_0x441fed(0x63c)][_0x441fed(0x57d)](_0x17e4f6[_0x441fed(0x183)]),_0x34719e=!0x0);}if(_0x34719e){_0x31c3a5['conditions'][_0x441fed(0x778)]((_0x392b2c,_0xf8d02f)=>_0x392b2c[_0x441fed(0x490)]>_0xf8d02f[_0x441fed(0x490)]?0x1:_0xf8d02f[_0x441fed(0x490)]>_0x392b2c[_0x441fed(0x490)]?-0x1:0x0);for(let _0xdab069=0x0;_0xdab069<_0x31c3a5['conditions'][_0x441fed(0x6f5)];_0xdab069++)_0x31c3a5[_0x441fed(0x63c)][_0xdab069]['order']=_0xdab069+0x1;_0x31c3a5[_0x441fed(0x63c)]['length']>0x0&&(_0x31c3a5[_0x441fed(0x63c)][0x0]['OrAnd']=_0x441fed(0x387));}let _0x438d72=await this[_0x441fed(0x4f1)][_0x441fed(0x798)]['updateOne'](_0x31c3a5[_0x441fed(0x45c)],_0x31c3a5,_0x40c6d4);if(_0x438d72&&_0x438d72[_0x441fed(0x22c)]&&_0x438d72[_0x441fed(0x22c)][_0x441fed(0x6f5)]>0x1&&_0x438d72[_0x441fed(0x2fd)]!==_0x441fed(0x2db)&&this[_0x441fed(0x160)](_0x438d72['_id'],_0x40c6d4),!_0x438d72)throw new Error(_0x441fed(0x42d));return _0x438d72;}catch(_0x12aa2d){let _0x5564a8=_0x441fed(0x21e),_0xa3decf=_0x12aa2d instanceof Error?_0x12aa2d[_0x441fed(0x707)]:typeof _0x12aa2d==_0x441fed(0x410)?JSON[_0x441fed(0x4eb)](_0x12aa2d):_0x12aa2d,_0x460b7d=_0x5564a8+':\x20'+_0xa3decf;throw this['logger'][_0x441fed(0x62f)](this[_0x441fed(0x185)]+'\x20('+this[_0x441fed(0x367)][_0x441fed(0x18e)]+_0x441fed(0x1db)+_0x460b7d),new m(_0x460b7d);}}async[a0_0x34238b(0x3af)](_0x502694,_0x48b0fd){const _0x171d0c=a0_0x34238b;try{this[_0x171d0c(0x29f)][_0x171d0c(0x2da)](this['instanceName']+'\x20('+this[_0x171d0c(0x367)][_0x171d0c(0x18e)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x2bb99f=_0x502694?.['global'][_0x171d0c(0x22d)]()==='true'?_0x171d0c(0x2fd):this['instance'][_0x171d0c(0x18e)],_0x2f0ac4=await this[_0x171d0c(0x4f1)]['flow'][_0x171d0c(0x6cc)]({'where':{'name':_0x502694[_0x171d0c(0x5f8)]}},_0x2bb99f);if(!_0x2f0ac4)throw new Error(_0x171d0c(0x4db));if(_0x2f0ac4?.[_0x171d0c(0x2fd)]===_0x171d0c(0x2db))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x48b0fd!==ee&&_0x2f0ac4?.[_0x171d0c(0x2fd)]===_0x171d0c(0x2b1)&&_0x2f0ac4?.[_0x171d0c(0x553)]!==this[_0x171d0c(0x367)]['wuid'])throw new m(_0x171d0c(0x787));let _0x2ba243=!0x1;if(_0x502694[_0x171d0c(0x37f)]?.[_0x171d0c(0x253)]===!0x0)_0x2f0ac4[_0x171d0c(0x7a5)]=_0x2f0ac4['varedits'][_0x171d0c(0x6f1)](_0x15d106=>_0x15d106&&_0x502694[_0x171d0c(0x37f)]&&_0x15d106['_id']&&_0x502694['varedit'][_0x171d0c(0x45c)]&&_0x15d106[_0x171d0c(0x45c)]['toString']()!==_0x502694['varedit'][_0x171d0c(0x45c)]['toString']()),_0x2ba243=!0x0;else{let _0x2d00bf=_0x2f0ac4['varedits']['find'](_0x33ff68=>_0x33ff68&&_0x502694[_0x171d0c(0x37f)]&&_0x33ff68['_id']&&_0x502694[_0x171d0c(0x37f)][_0x171d0c(0x45c)]&&_0x33ff68[_0x171d0c(0x45c)][_0x171d0c(0x513)]()===_0x502694[_0x171d0c(0x37f)][_0x171d0c(0x45c)]['toString']());_0x2d00bf?(_0x2ba243=_0x2d00bf[_0x171d0c(0x490)]!==_0x502694[_0x171d0c(0x37f)][_0x171d0c(0x490)],Object[_0x171d0c(0x752)](_0x2d00bf,_0x502694[_0x171d0c(0x37f)])):(_0x2f0ac4['varedits'][_0x171d0c(0x57d)](_0x502694[_0x171d0c(0x37f)]),_0x2ba243=!0x0);}if(_0x2ba243){_0x2f0ac4[_0x171d0c(0x7a5)]['sort']((_0xb4874b,_0x37cdec)=>_0xb4874b['order']>_0x37cdec['order']?0x1:_0x37cdec[_0x171d0c(0x490)]>_0xb4874b[_0x171d0c(0x490)]?-0x1:0x0);for(let _0x37a243=0x0;_0x37a243<_0x2f0ac4[_0x171d0c(0x7a5)][_0x171d0c(0x6f5)];_0x37a243++)_0x2f0ac4['varedits'][_0x37a243][_0x171d0c(0x490)]=_0x37a243+0x1;}let _0x2a336e=await this[_0x171d0c(0x4f1)][_0x171d0c(0x798)][_0x171d0c(0x53d)](_0x2f0ac4[_0x171d0c(0x45c)],_0x2f0ac4,_0x2bb99f);if(_0x2a336e&&_0x2a336e[_0x171d0c(0x22c)]&&_0x2a336e[_0x171d0c(0x22c)][_0x171d0c(0x6f5)]>0x1&&_0x2a336e[_0x171d0c(0x2fd)]!=='sync'&&this[_0x171d0c(0x160)](_0x2a336e[_0x171d0c(0x45c)],_0x2bb99f),!_0x2a336e)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2a336e;}catch(_0x139f81){let _0x1fd44e='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x312aea=_0x139f81 instanceof Error?_0x139f81['message']:typeof _0x139f81=='object'?JSON[_0x171d0c(0x4eb)](_0x139f81):_0x139f81,_0x23d909=_0x1fd44e+':\x20'+_0x312aea;throw this[_0x171d0c(0x29f)][_0x171d0c(0x62f)](this[_0x171d0c(0x185)]+'\x20('+this[_0x171d0c(0x367)][_0x171d0c(0x18e)]+_0x171d0c(0x1db)+_0x23d909),new m(_0x23d909);}}async[a0_0x34238b(0x462)](_0x3c1686,_0x156f20){const _0x539433=a0_0x34238b;try{this[_0x539433(0x29f)][_0x539433(0x2da)](this[_0x539433(0x185)]+'\x20('+this[_0x539433(0x367)][_0x539433(0x18e)]+_0x539433(0x455));let _0x295ea4=_0x3c1686?.[_0x539433(0x2fd)]['trim']()===_0x539433(0x2b1)?_0x539433(0x2fd):this[_0x539433(0x367)][_0x539433(0x18e)],_0x58cb29=await this[_0x539433(0x4f1)][_0x539433(0x798)][_0x539433(0x6cc)]({'where':{'name':_0x3c1686['name']}},_0x295ea4);if(!_0x58cb29)throw new Error(_0x539433(0x4db));if(_0x58cb29?.[_0x539433(0x2fd)]==='sync')throw new m(_0x539433(0x374));if(_0x156f20!==ee&&_0x58cb29?.[_0x539433(0x2fd)]==='true'&&_0x58cb29?.[_0x539433(0x553)]!==this[_0x539433(0x367)][_0x539433(0x18e)])throw new m(_0x539433(0x787));if(_0x156f20!==ee&&_0x58cb29?.['global']==='true'&&_0x58cb29?.[_0x539433(0x553)]!==this[_0x539433(0x367)][_0x539433(0x18e)])throw new m(_0x539433(0x787));_0x3c1686['variable']['name']=_0x3c1686[_0x539433(0x4c4)][_0x539433(0x5f8)]['trim'](),_0x3c1686[_0x539433(0x4c4)]['name']['startsWith']('_')&&(_0x3c1686[_0x539433(0x4c4)][_0x539433(0x5f8)]=_0x3c1686[_0x539433(0x4c4)][_0x539433(0x5f8)][_0x539433(0x355)](0x1)),_0x3c1686[_0x539433(0x4c4)][_0x539433(0x5f8)]=_0x3c1686['variable']['name']['trim']();let _0x2aee51=_0x58cb29['variables']['find'](_0x23c630=>_0x23c630[_0x539433(0x5f8)]===_0x3c1686[_0x539433(0x4c4)][_0x539433(0x5f8)]);if(_0x2aee51?.[_0x539433(0x4dd)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x3c1686[_0x539433(0x4c4)]?.['delete']===!0x0){if(!_0x2aee51)return{'message':_0x539433(0x82e)};_0x58cb29[_0x539433(0x60d)]=_0x58cb29[_0x539433(0x60d)]['filter'](_0x4b0eaa=>_0x4b0eaa['name']!==_0x3c1686[_0x539433(0x4c4)][_0x539433(0x5f8)]);}else _0x2aee51?Object['assign'](_0x2aee51,_0x3c1686['variable']):_0x58cb29[_0x539433(0x60d)][_0x539433(0x57d)](_0x3c1686[_0x539433(0x4c4)]);let _0x5d1b03=await this[_0x539433(0x4f1)][_0x539433(0x798)]['updateOne'](_0x58cb29[_0x539433(0x45c)],_0x58cb29,_0x295ea4);if(_0x5d1b03&&_0x5d1b03[_0x539433(0x22c)]&&_0x5d1b03[_0x539433(0x22c)][_0x539433(0x6f5)]>0x1&&_0x5d1b03['global']!==_0x539433(0x2db)&&this['synchronizeFlows'](_0x5d1b03[_0x539433(0x45c)],_0x295ea4),!_0x5d1b03)throw new Error(_0x539433(0x42d));return _0x5d1b03;}catch(_0x1af099){let _0x4f266a=_0x539433(0x18c),_0x9c9eba=_0x1af099 instanceof Error?_0x1af099[_0x539433(0x707)]:typeof _0x1af099==_0x539433(0x410)?JSON['stringify'](_0x1af099):_0x1af099,_0x393615=_0x4f266a+':\x20'+_0x9c9eba;throw this['logger']['error'](this[_0x539433(0x185)]+'\x20('+this[_0x539433(0x367)][_0x539433(0x18e)]+_0x539433(0x1db)+_0x393615),new m(_0x393615);}}async[a0_0x34238b(0x775)](_0x8d4bbd){const _0x404f9c=a0_0x34238b;let _0x41d245=null;try{if(!this[_0x404f9c(0x7e1)]?.[_0x404f9c(0x535)]['enabled'])throw new m('Fluxos\x20não\x20estão\x20ativados');this['logger'][_0x404f9c(0x2da)](this[_0x404f9c(0x185)]+'\x20('+this[_0x404f9c(0x367)][_0x404f9c(0x18e)]+_0x404f9c(0x7d0));let _0x2d30b8=(await this[_0x404f9c(0x5e4)]({'numbers':[_0x8d4bbd['remoteJid']]}))[0x0];if(!_0x2d30b8[_0x404f9c(0x810)]&&!(0x0,w['isJidGroup'])(_0x2d30b8[_0x404f9c(0x817)])&&!_0x2d30b8['jid'][_0x404f9c(0x331)](_0x404f9c(0x795)))throw _0x41d245=JSON[_0x404f9c(0x4eb)](_0x2d30b8,null,0x2),new m(_0x2d30b8);let _0x45d473=await this[_0x404f9c(0x4f1)][_0x404f9c(0x798)][_0x404f9c(0x6cc)]({'where':{'name':_0x8d4bbd['name']}},this[_0x404f9c(0x367)][_0x404f9c(0x18e)]);if(!_0x45d473)return this[_0x404f9c(0x29f)][_0x404f9c(0x62f)](this['instanceName']+'\x20('+this[_0x404f9c(0x367)][_0x404f9c(0x18e)]+_0x404f9c(0x5aa)),{'message':_0x404f9c(0x4db)};let _0x59e035=await this[_0x404f9c(0x5e9)](_0x45d473,_0x2d30b8[_0x404f9c(0x817)],_0x8d4bbd['changeVariables']);if(_0x59e035){this['logger'][_0x404f9c(0x2da)](this[_0x404f9c(0x185)]+'\x20('+this[_0x404f9c(0x367)][_0x404f9c(0x18e)]+'):\x20Criou\x20conversa\x20no\x20startFlow');let _0x4ae188=await this['NextBlock'](_0x59e035);return _0x4ae188&&await this[_0x404f9c(0x3a2)](_0x59e035,_0x4ae188),{'message':_0x404f9c(0x15f)+_0x8d4bbd[_0x404f9c(0x484)]};}}catch(_0x47f5aa){if(this['logger'][_0x404f9c(0x62f)](this[_0x404f9c(0x185)]+'\x20('+this[_0x404f9c(0x367)][_0x404f9c(0x18e)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x47f5aa instanceof Error?_0x47f5aa[_0x404f9c(0x707)]:JSON[_0x404f9c(0x4eb)](_0x47f5aa,null,0x2))),_0x41d245=_0x47f5aa instanceof Error?_0x47f5aa[_0x404f9c(0x707)]:JSON[_0x404f9c(0x4eb)](_0x47f5aa,null,0x2),_0x41d245)throw new m(_0x404f9c(0x4fd)+_0x41d245);}}async['startFlowWebhook'](_0x365b19,_0x3259f0,_0x3f197f){const _0x35f8bf=a0_0x34238b;let _0x4aa018=null;try{if(!this[_0x35f8bf(0x7e1)]?.[_0x35f8bf(0x535)]['enabled'])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this['logger']['verbose'](this[_0x35f8bf(0x185)]+'\x20('+this[_0x35f8bf(0x367)]['wuid']+_0x35f8bf(0x7d0)),_0x3259f0){let _0x13cb68=(await this[_0x35f8bf(0x5e4)]({'numbers':[_0x3259f0]}))[0x0];if(!_0x13cb68[_0x35f8bf(0x810)]&&!(0x0,w[_0x35f8bf(0x154)])(_0x13cb68[_0x35f8bf(0x817)])&&!_0x13cb68[_0x35f8bf(0x817)]['includes'](_0x35f8bf(0x795)))throw _0x4aa018=JSON[_0x35f8bf(0x4eb)](_0x13cb68,null,0x2),new m(_0x13cb68);_0x3259f0=_0x13cb68[_0x35f8bf(0x817)];}else _0x3259f0||(_0x3259f0=(0x0,Me['v4'])());let _0x2dc46e=await this[_0x35f8bf(0x4f1)][_0x35f8bf(0x798)][_0x35f8bf(0x6cc)]({'where':{'startID':_0x365b19}},this['instance'][_0x35f8bf(0x18e)]);if(!_0x2dc46e)throw this[_0x35f8bf(0x29f)][_0x35f8bf(0x62f)](this[_0x35f8bf(0x185)]+'\x20('+this[_0x35f8bf(0x367)][_0x35f8bf(0x18e)]+'):\x20Flow\x20não\x20encontrado'),new m(_0x35f8bf(0x4db));let _0x51b99f=await this[_0x35f8bf(0x5e9)](_0x2dc46e,_0x3259f0,null);if(_0x51b99f){this[_0x35f8bf(0x29f)][_0x35f8bf(0x2da)](this[_0x35f8bf(0x185)]+'\x20('+this['instance']['wuid']+_0x35f8bf(0x368));let _0x3dbe7d;if(_0x3f197f){let _0x40da7c=_0x51b99f[_0x35f8bf(0x270)][_0x35f8bf(0x334)],_0xc1cce8=this[_0x35f8bf(0x6a4)](_0x3f197f);Object[_0x35f8bf(0x752)](_0x40da7c,_0xc1cce8),_0x51b99f['chatLog'][_0x35f8bf(0x334)]=_0x40da7c,_0x3dbe7d={'error':!0x1,'apiResponse':_0x3f197f};}let _0x41cfe9=await this[_0x35f8bf(0x440)](_0x51b99f);return _0x41cfe9&&await this[_0x35f8bf(0x3a2)](_0x51b99f,_0x41cfe9),{'message':'Flow\x20iniciado'};}}catch(_0x21e05b){if(this[_0x35f8bf(0x29f)][_0x35f8bf(0x62f)](this[_0x35f8bf(0x185)]+'\x20('+this['instance'][_0x35f8bf(0x18e)]+_0x35f8bf(0x6fa)+(_0x21e05b instanceof Error?_0x21e05b[_0x35f8bf(0x707)]:JSON[_0x35f8bf(0x4eb)](_0x21e05b,null,0x2))),_0x4aa018=_0x21e05b instanceof Error?_0x21e05b['message']:JSON['stringify'](_0x21e05b,null,0x2),_0x4aa018)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x4aa018);}}async['closeExistingConversations'](_0x4922ab){const _0x99aa41=a0_0x34238b;try{let _0x9174bd={'remoteJid':_0x4922ab,'status':_0x99aa41(0x6c4)},_0x3b5f8b={'status':_0x99aa41(0x69a)},_0x573d4a=await this[_0x99aa41(0x4f1)][_0x99aa41(0x26d)][_0x99aa41(0x5a6)](_0x9174bd,_0x3b5f8b,this[_0x99aa41(0x367)][_0x99aa41(0x18e)]);return this['logger'][_0x99aa41(0x2da)](this[_0x99aa41(0x185)]+'\x20('+this[_0x99aa41(0x367)]['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x573d4a;}catch(_0x3bbca8){throw this[_0x99aa41(0x29f)][_0x99aa41(0x62f)](this['instanceName']+'\x20('+this[_0x99aa41(0x367)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x3bbca8['message']),_0x3bbca8;}}async[a0_0x34238b(0x5e9)](_0xe75b90,_0x1a6322,_0x5c91a5){const _0x4b525c=a0_0x34238b;this[_0x4b525c(0x29f)][_0x4b525c(0x2da)](this[_0x4b525c(0x185)]+'\x20('+this['instance']['wuid']+_0x4b525c(0x73f)),await this[_0x4b525c(0x1e0)](_0x1a6322);try{let _0x147e24=require(_0x4b525c(0x228))[_0x4b525c(0x15e)],_0x351a63=Date[_0x4b525c(0x433)](),_0x123201=_0x4b525c(0x838),_0x42d4a9={},_0x4ba07f={},_0x11ba40={..._0xe75b90,'chatLog':null},_0x291297=await this['variablesToObject'](_0x11ba40[_0x4b525c(0x60d)]),_0x32c367=await this[_0x4b525c(0x498)](_0x1a6322),_0x245cda={..._0x291297,..._0x32c367,'_remoteJid':_0x1a6322},_0x4fe9da={'lastReceivedMessage':_0x42d4a9,'lastSendMessage':_0x4ba07f,'lastBlockId':_0x123201,'lastCondition':!0x0,'realVariables':_0x245cda};_0x11ba40[_0x4b525c(0x270)]=_0x4fe9da,_0x11ba40[_0x4b525c(0x270)]['realVariables']={..._0x245cda,..._0x5c91a5},delete _0x11ba40[_0x4b525c(0x45c)],_0x11ba40[_0x4b525c(0x45c)]=new _0x147e24(),_0x11ba40[_0x4b525c(0x5cf)]=_0x351a63,_0x11ba40[_0x4b525c(0x7b4)]='open',_0x11ba40['remoteJid']=_0x1a6322;let _0x3af077=await this[_0x4b525c(0x4f1)]['flowConversation'][_0x4b525c(0x53d)](_0x11ba40[_0x4b525c(0x45c)],_0x11ba40,this[_0x4b525c(0x367)][_0x4b525c(0x18e)]);return this[_0x4b525c(0x29f)][_0x4b525c(0x2da)](this[_0x4b525c(0x185)]+'\x20('+this[_0x4b525c(0x367)][_0x4b525c(0x18e)]+_0x4b525c(0x1e9)),_0x3af077?_0x11ba40:null;}catch(_0x516a9c){let _0x8aab75=_0x4b525c(0x301),_0x3a94c1=_0x516a9c instanceof Error?_0x516a9c[_0x4b525c(0x707)]:typeof _0x516a9c=='object'?JSON['stringify'](_0x516a9c):_0x516a9c,_0x26511a=_0x8aab75+':\x20'+_0x3a94c1;throw this[_0x4b525c(0x29f)][_0x4b525c(0x62f)](this[_0x4b525c(0x185)]+'\x20('+this[_0x4b525c(0x367)][_0x4b525c(0x18e)]+'):\x20'+_0x26511a),new m(_0x26511a);}}async[a0_0x34238b(0x2fc)](_0x3b4f4f){const _0x44d46a=a0_0x34238b;try{this['logger']['verbose'](this[_0x44d46a(0x185)]+'\x20('+this[_0x44d46a(0x367)][_0x44d46a(0x18e)]+_0x44d46a(0x5df)),this[_0x44d46a(0x29f)][_0x44d46a(0x2da)](this[_0x44d46a(0x185)]+'\x20('+this[_0x44d46a(0x367)][_0x44d46a(0x18e)]+'):\x20Query\x20params:\x20'+_0x3b4f4f);let _0x13f959={'where':{'_id':_0x3b4f4f}};return await this[_0x44d46a(0x4f1)]['flowConversation'][_0x44d46a(0x6cc)](_0x13f959,this[_0x44d46a(0x367)][_0x44d46a(0x18e)]);}catch(_0x27d6f5){let _0x2039d1=_0x44d46a(0x598),_0x3b948e=_0x27d6f5 instanceof Error?_0x27d6f5['message']:typeof _0x27d6f5==_0x44d46a(0x410)?JSON[_0x44d46a(0x4eb)](_0x27d6f5):_0x27d6f5,_0x1998b8=_0x2039d1+':\x20'+_0x3b948e;throw this[_0x44d46a(0x29f)][_0x44d46a(0x62f)](this[_0x44d46a(0x185)]+'\x20('+this[_0x44d46a(0x367)][_0x44d46a(0x18e)]+'):\x20'+_0x1998b8),new m(_0x1998b8);}}async['fetchConversation'](_0x229160){const _0xd03ea5=a0_0x34238b;try{return this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0xd03ea5(0x18e)]+_0xd03ea5(0x407)),await this[_0xd03ea5(0x4f1)]['flowConversation']['find'](_0x229160,this[_0xd03ea5(0x367)]['wuid']);}catch(_0x5eff00){let _0x5c239e=_0xd03ea5(0x64e),_0x1d79a5=_0x5eff00 instanceof Error?_0x5eff00[_0xd03ea5(0x707)]:typeof _0x5eff00==_0xd03ea5(0x410)?JSON[_0xd03ea5(0x4eb)](_0x5eff00):_0x5eff00,_0x5a098c=_0x5c239e+':\x20'+_0x1d79a5;throw this[_0xd03ea5(0x29f)][_0xd03ea5(0x62f)](this[_0xd03ea5(0x185)]+'\x20('+this['instance'][_0xd03ea5(0x18e)]+'):\x20'+_0x5a098c),new m(_0x5a098c);}}async[a0_0x34238b(0x7cc)](_0x1deef5){const _0x418fbb=a0_0x34238b;try{return this[_0x418fbb(0x29f)][_0x418fbb(0x2da)](this[_0x418fbb(0x185)]+'\x20('+this['instance'][_0x418fbb(0x18e)]+'):\x20Deletando\x20conversa...'),this[_0x418fbb(0x29f)][_0x418fbb(0x2da)](this[_0x418fbb(0x185)]+'\x20('+this[_0x418fbb(0x367)][_0x418fbb(0x18e)]+_0x418fbb(0x542)+_0x1deef5),(await this[_0x418fbb(0x4f1)][_0x418fbb(0x26d)]['deleteOne']({'where':{'_id':_0x1deef5[_0x418fbb(0x45c)]}},this[_0x418fbb(0x367)][_0x418fbb(0x18e)]))[_0x418fbb(0x759)]===0x0?{'message':_0x418fbb(0x31a)}:{'message':_0x418fbb(0x509)};}catch(_0x4f3805){let _0x363199='Erro\x20ao\x20deletar\x20a\x20conversa',_0x58d7ad=_0x4f3805 instanceof Error?_0x4f3805[_0x418fbb(0x707)]:typeof _0x4f3805==_0x418fbb(0x410)?JSON[_0x418fbb(0x4eb)](_0x4f3805):_0x4f3805,_0xee7a68=_0x363199+':\x20'+_0x58d7ad;throw this[_0x418fbb(0x29f)][_0x418fbb(0x62f)](this[_0x418fbb(0x185)]+'\x20('+this[_0x418fbb(0x367)]['wuid']+'):\x20'+_0xee7a68),new m(_0xee7a68);}}async[a0_0x34238b(0x37e)](_0x5c2e7c){const _0x2099dc=a0_0x34238b;try{let {_id:_0x5c875b,chatLog:_0x5712e8,status:_0x14a4df}=_0x5c2e7c;if(!_0x5c875b)return{'message':_0x2099dc(0x6bb)};let _0x2d1e2e={};if(_0x14a4df!==void 0x0&&(_0x2d1e2e['status']=_0x14a4df),Object[_0x2099dc(0x58c)](_0x2d1e2e)[_0x2099dc(0x6f5)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x4eda87=await this[_0x2099dc(0x4f1)][_0x2099dc(0x26d)][_0x2099dc(0x53d)](_0x5c875b,_0x2d1e2e,this[_0x2099dc(0x367)][_0x2099dc(0x18e)]);return _0x4eda87||{'message':_0x2099dc(0x715)};}catch(_0x24ca7d){let _0x341bbe=_0x2099dc(0x3b2),_0x298f3e=_0x24ca7d instanceof Error?_0x24ca7d['message']:typeof _0x24ca7d==_0x2099dc(0x410)?JSON[_0x2099dc(0x4eb)](_0x24ca7d):_0x24ca7d,_0x3e135c=_0x341bbe+':\x20'+_0x298f3e;throw this['logger']['error'](this[_0x2099dc(0x185)]+'\x20('+this[_0x2099dc(0x367)][_0x2099dc(0x18e)]+_0x2099dc(0x1db)+_0x3e135c),new m(_0x3e135c);}}async[a0_0x34238b(0x41e)](_0x5ac218){const _0x4aab94=a0_0x34238b;try{_0x5ac218[_0x4aab94(0x45c)]=this[_0x4aab94(0x21b)](_0x5ac218[_0x4aab94(0x45c)]);let _0x5d84f2=await this[_0x4aab94(0x4f1)][_0x4aab94(0x7fd)][_0x4aab94(0x6cc)]({'where':{'_id':_0x5ac218[_0x4aab94(0x45c)]}},this[_0x4aab94(0x367)]['wuid']);if(!_0x5d84f2)throw new m(_0x4aab94(0x38b));let {_id:_0x5db649,leadInfo:_0x54170c}=_0x5ac218;if(!_0x5db649)throw new Error(_0x4aab94(0x1cd));if(_0x5ac218[_0x4aab94(0x253)]==='all')return await this[_0x4aab94(0x71d)](_0x5ac218[_0x4aab94(0x45c)]),await this[_0x4aab94(0x4f1)]['chat'][_0x4aab94(0x253)]({'where':{'_id':_0x5ac218[_0x4aab94(0x45c)]}},this[_0x4aab94(0x367)][_0x4aab94(0x18e)]),await this[_0x4aab94(0x4f1)][_0x4aab94(0x707)][_0x4aab94(0x253)]({'where':{'key':{'remoteJid':_0x5ac218[_0x4aab94(0x45c)]}}},this[_0x4aab94(0x367)][_0x4aab94(0x18e)]),_0x5ac218=await this[_0x4aab94(0x4f1)][_0x4aab94(0x7fd)][_0x4aab94(0x53d)]({'where':{'_id':_0x5ac218['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x4aab94(0x367)]['wuid']),J(this[_0x4aab94(0x185)],_0x4aab94(0x1e2),{'chat':_0x5ac218}),{'message':_0x4aab94(0x79c)};if(_0x5ac218[_0x4aab94(0x253)]===_0x4aab94(0x519))return await this['repository'][_0x4aab94(0x707)][_0x4aab94(0x253)]({'where':{'key':{'remoteJid':_0x5ac218[_0x4aab94(0x45c)]}}},this[_0x4aab94(0x367)][_0x4aab94(0x18e)]),_0x5ac218=await this[_0x4aab94(0x4f1)]['chat'][_0x4aab94(0x53d)]({'where':{'_id':_0x5ac218[_0x4aab94(0x45c)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x4aab94(0x367)][_0x4aab94(0x18e)]),J(this[_0x4aab94(0x185)],'chats',{'chat':_0x5ac218}),{'message':_0x4aab94(0x3b6)};let _0xca2e3=(_0x332c4c,_0xd5cd08,_0x1f23a1)=>{const _0x1d2bba=_0x4aab94;_0x332c4c&&_0x1f23a1[_0x1d2bba(0x44e)](_0x3a502e=>{const _0x272e91=_0x1d2bba;_0x332c4c[_0x3a502e]!==void 0x0&&(_0xd5cd08[_0x272e91(0x669)+_0x3a502e]=_0x332c4c[_0x3a502e]);});},_0x4b37bb={};if(_0x4aab94(0x583)in _0x5ac218&&(this['logger'][_0x4aab94(0x2da)](this['instanceName']+'\x20('+this[_0x4aab94(0x367)]['wuid']+_0x4aab94(0x607)+_0x5ac218[_0x4aab94(0x45c)]),_0x5ac218[_0x4aab94(0x583)]=_0x5ac218[_0x4aab94(0x583)]===0x0?null:-0x1,await this[_0x4aab94(0x521)][_0x4aab94(0x750)]({'mute':_0x5ac218[_0x4aab94(0x583)]},_0x5ac218[_0x4aab94(0x45c)]),_0x4b37bb['muteEndTime']=Number(_0x5ac218[_0x4aab94(0x583)])),_0x54170c&&(_0xca2e3(_0x54170c,_0x4b37bb,[_0x4aab94(0x176),_0x4aab94(0x2ce),_0x4aab94(0x697),_0x4aab94(0x7f0),_0x4aab94(0x7b4),_0x4aab94(0x20c),_0x4aab94(0x163),_0x4aab94(0x292),_0x4aab94(0x20d),_0x4aab94(0x4f6)]),Array[_0x4aab94(0x358)](_0x54170c[_0x4aab94(0x54e)])&&(_0x4b37bb[_0x4aab94(0x5bb)]=_0x54170c[_0x4aab94(0x54e)][_0x4aab94(0x643)](_0x1e8f59=>({'_id':_0x1e8f59[_0x4aab94(0x45c)],'value':_0x1e8f59[_0x4aab94(0x194)]}))),_0x5ac218['leadInfo'][_0x4aab94(0x4f6)]!==void 0x0)){let _0xbfb19=await this[_0x4aab94(0x4f1)][_0x4aab94(0x489)][_0x4aab94(0x802)]({'where':{}},this[_0x4aab94(0x367)][_0x4aab94(0x18e)]),_0x5db580=new Set(_0x5ac218[_0x4aab94(0x4dd)][_0x4aab94(0x4f6)]||[]),_0x1a41a2=new Set(_0x5ac218[_0x4aab94(0x4dd)][_0x4aab94(0x4f6)]),_0x5c3a79=new Set(_0xbfb19[_0x4aab94(0x643)](_0x1e6d67=>_0x1e6d67[_0x4aab94(0x45c)])),_0x3c7f39=[..._0x1a41a2][_0x4aab94(0x6f1)](_0x117485=>!_0x5db580[_0x4aab94(0x3c4)](_0x117485)&&_0x5c3a79[_0x4aab94(0x3c4)](_0x117485)),_0x420465=[..._0x5db580]['filter'](_0x267b7b=>!_0x1a41a2[_0x4aab94(0x3c4)](_0x267b7b));if(_0x4b37bb['leadInfo.etiquetas']=[..._0x5db580],_0x5d84f2&&!_0x5d84f2[_0x4aab94(0x601)]){for(let _0x8f48ab of _0x3c7f39)await this[_0x4aab94(0x2c0)](_0x8f48ab,_0x5ac218['_id']),_0x5db580['add'](_0x8f48ab);for(let _0x5477df of _0x420465)await this[_0x4aab94(0x363)](_0x5477df,_0x5ac218[_0x4aab94(0x45c)]),_0x5db580['delete'](_0x5477df);}}if(_0x5ac218[_0x4aab94(0x791)]!==void 0x0&&(_0x4b37bb[_0x4aab94(0x791)]=Number(_0x5ac218['unreadcount'])),Object[_0x4aab94(0x58c)](_0x4b37bb)[_0x4aab94(0x6f5)]===0x0)throw new Error(_0x4aab94(0x4e4));let _0x4f0fba=await this[_0x4aab94(0x4f1)][_0x4aab94(0x7fd)][_0x4aab94(0x53d)]({'where':{'_id':_0x5ac218['_id']}},_0x4b37bb,this[_0x4aab94(0x367)][_0x4aab94(0x18e)]);return _0x4f0fba&&J(this[_0x4aab94(0x185)],_0x4aab94(0x1e2),{'chat':_0x4f0fba}),_0x4f0fba?(this['logger'][_0x4aab94(0x2da)](this['instanceName']+'\x20('+this['instance'][_0x4aab94(0x18e)]+_0x4aab94(0x1db)+JSON[_0x4aab94(0x4eb)](_0x4f0fba,null,0x2)),_0x4f0fba):{'message':_0x4aab94(0x396)};}catch(_0x4d700d){let _0x25a0c1=_0x4aab94(0x605),_0x186263=_0x4d700d instanceof Error?_0x4d700d[_0x4aab94(0x707)]:typeof _0x4d700d==_0x4aab94(0x410)?JSON[_0x4aab94(0x4eb)](_0x4d700d):_0x4d700d,_0x1021a7=_0x25a0c1+':\x20'+_0x186263;throw this[_0x4aab94(0x29f)][_0x4aab94(0x62f)](this[_0x4aab94(0x185)]+'\x20('+this[_0x4aab94(0x367)][_0x4aab94(0x18e)]+_0x4aab94(0x1db)+_0x1021a7),new m(_0x1021a7);}}async[a0_0x34238b(0x2c0)](_0x5e1b06,_0x28bc21){const _0x473286=a0_0x34238b;try{await this[_0x473286(0x521)][_0x473286(0x1d4)](_0x28bc21,_0x5e1b06),this[_0x473286(0x29f)][_0x473286(0x364)](this['instanceName']+'\x20('+this[_0x473286(0x367)]['wuid']+_0x473286(0x548)+_0x5e1b06+_0x473286(0x251)+_0x28bc21+_0x473286(0x2e6));}catch(_0x94fabf){console[_0x473286(0x62f)](_0x473286(0x563)+_0x5e1b06+_0x473286(0x63e)+_0x28bc21+':',_0x94fabf);}}async[a0_0x34238b(0x363)](_0x530b0a,_0xd504c5){const _0x14310c=a0_0x34238b;try{await this[_0x14310c(0x521)][_0x14310c(0x7f2)](_0xd504c5,_0x530b0a),this['logger'][_0x14310c(0x364)](this[_0x14310c(0x185)]+'\x20('+this[_0x14310c(0x367)][_0x14310c(0x18e)]+'):\x20Label\x20'+_0x530b0a+'\x20removido\x20do\x20chat\x20'+_0xd504c5+_0x14310c(0x2e6));}catch(_0x1425a1){console[_0x14310c(0x62f)]('Erro\x20ao\x20remover\x20label\x20'+_0x530b0a+_0x14310c(0x520)+_0xd504c5+':',_0x1425a1);}}async[a0_0x34238b(0x675)](_0x3269bc){const _0x5e3d9d=a0_0x34238b;try{let _0x249ff2=await this[_0x5e3d9d(0x4f1)][_0x5e3d9d(0x4a4)][_0x5e3d9d(0x6e9)](this[_0x5e3d9d(0x367)][_0x5e3d9d(0x18e)]),_0x45c273=_0x3269bc['_id']?_0x249ff2[_0x5e3d9d(0x7c1)][_0x5e3d9d(0x3e5)](_0x261cab=>_0x261cab[_0x5e3d9d(0x45c)]===_0x3269bc[_0x5e3d9d(0x45c)]):-0x1;if(_0x3269bc[_0x5e3d9d(0x253)]&&_0x45c273>-0x1)_0x249ff2[_0x5e3d9d(0x7c1)][_0x5e3d9d(0x534)](_0x45c273,0x1);else{if(_0x45c273>-0x1){let _0x115049=_0x249ff2[_0x5e3d9d(0x7c1)][_0x45c273];_0x3269bc['fone']&&(_0x115049['fone']=_0x3269bc[_0x5e3d9d(0x831)]),_0x3269bc[_0x5e3d9d(0x5f8)]&&(_0x115049['name']=_0x3269bc[_0x5e3d9d(0x5f8)]),_0x3269bc['email']&&(_0x115049[_0x5e3d9d(0x697)]=_0x3269bc[_0x5e3d9d(0x697)]),_0x3269bc[_0x5e3d9d(0x62e)]&&(_0x115049[_0x5e3d9d(0x62e)]=_0x3269bc[_0x5e3d9d(0x62e)]);}else _0x249ff2[_0x5e3d9d(0x7c1)]['push']({'_id':_0x3269bc['_id']||new oe['default']['Types'][(_0x5e3d9d(0x15e))]()['toString'](),'fone':_0x3269bc['fone'],'name':_0x3269bc[_0x5e3d9d(0x5f8)],'email':_0x3269bc[_0x5e3d9d(0x697)],'role':_0x3269bc[_0x5e3d9d(0x62e)]});}let _0x1b8b9b={'agents':_0x249ff2[_0x5e3d9d(0x7c1)]},_0x5a51cf=await this[_0x5e3d9d(0x4f1)][_0x5e3d9d(0x4a4)][_0x5e3d9d(0x386)](_0x1b8b9b,this[_0x5e3d9d(0x367)]['wuid']);return this[_0x5e3d9d(0x7e1)]=_0x5a51cf,this[_0x5e3d9d(0x29f)]['verbose'](this['instanceName']+'\x20('+this[_0x5e3d9d(0x367)][_0x5e3d9d(0x18e)]+_0x5e3d9d(0x40b)),this['logger']['verbose'](this[_0x5e3d9d(0x185)]+'\x20('+this[_0x5e3d9d(0x367)][_0x5e3d9d(0x18e)]+_0x5e3d9d(0x1db)+this[_0x5e3d9d(0x7e1)]),_0x5a51cf;}catch(_0x33ed17){let _0xd3bfd1='Erro\x20ao\x20editar\x20agentes',_0x2e7acf=_0x33ed17 instanceof Error?_0x33ed17[_0x5e3d9d(0x707)]:typeof _0x33ed17==_0x5e3d9d(0x410)?JSON[_0x5e3d9d(0x4eb)](_0x33ed17):_0x33ed17,_0xad73e8=_0xd3bfd1+':\x20'+_0x2e7acf;throw this[_0x5e3d9d(0x29f)][_0x5e3d9d(0x62f)](this[_0x5e3d9d(0x185)]+'\x20('+this['instance']['wuid']+_0x5e3d9d(0x1db)+_0xad73e8),new m(_0xad73e8);}}async[a0_0x34238b(0x555)](_0x15265d){const _0x35166f=a0_0x34238b;try{let _0x1295e9=await this[_0x35166f(0x4f1)][_0x35166f(0x4a4)][_0x35166f(0x6e9)](this['instance'][_0x35166f(0x18e)]),_0x4123d1=_0x15265d[_0x35166f(0x45c)]?_0x1295e9[_0x35166f(0x54e)]['findIndex'](_0x2454d1=>_0x2454d1[_0x35166f(0x45c)]===_0x15265d[_0x35166f(0x45c)]):-0x1,_0x197d8e=!0x1,_0x124a0f=_0x1295e9[_0x35166f(0x54e)]['some'](_0x4fa234=>_0x4fa234[_0x35166f(0x490)]===_0x15265d[_0x35166f(0x490)]);if(_0x15265d[_0x35166f(0x253)]&&_0x4123d1>-0x1)_0x1295e9[_0x35166f(0x54e)]['splice'](_0x4123d1,0x1),_0x197d8e=!0x0;else{if(_0x4123d1>-0x1){if(_0x1295e9['customFields']['some'](_0xaee78a=>_0xaee78a['name']===_0x15265d[_0x35166f(0x5f8)]&&_0xaee78a['_id']!==_0x15265d[_0x35166f(0x45c)]))throw new Error(_0x35166f(0x380));let _0x206b44=_0x1295e9[_0x35166f(0x54e)][_0x4123d1];_0x15265d['order']&&(_0x124a0f||!Number[_0x35166f(0x487)](_0x15265d['order']))&&(_0x206b44[_0x35166f(0x490)]=_0x15265d[_0x35166f(0x490)],_0x197d8e=!0x0),_0x15265d[_0x35166f(0x5f8)]&&(_0x206b44[_0x35166f(0x5f8)]=_0x15265d[_0x35166f(0x5f8)]);}else{if(_0x1295e9['customFields']['some'](_0x4e6503=>_0x4e6503[_0x35166f(0x5f8)]===_0x15265d[_0x35166f(0x5f8)]&&_0x4e6503[_0x35166f(0x45c)]!==_0x15265d['_id']))throw new Error(_0x35166f(0x380));_0x1295e9['customFields'][_0x35166f(0x57d)]({'_id':_0x15265d[_0x35166f(0x45c)]||new oe[(_0x35166f(0x3fd))]['Types'][(_0x35166f(0x15e))]()['toString'](),'order':_0x15265d['order'],'name':_0x15265d[_0x35166f(0x5f8)]}),_0x197d8e=!0x0;}}if(_0x197d8e){_0x1295e9[_0x35166f(0x54e)][_0x35166f(0x778)]((_0x563a4d,_0x758243)=>_0x563a4d['order']>_0x758243[_0x35166f(0x490)]?0x1:_0x758243['order']>_0x563a4d['order']?-0x1:0x0);for(let _0x2cb697=0x0;_0x2cb697<_0x1295e9['customFields']['length'];_0x2cb697++)_0x1295e9[_0x35166f(0x54e)][_0x2cb697][_0x35166f(0x490)]=_0x2cb697+0x1;}let _0xa57aa5=await this[_0x35166f(0x4f1)][_0x35166f(0x4a4)][_0x35166f(0x386)](_0x1295e9,this[_0x35166f(0x367)][_0x35166f(0x18e)]);return this[_0x35166f(0x7e1)]=_0xa57aa5,this[_0x35166f(0x29f)]['verbose'](this[_0x35166f(0x185)]+'\x20('+this[_0x35166f(0x367)][_0x35166f(0x18e)]+_0x35166f(0x751)),this[_0x35166f(0x29f)]['verbose'](this['instanceName']+'\x20('+this[_0x35166f(0x367)][_0x35166f(0x18e)]+'):\x20'+this[_0x35166f(0x7e1)]),_0xa57aa5;}catch(_0x3d5192){let _0x545c22=_0x35166f(0x36b),_0x38aca1=_0x3d5192 instanceof Error?_0x3d5192[_0x35166f(0x707)]:typeof _0x3d5192==_0x35166f(0x410)?JSON[_0x35166f(0x4eb)](_0x3d5192):_0x3d5192,_0x27b8a6=_0x545c22+':\x20'+_0x38aca1;throw this[_0x35166f(0x29f)][_0x35166f(0x62f)](this['instanceName']+'\x20('+this[_0x35166f(0x367)][_0x35166f(0x18e)]+_0x35166f(0x1db)+_0x27b8a6),new m(_0x27b8a6);}}async[a0_0x34238b(0x2a6)](_0x3d9e9e){const _0x489317=a0_0x34238b;try{let _0x4ed737=await this[_0x489317(0x4f1)][_0x489317(0x4a4)][_0x489317(0x6e9)](this[_0x489317(0x367)][_0x489317(0x18e)]),_0x4efbf0=_0x4ed737?.['autoCompleteMessages']?.['findIndex'](_0x1dd969=>_0x1dd969[_0x489317(0x45c)]===_0x3d9e9e?.['_id']);if(_0x3d9e9e?.[_0x489317(0x253)])_0x4efbf0>-0x1&&_0x4ed737?.[_0x489317(0x33d)]?.[_0x489317(0x534)](_0x4efbf0,0x1);else{if(_0x4efbf0>-0x1){let _0x3d5bc1=_0x4ed737[_0x489317(0x33d)][_0x4efbf0];_0x3d5bc1['order']=_0x3d9e9e?.[_0x489317(0x490)]||_0x3d5bc1[_0x489317(0x490)],_0x3d5bc1[_0x489317(0x7e3)]=_0x3d9e9e?.['command']||_0x3d5bc1[_0x489317(0x7e3)],_0x3d5bc1[_0x489317(0x707)]=_0x3d9e9e?.['message']||_0x3d5bc1[_0x489317(0x707)];}else{let _0x2ffd24={'_id':_0x3d9e9e?.[_0x489317(0x45c)]||new oe[(_0x489317(0x3fd))]['Types']['ObjectId']()[_0x489317(0x513)](),'order':_0x3d9e9e?.[_0x489317(0x490)],'command':_0x3d9e9e?.['command'],'message':_0x3d9e9e?.[_0x489317(0x707)]};_0x4ed737?.[_0x489317(0x33d)]?.[_0x489317(0x57d)](_0x2ffd24);}}_0x4ed737?.[_0x489317(0x33d)]?.[_0x489317(0x778)]((_0x5aea12,_0x11535c)=>_0x5aea12[_0x489317(0x490)]-_0x11535c[_0x489317(0x490)]);let _0xe9cd8f=await this[_0x489317(0x4f1)]['automateSystem'][_0x489317(0x386)](_0x4ed737,this[_0x489317(0x367)]['wuid']);return this[_0x489317(0x7e1)]=_0xe9cd8f,this[_0x489317(0x29f)]['verbose'](this[_0x489317(0x185)]+'\x20('+this['instance'][_0x489317(0x18e)]+_0x489317(0x751)),_0xe9cd8f;}catch(_0x586204){let _0x52757a=_0x489317(0x3f4),_0x5cba35=_0x586204 instanceof Error?_0x586204[_0x489317(0x707)]:typeof _0x586204==_0x489317(0x410)?JSON[_0x489317(0x4eb)](_0x586204):_0x586204,_0x303e48=_0x52757a+':\x20'+_0x5cba35;throw this['logger']['error'](this[_0x489317(0x185)]+'\x20('+this[_0x489317(0x367)][_0x489317(0x18e)]+_0x489317(0x1db)+_0x303e48),new m(_0x303e48);}}async[a0_0x34238b(0x6dd)](_0x4560bc){const _0x425667=a0_0x34238b;try{let _0x1b6ecb=await this[_0x425667(0x4f1)]['automateSystem'][_0x425667(0x6e9)](this['instance'][_0x425667(0x18e)]);if(!_0x1b6ecb)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x2e269c={'_id':_0x1b6ecb[_0x425667(0x45c)],'flowConfig':{'enabled':_0x4560bc[_0x425667(0x6f3)]??_0x1b6ecb[_0x425667(0x535)][_0x425667(0x6f3)],'ignoreGroups':_0x4560bc[_0x425667(0x197)]??_0x1b6ecb[_0x425667(0x535)][_0x425667(0x197)],'prefixCommand':_0x4560bc[_0x425667(0x628)]??_0x1b6ecb[_0x425667(0x535)]['prefixCommand'],'stopConversation':_0x4560bc[_0x425667(0x166)]??_0x1b6ecb[_0x425667(0x535)]['stopConversation'],'stopMinutes':_0x4560bc[_0x425667(0x3a3)]??_0x1b6ecb[_0x425667(0x535)][_0x425667(0x3a3)],'stopWhenYouSendMsg':_0x4560bc['stopWhenYouSendMsg']??_0x1b6ecb[_0x425667(0x535)]['stopWhenYouSendMsg']}},_0x87f6a9=await this[_0x425667(0x4f1)][_0x425667(0x4a4)]['update'](_0x2e269c,this[_0x425667(0x367)][_0x425667(0x18e)]);return this['AutomateSystem']=_0x87f6a9,this[_0x425667(0x29f)][_0x425667(0x2da)](this[_0x425667(0x185)]+'\x20('+this['instance'][_0x425667(0x18e)]+_0x425667(0x40b)),this[_0x425667(0x29f)][_0x425667(0x2da)](this['instanceName']+'\x20('+this[_0x425667(0x367)][_0x425667(0x18e)]+'):\x20'+this[_0x425667(0x7e1)]),setTimeout(()=>this[_0x425667(0x75e)](),0x7d0),_0x87f6a9;}catch(_0x7e3d33){let _0x2a15d9=_0x425667(0x3d5),_0x2e0e53=_0x7e3d33 instanceof Error?_0x7e3d33[_0x425667(0x707)]:typeof _0x7e3d33==_0x425667(0x410)?JSON['stringify'](_0x7e3d33):_0x7e3d33,_0x1b9c45=_0x2a15d9+':\x20'+_0x2e0e53;throw this[_0x425667(0x29f)][_0x425667(0x62f)](this[_0x425667(0x185)]+'\x20('+this[_0x425667(0x367)][_0x425667(0x18e)]+_0x425667(0x1db)+_0x1b9c45),new m(_0x1b9c45);}}async[a0_0x34238b(0x7ae)](){const _0x2200ac=a0_0x34238b;try{let _0x51d656=await this[_0x2200ac(0x4f1)]['automateSystem'][_0x2200ac(0x6e9)](this[_0x2200ac(0x367)]['wuid']);return this[_0x2200ac(0x7e1)]=_0x51d656,this[_0x2200ac(0x29f)][_0x2200ac(0x2da)](this[_0x2200ac(0x185)]+'\x20('+this['instance'][_0x2200ac(0x18e)]+_0x2200ac(0x7c5)),this[_0x2200ac(0x29f)][_0x2200ac(0x2da)](this[_0x2200ac(0x7e1)]),_0x51d656;}catch(_0x5d2268){let _0x222ac7=_0x2200ac(0x550),_0x337d04=_0x5d2268 instanceof Error?_0x5d2268['message']:typeof _0x5d2268==_0x2200ac(0x410)?JSON[_0x2200ac(0x4eb)](_0x5d2268):_0x5d2268,_0x5b5450=_0x222ac7+':\x20'+_0x337d04;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x2200ac(0x367)][_0x2200ac(0x18e)]+'):\x20'+_0x5b5450),new m(_0x5b5450);}}async[a0_0x34238b(0x78c)](){const _0xd37c0=a0_0x34238b;this[_0xd37c0(0x367)][_0xd37c0(0x280)][_0xd37c0(0x7b8)]&&clearTimeout(this[_0xd37c0(0x367)][_0xd37c0(0x280)]['timeout']),this['instance'][_0xd37c0(0x280)][_0xd37c0(0x7b8)]=setTimeout(()=>{const _0x244af6=_0xd37c0;this[_0x244af6(0x257)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x275eec=a0_0x34238b;Date[_0x275eec(0x433)]()-this[_0x275eec(0x367)][_0x275eec(0x280)][_0x275eec(0x6fc)]>=0x1d4c0&&(this[_0x275eec(0x29f)][_0x275eec(0x2da)](this[_0x275eec(0x185)]+'\x20('+this['instance']['wuid']+_0x275eec(0x59e)),this[_0x275eec(0x367)][_0x275eec(0x280)][_0x275eec(0x182)]=null,this[_0x275eec(0x367)][_0x275eec(0x280)]['lastSend']=0x0,this[_0x275eec(0x367)][_0x275eec(0x280)][_0x275eec(0x6f4)]=0x0,await this[_0x275eec(0x75e)]());}async[a0_0x34238b(0x75e)](){const _0x25a1b9=a0_0x34238b;let _0x6a36d6=()=>{const _0x4c156f=a0_0x3a3c;this[_0x4c156f(0x29f)][_0x4c156f(0x2da)](this[_0x4c156f(0x185)]+'\x20('+this[_0x4c156f(0x367)][_0x4c156f(0x18e)]+'):\x20this.processing_id:\x20'+this[_0x4c156f(0x367)]['ScheduleMessage']['processing_id']+_0x4c156f(0x3e6));},_0x41f16f=async()=>{const _0x1937ab=a0_0x3a3c;this[_0x1937ab(0x29f)][_0x1937ab(0x2da)](this[_0x1937ab(0x185)]+'\x20('+this[_0x1937ab(0x367)]['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x4aac2b=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x511da0={'where':{'status':{'$in':['scheduled',_0x1937ab(0x7f1)]},'$or':[{'when':{'$lte':Date[_0x1937ab(0x433)](),'$gte':_0x4aac2b}},{'when':0x0}]}};return await this['repository'][_0x1937ab(0x766)]['find'](_0x511da0,this[_0x1937ab(0x367)]['wuid']);},_0x2417af=async _0x36d384=>{const _0x436e0b=a0_0x3a3c;for(let _0x41a458 of _0x36d384){let _0x38a57c={'_id':_0x41a458['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},_0x3d79b3={'startSend':Date['now']()};if(!await this[_0x436e0b(0x4f1)][_0x436e0b(0x766)][_0x436e0b(0x53d)](_0x38a57c,_0x3d79b3,this[_0x436e0b(0x367)][_0x436e0b(0x18e)]))return;if(!this[_0x436e0b(0x367)][_0x436e0b(0x280)][_0x436e0b(0x78d)]){this[_0x436e0b(0x29f)][_0x436e0b(0x2da)](this[_0x436e0b(0x185)]+'\x20('+this['instance'][_0x436e0b(0x18e)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x41a458['type']==='flow'&&!this[_0x436e0b(0x7e1)]?.['flowConfig'][_0x436e0b(0x6f3)]){this[_0x436e0b(0x29f)][_0x436e0b(0x62f)](this['instanceName']+'\x20('+this['instance'][_0x436e0b(0x18e)]+_0x436e0b(0x540));continue;}(!_0x41a458[_0x436e0b(0x218)]||_0x41a458[_0x436e0b(0x218)][_0x436e0b(0x6f5)]===0x0)&&(_0x41a458=await this[_0x436e0b(0x4f1)][_0x436e0b(0x766)][_0x436e0b(0x345)](_0x41a458[_0x436e0b(0x45c)],{'status':_0x436e0b(0x7f1),'remoteJidsRemaining':[..._0x41a458[_0x436e0b(0x76f)]]},this[_0x436e0b(0x367)]['wuid']));for(let _0x48eb57 of _0x41a458[_0x436e0b(0x218)]){if(await this[_0x436e0b(0x78c)](),this[_0x436e0b(0x367)][_0x436e0b(0x280)][_0x436e0b(0x6fc)]=Date[_0x436e0b(0x433)](),this[_0x436e0b(0x367)][_0x436e0b(0x280)]['ultimaTentativaRemoteJid']===_0x48eb57){this[_0x436e0b(0x29f)][_0x436e0b(0x62f)](this[_0x436e0b(0x185)]+'\x20('+this['instance']['wuid']+_0x436e0b(0x209)+_0x48eb57+_0x436e0b(0x6d1));let _0x49d96d={'$push':{'messagesSend':{'remoteJid':_0x48eb57,'error':!0x0,'id':null,'error_log':'Falha\x20após\x20várias\x20tentativas.','log_timestamp':Date[_0x436e0b(0x433)]()}},'$pull':{'remoteJidsRemaining':_0x48eb57}};await this[_0x436e0b(0x4f1)][_0x436e0b(0x766)][_0x436e0b(0x345)](_0x41a458['_id'],_0x49d96d,this[_0x436e0b(0x367)][_0x436e0b(0x18e)]);continue;}if(this['instance'][_0x436e0b(0x280)][_0x436e0b(0x46a)]=_0x48eb57,_0x41a458[_0x436e0b(0x582)][_0x436e0b(0x2de)](_0x375911=>_0x375911[_0x436e0b(0x484)]===_0x48eb57)){this[_0x436e0b(0x29f)]['verbose'](this['instanceName']+'\x20('+this[_0x436e0b(0x367)][_0x436e0b(0x18e)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x48eb57+_0x436e0b(0x30f));continue;}if(!this[_0x436e0b(0x367)]['ScheduleMessage'][_0x436e0b(0x78d)]){this[_0x436e0b(0x29f)][_0x436e0b(0x2da)](this[_0x436e0b(0x185)]+'\x20('+this['instance'][_0x436e0b(0x18e)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x436e0b(0x367)][_0x436e0b(0x280)][_0x436e0b(0x182)]){this[_0x436e0b(0x29f)]['verbose'](this['instanceName']+'\x20('+this[_0x436e0b(0x367)][_0x436e0b(0x18e)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x41a458[_0x436e0b(0x45c)]+_0x436e0b(0x505));break;}if(_0x41a458[_0x436e0b(0x3f1)]==='flow'&&!this[_0x436e0b(0x7e1)]?.[_0x436e0b(0x535)][_0x436e0b(0x6f3)]){this[_0x436e0b(0x29f)][_0x436e0b(0x62f)](this[_0x436e0b(0x185)]+'\x20('+this[_0x436e0b(0x367)][_0x436e0b(0x18e)]+_0x436e0b(0x540));break;}let _0x3fecba={'remoteJid':_0x48eb57,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x436e0b(0x433)]()},_0x5cacbc=null;try{let _0x29354a=await this['SendScheduleMessage'](_0x48eb57,_0x41a458);_0x3fecba['error']=_0x29354a[_0x436e0b(0x62f)],_0x3fecba['id']=_0x29354a[_0x436e0b(0x62f)]?null:_0x29354a['id'],_0x3fecba['error_log']=_0x29354a[_0x436e0b(0x62f)]?_0x29354a[_0x436e0b(0x7ed)]?_0x29354a[_0x436e0b(0x7ed)][_0x436e0b(0x513)]():'':null;let _0x4760c9={'$push':{'messagesSend':_0x3fecba},'$pull':{'remoteJidsRemaining':_0x48eb57}},_0x4cf88e=_0x41a458['_id'];if(_0x5cacbc=await this[_0x436e0b(0x4f1)][_0x436e0b(0x766)][_0x436e0b(0x345)](_0x4cf88e,_0x4760c9,this[_0x436e0b(0x367)]['wuid']),_0x29354a[_0x436e0b(0x62f)])continue;let _0x286f97=this[_0x436e0b(0x413)](_0x41a458['delaySecMin'],_0x41a458['delaySecMax']);await this[_0x436e0b(0x1a6)](_0x286f97);}catch(_0x1270f0){this['logger'][_0x436e0b(0x62f)](this[_0x436e0b(0x185)]+'\x20('+this['instance'][_0x436e0b(0x18e)]+_0x436e0b(0x230)+_0x48eb57+':\x20'+(_0x1270f0 instanceof Error?_0x1270f0[_0x436e0b(0x707)]:JSON[_0x436e0b(0x4eb)](_0x1270f0,null,0x2))),_0x3fecba['error']=!0x0,_0x3fecba[_0x436e0b(0x31e)]=_0x1270f0[_0x436e0b(0x707)];let _0x9f0d16={'$push':{'messagesSend':_0x3fecba},'$pull':{'remoteJidsRemaining':_0x48eb57}},_0x3079a4=_0x41a458[_0x436e0b(0x45c)];_0x5cacbc=await this['repository'][_0x436e0b(0x766)][_0x436e0b(0x345)](_0x3079a4,_0x9f0d16,this[_0x436e0b(0x367)][_0x436e0b(0x18e)]);}finally{if(_0x5cacbc&&_0x5cacbc[_0x436e0b(0x7b4)]==='stopped'){this[_0x436e0b(0x29f)][_0x436e0b(0x2da)](this[_0x436e0b(0x185)]+'\x20('+this['instance'][_0x436e0b(0x18e)]+_0x436e0b(0x595)+_0x41a458[_0x436e0b(0x45c)]+_0x436e0b(0x344));break;}}}let _0x448c87=await this[_0x436e0b(0x4f1)]['scheduleMessage'][_0x436e0b(0x221)](_0x41a458[_0x436e0b(0x45c)],this[_0x436e0b(0x367)][_0x436e0b(0x18e)]);if(_0x448c87[_0x436e0b(0x218)][_0x436e0b(0x6f5)]===0x0&&_0x448c87[_0x436e0b(0x7b4)]!==_0x436e0b(0x69d)){this['instance'][_0x436e0b(0x280)][_0x436e0b(0x46a)]=null;let _0x204cce={'$set':{'status':_0x436e0b(0x4d8)}},_0x10566e=_0x448c87[_0x436e0b(0x45c)];await this[_0x436e0b(0x4f1)][_0x436e0b(0x766)]['updateOneById'](_0x10566e,_0x204cce,this[_0x436e0b(0x367)][_0x436e0b(0x18e)]);}await new Promise(_0x5d3adb=>setTimeout(_0x5d3adb,0x1388));}},_0x3d7876=async()=>{const _0x33f317=a0_0x3a3c;let _0x21cc0a={'where':{'status':_0x33f317(0x75b),'when':{'$gt':Date[_0x33f317(0x433)]()}}},_0x45ab5b=await this[_0x33f317(0x4f1)][_0x33f317(0x766)][_0x33f317(0x6cc)](_0x21cc0a,this['instance']['wuid']);_0x45ab5b&&_0x45ab5b[_0x33f317(0x6f8)]-Date['now']()<=0x5265c00?this[_0x33f317(0x367)][_0x33f317(0x280)][_0x33f317(0x6f4)]=_0x45ab5b[_0x33f317(0x6f8)]-Date[_0x33f317(0x433)]():this['instance'][_0x33f317(0x280)]['delayMessage']=(0x3c+Math['floor'](Math[_0x33f317(0x403)]()*0x3c))*0x3c*0x3e8,this['instance']['ScheduleMessage'][_0x33f317(0x6f4)]=Math['max'](this[_0x33f317(0x367)][_0x33f317(0x280)][_0x33f317(0x6f4)],0x7d0);let _0xa1682d=Math[_0x33f317(0x741)](this[_0x33f317(0x367)][_0x33f317(0x280)][_0x33f317(0x6f4)]/0xea60);if(_0x45ab5b){let _0x44e98e=new Date(_0x45ab5b['when'])[_0x33f317(0x6a1)]();this[_0x33f317(0x29f)][_0x33f317(0x2da)](this[_0x33f317(0x185)]+'\x20('+this[_0x33f317(0x367)][_0x33f317(0x18e)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x44e98e+',\x20fará\x20nova\x20verificação\x20em\x20'+_0xa1682d+'\x20minutos');}else this[_0x33f317(0x29f)][_0x33f317(0x2da)](this[_0x33f317(0x185)]+'\x20('+this[_0x33f317(0x367)]['wuid']+_0x33f317(0x6a5)+_0xa1682d+_0x33f317(0x811));setTimeout(()=>this[_0x33f317(0x75e)](),this[_0x33f317(0x367)]['ScheduleMessage']['delayMessage']);};if(this[_0x25a1b9(0x367)][_0x25a1b9(0x280)]['processing_id']){await this[_0x25a1b9(0x78c)](),_0x6a36d6();return;}if(!this[_0x25a1b9(0x367)][_0x25a1b9(0x280)]['isConnected']){this[_0x25a1b9(0x29f)][_0x25a1b9(0x2da)](this[_0x25a1b9(0x185)]+'\x20('+this[_0x25a1b9(0x367)][_0x25a1b9(0x18e)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x25a1b9(0x367)]['ScheduleMessage'][_0x25a1b9(0x182)]=null,this[_0x25a1b9(0x367)][_0x25a1b9(0x280)][_0x25a1b9(0x6fc)]=0x0,this[_0x25a1b9(0x367)][_0x25a1b9(0x280)][_0x25a1b9(0x6f4)]=0x0,this[_0x25a1b9(0x367)][_0x25a1b9(0x280)][_0x25a1b9(0x46a)]=null;return;}try{let _0x4d785d=await _0x41f16f();_0x4d785d[_0x25a1b9(0x6f5)]===0x0?this['logger']['verbose'](this[_0x25a1b9(0x185)]+'\x20('+this[_0x25a1b9(0x367)]['wuid']+_0x25a1b9(0x1fb)):(this['instance'][_0x25a1b9(0x280)][_0x25a1b9(0x182)]=_0x4d785d[0x0]['_id'],await _0x2417af(_0x4d785d)),await _0x3d7876(),this[_0x25a1b9(0x367)]['ScheduleMessage']['processing_id']=null,this['instance']['ScheduleMessage']['ultimaTentativaRemoteJid']=null;}catch(_0x40c67c){this[_0x25a1b9(0x29f)][_0x25a1b9(0x62f)](_0x25a1b9(0x2c8)+(_0x40c67c instanceof Error?_0x40c67c['message']:JSON['stringify'](_0x40c67c,null,0x2)));}}[a0_0x34238b(0x413)](_0x2f37ff,_0x2dd4d4){const _0x343029=a0_0x34238b;return _0x2f37ff=Math[_0x343029(0x664)](0.5,_0x2f37ff),_0x2dd4d4=Math[_0x343029(0x72d)](Math[_0x343029(0x664)](0x3,_0x2dd4d4),0x78),Math[_0x343029(0x604)](Math['random']()*(_0x2dd4d4-_0x2f37ff+0x1)+_0x2f37ff)*0x3e8;}[a0_0x34238b(0x1a6)](_0x3ae9fc){return new Promise(_0x44fa0e=>setTimeout(_0x44fa0e,_0x3ae9fc));}async[a0_0x34238b(0x498)](_0x3fd1de){const _0x373ba8=a0_0x34238b;if(!this['AutomateSystem']&&(await this[_0x373ba8(0x7ae)](),!this[_0x373ba8(0x7e1)]))return null;_0x3fd1de=this[_0x373ba8(0x21b)](_0x3fd1de);let _0x535420=await this[_0x373ba8(0x4f1)][_0x373ba8(0x7fd)][_0x373ba8(0x6cc)]({'where':{'_id':_0x3fd1de}},this[_0x373ba8(0x367)][_0x373ba8(0x18e)]),_0x21cacc={};if(_0x535420&&_0x535420[_0x373ba8(0x4dd)]){let _0x297e1b=_0x535420[_0x373ba8(0x4dd)];typeof _0x297e1b['nome']==_0x373ba8(0x330)&&(_0x21cacc[_0x373ba8(0x176)]=_0x297e1b[_0x373ba8(0x176)]),typeof _0x297e1b[_0x373ba8(0x2ce)]=='string'&&(_0x21cacc[_0x373ba8(0x2ce)]=_0x297e1b[_0x373ba8(0x2ce)]),typeof _0x297e1b[_0x373ba8(0x697)]=='string'&&(_0x21cacc[_0x373ba8(0x697)]=_0x297e1b[_0x373ba8(0x697)]),typeof _0x297e1b['cpf']==_0x373ba8(0x330)&&(_0x21cacc[_0x373ba8(0x7f0)]=_0x297e1b[_0x373ba8(0x7f0)]),typeof _0x297e1b['status']==_0x373ba8(0x330)&&(_0x21cacc[_0x373ba8(0x7b4)]=_0x297e1b[_0x373ba8(0x7b4)]),typeof _0x297e1b['notas']==_0x373ba8(0x330)&&(_0x21cacc[_0x373ba8(0x20c)]=_0x297e1b[_0x373ba8(0x20c)]),typeof _0x297e1b[_0x373ba8(0x20d)]=='string'&&(_0x21cacc[_0x373ba8(0x20d)]=_0x297e1b[_0x373ba8(0x20d)]),Array['isArray'](_0x297e1b['tags'])&&(_0x21cacc[_0x373ba8(0x163)]=_0x297e1b[_0x373ba8(0x163)][_0x373ba8(0x692)](',\x20')),Array[_0x373ba8(0x358)](_0x297e1b[_0x373ba8(0x4f6)])&&(_0x21cacc[_0x373ba8(0x4f6)]=_0x297e1b['etiquetas']['join'](',\x20'));}return _0x535420&&_0x535420['leadInfo']&&_0x535420[_0x373ba8(0x4dd)][_0x373ba8(0x54e)]&&_0x535420[_0x373ba8(0x4dd)][_0x373ba8(0x54e)][_0x373ba8(0x44e)](_0x297f6e=>{const _0x1dbbf6=_0x373ba8;let _0x592f35=this[_0x1dbbf6(0x7e1)]?.['customFields'][_0x1dbbf6(0x802)](_0x309493=>_0x309493[_0x1dbbf6(0x45c)]===_0x297f6e[_0x1dbbf6(0x45c)]);_0x592f35&&(_0x21cacc[_0x592f35[_0x1dbbf6(0x5f8)]]=_0x297f6e[_0x1dbbf6(0x194)]);}),_0x21cacc;}async[a0_0x34238b(0x83a)](_0x24c761,_0x460a2f){const _0x29211c=a0_0x34238b;try{let _0x32e94d=await this[_0x29211c(0x498)](_0x460a2f);return this[_0x29211c(0x360)](_0x24c761,_0x32e94d);}catch(_0x5d1367){return this['logger']['error']('Erro\x20ao\x20substituir\x20variáveis\x20para\x20'+_0x460a2f+':\x20'+_0x5d1367),_0x24c761;}}async['editScheduleMessage'](_0x3ee31d){const _0x3eb5c8=a0_0x34238b;try{if(this[_0x3eb5c8(0x29f)][_0x3eb5c8(0x2da)](this[_0x3eb5c8(0x185)]+'\x20('+this[_0x3eb5c8(0x367)][_0x3eb5c8(0x18e)]+_0x3eb5c8(0x6ff)),_0x3ee31d[_0x3eb5c8(0x253)]&&_0x3ee31d[_0x3eb5c8(0x45c)]){if(this['instance'][_0x3eb5c8(0x280)][_0x3eb5c8(0x182)]===_0x3ee31d[_0x3eb5c8(0x45c)]['toString']())throw new Error(_0x3eb5c8(0x286));let _0x13a8d3=await this['repository'][_0x3eb5c8(0x766)][_0x3eb5c8(0x1bd)](_0x3ee31d[_0x3eb5c8(0x45c)],this['instance'][_0x3eb5c8(0x18e)]);return setTimeout(()=>this[_0x3eb5c8(0x75e)](),0x7d0),_0x13a8d3;}let _0x396004;if(_0x3ee31d['_id']&&(_0x396004=await this[_0x3eb5c8(0x4f1)]['scheduleMessage'][_0x3eb5c8(0x221)](_0x3ee31d['_id'],this[_0x3eb5c8(0x367)]['wuid'])),_0x396004){let _0x122601;if(this[_0x3eb5c8(0x367)][_0x3eb5c8(0x280)][_0x3eb5c8(0x182)]===_0x396004[_0x3eb5c8(0x45c)][_0x3eb5c8(0x513)]())_0x122601={'$set':{'status':_0x3ee31d[_0x3eb5c8(0x7b4)]}};else{let {_id:_0x3b3e0e,..._0x2f433e}=_0x3ee31d;_0x122601={'$set':_0x2f433e};}let _0x375b9b=await this[_0x3eb5c8(0x4f1)][_0x3eb5c8(0x766)][_0x3eb5c8(0x345)](_0x3ee31d[_0x3eb5c8(0x45c)],_0x122601,this['instance'][_0x3eb5c8(0x18e)]);return setTimeout(()=>this[_0x3eb5c8(0x75e)](),0x7d0),_0x375b9b;}else{_0x3ee31d[_0x3eb5c8(0x553)]=this[_0x3eb5c8(0x367)]['wuid'];let _0x56ab0a=await this[_0x3eb5c8(0x4f1)][_0x3eb5c8(0x766)][_0x3eb5c8(0x35b)](_0x3ee31d,this[_0x3eb5c8(0x367)]['wuid']);return setTimeout(()=>this[_0x3eb5c8(0x75e)](),0x7d0),_0x56ab0a;}}catch(_0x4a9275){let _0x13b6ea=_0x3eb5c8(0x162),_0x1f2594=_0x4a9275 instanceof Error?_0x4a9275[_0x3eb5c8(0x707)]:typeof _0x4a9275=='object'?JSON['stringify'](_0x4a9275):_0x4a9275,_0x8013cc=_0x13b6ea+':\x20'+_0x1f2594;throw this[_0x3eb5c8(0x29f)][_0x3eb5c8(0x62f)](this['instanceName']+'\x20('+this[_0x3eb5c8(0x367)][_0x3eb5c8(0x18e)]+_0x3eb5c8(0x1db)+_0x8013cc),new m(_0x8013cc);}}async[a0_0x34238b(0x179)](){const _0x18b741=a0_0x34238b;try{return await this['repository']['scheduleMessage'][_0x18b741(0x802)]({'where':{}},this[_0x18b741(0x367)][_0x18b741(0x18e)]);}catch(_0x1fb846){let _0x4bdaa3=_0x18b741(0x1f8),_0x3de787=_0x1fb846 instanceof Error?_0x1fb846['message']:typeof _0x1fb846==_0x18b741(0x410)?JSON['stringify'](_0x1fb846):_0x1fb846,_0x37dd62=_0x4bdaa3+':\x20'+_0x3de787;throw this[_0x18b741(0x29f)][_0x18b741(0x62f)](this[_0x18b741(0x185)]+'\x20('+this[_0x18b741(0x367)][_0x18b741(0x18e)]+_0x18b741(0x1db)+_0x37dd62),new m(_0x37dd62);}}async[a0_0x34238b(0x28c)](){const _0x3466af=a0_0x34238b;try{let _0x1fd11a={'status':_0x3466af(0x4d8)},_0x5b21f2=await this[_0x3466af(0x4f1)][_0x3466af(0x766)]['deleteMany'](_0x1fd11a,this['instance']['wuid']);if(!_0x5b21f2[_0x3466af(0x62f)])this[_0x3466af(0x29f)][_0x3466af(0x2da)](this['instanceName']+'\x20('+this['instance'][_0x3466af(0x18e)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x5b21f2[_0x3466af(0x62f)]['message']||_0x3466af(0x184));return this[_0x3466af(0x179)]();}catch(_0x51c866){let _0x38bf99='Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done',_0x1e6328=_0x51c866 instanceof Error?_0x51c866[_0x3466af(0x707)]:typeof _0x51c866==_0x3466af(0x410)?JSON[_0x3466af(0x4eb)](_0x51c866):_0x51c866,_0x2f4aef=_0x38bf99+':\x20'+_0x1e6328;throw this[_0x3466af(0x29f)][_0x3466af(0x62f)](this[_0x3466af(0x185)]+'\x20('+this[_0x3466af(0x367)][_0x3466af(0x18e)]+_0x3466af(0x1db)+_0x2f4aef),new m(_0x2f4aef);}}async[a0_0x34238b(0x188)](_0x46f2d9,_0x21a81c){const _0x2d8aff=a0_0x34238b;try{if(_0x21a81c[_0x2d8aff(0x3f1)]===_0x2d8aff(0x798)&&!this['AutomateSystem']?.['flowConfig'][_0x2d8aff(0x6f3)])return this[_0x2d8aff(0x29f)][_0x2d8aff(0x62f)](this[_0x2d8aff(0x185)]+'\x20('+this[_0x2d8aff(0x367)][_0x2d8aff(0x18e)]+_0x2d8aff(0x5d6)),{'error':!0x0,'detail':_0x2d8aff(0x52a)};switch(_0x21a81c['type']){case _0x2d8aff(0x295):return await this[_0x2d8aff(0x629)](_0x21a81c,_0x46f2d9);case _0x2d8aff(0x7fa):return await this['scheduleSendMedia'](_0x21a81c,_0x46f2d9);case _0x2d8aff(0x585):return await this[_0x2d8aff(0x39a)](_0x21a81c,_0x46f2d9);case _0x2d8aff(0x798):let _0x492d34=new qe();return _0x492d34[_0x2d8aff(0x5f8)]=_0x21a81c[_0x2d8aff(0x5c5)],_0x492d34[_0x2d8aff(0x484)]=_0x46f2d9,await this[_0x2d8aff(0x775)](_0x492d34);break;default:return this[_0x2d8aff(0x29f)]['error'](this[_0x2d8aff(0x185)]+'\x20('+this[_0x2d8aff(0x367)][_0x2d8aff(0x18e)]+'):\x20Comando\x20desconhecido:\x20'+_0x21a81c[_0x2d8aff(0x3f1)]),{'error':!0x0,'detail':_0x2d8aff(0x7f8)};}}catch(_0x4dac1a){return this[_0x2d8aff(0x29f)][_0x2d8aff(0x62f)](this[_0x2d8aff(0x185)]+'\x20('+this[_0x2d8aff(0x367)]['wuid']+_0x2d8aff(0x7de)+(_0x4dac1a instanceof Error?_0x4dac1a[_0x2d8aff(0x707)]:JSON[_0x2d8aff(0x4eb)](_0x4dac1a,null,0x2))),{'error':!0x0,'detail':_0x4dac1a['message']};}}[a0_0x34238b(0x46e)](_0x360ce1){const _0x4693b4=a0_0x34238b;let _0x4a5928=_0x360ce1[_0x4693b4(0x447)]('|'),_0x3ae2f0=Math[_0x4693b4(0x604)](Math['random']()*_0x4a5928[_0x4693b4(0x6f5)]);return _0x4a5928[_0x3ae2f0][_0x4693b4(0x22d)]();}async[a0_0x34238b(0x629)](_0x44a2c4,_0x2d827){const _0x64e39d=a0_0x34238b;if(this[_0x64e39d(0x29f)][_0x64e39d(0x2da)](this[_0x64e39d(0x185)]+'\x20('+this[_0x64e39d(0x367)]['wuid']+'):\x20Enviando\x20texto'),!_0x44a2c4[_0x64e39d(0x707)][_0x64e39d(0x295)]||_0x44a2c4[_0x64e39d(0x707)]['text'][_0x64e39d(0x6f5)]===0x0)return{'error':!0x0,'detail':_0x64e39d(0x7ab)};let _0x48cf2b=this[_0x64e39d(0x46e)](_0x44a2c4[_0x64e39d(0x707)][_0x64e39d(0x295)]),_0x3144ed=await this[_0x64e39d(0x83a)](_0x48cf2b,_0x2d827),_0x47b5bf={'number':_0x2d827,'options':{'delay':_0x44a2c4[_0x64e39d(0x707)]['delay'],'linkPreview':_0x44a2c4[_0x64e39d(0x707)]['linkPreview']},'textMessage':{'text':_0x3144ed}},_0x2542b6=null;try{let _0x40e76c=await this[_0x64e39d(0x4ff)](_0x47b5bf);if(_0x40e76c&&_0x40e76c[_0x64e39d(0x7b4)])return{'error':!0x1,'id':_0x40e76c['key']['id']};_0x2542b6=JSON['stringify'](_0x40e76c),this[_0x64e39d(0x29f)][_0x64e39d(0x2da)](this[_0x64e39d(0x185)]+'\x20('+this[_0x64e39d(0x367)][_0x64e39d(0x18e)]+_0x64e39d(0x1db)+_0x2542b6);}catch(_0x229997){this[_0x64e39d(0x29f)][_0x64e39d(0x62f)](this[_0x64e39d(0x185)]+'\x20('+this[_0x64e39d(0x367)][_0x64e39d(0x18e)]+_0x64e39d(0x181)+(_0x229997 instanceof Error?_0x229997[_0x64e39d(0x707)]:JSON[_0x64e39d(0x4eb)](_0x229997,null,0x2))),_0x2542b6=_0x229997[_0x64e39d(0x707)];}if(_0x2542b6)return{'error':!0x0,'detail':(typeof _0x2542b6==_0x64e39d(0x410)?JSON[_0x64e39d(0x4eb)](_0x2542b6,null,0x2):_0x2542b6)[_0x64e39d(0x5c6)](/[\[\]{}\n]/g,'\x20')[_0x64e39d(0x5c6)](/  +/g,'\x20')};}async[a0_0x34238b(0x327)](_0x1fc81c,_0x37ecba){const _0x1ab8a1=a0_0x34238b;this['logger'][_0x1ab8a1(0x2da)](this[_0x1ab8a1(0x185)]+'\x20('+this[_0x1ab8a1(0x367)][_0x1ab8a1(0x18e)]+_0x1ab8a1(0x246));let _0x19c5f5;if(_0x1fc81c['message']['text']&&_0x1fc81c[_0x1ab8a1(0x707)][_0x1ab8a1(0x295)][_0x1ab8a1(0x6f5)]>0x0){let _0x3659cf=this[_0x1ab8a1(0x46e)](_0x1fc81c['message'][_0x1ab8a1(0x295)]);_0x19c5f5=await this[_0x1ab8a1(0x83a)](_0x3659cf,_0x37ecba);}let _0x582957={'number':_0x37ecba,'options':{'delay':_0x1fc81c[_0x1ab8a1(0x707)][_0x1ab8a1(0x1dc)],'linkPreview':_0x1fc81c['message']['linkPreview']},'mediaMessage':{'mediatype':_0x1fc81c[_0x1ab8a1(0x707)]['mediatype'],'caption':_0x19c5f5,'media':_0x1fc81c[_0x1ab8a1(0x707)]['urlOrBase64']}},_0x379cd1=null;try{let _0x2d6aa1=await this[_0x1ab8a1(0x6c3)](_0x582957);if(_0x2d6aa1&&_0x2d6aa1[_0x1ab8a1(0x7b4)])return{'error':!0x1,'id':_0x2d6aa1[_0x1ab8a1(0x332)]['id']};_0x379cd1=JSON[_0x1ab8a1(0x4eb)](_0x2d6aa1),this['logger'][_0x1ab8a1(0x2da)](this['instanceName']+'\x20('+this['instance'][_0x1ab8a1(0x18e)]+_0x1ab8a1(0x1db)+_0x379cd1);}catch(_0x4c523c){this[_0x1ab8a1(0x29f)][_0x1ab8a1(0x62f)](this[_0x1ab8a1(0x185)]+'\x20('+this[_0x1ab8a1(0x367)][_0x1ab8a1(0x18e)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x4c523c instanceof Error?_0x4c523c['message']:JSON['stringify'](_0x4c523c,null,0x2))),_0x379cd1=_0x4c523c[_0x1ab8a1(0x707)];}if(_0x379cd1)return{'error':!0x0,'detail':(typeof _0x379cd1=='object'?JSON[_0x1ab8a1(0x4eb)](_0x379cd1,null,0x2):_0x379cd1)['replace'](/[\[\]{}\n]/g,'\x20')[_0x1ab8a1(0x5c6)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x5ac33f,_0x4e6e6e){const _0x5ebb02=a0_0x34238b;this[_0x5ebb02(0x29f)]['verbose'](this[_0x5ebb02(0x185)]+'\x20('+this[_0x5ebb02(0x367)][_0x5ebb02(0x18e)]+_0x5ebb02(0x45e));let _0x43df0f={'number':_0x4e6e6e,'options':{'delay':_0x5ac33f[_0x5ebb02(0x707)][_0x5ebb02(0x1dc)]},'audioMessage':{'audio':_0x5ac33f[_0x5ebb02(0x707)]['urlOrBase64']}},_0x205fe7=null;try{let _0x49e82c=await this['audioWhatsapp'](_0x43df0f);if(_0x49e82c&&_0x49e82c['status'])return{'error':!0x1,'id':_0x49e82c[_0x5ebb02(0x332)]['id']};_0x205fe7=JSON[_0x5ebb02(0x4eb)](_0x49e82c),this[_0x5ebb02(0x29f)]['verbose'](this[_0x5ebb02(0x185)]+'\x20('+this[_0x5ebb02(0x367)][_0x5ebb02(0x18e)]+'):\x20'+_0x205fe7);}catch(_0x34dff7){this[_0x5ebb02(0x29f)][_0x5ebb02(0x62f)](this[_0x5ebb02(0x185)]+'\x20('+this[_0x5ebb02(0x367)][_0x5ebb02(0x18e)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x34dff7 instanceof Error?_0x34dff7[_0x5ebb02(0x707)]:JSON[_0x5ebb02(0x4eb)](_0x34dff7,null,0x2))),_0x205fe7=_0x34dff7[_0x5ebb02(0x707)];}if(_0x205fe7)return{'error':!0x0,'detail':(typeof _0x205fe7==_0x5ebb02(0x410)?JSON[_0x5ebb02(0x4eb)](_0x205fe7,null,0x2):_0x205fe7)[_0x5ebb02(0x5c6)](/[\[\]{}\n]/g,'\x20')[_0x5ebb02(0x5c6)](/  +/g,'\x20')};}async[a0_0x34238b(0x459)](_0x18ba7c){const _0x5f451b=a0_0x34238b;try{return await this[_0x5f451b(0x521)]['groupUpdateDescription'](_0x18ba7c['groupJid'],_0x18ba7c[_0x5f451b(0x1a7)]),{'update':_0x5f451b(0x3f8)};}catch(_0x21ac05){let _0x307341='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x2a250c=_0x21ac05 instanceof Error?_0x21ac05[_0x5f451b(0x707)]:typeof _0x21ac05==_0x5f451b(0x410)?JSON[_0x5f451b(0x4eb)](_0x21ac05):_0x21ac05,_0x597163=_0x307341+':\x20'+_0x2a250c;throw this[_0x5f451b(0x29f)]['error'](this[_0x5f451b(0x185)]+'\x20('+this[_0x5f451b(0x367)][_0x5f451b(0x18e)]+_0x5f451b(0x1db)+_0x597163),new I(_0x597163);}}async['groupName'](_0x233125){const _0x4bb8a2=a0_0x34238b;try{return await this[_0x4bb8a2(0x521)][_0x4bb8a2(0x282)](_0x233125['groupJid'],_0x233125['name']),{'update':_0x4bb8a2(0x3f8)};}catch(_0x5c392b){let _0x3c6fe8='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x3ba2ab=_0x5c392b instanceof Error?_0x5c392b[_0x4bb8a2(0x707)]:typeof _0x5c392b==_0x4bb8a2(0x410)?JSON['stringify'](_0x5c392b):_0x5c392b,_0xd915b5=_0x3c6fe8+':\x20'+_0x3ba2ab;throw this[_0x4bb8a2(0x29f)][_0x4bb8a2(0x62f)](this[_0x4bb8a2(0x185)]+'\x20('+this[_0x4bb8a2(0x367)][_0x4bb8a2(0x18e)]+_0x4bb8a2(0x1db)+_0xd915b5),new I(_0xd915b5);}}async[a0_0x34238b(0x1cf)](_0x5b4634){const _0x53330a=a0_0x34238b;try{let _0x15d682=await this[_0x53330a(0x521)]['groupToggleEphemeral'](_0x5b4634[_0x53330a(0x7eb)],_0x5b4634['expiration']);return{'success':!0x0};}catch(_0x2a979f){let _0x3f53e9='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x29331b=_0x2a979f instanceof Error?_0x2a979f[_0x53330a(0x707)]:typeof _0x2a979f==_0x53330a(0x410)?JSON['stringify'](_0x2a979f):_0x2a979f,_0x4df359=_0x3f53e9+':\x20'+_0x29331b;throw this[_0x53330a(0x29f)]['error'](this[_0x53330a(0x185)]+'\x20('+this[_0x53330a(0x367)][_0x53330a(0x18e)]+_0x53330a(0x1db)+_0x4df359),new I(_0x4df359);}}async[a0_0x34238b(0x320)](_0x567c34){const _0x7e3517=a0_0x34238b;try{return await this[_0x7e3517(0x521)][_0x7e3517(0x573)](_0x567c34[_0x7e3517(0x7eb)],_0x567c34[_0x7e3517(0x59c)]),{'update':_0x7e3517(0x3f8)};}catch(_0x4659e7){let _0x2e02b7=_0x7e3517(0x17d),_0x49b21e=_0x4659e7 instanceof Error?_0x4659e7[_0x7e3517(0x707)]:typeof _0x4659e7==_0x7e3517(0x410)?JSON[_0x7e3517(0x4eb)](_0x4659e7):_0x4659e7,_0x3ef5f2=_0x2e02b7+':\x20'+_0x49b21e;throw this['logger'][_0x7e3517(0x62f)](this[_0x7e3517(0x185)]+'\x20('+this[_0x7e3517(0x367)][_0x7e3517(0x18e)]+'):\x20'+_0x3ef5f2),new I(_0x3ef5f2);}}async[a0_0x34238b(0x22b)](_0x5c70ab){const _0x177036=a0_0x34238b;try{let _0xb6c5be;if((0x0,P[_0x177036(0x762)])(_0x5c70ab['image'])){let _0x17bab7=new Date()[_0x177036(0x214)](),_0x8d3b=_0x5c70ab[_0x177036(0x483)]+_0x177036(0x7c9)+_0x17bab7;_0xb6c5be=(await K['default'][_0x177036(0x480)](_0x8d3b,{'responseType':_0x177036(0x47a)}))[_0x177036(0x323)];}else{if((0x0,P[_0x177036(0x16d)])(_0x5c70ab[_0x177036(0x483)]))_0xb6c5be=Buffer[_0x177036(0x28d)](_0x5c70ab['image'],_0x177036(0x4ca));else throw new m(_0x177036(0x349));}return await this[_0x177036(0x521)][_0x177036(0x1c4)](_0x5c70ab[_0x177036(0x7eb)],_0xb6c5be),{'update':_0x177036(0x3f8)};}catch(_0x830b4f){let _0x2a0b2f=_0x177036(0x32f),_0x5c2798=_0x830b4f instanceof Error?_0x830b4f[_0x177036(0x707)]:typeof _0x830b4f==_0x177036(0x410)?JSON[_0x177036(0x4eb)](_0x830b4f):_0x830b4f,_0x480c62=_0x2a0b2f+':\x20'+_0x5c2798;throw this[_0x177036(0x29f)][_0x177036(0x62f)](this[_0x177036(0x185)]+'\x20('+this[_0x177036(0x367)][_0x177036(0x18e)]+_0x177036(0x1db)+_0x480c62),new I(_0x480c62);}}},Jt=class c{constructor(_0x2cbf91,_0x38ad7b,_0x5cea26){const _0x3356b9=a0_0x34238b;this[_0x3356b9(0x72b)]=_0x2cbf91,this[_0x3356b9(0x5ff)]=_0x38ad7b,this[_0x3356b9(0x4f1)]=_0x5cea26,this['db']={},this[_0x3356b9(0x511)]={},this[_0x3356b9(0x29f)]=new R(c[_0x3356b9(0x5f8)]),this[_0x3356b9(0x41c)]={},(this['removeInstance'](),this[_0x3356b9(0x241)](),Object[_0x3356b9(0x752)](this['db'],_0x38ad7b[_0x3356b9(0x480)](_0x3356b9(0x16f))),Object[_0x3356b9(0x752)](this['redis'],_0x38ad7b[_0x3356b9(0x480)](_0x3356b9(0x289))),this['dbInstance']=this['db']['ENABLED']?this[_0x3356b9(0x4f1)]['dbServer']?.['db'](this['db'][_0x3356b9(0x7da)][_0x3356b9(0x27d)]+_0x3356b9(0x5ad)):void 0x0,this['cache']=this['redis'][_0x3356b9(0x22a)]?new ce(this[_0x3356b9(0x511)]):void 0x0);}async[a0_0x34238b(0x571)](_0x3bd1b2){const _0x50ec03=a0_0x34238b;if(_0x3bd1b2&&!this[_0x50ec03(0x41c)][_0x3bd1b2])throw new U(_0x50ec03(0x3de)+_0x3bd1b2+_0x50ec03(0x77c));let _0xda7178=[];for await(let [_0x220b4a,_0x467994]of Object['entries'](this[_0x50ec03(0x41c)]))if(_0x467994&&_0x467994[_0x50ec03(0x385)][_0x50ec03(0x2f1)]===_0x50ec03(0x6c4)){let _0x4dc78f=await this['repository'][_0x50ec03(0x411)][_0x50ec03(0x802)](_0x220b4a);_0xda7178[_0x50ec03(0x57d)]({'instance':{'instanceName':_0x220b4a,'apikey':_0x4dc78f[_0x50ec03(0x4ba)],'owner':_0x467994[_0x50ec03(0x18e)],'profileName':await _0x467994[_0x50ec03(0x399)]()||_0x50ec03(0x2ff),'profilePictureUrl':_0x467994[_0x50ec03(0x73d)]}});}return _0xda7178[_0x50ec03(0x802)](_0xb75c27=>_0xb75c27['instance'][_0x50ec03(0x185)]===_0x3bd1b2)??_0xda7178;}async[a0_0x34238b(0x469)](_0x2aabe1){const _0x525381=a0_0x34238b;if(this['db'][_0x525381(0x22a)]&&(await this['repository'][_0x525381(0x1eb)]['connect'](),(await this[_0x525381(0x1d8)]['collections']())[_0x525381(0x6f5)]>0x0&&await this[_0x525381(0x1d8)]['dropCollection'](_0x2aabe1)),this[_0x525381(0x511)][_0x525381(0x22a)]){this[_0x525381(0x5b2)][_0x525381(0x259)]=_0x2aabe1,await this[_0x525381(0x5b2)]['delAll']();return;}}async[a0_0x34238b(0x52b)](){const _0x47a6b9=a0_0x34238b;await this['InstancesAlterarTodas']();let _0xb83ba0=async _0x1e7354=>{const _0x2f675e=a0_0x3a3c;let _0x58c11a=new Ce(this['configService'],this[_0x2f675e(0x72b)],this[_0x2f675e(0x4f1)]);_0x58c11a[_0x2f675e(0x185)]=_0x1e7354,await _0x58c11a[_0x2f675e(0x622)](),this['waInstances'][_0x1e7354]=_0x58c11a;};try{if(this[_0x47a6b9(0x511)][_0x47a6b9(0x22a)]){let _0x577011=await this['cache'][_0x47a6b9(0x186)]();_0x577011?.[_0x47a6b9(0x6f5)]>0x0&&_0x577011[_0x47a6b9(0x44e)](async _0x3f4090=>await _0xb83ba0(_0x3f4090[_0x47a6b9(0x447)](':')[0x1]));return;}if(this['db']['ENABLED']){await this['repository'][_0x47a6b9(0x1eb)][_0x47a6b9(0x5d8)]();let _0x454d3e=await this['dbInstance']['collections']();_0x454d3e[_0x47a6b9(0x6f5)]>0x0&&_0x454d3e['forEach'](async _0x36c60c=>await _0xb83ba0(_0x36c60c[_0x47a6b9(0x3fc)][_0x47a6b9(0x5c6)](/^[\w-]+\./,'')));return;}}catch(_0x13dadf){this['logger'][_0x47a6b9(0x62f)](_0x13dadf);}}async['InstancesAsDisconnectedX'](){const _0x32abd4=a0_0x34238b;let _0xce4eee=await this[_0x32abd4(0x4f1)][_0x32abd4(0x411)][_0x32abd4(0x1f4)](),_0x39744f=_0xce4eee[_0x32abd4(0x6f1)](_0x437798=>!this['waInstances'][_0x437798[_0x32abd4(0x45c)]]&&(_0x437798[_0x32abd4(0x392)]||typeof _0x437798[_0x32abd4(0x392)]>'u'));_0x39744f[_0x32abd4(0x6f5)]>0x0&&await Promise['all'](_0x39744f[_0x32abd4(0x643)](async _0x1d76c3=>{const _0x33e9fa=_0x32abd4;let _0x2e2e88={'online':!0x1,'lastDisconnect':Date[_0x33e9fa(0x433)]()};await this[_0x33e9fa(0x4f1)][_0x33e9fa(0x411)][_0x33e9fa(0x6a0)](_0x2e2e88,_0x1d76c3[_0x33e9fa(0x45c)]);}));let _0x434adf=Date[_0x32abd4(0x433)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x431c77=_0xce4eee[_0x32abd4(0x6f1)](_0x271556=>!this[_0x32abd4(0x41c)][_0x271556[_0x32abd4(0x45c)]]&&typeof _0x271556[_0x32abd4(0x7e8)]<'u'&&_0x271556[_0x32abd4(0x7e8)]<_0x434adf);_0x431c77[_0x32abd4(0x6f5)]>0x0&&await Promise[_0x32abd4(0x4e2)](_0x431c77['map'](async _0x3aabeb=>{}));}async['InstancesAlterarTodas'](){const _0x2e071e=a0_0x34238b;try{let _0x3ad594={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x4e5376={'online':!0x1,'lastDisconnect':Date[_0x2e071e(0x433)]()},_0x17905b=await this[_0x2e071e(0x4f1)][_0x2e071e(0x411)]['updateAll'](_0x3ad594,_0x4e5376);console[_0x2e071e(0x685)](_0x2e071e(0x54b)+_0x17905b[_0x2e071e(0x64b)]),await this[_0x2e071e(0x28b)]();}catch(_0x41536c){console[_0x2e071e(0x62f)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x41536c);}}async[a0_0x34238b(0x28b)](){const _0x987195=a0_0x34238b;try{let _0x388e96={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x39ab0b=await this[_0x987195(0x4f1)][_0x987195(0x411)][_0x987195(0x68c)](_0x388e96);console[_0x987195(0x685)](_0x987195(0x5ae)+_0x39ab0b[_0x987195(0x64b)]);}catch(_0xcaf5ec){console['error'](_0x987195(0x6b6),_0xcaf5ec);}}['removeInstance'](){const _0x2999a9=a0_0x34238b;this[_0x2999a9(0x72b)]['on']('remove.instance',async _0x42ff76=>{const _0x62c808=_0x2999a9;try{this['waInstances'][_0x42ff76]=void 0x0;}catch{}try{this[_0x62c808(0x469)](_0x42ff76);}finally{this[_0x62c808(0x29f)][_0x62c808(0x686)](_0x62c808(0x3de)+_0x42ff76+'\x22\x20-\x20REMOVED');}});}[a0_0x34238b(0x241)](){const _0x1a5c09=a0_0x34238b;this[_0x1a5c09(0x72b)]['on'](_0x1a5c09(0x34c),async _0x1cc2c5=>{const _0x133fa7=_0x1a5c09;try{this['waInstances'][_0x1cc2c5]=void 0x0;}catch{}try{this['cleaningUp'](_0x1cc2c5);}finally{this[_0x133fa7(0x29f)][_0x133fa7(0x686)](_0x133fa7(0x3de)+_0x1cc2c5+_0x133fa7(0x5f3));}});}},Ut=class extends x{['getChatModelForOwner'](_0x5c57d3){return Ks(_0x5c57d3);}async[a0_0x34238b(0x202)](_0x245bae){const _0x46a4ec=a0_0x34238b;if(_0x245bae[_0x46a4ec(0x6f5)]!==0x0)try{return{'insertCount':(await this[_0x46a4ec(0x1f6)](_0x245bae[0x0][_0x46a4ec(0x553)])[_0x46a4ec(0x43e)]([..._0x245bae]))['length']};}catch(_0x286b76){return _0x286b76;}}async[a0_0x34238b(0x802)](_0x199a55,_0x1545a5){const _0x533066=a0_0x34238b;try{let _0x2f1901=this['getChatModelForOwner'](_0x1545a5),_0x5d21ec=T(_0x199a55['where']);return await _0x2f1901['find'](_0x5d21ec)[_0x533066(0x778)]({'lastmsg':-0x1})[_0x533066(0x5a9)](_0x199a55?.[_0x533066(0x5a9)]??0x0)[_0x533066(0x23f)]();}catch{return[];}}async[a0_0x34238b(0x253)](_0x580314,_0x1a7c0a){const _0x72ce91=a0_0x34238b;try{return{'deletedCount':(await this[_0x72ce91(0x1f6)](_0x1a7c0a)['deleteMany']({..._0x580314[_0x72ce91(0x722)]}))[_0x72ce91(0x759)]};}catch(_0x10553){return{'error':_0x10553?.[_0x72ce91(0x513)]()};}}async['deleteAll'](_0x1f8f88,_0x46e45e){const _0x4effcc=a0_0x34238b;try{return await this[_0x4effcc(0x1f6)](_0x46e45e)[_0x4effcc(0x68c)]({..._0x1f8f88[_0x4effcc(0x722)]}),[];}catch(_0xcd9d8c){return{'error':_0xcd9d8c?.['toString']()};}}async[a0_0x34238b(0x6cc)](_0x333625,_0x44eaa8){const _0x1d4606=a0_0x34238b;try{let _0x1c57ec=this[_0x1d4606(0x1f6)](_0x44eaa8),_0x1fdb5b=T(_0x333625['where']);return await _0x1c57ec[_0x1d4606(0x6cc)](_0x1fdb5b)[_0x1d4606(0x23f)]();}catch{return null;}}async[a0_0x34238b(0x53d)](_0x348b67,_0x2fc1e8,_0x357ab0,_0x2724cb,_0x3cd4e3='$set'){const _0x4596d8=a0_0x34238b;try{let _0x4abfeb={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2724cb},_0x210831=this[_0x4596d8(0x1f6)](_0x357ab0),_0x265e0d=T(_0x348b67[_0x4596d8(0x722)]);Object['keys'](_0x2fc1e8)[_0x4596d8(0x44e)](_0x500df7=>{_0x2fc1e8[_0x500df7]==null&&delete _0x2fc1e8[_0x500df7];});let _0x2c86dc={};return _0x2c86dc[_0x3cd4e3]=_0x2fc1e8,await _0x210831[_0x4596d8(0x168)](_0x265e0d,_0x2c86dc,_0x4abfeb);}catch(_0x39f253){return console['error'](_0x39f253),null;}}async['updateMany'](_0x31ca9c){const _0x5924bc=a0_0x34238b;try{let _0xe72b8a=this[_0x5924bc(0x1f6)](_0x31ca9c[0x0][_0x5924bc(0x38a)]['where']['owner']),_0x652166=_0x31ca9c[_0x5924bc(0x643)](_0x5bb024=>({'updateOne':{'filter':{..._0x5bb024[_0x5924bc(0x38a)][_0x5924bc(0x722)]},'update':{'$set':_0x5bb024[_0x5924bc(0x386)]},'upsert':!0x0}})),_0x3afaeb=await _0xe72b8a[_0x5924bc(0x21a)](_0x652166);return _0x3afaeb[_0x5924bc(0x5d2)]+_0x3afaeb[_0x5924bc(0x4fb)];}catch(_0x448a51){return console['error'](_0x448a51),0x0;}}async[a0_0x34238b(0x4b1)](_0x30e83a){const _0x21fd1a=a0_0x34238b;try{let _0x4f5cff={'group_isCommunity':'','group_announce':'','group_size':''},_0xf25b7e={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x5187e0={'$unset':_0x4f5cff};return(await this[_0x21fd1a(0x1f6)](_0x30e83a)[_0x21fd1a(0x5a6)](_0xf25b7e,_0x5187e0))['modifiedCount'];}catch(_0x169154){return console['error'](_0x21fd1a(0x765),_0x169154),0x0;}}async[a0_0x34238b(0x299)](_0x284912){const _0x469bd1=a0_0x34238b;try{let _0x5f2455=this[_0x469bd1(0x1f6)](_0x284912),_0x59b89a={'leadInfo.etiquetas':{'$exists':!0x1}},_0x54da97={'$set':{'leadInfo.etiquetas':[]}};return(await _0x5f2455[_0x469bd1(0x5a6)](_0x59b89a,_0x54da97))[_0x469bd1(0x5d2)];}catch(_0x1958df){return console[_0x469bd1(0x62f)](_0x1958df),0x0;}}async[a0_0x34238b(0x4f8)](_0x25304f){const _0x4c4f2f=a0_0x34238b;try{let _0x55c0c4=this[_0x4c4f2f(0x1f6)](_0x25304f),_0x583478={'leadInfo.tags':{'$exists':!0x1}},_0x2b2549={'$set':{'leadInfo.tags':[]}};return(await _0x55c0c4[_0x4c4f2f(0x5a6)](_0x583478,_0x2b2549))['modifiedCount'];}catch(_0x449852){return console[_0x4c4f2f(0x62f)](_0x449852),0x0;}}async['updateMissingCustomFields'](_0x24f9f7){const _0x26579d=a0_0x34238b;try{let _0x162cfc=this[_0x26579d(0x1f6)](_0x24f9f7),_0x409f4a={'leadInfo.customFields':{'$exists':!0x1}},_0x374e51={'$set':{'leadInfo.customFields':[]}};return(await _0x162cfc[_0x26579d(0x5a6)](_0x409f4a,_0x374e51))[_0x26579d(0x5d2)];}catch(_0x530354){return console[_0x26579d(0x62f)](_0x530354),0x0;}}async[a0_0x34238b(0x43e)](_0x38c450,_0xd4a6f8){const _0x5518e6=a0_0x34238b;if(!Array[_0x5518e6(0x358)](_0x38c450)||_0x38c450[_0x5518e6(0x6f5)]===0x0)throw new Error(_0x5518e6(0x195));try{return(await this[_0x5518e6(0x1f6)](_0xd4a6f8)[_0x5518e6(0x43e)](_0x38c450))[_0x5518e6(0x6f5)];}catch(_0x4233f7){throw console['error'](_0x5518e6(0x16b),_0x4233f7),_0x4233f7;}}async[a0_0x34238b(0x71d)](_0x8ac4a1,_0x36bd35){const _0x1e19aa=a0_0x34238b;try{await this[_0x1e19aa(0x1f6)](_0x36bd35)['deleteOne']({'_id':_0x8ac4a1});}catch(_0xb23d37){throw console[_0x1e19aa(0x62f)](_0x1e19aa(0x745),_0xb23d37),_0xb23d37;}}},qt=class extends x{constructor(_0x2f3cc1,_0x20bf33,_0x5035e9){const _0xe14aa6=a0_0x34238b;super(_0x20bf33),this['cacheContactModel']=_0x2f3cc1,this[_0xe14aa6(0x5ff)]=_0x20bf33,this[_0xe14aa6(0x5bd)]=_0x5035e9;}async[a0_0x34238b(0x202)](_0x19042a){const _0x546882=a0_0x34238b;if(_0x19042a[_0x546882(0x6f5)]!==0x0)try{return{'insertCount':(await this[_0x546882(0x62b)][_0x546882(0x43e)]([..._0x19042a]))[_0x546882(0x6f5)]};}catch(_0x190886){return _0x190886;}}async[a0_0x34238b(0x386)](_0xd5fddb,_0x3569f6){const _0xbe120b=a0_0x34238b;try{let _0x2a1739=T(_0xd5fddb[_0xbe120b(0x722)]);return{'updatedCount':(await this['cacheContactModel'][_0xbe120b(0x5a6)](_0x2a1739,{'$set':_0x3569f6}))['modifiedCount']};}catch(_0x110955){return console['error'](_0xbe120b(0x17e),_0x110955),{'error':_0x110955['toString']()};}}async[a0_0x34238b(0x74c)](_0x517ef9){const _0x2b2dd3=a0_0x34238b;try{let _0x640890={'_id':{'$in':_0x517ef9}};return await this['cacheContactModel'][_0x2b2dd3(0x802)](_0x640890)['lean']();}catch(_0x25793c){return console[_0x2b2dd3(0x62f)](_0x2b2dd3(0x478),_0x25793c),[];}}async[a0_0x34238b(0x253)](_0x369c9d){const _0x34e18c=a0_0x34238b;try{return{'deletedCount':(await this[_0x34e18c(0x62b)]['deleteMany']({..._0x369c9d['where']}))['deletedCount']};}catch(_0x3f73d4){return{'error':_0x3f73d4?.[_0x34e18c(0x513)]()};}}async[a0_0x34238b(0x802)](_0x2b6f07){const _0x4c9183=a0_0x34238b;try{let _0x253171=T(_0x2b6f07[_0x4c9183(0x722)]);return await this[_0x4c9183(0x62b)][_0x4c9183(0x802)](_0x253171)[_0x4c9183(0x5a9)](_0x2b6f07?.[_0x4c9183(0x5a9)]??0x0)['lean']();}catch{return[];}}async[a0_0x34238b(0x6cc)](_0x4be496){const _0x51fe50=a0_0x34238b;try{let _0x2c337c=T(_0x4be496[_0x51fe50(0x722)]);return await this[_0x51fe50(0x62b)]['findOne'](_0x2c337c)[_0x51fe50(0x23f)]();}catch{return null;}}},Vt=class extends x{['getLabelModelForOwner'](_0xc5707a){return ma(_0xc5707a);}async[a0_0x34238b(0x53d)](_0x31cb00,_0x2d88bd,_0x456dba,_0x13c06b){const _0x235e5a=a0_0x34238b;try{let _0x1c4ac6={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x13c06b},_0xf572c=this[_0x235e5a(0x5e1)](_0x456dba),_0x130257=T(_0x31cb00[_0x235e5a(0x722)]);return await _0xf572c[_0x235e5a(0x168)](_0x130257,{'$set':_0x2d88bd},_0x1c4ac6);}catch(_0x3f5929){return console['error'](_0x3f5929),null;}}async[a0_0x34238b(0x802)](_0x19f043,_0x463ad4){const _0x25f493=a0_0x34238b;try{let _0x309190=this['getLabelModelForOwner'](_0x463ad4),_0x1140fe=T(_0x19f043[_0x25f493(0x722)]);return await _0x309190[_0x25f493(0x802)](_0x1140fe);}catch(_0x2fb04e){console[_0x25f493(0x62f)](_0x2fb04e);}}async[a0_0x34238b(0x253)](_0x240826,_0x215ef1){const _0x29c141=a0_0x34238b;try{let _0x30ea29=this[_0x29c141(0x5e1)](_0x215ef1),_0x3db6a9=T(_0x240826[_0x29c141(0x722)]);await _0x30ea29[_0x29c141(0x68c)](_0x3db6a9);}catch(_0x477823){console['error'](_0x477823);}}async[a0_0x34238b(0x275)](_0x4c7d5b){const _0x49770f=a0_0x34238b;try{return await this[_0x49770f(0x5e1)](_0x4c7d5b)['collection'][_0x49770f(0x70d)](),{'success':!0x0};}catch(_0x5896e3){return console[_0x49770f(0x62f)](_0x5896e3),{'success':!0x1,'error':_0x5896e3};}}},Gt=class{constructor(_0x1e43d6){const _0x440041=a0_0x34238b;this[_0x440041(0x572)]=_0x1e43d6;}async[a0_0x34238b(0x41e)]({instanceName:_0x58e765},_0x277c36){const _0x308b0a=a0_0x34238b;return await this[_0x308b0a(0x572)]['waInstances'][_0x58e765][_0x308b0a(0x41e)](_0x277c36);}async[a0_0x34238b(0x5e4)]({instanceName:_0x4ab44f},_0x3ea5fe){const _0x528ba0=a0_0x34238b;return await this[_0x528ba0(0x572)]['waInstances'][_0x4ab44f]['whatsappNumber'](_0x3ea5fe);}async['importChats']({instanceName:_0x8beb4a},_0x25cf5b){const _0xfb4b80=a0_0x34238b;return await this[_0xfb4b80(0x572)][_0xfb4b80(0x41c)][_0x8beb4a][_0xfb4b80(0x77b)](_0x25cf5b);}async[a0_0x34238b(0x506)]({instanceName:_0x1bf97c},_0x227731){const _0x2ae2ae=a0_0x34238b;return await this[_0x2ae2ae(0x572)][_0x2ae2ae(0x41c)][_0x1bf97c][_0x2ae2ae(0x40f)](_0x227731);}async[a0_0x34238b(0x3c2)]({instanceName:_0x3b1c2c},_0x3fdba3){const _0x2381ad=a0_0x34238b;return await this['waMonitor'][_0x2381ad(0x41c)][_0x3b1c2c][_0x2381ad(0x3c2)](_0x3fdba3);}async['deleteMessage']({instanceName:_0x10153},_0x17352f){const _0x207ca4=a0_0x34238b;return await this[_0x207ca4(0x572)][_0x207ca4(0x41c)][_0x10153][_0x207ca4(0x6d9)](_0x17352f);}async['fetchProfilePicture']({instanceName:_0x1afc53},_0xf5942e){const _0x2ab1bd=a0_0x34238b;return await this[_0x2ab1bd(0x572)][_0x2ab1bd(0x41c)][_0x1afc53]['profilePicture'](_0xf5942e[_0x2ab1bd(0x570)]);}async['fetchProfile']({instanceName:_0x2ba54f},_0x3f9840){const _0x33f147=a0_0x34238b;return await this[_0x33f147(0x572)][_0x33f147(0x41c)][_0x2ba54f][_0x33f147(0x409)](_0x3f9840[_0x33f147(0x570)]);}async['updatePresence']({instanceName:_0x46d716},_0x454b74){const _0x585bf7=a0_0x34238b;return await this[_0x585bf7(0x572)][_0x585bf7(0x41c)][_0x46d716]['updatePresence'](_0x454b74);}async[a0_0x34238b(0x477)]({instanceName:_0x14cd06},_0x3a8a90){return await this['waMonitor']['waInstances'][_0x14cd06]['fetchContacts'](_0x3a8a90);}async[a0_0x34238b(0x3e8)]({instanceName:_0x299f75},_0x52b8b3){const _0x3a1409=a0_0x34238b;return await this[_0x3a1409(0x572)][_0x3a1409(0x41c)][_0x299f75]['getBase64FromMediaMessage'](_0x52b8b3);}async[a0_0x34238b(0x6c7)]({instanceName:_0x56795a},_0x217c5e){const _0x3bed9f=a0_0x34238b;return await this[_0x3bed9f(0x572)][_0x3bed9f(0x41c)][_0x56795a]['fetchMessages'](_0x217c5e);}async[a0_0x34238b(0x61c)]({instanceName:_0x3c9630}){const _0x11d544=a0_0x34238b;return await this['waMonitor'][_0x11d544(0x41c)][_0x3c9630][_0x11d544(0x61c)]();}async['fetchChats']({instanceName:_0x217237}){const _0x2121b4=a0_0x34238b;return await this[_0x2121b4(0x572)][_0x2121b4(0x41c)][_0x217237][_0x2121b4(0x32b)]();}async[a0_0x34238b(0x207)]({instanceName:_0x41c98f}){const _0x2922d5=a0_0x34238b;return await this[_0x2922d5(0x572)][_0x2922d5(0x41c)][_0x41c98f][_0x2922d5(0x207)]();}async[a0_0x34238b(0x3df)]({instanceName:_0x103079},_0x4928b9){const _0x193402=a0_0x34238b;return await this[_0x193402(0x572)][_0x193402(0x41c)][_0x103079][_0x193402(0x3df)](_0x4928b9);}async[a0_0x34238b(0x2d6)]({instanceName:_0x3b2b74},_0x4d99be){const _0x33fb4b=a0_0x34238b;return await this[_0x33fb4b(0x572)][_0x33fb4b(0x41c)][_0x3b2b74]['fetchBusinessProfile'](_0x4d99be['number']);}async['updateProfileName']({instanceName:_0x3fc6a7},_0x1a5c43){const _0xbe7f99=a0_0x34238b;return await this[_0xbe7f99(0x572)][_0xbe7f99(0x41c)][_0x3fc6a7][_0xbe7f99(0x6b3)](_0x1a5c43[_0xbe7f99(0x5f8)]);}async['updateProfileStatus']({instanceName:_0x288abb},_0x49058a){const _0x569b42=a0_0x34238b;return await this[_0x569b42(0x572)]['waInstances'][_0x288abb][_0x569b42(0x52c)](_0x49058a['status']);}async['updateProfilePicture']({instanceName:_0x5f0cea},_0x4a0d92){const _0x59fcb4=a0_0x34238b;return await this[_0x59fcb4(0x572)][_0x59fcb4(0x41c)][_0x5f0cea]['updateProfilePicture'](_0x4a0d92['picture']);}async[a0_0x34238b(0x67f)]({instanceName:_0x46de8d},_0x4ec4c7){const _0x18a139=a0_0x34238b;return await this[_0x18a139(0x572)][_0x18a139(0x41c)][_0x46de8d][_0x18a139(0x67f)]();}},Bt=require(a0_0x34238b(0x5b3)),Wt=class c{constructor(_0x1742cf,_0x3d8833,_0x25ac54,_0x2ff8a5,_0x2a2008){const _0x2ff2f4=a0_0x34238b;this[_0x2ff2f4(0x572)]=_0x1742cf,this[_0x2ff2f4(0x5ff)]=_0x3d8833,this['repository']=_0x25ac54,this[_0x2ff2f4(0x72b)]=_0x2ff8a5,this['authService']=_0x2a2008,this[_0x2ff2f4(0x29f)]=new R(c[_0x2ff2f4(0x5f8)]);}async[a0_0x34238b(0x49d)]({instanceName:_0x46c22f,apikey:_0x606da1,number:_0x3ba31e,proxy:_0x40c171=!0x0}){const _0x3905f2=a0_0x34238b;try{let _0x34311b=new Ce(this[_0x3905f2(0x5ff)],this[_0x3905f2(0x72b)],this[_0x3905f2(0x4f1)]);_0x34311b[_0x3905f2(0x185)]=_0x46c22f,this[_0x3905f2(0x572)][_0x3905f2(0x41c)][_0x34311b[_0x3905f2(0x185)]]=_0x34311b;let _0x432511={};_0x606da1?(await this['repository'][_0x3905f2(0x411)][_0x3905f2(0x6a0)]({'apikey':_0x606da1},_0x46c22f),_0x432511[_0x3905f2(0x4ba)]=_0x606da1):_0x432511=await this[_0x3905f2(0x347)]['generateHash']({'instanceName':_0x34311b[_0x3905f2(0x185)]});let _0x2f4fe;if(_0x3ba31e){if(_0x2f4fe=await this[_0x3905f2(0x1a1)](_0x3ba31e),_0x2f4fe['error'])throw new I(_0x2f4fe[_0x3905f2(0x62f)][_0x3905f2(0x513)]());_0x3ba31e=_0x2f4fe['number'];}let _0x7c89b6;return await _0x34311b['connectToWhatsapp'](_0x3ba31e),await(0x0,Bt['delay'])(0x7d0),_0x3ba31e&&await(0x0,Bt[_0x3905f2(0x1dc)])(0xbb8),_0x7c89b6=_0x34311b[_0x3905f2(0x2b7)],{'instance':{'instanceName':_0x34311b[_0x3905f2(0x185)],'status':_0x3905f2(0x75d)},'hash':_0x432511,'qrcode':_0x7c89b6};}catch(_0x21341d){throw this[_0x3905f2(0x29f)][_0x3905f2(0x62f)](_0x21341d),_0x21341d;}}async[a0_0x34238b(0x49c)]({instanceName:_0x2730d3,number:_0x4199de=null}){const _0x13ad57=a0_0x34238b;try{let _0x4df237=this[_0x13ad57(0x572)][_0x13ad57(0x41c)][_0x2730d3];switch(_0x4df237?.[_0x13ad57(0x385)]?.[_0x13ad57(0x2f1)]){case _0x13ad57(0x5dc):return await _0x4df237['connectToWhatsapp'](_0x4199de),await(0x0,Bt[_0x13ad57(0x1dc)])(0x7d0),_0x4df237['qrCode'];case _0x13ad57(0x1b6):return _0x4df237[_0x13ad57(0x2b7)];default:return await this['connectionState']({'instanceName':_0x2730d3});}}catch(_0x375d61){this[_0x13ad57(0x29f)][_0x13ad57(0x685)](_0x375d61);}}async[a0_0x34238b(0x55e)]({instanceName:_0x4f2b39}){const _0x17c800=a0_0x34238b;let _0x49cd71=this['waMonitor'][_0x17c800(0x41c)][_0x4f2b39][_0x17c800(0x385)],_0xd6d7a8=null;_0x49cd71['state']===_0x17c800(0x6c4)&&_0x4f2b39&&(_0xd6d7a8=await this['waMonitor'][_0x17c800(0x571)](_0x4f2b39));let _0x16f2c7=null;return _0x49cd71[_0x17c800(0x2f1)]===_0x17c800(0x1b6)&&_0x4f2b39&&(_0x16f2c7=this[_0x17c800(0x572)][_0x17c800(0x41c)][_0x4f2b39][_0x17c800(0x2b7)]),{'instance':_0x4f2b39,'connectionStatus':_0x49cd71,'instanceInfo':_0xd6d7a8,'qrcode':_0x16f2c7};}async[a0_0x34238b(0x1a1)](_0x44e959){const _0x103d8c=a0_0x34238b;_0x44e959=_0x44e959['replace'](/\D/g,'');let _0x3839a8=Object[_0x103d8c(0x58c)](this[_0x103d8c(0x572)][_0x103d8c(0x41c)])[_0x103d8c(0x6f1)](_0x2a82b2=>{const _0x465a00=_0x103d8c;let _0x347443=this['waMonitor'][_0x465a00(0x41c)][_0x2a82b2];return _0x347443&&_0x347443[_0x465a00(0x385)]&&_0x347443[_0x465a00(0x385)][_0x465a00(0x2f1)]===_0x465a00(0x6c4);});if(_0x3839a8[_0x103d8c(0x6f5)]===0x0)return{'number':this[_0x103d8c(0x6b4)](_0x44e959)};let _0x250c92=Math[_0x103d8c(0x604)](Math[_0x103d8c(0x403)]()*_0x3839a8[_0x103d8c(0x6f5)]),_0x47d6c0=_0x3839a8[_0x250c92];try{let _0x1f386b=(await this[_0x103d8c(0x572)]['waInstances'][_0x47d6c0][_0x103d8c(0x5e4)]({'numbers':[_0x44e959]}))[_0x103d8c(0x578)]();return _0x1f386b[_0x103d8c(0x810)]?{'number':_0x1f386b[_0x103d8c(0x817)][_0x103d8c(0x5c6)]('@s.whatsapp.net','')}:{'number':_0x44e959,'error':_0x103d8c(0x803)};}catch(_0x33a3d3){return this[_0x103d8c(0x29f)][_0x103d8c(0x62f)](_0x103d8c(0x76b)+_0x33a3d3),{'number':_0x44e959,'error':_0x103d8c(0x41b)};}}[a0_0x34238b(0x6b4)](_0xc7b202){const _0xe4d4a6=a0_0x34238b;let _0x14f8a7=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0xe4d4a6(0x438)](_0xc7b202);if(_0x14f8a7&&_0x14f8a7[0x1]==='55'){let _0x2b3f97=_0x14f8a7[0x2],_0xb47f98=_0x14f8a7[0x3],_0x58da6d=_0x14f8a7[0x4];if(parseInt(_0x2b3f97)>=0x1f&&_0xb47f98==='9')return _0x14f8a7[0x1]+_0x2b3f97+_0x58da6d;}return _0xc7b202;}async[a0_0x34238b(0x3d3)]({instanceName:_0x31d3d9}){const _0x36380e=a0_0x34238b;try{return this[_0x36380e(0x572)][_0x36380e(0x41c)][_0x31d3d9]?.['client']?.['ws']?.[_0x36380e(0x5dc)](),{'status':_0x36380e(0x44b),'error':!0x1,'response':{'message':_0x36380e(0x66a)}};}catch(_0x27cfee){this['logger'][_0x36380e(0x62f)](_0x27cfee);}}async[a0_0x34238b(0x5cc)]({instanceName:_0x3b327c}){const _0xe19330=a0_0x34238b;return _0x3b327c?this[_0xe19330(0x572)][_0xe19330(0x571)](_0x3b327c):this[_0xe19330(0x572)]['instanceInfo']();}async[a0_0x34238b(0x1ce)]({instanceName:_0x4c9e16}){const _0x3e4b18=a0_0x34238b;try{return await this[_0x3e4b18(0x572)][_0x3e4b18(0x41c)][_0x4c9e16]?.[_0x3e4b18(0x521)]?.['logout'](_0x3e4b18(0x239)+_0x4c9e16),{'error':!0x1,'message':_0x3e4b18(0x41d)};}catch(_0xeb6c07){throw new I(_0xeb6c07['toString']());}}async[a0_0x34238b(0x5b6)]({instanceName:_0x55bc44}){const _0x3641a1=a0_0x34238b;if((await this[_0x3641a1(0x55e)]({'instanceName':_0x55bc44}))[_0x3641a1(0x385)][_0x3641a1(0x2f1)]==='open')throw new m([_0x3641a1(0x39d),_0x3641a1(0x2e2)]);try{return delete this[_0x3641a1(0x572)][_0x3641a1(0x41c)][_0x55bc44],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x166889){throw new m(_0x166889[_0x3641a1(0x513)]());}}},te=require('class-validator'),zt=class{constructor(_0x1f342c){this['waMonitor']=_0x1f342c;}async[a0_0x34238b(0x7b2)]({instanceName:_0x1be6e6},_0x2fc174){const _0x2bac90=a0_0x34238b;return await this[_0x2bac90(0x572)][_0x2bac90(0x41c)][_0x1be6e6][_0x2bac90(0x4ff)](_0x2fc174);}async['sendMenu']({instanceName:_0x488dfe},_0x5070ae){const _0x1fec75=a0_0x34238b;return await this['waMonitor']['waInstances'][_0x488dfe][_0x1fec75(0x524)](_0x5070ae);}async[a0_0x34238b(0x6d3)]({instanceName:_0x2d632c},_0x316a6f){const _0x648cb3=a0_0x34238b;if((0x0,te['isBase64'])(_0x316a6f?.['mediaMessage']?.[_0x648cb3(0x7fa)])&&!_0x316a6f?.[_0x648cb3(0x6c3)]?.[_0x648cb3(0x62a)])throw new m(_0x648cb3(0x175));if((0x0,te[_0x648cb3(0x762)])(_0x316a6f?.[_0x648cb3(0x6c3)]?.['media'])||(0x0,te['isBase64'])(_0x316a6f?.[_0x648cb3(0x6c3)]?.[_0x648cb3(0x7fa)]))return await this[_0x648cb3(0x572)][_0x648cb3(0x41c)][_0x2d632c][_0x648cb3(0x6c3)](_0x316a6f);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x34238b(0x2d3)]({instanceName:_0xc2f698},_0x3a8211){const _0x3f884b=a0_0x34238b;if((0x0,te['isURL'])(_0x3a8211[_0x3f884b(0x60a)][_0x3f884b(0x483)])||(0x0,te[_0x3f884b(0x16d)])(_0x3a8211[_0x3f884b(0x60a)][_0x3f884b(0x483)]))return await this['waMonitor'][_0x3f884b(0x41c)][_0xc2f698][_0x3f884b(0x743)](_0x3a8211);throw new m(_0x3f884b(0x6fb));}async[a0_0x34238b(0x80f)]({instanceName:_0x5aeba9},_0x4f3503){const _0x5a72e3=a0_0x34238b;if((0x0,te[_0x5a72e3(0x762)])(_0x4f3503['audioMessage'][_0x5a72e3(0x585)])||(0x0,te[_0x5a72e3(0x16d)])(_0x4f3503[_0x5a72e3(0x38d)][_0x5a72e3(0x585)]))return await this[_0x5a72e3(0x572)][_0x5a72e3(0x41c)][_0x5aeba9]['audioWhatsapp'](_0x4f3503);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x34238b(0x695)]({instanceName:_0x7cd9b5},_0x294822){const _0x46e9ce=a0_0x34238b;if((0x0,te[_0x46e9ce(0x16d)])(_0x294822[_0x46e9ce(0x3c5)][_0x46e9ce(0x6c3)]?.[_0x46e9ce(0x7fa)])&&!_0x294822[_0x46e9ce(0x3c5)]['mediaMessage']?.[_0x46e9ce(0x62a)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this['waMonitor']['waInstances'][_0x7cd9b5][_0x46e9ce(0x3c5)](_0x294822);}async[a0_0x34238b(0x49e)]({instanceName:_0x198024},_0x41dd92){const _0x158f09=a0_0x34238b;return await this[_0x158f09(0x572)][_0x158f09(0x41c)][_0x198024][_0x158f09(0x786)](_0x41dd92);}async[a0_0x34238b(0x187)]({instanceName:_0x328996},_0x4c3974){const _0x56d916=a0_0x34238b;return await this[_0x56d916(0x572)][_0x56d916(0x41c)][_0x328996][_0x56d916(0x2b4)](_0x4c3974);}async['sendList']({instanceName:_0x11d87a},_0x5d2c30){const _0x32d978=a0_0x34238b;return await this[_0x32d978(0x572)][_0x32d978(0x41c)][_0x11d87a]['listMessage'](_0x5d2c30);}async[a0_0x34238b(0x667)]({instanceName:_0x286fb6},_0x2afcb7){const _0x1543a5=a0_0x34238b;return await this[_0x1543a5(0x572)]['waInstances'][_0x286fb6][_0x1543a5(0x63a)](_0x2afcb7);}async[a0_0x34238b(0x23d)]({instanceName:_0xa5eb06},_0x241afa){const _0x4b6a5c=a0_0x34238b;if(!_0x241afa['reactionMessage']['reaction']['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x4b6a5c(0x572)][_0x4b6a5c(0x41c)][_0xa5eb06][_0x4b6a5c(0x397)](_0x241afa);}async['sendStatus']({instanceName:_0xd80582},_0x1c740f){const _0xb1adaf=a0_0x34238b;return await this['waMonitor']['waInstances'][_0xd80582][_0xb1adaf(0x6ed)](_0x1c740f);}},Ei=require(a0_0x34238b(0x39c)),_s=require('uuid'),Ht=class c{constructor(_0x282483,_0x457f24,_0x2faa28){const _0x21a585=a0_0x34238b;this['configService']=_0x282483,this[_0x21a585(0x572)]=_0x457f24,this[_0x21a585(0x4f1)]=_0x2faa28,this['logger']=new R(c[_0x21a585(0x5f8)]);}async[a0_0x34238b(0x4a7)](_0x1938cc){const _0x2c3cb1=a0_0x34238b;let _0x204ff5=this[_0x2c3cb1(0x5ff)]['get'](_0x2c3cb1(0x1ca))[_0x2c3cb1(0x48c)],_0x38a32d=(0x0,Ei[_0x2c3cb1(0x52f)])({'instanceName':_0x1938cc['instanceName'],'apiName':et,'tokenId':(0x0,_s['v4'])()},_0x204ff5[_0x2c3cb1(0x378)],{'expiresIn':_0x204ff5[_0x2c3cb1(0x730)],'encoding':_0x2c3cb1(0x3ac),'subject':_0x2c3cb1(0x2a5)}),_0x2fa042=await this[_0x2c3cb1(0x4f1)][_0x2c3cb1(0x411)][_0x2c3cb1(0x6a0)]({'jwt':_0x38a32d},_0x1938cc['instanceName']);if(_0x2fa042['error'])throw this['logger']['error']({'localError':c['name']+_0x2c3cb1(0x48b),'error':_0x2fa042['error']}),new m(_0x2c3cb1(0x779),_0x2fa042[_0x2c3cb1(0x62f)]?.[_0x2c3cb1(0x513)]());return{'jwt':_0x38a32d};}async[a0_0x34238b(0x4ba)](_0x516527){const _0x2511a4=a0_0x34238b;let _0x876c0=(0x0,_s['v4'])()[_0x2511a4(0x706)](),_0x1e2d00=await this[_0x2511a4(0x4f1)][_0x2511a4(0x411)][_0x2511a4(0x6a0)]({'apikey':_0x876c0},_0x516527[_0x2511a4(0x185)]);if(_0x1e2d00['error'])throw this[_0x2511a4(0x29f)]['error']({'localError':c['name']+_0x2511a4(0x48b),'error':_0x1e2d00[_0x2511a4(0x62f)]}),new m(_0x2511a4(0x779),_0x1e2d00[_0x2511a4(0x62f)]?.[_0x2511a4(0x513)]());return{'apikey':_0x876c0};}async[a0_0x34238b(0x36d)](_0x499c9e){const _0x445f12=a0_0x34238b;let _0x1d17e6=this[_0x445f12(0x5ff)][_0x445f12(0x480)](_0x445f12(0x1ca));return await this[_0x1d17e6[_0x445f12(0x5d7)]](_0x499c9e);}},Kt=class{constructor(_0x101a9d){const _0x5b98e9=a0_0x34238b;this[_0x5b98e9(0x572)]=_0x101a9d;}async[a0_0x34238b(0x32e)](_0x117c3a,_0x394fd8){const _0x4de685=a0_0x34238b;return await this[_0x4de685(0x572)][_0x4de685(0x41c)][_0x117c3a[_0x4de685(0x185)]][_0x4de685(0x32e)](_0x394fd8);}async[a0_0x34238b(0x22b)](_0x464340,_0x2eb8cd){const _0x25d3ad=a0_0x34238b;return await this[_0x25d3ad(0x572)][_0x25d3ad(0x41c)][_0x464340[_0x25d3ad(0x185)]][_0x25d3ad(0x22b)](_0x2eb8cd);}async[a0_0x34238b(0x459)](_0x1d4e2b,_0x3e700e){const _0x24e3e0=a0_0x34238b;return await this[_0x24e3e0(0x572)][_0x24e3e0(0x41c)][_0x1d4e2b[_0x24e3e0(0x185)]]['groupDesc'](_0x3e700e);}async[a0_0x34238b(0x321)](_0x5434ca,_0x423e5d){const _0x1e5ddf=a0_0x34238b;return await this['waMonitor']['waInstances'][_0x5434ca[_0x1e5ddf(0x185)]]['groupName'](_0x423e5d);}async[a0_0x34238b(0x64a)](_0xd541b,_0x5b8281){const _0x2642d8=a0_0x34238b;return await this[_0x2642d8(0x572)][_0x2642d8(0x41c)][_0xd541b[_0x2642d8(0x185)]]['groupBetterSetting'](_0x5b8281);}async['groupSetting'](_0x36b3fc,_0x43ef7f){const _0xb33d62=a0_0x34238b;return await this[_0xb33d62(0x572)][_0xb33d62(0x41c)][_0x36b3fc[_0xb33d62(0x185)]][_0xb33d62(0x320)](_0x43ef7f);}async[a0_0x34238b(0x648)](_0x4baf36,_0x14dc62){const _0x12d26d=a0_0x34238b;return await this[_0x12d26d(0x572)][_0x12d26d(0x41c)][_0x4baf36[_0x12d26d(0x185)]][_0x12d26d(0x4d5)](_0x14dc62);}async[a0_0x34238b(0x274)](_0x255672){const _0x17209f=a0_0x34238b;return await this[_0x17209f(0x572)][_0x17209f(0x41c)][_0x255672[_0x17209f(0x185)]][_0x17209f(0x274)]();}async['inviteCode'](_0x1616a2,_0x1cef95){const _0x22ff5f=a0_0x34238b;return await this[_0x22ff5f(0x572)][_0x22ff5f(0x41c)][_0x1616a2['instanceName']]['inviteCode'](_0x1cef95);}async[a0_0x34238b(0x6c6)](_0x3d2ca5,_0x458c69){const _0x1b919b=a0_0x34238b;return await this[_0x1b919b(0x572)][_0x1b919b(0x41c)][_0x3d2ca5[_0x1b919b(0x185)]][_0x1b919b(0x6c6)](_0x458c69);}async[a0_0x34238b(0x6e8)](_0x4be3be,_0x16f7b0){const _0x81849e=a0_0x34238b;return await this[_0x81849e(0x572)][_0x81849e(0x41c)][_0x4be3be[_0x81849e(0x185)]][_0x81849e(0x6e8)](_0x16f7b0);}async[a0_0x34238b(0x612)](_0x471ab6,_0x5e49a4){const _0x5e86e6=a0_0x34238b;return await this[_0x5e86e6(0x572)]['waInstances'][_0x471ab6[_0x5e86e6(0x185)]]['revokeInviteCode'](_0x5e49a4);}async[a0_0x34238b(0x27f)](_0x1fda25,_0x334b92){const _0x18786e=a0_0x34238b;return await this[_0x18786e(0x572)][_0x18786e(0x41c)][_0x1fda25['instanceName']]['findParticipants'](_0x334b92);}async[a0_0x34238b(0x7fc)](_0x4282e0,_0x3c2d73){const _0x398aa2=a0_0x34238b;return await this['waMonitor']['waInstances'][_0x4282e0[_0x398aa2(0x185)]][_0x398aa2(0x796)](_0x3c2d73);}async[a0_0x34238b(0x1cf)](_0x478ee3,_0x528ff2){const _0x42b148=a0_0x34238b;return await this[_0x42b148(0x572)][_0x42b148(0x41c)][_0x478ee3[_0x42b148(0x185)]]['toggleEphemeral'](_0x528ff2);}async[a0_0x34238b(0x65e)](_0x7fc6e4,_0x360505){const _0x472414=a0_0x34238b;return await this[_0x472414(0x572)]['waInstances'][_0x7fc6e4[_0x472414(0x185)]][_0x472414(0x65e)](_0x360505);}},Qt=class{constructor(_0x5ce835){const _0x4495ce=a0_0x34238b;this[_0x4495ce(0x572)]=_0x5ce835;}['create'](_0x39014b,_0x567a4d){const _0x9950e7=a0_0x34238b;return this[_0x9950e7(0x572)]['waInstances'][_0x39014b[_0x9950e7(0x185)]][_0x9950e7(0x227)](_0x567a4d);}async[a0_0x34238b(0x802)](_0x3a63c0){const _0x3e4ff0=a0_0x34238b;try{return await this[_0x3e4ff0(0x572)][_0x3e4ff0(0x41c)][_0x3a63c0['instanceName']][_0x3e4ff0(0x4fc)]();}catch{return{'enabled':null,'url':''};}}},Cp=new R(a0_0x34238b(0x50d)),Yt=class{constructor(_0x3b9eb4){this['waMonitor']=_0x3b9eb4;}async[a0_0x34238b(0x19b)](_0x3c71ae,_0x5e6f0f){const _0x5c5872=a0_0x34238b;return await this[_0x5c5872(0x572)]['waInstances'][_0x3c71ae[_0x5c5872(0x185)]][_0x5c5872(0x19b)](_0x5e6f0f);}async[a0_0x34238b(0x179)](_0x510698){const _0x4fb362=a0_0x34238b;return await this[_0x4fb362(0x572)][_0x4fb362(0x41c)][_0x510698['instanceName']][_0x4fb362(0x179)]();}async[a0_0x34238b(0x28c)](_0xe35dff){const _0x16f6ac=a0_0x34238b;return await this['waMonitor']['waInstances'][_0xe35dff['instanceName']][_0x16f6ac(0x28c)]();}async[a0_0x34238b(0x7ae)](_0x4050b1){const _0x1dc9d7=a0_0x34238b;return await this[_0x1dc9d7(0x572)][_0x1dc9d7(0x41c)][_0x4050b1[_0x1dc9d7(0x185)]][_0x1dc9d7(0x7ae)]();}async[a0_0x34238b(0x675)](_0x3eb417,_0x359655){const _0x291a1e=a0_0x34238b;return await this['waMonitor'][_0x291a1e(0x41c)][_0x3eb417[_0x291a1e(0x185)]][_0x291a1e(0x675)](_0x359655);}async[a0_0x34238b(0x555)](_0xf3ba46,_0x36a49b){const _0x48fb83=a0_0x34238b;return await this[_0x48fb83(0x572)][_0x48fb83(0x41c)][_0xf3ba46[_0x48fb83(0x185)]][_0x48fb83(0x555)](_0x36a49b);}async[a0_0x34238b(0x2a6)](_0x1dc286,_0x5a6d56){const _0x1bc5d9=a0_0x34238b;return await this[_0x1bc5d9(0x572)][_0x1bc5d9(0x41c)][_0x1dc286[_0x1bc5d9(0x185)]][_0x1bc5d9(0x2a6)](_0x5a6d56);}async[a0_0x34238b(0x6dd)](_0x34dfba,_0x4cebf7){const _0x11de29=a0_0x34238b;return await this['waMonitor'][_0x11de29(0x41c)][_0x34dfba[_0x11de29(0x185)]]['updateFlowConfig'](_0x4cebf7);}async[a0_0x34238b(0x775)](_0x1868b0,_0xa44698){const _0x2cb7b3=a0_0x34238b;return await this[_0x2cb7b3(0x572)]['waInstances'][_0x1868b0[_0x2cb7b3(0x185)]][_0x2cb7b3(0x775)](_0xa44698);}async[a0_0x34238b(0x406)](_0x5e0f47,_0x315304,_0x3a6f2b,_0x28c13a){const _0x89d940=a0_0x34238b;return await this[_0x89d940(0x572)][_0x89d940(0x41c)][_0x5e0f47][_0x89d940(0x406)](_0x315304,_0x3a6f2b,_0x28c13a);}async[a0_0x34238b(0x2fc)](_0x542dc7,_0xbc3621){const _0x432efe=a0_0x34238b;return await this[_0x432efe(0x572)]['waInstances'][_0x542dc7[_0x432efe(0x185)]][_0x432efe(0x2fc)](_0xbc3621);}async[a0_0x34238b(0x61b)](_0x310790,_0x364444){const _0x5e75a4=a0_0x34238b;return await this['waMonitor']['waInstances'][_0x310790[_0x5e75a4(0x185)]][_0x5e75a4(0x61b)](_0x364444);}async[a0_0x34238b(0x37e)](_0x333b30,_0x22c36a){const _0x54d9b3=a0_0x34238b;return await this[_0x54d9b3(0x572)][_0x54d9b3(0x41c)][_0x333b30[_0x54d9b3(0x185)]][_0x54d9b3(0x37e)](_0x22c36a);}async[a0_0x34238b(0x7cc)](_0x5d447d,_0x1841e2){const _0x2adce5=a0_0x34238b;return await this['waMonitor']['waInstances'][_0x5d447d[_0x2adce5(0x185)]][_0x2adce5(0x7cc)](_0x1841e2);}async['getFlow'](_0x381a4b,_0x76818b){const _0x5ccf35=a0_0x34238b;return await this[_0x5ccf35(0x572)]['waInstances'][_0x381a4b[_0x5ccf35(0x185)]][_0x5ccf35(0x18d)](_0x76818b['name'],_0x76818b[_0x5ccf35(0x2fd)]);}async[a0_0x34238b(0x825)](_0x3fe286,_0x21629a,_0x312e37){const _0x1a49a3=a0_0x34238b;return await this[_0x1a49a3(0x572)][_0x1a49a3(0x41c)][_0x3fe286[_0x1a49a3(0x185)]][_0x1a49a3(0x825)](_0x21629a,_0x312e37);}async[a0_0x34238b(0x326)](_0x191173,_0x1ac226,_0xd1a5b6){const _0x2becdb=a0_0x34238b;return await this['waMonitor']['waInstances'][_0x191173[_0x2becdb(0x185)]][_0x2becdb(0x326)](_0x1ac226,_0xd1a5b6);}async[a0_0x34238b(0x785)](_0x153312,_0x3b471a,_0x1d22d2){const _0x35ec7b=a0_0x34238b;return await this[_0x35ec7b(0x572)][_0x35ec7b(0x41c)][_0x153312[_0x35ec7b(0x185)]]['editFlowBlock'](_0x3b471a,_0x1d22d2);}async[a0_0x34238b(0x666)](_0x55dbda,_0x4e2a6a,_0x480095){const _0x30b332=a0_0x34238b;return await this[_0x30b332(0x572)][_0x30b332(0x41c)][_0x55dbda[_0x30b332(0x185)]][_0x30b332(0x666)](_0x4e2a6a,_0x480095);}async[a0_0x34238b(0x3c9)](_0x11c25a,_0x50926a,_0x2e80e6){const _0x3f9821=a0_0x34238b;return await this['waMonitor'][_0x3f9821(0x41c)][_0x11c25a[_0x3f9821(0x185)]]['editFlowGroup'](_0x50926a,_0x2e80e6);}async[a0_0x34238b(0x663)](_0x247e10,_0x5b0e84,_0x2596d7){const _0x6792b=a0_0x34238b;return await this['waMonitor']['waInstances'][_0x247e10[_0x6792b(0x185)]][_0x6792b(0x663)](_0x5b0e84,_0x2596d7);}async[a0_0x34238b(0x3af)](_0x4f3f84,_0x281ac9,_0x34a01c){const _0xe873f9=a0_0x34238b;return await this[_0xe873f9(0x572)]['waInstances'][_0x4f3f84[_0xe873f9(0x185)]][_0xe873f9(0x3af)](_0x281ac9,_0x34a01c);}async[a0_0x34238b(0x462)](_0x223b28,_0x5e82fe,_0x3c7583){const _0x30ca56=a0_0x34238b;return await this['waMonitor'][_0x30ca56(0x41c)][_0x223b28[_0x30ca56(0x185)]][_0x30ca56(0x462)](_0x5e82fe,_0x3c7583);}async[a0_0x34238b(0x4ab)](_0x373fe4,_0x137aba,_0x2595c8){const _0x2f3e10=a0_0x34238b;return await this[_0x2f3e10(0x572)][_0x2f3e10(0x41c)][_0x373fe4[_0x2f3e10(0x185)]][_0x2f3e10(0x4ab)](_0x137aba,_0x2595c8);}async['allFlows'](_0x15e1cb){const _0x3b566a=a0_0x34238b;return await this['waMonitor'][_0x3b566a(0x41c)][_0x15e1cb['instanceName']]['allFlows']();}},Xt=class{constructor(_0x14e524){const _0x367dee=a0_0x34238b;this[_0x367dee(0x709)]=_0x14e524;}async[a0_0x34238b(0x443)](_0x412bd6,_0x31152c){const _0x108061=a0_0x34238b;return this[_0x108061(0x709)]['create'](_0x412bd6,_0x31152c);}async[a0_0x34238b(0x4fc)](_0x3b9004){const _0x52abdf=a0_0x34238b;return this['webhookService'][_0x52abdf(0x802)](_0x3b9004);}},Zt=class extends x{constructor(_0x25bb0d,_0x5273ee){const _0x420f20=a0_0x34238b;super(_0x5273ee),this[_0x420f20(0x714)]=_0x25bb0d,this[_0x420f20(0x5ff)]=_0x5273ee;}async[a0_0x34238b(0x6a0)](_0x43b460,_0x5ef4d5){const _0x5e4d5f=a0_0x34238b;try{return this[_0x5e4d5f(0x2cb)][_0x5e4d5f(0x22a)]?{'insertCount':(await this[_0x5e4d5f(0x714)][_0x5e4d5f(0x3c7)]({'_id':_0x5ef4d5},{..._0x43b460},{'upsert':!0x0}))[_0x5e4d5f(0x5d2)]}:{'insertCount':0x1};}catch(_0x4e94f8){return _0x4e94f8;}}async['delete'](_0x1b6869){const _0x382a21=a0_0x34238b;try{if(this[_0x382a21(0x2cb)][_0x382a21(0x22a)]){await this['webhookModel'][_0x382a21(0x1bd)]({'_id':_0x1b6869});return;}}catch(_0x4e140a){return{'error':_0x4e140a};}}async[a0_0x34238b(0x802)](_0x104dca){const _0x4632f3=a0_0x34238b;try{if(this[_0x4632f3(0x2cb)]['ENABLED'])return await this[_0x4632f3(0x714)][_0x4632f3(0x6cc)]({'_id':_0x104dca});}catch{return{};}}},es=class extends x{constructor(_0x5f085e,_0x5363ff){const _0x4f280f=a0_0x34238b;super(_0x5363ff),this[_0x4f280f(0x80d)]=_0x5f085e,this['configService']=_0x5363ff,this[_0x4f280f(0x411)]=_0x5363ff['get'](_0x4f280f(0x1ca));}async[a0_0x34238b(0x6a0)](_0x530c4d,_0x4ba2c7){const _0x169cd4=a0_0x34238b;try{if(this[_0x169cd4(0x2cb)][_0x169cd4(0x22a)])return{'insertCount':(await this[_0x169cd4(0x80d)][_0x169cd4(0x53d)]({'_id':_0x4ba2c7},{'$set':{..._0x530c4d}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x4f7752){return{'error':_0x4f7752};}}async[a0_0x34238b(0x329)](_0x474d58,_0x3abced){const _0x508459=a0_0x34238b;try{if(this[_0x508459(0x2cb)][_0x508459(0x22a)])return{'insertCount':(await this['authModel'][_0x508459(0x5a6)](_0x474d58,{'$set':_0x3abced},{'upsert':!0x1}))[_0x508459(0x5d2)]};throw new Error(_0x508459(0x314));}catch(_0x1d8af3){return{'error':_0x1d8af3};}}async[a0_0x34238b(0x68c)](_0x4983da){const _0x3021f8=a0_0x34238b;try{if(this[_0x3021f8(0x2cb)]['ENABLED'])return{'insertCount':(await this[_0x3021f8(0x80d)][_0x3021f8(0x68c)](_0x4983da))[_0x3021f8(0x759)]};throw new Error(_0x3021f8(0x314));}catch(_0x290378){return{'error':_0x290378};}}async['delete'](_0x356dc1){const _0x4b77cc=a0_0x34238b;try{if(this[_0x4b77cc(0x2cb)][_0x4b77cc(0x22a)]){await this[_0x4b77cc(0x80d)]['deleteOne']({'_id':_0x356dc1});return;}}catch(_0x4f7c3d){return{'error':_0x4f7c3d};}}async['find'](_0x3d02c3){const _0x433763=a0_0x34238b;try{if(this[_0x433763(0x2cb)][_0x433763(0x22a)])return await this[_0x433763(0x80d)]['findOne']({'_id':_0x3d02c3});}catch{return{};}}async['findAll'](){const _0x11afe3=a0_0x34238b;try{if(this[_0x11afe3(0x2cb)][_0x11afe3(0x22a)])return await this[_0x11afe3(0x80d)]['find']();}catch{return[];}}},ts=class extends x{[a0_0x34238b(0x640)](_0x33e960){return da(_0x33e960);}async['delete'](_0x19fdc0,_0x25cf18){const _0x36e193=a0_0x34238b;try{let _0xc2a88f=this[_0x36e193(0x640)](_0x25cf18),_0x4f5907=T(_0x19fdc0[_0x36e193(0x722)]);return{'deletedCount':(await _0xc2a88f[_0x36e193(0x68c)](_0x4f5907))['deletedCount']};}catch(_0x6a5577){return{'error':_0x6a5577?.[_0x36e193(0x513)]()};}}async['deleteOne'](_0x1ab49a,_0x5b9f16){const _0x42c8ea=a0_0x34238b;try{let _0x3f38c5=this[_0x42c8ea(0x640)](_0x5b9f16),_0xef3c29=T(_0x1ab49a[_0x42c8ea(0x722)]);return{'deletedCount':(await _0x3f38c5[_0x42c8ea(0x1bd)](_0xef3c29))[_0x42c8ea(0x759)]};}catch(_0x445e5b){return{'error':_0x445e5b?.['toString']()};}}async['replaceOne'](_0x490cf7,_0x2da883,_0x419b86){const _0x1bc916=a0_0x34238b;try{let _0x44fa9b=await this['getFlowModelForOwner'](_0x419b86)[_0x1bc916(0x742)](_0x490cf7,_0x2da883,{'overwrite':!0x0,'new':!0x0});return _0x44fa9b||(console[_0x1bc916(0x62f)](_0x1bc916(0x267),_0x490cf7),null);}catch(_0x16aba4){return console[_0x1bc916(0x62f)](_0x1bc916(0x5ab),_0x16aba4),null;}}async['updateOne'](_0x5219fa,_0x408e07,_0x1317cf){const _0x12c59a=a0_0x34238b;try{let _0x4e2e43=await this[_0x12c59a(0x640)](_0x1317cf)[_0x12c59a(0x221)](_0x5219fa);return _0x4e2e43?(Object[_0x12c59a(0x752)](_0x4e2e43,_0x408e07),await _0x4e2e43[_0x12c59a(0x338)]()):(console[_0x12c59a(0x62f)](_0x12c59a(0x7f7),_0x5219fa),null);}catch(_0x116627){return console['error'](_0x12c59a(0x5ab),_0x116627),null;}}async[a0_0x34238b(0x4c2)](_0x3f31ad,_0x3bde7e,_0x33c0b3){const _0xcf56b4=a0_0x34238b;try{let _0x500a3f=this['getFlowModelForOwner'](_0x33c0b3),_0x2647af=await _0x500a3f[_0xcf56b4(0x221)](_0x3f31ad),_0x3e4280=await _0x500a3f[_0xcf56b4(0x168)]({'_id':_0x3f31ad},_0x3bde7e,{'new':!0x0,'runValidators':!0x0});return _0x3e4280||(console[_0xcf56b4(0x685)](_0xcf56b4(0x632)+_0x3f31ad+_0xcf56b4(0x5f9)+_0x33c0b3+_0xcf56b4(0x4e1)),null);}catch(_0xccaa81){throw console[_0xcf56b4(0x62f)](_0xcf56b4(0x819),_0xccaa81),_0xccaa81;}}async['updateMissingShareOwners'](_0x40fd94){const _0x42544a=a0_0x34238b;try{let _0x257ca4=this[_0x42544a(0x640)](_0x40fd94),_0x4b806b={'shareOwners':{'$exists':!0x1}},_0x5d1890={'$set':{'shareOwners':[]}};return(await _0x257ca4[_0x42544a(0x5a6)](_0x4b806b,_0x5d1890))['modifiedCount'];}catch(_0x1fcb63){return console[_0x42544a(0x62f)](_0x1fcb63),0x0;}}async['createAndSave'](_0x5ed068,_0x15e332){const _0x4841a1=a0_0x34238b;try{let _0x1b39bc=this[_0x4841a1(0x640)](_0x15e332);return await new _0x1b39bc(_0x5ed068)[_0x4841a1(0x338)]();}catch(_0xa2c84b){return console['error'](_0x4841a1(0x158),_0xa2c84b),null;}}async[a0_0x34238b(0x5a6)](_0x1cde80,_0x14fbe4,_0x2dbe51){const _0x53d7d6=a0_0x34238b;try{return{'modifiedCount':(await this[_0x53d7d6(0x640)](_0x2dbe51)['updateMany'](_0x1cde80,{'$set':_0x14fbe4}))['modifiedCount']};}catch(_0x4d4d62){return console[_0x53d7d6(0x62f)](_0x53d7d6(0x56b),_0x4d4d62),{'error':_0x4d4d62};}}async[a0_0x34238b(0x1f4)](_0x151d8f,_0xac730a){const _0x5a9fa8=a0_0x34238b;try{let _0x57b774=this[_0x5a9fa8(0x640)](_0xac730a),_0x205798=T(_0x151d8f[_0x5a9fa8(0x722)]);return await _0x57b774['find'](_0x205798)[_0x5a9fa8(0x5a9)](_0x151d8f?.[_0x5a9fa8(0x5a9)]??0x0)[_0x5a9fa8(0x23f)]();}catch{return[];}}async['findOne'](_0x4d7a22,_0x429e42){const _0x336a17=a0_0x34238b;try{let _0x19c22b=this[_0x336a17(0x640)](_0x429e42),_0x590aba=T(_0x4d7a22['where']);return await _0x19c22b[_0x336a17(0x6cc)](_0x590aba)[_0x336a17(0x23f)]();}catch{return null;}}async['deleteAll'](_0x592615){const _0x26efb9=a0_0x34238b;try{return await this['getFlowModelForOwner'](_0x592615)['collection'][_0x26efb9(0x70d)](),{'success':!0x0};}catch(_0xea890f){return console[_0x26efb9(0x62f)](_0xea890f),{'success':!0x1,'error':_0xea890f};}}},ss=class extends x{[a0_0x34238b(0x79a)](_0x581bc0){return pa(_0x581bc0);}async['insert'](_0x1c8d40){const _0x4582e5=a0_0x34238b;if(_0x1c8d40['length']!==0x0)try{return{'insertCount':(await this[_0x4582e5(0x79a)](_0x1c8d40[0x0]['owner'])[_0x4582e5(0x43e)]([..._0x1c8d40]))[_0x4582e5(0x6f5)]};}catch(_0x5a9346){return _0x5a9346;}}async['delete'](_0x421dbd,_0x192b35){const _0x58ee45=a0_0x34238b;try{let _0xfd2f4b=this[_0x58ee45(0x79a)](_0x192b35),_0x8cab77=T(_0x421dbd[_0x58ee45(0x722)]);return{'deletedCount':(await _0xfd2f4b[_0x58ee45(0x68c)](_0x8cab77))[_0x58ee45(0x759)]};}catch(_0x36a84e){return{'error':_0x36a84e?.[_0x58ee45(0x513)]()};}}async[a0_0x34238b(0x1bd)](_0x2ac72a,_0x355bbb){const _0x9e4a18=a0_0x34238b;try{let _0x5ce52c=this['getConversationModelForOwner'](_0x355bbb),_0x144615=T(_0x2ac72a['where']);return{'deletedCount':(await _0x5ce52c['deleteOne'](_0x144615))['deletedCount']};}catch(_0x1991b3){return{'error':_0x1991b3?.[_0x9e4a18(0x513)]()};}}async[a0_0x34238b(0x386)](_0x2ddb86,_0x19296a){const _0x305106=a0_0x34238b;try{if(_0x2ddb86[_0x305106(0x6f5)]===0x0)return;let _0x38026f=this[_0x305106(0x79a)](_0x19296a),_0x276744=_0x2ddb86[_0x305106(0x643)](_0x6fb0ac=>({'updateOne':{'filter':{'name':_0x6fb0ac[_0x305106(0x5f8)],'owner':_0x19296a},'update':{..._0x6fb0ac}}})),{modifiedCount:_0x4c6b2b}=await _0x38026f['bulkWrite'](_0x276744);return{'insertCount':_0x4c6b2b};}catch{return;}}async[a0_0x34238b(0x5a6)](_0x423295,_0xc3e6df,_0x50a608){const _0xc19468=a0_0x34238b;try{return{'modifiedCount':(await this[_0xc19468(0x79a)](_0x50a608)[_0xc19468(0x5a6)](_0x423295,{'$set':_0xc3e6df})[_0xc19468(0x438)]())[_0xc19468(0x5d2)]};}catch(_0x449cea){return console[_0xc19468(0x62f)](_0xc19468(0x57a),_0x449cea),{'error':_0x449cea};}}async['updateOne'](_0x3da1f4,_0x1c4412,_0x2c3eb1){try{return await this['getConversationModelForOwner'](_0x2c3eb1)['findOneAndUpdate']({'_id':_0x3da1f4},{'$set':_0x1c4412},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x15c7bc){return console['error'](_0x15c7bc),null;}}async[a0_0x34238b(0x802)](_0x522679,_0x162e44){const _0x50a557=a0_0x34238b;try{return await this[_0x50a557(0x79a)](_0x162e44)[_0x50a557(0x802)](_0x522679)[_0x50a557(0x778)]({'lastInteraction':-0x1})[_0x50a557(0x23f)]();}catch{return[];}}async[a0_0x34238b(0x6cc)](_0x25ec1a,_0xd00594){const _0x545144=a0_0x34238b;try{return await this['getConversationModelForOwner'](_0xd00594)[_0x545144(0x6cc)]({..._0x25ec1a[_0x545144(0x722)]})[_0x545144(0x23f)]();}catch{return null;}}async[a0_0x34238b(0x275)](_0x2bdb3b){const _0x952312=a0_0x34238b;try{return await this[_0x952312(0x79a)](_0x2bdb3b)['collection'][_0x952312(0x70d)](),{'success':!0x0};}catch(_0x3fb469){return console[_0x952312(0x62f)](_0x3fb469),{'success':!0x1,'error':_0x3fb469};}}},as=class extends x{[a0_0x34238b(0x220)](_0x5c03d4){return ha(_0x5c03d4);}async[a0_0x34238b(0x35b)](_0x1cad57,_0x432b2e){const _0x5da834=a0_0x34238b;try{let _0x45751e=this[_0x5da834(0x220)](_0x432b2e);return await new _0x45751e(_0x1cad57)[_0x5da834(0x338)]();}catch(_0x507ed2){return console[_0x5da834(0x62f)](_0x5da834(0x158),_0x507ed2),null;}}async['deleteOne'](_0x55ee33,_0x2805c0){const _0x57868e=a0_0x34238b;try{return await this[_0x57868e(0x220)](_0x2805c0)[_0x57868e(0x1e5)](_0x55ee33),{};}catch(_0x737270){return{'error':_0x737270?.[_0x57868e(0x513)]()};}}async['updateOne'](_0x3254f2,_0x7bc1c5,_0x3f86f4){const _0x3117b3=a0_0x34238b;try{return await this[_0x3117b3(0x220)](_0x3f86f4)[_0x3117b3(0x168)](_0x3254f2,{'$set':_0x7bc1c5},{'new':!0x0})['lean']();}catch(_0x323247){return console[_0x3117b3(0x62f)](_0x3117b3(0x5a4),_0x323247),null;}}async[a0_0x34238b(0x345)](_0x3c3a1c,_0x3f019c,_0x5c3713){const _0x21f31e=a0_0x34238b;try{return await this[_0x21f31e(0x220)](_0x5c3713)['findByIdAndUpdate'](_0x3c3a1c,_0x3f019c,{'new':!0x0})[_0x21f31e(0x23f)]();}catch(_0xc20037){return console[_0x21f31e(0x62f)](_0x21f31e(0x5a4),_0xc20037),null;}}async[a0_0x34238b(0x802)](_0x43ef0e,_0x3f3bd7){const _0xe60ef3=a0_0x34238b;try{return await this[_0xe60ef3(0x220)](_0x3f3bd7)[_0xe60ef3(0x802)](_0x43ef0e[_0xe60ef3(0x722)])['limit'](_0x43ef0e?.[_0xe60ef3(0x5a9)]??0x0)[_0xe60ef3(0x778)]({'when':0x1})[_0xe60ef3(0x23f)]();}catch{return[];}}async[a0_0x34238b(0x6cc)](_0x1d57b7,_0x3547a5){const _0x271b0a=a0_0x34238b;try{return await this['getScheduleMessageModelForOwner'](_0x3547a5)[_0x271b0a(0x6cc)](_0x1d57b7[_0x271b0a(0x722)])[_0x271b0a(0x778)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x34238b(0x221)](_0x2de9ac,_0x8896b8){const _0x354908=a0_0x34238b;try{return await this[_0x354908(0x220)](_0x8896b8)['findById'](_0x2de9ac)['lean']();}catch{return null;}}async[a0_0x34238b(0x68c)](_0x29608c,_0x1edaa3){const _0x3c5f4e=a0_0x34238b;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x1edaa3)[_0x3c5f4e(0x68c)](_0x29608c))['deletedCount']};}catch(_0xc96b6b){return console[_0x3c5f4e(0x62f)](_0x3c5f4e(0x7ca),_0xc96b6b),{'error':_0xc96b6b};}}async[a0_0x34238b(0x275)](_0x8a26e3){const _0x37b5fb=a0_0x34238b;try{return await this[_0x37b5fb(0x220)](_0x8a26e3)[_0x37b5fb(0x322)][_0x37b5fb(0x70d)](),{'success':!0x0};}catch(_0xae8c02){return console[_0x37b5fb(0x62f)](_0xae8c02),{'success':!0x1,'error':_0xae8c02};}}},is=class extends x{async[a0_0x34238b(0x386)](_0x54779e,_0x2b3e6b){const _0xb7e731=a0_0x34238b;try{if(this[_0xb7e731(0x2cb)][_0xb7e731(0x22a)]){let _0x35a699=await ve[_0xb7e731(0x168)]({'_id':_0x2b3e6b},{'$set':_0x54779e},{'new':!0x0});return console['log'](_0xb7e731(0x3f2),_0x35a699),_0x35a699;}}catch(_0x55d3fd){throw console['error'](_0xb7e731(0x458),_0x55d3fd),_0x55d3fd;}}async['findOrCreate'](_0x2143a8){const _0xf38a1b=a0_0x34238b;try{let _0x3199ee=await ve[_0xf38a1b(0x221)](_0x2143a8);return _0x3199ee?_0x3199ee[_0xf38a1b(0x33d)]||(_0x3199ee[_0xf38a1b(0x33d)]=[],await _0x3199ee[_0xf38a1b(0x338)]()):(_0x3199ee=new ve({'_id':_0x2143a8,'autoCompleteMessages':[]}),await _0x3199ee['save']()),_0x3199ee;}catch(_0x3a9cf0){return _0x3a9cf0[_0xf38a1b(0x2f4)]===0x2af8&&_0x3a9cf0[_0xf38a1b(0x79b)]&&_0x3a9cf0[_0xf38a1b(0x79b)]['autoCompleteMessages.command']?(console[_0xf38a1b(0x62f)]('Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...'),await ve[_0xf38a1b(0x322)][_0xf38a1b(0x271)]('autoCompleteMessages.command_1'),null):(console[_0xf38a1b(0x62f)](_0xf38a1b(0x3d2),_0x3a9cf0),null);}}},$o=new R(a0_0x34238b(0x3e3)),Ao=new Be(S),Oo=new Ut(S),To=new at(S),Io=new qt(Zs,S),xo=new Zt(ra,S),Do=new es(aa,S),_o=new ts(S),Po=new Vt(S),ko=new ss(S),jo=new as(S),Lo=new is(S),ue=new Ve(Ao,Oo,To,Io,xo,Do,_o,ko,Po,jo,Lo,$?.['getClient']()),G=new Jt(us,S,ue),Fo=new Ht(S,G,ue),Jo=new Qt(G),Cs=new Xt(Jo),A=new Yt(G),ne=new Wt(G,S,ue,us,Fo),B=new zt(G),_=new Gt(G),q=new Kt(G);$o['info'](a0_0x34238b(0x373));var Fh=require(a0_0x34238b(0x3ba)),Ps=require('fs'),vi=O(require(a0_0x34238b(0x2be))),Ni=O(require(a0_0x34238b(0x729))),_e=class c{static #e;static set[a0_0x34238b(0x366)](_0x5a12c6){this.#e=_0x5a12c6;}static get[a0_0x34238b(0x2be)](){const _0x3f78ca=a0_0x34238b;let {FULLCHAIN:_0x299dff,PRIVKEY:_0x5416f8}=S['get'](_0x3f78ca(0x5fb));return vi['createServer']({'cert':(0x0,Ps[_0x3f78ca(0x5c2)])(_0x299dff),'key':(0x0,Ps['readFileSync'])(_0x5416f8)},c.#e);}static get[a0_0x34238b(0x729)](){const _0x5a2ced=a0_0x34238b;return Ni[_0x5a2ced(0x837)](c.#e);}},pe=O(require('fs')),Ii=O(require(a0_0x34238b(0x2ef))),Pe=O(require(a0_0x34238b(0x3d1))),je=O(require('path')),Le=require('child_process');function Uo(){const _0x1b9e22=a0_0x34238b;G['loadInstance']();let _0x5da370=je[_0x1b9e22(0x3fd)]['join'](__dirname,_0x1b9e22(0x17a));Ti(_0x5da370);}var Ti=_0x4d09fc=>{const _0x4490e4=a0_0x34238b;let _0x2c616f=pe[_0x4490e4(0x3fd)][_0x4490e4(0x203)](_0x4d09fc),_0x46d952=0xc*0x3c*0x3c*0x3e8,_0x10eb49=0x2*0x3c*0x3c*0x3e8,_0x1de8f0=new Date()[_0x4490e4(0x214)]();_0x2c616f[_0x4490e4(0x44e)](_0x4fb0eb=>{const _0x33e29b=_0x4490e4;let _0x112ecc=je[_0x33e29b(0x3fd)][_0x33e29b(0x692)](_0x4d09fc,_0x4fb0eb),_0x551dc4=pe['default'][_0x33e29b(0x2eb)](_0x112ecc)[_0x33e29b(0x4d6)]['getTime']();_0x1de8f0-_0x551dc4>_0x46d952&&(pe[_0x33e29b(0x3fd)][_0x33e29b(0x2fe)](_0x112ecc),console[_0x33e29b(0x685)](_0x33e29b(0x5fe)+_0x4fb0eb));}),setTimeout(()=>Ti(_0x4d09fc),_0x10eb49);};function qo(){const _0x4bf4bc=a0_0x34238b;let _0x19b58b=new R(_0x4bf4bc(0x269)),_0x13389d=(0x0,he[_0x4bf4bc(0x3fd)])();_0x13389d[_0x4bf4bc(0x68d)]((0x0,Oi[_0x4bf4bc(0x3fd)])({'origin'(_0x21ff2b,_0x5bc20c){const _0x5642a9=_0x4bf4bc;let {ORIGIN:_0x2680f0}=S[_0x5642a9(0x480)](_0x5642a9(0x36a));return _0x21ff2b||(_0x21ff2b='*'),_0x2680f0[_0x5642a9(0x471)]('*')!==-0x1||_0x2680f0[_0x5642a9(0x471)](_0x21ff2b)!==-0x1?_0x5bc20c(null,!0x0):_0x5bc20c(new Error(_0x5642a9(0x721)));},'methods':[...S[_0x4bf4bc(0x480)](_0x4bf4bc(0x36a))[_0x4bf4bc(0x735)]],'credentials':S[_0x4bf4bc(0x480)]('CORS')['CREDENTIALS']}),(0x0,he[_0x4bf4bc(0x4e8)])({'extended':!0x0,'limit':_0x4bf4bc(0x3f6)}),(0x0,he['json'])({'limit':'50mb'})),_0x13389d[_0x4bf4bc(0x68d)]((_0x5967ca,_0x25c25b,_0x45d50e)=>{const _0x15c7cf=_0x4bf4bc;_0x5967ca[_0x15c7cf(0x74d)][_0x15c7cf(0x42a)]('/events')?_0x45d50e():(0x0,Ai[_0x15c7cf(0x3fd)])()(_0x5967ca,_0x25c25b,_0x45d50e);}),_0x13389d[_0x4bf4bc(0x339)]('view\x20engine','hbs'),_0x13389d[_0x4bf4bc(0x339)](_0x4bf4bc(0x53f),(0x0,js[_0x4bf4bc(0x692)])(re,_0x4bf4bc(0x53f))),_0x13389d['use'](he[_0x4bf4bc(0x3fd)]['static']((0x0,js['join'])(re,_0x4bf4bc(0x2ab)))),_0x13389d[_0x4bf4bc(0x68d)]((_0x55359f,_0x4dc2ff,_0x2e973b)=>{const _0x122474=_0x4bf4bc;let _0x52ff1d=_0x4dc2ff[_0x122474(0x4cb)];_0x4dc2ff[_0x122474(0x4cb)]=function(_0xadd062){const _0x33c697=_0x122474;if(_0x55359f[_0x33c697(0x38a)][_0x33c697(0x389)]==='true'||_0x55359f[_0x33c697(0x3a8)][_0x33c697(0x7d2)]===_0x33c697(0x2b1)){let _0x4491e4=JSON[_0x33c697(0x3fb)](_0xadd062);_0xadd062=JSON['stringify'](_0x37214f(_0x4491e4));}return _0x52ff1d[_0x33c697(0x311)](_0x4dc2ff,[_0xadd062]);},_0x2e973b();}),_0x13389d[_0x4bf4bc(0x68d)]('/',Ie),_0x13389d['use']((_0x207a7f,_0x42eab6,_0x2eb6bd,_0x1fdb7c)=>{const _0x192b11=_0x4bf4bc;if(_0x207a7f)return _0x2eb6bd[_0x192b11(0x7b4)](_0x207a7f['status']||0x1f4)[_0x192b11(0x56d)](_0x207a7f);},(_0x294e80,_0x440e34,_0x365a57)=>{const _0x3a4830=_0x4bf4bc;let {method:_0x923d42,url:_0x1fcb03}=_0x294e80;_0x440e34[_0x3a4830(0x7b4)](0x194)['json']({'status':0x194,'message':_0x3a4830(0x631)+_0x923d42[_0x3a4830(0x706)]()+'\x20'+_0x1fcb03,'error':_0x3a4830(0x1de)}),_0x365a57();});let _0x37214f=(_0x490c7f,_0x36d26d='_p_')=>{const _0x27cf21=_0x4bf4bc;let _0x5c78eb=(_0x452441,_0x289bd9=null,_0xba5d2e=!0x1)=>{const _0x52b220=a0_0x3a3c;let _0x3d146c={};return Object['keys'](_0x452441)[_0x52b220(0x44e)](_0x1b2864=>{const _0x35bfab=_0x52b220;let _0x3fc5e2=_0x452441[_0x1b2864],_0x396751=''+_0x36d26d+_0x1b2864;_0x289bd9&&!_0xba5d2e&&(_0x396751=_0x289bd9+'.'+_0x1b2864),!_0x3fc5e2&&_0x3fc5e2!==0x0&&_0x3fc5e2!==!0x1||typeof _0x3fc5e2>'u'?_0x3d146c[_0x396751]=null:typeof _0x3fc5e2!=_0x35bfab(0x410)&&!Array[_0x35bfab(0x358)](_0x3fc5e2)?_0x3d146c[_0x396751]=_0x3fc5e2:typeof _0x3fc5e2=='object'&&!Array[_0x35bfab(0x358)](_0x3fc5e2)?_0x3d146c=Object[_0x35bfab(0x752)](_0x3d146c,_0x5c78eb(_0x3fc5e2,_0x396751)):Array[_0x35bfab(0x358)](_0x3fc5e2)&&(typeof _0x3fc5e2[0x0]==_0x35bfab(0x410)?(_0x3d146c[_0x396751]=[],_0x3fc5e2[_0x35bfab(0x44e)](_0x1a1993=>{_0x3d146c[_0x396751]['push'](_0x5c78eb(_0x1a1993,_0x396751,!0x0));})):_0x3d146c[_0x396751]=_0x3fc5e2);}),_0x3d146c;};return Array[_0x27cf21(0x358)](_0x490c7f)?_0x490c7f[_0x27cf21(0x643)](_0x43a33f=>_0x5c78eb(_0x43a33f)):typeof _0x490c7f==_0x27cf21(0x410)&&_0x490c7f!==null?_0x5c78eb(_0x490c7f):{};},_0x173b2d=S[_0x4bf4bc(0x480)](_0x4bf4bc(0x269));_e[_0x4bf4bc(0x366)]=_0x13389d;let _0x3f7dfe=_e[_0x173b2d[_0x4bf4bc(0x5d7)]],_0x5a696e=_0x4bf4bc(0x5a1);_0x3f7dfe[_0x4bf4bc(0x6ef)](_0x173b2d[_0x4bf4bc(0x82f)],()=>{const _0x104c71=_0x4bf4bc;_0x19b58b[_0x104c71(0x685)](_0x5a696e),_0x19b58b[_0x104c71(0x685)](_0x173b2d[_0x104c71(0x5d7)][_0x104c71(0x706)]()+_0x104c71(0x19d)+_0x173b2d[_0x104c71(0x82f)]);}),Uo(),zs();}var Vo='https://github.com/uazapi/uazapi.git',Go=je['default']['join'](__dirname,a0_0x34238b(0x80c)),ke=null;function Bo(){return new Promise((_0xeda214,_0x282f89)=>{const _0x547f1a=a0_0x3a3c;pe['default'][_0x547f1a(0x653)](Go,_0x547f1a(0x603),(_0x443623,_0x2f2787)=>{const _0x898491=_0x547f1a;if(_0x443623){ke=_0x443623,_0xeda214();return;}Ii['default'][_0x898491(0x3fb)](_0x2f2787)[_0x898491(0x719)][_0x898491(0x682)]===Vo?(ke=null,_0xeda214()):(ke=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0xeda214());});});}async function Wo(){const _0x26a794=a0_0x34238b;try{await Bo(),await Ls();}catch(_0x3a47f3){console[_0x26a794(0x62f)](_0x26a794(0x402)+_0x3a47f3),process['exit'](0x1);}}Wo();async function xi(){const _0x392fbf=a0_0x34238b;let _0x24a627;try{_0x24a627=(await Pe['default'][_0x392fbf(0x480)](_0x392fbf(0x467)))[_0x392fbf(0x323)]['ip'];}catch(_0xdc7dc9){console[_0x392fbf(0x62f)](_0xdc7dc9);try{_0x24a627=(await Pe[_0x392fbf(0x3fd)][_0x392fbf(0x480)](_0x392fbf(0x78e)))['data']['ip'];}catch(_0x5ae6ff){console[_0x392fbf(0x62f)](_0x5ae6ff);try{_0x24a627=(await Pe[_0x392fbf(0x3fd)]['get'](_0x392fbf(0x45a)))[_0x392fbf(0x323)][_0x392fbf(0x441)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x3e3b1a){return console[_0x392fbf(0x62f)](_0x3e3b1a),!0x1;}}}return _0x24a627;}var Ri=0x0;async function zo(){const _0x485147=a0_0x34238b;let _0x380248=await new ce(S['get']('REDIS'))['instanceKeys']();return console[_0x485147(0x685)]('instancias:\x20',_0x380248[_0x485147(0x6f5)]),_0x380248[_0x485147(0x6f5)];}function a0_0x3a3c(_0x315918,_0x15d2d2){const _0x422392=a0_0x4223();return a0_0x3a3c=function(_0x3a3cfa,_0x24dce2){_0x3a3cfa=_0x3a3cfa-0x152;let _0x41c966=_0x422392[_0x3a3cfa];return _0x41c966;},a0_0x3a3c(_0x315918,_0x15d2d2);}function Ho(_0x10269a){const _0x35be4e=a0_0x34238b;let _0x99a947=_0x10269a['get'](_0x35be4e(0x269))['URL'],_0x42b56b=_0x10269a[_0x35be4e(0x480)](_0x35be4e(0x5fb)),_0x4de3ad;if(_0x99a947){let _0x3635a1=_0x99a947[_0x35be4e(0x441)](/\/\/(.*?)\./);_0x3635a1&&_0x3635a1[0x1]&&(_0x4de3ad=_0x3635a1[0x1]);}if(!_0x4de3ad&&_0x42b56b&&_0x42b56b[_0x35be4e(0x353)]){let _0xd66ebc=_0x42b56b[_0x35be4e(0x353)][_0x35be4e(0x447)]('/'),_0x46c845=_0xd66ebc[_0xd66ebc[_0x35be4e(0x6f5)]-0x2];if(_0x46c845){let _0x2ee663=_0x46c845['split']('.');_0x2ee663[_0x35be4e(0x6f5)]>0x2&&(_0x4de3ad=_0x2ee663[0x0]);}}return _0x4de3ad;}var Ds=Ho(S);async function Ko(){const _0x175c53=a0_0x34238b;let _0x5babb2=S[_0x175c53(0x480)](_0x175c53(0x289)),_0x2860b8=S[_0x175c53(0x480)](_0x175c53(0x1ca))[_0x175c53(0x6f0)][_0x175c53(0x192)],_0x3d6df8=S[_0x175c53(0x480)]('SSL_CONF'),_0x11dc95=await xi(),_0x1d47e9=S[_0x175c53(0x480)](_0x175c53(0x269))[_0x175c53(0x82f)],_0x21d03b=S['get']('SERVER')[_0x175c53(0x73c)];try{let _0x5d6114={'ip':_0x11dc95||null,'redis_enable':_0x5babb2?.[_0x175c53(0x22a)]||null,'apikey':_0x2860b8||null,'ssl':_0x3d6df8?.[_0x175c53(0x7b5)]||null,'lastupdate':Di||null,'port':_0x1d47e9||null,'gitInstallError':ke?.[_0x175c53(0x707)]||null,'url':_0x21d03b||null};if(console[_0x175c53(0x685)](_0x175c53(0x26e),_0x5d6114['ip']),_0x5babb2&&_0x5babb2[_0x175c53(0x22a)]){let _0xc6ffde=await zo();_0x5d6114[_0x175c53(0x710)]=_0xc6ffde||null;}for(let _0x23bbb0 in _0x5d6114)_0x5d6114['hasOwnProperty'](_0x23bbb0)&&_0x23bbb0!=='ip'&&(_0x5d6114[_0x23bbb0]=JSON[_0x175c53(0x4eb)](_0x5d6114[_0x23bbb0]));return(await Pe[_0x175c53(0x3fd)][_0x175c53(0x7c4)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x5d6114))[_0x175c53(0x323)];}catch(_0xff333b){return console[_0x175c53(0x62f)](_0xff333b),!0x1;}}var ks=!0x1,Di=0x246,Qo=0x3,$i=0x1b7740;async function Ls(){const _0x509fad=a0_0x34238b;if(!await xi())return console[_0x509fad(0x62f)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),_0x509fad(0x7fe);let _0x5ba590=await Ko();if(_0x5ba590){if(_0x5ba590[_0x509fad(0x1b2)][_0x509fad(0x3eb)]===!0x0){let _0x1c3171=S[_0x509fad(0x480)](_0x509fad(0x5fb)),_0x3ae7fe=S['get']('SERVER')[_0x509fad(0x73c)];_0x1c3171&&_0x1c3171?.['PRIVKEY']?.['includes'](_0x509fad(0x684))&&_0x5ba590[_0x509fad(0x1b2)]['subdomain']&&!_0x3ae7fe&&(await Zo(_0x5ba590['response']['subdomain'],Xo),await er(_0x509fad(0x3ad),_0x5ba590[_0x509fad(0x1b2)]['subdomain']),console[_0x509fad(0x685)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>sr(),0x2710)),ke===null&&_0x5ba590[_0x509fad(0x1b2)][_0x509fad(0x59b)]-Di>0x0&&await Yo(),ks||(ks=!0x0,qo());let _0xe83e2a=0x24*0x3c*0x3c,_0x357c4e=_0x5ba590[_0x509fad(0x1b2)][_0x509fad(0x417)]>_0xe83e2a?_0xe83e2a:_0x5ba590[_0x509fad(0x1b2)][_0x509fad(0x417)],_0x34f535=Number(_0x357c4e);if(isNaN(_0x34f535)){console['error']('interval\x20não\x20é\x20um\x20número');return;}let _0x35da7b=Math['floor'](_0x34f535/0xe10),_0x4bc3f8=Math[_0x509fad(0x604)](_0x34f535%0xe10/0x3c),_0x195425=new Date(Date[_0x509fad(0x433)]()+_0x34f535*0x3e8);setTimeout(Ls,_0x34f535*0x3e8);let _0x5e9fe2=_0x2c2bb3=>_0x2c2bb3[_0x509fad(0x513)]()[_0x509fad(0x35e)](0x2,'0'),_0x579497=_0x509fad(0x317)+_0x5e9fe2(_0x35da7b)+_0x509fad(0x5c1)+_0x5e9fe2(_0x4bc3f8)+'\x20minutos.\x20Será\x20às\x20'+_0x5e9fe2(_0x195425[_0x509fad(0x1bc)]())+':'+_0x5e9fe2(_0x195425['getMinutes']())+'.';console['log'](_0x579497);}else return console['log'](_0x509fad(0x5cb)),ks&&(console[_0x509fad(0x685)](_0x509fad(0x4a2)),process[_0x509fad(0x800)]()),_0x509fad(0x68b);}else{if(Ri++,Ri<Qo)console[_0x509fad(0x685)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+$i/0xea60+_0x509fad(0x525)),setTimeout(Ls,$i);else return console['error'](_0x509fad(0x769)),_0x509fad(0x7dc);}}async function Yo(){const _0x47e1ef=a0_0x34238b;console[_0x47e1ef(0x685)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x53042b=(0x0,Le['spawn'])(_0x47e1ef(0x4a0),{'shell':!0x0});_0x53042b[_0x47e1ef(0x6ce)]['on']('data',_0x13afaa=>{const _0x411af7=_0x47e1ef;console[_0x411af7(0x685)](_0x411af7(0x815)+_0x13afaa);}),_0x53042b[_0x47e1ef(0x157)]['on']('data',_0x477663=>{const _0x4829d0=_0x47e1ef;console[_0x4829d0(0x62f)](_0x4829d0(0x655)+_0x477663);}),_0x53042b['on'](_0x47e1ef(0x800),_0x2f2608=>{const _0x5223e5=_0x47e1ef;_0x2f2608!==0x0?console['error']('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x2f2608):console[_0x5223e5(0x685)](_0x5223e5(0x606)),console[_0x5223e5(0x685)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x5223e5(0x800)](),0x2710);});}var Xo=je[a0_0x34238b(0x3fd)]['join'](__dirname,'env.yml');async function Zo(_0x335f05,_0xca73d8){const _0x22a6bc=a0_0x34238b;let _0x16e42c=tr();_0x335f05=_0x335f05[_0x22a6bc(0x5c6)](_0x22a6bc(0x543),'');try{let _0x59a880=pe[_0x22a6bc(0x3fd)]['readFileSync'](_0xca73d8,_0x22a6bc(0x3ac));_0x59a880=_0x59a880['replace'](/<apikey>/,_0x16e42c),_0x59a880=_0x59a880[_0x22a6bc(0x5c6)](/<subdomain>/g,_0x335f05),pe['default'][_0x22a6bc(0x3c6)](_0xca73d8,_0x59a880,'utf8'),console[_0x22a6bc(0x685)](_0x22a6bc(0x560));}catch(_0x59f0f2){console[_0x22a6bc(0x62f)](_0x22a6bc(0x2fb),_0x59f0f2);}}function er(_0x548e97,_0x59e182){return new Promise((_0x5e9915,_0x105540)=>{const _0x39da55=a0_0x3a3c;let _0x14e2dd=(0x0,Le['spawn'])('certbot',['certonly','--standalone','-m',_0x548e97,'--agree-tos','-d',_0x59e182]);_0x14e2dd[_0x39da55(0x6ce)]['on'](_0x39da55(0x323),_0xe4c4dd=>{const _0x29f357=_0x39da55;console[_0x29f357(0x685)](_0x29f357(0x532)+_0xe4c4dd['toString']());}),_0x14e2dd[_0x39da55(0x157)]['on'](_0x39da55(0x323),_0x3b228b=>{const _0x2761aa=_0x39da55;console[_0x2761aa(0x62f)](_0x2761aa(0x75a)+_0x3b228b[_0x2761aa(0x513)]());}),_0x14e2dd['on'](_0x39da55(0x5dc),_0x2109b0=>{const _0xcdcc7f=_0x39da55;_0x2109b0!==0x0?(console[_0xcdcc7f(0x62f)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x2109b0),_0x105540(_0xcdcc7f(0x5a5)+_0x2109b0)):(console[_0xcdcc7f(0x685)](_0xcdcc7f(0x5fa)),_0x5e9915());});});}function tr(_0x1c453e=0x32){const _0x5502fa=a0_0x34238b;let _0x1da983=_0x5502fa(0x45f),_0x5333b1='';for(let _0x238bb3=0x0;_0x238bb3<_0x1c453e;_0x238bb3++)_0x5333b1+=_0x1da983[_0x5502fa(0x6d6)](Math['floor'](Math['random']()*_0x1da983[_0x5502fa(0x6f5)]));return _0x5333b1;}function sr(){const _0x1e29e1=a0_0x34238b;(0x0,Le[_0x1e29e1(0x438)])('shutdown\x20-r\x20now',(_0x57ed10,_0x4baa1e,_0x2919c4)=>{const _0x3029d7=_0x1e29e1;if(_0x57ed10){console[_0x3029d7(0x62f)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x57ed10);return;}if(_0x2919c4){console[_0x3029d7(0x62f)]('Erro\x20de\x20reinicialização:\x20'+_0x2919c4);return;}console['log'](_0x3029d7(0x309)+_0x4baa1e);});}0x0&&(module[a0_0x34238b(0x357)]={'subdomain':subdomain});