const a0_0x36f96e=a0_0x5519;(function(_0x2b5a91,_0x4bd1d3){const _0x575fea=a0_0x5519,_0x59f3e0=_0x2b5a91();while(!![]){try{const _0x1ecaa6=-parseInt(_0x575fea(0x674))/0x1*(parseInt(_0x575fea(0x40d))/0x2)+-parseInt(_0x575fea(0x58f))/0x3*(parseInt(_0x575fea(0x3e9))/0x4)+-parseInt(_0x575fea(0x624))/0x5+-parseInt(_0x575fea(0x40b))/0x6+-parseInt(_0x575fea(0x21b))/0x7*(-parseInt(_0x575fea(0x77c))/0x8)+-parseInt(_0x575fea(0x7c8))/0x9*(parseInt(_0x575fea(0x7bb))/0xa)+parseInt(_0x575fea(0x53c))/0xb;if(_0x1ecaa6===_0x4bd1d3)break;else _0x59f3e0['push'](_0x59f3e0['shift']());}catch(_0x139589){_0x59f3e0['push'](_0x59f3e0['shift']());}}}(a0_0x4df3,0x2942d));var Lo=Object[a0_0x36f96e(0x250)],Je=Object[a0_0x36f96e(0x3de)],Fo=Object[a0_0x36f96e(0x219)],Jo=Object['getOwnPropertyNames'],Uo=Object[a0_0x36f96e(0x74d)],qo=Object[a0_0x36f96e(0x72e)][a0_0x36f96e(0x60f)],Vo=(_0x188577,_0x225af2)=>{for(var _0x21d7f7 in _0x225af2)Je(_0x188577,_0x21d7f7,{'get':_0x225af2[_0x21d7f7],'enumerable':!0x0});},Js=(_0x39d492,_0x24aca0,_0x3f6855,_0x3b22e6)=>{const _0x41c8c4=a0_0x36f96e;if(_0x24aca0&&typeof _0x24aca0==_0x41c8c4(0x3b0)||typeof _0x24aca0==_0x41c8c4(0x22c)){for(let _0x4d158b of Jo(_0x24aca0))!qo['call'](_0x39d492,_0x4d158b)&&_0x4d158b!==_0x3f6855&&Je(_0x39d492,_0x4d158b,{'get':()=>_0x24aca0[_0x4d158b],'enumerable':!(_0x3b22e6=Fo(_0x24aca0,_0x4d158b))||_0x3b22e6[_0x41c8c4(0x7f7)]});}return _0x39d492;},T=(_0x11ceb6,_0x1ddd26,_0x1da5c6)=>(_0x1da5c6=_0x11ceb6!=null?Lo(Uo(_0x11ceb6)):{},Js(_0x1ddd26||!_0x11ceb6||!_0x11ceb6[a0_0x36f96e(0x530)]?Je(_0x1da5c6,a0_0x36f96e(0x3dd),{'value':_0x11ceb6,'enumerable':!0x0}):_0x1da5c6,_0x11ceb6)),Go=_0x78ccd1=>Js(Je({},a0_0x36f96e(0x530),{'value':!0x0}),_0x78ccd1),ri={};Vo(ri,{'subdomain':()=>Ds}),module['exports']=Go(ri);var Io=T(require(a0_0x36f96e(0x67d))),qs=require('fs'),Vs=require('js-yaml'),Gs=require(a0_0x36f96e(0x804)),Ue=require(a0_0x36f96e(0x804)),ne=process['cwd'](),fe=(0x0,Ue['join'])(ne,a0_0x36f96e(0x36e)),Us=(0x0,Ue['join'])(ne,a0_0x36f96e(0x350)),Yi=(0x0,Ue[a0_0x36f96e(0x41f)])(ne,a0_0x36f96e(0x1d7),a0_0x36f96e(0x1df)),ns=class{constructor(){const _0xbe3f0c=a0_0x36f96e;this[_0xbe3f0c(0x7bd)]();}[a0_0x36f96e(0x5aa)](_0x5dd85c){const _0x3f2b56=a0_0x36f96e;return this[_0x3f2b56(0x814)][_0x5dd85c];}[a0_0x36f96e(0x7bd)](){const _0x20387f=a0_0x36f96e;this[_0x20387f(0x814)]=process[_0x20387f(0x814)]?.[_0x20387f(0x6da)]!==_0x20387f(0x778)?this[_0x20387f(0x6dc)]():this['envProcess'](),process[_0x20387f(0x814)]?.['DOCKER_ENV']===_0x20387f(0x778)&&(this[_0x20387f(0x814)][_0x20387f(0x52b)][_0x20387f(0x774)]=_0x20387f(0x327),this[_0x20387f(0x814)][_0x20387f(0x52b)]['PORT']=Number[_0x20387f(0x4aa)](process[_0x20387f(0x814)]?.[_0x20387f(0x55a)]??'8080'));}[a0_0x36f96e(0x6dc)](){const _0x1d85f2=a0_0x36f96e;return(0x0,Vs['load'])((0x0,qs[_0x1d85f2(0x42a)])((0x0,Gs[_0x1d85f2(0x41f)])(Us,_0x1d85f2(0x3c5)),{'encoding':_0x1d85f2(0x66b)}));}[a0_0x36f96e(0x470)](){const _0x1411b8=a0_0x36f96e;return{'SERVER':{'TYPE':process[_0x1411b8(0x814)]['SERVER_TYPE'],'PORT':Number[_0x1411b8(0x4aa)](process['env'][_0x1411b8(0x55a)]),'URL':process[_0x1411b8(0x814)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x1411b8(0x814)][_0x1411b8(0x57c)][_0x1411b8(0x71a)](','),'METHODS':process['env']['CORS_METHODS'][_0x1411b8(0x71a)](','),'CREDENTIALS':process['env']?.['CORS_CREDENTIALS']===_0x1411b8(0x778)},'SSL_CONF':{'PRIVKEY':process[_0x1411b8(0x814)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process['env']?.[_0x1411b8(0x375)]},'STORE':{'CLEANING_INTERVAL':Number[_0x1411b8(0x348)](process[_0x1411b8(0x814)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x1411b8(0x4aa)](process['env'][_0x1411b8(0x181)]):void 0x0,'MESSAGES':process['env']?.[_0x1411b8(0x31d)]===_0x1411b8(0x778),'CONTACTS':process['env']?.[_0x1411b8(0x45e)]===_0x1411b8(0x778),'CHATS':process[_0x1411b8(0x814)]?.[_0x1411b8(0x4c8)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x1411b8(0x814)]?.[_0x1411b8(0x536)],'PORT':Number[_0x1411b8(0x4aa)](process[_0x1411b8(0x814)]?.[_0x1411b8(0x536)]),'USER':process['env'][_0x1411b8(0x427)],'PASSWORD':process[_0x1411b8(0x814)][_0x1411b8(0x65c)],'URI':process[_0x1411b8(0x814)][_0x1411b8(0x31c)],'DB_PREFIX_NAME':process[_0x1411b8(0x814)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x1411b8(0x814)]?.[_0x1411b8(0x1e3)]===_0x1411b8(0x778)},'REDIS':{'ENABLED':process[_0x1411b8(0x814)]?.[_0x1411b8(0x100)]===_0x1411b8(0x778),'URI':process['env'][_0x1411b8(0x4a9)]||_0x1411b8(0x182),'PREFIX_KEY':process[_0x1411b8(0x814)][_0x1411b8(0x15a)]||_0x1411b8(0x1a9)},'LOG':{'LEVEL':process['env']?.[_0x1411b8(0x116)]['split'](','),'COLOR':process[_0x1411b8(0x814)]?.['LOG_COLOR']===_0x1411b8(0x778)},'PROXY':Number[_0x1411b8(0x4aa)](process[_0x1411b8(0x814)]?.[_0x1411b8(0x771)]),'AUTHENTICATION':{'TYPE':process['env'][_0x1411b8(0x22b)],'API_KEY':{'KEY':process[_0x1411b8(0x814)][_0x1411b8(0x3ab)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x1411b8(0x814)]?.[_0x1411b8(0x218)])?Number[_0x1411b8(0x4aa)](process['env'][_0x1411b8(0x218)]):0xe10,'SECRET':process['env'][_0x1411b8(0x643)]}}};}},b=new ns(),xo=T(require(a0_0x36f96e(0x73f))),me=T(require(a0_0x36f96e(0x14f))),Ls=require(a0_0x36f96e(0x804)),cs=T(require('dayjs')),ls=(_0x28b029=>(_0x28b029['LOG']='\x1b[32m',_0x28b029[a0_0x36f96e(0x455)]=a0_0x36f96e(0x4bf),_0x28b029[a0_0x36f96e(0x166)]='\x1b[33m',_0x28b029[a0_0x36f96e(0x2c4)]='\x1b[31m',_0x28b029['DEBUG']=a0_0x36f96e(0x466),_0x28b029[a0_0x36f96e(0x4db)]=a0_0x36f96e(0x329),_0x28b029[a0_0x36f96e(0x409)]=a0_0x36f96e(0x5a9),_0x28b029))(ls||{}),Bs=(_0x5b04a0=>(_0x5b04a0['LOG']='\x1b[32m%s\x1b[0m',_0x5b04a0[a0_0x36f96e(0x409)]=a0_0x36f96e(0x3f1),_0x5b04a0[a0_0x36f96e(0x455)]='\x1b[34m%s\x1b[0m',_0x5b04a0['WARN']=a0_0x36f96e(0x309),_0x5b04a0[a0_0x36f96e(0x2c4)]=a0_0x36f96e(0x6e0),_0x5b04a0['DEBUG']=a0_0x36f96e(0x656),_0x5b04a0[a0_0x36f96e(0x4db)]=a0_0x36f96e(0x756),_0x5b04a0))(Bs||{}),Ws=(_0x5883a2=>(_0x5883a2[a0_0x36f96e(0x172)]=a0_0x36f96e(0x172),_0x5883a2[a0_0x36f96e(0x166)]=a0_0x36f96e(0x166),_0x5883a2[a0_0x36f96e(0x455)]='INFO',_0x5883a2['DARK']=a0_0x36f96e(0x409),_0x5883a2[a0_0x36f96e(0x2c4)]=a0_0x36f96e(0x2c4),_0x5883a2[a0_0x36f96e(0x451)]='DEBUG',_0x5883a2[a0_0x36f96e(0x4db)]=a0_0x36f96e(0x4db),_0x5883a2))(Ws||{}),zs=(_0x593a34=>(_0x593a34['LOG']=a0_0x36f96e(0x14b),_0x593a34['INFO']=a0_0x36f96e(0x5ec),_0x593a34['WARN']='\x1b[43m',_0x593a34['DARK']=a0_0x36f96e(0x50d),_0x593a34[a0_0x36f96e(0x2c4)]=a0_0x36f96e(0x2a0),_0x593a34[a0_0x36f96e(0x451)]=a0_0x36f96e(0x5b5),_0x593a34[a0_0x36f96e(0x4db)]=a0_0x36f96e(0x592),_0x593a34))(zs||{}),$=class{constructor(_0x1e3d53=a0_0x36f96e(0x36c)){const _0x1e9830=a0_0x36f96e;this[_0x1e9830(0x439)]=_0x1e3d53,this[_0x1e9830(0x33c)]=b;}[a0_0x36f96e(0x47c)](_0x3fbada){const _0x396ce7=a0_0x36f96e;this[_0x396ce7(0x439)]=_0x3fbada;}[a0_0x36f96e(0x789)](_0x259f33,_0x3b82b0){const _0x3bc485=a0_0x36f96e;let _0x18fbf4=[];this['configService']['get'](_0x3bc485(0x172))[_0x3bc485(0x7c4)]['forEach'](_0x19e28a=>_0x18fbf4[_0x3bc485(0x334)](Ws[_0x19e28a]));let _0x4eb5ba=typeof _0x259f33;_0x18fbf4[_0x3bc485(0x4ba)](_0x3b82b0)&&(b[_0x3bc485(0x5aa)](_0x3bc485(0x172))[_0x3bc485(0x335)]?(console[_0x3bc485(0x3bb)](_0x3bc485(0x1b0)+Bs[_0x3b82b0],_0x3bc485(0x2b6),(0x0,cs[_0x3bc485(0x3dd)])()[_0x3bc485(0x694)](_0x3bc485(0x4f0)),'\x1b[0m',ls[_0x3b82b0]+zs[_0x3b82b0]+_0x3bc485(0x1b0),_0x3b82b0+_0x3bc485(0x398),_0x3bc485(0x437),this[_0x3bc485(0x439)]+_0x3bc485(0x252),ls[_0x3b82b0],_0x4eb5ba!==_0x3bc485(0x3b0)?_0x259f33:'','\x1b[0m'),_0x4eb5ba==='object'&&console[_0x3bc485(0x3bb)](_0x259f33,'\x0a')):console[_0x3bc485(0x3bb)]((0x0,cs['default'])()[_0x3bc485(0x694)]('HH:mm:ss'),_0x3b82b0+'\x20',''+this['context'],_0x259f33));}['log'](_0x374447){const _0x27cfe0=a0_0x36f96e;this['console'](_0x374447,_0x27cfe0(0x172));}[a0_0x36f96e(0x299)](_0x33b5cd){const _0x5ad11c=a0_0x36f96e;this[_0x5ad11c(0x789)](_0x33b5cd,_0x5ad11c(0x455));}['warn'](_0x48b8de){const _0x1eb193=a0_0x36f96e;this[_0x1eb193(0x789)](_0x48b8de,'WARN');}[a0_0x36f96e(0x370)](_0x142e28){const _0x3ae4bf=a0_0x36f96e;this['console'](_0x142e28,_0x3ae4bf(0x2c4));}[a0_0x36f96e(0x3a8)](_0x10fde5){const _0x5277f3=a0_0x36f96e;this[_0x5277f3(0x789)](_0x10fde5,_0x5277f3(0x4db));}[a0_0x36f96e(0x6c3)](_0xa0534a){const _0x25c350=a0_0x36f96e;this[_0x25c350(0x789)](_0xa0534a,'DEBUG');}[a0_0x36f96e(0x261)](_0x1d436b){const _0x43b42c=a0_0x36f96e;this[_0x43b42c(0x789)](_0x1d436b,_0x43b42c(0x409));}};function Hs(){const _0x3aa641=a0_0x36f96e;process['on'](_0x3aa641(0x2b7),(_0x388a26,_0x72d045)=>{const _0x1dc770=_0x3aa641;new $('uncaughtException')[_0x1dc770(0x370)]({'origin':_0x72d045,'stderr':process[_0x1dc770(0x700)]['fd'],'error':_0x388a26});}),process['on']('unhandledRejection',(_0x1f8d90,_0x3fd6a6)=>{const _0x3b7a7c=_0x3aa641;new $(_0x3b7a7c(0x4d5))[_0x3b7a7c(0x370)]({'origin':_0x3fd6a6,'stderr':process[_0x3b7a7c(0x700)]['fd'],'error':_0x1f8d90});});}var Ks=T(require(a0_0x36f96e(0x225))),us=new Ks[(a0_0x36f96e(0x3dd))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ye=require(a0_0x36f96e(0x64d)),ve=T(require(a0_0x36f96e(0x64d))),qe=new $(a0_0x36f96e(0x80c)),L=b[a0_0x36f96e(0x5aa)](a0_0x36f96e(0x693)),A=L[a0_0x36f96e(0x5bf)]?L['CONNECTION']['URI']?ve[a0_0x36f96e(0x3dd)][a0_0x36f96e(0x564)](L[a0_0x36f96e(0x5f8)][a0_0x36f96e(0x6ef)],{'dbName':L['CONNECTION'][a0_0x36f96e(0x7e4)]+a0_0x36f96e(0x3e5)}):ve[a0_0x36f96e(0x3dd)][a0_0x36f96e(0x564)](a0_0x36f96e(0x353)+L[a0_0x36f96e(0x5f8)][a0_0x36f96e(0x344)]+':'+L['CONNECTION']['PORT']+a0_0x36f96e(0x4cc),{'user':L[a0_0x36f96e(0x5f8)][a0_0x36f96e(0x476)],'pass':L[a0_0x36f96e(0x5f8)]['PASSWORD'],'dbName':L[a0_0x36f96e(0x5f8)][a0_0x36f96e(0x7e4)]+a0_0x36f96e(0x3e5)}):null;L['ENABLED']&&qe[a0_0x36f96e(0x299)](a0_0x36f96e(0x6e3)+A[a0_0x36f96e(0x7dd)]);var we=L['ENABLED']?L[a0_0x36f96e(0x5f8)]['URI']?ve[a0_0x36f96e(0x3dd)][a0_0x36f96e(0x564)](L[a0_0x36f96e(0x5f8)][a0_0x36f96e(0x6ef)],{'dbName':a0_0x36f96e(0x651)}):ve[a0_0x36f96e(0x3dd)][a0_0x36f96e(0x564)]('mongodb://'+L[a0_0x36f96e(0x5f8)][a0_0x36f96e(0x344)]+':'+L[a0_0x36f96e(0x5f8)][a0_0x36f96e(0x2c6)]+a0_0x36f96e(0x4cc),{'user':L[a0_0x36f96e(0x5f8)][a0_0x36f96e(0x476)],'pass':L[a0_0x36f96e(0x5f8)][a0_0x36f96e(0x1e9)],'dbName':a0_0x36f96e(0x6a7)}):null;we&&qe[a0_0x36f96e(0x299)](a0_0x36f96e(0x6e3)+we[a0_0x36f96e(0x7dd)]),process['on'](a0_0x36f96e(0x139),()=>{A&&A['close'](()=>{const _0x45d9a7=a0_0x5519;qe[_0x45d9a7(0x299)](_0x45d9a7(0x72d));}),we&&we['close'](()=>{qe['info']('CacheContacts\x20database\x20connection\x20closed.');});});var Bo=new ye[(a0_0x36f96e(0x2d1))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new ye[(a0_0x36f96e(0x2d1))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),zo=new ye['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Ho=new ye['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Bo],'default':[]}},{'_id':!0x1}),Ko=new ye[(a0_0x36f96e(0x2d1))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ho,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Wo},'groupdata':{'type':zo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Qs=_0x18c1f7=>{const _0x46f56b=a0_0x36f96e;let _0x1e937c='z_'+_0x18c1f7+'_Chats';return A?.['model'](_0x46f56b(0x38b),Ko,_0x1e937c);},Ys=require(a0_0x36f96e(0x64d)),Qo=new Ys[(a0_0x36f96e(0x2d1))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Xs=_0xcae19e=>{const _0x199232=a0_0x36f96e;let _0x1d39c7='z_'+_0xcae19e+_0x199232(0x1b8);return A?.['model'](_0x199232(0x2bd),Qo,_0x1d39c7);},Zs=require(a0_0x36f96e(0x64d)),ds=class{},Yo=new Zs[(a0_0x36f96e(0x2d1))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=we?.[a0_0x36f96e(0x5af)](ds[a0_0x36f96e(0x79c)],Yo,a0_0x36f96e(0x5bb)),ta=require(a0_0x36f96e(0x64d)),Xo=new ta['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),sa=_0x306b77=>{const _0x5d2a6f=a0_0x36f96e;let _0x82778a='z_'+_0x306b77+'_Messages';return A?.['model'](_0x5d2a6f(0x7a1),Xo,_0x82778a);},aa=require(a0_0x36f96e(0x64d)),ps=class{},Zo=new aa['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),oa=A?.[a0_0x36f96e(0x5af)](ps['name'],Zo,a0_0x36f96e(0x20a)),ra=require('mongoose'),hs=class{},ia=new ra[(a0_0x36f96e(0x2d1))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ia[a0_0x36f96e(0x175)]('save',function(_0x109667){const _0x2a88ea=a0_0x36f96e;delete this[_0x2a88ea(0x4b8)],delete this[_0x2a88ea(0x4f9)],delete this[_0x2a88ea(0x2ba)],delete this['flowStopConversation'],delete this[_0x2a88ea(0x571)],_0x109667();});function a0_0x5519(_0x186db4,_0x2fb3c2){const _0x4df321=a0_0x4df3();return a0_0x5519=function(_0x551912,_0x2d1003){_0x551912=_0x551912-0xff;let _0x56ea31=_0x4df321[_0x551912];return _0x56ea31;},a0_0x5519(_0x186db4,_0x2fb3c2);}var na=A?.['model'](hs[a0_0x36f96e(0x79c)],ia,'webhook'),_=require(a0_0x36f96e(0x64d)),gs=require(a0_0x36f96e(0x480)),Ve=class{},ca=new _[(a0_0x36f96e(0x2d1))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ms=new _[(a0_0x36f96e(0x2d1))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),er=new _[(a0_0x36f96e(0x2d1))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x36f96e(0x619)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x36f96e(0x4ad)},'pollErrorMessage':{'type':String,'default':a0_0x36f96e(0x770)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new _[(a0_0x36f96e(0x2d1))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),tr=new _[(a0_0x36f96e(0x2d1))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),sr=new _[(a0_0x36f96e(0x2d1))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ws=new _['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ar=new _[(a0_0x36f96e(0x2d1))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ua=new _['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':er},'apirequest':tr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ar,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),da=new _[(a0_0x36f96e(0x2d1))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ys=new _[(a0_0x36f96e(0x2d1))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,gs['v4'])()},'startID':{'type':String,'default':()=>(0x0,gs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':'false'},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x258b7f=a0_0x36f96e;return'!cmd_'+Math['random']()[_0x258b7f(0x2ee)](0x24)[_0x258b7f(0x145)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ws],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ms],'default':[]}});ys[a0_0x36f96e(0x175)](a0_0x36f96e(0x72c),function(_0xeb9cdd){const _0x4ca4c5=a0_0x36f96e;let _0x25443b=new Set(),_0x113764=new Set(this[_0x4ca4c5(0x800)]?.[_0x4ca4c5(0x25f)](_0x23bab8=>_0x23bab8[_0x4ca4c5(0x79c)])),_0x4c39e1=JSON[_0x4ca4c5(0x751)](this),_0x1f4dbb=/{{(?!_)([^}]*)}}/g,_0x5b4854;for(;(_0x5b4854=_0x1f4dbb[_0x4ca4c5(0x11b)](_0x4c39e1))!==null;)_0x113764['has'](_0x5b4854[0x1])||_0x25443b[_0x4ca4c5(0x35f)](_0x5b4854[0x1]);_0x25443b[_0x4ca4c5(0x271)]>0x0?(console[_0x4ca4c5(0x7f4)](_0x4ca4c5(0x73b),Array['from'](_0x25443b)),this[_0x4ca4c5(0x196)]=Array[_0x4ca4c5(0x6b9)](_0x25443b)):this['variablesNotFound']=[],_0xeb9cdd();}),ys[a0_0x36f96e(0x175)](a0_0x36f96e(0x1a4),function(_0xc9cc4a){const _0x2913aa=a0_0x36f96e;let _0x3a650e=this[_0x2913aa(0x10b)]();if(_0x3a650e&&typeof _0x3a650e==_0x2913aa(0x3b0)&&'$set'in _0x3a650e){let _0xeca852=_0x3a650e[_0x2913aa(0x699)];if(_0xeca852){let _0x24c3c5=new Set(),_0x316b7b=new Set(_0xeca852[_0x2913aa(0x800)]?.[_0x2913aa(0x25f)](_0x1f1982=>_0x1f1982['name'])),_0x314a7f=JSON['stringify'](_0xeca852),_0x1008f0=/{{(?!_)([^}]*)}}/g,_0x216648;for(;(_0x216648=_0x1008f0[_0x2913aa(0x11b)](_0x314a7f))!==null;)_0x316b7b[_0x2913aa(0x122)](_0x216648[0x1])||_0x24c3c5[_0x2913aa(0x35f)](_0x216648[0x1]);_0x24c3c5[_0x2913aa(0x271)]>0x0?(console[_0x2913aa(0x7f4)](_0x2913aa(0x73b),Array['from'](_0x24c3c5)),_0xeca852[_0x2913aa(0x196)]=Array[_0x2913aa(0x6b9)](_0x24c3c5)):_0xeca852[_0x2913aa(0x196)]=[],this[_0x2913aa(0x21a)]({'$set':_0xeca852});}}_0xc9cc4a();});var pa=_0x2e50d5=>{const _0x22902a=a0_0x36f96e;let _0x3ee6e1='z_'+_0x2e50d5+_0x22902a(0x736);return A?.[_0x22902a(0x5af)](_0x22902a(0x20e),ys,_0x3ee6e1);},or=new _[(a0_0x36f96e(0x2d1))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ws],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[sr]},{'_id':!0x1}),rr=new _[(a0_0x36f96e(0x2d1))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ws],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ms],'default':[]},'chatLog':or,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x36f96e(0x4ad)},'waitingMenu_replyOptions':{'type':[ms],'default':[]}}),ha=_0x14130a=>{const _0x21be6d=a0_0x36f96e;let _0x17ca92='z_'+_0x14130a+_0x21be6d(0x365);return A?.['model'](_0x21be6d(0x66f),rr,_0x17ca92);},ir=new _['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),nr=new _[(a0_0x36f96e(0x2d1))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),cr=new _[(a0_0x36f96e(0x2d1))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x36f96e(0x512)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':nr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ir],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ga=_0x27648d=>{let _0x4ba89c='z_'+_0x27648d+'_ScheduleMessages';return A?.['model']('ScheduleMessageModel',cr,_0x4ba89c);},fs=class{},lr=new _['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),ur=new _[(a0_0x36f96e(0x2d1))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),dr=new _[(a0_0x36f96e(0x2d1))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),pr=new _['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),hr=new _[(a0_0x36f96e(0x2d1))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[pr]},'customFields':{'type':[ur]},'flowConfig':{'type':dr,'default':{}},'autoCompleteMessages':{'type':[lr],'default':[]}}),Ne=A?.[a0_0x36f96e(0x5af)](fs['name'],hr,a0_0x36f96e(0x169)),ma=require(a0_0x36f96e(0x64d)),gr=new ma[(a0_0x36f96e(0x2d1))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),fa=_0x528c1a=>{let _0x4c1783='z_'+_0x528c1a+'_Labels';return A?.['model']('LabelModel',gr,_0x4c1783);},D=class{constructor(_0x154638){const _0x1f0eaa=a0_0x36f96e;this['dbSettings']=_0x154638['get'](_0x1f0eaa(0x693));}};function I(_0x19de82){const _0x2b79c2=a0_0x36f96e;let _0x4d5084={};for(let [_0x205a90,_0x7469b1]of Object[_0x2b79c2(0x1ee)](_0x19de82))if(typeof _0x7469b1==_0x2b79c2(0x3b0)&&!Array[_0x2b79c2(0x358)](_0x7469b1)){for(let [_0x2923de,_0x3c1cce]of Object[_0x2b79c2(0x1ee)](_0x7469b1))_0x4d5084[_0x205a90+'.'+_0x2923de]=_0x3c1cce;}else _0x4d5084[_0x205a90]=_0x7469b1;return _0x4d5084;}var Ge=class{constructor(_0xfe27cf,_0x2ee7fb,_0x2de1fb,_0x460db6,_0x43ad9a,_0x294bf4,_0x3298a2,_0x16cf0c,_0x3a9d9c,_0x77fbd6,_0x1cee33,_0x35c82e){const _0x559a20=a0_0x36f96e;this[_0x559a20(0x641)]=_0xfe27cf,this[_0x559a20(0x550)]=_0x2ee7fb,this[_0x559a20(0x4a0)]=_0x2de1fb,this[_0x559a20(0x171)]=_0x460db6,this[_0x559a20(0x556)]=_0x43ad9a,this[_0x559a20(0x1df)]=_0x294bf4,this[_0x559a20(0x6fb)]=_0x3298a2,this['flowConversation']=_0x16cf0c,this[_0x559a20(0x40e)]=_0x3a9d9c,this['scheduleMessage']=_0x77fbd6,this[_0x559a20(0x6cf)]=_0x1cee33,this[_0x559a20(0x63f)]=_0x35c82e;}get['dbServer'](){const _0x3e24fb=a0_0x36f96e;return this[_0x3e24fb(0x63f)];}},Be=class{},We=class extends D{['getMessageModelForOwner'](_0xd79596){return sa(_0xd79596);}async['insert'](_0x392381,_0x31b4b0){const _0x21eb01=a0_0x36f96e;if(_0x392381[_0x21eb01(0x5ed)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x21eb01(0x37a)](_0x31b4b0)[_0x21eb01(0x486)]([..._0x392381]))[_0x21eb01(0x5ed)]};}catch(_0x49fd82){return _0x49fd82;}}async[a0_0x36f96e(0x6a2)](_0x195bed,_0x4f5b61){const _0x42e49c=a0_0x36f96e;try{let _0x13dded=this[_0x42e49c(0x37a)](_0x4f5b61),_0x3b28c1=I(_0x195bed[_0x42e49c(0x54f)]);return await _0x13dded[_0x42e49c(0x6a2)](_0x3b28c1)[_0x42e49c(0x77d)]({'messageTimestamp':-0x1})[_0x42e49c(0x5c4)](_0x195bed?.[_0x42e49c(0x5c4)]??0x0)[_0x42e49c(0x5bc)]();}catch{return[];}}async[a0_0x36f96e(0x2fc)](_0x4bee77,_0x5bfbde){const _0x48960b=a0_0x36f96e;try{let _0x35a21a=this[_0x48960b(0x37a)](_0x5bfbde),_0x4b9160=I(_0x4bee77[_0x48960b(0x54f)]);await _0x35a21a['deleteMany'](_0x4b9160);}catch(_0x29a0bb){console[_0x48960b(0x370)](_0x29a0bb);}}async[a0_0x36f96e(0x3d0)](_0x449993,_0x1f85db,_0x2a321f){const _0x51f1d4=a0_0x36f96e;try{let _0x3e93fd=this[_0x51f1d4(0x37a)](_0x2a321f),_0x251b1e=I(_0x449993[_0x51f1d4(0x54f)]);return await _0x3e93fd[_0x51f1d4(0x1a4)](_0x251b1e,{'$set':_0x1f85db},{'new':!0x0});}catch(_0x30be95){throw console['error'](_0x30be95),_0x30be95;}}async[a0_0x36f96e(0x486)](_0x3a9a52,_0x191950){const _0x3f34f3=a0_0x36f96e;if(_0x3a9a52[_0x3f34f3(0x5ed)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3f34f3(0x37a)](_0x191950)[_0x3f34f3(0x486)]([..._0x3a9a52]))[_0x3f34f3(0x5ed)]};}catch(_0x15f98b){return console[_0x3f34f3(0x3bb)](_0x3f34f3(0x5b1),_0x15f98b),_0x15f98b;}}async['deleteAll'](_0x536e7b){const _0x1d1c59=a0_0x36f96e;try{return await this[_0x1d1c59(0x37a)](_0x536e7b)[_0x1d1c59(0x362)]['drop'](),{'success':!0x0};}catch(_0x257197){return console[_0x1d1c59(0x370)](_0x257197),{'success':!0x1,'error':_0x257197};}}},As=T(require('@ffmpeg-installer/ffmpeg')),f=T(require(a0_0x36f96e(0x363))),De=require('fs'),J=T(require('path')),Q=T(require(a0_0x36f96e(0x488))),Co=require('uuid'),Eo=T(require(a0_0x36f96e(0x220))),vo=T(require(a0_0x36f96e(0x15c))),wa=['imageMessage',a0_0x36f96e(0x21c),a0_0x36f96e(0x391),a0_0x36f96e(0x72b),a0_0x36f96e(0x258)],ya=[a0_0x36f96e(0x1b9),a0_0x36f96e(0x684),a0_0x36f96e(0x5b6),a0_0x36f96e(0x5ea)],Os=require('os'),kt=T(require(a0_0x36f96e(0x274))),_e=require(a0_0x36f96e(0x38e)),jt=require(a0_0x36f96e(0x6f7)),ie=T(require('mongoose')),k=require('class-validator'),be=class{constructor(_0x34d505,_0x37f3e3,_0x3c5016){const _0xd77fc8=a0_0x36f96e;this[_0xd77fc8(0x127)]=_0x34d505,this['exists']=_0x37f3e3,this[_0xd77fc8(0x79c)]=_0x3c5016;}},ze=class{},He=class{},Re=class{},Ke=class{},Qe=class{},Se=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},It=T(require(a0_0x36f96e(0x14f))),ba=require('fs'),Sa=require(a0_0x36f96e(0x804));async function $e(_0x16d594){const _0x52c2af=a0_0x36f96e;let _0x33fb2f=B[_0x52c2af(0x517)][_0x16d594];if(L[_0x52c2af(0x5bf)]){let _0x10e990=A[_0x52c2af(0x58e)]()['db'](L['CONNECTION'][_0x52c2af(0x7e4)]+_0x52c2af(0x13b))[_0x52c2af(0x362)](_0x16d594);return _0x33fb2f||(await _0x10e990[_0x52c2af(0x6a2)]({})[_0x52c2af(0x6bb)]())['length']>0x0;}return _0x33fb2f||(0x0,ba[_0x52c2af(0x310)])((0x0,Sa[_0x52c2af(0x41f)])(fe,_0x16d594));}async function Ma(_0x3c23d2,_0x478896,_0x18e761){const _0x3dbb88=a0_0x36f96e;if(_0x3c23d2[_0x3dbb88(0x4a5)][_0x3dbb88(0x4ba)](_0x3dbb88(0x6c4))||_0x3c23d2[_0x3dbb88(0x4a5)][_0x3dbb88(0x4ba)](_0x3dbb88(0x364))||_0x3c23d2[_0x3dbb88(0x4a5)]['includes'](_0x3dbb88(0x283))||_0x3c23d2[_0x3dbb88(0x4a5)][_0x3dbb88(0x4ba)](_0x3dbb88(0x67e))||_0x3c23d2[_0x3dbb88(0x4a5)]['includes'](_0x3dbb88(0x425))||_0x3c23d2['originalUrl'][_0x3dbb88(0x4ba)](_0x3dbb88(0x2c1))||_0x3c23d2[_0x3dbb88(0x4a5)]['includes'](_0x3dbb88(0x553)))return _0x18e761();let _0x4b1526=_0x3c23d2[_0x3dbb88(0x165)];if(!_0x4b1526?.[_0x3dbb88(0x7b7)])throw new m(_0x3dbb88(0x426));if(!await $e(_0x4b1526[_0x3dbb88(0x7b7)]))throw new q(_0x3dbb88(0x3ea)+_0x4b1526['instanceName']+_0x3dbb88(0x27d));_0x18e761();}async function Ca(_0x1b645d,_0x140b62,_0xf59edc){const _0x5a1728=a0_0x36f96e;if(_0x1b645d[_0x5a1728(0x4a5)]['includes'](_0x5a1728(0x6c4))){let _0x34c411=_0x1b645d['body'];if(await $e(_0x34c411[_0x5a1728(0x7b7)]))throw new Y(_0x5a1728(0x5d6)+_0x34c411[_0x5a1728(0x7b7)]+_0x5a1728(0x4ee));B[_0x5a1728(0x517)][_0x34c411[_0x5a1728(0x7b7)]]&&delete B['waInstances'][_0x34c411['instanceName']];}_0xf59edc();}var Ea=require('class-validator'),va=T(require(a0_0x36f96e(0x1a7))),tt=a0_0x36f96e(0x1a9),fr=new $('GUARD');async function wr(_0x1ac006,_0x15fdc0,_0xfac55f){const _0x41e0d3=a0_0x36f96e;let _0x42d2c5=_0x1ac006[_0x41e0d3(0x5aa)](_0x41e0d3(0x69e));if(_0x42d2c5&&b['get'](_0x41e0d3(0x11c))[_0x41e0d3(0x3c8)][_0x41e0d3(0x3b8)]!==_0x42d2c5)throw new ae();if(b[_0x41e0d3(0x5aa)]('AUTHENTICATION')[_0x41e0d3(0x3c8)][_0x41e0d3(0x3b8)]===_0x42d2c5)return _0xfac55f();if((_0x1ac006[_0x41e0d3(0x4a5)]['includes'](_0x41e0d3(0x6c4))||_0x1ac006['originalUrl']['includes'](_0x41e0d3(0x364)))&&!_0x42d2c5)throw new Y(_0x41e0d3(0x78b),_0x41e0d3(0x22f));let _0x384e3a=b[_0x41e0d3(0x5aa)](_0x41e0d3(0x11c))[_0x41e0d3(0x2b1)];try{let [_0x46dd71,_0x3462de]=_0x1ac006[_0x41e0d3(0x5aa)](_0x41e0d3(0x2c8))[_0x41e0d3(0x71a)]('\x20');if(_0x46dd71[_0x41e0d3(0x191)]()!==_0x41e0d3(0x47a))throw new ae();if(!(0x0,Ea['isJWT'])(_0x3462de))throw new ae();let _0x34ef47=_0x1ac006[_0x41e0d3(0x165)],_0x4354fd=va[_0x41e0d3(0x3dd)][_0x41e0d3(0x459)](_0x3462de,_0x384e3a['SECRET'],{'ignoreExpiration':_0x384e3a[_0x41e0d3(0x10d)]===0x0});if(_0x34ef47[_0x41e0d3(0x7b7)]!==_0x4354fd['instanceName']||tt!==_0x4354fd[_0x41e0d3(0x589)])throw new ae();return _0xfac55f();}catch(_0xfadbc6){throw fr[_0x41e0d3(0x370)](_0xfadbc6),new ae();}}async function yr(_0x158684,_0x12659d,_0x2edb9f){const _0x16bfc0=a0_0x36f96e;let _0x24fd46=b['get'](_0x16bfc0(0x11c))[_0x16bfc0(0x3c8)],_0x19f29d=_0x158684[_0x16bfc0(0x5aa)](_0x16bfc0(0x69e));if(_0x24fd46['KEY']===_0x19f29d)return _0x2edb9f();if(_0x158684['originalUrl'][_0x16bfc0(0x4ba)](_0x16bfc0(0x6c4))){let _0x2da5a1=st,_0x122d5e=_0x158684[_0x16bfc0(0x49d)][_0x16bfc0(0x7b7)];if(_0x2da5a1&&_0x122d5e[_0x16bfc0(0x191)]()[_0x16bfc0(0x720)](_0x2da5a1['toLowerCase']()))return _0x2edb9f();if(!_0x19f29d)throw new Y(_0x16bfc0(0x78b),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x158684[_0x16bfc0(0x4a5)][_0x16bfc0(0x4ba)](_0x16bfc0(0x364))&&!_0x19f29d)throw new Y('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x158684[_0x16bfc0(0x4a5)]['includes'](_0x16bfc0(0x283))&&!_0x19f29d)throw new Y(_0x16bfc0(0x78b),_0x16bfc0(0x22f));if(_0x158684['originalUrl'][_0x16bfc0(0x4ba)](_0x16bfc0(0x67e))&&!_0x19f29d)throw new Y(_0x16bfc0(0x78b),_0x16bfc0(0x22f));try{let _0x6b734a=_0x158684['params'],_0x17f513=await pe['auth'][_0x16bfc0(0x6a2)](_0x6b734a[_0x16bfc0(0x7b7)]);if(_0x17f513&&_0x17f513['apikey']===_0x19f29d)return _0x2edb9f();}catch{}throw new ae();}var Na={'jwt':wr,'apikey':yr},ro=require(a0_0x36f96e(0x14f)),E=require(a0_0x36f96e(0x480)),C=(..._0x322274)=>{const _0x112c03=a0_0x36f96e;let _0x198ada={};return _0x322274['forEach'](_0x52ce8f=>_0x198ada[_0x52ce8f]={'minLength':0x1,'description':_0x112c03(0x10c)+_0x52ce8f+_0x112c03(0x239)}),{'if':{'propertyNames':{'enum':[..._0x322274]}},'then':{'properties':_0x198ada}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'instanceName':{'type':'string'}},...C(a0_0x36f96e(0x7b7))},nc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x36f96e(0x18f)}},'required':['oldToken'],...C(a0_0x36f96e(0x1f6))},cc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x36f96e(0x18f)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]}},'required':['id',a0_0x36f96e(0x71c),a0_0x36f96e(0x105)],...C('id',a0_0x36f96e(0x71c))},'message':{'type':a0_0x36f96e(0x3b0)}}},X={'properties':{'delay':{'type':a0_0x36f96e(0x51b),'description':a0_0x36f96e(0x229)},'presence':{'type':'string','enum':[a0_0x36f96e(0x318),'available',a0_0x36f96e(0x3af),a0_0x36f96e(0x15e),a0_0x36f96e(0x7ea)]}}},H={'type':a0_0x36f96e(0x18f),'description':a0_0x36f96e(0x6de)},Ra={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'number':{...H},'options':{...X},'textMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'text':{'type':a0_0x36f96e(0x18f)}},'required':[a0_0x36f96e(0x562)],...C('text')}},'required':[a0_0x36f96e(0x7c7),a0_0x36f96e(0x3b2)]},$a={'type':a0_0x36f96e(0x18f),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x36f96e(0x6de)},lc={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'number':{...$a},'options':{...X},'textMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'text':{'type':a0_0x36f96e(0x18f)}},'required':['text'],...C(a0_0x36f96e(0x562))}},'required':[a0_0x36f96e(0x7c7),'number']},uc={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'number':{...$a},'options':{...X},'mediaMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'mediatype':{'type':a0_0x36f96e(0x18f),'enum':[a0_0x36f96e(0x4fb),a0_0x36f96e(0x2a8),a0_0x36f96e(0x2c2),a0_0x36f96e(0x1d3)]},'media':{'type':a0_0x36f96e(0x18f)},'fileName':{'type':a0_0x36f96e(0x18f)},'caption':{'type':'string'}},'required':[a0_0x36f96e(0x6ca),a0_0x36f96e(0x6c0)],...C(a0_0x36f96e(0x128),a0_0x36f96e(0x5d4),a0_0x36f96e(0x6c0))}},'required':['mediaMessage',a0_0x36f96e(0x3b2)]},Aa={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'number':{...H},'options':{...X},'stickerMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'image':{'type':a0_0x36f96e(0x18f)}},'required':[a0_0x36f96e(0x4fb)],...C('image')}},'required':['stickerMessage',a0_0x36f96e(0x3b2)]},Oa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'type':{'type':'string','enum':['text',a0_0x36f96e(0x4fb),a0_0x36f96e(0x1d3),a0_0x36f96e(0x2c2)]},'content':{'type':a0_0x36f96e(0x18f)},'caption':{'type':a0_0x36f96e(0x18f)},'backgroundColor':{'type':a0_0x36f96e(0x18f)},'font':{'type':a0_0x36f96e(0x51b),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x36f96e(0x69c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x36f96e(0x18f),'pattern':a0_0x36f96e(0x520),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]}},'required':[a0_0x36f96e(0x2aa),'content'],...C(a0_0x36f96e(0x2aa),a0_0x36f96e(0x567))}},'required':[a0_0x36f96e(0x791)]},Ta={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'number':{...H},'options':{...X},'mediaMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'mediatype':{'type':a0_0x36f96e(0x18f),'enum':[a0_0x36f96e(0x4fb),a0_0x36f96e(0x2a8),'video',a0_0x36f96e(0x1d3)]},'media':{'type':a0_0x36f96e(0x18f)},'fileName':{'type':'string'},'caption':{'type':a0_0x36f96e(0x18f)}},'required':[a0_0x36f96e(0x6ca),'media'],...C(a0_0x36f96e(0x128),a0_0x36f96e(0x5d4),a0_0x36f96e(0x6c0))}},'required':[a0_0x36f96e(0x726),'number']},Ia={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'number':{...H},'options':{...X},'audioMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'audio':{'type':a0_0x36f96e(0x18f)}},'required':[a0_0x36f96e(0x1d3)],...C('audio')}},'required':[a0_0x36f96e(0x391),a0_0x36f96e(0x3b2)]},xa={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'number':{...H},'pollMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'name':{'type':a0_0x36f96e(0x18f)},'selectableCount':{'type':'number'},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x36f96e(0x79c),a0_0x36f96e(0x4be),a0_0x36f96e(0x1b5)],...C('name',a0_0x36f96e(0x4be),a0_0x36f96e(0x1b5))}},'required':[a0_0x36f96e(0x3b2),a0_0x36f96e(0x6b0)]},Da={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'number':{...H},'menuMessage':{'type':'object','properties':{'text':{'type':'string'},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['text',a0_0x36f96e(0x1d8)],...C(a0_0x36f96e(0x562),a0_0x36f96e(0x1d8))}},'required':[a0_0x36f96e(0x3b2),a0_0x36f96e(0x246)]},_a={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'number':{...H},'options':{...X},'buttonMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'title':{'type':a0_0x36f96e(0x18f)},'description':{'type':a0_0x36f96e(0x18f)},'footerText':{'type':a0_0x36f96e(0x18f)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x36f96e(0x18f)},'buttonId':{'type':a0_0x36f96e(0x18f)}},'required':['buttonText',a0_0x36f96e(0x787)],...C(a0_0x36f96e(0x3cd),a0_0x36f96e(0x787))}},'mediaMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'media':{'type':a0_0x36f96e(0x18f)},'fileName':{'type':a0_0x36f96e(0x18f)},'mediatype':{'type':a0_0x36f96e(0x18f),'enum':[a0_0x36f96e(0x4fb),'document','video']}},'required':[a0_0x36f96e(0x6c0),'mediatype'],...C(a0_0x36f96e(0x6c0),a0_0x36f96e(0x128))}},'required':[a0_0x36f96e(0x698),'buttons'],...C(a0_0x36f96e(0x698),a0_0x36f96e(0x6c6))}},'required':[a0_0x36f96e(0x3b2),a0_0x36f96e(0x7b5)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'number':{...H},'options':{...X},'locationMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x36f96e(0x3b2)},'name':{'type':a0_0x36f96e(0x18f)},'address':{'type':a0_0x36f96e(0x18f)}},'required':[a0_0x36f96e(0x6c9),a0_0x36f96e(0x2d7)],...C('name',a0_0x36f96e(0x383))}},'required':[a0_0x36f96e(0x3b2),a0_0x36f96e(0x3f4)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'number':{...H},'options':{...X},'listMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'title':{'type':'string'},'description':{'type':a0_0x36f96e(0x18f)},'footerText':{'type':a0_0x36f96e(0x18f)},'buttonText':{'type':'string'},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x36f96e(0x3b0),'properties':{'title':{'type':a0_0x36f96e(0x18f)},'rows':{'type':a0_0x36f96e(0x69c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x36f96e(0x3b0),'properties':{'title':{'type':a0_0x36f96e(0x18f)},'description':{'type':a0_0x36f96e(0x18f)},'rowId':{'type':a0_0x36f96e(0x18f)}},'required':[a0_0x36f96e(0x698),'rowId'],...C('title','rowId')}}},'required':[a0_0x36f96e(0x698),a0_0x36f96e(0x1e7)],...C(a0_0x36f96e(0x698))}}},'required':[a0_0x36f96e(0x698),a0_0x36f96e(0x6c6),a0_0x36f96e(0x3cd),a0_0x36f96e(0x5ca)],...C(a0_0x36f96e(0x698),a0_0x36f96e(0x6c6),a0_0x36f96e(0x3cd),a0_0x36f96e(0x5a5))}},'required':[a0_0x36f96e(0x3b2),'listMessage']},ja={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'number':{...H},'options':{...X},'contactMessage':{'type':a0_0x36f96e(0x69c),'items':{'type':a0_0x36f96e(0x3b0),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x36f96e(0x18f),'minLength':0xa}},'required':['fullName','phoneNumber'],...C(a0_0x36f96e(0x452))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x36f96e(0x3b2),'contactMessage']},La={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'reactionMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'key':{'type':a0_0x36f96e(0x3b0),'properties':{'id':{'type':a0_0x36f96e(0x18f)},'remoteJid':{'type':a0_0x36f96e(0x18f)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x36f96e(0x105)],...C('id',a0_0x36f96e(0x71c))},'reaction':{'type':a0_0x36f96e(0x18f)}},'required':[a0_0x36f96e(0x2f3),a0_0x36f96e(0x24a)],...C(a0_0x36f96e(0x24a))}},'required':[a0_0x36f96e(0x7db)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'numbers':{'type':a0_0x36f96e(0x69c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x36f96e(0x520),'description':a0_0x36f96e(0x2ca)}}}},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'readMessages':{'type':a0_0x36f96e(0x69c),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id','fromMe',a0_0x36f96e(0x71c)],...C('id','remoteJid')}}},'required':[a0_0x36f96e(0x7e9)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'privacySettings':{'type':a0_0x36f96e(0x3b0),'properties':{'readreceipts':{'type':a0_0x36f96e(0x18f),'enum':[a0_0x36f96e(0x471),a0_0x36f96e(0x66a)]},'profile':{'type':a0_0x36f96e(0x18f),'enum':[a0_0x36f96e(0x471),'contacts','contact_blacklist','none']},'status':{'type':'string','enum':[a0_0x36f96e(0x471),'contacts',a0_0x36f96e(0x5c6),a0_0x36f96e(0x66a)]},'online':{'type':'string','enum':[a0_0x36f96e(0x471),a0_0x36f96e(0x2ad)]},'last':{'type':a0_0x36f96e(0x18f),'enum':['all','contacts',a0_0x36f96e(0x5c6),a0_0x36f96e(0x66a)]},'groupadd':{'type':a0_0x36f96e(0x18f),'enum':[a0_0x36f96e(0x471),a0_0x36f96e(0x185),a0_0x36f96e(0x5c6),'none']}},'required':[a0_0x36f96e(0x1f5),'profile',a0_0x36f96e(0x193),a0_0x36f96e(0x317),'last',a0_0x36f96e(0x7ac)],...C(a0_0x36f96e(0x1f5),'profile',a0_0x36f96e(0x193),'online','last',a0_0x36f96e(0x7ac))}},'required':[a0_0x36f96e(0x6f2)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'lastMessage':{'type':a0_0x36f96e(0x3b0),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x36f96e(0x18f)},'remoteJid':{'type':a0_0x36f96e(0x18f)},'fromMe':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]}},'required':['id',a0_0x36f96e(0x105),a0_0x36f96e(0x71c)],...C('id',a0_0x36f96e(0x71c))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x36f96e(0x2f3)],...C('messageTimestamp')},'archive':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]}},'required':[a0_0x36f96e(0x7ca),'archive']},Va={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'id':{'type':a0_0x36f96e(0x18f)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x36f96e(0x18f)},'participant':{'type':a0_0x36f96e(0x18f)}},'required':['id','fromMe',a0_0x36f96e(0x71c)],...C('id','remoteJid',a0_0x36f96e(0x4b9))},Ga={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x36f96e(0x18f),'minLength':0x1},'pushName':{'type':a0_0x36f96e(0x18f),'minLength':0x1},'id':{'type':a0_0x36f96e(0x18f),'minLength':0x1}},...C(a0_0x36f96e(0x183),'id',a0_0x36f96e(0x666))}}},Ba={'$id':(0x0,E['v4'])(),'type':'object','properties':{'name':{'type':a0_0x36f96e(0x18f)}},...C(a0_0x36f96e(0x79c))},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'status':{'type':'string'}},...C('status')},Ae={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'number':{'type':a0_0x36f96e(0x18f)},'picture':{'type':a0_0x36f96e(0x18f)}}},za={'type':'object','properties':{'wuid':{'type':a0_0x36f96e(0x18f)},'name':{'type':'string'},'picture':{'type':a0_0x36f96e(0x18f)},'status':{'type':a0_0x36f96e(0x18f)},'isBusiness':{'type':a0_0x36f96e(0x80a)}}},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x36f96e(0x18f),'minLength':0x1},'key':{'type':a0_0x36f96e(0x3b0),'if':{'propertyNames':{'enum':[a0_0x36f96e(0x105),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x36f96e(0x18f),'minLength':0x1,'description':a0_0x36f96e(0x3b9)},'id':{'type':'string','minLength':0x1,'description':a0_0x36f96e(0x3b9)},'fromMe':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x36f96e(0x3b0)}},...C(a0_0x36f96e(0x183))},'limit':{'type':a0_0x36f96e(0x51b)}}},dc={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x36f96e(0x18f)},'remoteJid':{'type':a0_0x36f96e(0x18f)},'id':{'type':a0_0x36f96e(0x18f)},'fromMe':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x36f96e(0x18f)},'status':{'type':a0_0x36f96e(0x18f),'enum':[a0_0x36f96e(0x2c4),a0_0x36f96e(0x413),'SERVER_ACK','DELIVERY_ACK',a0_0x36f96e(0x221),a0_0x36f96e(0x692)]}},...C(a0_0x36f96e(0x183),a0_0x36f96e(0x71c),'id',a0_0x36f96e(0x193))},'limit':{'type':a0_0x36f96e(0x51b)}}},Ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'presence':{'type':a0_0x36f96e(0x18f),'enum':['unavailable',a0_0x36f96e(0x28b),'composing',a0_0x36f96e(0x15e),a0_0x36f96e(0x7ea)]}},'required':[a0_0x36f96e(0x46e),'number']},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'subject':{'type':a0_0x36f96e(0x18f)},'description':{'type':'string'},'profilePicture':{'type':a0_0x36f96e(0x18f)},'participants':{'type':a0_0x36f96e(0x69c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x36f96e(0x18f),'minLength':0xa,'pattern':a0_0x36f96e(0x361),'description':a0_0x36f96e(0x28d)}}},'required':[a0_0x36f96e(0x6c7),'participants'],...C('subject','description',a0_0x36f96e(0x164))},Oe={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'groupJid':{'type':'string','pattern':a0_0x36f96e(0x1c8)}},'required':['groupJid'],...C('groupJid')},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x36f96e(0x18f),'enum':[a0_0x36f96e(0x35f),a0_0x36f96e(0x1cd),a0_0x36f96e(0x623),'demote',a0_0x36f96e(0x7eb),a0_0x36f96e(0x2f4)]},'participants':{'type':a0_0x36f96e(0x69c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x36f96e(0x18f),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x36f96e(0x28d)}}},'required':['groupJid',a0_0x36f96e(0x343),a0_0x36f96e(0x2d9)],...C(a0_0x36f96e(0x214),a0_0x36f96e(0x343))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'groupJid':{'type':a0_0x36f96e(0x18f)},'expiration':{'type':a0_0x36f96e(0x3b2),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x36f96e(0x214),'expiration'],...C(a0_0x36f96e(0x214),'expiration')},Za={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x36f96e(0x18f)}},'required':[a0_0x36f96e(0x214),a0_0x36f96e(0x4fb)],...C(a0_0x36f96e(0x214),a0_0x36f96e(0x4fb))},eo={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'groupJid':{'type':a0_0x36f96e(0x18f)},'description':{'type':a0_0x36f96e(0x18f)}},'required':[a0_0x36f96e(0x214),a0_0x36f96e(0x6c6)],...C(a0_0x36f96e(0x214),a0_0x36f96e(0x6c6))},to={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'groupJid':{'type':a0_0x36f96e(0x18f)},'name':{'type':a0_0x36f96e(0x18f)}},'required':['groupJid','name'],...C('groupJid',a0_0x36f96e(0x79c))},so={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'groupJid':{'type':a0_0x36f96e(0x18f)},'setting':{'type':a0_0x36f96e(0x18f),'enum':[a0_0x36f96e(0x155),'not_announcement',a0_0x36f96e(0x263),a0_0x36f96e(0x6ba)]}},'required':[a0_0x36f96e(0x214),'setting'],...C(a0_0x36f96e(0x214),a0_0x36f96e(0x6d0))},ao={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'groupJid':{'type':a0_0x36f96e(0x18f)},'restrict':{'type':a0_0x36f96e(0x80a)},'announce':{'type':a0_0x36f96e(0x80a)},'memberAddMode':{'type':a0_0x36f96e(0x80a)},'joinApprovalMode':{'type':a0_0x36f96e(0x80a)},'expiration':{'type':a0_0x36f96e(0x51b),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x36f96e(0x18f)},'description':{'type':'string'},'image':{'type':a0_0x36f96e(0x18f)}}},bs={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'inviteCode':{'type':a0_0x36f96e(0x18f)}},'required':[a0_0x36f96e(0x7cc)],...C(a0_0x36f96e(0x7cc))},oo={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'url':{'type':a0_0x36f96e(0x18f)},'enabled':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]}},'required':['url',a0_0x36f96e(0x6b4)]},pc={'$id':(0x0,E['v4'])(),'type':a0_0x36f96e(0x3b0),'properties':{'local_map':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x36f96e(0x80a),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x36f96e(0x7a3),a0_0x36f96e(0x255),'MESSAGES_SET',a0_0x36f96e(0x13f),a0_0x36f96e(0x3e3),a0_0x36f96e(0x5e1),a0_0x36f96e(0x13a),a0_0x36f96e(0x569),a0_0x36f96e(0x416),a0_0x36f96e(0x23b),a0_0x36f96e(0x54a),'CHATS_UPSERT',a0_0x36f96e(0x809),a0_0x36f96e(0x307),a0_0x36f96e(0x34e),a0_0x36f96e(0x2cb),'GROUPS_UPDATE',a0_0x36f96e(0x16c)],...C(a0_0x36f96e(0x3fb),'STATUS_INSTANCE',a0_0x36f96e(0x255),a0_0x36f96e(0x657),a0_0x36f96e(0x13f),a0_0x36f96e(0x3e3),a0_0x36f96e(0x5e1),a0_0x36f96e(0x13a),a0_0x36f96e(0x569),a0_0x36f96e(0x416),'PRESENCE_UPDATE',a0_0x36f96e(0x54a),'CHATS_UPSERT',a0_0x36f96e(0x809),a0_0x36f96e(0x307),a0_0x36f96e(0x34e),a0_0x36f96e(0x2cb),a0_0x36f96e(0x633),a0_0x36f96e(0x16c))},at=class{},ot=class extends D{[a0_0x36f96e(0x3a3)](_0x22f87d){return Xs(_0x22f87d);}async[a0_0x36f96e(0x192)](_0x39ba90){const _0xe5263b=a0_0x36f96e;if(_0x39ba90[_0xe5263b(0x5ed)]!==0x0)try{return{'insertCount':(await this[_0xe5263b(0x3a3)](_0x39ba90[0x0][_0xe5263b(0x6ab)])[_0xe5263b(0x486)]([..._0x39ba90]))[_0xe5263b(0x5ed)]};}catch(_0x3c4e85){return _0x3c4e85;}}async[a0_0x36f96e(0x2fc)](_0x2a9609,_0x33bd68){const _0x2c39b4=a0_0x36f96e;try{return{'deletedCount':(await this[_0x2c39b4(0x3a3)](_0x33bd68)['deleteMany']({..._0x2a9609[_0x2c39b4(0x54f)]}))[_0x2c39b4(0x23c)]};}catch(_0x32bd3b){return{'error':_0x32bd3b?.[_0x2c39b4(0x2ee)]()};}}async[a0_0x36f96e(0x3d0)](_0x4966da,_0x2c826d){const _0xf8b284=a0_0x36f96e;try{if(_0x4966da['length']===0x0)return;let _0x6cc5c2=this[_0xf8b284(0x3a3)](_0x2c826d),_0x5a16c4=_0x4966da['map'](_0x131ba5=>({'updateOne':{'filter':{'_id':_0x131ba5[_0xf8b284(0x183)],'owner':_0x2c826d},'update':{..._0x131ba5}}})),{modifiedCount:_0x5d0540}=await _0x6cc5c2[_0xf8b284(0x1e2)](_0x5a16c4);return{'insertCount':_0x5d0540};}catch{return;}}async[a0_0x36f96e(0x6a2)](_0x246379,_0x4992dd){const _0x1490f4=a0_0x36f96e;try{let _0x6aa784=this[_0x1490f4(0x3a3)](_0x4992dd),_0x46c281=I(_0x246379['where']);return await _0x6aa784[_0x1490f4(0x6a2)](_0x46c281)[_0x1490f4(0x5c4)](_0x246379?.['limit']??0x0)[_0x1490f4(0x5bc)]();}catch{return[];}}async[a0_0x36f96e(0x49a)](_0x3e20af,_0x41ce0f){const _0x20ff6a=a0_0x36f96e;try{let _0x4db095=this['getContactModelForOwner'](_0x41ce0f),_0x23476a=I(_0x3e20af[_0x20ff6a(0x54f)]);return await _0x4db095[_0x20ff6a(0x49a)](_0x23476a)[_0x20ff6a(0x5bc)]();}catch{return null;}}async[a0_0x36f96e(0x673)](_0x131c9e){const _0x311768=a0_0x36f96e;try{return await this[_0x311768(0x3a3)](_0x131c9e)[_0x311768(0x362)][_0x311768(0x760)](),{'success':!0x0};}catch(_0x192c47){return console[_0x311768(0x370)](_0x192c47),{'success':!0x1,'error':_0x192c47};}}},rt=require(a0_0x36f96e(0x328)),Mc=require(a0_0x36f96e(0x7a7)),Ss=new $(a0_0x36f96e(0x621)),G=class{[a0_0x36f96e(0x11e)](_0x42d9fc,_0x1f5b06=!0x0){let _0x2dd97c='/'+_0x42d9fc;return _0x1f5b06&&(_0x2dd97c+='/:instanceName'),_0x2dd97c;}async[a0_0x36f96e(0x753)](_0x1eb081){const _0x2f81a8=a0_0x36f96e;let {request:_0x2b2457,schema:_0x4c2dc2,ClassRef:_0x134244,execute:_0x1d13b5}=_0x1eb081,_0x14f881=new _0x134244(),_0x166b1c=_0x2b2457[_0x2f81a8(0x49d)],_0x264bf7=_0x2b2457[_0x2f81a8(0x165)];_0x2b2457?.[_0x2f81a8(0x4f4)]&&Object['keys'](_0x2b2457['query'])[_0x2f81a8(0x5ed)]>0x0&&Object[_0x2f81a8(0x2fe)](_0x264bf7,_0x2b2457['query']),_0x2b2457[_0x2f81a8(0x4a5)][_0x2f81a8(0x4ba)](_0x2f81a8(0x6c4))&&Object[_0x2f81a8(0x2fe)](_0x264bf7,_0x166b1c),Object[_0x2f81a8(0x2fe)](_0x14f881,_0x166b1c);let _0x31f7d8=_0x4c2dc2?(0x0,rt[_0x2f81a8(0x259)])(_0x14f881,_0x4c2dc2):{'valid':!0x0,'errors':[]};if(!_0x31f7d8['valid']){let _0x14d54e=_0x31f7d8[_0x2f81a8(0x585)][_0x2f81a8(0x25f)](({property:_0x396822,stack:_0x3dcc86,schema:_0x2a69d1})=>{const _0x2ed73c=_0x2f81a8;let _0x42e277;return _0x2a69d1[_0x2ed73c(0x6c6)]?_0x42e277=_0x2a69d1['description']:_0x42e277=_0x3dcc86[_0x2ed73c(0x410)](_0x2ed73c(0x2b2),''),{'property':_0x396822[_0x2ed73c(0x410)](_0x2ed73c(0x2b2),''),'message':_0x42e277};});throw Ss[_0x2f81a8(0x370)]([..._0x14d54e]),new m(..._0x14d54e);}return await _0x1d13b5(_0x264bf7,_0x14f881);}async[a0_0x36f96e(0x642)](_0x45372e){const _0x349486=a0_0x36f96e;let {request:_0x145d0c,ClassRef:_0x56b810,schema:_0xea1f6a,execute:_0x150540}=_0x45372e,_0xaf8396=_0x145d0c[_0x349486(0x4f4)];if(!_0xaf8396?.[_0x349486(0x214)])throw new m(_0x349486(0x5e5),_0x349486(0x66d));let _0x410407=_0x145d0c[_0x349486(0x165)],_0x33cd85=_0x145d0c[_0x349486(0x49d)],_0x48c229=new _0x56b810();Object[_0x349486(0x2fe)](_0x33cd85,_0xaf8396),Object[_0x349486(0x2fe)](_0x48c229,_0x33cd85);let _0x4fe0bd=(0x0,rt[_0x349486(0x259)])(_0x48c229,_0xea1f6a);if(!_0x4fe0bd['valid']){let _0x22747f=_0x4fe0bd[_0x349486(0x585)]['map'](({property:_0x330140,stack:_0x4ed9da,schema:_0x217cf2})=>{const _0x379902=_0x349486;let _0x1aa1f3;return _0x217cf2[_0x379902(0x6c6)]?_0x1aa1f3=_0x217cf2[_0x379902(0x6c6)]:_0x1aa1f3=_0x4ed9da[_0x379902(0x410)](_0x379902(0x2b2),''),{'property':_0x330140['replace'](_0x379902(0x2b2),''),'message':_0x1aa1f3};});throw Ss[_0x349486(0x370)]([..._0x22747f]),new m(..._0x22747f);}return await _0x150540(_0x410407,_0x48c229);}async[a0_0x36f96e(0x374)](_0x3472bf){const _0x4c02e5=a0_0x36f96e;let {request:_0x7b852c,ClassRef:_0x368db0,schema:_0x127205,execute:_0x2e76cc}=_0x3472bf,_0x35e1e2=_0x7b852c[_0x4c02e5(0x49d)];if(!_0x35e1e2?.[_0x4c02e5(0x7cc)])throw new m(_0x4c02e5(0x4ed),_0x4c02e5(0x724));let _0x11f83c=_0x7b852c['params'],_0x205977=_0x7b852c[_0x4c02e5(0x49d)],_0x386f0c=new _0x368db0();Object['assign'](_0x205977,_0x35e1e2),Object[_0x4c02e5(0x2fe)](_0x386f0c,_0x205977);let _0x294a69=(0x0,rt['validate'])(_0x386f0c,_0x127205);if(!_0x294a69[_0x4c02e5(0x232)]){let _0x298189=_0x294a69[_0x4c02e5(0x585)][_0x4c02e5(0x25f)](({property:_0x17f286,stack:_0x452cec,schema:_0xfccfc8})=>{const _0x19b99d=_0x4c02e5;let _0x5a140e;return _0xfccfc8[_0x19b99d(0x6c6)]?_0x5a140e=_0xfccfc8[_0x19b99d(0x6c6)]:_0x5a140e=_0x452cec['replace']('instance.',''),{'property':_0x17f286[_0x19b99d(0x410)]('instance.',''),'message':_0x5a140e};});throw Ss[_0x4c02e5(0x370)]([..._0x298189]),new m(..._0x298189);}return await _0x2e76cc(_0x11f83c,_0x386f0c);}},M=class{},kc=new $(a0_0x36f96e(0x78e)),it=class extends G{constructor(..._0x52e7dc){const _0xba1338=a0_0x36f96e;super(),this[_0xba1338(0x696)]=(0x0,ro[_0xba1338(0x5a6)])(),this[_0xba1338(0x696)][_0xba1338(0x784)](this[_0xba1338(0x11e)](_0xba1338(0x3eb)),..._0x52e7dc,async(_0x4c3097,_0x8a0dd7)=>{const _0x43bef2=_0xba1338;let _0x3357a9=await this[_0x43bef2(0x753)]({'request':_0x4c3097,'schema':Ka,'ClassRef':ze,'execute':(_0x3e6014,_0x3d1b34)=>P[_0x43bef2(0x3eb)](_0x3e6014,_0x3d1b34)});return _0x8a0dd7['status'](0xc9)[_0x43bef2(0x264)](_0x3357a9);})[_0xba1338(0x784)](this[_0xba1338(0x11e)](_0xba1338(0x538)),..._0x52e7dc,async(_0x5d60fd,_0x52d283)=>{const _0x1a8b08=_0xba1338;let _0x49e66c=await this[_0x1a8b08(0x753)]({'request':_0x5d60fd,'schema':Fa,'ClassRef':He,'execute':(_0x2867f7,_0x59ec61)=>P[_0x1a8b08(0x4a1)](_0x2867f7,_0x59ec61)});return _0x52d283[_0x1a8b08(0x193)](0xc9)['json'](_0x49e66c);})[_0xba1338(0x784)](this[_0xba1338(0x11e)](_0xba1338(0x598)),..._0x52e7dc,async(_0x9d2b4d,_0x18450d)=>{const _0x5e9cb7=_0xba1338;let _0x16e36a=await this[_0x5e9cb7(0x753)]({'request':_0x9d2b4d,'schema':v,'ClassRef':M,'execute':(_0x217794,_0x2eabcd)=>P['editChat'](_0x217794,_0x2eabcd)});return _0x18450d[_0x5e9cb7(0x193)](0xc9)[_0x5e9cb7(0x264)](_0x16e36a);})['put'](this['routerPath'](_0xba1338(0x3a4)),..._0x52e7dc,async(_0x570b1f,_0x4b959b)=>{const _0x1ad7f1=_0xba1338;let _0x24d55e=await this['dataValidate']({'request':_0x570b1f,'schema':Ja,'ClassRef':Ye,'execute':(_0x1854a5,_0x16b5da)=>P[_0x1ad7f1(0x76b)](_0x1854a5,_0x16b5da)});return _0x4b959b[_0x1ad7f1(0x193)](0xc9)[_0x1ad7f1(0x264)](_0x24d55e);})[_0xba1338(0x38a)](this[_0xba1338(0x11e)]('archiveChat'),..._0x52e7dc,async(_0x28d6f5,_0x7d524b)=>{const _0x2db9a9=_0xba1338;let _0x2f2206=await this[_0x2db9a9(0x753)]({'request':_0x28d6f5,'schema':qa,'ClassRef':Xe,'execute':(_0x1058dc,_0x523208)=>P['archiveChat'](_0x1058dc,_0x523208)});return _0x7d524b[_0x2db9a9(0x193)](0xc9)[_0x2db9a9(0x264)](_0x2f2206);})[_0xba1338(0x2fc)](this[_0xba1338(0x11e)](_0xba1338(0x29a)),..._0x52e7dc,async(_0x36a904,_0x497d3d)=>{const _0x268dea=_0xba1338;let _0x4fdf2e=await this[_0x268dea(0x753)]({'request':_0x36a904,'schema':Va,'ClassRef':et,'execute':(_0x19c838,_0x2be200)=>P['deleteMessage'](_0x19c838,_0x2be200)});return _0x497d3d[_0x268dea(0x193)](0xc9)[_0x268dea(0x264)](_0x4fdf2e);})[_0xba1338(0x784)](this['routerPath'](_0xba1338(0x6b6)),..._0x52e7dc,async(_0x532542,_0x37f299)=>{const _0x49f52d=_0xba1338;let _0x42012a=await this[_0x49f52d(0x753)]({'request':_0x532542,'schema':Ae,'ClassRef':Re,'execute':(_0x4a851c,_0x50cbce)=>P[_0x49f52d(0x711)](_0x4a851c,_0x50cbce)});return _0x37f299[_0x49f52d(0x193)](0xc8)[_0x49f52d(0x264)](_0x42012a);})[_0xba1338(0x784)](this[_0xba1338(0x11e)]('fetchProfile'),..._0x52e7dc,async(_0x13ab07,_0x503575)=>{const _0x392417=_0xba1338;let _0x48c3f5=await this[_0x392417(0x753)]({'request':_0x13ab07,'schema':za,'ClassRef':Re,'execute':(_0x538e40,_0x576526)=>P[_0x392417(0x2d0)](_0x538e40,_0x576526)});return _0x503575['status'](0xc8)[_0x392417(0x264)](_0x48c3f5);})[_0xba1338(0x784)](this[_0xba1338(0x11e)](_0xba1338(0x7e3)),..._0x52e7dc,async(_0x27202e,_0x4c3502)=>{const _0x19bc53=_0xba1338;let _0x4efad8=await this[_0x19bc53(0x753)]({'request':_0x27202e,'schema':Ga,'ClassRef':at,'execute':(_0x1be80d,_0x1659c7)=>P[_0x19bc53(0x234)](_0x1be80d,_0x1659c7)});return _0x4c3502['status'](0xc8)['json'](_0x4efad8);})[_0xba1338(0x784)](this[_0xba1338(0x11e)]('getBase64FromMediaMessage'),..._0x52e7dc,async(_0x2bb818,_0x278bdb)=>{const _0x1e39f1=_0xba1338;let _0x5582d5=await this[_0x1e39f1(0x753)]({'request':_0x2bb818,'schema':null,'ClassRef':Object,'execute':(_0x281c64,_0x3ac9fc)=>P[_0x1e39f1(0x602)](_0x281c64,_0x3ac9fc)});return _0x278bdb[_0x1e39f1(0x193)](0xc9)[_0x1e39f1(0x264)](_0x5582d5);})[_0xba1338(0x784)](this[_0xba1338(0x11e)](_0xba1338(0x463)),..._0x52e7dc,async(_0x5b246d,_0x598926)=>{const _0xbe68a9=_0xba1338;let _0x47ee89=await this[_0xbe68a9(0x753)]({'request':_0x5b246d,'schema':Ha,'ClassRef':Be,'execute':(_0x3e095b,_0x344000)=>P[_0xbe68a9(0x4f8)](_0x3e095b,_0x344000)});return _0x598926[_0xbe68a9(0x193)](0xc8)[_0xbe68a9(0x264)](_0x47ee89);})['get'](this[_0xba1338(0x11e)]('findChats'),..._0x52e7dc,async(_0x2caaa8,_0x1f96d1)=>{const _0x11b2f8=_0xba1338;let _0x4e3fe0=await this['dataValidate']({'request':_0x2caaa8,'schema':null,'ClassRef':M,'execute':_0x2dfaf5=>P[_0x11b2f8(0x34c)](_0x2dfaf5)});return _0x1f96d1['status'](0xc8)[_0x11b2f8(0x264)](_0x4e3fe0);})[_0xba1338(0x5aa)](this[_0xba1338(0x11e)]('findLabels'),..._0x52e7dc,async(_0x513549,_0x276f4c)=>{const _0x490934=_0xba1338;let _0x36fb27=await this[_0x490934(0x753)]({'request':_0x513549,'schema':null,'ClassRef':M,'execute':_0x1c5d46=>P[_0x490934(0x644)](_0x1c5d46)});return _0x276f4c[_0x490934(0x193)](0xc8)[_0x490934(0x264)](_0x36fb27);})[_0xba1338(0x38a)](this[_0xba1338(0x11e)](_0xba1338(0x78a)),..._0x52e7dc,async(_0x34e92c,_0x3a2dc6)=>{const _0x190c90=_0xba1338;let _0x182b4d=await this['dataValidate']({'request':_0x34e92c,'schema':null,'ClassRef':Array,'execute':(_0xcd7b3,_0x3e0079)=>P[_0x190c90(0x78a)](_0xcd7b3,_0x3e0079)});return _0x3a2dc6['status'](0xc8)[_0x190c90(0x264)](_0x182b4d);})[_0xba1338(0x5aa)](this[_0xba1338(0x11e)](_0xba1338(0x28f)),..._0x52e7dc,async(_0x2d0210,_0x1cdc60)=>{const _0xc3c25=_0xba1338;let _0x3cc8e0=await this[_0xc3c25(0x753)]({'request':_0x2d0210,'schema':null,'ClassRef':M,'execute':_0xd4b3b1=>P[_0xc3c25(0x28f)](_0xd4b3b1)});return _0x1cdc60[_0xc3c25(0x193)](0xc8)[_0xc3c25(0x264)](_0x3cc8e0);})[_0xba1338(0x38a)](this[_0xba1338(0x11e)](_0xba1338(0x5e6)),..._0x52e7dc,async(_0x4ad863,_0x4d7863)=>{const _0xcc3980=_0xba1338;let _0x3d7cc0=await this[_0xcc3980(0x753)]({'request':_0x4ad863,'schema':Ua,'ClassRef':Ze,'execute':(_0x49ca39,_0x4e4078)=>P[_0xcc3980(0x5e6)](_0x49ca39,_0x4e4078)});return _0x4d7863['status'](0xc9)[_0xcc3980(0x264)](_0x3d7cc0);})[_0xba1338(0x784)](this['routerPath'](_0xba1338(0x625)),..._0x52e7dc,async(_0x29b851,_0x2e0e1b)=>{const _0x5c40f7=_0xba1338;let _0x4b5396=await this[_0x5c40f7(0x753)]({'request':_0x29b851,'schema':Ae,'ClassRef':Se,'execute':(_0x338473,_0x140e9d)=>P[_0x5c40f7(0x625)](_0x338473,_0x140e9d)});return _0x2e0e1b[_0x5c40f7(0x193)](0xc8)[_0x5c40f7(0x264)](_0x4b5396);})[_0xba1338(0x784)](this['routerPath'](_0xba1338(0x7df)),..._0x52e7dc,async(_0x44b8b6,_0x43aab0)=>{const _0x1b2ec4=_0xba1338;let _0x3ae03e=await this[_0x1b2ec4(0x753)]({'request':_0x44b8b6,'schema':Ba,'ClassRef':Ke,'execute':(_0x3cb0f8,_0x275d67)=>P[_0x1b2ec4(0x7df)](_0x3cb0f8,_0x275d67)});return _0x43aab0[_0x1b2ec4(0x193)](0xc8)[_0x1b2ec4(0x264)](_0x3ae03e);})['post'](this[_0xba1338(0x11e)]('updateProfileStatus'),..._0x52e7dc,async(_0x162069,_0x3b9224)=>{const _0x2aebfa=_0xba1338;let _0x3561cf=await this['dataValidate']({'request':_0x162069,'schema':Wa,'ClassRef':Qe,'execute':(_0x1a859a,_0x423d5d)=>P[_0x2aebfa(0x2c5)](_0x1a859a,_0x423d5d)});return _0x3b9224[_0x2aebfa(0x193)](0xc8)['json'](_0x3561cf);})[_0xba1338(0x38a)](this[_0xba1338(0x11e)](_0xba1338(0x14d)),..._0x52e7dc,async(_0x188b88,_0x2f76f3)=>{const _0x12b749=_0xba1338;let _0x4503f7=await this[_0x12b749(0x753)]({'request':_0x188b88,'schema':Ae,'ClassRef':Se,'execute':(_0x138e37,_0xc7424c)=>P['updateProfilePicture'](_0x138e37,_0xc7424c)});return _0x2f76f3[_0x12b749(0x193)](0xc8)['json'](_0x4503f7);})[_0xba1338(0x2fc)](this[_0xba1338(0x11e)]('removeProfilePicture'),..._0x52e7dc,async(_0x12ace9,_0x586348)=>{const _0x19cb92=_0xba1338;let _0x558b0c=await this[_0x19cb92(0x753)]({'request':_0x12ace9,'schema':Ae,'ClassRef':Se,'execute':(_0x576217,_0x12c92e)=>P[_0x19cb92(0x797)](_0x576217,_0x12c92e)});return _0x586348[_0x19cb92(0x193)](0xc8)[_0x19cb92(0x264)](_0x558b0c);});}},io=require(a0_0x36f96e(0x14f)),nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},pt=class{},Z=class{},Te=class{},ht=class extends Z{},gt=class extends Z{},mt=class extends G{constructor(..._0x344412){const _0x1cae56=a0_0x36f96e;super(),this['router']=(0x0,io['Router'])(),this[_0x1cae56(0x696)]['post'](this['routerPath'](_0x1cae56(0x250)),..._0x344412,async(_0x10590a,_0x29c39a)=>{const _0x3ccacf=_0x1cae56;let _0x34d1a0=await this[_0x3ccacf(0x753)]({'request':_0x10590a,'schema':Qa,'ClassRef':nt,'execute':(_0xa7cdae,_0x56f9e0)=>V['createGroup'](_0xa7cdae,_0x56f9e0)});_0x29c39a[_0x3ccacf(0x193)](0xc9)[_0x3ccacf(0x264)](_0x34d1a0);})[_0x1cae56(0x38a)](this[_0x1cae56(0x11e)](_0x1cae56(0x3b1)),..._0x344412,async(_0x13048e,_0xe63c90)=>{const _0x3f01f0=_0x1cae56;let _0x395e67=await this[_0x3f01f0(0x642)]({'request':_0x13048e,'schema':Za,'ClassRef':ct,'execute':(_0x2b4704,_0x539ad7)=>V[_0x3f01f0(0x3b1)](_0x2b4704,_0x539ad7)});_0xe63c90[_0x3f01f0(0x193)](0xc9)[_0x3f01f0(0x264)](_0x395e67);})['put'](this[_0x1cae56(0x11e)](_0x1cae56(0x686)),..._0x344412,async(_0x4742e3,_0x151dd5)=>{const _0x3d9cdf=_0x1cae56;let _0x33fd69=await this['groupValidate']({'request':_0x4742e3,'schema':eo,'ClassRef':lt,'execute':(_0x439804,_0x1253c7)=>V[_0x3d9cdf(0x686)](_0x439804,_0x1253c7)});_0x151dd5['status'](0xc9)[_0x3d9cdf(0x264)](_0x33fd69);})[_0x1cae56(0x38a)](this[_0x1cae56(0x11e)](_0x1cae56(0x6a3)),..._0x344412,async(_0x427ea4,_0x4f69e6)=>{const _0x26729b=_0x1cae56;let _0x2ec716=await this['groupValidate']({'request':_0x427ea4,'schema':to,'ClassRef':ut,'execute':(_0x4c9a3b,_0x4c0228)=>V[_0x26729b(0x6a3)](_0x4c9a3b,_0x4c0228)});_0x4f69e6[_0x26729b(0x193)](0xc9)[_0x26729b(0x264)](_0x2ec716);})[_0x1cae56(0x38a)](this[_0x1cae56(0x11e)](_0x1cae56(0x3e0)),..._0x344412,async(_0x388087,_0x27503f)=>{const _0x32e8ed=_0x1cae56;let _0x5f4e22=await this[_0x32e8ed(0x642)]({'request':_0x388087,'schema':ao,'ClassRef':pt,'execute':(_0x588ac8,_0x19c3c3)=>V[_0x32e8ed(0x3e0)](_0x588ac8,_0x19c3c3)});_0x27503f[_0x32e8ed(0x193)](0xc9)['json'](_0x5f4e22);})[_0x1cae56(0x38a)](this[_0x1cae56(0x11e)](_0x1cae56(0x537)),..._0x344412,async(_0x4ed3b4,_0x16b4ce)=>{const _0x4c4edf=_0x1cae56;let _0x5ef545=await this[_0x4c4edf(0x642)]({'request':_0x4ed3b4,'schema':so,'ClassRef':dt,'execute':(_0x2d985f,_0x2bde7b)=>V[_0x4c4edf(0x537)](_0x2d985f,_0x2bde7b)});_0x16b4ce[_0x4c4edf(0x193)](0xc9)[_0x4c4edf(0x264)](_0x5ef545);})[_0x1cae56(0x38a)](this['routerPath'](_0x1cae56(0x3e7)),..._0x344412,async(_0x43fac3,_0x1c78b5)=>{const _0x1d8bf6=_0x1cae56;let _0xcdaf84=await this[_0x1d8bf6(0x642)]({'request':_0x43fac3,'schema':Xa,'ClassRef':gt,'execute':(_0x386177,_0x4f324a)=>V[_0x1d8bf6(0x3e7)](_0x386177,_0x4f324a)});_0x1c78b5[_0x1d8bf6(0x193)](0xc9)['json'](_0xcdaf84);})[_0x1cae56(0x5aa)](this['routerPath'](_0x1cae56(0x287)),..._0x344412,async(_0x5e009c,_0x5a11a5)=>{const _0x1047f9=_0x1cae56;let _0x486438=await this[_0x1047f9(0x642)]({'request':_0x5e009c,'schema':Oe,'ClassRef':Z,'execute':(_0x4846d3,_0xf9fd4a)=>V[_0x1047f9(0x494)](_0x4846d3,_0xf9fd4a)});_0x5a11a5['status'](0xc8)[_0x1047f9(0x264)](_0x486438);})[_0x1cae56(0x5aa)](this['routerPath'](_0x1cae56(0x1fb)),..._0x344412,async(_0x3855d0,_0x5e8d0c)=>{const _0x4d11eb=_0x1cae56;let _0x47703e=await this[_0x4d11eb(0x753)]({'request':_0x3855d0,'schema':v,'ClassRef':M,'execute':_0x30f84b=>V['findGroups'](_0x30f84b)});_0x5e8d0c[_0x4d11eb(0x193)](0xc8)[_0x4d11eb(0x264)](_0x47703e);})['get'](this[_0x1cae56(0x11e)](_0x1cae56(0x2d9)),..._0x344412,async(_0x101c9d,_0x4f2d6b)=>{const _0x2f7836=_0x1cae56;let _0x28135f=await this[_0x2f7836(0x642)]({'request':_0x101c9d,'schema':Oe,'ClassRef':Z,'execute':(_0x46b215,_0x43f1d1)=>V[_0x2f7836(0x5ba)](_0x46b215,_0x43f1d1)});_0x4f2d6b[_0x2f7836(0x193)](0xc8)['json'](_0x28135f);})[_0x1cae56(0x5aa)](this['routerPath']('inviteCode'),..._0x344412,async(_0x241b03,_0x5b2227)=>{const _0x10ee66=_0x1cae56;let _0x1af69d=await this[_0x10ee66(0x642)]({'request':_0x241b03,'schema':Oe,'ClassRef':Z,'execute':(_0x4a48a0,_0x38337a)=>V[_0x10ee66(0x7cc)](_0x4a48a0,_0x38337a)});_0x5b2227[_0x10ee66(0x193)](0xc8)[_0x10ee66(0x264)](_0x1af69d);})['post'](this[_0x1cae56(0x11e)](_0x1cae56(0x578)),..._0x344412,async(_0x510c68,_0x55c67d)=>{const _0x1f5e76=_0x1cae56;let _0x22a226=await this[_0x1f5e76(0x374)]({'request':_0x510c68,'schema':bs,'ClassRef':Te,'execute':(_0x2535b1,_0xf27232)=>V[_0x1f5e76(0x34b)](_0x2535b1,_0xf27232)});_0x55c67d[_0x1f5e76(0x193)](0xc9)['json'](_0x22a226);})[_0x1cae56(0x38a)](this['routerPath'](_0x1cae56(0x2ef)),..._0x344412,async(_0x31522c,_0x491c62)=>{const _0x1ffdb4=_0x1cae56;let _0x19fb02=await this[_0x1ffdb4(0x374)]({'request':_0x31522c,'schema':bs,'ClassRef':Te,'execute':(_0x8ecf33,_0x4dac1b)=>V[_0x1ffdb4(0x2ef)](_0x8ecf33,_0x4dac1b)});_0x491c62[_0x1ffdb4(0x193)](0xc9)[_0x1ffdb4(0x264)](_0x19fb02);})['put'](this[_0x1cae56(0x11e)]('revokeInviteCode'),..._0x344412,async(_0x24e8b5,_0x359865)=>{const _0x5e6ff5=_0x1cae56;let _0x595467=await this[_0x5e6ff5(0x642)]({'request':_0x24e8b5,'schema':Oe,'ClassRef':Z,'execute':(_0x294b5e,_0x3eff85)=>V[_0x5e6ff5(0x573)](_0x294b5e,_0x3eff85)});_0x359865['status'](0xc9)[_0x5e6ff5(0x264)](_0x595467);})[_0x1cae56(0x38a)](this[_0x1cae56(0x11e)](_0x1cae56(0x2cc)),..._0x344412,async(_0x1b4334,_0x5f4152)=>{const _0x28a707=_0x1cae56;let _0x2ff151=await this[_0x28a707(0x642)]({'request':_0x1b4334,'schema':Ya,'ClassRef':ht,'execute':(_0x388bd9,_0xeb090b)=>V[_0x28a707(0x394)](_0x388bd9,_0xeb090b)});_0x5f4152[_0x28a707(0x193)](0xc9)[_0x28a707(0x264)](_0x2ff151);})['delete'](this[_0x1cae56(0x11e)]('leaveGroup'),..._0x344412,async(_0x4c69f9,_0xeb1643)=>{const _0x126563=_0x1cae56;let _0x4a7dd1=await this[_0x126563(0x642)]({'request':_0x4c69f9,'schema':{},'ClassRef':Z,'execute':(_0x478445,_0x462992)=>V[_0x126563(0x665)](_0x478445,_0x462992)});_0xeb1643[_0x126563(0x193)](0xc8)['json'](_0x4a7dd1);});}},no=require('express'),ft=class extends G{constructor(_0x453966,..._0x2ba987){const _0x89ceb=a0_0x36f96e;super(),this[_0x89ceb(0x33c)]=_0x453966,this[_0x89ceb(0x696)]=(0x0,no[_0x89ceb(0x5a6)])();let _0x2139d7=_0x453966[_0x89ceb(0x5aa)](_0x89ceb(0x11c));this[_0x89ceb(0x696)][_0x89ceb(0x784)](_0x89ceb(0x506),..._0x2ba987,async(_0x56c7e3,_0x228b72)=>{const _0x325f57=_0x89ceb;let {instanceName:_0x28922a,apikey:_0x384ad9,number:_0x5d1c74}=_0x56c7e3[_0x325f57(0x49d)],_0x3f943b=await ce[_0x325f57(0x50f)]({'instanceName':_0x28922a,'apikey':_0x384ad9,'number':_0x5d1c74});return _0x228b72[_0x325f57(0x193)](0xc9)['json'](_0x3f943b);})[_0x89ceb(0x38a)](this[_0x89ceb(0x11e)](_0x89ceb(0x18a)),..._0x2ba987,async(_0x4b24b9,_0x13f644)=>{const _0x519454=_0x89ceb;let _0x5db3ac=await this['dataValidate']({'request':_0x4b24b9,'schema':v,'ClassRef':M,'execute':_0xc2dd69=>ce[_0x519454(0x64e)](_0xc2dd69)});return _0x13f644[_0x519454(0x193)](0xc8)[_0x519454(0x264)](_0x5db3ac);})[_0x89ceb(0x5aa)](this[_0x89ceb(0x11e)]('connect'),..._0x2ba987,async(_0x24791f,_0x135165)=>{const _0x1b16ec=_0x89ceb;let _0x1cccd3=await this[_0x1b16ec(0x753)]({'request':_0x24791f,'schema':v,'ClassRef':M,'execute':_0x37a74b=>ce['connectToWhatsappController'](_0x37a74b)});return _0x135165[_0x1b16ec(0x193)](0xc8)[_0x1b16ec(0x264)](_0x1cccd3);})[_0x89ceb(0x5aa)](this[_0x89ceb(0x11e)](_0x89ceb(0x3c3)),..._0x2ba987,async(_0x4cdd82,_0xd67489)=>{const _0x428f67=_0x89ceb;let _0x561eb7=await this[_0x428f67(0x753)]({'request':_0x4cdd82,'schema':v,'ClassRef':M,'execute':_0x17c0df=>ce[_0x428f67(0x3c3)](_0x17c0df)});return _0xd67489[_0x428f67(0x193)](0xc8)['json'](_0x561eb7);})[_0x89ceb(0x5aa)](this[_0x89ceb(0x11e)](_0x89ceb(0x54c),!0x1),..._0x2ba987,async(_0x349717,_0x4ccd8f)=>{const _0x264bea=_0x89ceb;let _0x2e8203=await this[_0x264bea(0x753)]({'request':_0x349717,'schema':null,'ClassRef':M,'execute':_0x14c4fc=>ce[_0x264bea(0x54c)](_0x14c4fc)});return _0x4ccd8f['status'](0xc8)[_0x264bea(0x264)](_0x2e8203);})[_0x89ceb(0x2fc)](this['routerPath']('logout'),..._0x2ba987,async(_0xb3dd40,_0x24cfd8)=>{const _0x5a8365=_0x89ceb;let _0x215226=await this[_0x5a8365(0x753)]({'request':_0xb3dd40,'schema':v,'ClassRef':M,'execute':_0x591913=>ce['logout'](_0x591913)});return _0x24cfd8['status'](0xc8)[_0x5a8365(0x264)](_0x215226);})[_0x89ceb(0x2fc)](this[_0x89ceb(0x11e)](_0x89ceb(0x2fc)),..._0x2ba987,async(_0x5e4b6b,_0xc5975)=>{const _0x2f0dfa=_0x89ceb;let _0x49ff88=await this['dataValidate']({'request':_0x5e4b6b,'schema':v,'ClassRef':M,'execute':_0x5b96d2=>ce['deleteInstance'](_0x5b96d2)});return _0xc5975[_0x2f0dfa(0x193)](0xc8)[_0x2f0dfa(0x264)](_0x49ff88);});}},co=require(a0_0x36f96e(0x14f)),Ms=class{},z=class extends Ms{},wt=class extends z{},yt=class extends z{},bt=class extends z{},St=class extends z{},Ie=class extends z{},Mt=class extends z{},Ct=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},Rt=class{},$t=class extends G{constructor(..._0x5826b2){const _0x17a04d=a0_0x36f96e;super(),this['router']=(0x0,co[_0x17a04d(0x5a6)])(),this[_0x17a04d(0x696)][_0x17a04d(0x784)](this[_0x17a04d(0x11e)]('sendText'),..._0x5826b2,async(_0x3e4fa9,_0x1bb694)=>{const _0x5aaa28=_0x17a04d;try{let _0x4d2f86=await this[_0x5aaa28(0x753)]({'request':_0x3e4fa9,'schema':Ra,'ClassRef':wt,'execute':(_0x57dca0,_0x43d7a0)=>W[_0x5aaa28(0x347)](_0x57dca0,_0x43d7a0)});return _0x1bb694['status'](0xc9)[_0x5aaa28(0x264)](_0x4d2f86);}catch(_0x1f024b){console[_0x5aaa28(0x370)](_0x5aaa28(0x109),_0x1f024b),console[_0x5aaa28(0x370)](_0x5aaa28(0x367),_0x3e4fa9[_0x5aaa28(0x49d)]);}})[_0x17a04d(0x784)](this[_0x17a04d(0x11e)](_0x17a04d(0x240)),..._0x5826b2,async(_0x2e3064,_0x2b79e7)=>{const _0x32af94=_0x17a04d;let _0x4c4aae=await this[_0x32af94(0x753)]({'request':_0x2e3064,'schema':Ta,'ClassRef':Ie,'execute':(_0x46878d,_0x26c087)=>W[_0x32af94(0x240)](_0x46878d,_0x26c087)});return _0x2b79e7[_0x32af94(0x193)](0xc9)[_0x32af94(0x264)](_0x4c4aae);})[_0x17a04d(0x784)](this['routerPath'](_0x17a04d(0x6e4)),..._0x5826b2,async(_0x1ba09a,_0x4a340f)=>{const _0xf043c5=_0x17a04d;let _0x50205f=await this['dataValidate']({'request':_0x1ba09a,'schema':Da,'ClassRef':St,'execute':(_0x5db36c,_0x312b3d)=>W[_0xf043c5(0x6e4)](_0x5db36c,_0x312b3d)});return _0x4a340f[_0xf043c5(0x193)](0xc9)[_0xf043c5(0x264)](_0x50205f);})[_0x17a04d(0x784)](this[_0x17a04d(0x11e)](_0x17a04d(0x23f)),..._0x5826b2,async(_0x36c43d,_0xc4a209)=>{const _0xef456f=_0x17a04d;let _0x2b42a4=await this[_0xef456f(0x753)]({'request':_0x36c43d,'schema':Ia,'ClassRef':Ie,'execute':(_0x547d8a,_0x5757f4)=>W[_0xef456f(0x23f)](_0x547d8a,_0x5757f4)});return _0xc4a209[_0xef456f(0x193)](0xc9)[_0xef456f(0x264)](_0x2b42a4);})['post'](this['routerPath'](_0x17a04d(0x50e)),..._0x5826b2,async(_0x11692e,_0x1b1699)=>{const _0xf236df=_0x17a04d;let _0x165a75=await this[_0xf236df(0x753)]({'request':_0x11692e,'schema':_a,'ClassRef':Ct,'execute':(_0x1b2760,_0x565961)=>W['sendButtons'](_0x1b2760,_0x565961)});return _0x1b1699[_0xf236df(0x193)](0xc9)['json'](_0x165a75);})['post'](this[_0x17a04d(0x11e)](_0x17a04d(0x543)),..._0x5826b2,async(_0x535264,_0x2063fe)=>{const _0x54c09d=_0x17a04d;let _0x11d6bd=await this['dataValidate']({'request':_0x535264,'schema':Pa,'ClassRef':Et,'execute':(_0x18c6b6,_0x796420)=>W[_0x54c09d(0x543)](_0x18c6b6,_0x796420)});return _0x2063fe[_0x54c09d(0x193)](0xc9)[_0x54c09d(0x264)](_0x11d6bd);})[_0x17a04d(0x784)](this[_0x17a04d(0x11e)](_0x17a04d(0x151)),..._0x5826b2,async(_0x4c3ebf,_0x2bef78)=>{const _0x5c7afa=_0x17a04d;let _0x3bbb32=await this['dataValidate']({'request':_0x4c3ebf,'schema':ka,'ClassRef':vt,'execute':(_0x30f308,_0x4eb2b6)=>W['sendList'](_0x30f308,_0x4eb2b6)});return _0x2bef78[_0x5c7afa(0x193)](0xc9)['json'](_0x3bbb32);})[_0x17a04d(0x784)](this[_0x17a04d(0x11e)](_0x17a04d(0x74e)),..._0x5826b2,async(_0x231d1f,_0x5e9025)=>{const _0x22e89a=_0x17a04d;let _0x3d068f=await this[_0x22e89a(0x753)]({'request':_0x231d1f,'schema':ja,'ClassRef':Nt,'execute':(_0x647763,_0x59df15)=>W[_0x22e89a(0x74e)](_0x647763,_0x59df15)});return _0x5e9025[_0x22e89a(0x193)](0xc9)[_0x22e89a(0x264)](_0x3d068f);})[_0x17a04d(0x784)](this[_0x17a04d(0x11e)]('sendReaction'),..._0x5826b2,async(_0x56e28b,_0x26b9f1)=>{const _0xb55ec6=_0x17a04d;let _0xb7b148=await this[_0xb55ec6(0x753)]({'request':_0x56e28b,'schema':La,'ClassRef':Rt,'execute':(_0x256978,_0xd6f0cc)=>W[_0xb55ec6(0x616)](_0x256978,_0xd6f0cc)});return _0x26b9f1[_0xb55ec6(0x193)](0xc9)[_0xb55ec6(0x264)](_0xb7b148);})['post'](this[_0x17a04d(0x11e)](_0x17a04d(0x224)),..._0x5826b2,async(_0xa2875f,_0x38fdea)=>{const _0x5de98d=_0x17a04d;let _0x4447ea=await this[_0x5de98d(0x753)]({'request':_0xa2875f,'schema':xa,'ClassRef':bt,'execute':(_0x55e792,_0x1e79de)=>W[_0x5de98d(0x224)](_0x55e792,_0x1e79de)});return _0x38fdea[_0x5de98d(0x193)](0xc9)['json'](_0x4447ea);})[_0x17a04d(0x784)](this['routerPath'](_0x17a04d(0x4c5)),..._0x5826b2,async(_0x339ca3,_0x3578bf)=>{const _0x2029ff=_0x17a04d;let _0x1837cf=await this['dataValidate']({'request':_0x339ca3,'schema':Oa,'ClassRef':yt,'execute':(_0x3364f9,_0x497671)=>W[_0x2029ff(0x4c5)](_0x3364f9,_0x497671)});return _0x3578bf['status'](0xc9)['json'](_0x1837cf);})[_0x17a04d(0x784)](this[_0x17a04d(0x11e)](_0x17a04d(0x186)),..._0x5826b2,async(_0x3d5a35,_0x48cae9)=>{const _0x5011ff=_0x17a04d;let _0x5bd411=await this[_0x5011ff(0x753)]({'request':_0x3d5a35,'schema':Aa,'ClassRef':Mt,'execute':(_0x2d5977,_0x30b301)=>W[_0x5011ff(0x186)](_0x2d5977,_0x30b301)});return _0x48cae9['status'](0xc9)[_0x5011ff(0x264)](_0x5bd411);});}},lo=require(a0_0x36f96e(0x14f)),At=class{},Ot=class extends G{constructor(..._0x35bfe3){const _0x212b31=a0_0x36f96e;super(),this[_0x212b31(0x696)]=(0x0,lo['Router'])(),this[_0x212b31(0x696)][_0x212b31(0x784)](this['routerPath'](_0x212b31(0x7d7)),..._0x35bfe3,async(_0x284581,_0x25cfbb)=>{let _0x157bcf=await this['dataValidate']({'request':_0x284581,'schema':oo,'ClassRef':At,'execute':(_0x34da14,_0x4d8fe9)=>Cs['createWebhook'](_0x34da14,_0x4d8fe9)});_0x25cfbb['status'](0xc9)['json'](_0x157bcf);})[_0x212b31(0x5aa)](this[_0x212b31(0x11e)](_0x212b31(0x6a2)),..._0x35bfe3,async(_0x53bcd1,_0x1e85fd)=>{const _0x7f545a=_0x212b31;let _0x4d52b1=await this[_0x7f545a(0x753)]({'request':_0x53bcd1,'schema':v,'ClassRef':M,'execute':_0x10f286=>Cs[_0x7f545a(0x245)](_0x10f286)});_0x1e85fd[_0x7f545a(0x193)](0xc8)[_0x7f545a(0x264)](_0x4d52b1);});}},uo=require(a0_0x36f96e(0x14f)),y=new $(a0_0x36f96e(0x5b2)),Tt=class extends G{constructor(..._0x4b8139){const _0x54515d=a0_0x36f96e;super(),this[_0x54515d(0x696)]=(0x0,uo['Router'])(),this[_0x54515d(0x696)]['post'](this[_0x54515d(0x11e)](_0x54515d(0x6db)),..._0x4b8139,async(_0x27e2ee,_0x2d3df5)=>{const _0x532a1d=_0x54515d;let _0x1074a4=_0x27e2ee[_0x532a1d(0x49d)];y[_0x532a1d(0x3a8)]('request\x20received\x20in\x20scheduleMessage'),y[_0x532a1d(0x3a8)](_0x532a1d(0x48a)),y[_0x532a1d(0x3a8)](_0x27e2ee[_0x532a1d(0x49d)]);let _0x3dc184=await this[_0x532a1d(0x753)]({'request':_0x27e2ee,'schema':v,'ClassRef':M,'execute':_0x5b9523=>O[_0x532a1d(0x6fd)](_0x5b9523,_0x1074a4)});_0x2d3df5[_0x532a1d(0x193)](0xc8)[_0x532a1d(0x264)](_0x3dc184);})[_0x54515d(0x5aa)](this[_0x54515d(0x11e)](_0x54515d(0x6db)),..._0x4b8139,async(_0x190bb1,_0x5ee117)=>{const _0x45b8f5=_0x54515d;let _0x58bce6=await this[_0x45b8f5(0x753)]({'request':_0x190bb1,'schema':v,'ClassRef':M,'execute':_0x34c4e7=>O[_0x45b8f5(0x61b)](_0x34c4e7)});_0x5ee117[_0x45b8f5(0x193)](0xc8)[_0x45b8f5(0x264)](_0x58bce6);})[_0x54515d(0x2fc)](this[_0x54515d(0x11e)](_0x54515d(0x782)),..._0x4b8139,async(_0x1be994,_0x3a3174)=>{const _0x2cf9ab=_0x54515d;y[_0x2cf9ab(0x3a8)](_0x2cf9ab(0x587));let _0xf7aa4f=await this[_0x2cf9ab(0x753)]({'request':_0x1be994,'schema':v,'ClassRef':M,'execute':_0x2eaed9=>O[_0x2cf9ab(0x782)](_0x2eaed9)});_0x3a3174['status'](0xc8)[_0x2cf9ab(0x264)](_0xf7aa4f);})['post'](this[_0x54515d(0x11e)](_0x54515d(0x136)),..._0x4b8139,async(_0x1e0129,_0x5012aa)=>{const _0x27d6d3=_0x54515d;let _0x125f59=_0x1e0129[_0x27d6d3(0x49d)];y['verbose']('request\x20received\x20in\x20starFlow'),y[_0x27d6d3(0x3a8)](_0x27d6d3(0x48a)),y['verbose'](_0x1e0129['body']);let _0x265544=await this['dataValidate']({'request':_0x1e0129,'schema':v,'ClassRef':M,'execute':_0x35d1e1=>O['startFlow'](_0x35d1e1,_0x125f59)});_0x5012aa['status'](0xc8)[_0x27d6d3(0x264)](_0x265544);})[_0x54515d(0x5aa)](this[_0x54515d(0x11e)](_0x54515d(0x775)),..._0x4b8139,async(_0x950e2a,_0x2dad43)=>{const _0x7cf9c6=_0x54515d;y[_0x7cf9c6(0x3a8)]('request\x20received\x20in\x20getAutomateSystem');let _0x2f2c49=await this[_0x7cf9c6(0x753)]({'request':_0x950e2a,'schema':v,'ClassRef':M,'execute':_0x286682=>O[_0x7cf9c6(0x775)](_0x286682)});_0x2dad43[_0x7cf9c6(0x193)](0xc8)['json'](_0x2f2c49);})[_0x54515d(0x5aa)](this[_0x54515d(0x11e)](_0x54515d(0x1b1)),..._0x4b8139,async(_0x1f7ce9,_0x4c3d71)=>{const _0x3158eb=_0x54515d;y[_0x3158eb(0x3a8)](_0x3158eb(0x3d9));let _0xdc1549=await this['dataValidate']({'request':_0x1f7ce9,'schema':v,'ClassRef':M,'execute':_0xdd5ff9=>O['getAutomateSystem'](_0xdd5ff9)});_0x4c3d71['status'](0xc8)[_0x3158eb(0x264)](_0xdc1549);})[_0x54515d(0x784)](this[_0x54515d(0x11e)](_0x54515d(0x6be)),..._0x4b8139,async(_0x2ee25a,_0x44bf46)=>{const _0x454394=_0x54515d;let _0x2eae3a=_0x2ee25a['body'];y[_0x454394(0x3a8)]('request\x20received\x20in\x20updateAgent'),y[_0x454394(0x3a8)]('request\x20body:\x20'),y[_0x454394(0x3a8)](_0x2ee25a[_0x454394(0x49d)]);let _0x2c6326=await this[_0x454394(0x753)]({'request':_0x2ee25a,'schema':v,'ClassRef':M,'execute':_0x146005=>O[_0x454394(0x6be)](_0x146005,_0x2eae3a)});_0x44bf46[_0x454394(0x193)](0xc8)[_0x454394(0x264)](_0x2c6326);})['post'](this[_0x54515d(0x11e)]('updateCustomFields'),..._0x4b8139,async(_0x46a7bd,_0x39b157)=>{const _0x1161cd=_0x54515d;let _0x5c97cb=_0x46a7bd[_0x1161cd(0x49d)];y['verbose'](_0x1161cd(0x552)),y['verbose']('request\x20body:\x20'),y[_0x1161cd(0x3a8)](_0x46a7bd[_0x1161cd(0x49d)]);let _0x1606e5=await this[_0x1161cd(0x753)]({'request':_0x46a7bd,'schema':v,'ClassRef':M,'execute':_0x5f14fd=>O[_0x1161cd(0x613)](_0x5f14fd,_0x5c97cb)});_0x39b157[_0x1161cd(0x193)](0xc8)['json'](_0x1606e5);})[_0x54515d(0x784)](this[_0x54515d(0x11e)]('updateAutoCompleteMessages'),..._0x4b8139,async(_0x38a0d7,_0x339b9b)=>{const _0x4c5290=_0x54515d;let _0x684148=_0x38a0d7['body'];y[_0x4c5290(0x3a8)](_0x4c5290(0x475)),y[_0x4c5290(0x3a8)](_0x4c5290(0x48a)),y[_0x4c5290(0x3a8)](_0x38a0d7['body']);let _0x371c65=await this['dataValidate']({'request':_0x38a0d7,'schema':v,'ClassRef':M,'execute':_0x9668a3=>O[_0x4c5290(0x523)](_0x9668a3,_0x684148)});_0x339b9b[_0x4c5290(0x193)](0xc8)[_0x4c5290(0x264)](_0x371c65);})[_0x54515d(0x784)](this[_0x54515d(0x11e)]('updateFlowConfig'),..._0x4b8139,async(_0x316774,_0x344c2d)=>{const _0x5b9997=_0x54515d;let _0x126ea4=_0x316774['body'];y[_0x5b9997(0x3a8)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x5b9997(0x3a8)](_0x5b9997(0x48a)),y['verbose'](_0x316774[_0x5b9997(0x49d)]);let _0x2b76bc=await this[_0x5b9997(0x753)]({'request':_0x316774,'schema':v,'ClassRef':M,'execute':_0x34fc4c=>O['updateFlowConfig'](_0x34fc4c,_0x126ea4)});_0x344c2d[_0x5b9997(0x193)](0xc8)[_0x5b9997(0x264)](_0x2b76bc);})['post'](this['routerPath'](_0x54515d(0x7d1)),..._0x4b8139,async(_0x4319b4,_0x3dc3a3)=>{const _0x401380=_0x54515d;let _0x4ef9f0=_0x4319b4['body'];y['verbose'](_0x401380(0x16d)),y['verbose']('request\x20body:\x20'),y[_0x401380(0x3a8)](_0x4319b4[_0x401380(0x49d)]);let _0x10a778=await this['dataValidate']({'request':_0x4319b4,'schema':v,'ClassRef':M,'execute':_0x5c36e0=>O[_0x401380(0x7d1)](_0x5c36e0,_0x4ef9f0)});_0x3dc3a3['status'](0xc8)[_0x401380(0x264)](_0x10a778);})['post'](this[_0x54515d(0x11e)]('fetchConversation'),..._0x4b8139,async(_0x194918,_0x296113)=>{const _0x4cbda8=_0x54515d;let _0x7f14a4=_0x194918['body'];y[_0x4cbda8(0x3a8)](_0x4cbda8(0x373)),y['verbose']('request\x20body:\x20'),y[_0x4cbda8(0x3a8)](_0x194918[_0x4cbda8(0x49d)]);let _0x245694=await this[_0x4cbda8(0x753)]({'request':_0x194918,'schema':v,'ClassRef':M,'execute':_0x44e35a=>O['fetchConversation'](_0x44e35a,_0x7f14a4)});_0x296113[_0x4cbda8(0x193)](0xc8)[_0x4cbda8(0x264)](_0x245694);})['post'](this['routerPath'](_0x54515d(0x5ef)),..._0x4b8139,async(_0x141273,_0x108c3c)=>{const _0x36dc12=_0x54515d;let _0x273f08=_0x141273[_0x36dc12(0x49d)];y['verbose'](_0x36dc12(0x2d6)),y['verbose']('request\x20body:\x20'),y[_0x36dc12(0x3a8)](_0x141273[_0x36dc12(0x49d)]);let _0x2b47f8=await this[_0x36dc12(0x753)]({'request':_0x141273,'schema':v,'ClassRef':M,'execute':_0x951318=>O[_0x36dc12(0x5ef)](_0x951318,_0x273f08)});_0x108c3c[_0x36dc12(0x193)](0xc8)[_0x36dc12(0x264)](_0x2b47f8);})[_0x54515d(0x2fc)](this[_0x54515d(0x11e)](_0x54515d(0x421)),..._0x4b8139,async(_0x1cf31f,_0x525dbe)=>{const _0x566ca9=_0x54515d;let _0x4d0885=_0x1cf31f[_0x566ca9(0x49d)];y[_0x566ca9(0x3a8)](_0x566ca9(0x331)),y[_0x566ca9(0x3a8)](_0x566ca9(0x48a)),y['verbose'](_0x1cf31f[_0x566ca9(0x49d)]);let _0x2d1b33=await this[_0x566ca9(0x753)]({'request':_0x1cf31f,'schema':v,'ClassRef':M,'execute':_0x108d1e=>O[_0x566ca9(0x421)](_0x108d1e,_0x4d0885)});_0x525dbe[_0x566ca9(0x193)](0xc8)[_0x566ca9(0x264)](_0x2d1b33);})[_0x54515d(0x784)](this[_0x54515d(0x11e)](_0x54515d(0x26a)),..._0x4b8139,async(_0x524dfa,_0x493c7d)=>{const _0x40b5b4=_0x54515d;let _0x9f3c42=_0x524dfa[_0x40b5b4(0x49d)],_0x130594=_0x524dfa['headers'][_0x40b5b4(0x69e)];y[_0x40b5b4(0x3a8)]('request\x20received\x20in\x20createFlow'),y[_0x40b5b4(0x3a8)](_0x40b5b4(0x48a)),y[_0x40b5b4(0x3a8)](_0x524dfa[_0x40b5b4(0x49d)]);let _0x14b090=await this[_0x40b5b4(0x753)]({'request':_0x524dfa,'schema':v,'ClassRef':M,'execute':_0x3ffce3=>O[_0x40b5b4(0x3ec)](_0x3ffce3,_0x9f3c42,_0x130594)});_0x493c7d['status'](0xc8)[_0x40b5b4(0x264)](_0x14b090);})[_0x54515d(0x784)](this['routerPath'](_0x54515d(0x4ae)),..._0x4b8139,async(_0x4bde7a,_0x2c59e6)=>{const _0x211e49=_0x54515d;let _0x4c0724=_0x4bde7a[_0x211e49(0x49d)],_0x5ad74b=_0x4bde7a[_0x211e49(0x450)][_0x211e49(0x69e)];y[_0x211e49(0x3a8)]('request\x20received\x20in\x20editFlow'),y['verbose']('request\x20body:\x20'),y['verbose'](_0x4bde7a[_0x211e49(0x49d)]),delete _0x4c0724[_0x211e49(0x5b3)],delete _0x4c0724[_0x211e49(0x800)],delete _0x4c0724[_0x211e49(0x123)],delete _0x4c0724['conditions'];let _0xca87c=await this[_0x211e49(0x753)]({'request':_0x4bde7a,'schema':v,'ClassRef':M,'execute':_0xac7984=>O[_0x211e49(0x739)](_0xac7984,_0x4c0724,_0x5ad74b)});_0x2c59e6[_0x211e49(0x193)](0xc8)[_0x211e49(0x264)](_0xca87c);})[_0x54515d(0x784)](this[_0x54515d(0x11e)](_0x54515d(0x5ab)),..._0x4b8139,async(_0x23f948,_0x37b062)=>{const _0xe3885=_0x54515d;let _0x814daf=_0x23f948[_0xe3885(0x49d)],_0x1f75e9=_0x23f948[_0xe3885(0x450)][_0xe3885(0x69e)];y[_0xe3885(0x3a8)]('request\x20received\x20in\x20editFlow'),y[_0xe3885(0x3a8)]('request\x20body:\x20'),y['verbose'](_0x23f948[_0xe3885(0x49d)]);let _0x3730b5=await this[_0xe3885(0x753)]({'request':_0x23f948,'schema':v,'ClassRef':M,'execute':_0x378e0c=>O[_0xe3885(0x7f5)](_0x378e0c,_0x814daf,_0x1f75e9)});_0x37b062[_0xe3885(0x193)](0xc8)[_0xe3885(0x264)](_0x3730b5);})['post'](this[_0x54515d(0x11e)](_0x54515d(0x509)),..._0x4b8139,async(_0x595bf4,_0x4df00f)=>{const _0x16e6dd=_0x54515d;let _0x3d8347=_0x595bf4['body'],_0xe6d19e=_0x595bf4[_0x16e6dd(0x450)][_0x16e6dd(0x69e)];y[_0x16e6dd(0x3a8)](_0x16e6dd(0x4e5)),y[_0x16e6dd(0x3a8)](_0x16e6dd(0x48a)),y[_0x16e6dd(0x3a8)](_0x595bf4[_0x16e6dd(0x49d)]);let _0x4e4d49=await this[_0x16e6dd(0x753)]({'request':_0x595bf4,'schema':v,'ClassRef':M,'execute':_0x5c63b2=>O[_0x16e6dd(0x424)](_0x5c63b2,_0x3d8347,_0xe6d19e)});_0x4df00f[_0x16e6dd(0x193)](0xc8)[_0x16e6dd(0x264)](_0x4e4d49);})[_0x54515d(0x784)](this[_0x54515d(0x11e)]('editflowvaredit'),..._0x4b8139,async(_0x4aef16,_0x585e9c)=>{const _0x45a83b=_0x54515d;let _0x54c69f=_0x4aef16['body'],_0x364f8f=_0x4aef16['headers']['apikey'];y['verbose'](_0x45a83b(0x4e5)),y[_0x45a83b(0x3a8)](_0x45a83b(0x48a)),y[_0x45a83b(0x3a8)](_0x4aef16[_0x45a83b(0x49d)]);let _0x49cec9=await this[_0x45a83b(0x753)]({'request':_0x4aef16,'schema':v,'ClassRef':M,'execute':_0x43c2d8=>O[_0x45a83b(0x80f)](_0x43c2d8,_0x54c69f,_0x364f8f)});_0x585e9c['status'](0xc8)[_0x45a83b(0x264)](_0x49cec9);})['post'](this['routerPath'](_0x54515d(0x237)),..._0x4b8139,async(_0x2aed55,_0x3702a7)=>{const _0x56e77e=_0x54515d;let _0xf28050=_0x2aed55[_0x56e77e(0x49d)],_0x31a36f=_0x2aed55[_0x56e77e(0x450)][_0x56e77e(0x69e)];y[_0x56e77e(0x3a8)](_0x56e77e(0x653)),y[_0x56e77e(0x3a8)](_0x56e77e(0x48a)),y[_0x56e77e(0x3a8)](_0x2aed55['body']);let _0x19844f=await this[_0x56e77e(0x753)]({'request':_0x2aed55,'schema':v,'ClassRef':M,'execute':_0x4a96c6=>O[_0x56e77e(0x293)](_0x4a96c6,_0xf28050,_0x31a36f)});_0x3702a7[_0x56e77e(0x193)](0xc8)['json'](_0x19844f);})[_0x54515d(0x784)](this[_0x54515d(0x11e)](_0x54515d(0x484)),..._0x4b8139,async(_0x21b60e,_0x2032e5)=>{const _0x436fa3=_0x54515d;let _0x374f53=_0x21b60e[_0x436fa3(0x49d)],_0x44bea4=_0x21b60e[_0x436fa3(0x450)][_0x436fa3(0x69e)];y['verbose']('request\x20received\x20in\x20editFlowcondition'),y['verbose'](_0x436fa3(0x48a)),y[_0x436fa3(0x3a8)](_0x21b60e['body']);let _0x715b18=await this[_0x436fa3(0x753)]({'request':_0x21b60e,'schema':v,'ClassRef':M,'execute':_0x487d14=>O['editFlowCondition'](_0x487d14,_0x374f53,_0x44bea4)});_0x2032e5[_0x436fa3(0x193)](0xc8)['json'](_0x715b18);})[_0x54515d(0x784)](this['routerPath']('editflowvariable'),..._0x4b8139,async(_0x1b443c,_0x303138)=>{const _0x3a6967=_0x54515d;let _0x4ad3c6=_0x1b443c[_0x3a6967(0x49d)],_0x4b7e32=_0x1b443c[_0x3a6967(0x450)][_0x3a6967(0x69e)];y['verbose']('request\x20received\x20in\x20editFlowvariable'),y[_0x3a6967(0x3a8)]('request\x20body:\x20'),y['verbose'](_0x1b443c[_0x3a6967(0x49d)]);let _0x2bffa7=await this[_0x3a6967(0x753)]({'request':_0x1b443c,'schema':v,'ClassRef':M,'execute':_0x33b05e=>O[_0x3a6967(0x114)](_0x33b05e,_0x4ad3c6,_0x4b7e32)});_0x303138[_0x3a6967(0x193)](0xc8)[_0x3a6967(0x264)](_0x2bffa7);})[_0x54515d(0x784)](this[_0x54515d(0x11e)](_0x54515d(0x7de)),..._0x4b8139,async(_0x531096,_0xb086ff)=>{const _0x26535f=_0x54515d;let _0x19a20e=_0x531096[_0x26535f(0x49d)];y[_0x26535f(0x3a8)]('request\x20received\x20in\x20getFlow'),y[_0x26535f(0x3a8)](_0x26535f(0x48a)),y['verbose'](_0x531096[_0x26535f(0x49d)]);let _0x367c0e=await this[_0x26535f(0x753)]({'request':_0x531096,'schema':v,'ClassRef':M,'execute':_0x4c29b0=>O[_0x26535f(0x47e)](_0x4c29b0,_0x19a20e)});_0xb086ff[_0x26535f(0x193)](0xc8)[_0x26535f(0x264)](_0x367c0e);})[_0x54515d(0x2fc)](this[_0x54515d(0x11e)](_0x54515d(0x47b)),..._0x4b8139,async(_0x52ce5e,_0x1ee14a)=>{const _0x4d1f7d=_0x54515d;let _0x34794c=_0x52ce5e[_0x4d1f7d(0x49d)],_0xb1b85a=_0x52ce5e[_0x4d1f7d(0x450)]['apikey'];y['verbose'](_0x4d1f7d(0x1e5)),y[_0x4d1f7d(0x3a8)](_0x4d1f7d(0x48a)),y['verbose'](_0x52ce5e[_0x4d1f7d(0x49d)]);let _0x2c2f1f=await this[_0x4d1f7d(0x753)]({'request':_0x52ce5e,'schema':v,'ClassRef':M,'execute':_0x131d31=>O[_0x4d1f7d(0x268)](_0x131d31,_0x34794c,_0xb1b85a)});_0x1ee14a[_0x4d1f7d(0x193)](0xc8)[_0x4d1f7d(0x264)](_0x2c2f1f);})['get'](this['routerPath']('allflows'),..._0x4b8139,async(_0x44aefa,_0x3504aa)=>{const _0x90104c=_0x54515d;y[_0x90104c(0x3a8)](_0x90104c(0x528));let _0x4e9863=await this[_0x90104c(0x753)]({'request':_0x44aefa,'schema':v,'ClassRef':M,'execute':_0x3b2d60=>O['allFlows'](_0x3b2d60)});_0x3504aa[_0x90104c(0x193)](0xc8)[_0x90104c(0x264)](_0x4e9863);});}},mo=T(require(a0_0x36f96e(0x804))),ee={};function po(_0x338beb,_0x83a554,_0x16c7cb,_0x26e06c){ee[_0x338beb]||(ee[_0x338beb]={}),ee[_0x338beb][_0x83a554]={'id':_0x83a554,'response':_0x16c7cb,'events':_0x26e06c};}function ho(_0x559042,_0xf28b43){!ee[_0x559042]||!ee[_0x559042][_0xf28b43]||delete ee[_0x559042][_0xf28b43];}function U(_0x1d5bec,_0x2e6de6,_0x10ac53){const _0x3959a3=a0_0x36f96e;if(!ee[_0x1d5bec])return;let _0x30e439=_0x3959a3(0x681)+JSON[_0x3959a3(0x751)](_0x10ac53)+'\x0a\x0a';Object[_0x3959a3(0x1b5)](ee[_0x1d5bec])[_0x3959a3(0x1f3)](_0x26b4be=>{const _0x2399fd=_0x3959a3;_0x26b4be[_0x2399fd(0x1e8)][_0x2399fd(0x4ba)](_0x2e6de6)&&_0x26b4be[_0x2399fd(0x390)][_0x2399fd(0x5e2)](_0x30e439);});}function go(){const _0x226c94=a0_0x36f96e;let _0x4f1ff3={};for(let _0x1f7c76 in ee)_0x4f1ff3[_0x1f7c76]=Object[_0x226c94(0x1b5)](ee[_0x1f7c76])[_0x226c94(0x25f)](_0x42add6=>({'id':_0x42add6['id'],'events':_0x42add6[_0x226c94(0x1e8)]}));return _0x4f1ff3;}var fo=require('uuid'),vs=require(a0_0x36f96e(0x64d)),Es=class{},br=new vs[(a0_0x36f96e(0x2d1))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Sr=new vs[(a0_0x36f96e(0x2d1))]({'_id':{'type':String,'default':a0_0x36f96e(0x6d1)},'WebhookGlobal':{'type':br},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Me=A?.[a0_0x36f96e(0x5af)](Es['name'],Sr,a0_0x36f96e(0x6ec)),Mr=mo[a0_0x36f96e(0x3dd)][a0_0x36f96e(0x41f)](__dirname,'downloads'),xe=(0x0,It['Router'])(),Cr=b[a0_0x36f96e(0x5aa)](a0_0x36f96e(0x11c))['TYPE'],oe=[Ma,Ca,Na[Cr]];xe[a0_0x36f96e(0x600)](a0_0x36f96e(0x177),It['default'][a0_0x36f96e(0x799)](Mr))[a0_0x36f96e(0x5aa)](a0_0x36f96e(0x499),async(_0x1594ca,_0x195e69)=>{const _0xa0499=a0_0x36f96e;console['log'](_0xa0499(0x176));let _0xd09b4e=_0x1594ca[_0xa0499(0x165)][_0xa0499(0x582)],_0x239870=(_0x1594ca['query'][_0xa0499(0x1e8)]||'')[_0xa0499(0x71a)](','),_0x3a8a4b=(0x0,fo['v4'])();console[_0xa0499(0x3bb)]('Instance\x20ID:',_0xd09b4e),console[_0xa0499(0x3bb)](_0xa0499(0x150),_0x239870);let _0x7a9360=b[_0xa0499(0x5aa)](_0xa0499(0x11c))[_0xa0499(0x3c8)],_0x3827b1=_0x1594ca[_0xa0499(0x4f4)][_0xa0499(0x69e)];if(console[_0xa0499(0x3bb)]('API\x20Key\x20from\x20Request:',_0x3827b1),_0x7a9360[_0xa0499(0x3b8)]!==_0x3827b1){console[_0xa0499(0x3bb)](_0xa0499(0x6ad));try{let _0x6b9c7=await pe[_0xa0499(0x1df)][_0xa0499(0x6a2)](_0xd09b4e);if(console['log'](_0xa0499(0x233),_0x6b9c7),!_0x6b9c7||_0x6b9c7[_0xa0499(0x69e)]!==_0x3827b1)return console[_0xa0499(0x3bb)](_0xa0499(0x43d)),_0x195e69[_0xa0499(0x193)](0x191)['send']('API\x20Key\x20inválida.');}catch(_0x5d05ee){return console[_0xa0499(0x370)](_0xa0499(0x2ed),_0x5d05ee),_0x195e69[_0xa0499(0x193)](0x191)[_0xa0499(0x242)](_0xa0499(0x46f));}}if(!await $e(_0xd09b4e))return _0x195e69[_0xa0499(0x193)](0x194)[_0xa0499(0x242)](_0xa0499(0x76d));_0x195e69[_0xa0499(0x32f)]('Content-Type',_0xa0499(0x2ab)),_0x195e69[_0xa0499(0x32f)]('Cache-Control',_0xa0499(0x315)),_0x195e69[_0xa0499(0x32f)](_0xa0499(0x3d3),_0xa0499(0x46d)),_0x195e69[_0xa0499(0x507)]();let _0x7352e3=_0xa0499(0x681)+JSON['stringify']({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x195e69[_0xa0499(0x5e2)](_0x7352e3),po(_0xd09b4e,_0x3a8a4b,_0x195e69,_0x239870),_0x1594ca['on']('close',()=>{const _0x2f49de=_0xa0499;console[_0x2f49de(0x3bb)](_0x2f49de(0x46b)+_0xd09b4e),ho(_0xd09b4e,_0x3a8a4b);});}),xe[a0_0x36f96e(0x784)](a0_0x36f96e(0x743),async(_0x5ab580,_0x26b8a9)=>{const _0x4ec9a3=a0_0x36f96e;console[_0x4ec9a3(0x3bb)]('iniciando\x20fluxo\x20router');let _0x562674=_0x5ab580[_0x4ec9a3(0x165)][_0x4ec9a3(0x582)],_0x1c57e2=_0x5ab580['params'][_0x4ec9a3(0x1b6)],_0x1009d5=_0x5ab580[_0x4ec9a3(0x4f4)][_0x4ec9a3(0x71c)]||'',_0x138250=_0x5ab580[_0x4ec9a3(0x49d)];console[_0x4ec9a3(0x3bb)](_0x4ec9a3(0x4b1),_0x562674),console[_0x4ec9a3(0x3bb)](_0x4ec9a3(0x24f),_0x1c57e2),console[_0x4ec9a3(0x3bb)](_0x4ec9a3(0x7c6),_0x1009d5),console[_0x4ec9a3(0x3bb)](_0x4ec9a3(0x22e),_0x138250);try{if(!await $e(_0x562674))return _0x26b8a9[_0x4ec9a3(0x193)](0x194)['send'](_0x4ec9a3(0x76d));let _0x138920=await O[_0x4ec9a3(0x5cc)](_0x562674,_0x1c57e2,_0x1009d5,_0x138250);_0x26b8a9[_0x4ec9a3(0x242)](_0x138920);}catch(_0x496496){console[_0x4ec9a3(0x370)](_0x496496),_0x26b8a9[_0x4ec9a3(0x193)](0x1f4)[_0x4ec9a3(0x242)](_0x4ec9a3(0x80e));}}),xe[a0_0x36f96e(0x5aa)](a0_0x36f96e(0x380),(_0x3a1c3c,_0x22af21)=>{const _0x42c983=a0_0x36f96e;let _0x230ca0=go();_0x22af21[_0x42c983(0x264)](_0x230ca0);})[a0_0x36f96e(0x5aa)]('/',(_0x2ee40,_0x362e65)=>{const _0x33ddab=a0_0x36f96e;let _0x1d35e4=b[_0x33ddab(0x5aa)]('SERVER')[_0x33ddab(0x289)];if(_0x1d35e4){let _0x46692a=encodeURIComponent(''+_0x1d35e4);_0x362e65[_0x33ddab(0x37c)](_0x33ddab(0x4e6)+_0x46692a);return;}let _0x4ded83=b[_0x33ddab(0x5aa)](_0x33ddab(0x2b3)),_0x273896=_0x4ded83&&_0x4ded83[_0x33ddab(0x487)][_0x33ddab(0x71a)]('/')[0x4];if(_0x273896){let _0x71a124=encodeURIComponent(_0x33ddab(0x7c0)+_0x273896);_0x362e65[_0x33ddab(0x37c)](_0x33ddab(0x4e6)+_0x71a124);}else _0x362e65[_0x33ddab(0x37c)](_0x33ddab(0x539));})['put'](a0_0x36f96e(0x283),...oe,async(_0x2ecb8e,_0x118d37)=>{const _0x3b9abd=a0_0x36f96e;try{console[_0x3b9abd(0x3bb)](_0x3b9abd(0x399)),_0x118d37[_0x3b9abd(0x193)](0xc8)[_0x3b9abd(0x264)]({'message':_0x3b9abd(0x462)}),_0x118d37['on'](_0x3b9abd(0x2df),()=>process[_0x3b9abd(0x14a)](0x0));}catch(_0x4abad6){console[_0x3b9abd(0x370)](_0x3b9abd(0x12f),_0x4abad6),_0x118d37[_0x3b9abd(0x193)](0x1f4)[_0x3b9abd(0x264)]({'message':_0x3b9abd(0x338)});}})['put'](a0_0x36f96e(0x67e),...oe,async(_0x1c306a,_0x2b6690)=>{const _0x2d5b44=a0_0x36f96e;try{let _0x857558=_0x1c306a[_0x2d5b44(0x49d)];await Me['updateOne']({},{'$set':_0x857558},{'upsert':!0x0});let _0x3aaebe=await Me['findOne']();_0x2b6690[_0x2d5b44(0x264)](_0x3aaebe);}catch(_0x21e5d3){_0x2b6690[_0x2d5b44(0x193)](0x190)[_0x2d5b44(0x242)](_0x21e5d3[_0x2d5b44(0x641)]);}})[a0_0x36f96e(0x5aa)]('/config',...oe,async(_0x1b4ba7,_0x35c93f)=>{const _0x5bb02e=a0_0x36f96e;try{let _0x5a01e7=await Me[_0x5bb02e(0x49a)]();if(!_0x5a01e7)return _0x35c93f[_0x5bb02e(0x264)]({});_0x35c93f[_0x5bb02e(0x264)](_0x5a01e7);}catch(_0x1a05fc){_0x35c93f[_0x5bb02e(0x193)](0x1f4)[_0x5bb02e(0x242)](_0x1a05fc[_0x5bb02e(0x641)]);}})[a0_0x36f96e(0x600)](a0_0x36f96e(0x5a8),new ft(b,...oe)[a0_0x36f96e(0x696)])['use']('/message',new $t(...oe)[a0_0x36f96e(0x696)])[a0_0x36f96e(0x600)](a0_0x36f96e(0x3f5),new it(...oe)[a0_0x36f96e(0x696)])[a0_0x36f96e(0x600)](a0_0x36f96e(0x34a),new mt(...oe)[a0_0x36f96e(0x696)])[a0_0x36f96e(0x600)](a0_0x36f96e(0x215),new Ot(...oe)[a0_0x36f96e(0x696)])['use'](a0_0x36f96e(0x3e1),new Tt(...oe)['router']);var m=class{constructor(..._0xd819ff){const _0x9c9ccf=a0_0x36f96e;throw{'status':0x190,'error':_0x9c9ccf(0x637),'message':_0xd819ff['length']>0x0?_0xd819ff:void 0x0};}},ae=class{constructor(..._0x570a2e){const _0x3411be=a0_0x36f96e;throw{'status':0x191,'error':_0x3411be(0x676),'message':_0x570a2e[_0x3411be(0x5ed)]>0x0?_0x570a2e:void 0x0};}},Y=class{constructor(..._0x145b16){const _0x4c42c0=a0_0x36f96e;throw{'status':0x193,'error':_0x4c42c0(0x7d4),'message':_0x145b16[_0x4c42c0(0x5ed)]>0x0?_0x145b16:void 0x0};}},q=class{constructor(..._0x28478f){const _0x2da191=a0_0x36f96e;throw{'status':0x194,'error':_0x2da191(0x6d3),'message':_0x28478f[_0x2da191(0x5ed)]>0x0?_0x28478f:void 0x0};}},x=class{constructor(..._0x25d758){const _0x4b29a8=a0_0x36f96e;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x25d758[_0x4b29a8(0x5ed)]>0x0?_0x25d758:void 0x0};}},he=require(a0_0x36f96e(0x363));async function Ns(_0x5950bb){const _0x1b7afa=a0_0x36f96e;let _0x4e9a80=new $(Ns['name']),_0x33316d=A[_0x1b7afa(0x58e)](),_0x4abb23=_0x33316d['db'](b[_0x1b7afa(0x5aa)](_0x1b7afa(0x693))['CONNECTION'][_0x1b7afa(0x7e4)]+_0x1b7afa(0x13b))[_0x1b7afa(0x362)](_0x5950bb),_0x490cfc=async(_0x26b3c2,_0x5799c1)=>{const _0x1cf03b=_0x1b7afa;try{return await _0x33316d[_0x1cf03b(0x168)](),await _0x4abb23[_0x1cf03b(0x4f3)]({'_id':_0x5799c1},JSON[_0x1cf03b(0x766)](JSON['stringify'](_0x26b3c2,he[_0x1cf03b(0x3c6)]['replacer'])),{'upsert':!0x0});}catch{}},_0x399ac6=async _0x2e0ea1=>{const _0x3ecf54=_0x1b7afa;try{await _0x33316d[_0x3ecf54(0x168)]();let _0x4f2c12=await _0x4abb23['findOne']({'_id':_0x2e0ea1}),_0xd7142e=JSON[_0x3ecf54(0x751)](_0x4f2c12);return JSON[_0x3ecf54(0x766)](_0xd7142e,he[_0x3ecf54(0x3c6)][_0x3ecf54(0x204)]);}catch{}},_0x361145=async _0x47094e=>{const _0x32b9e1=_0x1b7afa;try{return await _0x33316d['connect'](),await _0x4abb23[_0x32b9e1(0x13d)]({'_id':_0x47094e});}catch{}},_0x51343f=await _0x399ac6('creds')||(0x0,he[_0x1b7afa(0x730)])();return{'state':{'creds':_0x51343f,'keys':{'get':async(_0xb9eaaa,_0x487f0c)=>{const _0x2b8569=_0x1b7afa;let _0x14596a={};return await Promise[_0x2b8569(0x471)](_0x487f0c[_0x2b8569(0x25f)](async _0x5900d3=>{const _0x5c5a70=_0x2b8569;let _0x2a9b15=await _0x399ac6(_0xb9eaaa+'-'+_0x5900d3);_0xb9eaaa===_0x5c5a70(0x5d2)&&_0x2a9b15&&(_0x2a9b15=he[_0x5c5a70(0x355)][_0x5c5a70(0x56a)][_0x5c5a70(0x2ac)][_0x5c5a70(0x275)](_0x2a9b15)),_0x14596a[_0x5900d3]=_0x2a9b15;})),_0x14596a;},'set':async _0xe2a03a=>{const _0x25f8c9=_0x1b7afa;let _0x11653c=[];for(let _0x174777 in _0xe2a03a)for(let _0x34d3f8 in _0xe2a03a[_0x174777]){let _0x3982ef=_0xe2a03a[_0x174777][_0x34d3f8],_0x3c6ba7=_0x174777+'-'+_0x34d3f8;_0x11653c[_0x25f8c9(0x334)](_0x3982ef?_0x490cfc(_0x3982ef,_0x3c6ba7):_0x361145(_0x3c6ba7));}await Promise[_0x25f8c9(0x471)](_0x11653c);}}},'saveCreds':async()=>_0x490cfc(_0x51343f,_0x1b7afa(0x6d5))};}var Ts=T(require('long')),Is=T(require(a0_0x36f96e(0x17c))),_t=require(a0_0x36f96e(0x363)),wo=require(a0_0x36f96e(0x101)),Dt=require('@whiskeysockets/baileys'),xt;function a0_0x4df3(){const _0x197d2f=['last_update','flow','findIndex','editScheduleMessage','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','labels.association','stderr','#fed428','\x20não\x20encontrado\x20para\x20cópia','saveVariable','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','folder','variablesToObject','open','EMAIL','moreLogs','downloadMediaMessage','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','stopMinutes','augusto.fcs@gmail.com','Sistema\x20atualizado\x20com\x20sucesso!','Desconectado,\x20parando\x20execução.','):\x20Flow\x20não\x20encontrado','fetchProfilePicture','deleteMessage','filter','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','updateConversation','namespace','):\x20Iniciando\x20bot...','conditions','processApiRequest','split','insertCount','remoteJid','):\x20Editando\x20edição\x20do\x20fluxo...','awaitSeconds','Not\x20is\x20business\x20profile','startsWith','demote','quotedMessage','convertaudioMP3','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','/media/','mediaMessage','binary','Background\x20color\x20is\x20required','):\x20Error\x20processing\x20the\x20block:\x20','DELETED','videoMessage','save','Database\x20connection\x20closed.','prototype','\x20tentativas.','initAuthCreds','applyvaredit','isAdmin','hDel','_activatedCount','\x20inseridas\x20no\x20banco\x20de\x20dados...','_Flows','Group\x20not\x20found','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','editFlow','checkAndRestartProcess','Variáveis\x20não\x20encontradas:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','padStart','cors','vote','updateChatGroupData','cwd','/startFlow/:instance/:startID','pollErrorMessage','removeInstance','\x22\x20-\x20NOT\x20CONNECTION','groupJoinApprovalMode','\x20ao\x20chat\x20','Falha\x20após\x20várias\x20tentativas.','Last\x20message\x20not\x20found','subdomain','webhookMap','getPrototypeOf','sendContact','spawn','Erro\x20ao\x20tentar\x20autoCompleteMessages','stringify','Erro\x20ao\x20iniciar\x20fluxo:\x20','dataValidate','sharp','Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global','\x1b[37m%s\x1b[0m','PREFIX_KEY','protocolMessage','Safari','updateLastSeenPrivacy','removeData','):\x20Conversa\x20atualizada\x20em\x20memória','cleanStore','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Not\x20allowed\x20by\x20CORS','drop','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','updateGParticipant','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','URL:','parse','Type\x20is\x20required','findByIdAndDelete','.url','Resultado\x20da\x20atualização:','readMessage','Error\x20writing\x20file:\x20','Instância\x20não\x20encontrada.','nome','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','PROXY','findFlow','backgroundColor','TYPE','getAutomateSystem','unreadCount','wuid','true','not\x20loaded','chats.delete','Data\x20inválida\x20fornecida','184InJEVR','sort','processConditions','rm\x20-rf\x20','isBusiness','ms\x20(tentativa\x20','deleteDoneMessages','Fetching\x20business\x20profile','post','groupUpdateDescription','Image\x20is\x20base64','buttonId','isRunning','console','importChats','Missing\x20global\x20api\x20key','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','stoppedUntil','ChatRouter','):\x20Enviando\x20enquete','pollCreationMessage','statusMessage','noConnection','replaceVariablesChat','http://icanhazip.com/','isCommunityAnnounce','random','removeProfilePicture','StartBot','static','ListType','canSendMessage','name','Início','groupSettingUpdate','GET','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','MessageModel',':\x20Erro\x20durante\x20loadproxy\x20-\x20','STATUS_INSTANCE','leadInfo.','\x20chats\x20de\x20','authState','express-async-errors','and','\x20não\x20encontrado','processgoToFlow','scheduleSendText','groupadd','Erro\x20inesperado\x20em\x20processvaredits:\x20','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','data','Erro\x20ao\x20editar\x20a\x20conversa','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','value','width','protocol','buttonMessage','message_normalized','instanceName','temp-','deleteImportedChat','createConversationforgoToFlow','660NIwuzG','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','loadEnv','uazapiSendLocation','createGroup','https://','stopped','):\x20Query\x20params:','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','LEVEL','):\x20Entrou\x20na\x20função\x20processawaitSeconds','RemoteJid:','textMessage','36648VHUSqN','basename','lastMessage','arraybuffer','inviteCode',',\x20saindo.','redis','organization','#ffc5c7','getConversation','newValue','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','Forbidden','\x20Tentativa\x20de\x20reconexão\x20','utf8','set','false','updateMissingTags','secondValue','reactionMessage','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','$dbName','getflow','updateProfileName','/wa-chats','--agree-tos','isConnected','findContacts','DB_PREFIX_NAME','instancias:\x20','Falhou\x20ao\x20encontrar\x20chat\x20','minutesToClose','Button\x20texts\x20cannot\x20be\x20repeated','readMessages','paused','reject','qrcode.updated','#ff9484','msgRetryCounterCache','ReplyOption\x20com\x20ID\x20','Message\x20not\x20found','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','waitingMenu_text','https://api.ipify.org?format=json','warn','editFlowBlock','Database\x20is\x20not\x20enabled','enumerable','loadInstance','Fluxo\x20não\x20encontrado.','logout','lastFetchAwaitingApproval','stopConversation','.doc','_error','synchronizeFlows','variables','Erro\x20ao\x20criar\x20fluxo\x20regular','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','NO_IP','path','_activedCount','env.yml','mimetype','generateWAMessageFromContent','CHATS_UPDATE','boolean','Erro\x20ao\x20importar\x20chats','Db\x20Connection','\x20inseridos\x20no\x20banco\x20de\x20dados...','Erro\x20ao\x20iniciar\x20o\x20fluxo.','editFlowVaredit','deleted','groups.update','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','lastUpdate','env','linkPreview','website','messageType','leadInfo','chat\x20não\x20encontrado','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','\x20segundos','getLabelModelForOwner','REDIS_ENABLED','@redis/client','updateGroupsAddPrivacy','awaitingApproval','label_jid','fromMe',',\x20lastCondition:\x20','code','findConversation','Error\x20handling\x20sendText:','tags','getUpdate','The\x20\x22','EXPIRIN_IN','toDataURL','Notifying\x20clients\x20for\x20chat:\x20','creation','processUazapi','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','.X-ABLabel:Celular\x0a','editFlowVariable',':\x20IP\x20funcionando!','LOG_LEVEL','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','greater','contactHandle','exec','AUTHENTICATION','deleteInstance','routerPath','):\x20leadInfoVariables','ephemeralExpiration','reconnectAttempts','has','groups','):\x20Entrou\x20na\x20função\x20stop','):\x20Ler\x20mensagem','Erro\x20ao\x20editar\x20o\x20chat','jid','fileName','responsavelid','readdirSync','done','test','Close\x20connection','.png','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','Número\x20não\x20possui\x20WhatsApp.',',\x20canSendMessage:\x20','authService','.xls','SECRET','startFlow','groupFetchAllParticipating','enviado\x20para','beforeExit','CONTACTS_SET','-instances','fetchLatestBaileysVersion','deleteOne','pollCreationMessageKey','MESSAGES_UPDATE','Erro\x20ao\x20deletar\x20chat:','bodyString','toBrazilianNumberFormat','lastDisconnect','less','slice','ButtonsMessage','createSharedFlow','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','scheduleSendAudio','exit','\x1b[42m','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','updateProfilePicture','Erro\x20ao\x20sincronizar\x20fluxos:\x20','express','Subscribed\x20Events:','sendList','Erro\x20ao\x20atualizar\x20AutomateSystem:','call','STORE','announcement','connectionUpdate','badSession','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','\x20e\x20ID=','REDIS_PREFIX_KEY','getScheduleMessageModelForOwner','qrcode-terminal','isURL','recording','):\x20Enviando\x20áudio','AddChatLabel',',\x20Minutes\x20to\x20Close:\x20','pollCreationMessageV3','\x20global:\x20','profilePicture','params','WARN','muteEndTime','connect','AutomateSystem','optionName','createRegularFlow','GROUP_PARTICIPANTS_UPDATE','request\x20received\x20in\x20getConversation','lastInteraction','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','delayChatLabel','cacheContact','LOG','#ffffff','mediaSticker','pre','bateu\x20events','/media','remoteJidsRemaining','keys','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','jwt','node-cache','#64c4ff','notify','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','NextBlock','STORE_CLEANING_TERMINAL','redis://127.0.0.1:6379','_id','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','contacts','sendSticker','createServer','):\x20atualização\x20chat:\x20','expiration','restart','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Erro\x20ao\x20editar\x20o\x20bloco:\x20','Log\x20out\x20instance:\x20','string','/wa-connection-update','toLowerCase','insert','status','createHash','getContentType','variablesNotFound','getLastMessage','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','.mp4','Erro\x20ao\x20tentar\x20updateCustomFields','sendDataWebhook','\x20-i\x20','everyOne','flowConfig','_fromMe','getChatModelForOwner','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','findOneAndUpdate','importChatsAntigo','Image\x20path:\x20','jsonwebtoken','picture','uazapi','Error\x20in\x20converting\x20audio','):\x20debug\x20alterando\x20this.AutomateSystem','generate','saveConversationToDatabase','chats.update','vcard','\x1b[1m','getTicketSystem','):\x20Editando\x20grupo\x20do\x20fluxo...','remove.instance','group-participants.update','values','startID','repository','_Contacts','ephemeralMessage','Erro\x20ao\x20buscar\x20Schedule\x20Messages','scheduleSendMedia','editFlowCondition','Erro\x20ao\x20alterar\x20privacidade','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','qrCode','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Font\x20is\x20required','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','contentText','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','/wa-contacts','?timestamp=','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','^\x5cd+([-]\x5cd+)*@g.us$','audioWhatsapp','chatHandle','}}\x20->\x20\x22','):\x20alterando\x20this.AutomateSystem','remove','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','requestFile','removeUnusedChatFields','menuIgnoreNonVotes','audio','\x20mensagens\x20de\x20','flattenObject','getProfileName','store','choices','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','CONECTADO\x20À\x20UAZAPI','pollCreationMessageV2','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','created','auth','release','selectedOptions','bulkWrite','DATABASE_ENABLED','groupAcceptInvite','request\x20received\x20in\x20deleteFlow','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','rows','events','PASSWORD','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','.fileUrl','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','entries','groupId','):\x20Editando\x20condição\x20do\x20fluxo...','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','evaluateCondition','forEach','dbServer','readreceipts','oldToken','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','processblock','expression','updateProfilePicturePrivacy','findGroups','.uazapi.dev','verifiedName','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','uazapiSendMedia','close','sha256','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','Parando\x20aplicação...','reviver','\x20minutos.\x20Será\x20às\x20','url','sharePass','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','toFile','authentication','PRIVKEY','numbers','modifiedCount','FlowModel','Erro\x20ao\x20deletar\x20a\x20conversa','Mac\x20OS','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','updateAll','\x20}\x0a','groupJid','/webhook','emit','Erro\x20ao\x20editar\x20agentes','AUTHENTICATION_JWT_EXPIRIN_IN','getOwnPropertyDescriptor','setUpdate','52500ShTjUB','documentMessage','https://chat.whatsapp.com/','floor','leadInfo.desativadoFluxoAte','qrcode','READ','setRestartTimeout','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','sendPoll','eventemitter2','\x20-y',',\x20data:\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','Enter\x20a\x20value\x20in\x20milliseconds','dbInstance','AUTHENTICATION_TYPE','function','fetchStatus','Request\x20Body:','The\x20global\x20api\x20key\x20must\x20be\x20set','updateMissingCustomFields','delayChatLabel_RETRY_DELAY_MS','valid','Instance\x20Key\x20from\x20DB:','fetchContacts','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','\x0aFN:','editflowgroup','--standalone','\x22\x20cannot\x20be\x20empty','findAndReplaceRegex','PRESENCE_UPDATE','deletedCount','shareOwners','listMessage','sendWhatsAppAudio','sendMedia','empty','send','round','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','findWebhook','menuMessage','.TEL;waid=','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','hGetAll','reaction','pollMessageOnDelete','Error\x20in\x20chatModify\x20for\x20number\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','\x20horas\x20e\x20','StartID:','create','displayName','\x1b[0m','global','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','QRCODE_UPDATED','updateStopChat','poll','stickerMessage','validate','ListMessage','extractMessageContent','Content\x20is\x20required','):\x20lastBlockId:\x20','scheduleNextCheck','map','replaceVariables','dark','waitingMenu_id','unlocked','json','mkdirSync','verifyWhatsAppNumber','removeChatLabel','deleteFlow','/wa-message','createflow','notEqual','blockId','updateMany','connectToWhatsappController','@broadcast','groupRequestParticipantsList','size','https://api.elevenlabs.io/v1/text-to-speech/','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','pino','fromObject','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','execSync','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','Processing\x20audio','):\x20Entrou\x20na\x20função\x20goToFlow','repeat','InstancesAlterarTodas','\x20instance\x20does\x20not\x20exist','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','EMAIL:','atendimentoAberto','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','/exit','status.instance','Erro\x20ao\x20buscar\x20a\x20conversa','convertedOptions','findGroupInfos','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','URL','SendScheduleMessage','available','lowerCase','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','deleteChat','fetchPrivacySettings','no.connection','g-t','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','editFlowGroup','sectionsToString','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','hex','info','deleteMessageForEveryone','\x0aitem','notMatchRegex','licenca','subjectOwner','desc','\x1b[41m','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','segundos','messaging-history.set','groups.upsert','<subdomain>','statSync','*Pergunta*:\x20\x0a','document','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','type','text/event-stream','AppStateSyncKeyData','match_last_seen','Delete\x20chat','onWhatsApp','inner','JWT','instance.','SSL_CONF','keyPattern','):\x20Conversa\x20inserida\x20com\x20sucesso.','\x1b[1m\x1b[37m','uncaughtException','email','admin','flowPrefixCommand','changeVariables','E-mail:\x20','ContactModel','saveChatVariables','ObjectId','#b4ebff','/instance/connectionState','video','writeFileSync','ERROR','updateProfileStatus','PORT',',\x20Resultado:\x20','authorization','updateMessage','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','GROUPS_UPSERT','updateParticipant','):\x20Buscando\x20todos\x20os\x20fluxos...','archived','Certbot:\x20','fetchProfile','Schema','order','request_method','eventEmitter','\x20:\x20','request\x20received\x20in\x20editConversation','longitude','downloads','participants','):\x20[messages.upsert]\x20group\x20ignored','.jpg','cachedContact','reference','):\x20Error\x20processing\x20conditions:\x20','finish','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','conversationTimestamp','start','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','Erro\x20ao\x20buscar\x20conversas','.wav','including\x20timestamp\x20in\x20url:\x20','chatLog','importChatsBatch','editOperator','all_member_add','PRODUCT_LIST','readMessageBot','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','toString','joinGroup','creds.json','formatStatusMessage','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','key','approve','\x20->\x20NÃO\x20CORRESPONDE.','findOrCreate','joinApprovalMode','goToFlow','contactMessage','Variável\x20não\x20encontrada!','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','delete','flowName','assign','makeCacheableSignalKeyStore','chats.set','yes','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','currency','SERVER_OFFLINE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','createSectionsFromValues','CHATS_DELETE','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','\x1b[33m%s\x1b[0m','Hash\x20to\x20image\x20name:\x20','firstValue','Erro\x20ao\x20atualizar\x20o\x20flow.','https-proxy-agent','subjectTime','findAndReplace','existsSync','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','delayMessage','\x20minutos...','optionDescription','no-cache','TEXT','online','unavailable','goNextblock','delay','now','DATABASE_CONNECTION_URI','STORE_MESSAGE','writeFile','user','listType','convert','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','nomecompleto','#9ba6ff','):\x20','decryptPollVote','http','jsonschema','\x1b[37m','statusJidList','):\x20Buscando\x20conversas...','mediaKey','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','ids','setHeader','createWebhook','request\x20received\x20in\x20deleteConversation','$addToSet','DaysToDelete','push','COLOR','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','scheduleFlow','Erro\x20ao\x20encerrar\x20a\x20API','connectionClosed','pictureUrl','processvaredits','configService','removeOlderDisconnectedInstances','remote\x20\x22origin\x22','localWebhook','pt-BR','throwAndLogError','Fluxos\x20não\x20estão\x20ativados','action','HOST','/wa-all-message','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','sendText','isInteger','labels.edit','/group','groupGetInviteInfo','fetchChats','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','CONNECTION_UPDATE','out','src','/wa-message-update','processing_id','mongodb://','):\x20Bloco\x20com\x20ID\x20','proto','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','archive','isArray','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','activatedCount','messages','chats','https://github.com/uazapi/uazapi.git','add','processawaitSeconds','\x5cd+','collection','@whiskeysockets/baileys','/instance/fetchInstances','_FlowHistorico','block','body:','):\x20Current\x20Time:\x20','groupInviteCode','webhookService','updateReplyOption','Logger','webp','instances','arrayUnique','error','uazapiSendContact','Cached\x20audio\x20found,\x20returning\x20existing\x20file','request\x20received\x20in\x20fetchConversation','joinGroupValidate','SSL_CONF_FULLCHAIN','method','sendMessage','buffer','delAll','getMessageModelForOwner','messageTimestamp','redirect','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','DisconnectReason','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','/clients-info','Error\x20parsing\x20JSON:','exports','addresss','groupLeave','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','#00a1f2','ORG:','setWebhook','startCommandWord','put','ChatModel','notContains','phoneNumber','child_process','certbot','response','audioMessage','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','remoteJids','updateGParticipate','copyBlock','\x20removido\x20do\x20chat\x20','.error','\x20\x1b[0m','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','findAll','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','ScheduleMessage','sleep','blockLogs','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','):\x20Campos\x20a\x20serem\x20atualizados:','.pptx','addBlock','getContactModelForOwner','markMessageAsRead','.ogg','stopMinutesMaxActives','leadInfo.etiquetas','verbose','client','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','AUTHENTICATION_API_KEY','application/octet-stream','\x20depois\x20','useMultiFileAuthState','composing','object','updateGroupPicture','number','count','certonly',',\x20resultado:\x20','createJid','chats.upsert','KEY','The\x20property\x20cannot\x20be\x20empty','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','log','findById','connectionStatus','Erro\x20ao\x20copiar\x20o\x20documento','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','lastBlockId','connectionState','.mp3','../env.yml','BufferJSON','updateBlock','API_KEY','messages.update','updateChatWithMessage','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','uazapiDeleteMessage','buttonText','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','):\x20Ignoring\x20group\x20messages.','update','mentions','\x20quoted:\x20','Connection','/events','_pushName',':\x20IP\x20configurado:\x20','contacts.upsert','customFields','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','\x22\x20not\x20found','agents','desativadoFluxoAte','default','defineProperty','getMessage','groupBetterSetting','/automate','createNewConversation','MESSAGES_UPSERT','address','-whatsapp-api','http://myexternalip.com/raw','toggleEphemeral','_remoteJid','8nkRmWZ','The\x20','updatePresence','createFlow','views','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','#dfaef0','hbs','\x1b[30m%s\x1b[0m','@g.us','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','locationMessage','/chat','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','):\x20tem\x20blocks','allFlows','local_map','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','\x20com\x20sucesso.','Falha\x20ao\x20processar\x20a\x20solicitação','Erro\x20ao\x20editar\x20o\x20replyOption:\x20',',\x20valor\x20passado:\x20\x22','substring','digest','$pull','match','last','):\x20Criou\x20conversa\x20no\x20startFlow','SUCCESS','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','DARK','stdout','940542MRhqCt','menuType','1328iYNTVA','label','silent','replace','command','cleaningUp','PENDING','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','CONTACTS_UPDATE','Rótulo\x20deletado:\x27,\x20','replyOption','notas','):\x20Criando\x20fluxo\x20compartilhado...','getBusinessProfile','getDevice','writeData','apiResponse','join','normalizeMessage','deleteConversation','buttons','listResponseMessage','editFlowReply','/instance/connect','instanceName\x20not\x20provided.','DATABASE_CONNECTION_USER','groupUpdateSubject','Deleted\x20','readFileSync','bodyStringErrorParse','logger','cacheContactModel','flowConversation','Bloco\x20com\x20ID\x20','\x22,\x20valor\x20a\x20substituir:\x20\x22','min','options','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Image\x20created','findAndUpdateCacheContact','notEmpty','\x1b[33m\x1b[1m','messageHandle','context','interval\x20não\x20é\x20um\x20número','sticker','statusCode','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','admin_add','replyOptions','findAndUpdate','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','group','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','timeout','state','off','ignoreGroups','The\x20instance\x20needs\x20to\x20be\x20disconnected','waMonitor','):\x20Procurando\x20conversa','concat','#83e421','color','header','Fluxo\x20agendado\x20pelo\x20fluxo\x20','headers','DEBUG','fullName','):\x20Editando\x20variável\x20do\x20fluxo...','ip:\x20','INFO','HttpsProxyAgent','delaySecMax','requestPairingCode','verify','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','trimmed','lastSend','#92ceac','STORE_CONTACTS','encoding','Last\x20message\x20not\x20found\x20for\x20number:','isJidUser','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','findMessages','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','\x1b[36m','):\x20Rótulo\x20atualizado:\x20','.extension','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','updateGroupWebhook','Connection\x20closed\x20for\x20instance:\x20','fetchConversation','keep-alive','presence','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','envProcess','all','replaceVariablesLogs','WA\x20MODULE','Trying\x20to\x20get\x20business\x20profile','request\x20received\x20in\x20updateAutoCompleteMessages','USER','Certbot\x20executado\x20com\x20sucesso.','.pdf','Falha\x20ao\x20processar\x20fetchBusinessProfile','bearer','deleteflow','setContext','addChatLabel','getFlow','messageContextInfo','uuid','Erro\x20na\x20função\x20updateChatWithMessage:\x20','replaceValue','groupMetadata','editflowcondition','):\x20conversation.lastInteraction:\x20','insertMany','FULLCHAIN','axios','getVariablesChat','request\x20body:\x20','addReplyOption','.\x20Pulando.','archiveChat','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','Nenhum\x20participante\x20válido\x20encontrado.','toUpperCase','\x20-\x20ON:\x20','Image\x20converted\x20to\x20WebP','findGroupInfo','):\x20Enviando\x20mídia','editedMessage','eventHandler','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','/events/:instance','findOne','truncatedtoEnd','):\x20Visualizando\x20AutomateSystem','body',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','contact','whatsappNumber','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','Authentication\x20error','Não\x20respondeu\x20com\x20a\x20enquete.','originalUrl','Erro\x20ao\x20aplicar\x20varedit:\x20','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','processclearVariables','REDIS_URI','parseInt','defineAuthState','password','Esse\x20fluxo\x20expirou','editflow','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','):\x20mediaMessageInfoId\x20:\x20','Instance\x20Name:','indexOf','gifPlayback','groupToggleEphemeral','getTime','delayChatLabel_MAX_RETRIES','\x20minutos','flowActive','participant','includes','output','getStatus','prepareWAMessageMedia','selectableCount','\x1b[34m','shift','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.',',\x20apikey:\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','sendStatus',',\x20qrcodeCount:\x20','etiquetas','STORE_CHATS','replaceVariablesInReplyOptions','urlOrBase64','chatId','?authSource=admin&readPreference=primary&directConnection=true','}}\x20->\x20valor\x20não\x20encontrado','groupHandler','fone','sync','realVariables','port','loadWebhook','testProxy','unhandledRejection','isListOfNumbers','uazapiSendText','app','stopWhenYouSendMsg','CLEANING_INTERVAL','VERBOSE','splice','isBase64','request_time','audio/ogg;\x20codecs=opus',',\x20valor\x20a\x20encontrar:\x20\x22',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','when','REDIS','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','request\x20received\x20in\x20editFlow','https://uazapi-plugin.bubbleapps.io/?url=','allContacts','):\x20Bloco\x20copiado:\x20','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','Erro\x20ao\x20atualizar\x20o\x20documento:','variable','updateOne','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','\x20is\x20already\x20in\x20use.','reconnectTimestamps','DD/MM\x20HH:mm:ss','del','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','replaceOne','query','\x20->\x20CONFIRMADO.','Erro\x20ao\x20remover\x20label\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','fetchMessages','flowIgnoreGroups','view\x20engine','image','lastSendMessage','.xlsx','Business\x20profile\x20fetched','messages.set','Deletion\x20failed',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','getMIMEType','onTime','/wa-groups','/create','flushHeaders','#d8e651','editflowreply','endSession','messages.upsert','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','\x1b[40m','sendButtons','createInstance','Pausado\x20por\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','scheduled','groupdata','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','equal','processScheduleFlow','waInstances','Erro\x20de\x20atualização:\x20','replaceVariablesInObject','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','integer','deleteBlock','imgUrl','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','^\x5cd+','#9ab6c1','memberAddMode','updateAutoCompleteMessages','connecting','menuExpiredMessage','audio/ogg','http://checkip.dyndns.org','request\x20received\x20in\x20allFlows','pollOnReplyDelete','updateStatusPrivacy','SERVER','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','sem\x20texto\x20na\x20mensagem','):\x20Enviando\x20texto','matchRegex','__esModule','recebido\x20de','):\x20Procurando\x20mensagens\x20para\x20envio','updateOneById','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','\x20do\x20chat\x20','DATABASE_CONNECTION_HOST','groupSetting','whatsappNumbers','https://uazapi-plugin.bubbleapps.io/','findByIdAndUpdate','):\x20Usando\x20extensão\x20padrão:\x20','8442566UuIpgT','errorLog','Imagem\x20não\x20encontrada','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','trim','max','\x20e\x20proprietário\x20','sendLocation','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','leadInfo.customFields','normalizeMessageContent','isLong','CHATS_SET',',\x20Novo\x20tamanho:\x20','fetchInstances','@s.whatsapp.net','https://api.openai.com/v1/audio/speech','where','chat','undefined','request\x20received\x20in\x20updateCustomFields','/instance/delete','Falta\x20informação\x20para\x20a\x20chamada\x20API','pollUpdateMessage','webhook','closeExistingConversations','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','RemoveChatLabel','SERVER_PORT','Temp\x20image\x20deleted','uazapiSendMenu','varedit','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','StatusJidList\x20is\x20required','text','saveMediaToFile','createConnection','cpf','lastCondition','content','uazapiSendAudio','CONTACTS_UPSERT','Message','http://ipecho.net/plain',',\x20fará\x20nova\x20verificação\x20em\x20','Converting\x20image\x20to\x20WebP\x20to\x20sticker','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','stateConnection','testingWith','flowStopMinutes','updateMediaMessage','revokeInviteCode','CHATS_UPSERT','Instance\x20logged\x20out','Error\x20updating\x20message\x20status:','deleteReplyOption','inviteCodeDetails','lastReceivedMessage','/*.json','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','CORS_ORIGIN','END:VCARD','://','mongodb','createAndSave','http://ifconfig.me/ip','instance','Erro\x20ao\x20enviar\x20mensagem:\x20Tentativa\x20',',\x20Expiration\x20Time:\x20','errors','next_groupId','request\x20received\x20in\x20deleteDoneMessages','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','apiName','condition','OrAnd','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','conversation','getClient','288102tEoiVj','AutomateFunctions','headerString','\x1b[47m','):\x20Conversa\x20está\x20expirada','groupMemberAddMode','Máximo\x20de\x20tentativas\x20atingido.\x20Falha\x20ao\x20enviar\x20mensagem\x20para\x20','apirequest','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','editChat','updateGroupParticipantsWebhook','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Erro\x20ao\x20deletar\x20mensagens:','storePath','apply','getRandomText','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','pairingCode','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','#000000','isJidGroup','extractRegex','footerText','Router',',\x20Comparador:\x20','/instance','\x1b[30m','get','editflowblock','font','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','Audio\x20converted\x20and\x20stored\x20in\x20cache','model','):\x20enviado\x20para\x20[','ERROR:\x20','FlowRouter','blocks','instanceInfo','\x1b[46m','viewOnceMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','FlowController','replacer','findParticipants','ContactsAndGroups','lean','padEnd','):\x20expirationTime:\x20','ENABLED','prepareMediaMessage','getConversationModelForOwner','Atualização:\x20','presenceSubscribe','limit','sendMessageWithTyping','contact_blacklist','not_announcement','Comando\x20desconhecido','contextInfo','sections','listen','startFlowWebhook','):\x20Label\x20','groups_ignore','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','.txt','app-state-sync-key','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','caption','Error\x20fetching\x20and\x20updating\x20profile:\x20','This\x20name\x20','readData','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','contacts.update','#fe9dfe','):\x20nextBlock.uazapi.name','Reinicialização\x20iniciada:\x20','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','*\x0a\x0a','role','SEND_MESSAGE','write','telefone','resetReconnectionVariables','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','updatePrivacySettings','messageId','Flow\x20não\x20encontrado','waitingMenu_replyOptions','viewOnceMessageV2','dropCollection','\x1b[44m','length','unreadcount','editConversation','Valor\x20inicial:\x20\x22','sign','collections','content-type',',\x20isAdmin:\x20','):\x20this.processing_id:\x20','base64','MAX_RECONNECT_ATTEMPTS','CONNECTION','sendPresenceUpdate','CORS','g.us','Erro\x20ao\x20atualizar\x20conversa:\x20','Erro\x20ao\x20inserir\x20chats:','ini','toNumber','use','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','getBase64FromMediaMessage','#6f7bcf','redisEnv','processPollUpdateMessage','cache','):\x20conversation.waitingMenu_name','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):\x20teve\x20mudanças\x20chat.archived:\x20','createConversationforStartFlow','):\x20Não\x20achou\x20nenhum\x20flow','waitingMenu_ExpiredMessage','https',',\x20global:\x20','hasOwnProperty','):\x20isVote:\x20','SINGLE_SELECT','upperCase','updateCustomFields','waUploadToServer','groupRequestParticipantsUpdate','sendReaction','ephemeralDuration','host','Selecione','list','getScheduleMessage','restrict','):\x20Bloco\x20original\x20para\x20cópia:\x20','authModel','Output\x20path:\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','Validate','Type\x20defined\x20as\x20audio','promote','106440mckDrs','fetchBusinessProfile','saveTextReply','username','some','reorderBlocks','stanzaId','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','closed','):\x20Limpando\x20AutomateSystem','removed','instanceKeys','end','.mimetype','):\x20Limpando\x20delayMessage','GROUPS_UPDATE','Telefone:\x20','\x20adicionado\x20ao\x20chat\x20','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Bad\x20Request','):\x20newFirstValue\x20após\x20replaceVariables:','sendAudio','imagechat','deleteMany','/wa-presence','\x0a*Você\x20respondeu*:\x0a','formatVCard','dbClient','fileUrl','message','groupValidate','AUTHENTICATION_JWT_SECRET','fetchLabels','reorderReplyOptions','evaluateConditionTest','clearVariables','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','chatModify','_p_','Error\x20finding\x20many\x20contacts:','):\x20delete\x20=\x20true','mongoose','restartInstance','):\x20Deletando\x20mensagem','):\x20Entrou\x20na\x20função\x20clearVariables','cachedData-whatsapp','.webp','request\x20received\x20in\x20editFlowgroup','item','beautifyWithPlaceholders','\x1b[36m%s\x1b[0m','MESSAGES_SET','success','mentioned','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','endsWith','DATABASE_CONNECTION_PASSWORD','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','ultimaTentativaRemoteJid','application/json','getFlowModelForOwner','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','sending','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','leaveGroup','pushName','Erro\x20de\x20reinicialização:\x20','capitalizedWords','):\x20Flow\x20desativado','none','utf-8','METHODS','ex:\x20\x22groupJid=120362@g.us\x22','upsertChats','ConversationModel','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Types','toBRL','deleteAll','199QMIeYs','HeaderType','Unauthorized','refused','updateMissingShareOwners','Erro\x20ao\x20arquivar\x20chat','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','process','compression','/config','#f64847','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','data:\x20','toLocaleString','Instância:\x20','documentWithCaptionMessage','maxActives','groupDesc','newStoppedUntil','imported','autoCompleteMessages','Operador:\x20\x22','status@broadcast','instanceCount','exists','\x20-\x20retornado:\x20','Instance\x20\x22','):\x20Conversas\x20encontradas:','presence.update','PLAYED','DATABASE','format','):\x20Conversa\x20está\x20expirada\x20-\x20voto','router','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','title','$set','):\x20Comando\x20desconhecido:\x20','isCommunity','array','oldValue','apikey','Flow\x20iniciado','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','autoCompleteMessages.command','find','groupName','loadproxy','Archiving\x20chat','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','cachedContacts-whatsapp','Image\x20is\x20url','connection.update',',\x20pairCode:\x20','owner','):\x20Editando\x20replyOption...','env.KEY\x20!==\x20key','dbSettings','crypto','pollMessage','option','generateHash','findGroup','enabled','prefixCommand','fetchProfilePictureUrl','charAt','50mb','from','locked','toArray','profilePictureUrl','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','updateAgent','):\x20Editando\x20bloco...','media','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','.jwt','debug','/instance/create','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','description','subject','\x20saindo\x20da\x20função','latitude','mediatype','):\x20Grupo\x20','formatBRNumber','\x20minutos\x20verificará\x20novas\x20mensagens','\x20não\x20encontrado.','automateSystem','setting','config','):\x20Fluxos\x20não\x20estão\x20ativados','Not\x20Found','Rótulo\x20inválido\x20ou\x20sem\x20ID.','creds','updateFlowConfig','delaySecMin','webhookModel','flush','DOCKER_ENV','scheduleMessage','envYaml','https://api.openai.com/v1/images/generations','Invalid\x20format','updateOnlinePrivacy','\x1b[31m%s\x1b[0m','):\x20conversation.status:\x20','):\x20não\x20encontrou','ON\x20-\x20dbName:\x20','sendMenu','\x20não\x20encontrado\x20para\x20atualização.',']\x20(','connectToWhatsapp','messagesSend','convertaudio','varedits','contains','All_Instances_Config','):\x20Edit\x20schedule\x20message...','Mensagem\x20não\x20suportada','URI','unlinkSync','Converted\x20image\x20deleted','privacySettings','http://ip-api.com/json','findManyByIds','userDevicesCache','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','node-mime-types','announce','height'];a0_0x4df3=function(){return _0x197d2f;};return a0_0x4df3();}function Er(_0x249aec){const _0x124ee8=a0_0x36f96e;return xt||(xt=(0x0,wo['createClient'])({'url':_0x249aec['URI']}),xt[_0x124ee8(0x168)]()),xt;}var le=class c{constructor(_0x1bd873,_0x291764){const _0x161c2c=a0_0x36f96e;this[_0x161c2c(0x604)]=_0x1bd873,this['instanceName']=_0x291764,this[_0x161c2c(0x42c)]=new $(c[_0x161c2c(0x79c)]),this['client']=Er(_0x1bd873);}set[a0_0x36f96e(0x2dd)](_0x3cb72d){const _0x13946a=a0_0x36f96e;this[_0x13946a(0x7b7)]=_0x3cb72d;}async[a0_0x36f96e(0x62f)](){const _0x189c2b=a0_0x36f96e;try{return await this[_0x189c2b(0x3a9)]['sendCommand'](['keys',this[_0x189c2b(0x604)][_0x189c2b(0x757)]+':*']);}catch(_0x1542e4){this['logger'][_0x189c2b(0x370)](_0x1542e4);}}async['writeData'](_0x21bec2,_0x3f7f84){const _0x57964a=a0_0x36f96e;try{let _0x883318=JSON[_0x57964a(0x751)](_0x3f7f84,Dt[_0x57964a(0x3c6)][_0x57964a(0x5b9)]);return await this[_0x57964a(0x3a9)]['hSet'](this[_0x57964a(0x604)][_0x57964a(0x757)]+':'+this[_0x57964a(0x7b7)],_0x21bec2,_0x883318);}catch(_0xfe7f9){this['logger']['error'](_0xfe7f9);}}async['getAllData'](){const _0x5da004=a0_0x36f96e;try{let _0x580bd4=await this['client'][_0x5da004(0x249)](this[_0x5da004(0x604)][_0x5da004(0x757)]+':'+this[_0x5da004(0x7b7)]);if(_0x580bd4){for(let _0x3acab3 in _0x580bd4)Object['prototype']['hasOwnProperty'][_0x5da004(0x153)](_0x580bd4,_0x3acab3)&&(_0x580bd4[_0x3acab3]=JSON[_0x5da004(0x766)](_0x580bd4[_0x3acab3],Dt[_0x5da004(0x3c6)][_0x5da004(0x204)]));return _0x580bd4;}}catch(_0x4df121){this[_0x5da004(0x42c)][_0x5da004(0x370)](_0x4df121);}}async[a0_0x36f96e(0x5d7)](_0x159fc3){const _0x385eb3=a0_0x36f96e;try{let _0x80f3f2=await this[_0x385eb3(0x3a9)]['hGet'](this[_0x385eb3(0x604)][_0x385eb3(0x757)]+':'+this['instanceName'],_0x159fc3);if(_0x80f3f2)return JSON[_0x385eb3(0x766)](_0x80f3f2,Dt['BufferJSON']['reviver']);}catch(_0x31d7ee){this['logger'][_0x385eb3(0x370)](_0x31d7ee);}}async[a0_0x36f96e(0x75b)](_0x1695d2){const _0x1aa751=a0_0x36f96e;try{return await this[_0x1aa751(0x3a9)][_0x1aa751(0x733)](this[_0x1aa751(0x604)]['PREFIX_KEY']+':'+this[_0x1aa751(0x7b7)],_0x1695d2);}catch(_0x2570ef){this[_0x1aa751(0x42c)][_0x1aa751(0x370)](_0x2570ef);}}async[a0_0x36f96e(0x379)](_0x5e5890){const _0x434e29=a0_0x36f96e;try{return await this['client'][_0x434e29(0x4f1)](_0x5e5890||this[_0x434e29(0x604)][_0x434e29(0x757)]+':'+this[_0x434e29(0x7b7)]);}catch(_0xe1bae3){this[_0x434e29(0x42c)]['error'](_0xe1bae3);}}};async function Rs(_0x2bf9c6,_0x81926e){const _0x42e356=a0_0x36f96e;let _0xb5f35f=new $(Rs[_0x42e356(0x79c)]),_0x416d2c=new le(_0x2bf9c6,_0x81926e),_0x4d9c3e=async(_0x1e74c9,_0x1934fc)=>{const _0x243bf5=_0x42e356;try{return await _0x416d2c[_0x243bf5(0x41d)](_0x1934fc,_0x1e74c9);}catch(_0xbc2f45){return _0xb5f35f['error']({'localError':_0x243bf5(0x41d),'error':_0xbc2f45});}},_0x5b85eb=async _0x2124fe=>{const _0x487843=_0x42e356;try{return await _0x416d2c[_0x487843(0x5d7)](_0x2124fe);}catch(_0x14d626){_0xb5f35f[_0x487843(0x370)]({'readData':_0x487843(0x41d),'error':_0x14d626});return;}},_0x440e3e=async _0x3e577d=>{const _0x62809f=_0x42e356;try{return await _0x416d2c[_0x62809f(0x75b)](_0x3e577d);}catch(_0x47e731){_0xb5f35f[_0x62809f(0x370)]({'readData':_0x62809f(0x75b),'error':_0x47e731});}},_0x56931f=await _0x5b85eb(_0x42e356(0x6d5))||(0x0,_t['initAuthCreds'])();return{'state':{'creds':_0x56931f,'keys':{'get':async(_0x5803e8,_0x21a9fc)=>{const _0xdb2b9e=_0x42e356;let _0x596b7a={};return await Promise['all'](_0x21a9fc[_0xdb2b9e(0x25f)](async _0x4fd326=>{const _0x1fac7e=_0xdb2b9e;let _0x248b6e=await _0x5b85eb(_0x5803e8+'-'+_0x4fd326);_0x5803e8===_0x1fac7e(0x5d2)&&_0x248b6e&&(_0x248b6e=_t[_0x1fac7e(0x355)]['Message']['AppStateSyncKeyData'][_0x1fac7e(0x275)](_0x248b6e)),_0x596b7a[_0x4fd326]=_0x248b6e;})),_0x596b7a;},'set':async _0x4a72bb=>{const _0x2f2769=_0x42e356;let _0x345b2f=[];for(let _0x516ac8 in _0x4a72bb)for(let _0x346055 in _0x4a72bb[_0x516ac8]){let _0x6b2c2b=_0x4a72bb[_0x516ac8][_0x346055],_0x97cc7d=_0x516ac8+'-'+_0x346055;_0x345b2f[_0x2f2769(0x334)](_0x6b2c2b?await _0x4d9c3e(_0x6b2c2b,_0x97cc7d):await _0x440e3e(_0x97cc7d));}await Promise[_0x2f2769(0x471)](_0x345b2f);}}},'saveCreds':async()=>await _0x4d9c3e(_0x56931f,_0x42e356(0x6d5))};}var j=T(require('fs')),Ce=require(a0_0x36f96e(0x480)),Lt=T(require(a0_0x36f96e(0x754))),Ft=require(a0_0x36f96e(0x30d)),vr=a0_0x36f96e(0x27f)[a0_0x36f96e(0x540)](),Pt=vr['split']('\x0a')[a0_0x36f96e(0x25f)](_0x1217cf=>{const _0x285c4b=a0_0x36f96e;let _0x4d4bae=_0x1217cf['split'](':'),_0x510914={'host':_0x4d4bae[0x0],'port':_0x4d4bae[0x1],'protocol':_0x285c4b(0x327)};return _0x4d4bae[_0x285c4b(0x5ed)]===0x4&&(_0x510914[_0x285c4b(0x627)]=_0x4d4bae[0x2],_0x510914[_0x285c4b(0x4ac)]=_0x4d4bae[0x3]),_0x510914;});function yo(_0x3a274f){const _0x463ca4=a0_0x36f96e;return Pt[_0x463ca4(0x6a2)](_0x1845e4=>_0x1845e4['host']===_0x3a274f)||null;}function bo(){const _0x5e9043=a0_0x36f96e;if(Pt[_0x5e9043(0x5ed)]===0x0)return null;let _0x4cff94=Math['floor'](Math['random']()*Pt[_0x5e9043(0x5ed)]);return Pt[_0x4cff94];}function $s(_0x481c6e){const _0x3683c6=a0_0x36f96e;let _0x545acc=_0x34c252=>typeof _0x34c252==_0x3683c6(0x18f)&&_0x34c252[_0x3683c6(0x5ed)]>0x0,_0x3edc5e=_0x2989b5=>{let _0x3d29a9=parseInt(_0x2989b5,0xa);return!isNaN(_0x3d29a9)&&_0x3d29a9>0x0&&_0x3d29a9<=0xffff;},_0x10c25e=_0x4d2a7e=>typeof _0x4d2a7e==_0x3683c6(0x18f)&&_0x4d2a7e[_0x3683c6(0x5ed)]>0x0;return _0x481c6e&&_0x545acc(_0x481c6e['host'])&&_0x3edc5e(_0x481c6e[_0x3683c6(0x4d2)])&&(!_0x481c6e[_0x3683c6(0x627)]||_0x10c25e(_0x481c6e['username']))&&(!_0x481c6e['password']||_0x10c25e(_0x481c6e[_0x3683c6(0x4ac)]))&&(_0x481c6e[_0x3683c6(0x7b4)]===_0x3683c6(0x327)||_0x481c6e[_0x3683c6(0x7b4)]===_0x3683c6(0x60d));}var Jt=require(a0_0x36f96e(0x6af)),xs='Safari',No,ue=null,So=null,st=null,Nr=0x3,Rr=null,te=b[a0_0x36f96e(0x5aa)](a0_0x36f96e(0x11c))[a0_0x36f96e(0x3c8)][a0_0x36f96e(0x3b8)];async function $r(){const _0x11d6d4=a0_0x36f96e;let _0x1368e4=await Me[_0x11d6d4(0x49a)]();ue=_0x1368e4?.['WebhookGlobal']??null,Rr=_0x1368e4?.[_0x11d6d4(0x333)]??null,xs=_0x1368e4?.['connectedClient']??_0x11d6d4(0x759),No=_0x1368e4?.['connectedName']??Ds??_0x11d6d4(0x1a9),console[_0x11d6d4(0x3bb)](_0x1368e4);}async function Ar(){await $r();}Ar();var Mo={},re={},Ee=class c{constructor(_0x9e632c,_0x3e572b,_0x589e9e){const _0x59b792=a0_0x36f96e;this[_0x59b792(0x33c)]=_0x9e632c,this[_0x59b792(0x2d4)]=_0x3e572b,this['repository']=_0x589e9e,this['AutomateSystem']=null,this[_0x59b792(0x42c)]=new $(c['name']),this['instance']={},this[_0x59b792(0x33f)]={},this[_0x59b792(0x56f)]={'state':_0x59b792(0x200)},this[_0x59b792(0x59c)]=(0x0,J[_0x59b792(0x41f)])(ne,'downloads'),this[_0x59b792(0x7ee)]=new Is[(_0x59b792(0x3dd))](),this[_0x59b792(0x6f5)]=new Is['default'](),this[_0x59b792(0x50a)]=!0x1,this[_0x59b792(0x74c)]={'status.instance':'/wa-connection-update','connection.update':_0x59b792(0x190),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x59b792(0x269),'send.message':_0x59b792(0x269),'messages.update':_0x59b792(0x351),'group.upsert':_0x59b792(0x505),'group.update':_0x59b792(0x505),'group-participants.update':_0x59b792(0x505),'messages.set':_0x59b792(0x345),'contacts.set':'/wa-contacts','contacts.upsert':_0x59b792(0x1c5),'contacts.update':_0x59b792(0x1c5),'presence.update':_0x59b792(0x63c),'chats.set':_0x59b792(0x7e0),'chats.update':_0x59b792(0x7e0),'chats.upsert':_0x59b792(0x7e0),'chats.delete':_0x59b792(0x7e0)},this[_0x59b792(0x121)]=0x0,this['reconnectTimestamps']=[],this[_0x59b792(0x5f7)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this['isRunning']=!0x1,this[_0x59b792(0x1ca)]={'chats.upsert':async(_0x359860,_0x92518d)=>{const _0x2a0806=_0x59b792;let _0x36b1ec=[];for await(let _0x39b321 of _0x359860)_0x36b1ec[_0x2a0806(0x334)]({'_id':_0x39b321['id'],'owner':this[_0x2a0806(0x582)][_0x2a0806(0x777)],'group':_0x39b321['id'][_0x2a0806(0x65b)](_0x2a0806(0x3f2)),'name':_0x39b321[_0x2a0806(0x79c)]||_0x39b321[_0x2a0806(0x251)]||null,'contactname':null,'lastmsg':_0x39b321[_0x2a0806(0x2e1)]&&_0x39b321['conversationTimestamp']['toString']()[_0x2a0806(0x5ed)]<0xd?_0x39b321[_0x2a0806(0x2e1)]*0x3e8:_0x39b321[_0x2a0806(0x2e1)]||null,'archived':_0x39b321[_0x2a0806(0x2ce)]||!0x1,'unreadcount':_0x39b321[_0x2a0806(0x776)]||0x0,'ephemeralExpiration':_0x39b321['ephemeralExpiration']||0x0});this[_0x2a0806(0x19d)](_0x2a0806(0x3b7),_0x36b1ec);},'chats.update':async(_0x1488c4,_0x3edd0c)=>{const _0x44c379=_0x59b792;for(let _0x3b39be of _0x1488c4){let _0x13cc05={'_id':_0x3b39be['id'],'owner':this[_0x44c379(0x582)]['wuid'],'archived':_0x3b39be[_0x44c379(0x2ce)],'muteEndTime':_0x3b39be[_0x44c379(0x167)],'ephemeralExpiration':_0x3b39be[_0x44c379(0x120)]},_0x42eceb=!0x1,_0x433672={};_0x13cc05[_0x44c379(0x2ce)]!=null&&(this[_0x44c379(0x42c)][_0x44c379(0x3a8)](this[_0x44c379(0x7b7)]+'\x20('+this[_0x44c379(0x582)][_0x44c379(0x777)]+_0x44c379(0x609)+_0x3b39be['id']+_0x44c379(0x2d5)+_0x3b39be['archived']),_0x42eceb=!0x0,_0x433672[_0x44c379(0x2ce)]=_0x3b39be[_0x44c379(0x2ce)]),_0x44c379(0x167)in _0x3b39be&&(this[_0x44c379(0x42c)][_0x44c379(0x3a8)](this[_0x44c379(0x7b7)]+'\x20('+this[_0x44c379(0x582)]['wuid']+_0x44c379(0x202)+_0x3b39be['id']+'\x20:\x20'+(_0x3b39be[_0x44c379(0x167)]??'0')),_0x42eceb=!0x0,_0x433672[_0x44c379(0x167)]=_0x3b39be[_0x44c379(0x167)]??0x0),_0x44c379(0x120)in _0x3b39be&&(this[_0x44c379(0x42c)][_0x44c379(0x3a8)](this[_0x44c379(0x7b7)]+'\x20('+this['instance'][_0x44c379(0x777)]+_0x44c379(0x6bd)+_0x3b39be['id']+_0x44c379(0x2d5)+(_0x3b39be[_0x44c379(0x120)]!==void 0x0?_0x3b39be['ephemeralExpiration']:_0x44c379(0x551))),_0x433672[_0x44c379(0x120)]=_0x3b39be['ephemeralExpiration']===null?0x0:_0x3b39be[_0x44c379(0x120)],_0x42eceb=!0x0);let _0x448138;_0x42eceb&&(_0x448138=await this[_0x44c379(0x1b7)][_0x44c379(0x550)]['updateOne']({'where':{'_id':_0x3b39be['id']}},_0x433672,this['instance'][_0x44c379(0x777)])),_0x448138&&U(this[_0x44c379(0x7b7)],_0x44c379(0x35d),{'chat':_0x448138});}},'chats.delete':async _0x1d9158=>{const _0x581c94=_0x59b792;for(let _0x49707c of _0x1d9158)if(_0x49707c['endsWith']('@g.us')){await this['repository']['chat'][_0x581c94(0x2fc)]({'where':{'_id':_0x49707c}},this['instance'][_0x581c94(0x777)]);let _0x579e8f={'where':{'key':{'remoteJid':_0x49707c}}};await this['repository'][_0x581c94(0x641)][_0x581c94(0x2fc)](_0x579e8f,this[_0x581c94(0x582)][_0x581c94(0x777)]);}else{await this[_0x581c94(0x1b7)][_0x581c94(0x550)][_0x581c94(0x4ec)]({'where':{'_id':_0x49707c}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x581c94(0x582)]['wuid']);let _0x371df7={'where':{'key':{'remoteJid':_0x49707c}}};await this[_0x581c94(0x1b7)][_0x581c94(0x641)][_0x581c94(0x2fc)](_0x371df7,this[_0x581c94(0x582)]['wuid']);}this['sendDataWebhook'](_0x581c94(0x77a),[..._0x1d9158]);}},this['contactHandle']={'contacts.upsert':async(_0x51e9c7,_0x439c66)=>{const _0x466cd4=_0x59b792;let _0x36177f=await this[_0x466cd4(0x1b7)][_0x466cd4(0x4a0)][_0x466cd4(0x6a2)]({'where':{}},this['instance'][_0x466cd4(0x777)]),_0xeb8ffb=[];for await(let _0x968d94 of _0x51e9c7)_0x36177f['find'](_0x2f2fe7=>_0x2f2fe7['_id']===_0x968d94['id'])||_0xeb8ffb['push']({'_id':_0x968d94['id'],'pushName':_0x968d94?.[_0x466cd4(0x79c)]||_0x968d94?.[_0x466cd4(0x1fd)],'owner':this[_0x466cd4(0x582)]['wuid']});this['sendDataWebhook'](_0x466cd4(0x3d7),_0xeb8ffb),await this[_0x466cd4(0x1b7)][_0x466cd4(0x4a0)][_0x466cd4(0x192)](_0xeb8ffb);},'contacts.update':async(_0x2f4459,_0x4f9c28)=>{const _0x2b33a5=_0x59b792;let _0x28215c=[];for await(let _0x58401d of _0x2f4459)_0x28215c[_0x2b33a5(0x334)]({'_id':_0x58401d['id'],'pushName':_0x58401d?.[_0x2b33a5(0x79c)]??_0x58401d?.['verifiedName'],'owner':this[_0x2b33a5(0x582)][_0x2b33a5(0x777)]});this[_0x2b33a5(0x19d)](_0x2b33a5(0x5d9),_0x28215c);}},this[_0x59b792(0x438)]={'messaging-history.set':async({messages:_0x21a956,chats:_0x15d629,isLatest:_0x2e847c},_0x48c7e9)=>{const _0x1f6748=_0x59b792;if(_0x2e847c){let _0x2b3e01=await Promise[_0x1f6748(0x471)](_0x15d629[_0x1f6748(0x25f)](async _0x53e755=>({'_id':_0x53e755['id'],'owner':this[_0x1f6748(0x582)][_0x1f6748(0x777)],'group':_0x53e755['id'][_0x1f6748(0x65b)](_0x1f6748(0x3f2)),'name':_0x53e755[_0x1f6748(0x79c)]||_0x53e755[_0x1f6748(0x251)]||_0x53e755['username']||null,'contactname':null,'lastmsg':_0x53e755[_0x1f6748(0x2e1)]&&_0x53e755[_0x1f6748(0x2e1)][_0x1f6748(0x2ee)]()[_0x1f6748(0x5ed)]<0xd?_0x53e755[_0x1f6748(0x2e1)]*0x3e8:_0x53e755[_0x1f6748(0x2e1)]||null,'archived':_0x53e755['archived']||!0x1,'unreadcount':_0x53e755[_0x1f6748(0x776)]||0x0,'ephemeralExpiration':_0x53e755[_0x1f6748(0x120)]||0x0,'muteEndTime':_0x53e755[_0x1f6748(0x167)]||0x0})));this['sendDataWebhook'](_0x1f6748(0x300),_0x2b3e01),await this[_0x1f6748(0x66e)](_0x2b3e01,_0x48c7e9);}let _0x47f824=[],_0x4d43eb=Date[_0x1f6748(0x31b)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x497eda]of Object[_0x1f6748(0x1ee)](_0x21a956)){if(_0x497eda[_0x1f6748(0x641)]?.[_0x1f6748(0x758)]||_0x497eda[_0x1f6748(0x641)]?.['senderKeyDistributionMessage']||!_0x497eda[_0x1f6748(0x641)]||_0x497eda[_0x1f6748(0x2f3)]['remoteJid']===_0x1f6748(0x68b)||(Ts[_0x1f6748(0x3dd)][_0x1f6748(0x549)](_0x497eda?.[_0x1f6748(0x37b)])&&(_0x497eda[_0x1f6748(0x37b)]=_0x497eda['messageTimestamp']?.[_0x1f6748(0x5ff)]()),_0x497eda[_0x1f6748(0x37b)]&&_0x497eda[_0x1f6748(0x37b)][_0x1f6748(0x2ee)]()[_0x1f6748(0x5ed)]<0xd&&(_0x497eda['messageTimestamp']=_0x497eda[_0x1f6748(0x37b)]*0x3e8),_0x497eda[_0x1f6748(0x37b)]<_0x4d43eb))continue;let _0x56595f=(0x0,f[_0x1f6748(0x548)])(_0x497eda[_0x1f6748(0x641)]),_0x4db6c1=(0x0,f[_0x1f6748(0x195)])(_0x56595f),{message_normalized:_0x582eaa}=this[_0x1f6748(0x420)](_0x56595f,_0x4db6c1,null);Object['keys'](_0x582eaa)[_0x1f6748(0x5ed)]>0x0&&_0x47f824[_0x1f6748(0x334)]({'_id':_0x497eda['key']['id'],'key':_0x497eda[_0x1f6748(0x2f3)],'pushName':_0x497eda[_0x1f6748(0x666)],'participant':_0x497eda[_0x1f6748(0x4b9)],'message':_0x56595f,'messageType':_0x4db6c1,'message_normalized':{'key':_0x497eda['key'],'pushName':_0x497eda[_0x1f6748(0x666)],'messageTimestamp':_0x497eda[_0x1f6748(0x37b)],..._0x582eaa},'messageTimestamp':_0x497eda[_0x1f6748(0x37b)],'owner':this[_0x1f6748(0x582)][_0x1f6748(0x777)]});}_0x48c7e9['ENABLED']&&_0x47f824['length']>0x0&&(this['logger'][_0x1f6748(0x3a8)](this['instanceName']+'\x20('+this[_0x1f6748(0x582)][_0x1f6748(0x777)]+_0x1f6748(0x325)+_0x47f824['length']+_0x1f6748(0x1d4)+this[_0x1f6748(0x582)][_0x1f6748(0x777)]+_0x1f6748(0x735)),await this[_0x1f6748(0x1b7)][_0x1f6748(0x641)][_0x1f6748(0x192)]([..._0x47f824],this[_0x1f6748(0x582)][_0x1f6748(0x777)])),this[_0x1f6748(0x19d)](_0x1f6748(0x4ff),[..._0x47f824]),_0x21a956=void 0x0;},'messages.upsert':async({messages:_0x5c96ef,type:_0x31ef6a},_0xc1c83f)=>{const _0x2fd521=_0x59b792;let _0x520928=_0x5c96ef[0x0],_0x282872=_0x520928[_0x2fd521(0x2f3)]['id'],_0x522eef=_0x520928['messageStubType']===0x2,_0x140d21=0xb;if(this[_0x2fd521(0x33f)]?.['groups_ignore']&&_0x520928[_0x2fd521(0x2f3)]['remoteJid'][_0x2fd521(0x4ba)](_0x2fd521(0x3f2))){this['logger'][_0x2fd521(0x3a8)](this['instanceName']+'\x20('+this[_0x2fd521(0x582)][_0x2fd521(0x777)]+_0x2fd521(0x2da));return;}if(_0x522eef){if(re[_0x282872]||(re[_0x282872]=0x0),re[_0x282872]++,this[_0x2fd521(0x42c)][_0x2fd521(0x370)](this['instanceName']+'\x20('+this[_0x2fd521(0x582)][_0x2fd521(0x777)]+_0x2fd521(0x1ce)+_0x520928[_0x2fd521(0x2f3)]['remoteJid']+_0x2fd521(0x159)+_0x282872+':\x20'+re[_0x282872]+'/'+_0x140d21),re[_0x282872]>=_0x140d21){this['logger'][_0x2fd521(0x370)](this[_0x2fd521(0x7b7)]+'\x20('+this[_0x2fd521(0x582)]['wuid']+_0x2fd521(0x738)+_0x520928[_0x2fd521(0x2f3)]['remoteJid']+_0x2fd521(0x159)+_0x282872+'.');let _0x6edb5f={'key':{..._0x520928[_0x2fd521(0x2f3)]},'message':{'conversation':_0x2fd521(0x58c)+_0x282872+_0x2fd521(0x3fc)}};this[_0x2fd521(0x3a9)]['ev']['emit'](_0x2fd521(0x50b),{'messages':[_0x6edb5f],'type':_0x2fd521(0x17e)}),delete re[_0x282872];}}else re[_0x282872]&&(this[_0x2fd521(0x42c)]['warn'](_0x2fd521(0x359)+re[_0x282872]+'\x20tentativas:\x20remotejid='+_0x520928['key']['remoteJid']+_0x2fd521(0x159)+_0x282872),delete re[_0x282872]);if(_0x31ef6a!=='notify'||!_0x520928?.[_0x2fd521(0x641)]||_0x520928[_0x2fd521(0x641)]?.['protocolMessage']||_0x520928[_0x2fd521(0x641)]['senderKeyDistributionMessage']||_0x520928[_0x2fd521(0x2f3)][_0x2fd521(0x71c)]===_0x2fd521(0x68b))return;let _0x56f785=null,_0x19e6e3=null;try{_0x56f785=await this[_0x2fd521(0x605)](_0x520928),_0x19e6e3=_0x56f785?_0x56f785[_0x2fd521(0x41f)](','):null;}catch(_0x6e982){this[_0x2fd521(0x42c)][_0x2fd521(0x3a8)](this[_0x2fd521(0x7b7)]+'\x20('+this[_0x2fd521(0x582)][_0x2fd521(0x777)]+_0x2fd521(0x325)+(_0x6e982 instanceof Error?_0x6e982['message']:JSON[_0x2fd521(0x751)](_0x6e982,null,0x2))),_0x19e6e3='error\x20get\x20vote';}this[_0x2fd521(0x3a9)][_0x2fd521(0x5f9)](_0x2fd521(0x318)),Ts[_0x2fd521(0x3dd)][_0x2fd521(0x549)](_0x520928[_0x2fd521(0x37b)])&&(_0x520928[_0x2fd521(0x37b)]=_0x520928[_0x2fd521(0x37b)]?.[_0x2fd521(0x5ff)]()),_0x520928[_0x2fd521(0x37b)]&&_0x520928['messageTimestamp'][_0x2fd521(0x2ee)]()[_0x2fd521(0x5ed)]<0xd&&(_0x520928['messageTimestamp']=_0x520928['messageTimestamp']*0x3e8);let _0xc28077=_0x520928['message'],_0x5469d4=(0x0,f[_0x2fd521(0x548)])(_0xc28077),_0x524aa0=(0x0,f[_0x2fd521(0x195)])(_0x5469d4),{messageContent:_0x373c67,message_normalized:_0x3fd316}=this[_0x2fd521(0x420)](_0x5469d4,_0x524aa0,_0x19e6e3);_0x524aa0===_0x2fd521(0x758)&&_0x373c67?.['editedMessage']&&(_0x524aa0=_0x2fd521(0x496));let _0x785530,_0x3f6b76=_0x520928[_0x2fd521(0x2f3)][_0x2fd521(0x71c)][_0x2fd521(0x65b)](_0x2fd521(0x3f2));if(_0x520928[_0x2fd521(0x2f3)]['fromMe'])_0x785530=this[_0x2fd521(0x582)][_0x2fd521(0x6bc)];else{let _0x1edd85=_0x3f6b76?_0x520928[_0x2fd521(0x2f3)][_0x2fd521(0x4b9)]:_0x520928['key'][_0x2fd521(0x71c)];_0x785530=(await this[_0x2fd521(0x435)](_0x1edd85,_0x520928[_0x2fd521(0x666)],!0x1))['cachedContact'][_0x2fd521(0x33a)];}let _0x30a17d={'_id':_0x520928[_0x2fd521(0x2f3)]['id'],'key':_0x520928[_0x2fd521(0x2f3)],'isGroup':_0x3f6b76,'profilePictureUrl':_0x785530,'pushName':_0x520928[_0x2fd521(0x666)],'message':_0x5469d4,'messageType':_0x524aa0,'message_normalized':{'key':_0x520928['key'],'pushName':_0x520928[_0x2fd521(0x666)],'messageTimestamp':_0x520928[_0x2fd521(0x37b)],'source':(0x0,f['getDevice'])(_0x520928[_0x2fd521(0x2f3)]['id']),..._0x3fd316},'messageTimestamp':_0x520928[_0x2fd521(0x37b)],'owner':this['instance'][_0x2fd521(0x777)],'source':(0x0,f['getDevice'])(_0x520928['key']['id']),'expiration':_0x373c67?.[_0x2fd521(0x5c9)]?.[_0x2fd521(0x189)]||0x0};_0x373c67||(console[_0x2fd521(0x370)](_0x2fd521(0x6ee)),this[_0x2fd521(0x42c)][_0x2fd521(0x370)](_0x30a17d)),this[_0x2fd521(0x42c)][_0x2fd521(0x3bb)](this[_0x2fd521(0x7b7)]+'\x20('+this[_0x2fd521(0x582)]['wuid']+'):\x20'+(_0x30a17d[_0x2fd521(0x2f3)]?.[_0x2fd521(0x105)]?_0x2fd521(0x138):_0x2fd521(0x531))+'\x20['+_0x30a17d[_0x2fd521(0x2f3)]?.[_0x2fd521(0x71c)][_0x2fd521(0x410)](_0x2fd521(0x54d),'')+']\x20('+_0x30a17d[_0x2fd521(0x817)]+')'),_0x30a17d[_0x2fd521(0x7b6)]?.['text']&&this[_0x2fd521(0x42c)][_0x2fd521(0x3bb)](_0x282872+':\x20'+_0x30a17d['message_normalized']?.[_0x2fd521(0x562)]),await this[_0x2fd521(0x1b7)][_0x2fd521(0x641)][_0x2fd521(0x192)]([_0x30a17d],this[_0x2fd521(0x582)][_0x2fd521(0x777)]),this[_0x2fd521(0x19d)](_0x2fd521(0x50b),_0x30a17d),U(this[_0x2fd521(0x7b7)],'messages',{'message':_0x30a17d}),_0x520928[_0x2fd521(0x2f3)][_0x2fd521(0x71c)]!=='status@broadcast'&&await this[_0x2fd521(0x3ca)](_0xc1c83f,_0x30a17d,'MESSAGES_UPSERT');},'messages.update':async(_0xb36d10,_0x50dd56)=>{const _0x4080e5=_0x59b792;let _0x30654f={0x0:_0x4080e5(0x2c4),0x1:_0x4080e5(0x413),0x2:'SERVER_ACK',0x3:'DELIVERY_ACK',0x4:_0x4080e5(0x221),0x5:_0x4080e5(0x692)};for await(let {key:_0x5293dd,update:_0x585e0c}of _0xb36d10){if(this[_0x4080e5(0x33f)]?.['groups_ignore']&&_0x5293dd[_0x4080e5(0x71c)][_0x4080e5(0x4ba)](_0x4080e5(0x3f2))){this['logger']['verbose'](this[_0x4080e5(0x7b7)]+'\x20('+this[_0x4080e5(0x582)]['wuid']+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x5293dd['remoteJid']!=='status@broadcast'){let _0x1157da=Date[_0x4080e5(0x31b)](),_0x4628a3;_0x585e0c[_0x4080e5(0x641)]===null&&_0x585e0c[_0x4080e5(0x193)]===void 0x0?_0x4628a3=_0x4080e5(0x72a):_0x4628a3=_0x30654f[_0x585e0c[_0x4080e5(0x193)]];let _0x41ebb9=_0x5293dd[_0x4080e5(0x71c)][_0x4080e5(0x410)](/:\d{1,2}@/g,'@'),_0x53b26f={..._0x5293dd,'remoteJid':_0x41ebb9,'status':_0x4628a3,'datetime':_0x1157da,'owner':this[_0x4080e5(0x582)][_0x4080e5(0x777)]};this[_0x4080e5(0x19d)](_0x4080e5(0x3c9),_0x53b26f),await this[_0x4080e5(0x2c9)](_0x5293dd,_0x53b26f);}}},'labels.association':async({type:_0x205cd4,association:_0x46a81f})=>{const _0xc3c485=_0x59b792;if(_0x46a81f['type']===_0xc3c485(0x104)){let _0x437f99,_0x99a30a=0x0;for(;!_0x437f99&&_0x99a30a<this[_0xc3c485(0x4b6)];)_0x437f99=await this[_0xc3c485(0x1b7)][_0xc3c485(0x550)]['findOne']({'where':{'_id':_0x46a81f[_0xc3c485(0x4cb)]}},this[_0xc3c485(0x582)][_0xc3c485(0x777)]),_0x437f99||(_0x99a30a++,this[_0xc3c485(0x42c)]['info'](this[_0xc3c485(0x7b7)]+'\x20('+this[_0xc3c485(0x582)][_0xc3c485(0x777)]+'):\x20Chat\x20'+_0x46a81f[_0xc3c485(0x4cb)]+_0xc3c485(0x1c2)+this[_0xc3c485(0x231)]+_0xc3c485(0x781)+_0x99a30a+'/'+this[_0xc3c485(0x4b6)]+')'),await this[_0xc3c485(0x170)](this[_0xc3c485(0x231)]));if(!_0x437f99){console[_0xc3c485(0x370)](_0xc3c485(0x7e6)+_0x46a81f[_0xc3c485(0x4cb)]+_0xc3c485(0x3ad)+this[_0xc3c485(0x4b6)]+_0xc3c485(0x72f));return;}switch(_0x205cd4){case _0xc3c485(0x35f):console['log'](_0x46a81f),await this[_0xc3c485(0x1b7)][_0xc3c485(0x550)]['updateOne']({'where':{'_id':_0x46a81f[_0xc3c485(0x4cb)]}},{'leadInfo.etiquetas':_0x46a81f['labelId']},this[_0xc3c485(0x582)][_0xc3c485(0x777)],void 0x0,_0xc3c485(0x332));break;case'remove':console[_0xc3c485(0x3bb)](_0x46a81f),await this[_0xc3c485(0x1b7)][_0xc3c485(0x550)]['updateOne']({'where':{'_id':_0x46a81f[_0xc3c485(0x4cb)]}},{'leadInfo.etiquetas':_0x46a81f['labelId']},this[_0xc3c485(0x582)]['wuid'],void 0x0,_0xc3c485(0x403));break;default:console['error']('unknown\x20operation\x20type\x20['+_0x205cd4+']');}}},'labels.edit':async _0x4701ff=>{const _0x125199=_0x59b792;if(!_0x4701ff||!_0x4701ff['id']){console[_0x125199(0x370)](_0x125199(0x6d4));return;}if(!_0x4701ff[_0x125199(0x810)]){let _0x14535f=[_0x125199(0x7ed),_0x125199(0x17d),_0x125199(0x701),_0x125199(0x3ef),_0x125199(0x521),'#56ccb4',_0x125199(0x5da),'#d3a91f',_0x125199(0x603),_0x125199(0x508),'#01d0e2',_0x125199(0x7d0),_0x125199(0x45d),_0x125199(0x67f),_0x125199(0x386),_0x125199(0x44c),'#ffae04',_0x125199(0x2c0),_0x125199(0x324),'#9568cf'],_0x5e2519;typeof _0x4701ff['color']==_0x125199(0x3b2)&&_0x4701ff[_0x125199(0x44d)]>=0x0&&_0x4701ff[_0x125199(0x44d)]<_0x14535f[_0x125199(0x5ed)]?_0x5e2519=_0x14535f[_0x4701ff['color']]:(console[_0x125199(0x370)](_0x125199(0x764),_0x4701ff[_0x125199(0x44d)]),_0x5e2519=_0x125199(0x5a2));let _0x43f356={'_id':_0x4701ff['id'],'colorHex':_0x5e2519,'color':_0x4701ff?.[_0x125199(0x44d)],'name':_0x4701ff?.[_0x125199(0x79c)],'owner':this['instance'][_0x125199(0x777)]};await this['repository'][_0x125199(0x40e)][_0x125199(0x4ec)]({'where':{'_id':_0x4701ff['id']}},_0x43f356,this[_0x125199(0x582)][_0x125199(0x777)]),this[_0x125199(0x42c)]['info'](this['instanceName']+'\x20('+this['instance'][_0x125199(0x777)]+_0x125199(0x467)+_0x4701ff);}_0x4701ff['deleted']&&(await this[_0x125199(0x1b7)][_0x125199(0x40e)][_0x125199(0x2fc)]({'where':{'_id':_0x4701ff['id']}},this[_0x125199(0x582)][_0x125199(0x777)]),this[_0x125199(0x42c)][_0x125199(0x299)](_0x125199(0x417)+_0x4701ff['id']));}},this[_0x59b792(0x4ce)]={'groups.upsert':async _0x46cb59=>{const _0x5190cd=_0x59b792;this[_0x5190cd(0x33f)]?.['groups_ignore']||this[_0x5190cd(0x19d)](_0x5190cd(0x2a4),_0x46cb59);for(let _0x3b25a4 of _0x46cb59)await this['updateGroupWebhook'](_0x3b25a4);},'groups.update':async _0x164749=>{const _0x51718e=_0x59b792;this[_0x51718e(0x33f)]?.[_0x51718e(0x5ce)]||this[_0x51718e(0x19d)](_0x51718e(0x811),_0x164749);for(let _0x47e0d0 of _0x164749)await this[_0x51718e(0x46a)](_0x47e0d0);},'group-participants.update':async _0x3e1193=>{const _0x4d4452=_0x59b792;this['localWebhook']?.[_0x4d4452(0x5ce)]||this['sendDataWebhook'](_0x4d4452(0x1b4),_0x3e1193),await this[_0x4d4452(0x599)](_0x3e1193);}},this[_0x59b792(0x4b6)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x59b792(0x605)]=async _0x4fe26e=>{const _0x1c908e=_0x59b792;if(_0x4fe26e[_0x1c908e(0x641)]?.[_0x1c908e(0x555)]){let _0x352ae5=await this[_0x1c908e(0x3df)](_0x4fe26e[_0x1c908e(0x641)][_0x1c908e(0x555)][_0x1c908e(0x13e)],!0x0);if(_0x352ae5){let _0x16a0e4=_0x352ae5[_0x1c908e(0x2f3)][_0x1c908e(0x105)]?this[_0x1c908e(0x582)][_0x1c908e(0x777)]+_0x1c908e(0x54d):_0x352ae5['key'][_0x1c908e(0x4b9)]||_0x352ae5['key'][_0x1c908e(0x71c)],_0x68ad8c=_0x352ae5[_0x1c908e(0x2f3)]['id'],_0x30d96d=_0x352ae5[_0x1c908e(0x641)],_0x5f35e9=Buffer['from'](_0x30d96d[_0x1c908e(0x47f)]['messageSecret'][_0x1c908e(0x2ee)](_0x1c908e(0x298)),_0x1c908e(0x298)),_0x78bf27=(0x0,f[_0x1c908e(0x326)])(_0x4fe26e[_0x1c908e(0x641)][_0x1c908e(0x555)][_0x1c908e(0x740)],{'pollCreatorJid':_0x16a0e4,'pollMsgId':_0x68ad8c,'pollEncKey':_0x5f35e9,'voterJid':_0x4fe26e[_0x1c908e(0x2f3)]['fromMe']?this[_0x1c908e(0x582)]['wuid']+_0x1c908e(0x54d):_0x4fe26e[_0x1c908e(0x2f3)][_0x1c908e(0x71c)][_0x1c908e(0x65b)](_0x1c908e(0x5fb))?_0x4fe26e[_0x1c908e(0x2f3)][_0x1c908e(0x4b9)]:_0x4fe26e[_0x1c908e(0x2f3)]['remoteJid']}),_0x139e9e=[],_0x348fa5=_0x78bf27[_0x1c908e(0x1e1)][_0x1c908e(0x25f)](_0x10b762=>Buffer[_0x1c908e(0x6b9)](_0x10b762)[_0x1c908e(0x2ee)](_0x1c908e(0x298)));for(let {optionName:_0x4b2d93}of _0x30d96d[_0x1c908e(0x790)]?.[_0x1c908e(0x432)]||_0x30d96d[_0x1c908e(0x162)]?.[_0x1c908e(0x432)]||_0x30d96d['pollCreationMessageV2']?.['options'])_0x348fa5['indexOf']((0x0,f[_0x1c908e(0x201)])(Buffer[_0x1c908e(0x6b9)](_0x4b2d93))[_0x1c908e(0x2ee)]('hex'))>-0x1&&_0x139e9e[_0x1c908e(0x334)](_0x4b2d93);return _0x139e9e;}}return null;},this[_0x59b792(0x420)]=(_0x3994c6,_0x1cdbca,_0x175c1d)=>{const _0x4c58db=_0x59b792;try{let _0x4224f8=_0x3994c6?(0x0,f[_0x4c58db(0x25b)])(_0x3994c6)[_0x1cdbca]:void 0x0,_0x1d797f={},_0x1e9bda=null,_0x4e7cc6=null,_0x3fbf32=null;_0x1cdbca==='protocolMessage'&&_0x4224f8?.['editedMessage']&&(_0x1cdbca=(0x0,f[_0x4c58db(0x195)])(_0x4224f8['editedMessage']),_0x1e9bda=_0x3994c6[_0x4c58db(0x758)][_0x4c58db(0x2f3)]['id'],_0x4224f8=_0x3994c6[_0x4c58db(0x758)][_0x4c58db(0x496)][_0x1cdbca]),_0x3994c6[_0x1cdbca]?.['contextInfo']?.[_0x4c58db(0x62a)]&&_0x3994c6[_0x1cdbca]?.[_0x4c58db(0x5c9)]?.[_0x4c58db(0x722)]&&(_0x4e7cc6=_0x3994c6[_0x1cdbca][_0x4c58db(0x5c9)][_0x4c58db(0x62a)]),_0x3994c6[_0x4c58db(0x7db)]&&(_0x3fbf32=_0x3994c6[_0x4c58db(0x7db)][_0x4c58db(0x2f3)]['id']);let _0x24f861;if(_0x4224f8&&typeof _0x4224f8=='object'&&'pollCreationMessageKey'in _0x4224f8&&({pollCreationMessageKey:_0x24f861}=_0x4224f8),_0x1cdbca===_0x4c58db(0x790)||_0x1cdbca===_0x4c58db(0x1db)||_0x1cdbca===_0x4c58db(0x162)){let _0x15ada0=_0x4224f8['options'][_0x4c58db(0x25f)](_0x39afc1=>_0x39afc1[_0x4c58db(0x16a)])[_0x4c58db(0x41f)]('|');_0x1d797f['convertedOptions']=_0x15ada0;}let _0x5ce402='';if(_0x4224f8&&(_0x5ce402+=_0x4224f8['name']?_0x4224f8['name']:'',_0x5ce402+=_0x4224f8[_0x4c58db(0x5d4)]?'\x20'+_0x4224f8[_0x4c58db(0x5d4)]:'',_0x5ce402+=_0x4224f8[_0x4c58db(0x58d)]?'\x20'+_0x4224f8[_0x4c58db(0x58d)]:'',_0x5ce402+=_0x4224f8[_0x4c58db(0x251)]?'\x20'+_0x4224f8['displayName']:''),_0x1cdbca===_0x4c58db(0x23e)){_0x5ce402=(_0x4224f8[_0x4c58db(0x698)]||'')+'\x0a'+(_0x4224f8[_0x4c58db(0x6c6)]||'')+'\x0a'+(_0x4224f8[_0x4c58db(0x5a5)]||'');let _0x4741ef=this[_0x4c58db(0x294)](_0x4224f8[_0x4c58db(0x5ca)]);_0x1d797f['convertedOptions']=_0x4741ef;}if(_0x1cdbca===_0x4c58db(0x423)&&(_0x175c1d=_0x4224f8[_0x4c58db(0x698)]),_0x4224f8&&_0x4224f8['vcard']){let _0x261775=this[_0x4c58db(0x63e)](JSON[_0x4c58db(0x751)](_0x4224f8[_0x4c58db(0x1af)],null,0x2));_0x5ce402=_0x5ce402+'\x0a'+_0x261775;}if(_0x4224f8){let {sections:_0x5ab179,listType:_0x3f2def,displayName:_0x4e505c,vcard:_0x116a89,contactVcard:_0x390c06,name:_0x9fd53c,caption:_0x418194,conversation:_0x3425f9,pollCreationMessageKey:_0x2acc8a,footerText:_0x49e37a,contentText:_0x59a0f8,pageCount:_0x5d856c,headerType:_0x54ce6b,isAvatar:_0x34291d,isAnimated:_0x53a1c9,fallbackLc:_0x4699c8,fallbackLg:_0x2908cc,namespace:_0x291b90,elementName:_0x5e571a,localizableParams:_0x57a350,viewOnce:_0x34d0e9,height:_0x1f14cc,width:_0x536cc4,key:_0x13347a,firstScanLength:_0x542c4a,firstScanSidecar:_0x31e3cc,gifPlayback:_0x3d8091,gifAttribution:_0x25a7d6,midQualityFileSha256:_0x46dd6a,scansSidecar:_0x3a7237,streamingSidecar:_0x31692a,thumbnailHeight:_0x376d98,thumbnailWidth:_0x379e9f,thumbnailEncSha256:_0x135cde,thumbnailDirectPath:_0x49fc2b,canonicalUrl:_0x48922c,matchedText:_0x98efd8,previewType:_0x427ec5,thumbnailSha256:_0x2fd7b3,deviceListMetadataVersion:_0x5e1ff5,inviteLinkGroupTypeV2:_0x59d402,interactiveAnnotations:_0x17df3c,scanLengths:_0x465cb8,jpegThumbnail:_0x42d9f2,url:_0x42e9b8,mediaKeyTimestamp:_0x2802ed,waveform:_0x137bf1,stickerSentTs:_0x1eebd4,firstFrameLength:_0x36eda3,fileEncSha256:_0x570426,contextInfo:_0x80c6f7,firstFrameSidecar:_0x2dd5ff,directPath:_0x5ec3ba,fileSha256:_0x10de39,mediaKey:_0x39b0e4,senderTimestampMs:_0x426269,..._0x46f327}=_0x4224f8;(_0x1cdbca===_0x4c58db(0x23e)||_0x1cdbca===_0x4c58db(0x423))&&(delete _0x46f327[_0x4c58db(0x698)],delete _0x46f327[_0x4c58db(0x6c6)]),typeof _0x4224f8==_0x4c58db(0x18f)?_0x1d797f={'text':_0x4224f8,'type':_0x1cdbca||_0x4c58db(0x58d),..._0x1e9bda&&{'edited':_0x1e9bda},..._0x4e7cc6&&{'quoted':_0x4e7cc6},..._0x3fbf32&&{'reaction':_0x3fbf32}}:_0x1d797f={'text':_0x5ce402,..._0x46f327,..._0x1cdbca==='pollUpdateMessage'?{'poll_id':_0x4224f8[_0x4c58db(0x13e)]['id'],'quoted':_0x4224f8[_0x4c58db(0x13e)]['id'],'vote':_0x175c1d}:{},..._0x1cdbca===_0x4c58db(0x423)?{'vote':_0x175c1d}:{},'type':_0x1cdbca,..._0x1e9bda&&{'edited':_0x1e9bda},..._0x4e7cc6&&{'quoted':_0x4e7cc6},..._0x3fbf32&&{'reaction':_0x3fbf32},...(_0x1cdbca===_0x4c58db(0x790)||_0x1cdbca===_0x4c58db(0x1db)||_0x1cdbca==='pollCreationMessageV3'||_0x1cdbca==='listMessage')&&{'convertedOptions':_0x1d797f[_0x4c58db(0x286)]}};}return{'messageType':_0x1cdbca,'messageContent':_0x4224f8,'message_normalized':_0x1d797f};}catch(_0xf210a3){return console[_0x4c58db(0x370)](_0x4c58db(0x433),_0xf210a3),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x59b792(0x75d)](),this[_0x59b792(0x582)][_0x59b792(0x220)]={'count':0x0},this['instance'][_0x59b792(0x39c)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set['instanceName'](_0xe8fe2c){const _0x12e1ff=a0_0x36f96e;if(!_0xe8fe2c){this[_0x12e1ff(0x582)][_0x12e1ff(0x79c)]=(0x0,Co['v4'])();return;}this[_0x12e1ff(0x582)]['name']=_0xe8fe2c,this['sendDataWebhook'](_0x12e1ff(0x284),{'instance':this[_0x12e1ff(0x582)][_0x12e1ff(0x79c)],'status':_0x12e1ff(0x1de)});}get['instanceName'](){const _0x378ee7=a0_0x36f96e;return this[_0x378ee7(0x582)][_0x378ee7(0x79c)];}get[a0_0x36f96e(0x777)](){const _0xf52512=a0_0x36f96e;return this['instance'][_0xf52512(0x777)];}async[a0_0x36f96e(0x1d6)](){const _0xe8bf17=a0_0x36f96e;let _0x414938=this['client'][_0xe8bf17(0x31f)]?.[_0xe8bf17(0x79c)]??this[_0xe8bf17(0x3a9)]['user']?.['verifiedName'];if(!_0x414938){if(this['configService']['get'](_0xe8bf17(0x693))['ENABLED']){let _0x13e5db=await A[_0xe8bf17(0x58e)]()['db'](this[_0xe8bf17(0x33c)]['get'](_0xe8bf17(0x693))['CONNECTION']['DB_PREFIX_NAME']+'-instances')['collection'](this[_0xe8bf17(0x7b7)])[_0xe8bf17(0x49a)]({'_id':'creds'});if(_0x13e5db){let _0x2986bd=JSON[_0xe8bf17(0x766)](JSON[_0xe8bf17(0x751)](_0x13e5db),f[_0xe8bf17(0x3c6)][_0xe8bf17(0x204)]);_0x414938=_0x2986bd['me']?.['name']||_0x2986bd['me']?.[_0xe8bf17(0x1fd)];}}else{if((0x0,De[_0xe8bf17(0x310)])((0x0,J[_0xe8bf17(0x41f)])(fe,this[_0xe8bf17(0x7b7)],'creds.json'))){let _0xac0ab7=JSON[_0xe8bf17(0x766)]((0x0,De[_0xe8bf17(0x42a)])((0x0,J[_0xe8bf17(0x41f)])(fe,this[_0xe8bf17(0x7b7)],_0xe8bf17(0x2f0)),{'encoding':_0xe8bf17(0x66b)}));_0x414938=_0xac0ab7['me']?.[_0xe8bf17(0x79c)]||_0xac0ab7['me']?.[_0xe8bf17(0x1fd)];}}}return _0x414938;}get['profilePictureUrl'](){const _0x3ab55b=a0_0x36f96e;return this[_0x3ab55b(0x582)]['profilePictureUrl'];}get[a0_0x36f96e(0x1bf)](){const _0x315ccb=a0_0x36f96e;return this[_0x315ccb(0x582)][_0x315ccb(0x220)]?.[_0x315ccb(0x5a0)]?{'pairingCode':this[_0x315ccb(0x582)][_0x315ccb(0x220)]?.[_0x315ccb(0x5a0)]}:{'code':this[_0x315ccb(0x582)]['qrcode']?.[_0x315ccb(0x107)],'base64':this[_0x315ccb(0x582)][_0x315ccb(0x220)]?.[_0x315ccb(0x5f6)]};}async[a0_0x36f96e(0x4d3)](){const _0x55247f=a0_0x36f96e;let _0x4d2393=await this['repository'][_0x55247f(0x556)]['find'](this[_0x55247f(0x7b7)]);this[_0x55247f(0x33f)][_0x55247f(0x206)]=_0x4d2393?.[_0x55247f(0x206)],this[_0x55247f(0x33f)]['enabled']=_0x4d2393?.[_0x55247f(0x6b4)],this[_0x55247f(0x33f)][_0x55247f(0x3fb)]=_0x4d2393?.[_0x55247f(0x3fb)],this['localWebhook'][_0x55247f(0x7a3)]=_0x4d2393?.['STATUS_INSTANCE'],this[_0x55247f(0x33f)]['QRCODE_UPDATED']=_0x4d2393?.[_0x55247f(0x255)],this['localWebhook'][_0x55247f(0x5e1)]=_0x4d2393?.[_0x55247f(0x5e1)],this[_0x55247f(0x33f)][_0x55247f(0x3e3)]=_0x4d2393?.[_0x55247f(0x3e3)],this['localWebhook'][_0x55247f(0x13f)]=_0x4d2393?.[_0x55247f(0x13f)],this[_0x55247f(0x33f)][_0x55247f(0x2cb)]=_0x4d2393?.[_0x55247f(0x2cb)],this[_0x55247f(0x33f)]['GROUPS_UPDATE']=_0x4d2393?.[_0x55247f(0x633)],this[_0x55247f(0x33f)][_0x55247f(0x16c)]=_0x4d2393?.[_0x55247f(0x16c)],this[_0x55247f(0x33f)][_0x55247f(0x54a)]=_0x4d2393?.[_0x55247f(0x54a)],this[_0x55247f(0x33f)][_0x55247f(0x574)]=_0x4d2393?.[_0x55247f(0x574)],this['localWebhook'][_0x55247f(0x809)]=_0x4d2393?.[_0x55247f(0x809)],this[_0x55247f(0x33f)][_0x55247f(0x307)]=_0x4d2393?.[_0x55247f(0x307)],this[_0x55247f(0x33f)]['CONTACTS_SET']=_0x4d2393?.[_0x55247f(0x13a)],this[_0x55247f(0x33f)]['CONTACTS_UPSERT']=_0x4d2393?.[_0x55247f(0x569)],this[_0x55247f(0x33f)][_0x55247f(0x416)]=_0x4d2393?.[_0x55247f(0x416)],this[_0x55247f(0x33f)]['PRESENCE_UPDATE']=_0x4d2393?.[_0x55247f(0x23b)],this['localWebhook'][_0x55247f(0x657)]=_0x4d2393?.[_0x55247f(0x657)],this[_0x55247f(0x33f)][_0x55247f(0x34e)]=_0x4d2393?.[_0x55247f(0x34e)],this[_0x55247f(0x33f)]['groups_ignore']=_0x4d2393?.[_0x55247f(0x5ce)];}async[a0_0x36f96e(0x388)](_0x1d8545){const _0x5db35c=a0_0x36f96e;let _0x46af10=[_0x5db35c(0x183),_0x5db35c(0x206),_0x5db35c(0x6b4),'local_map',_0x5db35c(0x7a3),_0x5db35c(0x255),_0x5db35c(0x13f),_0x5db35c(0x3e3),_0x5db35c(0x5e1),_0x5db35c(0x2cb),'GROUPS_UPDATE',_0x5db35c(0x16c),_0x5db35c(0x54a),_0x5db35c(0x574),_0x5db35c(0x809),_0x5db35c(0x307),_0x5db35c(0x13a),_0x5db35c(0x569),_0x5db35c(0x416),'PRESENCE_UPDATE','MESSAGES_SET',_0x5db35c(0x34e),_0x5db35c(0x5ce)],_0x2ed4ac={};return _0x46af10[_0x5db35c(0x1f3)](_0x2d6995=>{_0x1d8545[_0x2d6995]!==void 0x0&&(_0x2ed4ac[_0x2d6995]=_0x1d8545[_0x2d6995]);}),_0x2ed4ac[_0x5db35c(0x206)]&&(_0x2ed4ac['url']=_0x2ed4ac[_0x5db35c(0x206)][_0x5db35c(0x540)]()),await this['repository'][_0x5db35c(0x556)]['create'](_0x2ed4ac,this['instanceName']),Object['assign'](this[_0x5db35c(0x33f)],_0x2ed4ac),await this[_0x5db35c(0x1b7)][_0x5db35c(0x556)]['find'](this['instanceName']);}async[a0_0x36f96e(0x245)](){const _0x235ef3=a0_0x36f96e;return await this[_0x235ef3(0x1b7)][_0x235ef3(0x556)][_0x235ef3(0x6a2)](this[_0x235ef3(0x7b7)]);}async['sendDataWebhook'](_0x2ec69e,_0x1f0067){const _0x445718=a0_0x36f96e;let _0x2cd06d=_0x2ec69e[_0x445718(0x410)](/[\.-]/gm,'_')[_0x445718(0x491)](),_0x5eba5c=this['localWebhook'][_0x445718(0x6b4)]&&(0x0,k[_0x445718(0x15d)])(this[_0x445718(0x33f)][_0x445718(0x206)])?this[_0x445718(0x33f)][_0x445718(0x206)]+(this[_0x445718(0x33f)]['local_map']?this['webhookMap'][_0x2ec69e]:''):null,_0x4d6dfe=this[_0x445718(0x33f)][_0x2cd06d],_0x4f3f4c=ue&&ue[_0x445718(0x6b4)]&&(0x0,k['isURL'])(ue[_0x445718(0x206)])?ue[_0x445718(0x206)]+(ue['local_map']?this['webhookMap'][_0x2ec69e]:''):null,_0xf2b070=ue?ue[_0x2cd06d]:null;if(_0x4d6dfe&&_0x5eba5c)try{await Q[_0x445718(0x3dd)]['create']({'baseURL':_0x5eba5c})['post']('',{'event':_0x2ec69e,'instance':this[_0x445718(0x582)][_0x445718(0x79c)],'apikey':this['instance'][_0x445718(0x69e)],'data':_0x1f0067}),this[_0x445718(0x42c)][_0x445718(0x3bb)](this[_0x445718(0x7b7)]+'\x20('+this[_0x445718(0x582)][_0x445718(0x777)]+_0x445718(0x1f7)+_0x2ec69e+':\x20'+_0x5eba5c);}catch{this[_0x445718(0x42c)][_0x445718(0x370)](this[_0x445718(0x7b7)]+'\x20('+this[_0x445718(0x582)][_0x445718(0x777)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x2ec69e+':\x20'+_0x5eba5c);}if(_0xf2b070&&_0x4f3f4c)try{await Q[_0x445718(0x3dd)][_0x445718(0x250)]({'baseURL':_0x4f3f4c})[_0x445718(0x784)]('',{'event':_0x2ec69e,'instance':this[_0x445718(0x582)][_0x445718(0x79c)],'apikey':this[_0x445718(0x582)][_0x445718(0x69e)],'data':_0x1f0067}),this['logger']['log'](this['instanceName']+'\x20('+this['instance'][_0x445718(0x777)]+_0x445718(0x1dd)+_0x2ec69e+':\x20'+_0x4f3f4c);}catch{this[_0x445718(0x42c)][_0x445718(0x370)](this['instanceName']+'\x20('+this['instance'][_0x445718(0x777)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x2ec69e+':\x20'+_0x4f3f4c);}}async['connectionUpdate']({qr:_0x18e5b2,connection:_0x559178,lastDisconnect:_0x29acd5}){const _0x1a783f=a0_0x36f96e;if(_0x18e5b2){if(this[_0x1a783f(0x582)][_0x1a783f(0x220)][_0x1a783f(0x3b3)]===Nr)return this[_0x1a783f(0x19d)](_0x1a783f(0x7ec),{'message':_0x1a783f(0x7bc),'statusCode':f[_0x1a783f(0x37e)][_0x1a783f(0x157)]}),this[_0x1a783f(0x56f)]={'state':_0x1a783f(0x677),'statusReason':f['DisconnectReason'][_0x1a783f(0x339)]},this[_0x1a783f(0x19d)](_0x1a783f(0x6a9),{'instance':this[_0x1a783f(0x582)][_0x1a783f(0x79c)],...this[_0x1a783f(0x56f)]}),this[_0x1a783f(0x19d)](_0x1a783f(0x284),{'instance':this['instance'][_0x1a783f(0x79c)],'status':_0x1a783f(0x62e)}),this['repository'][_0x1a783f(0x1df)][_0x1a783f(0x250)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x1a783f(0x31b)]()},this[_0x1a783f(0x582)]['name']),this[_0x1a783f(0x50a)]=!0x0,this['eventEmitter'][_0x1a783f(0x216)](_0x1a783f(0x290),this['instance']['name']);this[_0x1a783f(0x582)][_0x1a783f(0x220)][_0x1a783f(0x3b3)]++;let _0x16640c={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x1a783f(0x173),'dark':_0x1a783f(0x5a2)}};Eo['default'][_0x1a783f(0x10e)](_0x18e5b2,_0x16640c,(_0x40a5b8,_0x78dc61)=>{const _0x550612=_0x1a783f;if(_0x40a5b8){this[_0x550612(0x42c)][_0x550612(0x370)](this[_0x550612(0x7b7)]+'\x20('+this[_0x550612(0x582)][_0x550612(0x777)]+_0x550612(0x3ce)+(_0x40a5b8 instanceof Error?_0x40a5b8['message']:JSON[_0x550612(0x751)](_0x40a5b8,null,0x2)));return;}this[_0x550612(0x582)][_0x550612(0x220)]['base64']=_0x78dc61,this[_0x550612(0x582)][_0x550612(0x220)]['code']=_0x18e5b2,!this[_0x550612(0x38d)]&&this[_0x550612(0x19d)](_0x550612(0x7ec),{'qrcode':{'instance':this['instance'][_0x550612(0x79c)],'pairingCode':this['instance'][_0x550612(0x220)][_0x550612(0x5a0)],'code':_0x18e5b2,'base64':_0x78dc61}});}),this[_0x1a783f(0x38d)]?this['instance'][_0x1a783f(0x220)]['pairingCode']||(await(0x0,f[_0x1a783f(0x31a)])(0x7d0),this[_0x1a783f(0x582)]['qrcode']['pairingCode']=await this[_0x1a783f(0x3a9)][_0x1a783f(0x458)](this['phoneNumber'])):this[_0x1a783f(0x582)]['qrcode'][_0x1a783f(0x5a0)]=null,vo['default'][_0x1a783f(0x1ac)](_0x18e5b2,{'small':!0x0},_0x2c6271=>this[_0x1a783f(0x42c)][_0x1a783f(0x3bb)]('\x0a{\x20instance:\x20'+this[_0x1a783f(0x582)][_0x1a783f(0x79c)]+_0x1a783f(0x4c6)+this[_0x1a783f(0x582)][_0x1a783f(0x220)][_0x1a783f(0x3b3)]+_0x1a783f(0x6aa)+this[_0x1a783f(0x582)]['qrcode']['pairingCode']+_0x1a783f(0x213)+_0x2c6271));}if(_0x559178&&(this[_0x1a783f(0x56f)]={'state':_0x559178,'statusReason':_0x29acd5?.['error']?.['output']?.[_0x1a783f(0x43c)]??0xc8},this['sendDataWebhook'](_0x1a783f(0x6a9),{'instance':this[_0x1a783f(0x582)][_0x1a783f(0x79c)],...this[_0x1a783f(0x56f)]})),_0x559178==='close'){if(this[_0x1a783f(0x121)]++,this['reconnectTimestamps'][_0x1a783f(0x334)](Date['now']()),this[_0x1a783f(0x4ef)]=this[_0x1a783f(0x4ef)][_0x1a783f(0x713)](_0x2db383=>Date['now']()-_0x2db383<this['RECONNECT_TIME_FRAME']),_0x29acd5[_0x1a783f(0x370)]?.[_0x1a783f(0x4bb)]?.[_0x1a783f(0x43c)]!==f[_0x1a783f(0x37e)]['loggedOut']&&this['reconnectTimestamps'][_0x1a783f(0x5ed)]<=this[_0x1a783f(0x5f7)])console[_0x1a783f(0x3bb)](this[_0x1a783f(0x7b7)]+_0x1a783f(0x7d5)+this[_0x1a783f(0x121)]+'/'+this[_0x1a783f(0x5f7)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x1a783f(0x3bb)]('Tentando\x20reconectar...'),await this[_0x1a783f(0x6e7)]();else{this[_0x1a783f(0x19d)]('status.instance',{'instance':this[_0x1a783f(0x582)][_0x1a783f(0x79c)],'status':_0x1a783f(0x62e)}),this[_0x1a783f(0x582)][_0x1a783f(0x39c)][_0x1a783f(0x7e2)]=!0x1,this[_0x1a783f(0x1b7)][_0x1a783f(0x556)][_0x1a783f(0x2fc)](this[_0x1a783f(0x7b7)]),this['repository'][_0x1a783f(0x1df)][_0x1a783f(0x250)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x1a783f(0x582)][_0x1a783f(0x79c)]);try{this[_0x1a783f(0x42c)]['verbose'](this[_0x1a783f(0x7b7)]+'\x20('+this['instance'][_0x1a783f(0x777)]+_0x1a783f(0x211));let _0x4474dd=await this[_0x1a783f(0x1b7)][_0x1a783f(0x641)][_0x1a783f(0x673)](this['instance'][_0x1a783f(0x777)]);_0x4474dd['success']?this[_0x1a783f(0x42c)][_0x1a783f(0x3a8)](this['instanceName']+'\x20('+this[_0x1a783f(0x582)][_0x1a783f(0x777)]+_0x1a783f(0x228)):console[_0x1a783f(0x370)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x4474dd['error']);}catch(_0x2d18e1){console['error']('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x2d18e1[_0x1a783f(0x641)]);}this[_0x1a783f(0x582)]['ScheduleMessage'][_0x1a783f(0x312)]!==null&&(this[_0x1a783f(0x42c)][_0x1a783f(0x3a8)](this[_0x1a783f(0x7b7)]+'\x20('+this['instance'][_0x1a783f(0x777)]+_0x1a783f(0x632)),clearInterval(this['instance'][_0x1a783f(0x39c)][_0x1a783f(0x312)]),this['instance'][_0x1a783f(0x39c)][_0x1a783f(0x312)]=null),this['logger'][_0x1a783f(0x3a8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1a783f(0x62d)),this[_0x1a783f(0x169)]=null,this[_0x1a783f(0x2d4)][_0x1a783f(0x216)](_0x1a783f(0x1b3),this[_0x1a783f(0x582)][_0x1a783f(0x79c)],'inner'),this['client']?.['ws']?.[_0x1a783f(0x200)](),this['client'][_0x1a783f(0x630)](new Error(_0x1a783f(0x12d)));}}if(_0x559178===_0x1a783f(0x707)){this['client']['ev'][_0x1a783f(0x6d9)](),this[_0x1a783f(0x5e4)],this['instance']['wuid']=this[_0x1a783f(0x3a9)][_0x1a783f(0x31f)]['id'][_0x1a783f(0x410)](/:\d+/,'')[_0x1a783f(0x410)](_0x1a783f(0x54d),''),this[_0x1a783f(0x582)]['profilePictureUrl']=(await this[_0x1a783f(0x164)](this[_0x1a783f(0x582)][_0x1a783f(0x777)]+'@s.whatsapp.net'))['profilePictureUrl'],this[_0x1a783f(0x1b7)][_0x1a783f(0x1df)][_0x1a783f(0x250)]({'online':!0x0,'owner':this[_0x1a783f(0x582)][_0x1a783f(0x777)],'lastDisconnect':null},this[_0x1a783f(0x582)][_0x1a783f(0x79c)]);let _0x275b09='Número:\x20'+this[_0x1a783f(0x582)][_0x1a783f(0x777)],_0xd42d2f=0x28,_0x48e672=Math['floor']((_0xd42d2f-_0x275b09[_0x1a783f(0x5ed)])/0x2),_0x4e0733='\x20'[_0x1a783f(0x27b)](_0x48e672),_0x5f1359=_0x1a783f(0x1da),_0x479885=_0x1a783f(0x683)+this[_0x1a783f(0x582)][_0x1a783f(0x79c)],_0x593d46=(''+_0x4e0733+_0x275b09+_0x4e0733)[_0x1a783f(0x5bd)](_0xd42d2f,'\x20'),_0x2b08fe=(''+_0x4e0733+_0x5f1359+_0x4e0733)[_0x1a783f(0x5bd)](_0xd42d2f,'\x20'),_0x520fbf=(''+_0x4e0733+_0x479885+_0x4e0733)[_0x1a783f(0x5bd)](_0xd42d2f,'\x20'),_0x18661f=Math[_0x1a783f(0x541)](_0x593d46['length'],_0x2b08fe[_0x1a783f(0x5ed)],_0x520fbf[_0x1a783f(0x5ed)]),_0x247ec7=_0x593d46[_0x1a783f(0x5bd)](_0x18661f,'\x20'),_0x45c81b=_0x2b08fe['padEnd'](_0x18661f,'\x20'),_0x3462bb=_0x520fbf[_0x1a783f(0x5bd)](_0x18661f,'\x20');this[_0x1a783f(0x42c)][_0x1a783f(0x299)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'['repeat'](_0x18661f)+_0x1a783f(0x498)+_0x45c81b+_0x1a783f(0x697)+_0x3462bb+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x247ec7+_0x1a783f(0x57b)+'─'[_0x1a783f(0x27b)](_0x18661f)+'┘')[_0x1a783f(0x410)](/^ +/gm,'\x20\x20')),this[_0x1a783f(0x590)](),this[_0x1a783f(0x582)][_0x1a783f(0x39c)][_0x1a783f(0x7e2)]=!0x0;}}[a0_0x36f96e(0x5e4)](){const _0x29b063=a0_0x36f96e;this[_0x29b063(0x121)]=0x0,this[_0x29b063(0x4ef)]=[];}async['getMessage'](_0x25edd5,_0x5b779d=!0x1){const _0x10a1af=a0_0x36f96e;try{let _0x12238a=await this[_0x10a1af(0x1b7)][_0x10a1af(0x641)][_0x10a1af(0x6a2)]({'where':{'_id':_0x25edd5['id']}},this['instance'][_0x10a1af(0x777)]);return _0x5b779d?_0x12238a[0x0]:_0x12238a[0x0][_0x10a1af(0x641)];}catch{return{'conversation':''};}}[a0_0x36f96e(0x75d)](){const _0x179c75=a0_0x36f96e;let _0x1f3f54=this[_0x179c75(0x33c)]['get'](_0x179c75(0x154)),_0x5277ac=this['configService']['get'](_0x179c75(0x693));_0x1f3f54?.[_0x179c75(0x4da)]&&!_0x5277ac[_0x179c75(0x5bf)]&&setInterval(()=>{const _0x4a921e=_0x179c75;try{for(let [_0x446ea1,_0x40fbb0]of Object[_0x4a921e(0x1ee)](_0x1f3f54))_0x40fbb0===!0x0&&(0x0,_e[_0x4a921e(0x277)])(_0x4a921e(0x77f)+(0x0,J[_0x4a921e(0x41f)])(this[_0x4a921e(0x59c)],_0x446ea1[_0x4a921e(0x191)](),this[_0x4a921e(0x582)][_0x4a921e(0x777)])+_0x4a921e(0x57a));}catch{}},(_0x1f3f54?.[_0x179c75(0x4da)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x5c570c=a0_0x36f96e;let _0xda0213=this['configService'][_0x5c570c(0x5aa)]('DATABASE'),_0x47f531=this[_0x5c570c(0x33c)][_0x5c570c(0x5aa)](_0x5c570c(0x4e3));return _0x47f531?.[_0x5c570c(0x5bf)]?await Rs(_0x47f531,this[_0x5c570c(0x582)][_0x5c570c(0x79c)]):_0xda0213[_0x5c570c(0x5bf)]?await Ns(this['instance']['name']):await(0x0,f[_0x5c570c(0x3ae)])((0x0,J[_0x5c570c(0x41f)])(fe,this['instance']['name']));}async[a0_0x36f96e(0x590)](){const _0x59f806=a0_0x36f96e;let _0xc37472=()=>Math['floor'](Math['random']()*0x2711)+0x7d0,_0x3413b5=async()=>{const _0x9e665e=a0_0x5519;if(!this['instance'][_0x9e665e(0x39c)][_0x9e665e(0x7e2)]){this['logger'][_0x9e665e(0x3a8)](_0x9e665e(0x70f)),this[_0x9e665e(0x788)]=!0x1;return;}if(this[_0x9e665e(0x582)][_0x9e665e(0x777)]&&this[_0x9e665e(0x169)]&&this['instance']['ScheduleMessage']['delayMessage']!==null&&this[_0x9e665e(0x582)][_0x9e665e(0x39c)][_0x9e665e(0x312)]!==void 0x0){let _0x507d6b=Math[_0x9e665e(0x243)](this[_0x9e665e(0x582)][_0x9e665e(0x39c)]['delayMessage']/0xea60);this[_0x9e665e(0x42c)][_0x9e665e(0x3a8)](this[_0x9e665e(0x7b7)]+'\x20('+this[_0x9e665e(0x582)][_0x9e665e(0x777)]+_0x9e665e(0x5d0)+_0x507d6b+_0x9e665e(0x6cd)),this[_0x9e665e(0x788)]=!0x1;return;}else this[_0x9e665e(0x582)][_0x9e665e(0x777)]&&(this['logger']['verbose'](this[_0x9e665e(0x7b7)]+'\x20('+this[_0x9e665e(0x582)][_0x9e665e(0x777)]+_0x9e665e(0x292)),this[_0x9e665e(0x169)]||(await this[_0x9e665e(0x775)](),this[_0x9e665e(0x1fb)]()),(this[_0x9e665e(0x582)]['ScheduleMessage']['delayMessage']===null||this[_0x9e665e(0x582)]['ScheduleMessage'][_0x9e665e(0x312)]===void 0x0)&&await this[_0x9e665e(0x25e)]());if(this[_0x9e665e(0x788)]){let _0x461362=_0xc37472();this['logger'][_0x9e665e(0x3a8)](this['instanceName']+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x461362/0x3e8+_0x9e665e(0x81b)),setTimeout(_0x3413b5,_0x461362);}};if(this[_0x59f806(0x788)])return;this[_0x59f806(0x788)]=!0x0;let _0x533a8c=_0xc37472();setTimeout(_0x3413b5,_0x533a8c);}async[a0_0x36f96e(0x6a4)](_0x17ef9d=0x0,_0x57390d=!0x1){const _0x20c0bb=a0_0x36f96e;try{let _0x4bdce3=this[_0x20c0bb(0x33c)][_0x20c0bb(0x5aa)](_0x20c0bb(0x771));if(_0x4bdce3!==0x1||typeof _0x4bdce3>'u'||_0x17ef9d>=0x5)return this[_0x20c0bb(0x42c)][_0x20c0bb(0x7f4)](_0x20c0bb(0x7d3)),this[_0x20c0bb(0x1b7)][_0x20c0bb(0x1df)][_0x20c0bb(0x250)]({'ip':null},this[_0x20c0bb(0x582)]['name']),{};this[_0x20c0bb(0x42c)][_0x20c0bb(0x3a8)](this[_0x20c0bb(0x7b7)]+':\x20Tentativa\x20'+(_0x17ef9d+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x36dca3;if(!_0x57390d){let _0x41379f=await this['repository']['auth']['find'](this[_0x20c0bb(0x7b7)]);_0x41379f&&_0x41379f['ip']&&(_0x36dca3=yo(_0x41379f['ip']));}if((!_0x36dca3||!$s(_0x36dca3))&&(this[_0x20c0bb(0x42c)][_0x20c0bb(0x7f4)](this[_0x20c0bb(0x7b7)]+_0x20c0bb(0x49e)),_0x36dca3=bo()),_0x36dca3&&$s(_0x36dca3)){let _0x177941=_0x36dca3[_0x20c0bb(0x627)]&&_0x36dca3[_0x20c0bb(0x4ac)]?_0x36dca3['protocol']+_0x20c0bb(0x57e)+_0x36dca3[_0x20c0bb(0x627)]+':'+_0x36dca3[_0x20c0bb(0x4ac)]+'@'+_0x36dca3[_0x20c0bb(0x618)]+':'+_0x36dca3[_0x20c0bb(0x4d2)]:_0x36dca3[_0x20c0bb(0x7b4)]+'://'+_0x36dca3[_0x20c0bb(0x618)]+':'+_0x36dca3['port'];return await this[_0x20c0bb(0x4d4)](_0x177941,_0x36dca3[_0x20c0bb(0x618)])?(this['logger']['verbose'](this[_0x20c0bb(0x7b7)]+_0x20c0bb(0x115)),this['repository'][_0x20c0bb(0x1df)][_0x20c0bb(0x250)]({'ip':_0x36dca3[_0x20c0bb(0x618)]},this[_0x20c0bb(0x582)]['name']),{'agent':new Ft['HttpsProxyAgent'](_0x177941),'fetchAgent':new Ft[(_0x20c0bb(0x456))](_0x177941)}):(this[_0x20c0bb(0x42c)][_0x20c0bb(0x7f4)](this['instanceName']+_0x20c0bb(0x762)),await(0x0,f[_0x20c0bb(0x31a)])(0xc8),this[_0x20c0bb(0x6a4)](_0x17ef9d+0x1,!0x0));}else return this['logger']['warn'](this[_0x20c0bb(0x7b7)]+_0x20c0bb(0x4e1)),await(0x0,f[_0x20c0bb(0x31a)])(0xc8),this[_0x20c0bb(0x6a4)](_0x17ef9d+0x1,!0x0);}catch(_0x4fddd4){return this[_0x20c0bb(0x42c)]['error'](this[_0x20c0bb(0x7b7)]+_0x20c0bb(0x7a2)+_0x4fddd4[_0x20c0bb(0x641)]),{};}}async[a0_0x36f96e(0x4d4)](_0x420705,_0x35b15e){const _0x1dd615=a0_0x36f96e;let _0x4c97af=new Ft[(_0x1dd615(0x456))](_0x420705),_0x1a7a21=0x1388,_0x2ee04f=[{'url':'https://jsonip.com','parse':_0x54e86c=>_0x54e86c['ip']},{'url':_0x1dd615(0x7f3),'parse':_0x9cdf5a=>_0x9cdf5a['ip']},{'url':_0x1dd615(0x527),'parse':_0x2edaf7=>_0x2edaf7[_0x1dd615(0x404)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':'https://ipinfo.io/json','parse':_0x16ffde=>_0x16ffde['ip']},{'url':_0x1dd615(0x581),'parse':_0x12c08c=>_0x12c08c[_0x1dd615(0x540)]()},{'url':_0x1dd615(0x56b),'parse':_0x51674b=>_0x51674b[_0x1dd615(0x540)]()},{'url':_0x1dd615(0x6f3),'parse':_0x833723=>_0x833723[_0x1dd615(0x4f4)]},{'url':_0x1dd615(0x3e6),'parse':_0x589748=>_0x589748[_0x1dd615(0x540)]()},{'url':_0x1dd615(0x794),'parse':_0x486fac=>_0x486fac[_0x1dd615(0x540)]()}],_0x178aab=_0x2ee04f[Math[_0x1dd615(0x21e)](Math[_0x1dd615(0x796)]()*_0x2ee04f[_0x1dd615(0x5ed)])];try{let _0x11024b=await Q[_0x1dd615(0x3dd)]['get'](_0x178aab[_0x1dd615(0x206)],{'httpsAgent':_0x4c97af,'timeout':_0x1a7a21}),_0x2bbcaf=_0x178aab[_0x1dd615(0x766)](_0x11024b[_0x1dd615(0x7af)]);return _0x2bbcaf===_0x35b15e?(this[_0x1dd615(0x42c)]['verbose'](this['instanceName']+':\x20IP\x20configurado:\x20'+_0x35b15e+_0x1dd615(0x68e)+_0x2bbcaf+_0x1dd615(0x4f5)),!0x0):(this[_0x1dd615(0x42c)]['error'](this[_0x1dd615(0x7b7)]+_0x1dd615(0x3d6)+_0x35b15e+'\x20-\x20retornado:\x20'+_0x2bbcaf+_0x1dd615(0x2f5)),!0x1);}catch(_0x423287){return this[_0x1dd615(0x42c)][_0x1dd615(0x370)](this[_0x1dd615(0x7b7)]+_0x1dd615(0x501)+_0x178aab[_0x1dd615(0x206)]+':\x20'+_0x423287[_0x1dd615(0x641)]),!0x1;}}async['connectToWhatsapp'](_0x1d1548){const _0x58860a=a0_0x36f96e;try{let _0x21cc0e=await this[_0x58860a(0x6a4)]();this[_0x58860a(0x4d3)](),this[_0x58860a(0x582)][_0x58860a(0x69e)]=(await this['repository']['auth'][_0x58860a(0x6a2)](this['instance'][_0x58860a(0x79c)]))[_0x58860a(0x69e)],this['instance'][_0x58860a(0x7a6)]=await this[_0x58860a(0x4ab)]();let {version:_0x2e63d1}=await(0x0,f[_0x58860a(0x13c)])(),_0x613e9a=[No,xs,(0x0,Os[_0x58860a(0x1e0)])()],_0x5e101e={..._0x21cc0e,'auth':{'creds':this[_0x58860a(0x582)][_0x58860a(0x7a6)][_0x58860a(0x445)][_0x58860a(0x6d5)],'keys':(0x0,f[_0x58860a(0x2ff)])(this[_0x58860a(0x582)][_0x58860a(0x7a6)][_0x58860a(0x445)][_0x58860a(0x179)],(0x0,kt[_0x58860a(0x3dd)])({'level':'error'}))},'logger':(0x0,kt[_0x58860a(0x3dd)])({'level':_0x58860a(0x370)}),'printQRInTerminal':!0x1,'browser':_0x1d1548?[_0x58860a(0x210),xs,(0x0,Os[_0x58860a(0x1e0)])()]:_0x613e9a,'version':_0x2e63d1,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x4fe31f=>{const _0x4e45e7=_0x58860a;let _0x5478ea=_0x4fe31f[_0x4e45e7(0x65b)]('@newsletter'),_0x2a5a68=this[_0x4e45e7(0x33f)]?.[_0x4e45e7(0x5ce)]&&_0x4fe31f[_0x4e45e7(0x65b)]('@g.us');return _0x5478ea||(0x0,f['isJidBroadcast'])(_0x4fe31f)||_0x2a5a68;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x38b774=>await this['getMessage'](_0x38b774),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x58860a(0x6f5)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0xad31c3=>(_0xad31c3['listMessage']?.[_0x58860a(0x320)]==f[_0x58860a(0x355)][_0x58860a(0x56a)][_0x58860a(0x25a)][_0x58860a(0x79a)][_0x58860a(0x2eb)]&&(_0xad31c3=JSON[_0x58860a(0x766)](JSON[_0x58860a(0x751)](_0xad31c3)),_0xad31c3[_0x58860a(0x23e)][_0x58860a(0x320)]=f[_0x58860a(0x355)]['Message'][_0x58860a(0x25a)]['ListType'][_0x58860a(0x611)]),_0xad31c3)};return this[_0x58860a(0x50a)]=!0x1,this[_0x58860a(0x3a9)]=(0x0,f['default'])(_0x5e101e),this[_0x58860a(0x497)](),this[_0x58860a(0x38d)]=_0x1d1548,this[_0x58860a(0x3a9)];}catch(_0xf234db){let _0x24cf0a=_0x58860a(0x5a1),_0x13baed=_0xf234db instanceof Error?_0xf234db[_0x58860a(0x641)]:typeof _0xf234db==_0x58860a(0x3b0)?JSON[_0x58860a(0x751)](_0xf234db):_0xf234db,_0x3c558a=_0x24cf0a+':\x20'+_0x13baed;throw this[_0x58860a(0x42c)][_0x58860a(0x370)](this[_0x58860a(0x7b7)]+'\x20('+this[_0x58860a(0x582)][_0x58860a(0x777)]+_0x58860a(0x325)+_0x3c558a),new x(_0x3c558a);}}[a0_0x36f96e(0x497)](){const _0x4bae73=a0_0x36f96e;this[_0x4bae73(0x3a9)]['ev'][_0x4bae73(0x67c)](_0x5b8e62=>{const _0x547f4d=_0x4bae73;if(!this['endSession']){let _0x24e9f9=this[_0x547f4d(0x33c)][_0x547f4d(0x5aa)]('DATABASE');if(_0x5b8e62[_0x547f4d(0x349)]){let _0x50203f=_0x5b8e62[_0x547f4d(0x349)];this[_0x547f4d(0x438)][_0x547f4d(0x349)](_0x50203f);}if(_0x5b8e62[_0x547f4d(0x6ff)]){let _0x6cf797=_0x5b8e62[_0x547f4d(0x6ff)];this['messageHandle']['labels.association'](_0x6cf797);}if(_0x5b8e62['connection.update']&&this[_0x547f4d(0x156)](_0x5b8e62[_0x547f4d(0x6a9)]),_0x5b8e62['creds.update']&&this['instance'][_0x547f4d(0x7a6)]['saveCreds'](),_0x5b8e62[_0x547f4d(0x2a3)]){let _0x147683=_0x5b8e62['messaging-history.set'];this[_0x547f4d(0x438)][_0x547f4d(0x2a3)](_0x147683,_0x24e9f9);}if(_0x5b8e62[_0x547f4d(0x50b)]){let _0x3baa91=_0x5b8e62[_0x547f4d(0x50b)];this['messageHandle'][_0x547f4d(0x50b)](_0x3baa91,_0x24e9f9);}if(_0x5b8e62[_0x547f4d(0x3c9)]){let _0x79563d=_0x5b8e62['messages.update'];_0x79563d[_0x547f4d(0x1f3)](_0x2ed8e9=>{const _0x5d09cb=_0x547f4d;if(Mo[_0x2ed8e9[_0x5d09cb(0x2f3)]['id']]){this[_0x5d09cb(0x3a9)]['ev'][_0x5d09cb(0x216)](_0x5d09cb(0x50b),{'messages':[_0x2ed8e9],'type':_0x5d09cb(0x17e)}),delete Mo[_0x2ed8e9[_0x5d09cb(0x2f3)]['id']];return;}}),this[_0x547f4d(0x438)]['messages.update'](_0x79563d,_0x24e9f9);}if(_0x5b8e62[_0x547f4d(0x691)]){let _0x3b37ff=_0x5b8e62[_0x547f4d(0x691)];if(this[_0x547f4d(0x33f)]?.[_0x547f4d(0x5ce)]&&_0x3b37ff['id'][_0x547f4d(0x4ba)](_0x547f4d(0x3f2)))return;this[_0x547f4d(0x19d)](_0x547f4d(0x691),_0x3b37ff);}if(_0x5b8e62[_0x547f4d(0x2a4)]){let _0x23cd18=_0x5b8e62[_0x547f4d(0x2a4)];this[_0x547f4d(0x4ce)]['groups.upsert'](_0x23cd18);}if(_0x5b8e62[_0x547f4d(0x811)]){let _0x386d5c=_0x5b8e62[_0x547f4d(0x811)];this['groupHandler'][_0x547f4d(0x811)](_0x386d5c);}if(_0x5b8e62[_0x547f4d(0x1b4)]){let _0x311d4a=_0x5b8e62[_0x547f4d(0x1b4)];this['groupHandler'][_0x547f4d(0x1b4)](_0x311d4a);}if(_0x5b8e62[_0x547f4d(0x3b7)]){let _0x5b07a4=_0x5b8e62[_0x547f4d(0x3b7)];this['chatHandle'][_0x547f4d(0x3b7)](_0x5b07a4,_0x24e9f9);}if(_0x5b8e62['chats.update']){let _0x1739f4=_0x5b8e62['chats.update'];this[_0x547f4d(0x1ca)][_0x547f4d(0x1ae)](_0x1739f4,_0x24e9f9);}if(_0x5b8e62['chats.delete']){let _0x58132e=_0x5b8e62['chats.delete'];this[_0x547f4d(0x1ca)]['chats.delete'](_0x58132e);}if(_0x5b8e62[_0x547f4d(0x3d7)]){let _0x479f15=_0x5b8e62[_0x547f4d(0x3d7)];this['contactHandle'][_0x547f4d(0x3d7)](_0x479f15,_0x24e9f9);}if(_0x5b8e62[_0x547f4d(0x5d9)]){let _0x516d16=_0x5b8e62[_0x547f4d(0x5d9)];this[_0x547f4d(0x11a)][_0x547f4d(0x5d9)](_0x516d16,_0x24e9f9);}}});}[a0_0x36f96e(0x170)](_0x2b7043){return new Promise(_0x563682=>setTimeout(_0x563682,_0x2b7043));}['formatBRNumber'](_0x2a84d4){const _0xb2df2a=a0_0x36f96e;_0x2a84d4=_0x2a84d4[_0xb2df2a(0x410)](/\D/g,'');let _0x36ae13=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0xb2df2a(0x11b)](_0x2a84d4);if(_0x36ae13&&_0x36ae13[0x1]==='55'){let _0x5b0943=_0x36ae13[0x2],_0x51c1d4=_0x36ae13[0x3],_0x21cb8d=_0x36ae13[0x4];if(parseInt(_0x5b0943)>=0x1f&&_0x51c1d4==='9')return _0x36ae13[0x1]+_0x5b0943+_0x21cb8d;}return _0x2a84d4;}[a0_0x36f96e(0x3b6)](_0x5d23e3){const _0x420c57=a0_0x36f96e;return _0x5d23e3[_0x420c57(0x4ba)]('@g.us')||_0x5d23e3['includes'](_0x420c57(0x54d))||_0x5d23e3['includes'](_0x420c57(0x26f))?_0x5d23e3:(_0x5d23e3=_0x5d23e3?.[_0x420c57(0x410)](/\s/g,'')[_0x420c57(0x410)](/\+/g,'')[_0x420c57(0x410)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0x420c57(0x71a)]('@')[0x0],_0x5d23e3['length']>=0x12?(_0x5d23e3=_0x5d23e3['replace'](/[^\d-]/g,''),_0x5d23e3+'@g.us'):(_0x5d23e3=_0x5d23e3[_0x420c57(0x410)](/\D/g,''),_0x5d23e3+'@s.whatsapp.net'));}async['updatePresence'](_0x289109){const _0x509f81=a0_0x36f96e;let _0x1e0c47=(await this[_0x509f81(0x4a1)]({'numbers':[_0x289109[_0x509f81(0x3b2)]]}))[0x0];if(!_0x1e0c47[_0x509f81(0x68d)]&&!(0x0,f['isJidGroup'])(_0x1e0c47[_0x509f81(0x127)])&&!_0x1e0c47[_0x509f81(0x127)][_0x509f81(0x4ba)]('@broadcast'))throw new m(_0x1e0c47);let _0x3bbc13=_0x1e0c47['jid'];try{return await this[_0x509f81(0x3a9)][_0x509f81(0x5c3)](_0x3bbc13),await this[_0x509f81(0x3a9)][_0x509f81(0x5f9)](_0x289109[_0x509f81(0x46e)],_0x3bbc13),{'status':0xc8,'presence':_0x289109[_0x509f81(0x46e)]};}catch(_0x346c98){let _0x236173=_0x509f81(0x3ee),_0x4e7250=_0x346c98 instanceof Error?_0x346c98[_0x509f81(0x641)]:typeof _0x346c98==_0x509f81(0x3b0)?JSON[_0x509f81(0x751)](_0x346c98):_0x346c98,_0x28abb3=_0x236173+':\x20'+_0x4e7250;throw this[_0x509f81(0x42c)][_0x509f81(0x370)](this['instanceName']+'\x20('+this[_0x509f81(0x582)][_0x509f81(0x777)]+_0x509f81(0x325)+_0x28abb3),new m(_0x28abb3);}}async[a0_0x36f96e(0x435)](_0x34fd96,_0x202a2c,_0x41b082,_0x379cad=!0x0){const _0x448d92=a0_0x36f96e;let _0x10218b=await this[_0x448d92(0x1b7)]['cacheContact'][_0x448d92(0x49a)]({'where':{'_id':_0x34fd96}});if(!_0x10218b&&!_0x379cad)return;let _0x339be0={'lastUpdate':Date[_0x448d92(0x31b)]()};if(_0x41b082||!_0x10218b?.[_0x448d92(0x813)]||Date[_0x448d92(0x31b)]()-_0x10218b[_0x448d92(0x813)]>0x18*0x3c*0x3c*0x3e8)try{let _0x2e3f10=(await this[_0x448d92(0x164)](_0x34fd96))[_0x448d92(0x6bc)];_0x339be0[_0x448d92(0x33a)]=_0x2e3f10;}catch(_0x334455){let _0x66b499=_0x448d92(0x3aa),_0x3a2397=_0x334455 instanceof Error?_0x334455[_0x448d92(0x641)]:typeof _0x334455==_0x448d92(0x3b0)?JSON['stringify'](_0x334455):_0x334455,_0xd42e59=_0x66b499+':\x20'+_0x3a2397;throw this[_0x448d92(0x42c)][_0x448d92(0x370)](this['instanceName']+'\x20('+this[_0x448d92(0x582)][_0x448d92(0x777)]+_0x448d92(0x325)+_0xd42e59),new m(_0xd42e59);}return _0x202a2c&&_0x10218b?.[_0x448d92(0x79c)]!==_0x202a2c&&(_0x339be0[_0x448d92(0x79c)]=_0x202a2c),Object[_0x448d92(0x179)](_0x339be0)['length']>0x1&&(_0x10218b?await this['repository']['cacheContact'][_0x448d92(0x3d0)]({'where':{'_id':_0x34fd96}},_0x339be0):await this[_0x448d92(0x1b7)][_0x448d92(0x171)][_0x448d92(0x192)]([{'_id':_0x34fd96,..._0x339be0}]),_0x10218b={..._0x10218b,..._0x339be0}),{'cachedContact':_0x10218b};}async[a0_0x36f96e(0x164)](_0x1d67a3){const _0x1b28d6=a0_0x36f96e;let _0x5cca05=this['createJid'](_0x1d67a3);try{return{'wuid':_0x5cca05,'profilePictureUrl':await this[_0x1b28d6(0x3a9)][_0x1b28d6(0x6bc)](_0x5cca05,_0x1b28d6(0x4fb))};}catch{return{'wuid':_0x5cca05,'profilePictureUrl':null};}}async[a0_0x36f96e(0x5c5)](_0x3f1bee,_0x55ddac,_0x176973){const _0x4d6b64=a0_0x36f96e;let _0x85178a=0x0,_0x46d84e=0x3;for(;_0x85178a<_0x46d84e;)try{_0x176973||(_0x176973={});let _0x2b420c=(await this[_0x4d6b64(0x4a1)]({'numbers':[_0x3f1bee]}))[0x0];if(!_0x2b420c[_0x4d6b64(0x68d)]&&!(0x0,f[_0x4d6b64(0x5a3)])(_0x2b420c[_0x4d6b64(0x127)])&&!_0x2b420c[_0x4d6b64(0x127)][_0x4d6b64(0x4ba)](_0x4d6b64(0x26f)))throw console['error'](_0x2b420c),new m(_0x2b420c);let _0x2fd14f=_0x2b420c[_0x4d6b64(0x127)];if(_0x176973?.[_0x4d6b64(0x31a)]){await this['client'][_0x4d6b64(0x5c3)](_0x2fd14f),await this['client'][_0x4d6b64(0x5f9)](_0x176973?.[_0x4d6b64(0x46e)]??_0x4d6b64(0x3af),_0x2fd14f);let _0x581dd1=Math[_0x4d6b64(0x431)](_0x176973[_0x4d6b64(0x31a)],0x2710);await(0x0,f['delay'])(_0x581dd1),await this[_0x4d6b64(0x3a9)][_0x4d6b64(0x5f9)](_0x4d6b64(0x7ea),_0x2fd14f);}let _0x325ea4=_0x176973?.[_0x4d6b64(0x815)]!=!0x1?void 0x0:!0x1,_0x3a364e;if(_0x176973?.['quoted']){let _0x173d1b=_0x176973?.['quoted'],_0xa85e5d=_0x173d1b?.[_0x4d6b64(0x641)]?_0x173d1b:await this[_0x4d6b64(0x3df)](_0x173d1b[_0x4d6b64(0x2f3)],!0x0);if(!_0xa85e5d)throw _0x4d6b64(0x7f0);_0x3a364e=_0xa85e5d;}let _0x238648;if((0x0,f[_0x4d6b64(0x5a3)])(_0x2fd14f))try{let _0x34540a=(await this[_0x4d6b64(0x1b7)][_0x4d6b64(0x550)][_0x4d6b64(0x49a)]({'where':{'_id':_0x2fd14f}},this[_0x4d6b64(0x582)]['wuid']))?.['groupdata'];if(!_0x34540a)throw new q(_0x4d6b64(0x737));_0x176973?.[_0x4d6b64(0x3d1)]&&(_0x176973[_0x4d6b64(0x3d1)]?.[_0x4d6b64(0x19f)]?_0x238648=_0x34540a[_0x4d6b64(0x2d9)][_0x4d6b64(0x25f)](_0x40a9b1=>_0x40a9b1['id']):_0x176973[_0x4d6b64(0x3d1)]?.[_0x4d6b64(0x659)]?.['length']&&(_0x238648=_0x176973[_0x4d6b64(0x3d1)][_0x4d6b64(0x659)][_0x4d6b64(0x25f)](_0x4dbe44=>{const _0x5636ae=_0x4d6b64;let _0x46394d=this['createJid'](_0x4dbe44);return(0x0,f[_0x5636ae(0x5a3)])(_0x46394d)?null:_0x46394d;})));}catch{throw new q(_0x4d6b64(0x737));}let _0x2fd36e=await this[_0x4d6b64(0x1b7)][_0x4d6b64(0x550)]['findOne']({'where':{'_id':_0x2fd14f}},this[_0x4d6b64(0x582)][_0x4d6b64(0x777)]),_0x56664b=await((async()=>{const _0x4c1758=_0x4d6b64;let _0x222fb4={'quoted':_0x3a364e,'ephemeralExpiration':_0x2fd36e?.[_0x4c1758(0x120)]??0x0};if(!_0x55ddac[_0x4c1758(0x1d3)]&&!_0x55ddac[_0x4c1758(0x257)]&&!_0x55ddac[_0x4c1758(0x43b)]&&!_0x55ddac[_0x4c1758(0x58d)]&&_0x2fd14f!==_0x4c1758(0x68b)&&!_0x55ddac['audio'])return await this[_0x4c1758(0x3a9)][_0x4c1758(0x377)](_0x2fd14f,{'forward':{'key':{'remoteJid':this['instance'][_0x4c1758(0x777)],'fromMe':!0x0},'message':_0x55ddac},'mentions':_0x238648},_0x222fb4);if(_0x55ddac[_0x4c1758(0x7db)])return await this['client'][_0x4c1758(0x377)](_0x2fd14f,{'react':{'text':_0x55ddac[_0x4c1758(0x7db)][_0x4c1758(0x562)],'key':_0x55ddac['reactionMessage'][_0x4c1758(0x2f3)]}},_0x222fb4);if(_0x55ddac['conversation']){let _0x39e7f6=_0x55ddac[_0x4c1758(0x58d)];return _0x176973?.[_0x4c1758(0x2bb)]&&(_0x39e7f6=await this[_0x4c1758(0x793)](_0x39e7f6,_0x2fd14f)),await this[_0x4c1758(0x3a9)][_0x4c1758(0x377)](_0x2fd14f,{'text':_0x39e7f6,'mentions':_0x238648,'linkPreview':_0x325ea4},_0x222fb4);}return _0x2fd14f===_0x4c1758(0x68b)?await this[_0x4c1758(0x3a9)][_0x4c1758(0x377)](_0x2fd14f,_0x55ddac[_0x4c1758(0x193)][_0x4c1758(0x567)],{'backgroundColor':_0x55ddac[_0x4c1758(0x193)]['option'][_0x4c1758(0x773)],'font':_0x55ddac[_0x4c1758(0x193)][_0x4c1758(0x6b1)]['font'],'statusJidList':_0x55ddac[_0x4c1758(0x193)][_0x4c1758(0x6b1)]['statusJidList']}):await this[_0x4c1758(0x3a9)][_0x4c1758(0x377)](_0x2fd14f,_0x55ddac,_0x222fb4);})()),_0x3e4d49=(0x0,f['normalizeMessageContent'])(_0x56664b['message']),_0x4e48da=(0x0,f[_0x4d6b64(0x195)])(_0x3e4d49),{message_normalized:_0x166b82}=this['normalizeMessage'](_0x3e4d49,_0x4e48da,null),_0x465d1f={'_id':_0x56664b[_0x4d6b64(0x2f3)]['id'],'key':_0x56664b[_0x4d6b64(0x2f3)],'pushName':_0x56664b['pushName'],'isGroup':_0x56664b['key'][_0x4d6b64(0x71c)]['endsWith'](_0x4d6b64(0x3f2)),'profilePictureUrl':this[_0x4d6b64(0x582)]['profilePictureUrl'],'message':_0x3e4d49,'messageType':_0x4e48da,'message_normalized':{'key':_0x56664b[_0x4d6b64(0x2f3)],'pushName':_0x56664b[_0x4d6b64(0x666)],'messageTimestamp':_0x56664b[_0x4d6b64(0x37b)]&&_0x56664b[_0x4d6b64(0x37b)][_0x4d6b64(0x2ee)]()['length']<0xd?_0x56664b[_0x4d6b64(0x37b)]*0x3e8:_0x56664b[_0x4d6b64(0x37b)]||null,'source':(0x0,f[_0x4d6b64(0x41c)])(_0x56664b['key']['id']),..._0x166b82},'messageTimestamp':_0x56664b[_0x4d6b64(0x37b)]&&_0x56664b[_0x4d6b64(0x37b)][_0x4d6b64(0x2ee)]()[_0x4d6b64(0x5ed)]<0xd?_0x56664b[_0x4d6b64(0x37b)]*0x3e8:_0x56664b[_0x4d6b64(0x37b)]||null,'owner':this[_0x4d6b64(0x582)]['wuid'],'source':(0x0,f['getDevice'])(_0x56664b[_0x4d6b64(0x2f3)]['id'])};return this[_0x4d6b64(0x42c)]['warn'](this[_0x4d6b64(0x7b7)]+'\x20('+this[_0x4d6b64(0x582)][_0x4d6b64(0x777)]+_0x4d6b64(0x5b0)+_0x465d1f[_0x4d6b64(0x2f3)]?.['remoteJid'][_0x4d6b64(0x410)]('@s.whatsapp.net','')+_0x4d6b64(0x6e6)+_0x465d1f[_0x4d6b64(0x817)]+')'),_0x465d1f[_0x4d6b64(0x7b6)]?.[_0x4d6b64(0x562)]&&this[_0x4d6b64(0x42c)][_0x4d6b64(0x7f4)](_0x465d1f[_0x4d6b64(0x7b6)]?.[_0x4d6b64(0x562)]),this['sendDataWebhook']('send.message',_0x465d1f),U(this[_0x4d6b64(0x7b7)],_0x4d6b64(0x35c),{'message':_0x465d1f}),await this['updateChatWithMessage'](this[_0x4d6b64(0x33c)][_0x4d6b64(0x5aa)]('DATABASE'),_0x465d1f,_0x4d6b64(0x5e1),_0x2fd36e),await this['repository'][_0x4d6b64(0x641)]['insert']([_0x465d1f],this[_0x4d6b64(0x582)]['wuid']),_0x56664b;}catch(_0x400bd2){if(this[_0x4d6b64(0x42c)][_0x4d6b64(0x370)](_0x4d6b64(0x583)+(_0x85178a+0x1)+'\x20falhou'),_0x85178a++,_0x85178a>=_0x46d84e){this[_0x4d6b64(0x42c)][_0x4d6b64(0x370)](_0x4d6b64(0x595)+_0x3f1bee+'\x20');let _0x22b457='Falha\x20ao\x20processar\x20a\x20solicitação\x20send.messages',_0x2e340a=_0x400bd2 instanceof Error?_0x400bd2[_0x4d6b64(0x641)]:typeof _0x400bd2==_0x4d6b64(0x3b0)?JSON['stringify'](_0x400bd2):_0x400bd2,_0x2f0de0=_0x22b457+':\x20'+_0x2e340a;throw this[_0x4d6b64(0x42c)][_0x4d6b64(0x370)](this[_0x4d6b64(0x7b7)]+'\x20('+this[_0x4d6b64(0x582)][_0x4d6b64(0x777)]+'):\x20'+_0x2f0de0),new m(_0x2f0de0);}await new Promise(_0x28c888=>setTimeout(_0x28c888,0x3e8*0x2*_0x85178a));}}get['connectionStatus'](){const _0x41063f=a0_0x36f96e;return this[_0x41063f(0x56f)];}async[a0_0x36f96e(0x7c7)](_0x5c269d){const _0x33fe5d=a0_0x36f96e;let _0x3d6814=So,_0x1b7961=st;return _0x1b7961&&this[_0x33fe5d(0x7b7)]['toLowerCase']()[_0x33fe5d(0x4ba)](_0x1b7961[_0x33fe5d(0x191)]())&&(_0x5c269d[_0x33fe5d(0x7c7)][_0x33fe5d(0x562)]+='\x0a\x0a'+_0x3d6814),await this[_0x33fe5d(0x5c5)](_0x5c269d['number'],{'conversation':_0x5c269d[_0x33fe5d(0x7c7)][_0x33fe5d(0x562)]},_0x5c269d?.[_0x33fe5d(0x432)]);}async[a0_0x36f96e(0x2f1)](_0x4bb2fd){const _0x254d63=a0_0x36f96e;if(!_0x4bb2fd['type'])throw new m(_0x254d63(0x767));if(!_0x4bb2fd[_0x254d63(0x567)])throw new m(_0x254d63(0x25c));if(_0x4bb2fd['allContacts']){let _0x26d283=await this[_0x254d63(0x1b7)][_0x254d63(0x4a0)]['find']({'where':{}},this[_0x254d63(0x582)]['wuid']);if(!_0x26d283[_0x254d63(0x5ed)])throw new m('Contacts\x20not\x20found');_0x4bb2fd[_0x254d63(0x32a)]=_0x26d283[_0x254d63(0x713)](_0x1bb90f=>_0x1bb90f[_0x254d63(0x666)])[_0x254d63(0x25f)](_0x2b316b=>_0x2b316b[_0x254d63(0x183)]);}if(!_0x4bb2fd[_0x254d63(0x32a)]?.['length']&&!_0x4bb2fd[_0x254d63(0x4e7)])throw new m(_0x254d63(0x561));if(_0x4bb2fd[_0x254d63(0x2aa)]===_0x254d63(0x562)){if(!_0x4bb2fd[_0x254d63(0x773)])throw new m(_0x254d63(0x728));if(!_0x4bb2fd[_0x254d63(0x5ac)])throw new m(_0x254d63(0x1c1));return{'content':{'text':_0x4bb2fd[_0x254d63(0x567)]},'option':{'backgroundColor':_0x4bb2fd['backgroundColor'],'font':_0x4bb2fd[_0x254d63(0x5ac)],'statusJidList':_0x4bb2fd[_0x254d63(0x32a)]}};}if(_0x4bb2fd[_0x254d63(0x2aa)]==='image')return{'content':{'image':{'url':_0x4bb2fd[_0x254d63(0x567)]},'caption':_0x4bb2fd[_0x254d63(0x5d4)]},'option':{'statusJidList':_0x4bb2fd[_0x254d63(0x32a)]}};if(_0x4bb2fd[_0x254d63(0x2aa)]===_0x254d63(0x2c2))return{'content':{'video':{'url':_0x4bb2fd['content']},'caption':_0x4bb2fd[_0x254d63(0x5d4)]},'option':{'statusJidList':_0x4bb2fd[_0x254d63(0x32a)]}};if(_0x4bb2fd[_0x254d63(0x2aa)]==='audio'){this[_0x254d63(0x42c)][_0x254d63(0x3a8)](_0x254d63(0x622)),this['logger'][_0x254d63(0x3a8)](_0x254d63(0x279));let _0x1a1a0b=await this[_0x254d63(0x6e9)](_0x4bb2fd[_0x254d63(0x567)]);if(typeof _0x1a1a0b==_0x254d63(0x18f)){this[_0x254d63(0x42c)][_0x254d63(0x3a8)]('Audio\x20processed');let _0x35361d=j[_0x254d63(0x42a)](_0x1a1a0b)[_0x254d63(0x2ee)]('base64');return{'content':{'audio':Buffer[_0x254d63(0x6b9)](_0x35361d,_0x254d63(0x5f6)),'ptt':!0x0,'mimetype':_0x254d63(0x526)},'option':{'statusJidList':_0x4bb2fd[_0x254d63(0x32a)]}};}else throw new x(_0x1a1a0b);}throw new m('Type\x20not\x20found');}async[a0_0x36f96e(0x791)](_0x59b90e){const _0x2ce2ba=a0_0x36f96e;return await this[_0x2ce2ba(0x5c5)](_0x2ce2ba(0x68b),{'status':await this[_0x2ce2ba(0x2f1)](_0x59b90e[_0x2ce2ba(0x791)])});}async[a0_0x36f96e(0x5c0)](_0xf50476){const _0x552165=a0_0x36f96e;try{let _0x309d30=await(0x0,f[_0x552165(0x4bd)])({[_0xf50476[_0x552165(0x6ca)]]:(0x0,k[_0x552165(0x15d)])(_0xf50476[_0x552165(0x6c0)])?{'url':_0xf50476[_0x552165(0x6c0)]}:Buffer[_0x552165(0x6b9)](_0xf50476[_0x552165(0x6c0)],_0x552165(0x5f6))},{'upload':this[_0x552165(0x3a9)][_0x552165(0x614)]}),_0x16d9f3=_0xf50476['mediatype']+'Message';if(_0xf50476[_0x552165(0x6ca)]==='document'&&!_0xf50476['fileName']){let _0x27edc9=new RegExp(/.*\/(.+?)\./)['exec'](_0xf50476[_0x552165(0x6c0)]);_0xf50476[_0x552165(0x128)]=_0x27edc9?_0x27edc9[0x1]:null;}let _0x11e001=(0x0,k[_0x552165(0x15d)])(_0xf50476['media'])?_0xf50476[_0x552165(0x6c0)][_0x552165(0x71a)]('?')[0x0]:_0xf50476['media'],_0x1679fe;(0x0,k[_0x552165(0x15d)])(_0xf50476[_0x552165(0x6c0)])?_0x1679fe=(0x0,jt[_0x552165(0x503)])(_0x11e001):_0xf50476[_0x552165(0x128)]&&_0xf50476[_0x552165(0x128)][_0x552165(0x4ba)]('.')?_0x1679fe=(0x0,jt[_0x552165(0x503)])(_0xf50476[_0x552165(0x128)]):_0x1679fe=(0x0,jt['getMIMEType'])(_0xf50476[_0x552165(0x6c0)]);let _0x2a179c=So,_0x4b007d=st;return _0x4b007d&&this['instanceName'][_0x552165(0x191)]()['includes'](_0x4b007d[_0x552165(0x191)]())&&(_0xf50476['caption']+='\x0a\x0a'+_0x2a179c),_0x309d30[_0x16d9f3][_0x552165(0x5d4)]=_0xf50476?.['caption'],_0x309d30[_0x16d9f3][_0x552165(0x807)]=_0x1679fe,_0x309d30[_0x16d9f3][_0x552165(0x128)]=_0xf50476[_0x552165(0x128)],_0xf50476[_0x552165(0x6ca)]==='video'&&(_0x309d30[_0x16d9f3]['jpegThumbnail']=Uint8Array[_0x552165(0x6b9)]((0x0,De[_0x552165(0x42a)])((0x0,J['join'])(process[_0x552165(0x742)](),'video-cover.png'))),_0x309d30[_0x16d9f3][_0x552165(0x4b3)]=!0x1),(0x0,f[_0x552165(0x808)])('',{[_0x16d9f3]:{..._0x309d30[_0x16d9f3]}},{'userJid':this[_0x552165(0x582)][_0x552165(0x777)]});}catch(_0x3b05a8){let _0x704606=_0x552165(0x45a),_0x454dbd=_0x3b05a8 instanceof Error?_0x3b05a8['message']:typeof _0x3b05a8==_0x552165(0x3b0)?JSON[_0x552165(0x751)](_0x3b05a8):_0x3b05a8,_0x429cc8=_0x704606+':\x20'+_0x454dbd;throw this['logger'][_0x552165(0x370)](this[_0x552165(0x7b7)]+'\x20('+this[_0x552165(0x582)][_0x552165(0x777)]+_0x552165(0x325)+_0x429cc8),new x(_0x429cc8);}}async[a0_0x36f96e(0x726)](_0x155f87){const _0x544bd3=a0_0x36f96e;let _0x3d6725=await this[_0x544bd3(0x5c0)](_0x155f87[_0x544bd3(0x726)]);return await this[_0x544bd3(0x5c5)](_0x155f87['number'],{..._0x3d6725[_0x544bd3(0x641)]},_0x155f87?.[_0x544bd3(0x432)]);}async['convertToWebP'](_0x16950c,_0x469fae){const _0x3fea89=a0_0x36f96e;try{this[_0x3fea89(0x42c)][_0x3fea89(0x3a8)](_0x3fea89(0x56d));let _0x22e2aa,_0x4423ad=_0x469fae+'-'+new Date()[_0x3fea89(0x4b5)]();this[_0x3fea89(0x42c)][_0x3fea89(0x3a8)](_0x3fea89(0x30a)+_0x4423ad);let _0x20b7f9=''+(0x0,J['join'])(this[_0x3fea89(0x59c)],_0x4423ad+'.webp');if(this['logger'][_0x3fea89(0x3a8)](_0x3fea89(0x61f)+_0x20b7f9),(0x0,k[_0x3fea89(0x4dd)])(_0x16950c)){this[_0x3fea89(0x42c)][_0x3fea89(0x3a8)](_0x3fea89(0x786));let _0x586324=_0x16950c[_0x3fea89(0x410)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x533e8f=Buffer[_0x3fea89(0x6b9)](_0x586324,_0x3fea89(0x5f6));_0x22e2aa=''+(0x0,J[_0x3fea89(0x41f)])(this[_0x3fea89(0x59c)],_0x3fea89(0x7b8)+_0x4423ad+_0x3fea89(0x12e)),this[_0x3fea89(0x42c)][_0x3fea89(0x3a8)](_0x3fea89(0x1a6)+_0x22e2aa),await(0x0,Lt[_0x3fea89(0x3dd)])(_0x533e8f)['toFile'](_0x22e2aa),this[_0x3fea89(0x42c)][_0x3fea89(0x3a8)](_0x3fea89(0x434));}else{this[_0x3fea89(0x42c)][_0x3fea89(0x3a8)](_0x3fea89(0x6a8));let _0x43015d=new Date()[_0x3fea89(0x4b5)](),_0x2aeaff=_0x16950c+_0x3fea89(0x1c6)+_0x43015d;this[_0x3fea89(0x42c)][_0x3fea89(0x3a8)](_0x3fea89(0x2e6)+_0x2aeaff);let _0x1754bc=await Q['default'][_0x3fea89(0x5aa)](_0x2aeaff,{'responseType':_0x3fea89(0x7cb)});this['logger']['verbose']('Getting\x20image\x20from\x20url');let _0x4956a3=Buffer[_0x3fea89(0x6b9)](_0x1754bc[_0x3fea89(0x7af)],_0x3fea89(0x727));_0x22e2aa=''+(0x0,J[_0x3fea89(0x41f)])(this['storePath'],_0x3fea89(0x7b8)+_0x4423ad+'.png'),this[_0x3fea89(0x42c)][_0x3fea89(0x3a8)](_0x3fea89(0x1a6)+_0x22e2aa),await(0x0,Lt[_0x3fea89(0x3dd)])(_0x4956a3)[_0x3fea89(0x209)](_0x22e2aa),this[_0x3fea89(0x42c)][_0x3fea89(0x3a8)](_0x3fea89(0x434));}return await(0x0,Lt[_0x3fea89(0x3dd)])(_0x22e2aa)[_0x3fea89(0x36d)]()[_0x3fea89(0x209)](_0x20b7f9),this[_0x3fea89(0x42c)][_0x3fea89(0x3a8)](_0x3fea89(0x493)),j[_0x3fea89(0x6f0)](_0x22e2aa),this[_0x3fea89(0x42c)][_0x3fea89(0x3a8)](_0x3fea89(0x55b)),_0x20b7f9;}catch(_0x4e6400){let _0x3434b4='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x518d49=_0x4e6400 instanceof Error?_0x4e6400['message']:typeof _0x4e6400==_0x3fea89(0x3b0)?JSON[_0x3fea89(0x751)](_0x4e6400):_0x4e6400,_0x4f73a8=_0x3434b4+':\x20'+_0x518d49;this[_0x3fea89(0x42c)]['error'](this[_0x3fea89(0x7b7)]+'\x20('+this[_0x3fea89(0x582)][_0x3fea89(0x777)]+_0x3fea89(0x325)+_0x4f73a8);}}async[a0_0x36f96e(0x174)](_0x249571){const _0x465143=a0_0x36f96e;let _0x1774b4=await this['convertToWebP'](_0x249571[_0x465143(0x258)][_0x465143(0x4fb)],_0x249571['number']),_0x42e2ae=await this[_0x465143(0x5c5)](_0x249571[_0x465143(0x3b2)],{'sticker':{'url':_0x1774b4}},_0x249571?.[_0x465143(0x432)]);return j[_0x465143(0x6f0)](_0x1774b4),this[_0x465143(0x42c)][_0x465143(0x3a8)](_0x465143(0x6f1)),_0x42e2ae;}async['audioWhatsapp'](_0x408c38){const _0x65d3de=a0_0x36f96e;if(this[_0x65d3de(0x42c)][_0x65d3de(0x3a8)]('Sending\x20audio\x20whatsapp'),!_0x408c38[_0x65d3de(0x432)]?.[_0x65d3de(0x45f)]&&_0x408c38[_0x65d3de(0x432)]?.[_0x65d3de(0x45f)]!==!0x1&&(_0x408c38[_0x65d3de(0x432)]['encoding']=!0x0),_0x408c38[_0x65d3de(0x432)]?.[_0x65d3de(0x45f)]){let _0x5230ec=await this[_0x65d3de(0x6e9)](_0x408c38[_0x65d3de(0x391)]['audio']);if(typeof _0x5230ec==_0x65d3de(0x18f)){let _0x15cdc4=j[_0x65d3de(0x42a)](_0x5230ec)[_0x65d3de(0x2ee)](_0x65d3de(0x5f6));return this[_0x65d3de(0x5c5)](_0x408c38[_0x65d3de(0x3b2)],{'audio':Buffer[_0x65d3de(0x6b9)](_0x15cdc4,_0x65d3de(0x5f6)),'ptt':!0x0,'mimetype':_0x65d3de(0x4df)},{'presence':_0x65d3de(0x15e),'delay':_0x408c38?.[_0x65d3de(0x432)]?.['delay']});}else throw new x(_0x5230ec);}return await this[_0x65d3de(0x5c5)](_0x408c38[_0x65d3de(0x3b2)],{'audio':(0x0,k[_0x65d3de(0x15d)])(_0x408c38[_0x65d3de(0x391)][_0x65d3de(0x1d3)])?{'url':_0x408c38[_0x65d3de(0x391)]['audio']}:Buffer[_0x65d3de(0x6b9)](_0x408c38[_0x65d3de(0x391)][_0x65d3de(0x1d3)],'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x65d3de(0x15e),'delay':_0x408c38?.[_0x65d3de(0x432)]?.[_0x65d3de(0x31a)]});}async['convertaudio'](_0x28e025){const _0x2d642c=a0_0x36f96e;this[_0x2d642c(0x42c)]['verbose']('Processing\x20audio');let _0x3c4fdf=(0x0,k[_0x2d642c(0x15d)])(_0x28e025)?(0x0,Jt['createHash'])(_0x2d642c(0x201))[_0x2d642c(0x3d0)](_0x28e025)[_0x2d642c(0x402)](_0x2d642c(0x298)):(0x0,Jt[_0x2d642c(0x194)])(_0x2d642c(0x201))[_0x2d642c(0x3d0)](_0x28e025)[_0x2d642c(0x402)]('hex'),_0x323ced=''+(0x0,J['join'])(this[_0x2d642c(0x59c)],_0x3c4fdf+_0x2d642c(0x3a5));if(j[_0x2d642c(0x310)](_0x323ced))return this[_0x2d642c(0x42c)][_0x2d642c(0x3a8)](_0x2d642c(0x372)),_0x323ced;let _0x527e76=''+(0x0,J[_0x2d642c(0x41f)])(this['storePath'],'temp-'+(0x0,Ce['v4'])()+_0x2d642c(0x3c4));if((0x0,k[_0x2d642c(0x15d)])(_0x28e025)){let _0x3d6fa5=new Date()[_0x2d642c(0x4b5)](),_0x3b9fc0=_0x28e025+_0x2d642c(0x1c6)+_0x3d6fa5,_0x24bb8f=await Q[_0x2d642c(0x3dd)][_0x2d642c(0x5aa)](_0x3b9fc0,{'responseType':_0x2d642c(0x7cb)});j[_0x2d642c(0x2c3)](_0x527e76,_0x24bb8f[_0x2d642c(0x7af)]);}else{let _0x16f6d9=Buffer['from'](_0x28e025,_0x2d642c(0x5f6));j[_0x2d642c(0x2c3)](_0x527e76,_0x16f6d9);}return new Promise((_0x2d8399,_0xdb8870)=>{const _0x54f866=_0x2d642c;(0x0,_e['exec'])(As[_0x54f866(0x3dd)][_0x54f866(0x804)]+_0x54f866(0x19e)+_0x527e76+_0x54f866(0x35a)+_0x323ced+_0x54f866(0x226),_0x261050=>{const _0x7f527b=_0x54f866;if(j[_0x7f527b(0x6f0)](_0x527e76),_0x261050){this[_0x7f527b(0x42c)][_0x7f527b(0x3a8)](_0x7f527b(0x1aa)),_0xdb8870(_0x261050);return;}this[_0x7f527b(0x42c)][_0x7f527b(0x3a8)](_0x7f527b(0x5ae)),_0x2d8399(_0x323ced);});});}async[a0_0x36f96e(0x723)](_0x32bc65){const _0x5c5889=a0_0x36f96e;this[_0x5c5889(0x42c)]['verbose']('Processing\x20audio');let _0xcab237=(0x0,Jt[_0x5c5889(0x194)])('sha256')['update'](_0x32bc65)['digest'](_0x5c5889(0x298)),_0x112885=''+(0x0,J[_0x5c5889(0x41f)])(this[_0x5c5889(0x59c)],_0xcab237+_0x5c5889(0x3c4));if(j['existsSync'](_0x112885))return this['logger'][_0x5c5889(0x3a8)](_0x5c5889(0x372)),J['default'][_0x5c5889(0x7c9)](_0x112885);let _0x34ff9d=''+(0x0,J[_0x5c5889(0x41f)])(this['storePath'],_0x5c5889(0x7b8)+_0xcab237+_0x5c5889(0x3a5));if((0x0,k[_0x5c5889(0x15d)])(_0x32bc65)){let _0x416b49=new Date()[_0x5c5889(0x4b5)](),_0x422a31=_0x32bc65+_0x5c5889(0x1c6)+_0x416b49,_0x5a97d4=await Q['default'][_0x5c5889(0x5aa)](_0x422a31,{'responseType':_0x5c5889(0x7cb)});j[_0x5c5889(0x2c3)](_0x34ff9d,_0x5a97d4['data']);}else{let _0x3ec5af=Buffer[_0x5c5889(0x6b9)](_0x32bc65,_0x5c5889(0x5f6));j[_0x5c5889(0x2c3)](_0x34ff9d,_0x3ec5af);}return new Promise((_0x460ae5,_0xfbb1c6)=>{const _0x153695=_0x5c5889;(0x0,_e['exec'])(As[_0x153695(0x3dd)][_0x153695(0x804)]+'\x20-i\x20'+_0x34ff9d+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x112885+_0x153695(0x226),_0x4451fa=>{const _0x14cb5e=_0x153695;if(j[_0x14cb5e(0x6f0)](_0x34ff9d),_0x4451fa){this[_0x14cb5e(0x42c)]['verbose'](_0x14cb5e(0x1aa)),_0xfbb1c6(_0x4451fa);return;}this['logger'][_0x14cb5e(0x3a8)](_0x14cb5e(0x5ae)),_0x460ae5(J['default'][_0x14cb5e(0x7c9)](_0x112885));});});}async['buttonMessage'](_0x390092){const _0x4803cc=a0_0x36f96e;let _0x56aeb9={},_0xd01a64=_0x4803cc(0x316);if(_0x390092[_0x4803cc(0x7b5)]?.[_0x4803cc(0x726)]){_0xd01a64=_0x390092[_0x4803cc(0x7b5)][_0x4803cc(0x726)]?.[_0x4803cc(0x6ca)][_0x4803cc(0x491)]()??_0x4803cc(0x316),_0x56aeb9[_0x4803cc(0x32c)]=_0xd01a64[_0x4803cc(0x191)]()+'Message';let _0x32bf3c=await this[_0x4803cc(0x5c0)](_0x390092[_0x4803cc(0x7b5)]['mediaMessage']);_0x56aeb9[_0x4803cc(0x641)]=_0x32bf3c['message'][_0x56aeb9[_0x4803cc(0x32c)]],_0x56aeb9[_0x4803cc(0x1c3)]='*'+_0x390092[_0x4803cc(0x7b5)][_0x4803cc(0x698)]+_0x4803cc(0x5df)+_0x390092[_0x4803cc(0x7b5)][_0x4803cc(0x6c6)];}let _0xc9810a={'text':_0x390092['buttonMessage']['buttons'][_0x4803cc(0x25f)](_0x4b6b3d=>_0x4b6b3d[_0x4803cc(0x3cd)]),'ids':_0x390092[_0x4803cc(0x7b5)][_0x4803cc(0x422)][_0x4803cc(0x25f)](_0xd5730e=>_0xd5730e[_0x4803cc(0x787)])};if(!(0x0,k['arrayUnique'])(_0xc9810a[_0x4803cc(0x562)])||!(0x0,k[_0x4803cc(0x36f)])(_0xc9810a[_0x4803cc(0x32e)]))throw new m(_0x4803cc(0x7e8),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x4803cc(0x5c5)](_0x390092[_0x4803cc(0x3b2)],{'buttonsMessage':{'text':_0x56aeb9?.['mediaKey']?void 0x0:_0x390092['buttonMessage'][_0x4803cc(0x698)],'contentText':_0x56aeb9?.[_0x4803cc(0x1c3)]??_0x390092[_0x4803cc(0x7b5)][_0x4803cc(0x6c6)],'footerText':_0x390092[_0x4803cc(0x7b5)]?.['footerText'],'buttons':_0x390092[_0x4803cc(0x7b5)][_0x4803cc(0x422)]['map'](_0x1b5a52=>({'buttonText':{'displayText':_0x1b5a52[_0x4803cc(0x3cd)]},'buttonId':_0x1b5a52[_0x4803cc(0x787)],'type':0x1})),'headerType':f[_0x4803cc(0x355)]['Message'][_0x4803cc(0x146)][_0x4803cc(0x675)][_0xd01a64],[_0x56aeb9?.[_0x4803cc(0x32c)]]:_0x56aeb9?.[_0x4803cc(0x641)]}},_0x390092?.[_0x4803cc(0x432)]);}async[a0_0x36f96e(0x3f4)](_0x3ebdd1){const _0x32ac75=a0_0x36f96e;return await this[_0x32ac75(0x5c5)](_0x3ebdd1[_0x32ac75(0x3b2)],{'locationMessage':{'degreesLatitude':_0x3ebdd1[_0x32ac75(0x3f4)][_0x32ac75(0x6c9)],'degreesLongitude':_0x3ebdd1[_0x32ac75(0x3f4)][_0x32ac75(0x2d7)],'name':_0x3ebdd1[_0x32ac75(0x3f4)]?.['name'],'address':_0x3ebdd1[_0x32ac75(0x3f4)]?.[_0x32ac75(0x3e4)]}},_0x3ebdd1?.['options']);}async[a0_0x36f96e(0x2f9)](_0x499c80){const _0x4ea0a0=a0_0x36f96e;let _0x566909={},_0x14bac0=async _0x4fb2e5=>{const _0x160a6f=a0_0x5519;let _0x32bb80=_0x160a6f(0x620)+_0x4fb2e5[_0x160a6f(0x452)]+_0x160a6f(0x236)+_0x4fb2e5[_0x160a6f(0x452)]+'\x0a';_0x4fb2e5[_0x160a6f(0x7cf)]&&(_0x32bb80+=_0x160a6f(0x387)+_0x4fb2e5[_0x160a6f(0x7cf)]+';\x0a'),_0x4fb2e5[_0x160a6f(0x2b8)]&&(_0x32bb80+=_0x160a6f(0x280)+_0x4fb2e5[_0x160a6f(0x2b8)]+'\x0a'),_0x4fb2e5['url']&&(_0x32bb80+=_0x160a6f(0x765)+_0x4fb2e5[_0x160a6f(0x206)]+'\x0a');let _0x87fa4f='',_0x5416b9=0x1;if(_0x4fb2e5[_0x160a6f(0x38d)]){let _0x317e05=_0x4fb2e5[_0x160a6f(0x38d)][_0x160a6f(0x71a)]('|');for(let _0xc0c327 of _0x317e05){let _0x32dd8b=await this['whatsappNumber']({'numbers':[_0xc0c327]}),_0x1b09e9=(_0x32dd8b[_0x160a6f(0x5ed)]>0x0?_0x32dd8b[0x0]['jid']:this[_0x160a6f(0x3b6)](_0xc0c327))['replace'](_0x160a6f(0x54d),'');_0x87fa4f+=_0x160a6f(0x654)+_0x5416b9+_0x160a6f(0x247)+_0x1b09e9+':'+_0xc0c327+_0x160a6f(0x29b)+_0x5416b9+_0x160a6f(0x113),_0x5416b9++;}}return _0x32bb80+=_0x87fa4f+_0x160a6f(0x57d),_0x32bb80;};return _0x499c80[_0x4ea0a0(0x2f9)][_0x4ea0a0(0x5ed)]===0x1?_0x566909[_0x4ea0a0(0x2f9)]={'displayName':_0x499c80[_0x4ea0a0(0x2f9)][0x0][_0x4ea0a0(0x452)],'vcard':await _0x14bac0(_0x499c80['contactMessage'][0x0])}:_0x566909['contactsArrayMessage']={'displayName':_0x499c80['contactMessage']['length']+'\x20contacts','contacts':await Promise[_0x4ea0a0(0x471)](_0x499c80[_0x4ea0a0(0x2f9)]['map'](async _0x3200aa=>({'displayName':_0x3200aa[_0x4ea0a0(0x452)],'vcard':await _0x14bac0(_0x3200aa)})))},await this[_0x4ea0a0(0x5c5)](_0x499c80['number'],{..._0x566909},_0x499c80?.[_0x4ea0a0(0x432)]);}async[a0_0x36f96e(0x7db)](_0x1c4fee){const _0x3a062b=a0_0x36f96e;return await this[_0x3a062b(0x5c5)](_0x1c4fee[_0x3a062b(0x7db)][_0x3a062b(0x2f3)][_0x3a062b(0x71c)],{'reactionMessage':{'key':_0x1c4fee[_0x3a062b(0x7db)][_0x3a062b(0x2f3)],'text':_0x1c4fee['reactionMessage'][_0x3a062b(0x24a)]}});}async['whatsappNumber'](_0x2ecfbe){const _0x125e12=a0_0x36f96e;let _0x586b7e=[];for await(let _0x1aec4b of _0x2ecfbe[_0x125e12(0x20c)]){let _0x273d3d=this['createJid'](_0x1aec4b),_0x403570=!0x1;try{if((0x0,f[_0x125e12(0x5a3)])(_0x273d3d)){let _0x518c23=(await this[_0x125e12(0x1b7)]['chat']['findOne']({'where':{'_id':_0x273d3d}},this[_0x125e12(0x582)][_0x125e12(0x777)]))[_0x125e12(0x513)];_0x403570=!!_0x518c23?.['id']&&!!_0x518c23?.['canSendMessage'],_0x586b7e['push'](new be(_0x518c23['id'],_0x403570,_0x518c23?.[_0x125e12(0x6c7)]));}else{let _0x129d57=(await this[_0x125e12(0x3a9)][_0x125e12(0x2af)](_0x273d3d))[0x0];_0x403570=_0x129d57['exists'],_0x586b7e['push'](new be(_0x129d57[_0x125e12(0x127)],_0x403570));}}catch{(0x0,f[_0x125e12(0x5a3)])(_0x273d3d)||await this[_0x125e12(0x7b9)](_0x273d3d,_0x403570),_0x586b7e[_0x125e12(0x334)](new be(_0x1aec4b,!0x1));}}return _0x586b7e;}async['deleteImportedChat'](_0x4b75b1,_0x16f0c7){const _0x3a9a40=a0_0x36f96e;try{await this[_0x3a9a40(0x1b7)][_0x3a9a40(0x550)][_0x3a9a40(0x49a)]({'where':{'_id':_0x4b75b1,'imported':!0x0}},this['instance'][_0x3a9a40(0x777)])&&(_0x16f0c7||(await this[_0x3a9a40(0x1b7)][_0x3a9a40(0x550)]['deleteChat'](_0x4b75b1,this[_0x3a9a40(0x582)][_0x3a9a40(0x777)]),this[_0x3a9a40(0x42c)]['info']('Chat\x20com\x20ID\x20'+_0x4b75b1+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x4a82be){let _0x1f907d='Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat',_0x3f85eb=_0x4a82be instanceof Error?_0x4a82be[_0x3a9a40(0x641)]:typeof _0x4a82be=='object'?JSON[_0x3a9a40(0x751)](_0x4a82be):_0x4a82be,_0x19b43e=_0x1f907d+':\x20'+_0x3f85eb;this['logger']['error'](this['instanceName']+'\x20('+this[_0x3a9a40(0x582)][_0x3a9a40(0x777)]+_0x3a9a40(0x325)+_0x19b43e);}}async['markMessageAsRead'](_0x305acf){const _0x52a3f1=a0_0x36f96e;try{let _0x6d95eb=_0x305acf[_0x52a3f1(0x7e9)][_0x52a3f1(0x713)](_0x4bc66e=>(0x0,f[_0x52a3f1(0x5a3)])(_0x4bc66e[_0x52a3f1(0x71c)])||(0x0,f[_0x52a3f1(0x461)])(_0x4bc66e[_0x52a3f1(0x71c)]))['map'](_0x1779f8=>({'remoteJid':_0x1779f8[_0x52a3f1(0x71c)],'fromMe':_0x1779f8['fromMe'],'id':_0x1779f8['id']}));await this['client'][_0x52a3f1(0x7e9)](_0x6d95eb);let _0x56544c=_0x6d95eb[_0x52a3f1(0x25f)](_0x5d9b98=>this['updateMessage'](_0x5d9b98,{'status':'READ','owner':this['instance'][_0x52a3f1(0x777)]})),_0x268d82=_0x6d95eb[_0x52a3f1(0x25f)](_0x989930=>this[_0x52a3f1(0x1b7)][_0x52a3f1(0x550)][_0x52a3f1(0x4ec)]({'where':{'_id':_0x989930[_0x52a3f1(0x71c)]}},{'unreadcount':0x0},this[_0x52a3f1(0x582)]['wuid'])),[_0x4b0571,_0x56d481]=await Promise[_0x52a3f1(0x471)]([Promise[_0x52a3f1(0x471)](_0x56544c),Promise[_0x52a3f1(0x471)](_0x268d82)]);return _0x56d481[_0x52a3f1(0x713)](_0x86f5ef=>_0x86f5ef!==null)[_0x52a3f1(0x1f3)](_0x230014=>{const _0x4a80d9=_0x52a3f1;U(this[_0x4a80d9(0x7b7)],_0x4a80d9(0x35d),{'chat':_0x230014});}),{'message':'Read\x20messages','read':'success'};}catch(_0x32b00b){let _0x2a1777=_0x52a3f1(0x244),_0x1d2873=_0x32b00b instanceof Error?_0x32b00b['message']:typeof _0x32b00b==_0x52a3f1(0x3b0)?JSON[_0x52a3f1(0x751)](_0x32b00b):_0x32b00b,_0x1d2251=_0x2a1777+':\x20'+_0x1d2873;throw this[_0x52a3f1(0x42c)][_0x52a3f1(0x370)](this['instanceName']+'\x20('+this[_0x52a3f1(0x582)][_0x52a3f1(0x777)]+_0x52a3f1(0x325)+_0x1d2251),new x(_0x1d2251);}}async[a0_0x36f96e(0x197)](_0x4cd17c){const _0x1b2985=a0_0x36f96e;let _0x5669a6={'where':{'key':{'remoteJid':_0x4cd17c}},'limit':0x1},_0x22135b=await this[_0x1b2985(0x4f8)](_0x5669a6);return _0x22135b||(console[_0x1b2985(0x370)](_0x1b2985(0x460),_0x4cd17c),null);}async[a0_0x36f96e(0x48d)](_0x5d00a0){const _0x15ed7a=a0_0x36f96e;this['logger']['verbose'](_0x15ed7a(0x6a5));try{let _0x49d95d=_0x5d00a0['lastMessage'],_0x3e2cd4=_0x5d00a0[_0x15ed7a(0x550)];if(!_0x49d95d&&_0x3e2cd4?_0x49d95d=await this[_0x15ed7a(0x197)](_0x3e2cd4):(_0x49d95d=_0x5d00a0[_0x15ed7a(0x7ca)],_0x49d95d[_0x15ed7a(0x37b)]=_0x49d95d?.[_0x15ed7a(0x37b)]??Date[_0x15ed7a(0x31b)](),_0x3e2cd4=_0x49d95d?.['key']?.[_0x15ed7a(0x71c)]),!_0x49d95d||Object[_0x15ed7a(0x179)](_0x49d95d)[_0x15ed7a(0x5ed)]===0x0)throw new q('Last\x20message\x20not\x20found');this[_0x15ed7a(0x42c)][_0x15ed7a(0x3a8)](_0x15ed7a(0x812)+_0x3e2cd4);try{await this[_0x15ed7a(0x3a9)][_0x15ed7a(0x649)]({'archive':_0x5d00a0[_0x15ed7a(0x357)],'lastMessages':[_0x49d95d]},this['createJid'](_0x3e2cd4));}catch(_0x1db06c){let _0x53b342=_0x15ed7a(0x24c)+_0x3e2cd4,_0x2b9eab=_0x1db06c instanceof Error?_0x1db06c[_0x15ed7a(0x641)]:typeof _0x1db06c==_0x15ed7a(0x3b0)?JSON[_0x15ed7a(0x751)](_0x1db06c):_0x1db06c,_0xd6821f=_0x53b342+':\x20'+_0x2b9eab;this[_0x15ed7a(0x42c)][_0x15ed7a(0x370)](this[_0x15ed7a(0x7b7)]+'\x20('+this[_0x15ed7a(0x582)][_0x15ed7a(0x777)]+'):\x20'+_0xd6821f);}this[_0x15ed7a(0x42c)][_0x15ed7a(0x3a8)](_0x15ed7a(0x27e)+_0x3e2cd4);let _0x383529=await this[_0x15ed7a(0x1b7)][_0x15ed7a(0x550)][_0x15ed7a(0x4ec)]({'where':{'_id':_0x49d95d?.['key']?.[_0x15ed7a(0x71c)]}},{'archived':_0x5d00a0['archive']},this['instance'][_0x15ed7a(0x777)]);return _0x383529?(this[_0x15ed7a(0x42c)]['verbose'](_0x15ed7a(0x10f)+JSON[_0x15ed7a(0x751)](_0x383529)),U(this['instanceName'],_0x15ed7a(0x35d),{'chat':_0x383529})):this[_0x15ed7a(0x42c)][_0x15ed7a(0x370)](_0x15ed7a(0x2f2)+_0x3e2cd4),{'chatId':_0x3e2cd4,'archived':_0x5d00a0[_0x15ed7a(0x357)]};}catch(_0xaff5b8){let _0x150f54=_0x15ed7a(0x679),_0x374b77=_0xaff5b8 instanceof Error?_0xaff5b8[_0x15ed7a(0x641)]:typeof _0xaff5b8==_0x15ed7a(0x3b0)?JSON['stringify'](_0xaff5b8):_0xaff5b8,_0x448ad6=_0x150f54+':\x20'+_0x374b77;throw this[_0x15ed7a(0x42c)][_0x15ed7a(0x370)](this[_0x15ed7a(0x7b7)]+'\x20('+this[_0x15ed7a(0x582)][_0x15ed7a(0x777)]+'):\x20'+_0x448ad6),new x(_0x448ad6);}}async['deleteChat'](_0xa20bbb){const _0x2cd499=a0_0x36f96e;this[_0x2cd499(0x42c)][_0x2cd499(0x3a8)](_0x2cd499(0x2ae));try{let _0x43af7e=await this[_0x2cd499(0x197)](_0xa20bbb);if(!_0x43af7e||Object[_0x2cd499(0x179)](_0x43af7e)[_0x2cd499(0x5ed)]===0x0)throw new q(_0x2cd499(0x74a));let _0x165701=_0x43af7e[0x0];this['logger']['verbose'](_0x2cd499(0x7f1)+_0xa20bbb);try{await this[_0x2cd499(0x3a9)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x165701[_0x2cd499(0x2f3)],'messageTimestamp':_0x165701[_0x2cd499(0x37b)]}]},this[_0x2cd499(0x3b6)](_0xa20bbb));}catch(_0x2ddaf0){this[_0x2cd499(0x42c)][_0x2cd499(0x370)](_0x2cd499(0x24c)+_0xa20bbb+':\x20'+_0x2ddaf0[_0x2cd499(0x2ee)]());}this['logger'][_0x2cd499(0x3a8)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0xa20bbb);return;}catch(_0x42afb2){throw this[_0x2cd499(0x42c)][_0x2cd499(0x370)]('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x42afb2[_0x2cd499(0x2ee)]()),new x({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x42afb2[_0x2cd499(0x2ee)]()]});}}async[a0_0x36f96e(0x712)](_0xdc55f8){const _0x1549f4=a0_0x36f96e;try{let _0x499bf0=await this[_0x1549f4(0x3a9)][_0x1549f4(0x377)](_0xdc55f8[_0x1549f4(0x71c)],{'delete':_0xdc55f8});try{let _0xa8b63a=await this[_0x1549f4(0x2c9)](_0xdc55f8,{'status':_0x1549f4(0x72a),'owner':this[_0x1549f4(0x582)]['wuid']});this['logger'][_0x1549f4(0x3a8)](this[_0x1549f4(0x7b7)]+'\x20('+this[_0x1549f4(0x582)][_0x1549f4(0x777)]+'):\x20updateResult:'+_0xa8b63a);}catch(_0x4a9bf1){console['error'](_0x1549f4(0x576),_0x4a9bf1);}return _0x499bf0;}catch(_0x2c9283){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x2c9283?.['toString']());}}async[a0_0x36f96e(0x602)](_0x341785){const _0x12ff03=a0_0x36f96e;try{let _0x23c3f3=_0x341785?.[_0x12ff03(0x641)]?_0x341785:await this[_0x12ff03(0x3df)](_0x341785[_0x12ff03(0x2f3)],!0x0);for(let _0x155f06 of ya)_0x23c3f3[_0x12ff03(0x641)][_0x155f06]&&(_0x23c3f3['message']=_0x23c3f3[_0x12ff03(0x641)][_0x155f06][_0x12ff03(0x641)]);let _0x258926,_0x2f9b74;for(let _0x44aebd of wa)if(_0x258926=_0x23c3f3[_0x12ff03(0x641)][_0x44aebd],_0x258926){_0x2f9b74=_0x44aebd;break;}if(!_0x258926)throw _0x12ff03(0x65a);typeof _0x258926[_0x12ff03(0x32c)]=='object'&&(_0x23c3f3[_0x12ff03(0x641)]=JSON[_0x12ff03(0x766)](JSON['stringify'](_0x23c3f3[_0x12ff03(0x641)])));let _0x7333e4=await(0x0,f[_0x12ff03(0x70a)])({'key':_0x23c3f3?.[_0x12ff03(0x2f3)],'message':_0x23c3f3?.[_0x12ff03(0x641)]},_0x12ff03(0x378),{},{'logger':(0x0,kt['default'])({'level':_0x12ff03(0x40f)}),'reuploadRequest':this[_0x12ff03(0x3a9)][_0x12ff03(0x572)]});if(!(_0x7333e4 instanceof Buffer))throw new Error(_0x12ff03(0x17f));let _0x225860=this[_0x12ff03(0x33c)][_0x12ff03(0x5aa)](_0x12ff03(0x693)),_0x326167,_0x985ed5;if(_0x258926[_0x12ff03(0x128)])_0x326167=_0x258926[_0x12ff03(0x128)];else{let _0x1113a3=_0x258926['mimetype']?.[_0x12ff03(0x404)](/\/(\w+)/),_0x55bf8d=_0x1113a3?_0x1113a3[0x1]:null;if(!_0x55bf8d)throw new Error(_0x12ff03(0x49f));_0x326167=(0x0,Ce['v4'])()+'.'+_0x55bf8d;}_0x2f9b74==='audioMessage'?_0x985ed5=_0x12ff03(0x725)+await this[_0x12ff03(0x723)](_0x7333e4[_0x12ff03(0x2ee)](_0x12ff03(0x5f6))):(await this[_0x12ff03(0x563)](_0x7333e4,_0x326167),_0x985ed5=_0x12ff03(0x725)+_0x326167);let _0x517448=this[_0x12ff03(0x33c)]['get'](_0x12ff03(0x52b))[_0x12ff03(0x289)];if(!_0x517448){let _0x1c8f0b=this[_0x12ff03(0x33c)][_0x12ff03(0x5aa)]('SSL_CONF');_0x517448=_0x12ff03(0x7c0)+(_0x1c8f0b&&_0x1c8f0b['FULLCHAIN'][_0x12ff03(0x71a)]('/')[0x4]);}_0x985ed5=''+_0x517448+_0x985ed5;let _0x4b6d01=0xc*0x3c*0x3c*0x3e8,_0x13e3b3={'where':{'_id':_0x23c3f3[_0x12ff03(0x2f3)]['id']}},_0x4fc4a8={'message_normalized.fileUrl':_0x985ed5,'message_normalized.expires_fileUrl':Date[_0x12ff03(0x31b)]()+_0x4b6d01};try{let _0x4e24a5=await this[_0x12ff03(0x1b7)][_0x12ff03(0x641)][_0x12ff03(0x3d0)](_0x13e3b3,_0x4fc4a8,this['instance']['wuid']);_0x4e24a5&&U(this[_0x12ff03(0x7b7)],_0x12ff03(0x35c),{'message':_0x4e24a5});}catch(_0x4918d8){let _0xeba1e1=_0x12ff03(0x78c),_0x36fd5a=_0x4918d8 instanceof Error?_0x4918d8[_0x12ff03(0x641)]:typeof _0x4918d8==_0x12ff03(0x3b0)?JSON[_0x12ff03(0x751)](_0x4918d8):_0x4918d8,_0x350024=_0xeba1e1+':\x20'+_0x36fd5a;this[_0x12ff03(0x42c)]['error'](this[_0x12ff03(0x7b7)]+'\x20('+this['instance'][_0x12ff03(0x777)]+_0x12ff03(0x325)+_0x350024);}return{'mediaType':_0x2f9b74,'fileName':_0x258926[_0x12ff03(0x128)],'caption':_0x258926[_0x12ff03(0x5d4)],'size':{'fileLength':_0x258926['fileLength'],'height':_0x258926[_0x12ff03(0x6f9)],'width':_0x258926[_0x12ff03(0x7b3)]},'mimetype':_0x258926[_0x12ff03(0x807)],'base64':_0x7333e4[_0x12ff03(0x2ee)]('base64'),'fileUrl':_0x985ed5,'expires_fileUrl':Date[_0x12ff03(0x31b)]()+_0x4b6d01};}catch(_0x5b6226){let _0x123028=_0x12ff03(0x3fe),_0x6e8253=_0x5b6226 instanceof Error?_0x5b6226[_0x12ff03(0x641)]:typeof _0x5b6226=='object'?JSON[_0x12ff03(0x751)](_0x5b6226):_0x5b6226,_0x153a42=_0x123028+':\x20'+_0x6e8253;throw this['logger'][_0x12ff03(0x370)](this['instanceName']+'\x20('+this[_0x12ff03(0x582)]['wuid']+'):\x20'+_0x153a42),new m(_0x153a42);}}async['saveMediaToFile'](_0x51123d,_0xe1ce7b){const _0x4c650a=a0_0x36f96e;let _0x4dbaf9=J[_0x4c650a(0x3dd)][_0x4c650a(0x41f)](__dirname,_0x4c650a(0x2d8));j[_0x4c650a(0x310)](_0x4dbaf9)||j[_0x4c650a(0x265)](_0x4dbaf9,{'recursive':!0x0});let _0x3c59df=J[_0x4c650a(0x3dd)]['join'](_0x4dbaf9,_0xe1ce7b);return new Promise((_0x47b766,_0xcaada6)=>{const _0x509630=_0x4c650a;j[_0x509630(0x31e)](_0x3c59df,_0x51123d,_0x510841=>{const _0x28257d=_0x509630;_0x510841?(this['logger'][_0x28257d(0x370)](_0x28257d(0x76c)+(_0x510841 instanceof Error?_0x510841[_0x28257d(0x641)]:JSON[_0x28257d(0x751)](_0x510841,null,0x2))),_0xcaada6(_0x510841)):(this[_0x28257d(0x42c)][_0x28257d(0x3bb)]('File\x20written\x20to\x20path:\x20'+_0x3c59df),_0x47b766(_0x3c59df));});});}async[a0_0x36f96e(0x234)](_0x32b495){const _0x4e7e8c=a0_0x36f96e;return await this[_0x4e7e8c(0x1b7)]['contact'][_0x4e7e8c(0x6a2)](_0x32b495,this['instance']['wuid']);}async[a0_0x36f96e(0x644)](){const _0x116bb6=a0_0x36f96e;return await this[_0x116bb6(0x1b7)]['label'][_0x116bb6(0x6a2)]({'where':{}},this[_0x116bb6(0x582)][_0x116bb6(0x777)]);}async[a0_0x36f96e(0x4f8)](_0x2b6887){const _0x21b1c8=a0_0x36f96e;return await this['repository'][_0x21b1c8(0x641)][_0x21b1c8(0x6a2)](_0x2b6887,this[_0x21b1c8(0x582)]['wuid']);}async[a0_0x36f96e(0x34c)](){const _0x1a2238=a0_0x36f96e;return this[_0x1a2238(0x1b7)][_0x1a2238(0x550)][_0x1a2238(0x1d1)](this[_0x1a2238(0x582)][_0x1a2238(0x777)]),this['repository'][_0x1a2238(0x550)]['updateMissingEtiquetas'](this[_0x1a2238(0x582)]['wuid']),this[_0x1a2238(0x1b7)]['chat'][_0x1a2238(0x7d9)](this[_0x1a2238(0x582)]['wuid']),this[_0x1a2238(0x1b7)][_0x1a2238(0x550)][_0x1a2238(0x230)](this[_0x1a2238(0x582)]['wuid']),await this[_0x1a2238(0x1b7)][_0x1a2238(0x550)][_0x1a2238(0x6a2)]({'where':{}},this[_0x1a2238(0x582)]['wuid']);}async[a0_0x36f96e(0x1a5)](_0x451902){const _0x10047a=a0_0x36f96e;try{if(!Array[_0x10047a(0x358)](_0x451902)||_0x451902['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x3cf0aa=[],_0x282c6f=[];for(let _0x3ec6a4 of _0x451902){if(_0x3ec6a4[_0x10047a(0x183)])_0x3ec6a4[_0x10047a(0x183)]=this[_0x10047a(0x3b6)](_0x3ec6a4[_0x10047a(0x183)]);else continue;await this['repository'][_0x10047a(0x550)][_0x10047a(0x49a)]({'where':{'_id':_0x3ec6a4['_id']}},this[_0x10047a(0x582)][_0x10047a(0x777)])?_0x282c6f[_0x10047a(0x334)]({'_id':_0x3ec6a4[_0x10047a(0x183)],'leadInfo':_0x3ec6a4[_0x10047a(0x818)],'owner':this[_0x10047a(0x582)]['wuid']}):_0x3cf0aa[_0x10047a(0x334)]({'_id':_0x3ec6a4[_0x10047a(0x183)],'owner':this['instance']['wuid'],'leadInfo':_0x3ec6a4[_0x10047a(0x818)],'imported':!0x0});}return _0x282c6f[_0x10047a(0x5ed)]>0x0&&await this[_0x10047a(0x1b7)]['chat'][_0x10047a(0x26d)](_0x282c6f['map'](_0x12ae52=>({'query':{'where':{'_id':_0x12ae52[_0x10047a(0x183)],'owner':this[_0x10047a(0x582)][_0x10047a(0x777)]}},'update':_0x12ae52}))),_0x3cf0aa[_0x10047a(0x5ed)]>0x0&&await this[_0x10047a(0x1b7)][_0x10047a(0x550)][_0x10047a(0x486)](_0x3cf0aa,this[_0x10047a(0x582)][_0x10047a(0x777)]),{'updated':_0x282c6f['length'],'inserted':_0x3cf0aa[_0x10047a(0x5ed)]};}catch(_0x1bbda9){let _0x4a3bdb='Erro\x20ao\x20importar\x20chats',_0x3a54bc=_0x1bbda9 instanceof Error?_0x1bbda9[_0x10047a(0x641)]:typeof _0x1bbda9==_0x10047a(0x3b0)?JSON['stringify'](_0x1bbda9):_0x1bbda9,_0x1fc622=_0x4a3bdb+':\x20'+_0x3a54bc;throw this[_0x10047a(0x42c)][_0x10047a(0x370)](this[_0x10047a(0x7b7)]+'\x20('+this[_0x10047a(0x582)][_0x10047a(0x777)]+'):\x20'+_0x1fc622),new m(_0x1fc622);}}async[a0_0x36f96e(0x78a)](_0x258265){const _0x4770ff=a0_0x36f96e;try{if(!Array[_0x4770ff(0x358)](_0x258265)||_0x258265['length']===0x0)throw new Error(_0x4770ff(0x4f7));let _0x1fc630=0x64,_0x229e12=0x0;for(let _0x493419=0x0;_0x493419<_0x258265[_0x4770ff(0x5ed)];_0x493419+=_0x1fc630){let _0x19f833=_0x258265[_0x4770ff(0x145)](_0x493419,_0x493419+_0x1fc630),{updated:_0x5895e8}=await this[_0x4770ff(0x2e8)](_0x19f833);_0x229e12+=_0x5895e8;}return{'updated':_0x229e12};}catch(_0x53f0bd){let _0x5766dd='Erro\x20ao\x20importar\x20chats',_0x5032e1=_0x53f0bd instanceof Error?_0x53f0bd[_0x4770ff(0x641)]:typeof _0x53f0bd==_0x4770ff(0x3b0)?JSON['stringify'](_0x53f0bd):_0x53f0bd,_0x268c19=_0x5766dd+':\x20'+_0x5032e1;throw this[_0x4770ff(0x42c)][_0x4770ff(0x370)](this[_0x4770ff(0x7b7)]+'\x20('+this['instance']['wuid']+_0x4770ff(0x325)+_0x268c19),new m(_0x268c19);}}async[a0_0x36f96e(0x2e8)](_0xc847e5){const _0x3060e0=a0_0x36f96e;try{let _0x579425=await this['repository'][_0x3060e0(0x40e)][_0x3060e0(0x6a2)]({'where':{}},this[_0x3060e0(0x582)][_0x3060e0(0x777)]),_0x2c57a6=new Set(_0x579425[_0x3060e0(0x25f)](_0x4ebb52=>_0x4ebb52[_0x3060e0(0x183)])),_0xb6f23d=[],_0x4780bb=[];for(let _0x2ca007 of _0xc847e5){if(!_0x2ca007['_id'])continue;_0x2ca007['_id']=this[_0x3060e0(0x3b6)](_0x2ca007['_id']);let _0x5aaab2=await this[_0x3060e0(0x1b7)][_0x3060e0(0x550)]['findOne']({'where':{'_id':_0x2ca007['_id']}},this[_0x3060e0(0x582)][_0x3060e0(0x777)]),_0x571365={};if(Object['entries'](_0x2ca007[_0x3060e0(0x818)])['forEach'](([_0x195e6c,_0x2fe7c5])=>{_0x571365['leadInfo.'+_0x195e6c]=_0x2fe7c5;}),_0x5aaab2&&!_0x5aaab2['imported']){let _0x251843=(_0x2ca007['leadInfo'][_0x3060e0(0x4c7)]||[])[_0x3060e0(0x713)](_0x49aca2=>_0x2c57a6['has'](_0x49aca2)),_0x1cc183=new Set(_0x5aaab2[_0x3060e0(0x818)][_0x3060e0(0x4c7)]||[]),_0x1db9ba=_0x251843[_0x3060e0(0x713)](_0x21db5e=>!_0x1cc183[_0x3060e0(0x122)](_0x21db5e)),_0x51caab=[..._0x1cc183][_0x3060e0(0x713)](_0x33d90b=>!_0x251843[_0x3060e0(0x4ba)](_0x33d90b));_0x4780bb[_0x3060e0(0x334)](..._0x1db9ba[_0x3060e0(0x25f)](_0x253cdb=>this['AddChatLabel'](_0x253cdb,_0x2ca007['_id']))),_0x4780bb['push'](..._0x51caab[_0x3060e0(0x25f)](_0x2746f7=>this['RemoveChatLabel'](_0x2746f7,_0x2ca007[_0x3060e0(0x183)]))),_0x2ca007['leadInfo'][_0x3060e0(0x4c7)]=_0x251843,_0xb6f23d[_0x3060e0(0x334)]({'query':{'where':{'_id':_0x2ca007['_id'],'owner':this[_0x3060e0(0x582)][_0x3060e0(0x777)]}},'update':_0x571365});}else _0x571365[_0x3060e0(0x688)]=!0x0,_0xb6f23d['push']({'query':{'where':{'_id':_0x2ca007[_0x3060e0(0x183)],'owner':this[_0x3060e0(0x582)][_0x3060e0(0x777)]}},'update':_0x571365});}let _0x561713=await this[_0x3060e0(0x1b7)][_0x3060e0(0x550)]['updateMany'](_0xb6f23d);return await Promise[_0x3060e0(0x471)](_0x4780bb),{'updated':_0x561713};}catch(_0x1091dd){let _0x51183b=_0x3060e0(0x80b),_0x41f2d3=_0x1091dd instanceof Error?_0x1091dd[_0x3060e0(0x641)]:typeof _0x1091dd=='object'?JSON['stringify'](_0x1091dd):_0x1091dd,_0x3bdaba=_0x51183b+':\x20'+_0x41f2d3;throw this[_0x3060e0(0x42c)][_0x3060e0(0x370)](this['instanceName']+'\x20('+this[_0x3060e0(0x582)][_0x3060e0(0x777)]+_0x3060e0(0x325)+_0x3bdaba),new m(_0x3bdaba);}}async['fetchPrivacySettings'](){const _0x467e2b=a0_0x36f96e;return await this[_0x467e2b(0x3a9)]['fetchPrivacySettings']();}async[a0_0x36f96e(0x5e6)](_0x2b4991){const _0x1b309c=a0_0x36f96e;try{return await this[_0x1b309c(0x3a9)]['updateReadReceiptsPrivacy'](_0x2b4991['privacySettings'][_0x1b309c(0x1f5)]),await this[_0x1b309c(0x3a9)][_0x1b309c(0x1fa)](_0x2b4991[_0x1b309c(0x6f2)]['profile']),await this[_0x1b309c(0x3a9)][_0x1b309c(0x52a)](_0x2b4991[_0x1b309c(0x6f2)]['status']),await this[_0x1b309c(0x3a9)][_0x1b309c(0x6df)](_0x2b4991[_0x1b309c(0x6f2)][_0x1b309c(0x317)]),await this[_0x1b309c(0x3a9)][_0x1b309c(0x75a)](_0x2b4991[_0x1b309c(0x6f2)][_0x1b309c(0x405)]),await this[_0x1b309c(0x3a9)][_0x1b309c(0x102)](_0x2b4991[_0x1b309c(0x6f2)][_0x1b309c(0x7ac)]),this[_0x1b309c(0x3a9)]?.['ws']?.[_0x1b309c(0x200)](),{'update':_0x1b309c(0x658),'data':{'readreceipts':_0x2b4991[_0x1b309c(0x6f2)][_0x1b309c(0x1f5)],'profile':_0x2b4991[_0x1b309c(0x6f2)]['profile'],'status':_0x2b4991[_0x1b309c(0x6f2)]['status'],'online':_0x2b4991[_0x1b309c(0x6f2)][_0x1b309c(0x317)],'last':_0x2b4991[_0x1b309c(0x6f2)][_0x1b309c(0x405)],'groupadd':_0x2b4991[_0x1b309c(0x6f2)][_0x1b309c(0x7ac)]}};}catch(_0x18181c){let _0xe34ac0=_0x1b309c(0x1bd),_0x2457dc=_0x18181c instanceof Error?_0x18181c[_0x1b309c(0x641)]:typeof _0x18181c==_0x1b309c(0x3b0)?JSON[_0x1b309c(0x751)](_0x18181c):_0x18181c,_0x22aa28=_0xe34ac0+':\x20'+_0x2457dc;throw this[_0x1b309c(0x42c)][_0x1b309c(0x370)](this['instanceName']+'\x20('+this[_0x1b309c(0x582)]['wuid']+'):\x20'+_0x22aa28),new m(_0x22aa28);}}async['fetchProfile'](_0x84026e){const _0x26899b=a0_0x36f96e;let _0x1efba2=(_0x84026e?this[_0x26899b(0x3b6)](_0x84026e):this[_0x26899b(0x3a9)]?.[_0x26899b(0x31f)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x26899b(0x42c)]['verbose'](_0x26899b(0x636)+_0x1efba2);let _0x25c925=await this[_0x26899b(0x1b7)][_0x26899b(0x4a0)][_0x26899b(0x49a)]({'where':{'_id':_0x1efba2}},this[_0x26899b(0x582)][_0x26899b(0x777)]),_0x1a2b1d=_0x25c925?_0x25c925[_0x26899b(0x666)]:null;try{let _0x351866=(await this[_0x26899b(0x4a1)]({'numbers':[_0x1efba2]}))?.['shift'](),_0x274d8e=(await this[_0x26899b(0x435)](_0x1efba2,null,!0x1))['cachedContact'][_0x26899b(0x33a)],_0xd0acec=await this['getStatus'](_0x351866?.['jid']),_0x3ffd78=await this[_0x26899b(0x625)](_0x351866?.[_0x26899b(0x127)]),_0x51bbce=(await this[_0x26899b(0x435)](_0x1efba2,null,!0x1))['cachedContact']['name'],_0x208140=await this[_0x26899b(0x1b7)][_0x26899b(0x550)]['findOne']({'where':{'_id':_0x1efba2}},this[_0x26899b(0x582)][_0x26899b(0x777)]),_0x3661cf={'imagechat':_0x274d8e,'contactname':_0x1a2b1d||null,'pushName':_0x51bbce,'status':_0xd0acec?.[_0x26899b(0x193)],'isBusiness':_0x3ffd78[_0x26899b(0x780)],'email':_0x3ffd78?.[_0x26899b(0x2b8)],'description':_0x3ffd78?.[_0x26899b(0x6c6)],'website':_0x3ffd78?.[_0x26899b(0x816)]?.[_0x26899b(0x4c0)](),'lastcache':Date['now'](),'imported':!_0x208140},_0x27863c=await this[_0x26899b(0x1b7)]['chat'][_0x26899b(0x4ec)]({'where':{'_id':_0x1efba2}},_0x3661cf,this[_0x26899b(0x582)]['wuid']),_0x41d2dd={'owner':this[_0x26899b(0x582)][_0x26899b(0x777)],'_id':_0x1efba2,'profilePictureUrl':_0x274d8e,'status':_0xd0acec?.['status']};return this[_0x26899b(0x1b7)]['contact'][_0x26899b(0x3d0)]([_0x41d2dd],this[_0x26899b(0x582)]['wuid']),_0x27863c&&U(this['instanceName'],_0x26899b(0x35d),{'chat':_0x27863c}),{'wuid':_0x351866?.[_0x26899b(0x127)]||_0x1efba2,'name':_0x351866?.[_0x26899b(0x79c)],'pushName':_0x51bbce,'numberExists':_0x351866?.[_0x26899b(0x68d)],'picture':_0x274d8e,'status':_0xd0acec?.[_0x26899b(0x193)],'isBusiness':_0x3ffd78[_0x26899b(0x780)],'email':_0x3ffd78?.['email'],'description':_0x3ffd78?.[_0x26899b(0x6c6)],'website':_0x3ffd78?.[_0x26899b(0x816)]?.[_0x26899b(0x4c0)]()};}catch(_0x398dad){return this[_0x26899b(0x42c)][_0x26899b(0x370)](_0x26899b(0x5d5)+(_0x398dad instanceof Error?_0x398dad[_0x26899b(0x641)]:JSON[_0x26899b(0x751)](_0x398dad,null,0x2))),{};}}async[a0_0x36f96e(0x625)](_0x50fbb9){const _0x2fdeb4=a0_0x36f96e;this['logger'][_0x2fdeb4(0x3a8)](_0x2fdeb4(0x783));try{let _0x4fc246=_0x50fbb9?this['createJid'](_0x50fbb9):this[_0x2fdeb4(0x582)][_0x2fdeb4(0x777)],_0x164e19=await this['client'][_0x2fdeb4(0x41b)](_0x4fc246);return this[_0x2fdeb4(0x42c)][_0x2fdeb4(0x3a8)](_0x2fdeb4(0x474)),_0x164e19?(this['logger'][_0x2fdeb4(0x3a8)](_0x2fdeb4(0x4fe)),{'isBusiness':!0x0,..._0x164e19}):{'isBusiness':!0x1,'message':_0x2fdeb4(0x71f),...(await this[_0x2fdeb4(0x4a1)]({'numbers':[_0x4fc246]}))?.['shift']()};}catch(_0x5321ea){let _0x1ce19e=_0x2fdeb4(0x479),_0x461c4f=_0x5321ea instanceof Error?_0x5321ea[_0x2fdeb4(0x641)]:typeof _0x5321ea==_0x2fdeb4(0x3b0)?JSON[_0x2fdeb4(0x751)](_0x5321ea):_0x5321ea,_0x43e716=_0x1ce19e+':\x20'+_0x461c4f;throw this[_0x2fdeb4(0x42c)]['error'](this['instanceName']+'\x20('+this[_0x2fdeb4(0x582)]['wuid']+'):\x20'+_0x43e716),new x(_0x43e716);}}async[a0_0x36f96e(0x4bc)](_0x4726ec){const _0x5c26f8=a0_0x36f96e;let _0x4a5add=this[_0x5c26f8(0x3b6)](_0x4726ec);try{return{'wuid':_0x4a5add,'status':(await this['client'][_0x5c26f8(0x22d)](_0x4a5add))?.[_0x5c26f8(0x193)]};}catch{return{'wuid':_0x4a5add,'status':null};}}async[a0_0x36f96e(0x7df)](_0x18bc3f){const _0x3b800a=a0_0x36f96e;try{return await this[_0x3b800a(0x3a9)][_0x3b800a(0x7df)](_0x18bc3f),{'update':_0x3b800a(0x658)};}catch(_0x5ded7f){let _0x2f7e70=_0x3b800a(0x2e3),_0xfd1b97=_0x5ded7f instanceof Error?_0x5ded7f[_0x3b800a(0x641)]:typeof _0x5ded7f==_0x3b800a(0x3b0)?JSON[_0x3b800a(0x751)](_0x5ded7f):_0x5ded7f,_0x40bb31=_0x2f7e70+':\x20'+_0xfd1b97;throw this[_0x3b800a(0x42c)]['error'](this['instanceName']+'\x20('+this[_0x3b800a(0x582)][_0x3b800a(0x777)]+_0x3b800a(0x325)+_0x40bb31),new x(_0x40bb31);}}async[a0_0x36f96e(0x2c5)](_0xcced77){const _0x2ac1ee=a0_0x36f96e;try{return await this[_0x2ac1ee(0x3a9)][_0x2ac1ee(0x2c5)](_0xcced77),{'update':_0x2ac1ee(0x658)};}catch(_0x45563a){let _0x3a24e4=_0x2ac1ee(0x19a),_0x4fc74e=_0x45563a instanceof Error?_0x45563a[_0x2ac1ee(0x641)]:typeof _0x45563a==_0x2ac1ee(0x3b0)?JSON['stringify'](_0x45563a):_0x45563a,_0x4fddd6=_0x3a24e4+':\x20'+_0x4fc74e;throw this[_0x2ac1ee(0x42c)][_0x2ac1ee(0x370)](this[_0x2ac1ee(0x7b7)]+'\x20('+this[_0x2ac1ee(0x582)][_0x2ac1ee(0x777)]+'):\x20'+_0x4fddd6),new x(_0x4fddd6);}}async['updateProfilePicture'](_0x400575){const _0x161250=a0_0x36f96e;try{let _0x30ad9a;if((0x0,k[_0x161250(0x15d)])(_0x400575)){let _0xb7cde3=new Date()[_0x161250(0x4b5)](),_0x1257c5=_0x400575+_0x161250(0x1c6)+_0xb7cde3;_0x30ad9a=(await Q[_0x161250(0x3dd)][_0x161250(0x5aa)](_0x1257c5,{'responseType':'arraybuffer'}))[_0x161250(0x7af)];}else{if((0x0,k[_0x161250(0x4dd)])(_0x400575))_0x30ad9a=Buffer[_0x161250(0x6b9)](_0x400575,_0x161250(0x5f6));else throw new m(_0x161250(0x55e));}return await this[_0x161250(0x3a9)][_0x161250(0x14d)](this[_0x161250(0x582)][_0x161250(0x777)],_0x30ad9a),{'update':_0x161250(0x658)};}catch(_0x1b59ed){let _0x516dcb=_0x161250(0x282),_0x4c1690=_0x1b59ed instanceof Error?_0x1b59ed['message']:typeof _0x1b59ed==_0x161250(0x3b0)?JSON[_0x161250(0x751)](_0x1b59ed):_0x1b59ed,_0x5498bf=_0x516dcb+':\x20'+_0x4c1690;throw this[_0x161250(0x42c)][_0x161250(0x370)](this[_0x161250(0x7b7)]+'\x20('+this[_0x161250(0x582)][_0x161250(0x777)]+'):\x20'+_0x5498bf),new x(_0x5498bf);}}async[a0_0x36f96e(0x797)](){const _0x39360c=a0_0x36f96e;try{return await this[_0x39360c(0x3a9)][_0x39360c(0x797)](this['instance'][_0x39360c(0x777)]),{'update':_0x39360c(0x658)};}catch(_0xf62a2e){let _0x576a06=_0x39360c(0x48f),_0x2c0a08=_0xf62a2e instanceof Error?_0xf62a2e[_0x39360c(0x641)]:typeof _0xf62a2e=='object'?JSON[_0x39360c(0x751)](_0xf62a2e):_0xf62a2e,_0x4a7051=_0x576a06+':\x20'+_0x2c0a08;throw this['logger'][_0x39360c(0x370)](this['instanceName']+'\x20('+this[_0x39360c(0x582)][_0x39360c(0x777)]+_0x39360c(0x325)+_0x4a7051),new x(_0x4a7051);}}async[a0_0x36f96e(0x7bf)](_0xd242af){const _0x12a825=a0_0x36f96e;try{let _0x23e9a4=(await this[_0x12a825(0x4a1)]({'numbers':_0xd242af[_0x12a825(0x2d9)]}))[_0x12a825(0x713)](_0x400c61=>_0x400c61['exists'])['map'](_0x4755e1=>_0x4755e1['jid']),{id:_0x3006e3}=await this[_0x12a825(0x3a9)]['groupCreate'](_0xd242af[_0x12a825(0x6c7)],_0x23e9a4);_0xd242af?.[_0x12a825(0x6c6)]&&await this['client'][_0x12a825(0x785)](_0x3006e3,_0xd242af[_0x12a825(0x6c6)]);let _0x16e508=await this[_0x12a825(0x3a9)]['groupMetadata'](_0x3006e3);return _0x16e508[_0x12a825(0x103)]=[],{'metadata':_0x16e508};}catch(_0x40ecb5){let _0x4e0b3c=_0x12a825(0x7a0),_0x47595c=_0x40ecb5 instanceof Error?_0x40ecb5['message']:typeof _0x40ecb5=='object'?JSON[_0x12a825(0x751)](_0x40ecb5):_0x40ecb5,_0x4a5b2c=_0x4e0b3c+':\x20'+_0x47595c;throw this[_0x12a825(0x42c)][_0x12a825(0x370)](this[_0x12a825(0x7b7)]+'\x20('+this[_0x12a825(0x582)][_0x12a825(0x777)]+_0x12a825(0x325)+_0x4a5b2c),new x(_0x4a5b2c);}}async[a0_0x36f96e(0x3e0)](_0x189949){const _0x377f43=a0_0x36f96e;try{if(_0x189949[_0x377f43(0x61c)]===!0x0&&await this['client']['groupSettingUpdate'](_0x189949['groupJid'],_0x377f43(0x6ba)),_0x189949[_0x377f43(0x61c)]===!0x1&&await this[_0x377f43(0x3a9)][_0x377f43(0x79e)](_0x189949[_0x377f43(0x214)],_0x377f43(0x263)),_0x189949['announce']===!0x0&&await this[_0x377f43(0x3a9)][_0x377f43(0x79e)](_0x189949[_0x377f43(0x214)],'announcement'),_0x189949[_0x377f43(0x6f8)]===!0x1&&await this[_0x377f43(0x3a9)][_0x377f43(0x79e)](_0x189949[_0x377f43(0x214)],_0x377f43(0x5c7)),_0x189949['memberAddMode']===!0x0&&await this[_0x377f43(0x3a9)][_0x377f43(0x594)](_0x189949['groupJid'],_0x377f43(0x2ea)),_0x189949[_0x377f43(0x522)]===!0x1&&await this[_0x377f43(0x3a9)]['groupMemberAddMode'](_0x189949[_0x377f43(0x214)],_0x377f43(0x43e)),_0x189949[_0x377f43(0x2f7)]===!0x0&&await this[_0x377f43(0x3a9)][_0x377f43(0x747)](_0x189949[_0x377f43(0x214)],'on'),_0x189949[_0x377f43(0x2f7)]===!0x1&&await this[_0x377f43(0x3a9)][_0x377f43(0x747)](_0x189949[_0x377f43(0x214)],_0x377f43(0x446)),typeof _0x189949['expiration']<'u'&&_0x189949[_0x377f43(0x189)]!==null&&await this[_0x377f43(0x3a9)][_0x377f43(0x4b4)](_0x189949['groupJid'],_0x189949[_0x377f43(0x189)]),_0x189949[_0x377f43(0x79c)]&&await this[_0x377f43(0x3a9)][_0x377f43(0x428)](_0x189949[_0x377f43(0x214)],_0x189949[_0x377f43(0x79c)]),_0x189949[_0x377f43(0x6c6)]&&await this[_0x377f43(0x3a9)][_0x377f43(0x785)](_0x189949[_0x377f43(0x214)],_0x189949['description']),_0x189949[_0x377f43(0x4fb)]){let _0x36dba7;if((0x0,k[_0x377f43(0x15d)])(_0x189949[_0x377f43(0x4fb)])){let _0x1eeb6a=new Date()[_0x377f43(0x4b5)](),_0x2592a4=_0x189949[_0x377f43(0x4fb)]+_0x377f43(0x1c6)+_0x1eeb6a;_0x36dba7=(await Q['default'][_0x377f43(0x5aa)](_0x2592a4,{'responseType':_0x377f43(0x7cb)}))[_0x377f43(0x7af)];}else{if((0x0,k[_0x377f43(0x4dd)])(_0x189949[_0x377f43(0x4fb)]))_0x36dba7=Buffer[_0x377f43(0x6b9)](_0x189949[_0x377f43(0x4fb)],_0x377f43(0x5f6));else throw new m(_0x377f43(0x55e));}await this[_0x377f43(0x3a9)][_0x377f43(0x14d)](_0x189949[_0x377f43(0x214)],_0x36dba7);}return await this['findGroup']({'groupJid':_0x189949[_0x377f43(0x214)]});}catch(_0x273b33){let _0x3f2128='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x30514c=_0x273b33 instanceof Error?_0x273b33[_0x377f43(0x641)]:typeof _0x273b33==_0x377f43(0x3b0)?JSON[_0x377f43(0x751)](_0x273b33):_0x273b33,_0x480bcc=_0x3f2128+':\x20'+_0x30514c;throw this[_0x377f43(0x42c)]['error'](this['instanceName']+'\x20('+this[_0x377f43(0x582)][_0x377f43(0x777)]+'):\x20'+_0x480bcc),new x(_0x480bcc);}}async[a0_0x36f96e(0x763)](_0x255012){const _0x541523=a0_0x36f96e;try{if(_0x255012[_0x541523(0x343)]==='approve'||_0x255012[_0x541523(0x343)]===_0x541523(0x7eb)){let _0x4d0acb=_0x255012[_0x541523(0x2d9)][_0x541523(0x25f)](_0x1a408a=>this[_0x541523(0x3b6)](_0x1a408a));await this[_0x541523(0x3a9)][_0x541523(0x615)](_0x255012['groupJid'],_0x4d0acb,_0x255012[_0x541523(0x343)]);}else{if(_0x255012[_0x541523(0x343)]===_0x541523(0x35f)){let _0xd9861e=(await this[_0x541523(0x4a1)]({'numbers':_0x255012[_0x541523(0x2d9)]}))[_0x541523(0x713)](_0x5291a3=>_0x5291a3[_0x541523(0x68d)])[_0x541523(0x25f)](_0x56ab57=>this[_0x541523(0x3b6)](_0x56ab57[_0x541523(0x127)]));if(_0xd9861e[_0x541523(0x5ed)]===0x0)throw new m(_0x541523(0x490));await this[_0x541523(0x3a9)]['groupParticipantsUpdate'](_0x255012['groupJid'],_0xd9861e,_0x541523(0x35f));}else{let _0x238257=_0x255012[_0x541523(0x2d9)]['map'](_0x422e73=>this[_0x541523(0x3b6)](_0x422e73));await this[_0x541523(0x3a9)]['groupParticipantsUpdate'](_0x255012[_0x541523(0x214)],_0x238257,_0x255012[_0x541523(0x343)]);}}return await this[_0x541523(0x6b3)]({'groupJid':_0x255012[_0x541523(0x214)]});}catch(_0x23b47e){let _0x9d55c5=_0x541523(0x6a6),_0x54332b=_0x23b47e instanceof Error?_0x23b47e[_0x541523(0x641)]:typeof _0x23b47e==_0x541523(0x3b0)?JSON[_0x541523(0x751)](_0x23b47e):_0x23b47e,_0x49faf5=_0x9d55c5+':\x20'+_0x54332b;throw this['logger'][_0x541523(0x370)](this['instanceName']+'\x20('+this[_0x541523(0x582)]['wuid']+_0x541523(0x325)+_0x49faf5),new m(_0x49faf5);}}async[a0_0x36f96e(0x34b)](_0x2277d8){const _0x3d7df1=a0_0x36f96e;try{return await this[_0x3d7df1(0x3a9)][_0x3d7df1(0x34b)](_0x2277d8[_0x3d7df1(0x7cc)]);}catch(_0x699c30){let _0x20626d=_0x3d7df1(0x248),_0x42a880=_0x699c30 instanceof Error?_0x699c30[_0x3d7df1(0x641)]:typeof _0x699c30==_0x3d7df1(0x3b0)?JSON[_0x3d7df1(0x751)](_0x699c30):_0x699c30,_0xc8ec7=_0x20626d+':\x20'+_0x42a880;throw this['logger'][_0x3d7df1(0x370)](this['instanceName']+'\x20('+this[_0x3d7df1(0x582)]['wuid']+_0x3d7df1(0x325)+_0xc8ec7),new m(_0xc8ec7);}}async['findGroup'](_0x54ca7c,_0x301819=a0_0x36f96e(0x34f)){const _0x254044=a0_0x36f96e;try{let _0x2084d7=await this['repository']['chat']['findOne']({'where':{'_id':_0x54ca7c[_0x254044(0x214)]}},this[_0x254044(0x582)][_0x254044(0x777)]),_0x12675b=_0x2084d7?_0x2084d7[_0x254044(0x513)]:null,_0x3cc890=0x18*0x3c*0x3c*0x3e8;if(!_0x12675b||_0x12675b['lastUpdate']&&Date['now']()-_0x12675b[_0x254044(0x813)]>_0x3cc890){let _0x3f8867=await this['client'][_0x254044(0x483)](_0x54ca7c[_0x254044(0x214)]);if(_0x3f8867['subjectTime']=_0x3f8867?.['subjectTime']&&_0x3f8867[_0x254044(0x30e)][_0x254044(0x2ee)]()[_0x254044(0x5ed)]<0xd?_0x3f8867?.[_0x254044(0x30e)]*0x3e8:_0x3f8867?.[_0x254044(0x30e)]||null,_0x3f8867[_0x254044(0x110)]=_0x3f8867?.['creation']&&_0x3f8867[_0x254044(0x110)]['toString']()[_0x254044(0x5ed)]<0xd?_0x3f8867?.[_0x254044(0x110)]*0x3e8:_0x3f8867?.['creation']||null,_0x12675b={..._0x3f8867,'lastUpdate':Date[_0x254044(0x31b)]()},!_0x3f8867)return;}let _0x21e2cb=_0x12675b['participants'][_0x254044(0x628)](_0x46532d=>_0x46532d['id']===this[_0x254044(0x582)][_0x254044(0x777)]+'@s.whatsapp.net'&&_0x46532d[_0x254044(0x2b9)]!=null);!_0x12675b[_0x254044(0x7cc)]&&_0x21e2cb&&(_0x12675b[_0x254044(0x7cc)]=(await this[_0x254044(0x7cc)](_0x54ca7c,!0x1))['inviteUrl']);let _0x2b743f=(!_0x12675b[_0x254044(0x6f8)]||_0x21e2cb)&&(!_0x12675b['isCommunity']||_0x12675b[_0x254044(0x69b)]&&_0x12675b[_0x254044(0x795)]&&_0x21e2cb);_0x12675b[_0x254044(0x732)]=_0x21e2cb,_0x12675b[_0x254044(0x79b)]=_0x2b743f;let _0x319ced=[];if(_0x21e2cb&&_0x12675b[_0x254044(0x2f7)])try{_0x319ced=await this[_0x254044(0x3a9)][_0x254044(0x270)](_0x54ca7c[_0x254044(0x214)]),_0x12675b[_0x254044(0x7fb)]=Date[_0x254044(0x31b)]();}catch(_0x4a00f0){this[_0x254044(0x42c)][_0x254044(0x3a8)](this['instanceName']+'\x20('+this['instance'][_0x254044(0x777)]+_0x254044(0x3c1)+_0x54ca7c[_0x254044(0x214)]+':\x20'+(_0x4a00f0 instanceof Error?_0x4a00f0[_0x254044(0x641)]:JSON[_0x254044(0x751)](_0x4a00f0,null,0x2)));}try{_0x12675b[_0x254044(0x4fb)]=(await this[_0x254044(0x435)](_0x54ca7c[_0x254044(0x214)],null,!0x0))[_0x254044(0x2dc)][_0x254044(0x33a)];}catch(_0x4fa50d){this[_0x254044(0x42c)]['verbose'](this[_0x254044(0x7b7)]+'\x20('+this['instance'][_0x254044(0x777)]+_0x254044(0x663)+_0x54ca7c[_0x254044(0x214)]+':\x20'+(_0x4fa50d instanceof Error?_0x4fa50d[_0x254044(0x641)]:JSON[_0x254044(0x751)](_0x4fa50d,null,0x2)));}let _0x125f38=_0x12675b[_0x254044(0x2d9)][_0x254044(0x25f)](_0x718b5=>_0x718b5['id']),_0x928be8=_0x319ced['map'](_0x202670=>_0x202670[_0x254044(0x127)]),_0xf20d3f=await this[_0x254044(0x1b7)][_0x254044(0x171)][_0x254044(0x6f4)]([..._0x125f38,..._0x928be8]);_0x12675b[_0x254044(0x2d9)]=_0x12675b['participants']['map'](_0x284a15=>{const _0xc8a4b5=_0x254044;let _0xbdceaa=_0xf20d3f['find'](_0x228796=>_0x228796['_id']===_0x284a15['id']);return{'id':_0x284a15['id'],'isAdmin':['admin','superadmin'][_0xc8a4b5(0x4ba)](_0x284a15[_0xc8a4b5(0x2b9)]),'admin':_0x284a15[_0xc8a4b5(0x2b9)],'pushName':_0xbdceaa?.['name'],'profilePictureUrl':_0xbdceaa?.[_0xc8a4b5(0x33a)]};}),_0x12675b[_0x254044(0x103)]=_0x319ced[_0x254044(0x25f)](_0x514bb3=>{const _0x303b2c=_0x254044;let _0x2197d7=_0xf20d3f['find'](_0x39ba58=>_0x39ba58[_0x303b2c(0x183)]===_0x514bb3[_0x303b2c(0x127)]);return{'id':_0x514bb3['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x2197d7?.['name'],'profilePictureUrl':_0x2197d7?.[_0x303b2c(0x33a)],'request_method':_0x514bb3[_0x303b2c(0x2d3)],'request_time':_0x514bb3[_0x303b2c(0x4de)]};});let _0x1bffec=await this[_0x254044(0x1b7)][_0x254044(0x550)]['updateOne']({'where':{'_id':_0x54ca7c[_0x254044(0x214)]}},{'imagechat':_0x12675b[_0x254044(0x4fb)],'name':_0x12675b['subject'],'lastcache':Date[_0x254044(0x31b)](),'groupdata':_0x12675b},this['instance'][_0x254044(0x777)]);return U(this[_0x254044(0x7b7)],_0x254044(0x35d),{'chat':_0x1bffec}),{'metadata':_0x12675b};}catch(_0x3b10c4){if(_0x301819===_0x254044(0x2b0))return;throw new q('Error\x20fetching\x20group',_0x3b10c4[_0x254044(0x641)][_0x254044(0x2ee)]());}}async[a0_0x36f96e(0x1fb)](){const _0x358653=a0_0x36f96e;try{let _0x320e1c=[],_0x1749a3=await this[_0x358653(0x3a9)][_0x358653(0x137)](),_0x288d14=Object['values'](_0x1749a3),_0x22160d=_0x288d14[_0x358653(0x713)](_0x357af0=>(0x0,f['isJidGroup'])(_0x357af0?.['id']))[_0x358653(0x25f)](async _0x50a7df=>{const _0x3aaaf0=_0x358653;try{return await this[_0x3aaaf0(0x3a9)]['profilePictureUrl'](_0x50a7df['id'],'preview');}catch(_0x2d7437){return this[_0x3aaaf0(0x42c)][_0x3aaaf0(0x3a8)](this['instanceName']+'\x20('+this['instance'][_0x3aaaf0(0x777)]+_0x3aaaf0(0x663)+_0x50a7df['id']+':\x20'+(_0x2d7437 instanceof Error?_0x2d7437['message']:JSON[_0x3aaaf0(0x751)](_0x2d7437,null,0x2))),null;}}),_0x2753cf=await Promise[_0x358653(0x471)](_0x22160d);for(let _0x1cf2e7=0x0;_0x1cf2e7<_0x288d14[_0x358653(0x5ed)];_0x1cf2e7++){let _0x9abf23=_0x288d14[_0x1cf2e7];(0x0,f[_0x358653(0x5a3)])(_0x9abf23?.['id'])&&(_0x320e1c[_0x358653(0x334)]({'groupJid':_0x9abf23?.['id'],'subject':_0x9abf23?.['subject'],'subjectOwner':_0x9abf23?.[_0x358653(0x29e)]?.[_0x358653(0x71a)]('@')[0x0],'subjectTime':_0x9abf23?.['subjectTime'],'creation':_0x9abf23?.[_0x358653(0x110)],'size':_0x9abf23?.['participants']?.[_0x358653(0x5ed)],'owner':_0x9abf23?.[_0x358653(0x6ab)]?.[_0x358653(0x71a)]('@')[0x0],'desc':_0x9abf23?.[_0x358653(0x29f)],'restrict':_0x9abf23?.[_0x358653(0x61c)],'announce':_0x9abf23?.[_0x358653(0x6f8)],'image':_0x2753cf[_0x1cf2e7],'isCommunity':_0x9abf23?.['isCommunity'],'joinApprovalMode':_0x9abf23?.[_0x358653(0x2f7)],'memberCanAddParticipant':_0x9abf23?.['memberAddMode'],'participants':_0x9abf23?.[_0x358653(0x2d9)],'descOwner':_0x9abf23?.['descOwner'],'descId':_0x9abf23?.['descId'],'memberAddMode':_0x9abf23?.[_0x358653(0x522)],'isCommunityAnnounce':_0x9abf23?.[_0x358653(0x795)],'ephemeralDuration':_0x9abf23?.[_0x358653(0x617)]||0x0,'author':_0x9abf23?.['author']}),this[_0x358653(0x741)](_0x288d14[_0x1cf2e7]));}return _0x320e1c;}catch(_0x5e5608){let _0x28b0cd=_0x358653(0x1a3),_0x4afe62=_0x5e5608 instanceof Error?_0x5e5608[_0x358653(0x641)]:typeof _0x5e5608==_0x358653(0x3b0)?JSON[_0x358653(0x751)](_0x5e5608):_0x5e5608,_0x2cde4b=_0x28b0cd+':\x20'+_0x4afe62;throw this[_0x358653(0x42c)]['error'](this[_0x358653(0x7b7)]+'\x20('+this[_0x358653(0x582)][_0x358653(0x777)]+_0x358653(0x325)+_0x2cde4b),new q(_0x2cde4b);}}async[a0_0x36f96e(0x741)](_0x3bdd8e){const _0x35b7de=a0_0x36f96e;let _0x3da4d6=await this['repository'][_0x35b7de(0x550)]['findOne']({'where':{'_id':_0x3bdd8e['id']}},this[_0x35b7de(0x582)]['wuid']);_0x3bdd8e['subjectTime']=_0x3bdd8e?.[_0x35b7de(0x30e)]&&_0x3bdd8e[_0x35b7de(0x30e)][_0x35b7de(0x2ee)]()[_0x35b7de(0x5ed)]<0xd?_0x3bdd8e?.[_0x35b7de(0x30e)]*0x3e8:_0x3bdd8e?.['subjectTime']||null,_0x3bdd8e[_0x35b7de(0x110)]=_0x3bdd8e?.['creation']&&_0x3bdd8e[_0x35b7de(0x110)]['toString']()['length']<0xd?_0x3bdd8e?.[_0x35b7de(0x110)]*0x3e8:_0x3bdd8e?.[_0x35b7de(0x110)]||null;let _0x29046f=_0x3da4d6?.[_0x35b7de(0x513)]?.[_0x35b7de(0x103)]||[],_0x4f852e=_0x3da4d6?.[_0x35b7de(0x513)]?.[_0x35b7de(0x7fb)],_0x57779a=_0x3bdd8e[_0x35b7de(0x2d9)][_0x35b7de(0x25f)](_0x15d8fb=>{const _0x2eae9a=_0x35b7de;let _0x5ea7c6=_0x3da4d6?.[_0x2eae9a(0x513)]?.[_0x2eae9a(0x2d9)][_0x2eae9a(0x6a2)](_0x12d950=>_0x12d950['id']===_0x15d8fb['id']);return{..._0x15d8fb,'isAdmin':[_0x2eae9a(0x2b9),'superadmin'][_0x2eae9a(0x4ba)](_0x15d8fb[_0x2eae9a(0x2b9)]),'admin':_0x15d8fb['admin'],'name':_0x5ea7c6?.[_0x2eae9a(0x79c)]||_0x15d8fb[_0x2eae9a(0x79c)],'imgUrl':_0x5ea7c6?.[_0x2eae9a(0x51d)]||_0x15d8fb['imgUrl']};}),_0x4fdd73=_0x57779a[_0x35b7de(0x628)](_0x123b90=>_0x123b90['id']===this[_0x35b7de(0x582)][_0x35b7de(0x777)]+'@s.whatsapp.net'&&_0x123b90['isAdmin']),_0x278362=(!_0x3bdd8e[_0x35b7de(0x6f8)]||_0x4fdd73)&&(!_0x3bdd8e['isCommunity']||_0x3bdd8e[_0x35b7de(0x69b)]&&_0x3bdd8e[_0x35b7de(0x795)]&&_0x4fdd73),_0x21c065={..._0x3bdd8e,'participants':_0x57779a,'awaitingApproval':_0x29046f,'lastFetchAwaitingApproval':_0x4f852e,'isAdmin':_0x4fdd73,'canSendMessage':_0x278362,'lastUpdate':Date['now']()};await this['repository'][_0x35b7de(0x550)][_0x35b7de(0x4ec)]({'where':{'_id':_0x3bdd8e['id']}},{'name':_0x3bdd8e[_0x35b7de(0x6c7)],'group':!0x0,'groupdata':_0x21c065,'lastcache':Date['now']()},this[_0x35b7de(0x582)][_0x35b7de(0x777)]),U(this['instanceName'],'chats',{'chat':_0x3bdd8e});}async[a0_0x36f96e(0x46a)](_0x31df15){const _0x120055=a0_0x36f96e;let _0x38eb00=await this[_0x120055(0x1b7)][_0x120055(0x550)][_0x120055(0x49a)]({'where':{'_id':_0x31df15['id']}},this[_0x120055(0x582)]['wuid']);_0x31df15[_0x120055(0x30e)]=_0x31df15?.[_0x120055(0x30e)]&&_0x31df15[_0x120055(0x30e)][_0x120055(0x2ee)]()[_0x120055(0x5ed)]<0xd?_0x31df15?.['subjectTime']*0x3e8:_0x31df15?.[_0x120055(0x30e)]||null,_0x31df15[_0x120055(0x110)]=_0x31df15?.[_0x120055(0x110)]&&_0x31df15['creation'][_0x120055(0x2ee)]()[_0x120055(0x5ed)]<0xd?_0x31df15?.[_0x120055(0x110)]*0x3e8:_0x31df15?.['creation']||null,_0x31df15['inviteCode']&&(_0x31df15[_0x120055(0x7cc)]=_0x120055(0x21d)+_0x31df15[_0x120055(0x7cc)]);let _0x56b20d=_0x38eb00?.[_0x120055(0x513)]?{..._0x38eb00[_0x120055(0x513)]}:{};Object[_0x120055(0x179)](_0x31df15)[_0x120055(0x1f3)](_0x247cc8=>{_0x247cc8!=='id'&&(_0x56b20d[_0x247cc8]=_0x31df15[_0x247cc8]);});let _0x1962e9=_0x56b20d[_0x120055(0x2d9)]?.[_0x120055(0x628)](_0xece90d=>_0xece90d['id']===this[_0x120055(0x582)][_0x120055(0x777)]+_0x120055(0x54d)&&_0xece90d[_0x120055(0x732)])||!0x1;_0x56b20d[_0x120055(0x732)]=_0x1962e9;let _0x5b11f6=(!_0x56b20d['announce']||_0x1962e9)&&(!_0x56b20d[_0x120055(0x69b)]||_0x56b20d[_0x120055(0x69b)]&&_0x56b20d[_0x120055(0x795)]&&_0x1962e9);_0x56b20d[_0x120055(0x79b)]=_0x5b11f6;let _0x491caf={'group':!0x0,'groupdata':_0x56b20d};_0x31df15[_0x120055(0x6c7)]&&(_0x491caf[_0x120055(0x79c)]=_0x31df15['subject']),await this[_0x120055(0x1b7)][_0x120055(0x550)][_0x120055(0x4ec)]({'where':{'_id':_0x31df15['id']}},_0x491caf,this['instance'][_0x120055(0x777)],{'upsert':!0x0}),U(this['instanceName'],_0x120055(0x35d),{'chat':_0x491caf});}async[a0_0x36f96e(0x599)](_0xfcd7ba){const _0x3af265=a0_0x36f96e;let _0xf17701=await this[_0x3af265(0x1b7)][_0x3af265(0x550)]['findOne']({'where':{'_id':_0xfcd7ba['id']}},this[_0x3af265(0x582)]['wuid']);if(!_0xf17701||!_0xf17701[_0x3af265(0x513)]){this[_0x3af265(0x42c)]['info'](this[_0x3af265(0x7b7)]+'\x20('+this[_0x3af265(0x582)][_0x3af265(0x777)]+_0x3af265(0x546)+_0xfcd7ba['id']);return;}let _0x4b63d2=await this[_0x3af265(0x1b7)]['cacheContact'][_0x3af265(0x6f4)](_0xfcd7ba[_0x3af265(0x2d9)]),_0x54f9bc=[..._0xf17701[_0x3af265(0x513)]?.[_0x3af265(0x2d9)]];switch(_0xfcd7ba[_0x3af265(0x343)]){case _0x3af265(0x35f):let _0x2f1e9c=_0x4b63d2[_0x3af265(0x25f)](_0x1f0f62=>({'id':_0x1f0f62[_0x3af265(0x183)],'isAdmin':!0x1,'name':_0x1f0f62[_0x3af265(0x79c)],'imgUrl':_0x1f0f62['pictureUrl']}));_0x54f9bc=[..._0x54f9bc,..._0x2f1e9c];break;case _0x3af265(0x1cd):_0x54f9bc=_0x54f9bc[_0x3af265(0x713)](_0x102681=>!_0xfcd7ba[_0x3af265(0x2d9)][_0x3af265(0x4ba)](_0x102681['id']));break;case _0x3af265(0x623):case _0x3af265(0x721):_0x54f9bc=_0x54f9bc[_0x3af265(0x25f)](_0x300b69=>_0xfcd7ba[_0x3af265(0x2d9)][_0x3af265(0x4ba)](_0x300b69['id'])?{..._0x300b69,'isAdmin':_0xfcd7ba[_0x3af265(0x343)]===_0x3af265(0x623)}:_0x300b69);break;}let _0x60c45a=_0x54f9bc[_0x3af265(0x5ed)],_0x2baf5b=_0x54f9bc[_0x3af265(0x628)](_0x3365f2=>_0x3365f2['id']===this[_0x3af265(0x582)][_0x3af265(0x777)]+_0x3af265(0x54d)),_0x188bf1=_0x2baf5b&&_0x54f9bc[_0x3af265(0x628)](_0x22accb=>_0x22accb['id']===this['instance'][_0x3af265(0x777)]+_0x3af265(0x54d)&&_0x22accb[_0x3af265(0x732)]),_0x1d3d71=_0x2baf5b&&(!_0xf17701['groupdata'][_0x3af265(0x6f8)]||_0x188bf1)&&(!_0xf17701[_0x3af265(0x513)][_0x3af265(0x69b)]||_0xf17701[_0x3af265(0x513)]['isCommunity']&&_0x188bf1);await this[_0x3af265(0x1b7)][_0x3af265(0x550)][_0x3af265(0x4ec)]({'where':{'_id':_0xfcd7ba['id']}},{'groupdata':{..._0xf17701['groupdata'],'participants':_0x54f9bc,'size':_0x60c45a,'isAdmin':_0x188bf1,'canSendMessage':_0x1d3d71}},this[_0x3af265(0x582)][_0x3af265(0x777)]),this[_0x3af265(0x42c)][_0x3af265(0x299)](this[_0x3af265(0x7b7)]+'\x20('+this[_0x3af265(0x582)][_0x3af265(0x777)]+_0x3af265(0x6cb)+_0xfcd7ba['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0xfcd7ba[_0x3af265(0x343)]+_0x3af265(0x54b)+_0x60c45a+_0x3af265(0x5f4)+_0x188bf1+_0x3af265(0x132)+_0x1d3d71);}async[a0_0x36f96e(0x7cc)](_0x5a75f0,_0x3f5c41=!0x0){const _0x25a7ed=a0_0x36f96e;try{let _0x3ba7dd=await this[_0x25a7ed(0x3a9)][_0x25a7ed(0x369)](_0x5a75f0[_0x25a7ed(0x214)]),_0x10ae0b={'groupdata.inviteCode':_0x25a7ed(0x21d)+_0x3ba7dd};if(_0x3f5c41){let _0xfdabf0=await this[_0x25a7ed(0x1b7)][_0x25a7ed(0x550)][_0x25a7ed(0x4ec)]({'where':{'_id':_0x5a75f0[_0x25a7ed(0x214)]}},_0x10ae0b,this[_0x25a7ed(0x582)]['wuid']);}return{'inviteUrl':_0x25a7ed(0x21d)+_0x3ba7dd,'inviteCode':_0x3ba7dd};}catch(_0x27b0fb){let _0xa0019b='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x24f50b=_0x27b0fb instanceof Error?_0x27b0fb['message']:typeof _0x27b0fb==_0x25a7ed(0x3b0)?JSON[_0x25a7ed(0x751)](_0x27b0fb):_0x27b0fb,_0x1832d6=_0xa0019b+':\x20'+_0x24f50b;throw this[_0x25a7ed(0x42c)]['error'](this[_0x25a7ed(0x7b7)]+'\x20('+this['instance'][_0x25a7ed(0x777)]+'):\x20'+_0x1832d6),new q(_0x1832d6);}}async[a0_0x36f96e(0x573)](_0x19b03c){const _0x100916=a0_0x36f96e;try{let _0x1cff5a=await this[_0x100916(0x3a9)]['groupRevokeInvite'](_0x19b03c['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x100916(0x21d)+_0x1cff5a,'inviteCode':_0x1cff5a};}catch(_0x46077d){let _0x3bcd66=_0x100916(0x4a2),_0x4ef81b=_0x46077d instanceof Error?_0x46077d[_0x100916(0x641)]:typeof _0x46077d==_0x100916(0x3b0)?JSON[_0x100916(0x751)](_0x46077d):_0x46077d,_0x3da678=_0x3bcd66+':\x20'+_0x4ef81b;throw this[_0x100916(0x42c)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x100916(0x325)+_0x3da678),new q(_0x3da678);}}async[a0_0x36f96e(0x2ef)](_0x342b5f){const _0x388db8=a0_0x36f96e;try{if((0x0,k[_0x388db8(0x15d)])(_0x342b5f[_0x388db8(0x7cc)]))var _0x32a37e=_0x342b5f[_0x388db8(0x7cc)][_0x388db8(0x71a)]('/')[0x3];else var _0x32a37e=_0x342b5f['inviteCode'];let _0xcfa1aa=await this[_0x388db8(0x3a9)][_0x388db8(0x1e4)](_0x32a37e);return this[_0x388db8(0x42c)][_0x388db8(0x3a8)](this['instanceName']+'\x20('+this[_0x388db8(0x582)][_0x388db8(0x777)]+_0x388db8(0x325)+_0xcfa1aa),{'join':!0x0,'inviteCode':_0x32a37e,'groupJid':_0xcfa1aa};}catch(_0x3516a8){let _0x1e050e=_0x388db8(0x37d),_0x10d8c6=_0x3516a8 instanceof Error?_0x3516a8['message']:typeof _0x3516a8==_0x388db8(0x3b0)?JSON[_0x388db8(0x751)](_0x3516a8):_0x3516a8,_0x7cc018=_0x1e050e+':\x20'+_0x10d8c6;throw this[_0x388db8(0x42c)][_0x388db8(0x370)](this[_0x388db8(0x7b7)]+'\x20('+this['instance']['wuid']+_0x388db8(0x325)+_0x7cc018),new q(_0x7cc018);}}async[a0_0x36f96e(0x5ba)](_0x544fef){const _0x35600c=a0_0x36f96e;try{return{'participants':(await this[_0x35600c(0x1b7)][_0x35600c(0x550)][_0x35600c(0x49a)]({'where':{'_id':_0x544fef['groupJid']}},this['instance'][_0x35600c(0x777)]))[_0x35600c(0x513)][_0x35600c(0x2d9)]};}catch(_0x4e7bf3){let _0x5387c0=_0x35600c(0x34d),_0x5012d5=_0x4e7bf3 instanceof Error?_0x4e7bf3[_0x35600c(0x641)]:typeof _0x4e7bf3==_0x35600c(0x3b0)?JSON[_0x35600c(0x751)](_0x4e7bf3):_0x4e7bf3,_0x2c1960=_0x5387c0+':\x20'+_0x5012d5;throw this[_0x35600c(0x42c)][_0x35600c(0x370)](this[_0x35600c(0x7b7)]+'\x20('+this[_0x35600c(0x582)][_0x35600c(0x777)]+_0x35600c(0x325)+_0x2c1960),new q(_0x2c1960);}}async['leaveGroup'](_0x2a67ae){const _0x3d3d18=a0_0x36f96e;try{return await this[_0x3d3d18(0x3a9)][_0x3d3d18(0x384)](_0x2a67ae[_0x3d3d18(0x214)]),{'groupJid':_0x2a67ae[_0x3d3d18(0x214)],'leave':!0x0};}catch(_0x21b2d2){let _0x54bdd6=_0x3d3d18(0x441),_0x100f73=_0x21b2d2 instanceof Error?_0x21b2d2[_0x3d3d18(0x641)]:typeof _0x21b2d2==_0x3d3d18(0x3b0)?JSON[_0x3d3d18(0x751)](_0x21b2d2):_0x21b2d2,_0x5ce1fa=_0x54bdd6+':\x20'+_0x100f73;throw this[_0x3d3d18(0x42c)][_0x3d3d18(0x370)](this['instanceName']+'\x20('+this[_0x3d3d18(0x582)]['wuid']+'):\x20'+_0x5ce1fa),new m(_0x5ce1fa);}}async[a0_0x36f96e(0x6b0)](_0x22bdcd){const _0x464516=a0_0x36f96e;return await this[_0x464516(0x5c5)](_0x22bdcd[_0x464516(0x3b2)],{'poll':{'name':_0x22bdcd['pollMessage']?.[_0x464516(0x79c)],'selectableCount':_0x22bdcd[_0x464516(0x6b0)][_0x464516(0x4be)],'values':_0x22bdcd[_0x464516(0x6b0)][_0x464516(0x1b5)]}},_0x22bdcd?.['options']);}async['listMessage'](_0x4ae61b){const _0x31c14b=a0_0x36f96e;return await this[_0x31c14b(0x5c5)](_0x4ae61b[_0x31c14b(0x3b2)],{'listMessage':{'title':_0x4ae61b[_0x31c14b(0x23e)][_0x31c14b(0x698)],'description':_0x4ae61b[_0x31c14b(0x23e)][_0x31c14b(0x6c6)],'buttonText':_0x4ae61b[_0x31c14b(0x23e)]?.[_0x31c14b(0x3cd)],'footerText':_0x4ae61b['listMessage']?.[_0x31c14b(0x5a5)],'sections':_0x4ae61b[_0x31c14b(0x23e)][_0x31c14b(0x5ca)],'listType':0x2}},_0x4ae61b?.[_0x31c14b(0x432)]);}async[a0_0x36f96e(0x246)](_0x4115f5){const _0x29a124=a0_0x36f96e;let _0x4f888a;if(_0x4115f5['menuMessage'][_0x29a124(0x2aa)]===_0x29a124(0x61a)){let _0xaf3e25=_0x4115f5[_0x29a124(0x246)][_0x29a124(0x562)][_0x29a124(0x4b2)]('\x0a'),_0x11a869='',_0x49d209='';_0xaf3e25!==-0x1?(_0x11a869=_0x4115f5[_0x29a124(0x246)]['text'][_0x29a124(0x401)](0x0,_0xaf3e25)[_0x29a124(0x540)](),_0x49d209=_0x4115f5[_0x29a124(0x246)]['text'][_0x29a124(0x401)](_0xaf3e25+0x1)):_0x49d209=_0x4115f5['menuMessage'][_0x29a124(0x562)];let _0x1539af=_0x4115f5[_0x29a124(0x246)][_0x29a124(0x1d8)]['filter'](_0x339b3a=>_0x339b3a['trim']()!==''),_0x230cec=this[_0x29a124(0x306)](_0x1539af);_0x4f888a={'listMessage':{'title':_0x11a869,'description':_0x49d209,'buttonText':_0x4115f5[_0x29a124(0x246)]['buttonText']||'Selecione','footerText':_0x4115f5['menuMessage'][_0x29a124(0x5a5)],'sections':_0x230cec,'listType':0x2}};}else{if(_0x4115f5[_0x29a124(0x246)]['type']==='poll'){let _0x1e3e6d=_0x4115f5['menuMessage']['choices'][_0x29a124(0x713)](_0x3cfc99=>!(_0x3cfc99[_0x29a124(0x720)]('[')&&_0x3cfc99[_0x29a124(0x65b)](']'))&&_0x3cfc99[_0x29a124(0x540)]()!=='')['map'](_0x545d75=>_0x545d75[_0x29a124(0x71a)]('\x0a')[0x0]);_0x4f888a={'poll':{'name':_0x4115f5[_0x29a124(0x246)][_0x29a124(0x562)],'selectableCount':_0x4115f5['menuMessage'][_0x29a124(0x4be)]||0x1,'values':_0x1e3e6d}};}}return await this[_0x29a124(0x5c5)](_0x4115f5[_0x29a124(0x3b2)],_0x4f888a,_0x4115f5?.['options']);}['createSectionsFromValues'](_0x428a75){const _0x352751=a0_0x36f96e;let _0x2864c7=[],_0x61501c={'rows':[]};return _0x428a75[_0x352751(0x1f3)](_0x394cd7=>{const _0x295a40=_0x352751;if(_0x394cd7[_0x295a40(0x720)]('[')&&_0x394cd7[_0x295a40(0x65b)](']'))_0x61501c[_0x295a40(0x1e7)]['length']>0x0&&_0x2864c7[_0x295a40(0x334)](_0x61501c),_0x61501c={'title':_0x394cd7[_0x295a40(0x145)](0x1,-0x1),'rows':[]};else{let _0x34cbf8=_0x394cd7[_0x295a40(0x71a)]('\x0a')[_0x295a40(0x25f)](_0x333bd1=>_0x333bd1['trim']()),_0x3fc88f=_0x34cbf8[0x0],_0x497b24=_0x34cbf8[0x1]||null,_0x5dcdf0=_0x34cbf8[0x2]||_0x3fc88f;_0x61501c['rows'][_0x295a40(0x334)]({'title':_0x3fc88f,'description':_0x497b24,'rowId':_0x5dcdf0});}}),_0x61501c[_0x352751(0x1e7)][_0x352751(0x5ed)]>0x0&&_0x2864c7[_0x352751(0x334)](_0x61501c),_0x2864c7;}async[a0_0x36f96e(0x2c9)](_0x38b66a,_0x3c95e6){const _0x5dddd1=a0_0x36f96e;if(await this[_0x5dddd1(0x3df)](_0x38b66a,!0x0)){let _0x339c14={'where':{'_id':_0x38b66a['id']}},_0xac6c5f={'status':[_0x3c95e6[_0x5dddd1(0x193)]][0x0]};try{let _0x118d4d=await this[_0x5dddd1(0x1b7)][_0x5dddd1(0x641)]['update'](_0x339c14,_0xac6c5f,this[_0x5dddd1(0x582)][_0x5dddd1(0x777)]);_0x118d4d&&U(this[_0x5dddd1(0x7b7)],_0x5dddd1(0x35c),{'message':_0x118d4d});}catch{}}}[a0_0x36f96e(0x294)](_0xa1df59){const _0x9127ef=a0_0x36f96e;let _0x19d8e2=[];return _0xa1df59['forEach'](_0x14216a=>{const _0x1b6e37=a0_0x5519;_0x14216a[_0x1b6e37(0x698)]&&_0x19d8e2['push']('['+_0x14216a[_0x1b6e37(0x698)]+']'),_0x14216a[_0x1b6e37(0x1e7)][_0x1b6e37(0x1f3)](_0x27275f=>{const _0x558eed=_0x1b6e37;_0x19d8e2['push'](_0x27275f[_0x558eed(0x698)]);});}),_0x19d8e2[_0x9127ef(0x41f)]('|');}[a0_0x36f96e(0x63e)](_0x3caac4){const _0x35b5ac=a0_0x36f96e;let _0x4fc744=_0x3caac4['replace'](/\\n/g,'\x0a')['split']('\x0a')[_0x35b5ac(0x713)](_0x4f85f9=>_0x4f85f9[_0x35b5ac(0x4ba)]('TEL')||_0x4f85f9[_0x35b5ac(0x4ba)](_0x35b5ac(0x708))),_0x2f615e='';return _0x4fc744[_0x35b5ac(0x1f3)](_0x4d038d=>{const _0x555bf5=_0x35b5ac;let _0x4af399=/TEL(?:.*):(.+)/,_0x4d8e3b=/EMAIL(?:.*):(.+)/,_0x581883=_0x4d038d[_0x555bf5(0x404)](_0x4af399),_0x1e9e47=_0x4d038d['match'](_0x4d8e3b);if(_0x581883){let _0x1bf9f8=_0x581883[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x555bf5(0x540)]();_0x2f615e+=_0x555bf5(0x634)+_0x1bf9f8+'\x0a';}else{if(_0x1e9e47){let _0x398f68=_0x1e9e47[0x1][_0x555bf5(0x540)]();_0x2f615e+=_0x555bf5(0x2bc)+_0x398f68+'\x0a';}}}),_0x2f615e[_0x35b5ac(0x540)]();}async[a0_0x36f96e(0x3ca)](_0x3e6e66,_0xb4dae4,_0x522702,_0x593649=null){const _0x1e7df4=a0_0x36f96e;if(_0x3e6e66['ENABLED'])try{let _0x337d8c=_0xb4dae4['key'][_0x1e7df4(0x71c)][_0x1e7df4(0x410)](/:\d{1,2}@/g,'@'),_0x4ce9a3=_0xb4dae4[_0x1e7df4(0x2f3)][_0x1e7df4(0x105)],_0x3fdcc2=_0x337d8c[_0x1e7df4(0x65b)](_0x1e7df4(0x3f2)),_0x66994d=_0xb4dae4[_0x1e7df4(0x4b9)]?.[_0x1e7df4(0x410)](/:\d{1,2}@/g,'@')||'',_0x1da5f8=_0xb4dae4[_0x1e7df4(0x7b6)]?.[_0x1e7df4(0x562)]||_0xb4dae4[_0x1e7df4(0x7b6)]?.[_0x1e7df4(0x5d4)]||_0xb4dae4[_0x1e7df4(0x7b6)]?.[_0x1e7df4(0x740)]||_0xb4dae4['message_normalized']?.[_0x1e7df4(0x79c)],_0x4c45a9={'_id':_0xb4dae4['_id'],'remoteJid':_0x4ce9a3?this['instance'][_0x1e7df4(0x777)]:_0x3fdcc2?_0x66994d:_0x337d8c,'pushName':_0x4ce9a3?this[_0x1e7df4(0x582)]['profileName']||'Eu':_0xb4dae4[_0x1e7df4(0x666)],'text':_0x1da5f8,'type':_0xb4dae4[_0x1e7df4(0x817)],'when':_0xb4dae4['messageTimestamp']||Date[_0x1e7df4(0x31b)]()};_0x593649||(_0x593649=await this[_0x1e7df4(0x1b7)][_0x1e7df4(0x550)][_0x1e7df4(0x49a)]({'where':{'_id':_0x337d8c}},this[_0x1e7df4(0x582)][_0x1e7df4(0x777)]));let _0x31f2dc=_0x593649?_0x4ce9a3?_0x593649[_0x1e7df4(0x5ee)]:(_0x593649['unreadcount']||0x0)+0x1:_0x4ce9a3?0x0:0x1,_0x4609d2={'lastmsg':_0xb4dae4['messageTimestamp']||Date['now'](),'ephemeralExpiration':_0xb4dae4['expiration'],'lastMessage':_0x4c45a9,'unreadcount':_0x31f2dc,..._0x4ce9a3||_0x3fdcc2?{}:{'name':_0xb4dae4[_0x1e7df4(0x666)]},..._0x3fdcc2?{'group':_0x3fdcc2}:{},...!_0x4ce9a3&&!_0x3fdcc2&&_0xb4dae4[_0x1e7df4(0x6bc)]?{'imagechat':_0xb4dae4[_0x1e7df4(0x6bc)]}:{}};if(!_0x3fdcc2&&(!_0x593649?.[_0x1e7df4(0x818)]||!_0x593649[_0x1e7df4(0x818)][_0x1e7df4(0x76e)])&&_0xb4dae4[_0x1e7df4(0x666)]&&!_0x4ce9a3&&(_0x4609d2={..._0x4609d2,'leadInfo.nome':_0xb4dae4[_0x1e7df4(0x666)]}),_0x593649?.['leadInfo'][_0x1e7df4(0x4c7)]||(_0x4609d2={..._0x4609d2,'leadInfo.etiquetas':[]}),_0x593649?.['leadInfo']['customFields']||(_0x4609d2={..._0x4609d2,'leadInfo.customFields':[]}),_0x593649?.[_0x1e7df4(0x818)][_0x1e7df4(0x10a)]||(_0x4609d2={..._0x4609d2,'leadInfo.tags':[]}),_0x593649&&_0x593649?.[_0x1e7df4(0x688)]){let _0x17c83b=await this[_0x1e7df4(0x1b7)][_0x1e7df4(0x40e)]['find']({'where':{}},this[_0x1e7df4(0x582)][_0x1e7df4(0x777)]),_0x2765d4=new Set(_0x17c83b[_0x1e7df4(0x25f)](_0x201b53=>_0x201b53[_0x1e7df4(0x183)])),_0x1e9b56=(_0x593649['leadInfo']?.[_0x1e7df4(0x4c7)]||[])[_0x1e7df4(0x713)](_0x4c63a0=>_0x2765d4[_0x1e7df4(0x122)](_0x4c63a0));_0x4609d2={..._0x4609d2,'imported':!0x1,'leadInfo.etiquetas':_0x1e9b56};for(let _0x1c39e0 of _0x1e9b56)await this[_0x1e7df4(0x160)](_0x1c39e0,_0x337d8c);}if(_0x522702===_0x1e7df4(0x3e3)&&_0x4ce9a3&&this['AutomateSystem']?.['flowConfig'][_0x1e7df4(0x6b4)]&&!_0x1da5f8[_0x1e7df4(0x720)](this[_0x1e7df4(0x169)]?.[_0x1e7df4(0x1a0)]['prefixCommand'])){let _0x55b1ab=(this[_0x1e7df4(0x169)]?.[_0x1e7df4(0x1a0)]['stopWhenYouSendMsg']||0x5)*0xea60,_0x5a58e6=Date[_0x1e7df4(0x31b)]()+_0x55b1ab;_0x593649?.['leadInfo']?.['desativadoFluxoAte']===0x0||(_0x4609d2={..._0x4609d2,'leadInfo.desativadoFluxoAte':_0x5a58e6},this[_0x1e7df4(0x42c)][_0x1e7df4(0x3a8)](this[_0x1e7df4(0x7b7)]+'\x20('+this[_0x1e7df4(0x582)]['wuid']+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x5a58e6+'.'));}if(_0x593649=await this[_0x1e7df4(0x1b7)][_0x1e7df4(0x550)][_0x1e7df4(0x4ec)]({'where':{'_id':_0x337d8c}},_0x4609d2,this[_0x1e7df4(0x582)][_0x1e7df4(0x777)],{'new':!0x0,'upsert':!0x0}),_0x593649)U(this['instanceName'],_0x1e7df4(0x35d),{'chat':_0x593649});else{this[_0x1e7df4(0x42c)][_0x1e7df4(0x370)](this['instanceName']+'\x20('+this[_0x1e7df4(0x582)]['wuid']+_0x1e7df4(0x385));return;}if(!this['AutomateSystem']?.[_0x1e7df4(0x1a0)][_0x1e7df4(0x6b4)])return this[_0x1e7df4(0x42c)][_0x1e7df4(0x3a8)](this[_0x1e7df4(0x7b7)]+'\x20('+this[_0x1e7df4(0x582)]['wuid']+_0x1e7df4(0x669)),null;if(_0x593649['_id'][_0x1e7df4(0x4ba)](_0x1e7df4(0x3f2))&&this[_0x1e7df4(0x169)]?.['flowConfig'][_0x1e7df4(0x447)]===!0x0)return this[_0x1e7df4(0x42c)][_0x1e7df4(0x3a8)](this[_0x1e7df4(0x7b7)]+'\x20('+this['instance'][_0x1e7df4(0x777)]+_0x1e7df4(0x3cf)),null;if(_0x593649[_0x1e7df4(0x818)]){if(_0x593649['leadInfo']['desativadoFluxoAte']===0x0||_0x593649[_0x1e7df4(0x818)]['atendimentoAberto'])return this[_0x1e7df4(0x42c)][_0x1e7df4(0x3a8)](this[_0x1e7df4(0x7b7)]+'\x20('+this[_0x1e7df4(0x582)][_0x1e7df4(0x777)]+_0x1e7df4(0x2a9)+_0x337d8c+_0x1e7df4(0x7cd)),null;if(_0x593649[_0x1e7df4(0x818)][_0x1e7df4(0x3dc)]>Date[_0x1e7df4(0x31b)]()&&!_0xb4dae4[_0x1e7df4(0x7b6)]?.[_0x1e7df4(0x740)])return this[_0x1e7df4(0x42c)][_0x1e7df4(0x3a8)](this['instanceName']+'\x20('+this[_0x1e7df4(0x582)]['wuid']+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x593649['leadInfo'][_0x1e7df4(0x3dc)])['toLocaleString']()+_0x1e7df4(0x7cd)),null;}this[_0x1e7df4(0x42c)][_0x1e7df4(0x3a8)](this[_0x1e7df4(0x7b7)]+'\x20('+this[_0x1e7df4(0x582)][_0x1e7df4(0x777)]+_0x1e7df4(0x761)),this[_0x1e7df4(0x798)](_0x522702,_0xb4dae4);}catch(_0x325502){let _0x22ddde=_0x1e7df4(0x481),_0x152b47=_0x325502 instanceof Error?_0x325502[_0x1e7df4(0x641)]:typeof _0x325502==_0x1e7df4(0x3b0)?JSON[_0x1e7df4(0x751)](_0x325502):_0x325502,_0x1e23ee=_0x22ddde+':\x20'+_0x152b47;return this[_0x1e7df4(0x42c)]['error'](this['instanceName']+'\x20('+this[_0x1e7df4(0x582)]['wuid']+'):\x20'+_0x1e23ee),null;}}async[a0_0x36f96e(0x66e)](_0x388a0,_0x54e9c5){const _0x50005e=a0_0x36f96e;if(_0x54e9c5[_0x50005e(0x5bf)]){let _0x1ea568=_0x388a0['map'](async _0x3d9a38=>{const _0x463392=_0x50005e;try{let _0x173910={'_id':_0x3d9a38[_0x463392(0x183)],'owner':_0x3d9a38[_0x463392(0x6ab)],'lastcache':0x0};if(Object[_0x463392(0x179)](_0x3d9a38)['forEach'](_0xa2b9bd=>{_0x3d9a38[_0xa2b9bd]!==null&&(_0x173910[_0xa2b9bd]=_0x3d9a38[_0xa2b9bd]);}),_0x173910['imagechat']===null&&(_0x173910[_0x463392(0x63a)]=_0x463392(0x53e)),Object['keys'](_0x173910)[_0x463392(0x5ed)]>0x0)return await this[_0x463392(0x1b7)][_0x463392(0x550)][_0x463392(0x4ec)]({'where':{'_id':_0x3d9a38[_0x463392(0x183)]}},_0x173910,this['instance']['wuid']);}catch(_0x329e20){let _0x3b608a=_0x463392(0x1c4)+_0x3d9a38[_0x463392(0x183)],_0x4e5e76=_0x329e20 instanceof Error?_0x329e20[_0x463392(0x641)]:typeof _0x329e20=='object'?JSON[_0x463392(0x751)](_0x329e20):_0x329e20,_0x5dca2a=_0x3b608a+':\x20'+_0x4e5e76;return this[_0x463392(0x42c)][_0x463392(0x370)](this[_0x463392(0x7b7)]+'\x20('+this[_0x463392(0x582)][_0x463392(0x777)]+'):\x20'+_0x5dca2a),null;}}),_0x5944fb=(await Promise['all'](_0x1ea568))[_0x50005e(0x713)](_0x199353=>_0x199353!==null)['length'];this[_0x50005e(0x42c)][_0x50005e(0x3a8)](this[_0x50005e(0x7b7)]+'\x20('+this[_0x50005e(0x582)][_0x50005e(0x777)]+'):\x20'+_0x5944fb+_0x50005e(0x7a5)+this['instance']['wuid']+_0x50005e(0x80d));}}async['readMessageBot'](_0x461cf0){const _0x14aed=a0_0x36f96e;this[_0x14aed(0x42c)][_0x14aed(0x3a8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x14aed(0x125));let _0x1394ac={'readMessages':[{'remoteJid':_0x461cf0['chatLog'][_0x14aed(0x579)]['key']['remoteJid'],'fromMe':_0x461cf0['chatLog'][_0x14aed(0x579)][_0x14aed(0x2f3)][_0x14aed(0x105)],'id':_0x461cf0[_0x14aed(0x2e7)]['lastReceivedMessage'][_0x14aed(0x2f3)]['id']}]};await this[_0x14aed(0x3a4)](_0x1394ac);}async['StartBot'](_0xb5c31,_0x4bbc64){const _0x4beead=a0_0x36f96e;try{let {key:_0x5b597a,message_normalized:_0x18cd81}=_0x4bbc64,_0x5428f6=_0x18cd81,_0xd90ce8=_0x18cd81[_0x4beead(0x562)]||_0x18cd81['caption']||_0x18cd81['vote']||_0x18cd81[_0x4beead(0x79c)],_0x58f5e0=_0x5b597a[_0x4beead(0x71c)],_0x3f628b;if(_0x5428f6['key'][_0x4beead(0x105)]&&_0xd90ce8[_0x4beead(0x540)]()!==this['AutomateSystem']?.[_0x4beead(0x1a0)][_0x4beead(0x7fc)][_0x4beead(0x540)]())return this[_0x4beead(0x42c)][_0x4beead(0x3a8)](this[_0x4beead(0x7b7)]+'\x20('+this[_0x4beead(0x582)][_0x4beead(0x777)]+_0x4beead(0x6fe)),null;if(_0x5428f6['key'][_0x4beead(0x105)]&&_0xd90ce8[_0x4beead(0x540)]()===this['AutomateSystem']?.[_0x4beead(0x1a0)][_0x4beead(0x7fc)][_0x4beead(0x540)]()){this[_0x4beead(0x42c)][_0x4beead(0x3a8)](this[_0x4beead(0x7b7)]+'\x20('+this[_0x4beead(0x582)][_0x4beead(0x777)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x183297=await this[_0x4beead(0x1b7)][_0x4beead(0x42e)]['find']({'remoteJid':_0x58f5e0,'status':_0x4beead(0x707)},this[_0x4beead(0x582)]['wuid']);this['logger'][_0x4beead(0x3a8)](this[_0x4beead(0x7b7)]+'\x20('+this['instance'][_0x4beead(0x777)]+_0x4beead(0x690)+_0x183297);let _0x52de33=Date[_0x4beead(0x31b)](),_0x37434f;return this[_0x4beead(0x169)]?.['flowConfig']['stopMinutes']===0x0?_0x37434f={'stoppedUntil':_0x52de33+0x7591f6200}:_0x37434f={'stoppedUntil':_0x52de33+this[_0x4beead(0x169)]?.[_0x4beead(0x1a0)]['stopMinutes']*0x3c*0x3e8},this[_0x4beead(0x42c)][_0x4beead(0x3a8)](this['instanceName']+'\x20('+this[_0x4beead(0x582)][_0x4beead(0x777)]+_0x4beead(0x3a0)+_0x37434f),this[_0x4beead(0x256)](_0x3f628b,_0x37434f[_0x4beead(0x78d)]),null;}if(_0xd90ce8&&_0xd90ce8['startsWith'](this[_0x4beead(0x169)]?.[_0x4beead(0x1a0)][_0x4beead(0x6b5)])&&_0xd90ce8[_0x4beead(0x5ed)]>0x4){let _0x4c2a64=await this[_0x4beead(0x1b7)][_0x4beead(0x6fb)][_0x4beead(0x49a)]({'where':{'startCommandWord':_0xd90ce8}},this[_0x4beead(0x582)][_0x4beead(0x777)]);if(this[_0x4beead(0x42c)][_0x4beead(0x3a8)](this[_0x4beead(0x7b7)]+'\x20('+this[_0x4beead(0x582)][_0x4beead(0x777)]+_0x4beead(0x1cf)),_0x4c2a64)_0x3f628b=await this[_0x4beead(0x3e2)](_0x4c2a64,_0x5428f6['key'],_0x5428f6);else return this[_0x4beead(0x42c)][_0x4beead(0x3a8)](this[_0x4beead(0x7b7)]+'\x20('+this[_0x4beead(0x582)][_0x4beead(0x777)]+_0x4beead(0x308)),null;}else _0x3f628b=await this[_0x4beead(0x108)](_0x58f5e0,_0x5428f6);if(_0x3f628b){this[_0x4beead(0x42c)][_0x4beead(0x3a8)](this[_0x4beead(0x7b7)]+'\x20('+this['instance'][_0x4beead(0x777)]+_0x4beead(0x297)),!_0x5b597a[_0x4beead(0x105)]&&_0x3f628b[_0x4beead(0x7e9)]&&this[_0x4beead(0x2ec)](_0x3f628b);let _0x30be96=await this['NextBlock'](_0x3f628b);_0x30be96&&await this[_0x4beead(0x1f8)](_0x3f628b,_0x30be96);}}catch(_0xb9726d){this[_0x4beead(0x42c)][_0x4beead(0x370)](this['instanceName']+'\x20('+this['instance'][_0x4beead(0x777)]+_0x4beead(0x51a)+(_0xb9726d instanceof Error?_0xb9726d[_0x4beead(0x641)]:JSON[_0x4beead(0x751)](_0xb9726d,null,0x2)));}}[a0_0x36f96e(0x1d5)](_0x516172,_0x1e8bff='',_0x543667={}){const _0x4e6a91=a0_0x36f96e;return typeof _0x516172!='object'||_0x516172===null?(_0x1e8bff&&(_0x543667[_0x1e8bff]=_0x516172),_0x543667):(Object[_0x4e6a91(0x1ee)](_0x516172)[_0x4e6a91(0x1f3)](([_0x39bdc0,_0x4f9ea4])=>{const _0x443b4c=_0x4e6a91;let _0x4c858f=_0x1e8bff?_0x1e8bff+'.'+_0x39bdc0:'_'+_0x39bdc0;Array['isArray'](_0x4f9ea4)?_0x4f9ea4[_0x443b4c(0x1f3)]((_0x240f45,_0x12bb9f)=>{const _0x19f492=_0x443b4c;this[_0x19f492(0x1d5)](_0x240f45,_0x4c858f+'['+_0x12bb9f+']',_0x543667);}):typeof _0x4f9ea4==_0x443b4c(0x3b0)&&_0x4f9ea4!==null?this['flattenObject'](_0x4f9ea4,_0x4c858f,_0x543667):_0x543667[_0x4c858f]=String(_0x4f9ea4);}),_0x543667);}[a0_0x36f96e(0x706)](_0x16a194){const _0x4dcffd=a0_0x36f96e;let _0x3c3687={};for(let _0x2363b7 of _0x16a194)typeof _0x2363b7[_0x4dcffd(0x79c)]=='string'&&typeof _0x2363b7[_0x4dcffd(0x7b2)]==_0x4dcffd(0x18f)&&(_0x3c3687[_0x2363b7[_0x4dcffd(0x79c)]]=_0x2363b7[_0x4dcffd(0x7b2)]);return _0x3c3687;}async[a0_0x36f96e(0x180)](_0x1f8d64){const _0x39f78f=a0_0x36f96e;if(!this[_0x39f78f(0x169)]?.[_0x39f78f(0x1a0)][_0x39f78f(0x6b4)]||_0x1f8d64['status']!==_0x39f78f(0x707)&&_0x1f8d64[_0x39f78f(0x262)]==='')return null;let _0x288707=_0x1f8d64[_0x39f78f(0x2e7)][_0x39f78f(0x3c2)]||_0x39f78f(0x2e2);typeof _0x1f8d64[_0x39f78f(0x2e7)][_0x39f78f(0x566)]>'u'&&(_0x1f8d64[_0x39f78f(0x2e7)][_0x39f78f(0x566)]=!0x0);let _0x1b1c32=_0x1f8d64['chatLog'][_0x39f78f(0x566)];this[_0x39f78f(0x42c)]['verbose'](this[_0x39f78f(0x7b7)]+'\x20('+this[_0x39f78f(0x582)][_0x39f78f(0x777)]+_0x39f78f(0x25d)+_0x288707+_0x39f78f(0x106)+_0x1b1c32);let _0x65b1ea=_0x288707===_0x39f78f(0x2e2)?_0x1f8d64['blocks'][_0x39f78f(0x6a2)](_0x23f67c=>_0x23f67c[_0x39f78f(0x2aa)]===_0x39f78f(0x2e2)):_0x1f8d64[_0x39f78f(0x5b3)]['find'](_0x37f82a=>_0x37f82a[_0x39f78f(0x183)][_0x39f78f(0x2ee)]()===_0x288707[_0x39f78f(0x2ee)]());if(!_0x65b1ea)return this[_0x39f78f(0x42c)][_0x39f78f(0x370)](this[_0x39f78f(0x7b7)]+'\x20('+this[_0x39f78f(0x582)][_0x39f78f(0x777)]+_0x39f78f(0x302)+_0x288707),null;let _0x446bff={'_pushName':_0x1f8d64?.[_0x39f78f(0x2e7)]?.[_0x39f78f(0x579)]?.[_0x39f78f(0x666)]||'',..._0x1f8d64['chatLog'][_0x39f78f(0x4d1)]},_0x37314f=null;if(_0x1f8d64[_0x39f78f(0x262)]){let _0x2363fa=_0x1f8d64['chatLog'][_0x39f78f(0x579)][_0x39f78f(0x740)],_0x41472e=_0x1f8d64[_0x39f78f(0x5e9)][_0x39f78f(0x6a2)](_0x53fa8c=>_0x53fa8c['option']===_0x2363fa);if(_0x41472e){let _0xd200ae=_0x41472e['next_groupId'];if(_0x37314f=_0x1f8d64['blocks'][_0x39f78f(0x6a2)](_0x4cb0fa=>_0x4cb0fa['groupId']===_0xd200ae&&_0x4cb0fa[_0x39f78f(0x2d2)]===0x1),_0x65b1ea[_0x39f78f(0x1a9)][_0x39f78f(0x529)]){let _0x35016c={'id':_0x1f8d64['waitingMenu_id'],'remoteJid':_0x1f8d64[_0x39f78f(0x71c)],'fromMe':!0x0};await this[_0x39f78f(0x712)](_0x35016c);}if(_0x65b1ea[_0x39f78f(0x1a9)][_0x39f78f(0x529)]&&_0x65b1ea[_0x39f78f(0x1a9)][_0x39f78f(0x24b)]&&_0x65b1ea[_0x39f78f(0x1a9)][_0x39f78f(0x40c)]===_0x39f78f(0x257)){let _0x58e947={'number':_0x1f8d64['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x39f78f(0x2a7)+_0x1f8d64['waitingMenu_text']+_0x39f78f(0x63d)+_0x2363fa}};await this[_0x39f78f(0x7c7)](_0x58e947);}_0x1f8d64[_0x39f78f(0x193)]=_0x39f78f(0x707),_0x1f8d64['waitingMenu_id']='',_0x1f8d64[_0x39f78f(0x7f2)]='',_0x1f8d64[_0x39f78f(0x5e9)]=[];}else{this[_0x39f78f(0x42c)][_0x39f78f(0x3a8)](this['instanceName']+'\x20('+this[_0x39f78f(0x582)]['wuid']+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x29c2c3={'activatedCount':_0x1f8d64[_0x39f78f(0x2e7)][_0x39f78f(0x39e)][_0x39f78f(0x713)](_0x483077=>String(_0x483077[_0x39f78f(0x26c)])===String(_0x288707))[_0x39f78f(0x5ed)],'moreLogs':[_0x39f78f(0x4a4)]};if(_0x65b1ea['uazapi'][_0x39f78f(0x744)]){let _0x2b635c={'number':_0x1f8d64[_0x39f78f(0x71c)],'options':{'delay':0x0},'textMessage':{'text':_0x65b1ea[_0x39f78f(0x1a9)]['pollErrorMessage']}};await this['textMessage'](_0x2b635c);}if(_0x65b1ea[_0x39f78f(0x685)]!==void 0x0&&_0x29c2c3[_0x39f78f(0x35b)]>=_0x65b1ea[_0x39f78f(0x685)]){let _0x554e6b=Date['now'](),_0x4bc27b=_0x65b1ea[_0x39f78f(0x3a6)]??0xa;isNaN(_0x4bc27b)&&(_0x4bc27b=0xa);let _0x2bcbd6=_0x554e6b+_0x4bc27b*0x3c*0x3e8;_0x29c2c3['newStoppedUntil']=_0x2bcbd6,_0x29c2c3['moreLogs']['push']('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x39f78f(0x256)](_0x1f8d64,_0x2bcbd6),_0x1f8d64[_0x39f78f(0x262)]='',_0x1f8d64[_0x39f78f(0x7f2)]='',_0x1f8d64[_0x39f78f(0x5e9)]=[];}return this[_0x39f78f(0x715)](_0x1f8d64,_0x65b1ea,_0x29c2c3,!0x0),null;}}if(_0x1b1c32&&_0x65b1ea[_0x39f78f(0x586)]&&!_0x1f8d64[_0x39f78f(0x262)]){let _0x583885=_0x1f8d64['blocks']['filter'](_0x40e70c=>_0x40e70c[_0x39f78f(0x1ef)][_0x39f78f(0x2ee)]()===_0x65b1ea[_0x39f78f(0x586)][_0x39f78f(0x2ee)]())[_0x39f78f(0x77d)]((_0x147ab1,_0x250440)=>_0x147ab1[_0x39f78f(0x2d2)]-_0x250440['order']);_0x583885[_0x39f78f(0x5ed)]>0x0&&(_0x37314f=_0x583885[0x0]);}if(!_0x37314f){let _0x4c320c=_0x65b1ea[_0x39f78f(0x1ef)],_0x3693f0=_0x1f8d64[_0x39f78f(0x5b3)][_0x39f78f(0x713)](_0x3ae7c8=>_0x3ae7c8[_0x39f78f(0x1ef)]===_0x4c320c&&_0x3ae7c8[_0x39f78f(0x2d2)]>_0x65b1ea[_0x39f78f(0x2d2)])[_0x39f78f(0x77d)]((_0x5012c4,_0x1820dd)=>_0x5012c4['order']-_0x1820dd[_0x39f78f(0x2d2)]);_0x3693f0[_0x39f78f(0x5ed)]>0x0&&(_0x37314f=_0x3693f0[0x0]);}if(!_0x37314f)return _0x1f8d64[_0x39f78f(0x193)]='closed',null;_0x1f8d64[_0x39f78f(0x2e7)]['realVariables']=_0x446bff;let _0x237d9f=JSON[_0x39f78f(0x766)](JSON['stringify'](_0x37314f));return this['replaceVariablesInObject'](_0x237d9f,_0x1f8d64['chatLog'][_0x39f78f(0x4d1)]),_0x1f8d64[_0x39f78f(0x2e7)][_0x39f78f(0x3c2)]=_0x237d9f[_0x39f78f(0x183)],_0x1f8d64[_0x39f78f(0x2e7)][_0x39f78f(0x566)]=!0x0,_0x237d9f;}['replaceVariables'](_0x34b732,_0x1ae229){const _0x4bc213=a0_0x36f96e;return _0x34b732[_0x4bc213(0x410)](/\{\{([^}]+)\}\}/g,(_0x191539,_0x4e7619)=>_0x1ae229[_0x4e7619]||'');}[a0_0x36f96e(0x519)](_0x4402e6,_0x5c1545){const _0x348bed=a0_0x36f96e;for(let _0x9c4e74 in _0x4402e6)typeof _0x4402e6[_0x9c4e74]==_0x348bed(0x18f)?_0x4402e6[_0x9c4e74]=this[_0x348bed(0x260)](_0x4402e6[_0x9c4e74],_0x5c1545):typeof _0x4402e6[_0x9c4e74]==_0x348bed(0x3b0)&&this[_0x348bed(0x519)](_0x4402e6[_0x9c4e74],_0x5c1545);}async[a0_0x36f96e(0x319)](_0x348a93,_0x5861fd){const _0x785228=a0_0x36f96e;let _0x5cb525=_0x5861fd[_0x785228(0x183)];if(_0x348a93[_0x785228(0x2e7)]&&_0x348a93[_0x785228(0x2e7)][_0x785228(0x39e)]){let _0x2d3a62=_0x348a93[_0x785228(0x2e7)][_0x785228(0x39e)]['filter'](_0x806a17=>String(_0x806a17[_0x785228(0x26c)])===String(_0x5cb525))['pop']();if(_0x2d3a62&&_0x2d3a62['error']&&_0x5861fd['stopIfLastReturnedError'])return _0x348a93[_0x785228(0x193)]='closed',await this[_0x785228(0x1ad)](_0x348a93),null;}if(_0x5861fd['type']==='uazapi'&&_0x5861fd[_0x785228(0x1a9)]['command']===_0x785228(0x224)&&_0x348a93[_0x785228(0x262)])return _0x348a93[_0x785228(0x2e7)][_0x785228(0x3c2)]=_0x5cb525,await this['saveConversationToDatabase'](_0x348a93),null;let _0x6f777f=await this['NextBlock'](_0x348a93);if(_0x348a93[_0x785228(0x2e7)]&&_0x348a93[_0x785228(0x2e7)][_0x785228(0x39e)]){let _0x4ee631=_0x348a93[_0x785228(0x2e7)][_0x785228(0x39e)][_0x785228(0x713)](_0x202772=>String(_0x202772['blockId'])===String(_0x5cb525))[_0x785228(0x5ed)];if(_0x5861fd['maxActives']!==void 0x0&&_0x4ee631>=_0x5861fd[_0x785228(0x685)]){let _0x5be6ff=Date[_0x785228(0x31b)](),_0x5a32a0=_0x5861fd[_0x785228(0x3a6)]??0xa;isNaN(_0x5a32a0)&&(_0x5a32a0=0xa);let _0x53ef4b=_0x5be6ff+_0x5a32a0*0x3c*0x3e8,_0x433812={'newStoppedUntil':_0x53ef4b};return this[_0x785228(0x256)](_0x348a93,_0x53ef4b),this[_0x785228(0x715)](_0x348a93,_0x5861fd,_0x433812,!0x0),null;}}_0x6f777f&&_0x6f777f[_0x785228(0x2aa)]!==_0x785228(0x72c)&&await this['processblock'](_0x348a93,_0x6f777f),_0x6f777f||await this[_0x785228(0x1ad)](_0x348a93),_0x6f777f&&_0x6f777f[_0x785228(0x2aa)]===_0x785228(0x72c)&&(_0x348a93[_0x785228(0x2e7)][_0x785228(0x3c2)]=_0x5cb525,await this[_0x785228(0x1ad)](_0x348a93));}async[a0_0x36f96e(0x1f8)](_0x118193,_0x4989b1){const _0x23670f=a0_0x36f96e;try{let _0x4fd915=_0x4989b1[_0x23670f(0x2aa)];this[_0x23670f(0x42c)][_0x23670f(0x3a8)](this[_0x23670f(0x7b7)]+'\x20('+this[_0x23670f(0x582)][_0x23670f(0x777)]+'):\x20Going\x20to\x20'+_0x4fd915);let _0x4a118c={'uazapi':()=>this[_0x23670f(0x111)](_0x118193,_0x4989b1),'save':()=>this[_0x23670f(0x626)](_0x118193,_0x4989b1),'stop':()=>this['stopConversation'](_0x118193,_0x4989b1),'condition':()=>this[_0x23670f(0x77e)](_0x118193,_0x4989b1),'varedit':()=>this[_0x23670f(0x33b)](_0x118193,_0x4989b1),'apirequest':()=>this[_0x23670f(0x719)](_0x118193,_0x4989b1),'goToFlow':()=>this[_0x23670f(0x7aa)](_0x118193,_0x4989b1),'scheduleFlow':()=>this[_0x23670f(0x516)](_0x118193,_0x4989b1),'awaitSeconds':()=>this[_0x23670f(0x360)](_0x118193,_0x4989b1),'clearVariables':()=>this[_0x23670f(0x4a8)](_0x118193,_0x4989b1)}[_0x4fd915];_0x4a118c&&await _0x4a118c();}catch(_0x30644b){this['logger'][_0x23670f(0x370)](this['instanceName']+'\x20('+this[_0x23670f(0x582)][_0x23670f(0x777)]+_0x23670f(0x729)+(_0x30644b instanceof Error?_0x30644b[_0x23670f(0x641)]:JSON[_0x23670f(0x751)](_0x30644b,null,0x2)));}}async[a0_0x36f96e(0x360)](_0x4828cd,_0x4bdd4b){const _0x58b125=a0_0x36f96e;if(this[_0x58b125(0x42c)]['verbose'](this[_0x58b125(0x7b7)]+'\x20('+this[_0x58b125(0x582)]['wuid']+_0x58b125(0x7c5)),!_0x4828cd||!_0x4bdd4b)return this[_0x58b125(0x42c)][_0x58b125(0x370)](this[_0x58b125(0x7b7)]+'\x20('+this[_0x58b125(0x582)][_0x58b125(0x777)]+_0x58b125(0x184)),null;let _0x80035=+_0x4bdd4b[_0x58b125(0x71e)];isNaN(_0x80035)&&(_0x80035=0x0),_0x80035=Math['min'](_0x80035,0x3c),await(0x0,f[_0x58b125(0x31a)])(_0x80035*0x3e8);let _0x25df8b={'moreLogs':[_0x58b125(0x510)+_0x80035+'\x20segundos']};return await this[_0x58b125(0x715)](_0x4828cd,_0x4bdd4b,_0x25df8b),_0x80035;}async['processclearVariables'](_0x54fa32,_0x5f472d){const _0x489522=a0_0x36f96e;if(this[_0x489522(0x42c)][_0x489522(0x3a8)](this[_0x489522(0x7b7)]+'\x20('+this[_0x489522(0x582)][_0x489522(0x777)]+_0x489522(0x650)),!_0x54fa32||!_0x5f472d)return this['logger'][_0x489522(0x370)](this['instanceName']+'\x20('+this['instance'][_0x489522(0x777)]+_0x489522(0x184)),null;let _0x16b8e1=[];if(_0x5f472d[_0x489522(0x647)][_0x489522(0x540)]()==='[all]'){let _0xbb65c0=[_0x489522(0x3d5),'_error',_0x489522(0x805),_0x489522(0x3e8),_0x489522(0x183),_0x489522(0x1a1)];_0x16b8e1=Object[_0x489522(0x179)](_0x54fa32[_0x489522(0x2e7)]['realVariables'])[_0x489522(0x713)](_0x4d7c52=>_0x4d7c52[_0x489522(0x720)]('_')&&!_0xbb65c0[_0x489522(0x4ba)](_0x4d7c52));}else _0x16b8e1=_0x5f472d[_0x489522(0x647)][_0x489522(0x71a)]('|')[_0x489522(0x25f)](_0x3fd7d7=>(_0x3fd7d7=_0x3fd7d7[_0x489522(0x410)](/[{}]/g,'')['trim'](),_0x3fd7d7[_0x489522(0x720)]('_')?_0x3fd7d7:'_'+_0x3fd7d7));let _0x1de305=[];_0x16b8e1['forEach'](_0xa69381=>{const _0x3cd138=_0x489522;_0xa69381 in _0x54fa32[_0x3cd138(0x2e7)][_0x3cd138(0x4d1)]&&(delete _0x54fa32[_0x3cd138(0x2e7)]['realVariables'][_0xa69381],_0x1de305[_0x3cd138(0x334)](_0xa69381));}),_0x1de305[_0x489522(0x5ed)]>0x0?this[_0x489522(0x42c)][_0x489522(0x3a8)](this[_0x489522(0x7b7)]+'\x20('+this[_0x489522(0x582)][_0x489522(0x777)]+_0x489522(0x5de)+_0x1de305[_0x489522(0x41f)](',\x20')):this['logger'][_0x489522(0x3a8)](this[_0x489522(0x7b7)]+'\x20('+this['instance']['wuid']+_0x489522(0x469));let _0x58d83d={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x1de305['join'](',\x20')]};return await this[_0x489522(0x715)](_0x54fa32,_0x5f472d,_0x58d83d),null;}async[a0_0x36f96e(0x516)](_0x499f87,_0x2c93f6){const _0x5461e2=a0_0x36f96e;if(this[_0x5461e2(0x42c)][_0x5461e2(0x3a8)](this[_0x5461e2(0x7b7)]+'\x20('+this[_0x5461e2(0x582)]['wuid']+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x499f87||!_0x2c93f6)return this['logger'][_0x5461e2(0x370)](this[_0x5461e2(0x7b7)]+'\x20('+this[_0x5461e2(0x582)][_0x5461e2(0x777)]+_0x5461e2(0x184)),null;let _0x18c808=_0x499f87[_0x5461e2(0x71c)];_0x2c93f6[_0x5461e2(0x337)]['remoteJid']&&_0x2c93f6[_0x5461e2(0x337)][_0x5461e2(0x71c)]['trim']()!==''&&(_0x18c808=_0x2c93f6[_0x5461e2(0x1a9)][_0x5461e2(0x71c)][_0x5461e2(0x540)]());let _0x1cc9cc=_0x2c93f6[_0x5461e2(0x337)]['timeInMinutes']*0xea60,_0x2eba0a=Date[_0x5461e2(0x31b)]()+_0x1cc9cc,_0x18562b={'status':_0x5461e2(0x512),'info':_0x5461e2(0x44f)+_0x499f87[_0x5461e2(0x79c)],'remoteJids':[_0x18c808],'when':_0x2eba0a,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x5461e2(0x6fb),'flowName':_0x2c93f6[_0x5461e2(0x337)][_0x5461e2(0x2fd)]};this[_0x5461e2(0x6fd)](_0x18562b);let _0x24a30c=await this[_0x5461e2(0x180)](_0x499f87);_0x24a30c&&await this[_0x5461e2(0x1f8)](_0x499f87,_0x24a30c);}async['processgoToFlow'](_0x4a2ce9,_0x560e7e){const _0x30fec6=a0_0x36f96e;if(this[_0x30fec6(0x42c)][_0x30fec6(0x3a8)](this[_0x30fec6(0x7b7)]+'\x20('+this['instance'][_0x30fec6(0x777)]+_0x30fec6(0x27a)),!_0x4a2ce9||!_0x560e7e)return this[_0x30fec6(0x42c)]['error'](this[_0x30fec6(0x7b7)]+'\x20('+this[_0x30fec6(0x582)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x30fec6(0x715)](_0x4a2ce9,_0x560e7e,{},!0x0,!0x0);let _0x29cd21=_0x560e7e[_0x30fec6(0x2f8)];_0x4a2ce9=await this[_0x30fec6(0x7ba)](_0x29cd21,_0x4a2ce9[_0x30fec6(0x71c)],_0x4a2ce9['chatLog'][_0x30fec6(0x4d1)]);let _0x10e9a0=await this[_0x30fec6(0x180)](_0x4a2ce9);_0x10e9a0&&await this[_0x30fec6(0x1f8)](_0x4a2ce9,_0x10e9a0);}async[a0_0x36f96e(0x7ba)](_0x539643,_0x10930e,_0x23f679){const _0x94072b=a0_0x36f96e;this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x94072b(0x777)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0x539643=await this[_0x94072b(0x1b7)]['flow'][_0x94072b(0x49a)]({'where':{'name':_0x539643}},this[_0x94072b(0x582)]['wuid']),!_0x539643)return this[_0x94072b(0x42c)]['error'](this['instanceName']+'\x20('+this[_0x94072b(0x582)][_0x94072b(0x777)]+_0x94072b(0x710)),null;let _0x2be2fa=require(_0x94072b(0x57f))['ObjectId'],_0x17f151=Date['now'](),_0x4c6dc0=_0x94072b(0x2e2),_0x1f6284={},_0x1a5cbd={},_0x2ae120={..._0x539643,'chatLog':null},_0x20900b={'lastReceivedMessage':_0x1f6284,'lastSendMessage':_0x1a5cbd,'lastBlockId':_0x4c6dc0,'lastCondition':!0x0,'realVariables':_0x23f679};_0x2ae120[_0x94072b(0x2e7)]=_0x20900b,_0x2ae120['chatLog']['realVariables']={..._0x23f679},delete _0x2ae120['_id'],_0x2ae120['_id']=new _0x2be2fa(),_0x2ae120[_0x94072b(0x16e)]=_0x17f151,_0x2ae120[_0x94072b(0x193)]=_0x94072b(0x707),_0x2ae120[_0x94072b(0x71c)]=_0x10930e;let _0x487ece=await this[_0x94072b(0x1b7)][_0x94072b(0x42e)][_0x94072b(0x4ec)](_0x2ae120['_id'],_0x2ae120,this[_0x94072b(0x582)][_0x94072b(0x777)]);return this[_0x94072b(0x42c)][_0x94072b(0x3a8)](this['instanceName']+'\x20('+this[_0x94072b(0x582)][_0x94072b(0x777)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x487ece?_0x2ae120:null;}catch(_0x3e0ead){let _0x554630=_0x94072b(0x3be),_0x31c2d3=_0x3e0ead instanceof Error?_0x3e0ead[_0x94072b(0x641)]:typeof _0x3e0ead==_0x94072b(0x3b0)?JSON[_0x94072b(0x751)](_0x3e0ead):_0x3e0ead,_0xe3c161=_0x554630+':\x20'+_0x31c2d3;throw this[_0x94072b(0x42c)][_0x94072b(0x370)](this[_0x94072b(0x7b7)]+'\x20('+this[_0x94072b(0x582)][_0x94072b(0x777)]+_0x94072b(0x325)+_0xe3c161),new m(_0xe3c161);}}async[a0_0x36f96e(0x719)](_0x2b0927,_0x43324a){const _0x1858d7=a0_0x36f96e;let _0x22f977,_0x362235;try{let _0x2a3927=_0x43324a[_0x1858d7(0x596)];if(!_0x2a3927||!_0x2a3927['url']||!_0x2a3927[_0x1858d7(0x376)])throw new Error(_0x1858d7(0x554));let _0x2855af;([_0x1858d7(0x54e),_0x1858d7(0x6dd),_0x1858d7(0x272)][_0x1858d7(0x628)](_0xc292f=>_0x2a3927[_0x1858d7(0x206)][_0x1858d7(0x4ba)](_0xc292f))||_0x2a3927[_0x1858d7(0x1d0)])&&(_0x2855af='arraybuffer');let _0x2731d7='\u205f',_0x4eeb2f;try{_0x4eeb2f=JSON[_0x1858d7(0x766)](_0x2a3927[_0x1858d7(0x141)][_0x1858d7(0x410)](new RegExp(_0x2731d7,'g'),''));}catch(_0x4935bb){throw _0x4935bb;}let _0x31be18={'method':_0x2a3927[_0x1858d7(0x376)],'url':_0x2a3927[_0x1858d7(0x206)],'headers':_0x2a3927[_0x1858d7(0x44e)]||{},..._0x2a3927[_0x1858d7(0x376)][_0x1858d7(0x491)]()!==_0x1858d7(0x79f)&&_0x2a3927['bodyString']?{'data':JSON['parse'](_0x2a3927[_0x1858d7(0x141)][_0x1858d7(0x410)](new RegExp(_0x2731d7,'g'),''))}:{},..._0x2855af&&{'responseType':_0x2855af}},_0xf47c02=await(0x0,Q[_0x1858d7(0x3dd)])(_0x31be18),_0x50f89d=_0xf47c02['headers'][_0x1858d7(0x5f3)];if(_0x50f89d&&_0x50f89d[_0x1858d7(0x4ba)](_0x1858d7(0x65f))||typeof _0xf47c02[_0x1858d7(0x7af)]==_0x1858d7(0x18f)){if(typeof _0xf47c02[_0x1858d7(0x7af)]==_0x1858d7(0x18f)){let _0x5e262c=_0xf47c02['data'][_0x1858d7(0x410)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x1858d7(0x540)]();try{_0x22f977=JSON[_0x1858d7(0x766)](_0x5e262c);}catch(_0x3ac691){console[_0x1858d7(0x370)](_0x1858d7(0x130)+_0x3ac691[_0x1858d7(0x641)]),_0x22f977={'_apiResponse':_0xf47c02['data']};}}else _0x22f977=_0xf47c02[_0x1858d7(0x7af)];let _0x274c62=_0x2b0927[_0x1858d7(0x2e7)][_0x1858d7(0x4d1)],_0x4a27e0=this['flattenObject'](_0x22f977);return Object['assign'](_0x274c62,_0x4a27e0),_0x2b0927[_0x1858d7(0x2e7)][_0x1858d7(0x4d1)]=_0x274c62,_0x362235={'error':!0x1,'apiResponse':_0x22f977},this[_0x1858d7(0x715)](_0x2b0927,_0x43324a,_0x362235),_0x22f977;}if(_0x50f89d&&(_0x50f89d[_0x1858d7(0x4ba)](_0x1858d7(0x3ac))||_0x50f89d[_0x1858d7(0x4ba)]('image')||_0x50f89d['includes'](_0x1858d7(0x1d3))||_0x50f89d[_0x1858d7(0x4ba)](_0x1858d7(0x2c2)))){this[_0x1858d7(0x42c)][_0x1858d7(0x3a8)](this[_0x1858d7(0x7b7)]+'\x20('+this[_0x1858d7(0x582)][_0x1858d7(0x777)]+_0x1858d7(0x7c3)+_0x50f89d);let _0x2adee4=(0x0,Ce['v4'])(),_0x4a8d92='',_0x571863={'image/jpeg':_0x1858d7(0x2db),'image/png':_0x1858d7(0x12e),'image/gif':'.gif','image/webp':_0x1858d7(0x652),'image/svg+xml':'.svg','audio/mpeg':'.mp3','audio/ogg':'.ogg','audio/wav':_0x1858d7(0x2e5),'video/mp4':_0x1858d7(0x19b),'video/webm':'.webm','video/ogg':'.ogv','text/plain':_0x1858d7(0x5d1),'application/pdf':_0x1858d7(0x478),'application/msword':_0x1858d7(0x7fd),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x1858d7(0x134),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x1858d7(0x4fd),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x1858d7(0x3a1)};_0x571863[_0x50f89d]?(_0x4a8d92=_0x571863[_0x50f89d],this[_0x1858d7(0x42c)][_0x1858d7(0x3a8)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x4a8d92)):(_0x4a8d92=_0x1858d7(0x397),this['logger'][_0x1858d7(0x3a8)](this['instanceName']+'\x20('+this[_0x1858d7(0x582)][_0x1858d7(0x777)]+_0x1858d7(0x53b)+_0x4a8d92)),_0x2adee4+=_0x4a8d92,this[_0x1858d7(0x42c)][_0x1858d7(0x3a8)](this[_0x1858d7(0x7b7)]+'\x20('+this['instance']['wuid']+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x2adee4);let _0x4b8d44=this[_0x1858d7(0x33c)][_0x1858d7(0x5aa)]('SERVER')[_0x1858d7(0x289)];if(!_0x4b8d44){let _0xd3d646=this[_0x1858d7(0x33c)]['get'](_0x1858d7(0x2b3));_0x4b8d44=_0x1858d7(0x7c0)+(_0xd3d646&&_0xd3d646[_0x1858d7(0x487)][_0x1858d7(0x71a)]('/')[0x4]);}let _0x55fef1=Buffer[_0x1858d7(0x6b9)](_0xf47c02[_0x1858d7(0x7af)]);await this['saveMediaToFile'](_0x55fef1,_0x2adee4);let _0x298dc7=_0x1858d7(0x725)+_0x2adee4;_0x298dc7=''+_0x4b8d44+_0x298dc7,_0x22f977={'fileUrl':_0x298dc7},_0x2b0927['chatLog'][_0x1858d7(0x4d1)][_0x1858d7(0x640)]=_0x298dc7;let _0xfaf0f6=_0x2b0927[_0x1858d7(0x2e7)]['realVariables'],_0x2da2d1=this[_0x1858d7(0x1d5)](_0x22f977);return Object[_0x1858d7(0x2fe)](_0xfaf0f6,_0x2da2d1),_0x2b0927[_0x1858d7(0x2e7)][_0x1858d7(0x4d1)]=_0xfaf0f6,_0x362235={'error':!0x1,'apiResponse':{'fileUrl':_0x298dc7}},this[_0x1858d7(0x715)](_0x2b0927,_0x43324a,_0x362235),_0x22f977;}}catch(_0x41ab47){console['error'](_0x1858d7(0x117),_0x41ab47[_0x1858d7(0x641)]),_0x41ab47['response']&&(_0x22f977=_0x41ab47['response']['data']);let _0x885333=_0x2b0927[_0x1858d7(0x2e7)][_0x1858d7(0x4d1)],_0x3620b6=this['flattenObject'](_0x22f977);return Object['assign'](_0x885333,_0x3620b6),_0x2b0927[_0x1858d7(0x2e7)][_0x1858d7(0x4d1)]=_0x885333,_0x362235={'error':!0x0,'errorLog':_0x41ab47['toString'](),'apiResponse':_0x22f977},this[_0x1858d7(0x715)](_0x2b0927,_0x43324a,_0x362235),{'success':!0x1};}}[a0_0x36f96e(0x731)](_0x724c14,_0x105ed4){const _0x449a3c=a0_0x36f96e;let _0xca9a96=_0xefc1ca=>{const _0x3aadaa=a0_0x5519;let _0x513fbd=_0xefc1ca['replace'](/[^0-9.,-]/g,'')[_0x3aadaa(0x410)](',','.'),_0x3f47c1=parseFloat(_0x513fbd);return isNaN(_0x3f47c1)?null:_0x3f47c1;},_0x3e6bd2=_0x105ed4[_0x449a3c(0x30b)],_0x582290=_0x105ed4[_0x449a3c(0x7da)];typeof _0x3e6bd2==_0x449a3c(0x18f)&&(_0x3e6bd2=this['replaceVariables'](_0x3e6bd2,_0x724c14[_0x449a3c(0x2e7)][_0x449a3c(0x4d1)])??''),typeof _0x582290==_0x449a3c(0x18f)&&(_0x582290=this[_0x449a3c(0x260)](_0x582290,_0x724c14[_0x449a3c(0x2e7)][_0x449a3c(0x4d1)])??'');let _0xdf98b7=null;if(!_0x105ed4['editOperator'])return null;switch(this[_0x449a3c(0x42c)][_0x449a3c(0x3a8)](this[_0x449a3c(0x7b7)]+'\x20('+this[_0x449a3c(0x582)][_0x449a3c(0x777)]+_0x449a3c(0x638)+_0x3e6bd2),this[_0x449a3c(0x42c)][_0x449a3c(0x3a8)](this[_0x449a3c(0x7b7)]+'\x20('+this[_0x449a3c(0x582)][_0x449a3c(0x777)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x582290),_0x105ed4['editOperator']){case'+':case'-':case'*':case'/':let _0x509aed=_0xca9a96(_0x3e6bd2||'0'),_0x5eb0d5=_0xca9a96(_0x582290||'0');if(_0x509aed===null)return null;switch(_0x105ed4[_0x449a3c(0x2e9)]){case'+':_0xdf98b7=_0x509aed+(_0x5eb0d5??0x0);break;case'-':_0xdf98b7=_0x509aed-(_0x5eb0d5??0x0);break;case'*':_0xdf98b7=_0x509aed*(_0x5eb0d5??0x1);break;case'/':_0x5eb0d5!==0x0&&(_0xdf98b7=_0x509aed/(_0x5eb0d5??0x1));break;}break;case'findAndReplace':case _0x449a3c(0x23a):let _0x260e54=_0x582290,_0x20d28a=_0x105ed4['replaceValue'];if(typeof _0x20d28a=='string'&&(_0x20d28a=this['replaceVariables'](_0x20d28a,_0x724c14['chatLog'][_0x449a3c(0x4d1)])??''),_0x260e54&&_0x20d28a!==void 0x0){let _0x20b78a=_0x105ed4['editOperator']===_0x449a3c(0x30f)?new RegExp(_0x260e54['replace'](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x260e54,'g');_0xdf98b7=_0x3e6bd2['replace'](_0x20b78a,_0x20d28a);}else console[_0x449a3c(0x7f4)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0xdf98b7=_0x582290;break;case _0x449a3c(0x5a4):let _0x27b92b=_0x3e6bd2['match'](new RegExp(_0x582290||''));_0xdf98b7=_0x27b92b?_0x27b92b[0x0]:'';break;case'truncatedto':_0xdf98b7=_0x3e6bd2[_0x449a3c(0x145)](0x0,parseInt(_0x582290||'0'));break;case _0x449a3c(0x49b):let _0x196108=parseInt(_0x582290||'0');_0xdf98b7=_0x3e6bd2['slice'](_0x3e6bd2['length']-_0x196108);break;case _0x449a3c(0x142):let _0x416ce8=_0xca9a96(_0x3e6bd2),_0x598eb9=parseInt(_0x582290||'0');_0x598eb9=Math['abs'](_0x598eb9),_0x416ce8!==null?_0xdf98b7=_0x416ce8['toLocaleString'](_0x449a3c(0x340),{'minimumFractionDigits':_0x598eb9,'maximumFractionDigits':_0x598eb9}):(console['warn'](_0x449a3c(0x16f)+_0x3e6bd2),_0xdf98b7=null);break;case _0x449a3c(0x672):let _0x1e7fa0=_0xca9a96(_0x3e6bd2);_0x1e7fa0!==null?_0xdf98b7=_0x1e7fa0[_0x449a3c(0x682)](_0x449a3c(0x340),{'style':_0x449a3c(0x303),'currency':'BRL'}):(console[_0x449a3c(0x7f4)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x3e6bd2),_0xdf98b7=null);break;case _0x449a3c(0x612):_0xdf98b7=_0x3e6bd2[_0x449a3c(0x491)]();break;case _0x449a3c(0x28c):_0xdf98b7=_0x3e6bd2[_0x449a3c(0x191)]();break;case _0x449a3c(0x668):_0xdf98b7=_0x3e6bd2[_0x449a3c(0x71a)]('\x20')[_0x449a3c(0x25f)](_0x4ebb81=>_0x4ebb81[_0x449a3c(0x6b7)](0x0)[_0x449a3c(0x491)]()+_0x4ebb81[_0x449a3c(0x145)](0x1)[_0x449a3c(0x191)]())[_0x449a3c(0x41f)]('\x20');break;case _0x449a3c(0x45b):_0xdf98b7=_0x3e6bd2[_0x449a3c(0x540)]();break;default:_0xdf98b7=_0x3e6bd2;}return _0xdf98b7!==null?_0xdf98b7[_0x449a3c(0x2ee)]():null;}async[a0_0x36f96e(0x33b)](_0x4ca6e9,_0x40accf){const _0x218bfc=a0_0x36f96e;try{let _0x54b3df=_0x4ca6e9[_0x218bfc(0x6ea)]?.['filter'](_0x41af6f=>_0x41af6f[_0x218bfc(0x26c)]===_0x40accf[_0x218bfc(0x183)]?.['toString']())||[],_0x2fca8f=_0x40accf['saveVariable'],_0xd6e7a1=null,_0x1207d4=[],_0x31d92f=_0x4ca6e9['chatLog'][_0x218bfc(0x4d1)][_0x2fca8f];_0x1207d4['push'](_0x218bfc(0x5f0)+_0x31d92f+'\x22');for(let _0x320a9f of _0x54b3df){_0x320a9f[_0x218bfc(0x30b)]=_0x31d92f,_0xd6e7a1=_0x320a9f[_0x218bfc(0x30b)];let _0x1cad0d;try{_0x1cad0d=this[_0x218bfc(0x731)](_0x4ca6e9,_0x320a9f);}catch(_0x936bd6){console[_0x218bfc(0x370)](_0x218bfc(0x4a6)+_0x936bd6['message']);continue;}if(_0x1cad0d!==null){let _0x41919e=_0x218bfc(0x68a)+_0x320a9f[_0x218bfc(0x2e9)]+'\x22',_0x53830f=['toBRL','upperCase',_0x218bfc(0x28c),_0x218bfc(0x668),_0x218bfc(0x45b)];_0x320a9f['editOperator']==='findAndReplace'||_0x320a9f[_0x218bfc(0x2e9)]==='findAndReplaceRegex'?_0x41919e+=_0x218bfc(0x4e0)+_0x320a9f[_0x218bfc(0x7da)]+_0x218bfc(0x430)+_0x320a9f[_0x218bfc(0x482)]+'\x22':!_0x53830f[_0x218bfc(0x4ba)](_0x320a9f['editOperator'])&&_0x320a9f[_0x218bfc(0x7da)]!==null&&_0x320a9f[_0x218bfc(0x7da)]!==void 0x0&&(_0x41919e+=_0x218bfc(0x400)+_0x320a9f[_0x218bfc(0x7da)]+'\x22'),_0x41919e+=_0x218bfc(0x3b5)+_0x1cad0d+'.',_0x1207d4[_0x218bfc(0x334)](_0x41919e);}_0x1cad0d!==null&&(_0x31d92f=_0x1cad0d);}if(_0x4ca6e9[_0x218bfc(0x2e7)][_0x218bfc(0x4d1)]&&_0x40accf[_0x218bfc(0x703)]){_0x4ca6e9[_0x218bfc(0x2e7)][_0x218bfc(0x4d1)][_0x40accf['saveVariable']]=_0x31d92f;let _0x209fb4={'variable':_0x40accf[_0x218bfc(0x703)],'oldValue':_0xd6e7a1,'newValue':_0x31d92f,'moreLogs':_0x1207d4};try{this[_0x218bfc(0x715)](_0x4ca6e9,_0x40accf,_0x209fb4);}catch(_0x1df10f){console[_0x218bfc(0x370)](_0x218bfc(0x5fc)+_0x1df10f[_0x218bfc(0x641)]);}}return _0x2fca8f;}catch(_0x3ae9ab){return console[_0x218bfc(0x370)](_0x218bfc(0x7ad)+_0x3ae9ab[_0x218bfc(0x641)]),null;}}async[a0_0x36f96e(0x77e)](_0x582e51,_0x55a857){const _0x113a83=a0_0x36f96e;try{let _0x7aeac3=[],_0x417815=_0x582e51[_0x113a83(0x718)]['filter'](_0x1678c7=>_0x1678c7['blockId']===_0x55a857['_id'][_0x113a83(0x2ee)]()),_0x34449f=null,_0x39c07f=!0x1;for(let _0x5dc33f of _0x417815){let _0x278010=this[_0x113a83(0x1f2)](_0x582e51,_0x5dc33f);_0x7aeac3['push']('Primeiro\x20Valor:\x20'+_0x5dc33f[_0x113a83(0x30b)]+_0x113a83(0x5a7)+_0x5dc33f[_0x113a83(0x1f9)]+',\x20Segundo\x20Valor:\x20'+_0x5dc33f[_0x113a83(0x7da)]+_0x113a83(0x2c7)+_0x278010),_0x34449f===null?_0x34449f=_0x278010:_0x5dc33f['OrAnd']===_0x113a83(0x7a8)?(_0x34449f=_0x34449f&&_0x278010,_0x278010||(_0x39c07f=!0x0)):_0x5dc33f[_0x113a83(0x58b)]==='or'&&(_0x39c07f||(_0x34449f=_0x34449f||_0x278010));}_0x34449f===null&&(_0x34449f=!0x0);let _0x7e39de={'moreLogs':_0x7aeac3};_0x582e51[_0x113a83(0x2e7)]['lastCondition']=_0x34449f,await this[_0x113a83(0x715)](_0x582e51,_0x55a857,_0x7e39de);}catch(_0x5487b5){this['logger']['error'](this[_0x113a83(0x7b7)]+'\x20('+this[_0x113a83(0x582)][_0x113a83(0x777)]+_0x113a83(0x2de)+(_0x5487b5 instanceof Error?_0x5487b5[_0x113a83(0x641)]:JSON[_0x113a83(0x751)](_0x5487b5,null,0x2)));}}[a0_0x36f96e(0x1f2)](_0x509883,_0x595e42){const _0xde747a=a0_0x36f96e;let _0x478690=_0x595e42[_0xde747a(0x30b)],_0x1b48b5=_0x595e42['secondValue'];typeof _0x478690==_0xde747a(0x18f)&&(_0x478690=this[_0xde747a(0x260)](_0x478690,_0x509883[_0xde747a(0x2e7)][_0xde747a(0x4d1)])??''),typeof _0x1b48b5=='string'&&(_0x1b48b5=this[_0xde747a(0x260)](_0x1b48b5,_0x509883[_0xde747a(0x2e7)][_0xde747a(0x4d1)])??'');try{switch(_0x595e42[_0xde747a(0x1f9)]){case _0xde747a(0x515):return _0x478690===_0x1b48b5;case _0xde747a(0x26b):return _0x478690!==_0x1b48b5;case _0xde747a(0x6eb):return this[_0xde747a(0x6eb)](_0x478690,_0x1b48b5);case _0xde747a(0x38c):return!this[_0xde747a(0x6eb)](_0x478690,_0x1b48b5);case _0xde747a(0x119):return parseFloat(_0x478690)>parseFloat(_0x1b48b5);case _0xde747a(0x144):return parseFloat(_0x478690)<parseFloat(_0x1b48b5);case _0xde747a(0x436):return _0x478690!=='';case _0xde747a(0x241):return _0x478690==='';case _0xde747a(0x52f):return new RegExp(_0x1b48b5)[_0xde747a(0x12c)](_0x478690);case _0xde747a(0x29c):return!new RegExp(_0x1b48b5)[_0xde747a(0x12c)](_0x478690);default:return!0x1;}}catch(_0x2ec651){return console[_0xde747a(0x370)](_0xde747a(0x544)+_0x2ec651),!0x1;}}['contains'](_0x2450a3,_0x57f6a1){const _0x782ae2=a0_0x36f96e;if(_0x2450a3===_0x57f6a1&&/^\d+$/[_0x782ae2(0x12c)](_0x2450a3))return!0x0;if(this[_0x782ae2(0x4d6)](_0x2450a3)&&/^\d+$/[_0x782ae2(0x12c)](_0x57f6a1)){let _0x163c80=_0x2450a3[_0x782ae2(0x71a)](',')['map'](_0x401e17=>parseInt(_0x401e17[_0x782ae2(0x540)]())),_0x15016a=parseInt(_0x57f6a1);return _0x163c80[_0x782ae2(0x4ba)](_0x15016a);}return _0x2450a3[_0x782ae2(0x4ba)](_0x57f6a1);}[a0_0x36f96e(0x4d6)](_0x11ee90){return/^\d+(,\d+)*$/['test'](_0x11ee90);}['processConditionsTest'](_0x27e9d6){const _0x406702=a0_0x36f96e;let _0x2aa0a1=!0x0,_0x527607=null;for(let _0x4519dd of _0x27e9d6){let _0x2f35b0=this[_0x406702(0x646)](_0x4519dd);if(_0x527607==='or'&&_0x2f35b0){_0x2aa0a1=!0x0;break;}if(_0x527607===_0x406702(0x7a8)&&!_0x2f35b0){_0x2aa0a1=!0x1;break;}_0x527607=_0x4519dd[_0x406702(0x58b)];}return _0x2aa0a1;}[a0_0x36f96e(0x646)](_0x4de268){const _0x9cd6cd=a0_0x36f96e;let _0x29389d=_0x4de268['firstValue'],_0x3b0c5b=_0x4de268[_0x9cd6cd(0x7da)];try{switch(_0x4de268[_0x9cd6cd(0x1f9)]){case'equal':return String(_0x29389d)===String(_0x3b0c5b);case'notEqual':return String(_0x29389d)!==String(_0x3b0c5b);case _0x9cd6cd(0x6eb):return String(_0x29389d)[_0x9cd6cd(0x4ba)](String(_0x3b0c5b));case _0x9cd6cd(0x38c):return!String(_0x29389d)[_0x9cd6cd(0x4ba)](String(_0x3b0c5b));case _0x9cd6cd(0x119):return parseFloat(String(_0x29389d))>parseFloat(String(_0x3b0c5b));case _0x9cd6cd(0x144):return parseFloat(String(_0x29389d))<parseFloat(String(_0x3b0c5b));case _0x9cd6cd(0x436):return String(_0x29389d)!=='';case'empty':return String(_0x29389d)==='';case _0x9cd6cd(0x52f):return new RegExp(String(_0x3b0c5b))['test'](String(_0x29389d));case _0x9cd6cd(0x29c):return!new RegExp(String(_0x3b0c5b))[_0x9cd6cd(0x12c)](String(_0x29389d));default:return!0x1;}}catch(_0x195c8f){return console[_0x9cd6cd(0x370)](_0x9cd6cd(0x544)+_0x195c8f),!0x1;}}async[a0_0x36f96e(0x626)](_0x350912,_0x26a458){const _0x43855d=a0_0x36f96e;if(this[_0x43855d(0x42c)][_0x43855d(0x3a8)](this[_0x43855d(0x7b7)]+'\x20('+this['instance'][_0x43855d(0x777)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x350912||!_0x26a458)return this[_0x43855d(0x42c)][_0x43855d(0x370)](this[_0x43855d(0x7b7)]+'\x20('+this[_0x43855d(0x582)]['wuid']+_0x43855d(0x184)),null;let _0x2151bb=_0x350912[_0x43855d(0x2e7)][_0x43855d(0x579)][_0x43855d(0x2f3)]['id'];this['logger'][_0x43855d(0x3a8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x43855d(0x4b0)+_0x2151bb);let _0x2b8a7f={'key':{'id':_0x2151bb}},_0x355f2d=_0x26a458['saveVariable'];_0x350912[_0x43855d(0x2e7)]['realVariables']['_'+_0x355f2d+_0x43855d(0x1eb)]=null,_0x350912['chatLog'][_0x43855d(0x4d1)]['_'+_0x355f2d+_0x43855d(0x631)]=null,_0x350912[_0x43855d(0x2e7)][_0x43855d(0x4d1)]['_'+_0x355f2d+_0x43855d(0x468)]=null,_0x350912['chatLog'][_0x43855d(0x4d1)]['_'+_0x355f2d+'.type']=_0x350912[_0x43855d(0x2e7)][_0x43855d(0x579)][_0x43855d(0x2aa)];try{let _0x584d45=await this[_0x43855d(0x602)](_0x2b8a7f);this['logger'][_0x43855d(0x3a8)](this['instanceName']+'\x20('+this[_0x43855d(0x582)][_0x43855d(0x777)]+_0x43855d(0x52c)),_0x350912['chatLog']['realVariables']['_'+_0x355f2d+_0x43855d(0x769)]=_0x584d45[_0x43855d(0x640)],_0x350912[_0x43855d(0x2e7)][_0x43855d(0x4d1)]['_'+_0x355f2d+_0x43855d(0x631)]=_0x584d45['mimetype'];let _0xa3ed2f=_0x584d45[_0x43855d(0x807)][_0x43855d(0x404)](/\/(\w+)$/),_0x39cfc4=_0xa3ed2f?_0xa3ed2f[0x1]:null;_0x350912[_0x43855d(0x2e7)]['realVariables']['_'+_0x355f2d+_0x43855d(0x468)]=_0x39cfc4,this[_0x43855d(0x42c)][_0x43855d(0x3a8)](this[_0x43855d(0x7b7)]+'\x20('+this[_0x43855d(0x582)][_0x43855d(0x777)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x355f2d+'\x27.');}catch(_0xf73282){this[_0x43855d(0x42c)][_0x43855d(0x370)](this[_0x43855d(0x7b7)]+'\x20('+this[_0x43855d(0x582)][_0x43855d(0x777)]+_0x43855d(0x48e)+_0xf73282);}let _0x3c4f41=_0x350912[_0x43855d(0x2e7)][_0x43855d(0x579)]['text']||_0x350912[_0x43855d(0x2e7)]['lastReceivedMessage'][_0x43855d(0x5d4)]||_0x350912['chatLog']['lastReceivedMessage'][_0x43855d(0x740)];try{_0x350912[_0x43855d(0x2e7)][_0x43855d(0x4d1)]||(_0x350912['chatLog']['realVariables']={});let _0x2c9fd0=_0x350912[_0x43855d(0x2e7)]['realVariables'][_0x355f2d];_0x350912[_0x43855d(0x2e7)][_0x43855d(0x4d1)][_0x355f2d]=_0x3c4f41;let _0x3b17bf={'variable':_0x355f2d,'oldValue':_0x2c9fd0,'newValue':_0x3c4f41};this['updateConversation'](_0x350912,_0x26a458,_0x3b17bf),this['logger'][_0x43855d(0x3a8)](this['instanceName']+'\x20('+this[_0x43855d(0x582)]['wuid']+_0x43855d(0x75c));}catch(_0xbd29a2){let _0x117e9e={'error':!0x0,'errorLog':_0xbd29a2[_0x43855d(0x2ee)]()};return this[_0x43855d(0x715)](_0x350912,_0x26a458,_0x117e9e),this[_0x43855d(0x42c)][_0x43855d(0x370)](this['instanceName']+'\x20('+this[_0x43855d(0x582)][_0x43855d(0x777)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0xbd29a2 instanceof Error?_0xbd29a2['message']:JSON[_0x43855d(0x751)](_0xbd29a2,null,0x2))),null;}}async[a0_0x36f96e(0x7fc)](_0x44d40f,_0x548443){const _0x29d93a=a0_0x36f96e;if(this[_0x29d93a(0x42c)][_0x29d93a(0x3a8)](this['instanceName']+'\x20('+this[_0x29d93a(0x582)]['wuid']+_0x29d93a(0x124)),!_0x44d40f||!_0x548443)return this[_0x29d93a(0x42c)]['error'](this[_0x29d93a(0x7b7)]+'\x20('+this[_0x29d93a(0x582)][_0x29d93a(0x777)]+_0x29d93a(0x184)),null;let _0x42f5a9=Date[_0x29d93a(0x31b)](),_0x306f24=parseInt(_0x548443[_0x29d93a(0x70c)],0xa);if(isNaN(_0x306f24))return this['logger']['error'](this['instanceName']+'\x20('+this[_0x29d93a(0x582)]['wuid']+_0x29d93a(0x296)),null;let _0x4cda8e={'newStoppedUntil':_0x42f5a9+_0x306f24*0x3c*0x3e8};return await this[_0x29d93a(0x715)](_0x44d40f,_0x548443,_0x4cda8e,!0x0),null;}async[a0_0x36f96e(0x111)](_0x496e9d,_0x46e25f){const _0x17534b=a0_0x36f96e;try{switch(_0x46e25f['uazapi'][_0x17534b(0x411)]){case _0x17534b(0x347):await this[_0x17534b(0x4d7)](_0x496e9d,_0x46e25f);break;case _0x17534b(0x240):await this['uazapiSendMedia'](_0x496e9d,_0x46e25f);break;case _0x17534b(0x543):await this[_0x17534b(0x7be)](_0x496e9d,_0x46e25f);break;case _0x17534b(0x639):await this[_0x17534b(0x568)](_0x496e9d,_0x46e25f);break;case _0x17534b(0x74e):await this[_0x17534b(0x371)](_0x496e9d,_0x46e25f);break;case'sendPoll':await this[_0x17534b(0x55c)](_0x496e9d,_0x46e25f);break;case _0x17534b(0x6e4):await this[_0x17534b(0x55c)](_0x496e9d,_0x46e25f);break;case _0x17534b(0x712):await this[_0x17534b(0x3cc)](_0x496e9d,_0x46e25f);break;default:this[_0x17534b(0x42c)][_0x17534b(0x370)](this[_0x17534b(0x7b7)]+'\x20('+this['instance']['wuid']+_0x17534b(0x69a)+_0x46e25f[_0x17534b(0x1a9)][_0x17534b(0x411)]);}}catch(_0x4f37e2){this['logger'][_0x17534b(0x370)](this['instanceName']+'\x20('+this['instance'][_0x17534b(0x777)]+_0x17534b(0x5d3)+(_0x4f37e2 instanceof Error?_0x4f37e2['message']:JSON['stringify'](_0x4f37e2,null,0x2)));}}async['updateConversation'](_0x9e49e7,_0x39293b,_0x3c89bf,_0x2245cb=!0x1,_0x2e7ccb=!0x1){const _0x80f202=a0_0x36f96e;_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x39e)]||(_0x9e49e7[_0x80f202(0x2e7)]['blockLogs']=[]);let _0x1894e8=(_0x9e49e7[_0x80f202(0x2e7)]['blockLogs']?.[_0x80f202(0x5ed)]??0x0)+0x1,_0x161248=_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x39e)][_0x80f202(0x713)](_0x342c53=>String(_0x342c53['blockId'])===String(_0x39293b['_id']))[_0x80f202(0x5ed)]+0x1,_0x5d9b2c=_0x3c89bf?.[_0x80f202(0x504)]??Date['now'](),_0x50aba6=_0x3c89bf?.[_0x80f202(0x370)]?_0x3c89bf[_0x80f202(0x53d)]??_0x3c89bf[_0x80f202(0x370)]['toString']():void 0x0,_0x3b5b76={'onTime':_0x5d9b2c,'blockId':_0x39293b['_id'],'order':_0x1894e8,'activatedCount':_0x161248,'error':_0x3c89bf?.[_0x80f202(0x370)]??!0x1,'messageId':_0x3c89bf?.[_0x80f202(0x5e7)],'apiResponse':_0x3c89bf?.[_0x80f202(0x41e)],'apiResponseString':_0x3c89bf?.['apiResponse']?JSON[_0x80f202(0x751)](_0x3c89bf?.['apiResponse']):void 0x0,'variable':_0x3c89bf?.[_0x80f202(0x4eb)],'oldValue':_0x3c89bf?.[_0x80f202(0x69d)],'newValue':_0x3c89bf?.[_0x80f202(0x7d2)],'newStoppedUntil':_0x3c89bf?.[_0x80f202(0x687)],'moreLogs':_0x3c89bf?.['moreLogs'],'errorLog':_0x50aba6};if(_0x3c89bf['moreLogs']&&_0x3c89bf[_0x80f202(0x709)][_0x80f202(0x5ed)]>0x0){let _0x55a1c1=_0x3c89bf[_0x80f202(0x709)][_0x80f202(0x25f)](_0x537750=>this[_0x80f202(0x472)](_0x537750,_0x9e49e7[_0x80f202(0x2e7)]['realVariables']));_0x3b5b76[_0x80f202(0x709)]=_0x55a1c1;}if(_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x4d1)]||(_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x4d1)]={}),_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x4d1)][_0x80f202(0x734)]=String(_0x161248),_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x4d1)][_0x80f202(0x7fe)]=String(_0x3c89bf[_0x80f202(0x370)]??!0x1),_0x9e49e7[_0x80f202(0x2e7)]['blockLogs'][_0x80f202(0x334)](_0x3b5b76),_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x4d1)][_0x80f202(0x5e3)]&&_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x4d1)][_0x80f202(0x5e3)]!==_0x9e49e7['remoteJid']){let _0x11823f=(await this[_0x80f202(0x4a1)]({'numbers':[_0x9e49e7[_0x80f202(0x2e7)]['realVariables'][_0x80f202(0x5e3)]]}))[0x0]['jid'];_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x4d1)]['telefone']=_0x11823f,_0x9e49e7[_0x80f202(0x71c)]=_0x11823f;try{let _0x210baf={'_id':{'$ne':_0x9e49e7[_0x80f202(0x183)]},'remoteJid':_0x11823f,'status':_0x80f202(0x707)},_0x8d1ebd={'status':_0x80f202(0x62c)};await this['repository'][_0x80f202(0x42e)][_0x80f202(0x26d)](_0x210baf,_0x8d1ebd,this[_0x80f202(0x582)]['wuid']),this[_0x80f202(0x42c)][_0x80f202(0x3a8)](this['instanceName']+'\x20('+this[_0x80f202(0x582)]['wuid']+_0x80f202(0x3f7));}catch(_0xcaeb18){this[_0x80f202(0x42c)][_0x80f202(0x370)](this[_0x80f202(0x7b7)]+'\x20('+this[_0x80f202(0x582)]['wuid']+_0x80f202(0x558)+_0xcaeb18[_0x80f202(0x641)]);}try{let _0x59f73b=_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x4d1)],_0x1a8030=await this[_0x80f202(0x489)](_0x11823f),_0x36ab12={..._0x59f73b,..._0x1a8030,'_remoteJid':_0x11823f};_0x9e49e7[_0x80f202(0x2e7)]['realVariables']=_0x36ab12;}catch(_0x374fac){this[_0x80f202(0x42c)][_0x80f202(0x370)](this[_0x80f202(0x7b7)]+'\x20('+this[_0x80f202(0x582)][_0x80f202(0x777)]+_0x80f202(0x2fb)+_0x374fac['message']);}}_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x3c2)]=_0x39293b[_0x80f202(0x183)][_0x80f202(0x2ee)](),_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x4fc)]&&(_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x4fc)]=_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x4fc)]),_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x579)]&&(_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x579)]=_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x579)]),_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x566)]&&(_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x566)]=_0x9e49e7[_0x80f202(0x2e7)][_0x80f202(0x566)]),_0x2e7ccb&&(_0x9e49e7[_0x80f202(0x193)]='closed'),_0x2245cb?this[_0x80f202(0x1ad)](_0x9e49e7):this[_0x80f202(0x319)](_0x9e49e7,_0x39293b);}[a0_0x36f96e(0x472)](_0x4d0ba3,_0xefb1dc){const _0x196ad5=a0_0x36f96e;return _0x4d0ba3['replace'](/\{\{([^}]+)\}\}/g,(_0x4cee57,_0x5dd3eb)=>_0xefb1dc[_0x5dd3eb]?'{{'+_0x5dd3eb+_0x196ad5(0x1cb)+_0xefb1dc[_0x5dd3eb]+'\x22':'{{'+_0x5dd3eb+_0x196ad5(0x4cd));}async[a0_0x36f96e(0x1ad)](_0x14201a){const _0x13599c=a0_0x36f96e;try{let _0xde1f4c=Object[_0x13599c(0x1ee)](_0x14201a[_0x13599c(0x2e7)][_0x13599c(0x4d1)])[_0x13599c(0x25f)](([_0x387fae,_0x3bb03a])=>({'name':_0x387fae,'value':_0x3bb03a})),_0x13eca3={'status':_0x14201a[_0x13599c(0x193)],'remoteJid':_0x14201a[_0x13599c(0x71c)],'blocks':_0x14201a[_0x13599c(0x5b3)],'waitingMenu_id':_0x14201a['waitingMenu_id'],'waitingMenu_text':_0x14201a['waitingMenu_text'],'waitingMenu_replyOptions':_0x14201a['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x14201a['chatLog'][_0x13599c(0x3c2)],'lastSendMessage':_0x14201a['chatLog'][_0x13599c(0x4fc)],'lastReceivedMessage':_0x14201a[_0x13599c(0x2e7)][_0x13599c(0x579)],'lastCondition':_0x14201a[_0x13599c(0x2e7)][_0x13599c(0x566)],'chatVariables':_0xde1f4c,'realVariables':_0x14201a[_0x13599c(0x2e7)][_0x13599c(0x4d1)],'blockLogs':_0x14201a['chatLog']['blockLogs']}},_0x535ee0=await this[_0x13599c(0x1b7)]['flowConversation'][_0x13599c(0x4ec)](_0x14201a[_0x13599c(0x183)],_0x13eca3,this[_0x13599c(0x582)]['wuid']);if(_0x535ee0){this['logger'][_0x13599c(0x3a8)](this[_0x13599c(0x7b7)]+'\x20('+this[_0x13599c(0x582)][_0x13599c(0x777)]+_0x13599c(0x1ea)+_0x535ee0['_id']);try{let _0x28fe5b=['nome','nomecompleto','email','cpf','status',_0x13599c(0x419),'responsavelid',_0x13599c(0x10a),_0x13599c(0x4c7),_0x13599c(0x281)];if(!this[_0x13599c(0x169)]&&(await this['getAutomateSystem'](),!this[_0x13599c(0x169)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x51f759=this[_0x13599c(0x169)]?.['customFields'][_0x13599c(0x25f)](_0x12b303=>_0x12b303[_0x13599c(0x79c)]),_0x5f1af5={};Object[_0x13599c(0x1ee)](_0x14201a[_0x13599c(0x2e7)]['realVariables'])[_0x13599c(0x1f3)](([_0x5c088f,_0x265579])=>{const _0x10fdbd=_0x13599c;_0x28fe5b[_0x10fdbd(0x4ba)](_0x5c088f)&&(_0x5c088f===_0x10fdbd(0x10a)&&typeof _0x265579==_0x10fdbd(0x18f)?_0x5f1af5[_0x5c088f]=_0x265579[_0x10fdbd(0x71a)](',')[_0x10fdbd(0x25f)](_0x5a0fe1=>_0x5a0fe1[_0x10fdbd(0x540)]())['filter'](_0x518600=>_0x518600!==''):_0x5c088f===_0x10fdbd(0x4c7)&&typeof _0x265579==_0x10fdbd(0x18f)?_0x5f1af5[_0x5c088f]=_0x265579['split'](',')[_0x10fdbd(0x25f)](_0x2f03bd=>_0x2f03bd[_0x10fdbd(0x540)]())[_0x10fdbd(0x713)](_0x3906e9=>_0x3906e9!==''):_0x5f1af5[_0x5c088f]=_0x265579);});let _0x3bd1d8=_0x14201a['chatLog']['blockLogs'][_0x14201a[_0x13599c(0x2e7)]['blockLogs'][_0x13599c(0x5ed)]-0x1];if(_0x3bd1d8){let _0x4d00d1=_0x3bd1d8[_0x13599c(0x687)];_0x4d00d1!==void 0x0&&(_0x5f1af5[_0x13599c(0x3dc)]=_0x4d00d1['toString']());}let _0x251ac1=_0xde1f4c[_0x13599c(0x713)](_0x285ee3=>_0x51f759[_0x13599c(0x4ba)](_0x285ee3['name']));this['logger'][_0x13599c(0x3a8)](this['instanceName']+'\x20('+this[_0x13599c(0x582)]['wuid']+_0x13599c(0x11f)),this[_0x13599c(0x42c)]['verbose'](_0x5f1af5),this[_0x13599c(0x42c)][_0x13599c(0x3a8)](this[_0x13599c(0x7b7)]+'\x20('+this[_0x13599c(0x582)]['wuid']+'):\x20customFieldVariables'),this[_0x13599c(0x42c)]['verbose'](_0x251ac1);let _0x480861=_0x251ac1[_0x13599c(0x25f)](_0x2b698f=>{const _0x5b3c4b=_0x13599c;let _0x32223f=this[_0x5b3c4b(0x169)]?.[_0x5b3c4b(0x3d8)][_0x5b3c4b(0x6a2)](_0x3cf4e1=>_0x3cf4e1[_0x5b3c4b(0x79c)]===_0x2b698f[_0x5b3c4b(0x79c)]);if(!_0x32223f)throw new Error(_0x5b3c4b(0x560)+_0x2b698f[_0x5b3c4b(0x79c)]);return{'_id':_0x32223f[_0x5b3c4b(0x183)],'value':_0x2b698f[_0x5b3c4b(0x7b2)]};});this[_0x13599c(0x42c)][_0x13599c(0x3a8)](this[_0x13599c(0x7b7)]+'\x20('+this['instance']['wuid']+'):\x20transformedCustomFieldVariables'),this['logger'][_0x13599c(0x3a8)](_0x480861),await this[_0x13599c(0x2be)](_0x14201a['remoteJid'],_0x5f1af5,_0x480861);}catch(_0x392b41){this[_0x13599c(0x42c)][_0x13599c(0x370)](this['instanceName']+'\x20('+this[_0x13599c(0x582)]['wuid']+_0x13599c(0x1be)+(_0x392b41 instanceof Error?_0x392b41[_0x13599c(0x641)]:JSON[_0x13599c(0x751)](_0x392b41,null,0x2)));}}else this[_0x13599c(0x42c)][_0x13599c(0x370)](this[_0x13599c(0x7b7)]+'\x20('+this['instance'][_0x13599c(0x777)]+_0x13599c(0x67b));}catch(_0x4da623){this['logger'][_0x13599c(0x370)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x13599c(0x7dc)+(_0x4da623 instanceof Error?_0x4da623[_0x13599c(0x641)]:JSON[_0x13599c(0x751)](_0x4da623,null,0x2)));}}async[a0_0x36f96e(0x2be)](_0x194094,_0x1ef46a,_0x4a41a0){const _0x3f4225=a0_0x36f96e;try{let _0x3a4bfb={'leadInfo.leadnome':_0x1ef46a[_0x3f4225(0x76e)],'leadInfo.nomecompleto':_0x1ef46a[_0x3f4225(0x323)],'leadInfo.email':_0x1ef46a[_0x3f4225(0x2b8)],'leadInfo.cpf':_0x1ef46a[_0x3f4225(0x565)],'leadInfo.status':_0x1ef46a['status'],'leadInfo.notas':_0x1ef46a['notas'],'leadInfo.responsavelid':_0x1ef46a[_0x3f4225(0x129)],'leadInfo.tags':_0x1ef46a[_0x3f4225(0x10a)],'leadInfo.etiquetas':_0x1ef46a[_0x3f4225(0x4c7)],'leadInfo.customFields':_0x4a41a0,'leadInfo.atendimentoAberto':_0x1ef46a[_0x3f4225(0x281)]},_0x47556c=await this['repository'][_0x3f4225(0x550)][_0x3f4225(0x49a)]({'where':{'_id':_0x194094}},this[_0x3f4225(0x582)][_0x3f4225(0x777)]);if(!_0x47556c)return _0x3f4225(0x819);let _0x117e6e=new Set(_0x47556c[_0x3f4225(0x818)]['etiquetas']||[]),_0x2bdc30=new Set(_0x1ef46a[_0x3f4225(0x4c7)]||[]),_0x2f92c4=await this['repository'][_0x3f4225(0x40e)]['find']({'where':{}},this[_0x3f4225(0x582)][_0x3f4225(0x777)]),_0x5af577=new Set(_0x2f92c4[_0x3f4225(0x25f)](_0x44a338=>_0x44a338[_0x3f4225(0x183)])),_0x3cedc2=[..._0x2bdc30][_0x3f4225(0x713)](_0xf72b45=>!_0x117e6e[_0x3f4225(0x122)](_0xf72b45)&&_0x5af577[_0x3f4225(0x122)](_0xf72b45)),_0xc1abea=[..._0x117e6e][_0x3f4225(0x713)](_0x28da12=>!_0x2bdc30[_0x3f4225(0x122)](_0x28da12));for(let _0x3c0cb9 of _0x3cedc2)await this['AddChatLabel'](_0x3c0cb9,_0x47556c[_0x3f4225(0x183)]),_0x117e6e[_0x3f4225(0x35f)](_0x3c0cb9);for(let _0xa28d3a of _0xc1abea)await this[_0x3f4225(0x559)](_0xa28d3a,_0x47556c['_id']),_0x117e6e['delete'](_0xa28d3a);if(_0x3f4225(0x3dc)in _0x1ef46a){let _0x34bd00=_0x1ef46a[_0x3f4225(0x3dc)];_0x3a4bfb[_0x3f4225(0x21f)]=_0x34bd00?Number(_0x34bd00):null;}if(_0x3f4225(0x281)in _0x1ef46a){let _0x11ca4e=_0x1ef46a['atendimentoAberto'][_0x3f4225(0x191)]();_0x3a4bfb['leadInfo.atendimentoAberto']=_0x11ca4e==='true'||_0x11ca4e==='1'||_0x11ca4e===_0x3f4225(0x301)||_0x11ca4e==='sim';}let _0x4a651d=await this[_0x3f4225(0x1b7)][_0x3f4225(0x550)][_0x3f4225(0x4ec)]({'where':{'_id':_0x194094}},_0x3a4bfb,this[_0x3f4225(0x582)]['wuid']);_0x4a651d?(this[_0x3f4225(0x42c)][_0x3f4225(0x3a8)](this[_0x3f4225(0x7b7)]+'\x20('+this['instance']['wuid']+_0x3f4225(0x278)+_0x4a651d[_0x3f4225(0x183)]),U(this[_0x3f4225(0x7b7)],_0x3f4225(0x35d),{'chat':_0x4a651d})):this[_0x3f4225(0x42c)][_0x3f4225(0x370)](this[_0x3f4225(0x7b7)]+'\x20('+this[_0x3f4225(0x582)][_0x3f4225(0x777)]+_0x3f4225(0x81a));}catch(_0x58742e){this[_0x3f4225(0x42c)]['error'](this[_0x3f4225(0x7b7)]+'\x20('+this[_0x3f4225(0x582)][_0x3f4225(0x777)]+_0x3f4225(0x4f2)+(_0x58742e instanceof Error?_0x58742e['message']:JSON['stringify'](_0x58742e,null,0x2)));}}async['updateStopChat'](_0x51d4ac,_0x2094c9){const _0x42366e=a0_0x36f96e;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x42366e(0x582)]['wuid']+_0x42366e(0x188)+_0x2094c9);try{let _0x44a2cf=await this[_0x42366e(0x1b7)]['chat']['updateOne']({'where':{'_id':_0x51d4ac[_0x42366e(0x71c)]}},{'leadInfo.desativadoFluxoAte':_0x2094c9},this[_0x42366e(0x582)]['wuid']);this[_0x42366e(0x42c)][_0x42366e(0x3a8)](this[_0x42366e(0x7b7)]+'\x20('+this[_0x42366e(0x582)][_0x42366e(0x777)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x51d4ac[_0x42366e(0x183)]),this['logger'][_0x42366e(0x3a8)](this[_0x42366e(0x7b7)]+'\x20('+this[_0x42366e(0x582)]['wuid']+_0x42366e(0x188)+JSON['stringify'](_0x44a2cf,null,0x2)),_0x44a2cf&&U(this[_0x42366e(0x7b7)],_0x42366e(0x35d),{'chat':_0x44a2cf});}catch(_0x5b7dcc){this['logger'][_0x42366e(0x370)](this[_0x42366e(0x7b7)]+'\x20('+this[_0x42366e(0x582)][_0x42366e(0x777)]+_0x42366e(0x70b)+(_0x5b7dcc instanceof Error?_0x5b7dcc[_0x42366e(0x641)]:JSON[_0x42366e(0x751)](_0x5b7dcc,null,0x2)));}}async[a0_0x36f96e(0x772)](_0x247388){const _0x1ca090=a0_0x36f96e;try{this[_0x1ca090(0x42c)][_0x1ca090(0x3a8)](this[_0x1ca090(0x7b7)]+'\x20('+this[_0x1ca090(0x582)][_0x1ca090(0x777)]+'):\x20Buscando\x20flow...');let _0x47e7bd=_0x247388['replace'](/\D/g,''),_0x2e072c=await this[_0x1ca090(0x1b7)][_0x1ca090(0x6fb)][_0x1ca090(0x49a)]({'where':{'testingWith':_0x47e7bd}},this['instance']['wuid']);return _0x2e072c||(this[_0x1ca090(0x42c)][_0x1ca090(0x3a8)](this[_0x1ca090(0x7b7)]+'\x20('+this[_0x1ca090(0x582)][_0x1ca090(0x777)]+_0x1ca090(0x51e)),_0x2e072c=await this[_0x1ca090(0x1b7)][_0x1ca090(0x6fb)][_0x1ca090(0x49a)]({'where':{'default':!0x0}},this[_0x1ca090(0x582)][_0x1ca090(0x777)])),_0x2e072c||(this[_0x1ca090(0x42c)][_0x1ca090(0x3a8)](this[_0x1ca090(0x7b7)]+'\x20('+this[_0x1ca090(0x582)][_0x1ca090(0x777)]+_0x1ca090(0x60b)),null);}catch(_0x5aad5d){return this[_0x1ca090(0x42c)][_0x1ca090(0x370)](this[_0x1ca090(0x7b7)]+'\x20('+this[_0x1ca090(0x582)][_0x1ca090(0x777)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x5aad5d instanceof Error?_0x5aad5d[_0x1ca090(0x641)]:JSON[_0x1ca090(0x751)](_0x5aad5d,null,0x2))),null;}}async[a0_0x36f96e(0x108)](_0x3666b7,_0x1d1f2b){const _0x34a0f2=a0_0x36f96e;try{let _0x39d03a=!!_0x1d1f2b[_0x34a0f2(0x740)],_0x93ac45=_0x1d1f2b['quoted'],_0x136599=null;if(this['logger'][_0x34a0f2(0x3a8)](this[_0x34a0f2(0x7b7)]+'\x20('+this[_0x34a0f2(0x582)][_0x34a0f2(0x777)]+_0x34a0f2(0x610)+_0x39d03a+_0x34a0f2(0x3d2)+_0x93ac45),_0x39d03a){this[_0x34a0f2(0x42c)]['verbose'](this['instanceName']+'\x20('+this[_0x34a0f2(0x582)]['wuid']+_0x34a0f2(0x3c0));let _0x18a12={'where':{'remoteJid':_0x3666b7,'waitingMenu_id':_0x93ac45}};if(_0x136599=await this[_0x34a0f2(0x1b7)][_0x34a0f2(0x42e)]['findOne'](_0x18a12,this['instance'][_0x34a0f2(0x777)]),!_0x136599)return this['logger'][_0x34a0f2(0x3a8)](this['instanceName']+'\x20('+this['instance'][_0x34a0f2(0x777)]+_0x34a0f2(0x6e2)),null;let _0x511d41=Date[_0x34a0f2(0x31b)](),_0x3904d1=_0x136599?.[_0x34a0f2(0x7e7)]||0x0,_0x8e4caf=_0x511d41-_0x3904d1*0x3c*0x3e8;if(_0x136599['lastInteraction']<_0x8e4caf){this['logger'][_0x34a0f2(0x3a8)](this['instanceName']+'\x20('+this[_0x34a0f2(0x582)][_0x34a0f2(0x777)]+_0x34a0f2(0x695));let _0xfb1e38={'number':_0x136599[_0x34a0f2(0x71c)],'options':{'delay':0x0},'textMessage':{'text':_0x136599[_0x34a0f2(0x60c)]}};await this[_0x34a0f2(0x7c7)](_0xfb1e38);let _0x155044={'status':_0x34a0f2(0x62c),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository']['flowConversation']['updateOne'](_0x136599[_0x34a0f2(0x183)],_0x155044,this[_0x34a0f2(0x582)][_0x34a0f2(0x777)]),null;}return _0x136599[_0x34a0f2(0x16e)]=Date[_0x34a0f2(0x31b)](),_0x136599[_0x34a0f2(0x2e7)][_0x34a0f2(0x579)]=_0x1d1f2b,_0x136599;}else{this['logger']['verbose'](this[_0x34a0f2(0x7b7)]+'\x20('+this[_0x34a0f2(0x582)][_0x34a0f2(0x777)]+_0x34a0f2(0x325)+this[_0x34a0f2(0x582)]['wuid']+_0x34a0f2(0x4a7)),this[_0x34a0f2(0x42c)][_0x34a0f2(0x3a8)](this[_0x34a0f2(0x7b7)]+'\x20('+this[_0x34a0f2(0x582)]['wuid']+_0x34a0f2(0x44a));let _0xb9391f={'where':{'remoteJid':_0x3666b7,'status':_0x34a0f2(0x707)}};if(_0x136599=await this[_0x34a0f2(0x1b7)][_0x34a0f2(0x42e)][_0x34a0f2(0x49a)](_0xb9391f,this[_0x34a0f2(0x582)][_0x34a0f2(0x777)]),!_0x136599){let _0x236cf9=await this[_0x34a0f2(0x772)](_0x3666b7);if(_0x236cf9&&(_0x136599=await this[_0x34a0f2(0x3e2)](_0x236cf9,_0x1d1f2b[_0x34a0f2(0x2f3)],_0x1d1f2b)),!_0x136599)return null;}let _0xeb83b9=Date[_0x34a0f2(0x31b)](),_0x42c464=_0x136599?.['minutesToClose']||0x0,_0x580a8b=_0xeb83b9-_0x42c464*0x3c*0x3e8;if(this[_0x34a0f2(0x42c)][_0x34a0f2(0x3a8)](this[_0x34a0f2(0x7b7)]+'\x20('+this['instance'][_0x34a0f2(0x777)]+_0x34a0f2(0x368)+_0xeb83b9+_0x34a0f2(0x161)+_0x42c464+_0x34a0f2(0x584)+_0x580a8b),this[_0x34a0f2(0x42c)][_0x34a0f2(0x3a8)](this['instanceName']+'\x20('+this[_0x34a0f2(0x582)]['wuid']+_0x34a0f2(0x3f6)),this['logger'][_0x34a0f2(0x3a8)](this['instanceName']+'\x20('+this[_0x34a0f2(0x582)][_0x34a0f2(0x777)]+_0x34a0f2(0x485)+_0x136599[_0x34a0f2(0x16e)]),this[_0x34a0f2(0x42c)][_0x34a0f2(0x3a8)](this['instanceName']+'\x20('+this['instance'][_0x34a0f2(0x777)]+_0x34a0f2(0x5be)+_0x580a8b),_0x136599[_0x34a0f2(0x16e)]<_0x580a8b){this['logger'][_0x34a0f2(0x3a8)](this[_0x34a0f2(0x7b7)]+'\x20('+this['instance']['wuid']+_0x34a0f2(0x593));let _0x28cbc9=await this['findFlow'](_0x3666b7);if(_0x28cbc9===null)return null;_0x136599&&await this[_0x34a0f2(0x1b7)][_0x34a0f2(0x42e)]['updateOne'](_0x136599[_0x34a0f2(0x183)],{'status':_0x34a0f2(0x62c)},this['instance'][_0x34a0f2(0x777)]),_0x136599=await this[_0x34a0f2(0x3e2)](_0x28cbc9,_0x1d1f2b[_0x34a0f2(0x2f3)],_0x1d1f2b);}return _0x136599['lastInteraction']=_0xeb83b9,_0x136599[_0x34a0f2(0x2e7)]['lastReceivedMessage']=_0x1d1f2b,_0x136599;}}catch(_0x15fcf4){return this['logger'][_0x34a0f2(0x370)](this[_0x34a0f2(0x7b7)]+'\x20('+this[_0x34a0f2(0x582)][_0x34a0f2(0x777)]+_0x34a0f2(0x1fe)+(_0x15fcf4 instanceof Error?_0x15fcf4[_0x34a0f2(0x641)]:JSON[_0x34a0f2(0x751)](_0x15fcf4,null,0x2))),null;}}async[a0_0x36f96e(0x3e2)](_0x4d66c7,_0x12db2b,_0x43c05f){const _0x5ce763=a0_0x36f96e;this['logger'][_0x5ce763(0x3a8)](this[_0x5ce763(0x7b7)]+'\x20('+this[_0x5ce763(0x582)]['wuid']+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x163c7a=require(_0x5ce763(0x57f))[_0x5ce763(0x2bf)],_0x5140d4=Date[_0x5ce763(0x31b)](),_0x36e2c2=_0x5ce763(0x2e2),_0x243d83=_0x12db2b['fromMe']?null:_0x43c05f,_0x3034b3=_0x12db2b[_0x5ce763(0x105)]?_0x43c05f:null,_0x595deb=_0x12db2b[_0x5ce763(0x71c)];await this[_0x5ce763(0x557)](_0x595deb);let _0x33f688={..._0x4d66c7,'chatLog':null},_0x2d1a72=await this[_0x5ce763(0x706)](_0x33f688['variables']),_0x57eb7b=await this[_0x5ce763(0x489)](_0x595deb),_0x453c26={..._0x2d1a72,..._0x57eb7b,'_remoteJid':_0x595deb},_0x523e7e={'lastReceivedMessage':_0x243d83,'lastSendMessage':_0x3034b3,'lastBlockId':_0x36e2c2,'lastCondition':!0x0,'realVariables':_0x453c26};_0x33f688[_0x5ce763(0x2e7)]=_0x523e7e,delete _0x33f688[_0x5ce763(0x183)],_0x33f688[_0x5ce763(0x183)]=new _0x163c7a(),_0x33f688[_0x5ce763(0x16e)]=_0x5140d4,_0x33f688['status']='open',_0x33f688[_0x5ce763(0x71c)]=_0x595deb;let _0x545e11=await this[_0x5ce763(0x1b7)][_0x5ce763(0x42e)]['updateOne'](_0x33f688[_0x5ce763(0x183)],_0x33f688,this['instance'][_0x5ce763(0x777)]);return this['logger'][_0x5ce763(0x3a8)](this['instanceName']+'\x20('+this[_0x5ce763(0x582)]['wuid']+_0x5ce763(0x2b5)),_0x545e11?_0x33f688:null;}catch(_0x1989a9){return this[_0x5ce763(0x42c)][_0x5ce763(0x370)](this[_0x5ce763(0x7b7)]+'\x20('+this['instance'][_0x5ce763(0x777)]+_0x5ce763(0x18c)+(_0x1989a9 instanceof Error?_0x1989a9[_0x5ce763(0x641)]:JSON[_0x5ce763(0x751)](_0x1989a9,null,0x2))),_0x1989a9;}}async[a0_0x36f96e(0x4d7)](_0x16af73,_0x4024c8){const _0x2f9d0b=a0_0x36f96e;let _0x3ba506=_0x16af73[_0x2f9d0b(0x71c)];_0x4024c8[_0x2f9d0b(0x1a9)][_0x2f9d0b(0x71c)]&&_0x4024c8[_0x2f9d0b(0x1a9)]['remoteJid']['trim']()!==''&&(_0x3ba506=_0x4024c8['uazapi'][_0x2f9d0b(0x71c)][_0x2f9d0b(0x540)]()),this[_0x2f9d0b(0x42c)][_0x2f9d0b(0x3a8)](this[_0x2f9d0b(0x7b7)]+'\x20('+this[_0x2f9d0b(0x582)][_0x2f9d0b(0x777)]+_0x2f9d0b(0x52e));let _0x45871d={'number':_0x3ba506,'options':{'delay':_0x4024c8[_0x2f9d0b(0x1a9)][_0x2f9d0b(0x31a)],'linkPreview':_0x4024c8['uazapi']['linkPreview']},'textMessage':{'text':_0x4024c8['uazapi']['text']}};try{let _0x37f5e6=await this[_0x2f9d0b(0x7c7)](_0x45871d);if(_0x37f5e6){let _0x4b9c14={'_id':_0x37f5e6[_0x2f9d0b(0x2f3)]['id'],'_fromMe':_0x37f5e6['key'][_0x2f9d0b(0x105)],'_remoteJid':_0x37f5e6[_0x2f9d0b(0x2f3)][_0x2f9d0b(0x71c)]},_0x469006=(0x0,f[_0x2f9d0b(0x548)])(_0x37f5e6[_0x2f9d0b(0x641)]),_0x4bac3a=(0x0,f['getContentType'])(_0x469006);_0x16af73[_0x2f9d0b(0x2e7)]['lastBlockId']=_0x4024c8[_0x2f9d0b(0x183)][_0x2f9d0b(0x2ee)]();let {message_normalized:_0x1c4e7b}=this[_0x2f9d0b(0x420)](_0x469006,_0x4bac3a,null);_0x16af73[_0x2f9d0b(0x2e7)][_0x2f9d0b(0x4fc)]=await _0x1c4e7b;let _0xd883a={'messageId':_0x37f5e6[_0x2f9d0b(0x2f3)]['id']},_0x2ae11c=_0x16af73[_0x2f9d0b(0x2e7)][_0x2f9d0b(0x4d1)];Object['assign'](_0x2ae11c,_0x4b9c14),_0x16af73[_0x2f9d0b(0x2e7)][_0x2f9d0b(0x4d1)]=_0x2ae11c,this[_0x2f9d0b(0x715)](_0x16af73,_0x4024c8,_0xd883a);}else{let _0x34cd3e={'error':!0x0};this[_0x2f9d0b(0x715)](_0x16af73,_0x4024c8,_0x34cd3e),this['logger']['error'](this[_0x2f9d0b(0x7b7)]+'\x20('+this['instance'][_0x2f9d0b(0x777)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x24cdee){let _0x3b32db={'error':!0x0,'errorLog':_0x24cdee['toString']()};this[_0x2f9d0b(0x715)](_0x16af73,_0x4024c8,_0x3b32db),this[_0x2f9d0b(0x42c)][_0x2f9d0b(0x370)](this[_0x2f9d0b(0x7b7)]+'\x20('+this[_0x2f9d0b(0x582)][_0x2f9d0b(0x777)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x24cdee instanceof Error?_0x24cdee['message']:JSON[_0x2f9d0b(0x751)](_0x24cdee,null,0x2)));}}async[a0_0x36f96e(0x1ff)](_0x391eec,_0x573c1a){const _0x76dbc0=a0_0x36f96e;let _0x4c6273=_0x391eec[_0x76dbc0(0x71c)];_0x573c1a[_0x76dbc0(0x1a9)][_0x76dbc0(0x71c)]&&_0x573c1a['uazapi'][_0x76dbc0(0x71c)][_0x76dbc0(0x540)]()!==''&&(_0x4c6273=_0x573c1a[_0x76dbc0(0x1a9)][_0x76dbc0(0x71c)]['trim']()),this[_0x76dbc0(0x42c)][_0x76dbc0(0x3a8)](this[_0x76dbc0(0x7b7)]+'\x20('+this[_0x76dbc0(0x582)]['wuid']+_0x76dbc0(0x495));let _0x36e893={'number':_0x4c6273,'options':{'delay':_0x573c1a[_0x76dbc0(0x1a9)][_0x76dbc0(0x31a)],'linkPreview':_0x573c1a[_0x76dbc0(0x1a9)][_0x76dbc0(0x815)]},'mediaMessage':{'mediatype':_0x573c1a[_0x76dbc0(0x1a9)][_0x76dbc0(0x6ca)],'caption':_0x573c1a[_0x76dbc0(0x1a9)][_0x76dbc0(0x5d4)],'media':_0x573c1a[_0x76dbc0(0x1a9)][_0x76dbc0(0x6c0)],'fileName':_0x573c1a[_0x76dbc0(0x1a9)][_0x76dbc0(0x128)]}};try{let _0x19699f=await this[_0x76dbc0(0x726)](_0x36e893);if(_0x19699f){let _0xe05382={'_id':_0x19699f[_0x76dbc0(0x2f3)]['id'],'_fromMe':_0x19699f[_0x76dbc0(0x2f3)][_0x76dbc0(0x105)],'_remoteJid':_0x19699f[_0x76dbc0(0x2f3)][_0x76dbc0(0x71c)]},_0x3fe5a2=(0x0,f[_0x76dbc0(0x548)])(_0x19699f[_0x76dbc0(0x641)]),_0x85e1dc=(0x0,f[_0x76dbc0(0x195)])(_0x3fe5a2);_0x391eec[_0x76dbc0(0x2e7)][_0x76dbc0(0x3c2)]=_0x573c1a[_0x76dbc0(0x183)][_0x76dbc0(0x2ee)]();let {message_normalized:_0x550a7e}=this[_0x76dbc0(0x420)](_0x3fe5a2,_0x85e1dc,null);_0x391eec[_0x76dbc0(0x2e7)]['lastSendMessage']=await _0x550a7e;let _0x334a9a={'messageId':_0x19699f['key']['id']},_0x2463d6=_0x391eec[_0x76dbc0(0x2e7)]['realVariables'];Object['assign'](_0x2463d6,_0xe05382),_0x391eec[_0x76dbc0(0x2e7)][_0x76dbc0(0x4d1)]=_0x2463d6,this[_0x76dbc0(0x715)](_0x391eec,_0x573c1a,_0x334a9a);}else{let _0x563bb1={'error':!0x0};this[_0x76dbc0(0x715)](_0x391eec,_0x573c1a,_0x563bb1),this['logger'][_0x76dbc0(0x370)](this[_0x76dbc0(0x7b7)]+'\x20('+this[_0x76dbc0(0x582)][_0x76dbc0(0x777)]+_0x76dbc0(0x356));}}catch(_0x16536f){let _0x5a7d02={'error':!0x0,'errorLog':_0x16536f[_0x76dbc0(0x2ee)]()};this['updateConversation'](_0x391eec,_0x573c1a,_0x5a7d02),this[_0x76dbc0(0x42c)]['error'](this[_0x76dbc0(0x7b7)]+'\x20('+this[_0x76dbc0(0x582)][_0x76dbc0(0x777)]+_0x76dbc0(0x17a)+(_0x16536f instanceof Error?_0x16536f[_0x76dbc0(0x641)]:JSON[_0x76dbc0(0x751)](_0x16536f,null,0x2)));}}async[a0_0x36f96e(0x7be)](_0xd8f528,_0x13425c){const _0x34b92b=a0_0x36f96e;let _0x4143e6=_0xd8f528[_0x34b92b(0x71c)];_0x13425c[_0x34b92b(0x1a9)][_0x34b92b(0x71c)]&&_0x13425c[_0x34b92b(0x1a9)][_0x34b92b(0x71c)][_0x34b92b(0x540)]()!==''&&(_0x4143e6=_0x13425c[_0x34b92b(0x1a9)]['remoteJid']['trim']()),this[_0x34b92b(0x42c)][_0x34b92b(0x3a8)](this[_0x34b92b(0x7b7)]+'\x20('+this[_0x34b92b(0x582)][_0x34b92b(0x777)]+'):\x20Enviando\x20localização');let _0x46715e={'number':_0x4143e6,'options':{'delay':_0x13425c[_0x34b92b(0x1a9)][_0x34b92b(0x31a)]},'locationMessage':{'name':_0x13425c[_0x34b92b(0x1a9)][_0x34b92b(0x79c)],'address':_0x13425c[_0x34b92b(0x1a9)][_0x34b92b(0x3e4)],'latitude':_0x13425c[_0x34b92b(0x1a9)]['latitude'],'longitude':_0x13425c[_0x34b92b(0x1a9)][_0x34b92b(0x2d7)]}};try{let _0x4454d3=await this[_0x34b92b(0x3f4)](_0x46715e);if(_0x4454d3){let _0x32ca38={'_id':_0x4454d3[_0x34b92b(0x2f3)]['id'],'_fromMe':_0x4454d3[_0x34b92b(0x2f3)][_0x34b92b(0x105)],'_remoteJid':_0x4454d3[_0x34b92b(0x2f3)][_0x34b92b(0x71c)]},_0x4eeffe=(0x0,f['normalizeMessageContent'])(_0x4454d3['message']),_0x2ea303=(0x0,f[_0x34b92b(0x195)])(_0x4eeffe);_0xd8f528[_0x34b92b(0x2e7)][_0x34b92b(0x3c2)]=_0x13425c['_id']['toString']();let {message_normalized:_0x50f773}=this['normalizeMessage'](_0x4eeffe,_0x2ea303,null);_0xd8f528['chatLog'][_0x34b92b(0x4fc)]=await _0x50f773;let _0x50e17c={'messageId':_0x4454d3[_0x34b92b(0x2f3)]['id']},_0x3b3209=_0xd8f528['chatLog'][_0x34b92b(0x4d1)];Object['assign'](_0x3b3209,_0x32ca38),_0xd8f528[_0x34b92b(0x2e7)][_0x34b92b(0x4d1)]=_0x3b3209,this[_0x34b92b(0x715)](_0xd8f528,_0x13425c,_0x50e17c);}else{let _0xb21044={'error':!0x0};this[_0x34b92b(0x715)](_0xd8f528,_0x13425c,_0xb21044),this[_0x34b92b(0x42c)][_0x34b92b(0x370)](this[_0x34b92b(0x7b7)]+'\x20('+this[_0x34b92b(0x582)][_0x34b92b(0x777)]+_0x34b92b(0x3f8));}}catch(_0x408ee5){let _0x51ea79={'error':!0x0,'errorLog':_0x408ee5[_0x34b92b(0x2ee)]()};this[_0x34b92b(0x715)](_0xd8f528,_0x13425c,_0x51ea79),this['logger'][_0x34b92b(0x370)](this[_0x34b92b(0x7b7)]+'\x20('+this[_0x34b92b(0x582)][_0x34b92b(0x777)]+_0x34b92b(0x59a)+(_0x408ee5 instanceof Error?_0x408ee5['message']:JSON[_0x34b92b(0x751)](_0x408ee5,null,0x2)));}}async[a0_0x36f96e(0x568)](_0x5bce9e,_0x10308e){const _0x18f0f5=a0_0x36f96e;let _0x463013=_0x5bce9e[_0x18f0f5(0x71c)];_0x10308e[_0x18f0f5(0x1a9)][_0x18f0f5(0x71c)]&&_0x10308e['uazapi'][_0x18f0f5(0x71c)][_0x18f0f5(0x540)]()!==''&&(_0x463013=_0x10308e[_0x18f0f5(0x1a9)]['remoteJid'][_0x18f0f5(0x540)]()),this['logger'][_0x18f0f5(0x3a8)](this[_0x18f0f5(0x7b7)]+'\x20('+this[_0x18f0f5(0x582)][_0x18f0f5(0x777)]+_0x18f0f5(0x15f));let _0x3e8270={'number':_0x463013,'options':{'delay':_0x10308e['uazapi'][_0x18f0f5(0x31a)]},'audioMessage':{'audio':_0x10308e[_0x18f0f5(0x1a9)][_0x18f0f5(0x1d3)]}};try{let _0x14a674=await this[_0x18f0f5(0x1c9)](_0x3e8270);if(_0x14a674){let _0x5d287e={'_id':_0x14a674[_0x18f0f5(0x2f3)]['id'],'_fromMe':_0x14a674[_0x18f0f5(0x2f3)]['fromMe'],'_remoteJid':_0x14a674[_0x18f0f5(0x2f3)][_0x18f0f5(0x71c)]},_0x3c6e20=(0x0,f[_0x18f0f5(0x548)])(_0x14a674[_0x18f0f5(0x641)]),_0x32719b=(0x0,f[_0x18f0f5(0x195)])(_0x3c6e20);_0x5bce9e[_0x18f0f5(0x2e7)][_0x18f0f5(0x3c2)]=_0x10308e[_0x18f0f5(0x183)]['toString']();let {message_normalized:_0x2b6cbe}=this[_0x18f0f5(0x420)](_0x3c6e20,_0x32719b,null);_0x5bce9e[_0x18f0f5(0x2e7)][_0x18f0f5(0x4fc)]=await _0x2b6cbe;let _0x2d8f91={'messageId':_0x14a674['key']['id']},_0xac7d9c=_0x5bce9e[_0x18f0f5(0x2e7)][_0x18f0f5(0x4d1)];Object[_0x18f0f5(0x2fe)](_0xac7d9c,_0x5d287e),_0x5bce9e[_0x18f0f5(0x2e7)]['realVariables']=_0xac7d9c,this['updateConversation'](_0x5bce9e,_0x10308e,_0x2d8f91);}else{let _0x485e6f={'error':!0x0};this[_0x18f0f5(0x715)](_0x5bce9e,_0x10308e,_0x485e6f),this['logger'][_0x18f0f5(0x370)](this[_0x18f0f5(0x7b7)]+'\x20('+this[_0x18f0f5(0x582)][_0x18f0f5(0x777)]+_0x18f0f5(0x305));}}catch(_0x1ab361){let _0xca9fac={'error':!0x0,'errorLog':_0x1ab361[_0x18f0f5(0x2ee)]()};this['updateConversation'](_0x5bce9e,_0x10308e,_0xca9fac),this['logger'][_0x18f0f5(0x370)](this[_0x18f0f5(0x7b7)]+'\x20('+this['instance'][_0x18f0f5(0x777)]+_0x18f0f5(0x55f)+(_0x1ab361 instanceof Error?_0x1ab361['message']:JSON['stringify'](_0x1ab361,null,0x2)));}}async[a0_0x36f96e(0x371)](_0x16f88f,_0xb11021){const _0x7c5d9=a0_0x36f96e;let _0x4f8481=_0x16f88f[_0x7c5d9(0x71c)];_0xb11021['uazapi'][_0x7c5d9(0x71c)]&&_0xb11021['uazapi'][_0x7c5d9(0x71c)]['trim']()!==''&&(_0x4f8481=_0xb11021['uazapi']['remoteJid'][_0x7c5d9(0x540)]()),this[_0x7c5d9(0x42c)]['verbose'](this[_0x7c5d9(0x7b7)]+'\x20('+this[_0x7c5d9(0x582)]['wuid']+'):\x20Enviando\x20contato');let _0x46f739={'number':_0x4f8481,'options':{'delay':_0xb11021[_0x7c5d9(0x1a9)][_0x7c5d9(0x31a)]},'contactMessage':[{'fullName':_0xb11021[_0x7c5d9(0x1a9)]['fullName'],'phoneNumber':_0xb11021[_0x7c5d9(0x1a9)][_0x7c5d9(0x38d)]}]};try{let _0x164ebb=await this[_0x7c5d9(0x2f9)](_0x46f739);if(_0x164ebb){let _0x5855f4={'_id':_0x164ebb[_0x7c5d9(0x2f3)]['id'],'_fromMe':_0x164ebb[_0x7c5d9(0x2f3)][_0x7c5d9(0x105)],'_remoteJid':_0x164ebb[_0x7c5d9(0x2f3)]['remoteJid']},_0x55e185=(0x0,f[_0x7c5d9(0x548)])(_0x164ebb['message']),_0x74efbc=(0x0,f[_0x7c5d9(0x195)])(_0x55e185);_0x16f88f['chatLog']['lastBlockId']=_0xb11021['_id']['toString']();let {message_normalized:_0x90cfb0}=this[_0x7c5d9(0x420)](_0x55e185,_0x74efbc,null);_0x16f88f[_0x7c5d9(0x2e7)]['lastSendMessage']=await _0x90cfb0;let _0xd005f9={'messageId':_0x164ebb[_0x7c5d9(0x2f3)]['id']},_0x1d3729=_0x16f88f[_0x7c5d9(0x2e7)][_0x7c5d9(0x4d1)];Object[_0x7c5d9(0x2fe)](_0x1d3729,_0x5855f4),_0x16f88f[_0x7c5d9(0x2e7)][_0x7c5d9(0x4d1)]=_0x1d3729,this['updateConversation'](_0x16f88f,_0xb11021,_0xd005f9);}else{let _0x3c0c76={'error':!0x0};this[_0x7c5d9(0x715)](_0x16f88f,_0xb11021,_0x3c0c76),this['logger'][_0x7c5d9(0x370)](this[_0x7c5d9(0x7b7)]+'\x20('+this[_0x7c5d9(0x582)][_0x7c5d9(0x777)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x5897d5){let _0x2b75e5={'error':!0x0,'errorLog':_0x5897d5[_0x7c5d9(0x2ee)]()};this[_0x7c5d9(0x715)](_0x16f88f,_0xb11021,_0x2b75e5),this[_0x7c5d9(0x42c)][_0x7c5d9(0x370)](this[_0x7c5d9(0x7b7)]+'\x20('+this[_0x7c5d9(0x582)][_0x7c5d9(0x777)]+_0x7c5d9(0x443)+(_0x5897d5 instanceof Error?_0x5897d5[_0x7c5d9(0x641)]:JSON[_0x7c5d9(0x751)](_0x5897d5,null,0x2)));}}[a0_0x36f96e(0x4c9)](_0x1e7330,_0x236c7f){const _0x2d39ca=a0_0x36f96e;for(let _0x5a9730 of _0x1e7330)_0x5a9730[_0x2d39ca(0x6b1)]&&(_0x5a9730[_0x2d39ca(0x6b1)]=this[_0x2d39ca(0x260)](_0x5a9730[_0x2d39ca(0x6b1)],_0x236c7f)),_0x5a9730[_0x2d39ca(0x314)]&&(_0x5a9730[_0x2d39ca(0x314)]=this[_0x2d39ca(0x260)](_0x5a9730[_0x2d39ca(0x314)],_0x236c7f));}async[a0_0x36f96e(0x55c)](_0x3191eb,_0x475dcf){const _0x34e371=a0_0x36f96e;let _0x274289=_0x3191eb[_0x34e371(0x71c)];_0x475dcf['uazapi']['remoteJid']&&_0x475dcf['uazapi']['remoteJid'][_0x34e371(0x540)]()!==''&&(_0x274289=_0x475dcf[_0x34e371(0x1a9)][_0x34e371(0x71c)][_0x34e371(0x540)]()),this[_0x34e371(0x42c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x34e371(0x777)]+_0x34e371(0x78f));let _0x1a935f=_0x3191eb['replyOptions']['filter'](_0x40543d=>_0x40543d[_0x34e371(0x26c)]===_0x475dcf[_0x34e371(0x183)])[_0x34e371(0x77d)]((_0x4d48a9,_0x4ea4c6)=>_0x4d48a9[_0x34e371(0x2d2)]-_0x4ea4c6[_0x34e371(0x2d2)]);this['replaceVariablesInReplyOptions'](_0x1a935f,_0x3191eb['chatLog'][_0x34e371(0x4d1)]);let _0x2e4d09=_0x1a935f['map'](_0x39769a=>_0x39769a['option']),_0x1d385c={'number':_0x274289,'menuMessage':{'type':_0x475dcf[_0x34e371(0x1a9)][_0x34e371(0x40c)]||_0x34e371(0x257),'text':_0x475dcf[_0x34e371(0x1a9)][_0x34e371(0x562)]||_0x475dcf[_0x34e371(0x1a9)][_0x34e371(0x79c)],'footerText':_0x475dcf[_0x34e371(0x1a9)]['footerText'],'buttonText':_0x475dcf[_0x34e371(0x1a9)]['buttonText'],'selectableCount':0x1,'choices':_0x2e4d09},'options':{'delay':_0x475dcf[_0x34e371(0x1a9)][_0x34e371(0x31a)]}};try{let _0x558fde=await this[_0x34e371(0x246)](_0x1d385c);if(_0x558fde){let _0x3b1903={'_id':_0x558fde[_0x34e371(0x2f3)]['id'],'_fromMe':_0x558fde[_0x34e371(0x2f3)]['fromMe'],'_remoteJid':_0x558fde['key'][_0x34e371(0x71c)]};_0x475dcf['uazapi'][_0x34e371(0x1d2)]===!0x0&&(_0x3191eb['status']='waitingForReplyMenu',this[_0x34e371(0x42c)][_0x34e371(0x3a8)](this[_0x34e371(0x7b7)]+'\x20('+this[_0x34e371(0x582)]['wuid']+_0x34e371(0x6e1)+_0x3191eb['status'])),this[_0x34e371(0x42c)]['verbose'](this[_0x34e371(0x7b7)]+'\x20('+this[_0x34e371(0x582)][_0x34e371(0x777)]+_0x34e371(0x5db)+(_0x475dcf[_0x34e371(0x1a9)]['name']||_0x475dcf[_0x34e371(0x1a9)][_0x34e371(0x562)])),_0x3191eb[_0x34e371(0x262)]=_0x558fde['key']['id'],_0x3191eb['waitingMenu_text']=_0x475dcf[_0x34e371(0x1a9)][_0x34e371(0x79c)]||_0x475dcf['uazapi']['text'],_0x3191eb[_0x34e371(0x5e9)]=_0x1a935f,_0x475dcf[_0x34e371(0x1a9)][_0x34e371(0x525)]&&(_0x3191eb[_0x34e371(0x60c)]=_0x475dcf[_0x34e371(0x1a9)][_0x34e371(0x525)]),this[_0x34e371(0x42c)][_0x34e371(0x3a8)](this[_0x34e371(0x7b7)]+'\x20('+this[_0x34e371(0x582)]['wuid']+_0x34e371(0x607)+_0x3191eb[_0x34e371(0x7f2)]);let _0x3b00c3=(0x0,f['normalizeMessageContent'])(_0x558fde[_0x34e371(0x641)]),_0x59397a=(0x0,f[_0x34e371(0x195)])(_0x3b00c3);_0x3191eb[_0x34e371(0x2e7)][_0x34e371(0x3c2)]=_0x475dcf['_id'][_0x34e371(0x2ee)]();let {message_normalized:_0x42b706}=this[_0x34e371(0x420)](_0x3b00c3,_0x59397a,null);_0x3191eb[_0x34e371(0x2e7)][_0x34e371(0x4fc)]=await _0x42b706;let _0x4e508e={'messageId':_0x558fde['key']['id']},_0x2663f4=_0x3191eb[_0x34e371(0x2e7)]['realVariables'];Object['assign'](_0x2663f4,_0x3b1903),_0x3191eb['chatLog']['realVariables']=_0x2663f4,this[_0x34e371(0x715)](_0x3191eb,_0x475dcf,_0x4e508e);}else{let _0x483264={'error':!0x0};this[_0x34e371(0x715)](_0x3191eb,_0x475dcf,_0x483264),this['logger'][_0x34e371(0x370)](this[_0x34e371(0x7b7)]+'\x20('+this['instance'][_0x34e371(0x777)]+_0x34e371(0x73c));}}catch(_0xc7db9c){let _0x56ebec={'error':!0x0,'errorLog':_0xc7db9c instanceof Error?_0xc7db9c[_0x34e371(0x641)]:JSON['stringify'](_0xc7db9c,null,0x2)};this[_0x34e371(0x715)](_0x3191eb,_0x475dcf,_0x56ebec),this[_0x34e371(0x42c)][_0x34e371(0x370)](this[_0x34e371(0x7b7)]+'\x20('+this['instance'][_0x34e371(0x777)]+_0x34e371(0x288)+(_0xc7db9c instanceof Error?_0xc7db9c['message']:JSON[_0x34e371(0x751)](_0xc7db9c,null,0x2)));}}async[a0_0x36f96e(0x3cc)](_0x426771,_0x38bbac){const _0x4e41fb=a0_0x36f96e;this[_0x4e41fb(0x42c)][_0x4e41fb(0x3a8)](this[_0x4e41fb(0x7b7)]+'\x20('+this[_0x4e41fb(0x582)][_0x4e41fb(0x777)]+_0x4e41fb(0x64f));let _0x177de6=_0x426771[_0x4e41fb(0x2e7)][_0x4e41fb(0x39e)][_0x4e41fb(0x6a2)](_0x5da5ad=>_0x5da5ad[_0x4e41fb(0x26c)][_0x4e41fb(0x2ee)]()===_0x38bbac[_0x4e41fb(0x1a9)]['blockId'][_0x4e41fb(0x2ee)]()),_0x479b4f={'id':_0x177de6[_0x4e41fb(0x5e7)],'remoteJid':_0x177de6[_0x4e41fb(0x71c)],'fromMe':_0x177de6['fromMe']};try{let _0x4086a3=await this[_0x4e41fb(0x712)](_0x479b4f);if(_0x4086a3){let _0x764aa2=(0x0,f[_0x4e41fb(0x548)])(_0x4086a3[_0x4e41fb(0x641)]),_0x15fce0=(0x0,f[_0x4e41fb(0x195)])(_0x764aa2);_0x426771[_0x4e41fb(0x2e7)]['lastBlockId']=_0x38bbac[_0x4e41fb(0x183)][_0x4e41fb(0x2ee)]();let {message_normalized:_0x561841}=this['normalizeMessage'](_0x764aa2,_0x15fce0,null);_0x426771['chatLog'][_0x4e41fb(0x4fc)]=await _0x561841;let _0x57ce3f={};this['updateConversation'](_0x426771,_0x38bbac,_0x57ce3f);}else{let _0xe801c={'error':!0x0};this[_0x4e41fb(0x715)](_0x426771,_0x38bbac,_0xe801c),this[_0x4e41fb(0x42c)][_0x4e41fb(0x370)](this[_0x4e41fb(0x7b7)]+'\x20('+this[_0x4e41fb(0x582)][_0x4e41fb(0x777)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x51a935){let _0x31a7d9={'error':!0x0,'errorLog':_0x51a935 instanceof Error?_0x51a935[_0x4e41fb(0x641)]:JSON[_0x4e41fb(0x751)](_0x51a935,null,0x2)};this[_0x4e41fb(0x715)](_0x426771,_0x38bbac,_0x31a7d9),this[_0x4e41fb(0x42c)][_0x4e41fb(0x370)](this[_0x4e41fb(0x7b7)]+'\x20('+this[_0x4e41fb(0x582)][_0x4e41fb(0x777)]+_0x4e41fb(0x2e0)+(_0x51a935 instanceof Error?_0x51a935[_0x4e41fb(0x641)]:JSON['stringify'](_0x51a935,null,0x2)));}}async[a0_0x36f96e(0x3ec)](_0x5bd6d3,_0x542720){const _0x29d1b2=a0_0x36f96e;if(!_0x5bd6d3[_0x29d1b2(0x79c)])throw new m(_0x29d1b2(0x199));let _0xf6b07a=_0x5bd6d3?.[_0x29d1b2(0x253)]?.[_0x29d1b2(0x540)]()==='true'?_0x29d1b2(0x253):this[_0x29d1b2(0x582)][_0x29d1b2(0x777)],_0x1cbc00=await this['repository'][_0x29d1b2(0x6fb)]['findOne']({'where':{'name':_0x5bd6d3[_0x29d1b2(0x79c)]}},_0xf6b07a);if(_0x542720!==te&&_0x5bd6d3?.[_0x29d1b2(0x253)]===_0x29d1b2(0x778))throw new m(_0x29d1b2(0x118));if(_0x5bd6d3?.[_0x29d1b2(0x253)]!=='true'&&(_0x5bd6d3[_0x29d1b2(0x253)]=_0x29d1b2(0x7d8)),_0x1cbc00)throw new m(_0x29d1b2(0x39b));return _0x29d1b2(0x79c)in _0x5bd6d3&&_0x29d1b2(0x207)in _0x5bd6d3&&_0x29d1b2(0x6ab)in _0x5bd6d3?this[_0x29d1b2(0x147)](_0x5bd6d3[_0x29d1b2(0x6ab)],_0x5bd6d3[_0x29d1b2(0x207)],_0x5bd6d3[_0x29d1b2(0x79c)]):this[_0x29d1b2(0x16b)](_0x5bd6d3);}async[a0_0x36f96e(0x147)](_0x148b30,_0x5b917,_0x24e848){const _0x5c19cb=a0_0x36f96e;try{this[_0x5c19cb(0x42c)][_0x5c19cb(0x3a8)](this[_0x5c19cb(0x7b7)]+'\x20('+this[_0x5c19cb(0x582)]['wuid']+_0x5c19cb(0x41a));let _0x2c9d83=await this['repository'][_0x5c19cb(0x6fb)]['findOne']({'where':{'sharePass':_0x5b917}},_0x148b30);if(!_0x2c9d83)throw new m(_0x5c19cb(0x295));let _0x4a224b={..._0x2c9d83},_0x11ba6c=_0x2c9d83[_0x5c19cb(0x253)]===_0x5c19cb(0x778)?_0x5c19cb(0x253):_0x2c9d83[_0x5c19cb(0x6ab)];return(_0x148b30===_0x5c19cb(0x253)||_0x2c9d83[_0x5c19cb(0x253)]===_0x5c19cb(0x778))&&(_0x4a224b['global']=_0x5c19cb(0x4d0),_0x4a224b[_0x5c19cb(0x6ab)]=_0x5c19cb(0x253)),_0x4a224b[_0x5c19cb(0x23d)]=Array['from'](new Set([..._0x2c9d83[_0x5c19cb(0x23d)]||[],_0x11ba6c,this['instance']['wuid']])),_0x2c9d83[_0x5c19cb(0x23d)]=_0x4a224b[_0x5c19cb(0x23d)],await this[_0x5c19cb(0x1b7)][_0x5c19cb(0x6fb)][_0x5c19cb(0x4ec)](_0x2c9d83['_id'],{'shareOwners':_0x2c9d83[_0x5c19cb(0x23d)]},_0x11ba6c),_0x2c9d83[_0x5c19cb(0x3dd)]===!0x0&&await this[_0x5c19cb(0x1b7)][_0x5c19cb(0x6fb)]['updateMany']({},{'default':!0x1},this['instance']['wuid']),_0x4a224b['owner']=this[_0x5c19cb(0x582)][_0x5c19cb(0x777)],await this['repository'][_0x5c19cb(0x6fb)][_0x5c19cb(0x580)](_0x4a224b,this[_0x5c19cb(0x582)][_0x5c19cb(0x777)]);}catch(_0xadc724){let _0x17077c=_0x5c19cb(0x802),_0x5af838=_0xadc724 instanceof Error?_0xadc724[_0x5c19cb(0x641)]:typeof _0xadc724=='object'?JSON[_0x5c19cb(0x751)](_0xadc724):_0xadc724,_0x32a66f=_0x17077c+':\x20'+_0x5af838;throw this[_0x5c19cb(0x42c)][_0x5c19cb(0x370)](this['instanceName']+'\x20('+this[_0x5c19cb(0x582)][_0x5c19cb(0x777)]+_0x5c19cb(0x325)+_0x32a66f),new m(_0x32a66f);}}async[a0_0x36f96e(0x16b)](_0x5c9621){const _0x48eb24=a0_0x36f96e;try{this['logger'][_0x48eb24(0x3a8)](this['instanceName']+'\x20('+this[_0x48eb24(0x582)]['wuid']+'):\x20Criando\x20fluxo\x20regular...');let _0x2b0f9e=_0x5c9621?.[_0x48eb24(0x253)]===_0x48eb24(0x778)?_0x48eb24(0x253):this[_0x48eb24(0x582)][_0x48eb24(0x777)];delete _0x5c9621[_0x48eb24(0x23d)],delete _0x5c9621[_0x48eb24(0x207)],delete _0x5c9621[_0x48eb24(0x6ab)],_0x5c9621[_0x48eb24(0x3dd)]===!0x0&&await this['repository'][_0x48eb24(0x6fb)][_0x48eb24(0x26d)]({},{'default':!0x1},this['instance']['wuid']);let _0x328a3e=new ie['Types'][(_0x48eb24(0x2bf))](),_0x3eaf8c={'_id':_0x328a3e,'default':!0x0,'title':_0x48eb24(0x79d),'x':0x0,'y':0x0},_0x51070f={'_id':new ie[(_0x48eb24(0x671))][(_0x48eb24(0x2bf))](),'order':0x1,'groupId':_0x328a3e[_0x48eb24(0x2ee)](),'type':_0x48eb24(0x2e2)},_0x4a8ae0={'_id':new ie['Types'][(_0x48eb24(0x2bf))](),'owner':this[_0x48eb24(0x582)]['wuid'],'name':_0x5c9621[_0x48eb24(0x79c)],'groups':[_0x3eaf8c],'blocks':[_0x51070f],..._0x5c9621};return await this[_0x48eb24(0x1b7)]['flow'][_0x48eb24(0x580)](_0x4a8ae0,_0x2b0f9e);}catch(_0x32b907){let _0x4894ae=_0x48eb24(0x801),_0x567424=_0x32b907 instanceof Error?_0x32b907[_0x48eb24(0x641)]:typeof _0x32b907==_0x48eb24(0x3b0)?JSON[_0x48eb24(0x751)](_0x32b907):_0x32b907,_0x440d4c=_0x4894ae+':\x20'+_0x567424;throw this[_0x48eb24(0x42c)][_0x48eb24(0x370)](this['instanceName']+'\x20('+this[_0x48eb24(0x582)][_0x48eb24(0x777)]+_0x48eb24(0x325)+_0x440d4c),new m(_0x440d4c);}}async[a0_0x36f96e(0x7ff)](_0x1da495,_0x91029f){const _0x33d112=a0_0x36f96e;this[_0x33d112(0x42c)][_0x33d112(0x299)](_0x33d112(0x18b));try{let _0x1995d9=await this[_0x33d112(0x1b7)][_0x33d112(0x6fb)][_0x33d112(0x49a)]({'where':{'_id':_0x1da495}},_0x91029f);if(delete _0x1995d9[_0x33d112(0x3dd)],delete _0x1995d9[_0x33d112(0x389)],delete _0x1995d9['testingWith'],delete _0x1995d9['minutesToClose'],delete _0x1995d9[_0x33d112(0x7e9)],_0x1995d9[_0x33d112(0x253)]===_0x33d112(0x778)&&(_0x1995d9[_0x33d112(0x253)]='sync'),_0x1995d9&&_0x1995d9[_0x33d112(0x23d)]){for(let _0x56e49c of _0x1995d9[_0x33d112(0x23d)])if(_0x56e49c!==_0x91029f){let _0x5d4196={..._0x1995d9,'owner':_0x56e49c};await this[_0x33d112(0x1b7)][_0x33d112(0x6fb)][_0x33d112(0x440)](_0x1995d9['_id'],_0x5d4196,_0x56e49c);}}}catch(_0x553cff){this[_0x33d112(0x42c)][_0x33d112(0x370)](_0x33d112(0x14e)+_0x553cff);}}async[a0_0x36f96e(0x268)](_0x456fe0,_0x3b9c5c){const _0x219c30=a0_0x36f96e;try{this[_0x219c30(0x42c)][_0x219c30(0x3a8)](this[_0x219c30(0x7b7)]+'\x20('+this[_0x219c30(0x582)]['wuid']+'):\x20\x27Deletando\x20fluxo,\x20name:\x20'+_0x456fe0['name']+_0x219c30(0x60e)+_0x456fe0[_0x219c30(0x253)]);let _0x23869f=_0x456fe0[_0x219c30(0x253)]==='true'?'global':this[_0x219c30(0x582)][_0x219c30(0x777)],_0x3b591e=await this[_0x219c30(0x1b7)][_0x219c30(0x6fb)][_0x219c30(0x49a)]({'where':{'name':_0x456fe0[_0x219c30(0x79c)]}},_0x23869f);if(!_0x3b591e)throw new m(_0x219c30(0x7f9));if(_0x3b9c5c!==te&&_0x3b591e?.[_0x219c30(0x253)]==='true'&&_0x3b591e?.[_0x219c30(0x6ab)]!==this[_0x219c30(0x582)][_0x219c30(0x777)])throw new m(_0x219c30(0x755));if(_0x3b591e&&_0x3b591e[_0x219c30(0x23d)]&&_0x3b591e[_0x219c30(0x23d)][_0x219c30(0x5ed)]>0x0){for(let _0xba3cd7 of _0x3b591e['shareOwners'])if(_0xba3cd7!==_0x23869f){let _0x206d6f=await this[_0x219c30(0x1b7)][_0x219c30(0x6fb)][_0x219c30(0x49a)]({'where':{'sharePass':_0x3b591e[_0x219c30(0x207)]}},_0xba3cd7);if(_0x206d6f){_0x206d6f['shareOwners']=_0x206d6f[_0x219c30(0x23d)][_0x219c30(0x713)](_0x25e810=>_0x25e810!==_0x3b591e[_0x219c30(0x6ab)]);let _0x55dab4={'shareOwners':_0x206d6f[_0x219c30(0x23d)]};_0x3b591e[_0x219c30(0x253)]==='true'&&(_0x55dab4[_0x219c30(0x253)]=_0x219c30(0x7d8)),await this[_0x219c30(0x1b7)][_0x219c30(0x6fb)][_0x219c30(0x4ec)](_0x206d6f[_0x219c30(0x183)],_0x55dab4,_0xba3cd7);}}}return await this[_0x219c30(0x1b7)]['flow'][_0x219c30(0x13d)]({'where':{'name':_0x456fe0[_0x219c30(0x79c)]}},_0x23869f);}catch(_0x36440d){return this[_0x219c30(0x42c)]['error'](this[_0x219c30(0x7b7)]+'\x20('+this[_0x219c30(0x582)][_0x219c30(0x777)]+_0x219c30(0x1ed)+(_0x36440d instanceof Error?_0x36440d[_0x219c30(0x641)]:JSON[_0x219c30(0x751)](_0x36440d,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x36440d['message']};}}async['getFlow'](_0x2d446c,_0x29e9bd){const _0x3fa9c7=a0_0x36f96e;try{this[_0x3fa9c7(0x42c)]['info'](this[_0x3fa9c7(0x7b7)]+'\x20('+this['instance']['wuid']+'):\x20Buscando\x20flow,\x20name:\x20'+_0x2d446c+_0x3fa9c7(0x163)+_0x29e9bd);let _0x129718=_0x29e9bd?.[_0x3fa9c7(0x540)]()==='true'?_0x3fa9c7(0x253):this[_0x3fa9c7(0x582)][_0x3fa9c7(0x777)],_0x1d47b4=await this[_0x3fa9c7(0x1b7)][_0x3fa9c7(0x6fb)][_0x3fa9c7(0x49a)]({'where':{'name':_0x2d446c}},_0x129718);if(!_0x1d47b4)throw new Error('Flow\x20não\x20encontrado');if(_0x1d47b4[_0x3fa9c7(0x1b6)]||(_0x1d47b4['startID']=(0x0,Ce['v4'])()),!this[_0x3fa9c7(0x169)]&&(await this['getAutomateSystem'](),!this[_0x3fa9c7(0x169)]))return null;let _0x3d3298=this['AutomateSystem']?.[_0x3fa9c7(0x3d8)][_0x3fa9c7(0x25f)](_0x421ea8=>_0x421ea8['name']),_0x426055=['nome',_0x3fa9c7(0x323),_0x3fa9c7(0x2b8),_0x3fa9c7(0x565),'status',_0x3fa9c7(0x419),_0x3fa9c7(0x129),_0x3fa9c7(0x10a),'etiquetas',_0x3fa9c7(0x5e3),_0x3fa9c7(0x281)];_0x1d47b4['variables']=_0x1d47b4[_0x3fa9c7(0x800)][_0x3fa9c7(0x713)](_0x2d79e9=>!(_0x2d79e9[_0x3fa9c7(0x705)]===_0x3fa9c7(0x818)||_0x2d79e9[_0x3fa9c7(0x818)])),_0x426055['forEach'](_0x488b42=>{const _0xb72e72=_0x3fa9c7;_0x1d47b4['variables'][_0xb72e72(0x334)]({'folder':'leadInfo','name':_0x488b42,'value':'','doc':'','leadInfo':!0x0});}),_0x3d3298[_0x3fa9c7(0x1f3)](_0x5c4090=>{const _0x21f331=_0x3fa9c7;let _0x50b79e=_0x1d47b4[_0x21f331(0x800)][_0x21f331(0x6fc)](_0x19ff59=>_0x19ff59[_0x21f331(0x79c)]===_0x5c4090);_0x50b79e===-0x1?_0x1d47b4[_0x21f331(0x800)][_0x21f331(0x334)]({'folder':'leadInfo','name':_0x5c4090,'value':'','doc':'','leadInfo':!0x0}):(_0x1d47b4['variables'][_0x50b79e][_0x21f331(0x705)]='leadInfo',_0x1d47b4['variables'][_0x50b79e][_0x21f331(0x818)]=!0x0);}),_0x1d47b4[_0x3fa9c7(0x5b3)]&&_0x1d47b4['blocks'][_0x3fa9c7(0x5ed)]>0x0&&_0x1d47b4[_0x3fa9c7(0x5b3)][_0x3fa9c7(0x1f3)](_0x875b05=>{const _0x3f9e30=_0x3fa9c7;_0x875b05[_0x3f9e30(0x1ef)]&&_0x875b05['next_groupId']&&_0x875b05[_0x3f9e30(0x1ef)]===_0x875b05[_0x3f9e30(0x586)]&&(_0x875b05['next_groupId']=null);});let _0x47615f=await this['repository'][_0x3fa9c7(0x6fb)][_0x3fa9c7(0x4ec)](_0x1d47b4['_id'],_0x1d47b4,_0x129718);if(!_0x47615f)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x47615f;}catch(_0x1e0932){let _0x50c101='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x4b4ddb=_0x1e0932 instanceof Error?_0x1e0932['message']:typeof _0x1e0932==_0x3fa9c7(0x3b0)?JSON[_0x3fa9c7(0x751)](_0x1e0932):_0x1e0932,_0x4ac574=_0x50c101+':\x20'+_0x4b4ddb;throw this['logger'][_0x3fa9c7(0x370)](this[_0x3fa9c7(0x7b7)]+'\x20('+this[_0x3fa9c7(0x582)]['wuid']+'):\x20'+_0x4ac574),new m(_0x4ac574);}}async[a0_0x36f96e(0x3fa)](){const _0x2e78a2=a0_0x36f96e;try{this['logger'][_0x2e78a2(0x3a8)](this['instanceName']+'\x20('+this[_0x2e78a2(0x582)]['wuid']+_0x2e78a2(0x2cd)),await this[_0x2e78a2(0x1b7)]['flow'][_0x2e78a2(0x678)](this[_0x2e78a2(0x582)][_0x2e78a2(0x777)]);let _0x1e8d63=await this[_0x2e78a2(0x1b7)]['flow'][_0x2e78a2(0x39a)]({'where':{}},this['instance'][_0x2e78a2(0x777)]),_0x92d61e=await this[_0x2e78a2(0x1b7)][_0x2e78a2(0x6fb)][_0x2e78a2(0x39a)]({'where':{}},'global');return _0x1e8d63[_0x2e78a2(0x44b)](_0x92d61e);}catch(_0x353a92){return this[_0x2e78a2(0x42c)][_0x2e78a2(0x370)](this[_0x2e78a2(0x7b7)]+'\x20('+this[_0x2e78a2(0x582)][_0x2e78a2(0x777)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x353a92 instanceof Error?_0x353a92[_0x2e78a2(0x641)]:JSON[_0x2e78a2(0x751)](_0x353a92,null,0x2))),{'message':_0x2e78a2(0x322)+_0x353a92[_0x2e78a2(0x641)]};}}async['editFlow'](_0x573e0d,_0x4ec19a){const _0x187389=a0_0x36f96e;try{this['logger'][_0x187389(0x3a8)](this[_0x187389(0x7b7)]+'\x20('+this[_0x187389(0x582)][_0x187389(0x777)]+'):\x20Alterando\x20fluxo...');let _0x2f7c36=_0x573e0d?.[_0x187389(0x253)]?.[_0x187389(0x540)]()===_0x187389(0x778)?'global':this[_0x187389(0x582)][_0x187389(0x777)],_0x25d368=await this[_0x187389(0x1b7)]['flow'][_0x187389(0x49a)]({'where':{'name':_0x573e0d[_0x187389(0x79c)]}},_0x2f7c36);if(!_0x25d368)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x4ec19a!==te&&_0x25d368?.['global']===_0x187389(0x778)&&_0x25d368?.[_0x187389(0x6ab)]!==this['instance'][_0x187389(0x777)])throw new m(_0x187389(0x2a1));_0x25d368?.[_0x187389(0x253)]===_0x187389(0x4d0)&&(_0x573e0d={'default':_0x573e0d[_0x187389(0x3dd)],'minutesToClose':_0x573e0d['minutesToClose'],'readMessages':_0x573e0d[_0x187389(0x7e9)],'testingWith':_0x573e0d[_0x187389(0x570)],'startCommandWord':_0x573e0d[_0x187389(0x389)]}),_0x573e0d[_0x187389(0x3dd)]===!0x0&&_0x25d368?.[_0x187389(0x253)]!==_0x187389(0x778)&&await this['repository'][_0x187389(0x6fb)][_0x187389(0x26d)]({},{'default':!0x1},_0x2f7c36),delete _0x573e0d[_0x187389(0x23d)],delete _0x573e0d[_0x187389(0x207)],delete _0x573e0d['global'];let _0x8c4351=await this[_0x187389(0x1b7)][_0x187389(0x6fb)]['updateOne'](_0x25d368[_0x187389(0x183)],_0x573e0d,_0x2f7c36);return _0x8c4351&&_0x8c4351[_0x187389(0x23d)]&&_0x8c4351[_0x187389(0x23d)]['length']>0x1&&_0x8c4351['global']!=='sync'&&this[_0x187389(0x7ff)](_0x8c4351[_0x187389(0x183)],_0x2f7c36),_0x8c4351;}catch(_0x47df07){let _0x52d807='Erro\x20ao\x20alterar\x20fluxo',_0x543a77=_0x47df07 instanceof Error?_0x47df07[_0x187389(0x641)]:typeof _0x47df07==_0x187389(0x3b0)?JSON['stringify'](_0x47df07):_0x47df07,_0x2f2e33=_0x52d807+':\x20'+_0x543a77;throw this[_0x187389(0x42c)][_0x187389(0x370)](this[_0x187389(0x7b7)]+'\x20('+this[_0x187389(0x582)]['wuid']+_0x187389(0x325)+_0x2f2e33),new m(_0x2f2e33);}}async['editFlowBlock'](_0x52c029,_0x2824b0){const _0x3c1bed=a0_0x36f96e;try{this[_0x3c1bed(0x42c)]['verbose'](this[_0x3c1bed(0x7b7)]+'\x20('+this[_0x3c1bed(0x582)]['wuid']+_0x3c1bed(0x6bf));let _0x3a5e96=_0x52c029?.['global']?.['trim']()===_0x3c1bed(0x778)?'global':this['instance']['wuid'],_0x2137e0=await this[_0x3c1bed(0x1b7)][_0x3c1bed(0x6fb)][_0x3c1bed(0x49a)]({'where':{'name':_0x52c029[_0x3c1bed(0x79c)]}},_0x3a5e96);if(_0x2137e0||this[_0x3c1bed(0x341)](_0x3c1bed(0x5e8)),_0x2137e0?.['global']===_0x3c1bed(0x4d0))throw new m(_0x3c1bed(0x59f));if(_0x2824b0!==te&&_0x2137e0?.['global']===_0x3c1bed(0x778)&&_0x2137e0?.[_0x3c1bed(0x6ab)]!==this['instance']['wuid'])throw new m(_0x3c1bed(0x2a1));let {block:_0x24d6b7}=_0x52c029;_0x24d6b7?.['copy']?this[_0x3c1bed(0x395)](_0x2137e0,_0x52c029):_0x24d6b7?.[_0x3c1bed(0x2fc)]?this[_0x3c1bed(0x51c)](_0x2137e0,_0x52c029):_0x24d6b7['_id']?await this['updateBlock'](_0x2137e0,_0x52c029):this[_0x3c1bed(0x3a2)](_0x2137e0,_0x52c029);let _0x84dae7=await this['repository'][_0x3c1bed(0x6fb)][_0x3c1bed(0x4ec)](_0x2137e0[_0x3c1bed(0x183)],_0x2137e0,_0x3a5e96);if(_0x84dae7&&_0x84dae7['shareOwners']&&_0x84dae7[_0x3c1bed(0x23d)][_0x3c1bed(0x5ed)]>0x1&&this['synchronizeFlows'](_0x84dae7['_id'],this[_0x3c1bed(0x582)][_0x3c1bed(0x777)]),!_0x84dae7)throw new Error(_0x3c1bed(0x30c));return _0x84dae7;}catch(_0x40f212){this['throwAndLogError'](_0x3c1bed(0x18d)+_0x40f212[_0x3c1bed(0x641)]);}}async['copyBlock'](_0x572ed8,_0x2596b6){const _0x5957b9=a0_0x36f96e;let _0x1d8481=_0x2596b6[_0x5957b9(0x366)][_0x5957b9(0x183)],_0x2c2564=_0x572ed8['blocks'][_0x5957b9(0x6a2)](_0x563f55=>_0x563f55[_0x5957b9(0x183)][_0x5957b9(0x2ee)]()===_0x1d8481);if(!_0x2c2564){this['logger'][_0x5957b9(0x370)](this[_0x5957b9(0x7b7)]+'\x20('+this[_0x5957b9(0x582)]['wuid']+_0x5957b9(0x354)+_0x1d8481+_0x5957b9(0x702));return;}this[_0x5957b9(0x42c)]['verbose'](this['instanceName']+'\x20('+this[_0x5957b9(0x582)]['wuid']+_0x5957b9(0x61d)+JSON[_0x5957b9(0x751)](_0x2c2564));let _0x285b43=JSON[_0x5957b9(0x766)](JSON[_0x5957b9(0x751)](_0x2c2564));_0x285b43[_0x5957b9(0x183)]=new ie[(_0x5957b9(0x3dd))][(_0x5957b9(0x671))][(_0x5957b9(0x2bf))](),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5957b9(0x582)][_0x5957b9(0x777)]+_0x5957b9(0x4e8)+JSON['stringify'](_0x285b43)),_0x572ed8[_0x5957b9(0x5b3)]['push'](_0x285b43),this[_0x5957b9(0x629)](_0x572ed8['blocks'],_0x285b43[_0x5957b9(0x1ef)]);}[a0_0x36f96e(0x341)](_0xed06a0){const _0x7d58ef=a0_0x36f96e;throw this[_0x7d58ef(0x42c)][_0x7d58ef(0x370)](this['instanceName']+'\x20('+this[_0x7d58ef(0x582)][_0x7d58ef(0x777)]+'):\x20'+_0xed06a0),new m(_0xed06a0);}[a0_0x36f96e(0x51c)](_0x210bc4,_0x32c76d){const _0x998972=a0_0x36f96e;let {block:_0x1eec74}=_0x32c76d;if(_0x1eec74['type']==='start'){this[_0x998972(0x341)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x1eec74[_0x998972(0x183)]){this[_0x998972(0x341)](_0x998972(0x208));return;}let _0xaad0b9=_0x210bc4['blocks'][_0x998972(0x6a2)](_0x31a50b=>_0x31a50b[_0x998972(0x183)][_0x998972(0x2ee)]()===_0x32c76d[_0x998972(0x366)]['_id'][_0x998972(0x2ee)]());if(!_0xaad0b9){this['throwAndLogError'](_0x998972(0x42f)+_0x1eec74['_id']+'\x20não\x20encontrado');return;}_0x210bc4[_0x998972(0x5b3)]=_0x210bc4[_0x998972(0x5b3)][_0x998972(0x713)](_0x96d4b9=>_0x96d4b9[_0x998972(0x183)][_0x998972(0x2ee)]()!==_0x32c76d[_0x998972(0x366)][_0x998972(0x183)][_0x998972(0x2ee)]()),_0x210bc4['conditions']=_0x210bc4['conditions'][_0x998972(0x713)](_0x523fe9=>_0x523fe9[_0x998972(0x26c)]!==_0x1eec74['_id'][_0x998972(0x2ee)]()),_0x210bc4[_0x998972(0x6ea)]=_0x210bc4[_0x998972(0x6ea)][_0x998972(0x713)](_0x51b470=>_0x51b470[_0x998972(0x26c)]!==_0x1eec74[_0x998972(0x183)][_0x998972(0x2ee)]()),_0x210bc4[_0x998972(0x43f)]=_0x210bc4[_0x998972(0x43f)][_0x998972(0x713)](_0x1768a8=>_0x1768a8[_0x998972(0x26c)]!==_0x1eec74[_0x998972(0x183)][_0x998972(0x2ee)]()),this[_0x998972(0x629)](_0x210bc4[_0x998972(0x5b3)],_0xaad0b9[_0x998972(0x1ef)]);}async[a0_0x36f96e(0x3c7)](_0xf99d49,_0x3456cd){const _0x249530=a0_0x36f96e;let _0x3b84e0=_0xf99d49[_0x249530(0x5b3)]['findIndex'](_0x36f2b4=>_0x36f2b4[_0x249530(0x183)][_0x249530(0x2ee)]()===_0x3456cd[_0x249530(0x366)]['_id'][_0x249530(0x2ee)]());if(this[_0x249530(0x42c)][_0x249530(0x3a8)](this[_0x249530(0x7b7)]+'\x20('+this['instance'][_0x249530(0x777)]+_0x249530(0x14c)+_0x3b84e0),_0x3b84e0===-0x1){this['logger'][_0x249530(0x3a8)](_0x249530(0x42f)+_0x3456cd[_0x249530(0x366)]['_id']+_0x249530(0x6e5));return;}if(_0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x249530(0x2aa)]===_0x249530(0x2e2)){let _0x4d498d=Object[_0x249530(0x179)](_0x3456cd[_0x249530(0x366)]);if(_0x4d498d[_0x249530(0x5ed)]>0x2||_0x4d498d[_0x249530(0x5ed)]===0x2&&!_0x4d498d['includes'](_0x249530(0x586))){this[_0x249530(0x341)](_0x249530(0x414));return;}}let _0x5d36c5=_0xf99d49['blocks'][_0x3b84e0][_0x249530(0x1ef)];for(let _0x2e5831 in _0x3456cd[_0x249530(0x366)])_0x3456cd[_0x249530(0x366)][_0x249530(0x60f)](_0x2e5831)&&(_0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x2e5831]=_0x3456cd[_0x249530(0x366)][_0x2e5831]);if(this['logger'][_0x249530(0x3a8)](this['instanceName']+'\x20('+this[_0x249530(0x582)][_0x249530(0x777)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x249530(0x751)](_0xf99d49[_0x249530(0x5b3)][_0x3b84e0])),_0xf99d49[_0x249530(0x5b3)][_0x3b84e0]['apirequest']&&'header'in _0xf99d49['blocks'][_0x3b84e0][_0x249530(0x596)]){this[_0x249530(0x42c)][_0x249530(0x3a8)](this[_0x249530(0x7b7)]+'\x20('+this[_0x249530(0x582)][_0x249530(0x777)]+_0x249530(0x5dd));let _0x501185=JSON['stringify'](_0xf99d49['blocks'][_0x3b84e0]['apirequest'][_0x249530(0x44e)],null,0x1);_0x501185[_0x249530(0x5ed)]>0x2&&(_0x501185=_0x501185[_0x249530(0x401)](0x1,_0x501185[_0x249530(0x5ed)]-0x1)['trim']()),_0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x249530(0x596)][_0x249530(0x591)]=_0x501185;}if(_0xf99d49[_0x249530(0x5b3)][_0x3b84e0]['apirequest']&&_0x249530(0x49d)in _0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x249530(0x596)]&&!('bodyString'in _0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x249530(0x596)])){this[_0x249530(0x42c)][_0x249530(0x3a8)](this[_0x249530(0x7b7)]+'\x20('+this[_0x249530(0x582)][_0x249530(0x777)]+_0x249530(0x4e4)),_0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x249530(0x596)][_0x249530(0x42b)]=!0x1;let _0x17812d=JSON[_0x249530(0x751)](_0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x249530(0x596)]['body'],null,0x2);_0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x249530(0x596)][_0x249530(0x141)]=_0x17812d;}if(_0xf99d49['blocks'][_0x3b84e0][_0x249530(0x596)]&&'bodyString'in _0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x249530(0x596)]){_0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x249530(0x596)]['bodyStringErrorParse']=!0x1;let _0x194ac2=_0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x249530(0x596)][_0x249530(0x141)],_0x5a40fa=this[_0x249530(0x655)](_0x194ac2);_0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x249530(0x596)][_0x249530(0x141)]=_0x5a40fa['result'],_0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x249530(0x596)][_0x249530(0x42b)]=_0x5a40fa[_0x249530(0x370)];}let _0x298336=_0xf99d49[_0x249530(0x5b3)][_0x3b84e0][_0x249530(0x1ef)];_0x5d36c5!==_0x298336?(this['reorderBlocks'](_0xf99d49['blocks'],_0x5d36c5),this[_0x249530(0x629)](_0xf99d49['blocks'],_0x298336)):this[_0x249530(0x629)](_0xf99d49[_0x249530(0x5b3)],_0x5d36c5);}[a0_0x36f96e(0x655)](_0x7fd3c3){const _0x1ae394=a0_0x36f96e;let _0x34d79f='\u205f',_0x21292f=!0x1,_0x46750c='';for(let _0x40dfcb=0x0;_0x40dfcb<_0x7fd3c3[_0x1ae394(0x5ed)];_0x40dfcb++){let _0x34889c=_0x7fd3c3[_0x40dfcb];_0x34889c==='\x22'&&(_0x40dfcb===0x0||_0x7fd3c3[_0x40dfcb-0x1]!=='\x5c')&&(_0x21292f=!_0x21292f),!(!_0x21292f&&(_0x34889c==='\x0a'||_0x34889c==='\x20'||_0x34889c===_0x34d79f))&&(_0x46750c+=_0x34889c);}let _0x4649d5={},_0x531342=9876543210.1234,_0x46f9d8=_0x46750c['replace'](/\{\{([^}]+)\}\}/g,_0x56002d=>{let _0x5357e9=_0x56002d,_0x50d007=''+_0x531342;return _0x4649d5[_0x50d007]=_0x5357e9,_0x531342+=0.0001,_0x50d007;}),_0x5a9195='',_0x10ec1=!0x1;try{let _0x379da0=JSON['parse'](_0x46f9d8);_0x5a9195=JSON['stringify'](_0x379da0,null,0x2),_0x5a9195=_0x5a9195[_0x1ae394(0x410)](/\n( +)/g,(_0x4824bb,_0x45c985)=>{const _0x19b915=_0x1ae394;let _0x3609ac=_0x45c985[_0x19b915(0x5ed)];return'\x0a'+_0x34d79f[_0x19b915(0x27b)](_0x3609ac*0x2);}),_0x5a9195=_0x5a9195[_0x1ae394(0x410)](/(\d{10,}\.\d+)/g,_0x46e330=>_0x4649d5[_0x46e330]||_0x46e330);}catch(_0x3b7930){console[_0x1ae394(0x370)](_0x1ae394(0x381),_0x3b7930),_0x5a9195=_0x7fd3c3,_0x10ec1=!0x0;}return{'result':_0x5a9195,'error':_0x10ec1};}[a0_0x36f96e(0x3a2)](_0x34fa44,_0x4f5678){const _0x299b54=a0_0x36f96e;if(_0x4f5678[_0x299b54(0x366)][_0x299b54(0x2aa)]===_0x299b54(0x2e2)){this[_0x299b54(0x341)](_0x299b54(0x24d));return;}if(_0x4f5678[_0x299b54(0x366)][_0x299b54(0x596)]&&_0x299b54(0x44e)in _0x4f5678[_0x299b54(0x366)][_0x299b54(0x596)]){this[_0x299b54(0x42c)][_0x299b54(0x3a8)](this['instanceName']+'\x20('+this[_0x299b54(0x582)][_0x299b54(0x777)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x33f4c4=JSON['stringify'](_0x4f5678[_0x299b54(0x366)]['apirequest']['header'],null,0x1);_0x33f4c4[_0x299b54(0x5ed)]>0x2&&(_0x33f4c4=_0x33f4c4['substring'](0x1,_0x33f4c4[_0x299b54(0x5ed)]-0x1)[_0x299b54(0x540)]()),_0x4f5678[_0x299b54(0x366)][_0x299b54(0x596)][_0x299b54(0x591)]=_0x33f4c4;}_0x4f5678[_0x299b54(0x366)][_0x299b54(0x596)]&&'body'in _0x4f5678[_0x299b54(0x366)][_0x299b54(0x596)]&&(this[_0x299b54(0x42c)][_0x299b54(0x3a8)](this[_0x299b54(0x7b7)]+'\x20('+this[_0x299b54(0x582)][_0x299b54(0x777)]+_0x299b54(0x4e4)),_0x4f5678['block'][_0x299b54(0x596)][_0x299b54(0x141)]=JSON[_0x299b54(0x751)](_0x4f5678[_0x299b54(0x366)][_0x299b54(0x596)]['body'],null,0x1)['trim']()),_0x34fa44[_0x299b54(0x5b3)][_0x299b54(0x334)](_0x4f5678['block']),this[_0x299b54(0x629)](_0x34fa44[_0x299b54(0x5b3)],_0x4f5678['block'][_0x299b54(0x1ef)]);}['reorderBlocks'](_0x26da86,_0x371426){const _0x593c04=a0_0x36f96e;let _0x4e6774=_0x26da86[_0x593c04(0x713)](_0x542491=>_0x542491[_0x593c04(0x1ef)]===_0x371426);_0x4e6774['sort']((_0x544716,_0x585949)=>_0x544716[_0x593c04(0x2d2)]-_0x585949[_0x593c04(0x2d2)]),_0x4e6774[_0x593c04(0x1f3)]((_0xbedcd7,_0x14ed2b)=>_0xbedcd7[_0x593c04(0x2d2)]=_0x14ed2b+0x1);}async[a0_0x36f96e(0x424)](_0x6f3467,_0x20c5c9){const _0x5acf0e=a0_0x36f96e;try{this['logger'][_0x5acf0e(0x3a8)](this['instanceName']+'\x20('+this[_0x5acf0e(0x582)][_0x5acf0e(0x777)]+_0x5acf0e(0x6ac));let _0xf4eb48=_0x6f3467?.[_0x5acf0e(0x253)]['trim']()===_0x5acf0e(0x778)?_0x5acf0e(0x253):this[_0x5acf0e(0x582)][_0x5acf0e(0x777)];if(!_0x6f3467||!_0x6f3467['replyOption']){this[_0x5acf0e(0x341)](_0x5acf0e(0x77b));return;}let _0x27565a=await this[_0x5acf0e(0x1b7)]['flow'][_0x5acf0e(0x49a)]({'where':{'name':_0x6f3467[_0x5acf0e(0x79c)]}},_0xf4eb48);if(_0x27565a||this['throwAndLogError'](_0x5acf0e(0x5e8)),_0x27565a?.['global']===_0x5acf0e(0x4d0))throw new m(_0x5acf0e(0x59f));if(_0x20c5c9!==te&&_0x27565a?.[_0x5acf0e(0x253)]===_0x5acf0e(0x778)&&_0x27565a?.[_0x5acf0e(0x6ab)]!==this[_0x5acf0e(0x582)][_0x5acf0e(0x777)])throw new m(_0x5acf0e(0x2a1));let {replyOption:_0x3ff8be}=_0x6f3467;_0x3ff8be?.[_0x5acf0e(0x2fc)]?(this[_0x5acf0e(0x577)](_0x27565a,_0x6f3467),this[_0x5acf0e(0x645)](_0x27565a[_0x5acf0e(0x43f)],_0x6f3467[_0x5acf0e(0x418)][_0x5acf0e(0x26c)])):_0x3ff8be['_id']?(await this[_0x5acf0e(0x36b)](_0x27565a,_0x6f3467),this[_0x5acf0e(0x645)](_0x27565a[_0x5acf0e(0x43f)],_0x6f3467[_0x5acf0e(0x418)]['blockId'])):(this[_0x5acf0e(0x48b)](_0x27565a,_0x6f3467),this[_0x5acf0e(0x645)](_0x27565a[_0x5acf0e(0x43f)],_0x6f3467[_0x5acf0e(0x418)]['blockId']));let _0x234d09=await this[_0x5acf0e(0x1b7)][_0x5acf0e(0x6fb)][_0x5acf0e(0x4ec)](_0x27565a['_id'],_0x27565a,_0xf4eb48);if(_0x234d09&&_0x234d09[_0x5acf0e(0x23d)]&&_0x234d09[_0x5acf0e(0x23d)]['length']>0x1&&_0x234d09[_0x5acf0e(0x253)]!=='sync'&&this[_0x5acf0e(0x7ff)](_0x234d09['_id'],_0xf4eb48),!_0x234d09)throw new Error(_0x5acf0e(0x30c));return _0x234d09;}catch(_0x3b780a){this[_0x5acf0e(0x341)](_0x5acf0e(0x3ff)+_0x3b780a);}}['reorderReplyOptions'](_0x34116b,_0x9a9d07){const _0x2e25e8=a0_0x36f96e;_0x34116b[_0x2e25e8(0x1f3)](_0x4891ef=>{const _0x1900ee=_0x2e25e8;_0x4891ef['blockId']===_0x9a9d07&&_0x4891ef[_0x1900ee(0x2d2)]===void 0x0&&(_0x4891ef['order']=0x270f);});let _0x5152ad=_0x34116b[_0x2e25e8(0x713)](_0x410b24=>_0x410b24[_0x2e25e8(0x26c)]===_0x9a9d07);_0x5152ad[_0x2e25e8(0x77d)]((_0x14da43,_0x304468)=>_0x14da43[_0x2e25e8(0x2d2)]-_0x304468[_0x2e25e8(0x2d2)]),_0x5152ad[_0x2e25e8(0x1f3)]((_0x2b8a37,_0xc6ce13)=>{_0x2b8a37['order']=_0xc6ce13+0x1;}),_0x34116b[_0x2e25e8(0x1f3)](_0x410d2a=>{const _0x155317=_0x2e25e8;if(_0x410d2a[_0x155317(0x26c)]===_0x9a9d07){let _0x9e77e=_0x5152ad[_0x155317(0x6a2)](_0x7ea1fa=>_0x7ea1fa[_0x155317(0x183)]&&_0x410d2a[_0x155317(0x183)]&&_0x7ea1fa['_id'][_0x155317(0x2ee)]()===_0x410d2a[_0x155317(0x183)][_0x155317(0x2ee)]());_0x9e77e&&(_0x410d2a['order']=_0x9e77e[_0x155317(0x2d2)]);}});}[a0_0x36f96e(0x577)](_0x2b107f,_0x160342){const _0x140777=a0_0x36f96e;let {replyOption:_0x15ef22}=_0x160342;if(!_0x15ef22[_0x140777(0x183)]){this[_0x140777(0x341)](_0x140777(0x6f6));return;}if(!_0x2b107f[_0x140777(0x43f)][_0x140777(0x6a2)](_0xf1bf0b=>_0xf1bf0b[_0x140777(0x183)][_0x140777(0x2ee)]()===_0x160342[_0x140777(0x418)][_0x140777(0x183)][_0x140777(0x2ee)]())){this[_0x140777(0x341)]('ReplyOption\x20com\x20ID\x20'+_0x15ef22[_0x140777(0x183)]+_0x140777(0x7a9));return;}_0x2b107f[_0x140777(0x43f)]=_0x2b107f[_0x140777(0x43f)][_0x140777(0x713)](_0x39b9f8=>_0x39b9f8['_id'][_0x140777(0x2ee)]()!==_0x160342[_0x140777(0x418)]['_id']['toString']());}async[a0_0x36f96e(0x36b)](_0x5efb9f,_0x20fa90){const _0x403ecb=a0_0x36f96e;let _0x5469bd=_0x5efb9f[_0x403ecb(0x43f)][_0x403ecb(0x6fc)](_0x249466=>_0x249466[_0x403ecb(0x183)][_0x403ecb(0x2ee)]()===_0x20fa90[_0x403ecb(0x418)][_0x403ecb(0x183)]['toString']());if(_0x5469bd===-0x1){this['throwAndLogError'](_0x403ecb(0x7ef)+_0x20fa90[_0x403ecb(0x418)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x278076 in _0x20fa90[_0x403ecb(0x418)])_0x20fa90['replyOption'][_0x403ecb(0x60f)](_0x278076)&&(_0x5efb9f[_0x403ecb(0x43f)][_0x5469bd][_0x278076]=_0x20fa90[_0x403ecb(0x418)][_0x278076]);}[a0_0x36f96e(0x48b)](_0x2bda0b,_0x51b1bd){const _0x3446f9=a0_0x36f96e;_0x2bda0b['replyOptions'][_0x3446f9(0x334)](_0x51b1bd[_0x3446f9(0x418)]);}async[a0_0x36f96e(0x293)](_0x3e5950,_0x9c2cc2){const _0x485636=a0_0x36f96e;let _0x1a9e60=_0x3e5950?.[_0x485636(0x253)]['trim']()===_0x485636(0x778)?_0x485636(0x253):this[_0x485636(0x582)][_0x485636(0x777)];this[_0x485636(0x42c)][_0x485636(0x3a8)](this[_0x485636(0x7b7)]+'\x20('+this[_0x485636(0x582)]['wuid']+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20'+_0x1a9e60+_0x485636(0x4c3)+_0x9c2cc2+_0x485636(0x227)+JSON[_0x485636(0x751)](_0x3e5950,null,0x2));try{this[_0x485636(0x42c)][_0x485636(0x3a8)](this[_0x485636(0x7b7)]+'\x20('+this['instance'][_0x485636(0x777)]+_0x485636(0x1b2));let _0x50ba1f=await this[_0x485636(0x1b7)][_0x485636(0x6fb)]['findOne']({'where':{'name':_0x3e5950[_0x485636(0x79c)]}},_0x1a9e60);if(!_0x50ba1f)throw this['logger'][_0x485636(0x3a8)](this[_0x485636(0x7b7)]+'\x20('+this[_0x485636(0x582)]['wuid']+_0x485636(0x710)),new Error('Flow\x20não\x20encontrado');if(_0x50ba1f?.[_0x485636(0x253)]==='sync')throw this[_0x485636(0x42c)]['verbose'](this[_0x485636(0x7b7)]+'\x20('+this[_0x485636(0x582)][_0x485636(0x777)]+_0x485636(0x73d)),new m(_0x485636(0x6c5));if(_0x9c2cc2!==te&&_0x50ba1f?.[_0x485636(0x253)]===_0x485636(0x778)&&_0x50ba1f?.[_0x485636(0x6ab)]!==this[_0x485636(0x582)]['wuid'])throw this[_0x485636(0x42c)][_0x485636(0x3a8)](this[_0x485636(0x7b7)]+'\x20('+this[_0x485636(0x582)][_0x485636(0x777)]+_0x485636(0x3ba)),new m(_0x485636(0x2a1));if(_0x3e5950[_0x485636(0x442)]&&_0x3e5950[_0x485636(0x442)]?.['delete']===!0x0){if(this[_0x485636(0x42c)][_0x485636(0x3a8)](this['instanceName']+'\x20('+this[_0x485636(0x582)][_0x485636(0x777)]+_0x485636(0x64c)),_0x3e5950['group']['default']===!0x0)return{'message':_0x485636(0x464)};if(_0x50ba1f[_0x485636(0x5b3)][_0x485636(0x628)](_0x116da6=>_0x116da6[_0x485636(0x1ef)][_0x485636(0x2ee)]()===_0x3e5950[_0x485636(0x442)][_0x485636(0x183)]))return this[_0x485636(0x42c)]['verbose'](this[_0x485636(0x7b7)]+'\x20('+this[_0x485636(0x582)][_0x485636(0x777)]+_0x485636(0x3f9)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x50ba1f['groups']=_0x50ba1f[_0x485636(0x123)][_0x485636(0x713)](_0x5ca06f=>_0x5ca06f[_0x485636(0x183)][_0x485636(0x2ee)]()!==_0x3e5950[_0x485636(0x442)][_0x485636(0x183)]);}else{if(_0x3e5950[_0x485636(0x442)]){if(_0x3e5950[_0x485636(0x442)][_0x485636(0x3dd)]===!0x0)return{'message':_0x485636(0x601)};if(_0x3e5950[_0x485636(0x442)]['_id']){let _0x2fc5e7=_0x50ba1f[_0x485636(0x123)][_0x485636(0x6a2)](_0x1fa94d=>_0x1fa94d[_0x485636(0x183)][_0x485636(0x2ee)]()===_0x3e5950[_0x485636(0x442)][_0x485636(0x183)]);_0x2fc5e7&&(_0x3e5950[_0x485636(0x442)]['x']<0x0&&(_0x3e5950[_0x485636(0x442)]['x']=0x0),_0x3e5950['group']['y']<0x0&&(_0x3e5950[_0x485636(0x442)]['y']=0x0),Object[_0x485636(0x2fe)](_0x2fc5e7,_0x3e5950[_0x485636(0x442)]));}else _0x50ba1f['groups'][_0x485636(0x334)](_0x3e5950[_0x485636(0x442)]);}}let _0x58d160=await this['repository'][_0x485636(0x6fb)][_0x485636(0x4ec)](_0x50ba1f[_0x485636(0x183)],_0x50ba1f,_0x1a9e60);if(_0x58d160&&_0x58d160[_0x485636(0x23d)]&&_0x58d160[_0x485636(0x23d)][_0x485636(0x5ed)]>0x1&&_0x58d160['global']!==_0x485636(0x4d0)&&this['synchronizeFlows'](_0x58d160[_0x485636(0x183)],_0x1a9e60),!_0x58d160)throw new Error(_0x485636(0x30c));return _0x58d160;}catch(_0x509ef6){let _0x2067a5=_0x485636(0x3bf),_0x8bf169=_0x509ef6 instanceof Error?_0x509ef6[_0x485636(0x641)]:typeof _0x509ef6==_0x485636(0x3b0)?JSON[_0x485636(0x751)](_0x509ef6):_0x509ef6,_0x287ced=_0x2067a5+':\x20'+_0x8bf169;throw this['logger'][_0x485636(0x370)](this[_0x485636(0x7b7)]+'\x20('+this['instance'][_0x485636(0x777)]+_0x485636(0x325)+_0x287ced),new m(_0x287ced);}}async['editFlowCondition'](_0x264813,_0xd143da){const _0x5012e5=a0_0x36f96e;try{this[_0x5012e5(0x42c)][_0x5012e5(0x3a8)](this[_0x5012e5(0x7b7)]+'\x20('+this[_0x5012e5(0x582)][_0x5012e5(0x777)]+_0x5012e5(0x1f0));let _0x11029b=_0x264813?.['global'][_0x5012e5(0x540)]()==='true'?_0x5012e5(0x253):this['instance'][_0x5012e5(0x777)],_0x5c9d63=await this[_0x5012e5(0x1b7)]['flow'][_0x5012e5(0x49a)]({'where':{'name':_0x264813[_0x5012e5(0x79c)]}},_0x11029b);if(!_0x5c9d63)throw new Error(_0x5012e5(0x5e8));if(_0x5c9d63?.[_0x5012e5(0x253)]===_0x5012e5(0x4d0))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0xd143da!==te&&_0x5c9d63?.['global']==='true'&&_0x5c9d63?.[_0x5012e5(0x6ab)]!==this[_0x5012e5(0x582)][_0x5012e5(0x777)])throw new m(_0x5012e5(0x2a1));let _0x8300e0=!0x1;if(_0x264813['condition']?.[_0x5012e5(0x2fc)]===!0x0)_0x5c9d63[_0x5012e5(0x718)]=_0x5c9d63['conditions'][_0x5012e5(0x713)](_0x4b1a75=>_0x4b1a75&&_0x264813[_0x5012e5(0x58a)]&&_0x4b1a75[_0x5012e5(0x183)]&&_0x264813['condition'][_0x5012e5(0x183)]&&_0x4b1a75[_0x5012e5(0x183)][_0x5012e5(0x2ee)]()!==_0x264813[_0x5012e5(0x58a)][_0x5012e5(0x183)][_0x5012e5(0x2ee)]()),_0x8300e0=!0x0;else{let _0x58cf19=_0x5c9d63[_0x5012e5(0x718)][_0x5012e5(0x6a2)](_0x238221=>_0x238221&&_0x264813['condition']&&_0x238221[_0x5012e5(0x183)]&&_0x264813[_0x5012e5(0x58a)]['_id']&&_0x238221[_0x5012e5(0x183)][_0x5012e5(0x2ee)]()===_0x264813[_0x5012e5(0x58a)][_0x5012e5(0x183)][_0x5012e5(0x2ee)]());_0x58cf19?(_0x8300e0=_0x58cf19[_0x5012e5(0x2d2)]!==_0x264813[_0x5012e5(0x58a)][_0x5012e5(0x2d2)],Object['assign'](_0x58cf19,_0x264813[_0x5012e5(0x58a)])):(_0x5c9d63[_0x5012e5(0x718)][_0x5012e5(0x334)](_0x264813[_0x5012e5(0x58a)]),_0x8300e0=!0x0);}if(_0x8300e0){_0x5c9d63[_0x5012e5(0x718)]['sort']((_0x32a64b,_0x476af4)=>_0x32a64b['order']>_0x476af4['order']?0x1:_0x476af4[_0x5012e5(0x2d2)]>_0x32a64b['order']?-0x1:0x0);for(let _0x4c2c53=0x0;_0x4c2c53<_0x5c9d63[_0x5012e5(0x718)]['length'];_0x4c2c53++)_0x5c9d63['conditions'][_0x4c2c53][_0x5012e5(0x2d2)]=_0x4c2c53+0x1;_0x5c9d63[_0x5012e5(0x718)][_0x5012e5(0x5ed)]>0x0&&(_0x5c9d63[_0x5012e5(0x718)][0x0][_0x5012e5(0x58b)]='and');}let _0x22929f=await this[_0x5012e5(0x1b7)][_0x5012e5(0x6fb)][_0x5012e5(0x4ec)](_0x5c9d63[_0x5012e5(0x183)],_0x5c9d63,_0x11029b);if(_0x22929f&&_0x22929f[_0x5012e5(0x23d)]&&_0x22929f[_0x5012e5(0x23d)][_0x5012e5(0x5ed)]>0x1&&_0x22929f[_0x5012e5(0x253)]!==_0x5012e5(0x4d0)&&this[_0x5012e5(0x7ff)](_0x22929f[_0x5012e5(0x183)],_0x11029b),!_0x22929f)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x22929f;}catch(_0x343e40){let _0x42e274=_0x5012e5(0x39f),_0x64c71a=_0x343e40 instanceof Error?_0x343e40[_0x5012e5(0x641)]:typeof _0x343e40==_0x5012e5(0x3b0)?JSON[_0x5012e5(0x751)](_0x343e40):_0x343e40,_0x57022b=_0x42e274+':\x20'+_0x64c71a;throw this[_0x5012e5(0x42c)][_0x5012e5(0x370)](this['instanceName']+'\x20('+this[_0x5012e5(0x582)][_0x5012e5(0x777)]+_0x5012e5(0x325)+_0x57022b),new m(_0x57022b);}}async['editFlowVaredit'](_0x144b51,_0x49c291){const _0x55d6fa=a0_0x36f96e;try{this[_0x55d6fa(0x42c)][_0x55d6fa(0x3a8)](this[_0x55d6fa(0x7b7)]+'\x20('+this[_0x55d6fa(0x582)][_0x55d6fa(0x777)]+_0x55d6fa(0x71d));let _0x4494f4=_0x144b51?.[_0x55d6fa(0x253)][_0x55d6fa(0x540)]()==='true'?_0x55d6fa(0x253):this[_0x55d6fa(0x582)][_0x55d6fa(0x777)],_0x127d39=await this[_0x55d6fa(0x1b7)][_0x55d6fa(0x6fb)][_0x55d6fa(0x49a)]({'where':{'name':_0x144b51[_0x55d6fa(0x79c)]}},_0x4494f4);if(!_0x127d39)throw new Error(_0x55d6fa(0x5e8));if(_0x127d39?.[_0x55d6fa(0x253)]===_0x55d6fa(0x4d0))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x49c291!==te&&_0x127d39?.[_0x55d6fa(0x253)]===_0x55d6fa(0x778)&&_0x127d39?.[_0x55d6fa(0x6ab)]!==this['instance'][_0x55d6fa(0x777)])throw new m(_0x55d6fa(0x2a1));let _0xa66120=!0x1;if(_0x144b51['varedit']?.[_0x55d6fa(0x2fc)]===!0x0)_0x127d39[_0x55d6fa(0x6ea)]=_0x127d39[_0x55d6fa(0x6ea)][_0x55d6fa(0x713)](_0x356e5e=>_0x356e5e&&_0x144b51[_0x55d6fa(0x55d)]&&_0x356e5e[_0x55d6fa(0x183)]&&_0x144b51[_0x55d6fa(0x55d)][_0x55d6fa(0x183)]&&_0x356e5e[_0x55d6fa(0x183)]['toString']()!==_0x144b51['varedit'][_0x55d6fa(0x183)]['toString']()),_0xa66120=!0x0;else{let _0x251f64=_0x127d39[_0x55d6fa(0x6ea)]['find'](_0xe6ec8d=>_0xe6ec8d&&_0x144b51[_0x55d6fa(0x55d)]&&_0xe6ec8d[_0x55d6fa(0x183)]&&_0x144b51[_0x55d6fa(0x55d)][_0x55d6fa(0x183)]&&_0xe6ec8d['_id']['toString']()===_0x144b51[_0x55d6fa(0x55d)][_0x55d6fa(0x183)][_0x55d6fa(0x2ee)]());_0x251f64?(_0xa66120=_0x251f64[_0x55d6fa(0x2d2)]!==_0x144b51[_0x55d6fa(0x55d)][_0x55d6fa(0x2d2)],Object['assign'](_0x251f64,_0x144b51['varedit'])):(_0x127d39[_0x55d6fa(0x6ea)][_0x55d6fa(0x334)](_0x144b51[_0x55d6fa(0x55d)]),_0xa66120=!0x0);}if(_0xa66120){_0x127d39[_0x55d6fa(0x6ea)][_0x55d6fa(0x77d)]((_0x516ec2,_0x3cef5e)=>_0x516ec2[_0x55d6fa(0x2d2)]>_0x3cef5e[_0x55d6fa(0x2d2)]?0x1:_0x3cef5e[_0x55d6fa(0x2d2)]>_0x516ec2[_0x55d6fa(0x2d2)]?-0x1:0x0);for(let _0x2f51f6=0x0;_0x2f51f6<_0x127d39[_0x55d6fa(0x6ea)][_0x55d6fa(0x5ed)];_0x2f51f6++)_0x127d39[_0x55d6fa(0x6ea)][_0x2f51f6][_0x55d6fa(0x2d2)]=_0x2f51f6+0x1;}let _0x3724c2=await this[_0x55d6fa(0x1b7)]['flow'][_0x55d6fa(0x4ec)](_0x127d39['_id'],_0x127d39,_0x4494f4);if(_0x3724c2&&_0x3724c2[_0x55d6fa(0x23d)]&&_0x3724c2[_0x55d6fa(0x23d)][_0x55d6fa(0x5ed)]>0x1&&_0x3724c2['global']!==_0x55d6fa(0x4d0)&&this[_0x55d6fa(0x7ff)](_0x3724c2[_0x55d6fa(0x183)],_0x4494f4),!_0x3724c2)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3724c2;}catch(_0xb5391){let _0x1abb1c=_0x55d6fa(0x39f),_0x18c546=_0xb5391 instanceof Error?_0xb5391['message']:typeof _0xb5391=='object'?JSON[_0x55d6fa(0x751)](_0xb5391):_0xb5391,_0x2fbaed=_0x1abb1c+':\x20'+_0x18c546;throw this[_0x55d6fa(0x42c)][_0x55d6fa(0x370)](this[_0x55d6fa(0x7b7)]+'\x20('+this['instance'][_0x55d6fa(0x777)]+_0x55d6fa(0x325)+_0x2fbaed),new m(_0x2fbaed);}}async[a0_0x36f96e(0x114)](_0x4406f4,_0x8890ff){const _0x16d281=a0_0x36f96e;try{this[_0x16d281(0x42c)][_0x16d281(0x3a8)](this['instanceName']+'\x20('+this[_0x16d281(0x582)][_0x16d281(0x777)]+_0x16d281(0x453));let _0x4e234e=_0x4406f4?.[_0x16d281(0x253)][_0x16d281(0x540)]()===_0x16d281(0x778)?_0x16d281(0x253):this[_0x16d281(0x582)]['wuid'],_0x2112a1=await this[_0x16d281(0x1b7)][_0x16d281(0x6fb)][_0x16d281(0x49a)]({'where':{'name':_0x4406f4[_0x16d281(0x79c)]}},_0x4e234e);if(!_0x2112a1)throw new Error(_0x16d281(0x5e8));if(_0x2112a1?.[_0x16d281(0x253)]===_0x16d281(0x4d0))throw new m(_0x16d281(0x59f));if(_0x8890ff!==te&&_0x2112a1?.['global']===_0x16d281(0x778)&&_0x2112a1?.['owner']!==this[_0x16d281(0x582)][_0x16d281(0x777)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');if(_0x8890ff!==te&&_0x2112a1?.['global']===_0x16d281(0x778)&&_0x2112a1?.[_0x16d281(0x6ab)]!==this[_0x16d281(0x582)][_0x16d281(0x777)])throw new m(_0x16d281(0x2a1));_0x4406f4[_0x16d281(0x4eb)][_0x16d281(0x79c)]=_0x4406f4[_0x16d281(0x4eb)][_0x16d281(0x79c)][_0x16d281(0x540)](),_0x4406f4[_0x16d281(0x4eb)][_0x16d281(0x79c)]['startsWith']('_')&&(_0x4406f4[_0x16d281(0x4eb)][_0x16d281(0x79c)]=_0x4406f4[_0x16d281(0x4eb)]['name']['substring'](0x1)),_0x4406f4[_0x16d281(0x4eb)][_0x16d281(0x79c)]=_0x4406f4[_0x16d281(0x4eb)]['name'][_0x16d281(0x540)]();let _0x289dd7=_0x2112a1['variables'][_0x16d281(0x6a2)](_0x28598c=>_0x28598c[_0x16d281(0x79c)]===_0x4406f4[_0x16d281(0x4eb)][_0x16d281(0x79c)]);if(_0x289dd7?.[_0x16d281(0x818)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x4406f4[_0x16d281(0x4eb)]?.[_0x16d281(0x2fc)]===!0x0){if(!_0x289dd7)return{'message':_0x16d281(0x2fa)};_0x2112a1[_0x16d281(0x800)]=_0x2112a1['variables'][_0x16d281(0x713)](_0x1d3c3e=>_0x1d3c3e[_0x16d281(0x79c)]!==_0x4406f4[_0x16d281(0x4eb)]['name']);}else _0x289dd7?Object[_0x16d281(0x2fe)](_0x289dd7,_0x4406f4['variable']):_0x2112a1[_0x16d281(0x800)][_0x16d281(0x334)](_0x4406f4[_0x16d281(0x4eb)]);let _0x55b3c3=await this[_0x16d281(0x1b7)][_0x16d281(0x6fb)][_0x16d281(0x4ec)](_0x2112a1[_0x16d281(0x183)],_0x2112a1,_0x4e234e);if(_0x55b3c3&&_0x55b3c3['shareOwners']&&_0x55b3c3[_0x16d281(0x23d)][_0x16d281(0x5ed)]>0x1&&_0x55b3c3['global']!==_0x16d281(0x4d0)&&this[_0x16d281(0x7ff)](_0x55b3c3[_0x16d281(0x183)],_0x4e234e),!_0x55b3c3)throw new Error(_0x16d281(0x30c));return _0x55b3c3;}catch(_0x546e9f){let _0x388391=_0x16d281(0x148),_0xcf4405=_0x546e9f instanceof Error?_0x546e9f[_0x16d281(0x641)]:typeof _0x546e9f=='object'?JSON[_0x16d281(0x751)](_0x546e9f):_0x546e9f,_0x41e75a=_0x388391+':\x20'+_0xcf4405;throw this[_0x16d281(0x42c)]['error'](this[_0x16d281(0x7b7)]+'\x20('+this[_0x16d281(0x582)][_0x16d281(0x777)]+_0x16d281(0x325)+_0x41e75a),new m(_0x41e75a);}}async['startFlow'](_0x25dd7d){const _0x46043c=a0_0x36f96e;let _0x151025=null;try{if(!this[_0x46043c(0x169)]?.['flowConfig'][_0x46043c(0x6b4)])throw new m(_0x46043c(0x342));this['logger']['verbose'](this[_0x46043c(0x7b7)]+'\x20('+this['instance'][_0x46043c(0x777)]+_0x46043c(0x717));let _0xd9012c=(await this['whatsappNumber']({'numbers':[_0x25dd7d['remoteJid']]}))[0x0];if(!_0xd9012c['exists']&&!(0x0,f[_0x46043c(0x5a3)])(_0xd9012c[_0x46043c(0x127)])&&!_0xd9012c[_0x46043c(0x127)]['includes']('@broadcast'))throw _0x151025=JSON[_0x46043c(0x751)](_0xd9012c,null,0x2),new m(_0xd9012c);let _0x1dce25=await this[_0x46043c(0x1b7)][_0x46043c(0x6fb)][_0x46043c(0x49a)]({'where':{'name':_0x25dd7d[_0x46043c(0x79c)]}},this['instance'][_0x46043c(0x777)]);if(!_0x1dce25)return this[_0x46043c(0x42c)]['error'](this[_0x46043c(0x7b7)]+'\x20('+this[_0x46043c(0x582)][_0x46043c(0x777)]+_0x46043c(0x710)),{'message':_0x46043c(0x5e8)};let _0xba65bc=await this[_0x46043c(0x60a)](_0x1dce25,_0xd9012c[_0x46043c(0x127)],_0x25dd7d[_0x46043c(0x2bb)]);if(_0xba65bc){this['logger'][_0x46043c(0x3a8)](this[_0x46043c(0x7b7)]+'\x20('+this[_0x46043c(0x582)]['wuid']+_0x46043c(0x406));let _0x2a3522=await this[_0x46043c(0x180)](_0xba65bc);return _0x2a3522&&await this[_0x46043c(0x1f8)](_0xba65bc,_0x2a3522),{'message':'Flow\x20iniciado\x20com\x20'+_0x25dd7d['remoteJid']};}}catch(_0xa5dfe4){if(this[_0x46043c(0x42c)][_0x46043c(0x370)](this[_0x46043c(0x7b7)]+'\x20('+this['instance'][_0x46043c(0x777)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0xa5dfe4 instanceof Error?_0xa5dfe4['message']:JSON[_0x46043c(0x751)](_0xa5dfe4,null,0x2))),_0x151025=_0xa5dfe4 instanceof Error?_0xa5dfe4[_0x46043c(0x641)]:JSON[_0x46043c(0x751)](_0xa5dfe4,null,0x2),_0x151025)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x151025);}}async[a0_0x36f96e(0x5cc)](_0x533883,_0x5730fd,_0x3e2521){const _0x1ee72f=a0_0x36f96e;let _0x5ca1a8=null;try{if(!this['AutomateSystem']?.[_0x1ee72f(0x1a0)][_0x1ee72f(0x6b4)])throw new m(_0x1ee72f(0x342));if(this['logger'][_0x1ee72f(0x3a8)](this[_0x1ee72f(0x7b7)]+'\x20('+this[_0x1ee72f(0x582)][_0x1ee72f(0x777)]+'):\x20Iniciando\x20bot...'),_0x5730fd){let _0x4967ef=(await this['whatsappNumber']({'numbers':[_0x5730fd]}))[0x0];if(!_0x4967ef['exists']&&!(0x0,f[_0x1ee72f(0x5a3)])(_0x4967ef[_0x1ee72f(0x127)])&&!_0x4967ef[_0x1ee72f(0x127)]['includes'](_0x1ee72f(0x26f)))throw _0x5ca1a8=JSON['stringify'](_0x4967ef,null,0x2),new m(_0x4967ef);_0x5730fd=_0x4967ef[_0x1ee72f(0x127)];}else _0x5730fd||(_0x5730fd=(0x0,Ce['v4'])());let _0x3a86be=await this['repository'][_0x1ee72f(0x6fb)][_0x1ee72f(0x49a)]({'where':{'startID':_0x533883}},this[_0x1ee72f(0x582)][_0x1ee72f(0x777)]);if(!_0x3a86be)throw this[_0x1ee72f(0x42c)][_0x1ee72f(0x370)](this['instanceName']+'\x20('+this[_0x1ee72f(0x582)][_0x1ee72f(0x777)]+_0x1ee72f(0x710)),new m('Flow\x20não\x20encontrado');let _0x3f7720=await this[_0x1ee72f(0x60a)](_0x3a86be,_0x5730fd,null);if(_0x3f7720){this['logger'][_0x1ee72f(0x3a8)](this[_0x1ee72f(0x7b7)]+'\x20('+this[_0x1ee72f(0x582)][_0x1ee72f(0x777)]+_0x1ee72f(0x276));let _0x4b982;if(_0x3e2521){let _0x283146=_0x3f7720[_0x1ee72f(0x2e7)][_0x1ee72f(0x4d1)],_0x42010f=this[_0x1ee72f(0x1d5)](_0x3e2521);Object[_0x1ee72f(0x2fe)](_0x283146,_0x42010f),_0x3f7720['chatLog'][_0x1ee72f(0x4d1)]=_0x283146,_0x4b982={'error':!0x1,'apiResponse':_0x3e2521};}let _0x4ef1be=await this[_0x1ee72f(0x180)](_0x3f7720);return _0x4ef1be&&await this['processblock'](_0x3f7720,_0x4ef1be),{'message':_0x1ee72f(0x69f)};}}catch(_0x5b05cc){if(this['logger'][_0x1ee72f(0x370)](this[_0x1ee72f(0x7b7)]+'\x20('+this[_0x1ee72f(0x582)][_0x1ee72f(0x777)]+_0x1ee72f(0x408)+(_0x5b05cc instanceof Error?_0x5b05cc[_0x1ee72f(0x641)]:JSON[_0x1ee72f(0x751)](_0x5b05cc,null,0x2))),_0x5ca1a8=_0x5b05cc instanceof Error?_0x5b05cc[_0x1ee72f(0x641)]:JSON[_0x1ee72f(0x751)](_0x5b05cc,null,0x2),_0x5ca1a8)throw new m(_0x1ee72f(0x752)+_0x5ca1a8);}}async[a0_0x36f96e(0x557)](_0x651107){const _0x66ce76=a0_0x36f96e;try{let _0x3cd7b1={'remoteJid':_0x651107,'status':_0x66ce76(0x707)},_0x151fd1={'status':'closed'},_0x45c62b=await this[_0x66ce76(0x1b7)][_0x66ce76(0x42e)][_0x66ce76(0x26d)](_0x3cd7b1,_0x151fd1,this['instance']['wuid']);return this['logger'][_0x66ce76(0x3a8)](this[_0x66ce76(0x7b7)]+'\x20('+this[_0x66ce76(0x582)]['wuid']+_0x66ce76(0x3f7)),_0x45c62b;}catch(_0x1ae282){throw this[_0x66ce76(0x42c)]['error'](this[_0x66ce76(0x7b7)]+'\x20('+this[_0x66ce76(0x582)][_0x66ce76(0x777)]+_0x66ce76(0x558)+_0x1ae282[_0x66ce76(0x641)]),_0x1ae282;}}async[a0_0x36f96e(0x60a)](_0x4bdf64,_0xb85b77,_0x1040b2){const _0x580b71=a0_0x36f96e;this[_0x580b71(0x42c)][_0x580b71(0x3a8)](this[_0x580b71(0x7b7)]+'\x20('+this[_0x580b71(0x582)][_0x580b71(0x777)]+_0x580b71(0x714)),await this[_0x580b71(0x557)](_0xb85b77);try{let _0x77254e=require(_0x580b71(0x57f))['ObjectId'],_0x249f9d=Date[_0x580b71(0x31b)](),_0xc3f178=_0x580b71(0x2e2),_0x3e7e58={},_0x406e18={},_0x117ab4={..._0x4bdf64,'chatLog':null},_0x2d6d55=await this[_0x580b71(0x706)](_0x117ab4[_0x580b71(0x800)]),_0x47059e=await this[_0x580b71(0x489)](_0xb85b77),_0x56a998={..._0x2d6d55,..._0x47059e,'_remoteJid':_0xb85b77},_0x525a69={'lastReceivedMessage':_0x3e7e58,'lastSendMessage':_0x406e18,'lastBlockId':_0xc3f178,'lastCondition':!0x0,'realVariables':_0x56a998};_0x117ab4[_0x580b71(0x2e7)]=_0x525a69,_0x117ab4[_0x580b71(0x2e7)]['realVariables']={..._0x56a998,..._0x1040b2},delete _0x117ab4[_0x580b71(0x183)],_0x117ab4[_0x580b71(0x183)]=new _0x77254e(),_0x117ab4[_0x580b71(0x16e)]=_0x249f9d,_0x117ab4['status']='open',_0x117ab4['remoteJid']=_0xb85b77;let _0x115018=await this[_0x580b71(0x1b7)][_0x580b71(0x42e)]['updateOne'](_0x117ab4['_id'],_0x117ab4,this['instance'][_0x580b71(0x777)]);return this['logger']['verbose'](this[_0x580b71(0x7b7)]+'\x20('+this[_0x580b71(0x582)][_0x580b71(0x777)]+_0x580b71(0x2b5)),_0x115018?_0x117ab4:null;}catch(_0x4da3c4){let _0x14decf=_0x580b71(0x3be),_0x473583=_0x4da3c4 instanceof Error?_0x4da3c4[_0x580b71(0x641)]:typeof _0x4da3c4==_0x580b71(0x3b0)?JSON[_0x580b71(0x751)](_0x4da3c4):_0x4da3c4,_0x2fd715=_0x14decf+':\x20'+_0x473583;throw this['logger'][_0x580b71(0x370)](this['instanceName']+'\x20('+this[_0x580b71(0x582)][_0x580b71(0x777)]+'):\x20'+_0x2fd715),new m(_0x2fd715);}}async[a0_0x36f96e(0x7d1)](_0x4c2585){const _0x1cb4c3=a0_0x36f96e;try{this[_0x1cb4c3(0x42c)][_0x1cb4c3(0x3a8)](this[_0x1cb4c3(0x7b7)]+'\x20('+this['instance'][_0x1cb4c3(0x777)]+'):\x20Buscando\x20conversa...'),this[_0x1cb4c3(0x42c)][_0x1cb4c3(0x3a8)](this[_0x1cb4c3(0x7b7)]+'\x20('+this[_0x1cb4c3(0x582)][_0x1cb4c3(0x777)]+'):\x20Query\x20params:\x20'+_0x4c2585);let _0x4b5db0={'where':{'_id':_0x4c2585}};return await this['repository']['flowConversation'][_0x1cb4c3(0x49a)](_0x4b5db0,this['instance']['wuid']);}catch(_0x4c4d87){let _0x44ac55=_0x1cb4c3(0x285),_0x36f900=_0x4c4d87 instanceof Error?_0x4c4d87[_0x1cb4c3(0x641)]:typeof _0x4c4d87=='object'?JSON[_0x1cb4c3(0x751)](_0x4c4d87):_0x4c4d87,_0x20e8a8=_0x44ac55+':\x20'+_0x36f900;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x1cb4c3(0x777)]+_0x1cb4c3(0x325)+_0x20e8a8),new m(_0x20e8a8);}}async['fetchConversation'](_0x1bc868){const _0x2fca99=a0_0x36f96e;try{return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2fca99(0x582)][_0x2fca99(0x777)]+_0x2fca99(0x32b)),await this[_0x2fca99(0x1b7)][_0x2fca99(0x42e)][_0x2fca99(0x6a2)](_0x1bc868,this[_0x2fca99(0x582)][_0x2fca99(0x777)]);}catch(_0x3d9b89){let _0x2e7d0d=_0x2fca99(0x2e4),_0x5a9369=_0x3d9b89 instanceof Error?_0x3d9b89[_0x2fca99(0x641)]:typeof _0x3d9b89==_0x2fca99(0x3b0)?JSON['stringify'](_0x3d9b89):_0x3d9b89,_0x4a0adf=_0x2e7d0d+':\x20'+_0x5a9369;throw this[_0x2fca99(0x42c)][_0x2fca99(0x370)](this[_0x2fca99(0x7b7)]+'\x20('+this[_0x2fca99(0x582)][_0x2fca99(0x777)]+_0x2fca99(0x325)+_0x4a0adf),new m(_0x4a0adf);}}async[a0_0x36f96e(0x421)](_0x3612d1){const _0x5a100e=a0_0x36f96e;try{return this[_0x5a100e(0x42c)]['verbose'](this[_0x5a100e(0x7b7)]+'\x20('+this[_0x5a100e(0x582)][_0x5a100e(0x777)]+'):\x20Deletando\x20conversa...'),this[_0x5a100e(0x42c)][_0x5a100e(0x3a8)](this[_0x5a100e(0x7b7)]+'\x20('+this[_0x5a100e(0x582)][_0x5a100e(0x777)]+_0x5a100e(0x7c2)+_0x3612d1),(await this[_0x5a100e(0x1b7)][_0x5a100e(0x42e)][_0x5a100e(0x13d)]({'where':{'_id':_0x3612d1[_0x5a100e(0x183)]}},this['instance'][_0x5a100e(0x777)]))[_0x5a100e(0x23c)]===0x0?{'message':_0x5a100e(0x534)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x17899d){let _0x49d36c=_0x5a100e(0x20f),_0xf05948=_0x17899d instanceof Error?_0x17899d['message']:typeof _0x17899d==_0x5a100e(0x3b0)?JSON[_0x5a100e(0x751)](_0x17899d):_0x17899d,_0x368f2b=_0x49d36c+':\x20'+_0xf05948;throw this['logger']['error'](this[_0x5a100e(0x7b7)]+'\x20('+this[_0x5a100e(0x582)][_0x5a100e(0x777)]+_0x5a100e(0x325)+_0x368f2b),new m(_0x368f2b);}}async[a0_0x36f96e(0x5ef)](_0x1143f3){const _0x554039=a0_0x36f96e;try{let {_id:_0x1f890d,chatLog:_0x4d0f77,status:_0x1cc9ad}=_0x1143f3;if(!_0x1f890d)return{'message':_0x554039(0x67a)};let _0x56ce7e={};if(_0x1cc9ad!==void 0x0&&(_0x56ce7e[_0x554039(0x193)]=_0x1cc9ad),Object[_0x554039(0x179)](_0x56ce7e)[_0x554039(0x5ed)]===0x0)return{'message':_0x554039(0x32d)};let _0xdd69ca=await this[_0x554039(0x1b7)][_0x554039(0x42e)]['updateOne'](_0x1f890d,_0x56ce7e,this[_0x554039(0x582)]['wuid']);return _0xdd69ca||{'message':_0x554039(0x51f)};}catch(_0x3bd4cf){let _0x5854e9=_0x554039(0x7b0),_0x264201=_0x3bd4cf instanceof Error?_0x3bd4cf[_0x554039(0x641)]:typeof _0x3bd4cf=='object'?JSON[_0x554039(0x751)](_0x3bd4cf):_0x3bd4cf,_0x385704=_0x5854e9+':\x20'+_0x264201;throw this[_0x554039(0x42c)][_0x554039(0x370)](this[_0x554039(0x7b7)]+'\x20('+this[_0x554039(0x582)][_0x554039(0x777)]+_0x554039(0x325)+_0x385704),new m(_0x385704);}}async[a0_0x36f96e(0x598)](_0xd6bca9){const _0x2beba4=a0_0x36f96e;try{_0xd6bca9['_id']=this[_0x2beba4(0x3b6)](_0xd6bca9[_0x2beba4(0x183)]);let _0x517fc6=await this[_0x2beba4(0x1b7)]['chat'][_0x2beba4(0x49a)]({'where':{'_id':_0xd6bca9[_0x2beba4(0x183)]}},this[_0x2beba4(0x582)][_0x2beba4(0x777)]);if(!_0x517fc6)throw new m(_0x2beba4(0x1dc));let {_id:_0x5290af,leadInfo:_0x4b6bfa}=_0xd6bca9;if(!_0x5290af)throw new Error(_0x2beba4(0x7ae));if(_0xd6bca9['delete']==='all')return await this[_0x2beba4(0x28e)](_0xd6bca9[_0x2beba4(0x183)]),await this['repository'][_0x2beba4(0x550)][_0x2beba4(0x2fc)]({'where':{'_id':_0xd6bca9['_id']}},this[_0x2beba4(0x582)]['wuid']),await this[_0x2beba4(0x1b7)][_0x2beba4(0x641)][_0x2beba4(0x2fc)]({'where':{'key':{'remoteJid':_0xd6bca9[_0x2beba4(0x183)]}}},this['instance'][_0x2beba4(0x777)]),_0xd6bca9=await this[_0x2beba4(0x1b7)][_0x2beba4(0x550)][_0x2beba4(0x4ec)]({'where':{'_id':_0xd6bca9[_0x2beba4(0x183)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2beba4(0x582)][_0x2beba4(0x777)]),U(this['instanceName'],_0x2beba4(0x35d),{'chat':_0xd6bca9}),{'message':_0x2beba4(0x502)};if(_0xd6bca9['delete']===_0x2beba4(0x35c))return await this[_0x2beba4(0x1b7)][_0x2beba4(0x641)][_0x2beba4(0x2fc)]({'where':{'key':{'remoteJid':_0xd6bca9['_id']}}},this[_0x2beba4(0x582)][_0x2beba4(0x777)]),_0xd6bca9=await this[_0x2beba4(0x1b7)]['chat']['updateOne']({'where':{'_id':_0xd6bca9[_0x2beba4(0x183)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2beba4(0x582)][_0x2beba4(0x777)]),U(this[_0x2beba4(0x7b7)],_0x2beba4(0x35d),{'chat':_0xd6bca9}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x5c5f02=(_0x412ade,_0xe71856,_0x59b8ec)=>{const _0x464f70=_0x2beba4;_0x412ade&&_0x59b8ec[_0x464f70(0x1f3)](_0x3063cc=>{const _0x366366=_0x464f70;_0x412ade[_0x3063cc]!==void 0x0&&(_0xe71856[_0x366366(0x7a4)+_0x3063cc]=_0x412ade[_0x3063cc]);});},_0x137a46={};if(_0x2beba4(0x167)in _0xd6bca9&&(this[_0x2beba4(0x42c)][_0x2beba4(0x3a8)]('Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0xd6bca9[_0x2beba4(0x183)]),_0xd6bca9['muteEndTime']=_0xd6bca9[_0x2beba4(0x167)]===0x0?null:-0x1,await this['client'][_0x2beba4(0x649)]({'mute':_0xd6bca9[_0x2beba4(0x167)]},_0xd6bca9[_0x2beba4(0x183)]),_0x137a46[_0x2beba4(0x167)]=Number(_0xd6bca9[_0x2beba4(0x167)])),_0x4b6bfa&&(_0x5c5f02(_0x4b6bfa,_0x137a46,[_0x2beba4(0x76e),_0x2beba4(0x323),_0x2beba4(0x2b8),_0x2beba4(0x565),'status','notas',_0x2beba4(0x10a),'atendimentoAberto','responsavelid',_0x2beba4(0x4c7)]),Array[_0x2beba4(0x358)](_0x4b6bfa[_0x2beba4(0x3d8)])&&(_0x137a46[_0x2beba4(0x547)]=_0x4b6bfa[_0x2beba4(0x3d8)][_0x2beba4(0x25f)](_0x588602=>({'_id':_0x588602[_0x2beba4(0x183)],'value':_0x588602[_0x2beba4(0x7b2)]}))),_0xd6bca9[_0x2beba4(0x818)][_0x2beba4(0x4c7)]!==void 0x0)){let _0x1080e3=await this[_0x2beba4(0x1b7)][_0x2beba4(0x40e)]['find']({'where':{}},this[_0x2beba4(0x582)][_0x2beba4(0x777)]),_0x953fc1=new Set(_0xd6bca9[_0x2beba4(0x818)][_0x2beba4(0x4c7)]||[]),_0x1df4ab=new Set(_0xd6bca9[_0x2beba4(0x818)][_0x2beba4(0x4c7)]),_0x4f7cfb=new Set(_0x1080e3[_0x2beba4(0x25f)](_0x16eb2b=>_0x16eb2b['_id'])),_0x1497fc=[..._0x1df4ab][_0x2beba4(0x713)](_0x1a840f=>!_0x953fc1[_0x2beba4(0x122)](_0x1a840f)&&_0x4f7cfb[_0x2beba4(0x122)](_0x1a840f)),_0x4e8e94=[..._0x953fc1][_0x2beba4(0x713)](_0x5f3e11=>!_0x1df4ab[_0x2beba4(0x122)](_0x5f3e11));if(_0x137a46[_0x2beba4(0x3a7)]=[..._0x953fc1],_0x517fc6&&!_0x517fc6[_0x2beba4(0x688)]){for(let _0x2b399c of _0x1497fc)await this[_0x2beba4(0x160)](_0x2b399c,_0xd6bca9[_0x2beba4(0x183)]),_0x953fc1['add'](_0x2b399c);for(let _0x3647b4 of _0x4e8e94)await this[_0x2beba4(0x559)](_0x3647b4,_0xd6bca9[_0x2beba4(0x183)]),_0x953fc1['delete'](_0x3647b4);}}if(_0xd6bca9[_0x2beba4(0x5ee)]!==void 0x0&&(_0x137a46[_0x2beba4(0x5ee)]=Number(_0xd6bca9[_0x2beba4(0x5ee)])),Object[_0x2beba4(0x179)](_0x137a46)[_0x2beba4(0x5ed)]===0x0)throw new Error(_0x2beba4(0x32d));let _0x29ade7=await this[_0x2beba4(0x1b7)][_0x2beba4(0x550)][_0x2beba4(0x4ec)]({'where':{'_id':_0xd6bca9[_0x2beba4(0x183)]}},_0x137a46,this[_0x2beba4(0x582)][_0x2beba4(0x777)]);return _0x29ade7&&U(this[_0x2beba4(0x7b7)],_0x2beba4(0x35d),{'chat':_0x29ade7}),_0x29ade7?(this[_0x2beba4(0x42c)][_0x2beba4(0x3a8)](this[_0x2beba4(0x7b7)]+'\x20('+this[_0x2beba4(0x582)][_0x2beba4(0x777)]+_0x2beba4(0x325)+JSON[_0x2beba4(0x751)](_0x29ade7,null,0x2)),_0x29ade7):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x3acf25){let _0xeaa1c=_0x2beba4(0x126),_0x510b50=_0x3acf25 instanceof Error?_0x3acf25[_0x2beba4(0x641)]:typeof _0x3acf25==_0x2beba4(0x3b0)?JSON[_0x2beba4(0x751)](_0x3acf25):_0x3acf25,_0x298c74=_0xeaa1c+':\x20'+_0x510b50;throw this[_0x2beba4(0x42c)][_0x2beba4(0x370)](this['instanceName']+'\x20('+this[_0x2beba4(0x582)][_0x2beba4(0x777)]+_0x2beba4(0x325)+_0x298c74),new m(_0x298c74);}}async[a0_0x36f96e(0x160)](_0xd2cb87,_0x4855ff){const _0x4a51d0=a0_0x36f96e;try{await this[_0x4a51d0(0x3a9)][_0x4a51d0(0x47d)](_0x4855ff,_0xd2cb87),this[_0x4a51d0(0x42c)][_0x4a51d0(0x299)](this[_0x4a51d0(0x7b7)]+'\x20('+this[_0x4a51d0(0x582)][_0x4a51d0(0x777)]+_0x4a51d0(0x5cd)+_0xd2cb87+_0x4a51d0(0x635)+_0x4855ff+_0x4a51d0(0x3fd));}catch(_0x350ff8){console[_0x4a51d0(0x370)]('Erro\x20ao\x20adicionar\x20label\x20'+_0xd2cb87+_0x4a51d0(0x748)+_0x4855ff+':',_0x350ff8);}}async[a0_0x36f96e(0x559)](_0x10e65b,_0x37cbd7){const _0x48935b=a0_0x36f96e;try{await this[_0x48935b(0x3a9)][_0x48935b(0x267)](_0x37cbd7,_0x10e65b),this[_0x48935b(0x42c)][_0x48935b(0x299)](this[_0x48935b(0x7b7)]+'\x20('+this['instance'][_0x48935b(0x777)]+_0x48935b(0x5cd)+_0x10e65b+_0x48935b(0x396)+_0x37cbd7+_0x48935b(0x3fd));}catch(_0x3166ea){console[_0x48935b(0x370)](_0x48935b(0x4f6)+_0x10e65b+_0x48935b(0x535)+_0x37cbd7+':',_0x3166ea);}}async['updateAgent'](_0x1065d9){const _0xc81616=a0_0x36f96e;try{let _0xed520b=await this[_0xc81616(0x1b7)][_0xc81616(0x6cf)]['findOrCreate'](this['instance'][_0xc81616(0x777)]),_0x279a15=_0x1065d9[_0xc81616(0x183)]?_0xed520b[_0xc81616(0x3db)][_0xc81616(0x6fc)](_0xea0a74=>_0xea0a74[_0xc81616(0x183)]===_0x1065d9[_0xc81616(0x183)]):-0x1;if(_0x1065d9[_0xc81616(0x2fc)]&&_0x279a15>-0x1)_0xed520b[_0xc81616(0x3db)][_0xc81616(0x4dc)](_0x279a15,0x1);else{if(_0x279a15>-0x1){let _0x1a7cd0=_0xed520b[_0xc81616(0x3db)][_0x279a15];_0x1065d9[_0xc81616(0x4cf)]&&(_0x1a7cd0[_0xc81616(0x4cf)]=_0x1065d9[_0xc81616(0x4cf)]),_0x1065d9[_0xc81616(0x79c)]&&(_0x1a7cd0[_0xc81616(0x79c)]=_0x1065d9[_0xc81616(0x79c)]),_0x1065d9['email']&&(_0x1a7cd0['email']=_0x1065d9[_0xc81616(0x2b8)]),_0x1065d9[_0xc81616(0x5e0)]&&(_0x1a7cd0[_0xc81616(0x5e0)]=_0x1065d9[_0xc81616(0x5e0)]);}else _0xed520b[_0xc81616(0x3db)]['push']({'_id':_0x1065d9['_id']||new ie[(_0xc81616(0x3dd))][(_0xc81616(0x671))][(_0xc81616(0x2bf))]()[_0xc81616(0x2ee)](),'fone':_0x1065d9[_0xc81616(0x4cf)],'name':_0x1065d9[_0xc81616(0x79c)],'email':_0x1065d9[_0xc81616(0x2b8)],'role':_0x1065d9['role']});}let _0x1fbce0={'agents':_0xed520b['agents']},_0x3b07b2=await this[_0xc81616(0x1b7)]['automateSystem'][_0xc81616(0x3d0)](_0x1fbce0,this['instance']['wuid']);return this['AutomateSystem']=_0x3b07b2,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xc81616(0x582)][_0xc81616(0x777)]+_0xc81616(0x1cc)),this[_0xc81616(0x42c)][_0xc81616(0x3a8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xc81616(0x325)+this[_0xc81616(0x169)]),_0x3b07b2;}catch(_0x2a422b){let _0x75eeee=_0xc81616(0x217),_0x43839b=_0x2a422b instanceof Error?_0x2a422b[_0xc81616(0x641)]:typeof _0x2a422b=='object'?JSON[_0xc81616(0x751)](_0x2a422b):_0x2a422b,_0x27a802=_0x75eeee+':\x20'+_0x43839b;throw this[_0xc81616(0x42c)][_0xc81616(0x370)](this[_0xc81616(0x7b7)]+'\x20('+this[_0xc81616(0x582)][_0xc81616(0x777)]+_0xc81616(0x325)+_0x27a802),new m(_0x27a802);}}async['updateCustomFields'](_0x1f0e9e){const _0x31ffcc=a0_0x36f96e;try{let _0x49a567=await this[_0x31ffcc(0x1b7)][_0x31ffcc(0x6cf)][_0x31ffcc(0x2f6)](this[_0x31ffcc(0x582)][_0x31ffcc(0x777)]),_0x20b308=_0x1f0e9e[_0x31ffcc(0x183)]?_0x49a567[_0x31ffcc(0x3d8)][_0x31ffcc(0x6fc)](_0x5dac31=>_0x5dac31[_0x31ffcc(0x183)]===_0x1f0e9e[_0x31ffcc(0x183)]):-0x1,_0x58f3f1=!0x1,_0x238274=_0x49a567[_0x31ffcc(0x3d8)][_0x31ffcc(0x628)](_0x4a0d4a=>_0x4a0d4a[_0x31ffcc(0x2d2)]===_0x1f0e9e[_0x31ffcc(0x2d2)]);if(_0x1f0e9e[_0x31ffcc(0x2fc)]&&_0x20b308>-0x1)_0x49a567[_0x31ffcc(0x3d8)][_0x31ffcc(0x4dc)](_0x20b308,0x1),_0x58f3f1=!0x0;else{if(_0x20b308>-0x1){if(_0x49a567[_0x31ffcc(0x3d8)][_0x31ffcc(0x628)](_0xecdd23=>_0xecdd23[_0x31ffcc(0x79c)]===_0x1f0e9e[_0x31ffcc(0x79c)]&&_0xecdd23[_0x31ffcc(0x183)]!==_0x1f0e9e[_0x31ffcc(0x183)]))throw new Error(_0x31ffcc(0x198));let _0x12d41b=_0x49a567[_0x31ffcc(0x3d8)][_0x20b308];_0x1f0e9e[_0x31ffcc(0x2d2)]&&(_0x238274||!Number['isInteger'](_0x1f0e9e['order']))&&(_0x12d41b[_0x31ffcc(0x2d2)]=_0x1f0e9e[_0x31ffcc(0x2d2)],_0x58f3f1=!0x0),_0x1f0e9e[_0x31ffcc(0x79c)]&&(_0x12d41b['name']=_0x1f0e9e['name']);}else{if(_0x49a567[_0x31ffcc(0x3d8)][_0x31ffcc(0x628)](_0x4c4715=>_0x4c4715[_0x31ffcc(0x79c)]===_0x1f0e9e[_0x31ffcc(0x79c)]&&_0x4c4715[_0x31ffcc(0x183)]!==_0x1f0e9e[_0x31ffcc(0x183)]))throw new Error(_0x31ffcc(0x198));_0x49a567[_0x31ffcc(0x3d8)][_0x31ffcc(0x334)]({'_id':_0x1f0e9e[_0x31ffcc(0x183)]||new ie[(_0x31ffcc(0x3dd))]['Types'][(_0x31ffcc(0x2bf))]()[_0x31ffcc(0x2ee)](),'order':_0x1f0e9e[_0x31ffcc(0x2d2)],'name':_0x1f0e9e[_0x31ffcc(0x79c)]}),_0x58f3f1=!0x0;}}if(_0x58f3f1){_0x49a567[_0x31ffcc(0x3d8)][_0x31ffcc(0x77d)]((_0x104aec,_0x449d62)=>_0x104aec[_0x31ffcc(0x2d2)]>_0x449d62['order']?0x1:_0x449d62[_0x31ffcc(0x2d2)]>_0x104aec[_0x31ffcc(0x2d2)]?-0x1:0x0);for(let _0xca31af=0x0;_0xca31af<_0x49a567['customFields'][_0x31ffcc(0x5ed)];_0xca31af++)_0x49a567[_0x31ffcc(0x3d8)][_0xca31af][_0x31ffcc(0x2d2)]=_0xca31af+0x1;}let _0x1bed2f=await this[_0x31ffcc(0x1b7)]['automateSystem'][_0x31ffcc(0x3d0)](_0x49a567,this['instance']['wuid']);return this[_0x31ffcc(0x169)]=_0x1bed2f,this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x31ffcc(0x777)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x31ffcc(0x42c)][_0x31ffcc(0x3a8)](this['instanceName']+'\x20('+this[_0x31ffcc(0x582)]['wuid']+'):\x20'+this[_0x31ffcc(0x169)]),_0x1bed2f;}catch(_0x3d716a){let _0xc08c20=_0x31ffcc(0x19c),_0x4e4e9d=_0x3d716a instanceof Error?_0x3d716a[_0x31ffcc(0x641)]:typeof _0x3d716a==_0x31ffcc(0x3b0)?JSON[_0x31ffcc(0x751)](_0x3d716a):_0x3d716a,_0x57d25b=_0xc08c20+':\x20'+_0x4e4e9d;throw this[_0x31ffcc(0x42c)][_0x31ffcc(0x370)](this['instanceName']+'\x20('+this[_0x31ffcc(0x582)][_0x31ffcc(0x777)]+'):\x20'+_0x57d25b),new m(_0x57d25b);}}async[a0_0x36f96e(0x523)](_0x39ffaf){const _0x4ee20a=a0_0x36f96e;try{let _0x3106f9=await this[_0x4ee20a(0x1b7)]['automateSystem'][_0x4ee20a(0x2f6)](this[_0x4ee20a(0x582)][_0x4ee20a(0x777)]),_0x41c4f2=_0x3106f9?.[_0x4ee20a(0x689)]?.[_0x4ee20a(0x6fc)](_0x4a8492=>_0x4a8492[_0x4ee20a(0x183)]===_0x39ffaf?.['_id']);if(_0x39ffaf?.[_0x4ee20a(0x2fc)])_0x41c4f2>-0x1&&_0x3106f9?.[_0x4ee20a(0x689)]?.[_0x4ee20a(0x4dc)](_0x41c4f2,0x1);else{if(_0x41c4f2>-0x1){let _0x454767=_0x3106f9['autoCompleteMessages'][_0x41c4f2];_0x454767[_0x4ee20a(0x2d2)]=_0x39ffaf?.[_0x4ee20a(0x2d2)]||_0x454767[_0x4ee20a(0x2d2)],_0x454767['command']=_0x39ffaf?.[_0x4ee20a(0x411)]||_0x454767[_0x4ee20a(0x411)],_0x454767[_0x4ee20a(0x641)]=_0x39ffaf?.[_0x4ee20a(0x641)]||_0x454767['message'];}else{let _0x3e0735={'_id':_0x39ffaf?.[_0x4ee20a(0x183)]||new ie['default'][(_0x4ee20a(0x671))][(_0x4ee20a(0x2bf))]()[_0x4ee20a(0x2ee)](),'order':_0x39ffaf?.['order'],'command':_0x39ffaf?.[_0x4ee20a(0x411)],'message':_0x39ffaf?.[_0x4ee20a(0x641)]};_0x3106f9?.[_0x4ee20a(0x689)]?.[_0x4ee20a(0x334)](_0x3e0735);}}_0x3106f9?.[_0x4ee20a(0x689)]?.[_0x4ee20a(0x77d)]((_0x57bf2b,_0x393ae0)=>_0x57bf2b[_0x4ee20a(0x2d2)]-_0x393ae0[_0x4ee20a(0x2d2)]);let _0x2ee7d8=await this[_0x4ee20a(0x1b7)][_0x4ee20a(0x6cf)][_0x4ee20a(0x3d0)](_0x3106f9,this['instance'][_0x4ee20a(0x777)]);return this[_0x4ee20a(0x169)]=_0x2ee7d8,this[_0x4ee20a(0x42c)][_0x4ee20a(0x3a8)](this[_0x4ee20a(0x7b7)]+'\x20('+this['instance'][_0x4ee20a(0x777)]+_0x4ee20a(0x1ab)),_0x2ee7d8;}catch(_0x17c25c){let _0x45b505=_0x4ee20a(0x750),_0x22e042=_0x17c25c instanceof Error?_0x17c25c['message']:typeof _0x17c25c==_0x4ee20a(0x3b0)?JSON[_0x4ee20a(0x751)](_0x17c25c):_0x17c25c,_0x1d16a6=_0x45b505+':\x20'+_0x22e042;throw this[_0x4ee20a(0x42c)]['error'](this[_0x4ee20a(0x7b7)]+'\x20('+this[_0x4ee20a(0x582)][_0x4ee20a(0x777)]+'):\x20'+_0x1d16a6),new m(_0x1d16a6);}}async[a0_0x36f96e(0x6d6)](_0x696df8){const _0x50da30=a0_0x36f96e;try{let _0x5b39dd=await this[_0x50da30(0x1b7)][_0x50da30(0x6cf)]['findOrCreate'](this['instance']['wuid']);if(!_0x5b39dd)throw new Error(_0x50da30(0x1c7));let _0x8135d1={'_id':_0x5b39dd['_id'],'flowConfig':{'enabled':_0x696df8[_0x50da30(0x6b4)]??_0x5b39dd[_0x50da30(0x1a0)][_0x50da30(0x6b4)],'ignoreGroups':_0x696df8[_0x50da30(0x447)]??_0x5b39dd[_0x50da30(0x1a0)]['ignoreGroups'],'prefixCommand':_0x696df8['prefixCommand']??_0x5b39dd[_0x50da30(0x1a0)][_0x50da30(0x6b5)],'stopConversation':_0x696df8[_0x50da30(0x7fc)]??_0x5b39dd[_0x50da30(0x1a0)][_0x50da30(0x7fc)],'stopMinutes':_0x696df8['stopMinutes']??_0x5b39dd[_0x50da30(0x1a0)][_0x50da30(0x70c)],'stopWhenYouSendMsg':_0x696df8[_0x50da30(0x4d9)]??_0x5b39dd['flowConfig'][_0x50da30(0x4d9)]}},_0x48bb70=await this[_0x50da30(0x1b7)]['automateSystem'][_0x50da30(0x3d0)](_0x8135d1,this['instance'][_0x50da30(0x777)]);return this['AutomateSystem']=_0x48bb70,this[_0x50da30(0x42c)]['verbose'](this[_0x50da30(0x7b7)]+'\x20('+this[_0x50da30(0x582)][_0x50da30(0x777)]+_0x50da30(0x1cc)),this[_0x50da30(0x42c)][_0x50da30(0x3a8)](this[_0x50da30(0x7b7)]+'\x20('+this[_0x50da30(0x582)][_0x50da30(0x777)]+_0x50da30(0x325)+this[_0x50da30(0x169)]),setTimeout(()=>this[_0x50da30(0x25e)](),0x7d0),_0x48bb70;}catch(_0x4c0798){let _0x182349=_0x50da30(0x4af),_0x1a26ac=_0x4c0798 instanceof Error?_0x4c0798['message']:typeof _0x4c0798==_0x50da30(0x3b0)?JSON[_0x50da30(0x751)](_0x4c0798):_0x4c0798,_0x2a5ca=_0x182349+':\x20'+_0x1a26ac;throw this['logger'][_0x50da30(0x370)](this[_0x50da30(0x7b7)]+'\x20('+this[_0x50da30(0x582)][_0x50da30(0x777)]+_0x50da30(0x325)+_0x2a5ca),new m(_0x2a5ca);}}async[a0_0x36f96e(0x775)](){const _0x5542e5=a0_0x36f96e;try{let _0x5bfdee=await this['repository']['automateSystem'][_0x5542e5(0x2f6)](this[_0x5542e5(0x582)]['wuid']);return this[_0x5542e5(0x169)]=_0x5bfdee,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5542e5(0x582)][_0x5542e5(0x777)]+_0x5542e5(0x49c)),this[_0x5542e5(0x42c)][_0x5542e5(0x3a8)](this[_0x5542e5(0x169)]),_0x5bfdee;}catch(_0x37b03c){let _0xfe5d4d=_0x5542e5(0x6a0),_0x5664d0=_0x37b03c instanceof Error?_0x37b03c[_0x5542e5(0x641)]:typeof _0x37b03c==_0x5542e5(0x3b0)?JSON['stringify'](_0x37b03c):_0x37b03c,_0x2e1108=_0xfe5d4d+':\x20'+_0x5664d0;throw this[_0x5542e5(0x42c)]['error'](this[_0x5542e5(0x7b7)]+'\x20('+this[_0x5542e5(0x582)]['wuid']+_0x5542e5(0x325)+_0x2e1108),new m(_0x2e1108);}}async[a0_0x36f96e(0x222)](){const _0x5aa01e=a0_0x36f96e;this['instance'][_0x5aa01e(0x39c)]['timeout']&&clearTimeout(this['instance'][_0x5aa01e(0x39c)][_0x5aa01e(0x444)]),this['instance'][_0x5aa01e(0x39c)][_0x5aa01e(0x444)]=setTimeout(()=>{const _0x557173=_0x5aa01e;this[_0x557173(0x73a)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x36f96e(0x73a)](){const _0x4614c6=a0_0x36f96e;Date['now']()-this[_0x4614c6(0x582)][_0x4614c6(0x39c)]['lastSend']>=0x1d4c0&&(this[_0x4614c6(0x42c)][_0x4614c6(0x3a8)](this['instanceName']+'\x20('+this[_0x4614c6(0x582)][_0x4614c6(0x777)]+_0x4614c6(0x4c2)),this[_0x4614c6(0x582)][_0x4614c6(0x39c)]['processing_id']=null,this['instance'][_0x4614c6(0x39c)][_0x4614c6(0x45c)]=0x0,this[_0x4614c6(0x582)][_0x4614c6(0x39c)][_0x4614c6(0x312)]=0x0,await this[_0x4614c6(0x25e)]());}async['scheduleNextCheck'](){const _0x1ad157=a0_0x36f96e;let _0x10cc5d=()=>{const _0x2419cd=a0_0x5519;this[_0x2419cd(0x42c)][_0x2419cd(0x3a8)](this[_0x2419cd(0x7b7)]+'\x20('+this[_0x2419cd(0x582)]['wuid']+_0x2419cd(0x5f5)+this[_0x2419cd(0x582)]['ScheduleMessage'][_0x2419cd(0x352)]+_0x2419cd(0x6c8));},_0x529520=async()=>{const _0x27824e=a0_0x5519;this[_0x27824e(0x42c)][_0x27824e(0x3a8)](this[_0x27824e(0x7b7)]+'\x20('+this[_0x27824e(0x582)][_0x27824e(0x777)]+_0x27824e(0x532));let _0x53949e=Date[_0x27824e(0x31b)]()-0xc*0x3c*0x3c*0x3e8,_0x292906={'where':{'status':{'$in':[_0x27824e(0x512),'sending']},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x53949e}},{'when':0x0}]}};return await this[_0x27824e(0x1b7)]['scheduleMessage'][_0x27824e(0x6a2)](_0x292906,this[_0x27824e(0x582)][_0x27824e(0x777)]);},_0x45fd1a=async _0x4af7f1=>{const _0x4ce307=a0_0x5519;for(let _0x4cc010 of _0x4af7f1){let _0x5aa691={'_id':_0x4cc010['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x4ce307(0x31b)]()-0x1770}}]},_0x76e145={'startSend':Date['now']()};if(!await this[_0x4ce307(0x1b7)][_0x4ce307(0x6db)][_0x4ce307(0x4ec)](_0x5aa691,_0x76e145,this['instance'][_0x4ce307(0x777)]))return;if(!this[_0x4ce307(0x582)][_0x4ce307(0x39c)][_0x4ce307(0x7e2)]){this[_0x4ce307(0x42c)]['verbose'](this[_0x4ce307(0x7b7)]+'\x20('+this[_0x4ce307(0x582)][_0x4ce307(0x777)]+_0x4ce307(0x62b));break;}if(_0x4cc010[_0x4ce307(0x2aa)]===_0x4ce307(0x6fb)&&!this['AutomateSystem']?.['flowConfig'][_0x4ce307(0x6b4)]){this[_0x4ce307(0x42c)][_0x4ce307(0x370)](this[_0x4ce307(0x7b7)]+'\x20('+this['instance'][_0x4ce307(0x777)]+_0x4ce307(0x53f));continue;}(!_0x4cc010[_0x4ce307(0x178)]||_0x4cc010['remoteJidsRemaining'][_0x4ce307(0x5ed)]===0x0)&&(_0x4cc010=await this[_0x4ce307(0x1b7)][_0x4ce307(0x6db)][_0x4ce307(0x533)](_0x4cc010[_0x4ce307(0x183)],{'status':_0x4ce307(0x662),'remoteJidsRemaining':[..._0x4cc010[_0x4ce307(0x393)]]},this[_0x4ce307(0x582)][_0x4ce307(0x777)]));for(let _0x54c241 of _0x4cc010[_0x4ce307(0x178)]){if(await this['setRestartTimeout'](),this['instance']['ScheduleMessage'][_0x4ce307(0x45c)]=Date['now'](),this[_0x4ce307(0x582)][_0x4ce307(0x39c)][_0x4ce307(0x65e)]===_0x54c241){this[_0x4ce307(0x42c)][_0x4ce307(0x370)](this[_0x4ce307(0x7b7)]+'\x20('+this[_0x4ce307(0x582)][_0x4ce307(0x777)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x54c241+_0x4ce307(0x4e9));let _0x5776ff={'$push':{'messagesSend':{'remoteJid':_0x54c241,'error':!0x0,'id':null,'error_log':_0x4ce307(0x749),'log_timestamp':Date[_0x4ce307(0x31b)]()}},'$pull':{'remoteJidsRemaining':_0x54c241}};await this['repository'][_0x4ce307(0x6db)][_0x4ce307(0x533)](_0x4cc010['_id'],_0x5776ff,this[_0x4ce307(0x582)]['wuid']);continue;}if(this['instance'][_0x4ce307(0x39c)][_0x4ce307(0x65e)]=_0x54c241,_0x4cc010[_0x4ce307(0x6e8)][_0x4ce307(0x628)](_0x2bd8a1=>_0x2bd8a1[_0x4ce307(0x71c)]===_0x54c241)){this[_0x4ce307(0x42c)]['verbose'](this[_0x4ce307(0x7b7)]+'\x20('+this[_0x4ce307(0x582)][_0x4ce307(0x777)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x54c241+_0x4ce307(0x48c));continue;}if(!this[_0x4ce307(0x582)][_0x4ce307(0x39c)]['isConnected']){this[_0x4ce307(0x42c)][_0x4ce307(0x3a8)](this[_0x4ce307(0x7b7)]+'\x20('+this[_0x4ce307(0x582)][_0x4ce307(0x777)]+_0x4ce307(0x465));break;}if(!this[_0x4ce307(0x582)][_0x4ce307(0x39c)]['processing_id']){this[_0x4ce307(0x42c)][_0x4ce307(0x3a8)](this['instanceName']+'\x20('+this['instance'][_0x4ce307(0x777)]+_0x4ce307(0x5d8)+_0x4cc010[_0x4ce307(0x183)]+_0x4ce307(0x545));break;}if(_0x4cc010['type']===_0x4ce307(0x6fb)&&!this[_0x4ce307(0x169)]?.[_0x4ce307(0x1a0)]['enabled']){this[_0x4ce307(0x42c)][_0x4ce307(0x370)](this[_0x4ce307(0x7b7)]+'\x20('+this['instance'][_0x4ce307(0x777)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x3c0d6f={'remoteJid':_0x54c241,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x4ce307(0x31b)]()},_0x5b4d8f=null;try{let _0x5afbe0=await this[_0x4ce307(0x28a)](_0x54c241,_0x4cc010);_0x3c0d6f[_0x4ce307(0x370)]=_0x5afbe0[_0x4ce307(0x370)],_0x3c0d6f['id']=_0x5afbe0['error']?null:_0x5afbe0['id'],_0x3c0d6f['error_log']=_0x5afbe0[_0x4ce307(0x370)]?_0x5afbe0['detail']?_0x5afbe0['detail'][_0x4ce307(0x2ee)]():'':null;let _0x45eb99={'$push':{'messagesSend':_0x3c0d6f},'$pull':{'remoteJidsRemaining':_0x54c241}},_0x48306e=_0x4cc010[_0x4ce307(0x183)];if(_0x5b4d8f=await this[_0x4ce307(0x1b7)]['scheduleMessage']['updateOneById'](_0x48306e,_0x45eb99,this[_0x4ce307(0x582)][_0x4ce307(0x777)]),_0x5afbe0['error'])continue;let _0x1bd2d0=this['getDelay'](_0x4cc010[_0x4ce307(0x6d7)],_0x4cc010[_0x4ce307(0x457)]);await this[_0x4ce307(0x39d)](_0x1bd2d0);}catch(_0x39272d){this[_0x4ce307(0x42c)][_0x4ce307(0x370)](this['instanceName']+'\x20('+this[_0x4ce307(0x582)][_0x4ce307(0x777)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x54c241+':\x20'+(_0x39272d instanceof Error?_0x39272d['message']:JSON[_0x4ce307(0x751)](_0x39272d,null,0x2))),_0x3c0d6f['error']=!0x0,_0x3c0d6f['error_log']=_0x39272d[_0x4ce307(0x641)];let _0x177bed={'$push':{'messagesSend':_0x3c0d6f},'$pull':{'remoteJidsRemaining':_0x54c241}},_0x5d6542=_0x4cc010['_id'];_0x5b4d8f=await this[_0x4ce307(0x1b7)][_0x4ce307(0x6db)][_0x4ce307(0x533)](_0x5d6542,_0x177bed,this[_0x4ce307(0x582)][_0x4ce307(0x777)]);}finally{if(_0x5b4d8f&&_0x5b4d8f[_0x4ce307(0x193)]===_0x4ce307(0x7c1)){this[_0x4ce307(0x42c)][_0x4ce307(0x3a8)](this['instanceName']+'\x20('+this[_0x4ce307(0x582)][_0x4ce307(0x777)]+_0x4ce307(0x5d8)+_0x4cc010[_0x4ce307(0x183)]+_0x4ce307(0x392));break;}}}let _0x471680=await this['repository']['scheduleMessage'][_0x4ce307(0x3bc)](_0x4cc010['_id'],this[_0x4ce307(0x582)][_0x4ce307(0x777)]);if(_0x471680[_0x4ce307(0x178)][_0x4ce307(0x5ed)]===0x0&&_0x471680[_0x4ce307(0x193)]!==_0x4ce307(0x7c1)){this[_0x4ce307(0x582)][_0x4ce307(0x39c)][_0x4ce307(0x65e)]=null;let _0x498735={'$set':{'status':'done'}},_0x4f0715=_0x471680[_0x4ce307(0x183)];await this[_0x4ce307(0x1b7)]['scheduleMessage'][_0x4ce307(0x533)](_0x4f0715,_0x498735,this[_0x4ce307(0x582)]['wuid']);}await new Promise(_0x24bcf0=>setTimeout(_0x24bcf0,0x1388));}},_0x121afd=async()=>{const _0x1f5b0a=a0_0x5519;let _0x23fa0c={'where':{'status':_0x1f5b0a(0x512),'when':{'$gt':Date['now']()}}},_0x1aba67=await this[_0x1f5b0a(0x1b7)][_0x1f5b0a(0x6db)][_0x1f5b0a(0x49a)](_0x23fa0c,this['instance'][_0x1f5b0a(0x777)]);_0x1aba67&&_0x1aba67[_0x1f5b0a(0x4e2)]-Date[_0x1f5b0a(0x31b)]()<=0x5265c00?this[_0x1f5b0a(0x582)]['ScheduleMessage'][_0x1f5b0a(0x312)]=_0x1aba67[_0x1f5b0a(0x4e2)]-Date[_0x1f5b0a(0x31b)]():this[_0x1f5b0a(0x582)][_0x1f5b0a(0x39c)][_0x1f5b0a(0x312)]=(0x3c+Math[_0x1f5b0a(0x21e)](Math[_0x1f5b0a(0x796)]()*0x3c))*0x3c*0x3e8,this[_0x1f5b0a(0x582)][_0x1f5b0a(0x39c)][_0x1f5b0a(0x312)]=Math[_0x1f5b0a(0x541)](this[_0x1f5b0a(0x582)][_0x1f5b0a(0x39c)][_0x1f5b0a(0x312)],0x7d0);let _0x53105b=Math[_0x1f5b0a(0x243)](this[_0x1f5b0a(0x582)][_0x1f5b0a(0x39c)][_0x1f5b0a(0x312)]/0xea60);if(_0x1aba67){let _0x19a811=new Date(_0x1aba67[_0x1f5b0a(0x4e2)])[_0x1f5b0a(0x682)]();this[_0x1f5b0a(0x42c)][_0x1f5b0a(0x3a8)](this['instanceName']+'\x20('+this[_0x1f5b0a(0x582)][_0x1f5b0a(0x777)]+_0x1f5b0a(0x223)+_0x19a811+_0x1f5b0a(0x56c)+_0x53105b+_0x1f5b0a(0x4b7));}else this[_0x1f5b0a(0x42c)][_0x1f5b0a(0x3a8)](this[_0x1f5b0a(0x7b7)]+'\x20('+this['instance']['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x53105b+_0x1f5b0a(0x4b7));setTimeout(()=>this[_0x1f5b0a(0x25e)](),this[_0x1f5b0a(0x582)][_0x1f5b0a(0x39c)][_0x1f5b0a(0x312)]);};if(this[_0x1ad157(0x582)][_0x1ad157(0x39c)][_0x1ad157(0x352)]){await this[_0x1ad157(0x222)](),_0x10cc5d();return;}if(!this['instance'][_0x1ad157(0x39c)][_0x1ad157(0x7e2)]){this[_0x1ad157(0x42c)]['verbose'](this[_0x1ad157(0x7b7)]+'\x20('+this[_0x1ad157(0x582)][_0x1ad157(0x777)]+_0x1ad157(0x1d9)),this['instance'][_0x1ad157(0x39c)]['processing_id']=null,this[_0x1ad157(0x582)][_0x1ad157(0x39c)][_0x1ad157(0x45c)]=0x0,this['instance'][_0x1ad157(0x39c)][_0x1ad157(0x312)]=0x0,this[_0x1ad157(0x582)][_0x1ad157(0x39c)][_0x1ad157(0x65e)]=null;return;}try{let _0x205f54=await _0x529520();_0x205f54[_0x1ad157(0x5ed)]===0x0?this['logger'][_0x1ad157(0x3a8)](this[_0x1ad157(0x7b7)]+'\x20('+this[_0x1ad157(0x582)][_0x1ad157(0x777)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x1ad157(0x582)][_0x1ad157(0x39c)][_0x1ad157(0x352)]=_0x205f54[0x0]['_id'],await _0x45fd1a(_0x205f54)),await _0x121afd(),this[_0x1ad157(0x582)]['ScheduleMessage'][_0x1ad157(0x352)]=null,this['instance'][_0x1ad157(0x39c)][_0x1ad157(0x65e)]=null;}catch(_0x5b9a0a){this['logger'][_0x1ad157(0x370)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x5b9a0a instanceof Error?_0x5b9a0a[_0x1ad157(0x641)]:JSON['stringify'](_0x5b9a0a,null,0x2)));}}['getDelay'](_0x2810f1,_0x4ce58f){const _0x15c933=a0_0x36f96e;return _0x2810f1=Math[_0x15c933(0x541)](0.5,_0x2810f1),_0x4ce58f=Math[_0x15c933(0x431)](Math[_0x15c933(0x541)](0x3,_0x4ce58f),0x78),Math[_0x15c933(0x21e)](Math[_0x15c933(0x796)]()*(_0x4ce58f-_0x2810f1+0x1)+_0x2810f1)*0x3e8;}[a0_0x36f96e(0x39d)](_0x3ef84a){return new Promise(_0x58ea35=>setTimeout(_0x58ea35,_0x3ef84a));}async['getVariablesChat'](_0x3ff2e0){const _0x21bfab=a0_0x36f96e;if(!this[_0x21bfab(0x169)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0x3ff2e0=this[_0x21bfab(0x3b6)](_0x3ff2e0);let _0x30ff93=await this[_0x21bfab(0x1b7)]['chat']['findOne']({'where':{'_id':_0x3ff2e0}},this[_0x21bfab(0x582)][_0x21bfab(0x777)]),_0x29f4c8={};if(_0x30ff93&&_0x30ff93[_0x21bfab(0x818)]){let _0x3b7139=_0x30ff93[_0x21bfab(0x818)];typeof _0x3b7139['nome']=='string'&&(_0x29f4c8[_0x21bfab(0x76e)]=_0x3b7139[_0x21bfab(0x76e)]),typeof _0x3b7139[_0x21bfab(0x323)]==_0x21bfab(0x18f)&&(_0x29f4c8['nomecompleto']=_0x3b7139['nomecompleto']),typeof _0x3b7139[_0x21bfab(0x2b8)]==_0x21bfab(0x18f)&&(_0x29f4c8[_0x21bfab(0x2b8)]=_0x3b7139['email']),typeof _0x3b7139[_0x21bfab(0x565)]==_0x21bfab(0x18f)&&(_0x29f4c8['cpf']=_0x3b7139[_0x21bfab(0x565)]),typeof _0x3b7139[_0x21bfab(0x193)]==_0x21bfab(0x18f)&&(_0x29f4c8[_0x21bfab(0x193)]=_0x3b7139[_0x21bfab(0x193)]),typeof _0x3b7139[_0x21bfab(0x419)]==_0x21bfab(0x18f)&&(_0x29f4c8['notas']=_0x3b7139[_0x21bfab(0x419)]),typeof _0x3b7139['responsavelid']==_0x21bfab(0x18f)&&(_0x29f4c8[_0x21bfab(0x129)]=_0x3b7139[_0x21bfab(0x129)]),Array[_0x21bfab(0x358)](_0x3b7139['tags'])&&(_0x29f4c8[_0x21bfab(0x10a)]=_0x3b7139['tags'][_0x21bfab(0x41f)](',\x20')),Array['isArray'](_0x3b7139[_0x21bfab(0x4c7)])&&(_0x29f4c8[_0x21bfab(0x4c7)]=_0x3b7139[_0x21bfab(0x4c7)][_0x21bfab(0x41f)](',\x20'));}return _0x30ff93&&_0x30ff93[_0x21bfab(0x818)]&&_0x30ff93[_0x21bfab(0x818)]['customFields']&&_0x30ff93[_0x21bfab(0x818)]['customFields']['forEach'](_0x528627=>{const _0x4fc1c1=_0x21bfab;let _0x365a92=this[_0x4fc1c1(0x169)]?.[_0x4fc1c1(0x3d8)]['find'](_0x57bd4b=>_0x57bd4b[_0x4fc1c1(0x183)]===_0x528627[_0x4fc1c1(0x183)]);_0x365a92&&(_0x29f4c8[_0x365a92['name']]=_0x528627[_0x4fc1c1(0x7b2)]);}),_0x29f4c8;}async[a0_0x36f96e(0x793)](_0x2dd13f,_0x5e55c8){const _0x4d49c0=a0_0x36f96e;try{let _0x30af7a=await this['getVariablesChat'](_0x5e55c8);return this[_0x4d49c0(0x260)](_0x2dd13f,_0x30af7a);}catch(_0x240f05){return this['logger'][_0x4d49c0(0x370)](_0x4d49c0(0x37f)+_0x5e55c8+':\x20'+_0x240f05),_0x2dd13f;}}async[a0_0x36f96e(0x6fd)](_0x2b178b){const _0x52946d=a0_0x36f96e;try{if(this[_0x52946d(0x42c)][_0x52946d(0x3a8)](this[_0x52946d(0x7b7)]+'\x20('+this[_0x52946d(0x582)][_0x52946d(0x777)]+_0x52946d(0x6ed)),_0x2b178b[_0x52946d(0x2fc)]&&_0x2b178b['_id']){if(this['instance'][_0x52946d(0x39c)]['processing_id']===_0x2b178b[_0x52946d(0x183)]['toString']())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x265427=await this[_0x52946d(0x1b7)][_0x52946d(0x6db)]['deleteOne'](_0x2b178b['_id'],this[_0x52946d(0x582)][_0x52946d(0x777)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x265427;}let _0x36b6f3;if(_0x2b178b['_id']&&(_0x36b6f3=await this[_0x52946d(0x1b7)][_0x52946d(0x6db)][_0x52946d(0x3bc)](_0x2b178b['_id'],this['instance']['wuid'])),_0x36b6f3){let _0x2730bc;if(this[_0x52946d(0x582)]['ScheduleMessage'][_0x52946d(0x352)]===_0x36b6f3[_0x52946d(0x183)][_0x52946d(0x2ee)]())_0x2730bc={'$set':{'status':_0x2b178b[_0x52946d(0x193)]}};else{let {_id:_0x573800,..._0x511b0b}=_0x2b178b;_0x2730bc={'$set':_0x511b0b};}let _0x4f4db2=await this['repository'][_0x52946d(0x6db)]['updateOneById'](_0x2b178b[_0x52946d(0x183)],_0x2730bc,this[_0x52946d(0x582)][_0x52946d(0x777)]);return setTimeout(()=>this[_0x52946d(0x25e)](),0x7d0),_0x4f4db2;}else{_0x2b178b['owner']=this[_0x52946d(0x582)][_0x52946d(0x777)];let _0x225155=await this['repository'][_0x52946d(0x6db)][_0x52946d(0x580)](_0x2b178b,this[_0x52946d(0x582)][_0x52946d(0x777)]);return setTimeout(()=>this[_0x52946d(0x25e)](),0x7d0),_0x225155;}}catch(_0x8fe4d6){let _0xf9ac9b=_0x52946d(0x3cb),_0x480e59=_0x8fe4d6 instanceof Error?_0x8fe4d6[_0x52946d(0x641)]:typeof _0x8fe4d6=='object'?JSON['stringify'](_0x8fe4d6):_0x8fe4d6,_0x5e461f=_0xf9ac9b+':\x20'+_0x480e59;throw this[_0x52946d(0x42c)][_0x52946d(0x370)](this[_0x52946d(0x7b7)]+'\x20('+this[_0x52946d(0x582)][_0x52946d(0x777)]+_0x52946d(0x325)+_0x5e461f),new m(_0x5e461f);}}async[a0_0x36f96e(0x61b)](){const _0x1eb440=a0_0x36f96e;try{return await this[_0x1eb440(0x1b7)][_0x1eb440(0x6db)][_0x1eb440(0x6a2)]({'where':{}},this['instance'][_0x1eb440(0x777)]);}catch(_0x566707){let _0x5dbd68=_0x1eb440(0x1ba),_0xfdab23=_0x566707 instanceof Error?_0x566707['message']:typeof _0x566707==_0x1eb440(0x3b0)?JSON[_0x1eb440(0x751)](_0x566707):_0x566707,_0x4839ad=_0x5dbd68+':\x20'+_0xfdab23;throw this[_0x1eb440(0x42c)][_0x1eb440(0x370)](this[_0x1eb440(0x7b7)]+'\x20('+this[_0x1eb440(0x582)]['wuid']+'):\x20'+_0x4839ad),new m(_0x4839ad);}}async[a0_0x36f96e(0x782)](){const _0x419d2c=a0_0x36f96e;try{let _0x1c61c5={'status':_0x419d2c(0x12b)},_0x3f5f42=await this['repository'][_0x419d2c(0x6db)][_0x419d2c(0x63b)](_0x1c61c5,this['instance']['wuid']);if(!_0x3f5f42[_0x419d2c(0x370)])this[_0x419d2c(0x42c)]['verbose'](this[_0x419d2c(0x7b7)]+'\x20('+this[_0x419d2c(0x582)][_0x419d2c(0x777)]+_0x419d2c(0x235));else throw new Error(_0x3f5f42[_0x419d2c(0x370)][_0x419d2c(0x641)]||_0x419d2c(0x3f3));return this[_0x419d2c(0x61b)]();}catch(_0x47ddc3){let _0x204258=_0x419d2c(0x1ec),_0x4bb299=_0x47ddc3 instanceof Error?_0x47ddc3['message']:typeof _0x47ddc3==_0x419d2c(0x3b0)?JSON[_0x419d2c(0x751)](_0x47ddc3):_0x47ddc3,_0xb0e58=_0x204258+':\x20'+_0x4bb299;throw this['logger'][_0x419d2c(0x370)](this[_0x419d2c(0x7b7)]+'\x20('+this['instance']['wuid']+'):\x20'+_0xb0e58),new m(_0xb0e58);}}async[a0_0x36f96e(0x28a)](_0x381005,_0x23309){const _0x498c32=a0_0x36f96e;try{if(_0x23309['type']===_0x498c32(0x6fb)&&!this[_0x498c32(0x169)]?.[_0x498c32(0x1a0)][_0x498c32(0x6b4)])return this[_0x498c32(0x42c)][_0x498c32(0x370)](this['instanceName']+'\x20('+this[_0x498c32(0x582)][_0x498c32(0x777)]+_0x498c32(0x6d2)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x23309[_0x498c32(0x2aa)]){case _0x498c32(0x562):return await this[_0x498c32(0x7ab)](_0x23309,_0x381005);case _0x498c32(0x6c0):return await this['scheduleSendMedia'](_0x23309,_0x381005);case _0x498c32(0x1d3):return await this[_0x498c32(0x149)](_0x23309,_0x381005);case _0x498c32(0x6fb):let _0x12e08c=new Ve();return _0x12e08c[_0x498c32(0x79c)]=_0x23309['flowName'],_0x12e08c[_0x498c32(0x71c)]=_0x381005,await this[_0x498c32(0x136)](_0x12e08c);break;default:return this[_0x498c32(0x42c)][_0x498c32(0x370)](this[_0x498c32(0x7b7)]+'\x20('+this[_0x498c32(0x582)][_0x498c32(0x777)]+_0x498c32(0x69a)+_0x23309[_0x498c32(0x2aa)]),{'error':!0x0,'detail':_0x498c32(0x5c8)};}}catch(_0x5ae210){return this[_0x498c32(0x42c)][_0x498c32(0x370)](this[_0x498c32(0x7b7)]+'\x20('+this[_0x498c32(0x582)][_0x498c32(0x777)]+_0x498c32(0x7b1)+(_0x5ae210 instanceof Error?_0x5ae210[_0x498c32(0x641)]:JSON['stringify'](_0x5ae210,null,0x2))),{'error':!0x0,'detail':_0x5ae210[_0x498c32(0x641)]};}}[a0_0x36f96e(0x59e)](_0x5ba942){const _0x3b9cab=a0_0x36f96e;let _0x535026=_0x5ba942[_0x3b9cab(0x71a)]('|'),_0x4c83da=Math[_0x3b9cab(0x21e)](Math['random']()*_0x535026['length']);return _0x535026[_0x4c83da][_0x3b9cab(0x540)]();}async[a0_0x36f96e(0x7ab)](_0x49fc5a,_0x110e71){const _0x2ab665=a0_0x36f96e;if(this[_0x2ab665(0x42c)][_0x2ab665(0x3a8)](this[_0x2ab665(0x7b7)]+'\x20('+this[_0x2ab665(0x582)]['wuid']+_0x2ab665(0x52e)),!_0x49fc5a['message'][_0x2ab665(0x562)]||_0x49fc5a[_0x2ab665(0x641)][_0x2ab665(0x562)]['length']===0x0)return{'error':!0x0,'detail':_0x2ab665(0x52d)};let _0x1575c9=this['getRandomText'](_0x49fc5a['message'][_0x2ab665(0x562)]),_0x1ebe2f=await this[_0x2ab665(0x793)](_0x1575c9,_0x110e71),_0x3fa52c={'number':_0x110e71,'options':{'delay':_0x49fc5a[_0x2ab665(0x641)]['delay'],'linkPreview':_0x49fc5a['message'][_0x2ab665(0x815)]},'textMessage':{'text':_0x1ebe2f}},_0x71fb56=null;try{let _0x3abd18=await this[_0x2ab665(0x7c7)](_0x3fa52c);if(_0x3abd18&&_0x3abd18[_0x2ab665(0x193)])return{'error':!0x1,'id':_0x3abd18[_0x2ab665(0x2f3)]['id']};_0x71fb56=JSON['stringify'](_0x3abd18),this[_0x2ab665(0x42c)]['verbose'](this[_0x2ab665(0x7b7)]+'\x20('+this[_0x2ab665(0x582)]['wuid']+_0x2ab665(0x325)+_0x71fb56);}catch(_0x121dae){this['logger'][_0x2ab665(0x370)](this[_0x2ab665(0x7b7)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x121dae instanceof Error?_0x121dae['message']:JSON[_0x2ab665(0x751)](_0x121dae,null,0x2))),_0x71fb56=_0x121dae[_0x2ab665(0x641)];}if(_0x71fb56)return{'error':!0x0,'detail':(typeof _0x71fb56==_0x2ab665(0x3b0)?JSON['stringify'](_0x71fb56,null,0x2):_0x71fb56)[_0x2ab665(0x410)](/[\[\]{}\n]/g,'\x20')[_0x2ab665(0x410)](/  +/g,'\x20')};}async[a0_0x36f96e(0x1bb)](_0x213970,_0x3d4af9){const _0x3c1d0b=a0_0x36f96e;this[_0x3c1d0b(0x42c)]['verbose'](this[_0x3c1d0b(0x7b7)]+'\x20('+this['instance']['wuid']+_0x3c1d0b(0x495));let _0x1a4bd4;if(_0x213970[_0x3c1d0b(0x641)]['text']&&_0x213970[_0x3c1d0b(0x641)][_0x3c1d0b(0x562)][_0x3c1d0b(0x5ed)]>0x0){let _0x5936b7=this[_0x3c1d0b(0x59e)](_0x213970['message'][_0x3c1d0b(0x562)]);_0x1a4bd4=await this[_0x3c1d0b(0x793)](_0x5936b7,_0x3d4af9);}let _0x1416e0={'number':_0x3d4af9,'options':{'delay':_0x213970[_0x3c1d0b(0x641)][_0x3c1d0b(0x31a)],'linkPreview':_0x213970[_0x3c1d0b(0x641)][_0x3c1d0b(0x815)]},'mediaMessage':{'mediatype':_0x213970[_0x3c1d0b(0x641)][_0x3c1d0b(0x6ca)],'caption':_0x1a4bd4,'media':_0x213970[_0x3c1d0b(0x641)][_0x3c1d0b(0x4ca)]}},_0x560aae=null;try{let _0x1bacb9=await this['mediaMessage'](_0x1416e0);if(_0x1bacb9&&_0x1bacb9[_0x3c1d0b(0x193)])return{'error':!0x1,'id':_0x1bacb9[_0x3c1d0b(0x2f3)]['id']};_0x560aae=JSON['stringify'](_0x1bacb9),this['logger'][_0x3c1d0b(0x3a8)](this['instanceName']+'\x20('+this[_0x3c1d0b(0x582)][_0x3c1d0b(0x777)]+_0x3c1d0b(0x325)+_0x560aae);}catch(_0x1f7792){this['logger'][_0x3c1d0b(0x370)](this[_0x3c1d0b(0x7b7)]+'\x20('+this[_0x3c1d0b(0x582)][_0x3c1d0b(0x777)]+_0x3c1d0b(0x75e)+(_0x1f7792 instanceof Error?_0x1f7792[_0x3c1d0b(0x641)]:JSON[_0x3c1d0b(0x751)](_0x1f7792,null,0x2))),_0x560aae=_0x1f7792[_0x3c1d0b(0x641)];}if(_0x560aae)return{'error':!0x0,'detail':(typeof _0x560aae==_0x3c1d0b(0x3b0)?JSON[_0x3c1d0b(0x751)](_0x560aae,null,0x2):_0x560aae)[_0x3c1d0b(0x410)](/[\[\]{}\n]/g,'\x20')[_0x3c1d0b(0x410)](/  +/g,'\x20')};}async[a0_0x36f96e(0x149)](_0x1c8e45,_0x170bd3){const _0xc082f7=a0_0x36f96e;this[_0xc082f7(0x42c)][_0xc082f7(0x3a8)](this[_0xc082f7(0x7b7)]+'\x20('+this[_0xc082f7(0x582)][_0xc082f7(0x777)]+'):\x20Enviando\x20áudio');let _0x5ba632={'number':_0x170bd3,'options':{'delay':_0x1c8e45[_0xc082f7(0x641)]['delay']},'audioMessage':{'audio':_0x1c8e45['message'][_0xc082f7(0x4ca)]}},_0x1b5925=null;try{let _0x4d9a69=await this['audioWhatsapp'](_0x5ba632);if(_0x4d9a69&&_0x4d9a69[_0xc082f7(0x193)])return{'error':!0x1,'id':_0x4d9a69['key']['id']};_0x1b5925=JSON[_0xc082f7(0x751)](_0x4d9a69),this[_0xc082f7(0x42c)]['verbose'](this[_0xc082f7(0x7b7)]+'\x20('+this[_0xc082f7(0x582)][_0xc082f7(0x777)]+'):\x20'+_0x1b5925);}catch(_0x223c01){this[_0xc082f7(0x42c)][_0xc082f7(0x370)](this['instanceName']+'\x20('+this[_0xc082f7(0x582)][_0xc082f7(0x777)]+_0xc082f7(0x511)+(_0x223c01 instanceof Error?_0x223c01[_0xc082f7(0x641)]:JSON[_0xc082f7(0x751)](_0x223c01,null,0x2))),_0x1b5925=_0x223c01[_0xc082f7(0x641)];}if(_0x1b5925)return{'error':!0x0,'detail':(typeof _0x1b5925==_0xc082f7(0x3b0)?JSON['stringify'](_0x1b5925,null,0x2):_0x1b5925)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x36f96e(0x686)](_0x2e8726){const _0xa4ab74=a0_0x36f96e;try{return await this[_0xa4ab74(0x3a9)][_0xa4ab74(0x785)](_0x2e8726['groupJid'],_0x2e8726[_0xa4ab74(0x6c6)]),{'update':'success'};}catch(_0xae4a32){let _0x30fe53=_0xa4ab74(0x311),_0x493bdc=_0xae4a32 instanceof Error?_0xae4a32[_0xa4ab74(0x641)]:typeof _0xae4a32==_0xa4ab74(0x3b0)?JSON['stringify'](_0xae4a32):_0xae4a32,_0x26ecdf=_0x30fe53+':\x20'+_0x493bdc;throw this[_0xa4ab74(0x42c)][_0xa4ab74(0x370)](this['instanceName']+'\x20('+this[_0xa4ab74(0x582)][_0xa4ab74(0x777)]+_0xa4ab74(0x325)+_0x26ecdf),new x(_0x26ecdf);}}async[a0_0x36f96e(0x6a3)](_0x5e0017){const _0x47bb09=a0_0x36f96e;try{return await this[_0x47bb09(0x3a9)][_0x47bb09(0x428)](_0x5e0017[_0x47bb09(0x214)],_0x5e0017[_0x47bb09(0x79c)]),{'update':_0x47bb09(0x658)};}catch(_0x4fc947){let _0x28b8a1=_0x47bb09(0x415),_0x550353=_0x4fc947 instanceof Error?_0x4fc947[_0x47bb09(0x641)]:typeof _0x4fc947=='object'?JSON[_0x47bb09(0x751)](_0x4fc947):_0x4fc947,_0x1db5d4=_0x28b8a1+':\x20'+_0x550353;throw this[_0x47bb09(0x42c)]['error'](this[_0x47bb09(0x7b7)]+'\x20('+this[_0x47bb09(0x582)]['wuid']+'):\x20'+_0x1db5d4),new x(_0x1db5d4);}}async[a0_0x36f96e(0x3e7)](_0x416dc8){const _0x226416=a0_0x36f96e;try{let _0x1bb4e7=await this[_0x226416(0x3a9)][_0x226416(0x4b4)](_0x416dc8[_0x226416(0x214)],_0x416dc8[_0x226416(0x189)]);return{'success':!0x0};}catch(_0x37c295){let _0xb09c13=_0x226416(0x273),_0x3dd104=_0x37c295 instanceof Error?_0x37c295[_0x226416(0x641)]:typeof _0x37c295=='object'?JSON[_0x226416(0x751)](_0x37c295):_0x37c295,_0xbcacbb=_0xb09c13+':\x20'+_0x3dd104;throw this[_0x226416(0x42c)][_0x226416(0x370)](this[_0x226416(0x7b7)]+'\x20('+this[_0x226416(0x582)][_0x226416(0x777)]+_0x226416(0x325)+_0xbcacbb),new x(_0xbcacbb);}}async[a0_0x36f96e(0x537)](_0x1d9e28){const _0x56bb3c=a0_0x36f96e;try{return await this[_0x56bb3c(0x3a9)][_0x56bb3c(0x79e)](_0x1d9e28['groupJid'],_0x1d9e28[_0x56bb3c(0x6d0)]),{'update':'success'};}catch(_0x343baa){let _0x204406=_0x56bb3c(0x1f1),_0x386f2c=_0x343baa instanceof Error?_0x343baa['message']:typeof _0x343baa==_0x56bb3c(0x3b0)?JSON[_0x56bb3c(0x751)](_0x343baa):_0x343baa,_0x5d0aad=_0x204406+':\x20'+_0x386f2c;throw this[_0x56bb3c(0x42c)][_0x56bb3c(0x370)](this['instanceName']+'\x20('+this[_0x56bb3c(0x582)][_0x56bb3c(0x777)]+_0x56bb3c(0x325)+_0x5d0aad),new x(_0x5d0aad);}}async['updateGroupPicture'](_0x236c69){const _0x5f0451=a0_0x36f96e;try{let _0x50b4e9;if((0x0,k[_0x5f0451(0x15d)])(_0x236c69[_0x5f0451(0x4fb)])){let _0x17547a=new Date()['getTime'](),_0x2e8b17=_0x236c69[_0x5f0451(0x4fb)]+'?timestamp='+_0x17547a;_0x50b4e9=(await Q[_0x5f0451(0x3dd)][_0x5f0451(0x5aa)](_0x2e8b17,{'responseType':_0x5f0451(0x7cb)}))[_0x5f0451(0x7af)];}else{if((0x0,k[_0x5f0451(0x4dd)])(_0x236c69['image']))_0x50b4e9=Buffer[_0x5f0451(0x6b9)](_0x236c69[_0x5f0451(0x4fb)],_0x5f0451(0x5f6));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x5f0451(0x3a9)][_0x5f0451(0x14d)](_0x236c69[_0x5f0451(0x214)],_0x50b4e9),{'update':_0x5f0451(0x658)};}catch(_0x5ce276){let _0x3e2615=_0x5f0451(0x5b7),_0x5f39e6=_0x5ce276 instanceof Error?_0x5ce276['message']:typeof _0x5ce276==_0x5f0451(0x3b0)?JSON[_0x5f0451(0x751)](_0x5ce276):_0x5ce276,_0x392b87=_0x3e2615+':\x20'+_0x5f39e6;throw this[_0x5f0451(0x42c)][_0x5f0451(0x370)](this[_0x5f0451(0x7b7)]+'\x20('+this[_0x5f0451(0x582)][_0x5f0451(0x777)]+_0x5f0451(0x325)+_0x392b87),new x(_0x392b87);}}},Ut=class c{constructor(_0xabfd0f,_0x415499,_0x3769f3){const _0x213997=a0_0x36f96e;this[_0x213997(0x2d4)]=_0xabfd0f,this['configService']=_0x415499,this[_0x213997(0x1b7)]=_0x3769f3,this['db']={},this[_0x213997(0x7ce)]={},this[_0x213997(0x42c)]=new $(c[_0x213997(0x79c)]),this[_0x213997(0x517)]={},(this[_0x213997(0x745)](),this[_0x213997(0x792)](),Object[_0x213997(0x2fe)](this['db'],_0x415499[_0x213997(0x5aa)]('DATABASE')),Object[_0x213997(0x2fe)](this[_0x213997(0x7ce)],_0x415499['get'](_0x213997(0x4e3))),this[_0x213997(0x22a)]=this['db'][_0x213997(0x5bf)]?this[_0x213997(0x1b7)][_0x213997(0x1f4)]?.['db'](this['db'][_0x213997(0x5f8)][_0x213997(0x7e4)]+_0x213997(0x13b)):void 0x0,this['cache']=this[_0x213997(0x7ce)][_0x213997(0x5bf)]?new le(this[_0x213997(0x7ce)]):void 0x0);}async[a0_0x36f96e(0x5b4)](_0x26cf34){const _0x17217e=a0_0x36f96e;if(_0x26cf34&&!this['waInstances'][_0x26cf34])throw new q(_0x17217e(0x68f)+_0x26cf34+_0x17217e(0x3da));let _0x2c4cd6=[];for await(let [_0x1fe53b,_0x69fe1c]of Object['entries'](this[_0x17217e(0x517)]))if(_0x69fe1c&&_0x69fe1c[_0x17217e(0x3bd)][_0x17217e(0x445)]===_0x17217e(0x707)){let _0x1d8ad6=await this[_0x17217e(0x1b7)][_0x17217e(0x1df)][_0x17217e(0x6a2)](_0x1fe53b);_0x2c4cd6[_0x17217e(0x334)]({'instance':{'instanceName':_0x1fe53b,'apikey':_0x1d8ad6[_0x17217e(0x69e)],'owner':_0x69fe1c[_0x17217e(0x777)],'profileName':await _0x69fe1c[_0x17217e(0x1d6)]()||_0x17217e(0x779),'profilePictureUrl':_0x69fe1c[_0x17217e(0x6bc)]}});}return _0x2c4cd6[_0x17217e(0x6a2)](_0x38e328=>_0x38e328[_0x17217e(0x582)][_0x17217e(0x7b7)]===_0x26cf34)??_0x2c4cd6;}async[a0_0x36f96e(0x412)](_0x2ba267){const _0x28d006=a0_0x36f96e;if(this['db'][_0x28d006(0x5bf)]&&(await this[_0x28d006(0x1b7)]['dbServer']['connect'](),(await this[_0x28d006(0x22a)][_0x28d006(0x5f2)]())[_0x28d006(0x5ed)]>0x0&&await this[_0x28d006(0x22a)][_0x28d006(0x5eb)](_0x2ba267)),this['redis'][_0x28d006(0x5bf)]){this[_0x28d006(0x606)]['reference']=_0x2ba267,await this[_0x28d006(0x606)][_0x28d006(0x379)]();return;}}async[a0_0x36f96e(0x7f8)](){const _0x5c7b37=a0_0x36f96e;await this[_0x5c7b37(0x27c)]();let _0x52f928=async _0x342f9a=>{const _0x4dc853=_0x5c7b37;let _0x3defa9=new Ee(this[_0x4dc853(0x33c)],this[_0x4dc853(0x2d4)],this[_0x4dc853(0x1b7)]);_0x3defa9[_0x4dc853(0x7b7)]=_0x342f9a,await _0x3defa9[_0x4dc853(0x6e7)](),this[_0x4dc853(0x517)][_0x342f9a]=_0x3defa9;};try{if(this[_0x5c7b37(0x7ce)][_0x5c7b37(0x5bf)]){let _0x1ff13f=await this[_0x5c7b37(0x606)][_0x5c7b37(0x62f)]();_0x1ff13f?.[_0x5c7b37(0x5ed)]>0x0&&_0x1ff13f[_0x5c7b37(0x1f3)](async _0x31d7d7=>await _0x52f928(_0x31d7d7[_0x5c7b37(0x71a)](':')[0x1]));return;}if(this['db'][_0x5c7b37(0x5bf)]){await this[_0x5c7b37(0x1b7)][_0x5c7b37(0x1f4)][_0x5c7b37(0x168)]();let _0x4ab51d=await this['dbInstance'][_0x5c7b37(0x5f2)]();_0x4ab51d[_0x5c7b37(0x5ed)]>0x0&&_0x4ab51d['forEach'](async _0x1a484c=>await _0x52f928(_0x1a484c[_0x5c7b37(0x716)][_0x5c7b37(0x410)](/^[\w-]+\./,'')));return;}}catch(_0x29f817){this[_0x5c7b37(0x42c)]['error'](_0x29f817);}}async['InstancesAsDisconnectedX'](){const _0x45b6ae=a0_0x36f96e;let _0x422f99=await this[_0x45b6ae(0x1b7)][_0x45b6ae(0x1df)][_0x45b6ae(0x39a)](),_0x5313d6=_0x422f99[_0x45b6ae(0x713)](_0x279f75=>!this[_0x45b6ae(0x517)][_0x279f75[_0x45b6ae(0x183)]]&&(_0x279f75[_0x45b6ae(0x317)]||typeof _0x279f75[_0x45b6ae(0x317)]>'u'));_0x5313d6[_0x45b6ae(0x5ed)]>0x0&&await Promise[_0x45b6ae(0x471)](_0x5313d6[_0x45b6ae(0x25f)](async _0x53c986=>{const _0x1b26d8=_0x45b6ae;let _0xdb48c={'online':!0x1,'lastDisconnect':Date[_0x1b26d8(0x31b)]()};await this[_0x1b26d8(0x1b7)][_0x1b26d8(0x1df)][_0x1b26d8(0x250)](_0xdb48c,_0x53c986[_0x1b26d8(0x183)]);}));let _0x33a7d6=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0x47cf7b=_0x422f99[_0x45b6ae(0x713)](_0x3078c3=>!this[_0x45b6ae(0x517)][_0x3078c3['_id']]&&typeof _0x3078c3[_0x45b6ae(0x143)]<'u'&&_0x3078c3[_0x45b6ae(0x143)]<_0x33a7d6);_0x47cf7b['length']>0x0&&await Promise[_0x45b6ae(0x471)](_0x47cf7b['map'](async _0x4e35ed=>{}));}async[a0_0x36f96e(0x27c)](){const _0x5e303e=a0_0x36f96e;try{let _0x40b49a={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x4005ee={'online':!0x1,'lastDisconnect':Date[_0x5e303e(0x31b)]()},_0x1f1fe6=await this[_0x5e303e(0x1b7)]['auth'][_0x5e303e(0x212)](_0x40b49a,_0x4005ee);console['log'](_0x5e303e(0x661)+_0x1f1fe6[_0x5e303e(0x71b)]),await this['removeOlderDisconnectedInstances']();}catch(_0x2f7f84){console[_0x5e303e(0x370)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x2f7f84);}}async[a0_0x36f96e(0x33d)](){const _0x5c333e=a0_0x36f96e;try{let _0x41d3b0={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x2c15ce=await this[_0x5c333e(0x1b7)]['auth'][_0x5c333e(0x63b)](_0x41d3b0);console[_0x5c333e(0x3bb)](_0x5c333e(0x112)+_0x2c15ce['insertCount']);}catch(_0x1156b4){console['error']('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x1156b4);}}[a0_0x36f96e(0x745)](){const _0x73d358=a0_0x36f96e;this['eventEmitter']['on'](_0x73d358(0x1b3),async _0x6a5942=>{const _0x33c57f=_0x73d358;try{this['waInstances'][_0x6a5942]=void 0x0;}catch{}try{this[_0x33c57f(0x412)](_0x6a5942);}finally{this['logger']['warn'](_0x33c57f(0x68f)+_0x6a5942+'\x22\x20-\x20REMOVED');}});}[a0_0x36f96e(0x792)](){const _0x5a20b6=a0_0x36f96e;this[_0x5a20b6(0x2d4)]['on']('no.connection',async _0x1c997c=>{const _0x218532=_0x5a20b6;try{this['waInstances'][_0x1c997c]=void 0x0;}catch{}try{this[_0x218532(0x412)](_0x1c997c);}finally{this['logger'][_0x218532(0x7f4)]('Instance\x20\x22'+_0x1c997c+_0x218532(0x746));}});}},qt=class extends D{[a0_0x36f96e(0x1a2)](_0x69c53d){return Qs(_0x69c53d);}async[a0_0x36f96e(0x192)](_0x5688fd){const _0x4a1f82=a0_0x36f96e;if(_0x5688fd[_0x4a1f82(0x5ed)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x5688fd[0x0]['owner'])[_0x4a1f82(0x486)]([..._0x5688fd]))[_0x4a1f82(0x5ed)]};}catch(_0x1a8433){return _0x1a8433;}}async[a0_0x36f96e(0x6a2)](_0x40d765,_0x4809fc){const _0x29b10e=a0_0x36f96e;try{let _0x328abe=this[_0x29b10e(0x1a2)](_0x4809fc),_0x2a82ee=I(_0x40d765[_0x29b10e(0x54f)]);return await _0x328abe[_0x29b10e(0x6a2)](_0x2a82ee)[_0x29b10e(0x77d)]({'lastmsg':-0x1})[_0x29b10e(0x5c4)](_0x40d765?.[_0x29b10e(0x5c4)]??0x0)[_0x29b10e(0x5bc)]();}catch{return[];}}async[a0_0x36f96e(0x2fc)](_0x303e34,_0x57fb38){const _0x3daa4d=a0_0x36f96e;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x57fb38)[_0x3daa4d(0x63b)]({..._0x303e34[_0x3daa4d(0x54f)]}))[_0x3daa4d(0x23c)]};}catch(_0xb20d97){return{'error':_0xb20d97?.[_0x3daa4d(0x2ee)]()};}}async[a0_0x36f96e(0x673)](_0x2e4ea7,_0x4a04b6){const _0x422a34=a0_0x36f96e;try{return await this[_0x422a34(0x1a2)](_0x4a04b6)[_0x422a34(0x63b)]({..._0x2e4ea7[_0x422a34(0x54f)]}),[];}catch(_0x5e6615){return{'error':_0x5e6615?.[_0x422a34(0x2ee)]()};}}async[a0_0x36f96e(0x49a)](_0x49515e,_0x3a445c){const _0x521199=a0_0x36f96e;try{let _0x1b76d1=this['getChatModelForOwner'](_0x3a445c),_0x165598=I(_0x49515e[_0x521199(0x54f)]);return await _0x1b76d1[_0x521199(0x49a)](_0x165598)[_0x521199(0x5bc)]();}catch{return null;}}async['updateOne'](_0x374039,_0x26553f,_0x8d0c1b,_0x1c75f8,_0x1e4e31=a0_0x36f96e(0x699)){const _0x39c5d8=a0_0x36f96e;try{let _0x5ee860={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1c75f8},_0x34e424=this[_0x39c5d8(0x1a2)](_0x8d0c1b),_0x75cb3f=I(_0x374039['where']);Object[_0x39c5d8(0x179)](_0x26553f)[_0x39c5d8(0x1f3)](_0x1fd0bc=>{_0x26553f[_0x1fd0bc]==null&&delete _0x26553f[_0x1fd0bc];});let _0x3e2518={};return _0x3e2518[_0x1e4e31]=_0x26553f,await _0x34e424[_0x39c5d8(0x1a4)](_0x75cb3f,_0x3e2518,_0x5ee860);}catch(_0x75d2d7){return console[_0x39c5d8(0x370)](_0x75d2d7),null;}}async['updateMany'](_0x334697){const _0x36f896=a0_0x36f96e;try{let _0x55c9da=this[_0x36f896(0x1a2)](_0x334697[0x0][_0x36f896(0x4f4)]['where'][_0x36f896(0x6ab)]),_0x4e9ec1=_0x334697[_0x36f896(0x25f)](_0x11fa57=>({'updateOne':{'filter':{..._0x11fa57[_0x36f896(0x4f4)]['where']},'update':{'$set':_0x11fa57['update']},'upsert':!0x0}})),_0x4990ab=await _0x55c9da[_0x36f896(0x1e2)](_0x4e9ec1);return _0x4990ab[_0x36f896(0x20d)]+_0x4990ab['upsertedCount'];}catch(_0x5c8cd3){return console['error'](_0x5c8cd3),0x0;}}async[a0_0x36f96e(0x1d1)](_0x2b837d){const _0x5d4b00=a0_0x36f96e;try{let _0x12a21b={'group_isCommunity':'','group_announce':'','group_size':''},_0x26a720={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0xeea980={'$unset':_0x12a21b};return(await this[_0x5d4b00(0x1a2)](_0x2b837d)[_0x5d4b00(0x26d)](_0x26a720,_0xeea980))[_0x5d4b00(0x20d)];}catch(_0x2e17a6){return console[_0x5d4b00(0x370)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x2e17a6),0x0;}}async['updateMissingEtiquetas'](_0x3de1f8){const _0x1bf796=a0_0x36f96e;try{let _0x1a4c6d=this[_0x1bf796(0x1a2)](_0x3de1f8),_0x270e88={'leadInfo.etiquetas':{'$exists':!0x1}},_0x5d7043={'$set':{'leadInfo.etiquetas':[]}};return(await _0x1a4c6d[_0x1bf796(0x26d)](_0x270e88,_0x5d7043))[_0x1bf796(0x20d)];}catch(_0x59d3af){return console[_0x1bf796(0x370)](_0x59d3af),0x0;}}async[a0_0x36f96e(0x7d9)](_0x1211c1){const _0x1f5492=a0_0x36f96e;try{let _0xcd60e=this[_0x1f5492(0x1a2)](_0x1211c1),_0xcc9d1f={'leadInfo.tags':{'$exists':!0x1}},_0x456084={'$set':{'leadInfo.tags':[]}};return(await _0xcd60e[_0x1f5492(0x26d)](_0xcc9d1f,_0x456084))['modifiedCount'];}catch(_0x4b4640){return console[_0x1f5492(0x370)](_0x4b4640),0x0;}}async[a0_0x36f96e(0x230)](_0xf054a7){const _0x3129ef=a0_0x36f96e;try{let _0x28e2c7=this[_0x3129ef(0x1a2)](_0xf054a7),_0x242bf4={'leadInfo.customFields':{'$exists':!0x1}},_0x14f3f2={'$set':{'leadInfo.customFields':[]}};return(await _0x28e2c7[_0x3129ef(0x26d)](_0x242bf4,_0x14f3f2))['modifiedCount'];}catch(_0x5525e6){return console['error'](_0x5525e6),0x0;}}async['insertMany'](_0x417e3a,_0x8bfc32){const _0xc43856=a0_0x36f96e;if(!Array['isArray'](_0x417e3a)||_0x417e3a[_0xc43856(0x5ed)]===0x0)throw new Error(_0xc43856(0x56e));try{return(await this[_0xc43856(0x1a2)](_0x8bfc32)[_0xc43856(0x486)](_0x417e3a))[_0xc43856(0x5ed)];}catch(_0x365d){throw console[_0xc43856(0x370)](_0xc43856(0x5fd),_0x365d),_0x365d;}}async[a0_0x36f96e(0x28e)](_0x1b8480,_0x2cf3c8){const _0x1d2773=a0_0x36f96e;try{await this['getChatModelForOwner'](_0x2cf3c8)[_0x1d2773(0x13d)]({'_id':_0x1b8480});}catch(_0x3911da){throw console['error'](_0x1d2773(0x140),_0x3911da),_0x3911da;}}},Vt=class extends D{constructor(_0x134c24,_0x4b91bb,_0x1a963c){const _0x36b55f=a0_0x36f96e;super(_0x4b91bb),this['cacheContactModel']=_0x134c24,this[_0x36b55f(0x33c)]=_0x4b91bb,this['dbConnection']=_0x1a963c;}async[a0_0x36f96e(0x192)](_0x50fbf5){const _0x259ab7=a0_0x36f96e;if(_0x50fbf5[_0x259ab7(0x5ed)]!==0x0)try{return{'insertCount':(await this[_0x259ab7(0x42d)][_0x259ab7(0x486)]([..._0x50fbf5]))[_0x259ab7(0x5ed)]};}catch(_0x32a1a8){return _0x32a1a8;}}async[a0_0x36f96e(0x3d0)](_0x4fa7d8,_0x200e2e){const _0x101c21=a0_0x36f96e;try{let _0x2e08d5=I(_0x4fa7d8['where']);return{'updatedCount':(await this[_0x101c21(0x42d)][_0x101c21(0x26d)](_0x2e08d5,{'$set':_0x200e2e}))[_0x101c21(0x20d)]};}catch(_0x49989a){return console['error']('Error\x20updating\x20cache\x20contact:',_0x49989a),{'error':_0x49989a[_0x101c21(0x2ee)]()};}}async[a0_0x36f96e(0x6f4)](_0x3b23a0){const _0x3b75db=a0_0x36f96e;try{let _0x2b316d={'_id':{'$in':_0x3b23a0}};return await this[_0x3b75db(0x42d)][_0x3b75db(0x6a2)](_0x2b316d)['lean']();}catch(_0x38be8c){return console[_0x3b75db(0x370)](_0x3b75db(0x64b),_0x38be8c),[];}}async['delete'](_0x560ab8){const _0x2373a3=a0_0x36f96e;try{return{'deletedCount':(await this['cacheContactModel'][_0x2373a3(0x63b)]({..._0x560ab8[_0x2373a3(0x54f)]}))[_0x2373a3(0x23c)]};}catch(_0x52e186){return{'error':_0x52e186?.[_0x2373a3(0x2ee)]()};}}async[a0_0x36f96e(0x6a2)](_0x4b9400){const _0x1cf413=a0_0x36f96e;try{let _0x3ec06e=I(_0x4b9400[_0x1cf413(0x54f)]);return await this[_0x1cf413(0x42d)][_0x1cf413(0x6a2)](_0x3ec06e)[_0x1cf413(0x5c4)](_0x4b9400?.[_0x1cf413(0x5c4)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x3a31f1){const _0x1a2533=a0_0x36f96e;try{let _0x4f922a=I(_0x3a31f1[_0x1a2533(0x54f)]);return await this[_0x1a2533(0x42d)]['findOne'](_0x4f922a)['lean']();}catch{return null;}}},Gt=class extends D{['getLabelModelForOwner'](_0x2edc9e){return fa(_0x2edc9e);}async[a0_0x36f96e(0x4ec)](_0x1dc7f0,_0x41c2fd,_0x2ffdc4,_0x36cc9d){const _0x19bf32=a0_0x36f96e;try{let _0x493fcd={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x36cc9d},_0x2be551=this[_0x19bf32(0xff)](_0x2ffdc4),_0x3e1bb0=I(_0x1dc7f0[_0x19bf32(0x54f)]);return await _0x2be551['findOneAndUpdate'](_0x3e1bb0,{'$set':_0x41c2fd},_0x493fcd);}catch(_0x1d1d15){return console[_0x19bf32(0x370)](_0x1d1d15),null;}}async[a0_0x36f96e(0x6a2)](_0x396f67,_0x1eacb2){const _0x5bf4bf=a0_0x36f96e;try{let _0x225b56=this[_0x5bf4bf(0xff)](_0x1eacb2),_0xb3fa86=I(_0x396f67['where']);return await _0x225b56[_0x5bf4bf(0x6a2)](_0xb3fa86);}catch(_0x374400){console[_0x5bf4bf(0x370)](_0x374400);}}async['delete'](_0x58821f,_0x1c85ae){const _0x1a8286=a0_0x36f96e;try{let _0x125276=this['getLabelModelForOwner'](_0x1c85ae),_0x16add5=I(_0x58821f[_0x1a8286(0x54f)]);await _0x125276['deleteMany'](_0x16add5);}catch(_0x136ba4){console[_0x1a8286(0x370)](_0x136ba4);}}async[a0_0x36f96e(0x673)](_0x17ffc2){const _0x273b2e=a0_0x36f96e;try{return await this['getLabelModelForOwner'](_0x17ffc2)[_0x273b2e(0x362)]['drop'](),{'success':!0x0};}catch(_0x14502b){return console['error'](_0x14502b),{'success':!0x1,'error':_0x14502b};}}},Bt=class{constructor(_0x5d350a){this['waMonitor']=_0x5d350a;}async[a0_0x36f96e(0x598)]({instanceName:_0x83f68f},_0x4dcd94){const _0x4384b8=a0_0x36f96e;return await this['waMonitor'][_0x4384b8(0x517)][_0x83f68f][_0x4384b8(0x598)](_0x4dcd94);}async[a0_0x36f96e(0x4a1)]({instanceName:_0x2879fe},_0x27ebc5){const _0x3b97be=a0_0x36f96e;return await this[_0x3b97be(0x449)]['waInstances'][_0x2879fe][_0x3b97be(0x4a1)](_0x27ebc5);}async[a0_0x36f96e(0x78a)]({instanceName:_0x5d8e98},_0x304c4e){const _0x7f332f=a0_0x36f96e;return await this['waMonitor'][_0x7f332f(0x517)][_0x5d8e98][_0x7f332f(0x78a)](_0x304c4e);}async[a0_0x36f96e(0x76b)]({instanceName:_0x15cc57},_0x42640c){const _0xdca020=a0_0x36f96e;return await this['waMonitor'][_0xdca020(0x517)][_0x15cc57]['markMessageAsRead'](_0x42640c);}async[a0_0x36f96e(0x48d)]({instanceName:_0x5fa8cf},_0x1ea9e7){const _0x314e9f=a0_0x36f96e;return await this[_0x314e9f(0x449)][_0x314e9f(0x517)][_0x5fa8cf][_0x314e9f(0x48d)](_0x1ea9e7);}async['deleteMessage']({instanceName:_0x223851},_0x2ef7c5){const _0x1bc7d7=a0_0x36f96e;return await this[_0x1bc7d7(0x449)][_0x1bc7d7(0x517)][_0x223851][_0x1bc7d7(0x712)](_0x2ef7c5);}async[a0_0x36f96e(0x711)]({instanceName:_0x49d86b},_0x73b6b3){const _0x3c7b56=a0_0x36f96e;return await this[_0x3c7b56(0x449)]['waInstances'][_0x49d86b]['profilePicture'](_0x73b6b3[_0x3c7b56(0x3b2)]);}async['fetchProfile']({instanceName:_0x1ddfd2},_0x5950c6){const _0x37d7ed=a0_0x36f96e;return await this[_0x37d7ed(0x449)][_0x37d7ed(0x517)][_0x1ddfd2][_0x37d7ed(0x2d0)](_0x5950c6[_0x37d7ed(0x3b2)]);}async[a0_0x36f96e(0x3eb)]({instanceName:_0x5dd551},_0x746960){const _0x50b9ce=a0_0x36f96e;return await this[_0x50b9ce(0x449)][_0x50b9ce(0x517)][_0x5dd551][_0x50b9ce(0x3eb)](_0x746960);}async[a0_0x36f96e(0x234)]({instanceName:_0x583999},_0x46a6a1){const _0x1bdd16=a0_0x36f96e;return await this[_0x1bdd16(0x449)][_0x1bdd16(0x517)][_0x583999]['fetchContacts'](_0x46a6a1);}async[a0_0x36f96e(0x602)]({instanceName:_0x326855},_0x143c1d){const _0x571e4d=a0_0x36f96e;return await this[_0x571e4d(0x449)][_0x571e4d(0x517)][_0x326855]['getBase64FromMediaMessage'](_0x143c1d);}async[a0_0x36f96e(0x4f8)]({instanceName:_0x14e772},_0x11fca2){const _0x5d2eaf=a0_0x36f96e;return await this[_0x5d2eaf(0x449)][_0x5d2eaf(0x517)][_0x14e772]['fetchMessages'](_0x11fca2);}async[a0_0x36f96e(0x644)]({instanceName:_0x4b0011}){const _0x259140=a0_0x36f96e;return await this[_0x259140(0x449)]['waInstances'][_0x4b0011][_0x259140(0x644)]();}async[a0_0x36f96e(0x34c)]({instanceName:_0x572b44}){const _0x302781=a0_0x36f96e;return await this[_0x302781(0x449)]['waInstances'][_0x572b44][_0x302781(0x34c)]();}async[a0_0x36f96e(0x28f)]({instanceName:_0x53fd89}){const _0x50ad42=a0_0x36f96e;return await this[_0x50ad42(0x449)]['waInstances'][_0x53fd89][_0x50ad42(0x28f)]();}async[a0_0x36f96e(0x5e6)]({instanceName:_0x161378},_0x428d06){const _0x2fb251=a0_0x36f96e;return await this[_0x2fb251(0x449)]['waInstances'][_0x161378][_0x2fb251(0x5e6)](_0x428d06);}async[a0_0x36f96e(0x625)]({instanceName:_0x5794e2},_0x23133f){const _0x49ea2f=a0_0x36f96e;return await this['waMonitor'][_0x49ea2f(0x517)][_0x5794e2][_0x49ea2f(0x625)](_0x23133f['number']);}async[a0_0x36f96e(0x7df)]({instanceName:_0x41cddc},_0x3afc6e){const _0x30eace=a0_0x36f96e;return await this['waMonitor']['waInstances'][_0x41cddc]['updateProfileName'](_0x3afc6e[_0x30eace(0x79c)]);}async[a0_0x36f96e(0x2c5)]({instanceName:_0x443cf4},_0x4ece00){const _0x8f38b=a0_0x36f96e;return await this[_0x8f38b(0x449)]['waInstances'][_0x443cf4][_0x8f38b(0x2c5)](_0x4ece00['status']);}async[a0_0x36f96e(0x14d)]({instanceName:_0xc2aa2d},_0x4ae102){const _0x152978=a0_0x36f96e;return await this[_0x152978(0x449)][_0x152978(0x517)][_0xc2aa2d][_0x152978(0x14d)](_0x4ae102[_0x152978(0x1a8)]);}async['removeProfilePicture']({instanceName:_0x2e34b3},_0x28f549){const _0x428045=a0_0x36f96e;return await this['waMonitor']['waInstances'][_0x2e34b3][_0x428045(0x797)]();}},_s=require(a0_0x36f96e(0x363)),Wt=class c{constructor(_0x1fbac9,_0x2a8140,_0x58fa53,_0x270b8d,_0xaf3773){const _0x5a34e3=a0_0x36f96e;this[_0x5a34e3(0x449)]=_0x1fbac9,this[_0x5a34e3(0x33c)]=_0x2a8140,this[_0x5a34e3(0x1b7)]=_0x58fa53,this['eventEmitter']=_0x270b8d,this[_0x5a34e3(0x133)]=_0xaf3773,this[_0x5a34e3(0x42c)]=new $(c['name']);}async[a0_0x36f96e(0x50f)]({instanceName:_0xf52dce,apikey:_0x42e6e4,number:_0x5df85b,proxy:_0x1f3be9=!0x0}){const _0x26dfe8=a0_0x36f96e;try{let _0x4d1ece=new Ee(this[_0x26dfe8(0x33c)],this[_0x26dfe8(0x2d4)],this[_0x26dfe8(0x1b7)]);_0x4d1ece[_0x26dfe8(0x7b7)]=_0xf52dce,this[_0x26dfe8(0x449)]['waInstances'][_0x4d1ece[_0x26dfe8(0x7b7)]]=_0x4d1ece;let _0xe17f58={};_0x42e6e4?(await this[_0x26dfe8(0x1b7)][_0x26dfe8(0x1df)][_0x26dfe8(0x250)]({'apikey':_0x42e6e4},_0xf52dce),_0xe17f58[_0x26dfe8(0x69e)]=_0x42e6e4):_0xe17f58=await this['authService'][_0x26dfe8(0x6b2)]({'instanceName':_0x4d1ece['instanceName']});let _0xdf17f3;if(_0x5df85b){if(_0xdf17f3=await this[_0x26dfe8(0x266)](_0x5df85b),_0xdf17f3[_0x26dfe8(0x370)])throw new x(_0xdf17f3[_0x26dfe8(0x370)]['toString']());_0x5df85b=_0xdf17f3[_0x26dfe8(0x3b2)];}let _0x33eeab;return await _0x4d1ece[_0x26dfe8(0x6e7)](_0x5df85b),await(0x0,_s[_0x26dfe8(0x31a)])(0x7d0),_0x33eeab=_0x4d1ece[_0x26dfe8(0x1bf)],{'instance':{'instanceName':_0x4d1ece['instanceName'],'status':_0x26dfe8(0x1de)},'hash':_0xe17f58,'qrcode':_0x33eeab};}catch(_0x44f67e){throw this[_0x26dfe8(0x42c)][_0x26dfe8(0x370)](_0x44f67e),_0x44f67e;}}async[a0_0x36f96e(0x26e)]({instanceName:_0xe002d4,number:_0x5bbc72=null}){const _0x4b9ecd=a0_0x36f96e;try{let _0x7eca6c=this[_0x4b9ecd(0x449)][_0x4b9ecd(0x517)][_0xe002d4];switch(_0x7eca6c?.[_0x4b9ecd(0x3bd)]?.['state']){case _0x4b9ecd(0x200):return await _0x7eca6c[_0x4b9ecd(0x6e7)](_0x5bbc72),await(0x0,_s[_0x4b9ecd(0x31a)])(0x7d0),_0x7eca6c[_0x4b9ecd(0x1bf)];case'connecting':return _0x7eca6c[_0x4b9ecd(0x1bf)];default:return await this['connectionState']({'instanceName':_0xe002d4});}}catch(_0x3fc7ba){this[_0x4b9ecd(0x42c)][_0x4b9ecd(0x3bb)](_0x3fc7ba);}}async[a0_0x36f96e(0x3c3)]({instanceName:_0x461755}){const _0x16bbff=a0_0x36f96e;let _0x3b5fe8=this[_0x16bbff(0x449)][_0x16bbff(0x517)][_0x461755][_0x16bbff(0x3bd)],_0xf9343d=null;_0x3b5fe8['state']===_0x16bbff(0x707)&&_0x461755&&(_0xf9343d=await this['waMonitor'][_0x16bbff(0x5b4)](_0x461755));let _0x567fa5=null;return _0x3b5fe8[_0x16bbff(0x445)]===_0x16bbff(0x524)&&_0x461755&&(_0x567fa5=this[_0x16bbff(0x449)]['waInstances'][_0x461755][_0x16bbff(0x1bf)]),{'instance':_0x461755,'connectionStatus':_0x3b5fe8,'instanceInfo':_0xf9343d,'qrcode':_0x567fa5};}async[a0_0x36f96e(0x266)](_0x3149fc){const _0x4feb8d=a0_0x36f96e;_0x3149fc=_0x3149fc['replace'](/\D/g,'');let _0x23bf8d=Object['keys'](this[_0x4feb8d(0x449)][_0x4feb8d(0x517)])[_0x4feb8d(0x713)](_0x30da99=>{const _0x5c99bd=_0x4feb8d;let _0x165f3c=this[_0x5c99bd(0x449)][_0x5c99bd(0x517)][_0x30da99];return _0x165f3c&&_0x165f3c['connectionStatus']&&_0x165f3c[_0x5c99bd(0x3bd)]['state']===_0x5c99bd(0x707);});if(_0x23bf8d['length']===0x0)return{'number':this['formatBRNumber'](_0x3149fc)};let _0x1a7d9d=Math['floor'](Math['random']()*_0x23bf8d[_0x4feb8d(0x5ed)]),_0x4679df=_0x23bf8d[_0x1a7d9d];try{let _0x871e47=(await this[_0x4feb8d(0x449)][_0x4feb8d(0x517)][_0x4679df][_0x4feb8d(0x4a1)]({'numbers':[_0x3149fc]}))['shift']();return _0x871e47['exists']?{'number':_0x871e47[_0x4feb8d(0x127)][_0x4feb8d(0x410)](_0x4feb8d(0x54d),'')}:{'number':_0x3149fc,'error':_0x4feb8d(0x131)};}catch(_0x2951d1){return this['logger'][_0x4feb8d(0x370)](_0x4feb8d(0x5ad)+_0x2951d1),{'number':_0x3149fc,'error':_0x4feb8d(0x648)};}}[a0_0x36f96e(0x6cc)](_0x526691){const _0x3485f8=a0_0x36f96e;let _0x35d729=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x3485f8(0x11b)](_0x526691);if(_0x35d729&&_0x35d729[0x1]==='55'){let _0x5e8ae8=_0x35d729[0x2],_0x29e3fe=_0x35d729[0x3],_0xadc4e2=_0x35d729[0x4];if(parseInt(_0x5e8ae8)>=0x1f&&_0x29e3fe==='9')return _0x35d729[0x1]+_0x5e8ae8+_0xadc4e2;}return _0x526691;}async[a0_0x36f96e(0x64e)]({instanceName:_0x737b2a}){const _0x2c0e63=a0_0x36f96e;try{return this[_0x2c0e63(0x449)][_0x2c0e63(0x517)][_0x737b2a]?.[_0x2c0e63(0x3a9)]?.['ws']?.[_0x2c0e63(0x200)](),{'status':_0x2c0e63(0x407),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x1f4f9a){this['logger'][_0x2c0e63(0x370)](_0x1f4f9a);}}async['fetchInstances']({instanceName:_0x292b78}){const _0x31ad1f=a0_0x36f96e;return _0x292b78?this[_0x31ad1f(0x449)][_0x31ad1f(0x5b4)](_0x292b78):this[_0x31ad1f(0x449)]['instanceInfo']();}async[a0_0x36f96e(0x7fa)]({instanceName:_0x432ebc}){const _0xbc768a=a0_0x36f96e;try{return await this['waMonitor'][_0xbc768a(0x517)][_0x432ebc]?.[_0xbc768a(0x3a9)]?.[_0xbc768a(0x7fa)](_0xbc768a(0x18e)+_0x432ebc),{'error':!0x1,'message':_0xbc768a(0x575)};}catch(_0x463b00){throw new x(_0x463b00['toString']());}}async[a0_0x36f96e(0x11d)]({instanceName:_0x182b31}){const _0x576808=a0_0x36f96e;if((await this['connectionState']({'instanceName':_0x182b31}))[_0x576808(0x3bd)][_0x576808(0x445)]==='open')throw new m([_0x576808(0x500),_0x576808(0x448)]);try{return delete this[_0x576808(0x449)][_0x576808(0x517)][_0x182b31],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x5477f4){throw new m(_0x5477f4[_0x576808(0x2ee)]());}}},se=require('class-validator'),zt=class{constructor(_0x9ed951){this['waMonitor']=_0x9ed951;}async['sendText']({instanceName:_0xa551d},_0xe6dc56){const _0x3826e1=a0_0x36f96e;try{return await this[_0x3826e1(0x449)][_0x3826e1(0x517)][_0xa551d][_0x3826e1(0x7c7)](_0xe6dc56);}catch(_0x44e518){console[_0x3826e1(0x370)]('Error\x20sending\x20text\x20message\x20for\x20instance\x20'+_0xa551d+':',_0x44e518);}}async['sendMenu']({instanceName:_0x143f36},_0x194aae){const _0x17add1=a0_0x36f96e;return await this['waMonitor']['waInstances'][_0x143f36][_0x17add1(0x246)](_0x194aae);}async[a0_0x36f96e(0x240)]({instanceName:_0x2eb02f},_0x25f00b){const _0x56a8fc=a0_0x36f96e;if((0x0,se['isBase64'])(_0x25f00b?.['mediaMessage']?.[_0x56a8fc(0x6c0)])&&!_0x25f00b?.[_0x56a8fc(0x726)]?.['fileName'])throw new m(_0x56a8fc(0x4c1));if((0x0,se[_0x56a8fc(0x15d)])(_0x25f00b?.[_0x56a8fc(0x726)]?.[_0x56a8fc(0x6c0)])||(0x0,se[_0x56a8fc(0x4dd)])(_0x25f00b?.[_0x56a8fc(0x726)]?.[_0x56a8fc(0x6c0)]))return await this[_0x56a8fc(0x449)]['waInstances'][_0x2eb02f][_0x56a8fc(0x726)](_0x25f00b);throw new m(_0x56a8fc(0x5cf));}async[a0_0x36f96e(0x186)]({instanceName:_0x5de63d},_0x2f7439){const _0xdbddda=a0_0x36f96e;if((0x0,se[_0xdbddda(0x15d)])(_0x2f7439['stickerMessage']['image'])||(0x0,se[_0xdbddda(0x4dd)])(_0x2f7439['stickerMessage']['image']))return await this[_0xdbddda(0x449)][_0xdbddda(0x517)][_0x5de63d][_0xdbddda(0x174)](_0x2f7439);throw new m(_0xdbddda(0x5cf));}async[a0_0x36f96e(0x23f)]({instanceName:_0x2aea52},_0x26bfdf){const _0x40795c=a0_0x36f96e;if((0x0,se[_0x40795c(0x15d)])(_0x26bfdf[_0x40795c(0x391)][_0x40795c(0x1d3)])||(0x0,se[_0x40795c(0x4dd)])(_0x26bfdf[_0x40795c(0x391)][_0x40795c(0x1d3)]))return await this['waMonitor'][_0x40795c(0x517)][_0x2aea52][_0x40795c(0x1c9)](_0x26bfdf);throw new m(_0x40795c(0x5cf));}async['sendButtons']({instanceName:_0x1d171c},_0xea1161){const _0x3c1809=a0_0x36f96e;if((0x0,se[_0x3c1809(0x4dd)])(_0xea1161[_0x3c1809(0x7b5)][_0x3c1809(0x726)]?.[_0x3c1809(0x6c0)])&&!_0xea1161['buttonMessage'][_0x3c1809(0x726)]?.['fileName'])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x3c1809(0x449)][_0x3c1809(0x517)][_0x1d171c]['buttonMessage'](_0xea1161);}async[a0_0x36f96e(0x543)]({instanceName:_0x5c9947},_0x29d9ed){const _0x2779e8=a0_0x36f96e;return await this[_0x2779e8(0x449)][_0x2779e8(0x517)][_0x5c9947][_0x2779e8(0x3f4)](_0x29d9ed);}async[a0_0x36f96e(0x224)]({instanceName:_0x4b25a2},_0x45f535){const _0x544bf5=a0_0x36f96e;return await this['waMonitor'][_0x544bf5(0x517)][_0x4b25a2][_0x544bf5(0x6b0)](_0x45f535);}async[a0_0x36f96e(0x151)]({instanceName:_0x22e047},_0x391f98){const _0x1a57c7=a0_0x36f96e;return await this[_0x1a57c7(0x449)]['waInstances'][_0x22e047][_0x1a57c7(0x23e)](_0x391f98);}async['sendContact']({instanceName:_0x544561},_0x23d962){const _0x3d0b8d=a0_0x36f96e;return await this[_0x3d0b8d(0x449)][_0x3d0b8d(0x517)][_0x544561][_0x3d0b8d(0x2f9)](_0x23d962);}async[a0_0x36f96e(0x616)]({instanceName:_0x1c87c9},_0x537a26){const _0x41043a=a0_0x36f96e;if(!_0x537a26['reactionMessage'][_0x41043a(0x24a)][_0x41043a(0x404)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x41043a(0x449)][_0x41043a(0x517)][_0x1c87c9][_0x41043a(0x7db)](_0x537a26);}async[a0_0x36f96e(0x4c5)]({instanceName:_0x2b4d45},_0x24d587){const _0x125a4f=a0_0x36f96e;return await this[_0x125a4f(0x449)][_0x125a4f(0x517)][_0x2b4d45][_0x125a4f(0x791)](_0x24d587);}},Ro=require(a0_0x36f96e(0x1a7)),Ps=require(a0_0x36f96e(0x480)),Ht=class c{constructor(_0x227c85,_0xfbcc02,_0x49131a){const _0x43aa44=a0_0x36f96e;this['configService']=_0x227c85,this['waMonitor']=_0xfbcc02,this[_0x43aa44(0x1b7)]=_0x49131a,this[_0x43aa44(0x42c)]=new $(c[_0x43aa44(0x79c)]);}async[a0_0x36f96e(0x17b)](_0x33cf8b){const _0x42a5a4=a0_0x36f96e;let _0x2cb4ab=this[_0x42a5a4(0x33c)]['get']('AUTHENTICATION')[_0x42a5a4(0x2b1)],_0x56c2ab=(0x0,Ro[_0x42a5a4(0x5f1)])({'instanceName':_0x33cf8b[_0x42a5a4(0x7b7)],'apiName':tt,'tokenId':(0x0,Ps['v4'])()},_0x2cb4ab[_0x42a5a4(0x135)],{'expiresIn':_0x2cb4ab[_0x42a5a4(0x10d)],'encoding':_0x42a5a4(0x7d6),'subject':_0x42a5a4(0x291)}),_0x373e53=await this[_0x42a5a4(0x1b7)][_0x42a5a4(0x1df)][_0x42a5a4(0x250)]({'jwt':_0x56c2ab},_0x33cf8b[_0x42a5a4(0x7b7)]);if(_0x373e53['error'])throw this['logger']['error']({'localError':c[_0x42a5a4(0x79c)]+_0x42a5a4(0x6c2),'error':_0x373e53[_0x42a5a4(0x370)]}),new m(_0x42a5a4(0x4a3),_0x373e53['error']?.[_0x42a5a4(0x2ee)]());return{'jwt':_0x56c2ab};}async[a0_0x36f96e(0x69e)](_0x5c3acb){const _0x5bcf7b=a0_0x36f96e;let _0x44e3da=(0x0,Ps['v4'])()['toUpperCase'](),_0x2c4cc9=await this[_0x5bcf7b(0x1b7)][_0x5bcf7b(0x1df)]['create']({'apikey':_0x44e3da},_0x5c3acb[_0x5bcf7b(0x7b7)]);if(_0x2c4cc9[_0x5bcf7b(0x370)])throw this[_0x5bcf7b(0x42c)][_0x5bcf7b(0x370)]({'localError':c[_0x5bcf7b(0x79c)]+_0x5bcf7b(0x6c2),'error':_0x2c4cc9['error']}),new m('Authentication\x20error',_0x2c4cc9[_0x5bcf7b(0x370)]?.[_0x5bcf7b(0x2ee)]());return{'apikey':_0x44e3da};}async[a0_0x36f96e(0x6b2)](_0x2d4cb0){const _0x53d9d9=a0_0x36f96e;let _0x3e133f=this[_0x53d9d9(0x33c)][_0x53d9d9(0x5aa)]('AUTHENTICATION');return await this[_0x3e133f[_0x53d9d9(0x774)]](_0x2d4cb0);}},Kt=class{constructor(_0x578862){this['waMonitor']=_0x578862;}async[a0_0x36f96e(0x7bf)](_0x41b227,_0x1f75aa){const _0x57cd1c=a0_0x36f96e;return await this[_0x57cd1c(0x449)]['waInstances'][_0x41b227['instanceName']][_0x57cd1c(0x7bf)](_0x1f75aa);}async[a0_0x36f96e(0x3b1)](_0x24b0d0,_0x53b031){const _0x14e8b2=a0_0x36f96e;return await this[_0x14e8b2(0x449)][_0x14e8b2(0x517)][_0x24b0d0['instanceName']]['updateGroupPicture'](_0x53b031);}async[a0_0x36f96e(0x686)](_0x3265e0,_0x24adb6){const _0x566e9b=a0_0x36f96e;return await this[_0x566e9b(0x449)][_0x566e9b(0x517)][_0x3265e0['instanceName']][_0x566e9b(0x686)](_0x24adb6);}async[a0_0x36f96e(0x6a3)](_0x3520e7,_0xc36d88){const _0x5355aa=a0_0x36f96e;return await this[_0x5355aa(0x449)][_0x5355aa(0x517)][_0x3520e7['instanceName']][_0x5355aa(0x6a3)](_0xc36d88);}async[a0_0x36f96e(0x3e0)](_0xf35b6a,_0x2b7b3a){const _0x3e9926=a0_0x36f96e;return await this['waMonitor'][_0x3e9926(0x517)][_0xf35b6a[_0x3e9926(0x7b7)]][_0x3e9926(0x3e0)](_0x2b7b3a);}async[a0_0x36f96e(0x537)](_0x372b3a,_0x473dfc){const _0x50d87f=a0_0x36f96e;return await this['waMonitor']['waInstances'][_0x372b3a[_0x50d87f(0x7b7)]]['groupSetting'](_0x473dfc);}async[a0_0x36f96e(0x494)](_0x525f47,_0x2649e8){const _0xfc2593=a0_0x36f96e;return await this[_0xfc2593(0x449)]['waInstances'][_0x525f47[_0xfc2593(0x7b7)]][_0xfc2593(0x6b3)](_0x2649e8);}async[a0_0x36f96e(0x1fb)](_0x110786){const _0x28b6eb=a0_0x36f96e;return await this[_0x28b6eb(0x449)][_0x28b6eb(0x517)][_0x110786[_0x28b6eb(0x7b7)]][_0x28b6eb(0x1fb)]();}async[a0_0x36f96e(0x7cc)](_0x1fae36,_0x80a241){const _0x6da26d=a0_0x36f96e;return await this['waMonitor']['waInstances'][_0x1fae36['instanceName']][_0x6da26d(0x7cc)](_0x80a241);}async[a0_0x36f96e(0x2ef)](_0x3e98f3,_0x16e9d3){const _0x19500e=a0_0x36f96e;return await this[_0x19500e(0x449)][_0x19500e(0x517)][_0x3e98f3['instanceName']][_0x19500e(0x2ef)](_0x16e9d3);}async[a0_0x36f96e(0x34b)](_0x25dd2f,_0x4fe181){const _0x389bb3=a0_0x36f96e;return await this['waMonitor']['waInstances'][_0x25dd2f['instanceName']][_0x389bb3(0x34b)](_0x4fe181);}async[a0_0x36f96e(0x573)](_0x824667,_0x3da421){const _0x944cb2=a0_0x36f96e;return await this[_0x944cb2(0x449)]['waInstances'][_0x824667[_0x944cb2(0x7b7)]]['revokeInviteCode'](_0x3da421);}async[a0_0x36f96e(0x5ba)](_0x456cd6,_0x320378){const _0x2b5a63=a0_0x36f96e;return await this['waMonitor'][_0x2b5a63(0x517)][_0x456cd6[_0x2b5a63(0x7b7)]][_0x2b5a63(0x5ba)](_0x320378);}async[a0_0x36f96e(0x394)](_0x524aca,_0x4e9078){const _0x2fff7e=a0_0x36f96e;return await this[_0x2fff7e(0x449)]['waInstances'][_0x524aca[_0x2fff7e(0x7b7)]][_0x2fff7e(0x763)](_0x4e9078);}async[a0_0x36f96e(0x3e7)](_0x4c8a21,_0x1173ff){const _0x47e1e4=a0_0x36f96e;return await this[_0x47e1e4(0x449)][_0x47e1e4(0x517)][_0x4c8a21[_0x47e1e4(0x7b7)]][_0x47e1e4(0x3e7)](_0x1173ff);}async[a0_0x36f96e(0x665)](_0x3644f0,_0x271c0b){const _0x2e4166=a0_0x36f96e;return await this[_0x2e4166(0x449)][_0x2e4166(0x517)][_0x3644f0['instanceName']][_0x2e4166(0x665)](_0x271c0b);}},Qt=class{constructor(_0x363c47){this['waMonitor']=_0x363c47;}[a0_0x36f96e(0x250)](_0x2dfa2e,_0x44ec5d){const _0x58c574=a0_0x36f96e;return this['waMonitor'][_0x58c574(0x517)][_0x2dfa2e[_0x58c574(0x7b7)]]['setWebhook'](_0x44ec5d);}async[a0_0x36f96e(0x6a2)](_0x4cdbb4){const _0x341240=a0_0x36f96e;try{return await this[_0x341240(0x449)]['waInstances'][_0x4cdbb4[_0x341240(0x7b7)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},vp=new $(a0_0x36f96e(0x5b8)),Yt=class{constructor(_0x37f5e2){const _0x55a80d=a0_0x36f96e;this[_0x55a80d(0x449)]=_0x37f5e2;}async[a0_0x36f96e(0x6fd)](_0x11b737,_0x25ce4e){const _0x18f553=a0_0x36f96e;return await this[_0x18f553(0x449)][_0x18f553(0x517)][_0x11b737[_0x18f553(0x7b7)]][_0x18f553(0x6fd)](_0x25ce4e);}async[a0_0x36f96e(0x61b)](_0xb0d161){const _0x371be7=a0_0x36f96e;return await this[_0x371be7(0x449)][_0x371be7(0x517)][_0xb0d161[_0x371be7(0x7b7)]][_0x371be7(0x61b)]();}async[a0_0x36f96e(0x782)](_0x5d18d7){const _0x353762=a0_0x36f96e;return await this[_0x353762(0x449)][_0x353762(0x517)][_0x5d18d7[_0x353762(0x7b7)]]['deleteDoneMessages']();}async[a0_0x36f96e(0x775)](_0x40f111){const _0x26c50c=a0_0x36f96e;return await this[_0x26c50c(0x449)][_0x26c50c(0x517)][_0x40f111[_0x26c50c(0x7b7)]][_0x26c50c(0x775)]();}async['updateAgent'](_0x335ac0,_0x2ec8c1){const _0xdadb51=a0_0x36f96e;return await this[_0xdadb51(0x449)][_0xdadb51(0x517)][_0x335ac0[_0xdadb51(0x7b7)]][_0xdadb51(0x6be)](_0x2ec8c1);}async[a0_0x36f96e(0x613)](_0x2b7766,_0x215a60){const _0x3c8842=a0_0x36f96e;return await this[_0x3c8842(0x449)][_0x3c8842(0x517)][_0x2b7766['instanceName']]['updateCustomFields'](_0x215a60);}async[a0_0x36f96e(0x523)](_0x381918,_0x5d1943){const _0x38c241=a0_0x36f96e;return await this[_0x38c241(0x449)][_0x38c241(0x517)][_0x381918['instanceName']][_0x38c241(0x523)](_0x5d1943);}async[a0_0x36f96e(0x6d6)](_0x274a17,_0x3b9db9){const _0x168aac=a0_0x36f96e;return await this[_0x168aac(0x449)][_0x168aac(0x517)][_0x274a17[_0x168aac(0x7b7)]][_0x168aac(0x6d6)](_0x3b9db9);}async[a0_0x36f96e(0x136)](_0x5b6e42,_0x16b382){const _0x3ad3a9=a0_0x36f96e;return await this['waMonitor'][_0x3ad3a9(0x517)][_0x5b6e42[_0x3ad3a9(0x7b7)]][_0x3ad3a9(0x136)](_0x16b382);}async[a0_0x36f96e(0x5cc)](_0x172135,_0x45eaa6,_0x4a5e60,_0x4e194c){const _0x21c693=a0_0x36f96e;return await this['waMonitor'][_0x21c693(0x517)][_0x172135][_0x21c693(0x5cc)](_0x45eaa6,_0x4a5e60,_0x4e194c);}async[a0_0x36f96e(0x7d1)](_0xf81760,_0x4af622){const _0x2cc0ea=a0_0x36f96e;return await this[_0x2cc0ea(0x449)][_0x2cc0ea(0x517)][_0xf81760[_0x2cc0ea(0x7b7)]][_0x2cc0ea(0x7d1)](_0x4af622);}async[a0_0x36f96e(0x46c)](_0x4c4685,_0x2f648b){const _0x195d13=a0_0x36f96e;return await this[_0x195d13(0x449)][_0x195d13(0x517)][_0x4c4685[_0x195d13(0x7b7)]]['fetchConversation'](_0x2f648b);}async[a0_0x36f96e(0x5ef)](_0x41f0df,_0x2112b5){const _0x3782d9=a0_0x36f96e;return await this[_0x3782d9(0x449)]['waInstances'][_0x41f0df[_0x3782d9(0x7b7)]]['editConversation'](_0x2112b5);}async['deleteConversation'](_0xe581dc,_0x576709){const _0x39a72d=a0_0x36f96e;return await this[_0x39a72d(0x449)][_0x39a72d(0x517)][_0xe581dc['instanceName']][_0x39a72d(0x421)](_0x576709);}async['getFlow'](_0x4b8504,_0x2cf2f4){const _0x12e452=a0_0x36f96e;return await this[_0x12e452(0x449)][_0x12e452(0x517)][_0x4b8504[_0x12e452(0x7b7)]]['getFlow'](_0x2cf2f4[_0x12e452(0x79c)],_0x2cf2f4[_0x12e452(0x253)]);}async[a0_0x36f96e(0x3ec)](_0x3ae8fa,_0x8ce95c,_0xdbb607){const _0x57cdf4=a0_0x36f96e;return await this['waMonitor'][_0x57cdf4(0x517)][_0x3ae8fa[_0x57cdf4(0x7b7)]][_0x57cdf4(0x3ec)](_0x8ce95c,_0xdbb607);}async[a0_0x36f96e(0x739)](_0x528e5c,_0x25b5c9,_0x5acb9c){const _0x49ed9c=a0_0x36f96e;return await this['waMonitor'][_0x49ed9c(0x517)][_0x528e5c['instanceName']][_0x49ed9c(0x739)](_0x25b5c9,_0x5acb9c);}async[a0_0x36f96e(0x7f5)](_0x439086,_0x42dcca,_0x2c1235){const _0x26c04a=a0_0x36f96e;return await this[_0x26c04a(0x449)][_0x26c04a(0x517)][_0x439086[_0x26c04a(0x7b7)]][_0x26c04a(0x7f5)](_0x42dcca,_0x2c1235);}async[a0_0x36f96e(0x424)](_0x1067a2,_0x4f08ad,_0x3c3437){const _0x1b6d20=a0_0x36f96e;return await this[_0x1b6d20(0x449)][_0x1b6d20(0x517)][_0x1067a2[_0x1b6d20(0x7b7)]][_0x1b6d20(0x424)](_0x4f08ad,_0x3c3437);}async['editFlowGroup'](_0x2afa35,_0x33f562,_0x99e656){const _0x30587d=a0_0x36f96e;return await this[_0x30587d(0x449)][_0x30587d(0x517)][_0x2afa35[_0x30587d(0x7b7)]][_0x30587d(0x293)](_0x33f562,_0x99e656);}async['editFlowCondition'](_0x34ce56,_0x22936b,_0xf4684){const _0x3dec32=a0_0x36f96e;return await this['waMonitor'][_0x3dec32(0x517)][_0x34ce56[_0x3dec32(0x7b7)]][_0x3dec32(0x1bc)](_0x22936b,_0xf4684);}async[a0_0x36f96e(0x80f)](_0xd5bf91,_0x25039d,_0x51a1f2){const _0x58b8bf=a0_0x36f96e;return await this[_0x58b8bf(0x449)][_0x58b8bf(0x517)][_0xd5bf91[_0x58b8bf(0x7b7)]][_0x58b8bf(0x80f)](_0x25039d,_0x51a1f2);}async[a0_0x36f96e(0x114)](_0x1c7e33,_0x162e30,_0x519dbf){const _0x411d51=a0_0x36f96e;return await this[_0x411d51(0x449)]['waInstances'][_0x1c7e33[_0x411d51(0x7b7)]]['editFlowVariable'](_0x162e30,_0x519dbf);}async[a0_0x36f96e(0x268)](_0x39fea5,_0x5ec7a6,_0x10b209){const _0x5c862b=a0_0x36f96e;return await this[_0x5c862b(0x449)][_0x5c862b(0x517)][_0x39fea5[_0x5c862b(0x7b7)]][_0x5c862b(0x268)](_0x5ec7a6,_0x10b209);}async[a0_0x36f96e(0x3fa)](_0x5c8619){const _0x5ab5b1=a0_0x36f96e;return await this[_0x5ab5b1(0x449)][_0x5ab5b1(0x517)][_0x5c8619[_0x5ab5b1(0x7b7)]][_0x5ab5b1(0x3fa)]();}},Xt=class{constructor(_0x3d7eec){this['webhookService']=_0x3d7eec;}async[a0_0x36f96e(0x330)](_0x5a2e1b,_0x56456f){const _0x187c97=a0_0x36f96e;return this[_0x187c97(0x36a)][_0x187c97(0x250)](_0x5a2e1b,_0x56456f);}async[a0_0x36f96e(0x245)](_0x597e55){const _0x16f855=a0_0x36f96e;return this[_0x16f855(0x36a)]['find'](_0x597e55);}},Zt=class extends D{constructor(_0x54c46f,_0x12d091){const _0x372f84=a0_0x36f96e;super(_0x12d091),this[_0x372f84(0x6d8)]=_0x54c46f,this[_0x372f84(0x33c)]=_0x12d091;}async[a0_0x36f96e(0x250)](_0xeccef6,_0x13f14b){const _0x5de8b9=a0_0x36f96e;try{return this[_0x5de8b9(0x6ae)]['ENABLED']?{'insertCount':(await this[_0x5de8b9(0x6d8)][_0x5de8b9(0x4f3)]({'_id':_0x13f14b},{..._0xeccef6},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x4a652e){return _0x4a652e;}}async['delete'](_0x4557fb){const _0x2c61c8=a0_0x36f96e;try{if(this[_0x2c61c8(0x6ae)][_0x2c61c8(0x5bf)]){await this[_0x2c61c8(0x6d8)][_0x2c61c8(0x13d)]({'_id':_0x4557fb});return;}}catch(_0x1ca17a){return{'error':_0x1ca17a};}}async[a0_0x36f96e(0x6a2)](_0x4c18fc){const _0x403e9e=a0_0x36f96e;try{if(this[_0x403e9e(0x6ae)]['ENABLED'])return await this[_0x403e9e(0x6d8)][_0x403e9e(0x49a)]({'_id':_0x4c18fc});}catch{return{};}}},es=class extends D{constructor(_0x134593,_0x4466ea){const _0x2d4f0e=a0_0x36f96e;super(_0x4466ea),this[_0x2d4f0e(0x61e)]=_0x134593,this[_0x2d4f0e(0x33c)]=_0x4466ea,this[_0x2d4f0e(0x1df)]=_0x4466ea[_0x2d4f0e(0x5aa)](_0x2d4f0e(0x11c));}async[a0_0x36f96e(0x250)](_0x3f348c,_0x5bfcb0){const _0x538dcc=a0_0x36f96e;try{if(this[_0x538dcc(0x6ae)][_0x538dcc(0x5bf)])return{'insertCount':(await this['authModel']['updateOne']({'_id':_0x5bfcb0},{'$set':{..._0x3f348c}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x18102f){return{'error':_0x18102f};}}async['updateAll'](_0x32777a,_0x3427ab){const _0x5366d1=a0_0x36f96e;try{if(this[_0x5366d1(0x6ae)][_0x5366d1(0x5bf)])return{'insertCount':(await this[_0x5366d1(0x61e)][_0x5366d1(0x26d)](_0x32777a,{'$set':_0x3427ab},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x5366d1(0x7f6));}catch(_0x29d9f4){return{'error':_0x29d9f4};}}async[a0_0x36f96e(0x63b)](_0xf5b37a){const _0x3a92b5=a0_0x36f96e;try{if(this[_0x3a92b5(0x6ae)][_0x3a92b5(0x5bf)])return{'insertCount':(await this[_0x3a92b5(0x61e)][_0x3a92b5(0x63b)](_0xf5b37a))[_0x3a92b5(0x23c)]};throw new Error(_0x3a92b5(0x7f6));}catch(_0x4bd428){return{'error':_0x4bd428};}}async[a0_0x36f96e(0x2fc)](_0x4bcb2f){const _0x34b64b=a0_0x36f96e;try{if(this[_0x34b64b(0x6ae)][_0x34b64b(0x5bf)]){await this[_0x34b64b(0x61e)][_0x34b64b(0x13d)]({'_id':_0x4bcb2f});return;}}catch(_0x3811c5){return{'error':_0x3811c5};}}async[a0_0x36f96e(0x6a2)](_0x3eb6bd){const _0xad3db1=a0_0x36f96e;try{if(this['dbSettings'][_0xad3db1(0x5bf)])return await this[_0xad3db1(0x61e)][_0xad3db1(0x49a)]({'_id':_0x3eb6bd});}catch{return{};}}async['findAll'](){const _0x24b6ac=a0_0x36f96e;try{if(this[_0x24b6ac(0x6ae)][_0x24b6ac(0x5bf)])return await this[_0x24b6ac(0x61e)]['find']();}catch{return[];}}},ts=class extends D{[a0_0x36f96e(0x660)](_0x5a4bc6){return pa(_0x5a4bc6);}async[a0_0x36f96e(0x2fc)](_0x1aa4de,_0x5476dd){const _0x50c5c0=a0_0x36f96e;try{let _0x3b00f9=this[_0x50c5c0(0x660)](_0x5476dd),_0x33296d=I(_0x1aa4de['where']);return{'deletedCount':(await _0x3b00f9[_0x50c5c0(0x63b)](_0x33296d))['deletedCount']};}catch(_0x1328f9){return{'error':_0x1328f9?.['toString']()};}}async[a0_0x36f96e(0x13d)](_0x5e18a2,_0x28a9c7){const _0x49ffb9=a0_0x36f96e;try{let _0x6fefb7=this['getFlowModelForOwner'](_0x28a9c7),_0xae7aaa=I(_0x5e18a2[_0x49ffb9(0x54f)]);return{'deletedCount':(await _0x6fefb7[_0x49ffb9(0x13d)](_0xae7aaa))[_0x49ffb9(0x23c)]};}catch(_0x382cbd){return{'error':_0x382cbd?.[_0x49ffb9(0x2ee)]()};}}async['replaceOne'](_0xd44ff1,_0x102c26,_0x30d131){const _0x1ce51b=a0_0x36f96e;try{let _0x15afe5=await this[_0x1ce51b(0x660)](_0x30d131)[_0x1ce51b(0x53a)](_0xd44ff1,_0x102c26,{'overwrite':!0x0,'new':!0x0});return _0x15afe5||(console[_0x1ce51b(0x370)]('Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',_0xd44ff1),null);}catch(_0x229721){return console[_0x1ce51b(0x370)](_0x1ce51b(0x608),_0x229721),null;}}async[a0_0x36f96e(0x4ec)](_0x3f2cdd,_0x464103,_0x26e24b){const _0x412ea1=a0_0x36f96e;try{let _0x534619=await this['getFlowModelForOwner'](_0x26e24b)[_0x412ea1(0x3bc)](_0x3f2cdd);return _0x534619?(Object[_0x412ea1(0x2fe)](_0x534619,_0x464103),await _0x534619[_0x412ea1(0x72c)]()):(console[_0x412ea1(0x370)](_0x412ea1(0x1e6),_0x3f2cdd),null);}catch(_0x525db9){return console['error'](_0x412ea1(0x608),_0x525db9),null;}}async[a0_0x36f96e(0x440)](_0x197601,_0x346d95,_0x113152){const _0x212255=a0_0x36f96e;try{let _0x551824=this[_0x212255(0x660)](_0x113152),_0x32ef7c=await _0x551824[_0x212255(0x3bc)](_0x197601),_0x1c77e3=await _0x551824['findOneAndUpdate']({'_id':_0x197601},_0x346d95,{'new':!0x0,'runValidators':!0x0});return _0x1c77e3||(console['log']('Documento\x20com\x20ID\x20'+_0x197601+_0x212255(0x542)+_0x113152+_0x212255(0x6ce)),null);}catch(_0x20cd39){throw console[_0x212255(0x370)](_0x212255(0x4ea),_0x20cd39),_0x20cd39;}}async[a0_0x36f96e(0x678)](_0x3e20ed){const _0x21c49b=a0_0x36f96e;try{let _0x331cdf=this[_0x21c49b(0x660)](_0x3e20ed),_0x7cda7a={'shareOwners':{'$exists':!0x1}},_0x417406={'$set':{'shareOwners':[]}};return(await _0x331cdf[_0x21c49b(0x26d)](_0x7cda7a,_0x417406))[_0x21c49b(0x20d)];}catch(_0x439340){return console['error'](_0x439340),0x0;}}async[a0_0x36f96e(0x580)](_0x364764,_0x40337a){const _0x307760=a0_0x36f96e;try{let _0x45834b=this[_0x307760(0x660)](_0x40337a);return await new _0x45834b(_0x364764)[_0x307760(0x72c)]();}catch(_0x4adb21){return console[_0x307760(0x370)](_0x307760(0x4c4),_0x4adb21),null;}}async[a0_0x36f96e(0x26d)](_0x34a021,_0x109993,_0x5c1b10){const _0x27fd1b=a0_0x36f96e;try{return{'modifiedCount':(await this[_0x27fd1b(0x660)](_0x5c1b10)[_0x27fd1b(0x26d)](_0x34a021,{'$set':_0x109993}))[_0x27fd1b(0x20d)]};}catch(_0x11a4e4){return console['error'](_0x27fd1b(0x346),_0x11a4e4),{'error':_0x11a4e4};}}async[a0_0x36f96e(0x39a)](_0x197798,_0x5aef9d){const _0x491b23=a0_0x36f96e;try{let _0x16ebb7=this[_0x491b23(0x660)](_0x5aef9d),_0x469554=I(_0x197798[_0x491b23(0x54f)]);return await _0x16ebb7[_0x491b23(0x6a2)](_0x469554)['limit'](_0x197798?.[_0x491b23(0x5c4)]??0x0)[_0x491b23(0x5bc)]();}catch{return[];}}async[a0_0x36f96e(0x49a)](_0x52da13,_0x3d8c8b){const _0xe31c7=a0_0x36f96e;try{let _0x113bdd=this['getFlowModelForOwner'](_0x3d8c8b),_0x59bd7f=I(_0x52da13['where']);return await _0x113bdd['findOne'](_0x59bd7f)[_0xe31c7(0x5bc)]();}catch{return null;}}async[a0_0x36f96e(0x673)](_0x19eb15){const _0x566b27=a0_0x36f96e;try{return await this['getFlowModelForOwner'](_0x19eb15)[_0x566b27(0x362)][_0x566b27(0x760)](),{'success':!0x0};}catch(_0xfc6bda){return console[_0x566b27(0x370)](_0xfc6bda),{'success':!0x1,'error':_0xfc6bda};}}},ss=class extends D{[a0_0x36f96e(0x5c1)](_0x46006f){return ha(_0x46006f);}async['insert'](_0x3a5bac){const _0x5bd319=a0_0x36f96e;if(_0x3a5bac[_0x5bd319(0x5ed)]!==0x0)try{return{'insertCount':(await this[_0x5bd319(0x5c1)](_0x3a5bac[0x0][_0x5bd319(0x6ab)])[_0x5bd319(0x486)]([..._0x3a5bac]))[_0x5bd319(0x5ed)]};}catch(_0x15a30c){return _0x15a30c;}}async[a0_0x36f96e(0x2fc)](_0x3ad05e,_0x6e5acd){const _0x2f5086=a0_0x36f96e;try{let _0x4f1753=this[_0x2f5086(0x5c1)](_0x6e5acd),_0x5ad237=I(_0x3ad05e[_0x2f5086(0x54f)]);return{'deletedCount':(await _0x4f1753[_0x2f5086(0x63b)](_0x5ad237))['deletedCount']};}catch(_0xa8a43c){return{'error':_0xa8a43c?.[_0x2f5086(0x2ee)]()};}}async['deleteOne'](_0x27cfd6,_0x2fa8c3){const _0x5b7156=a0_0x36f96e;try{let _0x442343=this['getConversationModelForOwner'](_0x2fa8c3),_0xdebbbc=I(_0x27cfd6['where']);return{'deletedCount':(await _0x442343['deleteOne'](_0xdebbbc))[_0x5b7156(0x23c)]};}catch(_0x74febe){return{'error':_0x74febe?.[_0x5b7156(0x2ee)]()};}}async[a0_0x36f96e(0x3d0)](_0x22abe7,_0x29fb6d){const _0x2b3e65=a0_0x36f96e;try{if(_0x22abe7[_0x2b3e65(0x5ed)]===0x0)return;let _0x4034e1=this[_0x2b3e65(0x5c1)](_0x29fb6d),_0x47239c=_0x22abe7[_0x2b3e65(0x25f)](_0x2d7be6=>({'updateOne':{'filter':{'name':_0x2d7be6[_0x2b3e65(0x79c)],'owner':_0x29fb6d},'update':{..._0x2d7be6}}})),{modifiedCount:_0x54bf3c}=await _0x4034e1['bulkWrite'](_0x47239c);return{'insertCount':_0x54bf3c};}catch{return;}}async['updateMany'](_0x3b4144,_0x15d859,_0x3aa765){const _0x17e1ac=a0_0x36f96e;try{return{'modifiedCount':(await this[_0x17e1ac(0x5c1)](_0x3aa765)[_0x17e1ac(0x26d)](_0x3b4144,{'$set':_0x15d859})['exec']())[_0x17e1ac(0x20d)]};}catch(_0x2c342e){return console[_0x17e1ac(0x370)](_0x17e1ac(0x50c),_0x2c342e),{'error':_0x2c342e};}}async[a0_0x36f96e(0x4ec)](_0x4e8285,_0x167413,_0x1d556c){const _0x5ee858=a0_0x36f96e;try{return await this[_0x5ee858(0x5c1)](_0x1d556c)['findOneAndUpdate']({'_id':_0x4e8285},{'$set':_0x167413},{'new':!0x0,'upsert':!0x0})[_0x5ee858(0x5bc)]();}catch(_0x31ddd0){return console[_0x5ee858(0x370)](_0x31ddd0),null;}}async[a0_0x36f96e(0x6a2)](_0x5cee8e,_0x25eb67){const _0x35149e=a0_0x36f96e;try{return await this['getConversationModelForOwner'](_0x25eb67)[_0x35149e(0x6a2)](_0x5cee8e)[_0x35149e(0x77d)]({'lastInteraction':-0x1})[_0x35149e(0x5bc)]();}catch{return[];}}async[a0_0x36f96e(0x49a)](_0x18d12a,_0x571f8d){const _0x5e272d=a0_0x36f96e;try{return await this[_0x5e272d(0x5c1)](_0x571f8d)[_0x5e272d(0x49a)]({..._0x18d12a[_0x5e272d(0x54f)]})[_0x5e272d(0x5bc)]();}catch{return null;}}async[a0_0x36f96e(0x673)](_0x1152d2){const _0x219db9=a0_0x36f96e;try{return await this[_0x219db9(0x5c1)](_0x1152d2)[_0x219db9(0x362)][_0x219db9(0x760)](),{'success':!0x0};}catch(_0x27c55){return console['error'](_0x27c55),{'success':!0x1,'error':_0x27c55};}}},as=class extends D{[a0_0x36f96e(0x15b)](_0xfbeae4){return ga(_0xfbeae4);}async['createAndSave'](_0x36a112,_0x338880){const _0x4428bb=a0_0x36f96e;try{let _0x533d49=this[_0x4428bb(0x15b)](_0x338880);return await new _0x533d49(_0x36a112)[_0x4428bb(0x72c)]();}catch(_0x313ef7){return console[_0x4428bb(0x370)](_0x4428bb(0x4c4),_0x313ef7),null;}}async['deleteOne'](_0x239d1c,_0x52e4ad){const _0x1d7f3f=a0_0x36f96e;try{return await this['getScheduleMessageModelForOwner'](_0x52e4ad)[_0x1d7f3f(0x768)](_0x239d1c),{};}catch(_0x134045){return{'error':_0x134045?.[_0x1d7f3f(0x2ee)]()};}}async['updateOne'](_0x275cb1,_0x583867,_0x110da8){const _0x4dd45e=a0_0x36f96e;try{return await this[_0x4dd45e(0x15b)](_0x110da8)[_0x4dd45e(0x1a4)](_0x275cb1,{'$set':_0x583867},{'new':!0x0})[_0x4dd45e(0x5bc)]();}catch(_0x18d650){return console['error'](_0x4dd45e(0x158),_0x18d650),null;}}async[a0_0x36f96e(0x533)](_0x3d6670,_0x195150,_0x1cac82){const _0x212249=a0_0x36f96e;try{return await this['getScheduleMessageModelForOwner'](_0x1cac82)[_0x212249(0x53a)](_0x3d6670,_0x195150,{'new':!0x0})[_0x212249(0x5bc)]();}catch(_0x34dfa0){return console[_0x212249(0x370)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x34dfa0),null;}}async[a0_0x36f96e(0x6a2)](_0x361cf3,_0xbb7a42){const _0x417596=a0_0x36f96e;try{return await this['getScheduleMessageModelForOwner'](_0xbb7a42)[_0x417596(0x6a2)](_0x361cf3[_0x417596(0x54f)])[_0x417596(0x5c4)](_0x361cf3?.[_0x417596(0x5c4)]??0x0)[_0x417596(0x77d)]({'when':0x1})[_0x417596(0x5bc)]();}catch{return[];}}async[a0_0x36f96e(0x49a)](_0x563c05,_0x2996fa){const _0x291019=a0_0x36f96e;try{return await this[_0x291019(0x15b)](_0x2996fa)['findOne'](_0x563c05[_0x291019(0x54f)])[_0x291019(0x77d)]({'when':0x1})[_0x291019(0x5bc)]();}catch{return null;}}async[a0_0x36f96e(0x3bc)](_0x15ba4c,_0x1ae541){const _0x129a50=a0_0x36f96e;try{return await this['getScheduleMessageModelForOwner'](_0x1ae541)[_0x129a50(0x3bc)](_0x15ba4c)[_0x129a50(0x5bc)]();}catch{return null;}}async[a0_0x36f96e(0x63b)](_0x4109cf,_0x4dea64){const _0x30ba8c=a0_0x36f96e;try{return{'deletedCount':(await this[_0x30ba8c(0x15b)](_0x4dea64)[_0x30ba8c(0x63b)](_0x4109cf))['deletedCount']};}catch(_0x5612fe){return console['error'](_0x30ba8c(0x59b),_0x5612fe),{'error':_0x5612fe};}}async['deleteAll'](_0x17386a){const _0x2692a2=a0_0x36f96e;try{return await this[_0x2692a2(0x15b)](_0x17386a)['collection'][_0x2692a2(0x760)](),{'success':!0x0};}catch(_0x5eb747){return console[_0x2692a2(0x370)](_0x5eb747),{'success':!0x1,'error':_0x5eb747};}}},os=class extends D{async['update'](_0x39f29a,_0x206aa9){const _0x1c5c18=a0_0x36f96e;try{if(this[_0x1c5c18(0x6ae)]['ENABLED']){let _0x3e304e=await Ne[_0x1c5c18(0x1a4)]({'_id':_0x206aa9},{'$set':_0x39f29a},{'new':!0x0});return console[_0x1c5c18(0x3bb)](_0x1c5c18(0x76a),_0x3e304e),_0x3e304e;}}catch(_0x1a256d){throw console[_0x1c5c18(0x370)](_0x1c5c18(0x152),_0x1a256d),_0x1a256d;}}async[a0_0x36f96e(0x2f6)](_0xca2fe5){const _0x222276=a0_0x36f96e;try{let _0x2e2565=await Ne[_0x222276(0x3bc)](_0xca2fe5);return _0x2e2565?_0x2e2565[_0x222276(0x689)]||(_0x2e2565[_0x222276(0x689)]=[],await _0x2e2565[_0x222276(0x72c)]()):(_0x2e2565=new Ne({'_id':_0xca2fe5,'autoCompleteMessages':[]}),await _0x2e2565[_0x222276(0x72c)]()),_0x2e2565;}catch(_0x50c75c){return _0x50c75c[_0x222276(0x107)]===0x2af8&&_0x50c75c[_0x222276(0x2b4)]&&_0x50c75c['keyPattern'][_0x222276(0x6a1)]?(console[_0x222276(0x370)](_0x222276(0x588)),await Ne[_0x222276(0x362)]['dropIndex']('autoCompleteMessages.command_1'),null):(console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x50c75c),null);}}},Or=new $(a0_0x36f96e(0x473)),Tr=new We(b),Ir=new qt(b),xr=new ot(b),Dr=new Vt(ea,b),_r=new Zt(na,b),Pr=new es(oa,b),kr=new ts(b),jr=new Gt(b),Lr=new ss(b),Fr=new as(b),Jr=new os(b),pe=new Ge(Tr,Ir,xr,Dr,_r,Pr,kr,Lr,jr,Fr,Jr,A?.['getClient']()),B=new Ut(us,b,pe),Ur=new Ht(b,B,pe),qr=new Qt(B),Cs=new Xt(qr),O=new Yt(B),ce=new Wt(B,b,pe,us,Ur),W=new zt(B),P=new Bt(B),V=new Kt(B);Or[a0_0x36f96e(0x299)]('Module\x20-\x20ON');var Uh=require('express-async-errors'),ks=require('fs'),$o=T(require(a0_0x36f96e(0x60d))),Ao=T(require('http')),Pe=class c{static #e;static set[a0_0x36f96e(0x4d8)](_0x429199){this.#e=_0x429199;}static get[a0_0x36f96e(0x60d)](){const _0x15f1ea=a0_0x36f96e;let {FULLCHAIN:_0x534a24,PRIVKEY:_0x34ab09}=b[_0x15f1ea(0x5aa)](_0x15f1ea(0x2b3));return $o[_0x15f1ea(0x187)]({'cert':(0x0,ks[_0x15f1ea(0x42a)])(_0x534a24),'key':(0x0,ks[_0x15f1ea(0x42a)])(_0x34ab09)},c.#e);}static get[a0_0x36f96e(0x327)](){return Ao['createServer'](c.#e);}},ge=T(require('fs')),_o=T(require(a0_0x36f96e(0x5fe))),ke=T(require('axios')),Le=T(require('path')),Fe=require(a0_0x36f96e(0x38e));function Vr(){const _0x5ea937=a0_0x36f96e;B[_0x5ea937(0x7f8)]();let _0x39f9db=Le[_0x5ea937(0x3dd)][_0x5ea937(0x41f)](__dirname,_0x5ea937(0x2d8));Do(_0x39f9db);}var Do=_0x1da949=>{const _0x15a8a7=a0_0x36f96e;let _0x54f888=ge['default'][_0x15a8a7(0x12a)](_0x1da949),_0x5c798d=0xc*0x3c*0x3c*0x3e8,_0x2daadb=0x2*0x3c*0x3c*0x3e8,_0x4e7a23=new Date()[_0x15a8a7(0x4b5)]();_0x54f888[_0x15a8a7(0x1f3)](_0x4bc1c6=>{const _0x3ddf47=_0x15a8a7;let _0x7bdcc1=Le[_0x3ddf47(0x3dd)][_0x3ddf47(0x41f)](_0x1da949,_0x4bc1c6),_0x2eca45=ge[_0x3ddf47(0x3dd)][_0x3ddf47(0x2a6)](_0x7bdcc1)['birthtime'][_0x3ddf47(0x4b5)]();_0x4e7a23-_0x2eca45>_0x5c798d&&(ge[_0x3ddf47(0x3dd)][_0x3ddf47(0x6f0)](_0x7bdcc1),console['log'](_0x3ddf47(0x429)+_0x4bc1c6));}),setTimeout(()=>Do(_0x1da949),_0x2daadb);};function Gr(){const _0xec33b8=a0_0x36f96e;let _0xa1f2c=new $(_0xec33b8(0x52b)),_0x2b964b=(0x0,me['default'])();_0x2b964b[_0xec33b8(0x600)]((0x0,xo[_0xec33b8(0x3dd)])({'origin'(_0x293984,_0x24bc02){const _0x38416f=_0xec33b8;let {ORIGIN:_0x31e113}=b[_0x38416f(0x5aa)](_0x38416f(0x5fa));return _0x293984||(_0x293984='*'),_0x31e113['indexOf']('*')!==-0x1||_0x31e113['indexOf'](_0x293984)!==-0x1?_0x24bc02(null,!0x0):_0x24bc02(new Error(_0x38416f(0x75f)));},'methods':[...b['get'](_0xec33b8(0x5fa))[_0xec33b8(0x66c)]],'credentials':b['get'](_0xec33b8(0x5fa))['CREDENTIALS']}),(0x0,me['urlencoded'])({'extended':!0x0,'limit':_0xec33b8(0x6b8)}),(0x0,me[_0xec33b8(0x264)])({'limit':_0xec33b8(0x6b8)})),_0x2b964b[_0xec33b8(0x600)]((_0x3d5d89,_0x26639b,_0x1e69b6)=>{const _0x218808=_0xec33b8;_0x3d5d89[_0x218808(0x804)][_0x218808(0x720)](_0x218808(0x3d4))?_0x1e69b6():(0x0,Io[_0x218808(0x3dd)])()(_0x3d5d89,_0x26639b,_0x1e69b6);}),_0x2b964b[_0xec33b8(0x7d7)](_0xec33b8(0x4fa),_0xec33b8(0x3f0)),_0x2b964b[_0xec33b8(0x7d7)](_0xec33b8(0x3ed),(0x0,Ls['join'])(ne,_0xec33b8(0x3ed))),_0x2b964b[_0xec33b8(0x600)](me['default'][_0xec33b8(0x799)]((0x0,Ls[_0xec33b8(0x41f)])(ne,'public'))),_0x2b964b[_0xec33b8(0x600)]((_0x2c4fdc,_0x2aa362,_0x4e7eda)=>{const _0x44eccf=_0xec33b8;let _0x2cc3b7=_0x2aa362[_0x44eccf(0x242)];_0x2aa362[_0x44eccf(0x242)]=function(_0x2ab618){const _0xe5c73a=_0x44eccf;if(_0x2c4fdc[_0xe5c73a(0x4f4)][_0xe5c73a(0x321)]===_0xe5c73a(0x778)||_0x2c4fdc['headers']['uazapi']==='true'){let _0x512b85=JSON[_0xe5c73a(0x766)](_0x2ab618);_0x2ab618=JSON[_0xe5c73a(0x751)](_0x53530c(_0x512b85));}return _0x2cc3b7[_0xe5c73a(0x59d)](_0x2aa362,[_0x2ab618]);},_0x4e7eda();}),_0x2b964b[_0xec33b8(0x600)]('/',xe),_0x2b964b[_0xec33b8(0x600)]((_0x4164c4,_0x2c4b35,_0x40f522,_0x15a556)=>{const _0x359db6=_0xec33b8;if(_0x4164c4)return _0x40f522[_0x359db6(0x193)](_0x4164c4['status']||0x1f4)[_0x359db6(0x264)](_0x4164c4);},(_0x5497bc,_0x1f8d18,_0x333bed)=>{const _0x1361a7=_0xec33b8;let {method:_0x3e4a8a,url:_0x333014}=_0x5497bc;_0x1f8d18[_0x1361a7(0x193)](0x194)[_0x1361a7(0x264)]({'status':0x194,'message':'Cannot\x20'+_0x3e4a8a['toUpperCase']()+'\x20'+_0x333014,'error':_0x1361a7(0x6d3)}),_0x333bed();});let _0x53530c=(_0x34832d,_0x39c159=_0xec33b8(0x64a))=>{const _0x57503e=_0xec33b8;let _0x3a2ec7=(_0x3f2173,_0x33676b=null,_0xe9418=!0x1)=>{const _0x226f10=a0_0x5519;let _0x4f948f={};return Object[_0x226f10(0x179)](_0x3f2173)[_0x226f10(0x1f3)](_0x51264e=>{const _0x5738dc=_0x226f10;let _0x24396d=_0x3f2173[_0x51264e],_0x50ed35=''+_0x39c159+_0x51264e;_0x33676b&&!_0xe9418&&(_0x50ed35=_0x33676b+'.'+_0x51264e),!_0x24396d&&_0x24396d!==0x0&&_0x24396d!==!0x1||typeof _0x24396d>'u'?_0x4f948f[_0x50ed35]=null:typeof _0x24396d!=_0x5738dc(0x3b0)&&!Array[_0x5738dc(0x358)](_0x24396d)?_0x4f948f[_0x50ed35]=_0x24396d:typeof _0x24396d==_0x5738dc(0x3b0)&&!Array[_0x5738dc(0x358)](_0x24396d)?_0x4f948f=Object['assign'](_0x4f948f,_0x3a2ec7(_0x24396d,_0x50ed35)):Array[_0x5738dc(0x358)](_0x24396d)&&(typeof _0x24396d[0x0]=='object'?(_0x4f948f[_0x50ed35]=[],_0x24396d[_0x5738dc(0x1f3)](_0x2cc285=>{const _0x2eb5f2=_0x5738dc;_0x4f948f[_0x50ed35][_0x2eb5f2(0x334)](_0x3a2ec7(_0x2cc285,_0x50ed35,!0x0));})):_0x4f948f[_0x50ed35]=_0x24396d);}),_0x4f948f;};return Array[_0x57503e(0x358)](_0x34832d)?_0x34832d['map'](_0x16ae90=>_0x3a2ec7(_0x16ae90)):typeof _0x34832d==_0x57503e(0x3b0)&&_0x34832d!==null?_0x3a2ec7(_0x34832d):{};},_0x50575c=b[_0xec33b8(0x5aa)]('SERVER');Pe[_0xec33b8(0x4d8)]=_0x2b964b;let _0x49cd75=Pe[_0x50575c[_0xec33b8(0x774)]],_0x39dd30=_0xec33b8(0x6c1);_0x49cd75[_0xec33b8(0x5cb)](_0x50575c[_0xec33b8(0x2c6)],()=>{const _0x63aa06=_0xec33b8;_0xa1f2c['log'](_0x39dd30),_0xa1f2c[_0x63aa06(0x3bb)](_0x50575c[_0x63aa06(0x774)][_0x63aa06(0x491)]()+_0x63aa06(0x492)+_0x50575c['PORT']);}),Vr(),Hs();}var Br=a0_0x36f96e(0x35e),Wr=Le[a0_0x36f96e(0x3dd)][a0_0x36f96e(0x41f)](__dirname,'./.git/config'),je=null;function zr(){return new Promise((_0x4a2566,_0x14c4e0)=>{const _0xdb73ed=a0_0x5519;ge[_0xdb73ed(0x3dd)]['readFile'](Wr,'utf-8',(_0x1e55b4,_0x176442)=>{const _0x2d5516=_0xdb73ed;if(_0x1e55b4){je=_0x1e55b4,_0x4a2566();return;}_o[_0x2d5516(0x3dd)][_0x2d5516(0x766)](_0x176442)[_0x2d5516(0x33e)][_0x2d5516(0x206)]===Br?(je=null,_0x4a2566()):(je=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x4a2566());});});}async function Hr(){const _0x2061a0=a0_0x36f96e;try{await zr(),await Fs();}catch(_0xdca0ff){console['error'](_0x2061a0(0x704)+_0xdca0ff),process[_0x2061a0(0x14a)](0x1);}}Hr();async function Po(){const _0x3df724=a0_0x36f96e;let _0x4bf0c6;try{_0x4bf0c6=(await ke[_0x3df724(0x3dd)][_0x3df724(0x5aa)]('https://jsonip.com'))[_0x3df724(0x7af)]['ip'];}catch(_0x3e6ec9){console['error'](_0x3e6ec9);try{_0x4bf0c6=(await ke[_0x3df724(0x3dd)][_0x3df724(0x5aa)](_0x3df724(0x7f3)))[_0x3df724(0x7af)]['ip'];}catch(_0x4daf8d){console[_0x3df724(0x370)](_0x4daf8d);try{_0x4bf0c6=(await ke['default'][_0x3df724(0x5aa)](_0x3df724(0x527)))[_0x3df724(0x7af)][_0x3df724(0x404)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5599b6){return console[_0x3df724(0x370)](_0x5599b6),!0x1;}}}return _0x4bf0c6;}var Oo=0x0;async function Kr(){const _0x44b36f=a0_0x36f96e;let _0x12beca=await new le(b[_0x44b36f(0x5aa)](_0x44b36f(0x4e3)))[_0x44b36f(0x62f)]();return console[_0x44b36f(0x3bb)](_0x44b36f(0x7e5),_0x12beca[_0x44b36f(0x5ed)]),_0x12beca[_0x44b36f(0x5ed)];}function Qr(_0x2e7043){const _0x492c5d=a0_0x36f96e;let _0x3d1f70=_0x2e7043[_0x492c5d(0x5aa)](_0x492c5d(0x52b))[_0x492c5d(0x289)],_0x54495f=_0x2e7043[_0x492c5d(0x5aa)](_0x492c5d(0x2b3)),_0x5833c3;if(_0x3d1f70){let _0x451e85=_0x3d1f70['match'](/\/\/(.*?)\./);_0x451e85&&_0x451e85[0x1]&&(_0x5833c3=_0x451e85[0x1]);}if(!_0x5833c3&&_0x54495f&&_0x54495f[_0x492c5d(0x487)]){let _0x357761=_0x54495f[_0x492c5d(0x487)]['split']('/'),_0x229fd3=_0x357761[_0x357761[_0x492c5d(0x5ed)]-0x2];if(_0x229fd3){let _0xb11080=_0x229fd3['split']('.');_0xb11080[_0x492c5d(0x5ed)]>0x2&&(_0x5833c3=_0xb11080[0x0]);}}return _0x5833c3;}var Ds=Qr(b);async function Yr(){const _0x1918e4=a0_0x36f96e;let _0x39f49d=b[_0x1918e4(0x5aa)](_0x1918e4(0x4e3)),_0xf902b7=b[_0x1918e4(0x5aa)](_0x1918e4(0x11c))[_0x1918e4(0x3c8)]['KEY'],_0x39eb84=b['get'](_0x1918e4(0x2b3)),_0x22c882=await Po(),_0x2a0fcf=b['get'](_0x1918e4(0x52b))['PORT'],_0x353cec=b[_0x1918e4(0x5aa)]('SERVER')[_0x1918e4(0x289)];try{let _0x11214f={'ip':_0x22c882||null,'redis_enable':_0x39f49d?.[_0x1918e4(0x5bf)]||null,'apikey':_0xf902b7||null,'ssl':_0x39eb84?.[_0x1918e4(0x20b)]||null,'lastupdate':ko||null,'port':_0x2a0fcf||null,'gitInstallError':je?.[_0x1918e4(0x641)]||null,'url':_0x353cec||null};if(console['log'](_0x1918e4(0x454),_0x11214f['ip']),_0x39f49d&&_0x39f49d[_0x1918e4(0x5bf)]){let _0x550220=await Kr();_0x11214f[_0x1918e4(0x68c)]=_0x550220||null;}for(let _0x39f90f in _0x11214f)_0x11214f['hasOwnProperty'](_0x39f90f)&&_0x39f90f!=='ip'&&(_0x11214f[_0x39f90f]=JSON['stringify'](_0x11214f[_0x39f90f]));return(await ke[_0x1918e4(0x3dd)][_0x1918e4(0x784)](_0x1918e4(0x670),_0x11214f))['data'];}catch(_0x3f2323){return console['error'](_0x3f2323),!0x1;}}var js=!0x1,ko=0x242,Xr=0x3,To=0x1b7740;async function Fs(){const _0x16db98=a0_0x36f96e;if(!await Po())return console[_0x16db98(0x370)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),_0x16db98(0x803);let _0x3302bd=await Yr();if(_0x3302bd){if(_0x3302bd[_0x16db98(0x390)][_0x16db98(0x29d)]===!0x0){let _0x4ef92c=b[_0x16db98(0x5aa)](_0x16db98(0x2b3)),_0x45bde8=b['get'](_0x16db98(0x52b))[_0x16db98(0x289)];_0x4ef92c&&_0x4ef92c?.[_0x16db98(0x20b)]?.['includes'](_0x16db98(0x2a5))&&_0x3302bd['response'][_0x16db98(0x74b)]&&!_0x45bde8&&(await ti(_0x3302bd[_0x16db98(0x390)]['subdomain'],ei),await si(_0x16db98(0x70d),_0x3302bd[_0x16db98(0x390)][_0x16db98(0x74b)]),console[_0x16db98(0x3bb)](_0x16db98(0x336)),setTimeout(()=>oi(),0x2710)),je===null&&_0x3302bd[_0x16db98(0x390)][_0x16db98(0x6fa)]-ko>0x0&&await Zr(),js||(js=!0x0,Gr());let _0x4518f=0x24*0x3c*0x3c,_0x1e4d77=_0x3302bd['response'][_0x16db98(0x2a2)]>_0x4518f?_0x4518f:_0x3302bd['response']['segundos'],_0x523a7a=Number(_0x1e4d77);if(isNaN(_0x523a7a)){console['error'](_0x16db98(0x43a));return;}let _0x3d0bdf=Math[_0x16db98(0x21e)](_0x523a7a/0xe10),_0x1691c9=Math[_0x16db98(0x21e)](_0x523a7a%0xe10/0x3c),_0x962de1=new Date(Date[_0x16db98(0x31b)]()+_0x523a7a*0x3e8);setTimeout(Fs,_0x523a7a*0x3e8);let _0x4b6174=_0x2b8b58=>_0x2b8b58[_0x16db98(0x2ee)]()[_0x16db98(0x73e)](0x2,'0'),_0x31b63a=_0x16db98(0x1c0)+_0x4b6174(_0x3d0bdf)+_0x16db98(0x24e)+_0x4b6174(_0x1691c9)+_0x16db98(0x205)+_0x4b6174(_0x962de1['getHours']())+':'+_0x4b6174(_0x962de1['getMinutes']())+'.';console[_0x16db98(0x3bb)](_0x31b63a);}else return console[_0x16db98(0x3bb)](_0x16db98(0x514)),js&&(console[_0x16db98(0x3bb)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x16db98(0x14a)]()),'LICENSE_INVALID';}else{if(Oo++,Oo<Xr)console['log']('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+To/0xea60+_0x16db98(0x313)),setTimeout(Fs,To);else return console[_0x16db98(0x370)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x16db98(0x304);}}async function Zr(){const _0xd16a6f=a0_0x36f96e;console[_0xd16a6f(0x3bb)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x302f5f=(0x0,Fe['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x302f5f[_0xd16a6f(0x40a)]['on'](_0xd16a6f(0x7af),_0x5b0eae=>{const _0x5109c7=_0xd16a6f;console[_0x5109c7(0x3bb)](_0x5109c7(0x5c2)+_0x5b0eae);}),_0x302f5f[_0xd16a6f(0x700)]['on'](_0xd16a6f(0x7af),_0x28d93a=>{const _0x39748a=_0xd16a6f;console[_0x39748a(0x370)](_0x39748a(0x518)+_0x28d93a);}),_0x302f5f['on'](_0xd16a6f(0x14a),_0x16ce6a=>{const _0x133848=_0xd16a6f;_0x16ce6a!==0x0?console['error'](_0x133848(0x76f)+_0x16ce6a):console['log'](_0x133848(0x70e)),console[_0x133848(0x3bb)](_0x133848(0x203)),setTimeout(()=>process['exit'](),0x2710);});}var ei=Le[a0_0x36f96e(0x3dd)][a0_0x36f96e(0x41f)](__dirname,a0_0x36f96e(0x806));async function ti(_0x421dd6,_0x233ebf){const _0x91da22=a0_0x36f96e;let _0x55385f=ai();_0x421dd6=_0x421dd6[_0x91da22(0x410)](_0x91da22(0x1fc),'');try{let _0x249eea=ge[_0x91da22(0x3dd)][_0x91da22(0x42a)](_0x233ebf,_0x91da22(0x7d6));_0x249eea=_0x249eea[_0x91da22(0x410)](/<apikey>/,_0x55385f),_0x249eea=_0x249eea[_0x91da22(0x410)](/<subdomain>/g,_0x421dd6),ge[_0x91da22(0x3dd)][_0x91da22(0x2c3)](_0x233ebf,_0x249eea,_0x91da22(0x7d6)),console[_0x91da22(0x3bb)](_0x91da22(0x597));}catch(_0xb5d3e7){console['error'](_0x91da22(0x680),_0xb5d3e7);}}function si(_0x1f93c0,_0x19aa18){return new Promise((_0x3a9cdc,_0x380280)=>{const _0x415a7f=a0_0x5519;let _0x3188bf=(0x0,Fe[_0x415a7f(0x74f)])(_0x415a7f(0x38f),[_0x415a7f(0x3b4),_0x415a7f(0x238),'-m',_0x1f93c0,_0x415a7f(0x7e1),'-d',_0x19aa18]);_0x3188bf[_0x415a7f(0x40a)]['on'](_0x415a7f(0x7af),_0x436184=>{const _0x1bf48e=_0x415a7f;console['log'](_0x1bf48e(0x2cf)+_0x436184['toString']());}),_0x3188bf['stderr']['on']('data',_0x5120d3=>{const _0x5e765b=_0x415a7f;console['error']('Erro\x20do\x20Certbot:\x20'+_0x5120d3[_0x5e765b(0x2ee)]());}),_0x3188bf['on'](_0x415a7f(0x200),_0x11c470=>{const _0x2963fd=_0x415a7f;_0x11c470!==0x0?(console[_0x2963fd(0x370)](_0x2963fd(0x65d)+_0x11c470),_0x380280('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x11c470)):(console['log'](_0x2963fd(0x477)),_0x3a9cdc());});});}function ai(_0x2f40d2=0x32){const _0x4224ae=a0_0x36f96e;let _0x382b18=_0x4224ae(0x254),_0x5a22d6='';for(let _0x5f0a92=0x0;_0x5f0a92<_0x2f40d2;_0x5f0a92++)_0x5a22d6+=_0x382b18[_0x4224ae(0x6b7)](Math[_0x4224ae(0x21e)](Math[_0x4224ae(0x796)]()*_0x382b18['length']));return _0x5a22d6;}function oi(){(0x0,Fe['exec'])('shutdown\x20-r\x20now',(_0x28633f,_0x382578,_0x27c9c7)=>{const _0x299fd3=a0_0x5519;if(_0x28633f){console['error'](_0x299fd3(0x664)+_0x28633f);return;}if(_0x27c9c7){console[_0x299fd3(0x370)](_0x299fd3(0x667)+_0x27c9c7);return;}console[_0x299fd3(0x3bb)](_0x299fd3(0x5dc)+_0x382578);});}0x0&&(module[a0_0x36f96e(0x382)]={'subdomain':subdomain});