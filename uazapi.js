const a0_0xc64edb=a0_0x431f;(function(_0x188d12,_0x4100ef){const _0x309b73=a0_0x431f,_0x2750da=_0x188d12();while(!![]){try{const _0x42c314=-parseInt(_0x309b73(0x539))/0x1+parseInt(_0x309b73(0x59f))/0x2+parseInt(_0x309b73(0x76a))/0x3*(parseInt(_0x309b73(0x3cb))/0x4)+-parseInt(_0x309b73(0x3c2))/0x5+parseInt(_0x309b73(0x724))/0x6+-parseInt(_0x309b73(0x3e8))/0x7+parseInt(_0x309b73(0x585))/0x8*(-parseInt(_0x309b73(0x554))/0x9);if(_0x42c314===_0x4100ef)break;else _0x2750da['push'](_0x2750da['shift']());}catch(_0x170158){_0x2750da['push'](_0x2750da['shift']());}}}(a0_0x14d2,0x47dd4));var _o=Object[a0_0xc64edb(0x171)],Ie=Object[a0_0xc64edb(0x7a2)],Po=Object[a0_0xc64edb(0x20c)],$o=Object[a0_0xc64edb(0x5ff)],ko=Object['getPrototypeOf'],Lo=Object[a0_0xc64edb(0x4cb)][a0_0xc64edb(0x3c7)],jo=(_0x37260a,_0xe817ed)=>{for(var _0x1f27ce in _0xe817ed)Ie(_0x37260a,_0x1f27ce,{'get':_0xe817ed[_0x1f27ce],'enumerable':!0x0});},xs=(_0x5a2ef2,_0x4684e7,_0x5649a2,_0x408751)=>{const _0xe750e6=a0_0xc64edb;if(_0x4684e7&&typeof _0x4684e7==_0xe750e6(0x41a)||typeof _0x4684e7=='function'){for(let _0x21b102 of $o(_0x4684e7))!Lo[_0xe750e6(0x332)](_0x5a2ef2,_0x21b102)&&_0x21b102!==_0x5649a2&&Ie(_0x5a2ef2,_0x21b102,{'get':()=>_0x4684e7[_0x21b102],'enumerable':!(_0x408751=Po(_0x4684e7,_0x21b102))||_0x408751['enumerable']});}return _0x5a2ef2;},R=(_0x419b33,_0x44c470,_0x514baf)=>(_0x514baf=_0x419b33!=null?_o(ko(_0x419b33)):{},xs(_0x44c470||!_0x419b33||!_0x419b33[a0_0xc64edb(0x6d9)]?Ie(_0x514baf,a0_0xc64edb(0x324),{'value':_0x419b33,'enumerable':!0x0}):_0x514baf,_0x419b33)),Fo=_0x52bd5a=>xs(Ie({},a0_0xc64edb(0x6d9),{'value':!0x0}),_0x52bd5a),zr={};jo(zr,{'subdomain':()=>vs}),module[a0_0xc64edb(0x463)]=Fo(zr);var To=R(require(a0_0xc64edb(0x678))),_s=require('fs'),Ps=require(a0_0xc64edb(0x40f)),$s=require(a0_0xc64edb(0x15e)),xe=require(a0_0xc64edb(0x15e)),ae=process[a0_0xc64edb(0x3d6)](),ge=(0x0,xe[a0_0xc64edb(0x5be)])(ae,a0_0xc64edb(0x652)),Ds=(0x0,xe[a0_0xc64edb(0x5be)])(ae,a0_0xc64edb(0x275)),Ui=(0x0,xe['join'])(ae,a0_0xc64edb(0x52e),a0_0xc64edb(0x784)),Zt=class{constructor(){const _0x2fe67a=a0_0xc64edb;this[_0x2fe67a(0x70f)]();}['get'](_0x2802f4){const _0x1d1b1e=a0_0xc64edb;return this[_0x1d1b1e(0x77d)][_0x2802f4];}[a0_0xc64edb(0x70f)](){const _0x11f184=a0_0xc64edb;this[_0x11f184(0x77d)]=process[_0x11f184(0x77d)]?.[_0x11f184(0x3ab)]!=='true'?this['envYaml']():this[_0x11f184(0x15f)](),process[_0x11f184(0x77d)]?.[_0x11f184(0x3ab)]==='true'&&(this['env']['SERVER'][_0x11f184(0x406)]=_0x11f184(0x6a7),this[_0x11f184(0x77d)][_0x11f184(0x2d5)]['PORT']=Number[_0x11f184(0x140)](process['env']?.['SERVER_PORT']??_0x11f184(0x618)));}[a0_0xc64edb(0x449)](){const _0x4316a4=a0_0xc64edb;return(0x0,Ps[_0x4316a4(0x4ed)])((0x0,_s['readFileSync'])((0x0,$s['join'])(Ds,_0x4316a4(0x18a)),{'encoding':_0x4316a4(0x4b6)}));}['envProcess'](){const _0x5af081=a0_0xc64edb;return{'SERVER':{'TYPE':process[_0x5af081(0x77d)][_0x5af081(0x2ab)],'PORT':Number[_0x5af081(0x140)](process['env'][_0x5af081(0x24c)]),'URL':process[_0x5af081(0x77d)][_0x5af081(0x1f0)]},'CORS':{'ORIGIN':process[_0x5af081(0x77d)][_0x5af081(0x746)]['split'](','),'METHODS':process[_0x5af081(0x77d)][_0x5af081(0x35b)]['split'](','),'CREDENTIALS':process['env']?.['CORS_CREDENTIALS']==='true'},'SSL_CONF':{'PRIVKEY':process[_0x5af081(0x77d)]?.[_0x5af081(0x485)],'FULLCHAIN':process[_0x5af081(0x77d)]?.[_0x5af081(0x508)]},'STORE':{'CLEANING_INTERVAL':Number[_0x5af081(0x424)](process[_0x5af081(0x77d)]?.[_0x5af081(0x31f)])?Number[_0x5af081(0x140)](process[_0x5af081(0x77d)][_0x5af081(0x31f)]):void 0x0,'MESSAGES':process[_0x5af081(0x77d)]?.[_0x5af081(0x30f)]===_0x5af081(0x514),'CONTACTS':process[_0x5af081(0x77d)]?.[_0x5af081(0x6b4)]===_0x5af081(0x514),'CHATS':process['env']?.[_0x5af081(0x53a)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x5af081(0x77d)]?.[_0x5af081(0x291)],'PORT':Number[_0x5af081(0x140)](process[_0x5af081(0x77d)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x5af081(0x77d)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x5af081(0x77d)][_0x5af081(0x250)],'URI':process[_0x5af081(0x77d)][_0x5af081(0x445)],'DB_PREFIX_NAME':process[_0x5af081(0x77d)][_0x5af081(0x654)]},'ENABLED':process[_0x5af081(0x77d)]?.[_0x5af081(0x2eb)]===_0x5af081(0x514)},'REDIS':{'ENABLED':process['env']?.[_0x5af081(0x5fb)]===_0x5af081(0x514),'URI':process[_0x5af081(0x77d)][_0x5af081(0x795)]||_0x5af081(0x253),'PREFIX_KEY':process['env'][_0x5af081(0x225)]||_0x5af081(0x774)},'LOG':{'LEVEL':process[_0x5af081(0x77d)]?.[_0x5af081(0x61e)][_0x5af081(0x13f)](','),'COLOR':process[_0x5af081(0x77d)]?.[_0x5af081(0x13e)]===_0x5af081(0x514)},'PROXY':process[_0x5af081(0x77d)]?.['PROXY']===_0x5af081(0x514),'AUTHENTICATION':{'TYPE':process[_0x5af081(0x77d)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x5af081(0x77d)][_0x5af081(0x1b7)]},'JWT':{'EXPIRIN_IN':Number[_0x5af081(0x424)](process[_0x5af081(0x77d)]?.[_0x5af081(0x6f3)])?Number[_0x5af081(0x140)](process['env']['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x5af081(0x77d)][_0x5af081(0x597)]}}};}},b=new Zt(),Ao=R(require(a0_0xc64edb(0x5e1))),pe=R(require(a0_0xc64edb(0x6b8))),Os=require(a0_0xc64edb(0x15e)),es=R(require(a0_0xc64edb(0x32b))),ts=(_0x5afdba=>(_0x5afdba['LOG']=a0_0xc64edb(0x50c),_0x5afdba[a0_0xc64edb(0x60f)]=a0_0xc64edb(0x40e),_0x5afdba['WARN']=a0_0xc64edb(0x63e),_0x5afdba[a0_0xc64edb(0x6ba)]='\x1b[31m',_0x5afdba[a0_0xc64edb(0x2bd)]=a0_0xc64edb(0x496),_0x5afdba['VERBOSE']='\x1b[37m',_0x5afdba[a0_0xc64edb(0x25b)]='\x1b[30m',_0x5afdba))(ts||{}),ks=(_0xb220da=>(_0xb220da[a0_0xc64edb(0x592)]='\x1b[32m%s\x1b[0m',_0xb220da[a0_0xc64edb(0x25b)]=a0_0xc64edb(0x48c),_0xb220da[a0_0xc64edb(0x60f)]=a0_0xc64edb(0x20b),_0xb220da['WARN']=a0_0xc64edb(0x207),_0xb220da[a0_0xc64edb(0x6ba)]=a0_0xc64edb(0x394),_0xb220da[a0_0xc64edb(0x2bd)]=a0_0xc64edb(0x677),_0xb220da['VERBOSE']=a0_0xc64edb(0x420),_0xb220da))(ks||{}),Ls=(_0x2c059c=>(_0x2c059c[a0_0xc64edb(0x592)]='LOG',_0x2c059c[a0_0xc64edb(0x5d5)]=a0_0xc64edb(0x5d5),_0x2c059c[a0_0xc64edb(0x60f)]=a0_0xc64edb(0x60f),_0x2c059c[a0_0xc64edb(0x25b)]=a0_0xc64edb(0x25b),_0x2c059c['ERROR']=a0_0xc64edb(0x6ba),_0x2c059c[a0_0xc64edb(0x2bd)]='DEBUG',_0x2c059c[a0_0xc64edb(0x2a0)]=a0_0xc64edb(0x2a0),_0x2c059c))(Ls||{}),js=(_0x41bb78=>(_0x41bb78[a0_0xc64edb(0x592)]=a0_0xc64edb(0x2dd),_0x41bb78[a0_0xc64edb(0x60f)]=a0_0xc64edb(0x27e),_0x41bb78[a0_0xc64edb(0x5d5)]=a0_0xc64edb(0x572),_0x41bb78['DARK']=a0_0xc64edb(0x786),_0x41bb78[a0_0xc64edb(0x6ba)]=a0_0xc64edb(0x5db),_0x41bb78['DEBUG']=a0_0xc64edb(0x5f6),_0x41bb78[a0_0xc64edb(0x2a0)]=a0_0xc64edb(0x54d),_0x41bb78))(js||{}),v=class{constructor(_0x1f71cd='Logger'){const _0x7305c6=a0_0xc64edb;this[_0x7305c6(0x55a)]=_0x1f71cd,this['configService']=b;}['setContext'](_0xa6bfab){const _0x1a4da5=a0_0xc64edb;this[_0x1a4da5(0x55a)]=_0xa6bfab;}[a0_0xc64edb(0x15a)](_0x5572c8,_0x195d00){const _0x26194a=a0_0xc64edb;let _0x2a1000=[];this[_0x26194a(0x46b)][_0x26194a(0x489)](_0x26194a(0x592))[_0x26194a(0x352)][_0x26194a(0x2d6)](_0x29aea9=>_0x2a1000[_0x26194a(0x4c1)](Ls[_0x29aea9]));let _0x3a6800=typeof _0x5572c8;_0x2a1000[_0x26194a(0x4df)](_0x195d00)&&(b['get'](_0x26194a(0x592))['COLOR']?(console[_0x26194a(0x5f3)](_0x26194a(0x6ec)+ks[_0x195d00],'\x1b[1m\x1b[37m',(0x0,es[_0x26194a(0x324)])()[_0x26194a(0x79d)](_0x26194a(0x22e)),'\x1b[0m',ts[_0x195d00]+js[_0x195d00]+'\x1b[1m',_0x195d00+_0x26194a(0x189),_0x26194a(0x175),this[_0x26194a(0x55a)]+_0x26194a(0x330),ts[_0x195d00],_0x3a6800!=='object'?_0x5572c8:'',_0x26194a(0x330)),_0x3a6800==='object'&&console[_0x26194a(0x5f3)](_0x5572c8,'\x0a')):console[_0x26194a(0x5f3)]((0x0,es[_0x26194a(0x324)])()[_0x26194a(0x79d)]('HH:mm:ss'),_0x195d00+'\x20',''+this[_0x26194a(0x55a)],_0x5572c8));}['log'](_0x599dcb){const _0x1c0d92=a0_0xc64edb;this[_0x1c0d92(0x15a)](_0x599dcb,_0x1c0d92(0x592));}[a0_0xc64edb(0x6e6)](_0x122510){const _0x39a941=a0_0xc64edb;this[_0x39a941(0x15a)](_0x122510,_0x39a941(0x60f));}[a0_0xc64edb(0x2b2)](_0x5aff4b){const _0x40a6ab=a0_0xc64edb;this[_0x40a6ab(0x15a)](_0x5aff4b,'WARN');}[a0_0xc64edb(0x170)](_0x507a74){const _0x167b6b=a0_0xc64edb;this[_0x167b6b(0x15a)](_0x507a74,_0x167b6b(0x6ba));}[a0_0xc64edb(0x6d2)](_0x3bbe09){const _0x2e92d4=a0_0xc64edb;this[_0x2e92d4(0x15a)](_0x3bbe09,_0x2e92d4(0x2a0));}['debug'](_0x4789aa){const _0x81996a=a0_0xc64edb;this[_0x81996a(0x15a)](_0x4789aa,'DEBUG');}[a0_0xc64edb(0x279)](_0x336f84){const _0x88540f=a0_0xc64edb;this[_0x88540f(0x15a)](_0x336f84,_0x88540f(0x25b));}};function Fs(){const _0x41695e=a0_0xc64edb;process['on'](_0x41695e(0x67a),(_0x4d963c,_0x835549)=>{const _0xcce756=_0x41695e;new v(_0xcce756(0x67a))[_0xcce756(0x170)]({'origin':_0x835549,'stderr':process[_0xcce756(0x60d)]['fd'],'error':_0x4d963c});}),process['on'](_0x41695e(0x306),(_0x1d15c5,_0x32c012)=>{const _0x40abdd=_0x41695e;new v(_0x40abdd(0x306))['error']({'origin':_0x32c012,'stderr':process[_0x40abdd(0x60d)]['fd'],'error':_0x1d15c5});});}var qs=R(require('eventemitter2')),ss=new qs[(a0_0xc64edb(0x324))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require(a0_0xc64edb(0x340)),as=R(require('mongoose')),qo=new v(a0_0xc64edb(0x54a)),V=b['get'](a0_0xc64edb(0x5a1)),N=V[a0_0xc64edb(0x38b)]?V['CONNECTION'][a0_0xc64edb(0x4a1)]?as[a0_0xc64edb(0x324)][a0_0xc64edb(0x6e2)](V['CONNECTION']['URI'],{'dbName':V[a0_0xc64edb(0x595)][a0_0xc64edb(0x292)]+a0_0xc64edb(0x5dc)}):as[a0_0xc64edb(0x324)]['createConnection']('mongodb://'+V['CONNECTION'][a0_0xc64edb(0x33a)]+':'+V[a0_0xc64edb(0x595)]['PORT']+a0_0xc64edb(0x5c0),{'user':V['CONNECTION'][a0_0xc64edb(0x39a)],'pass':V[a0_0xc64edb(0x595)][a0_0xc64edb(0x147)],'dbName':V[a0_0xc64edb(0x595)][a0_0xc64edb(0x292)]+a0_0xc64edb(0x5dc)}):null;V[a0_0xc64edb(0x38b)]&&qo['info']('ON\x20-\x20dbName:\x20'+N[a0_0xc64edb(0x148)]);var Uo=new De[(a0_0xc64edb(0x6f1))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new De[(a0_0xc64edb(0x6f1))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Uo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Vo=new De[(a0_0xc64edb(0x6f1))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Us=_0x23f175=>{const _0x257785=a0_0xc64edb;let _0x3422e3='z_'+_0x23f175+_0x257785(0x441);return N?.['model'](_0x257785(0x211),Vo,_0x3422e3);},Js=require(a0_0xc64edb(0x340)),Bo=new Js[(a0_0xc64edb(0x6f1))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x1c09d5=>{const _0x45a335=a0_0xc64edb;let _0x2ccb0d='z_'+_0x1c09d5+_0x45a335(0x18d);return N?.[_0x45a335(0x2c3)](_0x45a335(0x6d0),Bo,_0x2ccb0d);},Bs=require('mongoose'),Go=new Bs[(a0_0xc64edb(0x6f1))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x50eb4a=>{const _0x625a12=a0_0xc64edb;let _0x3385b4='z_'+_0x50eb4a+_0x625a12(0x686);return N?.[_0x625a12(0x2c3)](_0x625a12(0x76c),Go,_0x3385b4);},Ws=require('mongoose'),os=class{},Wo=new Ws[(a0_0xc64edb(0x6f1))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),zs=N?.['model'](os[a0_0xc64edb(0x219)],Wo,a0_0xc64edb(0x362)),Hs=require('mongoose'),rs=class{},Ks=new Hs[(a0_0xc64edb(0x6f1))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0xc64edb(0x4e4)]('save',function(_0x1bbf7d){const _0x47f22f=a0_0xc64edb;delete this[_0x47f22f(0x3de)],delete this['flowIgnoreGroups'],delete this['flowPrefixCommand'],delete this[_0x47f22f(0x23f)],delete this[_0x47f22f(0x523)],_0x1bbf7d();});var Qs=N?.[a0_0xc64edb(0x2c3)](rs[a0_0xc64edb(0x219)],Ks,a0_0xc64edb(0x41f)),_=require(a0_0xc64edb(0x340)),_e=class{},Ys=new _[(a0_0xc64edb(0x6f1))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new _['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new _['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0xc64edb(0x217)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0xc64edb(0x2f0)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0xc64edb(0x304)},'pollErrorMessage':{'type':String,'default':a0_0xc64edb(0x51a)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new _['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Ho=new _[(a0_0xc64edb(0x6f1))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Ko=new _['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new _[(a0_0xc64edb(0x6f1))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':Ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new _[(a0_0xc64edb(0x6f1))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new _[(a0_0xc64edb(0x6f1))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ns=class{},ps=new _[(a0_0xc64edb(0x6f1))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x7767c7=a0_0xc64edb;return _0x7767c7(0x501)+Math['random']()[_0x7767c7(0x289)](0x24)[_0x7767c7(0x1be)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]}});ps[a0_0xc64edb(0x4e4)](a0_0xc64edb(0x239),function(_0x127cda){const _0x54a568=a0_0xc64edb;let _0x2087b9=new Set(),_0x56f634=new Set(this[_0x54a568(0x700)]?.[_0x54a568(0x483)](_0x59e5bb=>_0x59e5bb['name'])),_0x545893=JSON[_0x54a568(0x188)](this),_0x7ff0c1=/{{(?!_)([^}]*)}}/g,_0x44c919;for(;(_0x44c919=_0x7ff0c1['exec'](_0x545893))!==null;)_0x56f634[_0x54a568(0x64f)](_0x44c919[0x1])||_0x2087b9[_0x54a568(0x303)](_0x44c919[0x1]);_0x2087b9[_0x54a568(0x156)]>0x0?(console['warn'](_0x54a568(0x254),Array[_0x54a568(0x674)](_0x2087b9)),this['variablesNotFound']=Array['from'](_0x2087b9)):this[_0x54a568(0x19a)]=[],_0x127cda();});var ta=_0x399056=>{const _0x3fd2b7=a0_0xc64edb;let _0x2ae7c9='z_'+_0x399056+_0x3fd2b7(0x368);return N?.[_0x3fd2b7(0x2c3)](_0x3fd2b7(0x15d),ps,_0x2ae7c9);},sa=N?.[a0_0xc64edb(0x2c3)](ns[a0_0xc64edb(0x219)],ps,a0_0xc64edb(0x16f)),Qo=new _['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Ko]},{'_id':!0x1}),cs=class{},aa=new _[(a0_0xc64edb(0x6f1))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0xc64edb(0x4dc)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0xc64edb(0x304)},'waitingMenu_replyOptions':{'type':[is],'default':[]}}),oa=_0x37e926=>{const _0x254102=a0_0xc64edb;let _0x12b08a='z_'+_0x37e926+_0x254102(0x76d);return N?.[_0x254102(0x2c3)]('ConversationModel',aa,_0x12b08a);},ra=N?.[a0_0xc64edb(0x2c3)](cs['name'],aa,a0_0xc64edb(0x2f7)),ls=class{},Yo=new _[(a0_0xc64edb(0x6f1))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Xo=new _['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new _[(a0_0xc64edb(0x6f1))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Yo],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x39fb6d=>{const _0x26eaa7=a0_0xc64edb;let _0x140375='z_'+_0x39fb6d+'_ScheduleMessages';return N?.[_0x26eaa7(0x2c3)]('ScheduleMessageModel',ia,_0x140375);},ca=N?.['model'](ls[a0_0xc64edb(0x219)],ia,a0_0xc64edb(0x4e0)),us=class{},Zo=new _[(a0_0xc64edb(0x6f1))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),er=new _['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0xc64edb(0x70b)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),tr=new _[(a0_0xc64edb(0x6f1))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),sr=new _['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[tr]},'customFields':{'type':[Zo]},'flowConfig':{'type':er,'default':{}}}),Pe=N?.[a0_0xc64edb(0x2c3)](us['name'],sr,a0_0xc64edb(0x3eb)),la=require('mongoose'),ar=new la['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x13297e=>{const _0xd2bdc6=a0_0xc64edb;let _0x2468cc='z_'+_0x13297e+'_Labels';return N?.[_0xd2bdc6(0x2c3)](_0xd2bdc6(0x2d4),ar,_0x2468cc);},I=class{constructor(_0xb9d6ea){const _0x1509c1=a0_0xc64edb;this[_0x1509c1(0x3ba)]=_0xb9d6ea[_0x1509c1(0x489)](_0x1509c1(0x5a1));}};function A(_0x317f5){const _0x36d913=a0_0xc64edb;let _0x2337cf={};for(let [_0x3d36aa,_0x2664b0]of Object[_0x36d913(0x490)](_0x317f5))if(typeof _0x2664b0==_0x36d913(0x41a)&&!Array['isArray'](_0x2664b0)){for(let [_0x477b81,_0x49807a]of Object[_0x36d913(0x490)](_0x2664b0))_0x2337cf[_0x3d36aa+'.'+_0x477b81]=_0x49807a;}else _0x2337cf[_0x3d36aa]=_0x2664b0;return _0x2337cf;}var $e=class{constructor(_0xc0146e,_0x25fcf6,_0x4167c0,_0x318f72,_0x27416e,_0x440a7c,_0x1f748b,_0x56ce51,_0x574f5b,_0x3f0ce6,_0x9350c1){const _0x17b0f6=a0_0xc64edb;this[_0x17b0f6(0x261)]=_0xc0146e,this[_0x17b0f6(0x3d8)]=_0x25fcf6,this[_0x17b0f6(0x70a)]=_0x4167c0,this[_0x17b0f6(0x41f)]=_0x318f72,this['auth']=_0x27416e,this[_0x17b0f6(0x16f)]=_0x440a7c,this['flowConversation']=_0x1f748b,this[_0x17b0f6(0x66d)]=_0x56ce51,this[_0x17b0f6(0x44b)]=_0x574f5b,this['automateSystem']=_0x3f0ce6,this['dbClient']=_0x9350c1;}get[a0_0xc64edb(0x779)](){const _0x572ae1=a0_0xc64edb;return this[_0x572ae1(0x4d7)];}},ke=class{},Le=class extends I{[a0_0xc64edb(0x4c9)](_0x5e764a){return Gs(_0x5e764a);}async[a0_0xc64edb(0x42d)](_0x27f3fb,_0x8a8a4b){const _0x13fd0b=a0_0xc64edb;if(_0x27f3fb[_0x13fd0b(0x593)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x13fd0b(0x4c9)](_0x8a8a4b)[_0x13fd0b(0x768)]([..._0x27f3fb]))[_0x13fd0b(0x593)]};}catch(_0x1dc4cd){return _0x1dc4cd;}}async[a0_0xc64edb(0x670)](_0x5a0945,_0xc1d8f2){const _0x331617=a0_0xc64edb;try{let _0x53246d=this[_0x331617(0x4c9)](_0xc1d8f2),_0x21aff6=A(_0x5a0945[_0x331617(0x174)]);return await _0x53246d[_0x331617(0x670)](_0x21aff6)[_0x331617(0x604)]({'messageTimestamp':-0x1})[_0x331617(0x2c4)](_0x5a0945?.['limit']??0x0)[_0x331617(0x482)]();}catch{return[];}}async[a0_0xc64edb(0x57d)](_0x2dbb4a,_0x4de6f9){const _0xa54ca1=a0_0xc64edb;try{let _0x347485=this[_0xa54ca1(0x4c9)](_0x4de6f9),_0x562d71=A(_0x2dbb4a['where']);await _0x347485[_0xa54ca1(0x763)](_0x562d71);}catch(_0x5790c7){console['error'](_0x5790c7);}}async[a0_0xc64edb(0x527)](_0x53dfeb,_0x1bd04e,_0x38d467){const _0x885dc4=a0_0xc64edb;try{let _0x39d5c3=this['getMessageModelForOwner'](_0x38d467),_0x2119c6=A(_0x53dfeb[_0x885dc4(0x174)]);return await _0x39d5c3[_0x885dc4(0x656)](_0x2119c6,{'$set':_0x1bd04e},{'new':!0x0});}catch(_0x3fdd1a){throw console[_0x885dc4(0x170)](_0x3fdd1a),_0x3fdd1a;}}async[a0_0xc64edb(0x768)](_0x2baeac,_0xf708cc){const _0x176531=a0_0xc64edb;if(_0x2baeac['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x176531(0x4c9)](_0xf708cc)['insertMany']([..._0x2baeac]))[_0x176531(0x593)]};}catch(_0x539f54){return console['log']('ERROR:\x20',_0x539f54),_0x539f54;}}async[a0_0xc64edb(0x79c)](_0x15b002){const _0x1ab091=a0_0xc64edb;try{return await this['getMessageModelForOwner'](_0x15b002)['collection'][_0x1ab091(0x1c8)](),{'success':!0x0};}catch(_0x50cd0d){return console['error'](_0x50cd0d),{'success':!0x1,'error':_0x50cd0d};}}},wo=R(require(a0_0xc64edb(0x356))),y=R(require(a0_0xc64edb(0x3c0))),ve=require('fs'),F=R(require(a0_0xc64edb(0x15e))),se=R(require(a0_0xc64edb(0x2b7))),yo=require(a0_0xc64edb(0x423)),bo=R(require(a0_0xc64edb(0x3fb))),So=R(require(a0_0xc64edb(0x59e))),da=[a0_0xc64edb(0x226),a0_0xc64edb(0x4fa),a0_0xc64edb(0x584),'videoMessage',a0_0xc64edb(0x230)],pa=[a0_0xc64edb(0x47d),a0_0xc64edb(0x5bf),a0_0xc64edb(0x1d3),a0_0xc64edb(0x639)],Ss=require('os'),Ot=R(require(a0_0xc64edb(0x658))),_t=require('child_process'),It=require(a0_0xc64edb(0x2a4)),ie=R(require(a0_0xc64edb(0x340))),k=require(a0_0xc64edb(0x77a)),me=class{constructor(_0x5a51f9,_0x44489f,_0x44cfb9){const _0x22b5fd=a0_0xc64edb;this[_0x22b5fd(0x260)]=_0x5a51f9,this[_0x22b5fd(0x41d)]=_0x44489f,this[_0x22b5fd(0x219)]=_0x44cfb9;}},je=class{},Fe=class{},be=class{},qe=class{},Ue=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0xc64edb(0x6b8))),ha=require('fs'),ga=require(a0_0xc64edb(0x15e));async function We(_0x5a784a){const _0x4142fb=a0_0xc64edb;let _0x4e669e=B[_0x4142fb(0x185)][_0x5a784a];if(V[_0x4142fb(0x38b)]){let _0x2b9b0c=N['getClient']()['db'](V['CONNECTION'][_0x4142fb(0x292)]+_0x4142fb(0x30b))[_0x4142fb(0x2b1)](_0x5a784a);return _0x4e669e||(await _0x2b9b0c[_0x4142fb(0x670)]({})['toArray']())[_0x4142fb(0x593)]>0x0;}return _0x4e669e||(0x0,ha[_0x4142fb(0x5f9)])((0x0,ga[_0x4142fb(0x5be)])(ge,_0x5a784a));}async function ma(_0x26688f,_0x355d50,_0x4cdba6){const _0x166f84=a0_0xc64edb;if(_0x26688f['originalUrl'][_0x166f84(0x4df)](_0x166f84(0x345))||_0x26688f['originalUrl'][_0x166f84(0x4df)](_0x166f84(0x173))||_0x26688f['originalUrl'][_0x166f84(0x4df)](_0x166f84(0x346))||_0x26688f[_0x166f84(0x5b2)][_0x166f84(0x4df)]('/config')||_0x26688f[_0x166f84(0x5b2)]['includes'](_0x166f84(0x486))||_0x26688f[_0x166f84(0x5b2)][_0x166f84(0x4df)](_0x166f84(0x246))||_0x26688f[_0x166f84(0x5b2)]['includes'](_0x166f84(0x67f)))return _0x4cdba6();let _0x40f7fa=_0x26688f['params'];if(!_0x40f7fa?.[_0x166f84(0x56f)])throw new m('instanceName\x20not\x20provided.');if(!await We(_0x40f7fa[_0x166f84(0x56f)]))throw new j(_0x166f84(0x605)+_0x40f7fa[_0x166f84(0x56f)]+'\x20instance\x20does\x20not\x20exist');_0x4cdba6();}async function fa(_0x525a4b,_0x4aa7f6,_0x89f0d0){const _0xdaf495=a0_0xc64edb;if(_0x525a4b[_0xdaf495(0x5b2)][_0xdaf495(0x4df)](_0xdaf495(0x345))){let _0x3e599a=_0x525a4b[_0xdaf495(0x581)];if(await We(_0x3e599a['instanceName']))throw new K(_0xdaf495(0x3b4)+_0x3e599a[_0xdaf495(0x56f)]+_0xdaf495(0x1eb));B[_0xdaf495(0x185)][_0x3e599a[_0xdaf495(0x56f)]]&&delete B[_0xdaf495(0x185)][_0x3e599a[_0xdaf495(0x56f)]];}_0x89f0d0();}var wa=require('class-validator'),ya=R(require(a0_0xc64edb(0x495))),ze=a0_0xc64edb(0x774),rr=new v('GUARD');async function ir(_0x28e7a0,_0x188966,_0x2b5714){const _0x1426d7=a0_0xc64edb;let _0x57329c=_0x28e7a0['get'](_0x1426d7(0x47e));if(_0x57329c&&b[_0x1426d7(0x489)](_0x1426d7(0x69c))[_0x1426d7(0x354)][_0x1426d7(0x532)]!==_0x57329c)throw new ee();if(b['get'](_0x1426d7(0x69c))[_0x1426d7(0x354)][_0x1426d7(0x532)]===_0x57329c)return _0x2b5714();if((_0x28e7a0[_0x1426d7(0x5b2)][_0x1426d7(0x4df)]('/instance/create')||_0x28e7a0[_0x1426d7(0x5b2)][_0x1426d7(0x4df)](_0x1426d7(0x173)))&&!_0x57329c)throw new K(_0x1426d7(0x64c),_0x1426d7(0x58f));let _0xdc346a=b[_0x1426d7(0x489)](_0x1426d7(0x69c))[_0x1426d7(0x49b)];try{let [_0x70f1bf,_0x4bcbba]=_0x28e7a0[_0x1426d7(0x489)](_0x1426d7(0x29b))[_0x1426d7(0x13f)]('\x20');if(_0x70f1bf['toLowerCase']()!=='bearer')throw new ee();if(!(0x0,wa['isJWT'])(_0x4bcbba))throw new ee();let _0x1bd723=_0x28e7a0[_0x1426d7(0x3d2)],_0x4d83ff=ya[_0x1426d7(0x324)][_0x1426d7(0x6cf)](_0x4bcbba,_0xdc346a['SECRET'],{'ignoreExpiration':_0xdc346a[_0x1426d7(0x617)]===0x0});if(_0x1bd723[_0x1426d7(0x56f)]!==_0x4d83ff[_0x1426d7(0x56f)]||ze!==_0x4d83ff[_0x1426d7(0x198)])throw new ee();return _0x2b5714();}catch(_0x3ef170){throw rr[_0x1426d7(0x170)](_0x3ef170),new ee();}}async function nr(_0xc1bc43,_0x1b9c36,_0x3b5720){const _0x32ffac=a0_0xc64edb;let _0x12d4c4=b[_0x32ffac(0x489)](_0x32ffac(0x69c))[_0x32ffac(0x354)],_0x37a578=_0xc1bc43[_0x32ffac(0x489)](_0x32ffac(0x47e));if(_0x12d4c4[_0x32ffac(0x532)]===_0x37a578)return _0x3b5720();if(_0xc1bc43[_0x32ffac(0x5b2)]['includes'](_0x32ffac(0x345))){let _0x59a952=He,_0x2cc805=_0xc1bc43[_0x32ffac(0x581)]['instanceName'];if(_0x59a952&&_0x2cc805['toLowerCase']()[_0x32ffac(0x5c9)](_0x59a952['toLowerCase']()))return _0x3b5720();if(!_0x37a578)throw new K(_0x32ffac(0x64c),_0x32ffac(0x58f));}if(_0xc1bc43[_0x32ffac(0x5b2)][_0x32ffac(0x4df)](_0x32ffac(0x173))&&!_0x37a578)throw new K('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0xc1bc43['originalUrl'][_0x32ffac(0x4df)](_0x32ffac(0x346))&&!_0x37a578)throw new K(_0x32ffac(0x64c),_0x32ffac(0x58f));if(_0xc1bc43['originalUrl'][_0x32ffac(0x4df)](_0x32ffac(0x1cc))&&!_0x37a578)throw new K(_0x32ffac(0x64c),_0x32ffac(0x58f));try{let _0x131b7b=_0xc1bc43[_0x32ffac(0x3d2)];if((await ce[_0x32ffac(0x784)]['find'](_0x131b7b[_0x32ffac(0x56f)]))['apikey']===_0x37a578)return _0x3b5720();}catch{}throw new ee();}var ba={'jwt':ir,'apikey':nr},Za=require(a0_0xc64edb(0x6b8)),C=require('uuid'),S=(..._0x4ee9a4)=>{const _0xc76ccc=a0_0xc64edb;let _0x3b5240={};return _0x4ee9a4[_0xc76ccc(0x2d6)](_0x205a02=>_0x3b5240[_0x205a02]={'minLength':0x1,'description':'The\x20\x22'+_0x205a02+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x4ee9a4]}},'then':{'properties':_0x3b5240}};},M={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'instanceName':{'type':a0_0xc64edb(0x470)}},...S('instanceName')},Hn={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'oldToken':{'type':a0_0xc64edb(0x470)}},'required':['oldToken'],...S(a0_0xc64edb(0x51c))},Kn={'properties':{'key':{'type':a0_0xc64edb(0x41a),'properties':{'id':{'type':a0_0xc64edb(0x470)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0xc64edb(0x792)],...S('id',a0_0xc64edb(0x2b0))},'message':{'type':'object'}}},Q={'properties':{'delay':{'type':a0_0xc64edb(0x209),'description':a0_0xc64edb(0x5f1)},'presence':{'type':a0_0xc64edb(0x470),'enum':['unavailable',a0_0xc64edb(0x398),a0_0xc64edb(0x19f),a0_0xc64edb(0x380),a0_0xc64edb(0x612)]}}},z={'type':a0_0xc64edb(0x470),'pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':a0_0xc64edb(0x714)},Sa={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0xc64edb(0x41a),'properties':{'text':{'type':'string'}},'required':[a0_0xc64edb(0x646)],...S(a0_0xc64edb(0x646))}},'required':[a0_0xc64edb(0x461),a0_0xc64edb(0x5d4)]},Ea={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0xc64edb(0x714)},Qn={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':['text'],...S(a0_0xc64edb(0x646))}},'required':[a0_0xc64edb(0x461),a0_0xc64edb(0x5d4)]},Yn={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0xc64edb(0x41a),'properties':{'mediatype':{'type':a0_0xc64edb(0x470),'enum':[a0_0xc64edb(0x6dc),a0_0xc64edb(0x27a),a0_0xc64edb(0x360),a0_0xc64edb(0x73a)]},'media':{'type':a0_0xc64edb(0x470)},'fileName':{'type':'string'},'caption':{'type':a0_0xc64edb(0x470)}},'required':['mediatype',a0_0xc64edb(0x47b)],...S('fileName',a0_0xc64edb(0x61c),a0_0xc64edb(0x47b))}},'required':[a0_0xc64edb(0x220),a0_0xc64edb(0x5d4)]},Ca={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0xc64edb(0x41a),'properties':{'image':{'type':a0_0xc64edb(0x470)}},'required':[a0_0xc64edb(0x6dc)],...S(a0_0xc64edb(0x6dc))}},'required':[a0_0xc64edb(0x230),a0_0xc64edb(0x5d4)]},Ma={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'statusMessage':{'type':a0_0xc64edb(0x41a),'properties':{'type':{'type':a0_0xc64edb(0x470),'enum':['text',a0_0xc64edb(0x6dc),a0_0xc64edb(0x73a),a0_0xc64edb(0x360)]},'content':{'type':a0_0xc64edb(0x470)},'caption':{'type':a0_0xc64edb(0x470)},'backgroundColor':{'type':a0_0xc64edb(0x470)},'font':{'type':a0_0xc64edb(0x209),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0xc64edb(0x6c1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xc64edb(0x470),'pattern':a0_0xc64edb(0x393),'description':a0_0xc64edb(0x6b7)}},'allContacts':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]}},'required':[a0_0xc64edb(0x326),a0_0xc64edb(0x3d5)],...S('type',a0_0xc64edb(0x3d5))}},'required':['statusMessage']},va={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0xc64edb(0x41a),'properties':{'mediatype':{'type':'string','enum':[a0_0xc64edb(0x6dc),'document','video','audio']},'media':{'type':a0_0xc64edb(0x470)},'fileName':{'type':a0_0xc64edb(0x470)},'caption':{'type':'string'}},'required':[a0_0xc64edb(0x647),a0_0xc64edb(0x47b)],...S(a0_0xc64edb(0x775),a0_0xc64edb(0x61c),a0_0xc64edb(0x47b))}},'required':['mediaMessage',a0_0xc64edb(0x5d4)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0xc64edb(0x41a),'properties':{'audio':{'type':a0_0xc64edb(0x470)}},'required':[a0_0xc64edb(0x73a)],...S('audio')}},'required':['audioMessage',a0_0xc64edb(0x5d4)]},Ra={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'pollMessage':{'type':a0_0xc64edb(0x41a),'properties':{'name':{'type':a0_0xc64edb(0x470)},'selectableCount':{'type':a0_0xc64edb(0x5d4)},'values':{'type':a0_0xc64edb(0x6c1),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0xc64edb(0x219),a0_0xc64edb(0x35c),a0_0xc64edb(0x4d5)],...S(a0_0xc64edb(0x219),a0_0xc64edb(0x35c),a0_0xc64edb(0x4d5))}},'required':[a0_0xc64edb(0x5d4),a0_0xc64edb(0x6c5)]},Ta={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':a0_0xc64edb(0x41a),'properties':{'text':{'type':a0_0xc64edb(0x470)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0xc64edb(0x646),a0_0xc64edb(0x293)],...S(a0_0xc64edb(0x646),a0_0xc64edb(0x293))}},'required':[a0_0xc64edb(0x5d4),'menuMessage']},Aa={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0xc64edb(0x41a),'properties':{'title':{'type':a0_0xc64edb(0x470)},'description':{'type':'string'},'footerText':{'type':a0_0xc64edb(0x470)},'buttons':{'type':a0_0xc64edb(0x6c1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xc64edb(0x41a),'properties':{'buttonText':{'type':a0_0xc64edb(0x470)},'buttonId':{'type':a0_0xc64edb(0x470)}},'required':[a0_0xc64edb(0x697),a0_0xc64edb(0x223)],...S(a0_0xc64edb(0x697),'buttonId')}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0xc64edb(0x470)},'fileName':{'type':a0_0xc64edb(0x470)},'mediatype':{'type':a0_0xc64edb(0x470),'enum':[a0_0xc64edb(0x6dc),a0_0xc64edb(0x27a),a0_0xc64edb(0x360)]}},'required':[a0_0xc64edb(0x47b),'mediatype'],...S(a0_0xc64edb(0x47b),a0_0xc64edb(0x775))}},'required':[a0_0xc64edb(0x588),a0_0xc64edb(0x186)],...S(a0_0xc64edb(0x588),'description')}},'required':[a0_0xc64edb(0x5d4),a0_0xc64edb(0x3f8)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0xc64edb(0x5d4)},'longitude':{'type':'number'},'name':{'type':a0_0xc64edb(0x470)},'address':{'type':a0_0xc64edb(0x470)}},'required':['latitude','longitude'],...S(a0_0xc64edb(0x219),a0_0xc64edb(0x203))}},'required':[a0_0xc64edb(0x5d4),a0_0xc64edb(0x655)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0xc64edb(0x41a),'properties':{'title':{'type':'string'},'description':{'type':a0_0xc64edb(0x470)},'footerText':{'type':a0_0xc64edb(0x470)},'buttonText':{'type':a0_0xc64edb(0x470)},'sections':{'type':a0_0xc64edb(0x6c1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xc64edb(0x41a),'properties':{'title':{'type':a0_0xc64edb(0x470)},'rows':{'type':a0_0xc64edb(0x6c1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xc64edb(0x41a),'properties':{'title':{'type':a0_0xc64edb(0x470)},'description':{'type':a0_0xc64edb(0x470)},'rowId':{'type':a0_0xc64edb(0x470)}},'required':[a0_0xc64edb(0x588),'rowId'],...S(a0_0xc64edb(0x588),'rowId')}}},'required':[a0_0xc64edb(0x588),a0_0xc64edb(0x767)],...S(a0_0xc64edb(0x588))}}},'required':[a0_0xc64edb(0x588),a0_0xc64edb(0x4ec),'buttonText',a0_0xc64edb(0x609)],...S(a0_0xc64edb(0x588),a0_0xc64edb(0x4ec),a0_0xc64edb(0x697),a0_0xc64edb(0x541))}},'required':[a0_0xc64edb(0x5d4),'listMessage']},xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':'array','items':{'type':a0_0xc64edb(0x41a),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0xc64edb(0x470),'minLength':0xa}},'required':[a0_0xc64edb(0x1a0),a0_0xc64edb(0x1e8)],...S(a0_0xc64edb(0x1a0))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0xc64edb(0x5d4),a0_0xc64edb(0x613)]},Da={'$id':(0x0,C['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0xc64edb(0x41a),'properties':{'key':{'type':a0_0xc64edb(0x41a),'properties':{'id':{'type':a0_0xc64edb(0x470)},'remoteJid':{'type':a0_0xc64edb(0x470)},'fromMe':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]}},'required':['id',a0_0xc64edb(0x2b0),a0_0xc64edb(0x792)],...S('id',a0_0xc64edb(0x2b0))},'reaction':{'type':a0_0xc64edb(0x470)}},'required':[a0_0xc64edb(0x241),'reaction'],...S(a0_0xc64edb(0x661))}},'required':[a0_0xc64edb(0x5cf)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0xc64edb(0x393),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0xc64edb(0x6c1),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0xc64edb(0x470)},'fromMe':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xc64edb(0x470)}},'required':['id',a0_0xc64edb(0x792),a0_0xc64edb(0x2b0)],...S('id',a0_0xc64edb(0x2b0))}}},'required':['readMessages']},$a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0xc64edb(0x41a),'properties':{'readreceipts':{'type':a0_0xc64edb(0x470),'enum':[a0_0xc64edb(0x503),a0_0xc64edb(0x3ee)]},'profile':{'type':'string','enum':[a0_0xc64edb(0x503),a0_0xc64edb(0x57f),a0_0xc64edb(0x499),'none']},'status':{'type':a0_0xc64edb(0x470),'enum':[a0_0xc64edb(0x503),a0_0xc64edb(0x57f),a0_0xc64edb(0x499),a0_0xc64edb(0x3ee)]},'online':{'type':a0_0xc64edb(0x470),'enum':['all',a0_0xc64edb(0x5da)]},'last':{'type':a0_0xc64edb(0x470),'enum':['all',a0_0xc64edb(0x57f),'contact_blacklist',a0_0xc64edb(0x3ee)]},'groupadd':{'type':'string','enum':['all','contacts',a0_0xc64edb(0x499),'none']}},'required':['readreceipts',a0_0xc64edb(0x611),'status',a0_0xc64edb(0x5bc),'last',a0_0xc64edb(0x434)],...S(a0_0xc64edb(0x202),a0_0xc64edb(0x611),a0_0xc64edb(0x23b),'online',a0_0xc64edb(0x257),'groupadd')}},'required':[a0_0xc64edb(0x1b3)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'lastMessage':{'type':a0_0xc64edb(0x41a),'properties':{'key':{'type':a0_0xc64edb(0x41a),'properties':{'id':{'type':a0_0xc64edb(0x470)},'remoteJid':{'type':a0_0xc64edb(0x470)},'fromMe':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0xc64edb(0x2b0)],...S('id',a0_0xc64edb(0x2b0))},'messageTimestamp':{'type':a0_0xc64edb(0x209),'minLength':0x1}},'required':['key'],...S(a0_0xc64edb(0x66b))},'archive':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]}},'required':[a0_0xc64edb(0x364),'archive']},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'id':{'type':a0_0xc64edb(0x470)},'fromMe':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xc64edb(0x470)},'participant':{'type':a0_0xc64edb(0x470)}},'required':['id','fromMe',a0_0xc64edb(0x2b0)],...S('id',a0_0xc64edb(0x2b0),'participant')},ja={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'where':{'type':a0_0xc64edb(0x41a),'properties':{'_id':{'type':a0_0xc64edb(0x470),'minLength':0x1},'pushName':{'type':a0_0xc64edb(0x470),'minLength':0x1},'id':{'type':a0_0xc64edb(0x470),'minLength':0x1}},...S(a0_0xc64edb(0x782),'id',a0_0xc64edb(0x333))}}},Fa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':a0_0xc64edb(0x470)}},...S('name')},qa={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'status':{'type':a0_0xc64edb(0x470)}},...S('status')},Se={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'number':{'type':'string'},'picture':{'type':a0_0xc64edb(0x470)}}},Ua={'type':a0_0xc64edb(0x41a),'properties':{'wuid':{'type':a0_0xc64edb(0x470)},'name':{'type':'string'},'picture':{'type':a0_0xc64edb(0x470)},'status':{'type':a0_0xc64edb(0x470)},'isBusiness':{'type':a0_0xc64edb(0x718)}}},Ja={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'where':{'type':a0_0xc64edb(0x41a),'properties':{'_id':{'type':a0_0xc64edb(0x470),'minLength':0x1},'key':{'type':a0_0xc64edb(0x41a),'if':{'propertyNames':{'enum':[a0_0xc64edb(0x792),a0_0xc64edb(0x2b0),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0xc64edb(0x39e)},'id':{'type':a0_0xc64edb(0x470),'minLength':0x1,'description':a0_0xc64edb(0x39e)},'fromMe':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0xc64edb(0x41a)}},...S('_id')},'limit':{'type':a0_0xc64edb(0x209)}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0xc64edb(0x470)},'remoteJid':{'type':'string'},'id':{'type':a0_0xc64edb(0x470)},'fromMe':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0xc64edb(0x470),'enum':['ERROR',a0_0xc64edb(0x2b4),a0_0xc64edb(0x259),a0_0xc64edb(0x557),a0_0xc64edb(0x5c1),a0_0xc64edb(0x788)]}},...S(a0_0xc64edb(0x782),'remoteJid','id',a0_0xc64edb(0x23b))},'limit':{'type':a0_0xc64edb(0x209)}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'number':{...z},'presence':{'type':a0_0xc64edb(0x470),'enum':[a0_0xc64edb(0x502),'available','composing',a0_0xc64edb(0x380),a0_0xc64edb(0x612)]}},'required':['presence','number']},Ba={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'subject':{'type':a0_0xc64edb(0x470)},'description':{'type':'string'},'profilePicture':{'type':'string'},'participants':{'type':a0_0xc64edb(0x6c1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xc64edb(0x470),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0xc64edb(0x35a),a0_0xc64edb(0x403)],...S('subject',a0_0xc64edb(0x4ec),a0_0xc64edb(0x4ea))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'groupJid':{'type':'string','pattern':a0_0xc64edb(0x662)}},'required':['groupJid'],...S(a0_0xc64edb(0x633))},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'action':{'type':a0_0xc64edb(0x470),'enum':[a0_0xc64edb(0x303),'remove',a0_0xc64edb(0x694),a0_0xc64edb(0x60c)]},'participants':{'type':a0_0xc64edb(0x6c1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xc64edb(0x470),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0xc64edb(0x633),a0_0xc64edb(0x6df),a0_0xc64edb(0x403)],...S('groupJid',a0_0xc64edb(0x6df))},Wa={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'groupJid':{'type':a0_0xc64edb(0x470)},'expiration':{'type':a0_0xc64edb(0x5d4),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0xc64edb(0x633),a0_0xc64edb(0x3e9)],...S(a0_0xc64edb(0x633),a0_0xc64edb(0x3e9))},za={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'groupJid':{'type':a0_0xc64edb(0x470)},'image':{'type':a0_0xc64edb(0x470)}},'required':[a0_0xc64edb(0x633),a0_0xc64edb(0x6dc)],...S(a0_0xc64edb(0x633),a0_0xc64edb(0x6dc))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0xc64edb(0x470)}},'required':[a0_0xc64edb(0x633),a0_0xc64edb(0x4ec)],...S(a0_0xc64edb(0x633),a0_0xc64edb(0x4ec))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'groupJid':{'type':a0_0xc64edb(0x470)},'name':{'type':'string'}},'required':[a0_0xc64edb(0x633),a0_0xc64edb(0x219)],...S(a0_0xc64edb(0x633),'name')},Qa={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'groupJid':{'type':a0_0xc64edb(0x470)},'setting':{'type':a0_0xc64edb(0x470),'enum':['announcement',a0_0xc64edb(0x2a3),a0_0xc64edb(0x685),a0_0xc64edb(0x2b3)]}},'required':[a0_0xc64edb(0x633),a0_0xc64edb(0x729)],...S('groupJid',a0_0xc64edb(0x729))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0xc64edb(0x214)],...S(a0_0xc64edb(0x214))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]}},'required':[a0_0xc64edb(0x67c),a0_0xc64edb(0x143)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0xc64edb(0x41a),'properties':{'local_map':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0xc64edb(0x718),'enum':[!0x0,!0x1]}},'required':[a0_0xc64edb(0x6fc),a0_0xc64edb(0x5e4),a0_0xc64edb(0x302),'MESSAGES_SET',a0_0xc64edb(0x21b),a0_0xc64edb(0x369),a0_0xc64edb(0x52b),'CONTACTS_SET',a0_0xc64edb(0x1c2),a0_0xc64edb(0x31d),'PRESENCE_UPDATE','CHATS_SET',a0_0xc64edb(0x5ca),a0_0xc64edb(0x54c),a0_0xc64edb(0x6e8),'CONNECTION_UPDATE',a0_0xc64edb(0x1f2),'GROUPS_UPDATE',a0_0xc64edb(0x458)],...S(a0_0xc64edb(0x6fc),a0_0xc64edb(0x5e4),a0_0xc64edb(0x302),a0_0xc64edb(0x719),a0_0xc64edb(0x21b),a0_0xc64edb(0x369),'SEND_MESSAGE',a0_0xc64edb(0x711),a0_0xc64edb(0x1c2),'CONTACTS_UPDATE',a0_0xc64edb(0x791),a0_0xc64edb(0x58b),a0_0xc64edb(0x5ca),a0_0xc64edb(0x54c),a0_0xc64edb(0x6e8),a0_0xc64edb(0x341),'GROUPS_UPSERT',a0_0xc64edb(0x21d),a0_0xc64edb(0x458))},Ke=class{},Qe=class extends I{[a0_0xc64edb(0x77f)](_0x2f582d){return Vs(_0x2f582d);}async[a0_0xc64edb(0x42d)](_0xd5e1bf){const _0x433c14=a0_0xc64edb;if(_0xd5e1bf['length']!==0x0)try{return{'insertCount':(await this[_0x433c14(0x77f)](_0xd5e1bf[0x0][_0x433c14(0x62a)])[_0x433c14(0x768)]([..._0xd5e1bf]))[_0x433c14(0x593)]};}catch(_0x2012da){return _0x2012da;}}async[a0_0xc64edb(0x57d)](_0x49bf72,_0x15b81e){const _0x269603=a0_0xc64edb;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x15b81e)['deleteMany']({..._0x49bf72[_0x269603(0x174)]}))[_0x269603(0x70c)]};}catch(_0x5728ca){return{'error':_0x5728ca?.[_0x269603(0x289)]()};}}async[a0_0xc64edb(0x527)](_0x1d74c5,_0x197a90){const _0x120422=a0_0xc64edb;try{if(_0x1d74c5[_0x120422(0x593)]===0x0)return;let _0x52a739=this['getContactModelForOwner'](_0x197a90),_0x53afce=_0x1d74c5[_0x120422(0x483)](_0x829eb4=>({'updateOne':{'filter':{'_id':_0x829eb4[_0x120422(0x782)],'owner':_0x197a90},'update':{..._0x829eb4}}})),{modifiedCount:_0x27c57f}=await _0x52a739['bulkWrite'](_0x53afce);return{'insertCount':_0x27c57f};}catch{return;}}async[a0_0xc64edb(0x670)](_0x2e5760,_0x69f23a){const _0xa8f4d9=a0_0xc64edb;try{let _0x31e9f4=this[_0xa8f4d9(0x77f)](_0x69f23a),_0x2da585=A(_0x2e5760[_0xa8f4d9(0x174)]);return await _0x31e9f4[_0xa8f4d9(0x670)](_0x2da585)[_0xa8f4d9(0x2c4)](_0x2e5760?.[_0xa8f4d9(0x2c4)]??0x0)['lean']();}catch{return[];}}async[a0_0xc64edb(0x671)](_0x574efe,_0x533bff){const _0x4883a1=a0_0xc64edb;try{let _0x15f0db=this[_0x4883a1(0x77f)](_0x533bff),_0x2adef0=A(_0x574efe['where']);return await _0x15f0db[_0x4883a1(0x671)](_0x2adef0)[_0x4883a1(0x482)]();}catch{return null;}}async[a0_0xc64edb(0x79c)](_0x46432d){const _0x191497=a0_0xc64edb;try{return await this[_0x191497(0x77f)](_0x46432d)[_0x191497(0x2b1)][_0x191497(0x1c8)](),{'success':!0x0};}catch(_0x32662c){return console[_0x191497(0x170)](_0x32662c),{'success':!0x1,'error':_0x32662c};}}},Ye=require(a0_0xc64edb(0x65c)),cc=require(a0_0xc64edb(0x64e)),hs=new v(a0_0xc64edb(0x36a)),U=class{[a0_0xc64edb(0x227)](_0x3d45a9,_0x25027e=!0x0){const _0x57dccb=a0_0xc64edb;let _0x393892='/'+_0x3d45a9;return _0x25027e&&(_0x393892+=_0x57dccb(0x758)),_0x393892;}async['dataValidate'](_0x36f8ae){const _0x4aac6e=a0_0xc64edb;let {request:_0x2bd931,schema:_0xa0580c,ClassRef:_0x1aa7c6,execute:_0x5135d5}=_0x36f8ae,_0x39d735=new _0x1aa7c6(),_0x13bb97=_0x2bd931['body'],_0x2ba358=_0x2bd931['params'];_0x2bd931?.[_0x4aac6e(0x4f6)]&&Object[_0x4aac6e(0x3dc)](_0x2bd931[_0x4aac6e(0x4f6)])[_0x4aac6e(0x593)]>0x0&&Object[_0x4aac6e(0x34c)](_0x2ba358,_0x2bd931['query']),_0x2bd931[_0x4aac6e(0x5b2)][_0x4aac6e(0x4df)]('/instance/create')&&Object[_0x4aac6e(0x34c)](_0x2ba358,_0x13bb97),Object[_0x4aac6e(0x34c)](_0x39d735,_0x13bb97);let _0x9e86bb=_0xa0580c?(0x0,Ye[_0x4aac6e(0x150)])(_0x39d735,_0xa0580c):{'valid':!0x0,'errors':[]};if(!_0x9e86bb[_0x4aac6e(0x2e0)]){let _0x1f5462=_0x9e86bb['errors'][_0x4aac6e(0x483)](({property:_0x3c4d0b,stack:_0x1ac44b,schema:_0x21746})=>{const _0x54ea50=_0x4aac6e;let _0x36859a;return _0x21746[_0x54ea50(0x4ec)]?_0x36859a=_0x21746[_0x54ea50(0x4ec)]:_0x36859a=_0x1ac44b['replace']('instance.',''),{'property':_0x3c4d0b[_0x54ea50(0x4ee)](_0x54ea50(0x53d),''),'message':_0x36859a};});throw hs['error']([..._0x1f5462]),new m(..._0x1f5462);}return await _0x5135d5(_0x2ba358,_0x39d735);}async['groupValidate'](_0x6b8ea7){const _0x28cf3f=a0_0xc64edb;let {request:_0x25dfcc,ClassRef:_0x2a2ba1,schema:_0xceb016,execute:_0x4b4a73}=_0x6b8ea7,_0x17968e=_0x25dfcc[_0x28cf3f(0x4f6)];if(!_0x17968e?.[_0x28cf3f(0x633)])throw new m(_0x28cf3f(0x7ac),_0x28cf3f(0x3c3));let _0x25f6a0=_0x25dfcc[_0x28cf3f(0x3d2)],_0x3834df=_0x25dfcc[_0x28cf3f(0x581)],_0x2a7383=new _0x2a2ba1();Object[_0x28cf3f(0x34c)](_0x3834df,_0x17968e),Object[_0x28cf3f(0x34c)](_0x2a7383,_0x3834df);let _0x38cfcf=(0x0,Ye[_0x28cf3f(0x150)])(_0x2a7383,_0xceb016);if(!_0x38cfcf[_0x28cf3f(0x2e0)]){let _0x5e3c9b=_0x38cfcf['errors'][_0x28cf3f(0x483)](({property:_0xff6650,stack:_0x41d5ee,schema:_0x2e1f69})=>{const _0x37bede=_0x28cf3f;let _0xcb23a1;return _0x2e1f69['description']?_0xcb23a1=_0x2e1f69['description']:_0xcb23a1=_0x41d5ee[_0x37bede(0x4ee)](_0x37bede(0x53d),''),{'property':_0xff6650[_0x37bede(0x4ee)](_0x37bede(0x53d),''),'message':_0xcb23a1};});throw hs['error']([..._0x5e3c9b]),new m(..._0x5e3c9b);}return await _0x4b4a73(_0x25f6a0,_0x2a7383);}async[a0_0xc64edb(0x552)](_0x360903){const _0x2e547a=a0_0xc64edb;let {request:_0x48ac60,ClassRef:_0xec24c6,schema:_0x37a437,execute:_0x282dca}=_0x360903,_0x124f35=_0x48ac60['body'];if(!_0x124f35?.[_0x2e547a(0x214)])throw new m(_0x2e547a(0x46e),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0xd6e557=_0x48ac60[_0x2e547a(0x3d2)],_0x33f2e3=_0x48ac60[_0x2e547a(0x581)],_0x466147=new _0xec24c6();Object['assign'](_0x33f2e3,_0x124f35),Object[_0x2e547a(0x34c)](_0x466147,_0x33f2e3);let _0xc6e131=(0x0,Ye['validate'])(_0x466147,_0x37a437);if(!_0xc6e131[_0x2e547a(0x2e0)]){let _0x535893=_0xc6e131[_0x2e547a(0x26b)][_0x2e547a(0x483)](({property:_0x48957b,stack:_0x5de219,schema:_0x5a1a3b})=>{const _0x41dd02=_0x2e547a;let _0x53a5e0;return _0x5a1a3b['description']?_0x53a5e0=_0x5a1a3b[_0x41dd02(0x4ec)]:_0x53a5e0=_0x5de219['replace']('instance.',''),{'property':_0x48957b[_0x41dd02(0x4ee)](_0x41dd02(0x53d),''),'message':_0x53a5e0};});throw hs['error']([..._0x535893]),new m(..._0x535893);}return await _0x282dca(_0xd6e557,_0x466147);}},E=class{},Mc=new v(a0_0xc64edb(0x196)),Xe=class extends U{constructor(..._0xbae827){const _0x5f21fa=a0_0xc64edb;super(),this[_0x5f21fa(0x3ff)]=(0x0,Za[_0x5f21fa(0x52f)])(),this['router'][_0x5f21fa(0x78c)](this[_0x5f21fa(0x227)](_0x5f21fa(0x24e)),..._0xbae827,async(_0x145201,_0x4f7ef7)=>{const _0x156eb0=_0x5f21fa;let _0x538dd6=await this[_0x156eb0(0x5f0)]({'request':_0x145201,'schema':Va,'ClassRef':je,'execute':(_0x47b474,_0x170162)=>x[_0x156eb0(0x24e)](_0x47b474,_0x170162)});return _0x4f7ef7[_0x156eb0(0x23b)](0xc9)[_0x156eb0(0x63a)](_0x538dd6);})[_0x5f21fa(0x78c)](this[_0x5f21fa(0x227)](_0x5f21fa(0x7a4)),..._0xbae827,async(_0x368ac8,_0x51716d)=>{const _0x250152=_0x5f21fa;let _0x1b49b0=await this[_0x250152(0x5f0)]({'request':_0x368ac8,'schema':_a,'ClassRef':Fe,'execute':(_0x2df92a,_0x4d0116)=>x[_0x250152(0x4ad)](_0x2df92a,_0x4d0116)});return _0x51716d['status'](0xc9)[_0x250152(0x63a)](_0x1b49b0);})[_0x5f21fa(0x78c)](this[_0x5f21fa(0x227)](_0x5f21fa(0x741)),..._0xbae827,async(_0x3dc7f7,_0x3332cb)=>{const _0x3f3304=_0x5f21fa;let _0x5e822c=await this['dataValidate']({'request':_0x3dc7f7,'schema':M,'ClassRef':E,'execute':(_0xe2b090,_0x327324)=>x[_0x3f3304(0x741)](_0xe2b090,_0x327324)});return _0x3332cb[_0x3f3304(0x23b)](0xc9)['json'](_0x5e822c);})[_0x5f21fa(0x3ad)](this['routerPath'](_0x5f21fa(0x614)),..._0xbae827,async(_0x2c43b1,_0x3c303a)=>{const _0x16e329=_0x5f21fa;let _0x417a6e=await this[_0x16e329(0x5f0)]({'request':_0x2c43b1,'schema':Pa,'ClassRef':Je,'execute':(_0x4f501e,_0x378e0c)=>x[_0x16e329(0x180)](_0x4f501e,_0x378e0c)});return _0x3c303a[_0x16e329(0x23b)](0xc9)[_0x16e329(0x63a)](_0x417a6e);})[_0x5f21fa(0x3ad)](this[_0x5f21fa(0x227)](_0x5f21fa(0x571)),..._0xbae827,async(_0x16f67e,_0x1fcbed)=>{const _0x4f9574=_0x5f21fa;let _0x1e5f80=await this[_0x4f9574(0x5f0)]({'request':_0x16f67e,'schema':ka,'ClassRef':Ve,'execute':(_0x9f6e6c,_0x5aa1a4)=>x[_0x4f9574(0x571)](_0x9f6e6c,_0x5aa1a4)});return _0x1fcbed[_0x4f9574(0x23b)](0xc9)['json'](_0x1e5f80);})['delete'](this['routerPath']('deleteMessageForEveryone'),..._0xbae827,async(_0x36f709,_0x1b4242)=>{const _0xec9a1d=_0x5f21fa;let _0x5d46c5=await this[_0xec9a1d(0x5f0)]({'request':_0x36f709,'schema':La,'ClassRef':Ge,'execute':(_0x31eed2,_0x2393e8)=>x['deleteMessage'](_0x31eed2,_0x2393e8)});return _0x1b4242[_0xec9a1d(0x23b)](0xc9)[_0xec9a1d(0x63a)](_0x5d46c5);})[_0x5f21fa(0x78c)](this[_0x5f21fa(0x227)](_0x5f21fa(0x4ca)),..._0xbae827,async(_0x1f5aee,_0x1fcaac)=>{const _0x3bb16e=_0x5f21fa;let _0x55ca4b=await this['dataValidate']({'request':_0x1f5aee,'schema':Se,'ClassRef':be,'execute':(_0x3f2406,_0x19a0b0)=>x[_0x3bb16e(0x668)](_0x3f2406,_0x19a0b0)});return _0x1fcaac['status'](0xc8)[_0x3bb16e(0x63a)](_0x55ca4b);})[_0x5f21fa(0x78c)](this[_0x5f21fa(0x227)](_0x5f21fa(0x75c)),..._0xbae827,async(_0x5a5052,_0x6cd947)=>{const _0x5dc2bd=_0x5f21fa;let _0x2165fa=await this[_0x5dc2bd(0x5f0)]({'request':_0x5a5052,'schema':Ua,'ClassRef':be,'execute':(_0x140905,_0x34c2ab)=>x[_0x5dc2bd(0x75c)](_0x140905,_0x34c2ab)});return _0x6cd947['status'](0xc8)[_0x5dc2bd(0x63a)](_0x2165fa);})[_0x5f21fa(0x78c)](this[_0x5f21fa(0x227)](_0x5f21fa(0x3ef)),..._0xbae827,async(_0x22774b,_0x557993)=>{const _0x7b1e03=_0x5f21fa;let _0x48bdf8=await this['dataValidate']({'request':_0x22774b,'schema':ja,'ClassRef':Ke,'execute':(_0x35cecb,_0x3b8e54)=>x[_0x7b1e03(0x299)](_0x35cecb,_0x3b8e54)});return _0x557993[_0x7b1e03(0x23b)](0xc8)[_0x7b1e03(0x63a)](_0x48bdf8);})[_0x5f21fa(0x78c)](this[_0x5f21fa(0x227)](_0x5f21fa(0x2ff)),..._0xbae827,async(_0x384e02,_0x3b65b7)=>{const _0x1d8154=_0x5f21fa;let _0x281ae6=await this[_0x1d8154(0x5f0)]({'request':_0x384e02,'schema':null,'ClassRef':Object,'execute':(_0xe6755c,_0x10786c)=>x[_0x1d8154(0x2ff)](_0xe6755c,_0x10786c)});return _0x3b65b7[_0x1d8154(0x23b)](0xc9)[_0x1d8154(0x63a)](_0x281ae6);})[_0x5f21fa(0x78c)](this[_0x5f21fa(0x227)](_0x5f21fa(0x144)),..._0xbae827,async(_0x42a831,_0x48f766)=>{const _0x10a2fa=_0x5f21fa;let _0x47b82b=await this['dataValidate']({'request':_0x42a831,'schema':Ja,'ClassRef':ke,'execute':(_0x31c0d2,_0x5764ba)=>x[_0x10a2fa(0x49d)](_0x31c0d2,_0x5764ba)});return _0x48f766[_0x10a2fa(0x23b)](0xc8)[_0x10a2fa(0x63a)](_0x47b82b);})[_0x5f21fa(0x489)](this[_0x5f21fa(0x227)](_0x5f21fa(0x630)),..._0xbae827,async(_0x3bb1a2,_0xd7f101)=>{const _0x58f575=_0x5f21fa;let _0x17d2be=await this[_0x58f575(0x5f0)]({'request':_0x3bb1a2,'schema':null,'ClassRef':E,'execute':_0x5e03ba=>x['fetchChats'](_0x5e03ba)});return _0xd7f101[_0x58f575(0x23b)](0xc8)[_0x58f575(0x63a)](_0x17d2be);})[_0x5f21fa(0x489)](this[_0x5f21fa(0x227)](_0x5f21fa(0x547)),..._0xbae827,async(_0x14d1f0,_0x3eb795)=>{const _0x3f9080=_0x5f21fa;let _0x5e7d4b=await this[_0x3f9080(0x5f0)]({'request':_0x14d1f0,'schema':null,'ClassRef':E,'execute':_0x719e24=>x[_0x3f9080(0x1f8)](_0x719e24)});return _0x3eb795[_0x3f9080(0x23b)](0xc8)['json'](_0x5e7d4b);})[_0x5f21fa(0x3ad)](this['routerPath'](_0x5f21fa(0x794)),..._0xbae827,async(_0x344074,_0x35a11b)=>{const _0x547e17=_0x5f21fa;let _0x2c6921=await this[_0x547e17(0x5f0)]({'request':_0x344074,'schema':null,'ClassRef':Array,'execute':(_0x1a4f66,_0x3e0600)=>x[_0x547e17(0x794)](_0x1a4f66,_0x3e0600)});return _0x35a11b[_0x547e17(0x23b)](0xc8)[_0x547e17(0x63a)](_0x2c6921);})['get'](this['routerPath'](_0x5f21fa(0x528)),..._0xbae827,async(_0x561ad3,_0x23b51e)=>{const _0x560eac=_0x5f21fa;let _0x588f2d=await this[_0x560eac(0x5f0)]({'request':_0x561ad3,'schema':null,'ClassRef':E,'execute':_0x579143=>x['fetchPrivacySettings'](_0x579143)});return _0x23b51e[_0x560eac(0x23b)](0xc8)[_0x560eac(0x63a)](_0x588f2d);})[_0x5f21fa(0x3ad)](this[_0x5f21fa(0x227)](_0x5f21fa(0x456)),..._0xbae827,async(_0x12c22f,_0xcd4716)=>{const _0x31e43e=_0x5f21fa;let _0x3426f4=await this[_0x31e43e(0x5f0)]({'request':_0x12c22f,'schema':$a,'ClassRef':Be,'execute':(_0x42f625,_0x11beaa)=>x['updatePrivacySettings'](_0x42f625,_0x11beaa)});return _0xcd4716[_0x31e43e(0x23b)](0xc9)['json'](_0x3426f4);})[_0x5f21fa(0x78c)](this[_0x5f21fa(0x227)]('fetchBusinessProfile'),..._0xbae827,async(_0x56e39f,_0x2933fa)=>{const _0xedca62=_0x5f21fa;let _0x2cbcd3=await this[_0xedca62(0x5f0)]({'request':_0x56e39f,'schema':Se,'ClassRef':fe,'execute':(_0x5c7976,_0x2094c5)=>x[_0xedca62(0x5fd)](_0x5c7976,_0x2094c5)});return _0x2933fa['status'](0xc8)[_0xedca62(0x63a)](_0x2cbcd3);})[_0x5f21fa(0x78c)](this['routerPath']('updateProfileName'),..._0xbae827,async(_0x133595,_0xb4d341)=>{const _0x9f06be=_0x5f21fa;let _0x256da4=await this[_0x9f06be(0x5f0)]({'request':_0x133595,'schema':Fa,'ClassRef':qe,'execute':(_0xa052c0,_0x54a8e2)=>x['updateProfileName'](_0xa052c0,_0x54a8e2)});return _0xb4d341[_0x9f06be(0x23b)](0xc8)[_0x9f06be(0x63a)](_0x256da4);})[_0x5f21fa(0x78c)](this[_0x5f21fa(0x227)](_0x5f21fa(0x3a1)),..._0xbae827,async(_0x2cab1c,_0x379f29)=>{const _0x558d5c=_0x5f21fa;let _0x57b6c9=await this['dataValidate']({'request':_0x2cab1c,'schema':qa,'ClassRef':Ue,'execute':(_0x285ea2,_0x48aebb)=>x[_0x558d5c(0x3a1)](_0x285ea2,_0x48aebb)});return _0x379f29[_0x558d5c(0x23b)](0xc8)[_0x558d5c(0x63a)](_0x57b6c9);})['put'](this[_0x5f21fa(0x227)]('updateProfilePicture'),..._0xbae827,async(_0x6b2ca1,_0x44b1dc)=>{const _0x1196ba=_0x5f21fa;let _0x4eca84=await this[_0x1196ba(0x5f0)]({'request':_0x6b2ca1,'schema':Se,'ClassRef':fe,'execute':(_0x782ea1,_0x46dd26)=>x[_0x1196ba(0x2c0)](_0x782ea1,_0x46dd26)});return _0x44b1dc[_0x1196ba(0x23b)](0xc8)[_0x1196ba(0x63a)](_0x4eca84);})['delete'](this[_0x5f21fa(0x227)](_0x5f21fa(0x1e4)),..._0xbae827,async(_0x1cbede,_0x261c22)=>{const _0x1a3536=_0x5f21fa;let _0x41a8e2=await this[_0x1a3536(0x5f0)]({'request':_0x1cbede,'schema':Se,'ClassRef':fe,'execute':(_0x5d3255,_0x5eb059)=>x[_0x1a3536(0x1e4)](_0x5d3255,_0x5eb059)});return _0x261c22[_0x1a3536(0x23b)](0xc8)['json'](_0x41a8e2);});}},eo=require(a0_0xc64edb(0x6b8)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},ot=class{},rt=class extends Y{},it=class extends Y{},nt=class extends U{constructor(..._0x48f330){const _0x2c5d0c=a0_0xc64edb;super(),this[_0x2c5d0c(0x3ff)]=(0x0,eo['Router'])(),this[_0x2c5d0c(0x3ff)][_0x2c5d0c(0x78c)](this[_0x2c5d0c(0x227)](_0x2c5d0c(0x171)),..._0x48f330,async(_0x59df7b,_0x4c0798)=>{const _0x303bf0=_0x2c5d0c;let _0x46d595=await this[_0x303bf0(0x5f0)]({'request':_0x59df7b,'schema':Ba,'ClassRef':Ze,'execute':(_0x319234,_0x5aa806)=>q[_0x303bf0(0x5e7)](_0x319234,_0x5aa806)});_0x4c0798[_0x303bf0(0x23b)](0xc9)[_0x303bf0(0x63a)](_0x46d595);})['put'](this['routerPath'](_0x2c5d0c(0x58e)),..._0x48f330,async(_0x18111a,_0x5c3cd8)=>{const _0x255223=_0x2c5d0c;let _0x834e33=await this[_0x255223(0x40c)]({'request':_0x18111a,'schema':za,'ClassRef':et,'execute':(_0x1bf527,_0x142bf9)=>q[_0x255223(0x58e)](_0x1bf527,_0x142bf9)});_0x5c3cd8[_0x255223(0x23b)](0xc9)[_0x255223(0x63a)](_0x834e33);})[_0x2c5d0c(0x3ad)](this['routerPath'](_0x2c5d0c(0x519)),..._0x48f330,async(_0xb6fb4a,_0x1cafe6)=>{const _0x36cc37=_0x2c5d0c;let _0x4216b=await this[_0x36cc37(0x40c)]({'request':_0xb6fb4a,'schema':Ha,'ClassRef':tt,'execute':(_0xfa4977,_0x104f26)=>q[_0x36cc37(0x519)](_0xfa4977,_0x104f26)});_0x1cafe6[_0x36cc37(0x23b)](0xc9)['json'](_0x4216b);})[_0x2c5d0c(0x3ad)](this[_0x2c5d0c(0x227)](_0x2c5d0c(0x6e4)),..._0x48f330,async(_0x1b6b20,_0x54bf79)=>{const _0x1c9ec9=_0x2c5d0c;let _0x59f9ea=await this['groupValidate']({'request':_0x1b6b20,'schema':Ka,'ClassRef':st,'execute':(_0x4e666f,_0x55cb82)=>q[_0x1c9ec9(0x6e4)](_0x4e666f,_0x55cb82)});_0x54bf79['status'](0xc9)[_0x1c9ec9(0x63a)](_0x59f9ea);})[_0x2c5d0c(0x3ad)](this[_0x2c5d0c(0x227)](_0x2c5d0c(0x2de)),..._0x48f330,async(_0x33ee70,_0x52ed64)=>{const _0x2422cf=_0x2c5d0c;let _0x58d74b=await this['groupValidate']({'request':_0x33ee70,'schema':Qa,'ClassRef':at,'execute':(_0xfa1e6c,_0x30ec59)=>q[_0x2422cf(0x2de)](_0xfa1e6c,_0x30ec59)});_0x52ed64[_0x2422cf(0x23b)](0xc9)['json'](_0x58d74b);})[_0x2c5d0c(0x3ad)](this[_0x2c5d0c(0x227)]('toggleEphemeral'),..._0x48f330,async(_0x3a60f7,_0x45ed40)=>{const _0x27431f=_0x2c5d0c;let _0x6845d8=await this[_0x27431f(0x40c)]({'request':_0x3a60f7,'schema':Wa,'ClassRef':it,'execute':(_0x45a1a3,_0x5057cd)=>q['toggleEphemeral'](_0x45a1a3,_0x5057cd)});_0x45ed40['status'](0xc9)[_0x27431f(0x63a)](_0x6845d8);})[_0x2c5d0c(0x489)](this[_0x2c5d0c(0x227)](_0x2c5d0c(0x30c)),..._0x48f330,async(_0x496c60,_0x2ebcc3)=>{const _0x5c7c1c=_0x2c5d0c;let _0x30a973=await this[_0x5c7c1c(0x40c)]({'request':_0x496c60,'schema':Ee,'ClassRef':Y,'execute':(_0x49d362,_0x45d8b0)=>q[_0x5c7c1c(0x4fe)](_0x49d362,_0x45d8b0)});_0x2ebcc3[_0x5c7c1c(0x23b)](0xc8)['json'](_0x30a973);})[_0x2c5d0c(0x489)](this[_0x2c5d0c(0x227)](_0x2c5d0c(0x66e)),..._0x48f330,async(_0x1dbc42,_0x5e4409)=>{const _0x51c1b7=_0x2c5d0c;let _0x136beb=await this[_0x51c1b7(0x5f0)]({'request':_0x1dbc42,'schema':M,'ClassRef':E,'execute':_0x39a44e=>q[_0x51c1b7(0x66e)](_0x39a44e)});_0x5e4409[_0x51c1b7(0x23b)](0xc8)[_0x51c1b7(0x63a)](_0x136beb);})[_0x2c5d0c(0x489)](this[_0x2c5d0c(0x227)](_0x2c5d0c(0x403)),..._0x48f330,async(_0x199648,_0x189b3f)=>{const _0x21b5e4=_0x2c5d0c;let _0x3de99f=await this[_0x21b5e4(0x40c)]({'request':_0x199648,'schema':Ee,'ClassRef':Y,'execute':(_0x197602,_0x5b5cb5)=>q[_0x21b5e4(0x6ad)](_0x197602,_0x5b5cb5)});_0x189b3f[_0x21b5e4(0x23b)](0xc8)['json'](_0x3de99f);})[_0x2c5d0c(0x489)](this[_0x2c5d0c(0x227)](_0x2c5d0c(0x214)),..._0x48f330,async(_0x3d1fdd,_0x245d1a)=>{const _0x2313a9=_0x2c5d0c;let _0x465cc4=await this['groupValidate']({'request':_0x3d1fdd,'schema':Ee,'ClassRef':Y,'execute':(_0x42ae59,_0x29637e)=>q[_0x2313a9(0x214)](_0x42ae59,_0x29637e)});_0x245d1a['status'](0xc8)['json'](_0x465cc4);})['put'](this[_0x2c5d0c(0x227)](_0x2c5d0c(0x2f8)),..._0x48f330,async(_0x4fd42c,_0x475fec)=>{const _0x14055c=_0x2c5d0c;let _0x4e78d1=await this[_0x14055c(0x552)]({'request':_0x4fd42c,'schema':Ya,'ClassRef':ot,'execute':(_0x58e389,_0x4802eb)=>q[_0x14055c(0x2f8)](_0x58e389,_0x4802eb)});_0x475fec['status'](0xc9)[_0x14055c(0x63a)](_0x4e78d1);})[_0x2c5d0c(0x3ad)](this[_0x2c5d0c(0x227)](_0x2c5d0c(0x1b9)),..._0x48f330,async(_0x47ea01,_0x3710fa)=>{const _0x33bc1b=_0x2c5d0c;let _0x3334d2=await this[_0x33bc1b(0x40c)]({'request':_0x47ea01,'schema':Ee,'ClassRef':Y,'execute':(_0xa579d9,_0x3242ba)=>q['revokeInviteCode'](_0xa579d9,_0x3242ba)});_0x3710fa[_0x33bc1b(0x23b)](0xc9)[_0x33bc1b(0x63a)](_0x3334d2);})['put'](this['routerPath']('updateParticipant'),..._0x48f330,async(_0x51456e,_0x3c6774)=>{const _0xd17943=_0x2c5d0c;let _0x54fd34=await this[_0xd17943(0x40c)]({'request':_0x51456e,'schema':Ga,'ClassRef':rt,'execute':(_0x1ba7ca,_0x2e67c6)=>q[_0xd17943(0x348)](_0x1ba7ca,_0x2e67c6)});_0x3c6774[_0xd17943(0x23b)](0xc9)['json'](_0x54fd34);})[_0x2c5d0c(0x57d)](this[_0x2c5d0c(0x227)](_0x2c5d0c(0x720)),..._0x48f330,async(_0x2a2d14,_0x1247c4)=>{const _0xd80c50=_0x2c5d0c;let _0x3339dd=await this[_0xd80c50(0x40c)]({'request':_0x2a2d14,'schema':{},'ClassRef':Y,'execute':(_0x259fd4,_0x3d55f4)=>q['leaveGroup'](_0x259fd4,_0x3d55f4)});_0x1247c4[_0xd80c50(0x23b)](0xc8)[_0xd80c50(0x63a)](_0x3339dd);});}},to=require('express'),ct=class extends U{constructor(_0x1456c7,..._0x33c56f){const _0xf4287d=a0_0xc64edb;super(),this[_0xf4287d(0x46b)]=_0x1456c7,this[_0xf4287d(0x3ff)]=(0x0,to[_0xf4287d(0x52f)])();let _0x48d360=_0x1456c7[_0xf4287d(0x489)](_0xf4287d(0x69c));this[_0xf4287d(0x3ff)][_0xf4287d(0x78c)](_0xf4287d(0x780),..._0x33c56f,async(_0x5ba43d,_0x2c2a27)=>{const _0x19342a=_0xf4287d;let {instanceName:_0x326c26,apikey:_0x30cd9b,number:_0x37a45c}=_0x5ba43d['body'],_0x31e4de=await le[_0x19342a(0x1e3)]({'instanceName':_0x326c26,'apikey':_0x30cd9b,'number':_0x37a45c});return _0x2c2a27[_0x19342a(0x23b)](0xc9)[_0x19342a(0x63a)](_0x31e4de);})[_0xf4287d(0x3ad)](this[_0xf4287d(0x227)](_0xf4287d(0x6e0)),..._0x33c56f,async(_0x5c3309,_0x18fef6)=>{const _0x551bf1=_0xf4287d;let _0x14febc=await this[_0x551bf1(0x5f0)]({'request':_0x5c3309,'schema':M,'ClassRef':E,'execute':_0x2eae44=>le[_0x551bf1(0x1cd)](_0x2eae44)});return _0x18fef6[_0x551bf1(0x23b)](0xc8)[_0x551bf1(0x63a)](_0x14febc);})[_0xf4287d(0x489)](this['routerPath'](_0xf4287d(0x20d)),..._0x33c56f,async(_0x59cd38,_0x5dce17)=>{const _0xb56210=_0xf4287d;let _0x3c9707=await this[_0xb56210(0x5f0)]({'request':_0x59cd38,'schema':M,'ClassRef':E,'execute':_0x5d43fd=>le[_0xb56210(0x20d)](_0x5d43fd)});return _0x5dce17[_0xb56210(0x23b)](0xc8)[_0xb56210(0x63a)](_0x3c9707);})['get'](this[_0xf4287d(0x227)](_0xf4287d(0x3e4),!0x1),..._0x33c56f,async(_0x3f641a,_0x179418)=>{const _0x5c5b85=_0xf4287d;let _0x5dacd4=await this['dataValidate']({'request':_0x3f641a,'schema':null,'ClassRef':E,'execute':_0x5534fc=>le[_0x5c5b85(0x3e4)](_0x5534fc)});return _0x179418['status'](0xc8)[_0x5c5b85(0x63a)](_0x5dacd4);})[_0xf4287d(0x57d)](this[_0xf4287d(0x227)](_0xf4287d(0x1b0)),..._0x33c56f,async(_0x280000,_0x1609a3)=>{const _0x6cb25=_0xf4287d;let _0x57d22d=await this[_0x6cb25(0x5f0)]({'request':_0x280000,'schema':M,'ClassRef':E,'execute':_0x13fede=>le[_0x6cb25(0x1b0)](_0x13fede)});return _0x1609a3['status'](0xc8)[_0x6cb25(0x63a)](_0x57d22d);})[_0xf4287d(0x57d)](this[_0xf4287d(0x227)]('delete'),..._0x33c56f,async(_0x1b79e0,_0xe7e395)=>{const _0xa79b9a=_0xf4287d;let _0x1682d3=await this[_0xa79b9a(0x5f0)]({'request':_0x1b79e0,'schema':M,'ClassRef':E,'execute':_0x4324cf=>le[_0xa79b9a(0x3a6)](_0x4324cf)});return _0xe7e395['status'](0xc8)[_0xa79b9a(0x63a)](_0x1682d3);});}},so=require(a0_0xc64edb(0x6b8)),gs=class{},W=class extends gs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},ht=class extends W{},gt=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends U{constructor(..._0x4d68cc){const _0xf84281=a0_0xc64edb;super(),this[_0xf84281(0x3ff)]=(0x0,so['Router'])(),this[_0xf84281(0x3ff)][_0xf84281(0x78c)](this['routerPath'](_0xf84281(0x601)),..._0x4d68cc,async(_0x12019c,_0x3eafac)=>{const _0x4c1261=_0xf84281;let _0x13f437=await this[_0x4c1261(0x5f0)]({'request':_0x12019c,'schema':Sa,'ClassRef':lt,'execute':(_0x16329e,_0x45c1f5)=>G[_0x4c1261(0x601)](_0x16329e,_0x45c1f5)});return _0x3eafac[_0x4c1261(0x23b)](0xc9)[_0x4c1261(0x63a)](_0x13f437);})[_0xf84281(0x78c)](this[_0xf84281(0x227)](_0xf84281(0x68c)),..._0x4d68cc,async(_0x3b13ae,_0x4c9d6e)=>{const _0x13e877=_0xf84281;let _0x1efaff=await this[_0x13e877(0x5f0)]({'request':_0x3b13ae,'schema':va,'ClassRef':Ce,'execute':(_0x4acafb,_0x5da474)=>G[_0x13e877(0x68c)](_0x4acafb,_0x5da474)});return _0x4c9d6e[_0x13e877(0x23b)](0xc9)[_0x13e877(0x63a)](_0x1efaff);})[_0xf84281(0x78c)](this[_0xf84281(0x227)]('sendMenu'),..._0x4d68cc,async(_0x58c8f7,_0x1ab82f)=>{const _0xdf58be=_0xf84281;let _0x123bc0=await this[_0xdf58be(0x5f0)]({'request':_0x58c8f7,'schema':Ta,'ClassRef':pt,'execute':(_0xf5982d,_0x3527a4)=>G['sendMenu'](_0xf5982d,_0x3527a4)});return _0x1ab82f[_0xdf58be(0x23b)](0xc9)[_0xdf58be(0x63a)](_0x123bc0);})[_0xf84281(0x78c)](this['routerPath'](_0xf84281(0x29e)),..._0x4d68cc,async(_0x41e618,_0x6c785f)=>{const _0x31136=_0xf84281;let _0x5f43f8=await this[_0x31136(0x5f0)]({'request':_0x41e618,'schema':Na,'ClassRef':Ce,'execute':(_0x4defc3,_0x5178be)=>G[_0x31136(0x29e)](_0x4defc3,_0x5178be)});return _0x6c785f[_0x31136(0x23b)](0xc9)['json'](_0x5f43f8);})[_0xf84281(0x78c)](this[_0xf84281(0x227)](_0xf84281(0x6c6)),..._0x4d68cc,async(_0x41cf11,_0x2d5e32)=>{const _0x517687=_0xf84281;let _0x33b83b=await this[_0x517687(0x5f0)]({'request':_0x41cf11,'schema':Aa,'ClassRef':gt,'execute':(_0x351d40,_0x3cec32)=>G[_0x517687(0x6c6)](_0x351d40,_0x3cec32)});return _0x2d5e32[_0x517687(0x23b)](0xc9)['json'](_0x33b83b);})[_0xf84281(0x78c)](this['routerPath']('sendLocation'),..._0x4d68cc,async(_0x2489dd,_0x40e3fb)=>{const _0x54b84e=_0xf84281;let _0x5c5b3a=await this[_0x54b84e(0x5f0)]({'request':_0x2489dd,'schema':Oa,'ClassRef':mt,'execute':(_0x3cbfd1,_0x39ae2b)=>G['sendLocation'](_0x3cbfd1,_0x39ae2b)});return _0x40e3fb['status'](0xc9)['json'](_0x5c5b3a);})[_0xf84281(0x78c)](this[_0xf84281(0x227)]('sendList'),..._0x4d68cc,async(_0x27eabc,_0x493d37)=>{const _0x4ec7a1=_0xf84281;let _0xc3d5f3=await this[_0x4ec7a1(0x5f0)]({'request':_0x27eabc,'schema':Ia,'ClassRef':ft,'execute':(_0x52af18,_0x61ea36)=>G[_0x4ec7a1(0x673)](_0x52af18,_0x61ea36)});return _0x493d37['status'](0xc9)[_0x4ec7a1(0x63a)](_0xc3d5f3);})[_0xf84281(0x78c)](this[_0xf84281(0x227)](_0xf84281(0x322)),..._0x4d68cc,async(_0x5280ed,_0x2d8e0f)=>{const _0x3637a9=_0xf84281;let _0x1c0518=await this[_0x3637a9(0x5f0)]({'request':_0x5280ed,'schema':xa,'ClassRef':wt,'execute':(_0x567d31,_0x590df8)=>G[_0x3637a9(0x322)](_0x567d31,_0x590df8)});return _0x2d8e0f[_0x3637a9(0x23b)](0xc9)[_0x3637a9(0x63a)](_0x1c0518);})['post'](this['routerPath']('sendReaction'),..._0x4d68cc,async(_0x4c23e6,_0x3de368)=>{const _0xa150b1=_0xf84281;let _0x430efb=await this[_0xa150b1(0x5f0)]({'request':_0x4c23e6,'schema':Da,'ClassRef':yt,'execute':(_0x11c1b7,_0x102970)=>G[_0xa150b1(0x698)](_0x11c1b7,_0x102970)});return _0x3de368['status'](0xc9)[_0xa150b1(0x63a)](_0x430efb);})['post'](this['routerPath'](_0xf84281(0x19e)),..._0x4d68cc,async(_0x45878d,_0x1d553c)=>{const _0x35272c=_0xf84281;let _0xd3d5bb=await this[_0x35272c(0x5f0)]({'request':_0x45878d,'schema':Ra,'ClassRef':dt,'execute':(_0x4d2a3c,_0x5585ae)=>G[_0x35272c(0x19e)](_0x4d2a3c,_0x5585ae)});return _0x1d553c[_0x35272c(0x23b)](0xc9)['json'](_0xd3d5bb);})[_0xf84281(0x78c)](this['routerPath']('sendStatus'),..._0x4d68cc,async(_0x46195f,_0x344a)=>{const _0x4fcb35=_0xf84281;let _0x1d3849=await this[_0x4fcb35(0x5f0)]({'request':_0x46195f,'schema':Ma,'ClassRef':ut,'execute':(_0x902ff2,_0x43fc0c)=>G[_0x4fcb35(0x4a8)](_0x902ff2,_0x43fc0c)});return _0x344a['status'](0xc9)['json'](_0x1d3849);})['post'](this[_0xf84281(0x227)]('sendSticker'),..._0x4d68cc,async(_0xad9bdb,_0x47f446)=>{const _0x929d46=_0xf84281;let _0x389966=await this['dataValidate']({'request':_0xad9bdb,'schema':Ca,'ClassRef':ht,'execute':(_0x41e1d1,_0x2aa734)=>G['sendSticker'](_0x41e1d1,_0x2aa734)});return _0x47f446[_0x929d46(0x23b)](0xc9)[_0x929d46(0x63a)](_0x389966);});}},ao=require(a0_0xc64edb(0x6b8)),St=class{},Et=class extends U{constructor(..._0x53d876){const _0x4db05b=a0_0xc64edb;super(),this[_0x4db05b(0x3ff)]=(0x0,ao[_0x4db05b(0x52f)])(),this[_0x4db05b(0x3ff)][_0x4db05b(0x78c)](this[_0x4db05b(0x227)](_0x4db05b(0x71c)),..._0x53d876,async(_0x3c2b9c,_0x4395ed)=>{const _0x95f53d=_0x4db05b;let _0x421752=await this[_0x95f53d(0x5f0)]({'request':_0x3c2b9c,'schema':Xa,'ClassRef':St,'execute':(_0xe3adca,_0x4e75da)=>ms[_0x95f53d(0x6d4)](_0xe3adca,_0x4e75da)});_0x4395ed[_0x95f53d(0x23b)](0xc9)[_0x95f53d(0x63a)](_0x421752);})[_0x4db05b(0x489)](this[_0x4db05b(0x227)](_0x4db05b(0x670)),..._0x53d876,async(_0x17d9bd,_0x454bbd)=>{const _0x169d5d=_0x4db05b;let _0x2852ad=await this[_0x169d5d(0x5f0)]({'request':_0x17d9bd,'schema':M,'ClassRef':E,'execute':_0x546f8d=>ms['findWebhook'](_0x546f8d)});_0x454bbd[_0x169d5d(0x23b)](0xc8)[_0x169d5d(0x63a)](_0x2852ad);});}},oo=require('express'),f=new v(a0_0xc64edb(0x2d9)),Ct=class extends U{constructor(..._0x37e902){const _0x1e2bdf=a0_0xc64edb;super(),this[_0x1e2bdf(0x3ff)]=(0x0,oo[_0x1e2bdf(0x52f)])(),this[_0x1e2bdf(0x3ff)][_0x1e2bdf(0x78c)](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x44b)),..._0x37e902,async(_0x5c2b23,_0x494d71)=>{const _0x9bcfb2=_0x1e2bdf;let _0x3c1761=_0x5c2b23[_0x9bcfb2(0x581)];f['verbose']('request\x20received\x20in\x20scheduleMessage'),f[_0x9bcfb2(0x6d2)](_0x9bcfb2(0x6b6)),f[_0x9bcfb2(0x6d2)](_0x5c2b23[_0x9bcfb2(0x581)]);let _0x59d4c8=await this[_0x9bcfb2(0x5f0)]({'request':_0x5c2b23,'schema':M,'ClassRef':E,'execute':_0xc570e0=>T[_0x9bcfb2(0x25c)](_0xc570e0,_0x3c1761)});_0x494d71[_0x9bcfb2(0x23b)](0xc8)[_0x9bcfb2(0x63a)](_0x59d4c8);})[_0x1e2bdf(0x489)](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x44b)),..._0x37e902,async(_0x103e8d,_0x257c73)=>{const _0x230e6b=_0x1e2bdf;let _0x4f3850=await this[_0x230e6b(0x5f0)]({'request':_0x103e8d,'schema':M,'ClassRef':E,'execute':_0x434799=>T[_0x230e6b(0x563)](_0x434799)});_0x257c73[_0x230e6b(0x23b)](0xc8)[_0x230e6b(0x63a)](_0x4f3850);})[_0x1e2bdf(0x57d)](this['routerPath']('deleteDoneMessages'),..._0x37e902,async(_0x584aab,_0x13a047)=>{const _0x49fffb=_0x1e2bdf;f[_0x49fffb(0x6d2)](_0x49fffb(0x53c));let _0x42ad85=await this['dataValidate']({'request':_0x584aab,'schema':M,'ClassRef':E,'execute':_0x53dd84=>T[_0x49fffb(0x229)](_0x53dd84)});_0x13a047[_0x49fffb(0x23b)](0xc8)['json'](_0x42ad85);})[_0x1e2bdf(0x78c)](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x3f6)),..._0x37e902,async(_0x57a55d,_0x1ae515)=>{const _0x4edac5=_0x1e2bdf;let _0x34296f=_0x57a55d['body'];f[_0x4edac5(0x6d2)](_0x4edac5(0x4bd)),f[_0x4edac5(0x6d2)](_0x4edac5(0x6b6)),f[_0x4edac5(0x6d2)](_0x57a55d[_0x4edac5(0x581)]);let _0xb01bd0=await this['dataValidate']({'request':_0x57a55d,'schema':M,'ClassRef':E,'execute':_0x4303ea=>T[_0x4edac5(0x3f6)](_0x4303ea,_0x34296f)});_0x1ae515[_0x4edac5(0x23b)](0xc8)[_0x4edac5(0x63a)](_0xb01bd0);})[_0x1e2bdf(0x489)](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x6e1)),..._0x37e902,async(_0xde81b9,_0x311e2f)=>{const _0x24443e=_0x1e2bdf;f[_0x24443e(0x6d2)](_0x24443e(0x642));let _0x3c8711=await this[_0x24443e(0x5f0)]({'request':_0xde81b9,'schema':M,'ClassRef':E,'execute':_0x518dc5=>T[_0x24443e(0x6e1)](_0x518dc5)});_0x311e2f[_0x24443e(0x23b)](0xc8)[_0x24443e(0x63a)](_0x3c8711);})[_0x1e2bdf(0x489)](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x396)),..._0x37e902,async(_0x22d0b3,_0x49f08b)=>{const _0x9a81d6=_0x1e2bdf;f[_0x9a81d6(0x6d2)](_0x9a81d6(0x17f));let _0x2bb139=await this[_0x9a81d6(0x5f0)]({'request':_0x22d0b3,'schema':M,'ClassRef':E,'execute':_0x32584d=>T[_0x9a81d6(0x6e1)](_0x32584d)});_0x49f08b[_0x9a81d6(0x23b)](0xc8)[_0x9a81d6(0x63a)](_0x2bb139);})[_0x1e2bdf(0x78c)](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x1ad)),..._0x37e902,async(_0x2d5d51,_0xa0763e)=>{const _0x149560=_0x1e2bdf;let _0x210ee1=_0x2d5d51['body'];f[_0x149560(0x6d2)](_0x149560(0x165)),f[_0x149560(0x6d2)](_0x149560(0x6b6)),f[_0x149560(0x6d2)](_0x2d5d51[_0x149560(0x581)]);let _0x43bd1c=await this[_0x149560(0x5f0)]({'request':_0x2d5d51,'schema':M,'ClassRef':E,'execute':_0x212545=>T[_0x149560(0x1ad)](_0x212545,_0x210ee1)});_0xa0763e[_0x149560(0x23b)](0xc8)[_0x149560(0x63a)](_0x43bd1c);})[_0x1e2bdf(0x78c)](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x335)),..._0x37e902,async(_0x19a7ec,_0x4b0426)=>{const _0x3f7d1b=_0x1e2bdf;let _0x3cab7c=_0x19a7ec['body'];f[_0x3f7d1b(0x6d2)](_0x3f7d1b(0x162)),f[_0x3f7d1b(0x6d2)](_0x3f7d1b(0x6b6)),f[_0x3f7d1b(0x6d2)](_0x19a7ec[_0x3f7d1b(0x581)]);let _0x211bc9=await this[_0x3f7d1b(0x5f0)]({'request':_0x19a7ec,'schema':M,'ClassRef':E,'execute':_0x21298d=>T[_0x3f7d1b(0x335)](_0x21298d,_0x3cab7c)});_0x4b0426['status'](0xc8)[_0x3f7d1b(0x63a)](_0x211bc9);})['post'](this[_0x1e2bdf(0x227)]('updateFlowConfig'),..._0x37e902,async(_0x573189,_0x2e8d26)=>{const _0x81b5e3=_0x1e2bdf;let _0xbc83e1=_0x573189[_0x81b5e3(0x581)];f[_0x81b5e3(0x6d2)]('request\x20received\x20in\x20updateFlowConfig'),f['verbose'](_0x81b5e3(0x6b6)),f[_0x81b5e3(0x6d2)](_0x573189[_0x81b5e3(0x581)]);let _0x40820b=await this[_0x81b5e3(0x5f0)]({'request':_0x573189,'schema':M,'ClassRef':E,'execute':_0x66ba93=>T[_0x81b5e3(0x6a8)](_0x66ba93,_0xbc83e1)});_0x2e8d26['status'](0xc8)[_0x81b5e3(0x63a)](_0x40820b);})['post'](this['routerPath'](_0x1e2bdf(0x6ae)),..._0x37e902,async(_0x42f1ac,_0x2c0278)=>{const _0x4097dd=_0x1e2bdf;let _0x1fc8a9=_0x42f1ac[_0x4097dd(0x581)];f[_0x4097dd(0x6d2)](_0x4097dd(0x690)),f[_0x4097dd(0x6d2)](_0x4097dd(0x6b6)),f['verbose'](_0x42f1ac['body']);let _0x4e7f84=await this[_0x4097dd(0x5f0)]({'request':_0x42f1ac,'schema':M,'ClassRef':E,'execute':_0x49bf99=>T[_0x4097dd(0x6ae)](_0x49bf99,_0x1fc8a9)});_0x2c0278[_0x4097dd(0x23b)](0xc8)['json'](_0x4e7f84);})[_0x1e2bdf(0x78c)](this['routerPath'](_0x1e2bdf(0x382)),..._0x37e902,async(_0x28ba1e,_0x22f002)=>{const _0x503a02=_0x1e2bdf;let _0x296a16=_0x28ba1e['body'];f[_0x503a02(0x6d2)](_0x503a02(0x558)),f['verbose']('request\x20body:\x20'),f[_0x503a02(0x6d2)](_0x28ba1e[_0x503a02(0x581)]);let _0x54e3b1=await this[_0x503a02(0x5f0)]({'request':_0x28ba1e,'schema':M,'ClassRef':E,'execute':_0x5c490b=>T[_0x503a02(0x382)](_0x5c490b,_0x296a16)});_0x22f002[_0x503a02(0x23b)](0xc8)[_0x503a02(0x63a)](_0x54e3b1);})['post'](this['routerPath'](_0x1e2bdf(0x331)),..._0x37e902,async(_0x532395,_0x65f75b)=>{const _0xa0bf86=_0x1e2bdf;let _0xc9a19d=_0x532395[_0xa0bf86(0x581)];f[_0xa0bf86(0x6d2)](_0xa0bf86(0x39f)),f[_0xa0bf86(0x6d2)](_0xa0bf86(0x6b6)),f[_0xa0bf86(0x6d2)](_0x532395[_0xa0bf86(0x581)]);let _0x203f12=await this[_0xa0bf86(0x5f0)]({'request':_0x532395,'schema':M,'ClassRef':E,'execute':_0x259eae=>T[_0xa0bf86(0x331)](_0x259eae,_0xc9a19d)});_0x65f75b[_0xa0bf86(0x23b)](0xc8)[_0xa0bf86(0x63a)](_0x203f12);})[_0x1e2bdf(0x57d)](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x513)),..._0x37e902,async(_0x5681d5,_0x1cfb60)=>{const _0xdd1754=_0x1e2bdf;let _0x28b60b=_0x5681d5['body'];f[_0xdd1754(0x6d2)](_0xdd1754(0x339)),f[_0xdd1754(0x6d2)]('request\x20body:\x20'),f[_0xdd1754(0x6d2)](_0x5681d5[_0xdd1754(0x581)]);let _0x317b23=await this[_0xdd1754(0x5f0)]({'request':_0x5681d5,'schema':M,'ClassRef':E,'execute':_0x5049b1=>T['deleteConversation'](_0x5049b1,_0x28b60b)});_0x1cfb60[_0xdd1754(0x23b)](0xc8)['json'](_0x317b23);})[_0x1e2bdf(0x78c)](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x5b8)),..._0x37e902,async(_0x59d650,_0x363053)=>{const _0x440815=_0x1e2bdf;let _0x15496a=_0x59d650[_0x440815(0x581)];f[_0x440815(0x6d2)](_0x440815(0x344)),f[_0x440815(0x6d2)](_0x440815(0x6b6)),f[_0x440815(0x6d2)](_0x59d650[_0x440815(0x581)]);let _0x120f16=await this[_0x440815(0x5f0)]({'request':_0x59d650,'schema':M,'ClassRef':E,'execute':_0x40e132=>T[_0x440815(0x716)](_0x40e132,_0x15496a)});_0x363053['status'](0xc8)[_0x440815(0x63a)](_0x120f16);})[_0x1e2bdf(0x78c)](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x66f)),..._0x37e902,async(_0x45d2f8,_0x59f1be)=>{const _0x3dbbf6=_0x1e2bdf;let _0x2dca69=_0x45d2f8[_0x3dbbf6(0x581)];f[_0x3dbbf6(0x6d2)]('request\x20received\x20in\x20editFlow'),f[_0x3dbbf6(0x6d2)](_0x3dbbf6(0x6b6)),f[_0x3dbbf6(0x6d2)](_0x45d2f8[_0x3dbbf6(0x581)]),delete _0x2dca69[_0x3dbbf6(0x325)],delete _0x2dca69[_0x3dbbf6(0x700)],delete _0x2dca69[_0x3dbbf6(0x310)],delete _0x2dca69['conditions'];let _0x504df6=await this[_0x3dbbf6(0x5f0)]({'request':_0x45d2f8,'schema':M,'ClassRef':E,'execute':_0x30c567=>T[_0x3dbbf6(0x721)](_0x30c567,_0x2dca69)});_0x59f1be['status'](0xc8)[_0x3dbbf6(0x63a)](_0x504df6);})[_0x1e2bdf(0x78c)](this['routerPath'](_0x1e2bdf(0x1d8)),..._0x37e902,async(_0x58d3da,_0x24b509)=>{const _0x18c794=_0x1e2bdf;let _0x10f043=_0x58d3da[_0x18c794(0x581)];f['verbose'](_0x18c794(0x6b3)),f[_0x18c794(0x6d2)](_0x18c794(0x6b6)),f[_0x18c794(0x6d2)](_0x58d3da['body']);let _0x4150e1=await this[_0x18c794(0x5f0)]({'request':_0x58d3da,'schema':M,'ClassRef':E,'execute':_0x354360=>T[_0x18c794(0x688)](_0x354360,_0x10f043)});_0x24b509[_0x18c794(0x23b)](0xc8)[_0x18c794(0x63a)](_0x4150e1);})[_0x1e2bdf(0x78c)](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x64d)),..._0x37e902,async(_0x24be7d,_0x2bec13)=>{const _0x13d105=_0x1e2bdf;let _0x3788c1=_0x24be7d[_0x13d105(0x581)];f[_0x13d105(0x6d2)](_0x13d105(0x6b3)),f[_0x13d105(0x6d2)]('request\x20body:\x20'),f[_0x13d105(0x6d2)](_0x24be7d[_0x13d105(0x581)]);let _0x3fd46f=await this[_0x13d105(0x5f0)]({'request':_0x24be7d,'schema':M,'ClassRef':E,'execute':_0x5b209d=>T[_0x13d105(0x667)](_0x5b209d,_0x3788c1)});_0x2bec13['status'](0xc8)[_0x13d105(0x63a)](_0x3fd46f);})[_0x1e2bdf(0x78c)](this['routerPath'](_0x1e2bdf(0x1a5)),..._0x37e902,async(_0x116312,_0x20ad0e)=>{const _0x44de2d=_0x1e2bdf;let _0x6f03ee=_0x116312['body'];f[_0x44de2d(0x6d2)]('request\x20received\x20in\x20editFlow'),f['verbose'](_0x44de2d(0x6b6)),f[_0x44de2d(0x6d2)](_0x116312[_0x44de2d(0x581)]);let _0x3c6ce7=await this[_0x44de2d(0x5f0)]({'request':_0x116312,'schema':M,'ClassRef':E,'execute':_0x4093ff=>T['editFlowVaredit'](_0x4093ff,_0x6f03ee)});_0x20ad0e[_0x44de2d(0x23b)](0xc8)[_0x44de2d(0x63a)](_0x3c6ce7);})[_0x1e2bdf(0x78c)](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x197)),..._0x37e902,async(_0x21aa3a,_0x12a954)=>{const _0x42bc8c=_0x1e2bdf;let _0x58ffd8=_0x21aa3a[_0x42bc8c(0x581)];f[_0x42bc8c(0x6d2)](_0x42bc8c(0x575)),f[_0x42bc8c(0x6d2)](_0x42bc8c(0x6b6)),f[_0x42bc8c(0x6d2)](_0x21aa3a[_0x42bc8c(0x581)]);let _0x13de59=await this[_0x42bc8c(0x5f0)]({'request':_0x21aa3a,'schema':M,'ClassRef':E,'execute':_0xa7d0c8=>T[_0x42bc8c(0x18f)](_0xa7d0c8,_0x58ffd8)});_0x12a954[_0x42bc8c(0x23b)](0xc8)[_0x42bc8c(0x63a)](_0x13de59);})['post'](this[_0x1e2bdf(0x227)]('editflowcondition'),..._0x37e902,async(_0x467e02,_0x4a5f71)=>{const _0x30cb51=_0x1e2bdf;let _0x5c9e98=_0x467e02[_0x30cb51(0x581)];f[_0x30cb51(0x6d2)](_0x30cb51(0x3bd)),f[_0x30cb51(0x6d2)](_0x30cb51(0x6b6)),f[_0x30cb51(0x6d2)](_0x467e02['body']);let _0x33f4a0=await this[_0x30cb51(0x5f0)]({'request':_0x467e02,'schema':M,'ClassRef':E,'execute':_0x21d4ae=>T[_0x30cb51(0x46f)](_0x21d4ae,_0x5c9e98)});_0x4a5f71['status'](0xc8)[_0x30cb51(0x63a)](_0x33f4a0);})[_0x1e2bdf(0x78c)](this[_0x1e2bdf(0x227)]('editflowvariable'),..._0x37e902,async(_0xa3b827,_0x4808ee)=>{const _0x51ecda=_0x1e2bdf;let _0x5746f7=_0xa3b827['body'];f[_0x51ecda(0x6d2)](_0x51ecda(0x479)),f['verbose'](_0x51ecda(0x6b6)),f[_0x51ecda(0x6d2)](_0xa3b827['body']);let _0x132283=await this[_0x51ecda(0x5f0)]({'request':_0xa3b827,'schema':M,'ClassRef':E,'execute':_0x3b8885=>T[_0x51ecda(0x31c)](_0x3b8885,_0x5746f7)});_0x4808ee['status'](0xc8)[_0x51ecda(0x63a)](_0x132283);})['post'](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x327)),..._0x37e902,async(_0x1f4ecf,_0x3ad4ae)=>{const _0x50bbd0=_0x1e2bdf;let _0x5d3c0c=_0x1f4ecf[_0x50bbd0(0x581)];f[_0x50bbd0(0x6d2)]('request\x20received\x20in\x20getFlow'),f[_0x50bbd0(0x6d2)](_0x50bbd0(0x6b6)),f[_0x50bbd0(0x6d2)](_0x1f4ecf[_0x50bbd0(0x581)]);let _0x2e0f93=await this['dataValidate']({'request':_0x1f4ecf,'schema':M,'ClassRef':E,'execute':_0x1305a6=>T[_0x50bbd0(0x319)](_0x1305a6,_0x5d3c0c)});_0x3ad4ae[_0x50bbd0(0x23b)](0xc8)[_0x50bbd0(0x63a)](_0x2e0f93);})[_0x1e2bdf(0x57d)](this[_0x1e2bdf(0x227)](_0x1e2bdf(0x159)),..._0x37e902,async(_0x170fa2,_0x195540)=>{const _0x56122e=_0x1e2bdf;let _0x5bca71=_0x170fa2['body'];f[_0x56122e(0x6d2)](_0x56122e(0x7a7)),f['verbose']('request\x20body:\x20'),f['verbose'](_0x170fa2[_0x56122e(0x581)]);let _0x2989a1=await this['dataValidate']({'request':_0x170fa2,'schema':M,'ClassRef':E,'execute':_0x236c70=>T[_0x56122e(0x232)](_0x236c70,_0x5bca71)});_0x195540[_0x56122e(0x23b)](0xc8)['json'](_0x2989a1);})[_0x1e2bdf(0x489)](this[_0x1e2bdf(0x227)]('allflows'),..._0x37e902,async(_0x3f12f0,_0x3a6538)=>{const _0x803b52=_0x1e2bdf;f[_0x803b52(0x6d2)]('request\x20received\x20in\x20allFlows');let _0xc312d8=await this[_0x803b52(0x5f0)]({'request':_0x3f12f0,'schema':M,'ClassRef':E,'execute':_0x7b4e74=>T['allFlows'](_0x7b4e74)});_0x3a6538['status'](0xc8)[_0x803b52(0x63a)](_0xc312d8);});}},co=R(require('path')),X={};function ro(_0xa199ab,_0x1e0e34,_0x9da8cf,_0xf1e87d){X[_0xa199ab]||(X[_0xa199ab]={}),X[_0xa199ab][_0x1e0e34]={'id':_0x1e0e34,'response':_0x9da8cf,'events':_0xf1e87d};}function io(_0x1ba49c,_0x41c84f){!X[_0x1ba49c]||!X[_0x1ba49c][_0x41c84f]||delete X[_0x1ba49c][_0x41c84f];}function J(_0x242530,_0x15ff17,_0x5482b8){const _0xa15736=a0_0xc64edb;if(!X[_0x242530])return;let _0x572018=_0xa15736(0x634)+JSON[_0xa15736(0x188)](_0x5482b8)+'\x0a\x0a';Object[_0xa15736(0x4d5)](X[_0x242530])[_0xa15736(0x2d6)](_0x212026=>{const _0x2be7d5=_0xa15736;_0x212026['events']['includes'](_0x15ff17)&&_0x212026[_0x2be7d5(0x266)][_0x2be7d5(0x21c)](_0x572018);});}function no(){const _0xca4b85=a0_0xc64edb;let _0x409eb5={};for(let _0x21a24c in X)_0x409eb5[_0x21a24c]=Object[_0xca4b85(0x4d5)](X[_0x21a24c])[_0xca4b85(0x483)](_0x38767a=>({'id':_0x38767a['id'],'events':_0x38767a[_0xca4b85(0x31a)]}));return _0x409eb5;}var lo=require(a0_0xc64edb(0x423)),ws=require(a0_0xc64edb(0x340)),fs=class{},cr=new ws[(a0_0xc64edb(0x6f1))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),lr=new ws[(a0_0xc64edb(0x6f1))]({'_id':{'type':String,'default':a0_0xc64edb(0x1d9)},'WebhookGlobal':{'type':cr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.['model'](fs[a0_0xc64edb(0x219)],lr,a0_0xc64edb(0x245)),ur=co['default']['join'](__dirname,a0_0xc64edb(0x1ab)),vt=(0x0,Mt['Router'])(),dr=b['get']('AUTHENTICATION')[a0_0xc64edb(0x406)],te=[ma,fa,ba[dr]];vt[a0_0xc64edb(0x43d)]('/media',Mt[a0_0xc64edb(0x324)][a0_0xc64edb(0x338)](ur))[a0_0xc64edb(0x489)](a0_0xc64edb(0x6b2),async(_0x5f26c5,_0x47c976)=>{const _0x2d4c82=a0_0xc64edb;console[_0x2d4c82(0x5f3)](_0x2d4c82(0x78a));let _0x3cb7eb=_0x5f26c5[_0x2d4c82(0x3d2)]['instance'],_0x41f212=(_0x5f26c5[_0x2d4c82(0x4f6)]['events']||'')[_0x2d4c82(0x13f)](','),_0x40a314=(0x0,lo['v4'])();console[_0x2d4c82(0x5f3)](_0x2d4c82(0x696),_0x3cb7eb),console['log'](_0x2d4c82(0x3ac),_0x41f212);let _0x2e0f70=b[_0x2d4c82(0x489)](_0x2d4c82(0x69c))[_0x2d4c82(0x354)],_0x1c5632=_0x5f26c5['query'][_0x2d4c82(0x47e)];if(console['log'](_0x2d4c82(0x600),_0x1c5632),_0x2e0f70[_0x2d4c82(0x532)]!==_0x1c5632){console[_0x2d4c82(0x5f3)](_0x2d4c82(0x71e));try{let _0x418096=await ce[_0x2d4c82(0x784)]['find'](_0x3cb7eb);if(console[_0x2d4c82(0x5f3)](_0x2d4c82(0x32e),_0x418096),!_0x418096||_0x418096[_0x2d4c82(0x47e)]!==_0x1c5632)return console[_0x2d4c82(0x5f3)](_0x2d4c82(0x14b)),_0x47c976[_0x2d4c82(0x23b)](0x191)[_0x2d4c82(0x621)]('API\x20Key\x20inválida.');}catch(_0x7a5fa){return console[_0x2d4c82(0x170)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x7a5fa),_0x47c976[_0x2d4c82(0x23b)](0x191)[_0x2d4c82(0x621)](_0x2d4c82(0x155));}}if(!await We(_0x3cb7eb))return _0x47c976[_0x2d4c82(0x23b)](0x194)[_0x2d4c82(0x621)](_0x2d4c82(0x5b7));_0x47c976[_0x2d4c82(0x2c1)](_0x2d4c82(0x318),'text/event-stream'),_0x47c976[_0x2d4c82(0x2c1)](_0x2d4c82(0x6f9),_0x2d4c82(0x26e)),_0x47c976['setHeader']('Connection',_0x2d4c82(0x29f)),_0x47c976[_0x2d4c82(0x537)]();let _0x3c9979='data:\x20'+JSON['stringify']({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x47c976[_0x2d4c82(0x21c)](_0x3c9979),ro(_0x3cb7eb,_0x40a314,_0x47c976,_0x41f212),_0x5f26c5['on'](_0x2d4c82(0x2d8),()=>{const _0x391e71=_0x2d4c82;console[_0x391e71(0x5f3)](_0x391e71(0x44f)+_0x3cb7eb),io(_0x3cb7eb,_0x40a314);});}),vt[a0_0xc64edb(0x489)](a0_0xc64edb(0x3bb),(_0x3cfb79,_0x5b3a96)=>{const _0x235648=a0_0xc64edb;let _0x5a5363=no();_0x5b3a96[_0x235648(0x63a)](_0x5a5363);})[a0_0xc64edb(0x489)]('/',(_0xa7ccb6,_0x28a40d)=>{const _0x1fd444=a0_0xc64edb;let _0xc57e27=b[_0x1fd444(0x489)]('SSL_CONF'),_0x40e988=_0xc57e27&&_0xc57e27['FULLCHAIN'][_0x1fd444(0x13f)]('/')[0x4];if(_0x40e988){let _0x169f58=encodeURIComponent(_0x1fd444(0x6c3)+_0x40e988);_0x28a40d[_0x1fd444(0x5b0)](_0x1fd444(0x425)+_0x169f58);}else _0x28a40d[_0x1fd444(0x5b0)](_0x1fd444(0x30d));})[a0_0xc64edb(0x3ad)](a0_0xc64edb(0x346),...te,async(_0x1af34c,_0x277564)=>{const _0x212f62=a0_0xc64edb;try{console[_0x212f62(0x5f3)](_0x212f62(0x414)),_0x277564[_0x212f62(0x23b)](0xc8)[_0x212f62(0x63a)]({'message':_0x212f62(0x1b8)}),_0x277564['on'](_0x212f62(0x359),()=>process[_0x212f62(0x526)](0x0));}catch(_0x1e8ece){console[_0x212f62(0x170)](_0x212f62(0x286),_0x1e8ece),_0x277564[_0x212f62(0x23b)](0x1f4)[_0x212f62(0x63a)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0xc64edb(0x3ad)](a0_0xc64edb(0x1cc),...te,async(_0x2cbaba,_0x5d035f)=>{const _0x298914=a0_0xc64edb;try{let _0x5161e5=_0x2cbaba[_0x298914(0x581)];await we[_0x298914(0x41e)]({},{'$set':_0x5161e5},{'upsert':!0x0});let _0x29a82a=await we[_0x298914(0x671)]();_0x5d035f[_0x298914(0x63a)](_0x29a82a);}catch(_0x4cce7c){_0x5d035f[_0x298914(0x23b)](0x190)['send'](_0x4cce7c['message']);}})['get'](a0_0xc64edb(0x1cc),...te,async(_0x2463b2,_0x5537f0)=>{const _0x4fb6bc=a0_0xc64edb;try{let _0x10336e=await we[_0x4fb6bc(0x671)]();if(!_0x10336e)return _0x5537f0[_0x4fb6bc(0x63a)]({});_0x5537f0[_0x4fb6bc(0x63a)](_0x10336e);}catch(_0x4e3893){_0x5537f0['status'](0x1f4)[_0x4fb6bc(0x621)](_0x4e3893[_0x4fb6bc(0x261)]);}})['use'](a0_0xc64edb(0x631),new ct(b,...te)[a0_0xc64edb(0x3ff)])[a0_0xc64edb(0x43d)]('/message',new bt(...te)[a0_0xc64edb(0x3ff)])[a0_0xc64edb(0x43d)](a0_0xc64edb(0x440),new Xe(...te)[a0_0xc64edb(0x3ff)])[a0_0xc64edb(0x43d)]('/group',new nt(...te)[a0_0xc64edb(0x3ff)])['use'](a0_0xc64edb(0x778),new Et(...te)[a0_0xc64edb(0x3ff)])[a0_0xc64edb(0x43d)]('/automate',new Ct(...te)[a0_0xc64edb(0x3ff)]);var m=class{constructor(..._0x37b815){const _0xef9d5b=a0_0xc64edb;throw{'status':0x190,'error':_0xef9d5b(0x24f),'message':_0x37b815[_0xef9d5b(0x593)]>0x0?_0x37b815:void 0x0};}},ee=class{constructor(..._0x1defc6){const _0x4fd056=a0_0xc64edb;throw{'status':0x191,'error':_0x4fd056(0x73d),'message':_0x1defc6[_0x4fd056(0x593)]>0x0?_0x1defc6:void 0x0};}},K=class{constructor(..._0xff4ec8){const _0x3e26fb=a0_0xc64edb;throw{'status':0x193,'error':_0x3e26fb(0x1ce),'message':_0xff4ec8[_0x3e26fb(0x593)]>0x0?_0xff4ec8:void 0x0};}},j=class{constructor(..._0x2e54e8){const _0x386573=a0_0xc64edb;throw{'status':0x194,'error':_0x386573(0x518),'message':_0x2e54e8[_0x386573(0x593)]>0x0?_0x2e54e8:void 0x0};}},O=class{constructor(..._0x351813){const _0x502225=a0_0xc64edb;throw{'status':0x1f4,'error':_0x502225(0x4c8),'message':_0x351813[_0x502225(0x593)]>0x0?_0x351813:void 0x0};}},ue=require(a0_0xc64edb(0x3c0));function a0_0x431f(_0x3a1b33,_0x1f1b7f){const _0x14d27b=a0_0x14d2();return a0_0x431f=function(_0x431f07,_0x5f13c3){_0x431f07=_0x431f07-0x13e;let _0x260ea0=_0x14d27b[_0x431f07];return _0x260ea0;},a0_0x431f(_0x3a1b33,_0x1f1b7f);}async function ys(_0x4c4f40){const _0x3eeae4=a0_0xc64edb;let _0x2298d6=new v(ys[_0x3eeae4(0x219)]),_0x280a6f=N[_0x3eeae4(0x5b9)](),_0x1b704b=_0x280a6f['db'](b[_0x3eeae4(0x489)](_0x3eeae4(0x5a1))[_0x3eeae4(0x595)][_0x3eeae4(0x292)]+'-instances')[_0x3eeae4(0x2b1)](_0x4c4f40),_0x3320b7=async(_0x203ab7,_0x34afe3)=>{const _0x3e69db=_0x3eeae4;try{return await _0x280a6f['connect'](),await _0x1b704b[_0x3e69db(0x163)]({'_id':_0x34afe3},JSON[_0x3e69db(0x439)](JSON[_0x3e69db(0x188)](_0x203ab7,ue[_0x3e69db(0x37e)]['replacer'])),{'upsert':!0x0});}catch{}},_0xd44edc=async _0x1e6c30=>{const _0x24c8ce=_0x3eeae4;try{await _0x280a6f[_0x24c8ce(0x4a7)]();let _0x33fcbc=await _0x1b704b[_0x24c8ce(0x671)]({'_id':_0x1e6c30}),_0x355c6b=JSON['stringify'](_0x33fcbc);return JSON[_0x24c8ce(0x439)](_0x355c6b,ue[_0x24c8ce(0x37e)][_0x24c8ce(0x598)]);}catch{}},_0x6d4b31=async _0x12a8b7=>{const _0x540d04=_0x3eeae4;try{return await _0x280a6f[_0x540d04(0x4a7)](),await _0x1b704b['deleteOne']({'_id':_0x12a8b7});}catch{}},_0x3f824e=await _0xd44edc(_0x3eeae4(0x573))||(0x0,ue[_0x3eeae4(0x349)])();return{'state':{'creds':_0x3f824e,'keys':{'get':async(_0x1ed167,_0x4fbcb5)=>{const _0x20ff4d=_0x3eeae4;let _0x1587b0={};return await Promise[_0x20ff4d(0x503)](_0x4fbcb5[_0x20ff4d(0x483)](async _0x4c1e8e=>{const _0x35d843=_0x20ff4d;let _0x4584c5=await _0xd44edc(_0x1ed167+'-'+_0x4c1e8e);_0x1ed167===_0x35d843(0x37d)&&_0x4584c5&&(_0x4584c5=ue[_0x35d843(0x2f6)][_0x35d843(0x3fd)][_0x35d843(0x5a8)][_0x35d843(0x48e)](_0x4584c5)),_0x1587b0[_0x4c1e8e]=_0x4584c5;})),_0x1587b0;},'set':async _0x2c5dce=>{let _0x533de6=[];for(let _0x420228 in _0x2c5dce)for(let _0x354099 in _0x2c5dce[_0x420228]){let _0x4c8a4f=_0x2c5dce[_0x420228][_0x354099],_0x5cbf8c=_0x420228+'-'+_0x354099;_0x533de6['push'](_0x4c8a4f?_0x3320b7(_0x4c8a4f,_0x5cbf8c):_0x6d4b31(_0x5cbf8c));}await Promise['all'](_0x533de6);}}},'saveCreds':async()=>_0x3320b7(_0x3f824e,_0x3eeae4(0x573))};}var Es=R(require(a0_0xc64edb(0x77b))),Cs=R(require(a0_0xc64edb(0x1d5))),Tt=require(a0_0xc64edb(0x3c0)),uo=require(a0_0xc64edb(0x1ef)),Rt=require(a0_0xc64edb(0x3c0)),Nt;function pr(_0x47d701){const _0x2dbeb3=a0_0xc64edb;return Nt||(Nt=(0x0,uo[_0x2dbeb3(0x314)])({'url':_0x47d701[_0x2dbeb3(0x4a1)]}),Nt[_0x2dbeb3(0x4a7)]()),Nt;}var oe=class c{constructor(_0x4820a7,_0x22b3ae){const _0x37ef42=a0_0xc64edb;this[_0x37ef42(0x4b9)]=_0x4820a7,this[_0x37ef42(0x56f)]=_0x22b3ae,this['logger']=new v(c[_0x37ef42(0x219)]),this['client']=pr(_0x4820a7);}set[a0_0xc64edb(0x402)](_0x1dc47c){const _0x5979ce=a0_0xc64edb;this[_0x5979ce(0x56f)]=_0x1dc47c;}async['instanceKeys'](){const _0x1516b8=a0_0xc64edb;try{return await this[_0x1516b8(0x4e7)][_0x1516b8(0x3db)]([_0x1516b8(0x3dc),this[_0x1516b8(0x4b9)][_0x1516b8(0x55f)]+':*']);}catch(_0x197c28){this['logger']['error'](_0x197c28);}}async['writeData'](_0x1bb583,_0x3bd15e){const _0x4f5e37=a0_0xc64edb;try{let _0x1dab48=JSON[_0x4f5e37(0x188)](_0x3bd15e,Rt['BufferJSON'][_0x4f5e37(0x22b)]);return await this['client'][_0x4f5e37(0x4dd)](this[_0x4f5e37(0x4b9)][_0x4f5e37(0x55f)]+':'+this[_0x4f5e37(0x56f)],_0x1bb583,_0x1dab48);}catch(_0x553f7a){this[_0x4f5e37(0x616)][_0x4f5e37(0x170)](_0x553f7a);}}async['getAllData'](){const _0x2a4eff=a0_0xc64edb;try{let _0x52cfa7=await this[_0x2a4eff(0x4e7)][_0x2a4eff(0x6e5)](this[_0x2a4eff(0x4b9)][_0x2a4eff(0x55f)]+':'+this['instanceName']);if(_0x52cfa7){for(let _0x1afd44 in _0x52cfa7)Object[_0x2a4eff(0x4cb)][_0x2a4eff(0x3c7)][_0x2a4eff(0x332)](_0x52cfa7,_0x1afd44)&&(_0x52cfa7[_0x1afd44]=JSON[_0x2a4eff(0x439)](_0x52cfa7[_0x1afd44],Rt['BufferJSON'][_0x2a4eff(0x598)]));return _0x52cfa7;}}catch(_0x21e4a0){this['logger']['error'](_0x21e4a0);}}async[a0_0xc64edb(0x524)](_0x4cdd86){const _0x16be2b=a0_0xc64edb;try{let _0x3779e1=await this[_0x16be2b(0x4e7)]['hGet'](this[_0x16be2b(0x4b9)][_0x16be2b(0x55f)]+':'+this[_0x16be2b(0x56f)],_0x4cdd86);if(_0x3779e1)return JSON[_0x16be2b(0x439)](_0x3779e1,Rt[_0x16be2b(0x37e)][_0x16be2b(0x598)]);}catch(_0x192700){this[_0x16be2b(0x616)][_0x16be2b(0x170)](_0x192700);}}async[a0_0xc64edb(0x62d)](_0x4294d7){const _0x12b425=a0_0xc64edb;try{return await this[_0x12b425(0x4e7)][_0x12b425(0x3af)](this['redisEnv'][_0x12b425(0x55f)]+':'+this['instanceName'],_0x4294d7);}catch(_0x58bc53){this['logger']['error'](_0x58bc53);}}async['delAll'](_0x2afaf0){const _0x7fae79=a0_0xc64edb;try{return await this[_0x7fae79(0x4e7)]['del'](_0x2afaf0||this[_0x7fae79(0x4b9)]['PREFIX_KEY']+':'+this[_0x7fae79(0x56f)]);}catch(_0x171404){this['logger'][_0x7fae79(0x170)](_0x171404);}}};async function bs(_0x134d52,_0x2d6031){const _0x2d2b6a=a0_0xc64edb;let _0x24ed7d=new v(bs['name']),_0x3b2794=new oe(_0x134d52,_0x2d6031),_0x30d1f8=async(_0x380f57,_0xf462b9)=>{const _0x159c0d=a0_0x431f;try{return await _0x3b2794[_0x159c0d(0x222)](_0xf462b9,_0x380f57);}catch(_0x46c1a5){return _0x24ed7d[_0x159c0d(0x170)]({'localError':'writeData','error':_0x46c1a5});}},_0x38b64c=async _0x42f152=>{const _0x23a1ac=a0_0x431f;try{return await _0x3b2794['readData'](_0x42f152);}catch(_0x5829b9){_0x24ed7d[_0x23a1ac(0x170)]({'readData':_0x23a1ac(0x222),'error':_0x5829b9});return;}},_0x14bac9=async _0x537e0e=>{const _0x41cec1=a0_0x431f;try{return await _0x3b2794[_0x41cec1(0x62d)](_0x537e0e);}catch(_0x2da299){_0x24ed7d['error']({'readData':'removeData','error':_0x2da299});}},_0x182785=await _0x38b64c(_0x2d2b6a(0x573))||(0x0,Tt[_0x2d2b6a(0x349)])();return{'state':{'creds':_0x182785,'keys':{'get':async(_0x24b0be,_0x2e1895)=>{let _0x41aa23={};return await Promise['all'](_0x2e1895['map'](async _0x230120=>{const _0x3821be=a0_0x431f;let _0x7be8c2=await _0x38b64c(_0x24b0be+'-'+_0x230120);_0x24b0be==='app-state-sync-key'&&_0x7be8c2&&(_0x7be8c2=Tt[_0x3821be(0x2f6)][_0x3821be(0x3fd)][_0x3821be(0x5a8)][_0x3821be(0x48e)](_0x7be8c2)),_0x41aa23[_0x230120]=_0x7be8c2;})),_0x41aa23;},'set':async _0x3a6697=>{const _0x59211c=_0x2d2b6a;let _0x2407d1=[];for(let _0x250ab8 in _0x3a6697)for(let _0x31442a in _0x3a6697[_0x250ab8]){let _0x5cf510=_0x3a6697[_0x250ab8][_0x31442a],_0x3a3548=_0x250ab8+'-'+_0x31442a;_0x2407d1[_0x59211c(0x4c1)](_0x5cf510?await _0x30d1f8(_0x5cf510,_0x3a3548):await _0x14bac9(_0x3a3548));}await Promise['all'](_0x2407d1);}}},'saveCreds':async()=>await _0x30d1f8(_0x182785,_0x2d2b6a(0x573))};}var L=R(require('fs')),Me=require(a0_0xc64edb(0x423)),xt=R(require('sharp')),Dt=require(a0_0xc64edb(0x560)),hr=a0_0xc64edb(0x68d)[a0_0xc64edb(0x72f)](),At=hr[a0_0xc64edb(0x13f)]('\x0a')[a0_0xc64edb(0x483)](_0x1d8e74=>{const _0x57a43b=a0_0xc64edb;let _0x443d52=_0x1d8e74[_0x57a43b(0x13f)](':');return{'host':_0x443d52[0x0],'port':_0x443d52[0x1],'username':_0x443d52[0x2],'password':_0x443d52[0x3],'protocol':_0x57a43b(0x6a7)};});function po(_0x2b010b){const _0x302e95=a0_0xc64edb;let _0x4df55c=At[_0x302e95(0x670)](_0x25cef0=>_0x25cef0[_0x302e95(0x56d)]===_0x2b010b);return _0x4df55c||null;}function ho(){const _0x4ec7e4=a0_0xc64edb;if(At['length']===0x0)return null;let _0x20a8d7=Math[_0x4ec7e4(0x234)](Math[_0x4ec7e4(0x17b)]()*At['length']);return At[_0x20a8d7];}function go(_0x3b9f37){const _0x59da2f=a0_0xc64edb;let _0x56c51e=_0x13edb5=>typeof _0x13edb5==_0x59da2f(0x470)&&_0x13edb5['length']>0x0,_0xad397e=_0x211723=>{let _0x48d9dd=parseInt(_0x211723,0xa);return!isNaN(_0x48d9dd)&&_0x48d9dd>0x0&&_0x48d9dd<=0xffff;},_0x4c0d54=_0x172ba5=>typeof _0x172ba5=='string'&&_0x172ba5['length']>0x0;return _0x3b9f37&&_0x56c51e(_0x3b9f37[_0x59da2f(0x56d)])&&_0xad397e(_0x3b9f37['port'])&&_0x4c0d54(_0x3b9f37[_0x59da2f(0x756)])&&_0x4c0d54(_0x3b9f37['password'])&&(_0x3b9f37[_0x59da2f(0x623)]===_0x59da2f(0x6a7)||_0x3b9f37['protocol']==='https');}var Eo=a0_0xc64edb(0x23c),Ms,re=null,mo=null,He=null,gr=0x3,mr=null;async function fr(){const _0x2405d1=a0_0xc64edb;let _0x4d9b71=await we[_0x2405d1(0x671)]();re=_0x4d9b71?.['WebhookGlobal']??null,mr=_0x4d9b71?.[_0x2405d1(0x709)]??null,Eo=_0x4d9b71?.[_0x2405d1(0x2e5)]??'Chrome',Ms=_0x4d9b71?.[_0x2405d1(0x509)]??vs??'uazapi',console[_0x2405d1(0x5f3)](_0x2405d1(0x3d3)),console[_0x2405d1(0x5f3)](_0x4d9b71);}async function wr(){await fr();}wr();function $(_0xa9c9){const _0x5ed5af=a0_0xc64edb;if(_0xa9c9[_0x5ed5af(0x1d3)]||_0xa9c9[_0x5ed5af(0x639)]){let _0x598ecd=_0xa9c9['viewOnceMessage']?_0xa9c9[_0x5ed5af(0x1d3)][_0x5ed5af(0x261)]:_0xa9c9[_0x5ed5af(0x639)]['message'];return(0x0,y[_0x5ed5af(0x488)])(_0x598ecd);}return _0xa9c9[_0x5ed5af(0x238)]?'pollCreationMessageV3':_0xa9c9[_0x5ed5af(0x235)]?_0x5ed5af(0x235):_0xa9c9[_0x5ed5af(0x27d)]?'viewOnceMessageV2Extension':(0x0,y[_0x5ed5af(0x488)])(_0xa9c9);}var fo={},ye=class c{constructor(_0x205448,_0x52a6d1,_0x15e2ad){const _0x30da79=a0_0xc64edb;this[_0x30da79(0x46b)]=_0x205448,this[_0x30da79(0x515)]=_0x52a6d1,this[_0x30da79(0x19b)]=_0x15e2ad,this[_0x30da79(0x3eb)]=null,this[_0x30da79(0x616)]=new v(c[_0x30da79(0x219)]),this[_0x30da79(0x2ca)]={},this[_0x30da79(0x79f)]={},this[_0x30da79(0x2cd)]={'state':_0x30da79(0x2d8)},this[_0x30da79(0x594)]=(0x0,F[_0x30da79(0x5be)])(ae,'downloads'),this[_0x30da79(0x287)]=new Cs['default'](),this[_0x30da79(0x6f0)]=new Cs[(_0x30da79(0x324))](),this['endSession']=!0x1,this['webhookMap']={'status.instance':_0x30da79(0x55e),'qrcode.updated':'/wa-qrcode','messages.upsert':'/wa-message','messages.update':'/wa-message-update','send.message':_0x30da79(0x649),'group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':'/wa-groups','connection.update':_0x30da79(0x55e),'messages.set':_0x30da79(0x649),'contacts.set':_0x30da79(0x771),'contacts.upsert':_0x30da79(0x771),'contacts.update':_0x30da79(0x771),'presence.update':'/wa-presence','chats.set':_0x30da79(0x715),'chats.update':_0x30da79(0x715),'chats.upsert':'/wa-chats','chats.delete':_0x30da79(0x715)},this[_0x30da79(0x3c4)]=0x0,this['reconnectTimestamps']=[],this[_0x30da79(0x629)]=0xf,this[_0x30da79(0x705)]=0x7530,this[_0x30da79(0x23e)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x316f3d,_0x3b6e90)=>{const _0x2a6091=_0x30da79;let _0x100f63=[];for await(let _0xc66758 of _0x316f3d)_0x100f63[_0x2a6091(0x4c1)]({'_id':_0xc66758['id'],'owner':this[_0x2a6091(0x2ca)][_0x2a6091(0x405)],'group':_0xc66758['id']['endsWith'](_0x2a6091(0x14d)),'name':_0xc66758[_0x2a6091(0x219)]||_0xc66758['displayName']||null,'contactname':null,'lastmsg':_0xc66758['conversationTimestamp']&&_0xc66758[_0x2a6091(0x689)][_0x2a6091(0x289)]()[_0x2a6091(0x593)]<0xd?_0xc66758[_0x2a6091(0x689)]*0x3e8:_0xc66758['conversationTimestamp']||null,'archived':_0xc66758[_0x2a6091(0x53b)]||!0x1,'unreadcount':_0xc66758[_0x2a6091(0x7ab)]||0x0});this[_0x2a6091(0x258)]('chats.upsert',_0x100f63);},'chats.update':async(_0x16cace,_0x1ab17c)=>{const _0x15bca8=_0x30da79;for(let _0x313e5e of _0x16cace){let _0x338fe7={'_id':_0x313e5e['id'],'owner':this[_0x15bca8(0x2ca)]['wuid'],'group':_0x313e5e['id']['endsWith']('@g.us'),'name':_0x313e5e[_0x15bca8(0x219)]||_0x313e5e['displayName'],'archived':_0x313e5e[_0x15bca8(0x53b)],'ephemeralExpiration':_0x313e5e[_0x15bca8(0x799)]},_0x3928e9=!0x1,_0x64ca15={};_0x338fe7['archived']!=null&&(this[_0x15bca8(0x616)][_0x15bca8(0x6d2)](this[_0x15bca8(0x56f)]+'\x20('+this[_0x15bca8(0x2ca)][_0x15bca8(0x405)]+_0x15bca8(0x199)+_0x313e5e[_0x15bca8(0x53b)]),_0x3928e9=!0x0,_0x64ca15[_0x15bca8(0x53b)]=_0x313e5e[_0x15bca8(0x53b)]),_0x313e5e[_0x15bca8(0x219)]!=null&&(this['logger'][_0x15bca8(0x6d2)](this[_0x15bca8(0x56f)]+'\x20('+this['instance']['wuid']+_0x15bca8(0x72b)+_0x313e5e[_0x15bca8(0x219)]),_0x3928e9=!0x0,_0x64ca15[_0x15bca8(0x219)]=_0x313e5e[_0x15bca8(0x219)]),_0x313e5e[_0x15bca8(0x587)]!=null&&(this[_0x15bca8(0x616)][_0x15bca8(0x6d2)](this[_0x15bca8(0x56f)]+'\x20('+this[_0x15bca8(0x2ca)][_0x15bca8(0x405)]+_0x15bca8(0x23d)+_0x313e5e[_0x15bca8(0x587)]),_0x3928e9=!0x0,_0x64ca15['name']=_0x313e5e[_0x15bca8(0x587)]);let _0x4dfc38;_0x3928e9&&(_0x4dfc38=await this[_0x15bca8(0x19b)]['chat']['updateOne']({'where':{'_id':_0x313e5e['id']}},_0x64ca15,this[_0x15bca8(0x2ca)]['wuid'])),_0x4dfc38&&J(this[_0x15bca8(0x56f)],_0x15bca8(0x78d),{'chat':_0x4dfc38});}},'chats.delete':async _0x380002=>{const _0x927208=_0x30da79;this[_0x927208(0x258)](_0x927208(0x435),[..._0x380002]);}},this[_0x30da79(0x421)]={'contacts.upsert':async(_0x4c6a1b,_0x3e486e)=>{const _0x82e1c9=_0x30da79;let _0x13e276=await this[_0x82e1c9(0x19b)][_0x82e1c9(0x70a)][_0x82e1c9(0x670)]({'where':{}},this[_0x82e1c9(0x2ca)][_0x82e1c9(0x405)]),_0x29faa6=[];for await(let _0x198a2c of _0x4c6a1b)_0x13e276[_0x82e1c9(0x670)](_0x83e064=>_0x83e064[_0x82e1c9(0x782)]===_0x198a2c['id'])||_0x29faa6[_0x82e1c9(0x4c1)]({'_id':_0x198a2c['id'],'pushName':_0x198a2c?.[_0x82e1c9(0x219)]||_0x198a2c?.[_0x82e1c9(0x1f3)],'owner':this[_0x82e1c9(0x2ca)][_0x82e1c9(0x405)]});this[_0x82e1c9(0x258)]('contacts.upsert',_0x29faa6),await this[_0x82e1c9(0x19b)]['contact'][_0x82e1c9(0x42d)](_0x29faa6);},'contacts.update':async(_0x5d0445,_0x4744b8)=>{const _0x2b2eb9=_0x30da79;let _0x43b0f5=[];for await(let _0x1809d4 of _0x5d0445)_0x43b0f5['push']({'_id':_0x1809d4['id'],'pushName':_0x1809d4?.['name']??_0x1809d4?.[_0x2b2eb9(0x1f3)],'owner':this[_0x2b2eb9(0x2ca)][_0x2b2eb9(0x405)]});this[_0x2b2eb9(0x258)]('contacts.update',_0x43b0f5);}},this[_0x30da79(0x635)]={'messaging-history.set':async({messages:_0x1d4582,chats:_0x4caddd,isLatest:_0x2e6ca6},_0x3be84a)=>{const _0x5cbd52=_0x30da79;if(_0x2e6ca6){let _0x48f2ba=await Promise['all'](_0x4caddd['map'](async _0x16da0a=>({'_id':_0x16da0a['id'],'owner':this[_0x5cbd52(0x2ca)][_0x5cbd52(0x405)],'group':_0x16da0a['id'][_0x5cbd52(0x6c0)](_0x5cbd52(0x14d)),'name':_0x16da0a[_0x5cbd52(0x219)]||_0x16da0a[_0x5cbd52(0x587)]||null,'contactname':null,'lastmsg':_0x16da0a[_0x5cbd52(0x689)]&&_0x16da0a[_0x5cbd52(0x689)]['toString']()[_0x5cbd52(0x593)]<0xd?_0x16da0a[_0x5cbd52(0x689)]*0x3e8:_0x16da0a['conversationTimestamp']||null,'archived':_0x16da0a[_0x5cbd52(0x53b)]||!0x1,'unreadcount':_0x16da0a[_0x5cbd52(0x7ab)]||0x0})));this[_0x5cbd52(0x258)](_0x5cbd52(0x4e2),_0x48f2ba),await this[_0x5cbd52(0x6f2)](_0x48f2ba,_0x3be84a);}let _0x36a2ca=[],_0x2871d1=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x37ab0e]of Object[_0x5cbd52(0x490)](_0x1d4582)){if(_0x37ab0e['message']?.[_0x5cbd52(0x65a)]||_0x37ab0e[_0x5cbd52(0x261)]?.['senderKeyDistributionMessage']||!_0x37ab0e[_0x5cbd52(0x261)]||_0x37ab0e[_0x5cbd52(0x241)][_0x5cbd52(0x2b0)]===_0x5cbd52(0x160)||(Es[_0x5cbd52(0x324)][_0x5cbd52(0x265)](_0x37ab0e?.['messageTimestamp'])&&(_0x37ab0e[_0x5cbd52(0x66b)]=_0x37ab0e[_0x5cbd52(0x66b)]?.['toNumber']()),_0x37ab0e['messageTimestamp']&&_0x37ab0e['messageTimestamp'][_0x5cbd52(0x289)]()[_0x5cbd52(0x593)]<0xd&&(_0x37ab0e['messageTimestamp']=_0x37ab0e[_0x5cbd52(0x66b)]*0x3e8),_0x37ab0e[_0x5cbd52(0x66b)]<_0x2871d1))continue;let {message_normalized:_0x442229}=this[_0x5cbd52(0x5aa)](_0x37ab0e[_0x5cbd52(0x261)],$(_0x37ab0e[_0x5cbd52(0x261)]),null);Object[_0x5cbd52(0x3dc)](_0x442229)[_0x5cbd52(0x593)]>0x0&&_0x36a2ca[_0x5cbd52(0x4c1)]({'_id':_0x37ab0e['key']['id'],'key':_0x37ab0e['key'],'pushName':_0x37ab0e[_0x5cbd52(0x333)],'participant':_0x37ab0e[_0x5cbd52(0x798)],'message':{..._0x37ab0e[_0x5cbd52(0x261)]},'messageType':$(_0x37ab0e[_0x5cbd52(0x261)]),'message_normalized':{'key':_0x37ab0e[_0x5cbd52(0x241)],'pushName':_0x37ab0e[_0x5cbd52(0x333)],'messageTimestamp':_0x37ab0e[_0x5cbd52(0x66b)],..._0x442229},'messageTimestamp':_0x37ab0e[_0x5cbd52(0x66b)],'owner':this[_0x5cbd52(0x2ca)]['wuid']});}_0x3be84a[_0x5cbd52(0x38b)]&&_0x36a2ca[_0x5cbd52(0x593)]>0x0&&(this[_0x5cbd52(0x616)][_0x5cbd52(0x6d2)](this['instanceName']+'\x20('+this[_0x5cbd52(0x2ca)][_0x5cbd52(0x405)]+_0x5cbd52(0x3f9)+_0x36a2ca[_0x5cbd52(0x593)]+_0x5cbd52(0x2c8)+this[_0x5cbd52(0x2ca)][_0x5cbd52(0x405)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x5cbd52(0x19b)]['message'][_0x5cbd52(0x42d)]([..._0x36a2ca],this[_0x5cbd52(0x2ca)][_0x5cbd52(0x405)])),this[_0x5cbd52(0x258)](_0x5cbd52(0x377),[..._0x36a2ca]),_0x1d4582=void 0x0;},'messages.upsert':async({messages:_0x52f084,type:_0x1f7e16},_0x16ff62)=>{const _0x2b8dcb=_0x30da79;let _0x1c261c=_0x52f084[0x0];if(_0x1f7e16!==_0x2b8dcb(0x65e)||!_0x1c261c?.['message']||_0x1c261c[_0x2b8dcb(0x261)]?.['protocolMessage']||_0x1c261c[_0x2b8dcb(0x261)][_0x2b8dcb(0x37a)]||_0x1c261c[_0x2b8dcb(0x241)][_0x2b8dcb(0x2b0)]===_0x2b8dcb(0x160))return;let _0x3ada20=null,_0x20ec58=null;try{_0x3ada20=await this[_0x2b8dcb(0x710)](_0x1c261c),_0x20ec58=_0x3ada20?_0x3ada20[_0x2b8dcb(0x5be)](','):null;}catch(_0x17480e){this[_0x2b8dcb(0x616)][_0x2b8dcb(0x6d2)](this[_0x2b8dcb(0x56f)]+'\x20('+this[_0x2b8dcb(0x2ca)]['wuid']+_0x2b8dcb(0x3f9)+(_0x17480e instanceof Error?_0x17480e[_0x2b8dcb(0x261)]:JSON[_0x2b8dcb(0x188)](_0x17480e,null,0x2))),_0x20ec58=_0x2b8dcb(0x4a9);}if(this[_0x2b8dcb(0x4e7)][_0x2b8dcb(0x4bf)](_0x2b8dcb(0x502)),Es[_0x2b8dcb(0x324)][_0x2b8dcb(0x265)](_0x1c261c[_0x2b8dcb(0x66b)])&&(_0x1c261c[_0x2b8dcb(0x66b)]=_0x1c261c[_0x2b8dcb(0x66b)]?.[_0x2b8dcb(0x36b)]()),this[_0x2b8dcb(0x79f)]?.[_0x2b8dcb(0x2ef)]&&_0x1c261c['key'][_0x2b8dcb(0x2b0)][_0x2b8dcb(0x4df)](_0x2b8dcb(0x14d))){this['logger'][_0x2b8dcb(0x6d2)](_0x2b8dcb(0x6c7));return;}_0x1c261c['messageTimestamp']&&_0x1c261c[_0x2b8dcb(0x66b)][_0x2b8dcb(0x289)]()['length']<0xd&&(_0x1c261c[_0x2b8dcb(0x66b)]=_0x1c261c[_0x2b8dcb(0x66b)]*0x3e8);let _0x33dd6d=_0x1c261c[_0x2b8dcb(0x261)],{messageContent:_0x8052a9,message_normalized:_0x46c383}=this[_0x2b8dcb(0x5aa)](_0x33dd6d,$(_0x1c261c[_0x2b8dcb(0x261)]),_0x20ec58);_0x8052a9||console[_0x2b8dcb(0x170)]('Mensagem\x20não\x20suportada');let _0x1dec9e={'_id':_0x1c261c[_0x2b8dcb(0x241)]['id'],'key':_0x1c261c[_0x2b8dcb(0x241)],'pushName':_0x1c261c[_0x2b8dcb(0x333)],'message':{..._0x1c261c[_0x2b8dcb(0x261)]},'messageType':$(_0x1c261c[_0x2b8dcb(0x261)]),'message_normalized':{'key':_0x1c261c['key'],'pushName':_0x1c261c[_0x2b8dcb(0x333)],'messageTimestamp':_0x1c261c['messageTimestamp'],'source':(0x0,y['getDevice'])(_0x1c261c[_0x2b8dcb(0x241)]['id']),..._0x46c383},'messageTimestamp':_0x1c261c['messageTimestamp'],'owner':this[_0x2b8dcb(0x2ca)][_0x2b8dcb(0x405)],'source':(0x0,y[_0x2b8dcb(0x568)])(_0x1c261c[_0x2b8dcb(0x241)]['id'])};this[_0x2b8dcb(0x616)][_0x2b8dcb(0x5f3)](_0x1dec9e),await this[_0x2b8dcb(0x19b)][_0x2b8dcb(0x261)][_0x2b8dcb(0x42d)]([_0x1dec9e],this[_0x2b8dcb(0x2ca)]['wuid']),this[_0x2b8dcb(0x258)]('messages.upsert',_0x1dec9e),J(this[_0x2b8dcb(0x56f)],'messages',{'message':_0x1dec9e}),_0x1c261c[_0x2b8dcb(0x241)][_0x2b8dcb(0x2b0)]!=='status@broadcast'&&await this[_0x2b8dcb(0x48f)](_0x16ff62,_0x1dec9e,'MESSAGES_UPSERT');},'messages.update':async(_0x459b88,_0x515234)=>{const _0x2b1dd9=_0x30da79;let _0x4e5bca={0x0:_0x2b1dd9(0x6ba),0x1:_0x2b1dd9(0x2b4),0x2:_0x2b1dd9(0x259),0x3:_0x2b1dd9(0x557),0x4:_0x2b1dd9(0x5c1),0x5:_0x2b1dd9(0x788)};for await(let {key:_0x38fd26,update:_0x556d26}of _0x459b88){if(this[_0x2b1dd9(0x79f)]?.[_0x2b1dd9(0x2ef)]&&_0x38fd26['remoteJid'][_0x2b1dd9(0x4df)]('@g.us')){this['logger']['verbose'](_0x2b1dd9(0x6c7));return;}if(_0x38fd26[_0x2b1dd9(0x2b0)]!==_0x2b1dd9(0x160)){let _0x109cbb=Date[_0x2b1dd9(0x550)](),_0x3399c4;_0x556d26[_0x2b1dd9(0x261)]===null&&_0x556d26['status']===void 0x0?_0x3399c4=_0x2b1dd9(0x525):_0x3399c4=_0x4e5bca[_0x556d26['status']];let _0x4f47ea=_0x38fd26[_0x2b1dd9(0x2b0)]['replace'](/:\d{1,2}@/g,'@'),_0x1c64a3={..._0x38fd26,'remoteJid':_0x4f47ea,'status':_0x3399c4,'datetime':_0x109cbb,'owner':this[_0x2b1dd9(0x2ca)][_0x2b1dd9(0x405)]};this['sendDataWebhook'](_0x2b1dd9(0x38e),_0x1c64a3),await this[_0x2b1dd9(0x1db)](_0x38fd26,_0x1c64a3);}}},'labels.association':async({type:_0x1d18d2,association:_0x1cb892})=>{const _0x3bbe97=_0x30da79;if(_0x1cb892[_0x3bbe97(0x326)]==='label_jid'){let _0x15064f,_0x1a6fa8=0x0;for(;!_0x15064f&&_0x1a6fa8<this[_0x3bbe97(0x411)];)_0x15064f=await this['repository'][_0x3bbe97(0x3d8)]['findOne']({'where':{'_id':_0x1cb892['chatId']}},this[_0x3bbe97(0x2ca)][_0x3bbe97(0x405)]),_0x15064f||(_0x1a6fa8++,console[_0x3bbe97(0x5f3)](_0x3bbe97(0x78f)+_0x1cb892[_0x3bbe97(0x3fc)]+_0x3bbe97(0x42e)+this[_0x3bbe97(0x5fe)]+'ms\x20(Attempt\x20'+_0x1a6fa8+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x3bbe97(0x407)](this[_0x3bbe97(0x5fe)]));if(!_0x15064f){console['error'](_0x3bbe97(0x561)+_0x1cb892[_0x3bbe97(0x3fc)]+'\x20after\x20'+this[_0x3bbe97(0x411)]+_0x3bbe97(0x731));return;}switch(_0x1d18d2){case _0x3bbe97(0x303):console['log'](_0x1cb892),await this[_0x3bbe97(0x19b)][_0x3bbe97(0x3d8)]['updateOne']({'where':{'_id':_0x1cb892['chatId']}},{'leadInfo.etiquetas':_0x1cb892[_0x3bbe97(0x365)]},this[_0x3bbe97(0x2ca)]['wuid'],void 0x0,'$addToSet');break;case _0x3bbe97(0x73c):console[_0x3bbe97(0x5f3)](_0x1cb892),await this['repository'][_0x3bbe97(0x3d8)][_0x3bbe97(0x41e)]({'where':{'_id':_0x1cb892['chatId']}},{'leadInfo.etiquetas':_0x1cb892[_0x3bbe97(0x365)]},this[_0x3bbe97(0x2ca)]['wuid'],void 0x0,_0x3bbe97(0x789));break;default:console[_0x3bbe97(0x170)](_0x3bbe97(0x569)+_0x1d18d2+']');}}},'labels.edit':async _0x3a0067=>{const _0xfa6ca4=_0x30da79;if(!_0x3a0067||!_0x3a0067['id']){console['error'](_0xfa6ca4(0x484));return;}if(!_0x3a0067[_0xfa6ca4(0x5ec)]){let _0x2649a7=[_0xfa6ca4(0x2d7),_0xfa6ca4(0x6d8),'#fed428',_0xfa6ca4(0x3b5),_0xfa6ca4(0x79a),_0xfa6ca4(0x4fc),_0xfa6ca4(0x6ac),'#d3a91f',_0xfa6ca4(0x6ef),_0xfa6ca4(0x24a),_0xfa6ca4(0x4c5),_0xfa6ca4(0x73f),_0xfa6ca4(0x142),'#f64847',_0xfa6ca4(0x736),_0xfa6ca4(0x3ea),'#ffae04',_0xfa6ca4(0x1cb),_0xfa6ca4(0x1dd),_0xfa6ca4(0x43e)],_0x2fafd7;typeof _0x3a0067[_0xfa6ca4(0x53f)]==_0xfa6ca4(0x5d4)&&_0x3a0067[_0xfa6ca4(0x53f)]>=0x0&&_0x3a0067[_0xfa6ca4(0x53f)]<_0x2649a7[_0xfa6ca4(0x593)]?_0x2fafd7=_0x2649a7[_0x3a0067['color']]:(console['error'](_0xfa6ca4(0x38a),_0x3a0067[_0xfa6ca4(0x53f)]),_0x2fafd7='#000000');let _0x2d4a0e={'_id':_0x3a0067['id'],'colorHex':_0x2fafd7,'color':_0x3a0067?.[_0xfa6ca4(0x53f)],'name':_0x3a0067?.[_0xfa6ca4(0x219)],'owner':this['instance'][_0xfa6ca4(0x405)]};await this[_0xfa6ca4(0x19b)]['label'][_0xfa6ca4(0x41e)]({'where':{'_id':_0x3a0067['id']}},_0x2d4a0e,this[_0xfa6ca4(0x2ca)][_0xfa6ca4(0x405)]),console[_0xfa6ca4(0x5f3)]('Rótulo\x20atualizado:',_0x3a0067);}_0x3a0067[_0xfa6ca4(0x5ec)]&&(await this[_0xfa6ca4(0x19b)][_0xfa6ca4(0x66d)]['delete']({'where':{'_id':_0x3a0067['id']}},this[_0xfa6ca4(0x2ca)][_0xfa6ca4(0x405)]),console['log']('Rótulo\x20deletado:',_0x3a0067['id']));}},this[_0x30da79(0x4cf)]={'groups.upsert':_0x505fd3=>{const _0x203bb8=_0x30da79;this[_0x203bb8(0x258)](_0x203bb8(0x1a2),_0x505fd3);},'groups.update':_0x37b725=>{this['sendDataWebhook']('groups.update',_0x37b725);},'group-participants.update':_0x341b15=>{const _0xb6f573=_0x30da79;this[_0xb6f573(0x258)](_0xb6f573(0x60a),_0x341b15);}},this[_0x30da79(0x411)]=0x5,this[_0x30da79(0x5fe)]=0x7d0,this[_0x30da79(0x710)]=async _0x273b39=>{const _0xf3f018=_0x30da79;if(_0x273b39[_0xf3f018(0x261)]?.[_0xf3f018(0x337)]){let _0xb2570e=await this[_0xf3f018(0x181)](_0x273b39[_0xf3f018(0x261)][_0xf3f018(0x337)][_0xf3f018(0x45c)],!0x0);if(_0xb2570e){let _0x94d104=_0xb2570e[_0xf3f018(0x241)][_0xf3f018(0x792)]?this[_0xf3f018(0x2ca)]['wuid']+_0xf3f018(0x351):_0xb2570e[_0xf3f018(0x241)][_0xf3f018(0x798)]||_0xb2570e[_0xf3f018(0x241)][_0xf3f018(0x2b0)],_0x474782=_0xb2570e[_0xf3f018(0x241)]['id'],_0x1ef4fb=_0xb2570e['message'],_0x10b054=Buffer[_0xf3f018(0x674)](_0x1ef4fb[_0xf3f018(0x63d)][_0xf3f018(0x4c3)][_0xf3f018(0x289)](_0xf3f018(0x645)),_0xf3f018(0x645)),_0x213369=(0x0,y[_0xf3f018(0x6ab)])(_0x273b39[_0xf3f018(0x261)]['pollUpdateMessage']['vote'],{'pollCreatorJid':_0x94d104,'pollMsgId':_0x474782,'pollEncKey':_0x10b054,'voterJid':_0x273b39['key'][_0xf3f018(0x792)]?this[_0xf3f018(0x2ca)][_0xf3f018(0x405)]+'@s.whatsapp.net':_0x273b39['key'][_0xf3f018(0x2b0)][_0xf3f018(0x6c0)](_0xf3f018(0x252))?_0x273b39[_0xf3f018(0x241)][_0xf3f018(0x798)]:_0x273b39[_0xf3f018(0x241)]['remoteJid']}),_0x17c084=[],_0x582246=_0x213369['selectedOptions'][_0xf3f018(0x483)](_0x5ed8d0=>Buffer[_0xf3f018(0x674)](_0x5ed8d0)[_0xf3f018(0x289)](_0xf3f018(0x645)));for(let {optionName:_0x4bd382}of _0x1ef4fb[_0xf3f018(0x18b)]?.[_0xf3f018(0x73b)]||_0x1ef4fb[_0xf3f018(0x238)]?.[_0xf3f018(0x73b)]||_0x1ef4fb['pollCreationMessageV2']?.['options'])_0x582246[_0xf3f018(0x7ad)]((0x0,y[_0xf3f018(0x76f)])(Buffer[_0xf3f018(0x674)](_0x4bd382))['toString']('hex'))>-0x1&&_0x17c084[_0xf3f018(0x4c1)](_0x4bd382);return _0x17c084;}}return null;},this[_0x30da79(0x5aa)]=(_0x4f7ebf,_0x34760c,_0x4939c2)=>{const _0x2e2838=_0x30da79;try{let _0x262fc2=_0x34760c?_0x4f7ebf[_0x34760c]:void 0x0,_0x3b09cf={},_0x335b56=null,_0x4c2d0f=null,_0x2f8b3a=null;if(_0x4f7ebf[_0x2e2838(0x639)]?(_0x34760c=$(_0x4f7ebf[_0x2e2838(0x639)]['message']),_0x262fc2=_0x4f7ebf[_0x2e2838(0x639)][_0x2e2838(0x261)][_0x34760c]):_0x4f7ebf[_0x2e2838(0x27d)]?(_0x34760c=$(_0x4f7ebf['viewOnceMessageV2Extension'][_0x2e2838(0x261)]),_0x262fc2=_0x4f7ebf[_0x2e2838(0x27d)][_0x2e2838(0x261)][_0x34760c]):_0x4f7ebf[_0x2e2838(0x1d3)]?(_0x34760c=$(_0x4f7ebf[_0x2e2838(0x1d3)][_0x2e2838(0x261)]),_0x262fc2=_0x4f7ebf[_0x2e2838(0x1d3)][_0x2e2838(0x261)][_0x34760c]):_0x4f7ebf['ephemeralMessage']?(_0x34760c=$(_0x4f7ebf['message'][_0x2e2838(0x47d)][_0x2e2838(0x261)]),_0x262fc2=_0x4f7ebf['message'][_0x2e2838(0x47d)][_0x2e2838(0x261)][_0x34760c]):_0x4f7ebf['editedMessage']?.['message']?.['protocolMessage']?.[_0x2e2838(0x487)]?(_0x34760c=$(_0x4f7ebf[_0x2e2838(0x487)][_0x2e2838(0x261)][_0x2e2838(0x65a)][_0x2e2838(0x487)]),_0x335b56=_0x4f7ebf[_0x2e2838(0x487)][_0x2e2838(0x261)][_0x2e2838(0x65a)]['key']['id'],_0x262fc2=_0x4f7ebf[_0x2e2838(0x487)][_0x2e2838(0x261)][_0x2e2838(0x65a)]['editedMessage'][_0x34760c]):_0x262fc2=_0x4f7ebf[_0x34760c],!_0x34760c||!_0x262fc2)return console[_0x2e2838(0x170)](_0x2e2838(0x534),_0x4f7ebf),{'messageType':_0x34760c,'messageContent':_0x262fc2,'message_normalized':{}};_0x4f7ebf[_0x34760c]?.[_0x2e2838(0x65f)]?.[_0x2e2838(0x5ee)]&&_0x4f7ebf[_0x34760c]?.[_0x2e2838(0x65f)]?.[_0x2e2838(0x5f4)]&&(_0x4c2d0f=_0x4f7ebf[_0x34760c][_0x2e2838(0x65f)]['stanzaId']),_0x4f7ebf[_0x2e2838(0x5cf)]&&(_0x2f8b3a=_0x4f7ebf[_0x2e2838(0x5cf)][_0x2e2838(0x241)]['id']);let _0x48f6a0;if(_0x262fc2&&typeof _0x262fc2==_0x2e2838(0x41a)&&_0x2e2838(0x45c)in _0x262fc2&&({pollCreationMessageKey:_0x48f6a0}=_0x262fc2),_0x34760c===_0x2e2838(0x5bf)){let _0x12f407=_0x262fc2?.[_0x2e2838(0x261)]?.[_0x2e2838(0x4fa)];_0x12f407&&(_0x262fc2=_0x12f407);}if(_0x34760c===_0x2e2838(0x18b)||_0x34760c==='pollCreationMessageV2'||_0x34760c===_0x2e2838(0x238)){let _0x596cf4=_0x262fc2[_0x2e2838(0x73b)][_0x2e2838(0x483)](_0x301c03=>_0x301c03[_0x2e2838(0x583)])[_0x2e2838(0x5be)]('|');_0x3b09cf['convertedOptions']=_0x596cf4;}let _0xaf7810=_0x262fc2[_0x2e2838(0x219)]||_0x262fc2[_0x2e2838(0x61c)]||_0x262fc2[_0x2e2838(0x3cd)]||_0x262fc2['displayName'];if(_0x34760c===_0x2e2838(0x757)){_0xaf7810=(_0x262fc2[_0x2e2838(0x588)]||'')+'\x0a'+(_0x262fc2[_0x2e2838(0x4ec)]||'')+'\x0a'+(_0x262fc2[_0x2e2838(0x541)]||'');let _0x19c834=this[_0x2e2838(0x389)](_0x262fc2['sections']);_0x3b09cf[_0x2e2838(0x1e0)]=_0x19c834;}if(_0x34760c===_0x2e2838(0x379)&&(_0x4939c2=_0x262fc2[_0x2e2838(0x588)]),_0x262fc2['vcard']){let _0x124da3=this[_0x2e2838(0x205)](JSON['stringify'](_0x262fc2[_0x2e2838(0x74f)],null,0x2));_0xaf7810=_0xaf7810+'\x0a'+_0x124da3;}if(_0x262fc2){let {sections:_0x3b37d0,listType:_0x1b281d,displayName:_0x42fd51,vcard:_0x51b1ea,contactVcard:_0x581901,name:_0xc94570,caption:_0x1dc3a0,conversation:_0x719689,pollCreationMessageKey:_0x36eaa1,footerText:_0x4e1755,contentText:_0x30728a,pageCount:_0x15f7ed,headerType:_0x5391e7,isAvatar:_0x23e199,isAnimated:_0x1ff053,fallbackLc:_0xce4b7f,fallbackLg:_0x228b64,namespace:_0x53478f,elementName:_0x36e2b4,localizableParams:_0x5b3fd8,viewOnce:_0x63828c,height:_0x557684,width:_0x5ad780,key:_0x12f21f,firstScanLength:_0x3bc936,firstScanSidecar:_0x2779a4,gifPlayback:_0x28a9fb,gifAttribution:_0x1559c7,midQualityFileSha256:_0x48fd90,scansSidecar:_0x246468,streamingSidecar:_0x3c5d23,thumbnailHeight:_0x533bdb,thumbnailWidth:_0x4b4d5b,thumbnailEncSha256:_0x54f081,thumbnailDirectPath:_0x1556c0,canonicalUrl:_0x16756b,matchedText:_0x3527ec,previewType:_0x64ebb2,thumbnailSha256:_0x6c80ac,deviceListMetadataVersion:_0xd2c9e9,inviteLinkGroupTypeV2:_0x3cf9d7,interactiveAnnotations:_0x610116,scanLengths:_0xf94ee4,jpegThumbnail:_0xabf2b9,url:_0x24acf2,mediaKeyTimestamp:_0x5e654c,waveform:_0x48be15,stickerSentTs:_0x1673bf,firstFrameLength:_0x19cc74,fileEncSha256:_0x3f89ae,contextInfo:_0x12d877,firstFrameSidecar:_0x506c04,directPath:_0x1ba3ad,fileSha256:_0x7b6201,mediaKey:_0xf80d18,senderTimestampMs:_0x1351f1,..._0x153316}=_0x262fc2;(_0x34760c==='listMessage'||_0x34760c==='listResponseMessage')&&(delete _0x153316[_0x2e2838(0x588)],delete _0x153316['description']),typeof _0x262fc2==_0x2e2838(0x470)?_0x3b09cf={'text':_0x262fc2,'type':_0x34760c||_0x2e2838(0x3cd),..._0x335b56&&{'edited':_0x335b56},..._0x4c2d0f&&{'quoted':_0x4c2d0f},..._0x2f8b3a&&{'reaction':_0x2f8b3a}}:_0x3b09cf={'text':_0xaf7810,..._0x153316,..._0x34760c===_0x2e2838(0x337)?{'poll_id':_0x262fc2[_0x2e2838(0x45c)]['id'],'quoted':_0x262fc2['pollCreationMessageKey']['id'],'vote':_0x4939c2}:{},..._0x34760c===_0x2e2838(0x379)?{'vote':_0x4939c2}:{},'type':_0x34760c,..._0x335b56&&{'edited':_0x335b56},..._0x4c2d0f&&{'quoted':_0x4c2d0f},..._0x2f8b3a&&{'reaction':_0x2f8b3a},...(_0x34760c===_0x2e2838(0x18b)||_0x34760c===_0x2e2838(0x235)||_0x34760c===_0x2e2838(0x238)||_0x34760c===_0x2e2838(0x757))&&{'convertedOptions':_0x3b09cf['convertedOptions']}};}return{'messageType':_0x34760c,'messageContent':_0x262fc2,'message_normalized':_0x3b09cf};}catch(_0x3520f7){console[_0x2e2838(0x170)](_0x2e2838(0x172),_0x3520f7);}},this['processingScheduleMessageId']=null,this[_0x30da79(0x167)]=0x0,this[_0x30da79(0x1d2)]=null,(this[_0x30da79(0x329)](),this['instance'][_0x30da79(0x3fb)]={'count':0x0});}set[a0_0xc64edb(0x56f)](_0xcde9b2){const _0x2fd7e6=a0_0xc64edb;if(!_0xcde9b2){this[_0x2fd7e6(0x2ca)]['name']=(0x0,yo['v4'])();return;}this[_0x2fd7e6(0x2ca)][_0x2fd7e6(0x219)]=_0xcde9b2,this['sendDataWebhook'](_0x2fd7e6(0x1b2),{'instance':this['instance'][_0x2fd7e6(0x219)],'status':_0x2fd7e6(0x6d7)});}get[a0_0xc64edb(0x56f)](){const _0x389a1f=a0_0xc64edb;return this['instance'][_0x389a1f(0x219)];}get[a0_0xc64edb(0x405)](){const _0x4dd569=a0_0xc64edb;return this[_0x4dd569(0x2ca)][_0x4dd569(0x405)];}async[a0_0xc64edb(0x52c)](){const _0x20e749=a0_0xc64edb;let _0x4fbd76=this['client']['user']?.[_0x20e749(0x219)]??this[_0x20e749(0x4e7)][_0x20e749(0x3e6)]?.['verifiedName'];if(!_0x4fbd76){if(this['configService']['get'](_0x20e749(0x5a1))[_0x20e749(0x38b)]){let _0x138026=await N[_0x20e749(0x5b9)]()['db'](this[_0x20e749(0x46b)][_0x20e749(0x489)](_0x20e749(0x5a1))[_0x20e749(0x595)][_0x20e749(0x292)]+_0x20e749(0x30b))[_0x20e749(0x2b1)](this[_0x20e749(0x56f)])[_0x20e749(0x671)]({'_id':_0x20e749(0x573)});if(_0x138026){let _0x351b68=JSON[_0x20e749(0x439)](JSON[_0x20e749(0x188)](_0x138026),y[_0x20e749(0x37e)]['reviver']);_0x4fbd76=_0x351b68['me']?.[_0x20e749(0x219)]||_0x351b68['me']?.[_0x20e749(0x1f3)];}}else{if((0x0,ve['existsSync'])((0x0,F[_0x20e749(0x5be)])(ge,this['instanceName'],'creds.json'))){let _0x16b3d6=JSON[_0x20e749(0x439)]((0x0,ve[_0x20e749(0x5d3)])((0x0,F['join'])(ge,this[_0x20e749(0x56f)],'creds.json'),{'encoding':_0x20e749(0x4b6)}));_0x4fbd76=_0x16b3d6['me']?.[_0x20e749(0x219)]||_0x16b3d6['me']?.[_0x20e749(0x1f3)];}}}return _0x4fbd76;}get[a0_0xc64edb(0x176)](){const _0x565597=a0_0xc64edb;return this[_0x565597(0x2ca)][_0x565597(0x176)];}get[a0_0xc64edb(0x55c)](){const _0x58ff21=a0_0xc64edb;return{'pairingCode':this[_0x58ff21(0x2ca)][_0x58ff21(0x3fb)]?.[_0x58ff21(0x542)],'code':this['instance']['qrcode']?.[_0x58ff21(0x56c)],'base64':this['instance'][_0x58ff21(0x3fb)]?.[_0x58ff21(0x3f1)]};}async[a0_0xc64edb(0x2c6)](){const _0xd4b850=a0_0xc64edb;let _0x3fba37=await this[_0xd4b850(0x19b)][_0xd4b850(0x41f)][_0xd4b850(0x670)](this[_0xd4b850(0x56f)]);this[_0xd4b850(0x79f)][_0xd4b850(0x67c)]=_0x3fba37?.[_0xd4b850(0x67c)],this[_0xd4b850(0x79f)][_0xd4b850(0x143)]=_0x3fba37?.['enabled'],this[_0xd4b850(0x79f)][_0xd4b850(0x6fc)]=_0x3fba37?.[_0xd4b850(0x6fc)],this[_0xd4b850(0x79f)][_0xd4b850(0x5e4)]=_0x3fba37?.[_0xd4b850(0x5e4)],this[_0xd4b850(0x79f)]['QRCODE_UPDATED']=_0x3fba37?.[_0xd4b850(0x302)],this[_0xd4b850(0x79f)][_0xd4b850(0x52b)]=_0x3fba37?.[_0xd4b850(0x52b)],this[_0xd4b850(0x79f)][_0xd4b850(0x369)]=_0x3fba37?.[_0xd4b850(0x369)],this[_0xd4b850(0x79f)]['MESSAGES_UPDATE']=_0x3fba37?.[_0xd4b850(0x21b)],this[_0xd4b850(0x79f)]['GROUPS_UPSERT']=_0x3fba37?.[_0xd4b850(0x1f2)],this[_0xd4b850(0x79f)][_0xd4b850(0x21d)]=_0x3fba37?.[_0xd4b850(0x21d)],this[_0xd4b850(0x79f)]['GROUP_PARTICIPANTS_UPDATE']=_0x3fba37?.['GROUP_PARTICIPANTS_UPDATE'],this['localWebhook'][_0xd4b850(0x58b)]=_0x3fba37?.[_0xd4b850(0x58b)],this[_0xd4b850(0x79f)][_0xd4b850(0x5ca)]=_0x3fba37?.[_0xd4b850(0x5ca)],this[_0xd4b850(0x79f)][_0xd4b850(0x54c)]=_0x3fba37?.[_0xd4b850(0x54c)],this[_0xd4b850(0x79f)][_0xd4b850(0x6e8)]=_0x3fba37?.['CHATS_DELETE'],this['localWebhook']['CONTACTS_SET']=_0x3fba37?.['CONTACTS_SET'],this[_0xd4b850(0x79f)]['CONTACTS_UPSERT']=_0x3fba37?.[_0xd4b850(0x1c2)],this[_0xd4b850(0x79f)][_0xd4b850(0x31d)]=_0x3fba37?.[_0xd4b850(0x31d)],this[_0xd4b850(0x79f)][_0xd4b850(0x791)]=_0x3fba37?.['PRESENCE_UPDATE'],this[_0xd4b850(0x79f)][_0xd4b850(0x719)]=_0x3fba37?.[_0xd4b850(0x719)],this['localWebhook'][_0xd4b850(0x341)]=_0x3fba37?.[_0xd4b850(0x341)],this['localWebhook'][_0xd4b850(0x2ef)]=_0x3fba37?.[_0xd4b850(0x2ef)];}async[a0_0xc64edb(0x725)](_0x142c5c){const _0x4f5865=a0_0xc64edb;let _0x330310=[_0x4f5865(0x782),_0x4f5865(0x67c),'enabled',_0x4f5865(0x6fc),_0x4f5865(0x5e4),_0x4f5865(0x302),'MESSAGES_UPDATE',_0x4f5865(0x369),_0x4f5865(0x52b),_0x4f5865(0x1f2),_0x4f5865(0x21d),_0x4f5865(0x458),_0x4f5865(0x58b),_0x4f5865(0x5ca),_0x4f5865(0x54c),'CHATS_DELETE',_0x4f5865(0x711),_0x4f5865(0x1c2),_0x4f5865(0x31d),'PRESENCE_UPDATE','MESSAGES_SET',_0x4f5865(0x341),_0x4f5865(0x2ef)],_0x3b05e3={};return _0x330310[_0x4f5865(0x2d6)](_0x45edd5=>{_0x142c5c[_0x45edd5]!==void 0x0&&(_0x3b05e3[_0x45edd5]=_0x142c5c[_0x45edd5]);}),await this['repository'][_0x4f5865(0x41f)][_0x4f5865(0x171)](_0x3b05e3,this[_0x4f5865(0x56f)]),Object[_0x4f5865(0x34c)](this[_0x4f5865(0x79f)],_0x3b05e3),await this['repository']['webhook']['find'](this[_0x4f5865(0x56f)]);}async['findWebhook'](){const _0x2b5756=a0_0xc64edb;return await this['repository'][_0x2b5756(0x41f)][_0x2b5756(0x670)](this[_0x2b5756(0x56f)]);}async['sendDataWebhook'](_0x456c7e,_0x3a6275){const _0x539824=a0_0xc64edb;let _0x4c1f36=_0x456c7e['replace'](/[\.-]/gm,'_')[_0x539824(0x1c0)](),_0x4c4fb5=this[_0x539824(0x79f)][_0x539824(0x143)]&&(0x0,k[_0x539824(0x4f1)])(this[_0x539824(0x79f)][_0x539824(0x67c)])?this['localWebhook']['url']+(this['localWebhook'][_0x539824(0x6fc)]?this[_0x539824(0x146)][_0x456c7e]:''):null,_0x1097bb=this[_0x539824(0x79f)][_0x4c1f36],_0x151c20=re&&re['enabled']&&(0x0,k[_0x539824(0x4f1)])(re[_0x539824(0x67c)])?re['url']+(re[_0x539824(0x6fc)]?this[_0x539824(0x146)][_0x456c7e]:''):null,_0x11d52c=re?re[_0x4c1f36]:null;if(_0x1097bb&&_0x4c4fb5)try{await se[_0x539824(0x324)]['create']({'baseURL':_0x4c4fb5})[_0x539824(0x78c)]('',{'event':_0x456c7e,'instance':this[_0x539824(0x2ca)][_0x539824(0x219)],'data':_0x3a6275}),this[_0x539824(0x616)]['log'](_0x539824(0x433)+_0x456c7e+':\x20'+_0x4c4fb5);}catch(_0x2c7195){this[_0x539824(0x616)]['error'](this['instanceName']+'\x20('+this[_0x539824(0x2ca)][_0x539824(0x405)]+'):\x20'+{'local':c[_0x539824(0x219)]+_0x539824(0x206),'message':_0x2c7195?.[_0x539824(0x261)],'hostName':_0x2c7195?.['hostname'],'syscall':_0x2c7195?.['syscall'],'code':_0x2c7195?.[_0x539824(0x56c)],'error':_0x2c7195?.[_0x539824(0x37c)],'stack':_0x2c7195?.[_0x539824(0x361)],'name':_0x2c7195?.[_0x539824(0x219)]});}if(_0x11d52c&&_0x151c20)try{await se['default']['create']({'baseURL':_0x151c20})[_0x539824(0x78c)]('',{'event':_0x456c7e,'instance':this[_0x539824(0x2ca)]['name'],'data':_0x3a6275}),this[_0x539824(0x616)][_0x539824(0x5f3)](_0x539824(0x468)+_0x456c7e+':\x20'+_0x151c20);}catch(_0x151fa6){this['logger'][_0x539824(0x170)](this[_0x539824(0x56f)]+'\x20('+this[_0x539824(0x2ca)]['wuid']+'):\x20'+{'local':c[_0x539824(0x219)]+_0x539824(0x397),'message':_0x151fa6?.[_0x539824(0x261)],'hostName':_0x151fa6?.[_0x539824(0x6bc)],'syscall':_0x151fa6?.[_0x539824(0x422)],'code':_0x151fa6?.[_0x539824(0x56c)],'error':_0x151fa6?.['errno'],'stack':_0x151fa6?.['stack'],'name':_0x151fa6?.[_0x539824(0x219)]});}}async[a0_0xc64edb(0x6cd)]({qr:_0x3af3a7,connection:_0x12f3e7,lastDisconnect:_0x4f53f0}){const _0xc83de3=a0_0xc64edb;if(_0x3af3a7){if(this[_0xc83de3(0x2ca)]['qrcode'][_0xc83de3(0x464)]===gr)return this[_0xc83de3(0x258)](_0xc83de3(0x2e3),{'message':_0xc83de3(0x2e7),'statusCode':y[_0xc83de3(0x74a)][_0xc83de3(0x444)]}),this[_0xc83de3(0x2cd)]={'state':_0xc83de3(0x388),'statusReason':y[_0xc83de3(0x74a)][_0xc83de3(0x1bb)]},this['sendDataWebhook'](_0xc83de3(0x350),{'instance':this['instance'][_0xc83de3(0x219)],...this[_0xc83de3(0x2cd)]}),this['sendDataWebhook'](_0xc83de3(0x1b2),{'instance':this['instance']['name'],'status':_0xc83de3(0x5e6)}),this[_0xc83de3(0x19b)][_0xc83de3(0x784)][_0xc83de3(0x171)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0xc83de3(0x550)]()},this[_0xc83de3(0x2ca)][_0xc83de3(0x219)]),this[_0xc83de3(0x20e)]=!0x0,this[_0xc83de3(0x515)]['emit'](_0xc83de3(0x466),this['instance'][_0xc83de3(0x219)]);this[_0xc83de3(0x2ca)][_0xc83de3(0x3fb)]['count']++;let _0x4743ae={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0xc83de3(0x706)}};bo['default'][_0xc83de3(0x37f)](_0x3af3a7,_0x4743ae,(_0x197212,_0x3050f7)=>{const _0xede395=_0xc83de3;if(_0x197212){this[_0xede395(0x616)]['error'](this[_0xede395(0x56f)]+'\x20('+this[_0xede395(0x2ca)][_0xede395(0x405)]+_0xede395(0x3da)+(_0x197212 instanceof Error?_0x197212[_0xede395(0x261)]:JSON[_0xede395(0x188)](_0x197212,null,0x2)));return;}this['instance'][_0xede395(0x3fb)][_0xede395(0x3f1)]=_0x3050f7,this[_0xede395(0x2ca)][_0xede395(0x3fb)][_0xede395(0x56c)]=_0x3af3a7,this[_0xede395(0x258)](_0xede395(0x2e3),{'qrcode':{'instance':this[_0xede395(0x2ca)][_0xede395(0x219)],'pairingCode':this[_0xede395(0x2ca)][_0xede395(0x3fb)][_0xede395(0x542)],'code':_0x3af3a7,'base64':_0x3050f7}});}),this[_0xc83de3(0x1e8)]?this[_0xc83de3(0x2ca)]['qrcode'][_0xc83de3(0x542)]=await this[_0xc83de3(0x4e7)][_0xc83de3(0x4eb)](this[_0xc83de3(0x1e8)]):this['instance'][_0xc83de3(0x3fb)][_0xc83de3(0x542)]=null,So[_0xc83de3(0x324)][_0xc83de3(0x45b)](_0x3af3a7,{'small':!0x0},_0x5a8ecb=>this['logger']['log'](_0xc83de3(0x5ae)+this[_0xc83de3(0x2ca)]['name']+_0xc83de3(0x3b8)+this[_0xc83de3(0x2ca)][_0xc83de3(0x3fb)]['count']+',\x20pairCode:\x20'+this[_0xc83de3(0x2ca)]['qrcode'][_0xc83de3(0x542)]+_0xc83de3(0x39d)+_0x5a8ecb));}if(_0x12f3e7&&(this[_0xc83de3(0x2cd)]={'state':_0x12f3e7,'statusReason':_0x4f53f0?.[_0xc83de3(0x170)]?.[_0xc83de3(0x4ef)]?.[_0xc83de3(0x5f2)]??0xc8},this[_0xc83de3(0x258)](_0xc83de3(0x350),{'instance':this[_0xc83de3(0x2ca)]['name'],...this[_0xc83de3(0x2cd)]})),_0x12f3e7===_0xc83de3(0x2d8)){if(this[_0xc83de3(0x3c4)]++,this[_0xc83de3(0x636)][_0xc83de3(0x4c1)](Date[_0xc83de3(0x550)]()),this[_0xc83de3(0x636)]=this[_0xc83de3(0x636)][_0xc83de3(0x679)](_0xfb83f=>Date['now']()-_0xfb83f<this[_0xc83de3(0x705)]),_0x4f53f0[_0xc83de3(0x170)]?.[_0xc83de3(0x4ef)]?.['statusCode']!==y['DisconnectReason'][_0xc83de3(0x14e)]&&this[_0xc83de3(0x636)][_0xc83de3(0x593)]<=this[_0xc83de3(0x629)])console[_0xc83de3(0x5f3)](_0xc83de3(0x3ce)+this[_0xc83de3(0x3c4)]+'/'+this['MAX_RECONNECT_ATTEMPTS']+_0xc83de3(0x6e7)),await new Promise(_0x27f8d7=>setTimeout(_0x27f8d7,0x1388)),console[_0xc83de3(0x5f3)](_0xc83de3(0x32f)),await this[_0xc83de3(0x2a2)]();else{this[_0xc83de3(0x258)]('status.instance',{'instance':this[_0xc83de3(0x2ca)][_0xc83de3(0x219)],'status':_0xc83de3(0x5e6)}),this[_0xc83de3(0x4b0)]=!0x1,this[_0xc83de3(0x19b)]['webhook'][_0xc83de3(0x57d)](this['instanceName']),this[_0xc83de3(0x19b)]['auth'][_0xc83de3(0x171)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0xc83de3(0x550)]()},this['instance']['name']);try{this[_0xc83de3(0x616)]['verbose'](this['instanceName']+'\x20('+this[_0xc83de3(0x2ca)][_0xc83de3(0x405)]+_0xc83de3(0x194));let _0x1459ef=await this[_0xc83de3(0x19b)][_0xc83de3(0x261)][_0xc83de3(0x79c)](this[_0xc83de3(0x2ca)]['wuid']);_0x1459ef['success']?this['logger'][_0xc83de3(0x6d2)](this[_0xc83de3(0x56f)]+'\x20('+this[_0xc83de3(0x2ca)]['wuid']+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0xc83de3(0x170)](_0xc83de3(0x4db),_0x1459ef[_0xc83de3(0x170)]);}catch(_0x30a938){console[_0xc83de3(0x170)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x30a938);}this[_0xc83de3(0x759)]!==null&&(this[_0xc83de3(0x616)][_0xc83de3(0x6d2)](this[_0xc83de3(0x56f)]+'\x20('+this['instance'][_0xc83de3(0x405)]+_0xc83de3(0x457)),clearInterval(this[_0xc83de3(0x759)]),this[_0xc83de3(0x759)]=null),this['logger'][_0xc83de3(0x6d2)](this[_0xc83de3(0x56f)]+'\x20('+this[_0xc83de3(0x2ca)]['wuid']+_0xc83de3(0x632)),this[_0xc83de3(0x3eb)]=null,this[_0xc83de3(0x515)][_0xc83de3(0x29d)](_0xc83de3(0x437),this['instance'][_0xc83de3(0x219)],_0xc83de3(0x620)),this[_0xc83de3(0x4e7)]?.['ws']?.[_0xc83de3(0x2d8)](),this[_0xc83de3(0x4e7)][_0xc83de3(0x2ea)](new Error(_0xc83de3(0x6a1)));}}if(_0x12f3e7===_0xc83de3(0x4dc)){this['resetReconnectionVariables'],this['instance'][_0xc83de3(0x405)]=this['client'][_0xc83de3(0x3e6)]['id'][_0xc83de3(0x4ee)](/:\d+/,'')[_0xc83de3(0x4ee)](_0xc83de3(0x351),''),this[_0xc83de3(0x2ca)][_0xc83de3(0x176)]=(await this[_0xc83de3(0x4ea)](this[_0xc83de3(0x2ca)][_0xc83de3(0x405)]+'@s.whatsapp.net'))[_0xc83de3(0x176)],this[_0xc83de3(0x19b)][_0xc83de3(0x784)][_0xc83de3(0x171)]({'online':!0x0,'owner':this[_0xc83de3(0x2ca)][_0xc83de3(0x405)],'lastDisconnect':null},this[_0xc83de3(0x2ca)][_0xc83de3(0x219)]);let _0x1735a3=_0xc83de3(0x5a0)+this['instance'][_0xc83de3(0x405)],_0xfb4c38=0x28,_0x48ea65=Math[_0xc83de3(0x234)]((_0xfb4c38-_0x1735a3['length'])/0x2),_0x3ceb72='\x20'[_0xc83de3(0x409)](_0x48ea65),_0x16b040=_0xc83de3(0x15b),_0x506b9f=_0xc83de3(0x544)+this[_0xc83de3(0x2ca)][_0xc83de3(0x219)],_0x5a5b11=(''+_0x3ceb72+_0x1735a3+_0x3ceb72)['padEnd'](_0xfb4c38,'\x20'),_0x5edc4c=(''+_0x3ceb72+_0x16b040+_0x3ceb72)['padEnd'](_0xfb4c38,'\x20'),_0x59c2fd=(''+_0x3ceb72+_0x506b9f+_0x3ceb72)[_0xc83de3(0x5c4)](_0xfb4c38,'\x20'),_0x414ce=Math[_0xc83de3(0x3e7)](_0x5a5b11[_0xc83de3(0x593)],_0x5edc4c['length'],_0x59c2fd[_0xc83de3(0x593)]),_0x5bf8c1=_0x5a5b11[_0xc83de3(0x5c4)](_0x414ce,'\x20'),_0x21556b=_0x5edc4c['padEnd'](_0x414ce,'\x20'),_0x587ebb=_0x59c2fd['padEnd'](_0x414ce,'\x20');this[_0xc83de3(0x616)][_0xc83de3(0x6e6)]((_0xc83de3(0x28c)+'─'['repeat'](_0x414ce)+_0xc83de3(0x2c2)+_0x21556b+_0xc83de3(0x6da)+_0x587ebb+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x5bf8c1+_0xc83de3(0x446)+'─'[_0xc83de3(0x409)](_0x414ce)+'┘')[_0xc83de3(0x4ee)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0xc83de3(0x4b0)]=!0x0;}}[a0_0xc64edb(0x59d)](){this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[];}async[a0_0xc64edb(0x181)](_0x3f2980,_0x2cba9f=!0x1){const _0x5e6ae0=a0_0xc64edb;try{let _0x20a2ad=await this['repository'][_0x5e6ae0(0x261)][_0x5e6ae0(0x670)]({'where':{'_id':_0x3f2980['id']}},this['instance'][_0x5e6ae0(0x405)]);return _0x2cba9f?_0x20a2ad[0x0]:_0x20a2ad[0x0][_0x5e6ae0(0x261)];}catch{return{'conversation':''};}}[a0_0xc64edb(0x329)](){const _0x46c684=a0_0xc64edb;let _0xc4deef=this[_0x46c684(0x46b)][_0x46c684(0x489)]('STORE'),_0x28ca78=this[_0x46c684(0x46b)]['get'](_0x46c684(0x5a1));_0xc4deef?.['CLEANING_INTERVAL']&&!_0x28ca78[_0x46c684(0x38b)]&&setInterval(()=>{const _0x55b4f8=_0x46c684;try{for(let [_0x4c2063,_0x4a4100]of Object['entries'](_0xc4deef))_0x4a4100===!0x0&&(0x0,_t[_0x55b4f8(0x4ff)])(_0x55b4f8(0x357)+(0x0,F['join'])(this['storePath'],_0x4c2063[_0x55b4f8(0x58d)](),this[_0x55b4f8(0x2ca)][_0x55b4f8(0x405)])+_0x55b4f8(0x30a));}catch{}},(_0xc4deef?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0xc64edb(0x3d1)](){const _0x59f902=a0_0xc64edb;let _0x26ea52=this[_0x59f902(0x46b)][_0x59f902(0x489)]('DATABASE'),_0x4b6d32=this[_0x59f902(0x46b)][_0x59f902(0x489)](_0x59f902(0x787));return _0x4b6d32?.['ENABLED']?await bs(_0x4b6d32,this['instance'][_0x59f902(0x219)]):_0x26ea52[_0x59f902(0x38b)]?await ys(this['instance'][_0x59f902(0x219)]):await(0x0,y[_0x59f902(0x548)])((0x0,F[_0x59f902(0x5be)])(ge,this[_0x59f902(0x2ca)][_0x59f902(0x219)]));}async[a0_0xc64edb(0x553)](){const _0x1c75d0=a0_0xc64edb;let _0x29f1c5=()=>Math[_0x1c75d0(0x234)](Math[_0x1c75d0(0x17b)]()*0x2711)+0x7d0,_0x100021=async()=>{const _0x5622ad=_0x1c75d0;if(!this[_0x5622ad(0x4b0)]){this['logger'][_0x5622ad(0x6d2)]('Desconectado,\x20parando\x20execução.'),this[_0x5622ad(0x23e)]=!0x1;return;}if(this[_0x5622ad(0x2ca)][_0x5622ad(0x405)]&&this['AutomateSystem']&&this[_0x5622ad(0x759)]!==null&&this[_0x5622ad(0x759)]!==void 0x0){let _0x267478=Math[_0x5622ad(0x5c5)](this[_0x5622ad(0x759)]/0xea60);this[_0x5622ad(0x616)][_0x5622ad(0x6d2)](this[_0x5622ad(0x56f)]+'\x20('+this[_0x5622ad(0x2ca)][_0x5622ad(0x405)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x267478+_0x5622ad(0x1c3)),this[_0x5622ad(0x23e)]=!0x1;return;}else this[_0x5622ad(0x2ca)][_0x5622ad(0x405)]&&(this[_0x5622ad(0x616)]['verbose'](this[_0x5622ad(0x56f)]+'\x20('+this[_0x5622ad(0x2ca)][_0x5622ad(0x405)]+_0x5622ad(0x624)),this[_0x5622ad(0x616)][_0x5622ad(0x6d2)](this[_0x5622ad(0x56f)]+'\x20('+this[_0x5622ad(0x2ca)][_0x5622ad(0x405)]+_0x5622ad(0x3d0)),this['AutomateSystem']||await this[_0x5622ad(0x6e1)](),(this['delayMessage']===null||this['delayMessage']===void 0x0)&&await this[_0x5622ad(0x2c7)]());if(this['isRunning']){let _0x1c590a=_0x29f1c5();this[_0x5622ad(0x616)][_0x5622ad(0x6d2)](this[_0x5622ad(0x56f)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x1c590a/0x3e8+_0x5622ad(0x16e)),setTimeout(_0x100021,_0x1c590a);}};if(this[_0x1c75d0(0x23e)])return;this[_0x1c75d0(0x23e)]=!0x0;let _0x38e3be=_0x29f1c5();setTimeout(_0x100021,_0x38e3be);}async[a0_0xc64edb(0x158)](_0x4d1e43=0x0){const _0x5e7769=a0_0xc64edb;if(!(this[_0x5e7769(0x46b)][_0x5e7769(0x489)](_0x5e7769(0x1e6))||!0x1)||_0x4d1e43>=0x3)return this[_0x5e7769(0x616)][_0x5e7769(0x2b2)](_0x5e7769(0x4ab)),this[_0x5e7769(0x19b)][_0x5e7769(0x784)][_0x5e7769(0x171)]({'ip':null},this[_0x5e7769(0x2ca)]['name']),{};console[_0x5e7769(0x5f3)](_0x5e7769(0x1fd)+(_0x4d1e43+0x1)+_0x5e7769(0x6a2));let _0x18b535=(await this[_0x5e7769(0x19b)][_0x5e7769(0x784)][_0x5e7769(0x670)](this[_0x5e7769(0x56f)]))['ip'],_0x1ae55d=po(_0x18b535);if(_0x1ae55d||(console[_0x5e7769(0x5f3)](_0x5e7769(0x54f)),_0x1ae55d=ho()),console[_0x5e7769(0x5f3)](_0x5e7769(0x3f5),_0x1ae55d),_0x1ae55d&&go(_0x1ae55d)){let _0x517954=_0x1ae55d[_0x5e7769(0x623)]+'://'+_0x1ae55d[_0x5e7769(0x756)]+':'+_0x1ae55d[_0x5e7769(0x1b4)]+'@'+_0x1ae55d[_0x5e7769(0x56d)]+':'+_0x1ae55d['port'];return console[_0x5e7769(0x5f3)](_0x5e7769(0x785)),console[_0x5e7769(0x5f3)](_0x517954),await this[_0x5e7769(0x453)](_0x517954)?(console[_0x5e7769(0x5f3)](_0x5e7769(0x46c)),this[_0x5e7769(0x19b)][_0x5e7769(0x784)][_0x5e7769(0x171)]({'ip':_0x1ae55d[_0x5e7769(0x56d)]},this[_0x5e7769(0x2ca)][_0x5e7769(0x219)]),{'agent':new Dt['HttpsProxyAgent'](_0x517954),'fetchAgent':new Dt[(_0x5e7769(0x448))](_0x517954)}):(console[_0x5e7769(0x5f3)](_0x5e7769(0x2f4)),this[_0x5e7769(0x158)](_0x4d1e43+0x1));}else return console[_0x5e7769(0x5f3)](_0x5e7769(0x659)),this[_0x5e7769(0x158)](_0x4d1e43+0x1);}async[a0_0xc64edb(0x453)](_0x1e95eb){const _0xcead86=a0_0xc64edb;let _0x402c3b=new Dt['HttpsProxyAgent'](_0x1e95eb);try{let _0x3fe0f1=await se[_0xcead86(0x324)][_0xcead86(0x489)](_0xcead86(0x415),{'httpsAgent':_0x402c3b});return console['log'](_0xcead86(0x32d),_0x3fe0f1[_0xcead86(0x1d1)]),!0x0;}catch{return console[_0xcead86(0x170)](_0xcead86(0x536)),!0x1;}}async[a0_0xc64edb(0x2a2)](_0x189b2f){const _0x1eb127=a0_0xc64edb;try{let _0x1371f0=await this[_0x1eb127(0x158)]();this[_0x1eb127(0x2c6)](),this[_0x1eb127(0x2ca)][_0x1eb127(0x521)]=await this[_0x1eb127(0x3d1)]();let {version:_0x225ff6}=await(0x0,y[_0x1eb127(0x18e)])(),_0x32dbb6=[Ms,Eo,(0x0,Ss[_0x1eb127(0x3c1)])()],_0x38b0de={..._0x1371f0,'auth':{'creds':this[_0x1eb127(0x2ca)][_0x1eb127(0x521)]['state'][_0x1eb127(0x573)],'keys':(0x0,y[_0x1eb127(0x747)])(this[_0x1eb127(0x2ca)][_0x1eb127(0x521)]['state']['keys'],(0x0,Ot[_0x1eb127(0x324)])({'level':_0x1eb127(0x170)}))},'logger':(0x0,Ot[_0x1eb127(0x324)])({'level':_0x1eb127(0x170)}),'printQRInTerminal':!0x1,'browser':_0x189b2f?[_0x1eb127(0x268),Ms,(0x0,Ss[_0x1eb127(0x3c1)])()]:_0x32dbb6,'version':_0x225ff6,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x1eb127(0x287)],'getMessage':async _0x5688b0=>await this[_0x1eb127(0x181)](_0x5688b0),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x1eb127(0x6f0)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0xfe2999=>(_0xfe2999[_0x1eb127(0x757)]?.[_0x1eb127(0x6c2)]==y[_0x1eb127(0x2f6)][_0x1eb127(0x3fd)][_0x1eb127(0x2fe)][_0x1eb127(0x751)][_0x1eb127(0x641)]&&(_0xfe2999=JSON[_0x1eb127(0x439)](JSON[_0x1eb127(0x188)](_0xfe2999)),_0xfe2999[_0x1eb127(0x757)]['listType']=y[_0x1eb127(0x2f6)][_0x1eb127(0x3fd)]['ListMessage'][_0x1eb127(0x751)][_0x1eb127(0x74d)]),_0xfe2999)};return this[_0x1eb127(0x20e)]=!0x1,this[_0x1eb127(0x4e7)]=(0x0,y[_0x1eb127(0x324)])(_0x38b0de),this['eventHandler'](),this[_0x1eb127(0x1e8)]=_0x189b2f,this[_0x1eb127(0x4e7)];}catch(_0x4ed203){throw this[_0x1eb127(0x616)][_0x1eb127(0x170)](this['instanceName']+'\x20('+this[_0x1eb127(0x2ca)]['wuid']+'):\x20'+(_0x4ed203 instanceof Error?_0x4ed203[_0x1eb127(0x261)]:JSON[_0x1eb127(0x188)](_0x4ed203,null,0x2))),new O(_0x4ed203?.['toString']());}}[a0_0xc64edb(0x255)](){const _0x4fbb5f=a0_0xc64edb;this[_0x4fbb5f(0x4e7)]['ev']['process'](_0x41d92a=>{const _0x330a74=_0x4fbb5f;if(!this[_0x330a74(0x20e)]){let _0x3b127b=this['configService'][_0x330a74(0x489)](_0x330a74(0x5a1));if(_0x41d92a[_0x330a74(0x5cc)]){let _0x4ff1c2=_0x41d92a[_0x330a74(0x5cc)];this[_0x330a74(0x635)][_0x330a74(0x5cc)](_0x4ff1c2);}if(_0x41d92a[_0x330a74(0x49c)]){let _0x580b22=_0x41d92a[_0x330a74(0x49c)];this[_0x330a74(0x635)]['labels.association'](_0x580b22);}if(_0x41d92a[_0x330a74(0x350)]&&this['connectionUpdate'](_0x41d92a[_0x330a74(0x350)]),_0x41d92a['creds.update']&&this[_0x330a74(0x2ca)][_0x330a74(0x521)][_0x330a74(0x796)](),_0x41d92a[_0x330a74(0x328)]){let _0x1a6deb=_0x41d92a[_0x330a74(0x328)];this['messageHandle']['messaging-history.set'](_0x1a6deb,_0x3b127b);}if(_0x41d92a['messages.upsert']){let _0x2ff828=_0x41d92a['messages.upsert'];this[_0x330a74(0x635)][_0x330a74(0x3e0)](_0x2ff828,_0x3b127b);}if(_0x41d92a[_0x330a74(0x38e)]){let _0x289227=_0x41d92a['messages.update'];_0x289227[_0x330a74(0x2d6)](_0x4f525b=>{const _0x201819=_0x330a74;if(fo[_0x4f525b[_0x201819(0x241)]['id']]){this[_0x201819(0x4e7)]['ev']['emit'](_0x201819(0x3e0),{'messages':[_0x4f525b],'type':'notify'}),delete fo[_0x4f525b['key']['id']];return;}}),this[_0x330a74(0x635)]['messages.update'](_0x289227,_0x3b127b);}if(_0x41d92a[_0x330a74(0x2d2)]){let _0xa808e=_0x41d92a[_0x330a74(0x2d2)];if(this['localWebhook']?.[_0x330a74(0x2ef)]&&_0xa808e['id'][_0x330a74(0x4df)](_0x330a74(0x14d)))return;this[_0x330a74(0x258)]('presence.update',_0xa808e);}if(!this['localWebhook']?.[_0x330a74(0x2ef)]){if(_0x41d92a['groups.upsert']){let _0x38ea59=_0x41d92a['groups.upsert'];this['groupHandler'][_0x330a74(0x1a2)](_0x38ea59);}if(_0x41d92a[_0x330a74(0x6af)]){let _0x2148d2=_0x41d92a[_0x330a74(0x6af)];this['groupHandler'][_0x330a74(0x6af)](_0x2148d2);}if(_0x41d92a[_0x330a74(0x60a)]){let _0x1a6a1b=_0x41d92a[_0x330a74(0x60a)];this['groupHandler']['group-participants.update'](_0x1a6a1b);}}if(_0x41d92a[_0x330a74(0x4a6)]){let _0xdce753=_0x41d92a[_0x330a74(0x4a6)];this[_0x330a74(0x478)]['chats.upsert'](_0xdce753,_0x3b127b);}if(_0x41d92a[_0x330a74(0x723)]){let _0x5ae75c=_0x41d92a[_0x330a74(0x723)];this[_0x330a74(0x478)][_0x330a74(0x723)](_0x5ae75c,_0x3b127b);}if(_0x41d92a[_0x330a74(0x435)]){let _0x3fd578=_0x41d92a[_0x330a74(0x435)];this[_0x330a74(0x478)]['chats.delete'](_0x3fd578);}if(_0x41d92a[_0x330a74(0x628)]){let _0x2e527f=_0x41d92a[_0x330a74(0x628)];this[_0x330a74(0x421)][_0x330a74(0x628)](_0x2e527f,_0x3b127b);}if(_0x41d92a[_0x330a74(0x71f)]){let _0x3452d0=_0x41d92a['contacts.update'];this[_0x330a74(0x421)]['contacts.update'](_0x3452d0,_0x3b127b);}}});}[a0_0xc64edb(0x407)](_0x2f83b1){return new Promise(_0x2f36d3=>setTimeout(_0x2f36d3,_0x2f83b1));}[a0_0xc64edb(0x1a4)](_0x3af69e){let _0x5e5ae3=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x3af69e);if(_0x5e5ae3&&_0x5e5ae3[0x1]==='55'){let _0x44fab3=_0x5e5ae3[0x2],_0x3fd774=_0x5e5ae3[0x3],_0x5422bc=_0x5e5ae3[0x4];if(_0x44fab3>='31'&&_0x3fd774==='9')return _0x5e5ae3[0x1]+_0x44fab3+_0x5422bc;}return _0x3af69e;}[a0_0xc64edb(0x208)](_0x3a26d5){const _0x31de04=a0_0xc64edb;return _0x3a26d5['includes'](_0x31de04(0x14d))||_0x3a26d5[_0x31de04(0x4df)]('@s.whatsapp.net')||_0x3a26d5[_0x31de04(0x4df)](_0x31de04(0x1cf))?_0x3a26d5:(_0x3a26d5=_0x3a26d5?.[_0x31de04(0x4ee)](/\s/g,'')[_0x31de04(0x4ee)](/\+/g,'')[_0x31de04(0x4ee)](/\(/g,'')[_0x31de04(0x4ee)](/\)/g,'')[_0x31de04(0x13f)](/\:/)[0x0][_0x31de04(0x13f)]('@')[0x0],_0x3a26d5[_0x31de04(0x593)]>=0x12?(_0x3a26d5=_0x3a26d5[_0x31de04(0x4ee)](/[^\d-]/g,''),_0x3a26d5+_0x31de04(0x14d)):(_0x3a26d5=_0x3a26d5[_0x31de04(0x4ee)](/\D/g,''),this['formatBRNumber'](_0x3a26d5)+_0x31de04(0x351)));}async[a0_0xc64edb(0x24e)](_0x184e8f){const _0x33f0fb=a0_0xc64edb;let _0x29dc6e=this[_0x33f0fb(0x208)](_0x184e8f[_0x33f0fb(0x5d4)]),_0x37a6bb=(await this['whatsappNumber']({'numbers':[_0x29dc6e]}))[0x0];if(!_0x37a6bb['exists']&&!(0x0,y['isJidGroup'])(_0x37a6bb[_0x33f0fb(0x260)]))throw new m(_0x37a6bb);let _0x3c8d31=(0x0,y['isJidGroup'])(_0x29dc6e)?_0x29dc6e:_0x37a6bb[_0x33f0fb(0x260)];if((0x0,y[_0x33f0fb(0x4d4)])(_0x3c8d31))try{await this['client']['groupMetadata'](_0x3c8d31);}catch{throw new j(_0x33f0fb(0x295));}try{return await this['client']['presenceSubscribe'](_0x3c8d31),await this['client']['sendPresenceUpdate'](_0x184e8f[_0x33f0fb(0x298)],_0x29dc6e),{'status':0xc8,'presence':_0x184e8f[_0x33f0fb(0x298)]};}catch(_0x450bfe){throw new m(_0x450bfe['toString']());}}async[a0_0xc64edb(0x4ea)](_0x214149){const _0x343f06=a0_0xc64edb;let _0x3547b0=this[_0x343f06(0x208)](_0x214149);try{return{'wuid':_0x3547b0,'profilePictureUrl':await this[_0x343f06(0x4e7)][_0x343f06(0x176)](_0x3547b0,_0x343f06(0x6dc))};}catch{return{'wuid':_0x3547b0,'profilePictureUrl':null};}}async[a0_0xc64edb(0x762)](_0x28b0ca,_0x2accca,_0x5c7cf9){const _0x1651b7=a0_0xc64edb;_0x5c7cf9||(_0x5c7cf9={});let _0x5ecb18=(await this[_0x1651b7(0x4ad)]({'numbers':[_0x28b0ca]}))[0x0];if(!_0x5ecb18[_0x1651b7(0x41d)]&&!(0x0,y[_0x1651b7(0x4d4)])(_0x5ecb18[_0x1651b7(0x260)])&&!_0x5ecb18['jid'][_0x1651b7(0x4df)](_0x1651b7(0x1cf)))throw new m(_0x5ecb18);let _0x2625b1=_0x5ecb18[_0x1651b7(0x260)];try{_0x5c7cf9?.[_0x1651b7(0x431)]&&(await this[_0x1651b7(0x4e7)]['presenceSubscribe'](_0x2625b1),await this[_0x1651b7(0x4e7)][_0x1651b7(0x4bf)](_0x5c7cf9?.['presence']??_0x1651b7(0x19f),_0x2625b1),await(0x0,y['delay'])(_0x5c7cf9[_0x1651b7(0x431)]),await this[_0x1651b7(0x4e7)]['sendPresenceUpdate'](_0x1651b7(0x612),_0x2625b1));let _0x2b9a8a=_0x5c7cf9?.[_0x1651b7(0x5fc)]!=!0x1?void 0x0:!0x1,_0x346104;if(_0x5c7cf9?.[_0x1651b7(0x3a7)]){let _0x273ee6=_0x5c7cf9?.[_0x1651b7(0x3a7)],_0x46e2f4=_0x273ee6?.[_0x1651b7(0x261)]?_0x273ee6:await this['getMessage'](_0x273ee6[_0x1651b7(0x241)],!0x0);if(!_0x46e2f4)throw _0x1651b7(0x152);_0x346104=_0x46e2f4;}let _0x465ed2;if((0x0,y['isJidGroup'])(_0x2625b1))try{let _0xb93a20=await this['client'][_0x1651b7(0x262)](_0x2625b1);if(!_0xb93a20)throw new j(_0x1651b7(0x295));_0x5c7cf9?.['mentions']&&(_0x5c7cf9[_0x1651b7(0x2ad)]?.[_0x1651b7(0x586)]?_0x465ed2=_0xb93a20['participants'][_0x1651b7(0x483)](_0x39fc2b=>_0x39fc2b['id']):_0x5c7cf9[_0x1651b7(0x2ad)]?.[_0x1651b7(0x582)]?.[_0x1651b7(0x593)]&&(_0x465ed2=_0x5c7cf9[_0x1651b7(0x2ad)][_0x1651b7(0x582)][_0x1651b7(0x483)](_0x4d090d=>{const _0xecba2=_0x1651b7;let _0x4073d8=this[_0xecba2(0x208)](_0x4d090d);return(0x0,y[_0xecba2(0x4d4)])(_0x4073d8)?null:_0x4073d8;})));}catch{throw new j(_0x1651b7(0x295));}let _0x4edf7e=await((async()=>{const _0x3564ef=_0x1651b7;let _0x80599f={'quoted':_0x346104};if(!_0x2accca[_0x3564ef(0x73a)]&&!_0x2accca[_0x3564ef(0x5f5)]&&!_0x2accca[_0x3564ef(0x195)]&&!_0x2accca['conversation']&&_0x2625b1!=='status@broadcast'&&!_0x2accca[_0x3564ef(0x73a)])return await this[_0x3564ef(0x4e7)][_0x3564ef(0x5d6)](_0x2625b1,{'forward':{'key':{'remoteJid':this[_0x3564ef(0x2ca)]['wuid'],'fromMe':!0x0},'message':_0x2accca},'mentions':_0x465ed2},_0x80599f);if(_0x2accca['conversation']){let _0x85f9e0=_0x2accca[_0x3564ef(0x3cd)];return _0x5c7cf9?.[_0x3564ef(0x67b)]&&(_0x85f9e0=await this[_0x3564ef(0x3b1)](_0x85f9e0,_0x2625b1)),await this[_0x3564ef(0x4e7)][_0x3564ef(0x5d6)](_0x2625b1,{'text':_0x85f9e0,'mentions':_0x465ed2,'linkPreview':_0x2b9a8a},_0x80599f);}return _0x2625b1==='status@broadcast'?await this[_0x3564ef(0x4e7)]['sendMessage'](_0x2625b1,_0x2accca[_0x3564ef(0x23b)]['content'],{'backgroundColor':_0x2accca[_0x3564ef(0x23b)][_0x3564ef(0x3d7)][_0x3564ef(0x75d)],'font':_0x2accca['status'][_0x3564ef(0x3d7)][_0x3564ef(0x5c2)],'statusJidList':_0x2accca['status'][_0x3564ef(0x3d7)]['statusJidList']}):await this[_0x3564ef(0x4e7)][_0x3564ef(0x5d6)](_0x2625b1,_0x2accca,_0x80599f);})()),{message_normalized:_0x44705d}=this['normalizeMessage'](_0x4edf7e[_0x1651b7(0x261)],$(_0x4edf7e[_0x1651b7(0x261)]),null),_0x4efc4e={'_id':_0x4edf7e['key']['id'],'key':_0x4edf7e['key'],'pushName':_0x4edf7e[_0x1651b7(0x333)],'message':{..._0x4edf7e['message']},'messageType':$(_0x4edf7e[_0x1651b7(0x261)]),'message_normalized':{'key':_0x4edf7e['key'],'pushName':_0x4edf7e[_0x1651b7(0x333)],'messageTimestamp':_0x4edf7e[_0x1651b7(0x66b)]&&_0x4edf7e[_0x1651b7(0x66b)]['toString']()[_0x1651b7(0x593)]<0xd?_0x4edf7e[_0x1651b7(0x66b)]*0x3e8:_0x4edf7e[_0x1651b7(0x66b)]||null,'source':(0x0,y['getDevice'])(_0x4edf7e['key']['id']),..._0x44705d},'messageTimestamp':_0x4edf7e[_0x1651b7(0x66b)]&&_0x4edf7e[_0x1651b7(0x66b)][_0x1651b7(0x289)]()[_0x1651b7(0x593)]<0xd?_0x4edf7e[_0x1651b7(0x66b)]*0x3e8:_0x4edf7e[_0x1651b7(0x66b)]||null,'owner':this[_0x1651b7(0x2ca)][_0x1651b7(0x405)],'source':(0x0,y[_0x1651b7(0x568)])(_0x4edf7e[_0x1651b7(0x241)]['id'])};return this[_0x1651b7(0x616)][_0x1651b7(0x5f3)](_0x4efc4e),this[_0x1651b7(0x258)](_0x1651b7(0x75b),_0x4efc4e),J(this[_0x1651b7(0x56f)],_0x1651b7(0x264),{'message':_0x4efc4e}),this[_0x1651b7(0x48f)](this[_0x1651b7(0x46b)][_0x1651b7(0x489)](_0x1651b7(0x5a1)),_0x4efc4e,_0x1651b7(0x52b)),await this[_0x1651b7(0x19b)][_0x1651b7(0x261)][_0x1651b7(0x42d)]([_0x4efc4e],this[_0x1651b7(0x2ca)]['wuid']),_0x4edf7e;}catch(_0x4359fe){throw this['logger']['error'](this[_0x1651b7(0x56f)]+'\x20('+this[_0x1651b7(0x2ca)][_0x1651b7(0x405)]+_0x1651b7(0x3f9)+_0x4359fe[_0x1651b7(0x289)]()),new m(_0x4359fe[_0x1651b7(0x289)]());}}get[a0_0xc64edb(0x50f)](){const _0x50b18a=a0_0xc64edb;return this[_0x50b18a(0x2cd)];}async[a0_0xc64edb(0x461)](_0x589a76){const _0xc11b78=a0_0xc64edb;let _0x4ddf1f=mo,_0x190a14=He;return _0x190a14&&this['instanceName'][_0xc11b78(0x58d)]()[_0xc11b78(0x4df)](_0x190a14[_0xc11b78(0x58d)]())&&(_0x589a76[_0xc11b78(0x461)][_0xc11b78(0x646)]+='\x0a\x0a'+_0x4ddf1f),await this['sendMessageWithTyping'](_0x589a76[_0xc11b78(0x5d4)],{'conversation':_0x589a76[_0xc11b78(0x461)][_0xc11b78(0x646)]},_0x589a76?.[_0xc11b78(0x73b)]);}async[a0_0xc64edb(0x7a0)](_0x40a65f){const _0x561122=a0_0xc64edb;if(!_0x40a65f[_0x561122(0x326)])throw new m('Type\x20is\x20required');if(!_0x40a65f['content'])throw new m(_0x561122(0x4b3));if(_0x40a65f[_0x561122(0x70e)]){let _0x17397d=await this[_0x561122(0x19b)][_0x561122(0x70a)][_0x561122(0x670)]({'where':{}},this[_0x561122(0x2ca)][_0x561122(0x405)]);if(!_0x17397d[_0x561122(0x593)])throw new m('Contacts\x20not\x20found');_0x40a65f[_0x561122(0x399)]=_0x17397d[_0x561122(0x679)](_0xfbbdc1=>_0xfbbdc1['pushName'])[_0x561122(0x483)](_0x1349ad=>_0x1349ad['_id']);}if(!_0x40a65f['statusJidList']?.[_0x561122(0x593)]&&!_0x40a65f[_0x561122(0x70e)])throw new m('StatusJidList\x20is\x20required');if(_0x40a65f[_0x561122(0x326)]==='text'){if(!_0x40a65f['backgroundColor'])throw new m(_0x561122(0x504));if(!_0x40a65f[_0x561122(0x5c2)])throw new m(_0x561122(0x320));return{'content':{'text':_0x40a65f[_0x561122(0x3d5)]},'option':{'backgroundColor':_0x40a65f['backgroundColor'],'font':_0x40a65f[_0x561122(0x5c2)],'statusJidList':_0x40a65f['statusJidList']}};}if(_0x40a65f[_0x561122(0x326)]==='image')return{'content':{'image':{'url':_0x40a65f['content']},'caption':_0x40a65f['caption']},'option':{'statusJidList':_0x40a65f['statusJidList']}};if(_0x40a65f[_0x561122(0x326)]===_0x561122(0x360))return{'content':{'video':{'url':_0x40a65f[_0x561122(0x3d5)]},'caption':_0x40a65f[_0x561122(0x61c)]},'option':{'statusJidList':_0x40a65f[_0x561122(0x399)]}};if(_0x40a65f[_0x561122(0x326)]===_0x561122(0x73a)){this[_0x561122(0x616)][_0x561122(0x6d2)](_0x561122(0x1f4)),this[_0x561122(0x616)]['verbose'](_0x561122(0x273));let _0x3a3a90=await this['convertaudio'](_0x40a65f['content']);if(typeof _0x3a3a90==_0x561122(0x470)){this[_0x561122(0x616)][_0x561122(0x6d2)](_0x561122(0x22c));let _0xa768fa=L[_0x561122(0x5d3)](_0x3a3a90)[_0x561122(0x289)](_0x561122(0x3f1)),_0x2844f2={'content':{'audio':Buffer[_0x561122(0x674)](_0xa768fa,_0x561122(0x3f1)),'ptt':!0x0,'mimetype':_0x561122(0x72d)},'option':{'statusJidList':_0x40a65f[_0x561122(0x399)]}};return L[_0x561122(0x1bc)](_0x3a3a90),_0x2844f2;}else throw new O(_0x3a3a90);}throw new m('Type\x20not\x20found');}async['statusMessage'](_0x442309){const _0x54a795=a0_0xc64edb;return await this[_0x54a795(0x762)](_0x54a795(0x160),{'status':await this[_0x54a795(0x7a0)](_0x442309[_0x54a795(0x507)])});}async[a0_0xc64edb(0x145)](_0x357849){const _0x5b73d7=a0_0xc64edb;try{let _0x2e4203=await(0x0,y[_0x5b73d7(0x212)])({[_0x357849[_0x5b73d7(0x647)]]:(0x0,k[_0x5b73d7(0x4f1)])(_0x357849['media'])?{'url':_0x357849[_0x5b73d7(0x47b)]}:Buffer[_0x5b73d7(0x674)](_0x357849[_0x5b73d7(0x47b)],_0x5b73d7(0x3f1))},{'upload':this[_0x5b73d7(0x4e7)][_0x5b73d7(0x72a)]}),_0x416f50=_0x357849[_0x5b73d7(0x647)]+_0x5b73d7(0x3fd);if(_0x357849[_0x5b73d7(0x647)]===_0x5b73d7(0x27a)&&!_0x357849[_0x5b73d7(0x775)]){let _0x3a0a43=new RegExp(/.*\/(.+?)\./)[_0x5b73d7(0x447)](_0x357849[_0x5b73d7(0x47b)]);_0x357849['fileName']=_0x3a0a43?_0x3a0a43[0x1]:null;}let _0x1448e2=(0x0,k[_0x5b73d7(0x4f1)])(_0x357849['media'])?_0x357849[_0x5b73d7(0x47b)][_0x5b73d7(0x13f)]('?')[0x0]:_0x357849[_0x5b73d7(0x47b)];this[_0x5b73d7(0x616)][_0x5b73d7(0x6d2)](_0x5b73d7(0x752)+_0x1448e2);let _0x23d573;(0x0,k['isURL'])(_0x357849[_0x5b73d7(0x47b)])?_0x23d573=(0x0,It[_0x5b73d7(0x57c)])(_0x1448e2):_0x357849[_0x5b73d7(0x775)]&&_0x357849[_0x5b73d7(0x775)][_0x5b73d7(0x4df)]('.')?_0x23d573=(0x0,It[_0x5b73d7(0x57c)])(_0x357849[_0x5b73d7(0x775)]):_0x23d573=(0x0,It[_0x5b73d7(0x57c)])(_0x357849[_0x5b73d7(0x47b)]);let _0x587db7=mo,_0x3b3e82=He;return _0x3b3e82&&this['instanceName'][_0x5b73d7(0x58d)]()['includes'](_0x3b3e82[_0x5b73d7(0x58d)]())&&(_0x357849[_0x5b73d7(0x61c)]+='\x0a\x0a'+_0x587db7),_0x2e4203[_0x416f50][_0x5b73d7(0x61c)]=_0x357849?.[_0x5b73d7(0x61c)],_0x2e4203[_0x416f50][_0x5b73d7(0x271)]=_0x23d573,_0x2e4203[_0x416f50][_0x5b73d7(0x775)]=_0x357849[_0x5b73d7(0x775)],_0x357849[_0x5b73d7(0x647)]===_0x5b73d7(0x360)&&(_0x2e4203[_0x416f50][_0x5b73d7(0x429)]=Uint8Array[_0x5b73d7(0x674)]((0x0,ve['readFileSync'])((0x0,F[_0x5b73d7(0x5be)])(process[_0x5b73d7(0x3d6)](),_0x5b73d7(0x517)))),_0x2e4203[_0x416f50][_0x5b73d7(0x51e)]=!0x1),(0x0,y[_0x5b73d7(0x274)])('',{[_0x416f50]:{..._0x2e4203[_0x416f50]}},{'userJid':this[_0x5b73d7(0x2ca)][_0x5b73d7(0x405)]});}catch(_0x1f677c){throw this[_0x5b73d7(0x616)][_0x5b73d7(0x170)](this[_0x5b73d7(0x56f)]+'\x20('+this[_0x5b73d7(0x2ca)]['wuid']+_0x5b73d7(0x3f9)+(_0x1f677c instanceof Error?_0x1f677c[_0x5b73d7(0x261)]:JSON[_0x5b73d7(0x188)](_0x1f677c,null,0x2))),new O(_0x1f677c?.[_0x5b73d7(0x289)]()||_0x1f677c);}}async['mediaMessage'](_0xdaefbd){const _0x2fc316=a0_0xc64edb;let _0x18cbfb=await this['prepareMediaMessage'](_0xdaefbd[_0x2fc316(0x220)]);return await this[_0x2fc316(0x762)](_0xdaefbd['number'],{..._0x18cbfb[_0x2fc316(0x261)]},_0xdaefbd?.[_0x2fc316(0x73b)]);}async[a0_0xc64edb(0x6c9)](_0x117f1c,_0x1cb1ac){const _0x50ec47=a0_0xc64edb;try{this['logger'][_0x50ec47(0x6d2)](_0x50ec47(0x549));let _0x5560ca,_0x1bbfc5=_0x1cb1ac+'-'+new Date()[_0x50ec47(0x34d)]();this[_0x50ec47(0x616)][_0x50ec47(0x6d2)](_0x50ec47(0x730)+_0x1bbfc5);let _0x199ed9=''+(0x0,F['join'])(this[_0x50ec47(0x594)],_0x1bbfc5+_0x50ec47(0x428));if(this['logger'][_0x50ec47(0x6d2)](_0x50ec47(0x6b0)+_0x199ed9),(0x0,k['isBase64'])(_0x117f1c)){this[_0x50ec47(0x616)][_0x50ec47(0x6d2)]('Image\x20is\x20base64');let _0x4547fd=_0x117f1c[_0x50ec47(0x4ee)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5b08ab=Buffer[_0x50ec47(0x674)](_0x4547fd,_0x50ec47(0x3f1));_0x5560ca=''+(0x0,F[_0x50ec47(0x5be)])(this[_0x50ec47(0x594)],_0x50ec47(0x5c7)+_0x1bbfc5+'.png'),this[_0x50ec47(0x616)]['verbose']('Image\x20path:\x20'+_0x5560ca),await(0x0,xt[_0x50ec47(0x324)])(_0x5b08ab)['toFile'](_0x5560ca),this[_0x50ec47(0x616)][_0x50ec47(0x6d2)](_0x50ec47(0x7af));}else{this['logger']['verbose']('Image\x20is\x20url');let _0x1d56fc=new Date()['getTime'](),_0x51cedd=_0x117f1c+_0x50ec47(0x7a9)+_0x1d56fc;this['logger'][_0x50ec47(0x6d2)](_0x50ec47(0x16b)+_0x51cedd);let _0x2f46cc=await se['default'][_0x50ec47(0x489)](_0x51cedd,{'responseType':_0x50ec47(0x625)});this[_0x50ec47(0x616)][_0x50ec47(0x6d2)](_0x50ec47(0x4b2));let _0x21fe57=Buffer[_0x50ec47(0x674)](_0x2f46cc[_0x50ec47(0x1d1)],_0x50ec47(0x477));_0x5560ca=''+(0x0,F[_0x50ec47(0x5be)])(this[_0x50ec47(0x594)],_0x50ec47(0x5c7)+_0x1bbfc5+_0x50ec47(0x28e)),this[_0x50ec47(0x616)]['verbose'](_0x50ec47(0x538)+_0x5560ca),await(0x0,xt[_0x50ec47(0x324)])(_0x21fe57)[_0x50ec47(0x744)](_0x5560ca),this[_0x50ec47(0x616)][_0x50ec47(0x6d2)](_0x50ec47(0x7af));}return await(0x0,xt[_0x50ec47(0x324)])(_0x5560ca)['webp']()['toFile'](_0x199ed9),this[_0x50ec47(0x616)][_0x50ec47(0x6d2)](_0x50ec47(0x35e)),L[_0x50ec47(0x1bc)](_0x5560ca),this[_0x50ec47(0x616)][_0x50ec47(0x6d2)](_0x50ec47(0x735)),_0x199ed9;}catch(_0x54167a){console[_0x50ec47(0x170)](_0x50ec47(0x71d),_0x54167a instanceof Error?_0x54167a[_0x50ec47(0x261)]:JSON['stringify'](_0x54167a,null,0x2));}}async['mediaSticker'](_0x10f1a7){const _0x4ca194=a0_0xc64edb;let _0x12914f=await this[_0x4ca194(0x6c9)](_0x10f1a7[_0x4ca194(0x230)][_0x4ca194(0x6dc)],_0x10f1a7[_0x4ca194(0x5d4)]),_0x45ae97=await this[_0x4ca194(0x762)](_0x10f1a7[_0x4ca194(0x5d4)],{'sticker':{'url':_0x12914f}},_0x10f1a7?.[_0x4ca194(0x73b)]);return L[_0x4ca194(0x1bc)](_0x12914f),this['logger'][_0x4ca194(0x6d2)](_0x4ca194(0x3a4)),_0x45ae97;}async[a0_0xc64edb(0x3ae)](_0x3746d2){const _0x4bf5e1=a0_0xc64edb;if(this[_0x4bf5e1(0x616)][_0x4bf5e1(0x6d2)](_0x4bf5e1(0x6d3)),!_0x3746d2[_0x4bf5e1(0x73b)]?.[_0x4bf5e1(0x5bd)]&&_0x3746d2['options']?.[_0x4bf5e1(0x5bd)]!==!0x1&&(_0x3746d2[_0x4bf5e1(0x73b)]['encoding']=!0x0),_0x3746d2[_0x4bf5e1(0x73b)]?.[_0x4bf5e1(0x5bd)]){let _0x45d4c9=await this[_0x4bf5e1(0x5c6)](_0x3746d2['audioMessage'][_0x4bf5e1(0x73a)]);if(typeof _0x45d4c9=='string'){let _0x17aad4=L[_0x4bf5e1(0x5d3)](_0x45d4c9)[_0x4bf5e1(0x289)](_0x4bf5e1(0x3f1)),_0x3d89d7=this['sendMessageWithTyping'](_0x3746d2[_0x4bf5e1(0x5d4)],{'audio':Buffer[_0x4bf5e1(0x674)](_0x17aad4,_0x4bf5e1(0x3f1)),'ptt':!0x0,'mimetype':_0x4bf5e1(0x72d)},{'presence':_0x4bf5e1(0x380),'delay':_0x3746d2?.[_0x4bf5e1(0x73b)]?.['delay']});return L['unlinkSync'](_0x45d4c9),this[_0x4bf5e1(0x616)][_0x4bf5e1(0x6d2)]('Converted\x20audio\x20deleted'),_0x3d89d7;}else throw new O(_0x45d4c9);}return await this[_0x4bf5e1(0x762)](_0x3746d2['number'],{'audio':(0x0,k[_0x4bf5e1(0x4f1)])(_0x3746d2[_0x4bf5e1(0x584)][_0x4bf5e1(0x73a)])?{'url':_0x3746d2[_0x4bf5e1(0x584)][_0x4bf5e1(0x73a)]}:Buffer['from'](_0x3746d2[_0x4bf5e1(0x584)]['audio'],'base64'),'ptt':!0x0,'mimetype':_0x4bf5e1(0x4b5)},{'presence':_0x4bf5e1(0x380),'delay':_0x3746d2?.[_0x4bf5e1(0x73b)]?.[_0x4bf5e1(0x431)]});}async['convertaudio'](_0x248b5c){const _0x5eb9c0=a0_0xc64edb;this[_0x5eb9c0(0x616)]['verbose'](_0x5eb9c0(0x273));let _0x413938,_0x4facea,_0x109887=(0x0,Me['v4'])();if(this['logger'][_0x5eb9c0(0x6d2)](_0x5eb9c0(0x648)+_0x109887),(0x0,k[_0x5eb9c0(0x4f1)])(_0x248b5c)){this[_0x5eb9c0(0x616)][_0x5eb9c0(0x6d2)](_0x5eb9c0(0x776)),_0x4facea=''+(0x0,F[_0x5eb9c0(0x5be)])(this[_0x5eb9c0(0x594)],_0x109887+_0x5eb9c0(0x2ba)),_0x413938=''+(0x0,F['join'])(this['storePath'],'temp-'+_0x109887+'.mp3'),this[_0x5eb9c0(0x616)][_0x5eb9c0(0x6d2)](_0x5eb9c0(0x66c)+_0x4facea),this[_0x5eb9c0(0x616)][_0x5eb9c0(0x6d2)](_0x5eb9c0(0x491)+_0x413938);let _0x527052=new Date()['getTime'](),_0x589f69=_0x248b5c+'?timestamp='+_0x527052;this[_0x5eb9c0(0x616)]['verbose'](_0x5eb9c0(0x596)+_0x589f69);let _0x3c6a53=await se['default'][_0x5eb9c0(0x489)](_0x589f69,{'responseType':_0x5eb9c0(0x625)});this[_0x5eb9c0(0x616)][_0x5eb9c0(0x6d2)]('Getting\x20audio\x20from\x20url'),L[_0x5eb9c0(0x3aa)](_0x413938,_0x3c6a53['data']);}else{this['logger'][_0x5eb9c0(0x6d2)](_0x5eb9c0(0x153)),_0x4facea=''+(0x0,F[_0x5eb9c0(0x5be)])(this[_0x5eb9c0(0x594)],_0x109887+_0x5eb9c0(0x2ba)),_0x413938=''+(0x0,F[_0x5eb9c0(0x5be)])(this[_0x5eb9c0(0x594)],'temp-'+_0x109887+'.mp3'),this[_0x5eb9c0(0x616)][_0x5eb9c0(0x6d2)]('Output\x20audio\x20path:\x20'+_0x4facea),this[_0x5eb9c0(0x616)][_0x5eb9c0(0x6d2)](_0x5eb9c0(0x491)+_0x413938);let _0x130b81=Buffer[_0x5eb9c0(0x674)](_0x248b5c,_0x5eb9c0(0x3f1));L[_0x5eb9c0(0x3aa)](_0x413938,_0x130b81),this['logger'][_0x5eb9c0(0x6d2)]('Temp\x20audio\x20created');}return this['logger'][_0x5eb9c0(0x6d2)](_0x5eb9c0(0x438)),new Promise((_0x349797,_0xeec215)=>{const _0x2c20f2=_0x5eb9c0;(0x0,_t['exec'])(wo[_0x2c20f2(0x324)][_0x2c20f2(0x15e)]+'\x20-i\x20'+_0x413938+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x4facea+_0x2c20f2(0x3a2),_0x12da74=>{const _0x5ddea6=_0x2c20f2;L[_0x5ddea6(0x1bc)](_0x413938),this[_0x5ddea6(0x616)][_0x5ddea6(0x6d2)](_0x5ddea6(0x555)),_0x12da74&&_0xeec215(_0x12da74),this[_0x5ddea6(0x616)][_0x5ddea6(0x6d2)](_0x5ddea6(0x277)),_0x349797(_0x4facea);});});}async[a0_0xc64edb(0x3f8)](_0x39e5d2){const _0x2cd269=a0_0xc64edb;let _0x3b7caa={},_0x21da7a='TEXT';if(_0x39e5d2['buttonMessage']?.[_0x2cd269(0x220)]){_0x21da7a=_0x39e5d2[_0x2cd269(0x3f8)][_0x2cd269(0x220)]?.[_0x2cd269(0x647)][_0x2cd269(0x1c0)]()??_0x2cd269(0x1ba),_0x3b7caa[_0x2cd269(0x512)]=_0x21da7a[_0x2cd269(0x58d)]()+_0x2cd269(0x3fd);let _0x348358=await this['prepareMediaMessage'](_0x39e5d2[_0x2cd269(0x3f8)][_0x2cd269(0x220)]);_0x3b7caa[_0x2cd269(0x261)]=_0x348358[_0x2cd269(0x261)][_0x3b7caa[_0x2cd269(0x512)]],_0x3b7caa[_0x2cd269(0x4f8)]='*'+_0x39e5d2[_0x2cd269(0x3f8)]['title']+_0x2cd269(0x317)+_0x39e5d2['buttonMessage'][_0x2cd269(0x4ec)];}let _0x42794b={'text':_0x39e5d2['buttonMessage'][_0x2cd269(0x186)]['map'](_0x5d3c07=>_0x5d3c07['buttonText']),'ids':_0x39e5d2[_0x2cd269(0x3f8)]['buttons'][_0x2cd269(0x483)](_0x450fdd=>_0x450fdd[_0x2cd269(0x223)])};if(!(0x0,k[_0x2cd269(0x4b8)])(_0x42794b[_0x2cd269(0x646)])||!(0x0,k['arrayUnique'])(_0x42794b['ids']))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x2cd269(0x7a6));return await this['sendMessageWithTyping'](_0x39e5d2[_0x2cd269(0x5d4)],{'buttonsMessage':{'text':_0x3b7caa?.[_0x2cd269(0x512)]?void 0x0:_0x39e5d2[_0x2cd269(0x3f8)][_0x2cd269(0x588)],'contentText':_0x3b7caa?.[_0x2cd269(0x4f8)]??_0x39e5d2[_0x2cd269(0x3f8)][_0x2cd269(0x4ec)],'footerText':_0x39e5d2[_0x2cd269(0x3f8)]?.[_0x2cd269(0x541)],'buttons':_0x39e5d2[_0x2cd269(0x3f8)][_0x2cd269(0x186)][_0x2cd269(0x483)](_0x4b1f85=>({'buttonText':{'displayText':_0x4b1f85[_0x2cd269(0x697)]},'buttonId':_0x4b1f85['buttonId'],'type':0x1})),'headerType':y[_0x2cd269(0x2f6)][_0x2cd269(0x3fd)]['ButtonsMessage'][_0x2cd269(0x4a0)][_0x21da7a],[_0x3b7caa?.[_0x2cd269(0x512)]]:_0x3b7caa?.[_0x2cd269(0x261)]}},_0x39e5d2?.[_0x2cd269(0x73b)]);}async[a0_0xc64edb(0x655)](_0x70be1e){const _0x753165=a0_0xc64edb;return await this[_0x753165(0x762)](_0x70be1e[_0x753165(0x5d4)],{'locationMessage':{'degreesLatitude':_0x70be1e['locationMessage']['latitude'],'degreesLongitude':_0x70be1e['locationMessage'][_0x753165(0x753)],'name':_0x70be1e[_0x753165(0x655)]?.[_0x753165(0x219)],'address':_0x70be1e['locationMessage']?.['address']}},_0x70be1e?.[_0x753165(0x73b)]);}async[a0_0xc64edb(0x613)](_0x5e59d7){const _0x43c9d4=a0_0xc64edb;let _0x27791b={},_0x56c063=_0x8a2ac7=>{const _0x2b6e82=a0_0x431f;let _0x3b49ee='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x8a2ac7[_0x2b6e82(0x1a0)]+'\x0aFN:'+_0x8a2ac7['fullName']+'\x0a';_0x8a2ac7[_0x2b6e82(0x765)]&&(_0x3b49ee+=_0x2b6e82(0x4f9)+_0x8a2ac7['organization']+';\x0a'),_0x8a2ac7['email']&&(_0x3b49ee+=_0x2b6e82(0x4d1)+_0x8a2ac7[_0x2b6e82(0x284)]+'\x0a'),_0x8a2ac7['url']&&(_0x3b49ee+=_0x2b6e82(0x2dc)+_0x8a2ac7[_0x2b6e82(0x67c)]+'\x0a');let _0x2eb84b='';return _0x8a2ac7[_0x2b6e82(0x1e8)]&&_0x8a2ac7['phoneNumber'][_0x2b6e82(0x13f)]('|')['forEach']((_0x7e89d4,_0x1890c6)=>{const _0x1b1f30=_0x2b6e82;let _0x12a9d0=this[_0x1b1f30(0x208)](_0x7e89d4)[_0x1b1f30(0x4ee)](_0x1b1f30(0x351),'');_0x2eb84b+=_0x1b1f30(0x1ee)+(_0x1890c6+0x1)+_0x1b1f30(0x418)+_0x12a9d0+':'+_0x7e89d4+_0x1b1f30(0x675)+(_0x1890c6+0x1)+_0x1b1f30(0x20a);}),_0x3b49ee+=_0x2eb84b+_0x2b6e82(0x6b1),_0x3b49ee;};return _0x5e59d7[_0x43c9d4(0x613)][_0x43c9d4(0x593)]===0x1?_0x27791b[_0x43c9d4(0x613)]={'displayName':_0x5e59d7[_0x43c9d4(0x613)][0x0][_0x43c9d4(0x1a0)],'vcard':_0x56c063(_0x5e59d7[_0x43c9d4(0x613)][0x0])}:_0x27791b[_0x43c9d4(0x543)]={'displayName':_0x5e59d7['contactMessage'][_0x43c9d4(0x593)]+_0x43c9d4(0x372),'contacts':_0x5e59d7[_0x43c9d4(0x613)][_0x43c9d4(0x483)](_0x7c41ec=>({'displayName':_0x7c41ec[_0x43c9d4(0x1a0)],'vcard':_0x56c063(_0x7c41ec)}))},await this['sendMessageWithTyping'](_0x5e59d7[_0x43c9d4(0x5d4)],{..._0x27791b},_0x5e59d7?.[_0x43c9d4(0x73b)]);}async[a0_0xc64edb(0x5cf)](_0x163947){const _0x29d36f=a0_0xc64edb;return await this['sendMessageWithTyping'](_0x163947[_0x29d36f(0x5cf)]['key']['remoteJid'],{'reactionMessage':{'key':_0x163947[_0x29d36f(0x5cf)][_0x29d36f(0x241)],'text':_0x163947['reactionMessage'][_0x29d36f(0x661)]}});}async['whatsappNumber'](_0x114372){const _0x1cb177=a0_0xc64edb;let _0x3bf605=[];for await(let _0xb0d96d of _0x114372['numbers']){let _0x2b0386=this['createJid'](_0xb0d96d),_0x595129=!0x1;try{if((0x0,y[_0x1cb177(0x4d4)])(_0x2b0386)){let _0x434ce9=await this['findGroup']({'groupJid':_0x2b0386},_0x1cb177(0x620));_0x3bf605['push'](new me(_0x434ce9[_0x1cb177(0x26f)]['id'],!!_0x434ce9?.[_0x1cb177(0x26f)]['id'],_0x434ce9?.[_0x1cb177(0x26f)][_0x1cb177(0x35a)])),_0x595129=!!_0x434ce9?.[_0x1cb177(0x26f)]['id'];}else{let _0x856ddf=(await this['client'][_0x1cb177(0x151)](_0x2b0386))[0x0];_0x3bf605[_0x1cb177(0x4c1)](new me(_0x856ddf[_0x1cb177(0x260)],_0x856ddf['exists'])),_0x595129=_0x856ddf[_0x1cb177(0x41d)];}}catch{await this[_0x1cb177(0x50a)](_0x2b0386,_0x595129),_0x3bf605['push'](new me(_0xb0d96d,!0x1));}}return _0x3bf605;}async[a0_0xc64edb(0x50a)](_0xbee75f,_0xe3c08){const _0x3cf924=a0_0xc64edb;try{await this['repository'][_0x3cf924(0x3d8)][_0x3cf924(0x671)]({'where':{'_id':_0xbee75f,'imported':!0x0}},this['instance'][_0x3cf924(0x405)])&&(_0xe3c08||(await this['repository'][_0x3cf924(0x3d8)][_0x3cf924(0x430)](_0xbee75f,this[_0x3cf924(0x2ca)]['wuid']),console[_0x3cf924(0x5f3)](_0x3cf924(0x66a)+_0xbee75f+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x4f5c60){console['error'](_0x3cf924(0x183),_0x4f5c60);}}async[a0_0xc64edb(0x614)](_0x2f233e){const _0x1a1697=a0_0xc64edb;try{let _0x56f689=_0x2f233e[_0x1a1697(0x311)][_0x1a1697(0x679)](_0x498624=>(0x0,y[_0x1a1697(0x4d4)])(_0x498624['remoteJid'])||(0x0,y[_0x1a1697(0x309)])(_0x498624[_0x1a1697(0x2b0)]))['map'](_0x372817=>({'remoteJid':_0x372817['remoteJid'],'fromMe':_0x372817[_0x1a1697(0x792)],'id':_0x372817['id']}));await this['client']['readMessages'](_0x56f689);let _0x713920=_0x56f689['map'](_0x588a0a=>this['updateMessage'](_0x588a0a,{'status':_0x1a1697(0x5c1),'owner':this[_0x1a1697(0x2ca)]['wuid']})),_0x3ff60a=_0x56f689[_0x1a1697(0x483)](_0x7b9a1b=>this['repository'][_0x1a1697(0x3d8)][_0x1a1697(0x41e)]({'where':{'_id':_0x7b9a1b['remoteJid']}},{'unreadcount':0x0},this[_0x1a1697(0x2ca)][_0x1a1697(0x405)])),[_0x368a13,_0x5734b6]=await Promise['all']([Promise[_0x1a1697(0x503)](_0x713920),Promise['all'](_0x3ff60a)]);return _0x5734b6[_0x1a1697(0x679)](_0x26ad18=>_0x26ad18!==null)[_0x1a1697(0x2d6)](_0x197a8e=>{const _0x473f0f=_0x1a1697;J(this[_0x473f0f(0x56f)],_0x473f0f(0x78d),{'chat':_0x197a8e});}),{'message':_0x1a1697(0x334),'read':_0x1a1697(0x141)};}catch(_0x4f8f05){throw console[_0x1a1697(0x170)](_0x1a1697(0x2a1),_0x4f8f05),new O(_0x1a1697(0x6ed),_0x4f8f05['toString']());}}async['getLastMessage'](_0x31b3d2){const _0x4c5d2d=a0_0xc64edb;let _0x26ea93={'where':{'key':{'remoteJid':_0x31b3d2}},'limit':0x1},_0x37fbf7=await this[_0x4c5d2d(0x49d)](_0x26ea93);return _0x37fbf7||(console[_0x4c5d2d(0x170)]('Last\x20message\x20not\x20found\x20for\x20number:',_0x31b3d2),null);}async[a0_0xc64edb(0x571)](_0x15efec){const _0x454b6c=a0_0xc64edb;this[_0x454b6c(0x616)][_0x454b6c(0x6d2)](_0x454b6c(0x2b5));try{let _0x1eaac9=_0x15efec['lastMessage'],_0x272765=_0x15efec[_0x454b6c(0x3d8)];if(!_0x1eaac9&&_0x272765?_0x1eaac9=await this['getLastMessage'](_0x272765):(_0x1eaac9=_0x15efec[_0x454b6c(0x364)],_0x1eaac9['messageTimestamp']=_0x1eaac9?.[_0x454b6c(0x66b)]??Date[_0x454b6c(0x550)](),_0x272765=_0x1eaac9?.['key']?.[_0x454b6c(0x2b0)]),!_0x1eaac9||Object['keys'](_0x1eaac9)['length']===0x0)throw new j(_0x454b6c(0x4f7));this['logger']['verbose'](_0x454b6c(0x27c)+_0x272765);try{await this[_0x454b6c(0x4e7)][_0x454b6c(0x224)]({'archive':_0x15efec[_0x454b6c(0x4bc)],'lastMessages':[_0x1eaac9]},this[_0x454b6c(0x208)](_0x272765));}catch(_0x20d5a9){this['logger'][_0x454b6c(0x170)](_0x454b6c(0x5eb)+_0x272765+':\x20'+_0x20d5a9['toString']());}this[_0x454b6c(0x616)][_0x454b6c(0x6d2)](_0x454b6c(0x1b5)+_0x272765);let _0x4e7188=await this[_0x454b6c(0x19b)]['chat'][_0x454b6c(0x41e)]({'where':{'_id':_0x1eaac9?.['key']?.[_0x454b6c(0x2b0)]}},{'archived':_0x15efec[_0x454b6c(0x4bc)]},this[_0x454b6c(0x2ca)][_0x454b6c(0x405)]);return _0x4e7188?(this[_0x454b6c(0x616)][_0x454b6c(0x6d2)](_0x454b6c(0x777)+JSON[_0x454b6c(0x188)](_0x4e7188)),J(this[_0x454b6c(0x56f)],_0x454b6c(0x78d),{'chat':_0x4e7188})):this[_0x454b6c(0x616)][_0x454b6c(0x170)](_0x454b6c(0x627)+_0x272765),{'chatId':_0x272765,'archived':_0x15efec['archive']};}catch(_0x43268c){throw this[_0x454b6c(0x616)]['error'](_0x454b6c(0x413)+_0x43268c[_0x454b6c(0x289)]()),new O({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x43268c[_0x454b6c(0x289)]()]});}}async[a0_0xc64edb(0x653)](_0x59730d){const _0x129ea3=a0_0xc64edb;try{let _0x1662e1=await this[_0x129ea3(0x4e7)][_0x129ea3(0x5d6)](_0x59730d[_0x129ea3(0x2b0)],{'delete':_0x59730d});try{let _0x12a506=await this['updateMessage'](_0x59730d,{'status':'DELETED','owner':this[_0x129ea3(0x2ca)][_0x129ea3(0x405)]});this[_0x129ea3(0x616)][_0x129ea3(0x6d2)](this[_0x129ea3(0x56f)]+'\x20('+this[_0x129ea3(0x2ca)][_0x129ea3(0x405)]+_0x129ea3(0x505)+_0x12a506);}catch(_0x525e6e){console[_0x129ea3(0x170)](_0x129ea3(0x46d),_0x525e6e);}return _0x1662e1;}catch(_0x44fe57){throw new O(_0x129ea3(0x4ae),_0x44fe57?.['toString']());}}async[a0_0xc64edb(0x2ff)](_0x3a9839){const _0x23c2c6=a0_0xc64edb;try{let _0x56a656=_0x3a9839?.[_0x23c2c6(0x261)]?_0x3a9839:await this[_0x23c2c6(0x181)](_0x3a9839[_0x23c2c6(0x241)],!0x0);for(let _0x11f90a of pa)_0x56a656[_0x23c2c6(0x261)][_0x11f90a]&&(_0x56a656[_0x23c2c6(0x261)]=_0x56a656[_0x23c2c6(0x261)][_0x11f90a]['message']);let _0x5a25b7,_0x1d56b5;for(let _0xebeb54 of da)if(_0x5a25b7=_0x56a656['message'][_0xebeb54],_0x5a25b7){_0x1d56b5=_0xebeb54;break;}if(!_0x5a25b7)throw _0x23c2c6(0x52a);typeof _0x5a25b7[_0x23c2c6(0x512)]==_0x23c2c6(0x41a)&&(_0x56a656['message']=JSON['parse'](JSON['stringify'](_0x56a656[_0x23c2c6(0x261)])));let _0x1ba486=await(0x0,y[_0x23c2c6(0x3f2)])({'key':_0x56a656?.[_0x23c2c6(0x241)],'message':_0x56a656?.[_0x23c2c6(0x261)]},'buffer',{},{'logger':(0x0,Ot[_0x23c2c6(0x324)])({'level':_0x23c2c6(0x590)}),'reuploadRequest':this['client'][_0x23c2c6(0x540)]});if(!(_0x1ba486 instanceof Buffer))throw new Error(_0x23c2c6(0x3b9));let _0x5600d3=this[_0x23c2c6(0x46b)][_0x23c2c6(0x489)](_0x23c2c6(0x5a1)),_0x341b5d,_0x123316;if(_0x5a25b7[_0x23c2c6(0x775)])_0x341b5d=_0x5a25b7[_0x23c2c6(0x775)];else{let _0x4fab88=_0x5a25b7[_0x23c2c6(0x271)]?.[_0x23c2c6(0x5a3)](/\/(\w+)/),_0xb19c3a=_0x4fab88?_0x4fab88[0x1]:null;if(!_0xb19c3a)throw new Error(_0x23c2c6(0x6dd));_0x341b5d=(0x0,Me['v4'])()+'.'+_0xb19c3a;}_0x1d56b5===_0x23c2c6(0x584)&&_0x5a25b7[_0x23c2c6(0x271)]==='audio/ogg'?(_0x341b5d=(0x0,Me['v4'])()+_0x23c2c6(0x69b),_0x123316=_0x23c2c6(0x1c7)+await this[_0x23c2c6(0x5c6)](_0x1ba486[_0x23c2c6(0x289)](_0x23c2c6(0x3f1)))):(await this[_0x23c2c6(0x4e1)](_0x1ba486,_0x341b5d),_0x123316=_0x23c2c6(0x1c7)+_0x341b5d);let _0x388b68=this[_0x23c2c6(0x46b)][_0x23c2c6(0x489)]('SERVER')[_0x23c2c6(0x4f0)];if(!_0x388b68){let _0x37fc61=this['configService'][_0x23c2c6(0x489)](_0x23c2c6(0x45a));_0x388b68=_0x23c2c6(0x6c3)+(_0x37fc61&&_0x37fc61['FULLCHAIN']['split']('/')[0x4]);}_0x123316=''+_0x388b68+_0x123316;let _0x3d190d=0xc*0x3c*0x3c*0x3e8,_0x18bdd3={'where':{'_id':_0x56a656[_0x23c2c6(0x241)]['id']}},_0x44829b={'message_normalized.fileUrl':_0x123316,'message_normalized.expires_fileUrl':Date['now']()+_0x3d190d};try{let _0x2798ca=await this[_0x23c2c6(0x19b)][_0x23c2c6(0x261)][_0x23c2c6(0x527)](_0x18bdd3,_0x44829b,this['instance']['wuid']);_0x2798ca&&J(this[_0x23c2c6(0x56f)],_0x23c2c6(0x264),{'message':_0x2798ca});}catch(_0x492525){this['logger'][_0x23c2c6(0x170)](this['instanceName']+'\x20('+this[_0x23c2c6(0x2ca)][_0x23c2c6(0x405)]+_0x23c2c6(0x3f9)+(_0x492525 instanceof Error?_0x492525[_0x23c2c6(0x261)]:JSON['stringify'](_0x492525,null,0x2)));}return{'mediaType':_0x1d56b5,'fileName':_0x5a25b7[_0x23c2c6(0x775)],'caption':_0x5a25b7[_0x23c2c6(0x61c)],'size':{'fileLength':_0x5a25b7[_0x23c2c6(0x4da)],'height':_0x5a25b7[_0x23c2c6(0x7a8)],'width':_0x5a25b7[_0x23c2c6(0x54e)]},'mimetype':_0x5a25b7[_0x23c2c6(0x271)],'base64':_0x1ba486['toString'](_0x23c2c6(0x3f1)),'fileUrl':_0x123316,'expires_fileUrl':Date[_0x23c2c6(0x550)]()+_0x3d190d};}catch(_0x2e38e2){throw this['logger'][_0x23c2c6(0x170)](this[_0x23c2c6(0x56f)]+'\x20('+this[_0x23c2c6(0x2ca)][_0x23c2c6(0x405)]+_0x23c2c6(0x3f9)+(_0x2e38e2 instanceof Error?_0x2e38e2['message']:JSON[_0x23c2c6(0x188)](_0x2e38e2,null,0x2))),new m(_0x2e38e2[_0x23c2c6(0x289)]());}}async[a0_0xc64edb(0x4e1)](_0xda17d5,_0x38b432){const _0x16799c=a0_0xc64edb;let _0x28625f=F[_0x16799c(0x324)]['join'](__dirname,'downloads');L[_0x16799c(0x5f9)](_0x28625f)||L['mkdirSync'](_0x28625f,{'recursive':!0x0});let _0x31b95c=F[_0x16799c(0x324)][_0x16799c(0x5be)](_0x28625f,_0x38b432);return new Promise((_0x24ab72,_0x2a09c9)=>{const _0x1c95f3=_0x16799c;L[_0x1c95f3(0x68e)](_0x31b95c,_0xda17d5,_0x2a1a16=>{const _0xc88594=_0x1c95f3;_0x2a1a16?(this['logger'][_0xc88594(0x170)]('Error\x20writing\x20file:\x20'+(_0x2a1a16 instanceof Error?_0x2a1a16['message']:JSON[_0xc88594(0x188)](_0x2a1a16,null,0x2))),_0x2a09c9(_0x2a1a16)):(this[_0xc88594(0x616)][_0xc88594(0x5f3)](_0xc88594(0x4ba)+_0x31b95c),_0x24ab72(_0x31b95c));});});}async[a0_0xc64edb(0x299)](_0x9c9e96){const _0x465de2=a0_0xc64edb;return await this['repository'][_0x465de2(0x70a)]['find'](_0x9c9e96,this[_0x465de2(0x2ca)][_0x465de2(0x405)]);}async['fetchLabels'](){const _0x39844f=a0_0xc64edb;return await this[_0x39844f(0x19b)][_0x39844f(0x66d)][_0x39844f(0x670)]({'where':{}},this[_0x39844f(0x2ca)][_0x39844f(0x405)]);}async[a0_0xc64edb(0x49d)](_0x4307c4){const _0x3d2f48=a0_0xc64edb;return await this['repository']['message'][_0x3d2f48(0x670)](_0x4307c4,this['instance'][_0x3d2f48(0x405)]);}async[a0_0xc64edb(0x1bd)](){const _0x39e7ae=a0_0xc64edb;return this[_0x39e7ae(0x19b)][_0x39e7ae(0x3d8)][_0x39e7ae(0x5ed)](this[_0x39e7ae(0x2ca)][_0x39e7ae(0x405)]),this[_0x39e7ae(0x19b)]['chat'][_0x39e7ae(0x566)](this[_0x39e7ae(0x2ca)]['wuid']),this[_0x39e7ae(0x19b)][_0x39e7ae(0x3d8)][_0x39e7ae(0x619)](this[_0x39e7ae(0x2ca)][_0x39e7ae(0x405)]),this[_0x39e7ae(0x19b)]['chat'][_0x39e7ae(0x342)](this[_0x39e7ae(0x2ca)][_0x39e7ae(0x405)]),await this[_0x39e7ae(0x19b)][_0x39e7ae(0x3d8)][_0x39e7ae(0x670)]({'where':{}},this[_0x39e7ae(0x2ca)][_0x39e7ae(0x405)]);}async[a0_0xc64edb(0x315)](_0x21db83){const _0x42b2a1=a0_0xc64edb;try{if(!Array['isArray'](_0x21db83)||_0x21db83['length']===0x0)throw new Error(_0x42b2a1(0x3cf));let _0x4e9fd2=[],_0x3a2bd3=[];for(let _0x4cf4b9 of _0x21db83){if(_0x4cf4b9[_0x42b2a1(0x782)])_0x4cf4b9[_0x42b2a1(0x782)]=this['createJid'](_0x4cf4b9[_0x42b2a1(0x782)]);else continue;await this[_0x42b2a1(0x19b)]['chat'][_0x42b2a1(0x671)]({'where':{'_id':_0x4cf4b9[_0x42b2a1(0x782)]}},this[_0x42b2a1(0x2ca)]['wuid'])?_0x3a2bd3[_0x42b2a1(0x4c1)]({'_id':_0x4cf4b9['_id'],'leadInfo':_0x4cf4b9[_0x42b2a1(0x5b4)],'owner':this[_0x42b2a1(0x2ca)][_0x42b2a1(0x405)]}):_0x4e9fd2[_0x42b2a1(0x4c1)]({'_id':_0x4cf4b9[_0x42b2a1(0x782)],'owner':this[_0x42b2a1(0x2ca)][_0x42b2a1(0x405)],'leadInfo':_0x4cf4b9[_0x42b2a1(0x5b4)],'imported':!0x0});}return _0x3a2bd3[_0x42b2a1(0x593)]>0x0&&await this[_0x42b2a1(0x19b)][_0x42b2a1(0x3d8)][_0x42b2a1(0x1c9)](_0x3a2bd3[_0x42b2a1(0x483)](_0x3a8a7d=>({'query':{'where':{'_id':_0x3a8a7d['_id'],'owner':this['instance'][_0x42b2a1(0x405)]}},'update':_0x3a8a7d}))),_0x4e9fd2[_0x42b2a1(0x593)]>0x0&&await this[_0x42b2a1(0x19b)][_0x42b2a1(0x3d8)]['insertMany'](_0x4e9fd2,this[_0x42b2a1(0x2ca)][_0x42b2a1(0x405)]),{'updated':_0x3a2bd3['length'],'inserted':_0x4e9fd2[_0x42b2a1(0x593)]};}catch(_0x196d65){throw console['error']('Erro\x20ao\x20importar\x20chats:',_0x196d65),_0x196d65;}}async['importChats'](_0x112f33){const _0x8787fc=a0_0xc64edb;try{if(!Array[_0x8787fc(0x51d)](_0x112f33)||_0x112f33['length']===0x0)throw new Error(_0x8787fc(0x3cf));let _0xbe49c3=0x64,_0x2f4d0b=0x0;for(let _0x1dae44=0x0;_0x1dae44<_0x112f33[_0x8787fc(0x593)];_0x1dae44+=_0xbe49c3){let _0x38b559=_0x112f33[_0x8787fc(0x1be)](_0x1dae44,_0x1dae44+_0xbe49c3),{updated:_0x1398e3}=await this[_0x8787fc(0x353)](_0x38b559);_0x2f4d0b+=_0x1398e3;}return{'updated':_0x2f4d0b};}catch(_0x26b1e2){throw console[_0x8787fc(0x170)]('Erro\x20ao\x20importar\x20chats:',_0x26b1e2),_0x26b1e2;}}async['importChatsBatch'](_0x55cdc1){const _0x138c48=a0_0xc64edb;try{let _0x148780=await this[_0x138c48(0x19b)][_0x138c48(0x66d)][_0x138c48(0x670)]({'where':{}},this[_0x138c48(0x2ca)][_0x138c48(0x405)]),_0x4f0b5b=new Set(_0x148780['map'](_0x170dfe=>_0x170dfe['_id'])),_0x40cba7=[],_0x4fb7ce=[];for(let _0x891811 of _0x55cdc1){if(!_0x891811[_0x138c48(0x782)])continue;_0x891811[_0x138c48(0x782)]=this['createJid'](_0x891811[_0x138c48(0x782)]);let _0x37cc55=await this[_0x138c48(0x19b)]['chat'][_0x138c48(0x671)]({'where':{'_id':_0x891811[_0x138c48(0x782)]}},this[_0x138c48(0x2ca)][_0x138c48(0x405)]),_0x2dcb15={};if(Object[_0x138c48(0x490)](_0x891811[_0x138c48(0x5b4)])[_0x138c48(0x2d6)](([_0x24144c,_0x115b28])=>{const _0x32769d=_0x138c48;_0x2dcb15[_0x32769d(0x22f)+_0x24144c]=_0x115b28;}),_0x37cc55&&!_0x37cc55[_0x138c48(0x783)]){let _0x258ba4=(_0x891811[_0x138c48(0x5b4)][_0x138c48(0x51f)]||[])[_0x138c48(0x679)](_0x2e8532=>_0x4f0b5b[_0x138c48(0x64f)](_0x2e8532)),_0x379ba8=new Set(_0x37cc55['leadInfo'][_0x138c48(0x51f)]||[]),_0x1510cc=_0x258ba4['filter'](_0x2a8dd7=>!_0x379ba8[_0x138c48(0x64f)](_0x2a8dd7)),_0x105cfa=[..._0x379ba8]['filter'](_0x30b8df=>!_0x258ba4[_0x138c48(0x4df)](_0x30b8df));_0x4fb7ce[_0x138c48(0x4c1)](..._0x1510cc[_0x138c48(0x483)](_0x34e11d=>this['AddChatLabel'](_0x34e11d,_0x891811[_0x138c48(0x782)]))),_0x4fb7ce[_0x138c48(0x4c1)](..._0x105cfa[_0x138c48(0x483)](_0x252093=>this[_0x138c48(0x48d)](_0x252093,_0x891811['_id']))),_0x891811['leadInfo'][_0x138c48(0x51f)]=_0x258ba4,_0x40cba7[_0x138c48(0x4c1)]({'query':{'where':{'_id':_0x891811[_0x138c48(0x782)],'owner':this['instance'][_0x138c48(0x405)]}},'update':_0x2dcb15});}else _0x2dcb15[_0x138c48(0x783)]=!0x0,_0x40cba7['push']({'query':{'where':{'_id':_0x891811[_0x138c48(0x782)],'owner':this[_0x138c48(0x2ca)][_0x138c48(0x405)]}},'update':_0x2dcb15});}let _0x10f9ef=await this[_0x138c48(0x19b)][_0x138c48(0x3d8)][_0x138c48(0x1c9)](_0x40cba7);return await Promise[_0x138c48(0x503)](_0x4fb7ce),{'updated':_0x10f9ef};}catch(_0xaf45fe){throw console[_0x138c48(0x170)]('Erro\x20ao\x20importar\x20chats:',_0xaf45fe),_0xaf45fe;}}async[a0_0xc64edb(0x528)](){const _0x34f76a=a0_0xc64edb;return await this[_0x34f76a(0x4e7)]['fetchPrivacySettings']();}async['updatePrivacySettings'](_0x1ff124){const _0x1690b1=a0_0xc64edb;try{return await this[_0x1690b1(0x4e7)][_0x1690b1(0x26a)](_0x1ff124[_0x1690b1(0x1b3)][_0x1690b1(0x202)]),await this[_0x1690b1(0x4e7)]['updateProfilePicturePrivacy'](_0x1ff124[_0x1690b1(0x1b3)][_0x1690b1(0x611)]),await this['client'][_0x1690b1(0x29a)](_0x1ff124[_0x1690b1(0x1b3)][_0x1690b1(0x23b)]),await this['client']['updateOnlinePrivacy'](_0x1ff124[_0x1690b1(0x1b3)][_0x1690b1(0x5bc)]),await this[_0x1690b1(0x4e7)][_0x1690b1(0x4e8)](_0x1ff124[_0x1690b1(0x1b3)]['last']),await this[_0x1690b1(0x4e7)][_0x1690b1(0x442)](_0x1ff124['privacySettings'][_0x1690b1(0x434)]),this[_0x1690b1(0x4e7)]?.['ws']?.[_0x1690b1(0x2d8)](),{'update':_0x1690b1(0x141),'data':{'readreceipts':_0x1ff124[_0x1690b1(0x1b3)][_0x1690b1(0x202)],'profile':_0x1ff124[_0x1690b1(0x1b3)][_0x1690b1(0x611)],'status':_0x1ff124[_0x1690b1(0x1b3)][_0x1690b1(0x23b)],'online':_0x1ff124[_0x1690b1(0x1b3)]['online'],'last':_0x1ff124[_0x1690b1(0x1b3)][_0x1690b1(0x257)],'groupadd':_0x1ff124[_0x1690b1(0x1b3)][_0x1690b1(0x434)]}};}catch(_0x31e71c){throw new O(_0x1690b1(0x39c),_0x31e71c[_0x1690b1(0x289)]());}}async[a0_0xc64edb(0x5ef)](_0x33c06d){const _0xe7a721=a0_0xc64edb;let _0x48ed30=_0x33c06d?this[_0xe7a721(0x208)](_0x33c06d):this['client']?.[_0xe7a721(0x3e6)]?.['id'];this[_0xe7a721(0x616)][_0xe7a721(0x6d2)](_0xe7a721(0x16c)+_0x48ed30);try{if(this[_0xe7a721(0x616)][_0xe7a721(0x6d2)](_0xe7a721(0x545)),_0x33c06d){let _0x157f69=(await this['whatsappNumber']({'numbers':[_0x48ed30]}))?.[_0xe7a721(0x4e5)](),_0x5249ad=await this['profilePicture'](_0x157f69?.[_0xe7a721(0x260)]),_0xa2369c=await this[_0xe7a721(0x712)](_0x157f69?.[_0xe7a721(0x260)]),_0x239efa=await this[_0xe7a721(0x5fd)](_0x157f69?.[_0xe7a721(0x260)]);return{'wuid':_0x157f69?.[_0xe7a721(0x260)]||_0x48ed30,'name':_0x157f69?.['name'],'numberExists':_0x157f69?.['exists'],'picture':_0x5249ad?.[_0xe7a721(0x176)],'status':_0xa2369c?.[_0xe7a721(0x23b)],'isBusiness':_0x239efa['isBusiness'],'email':_0x239efa?.['email'],'description':_0x239efa?.[_0xe7a721(0x4ec)],'website':_0x239efa?.[_0xe7a721(0x231)]?.['shift']()};}}catch{return this[_0xe7a721(0x616)][_0xe7a721(0x6d2)](_0xe7a721(0x4b7)),{'wuid':_0x48ed30,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0xc64edb(0x75c)](_0x5914cc){const _0x41d7a6=a0_0xc64edb;let _0x15c0b8=(_0x5914cc?this[_0x41d7a6(0x208)](_0x5914cc):this[_0x41d7a6(0x4e7)]?.[_0x41d7a6(0x3e6)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this['logger'][_0x41d7a6(0x6d2)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x15c0b8);let _0x3edb8e=await this[_0x41d7a6(0x19b)][_0x41d7a6(0x70a)][_0x41d7a6(0x671)]({'where':{'_id':_0x15c0b8}},this[_0x41d7a6(0x2ca)][_0x41d7a6(0x405)]),_0x4e994a=_0x3edb8e?_0x3edb8e['pushName']:null;try{let _0x4ceb07=(await this[_0x41d7a6(0x4ad)]({'numbers':[_0x15c0b8]}))?.[_0x41d7a6(0x4e5)](),_0x491a1c=await this['profilePicture'](_0x4ceb07?.[_0x41d7a6(0x260)]),_0x2ef8de=await this[_0x41d7a6(0x712)](_0x4ceb07?.['jid']),_0x46c2ef=await this[_0x41d7a6(0x5fd)](_0x4ceb07?.[_0x41d7a6(0x260)]),_0x33e510=await this[_0x41d7a6(0x19b)]['chat'][_0x41d7a6(0x671)]({'where':{'_id':_0x15c0b8}},this[_0x41d7a6(0x2ca)]['wuid']),_0x2cb10d={'imagechat':_0x491a1c?.[_0x41d7a6(0x176)],'contactname':_0x4e994a||null,'status':_0x2ef8de?.[_0x41d7a6(0x23b)],'isBusiness':_0x46c2ef[_0x41d7a6(0x4aa)],'email':_0x46c2ef?.[_0x41d7a6(0x284)],'description':_0x46c2ef?.[_0x41d7a6(0x4ec)],'website':_0x46c2ef?.['website']?.[_0x41d7a6(0x4e5)](),'lastcache':Date[_0x41d7a6(0x550)](),'imported':!_0x33e510},_0x46f7d7=await this[_0x41d7a6(0x19b)][_0x41d7a6(0x3d8)][_0x41d7a6(0x41e)]({'where':{'_id':_0x15c0b8}},_0x2cb10d,this[_0x41d7a6(0x2ca)]['wuid']),_0x32933c={'owner':this['instance'][_0x41d7a6(0x405)],'_id':_0x15c0b8,'profilePictureUrl':_0x491a1c?.[_0x41d7a6(0x176)],'status':_0x2ef8de?.[_0x41d7a6(0x23b)]};return this['repository'][_0x41d7a6(0x70a)]['update']([_0x32933c],this[_0x41d7a6(0x2ca)][_0x41d7a6(0x405)]),_0x46f7d7&&J(this[_0x41d7a6(0x56f)],'chats',{'chat':_0x46f7d7}),{'wuid':_0x4ceb07?.[_0x41d7a6(0x260)]||_0x15c0b8,'name':_0x4ceb07?.['name'],'numberExists':_0x4ceb07?.['exists'],'picture':_0x491a1c?.['profilePictureUrl'],'status':_0x2ef8de?.[_0x41d7a6(0x23b)],'isBusiness':_0x46c2ef[_0x41d7a6(0x4aa)],'email':_0x46c2ef?.[_0x41d7a6(0x284)],'description':_0x46c2ef?.[_0x41d7a6(0x4ec)],'website':_0x46c2ef?.[_0x41d7a6(0x231)]?.[_0x41d7a6(0x4e5)]()};}catch(_0x378dcb){return this['logger'][_0x41d7a6(0x170)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x378dcb instanceof Error?_0x378dcb['message']:JSON[_0x41d7a6(0x188)](_0x378dcb,null,0x2))),{};}}async[a0_0xc64edb(0x5fd)](_0xbbab8b){const _0x2c1b19=a0_0xc64edb;this[_0x2c1b19(0x616)][_0x2c1b19(0x6d2)]('Fetching\x20business\x20profile');try{let _0x5f025f=_0xbbab8b?this[_0x2c1b19(0x208)](_0xbbab8b):this['instance'][_0x2c1b19(0x405)],_0x51e383=await this['client'][_0x2c1b19(0x74e)](_0x5f025f);return this[_0x2c1b19(0x616)][_0x2c1b19(0x6d2)](_0x2c1b19(0x48b)),_0x51e383?(this[_0x2c1b19(0x616)][_0x2c1b19(0x6d2)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x51e383}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x2c1b19(0x4ad)]({'numbers':[_0x5f025f]}))?.[_0x2c1b19(0x4e5)]()};}catch(_0x318f89){throw new O(_0x2c1b19(0x4cc),_0x318f89['toString']());}}async['getStatus'](_0x37e33d){const _0x7fbb2f=a0_0xc64edb;let _0x5b1f16=this[_0x7fbb2f(0x208)](_0x37e33d);try{return{'wuid':_0x5b1f16,'status':(await this[_0x7fbb2f(0x4e7)][_0x7fbb2f(0x4a4)](_0x5b1f16))?.[_0x7fbb2f(0x23b)]};}catch{return{'wuid':_0x5b1f16,'status':null};}}async[a0_0xc64edb(0x71a)](_0x1367a3){const _0x497503=a0_0xc64edb;try{return await this[_0x497503(0x4e7)][_0x497503(0x71a)](_0x1367a3),{'update':_0x497503(0x141)};}catch(_0x5dbcfb){throw new O(_0x497503(0x4cc),_0x5dbcfb[_0x497503(0x289)]());}}async[a0_0xc64edb(0x3a1)](_0x11172d){const _0x428c1a=a0_0xc64edb;try{return await this[_0x428c1a(0x4e7)][_0x428c1a(0x3a1)](_0x11172d),{'update':'success'};}catch(_0x14fbbc){throw new O(_0x428c1a(0x6a6),_0x14fbbc[_0x428c1a(0x289)]());}}async[a0_0xc64edb(0x2c0)](_0x305796){const _0x813138=a0_0xc64edb;try{let _0x5d61ac;if((0x0,k[_0x813138(0x4f1)])(_0x305796)){let _0x598623=new Date()[_0x813138(0x34d)](),_0x20b3e8=_0x305796+_0x813138(0x7a9)+_0x598623;_0x5d61ac=(await se['default'][_0x813138(0x489)](_0x20b3e8,{'responseType':_0x813138(0x625)}))['data'];}else{if((0x0,k[_0x813138(0x4e9)])(_0x305796))_0x5d61ac=Buffer[_0x813138(0x674)](_0x305796,'base64');else throw new m(_0x813138(0x385));}return await this[_0x813138(0x4e7)]['updateProfilePicture'](this['instance']['wuid'],_0x5d61ac),{'update':_0x813138(0x141)};}catch(_0x2f6d8c){throw new O(_0x813138(0x247),_0x2f6d8c[_0x813138(0x289)]());}}async[a0_0xc64edb(0x1e4)](){const _0x10e06b=a0_0xc64edb;try{return await this['client'][_0x10e06b(0x1e4)](this[_0x10e06b(0x2ca)][_0x10e06b(0x405)]),{'update':'success'};}catch(_0x535569){throw new O(_0x10e06b(0x375),_0x535569[_0x10e06b(0x289)]());}}async[a0_0xc64edb(0x5e7)](_0x2b602f){const _0x1a0dd1=a0_0xc64edb;try{let _0x2fbd8c=_0x2b602f['participants']['map'](_0x5e1cdf=>this[_0x1a0dd1(0x208)](_0x5e1cdf)),{id:_0x40a597}=await this[_0x1a0dd1(0x4e7)][_0x1a0dd1(0x62f)](_0x2b602f['subject'],_0x2fbd8c);return _0x2b602f?.['description']&&await this['client'][_0x1a0dd1(0x533)](_0x40a597,_0x2b602f['description']),{'metadata':await this[_0x1a0dd1(0x4e7)][_0x1a0dd1(0x262)](_0x40a597)};}catch(_0x3db74f){throw this[_0x1a0dd1(0x616)][_0x1a0dd1(0x170)](this[_0x1a0dd1(0x56f)]+'\x20('+this[_0x1a0dd1(0x2ca)]['wuid']+_0x1a0dd1(0x3f9)+(_0x3db74f instanceof Error?_0x3db74f['message']:JSON[_0x1a0dd1(0x188)](_0x3db74f,null,0x2))),new O(_0x1a0dd1(0x475),_0x3db74f[_0x1a0dd1(0x289)]());}}async[a0_0xc64edb(0x58e)](_0x2d00c1){const _0x1948c0=a0_0xc64edb;try{let _0x19807a;if((0x0,k['isURL'])(_0x2d00c1[_0x1948c0(0x6dc)])){let _0x3b829a=new Date()['getTime'](),_0x5f1e32=_0x2d00c1['image']+_0x1948c0(0x7a9)+_0x3b829a;_0x19807a=(await se['default'][_0x1948c0(0x489)](_0x5f1e32,{'responseType':'arraybuffer'}))[_0x1948c0(0x1d1)];}else{if((0x0,k[_0x1948c0(0x4e9)])(_0x2d00c1[_0x1948c0(0x6dc)]))_0x19807a=Buffer['from'](_0x2d00c1['image'],_0x1948c0(0x3f1));else throw new m(_0x1948c0(0x385));}return await this[_0x1948c0(0x4e7)][_0x1948c0(0x2c0)](_0x2d00c1[_0x1948c0(0x633)],_0x19807a),{'update':_0x1948c0(0x141)};}catch(_0xc0a9bb){throw new O(_0x1948c0(0x41c),_0xc0a9bb['toString']());}}async['findGroup'](_0x54f761,_0x414db6=a0_0xc64edb(0x79b)){const _0x1999d8=a0_0xc64edb;try{let _0x5d070e=await this[_0x1999d8(0x4e7)][_0x1999d8(0x262)](_0x54f761[_0x1999d8(0x633)]),_0x35053e=null;try{_0x35053e=(await this[_0x1999d8(0x4ea)](_0x54f761[_0x1999d8(0x633)]))[_0x1999d8(0x176)];}catch(_0x158948){this[_0x1999d8(0x616)]['verbose'](this[_0x1999d8(0x56f)]+'\x20('+this[_0x1999d8(0x2ca)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x54f761[_0x1999d8(0x633)]+':\x20'+(_0x158948 instanceof Error?_0x158948['message']:JSON[_0x1999d8(0x188)](_0x158948,null,0x2)));}let _0x5c691b=await this['repository']['chat'][_0x1999d8(0x41e)]({'where':{'_id':_0x54f761[_0x1999d8(0x633)]}},{'imagechat':_0x35053e,'name':_0x5d070e[_0x1999d8(0x35a)],'group_size':_0x5d070e[_0x1999d8(0x156)],'group_announce':_0x5d070e[_0x1999d8(0x343)],'lastcache':Date[_0x1999d8(0x550)]()},this['instance'][_0x1999d8(0x405)]);return _0x5c691b&&J(this['instanceName'],_0x1999d8(0x78d),{'chat':_0x5c691b}),{'metadata':_0x5d070e,'image':_0x35053e};}catch(_0x2cd68f){if(_0x414db6===_0x1999d8(0x620))return;throw new j(_0x1999d8(0x75a),_0x2cd68f[_0x1999d8(0x289)]());}}async[a0_0xc64edb(0x519)](_0x40fc38){const _0x4de6fc=a0_0xc64edb;try{return await this[_0x4de6fc(0x4e7)][_0x4de6fc(0x533)](_0x40fc38[_0x4de6fc(0x633)],_0x40fc38[_0x4de6fc(0x4ec)]),{'update':'success'};}catch(_0x9460a4){throw new O(_0x4de6fc(0x3f3),_0x9460a4[_0x4de6fc(0x289)]());}}async[a0_0xc64edb(0x6e4)](_0x1d39c2){const _0x5a0ab1=a0_0xc64edb;try{return await this[_0x5a0ab1(0x4e7)][_0x5a0ab1(0x580)](_0x1d39c2['groupJid'],_0x1d39c2[_0x5a0ab1(0x219)]),{'update':_0x5a0ab1(0x141)};}catch(_0xd9bdea){throw new O(_0x5a0ab1(0x76b),_0xd9bdea[_0x5a0ab1(0x289)]());}}async['groupSetting'](_0x1242e4){const _0x15364a=a0_0xc64edb;try{return await this[_0x15364a(0x4e7)][_0x15364a(0x5e5)](_0x1242e4[_0x15364a(0x633)],_0x1242e4['setting']),{'update':_0x15364a(0x141)};}catch(_0x37617a){throw new O(_0x15364a(0x34f),_0x37617a[_0x15364a(0x289)]());}}async[a0_0xc64edb(0x66e)](){const _0x2a16e2=a0_0xc64edb;try{let _0x5d34d9=[],_0x1b6a48=await this[_0x2a16e2(0x4e7)][_0x2a16e2(0x4e6)](),_0x4fdf6e=Object[_0x2a16e2(0x4d5)](_0x1b6a48),_0x223e33=_0x4fdf6e[_0x2a16e2(0x679)](_0x4155a5=>(0x0,y[_0x2a16e2(0x4d4)])(_0x4155a5?.['id']))['map'](async _0x164ee5=>{const _0x196002=_0x2a16e2;try{return await this[_0x196002(0x4e7)][_0x196002(0x176)](_0x164ee5['id'],_0x196002(0x2ae));}catch(_0x367583){return this[_0x196002(0x616)][_0x196002(0x6d2)](this[_0x196002(0x56f)]+'\x20('+this[_0x196002(0x2ca)][_0x196002(0x405)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x164ee5['id']+':\x20'+(_0x367583 instanceof Error?_0x367583[_0x196002(0x261)]:JSON[_0x196002(0x188)](_0x367583,null,0x2))),null;}}),_0x54aa84=await Promise[_0x2a16e2(0x503)](_0x223e33);for(let _0x547e18=0x0;_0x547e18<_0x4fdf6e[_0x2a16e2(0x593)];_0x547e18++){let _0x643a53=_0x4fdf6e[_0x547e18];(0x0,y[_0x2a16e2(0x4d4)])(_0x643a53?.['id'])&&_0x5d34d9[_0x2a16e2(0x4c1)]({'groupJid':_0x643a53?.['id'],'subject':_0x643a53?.[_0x2a16e2(0x35a)],'subjectOwner':_0x643a53?.[_0x2a16e2(0x2ac)]?.[_0x2a16e2(0x13f)]('@')[0x0],'subjectTime':_0x643a53?.[_0x2a16e2(0x702)],'size':_0x643a53?.['participants']?.[_0x2a16e2(0x593)],'owner':_0x643a53?.[_0x2a16e2(0x62a)]?.[_0x2a16e2(0x13f)]('@')[0x0],'creation':_0x643a53?.['creation'],'desc':_0x643a53?.['desc'],'restrict':_0x643a53?.[_0x2a16e2(0x2c9)],'announce':_0x643a53?.[_0x2a16e2(0x343)],'image':_0x54aa84[_0x547e18]});}return _0x5d34d9;}catch(_0x3387b6){throw new j(_0x2a16e2(0x75a),_0x3387b6[_0x2a16e2(0x289)]());}}async['inviteCode'](_0x31ce86){const _0x385e4d=a0_0xc64edb;try{let _0x1293ec=await this[_0x385e4d(0x4e7)][_0x385e4d(0x3d9)](_0x31ce86[_0x385e4d(0x633)]);return{'inviteUrl':_0x385e4d(0x2ed)+_0x1293ec,'inviteCode':_0x1293ec};}catch(_0x3b4891){throw new j(_0x385e4d(0x5d7),_0x3b4891[_0x385e4d(0x289)]());}}async[a0_0xc64edb(0x1b9)](_0x1814b9){const _0x485f03=a0_0xc64edb;try{let _0x5841a6=await this['client']['groupRevokeInvite'](_0x1814b9[_0x485f03(0x633)]);return{'revoked':!0x0,'inviteUrl':_0x485f03(0x2ed)+_0x5841a6,'inviteCode':_0x5841a6};}catch(_0x130b58){throw new j(_0x485f03(0x722),_0x130b58[_0x485f03(0x289)]());}}async[a0_0xc64edb(0x2f8)](_0xdf673c){const _0x5b8895=a0_0xc64edb;try{if((0x0,k[_0x5b8895(0x4f1)])(_0xdf673c[_0x5b8895(0x214)]))var _0x322809=_0xdf673c[_0x5b8895(0x214)]['split']('/')[0x3];else var _0x322809=_0xdf673c[_0x5b8895(0x214)];let _0x5d69b9=await this[_0x5b8895(0x4e7)][_0x5b8895(0x44a)](_0x322809);return this['logger'][_0x5b8895(0x6d2)](this[_0x5b8895(0x56f)]+'\x20('+this[_0x5b8895(0x2ca)]['wuid']+_0x5b8895(0x3f9)+_0x5d69b9),{'join':!0x0,'inviteCode':_0x322809,'groupJid':_0x5d69b9};}catch(_0x5859ba){throw new j(_0x5b8895(0x4a2),_0x5859ba[_0x5b8895(0x289)]());}}async[a0_0xc64edb(0x6ad)](_0xa3c470){const _0x1e8612=a0_0xc64edb;try{return{'participants':(await this[_0x1e8612(0x4e7)][_0x1e8612(0x262)](_0xa3c470['groupJid']))[_0x1e8612(0x403)]};}catch(_0x49f128){throw new j('No\x20participants',_0x49f128[_0x1e8612(0x289)]());}}async[a0_0xc64edb(0x1d4)](_0x495ab5){const _0x10732b=a0_0xc64edb;try{let _0x36ef4a=_0x495ab5[_0x10732b(0x403)][_0x10732b(0x483)](_0x3e9e2d=>this['createJid'](_0x3e9e2d));return{'updateParticipants':await this['client']['groupParticipantsUpdate'](_0x495ab5[_0x10732b(0x633)],_0x36ef4a,_0x495ab5[_0x10732b(0x6df)])};}catch(_0x30f19c){throw new m(_0x10732b(0x44e),_0x30f19c[_0x10732b(0x289)]());}}async['toggleEphemeral'](_0xa76d3c){const _0xb2c8ca=a0_0xc64edb;try{let _0x2a87ec=await this[_0xb2c8ca(0x4e7)][_0xb2c8ca(0x2d0)](_0xa76d3c[_0xb2c8ca(0x633)],_0xa76d3c[_0xb2c8ca(0x3e9)]);return{'success':!0x0};}catch(_0x173b10){throw new m(_0xb2c8ca(0x3e1),_0x173b10['toString']());}}async['leaveGroup'](_0x3c109a){const _0x245d9e=a0_0xc64edb;try{return await this[_0x245d9e(0x4e7)]['groupLeave'](_0x3c109a[_0x245d9e(0x633)]),{'groupJid':_0x3c109a['groupJid'],'leave':!0x0};}catch(_0x5ac37f){throw new m('Unable\x20to\x20leave\x20the\x20group',_0x5ac37f[_0x245d9e(0x289)]());}}async[a0_0xc64edb(0x6c5)](_0x199553){const _0x56fa9a=a0_0xc64edb;return await this[_0x56fa9a(0x762)](_0x199553[_0x56fa9a(0x5d4)],{'poll':{'name':_0x199553[_0x56fa9a(0x6c5)]?.[_0x56fa9a(0x219)],'selectableCount':_0x199553[_0x56fa9a(0x6c5)][_0x56fa9a(0x35c)],'values':_0x199553[_0x56fa9a(0x6c5)][_0x56fa9a(0x4d5)]}},_0x199553?.[_0x56fa9a(0x73b)]);}async['listMessage'](_0x2ae1b7){const _0x11b2fb=a0_0xc64edb;return await this[_0x11b2fb(0x762)](_0x2ae1b7[_0x11b2fb(0x5d4)],{'listMessage':{'title':_0x2ae1b7[_0x11b2fb(0x757)]['title'],'description':_0x2ae1b7[_0x11b2fb(0x757)][_0x11b2fb(0x4ec)],'buttonText':_0x2ae1b7[_0x11b2fb(0x757)]?.[_0x11b2fb(0x697)],'footerText':_0x2ae1b7[_0x11b2fb(0x757)]?.[_0x11b2fb(0x541)],'sections':_0x2ae1b7[_0x11b2fb(0x757)][_0x11b2fb(0x609)],'listType':0x2}},_0x2ae1b7?.[_0x11b2fb(0x73b)]);}async[a0_0xc64edb(0x717)](_0x1e8a43){const _0x550125=a0_0xc64edb;let _0xe70b03;if(_0x1e8a43[_0x550125(0x717)][_0x550125(0x326)]===_0x550125(0x217)){let _0x2ef697=_0x1e8a43[_0x550125(0x717)]['text']['indexOf']('\x0a'),_0x40f58b='',_0x311572='';_0x2ef697!==-0x1?(_0x40f58b=_0x1e8a43[_0x550125(0x717)][_0x550125(0x646)][_0x550125(0x769)](0x0,_0x2ef697)['trim'](),_0x311572=_0x1e8a43[_0x550125(0x717)]['text']['substring'](_0x2ef697+0x1)):_0x311572=_0x1e8a43[_0x550125(0x717)]['text'];let _0x49a64a=this[_0x550125(0x3a3)](_0x1e8a43['menuMessage'][_0x550125(0x293)]);_0xe70b03={'listMessage':{'title':_0x40f58b,'description':_0x311572,'buttonText':_0x1e8a43[_0x550125(0x717)][_0x550125(0x697)]||_0x550125(0x2f0),'footerText':_0x1e8a43[_0x550125(0x717)][_0x550125(0x541)],'sections':_0x49a64a,'listType':0x2}};}else{if(_0x1e8a43[_0x550125(0x717)]['type']===_0x550125(0x5f5)){let _0x6c0bea=_0x1e8a43[_0x550125(0x717)][_0x550125(0x293)]['filter'](_0x5316f4=>!(_0x5316f4['startsWith']('[')&&_0x5316f4[_0x550125(0x6c0)](']')))['map'](_0x1be721=>_0x1be721[_0x550125(0x13f)]('\x0a')[0x0]);_0xe70b03={'poll':{'name':_0x1e8a43[_0x550125(0x717)][_0x550125(0x646)],'selectableCount':_0x1e8a43[_0x550125(0x717)][_0x550125(0x35c)]||0x1,'values':_0x6c0bea}};}}return await this[_0x550125(0x762)](_0x1e8a43['number'],_0xe70b03,_0x1e8a43?.[_0x550125(0x73b)]);}[a0_0xc64edb(0x3a3)](_0x167206){const _0x3a150e=a0_0xc64edb;let _0x5dcc28=[],_0xfe8dab={'rows':[]};return _0x167206[_0x3a150e(0x2d6)](_0x3dbb77=>{const _0xbf235d=_0x3a150e;if(_0x3dbb77['startsWith']('[')&&_0x3dbb77[_0xbf235d(0x6c0)](']'))_0xfe8dab['rows'][_0xbf235d(0x593)]>0x0&&_0x5dcc28['push'](_0xfe8dab),_0xfe8dab={'title':_0x3dbb77[_0xbf235d(0x1be)](0x1,-0x1),'rows':[]};else{let _0x288b3b=_0x3dbb77[_0xbf235d(0x13f)]('\x0a')[_0xbf235d(0x483)](_0x78d19d=>_0x78d19d[_0xbf235d(0x72f)]()),_0xb61270=_0x288b3b[0x0],_0x850c51=_0x288b3b[0x1]||null,_0x58a4be=_0x288b3b[0x2]||_0xb61270;_0xfe8dab[_0xbf235d(0x767)][_0xbf235d(0x4c1)]({'title':_0xb61270,'description':_0x850c51,'rowId':_0x58a4be});}}),_0xfe8dab['rows']['length']>0x0&&_0x5dcc28['push'](_0xfe8dab),_0x5dcc28;}async[a0_0xc64edb(0x1db)](_0x106e46,_0xeac8e){const _0x2b048a=a0_0xc64edb;if(await this[_0x2b048a(0x181)](_0x106e46,!0x0)){let _0x14035b={'where':{'_id':_0x106e46['id']}},_0x10462e={'status':[_0xeac8e[_0x2b048a(0x23b)]][0x0]};try{let _0x3f191f=await this[_0x2b048a(0x19b)][_0x2b048a(0x261)]['update'](_0x14035b,_0x10462e,this[_0x2b048a(0x2ca)]['wuid']);_0x3f191f&&J(this[_0x2b048a(0x56f)],'messages',{'message':_0x3f191f});}catch{}}}[a0_0xc64edb(0x389)](_0x1ffbab){const _0x8833d=a0_0xc64edb;let _0x206067=[];return _0x1ffbab[_0x8833d(0x2d6)](_0x314bf4=>{const _0x5d7a5b=_0x8833d;_0x314bf4[_0x5d7a5b(0x588)]&&_0x206067[_0x5d7a5b(0x4c1)]('['+_0x314bf4['title']+']'),_0x314bf4['rows'][_0x5d7a5b(0x2d6)](_0x4cf531=>{const _0x4125e9=_0x5d7a5b;_0x206067[_0x4125e9(0x4c1)](_0x4cf531[_0x4125e9(0x588)]);});}),_0x206067['join']('|');}[a0_0xc64edb(0x205)](_0x594bd8){const _0x3ca0d5=a0_0xc64edb;let _0x2ca3cd=_0x594bd8[_0x3ca0d5(0x4ee)](/\\n/g,'\x0a')[_0x3ca0d5(0x13f)]('\x0a')['filter'](_0x497141=>_0x497141['includes'](_0x3ca0d5(0x469))||_0x497141['includes'](_0x3ca0d5(0x5a5))),_0x2c1159='';return _0x2ca3cd[_0x3ca0d5(0x2d6)](_0xd9e75=>{const _0x3616a9=_0x3ca0d5;let _0x3b5300=/TEL(?:.*):(.+)/,_0x2a8ec9=/EMAIL(?:.*):(.+)/,_0x343d47=_0xd9e75[_0x3616a9(0x5a3)](_0x3b5300),_0x104903=_0xd9e75[_0x3616a9(0x5a3)](_0x2a8ec9);if(_0x343d47){let _0x557bc2=_0x343d47[0x1][_0x3616a9(0x4ee)](/-| |\+|\(|\)/g,'')[_0x3616a9(0x72f)]();_0x2c1159+=_0x3616a9(0x4fb)+_0x557bc2+'\x0a';}else{if(_0x104903){let _0x5f06df=_0x104903[0x1][_0x3616a9(0x72f)]();_0x2c1159+='E-mail:\x20'+_0x5f06df+'\x0a';}}}),_0x2c1159['trim']();}async[a0_0xc64edb(0x48f)](_0x268f1b,_0x24b371,_0x38d1d0){const _0x582f7b=a0_0xc64edb;if(!_0x268f1b[_0x582f7b(0x38b)])return;let _0x341917=_0x24b371[_0x582f7b(0x241)]['remoteJid'][_0x582f7b(0x4ee)](/:\d{1,2}@/g,'@'),_0x44cfd6=_0x24b371[_0x582f7b(0x241)][_0x582f7b(0x792)],_0x17376c=_0x341917['endsWith']('@g.us'),_0x8e6ccd=_0x24b371['message_normalized']?.['text']||_0x24b371[_0x582f7b(0x39b)]?.[_0x582f7b(0x61c)]||_0x24b371[_0x582f7b(0x39b)]?.[_0x582f7b(0x178)]||_0x24b371[_0x582f7b(0x39b)]?.['name'],_0x36fbb9={'lastmsg':_0x24b371['messageTimestamp']||Date[_0x582f7b(0x550)](),'unreadcount':_0x44cfd6?0x0:0x1,..._0x44cfd6||_0x17376c?{}:{'name':_0x24b371[_0x582f7b(0x333)]},..._0x17376c?{'group':_0x17376c}:{}},_0x132c63=await this[_0x582f7b(0x19b)][_0x582f7b(0x3d8)]['updateOne']({'where':{'_id':_0x341917}},_0x36fbb9,this[_0x582f7b(0x2ca)][_0x582f7b(0x405)],{'new':!0x0,'upsert':!0x0});if(_0x132c63[_0x582f7b(0x783)]){let _0x2fa68e=await this[_0x582f7b(0x19b)][_0x582f7b(0x66d)][_0x582f7b(0x670)]({'where':{}},this[_0x582f7b(0x2ca)]['wuid']),_0x485110=new Set(_0x2fa68e[_0x582f7b(0x483)](_0x45c082=>_0x45c082[_0x582f7b(0x782)])),_0x58f18e=(_0x132c63[_0x582f7b(0x5b4)]?.[_0x582f7b(0x51f)]||[])['filter'](_0x2773cb=>_0x485110[_0x582f7b(0x64f)](_0x2773cb)),_0x5aa1bd={'leadInfo.etiquetas':_0x58f18e,'imported':!0x1};_0x132c63=await this['repository']['chat']['updateOne']({'where':{'_id':_0x341917}},_0x5aa1bd,this[_0x582f7b(0x2ca)][_0x582f7b(0x405)]);for(let _0x504972 of _0x58f18e)await this['AddChatLabel'](_0x504972,_0x341917);}if(!_0x17376c&&(!_0x132c63?.['leadInfo']||!_0x132c63[_0x582f7b(0x5b4)][_0x582f7b(0x556)])&&_0x24b371[_0x582f7b(0x333)]&&!_0x44cfd6&&(_0x132c63=await this['repository'][_0x582f7b(0x3d8)][_0x582f7b(0x41e)]({'where':{'_id':_0x341917}},{'leadInfo.nome':_0x24b371[_0x582f7b(0x333)]},this['instance'][_0x582f7b(0x405)],{'new':!0x0,'upsert':!0x0})),_0x38d1d0===_0x582f7b(0x369)&&_0x44cfd6&&this[_0x582f7b(0x3eb)]?.[_0x582f7b(0x69a)]['enabled']&&!_0x8e6ccd[_0x582f7b(0x5c9)](this[_0x582f7b(0x3eb)]?.[_0x582f7b(0x69a)][_0x582f7b(0x1e9)])){let _0x377378=(this[_0x582f7b(0x3eb)]?.[_0x582f7b(0x69a)][_0x582f7b(0x168)]||0x5)*0xea60,_0x3b84de=Date[_0x582f7b(0x550)]()+_0x377378;_0x132c63?.[_0x582f7b(0x5b4)]?.[_0x582f7b(0x5e8)]===0x0||(await this[_0x582f7b(0x19b)][_0x582f7b(0x3d8)][_0x582f7b(0x41e)]({'where':{'_id':_0x341917}},{'leadInfo.desativadoFluxoAte':_0x3b84de},this[_0x582f7b(0x2ca)][_0x582f7b(0x405)],{'new':!0x0,'upsert':!0x1}),this[_0x582f7b(0x616)][_0x582f7b(0x6d2)](this['instanceName']+'\x20('+this[_0x582f7b(0x2ca)]['wuid']+_0x582f7b(0x78b)+_0x3b84de+'.'));}if(_0x132c63)J(this[_0x582f7b(0x56f)],'chats',{'chat':_0x132c63});else{this[_0x582f7b(0x616)][_0x582f7b(0x170)](this[_0x582f7b(0x56f)]+'\x20('+this[_0x582f7b(0x2ca)][_0x582f7b(0x405)]+_0x582f7b(0x24b));return;}if(!this[_0x582f7b(0x3eb)]?.[_0x582f7b(0x69a)][_0x582f7b(0x143)])return this[_0x582f7b(0x616)][_0x582f7b(0x6d2)](this[_0x582f7b(0x56f)]+'\x20('+this[_0x582f7b(0x2ca)]['wuid']+'):\x20Flow\x20desativado'),null;if(_0x132c63[_0x582f7b(0x782)]['includes']('@g.us')&&this[_0x582f7b(0x3eb)]?.[_0x582f7b(0x69a)][_0x582f7b(0x651)]===!0x0)return this[_0x582f7b(0x616)][_0x582f7b(0x6d2)](this[_0x582f7b(0x56f)]+'\x20('+this[_0x582f7b(0x2ca)]['wuid']+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x132c63[_0x582f7b(0x5b4)]){if(_0x132c63[_0x582f7b(0x5b4)][_0x582f7b(0x5e8)]===0x0||_0x132c63[_0x582f7b(0x5b4)][_0x582f7b(0x473)])return this[_0x582f7b(0x616)]['verbose'](this[_0x582f7b(0x56f)]+'\x20('+this[_0x582f7b(0x2ca)][_0x582f7b(0x405)]+_0x582f7b(0x6cc)+_0x341917+_0x582f7b(0x5cb)),null;if(_0x132c63[_0x582f7b(0x5b4)][_0x582f7b(0x5e8)]>Date[_0x582f7b(0x550)]()&&!_0x24b371['message_normalized']?.[_0x582f7b(0x178)])return this[_0x582f7b(0x616)][_0x582f7b(0x6d2)](this[_0x582f7b(0x56f)]+'\x20('+this[_0x582f7b(0x2ca)][_0x582f7b(0x405)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x132c63[_0x582f7b(0x5b4)]['desativadoFluxoAte'])[_0x582f7b(0x516)]()+_0x582f7b(0x5cb)),null;}this[_0x582f7b(0x616)][_0x582f7b(0x6d2)](this['instanceName']+'\x20('+this[_0x582f7b(0x2ca)][_0x582f7b(0x405)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x582f7b(0x34b)](_0x38d1d0,_0x24b371);}async[a0_0xc64edb(0x6f2)](_0x329fb6,_0x2bc9ce){const _0x3157dd=a0_0xc64edb;if(_0x2bc9ce[_0x3157dd(0x38b)]){let _0x17742b=_0x329fb6['map'](async _0x45009d=>{const _0x20a7ef=_0x3157dd;try{let _0xfb4239={'_id':_0x45009d['_id'],'owner':_0x45009d['owner'],'lastcache':0x0};if(_0x45009d[_0x20a7ef(0x1fa)]!==null&&(_0xfb4239[_0x20a7ef(0x1fa)]=_0x45009d['group']),_0x45009d[_0x20a7ef(0x219)]!==null&&(_0xfb4239['name']=_0x45009d[_0x20a7ef(0x219)]),_0x45009d[_0x20a7ef(0x45f)]!==null&&(_0xfb4239[_0x20a7ef(0x45f)]=_0x45009d[_0x20a7ef(0x45f)]),_0x45009d[_0x20a7ef(0x6ca)]!==null&&(_0xfb4239['imagechat']=_0x45009d['imagechat']),_0x45009d['imagechat']===null&&(_0xfb4239[_0x20a7ef(0x6ca)]=_0x20a7ef(0x25e)),_0x45009d['lastmsg']!==null&&(_0xfb4239[_0x20a7ef(0x761)]=_0x45009d[_0x20a7ef(0x761)]),_0x45009d['archived']!==null&&(_0xfb4239[_0x20a7ef(0x53b)]=_0x45009d[_0x20a7ef(0x53b)]),_0x45009d[_0x20a7ef(0x4a5)]!==null&&(_0xfb4239[_0x20a7ef(0x4a5)]=_0x45009d[_0x20a7ef(0x4a5)]),Object[_0x20a7ef(0x3dc)](_0xfb4239)[_0x20a7ef(0x593)]>0x0)return await this['repository'][_0x20a7ef(0x3d8)]['updateOne']({'where':{'_id':_0x45009d[_0x20a7ef(0x782)]}},_0xfb4239,this[_0x20a7ef(0x2ca)]['wuid']);}catch(_0x148c40){return console['error'](_0x20a7ef(0x2e8)+_0x45009d[_0x20a7ef(0x782)]+':',_0x148c40),null;}}),_0x4c2124=(await Promise['all'](_0x17742b))[_0x3157dd(0x679)](_0xb7b84c=>_0xb7b84c!==null)[_0x3157dd(0x593)];this[_0x3157dd(0x616)][_0x3157dd(0x6d2)](this[_0x3157dd(0x56f)]+'\x20('+this['instance'][_0x3157dd(0x405)]+'):\x20'+_0x4c2124+_0x3157dd(0x790)+this[_0x3157dd(0x2ca)]['wuid']+_0x3157dd(0x3e2));}}async['readMessageBot'](_0x1fb48c){const _0x57dc1a=a0_0xc64edb;this['logger'][_0x57dc1a(0x6d2)](this[_0x57dc1a(0x56f)]+'\x20('+this[_0x57dc1a(0x2ca)]['wuid']+_0x57dc1a(0x37b));let _0x2a49a6={'readMessages':[{'remoteJid':_0x1fb48c[_0x57dc1a(0x210)][_0x57dc1a(0x366)][_0x57dc1a(0x241)][_0x57dc1a(0x2b0)],'fromMe':_0x1fb48c[_0x57dc1a(0x210)]['lastReceivedMessage'][_0x57dc1a(0x241)][_0x57dc1a(0x792)],'id':_0x1fb48c[_0x57dc1a(0x210)]['lastReceivedMessage'][_0x57dc1a(0x241)]['id']}]};await this['markMessageAsRead'](_0x2a49a6);}async[a0_0xc64edb(0x34b)](_0x228ef0,_0x26c13f){const _0x35ec87=a0_0xc64edb;try{let {key:_0x202e74,message_normalized:_0x24a986}=_0x26c13f,_0x3cec3c=_0x24a986,_0x4e9c1f=_0x24a986[_0x35ec87(0x646)]||_0x24a986[_0x35ec87(0x61c)]||_0x24a986[_0x35ec87(0x178)]||_0x24a986[_0x35ec87(0x219)],_0x26b33a=_0x202e74['remoteJid'],_0x5d5e1d;if(_0x3cec3c[_0x35ec87(0x241)][_0x35ec87(0x792)]&&_0x4e9c1f[_0x35ec87(0x72f)]()!==this[_0x35ec87(0x3eb)]?.[_0x35ec87(0x69a)]['stopConversation'][_0x35ec87(0x72f)]())return this[_0x35ec87(0x616)][_0x35ec87(0x6d2)](this['instanceName']+'\x20('+this['instance'][_0x35ec87(0x405)]+_0x35ec87(0x1df)),null;if(_0x3cec3c[_0x35ec87(0x241)]['fromMe']&&_0x4e9c1f[_0x35ec87(0x72f)]()===this['AutomateSystem']?.['flowConfig']['stopConversation'][_0x35ec87(0x72f)]()){this['logger'][_0x35ec87(0x6d2)](this[_0x35ec87(0x56f)]+'\x20('+this[_0x35ec87(0x2ca)][_0x35ec87(0x405)]+_0x35ec87(0x3a8));let _0x1838a6=await this[_0x35ec87(0x19b)][_0x35ec87(0x2f7)][_0x35ec87(0x670)]({'remoteJid':_0x26b33a,'status':_0x35ec87(0x4dc)},this[_0x35ec87(0x2ca)][_0x35ec87(0x405)]);this[_0x35ec87(0x616)][_0x35ec87(0x6d2)](this[_0x35ec87(0x56f)]+'\x20('+this[_0x35ec87(0x2ca)]['wuid']+_0x35ec87(0x6d1)+_0x1838a6);let _0x15f73a=Date[_0x35ec87(0x550)](),_0x4267dc;return this[_0x35ec87(0x3eb)]?.[_0x35ec87(0x69a)][_0x35ec87(0x2fb)]===0x0?_0x4267dc={'stoppedUntil':_0x15f73a+0x7591f6200}:_0x4267dc={'stoppedUntil':_0x15f73a+this['AutomateSystem']?.[_0x35ec87(0x69a)][_0x35ec87(0x2fb)]*0x3c*0x3e8},this[_0x35ec87(0x616)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x35ec87(0x405)]+_0x35ec87(0x427)+_0x4267dc),this[_0x35ec87(0x221)](_0x5d5e1d,_0x4267dc[_0x35ec87(0x4ce)]),null;}if(_0x4e9c1f&&_0x4e9c1f[_0x35ec87(0x5c9)](this[_0x35ec87(0x3eb)]?.['flowConfig'][_0x35ec87(0x1e9)])&&_0x4e9c1f[_0x35ec87(0x593)]>0x4){let _0x490592=await this['repository'][_0x35ec87(0x16f)][_0x35ec87(0x671)]({'where':{'startCommandWord':_0x4e9c1f}},this['instance'][_0x35ec87(0x405)]);if(this[_0x35ec87(0x616)][_0x35ec87(0x6d2)](this[_0x35ec87(0x56f)]+'\x20('+this[_0x35ec87(0x2ca)][_0x35ec87(0x405)]+_0x35ec87(0x3f4)),_0x490592)_0x5d5e1d=await this['createNewConversation'](_0x490592,_0x3cec3c[_0x35ec87(0x241)],_0x3cec3c);else return this['logger'][_0x35ec87(0x6d2)](this[_0x35ec87(0x56f)]+'\x20('+this[_0x35ec87(0x2ca)][_0x35ec87(0x405)]+_0x35ec87(0x750)),null;}else _0x5d5e1d=await this[_0x35ec87(0x61a)](_0x26b33a,_0x3cec3c);if(_0x5d5e1d){this[_0x35ec87(0x616)][_0x35ec87(0x6d2)](this[_0x35ec87(0x56f)]+'\x20('+this['instance'][_0x35ec87(0x405)]+_0x35ec87(0x1a7)),!_0x202e74['fromMe']&&_0x5d5e1d['readMessages']&&this[_0x35ec87(0x529)](_0x5d5e1d);let _0x127794=await this[_0x35ec87(0x3cc)](_0x5d5e1d);_0x127794&&await this[_0x35ec87(0x72e)](_0x5d5e1d,_0x127794);}}catch(_0x3a69a2){this['logger'][_0x35ec87(0x170)](this[_0x35ec87(0x56f)]+'\x20('+this[_0x35ec87(0x2ca)][_0x35ec87(0x405)]+_0x35ec87(0x71b)+(_0x3a69a2 instanceof Error?_0x3a69a2[_0x35ec87(0x261)]:JSON[_0x35ec87(0x188)](_0x3a69a2,null,0x2)));}}[a0_0xc64edb(0x416)](_0x2bf808,_0x478327='',_0x4e2131={},_0x3e88d9=!0x0){const _0x149fc6=a0_0xc64edb;for(let _0x292030 in _0x2bf808){let _0xfc865c=_0x3e88d9?'_'+_0x292030:''+_0x478327+_0x292030;typeof _0x2bf808[_0x292030]==_0x149fc6(0x41a)&&_0x2bf808[_0x292030]!==null?this[_0x149fc6(0x416)](_0x2bf808[_0x292030],_0xfc865c+'.',_0x4e2131,!0x1):_0x4e2131[_0xfc865c]=String(_0x2bf808[_0x292030]);}return _0x4e2131;}[a0_0xc64edb(0x49a)](_0x43c72d){const _0x402bcd=a0_0xc64edb;let _0x4208c1={};for(let _0x15f16d of _0x43c72d)typeof _0x15f16d[_0x402bcd(0x219)]==_0x402bcd(0x470)&&typeof _0x15f16d[_0x402bcd(0x772)]=='string'&&(_0x4208c1[_0x15f16d[_0x402bcd(0x219)]]=_0x15f16d['value']);return _0x4208c1;}async[a0_0xc64edb(0x3cc)](_0x412c7f){const _0x3fe110=a0_0xc64edb;if(!this['AutomateSystem']?.['flowConfig'][_0x3fe110(0x143)]||_0x412c7f['status']!==_0x3fe110(0x4dc)&&_0x412c7f[_0x3fe110(0x606)]==='')return null;let _0x52e37d=_0x412c7f['chatLog'][_0x3fe110(0x25d)]||_0x3fe110(0x38c);typeof _0x412c7f['chatLog'][_0x3fe110(0x660)]>'u'&&(_0x412c7f[_0x3fe110(0x210)][_0x3fe110(0x660)]=!0x0);let _0x469d88=_0x412c7f['chatLog'][_0x3fe110(0x660)];this[_0x3fe110(0x616)][_0x3fe110(0x6d2)](this[_0x3fe110(0x56f)]+'\x20('+this[_0x3fe110(0x2ca)][_0x3fe110(0x405)]+_0x3fe110(0x36f)+_0x52e37d+_0x3fe110(0x53e)+_0x469d88);let _0x5e3150=_0x52e37d===_0x3fe110(0x38c)?_0x412c7f[_0x3fe110(0x325)]['find'](_0x565780=>_0x565780['type']==='start'):_0x412c7f[_0x3fe110(0x325)][_0x3fe110(0x670)](_0x240a55=>_0x240a55[_0x3fe110(0x782)][_0x3fe110(0x289)]()===_0x52e37d[_0x3fe110(0x289)]());if(!_0x5e3150)return this[_0x3fe110(0x616)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3fe110(0x405)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x52e37d),null;let _0x3c3036={'_pushName':_0x412c7f[_0x3fe110(0x210)][_0x3fe110(0x366)][_0x3fe110(0x333)],..._0x412c7f['chatLog'][_0x3fe110(0x2e2)]},_0x558e61=null;if(_0x412c7f['waitingMenu_id']){let _0x4d42c2=_0x412c7f[_0x3fe110(0x210)][_0x3fe110(0x366)][_0x3fe110(0x178)],_0x46cd92=_0x412c7f['waitingMenu_replyOptions'][_0x3fe110(0x670)](_0x5659b8=>_0x5659b8[_0x3fe110(0x3d7)]===_0x4d42c2);if(_0x46cd92){let _0x110ccf=_0x46cd92[_0x3fe110(0x1fe)];if(_0x558e61=_0x412c7f[_0x3fe110(0x325)][_0x3fe110(0x670)](_0x488fda=>_0x488fda[_0x3fe110(0x62e)]===_0x110ccf&&_0x488fda[_0x3fe110(0x2c5)]===0x1),_0x5e3150[_0x3fe110(0x774)][_0x3fe110(0x728)]){let _0x1ffcfa={'id':_0x412c7f[_0x3fe110(0x606)],'remoteJid':_0x412c7f['remoteJid'],'fromMe':!0x0};await this[_0x3fe110(0x653)](_0x1ffcfa);}if(_0x5e3150['uazapi'][_0x3fe110(0x728)]&&_0x5e3150['uazapi']['pollMessageOnDelete']&&_0x5e3150[_0x3fe110(0x774)][_0x3fe110(0x404)]===_0x3fe110(0x5f5)){let _0x104239={'number':_0x412c7f[_0x3fe110(0x2b0)],'options':{'delay':0x0},'textMessage':{'text':_0x3fe110(0x5a9)+_0x412c7f['waitingMenu_text']+'\x0a*Você\x20respondeu*:\x0a'+_0x4d42c2}};await this[_0x3fe110(0x461)](_0x104239);}_0x412c7f[_0x3fe110(0x23b)]=_0x3fe110(0x4dc),_0x412c7f[_0x3fe110(0x606)]='',_0x412c7f[_0x3fe110(0x213)]='',_0x412c7f[_0x3fe110(0x191)]=[];}else{this[_0x3fe110(0x616)][_0x3fe110(0x6d2)](this[_0x3fe110(0x56f)]+'\x20('+this[_0x3fe110(0x2ca)][_0x3fe110(0x405)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x5e6d2f={'activatedCount':_0x412c7f[_0x3fe110(0x210)]['blockLogs'][_0x3fe110(0x679)](_0x3e3b45=>String(_0x3e3b45[_0x3fe110(0x43c)])===String(_0x52e37d))[_0x3fe110(0x593)],'moreLogs':[_0x3fe110(0x6ee)]};if(_0x5e3150[_0x3fe110(0x774)][_0x3fe110(0x5a2)]){let _0x59b409={'number':_0x412c7f['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x5e3150[_0x3fe110(0x774)][_0x3fe110(0x5a2)]}};await this[_0x3fe110(0x461)](_0x59b409);}if(_0x5e3150['maxActives']!==void 0x0&&_0x5e6d2f['activatedCount']>=_0x5e3150[_0x3fe110(0x190)]){let _0x13c6f5=Date[_0x3fe110(0x550)](),_0x593850=_0x5e3150[_0x3fe110(0x692)]??0xa;isNaN(_0x593850)&&(_0x593850=0xa);let _0x889e1b=_0x13c6f5+_0x593850*0x3c*0x3e8;_0x5e6d2f[_0x3fe110(0x381)]=_0x889e1b,_0x5e6d2f[_0x3fe110(0x40a)][_0x3fe110(0x4c1)](_0x3fe110(0x27f)),this['updateStopChat'](_0x412c7f,_0x889e1b),_0x412c7f[_0x3fe110(0x606)]='',_0x412c7f[_0x3fe110(0x213)]='',_0x412c7f[_0x3fe110(0x191)]=[];}return this['updateConversation'](_0x412c7f,_0x5e3150,_0x5e6d2f,!0x0),null;}}if(_0x469d88&&_0x5e3150[_0x3fe110(0x1fe)]&&!_0x412c7f[_0x3fe110(0x606)]){let _0x473996=_0x412c7f[_0x3fe110(0x325)][_0x3fe110(0x679)](_0x160456=>_0x160456[_0x3fe110(0x62e)]['toString']()===_0x5e3150[_0x3fe110(0x1fe)]['toString']())['sort']((_0x8ec9b3,_0x2cee7e)=>_0x8ec9b3[_0x3fe110(0x2c5)]-_0x2cee7e[_0x3fe110(0x2c5)]);_0x473996[_0x3fe110(0x593)]>0x0&&(_0x558e61=_0x473996[0x0]);}if(!_0x558e61){let _0x2f619b=_0x5e3150[_0x3fe110(0x62e)],_0x1b6304=_0x412c7f[_0x3fe110(0x325)][_0x3fe110(0x679)](_0x29c444=>_0x29c444[_0x3fe110(0x62e)]===_0x2f619b&&_0x29c444[_0x3fe110(0x2c5)]>_0x5e3150['order'])[_0x3fe110(0x604)]((_0x3a3637,_0xbfbc18)=>_0x3a3637[_0x3fe110(0x2c5)]-_0xbfbc18[_0x3fe110(0x2c5)]);_0x1b6304[_0x3fe110(0x593)]>0x0&&(_0x558e61=_0x1b6304[0x0]);}if(!_0x558e61)return _0x412c7f[_0x3fe110(0x23b)]=_0x3fe110(0x3c9),null;_0x412c7f[_0x3fe110(0x210)][_0x3fe110(0x2e2)]=_0x3c3036;let _0x4901bf=JSON[_0x3fe110(0x439)](JSON[_0x3fe110(0x188)](_0x558e61));return this[_0x3fe110(0x465)](_0x4901bf,_0x412c7f[_0x3fe110(0x210)][_0x3fe110(0x2e2)]),_0x412c7f['chatLog']['lastBlockId']=_0x4901bf['_id'],_0x412c7f['chatLog']['lastCondition']=!0x0,_0x4901bf;}[a0_0xc64edb(0x3b2)](_0x311ac0,_0x5d6372){const _0x4c1db3=a0_0xc64edb;return _0x311ac0[_0x4c1db3(0x4ee)](/\{\{([^}]+)\}\}/g,(_0x4f83d7,_0x57c965)=>_0x5d6372[_0x57c965]||'');}[a0_0xc64edb(0x465)](_0xa2d5a2,_0x4540b1){const _0x3e84a1=a0_0xc64edb;for(let _0x3a0c27 in _0xa2d5a2)typeof _0xa2d5a2[_0x3a0c27]==_0x3e84a1(0x470)?_0xa2d5a2[_0x3a0c27]=this[_0x3e84a1(0x3b2)](_0xa2d5a2[_0x3a0c27],_0x4540b1):typeof _0xa2d5a2[_0x3a0c27]==_0x3e84a1(0x41a)&&this[_0x3e84a1(0x465)](_0xa2d5a2[_0x3a0c27],_0x4540b1);}async['goNextblock'](_0x2526a0,_0x4d20d){const _0x59d043=a0_0xc64edb;let _0x38a84c=_0x4d20d[_0x59d043(0x782)];if(_0x2526a0[_0x59d043(0x210)]&&_0x2526a0[_0x59d043(0x210)]['blockLogs']){let _0x33f708=_0x2526a0[_0x59d043(0x210)][_0x59d043(0x531)][_0x59d043(0x679)](_0x1d5d81=>String(_0x1d5d81[_0x59d043(0x43c)])===String(_0x38a84c))['pop']();if(_0x33f708&&_0x33f708[_0x59d043(0x170)]&&_0x4d20d['stopIfLastReturnedError'])return _0x2526a0['status']=_0x59d043(0x3c9),await this[_0x59d043(0x5a4)](_0x2526a0),null;}if(_0x4d20d[_0x59d043(0x326)]===_0x59d043(0x774)&&_0x4d20d[_0x59d043(0x774)]['command']==='sendPoll'&&_0x2526a0[_0x59d043(0x606)])return _0x2526a0[_0x59d043(0x210)]['lastBlockId']=_0x38a84c,await this[_0x59d043(0x5a4)](_0x2526a0),null;let _0x271962=await this[_0x59d043(0x3cc)](_0x2526a0);if(_0x2526a0[_0x59d043(0x210)]&&_0x2526a0['chatLog'][_0x59d043(0x531)]){let _0x3d5a8f=_0x2526a0['chatLog'][_0x59d043(0x531)][_0x59d043(0x679)](_0x3bc8b3=>String(_0x3bc8b3[_0x59d043(0x43c)])===String(_0x38a84c))[_0x59d043(0x593)];if(_0x4d20d[_0x59d043(0x190)]!==void 0x0&&_0x3d5a8f>=_0x4d20d[_0x59d043(0x190)]){let _0x54591a=Date[_0x59d043(0x550)](),_0x2c90f0=_0x4d20d[_0x59d043(0x692)]??0xa;isNaN(_0x2c90f0)&&(_0x2c90f0=0xa);let _0x4f9ad0=_0x54591a+_0x2c90f0*0x3c*0x3e8,_0x14e4bd={'newStoppedUntil':_0x4f9ad0};return this['updateStopChat'](_0x2526a0,_0x4f9ad0),this[_0x59d043(0x36d)](_0x2526a0,_0x4d20d,_0x14e4bd,!0x0),null;}}_0x271962&&_0x271962['type']!==_0x59d043(0x239)&&await this[_0x59d043(0x72e)](_0x2526a0,_0x271962),_0x271962||await this[_0x59d043(0x5a4)](_0x2526a0),_0x271962&&_0x271962[_0x59d043(0x326)]===_0x59d043(0x239)&&(_0x2526a0['chatLog'][_0x59d043(0x25d)]=_0x38a84c,await this[_0x59d043(0x5a4)](_0x2526a0));}async[a0_0xc64edb(0x72e)](_0x4de9a5,_0x12479f){const _0x366d06=a0_0xc64edb;try{let _0x3488e5=_0x12479f[_0x366d06(0x326)];this[_0x366d06(0x616)][_0x366d06(0x6d2)](this[_0x366d06(0x56f)]+'\x20('+this[_0x366d06(0x2ca)][_0x366d06(0x405)]+'):\x20Going\x20to\x20'+_0x3488e5);let _0x2cd0a8={'uazapi':()=>this[_0x366d06(0x5a6)](_0x4de9a5,_0x12479f),'save':()=>this[_0x366d06(0x691)](_0x4de9a5,_0x12479f),'stop':()=>this[_0x366d06(0x708)](_0x4de9a5,_0x12479f),'condition':()=>this['processConditions'](_0x4de9a5,_0x12479f),'varedit':()=>this[_0x366d06(0x64a)](_0x4de9a5,_0x12479f),'apirequest':()=>this[_0x366d06(0x47a)](_0x4de9a5,_0x12479f),'goToFlow':()=>this[_0x366d06(0x336)](_0x4de9a5,_0x12479f)}[_0x3488e5];_0x2cd0a8&&await _0x2cd0a8();}catch(_0x15a477){this[_0x366d06(0x616)][_0x366d06(0x170)](this[_0x366d06(0x56f)]+'\x20('+this['instance'][_0x366d06(0x405)]+_0x366d06(0x240)+(_0x15a477 instanceof Error?_0x15a477[_0x366d06(0x261)]:JSON[_0x366d06(0x188)](_0x15a477,null,0x2)));}}async[a0_0xc64edb(0x336)](_0x496cde,_0x42ed59){const _0x282b16=a0_0xc64edb;if(this['logger'][_0x282b16(0x6d2)](this[_0x282b16(0x56f)]+'\x20('+this[_0x282b16(0x2ca)][_0x282b16(0x405)]+_0x282b16(0x7a3)),!_0x496cde||!_0x42ed59)return this['logger'][_0x282b16(0x170)](this[_0x282b16(0x56f)]+'\x20('+this['instance'][_0x282b16(0x405)]+_0x282b16(0x6a3)),null;await this[_0x282b16(0x36d)](_0x496cde,_0x42ed59,{},!0x0,!0x0),console[_0x282b16(0x5f3)](_0x282b16(0x27b)),console[_0x282b16(0x5f3)](_0x42ed59);let _0x442f07=_0x42ed59[_0x282b16(0x739)];console['log'](_0x282b16(0x157),_0x442f07),_0x496cde=await this[_0x282b16(0x4bb)](_0x442f07,_0x496cde[_0x282b16(0x2b0)],_0x496cde[_0x282b16(0x210)][_0x282b16(0x2e2)]),this[_0x282b16(0x616)][_0x282b16(0x6d2)](this[_0x282b16(0x56f)]+'\x20('+this[_0x282b16(0x2ca)]['wuid']+_0x282b16(0x2f9));let _0xf23a9=await this['NextBlock'](_0x496cde);_0xf23a9&&await this[_0x282b16(0x72e)](_0x496cde,_0xf23a9);}async[a0_0xc64edb(0x4bb)](_0x52b9f4,_0x4ed7bd,_0x38d04f){const _0xaf0ffb=a0_0xc64edb;this[_0xaf0ffb(0x616)][_0xaf0ffb(0x6d2)](this['instanceName']+'\x20('+this[_0xaf0ffb(0x2ca)][_0xaf0ffb(0x405)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0x52b9f4=await this[_0xaf0ffb(0x19b)][_0xaf0ffb(0x16f)][_0xaf0ffb(0x671)]({'where':{'name':_0x52b9f4}},this[_0xaf0ffb(0x2ca)][_0xaf0ffb(0x405)]),!_0x52b9f4)return this['logger']['error'](this[_0xaf0ffb(0x56f)]+'\x20('+this[_0xaf0ffb(0x2ca)][_0xaf0ffb(0x405)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x3d81f7=require(_0xaf0ffb(0x15c))[_0xaf0ffb(0x3e3)],_0x18cc66=Date[_0xaf0ffb(0x550)](),_0x1732d1=_0xaf0ffb(0x38c),_0x979a75={},_0x5aac58={},_0x1816a4={..._0x52b9f4,'chatLog':null},_0x5584a0={'lastReceivedMessage':_0x979a75,'lastSendMessage':_0x5aac58,'lastBlockId':_0x1732d1,'lastCondition':!0x0,'realVariables':_0x38d04f};_0x1816a4[_0xaf0ffb(0x210)]=_0x5584a0,_0x1816a4[_0xaf0ffb(0x210)][_0xaf0ffb(0x2e2)]={..._0x38d04f},delete _0x1816a4[_0xaf0ffb(0x782)],_0x1816a4[_0xaf0ffb(0x782)]=new _0x3d81f7(),_0x1816a4[_0xaf0ffb(0x42a)]=_0x18cc66,_0x1816a4['status']=_0xaf0ffb(0x4dc),_0x1816a4[_0xaf0ffb(0x2b0)]=_0x4ed7bd;let _0x333b0f=await this[_0xaf0ffb(0x19b)][_0xaf0ffb(0x2f7)][_0xaf0ffb(0x41e)](_0x1816a4[_0xaf0ffb(0x782)],_0x1816a4,this[_0xaf0ffb(0x2ca)][_0xaf0ffb(0x405)]);return this[_0xaf0ffb(0x616)][_0xaf0ffb(0x6d2)](this[_0xaf0ffb(0x56f)]+'\x20('+this[_0xaf0ffb(0x2ca)][_0xaf0ffb(0x405)]+_0xaf0ffb(0x59b)),_0x333b0f?_0x1816a4:null;}catch(_0x2ffa12){throw this[_0xaf0ffb(0x616)][_0xaf0ffb(0x170)](this[_0xaf0ffb(0x56f)]+'\x20('+this['instance'][_0xaf0ffb(0x405)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x2ffa12 instanceof Error?_0x2ffa12[_0xaf0ffb(0x261)]:JSON['stringify'](_0x2ffa12,null,0x2))),new m(_0x2ffa12['message']);}}async[a0_0xc64edb(0x47a)](_0x2127e8,_0x5d7cb7){const _0x404bc3=a0_0xc64edb;let _0x713f45,_0x26826b;try{let _0x2452f1=_0x5d7cb7[_0x404bc3(0x1af)];if(!_0x2452f1||!_0x2452f1[_0x404bc3(0x67c)]||!_0x2452f1[_0x404bc3(0x43b)])throw new Error(_0x404bc3(0x68f));let _0x1b0a16;([_0x404bc3(0x701),_0x404bc3(0x5ea),_0x404bc3(0x520)][_0x404bc3(0x24d)](_0x2fefb1=>_0x2452f1[_0x404bc3(0x67c)][_0x404bc3(0x4df)](_0x2fefb1))||_0x2452f1['requestFile'])&&(_0x1b0a16=_0x404bc3(0x625));let _0x422a8b={'method':_0x2452f1[_0x404bc3(0x43b)],'url':_0x2452f1['url'],'headers':_0x2452f1['header']||{},'data':_0x2452f1[_0x404bc3(0x581)]||{},..._0x1b0a16&&{'responseType':_0x1b0a16}},_0x3e6d6c=await(0x0,se[_0x404bc3(0x324)])(_0x422a8b),_0x40d9a1=_0x3e6d6c['headers'][_0x404bc3(0x307)];if(_0x40d9a1&&_0x40d9a1[_0x404bc3(0x4df)]('application/json')){_0x713f45=_0x3e6d6c[_0x404bc3(0x1d1)];let _0x401968=_0x2127e8[_0x404bc3(0x210)][_0x404bc3(0x2e2)],_0x1e35bd=this['flattenObject'](_0x713f45);return Object[_0x404bc3(0x34c)](_0x401968,_0x1e35bd),_0x2127e8[_0x404bc3(0x210)]['realVariables']=_0x401968,_0x26826b={'error':!0x1,'apiResponse':_0x713f45},this['updateConversation'](_0x2127e8,_0x5d7cb7,_0x26826b),_0x713f45;}if(_0x40d9a1&&(_0x40d9a1[_0x404bc3(0x4df)](_0x404bc3(0x280))||_0x40d9a1['includes'](_0x404bc3(0x6dc))||_0x40d9a1[_0x404bc3(0x4df)](_0x404bc3(0x73a))||_0x40d9a1[_0x404bc3(0x4df)](_0x404bc3(0x360)))){this[_0x404bc3(0x616)][_0x404bc3(0x6d2)](this[_0x404bc3(0x56f)]+'\x20('+this[_0x404bc3(0x2ca)][_0x404bc3(0x405)]+_0x404bc3(0x5c3)+_0x40d9a1);let _0x2db91d=(0x0,Me['v4'])(),_0x405196='',_0x190777={'image/jpeg':_0x404bc3(0x48a),'image/png':_0x404bc3(0x28e),'image/gif':_0x404bc3(0x73e),'image/webp':_0x404bc3(0x428),'image/svg+xml':_0x404bc3(0x603),'audio/mpeg':_0x404bc3(0x200),'audio/ogg':'.ogg','audio/wav':'.wav','video/mp4':_0x404bc3(0x2ba),'video/webm':_0x404bc3(0x77c),'video/ogg':_0x404bc3(0x754),'text/plain':_0x404bc3(0x4c2),'application/pdf':'.pdf','application/msword':_0x404bc3(0x672),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x404bc3(0x1fb),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x404bc3(0x480),'application/vnd.ms-powerpoint':_0x404bc3(0x50b),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x404bc3(0x410)};_0x190777[_0x40d9a1]?(_0x405196=_0x190777[_0x40d9a1],this[_0x404bc3(0x616)]['verbose'](this[_0x404bc3(0x56f)]+'\x20('+this[_0x404bc3(0x2ca)]['wuid']+_0x404bc3(0x2e9)+_0x405196)):(_0x405196='.error',this[_0x404bc3(0x616)]['verbose'](this[_0x404bc3(0x56f)]+'\x20('+this['instance']['wuid']+_0x404bc3(0x1d0)+_0x405196)),_0x2db91d+=_0x405196,this[_0x404bc3(0x616)]['verbose'](this[_0x404bc3(0x56f)]+'\x20('+this[_0x404bc3(0x2ca)][_0x404bc3(0x405)]+_0x404bc3(0x6f6)+_0x2db91d);let _0x383e7f=this[_0x404bc3(0x46b)][_0x404bc3(0x489)](_0x404bc3(0x2d5))['URL'];if(!_0x383e7f){let _0xbbefee=this[_0x404bc3(0x46b)][_0x404bc3(0x489)](_0x404bc3(0x45a));_0x383e7f=_0x404bc3(0x6c3)+(_0xbbefee&&_0xbbefee[_0x404bc3(0x6a4)][_0x404bc3(0x13f)]('/')[0x4]);}let _0x2d8495=Buffer[_0x404bc3(0x674)](_0x3e6d6c[_0x404bc3(0x1d1)]);await this['saveMediaToFile'](_0x2d8495,_0x2db91d);let _0x5168ee=_0x404bc3(0x1c7)+_0x2db91d;_0x5168ee=''+_0x383e7f+_0x5168ee,_0x713f45={'fileUrl':_0x5168ee},_0x2127e8[_0x404bc3(0x210)][_0x404bc3(0x2e2)]['fileUrl']=_0x5168ee;let _0x254282=_0x2127e8[_0x404bc3(0x210)][_0x404bc3(0x2e2)],_0x3dfc7b=this[_0x404bc3(0x416)](_0x713f45);return Object[_0x404bc3(0x34c)](_0x254282,_0x3dfc7b),_0x2127e8[_0x404bc3(0x210)]['realVariables']=_0x254282,_0x26826b={'error':!0x1,'apiResponse':{'fileUrl':_0x5168ee}},this[_0x404bc3(0x36d)](_0x2127e8,_0x5d7cb7,_0x26826b),_0x713f45;}}catch(_0x1ddb9a){console[_0x404bc3(0x170)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x1ddb9a),_0x1ddb9a['response']&&(_0x713f45=_0x1ddb9a[_0x404bc3(0x266)][_0x404bc3(0x1d1)]);let _0x504ffd=_0x2127e8[_0x404bc3(0x210)][_0x404bc3(0x2e2)],_0x4ad14f=this[_0x404bc3(0x416)](_0x713f45);return Object[_0x404bc3(0x34c)](_0x504ffd,_0x4ad14f),_0x2127e8[_0x404bc3(0x210)]['realVariables']=_0x504ffd,_0x26826b={'error':!0x0,'errorLog':_0x1ddb9a['toString'](),'apiResponse':_0x713f45},this[_0x404bc3(0x36d)](_0x2127e8,_0x5d7cb7,_0x26826b),{'success':!0x1};}}[a0_0xc64edb(0x764)](_0x140825,_0x333920){const _0x203030=a0_0xc64edb;let _0x5161b9=_0x96f881=>{const _0x3c9a72=a0_0x431f;let _0x2fc517=_0x96f881[_0x3c9a72(0x4ee)](/[^0-9.,-]/g,'')[_0x3c9a72(0x4ee)](',','.'),_0x48e46e=parseFloat(_0x2fc517);return isNaN(_0x48e46e)?null:_0x48e46e;},_0x39df99=_0x333920[_0x203030(0x3b0)],_0x1e6072=_0x333920[_0x203030(0x773)];typeof _0x39df99==_0x203030(0x470)&&(_0x39df99=this[_0x203030(0x3b2)](_0x39df99,_0x140825[_0x203030(0x210)][_0x203030(0x2e2)])??''),typeof _0x1e6072==_0x203030(0x470)&&(_0x1e6072=this[_0x203030(0x3b2)](_0x1e6072,_0x140825['chatLog'][_0x203030(0x2e2)])??'');let _0x5ac037=null;if(!_0x333920[_0x203030(0x522)])return null;switch(this[_0x203030(0x616)]['verbose'](this[_0x203030(0x56f)]+'\x20('+this[_0x203030(0x2ca)][_0x203030(0x405)]+_0x203030(0x734)+_0x39df99),this['logger'][_0x203030(0x6d2)](this[_0x203030(0x56f)]+'\x20('+this[_0x203030(0x2ca)][_0x203030(0x405)]+_0x203030(0x19c)+_0x1e6072),_0x333920[_0x203030(0x522)]){case'+':case'-':case'*':case'/':let _0x679cd5=_0x5161b9(_0x39df99||'0'),_0x5c2c2d=_0x5161b9(_0x1e6072||'0');if(_0x679cd5===null)return null;switch(_0x333920[_0x203030(0x522)]){case'+':_0x5ac037=_0x679cd5+(_0x5c2c2d??0x0);break;case'-':_0x5ac037=_0x679cd5-(_0x5c2c2d??0x0);break;case'*':_0x5ac037=_0x679cd5*(_0x5c2c2d??0x1);break;case'/':_0x5c2c2d!==0x0&&(_0x5ac037=_0x679cd5/(_0x5c2c2d??0x1));break;}break;case _0x203030(0x47f):case _0x203030(0x5b6):let _0xf2af44=_0x1e6072,_0x6ea6bf=_0x333920[_0x203030(0x77e)];if(typeof _0x6ea6bf==_0x203030(0x470)&&(_0x6ea6bf=this[_0x203030(0x3b2)](_0x6ea6bf,_0x140825[_0x203030(0x210)]['realVariables'])??''),_0xf2af44&&_0x6ea6bf!==void 0x0){let _0x5a073e=_0x333920[_0x203030(0x522)]===_0x203030(0x47f)?new RegExp(_0xf2af44['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x203030(0x281)),'g'):new RegExp(_0xf2af44,'g');_0x5ac037=_0x39df99[_0x203030(0x4ee)](_0x5a073e,_0x6ea6bf);}else console[_0x203030(0x2b2)](_0x203030(0x4c4));break;case _0x203030(0x5f8):_0x5ac037=_0x1e6072;break;case'extractRegex':let _0xb6065d=_0x39df99[_0x203030(0x5a3)](new RegExp(_0x1e6072||''));_0x5ac037=_0xb6065d?_0xb6065d[0x0]:'';break;case'truncatedto':_0x5ac037=_0x39df99['slice'](0x0,parseInt(_0x1e6072||'0'));break;case _0x203030(0x2f2):let _0x3aeef8=parseInt(_0x1e6072||'0');_0x5ac037=_0x39df99[_0x203030(0x1be)](_0x39df99['length']-_0x3aeef8);break;case _0x203030(0x5ce):let _0x33df3e=_0x5161b9(_0x39df99),_0xce2412=parseInt(_0x1e6072||'0');_0xce2412=Math[_0x203030(0x75e)](_0xce2412),_0x33df3e!==null?_0x5ac037=_0x33df3e[_0x203030(0x516)](_0x203030(0x276),{'minimumFractionDigits':_0xce2412,'maximumFractionDigits':_0xce2412}):(console['warn'](_0x203030(0x4d6)+_0x39df99),_0x5ac037=null);break;case _0x203030(0x2cb):let _0x3f11ed=_0x5161b9(_0x39df99);_0x3f11ed!==null?_0x5ac037=_0x3f11ed[_0x203030(0x516)]('pt-BR',{'style':_0x203030(0x476),'currency':_0x203030(0x57a)}):(console['warn'](_0x203030(0x42f)+_0x39df99),_0x5ac037=null);break;case'upperCase':_0x5ac037=_0x39df99[_0x203030(0x1c0)]();break;case'lowerCase':_0x5ac037=_0x39df99['toLowerCase']();break;case _0x203030(0x570):_0x5ac037=_0x39df99[_0x203030(0x13f)]('\x20')[_0x203030(0x483)](_0x4defd7=>_0x4defd7[_0x203030(0x1da)](0x0)[_0x203030(0x1c0)]()+_0x4defd7[_0x203030(0x1be)](0x1)[_0x203030(0x58d)]())['join']('\x20');break;case _0x203030(0x59a):_0x5ac037=_0x39df99['trim']();break;default:_0x5ac037=_0x39df99;}return _0x5ac037!==null?_0x5ac037[_0x203030(0x289)]():null;}async['processvaredits'](_0x136881,_0x3ce8ec){const _0x34ba71=a0_0xc64edb;try{let _0x2d3881=_0x136881['varedits']?.[_0x34ba71(0x679)](_0x340cb9=>_0x340cb9[_0x34ba71(0x43c)]===_0x3ce8ec[_0x34ba71(0x782)]?.[_0x34ba71(0x289)]())||[],_0x109aaf=_0x3ce8ec[_0x34ba71(0x1f6)],_0xa4edba=null,_0x2fad63=[],_0x281e82=_0x136881[_0x34ba71(0x210)][_0x34ba71(0x2e2)][_0x109aaf];_0x2fad63[_0x34ba71(0x4c1)](_0x34ba71(0x2af)+_0x281e82+'\x22');for(let _0x5101c9 of _0x2d3881){_0x5101c9['firstValue']=_0x281e82,_0xa4edba=_0x5101c9[_0x34ba71(0x3b0)];let _0x4c991b;try{_0x4c991b=this[_0x34ba71(0x764)](_0x136881,_0x5101c9);}catch(_0x3d5390){console[_0x34ba71(0x170)](_0x34ba71(0x4f3)+_0x3d5390[_0x34ba71(0x261)]);continue;}if(_0x4c991b!==null){let _0x4ffe8f='Operador:\x20\x22'+_0x5101c9['editOperator']+'\x22',_0x4ef93d=[_0x34ba71(0x2cb),_0x34ba71(0x201),_0x34ba71(0x5de),'capitalizedWords','trimmed'];_0x5101c9[_0x34ba71(0x522)]===_0x34ba71(0x47f)||_0x5101c9['editOperator']===_0x34ba71(0x5b6)?_0x4ffe8f+=_0x34ba71(0x2a5)+_0x5101c9[_0x34ba71(0x773)]+_0x34ba71(0x637)+_0x5101c9[_0x34ba71(0x77e)]+'\x22':!_0x4ef93d['includes'](_0x5101c9['editOperator'])&&_0x5101c9['secondValue']!==null&&_0x5101c9[_0x34ba71(0x773)]!==void 0x0&&(_0x4ffe8f+=_0x34ba71(0x45d)+_0x5101c9['secondValue']+'\x22'),_0x4ffe8f+=_0x34ba71(0x25a)+_0x4c991b+'.',_0x2fad63['push'](_0x4ffe8f);}_0x4c991b!==null&&(_0x281e82=_0x4c991b);}if(_0x136881[_0x34ba71(0x210)][_0x34ba71(0x2e2)]&&_0x3ce8ec['saveVariable']){_0x136881[_0x34ba71(0x210)][_0x34ba71(0x2e2)][_0x3ce8ec[_0x34ba71(0x1f6)]]=_0x281e82;let _0xdce2d9={'variable':_0x3ce8ec[_0x34ba71(0x1f6)],'oldValue':_0xa4edba,'newValue':_0x281e82,'moreLogs':_0x2fad63};try{this[_0x34ba71(0x36d)](_0x136881,_0x3ce8ec,_0xdce2d9);}catch(_0x3aa542){console[_0x34ba71(0x170)](_0x34ba71(0x2a9)+_0x3aa542[_0x34ba71(0x261)]);}}return _0x109aaf;}catch(_0x307aa9){return console[_0x34ba71(0x170)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x307aa9[_0x34ba71(0x261)]),null;}}async[a0_0xc64edb(0x2bc)](_0x14b993,_0x37cf17){const _0x183130=a0_0xc64edb;try{let _0x149907=[],_0x2b5a17=_0x14b993['conditions']['filter'](_0x45906d=>_0x45906d[_0x183130(0x43c)]===_0x37cf17['_id']['toString']()),_0x33d547=null,_0x480272=!0x1;for(let _0x1cb0be of _0x2b5a17){let _0x148880=this[_0x183130(0x248)](_0x14b993,_0x1cb0be);_0x149907[_0x183130(0x4c1)](_0x183130(0x358)+_0x1cb0be[_0x183130(0x3b0)]+',\x20Comparador:\x20'+_0x1cb0be[_0x183130(0x1f7)]+',\x20Segundo\x20Valor:\x20'+_0x1cb0be['secondValue']+',\x20Resultado:\x20'+_0x148880),_0x33d547===null?_0x33d547=_0x148880:_0x1cb0be[_0x183130(0x4d0)]===_0x183130(0x1a9)?(_0x33d547=_0x33d547&&_0x148880,_0x148880||(_0x480272=!0x0)):_0x1cb0be[_0x183130(0x4d0)]==='or'&&(_0x480272||(_0x33d547=_0x33d547||_0x148880));}_0x33d547===null&&(_0x33d547=!0x0);let _0x1b3fed={'moreLogs':_0x149907};_0x14b993[_0x183130(0x210)]['lastCondition']=_0x33d547,await this[_0x183130(0x36d)](_0x14b993,_0x37cf17,_0x1b3fed);}catch(_0x54262d){this['logger']['error'](this[_0x183130(0x56f)]+'\x20('+this[_0x183130(0x2ca)]['wuid']+_0x183130(0x493)+(_0x54262d instanceof Error?_0x54262d['message']:JSON['stringify'](_0x54262d,null,0x2)));}}['evaluateCondition'](_0x325e42,_0xc48526){const _0x49ac32=a0_0xc64edb;let _0x45de0c=_0xc48526[_0x49ac32(0x3b0)],_0x55edc9=_0xc48526[_0x49ac32(0x773)];typeof _0x45de0c==_0x49ac32(0x470)&&(_0x45de0c=this[_0x49ac32(0x3b2)](_0x45de0c,_0x325e42['chatLog']['realVariables'])??''),typeof _0x55edc9==_0x49ac32(0x470)&&(_0x55edc9=this[_0x49ac32(0x3b2)](_0x55edc9,_0x325e42[_0x49ac32(0x210)][_0x49ac32(0x2e2)])??'');try{switch(_0xc48526[_0x49ac32(0x1f7)]){case'equal':return _0x45de0c===_0x55edc9;case _0x49ac32(0x1f5):return _0x45de0c!==_0x55edc9;case _0x49ac32(0x472):return this[_0x49ac32(0x472)](_0x45de0c,_0x55edc9);case _0x49ac32(0x664):return!this[_0x49ac32(0x472)](_0x45de0c,_0x55edc9);case _0x49ac32(0x760):return parseFloat(_0x45de0c)>parseFloat(_0x55edc9);case _0x49ac32(0x7a5):return parseFloat(_0x45de0c)<parseFloat(_0x55edc9);case _0x49ac32(0x643):return _0x45de0c!=='';case'empty':return _0x45de0c==='';case _0x49ac32(0x61b):return new RegExp(_0x55edc9)[_0x49ac32(0x2e1)](_0x45de0c);case'notMatchRegex':return!new RegExp(_0x55edc9)[_0x49ac32(0x2e1)](_0x45de0c);default:return!0x1;}}catch(_0x327fa3){return console['error'](_0x49ac32(0x2bf)+_0x327fa3),!0x1;}}[a0_0xc64edb(0x472)](_0x577b25,_0x35f9cd){const _0x4aaba3=a0_0xc64edb;if(_0x577b25===_0x35f9cd&&/^\d+$/['test'](_0x577b25))return!0x0;if(this[_0x4aaba3(0x1e2)](_0x577b25)&&/^\d+$/[_0x4aaba3(0x2e1)](_0x35f9cd)){let _0x5b84f4=_0x577b25['split'](',')[_0x4aaba3(0x483)](_0xf1668f=>parseInt(_0xf1668f[_0x4aaba3(0x72f)]())),_0x2542bb=parseInt(_0x35f9cd);return _0x5b84f4[_0x4aaba3(0x4df)](_0x2542bb);}return _0x577b25[_0x4aaba3(0x4df)](_0x35f9cd);}[a0_0xc64edb(0x1e2)](_0x504ed9){const _0x5e5ae4=a0_0xc64edb;return/^\d+(,\d+)*$/[_0x5e5ae4(0x2e1)](_0x504ed9);}['processConditionsTest'](_0x4630b1){let _0x478189=!0x0,_0x54220e=null;for(let _0x2bcdde of _0x4630b1){let _0x4faa80=this['evaluateConditionTest'](_0x2bcdde);if(_0x54220e==='or'&&_0x4faa80){_0x478189=!0x0;break;}if(_0x54220e==='and'&&!_0x4faa80){_0x478189=!0x1;break;}_0x54220e=_0x2bcdde['OrAnd'];}return _0x478189;}[a0_0xc64edb(0x3d4)](_0x57fdbc){const _0x3e0e59=a0_0xc64edb;let _0x139307=_0x57fdbc[_0x3e0e59(0x3b0)],_0x11d5f5=_0x57fdbc[_0x3e0e59(0x773)];try{switch(_0x57fdbc['expression']){case'equal':return String(_0x139307)===String(_0x11d5f5);case _0x3e0e59(0x1f5):return String(_0x139307)!==String(_0x11d5f5);case _0x3e0e59(0x472):return String(_0x139307)[_0x3e0e59(0x4df)](String(_0x11d5f5));case _0x3e0e59(0x664):return!String(_0x139307)[_0x3e0e59(0x4df)](String(_0x11d5f5));case'greater':return parseFloat(String(_0x139307))>parseFloat(String(_0x11d5f5));case _0x3e0e59(0x7a5):return parseFloat(String(_0x139307))<parseFloat(String(_0x11d5f5));case _0x3e0e59(0x643):return String(_0x139307)!=='';case _0x3e0e59(0x4c7):return String(_0x139307)==='';case'matchRegex':return new RegExp(String(_0x11d5f5))['test'](String(_0x139307));case _0x3e0e59(0x6f4):return!new RegExp(String(_0x11d5f5))[_0x3e0e59(0x2e1)](String(_0x139307));default:return!0x1;}}catch(_0xc09ed6){return console[_0x3e0e59(0x170)](_0x3e0e59(0x2bf)+_0xc09ed6),!0x1;}}async[a0_0xc64edb(0x691)](_0x935a06,_0x5929c0){const _0x2c2d79=a0_0xc64edb;if(this[_0x2c2d79(0x616)][_0x2c2d79(0x6d2)](this['instanceName']+'\x20('+this['instance'][_0x2c2d79(0x405)]+_0x2c2d79(0x237)),!_0x935a06||!_0x5929c0)return this[_0x2c2d79(0x616)][_0x2c2d79(0x170)](this[_0x2c2d79(0x56f)]+'\x20('+this[_0x2c2d79(0x2ca)][_0x2c2d79(0x405)]+_0x2c2d79(0x6a3)),null;let _0x8bd158=_0x5929c0['saveVariable'],_0x11d74a=_0x935a06[_0x2c2d79(0x210)][_0x2c2d79(0x366)][_0x2c2d79(0x646)]||_0x935a06[_0x2c2d79(0x210)][_0x2c2d79(0x366)][_0x2c2d79(0x61c)]||_0x935a06[_0x2c2d79(0x210)][_0x2c2d79(0x366)][_0x2c2d79(0x178)];try{_0x935a06[_0x2c2d79(0x210)][_0x2c2d79(0x2e2)]||(_0x935a06[_0x2c2d79(0x210)][_0x2c2d79(0x2e2)]={});let _0x57028e=_0x935a06[_0x2c2d79(0x210)][_0x2c2d79(0x2e2)][_0x8bd158];_0x935a06[_0x2c2d79(0x210)][_0x2c2d79(0x2e2)][_0x8bd158]=_0x11d74a;let _0x55af27={'variable':_0x8bd158,'oldValue':_0x57028e,'newValue':_0x11d74a};this[_0x2c2d79(0x36d)](_0x935a06,_0x5929c0,_0x55af27),this['logger'][_0x2c2d79(0x6d2)](this['instanceName']+'\x20('+this[_0x2c2d79(0x2ca)][_0x2c2d79(0x405)]+_0x2c2d79(0x249));}catch(_0x461297){let _0x58d5ba={'error':!0x0,'errorLog':_0x461297[_0x2c2d79(0x289)]()};return this[_0x2c2d79(0x36d)](_0x935a06,_0x5929c0,_0x58d5ba),this[_0x2c2d79(0x616)][_0x2c2d79(0x170)](this[_0x2c2d79(0x56f)]+'\x20('+this['instance'][_0x2c2d79(0x405)]+_0x2c2d79(0x46a)+(_0x461297 instanceof Error?_0x461297['message']:JSON[_0x2c2d79(0x188)](_0x461297,null,0x2))),null;}}async[a0_0xc64edb(0x708)](_0x1bea61,_0x13a03f){const _0x5ca999=a0_0xc64edb;if(this[_0x5ca999(0x616)][_0x5ca999(0x6d2)](this[_0x5ca999(0x56f)]+'\x20('+this[_0x5ca999(0x2ca)][_0x5ca999(0x405)]+_0x5ca999(0x1fc)),!_0x1bea61||!_0x13a03f)return this[_0x5ca999(0x616)][_0x5ca999(0x170)](this[_0x5ca999(0x56f)]+'\x20('+this[_0x5ca999(0x2ca)][_0x5ca999(0x405)]+_0x5ca999(0x6a3)),null;let _0x4c942b=Date[_0x5ca999(0x550)](),_0x10889b=parseInt(_0x13a03f['stopMinutes'],0xa);if(isNaN(_0x10889b))return this['logger']['error'](this[_0x5ca999(0x56f)]+'\x20('+this[_0x5ca999(0x2ca)][_0x5ca999(0x405)]+_0x5ca999(0x64b)),null;let _0x25f79e={'newStoppedUntil':_0x4c942b+_0x10889b*0x3c*0x3e8};return await this[_0x5ca999(0x36d)](_0x1bea61,_0x13a03f,_0x25f79e,!0x0),null;}async['processUazapi'](_0x31783b,_0x335098){const _0x35a7cf=a0_0xc64edb;try{switch(_0x335098['uazapi'][_0x35a7cf(0x31e)]){case _0x35a7cf(0x601):await this[_0x35a7cf(0x62b)](_0x31783b,_0x335098);break;case _0x35a7cf(0x68c):await this['uazapiSendMedia'](_0x31783b,_0x335098);break;case _0x35a7cf(0x693):await this[_0x35a7cf(0x378)](_0x31783b,_0x335098);break;case _0x35a7cf(0x462):await this[_0x35a7cf(0x432)](_0x31783b,_0x335098);break;case'sendContact':await this[_0x35a7cf(0x355)](_0x31783b,_0x335098);break;case _0x35a7cf(0x19e):await this['uazapiSendMenu'](_0x31783b,_0x335098);break;case _0x35a7cf(0x576):await this[_0x35a7cf(0x4c6)](_0x31783b,_0x335098);break;case _0x35a7cf(0x653):await this[_0x35a7cf(0x61d)](_0x31783b,_0x335098);break;default:this['logger'][_0x35a7cf(0x170)](this[_0x35a7cf(0x56f)]+'\x20('+this[_0x35a7cf(0x2ca)]['wuid']+_0x35a7cf(0x3f7)+_0x335098['uazapi']['command']);}}catch(_0x5b7597){this[_0x35a7cf(0x616)][_0x35a7cf(0x170)](this[_0x35a7cf(0x56f)]+'\x20('+this[_0x35a7cf(0x2ca)][_0x35a7cf(0x405)]+_0x35a7cf(0x1f9)+(_0x5b7597 instanceof Error?_0x5b7597[_0x35a7cf(0x261)]:JSON[_0x35a7cf(0x188)](_0x5b7597,null,0x2)));}}async[a0_0xc64edb(0x36d)](_0x385b96,_0x2950b3,_0x287abd,_0x11e2b9=!0x1,_0x516ff7=!0x1){const _0x4ae78f=a0_0xc64edb;_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x531)]||(_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x531)]=[]);let _0x3d7698=(_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x531)]?.[_0x4ae78f(0x593)]??0x0)+0x1,_0x2cabdf=_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x531)][_0x4ae78f(0x679)](_0x45defa=>String(_0x45defa[_0x4ae78f(0x43c)])===String(_0x2950b3[_0x4ae78f(0x782)]))['length']+0x1,_0x424d49=_0x287abd?.[_0x4ae78f(0x4b1)]??Date['now'](),_0x381da0=_0x287abd?.[_0x4ae78f(0x170)]?_0x287abd[_0x4ae78f(0x6c4)]??_0x287abd[_0x4ae78f(0x170)][_0x4ae78f(0x289)]():void 0x0,_0x498a60={'onTime':_0x424d49,'blockId':_0x2950b3[_0x4ae78f(0x782)],'order':_0x3d7698,'activatedCount':_0x2cabdf,'error':_0x287abd?.[_0x4ae78f(0x170)]??!0x1,'messageId':_0x287abd?.[_0x4ae78f(0x5b1)],'apiResponse':_0x287abd?.['apiResponse'],'apiResponseString':_0x287abd?.[_0x4ae78f(0x546)]?JSON['stringify'](_0x287abd?.['apiResponse']):void 0x0,'variable':_0x287abd?.[_0x4ae78f(0x3c5)],'oldValue':_0x287abd?.[_0x4ae78f(0x6aa)],'newValue':_0x287abd?.['newValue'],'newStoppedUntil':_0x287abd?.[_0x4ae78f(0x381)],'moreLogs':_0x287abd?.[_0x4ae78f(0x40a)],'errorLog':_0x381da0};if(_0x287abd[_0x4ae78f(0x40a)]&&_0x287abd['moreLogs']['length']>0x0){let _0x245d15=_0x287abd[_0x4ae78f(0x40a)][_0x4ae78f(0x483)](_0x9c26b2=>this[_0x4ae78f(0x5cd)](_0x9c26b2,_0x385b96['chatLog']['realVariables']));_0x498a60['moreLogs']=_0x245d15;}_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x2e2)]||(_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x2e2)]={}),_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x2e2)][_0x4ae78f(0x695)]=String(_0x2cabdf),_0x385b96['chatLog'][_0x4ae78f(0x2e2)][_0x4ae78f(0x577)]=String(_0x287abd[_0x4ae78f(0x170)]??!0x1),_0x385b96[_0x4ae78f(0x210)]['blockLogs'][_0x4ae78f(0x4c1)](_0x498a60),_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x25d)]=_0x2950b3['_id'][_0x4ae78f(0x289)](),_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x187)]&&(_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x187)]=_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x187)]),_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x366)]&&(_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x366)]=_0x385b96['chatLog'][_0x4ae78f(0x366)]),_0x385b96[_0x4ae78f(0x210)][_0x4ae78f(0x660)]&&(_0x385b96[_0x4ae78f(0x210)]['lastCondition']=_0x385b96['chatLog']['lastCondition']),_0x516ff7&&(_0x385b96[_0x4ae78f(0x23b)]=_0x4ae78f(0x3c9)),_0x11e2b9?this[_0x4ae78f(0x5a4)](_0x385b96):this[_0x4ae78f(0x179)](_0x385b96,_0x2950b3);}[a0_0xc64edb(0x5cd)](_0x317e6d,_0x3c64a2){const _0x55c435=a0_0xc64edb;return _0x317e6d[_0x55c435(0x4ee)](/\{\{([^}]+)\}\}/g,(_0x48b7bd,_0x5aaf52)=>_0x3c64a2[_0x5aaf52]?'{{'+_0x5aaf52+_0x55c435(0x4d3)+_0x3c64a2[_0x5aaf52]+'\x22':'{{'+_0x5aaf52+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0xc64edb(0x5a4)](_0x2cc173){const _0x56756b=a0_0xc64edb;try{let _0x11cb7=Object['entries'](_0x2cc173[_0x56756b(0x210)][_0x56756b(0x2e2)])[_0x56756b(0x483)](([_0x3d7945,_0x480e84])=>({'name':_0x3d7945,'value':_0x480e84})),_0x4ffb4e={'status':_0x2cc173['status'],'blocks':_0x2cc173['blocks'],'waitingMenu_id':_0x2cc173[_0x56756b(0x606)],'waitingMenu_text':_0x2cc173['waitingMenu_text'],'waitingMenu_replyOptions':_0x2cc173[_0x56756b(0x191)],'chatLog':{'lastBlockId':_0x2cc173[_0x56756b(0x210)][_0x56756b(0x25d)],'lastSendMessage':_0x2cc173[_0x56756b(0x210)]['lastSendMessage'],'lastReceivedMessage':_0x2cc173[_0x56756b(0x210)][_0x56756b(0x366)],'lastCondition':_0x2cc173[_0x56756b(0x210)][_0x56756b(0x660)],'chatVariables':_0x11cb7,'realVariables':_0x2cc173[_0x56756b(0x210)]['realVariables'],'blockLogs':_0x2cc173[_0x56756b(0x210)]['blockLogs']}},_0x1139c6=await this[_0x56756b(0x19b)][_0x56756b(0x2f7)]['updateOne'](_0x2cc173['_id'],_0x4ffb4e,this[_0x56756b(0x2ca)][_0x56756b(0x405)]);if(_0x1139c6){this[_0x56756b(0x616)]['verbose'](this[_0x56756b(0x56f)]+'\x20('+this[_0x56756b(0x2ca)][_0x56756b(0x405)]+_0x56756b(0x5b5)+_0x1139c6[_0x56756b(0x782)]);try{let _0xbfd21e=[_0x56756b(0x556),_0x56756b(0x5df),'email',_0x56756b(0x1aa),_0x56756b(0x23b),_0x56756b(0x370),'responsavelid','tags',_0x56756b(0x51f)];if(!this[_0x56756b(0x3eb)]&&(await this[_0x56756b(0x6e1)](),!this[_0x56756b(0x3eb)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x1f1b8f=this[_0x56756b(0x3eb)]?.[_0x56756b(0x426)][_0x56756b(0x483)](_0x3078b1=>_0x3078b1['name']),_0x516d66={};Object[_0x56756b(0x490)](_0x2cc173[_0x56756b(0x210)]['realVariables'])[_0x56756b(0x2d6)](([_0x31deda,_0x475521])=>{const _0x3b7fc7=_0x56756b;_0xbfd21e[_0x3b7fc7(0x4df)](_0x31deda)&&(_0x31deda==='tags'&&typeof _0x475521=='string'?_0x516d66[_0x31deda]=_0x475521[_0x3b7fc7(0x13f)](',')[_0x3b7fc7(0x483)](_0xe4f274=>_0xe4f274[_0x3b7fc7(0x72f)]())[_0x3b7fc7(0x679)](_0x473d11=>_0x473d11!==''):_0x31deda===_0x3b7fc7(0x51f)&&typeof _0x475521=='string'?_0x516d66[_0x31deda]=_0x475521[_0x3b7fc7(0x13f)](',')[_0x3b7fc7(0x483)](_0x3a020a=>_0x3a020a[_0x3b7fc7(0x72f)]())[_0x3b7fc7(0x679)](_0x5f512d=>_0x5f512d!==''):_0x516d66[_0x31deda]=_0x475521);});let _0x3d5d49=_0x2cc173[_0x56756b(0x210)]['blockLogs'][_0x2cc173[_0x56756b(0x210)]['blockLogs'][_0x56756b(0x593)]-0x1];if(_0x3d5d49){let _0x3c1534=_0x3d5d49[_0x56756b(0x381)];_0x3c1534!==void 0x0&&(_0x516d66[_0x56756b(0x5e8)]=_0x3c1534[_0x56756b(0x289)]());}let _0x2cd3e4=_0x11cb7[_0x56756b(0x679)](_0x79a04d=>_0x1f1b8f[_0x56756b(0x4df)](_0x79a04d[_0x56756b(0x219)]));this[_0x56756b(0x616)]['verbose'](this[_0x56756b(0x56f)]+'\x20('+this[_0x56756b(0x2ca)][_0x56756b(0x405)]+_0x56756b(0x6a0)),this['logger'][_0x56756b(0x6d2)](_0x516d66),this[_0x56756b(0x616)][_0x56756b(0x6d2)](this[_0x56756b(0x56f)]+'\x20('+this[_0x56756b(0x2ca)][_0x56756b(0x405)]+_0x56756b(0x626)),this[_0x56756b(0x616)][_0x56756b(0x6d2)](_0x2cd3e4);let _0x11832f=_0x2cd3e4[_0x56756b(0x483)](_0x36556e=>{const _0x423855=_0x56756b;let _0x1848ed=this['AutomateSystem']?.[_0x423855(0x426)]['find'](_0x102029=>_0x102029['name']===_0x36556e[_0x423855(0x219)]);if(!_0x1848ed)throw new Error(_0x423855(0x51b)+_0x36556e[_0x423855(0x219)]);return{'_id':_0x1848ed['_id'],'value':_0x36556e[_0x423855(0x772)]};});this[_0x56756b(0x616)][_0x56756b(0x6d2)](this['instanceName']+'\x20('+this[_0x56756b(0x2ca)][_0x56756b(0x405)]+_0x56756b(0x766)),this[_0x56756b(0x616)]['verbose'](_0x11832f),await this[_0x56756b(0x3bf)](_0x2cc173[_0x56756b(0x2b0)],_0x516d66,_0x11832f);}catch(_0x518086){this[_0x56756b(0x616)]['error'](this[_0x56756b(0x56f)]+'\x20('+this['instance'][_0x56756b(0x405)]+_0x56756b(0x16a)+(_0x518086 instanceof Error?_0x518086[_0x56756b(0x261)]:JSON['stringify'](_0x518086,null,0x2)));}}else this['logger'][_0x56756b(0x170)](this['instanceName']+'\x20('+this[_0x56756b(0x2ca)][_0x56756b(0x405)]+_0x56756b(0x267));}catch(_0x391ff0){this[_0x56756b(0x616)][_0x56756b(0x170)](this['instanceName']+'\x20('+this[_0x56756b(0x2ca)][_0x56756b(0x405)]+_0x56756b(0x511)+(_0x391ff0 instanceof Error?_0x391ff0[_0x56756b(0x261)]:JSON[_0x56756b(0x188)](_0x391ff0,null,0x2)));}}async[a0_0xc64edb(0x3bf)](_0x2c94ba,_0x178b0c,_0x361845){const _0x219ddb=a0_0xc64edb;try{let _0x542482={'leadInfo.leadnome':_0x178b0c['nome'],'leadInfo.nomecompleto':_0x178b0c[_0x219ddb(0x5df)],'leadInfo.email':_0x178b0c[_0x219ddb(0x284)],'leadInfo.cpf':_0x178b0c[_0x219ddb(0x1aa)],'leadInfo.status':_0x178b0c[_0x219ddb(0x23b)],'leadInfo.notas':_0x178b0c[_0x219ddb(0x370)],'leadInfo.responsavelid':_0x178b0c['responsavelid'],'leadInfo.tags':_0x178b0c[_0x219ddb(0x1c6)],'leadInfo.etiquetas':_0x178b0c[_0x219ddb(0x51f)],'leadInfo.customFields':_0x361845},_0x5b4fdf=await this[_0x219ddb(0x19b)][_0x219ddb(0x3d8)][_0x219ddb(0x671)]({'where':{'_id':_0x2c94ba}},this[_0x219ddb(0x2ca)]['wuid']),_0x2173cc=new Set(_0x5b4fdf[_0x219ddb(0x5b4)]['etiquetas']||[]),_0xba9b2f=new Set(_0x178b0c[_0x219ddb(0x51f)]||[]),_0x2f8b23=await this['repository'][_0x219ddb(0x66d)][_0x219ddb(0x670)]({'where':{}},this[_0x219ddb(0x2ca)][_0x219ddb(0x405)]),_0x2876f5=new Set(_0x2f8b23['map'](_0x3af485=>_0x3af485[_0x219ddb(0x782)])),_0xbe73b6=[..._0xba9b2f][_0x219ddb(0x679)](_0x542416=>!_0x2173cc['has'](_0x542416)&&_0x2876f5['has'](_0x542416)),_0x27df14=[..._0x2173cc][_0x219ddb(0x679)](_0x5f2a91=>!_0xba9b2f[_0x219ddb(0x64f)](_0x5f2a91));for(let _0x3dd282 of _0xbe73b6)await this['AddChatLabel'](_0x3dd282,_0x5b4fdf[_0x219ddb(0x782)]),_0x2173cc[_0x219ddb(0x303)](_0x3dd282);for(let _0xb0578a of _0x27df14)await this[_0x219ddb(0x48d)](_0xb0578a,_0x5b4fdf[_0x219ddb(0x782)]),_0x2173cc[_0x219ddb(0x57d)](_0xb0578a);if(_0x219ddb(0x5e8)in _0x178b0c){let _0x5ddd6b=_0x178b0c[_0x219ddb(0x5e8)];_0x542482['leadInfo.desativadoFluxoAte']=_0x5ddd6b?Number(_0x5ddd6b):null;}let _0x488e04=await this[_0x219ddb(0x19b)][_0x219ddb(0x3d8)]['updateOne']({'where':{'_id':_0x2c94ba}},_0x542482,this['instance'][_0x219ddb(0x405)]);_0x488e04?(this[_0x219ddb(0x616)]['verbose'](this[_0x219ddb(0x56f)]+'\x20('+this[_0x219ddb(0x2ca)][_0x219ddb(0x405)]+_0x219ddb(0x29c)+_0x488e04['_id']),J(this[_0x219ddb(0x56f)],_0x219ddb(0x78d),{'chat':_0x488e04})):this['logger']['error'](this['instanceName']+'\x20('+this[_0x219ddb(0x2ca)][_0x219ddb(0x405)]+_0x219ddb(0x2fa));}catch(_0x3bb9d4){this[_0x219ddb(0x616)][_0x219ddb(0x170)](this[_0x219ddb(0x56f)]+'\x20('+this[_0x219ddb(0x2ca)][_0x219ddb(0x405)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x3bb9d4 instanceof Error?_0x3bb9d4[_0x219ddb(0x261)]:JSON[_0x219ddb(0x188)](_0x3bb9d4,null,0x2)));}}async['updateStopChat'](_0xd0058d,_0x1c720f){const _0x21f5fa=a0_0xc64edb;this[_0x21f5fa(0x616)][_0x21f5fa(0x6d2)](this[_0x21f5fa(0x56f)]+'\x20('+this[_0x21f5fa(0x2ca)][_0x21f5fa(0x405)]+_0x21f5fa(0x510)+_0x1c720f);try{let _0x116dbb=await this['repository'][_0x21f5fa(0x3d8)][_0x21f5fa(0x41e)]({'where':{'_id':_0xd0058d[_0x21f5fa(0x2b0)]}},{'leadInfo.desativadoFluxoAte':_0x1c720f},this[_0x21f5fa(0x2ca)][_0x21f5fa(0x405)]);this[_0x21f5fa(0x616)][_0x21f5fa(0x6d2)](this[_0x21f5fa(0x56f)]+'\x20('+this[_0x21f5fa(0x2ca)][_0x21f5fa(0x405)]+_0x21f5fa(0x2be)+_0xd0058d[_0x21f5fa(0x782)]),this[_0x21f5fa(0x616)]['verbose'](this[_0x21f5fa(0x56f)]+'\x20('+this[_0x21f5fa(0x2ca)]['wuid']+'):\x20atualização\x20chat:\x20'+JSON[_0x21f5fa(0x188)](_0x116dbb,null,0x2)),_0x116dbb&&J(this['instanceName'],_0x21f5fa(0x78d),{'chat':_0x116dbb});}catch(_0xc075a1){this[_0x21f5fa(0x616)]['error'](this[_0x21f5fa(0x56f)]+'\x20('+this['instance'][_0x21f5fa(0x405)]+_0x21f5fa(0x4d8)+(_0xc075a1 instanceof Error?_0xc075a1[_0x21f5fa(0x261)]:JSON['stringify'](_0xc075a1,null,0x2)));}}async['findFlow'](_0x395a1e){const _0x2af0e6=a0_0xc64edb;try{this[_0x2af0e6(0x616)]['verbose'](this['instanceName']+'\x20('+this[_0x2af0e6(0x2ca)][_0x2af0e6(0x405)]+'):\x20Buscando\x20flow...');let _0x4cf976=_0x395a1e['replace'](/\D/g,''),_0x998db7=await this[_0x2af0e6(0x19b)][_0x2af0e6(0x16f)][_0x2af0e6(0x671)]({'where':{'testingWith':_0x4cf976}},this[_0x2af0e6(0x2ca)][_0x2af0e6(0x405)]);return _0x998db7||(this[_0x2af0e6(0x616)][_0x2af0e6(0x6d2)](this[_0x2af0e6(0x56f)]+'\x20('+this[_0x2af0e6(0x2ca)][_0x2af0e6(0x405)]+_0x2af0e6(0x459)),_0x998db7=await this['repository'][_0x2af0e6(0x16f)][_0x2af0e6(0x671)]({'where':{'default':!0x0}},this[_0x2af0e6(0x2ca)][_0x2af0e6(0x405)])),_0x998db7||(this[_0x2af0e6(0x616)][_0x2af0e6(0x6d2)](this[_0x2af0e6(0x56f)]+'\x20('+this['instance'][_0x2af0e6(0x405)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x4aeafe){return this['logger'][_0x2af0e6(0x170)](this[_0x2af0e6(0x56f)]+'\x20('+this[_0x2af0e6(0x2ca)][_0x2af0e6(0x405)]+_0x2af0e6(0x676)+(_0x4aeafe instanceof Error?_0x4aeafe['message']:JSON[_0x2af0e6(0x188)](_0x4aeafe,null,0x2))),null;}}async[a0_0xc64edb(0x61a)](_0x303c17,_0x23be06){const _0x226463=a0_0xc64edb;try{let _0x269e4e=!!_0x23be06['vote'],_0x27c238=_0x23be06[_0x226463(0x3a7)],_0x12e977=null;if(this[_0x226463(0x616)][_0x226463(0x6d2)](this[_0x226463(0x56f)]+'\x20('+this['instance'][_0x226463(0x405)]+_0x226463(0x59c)+_0x269e4e+_0x226463(0x5e0)+_0x27c238),_0x269e4e){this[_0x226463(0x616)][_0x226463(0x6d2)](this['instanceName']+'\x20('+this[_0x226463(0x2ca)][_0x226463(0x405)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x3739c0={'where':{'remoteJid':_0x303c17,'waitingMenu_id':_0x27c238}};if(_0x12e977=await this[_0x226463(0x19b)][_0x226463(0x2f7)][_0x226463(0x671)](_0x3739c0,this[_0x226463(0x2ca)][_0x226463(0x405)]),!_0x12e977)return this[_0x226463(0x616)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x226463(0x405)]+'):\x20não\x20encontrou'),null;let _0x2a77fc=Date[_0x226463(0x550)](),_0xd407e1=_0x12e977?.['minutesToClose']||0x0,_0x131a56=_0x2a77fc-_0xd407e1*0x3c*0x3e8;if(_0x12e977['lastInteraction']<_0x131a56){this['logger'][_0x226463(0x6d2)](this[_0x226463(0x56f)]+'\x20('+this[_0x226463(0x2ca)][_0x226463(0x405)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x44c20e={'number':_0x12e977[_0x226463(0x2b0)],'options':{'delay':0x0},'textMessage':{'text':_0x12e977['waitingMenu_ExpiredMessage']}};await this[_0x226463(0x461)](_0x44c20e);let _0x121153={'status':_0x226463(0x3c9),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x226463(0x19b)][_0x226463(0x2f7)]['updateOne'](_0x12e977['_id'],_0x121153,this[_0x226463(0x2ca)][_0x226463(0x405)]),null;}return _0x12e977[_0x226463(0x42a)]=Date[_0x226463(0x550)](),_0x12e977[_0x226463(0x210)][_0x226463(0x366)]=_0x23be06,_0x12e977;}else{this[_0x226463(0x616)]['verbose'](this[_0x226463(0x56f)]+'\x20('+this[_0x226463(0x2ca)][_0x226463(0x405)]+_0x226463(0x3f9)+this[_0x226463(0x2ca)]['wuid']+_0x226463(0x387)),this[_0x226463(0x616)]['verbose'](this['instanceName']+'\x20('+this[_0x226463(0x2ca)]['wuid']+_0x226463(0x683));let _0x17d942={'where':{'remoteJid':_0x303c17,'status':'open'}};if(_0x12e977=await this[_0x226463(0x19b)]['flowConversation']['findOne'](_0x17d942,this['instance'][_0x226463(0x405)]),!_0x12e977){let _0x3328e2=await this[_0x226463(0x5ba)](_0x303c17);if(_0x3328e2&&(_0x12e977=await this[_0x226463(0x6be)](_0x3328e2,_0x23be06[_0x226463(0x241)],_0x23be06)),!_0x12e977)return null;}let _0x59d00e=Date[_0x226463(0x550)](),_0x41fccc=_0x12e977?.[_0x226463(0x3dd)]||0x0,_0x2e27fa=_0x59d00e-_0x41fccc*0x3c*0x3e8;if(this[_0x226463(0x616)][_0x226463(0x6d2)](this[_0x226463(0x56f)]+'\x20('+this[_0x226463(0x2ca)][_0x226463(0x405)]+_0x226463(0x2b8)+_0x59d00e+_0x226463(0x500)+_0x41fccc+_0x226463(0x63f)+_0x2e27fa),this['logger']['verbose'](this[_0x226463(0x56f)]+'\x20('+this[_0x226463(0x2ca)][_0x226463(0x405)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this['logger'][_0x226463(0x6d2)](this[_0x226463(0x56f)]+'\x20('+this[_0x226463(0x2ca)][_0x226463(0x405)]+_0x226463(0x19d)+_0x12e977[_0x226463(0x42a)]),this['logger']['verbose'](this[_0x226463(0x56f)]+'\x20('+this[_0x226463(0x2ca)][_0x226463(0x405)]+'):\x20expirationTime:\x20'+_0x2e27fa),_0x12e977[_0x226463(0x42a)]<_0x2e27fa){this[_0x226463(0x616)]['verbose'](this['instanceName']+'\x20('+this[_0x226463(0x2ca)][_0x226463(0x405)]+_0x226463(0x1f1));let _0x8d1960=await this[_0x226463(0x5ba)](_0x303c17);if(_0x8d1960===null)return null;_0x12e977&&await this[_0x226463(0x19b)]['flowConversation'][_0x226463(0x41e)](_0x12e977['_id'],{'status':_0x226463(0x3c9)},this['instance'][_0x226463(0x405)]),_0x12e977=await this[_0x226463(0x6be)](_0x8d1960,_0x23be06[_0x226463(0x241)],_0x23be06);}return _0x12e977[_0x226463(0x42a)]=_0x59d00e,_0x12e977['chatLog'][_0x226463(0x366)]=_0x23be06,_0x12e977;}}catch(_0x31ca60){return this[_0x226463(0x616)][_0x226463(0x170)](this[_0x226463(0x56f)]+'\x20('+this[_0x226463(0x2ca)]['wuid']+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x31ca60 instanceof Error?_0x31ca60['message']:JSON[_0x226463(0x188)](_0x31ca60,null,0x2))),null;}}async[a0_0xc64edb(0x6be)](_0x3f0685,_0x3e881e,_0x301e04){const _0x37b304=a0_0xc64edb;this[_0x37b304(0x616)][_0x37b304(0x6d2)](this[_0x37b304(0x56f)]+'\x20('+this['instance'][_0x37b304(0x405)]+_0x37b304(0x5d0));try{let _0x5860ac=require(_0x37b304(0x15c))[_0x37b304(0x3e3)],_0x3577b6=Date[_0x37b304(0x550)](),_0x46928a=_0x37b304(0x38c),_0x148f88=_0x3e881e['fromMe']?null:_0x301e04,_0x32a468=_0x3e881e['fromMe']?_0x301e04:null,_0x5d04a5=_0x3e881e['remoteJid'];await this[_0x37b304(0x36c)](_0x5d04a5);let _0x2cc6f2={..._0x3f0685,'chatLog':null},_0x1c50fa=await this[_0x37b304(0x49a)](_0x2cc6f2[_0x37b304(0x700)]),_0x18421e=await this[_0x37b304(0x367)](_0x5d04a5),_0x36ca6d={..._0x1c50fa,..._0x18421e,'_remoteJid':_0x5d04a5},_0xc5a42c={'lastReceivedMessage':_0x148f88,'lastSendMessage':_0x32a468,'lastBlockId':_0x46928a,'lastCondition':!0x0,'realVariables':_0x36ca6d};_0x2cc6f2[_0x37b304(0x210)]=_0xc5a42c,delete _0x2cc6f2[_0x37b304(0x782)],_0x2cc6f2['_id']=new _0x5860ac(),_0x2cc6f2[_0x37b304(0x42a)]=_0x3577b6,_0x2cc6f2[_0x37b304(0x23b)]='open',_0x2cc6f2[_0x37b304(0x2b0)]=_0x5d04a5;let _0x121e1b=await this[_0x37b304(0x19b)][_0x37b304(0x2f7)]['updateOne'](_0x2cc6f2[_0x37b304(0x782)],_0x2cc6f2,this['instance'][_0x37b304(0x405)]);return this[_0x37b304(0x616)][_0x37b304(0x6d2)](this[_0x37b304(0x56f)]+'\x20('+this[_0x37b304(0x2ca)][_0x37b304(0x405)]+_0x37b304(0x59b)),_0x121e1b?_0x2cc6f2:null;}catch(_0x4c6667){return this[_0x37b304(0x616)][_0x37b304(0x170)](this['instanceName']+'\x20('+this[_0x37b304(0x2ca)][_0x37b304(0x405)]+_0x37b304(0x154)+(_0x4c6667 instanceof Error?_0x4c6667[_0x37b304(0x261)]:JSON[_0x37b304(0x188)](_0x4c6667,null,0x2))),_0x4c6667;}}async[a0_0xc64edb(0x62b)](_0x17a695,_0x5c3314){const _0x9c5b4c=a0_0xc64edb;let _0x122f83=_0x17a695[_0x9c5b4c(0x2b0)];_0x5c3314[_0x9c5b4c(0x774)][_0x9c5b4c(0x2b0)]&&_0x5c3314['uazapi']['remoteJid'][_0x9c5b4c(0x72f)]()!==''&&(_0x122f83=_0x5c3314[_0x9c5b4c(0x774)][_0x9c5b4c(0x2b0)][_0x9c5b4c(0x72f)]()),this['logger']['verbose'](this[_0x9c5b4c(0x56f)]+'\x20('+this['instance']['wuid']+_0x9c5b4c(0x6d6));let _0x1a1fee={'number':_0x122f83,'options':{'delay':_0x5c3314['uazapi']['delay']},'textMessage':{'text':_0x5c3314[_0x9c5b4c(0x774)][_0x9c5b4c(0x646)]}};try{let _0x7a5055=await this[_0x9c5b4c(0x461)](_0x1a1fee);if(_0x7a5055){let _0x29bc09={'_id':_0x7a5055[_0x9c5b4c(0x241)]['id'],'_fromMe':_0x7a5055[_0x9c5b4c(0x241)][_0x9c5b4c(0x792)],'_remoteJid':_0x7a5055['key']['remoteJid']};_0x17a695[_0x9c5b4c(0x210)]['lastBlockId']=_0x5c3314[_0x9c5b4c(0x782)][_0x9c5b4c(0x289)]();let {message_normalized:_0x19953c}=this[_0x9c5b4c(0x5aa)](_0x7a5055[_0x9c5b4c(0x261)],$(_0x7a5055[_0x9c5b4c(0x261)]),null);_0x17a695['chatLog'][_0x9c5b4c(0x187)]=await _0x19953c;let _0x2f1dc6={'messageId':_0x7a5055[_0x9c5b4c(0x241)]['id']},_0x5266d2=_0x17a695['chatLog'][_0x9c5b4c(0x2e2)];Object['assign'](_0x5266d2,_0x29bc09),_0x17a695['chatLog'][_0x9c5b4c(0x2e2)]=_0x5266d2,this[_0x9c5b4c(0x36d)](_0x17a695,_0x5c3314,_0x2f1dc6);}else{let _0x4a6b4f={'error':!0x0};this[_0x9c5b4c(0x36d)](_0x17a695,_0x5c3314,_0x4a6b4f),this[_0x9c5b4c(0x616)]['error'](this[_0x9c5b4c(0x56f)]+'\x20('+this[_0x9c5b4c(0x2ca)][_0x9c5b4c(0x405)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x9cff97){let _0x7cfb62={'error':!0x0,'errorLog':_0x9cff97[_0x9c5b4c(0x289)]()};this['updateConversation'](_0x17a695,_0x5c3314,_0x7cfb62),this[_0x9c5b4c(0x616)]['error'](this[_0x9c5b4c(0x56f)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x9cff97 instanceof Error?_0x9cff97[_0x9c5b4c(0x261)]:JSON[_0x9c5b4c(0x188)](_0x9cff97,null,0x2)));}}async[a0_0xc64edb(0x32a)](_0x21ea88,_0x1b0621){const _0x33392c=a0_0xc64edb;let _0x48ad1e=_0x21ea88[_0x33392c(0x2b0)];_0x1b0621[_0x33392c(0x774)][_0x33392c(0x2b0)]&&_0x1b0621[_0x33392c(0x774)][_0x33392c(0x2b0)]['trim']()!==''&&(_0x48ad1e=_0x1b0621[_0x33392c(0x774)]['remoteJid'][_0x33392c(0x72f)]()),this[_0x33392c(0x616)][_0x33392c(0x6d2)](this[_0x33392c(0x56f)]+'\x20('+this[_0x33392c(0x2ca)][_0x33392c(0x405)]+_0x33392c(0x57b));let _0x255e01={'number':_0x48ad1e,'options':{'delay':_0x1b0621[_0x33392c(0x774)][_0x33392c(0x431)]},'mediaMessage':{'mediatype':_0x1b0621[_0x33392c(0x774)][_0x33392c(0x647)],'caption':_0x1b0621['uazapi'][_0x33392c(0x61c)],'media':_0x1b0621['uazapi'][_0x33392c(0x47b)],'fileName':_0x1b0621[_0x33392c(0x774)][_0x33392c(0x775)]}};try{let _0x2dc503=await this[_0x33392c(0x220)](_0x255e01);if(_0x2dc503){let _0x1a063c={'_id':_0x2dc503[_0x33392c(0x241)]['id'],'_fromMe':_0x2dc503[_0x33392c(0x241)][_0x33392c(0x792)],'_remoteJid':_0x2dc503[_0x33392c(0x241)][_0x33392c(0x2b0)]};_0x21ea88[_0x33392c(0x210)][_0x33392c(0x25d)]=_0x1b0621['_id']['toString']();let {message_normalized:_0x16347d}=this[_0x33392c(0x5aa)](_0x2dc503['message'],$(_0x2dc503[_0x33392c(0x261)]),null);_0x21ea88[_0x33392c(0x210)][_0x33392c(0x187)]=await _0x16347d;let _0x9607b1={'messageId':_0x2dc503[_0x33392c(0x241)]['id']},_0x118d91=_0x21ea88[_0x33392c(0x210)][_0x33392c(0x2e2)];Object['assign'](_0x118d91,_0x1a063c),_0x21ea88[_0x33392c(0x210)][_0x33392c(0x2e2)]=_0x118d91,this[_0x33392c(0x36d)](_0x21ea88,_0x1b0621,_0x9607b1);}else{let _0x27f1cd={'error':!0x0};this[_0x33392c(0x36d)](_0x21ea88,_0x1b0621,_0x27f1cd),this[_0x33392c(0x616)][_0x33392c(0x170)](this[_0x33392c(0x56f)]+'\x20('+this['instance'][_0x33392c(0x405)]+_0x33392c(0x797));}}catch(_0x4a5330){let _0xb8a51c={'error':!0x0,'errorLog':_0x4a5330[_0x33392c(0x289)]()};this[_0x33392c(0x36d)](_0x21ea88,_0x1b0621,_0xb8a51c),this[_0x33392c(0x616)][_0x33392c(0x170)](this[_0x33392c(0x56f)]+'\x20('+this[_0x33392c(0x2ca)][_0x33392c(0x405)]+_0x33392c(0x5ab)+(_0x4a5330 instanceof Error?_0x4a5330[_0x33392c(0x261)]:JSON[_0x33392c(0x188)](_0x4a5330,null,0x2)));}}async[a0_0xc64edb(0x378)](_0x287469,_0x2279ae){const _0xe778=a0_0xc64edb;let _0x4936c1=_0x287469[_0xe778(0x2b0)];_0x2279ae[_0xe778(0x774)][_0xe778(0x2b0)]&&_0x2279ae[_0xe778(0x774)][_0xe778(0x2b0)]['trim']()!==''&&(_0x4936c1=_0x2279ae[_0xe778(0x774)]['remoteJid'][_0xe778(0x72f)]()),this[_0xe778(0x616)]['verbose'](this[_0xe778(0x56f)]+'\x20('+this[_0xe778(0x2ca)][_0xe778(0x405)]+_0xe778(0x681));let _0x41cbe8={'number':_0x4936c1,'options':{'delay':_0x2279ae[_0xe778(0x774)][_0xe778(0x431)]},'locationMessage':{'name':_0x2279ae[_0xe778(0x774)][_0xe778(0x219)],'address':_0x2279ae[_0xe778(0x774)]['address'],'latitude':_0x2279ae[_0xe778(0x774)][_0xe778(0x408)],'longitude':_0x2279ae[_0xe778(0x774)][_0xe778(0x753)]}};try{let _0xf62364=await this['locationMessage'](_0x41cbe8);if(_0xf62364){let _0x40cd73={'_id':_0xf62364[_0xe778(0x241)]['id'],'_fromMe':_0xf62364['key']['fromMe'],'_remoteJid':_0xf62364[_0xe778(0x241)][_0xe778(0x2b0)]};_0x287469[_0xe778(0x210)][_0xe778(0x25d)]=_0x2279ae[_0xe778(0x782)][_0xe778(0x289)]();let {message_normalized:_0x495c4f}=this[_0xe778(0x5aa)](_0xf62364['message'],$(_0xf62364[_0xe778(0x261)]),null);_0x287469[_0xe778(0x210)][_0xe778(0x187)]=await _0x495c4f;let _0x22183e={'messageId':_0xf62364[_0xe778(0x241)]['id']},_0xea8c25=_0x287469[_0xe778(0x210)][_0xe778(0x2e2)];Object['assign'](_0xea8c25,_0x40cd73),_0x287469[_0xe778(0x210)][_0xe778(0x2e2)]=_0xea8c25,this[_0xe778(0x36d)](_0x287469,_0x2279ae,_0x22183e);}else{let _0x5f0d0d={'error':!0x0};this[_0xe778(0x36d)](_0x287469,_0x2279ae,_0x5f0d0d),this[_0xe778(0x616)][_0xe778(0x170)](this[_0xe778(0x56f)]+'\x20('+this['instance']['wuid']+_0xe778(0x567));}}catch(_0x4bd933){let _0x136e15={'error':!0x0,'errorLog':_0x4bd933['toString']()};this[_0xe778(0x36d)](_0x287469,_0x2279ae,_0x136e15),this['logger'][_0xe778(0x170)](this[_0xe778(0x56f)]+'\x20('+this['instance'][_0xe778(0x405)]+_0xe778(0x7aa)+(_0x4bd933 instanceof Error?_0x4bd933[_0xe778(0x261)]:JSON[_0xe778(0x188)](_0x4bd933,null,0x2)));}}async['uazapiSendAudio'](_0x3a0545,_0x4fd86d){const _0x1a7656=a0_0xc64edb;let _0x4459c9=_0x3a0545[_0x1a7656(0x2b0)];_0x4fd86d[_0x1a7656(0x774)]['remoteJid']&&_0x4fd86d[_0x1a7656(0x774)][_0x1a7656(0x2b0)]['trim']()!==''&&(_0x4459c9=_0x4fd86d[_0x1a7656(0x774)][_0x1a7656(0x2b0)][_0x1a7656(0x72f)]()),this['logger'][_0x1a7656(0x6d2)](this[_0x1a7656(0x56f)]+'\x20('+this[_0x1a7656(0x2ca)][_0x1a7656(0x405)]+_0x1a7656(0x481));let _0x4212b5={'number':_0x4459c9,'options':{'delay':_0x4fd86d['uazapi'][_0x1a7656(0x431)]},'audioMessage':{'audio':_0x4fd86d[_0x1a7656(0x774)][_0x1a7656(0x73a)]}};try{let _0x555e82=await this[_0x1a7656(0x3ae)](_0x4212b5);if(_0x555e82){let _0x28f196={'_id':_0x555e82[_0x1a7656(0x241)]['id'],'_fromMe':_0x555e82[_0x1a7656(0x241)]['fromMe'],'_remoteJid':_0x555e82[_0x1a7656(0x241)][_0x1a7656(0x2b0)]};_0x3a0545['chatLog'][_0x1a7656(0x25d)]=_0x4fd86d[_0x1a7656(0x782)][_0x1a7656(0x289)]();let {message_normalized:_0x33a944}=this[_0x1a7656(0x5aa)](_0x555e82['message'],$(_0x555e82[_0x1a7656(0x261)]),null);_0x3a0545['chatLog'][_0x1a7656(0x187)]=await _0x33a944;let _0x4d45ba={'messageId':_0x555e82['key']['id']},_0x576009=_0x3a0545[_0x1a7656(0x210)]['realVariables'];Object[_0x1a7656(0x34c)](_0x576009,_0x28f196),_0x3a0545[_0x1a7656(0x210)][_0x1a7656(0x2e2)]=_0x576009,this[_0x1a7656(0x36d)](_0x3a0545,_0x4fd86d,_0x4d45ba);}else{let _0x56500e={'error':!0x0};this[_0x1a7656(0x36d)](_0x3a0545,_0x4fd86d,_0x56500e),this['logger'][_0x1a7656(0x170)](this['instanceName']+'\x20('+this[_0x1a7656(0x2ca)][_0x1a7656(0x405)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x50c9b0){let _0x4c4846={'error':!0x0,'errorLog':_0x50c9b0[_0x1a7656(0x289)]()};this['updateConversation'](_0x3a0545,_0x4fd86d,_0x4c4846),this[_0x1a7656(0x616)][_0x1a7656(0x170)](this[_0x1a7656(0x56f)]+'\x20('+this[_0x1a7656(0x2ca)][_0x1a7656(0x405)]+_0x1a7656(0x6fb)+(_0x50c9b0 instanceof Error?_0x50c9b0[_0x1a7656(0x261)]:JSON[_0x1a7656(0x188)](_0x50c9b0,null,0x2)));}}async['uazapiSendContact'](_0x4db421,_0x21caac){const _0x4b768b=a0_0xc64edb;let _0x256aa1=_0x4db421['remoteJid'];_0x21caac[_0x4b768b(0x774)][_0x4b768b(0x2b0)]&&_0x21caac['uazapi'][_0x4b768b(0x2b0)][_0x4b768b(0x72f)]()!==''&&(_0x256aa1=_0x21caac['uazapi']['remoteJid'][_0x4b768b(0x72f)]()),this[_0x4b768b(0x616)][_0x4b768b(0x6d2)](this[_0x4b768b(0x56f)]+'\x20('+this[_0x4b768b(0x2ca)]['wuid']+_0x4b768b(0x562));let _0x386ef7={'number':_0x256aa1,'options':{'delay':_0x21caac[_0x4b768b(0x774)]['delay']},'contactMessage':[{'fullName':_0x21caac['uazapi']['fullName'],'phoneNumber':_0x21caac['uazapi'][_0x4b768b(0x1e8)]}]};try{let _0x27513c=await this[_0x4b768b(0x613)](_0x386ef7);if(_0x27513c){let _0x2f9e44={'_id':_0x27513c[_0x4b768b(0x241)]['id'],'_fromMe':_0x27513c[_0x4b768b(0x241)][_0x4b768b(0x792)],'_remoteJid':_0x27513c[_0x4b768b(0x241)][_0x4b768b(0x2b0)]};_0x4db421[_0x4b768b(0x210)][_0x4b768b(0x25d)]=_0x21caac[_0x4b768b(0x782)][_0x4b768b(0x289)]();let {message_normalized:_0x1c3b40}=this[_0x4b768b(0x5aa)](_0x27513c[_0x4b768b(0x261)],$(_0x27513c[_0x4b768b(0x261)]),null);_0x4db421[_0x4b768b(0x210)]['lastSendMessage']=await _0x1c3b40;let _0x5b0608={'messageId':_0x27513c[_0x4b768b(0x241)]['id']},_0x3c9e71=_0x4db421[_0x4b768b(0x210)]['realVariables'];Object[_0x4b768b(0x34c)](_0x3c9e71,_0x2f9e44),_0x4db421[_0x4b768b(0x210)]['realVariables']=_0x3c9e71,this['updateConversation'](_0x4db421,_0x21caac,_0x5b0608);}else{let _0x55e276={'error':!0x0};this[_0x4b768b(0x36d)](_0x4db421,_0x21caac,_0x55e276),this['logger'][_0x4b768b(0x170)](this[_0x4b768b(0x56f)]+'\x20('+this[_0x4b768b(0x2ca)][_0x4b768b(0x405)]+_0x4b768b(0x663));}}catch(_0x502806){let _0x43d71c={'error':!0x0,'errorLog':_0x502806[_0x4b768b(0x289)]()};this[_0x4b768b(0x36d)](_0x4db421,_0x21caac,_0x43d71c),this[_0x4b768b(0x616)][_0x4b768b(0x170)](this[_0x4b768b(0x56f)]+'\x20('+this[_0x4b768b(0x2ca)][_0x4b768b(0x405)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x502806 instanceof Error?_0x502806['message']:JSON[_0x4b768b(0x188)](_0x502806,null,0x2)));}}[a0_0xc64edb(0x21a)](_0x27ff3d,_0x3fefe2){const _0x454947=a0_0xc64edb;for(let _0x553c21 of _0x27ff3d)_0x553c21[_0x454947(0x3d7)]&&(_0x553c21['option']=this[_0x454947(0x3b2)](_0x553c21['option'],_0x3fefe2)),_0x553c21['optionDescription']&&(_0x553c21[_0x454947(0x2b9)]=this[_0x454947(0x3b2)](_0x553c21[_0x454947(0x2b9)],_0x3fefe2));}async[a0_0xc64edb(0x4c6)](_0x2447f5,_0x1787e){const _0x106e2a=a0_0xc64edb;let _0x26d102=_0x2447f5[_0x106e2a(0x2b0)];_0x1787e[_0x106e2a(0x774)][_0x106e2a(0x2b0)]&&_0x1787e[_0x106e2a(0x774)][_0x106e2a(0x2b0)][_0x106e2a(0x72f)]()!==''&&(_0x26d102=_0x1787e['uazapi']['remoteJid'][_0x106e2a(0x72f)]()),this[_0x106e2a(0x616)][_0x106e2a(0x6d2)](this[_0x106e2a(0x56f)]+'\x20('+this[_0x106e2a(0x2ca)][_0x106e2a(0x405)]+'):\x20Enviando\x20enquete');let _0x2807b6=_0x2447f5['replyOptions'][_0x106e2a(0x679)](_0xb6e173=>_0xb6e173[_0x106e2a(0x43c)]===_0x1787e[_0x106e2a(0x782)])[_0x106e2a(0x604)]((_0x5bfe50,_0x1d6db9)=>_0x5bfe50['order']-_0x1d6db9[_0x106e2a(0x2c5)]);this[_0x106e2a(0x21a)](_0x2807b6,_0x2447f5[_0x106e2a(0x210)][_0x106e2a(0x2e2)]);let _0x1f3f5c=_0x2807b6[_0x106e2a(0x483)](_0x2b7f6b=>_0x2b7f6b[_0x106e2a(0x3d7)]),_0xccfc12={'number':_0x26d102,'menuMessage':{'type':_0x1787e['uazapi'][_0x106e2a(0x404)]||'poll','text':_0x1787e[_0x106e2a(0x774)][_0x106e2a(0x646)]||_0x1787e[_0x106e2a(0x774)][_0x106e2a(0x219)],'footerText':_0x1787e[_0x106e2a(0x774)][_0x106e2a(0x541)],'buttonText':_0x1787e[_0x106e2a(0x774)]['buttonText'],'selectableCount':0x1,'choices':_0x1f3f5c},'options':{'delay':_0x1787e['uazapi'][_0x106e2a(0x431)]}};try{let _0x17b14b=await this[_0x106e2a(0x717)](_0xccfc12);if(_0x17b14b){let _0x3fff13={'_id':_0x17b14b['key']['id'],'_fromMe':_0x17b14b['key'][_0x106e2a(0x792)],'_remoteJid':_0x17b14b[_0x106e2a(0x241)][_0x106e2a(0x2b0)]};_0x1787e[_0x106e2a(0x774)][_0x106e2a(0x589)]===!0x0&&(_0x2447f5['status']=_0x106e2a(0x184),this[_0x106e2a(0x616)][_0x106e2a(0x6d2)](this[_0x106e2a(0x56f)]+'\x20('+this[_0x106e2a(0x2ca)][_0x106e2a(0x405)]+_0x106e2a(0x68a)+_0x2447f5[_0x106e2a(0x23b)])),this[_0x106e2a(0x616)][_0x106e2a(0x6d2)](this['instanceName']+'\x20('+this[_0x106e2a(0x2ca)][_0x106e2a(0x405)]+_0x106e2a(0x6ea)+(_0x1787e['uazapi'][_0x106e2a(0x219)]||_0x1787e[_0x106e2a(0x774)][_0x106e2a(0x646)])),_0x2447f5[_0x106e2a(0x606)]=_0x17b14b[_0x106e2a(0x241)]['id'],_0x2447f5['waitingMenu_text']=_0x1787e[_0x106e2a(0x774)][_0x106e2a(0x219)]||_0x1787e[_0x106e2a(0x774)][_0x106e2a(0x646)],_0x2447f5['waitingMenu_replyOptions']=_0x2807b6,_0x1787e[_0x106e2a(0x774)]['menuExpiredMessage']&&(_0x2447f5[_0x106e2a(0x16d)]=_0x1787e['uazapi']['menuExpiredMessage']),this[_0x106e2a(0x616)][_0x106e2a(0x6d2)](this['instanceName']+'\x20('+this[_0x106e2a(0x2ca)][_0x106e2a(0x405)]+_0x106e2a(0x2a7)+_0x2447f5[_0x106e2a(0x213)]),_0x2447f5[_0x106e2a(0x210)][_0x106e2a(0x25d)]=_0x1787e[_0x106e2a(0x782)]['toString']();let {message_normalized:_0x23609a}=this[_0x106e2a(0x5aa)](_0x17b14b[_0x106e2a(0x261)],$(_0x17b14b[_0x106e2a(0x261)]),null);_0x2447f5[_0x106e2a(0x210)][_0x106e2a(0x187)]=await _0x23609a;let _0x28d994={'messageId':_0x17b14b[_0x106e2a(0x241)]['id']},_0x2c5de4=_0x2447f5[_0x106e2a(0x210)][_0x106e2a(0x2e2)];Object[_0x106e2a(0x34c)](_0x2c5de4,_0x3fff13),_0x2447f5[_0x106e2a(0x210)][_0x106e2a(0x2e2)]=_0x2c5de4,this[_0x106e2a(0x36d)](_0x2447f5,_0x1787e,_0x28d994);}else{let _0x9bd273={'error':!0x0};this[_0x106e2a(0x36d)](_0x2447f5,_0x1787e,_0x9bd273),this[_0x106e2a(0x616)][_0x106e2a(0x170)](this[_0x106e2a(0x56f)]+'\x20('+this[_0x106e2a(0x2ca)][_0x106e2a(0x405)]+_0x106e2a(0x579));}}catch(_0x4a4a9a){let _0x5a1ad6={'error':!0x0,'errorLog':_0x4a4a9a instanceof Error?_0x4a4a9a['message']:JSON[_0x106e2a(0x188)](_0x4a4a9a,null,0x2)};this[_0x106e2a(0x36d)](_0x2447f5,_0x1787e,_0x5a1ad6),this['logger'][_0x106e2a(0x170)](this[_0x106e2a(0x56f)]+'\x20('+this[_0x106e2a(0x2ca)][_0x106e2a(0x405)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x4a4a9a instanceof Error?_0x4a4a9a[_0x106e2a(0x261)]:JSON['stringify'](_0x4a4a9a,null,0x2)));}}async[a0_0xc64edb(0x61d)](_0x6e196d,_0x403156){const _0x326370=a0_0xc64edb;this['logger'][_0x326370(0x6d2)](this[_0x326370(0x56f)]+'\x20('+this[_0x326370(0x2ca)][_0x326370(0x405)]+_0x326370(0x6b5));let _0x418042=_0x6e196d[_0x326370(0x210)][_0x326370(0x531)][_0x326370(0x670)](_0x36c832=>_0x36c832[_0x326370(0x43c)]['toString']()===_0x403156[_0x326370(0x774)][_0x326370(0x43c)][_0x326370(0x289)]()),_0x3b00e8={'id':_0x418042[_0x326370(0x5b1)],'remoteJid':_0x418042[_0x326370(0x2b0)],'fromMe':_0x418042[_0x326370(0x792)]};try{let _0x19af33=await this['deleteMessage'](_0x3b00e8);if(_0x19af33){_0x6e196d[_0x326370(0x210)][_0x326370(0x25d)]=_0x403156[_0x326370(0x782)][_0x326370(0x289)]();let {message_normalized:_0x16fd39}=this[_0x326370(0x5aa)](_0x19af33[_0x326370(0x261)],$(_0x19af33[_0x326370(0x261)]),null);_0x6e196d[_0x326370(0x210)][_0x326370(0x187)]=await _0x16fd39;let _0xc77cd7={};this[_0x326370(0x36d)](_0x6e196d,_0x403156,_0xc77cd7);}else{let _0x2c6bb0={'error':!0x0};this['updateConversation'](_0x6e196d,_0x403156,_0x2c6bb0),this[_0x326370(0x616)][_0x326370(0x170)](this[_0x326370(0x56f)]+'\x20('+this[_0x326370(0x2ca)][_0x326370(0x405)]+_0x326370(0x7a1));}}catch(_0x553e38){let _0x57babe={'error':!0x0,'errorLog':_0x553e38 instanceof Error?_0x553e38[_0x326370(0x261)]:JSON[_0x326370(0x188)](_0x553e38,null,0x2)};this[_0x326370(0x36d)](_0x6e196d,_0x403156,_0x57babe),this['logger'][_0x326370(0x170)](this['instanceName']+'\x20('+this[_0x326370(0x2ca)][_0x326370(0x405)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x553e38 instanceof Error?_0x553e38[_0x326370(0x261)]:JSON[_0x326370(0x188)](_0x553e38,null,0x2)));}}async[a0_0xc64edb(0x716)](_0x1233fe){const _0x4f4ab6=a0_0xc64edb;try{if(this[_0x4f4ab6(0x616)][_0x4f4ab6(0x6d2)](this[_0x4f4ab6(0x56f)]+'\x20('+this['instance'][_0x4f4ab6(0x405)]+_0x4f4ab6(0x2a8)),await this[_0x4f4ab6(0x19b)][_0x4f4ab6(0x16f)][_0x4f4ab6(0x671)]({'where':{'name':_0x1233fe[_0x4f4ab6(0x219)]}},this[_0x4f4ab6(0x2ca)][_0x4f4ab6(0x405)]))return{'message':_0x4f4ab6(0x301)};_0x1233fe[_0x4f4ab6(0x324)]===!0x0&&await this['repository']['flow']['updateMany']({},{'default':!0x1},this[_0x4f4ab6(0x2ca)][_0x4f4ab6(0x405)]);let _0x344758=new ie['Types']['ObjectId'](),_0x1bd39a={'_id':_0x344758,'default':!0x0,'title':_0x4f4ab6(0x55b),'x':0x0,'y':0x0},_0x20b676={'_id':new ie['Types'][(_0x4f4ab6(0x3e3))](),'order':0x1,'groupId':_0x344758['toString'](),'type':_0x4f4ab6(0x38c)},_0x583eae={'_id':new ie['Types'][(_0x4f4ab6(0x3e3))](),'owner':this[_0x4f4ab6(0x2ca)]['wuid'],'name':_0x1233fe[_0x4f4ab6(0x219)],'groups':[_0x1bd39a],'blocks':[_0x20b676],..._0x1233fe};return _0x583eae=await this[_0x4f4ab6(0x19b)][_0x4f4ab6(0x16f)][_0x4f4ab6(0x4d9)](_0x583eae,this[_0x4f4ab6(0x2ca)][_0x4f4ab6(0x405)]),_0x583eae;}catch(_0x4eb088){throw this[_0x4f4ab6(0x616)]['error'](this[_0x4f4ab6(0x56f)]+'\x20('+this[_0x4f4ab6(0x2ca)][_0x4f4ab6(0x405)]+_0x4f4ab6(0x21f)+(_0x4eb088 instanceof Error?_0x4eb088[_0x4f4ab6(0x261)]:JSON[_0x4f4ab6(0x188)](_0x4eb088,null,0x2))),new m(_0x4f4ab6(0x5f7)+_0x4eb088);}}async['deleteFlow'](_0x24ff8c){const _0x48563f=a0_0xc64edb;try{return this[_0x48563f(0x616)][_0x48563f(0x6d2)](this[_0x48563f(0x56f)]+'\x20('+this[_0x48563f(0x2ca)][_0x48563f(0x405)]+'):\x20Deletando\x20fluxo...'),await this[_0x48563f(0x19b)][_0x48563f(0x16f)]['deleteOne']({'where':{'name':_0x24ff8c}},this[_0x48563f(0x2ca)][_0x48563f(0x405)]);}catch(_0xe745c){return this['logger'][_0x48563f(0x170)](this[_0x48563f(0x56f)]+'\x20('+this['instance']['wuid']+_0x48563f(0x3ca)+(_0xe745c instanceof Error?_0xe745c['message']:JSON['stringify'](_0xe745c,null,0x2))),{'message':_0x48563f(0x3fe)+_0xe745c};}}async['getFlow'](_0x5a40ae){const _0x2351fe=a0_0xc64edb;try{this[_0x2351fe(0x616)]['verbose'](this[_0x2351fe(0x56f)]+'\x20('+this[_0x2351fe(0x2ca)][_0x2351fe(0x405)]+_0x2351fe(0x682));let _0x4c58bc=await this[_0x2351fe(0x19b)]['flow'][_0x2351fe(0x671)]({'where':{'name':_0x5a40ae}},this['instance'][_0x2351fe(0x405)]);if(!_0x4c58bc)throw new Error(_0x2351fe(0x564));if(!this[_0x2351fe(0x3eb)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;let _0x177972=this[_0x2351fe(0x3eb)]?.[_0x2351fe(0x426)][_0x2351fe(0x483)](_0x4a612f=>_0x4a612f[_0x2351fe(0x219)]),_0x8ce64e=[_0x2351fe(0x556),_0x2351fe(0x5df),_0x2351fe(0x284),_0x2351fe(0x1aa),_0x2351fe(0x23b),'notas',_0x2351fe(0x63b),_0x2351fe(0x1c6),'etiquetas'];_0x4c58bc[_0x2351fe(0x700)]=_0x4c58bc['variables'][_0x2351fe(0x679)](_0x5c970e=>!(_0x5c970e[_0x2351fe(0x4d2)]===_0x2351fe(0x5b4)||_0x5c970e['leadInfo'])),_0x8ce64e[_0x2351fe(0x2d6)](_0x1edcda=>{const _0x10b9b4=_0x2351fe;_0x4c58bc[_0x10b9b4(0x700)][_0x10b9b4(0x4c1)]({'folder':_0x10b9b4(0x5b4),'name':_0x1edcda,'value':'','doc':'','leadInfo':!0x0});}),_0x177972['forEach'](_0x3cdd4f=>{const _0x4c0027=_0x2351fe;let _0x23249f=_0x4c58bc[_0x4c0027(0x700)][_0x4c0027(0x2d1)](_0x5aea3b=>_0x5aea3b[_0x4c0027(0x219)]===_0x3cdd4f);_0x23249f===-0x1?_0x4c58bc[_0x4c0027(0x700)][_0x4c0027(0x4c1)]({'folder':_0x4c0027(0x5b4),'name':_0x3cdd4f,'value':'','doc':'','leadInfo':!0x0}):(_0x4c58bc[_0x4c0027(0x700)][_0x23249f]['folder']='leadInfo',_0x4c58bc[_0x4c0027(0x700)][_0x23249f][_0x4c0027(0x5b4)]=!0x0);}),_0x4c58bc[_0x2351fe(0x325)]&&_0x4c58bc['blocks'][_0x2351fe(0x593)]>0x0&&_0x4c58bc[_0x2351fe(0x325)][_0x2351fe(0x2d6)](_0x130ce7=>{const _0x2017c2=_0x2351fe;_0x130ce7[_0x2017c2(0x62e)]&&_0x130ce7[_0x2017c2(0x1fe)]&&_0x130ce7[_0x2017c2(0x62e)]===_0x130ce7['next_groupId']&&(_0x130ce7[_0x2017c2(0x1fe)]=null);});let _0x197664=await this[_0x2351fe(0x19b)][_0x2351fe(0x16f)][_0x2351fe(0x41e)](_0x4c58bc[_0x2351fe(0x782)],_0x4c58bc,this[_0x2351fe(0x2ca)]['wuid']);if(!_0x197664)throw new Error(_0x2351fe(0x1ac));return _0x197664;}catch(_0x6047b3){throw this[_0x2351fe(0x616)]['error'](this[_0x2351fe(0x56f)]+'\x20('+this[_0x2351fe(0x2ca)]['wuid']+_0x2351fe(0x33f)+(_0x6047b3 instanceof Error?_0x6047b3['message']:JSON['stringify'](_0x6047b3,null,0x2))),new m(_0x2351fe(0x6f5)+_0x6047b3);}}async[a0_0xc64edb(0x3b7)](){const _0x951d92=a0_0xc64edb;try{return this[_0x951d92(0x616)][_0x951d92(0x6d2)](this[_0x951d92(0x56f)]+'\x20('+this[_0x951d92(0x2ca)][_0x951d92(0x405)]+_0x951d92(0x3b3)),await this[_0x951d92(0x19b)][_0x951d92(0x16f)]['findAll']({'where':{}},this[_0x951d92(0x2ca)][_0x951d92(0x405)]);}catch(_0x58e1ee){return this[_0x951d92(0x616)][_0x951d92(0x170)](this['instanceName']+'\x20('+this['instance'][_0x951d92(0x405)]+_0x951d92(0x2f5)+(_0x58e1ee instanceof Error?_0x58e1ee[_0x951d92(0x261)]:JSON[_0x951d92(0x188)](_0x58e1ee,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x58e1ee};}}async[a0_0xc64edb(0x721)](_0xebb09b){const _0x4114dc=a0_0xc64edb;try{this[_0x4114dc(0x616)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4114dc(0x405)]+_0x4114dc(0x233));let _0x2a7e9d=await this['repository'][_0x4114dc(0x16f)][_0x4114dc(0x671)]({'where':{'name':_0xebb09b[_0x4114dc(0x219)]}},this[_0x4114dc(0x2ca)]['wuid']);return _0x2a7e9d?(_0xebb09b[_0x4114dc(0x324)]===!0x0&&await this[_0x4114dc(0x19b)][_0x4114dc(0x16f)]['updateMany']({},{'default':!0x1},this[_0x4114dc(0x2ca)][_0x4114dc(0x405)]),await this[_0x4114dc(0x19b)][_0x4114dc(0x16f)]['updateOne'](_0x2a7e9d[_0x4114dc(0x782)],_0xebb09b,this[_0x4114dc(0x2ca)][_0x4114dc(0x405)])):{'message':_0x4114dc(0x22d)};}catch(_0x39aec0){throw this[_0x4114dc(0x616)][_0x4114dc(0x170)](this[_0x4114dc(0x56f)]+'\x20('+this[_0x4114dc(0x2ca)][_0x4114dc(0x405)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x39aec0 instanceof Error?_0x39aec0[_0x4114dc(0x261)]:JSON[_0x4114dc(0x188)](_0x39aec0,null,0x2))),new m('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x39aec0 instanceof Error?_0x39aec0['message']:JSON[_0x4114dc(0x188)](_0x39aec0,null,0x2)));}}async[a0_0xc64edb(0x688)](_0x5c0782){const _0x1efd1=a0_0xc64edb;try{this[_0x1efd1(0x616)]['verbose'](this[_0x1efd1(0x56f)]+'\x20('+this['instance'][_0x1efd1(0x405)]+_0x1efd1(0x2fc));let _0x8c63fc=await this[_0x1efd1(0x19b)][_0x1efd1(0x16f)][_0x1efd1(0x671)]({'where':{'name':_0x5c0782['name']}},this[_0x1efd1(0x2ca)][_0x1efd1(0x405)]);_0x8c63fc||this[_0x1efd1(0x52d)](_0x1efd1(0x564));let {block:_0x4a5701}=_0x5c0782;_0x4a5701?.['copy']?this[_0x1efd1(0x3df)](_0x8c63fc,_0x5c0782):_0x4a5701?.[_0x1efd1(0x57d)]?this[_0x1efd1(0x5c8)](_0x8c63fc,_0x5c0782):_0x4a5701['_id']?await this['updateBlock'](_0x8c63fc,_0x5c0782):this[_0x1efd1(0x1d6)](_0x8c63fc,_0x5c0782);let _0x1741d7=await this[_0x1efd1(0x19b)]['flow'][_0x1efd1(0x41e)](_0x8c63fc[_0x1efd1(0x782)],_0x8c63fc,this[_0x1efd1(0x2ca)][_0x1efd1(0x405)]);if(!_0x1741d7)throw new Error(_0x1efd1(0x1ac));return _0x1741d7;}catch(_0x117dae){this[_0x1efd1(0x52d)](_0x1efd1(0x30e)+_0x117dae);}}async['copyBlock'](_0x1eb9cc,_0x5ea34e){const _0x5cda35=a0_0xc64edb;let _0x46494c=_0x5ea34e[_0x5cda35(0x296)][_0x5cda35(0x782)],_0x3836bf=_0x1eb9cc[_0x5cda35(0x325)][_0x5cda35(0x670)](_0x3b58d9=>_0x3b58d9['_id'][_0x5cda35(0x289)]()===_0x46494c);if(!_0x3836bf){this[_0x5cda35(0x616)][_0x5cda35(0x170)](this[_0x5cda35(0x56f)]+'\x20('+this[_0x5cda35(0x2ca)]['wuid']+_0x5cda35(0x2b6)+_0x46494c+_0x5cda35(0x14f));return;}this['logger'][_0x5cda35(0x6d2)](this[_0x5cda35(0x56f)]+'\x20('+this[_0x5cda35(0x2ca)][_0x5cda35(0x405)]+_0x5cda35(0x1a8)+JSON[_0x5cda35(0x188)](_0x3836bf));let _0x10bdd9=JSON[_0x5cda35(0x439)](JSON['stringify'](_0x3836bf));_0x10bdd9[_0x5cda35(0x782)]=new ie[(_0x5cda35(0x324))][(_0x5cda35(0x6bd))]['ObjectId'](),this['logger'][_0x5cda35(0x6d2)](this[_0x5cda35(0x56f)]+'\x20('+this[_0x5cda35(0x2ca)]['wuid']+_0x5cda35(0x79e)+JSON[_0x5cda35(0x188)](_0x10bdd9)),_0x1eb9cc[_0x5cda35(0x325)][_0x5cda35(0x4c1)](_0x10bdd9),this[_0x5cda35(0x451)](_0x1eb9cc['blocks'],_0x10bdd9[_0x5cda35(0x62e)]);}['throwAndLogError'](_0x31b9cc){const _0x49ae3b=a0_0xc64edb;throw this[_0x49ae3b(0x616)][_0x49ae3b(0x170)](this[_0x49ae3b(0x56f)]+'\x20('+this[_0x49ae3b(0x2ca)]['wuid']+_0x49ae3b(0x3f9)+_0x31b9cc),new m(_0x31b9cc);}[a0_0xc64edb(0x5c8)](_0x44df63,_0x24d3ea){const _0x5723d7=a0_0xc64edb;let {block:_0x104d08}=_0x24d3ea;if(_0x104d08['type']===_0x5723d7(0x38c)){this[_0x5723d7(0x52d)](_0x5723d7(0x44c));return;}if(!_0x104d08['_id']){this['throwAndLogError'](_0x5723d7(0x272));return;}let _0x3a1d2c=_0x44df63['blocks'][_0x5723d7(0x670)](_0x14df8e=>_0x14df8e[_0x5723d7(0x782)][_0x5723d7(0x289)]()===_0x24d3ea[_0x5723d7(0x296)][_0x5723d7(0x782)][_0x5723d7(0x289)]());if(!_0x3a1d2c){this[_0x5723d7(0x52d)](_0x5723d7(0x687)+_0x104d08['_id']+'\x20não\x20encontrado');return;}_0x44df63[_0x5723d7(0x325)]=_0x44df63[_0x5723d7(0x325)]['filter'](_0x1d3cf4=>_0x1d3cf4[_0x5723d7(0x782)][_0x5723d7(0x289)]()!==_0x24d3ea[_0x5723d7(0x296)]['_id']['toString']()),_0x44df63[_0x5723d7(0x69d)]=_0x44df63['conditions']['filter'](_0x525859=>_0x525859[_0x5723d7(0x43c)]!==_0x104d08['_id']['toString']()),_0x44df63[_0x5723d7(0x164)]=_0x44df63['varedits']['filter'](_0x46c8fd=>_0x46c8fd[_0x5723d7(0x43c)]!==_0x104d08[_0x5723d7(0x782)][_0x5723d7(0x289)]()),_0x44df63[_0x5723d7(0x40b)]=_0x44df63['replyOptions']['filter'](_0x162da3=>_0x162da3['blockId']!==_0x104d08['_id']['toString']()),this['reorderBlocks'](_0x44df63[_0x5723d7(0x325)],_0x3a1d2c['groupId']);}async['updateBlock'](_0x4b83af,_0x2d3c34){const _0x35eeec=a0_0xc64edb;let _0x249bae=_0x4b83af['blocks'][_0x35eeec(0x2d1)](_0x1390fc=>_0x1390fc[_0x35eeec(0x782)][_0x35eeec(0x289)]()===_0x2d3c34['block'][_0x35eeec(0x782)][_0x35eeec(0x289)]());if(this[_0x35eeec(0x616)][_0x35eeec(0x6d2)](this[_0x35eeec(0x56f)]+'\x20('+this[_0x35eeec(0x2ca)][_0x35eeec(0x405)]+_0x35eeec(0x607)+_0x249bae),_0x249bae===-0x1){this[_0x35eeec(0x616)][_0x35eeec(0x6d2)](_0x35eeec(0x687)+_0x2d3c34[_0x35eeec(0x296)][_0x35eeec(0x782)]+_0x35eeec(0x2ec));return;}if(_0x4b83af[_0x35eeec(0x325)][_0x249bae][_0x35eeec(0x326)]===_0x35eeec(0x38c)){let _0x4cbd4b=Object[_0x35eeec(0x3dc)](_0x2d3c34[_0x35eeec(0x296)]);if(_0x4cbd4b[_0x35eeec(0x593)]>0x2||_0x4cbd4b[_0x35eeec(0x593)]===0x2&&!_0x4cbd4b[_0x35eeec(0x4df)](_0x35eeec(0x1fe))){this[_0x35eeec(0x52d)](_0x35eeec(0x3bc));return;}}let _0x1278a4=_0x4b83af['blocks'][_0x249bae][_0x35eeec(0x62e)];for(let _0x52b0a7 in _0x2d3c34[_0x35eeec(0x296)])_0x2d3c34[_0x35eeec(0x296)][_0x35eeec(0x3c7)](_0x52b0a7)&&(_0x4b83af[_0x35eeec(0x325)][_0x249bae][_0x52b0a7]=_0x2d3c34[_0x35eeec(0x296)][_0x52b0a7]);if(this[_0x35eeec(0x616)][_0x35eeec(0x6d2)](this[_0x35eeec(0x56f)]+'\x20('+this[_0x35eeec(0x2ca)][_0x35eeec(0x405)]+_0x35eeec(0x638)+JSON[_0x35eeec(0x188)](_0x4b83af[_0x35eeec(0x325)][_0x249bae])),_0x4b83af[_0x35eeec(0x325)][_0x249bae][_0x35eeec(0x1af)]&&_0x35eeec(0x781)in _0x4b83af['blocks'][_0x249bae]['apirequest']){this['logger'][_0x35eeec(0x6d2)](this[_0x35eeec(0x56f)]+'\x20('+this['instance'][_0x35eeec(0x405)]+_0x35eeec(0x49e));let _0x8acca6=JSON['stringify'](_0x4b83af[_0x35eeec(0x325)][_0x249bae][_0x35eeec(0x1af)][_0x35eeec(0x781)],null,0x1);_0x8acca6['length']>0x2&&(_0x8acca6=_0x8acca6[_0x35eeec(0x769)](0x1,_0x8acca6[_0x35eeec(0x593)]-0x1)['trim']()),_0x4b83af['blocks'][_0x249bae][_0x35eeec(0x1af)]['headerString']=_0x8acca6;}if(_0x4b83af['blocks'][_0x249bae][_0x35eeec(0x1af)]&&'body'in _0x4b83af['blocks'][_0x249bae][_0x35eeec(0x1af)]){this[_0x35eeec(0x616)][_0x35eeec(0x6d2)](this[_0x35eeec(0x56f)]+'\x20('+this[_0x35eeec(0x2ca)][_0x35eeec(0x405)]+_0x35eeec(0x69f));let _0x374861=JSON['stringify'](_0x4b83af[_0x35eeec(0x325)][_0x249bae][_0x35eeec(0x1af)][_0x35eeec(0x581)],null,0x1);_0x374861['length']>0x2&&(_0x374861=_0x374861[_0x35eeec(0x769)](0x1,_0x374861['length']-0x1)[_0x35eeec(0x72f)]()),_0x4b83af[_0x35eeec(0x325)][_0x249bae][_0x35eeec(0x1af)]['bodyString']=_0x374861;}let _0x3af13b=_0x4b83af[_0x35eeec(0x325)][_0x249bae][_0x35eeec(0x62e)];_0x1278a4!==_0x3af13b?(this[_0x35eeec(0x451)](_0x4b83af[_0x35eeec(0x325)],_0x1278a4),this['reorderBlocks'](_0x4b83af['blocks'],_0x3af13b)):this['reorderBlocks'](_0x4b83af[_0x35eeec(0x325)],_0x1278a4);}[a0_0xc64edb(0x1d6)](_0x1e714e,_0xa9bd67){const _0x5d86a2=a0_0xc64edb;if(_0xa9bd67[_0x5d86a2(0x296)][_0x5d86a2(0x326)]===_0x5d86a2(0x38c)){this['throwAndLogError'](_0x5d86a2(0x5e9));return;}if(_0xa9bd67[_0x5d86a2(0x296)][_0x5d86a2(0x1af)]&&_0x5d86a2(0x781)in _0xa9bd67[_0x5d86a2(0x296)][_0x5d86a2(0x1af)]){this[_0x5d86a2(0x616)][_0x5d86a2(0x6d2)](this[_0x5d86a2(0x56f)]+'\x20('+this[_0x5d86a2(0x2ca)][_0x5d86a2(0x405)]+_0x5d86a2(0x49e));let _0x55748f=JSON[_0x5d86a2(0x188)](_0xa9bd67['block']['apirequest']['header'],null,0x1);_0x55748f[_0x5d86a2(0x593)]>0x2&&(_0x55748f=_0x55748f[_0x5d86a2(0x769)](0x1,_0x55748f[_0x5d86a2(0x593)]-0x1)[_0x5d86a2(0x72f)]()),_0xa9bd67[_0x5d86a2(0x296)][_0x5d86a2(0x1af)][_0x5d86a2(0x417)]=_0x55748f;}_0xa9bd67[_0x5d86a2(0x296)][_0x5d86a2(0x1af)]&&_0x5d86a2(0x581)in _0xa9bd67['block']['apirequest']&&(this[_0x5d86a2(0x616)][_0x5d86a2(0x6d2)](this['instanceName']+'\x20('+this[_0x5d86a2(0x2ca)][_0x5d86a2(0x405)]+_0x5d86a2(0x69f)),_0xa9bd67[_0x5d86a2(0x296)][_0x5d86a2(0x1af)][_0x5d86a2(0x50e)]=JSON[_0x5d86a2(0x188)](_0xa9bd67['block'][_0x5d86a2(0x1af)][_0x5d86a2(0x581)],null,0x1)[_0x5d86a2(0x72f)]()),_0x1e714e[_0x5d86a2(0x325)][_0x5d86a2(0x4c1)](_0xa9bd67[_0x5d86a2(0x296)]),this[_0x5d86a2(0x451)](_0x1e714e['blocks'],_0xa9bd67[_0x5d86a2(0x296)][_0x5d86a2(0x62e)]);}[a0_0xc64edb(0x451)](_0x576df1,_0x3fdf53){const _0x44369e=a0_0xc64edb;let _0x10a910=_0x576df1['filter'](_0x1bf67d=>_0x1bf67d['groupId']===_0x3fdf53);_0x10a910[_0x44369e(0x604)]((_0x35d654,_0x4d0f53)=>_0x35d654['order']-_0x4d0f53[_0x44369e(0x2c5)]),_0x10a910[_0x44369e(0x2d6)]((_0x58983d,_0x26353f)=>_0x58983d[_0x44369e(0x2c5)]=_0x26353f+0x1);}async[a0_0xc64edb(0x667)](_0x7f9796){const _0x4e78a4=a0_0xc64edb;try{if(this[_0x4e78a4(0x616)][_0x4e78a4(0x6d2)](this['instanceName']+'\x20('+this[_0x4e78a4(0x2ca)][_0x4e78a4(0x405)]+'):\x20Editando\x20replyOption...'),!_0x7f9796||!_0x7f9796[_0x4e78a4(0x1e5)]){this[_0x4e78a4(0x52d)](_0x4e78a4(0x467));return;}let _0x16d422=await this['repository'][_0x4e78a4(0x16f)][_0x4e78a4(0x671)]({'where':{'name':_0x7f9796['name']}},this[_0x4e78a4(0x2ca)][_0x4e78a4(0x405)]);_0x16d422||this[_0x4e78a4(0x52d)]('Flow\x20não\x20encontrado');let {replyOption:_0x2eb333}=_0x7f9796;_0x2eb333?.[_0x4e78a4(0x57d)]?(this[_0x4e78a4(0x242)](_0x16d422,_0x7f9796),this[_0x4e78a4(0x755)](_0x16d422[_0x4e78a4(0x40b)],_0x7f9796[_0x4e78a4(0x1e5)]['blockId'])):_0x2eb333[_0x4e78a4(0x782)]?(await this[_0x4e78a4(0x169)](_0x16d422,_0x7f9796),this['reorderReplyOptions'](_0x16d422[_0x4e78a4(0x40b)],_0x7f9796['replyOption'][_0x4e78a4(0x43c)])):(this['addReplyOption'](_0x16d422,_0x7f9796),this[_0x4e78a4(0x755)](_0x16d422[_0x4e78a4(0x40b)],_0x7f9796[_0x4e78a4(0x1e5)][_0x4e78a4(0x43c)]));let _0x5de891=await this[_0x4e78a4(0x19b)][_0x4e78a4(0x16f)][_0x4e78a4(0x41e)](_0x16d422[_0x4e78a4(0x782)],_0x16d422,this[_0x4e78a4(0x2ca)]['wuid']);if(!_0x5de891)throw new Error(_0x4e78a4(0x1ac));return _0x5de891;}catch(_0x466c57){this['throwAndLogError'](_0x4e78a4(0x770)+_0x466c57);}}[a0_0xc64edb(0x755)](_0xd5b23b,_0x3c9e11){const _0x488300=a0_0xc64edb;console['log'](_0x488300(0x733),_0x3c9e11),_0xd5b23b[_0x488300(0x2d6)](_0x35e5b8=>{const _0x924325=_0x488300;_0x35e5b8[_0x924325(0x43c)]===_0x3c9e11&&_0x35e5b8[_0x924325(0x2c5)]===void 0x0&&(_0x35e5b8[_0x924325(0x2c5)]=0x270f);});let _0x3d00ee=_0xd5b23b[_0x488300(0x679)](_0x1dee78=>_0x1dee78['blockId']===_0x3c9e11);_0x3d00ee[_0x488300(0x604)]((_0x28cb0f,_0x5183b7)=>_0x28cb0f[_0x488300(0x2c5)]-_0x5183b7[_0x488300(0x2c5)]),_0x3d00ee[_0x488300(0x2d6)]((_0x19d09b,_0x5b70ef)=>{const _0x404df1=_0x488300;_0x19d09b[_0x404df1(0x2c5)]=_0x5b70ef+0x1;}),_0xd5b23b[_0x488300(0x2d6)](_0xcb0a1a=>{const _0x10cd74=_0x488300;if(_0xcb0a1a['blockId']===_0x3c9e11){let _0x24f6db=_0x3d00ee[_0x10cd74(0x670)](_0x418f63=>_0x418f63[_0x10cd74(0x782)]&&_0xcb0a1a['_id']&&_0x418f63[_0x10cd74(0x782)][_0x10cd74(0x289)]()===_0xcb0a1a[_0x10cd74(0x782)][_0x10cd74(0x289)]());_0x24f6db&&(_0xcb0a1a[_0x10cd74(0x2c5)]=_0x24f6db[_0x10cd74(0x2c5)]);}}),console[_0x488300(0x5f3)]('ReplyOptions\x20finais\x20após\x20reordenação:',_0xd5b23b);}[a0_0xc64edb(0x242)](_0x2d1553,_0x5ae95c){const _0x28abf4=a0_0xc64edb;let {replyOption:_0x215a6b}=_0x5ae95c;if(!_0x215a6b[_0x28abf4(0x782)]){this[_0x28abf4(0x52d)](_0x28abf4(0x3c8));return;}if(!_0x2d1553[_0x28abf4(0x40b)][_0x28abf4(0x670)](_0xec50b1=>_0xec50b1[_0x28abf4(0x782)][_0x28abf4(0x289)]()===_0x5ae95c[_0x28abf4(0x1e5)][_0x28abf4(0x782)][_0x28abf4(0x289)]())){this[_0x28abf4(0x52d)](_0x28abf4(0x455)+_0x215a6b[_0x28abf4(0x782)]+'\x20não\x20encontrado');return;}_0x2d1553[_0x28abf4(0x40b)]=_0x2d1553['replyOptions'][_0x28abf4(0x679)](_0xf4aadd=>_0xf4aadd[_0x28abf4(0x782)][_0x28abf4(0x289)]()!==_0x5ae95c['replyOption'][_0x28abf4(0x782)]['toString']());}async['updateReplyOption'](_0xc69d4e,_0x119adb){const _0x3578b4=a0_0xc64edb;let _0x4523b7=_0xc69d4e['replyOptions'][_0x3578b4(0x2d1)](_0x5a2e47=>_0x5a2e47[_0x3578b4(0x782)][_0x3578b4(0x289)]()===_0x119adb[_0x3578b4(0x1e5)]['_id'][_0x3578b4(0x289)]());if(_0x4523b7===-0x1){this['throwAndLogError'](_0x3578b4(0x455)+_0x119adb[_0x3578b4(0x1e5)]['_id']+_0x3578b4(0x2ec));return;}for(let _0xdc1c93 in _0x119adb[_0x3578b4(0x1e5)])_0x119adb[_0x3578b4(0x1e5)][_0x3578b4(0x3c7)](_0xdc1c93)&&(_0xc69d4e[_0x3578b4(0x40b)][_0x4523b7][_0xdc1c93]=_0x119adb[_0x3578b4(0x1e5)][_0xdc1c93]);}[a0_0xc64edb(0x1a1)](_0x36ed47,_0x1b3628){const _0x3941cf=a0_0xc64edb;_0x36ed47['replyOptions'][_0x3941cf(0x4c1)](_0x1b3628[_0x3941cf(0x1e5)]);}async[a0_0xc64edb(0x18f)](_0x3260f2){const _0x3dd7d9=a0_0xc64edb;this[_0x3dd7d9(0x616)][_0x3dd7d9(0x6d2)](this['instanceName']+'\x20('+this[_0x3dd7d9(0x2ca)][_0x3dd7d9(0x405)]+_0x3dd7d9(0x1e7)+_0x3260f2);try{this['logger'][_0x3dd7d9(0x6d2)](this['instanceName']+'\x20('+this[_0x3dd7d9(0x2ca)][_0x3dd7d9(0x405)]+_0x3dd7d9(0x419));let _0x266a2f=await this[_0x3dd7d9(0x19b)][_0x3dd7d9(0x16f)][_0x3dd7d9(0x671)]({'where':{'name':_0x3260f2[_0x3dd7d9(0x219)]}},this[_0x3dd7d9(0x2ca)][_0x3dd7d9(0x405)]);if(!_0x266a2f)throw new Error(_0x3dd7d9(0x564));if(_0x3260f2['group']&&_0x3260f2[_0x3dd7d9(0x1fa)]?.[_0x3dd7d9(0x57d)]===!0x0){if(this[_0x3dd7d9(0x616)][_0x3dd7d9(0x6d2)](this[_0x3dd7d9(0x56f)]+'\x20('+this[_0x3dd7d9(0x2ca)][_0x3dd7d9(0x405)]+'):\x20delete\x20=\x20true'),_0x3260f2[_0x3dd7d9(0x1fa)][_0x3dd7d9(0x324)]===!0x0)return{'message':_0x3dd7d9(0x1bf)};if(_0x266a2f[_0x3dd7d9(0x325)][_0x3dd7d9(0x24d)](_0x294124=>_0x294124[_0x3dd7d9(0x62e)][_0x3dd7d9(0x289)]()===_0x3260f2[_0x3dd7d9(0x1fa)]['_id']))return this['logger']['verbose'](this[_0x3dd7d9(0x56f)]+'\x20('+this[_0x3dd7d9(0x2ca)]['wuid']+_0x3dd7d9(0x599)),{'message':_0x3dd7d9(0x278)};_0x266a2f[_0x3dd7d9(0x310)]=_0x266a2f[_0x3dd7d9(0x310)]['filter'](_0x3ffde8=>_0x3ffde8['_id']['toString']()!==_0x3260f2[_0x3dd7d9(0x1fa)]['_id']);}else{if(_0x3260f2['group']){if(_0x3260f2[_0x3dd7d9(0x1fa)][_0x3dd7d9(0x324)]===!0x0)return{'message':_0x3dd7d9(0x726)};if(_0x3260f2['group'][_0x3dd7d9(0x782)]){let _0xf21bfc=_0x266a2f[_0x3dd7d9(0x310)][_0x3dd7d9(0x670)](_0x2a6eff=>_0x2a6eff[_0x3dd7d9(0x782)][_0x3dd7d9(0x289)]()===_0x3260f2[_0x3dd7d9(0x1fa)][_0x3dd7d9(0x782)]);_0xf21bfc&&(_0x3260f2['group']['x']<0x0&&(_0x3260f2['group']['x']=0x0),_0x3260f2['group']['y']<0x0&&(_0x3260f2[_0x3dd7d9(0x1fa)]['y']=0x0),Object['assign'](_0xf21bfc,_0x3260f2['group']));}else _0x266a2f['groups'][_0x3dd7d9(0x4c1)](_0x3260f2[_0x3dd7d9(0x1fa)]);}}let _0x3c8ef8=await this[_0x3dd7d9(0x19b)][_0x3dd7d9(0x16f)][_0x3dd7d9(0x41e)](_0x266a2f['_id'],_0x266a2f,this[_0x3dd7d9(0x2ca)]['wuid']);if(!_0x3c8ef8)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3c8ef8;}catch(_0x17eaa1){throw this[_0x3dd7d9(0x616)][_0x3dd7d9(0x170)](this[_0x3dd7d9(0x56f)]+'\x20('+this[_0x3dd7d9(0x2ca)][_0x3dd7d9(0x405)]+_0x3dd7d9(0x3c6)+(_0x17eaa1 instanceof Error?_0x17eaa1['message']:JSON[_0x3dd7d9(0x188)](_0x17eaa1,null,0x2))),new m(_0x3dd7d9(0x294)+(_0x17eaa1 instanceof Error?_0x17eaa1[_0x3dd7d9(0x261)]:JSON[_0x3dd7d9(0x188)](_0x17eaa1,null,0x2)));}}async[a0_0xc64edb(0x46f)](_0x5d9310){const _0x56f9d2=a0_0xc64edb;try{this[_0x56f9d2(0x616)][_0x56f9d2(0x6d2)](this[_0x56f9d2(0x56f)]+'\x20('+this['instance'][_0x56f9d2(0x405)]+_0x56f9d2(0x454));let _0x53d2bb=await this[_0x56f9d2(0x19b)]['flow']['findOne']({'where':{'name':_0x5d9310['name']}},this[_0x56f9d2(0x2ca)]['wuid']);if(!_0x53d2bb)throw new Error(_0x56f9d2(0x564));let _0xb78e8c=!0x1;if(_0x5d9310[_0x56f9d2(0x6eb)]?.[_0x56f9d2(0x57d)]===!0x0)_0x53d2bb[_0x56f9d2(0x69d)]=_0x53d2bb[_0x56f9d2(0x69d)][_0x56f9d2(0x679)](_0x1edff1=>_0x1edff1&&_0x5d9310[_0x56f9d2(0x6eb)]&&_0x1edff1['_id']&&_0x5d9310[_0x56f9d2(0x6eb)][_0x56f9d2(0x782)]&&_0x1edff1['_id'][_0x56f9d2(0x289)]()!==_0x5d9310['condition'][_0x56f9d2(0x782)]['toString']()),_0xb78e8c=!0x0;else{let _0x5d6ff6=_0x53d2bb[_0x56f9d2(0x69d)]['find'](_0x34257a=>_0x34257a&&_0x5d9310['condition']&&_0x34257a[_0x56f9d2(0x782)]&&_0x5d9310[_0x56f9d2(0x6eb)]['_id']&&_0x34257a[_0x56f9d2(0x782)][_0x56f9d2(0x289)]()===_0x5d9310[_0x56f9d2(0x6eb)][_0x56f9d2(0x782)][_0x56f9d2(0x289)]());_0x5d6ff6?(_0xb78e8c=_0x5d6ff6[_0x56f9d2(0x2c5)]!==_0x5d9310[_0x56f9d2(0x6eb)]['order'],Object[_0x56f9d2(0x34c)](_0x5d6ff6,_0x5d9310[_0x56f9d2(0x6eb)])):(_0x53d2bb['conditions'][_0x56f9d2(0x4c1)](_0x5d9310[_0x56f9d2(0x6eb)]),_0xb78e8c=!0x0);}if(_0xb78e8c){_0x53d2bb['conditions'][_0x56f9d2(0x604)]((_0x44366a,_0x3505a1)=>_0x44366a['order']>_0x3505a1['order']?0x1:_0x3505a1['order']>_0x44366a[_0x56f9d2(0x2c5)]?-0x1:0x0);for(let _0x4b0b4f=0x0;_0x4b0b4f<_0x53d2bb['conditions'][_0x56f9d2(0x593)];_0x4b0b4f++)_0x53d2bb['conditions'][_0x4b0b4f][_0x56f9d2(0x2c5)]=_0x4b0b4f+0x1;_0x53d2bb['conditions']['length']>0x0&&(_0x53d2bb['conditions'][0x0][_0x56f9d2(0x4d0)]=_0x56f9d2(0x1a9));}let _0x35438e=await this[_0x56f9d2(0x19b)]['flow'][_0x56f9d2(0x41e)](_0x53d2bb['_id'],_0x53d2bb,this[_0x56f9d2(0x2ca)][_0x56f9d2(0x405)]);if(!_0x35438e)throw new Error(_0x56f9d2(0x1ac));return _0x35438e;}catch(_0x4f5af2){throw this[_0x56f9d2(0x616)][_0x56f9d2(0x170)](this[_0x56f9d2(0x56f)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x4f5af2 instanceof Error?_0x4f5af2[_0x56f9d2(0x261)]:JSON['stringify'](_0x4f5af2,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x4f5af2 instanceof Error?_0x4f5af2[_0x56f9d2(0x261)]:JSON[_0x56f9d2(0x188)](_0x4f5af2,null,0x2)));}}async[a0_0xc64edb(0x460)](_0x5cfde8){const _0x5a2496=a0_0xc64edb;try{this[_0x5a2496(0x616)][_0x5a2496(0x6d2)](this['instanceName']+'\x20('+this[_0x5a2496(0x2ca)][_0x5a2496(0x405)]+_0x5a2496(0x6c8));let _0x27edbf=await this[_0x5a2496(0x19b)][_0x5a2496(0x16f)]['findOne']({'where':{'name':_0x5cfde8['name']}},this[_0x5a2496(0x2ca)][_0x5a2496(0x405)]);if(!_0x27edbf)throw new Error(_0x5a2496(0x564));let _0x5d21a2=!0x1;if(_0x5cfde8[_0x5a2496(0x300)]?.[_0x5a2496(0x57d)]===!0x0)_0x27edbf[_0x5a2496(0x164)]=_0x27edbf['varedits'][_0x5a2496(0x679)](_0x15af94=>_0x15af94&&_0x5cfde8['varedit']&&_0x15af94[_0x5a2496(0x782)]&&_0x5cfde8[_0x5a2496(0x300)]['_id']&&_0x15af94[_0x5a2496(0x782)]['toString']()!==_0x5cfde8[_0x5a2496(0x300)]['_id']['toString']()),_0x5d21a2=!0x0;else{let _0x317aa8=_0x27edbf[_0x5a2496(0x164)]['find'](_0x5148e5=>_0x5148e5&&_0x5cfde8[_0x5a2496(0x300)]&&_0x5148e5[_0x5a2496(0x782)]&&_0x5cfde8[_0x5a2496(0x300)][_0x5a2496(0x782)]&&_0x5148e5[_0x5a2496(0x782)]['toString']()===_0x5cfde8[_0x5a2496(0x300)][_0x5a2496(0x782)][_0x5a2496(0x289)]());_0x317aa8?(_0x5d21a2=_0x317aa8[_0x5a2496(0x2c5)]!==_0x5cfde8[_0x5a2496(0x300)][_0x5a2496(0x2c5)],Object[_0x5a2496(0x34c)](_0x317aa8,_0x5cfde8[_0x5a2496(0x300)])):(_0x27edbf[_0x5a2496(0x164)]['push'](_0x5cfde8[_0x5a2496(0x300)]),_0x5d21a2=!0x0);}if(_0x5d21a2){_0x27edbf[_0x5a2496(0x164)][_0x5a2496(0x604)]((_0x559205,_0x27c8d6)=>_0x559205[_0x5a2496(0x2c5)]>_0x27c8d6['order']?0x1:_0x27c8d6[_0x5a2496(0x2c5)]>_0x559205[_0x5a2496(0x2c5)]?-0x1:0x0);for(let _0x3cb0b5=0x0;_0x3cb0b5<_0x27edbf['varedits']['length'];_0x3cb0b5++)_0x27edbf[_0x5a2496(0x164)][_0x3cb0b5][_0x5a2496(0x2c5)]=_0x3cb0b5+0x1;}let _0x1255a5=await this[_0x5a2496(0x19b)][_0x5a2496(0x16f)][_0x5a2496(0x41e)](_0x27edbf[_0x5a2496(0x782)],_0x27edbf,this[_0x5a2496(0x2ca)][_0x5a2496(0x405)]);if(!_0x1255a5)throw new Error(_0x5a2496(0x1ac));return _0x1255a5;}catch(_0x1e66b0){throw this[_0x5a2496(0x616)]['error'](this[_0x5a2496(0x56f)]+'\x20('+this[_0x5a2496(0x2ca)]['wuid']+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x1e66b0 instanceof Error?_0x1e66b0[_0x5a2496(0x261)]:JSON['stringify'](_0x1e66b0,null,0x2))),new m(_0x5a2496(0x713)+(_0x1e66b0 instanceof Error?_0x1e66b0[_0x5a2496(0x261)]:JSON[_0x5a2496(0x188)](_0x1e66b0,null,0x2)));}}async[a0_0xc64edb(0x31c)](_0xe5b34a){const _0x561c81=a0_0xc64edb;try{this['logger']['verbose'](this[_0x561c81(0x56f)]+'\x20('+this[_0x561c81(0x2ca)][_0x561c81(0x405)]+_0x561c81(0x471));let _0xc3a082=await this[_0x561c81(0x19b)][_0x561c81(0x16f)]['findOne']({'where':{'name':_0xe5b34a[_0x561c81(0x219)]}},this[_0x561c81(0x2ca)]['wuid']);if(!_0xc3a082)throw new Error(_0x561c81(0x564));_0xe5b34a[_0x561c81(0x3c5)][_0x561c81(0x219)]=_0xe5b34a[_0x561c81(0x3c5)][_0x561c81(0x219)][_0x561c81(0x72f)](),_0xe5b34a[_0x561c81(0x3c5)]['name']['startsWith']('_')&&(_0xe5b34a[_0x561c81(0x3c5)][_0x561c81(0x219)]=_0xe5b34a[_0x561c81(0x3c5)][_0x561c81(0x219)]['substring'](0x1)),_0xe5b34a[_0x561c81(0x3c5)][_0x561c81(0x219)]=_0xe5b34a[_0x561c81(0x3c5)]['name'][_0x561c81(0x72f)]();let _0x5e4139=_0xc3a082[_0x561c81(0x700)][_0x561c81(0x670)](_0x311eab=>_0x311eab[_0x561c81(0x219)]===_0xe5b34a[_0x561c81(0x3c5)][_0x561c81(0x219)]);if(_0x5e4139?.[_0x561c81(0x5b4)]===!0x0)throw new Error(_0x561c81(0x4f5));if(_0xe5b34a[_0x561c81(0x3c5)]?.[_0x561c81(0x57d)]===!0x0){if(!_0x5e4139)return{'message':'Variável\x20não\x20encontrada!'};_0xc3a082['variables']=_0xc3a082['variables'][_0x561c81(0x679)](_0x3165ba=>_0x3165ba[_0x561c81(0x219)]!==_0xe5b34a[_0x561c81(0x3c5)][_0x561c81(0x219)]);}else _0x5e4139?Object[_0x561c81(0x34c)](_0x5e4139,_0xe5b34a[_0x561c81(0x3c5)]):_0xc3a082[_0x561c81(0x700)][_0x561c81(0x4c1)](_0xe5b34a[_0x561c81(0x3c5)]);let _0x82a379=await this[_0x561c81(0x19b)]['flow']['updateOne'](_0xc3a082[_0x561c81(0x782)],_0xc3a082,this[_0x561c81(0x2ca)][_0x561c81(0x405)]);if(!_0x82a379)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x82a379;}catch(_0x1d6256){throw this[_0x561c81(0x616)][_0x561c81(0x170)](this[_0x561c81(0x56f)]+'\x20('+this[_0x561c81(0x2ca)][_0x561c81(0x405)]+_0x561c81(0x640)+(_0x1d6256 instanceof Error?_0x1d6256[_0x561c81(0x261)]:JSON['stringify'](_0x1d6256,null,0x2))),new m(_0x561c81(0x65b)+(_0x1d6256 instanceof Error?_0x1d6256[_0x561c81(0x261)]:JSON[_0x561c81(0x188)](_0x1d6256,null,0x2)));}}async[a0_0xc64edb(0x3f6)](_0x53b45d){const _0x5a7c1c=a0_0xc64edb;let _0x51bd2c=null;try{if(!this[_0x5a7c1c(0x3eb)]?.['flowConfig'][_0x5a7c1c(0x143)])throw new m(_0x5a7c1c(0x1ea));this['logger'][_0x5a7c1c(0x6d2)](this[_0x5a7c1c(0x56f)]+'\x20('+this['instance']['wuid']+_0x5a7c1c(0x56a));let _0x126867=(await this[_0x5a7c1c(0x4ad)]({'numbers':[_0x53b45d['remoteJid']]}))[0x0];if(!_0x126867[_0x5a7c1c(0x41d)]&&!(0x0,y['isJidGroup'])(_0x126867[_0x5a7c1c(0x260)])&&!_0x126867[_0x5a7c1c(0x260)]['includes'](_0x5a7c1c(0x1cf)))throw _0x51bd2c=JSON[_0x5a7c1c(0x188)](_0x126867,null,0x2),new m(_0x126867);let _0x59ae36=await this[_0x5a7c1c(0x19b)][_0x5a7c1c(0x16f)][_0x5a7c1c(0x671)]({'where':{'name':_0x53b45d[_0x5a7c1c(0x219)]}},this[_0x5a7c1c(0x2ca)][_0x5a7c1c(0x405)]);if(!_0x59ae36)return this['logger'][_0x5a7c1c(0x170)](this[_0x5a7c1c(0x56f)]+'\x20('+this[_0x5a7c1c(0x2ca)]['wuid']+_0x5a7c1c(0x45e)),{'message':_0x5a7c1c(0x564)};let _0x35434a=await this[_0x5a7c1c(0x4be)](_0x59ae36,_0x126867[_0x5a7c1c(0x260)],_0x53b45d[_0x5a7c1c(0x67b)]);if(_0x35434a){this[_0x5a7c1c(0x616)][_0x5a7c1c(0x6d2)](this[_0x5a7c1c(0x56f)]+'\x20('+this[_0x5a7c1c(0x2ca)][_0x5a7c1c(0x405)]+_0x5a7c1c(0x6f8));let _0x448e93=await this[_0x5a7c1c(0x3cc)](_0x35434a);return _0x448e93&&await this['processblock'](_0x35434a,_0x448e93),{'message':_0x5a7c1c(0x5a7)+_0x53b45d['remoteJid']};}}catch(_0x1a9f22){if(this[_0x5a7c1c(0x616)][_0x5a7c1c(0x170)](this[_0x5a7c1c(0x56f)]+'\x20('+this[_0x5a7c1c(0x2ca)][_0x5a7c1c(0x405)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x1a9f22 instanceof Error?_0x1a9f22[_0x5a7c1c(0x261)]:JSON[_0x5a7c1c(0x188)](_0x1a9f22,null,0x2))),_0x51bd2c=_0x1a9f22 instanceof Error?_0x1a9f22[_0x5a7c1c(0x261)]:JSON[_0x5a7c1c(0x188)](_0x1a9f22,null,0x2),_0x51bd2c)throw new m(_0x5a7c1c(0x5d2)+_0x51bd2c);}}async[a0_0xc64edb(0x36c)](_0x40563a){const _0x4da7c1=a0_0xc64edb;try{let _0x5f3da7={'remoteJid':_0x40563a,'status':_0x4da7c1(0x4dc)},_0x3072ab={'status':_0x4da7c1(0x3c9)},_0x3e6a74=await this[_0x4da7c1(0x19b)][_0x4da7c1(0x2f7)][_0x4da7c1(0x1c9)](_0x5f3da7,_0x3072ab,this[_0x4da7c1(0x2ca)]['wuid']);return this[_0x4da7c1(0x616)][_0x4da7c1(0x6d2)](this['instanceName']+'\x20('+this[_0x4da7c1(0x2ca)]['wuid']+_0x4da7c1(0x657)),_0x3e6a74;}catch(_0x8b81fa){throw this['logger']['error'](this[_0x4da7c1(0x56f)]+'\x20('+this[_0x4da7c1(0x2ca)][_0x4da7c1(0x405)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x8b81fa[_0x4da7c1(0x261)]),_0x8b81fa;}}async[a0_0xc64edb(0x4be)](_0x97b65b,_0x23cd04,_0x55c483){const _0x29ebc5=a0_0xc64edb;this[_0x29ebc5(0x616)][_0x29ebc5(0x6d2)](this['instanceName']+'\x20('+this[_0x29ebc5(0x2ca)][_0x29ebc5(0x405)]+_0x29ebc5(0x3a0)),await this['closeExistingConversations'](_0x23cd04);try{let _0x4e8e6a=require(_0x29ebc5(0x15c))['ObjectId'],_0x2127c9=Date[_0x29ebc5(0x550)](),_0x42c9a5=_0x29ebc5(0x38c),_0x5b0a1b={},_0x3d5d5f={},_0x22380f={..._0x97b65b,'chatLog':null},_0x2ef6b1=await this['variablesToObject'](_0x22380f[_0x29ebc5(0x700)]),_0x12f475=await this[_0x29ebc5(0x367)](_0x23cd04),_0x270a14={..._0x2ef6b1,..._0x12f475,'_remoteJid':_0x23cd04},_0x1b4a30={'lastReceivedMessage':_0x5b0a1b,'lastSendMessage':_0x3d5d5f,'lastBlockId':_0x42c9a5,'lastCondition':!0x0,'realVariables':_0x270a14};_0x22380f[_0x29ebc5(0x210)]=_0x1b4a30,_0x22380f[_0x29ebc5(0x210)][_0x29ebc5(0x2e2)]={..._0x270a14,..._0x55c483},delete _0x22380f[_0x29ebc5(0x782)],_0x22380f[_0x29ebc5(0x782)]=new _0x4e8e6a(),_0x22380f[_0x29ebc5(0x42a)]=_0x2127c9,_0x22380f[_0x29ebc5(0x23b)]=_0x29ebc5(0x4dc),_0x22380f['remoteJid']=_0x23cd04;let _0x1badd4=await this[_0x29ebc5(0x19b)][_0x29ebc5(0x2f7)][_0x29ebc5(0x41e)](_0x22380f[_0x29ebc5(0x782)],_0x22380f,this[_0x29ebc5(0x2ca)]['wuid']);return this[_0x29ebc5(0x616)][_0x29ebc5(0x6d2)](this[_0x29ebc5(0x56f)]+'\x20('+this[_0x29ebc5(0x2ca)]['wuid']+_0x29ebc5(0x59b)),_0x1badd4?_0x22380f:null;}catch(_0x310b20){throw this['logger'][_0x29ebc5(0x170)](this[_0x29ebc5(0x56f)]+'\x20('+this[_0x29ebc5(0x2ca)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x310b20 instanceof Error?_0x310b20['message']:JSON[_0x29ebc5(0x188)](_0x310b20,null,0x2))),new m(_0x310b20[_0x29ebc5(0x261)]);}}async[a0_0xc64edb(0x6ae)](_0x4ef70d){const _0x528216=a0_0xc64edb;try{this[_0x528216(0x616)][_0x528216(0x6d2)](this['instanceName']+'\x20('+this['instance'][_0x528216(0x405)]+_0x528216(0x69e)),this[_0x528216(0x616)]['verbose'](this[_0x528216(0x56f)]+'\x20('+this['instance']['wuid']+'):\x20Query\x20params:\x20'+_0x4ef70d);let _0x12ac4a={'where':{'_id':_0x4ef70d}};return await this[_0x528216(0x19b)][_0x528216(0x2f7)][_0x528216(0x671)](_0x12ac4a,this[_0x528216(0x2ca)][_0x528216(0x405)]);}catch(_0x5e11e7){throw this[_0x528216(0x616)][_0x528216(0x170)](this[_0x528216(0x56f)]+'\x20('+this['instance'][_0x528216(0x405)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x5e11e7 instanceof Error?_0x5e11e7[_0x528216(0x261)]:JSON[_0x528216(0x188)](_0x5e11e7,null,0x2))),new m(_0x528216(0x35d)+_0x5e11e7['message']);}}async[a0_0xc64edb(0x382)](_0x2b69a3){const _0x193ac6=a0_0xc64edb;try{return this[_0x193ac6(0x616)][_0x193ac6(0x6d2)](this['instanceName']+'\x20('+this[_0x193ac6(0x2ca)]['wuid']+'):\x20Buscando\x20conversas...'),await this[_0x193ac6(0x19b)][_0x193ac6(0x2f7)][_0x193ac6(0x670)](_0x2b69a3,this[_0x193ac6(0x2ca)][_0x193ac6(0x405)]);}catch(_0x5e8b10){throw this['logger'][_0x193ac6(0x170)](this[_0x193ac6(0x56f)]+'\x20('+this['instance'][_0x193ac6(0x405)]+_0x193ac6(0x1de)+(_0x5e8b10 instanceof Error?_0x5e8b10['message']:JSON['stringify'](_0x5e8b10,null,0x2))),new m(_0x193ac6(0x602)+_0x5e8b10[_0x193ac6(0x261)]);}}async[a0_0xc64edb(0x513)](_0x4a3bb8){const _0x5471fc=a0_0xc64edb;try{return this['logger'][_0x5471fc(0x6d2)](this['instanceName']+'\x20('+this[_0x5471fc(0x2ca)][_0x5471fc(0x405)]+_0x5471fc(0x745)),this[_0x5471fc(0x616)][_0x5471fc(0x6d2)](this['instanceName']+'\x20('+this[_0x5471fc(0x2ca)][_0x5471fc(0x405)]+_0x5471fc(0x474)+_0x4a3bb8),(await this[_0x5471fc(0x19b)][_0x5471fc(0x2f7)][_0x5471fc(0x70d)]({'where':{'_id':_0x4a3bb8}},this[_0x5471fc(0x2ca)][_0x5471fc(0x405)]))[_0x5471fc(0x70c)]===0x0?{'message':_0x5471fc(0x216)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x34647f){throw this['logger']['error'](this[_0x5471fc(0x56f)]+'\x20('+this['instance'][_0x5471fc(0x405)]+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0x34647f instanceof Error?_0x34647f[_0x5471fc(0x261)]:JSON[_0x5471fc(0x188)](_0x34647f,null,0x2))),new m(_0x5471fc(0x5ac)+_0x34647f[_0x5471fc(0x261)]);}}async[a0_0xc64edb(0x331)](_0x171fed){const _0x9743bb=a0_0xc64edb;try{let {_id:_0x5c6a0d,chatLog:_0x2e3c50,status:_0x5789bc}=_0x171fed;if(!_0x5c6a0d)return{'message':_0x9743bb(0x1ed)};let _0x40ba77={};if(_0x5789bc!==void 0x0&&(_0x40ba77[_0x9743bb(0x23b)]=_0x5789bc),Object[_0x9743bb(0x3dc)](_0x40ba77)[_0x9743bb(0x593)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x5f1d74=await this[_0x9743bb(0x19b)]['flowConversation']['updateOne'](_0x5c6a0d,_0x40ba77,this[_0x9743bb(0x2ca)]['wuid']);return _0x5f1d74||{'message':_0x9743bb(0x6db)};}catch(_0xeafbda){throw this[_0x9743bb(0x616)][_0x9743bb(0x170)](this[_0x9743bb(0x56f)]+'\x20('+this[_0x9743bb(0x2ca)]['wuid']+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+(_0xeafbda instanceof Error?_0xeafbda[_0x9743bb(0x261)]:JSON[_0x9743bb(0x188)](_0xeafbda,null,0x2))),new m(_0x9743bb(0x4c0)+_0xeafbda[_0x9743bb(0x261)]);}}async[a0_0xc64edb(0x741)](_0x27d595){const _0x46240a=a0_0xc64edb;let _0x36948d=await this[_0x46240a(0x19b)][_0x46240a(0x3d8)][_0x46240a(0x671)]({'where':{'_id':_0x27d595['_id']}},this[_0x46240a(0x2ca)][_0x46240a(0x405)]);if(!_0x36948d)throw new m(_0x46240a(0x33e));console[_0x46240a(0x5f3)](_0x27d595);try{_0x27d595['_id']=this[_0x46240a(0x208)](_0x27d595['_id']);let {_id:_0x3683b9,leadInfo:_0x3a2902}=_0x27d595;if(!_0x3683b9)throw new Error(_0x46240a(0x31b));let _0x16dd57=(_0x3d077b,_0x8f7790,_0x34b23a)=>{const _0xaa93d2=_0x46240a;_0x3d077b&&_0x34b23a[_0xaa93d2(0x2d6)](_0x623690=>{const _0x5ebb9e=_0xaa93d2;_0x3d077b[_0x623690]!==void 0x0&&(_0x8f7790[_0x5ebb9e(0x22f)+_0x623690]=_0x3d077b[_0x623690]);});},_0x254203={};if(_0x3a2902&&(_0x16dd57(_0x3a2902,_0x254203,[_0x46240a(0x556),'nomecompleto',_0x46240a(0x284),_0x46240a(0x1aa),_0x46240a(0x23b),_0x46240a(0x370),_0x46240a(0x1c6),_0x46240a(0x473),_0x46240a(0x63b),_0x46240a(0x51f)]),Array[_0x46240a(0x51d)](_0x3a2902[_0x46240a(0x426)])&&(_0x254203[_0x46240a(0x443)]=_0x3a2902[_0x46240a(0x426)][_0x46240a(0x483)](_0x3280e3=>({'_id':_0x3280e3['_id'],'value':_0x3280e3['value']}))),_0x27d595[_0x46240a(0x5b4)][_0x46240a(0x51f)]!==void 0x0)){let _0x5339aa=await this['repository'][_0x46240a(0x66d)]['find']({'where':{}},this['instance'][_0x46240a(0x405)]),_0x55810f=new Set(_0x27d595[_0x46240a(0x5b4)]['etiquetas']||[]),_0xcb26fd=new Set(_0x27d595['leadInfo'][_0x46240a(0x51f)]),_0x3389a2=new Set(_0x5339aa['map'](_0x118984=>_0x118984[_0x46240a(0x782)])),_0x30f0be=[..._0xcb26fd]['filter'](_0x4bede5=>!_0x55810f['has'](_0x4bede5)&&_0x3389a2[_0x46240a(0x64f)](_0x4bede5)),_0x10bdc9=[..._0x55810f]['filter'](_0x1f78ed=>!_0xcb26fd[_0x46240a(0x64f)](_0x1f78ed));if(_0x254203[_0x46240a(0x436)]=[..._0x55810f],_0x36948d&&!_0x36948d[_0x46240a(0x783)]){for(let _0x19c66f of _0x30f0be)await this['AddChatLabel'](_0x19c66f,_0x27d595['_id']),_0x55810f['add'](_0x19c66f);for(let _0x492f5d of _0x10bdc9)await this[_0x46240a(0x48d)](_0x492f5d,_0x27d595[_0x46240a(0x782)]),_0x55810f[_0x46240a(0x57d)](_0x492f5d);}}if(_0x27d595[_0x46240a(0x4a5)]!==void 0x0&&(_0x254203['unreadcount']=Number(_0x27d595[_0x46240a(0x4a5)])),Object[_0x46240a(0x3dc)](_0x254203)[_0x46240a(0x593)]===0x0)throw new Error(_0x46240a(0x78e));let _0x515f81=await this[_0x46240a(0x19b)][_0x46240a(0x3d8)][_0x46240a(0x41e)]({'where':{'_id':_0x27d595[_0x46240a(0x782)]}},_0x254203,this[_0x46240a(0x2ca)]['wuid']);return _0x515f81&&J(this[_0x46240a(0x56f)],_0x46240a(0x78d),{'chat':_0x515f81}),_0x515f81?(this[_0x46240a(0x616)][_0x46240a(0x6d2)](this[_0x46240a(0x56f)]+'\x20('+this[_0x46240a(0x2ca)][_0x46240a(0x405)]+_0x46240a(0x3f9)+JSON[_0x46240a(0x188)](_0x515f81,null,0x2)),_0x515f81):{'message':_0x46240a(0x6e3)};}catch(_0x2327cd){throw this[_0x46240a(0x616)]['error'](this[_0x46240a(0x56f)]+'\x20('+this[_0x46240a(0x2ca)][_0x46240a(0x405)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+(_0x2327cd instanceof Error?_0x2327cd[_0x46240a(0x261)]:JSON['stringify'](_0x2327cd,null,0x2))),new m(_0x46240a(0x748)+_0x2327cd['message']);}}async[a0_0xc64edb(0x33d)](_0x573348,_0xefc6b7){const _0x330498=a0_0xc64edb;try{await this[_0x330498(0x4e7)][_0x330498(0x608)](_0xefc6b7,_0x573348),console[_0x330498(0x5f3)](_0x330498(0x4f4)+_0x573348+_0x330498(0x74b)+_0xefc6b7+'\x20com\x20sucesso.');}catch(_0x1cd634){console['error']('Erro\x20ao\x20adicionar\x20label\x20'+_0x573348+_0x330498(0x578)+_0xefc6b7+':',_0x1cd634);}}async[a0_0xc64edb(0x48d)](_0x4f638a,_0x36fbc8){const _0x4587cc=a0_0xc64edb;try{await this['client'][_0x4587cc(0x4de)](_0x36fbc8,_0x4f638a),console[_0x4587cc(0x5f3)](_0x4587cc(0x4f4)+_0x4f638a+_0x4587cc(0x2f1)+_0x36fbc8+_0x4587cc(0x149));}catch(_0x57f5ae){console[_0x4587cc(0x170)](_0x4587cc(0x390)+_0x4f638a+_0x4587cc(0x21e)+_0x36fbc8+':',_0x57f5ae);}}async['updateAgent'](_0x2c5b95){const _0x45efae=a0_0xc64edb;try{let _0x379d21=await this[_0x45efae(0x19b)][_0x45efae(0x498)][_0x45efae(0x17a)](this['instance'][_0x45efae(0x405)]),_0x502a62=_0x2c5b95[_0x45efae(0x782)]?_0x379d21[_0x45efae(0x38d)][_0x45efae(0x2d1)](_0x2b8466=>_0x2b8466['_id']===_0x2c5b95['_id']):-0x1;if(_0x2c5b95[_0x45efae(0x57d)]&&_0x502a62>-0x1)_0x379d21[_0x45efae(0x38d)][_0x45efae(0x3f0)](_0x502a62,0x1);else{if(_0x502a62>-0x1){let _0x10c125=_0x379d21[_0x45efae(0x38d)][_0x502a62];_0x2c5b95['fone']&&(_0x10c125[_0x45efae(0x5e2)]=_0x2c5b95['fone']),_0x2c5b95['name']&&(_0x10c125[_0x45efae(0x219)]=_0x2c5b95['name']),_0x2c5b95[_0x45efae(0x284)]&&(_0x10c125[_0x45efae(0x284)]=_0x2c5b95[_0x45efae(0x284)]),_0x2c5b95['role']&&(_0x10c125[_0x45efae(0x1ec)]=_0x2c5b95['role']);}else _0x379d21[_0x45efae(0x38d)]['push']({'_id':_0x2c5b95[_0x45efae(0x782)]||new ie[(_0x45efae(0x324))][(_0x45efae(0x6bd))][(_0x45efae(0x3e3))]()[_0x45efae(0x289)](),'fone':_0x2c5b95[_0x45efae(0x5e2)],'name':_0x2c5b95[_0x45efae(0x219)],'email':_0x2c5b95[_0x45efae(0x284)],'role':_0x2c5b95[_0x45efae(0x1ec)]});}let _0x34b884={'agents':_0x379d21['agents']},_0x4d45e7=await this[_0x45efae(0x19b)]['automateSystem'][_0x45efae(0x527)](_0x34b884,this[_0x45efae(0x2ca)][_0x45efae(0x405)]);return this['AutomateSystem']=_0x4d45e7,this[_0x45efae(0x616)]['verbose'](this[_0x45efae(0x56f)]+'\x20('+this[_0x45efae(0x2ca)][_0x45efae(0x405)]+_0x45efae(0x215)),this[_0x45efae(0x616)][_0x45efae(0x6d2)](this[_0x45efae(0x56f)]+'\x20('+this[_0x45efae(0x2ca)][_0x45efae(0x405)]+_0x45efae(0x3f9)+this[_0x45efae(0x3eb)]),_0x4d45e7;}catch(_0x53f4a6){throw this[_0x45efae(0x616)][_0x45efae(0x170)](this[_0x45efae(0x56f)]+'\x20('+this[_0x45efae(0x2ca)][_0x45efae(0x405)]+_0x45efae(0x6a9)+(_0x53f4a6 instanceof Error?_0x53f4a6['message']:JSON['stringify'](_0x53f4a6,null,0x2))),new m(_0x45efae(0x44d)+_0x53f4a6[_0x45efae(0x261)]);}}async[a0_0xc64edb(0x335)](_0x25b550){const _0xc77d29=a0_0xc64edb;try{let _0x53b650=await this[_0xc77d29(0x19b)][_0xc77d29(0x498)][_0xc77d29(0x17a)](this[_0xc77d29(0x2ca)]['wuid']),_0x534d1a=_0x25b550[_0xc77d29(0x782)]?_0x53b650[_0xc77d29(0x426)][_0xc77d29(0x2d1)](_0x573e97=>_0x573e97[_0xc77d29(0x782)]===_0x25b550[_0xc77d29(0x782)]):-0x1,_0x3e239b=!0x1,_0x2d3c27=_0x53b650[_0xc77d29(0x426)][_0xc77d29(0x24d)](_0x12154c=>_0x12154c[_0xc77d29(0x2c5)]===_0x25b550[_0xc77d29(0x2c5)]);if(_0x25b550[_0xc77d29(0x57d)]&&_0x534d1a>-0x1)_0x53b650[_0xc77d29(0x426)][_0xc77d29(0x3f0)](_0x534d1a,0x1),_0x3e239b=!0x0;else{if(_0x534d1a>-0x1){if(_0x53b650['customFields'][_0xc77d29(0x24d)](_0x8ffceb=>_0x8ffceb[_0xc77d29(0x219)]===_0x25b550[_0xc77d29(0x219)]&&_0x8ffceb[_0xc77d29(0x782)]!==_0x25b550['_id']))throw new Error(_0xc77d29(0x5d1));let _0x288341=_0x53b650['customFields'][_0x534d1a];_0x25b550['order']&&(_0x2d3c27||!Number[_0xc77d29(0x424)](_0x25b550[_0xc77d29(0x2c5)]))&&(_0x288341[_0xc77d29(0x2c5)]=_0x25b550[_0xc77d29(0x2c5)],_0x3e239b=!0x0),_0x25b550[_0xc77d29(0x219)]&&(_0x288341[_0xc77d29(0x219)]=_0x25b550[_0xc77d29(0x219)]);}else{if(_0x53b650[_0xc77d29(0x426)][_0xc77d29(0x24d)](_0x2278d1=>_0x2278d1[_0xc77d29(0x219)]===_0x25b550[_0xc77d29(0x219)]&&_0x2278d1[_0xc77d29(0x782)]!==_0x25b550['_id']))throw new Error(_0xc77d29(0x5d1));_0x53b650[_0xc77d29(0x426)][_0xc77d29(0x4c1)]({'_id':_0x25b550[_0xc77d29(0x782)]||new ie[(_0xc77d29(0x324))]['Types'][(_0xc77d29(0x3e3))]()[_0xc77d29(0x289)](),'order':_0x25b550[_0xc77d29(0x2c5)],'name':_0x25b550[_0xc77d29(0x219)]}),_0x3e239b=!0x0;}}if(_0x3e239b){_0x53b650['customFields'][_0xc77d29(0x604)]((_0x5757de,_0x447dde)=>_0x5757de[_0xc77d29(0x2c5)]>_0x447dde[_0xc77d29(0x2c5)]?0x1:_0x447dde[_0xc77d29(0x2c5)]>_0x5757de[_0xc77d29(0x2c5)]?-0x1:0x0);for(let _0x1dc10f=0x0;_0x1dc10f<_0x53b650[_0xc77d29(0x426)][_0xc77d29(0x593)];_0x1dc10f++)_0x53b650[_0xc77d29(0x426)][_0x1dc10f][_0xc77d29(0x2c5)]=_0x1dc10f+0x1;}let _0x1767ac=await this[_0xc77d29(0x19b)]['automateSystem'][_0xc77d29(0x527)](_0x53b650,this[_0xc77d29(0x2ca)]['wuid']);return this[_0xc77d29(0x3eb)]=_0x1767ac,this[_0xc77d29(0x616)][_0xc77d29(0x6d2)](this[_0xc77d29(0x56f)]+'\x20('+this[_0xc77d29(0x2ca)][_0xc77d29(0x405)]+_0xc77d29(0x374)),this[_0xc77d29(0x616)]['verbose'](this[_0xc77d29(0x56f)]+'\x20('+this[_0xc77d29(0x2ca)]['wuid']+_0xc77d29(0x3f9)+this['AutomateSystem']),_0x1767ac;}catch(_0x4ab63b){throw this[_0xc77d29(0x616)][_0xc77d29(0x170)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xc77d29(0x313)+(_0x4ab63b instanceof Error?_0x4ab63b[_0xc77d29(0x261)]:JSON['stringify'](_0x4ab63b,null,0x2))),new m('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x4ab63b[_0xc77d29(0x261)]);}}async[a0_0xc64edb(0x6a8)](_0x195ec8){const _0x55cb55=a0_0xc64edb;try{let _0x446040=await this[_0x55cb55(0x19b)][_0x55cb55(0x498)]['findOrCreate'](this[_0x55cb55(0x2ca)][_0x55cb55(0x405)]);if(!_0x446040)throw new Error(_0x55cb55(0x1ca));let _0x118710={'_id':_0x446040[_0x55cb55(0x782)],'flowConfig':{'enabled':_0x195ec8['enabled']??_0x446040['flowConfig'][_0x55cb55(0x143)],'ignoreGroups':_0x195ec8['ignoreGroups']??_0x446040['flowConfig'][_0x55cb55(0x651)],'prefixCommand':_0x195ec8[_0x55cb55(0x1e9)]??_0x446040[_0x55cb55(0x69a)]['prefixCommand'],'stopConversation':_0x195ec8[_0x55cb55(0x708)]??_0x446040[_0x55cb55(0x69a)][_0x55cb55(0x708)],'stopMinutes':_0x195ec8[_0x55cb55(0x2fb)]??_0x446040['flowConfig'][_0x55cb55(0x2fb)],'stopWhenYouSendMsg':_0x195ec8[_0x55cb55(0x168)]??_0x446040[_0x55cb55(0x69a)][_0x55cb55(0x168)]}},_0x29c89d=await this[_0x55cb55(0x19b)][_0x55cb55(0x498)][_0x55cb55(0x527)](_0x118710,this[_0x55cb55(0x2ca)][_0x55cb55(0x405)]);return this['AutomateSystem']=_0x29c89d,this['logger'][_0x55cb55(0x6d2)](this[_0x55cb55(0x56f)]+'\x20('+this[_0x55cb55(0x2ca)][_0x55cb55(0x405)]+'):\x20alterando\x20this.AutomateSystem'),this['logger']['verbose'](this[_0x55cb55(0x56f)]+'\x20('+this['instance']['wuid']+'):\x20'+this[_0x55cb55(0x3eb)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x29c89d;}catch(_0x270023){throw this[_0x55cb55(0x616)][_0x55cb55(0x170)](this[_0x55cb55(0x56f)]+'\x20('+this['instance'][_0x55cb55(0x405)]+_0x55cb55(0x43a)+(_0x270023 instanceof Error?_0x270023[_0x55cb55(0x261)]:JSON['stringify'](_0x270023,null,0x2))),new m(_0x55cb55(0x4a3)+_0x270023[_0x55cb55(0x261)]);}}async[a0_0xc64edb(0x6e1)](){const _0x47fdb0=a0_0xc64edb;try{let _0x15bc28=await this[_0x47fdb0(0x19b)]['automateSystem']['findOrCreate'](this[_0x47fdb0(0x2ca)]['wuid']);return this[_0x47fdb0(0x3eb)]=_0x15bc28,this['logger']['verbose'](this[_0x47fdb0(0x56f)]+'\x20('+this['instance'][_0x47fdb0(0x405)]+_0x47fdb0(0x4f2)),this[_0x47fdb0(0x616)]['verbose'](this[_0x47fdb0(0x3eb)]),_0x15bc28;}catch(_0x319309){throw this['logger'][_0x47fdb0(0x170)](this[_0x47fdb0(0x56f)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x319309 instanceof Error?_0x319309['message']:JSON[_0x47fdb0(0x188)](_0x319309,null,0x2))),new m(_0x47fdb0(0x704)+_0x319309[_0x47fdb0(0x261)]);}}async[a0_0xc64edb(0x35f)](){const _0x2a4cb7=a0_0xc64edb;this[_0x2a4cb7(0x1d2)]&&clearTimeout(this[_0x2a4cb7(0x1d2)]),this[_0x2a4cb7(0x1d2)]=setTimeout(()=>{const _0x94399b=_0x2a4cb7;this[_0x94399b(0x34e)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0xc64edb(0x34e)](){const _0x591e79=a0_0xc64edb;Date['now']()-this[_0x591e79(0x167)]>=0x1d4c0&&(this[_0x591e79(0x616)][_0x591e79(0x6d2)](this[_0x591e79(0x56f)]+'\x20('+this['instance'][_0x591e79(0x405)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x591e79(0x1c1)]=null,this['lastSend']=0x0,this[_0x591e79(0x759)]=0x0,await this[_0x591e79(0x2c7)]());}async[a0_0xc64edb(0x2c7)](){const _0x5a1972=a0_0xc64edb;let _0xd6cd7a=()=>{const _0x3842c0=a0_0x431f;this[_0x3842c0(0x616)]['verbose'](this['instanceName']+'\x20('+this[_0x3842c0(0x2ca)][_0x3842c0(0x405)]+_0x3842c0(0x6de)+this[_0x3842c0(0x1c1)]+_0x3842c0(0x3a9));},_0x33699f=async()=>{const _0x1679c5=a0_0x431f;this[_0x1679c5(0x616)][_0x1679c5(0x6d2)](this[_0x1679c5(0x56f)]+'\x20('+this[_0x1679c5(0x2ca)][_0x1679c5(0x405)]+_0x1679c5(0x450));let _0x3e9b2e=Date[_0x1679c5(0x550)]()-0xc*0x3c*0x3c*0x3e8,_0x3af137={'where':{'status':{'$in':['scheduled','sending']},'$or':[{'when':{'$lte':Date[_0x1679c5(0x550)](),'$gte':_0x3e9b2e}},{'when':0x0}]}};return await this[_0x1679c5(0x19b)][_0x1679c5(0x44b)][_0x1679c5(0x670)](_0x3af137,this['instance'][_0x1679c5(0x405)]);},_0x4dc2dd=async _0x22e2db=>{const _0x3a4058=a0_0x431f;for(let _0x28e6f8 of _0x22e2db){let _0x1d477e={'_id':_0x28e6f8['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3a4058(0x550)]()-0x1770}}]},_0x19045a={'startSend':Date[_0x3a4058(0x550)]()};if(!await this['repository'][_0x3a4058(0x44b)][_0x3a4058(0x41e)](_0x1d477e,_0x19045a,this[_0x3a4058(0x2ca)][_0x3a4058(0x405)]))return;if(!this[_0x3a4058(0x4b0)]){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3a4058(0x2ca)][_0x3a4058(0x405)]+_0x3a4058(0x384));break;}if(_0x28e6f8[_0x3a4058(0x326)]==='flow'&&!this['AutomateSystem']?.[_0x3a4058(0x69a)][_0x3a4058(0x143)]){this[_0x3a4058(0x616)][_0x3a4058(0x170)](this[_0x3a4058(0x56f)]+'\x20('+this['instance'][_0x3a4058(0x405)]+_0x3a4058(0x2df));continue;}(!_0x28e6f8[_0x3a4058(0x28a)]||_0x28e6f8[_0x3a4058(0x28a)][_0x3a4058(0x593)]===0x0)&&(_0x28e6f8=await this['repository'][_0x3a4058(0x44b)][_0x3a4058(0x25f)](_0x28e6f8[_0x3a4058(0x782)],{'status':_0x3a4058(0x591),'remoteJidsRemaining':[..._0x28e6f8['remoteJids']]},this[_0x3a4058(0x2ca)]['wuid']));for(let _0x5cbd7f of _0x28e6f8[_0x3a4058(0x28a)]){if(await this['setRestartTimer'](),this[_0x3a4058(0x167)]=Date[_0x3a4058(0x550)](),_0x28e6f8[_0x3a4058(0x236)]['some'](_0x35ffbc=>_0x35ffbc[_0x3a4058(0x2b0)]===_0x5cbd7f)){this[_0x3a4058(0x616)][_0x3a4058(0x6d2)](this['instanceName']+'\x20('+this[_0x3a4058(0x2ca)]['wuid']+_0x3a4058(0x218)+_0x5cbd7f+_0x3a4058(0x565));continue;}if(!this['isConnected']){this['logger'][_0x3a4058(0x6d2)](this[_0x3a4058(0x56f)]+'\x20('+this[_0x3a4058(0x2ca)][_0x3a4058(0x405)]+_0x3a4058(0x615));break;}if(!this[_0x3a4058(0x1c1)]){this[_0x3a4058(0x616)][_0x3a4058(0x6d2)](this[_0x3a4058(0x56f)]+'\x20('+this[_0x3a4058(0x2ca)][_0x3a4058(0x405)]+_0x3a4058(0x699)+_0x28e6f8[_0x3a4058(0x782)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x28e6f8[_0x3a4058(0x326)]===_0x3a4058(0x16f)&&!this[_0x3a4058(0x3eb)]?.[_0x3a4058(0x69a)][_0x3a4058(0x143)]){this[_0x3a4058(0x616)][_0x3a4058(0x170)](this['instanceName']+'\x20('+this[_0x3a4058(0x2ca)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x56efc6={'remoteJid':_0x5cbd7f,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x3a4058(0x550)]()},_0xd1e8b6=null;try{let _0x23377e=await this[_0x3a4058(0x749)](_0x5cbd7f,_0x28e6f8);_0x56efc6['error']=_0x23377e[_0x3a4058(0x170)],_0x56efc6['id']=_0x23377e[_0x3a4058(0x170)]?null:_0x23377e['id'],_0x56efc6[_0x3a4058(0x67e)]=_0x23377e[_0x3a4058(0x170)]?_0x23377e[_0x3a4058(0x65d)]?_0x23377e[_0x3a4058(0x65d)][_0x3a4058(0x289)]():'':null;let _0x20d8e7={'$push':{'messagesSend':_0x56efc6},'$pull':{'remoteJidsRemaining':_0x5cbd7f}},_0xc7f005=_0x28e6f8[_0x3a4058(0x782)];if(_0xd1e8b6=await this[_0x3a4058(0x19b)][_0x3a4058(0x44b)][_0x3a4058(0x25f)](_0xc7f005,_0x20d8e7,this['instance'][_0x3a4058(0x405)]),_0x23377e[_0x3a4058(0x170)])continue;let _0x12e82a=this['getDelay'](_0x28e6f8[_0x3a4058(0x497)],_0x28e6f8[_0x3a4058(0x2db)]);await this[_0x3a4058(0x371)](_0x12e82a);}catch(_0x86b51d){this[_0x3a4058(0x616)][_0x3a4058(0x170)](this[_0x3a4058(0x56f)]+'\x20('+this[_0x3a4058(0x2ca)]['wuid']+_0x3a4058(0x193)+_0x5cbd7f+':\x20'+(_0x86b51d instanceof Error?_0x86b51d[_0x3a4058(0x261)]:JSON['stringify'](_0x86b51d,null,0x2))),_0x56efc6[_0x3a4058(0x170)]=!0x0,_0x56efc6[_0x3a4058(0x67e)]=_0x86b51d[_0x3a4058(0x261)];let _0x779757={'$push':{'messagesSend':_0x56efc6},'$pull':{'remoteJidsRemaining':_0x5cbd7f}},_0x546dab=_0x28e6f8[_0x3a4058(0x782)];_0xd1e8b6=await this[_0x3a4058(0x19b)][_0x3a4058(0x44b)][_0x3a4058(0x25f)](_0x546dab,_0x779757,this[_0x3a4058(0x2ca)][_0x3a4058(0x405)]);}finally{if(_0xd1e8b6&&_0xd1e8b6[_0x3a4058(0x23b)]===_0x3a4058(0x6bf)){this[_0x3a4058(0x616)][_0x3a4058(0x6d2)](this[_0x3a4058(0x56f)]+'\x20('+this[_0x3a4058(0x2ca)][_0x3a4058(0x405)]+_0x3a4058(0x699)+_0x28e6f8['_id']+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x5a0d07=await this[_0x3a4058(0x19b)][_0x3a4058(0x44b)][_0x3a4058(0x610)](_0x28e6f8[_0x3a4058(0x782)],this['instance']['wuid']);if(_0x5a0d07['remoteJidsRemaining'][_0x3a4058(0x593)]===0x0&&_0x5a0d07[_0x3a4058(0x23b)]!==_0x3a4058(0x6bf)){let _0x423cc9={'$set':{'status':_0x3a4058(0x3b6)}},_0x35e5b5=_0x5a0d07[_0x3a4058(0x782)];await this['repository'][_0x3a4058(0x44b)]['updateOneById'](_0x35e5b5,_0x423cc9,this['instance']['wuid']);}await new Promise(_0x1a682e=>setTimeout(_0x1a682e,0x1388));}},_0x53e951=async()=>{const _0x2985b1=a0_0x431f;let _0x11f45a={'where':{'status':_0x2985b1(0x2cf),'when':{'$gt':Date[_0x2985b1(0x550)]()}}},_0x307224=await this[_0x2985b1(0x19b)][_0x2985b1(0x44b)][_0x2985b1(0x671)](_0x11f45a,this[_0x2985b1(0x2ca)][_0x2985b1(0x405)]);_0x307224&&_0x307224[_0x2985b1(0x6ff)]-Date[_0x2985b1(0x550)]()<=0x5265c00?this['delayMessage']=_0x307224[_0x2985b1(0x6ff)]-Date[_0x2985b1(0x550)]():this['delayMessage']=(0x3c+Math[_0x2985b1(0x234)](Math[_0x2985b1(0x17b)]()*0x3c))*0x3c*0x3e8,this[_0x2985b1(0x759)]=Math[_0x2985b1(0x3e7)](this[_0x2985b1(0x759)],0x7d0);let _0x31ef1c=Math[_0x2985b1(0x5c5)](this[_0x2985b1(0x759)]/0xea60);if(_0x307224){let _0x1faf98=new Date(_0x307224['when'])[_0x2985b1(0x516)]();this[_0x2985b1(0x616)][_0x2985b1(0x6d2)](this[_0x2985b1(0x56f)]+'\x20('+this[_0x2985b1(0x2ca)][_0x2985b1(0x405)]+_0x2985b1(0x1a3)+_0x1faf98+_0x2985b1(0x256)+_0x31ef1c+_0x2985b1(0x669));}else this[_0x2985b1(0x616)]['verbose'](this[_0x2985b1(0x56f)]+'\x20('+this[_0x2985b1(0x2ca)][_0x2985b1(0x405)]+_0x2985b1(0x6cb)+_0x31ef1c+_0x2985b1(0x669));setTimeout(()=>this[_0x2985b1(0x2c7)](),this[_0x2985b1(0x759)]);};if(this[_0x5a1972(0x1c1)]){await this[_0x5a1972(0x35f)](),_0xd6cd7a();return;}if(!this['isConnected']){this[_0x5a1972(0x616)][_0x5a1972(0x6d2)](this[_0x5a1972(0x56f)]+'\x20('+this[_0x5a1972(0x2ca)][_0x5a1972(0x405)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x5a1972(0x1c1)]=null,this['lastSend']=0x0,this[_0x5a1972(0x759)]=0x0;return;}try{let _0x11df70=await _0x33699f();_0x11df70[_0x5a1972(0x593)]===0x0?this[_0x5a1972(0x616)][_0x5a1972(0x6d2)](this[_0x5a1972(0x56f)]+'\x20('+this[_0x5a1972(0x2ca)][_0x5a1972(0x405)]+_0x5a1972(0x74c)):(this[_0x5a1972(0x1c1)]=_0x11df70[0x0][_0x5a1972(0x782)],await _0x4dc2dd(_0x11df70)),await _0x53e951(),this[_0x5a1972(0x1c1)]=null;}catch(_0x537a23){this[_0x5a1972(0x616)][_0x5a1972(0x170)](_0x5a1972(0x494)+(_0x537a23 instanceof Error?_0x537a23[_0x5a1972(0x261)]:JSON['stringify'](_0x537a23,null,0x2)));}}[a0_0xc64edb(0x60b)](_0x59f4aa,_0x4dfc42){const _0x2e714=a0_0xc64edb;return _0x59f4aa=Math[_0x2e714(0x3e7)](0.5,_0x59f4aa),_0x4dfc42=Math[_0x2e714(0x161)](Math[_0x2e714(0x3e7)](0x3,_0x4dfc42),0x78),Math['floor'](Math[_0x2e714(0x17b)]()*(_0x4dfc42-_0x59f4aa+0x1)+_0x59f4aa)*0x3e8;}[a0_0xc64edb(0x371)](_0x547b1b){return new Promise(_0x2ca0c6=>setTimeout(_0x2ca0c6,_0x547b1b));}async[a0_0xc64edb(0x367)](_0x2c065d){const _0x279487=a0_0xc64edb;if(!this[_0x279487(0x3eb)]&&(await this[_0x279487(0x6e1)](),!this['AutomateSystem']))return null;_0x2c065d=this['createJid'](_0x2c065d);let _0x3ddb64=await this[_0x279487(0x19b)][_0x279487(0x3d8)][_0x279487(0x671)]({'where':{'_id':_0x2c065d}},this['instance'][_0x279487(0x405)]),_0x421ca2={};if(_0x3ddb64&&_0x3ddb64[_0x279487(0x5b4)]){let _0x257e49=_0x3ddb64['leadInfo'];typeof _0x257e49['nome']==_0x279487(0x470)&&(_0x421ca2['nome']=_0x257e49[_0x279487(0x556)]),typeof _0x257e49[_0x279487(0x5df)]==_0x279487(0x470)&&(_0x421ca2[_0x279487(0x5df)]=_0x257e49['nomecompleto']),typeof _0x257e49[_0x279487(0x284)]==_0x279487(0x470)&&(_0x421ca2[_0x279487(0x284)]=_0x257e49[_0x279487(0x284)]),typeof _0x257e49[_0x279487(0x1aa)]=='string'&&(_0x421ca2['cpf']=_0x257e49[_0x279487(0x1aa)]),typeof _0x257e49[_0x279487(0x23b)]==_0x279487(0x470)&&(_0x421ca2[_0x279487(0x23b)]=_0x257e49['status']),typeof _0x257e49[_0x279487(0x370)]==_0x279487(0x470)&&(_0x421ca2['notas']=_0x257e49[_0x279487(0x370)]),typeof _0x257e49[_0x279487(0x63b)]==_0x279487(0x470)&&(_0x421ca2['responsavelid']=_0x257e49['responsavelid']),Array['isArray'](_0x257e49[_0x279487(0x1c6)])&&(_0x421ca2['tags']=_0x257e49[_0x279487(0x1c6)][_0x279487(0x5be)](',\x20')),Array[_0x279487(0x51d)](_0x257e49['etiquetas'])&&(_0x421ca2[_0x279487(0x51f)]=_0x257e49[_0x279487(0x51f)][_0x279487(0x5be)](',\x20'));}return _0x3ddb64&&_0x3ddb64[_0x279487(0x5b4)]&&_0x3ddb64[_0x279487(0x5b4)]['customFields']&&_0x3ddb64[_0x279487(0x5b4)]['customFields'][_0x279487(0x2d6)](_0x281b03=>{const _0x12e61a=_0x279487;let _0x1259bb=this[_0x12e61a(0x3eb)]?.[_0x12e61a(0x426)][_0x12e61a(0x670)](_0x5805d3=>_0x5805d3[_0x12e61a(0x782)]===_0x281b03[_0x12e61a(0x782)]);_0x1259bb&&(_0x421ca2[_0x1259bb[_0x12e61a(0x219)]]=_0x281b03[_0x12e61a(0x772)]);}),_0x421ca2;}async['replaceVariablesChat'](_0x3b5610,_0x2e44b0){const _0x379bed=a0_0xc64edb;let _0x2e9c17=await this[_0x379bed(0x367)](_0x2e44b0);return this[_0x379bed(0x3b2)](_0x3b5610,_0x2e9c17);}async[a0_0xc64edb(0x25c)](_0x12c308){const _0x1d0d0a=a0_0xc64edb;try{if(this[_0x1d0d0a(0x616)][_0x1d0d0a(0x6d2)](this[_0x1d0d0a(0x56f)]+'\x20('+this['instance'][_0x1d0d0a(0x405)]+_0x1d0d0a(0x282)),_0x12c308[_0x1d0d0a(0x57d)]&&_0x12c308['_id']){if(this[_0x1d0d0a(0x1c1)]===_0x12c308[_0x1d0d0a(0x782)][_0x1d0d0a(0x289)]())throw new Error(_0x1d0d0a(0x17d));let _0x12bf7b=await this['repository']['scheduleMessage'][_0x1d0d0a(0x70d)](_0x12c308[_0x1d0d0a(0x782)],this[_0x1d0d0a(0x2ca)][_0x1d0d0a(0x405)]);return setTimeout(()=>this[_0x1d0d0a(0x2c7)](),0x7d0),_0x12bf7b;}let _0x2d43ec;if(_0x12c308['_id']&&(_0x2d43ec=await this[_0x1d0d0a(0x19b)][_0x1d0d0a(0x44b)][_0x1d0d0a(0x610)](_0x12c308['_id'],this[_0x1d0d0a(0x2ca)][_0x1d0d0a(0x405)])),_0x2d43ec){let _0xb850f9;if(this[_0x1d0d0a(0x1c1)]===_0x2d43ec[_0x1d0d0a(0x782)]['toString']())_0xb850f9={'$set':{'status':_0x12c308[_0x1d0d0a(0x23b)]}};else{let {_id:_0x19f8d4,..._0x1fd7d7}=_0x12c308;_0xb850f9={'$set':_0x1fd7d7};}let _0x2aa97e=await this['repository'][_0x1d0d0a(0x44b)][_0x1d0d0a(0x25f)](_0x12c308['_id'],_0xb850f9,this[_0x1d0d0a(0x2ca)][_0x1d0d0a(0x405)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x2aa97e;}else{_0x12c308[_0x1d0d0a(0x62a)]=this['instance'][_0x1d0d0a(0x405)];let _0xd567f7=await this[_0x1d0d0a(0x19b)]['scheduleMessage']['createAndSave'](_0x12c308,this[_0x1d0d0a(0x2ca)]['wuid']);return setTimeout(()=>this[_0x1d0d0a(0x2c7)](),0x7d0),_0xd567f7;}}catch(_0x2efb39){throw this[_0x1d0d0a(0x616)][_0x1d0d0a(0x170)](this['instanceName']+'\x20('+this[_0x1d0d0a(0x2ca)][_0x1d0d0a(0x405)]+_0x1d0d0a(0x263)+(_0x2efb39 instanceof Error?_0x2efb39['message']:JSON[_0x1d0d0a(0x188)](_0x2efb39,null,0x2))),new m(_0x1d0d0a(0x347)+_0x2efb39['message']);}}async['getScheduleMessage'](){const _0x427290=a0_0xc64edb;try{return await this['repository'][_0x427290(0x44b)][_0x427290(0x670)]({'where':{}},this[_0x427290(0x2ca)][_0x427290(0x405)]);}catch(_0x13c266){throw this[_0x427290(0x616)][_0x427290(0x170)](this[_0x427290(0x56f)]+'\x20('+this[_0x427290(0x2ca)][_0x427290(0x405)]+_0x427290(0x1ae)+(_0x13c266 instanceof Error?_0x13c266[_0x427290(0x261)]:JSON[_0x427290(0x188)](_0x13c266,null,0x2))),new m('Erro:'+_0x13c266[_0x427290(0x261)]);}}async[a0_0xc64edb(0x229)](){const _0x27e3b3=a0_0xc64edb;try{let _0xd97f5={'status':'done'},_0xbd0d3c=await this['repository']['scheduleMessage'][_0x27e3b3(0x763)](_0xd97f5,this[_0x27e3b3(0x2ca)][_0x27e3b3(0x405)]);if(!_0xbd0d3c[_0x27e3b3(0x170)])this[_0x27e3b3(0x616)][_0x27e3b3(0x6d2)](this[_0x27e3b3(0x56f)]+'\x20('+this[_0x27e3b3(0x2ca)][_0x27e3b3(0x405)]+_0x27e3b3(0x41b));else throw new Error(_0xbd0d3c[_0x27e3b3(0x170)][_0x27e3b3(0x261)]||_0x27e3b3(0x492));return this['getScheduleMessage']();}catch(_0x4613ab){throw this[_0x27e3b3(0x616)][_0x27e3b3(0x170)](this[_0x27e3b3(0x56f)]+'\x20('+this[_0x27e3b3(0x2ca)][_0x27e3b3(0x405)]+_0x27e3b3(0x400)+(_0x4613ab instanceof Error?_0x4613ab['message']:JSON['stringify'](_0x4613ab,null,0x2))),new m(_0x27e3b3(0x347)+_0x4613ab[_0x27e3b3(0x261)]);}}async[a0_0xc64edb(0x749)](_0x2c0a4c,_0x2968cb){const _0x38c7df=a0_0xc64edb;try{if(_0x2968cb[_0x38c7df(0x326)]===_0x38c7df(0x16f)&&!this['AutomateSystem']?.[_0x38c7df(0x69a)][_0x38c7df(0x143)])return this[_0x38c7df(0x616)][_0x38c7df(0x170)](this['instanceName']+'\x20('+this[_0x38c7df(0x2ca)]['wuid']+_0x38c7df(0x14c)),{'error':!0x0,'detail':_0x38c7df(0x1ea)};switch(_0x2968cb['type']){case _0x38c7df(0x646):return await this[_0x38c7df(0x666)](_0x2968cb,_0x2c0a4c);case'media':return await this[_0x38c7df(0x6fe)](_0x2968cb,_0x2c0a4c);case _0x38c7df(0x73a):return await this[_0x38c7df(0x14a)](_0x2968cb,_0x2c0a4c);case _0x38c7df(0x16f):let _0x58996f=new _e();return _0x58996f['name']=_0x2968cb[_0x38c7df(0x6b9)],_0x58996f[_0x38c7df(0x2b0)]=_0x2c0a4c,await this['startFlow'](_0x58996f);break;default:return this[_0x38c7df(0x616)][_0x38c7df(0x170)](this[_0x38c7df(0x56f)]+'\x20('+this[_0x38c7df(0x2ca)][_0x38c7df(0x405)]+_0x38c7df(0x3f7)+_0x2968cb['type']),{'error':!0x0,'detail':_0x38c7df(0x28f)};}}catch(_0x214790){return this[_0x38c7df(0x616)][_0x38c7df(0x170)](this[_0x38c7df(0x56f)]+'\x20('+this[_0x38c7df(0x2ca)][_0x38c7df(0x405)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x214790 instanceof Error?_0x214790['message']:JSON['stringify'](_0x214790,null,0x2))),{'error':!0x0,'detail':_0x214790[_0x38c7df(0x261)]};}}[a0_0xc64edb(0x38f)](_0x1c2f15){const _0x865951=a0_0xc64edb;let _0x9960ee=_0x1c2f15[_0x865951(0x13f)]('|'),_0x2c3023=Math['floor'](Math[_0x865951(0x17b)]()*_0x9960ee[_0x865951(0x593)]);return _0x9960ee[_0x2c3023][_0x865951(0x72f)]();}async[a0_0xc64edb(0x666)](_0x3e8407,_0xc7253d){const _0x538227=a0_0xc64edb;if(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x538227(0x405)]+_0x538227(0x6d6)),!_0x3e8407[_0x538227(0x261)][_0x538227(0x646)]||_0x3e8407[_0x538227(0x261)]['text']['length']===0x0)return{'error':!0x0,'detail':_0x538227(0x1c5)};let _0x313c69=this['getRandomText'](_0x3e8407[_0x538227(0x261)][_0x538227(0x646)]),_0x4da2c5=await this['replaceVariablesChat'](_0x313c69,_0xc7253d),_0x36e9ba={'number':_0xc7253d,'options':{'delay':_0x3e8407[_0x538227(0x261)][_0x538227(0x431)]},'textMessage':{'text':_0x4da2c5}},_0x12dea2=null;try{let _0x19a756=await this[_0x538227(0x461)](_0x36e9ba);if(_0x19a756&&_0x19a756['status'])return{'error':!0x1,'id':_0x19a756[_0x538227(0x241)]['id']};_0x12dea2=JSON[_0x538227(0x188)](_0x19a756),this[_0x538227(0x616)][_0x538227(0x6d2)](this[_0x538227(0x56f)]+'\x20('+this[_0x538227(0x2ca)][_0x538227(0x405)]+'):\x20'+_0x12dea2);}catch(_0xa360ec){this['logger'][_0x538227(0x170)](this[_0x538227(0x56f)]+'\x20('+this[_0x538227(0x2ca)][_0x538227(0x405)]+_0x538227(0x1e1)+(_0xa360ec instanceof Error?_0xa360ec[_0x538227(0x261)]:JSON['stringify'](_0xa360ec,null,0x2))),_0x12dea2=_0xa360ec['message'];}if(_0x12dea2)return{'error':!0x0,'detail':(typeof _0x12dea2=='object'?JSON['stringify'](_0x12dea2,null,0x2):_0x12dea2)[_0x538227(0x4ee)](/[\[\]{}\n]/g,'\x20')[_0x538227(0x4ee)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x32e7ea,_0x49177f){const _0x2d1e96=a0_0xc64edb;this[_0x2d1e96(0x616)]['verbose'](this[_0x2d1e96(0x56f)]+'\x20('+this[_0x2d1e96(0x2ca)][_0x2d1e96(0x405)]+_0x2d1e96(0x57b));let _0x5943bd;if(_0x32e7ea[_0x2d1e96(0x261)][_0x2d1e96(0x646)]&&_0x32e7ea['message'][_0x2d1e96(0x646)][_0x2d1e96(0x593)]>0x0){let _0xe46352=this[_0x2d1e96(0x38f)](_0x32e7ea['message'][_0x2d1e96(0x646)]);_0x5943bd=await this[_0x2d1e96(0x3b1)](_0xe46352,_0x49177f);}let _0x5c39b1={'number':_0x49177f,'options':{'delay':_0x32e7ea[_0x2d1e96(0x261)][_0x2d1e96(0x431)]},'mediaMessage':{'mediatype':_0x32e7ea[_0x2d1e96(0x261)]['mediatype'],'caption':_0x5943bd,'media':_0x32e7ea[_0x2d1e96(0x261)]['urlOrBase64']}},_0xa405d3=null;try{let _0x2f0981=await this[_0x2d1e96(0x220)](_0x5c39b1);if(_0x2f0981&&_0x2f0981['status'])return{'error':!0x1,'id':_0x2f0981[_0x2d1e96(0x241)]['id']};_0xa405d3=JSON['stringify'](_0x2f0981),this[_0x2d1e96(0x616)][_0x2d1e96(0x6d2)](this[_0x2d1e96(0x56f)]+'\x20('+this[_0x2d1e96(0x2ca)][_0x2d1e96(0x405)]+_0x2d1e96(0x3f9)+_0xa405d3);}catch(_0x16447c){this[_0x2d1e96(0x616)][_0x2d1e96(0x170)](this[_0x2d1e96(0x56f)]+'\x20('+this[_0x2d1e96(0x2ca)][_0x2d1e96(0x405)]+_0x2d1e96(0x28b)+(_0x16447c instanceof Error?_0x16447c[_0x2d1e96(0x261)]:JSON[_0x2d1e96(0x188)](_0x16447c,null,0x2))),_0xa405d3=_0x16447c['message'];}if(_0xa405d3)return{'error':!0x0,'detail':(typeof _0xa405d3==_0x2d1e96(0x41a)?JSON[_0x2d1e96(0x188)](_0xa405d3,null,0x2):_0xa405d3)[_0x2d1e96(0x4ee)](/[\[\]{}\n]/g,'\x20')[_0x2d1e96(0x4ee)](/  +/g,'\x20')};}async[a0_0xc64edb(0x14a)](_0xdb006c,_0x8ece04){const _0x4ba180=a0_0xc64edb;this[_0x4ba180(0x616)][_0x4ba180(0x6d2)](this['instanceName']+'\x20('+this[_0x4ba180(0x2ca)]['wuid']+'):\x20Enviando\x20áudio');let _0x33c899={'number':_0x8ece04,'options':{'delay':_0xdb006c[_0x4ba180(0x261)][_0x4ba180(0x431)]},'audioMessage':{'audio':_0xdb006c[_0x4ba180(0x261)][_0x4ba180(0x6ce)]}},_0x1524e4=null;try{let _0x2aa52a=await this[_0x4ba180(0x3ae)](_0x33c899);if(_0x2aa52a&&_0x2aa52a[_0x4ba180(0x23b)])return{'error':!0x1,'id':_0x2aa52a['key']['id']};_0x1524e4=JSON['stringify'](_0x2aa52a),this['logger']['verbose'](this[_0x4ba180(0x56f)]+'\x20('+this[_0x4ba180(0x2ca)][_0x4ba180(0x405)]+_0x4ba180(0x3f9)+_0x1524e4);}catch(_0x5ee3aa){this[_0x4ba180(0x616)][_0x4ba180(0x170)](this[_0x4ba180(0x56f)]+'\x20('+this[_0x4ba180(0x2ca)][_0x4ba180(0x405)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x5ee3aa instanceof Error?_0x5ee3aa[_0x4ba180(0x261)]:JSON[_0x4ba180(0x188)](_0x5ee3aa,null,0x2))),_0x1524e4=_0x5ee3aa[_0x4ba180(0x261)];}if(_0x1524e4)return{'error':!0x0,'detail':(typeof _0x1524e4==_0x4ba180(0x41a)?JSON[_0x4ba180(0x188)](_0x1524e4,null,0x2):_0x1524e4)[_0x4ba180(0x4ee)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},Pt=class c{constructor(_0x410d9c,_0x2598a5,_0x178414){const _0x504a03=a0_0xc64edb;this[_0x504a03(0x515)]=_0x410d9c,this[_0x504a03(0x46b)]=_0x2598a5,this[_0x504a03(0x19b)]=_0x178414,this['db']={},this[_0x504a03(0x452)]={},this[_0x504a03(0x616)]=new v(c['name']),this[_0x504a03(0x185)]={},(this[_0x504a03(0x737)](),this['noConnection'](),Object[_0x504a03(0x34c)](this['db'],_0x2598a5['get'](_0x504a03(0x5a1))),Object['assign'](this[_0x504a03(0x452)],_0x2598a5[_0x504a03(0x489)](_0x504a03(0x787))),this[_0x504a03(0x58a)]=this['db'][_0x504a03(0x38b)]?this['repository'][_0x504a03(0x779)]?.['db'](this['db'][_0x504a03(0x595)][_0x504a03(0x292)]+_0x504a03(0x30b)):void 0x0,this[_0x504a03(0x1ff)]=this['redis'][_0x504a03(0x38b)]?new oe(this[_0x504a03(0x452)]):void 0x0);}async[a0_0xc64edb(0x386)](_0x48d617){const _0x1c4f5c=a0_0xc64edb;if(_0x48d617&&!this[_0x1c4f5c(0x185)][_0x48d617])throw new j(_0x1c4f5c(0x17c)+_0x48d617+_0x1c4f5c(0x63c));let _0x2577c3=[];for await(let [_0x1a86d8,_0x148e1f]of Object[_0x1c4f5c(0x490)](this[_0x1c4f5c(0x185)]))if(_0x148e1f&&_0x148e1f['connectionStatus'][_0x1c4f5c(0x192)]===_0x1c4f5c(0x4dc)){let _0x1820be=await this[_0x1c4f5c(0x19b)][_0x1c4f5c(0x784)][_0x1c4f5c(0x670)](_0x1a86d8);_0x2577c3[_0x1c4f5c(0x4c1)]({'instance':{'instanceName':_0x1a86d8,'apikey':_0x1820be[_0x1c4f5c(0x47e)],'owner':_0x148e1f[_0x1c4f5c(0x405)],'profileName':await _0x148e1f['getProfileName']()||_0x1c4f5c(0x4cd),'profilePictureUrl':_0x148e1f[_0x1c4f5c(0x176)]}});}return _0x2577c3[_0x1c4f5c(0x670)](_0x2142fe=>_0x2142fe[_0x1c4f5c(0x2ca)][_0x1c4f5c(0x56f)]===_0x48d617)??_0x2577c3;}async['cleaningUp'](_0xaa73aa){const _0x55f06=a0_0xc64edb;if(this['db'][_0x55f06(0x38b)]&&(await this[_0x55f06(0x19b)][_0x55f06(0x779)][_0x55f06(0x4a7)](),(await this['dbInstance'][_0x55f06(0x40d)]())[_0x55f06(0x593)]>0x0&&await this[_0x55f06(0x58a)]['dropCollection'](_0xaa73aa)),this['redis'][_0x55f06(0x38b)]){this[_0x55f06(0x1ff)][_0x55f06(0x402)]=_0xaa73aa,await this[_0x55f06(0x1ff)][_0x55f06(0x55d)]();return;}}async[a0_0xc64edb(0x312)](){const _0x2d2a6c=a0_0xc64edb;await this[_0x2d2a6c(0x3fa)]();let _0x4fd61a=async _0x7aef6b=>{const _0xe69670=_0x2d2a6c;let _0x3ef1de=new ye(this['configService'],this[_0xe69670(0x515)],this[_0xe69670(0x19b)]);_0x3ef1de['instanceName']=_0x7aef6b,await _0x3ef1de[_0xe69670(0x2a2)](),this[_0xe69670(0x185)][_0x7aef6b]=_0x3ef1de;};try{if(this['redis'][_0x2d2a6c(0x38b)]){let _0x45b999=await this[_0x2d2a6c(0x1ff)][_0x2d2a6c(0x23a)]();_0x45b999?.['length']>0x0&&_0x45b999[_0x2d2a6c(0x2d6)](async _0x4ce205=>await _0x4fd61a(_0x4ce205[_0x2d2a6c(0x13f)](':')[0x1]));return;}if(this['db'][_0x2d2a6c(0x38b)]){await this[_0x2d2a6c(0x19b)][_0x2d2a6c(0x779)][_0x2d2a6c(0x4a7)]();let _0x22cc2f=await this[_0x2d2a6c(0x58a)][_0x2d2a6c(0x40d)]();_0x22cc2f[_0x2d2a6c(0x593)]>0x0&&_0x22cc2f[_0x2d2a6c(0x2d6)](async _0x3654fa=>await _0x4fd61a(_0x3654fa[_0x2d2a6c(0x49f)][_0x2d2a6c(0x4ee)](/^[\w-]+\./,'')));return;}}catch(_0x30fcb){this[_0x2d2a6c(0x616)][_0x2d2a6c(0x170)](_0x30fcb);}}async['InstancesAsDisconnectedX'](){const _0x59fe6e=a0_0xc64edb;let _0x42138d=await this[_0x59fe6e(0x19b)][_0x59fe6e(0x784)][_0x59fe6e(0x363)](),_0x581d72=_0x42138d[_0x59fe6e(0x679)](_0x275533=>!this[_0x59fe6e(0x185)][_0x275533['_id']]&&(_0x275533['online']||typeof _0x275533[_0x59fe6e(0x5bc)]>'u'));_0x581d72[_0x59fe6e(0x593)]>0x0&&await Promise['all'](_0x581d72['map'](async _0x47799f=>{const _0x41d907=_0x59fe6e;let _0xa8a514={'online':!0x1,'lastDisconnect':Date[_0x41d907(0x550)]()};await this[_0x41d907(0x19b)][_0x41d907(0x784)][_0x41d907(0x171)](_0xa8a514,_0x47799f['_id']);}));let _0x3996d0=Date[_0x59fe6e(0x550)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x178681=_0x42138d['filter'](_0x2f208c=>!this[_0x59fe6e(0x185)][_0x2f208c[_0x59fe6e(0x782)]]&&typeof _0x2f208c[_0x59fe6e(0x740)]<'u'&&_0x2f208c['lastDisconnect']<_0x3996d0);_0x178681[_0x59fe6e(0x593)]>0x0&&await Promise[_0x59fe6e(0x503)](_0x178681[_0x59fe6e(0x483)](async _0x85c8e8=>{}));}async[a0_0xc64edb(0x3fa)](){const _0x489659=a0_0xc64edb;try{let _0x29d7bf={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x1077f0={'online':!0x1,'lastDisconnect':Date[_0x489659(0x550)]()},_0x4c9eaa=await this[_0x489659(0x19b)][_0x489659(0x784)]['updateAll'](_0x29d7bf,_0x1077f0);console['log'](_0x489659(0x57e)+_0x4c9eaa[_0x489659(0x2bb)]),await this[_0x489659(0x535)]();}catch(_0xa142a5){console[_0x489659(0x170)](_0x489659(0x650),_0xa142a5);}}async[a0_0xc64edb(0x535)](){const _0x22a7fb=a0_0xc64edb;try{let _0x38fa9d={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x203882=await this[_0x22a7fb(0x19b)]['auth'][_0x22a7fb(0x763)](_0x38fa9d);console[_0x22a7fb(0x5f3)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x203882[_0x22a7fb(0x2bb)]);}catch(_0x5855d9){console['error'](_0x22a7fb(0x732),_0x5855d9);}}[a0_0xc64edb(0x737)](){const _0x2b4ec6=a0_0xc64edb;this[_0x2b4ec6(0x515)]['on'](_0x2b4ec6(0x437),async _0x1a0068=>{const _0x12f15e=_0x2b4ec6;try{this[_0x12f15e(0x185)][_0x1a0068]=void 0x0;}catch{}try{this[_0x12f15e(0x72c)](_0x1a0068);}finally{this[_0x12f15e(0x616)][_0x12f15e(0x2b2)](_0x12f15e(0x17c)+_0x1a0068+_0x12f15e(0x56b));}});}['noConnection'](){const _0x5d0d0d=a0_0xc64edb;this['eventEmitter']['on'](_0x5d0d0d(0x466),async _0x57d622=>{const _0xce6f6=_0x5d0d0d;try{this[_0xce6f6(0x185)][_0x57d622]=void 0x0;}catch{}try{this[_0xce6f6(0x72c)](_0x57d622);}finally{this[_0xce6f6(0x616)][_0xce6f6(0x2b2)]('Instance\x20\x22'+_0x57d622+_0xce6f6(0x4e3));}});}},$t=class extends I{['getChatModelForOwner'](_0x5958a6){return Us(_0x5958a6);}async['insert'](_0x11e2f6){const _0x116fdd=a0_0xc64edb;if(_0x11e2f6['length']!==0x0)try{return{'insertCount':(await this[_0x116fdd(0x17e)](_0x11e2f6[0x0][_0x116fdd(0x62a)])[_0x116fdd(0x768)]([..._0x11e2f6]))[_0x116fdd(0x593)]};}catch(_0x1a103b){return _0x1a103b;}}async[a0_0xc64edb(0x670)](_0x24b482,_0x370819){const _0x23adf0=a0_0xc64edb;try{let _0x3a320b=this[_0x23adf0(0x17e)](_0x370819),_0x2cfb81=A(_0x24b482['where']);return await _0x3a320b['find'](_0x2cfb81)[_0x23adf0(0x604)]({'lastmsg':-0x1})[_0x23adf0(0x2c4)](_0x24b482?.['limit']??0x0)[_0x23adf0(0x482)]();}catch{return[];}}async['deleteAll'](_0x3962c2,_0x10f74c){const _0x45dcd3=a0_0xc64edb;try{return await this['getChatModelForOwner'](_0x10f74c)[_0x45dcd3(0x763)]({..._0x3962c2['where']}),[];}catch(_0x173407){return{'error':_0x173407?.['toString']()};}}async[a0_0xc64edb(0x671)](_0x15333c,_0x56189e){const _0x322a0d=a0_0xc64edb;try{let _0x3495c6=this[_0x322a0d(0x17e)](_0x56189e),_0x216d68=A(_0x15333c['where']);return await _0x3495c6['findOne'](_0x216d68)[_0x322a0d(0x482)]();}catch{return null;}}async['updateOne'](_0x5280ce,_0x19c400,_0x35a50b,_0x207884,_0x308fe9='$set'){const _0x29b8a9=a0_0xc64edb;try{let _0x560768={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x207884},_0x55ef16=this['getChatModelForOwner'](_0x35a50b),_0xb8e4d7=A(_0x5280ce[_0x29b8a9(0x174)]);Object['keys'](_0x19c400)[_0x29b8a9(0x2d6)](_0xe2db53=>{_0x19c400[_0xe2db53]==null&&delete _0x19c400[_0xe2db53];});let _0x554743={};return _0x554743[_0x308fe9]=_0x19c400,await _0x55ef16[_0x29b8a9(0x656)](_0xb8e4d7,_0x554743,_0x560768);}catch(_0x37a81f){return console[_0x29b8a9(0x170)](_0x37a81f),null;}}async[a0_0xc64edb(0x1c9)](_0x4209fd){const _0x5d5cb4=a0_0xc64edb;try{let _0x174b24=this[_0x5d5cb4(0x17e)](_0x4209fd[0x0]['query'][_0x5d5cb4(0x174)]['owner']),_0x5c9fa5=_0x4209fd[_0x5d5cb4(0x483)](_0x4f74c5=>({'updateOne':{'filter':{..._0x4f74c5[_0x5d5cb4(0x4f6)]['where']},'update':{'$set':_0x4f74c5[_0x5d5cb4(0x527)]},'upsert':!0x0}})),_0x398b8f=await _0x174b24[_0x5d5cb4(0x1d7)](_0x5c9fa5);return _0x398b8f[_0x5d5cb4(0x793)]+_0x398b8f[_0x5d5cb4(0x373)];}catch(_0xd52ae5){return console['error'](_0xd52ae5),0x0;}}async[a0_0xc64edb(0x5ed)](_0x329a12){const _0x215b57=a0_0xc64edb;try{let _0x6a034a=this[_0x215b57(0x17e)](_0x329a12),_0x219248={'labels':{'$exists':!0x0}},_0x54f275={'$unset':{'labels':''}};return(await _0x6a034a[_0x215b57(0x1c9)](_0x219248,_0x54f275))['modifiedCount'];}catch(_0x20f32b){return console[_0x215b57(0x170)](_0x20f32b),0x0;}}async[a0_0xc64edb(0x566)](_0x28dcd4){const _0x239654=a0_0xc64edb;try{let _0x376d89=this[_0x239654(0x17e)](_0x28dcd4),_0x52def9={'leadInfo.etiquetas':{'$exists':!0x1}},_0x502ea7={'$set':{'leadInfo.etiquetas':[]}};return(await _0x376d89[_0x239654(0x1c9)](_0x52def9,_0x502ea7))[_0x239654(0x793)];}catch(_0x5dcd88){return console[_0x239654(0x170)](_0x5dcd88),0x0;}}async[a0_0xc64edb(0x619)](_0x2a5237){const _0x42a176=a0_0xc64edb;try{let _0xe60bc=this['getChatModelForOwner'](_0x2a5237),_0x296012={'leadInfo.tags':{'$exists':!0x1}},_0xc63c2={'$set':{'leadInfo.tags':[]}};return(await _0xe60bc[_0x42a176(0x1c9)](_0x296012,_0xc63c2))[_0x42a176(0x793)];}catch(_0x4ee282){return console['error'](_0x4ee282),0x0;}}async[a0_0xc64edb(0x342)](_0x5813e0){const _0x3a67cf=a0_0xc64edb;try{let _0x48acb7=this['getChatModelForOwner'](_0x5813e0),_0x217cb0={'leadInfo.customFields':{'$exists':!0x1}},_0x4fd3ec={'$set':{'leadInfo.customFields':[]}};return(await _0x48acb7[_0x3a67cf(0x1c9)](_0x217cb0,_0x4fd3ec))['modifiedCount'];}catch(_0x4b0d28){return console[_0x3a67cf(0x170)](_0x4b0d28),0x0;}}async[a0_0xc64edb(0x768)](_0x564432,_0x539c42){const _0x5d4935=a0_0xc64edb;if(!Array[_0x5d4935(0x51d)](_0x564432)||_0x564432['length']===0x0)throw new Error(_0x5d4935(0x6a5));try{return(await this[_0x5d4935(0x17e)](_0x539c42)[_0x5d4935(0x768)](_0x564432))[_0x5d4935(0x593)];}catch(_0x3c75f7){throw console['error'](_0x5d4935(0x665),_0x3c75f7),_0x3c75f7;}}async[a0_0xc64edb(0x430)](_0x4e7c97,_0x3b2790){const _0x325a00=a0_0xc64edb;try{await this['getChatModelForOwner'](_0x3b2790)[_0x325a00(0x70d)]({'_id':_0x4e7c97});}catch(_0x484477){throw console[_0x325a00(0x170)](_0x325a00(0x251),_0x484477),_0x484477;}}},kt=class extends I{[a0_0xc64edb(0x288)](_0xef2b59){return ua(_0xef2b59);}async[a0_0xc64edb(0x41e)](_0x2f9cdb,_0x2dd7ed,_0xc4dbdc,_0x4351e4){const _0xf292be=a0_0xc64edb;try{let _0x18c9c6={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4351e4},_0xc966b6=this[_0xf292be(0x288)](_0xc4dbdc),_0x272bae=A(_0x2f9cdb[_0xf292be(0x174)]);return await _0xc966b6[_0xf292be(0x656)](_0x272bae,{'$set':_0x2dd7ed},_0x18c9c6);}catch(_0x12fed4){return console[_0xf292be(0x170)](_0x12fed4),null;}}async[a0_0xc64edb(0x670)](_0x2ee829,_0x47d09e){const _0x12a493=a0_0xc64edb;try{let _0x2b2798=this[_0x12a493(0x288)](_0x47d09e),_0x13e465=A(_0x2ee829[_0x12a493(0x174)]);return await _0x2b2798[_0x12a493(0x670)](_0x13e465);}catch(_0x4de6ff){console[_0x12a493(0x170)](_0x4de6ff);}}async[a0_0xc64edb(0x57d)](_0x3a8f01,_0x38c25b){const _0xd3f782=a0_0xc64edb;try{let _0x3e90b3=this['getLabelModelForOwner'](_0x38c25b),_0x4fd8bf=A(_0x3a8f01[_0xd3f782(0x174)]);await _0x3e90b3[_0xd3f782(0x763)](_0x4fd8bf);}catch(_0xf4057){console[_0xd3f782(0x170)](_0xf4057);}}async[a0_0xc64edb(0x79c)](_0xa4c9b8){const _0x1c9a7f=a0_0xc64edb;try{return await this[_0x1c9a7f(0x288)](_0xa4c9b8)['collection'][_0x1c9a7f(0x1c8)](),{'success':!0x0};}catch(_0x269e51){return console['error'](_0x269e51),{'success':!0x1,'error':_0x269e51};}}},Lt=class{constructor(_0x35eb1e){const _0x563794=a0_0xc64edb;this[_0x563794(0x6bb)]=_0x35eb1e;}async[a0_0xc64edb(0x741)]({instanceName:_0x5127c4},_0x391e91){const _0x29535c=a0_0xc64edb;return await this[_0x29535c(0x6bb)]['waInstances'][_0x5127c4]['editChat'](_0x391e91);}async[a0_0xc64edb(0x4ad)]({instanceName:_0x1dcd8c},_0x368870){const _0x28a8ee=a0_0xc64edb;return await this['waMonitor'][_0x28a8ee(0x185)][_0x1dcd8c]['whatsappNumber'](_0x368870);}async[a0_0xc64edb(0x794)]({instanceName:_0x1746f6},_0x7f0d78){const _0x3c479a=a0_0xc64edb;return await this[_0x3c479a(0x6bb)]['waInstances'][_0x1746f6][_0x3c479a(0x794)](_0x7f0d78);}async[a0_0xc64edb(0x180)]({instanceName:_0xf5b720},_0x21755d){const _0x3e7368=a0_0xc64edb;return await this[_0x3e7368(0x6bb)][_0x3e7368(0x185)][_0xf5b720][_0x3e7368(0x614)](_0x21755d);}async[a0_0xc64edb(0x571)]({instanceName:_0x4ba9e6},_0x230821){const _0x2df177=a0_0xc64edb;return await this[_0x2df177(0x6bb)]['waInstances'][_0x4ba9e6][_0x2df177(0x571)](_0x230821);}async[a0_0xc64edb(0x653)]({instanceName:_0x19b2a4},_0x24ad86){const _0x55c351=a0_0xc64edb;return await this[_0x55c351(0x6bb)][_0x55c351(0x185)][_0x19b2a4][_0x55c351(0x653)](_0x24ad86);}async[a0_0xc64edb(0x668)]({instanceName:_0x4607ba},_0x462b8d){const _0x120ec0=a0_0xc64edb;return await this[_0x120ec0(0x6bb)][_0x120ec0(0x185)][_0x4607ba][_0x120ec0(0x4ea)](_0x462b8d['number']);}async['fetchProfile']({instanceName:_0x2fce7e},_0x3c5c6a){const _0x2137ab=a0_0xc64edb;return await this['waMonitor'][_0x2137ab(0x185)][_0x2fce7e][_0x2137ab(0x75c)](_0x3c5c6a[_0x2137ab(0x5d4)]);}async['updatePresence']({instanceName:_0x83c6a0},_0x32fa09){const _0x4c0d34=a0_0xc64edb;return await this[_0x4c0d34(0x6bb)][_0x4c0d34(0x185)][_0x83c6a0][_0x4c0d34(0x24e)](_0x32fa09);}async['fetchContacts']({instanceName:_0xf6b5},_0x3f7cb7){const _0x147f7e=a0_0xc64edb;return await this[_0x147f7e(0x6bb)]['waInstances'][_0xf6b5]['fetchContacts'](_0x3f7cb7);}async[a0_0xc64edb(0x2ff)]({instanceName:_0x523a69},_0x374151){const _0x1f9a86=a0_0xc64edb;return await this[_0x1f9a86(0x6bb)]['waInstances'][_0x523a69][_0x1f9a86(0x2ff)](_0x374151);}async[a0_0xc64edb(0x49d)]({instanceName:_0x250f83},_0x4c19ea){const _0x5a870f=a0_0xc64edb;return await this[_0x5a870f(0x6bb)][_0x5a870f(0x185)][_0x250f83]['fetchMessages'](_0x4c19ea);}async[a0_0xc64edb(0x1f8)]({instanceName:_0x2418f5}){const _0x33f95e=a0_0xc64edb;return await this['waMonitor'][_0x33f95e(0x185)][_0x2418f5][_0x33f95e(0x1f8)]();}async[a0_0xc64edb(0x1bd)]({instanceName:_0x370682}){const _0x42a1ff=a0_0xc64edb;return await this[_0x42a1ff(0x6bb)][_0x42a1ff(0x185)][_0x370682][_0x42a1ff(0x1bd)]();}async['fetchPrivacySettings']({instanceName:_0x35d203}){const _0x234dae=a0_0xc64edb;return await this['waMonitor']['waInstances'][_0x35d203][_0x234dae(0x528)]();}async['updatePrivacySettings']({instanceName:_0x17c517},_0x33219c){const _0x42e444=a0_0xc64edb;return await this[_0x42e444(0x6bb)][_0x42e444(0x185)][_0x17c517][_0x42e444(0x456)](_0x33219c);}async[a0_0xc64edb(0x5fd)]({instanceName:_0x54d6e3},_0x77edbe){const _0x51ccc1=a0_0xc64edb;return await this[_0x51ccc1(0x6bb)][_0x51ccc1(0x185)][_0x54d6e3][_0x51ccc1(0x5fd)](_0x77edbe[_0x51ccc1(0x5d4)]);}async['updateProfileName']({instanceName:_0x4a73a6},_0x40efd4){const _0x2ef6c8=a0_0xc64edb;return await this[_0x2ef6c8(0x6bb)][_0x2ef6c8(0x185)][_0x4a73a6][_0x2ef6c8(0x71a)](_0x40efd4[_0x2ef6c8(0x219)]);}async[a0_0xc64edb(0x3a1)]({instanceName:_0x5f4843},_0x1b9e3c){const _0x42eec3=a0_0xc64edb;return await this['waMonitor']['waInstances'][_0x5f4843][_0x42eec3(0x3a1)](_0x1b9e3c[_0x42eec3(0x23b)]);}async[a0_0xc64edb(0x2c0)]({instanceName:_0x137f91},_0x3f45a4){const _0x2649b4=a0_0xc64edb;return await this[_0x2649b4(0x6bb)]['waInstances'][_0x137f91][_0x2649b4(0x2c0)](_0x3f45a4['picture']);}async['removeProfilePicture']({instanceName:_0x21de59},_0x3d05ac){const _0x3c55b7=a0_0xc64edb;return await this[_0x3c55b7(0x6bb)][_0x3c55b7(0x185)][_0x21de59][_0x3c55b7(0x1e4)]();}},Ns=require('@whiskeysockets/baileys'),jt=class c{constructor(_0x387374,_0xea1142,_0x5c2356,_0x2775c7,_0x5d00dd){const _0x188058=a0_0xc64edb;this[_0x188058(0x6bb)]=_0x387374,this['configService']=_0xea1142,this[_0x188058(0x19b)]=_0x5c2356,this[_0x188058(0x515)]=_0x2775c7,this[_0x188058(0x204)]=_0x5d00dd,this[_0x188058(0x616)]=new v(c[_0x188058(0x219)]);}async['createInstance']({instanceName:_0x392f09,apikey:_0x1dc411,number:_0x3e48f4,proxy:_0x4f9f8a=!0x0}){const _0x10d274=a0_0xc64edb;try{let _0x193f04=new ye(this[_0x10d274(0x46b)],this[_0x10d274(0x515)],this[_0x10d274(0x19b)]);_0x193f04[_0x10d274(0x56f)]=_0x392f09,this[_0x10d274(0x6bb)][_0x10d274(0x185)][_0x193f04[_0x10d274(0x56f)]]=_0x193f04;let _0x247964={};_0x1dc411?(await this['repository'][_0x10d274(0x784)]['create']({'apikey':_0x1dc411},_0x392f09),_0x247964[_0x10d274(0x47e)]=_0x1dc411):_0x247964=await this[_0x10d274(0x204)][_0x10d274(0x5ad)]({'instanceName':_0x193f04['instanceName']});let _0x9f916d;return await _0x193f04[_0x10d274(0x2a2)](_0x3e48f4,_0x4f9f8a),await(0x0,Ns[_0x10d274(0x431)])(0x7d0),_0x9f916d=_0x193f04[_0x10d274(0x55c)],{'instance':{'instanceName':_0x193f04[_0x10d274(0x56f)],'status':_0x10d274(0x6d7)},'hash':_0x247964,'qrcode':_0x9f916d};}catch(_0x56c1de){this[_0x10d274(0x616)][_0x10d274(0x170)](_0x56c1de);}}async[a0_0xc64edb(0x1b1)]({instanceName:_0x3164a3,number:_0x56153d=null,proxy:_0x3fe343=!0x0}){const _0x28cada=a0_0xc64edb;try{let _0x1d486f=this[_0x28cada(0x6bb)][_0x28cada(0x185)][_0x3164a3];switch(_0x1d486f?.[_0x28cada(0x50f)]?.[_0x28cada(0x192)]){case _0x28cada(0x2d8):return await _0x1d486f['connectToWhatsapp'](_0x56153d,_0x3fe343),await(0x0,Ns[_0x28cada(0x431)])(0x7d0),_0x1d486f['qrCode'];case _0x28cada(0x2d3):return _0x1d486f[_0x28cada(0x55c)];default:return await this[_0x28cada(0x20d)]({'instanceName':_0x3164a3});}}catch(_0x4058c7){this[_0x28cada(0x616)]['log'](_0x4058c7);}}async['connectionState']({instanceName:_0x50e575}){const _0x52efc3=a0_0xc64edb;let _0x106f10=this[_0x52efc3(0x6bb)][_0x52efc3(0x185)][_0x50e575][_0x52efc3(0x50f)],_0x357939=null;_0x106f10[_0x52efc3(0x192)]==='open'&&_0x50e575&&(_0x357939=await this[_0x52efc3(0x6bb)]['instanceInfo'](_0x50e575));let _0x5e62a8=null;return _0x106f10['state']==='connecting'&&_0x50e575&&(_0x5e62a8=this[_0x52efc3(0x6bb)][_0x52efc3(0x185)][_0x50e575][_0x52efc3(0x55c)]),{'instance':_0x50e575,'connectionStatus':_0x106f10,'instanceInfo':_0x357939,'qrcode':_0x5e62a8};}async[a0_0xc64edb(0x1cd)]({instanceName:_0x4ddcc8}){const _0x4ad374=a0_0xc64edb;try{return this[_0x4ad374(0x6bb)]['waInstances'][_0x4ddcc8]?.[_0x4ad374(0x4e7)]?.['ws']?.[_0x4ad374(0x2d8)](),{'status':_0x4ad374(0x5bb),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0xfbf26f){this[_0x4ad374(0x616)][_0x4ad374(0x170)](_0xfbf26f);}}async[a0_0xc64edb(0x3e4)]({instanceName:_0x57402b}){const _0x322616=a0_0xc64edb;return _0x57402b?this[_0x322616(0x6bb)][_0x322616(0x386)](_0x57402b):this['waMonitor']['instanceInfo']();}async[a0_0xc64edb(0x1b0)]({instanceName:_0x5f0f60}){const _0x27b03f=a0_0xc64edb;try{return await this[_0x27b03f(0x6bb)][_0x27b03f(0x185)][_0x5f0f60]?.[_0x27b03f(0x4e7)]?.['logout'](_0x27b03f(0x1a6)+_0x5f0f60),{'error':!0x1,'message':_0x27b03f(0x166)};}catch(_0x2b7f9b){throw new O(_0x2b7f9b[_0x27b03f(0x289)]());}}async['deleteInstance']({instanceName:_0x574121}){const _0x4a8672=a0_0xc64edb;if((await this[_0x4a8672(0x20d)]({'instanceName':_0x574121}))[_0x4a8672(0x50f)][_0x4a8672(0x192)]===_0x4a8672(0x4dc))throw new m(['Deletion\x20failed',_0x4a8672(0x1b6)]);try{return delete this['waMonitor'][_0x4a8672(0x185)][_0x574121],{'error':!0x1,'message':_0x4a8672(0x5b3)};}catch(_0x3db264){throw new m(_0x3db264[_0x4a8672(0x289)]());}}},Z=require('class-validator'),Ft=class{constructor(_0x2e09fb){const _0x42722e=a0_0xc64edb;this[_0x42722e(0x6bb)]=_0x2e09fb;}async[a0_0xc64edb(0x601)]({instanceName:_0xcf0d65},_0x1196cd){const _0x5b42d1=a0_0xc64edb;return await this[_0x5b42d1(0x6bb)][_0x5b42d1(0x185)][_0xcf0d65][_0x5b42d1(0x461)](_0x1196cd);}async['sendMenu']({instanceName:_0x20204e},_0x330011){const _0x56dd96=a0_0xc64edb;return await this['waMonitor'][_0x56dd96(0x185)][_0x20204e][_0x56dd96(0x717)](_0x330011);}async['sendMedia']({instanceName:_0x3431b9},_0x308e98){const _0x5c8ad5=a0_0xc64edb;if((0x0,Z[_0x5c8ad5(0x4e9)])(_0x308e98?.[_0x5c8ad5(0x220)]?.[_0x5c8ad5(0x47b)])&&!_0x308e98?.[_0x5c8ad5(0x220)]?.[_0x5c8ad5(0x775)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,Z[_0x5c8ad5(0x4f1)])(_0x308e98?.[_0x5c8ad5(0x220)]?.[_0x5c8ad5(0x47b)])||(0x0,Z[_0x5c8ad5(0x4e9)])(_0x308e98?.['mediaMessage']?.[_0x5c8ad5(0x47b)]))return await this['waMonitor'][_0x5c8ad5(0x185)][_0x3431b9][_0x5c8ad5(0x220)](_0x308e98);throw new m(_0x5c8ad5(0x6e9));}async['sendSticker']({instanceName:_0x3a61b8},_0x3f4ecf){const _0x20c061=a0_0xc64edb;if((0x0,Z[_0x20c061(0x4f1)])(_0x3f4ecf[_0x20c061(0x230)]['image'])||(0x0,Z['isBase64'])(_0x3f4ecf['stickerMessage']['image']))return await this[_0x20c061(0x6bb)]['waInstances'][_0x3a61b8]['mediaSticker'](_0x3f4ecf);throw new m(_0x20c061(0x6e9));}async['sendWhatsAppAudio']({instanceName:_0x357eac},_0x523ada){const _0x46974b=a0_0xc64edb;if((0x0,Z['isURL'])(_0x523ada[_0x46974b(0x584)][_0x46974b(0x73a)])||(0x0,Z[_0x46974b(0x4e9)])(_0x523ada[_0x46974b(0x584)][_0x46974b(0x73a)]))return await this[_0x46974b(0x6bb)][_0x46974b(0x185)][_0x357eac]['audioWhatsapp'](_0x523ada);throw new m(_0x46974b(0x6e9));}async['sendButtons']({instanceName:_0x496f0b},_0x1f1fba){const _0x175aa9=a0_0xc64edb;if((0x0,Z['isBase64'])(_0x1f1fba[_0x175aa9(0x3f8)][_0x175aa9(0x220)]?.[_0x175aa9(0x47b)])&&!_0x1f1fba['buttonMessage']['mediaMessage']?.[_0x175aa9(0x775)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x175aa9(0x6bb)][_0x175aa9(0x185)][_0x496f0b]['buttonMessage'](_0x1f1fba);}async[a0_0xc64edb(0x693)]({instanceName:_0x572b69},_0x2ea80c){const _0x40359e=a0_0xc64edb;return await this[_0x40359e(0x6bb)][_0x40359e(0x185)][_0x572b69]['locationMessage'](_0x2ea80c);}async[a0_0xc64edb(0x19e)]({instanceName:_0x3bdf1f},_0x3c2597){const _0x402b0b=a0_0xc64edb;return await this[_0x402b0b(0x6bb)][_0x402b0b(0x185)][_0x3bdf1f][_0x402b0b(0x6c5)](_0x3c2597);}async[a0_0xc64edb(0x673)]({instanceName:_0x3e0dee},_0x5410de){const _0x2ea286=a0_0xc64edb;return await this['waMonitor']['waInstances'][_0x3e0dee][_0x2ea286(0x757)](_0x5410de);}async[a0_0xc64edb(0x322)]({instanceName:_0x3ba89d},_0x23060d){const _0x17fbde=a0_0xc64edb;return await this[_0x17fbde(0x6bb)][_0x17fbde(0x185)][_0x3ba89d][_0x17fbde(0x613)](_0x23060d);}async[a0_0xc64edb(0x698)]({instanceName:_0x33e9a3},_0x1b24b2){const _0x34ea21=a0_0xc64edb;if(!_0x1b24b2[_0x34ea21(0x5cf)][_0x34ea21(0x661)][_0x34ea21(0x5a3)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x34ea21(0x6bb)][_0x34ea21(0x185)][_0x33e9a3][_0x34ea21(0x5cf)](_0x1b24b2);}async[a0_0xc64edb(0x4a8)]({instanceName:_0x5b1bca},_0x385177){const _0x4a45dc=a0_0xc64edb;return await this['waMonitor'][_0x4a45dc(0x185)][_0x5b1bca][_0x4a45dc(0x507)](_0x385177);}},Co=require('jsonwebtoken'),Rs=require(a0_0xc64edb(0x423)),qt=class c{constructor(_0x1f3002,_0x3915ca,_0x315b84){const _0x23fa51=a0_0xc64edb;this[_0x23fa51(0x46b)]=_0x1f3002,this['waMonitor']=_0x3915ca,this[_0x23fa51(0x19b)]=_0x315b84,this[_0x23fa51(0x616)]=new v(c[_0x23fa51(0x219)]);}async['jwt'](_0x40de84){const _0x49f9d6=a0_0xc64edb;let _0x3a3f28=this['configService'][_0x49f9d6(0x489)](_0x49f9d6(0x69c))[_0x49f9d6(0x49b)],_0x58c73f=(0x0,Co[_0x49f9d6(0x244)])({'instanceName':_0x40de84[_0x49f9d6(0x56f)],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x3a3f28[_0x49f9d6(0x395)],{'expiresIn':_0x3a3f28[_0x49f9d6(0x617)],'encoding':_0x49f9d6(0x2cc),'subject':_0x49f9d6(0x391)}),_0x334402=await this[_0x49f9d6(0x19b)][_0x49f9d6(0x784)][_0x49f9d6(0x171)]({'jwt':_0x58c73f},_0x40de84[_0x49f9d6(0x56f)]);if(_0x334402[_0x49f9d6(0x170)])throw this[_0x49f9d6(0x616)][_0x49f9d6(0x170)]({'localError':c[_0x49f9d6(0x219)]+'.jwt','error':_0x334402[_0x49f9d6(0x170)]}),new m(_0x49f9d6(0x26c),_0x334402[_0x49f9d6(0x170)]?.[_0x49f9d6(0x289)]());return{'jwt':_0x58c73f};}async[a0_0xc64edb(0x47e)](_0x409490){const _0x382572=a0_0xc64edb;let _0x5302c7=(0x0,Rs['v4'])()[_0x382572(0x1c0)](),_0x4695d9=await this[_0x382572(0x19b)][_0x382572(0x784)][_0x382572(0x171)]({'apikey':_0x5302c7},_0x409490['instanceName']);if(_0x4695d9[_0x382572(0x170)])throw this[_0x382572(0x616)][_0x382572(0x170)]({'localError':c['name']+'.jwt','error':_0x4695d9['error']}),new m(_0x382572(0x26c),_0x4695d9[_0x382572(0x170)]?.[_0x382572(0x289)]());return{'apikey':_0x5302c7};}async[a0_0xc64edb(0x5ad)](_0x24b35c){const _0x1169d0=a0_0xc64edb;let _0x501c75=this[_0x1169d0(0x46b)]['get'](_0x1169d0(0x69c));return await this[_0x501c75[_0x1169d0(0x406)]](_0x24b35c);}},Ut=class{constructor(_0x1d18af){this['waMonitor']=_0x1d18af;}async[a0_0xc64edb(0x5e7)](_0x24eabf,_0x328666){const _0xeefce4=a0_0xc64edb;return await this[_0xeefce4(0x6bb)][_0xeefce4(0x185)][_0x24eabf[_0xeefce4(0x56f)]][_0xeefce4(0x5e7)](_0x328666);}async[a0_0xc64edb(0x58e)](_0x1307c8,_0x1830e2){const _0x43db79=a0_0xc64edb;return await this['waMonitor'][_0x43db79(0x185)][_0x1307c8[_0x43db79(0x56f)]][_0x43db79(0x58e)](_0x1830e2);}async[a0_0xc64edb(0x519)](_0x4c4a97,_0x3ba3ed){const _0x508ae2=a0_0xc64edb;return await this['waMonitor'][_0x508ae2(0x185)][_0x4c4a97[_0x508ae2(0x56f)]][_0x508ae2(0x519)](_0x3ba3ed);}async[a0_0xc64edb(0x6e4)](_0x335be7,_0x12a691){const _0x42c9ee=a0_0xc64edb;return await this[_0x42c9ee(0x6bb)][_0x42c9ee(0x185)][_0x335be7[_0x42c9ee(0x56f)]][_0x42c9ee(0x6e4)](_0x12a691);}async[a0_0xc64edb(0x2de)](_0x1cd173,_0x206ddb){const _0x538842=a0_0xc64edb;return await this['waMonitor'][_0x538842(0x185)][_0x1cd173[_0x538842(0x56f)]][_0x538842(0x2de)](_0x206ddb);}async[a0_0xc64edb(0x4fe)](_0x3b11a0,_0x14452f){const _0x29f80f=a0_0xc64edb;return await this[_0x29f80f(0x6bb)][_0x29f80f(0x185)][_0x3b11a0['instanceName']][_0x29f80f(0x2aa)](_0x14452f);}async[a0_0xc64edb(0x66e)](_0x583ad8){const _0x2ca840=a0_0xc64edb;return await this[_0x2ca840(0x6bb)][_0x2ca840(0x185)][_0x583ad8[_0x2ca840(0x56f)]][_0x2ca840(0x66e)]();}async['inviteCode'](_0x3a6845,_0x4ad7b1){const _0x13bdb2=a0_0xc64edb;return await this[_0x13bdb2(0x6bb)][_0x13bdb2(0x185)][_0x3a6845['instanceName']][_0x13bdb2(0x214)](_0x4ad7b1);}async['joinGroup'](_0x1b9839,_0xf8c8ee){const _0x1291aa=a0_0xc64edb;return await this[_0x1291aa(0x6bb)][_0x1291aa(0x185)][_0x1b9839[_0x1291aa(0x56f)]][_0x1291aa(0x2f8)](_0xf8c8ee);}async[a0_0xc64edb(0x1b9)](_0x13a1a4,_0x5da84b){const _0x3bc921=a0_0xc64edb;return await this[_0x3bc921(0x6bb)][_0x3bc921(0x185)][_0x13a1a4[_0x3bc921(0x56f)]][_0x3bc921(0x1b9)](_0x5da84b);}async['findParticipants'](_0x17df20,_0xf23f0f){const _0x1e9e6c=a0_0xc64edb;return await this[_0x1e9e6c(0x6bb)][_0x1e9e6c(0x185)][_0x17df20[_0x1e9e6c(0x56f)]][_0x1e9e6c(0x6ad)](_0xf23f0f);}async[a0_0xc64edb(0x348)](_0xee1f76,_0x500b8d){const _0x12adba=a0_0xc64edb;return await this[_0x12adba(0x6bb)][_0x12adba(0x185)][_0xee1f76[_0x12adba(0x56f)]]['updateGParticipant'](_0x500b8d);}async[a0_0xc64edb(0x62c)](_0x738bc9,_0x481622){const _0x470ffb=a0_0xc64edb;return await this['waMonitor']['waInstances'][_0x738bc9[_0x470ffb(0x56f)]][_0x470ffb(0x62c)](_0x481622);}async[a0_0xc64edb(0x720)](_0x570b36,_0x11a457){const _0x32843b=a0_0xc64edb;return await this[_0x32843b(0x6bb)][_0x32843b(0x185)][_0x570b36[_0x32843b(0x56f)]][_0x32843b(0x720)](_0x11a457);}},Jt=class{constructor(_0x4b79b8){this['waMonitor']=_0x4b79b8;}['create'](_0x1d07fd,_0x3c84ba){const _0x31aaeb=a0_0xc64edb;return this['waMonitor'][_0x31aaeb(0x185)][_0x1d07fd['instanceName']][_0x31aaeb(0x725)](_0x3c84ba);}async[a0_0xc64edb(0x670)](_0x1c6cd3){const _0x593342=a0_0xc64edb;try{return await this[_0x593342(0x6bb)][_0x593342(0x185)][_0x1c6cd3[_0x593342(0x56f)]][_0x593342(0x28d)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0xc64edb(0x3e5)),Vt=class{constructor(_0x4d207f){const _0x213bb3=a0_0xc64edb;this[_0x213bb3(0x6bb)]=_0x4d207f;}async[a0_0xc64edb(0x25c)](_0x1878d1,_0x53109d){const _0x2f57e3=a0_0xc64edb;return await this['waMonitor'][_0x2f57e3(0x185)][_0x1878d1['instanceName']][_0x2f57e3(0x25c)](_0x53109d);}async['getScheduleMessage'](_0x2e96a0){const _0x3ad655=a0_0xc64edb;return await this[_0x3ad655(0x6bb)][_0x3ad655(0x185)][_0x2e96a0[_0x3ad655(0x56f)]]['getScheduleMessage']();}async['deleteDoneMessages'](_0x146397){const _0x4bd3cf=a0_0xc64edb;return await this[_0x4bd3cf(0x6bb)][_0x4bd3cf(0x185)][_0x146397[_0x4bd3cf(0x56f)]][_0x4bd3cf(0x229)]();}async[a0_0xc64edb(0x6e1)](_0x4f643d){const _0x1981cf=a0_0xc64edb;return await this[_0x1981cf(0x6bb)]['waInstances'][_0x4f643d[_0x1981cf(0x56f)]][_0x1981cf(0x6e1)]();}async[a0_0xc64edb(0x1ad)](_0x3c5a9d,_0x5795a6){const _0x41919a=a0_0xc64edb;return await this['waMonitor'][_0x41919a(0x185)][_0x3c5a9d[_0x41919a(0x56f)]][_0x41919a(0x1ad)](_0x5795a6);}async[a0_0xc64edb(0x335)](_0x59a439,_0xf1e7b2){const _0x22671f=a0_0xc64edb;return await this['waMonitor'][_0x22671f(0x185)][_0x59a439[_0x22671f(0x56f)]][_0x22671f(0x335)](_0xf1e7b2);}async[a0_0xc64edb(0x6a8)](_0x2962d3,_0x1c759c){const _0x2f778d=a0_0xc64edb;return await this['waMonitor']['waInstances'][_0x2962d3[_0x2f778d(0x56f)]][_0x2f778d(0x6a8)](_0x1c759c);}async[a0_0xc64edb(0x3f6)](_0x1af698,_0x150b52){const _0x42291a=a0_0xc64edb;return await this['waMonitor'][_0x42291a(0x185)][_0x1af698['instanceName']][_0x42291a(0x3f6)](_0x150b52);}async[a0_0xc64edb(0x6ae)](_0x33679b,_0x4a9968){const _0x4614da=a0_0xc64edb;return await this[_0x4614da(0x6bb)][_0x4614da(0x185)][_0x33679b[_0x4614da(0x56f)]][_0x4614da(0x6ae)](_0x4a9968);}async['fetchConversation'](_0x222916,_0x43d64c){const _0x4b79f7=a0_0xc64edb;return await this[_0x4b79f7(0x6bb)][_0x4b79f7(0x185)][_0x222916[_0x4b79f7(0x56f)]]['fetchConversation'](_0x43d64c);}async[a0_0xc64edb(0x331)](_0x3c2574,_0x9fe98f){const _0x397d71=a0_0xc64edb;return await this[_0x397d71(0x6bb)][_0x397d71(0x185)][_0x3c2574[_0x397d71(0x56f)]][_0x397d71(0x331)](_0x9fe98f);}async['deleteConversation'](_0x4d6eee,_0x4f95b6){const _0x6102e5=a0_0xc64edb;return await this['waMonitor'][_0x6102e5(0x185)][_0x4d6eee[_0x6102e5(0x56f)]][_0x6102e5(0x513)](_0x4f95b6);}async[a0_0xc64edb(0x319)](_0x21a8c0,_0x3694c4){const _0x49aded=a0_0xc64edb;return await this[_0x49aded(0x6bb)][_0x49aded(0x185)][_0x21a8c0[_0x49aded(0x56f)]]['getFlow'](_0x3694c4['name']);}async['createFlow'](_0x36f49b,_0x5ed41f){const _0x11f9db=a0_0xc64edb;return await this[_0x11f9db(0x6bb)][_0x11f9db(0x185)][_0x36f49b[_0x11f9db(0x56f)]][_0x11f9db(0x716)](_0x5ed41f);}async[a0_0xc64edb(0x721)](_0x43b871,_0x30b091){const _0x10a66b=a0_0xc64edb;return await this[_0x10a66b(0x6bb)][_0x10a66b(0x185)][_0x43b871[_0x10a66b(0x56f)]][_0x10a66b(0x721)](_0x30b091);}async[a0_0xc64edb(0x688)](_0x5be272,_0x107fc2){const _0x58e9dc=a0_0xc64edb;return await this[_0x58e9dc(0x6bb)]['waInstances'][_0x5be272[_0x58e9dc(0x56f)]][_0x58e9dc(0x688)](_0x107fc2);}async['editFlowReply'](_0x56c43f,_0x1500a1){const _0x37431d=a0_0xc64edb;return await this[_0x37431d(0x6bb)][_0x37431d(0x185)][_0x56c43f[_0x37431d(0x56f)]][_0x37431d(0x667)](_0x1500a1);}async[a0_0xc64edb(0x18f)](_0x47eb10,_0x54d861){const _0x2bff44=a0_0xc64edb;return await this['waMonitor'][_0x2bff44(0x185)][_0x47eb10[_0x2bff44(0x56f)]]['editFlowGroup'](_0x54d861);}async[a0_0xc64edb(0x46f)](_0x4d58ce,_0x239d0c){const _0x1df896=a0_0xc64edb;return await this[_0x1df896(0x6bb)][_0x1df896(0x185)][_0x4d58ce[_0x1df896(0x56f)]][_0x1df896(0x46f)](_0x239d0c);}async[a0_0xc64edb(0x460)](_0x2d7f18,_0xfc803b){const _0xd3b142=a0_0xc64edb;return await this[_0xd3b142(0x6bb)][_0xd3b142(0x185)][_0x2d7f18[_0xd3b142(0x56f)]][_0xd3b142(0x460)](_0xfc803b);}async[a0_0xc64edb(0x31c)](_0x3e7542,_0x235477){const _0x306b4e=a0_0xc64edb;return await this['waMonitor'][_0x306b4e(0x185)][_0x3e7542['instanceName']]['editFlowVariable'](_0x235477);}async[a0_0xc64edb(0x232)](_0xa6f8db,_0x4a8884){const _0xe5e903=a0_0xc64edb;return await this[_0xe5e903(0x6bb)][_0xe5e903(0x185)][_0xa6f8db[_0xe5e903(0x56f)]][_0xe5e903(0x232)](_0x4a8884[_0xe5e903(0x219)]);}async[a0_0xc64edb(0x3b7)](_0x550f4f){const _0x23fbd5=a0_0xc64edb;return await this[_0x23fbd5(0x6bb)][_0x23fbd5(0x185)][_0x550f4f[_0x23fbd5(0x56f)]]['allFlows']();}},Bt=class{constructor(_0x3d358d){const _0x3e9d6c=a0_0xc64edb;this[_0x3e9d6c(0x33b)]=_0x3d358d;}async[a0_0xc64edb(0x6d4)](_0x4e0248,_0x427cf7){return this['webhookService']['create'](_0x4e0248,_0x427cf7);}async[a0_0xc64edb(0x28d)](_0x3fde53){const _0x2d4980=a0_0xc64edb;return this[_0x2d4980(0x33b)][_0x2d4980(0x670)](_0x3fde53);}},Gt=class extends I{constructor(_0x5bc8b9,_0x50ff3d){const _0x46b1e7=a0_0xc64edb;super(_0x50ff3d),this[_0x46b1e7(0x1dc)]=_0x5bc8b9,this[_0x46b1e7(0x46b)]=_0x50ff3d;}async[a0_0xc64edb(0x171)](_0x37160d,_0x4715b7){const _0x58e5ad=a0_0xc64edb;try{return this[_0x58e5ad(0x3ba)]['ENABLED']?{'insertCount':(await this[_0x58e5ad(0x1dc)][_0x58e5ad(0x163)]({'_id':_0x4715b7},{..._0x37160d},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x173f6d){return _0x173f6d;}}async[a0_0xc64edb(0x57d)](_0x184715){const _0x50f3f0=a0_0xc64edb;try{if(this[_0x50f3f0(0x3ba)][_0x50f3f0(0x38b)]){await this[_0x50f3f0(0x1dc)]['deleteOne']({'_id':_0x184715});return;}}catch(_0x52d969){return{'error':_0x52d969};}}async[a0_0xc64edb(0x670)](_0xd38e2){const _0x3c60da=a0_0xc64edb;try{if(this[_0x3c60da(0x3ba)][_0x3c60da(0x38b)])return await this['webhookModel']['findOne']({'_id':_0xd38e2});}catch{return{};}}},Wt=class extends I{constructor(_0x47ca3b,_0x6e6c0c){const _0xe1c3=a0_0xc64edb;super(_0x6e6c0c),this[_0xe1c3(0x2fd)]=_0x47ca3b,this[_0xe1c3(0x46b)]=_0x6e6c0c,this[_0xe1c3(0x784)]=_0x6e6c0c[_0xe1c3(0x489)]('AUTHENTICATION');}async['create'](_0x56f9a5,_0x1be519){const _0xaf705a=a0_0xc64edb;try{if(this[_0xaf705a(0x3ba)][_0xaf705a(0x38b)])return{'insertCount':(await this['authModel']['updateOne']({'_id':_0x1be519},{'$set':{..._0x56f9a5}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x195479){return{'error':_0x195479};}}async[a0_0xc64edb(0x2ce)](_0x1db113,_0x577bee){const _0x1813ce=a0_0xc64edb;try{if(this[_0x1813ce(0x3ba)][_0x1813ce(0x38b)])return{'insertCount':(await this[_0x1813ce(0x2fd)][_0x1813ce(0x1c9)](_0x1db113,{'$set':_0x577bee},{'upsert':!0x1}))[_0x1813ce(0x793)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x465eb2){return{'error':_0x465eb2};}}async[a0_0xc64edb(0x763)](_0x4b3219){const _0x50f343=a0_0xc64edb;try{if(this[_0x50f343(0x3ba)][_0x50f343(0x38b)])return{'insertCount':(await this['authModel'][_0x50f343(0x763)](_0x4b3219))[_0x50f343(0x70c)]};throw new Error(_0x50f343(0x401));}catch(_0x35f62b){return{'error':_0x35f62b};}}async['delete'](_0x19f696){const _0x2933c1=a0_0xc64edb;try{if(this[_0x2933c1(0x3ba)][_0x2933c1(0x38b)]){await this[_0x2933c1(0x2fd)]['deleteOne']({'_id':_0x19f696});return;}}catch(_0x536bd9){return{'error':_0x536bd9};}}async['find'](_0x32c58a){const _0x1eae88=a0_0xc64edb;try{if(this[_0x1eae88(0x3ba)][_0x1eae88(0x38b)])return await this[_0x1eae88(0x2fd)][_0x1eae88(0x671)]({'_id':_0x32c58a});}catch{return{};}}async[a0_0xc64edb(0x363)](){const _0x3e158d=a0_0xc64edb;try{if(this[_0x3e158d(0x3ba)][_0x3e158d(0x38b)])return await this['authModel'][_0x3e158d(0x670)]();}catch{return[];}}},zt=class extends I{[a0_0xc64edb(0x6fa)](_0x25be83){return ta(_0x25be83);}async[a0_0xc64edb(0x5d9)](_0x27ede3){const _0x1be977=a0_0xc64edb;try{let _0x3c1ef8=sa,_0x3183b9=this[_0x1be977(0x6fa)](_0x27ede3),_0x11c807=await _0x3c1ef8[_0x1be977(0x670)]({'owner':_0x27ede3})['lean'](),_0x121cf9=[],_0x15708c=[];for(let _0x1d454f of _0x11c807)await _0x3183b9[_0x1be977(0x610)](_0x1d454f[_0x1be977(0x782)])[_0x1be977(0x482)]()||(_0x121cf9[_0x1be977(0x4c1)](_0x1d454f),_0x15708c[_0x1be977(0x4c1)](_0x1d454f[_0x1be977(0x782)]));return _0x121cf9['length']>0x0&&await _0x3183b9['insertMany'](_0x121cf9,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1ba24d){return console[_0x1be977(0x170)](_0x1be977(0x5d8),_0x1ba24d),{'success':!0x1,'error':_0x1ba24d};}}async['delete'](_0x501212,_0x1c9f01){const _0x1215ca=a0_0xc64edb;try{let _0x9f5d8b=this[_0x1215ca(0x6fa)](_0x1c9f01),_0x339d75=A(_0x501212[_0x1215ca(0x174)]);return{'deletedCount':(await _0x9f5d8b[_0x1215ca(0x763)](_0x339d75))[_0x1215ca(0x70c)]};}catch(_0x394bc0){return{'error':_0x394bc0?.[_0x1215ca(0x289)]()};}}async[a0_0xc64edb(0x70d)](_0x55febf,_0x318d58){const _0x4631f8=a0_0xc64edb;try{let _0x1c5b40=this[_0x4631f8(0x6fa)](_0x318d58),_0x14c05c=A(_0x55febf[_0x4631f8(0x174)]);return{'deletedCount':(await _0x1c5b40['deleteOne'](_0x14c05c))['deletedCount']};}catch(_0x128d36){return{'error':_0x128d36?.[_0x4631f8(0x289)]()};}}async['updateOne'](_0x5365d8,_0x1b342d,_0x2701c3){const _0x315db4=a0_0xc64edb;try{return await this[_0x315db4(0x6fa)](_0x2701c3)['findByIdAndUpdate'](_0x5365d8,_0x1b342d,{'new':!0x0});}catch(_0x37bf62){return console[_0x315db4(0x170)](_0x315db4(0x383),_0x37bf62),null;}}async[a0_0xc64edb(0x4d9)](_0x143a92,_0x81fc05){const _0x37c041=a0_0xc64edb;try{let _0x2024d3=this['getFlowModelForOwner'](_0x81fc05);return await new _0x2024d3(_0x143a92)[_0x37c041(0x239)]();}catch(_0x19d0f4){return console[_0x37c041(0x170)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x19d0f4),null;}}async['updateMany'](_0x39ab62,_0x4d1094,_0x5830b7){const _0x3eff75=a0_0xc64edb;try{return{'modifiedCount':(await this[_0x3eff75(0x6fa)](_0x5830b7)[_0x3eff75(0x1c9)](_0x39ab62,{'$set':_0x4d1094}))[_0x3eff75(0x793)]};}catch(_0x4c3506){return console['error'](_0x3eff75(0x530),_0x4c3506),{'error':_0x4c3506};}}async[a0_0xc64edb(0x363)](_0x1e1496,_0x22b39d){const _0xb569f7=a0_0xc64edb;try{let _0x4d7377=this[_0xb569f7(0x6fa)](_0x22b39d),_0x345cfa=A(_0x1e1496['where']);return await _0x4d7377[_0xb569f7(0x670)](_0x345cfa)['limit'](_0x1e1496?.[_0xb569f7(0x2c4)]??0x0)['lean']();}catch{return[];}}async[a0_0xc64edb(0x671)](_0x5770f0,_0x4a91f9){const _0x524ee5=a0_0xc64edb;try{let _0x407eb7=this[_0x524ee5(0x6fa)](_0x4a91f9),_0xc4c1b7=A(_0x5770f0['where']);return await _0x407eb7['findOne'](_0xc4c1b7)[_0x524ee5(0x482)]();}catch{return null;}}async['deleteAll'](_0x4188af){const _0x32bed6=a0_0xc64edb;try{return await this['getFlowModelForOwner'](_0x4188af)[_0x32bed6(0x2b1)][_0x32bed6(0x1c8)](),{'success':!0x0};}catch(_0x3ddb3e){return console['error'](_0x3ddb3e),{'success':!0x1,'error':_0x3ddb3e};}}},Ht=class extends I{[a0_0xc64edb(0x26d)](_0x3300cc){return oa(_0x3300cc);}async['copyDataToNewModel'](_0x357c7f){const _0x18090e=a0_0xc64edb;try{let _0xeecfdc=ra,_0x4322aa=this[_0x18090e(0x26d)](_0x357c7f),_0x1994b9=await _0xeecfdc[_0x18090e(0x670)]({'owner':_0x357c7f})['lean'](),_0x3cd311=[],_0x3bdd0c=[];for(let _0x346a64 of _0x1994b9)await _0x4322aa['findById'](_0x346a64[_0x18090e(0x782)])['lean']()||(_0x3cd311[_0x18090e(0x4c1)](_0x346a64),_0x3bdd0c['push'](_0x346a64['_id']));return _0x3cd311[_0x18090e(0x593)]>0x0&&await _0x4322aa[_0x18090e(0x768)](_0x3cd311,{'ordered':!0x1}),{'success':!0x0};}catch(_0x35dd16){return console['error'](_0x18090e(0x5d8),_0x35dd16),{'success':!0x1,'error':_0x35dd16};}}async['insert'](_0x2b936b){const _0x56a40b=a0_0xc64edb;if(_0x2b936b[_0x56a40b(0x593)]!==0x0)try{return{'insertCount':(await this[_0x56a40b(0x26d)](_0x2b936b[0x0][_0x56a40b(0x62a)])[_0x56a40b(0x768)]([..._0x2b936b]))['length']};}catch(_0x443847){return _0x443847;}}async[a0_0xc64edb(0x57d)](_0x102ffb,_0x3d9850){const _0x5030f8=a0_0xc64edb;try{let _0x2c6181=this['getConversationModelForOwner'](_0x3d9850),_0x58484d=A(_0x102ffb['where']);return{'deletedCount':(await _0x2c6181[_0x5030f8(0x763)](_0x58484d))[_0x5030f8(0x70c)]};}catch(_0x2e8dbf){return{'error':_0x2e8dbf?.[_0x5030f8(0x289)]()};}}async['deleteOne'](_0x5025ac,_0x56c529){const _0x4210d1=a0_0xc64edb;try{let _0x7cbc4e=this[_0x4210d1(0x26d)](_0x56c529),_0xb2925e=A(_0x5025ac[_0x4210d1(0x174)]);return{'deletedCount':(await _0x7cbc4e[_0x4210d1(0x70d)](_0xb2925e))['deletedCount']};}catch(_0x5592ac){return{'error':_0x5592ac?.[_0x4210d1(0x289)]()};}}async[a0_0xc64edb(0x527)](_0x1689f3,_0x3bc52d){const _0x5dd924=a0_0xc64edb;try{if(_0x1689f3['length']===0x0)return;let _0x2e7efd=this[_0x5dd924(0x26d)](_0x3bc52d),_0x56be4f=_0x1689f3[_0x5dd924(0x483)](_0x2da31a=>({'updateOne':{'filter':{'name':_0x2da31a[_0x5dd924(0x219)],'owner':_0x3bc52d},'update':{..._0x2da31a}}})),{modifiedCount:_0x4b53f6}=await _0x2e7efd[_0x5dd924(0x1d7)](_0x56be4f);return{'insertCount':_0x4b53f6};}catch{return;}}async[a0_0xc64edb(0x1c9)](_0x57dc46,_0x3da8b2,_0x5d322f){const _0x4cd93a=a0_0xc64edb;try{return{'modifiedCount':(await this[_0x4cd93a(0x26d)](_0x5d322f)['updateMany'](_0x57dc46,{'$set':_0x3da8b2}))[_0x4cd93a(0x793)]};}catch(_0x2531e0){return console['error'](_0x4cd93a(0x506),_0x2531e0),{'error':_0x2531e0};}}async[a0_0xc64edb(0x41e)](_0x3bb727,_0x2ee10f,_0x1ddb06){const _0x20f625=a0_0xc64edb;try{return await this[_0x20f625(0x26d)](_0x1ddb06)[_0x20f625(0x656)]({'_id':_0x3bb727},{'$set':_0x2ee10f},{'new':!0x0,'upsert':!0x0})[_0x20f625(0x482)]();}catch(_0x55c5db){return console[_0x20f625(0x170)](_0x55c5db),null;}}async[a0_0xc64edb(0x670)](_0x427df1,_0x2af783){const _0x42c6bf=a0_0xc64edb;try{return await this[_0x42c6bf(0x26d)](_0x2af783)[_0x42c6bf(0x670)](_0x427df1)['sort']({'lastInteraction':-0x1})[_0x42c6bf(0x482)]();}catch{return[];}}async[a0_0xc64edb(0x671)](_0x4fa0e1,_0x14f032){const _0x241d54=a0_0xc64edb;try{return await this['getConversationModelForOwner'](_0x14f032)[_0x241d54(0x671)]({..._0x4fa0e1[_0x241d54(0x174)]})[_0x241d54(0x482)]();}catch{return null;}}async[a0_0xc64edb(0x79c)](_0x2eade5){const _0x18db5b=a0_0xc64edb;try{return await this[_0x18db5b(0x26d)](_0x2eade5)['collection']['drop'](),{'success':!0x0};}catch(_0x1b068f){return console[_0x18db5b(0x170)](_0x1b068f),{'success':!0x1,'error':_0x1b068f};}}},Kt=class extends I{[a0_0xc64edb(0x6fd)](_0xfb1d22){return na(_0xfb1d22);}async[a0_0xc64edb(0x5d9)](_0x2b2a97){const _0x50b97d=a0_0xc64edb;try{let _0x509eff=ca,_0x2fc3ab=this[_0x50b97d(0x6fd)](_0x2b2a97),_0x503810=await _0x509eff[_0x50b97d(0x670)]({'owner':_0x2b2a97})[_0x50b97d(0x482)](),_0x59e4f7=[],_0x4ab130=[];for(let _0x11960c of _0x503810)await _0x2fc3ab[_0x50b97d(0x610)](_0x11960c[_0x50b97d(0x782)])[_0x50b97d(0x482)]()||(_0x59e4f7[_0x50b97d(0x4c1)](_0x11960c),_0x4ab130[_0x50b97d(0x4c1)](_0x11960c['_id']));return _0x59e4f7[_0x50b97d(0x593)]>0x0&&await _0x2fc3ab['insertMany'](_0x59e4f7,{'ordered':!0x1}),{'success':!0x0};}catch(_0x5e610d){return console[_0x50b97d(0x170)](_0x50b97d(0x5d8),_0x5e610d),{'success':!0x1,'error':_0x5e610d};}}async[a0_0xc64edb(0x4d9)](_0x25be51,_0x5254c4){const _0x1543f3=a0_0xc64edb;try{let _0x5a6b5d=this[_0x1543f3(0x6fd)](_0x5254c4);return await new _0x5a6b5d(_0x25be51)[_0x1543f3(0x239)]();}catch(_0x4fd7b4){return console['error'](_0x1543f3(0x54b),_0x4fd7b4),null;}}async[a0_0xc64edb(0x70d)](_0x2c66a8,_0x2fc2f3){const _0x1e8638=a0_0xc64edb;try{return await this['getScheduleMessageModelForOwner'](_0x2fc2f3)[_0x1e8638(0x412)](_0x2c66a8),{};}catch(_0x3ecfbf){return{'error':_0x3ecfbf?.['toString']()};}}async[a0_0xc64edb(0x41e)](_0x40468f,_0x59ae46,_0x4653f4){const _0x4bf4b3=a0_0xc64edb;try{return await this[_0x4bf4b3(0x6fd)](_0x4653f4)[_0x4bf4b3(0x656)](_0x40468f,{'$set':_0x59ae46},{'new':!0x0})['lean']();}catch(_0x48c68f){return console[_0x4bf4b3(0x170)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x48c68f),null;}}async['updateOneById'](_0x5cc644,_0x1941a9,_0x3c0070){const _0x590336=a0_0xc64edb;try{return await this[_0x590336(0x6fd)](_0x3c0070)[_0x590336(0x742)](_0x5cc644,_0x1941a9,{'new':!0x0})[_0x590336(0x482)]();}catch(_0x87caa4){return console['error'](_0x590336(0x559),_0x87caa4),null;}}async[a0_0xc64edb(0x670)](_0x5a3318,_0x55e463){const _0x5919c6=a0_0xc64edb;try{return await this[_0x5919c6(0x6fd)](_0x55e463)[_0x5919c6(0x670)](_0x5a3318['where'])[_0x5919c6(0x2c4)](_0x5a3318?.[_0x5919c6(0x2c4)]??0x0)['sort']({'when':0x1})[_0x5919c6(0x482)]();}catch{return[];}}async[a0_0xc64edb(0x671)](_0x422a58,_0x4dbefc){const _0x528ba7=a0_0xc64edb;try{return await this[_0x528ba7(0x6fd)](_0x4dbefc)[_0x528ba7(0x671)](_0x422a58['where'])[_0x528ba7(0x604)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0xc64edb(0x610)](_0x5f453a,_0xc1c91b){const _0xbcb857=a0_0xc64edb;try{return await this[_0xbcb857(0x6fd)](_0xc1c91b)[_0xbcb857(0x610)](_0x5f453a)[_0xbcb857(0x482)]();}catch{return null;}}async[a0_0xc64edb(0x763)](_0xfaad55,_0x15e556){const _0x19b444=a0_0xc64edb;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x15e556)[_0x19b444(0x763)](_0xfaad55))['deletedCount']};}catch(_0x2563bc){return console[_0x19b444(0x170)](_0x19b444(0x269),_0x2563bc),{'error':_0x2563bc};}}async['deleteAll'](_0x24b797){const _0x5e0090=a0_0xc64edb;try{return await this[_0x5e0090(0x6fd)](_0x24b797)['collection'][_0x5e0090(0x1c8)](),{'success':!0x0};}catch(_0x207ddd){return console['error'](_0x207ddd),{'success':!0x1,'error':_0x207ddd};}}},Qt=class extends I{async[a0_0xc64edb(0x527)](_0x23e106,_0x146169){const _0x165c37=a0_0xc64edb;try{if(this[_0x165c37(0x3ba)][_0x165c37(0x38b)]){let _0x112901=await Pe[_0x165c37(0x656)]({'_id':_0x146169},{'$set':_0x23e106},{'new':!0x0});return console[_0x165c37(0x5f3)]('Resultado\x20da\x20atualização:',_0x112901),_0x112901;}}catch(_0x35436e){throw console[_0x165c37(0x170)](_0x165c37(0x684),_0x35436e),_0x35436e;}}async['findOrCreate'](_0x5b3f41){const _0x13997b=a0_0xc64edb;try{let _0x224290=await Pe['findById'](_0x5b3f41);return _0x224290||(_0x224290=new Pe({'_id':_0x5b3f41}),await _0x224290['save']()),_0x224290;}catch(_0x516445){return console[_0x13997b(0x170)](_0x13997b(0x3ed),_0x516445),null;}}},yr=new v(a0_0xc64edb(0x2e4)),br=new Le(b),Sr=new $t(b),Er=new Qe(b),Cr=new Gt(Qs,b),Mr=new Wt(zs,b),vr=new zt(b),Nr=new kt(b),Rr=new Ht(b),Tr=new Kt(b),Ar=new Qt(b),ce=new $e(br,Sr,Er,Cr,Mr,vr,Rr,Nr,Tr,Ar,N?.[a0_0xc64edb(0x5b9)]()),B=new Pt(ss,b,ce),Or=new qt(b,B,ce),Ir=new Jt(B),ms=new Bt(Ir),T=new Vt(B),le=new jt(B,b,ce,ss,Or),G=new Ft(B),x=new Lt(B),q=new Ut(B);yr['info'](a0_0xc64edb(0x243));var hh=require(a0_0xc64edb(0x64e)),Ts=require('fs'),Mo=R(require(a0_0xc64edb(0x34a))),vo=R(require(a0_0xc64edb(0x6a7))),Ne=class c{static #e;static set['app'](_0x474f31){this.#e=_0x474f31;}static get['https'](){const _0x157eb6=a0_0xc64edb;let {FULLCHAIN:_0x446593,PRIVKEY:_0x4c575c}=b[_0x157eb6(0x489)](_0x157eb6(0x45a));return Mo[_0x157eb6(0x4b4)]({'cert':(0x0,Ts[_0x157eb6(0x5d3)])(_0x446593),'key':(0x0,Ts['readFileSync'])(_0x4c575c)},c.#e);}static get[a0_0xc64edb(0x6a7)](){const _0x188f5b=a0_0xc64edb;return vo[_0x188f5b(0x4b4)](c.#e);}},de=R(require('fs')),Io=R(require(a0_0xc64edb(0x6f7))),Re=R(require(a0_0xc64edb(0x2b7))),Ae=R(require(a0_0xc64edb(0x15e))),Oe=require(a0_0xc64edb(0x727));function xr(){const _0x23559a=a0_0xc64edb;B[_0x23559a(0x312)]();let _0x112c6f=Ae['default']['join'](__dirname,_0x23559a(0x1ab));Oo(_0x112c6f);}var Oo=_0x13f093=>{const _0x4f1675=a0_0xc64edb;let _0x43dc41=de['default'][_0x4f1675(0x4ac)](_0x13f093),_0x16b617=0xc*0x3c*0x3c*0x3e8,_0x15a790=0x2*0x3c*0x3c*0x3e8,_0x482d82=new Date()['getTime']();_0x43dc41['forEach'](_0x2b4e26=>{const _0xf81c82=_0x4f1675;let _0x56f772=Ae[_0xf81c82(0x324)][_0xf81c82(0x5be)](_0x13f093,_0x2b4e26),_0x415cac=de[_0xf81c82(0x324)]['statSync'](_0x56f772)[_0xf81c82(0x738)][_0xf81c82(0x34d)]();_0x482d82-_0x415cac>_0x16b617&&(de[_0xf81c82(0x324)]['unlinkSync'](_0x56f772),console[_0xf81c82(0x5f3)](_0xf81c82(0x707)+_0x2b4e26));}),setTimeout(()=>Oo(_0x13f093),_0x15a790);};function Dr(){const _0x300453=a0_0xc64edb;let _0x53e550=new v(_0x300453(0x2d5)),_0x454f5d=(0x0,pe[_0x300453(0x324)])();_0x454f5d[_0x300453(0x43d)]((0x0,Ao[_0x300453(0x324)])({'origin'(_0x19bc34,_0x45ea1b){const _0x55f25d=_0x300453;let {ORIGIN:_0xd8b1b3}=b[_0x55f25d(0x489)]('CORS');return _0x19bc34||(_0x19bc34='*'),_0xd8b1b3[_0x55f25d(0x7ad)]('*')!==-0x1||_0xd8b1b3['indexOf'](_0x19bc34)!==-0x1?_0x45ea1b(null,!0x0):_0x45ea1b(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x300453(0x489)](_0x300453(0x4af))[_0x300453(0x47c)]],'credentials':b[_0x300453(0x489)](_0x300453(0x4af))[_0x300453(0x22a)]}),(0x0,pe[_0x300453(0x3ec)])({'extended':!0x0,'limit':_0x300453(0x182)}),(0x0,pe[_0x300453(0x63a)])({'limit':_0x300453(0x182)})),_0x454f5d[_0x300453(0x43d)]((_0x59c0d1,_0x1da561,_0x1bb7ee)=>{const _0x5197d7=_0x300453;_0x59c0d1[_0x5197d7(0x15e)]['startsWith'](_0x5197d7(0x177))?_0x1bb7ee():(0x0,To[_0x5197d7(0x324)])()(_0x59c0d1,_0x1da561,_0x1bb7ee);}),_0x454f5d[_0x300453(0x71c)](_0x300453(0x7ae),'hbs'),_0x454f5d['set'](_0x300453(0x285),(0x0,Os[_0x300453(0x5be)])(ae,_0x300453(0x285))),_0x454f5d['use'](pe['default'][_0x300453(0x338)]((0x0,Os[_0x300453(0x5be)])(ae,'public'))),_0x454f5d['use']((_0x4c95ef,_0x4b1ffc,_0x38a9b8)=>{const _0x591678=_0x300453;let _0x40f397=_0x4b1ffc[_0x591678(0x621)];_0x4b1ffc[_0x591678(0x621)]=function(_0x4dd235){const _0x51324d=_0x591678;if(_0x4c95ef[_0x51324d(0x4f6)][_0x51324d(0x4fd)]===_0x51324d(0x514)||_0x4c95ef[_0x51324d(0x5af)][_0x51324d(0x774)]===_0x51324d(0x514)){let _0x1d8551=JSON[_0x51324d(0x439)](_0x4dd235);_0x4dd235=JSON[_0x51324d(0x188)](_0x14cfd7(_0x1d8551));}return _0x40f397['apply'](_0x4b1ffc,[_0x4dd235]);},_0x38a9b8();}),_0x454f5d[_0x300453(0x43d)]('/',vt),_0x454f5d[_0x300453(0x43d)]((_0x32e88a,_0x47e804,_0x12c6b6,_0x4b3e45)=>{const _0x222917=_0x300453;if(_0x32e88a)return _0x12c6b6[_0x222917(0x23b)](_0x32e88a[_0x222917(0x23b)]||0x1f4)[_0x222917(0x63a)](_0x32e88a);},(_0x5903d5,_0x1c13ae,_0x55aeaf)=>{const _0x1a9f64=_0x300453;let {method:_0x4dd183,url:_0x3374cf}=_0x5903d5;_0x1c13ae[_0x1a9f64(0x23b)](0x194)['json']({'status':0x194,'message':_0x1a9f64(0x622)+_0x4dd183[_0x1a9f64(0x1c0)]()+'\x20'+_0x3374cf,'error':_0x1a9f64(0x518)}),_0x55aeaf();});let _0x14cfd7=(_0x24c43c,_0x524819='_p_')=>{const _0x39e9c2=_0x300453;let _0x12cc04=(_0x504722,_0x31ce2a=null,_0x3e4882=!0x1)=>{const _0x113452=a0_0x431f;let _0x4b6ec6={};return Object[_0x113452(0x3dc)](_0x504722)['forEach'](_0x86a22e=>{const _0x55e6fb=_0x113452;let _0x25cfa0=_0x504722[_0x86a22e],_0x4c33ed=''+_0x524819+_0x86a22e;_0x31ce2a&&!_0x3e4882&&(_0x4c33ed=_0x31ce2a+'.'+_0x86a22e),!_0x25cfa0&&_0x25cfa0!==0x0&&_0x25cfa0!==!0x1||typeof _0x25cfa0>'u'?_0x4b6ec6[_0x4c33ed]=null:typeof _0x25cfa0!=_0x55e6fb(0x41a)&&!Array[_0x55e6fb(0x51d)](_0x25cfa0)?_0x4b6ec6[_0x4c33ed]=_0x25cfa0:typeof _0x25cfa0==_0x55e6fb(0x41a)&&!Array['isArray'](_0x25cfa0)?_0x4b6ec6=Object[_0x55e6fb(0x34c)](_0x4b6ec6,_0x12cc04(_0x25cfa0,_0x4c33ed)):Array['isArray'](_0x25cfa0)&&(typeof _0x25cfa0[0x0]==_0x55e6fb(0x41a)?(_0x4b6ec6[_0x4c33ed]=[],_0x25cfa0['forEach'](_0x273dde=>{_0x4b6ec6[_0x4c33ed]['push'](_0x12cc04(_0x273dde,_0x4c33ed,!0x0));})):_0x4b6ec6[_0x4c33ed]=_0x25cfa0);}),_0x4b6ec6;};return Array['isArray'](_0x24c43c)?_0x24c43c[_0x39e9c2(0x483)](_0x2620df=>_0x12cc04(_0x2620df)):typeof _0x24c43c=='object'&&_0x24c43c!==null?_0x12cc04(_0x24c43c):{};},_0x59a874=b[_0x300453(0x489)](_0x300453(0x2d5));Ne[_0x300453(0x3a5)]=_0x454f5d;let _0x3f30b4=Ne[_0x59a874[_0x300453(0x406)]],_0xcecd93=_0x300453(0x36e);_0x3f30b4['listen'](_0x59a874[_0x300453(0x644)],()=>{const _0x5c1e20=_0x300453;_0x53e550['log'](_0xcecd93),_0x53e550[_0x5c1e20(0x5f3)](_0x59a874['TYPE'][_0x5c1e20(0x1c0)]()+_0x5c1e20(0x290)+_0x59a874[_0x5c1e20(0x644)]);}),xr(),Fs();}var _r=a0_0xc64edb(0x60e),Pr=Ae[a0_0xc64edb(0x324)][a0_0xc64edb(0x5be)](__dirname,'./.git/config'),Te=null;function $r(){return new Promise((_0x386bda,_0x43141d)=>{const _0x3c9a0a=a0_0x431f;de[_0x3c9a0a(0x324)]['readFile'](Pr,_0x3c9a0a(0x4b6),(_0x4aac2c,_0x5663ad)=>{const _0xf8ddb6=_0x3c9a0a;if(_0x4aac2c){Te=_0x4aac2c,_0x386bda();return;}Io[_0xf8ddb6(0x324)][_0xf8ddb6(0x439)](_0x5663ad)[_0xf8ddb6(0x703)]['url']===_r?(Te=null,_0x386bda()):(Te=new Error(_0xf8ddb6(0x42b)),_0x386bda());});});}async function kr(){const _0x3209d9=a0_0xc64edb;try{await $r(),await Is();}catch(_0xbfdd93){console[_0x3209d9(0x170)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0xbfdd93),process[_0x3209d9(0x526)](0x1);}}kr();function a0_0x14d2(){const _0x7b600d=['stderr','https://github.com/uazapi/uazapi.git','INFO','findById','profile','paused','contactMessage','markMessageAsRead','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','logger','EXPIRIN_IN','8080','updateMissingTags','findConversation','matchRegex','caption','uazapiDeleteMessage','LOG_LEVEL','Certbot:\x20','inner','send','Cannot\x20','protocol','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','arraybuffer','):\x20customFieldVariables','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','contacts.upsert','MAX_RECONNECT_ATTEMPTS','owner','uazapiSendText','toggleEphemeral','removeData','groupId','groupCreate','findChats','/instance','):\x20Limpando\x20AutomateSystem','groupJid','data:\x20','messageHandle','reconnectTimestamps','\x22,\x20valor\x20a\x20substituir:\x20\x22','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','viewOnceMessageV2','json','responsavelid','\x22\x20not\x20found','messageContextInfo','\x1b[33m',',\x20Expiration\x20Time:\x20','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','PRODUCT_LIST','request\x20received\x20in\x20getAutomateSystem','notEmpty','PORT','hex','text','mediatype','Hash\x20to\x20audio\x20name:\x20','/wa-message','processvaredits','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Missing\x20global\x20api\x20key','editflowreply','express-async-errors','has','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','ignoreGroups','instances','deleteMessage','DATABASE_CONNECTION_DB_PREFIX_NAME','locationMessage','findOneAndUpdate','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','pino','Configuração\x20do\x20Proxy\x20inválida.\x20Tentando\x20o\x20próximo...','protocolMessage','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','jsonschema','detail','notify','contextInfo','lastCondition','reaction','^\x5cd+([-]\x5cd+)*@g.us$','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','notContains','Erro\x20ao\x20inserir\x20chats:','scheduleSendText','editFlowReply','fetchProfilePicture','\x20minutos','Chat\x20com\x20ID\x20','messageTimestamp','Output\x20audio\x20path:\x20','label','findGroups','editflow','find','findOne','.doc','sendList','from','\x0aitem','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','\x1b[36m%s\x1b[0m','compression','filter','uncaughtException','changeVariables','url','Atualização:\x20','error_log','/instance/delete','<subdomain>','):\x20Enviando\x20localização','):\x20Buscando\x20flow...','):\x20Procurando\x20conversa','Erro\x20ao\x20atualizar\x20AutomateSystem:','unlocked','_Messages','Bloco\x20com\x20ID\x20','editFlowBlock','conversationTimestamp','):\x20conversation.status:\x20','\x20minutos...','sendMedia','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','writeFile','Falta\x20informação\x20para\x20a\x20chamada\x20API','request\x20received\x20in\x20getConversation','saveTextReply','stopMinutesMaxActives','sendLocation','promote','_activatedCount','Instance\x20ID:','buttonText','sendReaction','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','flowConfig','.ogg','AUTHENTICATION','conditions','):\x20Buscando\x20conversa...','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','):\x20leadInfoVariables','Close\x20connection','\x20de\x20conectar\x20com\x20proxy.','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','FULLCHAIN','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','Error\x20updating\x20profile\x20status','http','updateFlowConfig','):\x20Erro\x20ao\x20editar\x20agentes:\x20','oldValue','decryptPollVote','#fe9dfe','findParticipants','getConversation','groups.update','Output\x20path:\x20','END:VCARD','/events/:instance','request\x20received\x20in\x20editFlow','STORE_CONTACTS','):\x20Deletando\x20mensagem','request\x20body:\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','express','flowName','ERROR','waMonitor','hostname','Types','createNewConversation','stopped','endsWith','array','listType','https://','errorLog','pollMessage','sendButtons','group\x20ignored','):\x20Editando\x20edição\x20do\x20fluxo...','convertToWebP','imagechat','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','connectionUpdate','urlOrBase64','verify','ContactModel','):\x20Conversas\x20encontradas:','verbose','Sending\x20audio\x20whatsapp','createWebhook','ip:\x20','):\x20Enviando\x20texto','created','#64c4ff','__esModule','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','image','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','):\x20this.processingScheduleMessageId:\x20','action','restart','getAutomateSystem','createConnection','Nenhum\x20chat\x20encontrado\x20para\x20editar.','groupName','hGetAll','info','.\x20Aguardando\x20antes\x20de\x20reconectar...','CHATS_DELETE','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20nextBlock.uazapi.name','condition','\x1b[1m','Read\x20messages\x20fail','Não\x20respondeu\x20com\x20a\x20enquete.','#6f7bcf','userDevicesCache','Schema','upsertChats','AUTHENTICATION_JWT_EXPIRIN_IN','notMatchRegex','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','ini','):\x20Criou\x20conversa\x20no\x20startFlow:','Cache-Control','getFlowModelForOwner','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','local_map','getScheduleMessageModelForOwner','scheduleSendMedia','when','variables','https://api.openai.com/v1/audio/speech','subjectTime','remote\x20\x22origin\x22','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','RECONNECT_TIME_FRAME','#000000','Deleted\x20','stopConversation','DaysToDelete','contact','!stop','deletedCount','deleteOne','allContacts','loadEnv','processPollUpdateMessage','CONTACTS_SET','getStatus','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Invalid\x20format','/wa-chats','createFlow','menuMessage','boolean','MESSAGES_SET','updateProfileName','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','set','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','env.KEY\x20!==\x20key','contacts.update','leaveGroup','editFlow','Revoke\x20error','chats.update','3374124JlTkyL','setWebhook','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','child_process','pollOnReplyDelete','setting','waUploadToServer','):\x20teve\x20mudanças\x20chat.name:\x20','cleaningUp','audio/mp4','processblock','trim','Hash\x20to\x20image\x20name:\x20','\x20attempts.','Erro\x20ao\x20remover\x20instâncias\x20antigas:','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','):\x20newFirstValue\x20após\x20replaceVariables:','Temp\x20image\x20deleted','#00a1f2','removeInstance','birthtime','goToFlow','audio','options','remove','Unauthorized','.gif','#ffc5c7','lastDisconnect','editChat','findByIdAndUpdate','Sistema\x20atualizado\x20com\x20sucesso!','toFile','):\x20Deletando\x20conversa...','CORS_ORIGIN','makeCacheableSignalKeyStore','Erro\x20ao\x20editar\x20o\x20chat:\x20','SendScheduleMessage','DisconnectReason','\x20adicionado\x20ao\x20chat\x20','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','SINGLE_SELECT','getBusinessProfile','vcard','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','ListType','URL\x20limpa:\x20','longitude','.ogv','reorderReplyOptions','username','listMessage','/:instanceName','delayMessage','Error\x20fetching\x20group','send.message','fetchProfile','backgroundColor','abs','NO_IP','greater','lastmsg','sendMessageWithTyping','deleteMany','applyvaredit','organization','):\x20transformedCustomFieldVariables','rows','insertMany','substring','587757womixy','Error\x20change\x20group\x20name','MessageModel','_FlowHistorico','instanceCount','sha256','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','/wa-contacts','value','secondValue','uazapi','fileName','Audio\x20is\x20url','Notifying\x20clients\x20for\x20chat:\x20','/webhook','dbServer','class-validator','long','.webm','env','replaceValue','getContactModelForOwner','/create','header','_id','imported','auth','-----------------proxyUri---------------------','\x1b[40m','REDIS','PLAYED','$pull','bateu\x20events','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','post','chats','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Chat\x20','\x20chats\x20de\x20','PRESENCE_UPDATE','fromMe','modifiedCount','importChats','REDIS_URI','saveCreds','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','participant','ephemeralExpiration','#9ab6c1','out','deleteAll','format','):\x20Bloco\x20copiado:\x20','localWebhook','formatStatusMessage','):\x20Falha\x20ao\x20deletar\x20mensagem.','defineProperty','):\x20Entrou\x20na\x20função\x20goToFlow','whatsappNumbers','less','Button\x20IDs\x20cannot\x20be\x20repeated.','request\x20received\x20in\x20deleteFlow','height','?timestamp=','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','unreadCount','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','indexOf','view\x20engine','Image\x20created','LOG_COLOR','split','parseInt','success','#92ceac','enabled','findMessages','prepareMediaMessage','webhookMap','PASSWORD','$dbName','\x20com\x20sucesso.','scheduleSendAudio','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','):\x20Fluxos\x20não\x20estão\x20ativados','@g.us','loggedOut','\x20não\x20encontrado\x20para\x20cópia','validate','onWhatsApp','Message\x20not\x20found','Audio\x20is\x20base64','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','size','flowname:\x20','loadproxy','deleteflow','console','CONECTADO\x20À\x20UAZAPI','mongodb','FlowModel','path','envProcess','status@broadcast','min','request\x20received\x20in\x20updateCustomFields','replaceOne','varedits','request\x20received\x20in\x20updateAgent','Instance\x20logged\x20out','lastSend','stopWhenYouSendMsg','updateReplyOption','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','including\x20timestamp\x20in\x20url:\x20','Getting\x20profile\x20with\x20jid:\x20','waitingMenu_ExpiredMessage','\x20segundos','flow','error','create','Erro\x20ao\x20normalizar\x20a\x20mensagem:','/instance/fetchInstances','where','\x1b[33m\x1b[1m','profilePictureUrl','/events','vote','goNextblock','findOrCreate','random','Instance\x20\x22','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','getChatModelForOwner','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','readMessage','getMessage','50mb','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','waitingForReplyMenu','waInstances','buttons','lastSendMessage','stringify','\x20\x1b[0m','../env.yml','pollCreationMessage','subdomain','_Contacts','fetchLatestBaileysVersion','editFlowGroup','maxActives','waitingMenu_replyOptions','state','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','sticker','ChatRouter','editflowgroup','apiName','):\x20teve\x20mudanças\x20chat.archived:\x20','variablesNotFound','repository','):\x20newSecondValue\x20após\x20replaceVariables:','):\x20conversation.lastInteraction:\x20','sendPoll','composing','fullName','addReplyOption','groups.upsert','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','formatBRNumber','editflowvaredit','Log\x20out\x20instance:\x20','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','):\x20Bloco\x20original\x20para\x20cópia:\x20','and','cpf','downloads','Erro\x20ao\x20atualizar\x20o\x20flow.','updateAgent','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','apirequest','logout','connectToWhatsappController','status.instance','privacySettings','password','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','The\x20instance\x20needs\x20to\x20be\x20disconnected','AUTHENTICATION_API_KEY','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','revokeInviteCode','TEXT','connectionClosed','unlinkSync','fetchChats','slice','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','toUpperCase','processingScheduleMessageId','CONTACTS_UPSERT','\x20minutos\x20verificará\x20novas\x20mensagens','Erro\x20de\x20atualização:\x20','sem\x20texto\x20na\x20mensagem','tags','/media/','drop','updateMany','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','#b4ebff','/config','restartInstance','Forbidden','@broadcast','):\x20Usando\x20extensão\x20padrão:\x20','data','timerId','viewOnceMessage','updateGParticipant','node-cache','addBlock','bulkWrite','editflowblock','config','charAt','updateMessage','webhookModel','#9ba6ff','):\x20Erro\x20ao\x20buscar\x20conversas\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','convertedOptions','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','isListOfNumbers','createInstance','removeProfilePicture','replyOption','PROXY','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','phoneNumber','prefixCommand','Fluxos\x20não\x20estão\x20ativados','\x20is\x20already\x20in\x20use.','role','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','item','@redis/client','SERVER_URL','):\x20Conversa\x20está\x20expirada','GROUPS_UPSERT','verifiedName','Type\x20defined\x20as\x20audio','notEqual','saveVariable','expression','fetchLabels','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','group','.xls','):\x20Entrou\x20na\x20função\x20stop','Tentativa\x20','next_groupId','cache','.mp3','upperCase','readreceipts','addresss','authService','formatVCard','.sendDataWebhook-local','\x1b[33m%s\x1b[0m','createJid','integer','.X-ABLabel:Celular\x0a','\x1b[34m%s\x1b[0m','getOwnPropertyDescriptor','connectionState','endSession','\x20minutos.\x20Será\x20às\x20','chatLog','ChatModel','prepareWAMessageMedia','waitingMenu_text','inviteCode','):\x20alterando\x20this.AutomateSystem','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','list','):\x20Mensagem\x20já\x20enviada\x20para\x20','name','replaceVariablesInReplyOptions','MESSAGES_UPDATE','write','GROUPS_UPDATE','\x20do\x20chat\x20','):\x20Erro\x20ao\x20criar\x20fluxo\x20','mediaMessage','updateStopChat','writeData','buttonId','chatModify','REDIS_PREFIX_KEY','imageMessage','routerPath','augusto.fcs@gmail.com','deleteDoneMessages','CREDENTIALS','replacer','Audio\x20processed','Fluxo\x20não\x20encontrado','DD/MM\x20HH:mm:ss','leadInfo.','stickerMessage','website','deleteFlow','):\x20Alterando\x20fluxo...','floor','pollCreationMessageV2','messagesSend','):\x20Entrou\x20na\x20função\x20saveReply','pollCreationMessageV3','save','instanceKeys','status','Chrome','):\x20teve\x20mudanças\x20chat.displayName:\x20','isRunning','flowStopConversation','):\x20Error\x20processing\x20the\x20block:\x20','key','deleteReplyOption','Module\x20-\x20ON','sign','All_Instances_Config','/instance/connectionState','Error\x20updating\x20profile\x20picture','evaluateCondition','):\x20Conversa\x20atualizada\x20em\x20memória','#d8e651','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','SERVER_PORT','some','updatePresence','Bad\x20Request','DATABASE_CONNECTION_PASSWORD','Erro\x20ao\x20deletar\x20chat:','g.us','redis://127.0.0.1:6379','Variáveis\x20não\x20encontradas:','eventHandler',',\x20fará\x20nova\x20verificação\x20em\x20','last','sendDataWebhook','SERVER_ACK',',\x20resultado:\x20','DARK','editScheduleMessage','lastBlockId','Imagem\x20não\x20encontrada','updateOneById','jid','message','groupMetadata','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','messages','isLong','response','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Chrome\x20(Linux)','Erro\x20ao\x20deletar\x20mensagens:','updateReadReceiptsPrivacy','errors','Authentication\x20error','getConversationModelForOwner','no-cache','metadata','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','mimetype','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Processing\x20audio','generateWAMessageFromContent','src','pt-BR','Audio\x20converted\x20to\x20mp4','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','dark','document','nextBlock:','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','viewOnceMessageV2Extension','\x1b[44m','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','application/octet-stream','\x5c$&','):\x20Edit\x20schedule\x20message...','segundos','email','views','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','msgRetryCounterCache','getLabelModelForOwner','toString','remoteJidsRemaining','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','findWebhook','.png','Comando\x20desconhecido','\x20-\x20ON:\x20','DATABASE_CONNECTION_HOST','DB_PREFIX_NAME','choices','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','Group\x20not\x20found','block','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','presence','fetchContacts','updateStatusPrivacy','authorization','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','emit','sendWhatsAppAudio','keep-alive','VERBOSE','Error\x20in\x20markMessageAsRead:','connectToWhatsapp','not_announcement','node-mime-types',',\x20valor\x20a\x20encontrar:\x20\x22','Certbot\x20executado\x20com\x20sucesso.','):\x20conversation.waitingMenu_name','):\x20Criando\x20fluxo...','Erro\x20ao\x20atualizar\x20conversa:\x20','findGroup','SERVER_TYPE','subjectOwner','mentions','preview','Valor\x20inicial:\x20\x22','remoteJid','collection','warn','locked','PENDING','Archiving\x20chat','):\x20Bloco\x20com\x20ID\x20','axios','):\x20Current\x20Time:\x20','optionDescription','.mp4','insertCount','processConditions','DEBUG','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','updateProfilePicture','setHeader','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','model','limit','order','loadWebhook','scheduleNextCheck','\x20mensagens\x20de\x20','restrict','instance','toBRL','utf8','stateConnection','updateAll','scheduled','groupToggleEphemeral','findIndex','presence.update','connecting','LabelModel','SERVER','forEach','#ff9484','close','FlowRouter','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','delaySecMax','URL:','\x1b[42m','groupSetting','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','valid','test','realVariables','qrcode.updated','WA\x20MODULE','connectedClient','Reinicialização\x20iniciada:\x20','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','end','DATABASE_ENABLED','\x20não\x20encontrado\x20para\x20atualização.','https://chat.whatsapp.com/','getHours','groups_ignore','Selecione','\x20removido\x20do\x20chat\x20','truncatedtoEnd','https://jsonip.com','Proxy\x20falhou.\x20Tentando\x20o\x20próximo...','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','proto','flowConversation','joinGroup','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','stopMinutes','):\x20Editando\x20bloco...','authModel','ListMessage','getBase64FromMediaMessage','varedit','Flow\x20already\x20exists','QRCODE_UPDATED','add','Esse\x20fluxo\x20expirou','LICENSE_INVALID','unhandledRejection','content-type','shutdown\x20-r\x20now','isJidUser','/*.json','-instances','findGroupInfos','https://uazapi-plugin.bubbleapps.io/','Erro\x20ao\x20editar\x20o\x20bloco:\x20','STORE_MESSAGE','groups','readMessages','loadInstance','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','createClient','importChatsAntigo','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','*\x0a\x0a','Content-Type','getFlow','events','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','editFlowVariable','CONTACTS_UPDATE','command','STORE_CLEANING_TERMINAL','Font\x20is\x20required','--standalone','sendContact','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','default','blocks','type','getflow','messaging-history.set','cleanStore','uazapiSendMedia','dayjs','PRIVKEY','Resposta\x20do\x20Teste\x20do\x20Proxy:','Instance\x20Key\x20from\x20DB:','Tentando\x20reconectar...','\x1b[0m','editConversation','call','pushName','Read\x20messages','updateCustomFields','processgoToFlow','pollUpdateMessage','static','request\x20received\x20in\x20deleteConversation','HOST','webhookService','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','AddChatLabel','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','mongoose','CONNECTION_UPDATE','updateMissingCustomFields','announce','request\x20received\x20in\x20createFlow','/instance/create','/exit','Erro:','updateGParticipate','initAuthCreds','https','StartBot','assign','getTime','checkAndRestartProcess','Error\x20change\x20group\x20setting','connection.update','@s.whatsapp.net','LEVEL','importChatsBatch','API_KEY','uazapiSendContact','@ffmpeg-installer/ffmpeg','rm\x20-rf\x20','Primeiro\x20Valor:\x20','finish','subject','CORS_METHODS','selectableCount','Erro\x20ao\x20buscar\x20conversa:\x20','Image\x20converted\x20to\x20WebP','setRestartTimer','video','stack','authentication','findAll','lastMessage','labelId','lastReceivedMessage','getVariablesChat','_Flows','MESSAGES_UPSERT','Validate','toNumber','closeExistingConversations','updateConversation','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20lastBlockId:\x20','notas','sleep','\x20contacts','upsertedCount','):\x20debug\x20alterando\x20this.AutomateSystem','Error\x20removing\x20profile\x20picture','stdout','messages.set','uazapiSendLocation','listResponseMessage','senderKeyDistributionMessage','):\x20Ler\x20mensagem','errno','app-state-sync-key','BufferJSON','toDataURL','recording','newStoppedUntil','fetchConversation','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','instanceInfo','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','refused','sectionsToString','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','ENABLED','start','agents','messages.update','getRandomText','Erro\x20ao\x20remover\x20label\x20','g-t','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','^\x5cd+','\x1b[31m%s\x1b[0m','SECRET','getTicketSystem','.sendDataWebhook-global','available','statusJidList','USER','message_normalized','Error\x20updating\x20privacy\x20settings','\x20}\x0a','The\x20property\x20cannot\x20be\x20empty','request\x20received\x20in\x20editConversation','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','updateProfileStatus','\x20-y','createSectionsFromValues','Converted\x20image\x20deleted','app','deleteInstance','quoted','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','\x20saindo\x20da\x20função','writeFileSync','DOCKER_ENV','Subscribed\x20Events:','put','audioWhatsapp','hDel','firstValue','replaceVariablesChat','replaceVariables','):\x20Buscando\x20todos\x20os\x20fluxos...','This\x20name\x20','#dfaef0','done','allFlows',',\x20qrcodeCount:\x20','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','dbSettings','/clients-info','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','request\x20received\x20in\x20editFlowcondition','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','saveChatVariables','@whiskeysockets/baileys','release','860510LIcSBb','ex:\x20\x22groupJid=120362@g.us\x22','reconnectAttempts','variable','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','hasOwnProperty','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','closed','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','8sUZqkO','NextBlock','conversation','Tentativa\x20de\x20reconexão\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','):\x20Dados\x20migrados\x20com\x20sucesso','defineAuthState','params','CONFIGURAÇÃO\x20GERAL:','evaluateConditionTest','content','cwd','option','chat','groupInviteCode','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','sendCommand','keys','minutesToClose','flowActive','copyBlock','messages.upsert','Error\x20updating\x20setting','\x20inseridos\x20no\x20banco\x20de\x20dados...','ObjectId','fetchInstances','FlowController','user','max','1631532NWfTtz','expiration','#83e421','AutomateSystem','urlencoded','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','none','findContacts','splice','base64','downloadMediaMessage','Error\x20change\x20group\x20description','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','Configuração\x20do\x20ip:','startFlow','):\x20Comando\x20desconhecido:\x20','buttonMessage','):\x20','InstancesAlterarTodas','qrcode','chatId','Message','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','router','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','Database\x20is\x20not\x20enabled','reference','participants','menuType','wuid','TYPE','delayChatLabel','latitude','repeat','moreLogs','replyOptions','groupValidate','collections','\x1b[34m','js-yaml','.pptx','delayChatLabel_MAX_RETRIES','findByIdAndDelete','Error\x20occurred\x20while\x20archiving\x20chat:\x20','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','https://api.ipify.org?format=json','flattenObject','headerString','.TEL;waid=','):\x20Editando\x20grupo\x20do\x20fluxo...','object','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','Error\x20update\x20group\x20picture','exists','updateOne','webhook','\x1b[37m%s\x1b[0m','contactHandle','syscall','uuid','isInteger','https://uazapi-plugin.bubbleapps.io/?url=','customFields','):\x20Campos\x20a\x20serem\x20atualizados:','.webp','jpegThumbnail','lastInteraction','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','last_update','insert','\x20not\x20found,\x20retrying\x20in\x20','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','deleteChat','delay','uazapiSendAudio','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','groupadd','chats.delete','leadInfo.etiquetas','remove.instance','Converting\x20audio\x20to\x20mp4','parse','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','method','blockId','use','#9568cf','certbot','/chat','_Chats','updateGroupsAddPrivacy','leadInfo.customFields','badSession','DATABASE_CONNECTION_URI','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','exec','HttpsProxyAgent','envYaml','groupAcceptInvite','scheduleMessage','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','Erro\x20ao\x20editar\x20agentes:\x20','Error\x20updating\x20participants','Connection\x20closed\x20for\x20instance:\x20','):\x20Procurando\x20mensagens\x20para\x20envio','reorderBlocks','redis','testProxy','):\x20Editando\x20condição\x20do\x20fluxo...','ReplyOption\x20com\x20ID\x20','updatePrivacySettings','):\x20Limpando\x20delayMessage','GROUP_PARTICIPANTS_UPDATE','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','SSL_CONF','generate','pollCreationMessageKey',',\x20valor\x20passado:\x20\x22','):\x20Flow\x20não\x20encontrado','contactname','editFlowVaredit','textMessage','sendAudio','exports','count','replaceVariablesInObject','no.connection','Data\x20inválida\x20fornecida','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','TEL','):\x20Erro\x20durante\x20a\x20atualização:\x20','configService','Proxy\x20funcionando!','Error\x20updating\x20message\x20status:','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','editFlowCondition','string','):\x20Editando\x20variável\x20do\x20fluxo...','contains','atendimentoAberto','):\x20Query\x20params:','Error\x20creating\x20group','currency','binary','chatHandle','request\x20received\x20in\x20editFlowvariable','processApiRequest','media','METHODS','ephemeralMessage','apikey','findAndReplace','.xlsx','):\x20Enviando\x20áudio','lean','map','Rótulo\x20inválido\x20ou\x20sem\x20ID.','SSL_CONF_PRIVKEY','/instance/connect','editedMessage','getContentType','get','.jpg','Trying\x20to\x20get\x20business\x20profile','\x1b[30m%s\x1b[0m','RemoveChatLabel','fromObject','updateChatWithMessage','entries','Temp\x20audio\x20path:\x20','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','):\x20Error\x20processing\x20conditions:\x20','Error\x20in\x20scheduleNextCheck:\x20','jsonwebtoken','\x1b[36m','delaySecMin','automateSystem','contact_blacklist','variablesToObject','JWT','labels.association','fetchMessages','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','namespace','HeaderType','URI','No\x20join\x20group\x20invite\x20code\x20or\x20url','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','fetchStatus','unreadcount','chats.upsert','connect','sendStatus','error\x20get\x20vote','isBusiness','Nenhum\x20proxy\x20funcional\x20encontrado\x20ou\x20desabilitado.','readdirSync','whatsappNumber','Error\x20while\x20deleting\x20message\x20for\x20everyone','CORS','isConnected','onTime','Getting\x20image\x20from\x20url','Content\x20is\x20required','createServer','audio/aac','utf-8','Profile\x20not\x20found','arrayUnique','redisEnv','File\x20written\x20to\x20path:\x20','createConversationforgoToFlow','archive','request\x20received\x20in\x20starFlow','createConversationforStartFlow','sendPresenceUpdate','Erro\x20ao\x20editar\x20a\x20conversa:\x20','push','.txt','messageSecret','Valor\x20de\x20find\x20ou\x20replace\x20ausente','#01d0e2','uazapiSendMenu','empty','Internal\x20Server\x20Error','getMessageModelForOwner','fetchProfilePictureUrl','prototype','Error\x20updating\x20profile\x20name','not\x20loaded','stoppedUntil','groupHandler','OrAnd','EMAIL:','folder','}}\x20->\x20\x22','isJidGroup','values','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','dbClient','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','createAndSave','fileLength','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','open','hSet','removeChatLabel','includes','scheduleMessages','saveMediaToFile','chats.set','\x22\x20-\x20NOT\x20CONNECTION','pre','shift','groupFetchAllParticipating','client','updateLastSeenPrivacy','isBase64','profilePicture','requestPairingCode','description','load','replace','output','URL','isURL','):\x20Visualizando\x20AutomateSystem','Erro\x20ao\x20aplicar\x20varedit:\x20','Label\x20','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','query','Last\x20message\x20not\x20found','contentText','ORG:','documentMessage','Telefone:\x20','#56ccb4','convert','findGroupInfo','execSync',',\x20Minutes\x20to\x20Close:\x20','!cmd_','unavailable','all','Background\x20color\x20is\x20required','):\x20updateResult:','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','statusMessage','SSL_CONF_FULLCHAIN','connectedName','checkAndUpdateChatStatus','.ppt','\x1b[32m','spawn','bodyString','connectionStatus','):\x20atualização\x20chat:\x20','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','mediaKey','deleteConversation','true','eventEmitter','toLocaleString','video-cover.png','Not\x20Found','groupDesc','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','oldToken','isArray','gifPlayback','etiquetas','https://api.elevenlabs.io/v1/text-to-speech/','authState','editOperator','flowStopMinutes','readData','DELETED','exit','update','fetchPrivacySettings','readMessageBot','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','SEND_MESSAGE','getProfileName','throwAndLogError','store','Router','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','blockLogs','KEY','groupUpdateDescription','Unknown\x20message\x20type\x20or\x20empty\x20message','removeOlderDisconnectedInstances','Erro\x20ao\x20testar\x20o\x20proxy','flushHeaders','Image\x20path:\x20','403760hnPFkG','STORE_CHATS','archived','request\x20received\x20in\x20deleteDoneMessages','instance.',',\x20lastCondition:\x20','color','updateMediaMessage','footerText','pairingCode','contactsArrayMessage','Instância:\x20','Getting\x20profile\x20info','apiResponse','findLabels','useMultiFileAuthState','Converting\x20image\x20to\x20WebP\x20to\x20sticker','Db\x20Connection','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','CHATS_UPDATE','\x1b[47m','width','Host\x20de\x20proxy\x20em\x20\x27auth\x27\x20não\x20encontrado,\x20selecionando\x20um\x20proxy\x20aleatório.','now','Erro\x20do\x20Certbot:\x20','joinGroupValidate','AutomateFunctions','235719oydIZr','Temp\x20audio\x20deleted','nome','DELIVERY_ACK','request\x20received\x20in\x20fetchConversation','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','context','Início','qrCode','delAll','/wa-connection-update','PREFIX_KEY','https-proxy-agent','Failed\x20to\x20find\x20chat\x20','):\x20Enviando\x20contato','getScheduleMessage','Flow\x20não\x20encontrado','.\x20Pulando.','updateMissingEtiquetas','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','getDevice','unknown\x20operation\x20type\x20[','):\x20Iniciando\x20bot...','\x22\x20-\x20REMOVED','code','host','licenca','instanceName','capitalizedWords','archiveChat','\x1b[43m','creds','certonly','request\x20received\x20in\x20editFlowgroup','sendMenu','_error','\x20ao\x20chat\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','BRL','):\x20Enviando\x20mídia','getMIMEType','delete','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','contacts','groupUpdateSubject','body','mentioned','optionName','audioMessage','32RKGtzN','everyOne','displayName','title','menuIgnoreNonVotes','dbInstance','CHATS_SET','Erro\x20de\x20reinicialização:\x20','toLowerCase','updateGroupPicture','The\x20global\x20api\x20key\x20must\x20be\x20set','silent','sending','LOG','length','storePath','CONNECTION','Including\x20timestamp\x20in\x20url:\x20','AUTHENTICATION_JWT_SECRET','reviver','):\x20tem\x20blocks','trimmed','):\x20Conversa\x20inserida\x20com\x20sucesso.','):\x20isVote:\x20','resetReconnectionVariables','qrcode-terminal','507732KrMVgA','Número:\x20','DATABASE','pollErrorMessage','match','saveConversationToDatabase','EMAIL','processUazapi','Flow\x20iniciado\x20com\x20','AppStateSyncKeyData','*Pergunta*:\x20\x0a','normalizeMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','generateHash','\x0a{\x20instance:\x20','headers','redirect','messageId','originalUrl','Instance\x20deleted','leadInfo','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','findAndReplaceRegex','Instância\x20não\x20encontrada.','createflow','getClient','findFlow','SUCCESS','online','encoding','join','documentWithCaptionMessage','?authSource=admin&readPreference=primary&directConnection=true','READ','font','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','padEnd','round','convertaudio','temp-','deleteBlock','startsWith','CHATS_UPSERT',',\x20saindo.','labels.edit','replaceVariablesLogs','toBrazilianNumberFormat','reactionMessage','):\x20Criando\x20nova\x20conversa[createNewConversation]','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Erro\x20ao\x20iniciar\x20fluxo:\x20','readFileSync','number','WARN','sendMessage','No\x20invite\x20code','Erro\x20ao\x20copiar\x20dados:','copyDataToNewModel','match_last_seen','\x1b[41m','-whatsapp-api','instancias:\x20','lowerCase','nomecompleto','\x20quoted:\x20','cors','fone','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','STATUS_INSTANCE','groupSettingUpdate','removed','createGroup','desativadoFluxoAte','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','https://api.openai.com/v1/images/generations','Error\x20in\x20chatModify\x20for\x20number\x20','deleted','updateMissingLabels','stanzaId','fetchProfile2','dataValidate','Enter\x20a\x20value\x20in\x20milliseconds','statusCode','log','quotedMessage','poll','\x1b[46m','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','setNewValue','existsSync','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','REDIS_ENABLED','linkPreview','fetchBusinessProfile','delayChatLabel_RETRY_DELAY_MS','getOwnPropertyNames','API\x20Key\x20from\x20Request:','sendText','Erro\x20ao\x20buscar\x20conversas:\x20','.svg','sort','The\x20','waitingMenu_id','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','addChatLabel','sections','group-participants.update','getDelay','demote'];a0_0x14d2=function(){return _0x7b600d;};return a0_0x14d2();}async function xo(){const _0x12d2fc=a0_0xc64edb;let _0x206406;try{_0x206406=(await Re[_0x12d2fc(0x324)][_0x12d2fc(0x489)](_0x12d2fc(0x2f3)))[_0x12d2fc(0x1d1)]['ip'];}catch(_0x1b1855){console[_0x12d2fc(0x170)](_0x1b1855);try{_0x206406=(await Re[_0x12d2fc(0x324)][_0x12d2fc(0x489)](_0x12d2fc(0x415)))[_0x12d2fc(0x1d1)]['ip'];}catch(_0x19fea8){console['error'](_0x19fea8);try{_0x206406=(await Re[_0x12d2fc(0x324)][_0x12d2fc(0x489)]('http://checkip.dyndns.org'))[_0x12d2fc(0x1d1)][_0x12d2fc(0x5a3)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1b4a5e){return console[_0x12d2fc(0x170)](_0x1b4a5e),!0x1;}}}return _0x206406;}var No=0x0;async function Lr(){const _0x380e58=a0_0xc64edb;let _0x521fec=await new oe(b[_0x380e58(0x489)](_0x380e58(0x787)))['instanceKeys']();return console[_0x380e58(0x5f3)](_0x380e58(0x5dd),_0x521fec[_0x380e58(0x593)]),_0x521fec['length'];}function jr(_0x13c7d0){const _0x32be74=a0_0xc64edb;let _0x51f7e3=_0x13c7d0['get'](_0x32be74(0x2d5))[_0x32be74(0x4f0)],_0x30a340=_0x13c7d0['get'](_0x32be74(0x45a)),_0x5d5a14;if(_0x51f7e3){let _0x4aa9a1=_0x51f7e3[_0x32be74(0x5a3)](/\/\/(.*?)\./);_0x4aa9a1&&_0x4aa9a1[0x1]&&(_0x5d5a14=_0x4aa9a1[0x1]);}if(!_0x5d5a14&&_0x30a340&&_0x30a340[_0x32be74(0x6a4)]){let _0x549d81=_0x30a340['FULLCHAIN'][_0x32be74(0x13f)]('/'),_0x5d9c5a=_0x549d81[_0x549d81['length']-0x2];if(_0x5d9c5a){let _0x495c4d=_0x5d9c5a[_0x32be74(0x13f)]('.');_0x495c4d['length']>0x2&&(_0x5d5a14=_0x495c4d[0x0]);}}return _0x5d5a14;}var vs=jr(b);async function Fr(){const _0x3104f3=a0_0xc64edb;let _0x570e02=b[_0x3104f3(0x489)](_0x3104f3(0x787)),_0x521af5=b[_0x3104f3(0x489)](_0x3104f3(0x69c))[_0x3104f3(0x354)][_0x3104f3(0x532)],_0x2b823e=b[_0x3104f3(0x489)]('SSL_CONF'),_0x5294c7=await xo(),_0xf32538=b[_0x3104f3(0x489)](_0x3104f3(0x2d5))['PORT'],_0x821151=b[_0x3104f3(0x489)](_0x3104f3(0x2d5))['URL'];try{let _0x2db073={'ip':_0x5294c7||null,'redis_enable':_0x570e02?.[_0x3104f3(0x38b)]||null,'apikey':_0x521af5||null,'ssl':_0x2b823e?.[_0x3104f3(0x32c)]||null,'lastupdate':Do||null,'port':_0xf32538||null,'gitInstallError':Te?.[_0x3104f3(0x261)]||null,'url':_0x821151||null};if(console[_0x3104f3(0x5f3)](_0x3104f3(0x6d5),_0x2db073['ip']),_0x570e02&&_0x570e02['ENABLED']){let _0x2604f5=await Lr();_0x2db073[_0x3104f3(0x76e)]=_0x2604f5||null;}for(let _0x15d25f in _0x2db073)_0x2db073[_0x3104f3(0x3c7)](_0x15d25f)&&_0x15d25f!=='ip'&&(_0x2db073[_0x15d25f]=JSON[_0x3104f3(0x188)](_0x2db073[_0x15d25f]));return(await Re[_0x3104f3(0x324)][_0x3104f3(0x78c)](_0x3104f3(0x33c),_0x2db073))[_0x3104f3(0x1d1)];}catch(_0x17a35f){return console[_0x3104f3(0x170)](_0x17a35f),!0x1;}}var As=!0x1,Do=0x223,qr=0x3,Ro=0x1b7740;async function Is(){const _0x37cc34=a0_0xc64edb;if(!await xo())return console[_0x37cc34(0x170)](_0x37cc34(0x3be)),_0x37cc34(0x75f);let _0x3652df=await Fr();if(_0x3652df){if(_0x3652df[_0x37cc34(0x266)][_0x37cc34(0x56e)]===!0x0){b[_0x37cc34(0x489)](_0x37cc34(0x45a))['PRIVKEY'][_0x37cc34(0x4df)](_0x37cc34(0x680))&&_0x3652df['response']['subdomain']&&(await Vr(_0x3652df[_0x37cc34(0x266)][_0x37cc34(0x18c)],Jr),await Br(_0x37cc34(0x228),_0x3652df[_0x37cc34(0x266)][_0x37cc34(0x18c)]),console[_0x37cc34(0x5f3)](_0x37cc34(0x297)),setTimeout(()=>Wr(),0x2710)),Te===null&&_0x3652df[_0x37cc34(0x266)][_0x37cc34(0x42c)]-Do>0x0&&await Ur(),As||(As=!0x0,Dr());let _0x5731ec=0x24*0x3c*0x3c,_0x1ce45a=_0x3652df[_0x37cc34(0x266)][_0x37cc34(0x283)]>_0x5731ec?_0x5731ec:_0x3652df[_0x37cc34(0x266)][_0x37cc34(0x283)],_0x194ab3=Number(_0x1ce45a);if(isNaN(_0x194ab3)){console[_0x37cc34(0x170)]('interval\x20não\x20é\x20um\x20número');return;}let _0x4fe699=Math['floor'](_0x194ab3/0xe10),_0x4969c7=Math[_0x37cc34(0x234)](_0x194ab3%0xe10/0x3c),_0x266cab=new Date(Date['now']()+_0x194ab3*0x3e8);setTimeout(Is,_0x194ab3*0x3e8);let _0x118723=_0x71c341=>_0x71c341[_0x37cc34(0x289)]()['padStart'](0x2,'0'),_0x2f727c='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x118723(_0x4fe699)+'\x20horas\x20e\x20'+_0x118723(_0x4969c7)+_0x37cc34(0x20f)+_0x118723(_0x266cab[_0x37cc34(0x2ee)]())+':'+_0x118723(_0x266cab['getMinutes']())+'.';console['log'](_0x2f727c);}else return console[_0x37cc34(0x5f3)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),As&&(console['log'](_0x37cc34(0x316)),process[_0x37cc34(0x526)]()),_0x37cc34(0x305);}else{if(No++,No<qr)console[_0x37cc34(0x5f3)](_0x37cc34(0x392)+Ro/0xea60+_0x37cc34(0x68b)),setTimeout(Is,Ro);else return console[_0x37cc34(0x170)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),'SERVER_OFFLINE';}}async function Ur(){const _0x125764=a0_0xc64edb;console[_0x125764(0x5f3)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x35de3b=(0x0,Oe['spawn'])(_0x125764(0x270),{'shell':!0x0});_0x35de3b[_0x125764(0x376)]['on'](_0x125764(0x1d1),_0x39290b=>{const _0x137e9f=_0x125764;console['log'](_0x137e9f(0x67d)+_0x39290b);}),_0x35de3b[_0x125764(0x60d)]['on']('data',_0x3af814=>{const _0x767d4=_0x125764;console[_0x767d4(0x170)](_0x767d4(0x1c4)+_0x3af814);}),_0x35de3b['on'](_0x125764(0x526),_0x595d78=>{const _0x404364=_0x125764;_0x595d78!==0x0?console[_0x404364(0x170)](_0x404364(0x5fa)+_0x595d78):console[_0x404364(0x5f3)](_0x404364(0x743)),console['log']('Parando\x20aplicação...'),setTimeout(()=>process[_0x404364(0x526)](),0x2710);});}var Jr=Ae[a0_0xc64edb(0x324)]['join'](__dirname,'env.yml');async function Vr(_0x262722,_0x269d49){const _0x34ea5e=a0_0xc64edb;let _0x34248b=Gr();_0x262722=_0x262722[_0x34ea5e(0x4ee)]('.uazapi.dev','');try{let _0x300017=de[_0x34ea5e(0x324)][_0x34ea5e(0x5d3)](_0x269d49,_0x34ea5e(0x2cc));_0x300017=_0x300017[_0x34ea5e(0x4ee)](/<apikey>/,_0x34248b),_0x300017=_0x300017[_0x34ea5e(0x4ee)](/<subdomain>/g,_0x262722),de[_0x34ea5e(0x324)][_0x34ea5e(0x3aa)](_0x269d49,_0x300017,_0x34ea5e(0x2cc)),console['log'](_0x34ea5e(0x5e3));}catch(_0x42f272){console[_0x34ea5e(0x170)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x42f272);}}function Br(_0x4e9524,_0x414f4b){return new Promise((_0x82231a,_0x159a2b)=>{const _0x2edf38=a0_0x431f;let _0x6711ee=(0x0,Oe[_0x2edf38(0x50d)])(_0x2edf38(0x43f),[_0x2edf38(0x574),_0x2edf38(0x321),'-m',_0x4e9524,'--agree-tos','-d',_0x414f4b]);_0x6711ee[_0x2edf38(0x376)]['on'](_0x2edf38(0x1d1),_0x3d0ae3=>{const _0x8c7e78=_0x2edf38;console[_0x8c7e78(0x5f3)](_0x8c7e78(0x61f)+_0x3d0ae3['toString']());}),_0x6711ee[_0x2edf38(0x60d)]['on'](_0x2edf38(0x1d1),_0x2a9901=>{const _0x482c1f=_0x2edf38;console['error'](_0x482c1f(0x551)+_0x2a9901[_0x482c1f(0x289)]());}),_0x6711ee['on'](_0x2edf38(0x2d8),_0x8e7cf5=>{const _0x493193=_0x2edf38;_0x8e7cf5!==0x0?(console[_0x493193(0x170)](_0x493193(0x2da)+_0x8e7cf5),_0x159a2b('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x8e7cf5)):(console['log'](_0x493193(0x2a6)),_0x82231a());});});}function Gr(_0x707291=0x32){const _0x4cf652=a0_0xc64edb;let _0x3a9d5c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x40b8ea='';for(let _0x1ac139=0x0;_0x1ac139<_0x707291;_0x1ac139++)_0x40b8ea+=_0x3a9d5c[_0x4cf652(0x1da)](Math['floor'](Math['random']()*_0x3a9d5c[_0x4cf652(0x593)]));return _0x40b8ea;}function Wr(){const _0x4834bb=a0_0xc64edb;(0x0,Oe[_0x4834bb(0x447)])(_0x4834bb(0x308),(_0x4deb00,_0x3eceba,_0x47bb31)=>{const _0x586308=_0x4834bb;if(_0x4deb00){console[_0x586308(0x170)](_0x586308(0x323)+_0x4deb00);return;}if(_0x47bb31){console[_0x586308(0x170)](_0x586308(0x58c)+_0x47bb31);return;}console['log'](_0x586308(0x2e6)+_0x3eceba);});}0x0&&(module[a0_0xc64edb(0x463)]={'subdomain':subdomain});