const a0_0x5d3ab0=a0_0xf130;(function(_0x9a94dd,_0x576523){const _0x3ee35b=a0_0xf130,_0x479e7e=_0x9a94dd();while(!![]){try{const _0x3cb8df=parseInt(_0x3ee35b(0x245))/0x1*(parseInt(_0x3ee35b(0x50a))/0x2)+-parseInt(_0x3ee35b(0x1d5))/0x3+-parseInt(_0x3ee35b(0x476))/0x4+parseInt(_0x3ee35b(0xbb))/0x5+parseInt(_0x3ee35b(0x5cb))/0x6*(-parseInt(_0x3ee35b(0x56b))/0x7)+parseInt(_0x3ee35b(0x36f))/0x8*(-parseInt(_0x3ee35b(0x6f6))/0x9)+parseInt(_0x3ee35b(0x683))/0xa;if(_0x3cb8df===_0x576523)break;else _0x479e7e['push'](_0x479e7e['shift']());}catch(_0x3544d9){_0x479e7e['push'](_0x479e7e['shift']());}}}(a0_0x256a,0xca565));function a0_0x256a(){const _0x29f67a=['editFlowBlock','RemoveChatLabel','push','updateGroupsAddPrivacy','FlowModel','importChats','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','Error\x20in\x20chatModify\x20for\x20number\x20','instanceKeys','PENDING','flowIgnoreGroups','uncaughtException','env.KEY\x20!==\x20key','font','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','removed','groupName','Safari','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','labelId','dbClient','userDevicesCache','DD/MM\x20HH:mm:ss','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','groups_ignore','out','#fed428','getRandomText','conversationTimestamp','https://chat.whatsapp.com/','\x20is\x20already\x20in\x20use.','):\x20não\x20encontrou','\x20-i\x20','):\x20Query\x20params:','bearer','STORE_CLEANING_TERMINAL','option','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','\x20minutos','):\x20newSecondValue\x20após\x20replaceVariables:','replaceOne','off','Error\x20updating\x20cache\x20contact:','values','expiration','Background\x20color\x20is\x20required','desc','connectedName','sort','http://ip-api.com/json','class-validator','length','.url','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','public','updateBlock','editflowblock','Mensagens\x20deletadas\x20com\x20sucesso.','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','tags','BufferJSON','random','checkAndRestartProcess','nomecompleto','CHATS_UPSERT','DATABASE_CONNECTION_USER','scheduleMessage','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','toNumber','configService','Fetching\x20business\x20profile','groupSettingUpdate','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','audio/ogg','Type\x20not\x20found','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','isAdmin','chatHandle','createRegularFlow','createClient','27QYpSJE','hGet','updateGroupWebhook','routerPath','SERVER_PORT','clearVariables','writeData','addresss','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','):\x20[messages.update]\x20group\x20ignored',':\x20IP\x20funcionando!','pushName','getStatus','):\x20Enviando\x20áudio','makeCacheableSignalKeyStore','):\x20teve\x20mudanças\x20chat.archived:\x20','formatVCard','^\x5cd+','allContacts','authorization','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','audio/ogg;\x20codecs=opus','\x1b[46m','ChatModel','WebhookGlobal','has','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','headerString','):\x20Erro\x20durante\x20a\x20atualização:\x20','cacheContact','contactHandle','Pausado\x20por\x20','Request\x20Body:','process','_Flows','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','menuType','variablesNotFound','sendDataWebhook','messageId','deleteMessageForEveryone','):\x20Query\x20params:\x20','getChatModelForOwner','Valor\x20de\x20find\x20ou\x20replace\x20ausente','downloadMediaMessage','false','env.yml','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','scheduleNextCheck','sim','updateParticipant','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','sectionsToString','readFileSync','Bloco\x20com\x20ID\x20','sync','contacts','--agree-tos','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','selectedOptions','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','):\x20Editando\x20bloco...','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','pollCreationMessage','inner','CORS','redis','}}\x20->\x20valor\x20não\x20encontrado','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20atualização\x20chat:\x20','):\x20leadInfoVariables','error','Erro\x20ao\x20buscar\x20Schedule\x20Messages','end','@newsletter','_error','DaysToDelete',':\x20Erro\x20durante\x20loadproxy\x20-\x20','):\x20Chat\x20','@g.us','/group','envYaml','events','mongodb','Cached\x20audio\x20found,\x20returning\x20existing\x20file','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','audioWhatsapp','https://api.openai.com/v1/images/generations','chats.delete','\x20->\x20NÃO\x20CORRESPONDE.','request\x20received\x20in\x20editFlow','deleteDoneMessages','\x20quoted:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','\x20e\x20proprietário\x20','connectionUpdate','formatBRNumber','sticker','evaluateConditionTest','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','Certbot\x20executado\x20com\x20sucesso.','updateMissingTags','SERVER_URL','REDIS_PREFIX_KEY','Erro\x20ao\x20alterar\x20fluxo','logout','Telefone:\x20','axios','ERROR:\x20','EMAIL','getDelay','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','!stop','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','stopConversation','createConversationforgoToFlow','choices','-whatsapp-api',',\x20canSendMessage:\x20','Selecione','Erro\x20ao\x20buscar\x20conversas','Module\x20-\x20ON','DATABASE_CONNECTION_HOST','Cache-Control','Close\x20connection','/message','changeVariables','existsSync','sections','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','reaction','messages.update','Subscribed\x20Events:','delayChatLabel','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','unreadcount','trimmed','AutomateFunctions','insertCount','isJidUser','groups','nome','Erro\x20ao\x20importar\x20chats','CHATS_UPDATE','Flow\x20não\x20encontrado','fileName','cpf','deletedCount','isBase64','app-state-sync-key','uuid','DATABASE','fetchProfilePictureUrl','findConversation','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','replaceVariablesInReplyOptions','getTime','API\x20Key\x20inválida.','demote','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','message_normalized','):\x20','The\x20instance\x20needs\x20to\x20be\x20disconnected','getMessageModelForOwner','apply','command','\x20horas\x20e\x20','updateMissingEtiquetas','keyPattern','removeData','findAndReplaceRegex','findLabels',',\x20Expiration\x20Time:\x20','):\x20Enviando\x20localização','exists','awaitSeconds','pre','https://','utf-8','timeout','response',',\x20Minutes\x20to\x20Close:\x20','lean','delAll','Types','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','contentText','birthtime','findByIdAndUpdate','when','AUTHENTICATION_TYPE','dataValidate','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','useMultiFileAuthState','/wa-groups','Font\x20is\x20required','readData','/:instanceName','listMessage','joinGroup','request\x20received\x20in\x20updateFlowConfig','utf8','cache','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','editflowreply','saveVariable','editFlowVariable','1432890QIeRvC','getAllData','ListType','webhookService','Erro\x20ao\x20tentar\x20autoCompleteMessages','updateProfilePicturePrivacy','memberAddMode','/wa-chats','CONTACTS_UPSERT','varedit','\x20e\x20ID=','CONNECTION','):\x20Alterando\x20fluxo...','capitalizedWords','padEnd','InstancesAsDisconnectedX','):\x20\x27Deletando\x20fluxo,\x20name:\x20','type','sendMessage','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','):\x20Enviando\x20texto','entries','group-participants.update','RECONNECT_TIME_FRAME','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','):\x20Falha\x20ao\x20deletar\x20mensagem.','isURL','address','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','deleteOne','/wa-message','):\x20Entrou\x20na\x20função\x20clearVariables','groupDesc','STORE_CHATS','):\x20Criando\x20fluxo\x20regular...','Error\x20fetching\x20and\x20updating\x20profile:\x20','CHATS_SET','throwAndLogError','Erro\x20ao\x20editar\x20o\x20bloco:\x20','\x1b[42m','valid','getFlowModelForOwner','key','Connection','debug','everyOne','8080','.ogg','\x5c$&','create','subjectTime','Error\x20while\x20deleting\x20message\x20for\x20everyone','saveMediaToFile','certonly','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','mentions','mimetype','folder','request_time','endSession','ephemeralMessage','errors','findContacts','presence.update','#9ba6ff','Erro\x20ao\x20buscar\x20a\x20conversa','lastBlockId','send','listResponseMessage','isBusiness','notas','condition','contact_blacklist','fetchLabels','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','storePath','):\x20Ignoring\x20group\x20messages.','hex',',\x20lastCondition:\x20','Mac\x20OS',',\x20Segundo\x20Valor:\x20','createNewConversation','now','updateMessage','\x20não\x20encontrado\x20para\x20atualização.','flowConversation','enabled','cleaningUp','addBlock','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','URI','replyOption','.pptx','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','./.git/config','.svg','Erro\x20ao\x20tentar\x20updateCustomFields','sendContact','):\x20updateResult:','jpegThumbnail','Log\x20out\x20instance:\x20','updateReplyOption','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Schema','startCommandWord','latitude','fetchInstances','Instance\x20deleted','#ff9484',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','/config','COLOR','test','.wav','getFlow','connectToWhatsappController','password','sendList','Fluxo\x20agendado\x20pelo\x20fluxo\x20','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','shift','loggedOut','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','updateChatWithMessage','editFlowReply','://','Erro\x20ao\x20deletar\x20chat:','del','deleteMany','markMessageAsRead','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','.jwt','email','replace','archived','--standalone','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','stanzaId','_Chats','canSendMessage','deleteConversation','recording','round','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','\x20-y','sem\x20texto\x20na\x20mensagem','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','\x1b[34m','request\x20received\x20in\x20fetchConversation','$pull','GUARD','ContactModel','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','badSession','Removidas\x20as\x20variáveis:\x20','binary','fetchMessages','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','number','connectionClosed','toggleEphemeral','Erro\x20ao\x20deletar\x20a\x20conversa','loadEnv','/automate','setting','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','crypto','MAX_RECONNECT_ATTEMPTS','.mp4','oldValue','exit','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','prototype','\x20com\x20sucesso.','scheduleFlow','Hash\x20to\x20image\x20name:\x20','collections','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','\x1b[1m\x1b[37m','.webp','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','upsertChats','importChatsAntigo','Image\x20created','updatePresence','):\x20Entrou\x20na\x20função\x20scheduleFlow','dbSettings','resetReconnectionVariables','@s.whatsapp.net','whatsappNumber','groupHandler','labels.edit','Erro\x20ao\x20atualizar\x20o\x20documento:','Getting\x20image\x20from\x20url','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','\x5cd+','findAll','https://ipinfo.io/json','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','\x1b[31m','Db\x20Connection','creation','flowConfig',':\x20IP\x20configurado:\x20','stopWhenYouSendMsg','):\x20Label\x20','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20Deletando\x20conversa...','leaveGroup','InstancesAlterarTodas','_FlowHistorico','documentWithCaptionMessage','?timestamp=','CORS_CREDENTIALS','stoppedUntil','vcard','mongoose','saveChatVariables',',\x20isAdmin:\x20','CLEANING_INTERVAL','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','participants','context','newStoppedUntil','privacySettings','sleep','http://ipecho.net/plain','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Fluxo\x20não\x20encontrado.','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','next_groupId','code','participant','isCommunityAnnounce','authService','/*.json','pop','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','data:\x20',',\x20pairCode:\x20','pollOnReplyDelete','stickerMessage','isRunning','/chat','delayMessage','list','editFlowCondition','_ScheduleMessages','\x1b[41m','flush','content-type','remoteJidsRemaining','PLAYED','getDevice','uazapiSendMedia','ENABLED','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','isConnected','SEND_MESSAGE','warn','All_Instances_Config','URL','\x1b[32m','lastSend','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','statusCode','createSectionsFromValues','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','dropIndex','descId','normalizeMessage','\x22\x20not\x20found','This\x20name\x20','model','pollUpdateMessage','profilePicture','3903792pSOVJt','saveConversationToDatabase','Internal\x20Server\x20Error','load','imagechat','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','#9ab6c1','exports','compression','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Instance\x20Key\x20from\x20DB:','updateAll','insertMany','*Pergunta*:\x20\x0a','editedMessage','max','loadInstance','buttonMessage','updateOnlinePrivacy','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','ORG:','):\x20Bloco\x20com\x20ID\x20','menuExpiredMessage','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','toBrazilianNumberFormat','AUTHENTICATION_JWT_SECRET','cachedContact','creds.update','admin_add','done','ms\x20(tentativa\x20','getVariablesChat','indexOf','url','\x20minutos.\x20Será\x20às\x20','Image\x20is\x20base64','Temp\x20image\x20deleted','Mensagem\x20não\x20suportada','sendPoll','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','cors','blockId','lastUpdate','\x1b[32m%s\x1b[0m','CREDENTIALS','deleteMessage','video-cover.png','getPrototypeOf','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','Erro\x20ao\x20copiar\x20o\x20documento','\x1b[37m','\x1b[47m','DELIVERY_ACK','uazapi','buttons','Audio\x20converted\x20and\x20stored\x20in\x20cache','Message','sendLocation','):\x20Editando\x20condição\x20do\x20fluxo...','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','\x1b[37m%s\x1b[0m','updateStatusPrivacy','Falhou\x20ao\x20encontrar\x20chat\x20','convertToWebP','copyBlock','action','findOrCreate','Erro\x20ao\x20adicionar\x20label\x20',',\x20Comparador:\x20','File\x20written\x20to\x20path:\x20','LICENSE_INVALID','\x0aitem','labels.association','Deleted\x20','toBRL','groupUpdateDescription','updateProfileName','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','sign','creds','floor','):\x20Rótulo\x20atualizado:\x20','document','composing','pairingCode','SendScheduleMessage','#9568cf','STORE','concat','convertedOptions','flowPrefixCommand','recebido\x20de','no.connection','notEmpty','Tentando\x20reconectar...','Invalid\x20format','audioMessage','):\x20Conversa\x20inserida\x20com\x20sucesso.','maxActives','chat','):\x20Buscando\x20todos\x20os\x20fluxos...','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','restrict','buttonText','announce','charAt','\x1b[0m','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','\x20depois\x20','content','1xddbQJ','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','VERBOSE','messages','\x20foi\x20interrompido\x20pelo\x20usuário.','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','):\x20Buscando\x20conversas...','Cannot\x20','LOG','agents','dbConnection','):\x20Enviando\x20mídia','\x20não\x20encontrado.','DATABASE_ENABLED','post','@redis/client','connectedClient','getScheduleMessage','):\x20Error\x20processing\x20the\x20block:\x20','\x20adicionado\x20ao\x20chat\x20','senderKeyDistributionMessage','send.message','PRIVKEY','@ffmpeg-installer/ffmpeg','):\x20Grupo\x20','DOCKER_ENV','):\x20Edit\x20schedule\x20message...','goNextblock','processConditionsTest','/exit','messages.set','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','groupBetterSetting','findAndReplace','groups.update','ScheduleMessage','iniciando\x20fluxo\x20router','DATABASE_CONNECTION_PASSWORD','name','PORT','localWebhook','fromMe','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','emit','fone','reviver','):\x20enviado\x20para\x20[','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','updatePrivacySettings','downloads','Desconectado,\x20parando\x20execução.','http://icanhazip.com/','apiResponse','USER','\x20removido\x20do\x20chat\x20','cacheContactModel','application/json','remove','Archiving\x20chat','Parando\x20aplicação...','interval\x20não\x20é\x20um\x20número','messageHandle','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','organization','groupFetchAllParticipating','setRestartTimeout','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','ini','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','):\x20Buscando\x20flow,\x20name:\x20','../env.yml','#01d0e2','prepareMediaMessage','.X-ABLabel:Celular\x0a','vote','Erro\x20ao\x20inserir\x20chats:','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','$set','.gif','Not\x20allowed\x20by\x20CORS','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','editFlowVaredit','Não\x20respondeu\x20com\x20a\x20enquete.','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','find','silent','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','none','Parando\x20aplicação,\x20atualização\x20recebida','Erro\x20ao\x20normalizar\x20a\x20mensagem:','arraybuffer','MessageModel','listType','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','modifiedCount','from','$dbName','archiveChat','contains','inviteCodeDetails','presenceSubscribe','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','):\x20Comando\x20desconhecido:\x20','.mimetype','getBusinessProfile','realVariables','get','optionDescription','username','deleteReplyOption','ObjectId','Error\x20in\x20converting\x20audio','eventHandler','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','collection','variablesToObject','addChatLabel','lowerCase','instancias:\x20','update','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','verifyWhatsAppNumber','assign','fetchChats','removeChatLabel','allflows','Erro\x20ao\x20atualizar\x20o\x20flow.','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','no-cache','auth','label','\x20inseridas\x20no\x20banco\x20de\x20dados...','add','Data\x20inválida\x20fornecida','removeInstance','):\x20Flow\x20desativado','gifPlayback','temp-','fetchBusinessProfile','isLong','lastInteraction','/media','leadInfo.','messaging-history.set','loadWebhook','lastFetchAwaitingApproval','updateFlowConfig','\x20segundos','deleteBlock','defineAuthState','listen','map','pictureUrl','Erro\x20ao\x20buscar\x20o\x20fluxo','description','Not\x20Found','):\x20mediaMessageInfoId\x20:\x20','writeFileSync','convertaudio','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','image','stderr','Group\x20not\x20found','redis://127.0.0.1:6379','contactsArrayMessage','viewOnceMessageV2','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','contact','logger','\x1b[44m',',\x20data:\x20','optionName','groupRevokeInvite','INFO','Erro\x20de\x20atualização:\x20','sendButtons','messageType','updateAgent','CHATS_DELETE','generateWAMessageFromContent','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','SERVER_TYPE','processScheduleFlow','updateGParticipant','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','approve','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','repeat','express','expression','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','delay','groupValidate','Router','endsWith','MESSAGES_UPSERT','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','certbot','waMonitor','testingWith','json','#6f7bcf','customFields','findGroups','leadInfo','#d3a91f','pollCreationMessageV2','groupUpdateSubject',',\x20qrcodeCount:\x20','/create','user','deleteAll','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','request\x20received\x20in\x20getConversation','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','footerText','):\x20Conversa\x20atualizada\x20em\x20memória','\x1b[36m%s\x1b[0m','menuMessage','release','\x20-\x20ON:\x20','Image\x20path:\x20','waitingMenu_ExpiredMessage','Image\x20is\x20url','fullName','):\x20Limpando\x20delayMessage','js-yaml','muteEndTime','pollErrorMessage','findById','/events','Erro\x20ao\x20sincronizar\x20fluxos:\x20','lastMessage','https://jsonip.com','sha256','groups.upsert','instance.','.\x20Aguardando\x20antes\x20de\x20reconectar...','reorderBlocks','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','reject','Content-Type','toArray','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','updateCustomFields','profile','connectToWhatsapp','/instance/create','):\x20Criou\x20conversa\x20no\x20startFlow','poll','Erro\x20ao\x20encerrar\x20a\x20API','toUpperCase','views','licenca','Flow\x20iniciado','videoMessage','stopMinutes','qrcode.updated','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','Instance\x20Name:','request\x20received\x20in\x20getFlow','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','editflow','TEXT','getAutomateSystem','remove.instance','Last\x20message\x20not\x20found\x20for\x20number:','title','readreceipts','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','/instance/connectionState','createInstance','processclearVariables','imgUrl','unhandledRejection',',\x20valor\x20a\x20encontrar:\x20\x22','):\x20conversation.status:\x20','connection.update','authState','uazapiSendContact','getClient','reconnectTimestamps','proto','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','rows','createServer','processblock','jwt','drop','base64','execSync','replaceVariables','.extension','owner','3836200RbaMBp','and','getLastMessage','uazapiDeleteMessage','sendStatus','http://checkip.dyndns.org','variable','messageContextInfo','fetchContacts','Instance\x20\x22','chatModify','where','all_member_add','waitingMenu_id','shareOwners','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','readdirSync','verifiedName','put','scheduleSendMedia','):\x20Editando\x20replyOption...','}}\x20->\x20\x22','promote','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','awaitingApproval','_Contacts','WARN','StatusJidList\x20is\x20required','\x20Tentativa\x20de\x20reconexão\x20','):\x20Criando\x20fluxo\x20compartilhado...','array','longitude','blocks','conditions','CORS_METHODS','augusto.fcs@gmail.com','request\x20received\x20in\x20deleteFlow','forEach','host','parse','creds.json','stateConnection','request\x20received\x20in\x20updateAgent','isJidBroadcast','setContext','delayChatLabel_MAX_RETRIES','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','):\x20Fluxos\x20não\x20estão\x20ativados','onTime','formatStatusMessage','flowName','replyOptions','http','some','updateMissingShareOwners','protocol','greater','query','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','errorLog','.xls','onWhatsApp','segundos','subdomain',']\x20(','):\x20Enviando\x20contato','synchronizeFlows','blockLogs','getMessage','.error','Image\x20converted\x20to\x20WebP','createWebhook','.webm','moreLogs','slice','.type','mongodb://','updateStopChat','.pdf','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','lastCondition','API\x20Key\x20from\x20Request:','processUazapi','bulkWrite','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','Processing\x20audio','urlOrBase64','groupJoinApprovalMode','createFlow','website','sendMenu','):\x20this.processing_id:\x20','RemoteJid:','\x20:\x20','notEqual','AutomateSystem\x20não\x20foi\x20inicializado','Trying\x20to\x20get\x20business\x20profile','updateMany','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','processgoToFlow','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','apikey','node-mime-types','arrayUnique','reorderReplyOptions','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','options','groupId','bateu\x20events','addReplyOption','mediaMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','getOwnPropertyNames','delayChatLabel_RETRY_DELAY_MS','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','Not\x20is\x20business\x20profile','createflow','#fe9dfe','copy','parseInt','ephemeralExpiration','\x20de\x20conectar\x20com\x20IP\x20extra.','updateProfilePicture','Chat\x20com\x20ID\x20','\x20-\x20retornado:\x20','sendWhatsAppAudio','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','_Messages','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','):\x20alterando\x20this.AutomateSystem','color','deleted','groupMetadata','AutomateSystem','):\x20transformedCustomFieldVariables','Número:\x20','ex:\x20\x22groupJid=120362@g.us\x22','CONTACTS_SET','replaceVariablesInObject','AUTHENTICATION','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','waitingForReplyMenu','notify','hbs','info','fetchPrivacySettings','width','/wa-qrcode','\x20não\x20encontrado\x20para\x20cópia','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','editFlow','open','fromObject','repository','qrcode','SERVER',',\x20valor\x20passado:\x20\x22','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','):\x20Bloco\x20original\x20para\x20cópia:\x20','Bad\x20Request','child_process','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','hasOwnProperty','last','presence','Instance\x20logged\x20out','webp','Valor\x20inicial:\x20\x22','\x20\x1b[0m','urlencoded','unreadCount',',\x20Resultado:\x20','Falha\x20ao\x20processar\x20a\x20solicitação','chatId','Authentication\x20error','admin','created','SSL_CONF','basename','statusMessage','):\x20Going\x20to\x20','instanceInfo','Database\x20connection\x20closed.','envProcess','):\x20customFieldVariables','Instância:\x20','http://ifconfig.me/ip','msgRetryCounterCache','AUTHENTICATION_API_KEY','createGroup','contactMessage','chats.update','insert','The\x20','output','join','node-cache','findAndUpdateCacheContact','REDIS_URI','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','jsonschema','ultimaTentativaRemoteJid','keys','removeProfilePicture','Erro\x20ao\x20deletar\x20mensagens:','media','updateMediaMessage','verbose','Forbidden','static','-instances','#92ceac','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','QRCODE_UPDATED','connect','dbServer','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','MESSAGES_UPDATE','minutesToClose','ephemeralDuration','notMatchRegex','close','readMessage','processPollUpdateMessage','firstValue','PRODUCT_LIST','item','fileUrl','requestPairingCode','sendPresenceUpdate','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','webhook','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','groupJid','@whiskeysockets/baileys','normalizeMessageContent','):\x20Error\x20processing\x20conditions:\x20','apirequest','joinGroupValidate','waInstances','_remoteJid','currency','Atualização:\x20','src','subject','sendReaction','startID','replacer','\x1b[40m','CONECTADO\x20À\x20UAZAPI','groupToggleEphemeral','chats','updateGParticipate','Imagem\x20não\x20encontrada','METHODS','flow','3228964SIovFe','):\x20Editando\x20variável\x20do\x20fluxo...','sharePass','reconnectAttempts','\x1b[33m','getProfileName','Variáveis\x20não\x20encontradas:','Número\x20não\x20possui\x20WhatsApp.','AUTHENTICATION_JWT_EXPIRIN_IN','toFile','digest','https://api.ipify.org?format=json','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','cwd','DEBUG','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','atendimentoAberto','ConversationModel','NextBlock','status','Database\x20is\x20not\x20enabled','protocolMessage','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','editScheduleMessage','Fluxo\x20não\x20encontrado','Erro\x20ao\x20atualizar\x20o\x20fluxo:','SSL_CONF_PRIVKEY','global','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','/instance/delete','\x20não\x20encontrado','):\x20Enviando\x20enquete','contacts.update','/instance/connect','/wa-presence','LabelModel','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','eventEmitter','\x20instance\x20does\x20not\x20exist','not_announcement','convert','/instance','true','validate','ERROR','Erro\x20ao\x20atualizar\x20conversa:\x20','instanceCount','The\x20property\x20cannot\x20be\x20empty','uazapiSendAudio','min','Error\x20occurred\x20while\x20archiving\x20chat:\x20','local_map','):\x20Bloco\x20copiado:\x20','request\x20received\x20in\x20createFlow','pollCreationMessageV3','reactionMessage','DisconnectReason','PREFIX_KEY','StartID:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','method','chats.upsert','DARK','request\x20received\x20in\x20starFlow','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Rótulo\x20deletado:\x27,\x20','Erro\x20ao\x20editar\x20o\x20chat','dbInstance','toLowerCase','cleanStore','flattenObject','deleteImportedChat','reference','Esse\x20fluxo\x20expirou','request\x20received\x20in\x20getAutomateSystem','match','CacheContacts\x20database\x20connection\x20closed.','path','scheduleSendAudio','deleteChat','\x20}\x0a','FULLCHAIN','cachedContacts-whatsapp','delete','groupMemberAddMode','getHours','initAuthCreds','Converting\x20image\x20to\x20WebP\x20to\x20sticker','groupadd','pt-BR','findChats','instances','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','GROUP_PARTICIPANTS_UPDATE','g-t','createSharedFlow','SECRET','Erro\x20ao\x20aplicar\x20varedit:\x20','groupAcceptInvite','https://uazapi-plugin.bubbleapps.io/','authModel','):\x20Usando\x20extensão\x20padrão:\x20','editflowvaredit','Certbot:\x20','default','desativadoFluxoAte','.doc','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','restartInstance','integer','beautifyWithPlaceholders','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','apiName','loadproxy','redirect','createHash','truncatedto','_id','/wa-contacts','exec','.mp3','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','KEY','editChat','DATABASE_CONNECTION_DB_PREFIX_NAME','groupdata','findAndUpdate','ids','\x20contacts','split','textMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','joinApprovalMode','waitingMenu_replyOptions','importChatsBatch','isListOfNumbers','deleteflow','updateConversation','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','refused','leadInfo.customFields','inviteCode','_pushName','Content\x20is\x20required','getOwnPropertyDescriptor','upperCase','body','2193972BWoVYc','request\x20body:\x20','https',',\x20global:\x20','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','linkPreview','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','updateGroupParticipantsWebhook','text','#000000','quoted','deleteInstance','.ppt','readMessages','finish','STATUS_INSTANCE','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','eventemitter2','spawn','updateReadReceiptsPrivacy','profileName','app','Erro\x20ao\x20atualizar\x20AutomateSystem:','getBase64FromMediaMessage','enviado\x20para','conversation','/wa-connection-update','https://uazapi-plugin.bubbleapps.io/?url=','mediaKey','statusJidList','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','@broadcast','PASSWORD','50mb','instanceName','MESSAGES_SET',',\x20saindo.','sendMessageWithTyping','HttpsProxyAgent','port','applyvaredit','getConversation','http://myexternalip.com/raw','scheduled','GROUPS_UPDATE','/webhook','):\x20Entrou\x20na\x20função\x20processawaitSeconds','?authSource=admin&readPreference=primary&directConnection=true','responsavelid','getScheduleMessageModelForOwner',',\x20apikey:\x20','Notifying\x20clients\x20for\x20chat:\x20','/startFlow/:instance/:startID','limit','available','displayName','string','PRESENCE_UPDATE','#56ccb4','Button\x20texts\x20cannot\x20be\x20repeated','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','__esModule','lastSendMessage','webhookMap','descOwner','createJid','pino','):\x20tem\x20blocks','connectionStatus','connecting','selectableCount','API_KEY','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','imported','numbers','#ffae04','getConversationModelForOwner','whatsappNumbers','error_log','createAndSave','\x1b[1m','):\x20Procurando\x20conversa','setWebhook','Erro\x20ao\x20iniciar\x20fluxo:\x20','originalUrl','isCommunity','Output\x20path:\x20','Converted\x20image\x20deleted','buttonId','Error\x20fetching\x20group','https-proxy-agent','fetchConversation','audio','substring','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','28AFxcMo','Type\x20is\x20required','waitingMenu_text','express-async-errors','STORE_CONTACTS','env','encoding','Delete\x20chat','getMinutes','params','save','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','isArray','Comando\x20desconhecido','locationMessage','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','\x20mensagens\x20de\x20','getContactModelForOwner','contacts.upsert','hGetAll','updateGroupPicture','messageStubType','DATABASE_CONNECTION_URI','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','\x0a{\x20instance:\x20','prepareWAMessageMedia','uazapiSendLocation','):\x20conversation.lastInteraction:\x20','paused','waUploadToServer','filter','Erro\x20ao\x20alterar\x20privacidade','prefixCommand','matchRegex','set','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','varedits','etiquetas','Logger','mediatype','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','updateAutoCompleteMessages','Início','getLabelModelForOwner','last_update','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','JWT','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','removeUnusedChatFields','boolean','StartBot','DB_PREFIX_NAME','request\x20received\x20in\x20editConversation','console','startFlowWebhook','log','unlinkSync','scheduleSendText','sendMedia','updateMissingCustomFields','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','hDel','telefone','sendSticker','GET','Operador:\x20\x22','ON\x20-\x20dbName:\x20','getMIMEType','startsWith','TYPE','$addToSet','REDIS_ENABLED','headers','PROXY','findByIdAndDelete','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','):\x20isVote:\x20','pollCreationMessageKey','redisEnv','Deletion\x20failed','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','instanceName\x20not\x20provided.','phoneNumber','jsonwebtoken','ButtonsMessage','locked','<subdomain>','Erro\x20ao\x20remover\x20instâncias\x20antigas:','lastDisconnect','EMAIL:','includes','READ','updateOneById','splice','saveTextReply','\x1b[36m','1857984ZZLeqm','isJidGroup','mkdirSync','size','findGroup','label_jid','ChatRouter','CONTACTS_UPDATE','The\x20\x22','detail','TEL','fetchProfile','messageTimestamp','fetchProfilePicture','call','variables','groupSetting','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','.png','autoCompleteMessages','request\x20received\x20in\x20editFlowgroup','empty','/wa-all-message','Nenhum\x20participante\x20válido\x20encontrado.','Erro\x20do\x20Certbot:\x20','activatedCount','\x20tentativas:\x20remotejid=','rowId','request\x20received\x20in\x20updateAutoCompleteMessages','chatLog','updateProfileStatus','):\x20Editando\x20grupo\x20do\x20fluxo...','padStart','notContains','):\x20Limpando\x20AutomateSystem','profilePictureUrl','header','dayjs','request_method','\x20tentativas.','):\x20Campos\x20a\x20serem\x20atualizados:','createConnection','The\x20global\x20api\x20key\x20must\x20be\x20set','flowActive','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','requestFile','Message\x20not\x20found','online','group','message','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','bodyStringErrorParse','):\x20Visualizando\x20AutomateSystem','contextInfo','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','findFlow','DELETED','getContentType','closed','editConversation','sending','text/event-stream','):\x20Procurando\x20mensagens\x20para\x20envio','quotedMessage','state','request\x20received\x20in\x20deleteConversation','pollMessage','delaySecMin','Resultado\x20da\x20atualização:','FlowRouter','.uazapi.dev','Falha\x20ao\x20processar\x20fetchBusinessProfile','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','replaceValue','namespace','superadmin','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','revokeInviteCode','Last\x20message\x20not\x20found','stringify','replaceVariablesChat','findWebhook','bodyString','request\x20received\x20in\x20allFlows','result','lastReceivedMessage','\x22\x20cannot\x20be\x20empty','Fluxos\x20não\x20estão\x20ativados','remoteJid','https://github.com/uazapi/uazapi.git','Conexão\x20estabelecida','start','*\x0a\x0a','order','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','AddChatLabel','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Falha\x20após\x20várias\x20tentativas.','isInteger','success','uazapiSendText','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','):\x20Ler\x20mensagem','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','):\x20lastBlockId:\x20','data','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','archive','block','router','findOne','instance','client','view\x20engine','findOneAndUpdate','setUpdate','updateOne','groupGetInviteInfo','findIndex','deleteFlow','qrCode','findGroupInfo','status.instance','readMessageBot','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','):\x20Entrou\x20na\x20função\x20goToFlow','upsertedCount','fileLength','extractMessageContent','unavailable','CONNECTION_UPDATE','):\x20Mensagem\x20já\x20enviada\x20para\x20','allFlows','count','toString','request\x20received\x20in\x20editFlowvariable','backgroundColor','.TEL;waid=','ListMessage','mentioned','fetchLatestBaileysVersion','flowStopConversation','convertaudioMP3','editFlowGroup','_fromMe','_Labels','editOperator','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','#f64847','Error\x20removing\x20unused\x20chat\x20fields:','uazapiSendMenu','video','startFlow','pollMessageOnDelete','setHeader','Missing\x20global\x20api\x20key','processApiRequest','\x20ao\x20chat\x20','value','less','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','undefined','stdout','):\x20Flow\x20não\x20encontrado','CORS_ORIGIN','caption','processing_id',':\x20Tentativa\x20','messages.upsert','GROUPS_UPSERT','role','webhookModel','/instance/fetchInstances','):\x20expirationTime:\x20','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','toLocaleString','):\x20debug\x20alterando\x20this.AutomateSystem','Instance\x20ID:','sendText','wuid','automateSystem','stopped','error\x20get\x20vote','status@broadcast','42309450rQRYhd','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','Sending\x20audio\x20whatsapp','createConversationforStartFlow','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','secondValue','closeExistingConversations','mediaSticker','NO_IP','trim','use','all','application/octet-stream','findParticipants','editflowvariable','#ffffff','WA\x20MODULE','Error\x20in\x20scheduleNextCheck:\x20','OrAnd','object','jid','LOG_COLOR','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','BRL','findManyByIds','inviteUrl','announcement','/media/','processvaredits','):\x20Current\x20Time:\x20','connectionState','REDIS','unlocked'];a0_0x256a=function(){return _0x29f67a;};return a0_0x256a();}var Lo=Object[a0_0x5d3ab0(0xee)],Je=Object['defineProperty'],Fo=Object[a0_0x5d3ab0(0x507)],Jo=Object[a0_0x5d3ab0(0x3e2)],Uo=Object[a0_0x5d3ab0(0x204)],qo=Object[a0_0x5d3ab0(0x16c)][a0_0x5d3ab0(0x417)],Vo=(_0x1ab06d,_0x160366)=>{for(var _0x23cb50 in _0x160366)Je(_0x1ab06d,_0x23cb50,{'get':_0x160366[_0x23cb50],'enumerable':!0x0});},Js=(_0x1b42ad,_0x24987f,_0x10d038,_0x15a0c1)=>{const _0x41f9de=a0_0x5d3ab0;if(_0x24987f&&typeof _0x24987f==_0x41f9de(0x696)||typeof _0x24987f=='function'){for(let _0x164a57 of Jo(_0x24987f))!qo[_0x41f9de(0x5d9)](_0x1b42ad,_0x164a57)&&_0x164a57!==_0x10d038&&Je(_0x1b42ad,_0x164a57,{'get':()=>_0x24987f[_0x164a57],'enumerable':!(_0x15a0c1=Fo(_0x24987f,_0x164a57))||_0x15a0c1['enumerable']});}return _0x1b42ad;},O=(_0x146eba,_0x260d24,_0xd4f4d5)=>(_0xd4f4d5=_0x146eba!=null?Lo(Uo(_0x146eba)):{},Js(_0x260d24||!_0x146eba||!_0x146eba['__esModule']?Je(_0xd4f4d5,a0_0x5d3ab0(0x4de),{'value':_0x146eba,'enumerable':!0x0}):_0xd4f4d5,_0x146eba)),Go=_0x12d832=>Js(Je({},a0_0x5d3ab0(0x547),{'value':!0x0}),_0x12d832),ir={};Vo(ir,{'subdomain':()=>Ds}),module[a0_0x5d3ab0(0x1dc)]=Go(ir);var Io=O(require(a0_0x5d3ab0(0x1dd))),qs=require('fs'),Vs=require(a0_0x5d3ab0(0x32a)),Gs=require(a0_0x5d3ab0(0x4c3)),Ue=require('path'),ne=process['cwd'](),me=(0x0,Ue['join'])(ne,a0_0x5d3ab0(0x4d1)),Us=(0x0,Ue[a0_0x5d3ab0(0x438)])(ne,a0_0x5d3ab0(0x469)),Yr=(0x0,Ue['join'])(ne,'store',a0_0x5d3ab0(0x2c8)),ns=class{constructor(){const _0x5b15a8=a0_0x5d3ab0;this[_0x5b15a8(0x161)]();}[a0_0x5d3ab0(0x2af)](_0x13ce8b){const _0x41a8a0=a0_0x5d3ab0;return this[_0x41a8a0(0x570)][_0x13ce8b];}['loadEnv'](){const _0x462097=a0_0x5d3ab0;this[_0x462097(0x570)]=process[_0x462097(0x570)]?.[_0x462097(0x25e)]!=='true'?this['envYaml']():this[_0x462097(0x42c)](),process[_0x462097(0x570)]?.[_0x462097(0x25e)]===_0x462097(0x4a0)&&(this['env'][_0x462097(0x40e)]['TYPE']=_0x462097(0x3a3),this[_0x462097(0x570)][_0x462097(0x40e)][_0x462097(0x26c)]=Number['parseInt'](process[_0x462097(0x570)]?.[_0x462097(0x6fa)]??_0x462097(0xeb)));}[a0_0x5d3ab0(0x747)](){const _0x24a143=a0_0x5d3ab0;return(0x0,Vs[_0x24a143(0x1d8)])((0x0,qs['readFileSync'])((0x0,Gs['join'])(Us,_0x24a143(0x28b)),{'encoding':_0x24a143(0x9d)}));}['envProcess'](){const _0x17930f=a0_0x5d3ab0;return{'SERVER':{'TYPE':process[_0x17930f(0x570)][_0x17930f(0x2fd)],'PORT':Number[_0x17930f(0x3ea)](process[_0x17930f(0x570)][_0x17930f(0x6fa)]),'URL':process['env'][_0x17930f(0x75c)]},'CORS':{'ORIGIN':process[_0x17930f(0x570)][_0x17930f(0x66f)]['split'](','),'METHODS':process[_0x17930f(0x570)][_0x17930f(0x391)][_0x17930f(0x4f7)](','),'CREDENTIALS':process['env']?.[_0x17930f(0x196)]===_0x17930f(0x4a0)},'SSL_CONF':{'PRIVKEY':process[_0x17930f(0x570)]?.[_0x17930f(0x490)],'FULLCHAIN':process[_0x17930f(0x570)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x17930f(0x62d)](process[_0x17930f(0x570)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x17930f(0x3ea)](process['env'][_0x17930f(0x6c9)]):void 0x0,'MESSAGES':process[_0x17930f(0x570)]?.['STORE_MESSAGE']==='true','CONTACTS':process['env']?.[_0x17930f(0x56f)]===_0x17930f(0x4a0),'CHATS':process[_0x17930f(0x570)]?.[_0x17930f(0xde)]===_0x17930f(0x4a0)},'DATABASE':{'CONNECTION':{'HOST':process[_0x17930f(0x570)]?.[_0x17930f(0x771)],'PORT':Number[_0x17930f(0x3ea)](process[_0x17930f(0x570)]?.[_0x17930f(0x771)]),'USER':process[_0x17930f(0x570)][_0x17930f(0x6e7)],'PASSWORD':process['env'][_0x17930f(0x26a)],'URI':process[_0x17930f(0x570)][_0x17930f(0x581)],'DB_PREFIX_NAME':process[_0x17930f(0x570)][_0x17930f(0x4f2)]},'ENABLED':process[_0x17930f(0x570)]?.[_0x17930f(0x252)]==='true'},'REDIS':{'ENABLED':process[_0x17930f(0x570)]?.[_0x17930f(0x5b2)]===_0x17930f(0x4a0),'URI':process[_0x17930f(0x570)][_0x17930f(0x43b)]||_0x17930f(0x2ea),'PREFIX_KEY':process[_0x17930f(0x570)][_0x17930f(0x75d)]||_0x17930f(0x20a)},'LOG':{'LEVEL':process['env']?.['LOG_LEVEL'][_0x17930f(0x4f7)](','),'COLOR':process[_0x17930f(0x570)]?.[_0x17930f(0x698)]===_0x17930f(0x4a0)},'PROXY':Number[_0x17930f(0x3ea)](process[_0x17930f(0x570)]?.[_0x17930f(0x5b4)]),'AUTHENTICATION':{'TYPE':process[_0x17930f(0x570)][_0x17930f(0xa9)],'API_KEY':{'KEY':process[_0x17930f(0x570)][_0x17930f(0x431)]},'JWT':{'EXPIRIN_IN':Number[_0x17930f(0x62d)](process[_0x17930f(0x570)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x17930f(0x3ea)](process[_0x17930f(0x570)][_0x17930f(0x47e)]):0xe10,'SECRET':process['env'][_0x17930f(0x1ee)]}}};}},b=new ns(),xo=O(require(a0_0x5d3ab0(0x1fd))),ge=O(require(a0_0x5d3ab0(0x304))),Ls=require(a0_0x5d3ab0(0x4c3)),cs=O(require(a0_0x5d3ab0(0x5f0))),ls=(_0x5bd1d0=>(_0x5bd1d0[a0_0x5d3ab0(0x24d)]=a0_0x5d3ab0(0x1c7),_0x5bd1d0[a0_0x5d3ab0(0x2f5)]=a0_0x5d3ab0(0x151),_0x5bd1d0['WARN']=a0_0x5d3ab0(0x47a),_0x5bd1d0['ERROR']=a0_0x5d3ab0(0x188),_0x5bd1d0[a0_0x5d3ab0(0x484)]=a0_0x5d3ab0(0x5ca),_0x5bd1d0['VERBOSE']=a0_0x5d3ab0(0x207),_0x5bd1d0[a0_0x5d3ab0(0x4b4)]='\x1b[30m',_0x5bd1d0))(ls||{}),Bs=(_0x5d15ee=>(_0x5d15ee['LOG']=a0_0x5d3ab0(0x200),_0x5d15ee[a0_0x5d3ab0(0x4b4)]='\x1b[30m%s\x1b[0m',_0x5d15ee[a0_0x5d3ab0(0x2f5)]='\x1b[34m%s\x1b[0m',_0x5d15ee[a0_0x5d3ab0(0x389)]='\x1b[33m%s\x1b[0m',_0x5d15ee['ERROR']='\x1b[31m%s\x1b[0m',_0x5d15ee[a0_0x5d3ab0(0x484)]=a0_0x5d3ab0(0x321),_0x5d15ee[a0_0x5d3ab0(0x247)]=a0_0x5d3ab0(0x213),_0x5d15ee))(Bs||{}),Ws=(_0x59f247=>(_0x59f247[a0_0x5d3ab0(0x24d)]=a0_0x5d3ab0(0x24d),_0x59f247[a0_0x5d3ab0(0x389)]=a0_0x5d3ab0(0x389),_0x59f247[a0_0x5d3ab0(0x2f5)]='INFO',_0x59f247[a0_0x5d3ab0(0x4b4)]=a0_0x5d3ab0(0x4b4),_0x59f247['ERROR']=a0_0x5d3ab0(0x4a2),_0x59f247[a0_0x5d3ab0(0x484)]=a0_0x5d3ab0(0x484),_0x59f247['VERBOSE']=a0_0x5d3ab0(0x247),_0x59f247))(Ws||{}),zs=(_0x5db6d5=>(_0x5db6d5[a0_0x5d3ab0(0x24d)]=a0_0x5d3ab0(0xe4),_0x5db6d5[a0_0x5d3ab0(0x2f5)]=a0_0x5d3ab0(0x2f1),_0x5db6d5[a0_0x5d3ab0(0x389)]='\x1b[43m',_0x5db6d5[a0_0x5d3ab0(0x4b4)]=a0_0x5d3ab0(0x46e),_0x5db6d5[a0_0x5d3ab0(0x4a2)]=a0_0x5d3ab0(0x1b9),_0x5db6d5['DEBUG']=a0_0x5d3ab0(0x70c),_0x5db6d5['VERBOSE']=a0_0x5d3ab0(0x208),_0x5db6d5))(zs||{}),R=class{constructor(_0x3da156=a0_0x5d3ab0(0x591)){const _0x4147db=a0_0x5d3ab0;this[_0x4147db(0x19f)]=_0x3da156,this[_0x4147db(0x6eb)]=b;}[a0_0x5d3ab0(0x39b)](_0x22d6b0){const _0x24bff5=a0_0x5d3ab0;this[_0x24bff5(0x19f)]=_0x22d6b0;}['console'](_0x189515,_0x2d87c2){const _0x1582cf=a0_0x5d3ab0;let _0x11d134=[];this[_0x1582cf(0x6eb)][_0x1582cf(0x2af)](_0x1582cf(0x24d))['LEVEL'][_0x1582cf(0x394)](_0x30bf03=>_0x11d134[_0x1582cf(0x6a7)](Ws[_0x30bf03]));let _0x50f0aa=typeof _0x189515;_0x11d134[_0x1582cf(0x5c5)](_0x2d87c2)&&(b[_0x1582cf(0x2af)](_0x1582cf(0x24d))[_0x1582cf(0x12c)]?(console[_0x1582cf(0x5a2)]('\x1b[1m'+Bs[_0x2d87c2],_0x1582cf(0x172),(0x0,cs['default'])()['format'](_0x1582cf(0x6bc)),'\x1b[0m',ls[_0x2d87c2]+zs[_0x2d87c2]+_0x1582cf(0x55b),_0x2d87c2+_0x1582cf(0x41d),'\x1b[33m\x1b[1m',this[_0x1582cf(0x19f)]+_0x1582cf(0x241),ls[_0x2d87c2],_0x50f0aa!==_0x1582cf(0x696)?_0x189515:'',_0x1582cf(0x241)),_0x50f0aa===_0x1582cf(0x696)&&console[_0x1582cf(0x5a2)](_0x189515,'\x0a')):console[_0x1582cf(0x5a2)]((0x0,cs[_0x1582cf(0x4de)])()['format']('HH:mm:ss'),_0x2d87c2+'\x20',''+this[_0x1582cf(0x19f)],_0x189515));}['log'](_0x2d01f4){const _0x1f45d4=a0_0x5d3ab0;this['console'](_0x2d01f4,_0x1f45d4(0x24d));}['info'](_0x58006f){const _0x61ee5b=a0_0x5d3ab0;this[_0x61ee5b(0x5a0)](_0x58006f,_0x61ee5b(0x2f5));}[a0_0x5d3ab0(0x1c4)](_0x1a853e){const _0x392142=a0_0x5d3ab0;this['console'](_0x1a853e,_0x392142(0x389));}[a0_0x5d3ab0(0x73d)](_0x514ae2){const _0x2020c3=a0_0x5d3ab0;this[_0x2020c3(0x5a0)](_0x514ae2,_0x2020c3(0x4a2));}[a0_0x5d3ab0(0x444)](_0x299d4a){const _0x3fe973=a0_0x5d3ab0;this[_0x3fe973(0x5a0)](_0x299d4a,_0x3fe973(0x247));}[a0_0x5d3ab0(0xe9)](_0x310a93){const _0x3f819a=a0_0x5d3ab0;this[_0x3f819a(0x5a0)](_0x310a93,_0x3f819a(0x484));}['dark'](_0x14b75a){const _0x3e9501=a0_0x5d3ab0;this[_0x3e9501(0x5a0)](_0x14b75a,_0x3e9501(0x4b4));}};function Hs(){const _0x5b9331=a0_0x5d3ab0;process['on'](_0x5b9331(0x6b1),(_0x1f3b9a,_0x3d5031)=>{const _0x114c49=_0x5b9331;new R('uncaughtException')['error']({'origin':_0x3d5031,'stderr':process[_0x114c49(0x2e8)]['fd'],'error':_0x1f3b9a});}),process['on'](_0x5b9331(0x35b),(_0x456ecd,_0x50cca6)=>{const _0x1e6951=_0x5b9331;new R(_0x1e6951(0x35b))['error']({'origin':_0x50cca6,'stderr':process['stderr']['fd'],'error':_0x456ecd});});}var Ks=O(require(a0_0x5d3ab0(0x51b))),us=new Ks[(a0_0x5d3ab0(0x4de))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require('mongoose'),Ee=O(require(a0_0x5d3ab0(0x199))),qe=new R(a0_0x5d3ab0(0x189)),L=b['get'](a0_0x5d3ab0(0x78e)),$=L[a0_0x5d3ab0(0x1c0)]?L['CONNECTION'][a0_0x5d3ab0(0x117)]?Ee[a0_0x5d3ab0(0x4de)]['createConnection'](L[a0_0x5d3ab0(0xc6)]['URI'],{'dbName':L['CONNECTION'][a0_0x5d3ab0(0x59e)]+a0_0x5d3ab0(0x76c)}):Ee[a0_0x5d3ab0(0x4de)][a0_0x5d3ab0(0x5f4)](a0_0x5d3ab0(0x3bb)+L[a0_0x5d3ab0(0xc6)]['HOST']+':'+L[a0_0x5d3ab0(0xc6)]['PORT']+a0_0x5d3ab0(0x539),{'user':L[a0_0x5d3ab0(0xc6)][a0_0x5d3ab0(0x27a)],'pass':L[a0_0x5d3ab0(0xc6)]['PASSWORD'],'dbName':L['CONNECTION']['DB_PREFIX_NAME']+a0_0x5d3ab0(0x76c)}):null;L[a0_0x5d3ab0(0x1c0)]&&qe[a0_0x5d3ab0(0x403)](a0_0x5d3ab0(0x5ad)+$[a0_0x5d3ab0(0x2a5)]);var fe=L['ENABLED']?L[a0_0x5d3ab0(0xc6)][a0_0x5d3ab0(0x117)]?Ee[a0_0x5d3ab0(0x4de)][a0_0x5d3ab0(0x5f4)](L[a0_0x5d3ab0(0xc6)][a0_0x5d3ab0(0x117)],{'dbName':'cachedData-whatsapp'}):Ee[a0_0x5d3ab0(0x4de)][a0_0x5d3ab0(0x5f4)]('mongodb://'+L['CONNECTION']['HOST']+':'+L['CONNECTION'][a0_0x5d3ab0(0x26c)]+a0_0x5d3ab0(0x539),{'user':L['CONNECTION'][a0_0x5d3ab0(0x27a)],'pass':L['CONNECTION'][a0_0x5d3ab0(0x52a)],'dbName':a0_0x5d3ab0(0x4c8)}):null;fe&&qe[a0_0x5d3ab0(0x403)](a0_0x5d3ab0(0x5ad)+fe['$dbName']),process['on']('beforeExit',()=>{const _0x23c538=a0_0x5d3ab0;$&&$[_0x23c538(0x452)](()=>{const _0xf3888c=_0x23c538;qe[_0xf3888c(0x403)](_0xf3888c(0x42b));}),fe&&fe['close'](()=>{const _0x44c007=_0x23c538;qe['info'](_0x44c007(0x4c2));});});var Bo=new we['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new we[(a0_0x5d3ab0(0x124))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),zo=new we[(a0_0x5d3ab0(0x124))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Ho=new we[(a0_0x5d3ab0(0x124))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Bo],'default':[]}},{'_id':!0x1}),Ko=new we[(a0_0x5d3ab0(0x124))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ho,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Wo},'groupdata':{'type':zo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Qs=_0x5c65ac=>{const _0x233102=a0_0x5d3ab0;let _0x2fc3de='z_'+_0x5c65ac+_0x233102(0x148);return $?.[_0x233102(0x1d2)](_0x233102(0x70d),Ko,_0x2fc3de);},Ys=require('mongoose'),Qo=new Ys[(a0_0x5d3ab0(0x124))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Xs=_0x2bc962=>{const _0x5213e9=a0_0x5d3ab0;let _0x21cd14='z_'+_0x2bc962+_0x5213e9(0x388);return $?.[_0x5213e9(0x1d2)](_0x5213e9(0x155),Qo,_0x21cd14);},Zs=require(a0_0x5d3ab0(0x199)),ds=class{},Yo=new Zs['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=fe?.[a0_0x5d3ab0(0x1d2)](ds['name'],Yo,'ContactsAndGroups'),ta=require(a0_0x5d3ab0(0x199)),Xo=new ta[(a0_0x5d3ab0(0x124))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),sa=_0x4e893e=>{const _0x264474=a0_0x5d3ab0;let _0x551712='z_'+_0x4e893e+_0x264474(0x3f2);return $?.[_0x264474(0x1d2)](_0x264474(0x2a0),Xo,_0x551712);},aa=require('mongoose'),ps=class{},Zo=new aa['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),oa=$?.[a0_0x5d3ab0(0x1d2)](ps[a0_0x5d3ab0(0x26b)],Zo,'authentication'),ia=require(a0_0x5d3ab0(0x199)),hs=class{},ra=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ra[a0_0x5d3ab0(0x9b)](a0_0x5d3ab0(0x575),function(_0x3bb467){const _0x93d5d7=a0_0x5d3ab0;delete this[_0x93d5d7(0x5f6)],delete this[_0x93d5d7(0x6b0)],delete this[_0x93d5d7(0x231)],delete this[_0x93d5d7(0x658)],delete this['flowStopMinutes'],_0x3bb467();});var na=$?.['model'](hs[a0_0x5d3ab0(0x26b)],ra,a0_0x5d3ab0(0x45c)),_=require(a0_0x5d3ab0(0x199)),gs=require(a0_0x5d3ab0(0x78d)),Ve=class{},ca=new _[(a0_0x5d3ab0(0x124))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ms=new _['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ei=new _[(a0_0x5d3ab0(0x124))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x5d3ab0(0x1b6)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x5d3ab0(0x76e)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x5d3ab0(0x4bf)},'pollErrorMessage':{'type':String,'default':a0_0x5d3ab0(0x729)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new _[(a0_0x5d3ab0(0x124))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ti=new _[(a0_0x5d3ab0(0x124))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),si=new _['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ws=new _['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ai=new _[(a0_0x5d3ab0(0x124))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ua=new _[(a0_0x5d3ab0(0x124))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ei},'apirequest':ti,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ai,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),da=new _[(a0_0x5d3ab0(0x124))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ys=new _[(a0_0x5d3ab0(0x124))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,gs['v4'])()},'startID':{'type':String,'default':()=>(0x0,gs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':a0_0x5d3ab0(0x723)},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x41fa3b=a0_0x5d3ab0;return'!cmd_'+Math['random']()[_0x41fa3b(0x651)](0x24)[_0x41fa3b(0x3b9)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ws],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ms],'default':[]}});ys[a0_0x5d3ab0(0x9b)](a0_0x5d3ab0(0x575),function(_0x5d267f){const _0x50d4c6=a0_0x5d3ab0;let _0x5da610=new Set(),_0x2f3d6f=new Set(this[_0x50d4c6(0x5da)]?.[_0x50d4c6(0x2de)](_0x4ea898=>_0x4ea898[_0x50d4c6(0x26b)])),_0x1c7275=JSON['stringify'](this),_0x12de8d=/{{(?!_)([^}]*)}}/g,_0x59d1e6;for(;(_0x59d1e6=_0x12de8d[_0x50d4c6(0x4ed)](_0x1c7275))!==null;)_0x2f3d6f[_0x50d4c6(0x70f)](_0x59d1e6[0x1])||_0x5da610[_0x50d4c6(0x2cb)](_0x59d1e6[0x1]);_0x5da610[_0x50d4c6(0x5ce)]>0x0?(console[_0x50d4c6(0x1c4)]('Variáveis\x20não\x20encontradas:',Array[_0x50d4c6(0x2a4)](_0x5da610)),this[_0x50d4c6(0x71b)]=Array[_0x50d4c6(0x2a4)](_0x5da610)):this['variablesNotFound']=[],_0x5d267f();}),ys[a0_0x5d3ab0(0x9b)](a0_0x5d3ab0(0x63d),function(_0x2c1c00){const _0x4d2d17=a0_0x5d3ab0;let _0x1f1255=this['getUpdate']();if(_0x1f1255&&typeof _0x1f1255==_0x4d2d17(0x696)&&'$set'in _0x1f1255){let _0x409af5=_0x1f1255[_0x4d2d17(0x292)];if(_0x409af5){let _0x33b86c=new Set(),_0x22b1eb=new Set(_0x409af5[_0x4d2d17(0x5da)]?.[_0x4d2d17(0x2de)](_0x2489b5=>_0x2489b5['name'])),_0x3dc8a9=JSON[_0x4d2d17(0x61a)](_0x409af5),_0x33f9a4=/{{(?!_)([^}]*)}}/g,_0x29adc5;for(;(_0x29adc5=_0x33f9a4[_0x4d2d17(0x4ed)](_0x3dc8a9))!==null;)_0x22b1eb['has'](_0x29adc5[0x1])||_0x33b86c['add'](_0x29adc5[0x1]);_0x33b86c['size']>0x0?(console[_0x4d2d17(0x1c4)](_0x4d2d17(0x47c),Array[_0x4d2d17(0x2a4)](_0x33b86c)),_0x409af5[_0x4d2d17(0x71b)]=Array[_0x4d2d17(0x2a4)](_0x33b86c)):_0x409af5['variablesNotFound']=[],this[_0x4d2d17(0x63e)]({'$set':_0x409af5});}}_0x2c1c00();});var pa=_0x1f4620=>{const _0xd6d7c3=a0_0x5d3ab0;let _0x521a8c='z_'+_0x1f4620+_0xd6d7c3(0x718);return $?.[_0xd6d7c3(0x1d2)](_0xd6d7c3(0x6a9),ys,_0x521a8c);},oi=new _[(a0_0x5d3ab0(0x124))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ws],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[si]},{'_id':!0x1}),ii=new _[(a0_0x5d3ab0(0x124))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ws],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ms],'default':[]},'chatLog':oi,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x5d3ab0(0x40a)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x5d3ab0(0x4bf)},'waitingMenu_replyOptions':{'type':[ms],'default':[]}}),ha=_0x34d8aa=>{const _0x2b6879=a0_0x5d3ab0;let _0x1521b7='z_'+_0x34d8aa+_0x2b6879(0x193);return $?.[_0x2b6879(0x1d2)](_0x2b6879(0x487),ii,_0x1521b7);},ri=new _[(a0_0x5d3ab0(0x124))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ni=new _[(a0_0x5d3ab0(0x124))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ci=new _['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x5d3ab0(0x535)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ni,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ri],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ga=_0x429462=>{const _0x443e61=a0_0x5d3ab0;let _0x5c6a79='z_'+_0x429462+_0x443e61(0x1b8);return $?.[_0x443e61(0x1d2)]('ScheduleMessageModel',ci,_0x5c6a79);},fs=class{},li=new _['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),ui=new _[(a0_0x5d3ab0(0x124))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),di=new _[(a0_0x5d3ab0(0x124))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x5d3ab0(0x767)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),pi=new _[(a0_0x5d3ab0(0x124))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),hi=new _[(a0_0x5d3ab0(0x124))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[pi]},'customFields':{'type':[ui]},'flowConfig':{'type':di,'default':{}},'autoCompleteMessages':{'type':[li],'default':[]}}),ve=$?.[a0_0x5d3ab0(0x1d2)](fs[a0_0x5d3ab0(0x26b)],hi,'AutomateSystem'),ma=require(a0_0x5d3ab0(0x199)),gi=new ma['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),fa=_0x153dd4=>{const _0x528254=a0_0x5d3ab0;let _0x4739de='z_'+_0x153dd4+_0x528254(0x65c);return $?.[_0x528254(0x1d2)](_0x528254(0x499),gi,_0x4739de);},x=class{constructor(_0x43938f){const _0x43a138=a0_0x5d3ab0;this[_0x43a138(0x17a)]=_0x43938f[_0x43a138(0x2af)](_0x43a138(0x78e));}};function T(_0x2258cb){const _0x2af07c=a0_0x5d3ab0;let _0x27d8a0={};for(let [_0x5d1a80,_0x1072e4]of Object['entries'](_0x2258cb))if(typeof _0x1072e4==_0x2af07c(0x696)&&!Array[_0x2af07c(0x577)](_0x1072e4)){for(let [_0x3407f3,_0x30925]of Object[_0x2af07c(0xd0)](_0x1072e4))_0x27d8a0[_0x5d1a80+'.'+_0x3407f3]=_0x30925;}else _0x27d8a0[_0x5d1a80]=_0x1072e4;return _0x27d8a0;}var Ge=class{constructor(_0x5118a4,_0x41d029,_0x1adcbf,_0x4437ca,_0x22db73,_0x3a57b5,_0x26a49b,_0x373942,_0xc5bb4a,_0x51bcbd,_0x1dc68d,_0x456dd1){const _0x33847d=a0_0x5d3ab0;this[_0x33847d(0x5fc)]=_0x5118a4,this[_0x33847d(0x23a)]=_0x41d029,this[_0x33847d(0x2ef)]=_0x1adcbf,this['cacheContact']=_0x4437ca,this[_0x33847d(0x45c)]=_0x22db73,this[_0x33847d(0x2c8)]=_0x3a57b5,this['flow']=_0x26a49b,this[_0x33847d(0x112)]=_0x373942,this[_0x33847d(0x2c9)]=_0xc5bb4a,this[_0x33847d(0x6e8)]=_0x51bcbd,this[_0x33847d(0x67f)]=_0x1dc68d,this['dbClient']=_0x456dd1;}get[a0_0x5d3ab0(0x44c)](){const _0x531db6=a0_0x5d3ab0;return this[_0x531db6(0x6ba)];}},Be=class{},We=class extends x{[a0_0x5d3ab0(0x8e)](_0x564a9c){return sa(_0x564a9c);}async['insert'](_0x145ce8,_0x56b671){const _0x466f59=a0_0x5d3ab0;if(_0x145ce8[_0x466f59(0x6d9)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x466f59(0x8e)](_0x56b671)[_0x466f59(0x1e1)]([..._0x145ce8]))[_0x466f59(0x6d9)]};}catch(_0x4627c8){return _0x4627c8;}}async[a0_0x5d3ab0(0x299)](_0x4fe4f7,_0x27b6b9){const _0x5c9b4f=a0_0x5d3ab0;try{let _0x1b3e2d=this[_0x5c9b4f(0x8e)](_0x27b6b9),_0x27cd4e=T(_0x4fe4f7[_0x5c9b4f(0x37a)]);return await _0x1b3e2d[_0x5c9b4f(0x299)](_0x27cd4e)[_0x5c9b4f(0x6d6)]({'messageTimestamp':-0x1})[_0x5c9b4f(0x53f)](_0x4fe4f7?.[_0x5c9b4f(0x53f)]??0x0)['lean']();}catch{return[];}}async[a0_0x5d3ab0(0x4c9)](_0x19e73c,_0x44d3fd){const _0x362d25=a0_0x5d3ab0;try{let _0x4533ab=this['getMessageModelForOwner'](_0x44d3fd),_0x3c18d1=T(_0x19e73c['where']);await _0x4533ab[_0x362d25(0x13e)](_0x3c18d1);}catch(_0xd7ce2e){console[_0x362d25(0x73d)](_0xd7ce2e);}}async[a0_0x5d3ab0(0x2bc)](_0x13ae13,_0x5c2cad,_0x6d359f){const _0x3f72fc=a0_0x5d3ab0;try{let _0x62726e=this[_0x3f72fc(0x8e)](_0x6d359f),_0x4d64d0=T(_0x13ae13[_0x3f72fc(0x37a)]);return await _0x62726e['findOneAndUpdate'](_0x4d64d0,{'$set':_0x5c2cad},{'new':!0x0});}catch(_0x26684a){throw console[_0x3f72fc(0x73d)](_0x26684a),_0x26684a;}}async[a0_0x5d3ab0(0x1e1)](_0x1fb9bf,_0x16d756){const _0xf4f1c9=a0_0x5d3ab0;if(_0x1fb9bf['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xf4f1c9(0x8e)](_0x16d756)[_0xf4f1c9(0x1e1)]([..._0x1fb9bf]))[_0xf4f1c9(0x6d9)]};}catch(_0x3950a2){return console[_0xf4f1c9(0x5a2)](_0xf4f1c9(0x762),_0x3950a2),_0x3950a2;}}async[a0_0x5d3ab0(0x31b)](_0x8b2441){const _0x543b5e=a0_0x5d3ab0;try{return await this[_0x543b5e(0x8e)](_0x8b2441)[_0x543b5e(0x2b7)][_0x543b5e(0x369)](),{'success':!0x0};}catch(_0x3452a9){return console[_0x543b5e(0x73d)](_0x3452a9),{'success':!0x1,'error':_0x3452a9};}}},As=O(require(a0_0x5d3ab0(0x25c))),f=O(require(a0_0x5d3ab0(0x460))),xe=require('fs'),F=O(require('path')),K=O(require(a0_0x5d3ab0(0x761))),Co=require('uuid'),Eo=O(require(a0_0x5d3ab0(0x40d))),vo=O(require('qrcode-terminal')),wa=['imageMessage','documentMessage','audioMessage',a0_0x5d3ab0(0x347),a0_0x5d3ab0(0x1b2)],ya=[a0_0x5d3ab0(0xf9),a0_0x5d3ab0(0x194),'viewOnceMessage',a0_0x5d3ab0(0x2ec)],Os=require('os'),kt=O(require(a0_0x5d3ab0(0x54c))),De=require(a0_0x5d3ab0(0x413)),jt=require(a0_0x5d3ab0(0x3d5)),ie=O(require(a0_0x5d3ab0(0x199))),k=require(a0_0x5d3ab0(0x6d8)),ye=class{constructor(_0x4be459,_0x34bf95,_0x54271a){const _0x4db30c=a0_0x5d3ab0;this[_0x4db30c(0x697)]=_0x4be459,this[_0x4db30c(0x99)]=_0x34bf95,this[_0x4db30c(0x26b)]=_0x54271a;}},ze=class{},He=class{},Ne=class{},Ke=class{},Qe=class{},be=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},It=O(require('express')),ba=require('fs'),Sa=require(a0_0x5d3ab0(0x4c3));async function Re(_0x487b80){const _0x496139=a0_0x5d3ab0;let _0x3dbe39=G[_0x496139(0x465)][_0x487b80];if(L[_0x496139(0x1c0)]){let _0x14cfb9=$[_0x496139(0x361)]()['db'](L[_0x496139(0xc6)][_0x496139(0x59e)]+'-instances')[_0x496139(0x2b7)](_0x487b80);return _0x3dbe39||(await _0x14cfb9['find']({})[_0x496139(0x33a)]())[_0x496139(0x6d9)]>0x0;}return _0x3dbe39||(0x0,ba[_0x496139(0x776)])((0x0,Sa['join'])(me,_0x487b80));}async function Ma(_0xf126aa,_0x2ebf8d,_0x31989c){const _0x22e4ef=a0_0x5d3ab0;if(_0xf126aa[_0x22e4ef(0x55f)][_0x22e4ef(0x5c5)](_0x22e4ef(0x33f))||_0xf126aa[_0x22e4ef(0x55f)][_0x22e4ef(0x5c5)](_0x22e4ef(0x677))||_0xf126aa[_0x22e4ef(0x55f)][_0x22e4ef(0x5c5)](_0x22e4ef(0x262))||_0xf126aa[_0x22e4ef(0x55f)][_0x22e4ef(0x5c5)](_0x22e4ef(0x12b))||_0xf126aa[_0x22e4ef(0x55f)][_0x22e4ef(0x5c5)](_0x22e4ef(0x497))||_0xf126aa[_0x22e4ef(0x55f)][_0x22e4ef(0x5c5)](_0x22e4ef(0x357))||_0xf126aa[_0x22e4ef(0x55f)][_0x22e4ef(0x5c5)](_0x22e4ef(0x493)))return _0x31989c();let _0x1d3c79=_0xf126aa[_0x22e4ef(0x574)];if(!_0x1d3c79?.[_0x22e4ef(0x52c)])throw new m(_0x22e4ef(0x5bc));if(!await Re(_0x1d3c79['instanceName']))throw new U(_0x22e4ef(0x436)+_0x1d3c79['instanceName']+_0x22e4ef(0x49c));_0x31989c();}async function Ca(_0x1283f0,_0x406833,_0x50e326){const _0x3e0f6f=a0_0x5d3ab0;if(_0x1283f0[_0x3e0f6f(0x55f)]['includes'](_0x3e0f6f(0x33f))){let _0x255869=_0x1283f0[_0x3e0f6f(0x509)];if(await Re(_0x255869[_0x3e0f6f(0x52c)]))throw new Q(_0x3e0f6f(0x1d1)+_0x255869[_0x3e0f6f(0x52c)]+_0x3e0f6f(0x6c4));G['waInstances'][_0x255869[_0x3e0f6f(0x52c)]]&&delete G[_0x3e0f6f(0x465)][_0x255869[_0x3e0f6f(0x52c)]];}_0x50e326();}var Ea=require('class-validator'),va=O(require(a0_0x5d3ab0(0x5be))),tt='uazapi',fi=new R(a0_0x5d3ab0(0x154));async function wi(_0x3f068d,_0x430d60,_0x5b1a53){const _0x3f9d29=a0_0x5d3ab0;let _0x4cc7f1=_0x3f068d[_0x3f9d29(0x2af)](_0x3f9d29(0x3d4));if(_0x4cc7f1&&b[_0x3f9d29(0x2af)](_0x3f9d29(0x3fe))['API_KEY'][_0x3f9d29(0x4f0)]!==_0x4cc7f1)throw new se();if(b[_0x3f9d29(0x2af)](_0x3f9d29(0x3fe))['API_KEY'][_0x3f9d29(0x4f0)]===_0x4cc7f1)return _0x5b1a53();if((_0x3f068d[_0x3f9d29(0x55f)][_0x3f9d29(0x5c5)](_0x3f9d29(0x33f))||_0x3f068d[_0x3f9d29(0x55f)][_0x3f9d29(0x5c5)](_0x3f9d29(0x677)))&&!_0x4cc7f1)throw new Q(_0x3f9d29(0x666),_0x3f9d29(0x5f5));let _0x3d010d=b['get'](_0x3f9d29(0x3fe))[_0x3f9d29(0x599)];try{let [_0x3f0096,_0x28f349]=_0x3f068d[_0x3f9d29(0x2af)](_0x3f9d29(0x709))[_0x3f9d29(0x4f7)]('\x20');if(_0x3f0096[_0x3f9d29(0x4ba)]()!==_0x3f9d29(0x6c8))throw new se();if(!(0x0,Ea['isJWT'])(_0x28f349))throw new se();let _0x2db014=_0x3f068d['params'],_0x39e2c8=va[_0x3f9d29(0x4de)]['verify'](_0x28f349,_0x3d010d[_0x3f9d29(0x4d6)],{'ignoreExpiration':_0x3d010d['EXPIRIN_IN']===0x0});if(_0x2db014[_0x3f9d29(0x52c)]!==_0x39e2c8[_0x3f9d29(0x52c)]||tt!==_0x39e2c8[_0x3f9d29(0x4e6)])throw new se();return _0x5b1a53();}catch(_0x138403){throw fi[_0x3f9d29(0x73d)](_0x138403),new se();}}async function yi(_0x4eb2c2,_0x32e117,_0x52e9e2){const _0x53d94f=a0_0x5d3ab0;let _0xc8c70=b['get'](_0x53d94f(0x3fe))['API_KEY'],_0x4193f3=_0x4eb2c2['get'](_0x53d94f(0x3d4));if(_0xc8c70[_0x53d94f(0x4f0)]===_0x4193f3)return _0x52e9e2();if(_0x4eb2c2[_0x53d94f(0x55f)][_0x53d94f(0x5c5)](_0x53d94f(0x33f))){let _0x4d5b0e=st,_0x5f36ba=_0x4eb2c2['body']['instanceName'];if(_0x4d5b0e&&_0x5f36ba[_0x53d94f(0x4ba)]()[_0x53d94f(0x5af)](_0x4d5b0e[_0x53d94f(0x4ba)]()))return _0x52e9e2();if(!_0x4193f3)throw new Q(_0x53d94f(0x666),_0x53d94f(0x5f5));}if(_0x4eb2c2['originalUrl'][_0x53d94f(0x5c5)]('/instance/fetchInstances')&&!_0x4193f3)throw new Q(_0x53d94f(0x666),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x4eb2c2[_0x53d94f(0x55f)][_0x53d94f(0x5c5)](_0x53d94f(0x262))&&!_0x4193f3)throw new Q('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x4eb2c2[_0x53d94f(0x55f)][_0x53d94f(0x5c5)](_0x53d94f(0x12b))&&!_0x4193f3)throw new Q(_0x53d94f(0x666),_0x53d94f(0x5f5));try{let _0x4cda08=_0x4eb2c2[_0x53d94f(0x574)],_0x2f9415=await de[_0x53d94f(0x2c8)][_0x53d94f(0x299)](_0x4cda08['instanceName']);if(_0x2f9415&&_0x2f9415['apikey']===_0x4193f3)return _0x52e9e2();}catch{}throw new se();}var Na={'jwt':wi,'apikey':yi},io=require('express'),v=require(a0_0x5d3ab0(0x78d)),E=(..._0x50a0ef)=>{const _0x2b604f=a0_0x5d3ab0;let _0x12fbd6={};return _0x50a0ef[_0x2b604f(0x394)](_0x5f5b33=>_0x12fbd6[_0x5f5b33]={'minLength':0x1,'description':_0x2b604f(0x5d3)+_0x5f5b33+_0x2b604f(0x621)}),{'if':{'propertyNames':{'enum':[..._0x50a0ef]}},'then':{'properties':_0x12fbd6}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'instanceName':{'type':'string'}},...E(a0_0x5d3ab0(0x52c))},nc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x5d3ab0(0x542)}},'required':['oldToken'],...E('oldToken')},cc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x5d3ab0(0x542)},'remoteJid':{'type':a0_0x5d3ab0(0x542)},'fromMe':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5d3ab0(0x623),a0_0x5d3ab0(0x26e)],...E('id',a0_0x5d3ab0(0x623))},'message':{'type':a0_0x5d3ab0(0x696)}}},Y={'properties':{'delay':{'type':a0_0x5d3ab0(0x4e3),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x5d3ab0(0x542),'enum':[a0_0x5d3ab0(0x64c),'available',a0_0x5d3ab0(0x22a),'recording','paused']}}},z={'type':'string','description':a0_0x5d3ab0(0x236)},Ra={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x5d3ab0(0x696),'properties':{'text':{'type':a0_0x5d3ab0(0x542)}},'required':['text'],...E(a0_0x5d3ab0(0x512))}},'required':[a0_0x5d3ab0(0x4f8),a0_0x5d3ab0(0x15d)]},$a={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x5d3ab0(0x236)},lc={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'number':{...$a},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x5d3ab0(0x542)}},'required':[a0_0x5d3ab0(0x512)],...E('text')}},'required':['textMessage','number']},uc={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'number':{...$a},'options':{...Y},'mediaMessage':{'type':a0_0x5d3ab0(0x696),'properties':{'mediatype':{'type':a0_0x5d3ab0(0x542),'enum':[a0_0x5d3ab0(0x2e7),a0_0x5d3ab0(0x229),a0_0x5d3ab0(0x662),a0_0x5d3ab0(0x567)]},'media':{'type':a0_0x5d3ab0(0x542)},'fileName':{'type':a0_0x5d3ab0(0x542)},'caption':{'type':a0_0x5d3ab0(0x542)}},'required':[a0_0x5d3ab0(0x592),a0_0x5d3ab0(0x442)],...E(a0_0x5d3ab0(0x788),a0_0x5d3ab0(0x670),a0_0x5d3ab0(0x442))}},'required':[a0_0x5d3ab0(0x3de),a0_0x5d3ab0(0x15d)]},Aa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x5d3ab0(0x696),'properties':{'image':{'type':'string'}},'required':[a0_0x5d3ab0(0x2e7)],...E(a0_0x5d3ab0(0x2e7))}},'required':[a0_0x5d3ab0(0x1b2),'number']},Oa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x5d3ab0(0x542),'enum':['text',a0_0x5d3ab0(0x2e7),'audio',a0_0x5d3ab0(0x662)]},'content':{'type':'string'},'caption':{'type':a0_0x5d3ab0(0x542)},'backgroundColor':{'type':a0_0x5d3ab0(0x542)},'font':{'type':a0_0x5d3ab0(0x4e3),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5d3ab0(0x542),'pattern':'^\x5cd+','description':a0_0x5d3ab0(0x1de)}},'allContacts':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]}},'required':[a0_0x5d3ab0(0xcc),'content'],...E(a0_0x5d3ab0(0xcc),a0_0x5d3ab0(0x244))}},'required':[a0_0x5d3ab0(0x428)]},Ta={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x5d3ab0(0x696),'properties':{'mediatype':{'type':a0_0x5d3ab0(0x542),'enum':[a0_0x5d3ab0(0x2e7),a0_0x5d3ab0(0x229),'video',a0_0x5d3ab0(0x567)]},'media':{'type':a0_0x5d3ab0(0x542)},'fileName':{'type':a0_0x5d3ab0(0x542)},'caption':{'type':a0_0x5d3ab0(0x542)}},'required':[a0_0x5d3ab0(0x592),'media'],...E(a0_0x5d3ab0(0x788),'caption',a0_0x5d3ab0(0x442))}},'required':[a0_0x5d3ab0(0x3de),a0_0x5d3ab0(0x15d)]},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0x5d3ab0(0x696),'properties':{'audio':{'type':'string'}},'required':[a0_0x5d3ab0(0x567)],...E(a0_0x5d3ab0(0x567))}},'required':['audioMessage',a0_0x5d3ab0(0x15d)]},xa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x5d3ab0(0x542)},'selectableCount':{'type':a0_0x5d3ab0(0x15d)},'values':{'type':a0_0x5d3ab0(0x38d),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x5d3ab0(0x550),a0_0x5d3ab0(0x6d1)],...E(a0_0x5d3ab0(0x26b),a0_0x5d3ab0(0x550),'values')}},'required':[a0_0x5d3ab0(0x15d),'pollMessage']},Da={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'number':{...z},'menuMessage':{'type':a0_0x5d3ab0(0x696),'properties':{'text':{'type':a0_0x5d3ab0(0x542)},'choices':{'type':a0_0x5d3ab0(0x38d),'minItems':0x2,'uniqueItems':!0x0}},'required':['text','choices'],...E('text',a0_0x5d3ab0(0x76b))}},'required':[a0_0x5d3ab0(0x15d),a0_0x5d3ab0(0x322)]},_a={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x5d3ab0(0x696),'properties':{'title':{'type':a0_0x5d3ab0(0x542)},'description':{'type':a0_0x5d3ab0(0x542)},'footerText':{'type':a0_0x5d3ab0(0x542)},'buttons':{'type':a0_0x5d3ab0(0x38d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5d3ab0(0x696),'properties':{'buttonText':{'type':a0_0x5d3ab0(0x542)},'buttonId':{'type':a0_0x5d3ab0(0x542)}},'required':['buttonText',a0_0x5d3ab0(0x563)],...E(a0_0x5d3ab0(0x23e),a0_0x5d3ab0(0x563))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x5d3ab0(0x542)},'fileName':{'type':a0_0x5d3ab0(0x542)},'mediatype':{'type':a0_0x5d3ab0(0x542),'enum':['image','document',a0_0x5d3ab0(0x662)]}},'required':['media','mediatype'],...E(a0_0x5d3ab0(0x442),a0_0x5d3ab0(0x788))}},'required':[a0_0x5d3ab0(0x353),'buttons'],...E('title','description')}},'required':[a0_0x5d3ab0(0x15d),a0_0x5d3ab0(0x1e6)]},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x5d3ab0(0x696),'properties':{'latitude':{'type':a0_0x5d3ab0(0x15d)},'longitude':{'type':a0_0x5d3ab0(0x15d)},'name':{'type':a0_0x5d3ab0(0x542)},'address':{'type':'string'}},'required':[a0_0x5d3ab0(0x126),a0_0x5d3ab0(0x38e)],...E(a0_0x5d3ab0(0x26b),a0_0x5d3ab0(0x6fd))}},'required':['number',a0_0x5d3ab0(0x579)]},ka={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x5d3ab0(0x542)},'description':{'type':a0_0x5d3ab0(0x542)},'footerText':{'type':a0_0x5d3ab0(0x542)},'buttonText':{'type':a0_0x5d3ab0(0x542)},'sections':{'type':a0_0x5d3ab0(0x38d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5d3ab0(0x696),'properties':{'title':{'type':a0_0x5d3ab0(0x542)},'rows':{'type':a0_0x5d3ab0(0x38d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5d3ab0(0x696),'properties':{'title':{'type':a0_0x5d3ab0(0x542)},'description':{'type':'string'},'rowId':{'type':a0_0x5d3ab0(0x542)}},'required':[a0_0x5d3ab0(0x353),a0_0x5d3ab0(0x5e6)],...E(a0_0x5d3ab0(0x353),a0_0x5d3ab0(0x5e6))}}},'required':[a0_0x5d3ab0(0x353),'rows'],...E('title')}}},'required':[a0_0x5d3ab0(0x353),a0_0x5d3ab0(0x2e1),a0_0x5d3ab0(0x23e),a0_0x5d3ab0(0x777)],...E(a0_0x5d3ab0(0x353),'description',a0_0x5d3ab0(0x23e),a0_0x5d3ab0(0x31f))}},'required':[a0_0x5d3ab0(0x15d),a0_0x5d3ab0(0xb1)]},ja={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':'array','items':{'type':a0_0x5d3ab0(0x696),'properties':{'fullName':{'type':a0_0x5d3ab0(0x542)},'phoneNumber':{'type':a0_0x5d3ab0(0x542),'minLength':0xa}},'required':['fullName','phoneNumber'],...E('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x5d3ab0(0x433)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'reactionMessage':{'type':a0_0x5d3ab0(0x696),'properties':{'key':{'type':a0_0x5d3ab0(0x696),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...E('id',a0_0x5d3ab0(0x623))},'reaction':{'type':'string'}},'required':[a0_0x5d3ab0(0xe7),'reaction'],...E(a0_0x5d3ab0(0x779))}},'required':['reactionMessage']},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5d3ab0(0x542),'pattern':a0_0x5d3ab0(0x707),'description':a0_0x5d3ab0(0x45b)}}}},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'readMessages':{'type':a0_0x5d3ab0(0x38d),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x5d3ab0(0x542)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x5d3ab0(0x542)}},'required':['id',a0_0x5d3ab0(0x26e),'remoteJid'],...E('id',a0_0x5d3ab0(0x623))}}},'required':['readMessages']},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x5d3ab0(0x542),'enum':['all',a0_0x5d3ab0(0x29c)]},'profile':{'type':a0_0x5d3ab0(0x542),'enum':[a0_0x5d3ab0(0x68e),'contacts',a0_0x5d3ab0(0x105),'none']},'status':{'type':a0_0x5d3ab0(0x542),'enum':[a0_0x5d3ab0(0x68e),a0_0x5d3ab0(0x72e),a0_0x5d3ab0(0x105),'none']},'online':{'type':a0_0x5d3ab0(0x542),'enum':[a0_0x5d3ab0(0x68e),'match_last_seen']},'last':{'type':a0_0x5d3ab0(0x542),'enum':[a0_0x5d3ab0(0x68e),a0_0x5d3ab0(0x72e),a0_0x5d3ab0(0x105),a0_0x5d3ab0(0x29c)]},'groupadd':{'type':a0_0x5d3ab0(0x542),'enum':[a0_0x5d3ab0(0x68e),a0_0x5d3ab0(0x72e),a0_0x5d3ab0(0x105),a0_0x5d3ab0(0x29c)]}},'required':[a0_0x5d3ab0(0x354),a0_0x5d3ab0(0x33d),a0_0x5d3ab0(0x489),a0_0x5d3ab0(0x5fa),'last',a0_0x5d3ab0(0x4ce)],...E(a0_0x5d3ab0(0x354),a0_0x5d3ab0(0x33d),a0_0x5d3ab0(0x489),'online',a0_0x5d3ab0(0x418),'groupadd')}},'required':[a0_0x5d3ab0(0x1a1)]},qa={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x5d3ab0(0x696),'properties':{'id':{'type':a0_0x5d3ab0(0x542)},'remoteJid':{'type':a0_0x5d3ab0(0x542)},'fromMe':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5d3ab0(0x26e),a0_0x5d3ab0(0x623)],...E('id',a0_0x5d3ab0(0x623))},'messageTimestamp':{'type':a0_0x5d3ab0(0x4e3),'minLength':0x1}},'required':[a0_0x5d3ab0(0xe7)],...E(a0_0x5d3ab0(0x5d7))},'archive':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]}},'required':[a0_0x5d3ab0(0x330),'archive']},Va={'$id':(0x0,v['v4'])(),'type':'object','properties':{'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x5d3ab0(0x542)},'participant':{'type':'string'}},'required':['id',a0_0x5d3ab0(0x26e),a0_0x5d3ab0(0x623)],...E('id',a0_0x5d3ab0(0x623),'participant')},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'where':{'type':a0_0x5d3ab0(0x696),'properties':{'_id':{'type':a0_0x5d3ab0(0x542),'minLength':0x1},'pushName':{'type':a0_0x5d3ab0(0x542),'minLength':0x1},'id':{'type':a0_0x5d3ab0(0x542),'minLength':0x1}},...E(a0_0x5d3ab0(0x4eb),'id',a0_0x5d3ab0(0x701))}}},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'name':{'type':a0_0x5d3ab0(0x542)}},...E(a0_0x5d3ab0(0x26b))},Wa={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'status':{'type':a0_0x5d3ab0(0x542)}},...E('status')},$e={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{'type':a0_0x5d3ab0(0x542)},'picture':{'type':a0_0x5d3ab0(0x542)}}},za={'type':'object','properties':{'wuid':{'type':a0_0x5d3ab0(0x542)},'name':{'type':a0_0x5d3ab0(0x542)},'picture':{'type':a0_0x5d3ab0(0x542)},'status':{'type':'string'},'isBusiness':{'type':a0_0x5d3ab0(0x59c)}}},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'where':{'type':a0_0x5d3ab0(0x696),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x5d3ab0(0x26e),a0_0x5d3ab0(0x623),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x5d3ab0(0x542),'minLength':0x1,'description':a0_0x5d3ab0(0x4a5)},'id':{'type':a0_0x5d3ab0(0x542),'minLength':0x1,'description':a0_0x5d3ab0(0x4a5)},'fromMe':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x5d3ab0(0x696)}},...E(a0_0x5d3ab0(0x4eb))},'limit':{'type':a0_0x5d3ab0(0x4e3)}}},dc={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'where':{'type':a0_0x5d3ab0(0x696),'properties':{'_id':{'type':a0_0x5d3ab0(0x542)},'remoteJid':{'type':a0_0x5d3ab0(0x542)},'id':{'type':a0_0x5d3ab0(0x542)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x5d3ab0(0x542)},'status':{'type':a0_0x5d3ab0(0x542),'enum':['ERROR',a0_0x5d3ab0(0x6af),'SERVER_ACK',a0_0x5d3ab0(0x209),'READ',a0_0x5d3ab0(0x1bd)]}},...E(a0_0x5d3ab0(0x4eb),a0_0x5d3ab0(0x623),'id',a0_0x5d3ab0(0x489))},'limit':{'type':a0_0x5d3ab0(0x4e3)}}},Ka={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':a0_0x5d3ab0(0x542),'enum':[a0_0x5d3ab0(0x64c),a0_0x5d3ab0(0x540),a0_0x5d3ab0(0x22a),a0_0x5d3ab0(0x14b),a0_0x5d3ab0(0x587)]}},'required':[a0_0x5d3ab0(0x419),a0_0x5d3ab0(0x15d)]},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'subject':{'type':a0_0x5d3ab0(0x542)},'description':{'type':a0_0x5d3ab0(0x542)},'profilePicture':{'type':a0_0x5d3ab0(0x542)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5d3ab0(0x542),'minLength':0xa,'pattern':a0_0x5d3ab0(0x184),'description':a0_0x5d3ab0(0x492)}}},'required':[a0_0x5d3ab0(0x46a),a0_0x5d3ab0(0x19e)],...E('subject',a0_0x5d3ab0(0x2e1),a0_0x5d3ab0(0x1d4))},Ae={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'groupJid':{'type':a0_0x5d3ab0(0x542),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x5d3ab0(0x45f)],...E('groupJid')},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'groupJid':{'type':a0_0x5d3ab0(0x542)},'action':{'type':a0_0x5d3ab0(0x542),'enum':[a0_0x5d3ab0(0x2cb),'remove','promote',a0_0x5d3ab0(0x89),a0_0x5d3ab0(0x338),a0_0x5d3ab0(0x301)]},'participants':{'type':a0_0x5d3ab0(0x38d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x5d3ab0(0x184),'description':a0_0x5d3ab0(0x492)}}},'required':['groupJid','action',a0_0x5d3ab0(0x19e)],...E(a0_0x5d3ab0(0x45f),'action')},Xa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x5d3ab0(0x542)},'expiration':{'type':a0_0x5d3ab0(0x15d),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x5d3ab0(0x45f),a0_0x5d3ab0(0x6d2)],...E(a0_0x5d3ab0(0x45f),a0_0x5d3ab0(0x6d2))},Za={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'groupJid':{'type':a0_0x5d3ab0(0x542)},'image':{'type':a0_0x5d3ab0(0x542)}},'required':[a0_0x5d3ab0(0x45f),a0_0x5d3ab0(0x2e7)],...E(a0_0x5d3ab0(0x45f),'image')},eo={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'groupJid':{'type':a0_0x5d3ab0(0x542)},'description':{'type':a0_0x5d3ab0(0x542)}},'required':[a0_0x5d3ab0(0x45f),a0_0x5d3ab0(0x2e1)],...E(a0_0x5d3ab0(0x45f),a0_0x5d3ab0(0x2e1))},to={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x5d3ab0(0x542)}},'required':[a0_0x5d3ab0(0x45f),a0_0x5d3ab0(0x26b)],...E('groupJid','name')},so={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x5d3ab0(0x542)},'setting':{'type':'string','enum':[a0_0x5d3ab0(0x69e),a0_0x5d3ab0(0x49d),'unlocked','locked']}},'required':[a0_0x5d3ab0(0x45f),'setting'],...E('groupJid',a0_0x5d3ab0(0x163))},ao={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'groupJid':{'type':a0_0x5d3ab0(0x542)},'restrict':{'type':a0_0x5d3ab0(0x59c)},'announce':{'type':a0_0x5d3ab0(0x59c)},'memberAddMode':{'type':a0_0x5d3ab0(0x59c)},'joinApprovalMode':{'type':a0_0x5d3ab0(0x59c)},'expiration':{'type':a0_0x5d3ab0(0x4e3),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x5d3ab0(0x542)},'image':{'type':'string'}}},bs={'$id':(0x0,v['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x5d3ab0(0x542)}},'required':[a0_0x5d3ab0(0x504)],...E(a0_0x5d3ab0(0x504))},oo={'$id':(0x0,v['v4'])(),'type':'object','properties':{'url':{'type':a0_0x5d3ab0(0x542)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x5d3ab0(0x1f6),a0_0x5d3ab0(0x113)]},pc={'$id':(0x0,v['v4'])(),'type':a0_0x5d3ab0(0x696),'properties':{'local_map':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x5d3ab0(0x59c),'enum':[!0x0,!0x1]}},'required':[a0_0x5d3ab0(0x4a9),a0_0x5d3ab0(0x519),a0_0x5d3ab0(0x44a),a0_0x5d3ab0(0x52d),a0_0x5d3ab0(0x44e),a0_0x5d3ab0(0x30b),a0_0x5d3ab0(0x1c3),a0_0x5d3ab0(0x3fc),'CONTACTS_UPSERT',a0_0x5d3ab0(0x5d2),a0_0x5d3ab0(0x543),a0_0x5d3ab0(0xe1),a0_0x5d3ab0(0x6e6),a0_0x5d3ab0(0x786),a0_0x5d3ab0(0x2fa),'CONNECTION_UPDATE','GROUPS_UPSERT',a0_0x5d3ab0(0x536),a0_0x5d3ab0(0x4d3)],...E(a0_0x5d3ab0(0x4a9),a0_0x5d3ab0(0x519),a0_0x5d3ab0(0x44a),a0_0x5d3ab0(0x52d),a0_0x5d3ab0(0x44e),a0_0x5d3ab0(0x30b),a0_0x5d3ab0(0x1c3),a0_0x5d3ab0(0x3fc),a0_0x5d3ab0(0xc3),a0_0x5d3ab0(0x5d2),a0_0x5d3ab0(0x543),a0_0x5d3ab0(0xe1),a0_0x5d3ab0(0x6e6),a0_0x5d3ab0(0x786),'CHATS_DELETE',a0_0x5d3ab0(0x64d),a0_0x5d3ab0(0x674),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE')},at=class{},ot=class extends x{[a0_0x5d3ab0(0x57c)](_0x15bf18){return Xs(_0x15bf18);}async[a0_0x5d3ab0(0x435)](_0x5da298){const _0x489a9b=a0_0x5d3ab0;if(_0x5da298[_0x489a9b(0x6d9)]!==0x0)try{return{'insertCount':(await this[_0x489a9b(0x57c)](_0x5da298[0x0][_0x489a9b(0x36e)])['insertMany']([..._0x5da298]))[_0x489a9b(0x6d9)]};}catch(_0x2437ca){return _0x2437ca;}}async[a0_0x5d3ab0(0x4c9)](_0x576aee,_0x3a57fd){const _0x3c33dc=a0_0x5d3ab0;try{return{'deletedCount':(await this[_0x3c33dc(0x57c)](_0x3a57fd)[_0x3c33dc(0x13e)]({..._0x576aee[_0x3c33dc(0x37a)]}))[_0x3c33dc(0x78a)]};}catch(_0x3c59ce){return{'error':_0x3c59ce?.['toString']()};}}async[a0_0x5d3ab0(0x2bc)](_0x1c7768,_0xa455a5){const _0x300c9e=a0_0x5d3ab0;try{if(_0x1c7768[_0x300c9e(0x6d9)]===0x0)return;let _0x10b37d=this[_0x300c9e(0x57c)](_0xa455a5),_0x15df2a=_0x1c7768[_0x300c9e(0x2de)](_0x1380bc=>({'updateOne':{'filter':{'_id':_0x1380bc[_0x300c9e(0x4eb)],'owner':_0xa455a5},'update':{..._0x1380bc}}})),{modifiedCount:_0x1f6242}=await _0x10b37d[_0x300c9e(0x3c2)](_0x15df2a);return{'insertCount':_0x1f6242};}catch{return;}}async['find'](_0x495d10,_0x370ae5){const _0x27e7c0=a0_0x5d3ab0;try{let _0x14f32a=this[_0x27e7c0(0x57c)](_0x370ae5),_0x3dd5b5=T(_0x495d10[_0x27e7c0(0x37a)]);return await _0x14f32a['find'](_0x3dd5b5)[_0x27e7c0(0x53f)](_0x495d10?.['limit']??0x0)[_0x27e7c0(0xa1)]();}catch{return[];}}async['findOne'](_0x1f6f5b,_0x4b5195){const _0x45dbaf=a0_0x5d3ab0;try{let _0x3ebcf6=this[_0x45dbaf(0x57c)](_0x4b5195),_0x282be4=T(_0x1f6f5b[_0x45dbaf(0x37a)]);return await _0x3ebcf6[_0x45dbaf(0x639)](_0x282be4)[_0x45dbaf(0xa1)]();}catch{return null;}}async[a0_0x5d3ab0(0x31b)](_0xfe53f){const _0x8d3494=a0_0x5d3ab0;try{return await this['getContactModelForOwner'](_0xfe53f)[_0x8d3494(0x2b7)][_0x8d3494(0x369)](),{'success':!0x0};}catch(_0x48dfb0){return console[_0x8d3494(0x73d)](_0x48dfb0),{'success':!0x1,'error':_0x48dfb0};}}},it=require(a0_0x5d3ab0(0x43d)),Mc=require(a0_0x5d3ab0(0x56e)),Ss=new R('Validate'),V=class{[a0_0x5d3ab0(0x6f9)](_0x5308de,_0x404f67=!0x0){const _0xf47441=a0_0x5d3ab0;let _0x16c939='/'+_0x5308de;return _0x404f67&&(_0x16c939+=_0xf47441(0xb0)),_0x16c939;}async[a0_0x5d3ab0(0xaa)](_0x49ac21){const _0x42fcf5=a0_0x5d3ab0;let {request:_0x2a5285,schema:_0x402e22,ClassRef:_0x159d36,execute:_0x45fd6a}=_0x49ac21,_0x4f0468=new _0x159d36(),_0x5d161f=_0x2a5285['body'],_0x259aff=_0x2a5285[_0x42fcf5(0x574)];_0x2a5285?.[_0x42fcf5(0x3a8)]&&Object['keys'](_0x2a5285[_0x42fcf5(0x3a8)])[_0x42fcf5(0x6d9)]>0x0&&Object['assign'](_0x259aff,_0x2a5285[_0x42fcf5(0x3a8)]),_0x2a5285['originalUrl'][_0x42fcf5(0x5c5)](_0x42fcf5(0x33f))&&Object[_0x42fcf5(0x2bf)](_0x259aff,_0x5d161f),Object['assign'](_0x4f0468,_0x5d161f);let _0x4094d3=_0x402e22?(0x0,it['validate'])(_0x4f0468,_0x402e22):{'valid':!0x0,'errors':[]};if(!_0x4094d3[_0x42fcf5(0xe5)]){let _0x2c8e51=_0x4094d3[_0x42fcf5(0xfa)]['map'](({property:_0x10b0f6,stack:_0x1d769b,schema:_0x4ea3e8})=>{const _0x32d205=_0x42fcf5;let _0x5bd5df;return _0x4ea3e8['description']?_0x5bd5df=_0x4ea3e8[_0x32d205(0x2e1)]:_0x5bd5df=_0x1d769b[_0x32d205(0x143)](_0x32d205(0x334),''),{'property':_0x10b0f6[_0x32d205(0x143)]('instance.',''),'message':_0x5bd5df};});throw Ss[_0x42fcf5(0x73d)]([..._0x2c8e51]),new m(..._0x2c8e51);}return await _0x45fd6a(_0x259aff,_0x4f0468);}async['groupValidate'](_0x40fd53){const _0x4eb292=a0_0x5d3ab0;let {request:_0x336769,ClassRef:_0x4b0f70,schema:_0x34a8cc,execute:_0xebd1de}=_0x40fd53,_0x1a16f9=_0x336769[_0x4eb292(0x3a8)];if(!_0x1a16f9?.[_0x4eb292(0x45f)])throw new m(_0x4eb292(0x364),_0x4eb292(0x3fb));let _0x355194=_0x336769[_0x4eb292(0x574)],_0x2d65c8=_0x336769[_0x4eb292(0x509)],_0x166cb1=new _0x4b0f70();Object[_0x4eb292(0x2bf)](_0x2d65c8,_0x1a16f9),Object['assign'](_0x166cb1,_0x2d65c8);let _0x1c2578=(0x0,it[_0x4eb292(0x4a1)])(_0x166cb1,_0x34a8cc);if(!_0x1c2578[_0x4eb292(0xe5)]){let _0x5be9a2=_0x1c2578[_0x4eb292(0xfa)][_0x4eb292(0x2de)](({property:_0x24b442,stack:_0x29e0d7,schema:_0x38759c})=>{const _0x3c5a28=_0x4eb292;let _0x362726;return _0x38759c['description']?_0x362726=_0x38759c['description']:_0x362726=_0x29e0d7[_0x3c5a28(0x143)](_0x3c5a28(0x334),''),{'property':_0x24b442['replace']('instance.',''),'message':_0x362726};});throw Ss[_0x4eb292(0x73d)]([..._0x5be9a2]),new m(..._0x5be9a2);}return await _0xebd1de(_0x355194,_0x166cb1);}async[a0_0x5d3ab0(0x464)](_0x1781e7){const _0x40c743=a0_0x5d3ab0;let {request:_0x4eb01d,ClassRef:_0x49d6a8,schema:_0x2b4313,execute:_0xb8eb60}=_0x1781e7,_0x463672=_0x4eb01d[_0x40c743(0x509)];if(!_0x463672?.[_0x40c743(0x504)])throw new m(_0x40c743(0x174),_0x40c743(0x16b));let _0x49c2c8=_0x4eb01d['params'],_0x3e1daa=_0x4eb01d[_0x40c743(0x509)],_0x6c1f59=new _0x49d6a8();Object[_0x40c743(0x2bf)](_0x3e1daa,_0x463672),Object[_0x40c743(0x2bf)](_0x6c1f59,_0x3e1daa);let _0x3884ef=(0x0,it[_0x40c743(0x4a1)])(_0x6c1f59,_0x2b4313);if(!_0x3884ef['valid']){let _0x38730d=_0x3884ef[_0x40c743(0xfa)][_0x40c743(0x2de)](({property:_0x24df9d,stack:_0x4a722a,schema:_0x289d6e})=>{const _0x7bad1=_0x40c743;let _0x168013;return _0x289d6e['description']?_0x168013=_0x289d6e[_0x7bad1(0x2e1)]:_0x168013=_0x4a722a['replace'](_0x7bad1(0x334),''),{'property':_0x24df9d[_0x7bad1(0x143)]('instance.',''),'message':_0x168013};});throw Ss['error']([..._0x38730d]),new m(..._0x38730d);}return await _0xb8eb60(_0x49c2c8,_0x6c1f59);}},C=class{},kc=new R(a0_0x5d3ab0(0x5d1)),rt=class extends V{constructor(..._0x22ff47){const _0x40d1f5=a0_0x5d3ab0;super(),this['router']=(0x0,io['Router'])(),this[_0x40d1f5(0x638)][_0x40d1f5(0x253)](this[_0x40d1f5(0x6f9)](_0x40d1f5(0x178)),..._0x22ff47,async(_0x5b8d55,_0x48a830)=>{const _0x3613e5=_0x40d1f5;let _0x5c75d5=await this['dataValidate']({'request':_0x5b8d55,'schema':Ka,'ClassRef':ze,'execute':(_0x306a54,_0x21d412)=>P[_0x3613e5(0x178)](_0x306a54,_0x21d412)});return _0x48a830[_0x3613e5(0x489)](0xc9)[_0x3613e5(0x310)](_0x5c75d5);})[_0x40d1f5(0x253)](this[_0x40d1f5(0x6f9)](_0x40d1f5(0x558)),..._0x22ff47,async(_0x4dcdc1,_0x36d7fc)=>{const _0x3f5199=_0x40d1f5;let _0x5c9003=await this[_0x3f5199(0xaa)]({'request':_0x4dcdc1,'schema':Fa,'ClassRef':He,'execute':(_0x2b27b9,_0x100741)=>P[_0x3f5199(0x17d)](_0x2b27b9,_0x100741)});return _0x36d7fc[_0x3f5199(0x489)](0xc9)['json'](_0x5c9003);})[_0x40d1f5(0x253)](this[_0x40d1f5(0x6f9)](_0x40d1f5(0x4f1)),..._0x22ff47,async(_0x4115b6,_0x4cfd7b)=>{const _0x17cfe8=_0x40d1f5;let _0x268695=await this[_0x17cfe8(0xaa)]({'request':_0x4115b6,'schema':N,'ClassRef':C,'execute':(_0x5561d8,_0x58b247)=>P['editChat'](_0x5561d8,_0x58b247)});return _0x4cfd7b['status'](0xc9)['json'](_0x268695);})[_0x40d1f5(0x381)](this[_0x40d1f5(0x6f9)](_0x40d1f5(0x13f)),..._0x22ff47,async(_0x24ddcf,_0x45a372)=>{const _0x520cda=_0x40d1f5;let _0x59c72c=await this['dataValidate']({'request':_0x24ddcf,'schema':Ja,'ClassRef':Ye,'execute':(_0x35dd47,_0x2b9838)=>P[_0x520cda(0x453)](_0x35dd47,_0x2b9838)});return _0x45a372[_0x520cda(0x489)](0xc9)[_0x520cda(0x310)](_0x59c72c);})[_0x40d1f5(0x381)](this['routerPath']('archiveChat'),..._0x22ff47,async(_0x3c95bb,_0x4b9aa1)=>{const _0x4cf163=_0x40d1f5;let _0x304312=await this[_0x4cf163(0xaa)]({'request':_0x3c95bb,'schema':qa,'ClassRef':Xe,'execute':(_0x524bd2,_0x15ac69)=>P[_0x4cf163(0x2a6)](_0x524bd2,_0x15ac69)});return _0x4b9aa1['status'](0xc9)[_0x4cf163(0x310)](_0x304312);})[_0x40d1f5(0x4c9)](this[_0x40d1f5(0x6f9)](_0x40d1f5(0x71e)),..._0x22ff47,async(_0x416ffa,_0x1d93ff)=>{const _0x3a59f5=_0x40d1f5;let _0x4bb707=await this[_0x3a59f5(0xaa)]({'request':_0x416ffa,'schema':Va,'ClassRef':et,'execute':(_0xe35590,_0xd34d91)=>P[_0x3a59f5(0x202)](_0xe35590,_0xd34d91)});return _0x1d93ff[_0x3a59f5(0x489)](0xc9)[_0x3a59f5(0x310)](_0x4bb707);})[_0x40d1f5(0x253)](this[_0x40d1f5(0x6f9)](_0x40d1f5(0x78f)),..._0x22ff47,async(_0x24a46f,_0x1e4255)=>{const _0x1a1068=_0x40d1f5;let _0x11eb4f=await this['dataValidate']({'request':_0x24a46f,'schema':$e,'ClassRef':Ne,'execute':(_0x16d645,_0xb86edb)=>P[_0x1a1068(0x5d8)](_0x16d645,_0xb86edb)});return _0x1e4255['status'](0xc8)['json'](_0x11eb4f);})[_0x40d1f5(0x253)](this[_0x40d1f5(0x6f9)](_0x40d1f5(0x5d6)),..._0x22ff47,async(_0x538ab4,_0x105ebc)=>{const _0x2f8a0c=_0x40d1f5;let _0x4760e9=await this[_0x2f8a0c(0xaa)]({'request':_0x538ab4,'schema':za,'ClassRef':Ne,'execute':(_0x33d6d8,_0x4f1b24)=>P['fetchProfile'](_0x33d6d8,_0x4f1b24)});return _0x105ebc['status'](0xc8)[_0x2f8a0c(0x310)](_0x4760e9);})[_0x40d1f5(0x253)](this['routerPath'](_0x40d1f5(0xfb)),..._0x22ff47,async(_0xf23fae,_0x4a97da)=>{const _0x2daa2c=_0x40d1f5;let _0x299f92=await this[_0x2daa2c(0xaa)]({'request':_0xf23fae,'schema':Ga,'ClassRef':at,'execute':(_0x4e6bae,_0x48ec00)=>P[_0x2daa2c(0x377)](_0x4e6bae,_0x48ec00)});return _0x4a97da[_0x2daa2c(0x489)](0xc8)[_0x2daa2c(0x310)](_0x299f92);})['post'](this['routerPath'](_0x40d1f5(0x521)),..._0x22ff47,async(_0xe8ba0d,_0x4fd2e9)=>{const _0x3c6b48=_0x40d1f5;let _0x1b1928=await this[_0x3c6b48(0xaa)]({'request':_0xe8ba0d,'schema':null,'ClassRef':Object,'execute':(_0x4acb30,_0x5c5ae7)=>P[_0x3c6b48(0x521)](_0x4acb30,_0x5c5ae7)});return _0x4fd2e9[_0x3c6b48(0x489)](0xc9)[_0x3c6b48(0x310)](_0x1b1928);})['post'](this['routerPath']('findMessages'),..._0x22ff47,async(_0x23d63f,_0x161517)=>{const _0x43e5f2=_0x40d1f5;let _0x92b026=await this[_0x43e5f2(0xaa)]({'request':_0x23d63f,'schema':Ha,'ClassRef':Be,'execute':(_0x48d814,_0x5cc479)=>P[_0x43e5f2(0x15a)](_0x48d814,_0x5cc479)});return _0x161517[_0x43e5f2(0x489)](0xc8)[_0x43e5f2(0x310)](_0x92b026);})[_0x40d1f5(0x2af)](this[_0x40d1f5(0x6f9)](_0x40d1f5(0x4d0)),..._0x22ff47,async(_0x56776e,_0x221d30)=>{const _0x198fbd=_0x40d1f5;let _0x25c889=await this['dataValidate']({'request':_0x56776e,'schema':null,'ClassRef':C,'execute':_0x3240d4=>P['fetchChats'](_0x3240d4)});return _0x221d30[_0x198fbd(0x489)](0xc8)[_0x198fbd(0x310)](_0x25c889);})[_0x40d1f5(0x2af)](this['routerPath'](_0x40d1f5(0x96)),..._0x22ff47,async(_0x248e8,_0x145337)=>{const _0x650d45=_0x40d1f5;let _0x1aa3c4=await this[_0x650d45(0xaa)]({'request':_0x248e8,'schema':null,'ClassRef':C,'execute':_0x25af41=>P['fetchLabels'](_0x25af41)});return _0x145337[_0x650d45(0x489)](0xc8)[_0x650d45(0x310)](_0x1aa3c4);})['put'](this[_0x40d1f5(0x6f9)]('importChats'),..._0x22ff47,async(_0x4a1d11,_0x4e08ef)=>{const _0x4cf4e8=_0x40d1f5;let _0x14cc28=await this[_0x4cf4e8(0xaa)]({'request':_0x4a1d11,'schema':null,'ClassRef':Array,'execute':(_0x596bac,_0x2183da)=>P['importChats'](_0x596bac,_0x2183da)});return _0x4e08ef[_0x4cf4e8(0x489)](0xc8)['json'](_0x14cc28);})[_0x40d1f5(0x2af)](this['routerPath'](_0x40d1f5(0x404)),..._0x22ff47,async(_0x39fed8,_0x656783)=>{const _0x1e6230=_0x40d1f5;let _0x5b91a7=await this[_0x1e6230(0xaa)]({'request':_0x39fed8,'schema':null,'ClassRef':C,'execute':_0x1a47fb=>P[_0x1e6230(0x404)](_0x1a47fb)});return _0x656783[_0x1e6230(0x489)](0xc8)[_0x1e6230(0x310)](_0x5b91a7);})[_0x40d1f5(0x381)](this['routerPath'](_0x40d1f5(0x275)),..._0x22ff47,async(_0x520165,_0x51d59b)=>{const _0x14d08c=_0x40d1f5;let _0x56894f=await this['dataValidate']({'request':_0x520165,'schema':Ua,'ClassRef':Ze,'execute':(_0x242300,_0x1a30f6)=>P[_0x14d08c(0x275)](_0x242300,_0x1a30f6)});return _0x51d59b[_0x14d08c(0x489)](0xc9)[_0x14d08c(0x310)](_0x56894f);})['post'](this[_0x40d1f5(0x6f9)](_0x40d1f5(0x2d1)),..._0x22ff47,async(_0x285689,_0x440aeb)=>{const _0x182824=_0x40d1f5;let _0x59f1ad=await this[_0x182824(0xaa)]({'request':_0x285689,'schema':$e,'ClassRef':be,'execute':(_0x391403,_0x43269d)=>P[_0x182824(0x2d1)](_0x391403,_0x43269d)});return _0x440aeb['status'](0xc8)[_0x182824(0x310)](_0x59f1ad);})[_0x40d1f5(0x253)](this[_0x40d1f5(0x6f9)](_0x40d1f5(0x223)),..._0x22ff47,async(_0x4cc4f0,_0x57b3f0)=>{const _0x516c62=_0x40d1f5;let _0x102759=await this[_0x516c62(0xaa)]({'request':_0x4cc4f0,'schema':Ba,'ClassRef':Ke,'execute':(_0x4d2d7f,_0x5c1043)=>P[_0x516c62(0x223)](_0x4d2d7f,_0x5c1043)});return _0x57b3f0[_0x516c62(0x489)](0xc8)[_0x516c62(0x310)](_0x102759);})['post'](this[_0x40d1f5(0x6f9)](_0x40d1f5(0x5e9)),..._0x22ff47,async(_0x132705,_0x13e909)=>{const _0xd0326a=_0x40d1f5;let _0x3df01d=await this['dataValidate']({'request':_0x132705,'schema':Wa,'ClassRef':Qe,'execute':(_0x5a90ae,_0xf256b8)=>P[_0xd0326a(0x5e9)](_0x5a90ae,_0xf256b8)});return _0x13e909[_0xd0326a(0x489)](0xc8)[_0xd0326a(0x310)](_0x3df01d);})[_0x40d1f5(0x381)](this[_0x40d1f5(0x6f9)]('updateProfilePicture'),..._0x22ff47,async(_0x119f7c,_0x12a87d)=>{const _0x4eb5a8=_0x40d1f5;let _0x55ed26=await this[_0x4eb5a8(0xaa)]({'request':_0x119f7c,'schema':$e,'ClassRef':be,'execute':(_0x32817e,_0x2b1f81)=>P['updateProfilePicture'](_0x32817e,_0x2b1f81)});return _0x12a87d[_0x4eb5a8(0x489)](0xc8)['json'](_0x55ed26);})['delete'](this[_0x40d1f5(0x6f9)]('removeProfilePicture'),..._0x22ff47,async(_0x31793e,_0x50da32)=>{const _0x29f79a=_0x40d1f5;let _0x44e02c=await this['dataValidate']({'request':_0x31793e,'schema':$e,'ClassRef':be,'execute':(_0x152569,_0x4894df)=>P['removeProfilePicture'](_0x152569,_0x4894df)});return _0x50da32[_0x29f79a(0x489)](0xc8)[_0x29f79a(0x310)](_0x44e02c);});}},ro=require(a0_0x5d3ab0(0x304)),nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},pt=class{},X=class{},Oe=class{},ht=class extends X{},gt=class extends X{},mt=class extends V{constructor(..._0x2cc047){const _0x204a62=a0_0x5d3ab0;super(),this[_0x204a62(0x638)]=(0x0,ro[_0x204a62(0x309)])(),this[_0x204a62(0x638)][_0x204a62(0x253)](this[_0x204a62(0x6f9)](_0x204a62(0xee)),..._0x2cc047,async(_0x1be70d,_0x5ccc8a)=>{const _0x4b0625=_0x204a62;let _0x3fc98b=await this[_0x4b0625(0xaa)]({'request':_0x1be70d,'schema':Qa,'ClassRef':nt,'execute':(_0x3c4eb0,_0x3d56fe)=>q['createGroup'](_0x3c4eb0,_0x3d56fe)});_0x5ccc8a['status'](0xc9)[_0x4b0625(0x310)](_0x3fc98b);})[_0x204a62(0x381)](this[_0x204a62(0x6f9)](_0x204a62(0x57f)),..._0x2cc047,async(_0x39f5b0,_0x2e50da)=>{const _0x5a6f5d=_0x204a62;let _0x4ba5d5=await this[_0x5a6f5d(0x308)]({'request':_0x39f5b0,'schema':Za,'ClassRef':ct,'execute':(_0x15fc07,_0x2b7525)=>q[_0x5a6f5d(0x57f)](_0x15fc07,_0x2b7525)});_0x2e50da[_0x5a6f5d(0x489)](0xc9)[_0x5a6f5d(0x310)](_0x4ba5d5);})[_0x204a62(0x381)](this[_0x204a62(0x6f9)](_0x204a62(0xdd)),..._0x2cc047,async(_0x503c05,_0x331e4d)=>{const _0x2dca63=_0x204a62;let _0x4c9606=await this['groupValidate']({'request':_0x503c05,'schema':eo,'ClassRef':lt,'execute':(_0x130783,_0x8ec4fd)=>q['groupDesc'](_0x130783,_0x8ec4fd)});_0x331e4d[_0x2dca63(0x489)](0xc9)[_0x2dca63(0x310)](_0x4c9606);})[_0x204a62(0x381)](this[_0x204a62(0x6f9)](_0x204a62(0x6b6)),..._0x2cc047,async(_0x12c6b6,_0x4512c3)=>{const _0x4ee1c8=_0x204a62;let _0x27ba08=await this[_0x4ee1c8(0x308)]({'request':_0x12c6b6,'schema':to,'ClassRef':ut,'execute':(_0x3bac11,_0x285b94)=>q[_0x4ee1c8(0x6b6)](_0x3bac11,_0x285b94)});_0x4512c3[_0x4ee1c8(0x489)](0xc9)[_0x4ee1c8(0x310)](_0x27ba08);})[_0x204a62(0x381)](this[_0x204a62(0x6f9)](_0x204a62(0x265)),..._0x2cc047,async(_0x1f68b1,_0x4549c5)=>{const _0x32f71e=_0x204a62;let _0x10fee5=await this[_0x32f71e(0x308)]({'request':_0x1f68b1,'schema':ao,'ClassRef':pt,'execute':(_0x53b68c,_0x5b4533)=>q[_0x32f71e(0x265)](_0x53b68c,_0x5b4533)});_0x4549c5['status'](0xc9)[_0x32f71e(0x310)](_0x10fee5);})['put'](this[_0x204a62(0x6f9)](_0x204a62(0x5db)),..._0x2cc047,async(_0x2fd00d,_0x406603)=>{const _0x1ca166=_0x204a62;let _0xfd3326=await this['groupValidate']({'request':_0x2fd00d,'schema':so,'ClassRef':dt,'execute':(_0x20bac1,_0x42db95)=>q[_0x1ca166(0x5db)](_0x20bac1,_0x42db95)});_0x406603[_0x1ca166(0x489)](0xc9)[_0x1ca166(0x310)](_0xfd3326);})[_0x204a62(0x381)](this['routerPath'](_0x204a62(0x15f)),..._0x2cc047,async(_0x4ef915,_0x2ca2ff)=>{const _0x6a7a62=_0x204a62;let _0x48e6ab=await this[_0x6a7a62(0x308)]({'request':_0x4ef915,'schema':Xa,'ClassRef':gt,'execute':(_0x23c80f,_0x3fc506)=>q[_0x6a7a62(0x15f)](_0x23c80f,_0x3fc506)});_0x2ca2ff[_0x6a7a62(0x489)](0xc9)[_0x6a7a62(0x310)](_0x48e6ab);})[_0x204a62(0x2af)](this[_0x204a62(0x6f9)]('findGroupInfos'),..._0x2cc047,async(_0x314d42,_0x18f2a7)=>{const _0x37e58f=_0x204a62;let _0x46ea36=await this[_0x37e58f(0x308)]({'request':_0x314d42,'schema':Ae,'ClassRef':X,'execute':(_0x680b86,_0x2cdab4)=>q[_0x37e58f(0x644)](_0x680b86,_0x2cdab4)});_0x18f2a7[_0x37e58f(0x489)](0xc8)[_0x37e58f(0x310)](_0x46ea36);})[_0x204a62(0x2af)](this['routerPath'](_0x204a62(0x313)),..._0x2cc047,async(_0x27f5ed,_0x405c3b)=>{const _0x15406d=_0x204a62;let _0x124eef=await this['dataValidate']({'request':_0x27f5ed,'schema':N,'ClassRef':C,'execute':_0xf2c7d7=>q[_0x15406d(0x313)](_0xf2c7d7)});_0x405c3b[_0x15406d(0x489)](0xc8)['json'](_0x124eef);})[_0x204a62(0x2af)](this[_0x204a62(0x6f9)]('participants'),..._0x2cc047,async(_0x5a7260,_0x38e095)=>{const _0x996e44=_0x204a62;let _0x3d113f=await this['groupValidate']({'request':_0x5a7260,'schema':Ae,'ClassRef':X,'execute':(_0x2d7c69,_0x47cde1)=>q[_0x996e44(0x690)](_0x2d7c69,_0x47cde1)});_0x38e095[_0x996e44(0x489)](0xc8)[_0x996e44(0x310)](_0x3d113f);})[_0x204a62(0x2af)](this['routerPath'](_0x204a62(0x504)),..._0x2cc047,async(_0x5ede45,_0x42c503)=>{const _0x291f44=_0x204a62;let _0x4b4b3d=await this[_0x291f44(0x308)]({'request':_0x5ede45,'schema':Ae,'ClassRef':X,'execute':(_0xd893e2,_0x417a6b)=>q[_0x291f44(0x504)](_0xd893e2,_0x417a6b)});_0x42c503[_0x291f44(0x489)](0xc8)[_0x291f44(0x310)](_0x4b4b3d);})[_0x204a62(0x253)](this[_0x204a62(0x6f9)](_0x204a62(0x2a8)),..._0x2cc047,async(_0x2d3c39,_0x245bb6)=>{const _0x2f5c65=_0x204a62;let _0x3b3aa4=await this['joinGroupValidate']({'request':_0x2d3c39,'schema':bs,'ClassRef':Oe,'execute':(_0x378d6a,_0x3d2b0e)=>q[_0x2f5c65(0x640)](_0x378d6a,_0x3d2b0e)});_0x245bb6['status'](0xc9)[_0x2f5c65(0x310)](_0x3b3aa4);})[_0x204a62(0x381)](this[_0x204a62(0x6f9)](_0x204a62(0xb2)),..._0x2cc047,async(_0xa99f01,_0x5717e2)=>{const _0x96cdfa=_0x204a62;let _0x55652f=await this['joinGroupValidate']({'request':_0xa99f01,'schema':bs,'ClassRef':Oe,'execute':(_0x236ba9,_0x55f15b)=>q[_0x96cdfa(0xb2)](_0x236ba9,_0x55f15b)});_0x5717e2[_0x96cdfa(0x489)](0xc9)[_0x96cdfa(0x310)](_0x55652f);})[_0x204a62(0x381)](this['routerPath'](_0x204a62(0x618)),..._0x2cc047,async(_0x5349df,_0x5344a5)=>{const _0x341d28=_0x204a62;let _0x1fac26=await this[_0x341d28(0x308)]({'request':_0x5349df,'schema':Ae,'ClassRef':X,'execute':(_0x73de93,_0x1f103c)=>q['revokeInviteCode'](_0x73de93,_0x1f103c)});_0x5344a5['status'](0xc9)[_0x341d28(0x310)](_0x1fac26);})[_0x204a62(0x381)](this[_0x204a62(0x6f9)](_0x204a62(0x728)),..._0x2cc047,async(_0x39038b,_0x59baf6)=>{const _0x41a543=_0x204a62;let _0x3d82a8=await this['groupValidate']({'request':_0x39038b,'schema':Ya,'ClassRef':ht,'execute':(_0x474dd4,_0x539589)=>q[_0x41a543(0x472)](_0x474dd4,_0x539589)});_0x59baf6[_0x41a543(0x489)](0xc9)[_0x41a543(0x310)](_0x3d82a8);})[_0x204a62(0x4c9)](this[_0x204a62(0x6f9)](_0x204a62(0x191)),..._0x2cc047,async(_0x1543dc,_0x557964)=>{const _0x5dcdbe=_0x204a62;let _0x506ca2=await this[_0x5dcdbe(0x308)]({'request':_0x1543dc,'schema':{},'ClassRef':X,'execute':(_0x167cb6,_0x3fefab)=>q[_0x5dcdbe(0x191)](_0x167cb6,_0x3fefab)});_0x557964[_0x5dcdbe(0x489)](0xc8)[_0x5dcdbe(0x310)](_0x506ca2);});}},no=require(a0_0x5d3ab0(0x304)),ft=class extends V{constructor(_0x57b4b1,..._0x270c79){const _0x2fdd9b=a0_0x5d3ab0;super(),this['configService']=_0x57b4b1,this[_0x2fdd9b(0x638)]=(0x0,no[_0x2fdd9b(0x309)])();let _0x2faa39=_0x57b4b1[_0x2fdd9b(0x2af)](_0x2fdd9b(0x3fe));this[_0x2fdd9b(0x638)][_0x2fdd9b(0x253)](_0x2fdd9b(0x319),..._0x270c79,async(_0x1f4338,_0x43ffc0)=>{const _0x5b45c3=_0x2fdd9b;let {instanceName:_0x3958b6,apikey:_0x2c895,number:_0x372a1c}=_0x1f4338[_0x5b45c3(0x509)],_0x1da3e4=await ce['createInstance']({'instanceName':_0x3958b6,'apikey':_0x2c895,'number':_0x372a1c});return _0x43ffc0[_0x5b45c3(0x489)](0xc9)[_0x5b45c3(0x310)](_0x1da3e4);})['put'](this[_0x2fdd9b(0x6f9)]('restart'),..._0x270c79,async(_0x231582,_0x825461)=>{const _0x4e3111=_0x2fdd9b;let _0x56ecef=await this[_0x4e3111(0xaa)]({'request':_0x231582,'schema':N,'ClassRef':C,'execute':_0x5172f7=>ce[_0x4e3111(0x4e2)](_0x5172f7)});return _0x825461[_0x4e3111(0x489)](0xc8)[_0x4e3111(0x310)](_0x56ecef);})[_0x2fdd9b(0x2af)](this['routerPath'](_0x2fdd9b(0x44b)),..._0x270c79,async(_0x59ee82,_0x1f966c)=>{const _0x510cd5=_0x2fdd9b;let _0x27accf=await this[_0x510cd5(0xaa)]({'request':_0x59ee82,'schema':N,'ClassRef':C,'execute':_0x3330ba=>ce[_0x510cd5(0x130)](_0x3330ba)});return _0x1f966c[_0x510cd5(0x489)](0xc8)['json'](_0x27accf);})[_0x2fdd9b(0x2af)](this[_0x2fdd9b(0x6f9)](_0x2fdd9b(0x6a2)),..._0x270c79,async(_0x125274,_0x396e49)=>{const _0x3f1ad1=_0x2fdd9b;let _0x1486b2=await this[_0x3f1ad1(0xaa)]({'request':_0x125274,'schema':N,'ClassRef':C,'execute':_0x49e445=>ce[_0x3f1ad1(0x6a2)](_0x49e445)});return _0x396e49[_0x3f1ad1(0x489)](0xc8)[_0x3f1ad1(0x310)](_0x1486b2);})['get'](this[_0x2fdd9b(0x6f9)]('fetchInstances',!0x1),..._0x270c79,async(_0x15d22a,_0x1c61d1)=>{const _0x5a5111=_0x2fdd9b;let _0x496be9=await this[_0x5a5111(0xaa)]({'request':_0x15d22a,'schema':null,'ClassRef':C,'execute':_0x4fa613=>ce[_0x5a5111(0x127)](_0x4fa613)});return _0x1c61d1[_0x5a5111(0x489)](0xc8)['json'](_0x496be9);})['delete'](this[_0x2fdd9b(0x6f9)](_0x2fdd9b(0x75f)),..._0x270c79,async(_0x22b166,_0x3192e8)=>{const _0x329690=_0x2fdd9b;let _0x3527ba=await this[_0x329690(0xaa)]({'request':_0x22b166,'schema':N,'ClassRef':C,'execute':_0x18ffd9=>ce['logout'](_0x18ffd9)});return _0x3192e8[_0x329690(0x489)](0xc8)[_0x329690(0x310)](_0x3527ba);})[_0x2fdd9b(0x4c9)](this[_0x2fdd9b(0x6f9)](_0x2fdd9b(0x4c9)),..._0x270c79,async(_0x5e28b4,_0x351362)=>{const _0x521d07=_0x2fdd9b;let _0x259c8e=await this[_0x521d07(0xaa)]({'request':_0x5e28b4,'schema':N,'ClassRef':C,'execute':_0x159b33=>ce['deleteInstance'](_0x159b33)});return _0x351362[_0x521d07(0x489)](0xc8)[_0x521d07(0x310)](_0x259c8e);});}},co=require('express'),Ms=class{},W=class extends Ms{},wt=class extends W{},yt=class extends W{},bt=class extends W{},St=class extends W{},Te=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class extends W{},Rt=class{},$t=class extends V{constructor(..._0x12d2a4){const _0x2bc9b5=a0_0x5d3ab0;super(),this[_0x2bc9b5(0x638)]=(0x0,co[_0x2bc9b5(0x309)])(),this[_0x2bc9b5(0x638)][_0x2bc9b5(0x253)](this[_0x2bc9b5(0x6f9)]('sendText'),..._0x12d2a4,async(_0x53e2bb,_0x16625e)=>{const _0x500945=_0x2bc9b5;let _0x5131cb=await this[_0x500945(0xaa)]({'request':_0x53e2bb,'schema':Ra,'ClassRef':wt,'execute':(_0x4f13e5,_0x52c4bd)=>B[_0x500945(0x67d)](_0x4f13e5,_0x52c4bd)});return _0x16625e[_0x500945(0x489)](0xc9)[_0x500945(0x310)](_0x5131cb);})[_0x2bc9b5(0x253)](this['routerPath'](_0x2bc9b5(0x5a5)),..._0x12d2a4,async(_0x387bf1,_0x30a862)=>{const _0x2ea8b4=_0x2bc9b5;let _0xf4acc3=await this['dataValidate']({'request':_0x387bf1,'schema':Ta,'ClassRef':Te,'execute':(_0xbc2a6e,_0xdb2721)=>B[_0x2ea8b4(0x5a5)](_0xbc2a6e,_0xdb2721)});return _0x30a862[_0x2ea8b4(0x489)](0xc9)[_0x2ea8b4(0x310)](_0xf4acc3);})['post'](this['routerPath'](_0x2bc9b5(0x3c9)),..._0x12d2a4,async(_0x4cd795,_0x372573)=>{const _0x298b65=_0x2bc9b5;let _0x272c16=await this[_0x298b65(0xaa)]({'request':_0x4cd795,'schema':Da,'ClassRef':St,'execute':(_0xd43aa6,_0x7707f1)=>B[_0x298b65(0x3c9)](_0xd43aa6,_0x7707f1)});return _0x372573[_0x298b65(0x489)](0xc9)[_0x298b65(0x310)](_0x272c16);})[_0x2bc9b5(0x253)](this[_0x2bc9b5(0x6f9)]('sendWhatsAppAudio'),..._0x12d2a4,async(_0x5124f1,_0x580489)=>{const _0x33719d=_0x2bc9b5;let _0x52cf12=await this['dataValidate']({'request':_0x5124f1,'schema':Ia,'ClassRef':Te,'execute':(_0x3c535f,_0x341b45)=>B[_0x33719d(0x3f0)](_0x3c535f,_0x341b45)});return _0x580489[_0x33719d(0x489)](0xc9)['json'](_0x52cf12);})[_0x2bc9b5(0x253)](this['routerPath'](_0x2bc9b5(0x2f7)),..._0x12d2a4,async(_0xe74d76,_0x3175ce)=>{const _0x5ddf58=_0x2bc9b5;let _0x59c541=await this[_0x5ddf58(0xaa)]({'request':_0xe74d76,'schema':_a,'ClassRef':Ct,'execute':(_0xdbc31,_0xe3e074)=>B[_0x5ddf58(0x2f7)](_0xdbc31,_0xe3e074)});return _0x3175ce[_0x5ddf58(0x489)](0xc9)[_0x5ddf58(0x310)](_0x59c541);})['post'](this['routerPath']('sendLocation'),..._0x12d2a4,async(_0x544011,_0x5c709b)=>{const _0x3fa11c=_0x2bc9b5;let _0x11b2a2=await this[_0x3fa11c(0xaa)]({'request':_0x544011,'schema':Pa,'ClassRef':Et,'execute':(_0x3b9ade,_0x78f7cb)=>B[_0x3fa11c(0x20e)](_0x3b9ade,_0x78f7cb)});return _0x5c709b['status'](0xc9)['json'](_0x11b2a2);})['post'](this['routerPath'](_0x2bc9b5(0x132)),..._0x12d2a4,async(_0x5e2095,_0x136d64)=>{const _0x247554=_0x2bc9b5;let _0x556bd0=await this[_0x247554(0xaa)]({'request':_0x5e2095,'schema':ka,'ClassRef':vt,'execute':(_0x509eb2,_0x17ef1c)=>B['sendList'](_0x509eb2,_0x17ef1c)});return _0x136d64[_0x247554(0x489)](0xc9)['json'](_0x556bd0);})[_0x2bc9b5(0x253)](this['routerPath']('sendContact'),..._0x12d2a4,async(_0x5c3397,_0x15b5c4)=>{const _0x2aead6=_0x2bc9b5;let _0x5c4bfe=await this[_0x2aead6(0xaa)]({'request':_0x5c3397,'schema':ja,'ClassRef':Nt,'execute':(_0x58f08b,_0x35a5ab)=>B[_0x2aead6(0x11e)](_0x58f08b,_0x35a5ab)});return _0x15b5c4[_0x2aead6(0x489)](0xc9)['json'](_0x5c4bfe);})[_0x2bc9b5(0x253)](this[_0x2bc9b5(0x6f9)](_0x2bc9b5(0x46b)),..._0x12d2a4,async(_0x1fa07c,_0x2b6f16)=>{const _0x4b0246=_0x2bc9b5;let _0x2610f0=await this[_0x4b0246(0xaa)]({'request':_0x1fa07c,'schema':La,'ClassRef':Rt,'execute':(_0x3d3f8e,_0x5b5bb8)=>B[_0x4b0246(0x46b)](_0x3d3f8e,_0x5b5bb8)});return _0x2b6f16['status'](0xc9)[_0x4b0246(0x310)](_0x2610f0);})[_0x2bc9b5(0x253)](this['routerPath']('sendPoll'),..._0x12d2a4,async(_0x1b256e,_0xe7df8c)=>{const _0x8ef415=_0x2bc9b5;let _0x2ade11=await this['dataValidate']({'request':_0x1b256e,'schema':xa,'ClassRef':bt,'execute':(_0x2240bd,_0x584532)=>B[_0x8ef415(0x1fb)](_0x2240bd,_0x584532)});return _0xe7df8c[_0x8ef415(0x489)](0xc9)['json'](_0x2ade11);})[_0x2bc9b5(0x253)](this[_0x2bc9b5(0x6f9)](_0x2bc9b5(0x373)),..._0x12d2a4,async(_0x4605b0,_0xef6ec5)=>{const _0x247e4b=_0x2bc9b5;let _0x2b9335=await this['dataValidate']({'request':_0x4605b0,'schema':Oa,'ClassRef':yt,'execute':(_0x3d85ef,_0x3a251c)=>B[_0x247e4b(0x373)](_0x3d85ef,_0x3a251c)});return _0xef6ec5[_0x247e4b(0x489)](0xc9)[_0x247e4b(0x310)](_0x2b9335);})['post'](this[_0x2bc9b5(0x6f9)]('sendSticker'),..._0x12d2a4,async(_0x5b3acc,_0x349492)=>{const _0x36d293=_0x2bc9b5;let _0x1637d9=await this[_0x36d293(0xaa)]({'request':_0x5b3acc,'schema':Aa,'ClassRef':Mt,'execute':(_0x58f3d2,_0x2320e4)=>B[_0x36d293(0x5aa)](_0x58f3d2,_0x2320e4)});return _0x349492['status'](0xc9)[_0x36d293(0x310)](_0x1637d9);});}},lo=require('express'),At=class{},Ot=class extends V{constructor(..._0x2ff633){const _0x11ada6=a0_0x5d3ab0;super(),this[_0x11ada6(0x638)]=(0x0,lo[_0x11ada6(0x309)])(),this[_0x11ada6(0x638)][_0x11ada6(0x253)](this['routerPath'](_0x11ada6(0x58d)),..._0x2ff633,async(_0x8ca4a5,_0x513595)=>{const _0x4e8be8=_0x11ada6;let _0x33f3e8=await this['dataValidate']({'request':_0x8ca4a5,'schema':oo,'ClassRef':At,'execute':(_0x3f2bce,_0x451470)=>Cs[_0x4e8be8(0x3b6)](_0x3f2bce,_0x451470)});_0x513595[_0x4e8be8(0x489)](0xc9)['json'](_0x33f3e8);})[_0x11ada6(0x2af)](this['routerPath']('find'),..._0x2ff633,async(_0x228ba9,_0x20ad44)=>{const _0x13818c=_0x11ada6;let _0x1de181=await this[_0x13818c(0xaa)]({'request':_0x228ba9,'schema':N,'ClassRef':C,'execute':_0x53ca0f=>Cs[_0x13818c(0x61c)](_0x53ca0f)});_0x20ad44[_0x13818c(0x489)](0xc8)[_0x13818c(0x310)](_0x1de181);});}},uo=require(a0_0x5d3ab0(0x304)),y=new R(a0_0x5d3ab0(0x610)),Tt=class extends V{constructor(..._0x3860c7){const _0x4873bb=a0_0x5d3ab0;super(),this[_0x4873bb(0x638)]=(0x0,uo[_0x4873bb(0x309)])(),this[_0x4873bb(0x638)][_0x4873bb(0x253)](this['routerPath'](_0x4873bb(0x6e8)),..._0x3860c7,async(_0x47b76a,_0x47faa5)=>{const _0x212406=_0x4873bb;let _0x1ffd2a=_0x47b76a[_0x212406(0x509)];y[_0x212406(0x444)]('request\x20received\x20in\x20scheduleMessage'),y[_0x212406(0x444)](_0x212406(0x50b)),y['verbose'](_0x47b76a['body']);let _0x37bcc4=await this[_0x212406(0xaa)]({'request':_0x47b76a,'schema':N,'ClassRef':C,'execute':_0x14a9ee=>A[_0x212406(0x48d)](_0x14a9ee,_0x1ffd2a)});_0x47faa5[_0x212406(0x489)](0xc8)[_0x212406(0x310)](_0x37bcc4);})[_0x4873bb(0x2af)](this[_0x4873bb(0x6f9)]('scheduleMessage'),..._0x3860c7,async(_0xd0613,_0x2ddeab)=>{const _0x2b7d79=_0x4873bb;let _0xa825d9=await this[_0x2b7d79(0xaa)]({'request':_0xd0613,'schema':N,'ClassRef':C,'execute':_0x5de9ec=>A[_0x2b7d79(0x256)](_0x5de9ec)});_0x2ddeab[_0x2b7d79(0x489)](0xc8)[_0x2b7d79(0x310)](_0xa825d9);})[_0x4873bb(0x4c9)](this[_0x4873bb(0x6f9)](_0x4873bb(0x751)),..._0x3860c7,async(_0x418c0a,_0x3cf44a)=>{const _0x1cf961=_0x4873bb;y[_0x1cf961(0x444)]('request\x20received\x20in\x20deleteDoneMessages');let _0x5481cd=await this[_0x1cf961(0xaa)]({'request':_0x418c0a,'schema':N,'ClassRef':C,'execute':_0x3ec1df=>A[_0x1cf961(0x751)](_0x3ec1df)});_0x3cf44a[_0x1cf961(0x489)](0xc8)['json'](_0x5481cd);})[_0x4873bb(0x253)](this[_0x4873bb(0x6f9)](_0x4873bb(0x663)),..._0x3860c7,async(_0x5a3809,_0x2a50f2)=>{const _0x3aacd4=_0x4873bb;let _0x17e38d=_0x5a3809[_0x3aacd4(0x509)];y[_0x3aacd4(0x444)](_0x3aacd4(0x4b5)),y[_0x3aacd4(0x444)](_0x3aacd4(0x50b)),y[_0x3aacd4(0x444)](_0x5a3809[_0x3aacd4(0x509)]);let _0x3c80a5=await this[_0x3aacd4(0xaa)]({'request':_0x5a3809,'schema':N,'ClassRef':C,'execute':_0x165ae7=>A['startFlow'](_0x165ae7,_0x17e38d)});_0x2a50f2['status'](0xc8)['json'](_0x3c80a5);})[_0x4873bb(0x2af)](this[_0x4873bb(0x6f9)](_0x4873bb(0x350)),..._0x3860c7,async(_0x5775fe,_0x524778)=>{const _0x461f7b=_0x4873bb;y['verbose'](_0x461f7b(0x4c0));let _0x233b9a=await this[_0x461f7b(0xaa)]({'request':_0x5775fe,'schema':N,'ClassRef':C,'execute':_0x34f368=>A['getAutomateSystem'](_0x34f368)});_0x524778[_0x461f7b(0x489)](0xc8)['json'](_0x233b9a);})[_0x4873bb(0x2af)](this[_0x4873bb(0x6f9)]('getTicketSystem'),..._0x3860c7,async(_0x3db423,_0x56700c)=>{const _0x1b8450=_0x4873bb;y['verbose'](_0x1b8450(0x246));let _0x3e51ac=await this[_0x1b8450(0xaa)]({'request':_0x3db423,'schema':N,'ClassRef':C,'execute':_0x319818=>A[_0x1b8450(0x350)](_0x319818)});_0x56700c[_0x1b8450(0x489)](0xc8)['json'](_0x3e51ac);})[_0x4873bb(0x253)](this[_0x4873bb(0x6f9)](_0x4873bb(0x2f9)),..._0x3860c7,async(_0x1ce4e6,_0x42ef03)=>{const _0x2a9480=_0x4873bb;let _0x4e5e26=_0x1ce4e6[_0x2a9480(0x509)];y['verbose'](_0x2a9480(0x399)),y[_0x2a9480(0x444)](_0x2a9480(0x50b)),y[_0x2a9480(0x444)](_0x1ce4e6[_0x2a9480(0x509)]);let _0x4b9436=await this[_0x2a9480(0xaa)]({'request':_0x1ce4e6,'schema':N,'ClassRef':C,'execute':_0x44463b=>A[_0x2a9480(0x2f9)](_0x44463b,_0x4e5e26)});_0x42ef03[_0x2a9480(0x489)](0xc8)['json'](_0x4b9436);})['post'](this[_0x4873bb(0x6f9)](_0x4873bb(0x33c)),..._0x3860c7,async(_0x179828,_0xff35ef)=>{const _0x2ce406=_0x4873bb;let _0x5146f9=_0x179828[_0x2ce406(0x509)];y[_0x2ce406(0x444)]('request\x20received\x20in\x20updateCustomFields'),y[_0x2ce406(0x444)]('request\x20body:\x20'),y[_0x2ce406(0x444)](_0x179828[_0x2ce406(0x509)]);let _0x1ef0fd=await this[_0x2ce406(0xaa)]({'request':_0x179828,'schema':N,'ClassRef':C,'execute':_0x11f2b2=>A[_0x2ce406(0x33c)](_0x11f2b2,_0x5146f9)});_0xff35ef[_0x2ce406(0x489)](0xc8)[_0x2ce406(0x310)](_0x1ef0fd);})[_0x4873bb(0x253)](this[_0x4873bb(0x6f9)](_0x4873bb(0x594)),..._0x3860c7,async(_0x1de0c2,_0x311065)=>{const _0x1c6d55=_0x4873bb;let _0xecd95f=_0x1de0c2[_0x1c6d55(0x509)];y[_0x1c6d55(0x444)](_0x1c6d55(0x5e7)),y[_0x1c6d55(0x444)](_0x1c6d55(0x50b)),y[_0x1c6d55(0x444)](_0x1de0c2['body']);let _0x23517f=await this[_0x1c6d55(0xaa)]({'request':_0x1de0c2,'schema':N,'ClassRef':C,'execute':_0x326c44=>A[_0x1c6d55(0x594)](_0x326c44,_0xecd95f)});_0x311065['status'](0xc8)[_0x1c6d55(0x310)](_0x23517f);})['post'](this[_0x4873bb(0x6f9)]('updateFlowConfig'),..._0x3860c7,async(_0x4f9e16,_0x39c58b)=>{const _0x4890d6=_0x4873bb;let _0x4d2b06=_0x4f9e16[_0x4890d6(0x509)];y[_0x4890d6(0x444)](_0x4890d6(0xb3)),y[_0x4890d6(0x444)]('request\x20body:\x20'),y['verbose'](_0x4f9e16[_0x4890d6(0x509)]);let _0x12a25d=await this[_0x4890d6(0xaa)]({'request':_0x4f9e16,'schema':N,'ClassRef':C,'execute':_0x111249=>A[_0x4890d6(0x2d9)](_0x111249,_0x4d2b06)});_0x39c58b[_0x4890d6(0x489)](0xc8)['json'](_0x12a25d);})['post'](this['routerPath'](_0x4873bb(0x533)),..._0x3860c7,async(_0x5a9714,_0x282d3e)=>{const _0x5693b4=_0x4873bb;let _0x1acf3f=_0x5a9714[_0x5693b4(0x509)];y[_0x5693b4(0x444)](_0x5693b4(0x31d)),y[_0x5693b4(0x444)]('request\x20body:\x20'),y[_0x5693b4(0x444)](_0x5a9714[_0x5693b4(0x509)]);let _0x4d3dad=await this[_0x5693b4(0xaa)]({'request':_0x5a9714,'schema':N,'ClassRef':C,'execute':_0x308a31=>A[_0x5693b4(0x533)](_0x308a31,_0x1acf3f)});_0x282d3e[_0x5693b4(0x489)](0xc8)[_0x5693b4(0x310)](_0x4d3dad);})['post'](this[_0x4873bb(0x6f9)](_0x4873bb(0x566)),..._0x3860c7,async(_0x3e0d58,_0x3195a1)=>{const _0x1d4d04=_0x4873bb;let _0x30eb95=_0x3e0d58['body'];y[_0x1d4d04(0x444)](_0x1d4d04(0x152)),y['verbose'](_0x1d4d04(0x50b)),y[_0x1d4d04(0x444)](_0x3e0d58[_0x1d4d04(0x509)]);let _0x210dd5=await this[_0x1d4d04(0xaa)]({'request':_0x3e0d58,'schema':N,'ClassRef':C,'execute':_0x21d8f4=>A['fetchConversation'](_0x21d8f4,_0x30eb95)});_0x3195a1['status'](0xc8)[_0x1d4d04(0x310)](_0x210dd5);})[_0x4873bb(0x253)](this[_0x4873bb(0x6f9)](_0x4873bb(0x606)),..._0x3860c7,async(_0x1a673f,_0x4d7bed)=>{const _0x1dc8d4=_0x4873bb;let _0x5af145=_0x1a673f['body'];y[_0x1dc8d4(0x444)](_0x1dc8d4(0x59f)),y[_0x1dc8d4(0x444)](_0x1dc8d4(0x50b)),y[_0x1dc8d4(0x444)](_0x1a673f[_0x1dc8d4(0x509)]);let _0x3b30b6=await this[_0x1dc8d4(0xaa)]({'request':_0x1a673f,'schema':N,'ClassRef':C,'execute':_0x5e141c=>A['editConversation'](_0x5e141c,_0x5af145)});_0x4d7bed[_0x1dc8d4(0x489)](0xc8)[_0x1dc8d4(0x310)](_0x3b30b6);})[_0x4873bb(0x4c9)](this[_0x4873bb(0x6f9)](_0x4873bb(0x14a)),..._0x3860c7,async(_0xfda72f,_0x182b39)=>{const _0x20369c=_0x4873bb;let _0x279e94=_0xfda72f[_0x20369c(0x509)];y[_0x20369c(0x444)](_0x20369c(0x60c)),y[_0x20369c(0x444)](_0x20369c(0x50b)),y[_0x20369c(0x444)](_0xfda72f[_0x20369c(0x509)]);let _0x5d01b8=await this[_0x20369c(0xaa)]({'request':_0xfda72f,'schema':N,'ClassRef':C,'execute':_0x417b1a=>A[_0x20369c(0x14a)](_0x417b1a,_0x279e94)});_0x182b39['status'](0xc8)[_0x20369c(0x310)](_0x5d01b8);})[_0x4873bb(0x253)](this['routerPath'](_0x4873bb(0x3e7)),..._0x3860c7,async(_0x3d1918,_0x4f4854)=>{const _0x23c86a=_0x4873bb;let _0xc746db=_0x3d1918[_0x23c86a(0x509)],_0x5e46b9=_0x3d1918[_0x23c86a(0x5b3)][_0x23c86a(0x3d4)];y[_0x23c86a(0x444)](_0x23c86a(0x4ab)),y[_0x23c86a(0x444)](_0x23c86a(0x50b)),y['verbose'](_0x3d1918['body']);let _0x47b856=await this[_0x23c86a(0xaa)]({'request':_0x3d1918,'schema':N,'ClassRef':C,'execute':_0x38475f=>A[_0x23c86a(0x3c7)](_0x38475f,_0xc746db,_0x5e46b9)});_0x4f4854[_0x23c86a(0x489)](0xc8)['json'](_0x47b856);})[_0x4873bb(0x253)](this[_0x4873bb(0x6f9)](_0x4873bb(0x34e)),..._0x3860c7,async(_0x3a4d3a,_0x20b5e8)=>{const _0xe8def0=_0x4873bb;let _0xff56c=_0x3a4d3a[_0xe8def0(0x509)],_0x6cf3cc=_0x3a4d3a['headers'][_0xe8def0(0x3d4)];y['verbose'](_0xe8def0(0x750)),y[_0xe8def0(0x444)](_0xe8def0(0x50b)),y[_0xe8def0(0x444)](_0x3a4d3a[_0xe8def0(0x509)]),delete _0xff56c[_0xe8def0(0x38f)],delete _0xff56c[_0xe8def0(0x5da)],delete _0xff56c[_0xe8def0(0x783)],delete _0xff56c[_0xe8def0(0x390)];let _0x23d7e0=await this['dataValidate']({'request':_0x3a4d3a,'schema':N,'ClassRef':C,'execute':_0x5c48d6=>A[_0xe8def0(0x409)](_0x5c48d6,_0xff56c,_0x6cf3cc)});_0x20b5e8[_0xe8def0(0x489)](0xc8)['json'](_0x23d7e0);})['post'](this['routerPath'](_0x4873bb(0x6de)),..._0x3860c7,async(_0x45f40b,_0x14015a)=>{const _0x583dae=_0x4873bb;let _0x27b2a0=_0x45f40b[_0x583dae(0x509)],_0x52ccf5=_0x45f40b[_0x583dae(0x5b3)][_0x583dae(0x3d4)];y[_0x583dae(0x444)]('request\x20received\x20in\x20editFlow'),y[_0x583dae(0x444)]('request\x20body:\x20'),y['verbose'](_0x45f40b[_0x583dae(0x509)]);let _0x3e8f56=await this[_0x583dae(0xaa)]({'request':_0x45f40b,'schema':N,'ClassRef':C,'execute':_0x163eab=>A[_0x583dae(0x6a5)](_0x163eab,_0x27b2a0,_0x52ccf5)});_0x14015a['status'](0xc8)[_0x583dae(0x310)](_0x3e8f56);})['post'](this[_0x4873bb(0x6f9)](_0x4873bb(0xb8)),..._0x3860c7,async(_0x37525c,_0x548321)=>{const _0xa91256=_0x4873bb;let _0x528b0b=_0x37525c[_0xa91256(0x509)],_0x1ca398=_0x37525c['headers'][_0xa91256(0x3d4)];y['verbose'](_0xa91256(0x750)),y[_0xa91256(0x444)]('request\x20body:\x20'),y[_0xa91256(0x444)](_0x37525c[_0xa91256(0x509)]);let _0x454292=await this[_0xa91256(0xaa)]({'request':_0x37525c,'schema':N,'ClassRef':C,'execute':_0x5da635=>A['editFlowReply'](_0x5da635,_0x528b0b,_0x1ca398)});_0x548321[_0xa91256(0x489)](0xc8)['json'](_0x454292);})[_0x4873bb(0x253)](this[_0x4873bb(0x6f9)](_0x4873bb(0x4dc)),..._0x3860c7,async(_0x28e770,_0x7f223c)=>{const _0x3c2cd3=_0x4873bb;let _0x1dae60=_0x28e770[_0x3c2cd3(0x509)],_0x7a4489=_0x28e770[_0x3c2cd3(0x5b3)][_0x3c2cd3(0x3d4)];y['verbose'](_0x3c2cd3(0x750)),y[_0x3c2cd3(0x444)](_0x3c2cd3(0x50b)),y['verbose'](_0x28e770['body']);let _0x5e6f08=await this[_0x3c2cd3(0xaa)]({'request':_0x28e770,'schema':N,'ClassRef':C,'execute':_0x316268=>A[_0x3c2cd3(0x296)](_0x316268,_0x1dae60,_0x7a4489)});_0x7f223c[_0x3c2cd3(0x489)](0xc8)[_0x3c2cd3(0x310)](_0x5e6f08);})['post'](this[_0x4873bb(0x6f9)]('editflowgroup'),..._0x3860c7,async(_0x19d79b,_0x1ef69c)=>{const _0x584749=_0x4873bb;let _0x4d19b6=_0x19d79b[_0x584749(0x509)],_0x40a055=_0x19d79b[_0x584749(0x5b3)]['apikey'];y[_0x584749(0x444)](_0x584749(0x5df)),y[_0x584749(0x444)](_0x584749(0x50b)),y[_0x584749(0x444)](_0x19d79b[_0x584749(0x509)]);let _0x51a7ae=await this[_0x584749(0xaa)]({'request':_0x19d79b,'schema':N,'ClassRef':C,'execute':_0x324e0c=>A[_0x584749(0x65a)](_0x324e0c,_0x4d19b6,_0x40a055)});_0x1ef69c['status'](0xc8)['json'](_0x51a7ae);})[_0x4873bb(0x253)](this['routerPath']('editflowcondition'),..._0x3860c7,async(_0x1cd53c,_0x102ecd)=>{const _0x1a2daf=_0x4873bb;let _0x1382b7=_0x1cd53c[_0x1a2daf(0x509)],_0x855786=_0x1cd53c[_0x1a2daf(0x5b3)][_0x1a2daf(0x3d4)];y[_0x1a2daf(0x444)]('request\x20received\x20in\x20editFlowcondition'),y[_0x1a2daf(0x444)](_0x1a2daf(0x50b)),y[_0x1a2daf(0x444)](_0x1cd53c['body']);let _0x984c3e=await this[_0x1a2daf(0xaa)]({'request':_0x1cd53c,'schema':N,'ClassRef':C,'execute':_0x261de1=>A['editFlowCondition'](_0x261de1,_0x1382b7,_0x855786)});_0x102ecd[_0x1a2daf(0x489)](0xc8)[_0x1a2daf(0x310)](_0x984c3e);})[_0x4873bb(0x253)](this[_0x4873bb(0x6f9)](_0x4873bb(0x691)),..._0x3860c7,async(_0x260818,_0x231651)=>{const _0x57e7fc=_0x4873bb;let _0x45975c=_0x260818[_0x57e7fc(0x509)],_0x1c93be=_0x260818[_0x57e7fc(0x5b3)][_0x57e7fc(0x3d4)];y['verbose'](_0x57e7fc(0x652)),y[_0x57e7fc(0x444)](_0x57e7fc(0x50b)),y[_0x57e7fc(0x444)](_0x260818['body']);let _0x496241=await this[_0x57e7fc(0xaa)]({'request':_0x260818,'schema':N,'ClassRef':C,'execute':_0x1b5274=>A[_0x57e7fc(0xba)](_0x1b5274,_0x45975c,_0x1c93be)});_0x231651[_0x57e7fc(0x489)](0xc8)['json'](_0x496241);})['post'](this[_0x4873bb(0x6f9)]('getflow'),..._0x3860c7,async(_0x2c42ca,_0x1ddb05)=>{const _0x275fb4=_0x4873bb;let _0x5e8b6d=_0x2c42ca[_0x275fb4(0x509)];y[_0x275fb4(0x444)](_0x275fb4(0x34c)),y[_0x275fb4(0x444)](_0x275fb4(0x50b)),y['verbose'](_0x2c42ca[_0x275fb4(0x509)]);let _0x4338a8=await this[_0x275fb4(0xaa)]({'request':_0x2c42ca,'schema':N,'ClassRef':C,'execute':_0x2108c7=>A[_0x275fb4(0x12f)](_0x2108c7,_0x5e8b6d)});_0x1ddb05[_0x275fb4(0x489)](0xc8)[_0x275fb4(0x310)](_0x4338a8);})[_0x4873bb(0x4c9)](this[_0x4873bb(0x6f9)](_0x4873bb(0x4ff)),..._0x3860c7,async(_0x14ea6f,_0x1f02a8)=>{const _0x3898fe=_0x4873bb;let _0x2c3f63=_0x14ea6f[_0x3898fe(0x509)],_0x4ef4fe=_0x14ea6f['headers'][_0x3898fe(0x3d4)];y['verbose'](_0x3898fe(0x393)),y['verbose'](_0x3898fe(0x50b)),y['verbose'](_0x14ea6f[_0x3898fe(0x509)]);let _0xa33cb5=await this[_0x3898fe(0xaa)]({'request':_0x14ea6f,'schema':N,'ClassRef':C,'execute':_0x455685=>A[_0x3898fe(0x642)](_0x455685,_0x2c3f63,_0x4ef4fe)});_0x1f02a8[_0x3898fe(0x489)](0xc8)[_0x3898fe(0x310)](_0xa33cb5);})['get'](this[_0x4873bb(0x6f9)](_0x4873bb(0x2c2)),..._0x3860c7,async(_0x41233f,_0x596438)=>{const _0x51c6a5=_0x4873bb;y[_0x51c6a5(0x444)](_0x51c6a5(0x61e));let _0x518a09=await this[_0x51c6a5(0xaa)]({'request':_0x41233f,'schema':N,'ClassRef':C,'execute':_0x5172f0=>A[_0x51c6a5(0x64f)](_0x5172f0)});_0x596438[_0x51c6a5(0x489)](0xc8)[_0x51c6a5(0x310)](_0x518a09);});}},mo=O(require('path')),Z={};function po(_0x3ec97e,_0x2c502e,_0x1b91df,_0xa81b9b){Z[_0x3ec97e]||(Z[_0x3ec97e]={}),Z[_0x3ec97e][_0x2c502e]={'id':_0x2c502e,'response':_0x1b91df,'events':_0xa81b9b};}function ho(_0x162074,_0x49782a){!Z[_0x162074]||!Z[_0x162074][_0x49782a]||delete Z[_0x162074][_0x49782a];}function J(_0x4d9b59,_0xa3ab3f,_0x58aad3){const _0x10afca=a0_0x5d3ab0;if(!Z[_0x4d9b59])return;let _0x5868a3=_0x10afca(0x1af)+JSON['stringify'](_0x58aad3)+'\x0a\x0a';Object['values'](Z[_0x4d9b59])['forEach'](_0x5ee5f5=>{const _0x58fb95=_0x10afca;_0x5ee5f5[_0x58fb95(0x748)][_0x58fb95(0x5c5)](_0xa3ab3f)&&_0x5ee5f5[_0x58fb95(0x9f)]['write'](_0x5868a3);});}function go(){const _0x28054b=a0_0x5d3ab0;let _0x21c6cf={};for(let _0x4e8890 in Z)_0x21c6cf[_0x4e8890]=Object[_0x28054b(0x6d1)](Z[_0x4e8890])['map'](_0x3833e2=>({'id':_0x3833e2['id'],'events':_0x3833e2[_0x28054b(0x748)]}));return _0x21c6cf;}var fo=require(a0_0x5d3ab0(0x78d)),vs=require(a0_0x5d3ab0(0x199)),Es=class{},bi=new vs['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Si=new vs[(a0_0x5d3ab0(0x124))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':bi},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=$?.[a0_0x5d3ab0(0x1d2)](Es[a0_0x5d3ab0(0x26b)],Si,a0_0x5d3ab0(0x1c5)),Mi=mo['default'][a0_0x5d3ab0(0x438)](__dirname,a0_0x5d3ab0(0x276)),Ie=(0x0,It['Router'])(),Ci=b[a0_0x5d3ab0(0x2af)](a0_0x5d3ab0(0x3fe))['TYPE'],ae=[Ma,Ca,Na[Ci]];Ie['use'](a0_0x5d3ab0(0x2d4),It[a0_0x5d3ab0(0x4de)][a0_0x5d3ab0(0x446)](Mi))[a0_0x5d3ab0(0x2af)]('/events/:instance',async(_0x258100,_0x5e3f71)=>{const _0x18dc0d=a0_0x5d3ab0;console['log'](_0x18dc0d(0x3dc));let _0x52dd88=_0x258100[_0x18dc0d(0x574)][_0x18dc0d(0x63a)],_0x532d56=(_0x258100[_0x18dc0d(0x3a8)][_0x18dc0d(0x748)]||'')[_0x18dc0d(0x4f7)](','),_0x4ae189=(0x0,fo['v4'])();console[_0x18dc0d(0x5a2)](_0x18dc0d(0x67c),_0x52dd88),console[_0x18dc0d(0x5a2)](_0x18dc0d(0x77b),_0x532d56);let _0x1ea6e3=b[_0x18dc0d(0x2af)](_0x18dc0d(0x3fe))[_0x18dc0d(0x551)],_0x56a09a=_0x258100[_0x18dc0d(0x3a8)][_0x18dc0d(0x3d4)];if(console[_0x18dc0d(0x5a2)](_0x18dc0d(0x3c0),_0x56a09a),_0x1ea6e3[_0x18dc0d(0x4f0)]!==_0x56a09a){console['log'](_0x18dc0d(0x6b2));try{let _0x19a342=await de[_0x18dc0d(0x2c8)][_0x18dc0d(0x299)](_0x52dd88);if(console[_0x18dc0d(0x5a2)](_0x18dc0d(0x1df),_0x19a342),!_0x19a342||_0x19a342[_0x18dc0d(0x3d4)]!==_0x56a09a)return console[_0x18dc0d(0x5a2)](_0x18dc0d(0xd9)),_0x5e3f71[_0x18dc0d(0x489)](0x191)[_0x18dc0d(0x100)](_0x18dc0d(0x88));}catch(_0xdca33a){return console[_0x18dc0d(0x73d)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0xdca33a),_0x5e3f71[_0x18dc0d(0x489)](0x191)[_0x18dc0d(0x100)](_0x18dc0d(0x582));}}if(!await Re(_0x52dd88))return _0x5e3f71['status'](0x194)[_0x18dc0d(0x100)]('Instância\x20não\x20encontrada.');_0x5e3f71[_0x18dc0d(0x665)](_0x18dc0d(0x339),_0x18dc0d(0x608)),_0x5e3f71[_0x18dc0d(0x665)](_0x18dc0d(0x772),_0x18dc0d(0x2c7)),_0x5e3f71[_0x18dc0d(0x665)](_0x18dc0d(0xe8),'keep-alive'),_0x5e3f71['flushHeaders']();let _0x52df0d=_0x18dc0d(0x1af)+JSON[_0x18dc0d(0x61a)]({'info':_0x18dc0d(0x625)})+'\x0a\x0a';_0x5e3f71['write'](_0x52df0d),po(_0x52dd88,_0x4ae189,_0x5e3f71,_0x532d56),_0x258100['on'](_0x18dc0d(0x452),()=>{const _0x1990ef=_0x18dc0d;console[_0x1990ef(0x5a2)]('Connection\x20closed\x20for\x20instance:\x20'+_0x52dd88),ho(_0x52dd88,_0x4ae189);});}),Ie[a0_0x5d3ab0(0x253)](a0_0x5d3ab0(0x53e),async(_0x3e1e75,_0x34eb27)=>{const _0x562c5b=a0_0x5d3ab0;console[_0x562c5b(0x5a2)](_0x562c5b(0x269));let _0x9ab08f=_0x3e1e75[_0x562c5b(0x574)][_0x562c5b(0x63a)],_0x5a5694=_0x3e1e75['params'][_0x562c5b(0x46c)],_0x4da6bd=_0x3e1e75[_0x562c5b(0x3a8)][_0x562c5b(0x623)]||'',_0x102d23=_0x3e1e75[_0x562c5b(0x509)];console[_0x562c5b(0x5a2)](_0x562c5b(0x34b),_0x9ab08f),console['log'](_0x562c5b(0x4b0),_0x5a5694),console[_0x562c5b(0x5a2)](_0x562c5b(0x3cb),_0x4da6bd),console[_0x562c5b(0x5a2)](_0x562c5b(0x716),_0x102d23);try{if(!await Re(_0x9ab08f))return _0x34eb27[_0x562c5b(0x489)](0x194)[_0x562c5b(0x100)]('Instância\x20não\x20encontrada.');let _0x3744bf=await A[_0x562c5b(0x5a1)](_0x9ab08f,_0x5a5694,_0x4da6bd,_0x102d23);_0x34eb27[_0x562c5b(0x100)](_0x3744bf);}catch(_0x4469db){console['error'](_0x4469db),_0x34eb27[_0x562c5b(0x489)](0x1f4)[_0x562c5b(0x100)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),Ie[a0_0x5d3ab0(0x2af)]('/clients-info',(_0x1c61d8,_0x25ace5)=>{let _0x13d3e5=go();_0x25ace5['json'](_0x13d3e5);})[a0_0x5d3ab0(0x2af)]('/',(_0x204b98,_0x3e17da)=>{const _0x32fa9a=a0_0x5d3ab0;let _0x213673=b[_0x32fa9a(0x2af)](_0x32fa9a(0x40e))[_0x32fa9a(0x1c6)];if(_0x213673){let _0x1df031=encodeURIComponent(''+_0x213673);_0x3e17da[_0x32fa9a(0x4e8)](_0x32fa9a(0x525)+_0x1df031);return;}let _0x1948b5=b[_0x32fa9a(0x2af)]('SSL_CONF'),_0x54b7cb=_0x1948b5&&_0x1948b5['FULLCHAIN']['split']('/')[0x4];if(_0x54b7cb){let _0x58a317=encodeURIComponent(_0x32fa9a(0x9c)+_0x54b7cb);_0x3e17da[_0x32fa9a(0x4e8)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x58a317);}else _0x3e17da[_0x32fa9a(0x4e8)](_0x32fa9a(0x4d9));})[a0_0x5d3ab0(0x381)](a0_0x5d3ab0(0x262),...ae,async(_0x40eedd,_0x805186)=>{const _0x4b77cf=a0_0x5d3ab0;try{console[_0x4b77cf(0x5a2)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x805186[_0x4b77cf(0x489)](0xc8)['json']({'message':_0x4b77cf(0x6db)}),_0x805186['on'](_0x4b77cf(0x518),()=>process[_0x4b77cf(0x16a)](0x0));}catch(_0x527e56){console[_0x4b77cf(0x73d)](_0x4b77cf(0x485),_0x527e56),_0x805186[_0x4b77cf(0x489)](0x1f4)[_0x4b77cf(0x310)]({'message':_0x4b77cf(0x342)});}})[a0_0x5d3ab0(0x381)](a0_0x5d3ab0(0x12b),...ae,async(_0x33759b,_0x3eb70d)=>{const _0x5c4a33=a0_0x5d3ab0;try{let _0x5c1fe8=_0x33759b[_0x5c4a33(0x509)];await Se[_0x5c4a33(0x63f)]({},{'$set':_0x5c1fe8},{'upsert':!0x0});let _0x328e65=await Se[_0x5c4a33(0x639)]();_0x3eb70d[_0x5c4a33(0x310)](_0x328e65);}catch(_0x3844b2){_0x3eb70d[_0x5c4a33(0x489)](0x190)[_0x5c4a33(0x100)](_0x3844b2[_0x5c4a33(0x5fc)]);}})[a0_0x5d3ab0(0x2af)](a0_0x5d3ab0(0x12b),...ae,async(_0x2fd2a4,_0x1683ba)=>{const _0x421e6b=a0_0x5d3ab0;try{let _0xfc268a=await Se[_0x421e6b(0x639)]();if(!_0xfc268a)return _0x1683ba[_0x421e6b(0x310)]({});_0x1683ba[_0x421e6b(0x310)](_0xfc268a);}catch(_0x4a0197){_0x1683ba[_0x421e6b(0x489)](0x1f4)[_0x421e6b(0x100)](_0x4a0197[_0x421e6b(0x5fc)]);}})[a0_0x5d3ab0(0x68d)](a0_0x5d3ab0(0x49f),new ft(b,...ae)[a0_0x5d3ab0(0x638)])['use'](a0_0x5d3ab0(0x774),new $t(...ae)[a0_0x5d3ab0(0x638)])[a0_0x5d3ab0(0x68d)](a0_0x5d3ab0(0x1b4),new rt(...ae)[a0_0x5d3ab0(0x638)])[a0_0x5d3ab0(0x68d)](a0_0x5d3ab0(0x746),new mt(...ae)[a0_0x5d3ab0(0x638)])[a0_0x5d3ab0(0x68d)](a0_0x5d3ab0(0x537),new Ot(...ae)[a0_0x5d3ab0(0x638)])[a0_0x5d3ab0(0x68d)](a0_0x5d3ab0(0x162),new Tt(...ae)[a0_0x5d3ab0(0x638)]);var m=class{constructor(..._0x509832){const _0x30e3d3=a0_0x5d3ab0;throw{'status':0x190,'error':_0x30e3d3(0x412),'message':_0x509832[_0x30e3d3(0x6d9)]>0x0?_0x509832:void 0x0};}},se=class{constructor(..._0x2c4582){throw{'status':0x191,'error':'Unauthorized','message':_0x2c4582['length']>0x0?_0x2c4582:void 0x0};}},Q=class{constructor(..._0x251c96){const _0x59e752=a0_0x5d3ab0;throw{'status':0x193,'error':_0x59e752(0x445),'message':_0x251c96[_0x59e752(0x6d9)]>0x0?_0x251c96:void 0x0};}},U=class{constructor(..._0x227c47){const _0x207511=a0_0x5d3ab0;throw{'status':0x194,'error':_0x207511(0x2e2),'message':_0x227c47[_0x207511(0x6d9)]>0x0?_0x227c47:void 0x0};}},I=class{constructor(..._0x281ef6){const _0x5555d0=a0_0x5d3ab0;throw{'status':0x1f4,'error':_0x5555d0(0x1d7),'message':_0x281ef6[_0x5555d0(0x6d9)]>0x0?_0x281ef6:void 0x0};}},pe=require(a0_0x5d3ab0(0x460));async function Ns(_0x455270){const _0x57d58c=a0_0x5d3ab0;let _0x1403b9=new R(Ns['name']),_0x4f02b9=$[_0x57d58c(0x361)](),_0x728968=_0x4f02b9['db'](b['get']('DATABASE')['CONNECTION'][_0x57d58c(0x59e)]+_0x57d58c(0x447))[_0x57d58c(0x2b7)](_0x455270),_0x2e7a4b=async(_0x4ec350,_0x20ee6a)=>{const _0x127b30=_0x57d58c;try{return await _0x4f02b9[_0x127b30(0x44b)](),await _0x728968[_0x127b30(0x6ce)]({'_id':_0x20ee6a},JSON[_0x127b30(0x396)](JSON[_0x127b30(0x61a)](_0x4ec350,pe[_0x127b30(0x6e2)][_0x127b30(0x46d)])),{'upsert':!0x0});}catch{}},_0x5e870c=async _0x63ae35=>{const _0x2e0961=_0x57d58c;try{await _0x4f02b9['connect']();let _0x154d5b=await _0x728968[_0x2e0961(0x639)]({'_id':_0x63ae35}),_0x278a17=JSON[_0x2e0961(0x61a)](_0x154d5b);return JSON[_0x2e0961(0x396)](_0x278a17,pe[_0x2e0961(0x6e2)][_0x2e0961(0x272)]);}catch{}},_0x266b93=async _0x3e677a=>{const _0x4e8fad=_0x57d58c;try{return await _0x4f02b9[_0x4e8fad(0x44b)](),await _0x728968[_0x4e8fad(0xda)]({'_id':_0x3e677a});}catch{}},_0x1ea4bd=await _0x5e870c(_0x57d58c(0x226))||(0x0,pe[_0x57d58c(0x4cc)])();return{'state':{'creds':_0x1ea4bd,'keys':{'get':async(_0x39417e,_0x545653)=>{const _0x568886=_0x57d58c;let _0x24184d={};return await Promise['all'](_0x545653[_0x568886(0x2de)](async _0x20f115=>{const _0x5773ee=_0x568886;let _0x4d31ea=await _0x5e870c(_0x39417e+'-'+_0x20f115);_0x39417e===_0x5773ee(0x78c)&&_0x4d31ea&&(_0x4d31ea=pe[_0x5773ee(0x363)][_0x5773ee(0x20d)]['AppStateSyncKeyData'][_0x5773ee(0x40b)](_0x4d31ea)),_0x24184d[_0x20f115]=_0x4d31ea;})),_0x24184d;},'set':async _0x28db99=>{const _0x5d3ea4=_0x57d58c;let _0x587a3a=[];for(let _0x16d700 in _0x28db99)for(let _0x3bd10c in _0x28db99[_0x16d700]){let _0x32ae61=_0x28db99[_0x16d700][_0x3bd10c],_0x5c1d6a=_0x16d700+'-'+_0x3bd10c;_0x587a3a['push'](_0x32ae61?_0x2e7a4b(_0x32ae61,_0x5c1d6a):_0x266b93(_0x5c1d6a));}await Promise[_0x5d3ea4(0x68e)](_0x587a3a);}}},'saveCreds':async()=>_0x2e7a4b(_0x1ea4bd,_0x57d58c(0x226))};}var Ts=O(require('long')),Is=O(require(a0_0x5d3ab0(0x439))),_t=require(a0_0x5d3ab0(0x460)),wo=require(a0_0x5d3ab0(0x254)),Dt=require(a0_0x5d3ab0(0x460)),xt;function Ei(_0x1c56cf){const _0x51d0b1=a0_0x5d3ab0;return xt||(xt=(0x0,wo[_0x51d0b1(0x6f5)])({'url':_0x1c56cf[_0x51d0b1(0x117)]}),xt[_0x51d0b1(0x44b)]()),xt;}var le=class c{constructor(_0x274a42,_0x39b685){const _0x315564=a0_0x5d3ab0;this[_0x315564(0x5b9)]=_0x274a42,this[_0x315564(0x52c)]=_0x39b685,this[_0x315564(0x2f0)]=new R(c[_0x315564(0x26b)]),this[_0x315564(0x63b)]=Ei(_0x274a42);}set[a0_0x5d3ab0(0x4be)](_0x500f2a){this['instanceName']=_0x500f2a;}async[a0_0x5d3ab0(0x6ae)](){const _0x5b9b54=a0_0x5d3ab0;try{return await this[_0x5b9b54(0x63b)]['sendCommand']([_0x5b9b54(0x43f),this['redisEnv'][_0x5b9b54(0x4af)]+':*']);}catch(_0x3a9aa0){this[_0x5b9b54(0x2f0)][_0x5b9b54(0x73d)](_0x3a9aa0);}}async[a0_0x5d3ab0(0x6fc)](_0x5f2116,_0x15a837){const _0x52e180=a0_0x5d3ab0;try{let _0x5b9214=JSON[_0x52e180(0x61a)](_0x15a837,Dt[_0x52e180(0x6e2)][_0x52e180(0x46d)]);return await this[_0x52e180(0x63b)]['hSet'](this[_0x52e180(0x5b9)][_0x52e180(0x4af)]+':'+this[_0x52e180(0x52c)],_0x5f2116,_0x5b9214);}catch(_0x4b180a){this['logger'][_0x52e180(0x73d)](_0x4b180a);}}async[a0_0x5d3ab0(0xbc)](){const _0x591230=a0_0x5d3ab0;try{let _0xdb2499=await this[_0x591230(0x63b)][_0x591230(0x57e)](this[_0x591230(0x5b9)][_0x591230(0x4af)]+':'+this[_0x591230(0x52c)]);if(_0xdb2499){for(let _0x36942c in _0xdb2499)Object[_0x591230(0x16c)][_0x591230(0x417)][_0x591230(0x5d9)](_0xdb2499,_0x36942c)&&(_0xdb2499[_0x36942c]=JSON[_0x591230(0x396)](_0xdb2499[_0x36942c],Dt[_0x591230(0x6e2)][_0x591230(0x272)]));return _0xdb2499;}}catch(_0x2a5d49){this[_0x591230(0x2f0)][_0x591230(0x73d)](_0x2a5d49);}}async[a0_0x5d3ab0(0xaf)](_0x29cbe8){const _0x771bf4=a0_0x5d3ab0;try{let _0x1a6734=await this['client'][_0x771bf4(0x6f7)](this[_0x771bf4(0x5b9)][_0x771bf4(0x4af)]+':'+this[_0x771bf4(0x52c)],_0x29cbe8);if(_0x1a6734)return JSON[_0x771bf4(0x396)](_0x1a6734,Dt['BufferJSON']['reviver']);}catch(_0x3f19f2){this[_0x771bf4(0x2f0)][_0x771bf4(0x73d)](_0x3f19f2);}}async[a0_0x5d3ab0(0x94)](_0x1a3a66){const _0x1f3887=a0_0x5d3ab0;try{return await this[_0x1f3887(0x63b)][_0x1f3887(0x5a8)](this['redisEnv'][_0x1f3887(0x4af)]+':'+this['instanceName'],_0x1a3a66);}catch(_0x245fe9){this[_0x1f3887(0x2f0)][_0x1f3887(0x73d)](_0x245fe9);}}async[a0_0x5d3ab0(0xa2)](_0x2e6ac5){const _0x5525e6=a0_0x5d3ab0;try{return await this[_0x5525e6(0x63b)][_0x5525e6(0x13d)](_0x2e6ac5||this[_0x5525e6(0x5b9)][_0x5525e6(0x4af)]+':'+this[_0x5525e6(0x52c)]);}catch(_0x56cc8d){this[_0x5525e6(0x2f0)][_0x5525e6(0x73d)](_0x56cc8d);}}};async function Rs(_0xbdbf9b,_0x5628dc){const _0x2759f1=a0_0x5d3ab0;let _0x135b33=new R(Rs[_0x2759f1(0x26b)]),_0x99cca4=new le(_0xbdbf9b,_0x5628dc),_0xdc6361=async(_0x23b546,_0x193a7d)=>{const _0x2fad4e=_0x2759f1;try{return await _0x99cca4['writeData'](_0x193a7d,_0x23b546);}catch(_0x27c128){return _0x135b33[_0x2fad4e(0x73d)]({'localError':'writeData','error':_0x27c128});}},_0x49d164=async _0x4dce90=>{const _0x547f05=_0x2759f1;try{return await _0x99cca4['readData'](_0x4dce90);}catch(_0x2991fa){_0x135b33[_0x547f05(0x73d)]({'readData':_0x547f05(0x6fc),'error':_0x2991fa});return;}},_0x357d4c=async _0x7f6fc4=>{const _0x5b2dda=_0x2759f1;try{return await _0x99cca4[_0x5b2dda(0x94)](_0x7f6fc4);}catch(_0x277fc2){_0x135b33[_0x5b2dda(0x73d)]({'readData':_0x5b2dda(0x94),'error':_0x277fc2});}},_0x282617=await _0x49d164(_0x2759f1(0x226))||(0x0,_t['initAuthCreds'])();return{'state':{'creds':_0x282617,'keys':{'get':async(_0x5a82ba,_0x1d44be)=>{const _0x4ec6b1=_0x2759f1;let _0x130ca2={};return await Promise[_0x4ec6b1(0x68e)](_0x1d44be[_0x4ec6b1(0x2de)](async _0xa41b5b=>{const _0x1dde5f=_0x4ec6b1;let _0x45f4a8=await _0x49d164(_0x5a82ba+'-'+_0xa41b5b);_0x5a82ba===_0x1dde5f(0x78c)&&_0x45f4a8&&(_0x45f4a8=_t['proto']['Message']['AppStateSyncKeyData']['fromObject'](_0x45f4a8)),_0x130ca2[_0xa41b5b]=_0x45f4a8;})),_0x130ca2;},'set':async _0x16295a=>{const _0xe9a40c=_0x2759f1;let _0x2c1b5b=[];for(let _0x5e7f38 in _0x16295a)for(let _0x263b89 in _0x16295a[_0x5e7f38]){let _0x271986=_0x16295a[_0x5e7f38][_0x263b89],_0x3bf65e=_0x5e7f38+'-'+_0x263b89;_0x2c1b5b['push'](_0x271986?await _0xdc6361(_0x271986,_0x3bf65e):await _0x357d4c(_0x3bf65e));}await Promise[_0xe9a40c(0x68e)](_0x2c1b5b);}}},'saveCreds':async()=>await _0xdc6361(_0x282617,_0x2759f1(0x226))};}var j=O(require('fs')),Me=require('uuid'),Lt=O(require('sharp')),Ft=require(a0_0x5d3ab0(0x565)),vi=a0_0x5d3ab0(0x134)['trim'](),Pt=vi[a0_0x5d3ab0(0x4f7)]('\x0a')[a0_0x5d3ab0(0x2de)](_0x71e935=>{const _0x105fd6=a0_0x5d3ab0;let _0x4afd14=_0x71e935[_0x105fd6(0x4f7)](':'),_0x4127a4={'host':_0x4afd14[0x0],'port':_0x4afd14[0x1],'protocol':'http'};return _0x4afd14['length']===0x4&&(_0x4127a4[_0x105fd6(0x2b1)]=_0x4afd14[0x2],_0x4127a4[_0x105fd6(0x131)]=_0x4afd14[0x3]),_0x4127a4;});function yo(_0x181f8e){const _0x4204d6=a0_0x5d3ab0;return Pt[_0x4204d6(0x299)](_0x3f2287=>_0x3f2287['host']===_0x181f8e)||null;}function bo(){const _0x463ce1=a0_0x5d3ab0;if(Pt[_0x463ce1(0x6d9)]===0x0)return null;let _0x1c2f7e=Math[_0x463ce1(0x227)](Math[_0x463ce1(0x6e3)]()*Pt[_0x463ce1(0x6d9)]);return Pt[_0x1c2f7e];}function $s(_0x55c966){const _0x4ff32a=a0_0x5d3ab0;let _0x2614d6=_0x3aa537=>typeof _0x3aa537=='string'&&_0x3aa537[_0x4ff32a(0x6d9)]>0x0,_0x1e5eb5=_0x1c8634=>{let _0x21b4e5=parseInt(_0x1c8634,0xa);return!isNaN(_0x21b4e5)&&_0x21b4e5>0x0&&_0x21b4e5<=0xffff;},_0x4744f4=_0x142afc=>typeof _0x142afc=='string'&&_0x142afc[_0x4ff32a(0x6d9)]>0x0;return _0x55c966&&_0x2614d6(_0x55c966['host'])&&_0x1e5eb5(_0x55c966[_0x4ff32a(0x531)])&&(!_0x55c966[_0x4ff32a(0x2b1)]||_0x4744f4(_0x55c966[_0x4ff32a(0x2b1)]))&&(!_0x55c966[_0x4ff32a(0x131)]||_0x4744f4(_0x55c966[_0x4ff32a(0x131)]))&&(_0x55c966[_0x4ff32a(0x3a6)]===_0x4ff32a(0x3a3)||_0x55c966[_0x4ff32a(0x3a6)]===_0x4ff32a(0x50c));}var Jt=require(a0_0x5d3ab0(0x166)),xs=a0_0x5d3ab0(0x6b7),No,ue=null,So=null,st=null,Ni=0x3,Ri=null,ee=b[a0_0x5d3ab0(0x2af)](a0_0x5d3ab0(0x3fe))['API_KEY']['KEY'];async function $i(){const _0x2b9c56=a0_0x5d3ab0;let _0xef94a1=await Se[_0x2b9c56(0x639)]();ue=_0xef94a1?.[_0x2b9c56(0x70e)]??null,Ri=_0xef94a1?.[_0x2b9c56(0x742)]??null,xs=_0xef94a1?.[_0x2b9c56(0x255)]??_0x2b9c56(0x6b7),No=_0xef94a1?.[_0x2b9c56(0x6d5)]??Ds??'uazapi',console[_0x2b9c56(0x5a2)](_0xef94a1);}async function Ai(){await $i();}Ai();var Mo={},oe={},Ce=class c{constructor(_0x4a425c,_0x8a5ea0,_0x192402){const _0x213072=a0_0x5d3ab0;this['configService']=_0x4a425c,this['eventEmitter']=_0x8a5ea0,this[_0x213072(0x40c)]=_0x192402,this['AutomateSystem']=null,this[_0x213072(0x2f0)]=new R(c['name']),this[_0x213072(0x63a)]={},this[_0x213072(0x26d)]={},this[_0x213072(0x398)]={'state':_0x213072(0x452)},this['storePath']=(0x0,F[_0x213072(0x438)])(ne,'downloads'),this[_0x213072(0x430)]=new Is[(_0x213072(0x4de))](),this[_0x213072(0x6bb)]=new Is[(_0x213072(0x4de))](),this['endSession']=!0x1,this['webhookMap']={'status.instance':_0x213072(0x524),'connection.update':_0x213072(0x524),'qrcode.updated':_0x213072(0x406),'messages.upsert':_0x213072(0xdb),'send.message':_0x213072(0xdb),'messages.update':'/wa-message-update','group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':_0x213072(0xad),'messages.set':_0x213072(0x5e1),'contacts.set':_0x213072(0x4ec),'contacts.upsert':_0x213072(0x4ec),'contacts.update':'/wa-contacts','presence.update':_0x213072(0x498),'chats.set':_0x213072(0xc2),'chats.update':_0x213072(0xc2),'chats.upsert':'/wa-chats','chats.delete':'/wa-chats'},this[_0x213072(0x479)]=0x0,this[_0x213072(0x362)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this[_0x213072(0xd2)]=0xea60,this[_0x213072(0x1b3)]=!0x1,this[_0x213072(0x6f3)]={'chats.upsert':async(_0x24e569,_0x22e66e)=>{const _0xd3e9b8=_0x213072;let _0x1fa07e=[];for await(let _0x31500e of _0x24e569)_0x1fa07e['push']({'_id':_0x31500e['id'],'owner':this[_0xd3e9b8(0x63a)][_0xd3e9b8(0x67e)],'group':_0x31500e['id'][_0xd3e9b8(0x30a)]('@g.us'),'name':_0x31500e[_0xd3e9b8(0x26b)]||_0x31500e['displayName']||null,'contactname':null,'lastmsg':_0x31500e['conversationTimestamp']&&_0x31500e[_0xd3e9b8(0x6c2)][_0xd3e9b8(0x651)]()['length']<0xd?_0x31500e[_0xd3e9b8(0x6c2)]*0x3e8:_0x31500e['conversationTimestamp']||null,'archived':_0x31500e['archived']||!0x1,'unreadcount':_0x31500e[_0xd3e9b8(0x41f)]||0x0,'ephemeralExpiration':_0x31500e[_0xd3e9b8(0x3eb)]||0x0});this[_0xd3e9b8(0x71c)](_0xd3e9b8(0x4b3),_0x1fa07e);},'chats.update':async(_0x35fbd1,_0x23b609)=>{const _0x1aabcd=_0x213072;for(let _0x3495ee of _0x35fbd1){let _0x45f061={'_id':_0x3495ee['id'],'owner':this[_0x1aabcd(0x63a)]['wuid'],'archived':_0x3495ee[_0x1aabcd(0x144)],'muteEndTime':_0x3495ee[_0x1aabcd(0x32b)],'ephemeralExpiration':_0x3495ee[_0x1aabcd(0x3eb)]},_0x42022c=!0x1,_0x91049f={};_0x45f061['archived']!=null&&(this[_0x1aabcd(0x2f0)]['verbose'](this[_0x1aabcd(0x52c)]+'\x20('+this['instance']['wuid']+_0x1aabcd(0x705)+_0x3495ee['id']+_0x1aabcd(0x3cc)+_0x3495ee[_0x1aabcd(0x144)]),_0x42022c=!0x0,_0x91049f[_0x1aabcd(0x144)]=_0x3495ee[_0x1aabcd(0x144)]),_0x1aabcd(0x32b)in _0x3495ee&&(this['logger'][_0x1aabcd(0x444)](this[_0x1aabcd(0x52c)]+'\x20('+this[_0x1aabcd(0x63a)]['wuid']+_0x1aabcd(0x205)+_0x3495ee['id']+_0x1aabcd(0x3cc)+(_0x3495ee[_0x1aabcd(0x32b)]??'0')),_0x42022c=!0x0,_0x91049f[_0x1aabcd(0x32b)]=_0x3495ee[_0x1aabcd(0x32b)]??0x0),'ephemeralExpiration'in _0x3495ee&&(this[_0x1aabcd(0x2f0)]['verbose'](this['instanceName']+'\x20('+this[_0x1aabcd(0x63a)]['wuid']+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x3495ee['id']+_0x1aabcd(0x3cc)+(_0x3495ee['ephemeralExpiration']!==void 0x0?_0x3495ee[_0x1aabcd(0x3eb)]:_0x1aabcd(0x66c))),_0x91049f['ephemeralExpiration']=_0x3495ee[_0x1aabcd(0x3eb)]===null?0x0:_0x3495ee[_0x1aabcd(0x3eb)],_0x42022c=!0x0);let _0x2baff4;_0x42022c&&(_0x2baff4=await this[_0x1aabcd(0x40c)][_0x1aabcd(0x23a)][_0x1aabcd(0x63f)]({'where':{'_id':_0x3495ee['id']}},_0x91049f,this['instance'][_0x1aabcd(0x67e)])),_0x2baff4&&J(this[_0x1aabcd(0x52c)],_0x1aabcd(0x471),{'chat':_0x2baff4});}},'chats.delete':async _0x2a14dc=>{const _0x1fda9f=_0x213072;for(let _0x5659ec of _0x2a14dc)if(_0x5659ec[_0x1fda9f(0x30a)](_0x1fda9f(0x745))){await this[_0x1fda9f(0x40c)]['chat']['delete']({'where':{'_id':_0x5659ec}},this[_0x1fda9f(0x63a)][_0x1fda9f(0x67e)]);let _0x4a449d={'where':{'key':{'remoteJid':_0x5659ec}}};await this[_0x1fda9f(0x40c)][_0x1fda9f(0x5fc)][_0x1fda9f(0x4c9)](_0x4a449d,this[_0x1fda9f(0x63a)]['wuid']);}else{await this['repository']['chat']['updateOne']({'where':{'_id':_0x5659ec}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x1fda9f(0x67e)]);let _0x5834f1={'where':{'key':{'remoteJid':_0x5659ec}}};await this[_0x1fda9f(0x40c)]['message'][_0x1fda9f(0x4c9)](_0x5834f1,this['instance'][_0x1fda9f(0x67e)]);}this[_0x1fda9f(0x71c)](_0x1fda9f(0x74e),[..._0x2a14dc]);}},this[_0x213072(0x714)]={'contacts.upsert':async(_0x3e8412,_0x4fe4e7)=>{const _0x18c230=_0x213072;let _0x41eb5a=await this['repository']['contact']['find']({'where':{}},this[_0x18c230(0x63a)]['wuid']),_0x50d1ae=[];for await(let _0x308fd6 of _0x3e8412)_0x41eb5a[_0x18c230(0x299)](_0x33266f=>_0x33266f[_0x18c230(0x4eb)]===_0x308fd6['id'])||_0x50d1ae[_0x18c230(0x6a7)]({'_id':_0x308fd6['id'],'pushName':_0x308fd6?.[_0x18c230(0x26b)]||_0x308fd6?.[_0x18c230(0x380)],'owner':this[_0x18c230(0x63a)][_0x18c230(0x67e)]});this[_0x18c230(0x71c)](_0x18c230(0x57d),_0x50d1ae),await this[_0x18c230(0x40c)][_0x18c230(0x2ef)][_0x18c230(0x435)](_0x50d1ae);},'contacts.update':async(_0x568919,_0x40575c)=>{const _0x47efac=_0x213072;let _0x2a8b83=[];for await(let _0x4e3fd6 of _0x568919)_0x2a8b83[_0x47efac(0x6a7)]({'_id':_0x4e3fd6['id'],'pushName':_0x4e3fd6?.[_0x47efac(0x26b)]??_0x4e3fd6?.[_0x47efac(0x380)],'owner':this['instance'][_0x47efac(0x67e)]});this[_0x47efac(0x71c)](_0x47efac(0x496),_0x2a8b83);}},this[_0x213072(0x282)]={'messaging-history.set':async({messages:_0x3a4805,chats:_0x38c813,isLatest:_0x187c8e},_0x2f46eb)=>{const _0x14bdff=_0x213072;if(_0x187c8e){let _0x1eebaa=await Promise[_0x14bdff(0x68e)](_0x38c813[_0x14bdff(0x2de)](async _0x5be439=>({'_id':_0x5be439['id'],'owner':this[_0x14bdff(0x63a)][_0x14bdff(0x67e)],'group':_0x5be439['id'][_0x14bdff(0x30a)]('@g.us'),'name':_0x5be439[_0x14bdff(0x26b)]||_0x5be439[_0x14bdff(0x541)]||_0x5be439[_0x14bdff(0x2b1)]||null,'contactname':null,'lastmsg':_0x5be439[_0x14bdff(0x6c2)]&&_0x5be439[_0x14bdff(0x6c2)]['toString']()['length']<0xd?_0x5be439[_0x14bdff(0x6c2)]*0x3e8:_0x5be439['conversationTimestamp']||null,'archived':_0x5be439[_0x14bdff(0x144)]||!0x1,'unreadcount':_0x5be439[_0x14bdff(0x41f)]||0x0,'ephemeralExpiration':_0x5be439[_0x14bdff(0x3eb)]||0x0,'muteEndTime':_0x5be439[_0x14bdff(0x32b)]||0x0})));this[_0x14bdff(0x71c)]('chats.set',_0x1eebaa),await this[_0x14bdff(0x175)](_0x1eebaa,_0x2f46eb);}let _0x39d81b=[],_0x40f7cc=Date[_0x14bdff(0x10f)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x373fcd]of Object['entries'](_0x3a4805)){if(_0x373fcd[_0x14bdff(0x5fc)]?.[_0x14bdff(0x48b)]||_0x373fcd[_0x14bdff(0x5fc)]?.[_0x14bdff(0x259)]||!_0x373fcd[_0x14bdff(0x5fc)]||_0x373fcd[_0x14bdff(0xe7)][_0x14bdff(0x623)]===_0x14bdff(0x682)||(Ts[_0x14bdff(0x4de)][_0x14bdff(0x2d2)](_0x373fcd?.[_0x14bdff(0x5d7)])&&(_0x373fcd['messageTimestamp']=_0x373fcd[_0x14bdff(0x5d7)]?.['toNumber']()),_0x373fcd[_0x14bdff(0x5d7)]&&_0x373fcd[_0x14bdff(0x5d7)][_0x14bdff(0x651)]()[_0x14bdff(0x6d9)]<0xd&&(_0x373fcd[_0x14bdff(0x5d7)]=_0x373fcd[_0x14bdff(0x5d7)]*0x3e8),_0x373fcd[_0x14bdff(0x5d7)]<_0x40f7cc))continue;let _0x172f1d=(0x0,f['normalizeMessageContent'])(_0x373fcd[_0x14bdff(0x5fc)]),_0x3b51a7=(0x0,f[_0x14bdff(0x604)])(_0x172f1d),{message_normalized:_0x435877}=this['normalizeMessage'](_0x172f1d,_0x3b51a7,null);Object[_0x14bdff(0x43f)](_0x435877)[_0x14bdff(0x6d9)]>0x0&&_0x39d81b['push']({'_id':_0x373fcd[_0x14bdff(0xe7)]['id'],'key':_0x373fcd['key'],'pushName':_0x373fcd[_0x14bdff(0x701)],'participant':_0x373fcd[_0x14bdff(0x1a9)],'message':_0x172f1d,'messageType':_0x3b51a7,'message_normalized':{'key':_0x373fcd[_0x14bdff(0xe7)],'pushName':_0x373fcd['pushName'],'messageTimestamp':_0x373fcd[_0x14bdff(0x5d7)],..._0x435877},'messageTimestamp':_0x373fcd[_0x14bdff(0x5d7)],'owner':this['instance']['wuid']});}_0x2f46eb[_0x14bdff(0x1c0)]&&_0x39d81b[_0x14bdff(0x6d9)]>0x0&&(this[_0x14bdff(0x2f0)][_0x14bdff(0x444)](this['instanceName']+'\x20('+this[_0x14bdff(0x63a)][_0x14bdff(0x67e)]+_0x14bdff(0x8c)+_0x39d81b[_0x14bdff(0x6d9)]+_0x14bdff(0x57b)+this['instance'][_0x14bdff(0x67e)]+_0x14bdff(0x2ca)),await this[_0x14bdff(0x40c)]['message'][_0x14bdff(0x435)]([..._0x39d81b],this[_0x14bdff(0x63a)][_0x14bdff(0x67e)])),this[_0x14bdff(0x71c)](_0x14bdff(0x263),[..._0x39d81b]),_0x3a4805=void 0x0;},'messages.upsert':async({messages:_0x576087,type:_0x1a4d2e},_0x5388e5)=>{const _0x20d255=_0x213072;let _0x486587=_0x576087[0x0],_0x4fb34d=_0x486587[_0x20d255(0xe7)]['id'],_0x1cdbb7=_0x486587[_0x20d255(0x580)]===0x2,_0x8e55bf=0xb;if(this['localWebhook']?.[_0x20d255(0x6be)]&&_0x486587[_0x20d255(0xe7)][_0x20d255(0x623)][_0x20d255(0x5c5)](_0x20d255(0x745))){this[_0x20d255(0x2f0)][_0x20d255(0x444)](this[_0x20d255(0x52c)]+'\x20('+this['instance'][_0x20d255(0x67e)]+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0x1cdbb7){if(oe[_0x4fb34d]||(oe[_0x4fb34d]=0x0),oe[_0x4fb34d]++,this[_0x20d255(0x2f0)][_0x20d255(0x73d)](this[_0x20d255(0x52c)]+'\x20('+this[_0x20d255(0x63a)][_0x20d255(0x67e)]+_0x20d255(0x679)+_0x486587[_0x20d255(0xe7)][_0x20d255(0x623)]+_0x20d255(0xc5)+_0x4fb34d+':\x20'+oe[_0x4fb34d]+'/'+_0x8e55bf),oe[_0x4fb34d]>=_0x8e55bf){this[_0x20d255(0x2f0)]['error'](this[_0x20d255(0x52c)]+'\x20('+this[_0x20d255(0x63a)][_0x20d255(0x67e)]+_0x20d255(0x617)+_0x486587[_0x20d255(0xe7)]['remoteJid']+_0x20d255(0xc5)+_0x4fb34d+'.');let _0x140d0f={'key':{..._0x486587[_0x20d255(0xe7)]},'message':{'conversation':_0x20d255(0x65e)+_0x4fb34d+_0x20d255(0x49a)}};this[_0x20d255(0x63b)]['ev']['emit']('messages.upsert',{'messages':[_0x140d0f],'type':_0x20d255(0x401)}),delete oe[_0x4fb34d];}}else oe[_0x4fb34d]&&(this[_0x20d255(0x2f0)][_0x20d255(0x1c4)](_0x20d255(0x224)+oe[_0x4fb34d]+_0x20d255(0x5e5)+_0x486587[_0x20d255(0xe7)][_0x20d255(0x623)]+_0x20d255(0xc5)+_0x4fb34d),delete oe[_0x4fb34d]);if(_0x1a4d2e!==_0x20d255(0x401)||!_0x486587?.[_0x20d255(0x5fc)]||_0x486587[_0x20d255(0x5fc)]?.['protocolMessage']||_0x486587['message']['senderKeyDistributionMessage']||_0x486587[_0x20d255(0xe7)][_0x20d255(0x623)]==='status@broadcast')return;let _0x4c3b2f=null,_0x4d7f5b=null;try{_0x4c3b2f=await this[_0x20d255(0x454)](_0x486587),_0x4d7f5b=_0x4c3b2f?_0x4c3b2f['join'](','):null;}catch(_0x48457c){this[_0x20d255(0x2f0)][_0x20d255(0x444)](this['instanceName']+'\x20('+this[_0x20d255(0x63a)]['wuid']+_0x20d255(0x8c)+(_0x48457c instanceof Error?_0x48457c['message']:JSON[_0x20d255(0x61a)](_0x48457c,null,0x2))),_0x4d7f5b=_0x20d255(0x681);}this['client'][_0x20d255(0x45a)]('unavailable'),Ts[_0x20d255(0x4de)][_0x20d255(0x2d2)](_0x486587[_0x20d255(0x5d7)])&&(_0x486587['messageTimestamp']=_0x486587[_0x20d255(0x5d7)]?.[_0x20d255(0x6ea)]()),_0x486587['messageTimestamp']&&_0x486587[_0x20d255(0x5d7)][_0x20d255(0x651)]()['length']<0xd&&(_0x486587[_0x20d255(0x5d7)]=_0x486587[_0x20d255(0x5d7)]*0x3e8);let _0x1baf3f=_0x486587[_0x20d255(0x5fc)],_0x45295a=(0x0,f['normalizeMessageContent'])(_0x1baf3f),_0x1779af=(0x0,f['getContentType'])(_0x45295a),{messageContent:_0x456b6c,message_normalized:_0x2ff799}=this['normalizeMessage'](_0x45295a,_0x1779af,_0x4d7f5b);_0x1779af===_0x20d255(0x48b)&&_0x456b6c?.[_0x20d255(0x1e3)]&&(_0x1779af=_0x20d255(0x1e3));let _0x1c9a15,_0x89abf6=_0x486587['key'][_0x20d255(0x623)]['endsWith'](_0x20d255(0x745));if(_0x486587[_0x20d255(0xe7)][_0x20d255(0x26e)])_0x1c9a15=this[_0x20d255(0x63a)][_0x20d255(0x5ee)];else{let _0x111873=_0x89abf6?_0x486587[_0x20d255(0xe7)][_0x20d255(0x1a9)]:_0x486587[_0x20d255(0xe7)][_0x20d255(0x623)];_0x1c9a15=(await this[_0x20d255(0x43a)](_0x111873,_0x486587[_0x20d255(0x701)],!0x1))[_0x20d255(0x1ef)][_0x20d255(0x2df)];}let _0x39158b={'_id':_0x486587[_0x20d255(0xe7)]['id'],'key':_0x486587['key'],'isGroup':_0x89abf6,'profilePictureUrl':_0x1c9a15,'pushName':_0x486587[_0x20d255(0x701)],'message':_0x45295a,'messageType':_0x1779af,'message_normalized':{'key':_0x486587[_0x20d255(0xe7)],'pushName':_0x486587['pushName'],'messageTimestamp':_0x486587[_0x20d255(0x5d7)],'source':(0x0,f['getDevice'])(_0x486587[_0x20d255(0xe7)]['id']),..._0x2ff799},'messageTimestamp':_0x486587[_0x20d255(0x5d7)],'owner':this[_0x20d255(0x63a)][_0x20d255(0x67e)],'source':(0x0,f[_0x20d255(0x1be)])(_0x486587[_0x20d255(0xe7)]['id']),'expiration':_0x456b6c?.['contextInfo']?.['expiration']||0x0};_0x456b6c||(console[_0x20d255(0x73d)](_0x20d255(0x1fa)),this[_0x20d255(0x2f0)][_0x20d255(0x73d)](_0x39158b)),this[_0x20d255(0x2f0)][_0x20d255(0x5a2)](this[_0x20d255(0x52c)]+'\x20('+this[_0x20d255(0x63a)]['wuid']+_0x20d255(0x8c)+(_0x39158b[_0x20d255(0xe7)]?.[_0x20d255(0x26e)]?_0x20d255(0x522):_0x20d255(0x232))+'\x20['+_0x39158b[_0x20d255(0xe7)]?.[_0x20d255(0x623)][_0x20d255(0x143)]('@s.whatsapp.net','')+']\x20('+_0x39158b[_0x20d255(0x2f8)]+')'),_0x39158b[_0x20d255(0x8b)]?.[_0x20d255(0x512)]&&this[_0x20d255(0x2f0)][_0x20d255(0x5a2)](_0x4fb34d+':\x20'+_0x39158b[_0x20d255(0x8b)]?.[_0x20d255(0x512)]),await this[_0x20d255(0x40c)][_0x20d255(0x5fc)][_0x20d255(0x435)]([_0x39158b],this['instance']['wuid']),this[_0x20d255(0x71c)](_0x20d255(0x673),_0x39158b),J(this[_0x20d255(0x52c)],'messages',{'message':_0x39158b}),_0x486587['key'][_0x20d255(0x623)]!==_0x20d255(0x682)&&await this[_0x20d255(0x139)](_0x5388e5,_0x39158b,_0x20d255(0x30b));},'messages.update':async(_0x201e7b,_0x32f956)=>{const _0x1fda5a=_0x213072;let _0x39f478={0x0:_0x1fda5a(0x4a2),0x1:_0x1fda5a(0x6af),0x2:'SERVER_ACK',0x3:_0x1fda5a(0x209),0x4:_0x1fda5a(0x5c6),0x5:_0x1fda5a(0x1bd)};for await(let {key:_0x1f1429,update:_0x10a547}of _0x201e7b){if(this[_0x1fda5a(0x26d)]?.['groups_ignore']&&_0x1f1429[_0x1fda5a(0x623)][_0x1fda5a(0x5c5)]('@g.us')){this['logger'][_0x1fda5a(0x444)](this[_0x1fda5a(0x52c)]+'\x20('+this['instance'][_0x1fda5a(0x67e)]+_0x1fda5a(0x6ff));return;}if(_0x1f1429[_0x1fda5a(0x623)]!==_0x1fda5a(0x682)){let _0x2cf032=Date[_0x1fda5a(0x10f)](),_0xf90524;_0x10a547[_0x1fda5a(0x5fc)]===null&&_0x10a547[_0x1fda5a(0x489)]===void 0x0?_0xf90524='DELETED':_0xf90524=_0x39f478[_0x10a547[_0x1fda5a(0x489)]];let _0x5e6976=_0x1f1429[_0x1fda5a(0x623)][_0x1fda5a(0x143)](/:\d{1,2}@/g,'@'),_0x100b5e={..._0x1f1429,'remoteJid':_0x5e6976,'status':_0xf90524,'datetime':_0x2cf032,'owner':this[_0x1fda5a(0x63a)]['wuid']};this['sendDataWebhook']('messages.update',_0x100b5e),await this[_0x1fda5a(0x110)](_0x1f1429,_0x100b5e);}}},'labels.association':async({type:_0x120f48,association:_0x186c69})=>{const _0x5e4544=_0x213072;if(_0x186c69[_0x5e4544(0xcc)]===_0x5e4544(0x5d0)){let _0x4a37bc,_0x11d68d=0x0;for(;!_0x4a37bc&&_0x11d68d<this[_0x5e4544(0x39c)];)_0x4a37bc=await this[_0x5e4544(0x40c)]['chat'][_0x5e4544(0x639)]({'where':{'_id':_0x186c69[_0x5e4544(0x422)]}},this[_0x5e4544(0x63a)]['wuid']),_0x4a37bc||(_0x11d68d++,this[_0x5e4544(0x2f0)]['info'](this[_0x5e4544(0x52c)]+'\x20('+this['instance'][_0x5e4544(0x67e)]+_0x5e4544(0x744)+_0x186c69[_0x5e4544(0x422)]+'\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this[_0x5e4544(0x3e3)]+_0x5e4544(0x1f3)+_0x11d68d+'/'+this[_0x5e4544(0x39c)]+')'),await this[_0x5e4544(0x77c)](this[_0x5e4544(0x3e3)]));if(!_0x4a37bc){console[_0x5e4544(0x73d)](_0x5e4544(0x215)+_0x186c69[_0x5e4544(0x422)]+_0x5e4544(0x243)+this[_0x5e4544(0x39c)]+_0x5e4544(0x5f2));return;}switch(_0x120f48){case _0x5e4544(0x2cb):console[_0x5e4544(0x5a2)](_0x186c69),await this[_0x5e4544(0x40c)][_0x5e4544(0x23a)]['updateOne']({'where':{'_id':_0x186c69[_0x5e4544(0x422)]}},{'leadInfo.etiquetas':_0x186c69[_0x5e4544(0x6b9)]},this[_0x5e4544(0x63a)]['wuid'],void 0x0,_0x5e4544(0x5b1));break;case _0x5e4544(0x27e):console['log'](_0x186c69),await this[_0x5e4544(0x40c)][_0x5e4544(0x23a)][_0x5e4544(0x63f)]({'where':{'_id':_0x186c69['chatId']}},{'leadInfo.etiquetas':_0x186c69[_0x5e4544(0x6b9)]},this[_0x5e4544(0x63a)][_0x5e4544(0x67e)],void 0x0,_0x5e4544(0x153));break;default:console['error']('unknown\x20operation\x20type\x20['+_0x120f48+']');}}},'labels.edit':async _0xaf5da7=>{const _0xf11010=_0x213072;if(!_0xaf5da7||!_0xaf5da7['id']){console[_0xf11010(0x73d)](_0xf11010(0x211));return;}if(!_0xaf5da7[_0xf11010(0x3f6)]){let _0x443a0b=[_0xf11010(0x129),'#64c4ff',_0xf11010(0x6c0),'#dfaef0',_0xf11010(0x1db),_0xf11010(0x544),_0xf11010(0x3e8),_0xf11010(0x315),_0xf11010(0x311),'#d8e651',_0xf11010(0x28c),'#ffc5c7',_0xf11010(0x448),_0xf11010(0x65f),'#00a1f2','#83e421',_0xf11010(0x556),'#b4ebff',_0xf11010(0xfd),_0xf11010(0x22d)],_0x1efa44;typeof _0xaf5da7[_0xf11010(0x3f5)]=='number'&&_0xaf5da7[_0xf11010(0x3f5)]>=0x0&&_0xaf5da7[_0xf11010(0x3f5)]<_0x443a0b[_0xf11010(0x6d9)]?_0x1efa44=_0x443a0b[_0xaf5da7[_0xf11010(0x3f5)]]:(console[_0xf11010(0x73d)](_0xf11010(0xce),_0xaf5da7[_0xf11010(0x3f5)]),_0x1efa44=_0xf11010(0x513));let _0x394def={'_id':_0xaf5da7['id'],'colorHex':_0x1efa44,'color':_0xaf5da7?.[_0xf11010(0x3f5)],'name':_0xaf5da7?.['name'],'owner':this[_0xf11010(0x63a)][_0xf11010(0x67e)]};await this[_0xf11010(0x40c)][_0xf11010(0x2c9)][_0xf11010(0x63f)]({'where':{'_id':_0xaf5da7['id']}},_0x394def,this[_0xf11010(0x63a)][_0xf11010(0x67e)]),this['logger'][_0xf11010(0x403)](this[_0xf11010(0x52c)]+'\x20('+this['instance'][_0xf11010(0x67e)]+_0xf11010(0x228)+_0xaf5da7);}_0xaf5da7[_0xf11010(0x3f6)]&&(await this[_0xf11010(0x40c)][_0xf11010(0x2c9)][_0xf11010(0x4c9)]({'where':{'_id':_0xaf5da7['id']}},this[_0xf11010(0x63a)][_0xf11010(0x67e)]),this[_0xf11010(0x2f0)][_0xf11010(0x403)](_0xf11010(0x4b7)+_0xaf5da7['id']));}},this[_0x213072(0x17e)]={'groups.upsert':async _0x51ffc6=>{const _0x301bdc=_0x213072;this['localWebhook']?.['groups_ignore']||this[_0x301bdc(0x71c)](_0x301bdc(0x333),_0x51ffc6);for(let _0x128ff0 of _0x51ffc6)await this['updateGroupWebhook'](_0x128ff0);},'groups.update':async _0x265821=>{const _0x4f0d4e=_0x213072;this[_0x4f0d4e(0x26d)]?.[_0x4f0d4e(0x6be)]||this[_0x4f0d4e(0x71c)](_0x4f0d4e(0x267),_0x265821);for(let _0x34ad21 of _0x265821)await this[_0x4f0d4e(0x6f8)](_0x34ad21);},'group-participants.update':async _0x5449d5=>{const _0x138f6f=_0x213072;this[_0x138f6f(0x26d)]?.[_0x138f6f(0x6be)]||this['sendDataWebhook'](_0x138f6f(0xd1),_0x5449d5),await this[_0x138f6f(0x511)](_0x5449d5);}},this['delayChatLabel_MAX_RETRIES']=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x213072(0x454)]=async _0x288ec5=>{const _0x30647b=_0x213072;if(_0x288ec5[_0x30647b(0x5fc)]?.[_0x30647b(0x1d3)]){let _0x110ed5=await this[_0x30647b(0x3b3)](_0x288ec5[_0x30647b(0x5fc)][_0x30647b(0x1d3)][_0x30647b(0x5b8)],!0x0);if(_0x110ed5){let _0x3b1e0d=_0x110ed5['key'][_0x30647b(0x26e)]?this['instance'][_0x30647b(0x67e)]+_0x30647b(0x17c):_0x110ed5[_0x30647b(0xe7)][_0x30647b(0x1a9)]||_0x110ed5['key']['remoteJid'],_0x4b359c=_0x110ed5[_0x30647b(0xe7)]['id'],_0x2cd811=_0x110ed5['message'],_0x27cdeb=Buffer[_0x30647b(0x2a4)](_0x2cd811[_0x30647b(0x376)]['messageSecret'][_0x30647b(0x651)](_0x30647b(0x10a)),_0x30647b(0x10a)),_0x5e5311=(0x0,f['decryptPollVote'])(_0x288ec5[_0x30647b(0x5fc)][_0x30647b(0x1d3)][_0x30647b(0x28f)],{'pollCreatorJid':_0x3b1e0d,'pollMsgId':_0x4b359c,'pollEncKey':_0x27cdeb,'voterJid':_0x288ec5['key'][_0x30647b(0x26e)]?this['instance'][_0x30647b(0x67e)]+_0x30647b(0x17c):_0x288ec5[_0x30647b(0xe7)]['remoteJid'][_0x30647b(0x30a)]('g.us')?_0x288ec5[_0x30647b(0xe7)]['participant']:_0x288ec5[_0x30647b(0xe7)][_0x30647b(0x623)]}),_0x561cfb=[],_0xb7cb62=_0x5e5311[_0x30647b(0x731)][_0x30647b(0x2de)](_0x107c5d=>Buffer[_0x30647b(0x2a4)](_0x107c5d)[_0x30647b(0x651)](_0x30647b(0x10a)));for(let {optionName:_0x33b883}of _0x2cd811[_0x30647b(0x735)]?.['options']||_0x2cd811['pollCreationMessageV3']?.[_0x30647b(0x3da)]||_0x2cd811[_0x30647b(0x316)]?.[_0x30647b(0x3da)])_0xb7cb62[_0x30647b(0x1f5)]((0x0,f[_0x30647b(0x332)])(Buffer[_0x30647b(0x2a4)](_0x33b883))['toString'](_0x30647b(0x10a)))>-0x1&&_0x561cfb[_0x30647b(0x6a7)](_0x33b883);return _0x561cfb;}}return null;},this[_0x213072(0x1cf)]=(_0x1d9867,_0x397099,_0x1a59f6)=>{const _0x379b4b=_0x213072;try{let _0x383bce=_0x1d9867?(0x0,f[_0x379b4b(0x64b)])(_0x1d9867)[_0x397099]:void 0x0,_0x2d3ba4={},_0x54a4df=null,_0x1324db=null,_0x17cc0d=null;_0x397099===_0x379b4b(0x48b)&&_0x383bce?.['editedMessage']&&(_0x397099=(0x0,f[_0x379b4b(0x604)])(_0x383bce['editedMessage']),_0x54a4df=_0x1d9867[_0x379b4b(0x48b)][_0x379b4b(0xe7)]['id'],_0x383bce=_0x1d9867[_0x379b4b(0x48b)]['editedMessage'][_0x397099]),_0x1d9867[_0x397099]?.[_0x379b4b(0x600)]?.[_0x379b4b(0x147)]&&_0x1d9867[_0x397099]?.[_0x379b4b(0x600)]?.[_0x379b4b(0x60a)]&&(_0x1324db=_0x1d9867[_0x397099]['contextInfo'][_0x379b4b(0x147)]),_0x1d9867[_0x379b4b(0x4ad)]&&(_0x17cc0d=_0x1d9867[_0x379b4b(0x4ad)]['key']['id']);let _0x4559e3;if(_0x383bce&&typeof _0x383bce==_0x379b4b(0x696)&&_0x379b4b(0x5b8)in _0x383bce&&({pollCreationMessageKey:_0x4559e3}=_0x383bce),_0x397099===_0x379b4b(0x735)||_0x397099==='pollCreationMessageV2'||_0x397099===_0x379b4b(0x4ac)){let _0x51b8fe=_0x383bce[_0x379b4b(0x3da)][_0x379b4b(0x2de)](_0x240869=>_0x240869[_0x379b4b(0x2f3)])['join']('|');_0x2d3ba4[_0x379b4b(0x230)]=_0x51b8fe;}let _0x198440='';if(_0x383bce&&(_0x198440+=_0x383bce[_0x379b4b(0x26b)]?_0x383bce['name']:'',_0x198440+=_0x383bce[_0x379b4b(0x670)]?'\x20'+_0x383bce[_0x379b4b(0x670)]:'',_0x198440+=_0x383bce[_0x379b4b(0x523)]?'\x20'+_0x383bce[_0x379b4b(0x523)]:'',_0x198440+=_0x383bce['displayName']?'\x20'+_0x383bce['displayName']:''),_0x397099===_0x379b4b(0xb1)){_0x198440=(_0x383bce[_0x379b4b(0x353)]||'')+'\x0a'+(_0x383bce[_0x379b4b(0x2e1)]||'')+'\x0a'+(_0x383bce[_0x379b4b(0x31f)]||'');let _0x4c2478=this[_0x379b4b(0x72a)](_0x383bce[_0x379b4b(0x777)]);_0x2d3ba4[_0x379b4b(0x230)]=_0x4c2478;}if(_0x397099===_0x379b4b(0x101)&&(_0x1a59f6=_0x383bce['title']),_0x383bce&&_0x383bce[_0x379b4b(0x198)]){let _0x2903ee=this[_0x379b4b(0x706)](JSON[_0x379b4b(0x61a)](_0x383bce[_0x379b4b(0x198)],null,0x2));_0x198440=_0x198440+'\x0a'+_0x2903ee;}if(_0x383bce){let {sections:_0x2342b9,listType:_0x305637,displayName:_0xe351d,vcard:_0x289a8f,contactVcard:_0x51ea90,name:_0x57a718,caption:_0x2251dc,conversation:_0x377b93,pollCreationMessageKey:_0x3761b6,footerText:_0x14599e,contentText:_0x40eebb,pageCount:_0x1ec339,headerType:_0x1cd117,isAvatar:_0x2f748c,isAnimated:_0x4794af,fallbackLc:_0x2b25bf,fallbackLg:_0x1aebca,namespace:_0x32fcb2,elementName:_0x385e47,localizableParams:_0x11661a,viewOnce:_0x348ff2,height:_0x44d1a3,width:_0x1cc2ff,key:_0x4813e0,firstScanLength:_0x2256ee,firstScanSidecar:_0x5efa2d,gifPlayback:_0x84cf54,gifAttribution:_0x4df14b,midQualityFileSha256:_0x5c2ed5,scansSidecar:_0x564e64,streamingSidecar:_0x3b6227,thumbnailHeight:_0x4b94d1,thumbnailWidth:_0x5a5242,thumbnailEncSha256:_0x194cdc,thumbnailDirectPath:_0xecf858,canonicalUrl:_0x275f66,matchedText:_0xdd051b,previewType:_0x5cf9c1,thumbnailSha256:_0x28ac04,deviceListMetadataVersion:_0x9e4287,inviteLinkGroupTypeV2:_0x22a5ac,interactiveAnnotations:_0x80e2b0,scanLengths:_0x22c774,jpegThumbnail:_0x4f306e,url:_0x422b4c,mediaKeyTimestamp:_0x3ef227,waveform:_0x53cc97,stickerSentTs:_0x172d21,firstFrameLength:_0x5d5fa3,fileEncSha256:_0x1c449b,contextInfo:_0x59d644,firstFrameSidecar:_0x4ae902,directPath:_0x5da8c7,fileSha256:_0x405148,mediaKey:_0x11657d,senderTimestampMs:_0x5e2b4b,..._0x49c43d}=_0x383bce;(_0x397099===_0x379b4b(0xb1)||_0x397099===_0x379b4b(0x101))&&(delete _0x49c43d[_0x379b4b(0x353)],delete _0x49c43d[_0x379b4b(0x2e1)]),typeof _0x383bce==_0x379b4b(0x542)?_0x2d3ba4={'text':_0x383bce,'type':_0x397099||_0x379b4b(0x523),..._0x54a4df&&{'edited':_0x54a4df},..._0x1324db&&{'quoted':_0x1324db},..._0x17cc0d&&{'reaction':_0x17cc0d}}:_0x2d3ba4={'text':_0x198440,..._0x49c43d,..._0x397099===_0x379b4b(0x1d3)?{'poll_id':_0x383bce['pollCreationMessageKey']['id'],'quoted':_0x383bce[_0x379b4b(0x5b8)]['id'],'vote':_0x1a59f6}:{},..._0x397099==='listResponseMessage'?{'vote':_0x1a59f6}:{},'type':_0x397099,..._0x54a4df&&{'edited':_0x54a4df},..._0x1324db&&{'quoted':_0x1324db},..._0x17cc0d&&{'reaction':_0x17cc0d},...(_0x397099===_0x379b4b(0x735)||_0x397099===_0x379b4b(0x316)||_0x397099===_0x379b4b(0x4ac)||_0x397099==='listMessage')&&{'convertedOptions':_0x2d3ba4[_0x379b4b(0x230)]}};}return{'messageType':_0x397099,'messageContent':_0x383bce,'message_normalized':_0x2d3ba4};}catch(_0x5c674a){return console['error'](_0x379b4b(0x29e),_0x5c674a),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x213072(0x4bb)](),this['instance'][_0x213072(0x40d)]={'count':0x0},this['instance'][_0x213072(0x268)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x5d3ab0(0x52c)](_0x3bc051){const _0x18654d=a0_0x5d3ab0;if(!_0x3bc051){this[_0x18654d(0x63a)][_0x18654d(0x26b)]=(0x0,Co['v4'])();return;}this[_0x18654d(0x63a)]['name']=_0x3bc051,this['sendDataWebhook']('status.instance',{'instance':this['instance'][_0x18654d(0x26b)],'status':_0x18654d(0x425)});}get[a0_0x5d3ab0(0x52c)](){const _0x38f974=a0_0x5d3ab0;return this['instance'][_0x38f974(0x26b)];}get[a0_0x5d3ab0(0x67e)](){const _0x44bf5b=a0_0x5d3ab0;return this[_0x44bf5b(0x63a)][_0x44bf5b(0x67e)];}async['getProfileName'](){const _0x239a58=a0_0x5d3ab0;let _0xaea0ea=this[_0x239a58(0x63b)][_0x239a58(0x31a)]?.[_0x239a58(0x26b)]??this[_0x239a58(0x63b)]['user']?.[_0x239a58(0x380)];if(!_0xaea0ea){if(this[_0x239a58(0x6eb)][_0x239a58(0x2af)](_0x239a58(0x78e))[_0x239a58(0x1c0)]){let _0x3581a4=await $[_0x239a58(0x361)]()['db'](this[_0x239a58(0x6eb)][_0x239a58(0x2af)](_0x239a58(0x78e))[_0x239a58(0xc6)][_0x239a58(0x59e)]+_0x239a58(0x447))['collection'](this[_0x239a58(0x52c)])['findOne']({'_id':_0x239a58(0x226)});if(_0x3581a4){let _0x43eb3b=JSON[_0x239a58(0x396)](JSON[_0x239a58(0x61a)](_0x3581a4),f[_0x239a58(0x6e2)]['reviver']);_0xaea0ea=_0x43eb3b['me']?.[_0x239a58(0x26b)]||_0x43eb3b['me']?.['verifiedName'];}}else{if((0x0,xe[_0x239a58(0x776)])((0x0,F[_0x239a58(0x438)])(me,this['instanceName'],_0x239a58(0x397)))){let _0x3a2f33=JSON[_0x239a58(0x396)]((0x0,xe[_0x239a58(0x72b)])((0x0,F[_0x239a58(0x438)])(me,this['instanceName'],_0x239a58(0x397)),{'encoding':_0x239a58(0x9d)}));_0xaea0ea=_0x3a2f33['me']?.[_0x239a58(0x26b)]||_0x3a2f33['me']?.[_0x239a58(0x380)];}}}return _0xaea0ea;}get[a0_0x5d3ab0(0x5ee)](){const _0x49ab1c=a0_0x5d3ab0;return this['instance'][_0x49ab1c(0x5ee)];}get[a0_0x5d3ab0(0x643)](){const _0x26dd7d=a0_0x5d3ab0;return this[_0x26dd7d(0x63a)][_0x26dd7d(0x40d)]?.['pairingCode']?{'pairingCode':this[_0x26dd7d(0x63a)][_0x26dd7d(0x40d)]?.[_0x26dd7d(0x22b)]}:{'code':this[_0x26dd7d(0x63a)][_0x26dd7d(0x40d)]?.[_0x26dd7d(0x1a8)],'base64':this['instance'][_0x26dd7d(0x40d)]?.[_0x26dd7d(0x36a)]};}async[a0_0x5d3ab0(0x2d7)](){const _0xecf87c=a0_0x5d3ab0;let _0x4d9aa6=await this[_0xecf87c(0x40c)]['webhook'][_0xecf87c(0x299)](this['instanceName']);this[_0xecf87c(0x26d)][_0xecf87c(0x1f6)]=_0x4d9aa6?.['url'],this[_0xecf87c(0x26d)][_0xecf87c(0x113)]=_0x4d9aa6?.['enabled'],this[_0xecf87c(0x26d)][_0xecf87c(0x4a9)]=_0x4d9aa6?.[_0xecf87c(0x4a9)],this['localWebhook']['STATUS_INSTANCE']=_0x4d9aa6?.[_0xecf87c(0x519)],this[_0xecf87c(0x26d)][_0xecf87c(0x44a)]=_0x4d9aa6?.['QRCODE_UPDATED'],this['localWebhook'][_0xecf87c(0x1c3)]=_0x4d9aa6?.[_0xecf87c(0x1c3)],this[_0xecf87c(0x26d)][_0xecf87c(0x30b)]=_0x4d9aa6?.[_0xecf87c(0x30b)],this['localWebhook']['MESSAGES_UPDATE']=_0x4d9aa6?.[_0xecf87c(0x44e)],this['localWebhook'][_0xecf87c(0x674)]=_0x4d9aa6?.[_0xecf87c(0x674)],this[_0xecf87c(0x26d)]['GROUPS_UPDATE']=_0x4d9aa6?.[_0xecf87c(0x536)],this['localWebhook'][_0xecf87c(0x4d3)]=_0x4d9aa6?.[_0xecf87c(0x4d3)],this[_0xecf87c(0x26d)]['CHATS_SET']=_0x4d9aa6?.[_0xecf87c(0xe1)],this[_0xecf87c(0x26d)][_0xecf87c(0x6e6)]=_0x4d9aa6?.[_0xecf87c(0x6e6)],this['localWebhook'][_0xecf87c(0x786)]=_0x4d9aa6?.[_0xecf87c(0x786)],this['localWebhook']['CHATS_DELETE']=_0x4d9aa6?.[_0xecf87c(0x2fa)],this[_0xecf87c(0x26d)][_0xecf87c(0x3fc)]=_0x4d9aa6?.[_0xecf87c(0x3fc)],this['localWebhook'][_0xecf87c(0xc3)]=_0x4d9aa6?.[_0xecf87c(0xc3)],this[_0xecf87c(0x26d)]['CONTACTS_UPDATE']=_0x4d9aa6?.['CONTACTS_UPDATE'],this['localWebhook'][_0xecf87c(0x543)]=_0x4d9aa6?.['PRESENCE_UPDATE'],this[_0xecf87c(0x26d)][_0xecf87c(0x52d)]=_0x4d9aa6?.['MESSAGES_SET'],this[_0xecf87c(0x26d)]['CONNECTION_UPDATE']=_0x4d9aa6?.['CONNECTION_UPDATE'],this[_0xecf87c(0x26d)][_0xecf87c(0x6be)]=_0x4d9aa6?.[_0xecf87c(0x6be)];}async[a0_0x5d3ab0(0x55d)](_0x3f82c9){const _0x3b6c86=a0_0x5d3ab0;let _0x115280=['_id',_0x3b6c86(0x1f6),_0x3b6c86(0x113),_0x3b6c86(0x4a9),_0x3b6c86(0x519),'QRCODE_UPDATED',_0x3b6c86(0x44e),_0x3b6c86(0x30b),_0x3b6c86(0x1c3),_0x3b6c86(0x674),_0x3b6c86(0x536),'GROUP_PARTICIPANTS_UPDATE',_0x3b6c86(0xe1),_0x3b6c86(0x6e6),_0x3b6c86(0x786),'CHATS_DELETE',_0x3b6c86(0x3fc),_0x3b6c86(0xc3),_0x3b6c86(0x5d2),_0x3b6c86(0x543),_0x3b6c86(0x52d),_0x3b6c86(0x64d),'groups_ignore'],_0x299dd0={};return _0x115280[_0x3b6c86(0x394)](_0x4b0c6e=>{_0x3f82c9[_0x4b0c6e]!==void 0x0&&(_0x299dd0[_0x4b0c6e]=_0x3f82c9[_0x4b0c6e]);}),_0x299dd0[_0x3b6c86(0x1f6)]&&(_0x299dd0[_0x3b6c86(0x1f6)]=_0x299dd0[_0x3b6c86(0x1f6)][_0x3b6c86(0x68c)]()),await this['repository'][_0x3b6c86(0x45c)]['create'](_0x299dd0,this['instanceName']),Object[_0x3b6c86(0x2bf)](this[_0x3b6c86(0x26d)],_0x299dd0),await this[_0x3b6c86(0x40c)][_0x3b6c86(0x45c)][_0x3b6c86(0x299)](this[_0x3b6c86(0x52c)]);}async[a0_0x5d3ab0(0x61c)](){const _0x5d9622=a0_0x5d3ab0;return await this['repository']['webhook'][_0x5d9622(0x299)](this['instanceName']);}async[a0_0x5d3ab0(0x71c)](_0x43cf14,_0x23ac59){const _0x22cefa=a0_0x5d3ab0;let _0x2ffecc=_0x43cf14[_0x22cefa(0x143)](/[\.-]/gm,'_')[_0x22cefa(0x343)](),_0x4f1170=this[_0x22cefa(0x26d)]['enabled']&&(0x0,k[_0x22cefa(0xd7)])(this['localWebhook'][_0x22cefa(0x1f6)])?this[_0x22cefa(0x26d)][_0x22cefa(0x1f6)]+(this[_0x22cefa(0x26d)]['local_map']?this[_0x22cefa(0x549)][_0x43cf14]:''):null,_0x268349=this['localWebhook'][_0x2ffecc],_0x140de8=ue&&ue[_0x22cefa(0x113)]&&(0x0,k['isURL'])(ue[_0x22cefa(0x1f6)])?ue[_0x22cefa(0x1f6)]+(ue['local_map']?this['webhookMap'][_0x43cf14]:''):null,_0x3044c2=ue?ue[_0x2ffecc]:null;if(_0x268349&&_0x4f1170)try{await K[_0x22cefa(0x4de)]['create']({'baseURL':_0x4f1170})['post']('',{'event':_0x43cf14,'instance':this[_0x22cefa(0x63a)][_0x22cefa(0x26b)],'apikey':this[_0x22cefa(0x63a)][_0x22cefa(0x3d4)],'data':_0x23ac59}),this[_0x22cefa(0x2f0)]['log'](this[_0x22cefa(0x52c)]+'\x20('+this[_0x22cefa(0x63a)][_0x22cefa(0x67e)]+_0x22cefa(0x107)+_0x43cf14+':\x20'+_0x4f1170);}catch{this['logger'][_0x22cefa(0x73d)](this[_0x22cefa(0x52c)]+'\x20('+this[_0x22cefa(0x63a)][_0x22cefa(0x67e)]+_0x22cefa(0x5bb)+_0x43cf14+':\x20'+_0x4f1170);}if(_0x3044c2&&_0x140de8)try{await K[_0x22cefa(0x4de)]['create']({'baseURL':_0x140de8})[_0x22cefa(0x253)]('',{'event':_0x43cf14,'instance':this[_0x22cefa(0x63a)][_0x22cefa(0x26b)],'apikey':this[_0x22cefa(0x63a)][_0x22cefa(0x3d4)],'data':_0x23ac59}),this[_0x22cefa(0x2f0)]['log'](this[_0x22cefa(0x52c)]+'\x20('+this[_0x22cefa(0x63a)]['wuid']+_0x22cefa(0x4e1)+_0x43cf14+':\x20'+_0x140de8);}catch{this[_0x22cefa(0x2f0)][_0x22cefa(0x73d)](this[_0x22cefa(0x52c)]+'\x20('+this['instance']['wuid']+_0x22cefa(0x135)+_0x43cf14+':\x20'+_0x140de8);}}async[a0_0x5d3ab0(0x755)]({qr:_0xff6b91,connection:_0x4e5595,lastDisconnect:_0xe35e8f}){const _0x48eb00=a0_0x5d3ab0;if(_0xff6b91){if(this[_0x48eb00(0x63a)][_0x48eb00(0x40d)]['count']===Ni)return this[_0x48eb00(0x71c)](_0x48eb00(0x349),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':f[_0x48eb00(0x4ae)][_0x48eb00(0x157)]}),this['stateConnection']={'state':_0x48eb00(0x502),'statusReason':f['DisconnectReason'][_0x48eb00(0x15e)]},this[_0x48eb00(0x71c)](_0x48eb00(0x35e),{'instance':this[_0x48eb00(0x63a)][_0x48eb00(0x26b)],...this['stateConnection']}),this[_0x48eb00(0x71c)](_0x48eb00(0x645),{'instance':this[_0x48eb00(0x63a)]['name'],'status':_0x48eb00(0x6b5)}),this[_0x48eb00(0x40c)]['auth'][_0x48eb00(0xee)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x48eb00(0x10f)]()},this[_0x48eb00(0x63a)][_0x48eb00(0x26b)]),this[_0x48eb00(0xf8)]=!0x0,this[_0x48eb00(0x49b)][_0x48eb00(0x270)]('no.connection',this[_0x48eb00(0x63a)][_0x48eb00(0x26b)]);this[_0x48eb00(0x63a)][_0x48eb00(0x40d)][_0x48eb00(0x650)]++;let _0x437090={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x48eb00(0x692),'dark':_0x48eb00(0x513)}};Eo['default']['toDataURL'](_0xff6b91,_0x437090,(_0x40d5bc,_0x541d1e)=>{const _0xa65579=_0x48eb00;if(_0x40d5bc){this[_0xa65579(0x2f0)][_0xa65579(0x73d)](this[_0xa65579(0x52c)]+'\x20('+this['instance'][_0xa65579(0x67e)]+_0xa65579(0x778)+(_0x40d5bc instanceof Error?_0x40d5bc[_0xa65579(0x5fc)]:JSON[_0xa65579(0x61a)](_0x40d5bc,null,0x2)));return;}this['instance'][_0xa65579(0x40d)]['base64']=_0x541d1e,this[_0xa65579(0x63a)]['qrcode'][_0xa65579(0x1a8)]=_0xff6b91,!this['phoneNumber']&&this[_0xa65579(0x71c)](_0xa65579(0x349),{'qrcode':{'instance':this[_0xa65579(0x63a)][_0xa65579(0x26b)],'pairingCode':this[_0xa65579(0x63a)][_0xa65579(0x40d)][_0xa65579(0x22b)],'code':_0xff6b91,'base64':_0x541d1e}});}),this[_0x48eb00(0x5bd)]?this['instance'][_0x48eb00(0x40d)][_0x48eb00(0x22b)]||(await(0x0,f['delay'])(0x7d0),this['instance'][_0x48eb00(0x40d)][_0x48eb00(0x22b)]=await this['client'][_0x48eb00(0x459)](this['phoneNumber'])):this[_0x48eb00(0x63a)][_0x48eb00(0x40d)]['pairingCode']=null,vo[_0x48eb00(0x4de)]['generate'](_0xff6b91,{'small':!0x0},_0x4cd123=>this[_0x48eb00(0x2f0)]['log'](_0x48eb00(0x583)+this['instance'][_0x48eb00(0x26b)]+_0x48eb00(0x318)+this[_0x48eb00(0x63a)][_0x48eb00(0x40d)][_0x48eb00(0x650)]+_0x48eb00(0x1b0)+this['instance']['qrcode'][_0x48eb00(0x22b)]+_0x48eb00(0x4c6)+_0x4cd123));}if(_0x4e5595&&(this[_0x48eb00(0x398)]={'state':_0x4e5595,'statusReason':_0xe35e8f?.[_0x48eb00(0x73d)]?.[_0x48eb00(0x437)]?.[_0x48eb00(0x1ca)]??0xc8},this[_0x48eb00(0x71c)]('connection.update',{'instance':this[_0x48eb00(0x63a)][_0x48eb00(0x26b)],...this['stateConnection']})),_0x4e5595===_0x48eb00(0x452)){if(this['reconnectAttempts']++,this['reconnectTimestamps'][_0x48eb00(0x6a7)](Date['now']()),this[_0x48eb00(0x362)]=this[_0x48eb00(0x362)][_0x48eb00(0x589)](_0xb399a4=>Date[_0x48eb00(0x10f)]()-_0xb399a4<this[_0x48eb00(0xd2)]),_0xe35e8f['error']?.[_0x48eb00(0x437)]?.[_0x48eb00(0x1ca)]!==f[_0x48eb00(0x4ae)][_0x48eb00(0x137)]&&this[_0x48eb00(0x362)][_0x48eb00(0x6d9)]<=this[_0x48eb00(0x167)])console[_0x48eb00(0x5a2)](this[_0x48eb00(0x52c)]+_0x48eb00(0x38b)+this['reconnectAttempts']+'/'+this[_0x48eb00(0x167)]+_0x48eb00(0x335)),console[_0x48eb00(0x5a2)](_0x48eb00(0x235)),await this[_0x48eb00(0x33e)]();else{this[_0x48eb00(0x71c)]('status.instance',{'instance':this[_0x48eb00(0x63a)][_0x48eb00(0x26b)],'status':'removed'}),this['instance'][_0x48eb00(0x268)][_0x48eb00(0x1c2)]=!0x1,this[_0x48eb00(0x40c)][_0x48eb00(0x45c)][_0x48eb00(0x4c9)](this['instanceName']),this[_0x48eb00(0x40c)]['auth'][_0x48eb00(0xee)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x48eb00(0x63a)]['name']);try{this[_0x48eb00(0x2f0)]['verbose'](this[_0x48eb00(0x52c)]+'\x20('+this[_0x48eb00(0x63a)]['wuid']+_0x48eb00(0x300));let _0x20b5fd=await this[_0x48eb00(0x40c)]['message'][_0x48eb00(0x31b)](this[_0x48eb00(0x63a)][_0x48eb00(0x67e)]);_0x20b5fd[_0x48eb00(0x62e)]?this[_0x48eb00(0x2f0)]['verbose'](this[_0x48eb00(0x52c)]+'\x20('+this[_0x48eb00(0x63a)]['wuid']+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x48eb00(0x73d)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x20b5fd[_0x48eb00(0x73d)]);}catch(_0x15e4ee){console[_0x48eb00(0x73d)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x15e4ee[_0x48eb00(0x5fc)]);}this[_0x48eb00(0x63a)][_0x48eb00(0x268)][_0x48eb00(0x1b5)]!==null&&(this[_0x48eb00(0x2f0)][_0x48eb00(0x444)](this['instanceName']+'\x20('+this[_0x48eb00(0x63a)][_0x48eb00(0x67e)]+_0x48eb00(0x329)),clearInterval(this[_0x48eb00(0x63a)][_0x48eb00(0x268)][_0x48eb00(0x1b5)]),this[_0x48eb00(0x63a)]['ScheduleMessage'][_0x48eb00(0x1b5)]=null),this[_0x48eb00(0x2f0)]['verbose'](this[_0x48eb00(0x52c)]+'\x20('+this[_0x48eb00(0x63a)][_0x48eb00(0x67e)]+_0x48eb00(0x5ed)),this['AutomateSystem']=null,this['eventEmitter'][_0x48eb00(0x270)](_0x48eb00(0x351),this[_0x48eb00(0x63a)]['name'],_0x48eb00(0x736)),this[_0x48eb00(0x63b)]?.['ws']?.[_0x48eb00(0x452)](),this[_0x48eb00(0x63b)][_0x48eb00(0x73f)](new Error(_0x48eb00(0x773)));}}if(_0x4e5595===_0x48eb00(0x40a)){this[_0x48eb00(0x63b)]['ev'][_0x48eb00(0x1ba)](),this[_0x48eb00(0x17b)],this[_0x48eb00(0x63a)][_0x48eb00(0x67e)]=this[_0x48eb00(0x63b)][_0x48eb00(0x31a)]['id'][_0x48eb00(0x143)](/:\d+/,'')[_0x48eb00(0x143)](_0x48eb00(0x17c),''),this[_0x48eb00(0x63a)][_0x48eb00(0x5ee)]=(await this[_0x48eb00(0x1d4)](this['instance'][_0x48eb00(0x67e)]+_0x48eb00(0x17c)))['profilePictureUrl'],this[_0x48eb00(0x40c)][_0x48eb00(0x2c8)][_0x48eb00(0xee)]({'online':!0x0,'owner':this[_0x48eb00(0x63a)]['wuid'],'lastDisconnect':null},this[_0x48eb00(0x63a)][_0x48eb00(0x26b)]);let _0x32a16c=_0x48eb00(0x3fa)+this[_0x48eb00(0x63a)][_0x48eb00(0x67e)],_0xe98c16=0x28,_0x1456d1=Math[_0x48eb00(0x227)]((_0xe98c16-_0x32a16c['length'])/0x2),_0x4ed510='\x20'[_0x48eb00(0x303)](_0x1456d1),_0x40dd41=_0x48eb00(0x46f),_0x8264d9=_0x48eb00(0x42e)+this[_0x48eb00(0x63a)][_0x48eb00(0x26b)],_0x3aa13d=(''+_0x4ed510+_0x32a16c+_0x4ed510)['padEnd'](_0xe98c16,'\x20'),_0x35b985=(''+_0x4ed510+_0x40dd41+_0x4ed510)['padEnd'](_0xe98c16,'\x20'),_0x15ec0c=(''+_0x4ed510+_0x8264d9+_0x4ed510)[_0x48eb00(0xc9)](_0xe98c16,'\x20'),_0x461422=Math[_0x48eb00(0x1e4)](_0x3aa13d['length'],_0x35b985['length'],_0x15ec0c[_0x48eb00(0x6d9)]),_0x49dbb3=_0x3aa13d[_0x48eb00(0xc9)](_0x461422,'\x20'),_0x520231=_0x35b985['padEnd'](_0x461422,'\x20'),_0x452c3d=_0x15ec0c['padEnd'](_0x461422,'\x20');this[_0x48eb00(0x2f0)][_0x48eb00(0x403)]((_0x48eb00(0x4b1)+'─'[_0x48eb00(0x303)](_0x461422)+_0x48eb00(0x3d3)+_0x520231+_0x48eb00(0x3f1)+_0x452c3d+_0x48eb00(0x3f1)+_0x49dbb3+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0x461422)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x48eb00(0x780)](),this['instance']['ScheduleMessage'][_0x48eb00(0x1c2)]=!0x0;}}[a0_0x5d3ab0(0x17b)](){const _0x27ffe8=a0_0x5d3ab0;this[_0x27ffe8(0x479)]=0x0,this[_0x27ffe8(0x362)]=[];}async[a0_0x5d3ab0(0x3b3)](_0x45c68e,_0x1211cd=!0x1){const _0x41c71d=a0_0x5d3ab0;try{let _0x1afde6=await this[_0x41c71d(0x40c)][_0x41c71d(0x5fc)][_0x41c71d(0x299)]({'where':{'_id':_0x45c68e['id']}},this[_0x41c71d(0x63a)][_0x41c71d(0x67e)]);return _0x1211cd?_0x1afde6[0x0]:_0x1afde6[0x0][_0x41c71d(0x5fc)];}catch{return{'conversation':''};}}[a0_0x5d3ab0(0x4bb)](){const _0x1271fa=a0_0x5d3ab0;let _0x2cd6e4=this[_0x1271fa(0x6eb)]['get'](_0x1271fa(0x22e)),_0x3fadd1=this[_0x1271fa(0x6eb)][_0x1271fa(0x2af)](_0x1271fa(0x78e));_0x2cd6e4?.[_0x1271fa(0x19c)]&&!_0x3fadd1[_0x1271fa(0x1c0)]&&setInterval(()=>{const _0x11d76=_0x1271fa;try{for(let [_0x22227b,_0x49d8bb]of Object[_0x11d76(0xd0)](_0x2cd6e4))_0x49d8bb===!0x0&&(0x0,De[_0x11d76(0x36b)])('rm\x20-rf\x20'+(0x0,F['join'])(this[_0x11d76(0x108)],_0x22227b[_0x11d76(0x4ba)](),this[_0x11d76(0x63a)][_0x11d76(0x67e)])+_0x11d76(0x1ac));}catch{}},(_0x2cd6e4?.[_0x1271fa(0x19c)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x25b4bf=a0_0x5d3ab0;let _0x30eda7=this[_0x25b4bf(0x6eb)][_0x25b4bf(0x2af)](_0x25b4bf(0x78e)),_0x332fce=this['configService'][_0x25b4bf(0x2af)](_0x25b4bf(0x6a3));return _0x332fce?.['ENABLED']?await Rs(_0x332fce,this[_0x25b4bf(0x63a)]['name']):_0x30eda7[_0x25b4bf(0x1c0)]?await Ns(this['instance'][_0x25b4bf(0x26b)]):await(0x0,f[_0x25b4bf(0xac)])((0x0,F[_0x25b4bf(0x438)])(me,this[_0x25b4bf(0x63a)][_0x25b4bf(0x26b)]));}async[a0_0x5d3ab0(0x780)](){const _0xabe0fe=a0_0x5d3ab0;let _0x2ce2c9=()=>Math[_0xabe0fe(0x227)](Math[_0xabe0fe(0x6e3)]()*0x2711)+0x7d0,_0x12dad2=async()=>{const _0x518c10=_0xabe0fe;if(!this['instance'][_0x518c10(0x268)][_0x518c10(0x1c2)]){this['logger'][_0x518c10(0x444)](_0x518c10(0x277)),this[_0x518c10(0x1b3)]=!0x1;return;}if(this[_0x518c10(0x63a)][_0x518c10(0x67e)]&&this[_0x518c10(0x3f8)]&&this[_0x518c10(0x63a)][_0x518c10(0x268)][_0x518c10(0x1b5)]!==null&&this[_0x518c10(0x63a)]['ScheduleMessage'][_0x518c10(0x1b5)]!==void 0x0){let _0x5ab8da=Math[_0x518c10(0x14c)](this[_0x518c10(0x63a)][_0x518c10(0x268)][_0x518c10(0x1b5)]/0xea60);this[_0x518c10(0x2f0)][_0x518c10(0x444)](this[_0x518c10(0x52c)]+'\x20('+this[_0x518c10(0x63a)]['wuid']+_0x518c10(0x414)+_0x5ab8da+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x518c10(0x1b3)]=!0x1;return;}else this[_0x518c10(0x63a)][_0x518c10(0x67e)]&&(this[_0x518c10(0x2f0)][_0x518c10(0x444)](this[_0x518c10(0x52c)]+'\x20('+this[_0x518c10(0x63a)]['wuid']+_0x518c10(0x187)),this['AutomateSystem']||(await this['getAutomateSystem'](),this['findGroups']()),(this[_0x518c10(0x63a)]['ScheduleMessage'][_0x518c10(0x1b5)]===null||this[_0x518c10(0x63a)]['ScheduleMessage'][_0x518c10(0x1b5)]===void 0x0)&&await this[_0x518c10(0x726)]());if(this['isRunning']){let _0x13d57e=_0x2ce2c9();this[_0x518c10(0x2f0)][_0x518c10(0x444)](this[_0x518c10(0x52c)]+_0x518c10(0x4fa)+_0x13d57e/0x3e8+_0x518c10(0x2da)),setTimeout(_0x12dad2,_0x13d57e);}};if(this[_0xabe0fe(0x1b3)])return;this[_0xabe0fe(0x1b3)]=!0x0;let _0x4d5cee=_0x2ce2c9();setTimeout(_0x12dad2,_0x4d5cee);}async[a0_0x5d3ab0(0x4e7)](_0x589f22=0x0,_0x399a9c=!0x1){const _0x4cd2d7=a0_0x5d3ab0;try{let _0x256d82=this[_0x4cd2d7(0x6eb)][_0x4cd2d7(0x2af)]('PROXY');if(_0x256d82!==0x1||typeof _0x256d82>'u'||_0x589f22>=0x5)return this['logger']['warn'](_0x4cd2d7(0x2c4)),this[_0x4cd2d7(0x40c)][_0x4cd2d7(0x2c8)][_0x4cd2d7(0xee)]({'ip':null},this[_0x4cd2d7(0x63a)][_0x4cd2d7(0x26b)]),{};this[_0x4cd2d7(0x2f0)][_0x4cd2d7(0x444)](this[_0x4cd2d7(0x52c)]+_0x4cd2d7(0x672)+(_0x589f22+0x1)+_0x4cd2d7(0x3ec));let _0x32e555;if(!_0x399a9c){let _0x139ec4=await this[_0x4cd2d7(0x40c)][_0x4cd2d7(0x2c8)]['find'](this[_0x4cd2d7(0x52c)]);_0x139ec4&&_0x139ec4['ip']&&(_0x32e555=yo(_0x139ec4['ip']));}if((!_0x32e555||!$s(_0x32e555))&&(this[_0x4cd2d7(0x2f0)][_0x4cd2d7(0x1c4)](this[_0x4cd2d7(0x52c)]+':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.'),_0x32e555=bo()),_0x32e555&&$s(_0x32e555)){let _0x1248c5=_0x32e555[_0x4cd2d7(0x2b1)]&&_0x32e555[_0x4cd2d7(0x131)]?_0x32e555[_0x4cd2d7(0x3a6)]+_0x4cd2d7(0x13b)+_0x32e555[_0x4cd2d7(0x2b1)]+':'+_0x32e555[_0x4cd2d7(0x131)]+'@'+_0x32e555['host']+':'+_0x32e555['port']:_0x32e555[_0x4cd2d7(0x3a6)]+_0x4cd2d7(0x13b)+_0x32e555[_0x4cd2d7(0x395)]+':'+_0x32e555['port'];return await this['testProxy'](_0x1248c5,_0x32e555['host'])?(this[_0x4cd2d7(0x2f0)][_0x4cd2d7(0x444)](this[_0x4cd2d7(0x52c)]+_0x4cd2d7(0x700)),this[_0x4cd2d7(0x40c)][_0x4cd2d7(0x2c8)][_0x4cd2d7(0xee)]({'ip':_0x32e555['host']},this[_0x4cd2d7(0x63a)]['name']),{'agent':new Ft[(_0x4cd2d7(0x530))](_0x1248c5),'fetchAgent':new Ft[(_0x4cd2d7(0x530))](_0x1248c5)}):(this[_0x4cd2d7(0x2f0)][_0x4cd2d7(0x1c4)](this[_0x4cd2d7(0x52c)]+_0x4cd2d7(0x12a)),await(0x0,f[_0x4cd2d7(0x307)])(0xc8),this[_0x4cd2d7(0x4e7)](_0x589f22+0x1,!0x0));}else return this['logger'][_0x4cd2d7(0x1c4)](this[_0x4cd2d7(0x52c)]+':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...'),await(0x0,f[_0x4cd2d7(0x307)])(0xc8),this[_0x4cd2d7(0x4e7)](_0x589f22+0x1,!0x0);}catch(_0x1d48f1){return this[_0x4cd2d7(0x2f0)][_0x4cd2d7(0x73d)](this['instanceName']+_0x4cd2d7(0x743)+_0x1d48f1[_0x4cd2d7(0x5fc)]),{};}}async['testProxy'](_0x3006f9,_0x16860c){const _0x200c81=a0_0x5d3ab0;let _0x6a9cfa=new Ft[(_0x200c81(0x530))](_0x3006f9),_0x98c23=0x1388,_0x488dc8=[{'url':_0x200c81(0x331),'parse':_0x32d7f0=>_0x32d7f0['ip']},{'url':_0x200c81(0x481),'parse':_0x443710=>_0x443710['ip']},{'url':'http://checkip.dyndns.org','parse':_0x4d0ea3=>_0x4d0ea3[_0x200c81(0x4c1)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x200c81(0x186),'parse':_0x2414ce=>_0x2414ce['ip']},{'url':_0x200c81(0x42f),'parse':_0xd770e5=>_0xd770e5[_0x200c81(0x68c)]()},{'url':_0x200c81(0x1a3),'parse':_0x2a5960=>_0x2a5960['trim']()},{'url':_0x200c81(0x6d7),'parse':_0x454c5b=>_0x454c5b[_0x200c81(0x3a8)]},{'url':_0x200c81(0x534),'parse':_0x4a8bbc=>_0x4a8bbc['trim']()},{'url':_0x200c81(0x278),'parse':_0x4291af=>_0x4291af[_0x200c81(0x68c)]()}],_0x59d179=_0x488dc8[Math[_0x200c81(0x227)](Math['random']()*_0x488dc8[_0x200c81(0x6d9)])];try{let _0x58ee3b=await K[_0x200c81(0x4de)][_0x200c81(0x2af)](_0x59d179[_0x200c81(0x1f6)],{'httpsAgent':_0x6a9cfa,'timeout':_0x98c23}),_0x3bd4fb=_0x59d179['parse'](_0x58ee3b[_0x200c81(0x634)]);return _0x3bd4fb===_0x16860c?(this[_0x200c81(0x2f0)]['verbose'](this['instanceName']+':\x20IP\x20configurado:\x20'+_0x16860c+_0x200c81(0x3ef)+_0x3bd4fb+'\x20->\x20CONFIRMADO.'),!0x0):(this[_0x200c81(0x2f0)][_0x200c81(0x73d)](this[_0x200c81(0x52c)]+_0x200c81(0x18c)+_0x16860c+_0x200c81(0x3ef)+_0x3bd4fb+_0x200c81(0x74f)),!0x1);}catch(_0x33903a){return this[_0x200c81(0x2f0)][_0x200c81(0x73d)](this[_0x200c81(0x52c)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x59d179[_0x200c81(0x1f6)]+':\x20'+_0x33903a[_0x200c81(0x5fc)]),!0x1;}}async[a0_0x5d3ab0(0x33e)](_0x4169ef){const _0x1b37eb=a0_0x5d3ab0;try{let _0x4c0ea9=await this[_0x1b37eb(0x4e7)]();this[_0x1b37eb(0x2d7)](),this[_0x1b37eb(0x63a)][_0x1b37eb(0x3d4)]=(await this[_0x1b37eb(0x40c)][_0x1b37eb(0x2c8)][_0x1b37eb(0x299)](this[_0x1b37eb(0x63a)][_0x1b37eb(0x26b)]))[_0x1b37eb(0x3d4)],this[_0x1b37eb(0x63a)][_0x1b37eb(0x35f)]=await this[_0x1b37eb(0x2dc)]();let {version:_0x110d27}=await(0x0,f[_0x1b37eb(0x657)])(),_0x405934=[No,xs,(0x0,Os['release'])()],_0x45eff4={..._0x4c0ea9,'auth':{'creds':this['instance']['authState'][_0x1b37eb(0x60b)][_0x1b37eb(0x226)],'keys':(0x0,f[_0x1b37eb(0x704)])(this[_0x1b37eb(0x63a)][_0x1b37eb(0x35f)]['state']['keys'],(0x0,kt[_0x1b37eb(0x4de)])({'level':_0x1b37eb(0x73d)}))},'logger':(0x0,kt[_0x1b37eb(0x4de)])({'level':_0x1b37eb(0x73d)}),'printQRInTerminal':!0x1,'browser':_0x4169ef?[_0x1b37eb(0x10c),xs,(0x0,Os[_0x1b37eb(0x323)])()]:_0x405934,'version':_0x110d27,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x3451e1=>{const _0x32da45=_0x1b37eb;let _0x4197c7=_0x3451e1['endsWith'](_0x32da45(0x740)),_0x4cb6e0=this[_0x32da45(0x26d)]?.['groups_ignore']&&_0x3451e1[_0x32da45(0x30a)](_0x32da45(0x745));return _0x4197c7||(0x0,f[_0x32da45(0x39a)])(_0x3451e1)||_0x4cb6e0;},'msgRetryCounterCache':this[_0x1b37eb(0x430)],'getMessage':async _0x53af2d=>await this[_0x1b37eb(0x3b3)](_0x53af2d),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x1b37eb(0x6bb)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0xce7f77=>(_0xce7f77[_0x1b37eb(0xb1)]?.[_0x1b37eb(0x2a1)]==f['proto'][_0x1b37eb(0x20d)][_0x1b37eb(0x655)][_0x1b37eb(0xbd)][_0x1b37eb(0x456)]&&(_0xce7f77=JSON[_0x1b37eb(0x396)](JSON[_0x1b37eb(0x61a)](_0xce7f77)),_0xce7f77[_0x1b37eb(0xb1)][_0x1b37eb(0x2a1)]=f[_0x1b37eb(0x363)][_0x1b37eb(0x20d)][_0x1b37eb(0x655)][_0x1b37eb(0xbd)]['SINGLE_SELECT']),_0xce7f77)};return this['endSession']=!0x1,this[_0x1b37eb(0x63b)]=(0x0,f[_0x1b37eb(0x4de)])(_0x45eff4),this[_0x1b37eb(0x2b5)](),this[_0x1b37eb(0x5bd)]=_0x4169ef,this[_0x1b37eb(0x63b)];}catch(_0x7a103e){let _0x5c8137=_0x1b37eb(0x3e4),_0x3c33fb=_0x7a103e instanceof Error?_0x7a103e[_0x1b37eb(0x5fc)]:typeof _0x7a103e==_0x1b37eb(0x696)?JSON['stringify'](_0x7a103e):_0x7a103e,_0x2ae4fa=_0x5c8137+':\x20'+_0x3c33fb;throw this[_0x1b37eb(0x2f0)][_0x1b37eb(0x73d)](this[_0x1b37eb(0x52c)]+'\x20('+this[_0x1b37eb(0x63a)][_0x1b37eb(0x67e)]+_0x1b37eb(0x8c)+_0x2ae4fa),new I(_0x2ae4fa);}}[a0_0x5d3ab0(0x2b5)](){const _0x338210=a0_0x5d3ab0;this['client']['ev'][_0x338210(0x717)](_0x58bfb1=>{const _0x547b97=_0x338210;if(!this[_0x547b97(0xf8)]){let _0x390110=this[_0x547b97(0x6eb)][_0x547b97(0x2af)]('DATABASE');if(_0x58bfb1[_0x547b97(0x17f)]){let _0x276e07=_0x58bfb1[_0x547b97(0x17f)];this[_0x547b97(0x282)]['labels.edit'](_0x276e07);}if(_0x58bfb1[_0x547b97(0x21f)]){let _0xeeeec2=_0x58bfb1[_0x547b97(0x21f)];this['messageHandle'][_0x547b97(0x21f)](_0xeeeec2);}if(_0x58bfb1['connection.update']&&this[_0x547b97(0x755)](_0x58bfb1[_0x547b97(0x35e)]),_0x58bfb1[_0x547b97(0x1f0)]&&this[_0x547b97(0x63a)]['authState']['saveCreds'](),_0x58bfb1[_0x547b97(0x2d6)]){let _0x1bfdb9=_0x58bfb1[_0x547b97(0x2d6)];this[_0x547b97(0x282)]['messaging-history.set'](_0x1bfdb9,_0x390110);}if(_0x58bfb1[_0x547b97(0x673)]){let _0x5cc35c=_0x58bfb1[_0x547b97(0x673)];this[_0x547b97(0x282)][_0x547b97(0x673)](_0x5cc35c,_0x390110);}if(_0x58bfb1[_0x547b97(0x77a)]){let _0x5e3e70=_0x58bfb1[_0x547b97(0x77a)];_0x5e3e70[_0x547b97(0x394)](_0x284e01=>{const _0x369e8a=_0x547b97;if(Mo[_0x284e01[_0x369e8a(0xe7)]['id']]){this[_0x369e8a(0x63b)]['ev'][_0x369e8a(0x270)](_0x369e8a(0x673),{'messages':[_0x284e01],'type':_0x369e8a(0x401)}),delete Mo[_0x284e01['key']['id']];return;}}),this[_0x547b97(0x282)][_0x547b97(0x77a)](_0x5e3e70,_0x390110);}if(_0x58bfb1[_0x547b97(0xfc)]){let _0x25055c=_0x58bfb1[_0x547b97(0xfc)];if(this[_0x547b97(0x26d)]?.[_0x547b97(0x6be)]&&_0x25055c['id']['includes'](_0x547b97(0x745)))return;this['sendDataWebhook'](_0x547b97(0xfc),_0x25055c);}if(_0x58bfb1[_0x547b97(0x333)]){let _0x4184c1=_0x58bfb1[_0x547b97(0x333)];this[_0x547b97(0x17e)][_0x547b97(0x333)](_0x4184c1);}if(_0x58bfb1['groups.update']){let _0x506ed9=_0x58bfb1[_0x547b97(0x267)];this[_0x547b97(0x17e)]['groups.update'](_0x506ed9);}if(_0x58bfb1[_0x547b97(0xd1)]){let _0xd06d4b=_0x58bfb1[_0x547b97(0xd1)];this['groupHandler'][_0x547b97(0xd1)](_0xd06d4b);}if(_0x58bfb1['chats.upsert']){let _0x2e7a9c=_0x58bfb1[_0x547b97(0x4b3)];this[_0x547b97(0x6f3)]['chats.upsert'](_0x2e7a9c,_0x390110);}if(_0x58bfb1[_0x547b97(0x434)]){let _0x471e33=_0x58bfb1[_0x547b97(0x434)];this[_0x547b97(0x6f3)][_0x547b97(0x434)](_0x471e33,_0x390110);}if(_0x58bfb1[_0x547b97(0x74e)]){let _0x43ac62=_0x58bfb1[_0x547b97(0x74e)];this[_0x547b97(0x6f3)]['chats.delete'](_0x43ac62);}if(_0x58bfb1['contacts.upsert']){let _0x1c6498=_0x58bfb1[_0x547b97(0x57d)];this[_0x547b97(0x714)][_0x547b97(0x57d)](_0x1c6498,_0x390110);}if(_0x58bfb1[_0x547b97(0x496)]){let _0x1b2b3d=_0x58bfb1[_0x547b97(0x496)];this[_0x547b97(0x714)][_0x547b97(0x496)](_0x1b2b3d,_0x390110);}}});}[a0_0x5d3ab0(0x77c)](_0x58facf){return new Promise(_0x1b793a=>setTimeout(_0x1b793a,_0x58facf));}[a0_0x5d3ab0(0x756)](_0x208a51){const _0xec9835=a0_0x5d3ab0;_0x208a51=_0x208a51[_0xec9835(0x143)](/\D/g,'');let _0x145782=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x208a51);if(_0x145782&&_0x145782[0x1]==='55'){let _0x65f0e2=_0x145782[0x2],_0xa1de15=_0x145782[0x3],_0x1397c4=_0x145782[0x4];if(parseInt(_0x65f0e2)>=0x1f&&_0xa1de15==='9')return _0x145782[0x1]+_0x65f0e2+_0x1397c4;}return _0x208a51;}[a0_0x5d3ab0(0x54b)](_0x33068a){const _0x25c11c=a0_0x5d3ab0;return _0x33068a['includes'](_0x25c11c(0x745))||_0x33068a[_0x25c11c(0x5c5)](_0x25c11c(0x17c))||_0x33068a[_0x25c11c(0x5c5)](_0x25c11c(0x529))?_0x33068a:(_0x33068a=_0x33068a?.[_0x25c11c(0x143)](/\s/g,'')[_0x25c11c(0x143)](/\+/g,'')['replace'](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0x25c11c(0x4f7)]('@')[0x0],_0x33068a[_0x25c11c(0x6d9)]>=0x12?(_0x33068a=_0x33068a[_0x25c11c(0x143)](/[^\d-]/g,''),_0x33068a+_0x25c11c(0x745)):(_0x33068a=_0x33068a[_0x25c11c(0x143)](/\D/g,''),_0x33068a+_0x25c11c(0x17c)));}async[a0_0x5d3ab0(0x178)](_0x5668bf){const _0x238d2f=a0_0x5d3ab0;let _0x506c18=(await this[_0x238d2f(0x17d)]({'numbers':[_0x5668bf[_0x238d2f(0x15d)]]}))[0x0];if(!_0x506c18[_0x238d2f(0x99)]&&!(0x0,f[_0x238d2f(0x5cc)])(_0x506c18[_0x238d2f(0x697)])&&!_0x506c18['jid'][_0x238d2f(0x5c5)](_0x238d2f(0x529)))throw new m(_0x506c18);let _0x310590=_0x506c18[_0x238d2f(0x697)];try{return await this[_0x238d2f(0x63b)][_0x238d2f(0x2a9)](_0x310590),await this[_0x238d2f(0x63b)]['sendPresenceUpdate'](_0x5668bf[_0x238d2f(0x419)],_0x310590),{'status':0xc8,'presence':_0x5668bf[_0x238d2f(0x419)]};}catch(_0x1446b3){let _0x1f7b37='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x7ba850=_0x1446b3 instanceof Error?_0x1446b3[_0x238d2f(0x5fc)]:typeof _0x1446b3==_0x238d2f(0x696)?JSON[_0x238d2f(0x61a)](_0x1446b3):_0x1446b3,_0x5d2f82=_0x1f7b37+':\x20'+_0x7ba850;throw this[_0x238d2f(0x2f0)][_0x238d2f(0x73d)](this[_0x238d2f(0x52c)]+'\x20('+this['instance'][_0x238d2f(0x67e)]+'):\x20'+_0x5d2f82),new m(_0x5d2f82);}}async['findAndUpdateCacheContact'](_0x1e46b3,_0x4a0dbe,_0x115a71,_0xc456d6=!0x0){const _0x5d9a5b=a0_0x5d3ab0;let _0x1b6707=await this[_0x5d9a5b(0x40c)][_0x5d9a5b(0x713)][_0x5d9a5b(0x639)]({'where':{'_id':_0x1e46b3}});if(!_0x1b6707&&!_0xc456d6)return;let _0x30c259={'lastUpdate':Date[_0x5d9a5b(0x10f)]()};if(_0x115a71||!_0x1b6707?.['lastUpdate']||Date['now']()-_0x1b6707[_0x5d9a5b(0x1ff)]>0x18*0x3c*0x3c*0x3e8)try{let _0x375211=(await this['profilePicture'](_0x1e46b3))[_0x5d9a5b(0x5ee)];_0x30c259[_0x5d9a5b(0x2df)]=_0x375211;}catch(_0x2afc06){let _0x5b2219='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x240993=_0x2afc06 instanceof Error?_0x2afc06[_0x5d9a5b(0x5fc)]:typeof _0x2afc06==_0x5d9a5b(0x696)?JSON['stringify'](_0x2afc06):_0x2afc06,_0x10135a=_0x5b2219+':\x20'+_0x240993;throw this[_0x5d9a5b(0x2f0)][_0x5d9a5b(0x73d)](this[_0x5d9a5b(0x52c)]+'\x20('+this['instance'][_0x5d9a5b(0x67e)]+'):\x20'+_0x10135a),new m(_0x10135a);}return _0x4a0dbe&&_0x1b6707?.[_0x5d9a5b(0x26b)]!==_0x4a0dbe&&(_0x30c259[_0x5d9a5b(0x26b)]=_0x4a0dbe),Object[_0x5d9a5b(0x43f)](_0x30c259)['length']>0x1&&(_0x1b6707?await this[_0x5d9a5b(0x40c)]['cacheContact'][_0x5d9a5b(0x2bc)]({'where':{'_id':_0x1e46b3}},_0x30c259):await this[_0x5d9a5b(0x40c)][_0x5d9a5b(0x713)][_0x5d9a5b(0x435)]([{'_id':_0x1e46b3,..._0x30c259}]),_0x1b6707={..._0x1b6707,..._0x30c259}),{'cachedContact':_0x1b6707};}async[a0_0x5d3ab0(0x1d4)](_0x44165a){const _0x6df76b=a0_0x5d3ab0;let _0x217c8f=this[_0x6df76b(0x54b)](_0x44165a);try{return{'wuid':_0x217c8f,'profilePictureUrl':await this['client'][_0x6df76b(0x5ee)](_0x217c8f,_0x6df76b(0x2e7))};}catch{return{'wuid':_0x217c8f,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x453757,_0x110a53,_0x53481e){const _0x2d4440=a0_0x5d3ab0;_0x53481e||(_0x53481e={});let _0xdf43e=(await this[_0x2d4440(0x17d)]({'numbers':[_0x453757]}))[0x0];if(!_0xdf43e[_0x2d4440(0x99)]&&!(0x0,f[_0x2d4440(0x5cc)])(_0xdf43e[_0x2d4440(0x697)])&&!_0xdf43e[_0x2d4440(0x697)]['includes'](_0x2d4440(0x529)))throw new m(_0xdf43e);let _0x5ce08c=_0xdf43e[_0x2d4440(0x697)];try{if(_0x53481e?.[_0x2d4440(0x307)]){await this['client'][_0x2d4440(0x2a9)](_0x5ce08c),await this[_0x2d4440(0x63b)]['sendPresenceUpdate'](_0x53481e?.[_0x2d4440(0x419)]??_0x2d4440(0x22a),_0x5ce08c);let _0x59154c=Math[_0x2d4440(0x4a7)](_0x53481e[_0x2d4440(0x307)],0x2710);await(0x0,f['delay'])(_0x59154c),await this[_0x2d4440(0x63b)][_0x2d4440(0x45a)](_0x2d4440(0x587),_0x5ce08c);}let _0x200d31=_0x53481e?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x27c0cd;if(_0x53481e?.[_0x2d4440(0x514)]){let _0x284a28=_0x53481e?.[_0x2d4440(0x514)],_0x223095=_0x284a28?.[_0x2d4440(0x5fc)]?_0x284a28:await this[_0x2d4440(0x3b3)](_0x284a28[_0x2d4440(0xe7)],!0x0);if(!_0x223095)throw _0x2d4440(0x5f9);_0x27c0cd=_0x223095;}let _0x2bc028;if((0x0,f[_0x2d4440(0x5cc)])(_0x5ce08c))try{let _0x23591c=(await this[_0x2d4440(0x40c)]['chat']['findOne']({'where':{'_id':_0x5ce08c}},this[_0x2d4440(0x63a)][_0x2d4440(0x67e)]))[_0x2d4440(0x4f3)];if(!_0x23591c)throw new U('Group\x20not\x20found');_0x53481e?.['mentions']&&(_0x53481e['mentions']?.[_0x2d4440(0xea)]?_0x2bc028=_0x23591c[_0x2d4440(0x19e)]['map'](_0x3725d7=>_0x3725d7['id']):_0x53481e[_0x2d4440(0xf4)]?.[_0x2d4440(0x656)]?.[_0x2d4440(0x6d9)]&&(_0x2bc028=_0x53481e['mentions'][_0x2d4440(0x656)][_0x2d4440(0x2de)](_0x28f089=>{const _0x4674d7=_0x2d4440;let _0x4d1ce5=this['createJid'](_0x28f089);return(0x0,f[_0x4674d7(0x5cc)])(_0x4d1ce5)?null:_0x4d1ce5;})));}catch{throw new U(_0x2d4440(0x2e9));}let _0x2550aa=await this[_0x2d4440(0x40c)][_0x2d4440(0x23a)][_0x2d4440(0x639)]({'where':{'_id':_0x5ce08c}},this[_0x2d4440(0x63a)][_0x2d4440(0x67e)]),_0xcd4de=await((async()=>{const _0x87a17a=_0x2d4440;let _0x42c139={'quoted':_0x27c0cd,'ephemeralExpiration':_0x2550aa?.['ephemeralExpiration']??0x0};if(!_0x110a53[_0x87a17a(0x567)]&&!_0x110a53[_0x87a17a(0x341)]&&!_0x110a53[_0x87a17a(0x757)]&&!_0x110a53[_0x87a17a(0x523)]&&_0x5ce08c!=='status@broadcast'&&!_0x110a53[_0x87a17a(0x567)])return await this[_0x87a17a(0x63b)][_0x87a17a(0xcd)](_0x5ce08c,{'forward':{'key':{'remoteJid':this[_0x87a17a(0x63a)]['wuid'],'fromMe':!0x0},'message':_0x110a53},'mentions':_0x2bc028},_0x42c139);if(_0x110a53['reactionMessage'])return await this[_0x87a17a(0x63b)][_0x87a17a(0xcd)](_0x5ce08c,{'react':{'text':_0x110a53['reactionMessage'][_0x87a17a(0x512)],'key':_0x110a53[_0x87a17a(0x4ad)][_0x87a17a(0xe7)]}},_0x42c139);if(_0x110a53[_0x87a17a(0x523)]){let _0x43b56a=_0x110a53[_0x87a17a(0x523)];return _0x53481e?.['changeVariables']&&(_0x43b56a=await this[_0x87a17a(0x61b)](_0x43b56a,_0x5ce08c)),await this[_0x87a17a(0x63b)]['sendMessage'](_0x5ce08c,{'text':_0x43b56a,'mentions':_0x2bc028,'linkPreview':_0x200d31},_0x42c139);}return _0x5ce08c===_0x87a17a(0x682)?await this['client'][_0x87a17a(0xcd)](_0x5ce08c,_0x110a53['status'][_0x87a17a(0x244)],{'backgroundColor':_0x110a53[_0x87a17a(0x489)][_0x87a17a(0x6ca)][_0x87a17a(0x653)],'font':_0x110a53[_0x87a17a(0x489)][_0x87a17a(0x6ca)][_0x87a17a(0x6b3)],'statusJidList':_0x110a53['status'][_0x87a17a(0x6ca)]['statusJidList']}):await this[_0x87a17a(0x63b)]['sendMessage'](_0x5ce08c,_0x110a53,_0x42c139);})()),_0x4af25b=(0x0,f['normalizeMessageContent'])(_0xcd4de['message']),_0x5f3ef1=(0x0,f[_0x2d4440(0x604)])(_0x4af25b),{message_normalized:_0x79108c}=this[_0x2d4440(0x1cf)](_0x4af25b,_0x5f3ef1,null),_0x520680={'_id':_0xcd4de[_0x2d4440(0xe7)]['id'],'key':_0xcd4de['key'],'pushName':_0xcd4de[_0x2d4440(0x701)],'isGroup':_0xcd4de[_0x2d4440(0xe7)][_0x2d4440(0x623)][_0x2d4440(0x30a)]('@g.us'),'profilePictureUrl':this[_0x2d4440(0x63a)]['profilePictureUrl'],'message':_0x4af25b,'messageType':_0x5f3ef1,'message_normalized':{'key':_0xcd4de[_0x2d4440(0xe7)],'pushName':_0xcd4de[_0x2d4440(0x701)],'messageTimestamp':_0xcd4de['messageTimestamp']&&_0xcd4de[_0x2d4440(0x5d7)][_0x2d4440(0x651)]()[_0x2d4440(0x6d9)]<0xd?_0xcd4de[_0x2d4440(0x5d7)]*0x3e8:_0xcd4de[_0x2d4440(0x5d7)]||null,'source':(0x0,f[_0x2d4440(0x1be)])(_0xcd4de['key']['id']),..._0x79108c},'messageTimestamp':_0xcd4de[_0x2d4440(0x5d7)]&&_0xcd4de['messageTimestamp'][_0x2d4440(0x651)]()[_0x2d4440(0x6d9)]<0xd?_0xcd4de['messageTimestamp']*0x3e8:_0xcd4de[_0x2d4440(0x5d7)]||null,'owner':this[_0x2d4440(0x63a)]['wuid'],'source':(0x0,f[_0x2d4440(0x1be)])(_0xcd4de[_0x2d4440(0xe7)]['id'])};return this['logger'][_0x2d4440(0x1c4)](this[_0x2d4440(0x52c)]+'\x20('+this[_0x2d4440(0x63a)][_0x2d4440(0x67e)]+_0x2d4440(0x273)+_0x520680[_0x2d4440(0xe7)]?.[_0x2d4440(0x623)][_0x2d4440(0x143)]('@s.whatsapp.net','')+_0x2d4440(0x3af)+_0x520680[_0x2d4440(0x2f8)]+')'),_0x520680[_0x2d4440(0x8b)]?.[_0x2d4440(0x512)]&&this[_0x2d4440(0x2f0)]['warn'](_0x520680[_0x2d4440(0x8b)]?.[_0x2d4440(0x512)]),this[_0x2d4440(0x71c)](_0x2d4440(0x25a),_0x520680),J(this[_0x2d4440(0x52c)],_0x2d4440(0x248),{'message':_0x520680}),this[_0x2d4440(0x139)](this[_0x2d4440(0x6eb)][_0x2d4440(0x2af)](_0x2d4440(0x78e)),_0x520680,_0x2d4440(0x1c3),_0x2550aa),await this[_0x2d4440(0x40c)][_0x2d4440(0x5fc)][_0x2d4440(0x435)]([_0x520680],this[_0x2d4440(0x63a)][_0x2d4440(0x67e)]),_0xcd4de;}catch(_0x1f3182){let _0x35f8cc=_0x2d4440(0x24a),_0x1dbc68=_0x1f3182 instanceof Error?_0x1f3182[_0x2d4440(0x5fc)]:typeof _0x1f3182==_0x2d4440(0x696)?JSON[_0x2d4440(0x61a)](_0x1f3182):_0x1f3182,_0x4a9b15=_0x35f8cc+':\x20'+_0x1dbc68;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x2d4440(0x63a)][_0x2d4440(0x67e)]+_0x2d4440(0x8c)+_0x4a9b15),new m(_0x4a9b15);}}get[a0_0x5d3ab0(0x54e)](){return this['stateConnection'];}async[a0_0x5d3ab0(0x4f8)](_0x2cb4b6){const _0xa9663d=a0_0x5d3ab0;let _0x2cf1ec=So,_0x4372f1=st;return _0x4372f1&&this[_0xa9663d(0x52c)][_0xa9663d(0x4ba)]()['includes'](_0x4372f1[_0xa9663d(0x4ba)]())&&(_0x2cb4b6[_0xa9663d(0x4f8)][_0xa9663d(0x512)]+='\x0a\x0a'+_0x2cf1ec),await this[_0xa9663d(0x52f)](_0x2cb4b6[_0xa9663d(0x15d)],{'conversation':_0x2cb4b6[_0xa9663d(0x4f8)][_0xa9663d(0x512)]},_0x2cb4b6?.['options']);}async[a0_0x5d3ab0(0x3a0)](_0x10e858){const _0x3b725c=a0_0x5d3ab0;if(!_0x10e858[_0x3b725c(0xcc)])throw new m(_0x3b725c(0x56c));if(!_0x10e858[_0x3b725c(0x244)])throw new m(_0x3b725c(0x506));if(_0x10e858[_0x3b725c(0x708)]){let _0x292428=await this['repository']['contact']['find']({'where':{}},this[_0x3b725c(0x63a)][_0x3b725c(0x67e)]);if(!_0x292428[_0x3b725c(0x6d9)])throw new m('Contacts\x20not\x20found');_0x10e858[_0x3b725c(0x527)]=_0x292428['filter'](_0x8a4d23=>_0x8a4d23[_0x3b725c(0x701)])[_0x3b725c(0x2de)](_0x52135e=>_0x52135e[_0x3b725c(0x4eb)]);}if(!_0x10e858[_0x3b725c(0x527)]?.[_0x3b725c(0x6d9)]&&!_0x10e858[_0x3b725c(0x708)])throw new m(_0x3b725c(0x38a));if(_0x10e858[_0x3b725c(0xcc)]===_0x3b725c(0x512)){if(!_0x10e858[_0x3b725c(0x653)])throw new m(_0x3b725c(0x6d3));if(!_0x10e858['font'])throw new m(_0x3b725c(0xae));return{'content':{'text':_0x10e858[_0x3b725c(0x244)]},'option':{'backgroundColor':_0x10e858[_0x3b725c(0x653)],'font':_0x10e858[_0x3b725c(0x6b3)],'statusJidList':_0x10e858[_0x3b725c(0x527)]}};}if(_0x10e858[_0x3b725c(0xcc)]===_0x3b725c(0x2e7))return{'content':{'image':{'url':_0x10e858[_0x3b725c(0x244)]},'caption':_0x10e858['caption']},'option':{'statusJidList':_0x10e858[_0x3b725c(0x527)]}};if(_0x10e858['type']===_0x3b725c(0x662))return{'content':{'video':{'url':_0x10e858['content']},'caption':_0x10e858[_0x3b725c(0x670)]},'option':{'statusJidList':_0x10e858[_0x3b725c(0x527)]}};if(_0x10e858[_0x3b725c(0xcc)]==='audio'){this['logger'][_0x3b725c(0x444)]('Type\x20defined\x20as\x20audio'),this['logger'][_0x3b725c(0x444)](_0x3b725c(0x3c4));let _0x2f9218=await this[_0x3b725c(0x2e5)](_0x10e858[_0x3b725c(0x244)]);if(typeof _0x2f9218==_0x3b725c(0x542)){this['logger']['verbose']('Audio\x20processed');let _0x4dcc6c=j['readFileSync'](_0x2f9218)[_0x3b725c(0x651)](_0x3b725c(0x36a));return{'content':{'audio':Buffer[_0x3b725c(0x2a4)](_0x4dcc6c,_0x3b725c(0x36a)),'ptt':!0x0,'mimetype':_0x3b725c(0x6ef)},'option':{'statusJidList':_0x10e858[_0x3b725c(0x527)]}};}else throw new I(_0x2f9218);}throw new m(_0x3b725c(0x6f0));}async[a0_0x5d3ab0(0x428)](_0xbae28c){const _0x3a797b=a0_0x5d3ab0;return await this[_0x3a797b(0x52f)]('status@broadcast',{'status':await this['formatStatusMessage'](_0xbae28c[_0x3a797b(0x428)])});}async[a0_0x5d3ab0(0x28d)](_0x709e52){const _0x12f753=a0_0x5d3ab0;try{let _0x15d97d=await(0x0,f[_0x12f753(0x584)])({[_0x709e52[_0x12f753(0x592)]]:(0x0,k[_0x12f753(0xd7)])(_0x709e52[_0x12f753(0x442)])?{'url':_0x709e52['media']}:Buffer[_0x12f753(0x2a4)](_0x709e52[_0x12f753(0x442)],'base64')},{'upload':this[_0x12f753(0x63b)][_0x12f753(0x588)]}),_0x555136=_0x709e52[_0x12f753(0x592)]+'Message';if(_0x709e52['mediatype']===_0x12f753(0x229)&&!_0x709e52[_0x12f753(0x788)]){let _0x4cf248=new RegExp(/.*\/(.+?)\./)['exec'](_0x709e52[_0x12f753(0x442)]);_0x709e52[_0x12f753(0x788)]=_0x4cf248?_0x4cf248[0x1]:null;}let _0x2a9129=(0x0,k[_0x12f753(0xd7)])(_0x709e52[_0x12f753(0x442)])?_0x709e52[_0x12f753(0x442)][_0x12f753(0x4f7)]('?')[0x0]:_0x709e52['media'],_0x1b62af;(0x0,k['isURL'])(_0x709e52[_0x12f753(0x442)])?_0x1b62af=(0x0,jt['getMIMEType'])(_0x2a9129):_0x709e52['fileName']&&_0x709e52[_0x12f753(0x788)][_0x12f753(0x5c5)]('.')?_0x1b62af=(0x0,jt[_0x12f753(0x5ae)])(_0x709e52['fileName']):_0x1b62af=(0x0,jt[_0x12f753(0x5ae)])(_0x709e52['media']);let _0x4b62d7=So,_0x1ab74b=st;return _0x1ab74b&&this[_0x12f753(0x52c)][_0x12f753(0x4ba)]()[_0x12f753(0x5c5)](_0x1ab74b[_0x12f753(0x4ba)]())&&(_0x709e52[_0x12f753(0x670)]+='\x0a\x0a'+_0x4b62d7),_0x15d97d[_0x555136][_0x12f753(0x670)]=_0x709e52?.[_0x12f753(0x670)],_0x15d97d[_0x555136][_0x12f753(0xf5)]=_0x1b62af,_0x15d97d[_0x555136]['fileName']=_0x709e52[_0x12f753(0x788)],_0x709e52[_0x12f753(0x592)]==='video'&&(_0x15d97d[_0x555136][_0x12f753(0x120)]=Uint8Array['from']((0x0,xe[_0x12f753(0x72b)])((0x0,F[_0x12f753(0x438)])(process[_0x12f753(0x483)](),_0x12f753(0x203)))),_0x15d97d[_0x555136][_0x12f753(0x2cf)]=!0x1),(0x0,f[_0x12f753(0x2fb)])('',{[_0x555136]:{..._0x15d97d[_0x555136]}},{'userJid':this['instance']['wuid']});}catch(_0x263465){let _0x4d8cad=_0x12f753(0x33b),_0x1d10b4=_0x263465 instanceof Error?_0x263465[_0x12f753(0x5fc)]:typeof _0x263465==_0x12f753(0x696)?JSON['stringify'](_0x263465):_0x263465,_0x4d70c2=_0x4d8cad+':\x20'+_0x1d10b4;throw this[_0x12f753(0x2f0)]['error'](this[_0x12f753(0x52c)]+'\x20('+this[_0x12f753(0x63a)][_0x12f753(0x67e)]+_0x12f753(0x8c)+_0x4d70c2),new I(_0x4d70c2);}}async['mediaMessage'](_0x7485d8){const _0x283941=a0_0x5d3ab0;let _0x872b93=await this[_0x283941(0x28d)](_0x7485d8['mediaMessage']);return await this[_0x283941(0x52f)](_0x7485d8[_0x283941(0x15d)],{..._0x872b93[_0x283941(0x5fc)]},_0x7485d8?.['options']);}async['convertToWebP'](_0xac81a0,_0xa9b95){const _0xaedead=a0_0x5d3ab0;try{this['logger'][_0xaedead(0x444)](_0xaedead(0x4cd));let _0x541323,_0x200386=_0xa9b95+'-'+new Date()[_0xaedead(0x87)]();this[_0xaedead(0x2f0)][_0xaedead(0x444)](_0xaedead(0x16f)+_0x200386);let _0x254f15=''+(0x0,F['join'])(this[_0xaedead(0x108)],_0x200386+_0xaedead(0x173));if(this[_0xaedead(0x2f0)][_0xaedead(0x444)](_0xaedead(0x561)+_0x254f15),(0x0,k[_0xaedead(0x78b)])(_0xac81a0)){this[_0xaedead(0x2f0)][_0xaedead(0x444)](_0xaedead(0x1f8));let _0x50037b=_0xac81a0[_0xaedead(0x143)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x182ac5=Buffer[_0xaedead(0x2a4)](_0x50037b,'base64');_0x541323=''+(0x0,F[_0xaedead(0x438)])(this[_0xaedead(0x108)],_0xaedead(0x2d0)+_0x200386+_0xaedead(0x5dd)),this['logger'][_0xaedead(0x444)](_0xaedead(0x325)+_0x541323),await(0x0,Lt[_0xaedead(0x4de)])(_0x182ac5)[_0xaedead(0x47f)](_0x541323),this['logger'][_0xaedead(0x444)](_0xaedead(0x177));}else{this[_0xaedead(0x2f0)]['verbose'](_0xaedead(0x327));let _0x2b7932=new Date()['getTime'](),_0x4a8128=_0xac81a0+'?timestamp='+_0x2b7932;this[_0xaedead(0x2f0)]['verbose']('including\x20timestamp\x20in\x20url:\x20'+_0x4a8128);let _0x447caa=await K[_0xaedead(0x4de)][_0xaedead(0x2af)](_0x4a8128,{'responseType':_0xaedead(0x29f)});this[_0xaedead(0x2f0)][_0xaedead(0x444)](_0xaedead(0x181));let _0x3ec816=Buffer['from'](_0x447caa[_0xaedead(0x634)],_0xaedead(0x159));_0x541323=''+(0x0,F[_0xaedead(0x438)])(this[_0xaedead(0x108)],_0xaedead(0x2d0)+_0x200386+_0xaedead(0x5dd)),this[_0xaedead(0x2f0)][_0xaedead(0x444)](_0xaedead(0x325)+_0x541323),await(0x0,Lt[_0xaedead(0x4de)])(_0x3ec816)[_0xaedead(0x47f)](_0x541323),this['logger']['verbose'](_0xaedead(0x177));}return await(0x0,Lt['default'])(_0x541323)[_0xaedead(0x41b)]()[_0xaedead(0x47f)](_0x254f15),this['logger']['verbose'](_0xaedead(0x3b5)),j[_0xaedead(0x5a3)](_0x541323),this[_0xaedead(0x2f0)]['verbose'](_0xaedead(0x1f9)),_0x254f15;}catch(_0x28a459){let _0x77472a=_0xaedead(0x725),_0x3a0683=_0x28a459 instanceof Error?_0x28a459[_0xaedead(0x5fc)]:typeof _0x28a459=='object'?JSON[_0xaedead(0x61a)](_0x28a459):_0x28a459,_0x3acc2d=_0x77472a+':\x20'+_0x3a0683;this[_0xaedead(0x2f0)][_0xaedead(0x73d)](this[_0xaedead(0x52c)]+'\x20('+this[_0xaedead(0x63a)][_0xaedead(0x67e)]+_0xaedead(0x8c)+_0x3acc2d);}}async[a0_0x5d3ab0(0x68a)](_0x4be4d2){const _0x7f191c=a0_0x5d3ab0;let _0x55d166=await this[_0x7f191c(0x216)](_0x4be4d2[_0x7f191c(0x1b2)][_0x7f191c(0x2e7)],_0x4be4d2[_0x7f191c(0x15d)]),_0x142a7d=await this[_0x7f191c(0x52f)](_0x4be4d2[_0x7f191c(0x15d)],{'sticker':{'url':_0x55d166}},_0x4be4d2?.[_0x7f191c(0x3da)]);return j[_0x7f191c(0x5a3)](_0x55d166),this[_0x7f191c(0x2f0)][_0x7f191c(0x444)](_0x7f191c(0x562)),_0x142a7d;}async['audioWhatsapp'](_0x4a1464){const _0x563406=a0_0x5d3ab0;if(this[_0x563406(0x2f0)]['verbose'](_0x563406(0x685)),!_0x4a1464['options']?.[_0x563406(0x571)]&&_0x4a1464[_0x563406(0x3da)]?.[_0x563406(0x571)]!==!0x1&&(_0x4a1464[_0x563406(0x3da)][_0x563406(0x571)]=!0x0),_0x4a1464[_0x563406(0x3da)]?.[_0x563406(0x571)]){let _0x3771f6=await this[_0x563406(0x2e5)](_0x4a1464[_0x563406(0x237)]['audio']);if(typeof _0x3771f6==_0x563406(0x542)){let _0x173d09=j['readFileSync'](_0x3771f6)[_0x563406(0x651)](_0x563406(0x36a));return this[_0x563406(0x52f)](_0x4a1464[_0x563406(0x15d)],{'audio':Buffer[_0x563406(0x2a4)](_0x173d09,_0x563406(0x36a)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':'recording','delay':_0x4a1464?.[_0x563406(0x3da)]?.[_0x563406(0x307)]});}else throw new I(_0x3771f6);}return await this['sendMessageWithTyping'](_0x4a1464['number'],{'audio':(0x0,k['isURL'])(_0x4a1464['audioMessage']['audio'])?{'url':_0x4a1464['audioMessage']['audio']}:Buffer[_0x563406(0x2a4)](_0x4a1464[_0x563406(0x237)][_0x563406(0x567)],_0x563406(0x36a)),'ptt':!0x0,'mimetype':_0x563406(0x70b)},{'presence':_0x563406(0x14b),'delay':_0x4a1464?.[_0x563406(0x3da)]?.[_0x563406(0x307)]});}async[a0_0x5d3ab0(0x2e5)](_0x25b14c){const _0x178f86=a0_0x5d3ab0;this[_0x178f86(0x2f0)][_0x178f86(0x444)](_0x178f86(0x3c4));let _0x293ab4=(0x0,k[_0x178f86(0xd7)])(_0x25b14c)?(0x0,Jt[_0x178f86(0x4e9)])(_0x178f86(0x332))[_0x178f86(0x2bc)](_0x25b14c)[_0x178f86(0x480)](_0x178f86(0x10a)):(0x0,Jt['createHash'])(_0x178f86(0x332))[_0x178f86(0x2bc)](_0x25b14c)[_0x178f86(0x480)](_0x178f86(0x10a)),_0x2f7d51=''+(0x0,F[_0x178f86(0x438)])(this[_0x178f86(0x108)],_0x293ab4+_0x178f86(0xec));if(j[_0x178f86(0x776)](_0x2f7d51))return this[_0x178f86(0x2f0)]['verbose']('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x2f7d51;let _0x407cf2=''+(0x0,F[_0x178f86(0x438)])(this[_0x178f86(0x108)],_0x178f86(0x2d0)+(0x0,Me['v4'])()+'.mp3');if((0x0,k[_0x178f86(0xd7)])(_0x25b14c)){let _0xdcc9fe=new Date()['getTime'](),_0x4d48a1=_0x25b14c+_0x178f86(0x195)+_0xdcc9fe,_0x152f4e=await K[_0x178f86(0x4de)][_0x178f86(0x2af)](_0x4d48a1,{'responseType':_0x178f86(0x29f)});j[_0x178f86(0x2e4)](_0x407cf2,_0x152f4e[_0x178f86(0x634)]);}else{let _0x48cfb4=Buffer[_0x178f86(0x2a4)](_0x25b14c,'base64');j[_0x178f86(0x2e4)](_0x407cf2,_0x48cfb4);}return new Promise((_0x2c256f,_0x4aafec)=>{const _0x39bf87=_0x178f86;(0x0,De[_0x39bf87(0x4ed)])(As[_0x39bf87(0x4de)][_0x39bf87(0x4c3)]+'\x20-i\x20'+_0x407cf2+_0x39bf87(0x2e6)+_0x2f7d51+_0x39bf87(0x14e),_0x1e7cf5=>{const _0x411d69=_0x39bf87;if(j[_0x411d69(0x5a3)](_0x407cf2),_0x1e7cf5){this[_0x411d69(0x2f0)][_0x411d69(0x444)]('Error\x20in\x20converting\x20audio'),_0x4aafec(_0x1e7cf5);return;}this['logger'][_0x411d69(0x444)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x2c256f(_0x2f7d51);});});}async[a0_0x5d3ab0(0x659)](_0x434a68){const _0x51c835=a0_0x5d3ab0;this[_0x51c835(0x2f0)][_0x51c835(0x444)](_0x51c835(0x3c4));let _0x324dca=(0x0,Jt[_0x51c835(0x4e9)])(_0x51c835(0x332))['update'](_0x434a68)['digest'](_0x51c835(0x10a)),_0x4895c7=''+(0x0,F[_0x51c835(0x438)])(this[_0x51c835(0x108)],_0x324dca+_0x51c835(0x4ee));if(j['existsSync'](_0x4895c7))return this[_0x51c835(0x2f0)][_0x51c835(0x444)](_0x51c835(0x74a)),F[_0x51c835(0x4de)]['basename'](_0x4895c7);let _0x561010=''+(0x0,F[_0x51c835(0x438)])(this['storePath'],_0x51c835(0x2d0)+_0x324dca+_0x51c835(0xec));if((0x0,k['isURL'])(_0x434a68)){let _0x15c054=new Date()[_0x51c835(0x87)](),_0x58c106=_0x434a68+'?timestamp='+_0x15c054,_0x2b205b=await K[_0x51c835(0x4de)][_0x51c835(0x2af)](_0x58c106,{'responseType':_0x51c835(0x29f)});j[_0x51c835(0x2e4)](_0x561010,_0x2b205b[_0x51c835(0x634)]);}else{let _0x51a6ce=Buffer[_0x51c835(0x2a4)](_0x434a68,'base64');j[_0x51c835(0x2e4)](_0x561010,_0x51a6ce);}return new Promise((_0x535e42,_0xe36737)=>{const _0x56d0af=_0x51c835;(0x0,De['exec'])(As[_0x56d0af(0x4de)][_0x56d0af(0x4c3)]+_0x56d0af(0x6c6)+_0x561010+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x4895c7+_0x56d0af(0x14e),_0x211537=>{const _0x3073a1=_0x56d0af;if(j[_0x3073a1(0x5a3)](_0x561010),_0x211537){this['logger'][_0x3073a1(0x444)](_0x3073a1(0x2b4)),_0xe36737(_0x211537);return;}this[_0x3073a1(0x2f0)]['verbose'](_0x3073a1(0x20c)),_0x535e42(F['default'][_0x3073a1(0x427)](_0x4895c7));});});}async[a0_0x5d3ab0(0x1e6)](_0x1db576){const _0x15426b=a0_0x5d3ab0;let _0x33be50={},_0x20a1a2=_0x15426b(0x34f);if(_0x1db576[_0x15426b(0x1e6)]?.[_0x15426b(0x3de)]){_0x20a1a2=_0x1db576[_0x15426b(0x1e6)][_0x15426b(0x3de)]?.[_0x15426b(0x592)][_0x15426b(0x343)]()??_0x15426b(0x34f),_0x33be50[_0x15426b(0x526)]=_0x20a1a2[_0x15426b(0x4ba)]()+_0x15426b(0x20d);let _0x37bd5e=await this[_0x15426b(0x28d)](_0x1db576[_0x15426b(0x1e6)][_0x15426b(0x3de)]);_0x33be50[_0x15426b(0x5fc)]=_0x37bd5e[_0x15426b(0x5fc)][_0x33be50[_0x15426b(0x526)]],_0x33be50[_0x15426b(0xa5)]='*'+_0x1db576[_0x15426b(0x1e6)]['title']+_0x15426b(0x627)+_0x1db576['buttonMessage'][_0x15426b(0x2e1)];}let _0x5001bd={'text':_0x1db576[_0x15426b(0x1e6)][_0x15426b(0x20b)]['map'](_0x190b1b=>_0x190b1b[_0x15426b(0x23e)]),'ids':_0x1db576[_0x15426b(0x1e6)]['buttons'][_0x15426b(0x2de)](_0x1a14da=>_0x1a14da[_0x15426b(0x563)])};if(!(0x0,k[_0x15426b(0x3d6)])(_0x5001bd[_0x15426b(0x512)])||!(0x0,k['arrayUnique'])(_0x5001bd[_0x15426b(0x4f5)]))throw new m(_0x15426b(0x545),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x15426b(0x52f)](_0x1db576[_0x15426b(0x15d)],{'buttonsMessage':{'text':_0x33be50?.[_0x15426b(0x526)]?void 0x0:_0x1db576['buttonMessage'][_0x15426b(0x353)],'contentText':_0x33be50?.[_0x15426b(0xa5)]??_0x1db576['buttonMessage'][_0x15426b(0x2e1)],'footerText':_0x1db576[_0x15426b(0x1e6)]?.['footerText'],'buttons':_0x1db576[_0x15426b(0x1e6)][_0x15426b(0x20b)]['map'](_0x3b1d83=>({'buttonText':{'displayText':_0x3b1d83['buttonText']},'buttonId':_0x3b1d83[_0x15426b(0x563)],'type':0x1})),'headerType':f[_0x15426b(0x363)][_0x15426b(0x20d)][_0x15426b(0x5bf)]['HeaderType'][_0x20a1a2],[_0x33be50?.['mediaKey']]:_0x33be50?.['message']}},_0x1db576?.['options']);}async[a0_0x5d3ab0(0x579)](_0x5c9695){const _0x4dfc32=a0_0x5d3ab0;return await this[_0x4dfc32(0x52f)](_0x5c9695['number'],{'locationMessage':{'degreesLatitude':_0x5c9695['locationMessage'][_0x4dfc32(0x126)],'degreesLongitude':_0x5c9695[_0x4dfc32(0x579)]['longitude'],'name':_0x5c9695[_0x4dfc32(0x579)]?.[_0x4dfc32(0x26b)],'address':_0x5c9695['locationMessage']?.[_0x4dfc32(0xd8)]}},_0x5c9695?.['options']);}async[a0_0x5d3ab0(0x433)](_0x520345){const _0x53ec8a=a0_0x5d3ab0;let _0x3b9cc8={},_0x3a9b55=async _0x36c841=>{const _0x36e9ba=a0_0xf130;let _0x4cd18e=_0x36e9ba(0x140)+_0x36c841[_0x36e9ba(0x328)]+'\x0aFN:'+_0x36c841['fullName']+'\x0a';_0x36c841[_0x36e9ba(0x284)]&&(_0x4cd18e+=_0x36e9ba(0x1e9)+_0x36c841[_0x36e9ba(0x284)]+';\x0a'),_0x36c841[_0x36e9ba(0x142)]&&(_0x4cd18e+=_0x36e9ba(0x5c4)+_0x36c841[_0x36e9ba(0x142)]+'\x0a'),_0x36c841['url']&&(_0x4cd18e+='URL:'+_0x36c841[_0x36e9ba(0x1f6)]+'\x0a');let _0x5969a7='',_0x199b89=0x1;if(_0x36c841['phoneNumber']){let _0x3ad8f6=_0x36c841['phoneNumber'][_0x36e9ba(0x4f7)]('|');for(let _0x49c5a1 of _0x3ad8f6){let _0x59857b=await this[_0x36e9ba(0x17d)]({'numbers':[_0x49c5a1]}),_0x1dccb7=(_0x59857b[_0x36e9ba(0x6d9)]>0x0?_0x59857b[0x0]['jid']:this[_0x36e9ba(0x54b)](_0x49c5a1))[_0x36e9ba(0x143)]('@s.whatsapp.net','');_0x5969a7+=_0x36e9ba(0x457)+_0x199b89+_0x36e9ba(0x654)+_0x1dccb7+':'+_0x49c5a1+_0x36e9ba(0x21e)+_0x199b89+_0x36e9ba(0x28e),_0x199b89++;}}return _0x4cd18e+=_0x5969a7+'END:VCARD',_0x4cd18e;};return _0x520345[_0x53ec8a(0x433)][_0x53ec8a(0x6d9)]===0x1?_0x3b9cc8[_0x53ec8a(0x433)]={'displayName':_0x520345['contactMessage'][0x0]['fullName'],'vcard':await _0x3a9b55(_0x520345['contactMessage'][0x0])}:_0x3b9cc8[_0x53ec8a(0x2eb)]={'displayName':_0x520345[_0x53ec8a(0x433)]['length']+_0x53ec8a(0x4f6),'contacts':await Promise[_0x53ec8a(0x68e)](_0x520345[_0x53ec8a(0x433)][_0x53ec8a(0x2de)](async _0x10fb25=>({'displayName':_0x10fb25[_0x53ec8a(0x328)],'vcard':await _0x3a9b55(_0x10fb25)})))},await this[_0x53ec8a(0x52f)](_0x520345[_0x53ec8a(0x15d)],{..._0x3b9cc8},_0x520345?.[_0x53ec8a(0x3da)]);}async[a0_0x5d3ab0(0x4ad)](_0x4fecce){const _0x1de788=a0_0x5d3ab0;return await this['sendMessageWithTyping'](_0x4fecce[_0x1de788(0x4ad)][_0x1de788(0xe7)][_0x1de788(0x623)],{'reactionMessage':{'key':_0x4fecce[_0x1de788(0x4ad)][_0x1de788(0xe7)],'text':_0x4fecce['reactionMessage'][_0x1de788(0x779)]}});}async[a0_0x5d3ab0(0x17d)](_0x6be56a){const _0x5d8ca8=a0_0x5d3ab0;let _0x16428d=[];for await(let _0x3de9eb of _0x6be56a[_0x5d8ca8(0x555)]){let _0x103aed=this[_0x5d8ca8(0x54b)](_0x3de9eb),_0x473a77=!0x1;try{if((0x0,f[_0x5d8ca8(0x5cc)])(_0x103aed)){let _0x15a297=(await this[_0x5d8ca8(0x40c)]['chat'][_0x5d8ca8(0x639)]({'where':{'_id':_0x103aed}},this[_0x5d8ca8(0x63a)][_0x5d8ca8(0x67e)]))['groupdata'];_0x473a77=!!_0x15a297?.['id']&&!!_0x15a297?.[_0x5d8ca8(0x149)],_0x16428d[_0x5d8ca8(0x6a7)](new ye(_0x15a297['id'],_0x473a77,_0x15a297?.[_0x5d8ca8(0x46a)]));}else{let _0x18346d=(await this[_0x5d8ca8(0x63b)][_0x5d8ca8(0x3ac)](_0x103aed))[0x0];_0x473a77=_0x18346d[_0x5d8ca8(0x99)],_0x16428d[_0x5d8ca8(0x6a7)](new ye(_0x18346d[_0x5d8ca8(0x697)],_0x473a77));}}catch{(0x0,f[_0x5d8ca8(0x5cc)])(_0x103aed)||await this[_0x5d8ca8(0x4bd)](_0x103aed,_0x473a77),_0x16428d[_0x5d8ca8(0x6a7)](new ye(_0x3de9eb,!0x1));}}return _0x16428d;}async['deleteImportedChat'](_0x340c0e,_0x1cf025){const _0x5ce077=a0_0x5d3ab0;try{await this[_0x5ce077(0x40c)][_0x5ce077(0x23a)][_0x5ce077(0x639)]({'where':{'_id':_0x340c0e,'imported':!0x0}},this[_0x5ce077(0x63a)][_0x5ce077(0x67e)])&&(_0x1cf025||(await this[_0x5ce077(0x40c)][_0x5ce077(0x23a)]['deleteChat'](_0x340c0e,this[_0x5ce077(0x63a)]['wuid']),this['logger'][_0x5ce077(0x403)](_0x5ce077(0x3ee)+_0x340c0e+_0x5ce077(0x150))));}catch(_0x5879ca){let _0x41b52=_0x5ce077(0x183),_0x21feb5=_0x5879ca instanceof Error?_0x5879ca[_0x5ce077(0x5fc)]:typeof _0x5879ca=='object'?JSON[_0x5ce077(0x61a)](_0x5879ca):_0x5879ca,_0xe04cff=_0x41b52+':\x20'+_0x21feb5;this[_0x5ce077(0x2f0)][_0x5ce077(0x73d)](this[_0x5ce077(0x52c)]+'\x20('+this[_0x5ce077(0x63a)][_0x5ce077(0x67e)]+_0x5ce077(0x8c)+_0xe04cff);}}async[a0_0x5d3ab0(0x13f)](_0x204fc){const _0x4fa356=a0_0x5d3ab0;try{let _0x2743d0=_0x204fc[_0x4fa356(0x517)]['filter'](_0x18b5b7=>(0x0,f['isJidGroup'])(_0x18b5b7[_0x4fa356(0x623)])||(0x0,f[_0x4fa356(0x782)])(_0x18b5b7[_0x4fa356(0x623)]))['map'](_0x462ac3=>({'remoteJid':_0x462ac3['remoteJid'],'fromMe':_0x462ac3[_0x4fa356(0x26e)],'id':_0x462ac3['id']}));await this[_0x4fa356(0x63b)][_0x4fa356(0x517)](_0x2743d0);let _0x1cb8f2=_0x2743d0[_0x4fa356(0x2de)](_0x5f23c5=>this[_0x4fa356(0x110)](_0x5f23c5,{'status':_0x4fa356(0x5c6),'owner':this[_0x4fa356(0x63a)]['wuid']})),_0x16312c=_0x2743d0[_0x4fa356(0x2de)](_0x232121=>this[_0x4fa356(0x40c)][_0x4fa356(0x23a)][_0x4fa356(0x63f)]({'where':{'_id':_0x232121[_0x4fa356(0x623)]}},{'unreadcount':0x0},this[_0x4fa356(0x63a)][_0x4fa356(0x67e)])),[_0xd59c8e,_0x110704]=await Promise['all']([Promise[_0x4fa356(0x68e)](_0x1cb8f2),Promise[_0x4fa356(0x68e)](_0x16312c)]);return _0x110704['filter'](_0x1c438b=>_0x1c438b!==null)[_0x4fa356(0x394)](_0x4f6068=>{const _0x52b448=_0x4fa356;J(this['instanceName'],_0x52b448(0x471),{'chat':_0x4f6068});}),{'message':'Read\x20messages','read':_0x4fa356(0x62e)};}catch(_0x13d640){let _0x506eb0=_0x4fa356(0x1c1),_0x58bf08=_0x13d640 instanceof Error?_0x13d640[_0x4fa356(0x5fc)]:typeof _0x13d640==_0x4fa356(0x696)?JSON[_0x4fa356(0x61a)](_0x13d640):_0x13d640,_0x1f9b6c=_0x506eb0+':\x20'+_0x58bf08;throw this[_0x4fa356(0x2f0)][_0x4fa356(0x73d)](this[_0x4fa356(0x52c)]+'\x20('+this[_0x4fa356(0x63a)][_0x4fa356(0x67e)]+_0x4fa356(0x8c)+_0x1f9b6c),new I(_0x1f9b6c);}}async[a0_0x5d3ab0(0x371)](_0x1abc79){const _0xc850b5=a0_0x5d3ab0;let _0x189613={'where':{'key':{'remoteJid':_0x1abc79}},'limit':0x1},_0x227a07=await this[_0xc850b5(0x15a)](_0x189613);return _0x227a07||(console[_0xc850b5(0x73d)](_0xc850b5(0x352),_0x1abc79),null);}async['archiveChat'](_0x44e4fb){const _0x2ad373=a0_0x5d3ab0;this[_0x2ad373(0x2f0)][_0x2ad373(0x444)](_0x2ad373(0x27f));try{let _0x40b2a1=_0x44e4fb[_0x2ad373(0x330)],_0xa62168=_0x44e4fb['chat'];if(!_0x40b2a1&&_0xa62168?_0x40b2a1=await this[_0x2ad373(0x371)](_0xa62168):(_0x40b2a1=_0x44e4fb['lastMessage'],_0x40b2a1[_0x2ad373(0x5d7)]=_0x40b2a1?.[_0x2ad373(0x5d7)]??Date[_0x2ad373(0x10f)](),_0xa62168=_0x40b2a1?.[_0x2ad373(0xe7)]?.[_0x2ad373(0x623)]),!_0x40b2a1||Object['keys'](_0x40b2a1)[_0x2ad373(0x6d9)]===0x0)throw new U(_0x2ad373(0x619));this[_0x2ad373(0x2f0)][_0x2ad373(0x444)](_0x2ad373(0x3ff)+_0xa62168);try{await this[_0x2ad373(0x63b)][_0x2ad373(0x379)]({'archive':_0x44e4fb['archive'],'lastMessages':[_0x40b2a1]},this[_0x2ad373(0x54b)](_0xa62168));}catch(_0x5b18dd){let _0x4a92aa=_0x2ad373(0x6ad)+_0xa62168,_0x4b303f=_0x5b18dd instanceof Error?_0x5b18dd[_0x2ad373(0x5fc)]:typeof _0x5b18dd==_0x2ad373(0x696)?JSON[_0x2ad373(0x61a)](_0x5b18dd):_0x5b18dd,_0x3101b8=_0x4a92aa+':\x20'+_0x4b303f;this[_0x2ad373(0x2f0)][_0x2ad373(0x73d)](this[_0x2ad373(0x52c)]+'\x20('+this[_0x2ad373(0x63a)][_0x2ad373(0x67e)]+_0x2ad373(0x8c)+_0x3101b8);}this[_0x2ad373(0x2f0)][_0x2ad373(0x444)](_0x2ad373(0x569)+_0xa62168);let _0x2ad263=await this[_0x2ad373(0x40c)]['chat']['updateOne']({'where':{'_id':_0x40b2a1?.[_0x2ad373(0xe7)]?.[_0x2ad373(0x623)]}},{'archived':_0x44e4fb[_0x2ad373(0x636)]},this['instance'][_0x2ad373(0x67e)]);return _0x2ad263?(this['logger'][_0x2ad373(0x444)](_0x2ad373(0x53d)+JSON[_0x2ad373(0x61a)](_0x2ad263)),J(this[_0x2ad373(0x52c)],'chats',{'chat':_0x2ad263})):this[_0x2ad373(0x2f0)][_0x2ad373(0x73d)](_0x2ad373(0x6ab)+_0xa62168),{'chatId':_0xa62168,'archived':_0x44e4fb[_0x2ad373(0x636)]};}catch(_0x1b05bc){let _0x2aa78f='Erro\x20ao\x20arquivar\x20chat',_0x58318a=_0x1b05bc instanceof Error?_0x1b05bc['message']:typeof _0x1b05bc==_0x2ad373(0x696)?JSON['stringify'](_0x1b05bc):_0x1b05bc,_0x32980d=_0x2aa78f+':\x20'+_0x58318a;throw this['logger'][_0x2ad373(0x73d)](this[_0x2ad373(0x52c)]+'\x20('+this[_0x2ad373(0x63a)][_0x2ad373(0x67e)]+'):\x20'+_0x32980d),new I(_0x32980d);}}async[a0_0x5d3ab0(0x4c5)](_0x3db820){const _0x4c8317=a0_0x5d3ab0;this['logger'][_0x4c8317(0x444)](_0x4c8317(0x572));try{let _0x2264bd=await this[_0x4c8317(0x371)](_0x3db820);if(!_0x2264bd||Object[_0x4c8317(0x43f)](_0x2264bd)[_0x4c8317(0x6d9)]===0x0)throw new U(_0x4c8317(0x619));let _0x17181f=_0x2264bd[0x0];this['logger'][_0x4c8317(0x444)](_0x4c8317(0x43c)+_0x3db820);try{await this[_0x4c8317(0x63b)][_0x4c8317(0x379)]({'delete':!0x0,'lastMessages':[{'key':_0x17181f[_0x4c8317(0xe7)],'messageTimestamp':_0x17181f[_0x4c8317(0x5d7)]}]},this[_0x4c8317(0x54b)](_0x3db820));}catch(_0x4c0d67){this[_0x4c8317(0x2f0)]['error'](_0x4c8317(0x6ad)+_0x3db820+':\x20'+_0x4c0d67[_0x4c8317(0x651)]());}this['logger']['verbose'](_0x4c8317(0x569)+_0x3db820);return;}catch(_0x375ca3){throw this[_0x4c8317(0x2f0)][_0x4c8317(0x73d)](_0x4c8317(0x4a8)+_0x375ca3['toString']()),new I({'archived':!0x1,'message':[_0x4c8317(0x4b6),_0x375ca3[_0x4c8317(0x651)]()]});}}async[a0_0x5d3ab0(0x202)](_0x13a180){const _0x1a5d3b=a0_0x5d3ab0;try{let _0x5fc94=await this[_0x1a5d3b(0x63b)][_0x1a5d3b(0xcd)](_0x13a180['remoteJid'],{'delete':_0x13a180});try{let _0x39e310=await this[_0x1a5d3b(0x110)](_0x13a180,{'status':_0x1a5d3b(0x603),'owner':this[_0x1a5d3b(0x63a)][_0x1a5d3b(0x67e)]});this[_0x1a5d3b(0x2f0)][_0x1a5d3b(0x444)](this[_0x1a5d3b(0x52c)]+'\x20('+this[_0x1a5d3b(0x63a)][_0x1a5d3b(0x67e)]+_0x1a5d3b(0x11f)+_0x39e310);}catch(_0x1bc44d){console[_0x1a5d3b(0x73d)]('Error\x20updating\x20message\x20status:',_0x1bc44d);}return _0x5fc94;}catch(_0x1149ac){throw new I(_0x1a5d3b(0xf0),_0x1149ac?.[_0x1a5d3b(0x651)]());}}async[a0_0x5d3ab0(0x521)](_0x2d4d75){const _0x50386a=a0_0x5d3ab0;try{let _0x3269d9=_0x2d4d75?.[_0x50386a(0x5fc)]?_0x2d4d75:await this['getMessage'](_0x2d4d75[_0x50386a(0xe7)],!0x0);for(let _0x54b7c2 of ya)_0x3269d9[_0x50386a(0x5fc)][_0x54b7c2]&&(_0x3269d9[_0x50386a(0x5fc)]=_0x3269d9[_0x50386a(0x5fc)][_0x54b7c2][_0x50386a(0x5fc)]);let _0x5afd0b,_0x276bfd;for(let _0x4b3e35 of wa)if(_0x5afd0b=_0x3269d9[_0x50386a(0x5fc)][_0x4b3e35],_0x5afd0b){_0x276bfd=_0x4b3e35;break;}if(!_0x5afd0b)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x5afd0b['mediaKey']==_0x50386a(0x696)&&(_0x3269d9['message']=JSON['parse'](JSON[_0x50386a(0x61a)](_0x3269d9[_0x50386a(0x5fc)])));let _0x16404d=await(0x0,f[_0x50386a(0x722)])({'key':_0x3269d9?.[_0x50386a(0xe7)],'message':_0x3269d9?.[_0x50386a(0x5fc)]},'buffer',{},{'logger':(0x0,kt['default'])({'level':_0x50386a(0x29a)}),'reuploadRequest':this[_0x50386a(0x63b)][_0x50386a(0x443)]});if(!(_0x16404d instanceof Buffer))throw new Error(_0x50386a(0x51a));let _0x10c348=this[_0x50386a(0x6eb)]['get'](_0x50386a(0x78e)),_0x21b7a2,_0x196310;if(_0x5afd0b['fileName'])_0x21b7a2=_0x5afd0b[_0x50386a(0x788)];else{let _0x5ec0d9=_0x5afd0b[_0x50386a(0xf5)]?.[_0x50386a(0x4c1)](/\/(\w+)/),_0x5b9890=_0x5ec0d9?_0x5ec0d9[0x1]:null;if(!_0x5b9890)throw new Error(_0x50386a(0x2bd));_0x21b7a2=(0x0,Me['v4'])()+'.'+_0x5b9890;}_0x276bfd==='audioMessage'?_0x196310=_0x50386a(0x69f)+await this[_0x50386a(0x659)](_0x16404d[_0x50386a(0x651)]('base64')):(await this[_0x50386a(0xf1)](_0x16404d,_0x21b7a2),_0x196310=_0x50386a(0x69f)+_0x21b7a2);let _0x41584b=this[_0x50386a(0x6eb)][_0x50386a(0x2af)](_0x50386a(0x40e))[_0x50386a(0x1c6)];if(!_0x41584b){let _0xa9af3e=this[_0x50386a(0x6eb)][_0x50386a(0x2af)](_0x50386a(0x426));_0x41584b=_0x50386a(0x9c)+(_0xa9af3e&&_0xa9af3e['FULLCHAIN'][_0x50386a(0x4f7)]('/')[0x4]);}_0x196310=''+_0x41584b+_0x196310;let _0x165e2c=0xc*0x3c*0x3c*0x3e8,_0xfb3526={'where':{'_id':_0x3269d9[_0x50386a(0xe7)]['id']}},_0x307c12={'message_normalized.fileUrl':_0x196310,'message_normalized.expires_fileUrl':Date[_0x50386a(0x10f)]()+_0x165e2c};try{let _0x453bc9=await this[_0x50386a(0x40c)]['message'][_0x50386a(0x2bc)](_0xfb3526,_0x307c12,this[_0x50386a(0x63a)][_0x50386a(0x67e)]);_0x453bc9&&J(this[_0x50386a(0x52c)],_0x50386a(0x248),{'message':_0x453bc9});}catch(_0x4f3ef0){let _0x2c5d9f=_0x50386a(0x1e8),_0x110a7f=_0x4f3ef0 instanceof Error?_0x4f3ef0['message']:typeof _0x4f3ef0==_0x50386a(0x696)?JSON[_0x50386a(0x61a)](_0x4f3ef0):_0x4f3ef0,_0xd2fb60=_0x2c5d9f+':\x20'+_0x110a7f;this[_0x50386a(0x2f0)][_0x50386a(0x73d)](this[_0x50386a(0x52c)]+'\x20('+this[_0x50386a(0x63a)][_0x50386a(0x67e)]+_0x50386a(0x8c)+_0xd2fb60);}return{'mediaType':_0x276bfd,'fileName':_0x5afd0b[_0x50386a(0x788)],'caption':_0x5afd0b[_0x50386a(0x670)],'size':{'fileLength':_0x5afd0b[_0x50386a(0x64a)],'height':_0x5afd0b['height'],'width':_0x5afd0b[_0x50386a(0x405)]},'mimetype':_0x5afd0b[_0x50386a(0xf5)],'base64':_0x16404d[_0x50386a(0x651)](_0x50386a(0x36a)),'fileUrl':_0x196310,'expires_fileUrl':Date[_0x50386a(0x10f)]()+_0x165e2c};}catch(_0x8a1ad9){let _0x516249=_0x50386a(0x421),_0x275b1e=_0x8a1ad9 instanceof Error?_0x8a1ad9[_0x50386a(0x5fc)]:typeof _0x8a1ad9==_0x50386a(0x696)?JSON['stringify'](_0x8a1ad9):_0x8a1ad9,_0x14f938=_0x516249+':\x20'+_0x275b1e;throw this[_0x50386a(0x2f0)][_0x50386a(0x73d)](this[_0x50386a(0x52c)]+'\x20('+this[_0x50386a(0x63a)][_0x50386a(0x67e)]+_0x50386a(0x8c)+_0x14f938),new m(_0x14f938);}}async[a0_0x5d3ab0(0xf1)](_0x2f8e5e,_0x3090cd){const _0x2ceb53=a0_0x5d3ab0;let _0x492d2d=F[_0x2ceb53(0x4de)][_0x2ceb53(0x438)](__dirname,_0x2ceb53(0x276));j[_0x2ceb53(0x776)](_0x492d2d)||j[_0x2ceb53(0x5cd)](_0x492d2d,{'recursive':!0x0});let _0xc42876=F[_0x2ceb53(0x4de)][_0x2ceb53(0x438)](_0x492d2d,_0x3090cd);return new Promise((_0x35cc13,_0x499710)=>{j['writeFile'](_0xc42876,_0x2f8e5e,_0xd63568=>{const _0x3c00c8=a0_0xf130;_0xd63568?(this[_0x3c00c8(0x2f0)][_0x3c00c8(0x73d)]('Error\x20writing\x20file:\x20'+(_0xd63568 instanceof Error?_0xd63568[_0x3c00c8(0x5fc)]:JSON[_0x3c00c8(0x61a)](_0xd63568,null,0x2))),_0x499710(_0xd63568)):(this[_0x3c00c8(0x2f0)][_0x3c00c8(0x5a2)](_0x3c00c8(0x21c)+_0xc42876),_0x35cc13(_0xc42876));});});}async[a0_0x5d3ab0(0x377)](_0x29be60){const _0x392ee4=a0_0x5d3ab0;return await this['repository']['contact']['find'](_0x29be60,this['instance'][_0x392ee4(0x67e)]);}async['fetchLabels'](){const _0x24463e=a0_0x5d3ab0;return await this[_0x24463e(0x40c)]['label'][_0x24463e(0x299)]({'where':{}},this[_0x24463e(0x63a)][_0x24463e(0x67e)]);}async[a0_0x5d3ab0(0x15a)](_0x350ce8){const _0x4fb423=a0_0x5d3ab0;return await this['repository'][_0x4fb423(0x5fc)][_0x4fb423(0x299)](_0x350ce8,this[_0x4fb423(0x63a)]['wuid']);}async[a0_0x5d3ab0(0x2c0)](){const _0x33046b=a0_0x5d3ab0;return this[_0x33046b(0x40c)][_0x33046b(0x23a)][_0x33046b(0x59b)](this[_0x33046b(0x63a)][_0x33046b(0x67e)]),this['repository'][_0x33046b(0x23a)][_0x33046b(0x92)](this['instance'][_0x33046b(0x67e)]),this[_0x33046b(0x40c)][_0x33046b(0x23a)]['updateMissingTags'](this[_0x33046b(0x63a)][_0x33046b(0x67e)]),this[_0x33046b(0x40c)]['chat'][_0x33046b(0x5a6)](this[_0x33046b(0x63a)]['wuid']),await this['repository'][_0x33046b(0x23a)]['find']({'where':{}},this[_0x33046b(0x63a)][_0x33046b(0x67e)]);}async[a0_0x5d3ab0(0x176)](_0x1bbe49){const _0x3b35ce=a0_0x5d3ab0;try{if(!Array[_0x3b35ce(0x577)](_0x1bbe49)||_0x1bbe49[_0x3b35ce(0x6d9)]===0x0)throw new Error(_0x3b35ce(0x264));let _0x338e65=[],_0x7a83ca=[];for(let _0x464a42 of _0x1bbe49){if(_0x464a42['_id'])_0x464a42[_0x3b35ce(0x4eb)]=this[_0x3b35ce(0x54b)](_0x464a42['_id']);else continue;await this[_0x3b35ce(0x40c)][_0x3b35ce(0x23a)]['findOne']({'where':{'_id':_0x464a42[_0x3b35ce(0x4eb)]}},this[_0x3b35ce(0x63a)][_0x3b35ce(0x67e)])?_0x7a83ca[_0x3b35ce(0x6a7)]({'_id':_0x464a42[_0x3b35ce(0x4eb)],'leadInfo':_0x464a42['leadInfo'],'owner':this[_0x3b35ce(0x63a)][_0x3b35ce(0x67e)]}):_0x338e65[_0x3b35ce(0x6a7)]({'_id':_0x464a42[_0x3b35ce(0x4eb)],'owner':this['instance'][_0x3b35ce(0x67e)],'leadInfo':_0x464a42[_0x3b35ce(0x314)],'imported':!0x0});}return _0x7a83ca[_0x3b35ce(0x6d9)]>0x0&&await this[_0x3b35ce(0x40c)][_0x3b35ce(0x23a)]['updateMany'](_0x7a83ca[_0x3b35ce(0x2de)](_0x4a0ba7=>({'query':{'where':{'_id':_0x4a0ba7[_0x3b35ce(0x4eb)],'owner':this[_0x3b35ce(0x63a)][_0x3b35ce(0x67e)]}},'update':_0x4a0ba7}))),_0x338e65['length']>0x0&&await this['repository']['chat'][_0x3b35ce(0x1e1)](_0x338e65,this[_0x3b35ce(0x63a)][_0x3b35ce(0x67e)]),{'updated':_0x7a83ca[_0x3b35ce(0x6d9)],'inserted':_0x338e65[_0x3b35ce(0x6d9)]};}catch(_0x35ec5d){let _0x4e4498='Erro\x20ao\x20importar\x20chats',_0x5f3ab2=_0x35ec5d instanceof Error?_0x35ec5d[_0x3b35ce(0x5fc)]:typeof _0x35ec5d==_0x3b35ce(0x696)?JSON['stringify'](_0x35ec5d):_0x35ec5d,_0x4aa7f0=_0x4e4498+':\x20'+_0x5f3ab2;throw this[_0x3b35ce(0x2f0)][_0x3b35ce(0x73d)](this['instanceName']+'\x20('+this[_0x3b35ce(0x63a)][_0x3b35ce(0x67e)]+_0x3b35ce(0x8c)+_0x4aa7f0),new m(_0x4aa7f0);}}async['importChats'](_0x2e6ea2){const _0x6e7696=a0_0x5d3ab0;try{if(!Array[_0x6e7696(0x577)](_0x2e6ea2)||_0x2e6ea2['length']===0x0)throw new Error(_0x6e7696(0x264));let _0x2d5652=0x64,_0x1da726=0x0;for(let _0x4d4118=0x0;_0x4d4118<_0x2e6ea2[_0x6e7696(0x6d9)];_0x4d4118+=_0x2d5652){let _0x2f9989=_0x2e6ea2['slice'](_0x4d4118,_0x4d4118+_0x2d5652),{updated:_0x3bdb3b}=await this[_0x6e7696(0x4fd)](_0x2f9989);_0x1da726+=_0x3bdb3b;}return{'updated':_0x1da726};}catch(_0x9ce9fe){let _0x2082d5=_0x6e7696(0x785),_0x2711ea=_0x9ce9fe instanceof Error?_0x9ce9fe[_0x6e7696(0x5fc)]:typeof _0x9ce9fe=='object'?JSON[_0x6e7696(0x61a)](_0x9ce9fe):_0x9ce9fe,_0x40cd43=_0x2082d5+':\x20'+_0x2711ea;throw this[_0x6e7696(0x2f0)]['error'](this[_0x6e7696(0x52c)]+'\x20('+this[_0x6e7696(0x63a)][_0x6e7696(0x67e)]+_0x6e7696(0x8c)+_0x40cd43),new m(_0x40cd43);}}async[a0_0x5d3ab0(0x4fd)](_0x410dc8){const _0x11267b=a0_0x5d3ab0;try{let _0x2772b7=await this[_0x11267b(0x40c)][_0x11267b(0x2c9)][_0x11267b(0x299)]({'where':{}},this[_0x11267b(0x63a)][_0x11267b(0x67e)]),_0x52f72f=new Set(_0x2772b7[_0x11267b(0x2de)](_0x372f24=>_0x372f24[_0x11267b(0x4eb)])),_0x220a42=[],_0x502762=[];for(let _0x1732a8 of _0x410dc8){if(!_0x1732a8[_0x11267b(0x4eb)])continue;_0x1732a8[_0x11267b(0x4eb)]=this['createJid'](_0x1732a8[_0x11267b(0x4eb)]);let _0x232c36=await this['repository'][_0x11267b(0x23a)][_0x11267b(0x639)]({'where':{'_id':_0x1732a8[_0x11267b(0x4eb)]}},this['instance']['wuid']),_0x4b66d7={};if(Object['entries'](_0x1732a8[_0x11267b(0x314)])['forEach'](([_0x1604e7,_0x449218])=>{const _0x21b3a9=_0x11267b;_0x4b66d7[_0x21b3a9(0x2d5)+_0x1604e7]=_0x449218;}),_0x232c36&&!_0x232c36['imported']){let _0xd856b2=(_0x1732a8[_0x11267b(0x314)][_0x11267b(0x590)]||[])[_0x11267b(0x589)](_0x2df5b7=>_0x52f72f[_0x11267b(0x70f)](_0x2df5b7)),_0x5d238f=new Set(_0x232c36['leadInfo']['etiquetas']||[]),_0x22e4ee=_0xd856b2[_0x11267b(0x589)](_0x754ab3=>!_0x5d238f[_0x11267b(0x70f)](_0x754ab3)),_0x450f61=[..._0x5d238f][_0x11267b(0x589)](_0x1630bb=>!_0xd856b2['includes'](_0x1630bb));_0x502762[_0x11267b(0x6a7)](..._0x22e4ee[_0x11267b(0x2de)](_0x28e3c1=>this[_0x11267b(0x62a)](_0x28e3c1,_0x1732a8[_0x11267b(0x4eb)]))),_0x502762[_0x11267b(0x6a7)](..._0x450f61[_0x11267b(0x2de)](_0x150da7=>this[_0x11267b(0x6a6)](_0x150da7,_0x1732a8[_0x11267b(0x4eb)]))),_0x1732a8[_0x11267b(0x314)][_0x11267b(0x590)]=_0xd856b2,_0x220a42[_0x11267b(0x6a7)]({'query':{'where':{'_id':_0x1732a8[_0x11267b(0x4eb)],'owner':this['instance'][_0x11267b(0x67e)]}},'update':_0x4b66d7});}else _0x4b66d7[_0x11267b(0x554)]=!0x0,_0x220a42['push']({'query':{'where':{'_id':_0x1732a8[_0x11267b(0x4eb)],'owner':this[_0x11267b(0x63a)][_0x11267b(0x67e)]}},'update':_0x4b66d7});}let _0x6d9e86=await this[_0x11267b(0x40c)][_0x11267b(0x23a)]['updateMany'](_0x220a42);return await Promise[_0x11267b(0x68e)](_0x502762),{'updated':_0x6d9e86};}catch(_0x504c97){let _0x466a01=_0x11267b(0x785),_0x5333e0=_0x504c97 instanceof Error?_0x504c97[_0x11267b(0x5fc)]:typeof _0x504c97==_0x11267b(0x696)?JSON[_0x11267b(0x61a)](_0x504c97):_0x504c97,_0xe91218=_0x466a01+':\x20'+_0x5333e0;throw this['logger'][_0x11267b(0x73d)](this['instanceName']+'\x20('+this[_0x11267b(0x63a)]['wuid']+_0x11267b(0x8c)+_0xe91218),new m(_0xe91218);}}async[a0_0x5d3ab0(0x404)](){return await this['client']['fetchPrivacySettings']();}async[a0_0x5d3ab0(0x275)](_0x256fa1){const _0x1bb630=a0_0x5d3ab0;try{return await this['client'][_0x1bb630(0x51d)](_0x256fa1[_0x1bb630(0x1a1)][_0x1bb630(0x354)]),await this['client'][_0x1bb630(0xc0)](_0x256fa1[_0x1bb630(0x1a1)]['profile']),await this[_0x1bb630(0x63b)][_0x1bb630(0x214)](_0x256fa1[_0x1bb630(0x1a1)][_0x1bb630(0x489)]),await this['client'][_0x1bb630(0x1e7)](_0x256fa1[_0x1bb630(0x1a1)]['online']),await this[_0x1bb630(0x63b)]['updateLastSeenPrivacy'](_0x256fa1[_0x1bb630(0x1a1)][_0x1bb630(0x418)]),await this[_0x1bb630(0x63b)][_0x1bb630(0x6a8)](_0x256fa1[_0x1bb630(0x1a1)][_0x1bb630(0x4ce)]),this[_0x1bb630(0x63b)]?.['ws']?.[_0x1bb630(0x452)](),{'update':'success','data':{'readreceipts':_0x256fa1[_0x1bb630(0x1a1)][_0x1bb630(0x354)],'profile':_0x256fa1[_0x1bb630(0x1a1)]['profile'],'status':_0x256fa1[_0x1bb630(0x1a1)][_0x1bb630(0x489)],'online':_0x256fa1['privacySettings'][_0x1bb630(0x5fa)],'last':_0x256fa1[_0x1bb630(0x1a1)][_0x1bb630(0x418)],'groupadd':_0x256fa1[_0x1bb630(0x1a1)][_0x1bb630(0x4ce)]}};}catch(_0x42d943){let _0x2e31d5=_0x1bb630(0x58a),_0xf7221a=_0x42d943 instanceof Error?_0x42d943[_0x1bb630(0x5fc)]:typeof _0x42d943=='object'?JSON[_0x1bb630(0x61a)](_0x42d943):_0x42d943,_0x2d6582=_0x2e31d5+':\x20'+_0xf7221a;throw this[_0x1bb630(0x2f0)]['error'](this[_0x1bb630(0x52c)]+'\x20('+this['instance'][_0x1bb630(0x67e)]+'):\x20'+_0x2d6582),new m(_0x2d6582);}}async[a0_0x5d3ab0(0x5d6)](_0x208022){const _0x50c45c=a0_0x5d3ab0;let _0x481a0a=(_0x208022?this['createJid'](_0x208022):this[_0x50c45c(0x63b)]?.[_0x50c45c(0x31a)]?.['id'])[_0x50c45c(0x143)](/:\d{1,2}@/g,'@');this['logger'][_0x50c45c(0x444)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x481a0a);let _0x1bc235=await this[_0x50c45c(0x40c)][_0x50c45c(0x2ef)][_0x50c45c(0x639)]({'where':{'_id':_0x481a0a}},this[_0x50c45c(0x63a)]['wuid']),_0x35cddf=_0x1bc235?_0x1bc235[_0x50c45c(0x701)]:null;try{let _0x45f1bf=(await this[_0x50c45c(0x17d)]({'numbers':[_0x481a0a]}))?.[_0x50c45c(0x136)](),_0x4ef7ba=(await this[_0x50c45c(0x43a)](_0x481a0a,null,!0x1))[_0x50c45c(0x1ef)]['pictureUrl'],_0x347859=await this['getStatus'](_0x45f1bf?.['jid']),_0x191454=await this[_0x50c45c(0x2d1)](_0x45f1bf?.[_0x50c45c(0x697)]),_0x264bfd=(await this[_0x50c45c(0x43a)](_0x481a0a,null,!0x1))[_0x50c45c(0x1ef)][_0x50c45c(0x26b)],_0x1055a2=await this[_0x50c45c(0x40c)][_0x50c45c(0x23a)][_0x50c45c(0x639)]({'where':{'_id':_0x481a0a}},this['instance']['wuid']),_0x2499ff={'imagechat':_0x4ef7ba,'contactname':_0x35cddf||null,'pushName':_0x264bfd,'status':_0x347859?.[_0x50c45c(0x489)],'isBusiness':_0x191454[_0x50c45c(0x102)],'email':_0x191454?.[_0x50c45c(0x142)],'description':_0x191454?.[_0x50c45c(0x2e1)],'website':_0x191454?.[_0x50c45c(0x3c8)]?.[_0x50c45c(0x136)](),'lastcache':Date[_0x50c45c(0x10f)](),'imported':!_0x1055a2},_0x5d3232=await this['repository'][_0x50c45c(0x23a)][_0x50c45c(0x63f)]({'where':{'_id':_0x481a0a}},_0x2499ff,this[_0x50c45c(0x63a)]['wuid']),_0x33cf4b={'owner':this[_0x50c45c(0x63a)]['wuid'],'_id':_0x481a0a,'profilePictureUrl':_0x4ef7ba,'status':_0x347859?.[_0x50c45c(0x489)]};return this['repository']['contact']['update']([_0x33cf4b],this['instance'][_0x50c45c(0x67e)]),_0x5d3232&&J(this[_0x50c45c(0x52c)],_0x50c45c(0x471),{'chat':_0x5d3232}),{'wuid':_0x45f1bf?.[_0x50c45c(0x697)]||_0x481a0a,'name':_0x45f1bf?.[_0x50c45c(0x26b)],'pushName':_0x264bfd,'numberExists':_0x45f1bf?.[_0x50c45c(0x99)],'picture':_0x4ef7ba,'status':_0x347859?.[_0x50c45c(0x489)],'isBusiness':_0x191454[_0x50c45c(0x102)],'email':_0x191454?.[_0x50c45c(0x142)],'description':_0x191454?.['description'],'website':_0x191454?.[_0x50c45c(0x3c8)]?.[_0x50c45c(0x136)]()};}catch(_0x36dc64){return this[_0x50c45c(0x2f0)][_0x50c45c(0x73d)](_0x50c45c(0xe0)+(_0x36dc64 instanceof Error?_0x36dc64[_0x50c45c(0x5fc)]:JSON['stringify'](_0x36dc64,null,0x2))),{};}}async[a0_0x5d3ab0(0x2d1)](_0x5202c5){const _0x3f1886=a0_0x5d3ab0;this[_0x3f1886(0x2f0)][_0x3f1886(0x444)](_0x3f1886(0x6ec));try{let _0x3fe339=_0x5202c5?this['createJid'](_0x5202c5):this['instance'][_0x3f1886(0x67e)],_0x3eda07=await this[_0x3f1886(0x63b)][_0x3f1886(0x2ad)](_0x3fe339);return this['logger'][_0x3f1886(0x444)](_0x3f1886(0x3cf)),_0x3eda07?(this['logger'][_0x3f1886(0x444)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x3eda07}):{'isBusiness':!0x1,'message':_0x3f1886(0x3e6),...(await this[_0x3f1886(0x17d)]({'numbers':[_0x3fe339]}))?.[_0x3f1886(0x136)]()};}catch(_0x1a1171){let _0x9d38c3=_0x3f1886(0x612),_0x1e35d0=_0x1a1171 instanceof Error?_0x1a1171['message']:typeof _0x1a1171==_0x3f1886(0x696)?JSON[_0x3f1886(0x61a)](_0x1a1171):_0x1a1171,_0x4b4bb2=_0x9d38c3+':\x20'+_0x1e35d0;throw this['logger'][_0x3f1886(0x73d)](this[_0x3f1886(0x52c)]+'\x20('+this[_0x3f1886(0x63a)][_0x3f1886(0x67e)]+'):\x20'+_0x4b4bb2),new I(_0x4b4bb2);}}async[a0_0x5d3ab0(0x702)](_0x3507de){const _0x243f82=a0_0x5d3ab0;let _0xaccac=this[_0x243f82(0x54b)](_0x3507de);try{return{'wuid':_0xaccac,'status':(await this[_0x243f82(0x63b)]['fetchStatus'](_0xaccac))?.['status']};}catch{return{'wuid':_0xaccac,'status':null};}}async[a0_0x5d3ab0(0x223)](_0x42326e){const _0x433511=a0_0x5d3ab0;try{return await this[_0x433511(0x63b)]['updateProfileName'](_0x42326e),{'update':_0x433511(0x62e)};}catch(_0xd0ef1c){let _0x101451=_0x433511(0x306),_0x2682fc=_0xd0ef1c instanceof Error?_0xd0ef1c[_0x433511(0x5fc)]:typeof _0xd0ef1c==_0x433511(0x696)?JSON[_0x433511(0x61a)](_0xd0ef1c):_0xd0ef1c,_0xbc9594=_0x101451+':\x20'+_0x2682fc;throw this[_0x433511(0x2f0)][_0x433511(0x73d)](this[_0x433511(0x52c)]+'\x20('+this[_0x433511(0x63a)][_0x433511(0x67e)]+_0x433511(0x8c)+_0xbc9594),new I(_0xbc9594);}}async[a0_0x5d3ab0(0x5e9)](_0x4ea993){const _0x227a14=a0_0x5d3ab0;try{return await this[_0x227a14(0x63b)][_0x227a14(0x5e9)](_0x4ea993),{'update':'success'};}catch(_0x3cdcf6){let _0x2fc321=_0x227a14(0x3c3),_0x159468=_0x3cdcf6 instanceof Error?_0x3cdcf6[_0x227a14(0x5fc)]:typeof _0x3cdcf6=='object'?JSON[_0x227a14(0x61a)](_0x3cdcf6):_0x3cdcf6,_0x51b36d=_0x2fc321+':\x20'+_0x159468;throw this[_0x227a14(0x2f0)][_0x227a14(0x73d)](this[_0x227a14(0x52c)]+'\x20('+this['instance'][_0x227a14(0x67e)]+_0x227a14(0x8c)+_0x51b36d),new I(_0x51b36d);}}async['updateProfilePicture'](_0x440f45){const _0x124563=a0_0x5d3ab0;try{let _0x110732;if((0x0,k[_0x124563(0xd7)])(_0x440f45)){let _0x5739c7=new Date()['getTime'](),_0x564111=_0x440f45+_0x124563(0x195)+_0x5739c7;_0x110732=(await K['default']['get'](_0x564111,{'responseType':_0x124563(0x29f)}))[_0x124563(0x634)];}else{if((0x0,k[_0x124563(0x78b)])(_0x440f45))_0x110732=Buffer['from'](_0x440f45,_0x124563(0x36a));else throw new m(_0x124563(0x44d));}return await this[_0x124563(0x63b)][_0x124563(0x3ed)](this['instance'][_0x124563(0x67e)],_0x110732),{'update':_0x124563(0x62e)};}catch(_0x27a253){let _0x5c4457=_0x124563(0x635),_0x574b3e=_0x27a253 instanceof Error?_0x27a253[_0x124563(0x5fc)]:typeof _0x27a253==_0x124563(0x696)?JSON[_0x124563(0x61a)](_0x27a253):_0x27a253,_0x28bf6f=_0x5c4457+':\x20'+_0x574b3e;throw this[_0x124563(0x2f0)][_0x124563(0x73d)](this['instanceName']+'\x20('+this[_0x124563(0x63a)]['wuid']+_0x124563(0x8c)+_0x28bf6f),new I(_0x28bf6f);}}async['removeProfilePicture'](){const _0x76e25e=a0_0x5d3ab0;try{return await this[_0x76e25e(0x63b)]['removeProfilePicture'](this[_0x76e25e(0x63a)]['wuid']),{'update':'success'};}catch(_0x19d6c1){let _0x2a2891='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x4d7034=_0x19d6c1 instanceof Error?_0x19d6c1['message']:typeof _0x19d6c1==_0x76e25e(0x696)?JSON[_0x76e25e(0x61a)](_0x19d6c1):_0x19d6c1,_0xfb53a6=_0x2a2891+':\x20'+_0x4d7034;throw this[_0x76e25e(0x2f0)][_0x76e25e(0x73d)](this[_0x76e25e(0x52c)]+'\x20('+this['instance'][_0x76e25e(0x67e)]+_0x76e25e(0x8c)+_0xfb53a6),new I(_0xfb53a6);}}async[a0_0x5d3ab0(0x432)](_0x458acb){const _0x375622=a0_0x5d3ab0;try{let _0x1ab03f=(await this[_0x375622(0x17d)]({'numbers':_0x458acb['participants']}))['filter'](_0x422510=>_0x422510['exists'])[_0x375622(0x2de)](_0x5dc89=>_0x5dc89['jid']),{id:_0x1d70c6}=await this[_0x375622(0x63b)]['groupCreate'](_0x458acb['subject'],_0x1ab03f);_0x458acb?.[_0x375622(0x2e1)]&&await this['client']['groupUpdateDescription'](_0x1d70c6,_0x458acb[_0x375622(0x2e1)]);let _0x5d0ee3=await this[_0x375622(0x63b)][_0x375622(0x3f7)](_0x1d70c6);return _0x5d0ee3[_0x375622(0x387)]=[],{'metadata':_0x5d0ee3};}catch(_0x13ca99){let _0x5e4c5a=_0x375622(0x34a),_0x4b37e1=_0x13ca99 instanceof Error?_0x13ca99[_0x375622(0x5fc)]:typeof _0x13ca99==_0x375622(0x696)?JSON[_0x375622(0x61a)](_0x13ca99):_0x13ca99,_0x3074bc=_0x5e4c5a+':\x20'+_0x4b37e1;throw this[_0x375622(0x2f0)][_0x375622(0x73d)](this[_0x375622(0x52c)]+'\x20('+this['instance'][_0x375622(0x67e)]+_0x375622(0x8c)+_0x3074bc),new I(_0x3074bc);}}async[a0_0x5d3ab0(0x57f)](_0x6d8c3){const _0x3aaa65=a0_0x5d3ab0;try{let _0x254bbb;if((0x0,k[_0x3aaa65(0xd7)])(_0x6d8c3[_0x3aaa65(0x2e7)])){let _0x25b2c9=new Date()[_0x3aaa65(0x87)](),_0x2ad0d7=_0x6d8c3[_0x3aaa65(0x2e7)]+'?timestamp='+_0x25b2c9;_0x254bbb=(await K['default'][_0x3aaa65(0x2af)](_0x2ad0d7,{'responseType':_0x3aaa65(0x29f)}))[_0x3aaa65(0x634)];}else{if((0x0,k[_0x3aaa65(0x78b)])(_0x6d8c3['image']))_0x254bbb=Buffer[_0x3aaa65(0x2a4)](_0x6d8c3[_0x3aaa65(0x2e7)],_0x3aaa65(0x36a));else throw new m(_0x3aaa65(0x44d));}return await this['client'][_0x3aaa65(0x3ed)](_0x6d8c3[_0x3aaa65(0x45f)],_0x254bbb),{'update':_0x3aaa65(0x62e)};}catch(_0x16f6bd){let _0x4d2ead=_0x3aaa65(0xab),_0x167921=_0x16f6bd instanceof Error?_0x16f6bd[_0x3aaa65(0x5fc)]:typeof _0x16f6bd==_0x3aaa65(0x696)?JSON[_0x3aaa65(0x61a)](_0x16f6bd):_0x16f6bd,_0x4f27f7=_0x4d2ead+':\x20'+_0x167921;throw this[_0x3aaa65(0x2f0)][_0x3aaa65(0x73d)](this[_0x3aaa65(0x52c)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x4f27f7),new I(_0x4f27f7);}}async[a0_0x5d3ab0(0x265)](_0x557dc5){const _0x5e9f2e=a0_0x5d3ab0;try{if(_0x557dc5[_0x5e9f2e(0x23d)]===!0x0&&await this[_0x5e9f2e(0x63b)][_0x5e9f2e(0x6ed)](_0x557dc5[_0x5e9f2e(0x45f)],_0x5e9f2e(0x5c0)),_0x557dc5[_0x5e9f2e(0x23d)]===!0x1&&await this['client'][_0x5e9f2e(0x6ed)](_0x557dc5[_0x5e9f2e(0x45f)],_0x5e9f2e(0x6a4)),_0x557dc5[_0x5e9f2e(0x23f)]===!0x0&&await this[_0x5e9f2e(0x63b)][_0x5e9f2e(0x6ed)](_0x557dc5[_0x5e9f2e(0x45f)],'announcement'),_0x557dc5[_0x5e9f2e(0x23f)]===!0x1&&await this[_0x5e9f2e(0x63b)]['groupSettingUpdate'](_0x557dc5['groupJid'],_0x5e9f2e(0x49d)),_0x557dc5[_0x5e9f2e(0xc1)]===!0x0&&await this[_0x5e9f2e(0x63b)][_0x5e9f2e(0x4ca)](_0x557dc5['groupJid'],_0x5e9f2e(0x37b)),_0x557dc5[_0x5e9f2e(0xc1)]===!0x1&&await this[_0x5e9f2e(0x63b)]['groupMemberAddMode'](_0x557dc5[_0x5e9f2e(0x45f)],_0x5e9f2e(0x1f1)),_0x557dc5[_0x5e9f2e(0x4fb)]===!0x0&&await this[_0x5e9f2e(0x63b)][_0x5e9f2e(0x3c6)](_0x557dc5[_0x5e9f2e(0x45f)],'on'),_0x557dc5['joinApprovalMode']===!0x1&&await this[_0x5e9f2e(0x63b)][_0x5e9f2e(0x3c6)](_0x557dc5[_0x5e9f2e(0x45f)],_0x5e9f2e(0x6cf)),typeof _0x557dc5[_0x5e9f2e(0x6d2)]<'u'&&_0x557dc5[_0x5e9f2e(0x6d2)]!==null&&await this[_0x5e9f2e(0x63b)][_0x5e9f2e(0x470)](_0x557dc5[_0x5e9f2e(0x45f)],_0x557dc5[_0x5e9f2e(0x6d2)]),_0x557dc5['name']&&await this[_0x5e9f2e(0x63b)][_0x5e9f2e(0x317)](_0x557dc5[_0x5e9f2e(0x45f)],_0x557dc5[_0x5e9f2e(0x26b)]),_0x557dc5['description']&&await this[_0x5e9f2e(0x63b)][_0x5e9f2e(0x222)](_0x557dc5[_0x5e9f2e(0x45f)],_0x557dc5['description']),_0x557dc5[_0x5e9f2e(0x2e7)]){let _0x105f53;if((0x0,k[_0x5e9f2e(0xd7)])(_0x557dc5[_0x5e9f2e(0x2e7)])){let _0x4007a3=new Date()[_0x5e9f2e(0x87)](),_0x36a06e=_0x557dc5[_0x5e9f2e(0x2e7)]+_0x5e9f2e(0x195)+_0x4007a3;_0x105f53=(await K[_0x5e9f2e(0x4de)][_0x5e9f2e(0x2af)](_0x36a06e,{'responseType':_0x5e9f2e(0x29f)}))[_0x5e9f2e(0x634)];}else{if((0x0,k[_0x5e9f2e(0x78b)])(_0x557dc5[_0x5e9f2e(0x2e7)]))_0x105f53=Buffer[_0x5e9f2e(0x2a4)](_0x557dc5['image'],_0x5e9f2e(0x36a));else throw new m(_0x5e9f2e(0x44d));}await this[_0x5e9f2e(0x63b)][_0x5e9f2e(0x3ed)](_0x557dc5[_0x5e9f2e(0x45f)],_0x105f53);}return await this[_0x5e9f2e(0x5cf)]({'groupJid':_0x557dc5[_0x5e9f2e(0x45f)]});}catch(_0x296901){let _0x157b50=_0x5e9f2e(0x74b),_0x4aaf37=_0x296901 instanceof Error?_0x296901[_0x5e9f2e(0x5fc)]:typeof _0x296901==_0x5e9f2e(0x696)?JSON[_0x5e9f2e(0x61a)](_0x296901):_0x296901,_0x543aa4=_0x157b50+':\x20'+_0x4aaf37;throw this['logger'][_0x5e9f2e(0x73d)](this[_0x5e9f2e(0x52c)]+'\x20('+this[_0x5e9f2e(0x63a)][_0x5e9f2e(0x67e)]+'):\x20'+_0x543aa4),new I(_0x543aa4);}}async[a0_0x5d3ab0(0x2ff)](_0x2390ad){const _0x3afbee=a0_0x5d3ab0;try{if(_0x2390ad[_0x3afbee(0x218)]==='approve'||_0x2390ad[_0x3afbee(0x218)]===_0x3afbee(0x338)){let _0x47c40c=_0x2390ad[_0x3afbee(0x19e)]['map'](_0x215cf2=>this[_0x3afbee(0x54b)](_0x215cf2));await this[_0x3afbee(0x63b)]['groupRequestParticipantsUpdate'](_0x2390ad[_0x3afbee(0x45f)],_0x47c40c,_0x2390ad[_0x3afbee(0x218)]);}else{if(_0x2390ad[_0x3afbee(0x218)]==='add'){let _0x51638e=(await this[_0x3afbee(0x17d)]({'numbers':_0x2390ad['participants']}))[_0x3afbee(0x589)](_0x2b66a0=>_0x2b66a0[_0x3afbee(0x99)])['map'](_0x3c84ff=>this[_0x3afbee(0x54b)](_0x3c84ff['jid']));if(_0x51638e[_0x3afbee(0x6d9)]===0x0)throw new m(_0x3afbee(0x5e2));await this['client']['groupParticipantsUpdate'](_0x2390ad[_0x3afbee(0x45f)],_0x51638e,'add');}else{let _0x10db8c=_0x2390ad[_0x3afbee(0x19e)]['map'](_0x5f19eb=>this[_0x3afbee(0x54b)](_0x5f19eb));await this['client']['groupParticipantsUpdate'](_0x2390ad[_0x3afbee(0x45f)],_0x10db8c,_0x2390ad[_0x3afbee(0x218)]);}}return await this[_0x3afbee(0x5cf)]({'groupJid':_0x2390ad[_0x3afbee(0x45f)]});}catch(_0x4e85f8){let _0x1e2cf9=_0x3afbee(0x165),_0x57d711=_0x4e85f8 instanceof Error?_0x4e85f8['message']:typeof _0x4e85f8==_0x3afbee(0x696)?JSON['stringify'](_0x4e85f8):_0x4e85f8,_0x53d35c=_0x1e2cf9+':\x20'+_0x57d711;throw this[_0x3afbee(0x2f0)][_0x3afbee(0x73d)](this[_0x3afbee(0x52c)]+'\x20('+this[_0x3afbee(0x63a)][_0x3afbee(0x67e)]+_0x3afbee(0x8c)+_0x53d35c),new m(_0x53d35c);}}async[a0_0x5d3ab0(0x640)](_0x3d9dd6){const _0x1eff50=a0_0x5d3ab0;try{return await this[_0x1eff50(0x63b)]['groupGetInviteInfo'](_0x3d9dd6[_0x1eff50(0x504)]);}catch(_0x437d85){let _0x2feed5=_0x1eff50(0x6ac),_0x3971a3=_0x437d85 instanceof Error?_0x437d85['message']:typeof _0x437d85==_0x1eff50(0x696)?JSON[_0x1eff50(0x61a)](_0x437d85):_0x437d85,_0x37d176=_0x2feed5+':\x20'+_0x3971a3;throw this[_0x1eff50(0x2f0)][_0x1eff50(0x73d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1eff50(0x8c)+_0x37d176),new m(_0x37d176);}}async[a0_0x5d3ab0(0x5cf)](_0x5626b9,_0x25d39f=a0_0x5d3ab0(0x6bf)){const _0x3a54ec=a0_0x5d3ab0;try{let _0x270a9b=await this['repository']['chat'][_0x3a54ec(0x639)]({'where':{'_id':_0x5626b9[_0x3a54ec(0x45f)]}},this['instance']['wuid']),_0x5bfbce=_0x270a9b?_0x270a9b[_0x3a54ec(0x4f3)]:null,_0x2104e9=0x18*0x3c*0x3c*0x3e8;if(!_0x5bfbce||_0x5bfbce[_0x3a54ec(0x1ff)]&&Date[_0x3a54ec(0x10f)]()-_0x5bfbce[_0x3a54ec(0x1ff)]>_0x2104e9){let _0x3986c7=await this[_0x3a54ec(0x63b)]['groupMetadata'](_0x5626b9[_0x3a54ec(0x45f)]);if(_0x3986c7['subjectTime']=_0x3986c7?.['subjectTime']&&_0x3986c7[_0x3a54ec(0xef)]['toString']()['length']<0xd?_0x3986c7?.[_0x3a54ec(0xef)]*0x3e8:_0x3986c7?.[_0x3a54ec(0xef)]||null,_0x3986c7['creation']=_0x3986c7?.[_0x3a54ec(0x18a)]&&_0x3986c7[_0x3a54ec(0x18a)][_0x3a54ec(0x651)]()[_0x3a54ec(0x6d9)]<0xd?_0x3986c7?.['creation']*0x3e8:_0x3986c7?.[_0x3a54ec(0x18a)]||null,_0x5bfbce={..._0x3986c7,'lastUpdate':Date[_0x3a54ec(0x10f)]()},!_0x3986c7)return;}let _0x5d8ece=_0x5bfbce[_0x3a54ec(0x19e)][_0x3a54ec(0x3a4)](_0x5d9df4=>_0x5d9df4['id']===this[_0x3a54ec(0x63a)][_0x3a54ec(0x67e)]+'@s.whatsapp.net'&&_0x5d9df4[_0x3a54ec(0x424)]!=null);!_0x5bfbce[_0x3a54ec(0x504)]&&_0x5d8ece&&(_0x5bfbce[_0x3a54ec(0x504)]=(await this[_0x3a54ec(0x504)](_0x5626b9,!0x1))[_0x3a54ec(0x69d)]);let _0x2625ef=(!_0x5bfbce['announce']||_0x5d8ece)&&(!_0x5bfbce[_0x3a54ec(0x560)]||_0x5bfbce[_0x3a54ec(0x560)]&&_0x5bfbce[_0x3a54ec(0x1aa)]&&_0x5d8ece);_0x5bfbce['isAdmin']=_0x5d8ece,_0x5bfbce[_0x3a54ec(0x149)]=_0x2625ef;let _0x145bda=[];if(_0x5d8ece&&_0x5bfbce[_0x3a54ec(0x4fb)])try{_0x145bda=await this['client']['groupRequestParticipantsList'](_0x5626b9['groupJid']),_0x5bfbce[_0x3a54ec(0x2d8)]=Date[_0x3a54ec(0x10f)]();}catch(_0x1cba5e){this[_0x3a54ec(0x2f0)][_0x3a54ec(0x444)](this[_0x3a54ec(0x52c)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x5626b9['groupJid']+':\x20'+(_0x1cba5e instanceof Error?_0x1cba5e[_0x3a54ec(0x5fc)]:JSON['stringify'](_0x1cba5e,null,0x2)));}try{_0x5bfbce[_0x3a54ec(0x2e7)]=(await this['findAndUpdateCacheContact'](_0x5626b9[_0x3a54ec(0x45f)],null,!0x0))[_0x3a54ec(0x1ef)][_0x3a54ec(0x2df)];}catch(_0x559b98){this[_0x3a54ec(0x2f0)][_0x3a54ec(0x444)](this['instanceName']+'\x20('+this[_0x3a54ec(0x63a)][_0x3a54ec(0x67e)]+_0x3a54ec(0x15b)+_0x5626b9['groupJid']+':\x20'+(_0x559b98 instanceof Error?_0x559b98[_0x3a54ec(0x5fc)]:JSON[_0x3a54ec(0x61a)](_0x559b98,null,0x2)));}let _0x1668f5=_0x5bfbce['participants']['map'](_0x450741=>_0x450741['id']),_0x9cbbf7=_0x145bda['map'](_0x5bb84e=>_0x5bb84e[_0x3a54ec(0x697)]),_0x5d3097=await this[_0x3a54ec(0x40c)][_0x3a54ec(0x713)][_0x3a54ec(0x69c)]([..._0x1668f5,..._0x9cbbf7]);_0x5bfbce[_0x3a54ec(0x19e)]=_0x5bfbce[_0x3a54ec(0x19e)][_0x3a54ec(0x2de)](_0x4e3468=>{const _0x4967d8=_0x3a54ec;let _0x18a92b=_0x5d3097['find'](_0x31af23=>_0x31af23[_0x4967d8(0x4eb)]===_0x4e3468['id']);return{'id':_0x4e3468['id'],'isAdmin':[_0x4967d8(0x424),'superadmin'][_0x4967d8(0x5c5)](_0x4e3468['admin']),'admin':_0x4e3468[_0x4967d8(0x424)],'pushName':_0x18a92b?.['name'],'profilePictureUrl':_0x18a92b?.[_0x4967d8(0x2df)]};}),_0x5bfbce[_0x3a54ec(0x387)]=_0x145bda[_0x3a54ec(0x2de)](_0x7b3871=>{const _0x5baa4b=_0x3a54ec;let _0x35f59f=_0x5d3097[_0x5baa4b(0x299)](_0x44fe9c=>_0x44fe9c['_id']===_0x7b3871[_0x5baa4b(0x697)]);return{'id':_0x7b3871['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x35f59f?.[_0x5baa4b(0x26b)],'profilePictureUrl':_0x35f59f?.[_0x5baa4b(0x2df)],'request_method':_0x7b3871[_0x5baa4b(0x5f1)],'request_time':_0x7b3871[_0x5baa4b(0xf7)]};});let _0x1f67c0=await this[_0x3a54ec(0x40c)][_0x3a54ec(0x23a)][_0x3a54ec(0x63f)]({'where':{'_id':_0x5626b9[_0x3a54ec(0x45f)]}},{'imagechat':_0x5bfbce[_0x3a54ec(0x2e7)],'name':_0x5bfbce[_0x3a54ec(0x46a)],'lastcache':Date[_0x3a54ec(0x10f)](),'groupdata':_0x5bfbce},this[_0x3a54ec(0x63a)][_0x3a54ec(0x67e)]);return J(this[_0x3a54ec(0x52c)],_0x3a54ec(0x471),{'chat':_0x1f67c0}),{'metadata':_0x5bfbce};}catch(_0x4757d2){if(_0x25d39f===_0x3a54ec(0x736))return;throw new U(_0x3a54ec(0x564),_0x4757d2[_0x3a54ec(0x5fc)]['toString']());}}async[a0_0x5d3ab0(0x313)](){const _0x149b1d=a0_0x5d3ab0;try{let _0x458085=[],_0x5d6ffc=await this[_0x149b1d(0x63b)][_0x149b1d(0x285)](),_0x3e3476=Object[_0x149b1d(0x6d1)](_0x5d6ffc),_0x3447a6=_0x3e3476['filter'](_0x19a290=>(0x0,f[_0x149b1d(0x5cc)])(_0x19a290?.['id']))['map'](async _0x25e1ad=>{const _0x8bff5=_0x149b1d;try{return await this[_0x8bff5(0x63b)][_0x8bff5(0x5ee)](_0x25e1ad['id'],'preview');}catch(_0x563cc9){return this['logger'][_0x8bff5(0x444)](this['instanceName']+'\x20('+this[_0x8bff5(0x63a)][_0x8bff5(0x67e)]+_0x8bff5(0x15b)+_0x25e1ad['id']+':\x20'+(_0x563cc9 instanceof Error?_0x563cc9[_0x8bff5(0x5fc)]:JSON[_0x8bff5(0x61a)](_0x563cc9,null,0x2))),null;}}),_0x49584f=await Promise[_0x149b1d(0x68e)](_0x3447a6);for(let _0x4f98a4=0x0;_0x4f98a4<_0x3e3476[_0x149b1d(0x6d9)];_0x4f98a4++){let _0xfcaa4f=_0x3e3476[_0x4f98a4];(0x0,f[_0x149b1d(0x5cc)])(_0xfcaa4f?.['id'])&&(_0x458085[_0x149b1d(0x6a7)]({'groupJid':_0xfcaa4f?.['id'],'subject':_0xfcaa4f?.[_0x149b1d(0x46a)],'subjectOwner':_0xfcaa4f?.['subjectOwner']?.[_0x149b1d(0x4f7)]('@')[0x0],'subjectTime':_0xfcaa4f?.[_0x149b1d(0xef)],'creation':_0xfcaa4f?.[_0x149b1d(0x18a)],'size':_0xfcaa4f?.[_0x149b1d(0x19e)]?.[_0x149b1d(0x6d9)],'owner':_0xfcaa4f?.[_0x149b1d(0x36e)]?.[_0x149b1d(0x4f7)]('@')[0x0],'desc':_0xfcaa4f?.[_0x149b1d(0x6d4)],'restrict':_0xfcaa4f?.[_0x149b1d(0x23d)],'announce':_0xfcaa4f?.[_0x149b1d(0x23f)],'image':_0x49584f[_0x4f98a4],'isCommunity':_0xfcaa4f?.[_0x149b1d(0x560)],'joinApprovalMode':_0xfcaa4f?.[_0x149b1d(0x4fb)],'memberCanAddParticipant':_0xfcaa4f?.[_0x149b1d(0xc1)],'participants':_0xfcaa4f?.[_0x149b1d(0x19e)],'descOwner':_0xfcaa4f?.[_0x149b1d(0x54a)],'descId':_0xfcaa4f?.[_0x149b1d(0x1ce)],'memberAddMode':_0xfcaa4f?.['memberAddMode'],'isCommunityAnnounce':_0xfcaa4f?.['isCommunityAnnounce'],'ephemeralDuration':_0xfcaa4f?.[_0x149b1d(0x450)]||0x0,'author':_0xfcaa4f?.['author']}),this['updateChatGroupData'](_0x3e3476[_0x4f98a4]));}return _0x458085;}catch(_0x4a0428){let _0x4815c7='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x34a586=_0x4a0428 instanceof Error?_0x4a0428[_0x149b1d(0x5fc)]:typeof _0x4a0428==_0x149b1d(0x696)?JSON['stringify'](_0x4a0428):_0x4a0428,_0x415d37=_0x4815c7+':\x20'+_0x34a586;throw this[_0x149b1d(0x2f0)][_0x149b1d(0x73d)](this['instanceName']+'\x20('+this[_0x149b1d(0x63a)][_0x149b1d(0x67e)]+_0x149b1d(0x8c)+_0x415d37),new U(_0x415d37);}}async['updateChatGroupData'](_0x3edf96){const _0x5b898a=a0_0x5d3ab0;let _0x3533b4=await this[_0x5b898a(0x40c)][_0x5b898a(0x23a)][_0x5b898a(0x639)]({'where':{'_id':_0x3edf96['id']}},this[_0x5b898a(0x63a)][_0x5b898a(0x67e)]);_0x3edf96[_0x5b898a(0xef)]=_0x3edf96?.[_0x5b898a(0xef)]&&_0x3edf96[_0x5b898a(0xef)]['toString']()[_0x5b898a(0x6d9)]<0xd?_0x3edf96?.[_0x5b898a(0xef)]*0x3e8:_0x3edf96?.[_0x5b898a(0xef)]||null,_0x3edf96[_0x5b898a(0x18a)]=_0x3edf96?.[_0x5b898a(0x18a)]&&_0x3edf96[_0x5b898a(0x18a)][_0x5b898a(0x651)]()['length']<0xd?_0x3edf96?.[_0x5b898a(0x18a)]*0x3e8:_0x3edf96?.[_0x5b898a(0x18a)]||null;let _0x2eee03=_0x3533b4?.[_0x5b898a(0x4f3)]?.[_0x5b898a(0x387)]||[],_0x30769d=_0x3533b4?.[_0x5b898a(0x4f3)]?.['lastFetchAwaitingApproval'],_0x36242f=_0x3edf96['participants'][_0x5b898a(0x2de)](_0x51c5bc=>{const _0x2e3244=_0x5b898a;let _0x194e8e=_0x3533b4?.[_0x2e3244(0x4f3)]?.[_0x2e3244(0x19e)]['find'](_0x3eb1bc=>_0x3eb1bc['id']===_0x51c5bc['id']);return{..._0x51c5bc,'isAdmin':[_0x2e3244(0x424),_0x2e3244(0x616)]['includes'](_0x51c5bc[_0x2e3244(0x424)]),'admin':_0x51c5bc[_0x2e3244(0x424)],'name':_0x194e8e?.[_0x2e3244(0x26b)]||_0x51c5bc[_0x2e3244(0x26b)],'imgUrl':_0x194e8e?.[_0x2e3244(0x35a)]||_0x51c5bc['imgUrl']};}),_0x4c0ce8=_0x36242f[_0x5b898a(0x3a4)](_0x409866=>_0x409866['id']===this['instance'][_0x5b898a(0x67e)]+'@s.whatsapp.net'&&_0x409866[_0x5b898a(0x6f2)]),_0xc4a558=(!_0x3edf96[_0x5b898a(0x23f)]||_0x4c0ce8)&&(!_0x3edf96['isCommunity']||_0x3edf96[_0x5b898a(0x560)]&&_0x3edf96[_0x5b898a(0x1aa)]&&_0x4c0ce8),_0x8353d2={..._0x3edf96,'participants':_0x36242f,'awaitingApproval':_0x2eee03,'lastFetchAwaitingApproval':_0x30769d,'isAdmin':_0x4c0ce8,'canSendMessage':_0xc4a558,'lastUpdate':Date['now']()};await this[_0x5b898a(0x40c)]['chat'][_0x5b898a(0x63f)]({'where':{'_id':_0x3edf96['id']}},{'name':_0x3edf96[_0x5b898a(0x46a)],'group':!0x0,'groupdata':_0x8353d2,'lastcache':Date[_0x5b898a(0x10f)]()},this[_0x5b898a(0x63a)][_0x5b898a(0x67e)]),J(this[_0x5b898a(0x52c)],_0x5b898a(0x471),{'chat':_0x3edf96});}async[a0_0x5d3ab0(0x6f8)](_0x53b3c7){const _0x4e01f0=a0_0x5d3ab0;let _0x3f7a85=await this[_0x4e01f0(0x40c)]['chat'][_0x4e01f0(0x639)]({'where':{'_id':_0x53b3c7['id']}},this['instance'][_0x4e01f0(0x67e)]);_0x53b3c7['subjectTime']=_0x53b3c7?.['subjectTime']&&_0x53b3c7[_0x4e01f0(0xef)][_0x4e01f0(0x651)]()[_0x4e01f0(0x6d9)]<0xd?_0x53b3c7?.[_0x4e01f0(0xef)]*0x3e8:_0x53b3c7?.[_0x4e01f0(0xef)]||null,_0x53b3c7[_0x4e01f0(0x18a)]=_0x53b3c7?.[_0x4e01f0(0x18a)]&&_0x53b3c7['creation'][_0x4e01f0(0x651)]()[_0x4e01f0(0x6d9)]<0xd?_0x53b3c7?.[_0x4e01f0(0x18a)]*0x3e8:_0x53b3c7?.['creation']||null,_0x53b3c7[_0x4e01f0(0x504)]&&(_0x53b3c7[_0x4e01f0(0x504)]=_0x4e01f0(0x6c3)+_0x53b3c7['inviteCode']);let _0x2f904d=_0x3f7a85?.[_0x4e01f0(0x4f3)]?{..._0x3f7a85['groupdata']}:{};Object[_0x4e01f0(0x43f)](_0x53b3c7)[_0x4e01f0(0x394)](_0x5a2f02=>{_0x5a2f02!=='id'&&(_0x2f904d[_0x5a2f02]=_0x53b3c7[_0x5a2f02]);});let _0x5e82a8=_0x2f904d[_0x4e01f0(0x19e)]?.[_0x4e01f0(0x3a4)](_0x18e468=>_0x18e468['id']===this[_0x4e01f0(0x63a)][_0x4e01f0(0x67e)]+_0x4e01f0(0x17c)&&_0x18e468[_0x4e01f0(0x6f2)])||!0x1;_0x2f904d[_0x4e01f0(0x6f2)]=_0x5e82a8;let _0x5fbc4b=(!_0x2f904d[_0x4e01f0(0x23f)]||_0x5e82a8)&&(!_0x2f904d['isCommunity']||_0x2f904d['isCommunity']&&_0x2f904d['isCommunityAnnounce']&&_0x5e82a8);_0x2f904d[_0x4e01f0(0x149)]=_0x5fbc4b;let _0x3ed6bb={'group':!0x0,'groupdata':_0x2f904d};_0x53b3c7['subject']&&(_0x3ed6bb[_0x4e01f0(0x26b)]=_0x53b3c7['subject']),await this[_0x4e01f0(0x40c)][_0x4e01f0(0x23a)][_0x4e01f0(0x63f)]({'where':{'_id':_0x53b3c7['id']}},_0x3ed6bb,this['instance'][_0x4e01f0(0x67e)],{'upsert':!0x0}),J(this['instanceName'],'chats',{'chat':_0x3ed6bb});}async[a0_0x5d3ab0(0x511)](_0xc7f9b1){const _0x2bee5c=a0_0x5d3ab0;let _0x3dfcd1=await this[_0x2bee5c(0x40c)][_0x2bee5c(0x23a)][_0x2bee5c(0x639)]({'where':{'_id':_0xc7f9b1['id']}},this[_0x2bee5c(0x63a)][_0x2bee5c(0x67e)]);if(!_0x3dfcd1||!_0x3dfcd1[_0x2bee5c(0x4f3)]){this[_0x2bee5c(0x2f0)][_0x2bee5c(0x403)](this['instanceName']+'\x20('+this[_0x2bee5c(0x63a)][_0x2bee5c(0x67e)]+_0x2bee5c(0x386)+_0xc7f9b1['id']);return;}let _0x278d25=await this['repository'][_0x2bee5c(0x713)]['findManyByIds'](_0xc7f9b1[_0x2bee5c(0x19e)]),_0x190242=[..._0x3dfcd1[_0x2bee5c(0x4f3)]?.['participants']];switch(_0xc7f9b1['action']){case'add':let _0x23dd88=_0x278d25['map'](_0x3ef707=>({'id':_0x3ef707[_0x2bee5c(0x4eb)],'isAdmin':!0x1,'name':_0x3ef707['name'],'imgUrl':_0x3ef707[_0x2bee5c(0x2df)]}));_0x190242=[..._0x190242,..._0x23dd88];break;case _0x2bee5c(0x27e):_0x190242=_0x190242[_0x2bee5c(0x589)](_0x223125=>!_0xc7f9b1[_0x2bee5c(0x19e)][_0x2bee5c(0x5c5)](_0x223125['id']));break;case _0x2bee5c(0x385):case _0x2bee5c(0x89):_0x190242=_0x190242[_0x2bee5c(0x2de)](_0x2737dd=>_0xc7f9b1[_0x2bee5c(0x19e)]['includes'](_0x2737dd['id'])?{..._0x2737dd,'isAdmin':_0xc7f9b1[_0x2bee5c(0x218)]===_0x2bee5c(0x385)}:_0x2737dd);break;}let _0x15b676=_0x190242[_0x2bee5c(0x6d9)],_0x3f9c36=_0x190242[_0x2bee5c(0x3a4)](_0x15a1be=>_0x15a1be['id']===this[_0x2bee5c(0x63a)][_0x2bee5c(0x67e)]+_0x2bee5c(0x17c)),_0x6a1809=_0x3f9c36&&_0x190242[_0x2bee5c(0x3a4)](_0x3e56ad=>_0x3e56ad['id']===this[_0x2bee5c(0x63a)][_0x2bee5c(0x67e)]+'@s.whatsapp.net'&&_0x3e56ad[_0x2bee5c(0x6f2)]),_0xd4dfdc=_0x3f9c36&&(!_0x3dfcd1[_0x2bee5c(0x4f3)][_0x2bee5c(0x23f)]||_0x6a1809)&&(!_0x3dfcd1[_0x2bee5c(0x4f3)][_0x2bee5c(0x560)]||_0x3dfcd1[_0x2bee5c(0x4f3)][_0x2bee5c(0x560)]&&_0x6a1809);await this[_0x2bee5c(0x40c)]['chat'][_0x2bee5c(0x63f)]({'where':{'_id':_0xc7f9b1['id']}},{'groupdata':{..._0x3dfcd1[_0x2bee5c(0x4f3)],'participants':_0x190242,'size':_0x15b676,'isAdmin':_0x6a1809,'canSendMessage':_0xd4dfdc}},this[_0x2bee5c(0x63a)]['wuid']),this['logger']['info'](this[_0x2bee5c(0x52c)]+'\x20('+this[_0x2bee5c(0x63a)][_0x2bee5c(0x67e)]+_0x2bee5c(0x25d)+_0xc7f9b1['id']+_0x2bee5c(0x31e)+_0xc7f9b1[_0x2bee5c(0x218)]+',\x20Novo\x20tamanho:\x20'+_0x15b676+_0x2bee5c(0x19b)+_0x6a1809+_0x2bee5c(0x76d)+_0xd4dfdc);}async[a0_0x5d3ab0(0x504)](_0x461601,_0x538367=!0x0){const _0x134c6f=a0_0x5d3ab0;try{let _0x335768=await this['client']['groupInviteCode'](_0x461601['groupJid']),_0x1e8af5={'groupdata.inviteCode':_0x134c6f(0x6c3)+_0x335768};if(_0x538367){let _0x36b653=await this[_0x134c6f(0x40c)]['chat'][_0x134c6f(0x63f)]({'where':{'_id':_0x461601[_0x134c6f(0x45f)]}},_0x1e8af5,this['instance'][_0x134c6f(0x67e)]);}return{'inviteUrl':_0x134c6f(0x6c3)+_0x335768,'inviteCode':_0x335768};}catch(_0x56a24e){let _0x37ae52='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x2781c5=_0x56a24e instanceof Error?_0x56a24e[_0x134c6f(0x5fc)]:typeof _0x56a24e==_0x134c6f(0x696)?JSON[_0x134c6f(0x61a)](_0x56a24e):_0x56a24e,_0x48404a=_0x37ae52+':\x20'+_0x2781c5;throw this[_0x134c6f(0x2f0)][_0x134c6f(0x73d)](this[_0x134c6f(0x52c)]+'\x20('+this['instance'][_0x134c6f(0x67e)]+_0x134c6f(0x8c)+_0x48404a),new U(_0x48404a);}}async[a0_0x5d3ab0(0x618)](_0x46dff4){const _0x193ebf=a0_0x5d3ab0;try{let _0x33a109=await this[_0x193ebf(0x63b)][_0x193ebf(0x2f4)](_0x46dff4['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x193ebf(0x6c3)+_0x33a109,'inviteCode':_0x33a109};}catch(_0x464d04){let _0x1583eb=_0x193ebf(0x23c),_0x424801=_0x464d04 instanceof Error?_0x464d04[_0x193ebf(0x5fc)]:typeof _0x464d04==_0x193ebf(0x696)?JSON['stringify'](_0x464d04):_0x464d04,_0x17a61c=_0x1583eb+':\x20'+_0x424801;throw this[_0x193ebf(0x2f0)][_0x193ebf(0x73d)](this[_0x193ebf(0x52c)]+'\x20('+this[_0x193ebf(0x63a)][_0x193ebf(0x67e)]+'):\x20'+_0x17a61c),new U(_0x17a61c);}}async[a0_0x5d3ab0(0xb2)](_0x1c45ca){const _0x38d418=a0_0x5d3ab0;try{if((0x0,k[_0x38d418(0xd7)])(_0x1c45ca[_0x38d418(0x504)]))var _0x16e24e=_0x1c45ca[_0x38d418(0x504)][_0x38d418(0x4f7)]('/')[0x3];else var _0x16e24e=_0x1c45ca[_0x38d418(0x504)];let _0x5ac365=await this[_0x38d418(0x63b)][_0x38d418(0x4d8)](_0x16e24e);return this[_0x38d418(0x2f0)][_0x38d418(0x444)](this[_0x38d418(0x52c)]+'\x20('+this[_0x38d418(0x63a)][_0x38d418(0x67e)]+'):\x20'+_0x5ac365),{'join':!0x0,'inviteCode':_0x16e24e,'groupJid':_0x5ac365};}catch(_0x4e444c){let _0x2b8eb1='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x30b977=_0x4e444c instanceof Error?_0x4e444c[_0x38d418(0x5fc)]:typeof _0x4e444c==_0x38d418(0x696)?JSON[_0x38d418(0x61a)](_0x4e444c):_0x4e444c,_0x363cea=_0x2b8eb1+':\x20'+_0x30b977;throw this[_0x38d418(0x2f0)][_0x38d418(0x73d)](this['instanceName']+'\x20('+this['instance'][_0x38d418(0x67e)]+_0x38d418(0x8c)+_0x363cea),new U(_0x363cea);}}async['findParticipants'](_0x48141b){const _0x5574fd=a0_0x5d3ab0;try{return{'participants':(await this[_0x5574fd(0x40c)][_0x5574fd(0x23a)][_0x5574fd(0x639)]({'where':{'_id':_0x48141b[_0x5574fd(0x45f)]}},this[_0x5574fd(0x63a)][_0x5574fd(0x67e)]))[_0x5574fd(0x4f3)][_0x5574fd(0x19e)]};}catch(_0x324cf2){let _0x4ab392=_0x5574fd(0x630),_0xeaf17a=_0x324cf2 instanceof Error?_0x324cf2[_0x5574fd(0x5fc)]:typeof _0x324cf2=='object'?JSON['stringify'](_0x324cf2):_0x324cf2,_0x439283=_0x4ab392+':\x20'+_0xeaf17a;throw this['logger'][_0x5574fd(0x73d)](this[_0x5574fd(0x52c)]+'\x20('+this[_0x5574fd(0x63a)][_0x5574fd(0x67e)]+'):\x20'+_0x439283),new U(_0x439283);}}async['leaveGroup'](_0x30b86b){const _0xdffe19=a0_0x5d3ab0;try{return await this[_0xdffe19(0x63b)]['groupLeave'](_0x30b86b[_0xdffe19(0x45f)]),{'groupJid':_0x30b86b[_0xdffe19(0x45f)],'leave':!0x0};}catch(_0x5a1da7){let _0x36df69='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x9a2f58=_0x5a1da7 instanceof Error?_0x5a1da7[_0xdffe19(0x5fc)]:typeof _0x5a1da7==_0xdffe19(0x696)?JSON['stringify'](_0x5a1da7):_0x5a1da7,_0x18979f=_0x36df69+':\x20'+_0x9a2f58;throw this['logger'][_0xdffe19(0x73d)](this[_0xdffe19(0x52c)]+'\x20('+this['instance'][_0xdffe19(0x67e)]+_0xdffe19(0x8c)+_0x18979f),new m(_0x18979f);}}async['pollMessage'](_0x1710f6){const _0x399371=a0_0x5d3ab0;return await this[_0x399371(0x52f)](_0x1710f6['number'],{'poll':{'name':_0x1710f6[_0x399371(0x60d)]?.['name'],'selectableCount':_0x1710f6[_0x399371(0x60d)][_0x399371(0x550)],'values':_0x1710f6[_0x399371(0x60d)][_0x399371(0x6d1)]}},_0x1710f6?.[_0x399371(0x3da)]);}async[a0_0x5d3ab0(0xb1)](_0x46ea9e){const _0x2cadc9=a0_0x5d3ab0;return await this['sendMessageWithTyping'](_0x46ea9e['number'],{'listMessage':{'title':_0x46ea9e[_0x2cadc9(0xb1)]['title'],'description':_0x46ea9e[_0x2cadc9(0xb1)]['description'],'buttonText':_0x46ea9e['listMessage']?.[_0x2cadc9(0x23e)],'footerText':_0x46ea9e[_0x2cadc9(0xb1)]?.['footerText'],'sections':_0x46ea9e[_0x2cadc9(0xb1)][_0x2cadc9(0x777)],'listType':0x2}},_0x46ea9e?.[_0x2cadc9(0x3da)]);}async[a0_0x5d3ab0(0x322)](_0x524d33){const _0x315186=a0_0x5d3ab0;let _0x42aa03;if(_0x524d33['menuMessage'][_0x315186(0xcc)]===_0x315186(0x1b6)){let _0x3da56c=_0x524d33['menuMessage'][_0x315186(0x512)]['indexOf']('\x0a'),_0x4ca64d='',_0x41a5e8='';_0x3da56c!==-0x1?(_0x4ca64d=_0x524d33[_0x315186(0x322)][_0x315186(0x512)][_0x315186(0x568)](0x0,_0x3da56c)['trim'](),_0x41a5e8=_0x524d33[_0x315186(0x322)][_0x315186(0x512)][_0x315186(0x568)](_0x3da56c+0x1)):_0x41a5e8=_0x524d33[_0x315186(0x322)][_0x315186(0x512)];let _0x4f47d3=_0x524d33[_0x315186(0x322)][_0x315186(0x76b)][_0x315186(0x589)](_0x38d0fb=>_0x38d0fb[_0x315186(0x68c)]()!==''),_0xa04d7e=this['createSectionsFromValues'](_0x4f47d3);_0x42aa03={'listMessage':{'title':_0x4ca64d,'description':_0x41a5e8,'buttonText':_0x524d33[_0x315186(0x322)][_0x315186(0x23e)]||_0x315186(0x76e),'footerText':_0x524d33['menuMessage'][_0x315186(0x31f)],'sections':_0xa04d7e,'listType':0x2}};}else{if(_0x524d33[_0x315186(0x322)][_0x315186(0xcc)]===_0x315186(0x341)){let _0x388f62=_0x524d33[_0x315186(0x322)][_0x315186(0x76b)][_0x315186(0x589)](_0x101ee1=>!(_0x101ee1[_0x315186(0x5af)]('[')&&_0x101ee1[_0x315186(0x30a)](']'))&&_0x101ee1[_0x315186(0x68c)]()!=='')[_0x315186(0x2de)](_0xf09fcc=>_0xf09fcc[_0x315186(0x4f7)]('\x0a')[0x0]);_0x42aa03={'poll':{'name':_0x524d33[_0x315186(0x322)]['text'],'selectableCount':_0x524d33[_0x315186(0x322)][_0x315186(0x550)]||0x1,'values':_0x388f62}};}}return await this[_0x315186(0x52f)](_0x524d33[_0x315186(0x15d)],_0x42aa03,_0x524d33?.[_0x315186(0x3da)]);}[a0_0x5d3ab0(0x1cb)](_0x1cfcd0){const _0xbfc00d=a0_0x5d3ab0;let _0x28fdfb=[],_0x499f20={'rows':[]};return _0x1cfcd0[_0xbfc00d(0x394)](_0x1d4916=>{const _0x22287d=_0xbfc00d;if(_0x1d4916[_0x22287d(0x5af)]('[')&&_0x1d4916['endsWith'](']'))_0x499f20['rows']['length']>0x0&&_0x28fdfb[_0x22287d(0x6a7)](_0x499f20),_0x499f20={'title':_0x1d4916[_0x22287d(0x3b9)](0x1,-0x1),'rows':[]};else{let _0x471e2d=_0x1d4916[_0x22287d(0x4f7)]('\x0a')['map'](_0x573d62=>_0x573d62[_0x22287d(0x68c)]()),_0x5edf92=_0x471e2d[0x0],_0x34ba9a=_0x471e2d[0x1]||null,_0x5380cf=_0x471e2d[0x2]||_0x5edf92;_0x499f20['rows']['push']({'title':_0x5edf92,'description':_0x34ba9a,'rowId':_0x5380cf});}}),_0x499f20[_0xbfc00d(0x365)][_0xbfc00d(0x6d9)]>0x0&&_0x28fdfb[_0xbfc00d(0x6a7)](_0x499f20),_0x28fdfb;}async[a0_0x5d3ab0(0x110)](_0x1569ce,_0x4ce22){const _0x503ad5=a0_0x5d3ab0;if(await this['getMessage'](_0x1569ce,!0x0)){let _0x1bf47a={'where':{'_id':_0x1569ce['id']}},_0x1097f9={'status':[_0x4ce22[_0x503ad5(0x489)]][0x0]};try{let _0x58bd55=await this[_0x503ad5(0x40c)][_0x503ad5(0x5fc)]['update'](_0x1bf47a,_0x1097f9,this[_0x503ad5(0x63a)][_0x503ad5(0x67e)]);_0x58bd55&&J(this[_0x503ad5(0x52c)],'messages',{'message':_0x58bd55});}catch{}}}[a0_0x5d3ab0(0x72a)](_0x29a759){const _0x4705b0=a0_0x5d3ab0;let _0x2e81ba=[];return _0x29a759[_0x4705b0(0x394)](_0x1d81af=>{const _0x1b6848=_0x4705b0;_0x1d81af[_0x1b6848(0x353)]&&_0x2e81ba[_0x1b6848(0x6a7)]('['+_0x1d81af[_0x1b6848(0x353)]+']'),_0x1d81af[_0x1b6848(0x365)]['forEach'](_0xdff501=>{const _0x21185a=_0x1b6848;_0x2e81ba[_0x21185a(0x6a7)](_0xdff501['title']);});}),_0x2e81ba[_0x4705b0(0x438)]('|');}[a0_0x5d3ab0(0x706)](_0x37205f){const _0x17575e=a0_0x5d3ab0;let _0x398e0d=_0x37205f[_0x17575e(0x143)](/\\n/g,'\x0a')[_0x17575e(0x4f7)]('\x0a')[_0x17575e(0x589)](_0x45dfd8=>_0x45dfd8[_0x17575e(0x5c5)](_0x17575e(0x5d5))||_0x45dfd8[_0x17575e(0x5c5)](_0x17575e(0x763))),_0x4d1c59='';return _0x398e0d['forEach'](_0x2288f6=>{const _0x18b01f=_0x17575e;let _0x1e9437=/TEL(?:.*):(.+)/,_0x26d200=/EMAIL(?:.*):(.+)/,_0x25bc3d=_0x2288f6['match'](_0x1e9437),_0x2ae71d=_0x2288f6[_0x18b01f(0x4c1)](_0x26d200);if(_0x25bc3d){let _0x468e50=_0x25bc3d[0x1][_0x18b01f(0x143)](/-| |\+|\(|\)/g,'')[_0x18b01f(0x68c)]();_0x4d1c59+=_0x18b01f(0x760)+_0x468e50+'\x0a';}else{if(_0x2ae71d){let _0x1affbc=_0x2ae71d[0x1][_0x18b01f(0x68c)]();_0x4d1c59+='E-mail:\x20'+_0x1affbc+'\x0a';}}}),_0x4d1c59[_0x17575e(0x68c)]();}async['updateChatWithMessage'](_0x3b961d,_0x1786bc,_0x1863c1,_0x224de0=null){const _0x5e7f4a=a0_0x5d3ab0;if(!_0x3b961d[_0x5e7f4a(0x1c0)])return;let _0x472e24=_0x1786bc['key'][_0x5e7f4a(0x623)][_0x5e7f4a(0x143)](/:\d{1,2}@/g,'@'),_0x1b9517=_0x1786bc[_0x5e7f4a(0xe7)][_0x5e7f4a(0x26e)],_0x104f00=_0x472e24[_0x5e7f4a(0x30a)](_0x5e7f4a(0x745)),_0x40d85=_0x1786bc[_0x5e7f4a(0x1a9)]?.[_0x5e7f4a(0x143)](/:\d{1,2}@/g,'@')||'',_0x351a24=_0x1786bc[_0x5e7f4a(0x8b)]?.[_0x5e7f4a(0x512)]||_0x1786bc['message_normalized']?.['caption']||_0x1786bc[_0x5e7f4a(0x8b)]?.[_0x5e7f4a(0x28f)]||_0x1786bc[_0x5e7f4a(0x8b)]?.[_0x5e7f4a(0x26b)],_0x110f25={'_id':_0x1786bc[_0x5e7f4a(0x4eb)],'remoteJid':_0x1b9517?this[_0x5e7f4a(0x63a)][_0x5e7f4a(0x67e)]:_0x104f00?_0x40d85:_0x472e24,'pushName':_0x1b9517?this['instance'][_0x5e7f4a(0x51e)]||'Eu':_0x1786bc[_0x5e7f4a(0x701)],'text':_0x351a24,'type':_0x1786bc['messageType'],'when':_0x1786bc[_0x5e7f4a(0x5d7)]||Date[_0x5e7f4a(0x10f)]()};_0x224de0||(_0x224de0=await this['repository'][_0x5e7f4a(0x23a)][_0x5e7f4a(0x639)]({'where':{'_id':_0x472e24}},this[_0x5e7f4a(0x63a)][_0x5e7f4a(0x67e)]));let _0x499c9b=_0x224de0?_0x1b9517?_0x224de0['unreadcount']:(_0x224de0[_0x5e7f4a(0x77e)]||0x0)+0x1:_0x1b9517?0x0:0x1,_0x163677={'lastmsg':_0x1786bc[_0x5e7f4a(0x5d7)]||Date[_0x5e7f4a(0x10f)](),'ephemeralExpiration':_0x1786bc[_0x5e7f4a(0x6d2)],'lastMessage':_0x110f25,'unreadcount':_0x499c9b,..._0x1b9517||_0x104f00?{}:{'name':_0x1786bc[_0x5e7f4a(0x701)]},..._0x104f00?{'group':_0x104f00}:{},...!_0x1b9517&&!_0x104f00&&_0x1786bc[_0x5e7f4a(0x5ee)]?{'imagechat':_0x1786bc[_0x5e7f4a(0x5ee)]}:{}};if(!_0x104f00&&(!_0x224de0?.[_0x5e7f4a(0x314)]||!_0x224de0['leadInfo'][_0x5e7f4a(0x784)])&&_0x1786bc[_0x5e7f4a(0x701)]&&!_0x1b9517&&(_0x163677={..._0x163677,'leadInfo.nome':_0x1786bc['pushName']}),_0x224de0?.[_0x5e7f4a(0x314)][_0x5e7f4a(0x590)]||(_0x163677={..._0x163677,'leadInfo.etiquetas':[]}),_0x224de0?.[_0x5e7f4a(0x314)][_0x5e7f4a(0x312)]||(_0x163677={..._0x163677,'leadInfo.customFields':[]}),_0x224de0?.[_0x5e7f4a(0x314)][_0x5e7f4a(0x6e1)]||(_0x163677={..._0x163677,'leadInfo.tags':[]}),_0x224de0&&_0x224de0?.[_0x5e7f4a(0x554)]){let _0xf53afe=await this['repository'][_0x5e7f4a(0x2c9)][_0x5e7f4a(0x299)]({'where':{}},this['instance'][_0x5e7f4a(0x67e)]),_0x2d30e6=new Set(_0xf53afe[_0x5e7f4a(0x2de)](_0x526d59=>_0x526d59[_0x5e7f4a(0x4eb)])),_0x39b890=(_0x224de0[_0x5e7f4a(0x314)]?.[_0x5e7f4a(0x590)]||[])['filter'](_0x104dc6=>_0x2d30e6['has'](_0x104dc6));_0x163677={..._0x163677,'imported':!0x1,'leadInfo.etiquetas':_0x39b890};for(let _0x5a3659 of _0x39b890)await this['AddChatLabel'](_0x5a3659,_0x472e24);}if(_0x1863c1===_0x5e7f4a(0x30b)&&_0x1b9517&&this[_0x5e7f4a(0x3f8)]?.['flowConfig'][_0x5e7f4a(0x113)]&&!_0x351a24['startsWith'](this[_0x5e7f4a(0x3f8)]?.[_0x5e7f4a(0x18b)][_0x5e7f4a(0x58b)])){let _0x25bfbe=(this[_0x5e7f4a(0x3f8)]?.[_0x5e7f4a(0x18b)][_0x5e7f4a(0x18d)]||0x5)*0xea60,_0xb94779=Date[_0x5e7f4a(0x10f)]()+_0x25bfbe;_0x224de0?.['leadInfo']?.['desativadoFluxoAte']===0x0||(_0x163677={..._0x163677,'leadInfo.desativadoFluxoAte':_0xb94779},this['logger'][_0x5e7f4a(0x444)](this['instanceName']+'\x20('+this['instance'][_0x5e7f4a(0x67e)]+_0x5e7f4a(0x449)+_0xb94779+'.'));}if(_0x224de0=await this[_0x5e7f4a(0x40c)][_0x5e7f4a(0x23a)]['updateOne']({'where':{'_id':_0x472e24}},_0x163677,this['instance'][_0x5e7f4a(0x67e)],{'new':!0x0,'upsert':!0x0}),_0x224de0)J(this[_0x5e7f4a(0x52c)],_0x5e7f4a(0x471),{'chat':_0x224de0});else{this[_0x5e7f4a(0x2f0)]['error'](this['instanceName']+'\x20('+this[_0x5e7f4a(0x63a)]['wuid']+_0x5e7f4a(0x34d));return;}if(!this[_0x5e7f4a(0x3f8)]?.['flowConfig'][_0x5e7f4a(0x113)])return this[_0x5e7f4a(0x2f0)][_0x5e7f4a(0x444)](this[_0x5e7f4a(0x52c)]+'\x20('+this['instance'][_0x5e7f4a(0x67e)]+_0x5e7f4a(0x2ce)),null;if(_0x224de0[_0x5e7f4a(0x4eb)][_0x5e7f4a(0x5c5)](_0x5e7f4a(0x745))&&this[_0x5e7f4a(0x3f8)]?.[_0x5e7f4a(0x18b)]['ignoreGroups']===!0x0)return this[_0x5e7f4a(0x2f0)][_0x5e7f4a(0x444)](this[_0x5e7f4a(0x52c)]+'\x20('+this['instance']['wuid']+_0x5e7f4a(0x109)),null;if(_0x224de0['leadInfo']){if(_0x224de0[_0x5e7f4a(0x314)][_0x5e7f4a(0x4df)]===0x0||_0x224de0[_0x5e7f4a(0x314)]['atendimentoAberto'])return this[_0x5e7f4a(0x2f0)][_0x5e7f4a(0x444)](this[_0x5e7f4a(0x52c)]+'\x20('+this['instance'][_0x5e7f4a(0x67e)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x472e24+',\x20saindo.'),null;if(_0x224de0[_0x5e7f4a(0x314)][_0x5e7f4a(0x4df)]>Date[_0x5e7f4a(0x10f)]()&&!_0x1786bc[_0x5e7f4a(0x8b)]?.['vote'])return this[_0x5e7f4a(0x2f0)][_0x5e7f4a(0x444)](this[_0x5e7f4a(0x52c)]+'\x20('+this[_0x5e7f4a(0x63a)][_0x5e7f4a(0x67e)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x224de0['leadInfo'][_0x5e7f4a(0x4df)])[_0x5e7f4a(0x67a)]()+_0x5e7f4a(0x52e)),null;}this['logger'][_0x5e7f4a(0x444)](this['instanceName']+'\x20('+this[_0x5e7f4a(0x63a)][_0x5e7f4a(0x67e)]+_0x5e7f4a(0x164)),this['StartBot'](_0x1863c1,_0x1786bc);}async['upsertChats'](_0x2f900e,_0x42ce78){const _0x65f26a=a0_0x5d3ab0;if(_0x42ce78[_0x65f26a(0x1c0)]){let _0x41f703=_0x2f900e[_0x65f26a(0x2de)](async _0x4c970c=>{const _0x51ce54=_0x65f26a;try{let _0x1dbb7e={'_id':_0x4c970c[_0x51ce54(0x4eb)],'owner':_0x4c970c['owner'],'lastcache':0x0};if(Object[_0x51ce54(0x43f)](_0x4c970c)['forEach'](_0x3fa7f3=>{_0x4c970c[_0x3fa7f3]!==null&&(_0x1dbb7e[_0x3fa7f3]=_0x4c970c[_0x3fa7f3]);}),_0x1dbb7e[_0x51ce54(0x1d9)]===null&&(_0x1dbb7e['imagechat']=_0x51ce54(0x473)),Object[_0x51ce54(0x43f)](_0x1dbb7e)[_0x51ce54(0x6d9)]>0x0)return await this[_0x51ce54(0x40c)]['chat'][_0x51ce54(0x63f)]({'where':{'_id':_0x4c970c[_0x51ce54(0x4eb)]}},_0x1dbb7e,this['instance'][_0x51ce54(0x67e)]);}catch(_0x3fef14){let _0x2b01b5='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x4c970c[_0x51ce54(0x4eb)],_0x5e67c8=_0x3fef14 instanceof Error?_0x3fef14[_0x51ce54(0x5fc)]:typeof _0x3fef14=='object'?JSON['stringify'](_0x3fef14):_0x3fef14,_0x2374a3=_0x2b01b5+':\x20'+_0x5e67c8;return this[_0x51ce54(0x2f0)][_0x51ce54(0x73d)](this[_0x51ce54(0x52c)]+'\x20('+this[_0x51ce54(0x63a)][_0x51ce54(0x67e)]+_0x51ce54(0x8c)+_0x2374a3),null;}}),_0x3b84b8=(await Promise[_0x65f26a(0x68e)](_0x41f703))[_0x65f26a(0x589)](_0x32e73b=>_0x32e73b!==null)['length'];this[_0x65f26a(0x2f0)][_0x65f26a(0x444)](this[_0x65f26a(0x52c)]+'\x20('+this[_0x65f26a(0x63a)][_0x65f26a(0x67e)]+'):\x20'+_0x3b84b8+'\x20chats\x20de\x20'+this[_0x65f26a(0x63a)][_0x65f26a(0x67e)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x5d3ab0(0x646)](_0xbf889e){const _0xb2ffd7=a0_0x5d3ab0;this[_0xb2ffd7(0x2f0)][_0xb2ffd7(0x444)](this[_0xb2ffd7(0x52c)]+'\x20('+this[_0xb2ffd7(0x63a)][_0xb2ffd7(0x67e)]+_0xb2ffd7(0x631));let _0x51ed53={'readMessages':[{'remoteJid':_0xbf889e[_0xb2ffd7(0x5e8)][_0xb2ffd7(0x620)][_0xb2ffd7(0xe7)][_0xb2ffd7(0x623)],'fromMe':_0xbf889e[_0xb2ffd7(0x5e8)]['lastReceivedMessage']['key'][_0xb2ffd7(0x26e)],'id':_0xbf889e[_0xb2ffd7(0x5e8)][_0xb2ffd7(0x620)][_0xb2ffd7(0xe7)]['id']}]};await this[_0xb2ffd7(0x13f)](_0x51ed53);}async[a0_0x5d3ab0(0x59d)](_0x3a0380,_0x4b9711){const _0x3f05df=a0_0x5d3ab0;try{let {key:_0xdf4cc3,message_normalized:_0x18e830}=_0x4b9711,_0x2d02ee=_0x18e830,_0x22ecac=_0x18e830[_0x3f05df(0x512)]||_0x18e830[_0x3f05df(0x670)]||_0x18e830[_0x3f05df(0x28f)]||_0x18e830[_0x3f05df(0x26b)],_0x5db1b5=_0xdf4cc3[_0x3f05df(0x623)],_0x11aa10;if(_0x2d02ee['key'][_0x3f05df(0x26e)]&&_0x22ecac[_0x3f05df(0x68c)]()!==this[_0x3f05df(0x3f8)]?.[_0x3f05df(0x18b)][_0x3f05df(0x769)]['trim']())return this[_0x3f05df(0x2f0)][_0x3f05df(0x444)](this[_0x3f05df(0x52c)]+'\x20('+this[_0x3f05df(0x63a)][_0x3f05df(0x67e)]+_0x3f05df(0x48c)),null;if(_0x2d02ee['key'][_0x3f05df(0x26e)]&&_0x22ecac['trim']()===this[_0x3f05df(0x3f8)]?.[_0x3f05df(0x18b)]['stopConversation'][_0x3f05df(0x68c)]()){this[_0x3f05df(0x2f0)][_0x3f05df(0x444)](this['instanceName']+'\x20('+this['instance'][_0x3f05df(0x67e)]+_0x3f05df(0x77d));let _0x5bbd3a=await this[_0x3f05df(0x40c)]['flowConversation'][_0x3f05df(0x299)]({'remoteJid':_0x5db1b5,'status':_0x3f05df(0x40a)},this[_0x3f05df(0x63a)]['wuid']);this[_0x3f05df(0x2f0)][_0x3f05df(0x444)](this[_0x3f05df(0x52c)]+'\x20('+this[_0x3f05df(0x63a)][_0x3f05df(0x67e)]+'):\x20Conversas\x20encontradas:'+_0x5bbd3a);let _0x1939be=Date[_0x3f05df(0x10f)](),_0x59278f;return this[_0x3f05df(0x3f8)]?.[_0x3f05df(0x18b)][_0x3f05df(0x348)]===0x0?_0x59278f={'stoppedUntil':_0x1939be+0x7591f6200}:_0x59278f={'stoppedUntil':_0x1939be+this[_0x3f05df(0x3f8)]?.['flowConfig']['stopMinutes']*0x3c*0x3e8},this[_0x3f05df(0x2f0)][_0x3f05df(0x444)](this[_0x3f05df(0x52c)]+'\x20('+this[_0x3f05df(0x63a)]['wuid']+_0x3f05df(0x5f3)+_0x59278f),this[_0x3f05df(0x3bc)](_0x11aa10,_0x59278f[_0x3f05df(0x197)]),null;}if(_0x22ecac&&_0x22ecac['startsWith'](this[_0x3f05df(0x3f8)]?.['flowConfig'][_0x3f05df(0x58b)])&&_0x22ecac[_0x3f05df(0x6d9)]>0x4){let _0x27691e=await this[_0x3f05df(0x40c)][_0x3f05df(0x475)][_0x3f05df(0x639)]({'where':{'startCommandWord':_0x22ecac}},this[_0x3f05df(0x63a)][_0x3f05df(0x67e)]);if(this[_0x3f05df(0x2f0)][_0x3f05df(0x444)](this[_0x3f05df(0x52c)]+'\x20('+this[_0x3f05df(0x63a)][_0x3f05df(0x67e)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x27691e)_0x11aa10=await this[_0x3f05df(0x10e)](_0x27691e,_0x2d02ee['key'],_0x2d02ee);else return this[_0x3f05df(0x2f0)][_0x3f05df(0x444)](this[_0x3f05df(0x52c)]+'\x20('+this[_0x3f05df(0x63a)][_0x3f05df(0x67e)]+_0x3f05df(0x629)),null;}else _0x11aa10=await this[_0x3f05df(0x790)](_0x5db1b5,_0x2d02ee);if(_0x11aa10){this['logger']['verbose'](this[_0x3f05df(0x52c)]+'\x20('+this[_0x3f05df(0x63a)][_0x3f05df(0x67e)]+_0x3f05df(0x2ee)),!_0xdf4cc3[_0x3f05df(0x26e)]&&_0x11aa10[_0x3f05df(0x517)]&&this[_0x3f05df(0x646)](_0x11aa10);let _0x506d57=await this[_0x3f05df(0x488)](_0x11aa10);_0x506d57&&await this['processblock'](_0x11aa10,_0x506d57);}}catch(_0x1f3535){this[_0x3f05df(0x2f0)][_0x3f05df(0x73d)](this[_0x3f05df(0x52c)]+'\x20('+this[_0x3f05df(0x63a)][_0x3f05df(0x67e)]+_0x3f05df(0x4ef)+(_0x1f3535 instanceof Error?_0x1f3535[_0x3f05df(0x5fc)]:JSON[_0x3f05df(0x61a)](_0x1f3535,null,0x2)));}}['flattenObject'](_0x58676e,_0x498200='',_0x270418={}){const _0x147aee=a0_0x5d3ab0;return typeof _0x58676e!='object'||_0x58676e===null?(_0x498200&&(_0x270418[_0x498200]=_0x58676e),_0x270418):(Object['entries'](_0x58676e)[_0x147aee(0x394)](([_0x47591b,_0x2cc152])=>{const _0x325eb4=_0x147aee;let _0x1e3f9e=_0x498200?_0x498200+'.'+_0x47591b:'_'+_0x47591b;Array[_0x325eb4(0x577)](_0x2cc152)?_0x2cc152[_0x325eb4(0x394)]((_0x220b82,_0x4ad415)=>{const _0x272b7b=_0x325eb4;this[_0x272b7b(0x4bc)](_0x220b82,_0x1e3f9e+'['+_0x4ad415+']',_0x270418);}):typeof _0x2cc152==_0x325eb4(0x696)&&_0x2cc152!==null?this[_0x325eb4(0x4bc)](_0x2cc152,_0x1e3f9e,_0x270418):_0x270418[_0x1e3f9e]=String(_0x2cc152);}),_0x270418);}[a0_0x5d3ab0(0x2b8)](_0x333d15){const _0xb9b14e=a0_0x5d3ab0;let _0x108bd0={};for(let _0x439e24 of _0x333d15)typeof _0x439e24[_0xb9b14e(0x26b)]==_0xb9b14e(0x542)&&typeof _0x439e24[_0xb9b14e(0x669)]==_0xb9b14e(0x542)&&(_0x108bd0[_0x439e24['name']]=_0x439e24[_0xb9b14e(0x669)]);return _0x108bd0;}async[a0_0x5d3ab0(0x488)](_0xc6a40b){const _0x3cdcd5=a0_0x5d3ab0;if(!this[_0x3cdcd5(0x3f8)]?.[_0x3cdcd5(0x18b)][_0x3cdcd5(0x113)]||_0xc6a40b[_0x3cdcd5(0x489)]!==_0x3cdcd5(0x40a)&&_0xc6a40b[_0x3cdcd5(0x37c)]==='')return null;let _0x5d5048=_0xc6a40b['chatLog'][_0x3cdcd5(0xff)]||_0x3cdcd5(0x626);typeof _0xc6a40b['chatLog'][_0x3cdcd5(0x3bf)]>'u'&&(_0xc6a40b[_0x3cdcd5(0x5e8)][_0x3cdcd5(0x3bf)]=!0x0);let _0x5562b0=_0xc6a40b[_0x3cdcd5(0x5e8)]['lastCondition'];this[_0x3cdcd5(0x2f0)]['verbose'](this[_0x3cdcd5(0x52c)]+'\x20('+this[_0x3cdcd5(0x63a)]['wuid']+_0x3cdcd5(0x633)+_0x5d5048+_0x3cdcd5(0x10b)+_0x5562b0);let _0xbbc717=_0x5d5048===_0x3cdcd5(0x626)?_0xc6a40b[_0x3cdcd5(0x38f)][_0x3cdcd5(0x299)](_0x14ba21=>_0x14ba21[_0x3cdcd5(0xcc)]===_0x3cdcd5(0x626)):_0xc6a40b[_0x3cdcd5(0x38f)]['find'](_0x3c457e=>_0x3c457e[_0x3cdcd5(0x4eb)]['toString']()===_0x5d5048[_0x3cdcd5(0x651)]());if(!_0xbbc717)return this[_0x3cdcd5(0x2f0)][_0x3cdcd5(0x73d)](this[_0x3cdcd5(0x52c)]+'\x20('+this[_0x3cdcd5(0x63a)][_0x3cdcd5(0x67e)]+_0x3cdcd5(0x116)+_0x5d5048),null;let _0x41411e={'_pushName':_0xc6a40b?.[_0x3cdcd5(0x5e8)]?.[_0x3cdcd5(0x620)]?.[_0x3cdcd5(0x701)]||'',..._0xc6a40b[_0x3cdcd5(0x5e8)][_0x3cdcd5(0x2ae)]},_0x2c5cbf=null;if(_0xc6a40b[_0x3cdcd5(0x37c)]){let _0x5ba955=_0xc6a40b[_0x3cdcd5(0x5e8)][_0x3cdcd5(0x620)][_0x3cdcd5(0x28f)],_0x3d60a7=_0xc6a40b[_0x3cdcd5(0x4fc)][_0x3cdcd5(0x299)](_0x4fa42d=>_0x4fa42d[_0x3cdcd5(0x6ca)]===_0x5ba955);if(_0x3d60a7){let _0x3a9543=_0x3d60a7[_0x3cdcd5(0x1a7)];if(_0x2c5cbf=_0xc6a40b[_0x3cdcd5(0x38f)][_0x3cdcd5(0x299)](_0x335283=>_0x335283['groupId']===_0x3a9543&&_0x335283[_0x3cdcd5(0x628)]===0x1),_0xbbc717[_0x3cdcd5(0x20a)][_0x3cdcd5(0x1b1)]){let _0x302a45={'id':_0xc6a40b[_0x3cdcd5(0x37c)],'remoteJid':_0xc6a40b['remoteJid'],'fromMe':!0x0};await this[_0x3cdcd5(0x202)](_0x302a45);}if(_0xbbc717[_0x3cdcd5(0x20a)]['pollOnReplyDelete']&&_0xbbc717['uazapi'][_0x3cdcd5(0x664)]&&_0xbbc717[_0x3cdcd5(0x20a)][_0x3cdcd5(0x71a)]===_0x3cdcd5(0x341)){let _0x47f862={'number':_0xc6a40b[_0x3cdcd5(0x623)],'options':{'delay':0x0},'textMessage':{'text':_0x3cdcd5(0x1e2)+_0xc6a40b['waitingMenu_text']+'\x0a*Você\x20respondeu*:\x0a'+_0x5ba955}};await this['textMessage'](_0x47f862);}_0xc6a40b[_0x3cdcd5(0x489)]='open',_0xc6a40b[_0x3cdcd5(0x37c)]='',_0xc6a40b['waitingMenu_text']='',_0xc6a40b['waitingMenu_replyOptions']=[];}else{this['logger'][_0x3cdcd5(0x444)](this[_0x3cdcd5(0x52c)]+'\x20('+this[_0x3cdcd5(0x63a)]['wuid']+_0x3cdcd5(0x553));let _0x495506={'activatedCount':_0xc6a40b[_0x3cdcd5(0x5e8)]['blockLogs'][_0x3cdcd5(0x589)](_0x39ab17=>String(_0x39ab17['blockId'])===String(_0x5d5048))['length'],'moreLogs':[_0x3cdcd5(0x297)]};if(_0xbbc717[_0x3cdcd5(0x20a)]['pollErrorMessage']){let _0x5a9aca={'number':_0xc6a40b[_0x3cdcd5(0x623)],'options':{'delay':0x0},'textMessage':{'text':_0xbbc717[_0x3cdcd5(0x20a)][_0x3cdcd5(0x32c)]}};await this[_0x3cdcd5(0x4f8)](_0x5a9aca);}if(_0xbbc717[_0x3cdcd5(0x239)]!==void 0x0&&_0x495506[_0x3cdcd5(0x5e4)]>=_0xbbc717[_0x3cdcd5(0x239)]){let _0x89b9fc=Date[_0x3cdcd5(0x10f)](),_0x4b12f6=_0xbbc717['stopMinutesMaxActives']??0xa;isNaN(_0x4b12f6)&&(_0x4b12f6=0xa);let _0x435560=_0x89b9fc+_0x4b12f6*0x3c*0x3e8;_0x495506[_0x3cdcd5(0x1a0)]=_0x435560,_0x495506[_0x3cdcd5(0x3b8)][_0x3cdcd5(0x6a7)](_0x3cdcd5(0x274)),this[_0x3cdcd5(0x3bc)](_0xc6a40b,_0x435560),_0xc6a40b[_0x3cdcd5(0x37c)]='',_0xc6a40b['waitingMenu_text']='',_0xc6a40b['waitingMenu_replyOptions']=[];}return this[_0x3cdcd5(0x500)](_0xc6a40b,_0xbbc717,_0x495506,!0x0),null;}}if(_0x5562b0&&_0xbbc717['next_groupId']&&!_0xc6a40b[_0x3cdcd5(0x37c)]){let _0x4ba034=_0xc6a40b['blocks'][_0x3cdcd5(0x589)](_0x35e469=>_0x35e469[_0x3cdcd5(0x3db)][_0x3cdcd5(0x651)]()===_0xbbc717['next_groupId'][_0x3cdcd5(0x651)]())[_0x3cdcd5(0x6d6)]((_0x107057,_0x1d5c19)=>_0x107057['order']-_0x1d5c19[_0x3cdcd5(0x628)]);_0x4ba034[_0x3cdcd5(0x6d9)]>0x0&&(_0x2c5cbf=_0x4ba034[0x0]);}if(!_0x2c5cbf){let _0x3396a8=_0xbbc717[_0x3cdcd5(0x3db)],_0x34b034=_0xc6a40b['blocks'][_0x3cdcd5(0x589)](_0x5efb97=>_0x5efb97[_0x3cdcd5(0x3db)]===_0x3396a8&&_0x5efb97['order']>_0xbbc717['order'])['sort']((_0x32ca70,_0xbde416)=>_0x32ca70[_0x3cdcd5(0x628)]-_0xbde416['order']);_0x34b034[_0x3cdcd5(0x6d9)]>0x0&&(_0x2c5cbf=_0x34b034[0x0]);}if(!_0x2c5cbf)return _0xc6a40b[_0x3cdcd5(0x489)]=_0x3cdcd5(0x605),null;_0xc6a40b[_0x3cdcd5(0x5e8)][_0x3cdcd5(0x2ae)]=_0x41411e;let _0x4d923d=JSON[_0x3cdcd5(0x396)](JSON[_0x3cdcd5(0x61a)](_0x2c5cbf));return this[_0x3cdcd5(0x3fd)](_0x4d923d,_0xc6a40b[_0x3cdcd5(0x5e8)]['realVariables']),_0xc6a40b[_0x3cdcd5(0x5e8)][_0x3cdcd5(0xff)]=_0x4d923d[_0x3cdcd5(0x4eb)],_0xc6a40b['chatLog'][_0x3cdcd5(0x3bf)]=!0x0,_0x4d923d;}[a0_0x5d3ab0(0x36c)](_0x402b33,_0x2c1811){const _0x19ed5c=a0_0x5d3ab0;return _0x402b33[_0x19ed5c(0x143)](/\{\{([^}]+)\}\}/g,(_0x349169,_0x25f47c)=>_0x2c1811[_0x25f47c]||'');}[a0_0x5d3ab0(0x3fd)](_0x1920e4,_0xa776f7){const _0x1ab4e2=a0_0x5d3ab0;for(let _0x177888 in _0x1920e4)typeof _0x1920e4[_0x177888]==_0x1ab4e2(0x542)?_0x1920e4[_0x177888]=this[_0x1ab4e2(0x36c)](_0x1920e4[_0x177888],_0xa776f7):typeof _0x1920e4[_0x177888]==_0x1ab4e2(0x696)&&this[_0x1ab4e2(0x3fd)](_0x1920e4[_0x177888],_0xa776f7);}async[a0_0x5d3ab0(0x260)](_0x33fe04,_0x42c367){const _0x2b7800=a0_0x5d3ab0;let _0x4fddfa=_0x42c367[_0x2b7800(0x4eb)];if(_0x33fe04[_0x2b7800(0x5e8)]&&_0x33fe04[_0x2b7800(0x5e8)]['blockLogs']){let _0x5a3b6f=_0x33fe04[_0x2b7800(0x5e8)][_0x2b7800(0x3b2)]['filter'](_0x1b59db=>String(_0x1b59db[_0x2b7800(0x1fe)])===String(_0x4fddfa))[_0x2b7800(0x1ad)]();if(_0x5a3b6f&&_0x5a3b6f[_0x2b7800(0x73d)]&&_0x42c367['stopIfLastReturnedError'])return _0x33fe04[_0x2b7800(0x489)]='closed',await this[_0x2b7800(0x1d6)](_0x33fe04),null;}if(_0x42c367['type']===_0x2b7800(0x20a)&&_0x42c367[_0x2b7800(0x20a)][_0x2b7800(0x90)]===_0x2b7800(0x1fb)&&_0x33fe04['waitingMenu_id'])return _0x33fe04['chatLog']['lastBlockId']=_0x4fddfa,await this[_0x2b7800(0x1d6)](_0x33fe04),null;let _0x28190d=await this[_0x2b7800(0x488)](_0x33fe04);if(_0x33fe04[_0x2b7800(0x5e8)]&&_0x33fe04['chatLog']['blockLogs']){let _0x3895c1=_0x33fe04[_0x2b7800(0x5e8)][_0x2b7800(0x3b2)][_0x2b7800(0x589)](_0x123cb4=>String(_0x123cb4[_0x2b7800(0x1fe)])===String(_0x4fddfa))['length'];if(_0x42c367['maxActives']!==void 0x0&&_0x3895c1>=_0x42c367['maxActives']){let _0xa29496=Date['now'](),_0x351db2=_0x42c367['stopMinutesMaxActives']??0xa;isNaN(_0x351db2)&&(_0x351db2=0xa);let _0x22fdc6=_0xa29496+_0x351db2*0x3c*0x3e8,_0x362ea0={'newStoppedUntil':_0x22fdc6};return this[_0x2b7800(0x3bc)](_0x33fe04,_0x22fdc6),this[_0x2b7800(0x500)](_0x33fe04,_0x42c367,_0x362ea0,!0x0),null;}}_0x28190d&&_0x28190d['type']!==_0x2b7800(0x575)&&await this[_0x2b7800(0x367)](_0x33fe04,_0x28190d),_0x28190d||await this[_0x2b7800(0x1d6)](_0x33fe04),_0x28190d&&_0x28190d[_0x2b7800(0xcc)]===_0x2b7800(0x575)&&(_0x33fe04[_0x2b7800(0x5e8)]['lastBlockId']=_0x4fddfa,await this['saveConversationToDatabase'](_0x33fe04));}async[a0_0x5d3ab0(0x367)](_0x58fe12,_0x3b441e){const _0x4d97c9=a0_0x5d3ab0;try{let _0x5f09bd=_0x3b441e[_0x4d97c9(0xcc)];this[_0x4d97c9(0x2f0)]['verbose'](this[_0x4d97c9(0x52c)]+'\x20('+this[_0x4d97c9(0x63a)][_0x4d97c9(0x67e)]+_0x4d97c9(0x429)+_0x5f09bd);let _0x3c63e8={'uazapi':()=>this[_0x4d97c9(0x3c1)](_0x58fe12,_0x3b441e),'save':()=>this[_0x4d97c9(0x5c9)](_0x58fe12,_0x3b441e),'stop':()=>this[_0x4d97c9(0x769)](_0x58fe12,_0x3b441e),'condition':()=>this['processConditions'](_0x58fe12,_0x3b441e),'varedit':()=>this['processvaredits'](_0x58fe12,_0x3b441e),'apirequest':()=>this[_0x4d97c9(0x667)](_0x58fe12,_0x3b441e),'goToFlow':()=>this['processgoToFlow'](_0x58fe12,_0x3b441e),'scheduleFlow':()=>this[_0x4d97c9(0x2fe)](_0x58fe12,_0x3b441e),'awaitSeconds':()=>this['processawaitSeconds'](_0x58fe12,_0x3b441e),'clearVariables':()=>this['processclearVariables'](_0x58fe12,_0x3b441e)}[_0x5f09bd];_0x3c63e8&&await _0x3c63e8();}catch(_0x363ed5){this[_0x4d97c9(0x2f0)]['error'](this[_0x4d97c9(0x52c)]+'\x20('+this[_0x4d97c9(0x63a)][_0x4d97c9(0x67e)]+_0x4d97c9(0x257)+(_0x363ed5 instanceof Error?_0x363ed5[_0x4d97c9(0x5fc)]:JSON[_0x4d97c9(0x61a)](_0x363ed5,null,0x2)));}}async['processawaitSeconds'](_0x1b3bdf,_0x4b4643){const _0x4beb44=a0_0x5d3ab0;if(this[_0x4beb44(0x2f0)][_0x4beb44(0x444)](this[_0x4beb44(0x52c)]+'\x20('+this['instance'][_0x4beb44(0x67e)]+_0x4beb44(0x538)),!_0x1b3bdf||!_0x4b4643)return this[_0x4beb44(0x2f0)][_0x4beb44(0x73d)](this[_0x4beb44(0x52c)]+'\x20('+this['instance'][_0x4beb44(0x67e)]+_0x4beb44(0x593)),null;let _0x2fa0da=+_0x4b4643[_0x4beb44(0x9a)];isNaN(_0x2fa0da)&&(_0x2fa0da=0x0),_0x2fa0da=Math[_0x4beb44(0x4a7)](_0x2fa0da,0x3c),await(0x0,f[_0x4beb44(0x307)])(_0x2fa0da*0x3e8);let _0x2f991c={'moreLogs':[_0x4beb44(0x715)+_0x2fa0da+_0x4beb44(0x2da)]};return await this[_0x4beb44(0x500)](_0x1b3bdf,_0x4b4643,_0x2f991c),_0x2fa0da;}async[a0_0x5d3ab0(0x359)](_0x507517,_0x2a9324){const _0x1f6572=a0_0x5d3ab0;if(this['logger'][_0x1f6572(0x444)](this[_0x1f6572(0x52c)]+'\x20('+this[_0x1f6572(0x63a)][_0x1f6572(0x67e)]+_0x1f6572(0xdc)),!_0x507517||!_0x2a9324)return this[_0x1f6572(0x2f0)][_0x1f6572(0x73d)](this[_0x1f6572(0x52c)]+'\x20('+this[_0x1f6572(0x63a)][_0x1f6572(0x67e)]+_0x1f6572(0x593)),null;let _0x18969e=[];if(_0x2a9324[_0x1f6572(0x6fb)][_0x1f6572(0x68c)]()==='[all]'){let _0xb2c572=[_0x1f6572(0x505),_0x1f6572(0x741),'_activedCount',_0x1f6572(0x466),'_id',_0x1f6572(0x65b)];_0x18969e=Object[_0x1f6572(0x43f)](_0x507517[_0x1f6572(0x5e8)][_0x1f6572(0x2ae)])['filter'](_0x1e0401=>_0x1e0401[_0x1f6572(0x5af)]('_')&&!_0xb2c572[_0x1f6572(0x5c5)](_0x1e0401));}else _0x18969e=_0x2a9324['clearVariables']['split']('|')['map'](_0x33d225=>(_0x33d225=_0x33d225[_0x1f6572(0x143)](/[{}]/g,'')[_0x1f6572(0x68c)](),_0x33d225['startsWith']('_')?_0x33d225:'_'+_0x33d225));let _0x178221=[];_0x18969e[_0x1f6572(0x394)](_0x333643=>{const _0x223539=_0x1f6572;_0x333643 in _0x507517[_0x223539(0x5e8)]['realVariables']&&(delete _0x507517[_0x223539(0x5e8)][_0x223539(0x2ae)][_0x333643],_0x178221[_0x223539(0x6a7)](_0x333643));}),_0x178221[_0x1f6572(0x6d9)]>0x0?this[_0x1f6572(0x2f0)][_0x1f6572(0x444)](this['instanceName']+'\x20('+this[_0x1f6572(0x63a)][_0x1f6572(0x67e)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x178221[_0x1f6572(0x438)](',\x20')):this[_0x1f6572(0x2f0)][_0x1f6572(0x444)](this[_0x1f6572(0x52c)]+'\x20('+this[_0x1f6572(0x63a)]['wuid']+_0x1f6572(0x56a));let _0x60630={'moreLogs':[_0x1f6572(0x158)+_0x178221[_0x1f6572(0x438)](',\x20')]};return await this[_0x1f6572(0x500)](_0x507517,_0x2a9324,_0x60630),null;}async[a0_0x5d3ab0(0x2fe)](_0x3ba023,_0x2a2588){const _0x1d5777=a0_0x5d3ab0;if(this[_0x1d5777(0x2f0)][_0x1d5777(0x444)](this[_0x1d5777(0x52c)]+'\x20('+this[_0x1d5777(0x63a)][_0x1d5777(0x67e)]+_0x1d5777(0x179)),!_0x3ba023||!_0x2a2588)return this[_0x1d5777(0x2f0)]['error'](this['instanceName']+'\x20('+this[_0x1d5777(0x63a)]['wuid']+_0x1d5777(0x593)),null;let _0x466c8f=_0x3ba023['remoteJid'];_0x2a2588[_0x1d5777(0x16e)]['remoteJid']&&_0x2a2588['scheduleFlow']['remoteJid'][_0x1d5777(0x68c)]()!==''&&(_0x466c8f=_0x2a2588[_0x1d5777(0x20a)][_0x1d5777(0x623)][_0x1d5777(0x68c)]());let _0xce7567=_0x2a2588[_0x1d5777(0x16e)]['timeInMinutes']*0xea60,_0x3a6f1c=Date[_0x1d5777(0x10f)]()+_0xce7567,_0x526513={'status':_0x1d5777(0x535),'info':_0x1d5777(0x133)+_0x3ba023[_0x1d5777(0x26b)],'remoteJids':[_0x466c8f],'when':_0x3a6f1c,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x1d5777(0x475),'flowName':_0x2a2588[_0x1d5777(0x16e)][_0x1d5777(0x3a1)]};this[_0x1d5777(0x48d)](_0x526513);let _0x4b2657=await this[_0x1d5777(0x488)](_0x3ba023);_0x4b2657&&await this[_0x1d5777(0x367)](_0x3ba023,_0x4b2657);}async[a0_0x5d3ab0(0x3d2)](_0x3f9243,_0x4e1d80){const _0x350da1=a0_0x5d3ab0;if(this[_0x350da1(0x2f0)][_0x350da1(0x444)](this[_0x350da1(0x52c)]+'\x20('+this[_0x350da1(0x63a)][_0x350da1(0x67e)]+_0x350da1(0x648)),!_0x3f9243||!_0x4e1d80)return this[_0x350da1(0x2f0)][_0x350da1(0x73d)](this[_0x350da1(0x52c)]+'\x20('+this['instance'][_0x350da1(0x67e)]+_0x350da1(0x593)),null;await this['updateConversation'](_0x3f9243,_0x4e1d80,{},!0x0,!0x0);let _0x5195c8=_0x4e1d80['goToFlow'];_0x3f9243=await this[_0x350da1(0x76a)](_0x5195c8,_0x3f9243['remoteJid'],_0x3f9243[_0x350da1(0x5e8)][_0x350da1(0x2ae)]);let _0x58e9c5=await this[_0x350da1(0x488)](_0x3f9243);_0x58e9c5&&await this[_0x350da1(0x367)](_0x3f9243,_0x58e9c5);}async[a0_0x5d3ab0(0x76a)](_0x195848,_0x1ec4ef,_0x422a31){const _0x5a8a2d=a0_0x5d3ab0;this['logger'][_0x5a8a2d(0x444)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5a8a2d(0x45d));try{if(_0x195848=await this['repository'][_0x5a8a2d(0x475)]['findOne']({'where':{'name':_0x195848}},this[_0x5a8a2d(0x63a)][_0x5a8a2d(0x67e)]),!_0x195848)return this[_0x5a8a2d(0x2f0)][_0x5a8a2d(0x73d)](this[_0x5a8a2d(0x52c)]+'\x20('+this[_0x5a8a2d(0x63a)]['wuid']+'):\x20Flow\x20não\x20encontrado'),null;let _0x168423=require(_0x5a8a2d(0x749))['ObjectId'],_0x21d5da=Date[_0x5a8a2d(0x10f)](),_0x3ef81e=_0x5a8a2d(0x626),_0x5b4c78={},_0x1c61b4={},_0x29ce1c={..._0x195848,'chatLog':null},_0x584e9b={'lastReceivedMessage':_0x5b4c78,'lastSendMessage':_0x1c61b4,'lastBlockId':_0x3ef81e,'lastCondition':!0x0,'realVariables':_0x422a31};_0x29ce1c['chatLog']=_0x584e9b,_0x29ce1c[_0x5a8a2d(0x5e8)][_0x5a8a2d(0x2ae)]={..._0x422a31},delete _0x29ce1c[_0x5a8a2d(0x4eb)],_0x29ce1c['_id']=new _0x168423(),_0x29ce1c['lastInteraction']=_0x21d5da,_0x29ce1c['status']=_0x5a8a2d(0x40a),_0x29ce1c[_0x5a8a2d(0x623)]=_0x1ec4ef;let _0x41c325=await this[_0x5a8a2d(0x40c)][_0x5a8a2d(0x112)][_0x5a8a2d(0x63f)](_0x29ce1c[_0x5a8a2d(0x4eb)],_0x29ce1c,this['instance']['wuid']);return this[_0x5a8a2d(0x2f0)]['verbose'](this[_0x5a8a2d(0x52c)]+'\x20('+this[_0x5a8a2d(0x63a)][_0x5a8a2d(0x67e)]+_0x5a8a2d(0x238)),_0x41c325?_0x29ce1c:null;}catch(_0x185caf){let _0x5d8d74='Erro\x20ao\x20copiar\x20o\x20documento',_0x4b36c7=_0x185caf instanceof Error?_0x185caf[_0x5a8a2d(0x5fc)]:typeof _0x185caf=='object'?JSON[_0x5a8a2d(0x61a)](_0x185caf):_0x185caf,_0x3c67cd=_0x5d8d74+':\x20'+_0x4b36c7;throw this[_0x5a8a2d(0x2f0)][_0x5a8a2d(0x73d)](this['instanceName']+'\x20('+this[_0x5a8a2d(0x63a)][_0x5a8a2d(0x67e)]+_0x5a8a2d(0x8c)+_0x3c67cd),new m(_0x3c67cd);}}async[a0_0x5d3ab0(0x667)](_0x4b6ab2,_0x29ea34){const _0x5a580e=a0_0x5d3ab0;let _0x54529a,_0x2b7d91;try{let _0x19289c=_0x29ea34[_0x5a580e(0x463)];if(!_0x19289c||!_0x19289c[_0x5a580e(0x1f6)]||!_0x19289c['method'])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x26fa89;(['https://api.openai.com/v1/audio/speech',_0x5a580e(0x74d),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x5a580e(0x3a4)](_0x368375=>_0x19289c[_0x5a580e(0x1f6)][_0x5a580e(0x5c5)](_0x368375))||_0x19289c[_0x5a580e(0x5f8)])&&(_0x26fa89='arraybuffer');let _0x2817e3='\u205f',_0x2c5701;try{_0x2c5701=JSON[_0x5a580e(0x396)](_0x19289c['bodyString']['replace'](new RegExp(_0x2817e3,'g'),''));}catch(_0x4fbc5c){throw _0x4fbc5c;}let _0x46d145={'method':_0x19289c[_0x5a580e(0x4b2)],'url':_0x19289c['url'],'headers':_0x19289c[_0x5a580e(0x5ef)]||{},..._0x19289c[_0x5a580e(0x4b2)][_0x5a580e(0x343)]()!==_0x5a580e(0x5ab)&&_0x19289c[_0x5a580e(0x61d)]?{'data':JSON[_0x5a580e(0x396)](_0x19289c['bodyString'][_0x5a580e(0x143)](new RegExp(_0x2817e3,'g'),''))}:{},..._0x26fa89&&{'responseType':_0x26fa89}},_0x2fd073=await(0x0,K['default'])(_0x46d145),_0x4012b5=_0x2fd073[_0x5a580e(0x5b3)][_0x5a580e(0x1bb)];if(_0x4012b5&&_0x4012b5[_0x5a580e(0x5c5)](_0x5a580e(0x27d))||typeof _0x2fd073[_0x5a580e(0x634)]==_0x5a580e(0x542)){if(typeof _0x2fd073[_0x5a580e(0x634)]==_0x5a580e(0x542)){let _0x4aa8ce=_0x2fd073[_0x5a580e(0x634)][_0x5a580e(0x143)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x54529a=JSON[_0x5a580e(0x396)](_0x4aa8ce);}catch(_0x23c6f1){console[_0x5a580e(0x73d)](_0x5a580e(0x613)+_0x23c6f1[_0x5a580e(0x5fc)]),_0x54529a={'_apiResponse':_0x2fd073['data']};}}else _0x54529a=_0x2fd073[_0x5a580e(0x634)];let _0xc31b67=_0x4b6ab2[_0x5a580e(0x5e8)][_0x5a580e(0x2ae)],_0x486e48=this[_0x5a580e(0x4bc)](_0x54529a);return Object[_0x5a580e(0x2bf)](_0xc31b67,_0x486e48),_0x4b6ab2[_0x5a580e(0x5e8)][_0x5a580e(0x2ae)]=_0xc31b67,_0x2b7d91={'error':!0x1,'apiResponse':_0x54529a},this[_0x5a580e(0x500)](_0x4b6ab2,_0x29ea34,_0x2b7d91),_0x54529a;}if(_0x4012b5&&(_0x4012b5[_0x5a580e(0x5c5)](_0x5a580e(0x68f))||_0x4012b5[_0x5a580e(0x5c5)](_0x5a580e(0x2e7))||_0x4012b5['includes'](_0x5a580e(0x567))||_0x4012b5[_0x5a580e(0x5c5)](_0x5a580e(0x662)))){this[_0x5a580e(0x2f0)][_0x5a580e(0x444)](this['instanceName']+'\x20('+this['instance'][_0x5a580e(0x67e)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x4012b5);let _0x3fb9c5=(0x0,Me['v4'])(),_0x5432ae='',_0x4fc4a6={'image/jpeg':'.jpg','image/png':_0x5a580e(0x5dd),'image/gif':_0x5a580e(0x293),'image/webp':_0x5a580e(0x173),'image/svg+xml':_0x5a580e(0x11c),'audio/mpeg':_0x5a580e(0x4ee),'audio/ogg':_0x5a580e(0xec),'audio/wav':_0x5a580e(0x12e),'video/mp4':_0x5a580e(0x168),'video/webm':_0x5a580e(0x3b7),'video/ogg':'.ogv','text/plain':'.txt','application/pdf':_0x5a580e(0x3bd),'application/msword':_0x5a580e(0x4e0),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x5a580e(0x3ab),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x5a580e(0x516),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x5a580e(0x119)};_0x4fc4a6[_0x4012b5]?(_0x5432ae=_0x4fc4a6[_0x4012b5],this[_0x5a580e(0x2f0)][_0x5a580e(0x444)](this[_0x5a580e(0x52c)]+'\x20('+this[_0x5a580e(0x63a)][_0x5a580e(0x67e)]+_0x5a580e(0x6f1)+_0x5432ae)):(_0x5432ae=_0x5a580e(0x3b4),this['logger'][_0x5a580e(0x444)](this[_0x5a580e(0x52c)]+'\x20('+this[_0x5a580e(0x63a)][_0x5a580e(0x67e)]+_0x5a580e(0x4db)+_0x5432ae)),_0x3fb9c5+=_0x5432ae,this[_0x5a580e(0x2f0)][_0x5a580e(0x444)](this[_0x5a580e(0x52c)]+'\x20('+this['instance'][_0x5a580e(0x67e)]+_0x5a580e(0x5dc)+_0x3fb9c5);let _0x46608b=this[_0x5a580e(0x6eb)][_0x5a580e(0x2af)](_0x5a580e(0x40e))[_0x5a580e(0x1c6)];if(!_0x46608b){let _0xd6c57d=this['configService'][_0x5a580e(0x2af)](_0x5a580e(0x426));_0x46608b='https://'+(_0xd6c57d&&_0xd6c57d[_0x5a580e(0x4c7)]['split']('/')[0x4]);}let _0x3eda51=Buffer['from'](_0x2fd073[_0x5a580e(0x634)]);await this[_0x5a580e(0xf1)](_0x3eda51,_0x3fb9c5);let _0x22bbfe='/media/'+_0x3fb9c5;_0x22bbfe=''+_0x46608b+_0x22bbfe,_0x54529a={'fileUrl':_0x22bbfe},_0x4b6ab2[_0x5a580e(0x5e8)][_0x5a580e(0x2ae)][_0x5a580e(0x458)]=_0x22bbfe;let _0x414f56=_0x4b6ab2[_0x5a580e(0x5e8)][_0x5a580e(0x2ae)],_0x269733=this['flattenObject'](_0x54529a);return Object[_0x5a580e(0x2bf)](_0x414f56,_0x269733),_0x4b6ab2[_0x5a580e(0x5e8)][_0x5a580e(0x2ae)]=_0x414f56,_0x2b7d91={'error':!0x1,'apiResponse':{'fileUrl':_0x22bbfe}},this['updateConversation'](_0x4b6ab2,_0x29ea34,_0x2b7d91),_0x54529a;}}catch(_0x141650){console['error'](_0x5a580e(0x687),_0x141650['message']),_0x141650[_0x5a580e(0x9f)]&&(_0x54529a=_0x141650[_0x5a580e(0x9f)][_0x5a580e(0x634)]);let _0x64f3ca=_0x4b6ab2[_0x5a580e(0x5e8)][_0x5a580e(0x2ae)],_0x8430e6=this[_0x5a580e(0x4bc)](_0x54529a);return Object[_0x5a580e(0x2bf)](_0x64f3ca,_0x8430e6),_0x4b6ab2[_0x5a580e(0x5e8)]['realVariables']=_0x64f3ca,_0x2b7d91={'error':!0x0,'errorLog':_0x141650['toString'](),'apiResponse':_0x54529a},this['updateConversation'](_0x4b6ab2,_0x29ea34,_0x2b7d91),{'success':!0x1};}}[a0_0x5d3ab0(0x532)](_0x4a7154,_0x21d7d5){const _0x4c3928=a0_0x5d3ab0;let _0x4cf5c4=_0x2a0951=>{const _0x21f5d2=a0_0xf130;let _0x39c9de=_0x2a0951[_0x21f5d2(0x143)](/[^0-9.,-]/g,'')[_0x21f5d2(0x143)](',','.'),_0x221048=parseFloat(_0x39c9de);return isNaN(_0x221048)?null:_0x221048;},_0x2a85dc=_0x21d7d5['firstValue'],_0x2b8585=_0x21d7d5[_0x4c3928(0x688)];typeof _0x2a85dc==_0x4c3928(0x542)&&(_0x2a85dc=this[_0x4c3928(0x36c)](_0x2a85dc,_0x4a7154[_0x4c3928(0x5e8)][_0x4c3928(0x2ae)])??''),typeof _0x2b8585==_0x4c3928(0x542)&&(_0x2b8585=this[_0x4c3928(0x36c)](_0x2b8585,_0x4a7154[_0x4c3928(0x5e8)]['realVariables'])??'');let _0x3caff0=null;if(!_0x21d7d5[_0x4c3928(0x65d)])return null;switch(this[_0x4c3928(0x2f0)][_0x4c3928(0x444)](this[_0x4c3928(0x52c)]+'\x20('+this[_0x4c3928(0x63a)]['wuid']+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x2a85dc),this['logger'][_0x4c3928(0x444)](this[_0x4c3928(0x52c)]+'\x20('+this['instance'][_0x4c3928(0x67e)]+_0x4c3928(0x6cd)+_0x2b8585),_0x21d7d5[_0x4c3928(0x65d)]){case'+':case'-':case'*':case'/':let _0x200b37=_0x4cf5c4(_0x2a85dc||'0'),_0xb6248d=_0x4cf5c4(_0x2b8585||'0');if(_0x200b37===null)return null;switch(_0x21d7d5[_0x4c3928(0x65d)]){case'+':_0x3caff0=_0x200b37+(_0xb6248d??0x0);break;case'-':_0x3caff0=_0x200b37-(_0xb6248d??0x0);break;case'*':_0x3caff0=_0x200b37*(_0xb6248d??0x1);break;case'/':_0xb6248d!==0x0&&(_0x3caff0=_0x200b37/(_0xb6248d??0x1));break;}break;case'findAndReplace':case'findAndReplaceRegex':let _0x29ace9=_0x2b8585,_0x5d5b11=_0x21d7d5[_0x4c3928(0x614)];if(typeof _0x5d5b11==_0x4c3928(0x542)&&(_0x5d5b11=this[_0x4c3928(0x36c)](_0x5d5b11,_0x4a7154[_0x4c3928(0x5e8)]['realVariables'])??''),_0x29ace9&&_0x5d5b11!==void 0x0){let _0x1745a6=_0x21d7d5['editOperator']===_0x4c3928(0x266)?new RegExp(_0x29ace9[_0x4c3928(0x143)](/[-\/\\^$*+?.()|[\]{}]/g,_0x4c3928(0xed)),'g'):new RegExp(_0x29ace9,'g');_0x3caff0=_0x2a85dc['replace'](_0x1745a6,_0x5d5b11);}else console[_0x4c3928(0x1c4)](_0x4c3928(0x721));break;case'setNewValue':_0x3caff0=_0x2b8585;break;case'extractRegex':let _0x32a708=_0x2a85dc[_0x4c3928(0x4c1)](new RegExp(_0x2b8585||''));_0x3caff0=_0x32a708?_0x32a708[0x0]:'';break;case _0x4c3928(0x4ea):_0x3caff0=_0x2a85dc[_0x4c3928(0x3b9)](0x0,parseInt(_0x2b8585||'0'));break;case'truncatedtoEnd':let _0x39c8c9=parseInt(_0x2b8585||'0');_0x3caff0=_0x2a85dc[_0x4c3928(0x3b9)](_0x2a85dc['length']-_0x39c8c9);break;case _0x4c3928(0x1ed):let _0x48a42e=_0x4cf5c4(_0x2a85dc),_0x12b88c=parseInt(_0x2b8585||'0');_0x12b88c=Math['abs'](_0x12b88c),_0x48a42e!==null?_0x3caff0=_0x48a42e[_0x4c3928(0x67a)](_0x4c3928(0x4cf),{'minimumFractionDigits':_0x12b88c,'maximumFractionDigits':_0x12b88c}):(console['warn'](_0x4c3928(0x3d1)+_0x2a85dc),_0x3caff0=null);break;case _0x4c3928(0x221):let _0xbca43c=_0x4cf5c4(_0x2a85dc);_0xbca43c!==null?_0x3caff0=_0xbca43c[_0x4c3928(0x67a)]('pt-BR',{'style':_0x4c3928(0x467),'currency':_0x4c3928(0x69b)}):(console['warn'](_0x4c3928(0x501)+_0x2a85dc),_0x3caff0=null);break;case _0x4c3928(0x508):_0x3caff0=_0x2a85dc['toUpperCase']();break;case _0x4c3928(0x2ba):_0x3caff0=_0x2a85dc[_0x4c3928(0x4ba)]();break;case _0x4c3928(0xc8):_0x3caff0=_0x2a85dc[_0x4c3928(0x4f7)]('\x20')[_0x4c3928(0x2de)](_0x68f156=>_0x68f156['charAt'](0x0)[_0x4c3928(0x343)]()+_0x68f156[_0x4c3928(0x3b9)](0x1)[_0x4c3928(0x4ba)]())[_0x4c3928(0x438)]('\x20');break;case _0x4c3928(0x77f):_0x3caff0=_0x2a85dc[_0x4c3928(0x68c)]();break;default:_0x3caff0=_0x2a85dc;}return _0x3caff0!==null?_0x3caff0[_0x4c3928(0x651)]():null;}async[a0_0x5d3ab0(0x6a0)](_0x168680,_0x2d8314){const _0x50c792=a0_0x5d3ab0;try{let _0x196752=_0x168680[_0x50c792(0x58f)]?.[_0x50c792(0x589)](_0x3a8894=>_0x3a8894['blockId']===_0x2d8314[_0x50c792(0x4eb)]?.[_0x50c792(0x651)]())||[],_0x56742f=_0x2d8314[_0x50c792(0xb9)],_0x47c199=null,_0xa8d496=[],_0x6d424d=_0x168680[_0x50c792(0x5e8)]['realVariables'][_0x56742f];_0xa8d496['push'](_0x50c792(0x41c)+_0x6d424d+'\x22');for(let _0x12eea9 of _0x196752){_0x12eea9[_0x50c792(0x455)]=_0x6d424d,_0x47c199=_0x12eea9[_0x50c792(0x455)];let _0x16a712;try{_0x16a712=this[_0x50c792(0x532)](_0x168680,_0x12eea9);}catch(_0x106313){console[_0x50c792(0x73d)](_0x50c792(0x4d7)+_0x106313[_0x50c792(0x5fc)]);continue;}if(_0x16a712!==null){let _0x52aa2c=_0x50c792(0x5ac)+_0x12eea9[_0x50c792(0x65d)]+'\x22',_0x48e9e5=[_0x50c792(0x221),_0x50c792(0x508),_0x50c792(0x2ba),_0x50c792(0xc8),_0x50c792(0x77f)];_0x12eea9['editOperator']===_0x50c792(0x266)||_0x12eea9[_0x50c792(0x65d)]===_0x50c792(0x95)?_0x52aa2c+=_0x50c792(0x35c)+_0x12eea9['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x12eea9[_0x50c792(0x614)]+'\x22':!_0x48e9e5[_0x50c792(0x5c5)](_0x12eea9[_0x50c792(0x65d)])&&_0x12eea9[_0x50c792(0x688)]!==null&&_0x12eea9[_0x50c792(0x688)]!==void 0x0&&(_0x52aa2c+=_0x50c792(0x40f)+_0x12eea9[_0x50c792(0x688)]+'\x22'),_0x52aa2c+=',\x20resultado:\x20'+_0x16a712+'.',_0xa8d496[_0x50c792(0x6a7)](_0x52aa2c);}_0x16a712!==null&&(_0x6d424d=_0x16a712);}if(_0x168680[_0x50c792(0x5e8)][_0x50c792(0x2ae)]&&_0x2d8314[_0x50c792(0xb9)]){_0x168680[_0x50c792(0x5e8)][_0x50c792(0x2ae)][_0x2d8314['saveVariable']]=_0x6d424d;let _0x48d09a={'variable':_0x2d8314[_0x50c792(0xb9)],'oldValue':_0x47c199,'newValue':_0x6d424d,'moreLogs':_0xa8d496};try{this['updateConversation'](_0x168680,_0x2d8314,_0x48d09a);}catch(_0x3db561){console[_0x50c792(0x73d)](_0x50c792(0x4a3)+_0x3db561[_0x50c792(0x5fc)]);}}return _0x56742f;}catch(_0x36ea39){return console[_0x50c792(0x73d)](_0x50c792(0x18f)+_0x36ea39[_0x50c792(0x5fc)]),null;}}async['processConditions'](_0x278664,_0x4c51e7){const _0x110b6c=a0_0x5d3ab0;try{let _0x520ab5=[],_0x638c71=_0x278664[_0x110b6c(0x390)][_0x110b6c(0x589)](_0x1fa3a3=>_0x1fa3a3[_0x110b6c(0x1fe)]===_0x4c51e7[_0x110b6c(0x4eb)][_0x110b6c(0x651)]()),_0x671bf0=null,_0x3eb090=!0x1;for(let _0x5afd90 of _0x638c71){let _0x5145fb=this['evaluateCondition'](_0x278664,_0x5afd90);_0x520ab5[_0x110b6c(0x6a7)]('Primeiro\x20Valor:\x20'+_0x5afd90[_0x110b6c(0x455)]+_0x110b6c(0x21b)+_0x5afd90[_0x110b6c(0x305)]+_0x110b6c(0x10d)+_0x5afd90['secondValue']+_0x110b6c(0x420)+_0x5145fb),_0x671bf0===null?_0x671bf0=_0x5145fb:_0x5afd90[_0x110b6c(0x695)]===_0x110b6c(0x370)?(_0x671bf0=_0x671bf0&&_0x5145fb,_0x5145fb||(_0x3eb090=!0x0)):_0x5afd90[_0x110b6c(0x695)]==='or'&&(_0x3eb090||(_0x671bf0=_0x671bf0||_0x5145fb));}_0x671bf0===null&&(_0x671bf0=!0x0);let _0x1eb17e={'moreLogs':_0x520ab5};_0x278664[_0x110b6c(0x5e8)][_0x110b6c(0x3bf)]=_0x671bf0,await this[_0x110b6c(0x500)](_0x278664,_0x4c51e7,_0x1eb17e);}catch(_0x135149){this[_0x110b6c(0x2f0)][_0x110b6c(0x73d)](this[_0x110b6c(0x52c)]+'\x20('+this['instance'][_0x110b6c(0x67e)]+_0x110b6c(0x462)+(_0x135149 instanceof Error?_0x135149['message']:JSON[_0x110b6c(0x61a)](_0x135149,null,0x2)));}}['evaluateCondition'](_0x2b1a2f,_0x70312b){const _0x21644a=a0_0x5d3ab0;let _0x53928c=_0x70312b[_0x21644a(0x455)],_0x54eb47=_0x70312b[_0x21644a(0x688)];typeof _0x53928c==_0x21644a(0x542)&&(_0x53928c=this['replaceVariables'](_0x53928c,_0x2b1a2f[_0x21644a(0x5e8)][_0x21644a(0x2ae)])??''),typeof _0x54eb47==_0x21644a(0x542)&&(_0x54eb47=this[_0x21644a(0x36c)](_0x54eb47,_0x2b1a2f[_0x21644a(0x5e8)][_0x21644a(0x2ae)])??'');try{switch(_0x70312b[_0x21644a(0x305)]){case'equal':return _0x53928c===_0x54eb47;case _0x21644a(0x3cd):return _0x53928c!==_0x54eb47;case _0x21644a(0x2a7):return this['contains'](_0x53928c,_0x54eb47);case _0x21644a(0x5ec):return!this[_0x21644a(0x2a7)](_0x53928c,_0x54eb47);case _0x21644a(0x3a7):return parseFloat(_0x53928c)>parseFloat(_0x54eb47);case _0x21644a(0x66a):return parseFloat(_0x53928c)<parseFloat(_0x54eb47);case'notEmpty':return _0x53928c!=='';case _0x21644a(0x5e0):return _0x53928c==='';case _0x21644a(0x58c):return new RegExp(_0x54eb47)[_0x21644a(0x12d)](_0x53928c);case _0x21644a(0x451):return!new RegExp(_0x54eb47)[_0x21644a(0x12d)](_0x53928c);default:return!0x1;}}catch(_0x365c45){return console[_0x21644a(0x73d)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x365c45),!0x1;}}['contains'](_0x3035d4,_0x3f9689){const _0x3c1247=a0_0x5d3ab0;if(_0x3035d4===_0x3f9689&&/^\d+$/[_0x3c1247(0x12d)](_0x3035d4))return!0x0;if(this['isListOfNumbers'](_0x3035d4)&&/^\d+$/['test'](_0x3f9689)){let _0x5d42d0=_0x3035d4[_0x3c1247(0x4f7)](',')[_0x3c1247(0x2de)](_0x315ce0=>parseInt(_0x315ce0[_0x3c1247(0x68c)]())),_0x5f640d=parseInt(_0x3f9689);return _0x5d42d0[_0x3c1247(0x5c5)](_0x5f640d);}return _0x3035d4[_0x3c1247(0x5c5)](_0x3f9689);}[a0_0x5d3ab0(0x4fe)](_0x54f317){const _0x27a233=a0_0x5d3ab0;return/^\d+(,\d+)*$/[_0x27a233(0x12d)](_0x54f317);}[a0_0x5d3ab0(0x261)](_0x2e92a5){const _0xb47c56=a0_0x5d3ab0;let _0x504c32=!0x0,_0x5940a3=null;for(let _0x283b0 of _0x2e92a5){let _0xffdbde=this[_0xb47c56(0x758)](_0x283b0);if(_0x5940a3==='or'&&_0xffdbde){_0x504c32=!0x0;break;}if(_0x5940a3===_0xb47c56(0x370)&&!_0xffdbde){_0x504c32=!0x1;break;}_0x5940a3=_0x283b0[_0xb47c56(0x695)];}return _0x504c32;}['evaluateConditionTest'](_0x5c2581){const _0x267aca=a0_0x5d3ab0;let _0x5a8106=_0x5c2581[_0x267aca(0x455)],_0x3c021a=_0x5c2581[_0x267aca(0x688)];try{switch(_0x5c2581[_0x267aca(0x305)]){case'equal':return String(_0x5a8106)===String(_0x3c021a);case _0x267aca(0x3cd):return String(_0x5a8106)!==String(_0x3c021a);case _0x267aca(0x2a7):return String(_0x5a8106)[_0x267aca(0x5c5)](String(_0x3c021a));case _0x267aca(0x5ec):return!String(_0x5a8106)[_0x267aca(0x5c5)](String(_0x3c021a));case _0x267aca(0x3a7):return parseFloat(String(_0x5a8106))>parseFloat(String(_0x3c021a));case _0x267aca(0x66a):return parseFloat(String(_0x5a8106))<parseFloat(String(_0x3c021a));case _0x267aca(0x234):return String(_0x5a8106)!=='';case'empty':return String(_0x5a8106)==='';case'matchRegex':return new RegExp(String(_0x3c021a))['test'](String(_0x5a8106));case _0x267aca(0x451):return!new RegExp(String(_0x3c021a))[_0x267aca(0x12d)](String(_0x5a8106));default:return!0x1;}}catch(_0x40d29b){return console['error']('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x40d29b),!0x1;}}async[a0_0x5d3ab0(0x5c9)](_0x2ac134,_0x25c190){const _0x2792c8=a0_0x5d3ab0;if(this['logger'][_0x2792c8(0x444)](this['instanceName']+'\x20('+this[_0x2792c8(0x63a)][_0x2792c8(0x67e)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x2ac134||!_0x25c190)return this[_0x2792c8(0x2f0)][_0x2792c8(0x73d)](this[_0x2792c8(0x52c)]+'\x20('+this[_0x2792c8(0x63a)][_0x2792c8(0x67e)]+_0x2792c8(0x593)),null;let _0x42cbbd=_0x2ac134['chatLog']['lastReceivedMessage'][_0x2792c8(0xe7)]['id'];this[_0x2792c8(0x2f0)][_0x2792c8(0x444)](this[_0x2792c8(0x52c)]+'\x20('+this[_0x2792c8(0x63a)][_0x2792c8(0x67e)]+_0x2792c8(0x2e3)+_0x42cbbd);let _0x500224={'key':{'id':_0x42cbbd}},_0x4b39e8=_0x25c190[_0x2792c8(0xb9)];_0x2ac134[_0x2792c8(0x5e8)][_0x2792c8(0x2ae)]['_'+_0x4b39e8+'.fileUrl']=null,_0x2ac134[_0x2792c8(0x5e8)][_0x2792c8(0x2ae)]['_'+_0x4b39e8+'.mimetype']=null,_0x2ac134[_0x2792c8(0x5e8)]['realVariables']['_'+_0x4b39e8+_0x2792c8(0x36d)]=null,_0x2ac134['chatLog'][_0x2792c8(0x2ae)]['_'+_0x4b39e8+_0x2792c8(0x3ba)]=_0x2ac134[_0x2792c8(0x5e8)]['lastReceivedMessage'][_0x2792c8(0xcc)];try{let _0x530b16=await this['getBase64FromMediaMessage'](_0x500224);this[_0x2792c8(0x2f0)][_0x2792c8(0x444)](this[_0x2792c8(0x52c)]+'\x20('+this[_0x2792c8(0x63a)][_0x2792c8(0x67e)]+_0x2792c8(0x1ec)),_0x2ac134[_0x2792c8(0x5e8)][_0x2792c8(0x2ae)]['_'+_0x4b39e8+_0x2792c8(0x6da)]=_0x530b16['fileUrl'],_0x2ac134['chatLog'][_0x2792c8(0x2ae)]['_'+_0x4b39e8+_0x2792c8(0x2ac)]=_0x530b16[_0x2792c8(0xf5)];let _0xcd9c7a=_0x530b16[_0x2792c8(0xf5)][_0x2792c8(0x4c1)](/\/(\w+)$/),_0x2620cd=_0xcd9c7a?_0xcd9c7a[0x1]:null;_0x2ac134[_0x2792c8(0x5e8)][_0x2792c8(0x2ae)]['_'+_0x4b39e8+_0x2792c8(0x36d)]=_0x2620cd,this[_0x2792c8(0x2f0)][_0x2792c8(0x444)](this['instanceName']+'\x20('+this[_0x2792c8(0x63a)][_0x2792c8(0x67e)]+_0x2792c8(0x8a)+_0x4b39e8+'\x27.');}catch(_0x6ecd61){this['logger']['error'](this['instanceName']+'\x20('+this[_0x2792c8(0x63a)][_0x2792c8(0x67e)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x6ecd61);}let _0x2d7b1e=_0x2ac134['chatLog'][_0x2792c8(0x620)][_0x2792c8(0x512)]||_0x2ac134[_0x2792c8(0x5e8)][_0x2792c8(0x620)]['caption']||_0x2ac134[_0x2792c8(0x5e8)][_0x2792c8(0x620)][_0x2792c8(0x28f)];try{_0x2ac134[_0x2792c8(0x5e8)]['realVariables']||(_0x2ac134[_0x2792c8(0x5e8)][_0x2792c8(0x2ae)]={});let _0x2229f5=_0x2ac134[_0x2792c8(0x5e8)]['realVariables'][_0x4b39e8];_0x2ac134[_0x2792c8(0x5e8)][_0x2792c8(0x2ae)][_0x4b39e8]=_0x2d7b1e;let _0x2eb20a={'variable':_0x4b39e8,'oldValue':_0x2229f5,'newValue':_0x2d7b1e};this['updateConversation'](_0x2ac134,_0x25c190,_0x2eb20a),this[_0x2792c8(0x2f0)]['verbose'](this[_0x2792c8(0x52c)]+'\x20('+this[_0x2792c8(0x63a)][_0x2792c8(0x67e)]+_0x2792c8(0x320));}catch(_0x139656){let _0x4f3703={'error':!0x0,'errorLog':_0x139656[_0x2792c8(0x651)]()};return this[_0x2792c8(0x500)](_0x2ac134,_0x25c190,_0x4f3703),this[_0x2792c8(0x2f0)][_0x2792c8(0x73d)](this[_0x2792c8(0x52c)]+'\x20('+this[_0x2792c8(0x63a)][_0x2792c8(0x67e)]+_0x2792c8(0x712)+(_0x139656 instanceof Error?_0x139656['message']:JSON[_0x2792c8(0x61a)](_0x139656,null,0x2))),null;}}async[a0_0x5d3ab0(0x769)](_0x599d69,_0x15728a){const _0xf448b0=a0_0x5d3ab0;if(this[_0xf448b0(0x2f0)][_0xf448b0(0x444)](this[_0xf448b0(0x52c)]+'\x20('+this[_0xf448b0(0x63a)][_0xf448b0(0x67e)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x599d69||!_0x15728a)return this[_0xf448b0(0x2f0)][_0xf448b0(0x73d)](this[_0xf448b0(0x52c)]+'\x20('+this[_0xf448b0(0x63a)]['wuid']+_0xf448b0(0x593)),null;let _0x34ccbe=Date[_0xf448b0(0x10f)](),_0x23b1a2=parseInt(_0x15728a['stopMinutes'],0xa);if(isNaN(_0x23b1a2))return this[_0xf448b0(0x2f0)][_0xf448b0(0x73d)](this[_0xf448b0(0x52c)]+'\x20('+this['instance'][_0xf448b0(0x67e)]+_0xf448b0(0x6fe)),null;let _0x510419={'newStoppedUntil':_0x34ccbe+_0x23b1a2*0x3c*0x3e8};return await this[_0xf448b0(0x500)](_0x599d69,_0x15728a,_0x510419,!0x0),null;}async[a0_0x5d3ab0(0x3c1)](_0x3c6aef,_0x295894){const _0x4da266=a0_0x5d3ab0;try{switch(_0x295894[_0x4da266(0x20a)][_0x4da266(0x90)]){case _0x4da266(0x67d):await this[_0x4da266(0x62f)](_0x3c6aef,_0x295894);break;case _0x4da266(0x5a5):await this[_0x4da266(0x1bf)](_0x3c6aef,_0x295894);break;case _0x4da266(0x20e):await this[_0x4da266(0x585)](_0x3c6aef,_0x295894);break;case'sendAudio':await this[_0x4da266(0x4a6)](_0x3c6aef,_0x295894);break;case _0x4da266(0x11e):await this[_0x4da266(0x360)](_0x3c6aef,_0x295894);break;case'sendPoll':await this[_0x4da266(0x661)](_0x3c6aef,_0x295894);break;case'sendMenu':await this[_0x4da266(0x661)](_0x3c6aef,_0x295894);break;case _0x4da266(0x202):await this[_0x4da266(0x372)](_0x3c6aef,_0x295894);break;default:this[_0x4da266(0x2f0)][_0x4da266(0x73d)](this['instanceName']+'\x20('+this['instance'][_0x4da266(0x67e)]+_0x4da266(0x2ab)+_0x295894[_0x4da266(0x20a)][_0x4da266(0x90)]);}}catch(_0x246263){this[_0x4da266(0x2f0)][_0x4da266(0x73d)](this['instanceName']+'\x20('+this[_0x4da266(0x63a)][_0x4da266(0x67e)]+_0x4da266(0x1fc)+(_0x246263 instanceof Error?_0x246263[_0x4da266(0x5fc)]:JSON[_0x4da266(0x61a)](_0x246263,null,0x2)));}}async[a0_0x5d3ab0(0x500)](_0x57a7a6,_0x42ffe5,_0x51a737,_0x2a2a47=!0x1,_0x12ba4d=!0x1){const _0x17bb12=a0_0x5d3ab0;_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x3b2)]||(_0x57a7a6[_0x17bb12(0x5e8)]['blockLogs']=[]);let _0x4be891=(_0x57a7a6[_0x17bb12(0x5e8)]['blockLogs']?.[_0x17bb12(0x6d9)]??0x0)+0x1,_0x2995d2=_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x3b2)][_0x17bb12(0x589)](_0xac8507=>String(_0xac8507[_0x17bb12(0x1fe)])===String(_0x42ffe5['_id']))[_0x17bb12(0x6d9)]+0x1,_0x4df161=_0x51a737?.[_0x17bb12(0x39f)]??Date['now'](),_0x416da0=_0x51a737?.[_0x17bb12(0x73d)]?_0x51a737[_0x17bb12(0x3aa)]??_0x51a737['error'][_0x17bb12(0x651)]():void 0x0,_0x5bc793={'onTime':_0x4df161,'blockId':_0x42ffe5[_0x17bb12(0x4eb)],'order':_0x4be891,'activatedCount':_0x2995d2,'error':_0x51a737?.[_0x17bb12(0x73d)]??!0x1,'messageId':_0x51a737?.[_0x17bb12(0x71d)],'apiResponse':_0x51a737?.[_0x17bb12(0x279)],'apiResponseString':_0x51a737?.[_0x17bb12(0x279)]?JSON[_0x17bb12(0x61a)](_0x51a737?.['apiResponse']):void 0x0,'variable':_0x51a737?.[_0x17bb12(0x375)],'oldValue':_0x51a737?.[_0x17bb12(0x169)],'newValue':_0x51a737?.['newValue'],'newStoppedUntil':_0x51a737?.[_0x17bb12(0x1a0)],'moreLogs':_0x51a737?.[_0x17bb12(0x3b8)],'errorLog':_0x416da0};if(_0x51a737[_0x17bb12(0x3b8)]&&_0x51a737[_0x17bb12(0x3b8)][_0x17bb12(0x6d9)]>0x0){let _0x1bdc8d=_0x51a737[_0x17bb12(0x3b8)][_0x17bb12(0x2de)](_0x1eed22=>this['replaceVariablesLogs'](_0x1eed22,_0x57a7a6['chatLog'][_0x17bb12(0x2ae)]));_0x5bc793[_0x17bb12(0x3b8)]=_0x1bdc8d;}if(_0x57a7a6['chatLog'][_0x17bb12(0x2ae)]||(_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x2ae)]={}),_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x2ae)]['_activatedCount']=String(_0x2995d2),_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x2ae)]['_error']=String(_0x51a737['error']??!0x1),_0x57a7a6[_0x17bb12(0x5e8)]['blockLogs'][_0x17bb12(0x6a7)](_0x5bc793),_0x57a7a6[_0x17bb12(0x5e8)]['realVariables'][_0x17bb12(0x5a9)]&&_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x2ae)][_0x17bb12(0x5a9)]!==_0x57a7a6['remoteJid']){let _0x20e384=(await this[_0x17bb12(0x17d)]({'numbers':[_0x57a7a6[_0x17bb12(0x5e8)]['realVariables'][_0x17bb12(0x5a9)]]}))[0x0]['jid'];_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x2ae)][_0x17bb12(0x5a9)]=_0x20e384,_0x57a7a6[_0x17bb12(0x623)]=_0x20e384;try{let _0x22a0bb={'_id':{'$ne':_0x57a7a6[_0x17bb12(0x4eb)]},'remoteJid':_0x20e384,'status':_0x17bb12(0x40a)},_0x3436c3={'status':_0x17bb12(0x605)};await this[_0x17bb12(0x40c)]['flowConversation'][_0x17bb12(0x3d0)](_0x22a0bb,_0x3436c3,this[_0x17bb12(0x63a)]['wuid']),this[_0x17bb12(0x2f0)][_0x17bb12(0x444)](this[_0x17bb12(0x52c)]+'\x20('+this[_0x17bb12(0x63a)][_0x17bb12(0x67e)]+_0x17bb12(0xd3));}catch(_0x1a6fd7){this[_0x17bb12(0x2f0)][_0x17bb12(0x73d)](this[_0x17bb12(0x52c)]+'\x20('+this['instance'][_0x17bb12(0x67e)]+_0x17bb12(0x70a)+_0x1a6fd7[_0x17bb12(0x5fc)]);}try{let _0xb2c8e8=_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x2ae)],_0x4aafde=await this[_0x17bb12(0x1f4)](_0x20e384),_0x411baa={..._0xb2c8e8,..._0x4aafde,'_remoteJid':_0x20e384};_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x2ae)]=_0x411baa;}catch(_0x824d0d){this['logger'][_0x17bb12(0x73d)](this['instanceName']+'\x20('+this[_0x17bb12(0x63a)][_0x17bb12(0x67e)]+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x824d0d['message']);}}_0x57a7a6['chatLog']['lastBlockId']=_0x42ffe5[_0x17bb12(0x4eb)][_0x17bb12(0x651)](),_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x548)]&&(_0x57a7a6['chatLog'][_0x17bb12(0x548)]=_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x548)]),_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x620)]&&(_0x57a7a6[_0x17bb12(0x5e8)]['lastReceivedMessage']=_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x620)]),_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x3bf)]&&(_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x3bf)]=_0x57a7a6[_0x17bb12(0x5e8)][_0x17bb12(0x3bf)]),_0x12ba4d&&(_0x57a7a6['status']=_0x17bb12(0x605)),_0x2a2a47?this[_0x17bb12(0x1d6)](_0x57a7a6):this['goNextblock'](_0x57a7a6,_0x42ffe5);}['replaceVariablesLogs'](_0x4aadb2,_0x2be6e9){const _0x37e26d=a0_0x5d3ab0;return _0x4aadb2['replace'](/\{\{([^}]+)\}\}/g,(_0x34ab3c,_0x104201)=>_0x2be6e9[_0x104201]?'{{'+_0x104201+_0x37e26d(0x384)+_0x2be6e9[_0x104201]+'\x22':'{{'+_0x104201+_0x37e26d(0x739));}async['saveConversationToDatabase'](_0x5dd734){const _0x315ef1=a0_0x5d3ab0;try{let _0x198648=Object['entries'](_0x5dd734[_0x315ef1(0x5e8)][_0x315ef1(0x2ae)])[_0x315ef1(0x2de)](([_0x297cf2,_0x122c20])=>({'name':_0x297cf2,'value':_0x122c20})),_0x6a0dde={'status':_0x5dd734[_0x315ef1(0x489)],'remoteJid':_0x5dd734[_0x315ef1(0x623)],'blocks':_0x5dd734[_0x315ef1(0x38f)],'waitingMenu_id':_0x5dd734[_0x315ef1(0x37c)],'waitingMenu_text':_0x5dd734[_0x315ef1(0x56d)],'waitingMenu_replyOptions':_0x5dd734[_0x315ef1(0x4fc)],'chatLog':{'lastBlockId':_0x5dd734[_0x315ef1(0x5e8)]['lastBlockId'],'lastSendMessage':_0x5dd734[_0x315ef1(0x5e8)][_0x315ef1(0x548)],'lastReceivedMessage':_0x5dd734['chatLog']['lastReceivedMessage'],'lastCondition':_0x5dd734[_0x315ef1(0x5e8)][_0x315ef1(0x3bf)],'chatVariables':_0x198648,'realVariables':_0x5dd734[_0x315ef1(0x5e8)]['realVariables'],'blockLogs':_0x5dd734[_0x315ef1(0x5e8)][_0x315ef1(0x3b2)]}},_0x16cf67=await this[_0x315ef1(0x40c)]['flowConversation'][_0x315ef1(0x63f)](_0x5dd734[_0x315ef1(0x4eb)],_0x6a0dde,this['instance'][_0x315ef1(0x67e)]);if(_0x16cf67){this[_0x315ef1(0x2f0)][_0x315ef1(0x444)](this[_0x315ef1(0x52c)]+'\x20('+this[_0x315ef1(0x63a)]['wuid']+_0x315ef1(0x4e5)+_0x16cf67[_0x315ef1(0x4eb)]);try{let _0x16572f=[_0x315ef1(0x784),'nomecompleto',_0x315ef1(0x142),_0x315ef1(0x789),'status','notas','responsavelid',_0x315ef1(0x6e1),_0x315ef1(0x590),_0x315ef1(0x486)];if(!this[_0x315ef1(0x3f8)]&&(await this['getAutomateSystem'](),!this[_0x315ef1(0x3f8)]))throw new Error(_0x315ef1(0x3ce));let _0xd6b445=this[_0x315ef1(0x3f8)]?.[_0x315ef1(0x312)][_0x315ef1(0x2de)](_0x25e451=>_0x25e451[_0x315ef1(0x26b)]),_0x58674c={};Object[_0x315ef1(0xd0)](_0x5dd734[_0x315ef1(0x5e8)][_0x315ef1(0x2ae)])[_0x315ef1(0x394)](([_0x123d70,_0x436d2c])=>{const _0x12fe65=_0x315ef1;_0x16572f['includes'](_0x123d70)&&(_0x123d70===_0x12fe65(0x6e1)&&typeof _0x436d2c==_0x12fe65(0x542)?_0x58674c[_0x123d70]=_0x436d2c[_0x12fe65(0x4f7)](',')[_0x12fe65(0x2de)](_0x5b3fd9=>_0x5b3fd9['trim']())[_0x12fe65(0x589)](_0x57b6bc=>_0x57b6bc!==''):_0x123d70===_0x12fe65(0x590)&&typeof _0x436d2c==_0x12fe65(0x542)?_0x58674c[_0x123d70]=_0x436d2c[_0x12fe65(0x4f7)](',')['map'](_0x4528ba=>_0x4528ba[_0x12fe65(0x68c)]())['filter'](_0x2bf69f=>_0x2bf69f!==''):_0x58674c[_0x123d70]=_0x436d2c);});let _0x5486d6=_0x5dd734[_0x315ef1(0x5e8)][_0x315ef1(0x3b2)][_0x5dd734[_0x315ef1(0x5e8)][_0x315ef1(0x3b2)][_0x315ef1(0x6d9)]-0x1];if(_0x5486d6){let _0x23caea=_0x5486d6['newStoppedUntil'];_0x23caea!==void 0x0&&(_0x58674c['desativadoFluxoAte']=_0x23caea['toString']());}let _0x550365=_0x198648[_0x315ef1(0x589)](_0x1a7f70=>_0xd6b445['includes'](_0x1a7f70[_0x315ef1(0x26b)]));this[_0x315ef1(0x2f0)][_0x315ef1(0x444)](this[_0x315ef1(0x52c)]+'\x20('+this[_0x315ef1(0x63a)][_0x315ef1(0x67e)]+_0x315ef1(0x73c)),this[_0x315ef1(0x2f0)][_0x315ef1(0x444)](_0x58674c),this[_0x315ef1(0x2f0)][_0x315ef1(0x444)](this['instanceName']+'\x20('+this[_0x315ef1(0x63a)]['wuid']+_0x315ef1(0x42d)),this[_0x315ef1(0x2f0)][_0x315ef1(0x444)](_0x550365);let _0x29774a=_0x550365[_0x315ef1(0x2de)](_0x2da469=>{const _0x2175c5=_0x315ef1;let _0x5cd988=this[_0x2175c5(0x3f8)]?.[_0x2175c5(0x312)][_0x2175c5(0x299)](_0x4a5a99=>_0x4a5a99[_0x2175c5(0x26b)]===_0x2da469[_0x2175c5(0x26b)]);if(!_0x5cd988)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x2da469[_0x2175c5(0x26b)]);return{'_id':_0x5cd988[_0x2175c5(0x4eb)],'value':_0x2da469['value']};});this[_0x315ef1(0x2f0)][_0x315ef1(0x444)](this['instanceName']+'\x20('+this[_0x315ef1(0x63a)][_0x315ef1(0x67e)]+_0x315ef1(0x3f9)),this[_0x315ef1(0x2f0)][_0x315ef1(0x444)](_0x29774a),await this[_0x315ef1(0x19a)](_0x5dd734[_0x315ef1(0x623)],_0x58674c,_0x29774a);}catch(_0x229611){this['logger'][_0x315ef1(0x73d)](this[_0x315ef1(0x52c)]+'\x20('+this['instance'][_0x315ef1(0x67e)]+_0x315ef1(0x291)+(_0x229611 instanceof Error?_0x229611[_0x315ef1(0x5fc)]:JSON[_0x315ef1(0x61a)](_0x229611,null,0x2)));}}else this[_0x315ef1(0x2f0)]['error'](this['instanceName']+'\x20('+this[_0x315ef1(0x63a)][_0x315ef1(0x67e)]+_0x315ef1(0x6b8));}catch(_0x2ab93d){this[_0x315ef1(0x2f0)][_0x315ef1(0x73d)](this[_0x315ef1(0x52c)]+'\x20('+this[_0x315ef1(0x63a)][_0x315ef1(0x67e)]+_0x315ef1(0x765)+(_0x2ab93d instanceof Error?_0x2ab93d[_0x315ef1(0x5fc)]:JSON['stringify'](_0x2ab93d,null,0x2)));}}async[a0_0x5d3ab0(0x19a)](_0x42e67a,_0x37d76e,_0x804257){const _0x3a2733=a0_0x5d3ab0;try{let _0x97e71f={'leadInfo.leadnome':_0x37d76e[_0x3a2733(0x784)],'leadInfo.nomecompleto':_0x37d76e[_0x3a2733(0x6e5)],'leadInfo.email':_0x37d76e[_0x3a2733(0x142)],'leadInfo.cpf':_0x37d76e[_0x3a2733(0x789)],'leadInfo.status':_0x37d76e[_0x3a2733(0x489)],'leadInfo.notas':_0x37d76e[_0x3a2733(0x103)],'leadInfo.responsavelid':_0x37d76e['responsavelid'],'leadInfo.tags':_0x37d76e[_0x3a2733(0x6e1)],'leadInfo.etiquetas':_0x37d76e[_0x3a2733(0x590)],'leadInfo.customFields':_0x804257,'leadInfo.atendimentoAberto':_0x37d76e['atendimentoAberto']},_0x4a7501=await this['repository'][_0x3a2733(0x23a)][_0x3a2733(0x639)]({'where':{'_id':_0x42e67a}},this['instance'][_0x3a2733(0x67e)]);if(!_0x4a7501)return'chat\x20não\x20encontrado';let _0x3373c3=new Set(_0x4a7501[_0x3a2733(0x314)][_0x3a2733(0x590)]||[]),_0x3a5330=new Set(_0x37d76e[_0x3a2733(0x590)]||[]),_0x264e89=await this[_0x3a2733(0x40c)][_0x3a2733(0x2c9)][_0x3a2733(0x299)]({'where':{}},this[_0x3a2733(0x63a)]['wuid']),_0x3b116d=new Set(_0x264e89[_0x3a2733(0x2de)](_0x57aea2=>_0x57aea2[_0x3a2733(0x4eb)])),_0x29ddc2=[..._0x3a5330][_0x3a2733(0x589)](_0x185655=>!_0x3373c3[_0x3a2733(0x70f)](_0x185655)&&_0x3b116d[_0x3a2733(0x70f)](_0x185655)),_0x3bc5b2=[..._0x3373c3][_0x3a2733(0x589)](_0x5ee8e5=>!_0x3a5330[_0x3a2733(0x70f)](_0x5ee8e5));for(let _0x2cd56e of _0x29ddc2)await this['AddChatLabel'](_0x2cd56e,_0x4a7501[_0x3a2733(0x4eb)]),_0x3373c3[_0x3a2733(0x2cb)](_0x2cd56e);for(let _0x2e69ab of _0x3bc5b2)await this[_0x3a2733(0x6a6)](_0x2e69ab,_0x4a7501['_id']),_0x3373c3['delete'](_0x2e69ab);if(_0x3a2733(0x4df)in _0x37d76e){let _0x1c88d6=_0x37d76e['desativadoFluxoAte'];_0x97e71f['leadInfo.desativadoFluxoAte']=_0x1c88d6?Number(_0x1c88d6):null;}if('atendimentoAberto'in _0x37d76e){let _0x32bc26=_0x37d76e[_0x3a2733(0x486)]['toLowerCase']();_0x97e71f['leadInfo.atendimentoAberto']=_0x32bc26===_0x3a2733(0x4a0)||_0x32bc26==='1'||_0x32bc26==='yes'||_0x32bc26===_0x3a2733(0x727);}let _0x266fb5=await this[_0x3a2733(0x40c)][_0x3a2733(0x23a)][_0x3a2733(0x63f)]({'where':{'_id':_0x42e67a}},_0x97e71f,this[_0x3a2733(0x63a)][_0x3a2733(0x67e)]);_0x266fb5?(this['logger'][_0x3a2733(0x444)](this[_0x3a2733(0x52c)]+'\x20('+this[_0x3a2733(0x63a)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x266fb5['_id']),J(this[_0x3a2733(0x52c)],_0x3a2733(0x471),{'chat':_0x266fb5})):this[_0x3a2733(0x2f0)][_0x3a2733(0x73d)](this[_0x3a2733(0x52c)]+'\x20('+this[_0x3a2733(0x63a)][_0x3a2733(0x67e)]+_0x3a2733(0x1a4));}catch(_0x29ec22){this['logger'][_0x3a2733(0x73d)](this[_0x3a2733(0x52c)]+'\x20('+this['instance'][_0x3a2733(0x67e)]+_0x3a2733(0x26f)+(_0x29ec22 instanceof Error?_0x29ec22[_0x3a2733(0x5fc)]:JSON['stringify'](_0x29ec22,null,0x2)));}}async['updateStopChat'](_0x27897e,_0x588bf5){const _0x3e009f=a0_0x5d3ab0;this[_0x3e009f(0x2f0)][_0x3e009f(0x444)](this[_0x3e009f(0x52c)]+'\x20('+this[_0x3e009f(0x63a)][_0x3e009f(0x67e)]+'):\x20atualização\x20chat:\x20'+_0x588bf5);try{let _0x3f8298=await this['repository'][_0x3e009f(0x23a)][_0x3e009f(0x63f)]({'where':{'_id':_0x27897e[_0x3e009f(0x623)]}},{'leadInfo.desativadoFluxoAte':_0x588bf5},this[_0x3e009f(0x63a)]['wuid']);this['logger'][_0x3e009f(0x444)](this[_0x3e009f(0x52c)]+'\x20('+this[_0x3e009f(0x63a)][_0x3e009f(0x67e)]+_0x3e009f(0x355)+_0x27897e[_0x3e009f(0x4eb)]),this[_0x3e009f(0x2f0)][_0x3e009f(0x444)](this[_0x3e009f(0x52c)]+'\x20('+this['instance'][_0x3e009f(0x67e)]+_0x3e009f(0x73b)+JSON[_0x3e009f(0x61a)](_0x3f8298,null,0x2)),_0x3f8298&&J(this[_0x3e009f(0x52c)],_0x3e009f(0x471),{'chat':_0x3f8298});}catch(_0x1ee525){this[_0x3e009f(0x2f0)][_0x3e009f(0x73d)](this[_0x3e009f(0x52c)]+'\x20('+this['instance'][_0x3e009f(0x67e)]+_0x3e009f(0x31c)+(_0x1ee525 instanceof Error?_0x1ee525[_0x3e009f(0x5fc)]:JSON[_0x3e009f(0x61a)](_0x1ee525,null,0x2)));}}async[a0_0x5d3ab0(0x602)](_0xac8480){const _0x4eabcf=a0_0x5d3ab0;try{this[_0x4eabcf(0x2f0)][_0x4eabcf(0x444)](this[_0x4eabcf(0x52c)]+'\x20('+this['instance'][_0x4eabcf(0x67e)]+'):\x20Buscando\x20flow...');let _0xe89244=_0xac8480[_0x4eabcf(0x143)](/\D/g,''),_0x23f4ae=await this[_0x4eabcf(0x40c)][_0x4eabcf(0x475)][_0x4eabcf(0x639)]({'where':{'testingWith':_0xe89244}},this['instance']['wuid']);return _0x23f4ae||(this[_0x4eabcf(0x2f0)]['verbose'](this[_0x4eabcf(0x52c)]+'\x20('+this[_0x4eabcf(0x63a)][_0x4eabcf(0x67e)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x23f4ae=await this[_0x4eabcf(0x40c)][_0x4eabcf(0x475)][_0x4eabcf(0x639)]({'where':{'default':!0x0}},this[_0x4eabcf(0x63a)][_0x4eabcf(0x67e)])),_0x23f4ae||(this[_0x4eabcf(0x2f0)][_0x4eabcf(0x444)](this[_0x4eabcf(0x52c)]+'\x20('+this[_0x4eabcf(0x63a)][_0x4eabcf(0x67e)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x171ed4){return this['logger'][_0x4eabcf(0x73d)](this[_0x4eabcf(0x52c)]+'\x20('+this['instance'][_0x4eabcf(0x67e)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x171ed4 instanceof Error?_0x171ed4[_0x4eabcf(0x5fc)]:JSON[_0x4eabcf(0x61a)](_0x171ed4,null,0x2))),null;}}async[a0_0x5d3ab0(0x790)](_0x47ec1a,_0x428c04){const _0x567623=a0_0x5d3ab0;try{let _0x5b25d7=!!_0x428c04[_0x567623(0x28f)],_0x521b55=_0x428c04[_0x567623(0x514)],_0x5e1dca=null;if(this[_0x567623(0x2f0)]['verbose'](this[_0x567623(0x52c)]+'\x20('+this[_0x567623(0x63a)][_0x567623(0x67e)]+_0x567623(0x5b7)+_0x5b25d7+_0x567623(0x752)+_0x521b55),_0x5b25d7){this[_0x567623(0x2f0)]['verbose'](this[_0x567623(0x52c)]+'\x20('+this[_0x567623(0x63a)][_0x567623(0x67e)]+_0x567623(0x759));let _0x131994={'where':{'remoteJid':_0x47ec1a,'waitingMenu_id':_0x521b55}};if(_0x5e1dca=await this[_0x567623(0x40c)][_0x567623(0x112)][_0x567623(0x639)](_0x131994,this[_0x567623(0x63a)][_0x567623(0x67e)]),!_0x5e1dca)return this[_0x567623(0x2f0)]['verbose'](this[_0x567623(0x52c)]+'\x20('+this[_0x567623(0x63a)][_0x567623(0x67e)]+_0x567623(0x6c5)),null;let _0x5f2dcb=Date[_0x567623(0x10f)](),_0x1a8d48=_0x5e1dca?.[_0x567623(0x44f)]||0x0,_0xfcf19d=_0x5f2dcb-_0x1a8d48*0x3c*0x3e8;if(_0x5e1dca[_0x567623(0x2d3)]<_0xfcf19d){this[_0x567623(0x2f0)][_0x567623(0x444)](this['instanceName']+'\x20('+this[_0x567623(0x63a)][_0x567623(0x67e)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x5b4138={'number':_0x5e1dca[_0x567623(0x623)],'options':{'delay':0x0},'textMessage':{'text':_0x5e1dca[_0x567623(0x326)]}};await this['textMessage'](_0x5b4138);let _0x55e7fa={'status':_0x567623(0x605),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x567623(0x40c)][_0x567623(0x112)][_0x567623(0x63f)](_0x5e1dca[_0x567623(0x4eb)],_0x55e7fa,this[_0x567623(0x63a)][_0x567623(0x67e)]),null;}return _0x5e1dca[_0x567623(0x2d3)]=Date[_0x567623(0x10f)](),_0x5e1dca['chatLog'][_0x567623(0x620)]=_0x428c04,_0x5e1dca;}else{this[_0x567623(0x2f0)][_0x567623(0x444)](this[_0x567623(0x52c)]+'\x20('+this[_0x567623(0x63a)][_0x567623(0x67e)]+_0x567623(0x8c)+this[_0x567623(0x63a)][_0x567623(0x67e)]+_0x567623(0x2aa)),this[_0x567623(0x2f0)]['verbose'](this[_0x567623(0x52c)]+'\x20('+this['instance'][_0x567623(0x67e)]+_0x567623(0x55c));let _0x532081={'where':{'remoteJid':_0x47ec1a,'status':_0x567623(0x40a)}};if(_0x5e1dca=await this[_0x567623(0x40c)][_0x567623(0x112)][_0x567623(0x639)](_0x532081,this['instance']['wuid']),!_0x5e1dca){let _0x3f5ac2=await this['findFlow'](_0x47ec1a);if(_0x3f5ac2&&(_0x5e1dca=await this[_0x567623(0x10e)](_0x3f5ac2,_0x428c04[_0x567623(0xe7)],_0x428c04)),!_0x5e1dca)return null;}let _0x191a20=Date[_0x567623(0x10f)](),_0x311cc2=_0x5e1dca?.['minutesToClose']||0x0,_0x264b96=_0x191a20-_0x311cc2*0x3c*0x3e8;if(this[_0x567623(0x2f0)]['verbose'](this[_0x567623(0x52c)]+'\x20('+this[_0x567623(0x63a)][_0x567623(0x67e)]+_0x567623(0x6a1)+_0x191a20+_0x567623(0xa0)+_0x311cc2+_0x567623(0x97)+_0x264b96),this['logger'][_0x567623(0x444)](this[_0x567623(0x52c)]+'\x20('+this[_0x567623(0x63a)][_0x567623(0x67e)]+_0x567623(0x6b4)),this['logger'][_0x567623(0x444)](this[_0x567623(0x52c)]+'\x20('+this[_0x567623(0x63a)]['wuid']+_0x567623(0x586)+_0x5e1dca[_0x567623(0x2d3)]),this[_0x567623(0x2f0)][_0x567623(0x444)](this[_0x567623(0x52c)]+'\x20('+this[_0x567623(0x63a)][_0x567623(0x67e)]+_0x567623(0x678)+_0x264b96),_0x5e1dca[_0x567623(0x2d3)]<_0x264b96){this[_0x567623(0x2f0)][_0x567623(0x444)](this[_0x567623(0x52c)]+'\x20('+this[_0x567623(0x63a)][_0x567623(0x67e)]+'):\x20Conversa\x20está\x20expirada');let _0x5f4d32=await this[_0x567623(0x602)](_0x47ec1a);if(_0x5f4d32===null)return null;_0x5e1dca&&await this[_0x567623(0x40c)]['flowConversation']['updateOne'](_0x5e1dca[_0x567623(0x4eb)],{'status':'closed'},this[_0x567623(0x63a)]['wuid']),_0x5e1dca=await this[_0x567623(0x10e)](_0x5f4d32,_0x428c04[_0x567623(0xe7)],_0x428c04);}return _0x5e1dca[_0x567623(0x2d3)]=_0x191a20,_0x5e1dca[_0x567623(0x5e8)]['lastReceivedMessage']=_0x428c04,_0x5e1dca;}}catch(_0x2664a9){return this[_0x567623(0x2f0)][_0x567623(0x73d)](this[_0x567623(0x52c)]+'\x20('+this[_0x567623(0x63a)]['wuid']+_0x567623(0x59a)+(_0x2664a9 instanceof Error?_0x2664a9[_0x567623(0x5fc)]:JSON['stringify'](_0x2664a9,null,0x2))),null;}}async['createNewConversation'](_0x357578,_0x3f5d23,_0xafaa47){const _0x10b196=a0_0x5d3ab0;this[_0x10b196(0x2f0)][_0x10b196(0x444)](this['instanceName']+'\x20('+this[_0x10b196(0x63a)][_0x10b196(0x67e)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x42c902=require('mongodb')[_0x10b196(0x2b3)],_0x4a01a6=Date[_0x10b196(0x10f)](),_0x52a95b=_0x10b196(0x626),_0x10a610=_0x3f5d23['fromMe']?null:_0xafaa47,_0xe9100b=_0x3f5d23[_0x10b196(0x26e)]?_0xafaa47:null,_0xa5a02f=_0x3f5d23['remoteJid'];await this[_0x10b196(0x689)](_0xa5a02f);let _0x12e729={..._0x357578,'chatLog':null},_0x3ffdfd=await this[_0x10b196(0x2b8)](_0x12e729[_0x10b196(0x5da)]),_0x95e306=await this[_0x10b196(0x1f4)](_0xa5a02f),_0x22110f={..._0x3ffdfd,..._0x95e306,'_remoteJid':_0xa5a02f},_0x1beaeb={'lastReceivedMessage':_0x10a610,'lastSendMessage':_0xe9100b,'lastBlockId':_0x52a95b,'lastCondition':!0x0,'realVariables':_0x22110f};_0x12e729[_0x10b196(0x5e8)]=_0x1beaeb,delete _0x12e729[_0x10b196(0x4eb)],_0x12e729[_0x10b196(0x4eb)]=new _0x42c902(),_0x12e729['lastInteraction']=_0x4a01a6,_0x12e729['status']='open',_0x12e729[_0x10b196(0x623)]=_0xa5a02f;let _0x11b93b=await this[_0x10b196(0x40c)]['flowConversation'][_0x10b196(0x63f)](_0x12e729[_0x10b196(0x4eb)],_0x12e729,this[_0x10b196(0x63a)]['wuid']);return this[_0x10b196(0x2f0)]['verbose'](this['instanceName']+'\x20('+this[_0x10b196(0x63a)][_0x10b196(0x67e)]+_0x10b196(0x238)),_0x11b93b?_0x12e729:null;}catch(_0x101e3b){return this['logger']['error'](this['instanceName']+'\x20('+this[_0x10b196(0x63a)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x101e3b instanceof Error?_0x101e3b[_0x10b196(0x5fc)]:JSON[_0x10b196(0x61a)](_0x101e3b,null,0x2))),_0x101e3b;}}async['uazapiSendText'](_0x5631c1,_0x177b3d){const _0x49ada5=a0_0x5d3ab0;let _0x46e40a=_0x5631c1['remoteJid'];_0x177b3d['uazapi'][_0x49ada5(0x623)]&&_0x177b3d[_0x49ada5(0x20a)][_0x49ada5(0x623)][_0x49ada5(0x68c)]()!==''&&(_0x46e40a=_0x177b3d[_0x49ada5(0x20a)]['remoteJid'][_0x49ada5(0x68c)]()),this[_0x49ada5(0x2f0)][_0x49ada5(0x444)](this[_0x49ada5(0x52c)]+'\x20('+this[_0x49ada5(0x63a)][_0x49ada5(0x67e)]+_0x49ada5(0xcf));let _0x3304a8={'number':_0x46e40a,'options':{'delay':_0x177b3d[_0x49ada5(0x20a)][_0x49ada5(0x307)],'linkPreview':_0x177b3d[_0x49ada5(0x20a)][_0x49ada5(0x50f)]},'textMessage':{'text':_0x177b3d[_0x49ada5(0x20a)]['text']}};try{let _0x4d3ac9=await this[_0x49ada5(0x4f8)](_0x3304a8);if(_0x4d3ac9){let _0x5e377f={'_id':_0x4d3ac9[_0x49ada5(0xe7)]['id'],'_fromMe':_0x4d3ac9['key']['fromMe'],'_remoteJid':_0x4d3ac9[_0x49ada5(0xe7)][_0x49ada5(0x623)]},_0x109795=(0x0,f[_0x49ada5(0x461)])(_0x4d3ac9[_0x49ada5(0x5fc)]),_0x1c7c96=(0x0,f[_0x49ada5(0x604)])(_0x109795);_0x5631c1[_0x49ada5(0x5e8)][_0x49ada5(0xff)]=_0x177b3d[_0x49ada5(0x4eb)][_0x49ada5(0x651)]();let {message_normalized:_0x3c1b03}=this[_0x49ada5(0x1cf)](_0x109795,_0x1c7c96,null);_0x5631c1[_0x49ada5(0x5e8)][_0x49ada5(0x548)]=await _0x3c1b03;let _0x337c98={'messageId':_0x4d3ac9['key']['id']},_0x670a4d=_0x5631c1['chatLog'][_0x49ada5(0x2ae)];Object['assign'](_0x670a4d,_0x5e377f),_0x5631c1[_0x49ada5(0x5e8)][_0x49ada5(0x2ae)]=_0x670a4d,this[_0x49ada5(0x500)](_0x5631c1,_0x177b3d,_0x337c98);}else{let _0x49b315={'error':!0x0};this[_0x49ada5(0x500)](_0x5631c1,_0x177b3d,_0x49b315),this['logger'][_0x49ada5(0x73d)](this[_0x49ada5(0x52c)]+'\x20('+this['instance'][_0x49ada5(0x67e)]+_0x49ada5(0x1cc));}}catch(_0x5eda79){let _0x35002f={'error':!0x0,'errorLog':_0x5eda79[_0x49ada5(0x651)]()};this['updateConversation'](_0x5631c1,_0x177b3d,_0x35002f),this[_0x49ada5(0x2f0)][_0x49ada5(0x73d)](this['instanceName']+'\x20('+this[_0x49ada5(0x63a)][_0x49ada5(0x67e)]+_0x49ada5(0xb6)+(_0x5eda79 instanceof Error?_0x5eda79[_0x49ada5(0x5fc)]:JSON[_0x49ada5(0x61a)](_0x5eda79,null,0x2)));}}async[a0_0x5d3ab0(0x1bf)](_0x224d41,_0x5092ce){const _0x52891e=a0_0x5d3ab0;let _0x476b38=_0x224d41[_0x52891e(0x623)];_0x5092ce[_0x52891e(0x20a)]['remoteJid']&&_0x5092ce['uazapi'][_0x52891e(0x623)][_0x52891e(0x68c)]()!==''&&(_0x476b38=_0x5092ce[_0x52891e(0x20a)][_0x52891e(0x623)][_0x52891e(0x68c)]()),this[_0x52891e(0x2f0)][_0x52891e(0x444)](this[_0x52891e(0x52c)]+'\x20('+this[_0x52891e(0x63a)]['wuid']+_0x52891e(0x250));let _0x56de5c={'number':_0x476b38,'options':{'delay':_0x5092ce[_0x52891e(0x20a)][_0x52891e(0x307)],'linkPreview':_0x5092ce['uazapi'][_0x52891e(0x50f)]},'mediaMessage':{'mediatype':_0x5092ce[_0x52891e(0x20a)]['mediatype'],'caption':_0x5092ce[_0x52891e(0x20a)][_0x52891e(0x670)],'media':_0x5092ce[_0x52891e(0x20a)]['media'],'fileName':_0x5092ce[_0x52891e(0x20a)][_0x52891e(0x788)]}};try{let _0x5a6230=await this['mediaMessage'](_0x56de5c);if(_0x5a6230){let _0x37432c={'_id':_0x5a6230[_0x52891e(0xe7)]['id'],'_fromMe':_0x5a6230[_0x52891e(0xe7)][_0x52891e(0x26e)],'_remoteJid':_0x5a6230[_0x52891e(0xe7)]['remoteJid']},_0x622949=(0x0,f[_0x52891e(0x461)])(_0x5a6230[_0x52891e(0x5fc)]),_0x3dcc3a=(0x0,f[_0x52891e(0x604)])(_0x622949);_0x224d41[_0x52891e(0x5e8)]['lastBlockId']=_0x5092ce[_0x52891e(0x4eb)][_0x52891e(0x651)]();let {message_normalized:_0x216b04}=this[_0x52891e(0x1cf)](_0x622949,_0x3dcc3a,null);_0x224d41[_0x52891e(0x5e8)][_0x52891e(0x548)]=await _0x216b04;let _0x159414={'messageId':_0x5a6230[_0x52891e(0xe7)]['id']},_0x36ad7f=_0x224d41[_0x52891e(0x5e8)][_0x52891e(0x2ae)];Object[_0x52891e(0x2bf)](_0x36ad7f,_0x37432c),_0x224d41[_0x52891e(0x5e8)][_0x52891e(0x2ae)]=_0x36ad7f,this[_0x52891e(0x500)](_0x224d41,_0x5092ce,_0x159414);}else{let _0x5b0509={'error':!0x0};this[_0x52891e(0x500)](_0x224d41,_0x5092ce,_0x5b0509),this[_0x52891e(0x2f0)][_0x52891e(0x73d)](this['instanceName']+'\x20('+this[_0x52891e(0x63a)][_0x52891e(0x67e)]+_0x52891e(0x1c9));}}catch(_0x122932){let _0xd606ea={'error':!0x0,'errorLog':_0x122932[_0x52891e(0x651)]()};this[_0x52891e(0x500)](_0x224d41,_0x5092ce,_0xd606ea),this[_0x52891e(0x2f0)][_0x52891e(0x73d)](this[_0x52891e(0x52c)]+'\x20('+this[_0x52891e(0x63a)][_0x52891e(0x67e)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x122932 instanceof Error?_0x122932[_0x52891e(0x5fc)]:JSON['stringify'](_0x122932,null,0x2)));}}async[a0_0x5d3ab0(0x585)](_0x3d108c,_0x134b8c){const _0x3e3e07=a0_0x5d3ab0;let _0x5d0327=_0x3d108c[_0x3e3e07(0x623)];_0x134b8c[_0x3e3e07(0x20a)][_0x3e3e07(0x623)]&&_0x134b8c[_0x3e3e07(0x20a)][_0x3e3e07(0x623)]['trim']()!==''&&(_0x5d0327=_0x134b8c[_0x3e3e07(0x20a)][_0x3e3e07(0x623)]['trim']()),this[_0x3e3e07(0x2f0)][_0x3e3e07(0x444)](this['instanceName']+'\x20('+this[_0x3e3e07(0x63a)][_0x3e3e07(0x67e)]+_0x3e3e07(0x98));let _0x256057={'number':_0x5d0327,'options':{'delay':_0x134b8c['uazapi'][_0x3e3e07(0x307)]},'locationMessage':{'name':_0x134b8c[_0x3e3e07(0x20a)]['name'],'address':_0x134b8c[_0x3e3e07(0x20a)][_0x3e3e07(0xd8)],'latitude':_0x134b8c[_0x3e3e07(0x20a)][_0x3e3e07(0x126)],'longitude':_0x134b8c[_0x3e3e07(0x20a)][_0x3e3e07(0x38e)]}};try{let _0x9c9bc9=await this[_0x3e3e07(0x579)](_0x256057);if(_0x9c9bc9){let _0x281d83={'_id':_0x9c9bc9[_0x3e3e07(0xe7)]['id'],'_fromMe':_0x9c9bc9['key'][_0x3e3e07(0x26e)],'_remoteJid':_0x9c9bc9[_0x3e3e07(0xe7)][_0x3e3e07(0x623)]},_0xefd57=(0x0,f[_0x3e3e07(0x461)])(_0x9c9bc9[_0x3e3e07(0x5fc)]),_0x487ed3=(0x0,f['getContentType'])(_0xefd57);_0x3d108c[_0x3e3e07(0x5e8)][_0x3e3e07(0xff)]=_0x134b8c[_0x3e3e07(0x4eb)][_0x3e3e07(0x651)]();let {message_normalized:_0x24167e}=this[_0x3e3e07(0x1cf)](_0xefd57,_0x487ed3,null);_0x3d108c[_0x3e3e07(0x5e8)][_0x3e3e07(0x548)]=await _0x24167e;let _0x1011d9={'messageId':_0x9c9bc9[_0x3e3e07(0xe7)]['id']},_0x4174d7=_0x3d108c['chatLog'][_0x3e3e07(0x2ae)];Object['assign'](_0x4174d7,_0x281d83),_0x3d108c[_0x3e3e07(0x5e8)]['realVariables']=_0x4174d7,this[_0x3e3e07(0x500)](_0x3d108c,_0x134b8c,_0x1011d9);}else{let _0x2c0ea9={'error':!0x0};this['updateConversation'](_0x3d108c,_0x134b8c,_0x2c0ea9),this[_0x3e3e07(0x2f0)]['error'](this[_0x3e3e07(0x52c)]+'\x20('+this[_0x3e3e07(0x63a)]['wuid']+_0x3e3e07(0x598));}}catch(_0x2beb24){let _0x4d2009={'error':!0x0,'errorLog':_0x2beb24['toString']()};this['updateConversation'](_0x3d108c,_0x134b8c,_0x4d2009),this[_0x3e3e07(0x2f0)][_0x3e3e07(0x73d)](this[_0x3e3e07(0x52c)]+'\x20('+this[_0x3e3e07(0x63a)][_0x3e3e07(0x67e)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x2beb24 instanceof Error?_0x2beb24[_0x3e3e07(0x5fc)]:JSON[_0x3e3e07(0x61a)](_0x2beb24,null,0x2)));}}async[a0_0x5d3ab0(0x4a6)](_0x590681,_0xe008){const _0x37e3a1=a0_0x5d3ab0;let _0x218c10=_0x590681['remoteJid'];_0xe008['uazapi'][_0x37e3a1(0x623)]&&_0xe008[_0x37e3a1(0x20a)]['remoteJid'][_0x37e3a1(0x68c)]()!==''&&(_0x218c10=_0xe008[_0x37e3a1(0x20a)][_0x37e3a1(0x623)][_0x37e3a1(0x68c)]()),this['logger'][_0x37e3a1(0x444)](this[_0x37e3a1(0x52c)]+'\x20('+this[_0x37e3a1(0x63a)]['wuid']+_0x37e3a1(0x703));let _0x1b32f1={'number':_0x218c10,'options':{'delay':_0xe008['uazapi'][_0x37e3a1(0x307)]},'audioMessage':{'audio':_0xe008[_0x37e3a1(0x20a)]['audio']}};try{let _0x2345c2=await this[_0x37e3a1(0x74c)](_0x1b32f1);if(_0x2345c2){let _0x350fc5={'_id':_0x2345c2[_0x37e3a1(0xe7)]['id'],'_fromMe':_0x2345c2[_0x37e3a1(0xe7)][_0x37e3a1(0x26e)],'_remoteJid':_0x2345c2[_0x37e3a1(0xe7)][_0x37e3a1(0x623)]},_0x17daf0=(0x0,f['normalizeMessageContent'])(_0x2345c2[_0x37e3a1(0x5fc)]),_0x2d25d1=(0x0,f[_0x37e3a1(0x604)])(_0x17daf0);_0x590681['chatLog']['lastBlockId']=_0xe008[_0x37e3a1(0x4eb)]['toString']();let {message_normalized:_0x4dd750}=this[_0x37e3a1(0x1cf)](_0x17daf0,_0x2d25d1,null);_0x590681[_0x37e3a1(0x5e8)][_0x37e3a1(0x548)]=await _0x4dd750;let _0xc12efe={'messageId':_0x2345c2[_0x37e3a1(0xe7)]['id']},_0x52df02=_0x590681['chatLog']['realVariables'];Object[_0x37e3a1(0x2bf)](_0x52df02,_0x350fc5),_0x590681['chatLog'][_0x37e3a1(0x2ae)]=_0x52df02,this[_0x37e3a1(0x500)](_0x590681,_0xe008,_0xc12efe);}else{let _0x361a0f={'error':!0x0};this[_0x37e3a1(0x500)](_0x590681,_0xe008,_0x361a0f),this[_0x37e3a1(0x2f0)]['error'](this['instanceName']+'\x20('+this[_0x37e3a1(0x63a)][_0x37e3a1(0x67e)]+_0x37e3a1(0x2a2));}}catch(_0x56317e){let _0x592bc6={'error':!0x0,'errorLog':_0x56317e['toString']()};this['updateConversation'](_0x590681,_0xe008,_0x592bc6),this['logger'][_0x37e3a1(0x73d)](this[_0x37e3a1(0x52c)]+'\x20('+this[_0x37e3a1(0x63a)]['wuid']+_0x37e3a1(0x15c)+(_0x56317e instanceof Error?_0x56317e[_0x37e3a1(0x5fc)]:JSON[_0x37e3a1(0x61a)](_0x56317e,null,0x2)));}}async[a0_0x5d3ab0(0x360)](_0xb1aa43,_0x1634d6){const _0x4910c9=a0_0x5d3ab0;let _0x5a7275=_0xb1aa43[_0x4910c9(0x623)];_0x1634d6['uazapi'][_0x4910c9(0x623)]&&_0x1634d6['uazapi']['remoteJid'][_0x4910c9(0x68c)]()!==''&&(_0x5a7275=_0x1634d6['uazapi'][_0x4910c9(0x623)][_0x4910c9(0x68c)]()),this[_0x4910c9(0x2f0)][_0x4910c9(0x444)](this['instanceName']+'\x20('+this[_0x4910c9(0x63a)][_0x4910c9(0x67e)]+_0x4910c9(0x3b0));let _0x588f7f={'number':_0x5a7275,'options':{'delay':_0x1634d6[_0x4910c9(0x20a)]['delay']},'contactMessage':[{'fullName':_0x1634d6['uazapi'][_0x4910c9(0x328)],'phoneNumber':_0x1634d6[_0x4910c9(0x20a)][_0x4910c9(0x5bd)]}]};try{let _0x36ce90=await this[_0x4910c9(0x433)](_0x588f7f);if(_0x36ce90){let _0x3ba93f={'_id':_0x36ce90[_0x4910c9(0xe7)]['id'],'_fromMe':_0x36ce90[_0x4910c9(0xe7)][_0x4910c9(0x26e)],'_remoteJid':_0x36ce90['key'][_0x4910c9(0x623)]},_0x1de7bd=(0x0,f[_0x4910c9(0x461)])(_0x36ce90['message']),_0x46f284=(0x0,f[_0x4910c9(0x604)])(_0x1de7bd);_0xb1aa43['chatLog']['lastBlockId']=_0x1634d6[_0x4910c9(0x4eb)][_0x4910c9(0x651)]();let {message_normalized:_0x491d4a}=this[_0x4910c9(0x1cf)](_0x1de7bd,_0x46f284,null);_0xb1aa43[_0x4910c9(0x5e8)][_0x4910c9(0x548)]=await _0x491d4a;let _0x39e127={'messageId':_0x36ce90[_0x4910c9(0xe7)]['id']},_0x57b6d8=_0xb1aa43[_0x4910c9(0x5e8)][_0x4910c9(0x2ae)];Object[_0x4910c9(0x2bf)](_0x57b6d8,_0x3ba93f),_0xb1aa43['chatLog']['realVariables']=_0x57b6d8,this[_0x4910c9(0x500)](_0xb1aa43,_0x1634d6,_0x39e127);}else{let _0x4db70={'error':!0x0};this[_0x4910c9(0x500)](_0xb1aa43,_0x1634d6,_0x4db70),this['logger'][_0x4910c9(0x73d)](this[_0x4910c9(0x52c)]+'\x20('+this[_0x4910c9(0x63a)][_0x4910c9(0x67e)]+_0x4910c9(0x546));}}catch(_0x5143f6){let _0x5500c8={'error':!0x0,'errorLog':_0x5143f6[_0x4910c9(0x651)]()};this['updateConversation'](_0xb1aa43,_0x1634d6,_0x5500c8),this[_0x4910c9(0x2f0)][_0x4910c9(0x73d)](this['instanceName']+'\x20('+this[_0x4910c9(0x63a)][_0x4910c9(0x67e)]+_0x4910c9(0xa4)+(_0x5143f6 instanceof Error?_0x5143f6[_0x4910c9(0x5fc)]:JSON[_0x4910c9(0x61a)](_0x5143f6,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x5b334a,_0x59bb37){const _0x3da468=a0_0x5d3ab0;for(let _0x41187f of _0x5b334a)_0x41187f['option']&&(_0x41187f[_0x3da468(0x6ca)]=this['replaceVariables'](_0x41187f['option'],_0x59bb37)),_0x41187f['optionDescription']&&(_0x41187f['optionDescription']=this[_0x3da468(0x36c)](_0x41187f[_0x3da468(0x2b0)],_0x59bb37));}async['uazapiSendMenu'](_0x4cae9f,_0x43b433){const _0x185fc9=a0_0x5d3ab0;let _0x55b8c2=_0x4cae9f[_0x185fc9(0x623)];_0x43b433[_0x185fc9(0x20a)]['remoteJid']&&_0x43b433[_0x185fc9(0x20a)][_0x185fc9(0x623)]['trim']()!==''&&(_0x55b8c2=_0x43b433['uazapi']['remoteJid']['trim']()),this[_0x185fc9(0x2f0)][_0x185fc9(0x444)](this[_0x185fc9(0x52c)]+'\x20('+this[_0x185fc9(0x63a)][_0x185fc9(0x67e)]+_0x185fc9(0x495));let _0x291bb3=_0x4cae9f[_0x185fc9(0x3a2)][_0x185fc9(0x589)](_0x1fbd93=>_0x1fbd93[_0x185fc9(0x1fe)]===_0x43b433[_0x185fc9(0x4eb)])[_0x185fc9(0x6d6)]((_0x2cc0c4,_0x10d8d2)=>_0x2cc0c4[_0x185fc9(0x628)]-_0x10d8d2['order']);this[_0x185fc9(0x86)](_0x291bb3,_0x4cae9f[_0x185fc9(0x5e8)][_0x185fc9(0x2ae)]);let _0x2c160e=_0x291bb3[_0x185fc9(0x2de)](_0xe06df9=>_0xe06df9[_0x185fc9(0x6ca)]),_0x4a80cc={'number':_0x55b8c2,'menuMessage':{'type':_0x43b433[_0x185fc9(0x20a)][_0x185fc9(0x71a)]||_0x185fc9(0x341),'text':_0x43b433[_0x185fc9(0x20a)]['text']||_0x43b433[_0x185fc9(0x20a)][_0x185fc9(0x26b)],'footerText':_0x43b433['uazapi'][_0x185fc9(0x31f)],'buttonText':_0x43b433[_0x185fc9(0x20a)][_0x185fc9(0x23e)],'selectableCount':0x1,'choices':_0x2c160e},'options':{'delay':_0x43b433[_0x185fc9(0x20a)][_0x185fc9(0x307)]}};try{let _0x535934=await this[_0x185fc9(0x322)](_0x4a80cc);if(_0x535934){let _0x58a7e8={'_id':_0x535934[_0x185fc9(0xe7)]['id'],'_fromMe':_0x535934[_0x185fc9(0xe7)][_0x185fc9(0x26e)],'_remoteJid':_0x535934[_0x185fc9(0xe7)]['remoteJid']};_0x43b433[_0x185fc9(0x20a)]['menuIgnoreNonVotes']===!0x0&&(_0x4cae9f[_0x185fc9(0x489)]=_0x185fc9(0x400),this[_0x185fc9(0x2f0)][_0x185fc9(0x444)](this['instanceName']+'\x20('+this['instance'][_0x185fc9(0x67e)]+_0x185fc9(0x35d)+_0x4cae9f[_0x185fc9(0x489)])),this['logger'][_0x185fc9(0x444)](this[_0x185fc9(0x52c)]+'\x20('+this[_0x185fc9(0x63a)][_0x185fc9(0x67e)]+'):\x20nextBlock.uazapi.name'+(_0x43b433[_0x185fc9(0x20a)]['name']||_0x43b433[_0x185fc9(0x20a)]['text'])),_0x4cae9f[_0x185fc9(0x37c)]=_0x535934[_0x185fc9(0xe7)]['id'],_0x4cae9f['waitingMenu_text']=_0x43b433[_0x185fc9(0x20a)][_0x185fc9(0x26b)]||_0x43b433['uazapi'][_0x185fc9(0x512)],_0x4cae9f['waitingMenu_replyOptions']=_0x291bb3,_0x43b433[_0x185fc9(0x20a)][_0x185fc9(0x1eb)]&&(_0x4cae9f[_0x185fc9(0x326)]=_0x43b433['uazapi'][_0x185fc9(0x1eb)]),this[_0x185fc9(0x2f0)][_0x185fc9(0x444)](this[_0x185fc9(0x52c)]+'\x20('+this[_0x185fc9(0x63a)]['wuid']+'):\x20conversation.waitingMenu_name'+_0x4cae9f['waitingMenu_text']);let _0x5d8993=(0x0,f[_0x185fc9(0x461)])(_0x535934[_0x185fc9(0x5fc)]),_0x4770de=(0x0,f['getContentType'])(_0x5d8993);_0x4cae9f[_0x185fc9(0x5e8)][_0x185fc9(0xff)]=_0x43b433['_id'][_0x185fc9(0x651)]();let {message_normalized:_0x2fc9b3}=this['normalizeMessage'](_0x5d8993,_0x4770de,null);_0x4cae9f[_0x185fc9(0x5e8)][_0x185fc9(0x548)]=await _0x2fc9b3;let _0x1a35fc={'messageId':_0x535934[_0x185fc9(0xe7)]['id']},_0x106445=_0x4cae9f[_0x185fc9(0x5e8)][_0x185fc9(0x2ae)];Object['assign'](_0x106445,_0x58a7e8),_0x4cae9f['chatLog'][_0x185fc9(0x2ae)]=_0x106445,this[_0x185fc9(0x500)](_0x4cae9f,_0x43b433,_0x1a35fc);}else{let _0x1eacb8={'error':!0x0};this[_0x185fc9(0x500)](_0x4cae9f,_0x43b433,_0x1eacb8),this[_0x185fc9(0x2f0)]['error'](this[_0x185fc9(0x52c)]+'\x20('+this['instance'][_0x185fc9(0x67e)]+_0x185fc9(0x552));}}catch(_0x6f900c){let _0x5227da={'error':!0x0,'errorLog':_0x6f900c instanceof Error?_0x6f900c[_0x185fc9(0x5fc)]:JSON[_0x185fc9(0x61a)](_0x6f900c,null,0x2)};this[_0x185fc9(0x500)](_0x4cae9f,_0x43b433,_0x5227da),this[_0x185fc9(0x2f0)]['error'](this[_0x185fc9(0x52c)]+'\x20('+this[_0x185fc9(0x63a)][_0x185fc9(0x67e)]+_0x185fc9(0x753)+(_0x6f900c instanceof Error?_0x6f900c['message']:JSON['stringify'](_0x6f900c,null,0x2)));}}async[a0_0x5d3ab0(0x372)](_0x25583f,_0x217b30){const _0xac499d=a0_0x5d3ab0;this['logger'][_0xac499d(0x444)](this['instanceName']+'\x20('+this['instance'][_0xac499d(0x67e)]+'):\x20Deletando\x20mensagem');let _0x361b5e=_0x25583f[_0xac499d(0x5e8)][_0xac499d(0x3b2)][_0xac499d(0x299)](_0xa1a0c=>_0xa1a0c[_0xac499d(0x1fe)][_0xac499d(0x651)]()===_0x217b30[_0xac499d(0x20a)]['blockId'][_0xac499d(0x651)]()),_0x47327a={'id':_0x361b5e[_0xac499d(0x71d)],'remoteJid':_0x361b5e[_0xac499d(0x623)],'fromMe':_0x361b5e[_0xac499d(0x26e)]};try{let _0x1191da=await this[_0xac499d(0x202)](_0x47327a);if(_0x1191da){let _0x149ee9=(0x0,f[_0xac499d(0x461)])(_0x1191da[_0xac499d(0x5fc)]),_0x41c40f=(0x0,f['getContentType'])(_0x149ee9);_0x25583f['chatLog']['lastBlockId']=_0x217b30[_0xac499d(0x4eb)][_0xac499d(0x651)]();let {message_normalized:_0x5d77df}=this[_0xac499d(0x1cf)](_0x149ee9,_0x41c40f,null);_0x25583f[_0xac499d(0x5e8)][_0xac499d(0x548)]=await _0x5d77df;let _0x258bdc={};this['updateConversation'](_0x25583f,_0x217b30,_0x258bdc);}else{let _0x467d96={'error':!0x0};this[_0xac499d(0x500)](_0x25583f,_0x217b30,_0x467d96),this[_0xac499d(0x2f0)][_0xac499d(0x73d)](this[_0xac499d(0x52c)]+'\x20('+this[_0xac499d(0x63a)][_0xac499d(0x67e)]+_0xac499d(0xd6));}}catch(_0x1469c7){let _0x541620={'error':!0x0,'errorLog':_0x1469c7 instanceof Error?_0x1469c7[_0xac499d(0x5fc)]:JSON[_0xac499d(0x61a)](_0x1469c7,null,0x2)};this[_0xac499d(0x500)](_0x25583f,_0x217b30,_0x541620),this[_0xac499d(0x2f0)]['error'](this[_0xac499d(0x52c)]+'\x20('+this[_0xac499d(0x63a)][_0xac499d(0x67e)]+_0xac499d(0x3d9)+(_0x1469c7 instanceof Error?_0x1469c7[_0xac499d(0x5fc)]:JSON['stringify'](_0x1469c7,null,0x2)));}}async[a0_0x5d3ab0(0x3c7)](_0x21aaf9,_0x16dd20){const _0x3da6c7=a0_0x5d3ab0;if(!_0x21aaf9[_0x3da6c7(0x26b)])throw new m(_0x3da6c7(0x730));let _0x52f040=_0x21aaf9?.[_0x3da6c7(0x491)]?.[_0x3da6c7(0x68c)]()===_0x3da6c7(0x4a0)?_0x3da6c7(0x491):this[_0x3da6c7(0x63a)][_0x3da6c7(0x67e)],_0xa0c94=await this[_0x3da6c7(0x40c)][_0x3da6c7(0x475)]['findOne']({'where':{'name':_0x21aaf9['name']}},_0x52f040);if(_0x16dd20!==ee&&_0x21aaf9?.[_0x3da6c7(0x491)]===_0x3da6c7(0x4a0))throw new m(_0x3da6c7(0x766));if(_0x21aaf9?.[_0x3da6c7(0x491)]!==_0x3da6c7(0x4a0)&&(_0x21aaf9[_0x3da6c7(0x491)]=_0x3da6c7(0x723)),_0xa0c94)throw new m(_0x3da6c7(0x287));return _0x3da6c7(0x26b)in _0x21aaf9&&_0x3da6c7(0x478)in _0x21aaf9&&_0x3da6c7(0x36e)in _0x21aaf9?this[_0x3da6c7(0x4d5)](_0x21aaf9['owner'],_0x21aaf9['sharePass'],_0x21aaf9[_0x3da6c7(0x26b)]):this[_0x3da6c7(0x6f4)](_0x21aaf9);}async['createSharedFlow'](_0x44b195,_0x1badbb,_0x1376bd){const _0x1b6173=a0_0x5d3ab0;try{this[_0x1b6173(0x2f0)][_0x1b6173(0x444)](this[_0x1b6173(0x52c)]+'\x20('+this['instance'][_0x1b6173(0x67e)]+_0x1b6173(0x38c));let _0x1ab0a8=await this[_0x1b6173(0x40c)]['flow'][_0x1b6173(0x639)]({'where':{'sharePass':_0x1badbb}},_0x44b195);if(!_0x1ab0a8)throw new m(_0x1b6173(0x710));let _0x12ab47={..._0x1ab0a8},_0x2b9c13=_0x1ab0a8[_0x1b6173(0x491)]===_0x1b6173(0x4a0)?_0x1b6173(0x491):_0x1ab0a8['owner'];return(_0x44b195===_0x1b6173(0x491)||_0x1ab0a8[_0x1b6173(0x491)]===_0x1b6173(0x4a0))&&(_0x12ab47[_0x1b6173(0x491)]=_0x1b6173(0x72d),_0x12ab47[_0x1b6173(0x36e)]=_0x1b6173(0x491)),_0x12ab47[_0x1b6173(0x37d)]=Array['from'](new Set([..._0x1ab0a8[_0x1b6173(0x37d)]||[],_0x2b9c13,this[_0x1b6173(0x63a)][_0x1b6173(0x67e)]])),_0x1ab0a8[_0x1b6173(0x37d)]=_0x12ab47[_0x1b6173(0x37d)],await this['repository'][_0x1b6173(0x475)][_0x1b6173(0x63f)](_0x1ab0a8[_0x1b6173(0x4eb)],{'shareOwners':_0x1ab0a8[_0x1b6173(0x37d)]},_0x2b9c13),_0x1ab0a8['default']===!0x0&&await this[_0x1b6173(0x40c)][_0x1b6173(0x475)][_0x1b6173(0x3d0)]({},{'default':!0x1},this['instance']['wuid']),_0x12ab47[_0x1b6173(0x36e)]=this[_0x1b6173(0x63a)][_0x1b6173(0x67e)],await this[_0x1b6173(0x40c)][_0x1b6173(0x475)]['createAndSave'](_0x12ab47,this[_0x1b6173(0x63a)][_0x1b6173(0x67e)]);}catch(_0xcca507){let _0xd4fc7f=_0x1b6173(0x1ae),_0x5c2fc0=_0xcca507 instanceof Error?_0xcca507[_0x1b6173(0x5fc)]:typeof _0xcca507=='object'?JSON[_0x1b6173(0x61a)](_0xcca507):_0xcca507,_0x2e7b97=_0xd4fc7f+':\x20'+_0x5c2fc0;throw this[_0x1b6173(0x2f0)][_0x1b6173(0x73d)](this[_0x1b6173(0x52c)]+'\x20('+this['instance'][_0x1b6173(0x67e)]+_0x1b6173(0x8c)+_0x2e7b97),new m(_0x2e7b97);}}async[a0_0x5d3ab0(0x6f4)](_0x25e9a1){const _0x2239e6=a0_0x5d3ab0;try{this[_0x2239e6(0x2f0)][_0x2239e6(0x444)](this[_0x2239e6(0x52c)]+'\x20('+this[_0x2239e6(0x63a)]['wuid']+_0x2239e6(0xdf));let _0x15ef31=_0x25e9a1?.[_0x2239e6(0x491)]==='true'?_0x2239e6(0x491):this[_0x2239e6(0x63a)]['wuid'];delete _0x25e9a1[_0x2239e6(0x37d)],delete _0x25e9a1['sharePass'],delete _0x25e9a1[_0x2239e6(0x36e)],_0x25e9a1[_0x2239e6(0x4de)]===!0x0&&await this[_0x2239e6(0x40c)]['flow']['updateMany']({},{'default':!0x1},this[_0x2239e6(0x63a)][_0x2239e6(0x67e)]);let _0x23d14b=new ie['Types'][(_0x2239e6(0x2b3))](),_0x81fa71={'_id':_0x23d14b,'default':!0x0,'title':_0x2239e6(0x595),'x':0x0,'y':0x0},_0x30c668={'_id':new ie[(_0x2239e6(0xa3))]['ObjectId'](),'order':0x1,'groupId':_0x23d14b['toString'](),'type':_0x2239e6(0x626)},_0x473823={'_id':new ie['Types'][(_0x2239e6(0x2b3))](),'owner':this[_0x2239e6(0x63a)][_0x2239e6(0x67e)],'name':_0x25e9a1[_0x2239e6(0x26b)],'groups':[_0x81fa71],'blocks':[_0x30c668],..._0x25e9a1};return await this['repository'][_0x2239e6(0x475)][_0x2239e6(0x55a)](_0x473823,_0x15ef31);}catch(_0x11ddd7){let _0x2df257='Erro\x20ao\x20criar\x20fluxo\x20regular',_0x2fba83=_0x11ddd7 instanceof Error?_0x11ddd7['message']:typeof _0x11ddd7=='object'?JSON[_0x2239e6(0x61a)](_0x11ddd7):_0x11ddd7,_0x254754=_0x2df257+':\x20'+_0x2fba83;throw this[_0x2239e6(0x2f0)][_0x2239e6(0x73d)](this[_0x2239e6(0x52c)]+'\x20('+this[_0x2239e6(0x63a)][_0x2239e6(0x67e)]+_0x2239e6(0x8c)+_0x254754),new m(_0x254754);}}async[a0_0x5d3ab0(0x3b1)](_0x2cd115,_0x37c41a){const _0x227d15=a0_0x5d3ab0;this['logger'][_0x227d15(0x403)](_0x227d15(0xd4));try{let _0x1aad59=await this[_0x227d15(0x40c)][_0x227d15(0x475)]['findOne']({'where':{'_id':_0x2cd115}},_0x37c41a);if(delete _0x1aad59[_0x227d15(0x4de)],delete _0x1aad59[_0x227d15(0x125)],delete _0x1aad59[_0x227d15(0x30f)],delete _0x1aad59['minutesToClose'],delete _0x1aad59[_0x227d15(0x517)],_0x1aad59['global']===_0x227d15(0x4a0)&&(_0x1aad59[_0x227d15(0x491)]='sync'),_0x1aad59&&_0x1aad59[_0x227d15(0x37d)]){for(let _0x299e0c of _0x1aad59[_0x227d15(0x37d)])if(_0x299e0c!==_0x37c41a){let _0x150d57={..._0x1aad59,'owner':_0x299e0c};await this['repository'][_0x227d15(0x475)][_0x227d15(0x4f4)](_0x1aad59[_0x227d15(0x4eb)],_0x150d57,_0x299e0c);}}}catch(_0x2d3308){this['logger']['error'](_0x227d15(0x32f)+_0x2d3308);}}async[a0_0x5d3ab0(0x642)](_0x1fb78d,_0x441fbd){const _0xcaee61=a0_0x5d3ab0;try{this['logger']['verbose'](this[_0xcaee61(0x52c)]+'\x20('+this['instance'][_0xcaee61(0x67e)]+_0xcaee61(0xcb)+_0x1fb78d[_0xcaee61(0x26b)]+_0xcaee61(0x50d)+_0x1fb78d[_0xcaee61(0x491)]);let _0x286c57=_0x1fb78d['global']===_0xcaee61(0x4a0)?_0xcaee61(0x491):this[_0xcaee61(0x63a)][_0xcaee61(0x67e)],_0x46b9cb=await this[_0xcaee61(0x40c)][_0xcaee61(0x475)][_0xcaee61(0x639)]({'where':{'name':_0x1fb78d['name']}},_0x286c57);if(!_0x46b9cb)throw new m(_0xcaee61(0x1a5));if(_0x441fbd!==ee&&_0x46b9cb?.[_0xcaee61(0x491)]===_0xcaee61(0x4a0)&&_0x46b9cb?.['owner']!==this[_0xcaee61(0x63a)][_0xcaee61(0x67e)])throw new m('Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global');if(_0x46b9cb&&_0x46b9cb[_0xcaee61(0x37d)]&&_0x46b9cb['shareOwners'][_0xcaee61(0x6d9)]>0x0){for(let _0x4ea72b of _0x46b9cb['shareOwners'])if(_0x4ea72b!==_0x286c57){let _0x2a856c=await this[_0xcaee61(0x40c)][_0xcaee61(0x475)][_0xcaee61(0x639)]({'where':{'sharePass':_0x46b9cb[_0xcaee61(0x478)]}},_0x4ea72b);if(_0x2a856c){_0x2a856c[_0xcaee61(0x37d)]=_0x2a856c[_0xcaee61(0x37d)][_0xcaee61(0x589)](_0x2e58bf=>_0x2e58bf!==_0x46b9cb[_0xcaee61(0x36e)]);let _0x385110={'shareOwners':_0x2a856c['shareOwners']};_0x46b9cb[_0xcaee61(0x491)]===_0xcaee61(0x4a0)&&(_0x385110[_0xcaee61(0x491)]=_0xcaee61(0x723)),await this[_0xcaee61(0x40c)][_0xcaee61(0x475)][_0xcaee61(0x63f)](_0x2a856c[_0xcaee61(0x4eb)],_0x385110,_0x4ea72b);}}}return await this[_0xcaee61(0x40c)]['flow'][_0xcaee61(0xda)]({'where':{'name':_0x1fb78d[_0xcaee61(0x26b)]}},_0x286c57);}catch(_0xd20f31){return this['logger']['error'](this[_0xcaee61(0x52c)]+'\x20('+this[_0xcaee61(0x63a)][_0xcaee61(0x67e)]+_0xcaee61(0xb7)+(_0xd20f31 instanceof Error?_0xd20f31['message']:JSON[_0xcaee61(0x61a)](_0xd20f31,null,0x2))),{'message':_0xcaee61(0x39d)+_0xd20f31[_0xcaee61(0x5fc)]};}}async[a0_0x5d3ab0(0x12f)](_0x43e325,_0x4b0814){const _0x30eba6=a0_0x5d3ab0;try{this[_0x30eba6(0x2f0)]['info'](this[_0x30eba6(0x52c)]+'\x20('+this[_0x30eba6(0x63a)][_0x30eba6(0x67e)]+_0x30eba6(0x28a)+_0x43e325+'\x20global:\x20'+_0x4b0814);let _0x5f51e8=_0x4b0814?.[_0x30eba6(0x68c)]()===_0x30eba6(0x4a0)?_0x30eba6(0x491):this['instance'][_0x30eba6(0x67e)],_0x4805fe=await this[_0x30eba6(0x40c)][_0x30eba6(0x475)]['findOne']({'where':{'name':_0x43e325}},_0x5f51e8);if(!_0x4805fe)throw new Error(_0x30eba6(0x787));if(_0x4805fe[_0x30eba6(0x46c)]||(_0x4805fe[_0x30eba6(0x46c)]=(0x0,Me['v4'])()),!this[_0x30eba6(0x3f8)]&&(await this[_0x30eba6(0x350)](),!this[_0x30eba6(0x3f8)]))return null;let _0x7bc6be=this[_0x30eba6(0x3f8)]?.[_0x30eba6(0x312)][_0x30eba6(0x2de)](_0x13fa33=>_0x13fa33['name']),_0x23a2ef=['nome',_0x30eba6(0x6e5),_0x30eba6(0x142),_0x30eba6(0x789),'status',_0x30eba6(0x103),_0x30eba6(0x53a),'tags','etiquetas',_0x30eba6(0x5a9),'atendimentoAberto'];_0x4805fe['variables']=_0x4805fe[_0x30eba6(0x5da)][_0x30eba6(0x589)](_0x215229=>!(_0x215229[_0x30eba6(0xf6)]==='leadInfo'||_0x215229[_0x30eba6(0x314)])),_0x23a2ef[_0x30eba6(0x394)](_0x43c538=>{const _0x5d6761=_0x30eba6;_0x4805fe[_0x5d6761(0x5da)][_0x5d6761(0x6a7)]({'folder':'leadInfo','name':_0x43c538,'value':'','doc':'','leadInfo':!0x0});}),_0x7bc6be[_0x30eba6(0x394)](_0x9225c3=>{const _0x3ed5ea=_0x30eba6;let _0x5d30d9=_0x4805fe['variables'][_0x3ed5ea(0x641)](_0x17b7cf=>_0x17b7cf['name']===_0x9225c3);_0x5d30d9===-0x1?_0x4805fe[_0x3ed5ea(0x5da)][_0x3ed5ea(0x6a7)]({'folder':_0x3ed5ea(0x314),'name':_0x9225c3,'value':'','doc':'','leadInfo':!0x0}):(_0x4805fe[_0x3ed5ea(0x5da)][_0x5d30d9][_0x3ed5ea(0xf6)]='leadInfo',_0x4805fe[_0x3ed5ea(0x5da)][_0x5d30d9][_0x3ed5ea(0x314)]=!0x0);}),_0x4805fe[_0x30eba6(0x38f)]&&_0x4805fe[_0x30eba6(0x38f)][_0x30eba6(0x6d9)]>0x0&&_0x4805fe[_0x30eba6(0x38f)]['forEach'](_0x165c89=>{const _0x1a51e8=_0x30eba6;_0x165c89['groupId']&&_0x165c89[_0x1a51e8(0x1a7)]&&_0x165c89['groupId']===_0x165c89[_0x1a51e8(0x1a7)]&&(_0x165c89[_0x1a51e8(0x1a7)]=null);});let _0x4feec7=await this[_0x30eba6(0x40c)][_0x30eba6(0x475)][_0x30eba6(0x63f)](_0x4805fe[_0x30eba6(0x4eb)],_0x4805fe,_0x5f51e8);if(!_0x4feec7)throw new Error(_0x30eba6(0x2c3));return _0x4feec7;}catch(_0x1034ce){let _0x10cf25=_0x30eba6(0x2e0),_0x574e54=_0x1034ce instanceof Error?_0x1034ce[_0x30eba6(0x5fc)]:typeof _0x1034ce==_0x30eba6(0x696)?JSON[_0x30eba6(0x61a)](_0x1034ce):_0x1034ce,_0x3cae8e=_0x10cf25+':\x20'+_0x574e54;throw this['logger'][_0x30eba6(0x73d)](this[_0x30eba6(0x52c)]+'\x20('+this['instance'][_0x30eba6(0x67e)]+_0x30eba6(0x8c)+_0x3cae8e),new m(_0x3cae8e);}}async['allFlows'](){const _0x293dd9=a0_0x5d3ab0;try{this[_0x293dd9(0x2f0)][_0x293dd9(0x444)](this[_0x293dd9(0x52c)]+'\x20('+this[_0x293dd9(0x63a)]['wuid']+_0x293dd9(0x23b)),await this[_0x293dd9(0x40c)][_0x293dd9(0x475)][_0x293dd9(0x3a5)](this[_0x293dd9(0x63a)]['wuid']);let _0x42aada=await this['repository'][_0x293dd9(0x475)][_0x293dd9(0x185)]({'where':{}},this[_0x293dd9(0x63a)]['wuid']),_0x3242bb=await this[_0x293dd9(0x40c)][_0x293dd9(0x475)]['findAll']({'where':{}},_0x293dd9(0x491));return _0x42aada[_0x293dd9(0x22f)](_0x3242bb);}catch(_0x5371ef){return this[_0x293dd9(0x2f0)]['error'](this[_0x293dd9(0x52c)]+'\x20('+this['instance'][_0x293dd9(0x67e)]+_0x293dd9(0x29b)+(_0x5371ef instanceof Error?_0x5371ef[_0x293dd9(0x5fc)]:JSON['stringify'](_0x5371ef,null,0x2))),{'message':_0x293dd9(0x768)+_0x5371ef[_0x293dd9(0x5fc)]};}}async['editFlow'](_0x5e0698,_0x486701){const _0x42d61c=a0_0x5d3ab0;try{this[_0x42d61c(0x2f0)][_0x42d61c(0x444)](this['instanceName']+'\x20('+this[_0x42d61c(0x63a)]['wuid']+_0x42d61c(0xc7));let _0x498c58=_0x5e0698?.[_0x42d61c(0x491)]?.[_0x42d61c(0x68c)]()===_0x42d61c(0x4a0)?_0x42d61c(0x491):this[_0x42d61c(0x63a)]['wuid'],_0x43e35d=await this[_0x42d61c(0x40c)][_0x42d61c(0x475)][_0x42d61c(0x639)]({'where':{'name':_0x5e0698[_0x42d61c(0x26b)]}},_0x498c58);if(!_0x43e35d)return{'message':_0x42d61c(0x48e)};if(_0x486701!==ee&&_0x43e35d?.[_0x42d61c(0x491)]===_0x42d61c(0x4a0)&&_0x43e35d?.['owner']!==this['instance'][_0x42d61c(0x67e)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');_0x43e35d?.[_0x42d61c(0x491)]===_0x42d61c(0x72d)&&(_0x5e0698={'default':_0x5e0698[_0x42d61c(0x4de)],'minutesToClose':_0x5e0698[_0x42d61c(0x44f)],'readMessages':_0x5e0698['readMessages'],'testingWith':_0x5e0698['testingWith'],'startCommandWord':_0x5e0698['startCommandWord']}),_0x5e0698[_0x42d61c(0x4de)]===!0x0&&_0x43e35d?.[_0x42d61c(0x491)]!==_0x42d61c(0x4a0)&&await this[_0x42d61c(0x40c)][_0x42d61c(0x475)][_0x42d61c(0x3d0)]({},{'default':!0x1},_0x498c58),delete _0x5e0698[_0x42d61c(0x37d)],delete _0x5e0698['sharePass'],delete _0x5e0698[_0x42d61c(0x491)];let _0x1eac14=await this[_0x42d61c(0x40c)]['flow'][_0x42d61c(0x63f)](_0x43e35d[_0x42d61c(0x4eb)],_0x5e0698,_0x498c58);return _0x1eac14&&_0x1eac14[_0x42d61c(0x37d)]&&_0x1eac14[_0x42d61c(0x37d)][_0x42d61c(0x6d9)]>0x1&&_0x1eac14['global']!=='sync'&&this[_0x42d61c(0x3b1)](_0x1eac14['_id'],_0x498c58),_0x1eac14;}catch(_0x177cfa){let _0x26a715=_0x42d61c(0x75e),_0x582a6c=_0x177cfa instanceof Error?_0x177cfa['message']:typeof _0x177cfa==_0x42d61c(0x696)?JSON['stringify'](_0x177cfa):_0x177cfa,_0x3a1b0c=_0x26a715+':\x20'+_0x582a6c;throw this[_0x42d61c(0x2f0)][_0x42d61c(0x73d)](this[_0x42d61c(0x52c)]+'\x20('+this[_0x42d61c(0x63a)]['wuid']+_0x42d61c(0x8c)+_0x3a1b0c),new m(_0x3a1b0c);}}async[a0_0x5d3ab0(0x6a5)](_0x281613,_0x697aa9){const _0x2dce05=a0_0x5d3ab0;try{this['logger'][_0x2dce05(0x444)](this[_0x2dce05(0x52c)]+'\x20('+this['instance'][_0x2dce05(0x67e)]+_0x2dce05(0x733));let _0x397790=_0x281613?.[_0x2dce05(0x491)]?.[_0x2dce05(0x68c)]()===_0x2dce05(0x4a0)?'global':this[_0x2dce05(0x63a)][_0x2dce05(0x67e)],_0x43b761=await this[_0x2dce05(0x40c)][_0x2dce05(0x475)][_0x2dce05(0x639)]({'where':{'name':_0x281613[_0x2dce05(0x26b)]}},_0x397790);if(_0x43b761||this[_0x2dce05(0xe2)](_0x2dce05(0x787)),_0x43b761?.[_0x2dce05(0x491)]===_0x2dce05(0x72d))throw new m(_0x2dce05(0x2c5));if(_0x697aa9!==ee&&_0x43b761?.[_0x2dce05(0x491)]===_0x2dce05(0x4a0)&&_0x43b761?.[_0x2dce05(0x36e)]!==this[_0x2dce05(0x63a)]['wuid'])throw new m(_0x2dce05(0x2ed));let {block:_0x2dd23c}=_0x281613;_0x2dd23c?.[_0x2dce05(0x3e9)]?this[_0x2dce05(0x217)](_0x43b761,_0x281613):_0x2dd23c?.[_0x2dce05(0x4c9)]?this[_0x2dce05(0x2db)](_0x43b761,_0x281613):_0x2dd23c['_id']?await this[_0x2dce05(0x6dd)](_0x43b761,_0x281613):this['addBlock'](_0x43b761,_0x281613);let _0x3bcdcc=await this[_0x2dce05(0x40c)]['flow'][_0x2dce05(0x63f)](_0x43b761[_0x2dce05(0x4eb)],_0x43b761,_0x397790);if(_0x3bcdcc&&_0x3bcdcc[_0x2dce05(0x37d)]&&_0x3bcdcc[_0x2dce05(0x37d)][_0x2dce05(0x6d9)]>0x1&&this['synchronizeFlows'](_0x3bcdcc[_0x2dce05(0x4eb)],this['instance'][_0x2dce05(0x67e)]),!_0x3bcdcc)throw new Error(_0x2dce05(0x2c3));return _0x3bcdcc;}catch(_0x16cab0){this[_0x2dce05(0xe2)](_0x2dce05(0xe3)+_0x16cab0[_0x2dce05(0x5fc)]);}}async['copyBlock'](_0x280746,_0x4922a4){const _0xdd2f68=a0_0x5d3ab0;let _0x1dcdb7=_0x4922a4[_0xdd2f68(0x637)][_0xdd2f68(0x4eb)],_0x2ee093=_0x280746[_0xdd2f68(0x38f)][_0xdd2f68(0x299)](_0xe7a630=>_0xe7a630[_0xdd2f68(0x4eb)][_0xdd2f68(0x651)]()===_0x1dcdb7);if(!_0x2ee093){this[_0xdd2f68(0x2f0)][_0xdd2f68(0x73d)](this[_0xdd2f68(0x52c)]+'\x20('+this[_0xdd2f68(0x63a)][_0xdd2f68(0x67e)]+_0xdd2f68(0x1ea)+_0x1dcdb7+_0xdd2f68(0x407));return;}this['logger'][_0xdd2f68(0x444)](this[_0xdd2f68(0x52c)]+'\x20('+this[_0xdd2f68(0x63a)]['wuid']+_0xdd2f68(0x411)+JSON[_0xdd2f68(0x61a)](_0x2ee093));let _0x143d0c=JSON['parse'](JSON[_0xdd2f68(0x61a)](_0x2ee093));_0x143d0c[_0xdd2f68(0x4eb)]=new ie['default'][(_0xdd2f68(0xa3))][(_0xdd2f68(0x2b3))](),this[_0xdd2f68(0x2f0)][_0xdd2f68(0x444)](this[_0xdd2f68(0x52c)]+'\x20('+this[_0xdd2f68(0x63a)][_0xdd2f68(0x67e)]+_0xdd2f68(0x4aa)+JSON['stringify'](_0x143d0c)),_0x280746['blocks'][_0xdd2f68(0x6a7)](_0x143d0c),this[_0xdd2f68(0x336)](_0x280746[_0xdd2f68(0x38f)],_0x143d0c[_0xdd2f68(0x3db)]);}['throwAndLogError'](_0x2a5dbf){const _0x573ee1=a0_0x5d3ab0;throw this[_0x573ee1(0x2f0)]['error'](this[_0x573ee1(0x52c)]+'\x20('+this[_0x573ee1(0x63a)][_0x573ee1(0x67e)]+'):\x20'+_0x2a5dbf),new m(_0x2a5dbf);}[a0_0x5d3ab0(0x2db)](_0x5a6aa9,_0x7dcab8){const _0x28a9d1=a0_0x5d3ab0;let {block:_0x266eb6}=_0x7dcab8;if(_0x266eb6['type']==='start'){this[_0x28a9d1(0xe2)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x266eb6[_0x28a9d1(0x4eb)]){this[_0x28a9d1(0xe2)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x37731c=_0x5a6aa9[_0x28a9d1(0x38f)][_0x28a9d1(0x299)](_0xd607e6=>_0xd607e6[_0x28a9d1(0x4eb)][_0x28a9d1(0x651)]()===_0x7dcab8[_0x28a9d1(0x637)]['_id']['toString']());if(!_0x37731c){this['throwAndLogError'](_0x28a9d1(0x72c)+_0x266eb6['_id']+_0x28a9d1(0x494));return;}_0x5a6aa9[_0x28a9d1(0x38f)]=_0x5a6aa9[_0x28a9d1(0x38f)][_0x28a9d1(0x589)](_0xfdeffb=>_0xfdeffb[_0x28a9d1(0x4eb)]['toString']()!==_0x7dcab8[_0x28a9d1(0x637)]['_id'][_0x28a9d1(0x651)]()),_0x5a6aa9[_0x28a9d1(0x390)]=_0x5a6aa9['conditions'][_0x28a9d1(0x589)](_0x2b7dac=>_0x2b7dac[_0x28a9d1(0x1fe)]!==_0x266eb6[_0x28a9d1(0x4eb)]['toString']()),_0x5a6aa9[_0x28a9d1(0x58f)]=_0x5a6aa9[_0x28a9d1(0x58f)][_0x28a9d1(0x589)](_0x206309=>_0x206309['blockId']!==_0x266eb6['_id'][_0x28a9d1(0x651)]()),_0x5a6aa9[_0x28a9d1(0x3a2)]=_0x5a6aa9['replyOptions'][_0x28a9d1(0x589)](_0x48daf0=>_0x48daf0['blockId']!==_0x266eb6['_id']['toString']()),this[_0x28a9d1(0x336)](_0x5a6aa9['blocks'],_0x37731c['groupId']);}async[a0_0x5d3ab0(0x6dd)](_0x1c9127,_0x2c4858){const _0x25b48f=a0_0x5d3ab0;let _0xb92660=_0x1c9127[_0x25b48f(0x38f)]['findIndex'](_0x1faca8=>_0x1faca8['_id'][_0x25b48f(0x651)]()===_0x2c4858[_0x25b48f(0x637)][_0x25b48f(0x4eb)][_0x25b48f(0x651)]());if(this[_0x25b48f(0x2f0)][_0x25b48f(0x444)](this[_0x25b48f(0x52c)]+'\x20('+this[_0x25b48f(0x63a)][_0x25b48f(0x67e)]+_0x25b48f(0x6e0)+_0xb92660),_0xb92660===-0x1){this[_0x25b48f(0x2f0)]['verbose']('Bloco\x20com\x20ID\x20'+_0x2c4858[_0x25b48f(0x637)][_0x25b48f(0x4eb)]+_0x25b48f(0x111));return;}if(_0x1c9127[_0x25b48f(0x38f)][_0xb92660]['type']==='start'){let _0x44cf86=Object[_0x25b48f(0x43f)](_0x2c4858[_0x25b48f(0x637)]);if(_0x44cf86[_0x25b48f(0x6d9)]>0x2||_0x44cf86[_0x25b48f(0x6d9)]===0x2&&!_0x44cf86['includes']('next_groupId')){this[_0x25b48f(0xe2)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x49fbf9=_0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x3db)];for(let _0x116583 in _0x2c4858['block'])_0x2c4858[_0x25b48f(0x637)][_0x25b48f(0x417)](_0x116583)&&(_0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x116583]=_0x2c4858[_0x25b48f(0x637)][_0x116583]);if(this[_0x25b48f(0x2f0)][_0x25b48f(0x444)](this[_0x25b48f(0x52c)]+'\x20('+this['instance'][_0x25b48f(0x67e)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x25b48f(0x61a)](_0x1c9127['blocks'][_0xb92660])),_0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x463)]&&_0x25b48f(0x5ef)in _0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x463)]){this[_0x25b48f(0x2f0)][_0x25b48f(0x444)](this[_0x25b48f(0x52c)]+'\x20('+this[_0x25b48f(0x63a)][_0x25b48f(0x67e)]+_0x25b48f(0x3e1));let _0x971d35=JSON[_0x25b48f(0x61a)](_0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x463)][_0x25b48f(0x5ef)],null,0x1);_0x971d35[_0x25b48f(0x6d9)]>0x2&&(_0x971d35=_0x971d35[_0x25b48f(0x568)](0x1,_0x971d35[_0x25b48f(0x6d9)]-0x1)['trim']()),_0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x463)][_0x25b48f(0x711)]=_0x971d35;}if(_0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x463)]&&_0x25b48f(0x509)in _0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x463)]&&!(_0x25b48f(0x61d)in _0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x463)])){this[_0x25b48f(0x2f0)]['verbose'](this['instanceName']+'\x20('+this[_0x25b48f(0x63a)][_0x25b48f(0x67e)]+_0x25b48f(0x528)),_0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x463)][_0x25b48f(0x5fe)]=!0x1;let _0xbb68be=JSON['stringify'](_0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x463)][_0x25b48f(0x509)],null,0x2);_0x1c9127['blocks'][_0xb92660][_0x25b48f(0x463)]['bodyString']=_0xbb68be;}if(_0x1c9127[_0x25b48f(0x38f)][_0xb92660]['apirequest']&&'bodyString'in _0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x463)]){_0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x463)]['bodyStringErrorParse']=!0x1;let _0x23b9f5=_0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x463)][_0x25b48f(0x61d)],_0x12866f=this[_0x25b48f(0x4e4)](_0x23b9f5);_0x1c9127['blocks'][_0xb92660][_0x25b48f(0x463)]['bodyString']=_0x12866f[_0x25b48f(0x61f)],_0x1c9127[_0x25b48f(0x38f)][_0xb92660][_0x25b48f(0x463)]['bodyStringErrorParse']=_0x12866f[_0x25b48f(0x73d)];}let _0x5bab8a=_0x1c9127['blocks'][_0xb92660][_0x25b48f(0x3db)];_0x49fbf9!==_0x5bab8a?(this[_0x25b48f(0x336)](_0x1c9127['blocks'],_0x49fbf9),this[_0x25b48f(0x336)](_0x1c9127[_0x25b48f(0x38f)],_0x5bab8a)):this[_0x25b48f(0x336)](_0x1c9127[_0x25b48f(0x38f)],_0x49fbf9);}[a0_0x5d3ab0(0x4e4)](_0x3199d1){const _0x35576e=a0_0x5d3ab0;let _0x341a88='\u205f',_0xf816c9=!0x1,_0x51284d='';for(let _0x4bd607=0x0;_0x4bd607<_0x3199d1[_0x35576e(0x6d9)];_0x4bd607++){let _0x5bd4e5=_0x3199d1[_0x4bd607];_0x5bd4e5==='\x22'&&(_0x4bd607===0x0||_0x3199d1[_0x4bd607-0x1]!=='\x5c')&&(_0xf816c9=!_0xf816c9),!(!_0xf816c9&&(_0x5bd4e5==='\x0a'||_0x5bd4e5==='\x20'||_0x5bd4e5===_0x341a88))&&(_0x51284d+=_0x5bd4e5);}let _0x3e473e={},_0x36251f=9876543210.1234,_0x9a3b2=_0x51284d[_0x35576e(0x143)](/\{\{([^}]+)\}\}/g,_0x2e9a98=>{let _0x2b13f8=_0x2e9a98,_0x45e9cc=''+_0x36251f;return _0x3e473e[_0x45e9cc]=_0x2b13f8,_0x36251f+=0.0001,_0x45e9cc;}),_0x370a33='',_0x13d86e=!0x1;try{let _0x138bad=JSON[_0x35576e(0x396)](_0x9a3b2);_0x370a33=JSON[_0x35576e(0x61a)](_0x138bad,null,0x2),_0x370a33=_0x370a33[_0x35576e(0x143)](/\n( +)/g,(_0x15d1c3,_0x4826ff)=>{const _0x3bcbf6=_0x35576e;let _0x2b9273=_0x4826ff[_0x3bcbf6(0x6d9)];return'\x0a'+_0x341a88[_0x3bcbf6(0x303)](_0x2b9273*0x2);}),_0x370a33=_0x370a33[_0x35576e(0x143)](/(\d{10,}\.\d+)/g,_0x380493=>_0x3e473e[_0x380493]||_0x380493);}catch(_0x2b9db8){console[_0x35576e(0x73d)]('Error\x20parsing\x20JSON:',_0x2b9db8),_0x370a33=_0x3199d1,_0x13d86e=!0x0;}return{'result':_0x370a33,'error':_0x13d86e};}[a0_0x5d3ab0(0x115)](_0x172c44,_0x2841c6){const _0x3b56b5=a0_0x5d3ab0;if(_0x2841c6[_0x3b56b5(0x637)][_0x3b56b5(0xcc)]==='start'){this[_0x3b56b5(0xe2)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x2841c6['block']['apirequest']&&_0x3b56b5(0x5ef)in _0x2841c6[_0x3b56b5(0x637)][_0x3b56b5(0x463)]){this[_0x3b56b5(0x2f0)][_0x3b56b5(0x444)](this[_0x3b56b5(0x52c)]+'\x20('+this[_0x3b56b5(0x63a)][_0x3b56b5(0x67e)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x199a17=JSON['stringify'](_0x2841c6[_0x3b56b5(0x637)][_0x3b56b5(0x463)][_0x3b56b5(0x5ef)],null,0x1);_0x199a17['length']>0x2&&(_0x199a17=_0x199a17[_0x3b56b5(0x568)](0x1,_0x199a17[_0x3b56b5(0x6d9)]-0x1)[_0x3b56b5(0x68c)]()),_0x2841c6[_0x3b56b5(0x637)]['apirequest'][_0x3b56b5(0x711)]=_0x199a17;}_0x2841c6['block'][_0x3b56b5(0x463)]&&'body'in _0x2841c6[_0x3b56b5(0x637)][_0x3b56b5(0x463)]&&(this[_0x3b56b5(0x2f0)]['verbose'](this[_0x3b56b5(0x52c)]+'\x20('+this[_0x3b56b5(0x63a)][_0x3b56b5(0x67e)]+_0x3b56b5(0x528)),_0x2841c6['block'][_0x3b56b5(0x463)][_0x3b56b5(0x61d)]=JSON[_0x3b56b5(0x61a)](_0x2841c6[_0x3b56b5(0x637)][_0x3b56b5(0x463)]['body'],null,0x1)['trim']()),_0x172c44['blocks'][_0x3b56b5(0x6a7)](_0x2841c6[_0x3b56b5(0x637)]),this['reorderBlocks'](_0x172c44[_0x3b56b5(0x38f)],_0x2841c6['block'][_0x3b56b5(0x3db)]);}[a0_0x5d3ab0(0x336)](_0x3938e8,_0x84f7b5){const _0x2b03e7=a0_0x5d3ab0;let _0x7b6d4e=_0x3938e8[_0x2b03e7(0x589)](_0x193e38=>_0x193e38[_0x2b03e7(0x3db)]===_0x84f7b5);_0x7b6d4e[_0x2b03e7(0x6d6)]((_0x1d423d,_0x445c60)=>_0x1d423d[_0x2b03e7(0x628)]-_0x445c60[_0x2b03e7(0x628)]),_0x7b6d4e['forEach']((_0x2a3525,_0x54b534)=>_0x2a3525['order']=_0x54b534+0x1);}async['editFlowReply'](_0x225354,_0x453167){const _0x586cf0=a0_0x5d3ab0;try{this[_0x586cf0(0x2f0)][_0x586cf0(0x444)](this[_0x586cf0(0x52c)]+'\x20('+this['instance'][_0x586cf0(0x67e)]+_0x586cf0(0x383));let _0x2f8dd6=_0x225354?.[_0x586cf0(0x491)][_0x586cf0(0x68c)]()===_0x586cf0(0x4a0)?'global':this['instance'][_0x586cf0(0x67e)];if(!_0x225354||!_0x225354[_0x586cf0(0x118)]){this['throwAndLogError'](_0x586cf0(0x2cc));return;}let _0x383275=await this[_0x586cf0(0x40c)]['flow'][_0x586cf0(0x639)]({'where':{'name':_0x225354[_0x586cf0(0x26b)]}},_0x2f8dd6);if(_0x383275||this[_0x586cf0(0xe2)](_0x586cf0(0x787)),_0x383275?.[_0x586cf0(0x491)]===_0x586cf0(0x72d))throw new m(_0x586cf0(0x2c5));if(_0x453167!==ee&&_0x383275?.['global']==='true'&&_0x383275?.['owner']!==this['instance'][_0x586cf0(0x67e)])throw new m(_0x586cf0(0x2ed));let {replyOption:_0x5ad247}=_0x225354;_0x5ad247?.['delete']?(this['deleteReplyOption'](_0x383275,_0x225354),this[_0x586cf0(0x3d7)](_0x383275[_0x586cf0(0x3a2)],_0x225354[_0x586cf0(0x118)]['blockId'])):_0x5ad247[_0x586cf0(0x4eb)]?(await this[_0x586cf0(0x122)](_0x383275,_0x225354),this[_0x586cf0(0x3d7)](_0x383275[_0x586cf0(0x3a2)],_0x225354[_0x586cf0(0x118)]['blockId'])):(this[_0x586cf0(0x3dd)](_0x383275,_0x225354),this[_0x586cf0(0x3d7)](_0x383275[_0x586cf0(0x3a2)],_0x225354[_0x586cf0(0x118)][_0x586cf0(0x1fe)]));let _0x2aaff0=await this[_0x586cf0(0x40c)][_0x586cf0(0x475)]['updateOne'](_0x383275[_0x586cf0(0x4eb)],_0x383275,_0x2f8dd6);if(_0x2aaff0&&_0x2aaff0[_0x586cf0(0x37d)]&&_0x2aaff0[_0x586cf0(0x37d)]['length']>0x1&&_0x2aaff0['global']!==_0x586cf0(0x72d)&&this[_0x586cf0(0x3b1)](_0x2aaff0[_0x586cf0(0x4eb)],_0x2f8dd6),!_0x2aaff0)throw new Error(_0x586cf0(0x2c3));return _0x2aaff0;}catch(_0x501fab){this[_0x586cf0(0xe2)](_0x586cf0(0x212)+_0x501fab);}}[a0_0x5d3ab0(0x3d7)](_0x202e8c,_0x196928){const _0x137de0=a0_0x5d3ab0;_0x202e8c['forEach'](_0x16cc7e=>{const _0x1222f3=a0_0xf130;_0x16cc7e[_0x1222f3(0x1fe)]===_0x196928&&_0x16cc7e[_0x1222f3(0x628)]===void 0x0&&(_0x16cc7e['order']=0x270f);});let _0x14f3ea=_0x202e8c['filter'](_0x26c07a=>_0x26c07a[_0x137de0(0x1fe)]===_0x196928);_0x14f3ea['sort']((_0x411a58,_0x47ecdf)=>_0x411a58[_0x137de0(0x628)]-_0x47ecdf[_0x137de0(0x628)]),_0x14f3ea[_0x137de0(0x394)]((_0x2180fa,_0x3a6e41)=>{const _0x534079=_0x137de0;_0x2180fa[_0x534079(0x628)]=_0x3a6e41+0x1;}),_0x202e8c['forEach'](_0x5333a7=>{const _0x42d824=_0x137de0;if(_0x5333a7[_0x42d824(0x1fe)]===_0x196928){let _0x329bde=_0x14f3ea[_0x42d824(0x299)](_0x434373=>_0x434373['_id']&&_0x5333a7[_0x42d824(0x4eb)]&&_0x434373[_0x42d824(0x4eb)]['toString']()===_0x5333a7[_0x42d824(0x4eb)][_0x42d824(0x651)]());_0x329bde&&(_0x5333a7['order']=_0x329bde['order']);}});}[a0_0x5d3ab0(0x2b2)](_0x165be6,_0x5144be){const _0x4bf892=a0_0x5d3ab0;let {replyOption:_0x1aebdb}=_0x5144be;if(!_0x1aebdb[_0x4bf892(0x4eb)]){this[_0x4bf892(0xe2)](_0x4bf892(0xf3));return;}if(!_0x165be6[_0x4bf892(0x3a2)][_0x4bf892(0x299)](_0x2f030e=>_0x2f030e[_0x4bf892(0x4eb)][_0x4bf892(0x651)]()===_0x5144be[_0x4bf892(0x118)]['_id']['toString']())){this[_0x4bf892(0xe2)]('ReplyOption\x20com\x20ID\x20'+_0x1aebdb['_id']+_0x4bf892(0x494));return;}_0x165be6['replyOptions']=_0x165be6[_0x4bf892(0x3a2)][_0x4bf892(0x589)](_0x4efb68=>_0x4efb68[_0x4bf892(0x4eb)][_0x4bf892(0x651)]()!==_0x5144be[_0x4bf892(0x118)][_0x4bf892(0x4eb)][_0x4bf892(0x651)]());}async[a0_0x5d3ab0(0x122)](_0xfa539d,_0x3f8146){const _0x14f912=a0_0x5d3ab0;let _0x335eca=_0xfa539d[_0x14f912(0x3a2)][_0x14f912(0x641)](_0x1264a9=>_0x1264a9[_0x14f912(0x4eb)][_0x14f912(0x651)]()===_0x3f8146['replyOption'][_0x14f912(0x4eb)][_0x14f912(0x651)]());if(_0x335eca===-0x1){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x3f8146[_0x14f912(0x118)][_0x14f912(0x4eb)]+_0x14f912(0x111));return;}for(let _0x18a961 in _0x3f8146[_0x14f912(0x118)])_0x3f8146[_0x14f912(0x118)]['hasOwnProperty'](_0x18a961)&&(_0xfa539d[_0x14f912(0x3a2)][_0x335eca][_0x18a961]=_0x3f8146['replyOption'][_0x18a961]);}['addReplyOption'](_0xb62875,_0x34d477){const _0x4a4d40=a0_0x5d3ab0;_0xb62875[_0x4a4d40(0x3a2)][_0x4a4d40(0x6a7)](_0x34d477['replyOption']);}async[a0_0x5d3ab0(0x65a)](_0x26d1f6,_0x22d21a){const _0x1cf0f7=a0_0x5d3ab0;let _0x2fdb28=_0x26d1f6?.[_0x1cf0f7(0x491)]['trim']()==='true'?_0x1cf0f7(0x491):this['instance'][_0x1cf0f7(0x67e)];this['logger'][_0x1cf0f7(0x444)](this[_0x1cf0f7(0x52c)]+'\x20('+this[_0x1cf0f7(0x63a)][_0x1cf0f7(0x67e)]+_0x1cf0f7(0x3e0)+_0x2fdb28+_0x1cf0f7(0x53c)+_0x22d21a+_0x1cf0f7(0x2f2)+JSON[_0x1cf0f7(0x61a)](_0x26d1f6,null,0x2));try{this[_0x1cf0f7(0x2f0)][_0x1cf0f7(0x444)](this['instanceName']+'\x20('+this[_0x1cf0f7(0x63a)]['wuid']+_0x1cf0f7(0x5ea));let _0x2e60e5=await this[_0x1cf0f7(0x40c)]['flow'][_0x1cf0f7(0x639)]({'where':{'name':_0x26d1f6[_0x1cf0f7(0x26b)]}},_0x2fdb28);if(!_0x2e60e5)throw this['logger'][_0x1cf0f7(0x444)](this[_0x1cf0f7(0x52c)]+'\x20('+this[_0x1cf0f7(0x63a)][_0x1cf0f7(0x67e)]+_0x1cf0f7(0x66e)),new Error(_0x1cf0f7(0x787));if(_0x2e60e5?.['global']===_0x1cf0f7(0x72d))throw this[_0x1cf0f7(0x2f0)]['verbose'](this[_0x1cf0f7(0x52c)]+'\x20('+this[_0x1cf0f7(0x63a)]['wuid']+_0x1cf0f7(0x45e)),new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x22d21a!==ee&&_0x2e60e5?.[_0x1cf0f7(0x491)]==='true'&&_0x2e60e5?.[_0x1cf0f7(0x36e)]!==this[_0x1cf0f7(0x63a)][_0x1cf0f7(0x67e)])throw this['logger'][_0x1cf0f7(0x444)](this[_0x1cf0f7(0x52c)]+'\x20('+this[_0x1cf0f7(0x63a)][_0x1cf0f7(0x67e)]+_0x1cf0f7(0x295)),new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');if(_0x26d1f6[_0x1cf0f7(0x5fb)]&&_0x26d1f6[_0x1cf0f7(0x5fb)]?.['delete']===!0x0){if(this[_0x1cf0f7(0x2f0)]['verbose'](this[_0x1cf0f7(0x52c)]+'\x20('+this[_0x1cf0f7(0x63a)][_0x1cf0f7(0x67e)]+'):\x20delete\x20=\x20true'),_0x26d1f6[_0x1cf0f7(0x5fb)]['default']===!0x0)return{'message':_0x1cf0f7(0x182)};if(_0x2e60e5['blocks']['some'](_0x12456a=>_0x12456a[_0x1cf0f7(0x3db)]['toString']()===_0x26d1f6['group'][_0x1cf0f7(0x4eb)]))return this[_0x1cf0f7(0x2f0)][_0x1cf0f7(0x444)](this[_0x1cf0f7(0x52c)]+'\x20('+this[_0x1cf0f7(0x63a)]['wuid']+_0x1cf0f7(0x54d)),{'message':_0x1cf0f7(0x5a7)};_0x2e60e5[_0x1cf0f7(0x783)]=_0x2e60e5[_0x1cf0f7(0x783)][_0x1cf0f7(0x589)](_0x3f725f=>_0x3f725f[_0x1cf0f7(0x4eb)]['toString']()!==_0x26d1f6[_0x1cf0f7(0x5fb)][_0x1cf0f7(0x4eb)]);}else{if(_0x26d1f6[_0x1cf0f7(0x5fb)]){if(_0x26d1f6[_0x1cf0f7(0x5fb)]['default']===!0x0)return{'message':_0x1cf0f7(0x283)};if(_0x26d1f6[_0x1cf0f7(0x5fb)][_0x1cf0f7(0x4eb)]){let _0xcdfb2d=_0x2e60e5[_0x1cf0f7(0x783)][_0x1cf0f7(0x299)](_0x163f6d=>_0x163f6d['_id'][_0x1cf0f7(0x651)]()===_0x26d1f6[_0x1cf0f7(0x5fb)][_0x1cf0f7(0x4eb)]);_0xcdfb2d&&(_0x26d1f6[_0x1cf0f7(0x5fb)]['x']<0x0&&(_0x26d1f6[_0x1cf0f7(0x5fb)]['x']=0x0),_0x26d1f6[_0x1cf0f7(0x5fb)]['y']<0x0&&(_0x26d1f6['group']['y']=0x0),Object[_0x1cf0f7(0x2bf)](_0xcdfb2d,_0x26d1f6[_0x1cf0f7(0x5fb)]));}else _0x2e60e5[_0x1cf0f7(0x783)][_0x1cf0f7(0x6a7)](_0x26d1f6[_0x1cf0f7(0x5fb)]);}}let _0x1ad477=await this[_0x1cf0f7(0x40c)][_0x1cf0f7(0x475)][_0x1cf0f7(0x63f)](_0x2e60e5[_0x1cf0f7(0x4eb)],_0x2e60e5,_0x2fdb28);if(_0x1ad477&&_0x1ad477[_0x1cf0f7(0x37d)]&&_0x1ad477[_0x1cf0f7(0x37d)]['length']>0x1&&_0x1ad477[_0x1cf0f7(0x491)]!==_0x1cf0f7(0x72d)&&this[_0x1cf0f7(0x3b1)](_0x1ad477[_0x1cf0f7(0x4eb)],_0x2fdb28),!_0x1ad477)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1ad477;}catch(_0x32482e){let _0x1eef30=_0x1cf0f7(0x684),_0x223cda=_0x32482e instanceof Error?_0x32482e['message']:typeof _0x32482e==_0x1cf0f7(0x696)?JSON[_0x1cf0f7(0x61a)](_0x32482e):_0x32482e,_0x1a3dd7=_0x1eef30+':\x20'+_0x223cda;throw this['logger'][_0x1cf0f7(0x73d)](this[_0x1cf0f7(0x52c)]+'\x20('+this['instance'][_0x1cf0f7(0x67e)]+_0x1cf0f7(0x8c)+_0x1a3dd7),new m(_0x1a3dd7);}}async[a0_0x5d3ab0(0x1b7)](_0x5d2f36,_0x543bd0){const _0x2226f6=a0_0x5d3ab0;try{this[_0x2226f6(0x2f0)][_0x2226f6(0x444)](this[_0x2226f6(0x52c)]+'\x20('+this[_0x2226f6(0x63a)]['wuid']+_0x2226f6(0x20f));let _0x109add=_0x5d2f36?.[_0x2226f6(0x491)][_0x2226f6(0x68c)]()==='true'?'global':this[_0x2226f6(0x63a)][_0x2226f6(0x67e)],_0x5bfebc=await this['repository'][_0x2226f6(0x475)][_0x2226f6(0x639)]({'where':{'name':_0x5d2f36[_0x2226f6(0x26b)]}},_0x109add);if(!_0x5bfebc)throw new Error('Flow\x20não\x20encontrado');if(_0x5bfebc?.[_0x2226f6(0x491)]===_0x2226f6(0x72d))throw new m(_0x2226f6(0x2c5));if(_0x543bd0!==ee&&_0x5bfebc?.['global']==='true'&&_0x5bfebc?.['owner']!==this[_0x2226f6(0x63a)][_0x2226f6(0x67e)])throw new m(_0x2226f6(0x2ed));let _0x4be4b9=!0x1;if(_0x5d2f36['condition']?.[_0x2226f6(0x4c9)]===!0x0)_0x5bfebc[_0x2226f6(0x390)]=_0x5bfebc[_0x2226f6(0x390)][_0x2226f6(0x589)](_0x467f88=>_0x467f88&&_0x5d2f36[_0x2226f6(0x104)]&&_0x467f88[_0x2226f6(0x4eb)]&&_0x5d2f36[_0x2226f6(0x104)][_0x2226f6(0x4eb)]&&_0x467f88['_id'][_0x2226f6(0x651)]()!==_0x5d2f36[_0x2226f6(0x104)][_0x2226f6(0x4eb)][_0x2226f6(0x651)]()),_0x4be4b9=!0x0;else{let _0xb92a24=_0x5bfebc['conditions']['find'](_0x35505f=>_0x35505f&&_0x5d2f36[_0x2226f6(0x104)]&&_0x35505f['_id']&&_0x5d2f36[_0x2226f6(0x104)]['_id']&&_0x35505f['_id'][_0x2226f6(0x651)]()===_0x5d2f36['condition'][_0x2226f6(0x4eb)][_0x2226f6(0x651)]());_0xb92a24?(_0x4be4b9=_0xb92a24[_0x2226f6(0x628)]!==_0x5d2f36[_0x2226f6(0x104)][_0x2226f6(0x628)],Object[_0x2226f6(0x2bf)](_0xb92a24,_0x5d2f36[_0x2226f6(0x104)])):(_0x5bfebc[_0x2226f6(0x390)][_0x2226f6(0x6a7)](_0x5d2f36[_0x2226f6(0x104)]),_0x4be4b9=!0x0);}if(_0x4be4b9){_0x5bfebc[_0x2226f6(0x390)][_0x2226f6(0x6d6)]((_0x454b04,_0x39c81b)=>_0x454b04[_0x2226f6(0x628)]>_0x39c81b[_0x2226f6(0x628)]?0x1:_0x39c81b[_0x2226f6(0x628)]>_0x454b04[_0x2226f6(0x628)]?-0x1:0x0);for(let _0x2dea35=0x0;_0x2dea35<_0x5bfebc[_0x2226f6(0x390)]['length'];_0x2dea35++)_0x5bfebc[_0x2226f6(0x390)][_0x2dea35][_0x2226f6(0x628)]=_0x2dea35+0x1;_0x5bfebc[_0x2226f6(0x390)]['length']>0x0&&(_0x5bfebc['conditions'][0x0][_0x2226f6(0x695)]='and');}let _0x50b791=await this[_0x2226f6(0x40c)][_0x2226f6(0x475)][_0x2226f6(0x63f)](_0x5bfebc[_0x2226f6(0x4eb)],_0x5bfebc,_0x109add);if(_0x50b791&&_0x50b791[_0x2226f6(0x37d)]&&_0x50b791['shareOwners']['length']>0x1&&_0x50b791[_0x2226f6(0x491)]!=='sync'&&this[_0x2226f6(0x3b1)](_0x50b791[_0x2226f6(0x4eb)],_0x109add),!_0x50b791)throw new Error(_0x2226f6(0x2c3));return _0x50b791;}catch(_0x1b4f62){let _0x10e317='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x28ae40=_0x1b4f62 instanceof Error?_0x1b4f62[_0x2226f6(0x5fc)]:typeof _0x1b4f62==_0x2226f6(0x696)?JSON[_0x2226f6(0x61a)](_0x1b4f62):_0x1b4f62,_0x236ac6=_0x10e317+':\x20'+_0x28ae40;throw this[_0x2226f6(0x2f0)][_0x2226f6(0x73d)](this[_0x2226f6(0x52c)]+'\x20('+this['instance'][_0x2226f6(0x67e)]+_0x2226f6(0x8c)+_0x236ac6),new m(_0x236ac6);}}async[a0_0x5d3ab0(0x296)](_0x414b23,_0x2241eb){const _0x1d44f4=a0_0x5d3ab0;try{this[_0x1d44f4(0x2f0)][_0x1d44f4(0x444)](this['instanceName']+'\x20('+this[_0x1d44f4(0x63a)][_0x1d44f4(0x67e)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x452e51=_0x414b23?.['global'][_0x1d44f4(0x68c)]()===_0x1d44f4(0x4a0)?_0x1d44f4(0x491):this[_0x1d44f4(0x63a)][_0x1d44f4(0x67e)],_0x3ae2bb=await this[_0x1d44f4(0x40c)][_0x1d44f4(0x475)][_0x1d44f4(0x639)]({'where':{'name':_0x414b23['name']}},_0x452e51);if(!_0x3ae2bb)throw new Error(_0x1d44f4(0x787));if(_0x3ae2bb?.[_0x1d44f4(0x491)]==='sync')throw new m(_0x1d44f4(0x2c5));if(_0x2241eb!==ee&&_0x3ae2bb?.[_0x1d44f4(0x491)]===_0x1d44f4(0x4a0)&&_0x3ae2bb?.[_0x1d44f4(0x36e)]!==this['instance'][_0x1d44f4(0x67e)])throw new m(_0x1d44f4(0x2ed));let _0x1e93b1=!0x1;if(_0x414b23[_0x1d44f4(0xc4)]?.[_0x1d44f4(0x4c9)]===!0x0)_0x3ae2bb['varedits']=_0x3ae2bb['varedits'][_0x1d44f4(0x589)](_0x18ea75=>_0x18ea75&&_0x414b23[_0x1d44f4(0xc4)]&&_0x18ea75[_0x1d44f4(0x4eb)]&&_0x414b23['varedit'][_0x1d44f4(0x4eb)]&&_0x18ea75[_0x1d44f4(0x4eb)][_0x1d44f4(0x651)]()!==_0x414b23[_0x1d44f4(0xc4)][_0x1d44f4(0x4eb)][_0x1d44f4(0x651)]()),_0x1e93b1=!0x0;else{let _0x11c5bd=_0x3ae2bb[_0x1d44f4(0x58f)][_0x1d44f4(0x299)](_0x1b65a4=>_0x1b65a4&&_0x414b23[_0x1d44f4(0xc4)]&&_0x1b65a4[_0x1d44f4(0x4eb)]&&_0x414b23['varedit'][_0x1d44f4(0x4eb)]&&_0x1b65a4['_id'][_0x1d44f4(0x651)]()===_0x414b23['varedit'][_0x1d44f4(0x4eb)][_0x1d44f4(0x651)]());_0x11c5bd?(_0x1e93b1=_0x11c5bd[_0x1d44f4(0x628)]!==_0x414b23['varedit'][_0x1d44f4(0x628)],Object[_0x1d44f4(0x2bf)](_0x11c5bd,_0x414b23[_0x1d44f4(0xc4)])):(_0x3ae2bb[_0x1d44f4(0x58f)][_0x1d44f4(0x6a7)](_0x414b23[_0x1d44f4(0xc4)]),_0x1e93b1=!0x0);}if(_0x1e93b1){_0x3ae2bb[_0x1d44f4(0x58f)][_0x1d44f4(0x6d6)]((_0x3fef05,_0x3fd99b)=>_0x3fef05[_0x1d44f4(0x628)]>_0x3fd99b[_0x1d44f4(0x628)]?0x1:_0x3fd99b['order']>_0x3fef05['order']?-0x1:0x0);for(let _0xd9b7bf=0x0;_0xd9b7bf<_0x3ae2bb[_0x1d44f4(0x58f)][_0x1d44f4(0x6d9)];_0xd9b7bf++)_0x3ae2bb[_0x1d44f4(0x58f)][_0xd9b7bf][_0x1d44f4(0x628)]=_0xd9b7bf+0x1;}let _0x4f1ad8=await this[_0x1d44f4(0x40c)][_0x1d44f4(0x475)]['updateOne'](_0x3ae2bb[_0x1d44f4(0x4eb)],_0x3ae2bb,_0x452e51);if(_0x4f1ad8&&_0x4f1ad8[_0x1d44f4(0x37d)]&&_0x4f1ad8[_0x1d44f4(0x37d)]['length']>0x1&&_0x4f1ad8[_0x1d44f4(0x491)]!==_0x1d44f4(0x72d)&&this[_0x1d44f4(0x3b1)](_0x4f1ad8[_0x1d44f4(0x4eb)],_0x452e51),!_0x4f1ad8)throw new Error(_0x1d44f4(0x2c3));return _0x4f1ad8;}catch(_0x16d8e6){let _0x308404=_0x1d44f4(0x2fc),_0x516cb0=_0x16d8e6 instanceof Error?_0x16d8e6[_0x1d44f4(0x5fc)]:typeof _0x16d8e6==_0x1d44f4(0x696)?JSON[_0x1d44f4(0x61a)](_0x16d8e6):_0x16d8e6,_0x21faab=_0x308404+':\x20'+_0x516cb0;throw this[_0x1d44f4(0x2f0)][_0x1d44f4(0x73d)](this[_0x1d44f4(0x52c)]+'\x20('+this[_0x1d44f4(0x63a)]['wuid']+_0x1d44f4(0x8c)+_0x21faab),new m(_0x21faab);}}async[a0_0x5d3ab0(0xba)](_0x306773,_0x52f63e){const _0x20cc79=a0_0x5d3ab0;try{this[_0x20cc79(0x2f0)][_0x20cc79(0x444)](this[_0x20cc79(0x52c)]+'\x20('+this[_0x20cc79(0x63a)][_0x20cc79(0x67e)]+_0x20cc79(0x477));let _0x12302f=_0x306773?.[_0x20cc79(0x491)][_0x20cc79(0x68c)]()===_0x20cc79(0x4a0)?_0x20cc79(0x491):this['instance'][_0x20cc79(0x67e)],_0x3bb11e=await this[_0x20cc79(0x40c)][_0x20cc79(0x475)][_0x20cc79(0x639)]({'where':{'name':_0x306773[_0x20cc79(0x26b)]}},_0x12302f);if(!_0x3bb11e)throw new Error(_0x20cc79(0x787));if(_0x3bb11e?.['global']==='sync')throw new m(_0x20cc79(0x2c5));if(_0x52f63e!==ee&&_0x3bb11e?.[_0x20cc79(0x491)]==='true'&&_0x3bb11e?.[_0x20cc79(0x36e)]!==this[_0x20cc79(0x63a)][_0x20cc79(0x67e)])throw new m(_0x20cc79(0x2ed));if(_0x52f63e!==ee&&_0x3bb11e?.[_0x20cc79(0x491)]===_0x20cc79(0x4a0)&&_0x3bb11e?.[_0x20cc79(0x36e)]!==this[_0x20cc79(0x63a)][_0x20cc79(0x67e)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');_0x306773[_0x20cc79(0x375)][_0x20cc79(0x26b)]=_0x306773[_0x20cc79(0x375)][_0x20cc79(0x26b)][_0x20cc79(0x68c)](),_0x306773[_0x20cc79(0x375)][_0x20cc79(0x26b)][_0x20cc79(0x5af)]('_')&&(_0x306773[_0x20cc79(0x375)][_0x20cc79(0x26b)]=_0x306773['variable'][_0x20cc79(0x26b)][_0x20cc79(0x568)](0x1)),_0x306773[_0x20cc79(0x375)][_0x20cc79(0x26b)]=_0x306773[_0x20cc79(0x375)]['name']['trim']();let _0x230615=_0x3bb11e[_0x20cc79(0x5da)][_0x20cc79(0x299)](_0x14266d=>_0x14266d[_0x20cc79(0x26b)]===_0x306773[_0x20cc79(0x375)]['name']);if(_0x230615?.[_0x20cc79(0x314)]===!0x0)throw new Error(_0x20cc79(0x289));if(_0x306773[_0x20cc79(0x375)]?.[_0x20cc79(0x4c9)]===!0x0){if(!_0x230615)return{'message':'Variável\x20não\x20encontrada!'};_0x3bb11e['variables']=_0x3bb11e[_0x20cc79(0x5da)]['filter'](_0x161653=>_0x161653[_0x20cc79(0x26b)]!==_0x306773[_0x20cc79(0x375)][_0x20cc79(0x26b)]);}else _0x230615?Object[_0x20cc79(0x2bf)](_0x230615,_0x306773[_0x20cc79(0x375)]):_0x3bb11e[_0x20cc79(0x5da)][_0x20cc79(0x6a7)](_0x306773[_0x20cc79(0x375)]);let _0x54392c=await this[_0x20cc79(0x40c)][_0x20cc79(0x475)]['updateOne'](_0x3bb11e[_0x20cc79(0x4eb)],_0x3bb11e,_0x12302f);if(_0x54392c&&_0x54392c['shareOwners']&&_0x54392c[_0x20cc79(0x37d)][_0x20cc79(0x6d9)]>0x1&&_0x54392c[_0x20cc79(0x491)]!==_0x20cc79(0x72d)&&this[_0x20cc79(0x3b1)](_0x54392c[_0x20cc79(0x4eb)],_0x12302f),!_0x54392c)throw new Error(_0x20cc79(0x2c3));return _0x54392c;}catch(_0x1adfc7){let _0x3e83eb=_0x20cc79(0x356),_0x290482=_0x1adfc7 instanceof Error?_0x1adfc7[_0x20cc79(0x5fc)]:typeof _0x1adfc7==_0x20cc79(0x696)?JSON['stringify'](_0x1adfc7):_0x1adfc7,_0x53a0be=_0x3e83eb+':\x20'+_0x290482;throw this[_0x20cc79(0x2f0)]['error'](this[_0x20cc79(0x52c)]+'\x20('+this[_0x20cc79(0x63a)][_0x20cc79(0x67e)]+_0x20cc79(0x8c)+_0x53a0be),new m(_0x53a0be);}}async[a0_0x5d3ab0(0x663)](_0x468190){const _0x50b24a=a0_0x5d3ab0;let _0x40d883=null;try{if(!this[_0x50b24a(0x3f8)]?.[_0x50b24a(0x18b)][_0x50b24a(0x113)])throw new m('Fluxos\x20não\x20estão\x20ativados');this[_0x50b24a(0x2f0)][_0x50b24a(0x444)](this[_0x50b24a(0x52c)]+'\x20('+this['instance']['wuid']+'):\x20Iniciando\x20bot...');let _0x18993f=(await this[_0x50b24a(0x17d)]({'numbers':[_0x468190['remoteJid']]}))[0x0];if(!_0x18993f[_0x50b24a(0x99)]&&!(0x0,f[_0x50b24a(0x5cc)])(_0x18993f[_0x50b24a(0x697)])&&!_0x18993f[_0x50b24a(0x697)][_0x50b24a(0x5c5)]('@broadcast'))throw _0x40d883=JSON['stringify'](_0x18993f,null,0x2),new m(_0x18993f);let _0x45b793=await this[_0x50b24a(0x40c)][_0x50b24a(0x475)][_0x50b24a(0x639)]({'where':{'name':_0x468190[_0x50b24a(0x26b)]}},this['instance'][_0x50b24a(0x67e)]);if(!_0x45b793)return this[_0x50b24a(0x2f0)]['error'](this[_0x50b24a(0x52c)]+'\x20('+this[_0x50b24a(0x63a)]['wuid']+_0x50b24a(0x66e)),{'message':_0x50b24a(0x787)};let _0x285a61=await this[_0x50b24a(0x686)](_0x45b793,_0x18993f[_0x50b24a(0x697)],_0x468190[_0x50b24a(0x775)]);if(_0x285a61){this['logger'][_0x50b24a(0x444)](this[_0x50b24a(0x52c)]+'\x20('+this[_0x50b24a(0x63a)][_0x50b24a(0x67e)]+_0x50b24a(0x340));let _0x3e43e0=await this[_0x50b24a(0x488)](_0x285a61);return _0x3e43e0&&await this['processblock'](_0x285a61,_0x3e43e0),{'message':'Flow\x20iniciado\x20com\x20'+_0x468190[_0x50b24a(0x623)]};}}catch(_0x2f262d){if(this['logger'][_0x50b24a(0x73d)](this[_0x50b24a(0x52c)]+'\x20('+this[_0x50b24a(0x63a)][_0x50b24a(0x67e)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x2f262d instanceof Error?_0x2f262d['message']:JSON[_0x50b24a(0x61a)](_0x2f262d,null,0x2))),_0x40d883=_0x2f262d instanceof Error?_0x2f262d[_0x50b24a(0x5fc)]:JSON[_0x50b24a(0x61a)](_0x2f262d,null,0x2),_0x40d883)throw new m(_0x50b24a(0x55e)+_0x40d883);}}async[a0_0x5d3ab0(0x5a1)](_0x50facd,_0x5a8ae3,_0x3ae1ae){const _0x55c853=a0_0x5d3ab0;let _0x2a21a9=null;try{if(!this[_0x55c853(0x3f8)]?.['flowConfig'][_0x55c853(0x113)])throw new m(_0x55c853(0x622));if(this['logger'][_0x55c853(0x444)](this[_0x55c853(0x52c)]+'\x20('+this[_0x55c853(0x63a)][_0x55c853(0x67e)]+'):\x20Iniciando\x20bot...'),_0x5a8ae3){let _0x470e96=(await this[_0x55c853(0x17d)]({'numbers':[_0x5a8ae3]}))[0x0];if(!_0x470e96[_0x55c853(0x99)]&&!(0x0,f[_0x55c853(0x5cc)])(_0x470e96[_0x55c853(0x697)])&&!_0x470e96['jid'][_0x55c853(0x5c5)](_0x55c853(0x529)))throw _0x2a21a9=JSON[_0x55c853(0x61a)](_0x470e96,null,0x2),new m(_0x470e96);_0x5a8ae3=_0x470e96[_0x55c853(0x697)];}else _0x5a8ae3||(_0x5a8ae3=(0x0,Me['v4'])());let _0xe57c5b=await this['repository'][_0x55c853(0x475)][_0x55c853(0x639)]({'where':{'startID':_0x50facd}},this['instance']['wuid']);if(!_0xe57c5b)throw this[_0x55c853(0x2f0)][_0x55c853(0x73d)](this[_0x55c853(0x52c)]+'\x20('+this[_0x55c853(0x63a)][_0x55c853(0x67e)]+_0x55c853(0x66e)),new m(_0x55c853(0x787));let _0x5319b2=await this['createConversationforStartFlow'](_0xe57c5b,_0x5a8ae3,null);if(_0x5319b2){this[_0x55c853(0x2f0)][_0x55c853(0x444)](this[_0x55c853(0x52c)]+'\x20('+this[_0x55c853(0x63a)][_0x55c853(0x67e)]+_0x55c853(0x69a));let _0x17a1bc;if(_0x3ae1ae){let _0x17d40c=_0x5319b2['chatLog'][_0x55c853(0x2ae)],_0x194f5d=this[_0x55c853(0x4bc)](_0x3ae1ae);Object[_0x55c853(0x2bf)](_0x17d40c,_0x194f5d),_0x5319b2[_0x55c853(0x5e8)][_0x55c853(0x2ae)]=_0x17d40c,_0x17a1bc={'error':!0x1,'apiResponse':_0x3ae1ae};}let _0x1d9803=await this[_0x55c853(0x488)](_0x5319b2);return _0x1d9803&&await this[_0x55c853(0x367)](_0x5319b2,_0x1d9803),{'message':_0x55c853(0x346)};}}catch(_0x31545a){if(this[_0x55c853(0x2f0)]['error'](this[_0x55c853(0x52c)]+'\x20('+this['instance']['wuid']+_0x55c853(0x73a)+(_0x31545a instanceof Error?_0x31545a[_0x55c853(0x5fc)]:JSON[_0x55c853(0x61a)](_0x31545a,null,0x2))),_0x2a21a9=_0x31545a instanceof Error?_0x31545a[_0x55c853(0x5fc)]:JSON[_0x55c853(0x61a)](_0x31545a,null,0x2),_0x2a21a9)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x2a21a9);}}async[a0_0x5d3ab0(0x689)](_0x531603){const _0x50f48c=a0_0x5d3ab0;try{let _0x49bc7c={'remoteJid':_0x531603,'status':'open'},_0x333494={'status':_0x50f48c(0x605)},_0x47a88b=await this[_0x50f48c(0x40c)][_0x50f48c(0x112)][_0x50f48c(0x3d0)](_0x49bc7c,_0x333494,this[_0x50f48c(0x63a)][_0x50f48c(0x67e)]);return this[_0x50f48c(0x2f0)][_0x50f48c(0x444)](this['instanceName']+'\x20('+this['instance'][_0x50f48c(0x67e)]+_0x50f48c(0xd3)),_0x47a88b;}catch(_0x11e3fb){throw this[_0x50f48c(0x2f0)][_0x50f48c(0x73d)](this[_0x50f48c(0x52c)]+'\x20('+this[_0x50f48c(0x63a)][_0x50f48c(0x67e)]+_0x50f48c(0x70a)+_0x11e3fb[_0x50f48c(0x5fc)]),_0x11e3fb;}}async[a0_0x5d3ab0(0x686)](_0x42b9d0,_0x165628,_0x59bd41){const _0x18cd5e=a0_0x5d3ab0;this[_0x18cd5e(0x2f0)][_0x18cd5e(0x444)](this['instanceName']+'\x20('+this[_0x18cd5e(0x63a)][_0x18cd5e(0x67e)]+_0x18cd5e(0x171)),await this[_0x18cd5e(0x689)](_0x165628);try{let _0x4bd03b=require(_0x18cd5e(0x749))[_0x18cd5e(0x2b3)],_0x4f3487=Date['now'](),_0x7717fa=_0x18cd5e(0x626),_0x10616a={},_0x5cf6b1={},_0x2f439b={..._0x42b9d0,'chatLog':null},_0x2887b7=await this['variablesToObject'](_0x2f439b[_0x18cd5e(0x5da)]),_0x51a3ce=await this[_0x18cd5e(0x1f4)](_0x165628),_0x12bff9={..._0x2887b7,..._0x51a3ce,'_remoteJid':_0x165628},_0x7cd416={'lastReceivedMessage':_0x10616a,'lastSendMessage':_0x5cf6b1,'lastBlockId':_0x7717fa,'lastCondition':!0x0,'realVariables':_0x12bff9};_0x2f439b['chatLog']=_0x7cd416,_0x2f439b[_0x18cd5e(0x5e8)][_0x18cd5e(0x2ae)]={..._0x12bff9,..._0x59bd41},delete _0x2f439b[_0x18cd5e(0x4eb)],_0x2f439b[_0x18cd5e(0x4eb)]=new _0x4bd03b(),_0x2f439b['lastInteraction']=_0x4f3487,_0x2f439b['status']='open',_0x2f439b[_0x18cd5e(0x623)]=_0x165628;let _0x4aa57e=await this[_0x18cd5e(0x40c)][_0x18cd5e(0x112)][_0x18cd5e(0x63f)](_0x2f439b[_0x18cd5e(0x4eb)],_0x2f439b,this[_0x18cd5e(0x63a)][_0x18cd5e(0x67e)]);return this[_0x18cd5e(0x2f0)][_0x18cd5e(0x444)](this[_0x18cd5e(0x52c)]+'\x20('+this[_0x18cd5e(0x63a)]['wuid']+_0x18cd5e(0x238)),_0x4aa57e?_0x2f439b:null;}catch(_0x3b9d49){let _0x173721=_0x18cd5e(0x206),_0xf4c5a3=_0x3b9d49 instanceof Error?_0x3b9d49[_0x18cd5e(0x5fc)]:typeof _0x3b9d49=='object'?JSON['stringify'](_0x3b9d49):_0x3b9d49,_0x29e468=_0x173721+':\x20'+_0xf4c5a3;throw this['logger'][_0x18cd5e(0x73d)](this[_0x18cd5e(0x52c)]+'\x20('+this[_0x18cd5e(0x63a)][_0x18cd5e(0x67e)]+'):\x20'+_0x29e468),new m(_0x29e468);}}async[a0_0x5d3ab0(0x533)](_0x3a2672){const _0x46ad02=a0_0x5d3ab0;try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x46ad02(0x63a)][_0x46ad02(0x67e)]+'):\x20Buscando\x20conversa...'),this[_0x46ad02(0x2f0)]['verbose'](this[_0x46ad02(0x52c)]+'\x20('+this[_0x46ad02(0x63a)][_0x46ad02(0x67e)]+_0x46ad02(0x71f)+_0x3a2672);let _0x4d0a4c={'where':{'_id':_0x3a2672}};return await this[_0x46ad02(0x40c)][_0x46ad02(0x112)]['findOne'](_0x4d0a4c,this['instance'][_0x46ad02(0x67e)]);}catch(_0x1875dd){let _0x529fb2=_0x46ad02(0xfe),_0x432be2=_0x1875dd instanceof Error?_0x1875dd[_0x46ad02(0x5fc)]:typeof _0x1875dd==_0x46ad02(0x696)?JSON[_0x46ad02(0x61a)](_0x1875dd):_0x1875dd,_0x1a6c77=_0x529fb2+':\x20'+_0x432be2;throw this['logger'][_0x46ad02(0x73d)](this[_0x46ad02(0x52c)]+'\x20('+this[_0x46ad02(0x63a)][_0x46ad02(0x67e)]+_0x46ad02(0x8c)+_0x1a6c77),new m(_0x1a6c77);}}async[a0_0x5d3ab0(0x566)](_0x5cc987){const _0x1c22ff=a0_0x5d3ab0;try{return this[_0x1c22ff(0x2f0)][_0x1c22ff(0x444)](this[_0x1c22ff(0x52c)]+'\x20('+this[_0x1c22ff(0x63a)][_0x1c22ff(0x67e)]+_0x1c22ff(0x24b)),await this['repository'][_0x1c22ff(0x112)]['find'](_0x5cc987,this['instance'][_0x1c22ff(0x67e)]);}catch(_0x538cfe){let _0x4b0fea=_0x1c22ff(0x76f),_0x4d6294=_0x538cfe instanceof Error?_0x538cfe[_0x1c22ff(0x5fc)]:typeof _0x538cfe==_0x1c22ff(0x696)?JSON[_0x1c22ff(0x61a)](_0x538cfe):_0x538cfe,_0x33541d=_0x4b0fea+':\x20'+_0x4d6294;throw this[_0x1c22ff(0x2f0)][_0x1c22ff(0x73d)](this['instanceName']+'\x20('+this['instance'][_0x1c22ff(0x67e)]+'):\x20'+_0x33541d),new m(_0x33541d);}}async[a0_0x5d3ab0(0x14a)](_0x2cdf32){const _0x39d093=a0_0x5d3ab0;try{return this[_0x39d093(0x2f0)][_0x39d093(0x444)](this[_0x39d093(0x52c)]+'\x20('+this[_0x39d093(0x63a)][_0x39d093(0x67e)]+_0x39d093(0x190)),this[_0x39d093(0x2f0)][_0x39d093(0x444)](this[_0x39d093(0x52c)]+'\x20('+this[_0x39d093(0x63a)][_0x39d093(0x67e)]+_0x39d093(0x6c7)+_0x2cdf32),(await this[_0x39d093(0x40c)][_0x39d093(0x112)][_0x39d093(0xda)]({'where':{'_id':_0x2cdf32[_0x39d093(0x4eb)]}},this[_0x39d093(0x63a)][_0x39d093(0x67e)]))[_0x39d093(0x78a)]===0x0?{'message':_0x39d093(0x2c6)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x3092cb){let _0x36f256=_0x39d093(0x160),_0x96b74c=_0x3092cb instanceof Error?_0x3092cb[_0x39d093(0x5fc)]:typeof _0x3092cb==_0x39d093(0x696)?JSON[_0x39d093(0x61a)](_0x3092cb):_0x3092cb,_0x38a93c=_0x36f256+':\x20'+_0x96b74c;throw this[_0x39d093(0x2f0)][_0x39d093(0x73d)](this[_0x39d093(0x52c)]+'\x20('+this[_0x39d093(0x63a)][_0x39d093(0x67e)]+_0x39d093(0x8c)+_0x38a93c),new m(_0x38a93c);}}async[a0_0x5d3ab0(0x606)](_0x401095){const _0x468e43=a0_0x5d3ab0;try{let {_id:_0x18c9ac,chatLog:_0x25098d,status:_0x325c25}=_0x401095;if(!_0x18c9ac)return{'message':_0x468e43(0x337)};let _0x51c78c={};if(_0x325c25!==void 0x0&&(_0x51c78c['status']=_0x325c25),Object[_0x468e43(0x43f)](_0x51c78c)['length']===0x0)return{'message':_0x468e43(0x146)};let _0x11bc15=await this[_0x468e43(0x40c)][_0x468e43(0x112)][_0x468e43(0x63f)](_0x18c9ac,_0x51c78c,this['instance'][_0x468e43(0x67e)]);return _0x11bc15||{'message':_0x468e43(0x2b6)};}catch(_0x2bed63){let _0x1eb270='Erro\x20ao\x20editar\x20a\x20conversa',_0x3fe06d=_0x2bed63 instanceof Error?_0x2bed63['message']:typeof _0x2bed63==_0x468e43(0x696)?JSON[_0x468e43(0x61a)](_0x2bed63):_0x2bed63,_0x431922=_0x1eb270+':\x20'+_0x3fe06d;throw this['logger']['error'](this[_0x468e43(0x52c)]+'\x20('+this[_0x468e43(0x63a)][_0x468e43(0x67e)]+_0x468e43(0x8c)+_0x431922),new m(_0x431922);}}async[a0_0x5d3ab0(0x4f1)](_0x2cd504){const _0x155d05=a0_0x5d3ab0;try{_0x2cd504[_0x155d05(0x4eb)]=this[_0x155d05(0x54b)](_0x2cd504[_0x155d05(0x4eb)]);let _0x526e77=await this[_0x155d05(0x40c)][_0x155d05(0x23a)][_0x155d05(0x639)]({'where':{'_id':_0x2cd504['_id']}},this['instance'][_0x155d05(0x67e)]);if(!_0x526e77)throw new m(_0x155d05(0x3be));let {_id:_0x1bf201,leadInfo:_0x15a6fb}=_0x2cd504;if(!_0x1bf201)throw new Error(_0x155d05(0x576));if(_0x2cd504[_0x155d05(0x4c9)]===_0x155d05(0x68e))return await this[_0x155d05(0x4c5)](_0x2cd504[_0x155d05(0x4eb)]),await this['repository'][_0x155d05(0x23a)][_0x155d05(0x4c9)]({'where':{'_id':_0x2cd504['_id']}},this['instance'][_0x155d05(0x67e)]),await this['repository'][_0x155d05(0x5fc)]['delete']({'where':{'key':{'remoteJid':_0x2cd504[_0x155d05(0x4eb)]}}},this[_0x155d05(0x63a)]['wuid']),_0x2cd504=await this[_0x155d05(0x40c)][_0x155d05(0x23a)][_0x155d05(0x63f)]({'where':{'_id':_0x2cd504[_0x155d05(0x4eb)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x155d05(0x67e)]),J(this[_0x155d05(0x52c)],'chats',{'chat':_0x2cd504}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x2cd504[_0x155d05(0x4c9)]===_0x155d05(0x248))return await this[_0x155d05(0x40c)][_0x155d05(0x5fc)][_0x155d05(0x4c9)]({'where':{'key':{'remoteJid':_0x2cd504['_id']}}},this[_0x155d05(0x63a)][_0x155d05(0x67e)]),_0x2cd504=await this['repository']['chat']['updateOne']({'where':{'_id':_0x2cd504['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x155d05(0x63a)][_0x155d05(0x67e)]),J(this['instanceName'],_0x155d05(0x471),{'chat':_0x2cd504}),{'message':_0x155d05(0x6df)};let _0x52ba55=(_0x3ccb5e,_0x13a9f7,_0x35b902)=>{const _0x3a5a85=_0x155d05;_0x3ccb5e&&_0x35b902[_0x3a5a85(0x394)](_0x18e0d8=>{_0x3ccb5e[_0x18e0d8]!==void 0x0&&(_0x13a9f7['leadInfo.'+_0x18e0d8]=_0x3ccb5e[_0x18e0d8]);});},_0x18994d={};if(_0x155d05(0x32b)in _0x2cd504&&(this[_0x155d05(0x2f0)][_0x155d05(0x444)]('Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x2cd504[_0x155d05(0x4eb)]),_0x2cd504[_0x155d05(0x32b)]=_0x2cd504[_0x155d05(0x32b)]===0x0?null:-0x1,await this[_0x155d05(0x63b)][_0x155d05(0x379)]({'mute':_0x2cd504[_0x155d05(0x32b)]},_0x2cd504['_id']),_0x18994d[_0x155d05(0x32b)]=Number(_0x2cd504['muteEndTime'])),_0x15a6fb&&(_0x52ba55(_0x15a6fb,_0x18994d,[_0x155d05(0x784),'nomecompleto','email',_0x155d05(0x789),_0x155d05(0x489),'notas','tags','atendimentoAberto','responsavelid','etiquetas']),Array[_0x155d05(0x577)](_0x15a6fb[_0x155d05(0x312)])&&(_0x18994d[_0x155d05(0x503)]=_0x15a6fb[_0x155d05(0x312)]['map'](_0x42684e=>({'_id':_0x42684e[_0x155d05(0x4eb)],'value':_0x42684e['value']}))),_0x2cd504['leadInfo'][_0x155d05(0x590)]!==void 0x0)){let _0x1fc5d2=await this[_0x155d05(0x40c)][_0x155d05(0x2c9)]['find']({'where':{}},this['instance'][_0x155d05(0x67e)]),_0x12fa0e=new Set(_0x2cd504['leadInfo'][_0x155d05(0x590)]||[]),_0x479ee4=new Set(_0x2cd504['leadInfo']['etiquetas']),_0x5db627=new Set(_0x1fc5d2[_0x155d05(0x2de)](_0x3b5edb=>_0x3b5edb[_0x155d05(0x4eb)])),_0x3a170e=[..._0x479ee4][_0x155d05(0x589)](_0x317eea=>!_0x12fa0e['has'](_0x317eea)&&_0x5db627['has'](_0x317eea)),_0x4bfad1=[..._0x12fa0e][_0x155d05(0x589)](_0x44a3d1=>!_0x479ee4[_0x155d05(0x70f)](_0x44a3d1));if(_0x18994d['leadInfo.etiquetas']=[..._0x12fa0e],_0x526e77&&!_0x526e77[_0x155d05(0x554)]){for(let _0x385b6f of _0x3a170e)await this[_0x155d05(0x62a)](_0x385b6f,_0x2cd504[_0x155d05(0x4eb)]),_0x12fa0e[_0x155d05(0x2cb)](_0x385b6f);for(let _0x137f7d of _0x4bfad1)await this[_0x155d05(0x6a6)](_0x137f7d,_0x2cd504[_0x155d05(0x4eb)]),_0x12fa0e[_0x155d05(0x4c9)](_0x137f7d);}}if(_0x2cd504['unreadcount']!==void 0x0&&(_0x18994d['unreadcount']=Number(_0x2cd504[_0x155d05(0x77e)])),Object['keys'](_0x18994d)['length']===0x0)throw new Error(_0x155d05(0x146));let _0x2fc543=await this[_0x155d05(0x40c)][_0x155d05(0x23a)][_0x155d05(0x63f)]({'where':{'_id':_0x2cd504[_0x155d05(0x4eb)]}},_0x18994d,this['instance'][_0x155d05(0x67e)]);return _0x2fc543&&J(this[_0x155d05(0x52c)],_0x155d05(0x471),{'chat':_0x2fc543}),_0x2fc543?(this['logger'][_0x155d05(0x444)](this[_0x155d05(0x52c)]+'\x20('+this[_0x155d05(0x63a)]['wuid']+'):\x20'+JSON[_0x155d05(0x61a)](_0x2fc543,null,0x2)),_0x2fc543):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x5c9050){let _0xc1deb6=_0x155d05(0x4b8),_0x24602b=_0x5c9050 instanceof Error?_0x5c9050['message']:typeof _0x5c9050==_0x155d05(0x696)?JSON['stringify'](_0x5c9050):_0x5c9050,_0x55b74a=_0xc1deb6+':\x20'+_0x24602b;throw this[_0x155d05(0x2f0)][_0x155d05(0x73d)](this[_0x155d05(0x52c)]+'\x20('+this['instance'][_0x155d05(0x67e)]+_0x155d05(0x8c)+_0x55b74a),new m(_0x55b74a);}}async[a0_0x5d3ab0(0x62a)](_0x4d1598,_0x69c0ab){const _0x3fc3c9=a0_0x5d3ab0;try{await this[_0x3fc3c9(0x63b)][_0x3fc3c9(0x2b9)](_0x69c0ab,_0x4d1598),this[_0x3fc3c9(0x2f0)][_0x3fc3c9(0x403)](this[_0x3fc3c9(0x52c)]+'\x20('+this[_0x3fc3c9(0x63a)][_0x3fc3c9(0x67e)]+_0x3fc3c9(0x18e)+_0x4d1598+_0x3fc3c9(0x258)+_0x69c0ab+'\x20com\x20sucesso.');}catch(_0x7a6b49){console[_0x3fc3c9(0x73d)](_0x3fc3c9(0x21a)+_0x4d1598+_0x3fc3c9(0x668)+_0x69c0ab+':',_0x7a6b49);}}async[a0_0x5d3ab0(0x6a6)](_0xb40765,_0x4dfd4b){const _0x229c69=a0_0x5d3ab0;try{await this[_0x229c69(0x63b)][_0x229c69(0x2c1)](_0x4dfd4b,_0xb40765),this[_0x229c69(0x2f0)][_0x229c69(0x403)](this[_0x229c69(0x52c)]+'\x20('+this[_0x229c69(0x63a)][_0x229c69(0x67e)]+'):\x20Label\x20'+_0xb40765+_0x229c69(0x27b)+_0x4dfd4b+_0x229c69(0x16d));}catch(_0x535dbc){console['error']('Erro\x20ao\x20remover\x20label\x20'+_0xb40765+'\x20do\x20chat\x20'+_0x4dfd4b+':',_0x535dbc);}}async[a0_0x5d3ab0(0x2f9)](_0x21b7c4){const _0xa6a79b=a0_0x5d3ab0;try{let _0x2594d6=await this[_0xa6a79b(0x40c)]['automateSystem'][_0xa6a79b(0x219)](this[_0xa6a79b(0x63a)][_0xa6a79b(0x67e)]),_0x342f01=_0x21b7c4['_id']?_0x2594d6['agents'][_0xa6a79b(0x641)](_0x17ac3c=>_0x17ac3c[_0xa6a79b(0x4eb)]===_0x21b7c4[_0xa6a79b(0x4eb)]):-0x1;if(_0x21b7c4[_0xa6a79b(0x4c9)]&&_0x342f01>-0x1)_0x2594d6['agents']['splice'](_0x342f01,0x1);else{if(_0x342f01>-0x1){let _0x13a1cd=_0x2594d6[_0xa6a79b(0x24e)][_0x342f01];_0x21b7c4['fone']&&(_0x13a1cd[_0xa6a79b(0x271)]=_0x21b7c4[_0xa6a79b(0x271)]),_0x21b7c4[_0xa6a79b(0x26b)]&&(_0x13a1cd[_0xa6a79b(0x26b)]=_0x21b7c4[_0xa6a79b(0x26b)]),_0x21b7c4[_0xa6a79b(0x142)]&&(_0x13a1cd['email']=_0x21b7c4[_0xa6a79b(0x142)]),_0x21b7c4['role']&&(_0x13a1cd[_0xa6a79b(0x675)]=_0x21b7c4[_0xa6a79b(0x675)]);}else _0x2594d6[_0xa6a79b(0x24e)][_0xa6a79b(0x6a7)]({'_id':_0x21b7c4['_id']||new ie[(_0xa6a79b(0x4de))][(_0xa6a79b(0xa3))][(_0xa6a79b(0x2b3))]()[_0xa6a79b(0x651)](),'fone':_0x21b7c4['fone'],'name':_0x21b7c4[_0xa6a79b(0x26b)],'email':_0x21b7c4['email'],'role':_0x21b7c4['role']});}let _0x1b09de={'agents':_0x2594d6[_0xa6a79b(0x24e)]},_0x2065b3=await this[_0xa6a79b(0x40c)][_0xa6a79b(0x67f)][_0xa6a79b(0x2bc)](_0x1b09de,this[_0xa6a79b(0x63a)][_0xa6a79b(0x67e)]);return this[_0xa6a79b(0x3f8)]=_0x2065b3,this[_0xa6a79b(0x2f0)]['verbose'](this[_0xa6a79b(0x52c)]+'\x20('+this[_0xa6a79b(0x63a)][_0xa6a79b(0x67e)]+_0xa6a79b(0x3f4)),this[_0xa6a79b(0x2f0)][_0xa6a79b(0x444)](this['instanceName']+'\x20('+this['instance'][_0xa6a79b(0x67e)]+_0xa6a79b(0x8c)+this[_0xa6a79b(0x3f8)]),_0x2065b3;}catch(_0xd601a3){let _0x497009='Erro\x20ao\x20editar\x20agentes',_0x3eee63=_0xd601a3 instanceof Error?_0xd601a3['message']:typeof _0xd601a3==_0xa6a79b(0x696)?JSON[_0xa6a79b(0x61a)](_0xd601a3):_0xd601a3,_0x1488d4=_0x497009+':\x20'+_0x3eee63;throw this[_0xa6a79b(0x2f0)][_0xa6a79b(0x73d)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x1488d4),new m(_0x1488d4);}}async[a0_0x5d3ab0(0x33c)](_0x5bc98d){const _0xace79c=a0_0x5d3ab0;try{let _0x1c376f=await this[_0xace79c(0x40c)][_0xace79c(0x67f)]['findOrCreate'](this[_0xace79c(0x63a)]['wuid']),_0x480016=_0x5bc98d[_0xace79c(0x4eb)]?_0x1c376f[_0xace79c(0x312)][_0xace79c(0x641)](_0x5a5bf6=>_0x5a5bf6['_id']===_0x5bc98d[_0xace79c(0x4eb)]):-0x1,_0x2a340f=!0x1,_0x4f1932=_0x1c376f[_0xace79c(0x312)][_0xace79c(0x3a4)](_0x4e400f=>_0x4e400f['order']===_0x5bc98d['order']);if(_0x5bc98d[_0xace79c(0x4c9)]&&_0x480016>-0x1)_0x1c376f[_0xace79c(0x312)][_0xace79c(0x5c8)](_0x480016,0x1),_0x2a340f=!0x0;else{if(_0x480016>-0x1){if(_0x1c376f[_0xace79c(0x312)][_0xace79c(0x3a4)](_0x239bbe=>_0x239bbe['name']===_0x5bc98d['name']&&_0x239bbe['_id']!==_0x5bc98d['_id']))throw new Error(_0xace79c(0x647));let _0x1a5de1=_0x1c376f[_0xace79c(0x312)][_0x480016];_0x5bc98d[_0xace79c(0x628)]&&(_0x4f1932||!Number[_0xace79c(0x62d)](_0x5bc98d['order']))&&(_0x1a5de1['order']=_0x5bc98d[_0xace79c(0x628)],_0x2a340f=!0x0),_0x5bc98d[_0xace79c(0x26b)]&&(_0x1a5de1[_0xace79c(0x26b)]=_0x5bc98d[_0xace79c(0x26b)]);}else{if(_0x1c376f[_0xace79c(0x312)][_0xace79c(0x3a4)](_0x4fa1ba=>_0x4fa1ba[_0xace79c(0x26b)]===_0x5bc98d[_0xace79c(0x26b)]&&_0x4fa1ba[_0xace79c(0x4eb)]!==_0x5bc98d[_0xace79c(0x4eb)]))throw new Error(_0xace79c(0x647));_0x1c376f[_0xace79c(0x312)]['push']({'_id':_0x5bc98d[_0xace79c(0x4eb)]||new ie['default']['Types'][(_0xace79c(0x2b3))]()[_0xace79c(0x651)](),'order':_0x5bc98d['order'],'name':_0x5bc98d[_0xace79c(0x26b)]}),_0x2a340f=!0x0;}}if(_0x2a340f){_0x1c376f[_0xace79c(0x312)][_0xace79c(0x6d6)]((_0xc7f45f,_0x326895)=>_0xc7f45f['order']>_0x326895[_0xace79c(0x628)]?0x1:_0x326895[_0xace79c(0x628)]>_0xc7f45f[_0xace79c(0x628)]?-0x1:0x0);for(let _0x3cd824=0x0;_0x3cd824<_0x1c376f['customFields']['length'];_0x3cd824++)_0x1c376f[_0xace79c(0x312)][_0x3cd824][_0xace79c(0x628)]=_0x3cd824+0x1;}let _0x369d14=await this[_0xace79c(0x40c)][_0xace79c(0x67f)]['update'](_0x1c376f,this[_0xace79c(0x63a)][_0xace79c(0x67e)]);return this[_0xace79c(0x3f8)]=_0x369d14,this[_0xace79c(0x2f0)][_0xace79c(0x444)](this[_0xace79c(0x52c)]+'\x20('+this[_0xace79c(0x63a)][_0xace79c(0x67e)]+_0xace79c(0x67b)),this[_0xace79c(0x2f0)][_0xace79c(0x444)](this[_0xace79c(0x52c)]+'\x20('+this[_0xace79c(0x63a)][_0xace79c(0x67e)]+_0xace79c(0x8c)+this['AutomateSystem']),_0x369d14;}catch(_0x5bfb48){let _0x246a0c=_0xace79c(0x11d),_0x20f684=_0x5bfb48 instanceof Error?_0x5bfb48[_0xace79c(0x5fc)]:typeof _0x5bfb48=='object'?JSON[_0xace79c(0x61a)](_0x5bfb48):_0x5bfb48,_0x179aeb=_0x246a0c+':\x20'+_0x20f684;throw this['logger']['error'](this[_0xace79c(0x52c)]+'\x20('+this[_0xace79c(0x63a)]['wuid']+_0xace79c(0x8c)+_0x179aeb),new m(_0x179aeb);}}async[a0_0x5d3ab0(0x594)](_0x2afe23){const _0x40bc74=a0_0x5d3ab0;try{let _0x1ce808=await this[_0x40bc74(0x40c)][_0x40bc74(0x67f)][_0x40bc74(0x219)](this[_0x40bc74(0x63a)][_0x40bc74(0x67e)]),_0x34434a=_0x1ce808?.[_0x40bc74(0x5de)]?.[_0x40bc74(0x641)](_0x40126a=>_0x40126a[_0x40bc74(0x4eb)]===_0x2afe23?.['_id']);if(_0x2afe23?.[_0x40bc74(0x4c9)])_0x34434a>-0x1&&_0x1ce808?.[_0x40bc74(0x5de)]?.['splice'](_0x34434a,0x1);else{if(_0x34434a>-0x1){let _0x10d217=_0x1ce808[_0x40bc74(0x5de)][_0x34434a];_0x10d217[_0x40bc74(0x628)]=_0x2afe23?.[_0x40bc74(0x628)]||_0x10d217['order'],_0x10d217[_0x40bc74(0x90)]=_0x2afe23?.[_0x40bc74(0x90)]||_0x10d217[_0x40bc74(0x90)],_0x10d217[_0x40bc74(0x5fc)]=_0x2afe23?.[_0x40bc74(0x5fc)]||_0x10d217[_0x40bc74(0x5fc)];}else{let _0x44fc39={'_id':_0x2afe23?.[_0x40bc74(0x4eb)]||new ie[(_0x40bc74(0x4de))][(_0x40bc74(0xa3))][(_0x40bc74(0x2b3))]()['toString'](),'order':_0x2afe23?.[_0x40bc74(0x628)],'command':_0x2afe23?.[_0x40bc74(0x90)],'message':_0x2afe23?.['message']};_0x1ce808?.[_0x40bc74(0x5de)]?.[_0x40bc74(0x6a7)](_0x44fc39);}}_0x1ce808?.[_0x40bc74(0x5de)]?.['sort']((_0x25438b,_0x1a97f3)=>_0x25438b[_0x40bc74(0x628)]-_0x1a97f3[_0x40bc74(0x628)]);let _0x2cfefc=await this[_0x40bc74(0x40c)]['automateSystem']['update'](_0x1ce808,this[_0x40bc74(0x63a)][_0x40bc74(0x67e)]);return this['AutomateSystem']=_0x2cfefc,this[_0x40bc74(0x2f0)]['verbose'](this[_0x40bc74(0x52c)]+'\x20('+this[_0x40bc74(0x63a)][_0x40bc74(0x67e)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x2cfefc;}catch(_0x45ddce){let _0x31f310=_0x40bc74(0xbf),_0x111313=_0x45ddce instanceof Error?_0x45ddce[_0x40bc74(0x5fc)]:typeof _0x45ddce=='object'?JSON[_0x40bc74(0x61a)](_0x45ddce):_0x45ddce,_0x4dfd64=_0x31f310+':\x20'+_0x111313;throw this[_0x40bc74(0x2f0)][_0x40bc74(0x73d)](this[_0x40bc74(0x52c)]+'\x20('+this[_0x40bc74(0x63a)]['wuid']+_0x40bc74(0x8c)+_0x4dfd64),new m(_0x4dfd64);}}async[a0_0x5d3ab0(0x2d9)](_0x2c68b1){const _0x3fca0c=a0_0x5d3ab0;try{let _0xa2c19c=await this[_0x3fca0c(0x40c)][_0x3fca0c(0x67f)]['findOrCreate'](this['instance'][_0x3fca0c(0x67e)]);if(!_0xa2c19c)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x3dc4fa={'_id':_0xa2c19c[_0x3fca0c(0x4eb)],'flowConfig':{'enabled':_0x2c68b1[_0x3fca0c(0x113)]??_0xa2c19c[_0x3fca0c(0x18b)]['enabled'],'ignoreGroups':_0x2c68b1['ignoreGroups']??_0xa2c19c[_0x3fca0c(0x18b)]['ignoreGroups'],'prefixCommand':_0x2c68b1[_0x3fca0c(0x58b)]??_0xa2c19c[_0x3fca0c(0x18b)][_0x3fca0c(0x58b)],'stopConversation':_0x2c68b1[_0x3fca0c(0x769)]??_0xa2c19c[_0x3fca0c(0x18b)][_0x3fca0c(0x769)],'stopMinutes':_0x2c68b1[_0x3fca0c(0x348)]??_0xa2c19c[_0x3fca0c(0x18b)]['stopMinutes'],'stopWhenYouSendMsg':_0x2c68b1['stopWhenYouSendMsg']??_0xa2c19c[_0x3fca0c(0x18b)][_0x3fca0c(0x18d)]}},_0x47d451=await this[_0x3fca0c(0x40c)]['automateSystem'][_0x3fca0c(0x2bc)](_0x3dc4fa,this[_0x3fca0c(0x63a)][_0x3fca0c(0x67e)]);return this[_0x3fca0c(0x3f8)]=_0x47d451,this[_0x3fca0c(0x2f0)][_0x3fca0c(0x444)](this['instanceName']+'\x20('+this[_0x3fca0c(0x63a)][_0x3fca0c(0x67e)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x3fca0c(0x2f0)][_0x3fca0c(0x444)](this[_0x3fca0c(0x52c)]+'\x20('+this[_0x3fca0c(0x63a)][_0x3fca0c(0x67e)]+_0x3fca0c(0x8c)+this[_0x3fca0c(0x3f8)]),setTimeout(()=>this[_0x3fca0c(0x726)](),0x7d0),_0x47d451;}catch(_0x1a0732){let _0x25ff69=_0x3fca0c(0x416),_0x10f0df=_0x1a0732 instanceof Error?_0x1a0732[_0x3fca0c(0x5fc)]:typeof _0x1a0732==_0x3fca0c(0x696)?JSON['stringify'](_0x1a0732):_0x1a0732,_0x4491ae=_0x25ff69+':\x20'+_0x10f0df;throw this[_0x3fca0c(0x2f0)][_0x3fca0c(0x73d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3fca0c(0x8c)+_0x4491ae),new m(_0x4491ae);}}async[a0_0x5d3ab0(0x350)](){const _0x2c9950=a0_0x5d3ab0;try{let _0x276b3f=await this[_0x2c9950(0x40c)][_0x2c9950(0x67f)][_0x2c9950(0x219)](this[_0x2c9950(0x63a)][_0x2c9950(0x67e)]);return this['AutomateSystem']=_0x276b3f,this['logger']['verbose'](this[_0x2c9950(0x52c)]+'\x20('+this[_0x2c9950(0x63a)]['wuid']+_0x2c9950(0x5ff)),this[_0x2c9950(0x2f0)][_0x2c9950(0x444)](this['AutomateSystem']),_0x276b3f;}catch(_0x243320){let _0x4ae83a=_0x2c9950(0x3a9),_0xa582ef=_0x243320 instanceof Error?_0x243320[_0x2c9950(0x5fc)]:typeof _0x243320=='object'?JSON[_0x2c9950(0x61a)](_0x243320):_0x243320,_0x48f31f=_0x4ae83a+':\x20'+_0xa582ef;throw this[_0x2c9950(0x2f0)][_0x2c9950(0x73d)](this[_0x2c9950(0x52c)]+'\x20('+this[_0x2c9950(0x63a)]['wuid']+'):\x20'+_0x48f31f),new m(_0x48f31f);}}async['setRestartTimeout'](){const _0x52a9cf=a0_0x5d3ab0;this['instance']['ScheduleMessage'][_0x52a9cf(0x9e)]&&clearTimeout(this[_0x52a9cf(0x63a)]['ScheduleMessage']['timeout']),this['instance'][_0x52a9cf(0x268)]['timeout']=setTimeout(()=>{const _0x5d3d43=_0x52a9cf;this[_0x5d3d43(0x6e4)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x5d3ab0(0x6e4)](){const _0x373ba9=a0_0x5d3ab0;Date['now']()-this[_0x373ba9(0x63a)][_0x373ba9(0x268)][_0x373ba9(0x1c8)]>=0x1d4c0&&(this[_0x373ba9(0x2f0)][_0x373ba9(0x444)](this[_0x373ba9(0x52c)]+'\x20('+this[_0x373ba9(0x63a)][_0x373ba9(0x67e)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x373ba9(0x63a)][_0x373ba9(0x268)][_0x373ba9(0x671)]=null,this[_0x373ba9(0x63a)][_0x373ba9(0x268)]['lastSend']=0x0,this[_0x373ba9(0x63a)][_0x373ba9(0x268)][_0x373ba9(0x1b5)]=0x0,await this['scheduleNextCheck']());}async[a0_0x5d3ab0(0x726)](){const _0x4df75f=a0_0x5d3ab0;let _0x18aa08=()=>{const _0x5842b0=a0_0xf130;this[_0x5842b0(0x2f0)][_0x5842b0(0x444)](this[_0x5842b0(0x52c)]+'\x20('+this[_0x5842b0(0x63a)][_0x5842b0(0x67e)]+_0x5842b0(0x3ca)+this[_0x5842b0(0x63a)]['ScheduleMessage'][_0x5842b0(0x671)]+'\x20saindo\x20da\x20função');},_0x1a62a4=async()=>{const _0x182ff5=a0_0xf130;this['logger']['verbose'](this[_0x182ff5(0x52c)]+'\x20('+this[_0x182ff5(0x63a)]['wuid']+_0x182ff5(0x609));let _0x12c9aa=Date[_0x182ff5(0x10f)]()-0xc*0x3c*0x3c*0x3e8,_0x23fd65={'where':{'status':{'$in':[_0x182ff5(0x535),_0x182ff5(0x607)]},'$or':[{'when':{'$lte':Date[_0x182ff5(0x10f)](),'$gte':_0x12c9aa}},{'when':0x0}]}};return await this[_0x182ff5(0x40c)][_0x182ff5(0x6e8)][_0x182ff5(0x299)](_0x23fd65,this[_0x182ff5(0x63a)][_0x182ff5(0x67e)]);},_0x561fcc=async _0x4ba232=>{const _0x173d25=a0_0xf130;for(let _0x52e90b of _0x4ba232){let _0x49540b={'_id':_0x52e90b['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x173d25(0x10f)]()-0x1770}}]},_0x25eaee={'startSend':Date['now']()};if(!await this[_0x173d25(0x40c)]['scheduleMessage']['updateOne'](_0x49540b,_0x25eaee,this[_0x173d25(0x63a)]['wuid']))return;if(!this['instance'][_0x173d25(0x268)][_0x173d25(0x1c2)]){this[_0x173d25(0x2f0)][_0x173d25(0x444)](this[_0x173d25(0x52c)]+'\x20('+this['instance'][_0x173d25(0x67e)]+_0x173d25(0x58e));break;}if(_0x52e90b['type']===_0x173d25(0x475)&&!this['AutomateSystem']?.[_0x173d25(0x18b)][_0x173d25(0x113)]){this[_0x173d25(0x2f0)][_0x173d25(0x73d)](this[_0x173d25(0x52c)]+'\x20('+this['instance'][_0x173d25(0x67e)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x52e90b['remoteJidsRemaining']||_0x52e90b['remoteJidsRemaining']['length']===0x0)&&(_0x52e90b=await this['repository'][_0x173d25(0x6e8)][_0x173d25(0x5c7)](_0x52e90b[_0x173d25(0x4eb)],{'status':'sending','remoteJidsRemaining':[..._0x52e90b['remoteJids']]},this[_0x173d25(0x63a)][_0x173d25(0x67e)]));for(let _0x46a523 of _0x52e90b[_0x173d25(0x1bc)]){if(await this[_0x173d25(0x286)](),this[_0x173d25(0x63a)][_0x173d25(0x268)][_0x173d25(0x1c8)]=Date[_0x173d25(0x10f)](),this[_0x173d25(0x63a)][_0x173d25(0x268)][_0x173d25(0x43e)]===_0x46a523){this[_0x173d25(0x2f0)][_0x173d25(0x73d)](this[_0x173d25(0x52c)]+'\x20('+this[_0x173d25(0x63a)][_0x173d25(0x67e)]+_0x173d25(0x11a)+_0x46a523+_0x173d25(0x632));let _0x48bd8c={'$push':{'messagesSend':{'remoteJid':_0x46a523,'error':!0x0,'id':null,'error_log':_0x173d25(0x62c),'log_timestamp':Date[_0x173d25(0x10f)]()}},'$pull':{'remoteJidsRemaining':_0x46a523}};await this[_0x173d25(0x40c)][_0x173d25(0x6e8)][_0x173d25(0x5c7)](_0x52e90b[_0x173d25(0x4eb)],_0x48bd8c,this[_0x173d25(0x63a)]['wuid']);continue;}if(this[_0x173d25(0x63a)]['ScheduleMessage'][_0x173d25(0x43e)]=_0x46a523,_0x52e90b['messagesSend'][_0x173d25(0x3a4)](_0x584a15=>_0x584a15['remoteJid']===_0x46a523)){this[_0x173d25(0x2f0)][_0x173d25(0x444)](this[_0x173d25(0x52c)]+'\x20('+this[_0x173d25(0x63a)][_0x173d25(0x67e)]+_0x173d25(0x64e)+_0x46a523+'.\x20Pulando.');continue;}if(!this[_0x173d25(0x63a)]['ScheduleMessage'][_0x173d25(0x1c2)]){this[_0x173d25(0x2f0)]['verbose'](this['instanceName']+'\x20('+this[_0x173d25(0x63a)][_0x173d25(0x67e)]+_0x173d25(0x66b));break;}if(!this[_0x173d25(0x63a)][_0x173d25(0x268)][_0x173d25(0x671)]){this['logger']['verbose'](this[_0x173d25(0x52c)]+'\x20('+this[_0x173d25(0x63a)][_0x173d25(0x67e)]+_0x173d25(0x50e)+_0x52e90b['_id']+_0x173d25(0x249));break;}if(_0x52e90b[_0x173d25(0xcc)]===_0x173d25(0x475)&&!this[_0x173d25(0x3f8)]?.[_0x173d25(0x18b)]['enabled']){this[_0x173d25(0x2f0)][_0x173d25(0x73d)](this[_0x173d25(0x52c)]+'\x20('+this[_0x173d25(0x63a)][_0x173d25(0x67e)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x57e5a1={'remoteJid':_0x46a523,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x173d25(0x10f)]()},_0x3327b5=null;try{let _0x3f03e1=await this['SendScheduleMessage'](_0x46a523,_0x52e90b);_0x57e5a1[_0x173d25(0x73d)]=_0x3f03e1[_0x173d25(0x73d)],_0x57e5a1['id']=_0x3f03e1[_0x173d25(0x73d)]?null:_0x3f03e1['id'],_0x57e5a1['error_log']=_0x3f03e1['error']?_0x3f03e1[_0x173d25(0x5d4)]?_0x3f03e1[_0x173d25(0x5d4)][_0x173d25(0x651)]():'':null;let _0x55b5b0={'$push':{'messagesSend':_0x57e5a1},'$pull':{'remoteJidsRemaining':_0x46a523}},_0x334a50=_0x52e90b[_0x173d25(0x4eb)];if(_0x3327b5=await this['repository'][_0x173d25(0x6e8)][_0x173d25(0x5c7)](_0x334a50,_0x55b5b0,this[_0x173d25(0x63a)][_0x173d25(0x67e)]),_0x3f03e1[_0x173d25(0x73d)])continue;let _0x5daed1=this[_0x173d25(0x764)](_0x52e90b[_0x173d25(0x60e)],_0x52e90b['delaySecMax']);await this['sleep'](_0x5daed1);}catch(_0xae0819){this[_0x173d25(0x2f0)][_0x173d25(0x73d)](this['instanceName']+'\x20('+this['instance'][_0x173d25(0x67e)]+_0x173d25(0x6bd)+_0x46a523+':\x20'+(_0xae0819 instanceof Error?_0xae0819[_0x173d25(0x5fc)]:JSON[_0x173d25(0x61a)](_0xae0819,null,0x2))),_0x57e5a1[_0x173d25(0x73d)]=!0x0,_0x57e5a1[_0x173d25(0x559)]=_0xae0819[_0x173d25(0x5fc)];let _0x56e5e1={'$push':{'messagesSend':_0x57e5a1},'$pull':{'remoteJidsRemaining':_0x46a523}},_0x5914ec=_0x52e90b[_0x173d25(0x4eb)];_0x3327b5=await this[_0x173d25(0x40c)][_0x173d25(0x6e8)]['updateOneById'](_0x5914ec,_0x56e5e1,this[_0x173d25(0x63a)]['wuid']);}finally{if(_0x3327b5&&_0x3327b5['status']===_0x173d25(0x680)){this[_0x173d25(0x2f0)][_0x173d25(0x444)](this[_0x173d25(0x52c)]+'\x20('+this[_0x173d25(0x63a)][_0x173d25(0x67e)]+_0x173d25(0x50e)+_0x52e90b['_id']+_0x173d25(0x19d));break;}}}let _0x5c47c3=await this[_0x173d25(0x40c)][_0x173d25(0x6e8)]['findById'](_0x52e90b[_0x173d25(0x4eb)],this[_0x173d25(0x63a)][_0x173d25(0x67e)]);if(_0x5c47c3[_0x173d25(0x1bc)][_0x173d25(0x6d9)]===0x0&&_0x5c47c3[_0x173d25(0x489)]!==_0x173d25(0x680)){this[_0x173d25(0x63a)]['ScheduleMessage'][_0x173d25(0x43e)]=null;let _0x452fc4={'$set':{'status':_0x173d25(0x1f2)}},_0x51de17=_0x5c47c3[_0x173d25(0x4eb)];await this[_0x173d25(0x40c)]['scheduleMessage']['updateOneById'](_0x51de17,_0x452fc4,this[_0x173d25(0x63a)]['wuid']);}await new Promise(_0x14617c=>setTimeout(_0x14617c,0x1388));}},_0x339d51=async()=>{const _0x534fa1=a0_0xf130;let _0x33d3f9={'where':{'status':_0x534fa1(0x535),'when':{'$gt':Date[_0x534fa1(0x10f)]()}}},_0x3ec564=await this[_0x534fa1(0x40c)][_0x534fa1(0x6e8)][_0x534fa1(0x639)](_0x33d3f9,this['instance'][_0x534fa1(0x67e)]);_0x3ec564&&_0x3ec564[_0x534fa1(0xa8)]-Date[_0x534fa1(0x10f)]()<=0x5265c00?this[_0x534fa1(0x63a)][_0x534fa1(0x268)]['delayMessage']=_0x3ec564['when']-Date[_0x534fa1(0x10f)]():this['instance']['ScheduleMessage'][_0x534fa1(0x1b5)]=(0x3c+Math[_0x534fa1(0x227)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x534fa1(0x63a)]['ScheduleMessage'][_0x534fa1(0x1b5)]=Math['max'](this['instance'][_0x534fa1(0x268)][_0x534fa1(0x1b5)],0x7d0);let _0x42df23=Math[_0x534fa1(0x14c)](this[_0x534fa1(0x63a)][_0x534fa1(0x268)][_0x534fa1(0x1b5)]/0xea60);if(_0x3ec564){let _0x411a5e=new Date(_0x3ec564[_0x534fa1(0xa8)])[_0x534fa1(0x67a)]();this['logger'][_0x534fa1(0x444)](this[_0x534fa1(0x52c)]+'\x20('+this[_0x534fa1(0x63a)][_0x534fa1(0x67e)]+_0x534fa1(0xd5)+_0x411a5e+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x42df23+_0x534fa1(0x6cc));}else this[_0x534fa1(0x2f0)]['verbose'](this[_0x534fa1(0x52c)]+'\x20('+this[_0x534fa1(0x63a)][_0x534fa1(0x67e)]+_0x534fa1(0x6ee)+_0x42df23+_0x534fa1(0x6cc));setTimeout(()=>this[_0x534fa1(0x726)](),this[_0x534fa1(0x63a)][_0x534fa1(0x268)][_0x534fa1(0x1b5)]);};if(this[_0x4df75f(0x63a)][_0x4df75f(0x268)][_0x4df75f(0x671)]){await this[_0x4df75f(0x286)](),_0x18aa08();return;}if(!this['instance'][_0x4df75f(0x268)][_0x4df75f(0x1c2)]){this[_0x4df75f(0x2f0)]['verbose'](this['instanceName']+'\x20('+this[_0x4df75f(0x63a)]['wuid']+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x4df75f(0x63a)][_0x4df75f(0x268)]['processing_id']=null,this['instance'][_0x4df75f(0x268)]['lastSend']=0x0,this[_0x4df75f(0x63a)][_0x4df75f(0x268)][_0x4df75f(0x1b5)]=0x0,this[_0x4df75f(0x63a)][_0x4df75f(0x268)]['ultimaTentativaRemoteJid']=null;return;}try{let _0x4133ad=await _0x1a62a4();_0x4133ad[_0x4df75f(0x6d9)]===0x0?this[_0x4df75f(0x2f0)][_0x4df75f(0x444)](this[_0x4df75f(0x52c)]+'\x20('+this[_0x4df75f(0x63a)][_0x4df75f(0x67e)]+_0x4df75f(0x5fd)):(this[_0x4df75f(0x63a)][_0x4df75f(0x268)]['processing_id']=_0x4133ad[0x0][_0x4df75f(0x4eb)],await _0x561fcc(_0x4133ad)),await _0x339d51(),this[_0x4df75f(0x63a)][_0x4df75f(0x268)][_0x4df75f(0x671)]=null,this[_0x4df75f(0x63a)][_0x4df75f(0x268)][_0x4df75f(0x43e)]=null;}catch(_0x1196b8){this[_0x4df75f(0x2f0)]['error'](_0x4df75f(0x694)+(_0x1196b8 instanceof Error?_0x1196b8[_0x4df75f(0x5fc)]:JSON[_0x4df75f(0x61a)](_0x1196b8,null,0x2)));}}['getDelay'](_0x7d8097,_0x15997e){const _0x191cba=a0_0x5d3ab0;return _0x7d8097=Math[_0x191cba(0x1e4)](0.5,_0x7d8097),_0x15997e=Math[_0x191cba(0x4a7)](Math[_0x191cba(0x1e4)](0x3,_0x15997e),0x78),Math[_0x191cba(0x227)](Math['random']()*(_0x15997e-_0x7d8097+0x1)+_0x7d8097)*0x3e8;}[a0_0x5d3ab0(0x1a2)](_0x3236ab){return new Promise(_0x130869=>setTimeout(_0x130869,_0x3236ab));}async['getVariablesChat'](_0x342c2f){const _0x251cee=a0_0x5d3ab0;if(!this[_0x251cee(0x3f8)]&&(await this[_0x251cee(0x350)](),!this[_0x251cee(0x3f8)]))return null;_0x342c2f=this[_0x251cee(0x54b)](_0x342c2f);let _0x3b8987=await this['repository']['chat'][_0x251cee(0x639)]({'where':{'_id':_0x342c2f}},this['instance']['wuid']),_0x4cad54={};if(_0x3b8987&&_0x3b8987[_0x251cee(0x314)]){let _0x19fec7=_0x3b8987[_0x251cee(0x314)];typeof _0x19fec7['nome']==_0x251cee(0x542)&&(_0x4cad54[_0x251cee(0x784)]=_0x19fec7[_0x251cee(0x784)]),typeof _0x19fec7['nomecompleto']=='string'&&(_0x4cad54[_0x251cee(0x6e5)]=_0x19fec7[_0x251cee(0x6e5)]),typeof _0x19fec7[_0x251cee(0x142)]==_0x251cee(0x542)&&(_0x4cad54[_0x251cee(0x142)]=_0x19fec7[_0x251cee(0x142)]),typeof _0x19fec7[_0x251cee(0x789)]=='string'&&(_0x4cad54[_0x251cee(0x789)]=_0x19fec7[_0x251cee(0x789)]),typeof _0x19fec7[_0x251cee(0x489)]==_0x251cee(0x542)&&(_0x4cad54[_0x251cee(0x489)]=_0x19fec7[_0x251cee(0x489)]),typeof _0x19fec7[_0x251cee(0x103)]==_0x251cee(0x542)&&(_0x4cad54[_0x251cee(0x103)]=_0x19fec7[_0x251cee(0x103)]),typeof _0x19fec7['responsavelid']=='string'&&(_0x4cad54['responsavelid']=_0x19fec7[_0x251cee(0x53a)]),Array[_0x251cee(0x577)](_0x19fec7[_0x251cee(0x6e1)])&&(_0x4cad54['tags']=_0x19fec7[_0x251cee(0x6e1)][_0x251cee(0x438)](',\x20')),Array['isArray'](_0x19fec7[_0x251cee(0x590)])&&(_0x4cad54['etiquetas']=_0x19fec7[_0x251cee(0x590)][_0x251cee(0x438)](',\x20'));}return _0x3b8987&&_0x3b8987[_0x251cee(0x314)]&&_0x3b8987[_0x251cee(0x314)][_0x251cee(0x312)]&&_0x3b8987['leadInfo'][_0x251cee(0x312)]['forEach'](_0x474475=>{const _0x5900ce=_0x251cee;let _0x18c2fb=this['AutomateSystem']?.[_0x5900ce(0x312)][_0x5900ce(0x299)](_0x176bf6=>_0x176bf6[_0x5900ce(0x4eb)]===_0x474475[_0x5900ce(0x4eb)]);_0x18c2fb&&(_0x4cad54[_0x18c2fb[_0x5900ce(0x26b)]]=_0x474475[_0x5900ce(0x669)]);}),_0x4cad54;}async[a0_0x5d3ab0(0x61b)](_0x4bec42,_0x395abc){const _0x3c7d7e=a0_0x5d3ab0;try{let _0x4eaf76=await this[_0x3c7d7e(0x1f4)](_0x395abc);return this[_0x3c7d7e(0x36c)](_0x4bec42,_0x4eaf76);}catch(_0x262380){return this[_0x3c7d7e(0x2f0)][_0x3c7d7e(0x73d)](_0x3c7d7e(0x410)+_0x395abc+':\x20'+_0x262380),_0x4bec42;}}async[a0_0x5d3ab0(0x48d)](_0x16f15a){const _0x522915=a0_0x5d3ab0;try{if(this[_0x522915(0x2f0)][_0x522915(0x444)](this[_0x522915(0x52c)]+'\x20('+this[_0x522915(0x63a)][_0x522915(0x67e)]+_0x522915(0x25f)),_0x16f15a[_0x522915(0x4c9)]&&_0x16f15a['_id']){if(this[_0x522915(0x63a)]['ScheduleMessage']['processing_id']===_0x16f15a[_0x522915(0x4eb)]['toString']())throw new Error(_0x522915(0x1a6));let _0x5c9825=await this[_0x522915(0x40c)]['scheduleMessage'][_0x522915(0xda)](_0x16f15a['_id'],this['instance'][_0x522915(0x67e)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x5c9825;}let _0x20028a;if(_0x16f15a[_0x522915(0x4eb)]&&(_0x20028a=await this[_0x522915(0x40c)]['scheduleMessage'][_0x522915(0x32d)](_0x16f15a[_0x522915(0x4eb)],this[_0x522915(0x63a)][_0x522915(0x67e)])),_0x20028a){let _0x348f61;if(this[_0x522915(0x63a)]['ScheduleMessage']['processing_id']===_0x20028a[_0x522915(0x4eb)][_0x522915(0x651)]())_0x348f61={'$set':{'status':_0x16f15a[_0x522915(0x489)]}};else{let {_id:_0x11b04e,..._0x1168f2}=_0x16f15a;_0x348f61={'$set':_0x1168f2};}let _0x101b36=await this[_0x522915(0x40c)]['scheduleMessage']['updateOneById'](_0x16f15a['_id'],_0x348f61,this[_0x522915(0x63a)][_0x522915(0x67e)]);return setTimeout(()=>this[_0x522915(0x726)](),0x7d0),_0x101b36;}else{_0x16f15a['owner']=this[_0x522915(0x63a)]['wuid'];let _0x1f4e40=await this['repository'][_0x522915(0x6e8)][_0x522915(0x55a)](_0x16f15a,this['instance'][_0x522915(0x67e)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1f4e40;}}catch(_0x52c38a){let _0x5f3ec4=_0x522915(0x3e5),_0x51b807=_0x52c38a instanceof Error?_0x52c38a[_0x522915(0x5fc)]:typeof _0x52c38a==_0x522915(0x696)?JSON[_0x522915(0x61a)](_0x52c38a):_0x52c38a,_0x7aac22=_0x5f3ec4+':\x20'+_0x51b807;throw this['logger']['error'](this[_0x522915(0x52c)]+'\x20('+this[_0x522915(0x63a)]['wuid']+_0x522915(0x8c)+_0x7aac22),new m(_0x7aac22);}}async[a0_0x5d3ab0(0x256)](){const _0x5f770a=a0_0x5d3ab0;try{return await this[_0x5f770a(0x40c)][_0x5f770a(0x6e8)][_0x5f770a(0x299)]({'where':{}},this[_0x5f770a(0x63a)]['wuid']);}catch(_0x4cddce){let _0x1801d0=_0x5f770a(0x73e),_0x140c7e=_0x4cddce instanceof Error?_0x4cddce['message']:typeof _0x4cddce==_0x5f770a(0x696)?JSON['stringify'](_0x4cddce):_0x4cddce,_0x5a1b8c=_0x1801d0+':\x20'+_0x140c7e;throw this['logger'][_0x5f770a(0x73d)](this[_0x5f770a(0x52c)]+'\x20('+this[_0x5f770a(0x63a)][_0x5f770a(0x67e)]+'):\x20'+_0x5a1b8c),new m(_0x5a1b8c);}}async[a0_0x5d3ab0(0x751)](){const _0x1d5add=a0_0x5d3ab0;try{let _0x1df3e3={'status':_0x1d5add(0x1f2)},_0x4bac56=await this[_0x1d5add(0x40c)][_0x1d5add(0x6e8)][_0x1d5add(0x13e)](_0x1df3e3,this['instance'][_0x1d5add(0x67e)]);if(!_0x4bac56[_0x1d5add(0x73d)])this['logger'][_0x1d5add(0x444)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1d5add(0x1da));else throw new Error(_0x4bac56[_0x1d5add(0x73d)][_0x1d5add(0x5fc)]||_0x1d5add(0x510));return this[_0x1d5add(0x256)]();}catch(_0x441074){let _0x435bd3='Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done',_0x378618=_0x441074 instanceof Error?_0x441074[_0x1d5add(0x5fc)]:typeof _0x441074==_0x1d5add(0x696)?JSON['stringify'](_0x441074):_0x441074,_0x2bcf4e=_0x435bd3+':\x20'+_0x378618;throw this[_0x1d5add(0x2f0)][_0x1d5add(0x73d)](this[_0x1d5add(0x52c)]+'\x20('+this[_0x1d5add(0x63a)][_0x1d5add(0x67e)]+_0x1d5add(0x8c)+_0x2bcf4e),new m(_0x2bcf4e);}}async[a0_0x5d3ab0(0x22c)](_0x1d2d93,_0x16ccdd){const _0x4febce=a0_0x5d3ab0;try{if(_0x16ccdd[_0x4febce(0xcc)]===_0x4febce(0x475)&&!this['AutomateSystem']?.[_0x4febce(0x18b)]['enabled'])return this['logger'][_0x4febce(0x73d)](this[_0x4febce(0x52c)]+'\x20('+this[_0x4febce(0x63a)]['wuid']+_0x4febce(0x39e)),{'error':!0x0,'detail':_0x4febce(0x622)};switch(_0x16ccdd[_0x4febce(0xcc)]){case _0x4febce(0x512):return await this[_0x4febce(0x5a4)](_0x16ccdd,_0x1d2d93);case'media':return await this[_0x4febce(0x382)](_0x16ccdd,_0x1d2d93);case _0x4febce(0x567):return await this[_0x4febce(0x4c4)](_0x16ccdd,_0x1d2d93);case _0x4febce(0x475):let _0x5d3ccd=new Ve();return _0x5d3ccd['name']=_0x16ccdd[_0x4febce(0x3a1)],_0x5d3ccd[_0x4febce(0x623)]=_0x1d2d93,await this[_0x4febce(0x663)](_0x5d3ccd);break;default:return this['logger'][_0x4febce(0x73d)](this[_0x4febce(0x52c)]+'\x20('+this[_0x4febce(0x63a)]['wuid']+_0x4febce(0x2ab)+_0x16ccdd[_0x4febce(0xcc)]),{'error':!0x0,'detail':_0x4febce(0x578)};}}catch(_0x55e644){return this['logger']['error'](this['instanceName']+'\x20('+this[_0x4febce(0x63a)][_0x4febce(0x67e)]+_0x4febce(0x6e9)+(_0x55e644 instanceof Error?_0x55e644[_0x4febce(0x5fc)]:JSON[_0x4febce(0x61a)](_0x55e644,null,0x2))),{'error':!0x0,'detail':_0x55e644['message']};}}[a0_0x5d3ab0(0x6c1)](_0x46c12d){const _0x318a5a=a0_0x5d3ab0;let _0x1adfdf=_0x46c12d[_0x318a5a(0x4f7)]('|'),_0x132617=Math['floor'](Math['random']()*_0x1adfdf[_0x318a5a(0x6d9)]);return _0x1adfdf[_0x132617][_0x318a5a(0x68c)]();}async[a0_0x5d3ab0(0x5a4)](_0x110f15,_0xebea2f){const _0x46ebe2=a0_0x5d3ab0;if(this['logger'][_0x46ebe2(0x444)](this[_0x46ebe2(0x52c)]+'\x20('+this[_0x46ebe2(0x63a)]['wuid']+_0x46ebe2(0xcf)),!_0x110f15['message']['text']||_0x110f15['message'][_0x46ebe2(0x512)]['length']===0x0)return{'error':!0x0,'detail':_0x46ebe2(0x14f)};let _0x336b2d=this[_0x46ebe2(0x6c1)](_0x110f15[_0x46ebe2(0x5fc)][_0x46ebe2(0x512)]),_0x30695a=await this[_0x46ebe2(0x61b)](_0x336b2d,_0xebea2f),_0x3fcd7c={'number':_0xebea2f,'options':{'delay':_0x110f15[_0x46ebe2(0x5fc)][_0x46ebe2(0x307)],'linkPreview':_0x110f15['message'][_0x46ebe2(0x50f)]},'textMessage':{'text':_0x30695a}},_0x555e50=null;try{let _0x1b7030=await this[_0x46ebe2(0x4f8)](_0x3fcd7c);if(_0x1b7030&&_0x1b7030[_0x46ebe2(0x489)])return{'error':!0x1,'id':_0x1b7030[_0x46ebe2(0xe7)]['id']};_0x555e50=JSON[_0x46ebe2(0x61a)](_0x1b7030),this[_0x46ebe2(0x2f0)][_0x46ebe2(0x444)](this['instanceName']+'\x20('+this[_0x46ebe2(0x63a)]['wuid']+'):\x20'+_0x555e50);}catch(_0x577c9b){this[_0x46ebe2(0x2f0)][_0x46ebe2(0x73d)](this[_0x46ebe2(0x52c)]+'\x20('+this['instance'][_0x46ebe2(0x67e)]+_0x46ebe2(0x37e)+(_0x577c9b instanceof Error?_0x577c9b[_0x46ebe2(0x5fc)]:JSON[_0x46ebe2(0x61a)](_0x577c9b,null,0x2))),_0x555e50=_0x577c9b[_0x46ebe2(0x5fc)];}if(_0x555e50)return{'error':!0x0,'detail':(typeof _0x555e50==_0x46ebe2(0x696)?JSON[_0x46ebe2(0x61a)](_0x555e50,null,0x2):_0x555e50)[_0x46ebe2(0x143)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x4e9e9a,_0x24d9fd){const _0xa15c2e=a0_0x5d3ab0;this['logger'][_0xa15c2e(0x444)](this[_0xa15c2e(0x52c)]+'\x20('+this[_0xa15c2e(0x63a)][_0xa15c2e(0x67e)]+_0xa15c2e(0x250));let _0x2ada1c;if(_0x4e9e9a['message'][_0xa15c2e(0x512)]&&_0x4e9e9a[_0xa15c2e(0x5fc)][_0xa15c2e(0x512)][_0xa15c2e(0x6d9)]>0x0){let _0x10bcd4=this[_0xa15c2e(0x6c1)](_0x4e9e9a[_0xa15c2e(0x5fc)][_0xa15c2e(0x512)]);_0x2ada1c=await this[_0xa15c2e(0x61b)](_0x10bcd4,_0x24d9fd);}let _0x37bb5f={'number':_0x24d9fd,'options':{'delay':_0x4e9e9a[_0xa15c2e(0x5fc)][_0xa15c2e(0x307)],'linkPreview':_0x4e9e9a[_0xa15c2e(0x5fc)]['linkPreview']},'mediaMessage':{'mediatype':_0x4e9e9a[_0xa15c2e(0x5fc)][_0xa15c2e(0x592)],'caption':_0x2ada1c,'media':_0x4e9e9a[_0xa15c2e(0x5fc)][_0xa15c2e(0x3c5)]}},_0x4be7c2=null;try{let _0x27337d=await this[_0xa15c2e(0x3de)](_0x37bb5f);if(_0x27337d&&_0x27337d[_0xa15c2e(0x489)])return{'error':!0x1,'id':_0x27337d[_0xa15c2e(0xe7)]['id']};_0x4be7c2=JSON[_0xa15c2e(0x61a)](_0x27337d),this[_0xa15c2e(0x2f0)][_0xa15c2e(0x444)](this['instanceName']+'\x20('+this['instance'][_0xa15c2e(0x67e)]+_0xa15c2e(0x8c)+_0x4be7c2);}catch(_0x42bd8c){this[_0xa15c2e(0x2f0)][_0xa15c2e(0x73d)](this[_0xa15c2e(0x52c)]+'\x20('+this[_0xa15c2e(0x63a)][_0xa15c2e(0x67e)]+_0xa15c2e(0x138)+(_0x42bd8c instanceof Error?_0x42bd8c[_0xa15c2e(0x5fc)]:JSON[_0xa15c2e(0x61a)](_0x42bd8c,null,0x2))),_0x4be7c2=_0x42bd8c[_0xa15c2e(0x5fc)];}if(_0x4be7c2)return{'error':!0x0,'detail':(typeof _0x4be7c2==_0xa15c2e(0x696)?JSON['stringify'](_0x4be7c2,null,0x2):_0x4be7c2)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x5d3ab0(0x4c4)](_0x52df3f,_0x33bc95){const _0x3c55fa=a0_0x5d3ab0;this[_0x3c55fa(0x2f0)][_0x3c55fa(0x444)](this['instanceName']+'\x20('+this['instance'][_0x3c55fa(0x67e)]+'):\x20Enviando\x20áudio');let _0x5f2702={'number':_0x33bc95,'options':{'delay':_0x52df3f[_0x3c55fa(0x5fc)][_0x3c55fa(0x307)]},'audioMessage':{'audio':_0x52df3f[_0x3c55fa(0x5fc)][_0x3c55fa(0x3c5)]}},_0x2bd282=null;try{let _0x301ecf=await this[_0x3c55fa(0x74c)](_0x5f2702);if(_0x301ecf&&_0x301ecf[_0x3c55fa(0x489)])return{'error':!0x1,'id':_0x301ecf[_0x3c55fa(0xe7)]['id']};_0x2bd282=JSON[_0x3c55fa(0x61a)](_0x301ecf),this[_0x3c55fa(0x2f0)][_0x3c55fa(0x444)](this['instanceName']+'\x20('+this[_0x3c55fa(0x63a)][_0x3c55fa(0x67e)]+_0x3c55fa(0x8c)+_0x2bd282);}catch(_0x234f94){this[_0x3c55fa(0x2f0)][_0x3c55fa(0x73d)](this[_0x3c55fa(0x52c)]+'\x20('+this[_0x3c55fa(0x63a)][_0x3c55fa(0x67e)]+_0x3c55fa(0x242)+(_0x234f94 instanceof Error?_0x234f94[_0x3c55fa(0x5fc)]:JSON['stringify'](_0x234f94,null,0x2))),_0x2bd282=_0x234f94['message'];}if(_0x2bd282)return{'error':!0x0,'detail':(typeof _0x2bd282==_0x3c55fa(0x696)?JSON[_0x3c55fa(0x61a)](_0x2bd282,null,0x2):_0x2bd282)[_0x3c55fa(0x143)](/[\[\]{}\n]/g,'\x20')[_0x3c55fa(0x143)](/  +/g,'\x20')};}async[a0_0x5d3ab0(0xdd)](_0xa3209c){const _0x24f318=a0_0x5d3ab0;try{return await this[_0x24f318(0x63b)][_0x24f318(0x222)](_0xa3209c['groupJid'],_0xa3209c[_0x24f318(0x2e1)]),{'update':_0x24f318(0x62e)};}catch(_0x3850d5){let _0x55b35d=_0x24f318(0x14d),_0x4f5025=_0x3850d5 instanceof Error?_0x3850d5[_0x24f318(0x5fc)]:typeof _0x3850d5==_0x24f318(0x696)?JSON[_0x24f318(0x61a)](_0x3850d5):_0x3850d5,_0x1c918f=_0x55b35d+':\x20'+_0x4f5025;throw this['logger'][_0x24f318(0x73d)](this[_0x24f318(0x52c)]+'\x20('+this[_0x24f318(0x63a)][_0x24f318(0x67e)]+_0x24f318(0x8c)+_0x1c918f),new I(_0x1c918f);}}async[a0_0x5d3ab0(0x6b6)](_0x56be0a){const _0x5c6313=a0_0x5d3ab0;try{return await this['client'][_0x5c6313(0x317)](_0x56be0a[_0x5c6313(0x45f)],_0x56be0a[_0x5c6313(0x26b)]),{'update':_0x5c6313(0x62e)};}catch(_0x3be499){let _0x4b0159=_0x5c6313(0x3df),_0x2b7f9d=_0x3be499 instanceof Error?_0x3be499['message']:typeof _0x3be499==_0x5c6313(0x696)?JSON[_0x5c6313(0x61a)](_0x3be499):_0x3be499,_0x42b4d1=_0x4b0159+':\x20'+_0x2b7f9d;throw this[_0x5c6313(0x2f0)][_0x5c6313(0x73d)](this['instanceName']+'\x20('+this[_0x5c6313(0x63a)][_0x5c6313(0x67e)]+_0x5c6313(0x8c)+_0x42b4d1),new I(_0x42b4d1);}}async['toggleEphemeral'](_0x359770){const _0x447890=a0_0x5d3ab0;try{let _0x11ddc3=await this[_0x447890(0x63b)][_0x447890(0x470)](_0x359770[_0x447890(0x45f)],_0x359770[_0x447890(0x6d2)]);return{'success':!0x0};}catch(_0x5a691a){let _0x2643e6='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x5217a4=_0x5a691a instanceof Error?_0x5a691a[_0x447890(0x5fc)]:typeof _0x5a691a=='object'?JSON[_0x447890(0x61a)](_0x5a691a):_0x5a691a,_0x4d0899=_0x2643e6+':\x20'+_0x5217a4;throw this[_0x447890(0x2f0)][_0x447890(0x73d)](this[_0x447890(0x52c)]+'\x20('+this['instance'][_0x447890(0x67e)]+_0x447890(0x8c)+_0x4d0899),new I(_0x4d0899);}}async[a0_0x5d3ab0(0x5db)](_0xa8c948){const _0x368abf=a0_0x5d3ab0;try{return await this['client'][_0x368abf(0x6ed)](_0xa8c948[_0x368abf(0x45f)],_0xa8c948[_0x368abf(0x163)]),{'update':'success'};}catch(_0x326174){let _0x29d587=_0x368abf(0x4f9),_0x3c9cc9=_0x326174 instanceof Error?_0x326174[_0x368abf(0x5fc)]:typeof _0x326174==_0x368abf(0x696)?JSON['stringify'](_0x326174):_0x326174,_0x265b39=_0x29d587+':\x20'+_0x3c9cc9;throw this[_0x368abf(0x2f0)]['error'](this[_0x368abf(0x52c)]+'\x20('+this[_0x368abf(0x63a)][_0x368abf(0x67e)]+_0x368abf(0x8c)+_0x265b39),new I(_0x265b39);}}},Ut=class c{constructor(_0xa7cc5f,_0x13f698,_0x206b7a){const _0x4c8fe7=a0_0x5d3ab0;this['eventEmitter']=_0xa7cc5f,this[_0x4c8fe7(0x6eb)]=_0x13f698,this[_0x4c8fe7(0x40c)]=_0x206b7a,this['db']={},this[_0x4c8fe7(0x738)]={},this['logger']=new R(c[_0x4c8fe7(0x26b)]),this[_0x4c8fe7(0x465)]={},(this[_0x4c8fe7(0x2cd)](),this['noConnection'](),Object[_0x4c8fe7(0x2bf)](this['db'],_0x13f698[_0x4c8fe7(0x2af)](_0x4c8fe7(0x78e))),Object[_0x4c8fe7(0x2bf)](this[_0x4c8fe7(0x738)],_0x13f698[_0x4c8fe7(0x2af)]('REDIS')),this['dbInstance']=this['db'][_0x4c8fe7(0x1c0)]?this[_0x4c8fe7(0x40c)]['dbServer']?.['db'](this['db'][_0x4c8fe7(0xc6)][_0x4c8fe7(0x59e)]+'-instances'):void 0x0,this['cache']=this[_0x4c8fe7(0x738)][_0x4c8fe7(0x1c0)]?new le(this[_0x4c8fe7(0x738)]):void 0x0);}async['instanceInfo'](_0x4e3140){const _0x1a1d21=a0_0x5d3ab0;if(_0x4e3140&&!this[_0x1a1d21(0x465)][_0x4e3140])throw new U(_0x1a1d21(0x378)+_0x4e3140+_0x1a1d21(0x1d0));let _0x883594=[];for await(let [_0x299c44,_0x1e967f]of Object[_0x1a1d21(0xd0)](this[_0x1a1d21(0x465)]))if(_0x1e967f&&_0x1e967f['connectionStatus'][_0x1a1d21(0x60b)]===_0x1a1d21(0x40a)){let _0xa5f8c1=await this[_0x1a1d21(0x40c)]['auth']['find'](_0x299c44);_0x883594[_0x1a1d21(0x6a7)]({'instance':{'instanceName':_0x299c44,'apikey':_0xa5f8c1[_0x1a1d21(0x3d4)],'owner':_0x1e967f[_0x1a1d21(0x67e)],'profileName':await _0x1e967f[_0x1a1d21(0x47b)]()||'not\x20loaded','profilePictureUrl':_0x1e967f[_0x1a1d21(0x5ee)]}});}return _0x883594[_0x1a1d21(0x299)](_0x44181f=>_0x44181f[_0x1a1d21(0x63a)][_0x1a1d21(0x52c)]===_0x4e3140)??_0x883594;}async['cleaningUp'](_0x1a2da1){const _0x57d9ab=a0_0x5d3ab0;if(this['db'][_0x57d9ab(0x1c0)]&&(await this[_0x57d9ab(0x40c)]['dbServer']['connect'](),(await this[_0x57d9ab(0x4b9)][_0x57d9ab(0x170)]())[_0x57d9ab(0x6d9)]>0x0&&await this[_0x57d9ab(0x4b9)]['dropCollection'](_0x1a2da1)),this[_0x57d9ab(0x738)][_0x57d9ab(0x1c0)]){this[_0x57d9ab(0xb5)][_0x57d9ab(0x4be)]=_0x1a2da1,await this[_0x57d9ab(0xb5)][_0x57d9ab(0xa2)]();return;}}async[a0_0x5d3ab0(0x1e5)](){const _0x48b34c=a0_0x5d3ab0;await this[_0x48b34c(0x192)]();let _0x26cd5b=async _0x44f7a3=>{const _0x5e47ff=_0x48b34c;let _0x2c816d=new Ce(this[_0x5e47ff(0x6eb)],this[_0x5e47ff(0x49b)],this[_0x5e47ff(0x40c)]);_0x2c816d['instanceName']=_0x44f7a3,await _0x2c816d[_0x5e47ff(0x33e)](),this[_0x5e47ff(0x465)][_0x44f7a3]=_0x2c816d;};try{if(this['redis']['ENABLED']){let _0x58f3c2=await this[_0x48b34c(0xb5)][_0x48b34c(0x6ae)]();_0x58f3c2?.['length']>0x0&&_0x58f3c2[_0x48b34c(0x394)](async _0x1f5686=>await _0x26cd5b(_0x1f5686['split'](':')[0x1]));return;}if(this['db'][_0x48b34c(0x1c0)]){await this[_0x48b34c(0x40c)]['dbServer'][_0x48b34c(0x44b)]();let _0x450356=await this[_0x48b34c(0x4b9)][_0x48b34c(0x170)]();_0x450356[_0x48b34c(0x6d9)]>0x0&&_0x450356['forEach'](async _0x329f91=>await _0x26cd5b(_0x329f91[_0x48b34c(0x615)][_0x48b34c(0x143)](/^[\w-]+\./,'')));return;}}catch(_0x27713b){this[_0x48b34c(0x2f0)][_0x48b34c(0x73d)](_0x27713b);}}async[a0_0x5d3ab0(0xca)](){const _0xe9fa=a0_0x5d3ab0;let _0x33a936=await this[_0xe9fa(0x40c)][_0xe9fa(0x2c8)][_0xe9fa(0x185)](),_0xdd6a61=_0x33a936['filter'](_0xba71c7=>!this[_0xe9fa(0x465)][_0xba71c7[_0xe9fa(0x4eb)]]&&(_0xba71c7[_0xe9fa(0x5fa)]||typeof _0xba71c7['online']>'u'));_0xdd6a61[_0xe9fa(0x6d9)]>0x0&&await Promise[_0xe9fa(0x68e)](_0xdd6a61[_0xe9fa(0x2de)](async _0x2c8efe=>{const _0x381926=_0xe9fa;let _0x3c3a2e={'online':!0x1,'lastDisconnect':Date[_0x381926(0x10f)]()};await this['repository'][_0x381926(0x2c8)][_0x381926(0xee)](_0x3c3a2e,_0x2c8efe['_id']);}));let _0x3d06d4=Date[_0xe9fa(0x10f)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x49af6b=_0x33a936[_0xe9fa(0x589)](_0x5a367e=>!this[_0xe9fa(0x465)][_0x5a367e[_0xe9fa(0x4eb)]]&&typeof _0x5a367e[_0xe9fa(0x5c3)]<'u'&&_0x5a367e[_0xe9fa(0x5c3)]<_0x3d06d4);_0x49af6b[_0xe9fa(0x6d9)]>0x0&&await Promise['all'](_0x49af6b[_0xe9fa(0x2de)](async _0x55c548=>{}));}async[a0_0x5d3ab0(0x192)](){const _0x174fe3=a0_0x5d3ab0;try{let _0x380478={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x1e7a72={'online':!0x1,'lastDisconnect':Date['now']()},_0x197f39=await this['repository'][_0x174fe3(0x2c8)][_0x174fe3(0x1e0)](_0x380478,_0x1e7a72);console[_0x174fe3(0x5a2)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x197f39['insertCount']),await this['removeOlderDisconnectedInstances']();}catch(_0xbcf8ad){console['error']('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0xbcf8ad);}}async['removeOlderDisconnectedInstances'](){const _0x3a66b8=a0_0x5d3ab0;try{let _0x207804={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x2ba8d9=await this[_0x3a66b8(0x40c)][_0x3a66b8(0x2c8)][_0x3a66b8(0x13e)](_0x207804);console[_0x3a66b8(0x5a2)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x2ba8d9[_0x3a66b8(0x781)]);}catch(_0x5a5058){console[_0x3a66b8(0x73d)](_0x3a66b8(0x5c2),_0x5a5058);}}[a0_0x5d3ab0(0x2cd)](){const _0xac2fb2=a0_0x5d3ab0;this[_0xac2fb2(0x49b)]['on'](_0xac2fb2(0x351),async _0x318190=>{const _0x124ad7=_0xac2fb2;try{this['waInstances'][_0x318190]=void 0x0;}catch{}try{this[_0x124ad7(0x114)](_0x318190);}finally{this[_0x124ad7(0x2f0)]['warn'](_0x124ad7(0x378)+_0x318190+'\x22\x20-\x20REMOVED');}});}['noConnection'](){const _0x2960a2=a0_0x5d3ab0;this[_0x2960a2(0x49b)]['on'](_0x2960a2(0x233),async _0x40540e=>{const _0x2d1eca=_0x2960a2;try{this[_0x2d1eca(0x465)][_0x40540e]=void 0x0;}catch{}try{this[_0x2d1eca(0x114)](_0x40540e);}finally{this[_0x2d1eca(0x2f0)][_0x2d1eca(0x1c4)]('Instance\x20\x22'+_0x40540e+'\x22\x20-\x20NOT\x20CONNECTION');}});}},qt=class extends x{[a0_0x5d3ab0(0x720)](_0x5577de){return Qs(_0x5577de);}async[a0_0x5d3ab0(0x435)](_0x1af304){const _0x53d67d=a0_0x5d3ab0;if(_0x1af304[_0x53d67d(0x6d9)]!==0x0)try{return{'insertCount':(await this[_0x53d67d(0x720)](_0x1af304[0x0][_0x53d67d(0x36e)])['insertMany']([..._0x1af304]))[_0x53d67d(0x6d9)]};}catch(_0x170c74){return _0x170c74;}}async[a0_0x5d3ab0(0x299)](_0xd3b56f,_0x5168d7){const _0x15b1a6=a0_0x5d3ab0;try{let _0x5bf820=this['getChatModelForOwner'](_0x5168d7),_0x5d766f=T(_0xd3b56f[_0x15b1a6(0x37a)]);return await _0x5bf820[_0x15b1a6(0x299)](_0x5d766f)['sort']({'lastmsg':-0x1})[_0x15b1a6(0x53f)](_0xd3b56f?.[_0x15b1a6(0x53f)]??0x0)[_0x15b1a6(0xa1)]();}catch{return[];}}async['delete'](_0x4fd3e4,_0x33f536){const _0x3f07d9=a0_0x5d3ab0;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x33f536)[_0x3f07d9(0x13e)]({..._0x4fd3e4[_0x3f07d9(0x37a)]}))[_0x3f07d9(0x78a)]};}catch(_0x2b6830){return{'error':_0x2b6830?.['toString']()};}}async[a0_0x5d3ab0(0x31b)](_0x19e4ac,_0x4ed062){const _0x55aed4=a0_0x5d3ab0;try{return await this[_0x55aed4(0x720)](_0x4ed062)[_0x55aed4(0x13e)]({..._0x19e4ac[_0x55aed4(0x37a)]}),[];}catch(_0x177a13){return{'error':_0x177a13?.[_0x55aed4(0x651)]()};}}async['findOne'](_0x4068a7,_0x1e3954){const _0x227f57=a0_0x5d3ab0;try{let _0x26c76f=this[_0x227f57(0x720)](_0x1e3954),_0x251046=T(_0x4068a7['where']);return await _0x26c76f[_0x227f57(0x639)](_0x251046)['lean']();}catch{return null;}}async[a0_0x5d3ab0(0x63f)](_0x20c719,_0x555f34,_0x378323,_0x40494f,_0x241d81=a0_0x5d3ab0(0x292)){const _0x58f887=a0_0x5d3ab0;try{let _0x221fca={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x40494f},_0x2d78a0=this[_0x58f887(0x720)](_0x378323),_0x13a359=T(_0x20c719[_0x58f887(0x37a)]);Object['keys'](_0x555f34)[_0x58f887(0x394)](_0x2a15c0=>{_0x555f34[_0x2a15c0]==null&&delete _0x555f34[_0x2a15c0];});let _0x413a29={};return _0x413a29[_0x241d81]=_0x555f34,await _0x2d78a0[_0x58f887(0x63d)](_0x13a359,_0x413a29,_0x221fca);}catch(_0x384212){return console['error'](_0x384212),null;}}async['updateMany'](_0x7c6b09){const _0x4f441a=a0_0x5d3ab0;try{let _0x721423=this[_0x4f441a(0x720)](_0x7c6b09[0x0][_0x4f441a(0x3a8)][_0x4f441a(0x37a)][_0x4f441a(0x36e)]),_0x3221d9=_0x7c6b09[_0x4f441a(0x2de)](_0x4df716=>({'updateOne':{'filter':{..._0x4df716[_0x4f441a(0x3a8)][_0x4f441a(0x37a)]},'update':{'$set':_0x4df716['update']},'upsert':!0x0}})),_0x4aebef=await _0x721423[_0x4f441a(0x3c2)](_0x3221d9);return _0x4aebef[_0x4f441a(0x2a3)]+_0x4aebef[_0x4f441a(0x649)];}catch(_0x370355){return console[_0x4f441a(0x73d)](_0x370355),0x0;}}async[a0_0x5d3ab0(0x59b)](_0x52349e){const _0x30c9cc=a0_0x5d3ab0;try{let _0x4a804e={'group_isCommunity':'','group_announce':'','group_size':''},_0x445bff={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x5ea72b={'$unset':_0x4a804e};return(await this['getChatModelForOwner'](_0x52349e)[_0x30c9cc(0x3d0)](_0x445bff,_0x5ea72b))[_0x30c9cc(0x2a3)];}catch(_0x505404){return console[_0x30c9cc(0x73d)](_0x30c9cc(0x660),_0x505404),0x0;}}async['updateMissingEtiquetas'](_0x2f1fd1){const _0x18b67c=a0_0x5d3ab0;try{let _0x28c6d0=this[_0x18b67c(0x720)](_0x2f1fd1),_0x4ddc9e={'leadInfo.etiquetas':{'$exists':!0x1}},_0x47cf88={'$set':{'leadInfo.etiquetas':[]}};return(await _0x28c6d0[_0x18b67c(0x3d0)](_0x4ddc9e,_0x47cf88))[_0x18b67c(0x2a3)];}catch(_0x5c5de0){return console[_0x18b67c(0x73d)](_0x5c5de0),0x0;}}async[a0_0x5d3ab0(0x75b)](_0x23bf6b){const _0x25f207=a0_0x5d3ab0;try{let _0xb09bd9=this['getChatModelForOwner'](_0x23bf6b),_0x32b81a={'leadInfo.tags':{'$exists':!0x1}},_0x1d0d3f={'$set':{'leadInfo.tags':[]}};return(await _0xb09bd9[_0x25f207(0x3d0)](_0x32b81a,_0x1d0d3f))['modifiedCount'];}catch(_0x5e53e0){return console['error'](_0x5e53e0),0x0;}}async[a0_0x5d3ab0(0x5a6)](_0x5227e9){const _0x71a922=a0_0x5d3ab0;try{let _0x5560c3=this[_0x71a922(0x720)](_0x5227e9),_0x254ff4={'leadInfo.customFields':{'$exists':!0x1}},_0x3cf36e={'$set':{'leadInfo.customFields':[]}};return(await _0x5560c3[_0x71a922(0x3d0)](_0x254ff4,_0x3cf36e))[_0x71a922(0x2a3)];}catch(_0x326a86){return console[_0x71a922(0x73d)](_0x326a86),0x0;}}async[a0_0x5d3ab0(0x1e1)](_0x8efc55,_0x5834a0){const _0x5d8cc2=a0_0x5d3ab0;if(!Array[_0x5d8cc2(0x577)](_0x8efc55)||_0x8efc55['length']===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x5d8cc2(0x720)](_0x5834a0)['insertMany'](_0x8efc55))[_0x5d8cc2(0x6d9)];}catch(_0x146654){throw console[_0x5d8cc2(0x73d)](_0x5d8cc2(0x290),_0x146654),_0x146654;}}async[a0_0x5d3ab0(0x4c5)](_0x4eed8a,_0x290b76){const _0x58e32d=a0_0x5d3ab0;try{await this[_0x58e32d(0x720)](_0x290b76)[_0x58e32d(0xda)]({'_id':_0x4eed8a});}catch(_0x59d730){throw console['error'](_0x58e32d(0x13c),_0x59d730),_0x59d730;}}},Vt=class extends x{constructor(_0x2a2e7c,_0x3f22b9,_0x36132e){const _0x140a05=a0_0x5d3ab0;super(_0x3f22b9),this['cacheContactModel']=_0x2a2e7c,this[_0x140a05(0x6eb)]=_0x3f22b9,this[_0x140a05(0x24f)]=_0x36132e;}async[a0_0x5d3ab0(0x435)](_0x533f7a){const _0x37da5d=a0_0x5d3ab0;if(_0x533f7a[_0x37da5d(0x6d9)]!==0x0)try{return{'insertCount':(await this[_0x37da5d(0x27c)][_0x37da5d(0x1e1)]([..._0x533f7a]))[_0x37da5d(0x6d9)]};}catch(_0x4ae21a){return _0x4ae21a;}}async['update'](_0x250115,_0x854354){const _0x533bf9=a0_0x5d3ab0;try{let _0x81329d=T(_0x250115['where']);return{'updatedCount':(await this['cacheContactModel'][_0x533bf9(0x3d0)](_0x81329d,{'$set':_0x854354}))[_0x533bf9(0x2a3)]};}catch(_0x531be7){return console['error'](_0x533bf9(0x6d0),_0x531be7),{'error':_0x531be7['toString']()};}}async[a0_0x5d3ab0(0x69c)](_0x880daf){const _0x5d5e24=a0_0x5d3ab0;try{let _0x36b758={'_id':{'$in':_0x880daf}};return await this[_0x5d5e24(0x27c)][_0x5d5e24(0x299)](_0x36b758)[_0x5d5e24(0xa1)]();}catch(_0x10a8e4){return console[_0x5d5e24(0x73d)]('Error\x20finding\x20many\x20contacts:',_0x10a8e4),[];}}async['delete'](_0x239984){const _0x22c477=a0_0x5d3ab0;try{return{'deletedCount':(await this[_0x22c477(0x27c)][_0x22c477(0x13e)]({..._0x239984[_0x22c477(0x37a)]}))[_0x22c477(0x78a)]};}catch(_0x502920){return{'error':_0x502920?.[_0x22c477(0x651)]()};}}async[a0_0x5d3ab0(0x299)](_0x32931e){const _0x3139d1=a0_0x5d3ab0;try{let _0x1ce8ab=T(_0x32931e[_0x3139d1(0x37a)]);return await this[_0x3139d1(0x27c)][_0x3139d1(0x299)](_0x1ce8ab)[_0x3139d1(0x53f)](_0x32931e?.[_0x3139d1(0x53f)]??0x0)[_0x3139d1(0xa1)]();}catch{return[];}}async[a0_0x5d3ab0(0x639)](_0x3bd503){const _0x4ca5da=a0_0x5d3ab0;try{let _0x4fad87=T(_0x3bd503[_0x4ca5da(0x37a)]);return await this[_0x4ca5da(0x27c)][_0x4ca5da(0x639)](_0x4fad87)['lean']();}catch{return null;}}},Gt=class extends x{[a0_0x5d3ab0(0x596)](_0x3eb65f){return fa(_0x3eb65f);}async[a0_0x5d3ab0(0x63f)](_0x51eb9c,_0x2e08a0,_0x43bab6,_0x253aeb){const _0x4f6924=a0_0x5d3ab0;try{let _0x332f34={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x253aeb},_0x22bc27=this[_0x4f6924(0x596)](_0x43bab6),_0x5993c5=T(_0x51eb9c[_0x4f6924(0x37a)]);return await _0x22bc27['findOneAndUpdate'](_0x5993c5,{'$set':_0x2e08a0},_0x332f34);}catch(_0xadbb80){return console[_0x4f6924(0x73d)](_0xadbb80),null;}}async[a0_0x5d3ab0(0x299)](_0x495281,_0x572600){const _0x2db024=a0_0x5d3ab0;try{let _0x3349d1=this[_0x2db024(0x596)](_0x572600),_0x531047=T(_0x495281[_0x2db024(0x37a)]);return await _0x3349d1['find'](_0x531047);}catch(_0xda2dd6){console[_0x2db024(0x73d)](_0xda2dd6);}}async[a0_0x5d3ab0(0x4c9)](_0x5eb951,_0x7b533c){const _0x37feb0=a0_0x5d3ab0;try{let _0x310c78=this[_0x37feb0(0x596)](_0x7b533c),_0x34bafc=T(_0x5eb951['where']);await _0x310c78['deleteMany'](_0x34bafc);}catch(_0x4fde5b){console[_0x37feb0(0x73d)](_0x4fde5b);}}async[a0_0x5d3ab0(0x31b)](_0x59f097){const _0xf6b32d=a0_0x5d3ab0;try{return await this[_0xf6b32d(0x596)](_0x59f097)[_0xf6b32d(0x2b7)][_0xf6b32d(0x369)](),{'success':!0x0};}catch(_0x209a0a){return console[_0xf6b32d(0x73d)](_0x209a0a),{'success':!0x1,'error':_0x209a0a};}}},Bt=class{constructor(_0x582935){const _0x3323b7=a0_0x5d3ab0;this[_0x3323b7(0x30e)]=_0x582935;}async[a0_0x5d3ab0(0x4f1)]({instanceName:_0x2aba39},_0x5cbbf8){const _0x2305ea=a0_0x5d3ab0;return await this[_0x2305ea(0x30e)][_0x2305ea(0x465)][_0x2aba39][_0x2305ea(0x4f1)](_0x5cbbf8);}async['whatsappNumber']({instanceName:_0xb6d011},_0x22bcf5){const _0x378d4c=a0_0x5d3ab0;return await this[_0x378d4c(0x30e)][_0x378d4c(0x465)][_0xb6d011][_0x378d4c(0x17d)](_0x22bcf5);}async['importChats']({instanceName:_0x4f70e0},_0x403824){const _0x30e6f8=a0_0x5d3ab0;return await this[_0x30e6f8(0x30e)][_0x30e6f8(0x465)][_0x4f70e0][_0x30e6f8(0x6aa)](_0x403824);}async[a0_0x5d3ab0(0x453)]({instanceName:_0x2f4cba},_0x69323a){const _0x59621d=a0_0x5d3ab0;return await this[_0x59621d(0x30e)]['waInstances'][_0x2f4cba][_0x59621d(0x13f)](_0x69323a);}async['archiveChat']({instanceName:_0x7b7059},_0x4cea8e){const _0x484d82=a0_0x5d3ab0;return await this['waMonitor'][_0x484d82(0x465)][_0x7b7059]['archiveChat'](_0x4cea8e);}async['deleteMessage']({instanceName:_0x13e7f9},_0x122a6d){const _0x156f78=a0_0x5d3ab0;return await this['waMonitor'][_0x156f78(0x465)][_0x13e7f9][_0x156f78(0x202)](_0x122a6d);}async[a0_0x5d3ab0(0x5d8)]({instanceName:_0xdb62ae},_0x21feab){const _0x246ec2=a0_0x5d3ab0;return await this[_0x246ec2(0x30e)][_0x246ec2(0x465)][_0xdb62ae][_0x246ec2(0x1d4)](_0x21feab['number']);}async['fetchProfile']({instanceName:_0x85460e},_0x4207f4){const _0x31bcb7=a0_0x5d3ab0;return await this[_0x31bcb7(0x30e)][_0x31bcb7(0x465)][_0x85460e][_0x31bcb7(0x5d6)](_0x4207f4[_0x31bcb7(0x15d)]);}async['updatePresence']({instanceName:_0x76c2cb},_0x7d7267){const _0x1dc161=a0_0x5d3ab0;return await this[_0x1dc161(0x30e)][_0x1dc161(0x465)][_0x76c2cb][_0x1dc161(0x178)](_0x7d7267);}async[a0_0x5d3ab0(0x377)]({instanceName:_0x199103},_0x28cd29){return await this['waMonitor']['waInstances'][_0x199103]['fetchContacts'](_0x28cd29);}async[a0_0x5d3ab0(0x521)]({instanceName:_0x2fa911},_0x15d015){const _0x60b902=a0_0x5d3ab0;return await this[_0x60b902(0x30e)][_0x60b902(0x465)][_0x2fa911][_0x60b902(0x521)](_0x15d015);}async[a0_0x5d3ab0(0x15a)]({instanceName:_0x5edc84},_0x25ba2e){const _0x4c41ae=a0_0x5d3ab0;return await this['waMonitor']['waInstances'][_0x5edc84][_0x4c41ae(0x15a)](_0x25ba2e);}async[a0_0x5d3ab0(0x106)]({instanceName:_0x5c529c}){const _0x2a00c6=a0_0x5d3ab0;return await this[_0x2a00c6(0x30e)][_0x2a00c6(0x465)][_0x5c529c]['fetchLabels']();}async['fetchChats']({instanceName:_0x5d036d}){const _0x567490=a0_0x5d3ab0;return await this[_0x567490(0x30e)][_0x567490(0x465)][_0x5d036d][_0x567490(0x2c0)]();}async[a0_0x5d3ab0(0x404)]({instanceName:_0x341d93}){const _0x463625=a0_0x5d3ab0;return await this['waMonitor'][_0x463625(0x465)][_0x341d93][_0x463625(0x404)]();}async[a0_0x5d3ab0(0x275)]({instanceName:_0x5d8b4c},_0x538774){const _0x299c1d=a0_0x5d3ab0;return await this[_0x299c1d(0x30e)][_0x299c1d(0x465)][_0x5d8b4c][_0x299c1d(0x275)](_0x538774);}async['fetchBusinessProfile']({instanceName:_0x327f83},_0x58aa99){const _0x57b999=a0_0x5d3ab0;return await this[_0x57b999(0x30e)][_0x57b999(0x465)][_0x327f83][_0x57b999(0x2d1)](_0x58aa99[_0x57b999(0x15d)]);}async[a0_0x5d3ab0(0x223)]({instanceName:_0x215a70},_0xf0b86c){const _0x380886=a0_0x5d3ab0;return await this[_0x380886(0x30e)]['waInstances'][_0x215a70][_0x380886(0x223)](_0xf0b86c[_0x380886(0x26b)]);}async['updateProfileStatus']({instanceName:_0x202beb},_0xbe9178){const _0x197b5b=a0_0x5d3ab0;return await this[_0x197b5b(0x30e)][_0x197b5b(0x465)][_0x202beb][_0x197b5b(0x5e9)](_0xbe9178[_0x197b5b(0x489)]);}async['updateProfilePicture']({instanceName:_0x14ddf3},_0x43cc78){const _0x3e70dd=a0_0x5d3ab0;return await this[_0x3e70dd(0x30e)]['waInstances'][_0x14ddf3][_0x3e70dd(0x3ed)](_0x43cc78['picture']);}async[a0_0x5d3ab0(0x440)]({instanceName:_0x236fcc},_0x39202d){const _0x4ae31e=a0_0x5d3ab0;return await this[_0x4ae31e(0x30e)][_0x4ae31e(0x465)][_0x236fcc][_0x4ae31e(0x440)]();}},_s=require(a0_0x5d3ab0(0x460)),Wt=class c{constructor(_0x352b12,_0x28a0c4,_0x330377,_0x532aa5,_0x3fe5c8){const _0x10413d=a0_0x5d3ab0;this[_0x10413d(0x30e)]=_0x352b12,this['configService']=_0x28a0c4,this[_0x10413d(0x40c)]=_0x330377,this['eventEmitter']=_0x532aa5,this[_0x10413d(0x1ab)]=_0x3fe5c8,this[_0x10413d(0x2f0)]=new R(c[_0x10413d(0x26b)]);}async[a0_0x5d3ab0(0x358)]({instanceName:_0x362dec,apikey:_0x5708d3,number:_0x3ca542,proxy:_0x41013d=!0x0}){const _0x2c7a2c=a0_0x5d3ab0;try{let _0x1f0f07=new Ce(this['configService'],this['eventEmitter'],this[_0x2c7a2c(0x40c)]);_0x1f0f07[_0x2c7a2c(0x52c)]=_0x362dec,this[_0x2c7a2c(0x30e)][_0x2c7a2c(0x465)][_0x1f0f07[_0x2c7a2c(0x52c)]]=_0x1f0f07;let _0x59b943={};_0x5708d3?(await this['repository']['auth']['create']({'apikey':_0x5708d3},_0x362dec),_0x59b943[_0x2c7a2c(0x3d4)]=_0x5708d3):_0x59b943=await this[_0x2c7a2c(0x1ab)]['generateHash']({'instanceName':_0x1f0f07[_0x2c7a2c(0x52c)]});let _0x5bf03a;if(_0x3ca542){if(_0x5bf03a=await this[_0x2c7a2c(0x2be)](_0x3ca542),_0x5bf03a['error'])throw new I(_0x5bf03a[_0x2c7a2c(0x73d)]['toString']());_0x3ca542=_0x5bf03a[_0x2c7a2c(0x15d)];}let _0x121375;return await _0x1f0f07[_0x2c7a2c(0x33e)](_0x3ca542),await(0x0,_s[_0x2c7a2c(0x307)])(0x7d0),_0x121375=_0x1f0f07['qrCode'],{'instance':{'instanceName':_0x1f0f07['instanceName'],'status':'created'},'hash':_0x59b943,'qrcode':_0x121375};}catch(_0x78d919){throw this[_0x2c7a2c(0x2f0)][_0x2c7a2c(0x73d)](_0x78d919),_0x78d919;}}async[a0_0x5d3ab0(0x130)]({instanceName:_0x2da680,number:_0x26de22=null}){const _0x4c3735=a0_0x5d3ab0;try{let _0x4b9b2c=this[_0x4c3735(0x30e)][_0x4c3735(0x465)][_0x2da680];switch(_0x4b9b2c?.['connectionStatus']?.[_0x4c3735(0x60b)]){case _0x4c3735(0x452):return await _0x4b9b2c['connectToWhatsapp'](_0x26de22),await(0x0,_s[_0x4c3735(0x307)])(0x7d0),_0x4b9b2c[_0x4c3735(0x643)];case _0x4c3735(0x54f):return _0x4b9b2c['qrCode'];default:return await this['connectionState']({'instanceName':_0x2da680});}}catch(_0x532246){this[_0x4c3735(0x2f0)]['log'](_0x532246);}}async[a0_0x5d3ab0(0x6a2)]({instanceName:_0x164139}){const _0x5d4d84=a0_0x5d3ab0;let _0x501b9f=this[_0x5d4d84(0x30e)]['waInstances'][_0x164139][_0x5d4d84(0x54e)],_0x586fc4=null;_0x501b9f['state']===_0x5d4d84(0x40a)&&_0x164139&&(_0x586fc4=await this[_0x5d4d84(0x30e)][_0x5d4d84(0x42a)](_0x164139));let _0x1dad4e=null;return _0x501b9f['state']===_0x5d4d84(0x54f)&&_0x164139&&(_0x1dad4e=this['waMonitor'][_0x5d4d84(0x465)][_0x164139][_0x5d4d84(0x643)]),{'instance':_0x164139,'connectionStatus':_0x501b9f,'instanceInfo':_0x586fc4,'qrcode':_0x1dad4e};}async['verifyWhatsAppNumber'](_0x28e765){const _0x179841=a0_0x5d3ab0;_0x28e765=_0x28e765['replace'](/\D/g,'');let _0x33f8f5=Object['keys'](this[_0x179841(0x30e)]['waInstances'])[_0x179841(0x589)](_0x17d051=>{const _0xa7e9e2=_0x179841;let _0x22c3ea=this[_0xa7e9e2(0x30e)][_0xa7e9e2(0x465)][_0x17d051];return _0x22c3ea&&_0x22c3ea[_0xa7e9e2(0x54e)]&&_0x22c3ea['connectionStatus'][_0xa7e9e2(0x60b)]===_0xa7e9e2(0x40a);});if(_0x33f8f5[_0x179841(0x6d9)]===0x0)return{'number':this[_0x179841(0x756)](_0x28e765)};let _0x14c50e=Math[_0x179841(0x227)](Math['random']()*_0x33f8f5[_0x179841(0x6d9)]),_0x57bf99=_0x33f8f5[_0x14c50e];try{let _0xc11204=(await this[_0x179841(0x30e)][_0x179841(0x465)][_0x57bf99]['whatsappNumber']({'numbers':[_0x28e765]}))[_0x179841(0x136)]();return _0xc11204[_0x179841(0x99)]?{'number':_0xc11204[_0x179841(0x697)][_0x179841(0x143)]('@s.whatsapp.net','')}:{'number':_0x28e765,'error':_0x179841(0x47d)};}catch(_0x31de29){return this[_0x179841(0x2f0)][_0x179841(0x73d)](_0x179841(0x3d8)+_0x31de29),{'number':_0x28e765,'error':_0x179841(0x156)};}}[a0_0x5d3ab0(0x756)](_0x1bcc23){const _0x3047f6=a0_0x5d3ab0;let _0x8c184c=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x3047f6(0x4ed)](_0x1bcc23);if(_0x8c184c&&_0x8c184c[0x1]==='55'){let _0x35c981=_0x8c184c[0x2],_0x1879f3=_0x8c184c[0x3],_0x39b3f4=_0x8c184c[0x4];if(parseInt(_0x35c981)>=0x1f&&_0x1879f3==='9')return _0x8c184c[0x1]+_0x35c981+_0x39b3f4;}return _0x1bcc23;}async[a0_0x5d3ab0(0x4e2)]({instanceName:_0x4db5c0}){const _0x1cb33=a0_0x5d3ab0;try{return this[_0x1cb33(0x30e)][_0x1cb33(0x465)][_0x4db5c0]?.[_0x1cb33(0x63b)]?.['ws']?.[_0x1cb33(0x452)](),{'status':'SUCCESS','error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x5b89fc){this[_0x1cb33(0x2f0)][_0x1cb33(0x73d)](_0x5b89fc);}}async[a0_0x5d3ab0(0x127)]({instanceName:_0x649f97}){const _0x622390=a0_0x5d3ab0;return _0x649f97?this[_0x622390(0x30e)][_0x622390(0x42a)](_0x649f97):this[_0x622390(0x30e)][_0x622390(0x42a)]();}async['logout']({instanceName:_0x275193}){const _0x211f52=a0_0x5d3ab0;try{return await this[_0x211f52(0x30e)]['waInstances'][_0x275193]?.[_0x211f52(0x63b)]?.[_0x211f52(0x75f)](_0x211f52(0x121)+_0x275193),{'error':!0x1,'message':_0x211f52(0x41a)};}catch(_0xac231f){throw new I(_0xac231f[_0x211f52(0x651)]());}}async[a0_0x5d3ab0(0x515)]({instanceName:_0x19f920}){const _0x472d7c=a0_0x5d3ab0;if((await this[_0x472d7c(0x6a2)]({'instanceName':_0x19f920}))[_0x472d7c(0x54e)]['state']===_0x472d7c(0x40a))throw new m([_0x472d7c(0x5ba),_0x472d7c(0x8d)]);try{return delete this[_0x472d7c(0x30e)][_0x472d7c(0x465)][_0x19f920],{'error':!0x1,'message':_0x472d7c(0x128)};}catch(_0x8233d8){throw new m(_0x8233d8[_0x472d7c(0x651)]());}}},te=require('class-validator'),zt=class{constructor(_0x3bd8b9){const _0x22ab0c=a0_0x5d3ab0;this[_0x22ab0c(0x30e)]=_0x3bd8b9;}async[a0_0x5d3ab0(0x67d)]({instanceName:_0x2665b5},_0x455b81){const _0x502a14=a0_0x5d3ab0;return await this['waMonitor'][_0x502a14(0x465)][_0x2665b5][_0x502a14(0x4f8)](_0x455b81);}async[a0_0x5d3ab0(0x3c9)]({instanceName:_0x43519a},_0x2142f3){const _0xed7e5a=a0_0x5d3ab0;return await this['waMonitor'][_0xed7e5a(0x465)][_0x43519a][_0xed7e5a(0x322)](_0x2142f3);}async[a0_0x5d3ab0(0x5a5)]({instanceName:_0xb0e98a},_0x179cd0){const _0x33a740=a0_0x5d3ab0;if((0x0,te[_0x33a740(0x78b)])(_0x179cd0?.[_0x33a740(0x3de)]?.[_0x33a740(0x442)])&&!_0x179cd0?.['mediaMessage']?.[_0x33a740(0x788)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,te[_0x33a740(0xd7)])(_0x179cd0?.[_0x33a740(0x3de)]?.[_0x33a740(0x442)])||(0x0,te['isBase64'])(_0x179cd0?.[_0x33a740(0x3de)]?.[_0x33a740(0x442)]))return await this[_0x33a740(0x30e)]['waInstances'][_0xb0e98a][_0x33a740(0x3de)](_0x179cd0);throw new m(_0x33a740(0x408));}async['sendSticker']({instanceName:_0x2511ca},_0x5e7b10){const _0x4525f5=a0_0x5d3ab0;if((0x0,te[_0x4525f5(0xd7)])(_0x5e7b10[_0x4525f5(0x1b2)][_0x4525f5(0x2e7)])||(0x0,te['isBase64'])(_0x5e7b10['stickerMessage'][_0x4525f5(0x2e7)]))return await this[_0x4525f5(0x30e)][_0x4525f5(0x465)][_0x2511ca][_0x4525f5(0x68a)](_0x5e7b10);throw new m(_0x4525f5(0x408));}async[a0_0x5d3ab0(0x3f0)]({instanceName:_0x852e62},_0x3cc041){const _0x23c6cf=a0_0x5d3ab0;if((0x0,te['isURL'])(_0x3cc041[_0x23c6cf(0x237)][_0x23c6cf(0x567)])||(0x0,te[_0x23c6cf(0x78b)])(_0x3cc041[_0x23c6cf(0x237)][_0x23c6cf(0x567)]))return await this[_0x23c6cf(0x30e)][_0x23c6cf(0x465)][_0x852e62]['audioWhatsapp'](_0x3cc041);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x5d3ab0(0x2f7)]({instanceName:_0x97faf3},_0xcb6010){const _0x22dfb2=a0_0x5d3ab0;if((0x0,te[_0x22dfb2(0x78b)])(_0xcb6010[_0x22dfb2(0x1e6)][_0x22dfb2(0x3de)]?.['media'])&&!_0xcb6010[_0x22dfb2(0x1e6)][_0x22dfb2(0x3de)]?.[_0x22dfb2(0x788)])throw new m(_0x22dfb2(0x210));return await this[_0x22dfb2(0x30e)][_0x22dfb2(0x465)][_0x97faf3][_0x22dfb2(0x1e6)](_0xcb6010);}async[a0_0x5d3ab0(0x20e)]({instanceName:_0x31e0e8},_0x1c6cc1){const _0x5bbbfe=a0_0x5d3ab0;return await this[_0x5bbbfe(0x30e)][_0x5bbbfe(0x465)][_0x31e0e8][_0x5bbbfe(0x579)](_0x1c6cc1);}async['sendPoll']({instanceName:_0x13c809},_0x535c71){const _0x3f9771=a0_0x5d3ab0;return await this['waMonitor'][_0x3f9771(0x465)][_0x13c809]['pollMessage'](_0x535c71);}async[a0_0x5d3ab0(0x132)]({instanceName:_0x1f283f},_0x4e92c2){const _0x931e26=a0_0x5d3ab0;return await this[_0x931e26(0x30e)]['waInstances'][_0x1f283f][_0x931e26(0xb1)](_0x4e92c2);}async['sendContact']({instanceName:_0x594763},_0x4616dc){const _0x1de6d7=a0_0x5d3ab0;return await this[_0x1de6d7(0x30e)][_0x1de6d7(0x465)][_0x594763][_0x1de6d7(0x433)](_0x4616dc);}async['sendReaction']({instanceName:_0x494ede},_0x478463){const _0x19d7e7=a0_0x5d3ab0;if(!_0x478463['reactionMessage'][_0x19d7e7(0x779)][_0x19d7e7(0x4c1)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x19d7e7(0x62b));return await this['waMonitor'][_0x19d7e7(0x465)][_0x494ede]['reactionMessage'](_0x478463);}async[a0_0x5d3ab0(0x373)]({instanceName:_0x3376d4},_0x56faf8){const _0x2fa0ef=a0_0x5d3ab0;return await this['waMonitor'][_0x2fa0ef(0x465)][_0x3376d4]['statusMessage'](_0x56faf8);}},Ro=require(a0_0x5d3ab0(0x5be)),Ps=require('uuid'),Ht=class c{constructor(_0x33d395,_0x47b2c2,_0x231c83){const _0x2046b1=a0_0x5d3ab0;this[_0x2046b1(0x6eb)]=_0x33d395,this[_0x2046b1(0x30e)]=_0x47b2c2,this[_0x2046b1(0x40c)]=_0x231c83,this['logger']=new R(c[_0x2046b1(0x26b)]);}async[a0_0x5d3ab0(0x368)](_0x2d3096){const _0x340441=a0_0x5d3ab0;let _0x359b22=this['configService'][_0x340441(0x2af)](_0x340441(0x3fe))[_0x340441(0x599)],_0x4d0591=(0x0,Ro[_0x340441(0x225)])({'instanceName':_0x2d3096[_0x340441(0x52c)],'apiName':tt,'tokenId':(0x0,Ps['v4'])()},_0x359b22['SECRET'],{'expiresIn':_0x359b22['EXPIRIN_IN'],'encoding':_0x340441(0xb4),'subject':_0x340441(0x4d4)}),_0x360ed1=await this[_0x340441(0x40c)][_0x340441(0x2c8)][_0x340441(0xee)]({'jwt':_0x4d0591},_0x2d3096['instanceName']);if(_0x360ed1['error'])throw this[_0x340441(0x2f0)]['error']({'localError':c[_0x340441(0x26b)]+_0x340441(0x141),'error':_0x360ed1[_0x340441(0x73d)]}),new m(_0x340441(0x423),_0x360ed1[_0x340441(0x73d)]?.[_0x340441(0x651)]());return{'jwt':_0x4d0591};}async[a0_0x5d3ab0(0x3d4)](_0xf05b15){const _0x346089=a0_0x5d3ab0;let _0xe0b102=(0x0,Ps['v4'])()[_0x346089(0x343)](),_0x3335e1=await this['repository'][_0x346089(0x2c8)][_0x346089(0xee)]({'apikey':_0xe0b102},_0xf05b15[_0x346089(0x52c)]);if(_0x3335e1[_0x346089(0x73d)])throw this[_0x346089(0x2f0)]['error']({'localError':c[_0x346089(0x26b)]+_0x346089(0x141),'error':_0x3335e1['error']}),new m('Authentication\x20error',_0x3335e1['error']?.[_0x346089(0x651)]());return{'apikey':_0xe0b102};}async['generateHash'](_0x30269a){const _0x1dfa87=a0_0x5d3ab0;let _0x325d64=this[_0x1dfa87(0x6eb)][_0x1dfa87(0x2af)]('AUTHENTICATION');return await this[_0x325d64['TYPE']](_0x30269a);}},Kt=class{constructor(_0x1a11a9){const _0x35410a=a0_0x5d3ab0;this[_0x35410a(0x30e)]=_0x1a11a9;}async[a0_0x5d3ab0(0x432)](_0x2c0933,_0x2e92a8){const _0x304488=a0_0x5d3ab0;return await this[_0x304488(0x30e)]['waInstances'][_0x2c0933['instanceName']][_0x304488(0x432)](_0x2e92a8);}async[a0_0x5d3ab0(0x57f)](_0x111505,_0x1aef92){const _0x22f9ab=a0_0x5d3ab0;return await this[_0x22f9ab(0x30e)][_0x22f9ab(0x465)][_0x111505[_0x22f9ab(0x52c)]][_0x22f9ab(0x57f)](_0x1aef92);}async[a0_0x5d3ab0(0xdd)](_0x42ecee,_0x3d587e){const _0xb13876=a0_0x5d3ab0;return await this[_0xb13876(0x30e)]['waInstances'][_0x42ecee[_0xb13876(0x52c)]][_0xb13876(0xdd)](_0x3d587e);}async['groupName'](_0x595018,_0x537bd5){const _0x3304df=a0_0x5d3ab0;return await this[_0x3304df(0x30e)]['waInstances'][_0x595018[_0x3304df(0x52c)]][_0x3304df(0x6b6)](_0x537bd5);}async[a0_0x5d3ab0(0x265)](_0x1b7e75,_0x12b3f4){const _0x1999a5=a0_0x5d3ab0;return await this[_0x1999a5(0x30e)]['waInstances'][_0x1b7e75[_0x1999a5(0x52c)]][_0x1999a5(0x265)](_0x12b3f4);}async[a0_0x5d3ab0(0x5db)](_0x573394,_0x1dfedc){const _0x1fe7b0=a0_0x5d3ab0;return await this['waMonitor'][_0x1fe7b0(0x465)][_0x573394[_0x1fe7b0(0x52c)]][_0x1fe7b0(0x5db)](_0x1dfedc);}async[a0_0x5d3ab0(0x644)](_0x40c193,_0x234da4){const _0x3135b3=a0_0x5d3ab0;return await this['waMonitor'][_0x3135b3(0x465)][_0x40c193[_0x3135b3(0x52c)]][_0x3135b3(0x5cf)](_0x234da4);}async['findGroups'](_0x568467){const _0x3239fa=a0_0x5d3ab0;return await this['waMonitor'][_0x3239fa(0x465)][_0x568467[_0x3239fa(0x52c)]][_0x3239fa(0x313)]();}async[a0_0x5d3ab0(0x504)](_0x1673c1,_0x19db4f){const _0x56f209=a0_0x5d3ab0;return await this[_0x56f209(0x30e)]['waInstances'][_0x1673c1['instanceName']][_0x56f209(0x504)](_0x19db4f);}async[a0_0x5d3ab0(0xb2)](_0x304fad,_0x3311c8){const _0x44d7ed=a0_0x5d3ab0;return await this[_0x44d7ed(0x30e)][_0x44d7ed(0x465)][_0x304fad[_0x44d7ed(0x52c)]][_0x44d7ed(0xb2)](_0x3311c8);}async[a0_0x5d3ab0(0x640)](_0x10ff37,_0xe50bb4){const _0x43980f=a0_0x5d3ab0;return await this[_0x43980f(0x30e)][_0x43980f(0x465)][_0x10ff37[_0x43980f(0x52c)]][_0x43980f(0x640)](_0xe50bb4);}async[a0_0x5d3ab0(0x618)](_0x2da303,_0x4edb8a){const _0x1e55a1=a0_0x5d3ab0;return await this[_0x1e55a1(0x30e)][_0x1e55a1(0x465)][_0x2da303[_0x1e55a1(0x52c)]][_0x1e55a1(0x618)](_0x4edb8a);}async[a0_0x5d3ab0(0x690)](_0x173dc8,_0x169706){const _0xec9cb1=a0_0x5d3ab0;return await this[_0xec9cb1(0x30e)]['waInstances'][_0x173dc8[_0xec9cb1(0x52c)]][_0xec9cb1(0x690)](_0x169706);}async['updateGParticipate'](_0x28ec22,_0x1381ea){const _0x283b0f=a0_0x5d3ab0;return await this['waMonitor'][_0x283b0f(0x465)][_0x28ec22['instanceName']][_0x283b0f(0x2ff)](_0x1381ea);}async['toggleEphemeral'](_0x9b1545,_0x33e5f7){const _0x139c01=a0_0x5d3ab0;return await this['waMonitor']['waInstances'][_0x9b1545[_0x139c01(0x52c)]][_0x139c01(0x15f)](_0x33e5f7);}async[a0_0x5d3ab0(0x191)](_0x30d194,_0x5f29bc){const _0x27e568=a0_0x5d3ab0;return await this[_0x27e568(0x30e)][_0x27e568(0x465)][_0x30d194[_0x27e568(0x52c)]][_0x27e568(0x191)](_0x5f29bc);}},Qt=class{constructor(_0x32e883){this['waMonitor']=_0x32e883;}[a0_0x5d3ab0(0xee)](_0x16a2ac,_0x5486fc){const _0x4a663b=a0_0x5d3ab0;return this[_0x4a663b(0x30e)]['waInstances'][_0x16a2ac[_0x4a663b(0x52c)]][_0x4a663b(0x55d)](_0x5486fc);}async[a0_0x5d3ab0(0x299)](_0x1d3bda){const _0x5276b7=a0_0x5d3ab0;try{return await this[_0x5276b7(0x30e)][_0x5276b7(0x465)][_0x1d3bda[_0x5276b7(0x52c)]][_0x5276b7(0x61c)]();}catch{return{'enabled':null,'url':''};}}},vp=new R('FlowController'),Yt=class{constructor(_0x4cab4f){const _0x485b56=a0_0x5d3ab0;this[_0x485b56(0x30e)]=_0x4cab4f;}async['editScheduleMessage'](_0x109086,_0x1987e4){const _0x443f6e=a0_0x5d3ab0;return await this[_0x443f6e(0x30e)]['waInstances'][_0x109086[_0x443f6e(0x52c)]][_0x443f6e(0x48d)](_0x1987e4);}async[a0_0x5d3ab0(0x256)](_0x309c95){const _0x331ce2=a0_0x5d3ab0;return await this[_0x331ce2(0x30e)][_0x331ce2(0x465)][_0x309c95[_0x331ce2(0x52c)]][_0x331ce2(0x256)]();}async['deleteDoneMessages'](_0x3c97dc){const _0x327b9a=a0_0x5d3ab0;return await this[_0x327b9a(0x30e)]['waInstances'][_0x3c97dc['instanceName']][_0x327b9a(0x751)]();}async[a0_0x5d3ab0(0x350)](_0x1bad37){const _0x233b9c=a0_0x5d3ab0;return await this[_0x233b9c(0x30e)]['waInstances'][_0x1bad37['instanceName']]['getAutomateSystem']();}async[a0_0x5d3ab0(0x2f9)](_0x4b2e5f,_0x45ab1d){const _0x4f6c5f=a0_0x5d3ab0;return await this[_0x4f6c5f(0x30e)][_0x4f6c5f(0x465)][_0x4b2e5f['instanceName']][_0x4f6c5f(0x2f9)](_0x45ab1d);}async[a0_0x5d3ab0(0x33c)](_0x39d804,_0xd8ad2d){const _0x43f266=a0_0x5d3ab0;return await this[_0x43f266(0x30e)]['waInstances'][_0x39d804[_0x43f266(0x52c)]]['updateCustomFields'](_0xd8ad2d);}async[a0_0x5d3ab0(0x594)](_0x19dd2d,_0x4ae418){const _0x24c728=a0_0x5d3ab0;return await this['waMonitor']['waInstances'][_0x19dd2d[_0x24c728(0x52c)]]['updateAutoCompleteMessages'](_0x4ae418);}async['updateFlowConfig'](_0x59092c,_0x3064fc){const _0x1e7252=a0_0x5d3ab0;return await this['waMonitor'][_0x1e7252(0x465)][_0x59092c[_0x1e7252(0x52c)]]['updateFlowConfig'](_0x3064fc);}async[a0_0x5d3ab0(0x663)](_0x220d4f,_0xc6ec31){const _0x3853f9=a0_0x5d3ab0;return await this['waMonitor']['waInstances'][_0x220d4f[_0x3853f9(0x52c)]][_0x3853f9(0x663)](_0xc6ec31);}async[a0_0x5d3ab0(0x5a1)](_0x1d1d21,_0x527c04,_0x878baa,_0xb0f89b){const _0xfe15bc=a0_0x5d3ab0;return await this[_0xfe15bc(0x30e)][_0xfe15bc(0x465)][_0x1d1d21]['startFlowWebhook'](_0x527c04,_0x878baa,_0xb0f89b);}async[a0_0x5d3ab0(0x533)](_0x364f60,_0x313746){const _0x4f1206=a0_0x5d3ab0;return await this[_0x4f1206(0x30e)][_0x4f1206(0x465)][_0x364f60['instanceName']]['getConversation'](_0x313746);}async[a0_0x5d3ab0(0x566)](_0x2b63d6,_0x5dbb0c){const _0x54307e=a0_0x5d3ab0;return await this[_0x54307e(0x30e)][_0x54307e(0x465)][_0x2b63d6[_0x54307e(0x52c)]][_0x54307e(0x566)](_0x5dbb0c);}async[a0_0x5d3ab0(0x606)](_0x4bd847,_0x58253a){const _0x396c7c=a0_0x5d3ab0;return await this[_0x396c7c(0x30e)][_0x396c7c(0x465)][_0x4bd847[_0x396c7c(0x52c)]]['editConversation'](_0x58253a);}async[a0_0x5d3ab0(0x14a)](_0xc1af56,_0x3baabe){const _0x1363a0=a0_0x5d3ab0;return await this[_0x1363a0(0x30e)][_0x1363a0(0x465)][_0xc1af56[_0x1363a0(0x52c)]][_0x1363a0(0x14a)](_0x3baabe);}async['getFlow'](_0x380af7,_0x347e5e){const _0x2cb8ea=a0_0x5d3ab0;return await this[_0x2cb8ea(0x30e)][_0x2cb8ea(0x465)][_0x380af7[_0x2cb8ea(0x52c)]]['getFlow'](_0x347e5e[_0x2cb8ea(0x26b)],_0x347e5e['global']);}async[a0_0x5d3ab0(0x3c7)](_0x229b99,_0x1ea83d,_0x4b0566){const _0x394cd8=a0_0x5d3ab0;return await this['waMonitor']['waInstances'][_0x229b99[_0x394cd8(0x52c)]]['createFlow'](_0x1ea83d,_0x4b0566);}async[a0_0x5d3ab0(0x409)](_0x4bbf63,_0x326ed7,_0x21d2b8){const _0x34bac0=a0_0x5d3ab0;return await this[_0x34bac0(0x30e)]['waInstances'][_0x4bbf63[_0x34bac0(0x52c)]]['editFlow'](_0x326ed7,_0x21d2b8);}async[a0_0x5d3ab0(0x6a5)](_0x148cfd,_0x5b2d35,_0x3515e8){const _0x4b1c98=a0_0x5d3ab0;return await this[_0x4b1c98(0x30e)][_0x4b1c98(0x465)][_0x148cfd[_0x4b1c98(0x52c)]]['editFlowBlock'](_0x5b2d35,_0x3515e8);}async[a0_0x5d3ab0(0x13a)](_0x54d696,_0x5f0c41,_0x42f01f){const _0x4a869c=a0_0x5d3ab0;return await this[_0x4a869c(0x30e)][_0x4a869c(0x465)][_0x54d696[_0x4a869c(0x52c)]][_0x4a869c(0x13a)](_0x5f0c41,_0x42f01f);}async[a0_0x5d3ab0(0x65a)](_0x44b97f,_0x5c0990,_0x2f340f){const _0x406b17=a0_0x5d3ab0;return await this[_0x406b17(0x30e)][_0x406b17(0x465)][_0x44b97f['instanceName']][_0x406b17(0x65a)](_0x5c0990,_0x2f340f);}async[a0_0x5d3ab0(0x1b7)](_0x4d742d,_0x508e2b,_0x3d0159){const _0x29dc80=a0_0x5d3ab0;return await this['waMonitor'][_0x29dc80(0x465)][_0x4d742d[_0x29dc80(0x52c)]]['editFlowCondition'](_0x508e2b,_0x3d0159);}async[a0_0x5d3ab0(0x296)](_0x587dff,_0x2f9473,_0x1400d2){const _0x11dc5d=a0_0x5d3ab0;return await this[_0x11dc5d(0x30e)][_0x11dc5d(0x465)][_0x587dff[_0x11dc5d(0x52c)]][_0x11dc5d(0x296)](_0x2f9473,_0x1400d2);}async[a0_0x5d3ab0(0xba)](_0x27b22d,_0x1e139f,_0x3056af){const _0x15c024=a0_0x5d3ab0;return await this[_0x15c024(0x30e)][_0x15c024(0x465)][_0x27b22d[_0x15c024(0x52c)]][_0x15c024(0xba)](_0x1e139f,_0x3056af);}async[a0_0x5d3ab0(0x642)](_0x3ecb26,_0xed0a0a,_0x22925e){const _0x47ce3e=a0_0x5d3ab0;return await this[_0x47ce3e(0x30e)]['waInstances'][_0x3ecb26[_0x47ce3e(0x52c)]][_0x47ce3e(0x642)](_0xed0a0a,_0x22925e);}async['allFlows'](_0x5d230c){const _0x558af2=a0_0x5d3ab0;return await this[_0x558af2(0x30e)][_0x558af2(0x465)][_0x5d230c[_0x558af2(0x52c)]][_0x558af2(0x64f)]();}},Xt=class{constructor(_0x2b5556){const _0x16659a=a0_0x5d3ab0;this[_0x16659a(0xbe)]=_0x2b5556;}async[a0_0x5d3ab0(0x3b6)](_0x12ef2e,_0x55a4c4){const _0x5a4ffa=a0_0x5d3ab0;return this['webhookService'][_0x5a4ffa(0xee)](_0x12ef2e,_0x55a4c4);}async[a0_0x5d3ab0(0x61c)](_0x2d4f88){const _0x272abd=a0_0x5d3ab0;return this[_0x272abd(0xbe)][_0x272abd(0x299)](_0x2d4f88);}},Zt=class extends x{constructor(_0x4c8359,_0x5bbb87){const _0x606152=a0_0x5d3ab0;super(_0x5bbb87),this[_0x606152(0x676)]=_0x4c8359,this['configService']=_0x5bbb87;}async[a0_0x5d3ab0(0xee)](_0x3144ca,_0x4602e0){const _0x372a67=a0_0x5d3ab0;try{return this[_0x372a67(0x17a)]['ENABLED']?{'insertCount':(await this['webhookModel'][_0x372a67(0x6ce)]({'_id':_0x4602e0},{..._0x3144ca},{'upsert':!0x0}))[_0x372a67(0x2a3)]}:{'insertCount':0x1};}catch(_0x5f4368){return _0x5f4368;}}async[a0_0x5d3ab0(0x4c9)](_0xc19a1f){const _0x17b7ac=a0_0x5d3ab0;try{if(this[_0x17b7ac(0x17a)][_0x17b7ac(0x1c0)]){await this[_0x17b7ac(0x676)][_0x17b7ac(0xda)]({'_id':_0xc19a1f});return;}}catch(_0x4b2e4f){return{'error':_0x4b2e4f};}}async[a0_0x5d3ab0(0x299)](_0xd275d8){const _0x4fb891=a0_0x5d3ab0;try{if(this[_0x4fb891(0x17a)][_0x4fb891(0x1c0)])return await this[_0x4fb891(0x676)]['findOne']({'_id':_0xd275d8});}catch{return{};}}},es=class extends x{constructor(_0x2256eb,_0xe7e0a7){const _0x4d813e=a0_0x5d3ab0;super(_0xe7e0a7),this[_0x4d813e(0x4da)]=_0x2256eb,this['configService']=_0xe7e0a7,this[_0x4d813e(0x2c8)]=_0xe7e0a7[_0x4d813e(0x2af)](_0x4d813e(0x3fe));}async[a0_0x5d3ab0(0xee)](_0x1ea52f,_0x52853d){const _0x1bb92a=a0_0x5d3ab0;try{if(this[_0x1bb92a(0x17a)][_0x1bb92a(0x1c0)])return{'insertCount':(await this['authModel'][_0x1bb92a(0x63f)]({'_id':_0x52853d},{'$set':{..._0x1ea52f}},{'upsert':!0x0}))[_0x1bb92a(0x2a3)]};}catch(_0x3b31a9){return{'error':_0x3b31a9};}}async[a0_0x5d3ab0(0x1e0)](_0x428a0a,_0x5d9fad){const _0x4173a1=a0_0x5d3ab0;try{if(this[_0x4173a1(0x17a)][_0x4173a1(0x1c0)])return{'insertCount':(await this[_0x4173a1(0x4da)][_0x4173a1(0x3d0)](_0x428a0a,{'$set':_0x5d9fad},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x4173a1(0x48a));}catch(_0x3c8828){return{'error':_0x3c8828};}}async[a0_0x5d3ab0(0x13e)](_0x65930b){const _0x1043a7=a0_0x5d3ab0;try{if(this[_0x1043a7(0x17a)][_0x1043a7(0x1c0)])return{'insertCount':(await this[_0x1043a7(0x4da)]['deleteMany'](_0x65930b))['deletedCount']};throw new Error(_0x1043a7(0x48a));}catch(_0x21d06d){return{'error':_0x21d06d};}}async[a0_0x5d3ab0(0x4c9)](_0x3b0966){const _0x230364=a0_0x5d3ab0;try{if(this['dbSettings'][_0x230364(0x1c0)]){await this[_0x230364(0x4da)]['deleteOne']({'_id':_0x3b0966});return;}}catch(_0x28d8af){return{'error':_0x28d8af};}}async[a0_0x5d3ab0(0x299)](_0x4a51f1){const _0x43dad7=a0_0x5d3ab0;try{if(this[_0x43dad7(0x17a)][_0x43dad7(0x1c0)])return await this['authModel'][_0x43dad7(0x639)]({'_id':_0x4a51f1});}catch{return{};}}async[a0_0x5d3ab0(0x185)](){const _0x2790df=a0_0x5d3ab0;try{if(this[_0x2790df(0x17a)]['ENABLED'])return await this['authModel'][_0x2790df(0x299)]();}catch{return[];}}},ts=class extends x{[a0_0x5d3ab0(0xe6)](_0x1ac1f9){return pa(_0x1ac1f9);}async[a0_0x5d3ab0(0x4c9)](_0x3bad12,_0x25e666){const _0x41f155=a0_0x5d3ab0;try{let _0x202e9e=this['getFlowModelForOwner'](_0x25e666),_0x599ec2=T(_0x3bad12[_0x41f155(0x37a)]);return{'deletedCount':(await _0x202e9e['deleteMany'](_0x599ec2))['deletedCount']};}catch(_0x2bdabd){return{'error':_0x2bdabd?.[_0x41f155(0x651)]()};}}async['deleteOne'](_0x29f464,_0x3e2691){const _0x18eb7f=a0_0x5d3ab0;try{let _0x344f8b=this['getFlowModelForOwner'](_0x3e2691),_0x11e489=T(_0x29f464['where']);return{'deletedCount':(await _0x344f8b['deleteOne'](_0x11e489))[_0x18eb7f(0x78a)]};}catch(_0x4f1e7c){return{'error':_0x4f1e7c?.[_0x18eb7f(0x651)]()};}}async['replaceOne'](_0x43a4d5,_0x4c7748,_0x3ac5d2){const _0x251a48=a0_0x5d3ab0;try{let _0x591105=await this[_0x251a48(0xe6)](_0x3ac5d2)['findByIdAndUpdate'](_0x43a4d5,_0x4c7748,{'overwrite':!0x0,'new':!0x0});return _0x591105||(console['error']('Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',_0x43a4d5),null);}catch(_0x5b4ecb){return console[_0x251a48(0x73d)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x5b4ecb),null;}}async[a0_0x5d3ab0(0x63f)](_0xde4cff,_0x4d29f4,_0x4ee0b0){const _0x4c0088=a0_0x5d3ab0;try{let _0x2666ee=await this[_0x4c0088(0xe6)](_0x4ee0b0)['findById'](_0xde4cff);return _0x2666ee?(Object[_0x4c0088(0x2bf)](_0x2666ee,_0x4d29f4),await _0x2666ee[_0x4c0088(0x575)]()):(console[_0x4c0088(0x73d)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0xde4cff),null);}catch(_0x41aafd){return console[_0x4c0088(0x73d)](_0x4c0088(0x48f),_0x41aafd),null;}}async[a0_0x5d3ab0(0x4f4)](_0x3102dd,_0x3026fe,_0x3101e0){const _0x7dd587=a0_0x5d3ab0;try{let _0xd2592=this[_0x7dd587(0xe6)](_0x3101e0),_0x91b8bc=await _0xd2592[_0x7dd587(0x32d)](_0x3102dd),_0x18f78b=await _0xd2592[_0x7dd587(0x63d)]({'_id':_0x3102dd},_0x3026fe,{'new':!0x0,'runValidators':!0x0});return _0x18f78b||(console[_0x7dd587(0x5a2)]('Documento\x20com\x20ID\x20'+_0x3102dd+_0x7dd587(0x754)+_0x3101e0+_0x7dd587(0x251)),null);}catch(_0x201d40){throw console['error'](_0x7dd587(0x180),_0x201d40),_0x201d40;}}async[a0_0x5d3ab0(0x3a5)](_0x465ce2){const _0x389dc7=a0_0x5d3ab0;try{let _0x53e529=this['getFlowModelForOwner'](_0x465ce2),_0x312b08={'shareOwners':{'$exists':!0x1}},_0x147c1f={'$set':{'shareOwners':[]}};return(await _0x53e529[_0x389dc7(0x3d0)](_0x312b08,_0x147c1f))[_0x389dc7(0x2a3)];}catch(_0x2c2a60){return console[_0x389dc7(0x73d)](_0x2c2a60),0x0;}}async['createAndSave'](_0x183d47,_0x354ac5){const _0x542d44=a0_0x5d3ab0;try{let _0xaadd72=this[_0x542d44(0xe6)](_0x354ac5);return await new _0xaadd72(_0x183d47)[_0x542d44(0x575)]();}catch(_0x59fbed){return console['error'](_0x542d44(0x123),_0x59fbed),null;}}async[a0_0x5d3ab0(0x3d0)](_0x1a093c,_0x4734bb,_0x23ecb1){const _0x43baab=a0_0x5d3ab0;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x23ecb1)[_0x43baab(0x3d0)](_0x1a093c,{'$set':_0x4734bb}))[_0x43baab(0x2a3)]};}catch(_0x209710){return console[_0x43baab(0x73d)]('Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:',_0x209710),{'error':_0x209710};}}async['findAll'](_0x327bea,_0x2c0377){const _0x1592d0=a0_0x5d3ab0;try{let _0x5cdd4e=this[_0x1592d0(0xe6)](_0x2c0377),_0x425ac7=T(_0x327bea[_0x1592d0(0x37a)]);return await _0x5cdd4e['find'](_0x425ac7)['limit'](_0x327bea?.[_0x1592d0(0x53f)]??0x0)[_0x1592d0(0xa1)]();}catch{return[];}}async[a0_0x5d3ab0(0x639)](_0x57a6d6,_0x290c64){const _0x561d19=a0_0x5d3ab0;try{let _0x10dadf=this[_0x561d19(0xe6)](_0x290c64),_0x565e93=T(_0x57a6d6[_0x561d19(0x37a)]);return await _0x10dadf['findOne'](_0x565e93)[_0x561d19(0xa1)]();}catch{return null;}}async['deleteAll'](_0x599e01){const _0x63f294=a0_0x5d3ab0;try{return await this['getFlowModelForOwner'](_0x599e01)['collection'][_0x63f294(0x369)](),{'success':!0x0};}catch(_0x59702c){return console['error'](_0x59702c),{'success':!0x1,'error':_0x59702c};}}},ss=class extends x{[a0_0x5d3ab0(0x557)](_0x39090a){return ha(_0x39090a);}async['insert'](_0x36eaa1){const _0x510066=a0_0x5d3ab0;if(_0x36eaa1[_0x510066(0x6d9)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x36eaa1[0x0][_0x510066(0x36e)])[_0x510066(0x1e1)]([..._0x36eaa1]))[_0x510066(0x6d9)]};}catch(_0x5ddc82){return _0x5ddc82;}}async[a0_0x5d3ab0(0x4c9)](_0x50852a,_0x7df73e){const _0x14c78f=a0_0x5d3ab0;try{let _0x407ad6=this['getConversationModelForOwner'](_0x7df73e),_0x769190=T(_0x50852a[_0x14c78f(0x37a)]);return{'deletedCount':(await _0x407ad6[_0x14c78f(0x13e)](_0x769190))[_0x14c78f(0x78a)]};}catch(_0x1fb256){return{'error':_0x1fb256?.[_0x14c78f(0x651)]()};}}async[a0_0x5d3ab0(0xda)](_0x507183,_0x4e7aed){const _0xf9ca75=a0_0x5d3ab0;try{let _0x28e486=this[_0xf9ca75(0x557)](_0x4e7aed),_0x493acd=T(_0x507183[_0xf9ca75(0x37a)]);return{'deletedCount':(await _0x28e486['deleteOne'](_0x493acd))['deletedCount']};}catch(_0x3f25e2){return{'error':_0x3f25e2?.[_0xf9ca75(0x651)]()};}}async['update'](_0x3ffba5,_0x4dd0da){const _0x3098f0=a0_0x5d3ab0;try{if(_0x3ffba5[_0x3098f0(0x6d9)]===0x0)return;let _0x2ed7e2=this['getConversationModelForOwner'](_0x4dd0da),_0xa3ae00=_0x3ffba5[_0x3098f0(0x2de)](_0x3650fd=>({'updateOne':{'filter':{'name':_0x3650fd[_0x3098f0(0x26b)],'owner':_0x4dd0da},'update':{..._0x3650fd}}})),{modifiedCount:_0x320593}=await _0x2ed7e2[_0x3098f0(0x3c2)](_0xa3ae00);return{'insertCount':_0x320593};}catch{return;}}async[a0_0x5d3ab0(0x3d0)](_0x1f3de1,_0x3ff052,_0x4495f8){const _0x4746cd=a0_0x5d3ab0;try{return{'modifiedCount':(await this[_0x4746cd(0x557)](_0x4495f8)[_0x4746cd(0x3d0)](_0x1f3de1,{'$set':_0x3ff052})['exec']())[_0x4746cd(0x2a3)]};}catch(_0x2d1c30){return console[_0x4746cd(0x73d)](_0x4746cd(0x791),_0x2d1c30),{'error':_0x2d1c30};}}async[a0_0x5d3ab0(0x63f)](_0x16fdd4,_0x14fa7c,_0x17bb36){const _0x3b94f3=a0_0x5d3ab0;try{return await this[_0x3b94f3(0x557)](_0x17bb36)['findOneAndUpdate']({'_id':_0x16fdd4},{'$set':_0x14fa7c},{'new':!0x0,'upsert':!0x0})[_0x3b94f3(0xa1)]();}catch(_0x392616){return console['error'](_0x392616),null;}}async[a0_0x5d3ab0(0x299)](_0x45dff3,_0x7a87b1){const _0x3a6f57=a0_0x5d3ab0;try{return await this[_0x3a6f57(0x557)](_0x7a87b1)['find'](_0x45dff3)[_0x3a6f57(0x6d6)]({'lastInteraction':-0x1})[_0x3a6f57(0xa1)]();}catch{return[];}}async[a0_0x5d3ab0(0x639)](_0x105cfe,_0x18e6fe){const _0x313a36=a0_0x5d3ab0;try{return await this[_0x313a36(0x557)](_0x18e6fe)[_0x313a36(0x639)]({..._0x105cfe[_0x313a36(0x37a)]})['lean']();}catch{return null;}}async['deleteAll'](_0x5ca43a){const _0x3ae427=a0_0x5d3ab0;try{return await this['getConversationModelForOwner'](_0x5ca43a)['collection'][_0x3ae427(0x369)](),{'success':!0x0};}catch(_0x4b5c5e){return console[_0x3ae427(0x73d)](_0x4b5c5e),{'success':!0x1,'error':_0x4b5c5e};}}},as=class extends x{[a0_0x5d3ab0(0x53b)](_0x41c512){return ga(_0x41c512);}async['createAndSave'](_0x3e9055,_0x14b7ac){const _0x294904=a0_0x5d3ab0;try{let _0x5941f8=this[_0x294904(0x53b)](_0x14b7ac);return await new _0x5941f8(_0x3e9055)['save']();}catch(_0x1d0623){return console[_0x294904(0x73d)](_0x294904(0x123),_0x1d0623),null;}}async[a0_0x5d3ab0(0xda)](_0x5ca947,_0x1472c6){const _0x1f6ac7=a0_0x5d3ab0;try{return await this[_0x1f6ac7(0x53b)](_0x1472c6)[_0x1f6ac7(0x5b5)](_0x5ca947),{};}catch(_0x9f9546){return{'error':_0x9f9546?.[_0x1f6ac7(0x651)]()};}}async['updateOne'](_0x21a1e7,_0x19c95d,_0x2978d4){const _0x218730=a0_0x5d3ab0;try{return await this[_0x218730(0x53b)](_0x2978d4)[_0x218730(0x63d)](_0x21a1e7,{'$set':_0x19c95d},{'new':!0x0})[_0x218730(0xa1)]();}catch(_0x173a81){return console[_0x218730(0x73d)](_0x218730(0x3f3),_0x173a81),null;}}async[a0_0x5d3ab0(0x5c7)](_0x4a7528,_0x13e3cf,_0x35d7bf){const _0x19dbe1=a0_0x5d3ab0;try{return await this['getScheduleMessageModelForOwner'](_0x35d7bf)[_0x19dbe1(0xa7)](_0x4a7528,_0x13e3cf,{'new':!0x0})[_0x19dbe1(0xa1)]();}catch(_0x4159cf){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x4159cf),null;}}async[a0_0x5d3ab0(0x299)](_0xeb1c17,_0x56f606){const _0x28ed6b=a0_0x5d3ab0;try{return await this[_0x28ed6b(0x53b)](_0x56f606)[_0x28ed6b(0x299)](_0xeb1c17[_0x28ed6b(0x37a)])[_0x28ed6b(0x53f)](_0xeb1c17?.[_0x28ed6b(0x53f)]??0x0)[_0x28ed6b(0x6d6)]({'when':0x1})[_0x28ed6b(0xa1)]();}catch{return[];}}async[a0_0x5d3ab0(0x639)](_0xad9d70,_0x51c519){const _0x5054f3=a0_0x5d3ab0;try{return await this[_0x5054f3(0x53b)](_0x51c519)[_0x5054f3(0x639)](_0xad9d70[_0x5054f3(0x37a)])['sort']({'when':0x1})[_0x5054f3(0xa1)]();}catch{return null;}}async[a0_0x5d3ab0(0x32d)](_0x169b66,_0x563ed9){const _0xb5ea62=a0_0x5d3ab0;try{return await this[_0xb5ea62(0x53b)](_0x563ed9)[_0xb5ea62(0x32d)](_0x169b66)[_0xb5ea62(0xa1)]();}catch{return null;}}async[a0_0x5d3ab0(0x13e)](_0x26b763,_0x3e7cd8){const _0x51da23=a0_0x5d3ab0;try{return{'deletedCount':(await this[_0x51da23(0x53b)](_0x3e7cd8)[_0x51da23(0x13e)](_0x26b763))[_0x51da23(0x78a)]};}catch(_0x44dcd8){return console[_0x51da23(0x73d)](_0x51da23(0x441),_0x44dcd8),{'error':_0x44dcd8};}}async['deleteAll'](_0x459c87){const _0x16bcd2=a0_0x5d3ab0;try{return await this['getScheduleMessageModelForOwner'](_0x459c87)['collection'][_0x16bcd2(0x369)](),{'success':!0x0};}catch(_0x39e9de){return console[_0x16bcd2(0x73d)](_0x39e9de),{'success':!0x1,'error':_0x39e9de};}}},os=class extends x{async[a0_0x5d3ab0(0x2bc)](_0x16e93b,_0x48e417){const _0x162ee0=a0_0x5d3ab0;try{if(this[_0x162ee0(0x17a)][_0x162ee0(0x1c0)]){let _0x5ebcc6=await ve[_0x162ee0(0x63d)]({'_id':_0x48e417},{'$set':_0x16e93b},{'new':!0x0});return console[_0x162ee0(0x5a2)](_0x162ee0(0x60f),_0x5ebcc6),_0x5ebcc6;}}catch(_0x292fa6){throw console['error'](_0x162ee0(0x520),_0x292fa6),_0x292fa6;}}async[a0_0x5d3ab0(0x219)](_0x3c4f3f){const _0x1e7e77=a0_0x5d3ab0;try{let _0x4c59cf=await ve[_0x1e7e77(0x32d)](_0x3c4f3f);return _0x4c59cf?_0x4c59cf[_0x1e7e77(0x5de)]||(_0x4c59cf[_0x1e7e77(0x5de)]=[],await _0x4c59cf[_0x1e7e77(0x575)]()):(_0x4c59cf=new ve({'_id':_0x3c4f3f,'autoCompleteMessages':[]}),await _0x4c59cf['save']()),_0x4c59cf;}catch(_0x59b7a7){return _0x59b7a7[_0x1e7e77(0x1a8)]===0x2af8&&_0x59b7a7['keyPattern']&&_0x59b7a7[_0x1e7e77(0x93)]['autoCompleteMessages.command']?(console[_0x1e7e77(0x73d)](_0x1e7e77(0x415)),await ve['collection'][_0x1e7e77(0x1cd)]('autoCompleteMessages.command_1'),null):(console['error'](_0x1e7e77(0x4d2),_0x59b7a7),null);}}},Oi=new R(a0_0x5d3ab0(0x693)),Ti=new We(b),Ii=new qt(b),xi=new ot(b),Di=new Vt(ea,b),_i=new Zt(na,b),Pi=new es(oa,b),ki=new ts(b),ji=new Gt(b),Li=new ss(b),Fi=new as(b),Ji=new os(b),de=new Ge(Ti,Ii,xi,Di,_i,Pi,ki,Li,ji,Fi,Ji,$?.[a0_0x5d3ab0(0x361)]()),G=new Ut(us,b,de),Ui=new Ht(b,G,de),qi=new Qt(G),Cs=new Xt(qi),A=new Yt(G),ce=new Wt(G,b,de,us,Ui),B=new zt(G),P=new Bt(G),q=new Kt(G);Oi['info'](a0_0x5d3ab0(0x770));var Uh=require(a0_0x5d3ab0(0x56e)),ks=require('fs'),$o=O(require('https')),Ao=O(require(a0_0x5d3ab0(0x3a3))),_e=class c{static #e;static set[a0_0x5d3ab0(0x51f)](_0x5e6fda){this.#e=_0x5e6fda;}static get['https'](){const _0x14a2ab=a0_0x5d3ab0;let {FULLCHAIN:_0x304bd3,PRIVKEY:_0x1d01a1}=b[_0x14a2ab(0x2af)](_0x14a2ab(0x426));return $o[_0x14a2ab(0x366)]({'cert':(0x0,ks[_0x14a2ab(0x72b)])(_0x304bd3),'key':(0x0,ks['readFileSync'])(_0x1d01a1)},c.#e);}static get[a0_0x5d3ab0(0x3a3)](){const _0x34cb35=a0_0x5d3ab0;return Ao[_0x34cb35(0x366)](c.#e);}},he=O(require('fs')),_o=O(require(a0_0x5d3ab0(0x288))),Pe=O(require(a0_0x5d3ab0(0x761))),je=O(require(a0_0x5d3ab0(0x4c3))),Le=require('child_process');function Vi(){const _0x4974f8=a0_0x5d3ab0;G[_0x4974f8(0x1e5)]();let _0xd5ff74=je[_0x4974f8(0x4de)][_0x4974f8(0x438)](__dirname,_0x4974f8(0x276));Do(_0xd5ff74);}var Do=_0xcaf86e=>{const _0xd39930=a0_0x5d3ab0;let _0x3187c7=he['default'][_0xd39930(0x37f)](_0xcaf86e),_0x5da964=0xc*0x3c*0x3c*0x3e8,_0x57c824=0x2*0x3c*0x3c*0x3e8,_0x3036be=new Date()[_0xd39930(0x87)]();_0x3187c7[_0xd39930(0x394)](_0x578aa8=>{const _0x2e07c3=_0xd39930;let _0x439563=je[_0x2e07c3(0x4de)]['join'](_0xcaf86e,_0x578aa8),_0x245677=he[_0x2e07c3(0x4de)]['statSync'](_0x439563)[_0x2e07c3(0xa6)][_0x2e07c3(0x87)]();_0x3036be-_0x245677>_0x5da964&&(he[_0x2e07c3(0x4de)][_0x2e07c3(0x5a3)](_0x439563),console[_0x2e07c3(0x5a2)](_0x2e07c3(0x220)+_0x578aa8));}),setTimeout(()=>Do(_0xcaf86e),_0x57c824);};function Gi(){const _0x1115bd=a0_0x5d3ab0;let _0x28ef33=new R(_0x1115bd(0x40e)),_0x35fd8a=(0x0,ge[_0x1115bd(0x4de)])();_0x35fd8a[_0x1115bd(0x68d)]((0x0,xo[_0x1115bd(0x4de)])({'origin'(_0x4c8832,_0x44d69d){const _0x1ec168=_0x1115bd;let {ORIGIN:_0x52218d}=b[_0x1ec168(0x2af)]('CORS');return _0x4c8832||(_0x4c8832='*'),_0x52218d['indexOf']('*')!==-0x1||_0x52218d['indexOf'](_0x4c8832)!==-0x1?_0x44d69d(null,!0x0):_0x44d69d(new Error(_0x1ec168(0x294)));},'methods':[...b[_0x1115bd(0x2af)](_0x1115bd(0x737))[_0x1115bd(0x474)]],'credentials':b[_0x1115bd(0x2af)]('CORS')[_0x1115bd(0x201)]}),(0x0,ge[_0x1115bd(0x41e)])({'extended':!0x0,'limit':_0x1115bd(0x52b)}),(0x0,ge[_0x1115bd(0x310)])({'limit':_0x1115bd(0x52b)})),_0x35fd8a[_0x1115bd(0x68d)]((_0x111245,_0x187cad,_0x3a2456)=>{const _0x3d76e6=_0x1115bd;_0x111245[_0x3d76e6(0x4c3)][_0x3d76e6(0x5af)](_0x3d76e6(0x32e))?_0x3a2456():(0x0,Io[_0x3d76e6(0x4de)])()(_0x111245,_0x187cad,_0x3a2456);}),_0x35fd8a['set'](_0x1115bd(0x63c),_0x1115bd(0x402)),_0x35fd8a[_0x1115bd(0x58d)](_0x1115bd(0x344),(0x0,Ls[_0x1115bd(0x438)])(ne,'views')),_0x35fd8a[_0x1115bd(0x68d)](ge[_0x1115bd(0x4de)][_0x1115bd(0x446)]((0x0,Ls['join'])(ne,_0x1115bd(0x6dc)))),_0x35fd8a['use']((_0x1ad413,_0xcdaff8,_0x16d180)=>{const _0x50df8d=_0x1115bd;let _0x2c9573=_0xcdaff8[_0x50df8d(0x100)];_0xcdaff8[_0x50df8d(0x100)]=function(_0xa3d2e4){const _0x8025a0=_0x50df8d;if(_0x1ad413[_0x8025a0(0x3a8)][_0x8025a0(0x49e)]===_0x8025a0(0x4a0)||_0x1ad413['headers'][_0x8025a0(0x20a)]===_0x8025a0(0x4a0)){let _0x577c7e=JSON[_0x8025a0(0x396)](_0xa3d2e4);_0xa3d2e4=JSON[_0x8025a0(0x61a)](_0x4dab92(_0x577c7e));}return _0x2c9573[_0x8025a0(0x8f)](_0xcdaff8,[_0xa3d2e4]);},_0x16d180();}),_0x35fd8a[_0x1115bd(0x68d)]('/',Ie),_0x35fd8a[_0x1115bd(0x68d)]((_0x2dcb6f,_0x139aa6,_0xe71cf9,_0x17f760)=>{const _0x25f3d2=_0x1115bd;if(_0x2dcb6f)return _0xe71cf9['status'](_0x2dcb6f['status']||0x1f4)[_0x25f3d2(0x310)](_0x2dcb6f);},(_0x196116,_0x576ec7,_0x283fb0)=>{const _0x2ef492=_0x1115bd;let {method:_0x53ac19,url:_0x477073}=_0x196116;_0x576ec7[_0x2ef492(0x489)](0x194)[_0x2ef492(0x310)]({'status':0x194,'message':_0x2ef492(0x24c)+_0x53ac19[_0x2ef492(0x343)]()+'\x20'+_0x477073,'error':'Not\x20Found'}),_0x283fb0();});let _0x4dab92=(_0x16064f,_0x4d7c47='_p_')=>{const _0x394e07=_0x1115bd;let _0x43cd0a=(_0x21075a,_0x450e57=null,_0x1189f1=!0x1)=>{const _0xbbc4d1=a0_0xf130;let _0x3049f6={};return Object[_0xbbc4d1(0x43f)](_0x21075a)[_0xbbc4d1(0x394)](_0x136538=>{const _0x535770=_0xbbc4d1;let _0x14599f=_0x21075a[_0x136538],_0x1ed20a=''+_0x4d7c47+_0x136538;_0x450e57&&!_0x1189f1&&(_0x1ed20a=_0x450e57+'.'+_0x136538),!_0x14599f&&_0x14599f!==0x0&&_0x14599f!==!0x1||typeof _0x14599f>'u'?_0x3049f6[_0x1ed20a]=null:typeof _0x14599f!='object'&&!Array[_0x535770(0x577)](_0x14599f)?_0x3049f6[_0x1ed20a]=_0x14599f:typeof _0x14599f=='object'&&!Array[_0x535770(0x577)](_0x14599f)?_0x3049f6=Object[_0x535770(0x2bf)](_0x3049f6,_0x43cd0a(_0x14599f,_0x1ed20a)):Array[_0x535770(0x577)](_0x14599f)&&(typeof _0x14599f[0x0]==_0x535770(0x696)?(_0x3049f6[_0x1ed20a]=[],_0x14599f[_0x535770(0x394)](_0x30658f=>{_0x3049f6[_0x1ed20a]['push'](_0x43cd0a(_0x30658f,_0x1ed20a,!0x0));})):_0x3049f6[_0x1ed20a]=_0x14599f);}),_0x3049f6;};return Array[_0x394e07(0x577)](_0x16064f)?_0x16064f['map'](_0x29d7db=>_0x43cd0a(_0x29d7db)):typeof _0x16064f=='object'&&_0x16064f!==null?_0x43cd0a(_0x16064f):{};},_0xd2509e=b[_0x1115bd(0x2af)](_0x1115bd(0x40e));_e[_0x1115bd(0x51f)]=_0x35fd8a;let _0x6fe736=_e[_0xd2509e[_0x1115bd(0x5b0)]],_0x190a64=_0x1115bd(0x302);_0x6fe736[_0x1115bd(0x2dd)](_0xd2509e[_0x1115bd(0x26c)],()=>{const _0x5f2707=_0x1115bd;_0x28ef33[_0x5f2707(0x5a2)](_0x190a64),_0x28ef33['log'](_0xd2509e['TYPE'][_0x5f2707(0x343)]()+_0x5f2707(0x324)+_0xd2509e[_0x5f2707(0x26c)]);}),Vi(),Hs();}var Bi=a0_0x5d3ab0(0x624),Wi=je['default'][a0_0x5d3ab0(0x438)](__dirname,a0_0x5d3ab0(0x11b)),ke=null;function zi(){return new Promise((_0x5867bf,_0x3f0367)=>{const _0x7d3588=a0_0xf130;he[_0x7d3588(0x4de)]['readFile'](Wi,'utf-8',(_0x491bfd,_0x3098fc)=>{const _0x278b2a=_0x7d3588;if(_0x491bfd){ke=_0x491bfd,_0x5867bf();return;}_o[_0x278b2a(0x4de)][_0x278b2a(0x396)](_0x3098fc)['remote\x20\x22origin\x22'][_0x278b2a(0x1f6)]===Bi?(ke=null,_0x5867bf()):(ke=new Error(_0x278b2a(0x719)),_0x5867bf());});});}async function Hi(){const _0x38c98e=a0_0x5d3ab0;try{await zi(),await Fs();}catch(_0x4bc7bc){console[_0x38c98e(0x73d)](_0x38c98e(0x601)+_0x4bc7bc),process[_0x38c98e(0x16a)](0x1);}}function a0_0xf130(_0x514bd7,_0xec4537){const _0x256af3=a0_0x256a();return a0_0xf130=function(_0xf13015,_0x2824b0){_0xf13015=_0xf13015-0x86;let _0x2fbcee=_0x256af3[_0xf13015];return _0x2fbcee;},a0_0xf130(_0x514bd7,_0xec4537);}Hi();async function Po(){const _0x37659c=a0_0x5d3ab0;let _0x41b009;try{_0x41b009=(await Pe[_0x37659c(0x4de)]['get'](_0x37659c(0x331)))[_0x37659c(0x634)]['ip'];}catch(_0x3ac177){console['error'](_0x3ac177);try{_0x41b009=(await Pe[_0x37659c(0x4de)][_0x37659c(0x2af)](_0x37659c(0x481)))[_0x37659c(0x634)]['ip'];}catch(_0x266dce){console['error'](_0x266dce);try{_0x41b009=(await Pe[_0x37659c(0x4de)][_0x37659c(0x2af)](_0x37659c(0x374)))[_0x37659c(0x634)][_0x37659c(0x4c1)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x47414c){return console['error'](_0x47414c),!0x1;}}}return _0x41b009;}var Oo=0x0;async function Ki(){const _0x149cdf=a0_0x5d3ab0;let _0x49a977=await new le(b[_0x149cdf(0x2af)](_0x149cdf(0x6a3)))[_0x149cdf(0x6ae)]();return console[_0x149cdf(0x5a2)](_0x149cdf(0x2bb),_0x49a977[_0x149cdf(0x6d9)]),_0x49a977[_0x149cdf(0x6d9)];}function Qi(_0x1f5b66){const _0x45ecd9=a0_0x5d3ab0;let _0x37510e=_0x1f5b66[_0x45ecd9(0x2af)](_0x45ecd9(0x40e))['URL'],_0x2d2b72=_0x1f5b66[_0x45ecd9(0x2af)](_0x45ecd9(0x426)),_0x3da417;if(_0x37510e){let _0x375981=_0x37510e['match'](/\/\/(.*?)\./);_0x375981&&_0x375981[0x1]&&(_0x3da417=_0x375981[0x1]);}if(!_0x3da417&&_0x2d2b72&&_0x2d2b72[_0x45ecd9(0x4c7)]){let _0x1f2f96=_0x2d2b72[_0x45ecd9(0x4c7)][_0x45ecd9(0x4f7)]('/'),_0x1d1574=_0x1f2f96[_0x1f2f96[_0x45ecd9(0x6d9)]-0x2];if(_0x1d1574){let _0x39c1dc=_0x1d1574[_0x45ecd9(0x4f7)]('.');_0x39c1dc[_0x45ecd9(0x6d9)]>0x2&&(_0x3da417=_0x39c1dc[0x0]);}}return _0x3da417;}var Ds=Qi(b);async function Yi(){const _0x338deb=a0_0x5d3ab0;let _0x4f226d=b[_0x338deb(0x2af)](_0x338deb(0x6a3)),_0x20b25c=b[_0x338deb(0x2af)]('AUTHENTICATION')[_0x338deb(0x551)]['KEY'],_0x3bb479=b['get'](_0x338deb(0x426)),_0x1f9bb8=await Po(),_0x4176b3=b['get'](_0x338deb(0x40e))[_0x338deb(0x26c)],_0x4bfcef=b[_0x338deb(0x2af)]('SERVER')[_0x338deb(0x1c6)];try{let _0x167dde={'ip':_0x1f9bb8||null,'redis_enable':_0x4f226d?.[_0x338deb(0x1c0)]||null,'apikey':_0x20b25c||null,'ssl':_0x3bb479?.['PRIVKEY']||null,'lastupdate':ko||null,'port':_0x4176b3||null,'gitInstallError':ke?.['message']||null,'url':_0x4bfcef||null};if(console[_0x338deb(0x5a2)]('ip:\x20',_0x167dde['ip']),_0x4f226d&&_0x4f226d[_0x338deb(0x1c0)]){let _0x18201f=await Ki();_0x167dde[_0x338deb(0x4a4)]=_0x18201f||null;}for(let _0x1fbfb7 in _0x167dde)_0x167dde['hasOwnProperty'](_0x1fbfb7)&&_0x1fbfb7!=='ip'&&(_0x167dde[_0x1fbfb7]=JSON[_0x338deb(0x61a)](_0x167dde[_0x1fbfb7]));return(await Pe['default']['post']('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x167dde))[_0x338deb(0x634)];}catch(_0x608d65){return console[_0x338deb(0x73d)](_0x608d65),!0x1;}}var js=!0x1,ko=0x241,Xi=0x3,To=0x1b7740;async function Fs(){const _0x4f79b2=a0_0x5d3ab0;if(!await Po())return console[_0x4f79b2(0x73d)](_0x4f79b2(0x5f7)),_0x4f79b2(0x68b);let _0x2f6878=await Yi();if(_0x2f6878){if(_0x2f6878[_0x4f79b2(0x9f)][_0x4f79b2(0x345)]===!0x0){let _0x402d23=b[_0x4f79b2(0x2af)](_0x4f79b2(0x426)),_0xde8c40=b[_0x4f79b2(0x2af)]('SERVER')[_0x4f79b2(0x1c6)];_0x402d23&&_0x402d23?.[_0x4f79b2(0x25b)]?.[_0x4f79b2(0x5c5)](_0x4f79b2(0x5c1))&&_0x2f6878[_0x4f79b2(0x9f)]['subdomain']&&!_0xde8c40&&(await tr(_0x2f6878[_0x4f79b2(0x9f)]['subdomain'],er),await sr(_0x4f79b2(0x392),_0x2f6878['response'][_0x4f79b2(0x3ae)]),console[_0x4f79b2(0x5a2)](_0x4f79b2(0x298)),setTimeout(()=>or(),0x2710)),ke===null&&_0x2f6878['response'][_0x4f79b2(0x597)]-ko>0x0&&await Zi(),js||(js=!0x0,Gi());let _0x32c5a0=0x24*0x3c*0x3c,_0x10c3b2=_0x2f6878[_0x4f79b2(0x9f)]['segundos']>_0x32c5a0?_0x32c5a0:_0x2f6878[_0x4f79b2(0x9f)][_0x4f79b2(0x3ad)],_0x2c2a1c=Number(_0x10c3b2);if(isNaN(_0x2c2a1c)){console[_0x4f79b2(0x73d)](_0x4f79b2(0x281));return;}let _0x2c1482=Math[_0x4f79b2(0x227)](_0x2c2a1c/0xe10),_0x3056a5=Math['floor'](_0x2c2a1c%0xe10/0x3c),_0x400ccc=new Date(Date[_0x4f79b2(0x10f)]()+_0x2c2a1c*0x3e8);setTimeout(Fs,_0x2c2a1c*0x3e8);let _0x297e34=_0x4d1f8c=>_0x4d1f8c['toString']()[_0x4f79b2(0x5eb)](0x2,'0'),_0x4d4fac='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x297e34(_0x2c1482)+_0x4f79b2(0x91)+_0x297e34(_0x3056a5)+_0x4f79b2(0x1f7)+_0x297e34(_0x400ccc[_0x4f79b2(0x4cb)]())+':'+_0x297e34(_0x400ccc[_0x4f79b2(0x573)]())+'.';console[_0x4f79b2(0x5a2)](_0x4d4fac);}else return console[_0x4f79b2(0x5a2)](_0x4f79b2(0x732)),js&&(console[_0x4f79b2(0x5a2)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process['exit']()),_0x4f79b2(0x21d);}else{if(Oo++,Oo<Xi)console[_0x4f79b2(0x5a2)](_0x4f79b2(0x6cb)+To/0xea60+'\x20minutos...'),setTimeout(Fs,To);else return console[_0x4f79b2(0x73d)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),'SERVER_OFFLINE';}}async function Zi(){const _0x2543cd=a0_0x5d3ab0;console['log'](_0x2543cd(0x29d));let _0x19f085=(0x0,Le[_0x2543cd(0x51c)])(_0x2543cd(0x482),{'shell':!0x0});_0x19f085[_0x2543cd(0x66d)]['on'](_0x2543cd(0x634),_0x394fe0=>{const _0x3ed93f=_0x2543cd;console[_0x3ed93f(0x5a2)](_0x3ed93f(0x468)+_0x394fe0);}),_0x19f085['stderr']['on'](_0x2543cd(0x634),_0x56711c=>{const _0x19e10e=_0x2543cd;console[_0x19e10e(0x73d)](_0x19e10e(0x2f6)+_0x56711c);}),_0x19f085['on'](_0x2543cd(0x16a),_0x443552=>{const _0x58e06e=_0x2543cd;_0x443552!==0x0?console[_0x58e06e(0x73d)](_0x58e06e(0x734)+_0x443552):console['log']('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x58e06e(0x5a2)](_0x58e06e(0x280)),setTimeout(()=>process['exit'](),0x2710);});}var er=je[a0_0x5d3ab0(0x4de)][a0_0x5d3ab0(0x438)](__dirname,a0_0x5d3ab0(0x724));async function tr(_0x35fcee,_0x1412c7){const _0x2ed704=a0_0x5d3ab0;let _0x1131f1=ar();_0x35fcee=_0x35fcee[_0x2ed704(0x143)](_0x2ed704(0x611),'');try{let _0x1847e4=he[_0x2ed704(0x4de)][_0x2ed704(0x72b)](_0x1412c7,_0x2ed704(0xb4));_0x1847e4=_0x1847e4[_0x2ed704(0x143)](/<apikey>/,_0x1131f1),_0x1847e4=_0x1847e4[_0x2ed704(0x143)](/<subdomain>/g,_0x35fcee),he[_0x2ed704(0x4de)]['writeFileSync'](_0x1412c7,_0x1847e4,_0x2ed704(0xb4)),console[_0x2ed704(0x5a2)](_0x2ed704(0x5b6));}catch(_0xaa55ff){console['error'](_0x2ed704(0x30c),_0xaa55ff);}}function sr(_0x213012,_0x2dc649){return new Promise((_0x519f67,_0x2c1d66)=>{const _0x29fff9=a0_0xf130;let _0x35cc5d=(0x0,Le[_0x29fff9(0x51c)])(_0x29fff9(0x30d),[_0x29fff9(0xf2),_0x29fff9(0x145),'-m',_0x213012,_0x29fff9(0x72f),'-d',_0x2dc649]);_0x35cc5d[_0x29fff9(0x66d)]['on'](_0x29fff9(0x634),_0x4257aa=>{const _0x272b15=_0x29fff9;console[_0x272b15(0x5a2)](_0x272b15(0x4dd)+_0x4257aa[_0x272b15(0x651)]());}),_0x35cc5d['stderr']['on'](_0x29fff9(0x634),_0x224702=>{const _0x4875d4=_0x29fff9;console[_0x4875d4(0x73d)](_0x4875d4(0x5e3)+_0x224702['toString']());}),_0x35cc5d['on'](_0x29fff9(0x452),_0x2cec40=>{const _0x462982=_0x29fff9;_0x2cec40!==0x0?(console[_0x462982(0x73d)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x2cec40),_0x2c1d66('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x2cec40)):(console[_0x462982(0x5a2)](_0x462982(0x75a)),_0x519f67());});});}function ar(_0x51098c=0x32){const _0x24f8d4=a0_0x5d3ab0;let _0x1dfa61=_0x24f8d4(0x57a),_0xb8153e='';for(let _0x5f0efc=0x0;_0x5f0efc<_0x51098c;_0x5f0efc++)_0xb8153e+=_0x1dfa61[_0x24f8d4(0x240)](Math[_0x24f8d4(0x227)](Math[_0x24f8d4(0x6e3)]()*_0x1dfa61[_0x24f8d4(0x6d9)]));return _0xb8153e;}function or(){const _0x30f867=a0_0x5d3ab0;(0x0,Le[_0x30f867(0x4ed)])('shutdown\x20-r\x20now',(_0x5af6a7,_0x456fd6,_0x577b22)=>{const _0x26325f=_0x30f867;if(_0x5af6a7){console[_0x26325f(0x73d)](_0x26325f(0x699)+_0x5af6a7);return;}if(_0x577b22){console[_0x26325f(0x73d)]('Erro\x20de\x20reinicialização:\x20'+_0x577b22);return;}console[_0x26325f(0x5a2)]('Reinicialização\x20iniciada:\x20'+_0x456fd6);});}0x0&&(module['exports']={'subdomain':subdomain});