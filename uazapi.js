const a0_0xad378c=a0_0x4c1f;(function(_0xa77b5f,_0x5dda6b){const _0xe314c2=a0_0x4c1f,_0x4d0be6=_0xa77b5f();while(!![]){try{const _0x37aba3=-parseInt(_0xe314c2(0x500))/0x1*(parseInt(_0xe314c2(0x893))/0x2)+-parseInt(_0xe314c2(0x17c))/0x3+parseInt(_0xe314c2(0x590))/0x4+parseInt(_0xe314c2(0x884))/0x5+-parseInt(_0xe314c2(0x615))/0x6+parseInt(_0xe314c2(0x828))/0x7+-parseInt(_0xe314c2(0x3ff))/0x8*(-parseInt(_0xe314c2(0x33f))/0x9);if(_0x37aba3===_0x5dda6b)break;else _0x4d0be6['push'](_0x4d0be6['shift']());}catch(_0x5ca5f7){_0x4d0be6['push'](_0x4d0be6['shift']());}}}(a0_0x54a0,0xba3a3));var qi=Object[a0_0xad378c(0x386)],qe=Object[a0_0xad378c(0x2e1)],Vi=Object[a0_0xad378c(0x2ea)],Gi=Object[a0_0xad378c(0x610)],Bi=Object[a0_0xad378c(0x6e0)],Wi=Object['prototype'][a0_0xad378c(0x6ba)],zi=(_0x487dea,_0xf3aab5)=>{for(var _0x2a477c in _0xf3aab5)qe(_0x487dea,_0x2a477c,{'get':_0xf3aab5[_0x2a477c],'enumerable':!0x0});},qs=(_0x48aea1,_0x4b9bd9,_0x31569d,_0x264199)=>{const _0x26c02f=a0_0xad378c;if(_0x4b9bd9&&typeof _0x4b9bd9=='object'||typeof _0x4b9bd9==_0x26c02f(0x855)){for(let _0x183259 of Gi(_0x4b9bd9))!Wi[_0x26c02f(0x76e)](_0x48aea1,_0x183259)&&_0x183259!==_0x31569d&&qe(_0x48aea1,_0x183259,{'get':()=>_0x4b9bd9[_0x183259],'enumerable':!(_0x264199=Vi(_0x4b9bd9,_0x183259))||_0x264199[_0x26c02f(0x207)]});}return _0x48aea1;},I=(_0x3a6e3a,_0x51bdfa,_0x31d68b)=>(_0x31d68b=_0x3a6e3a!=null?qi(Bi(_0x3a6e3a)):{},qs(_0x51bdfa||!_0x3a6e3a||!_0x3a6e3a[a0_0xad378c(0x6ed)]?qe(_0x31d68b,a0_0xad378c(0x7c4),{'value':_0x3a6e3a,'enumerable':!0x0}):_0x31d68b,_0x3a6e3a)),Hi=_0x22c013=>qs(qe({},a0_0xad378c(0x6ed),{'value':!0x0}),_0x22c013),cr={};zi(cr,{'fullURL':()=>Js,'subdomain':()=>B}),module['exports']=Hi(cr);var ki=I(require(a0_0xad378c(0x54b))),Gs=require('fs'),Bs=require(a0_0xad378c(0x6a5)),Ws=require(a0_0xad378c(0x50f)),Ve=require(a0_0xad378c(0x50f)),ce=process[a0_0xad378c(0x1a8)](),Se=(0x0,Ve[a0_0xad378c(0x6b9)])(ce,a0_0xad378c(0x4ed)),Vs=(0x0,Ve['join'])(ce,a0_0xad378c(0x815)),ln=(0x0,Ve[a0_0xad378c(0x6b9)])(ce,a0_0xad378c(0x60d),a0_0xad378c(0x89f)),ls=class{constructor(){const _0x3a9b57=a0_0xad378c;this[_0x3a9b57(0x293)]();}[a0_0xad378c(0x1ff)](_0x3c7888){return this['env'][_0x3c7888];}[a0_0xad378c(0x293)](){const _0x175411=a0_0xad378c;this[_0x175411(0x2be)]=process['env']?.[_0x175411(0x6f3)]!==_0x175411(0x81e)?this[_0x175411(0x2d8)]():this[_0x175411(0x356)](),process[_0x175411(0x2be)]?.['DOCKER_ENV']===_0x175411(0x81e)&&(this[_0x175411(0x2be)][_0x175411(0x2e5)]['TYPE']=_0x175411(0x443),this[_0x175411(0x2be)]['SERVER'][_0x175411(0x5c6)]=Number[_0x175411(0x657)](process[_0x175411(0x2be)]?.[_0x175411(0x2c1)]??_0x175411(0x82b)));}[a0_0xad378c(0x2d8)](){const _0x4c11a3=a0_0xad378c;return(0x0,Bs[_0x4c11a3(0x6a1)])((0x0,Gs[_0x4c11a3(0x738)])((0x0,Ws['join'])(Vs,_0x4c11a3(0x546)),{'encoding':'utf-8'}));}[a0_0xad378c(0x356)](){const _0x174d9f=a0_0xad378c;return{'SERVER':{'TYPE':process['env'][_0x174d9f(0x790)],'PORT':Number[_0x174d9f(0x657)](process[_0x174d9f(0x2be)][_0x174d9f(0x2c1)]),'URL':process[_0x174d9f(0x2be)][_0x174d9f(0x625)]},'CORS':{'ORIGIN':process[_0x174d9f(0x2be)][_0x174d9f(0x40e)][_0x174d9f(0x43a)](','),'METHODS':process[_0x174d9f(0x2be)][_0x174d9f(0x8c9)][_0x174d9f(0x43a)](','),'CREDENTIALS':process[_0x174d9f(0x2be)]?.[_0x174d9f(0x5c8)]===_0x174d9f(0x81e)},'SSL_CONF':{'PRIVKEY':process[_0x174d9f(0x2be)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x174d9f(0x2be)]?.[_0x174d9f(0x623)]},'STORE':{'CLEANING_INTERVAL':Number[_0x174d9f(0x72a)](process[_0x174d9f(0x2be)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x174d9f(0x657)](process[_0x174d9f(0x2be)][_0x174d9f(0x355)]):void 0x0,'MESSAGES':process[_0x174d9f(0x2be)]?.[_0x174d9f(0x6b7)]==='true','CONTACTS':process[_0x174d9f(0x2be)]?.[_0x174d9f(0x4e0)]==='true','CHATS':process[_0x174d9f(0x2be)]?.[_0x174d9f(0x550)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x174d9f(0x2be)]?.[_0x174d9f(0x60f)],'PORT':Number['parseInt'](process[_0x174d9f(0x2be)]?.[_0x174d9f(0x60f)]),'USER':process['env'][_0x174d9f(0x297)],'PASSWORD':process[_0x174d9f(0x2be)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x174d9f(0x2be)][_0x174d9f(0x851)],'DB_PREFIX_NAME':process[_0x174d9f(0x2be)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x174d9f(0x2be)]?.[_0x174d9f(0x380)]==='true'},'REDIS':{'ENABLED':process[_0x174d9f(0x2be)]?.[_0x174d9f(0x1f1)]===_0x174d9f(0x81e),'URI':process[_0x174d9f(0x2be)][_0x174d9f(0x6f1)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x174d9f(0x2be)][_0x174d9f(0x38b)]||'uazapi'},'LOG':{'LEVEL':process[_0x174d9f(0x2be)]?.[_0x174d9f(0x38c)]['split'](','),'COLOR':process[_0x174d9f(0x2be)]?.[_0x174d9f(0x3ee)]===_0x174d9f(0x81e)},'PROXY':process[_0x174d9f(0x2be)]?.[_0x174d9f(0x3f9)]===_0x174d9f(0x81e),'AUTHENTICATION':{'TYPE':process['env']['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env'][_0x174d9f(0x6dc)]},'JWT':{'EXPIRIN_IN':Number[_0x174d9f(0x72a)](process[_0x174d9f(0x2be)]?.[_0x174d9f(0x485)])?Number[_0x174d9f(0x657)](process[_0x174d9f(0x2be)][_0x174d9f(0x485)]):0xe10,'SECRET':process[_0x174d9f(0x2be)][_0x174d9f(0x3a7)]}}};}},S=new ls(),Li=I(require(a0_0xad378c(0x22a))),ye=I(require(a0_0xad378c(0x473))),Us=require('path'),us=I(require(a0_0xad378c(0x7c1))),ds=(_0x565d18=>(_0x565d18[a0_0xad378c(0x678)]='\x1b[32m',_0x565d18[a0_0xad378c(0x21f)]=a0_0xad378c(0x7a9),_0x565d18[a0_0xad378c(0x680)]=a0_0xad378c(0x407),_0x565d18['ERROR']=a0_0xad378c(0x17d),_0x565d18[a0_0xad378c(0x1fb)]='\x1b[36m',_0x565d18[a0_0xad378c(0x42b)]=a0_0xad378c(0x7e7),_0x565d18[a0_0xad378c(0x283)]=a0_0xad378c(0x1ab),_0x565d18))(ds||{}),zs=(_0x4f37b4=>(_0x4f37b4[a0_0xad378c(0x678)]='\x1b[32m%s\x1b[0m',_0x4f37b4[a0_0xad378c(0x283)]=a0_0xad378c(0x7dc),_0x4f37b4[a0_0xad378c(0x21f)]=a0_0xad378c(0x3ef),_0x4f37b4['WARN']=a0_0xad378c(0x350),_0x4f37b4[a0_0xad378c(0x80f)]=a0_0xad378c(0x6e9),_0x4f37b4[a0_0xad378c(0x1fb)]=a0_0xad378c(0x2d6),_0x4f37b4['VERBOSE']=a0_0xad378c(0x323),_0x4f37b4))(zs||{}),Hs=(_0x5c6a09=>(_0x5c6a09[a0_0xad378c(0x678)]=a0_0xad378c(0x678),_0x5c6a09[a0_0xad378c(0x680)]=a0_0xad378c(0x680),_0x5c6a09[a0_0xad378c(0x21f)]=a0_0xad378c(0x21f),_0x5c6a09[a0_0xad378c(0x283)]=a0_0xad378c(0x283),_0x5c6a09[a0_0xad378c(0x80f)]='ERROR',_0x5c6a09['DEBUG']=a0_0xad378c(0x1fb),_0x5c6a09['VERBOSE']=a0_0xad378c(0x42b),_0x5c6a09))(Hs||{}),Ks=(_0x1c47bd=>(_0x1c47bd[a0_0xad378c(0x678)]='\x1b[42m',_0x1c47bd['INFO']='\x1b[44m',_0x1c47bd[a0_0xad378c(0x680)]=a0_0xad378c(0x1f9),_0x1c47bd['DARK']=a0_0xad378c(0x4a0),_0x1c47bd[a0_0xad378c(0x80f)]=a0_0xad378c(0x571),_0x1c47bd['DEBUG']=a0_0xad378c(0x5be),_0x1c47bd[a0_0xad378c(0x42b)]='\x1b[47m',_0x1c47bd))(Ks||{}),$=class{constructor(_0x26513e='Logger'){this['context']=_0x26513e,this['configService']=S;}[a0_0xad378c(0x722)](_0x50b844){const _0x38c562=a0_0xad378c;this[_0x38c562(0x370)]=_0x50b844;}['console'](_0x370186,_0x30281e){const _0x1b3df3=a0_0xad378c;let _0x5955dd=[];this['configService'][_0x1b3df3(0x1ff)]('LOG')[_0x1b3df3(0x634)]['forEach'](_0x46f9d6=>_0x5955dd[_0x1b3df3(0x240)](Hs[_0x46f9d6]));let _0x46152f=typeof _0x370186;_0x5955dd[_0x1b3df3(0x77b)](_0x30281e)&&(S['get'](_0x1b3df3(0x678))[_0x1b3df3(0x2ae)]?(console[_0x1b3df3(0x78c)](_0x1b3df3(0x383)+zs[_0x30281e],_0x1b3df3(0x8c4),(0x0,us['default'])()['format']('DD/MM\x20HH:mm:ss'),_0x1b3df3(0x35e),ds[_0x30281e]+Ks[_0x30281e]+'\x1b[1m',_0x30281e+_0x1b3df3(0x23a),_0x1b3df3(0x27e),this[_0x1b3df3(0x370)]+_0x1b3df3(0x35e),ds[_0x30281e],_0x46152f!=='object'?_0x370186:'',_0x1b3df3(0x35e)),_0x46152f===_0x1b3df3(0x429)&&console[_0x1b3df3(0x78c)](_0x370186,'\x0a')):console[_0x1b3df3(0x78c)]((0x0,us[_0x1b3df3(0x7c4)])()[_0x1b3df3(0x3c2)](_0x1b3df3(0x48b)),_0x30281e+'\x20',''+this[_0x1b3df3(0x370)],_0x370186));}[a0_0xad378c(0x78c)](_0x19a53b){const _0x16eb8b=a0_0xad378c;this[_0x16eb8b(0x7c3)](_0x19a53b,_0x16eb8b(0x678));}[a0_0xad378c(0x575)](_0x765bec){const _0x4ecbc0=a0_0xad378c;this[_0x4ecbc0(0x7c3)](_0x765bec,'INFO');}[a0_0xad378c(0x75e)](_0x27f7d1){const _0x4ef2da=a0_0xad378c;this[_0x4ef2da(0x7c3)](_0x27f7d1,_0x4ef2da(0x680));}['error'](_0x1fe5db){const _0x509c53=a0_0xad378c;this[_0x509c53(0x7c3)](_0x1fe5db,_0x509c53(0x80f));}[a0_0xad378c(0x8cc)](_0x499aff){const _0x17b76f=a0_0xad378c;this[_0x17b76f(0x7c3)](_0x499aff,_0x17b76f(0x42b));}[a0_0xad378c(0x32e)](_0x54d862){const _0xe7ba2b=a0_0xad378c;this[_0xe7ba2b(0x7c3)](_0x54d862,_0xe7ba2b(0x1fb));}[a0_0xad378c(0x371)](_0x1d7ad2){const _0x496af4=a0_0xad378c;this[_0x496af4(0x7c3)](_0x1d7ad2,_0x496af4(0x283));}};function Qs(){const _0x88c962=a0_0xad378c;process['on'](_0x88c962(0x6dd),(_0x437ac1,_0x5cf671)=>{const _0x46a20e=_0x88c962;new $(_0x46a20e(0x6dd))['error']({'origin':_0x5cf671,'stderr':process['stderr']['fd'],'error':_0x437ac1});}),process['on'](_0x88c962(0x84f),(_0x4b95a8,_0x49ee8c)=>{const _0x1a7eb7=_0x88c962;new $(_0x1a7eb7(0x84f))[_0x1a7eb7(0x5fe)]({'origin':_0x49ee8c,'stderr':process['stderr']['fd'],'error':_0x4b95a8});});}var Ys=I(require(a0_0xad378c(0x50c))),ps=new Ys['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require('mongoose'),Ae=I(require(a0_0xad378c(0x5f4))),Ge=new $(a0_0xad378c(0x7e0)),L=S[a0_0xad378c(0x1ff)]('DATABASE'),A=L[a0_0xad378c(0x785)]?L[a0_0xad378c(0x21b)]['URI']?Ae[a0_0xad378c(0x7c4)][a0_0xad378c(0x4b1)](L[a0_0xad378c(0x21b)][a0_0xad378c(0x864)],{'dbName':L[a0_0xad378c(0x21b)][a0_0xad378c(0x67b)]+a0_0xad378c(0x731)}):Ae[a0_0xad378c(0x7c4)][a0_0xad378c(0x4b1)](a0_0xad378c(0x721)+L['CONNECTION'][a0_0xad378c(0x387)]+':'+L['CONNECTION'][a0_0xad378c(0x5c6)]+a0_0xad378c(0x3de),{'user':L[a0_0xad378c(0x21b)][a0_0xad378c(0x226)],'pass':L['CONNECTION'][a0_0xad378c(0x7be)],'dbName':L[a0_0xad378c(0x21b)]['DB_PREFIX_NAME']+'-whatsapp-api'}):null;L['ENABLED']&&Ge['info'](a0_0xad378c(0x418)+A[a0_0xad378c(0x5f9)]);function a0_0x54a0(){const _0x1ec92e=['Variável\x20não\x20encontrada!','Flow\x20\x27','AUTHENTICATION','Erro\x20ao\x20iniciar\x20fluxo:\x20','Erro\x20ao\x20deletar\x20chat:','Esse\x20fluxo\x20não\x20permite\x20importação.','log','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','bodyString','authState','SERVER_TYPE','processingGroup','):Converted\x20image\x20deleted','/exit','entries','removeData','groups','_Contacts','fetchPrivacySettings','setUpdate','some','throwAndLogError','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','Router','createIPv6','pairingCode','mediaMessage','arraybuffer','imagechat','isListOfNumbers','matchRegex','variables','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','post','unreadcount','\x1b[34m','getMonth','telefone','archive','/:instanceName','params','lastSendMessage','):\x20transformedCustomFieldVariables','randomBytes','editflowgroup','resetReconnectionVariables','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Enter\x20a\x20value\x20in\x20milliseconds','updateProfileStatus','/events','sendContact','onTime','exists','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','false','@broadcast','PASSWORD','sendText','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','dayjs','MAX_SAFE_INTEGER','console','default','jid','isLong','flush','padStart','request\x20received\x20in\x20editFlow','updateReplyOption','.webp','chat','less','display_text','\x5c$&','.jpg','email','https://ipv6.jsonip.com','urlOrBase64','CORS','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','addBlock','uazapiDeleteMessage','uuid','groupJid','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','findOneAndUpdate','\x1b[30m%s\x1b[0m','item','ListType','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','Db\x20Connection','MESSAGES_SET','deleteInstance','routerPath','testIPv6','http://checkip.dyndns.org','whoCanUse','\x1b[37m','Telefone:\x20','sendSticker','done','findWebhook','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','Authentication\x20error','CONTACTS_SET','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','allflows','messaging-history.set','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','badSession','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','IP\x20mismatch:\x20configured\x20','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','groupMemberAddMode','upperCase','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','processblock','mediatype','/webhook','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','transformScheduledMessagesByType','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','isJidUser','reconnectTimestamps','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','):\x20Criando\x20fluxo...','_fromMe','setNewValue','not_announcement','values','Error\x20finding\x20many\x20contacts:','/wa-contacts','media','Instâncias\x20removidas:\x20','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','ERROR','/media/','CREDENTIALS','#01d0e2','rm\x20-rf\x20','Opção\x20Falsa\x20','src','participants','qrCode','\x20}\x0a','selectedOptions','recebido\x20de','):\x20sender\x20=\x20number:\x20','isValidAndUniqueIPv6','request\x20body:\x20','true','_id','editflowvaredit','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Erro\x20ao\x20atualizar\x20conversa:\x20','pollMessage','findIndex','maxActives','proxy:\x20','3529568mWYJkL','chats','pictureUrl','8080','RemoteJid:','\x20instance\x20does\x20not\x20exist','Resultado\x20da\x20correspondência\x20de\x20URL:','last_update','profile','KEY','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','drop','.gif','bulkWrite','CHATS_DELETE','findGroups','BufferJSON','everyOne','phoneNumber',',\x20lastCondition:\x20','):\x20Iniciando\x20bot...','pendingMessages','API\x20Key\x20inválida.','mkdirSync','Configured\x20IPv6:\x20','sendMedia','hSet','online','method','Read\x20messages','updateGroupPicture','):\x20Não\x20achou\x20nenhum\x20flow','hDel','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','find','dataValidate',',\x20global:\x20','SECRET','splice','unhandledRejection','fileLength','DATABASE_CONNECTION_URI','request\x20received\x20in\x20editConversation','#ffc5c7','):Delete\x20chat','function','sendPresenceUpdate','Sistema\x20atualizado\x20com\x20sucesso!','getSeconds',',\x20saindo.','notas','connecting','ChatRouter','reaction','toggleEphemeral','presence.update','pt-BR','removeProfilePicture','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','DELETED','URI','METHODS','TEL','value','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','customFields','axios','logger','ReplyOption\x20com\x20ID\x20','connectionState','owner','locationMessage','Pausado\x20por\x20','):\x20Limpando\x20delayMessage','/message','vote','):Getting\x20image\x20from\x20url','archived','document','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20leadInfoVariables','chats.set','send.message','):\x20Iniciando\x20processReadyMessages','getLabelModelForOwner','\x20removido\x20do\x20chat\x20','connectionClosed','menuIgnoreNonVotes','Grupo\x20não\x20encontrado',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','getHours','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','1191075ybVaKs','promisify','Content\x20is\x20required','editFlowBlock','Erro\x20ao\x20alterar\x20fluxo','CONTACTS_UPSERT','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','loadInstance','ChatModel','existsSync','Removidas\x20as\x20variáveis:\x20','composing','messageStubParameters','findGroupsEspecial','5596uZkbZy','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','Selecione','crypto','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','vcard','updateGParticipant','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','\x20segundos\x20antes\x20de\x20reconectar...','):\x20Editando\x20mensagens\x20no\x20grupo...','EXPIRIN_IN','AppStateSyncKeyData','auth','Selecione\x20uma\x20opção','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','sendWhatsAppAudio','awaitingApproval','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','sendMessageAck','sim','insertMany','Fluxo\x20id\x20\x27','delete','):\x20conversation.status:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','updateProfilePicture','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','toNumber','scheduleSendAudio','remoteJids','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','where','):\x20\x27Enviando\x20audio\x20para\x20\x27','[all]','findGroupInfo','_remoteJid','utf-8','waitingMenu_id','reference','minutesToClose','color','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','sections','redirect','getScheduleMessageModelForOwner','Falta\x20informação\x20para\x20a\x20chamada\x20API','\x1b[1m\x1b[37m','deleteOne','saveMediaToFile','\x22reaction\x22\x20must\x20be\x20an\x20emoji','processclearVariables','CORS_METHODS','\x20quoted:\x20','sticker','verbose','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','authService','Network\x20interfaces\x20detected:\x20','/wa-groups','errors','video-cover.png','isBusiness','block','muteEndTime','MESSAGES_UPSERT','FULLCHAIN','leadInfo.atendimentoAberto','profilePicture','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','editflowvariable','Error\x20removing\x20unused\x20chat\x20fields:','Erro\x20ao\x20buscar\x20fluxos:','next_groupId','):Image\x20path:\x20','50mb','single_select','#64c4ff','getTicketSystem','processPollUpdateMessage','createSectionsFromValues','deviceSentMessage','website','toLowerCase','/wa-qrcode','waInstances','mongodb','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','output','configureIPv6','CacheContacts\x20database\x20connection\x20closed.','editflowblock','setting','\x0aFN:','limit','keys','webhookService','StatusJidList\x20is\x20required','Mensagem\x20não\x20suportada','3791016bHIPZU','\x1b[31m','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','response','fetchProfilePicture','RECONNECT_TIME_FRAME','Subscribed\x20Events:','updateMissingEtiquetas','GUARD','imported',',\x20Resultado:\x20','findLabels','lastInteraction','api','birthtime','bearer','^\x5cd+','retrySendMessage','flowConfig','from','The\x20instance\x20needs\x20to\x20be\x20disconnected','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','lean','Instance\x20Name:','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','):\x20Chat\x20','):\x20Fluxo\x20\x27','Erro\x20ao\x20aplicar\x20varedit:\x20','Bloco\x20com\x20ID\x20','PREFIX_KEY','convertedOptions',',\x20canSendMessage:\x20','\x20is\x20already\x20in\x20use.','):Image\x20is\x20base64','_Chats','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','groupDesc','creds.update','imageMessage','cacheInstanceRepository','findContacts','isConnected','endSession','cwd','MESSAGES_UPDATE','/instance/delete','\x1b[30m','.\x20Pulando.','leadInfo.customFields','out','node-cache','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','stopMinutesMaxActives','END:VCARD','\x27...','contactMessage','webhookMap','ip\x20-6\x20addr\x20del\x20','IPv6\x20Prefix\x20detected:\x20','?timestamp=','lastBlockId',',\x20received\x20','):\x20nextBlock.uazapi.name','createAndSave','config','originalUrl','waitingMenu_replyOptions','isCommunityAnnounce','linkPreview','groups.upsert','.url','padEnd','isAdmin','):Audio\x20processed','Generated\x20IPv6:\x20','SERVER_ACK','/wa-message-update','\x22\x20-\x20NOT\x20CONNECTION','groupValidate','interactiveMessage','DELIVERY_ACK','updateConversation','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','):\x20Comando\x20desconhecido:\x20','no-cache','order','groupName','timeout','\x27\x20não\x20encontrado','nomecompleto','):\x20Erro\x20durante\x20a\x20atualização:\x20','):including\x20timestamp\x20in\x20url:\x20','options','):\x20Query\x20params:\x20','editChat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','WebhookGlobal','Botão\x201','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','buttonText','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','whatsappNumbers','Novo\x20IP\x20criado:\x20','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','updateMessage','privacySettings','#ff9484','https://uazapi-plugin.bubbleapps.io/?url=','sendMessageWithTypingButtons','deleteImportedChat','errorLog','error_log','saveCreds','hex','REDIS','storePath','REDIS_ENABLED','subject','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','groupRevokeInvite','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','\x20segundos','.mp3','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','\x1b[43m','IPv6\x20address\x20configured:\x20','DEBUG','globalShow','convertaudioMP3','PRIVKEY','get','release','editFlowReply','Message','.type','messages.update','fetchBusinessProfile','has','enumerable','):\x20whoCanUse\x20before\x20validation:\x20','model','participant','footer','flows','StartBot','Schema',',\x20Minutes\x20to\x20Close:\x20','editFlowCondition','deleteReplyOption','processvaredits','):Output\x20path:\x20','allContacts','interval\x20não\x20é\x20um\x20número','Erro\x20ao\x20tentar\x20updateCustomFields','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','#92ceac','):\x20\x27Deletando\x20fluxo,\x20id:\x20','CONNECTION','localWebhook','copy','joinApprovalMode','INFO','.docx','connectToWhatsappController','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','\x5cd+','variable','webp','USER','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','EMAIL:','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','cors','createJid','normalizeMessageContent','qrcode','inner','groupSettingUpdate','scheduleNextCheck','cta_url','data','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','importChats','chatLog','Nenhum\x20fluxo\x20correspondente\x20encontrado.','agents','beforeExit','flushHeaders','\x20\x1b[0m','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','Deleted\x20','Missing\x20global\x20api\x20key','long','Error\x20in\x20prepareMediaMessage:','push','buttonOrList_id','width','getMessageModelForOwner','PRESENCE_UPDATE','editFlowVariable','remove.instance','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','collections','flowName','contactsArrayMessage','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','instanceCount','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','webhookModel','code','presence','verifiedName','request\x20received\x20in\x20createFlow','scheduleMessage','SINGLE_SELECT','groupSetting','responsavelid','enabled','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','blockId','connection.update','):\x20teve\x20mudanças\x20chat.archived:\x20','downloads','\x27\x20removido\x20do\x20AutomateSystem.','static','sendCommand','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','floor','locked','/wa-chats','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','Unauthorized','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','$set','unlinkSync','convertToString','GROUPS_UPSERT','dropIndex','removeInstance','):\x20Alterando\x20fluxo...','footerText','waitingForReplyMenu','Erro\x20ao\x20editar\x20o\x20chat','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','):\x20Conversa\x20está\x20expirada','):\x20Removendo\x20\x27','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','createHash','Message\x20absent\x20from\x20node','repeat','\x20:\x20','protocolMessage','profileName','.ogg','reviver','API_KEY','\x1b[33m\x1b[1m','ConversationModel','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','*Pergunta*:\x20\x0a','message_normalized','DARK','admin_add','Data\x20inválida\x20fornecida','STATUS_INSTANCE','GROUPS_UPDATE','lastUpdate','groupInviteCode','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','formatStatusMessage','readreceipts','https://api.ipify.org?format=json','superadmin','):\x20Deletando\x20conversa...','}}\x20->\x20valor\x20não\x20encontrado','notify','delayMessage','loadEnv','abs','contains','pino','DATABASE_CONNECTION_USER','createButtonsFromValues','):\x20[messages.update]\x20group\x20ignored','):\x20Editando\x20edição\x20do\x20fluxo...',',\x20Segundo\x20Valor:\x20','unreadCount','update','.webm','fetchLatestBaileysVersion','):Audio\x20converted\x20and\x20stored\x20in\x20cache','startID','mentioned','myAppStateKeyId','Invalid\x20format','instanceInfo','application/json','contact_blacklist','Erro\x20ao\x20buscar\x20a\x20conversa','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','authentication','):\x20atualização\x20chat:\x20','chatId','editOperator','COLOR','whatsappNumber','/instance/create','Error\x20fetching\x20and\x20updating\x20profile:\x20','longitude','digest','preview','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','available','Subdomínio\x20final:','sendDataWebhook','Não\x20respondeu\x20com\x20a\x20enquete.','buttons','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','):\x20Entrou\x20na\x20função\x20goToFlow','ListMessage','env','removeUnusedChatFields','.svg','SERVER_PORT','listType','conversationTimestamp','Error\x20updating\x20message\x20status:','convertToWebP','sendMessageWithTyping','group-participants.update','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','pollCreationMessageKey','.pdf','sectionsToString','apikey','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','app-state-sync-key','getProfileName','ip:\x20','StartID:','bateu\x20events','\x20horas\x20e\x20','min','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','\x1b[36m%s\x1b[0m','groups_ignore','envYaml','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','list','):\x20Entrou\x20na\x20função\x20processawaitSeconds','\x20não\x20encontrado\x20para\x20cópia','execSync','updateStatusPrivacy','fetchLabels','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','defineProperty','ms\x20(tentativa\x20','json','lowerCase','SERVER','pollUpdateMessage','Erro\x20ao\x20copiar\x20o\x20documento','getStatus','):\x20\x27Enviando\x20mídia\x20para\x20\x27','getOwnPropertyDescriptor','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','editflowcondition','configService','creds','[service]\x20request\x20received\x20in\x20sendButtons','.TEL;waid=','Error\x20updating\x20cache\x20contact:','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','notContains','https://uazapi-plugin.bubbleapps.io/','truncatedtoEnd','):Archiving\x20chat','createConversationforgoToFlow','groupHandler','readMessage','ORG:','\x20com\x20sucesso.','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','cachedContacts-whatsapp','removeChatLabel','deleteFlow','\x20mensagens\x20de\x20','.txt','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','getFlow','all_member_add','):\x20Usando\x20extensão\x20padrão:\x20','authModel','createNewConversation','):\x20isVote:\x20','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','count','role','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','#ffffff','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','Parando\x20aplicação...','isCommunity','Error\x20while\x20deleting\x20message\x20for\x20everyone','scheduleSendMedia','spawn','temp-','blockLogs','messageType','emit','addMessagesToGroup','groupMetadata','messageTimestamp','importChatsBatch','AutomateFunctions','updateFlowConfig','Error\x20adding\x20IPv6\x20address:\x20','addReplyOption','\x1b[37m%s\x1b[0m','setHeader','messageHandle','qrcode.updated','sendList','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','request\x20received\x20in\x20updateAutoCompleteMessages','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','eventHandler','Início','chats.update','debug','downloadMediaMessage','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','expression','https://api.openai.com/v1/audio/speech','getDevice','prepareWAMessageMedia','):\x20Bloco\x20original\x20para\x20cópia:\x20','Content-Type','WA\x20MODULE','testingWith','cachedContact','_p_','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','uazapiSendMedia','startFlow','220023DCpmhh',']\x20(','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','uazapiSendLocation','endsWith','replaceVariablesInObject','lastMessage','leadInfo.etiquetas','request\x20received\x20in\x20fetchConversation','optionDescription','chats.upsert','lastCondition','getConversationModelForOwner','text','):\x20Conversa\x20está\x20expirada\x20-\x20voto','reject','):\x20Mensagem\x20já\x20enviada\x20para\x20','\x1b[33m%s\x1b[0m','apirequest','):\x20whoCanUse\x20after\x20validation:\x20','@s.whatsapp.net','\x20and\x20data:','STORE_CLEANING_TERMINAL','envProcess','keep-alive','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','sending','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','textMessage','\x1b[0m','capitalizedWords','editFlowGroup','findMany','messages.upsert','Instância:\x20','insert','):\x20Flow\x20desativado','sort','desativadoFluxoAte','set','groupToggleEphemeral','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','secondValue','.jwt','getScheduleMessage','):\x20Editando\x20bloco...','context','dark','replaceValue','defineAuthState','getMessage','restart','statusJidList','clearVariables','redis','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','):\x20Buscando\x20conversas...','getChatModelForOwner','updateMediaMessage','startFlowWebhook','client','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','DATABASE_ENABLED','File\x20written\x20to\x20path:\x20','updateStopChat','\x1b[1m','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','whoCanEdit','create','HOST','Last\x20message\x20not\x20found\x20for\x20number:\x20','):\x20Current\x20Time:\x20','string','REDIS_PREFIX_KEY','LOG_LEVEL','paused','Chat\x20com\x20ID\x20','0123456789ABCDEF','fone','@redis/client','groupGetInviteInfo','ContactsAndGroups','getflow','formatVCard','toArray','ff:fe','messageSecret','request\x20received\x20in\x20updateCustomFields','writeData','groupdata','headers','AddUserFlow','https://','assign','getReadyToSendMessages','cleanStore','poll','instanceKeys','stanzaId','):\x20conversation.waitingMenu_name','child_process','AUTHENTICATION_JWT_SECRET','InstancesAlterarTodas','getMinutes','stopMinutes','Request\x20Body:','processConditionsTest','and','https://api64.ipify.org?format=json','Log\x20out\x20instance:\x20','delayChatLabel','deleteMessage','):\x20updateResult:','The\x20global\x20api\x20key\x20must\x20be\x20set','router','\x20minutos','fetchStatus','editFlow','createWebhook','):Image\x20is\x20url','sendButtons','condition','Instance\x20deleted','app','):\x20não\x20encontrou','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','createInstance','format','scheduleFlow','statSync','_sender','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','):\x20Enviando\x20mídia','documentWithCaptionMessage','unlocked','shareFlow','match_last_seen','getUniqueFlowName','CONNECTION_UPDATE','title','exec','shift','notMatchRegex','toString','Stack\x20trace:','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','updateChatGroupData','IP\x20confirmed:\x20','The\x20property\x20cannot\x20be\x20empty','\x0aitem','processgoToFlow','Comando\x20desconhecido','logout','stopConversation','editedMessage','?authSource=admin&readPreference=primary&directConnection=true','upsertChats','Rótulo\x20inválido\x20ou\x20sem\x20ID.','updateLastSeenPrivacy','):\x20Criando\x20fluxo\x20compartilhado...','\x20minutos.\x20Será\x20às\x20','listen','exit','canSendMessage','):\x20Enviando\x20mensagem\x20para\x20','findRealGroups','flattenObject','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','local_map','):\x20Enviando\x20localização','encoding','LOG_COLOR','\x1b[34m%s\x1b[0m','isValidIPv6Config','Error\x20removing\x20IPv6\x20address:\x20','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','filter','/*.json','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','documentMessage','body','/automate','PROXY','https://api.openai.com/v1/images/generations','addChatLabel','):\x20Deletando\x20mensagem','save','):\x20Bloco\x20copiado:\x20','680dCEzHH','upsertedCount','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','findConversation','):\x20Editando\x20variável\x20do\x20fluxo...','JWT','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','Network\x20Interface\x20detected:\x20','\x1b[33m','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','subjectTime','):\x20Grupo\x20','insertCount','delAll','Not\x20is\x20business\x20profile','CORS_ORIGIN','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','group','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','\x20não\x20encontrado\x20para\x20atualização.','replaceVariablesChat','request\x20received\x20in\x20getAutomateSystem','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','saveVariable','last','ON\x20-\x20dbName:\x20','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','updateAutoCompleteMessages','findMessages','deleteConversation','request\x20received\x20in\x20allFlows','saveChatVariables','dbInstance','deleteChat','toUpperCase','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','Bad\x20Request','Database\x20update\x20result:','Error\x20parsing\x20JSON:','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','object','@ffmpeg-installer/ffmpeg','VERBOSE','):Hash\x20to\x20image\x20name:\x20','/instance/fetchInstances','headerString','use','slice','):\x20','fileName','Group\x20not\x20found','replaceOne','pollOnReplyDelete','remoteJid','variablesNotFound','iniciando\x20fluxo\x20router','isJWT','split','pop','#9ab6c1','Erro\x20ao\x20iniciar\x20o\x20fluxo.','stopWhenYouSendMsg','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Valor\x20de\x20find\x20ou\x20replace\x20ausente','statusCode','http','):\x20Enviando\x20contato','convert','\x20não\x20encontrado','):Image\x20created','deleteMessageForEveryone','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','jsonwebtoken','Falha\x20ao\x20processar\x20a\x20solicitação','viewOnceMessage','Instance\x20\x22','\x27\x20do\x20banco\x20de\x20dados...','):\x20Editando\x20replyOption...','base64','tags','env.KEY\x20!==\x20key','reorderReplyOptions','shareOwners','updateMany','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','verifyWhatsAppNumber','videoMessage','_activatedCount','displayName','demote','apiResponse','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','admin','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','getVariablesChat','ignoreGroups','delayChatLabel_MAX_RETRIES','connectedClient','replyOption','getTime','sem\x20texto\x20na\x20mensagem','/wa-connection-update','goToFlow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','fetchInstances','getFullYear','evaluateCondition','findAll','!cmd_','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','Database\x20is\x20not\x20enabled','add','express','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Atualização:\x20','varedit','Type\x20not\x20found','EMAIL','createflow','Last\x20message\x20not\x20found','latitude','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','Imagem\x20não\x20encontrada','isJidGroup','round','state','Connection\x20closed\x20for\x20instance:\x20','createServer','inet6','jwt','AUTHENTICATION_JWT_EXPIRIN_IN','GET','CLEANING_INTERVAL','newValue','https://github.com/uazapi/uazapi.git','autoCompleteMessages','HH:mm:ss','Nenhum\x20chat\x20encontrado\x20para\x20editar.','Falha\x20ao\x20criar\x20IPv6.','#83e421','memberAddMode','picture','getBase64FromMediaMessage','yes','all','ip6eui','none','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','No\x20suitable\x20network\x20interface\x20found','./.git/config','STORE','URL','user','random','audioMessage','waitingMenu_text','Conversa\x20deletada\x20com\x20sucesso.','\x1b[40m','findAndReplaceRegex','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','lastSend','map','buttonMessage','queue','):\x20Entrou\x20na\x20função\x20stop','#d3a91f','\x20depois\x20','hGet','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','OrAnd','_error','$addToSet','cpf','recording','createConnection','findAndUpdateCacheContact','toFile','utf8','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','url','findGroupInfos','ephemeralExpiration','Erro\x20ao\x20buscar\x20conversas','):\x20Atualizando\x20status\x20da\x20mensagem\x20','audio/ogg;\x20codecs=opus','Forbidden','reactionMessage','CHATS_UPDATE','useMultiFileAuthState','trimmed','start','/instance','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','getContactModelForOwner','urlencoded','\x20do\x20chat\x20','dbClient','node-mime-types','presenceSubscribe','synchronizeAndMapFlows',',\x20fará\x20nova\x20verificação\x20em\x20','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','CHATS_UPSERT','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','trim','\x20adicionado\x20ao\x20chat\x20','collection','setRestartTimeout','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','this.reconnectAttempts:\x20','modifiedCount','jsonschema','delaySecMin','labels.edit','Instância\x20não\x20encontrada.','TYPE','status@broadcast','editFlowVaredit','replaceVariablesInReplyOptions','g.us','.wav','STORE_CONTACTS','):\x20UUID\x20do\x20processo\x20não\x20corresponde,\x20parando\x20processamento.','toBrazilianNumberFormat','#00a1f2','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','\x22,\x20valor\x20a\x20substituir:\x20\x22','addresss','isURL','numbers','formatBRNumber','rowId','leadInfo.','randomMac','instances','updateGParticipate','saveConversationToDatabase','requestPairingCode','length','updateProfileName','SUCCESS','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','findOrCreate','ContactModel','connectedName','dbSettings','class-validator','):Desconectado,\x20parando\x20execução.','Erro\x20ao\x20editar\x20a\x20conversa','extractPhoneNumber','revokeInviteCode','findGroup','key','188XJrYze','stopIfLastReturnedError','Erro\x20ao\x20arquivar\x20chat','readdirSync','Número:\x20','_day','changeVariables','Erro\x20ao\x20atualizar\x20o\x20fluxo:','waMonitor','createButtonSectionsFromValues','backgroundColor','replyOptions','eventemitter2','fullName','All_Instances_Config','path','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','):\x20Entrou\x20na\x20função\x20clearVariables','content-type','generate','test','announcement','/wa-message','flowPrefixCommand','waitingMenu_ExpiredMessage','senderKeyDistributionMessage','_minute','Fluxo\x20\x27','apply','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address',',\x20valor\x20passado:\x20\x22','array','username','unknown\x20operation\x20type\x20[','open','sign','exports','uazapiSendText','editScheduleMessage','ip\x20-br\x20link\x20show','greater','createGroup','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','leadInfo','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','initializeQueue','convertaudio','mentions','request\x20received\x20in\x20editFlowcondition','listMessage','Erro\x20ao\x20buscar\x20o\x20fluxo','fetchProfile','contactHandle','processawaitSeconds','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','groupUpdateDescription','interactiveResponseMessage','getValidWhatsAppNumbers','jpegThumbnail','pre','express-async-errors','Failed\x20to\x20send\x20buttons\x20message','Fluxo\x20não\x20encontrado\x20na\x20memória.','listResponseMessage','deleteflow','getDate','):\x20Entrou\x20na\x20função\x20saveReply','getUpdate','dbServer','../env.yml','realVariables','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','parse','choices','compression','now','nome','URL:','Erro\x20de\x20atualização:\x20','STORE_CHATS','readFile','#dfaef0','\x20-i\x20','Mac\x20OS','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','Partes\x20do\x20domínio:','stateConnection','makeCacheableSignalKeyStore','_pushName','readData','keyPattern','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','3EB0','/clients-info','restartInstance','SERVER_OFFLINE','substring','findAndReplace','):\x20Error\x20processing\x20the\x20block:\x20','editflow','size','):\x20Criou\x20conversa\x20no\x20startFlow','replace','detail','creds.json','Database\x20connection\x20closed.','instanceName\x20not\x20provided.','updateAgent','updateGroupWebhook','SSL_CONF','number','\x1b[41m','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','):\x20Flow\x20\x27','info','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','@g.us','):\x20Enviando\x20enquete','boolean','Rodapé\x20de\x20Teste','success','bodyStringErrorParse','Erro\x20ao\x20criar\x20fluxo','Instance\x20restarted','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','address','Número\x20não\x20possui\x20WhatsApp.','moreLogs','fileUrl','URL\x20completa:','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','fromMe','getConversation','views','Erro\x20ao\x20editar\x20o\x20bloco:\x20','_lastVote','):\x20newSecondValue\x20após\x20replaceVariables:','.ppt','repository','list2','348600moVCpM','templateButtonReplyMessage','gifPlayback','data:\x20','GROUP_PARTICIPANTS_UPDATE','licenca','[AUTH]\x20Database\x20is\x20not\x20enabled','catch','startsWith','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','sendAudio','match','sendLocation','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','PRODUCT_LIST','\x20contacts','):\x20error:\x20','waUploadToServer','contact','createFlow','.fileUrl','command','deletedCount','createOrUpdate','Fluxos\x20não\x20estão\x20ativados',',\x20isAdmin:\x20','Valor\x20da\x20URL\x20recuperada:','isArray','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','leadInfo.desativadoFluxoAte','QRCODE_UPDATED','DATABASE','contacts.update','Fluxo\x20agendado\x20pelo\x20fluxo\x20','activatedCount','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','flowConversation','statusMessage','mediaSticker','Rótulo\x20deletado:\x27,\x20','):\x20Conversa\x20inserida\x20com\x20sucesso.','The\x20','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','announce','AddChatLabel','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','\x1b[46m','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','lastFetchAwaitingApproval','reorderMessages','#f64847','Subdomínio\x20não\x20encontrado','\x20foi\x20interrompido\x20pelo\x20usuário.','Erro\x20ao\x20atualizar\x20o\x20flow.','PORT','):\x20Conversa\x20atualizada\x20em\x20memória','CORS_CREDENTIALS','BRL','quick_reply','noConnection','findOne','):\x20Rótulo\x20atualizado:\x20','integer','userDevicesCache','events','findFlow','instance.','blocks','/media','closeExistingConversations','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','processApiRequest','Erro\x20ao\x20atualizar\x20agendamento\x20','description','height','request_time','findManyByIds','ObjectId','max','messageId','valid','chatHandle','sha256','findParticipants','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','basename','contacts','deleteMany','stack','connectToWhatsapp','readMessages','generateHash','triedToSend','audioWhatsapp','):Error\x20in\x20converting\x20audio','.mimetype','isBase64','groupRequestParticipantsList','scheduled','remove','mongoose','instance','webhook','caption','Primeiro\x20Valor:\x20','$dbName','message','cleaningUp','Valor\x20inicial:\x20\x22','DisconnectReason','error','):\x20Buscando\x20conversa...','groupadd','.extension','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','updateMissingTags','cacheInstanceModel','indexOf','pollErrorMessage','qrcode-terminal','sendStatus','pollCreationMessage','buffer','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','--------------------------------------','store','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','DATABASE_CONNECTION_HOST','getOwnPropertyNames','AutomateSystem','uazapiSendMenu','):Type\x20defined\x20as\x20audio','global','2130606EeXKne','status','Not\x20Found','getContentType','Error\x20testing\x20IP\x20with\x20','ip\x20-6\x20addr\x20show\x20dev\x20','deleted','):\x20Label\x20','copyBlock','empty','):Fetching\x20business\x20profile','API\x20Key\x20from\x20Request:','fetchMessages','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','SSL_CONF_FULLCHAIN','messages','SERVER_URL','button','Font\x20is\x20required','setWebhook','lastReceivedMessage','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','instanceName','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','newStoppedUntil','#d8e651','stringify','stopped','evaluateConditionTest','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','fetchConversation','LEVEL','action','delay','updateAll','cacheContactModel','labels.association','replaceVariables','/wa-presence','flowStopMinutes','chatModify','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','This\x20name\x20','pushName','prototype','fetchChats','scheduleSendText','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','profilePictureUrl','XX:XX:XX:XX:XX:XX','processScheduleFlow','isRunning','pollCreationMessageV2','etiquetas','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','connectionStatus','deleteDoneMessages','):\x20[messages.upsert]\x20group\x20ignored','request\x20received\x20in\x20scheduleMessage','idSchedule','application/octet-stream','/instance/connectionState','organization','PLAYED','conversation','inviteCode','parseInt','mediaKey','writeFileSync','Conexão\x20estabelecida','request\x20received\x20in\x20deleteDoneMessages','image','updatePrivacySettings','removeIPv6','process','ScheduleMessage','stickerMessage','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','loadWebhook','normalizeMessage','beautifyWithPlaceholders','-instances','put','uazapiSendAudio','):\x20enviado\x20para\x20[','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','created','Partes\x20do\x20caminho\x20FULLCHAIN:','mimetype','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','groupJoinApprovalMode','Operador:\x20\x22','):\x20conversation.lastInteraction:\x20','leaveGroup','RemoveChatLabel','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','saveTextReply','contextInfo','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','LOG','uazapi','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','DB_PREFIX_NAME',',\x20qrcodeCount:\x20','NextBlock','):\x20Buscando\x20todos\x20os\x20fluxos...','firstValue','WARN','#fed428','Esse\x20fluxo\x20expirou','eventEmitter','getDelay','creation','ipv6Prefix','g-t','video','.png','):Processing\x20audio','p-queue',',\x20Expiration\x20Time:\x20','updatePresence','):Notifying\x20clients\x20for\x20chat:\x20','https://chat.whatsapp.com/','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Subdomínio\x20extraído\x20da\x20URL:','):\x20Buscando\x20flow,\x20id:\x20','Filtered\x20network\x20interfaces:\x20','oldToken','_Labels','DaysToDelete','when','ERROR:\x20','hbs','currency','request\x20received\x20in\x20updateFlowConfig','):\x20\x27Enviando\x20texto\x20para\x20\x27','groupAcceptInvite','reorderBlocks','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Cache\x20instance\x20update\x20result:\x20','load','type','fetchContacts','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','js-yaml','\x20-y','delayChatLabel_RETRY_DELAY_MS','SendScheduleMessage','Not\x20allowed\x20by\x20CORS','write','descOwner','deleteAll','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Erro\x20ao\x20importar\x20chats','option','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','):\x20delete\x20=\x20true','groupBetterSetting','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x20tentativas.','):\x20alterando\x20this.AutomateSystem','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','STORE_MESSAGE','_Messages','join','hasOwnProperty','/group','thumbnailUrl','/instance/connect','getClient','generateWAMessageFromContent','removeIPv6ById','flowActive','audio/ogg','prepareMediaMessage','findById','hGetAll','buttonParamsJson','editConversation','Error\x20in\x20chatModify\x20for\x20number\x20','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','contacts.upsert','cache','/64\x20dev\x20','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','menuExpiredMessage','Safari','Garbage\x20collection\x20não\x20está\x20disponível.','header','sleep','processConditions','Tentando\x20reconectar...','automateSystem','networkInterface','.\x20Aguardando\x20','approve','closed','startCommand','forEach','AUTHENTICATION_API_KEY','uncaughtException','removed','sharp','getPrototypeOf','segundos','quoted','wuid','atendimentoAberto','menuType','allFlows','pm2\x20flush','processReadyMessages','\x1b[31m%s\x1b[0m','):\x20customFieldVariables','READ','label','__esModule','selectedId','request\x20received\x20in\x20updateAgent','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','REDIS_URI','lastRealGroupsFetch','DOCKER_ENV','dbConnection','):Sending\x20audio\x20whatsapp','/startFlow/:instance/:startID','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','connect','authorization','conditions','_ScheduleMessages','fromObject','):\x20debug\x20alterando\x20this.AutomateSystem','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','pollCreationMessageV3','request\x20received\x20in\x20deleteFlow','markMessageAsRead','editMessagesInGroup','verify','/chat','Flow\x20iniciado\x20com\x20','SEND_MESSAGE','cacheContact','loggedOut','notEmpty','updateGroupParticipantsWebhook','reconnectAttempts','Usando\x20IP\x20existente:\x20','equal','notEqual','\x0a{\x20instance:\x20','findByIdAndDelete','status.instance','desc','expiration','sendMenu','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','CONTACTS_UPDATE','_activedCount','menuMessage','updateOne','toDataURL','refused','requestFile','awaitSeconds','promote','mongodb://','setContext','subjectOwner','PENDING','name','label_jid','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','Erro\x20ao\x20deletar\x20a\x20conversa','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','isInteger','fetchProfilePictureUrl','\x20Tentativa\x20de\x20reconexão\x20','charAt','audio','getAutomateSystem','_second','-whatsapp-api','generateRandomIPv6','/config',',\x20Novo\x20tamanho:\x20','Types','\x20inseridos\x20no\x20banco\x20de\x20dados...','selectableCount','readFileSync','/wa-all-message','enviado\x20para','@whiskeysockets/baileys','groups.update','archiveChat','updateCustomFields','varedits','#56ccb4','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','readMessageBot','content','uazapiSendContact','detectIPv6PrefixAndInterface','initAuthCreds','):\x20lastBlockId:\x20','updateBlock','sendReaction','updateGroupsAddPrivacy','silent','CHATS_SET','sendPoll','rows','processUazapi','):\x20Limpando\x20AutomateSystem','joinGroup','proto','Variáveis\x20não\x20encontradas:','Instance\x20ID:','Erro\x20ao\x20editar\x20agentes','redisEnv','):\x20Going\x20to\x20','Instance\x20logged\x20out','updateChatWithMessage','unavailable','updateProfilePicturePrivacy','messages.set','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','warn','font','relayMessage','cleanDisconnectedInstances','query','processUUID','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','connectionUpdate','_month','groupId','deleteBlock','toLocaleString','close','getLastMessage','):\x20Editando\x20condição\x20do\x20fluxo...','call','chats.delete','\x20minutos\x20verificará\x20novas\x20mensagens','groupLeave','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','^\x5cd+([-]\x5cd+)*@g.us$','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','.pptx','variablesToObject','#6f7bcf','sendMessage','createConversationforStartFlow','send','includes','applyvaredit','pow','):\x20whoCanEdit\x20after\x20validation:\x20','flow','updateOneById','/events/:instance','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','imgUrl','ENABLED'];a0_0x54a0=function(){return _0x1ec92e;};return a0_0x54a0();}var le=L['ENABLED']?L['CONNECTION']['URI']?Ae[a0_0xad378c(0x7c4)]['createConnection'](L[a0_0xad378c(0x21b)]['URI'],{'dbName':'cachedData-whatsapp'}):Ae[a0_0xad378c(0x7c4)][a0_0xad378c(0x4b1)](a0_0xad378c(0x721)+L[a0_0xad378c(0x21b)][a0_0xad378c(0x387)]+':'+L[a0_0xad378c(0x21b)]['PORT']+a0_0xad378c(0x3de),{'user':L[a0_0xad378c(0x21b)][a0_0xad378c(0x226)],'pass':L[a0_0xad378c(0x21b)][a0_0xad378c(0x7be)],'dbName':a0_0xad378c(0x300)}):null;le&&Ge[a0_0xad378c(0x575)](a0_0xad378c(0x418)+le[a0_0xad378c(0x5f9)]),process['on'](a0_0xad378c(0x238),()=>{const _0x2021a9=a0_0xad378c;A&&A[_0x2021a9(0x76b)](()=>{const _0x47a4c2=_0x2021a9;Ge['info'](_0x47a4c2(0x56b));}),le&&le[_0x2021a9(0x76b)](()=>{const _0x50366a=_0x2021a9;Ge[_0x50366a(0x575)](_0x50366a(0x173));});});var Ki=new Me['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Qi=new Me[(a0_0xad378c(0x20e))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Yi=new Me[(a0_0xad378c(0x20e))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Xi=new Me['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Ki],'default':[]}},{'_id':!0x1}),Zi=new Me[(a0_0xad378c(0x20e))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Xi,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Qi},'groupdata':{'type':Yi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Xs=_0x227674=>{const _0x45e8a2=a0_0xad378c;let _0xacf1ce='z_'+_0x227674+_0x45e8a2(0x19f);return A?.['model'](_0x45e8a2(0x88d),Zi,_0xacf1ce);},Zs=require(a0_0xad378c(0x5f4)),eo=new Zs[(a0_0xad378c(0x20e))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=_0x1ae6a4=>{const _0xd07d7e=a0_0xad378c;let _0x2adcc2='z_'+_0x1ae6a4+_0xd07d7e(0x797);return A?.['model'](_0xd07d7e(0x4f6),eo,_0x2adcc2);},ta=require(a0_0xad378c(0x5f4)),hs=class{},to=new ta[(a0_0xad378c(0x20e))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),sa=le?.[a0_0xad378c(0x209)](hs[a0_0xad378c(0x725)],to,a0_0xad378c(0x393)),aa=require(a0_0xad378c(0x5f4)),gs=class{},so=new aa[(a0_0xad378c(0x20e))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=le?.['model'](gs[a0_0xad378c(0x725)],so,a0_0xad378c(0x4ed)),ia=require('mongoose'),ao=new ia[(a0_0xad378c(0x20e))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),oa=_0x5c879d=>{const _0x4e56fc=a0_0xad378c;let _0x4cb690='z_'+_0x5c879d+_0x4e56fc(0x6b8);return A?.[_0x4e56fc(0x209)]('MessageModel',ao,_0x4cb690);},ra=require(a0_0xad378c(0x5f4)),ms=class{},io=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),na=A?.[a0_0xad378c(0x209)](ms[a0_0xad378c(0x725)],io,a0_0xad378c(0x2aa)),ca=require('mongoose'),fs=class{},la=new ca[(a0_0xad378c(0x20e))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});la[a0_0xad378c(0x53c)](a0_0xad378c(0x3fd),function(_0x268df5){const _0x4a98cd=a0_0xad378c;delete this[_0x4a98cd(0x6c1)],delete this['flowIgnoreGroups'],delete this[_0x4a98cd(0x517)],delete this['flowStopConversation'],delete this[_0x4a98cd(0x63c)],_0x268df5();});var ua=A?.[a0_0xad378c(0x209)](fs[a0_0xad378c(0x725)],la,a0_0xad378c(0x5f6)),D=require(a0_0xad378c(0x5f4)),ws=require('uuid'),We=class{},ys=class{},pa=new D[(a0_0xad378c(0x20e))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),bs=new D[(a0_0xad378c(0x20e))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),oo=new D[(a0_0xad378c(0x20e))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0xad378c(0x2da)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0xad378c(0x895)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0xad378c(0x682)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ha=new D[(a0_0xad378c(0x20e))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ro=new D['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),no=new D[(a0_0xad378c(0x20e))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ms=new D['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),co=new D[(a0_0xad378c(0x20e))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ga=new D[(a0_0xad378c(0x20e))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':oo},'apirequest':ro,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':co,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ma=new D[(a0_0xad378c(0x20e))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),fa=new D[(a0_0xad378c(0x20e))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Ms],'blocks':[ga],'groups':[pa],'conditions':[ha],'varedits':[ma],'replyOptions':{'type':[bs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x15c3d6=a0_0xad378c;return _0x15c3d6(0x46f)+Math[_0x15c3d6(0x49c)]()[_0x15c3d6(0x3d2)](0x24)[_0x15c3d6(0x430)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0xad378c(0x7bc)},'startID':{'type':String,'default':()=>(0x0,ws['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,ws['v4'])()},'shareOwners':{'type':[String],'default':[]}});fa[a0_0xad378c(0x53c)]('findOneAndUpdate',function(_0xe8fd5d){const _0x284b0e=a0_0xad378c;let _0x183116=this[_0x284b0e(0x544)]();if(_0x183116&&typeof _0x183116=='object'&&'$set'in _0x183116){let _0x3549d3=_0x183116[_0x284b0e(0x267)];if(_0x3549d3){let _0x30aa9a=new Set(),_0x59aef0=new Set(_0x3549d3[_0x284b0e(0x7a5)]?.['map'](_0xc3b37a=>_0xc3b37a[_0x284b0e(0x725)])),_0x40ebf6=JSON['stringify'](_0x3549d3),_0x62aaf=/{{(?!_)([^}]*)}}/g,_0x542f2e;for(;(_0x542f2e=_0x62aaf[_0x284b0e(0x3cf)](_0x40ebf6))!==null;)_0x59aef0[_0x284b0e(0x206)](_0x542f2e[0x1])||_0x30aa9a[_0x284b0e(0x472)](_0x542f2e[0x1]);_0x30aa9a[_0x284b0e(0x566)]>0x0?(console['warn'](_0x284b0e(0x753),Array['from'](_0x30aa9a)),_0x3549d3[_0x284b0e(0x437)]=Array[_0x284b0e(0x18f)](_0x30aa9a)):_0x3549d3[_0x284b0e(0x437)]=[],this[_0x284b0e(0x799)]({'$set':_0x3549d3});}}_0xe8fd5d();});var Ce=A?.[a0_0xad378c(0x209)](ys[a0_0xad378c(0x725)],fa,'allFlows'),lo=new D[(a0_0xad378c(0x20e))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Ms],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[no]},{'_id':!0x1}),uo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Ms],'blocks':[ga],'groups':[pa],'conditions':[ha],'varedits':[ma],'replyOptions':{'type':[bs],'default':[]},'chatLog':lo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0xad378c(0x522)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0xad378c(0x682)},'waitingMenu_replyOptions':{'type':[bs],'default':[]}}),wa=_0x1db14c=>{const _0x4b7420=a0_0xad378c;let _0x2d998f='z_'+_0x1db14c+'_FlowHistorico';return A?.[_0x4b7420(0x209)](_0x4b7420(0x27f),uo,_0x2d998f);},po=new D[(a0_0xad378c(0x20e))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),da=new D[(a0_0xad378c(0x20e))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),ho=new D['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[da],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0xad378c(0x5f2)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[po],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':da,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),ya=_0x323256=>{const _0x4a29e0=a0_0xad378c;let _0x7e5e3b='z_'+_0x323256+_0x4a29e0(0x6fb);return A?.[_0x4a29e0(0x209)]('ScheduleMessageModel',ho,_0x7e5e3b);},Ss=class{},go=new D[(a0_0xad378c(0x20e))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),mo=new D[(a0_0xad378c(0x20e))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),fo=new D[(a0_0xad378c(0x20e))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),wo=new D['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),yo=new D[(a0_0xad378c(0x20e))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),bo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[yo]},'customFields':{'type':[fo]},'flowConfig':{'type':wo,'default':{}},'flows':{'type':[mo],'default':[]},'autoCompleteMessages':{'type':[go],'default':[]}}),Ie=A?.[a0_0xad378c(0x209)](Ss[a0_0xad378c(0x725)],bo,a0_0xad378c(0x611)),ba=require('mongoose'),So=new ba['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Sa=_0x48f108=>{const _0x5e9cfb=a0_0xad378c;let _0x20b039='z_'+_0x48f108+_0x5e9cfb(0x695);return A?.['model']('LabelModel',So,_0x20b039);},O=class{constructor(_0x4800cb){const _0x41e58b=a0_0xad378c;this[_0x41e58b(0x4f8)]=_0x4800cb['get'](_0x41e58b(0x5af));}};function T(_0x4db034){const _0x39748b=a0_0xad378c;let _0x5f1d0e={};for(let [_0x25ac14,_0x4ed340]of Object[_0x39748b(0x794)](_0x4db034))if(typeof _0x4ed340==_0x39748b(0x429)&&!Array[_0x39748b(0x5ab)](_0x4ed340)){for(let [_0x20a2a5,_0xcf4c3e]of Object[_0x39748b(0x794)](_0x4ed340))_0x5f1d0e[_0x25ac14+'.'+_0x20a2a5]=_0xcf4c3e;}else _0x5f1d0e[_0x25ac14]=_0x4ed340;return _0x5f1d0e;}var ze=class{constructor(_0x6bed63,_0x3e38e4,_0x323ab9,_0x2acb0c,_0x55fb80,_0x5e4d40,_0x26cecc,_0x943794,_0x10a9ce,_0x7d11e2,_0x2a6156,_0x17985a,_0x4c8256){const _0x2a813f=a0_0xad378c;this[_0x2a813f(0x5fa)]=_0x6bed63,this['chat']=_0x3e38e4,this['contact']=_0x323ab9,this[_0x2a813f(0x709)]=_0x2acb0c,this[_0x2a813f(0x5f6)]=_0x55fb80,this[_0x2a813f(0x89f)]=_0x5e4d40,this[_0x2a813f(0x5f5)]=_0x26cecc,this[_0x2a813f(0x77f)]=_0x943794,this['flowConversation']=_0x10a9ce,this[_0x2a813f(0x6ec)]=_0x7d11e2,this['scheduleMessage']=_0x2a6156,this[_0x2a813f(0x6d5)]=_0x17985a,this[_0x2a813f(0x4c7)]=_0x4c8256;}get[a0_0xad378c(0x545)](){return this['dbClient'];}},He=class{},Ke=class extends O{['getMessageModelForOwner'](_0x3176e8){return oa(_0x3176e8);}async[a0_0xad378c(0x364)](_0x2b5ae2,_0x440020){const _0x282d77=a0_0xad378c;if(_0x2b5ae2[_0x282d77(0x4f1)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x282d77(0x243)](_0x440020)[_0x282d77(0x8a8)]([..._0x2b5ae2]))[_0x282d77(0x4f1)]};}catch(_0x9696a3){return _0x9696a3;}}async['find'](_0x3e3a84,_0x3898c7){const _0x1b989c=a0_0xad378c;try{let _0x3ec09b=this[_0x1b989c(0x243)](_0x3898c7),_0x2be296=T(_0x3e3a84['where']);return await _0x3ec09b[_0x1b989c(0x84a)](_0x2be296)[_0x1b989c(0x366)]({'messageTimestamp':-0x1})['limit'](_0x3e3a84?.['limit']??0x0)[_0x1b989c(0x192)]();}catch{return[];}}async[a0_0xad378c(0x8aa)](_0x36d8d6,_0x336d4d){const _0x48231a=a0_0xad378c;try{let _0x33f5f2=this[_0x48231a(0x243)](_0x336d4d),_0x2342f0=T(_0x36d8d6[_0x48231a(0x8b5)]);await _0x33f5f2['deleteMany'](_0x2342f0);}catch(_0x765a06){console['error'](_0x765a06);}}async[a0_0xad378c(0x29d)](_0x2e0466,_0x3d867d,_0x481336){const _0x14341a=a0_0xad378c;try{let _0x5c5efe=this[_0x14341a(0x243)](_0x481336),_0x28dc3b=T(_0x2e0466[_0x14341a(0x8b5)]);return await _0x5c5efe['findOneAndUpdate'](_0x28dc3b,{'$set':_0x3d867d},{'new':!0x0});}catch(_0x9e96dc){throw console['error'](_0x9e96dc),_0x9e96dc;}}async[a0_0xad378c(0x8a8)](_0x1c7186,_0x1d1bd7){const _0x3a80e4=a0_0xad378c;if(_0x1c7186[_0x3a80e4(0x4f1)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x1d1bd7)[_0x3a80e4(0x8a8)]([..._0x1c7186]))[_0x3a80e4(0x4f1)]};}catch(_0x416b93){return console['log'](_0x3a80e4(0x698),_0x416b93),_0x416b93;}}async['deleteAll'](_0x3f5173){const _0x220969=a0_0xad378c;try{return await this[_0x220969(0x243)](_0x3f5173)[_0x220969(0x4d1)][_0x220969(0x833)](),{'success':!0x0};}catch(_0x470069){return console[_0x220969(0x5fe)](_0x470069),{'success':!0x1,'error':_0x470069};}}},_s=I(require(a0_0xad378c(0x42a))),w=I(require(a0_0xad378c(0x73b))),Le=require('fs'),j=I(require(a0_0xad378c(0x50f))),Y=I(require(a0_0xad378c(0x86a))),$i=require(a0_0xad378c(0x7d8)),Ri=I(require('qrcode')),Ai=I(require(a0_0xad378c(0x607))),Ma=[a0_0xad378c(0x1a3),a0_0xad378c(0x3f6),a0_0xad378c(0x49d),a0_0xad378c(0x458),'stickerMessage'],Ca=['ephemeralMessage',a0_0xad378c(0x3c8),a0_0xad378c(0x44c),'viewOnceMessageV2'],Os=require('os'),Ft=I(require(a0_0xad378c(0x296))),Fe=require(a0_0xad378c(0x3a6)),Ii=require(a0_0xad378c(0x4c8)),ge=I(require(a0_0xad378c(0x5f4))),J=require(a0_0xad378c(0x4f9)),ue=class{constructor(_0x5bbcdf,_0x499745,_0x1fabe9){this['jid']=_0x5bbcdf,this['exists']=_0x499745,this['name']=_0x1fabe9;}},Qe=class{},Ye=class{},Te=class{},Xe=class{},Ze=class{},Ee=class{},et=class{},tt=class{},st=class{},at=class{},Ot=I(require('express')),Ea=require('fs'),va=require('path');async function _e(_0x57190e){const _0x129b91=a0_0xad378c;let _0x47f2a8=G['waInstances'][_0x57190e];if(L[_0x129b91(0x785)]){let _0x183f7c=A[_0x129b91(0x6be)]()['db'](L[_0x129b91(0x21b)][_0x129b91(0x67b)]+_0x129b91(0x666))[_0x129b91(0x4d1)](_0x57190e);return _0x47f2a8||(await _0x183f7c['find']({})[_0x129b91(0x396)]())['length']>0x0;}return _0x47f2a8||(0x0,Ea[_0x129b91(0x88e)])((0x0,va[_0x129b91(0x6b9)])(Se,_0x57190e));}async function Na(_0x1adebd,_0x593d98,_0x2f8af1){const _0x99e156=a0_0xad378c;if(_0x1adebd[_0x99e156(0x1be)][_0x99e156(0x77b)](_0x99e156(0x2b0))||_0x1adebd[_0x99e156(0x1be)]['includes']('/instance/fetchInstances')||_0x1adebd[_0x99e156(0x1be)][_0x99e156(0x77b)](_0x99e156(0x793))||_0x1adebd[_0x99e156(0x1be)][_0x99e156(0x77b)](_0x99e156(0x733))||_0x1adebd['originalUrl'][_0x99e156(0x77b)](_0x99e156(0x6bd))||_0x1adebd[_0x99e156(0x1be)]['includes'](_0x99e156(0x652))||_0x1adebd[_0x99e156(0x1be)][_0x99e156(0x77b)](_0x99e156(0x1aa)))return _0x2f8af1();let _0x1acb18=_0x1adebd[_0x99e156(0x7ae)];if(!_0x1acb18?.[_0x99e156(0x62b)])throw new m(_0x99e156(0x56c));if(!await _e(_0x1acb18['instanceName']))throw new F(_0x99e156(0x5b9)+_0x1acb18[_0x99e156(0x62b)]+_0x99e156(0x82d));_0x2f8af1();}async function $a(_0x34ef80,_0x91cbf6,_0x251086){const _0x349460=a0_0xad378c;if(_0x34ef80[_0x349460(0x1be)][_0x349460(0x77b)](_0x349460(0x2b0))){let _0x29540f=_0x34ef80[_0x349460(0x3f7)];if(await _e(_0x29540f[_0x349460(0x62b)]))throw new X(_0x349460(0x63f)+_0x29540f[_0x349460(0x62b)]+_0x349460(0x19d));G[_0x349460(0x16e)][_0x29540f['instanceName']]&&delete G[_0x349460(0x16e)][_0x29540f[_0x349460(0x62b)]];}_0x251086();}var Ra=require(a0_0xad378c(0x4f9)),Aa=I(require('jsonwebtoken')),it='uazapi',Co=new $(a0_0xad378c(0x184));async function Eo(_0x2eedfd,_0xbbe5a5,_0x21e1f0){const _0x3aced3=a0_0xad378c;let _0x34f3a8=_0x2eedfd['get'](_0x3aced3(0x2cc));if(_0x34f3a8&&S[_0x3aced3(0x1ff)](_0x3aced3(0x788))[_0x3aced3(0x27d)][_0x3aced3(0x831)]!==_0x34f3a8)throw new ae();if(S[_0x3aced3(0x1ff)](_0x3aced3(0x788))[_0x3aced3(0x27d)][_0x3aced3(0x831)]===_0x34f3a8)return _0x21e1f0();if((_0x2eedfd['originalUrl']['includes'](_0x3aced3(0x2b0))||_0x2eedfd['originalUrl'][_0x3aced3(0x77b)](_0x3aced3(0x42d)))&&!_0x34f3a8)throw new X(_0x3aced3(0x23d),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x3d9f39=S[_0x3aced3(0x1ff)](_0x3aced3(0x788))[_0x3aced3(0x404)];try{let [_0x141857,_0x507c25]=_0x2eedfd[_0x3aced3(0x1ff)](_0x3aced3(0x6f9))['split']('\x20');if(_0x141857[_0x3aced3(0x16c)]()!==_0x3aced3(0x18b))throw new ae();if(!(0x0,Ra[_0x3aced3(0x439)])(_0x507c25))throw new ae();let _0x38c3c2=_0x2eedfd[_0x3aced3(0x7ae)],_0x178280=Aa[_0x3aced3(0x7c4)][_0x3aced3(0x705)](_0x507c25,_0x3d9f39[_0x3aced3(0x84d)],{'ignoreExpiration':_0x3d9f39[_0x3aced3(0x89d)]===0x0});if(_0x38c3c2[_0x3aced3(0x62b)]!==_0x178280['instanceName']||it!==_0x178280['apiName'])throw new ae();return _0x21e1f0();}catch(_0x457984){throw Co['error'](_0x457984),new ae();}}async function vo(_0x26c9ae,_0x3443b7,_0x38e69d){const _0x55425e=a0_0xad378c;let _0x3a3c00=S[_0x55425e(0x1ff)](_0x55425e(0x788))[_0x55425e(0x27d)],_0x5b830e=_0x26c9ae['get'](_0x55425e(0x2cc));if(_0x3a3c00[_0x55425e(0x831)]===_0x5b830e)return _0x38e69d();if(_0x26c9ae[_0x55425e(0x1be)][_0x55425e(0x77b)](_0x55425e(0x2b0))){let _0x609897=Ta,_0x11647a=_0x26c9ae[_0x55425e(0x3f7)][_0x55425e(0x62b)];if(_0x609897&&_0x11647a['toLowerCase']()[_0x55425e(0x598)](_0x609897[_0x55425e(0x16c)]()))return _0x38e69d();if(!_0x5b830e)throw new X(_0x55425e(0x23d),_0x55425e(0x3b3));}if(_0x26c9ae[_0x55425e(0x1be)]['includes'](_0x55425e(0x42d))&&!_0x5b830e)throw new X(_0x55425e(0x23d),_0x55425e(0x3b3));if(_0x26c9ae[_0x55425e(0x1be)][_0x55425e(0x77b)](_0x55425e(0x793))&&!_0x5b830e)throw new X(_0x55425e(0x23d),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x26c9ae[_0x55425e(0x1be)][_0x55425e(0x77b)](_0x55425e(0x733))&&!_0x5b830e)throw new X(_0x55425e(0x23d),_0x55425e(0x3b3));try{let _0x1c874e=_0x26c9ae[_0x55425e(0x7ae)],_0x144da1=await fe[_0x55425e(0x89f)][_0x55425e(0x84a)](_0x1c874e[_0x55425e(0x62b)]);if(_0x144da1&&_0x144da1[_0x55425e(0x2cc)]===_0x5b830e)return _0x38e69d();}catch{}throw new ae();}var Ia={'jwt':Eo,'apikey':vo},li=require(a0_0xad378c(0x473)),C=require(a0_0xad378c(0x7d8)),E=(..._0x560275)=>{let _0x416927={};return _0x560275['forEach'](_0x37a6de=>_0x416927[_0x37a6de]={'minLength':0x1,'description':'The\x20\x22'+_0x37a6de+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x560275]}},'then':{'properties':_0x416927}};},N={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'instanceName':{'type':a0_0xad378c(0x38a)}},...E('instanceName')},Mc={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'oldToken':{'type':a0_0xad378c(0x38a)}},'required':[a0_0xad378c(0x694)],...E(a0_0xad378c(0x694))},Cc={'properties':{'key':{'type':a0_0xad378c(0x429),'properties':{'id':{'type':a0_0xad378c(0x38a)},'remoteJid':{'type':a0_0xad378c(0x38a)},'fromMe':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0xad378c(0x587)],...E('id',a0_0xad378c(0x436))},'message':{'type':a0_0xad378c(0x429)}}},ie={'properties':{'delay':{'type':a0_0xad378c(0x5ce),'description':a0_0xad378c(0x7b5)},'presence':{'type':a0_0xad378c(0x38a),'enum':[a0_0xad378c(0x75a),a0_0xad378c(0x2b6),a0_0xad378c(0x890),a0_0xad378c(0x4b0),a0_0xad378c(0x38d)]}}},Z={'type':'string','description':a0_0xad378c(0x2a4)},_a={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'number':{...Z},'options':{...ie},'textMessage':{'type':a0_0xad378c(0x429),'properties':{'text':{'type':a0_0xad378c(0x38a)}},'required':[a0_0xad378c(0x34c)],...E(a0_0xad378c(0x34c))}},'required':[a0_0xad378c(0x35d),a0_0xad378c(0x570)]},Oa={'type':a0_0xad378c(0x38a),'pattern':a0_0xad378c(0x7ff),'description':'Invalid\x20format'},Ec={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'number':{...Oa},'options':{...ie},'textMessage':{'type':'object','properties':{'text':{'type':a0_0xad378c(0x38a)}},'required':[a0_0xad378c(0x34c)],...E('text')}},'required':[a0_0xad378c(0x35d),a0_0xad378c(0x570)]},vc={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'number':{...Oa},'options':{...ie},'mediaMessage':{'type':a0_0xad378c(0x429),'properties':{'mediatype':{'type':a0_0xad378c(0x38a),'enum':[a0_0xad378c(0x65c),a0_0xad378c(0x876),a0_0xad378c(0x688),a0_0xad378c(0x72e)]},'media':{'type':'string'},'fileName':{'type':a0_0xad378c(0x38a)},'caption':{'type':a0_0xad378c(0x38a)}},'required':[a0_0xad378c(0x7fd),a0_0xad378c(0x80c)],...E(a0_0xad378c(0x432),'caption',a0_0xad378c(0x80c))}},'required':[a0_0xad378c(0x7a0),a0_0xad378c(0x570)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'number':{...Z},'options':{...ie},'stickerMessage':{'type':a0_0xad378c(0x429),'properties':{'image':{'type':a0_0xad378c(0x38a)}},'required':[a0_0xad378c(0x65c)],...E('image')}},'required':[a0_0xad378c(0x661),a0_0xad378c(0x570)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'statusMessage':{'type':a0_0xad378c(0x429),'properties':{'type':{'type':a0_0xad378c(0x38a),'enum':[a0_0xad378c(0x34c),a0_0xad378c(0x65c),a0_0xad378c(0x72e),a0_0xad378c(0x688)]},'content':{'type':a0_0xad378c(0x38a)},'caption':{'type':a0_0xad378c(0x38a)},'backgroundColor':{'type':a0_0xad378c(0x38a)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0xad378c(0x51f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xad378c(0x38a),'pattern':a0_0xad378c(0x18c),'description':a0_0xad378c(0x4b5)}},'allContacts':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]}},'required':['type',a0_0xad378c(0x743)],...E(a0_0xad378c(0x6a2),a0_0xad378c(0x743))}},'required':[a0_0xad378c(0x5b5)]},Pa={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'number':{...Z},'options':{...ie},'mediaMessage':{'type':a0_0xad378c(0x429),'properties':{'mediatype':{'type':a0_0xad378c(0x38a),'enum':[a0_0xad378c(0x65c),a0_0xad378c(0x876),'video',a0_0xad378c(0x72e)]},'media':{'type':a0_0xad378c(0x38a)},'fileName':{'type':a0_0xad378c(0x38a)},'caption':{'type':'string'}},'required':['mediatype',a0_0xad378c(0x80c)],...E(a0_0xad378c(0x432),a0_0xad378c(0x5f7),'media')}},'required':['mediaMessage',a0_0xad378c(0x570)]},ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ie},'audioMessage':{'type':a0_0xad378c(0x429),'properties':{'audio':{'type':a0_0xad378c(0x38a)}},'required':[a0_0xad378c(0x72e)],...E(a0_0xad378c(0x72e))}},'required':['audioMessage',a0_0xad378c(0x570)]},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'pollMessage':{'type':a0_0xad378c(0x429),'properties':{'name':{'type':a0_0xad378c(0x38a)},'selectableCount':{'type':a0_0xad378c(0x570)},'values':{'type':a0_0xad378c(0x51f),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0xad378c(0x725),a0_0xad378c(0x737),a0_0xad378c(0x809)],...E('name','selectableCount',a0_0xad378c(0x809))}},'required':[a0_0xad378c(0x570),'pollMessage']},Fa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0xad378c(0x38a)},'choices':{'type':a0_0xad378c(0x51f),'uniqueItems':!0x0}},'required':[a0_0xad378c(0x34c),a0_0xad378c(0x54a)],...E(a0_0xad378c(0x34c),'choices')}},'required':[a0_0xad378c(0x570),a0_0xad378c(0x71a)]},Ua={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'number':{...Z},'options':{...ie},'locationMessage':{'type':a0_0xad378c(0x429),'properties':{'latitude':{'type':a0_0xad378c(0x570)},'longitude':{'type':a0_0xad378c(0x570)},'name':{'type':a0_0xad378c(0x38a)},'address':{'type':'string'}},'required':[a0_0xad378c(0x47b),a0_0xad378c(0x2b2)],...E(a0_0xad378c(0x725),a0_0xad378c(0x4e6))}},'required':[a0_0xad378c(0x570),a0_0xad378c(0x86f)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'number':{...Z},'options':{...ie},'listMessage':{'type':a0_0xad378c(0x429),'properties':{'title':{'type':a0_0xad378c(0x38a)},'description':{'type':a0_0xad378c(0x38a)},'footerText':{'type':a0_0xad378c(0x38a)},'buttonText':{'type':a0_0xad378c(0x38a)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xad378c(0x429),'properties':{'title':{'type':a0_0xad378c(0x38a)},'rows':{'type':a0_0xad378c(0x51f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xad378c(0x429),'properties':{'title':{'type':a0_0xad378c(0x38a)},'description':{'type':a0_0xad378c(0x38a)},'rowId':{'type':a0_0xad378c(0x38a)}},'required':[a0_0xad378c(0x3ce),'rowId'],...E(a0_0xad378c(0x3ce),a0_0xad378c(0x4ea))}}},'required':[a0_0xad378c(0x3ce),'rows'],...E(a0_0xad378c(0x3ce))}}},'required':[a0_0xad378c(0x3ce),a0_0xad378c(0x5d9),a0_0xad378c(0x1e0),'sections'],...E(a0_0xad378c(0x3ce),a0_0xad378c(0x5d9),a0_0xad378c(0x1e0),a0_0xad378c(0x26e))}},'required':['number',a0_0xad378c(0x532)]},Ja={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'number':{...Z},'options':{...ie},'contactMessage':{'type':a0_0xad378c(0x51f),'items':{'type':a0_0xad378c(0x429),'properties':{'fullName':{'type':a0_0xad378c(0x38a)},'phoneNumber':{'type':a0_0xad378c(0x38a),'minLength':0xa}},'required':[a0_0xad378c(0x50d),a0_0xad378c(0x83a)],...E(a0_0xad378c(0x50d))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0xad378c(0x570),a0_0xad378c(0x1b4)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'reactionMessage':{'type':a0_0xad378c(0x429),'properties':{'key':{'type':a0_0xad378c(0x429),'properties':{'id':{'type':a0_0xad378c(0x38a)},'remoteJid':{'type':a0_0xad378c(0x38a)},'fromMe':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0xad378c(0x587)],...E('id',a0_0xad378c(0x436))},'reaction':{'type':a0_0xad378c(0x38a)}},'required':[a0_0xad378c(0x4ff),a0_0xad378c(0x85d)],...E(a0_0xad378c(0x85d))}},'required':['reactionMessage']},Va={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xad378c(0x38a),'pattern':a0_0xad378c(0x18c),'description':a0_0xad378c(0x6b3)}}}},Ga={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'readMessages':{'type':a0_0xad378c(0x51f),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xad378c(0x38a)}},'required':['id','fromMe',a0_0xad378c(0x436)],...E('id',a0_0xad378c(0x436))}}},'required':[a0_0xad378c(0x5ea)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0xad378c(0x38a),'enum':[a0_0xad378c(0x493),a0_0xad378c(0x495)]},'profile':{'type':'string','enum':['all',a0_0xad378c(0x5e6),a0_0xad378c(0x2a7),a0_0xad378c(0x495)]},'status':{'type':'string','enum':[a0_0xad378c(0x493),'contacts','contact_blacklist',a0_0xad378c(0x495)]},'online':{'type':'string','enum':[a0_0xad378c(0x493),a0_0xad378c(0x3cb)]},'last':{'type':'string','enum':[a0_0xad378c(0x493),a0_0xad378c(0x5e6),a0_0xad378c(0x2a7),a0_0xad378c(0x495)]},'groupadd':{'type':'string','enum':[a0_0xad378c(0x493),'contacts',a0_0xad378c(0x2a7),a0_0xad378c(0x495)]}},'required':[a0_0xad378c(0x28c),a0_0xad378c(0x830),a0_0xad378c(0x616),a0_0xad378c(0x843),a0_0xad378c(0x417),a0_0xad378c(0x600)],...E('readreceipts',a0_0xad378c(0x830),a0_0xad378c(0x616),'online','last',a0_0xad378c(0x600))}},'required':[a0_0xad378c(0x1e6)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'lastMessage':{'type':a0_0xad378c(0x429),'properties':{'key':{'type':a0_0xad378c(0x429),'properties':{'id':{'type':a0_0xad378c(0x38a)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0xad378c(0x587),'remoteJid'],...E('id',a0_0xad378c(0x436))},'messageTimestamp':{'type':a0_0xad378c(0x5ce),'minLength':0x1}},'required':[a0_0xad378c(0x4ff)],...E(a0_0xad378c(0x31d))},'archive':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0xad378c(0x7ac)]},za={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0xad378c(0x38a)}},'required':['id',a0_0xad378c(0x587),a0_0xad378c(0x436)],...E('id','remoteJid',a0_0xad378c(0x20a))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'where':{'type':a0_0xad378c(0x429),'properties':{'_id':{'type':a0_0xad378c(0x38a),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0xad378c(0x38a),'minLength':0x1}},...E(a0_0xad378c(0x81f),'id',a0_0xad378c(0x640))}}},Ka={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'name':{'type':a0_0xad378c(0x38a)}},...E(a0_0xad378c(0x725))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'status':{'type':a0_0xad378c(0x38a)}},...E(a0_0xad378c(0x616))},Oe={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'number':{'type':a0_0xad378c(0x38a)},'picture':{'type':a0_0xad378c(0x38a)}}},Ya={'type':a0_0xad378c(0x429),'properties':{'wuid':{'type':a0_0xad378c(0x38a)},'name':{'type':a0_0xad378c(0x38a)},'picture':{'type':a0_0xad378c(0x38a)},'status':{'type':a0_0xad378c(0x38a)},'isBusiness':{'type':a0_0xad378c(0x579)}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'where':{'type':a0_0xad378c(0x429),'properties':{'_id':{'type':a0_0xad378c(0x38a),'minLength':0x1},'key':{'type':a0_0xad378c(0x429),'if':{'propertyNames':{'enum':['fromMe',a0_0xad378c(0x436),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0xad378c(0x3d7)},'id':{'type':a0_0xad378c(0x38a),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0xad378c(0x81f))},'limit':{'type':'integer'}}},Nc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0xad378c(0x429),'properties':{'_id':{'type':a0_0xad378c(0x38a)},'remoteJid':{'type':a0_0xad378c(0x38a)},'id':{'type':'string'},'fromMe':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'participant':{'type':a0_0xad378c(0x38a)},'status':{'type':'string','enum':[a0_0xad378c(0x80f),a0_0xad378c(0x724),a0_0xad378c(0x1c8),'DELIVERY_ACK','READ',a0_0xad378c(0x654)]}},...E('_id','remoteJid','id',a0_0xad378c(0x616))},'limit':{'type':a0_0xad378c(0x5ce)}}},Za={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'number':{...Z},'presence':{'type':a0_0xad378c(0x38a),'enum':['unavailable',a0_0xad378c(0x2b6),a0_0xad378c(0x890),a0_0xad378c(0x4b0),'paused']}},'required':[a0_0xad378c(0x250),a0_0xad378c(0x570)]},ei={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'subject':{'type':'string'},'description':{'type':a0_0xad378c(0x38a)},'profilePicture':{'type':'string'},'participants':{'type':a0_0xad378c(0x51f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xad378c(0x38a),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0xad378c(0x1f2),a0_0xad378c(0x816)],...E(a0_0xad378c(0x1f2),a0_0xad378c(0x5d9),'profilePicture')},xe={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'groupJid':{'type':a0_0xad378c(0x38a),'pattern':a0_0xad378c(0x773)}},'required':[a0_0xad378c(0x7d9)],...E(a0_0xad378c(0x7d9))},ti={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'groupJid':{'type':a0_0xad378c(0x38a)},'action':{'type':a0_0xad378c(0x38a),'enum':['add',a0_0xad378c(0x5f3),a0_0xad378c(0x720),a0_0xad378c(0x45b),a0_0xad378c(0x34e),a0_0xad378c(0x6d8)]},'participants':{'type':a0_0xad378c(0x51f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0xad378c(0x223),'description':a0_0xad378c(0x832)}}},'required':['groupJid',a0_0xad378c(0x635),a0_0xad378c(0x816)],...E(a0_0xad378c(0x7d9),a0_0xad378c(0x635))},si={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'groupJid':{'type':a0_0xad378c(0x38a)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0xad378c(0x7d9),a0_0xad378c(0x715)],...E(a0_0xad378c(0x7d9),a0_0xad378c(0x715))},ai={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'groupJid':{'type':a0_0xad378c(0x38a)},'image':{'type':a0_0xad378c(0x38a)}},'required':[a0_0xad378c(0x7d9),'image'],...E(a0_0xad378c(0x7d9),a0_0xad378c(0x65c))},ii={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'groupJid':{'type':'string'},'description':{'type':'string'}},'required':['groupJid',a0_0xad378c(0x5d9)],...E(a0_0xad378c(0x7d9),a0_0xad378c(0x5d9))},oi={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'groupJid':{'type':a0_0xad378c(0x38a)},'name':{'type':a0_0xad378c(0x38a)}},'required':[a0_0xad378c(0x7d9),a0_0xad378c(0x725)],...E(a0_0xad378c(0x7d9),a0_0xad378c(0x725))},ri={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0xad378c(0x38a),'enum':[a0_0xad378c(0x515),a0_0xad378c(0x808),a0_0xad378c(0x3c9),a0_0xad378c(0x262)]}},'required':['groupJid',a0_0xad378c(0x175)],...E('groupJid',a0_0xad378c(0x175))},ni={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'groupJid':{'type':a0_0xad378c(0x38a)},'restrict':{'type':'boolean'},'announce':{'type':a0_0xad378c(0x579)},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0xad378c(0x5ce),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0xad378c(0x38a)},'description':{'type':a0_0xad378c(0x38a)},'image':{'type':'string'}}},Cs={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'inviteCode':{'type':a0_0xad378c(0x38a)}},'required':[a0_0xad378c(0x656)],...E(a0_0xad378c(0x656))},ci={'$id':(0x0,C['v4'])(),'type':a0_0xad378c(0x429),'properties':{'url':{'type':a0_0xad378c(0x38a)},'enabled':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]}},'required':[a0_0xad378c(0x4b6),a0_0xad378c(0x257)]},$c={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0xad378c(0x579),'enum':[!0x0,!0x1]}},'required':[a0_0xad378c(0x3eb),a0_0xad378c(0x286),a0_0xad378c(0x5ae),'MESSAGES_SET',a0_0xad378c(0x1a9),a0_0xad378c(0x8d6),'SEND_MESSAGE',a0_0xad378c(0x7ee),a0_0xad378c(0x889),a0_0xad378c(0x718),a0_0xad378c(0x244),a0_0xad378c(0x74c),a0_0xad378c(0x4cd),a0_0xad378c(0x4be),a0_0xad378c(0x836),a0_0xad378c(0x3cd),a0_0xad378c(0x26a),a0_0xad378c(0x287),a0_0xad378c(0x594)],...E('local_map','STATUS_INSTANCE',a0_0xad378c(0x5ae),a0_0xad378c(0x7e1),a0_0xad378c(0x1a9),'MESSAGES_UPSERT',a0_0xad378c(0x708),'CONTACTS_SET',a0_0xad378c(0x889),a0_0xad378c(0x718),a0_0xad378c(0x244),a0_0xad378c(0x74c),a0_0xad378c(0x4cd),a0_0xad378c(0x4be),a0_0xad378c(0x836),'CONNECTION_UPDATE','GROUPS_UPSERT',a0_0xad378c(0x287),a0_0xad378c(0x594))},ot=class{},rt=class extends O{[a0_0xad378c(0x4c4)](_0x1c2b95){return ea(_0x1c2b95);}async[a0_0xad378c(0x364)](_0x30ff8c){const _0x496564=a0_0xad378c;if(_0x30ff8c[_0x496564(0x4f1)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x30ff8c[0x0]['owner'])[_0x496564(0x8a8)]([..._0x30ff8c]))[_0x496564(0x4f1)]};}catch(_0x196711){return _0x196711;}}async['delete'](_0x59369b,_0x286554){const _0x111512=a0_0xad378c;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x286554)['deleteMany']({..._0x59369b['where']}))['deletedCount']};}catch(_0x1f5ac0){return{'error':_0x1f5ac0?.[_0x111512(0x3d2)]()};}}async[a0_0xad378c(0x29d)](_0x52bb55,_0xb7f538){const _0x11b805=a0_0xad378c;try{if(_0x52bb55['length']===0x0)return;let _0xf28542=this[_0x11b805(0x4c4)](_0xb7f538),_0x3602ed=_0x52bb55[_0x11b805(0x4a4)](_0x1516e8=>({'updateOne':{'filter':{'_id':_0x1516e8[_0x11b805(0x81f)],'owner':_0xb7f538},'update':{..._0x1516e8}}})),{modifiedCount:_0xf87942}=await _0xf28542[_0x11b805(0x835)](_0x3602ed);return{'insertCount':_0xf87942};}catch{return;}}async[a0_0xad378c(0x84a)](_0x441eb7,_0x2ec3e6){const _0x9a0de8=a0_0xad378c;try{let _0x469b74=this[_0x9a0de8(0x4c4)](_0x2ec3e6),_0x37d8ec=T(_0x441eb7['where']);return await _0x469b74['find'](_0x37d8ec)['limit'](_0x441eb7?.['limit']??0x0)[_0x9a0de8(0x192)]();}catch{return[];}}async[a0_0xad378c(0x5cc)](_0x36e5c7,_0x4bad8d){const _0x3a3587=a0_0xad378c;try{let _0x778a70=this[_0x3a3587(0x4c4)](_0x4bad8d),_0x436333=T(_0x36e5c7[_0x3a3587(0x8b5)]);return await _0x778a70[_0x3a3587(0x5cc)](_0x436333)['lean']();}catch{return null;}}async[a0_0xad378c(0x6ac)](_0x27ef47){const _0x9105f=a0_0xad378c;try{return await this[_0x9105f(0x4c4)](_0x27ef47)[_0x9105f(0x4d1)]['drop'](),{'success':!0x0};}catch(_0x395d60){return console[_0x9105f(0x5fe)](_0x395d60),{'success':!0x1,'error':_0x395d60};}}},nt=require(a0_0xad378c(0x4d6)),Pc=require(a0_0xad378c(0x53d)),Es=new $('Validate'),V=class{[a0_0xad378c(0x7e3)](_0x111531,_0x29d481=!0x0){const _0x38d2bb=a0_0xad378c;let _0x2be430='/'+_0x111531;return _0x29d481&&(_0x2be430+=_0x38d2bb(0x7ad)),_0x2be430;}async[a0_0xad378c(0x84b)](_0x336ee2){const _0x4f1236=a0_0xad378c;let {request:_0x3629e3,schema:_0x16d2d5,ClassRef:_0x303d7f,execute:_0x54744a}=_0x336ee2,_0x1c1576=new _0x303d7f(),_0x1b1eb6=_0x3629e3[_0x4f1236(0x3f7)],_0x39a8e=_0x3629e3[_0x4f1236(0x7ae)];_0x3629e3?.['query']&&Object[_0x4f1236(0x178)](_0x3629e3[_0x4f1236(0x762)])[_0x4f1236(0x4f1)]>0x0&&Object[_0x4f1236(0x39f)](_0x39a8e,_0x3629e3['query']),_0x3629e3[_0x4f1236(0x1be)][_0x4f1236(0x77b)](_0x4f1236(0x2b0))&&Object[_0x4f1236(0x39f)](_0x39a8e,_0x1b1eb6),Object[_0x4f1236(0x39f)](_0x1c1576,_0x1b1eb6);let _0x87271=_0x16d2d5?(0x0,nt['validate'])(_0x1c1576,_0x16d2d5):{'valid':!0x0,'errors':[]};if(!_0x87271[_0x4f1236(0x5e0)]){let _0x46b4=_0x87271[_0x4f1236(0x8d1)]['map'](({property:_0xcff8bd,stack:_0x574fd7,schema:_0x1816f8})=>{const _0x4de784=_0x4f1236;let _0x3ef093;return _0x1816f8[_0x4de784(0x5d9)]?_0x3ef093=_0x1816f8[_0x4de784(0x5d9)]:_0x3ef093=_0x574fd7[_0x4de784(0x568)]('instance.',''),{'property':_0xcff8bd[_0x4de784(0x568)](_0x4de784(0x5d2),''),'message':_0x3ef093};});throw Es[_0x4f1236(0x5fe)]([..._0x46b4]),new m(..._0x46b4);}return await _0x54744a(_0x39a8e,_0x1c1576);}async['groupValidate'](_0x579744){const _0x3d3e7b=a0_0xad378c;let {request:_0x52b008,ClassRef:_0x27d43e,schema:_0x22b220,execute:_0x2d1be6}=_0x579744,_0xfe4efb=_0x52b008[_0x3d3e7b(0x762)];if(!_0xfe4efb?.['groupJid'])throw new m(_0x3d3e7b(0x822),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x23db23=_0x52b008[_0x3d3e7b(0x7ae)],_0x450ab5=_0x52b008['body'],_0x18286c=new _0x27d43e();Object['assign'](_0x450ab5,_0xfe4efb),Object['assign'](_0x18286c,_0x450ab5);let _0x64e3fa=(0x0,nt['validate'])(_0x18286c,_0x22b220);if(!_0x64e3fa[_0x3d3e7b(0x5e0)]){let _0x12b4ef=_0x64e3fa[_0x3d3e7b(0x8d1)]['map'](({property:_0x1d5aba,stack:_0x369478,schema:_0x4c2ed8})=>{const _0x2fc10b=_0x3d3e7b;let _0x4c08b0;return _0x4c2ed8[_0x2fc10b(0x5d9)]?_0x4c08b0=_0x4c2ed8[_0x2fc10b(0x5d9)]:_0x4c08b0=_0x369478[_0x2fc10b(0x568)](_0x2fc10b(0x5d2),''),{'property':_0x1d5aba['replace']('instance.',''),'message':_0x4c08b0};});throw Es['error']([..._0x12b4ef]),new m(..._0x12b4ef);}return await _0x2d1be6(_0x23db23,_0x18286c);}async['joinGroupValidate'](_0x4e6615){const _0x222507=a0_0xad378c;let {request:_0x3ca8ea,ClassRef:_0x38aa2e,schema:_0x3f277a,execute:_0x4551f4}=_0x4e6615,_0x830333=_0x3ca8ea[_0x222507(0x3f7)];if(!_0x830333?.[_0x222507(0x656)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x569648=_0x3ca8ea['params'],_0x409a7d=_0x3ca8ea[_0x222507(0x3f7)],_0x7ee029=new _0x38aa2e();Object['assign'](_0x409a7d,_0x830333),Object[_0x222507(0x39f)](_0x7ee029,_0x409a7d);let _0x13e39a=(0x0,nt['validate'])(_0x7ee029,_0x3f277a);if(!_0x13e39a[_0x222507(0x5e0)]){let _0x5d7061=_0x13e39a[_0x222507(0x8d1)][_0x222507(0x4a4)](({property:_0x7fb38b,stack:_0x4dcee0,schema:_0x1cfaf3})=>{const _0x2bd0cf=_0x222507;let _0x1d317d;return _0x1cfaf3[_0x2bd0cf(0x5d9)]?_0x1d317d=_0x1cfaf3[_0x2bd0cf(0x5d9)]:_0x1d317d=_0x4dcee0['replace'](_0x2bd0cf(0x5d2),''),{'property':_0x7fb38b['replace'](_0x2bd0cf(0x5d2),''),'message':_0x1d317d};});throw Es[_0x222507(0x5fe)]([..._0x5d7061]),new m(..._0x5d7061);}return await _0x4551f4(_0x569648,_0x7ee029);}},M=class{},Qc=new $(a0_0xad378c(0x85c)),ct=class extends V{constructor(..._0x1c144d){const _0x50b753=a0_0xad378c;super(),this['router']=(0x0,li['Router'])(),this[_0x50b753(0x3b4)][_0x50b753(0x7a7)](this['routerPath'](_0x50b753(0x68d)),..._0x1c144d,async(_0x58726a,_0x664c56)=>{const _0x56cd3c=_0x50b753;let _0x3adfee=await this['dataValidate']({'request':_0x58726a,'schema':Za,'ClassRef':Qe,'execute':(_0xfcadf8,_0x23679b)=>P[_0x56cd3c(0x68d)](_0xfcadf8,_0x23679b)});return _0x664c56[_0x56cd3c(0x616)](0xc9)[_0x56cd3c(0x2e3)](_0x3adfee);})[_0x50b753(0x7a7)](this[_0x50b753(0x7e3)](_0x50b753(0x1e2)),..._0x1c144d,async(_0x39c144,_0x4945c2)=>{const _0x24170b=_0x50b753;let _0x1781bb=await this[_0x24170b(0x84b)]({'request':_0x39c144,'schema':Va,'ClassRef':Ye,'execute':(_0x569771,_0x216835)=>P['whatsappNumber'](_0x569771,_0x216835)});return _0x4945c2[_0x24170b(0x616)](0xc9)['json'](_0x1781bb);})[_0x50b753(0x7a7)](this['routerPath']('editChat'),..._0x1c144d,async(_0x2062b5,_0xb99eea)=>{const _0x47f487=_0x50b753;let _0x4df844=await this['dataValidate']({'request':_0x2062b5,'schema':N,'ClassRef':M,'execute':(_0x50e93f,_0x9bd7c5)=>P[_0x47f487(0x1db)](_0x50e93f,_0x9bd7c5)});return _0xb99eea[_0x47f487(0x616)](0xc9)[_0x47f487(0x2e3)](_0x4df844);})[_0x50b753(0x667)](this['routerPath'](_0x50b753(0x703)),..._0x1c144d,async(_0x2eb8a0,_0x458cd6)=>{const _0x5ef82d=_0x50b753;let _0x1c5d60=await this[_0x5ef82d(0x84b)]({'request':_0x2eb8a0,'schema':Ga,'ClassRef':et,'execute':(_0x48b217,_0xde6a92)=>P[_0x5ef82d(0x2fa)](_0x48b217,_0xde6a92)});return _0x458cd6['status'](0xc9)[_0x5ef82d(0x2e3)](_0x1c5d60);})[_0x50b753(0x667)](this[_0x50b753(0x7e3)](_0x50b753(0x73d)),..._0x1c144d,async(_0x2eb140,_0x1f8710)=>{const _0x19d764=_0x50b753;let _0x181282=await this[_0x19d764(0x84b)]({'request':_0x2eb140,'schema':Wa,'ClassRef':tt,'execute':(_0x147087,_0x3569a2)=>P['archiveChat'](_0x147087,_0x3569a2)});return _0x1f8710[_0x19d764(0x616)](0xc9)[_0x19d764(0x2e3)](_0x181282);})[_0x50b753(0x8aa)](this[_0x50b753(0x7e3)](_0x50b753(0x448)),..._0x1c144d,async(_0x41e550,_0x23220b)=>{const _0x275e51=_0x50b753;let _0x487136=await this[_0x275e51(0x84b)]({'request':_0x41e550,'schema':za,'ClassRef':at,'execute':(_0x1235f8,_0x4a0e72)=>P[_0x275e51(0x3b1)](_0x1235f8,_0x4a0e72)});return _0x23220b[_0x275e51(0x616)](0xc9)[_0x275e51(0x2e3)](_0x487136);})['post'](this[_0x50b753(0x7e3)](_0x50b753(0x72b)),..._0x1c144d,async(_0x414a54,_0x9369e3)=>{const _0x3e2ff6=_0x50b753;let _0x346a71=await this['dataValidate']({'request':_0x414a54,'schema':Oe,'ClassRef':Te,'execute':(_0x535446,_0x5ad285)=>P[_0x3e2ff6(0x180)](_0x535446,_0x5ad285)});return _0x9369e3[_0x3e2ff6(0x616)](0xc8)[_0x3e2ff6(0x2e3)](_0x346a71);})[_0x50b753(0x7a7)](this[_0x50b753(0x7e3)](_0x50b753(0x534)),..._0x1c144d,async(_0x2a2252,_0x300549)=>{const _0x1731f9=_0x50b753;let _0x275abd=await this[_0x1731f9(0x84b)]({'request':_0x2a2252,'schema':Ya,'ClassRef':Te,'execute':(_0x38f5df,_0x3e733f)=>P['fetchProfile'](_0x38f5df,_0x3e733f)});return _0x300549[_0x1731f9(0x616)](0xc8)[_0x1731f9(0x2e3)](_0x275abd);})[_0x50b753(0x7a7)](this['routerPath'](_0x50b753(0x1a5)),..._0x1c144d,async(_0x46feee,_0x5f1833)=>{const _0x3caaf1=_0x50b753;let _0x26fa38=await this[_0x3caaf1(0x84b)]({'request':_0x46feee,'schema':Ha,'ClassRef':ot,'execute':(_0x379832,_0x5a6454)=>P[_0x3caaf1(0x6a3)](_0x379832,_0x5a6454)});return _0x5f1833[_0x3caaf1(0x616)](0xc8)[_0x3caaf1(0x2e3)](_0x26fa38);})['post'](this[_0x50b753(0x7e3)]('getBase64FromMediaMessage'),..._0x1c144d,async(_0x3f3da7,_0x5edc96)=>{const _0x2ed149=_0x50b753;let _0x19dcbc=await this[_0x2ed149(0x84b)]({'request':_0x3f3da7,'schema':null,'ClassRef':Object,'execute':(_0x4b2657,_0x11b983)=>P['getBase64FromMediaMessage'](_0x4b2657,_0x11b983)});return _0x5edc96[_0x2ed149(0x616)](0xc9)[_0x2ed149(0x2e3)](_0x19dcbc);})['post'](this['routerPath'](_0x50b753(0x41c)),..._0x1c144d,async(_0x7d0efd,_0x307db0)=>{const _0x539329=_0x50b753;let _0x1e98cd=await this[_0x539329(0x84b)]({'request':_0x7d0efd,'schema':Xa,'ClassRef':He,'execute':(_0x12f4b7,_0x12f2da)=>P['fetchMessages'](_0x12f4b7,_0x12f2da)});return _0x307db0[_0x539329(0x616)](0xc8)[_0x539329(0x2e3)](_0x1e98cd);})[_0x50b753(0x1ff)](this[_0x50b753(0x7e3)]('findChats'),..._0x1c144d,async(_0x10effd,_0x2fb99e)=>{const _0x4ad81d=_0x50b753;let _0x21947b=await this[_0x4ad81d(0x84b)]({'request':_0x10effd,'schema':null,'ClassRef':M,'execute':_0x4f7250=>P[_0x4ad81d(0x642)](_0x4f7250)});return _0x2fb99e[_0x4ad81d(0x616)](0xc8)[_0x4ad81d(0x2e3)](_0x21947b);})[_0x50b753(0x1ff)](this[_0x50b753(0x7e3)](_0x50b753(0x187)),..._0x1c144d,async(_0x1dd577,_0x1df778)=>{const _0x5733a6=_0x50b753;let _0x385902=await this[_0x5733a6(0x84b)]({'request':_0x1dd577,'schema':null,'ClassRef':M,'execute':_0x591163=>P['fetchLabels'](_0x591163)});return _0x1df778[_0x5733a6(0x616)](0xc8)[_0x5733a6(0x2e3)](_0x385902);})[_0x50b753(0x667)](this['routerPath'](_0x50b753(0x234)),..._0x1c144d,async(_0x2b8b5c,_0x59f379)=>{const _0x53e567=_0x50b753;let _0x403e97=await this[_0x53e567(0x84b)]({'request':_0x2b8b5c,'schema':null,'ClassRef':Array,'execute':(_0x2eff67,_0x3abf1b)=>P[_0x53e567(0x234)](_0x2eff67,_0x3abf1b)});return _0x59f379[_0x53e567(0x616)](0xc8)[_0x53e567(0x2e3)](_0x403e97);})[_0x50b753(0x1ff)](this['routerPath'](_0x50b753(0x798)),..._0x1c144d,async(_0x59e486,_0x80c47)=>{let _0x30242b=await this['dataValidate']({'request':_0x59e486,'schema':null,'ClassRef':M,'execute':_0x3e5fe2=>P['fetchPrivacySettings'](_0x3e5fe2)});return _0x80c47['status'](0xc8)['json'](_0x30242b);})[_0x50b753(0x667)](this[_0x50b753(0x7e3)](_0x50b753(0x65d)),..._0x1c144d,async(_0x13017d,_0x54ee16)=>{const _0x42060c=_0x50b753;let _0x2a4810=await this['dataValidate']({'request':_0x13017d,'schema':Ba,'ClassRef':st,'execute':(_0x56bdd0,_0x5a3f71)=>P[_0x42060c(0x65d)](_0x56bdd0,_0x5a3f71)});return _0x54ee16['status'](0xc9)['json'](_0x2a4810);})[_0x50b753(0x7a7)](this[_0x50b753(0x7e3)]('fetchBusinessProfile'),..._0x1c144d,async(_0xd88746,_0xea34df)=>{const _0x557773=_0x50b753;let _0x2d4a16=await this['dataValidate']({'request':_0xd88746,'schema':Oe,'ClassRef':Ee,'execute':(_0x2606b,_0xfc9ef7)=>P[_0x557773(0x205)](_0x2606b,_0xfc9ef7)});return _0xea34df['status'](0xc8)['json'](_0x2d4a16);})[_0x50b753(0x7a7)](this[_0x50b753(0x7e3)](_0x50b753(0x4f2)),..._0x1c144d,async(_0x29a402,_0x423caa)=>{const _0x2ff7fd=_0x50b753;let _0x882272=await this[_0x2ff7fd(0x84b)]({'request':_0x29a402,'schema':Ka,'ClassRef':Xe,'execute':(_0x4a5106,_0x3c9b1c)=>P['updateProfileName'](_0x4a5106,_0x3c9b1c)});return _0x423caa['status'](0xc8)[_0x2ff7fd(0x2e3)](_0x882272);})[_0x50b753(0x7a7)](this[_0x50b753(0x7e3)](_0x50b753(0x7b6)),..._0x1c144d,async(_0x4f07a7,_0x333c66)=>{const _0x6cab5d=_0x50b753;let _0x2fc7ad=await this[_0x6cab5d(0x84b)]({'request':_0x4f07a7,'schema':Qa,'ClassRef':Ze,'execute':(_0x1a6c31,_0x1a6369)=>P[_0x6cab5d(0x7b6)](_0x1a6c31,_0x1a6369)});return _0x333c66['status'](0xc8)[_0x6cab5d(0x2e3)](_0x2fc7ad);})[_0x50b753(0x667)](this[_0x50b753(0x7e3)](_0x50b753(0x8ae)),..._0x1c144d,async(_0x53859b,_0x362577)=>{const _0x1af78c=_0x50b753;let _0x183fe1=await this['dataValidate']({'request':_0x53859b,'schema':Oe,'ClassRef':Ee,'execute':(_0x17617b,_0x28439a)=>P[_0x1af78c(0x8ae)](_0x17617b,_0x28439a)});return _0x362577[_0x1af78c(0x616)](0xc8)['json'](_0x183fe1);})['delete'](this[_0x50b753(0x7e3)](_0x50b753(0x861)),..._0x1c144d,async(_0x2b65b8,_0x1abfc0)=>{const _0x526272=_0x50b753;let _0x1b4843=await this['dataValidate']({'request':_0x2b65b8,'schema':Oe,'ClassRef':Ee,'execute':(_0x45e900,_0x658c52)=>P[_0x526272(0x861)](_0x45e900,_0x658c52)});return _0x1abfc0[_0x526272(0x616)](0xc8)['json'](_0x1b4843);});}},ui=require(a0_0xad378c(0x473)),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},ee=class{},De=class{},mt=class extends ee{},ft=class extends ee{},wt=class extends V{constructor(..._0x410eee){const _0x30d498=a0_0xad378c;super(),this[_0x30d498(0x3b4)]=(0x0,ui['Router'])(),this['router'][_0x30d498(0x7a7)](this[_0x30d498(0x7e3)]('create'),..._0x410eee,async(_0x4c623c,_0xcb9a43)=>{const _0x3332d7=_0x30d498;let _0x4e9ff0=await this[_0x3332d7(0x84b)]({'request':_0x4c623c,'schema':ei,'ClassRef':lt,'execute':(_0x70601b,_0x572d4b)=>q[_0x3332d7(0x529)](_0x70601b,_0x572d4b)});_0xcb9a43[_0x3332d7(0x616)](0xc9)[_0x3332d7(0x2e3)](_0x4e9ff0);})[_0x30d498(0x667)](this[_0x30d498(0x7e3)](_0x30d498(0x846)),..._0x410eee,async(_0x33fe13,_0x1f4831)=>{const _0x5456d8=_0x30d498;let _0xdbfe20=await this[_0x5456d8(0x1cb)]({'request':_0x33fe13,'schema':ai,'ClassRef':ut,'execute':(_0x58643c,_0x179323)=>q[_0x5456d8(0x846)](_0x58643c,_0x179323)});_0x1f4831['status'](0xc9)['json'](_0xdbfe20);})[_0x30d498(0x667)](this[_0x30d498(0x7e3)](_0x30d498(0x1a1)),..._0x410eee,async(_0x5cadac,_0x59b13c)=>{const _0x360504=_0x30d498;let _0x33247d=await this[_0x360504(0x1cb)]({'request':_0x5cadac,'schema':ii,'ClassRef':dt,'execute':(_0x532ca6,_0x42f52d)=>q[_0x360504(0x1a1)](_0x532ca6,_0x42f52d)});_0x59b13c[_0x360504(0x616)](0xc9)[_0x360504(0x2e3)](_0x33247d);})[_0x30d498(0x667)](this[_0x30d498(0x7e3)](_0x30d498(0x1d3)),..._0x410eee,async(_0xf90bb3,_0x1e290e)=>{const _0x7acf4c=_0x30d498;let _0x715759=await this[_0x7acf4c(0x1cb)]({'request':_0xf90bb3,'schema':oi,'ClassRef':pt,'execute':(_0x12e098,_0x16d1ad)=>q[_0x7acf4c(0x1d3)](_0x12e098,_0x16d1ad)});_0x1e290e['status'](0xc9)[_0x7acf4c(0x2e3)](_0x715759);})[_0x30d498(0x667)](this[_0x30d498(0x7e3)](_0x30d498(0x6b2)),..._0x410eee,async(_0x1d37dc,_0x54a90d)=>{const _0xfa882a=_0x30d498;let _0x2b9940=await this[_0xfa882a(0x1cb)]({'request':_0x1d37dc,'schema':ni,'ClassRef':gt,'execute':(_0x169d5e,_0x33729f)=>q[_0xfa882a(0x6b2)](_0x169d5e,_0x33729f)});_0x54a90d[_0xfa882a(0x616)](0xc9)[_0xfa882a(0x2e3)](_0x2b9940);})['put'](this[_0x30d498(0x7e3)](_0x30d498(0x255)),..._0x410eee,async(_0x3dc6d1,_0x18acc9)=>{const _0x1ff9d6=_0x30d498;let _0x419636=await this[_0x1ff9d6(0x1cb)]({'request':_0x3dc6d1,'schema':ri,'ClassRef':ht,'execute':(_0x23390c,_0x5f2e76)=>q[_0x1ff9d6(0x255)](_0x23390c,_0x5f2e76)});_0x18acc9['status'](0xc9)[_0x1ff9d6(0x2e3)](_0x419636);})[_0x30d498(0x667)](this[_0x30d498(0x7e3)](_0x30d498(0x85e)),..._0x410eee,async(_0x54ef26,_0x2769eb)=>{const _0x21805a=_0x30d498;let _0x20c00d=await this[_0x21805a(0x1cb)]({'request':_0x54ef26,'schema':si,'ClassRef':ft,'execute':(_0xdc6014,_0x49a819)=>q['toggleEphemeral'](_0xdc6014,_0x49a819)});_0x2769eb['status'](0xc9)[_0x21805a(0x2e3)](_0x20c00d);})[_0x30d498(0x1ff)](this[_0x30d498(0x7e3)](_0x30d498(0x4b7)),..._0x410eee,async(_0x1de58a,_0x2f68c8)=>{const _0x381f3f=_0x30d498;let _0x14d6d5=await this[_0x381f3f(0x1cb)]({'request':_0x1de58a,'schema':xe,'ClassRef':ee,'execute':(_0xd212fc,_0x30ed27)=>q[_0x381f3f(0x8b8)](_0xd212fc,_0x30ed27)});_0x2f68c8['status'](0xc8)[_0x381f3f(0x2e3)](_0x14d6d5);})[_0x30d498(0x1ff)](this['routerPath'](_0x30d498(0x837)),..._0x410eee,async(_0x1610a5,_0x5ca27f)=>{const _0x5c0a0b=_0x30d498;let _0xdb809f=await this[_0x5c0a0b(0x84b)]({'request':_0x1610a5,'schema':N,'ClassRef':M,'execute':_0x223d55=>q['findGroups'](_0x223d55)});_0x5ca27f['status'](0xc8)[_0x5c0a0b(0x2e3)](_0xdb809f);})[_0x30d498(0x1ff)](this[_0x30d498(0x7e3)]('participants'),..._0x410eee,async(_0x5134be,_0x5630b7)=>{const _0x4a221e=_0x30d498;let _0x2750b0=await this[_0x4a221e(0x1cb)]({'request':_0x5134be,'schema':xe,'ClassRef':ee,'execute':(_0x292ee4,_0x1adfc0)=>q['findParticipants'](_0x292ee4,_0x1adfc0)});_0x5630b7['status'](0xc8)[_0x4a221e(0x2e3)](_0x2750b0);})['get'](this[_0x30d498(0x7e3)](_0x30d498(0x656)),..._0x410eee,async(_0x28df9d,_0x3f1d39)=>{const _0x2412bb=_0x30d498;let _0x347c11=await this['groupValidate']({'request':_0x28df9d,'schema':xe,'ClassRef':ee,'execute':(_0x5c007d,_0x23fb60)=>q[_0x2412bb(0x656)](_0x5c007d,_0x23fb60)});_0x3f1d39[_0x2412bb(0x616)](0xc8)[_0x2412bb(0x2e3)](_0x347c11);})[_0x30d498(0x7a7)](this[_0x30d498(0x7e3)]('inviteCodeDetails'),..._0x410eee,async(_0x379e14,_0xb98521)=>{const _0x58a8c6=_0x30d498;let _0x213f32=await this['joinGroupValidate']({'request':_0x379e14,'schema':Cs,'ClassRef':De,'execute':(_0x2d0be1,_0x416f2f)=>q[_0x58a8c6(0x392)](_0x2d0be1,_0x416f2f)});_0xb98521[_0x58a8c6(0x616)](0xc9)[_0x58a8c6(0x2e3)](_0x213f32);})[_0x30d498(0x667)](this[_0x30d498(0x7e3)](_0x30d498(0x751)),..._0x410eee,async(_0x28dafe,_0x412993)=>{const _0x5e0cd4=_0x30d498;let _0x41ccdf=await this['joinGroupValidate']({'request':_0x28dafe,'schema':Cs,'ClassRef':De,'execute':(_0x38f53e,_0x2a35b0)=>q[_0x5e0cd4(0x751)](_0x38f53e,_0x2a35b0)});_0x412993['status'](0xc9)['json'](_0x41ccdf);})[_0x30d498(0x667)](this['routerPath'](_0x30d498(0x4fd)),..._0x410eee,async(_0x34c8d7,_0x3523c3)=>{const _0x2c0e79=_0x30d498;let _0xa6da2c=await this['groupValidate']({'request':_0x34c8d7,'schema':xe,'ClassRef':ee,'execute':(_0x156748,_0x433f67)=>q[_0x2c0e79(0x4fd)](_0x156748,_0x433f67)});_0x3523c3[_0x2c0e79(0x616)](0xc9)[_0x2c0e79(0x2e3)](_0xa6da2c);})[_0x30d498(0x667)](this[_0x30d498(0x7e3)]('updateParticipant'),..._0x410eee,async(_0x4dcd06,_0xd609a3)=>{const _0x3f38ae=_0x30d498;let _0x5397a9=await this['groupValidate']({'request':_0x4dcd06,'schema':ti,'ClassRef':mt,'execute':(_0x4e1a50,_0x500523)=>q[_0x3f38ae(0x4ee)](_0x4e1a50,_0x500523)});_0xd609a3[_0x3f38ae(0x616)](0xc9)[_0x3f38ae(0x2e3)](_0x5397a9);})[_0x30d498(0x8aa)](this[_0x30d498(0x7e3)](_0x30d498(0x672)),..._0x410eee,async(_0x4779e2,_0x3c24c5)=>{const _0x5e4fad=_0x30d498;let _0x248692=await this[_0x5e4fad(0x1cb)]({'request':_0x4779e2,'schema':{},'ClassRef':ee,'execute':(_0x25ccab,_0x3b07b6)=>q[_0x5e4fad(0x672)](_0x25ccab,_0x3b07b6)});_0x3c24c5['status'](0xc8)[_0x5e4fad(0x2e3)](_0x248692);});}},di=require(a0_0xad378c(0x473)),yt=class extends V{constructor(_0x523762,..._0x3d1f37){const _0x43ea05=a0_0xad378c;super(),this['configService']=_0x523762,this[_0x43ea05(0x3b4)]=(0x0,di[_0x43ea05(0x79d)])();let _0x383f63=_0x523762['get'](_0x43ea05(0x788));this[_0x43ea05(0x3b4)][_0x43ea05(0x7a7)]('/create',..._0x3d1f37,async(_0xe86ddb,_0x4876cc)=>{const _0x1c8a06=_0x43ea05;let {instanceName:_0x5166e4,apikey:_0x4f520f,number:_0x18916c}=_0xe86ddb[_0x1c8a06(0x3f7)],_0x3ffb34=await de[_0x1c8a06(0x3c1)]({'instanceName':_0x5166e4,'apikey':_0x4f520f,'number':_0x18916c});return _0x4876cc[_0x1c8a06(0x616)](0xc9)[_0x1c8a06(0x2e3)](_0x3ffb34);})['put'](this['routerPath'](_0x43ea05(0x375)),..._0x3d1f37,async(_0x3e22fb,_0x1cf42b)=>{const _0xc53afa=_0x43ea05;let _0x36a9c5=await this[_0xc53afa(0x84b)]({'request':_0x3e22fb,'schema':N,'ClassRef':M,'execute':_0x2ecc21=>de[_0xc53afa(0x560)](_0x2ecc21)});return _0x1cf42b[_0xc53afa(0x616)](0xc8)['json'](_0x36a9c5);})[_0x43ea05(0x1ff)](this[_0x43ea05(0x7e3)](_0x43ea05(0x6f8)),..._0x3d1f37,async(_0x411cce,_0xcc10d)=>{const _0x226e79=_0x43ea05;let _0x178ca0=await this['dataValidate']({'request':_0x411cce,'schema':N,'ClassRef':M,'execute':_0x200cb7=>de[_0x226e79(0x221)](_0x200cb7)});return _0xcc10d[_0x226e79(0x616)](0xc8)[_0x226e79(0x2e3)](_0x178ca0);})['get'](this[_0x43ea05(0x7e3)]('connectionState'),..._0x3d1f37,async(_0x46ca65,_0x11a6e8)=>{const _0x40eb28=_0x43ea05;let _0x3cab4d=await this['dataValidate']({'request':_0x46ca65,'schema':N,'ClassRef':M,'execute':_0x759dad=>de[_0x40eb28(0x86d)](_0x759dad)});return _0x11a6e8[_0x40eb28(0x616)](0xc8)['json'](_0x3cab4d);})[_0x43ea05(0x1ff)](this[_0x43ea05(0x7e3)]('fetchInstances',!0x1),..._0x3d1f37,async(_0x39ff87,_0x5a9f75)=>{const _0x442fea=_0x43ea05;let _0x30598e=await this['dataValidate']({'request':_0x39ff87,'schema':null,'ClassRef':M,'execute':_0x91dbef=>de[_0x442fea(0x46b)](_0x91dbef)});return _0x5a9f75[_0x442fea(0x616)](0xc8)[_0x442fea(0x2e3)](_0x30598e);})['delete'](this[_0x43ea05(0x7e3)]('logout'),..._0x3d1f37,async(_0x231392,_0x45717a)=>{const _0x4fbd60=_0x43ea05;let _0x3c4e3f=await this[_0x4fbd60(0x84b)]({'request':_0x231392,'schema':N,'ClassRef':M,'execute':_0x2f70e6=>de[_0x4fbd60(0x3db)](_0x2f70e6)});return _0x45717a[_0x4fbd60(0x616)](0xc8)['json'](_0x3c4e3f);})[_0x43ea05(0x8aa)](this[_0x43ea05(0x7e3)](_0x43ea05(0x8aa)),..._0x3d1f37,async(_0x1f9129,_0x20a2f4)=>{const _0x3f6027=_0x43ea05;let _0x37d794=await this[_0x3f6027(0x84b)]({'request':_0x1f9129,'schema':N,'ClassRef':M,'execute':_0xd14590=>de[_0x3f6027(0x7e2)](_0xd14590)});return _0x20a2f4[_0x3f6027(0x616)](0xc8)['json'](_0x37d794);});}},pi=require(a0_0xad378c(0x473)),vs=class{},Q=class extends vs{},bt=class extends Q{},St=class extends Q{},Mt=class extends Q{},Ct=class extends Q{},Pe=class extends Q{},Et=class extends Q{},vt=class extends Q{},Nt=class extends Q{},$t=class extends Q{},Rt=class{},At=class extends V{constructor(..._0x2f3b5d){const _0x1947d3=a0_0xad378c;super(),this[_0x1947d3(0x3b4)]=(0x0,pi[_0x1947d3(0x79d)])(),this[_0x1947d3(0x3b4)][_0x1947d3(0x7a7)](this[_0x1947d3(0x7e3)](_0x1947d3(0x7bf)),..._0x2f3b5d,async(_0x9fa16b,_0x5a5720)=>{const _0x524578=_0x1947d3;let _0x1850d3=await this[_0x524578(0x84b)]({'request':_0x9fa16b,'schema':_a,'ClassRef':bt,'execute':(_0xc18ff1,_0x3fcfe8)=>W[_0x524578(0x7bf)](_0xc18ff1,_0x3fcfe8)});return _0x5a5720[_0x524578(0x616)](0xc9)[_0x524578(0x2e3)](_0x1850d3);})[_0x1947d3(0x7a7)](this[_0x1947d3(0x7e3)]('sendMedia'),..._0x2f3b5d,async(_0x4e2d61,_0x581ecf)=>{const _0xca6a74=_0x1947d3;let _0x3b5940=await this[_0xca6a74(0x84b)]({'request':_0x4e2d61,'schema':Pa,'ClassRef':Pe,'execute':(_0x2ed453,_0xbe7977)=>W['sendMedia'](_0x2ed453,_0xbe7977)});return _0x581ecf[_0xca6a74(0x616)](0xc9)['json'](_0x3b5940);})[_0x1947d3(0x7a7)](this[_0x1947d3(0x7e3)](_0x1947d3(0x716)),..._0x2f3b5d,async(_0x57aa99,_0x311232)=>{const _0x49517d=_0x1947d3;let _0x4e0777=await this[_0x49517d(0x84b)]({'request':_0x57aa99,'schema':Fa,'ClassRef':Ct,'execute':(_0x1fa6eb,_0x564cef)=>W[_0x49517d(0x716)](_0x1fa6eb,_0x564cef)});return _0x311232[_0x49517d(0x616)](0xc9)['json'](_0x4e0777);})['post'](this[_0x1947d3(0x7e3)](_0x1947d3(0x8a3)),..._0x2f3b5d,async(_0x3227ff,_0x4c78d1)=>{const _0xaaabf8=_0x1947d3;let _0x1dfbce=await this[_0xaaabf8(0x84b)]({'request':_0x3227ff,'schema':ka,'ClassRef':Pe,'execute':(_0x531a79,_0x1103a5)=>W[_0xaaabf8(0x8a3)](_0x531a79,_0x1103a5)});return _0x4c78d1[_0xaaabf8(0x616)](0xc9)['json'](_0x1dfbce);})[_0x1947d3(0x7a7)](this[_0x1947d3(0x7e3)](_0x1947d3(0x59c)),..._0x2f3b5d,async(_0x44661b,_0x131718)=>{const _0x39593b=_0x1947d3;let _0x5d065a=await this[_0x39593b(0x84b)]({'request':_0x44661b,'schema':Ua,'ClassRef':vt,'execute':(_0x658f33,_0x1c9ef1)=>W['sendLocation'](_0x658f33,_0x1c9ef1)});return _0x131718[_0x39593b(0x616)](0xc9)['json'](_0x5d065a);})[_0x1947d3(0x7a7)](this['routerPath'](_0x1947d3(0x327)),..._0x2f3b5d,async(_0x2b8ef2,_0x3eec6a)=>{const _0x20f7ae=_0x1947d3;let _0x2ad7aa=await this[_0x20f7ae(0x84b)]({'request':_0x2b8ef2,'schema':ja,'ClassRef':Nt,'execute':(_0x60d0be,_0x1037ae)=>W[_0x20f7ae(0x327)](_0x60d0be,_0x1037ae)});return _0x3eec6a[_0x20f7ae(0x616)](0xc9)['json'](_0x2ad7aa);})[_0x1947d3(0x7a7)](this[_0x1947d3(0x7e3)](_0x1947d3(0x7b8)),..._0x2f3b5d,async(_0x26ec45,_0x359641)=>{const _0x5d2cf0=_0x1947d3;let _0x44209d=await this[_0x5d2cf0(0x84b)]({'request':_0x26ec45,'schema':Ja,'ClassRef':$t,'execute':(_0x1c3c9d,_0x1c7061)=>W[_0x5d2cf0(0x7b8)](_0x1c3c9d,_0x1c7061)});return _0x359641['status'](0xc9)[_0x5d2cf0(0x2e3)](_0x44209d);})[_0x1947d3(0x7a7)](this[_0x1947d3(0x7e3)](_0x1947d3(0x749)),..._0x2f3b5d,async(_0x2d3f86,_0x5b31ea)=>{const _0x370497=_0x1947d3;let _0x3009f6=await this[_0x370497(0x84b)]({'request':_0x2d3f86,'schema':qa,'ClassRef':Rt,'execute':(_0x4c7f18,_0x2b90c0)=>W[_0x370497(0x749)](_0x4c7f18,_0x2b90c0)});return _0x5b31ea[_0x370497(0x616)](0xc9)['json'](_0x3009f6);})['post'](this['routerPath'](_0x1947d3(0x74d)),..._0x2f3b5d,async(_0x5b1fa2,_0x514e2e)=>{const _0x100eb7=_0x1947d3;let _0x136acd=await this[_0x100eb7(0x84b)]({'request':_0x5b1fa2,'schema':La,'ClassRef':Mt,'execute':(_0x33ec09,_0x23506c)=>W[_0x100eb7(0x74d)](_0x33ec09,_0x23506c)});return _0x514e2e[_0x100eb7(0x616)](0xc9)[_0x100eb7(0x2e3)](_0x136acd);})[_0x1947d3(0x7a7)](this[_0x1947d3(0x7e3)]('sendStatus'),..._0x2f3b5d,async(_0x24f486,_0x368ae7)=>{const _0x5a4011=_0x1947d3;let _0x10fc1e=await this[_0x5a4011(0x84b)]({'request':_0x24f486,'schema':Da,'ClassRef':St,'execute':(_0x1b9fec,_0x4d7dce)=>W[_0x5a4011(0x608)](_0x1b9fec,_0x4d7dce)});return _0x368ae7['status'](0xc9)[_0x5a4011(0x2e3)](_0x10fc1e);})['post'](this[_0x1947d3(0x7e3)](_0x1947d3(0x7e9)),..._0x2f3b5d,async(_0x181bde,_0x555b2b)=>{let _0x263e27=await this['dataValidate']({'request':_0x181bde,'schema':xa,'ClassRef':Et,'execute':(_0x5a5f67,_0x3287db)=>W['sendSticker'](_0x5a5f67,_0x3287db)});return _0x555b2b['status'](0xc9)['json'](_0x263e27);});}},hi=require(a0_0xad378c(0x473)),It=class{},Tt=class extends V{constructor(..._0x130fcf){const _0x52d53a=a0_0xad378c;super(),this['router']=(0x0,hi['Router'])(),this[_0x52d53a(0x3b4)][_0x52d53a(0x7a7)](this['routerPath']('set'),..._0x130fcf,async(_0x567439,_0x92ad8d)=>{const _0xc249f7=_0x52d53a;let _0x2a63f9=await this[_0xc249f7(0x84b)]({'request':_0x567439,'schema':ci,'ClassRef':It,'execute':(_0x11dd7f,_0x26b60b)=>Ns[_0xc249f7(0x3b8)](_0x11dd7f,_0x26b60b)});_0x92ad8d[_0xc249f7(0x616)](0xc9)['json'](_0x2a63f9);})[_0x52d53a(0x1ff)](this[_0x52d53a(0x7e3)](_0x52d53a(0x84a)),..._0x130fcf,async(_0x3ba336,_0x5c8457)=>{const _0x4ce6e9=_0x52d53a;let _0x4736ae=await this[_0x4ce6e9(0x84b)]({'request':_0x3ba336,'schema':N,'ClassRef':M,'execute':_0x3a70a6=>Ns[_0x4ce6e9(0x7eb)](_0x3a70a6)});_0x5c8457['status'](0xc8)[_0x4ce6e9(0x2e3)](_0x4736ae);});}},gi=require(a0_0xad378c(0x473)),y=new $('FlowRouter'),_t=class extends V{constructor(..._0x5a745c){const _0x3f9722=a0_0xad378c;super(),this[_0x3f9722(0x3b4)]=(0x0,gi[_0x3f9722(0x79d)])(),this[_0x3f9722(0x3b4)]['post'](this['routerPath'](_0x3f9722(0x253)),..._0x5a745c,async(_0x155fbd,_0x34412c)=>{const _0x4a3f60=_0x3f9722;let _0x3d6568=_0x155fbd['body'];y[_0x4a3f60(0x8cc)](_0x4a3f60(0x64f)),y[_0x4a3f60(0x8cc)](_0x4a3f60(0x81d)),y[_0x4a3f60(0x8cc)](_0x155fbd[_0x4a3f60(0x3f7)]);let _0x40b971=await this[_0x4a3f60(0x84b)]({'request':_0x155fbd,'schema':N,'ClassRef':M,'execute':_0x1b42dc=>_[_0x4a3f60(0x526)](_0x1b42dc,_0x3d6568)});_0x34412c[_0x4a3f60(0x616)](0xc8)[_0x4a3f60(0x2e3)](_0x40b971);})[_0x3f9722(0x1ff)](this[_0x3f9722(0x7e3)](_0x3f9722(0x253)),..._0x5a745c,async(_0x56320f,_0x48c19d)=>{const _0x52dff3=_0x3f9722;let _0x1e519a=await this[_0x52dff3(0x84b)]({'request':_0x56320f,'schema':N,'ClassRef':M,'execute':_0x2d306b=>_['getScheduleMessage'](_0x2d306b)});_0x48c19d[_0x52dff3(0x616)](0xc8)['json'](_0x1e519a);})[_0x3f9722(0x8aa)](this[_0x3f9722(0x7e3)]('deleteDoneMessages'),..._0x5a745c,async(_0x4207d8,_0x308298)=>{const _0x4d7b66=_0x3f9722;y[_0x4d7b66(0x8cc)](_0x4d7b66(0x65b));let _0x7fb7f9=await this['dataValidate']({'request':_0x4207d8,'schema':N,'ClassRef':M,'execute':_0x40b9a8=>_['deleteDoneMessages'](_0x40b9a8)});_0x308298['status'](0xc8)['json'](_0x7fb7f9);})[_0x3f9722(0x7a7)](this[_0x3f9722(0x7e3)](_0x3f9722(0x33e)),..._0x5a745c,async(_0x92d545,_0x4f1577)=>{const _0x5089c3=_0x3f9722;let _0x42ba51=_0x92d545[_0x5089c3(0x3f7)];y['verbose']('request\x20received\x20in\x20starFlow'),y[_0x5089c3(0x8cc)](_0x5089c3(0x81d)),y[_0x5089c3(0x8cc)](_0x92d545[_0x5089c3(0x3f7)]);let _0x26518c=await this['dataValidate']({'request':_0x92d545,'schema':N,'ClassRef':M,'execute':_0x16c7d8=>_[_0x5089c3(0x33e)](_0x16c7d8,_0x42ba51)});_0x4f1577[_0x5089c3(0x616)](0xc8)['json'](_0x26518c);})[_0x3f9722(0x1ff)](this[_0x3f9722(0x7e3)](_0x3f9722(0x72f)),..._0x5a745c,async(_0x354e0e,_0x2ce97c)=>{const _0x1740ce=_0x3f9722;y[_0x1740ce(0x8cc)](_0x1740ce(0x414));let _0x144ec5=await this['dataValidate']({'request':_0x354e0e,'schema':N,'ClassRef':M,'execute':_0x19e520=>_[_0x1740ce(0x72f)](_0x19e520)});_0x2ce97c[_0x1740ce(0x616)](0xc8)[_0x1740ce(0x2e3)](_0x144ec5);})[_0x3f9722(0x1ff)](this[_0x3f9722(0x7e3)](_0x3f9722(0x8e3)),..._0x5a745c,async(_0x50567e,_0x52fd1f)=>{const _0x1512c1=_0x3f9722;y[_0x1512c1(0x8cc)](_0x1512c1(0x7ef));let _0x3b68af=await this[_0x1512c1(0x84b)]({'request':_0x50567e,'schema':N,'ClassRef':M,'execute':_0x15a761=>_['getAutomateSystem'](_0x15a761)});_0x52fd1f['status'](0xc8)[_0x1512c1(0x2e3)](_0x3b68af);})['post'](this[_0x3f9722(0x7e3)](_0x3f9722(0x56d)),..._0x5a745c,async(_0x51e94c,_0x28ef04)=>{const _0x4f524b=_0x3f9722;let _0xc29c6e=_0x51e94c[_0x4f524b(0x3f7)];y['verbose'](_0x4f524b(0x6ef)),y[_0x4f524b(0x8cc)](_0x4f524b(0x81d)),y[_0x4f524b(0x8cc)](_0x51e94c[_0x4f524b(0x3f7)]);let _0x4b533c=await this[_0x4f524b(0x84b)]({'request':_0x51e94c,'schema':N,'ClassRef':M,'execute':_0x2c5002=>_[_0x4f524b(0x56d)](_0x2c5002,_0xc29c6e)});_0x28ef04[_0x4f524b(0x616)](0xc8)[_0x4f524b(0x2e3)](_0x4b533c);})['post'](this[_0x3f9722(0x7e3)](_0x3f9722(0x73e)),..._0x5a745c,async(_0x1b2c0f,_0x53ae1a)=>{const _0x2c0106=_0x3f9722;let _0x1c0dca=_0x1b2c0f['body'];y['verbose'](_0x2c0106(0x399)),y[_0x2c0106(0x8cc)](_0x2c0106(0x81d)),y[_0x2c0106(0x8cc)](_0x1b2c0f[_0x2c0106(0x3f7)]);let _0x30d41a=await this[_0x2c0106(0x84b)]({'request':_0x1b2c0f,'schema':N,'ClassRef':M,'execute':_0x2ead87=>_[_0x2c0106(0x73e)](_0x2ead87,_0x1c0dca)});_0x53ae1a[_0x2c0106(0x616)](0xc8)['json'](_0x30d41a);})['post'](this[_0x3f9722(0x7e3)](_0x3f9722(0x41b)),..._0x5a745c,async(_0x418524,_0x25b86b)=>{const _0x87bc73=_0x3f9722;let _0x6db1a2=_0x418524[_0x87bc73(0x3f7)];y[_0x87bc73(0x8cc)](_0x87bc73(0x329)),y[_0x87bc73(0x8cc)](_0x87bc73(0x81d)),y[_0x87bc73(0x8cc)](_0x418524[_0x87bc73(0x3f7)]);let _0x479104=await this[_0x87bc73(0x84b)]({'request':_0x418524,'schema':N,'ClassRef':M,'execute':_0x1b1c7d=>_[_0x87bc73(0x41b)](_0x1b1c7d,_0x6db1a2)});_0x25b86b[_0x87bc73(0x616)](0xc8)[_0x87bc73(0x2e3)](_0x479104);})[_0x3f9722(0x7a7)](this[_0x3f9722(0x7e3)](_0x3f9722(0x320)),..._0x5a745c,async(_0x1b114c,_0x284c49)=>{const _0x53f360=_0x3f9722;let _0x245e46=_0x1b114c[_0x53f360(0x3f7)];y[_0x53f360(0x8cc)](_0x53f360(0x69b)),y[_0x53f360(0x8cc)](_0x53f360(0x81d)),y[_0x53f360(0x8cc)](_0x1b114c['body']);let _0x41ed55=await this[_0x53f360(0x84b)]({'request':_0x1b114c,'schema':N,'ClassRef':M,'execute':_0x5919da=>_[_0x53f360(0x320)](_0x5919da,_0x245e46)});_0x284c49['status'](0xc8)[_0x53f360(0x2e3)](_0x41ed55);})['post'](this[_0x3f9722(0x7e3)](_0x3f9722(0x588)),..._0x5a745c,async(_0x3dd150,_0x322bdc)=>{const _0xdffffa=_0x3f9722;let _0x178adf=_0x3dd150[_0xdffffa(0x3f7)];y['verbose']('request\x20received\x20in\x20getConversation'),y[_0xdffffa(0x8cc)](_0xdffffa(0x81d)),y[_0xdffffa(0x8cc)](_0x3dd150[_0xdffffa(0x3f7)]);let _0x18e16f=await this['dataValidate']({'request':_0x3dd150,'schema':N,'ClassRef':M,'execute':_0x1df55a=>_[_0xdffffa(0x588)](_0x1df55a,_0x178adf)});_0x322bdc[_0xdffffa(0x616)](0xc8)[_0xdffffa(0x2e3)](_0x18e16f);})[_0x3f9722(0x7a7)](this[_0x3f9722(0x7e3)](_0x3f9722(0x633)),..._0x5a745c,async(_0x4027bf,_0xd92ac2)=>{const _0x5baf34=_0x3f9722;let _0x165000=_0x4027bf[_0x5baf34(0x3f7)];y[_0x5baf34(0x8cc)](_0x5baf34(0x347)),y[_0x5baf34(0x8cc)]('request\x20body:\x20'),y[_0x5baf34(0x8cc)](_0x4027bf[_0x5baf34(0x3f7)]);let _0x49dd41=await this[_0x5baf34(0x84b)]({'request':_0x4027bf,'schema':N,'ClassRef':M,'execute':_0x37b439=>_[_0x5baf34(0x633)](_0x37b439,_0x165000)});_0xd92ac2[_0x5baf34(0x616)](0xc8)['json'](_0x49dd41);})['post'](this[_0x3f9722(0x7e3)](_0x3f9722(0x6c7)),..._0x5a745c,async(_0x4b77bb,_0x5b3bf8)=>{const _0x4c2958=_0x3f9722;let _0xbab69f=_0x4b77bb['body'];y[_0x4c2958(0x8cc)](_0x4c2958(0x852)),y['verbose'](_0x4c2958(0x81d)),y['verbose'](_0x4b77bb['body']);let _0x5b8687=await this[_0x4c2958(0x84b)]({'request':_0x4b77bb,'schema':N,'ClassRef':M,'execute':_0x2a0132=>_['editConversation'](_0x2a0132,_0xbab69f)});_0x5b3bf8[_0x4c2958(0x616)](0xc8)['json'](_0x5b8687);})['delete'](this[_0x3f9722(0x7e3)]('deleteConversation'),..._0x5a745c,async(_0x34c7f8,_0x426342)=>{const _0x4f0f7d=_0x3f9722;let _0x425453=_0x34c7f8[_0x4f0f7d(0x3f7)];y[_0x4f0f7d(0x8cc)]('request\x20received\x20in\x20deleteConversation'),y['verbose'](_0x4f0f7d(0x81d)),y['verbose'](_0x34c7f8[_0x4f0f7d(0x3f7)]);let _0x8d7049=await this[_0x4f0f7d(0x84b)]({'request':_0x34c7f8,'schema':N,'ClassRef':M,'execute':_0x28b4b3=>_['deleteConversation'](_0x28b4b3,_0x425453)});_0x426342[_0x4f0f7d(0x616)](0xc8)['json'](_0x8d7049);})[_0x3f9722(0x7a7)](this[_0x3f9722(0x7e3)](_0x3f9722(0x479)),..._0x5a745c,async(_0x5efb6a,_0x4f26da)=>{const _0x4593bb=_0x3f9722;let _0x5b3bd4=_0x5efb6a[_0x4593bb(0x3f7)],_0x1e9b18=_0x5efb6a['headers'][_0x4593bb(0x2cc)];y['verbose'](_0x4593bb(0x252)),y[_0x4593bb(0x8cc)]('request\x20body:\x20'),y[_0x4593bb(0x8cc)](_0x5efb6a['body']);let _0x5c553e=await this[_0x4593bb(0x84b)]({'request':_0x5efb6a,'schema':N,'ClassRef':M,'execute':_0x48cc30=>_[_0x4593bb(0x5a3)](_0x48cc30,_0x5b3bd4,_0x1e9b18)});_0x4f26da[_0x4593bb(0x616)](0xc8)['json'](_0x5c553e);})[_0x3f9722(0x7a7)](this['routerPath'](_0x3f9722(0x565)),..._0x5a745c,async(_0x1bc8f3,_0x209102)=>{const _0x253632=_0x3f9722;let _0x48e7e4=_0x1bc8f3[_0x253632(0x3f7)],_0x288e72=_0x1bc8f3['headers']['apikey'];y['verbose'](_0x253632(0x7c9)),y['verbose'](_0x253632(0x81d)),y[_0x253632(0x8cc)](_0x1bc8f3['body']),delete _0x48e7e4[_0x253632(0x5d3)],delete _0x48e7e4['variables'],delete _0x48e7e4[_0x253632(0x796)],delete _0x48e7e4[_0x253632(0x6fa)];let _0x2468de=await this[_0x253632(0x84b)]({'request':_0x1bc8f3,'schema':N,'ClassRef':M,'execute':_0x4ccb5c=>_[_0x253632(0x3b7)](_0x4ccb5c,_0x48e7e4,_0x288e72)});_0x209102[_0x253632(0x616)](0xc8)['json'](_0x2468de);})[_0x3f9722(0x7a7)](this[_0x3f9722(0x7e3)](_0x3f9722(0x174)),..._0x5a745c,async(_0xabeb6e,_0x3dd071)=>{const _0x2259d2=_0x3f9722;let _0x50c246=_0xabeb6e['body'];y['verbose'](_0x2259d2(0x7c9)),y[_0x2259d2(0x8cc)]('request\x20body:\x20'),y[_0x2259d2(0x8cc)](_0xabeb6e['body']);let _0x591704=await this[_0x2259d2(0x84b)]({'request':_0xabeb6e,'schema':N,'ClassRef':M,'execute':_0x3eddb3=>_[_0x2259d2(0x887)](_0x3eddb3,_0x50c246)});_0x3dd071[_0x2259d2(0x616)](0xc8)[_0x2259d2(0x2e3)](_0x591704);})[_0x3f9722(0x7a7)](this[_0x3f9722(0x7e3)]('editflowreply'),..._0x5a745c,async(_0x1fdf5b,_0x101542)=>{const _0x4d4619=_0x3f9722;let _0x27f8bc=_0x1fdf5b['body'];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x4d4619(0x8cc)]('request\x20body:\x20'),y[_0x4d4619(0x8cc)](_0x1fdf5b[_0x4d4619(0x3f7)]);let _0x39dc9f=await this[_0x4d4619(0x84b)]({'request':_0x1fdf5b,'schema':N,'ClassRef':M,'execute':_0x156f2d=>_[_0x4d4619(0x201)](_0x156f2d,_0x27f8bc)});_0x101542[_0x4d4619(0x616)](0xc8)[_0x4d4619(0x2e3)](_0x39dc9f);})[_0x3f9722(0x7a7)](this[_0x3f9722(0x7e3)](_0x3f9722(0x820)),..._0x5a745c,async(_0x514846,_0x11a80a)=>{const _0x688a05=_0x3f9722;let _0x3ff11e=_0x514846[_0x688a05(0x3f7)];y[_0x688a05(0x8cc)]('request\x20received\x20in\x20editFlow'),y[_0x688a05(0x8cc)](_0x688a05(0x81d)),y[_0x688a05(0x8cc)](_0x514846[_0x688a05(0x3f7)]);let _0x36aa4d=await this[_0x688a05(0x84b)]({'request':_0x514846,'schema':N,'ClassRef':M,'execute':_0x5ceed6=>_[_0x688a05(0x4dc)](_0x5ceed6,_0x3ff11e)});_0x11a80a[_0x688a05(0x616)](0xc8)[_0x688a05(0x2e3)](_0x36aa4d);})[_0x3f9722(0x7a7)](this[_0x3f9722(0x7e3)](_0x3f9722(0x7b2)),..._0x5a745c,async(_0x4a0409,_0x4b8d98)=>{const _0x319f05=_0x3f9722;let _0x4f32e2=_0x4a0409[_0x319f05(0x3f7)];y['verbose']('request\x20received\x20in\x20editFlowgroup'),y[_0x319f05(0x8cc)](_0x319f05(0x81d)),y[_0x319f05(0x8cc)](_0x4a0409[_0x319f05(0x3f7)]);let _0x32d35b=await this[_0x319f05(0x84b)]({'request':_0x4a0409,'schema':N,'ClassRef':M,'execute':_0x56dc2e=>_['editFlowGroup'](_0x56dc2e,_0x4f32e2)});_0x4b8d98[_0x319f05(0x616)](0xc8)[_0x319f05(0x2e3)](_0x32d35b);})['post'](this[_0x3f9722(0x7e3)](_0x3f9722(0x2ec)),..._0x5a745c,async(_0x3102cc,_0x149682)=>{const _0x3ae8cb=_0x3f9722;let _0x33ab7b=_0x3102cc[_0x3ae8cb(0x3f7)];y[_0x3ae8cb(0x8cc)](_0x3ae8cb(0x531)),y[_0x3ae8cb(0x8cc)](_0x3ae8cb(0x81d)),y[_0x3ae8cb(0x8cc)](_0x3102cc['body']);let _0x28eaca=await this['dataValidate']({'request':_0x3102cc,'schema':N,'ClassRef':M,'execute':_0x465ed8=>_[_0x3ae8cb(0x210)](_0x465ed8,_0x33ab7b)});_0x149682['status'](0xc8)[_0x3ae8cb(0x2e3)](_0x28eaca);})[_0x3f9722(0x7a7)](this['routerPath'](_0x3f9722(0x8db)),..._0x5a745c,async(_0x44d277,_0x5242a4)=>{const _0x32d871=_0x3f9722;let _0x3c36e8=_0x44d277[_0x32d871(0x3f7)];y[_0x32d871(0x8cc)]('request\x20received\x20in\x20editFlowvariable'),y['verbose'](_0x32d871(0x81d)),y[_0x32d871(0x8cc)](_0x44d277['body']);let _0x2635bf=await this[_0x32d871(0x84b)]({'request':_0x44d277,'schema':N,'ClassRef':M,'execute':_0x19b6d7=>_[_0x32d871(0x245)](_0x19b6d7,_0x3c36e8)});_0x5242a4['status'](0xc8)[_0x32d871(0x2e3)](_0x2635bf);})[_0x3f9722(0x7a7)](this['routerPath'](_0x3f9722(0x394)),..._0x5a745c,async(_0x43446e,_0x1023a6)=>{const _0x2b33d1=_0x3f9722;let _0x1bd6a9=_0x43446e[_0x2b33d1(0x3f7)];y[_0x2b33d1(0x8cc)]('request\x20received\x20in\x20getFlow'),y[_0x2b33d1(0x8cc)](_0x2b33d1(0x81d)),y[_0x2b33d1(0x8cc)](_0x43446e[_0x2b33d1(0x3f7)]);let _0x38ef7b=await this[_0x2b33d1(0x84b)]({'request':_0x43446e,'schema':N,'ClassRef':M,'execute':_0x3ad194=>_[_0x2b33d1(0x306)](_0x3ad194,_0x1bd6a9)});_0x1023a6[_0x2b33d1(0x616)](0xc8)[_0x2b33d1(0x2e3)](_0x38ef7b);})[_0x3f9722(0x8aa)](this[_0x3f9722(0x7e3)](_0x3f9722(0x541)),..._0x5a745c,async(_0x400674,_0x44e546)=>{const _0x454c17=_0x3f9722;let _0x4bd0aa=_0x400674[_0x454c17(0x3f7)];y[_0x454c17(0x8cc)](_0x454c17(0x702)),y['verbose']('request\x20body:\x20'),y[_0x454c17(0x8cc)](_0x400674[_0x454c17(0x3f7)]);let _0x43de7f=await this[_0x454c17(0x84b)]({'request':_0x400674,'schema':N,'ClassRef':M,'execute':_0x22f2c5=>_[_0x454c17(0x302)](_0x22f2c5,_0x4bd0aa)});_0x44e546[_0x454c17(0x616)](0xc8)['json'](_0x43de7f);})[_0x3f9722(0x1ff)](this['routerPath'](_0x3f9722(0x7f0)),..._0x5a745c,async(_0x11205f,_0x455edc)=>{const _0x2957e8=_0x3f9722;y[_0x2957e8(0x8cc)](_0x2957e8(0x41e));let _0x5541a5=await this[_0x2957e8(0x84b)]({'request':_0x11205f,'schema':N,'ClassRef':M,'execute':_0x20df87=>_['allFlows'](_0x20df87)});_0x455edc[_0x2957e8(0x616)](0xc8)[_0x2957e8(0x2e3)](_0x5541a5);});}},yi=I(require(a0_0xad378c(0x50f))),te={};function mi(_0x252942,_0x318fc3,_0x1bbda7,_0x2a6ed6){te[_0x252942]||(te[_0x252942]={}),te[_0x252942][_0x318fc3]={'id':_0x318fc3,'response':_0x1bbda7,'events':_0x2a6ed6};}function fi(_0x40809d,_0x2e633c){!te[_0x40809d]||!te[_0x40809d][_0x2e633c]||delete te[_0x40809d][_0x2e633c];}function U(_0x11bf3d,_0x11c29a,_0x3b7edf){const _0x29c1e8=a0_0xad378c;if(!te[_0x11bf3d])return;let _0xc3338c=_0x29c1e8(0x593)+JSON[_0x29c1e8(0x62f)](_0x3b7edf)+'\x0a\x0a';Object['values'](te[_0x11bf3d])[_0x29c1e8(0x6db)](_0x278e62=>{const _0x53d6b7=_0x29c1e8;_0x278e62['events'][_0x53d6b7(0x77b)](_0x11c29a)&&_0x278e62[_0x53d6b7(0x17f)]['write'](_0xc3338c);});}function wi(){const _0x266b56=a0_0xad378c;let _0x5b6f43={};for(let _0x452711 in te)_0x5b6f43[_0x452711]=Object[_0x266b56(0x809)](te[_0x452711])['map'](_0x35b2f4=>({'id':_0x35b2f4['id'],'events':_0x35b2f4['events']}));return _0x5b6f43;}var bi=require(a0_0xad378c(0x7d8)),Rs=require(a0_0xad378c(0x5f4)),$s=class{},No=new Rs['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),$o=new Rs[(a0_0xad378c(0x20e))]({'_id':{'type':String,'default':a0_0xad378c(0x1bd)},'WebhookGlobal':{'type':No},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=A?.['model']($s[a0_0xad378c(0x725)],$o,a0_0xad378c(0x50e)),Ro=yi[a0_0xad378c(0x7c4)][a0_0xad378c(0x6b9)](__dirname,'downloads'),ke=(0x0,Ot[a0_0xad378c(0x79d)])(),Ao=S[a0_0xad378c(0x1ff)](a0_0xad378c(0x788))[a0_0xad378c(0x4da)],oe=[Na,$a,Ia[Ao]];ke[a0_0xad378c(0x42f)](a0_0xad378c(0x5d4),Ot[a0_0xad378c(0x7c4)][a0_0xad378c(0x25e)](Ro))[a0_0xad378c(0x1ff)](a0_0xad378c(0x781),async(_0x2fe681,_0x2369cd)=>{const _0x502276=a0_0xad378c;console[_0x502276(0x78c)](_0x502276(0x2d2));let _0x1f399d=_0x2fe681['params']['instance'],_0x3c764c=(_0x2fe681[_0x502276(0x762)][_0x502276(0x5d0)]||'')[_0x502276(0x43a)](','),_0x26f17c=(0x0,bi['v4'])();console['log'](_0x502276(0x754),_0x1f399d),console['log'](_0x502276(0x182),_0x3c764c);let _0x488fcf=S[_0x502276(0x1ff)](_0x502276(0x788))[_0x502276(0x27d)],_0x1ed9db=_0x2fe681[_0x502276(0x762)][_0x502276(0x2cc)];if(console[_0x502276(0x78c)](_0x502276(0x620),_0x1ed9db),_0x488fcf[_0x502276(0x831)]!==_0x1ed9db){console[_0x502276(0x78c)](_0x502276(0x452));try{let _0x223e51=await fe['auth']['find'](_0x1f399d);if(console[_0x502276(0x78c)]('Instance\x20Key\x20from\x20DB:',_0x223e51),!_0x223e51||_0x223e51[_0x502276(0x2cc)]!==_0x1ed9db)return console[_0x502276(0x78c)](_0x502276(0x7fb)),_0x2369cd['status'](0x191)['send'](_0x502276(0x83e));}catch(_0x1b0d34){return console[_0x502276(0x5fe)](_0x502276(0x6b6),_0x1b0d34),_0x2369cd['status'](0x191)[_0x502276(0x77a)](_0x502276(0x3d4));}}if(!await _e(_0x1f399d))return _0x2369cd['status'](0x194)[_0x502276(0x77a)](_0x502276(0x4d9));_0x2369cd['setHeader'](_0x502276(0x337),'text/event-stream'),_0x2369cd[_0x502276(0x324)]('Cache-Control',_0x502276(0x1d1)),_0x2369cd[_0x502276(0x324)]('Connection',_0x502276(0x357)),_0x2369cd[_0x502276(0x239)]();let _0x38fb62=_0x502276(0x593)+JSON[_0x502276(0x62f)]({'info':_0x502276(0x65a)})+'\x0a\x0a';_0x2369cd[_0x502276(0x6aa)](_0x38fb62),mi(_0x1f399d,_0x26f17c,_0x2369cd,_0x3c764c),_0x2fe681['on'](_0x502276(0x76b),()=>{const _0x31177a=_0x502276;console['log'](_0x31177a(0x481)+_0x1f399d),fi(_0x1f399d,_0x26f17c);});}),ke['post'](a0_0xad378c(0x6f6),async(_0x28243f,_0xa586d6)=>{const _0x57d156=a0_0xad378c;console['log'](_0x57d156(0x438));let _0x3f1707=_0x28243f[_0x57d156(0x7ae)]['instance'],_0xb65fe1=_0x28243f[_0x57d156(0x7ae)][_0x57d156(0x2a1)],_0x8ac5a1=_0x28243f[_0x57d156(0x762)][_0x57d156(0x436)]||'',_0xefe49a=_0x28243f[_0x57d156(0x3f7)];console[_0x57d156(0x78c)](_0x57d156(0x193),_0x3f1707),console[_0x57d156(0x78c)](_0x57d156(0x2d1),_0xb65fe1),console['log'](_0x57d156(0x82c),_0x8ac5a1),console['log'](_0x57d156(0x3ab),_0xefe49a);try{if(!await _e(_0x3f1707))return _0xa586d6['status'](0x194)['send'](_0x57d156(0x4d9));let _0x3372b5=await _[_0x57d156(0x37d)](_0x3f1707,_0xb65fe1,_0x8ac5a1,_0xefe49a);_0xa586d6[_0x57d156(0x77a)](_0x3372b5);}catch(_0x6dc7f){console[_0x57d156(0x5fe)](_0x6dc7f),_0xa586d6['status'](0x1f4)['send'](_0x57d156(0x43d));}}),ke[a0_0xad378c(0x1ff)](a0_0xad378c(0x55f),(_0x374c01,_0x2cbc55)=>{const _0x35d24f=a0_0xad378c;let _0x49d7de=wi();_0x2cbc55[_0x35d24f(0x2e3)](_0x49d7de);})[a0_0xad378c(0x1ff)]('/',(_0x449f97,_0x1a24fe)=>{const _0x5cdc6f=a0_0xad378c;let _0x475f9e=S[_0x5cdc6f(0x1ff)]('SERVER')['URL'];if(_0x475f9e){let _0x16ca2f=encodeURIComponent(''+_0x475f9e);_0x1a24fe[_0x5cdc6f(0x8c1)](_0x5cdc6f(0x1e8)+_0x16ca2f);return;}let _0x37602a=S[_0x5cdc6f(0x1ff)](_0x5cdc6f(0x56f)),_0x2a918c=_0x37602a&&_0x37602a[_0x5cdc6f(0x8d7)]['split']('/')[0x4];if(_0x2a918c){let _0x2b8ead=encodeURIComponent(_0x5cdc6f(0x39e)+_0x2a918c);_0x1a24fe[_0x5cdc6f(0x8c1)](_0x5cdc6f(0x1e8)+_0x2b8ead);}else _0x1a24fe[_0x5cdc6f(0x8c1)](_0x5cdc6f(0x2f5));})[a0_0xad378c(0x667)](a0_0xad378c(0x793),...oe,async(_0x346925,_0x48b48e)=>{const _0x5ad50d=a0_0xad378c;try{console[_0x5ad50d(0x78c)](_0x5ad50d(0x1b0)),_0x48b48e[_0x5ad50d(0x616)](0xc8)['json']({'message':_0x5ad50d(0x233)}),_0x48b48e['on']('finish',()=>process[_0x5ad50d(0x3e5)](0x0));}catch(_0x4d5daa){console[_0x5ad50d(0x5fe)](_0x5ad50d(0x428),_0x4d5daa),_0x48b48e[_0x5ad50d(0x616)](0x1f4)[_0x5ad50d(0x2e3)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})['put'](a0_0xad378c(0x733),...oe,async(_0x3d8851,_0x52a9f1)=>{const _0x36663d=a0_0xad378c;try{let _0x20afe7=_0x3d8851[_0x36663d(0x3f7)];await ve[_0x36663d(0x71b)]({},{'$set':_0x20afe7},{'upsert':!0x0});let _0x54738e=await ve[_0x36663d(0x5cc)]();_0x52a9f1[_0x36663d(0x2e3)](_0x54738e);}catch(_0x3c23e5){_0x52a9f1[_0x36663d(0x616)](0x190)[_0x36663d(0x77a)](_0x3c23e5[_0x36663d(0x5fa)]);}})['get'](a0_0xad378c(0x733),...oe,async(_0x50f6e1,_0x24b952)=>{const _0x54c86c=a0_0xad378c;try{let _0x4ec053=await ve[_0x54c86c(0x5cc)]();if(!_0x4ec053)return _0x24b952[_0x54c86c(0x2e3)]({});_0x24b952[_0x54c86c(0x2e3)](_0x4ec053);}catch(_0x1627d2){_0x24b952[_0x54c86c(0x616)](0x1f4)[_0x54c86c(0x77a)](_0x1627d2[_0x54c86c(0x5fa)]);}})['use'](a0_0xad378c(0x4c2),new yt(S,...oe)[a0_0xad378c(0x3b4)])[a0_0xad378c(0x42f)](a0_0xad378c(0x872),new At(...oe)[a0_0xad378c(0x3b4)])[a0_0xad378c(0x42f)](a0_0xad378c(0x706),new ct(...oe)['router'])['use'](a0_0xad378c(0x6bb),new wt(...oe)[a0_0xad378c(0x3b4)])[a0_0xad378c(0x42f)](a0_0xad378c(0x7fe),new Tt(...oe)[a0_0xad378c(0x3b4)])['use'](a0_0xad378c(0x3f8),new _t(...oe)[a0_0xad378c(0x3b4)]);var m=class{constructor(..._0x3bfd7c){const _0x169a44=a0_0xad378c;throw{'status':0x190,'error':_0x169a44(0x425),'message':_0x3bfd7c[_0x169a44(0x4f1)]>0x0?_0x3bfd7c:void 0x0};}},ae=class{constructor(..._0x419c25){const _0x5b56ca=a0_0xad378c;throw{'status':0x191,'error':_0x5b56ca(0x265),'message':_0x419c25['length']>0x0?_0x419c25:void 0x0};}},X=class{constructor(..._0x5c6f5e){const _0x2d523e=a0_0xad378c;throw{'status':0x193,'error':_0x2d523e(0x4bc),'message':_0x5c6f5e[_0x2d523e(0x4f1)]>0x0?_0x5c6f5e:void 0x0};}},F=class{constructor(..._0x20af52){const _0xe9aed7=a0_0xad378c;throw{'status':0x194,'error':_0xe9aed7(0x617),'message':_0x20af52[_0xe9aed7(0x4f1)]>0x0?_0x20af52:void 0x0};}},x=class{constructor(..._0x308f5b){const _0x2ece2e=a0_0xad378c;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x308f5b[_0x2ece2e(0x4f1)]>0x0?_0x308f5b:void 0x0};}},we=require(a0_0xad378c(0x73b));async function As(_0x48ad02){const _0x5aeddb=a0_0xad378c;let _0x1365a5=new $(As[_0x5aeddb(0x725)]),_0x348e73=A[_0x5aeddb(0x6be)](),_0x1a15be=_0x348e73['db'](S['get'](_0x5aeddb(0x5af))[_0x5aeddb(0x21b)]['DB_PREFIX_NAME']+'-instances')[_0x5aeddb(0x4d1)](_0x48ad02),_0x84bb07=async(_0x3d03ac,_0x8f2126)=>{const _0x4546bc=_0x5aeddb;try{return await _0x348e73[_0x4546bc(0x6f8)](),await _0x1a15be[_0x4546bc(0x434)]({'_id':_0x8f2126},JSON['parse'](JSON[_0x4546bc(0x62f)](_0x3d03ac,we[_0x4546bc(0x838)]['replacer'])),{'upsert':!0x0});}catch{}},_0x2ff60a=async _0x2353a0=>{const _0x3c6ff6=_0x5aeddb;try{await _0x348e73[_0x3c6ff6(0x6f8)]();let _0x1f8cb0=await _0x1a15be[_0x3c6ff6(0x5cc)]({'_id':_0x2353a0}),_0x56fa59=JSON[_0x3c6ff6(0x62f)](_0x1f8cb0);return JSON[_0x3c6ff6(0x549)](_0x56fa59,we[_0x3c6ff6(0x838)][_0x3c6ff6(0x27c)]);}catch{}},_0x541cec=async _0x51b0cd=>{const _0x212c60=_0x5aeddb;try{return await _0x348e73['connect'](),await _0x1a15be[_0x212c60(0x8c5)]({'_id':_0x51b0cd});}catch{}},_0x796384=await _0x2ff60a(_0x5aeddb(0x2ee))||(0x0,we[_0x5aeddb(0x746)])();return{'state':{'creds':_0x796384,'keys':{'get':async(_0x2d4fdc,_0x10fdf7)=>{const _0x49335f=_0x5aeddb;let _0x3eb2e5={};return await Promise['all'](_0x10fdf7[_0x49335f(0x4a4)](async _0x5053d1=>{const _0x28eac4=_0x49335f;let _0x3a7442=await _0x2ff60a(_0x2d4fdc+'-'+_0x5053d1);_0x2d4fdc===_0x28eac4(0x2ce)&&_0x3a7442&&(_0x3a7442=we[_0x28eac4(0x752)][_0x28eac4(0x202)][_0x28eac4(0x89e)][_0x28eac4(0x6fc)](_0x3a7442)),_0x3eb2e5[_0x5053d1]=_0x3a7442;})),_0x3eb2e5;},'set':async _0xe735cf=>{const _0x5c8e72=_0x5aeddb;let _0x25b361=[];for(let _0x60bb1f in _0xe735cf)for(let _0x459ffc in _0xe735cf[_0x60bb1f]){let _0x9c6100=_0xe735cf[_0x60bb1f][_0x459ffc],_0x1319ea=_0x60bb1f+'-'+_0x459ffc;_0x25b361['push'](_0x9c6100?_0x84bb07(_0x9c6100,_0x1319ea):_0x541cec(_0x1319ea));}await Promise[_0x5c8e72(0x493)](_0x25b361);}}},'saveCreds':async()=>_0x84bb07(_0x796384,_0x5aeddb(0x2ee))};}function a0_0x4c1f(_0xac37b4,_0x5e2f8d){const _0x54a01f=a0_0x54a0();return a0_0x4c1f=function(_0x4c1f68,_0x161a09){_0x4c1f68=_0x4c1f68-0x16c;let _0x418f7f=_0x54a01f[_0x4c1f68];return _0x418f7f;},a0_0x4c1f(_0xac37b4,_0x5e2f8d);}var xs=I(require(a0_0xad378c(0x23e))),Ds=I(require(a0_0xad378c(0x1af))),Pt=require('@whiskeysockets/baileys'),Si=require(a0_0xad378c(0x391)),Dt=require(a0_0xad378c(0x73b)),xt;function Io(_0x2c2c45){const _0x5149d5=a0_0xad378c;return xt||(xt=(0x0,Si['createClient'])({'url':_0x2c2c45['URI']}),xt[_0x5149d5(0x6f8)]()),xt;}var pe=class u{constructor(_0x1c60a7,_0x4f1ec4){const _0xf387db=a0_0xad378c;this['redisEnv']=_0x1c60a7,this[_0xf387db(0x62b)]=_0x4f1ec4,this[_0xf387db(0x86b)]=new $(u[_0xf387db(0x725)]),this[_0xf387db(0x37e)]=Io(_0x1c60a7);}set['reference'](_0x3b0caf){const _0x52410b=a0_0xad378c;this[_0x52410b(0x62b)]=_0x3b0caf;}async[a0_0xad378c(0x3a3)](){const _0x5a85b8=a0_0xad378c;try{return await this[_0x5a85b8(0x37e)][_0x5a85b8(0x25f)]([_0x5a85b8(0x178),this[_0x5a85b8(0x756)]['PREFIX_KEY']+':*']);}catch(_0x106009){this[_0x5a85b8(0x86b)]['error'](_0x106009);}}async['writeData'](_0x561ade,_0x20a97f){const _0x232858=a0_0xad378c;try{let _0x53d90c=JSON[_0x232858(0x62f)](_0x20a97f,Dt['BufferJSON']['replacer']);return await this[_0x232858(0x37e)][_0x232858(0x842)](this[_0x232858(0x756)][_0x232858(0x19a)]+':'+this[_0x232858(0x62b)],_0x561ade,_0x53d90c);}catch(_0x48b77b){this['logger']['error'](_0x48b77b);}}async['getAllData'](){const _0x439ba5=a0_0xad378c;try{let _0x33260d=await this[_0x439ba5(0x37e)][_0x439ba5(0x6c5)](this[_0x439ba5(0x756)][_0x439ba5(0x19a)]+':'+this[_0x439ba5(0x62b)]);if(_0x33260d){for(let _0x586f22 in _0x33260d)Object[_0x439ba5(0x641)][_0x439ba5(0x6ba)]['call'](_0x33260d,_0x586f22)&&(_0x33260d[_0x586f22]=JSON['parse'](_0x33260d[_0x586f22],Dt['BufferJSON'][_0x439ba5(0x27c)]));return _0x33260d;}}catch(_0x199119){this[_0x439ba5(0x86b)][_0x439ba5(0x5fe)](_0x199119);}}async['readData'](_0x55f97c){const _0x24e021=a0_0xad378c;try{let _0x196069=await this[_0x24e021(0x37e)][_0x24e021(0x4aa)](this[_0x24e021(0x756)][_0x24e021(0x19a)]+':'+this[_0x24e021(0x62b)],_0x55f97c);if(_0x196069)return JSON[_0x24e021(0x549)](_0x196069,Dt[_0x24e021(0x838)][_0x24e021(0x27c)]);}catch(_0xc3dad3){this[_0x24e021(0x86b)][_0x24e021(0x5fe)](_0xc3dad3);}}async[a0_0xad378c(0x795)](_0x1d4be4){const _0xe17df0=a0_0xad378c;try{return await this['client'][_0xe17df0(0x848)](this[_0xe17df0(0x756)][_0xe17df0(0x19a)]+':'+this[_0xe17df0(0x62b)],_0x1d4be4);}catch(_0x1aaec4){this[_0xe17df0(0x86b)][_0xe17df0(0x5fe)](_0x1aaec4);}}async[a0_0xad378c(0x40c)](_0xbf6d60){const _0x15e23e=a0_0xad378c;try{return await this[_0x15e23e(0x37e)]['del'](_0xbf6d60||this[_0x15e23e(0x756)]['PREFIX_KEY']+':'+this[_0x15e23e(0x62b)]);}catch(_0x285996){this['logger'][_0x15e23e(0x5fe)](_0x285996);}}};async function Is(_0x316918,_0x1620ed){const _0x170e95=a0_0xad378c;let _0x2b0d88=new $(Is['name']),_0x550460=new pe(_0x316918,_0x1620ed),_0x41711e=async(_0x3aa126,_0x24072c)=>{const _0x5d136d=a0_0x4c1f;try{return await _0x550460[_0x5d136d(0x39a)](_0x24072c,_0x3aa126);}catch(_0x214231){return _0x2b0d88[_0x5d136d(0x5fe)]({'localError':'writeData','error':_0x214231});}},_0x34d8b5=async _0x12063b=>{const _0x537890=a0_0x4c1f;try{return await _0x550460[_0x537890(0x55b)](_0x12063b);}catch(_0x2a5e83){_0x2b0d88[_0x537890(0x5fe)]({'readData':_0x537890(0x39a),'error':_0x2a5e83});return;}},_0xcce25a=async _0x1b5aa1=>{const _0x5a6c5b=a0_0x4c1f;try{return await _0x550460[_0x5a6c5b(0x795)](_0x1b5aa1);}catch(_0x4aa0dc){_0x2b0d88[_0x5a6c5b(0x5fe)]({'readData':_0x5a6c5b(0x795),'error':_0x4aa0dc});}},_0x1795ab=await _0x34d8b5(_0x170e95(0x2ee))||(0x0,Pt[_0x170e95(0x746)])();return{'state':{'creds':_0x1795ab,'keys':{'get':async(_0x199a1d,_0x50ebd1)=>{let _0x181d0a={};return await Promise['all'](_0x50ebd1['map'](async _0x5dbbee=>{const _0x2c18bc=a0_0x4c1f;let _0xb0482=await _0x34d8b5(_0x199a1d+'-'+_0x5dbbee);_0x199a1d===_0x2c18bc(0x2ce)&&_0xb0482&&(_0xb0482=Pt[_0x2c18bc(0x752)][_0x2c18bc(0x202)][_0x2c18bc(0x89e)]['fromObject'](_0xb0482)),_0x181d0a[_0x5dbbee]=_0xb0482;})),_0x181d0a;},'set':async _0x296b93=>{const _0x3277f7=_0x170e95;let _0x29bbbb=[];for(let _0x43c0c5 in _0x296b93)for(let _0x491cd0 in _0x296b93[_0x43c0c5]){let _0x38ac7f=_0x296b93[_0x43c0c5][_0x491cd0],_0x1ed9d0=_0x43c0c5+'-'+_0x491cd0;_0x29bbbb[_0x3277f7(0x240)](_0x38ac7f?await _0x41711e(_0x38ac7f,_0x1ed9d0):await _0xcce25a(_0x1ed9d0));}await Promise[_0x3277f7(0x493)](_0x29bbbb);}}},'saveCreds':async()=>await _0x41711e(_0x1795ab,'creds')};}var k=I(require('fs')),z=require(a0_0xad378c(0x7d8)),Ut=I(require(a0_0xad378c(0x6df))),re=require(a0_0xad378c(0x896)),Mi=require(a0_0xad378c(0x3a6)),Ci=require('util'),Ei=I(require(a0_0xad378c(0x86a))),Ne=class extends O{constructor(_0x2fd349,_0xd85682,_0x4a683b){const _0x27b0f7=a0_0xad378c;super(_0xd85682),this[_0x27b0f7(0x604)]=_0x2fd349,this[_0x27b0f7(0x2ed)]=_0xd85682,this['dbConnection']=_0x4a683b;}async[a0_0xad378c(0x5a7)](_0x3537d3,_0xe6297c){const _0x598236=a0_0xad378c;try{if(this[_0x598236(0x4f8)][_0x598236(0x785)]){console[_0x598236(0x78c)](_0x598236(0x32a)+_0xe6297c+_0x598236(0x354),_0x3537d3);let _0x2c088e=await this[_0x598236(0x604)]['findOneAndUpdate']({'_id':_0xe6297c},{'$set':_0x3537d3},{'new':!0x0,'upsert':!0x0});return console[_0x598236(0x78c)](_0x598236(0x426),_0x2c088e),_0x2c088e;}}catch(_0x35baa7){throw console[_0x598236(0x5fe)]('Erro\x20ao\x20atualizar\x20cacheInstance:',_0x35baa7),_0x35baa7;}return null;}async[a0_0xad378c(0x8c5)](_0x1da76b){const _0x2192bf=a0_0xad378c;try{let _0x22e98d=T(_0x1da76b[_0x2192bf(0x8b5)]);return{'deletedCount':(await this['cacheInstanceModel'][_0x2192bf(0x8c5)](_0x22e98d))[_0x2192bf(0x5a6)]};}catch(_0x2dabe6){return{'error':_0x2dabe6?.[_0x2192bf(0x3d2)]()};}}async[a0_0xad378c(0x5cc)](_0x29df00){const _0x6b3b76=a0_0xad378c;try{let _0xc3a1ec=T(_0x29df00[_0x6b3b76(0x8b5)]);return await this['cacheInstanceModel'][_0x6b3b76(0x5cc)](_0xc3a1ec)[_0x6b3b76(0x192)]();}catch{return null;}}},kt=(0x0,Ci[a0_0xad378c(0x885)])(Mi[a0_0xad378c(0x3cf)]),To=S[a0_0xad378c(0x1ff)](a0_0xad378c(0x3f9)),Ts=class{constructor(){const _0x304839=a0_0xad378c;this['cacheInstanceRepository']=new Ne(Be,S),(!this[_0x304839(0x686)]||!this[_0x304839(0x6d6)])&&To&&this[_0x304839(0x745)]()['then'](()=>{const _0x342806=_0x304839;console[_0x342806(0x78c)](_0x342806(0x1b7)+this[_0x342806(0x686)]),console['log'](_0x342806(0x406)+this[_0x342806(0x6d6)]);})[_0x304839(0x597)](_0x55250e=>{const _0x2af4d9=_0x304839;console['error']('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20'+_0x55250e[_0x2af4d9(0x5fa)]);});}async[a0_0xad378c(0x745)](){const _0x4e4907=a0_0xad378c;try{let {stdout:_0x125c8d}=await kt(_0x4e4907(0x527));console[_0x4e4907(0x78c)](_0x4e4907(0x8cf)+_0x125c8d);let _0x45a768=_0x125c8d['split']('\x0a')[_0x4e4907(0x4a4)](_0x180510=>_0x180510[_0x4e4907(0x43a)]('\x20')[0x0])[_0x4e4907(0x3f3)](_0x4b0624=>!_0x4b0624['includes']('lo')&&!_0x4b0624[_0x4e4907(0x77b)]('docker')&&!_0x4b0624[_0x4e4907(0x77b)]('vir')&&!_0x4b0624[_0x4e4907(0x77b)]('wl')&&!_0x4b0624['includes']('@'));if(console[_0x4e4907(0x78c)](_0x4e4907(0x693)+_0x45a768),_0x45a768['length']===0x0)throw new Error(_0x4e4907(0x497));this[_0x4e4907(0x6d6)]=_0x45a768[0x0];let {stdout:_0x52de6d}=await kt(_0x4e4907(0x61a)+this[_0x4e4907(0x6d6)]);console[_0x4e4907(0x78c)]('IPv6\x20addresses\x20detected:\x20'+_0x52de6d);let _0x4e17e5=_0x52de6d[_0x4e4907(0x43a)]('\x0a')[_0x4e4907(0x84a)](_0xe44e40=>_0xe44e40['includes'](_0x4e4907(0x483))&&_0xe44e40['includes'](_0x4e4907(0x614)));if(!_0x4e17e5)throw new Error(_0x4e4907(0x264));let _0x4e4e14=_0x4e17e5['match'](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x4e4e14)throw new Error(_0x4e4907(0x51d));let [_0x496a68,_0x1a1fa0,_0x5a341a]=_0x4e4e14,_0x32a2fd=Math['floor'](Number(_0x5a341a)/0x10),_0x575bb6=Number(_0x5a341a)%0x10,_0x407f26=_0x1a1fa0[_0x4e4907(0x43a)](':')[_0x4e4907(0x430)](0x0,_0x32a2fd)[_0x4e4907(0x6b9)](':');if(_0x575bb6>0x0){let _0x20b868=_0x1a1fa0['split'](':')[_0x32a2fd],_0x14561d=0xffff<<0x10-_0x575bb6&0xffff,_0x16e705=(parseInt(_0x20b868,0x10)&_0x14561d)[_0x4e4907(0x3d2)](0x10)[_0x4e4907(0x7c8)](0x4,'0');_0x407f26+=':'+_0x16e705;}this[_0x4e4907(0x686)]=_0x407f26+':';}catch(_0x1a7d3f){console[_0x4e4907(0x5fe)](_0x4e4907(0x2bb),_0x1a7d3f);}}async[a0_0xad378c(0x172)](_0x2c19f3){const _0x15f051=a0_0xad378c;let _0x81ca39='ip\x20-6\x20addr\x20add\x20'+_0x2c19f3+_0x15f051(0x6cc)+this[_0x15f051(0x6d6)];try{await kt(_0x81ca39),console[_0x15f051(0x78c)](_0x15f051(0x1fa)+_0x2c19f3);}catch(_0x1db220){console[_0x15f051(0x5fe)](_0x15f051(0x321)+_0x1db220);}}async[a0_0xad378c(0x65e)](_0x5db499){const _0xd389a2=a0_0xad378c;let _0x5663d8=_0xd389a2(0x1b6)+_0x5db499+_0xd389a2(0x6cc)+this[_0xd389a2(0x6d6)];try{await kt(_0x5663d8),console[_0xd389a2(0x78c)]('IPv6\x20address\x20removed:\x20'+_0x5db499);}catch(_0x3ff8b8){console[_0xd389a2(0x5fe)](_0xd389a2(0x3f1)+_0x3ff8b8);}}['randomMac'](){const _0x58b8a8=a0_0xad378c;return _0x58b8a8(0x646)[_0x58b8a8(0x568)](/X/g,()=>_0x58b8a8(0x38f)[_0x58b8a8(0x72d)](Math[_0x58b8a8(0x261)](Math[_0x58b8a8(0x49c)]()*0x10)));}[a0_0xad378c(0x494)](_0x16640f,_0x3c57cf){const _0x5f4c1c=a0_0xad378c;let _0x421b14=_0x3c57cf['split'](':');return _0x421b14[0x0]=(parseInt(_0x421b14[0x0],0x10)^0x2)[_0x5f4c1c(0x3d2)](0x10)[_0x5f4c1c(0x7c8)](0x2,'0'),''+_0x16640f+_0x421b14[0x0]+_0x421b14[0x1]+':'+_0x421b14[0x2]+_0x5f4c1c(0x397)+_0x421b14[0x3]+':'+_0x421b14[0x4]+_0x421b14[0x5];}[a0_0xad378c(0x732)](){const _0x58dc44=a0_0xad378c;let _0x15ae51=this[_0x58dc44(0x686)];_0x15ae51[_0x58dc44(0x343)](':')||(_0x15ae51+=':');let _0x554d3a=this[_0x58dc44(0x4ec)]();return this[_0x58dc44(0x494)](_0x15ae51,_0x554d3a);}[a0_0xad378c(0x3f0)](_0x5c6794){const _0x5bcc34=a0_0xad378c;return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')[_0x5bcc34(0x514)](_0x5c6794);}async[a0_0xad378c(0x7e4)](_0x24a882){const _0x5bca37=a0_0xad378c;let _0x26e8ea=[{'url':_0x5bca37(0x7d2),'parse':_0x597a9d=>_0x597a9d['ip']},{'url':_0x5bca37(0x3ae),'parse':_0x180fec=>_0x180fec['ip']},{'url':'https://ifconfig.me/ip','parse':_0x4b0be6=>_0x4b0be6['trim']()},{'url':'https://v6.ident.me','parse':_0x1e21a2=>_0x1e21a2[_0x5bca37(0x4cf)]()}],_0x204a39=_0x26e8ea[Math['floor'](Math['random']()*_0x26e8ea['length'])];try{let _0x2db8f2=await Ei[_0x5bca37(0x7c4)][_0x5bca37(0x1ff)](_0x204a39[_0x5bca37(0x4b6)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x24a882}}),_0x3e08b4=_0x204a39[_0x5bca37(0x549)](_0x2db8f2['data']);return _0x3e08b4[_0x5bca37(0x16c)]()===_0x24a882[_0x5bca37(0x16c)]()?(console[_0x5bca37(0x78c)](_0x5bca37(0x3d6)+_0x24a882),!0x0):(console[_0x5bca37(0x5fe)](_0x5bca37(0x7f5)+_0x24a882+_0x5bca37(0x1ba)+_0x3e08b4),!0x1);}catch(_0x223168){return console[_0x5bca37(0x5fe)](_0x5bca37(0x619)+_0x204a39['url']+':\x20'+_0x223168[_0x5bca37(0x5fa)]),!0x1;}}async[a0_0xad378c(0x79e)](_0x430a74,_0x4f7900){const _0xa6c064=a0_0xad378c;if(!this[_0xa6c064(0x686)]||!this[_0xa6c064(0x6d6)])return console[_0xa6c064(0x5fe)](_0xa6c064(0x405)),null;let _0xc9aacc;do _0xc9aacc=this[_0xa6c064(0x732)](),console[_0xa6c064(0x78c)](_0xa6c064(0x1c7)+_0xc9aacc);while(!await this[_0xa6c064(0x81c)](_0xc9aacc));await this[_0xa6c064(0x172)](_0xc9aacc),console[_0xa6c064(0x78c)](_0xa6c064(0x840)+_0xc9aacc);let _0x395470={'_id':_0x430a74+'-'+_0x4f7900,'ip':_0xc9aacc},_0x2c037e=await this['cacheInstanceRepository'][_0xa6c064(0x5a7)](_0x395470,_0x395470[_0xa6c064(0x81f)]);return console['log'](_0xa6c064(0x6a0)+_0x2c037e),_0xc9aacc;}async[a0_0xad378c(0x81c)](_0xc67f45){const _0x4a9fdb=a0_0xad378c;return this[_0x4a9fdb(0x3f0)](_0xc67f45)?!await this[_0x4a9fdb(0x1a4)][_0x4a9fdb(0x5cc)]({'where':{'ip':_0xc67f45}}):!0x1;}async[a0_0xad378c(0x6c0)](_0x5b6dcf,_0x870684){const _0x35f788=a0_0xad378c;let _0x415ebb=_0x5b6dcf+'-'+_0x870684,_0x35a1a5=await this[_0x35f788(0x1a4)][_0x35f788(0x5cc)]({'where':{'_id':_0x415ebb}});_0x35a1a5&&_0x35a1a5['ip']&&(await this['removeIPv6'](_0x35a1a5['ip']),await this[_0x35f788(0x1a4)][_0x35f788(0x8c5)]({'where':{'_id':_0x415ebb}}));}},_o=new Ts(),se=_o,Ps='Safari',Ti,he=null,Ta=null,Oo=0x3,xo=null,vi=S['get'](a0_0xad378c(0x788))[a0_0xad378c(0x27d)][a0_0xad378c(0x831)],Ni=S[a0_0xad378c(0x1ff)]('PROXY');async function Do(){const _0xe5ca11=a0_0xad378c;let _0x466717=await ve[_0xe5ca11(0x5cc)]();he=_0x466717?.[_0xe5ca11(0x1dd)]??null,xo=_0x466717?.[_0xe5ca11(0x696)]??null,Ps=_0x466717?.[_0xe5ca11(0x464)]??_0xe5ca11(0x6cf),Ti=_0x466717?.[_0xe5ca11(0x4f7)]??B??_0xe5ca11(0x679);}async function Po(){await Do();}Po();var Lt={},$e=class u{constructor(_0x506f1a,_0x54c26b,_0x1ff81c){const _0x5e5436=a0_0xad378c;this['configService']=_0x506f1a,this[_0x5e5436(0x683)]=_0x54c26b,this['repository']=_0x1ff81c,this[_0x5e5436(0x611)]=null,this['logger']=new $(u[_0x5e5436(0x725)]),this[_0x5e5436(0x5f5)]={},this[_0x5e5436(0x21c)]={},this[_0x5e5436(0x558)]={'state':_0x5e5436(0x76b)},this[_0x5e5436(0x1f0)]=(0x0,j['join'])(ce,'downloads'),this['msgRetryCounterCache']=new Ds[(_0x5e5436(0x7c4))](),this[_0x5e5436(0x5cf)]=new Ds[(_0x5e5436(0x7c4))](),this['endSession']=!0x1,this[_0x5e5436(0x1b5)]={'status.instance':_0x5e5436(0x468),'connection.update':'/wa-connection-update','qrcode.updated':_0x5e5436(0x16d),'messages.upsert':'/wa-message','send.message':_0x5e5436(0x516),'messages.update':_0x5e5436(0x1c9),'group.upsert':_0x5e5436(0x8d0),'group.update':_0x5e5436(0x8d0),'group-participants.update':_0x5e5436(0x8d0),'messages.set':_0x5e5436(0x739),'contacts.set':_0x5e5436(0x80b),'contacts.upsert':_0x5e5436(0x80b),'contacts.update':_0x5e5436(0x80b),'presence.update':_0x5e5436(0x63b),'chats.set':_0x5e5436(0x263),'chats.update':_0x5e5436(0x263),'chats.upsert':_0x5e5436(0x263),'chats.delete':_0x5e5436(0x263)},this[_0x5e5436(0x70d)]=0x0,this[_0x5e5436(0x803)]=[],this['RECONNECT_TIME_FRAME']=0xea60,this[_0x5e5436(0x648)]=!0x1,this[_0x5e5436(0x5e1)]={'chats.upsert':async(_0x162547,_0x1fcfed)=>{const _0x34a65c=_0x5e5436;let _0x315eeb=[];for await(let _0x3f8861 of _0x162547)_0x315eeb[_0x34a65c(0x240)]({'_id':_0x3f8861['id'],'owner':this[_0x34a65c(0x5f5)][_0x34a65c(0x6e3)],'group':_0x3f8861['id']['endsWith'](_0x34a65c(0x577)),'name':_0x3f8861[_0x34a65c(0x725)]||_0x3f8861[_0x34a65c(0x45a)]||null,'contactname':null,'lastmsg':_0x3f8861[_0x34a65c(0x2c3)]&&_0x3f8861['conversationTimestamp']['toString']()[_0x34a65c(0x4f1)]<0xd?_0x3f8861[_0x34a65c(0x2c3)]*0x3e8:_0x3f8861[_0x34a65c(0x2c3)]||null,'archived':_0x3f8861['archived']||!0x1,'unreadcount':_0x3f8861[_0x34a65c(0x29c)]||0x0,'ephemeralExpiration':_0x3f8861[_0x34a65c(0x4b8)]||0x0});this[_0x34a65c(0x2b8)](_0x34a65c(0x349),_0x315eeb);},'chats.update':async(_0x717e79,_0x822cc0)=>{const _0x105c19=_0x5e5436;for(let _0x44a966 of _0x717e79){let _0xa65b5={'_id':_0x44a966['id'],'owner':this[_0x105c19(0x5f5)]['wuid'],'archived':_0x44a966[_0x105c19(0x875)],'muteEndTime':_0x44a966[_0x105c19(0x8d5)],'ephemeralExpiration':_0x44a966[_0x105c19(0x4b8)]},_0x2b8e47=!0x1,_0xc921c0={};_0xa65b5[_0x105c19(0x875)]!=null&&(this[_0x105c19(0x86b)][_0x105c19(0x8cc)](this['instanceName']+'\x20('+this[_0x105c19(0x5f5)]['wuid']+_0x105c19(0x25b)+_0x44a966['id']+_0x105c19(0x278)+_0x44a966['archived']),_0x2b8e47=!0x0,_0xc921c0['archived']=_0x44a966[_0x105c19(0x875)]),_0x105c19(0x8d5)in _0x44a966&&(this['logger'][_0x105c19(0x8cc)](this[_0x105c19(0x62b)]+'\x20('+this[_0x105c19(0x5f5)][_0x105c19(0x6e3)]+_0x105c19(0x7bb)+_0x44a966['id']+_0x105c19(0x278)+(_0x44a966[_0x105c19(0x8d5)]??'0')),_0x2b8e47=!0x0,_0xc921c0[_0x105c19(0x8d5)]=_0x44a966[_0x105c19(0x8d5)]??0x0),_0x105c19(0x4b8)in _0x44a966&&(this['logger']['verbose'](this[_0x105c19(0x62b)]+'\x20('+this['instance'][_0x105c19(0x6e3)]+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x44a966['id']+_0x105c19(0x278)+(_0x44a966[_0x105c19(0x4b8)]!==void 0x0?_0x44a966[_0x105c19(0x4b8)]:'undefined')),_0xc921c0['ephemeralExpiration']=_0x44a966[_0x105c19(0x4b8)]===null?0x0:_0x44a966['ephemeralExpiration'],_0x2b8e47=!0x0);let _0x541e21;_0x2b8e47&&(_0x541e21=await this['repository'][_0x105c19(0x7cc)][_0x105c19(0x71b)]({'where':{'_id':_0x44a966['id']}},_0xc921c0,this[_0x105c19(0x5f5)][_0x105c19(0x6e3)])),_0x541e21&&U(this[_0x105c19(0x62b)],_0x105c19(0x829),{'chat':_0x541e21});}},'chats.delete':async _0x42b4ff=>{const _0xbba777=_0x5e5436;for(let _0x4db03d of _0x42b4ff)if(_0x4db03d['endsWith']('@g.us')){await this['repository'][_0xbba777(0x7cc)][_0xbba777(0x8aa)]({'where':{'_id':_0x4db03d}},this[_0xbba777(0x5f5)][_0xbba777(0x6e3)]);let _0x3b3d75={'where':{'key':{'remoteJid':_0x4db03d}}};await this['repository']['message'][_0xbba777(0x8aa)](_0x3b3d75,this[_0xbba777(0x5f5)][_0xbba777(0x6e3)]);}else{await this[_0xbba777(0x58e)][_0xbba777(0x7cc)][_0xbba777(0x71b)]({'where':{'_id':_0x4db03d}},{'lastmsg':0x0,'unreadcount':0x0},this[_0xbba777(0x5f5)][_0xbba777(0x6e3)]);let _0x5d0fea={'where':{'key':{'remoteJid':_0x4db03d}}};await this[_0xbba777(0x58e)][_0xbba777(0x5fa)][_0xbba777(0x8aa)](_0x5d0fea,this[_0xbba777(0x5f5)][_0xbba777(0x6e3)]);}this[_0xbba777(0x2b8)]('chats.delete',[..._0x42b4ff]);}},this[_0x5e5436(0x535)]={'contacts.upsert':async(_0x4677eb,_0x58ac0d)=>{const _0x19237c=_0x5e5436;let _0x12482f=await this[_0x19237c(0x58e)]['contact'][_0x19237c(0x84a)]({'where':{}},this['instance']['wuid']),_0x551baf=[];for await(let _0x363b39 of _0x4677eb)_0x12482f[_0x19237c(0x84a)](_0x13e18c=>_0x13e18c[_0x19237c(0x81f)]===_0x363b39['id'])||_0x551baf['push']({'_id':_0x363b39['id'],'pushName':_0x363b39?.[_0x19237c(0x725)]||_0x363b39?.[_0x19237c(0x251)],'owner':this[_0x19237c(0x5f5)][_0x19237c(0x6e3)]});this[_0x19237c(0x2b8)](_0x19237c(0x6ca),_0x551baf),await this[_0x19237c(0x58e)]['contact'][_0x19237c(0x364)](_0x551baf);},'contacts.update':async(_0xf0ff2,_0x4ed4c1)=>{const _0xd8cbaa=_0x5e5436;let _0x5c77ea=[];for await(let _0x2716ce of _0xf0ff2)_0x5c77ea['push']({'_id':_0x2716ce['id'],'pushName':_0x2716ce?.[_0xd8cbaa(0x725)]??_0x2716ce?.[_0xd8cbaa(0x251)],'owner':this['instance'][_0xd8cbaa(0x6e3)]});this[_0xd8cbaa(0x2b8)](_0xd8cbaa(0x5b0),_0x5c77ea);}},this['messageHandle']={'messaging-history.set':async({messages:_0x132e37,chats:_0x369bd5,isLatest:_0x43e884},_0x1e6a4b)=>{const _0x44a500=_0x5e5436;if(_0x43e884){let _0x495fbd=await Promise['all'](_0x369bd5[_0x44a500(0x4a4)](async _0x4e5716=>({'_id':_0x4e5716['id'],'owner':this[_0x44a500(0x5f5)][_0x44a500(0x6e3)],'group':_0x4e5716['id'][_0x44a500(0x343)](_0x44a500(0x577)),'name':_0x4e5716[_0x44a500(0x725)]||_0x4e5716[_0x44a500(0x45a)]||_0x4e5716[_0x44a500(0x520)]||null,'contactname':null,'lastmsg':_0x4e5716[_0x44a500(0x2c3)]&&_0x4e5716['conversationTimestamp'][_0x44a500(0x3d2)]()[_0x44a500(0x4f1)]<0xd?_0x4e5716[_0x44a500(0x2c3)]*0x3e8:_0x4e5716[_0x44a500(0x2c3)]||null,'archived':_0x4e5716[_0x44a500(0x875)]||!0x1,'unreadcount':_0x4e5716['unreadCount']||0x0,'ephemeralExpiration':_0x4e5716['ephemeralExpiration']||0x0,'muteEndTime':_0x4e5716['muteEndTime']||0x0})));this[_0x44a500(0x2b8)](_0x44a500(0x879),_0x495fbd),await this[_0x44a500(0x3df)](_0x495fbd,_0x1e6a4b);}let _0x23b1b=[],_0x17680f=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x4398ca]of Object[_0x44a500(0x794)](_0x132e37)){if(_0x4398ca['message']?.[_0x44a500(0x279)]||_0x4398ca[_0x44a500(0x5fa)]?.[_0x44a500(0x519)]||!_0x4398ca[_0x44a500(0x5fa)]||_0x4398ca['key'][_0x44a500(0x436)]===_0x44a500(0x4db)||(xs['default'][_0x44a500(0x7c6)](_0x4398ca?.[_0x44a500(0x31d)])&&(_0x4398ca[_0x44a500(0x31d)]=_0x4398ca[_0x44a500(0x31d)]?.[_0x44a500(0x8b0)]()),_0x4398ca[_0x44a500(0x31d)]&&_0x4398ca[_0x44a500(0x31d)][_0x44a500(0x3d2)]()[_0x44a500(0x4f1)]<0xd&&(_0x4398ca[_0x44a500(0x31d)]=_0x4398ca[_0x44a500(0x31d)]*0x3e8),_0x4398ca[_0x44a500(0x31d)]<_0x17680f))continue;let _0x181df2=(0x0,w[_0x44a500(0x22c)])(_0x4398ca[_0x44a500(0x5fa)]),_0x259da8=(0x0,w[_0x44a500(0x618)])(_0x181df2),{message_normalized:_0x2d40aa}=this[_0x44a500(0x664)](_0x181df2,_0x259da8,null);Object[_0x44a500(0x178)](_0x2d40aa)[_0x44a500(0x4f1)]>0x0&&_0x23b1b[_0x44a500(0x240)]({'_id':_0x4398ca[_0x44a500(0x4ff)]['id'],'key':_0x4398ca[_0x44a500(0x4ff)],'pushName':_0x4398ca['pushName'],'participant':_0x4398ca['participant'],'message':_0x181df2,'messageType':_0x259da8,'message_normalized':{'key':_0x4398ca[_0x44a500(0x4ff)],'pushName':_0x4398ca[_0x44a500(0x640)],'messageTimestamp':_0x4398ca['messageTimestamp'],..._0x2d40aa},'messageTimestamp':_0x4398ca[_0x44a500(0x31d)],'owner':this[_0x44a500(0x5f5)][_0x44a500(0x6e3)]});}_0x1e6a4b[_0x44a500(0x785)]&&_0x23b1b[_0x44a500(0x4f1)]>0x0&&(this[_0x44a500(0x86b)][_0x44a500(0x8cc)](this['instanceName']+'\x20('+this[_0x44a500(0x5f5)][_0x44a500(0x6e3)]+_0x44a500(0x431)+_0x23b1b['length']+_0x44a500(0x303)+this['instance'][_0x44a500(0x6e3)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository'][_0x44a500(0x5fa)][_0x44a500(0x364)]([..._0x23b1b],this[_0x44a500(0x5f5)][_0x44a500(0x6e3)])),this[_0x44a500(0x2b8)](_0x44a500(0x75c),[..._0x23b1b]),_0x132e37=void 0x0;},'messages.upsert':async({messages:_0x42f0ae,type:_0x5129f4},_0x4aa5f3)=>{const _0x261d49=_0x5e5436;for(let _0xcbe94 of _0x42f0ae){if(this[_0x261d49(0x21c)]?.['groups_ignore']&&_0xcbe94[_0x261d49(0x4ff)][_0x261d49(0x436)]['includes']('@g.us')){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x261d49(0x5f5)][_0x261d49(0x6e3)]+_0x261d49(0x64e));return;}if(_0x5129f4!==_0x261d49(0x291)||!_0xcbe94?.[_0x261d49(0x5fa)]||_0xcbe94[_0x261d49(0x5fa)]?.[_0x261d49(0x279)]||_0xcbe94[_0x261d49(0x5fa)][_0x261d49(0x519)]||_0xcbe94[_0x261d49(0x4ff)]['remoteJid']==='status@broadcast')return;let _0x33c823=null,_0x3ad550=null;if(_0xcbe94['messageStubParameters']&&_0xcbe94['messageStubParameters'][0x0]===_0x261d49(0x276)){console[_0x261d49(0x5fe)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),Lt[_0xcbe94[_0x261d49(0x4ff)]['id']]=_0xcbe94,this[_0x261d49(0x18d)](_0xcbe94,0x0);return;}Lt[_0xcbe94[_0x261d49(0x4ff)]['id']]&&(console[_0x261d49(0x5fe)](_0x261d49(0x2e0)),delete Lt[_0xcbe94[_0x261d49(0x4ff)]['id']]);try{_0x33c823=await this['processPollUpdateMessage'](_0xcbe94),_0x3ad550=_0x33c823?_0x33c823[_0x261d49(0x6b9)](','):null;}catch(_0x2750ea){this[_0x261d49(0x86b)]['verbose'](this[_0x261d49(0x62b)]+'\x20('+this[_0x261d49(0x5f5)][_0x261d49(0x6e3)]+_0x261d49(0x431)+(_0x2750ea instanceof Error?_0x2750ea[_0x261d49(0x5fa)]:JSON[_0x261d49(0x62f)](_0x2750ea,null,0x2))),_0x3ad550='error\x20get\x20vote';}this['client'][_0x261d49(0x856)](_0x261d49(0x75a)),xs['default'][_0x261d49(0x7c6)](_0xcbe94[_0x261d49(0x31d)])&&(_0xcbe94['messageTimestamp']=_0xcbe94['messageTimestamp']?.[_0x261d49(0x8b0)]()),_0xcbe94['messageTimestamp']&&_0xcbe94[_0x261d49(0x31d)][_0x261d49(0x3d2)]()['length']<0xd&&(_0xcbe94[_0x261d49(0x31d)]=_0xcbe94[_0x261d49(0x31d)]*0x3e8);let _0x4a6680=_0xcbe94['message'],_0x37932a=(0x0,w[_0x261d49(0x22c)])(_0x4a6680),_0x3d7df3=(0x0,w[_0x261d49(0x618)])(_0x37932a),{messageContent:_0x1c9476,message_normalized:_0x1cc382}=this[_0x261d49(0x664)](_0x37932a,_0x3d7df3,_0x3ad550);_0x3d7df3==='protocolMessage'&&_0x1c9476?.[_0x261d49(0x3dd)]&&(_0x3d7df3=_0x261d49(0x3dd));let _0x1cea8d,_0x43f308=_0xcbe94['key']['remoteJid'][_0x261d49(0x343)](_0x261d49(0x577));if(_0xcbe94[_0x261d49(0x4ff)][_0x261d49(0x587)])_0x1cea8d=this['instance'][_0x261d49(0x645)];else{let _0xd0b2f6=_0x43f308?_0xcbe94[_0x261d49(0x4ff)][_0x261d49(0x20a)]:_0xcbe94['key'][_0x261d49(0x436)];_0x1cea8d=(await this[_0x261d49(0x4b2)](_0xd0b2f6,_0xcbe94['pushName'],!0x1))[_0x261d49(0x33a)][_0x261d49(0x82a)];}let _0x566fad={'_id':_0xcbe94[_0x261d49(0x4ff)]['id'],'key':_0xcbe94[_0x261d49(0x4ff)],'isGroup':_0x43f308,'profilePictureUrl':_0x1cea8d,'pushName':_0xcbe94[_0x261d49(0x640)],'message':_0x37932a,'messageType':_0x3d7df3,'message_normalized':{'key':_0xcbe94[_0x261d49(0x4ff)],'pushName':_0xcbe94['pushName'],'messageTimestamp':_0xcbe94[_0x261d49(0x31d)],'source':(0x0,w[_0x261d49(0x334)])(_0xcbe94[_0x261d49(0x4ff)]['id']),..._0x1cc382},'messageTimestamp':_0xcbe94['messageTimestamp'],'owner':this[_0x261d49(0x5f5)][_0x261d49(0x6e3)],'source':(0x0,w[_0x261d49(0x334)])(_0xcbe94[_0x261d49(0x4ff)]['id']),'expiration':_0x1c9476?.[_0x261d49(0x676)]?.[_0x261d49(0x715)]||0x0};_0x1c9476||(this[_0x261d49(0x86b)]['error'](_0x261d49(0x17b)),this[_0x261d49(0x86b)][_0x261d49(0x5fe)](_0x566fad)),this[_0x261d49(0x86b)]['log'](this[_0x261d49(0x62b)]+'\x20('+this['instance']['wuid']+_0x261d49(0x431)+(_0x566fad[_0x261d49(0x4ff)]?.['fromMe']?_0x261d49(0x73a):_0x261d49(0x81a))+'\x20['+_0x566fad['key']?.[_0x261d49(0x436)][_0x261d49(0x568)](_0x261d49(0x353),'')+']\x20('+_0x566fad[_0x261d49(0x319)]+')'),_0x566fad['message_normalized']?.[_0x261d49(0x34c)]&&this[_0x261d49(0x86b)][_0x261d49(0x78c)](_0xcbe94[_0x261d49(0x4ff)]['id']+':\x20'+_0x566fad[_0x261d49(0x282)]?.[_0x261d49(0x34c)]),await this[_0x261d49(0x58e)][_0x261d49(0x5fa)][_0x261d49(0x364)]([_0x566fad],this[_0x261d49(0x5f5)][_0x261d49(0x6e3)]),this[_0x261d49(0x2b8)](_0x261d49(0x362),_0x566fad),U(this['instanceName'],_0x261d49(0x624),{'message':_0x566fad}),_0xcbe94[_0x261d49(0x4ff)][_0x261d49(0x436)]!==_0x261d49(0x4db)&&await this[_0x261d49(0x759)](_0x4aa5f3,_0x566fad,_0x261d49(0x8d6));}},'messages.update':async(_0x23fe1f,_0x25c0fb)=>{const _0x556365=_0x5e5436;let _0xa3154={0x0:_0x556365(0x80f),0x1:_0x556365(0x724),0x2:_0x556365(0x1c8),0x3:_0x556365(0x1cd),0x4:_0x556365(0x6eb),0x5:_0x556365(0x654)};for await(let {key:_0x297086,update:_0x18ffa7}of _0x23fe1f){if(this['localWebhook']?.[_0x556365(0x2d7)]&&_0x297086[_0x556365(0x436)][_0x556365(0x77b)](_0x556365(0x577))){this[_0x556365(0x86b)][_0x556365(0x8cc)](this[_0x556365(0x62b)]+'\x20('+this[_0x556365(0x5f5)][_0x556365(0x6e3)]+_0x556365(0x299));return;}if(_0x297086['remoteJid']!==_0x556365(0x4db)){let _0x72a8eb=Date[_0x556365(0x54c)](),_0x140b19;_0x18ffa7['message']===null&&_0x18ffa7['status']===void 0x0?_0x140b19=_0x556365(0x863):_0x140b19=_0xa3154[_0x18ffa7[_0x556365(0x616)]];let _0x1126d4=_0x297086[_0x556365(0x436)][_0x556365(0x568)](/:\d{1,2}@/g,'@'),_0x23f6b8={..._0x297086,'remoteJid':_0x1126d4,'status':_0x140b19,'datetime':_0x72a8eb,'owner':this[_0x556365(0x5f5)][_0x556365(0x6e3)]};this[_0x556365(0x2b8)]('messages.update',_0x23f6b8),await this[_0x556365(0x1e5)](_0x297086,_0x23f6b8);}}},'labels.association':async({type:_0x5bb035,association:_0x10596a})=>{const _0x2a1c06=_0x5e5436;if(_0x10596a[_0x2a1c06(0x6a2)]===_0x2a1c06(0x726)){let _0x148cb7,_0x5ace61=0x0;for(;!_0x148cb7&&_0x5ace61<this[_0x2a1c06(0x463)];)_0x148cb7=await this[_0x2a1c06(0x58e)][_0x2a1c06(0x7cc)][_0x2a1c06(0x5cc)]({'where':{'_id':_0x10596a['chatId']}},this[_0x2a1c06(0x5f5)][_0x2a1c06(0x6e3)]),_0x148cb7||(_0x5ace61++,this['logger'][_0x2a1c06(0x575)](this[_0x2a1c06(0x62b)]+'\x20('+this[_0x2a1c06(0x5f5)]['wuid']+_0x2a1c06(0x196)+_0x10596a['chatId']+_0x2a1c06(0x271)+this[_0x2a1c06(0x6a7)]+_0x2a1c06(0x2e2)+_0x5ace61+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x2a1c06(0x3b0)](this[_0x2a1c06(0x6a7)]));if(!_0x148cb7){this[_0x2a1c06(0x86b)][_0x2a1c06(0x5fe)]('Falhou\x20ao\x20encontrar\x20chat\x20'+_0x10596a['chatId']+_0x2a1c06(0x4a9)+this[_0x2a1c06(0x463)]+_0x2a1c06(0x6b4));return;}switch(_0x5bb035){case _0x2a1c06(0x472):console[_0x2a1c06(0x78c)](_0x10596a),await this[_0x2a1c06(0x58e)][_0x2a1c06(0x7cc)][_0x2a1c06(0x71b)]({'where':{'_id':_0x10596a[_0x2a1c06(0x2ac)]}},{'leadInfo.etiquetas':_0x10596a['labelId']},this['instance'][_0x2a1c06(0x6e3)],void 0x0,_0x2a1c06(0x4ae));break;case _0x2a1c06(0x5f3):console[_0x2a1c06(0x78c)](_0x10596a),await this['repository'][_0x2a1c06(0x7cc)][_0x2a1c06(0x71b)]({'where':{'_id':_0x10596a['chatId']}},{'leadInfo.etiquetas':_0x10596a['labelId']},this[_0x2a1c06(0x5f5)][_0x2a1c06(0x6e3)],void 0x0,'$pull');break;default:this[_0x2a1c06(0x86b)][_0x2a1c06(0x5fe)](_0x2a1c06(0x521)+_0x5bb035+']');}}},'labels.edit':async _0x1568f1=>{const _0x5a6f26=_0x5e5436;if(!_0x1568f1||!_0x1568f1['id']){this[_0x5a6f26(0x86b)]['error'](_0x5a6f26(0x3e0));return;}if(!_0x1568f1[_0x5a6f26(0x61b)]){let _0x316129=[_0x5a6f26(0x1e7),_0x5a6f26(0x8e2),_0x5a6f26(0x681),_0x5a6f26(0x552),_0x5a6f26(0x43c),_0x5a6f26(0x740),'#fe9dfe',_0x5a6f26(0x4a8),_0x5a6f26(0x777),_0x5a6f26(0x62e),_0x5a6f26(0x812),_0x5a6f26(0x853),_0x5a6f26(0x219),_0x5a6f26(0x5c2),_0x5a6f26(0x4e3),_0x5a6f26(0x48e),'#ffae04','#b4ebff','#9ba6ff','#9568cf'],_0x58a0cb;typeof _0x1568f1[_0x5a6f26(0x8be)]==_0x5a6f26(0x570)&&_0x1568f1[_0x5a6f26(0x8be)]>=0x0&&_0x1568f1[_0x5a6f26(0x8be)]<_0x316129[_0x5a6f26(0x4f1)]?_0x58a0cb=_0x316129[_0x1568f1[_0x5a6f26(0x8be)]]:(this[_0x5a6f26(0x86b)]['error'](_0x5a6f26(0x6fe)+_0x1568f1[_0x5a6f26(0x8be)]),_0x58a0cb='#000000');let _0x2ad555={'_id':_0x1568f1['id'],'colorHex':_0x58a0cb,'color':_0x1568f1?.[_0x5a6f26(0x8be)],'name':_0x1568f1?.[_0x5a6f26(0x725)],'owner':this[_0x5a6f26(0x5f5)][_0x5a6f26(0x6e3)]};await this[_0x5a6f26(0x58e)]['label']['updateOne']({'where':{'_id':_0x1568f1['id']}},_0x2ad555,this[_0x5a6f26(0x5f5)][_0x5a6f26(0x6e3)]),this[_0x5a6f26(0x86b)][_0x5a6f26(0x575)](this[_0x5a6f26(0x62b)]+'\x20('+this[_0x5a6f26(0x5f5)][_0x5a6f26(0x6e3)]+_0x5a6f26(0x5cd)+_0x1568f1);}_0x1568f1[_0x5a6f26(0x61b)]&&(await this[_0x5a6f26(0x58e)][_0x5a6f26(0x6ec)]['delete']({'where':{'_id':_0x1568f1['id']}},this[_0x5a6f26(0x5f5)][_0x5a6f26(0x6e3)]),this['logger'][_0x5a6f26(0x575)](_0x5a6f26(0x5b7)+_0x1568f1['id']));}},this[_0x5e5436(0x2f9)]={'groups.upsert':async _0x6a26f2=>{const _0x1ccd9f=_0x5e5436;this[_0x1ccd9f(0x21c)]?.['groups_ignore']||this[_0x1ccd9f(0x2b8)](_0x1ccd9f(0x1c2),_0x6a26f2);for(let _0x329c7b of _0x6a26f2)await this[_0x1ccd9f(0x56e)](_0x329c7b);},'groups.update':async _0x1890e6=>{const _0x3f9f4d=_0x5e5436;this[_0x3f9f4d(0x21c)]?.[_0x3f9f4d(0x2d7)]||this[_0x3f9f4d(0x2b8)](_0x3f9f4d(0x73c),_0x1890e6);for(let _0x261d4a of _0x1890e6)await this['updateGroupWebhook'](_0x261d4a);},'group-participants.update':async _0x2c527e=>{const _0x244c08=_0x5e5436;this[_0x244c08(0x21c)]?.[_0x244c08(0x2d7)]||this[_0x244c08(0x2b8)](_0x244c08(0x2c7),_0x2c527e),await this[_0x244c08(0x70c)](_0x2c527e);}},this[_0x5e5436(0x463)]=0x5,this[_0x5e5436(0x6a7)]=0x1388,this[_0x5e5436(0x6f2)]=0x0,this[_0x5e5436(0x8e4)]=async _0x3a1fcd=>{const _0x2fe4d4=_0x5e5436;if(_0x3a1fcd[_0x2fe4d4(0x5fa)]?.[_0x2fe4d4(0x2e6)]){let _0x1e10d9=await this[_0x2fe4d4(0x374)](_0x3a1fcd[_0x2fe4d4(0x5fa)][_0x2fe4d4(0x2e6)][_0x2fe4d4(0x2c9)],!0x0);if(_0x1e10d9){let _0x1f25df=_0x1e10d9[_0x2fe4d4(0x4ff)][_0x2fe4d4(0x587)]?this[_0x2fe4d4(0x5f5)][_0x2fe4d4(0x6e3)]+'@s.whatsapp.net':_0x1e10d9[_0x2fe4d4(0x4ff)][_0x2fe4d4(0x20a)]||_0x1e10d9['key']['remoteJid'],_0x4c2b51=_0x1e10d9[_0x2fe4d4(0x4ff)]['id'],_0x2e5df7=_0x1e10d9[_0x2fe4d4(0x5fa)],_0x2561ca=Buffer['from'](_0x2e5df7['messageContextInfo'][_0x2fe4d4(0x398)]['toString'](_0x2fe4d4(0x1ee)),_0x2fe4d4(0x1ee)),_0x56a30f=(0x0,w['decryptPollVote'])(_0x3a1fcd[_0x2fe4d4(0x5fa)][_0x2fe4d4(0x2e6)][_0x2fe4d4(0x873)],{'pollCreatorJid':_0x1f25df,'pollMsgId':_0x4c2b51,'pollEncKey':_0x2561ca,'voterJid':_0x3a1fcd[_0x2fe4d4(0x4ff)][_0x2fe4d4(0x587)]?this[_0x2fe4d4(0x5f5)][_0x2fe4d4(0x6e3)]+'@s.whatsapp.net':_0x3a1fcd[_0x2fe4d4(0x4ff)][_0x2fe4d4(0x436)][_0x2fe4d4(0x343)](_0x2fe4d4(0x4de))?_0x3a1fcd[_0x2fe4d4(0x4ff)][_0x2fe4d4(0x20a)]:_0x3a1fcd['key'][_0x2fe4d4(0x436)]}),_0x2ce4b5=[],_0x4a74d8=_0x56a30f[_0x2fe4d4(0x819)][_0x2fe4d4(0x4a4)](_0x4dce93=>Buffer[_0x2fe4d4(0x18f)](_0x4dce93)['toString'](_0x2fe4d4(0x1ee)));for(let {optionName:_0x15ec9d}of _0x2e5df7[_0x2fe4d4(0x609)]?.[_0x2fe4d4(0x1d9)]||_0x2e5df7['pollCreationMessageV3']?.[_0x2fe4d4(0x1d9)]||_0x2e5df7[_0x2fe4d4(0x649)]?.[_0x2fe4d4(0x1d9)])_0x4a74d8['indexOf']((0x0,w[_0x2fe4d4(0x5e2)])(Buffer['from'](_0x15ec9d))[_0x2fe4d4(0x3d2)]('hex'))>-0x1&&_0x2ce4b5[_0x2fe4d4(0x240)](_0x15ec9d);return _0x2ce4b5;}}return null;},this[_0x5e5436(0x664)]=(_0x585d41,_0x5f3c39,_0x48e815)=>{const _0x35557f=_0x5e5436;try{let _0x2ab8ed=_0x585d41?(0x0,w['extractMessageContent'])(_0x585d41)[_0x5f3c39]:void 0x0,_0x46a093={},_0x126ef0=null,_0x4cff8a=null,_0x2fcf33=null,_0x447543=null;_0x5f3c39===_0x35557f(0x279)&&_0x2ab8ed?.[_0x35557f(0x3dd)]&&(_0x5f3c39=(0x0,w[_0x35557f(0x618)])(_0x2ab8ed[_0x35557f(0x3dd)]),_0x126ef0=_0x585d41['protocolMessage'][_0x35557f(0x4ff)]['id'],_0x2ab8ed=_0x585d41[_0x35557f(0x279)][_0x35557f(0x3dd)][_0x5f3c39]),_0x585d41[_0x5f3c39]?.['contextInfo']?.[_0x35557f(0x3a4)]&&_0x585d41[_0x5f3c39]?.['contextInfo']?.['quotedMessage']&&(_0x4cff8a=_0x585d41[_0x5f3c39]['contextInfo'][_0x35557f(0x3a4)]),_0x585d41[_0x35557f(0x4bd)]&&(_0x2fcf33=_0x585d41[_0x35557f(0x4bd)][_0x35557f(0x4ff)]['id']);let _0x479e9a;if(_0x2ab8ed&&typeof _0x2ab8ed=='object'&&'pollCreationMessageKey'in _0x2ab8ed&&({pollCreationMessageKey:_0x479e9a}=_0x2ab8ed),_0x5f3c39===_0x35557f(0x609)||_0x5f3c39===_0x35557f(0x649)||_0x5f3c39===_0x35557f(0x701)){let _0xcf9e7=_0x2ab8ed[_0x35557f(0x1d9)][_0x35557f(0x4a4)](_0x211ca3=>_0x211ca3['optionName'])[_0x35557f(0x6b9)]('|');_0x46a093[_0x35557f(0x19b)]=_0xcf9e7;}if(_0x5f3c39==='interactiveMessage'){let _0x87afeb=_0x2ab8ed['nativeFlowMessage'][_0x35557f(0x2ba)][_0x35557f(0x4a4)](_0x3a8fec=>JSON[_0x35557f(0x549)](_0x3a8fec[_0x35557f(0x6c6)])[_0x35557f(0x7ce)])['join']('|');_0x46a093[_0x35557f(0x19b)]=_0x87afeb;}_0x5f3c39===_0x35557f(0x540)&&(_0x46a093[_0x35557f(0x241)]=_0x2ab8ed?.['singleSelectReply']?.['selectedRowId']);let _0x137201='';if(_0x2ab8ed&&(_0x137201+=_0x2ab8ed['name']?_0x2ab8ed[_0x35557f(0x725)]:'',_0x137201+=_0x2ab8ed[_0x35557f(0x5f7)]?'\x20'+_0x2ab8ed[_0x35557f(0x5f7)]:'',_0x137201+=_0x2ab8ed[_0x35557f(0x655)]?'\x20'+_0x2ab8ed[_0x35557f(0x655)]:'',_0x137201+=_0x2ab8ed[_0x35557f(0x45a)]?'\x20'+_0x2ab8ed[_0x35557f(0x45a)]:'',_0x5f3c39!=='interactiveResponseMessage'&&(_0x137201+=_0x2ab8ed[_0x35557f(0x3f7)]?.['text']?'\x20'+_0x2ab8ed[_0x35557f(0x3f7)][_0x35557f(0x34c)]:''),_0x137201+=_0x2ab8ed?.[_0x35557f(0x20b)]?.['text']?'\x20'+_0x2ab8ed?.[_0x35557f(0x20b)]?.[_0x35557f(0x34c)]:''),_0x5f3c39===_0x35557f(0x532)){_0x137201=(_0x2ab8ed[_0x35557f(0x3ce)]||'')+'\x0a'+(_0x2ab8ed['description']||'')+'\x0a'+(_0x2ab8ed['footerText']||'');let _0x362ffe=this[_0x35557f(0x2cb)](_0x2ab8ed[_0x35557f(0x8c0)]);_0x46a093['convertedOptions']=_0x362ffe;}if(_0x5f3c39==='listResponseMessage'&&(_0x48e815=_0x2ab8ed[_0x35557f(0x3ce)],_0x447543=_0x2ab8ed?.['singleSelectReply']?.['selectedRowId']),_0x5f3c39===_0x35557f(0x539)&&(_0x48e815=_0x2ab8ed?.['body']?.[_0x35557f(0x34c)]),_0x5f3c39===_0x35557f(0x591)&&(_0x48e815=_0x2ab8ed?.['selectedDisplayText'],_0x447543=_0x2ab8ed?.[_0x35557f(0x6ee)]),_0x2ab8ed&&_0x2ab8ed[_0x35557f(0x898)]){let _0x176248=this[_0x35557f(0x395)](JSON['stringify'](_0x2ab8ed['vcard'],null,0x2));_0x137201=_0x137201+'\x0a'+_0x176248;}if(_0x2ab8ed){let {nativeFlowResponseMessage:_0x4c8eba,selectedId:_0x1c73f3,selectedDisplayText:_0x4d0585,selectedIndex:_0x1e5631,body:_0x257afd,nativeFlowMessage:_0x12fa66,singleSelectReply:_0x141f10,sections:_0x46b83c,listType:_0x4030c2,displayName:_0x443d15,vcard:_0x307175,contactVcard:_0x56dccf,name:_0x519a30,caption:_0x809d5f,conversation:_0x517bf0,pollCreationMessageKey:_0x5f4c17,footerText:_0x4d98ff,contentText:_0x15fab4,pageCount:_0x207c77,headerType:_0x45b152,isAvatar:_0x1f528f,isAnimated:_0x43783d,fallbackLc:_0x456191,fallbackLg:_0xe5c615,namespace:_0x186e0b,elementName:_0x214904,localizableParams:_0x53ca33,viewOnce:_0x214947,height:_0x25494e,width:_0x5809cf,key:_0x277dfc,firstScanLength:_0x462e0d,firstScanSidecar:_0x30acae,gifPlayback:_0x564315,gifAttribution:_0x50397a,midQualityFileSha256:_0x54220f,scansSidecar:_0x1c547e,streamingSidecar:_0x3ad602,thumbnailHeight:_0x22f53c,thumbnailWidth:_0x1ef9b3,thumbnailEncSha256:_0x533ace,thumbnailDirectPath:_0x3addb8,canonicalUrl:_0x388825,matchedText:_0x2a4308,previewType:_0x2d9946,thumbnailSha256:_0x3df35b,deviceListMetadataVersion:_0x416c29,inviteLinkGroupTypeV2:_0x540fd9,interactiveAnnotations:_0x3c9a74,scanLengths:_0x3d5928,jpegThumbnail:_0x4e75a8,url:_0x57c708,mediaKeyTimestamp:_0x286c63,waveform:_0x1c09e3,stickerSentTs:_0x232bd6,firstFrameLength:_0x28884b,fileEncSha256:_0x30a210,contextInfo:_0x400873,firstFrameSidecar:_0x333f9d,directPath:_0x34a5ec,fileSha256:_0x40067c,mediaKey:_0x360a2a,senderTimestampMs:_0x1b77a2,..._0x16f2c9}=_0x2ab8ed;(_0x5f3c39===_0x35557f(0x532)||_0x5f3c39==='listResponseMessage')&&(delete _0x16f2c9[_0x35557f(0x3ce)],delete _0x16f2c9[_0x35557f(0x5d9)]),typeof _0x2ab8ed=='string'?_0x46a093={'text':_0x2ab8ed,'type':_0x5f3c39||_0x35557f(0x655),..._0x126ef0&&{'edited':_0x126ef0},..._0x4cff8a&&{'quoted':_0x4cff8a},..._0x2fcf33&&{'reaction':_0x2fcf33}}:_0x46a093={'text':_0x137201,..._0x16f2c9,..._0x5f3c39===_0x35557f(0x2e6)?{'poll_id':_0x2ab8ed[_0x35557f(0x2c9)]['id'],'quoted':_0x2ab8ed[_0x35557f(0x2c9)]['id'],'vote':_0x48e815}:{},..._0x5f3c39===_0x35557f(0x540)?{'buttonOrList_id':_0x447543,'vote':_0x48e815}:{},..._0x5f3c39===_0x35557f(0x539)?{'vote':_0x48e815}:{},..._0x5f3c39===_0x35557f(0x591)?{'buttonOrList_id':_0x447543,'vote':_0x48e815}:{},'type':_0x5f3c39,..._0x126ef0&&{'edited':_0x126ef0},..._0x4cff8a&&{'quoted':_0x4cff8a},..._0x2fcf33&&{'reaction':_0x2fcf33},...(_0x5f3c39===_0x35557f(0x609)||_0x5f3c39===_0x35557f(0x649)||_0x5f3c39===_0x35557f(0x701)||_0x5f3c39===_0x35557f(0x532)||_0x5f3c39===_0x35557f(0x1cc))&&{'convertedOptions':_0x46a093[_0x35557f(0x19b)]}};}return{'messageType':_0x5f3c39,'messageContent':_0x2ab8ed,'message_normalized':_0x46a093};}catch(_0x3c069b){return this[_0x35557f(0x86b)][_0x35557f(0x5fe)](_0x35557f(0x52c)+_0x3c069b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['processUUID']=null,this[_0x5e5436(0x83d)]=[],(this[_0x5e5436(0x3a1)](),this[_0x5e5436(0x52e)](),this[_0x5e5436(0x5f5)][_0x5e5436(0x22d)]={'count':0x0},this['instance'][_0x5e5436(0x660)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set['instanceName'](_0x50fddd){const _0x26b941=a0_0xad378c;if(!_0x50fddd){this[_0x26b941(0x5f5)][_0x26b941(0x725)]=(0x0,$i['v4'])();return;}this[_0x26b941(0x5f5)][_0x26b941(0x725)]=_0x50fddd,this['sendDataWebhook'](_0x26b941(0x713),{'instance':this[_0x26b941(0x5f5)][_0x26b941(0x725)],'status':_0x26b941(0x66b)});}get['instanceName'](){const _0xf39136=a0_0xad378c;return this[_0xf39136(0x5f5)][_0xf39136(0x725)];}get['wuid'](){const _0x407597=a0_0xad378c;return this[_0x407597(0x5f5)][_0x407597(0x6e3)];}async[a0_0xad378c(0x2cf)](){const _0x4d266b=a0_0xad378c;let _0x278f54=this[_0x4d266b(0x37e)][_0x4d266b(0x49b)]?.[_0x4d266b(0x725)]??this[_0x4d266b(0x37e)][_0x4d266b(0x49b)]?.[_0x4d266b(0x251)];if(!_0x278f54){if(this[_0x4d266b(0x2ed)]['get']('DATABASE')[_0x4d266b(0x785)]){let _0x241830=await A[_0x4d266b(0x6be)]()['db'](this[_0x4d266b(0x2ed)][_0x4d266b(0x1ff)](_0x4d266b(0x5af))[_0x4d266b(0x21b)][_0x4d266b(0x67b)]+_0x4d266b(0x666))[_0x4d266b(0x4d1)](this['instanceName'])[_0x4d266b(0x5cc)]({'_id':_0x4d266b(0x2ee)});if(_0x241830){let _0x5f58dc=JSON['parse'](JSON['stringify'](_0x241830),w['BufferJSON']['reviver']);_0x278f54=_0x5f58dc['me']?.[_0x4d266b(0x725)]||_0x5f58dc['me']?.[_0x4d266b(0x251)];}}else{if((0x0,Le[_0x4d266b(0x88e)])((0x0,j[_0x4d266b(0x6b9)])(Se,this[_0x4d266b(0x62b)],_0x4d266b(0x56a)))){let _0x431d96=JSON[_0x4d266b(0x549)]((0x0,Le[_0x4d266b(0x738)])((0x0,j[_0x4d266b(0x6b9)])(Se,this[_0x4d266b(0x62b)],_0x4d266b(0x56a)),{'encoding':_0x4d266b(0x8ba)}));_0x278f54=_0x431d96['me']?.[_0x4d266b(0x725)]||_0x431d96['me']?.['verifiedName'];}}}return _0x278f54;}get['profilePictureUrl'](){const _0xf731d6=a0_0xad378c;return this[_0xf731d6(0x5f5)][_0xf731d6(0x645)];}get[a0_0xad378c(0x817)](){const _0xb27c3d=a0_0xad378c;return this[_0xb27c3d(0x5f5)]['qrcode']?.[_0xb27c3d(0x79f)]?{'pairingCode':this[_0xb27c3d(0x5f5)][_0xb27c3d(0x22d)]?.[_0xb27c3d(0x79f)]}:{'code':this['instance'][_0xb27c3d(0x22d)]?.[_0xb27c3d(0x24f)],'base64':this[_0xb27c3d(0x5f5)]['qrcode']?.[_0xb27c3d(0x450)]};}async[a0_0xad378c(0x663)](){const _0x1689ae=a0_0xad378c;let _0x35bba2=await this[_0x1689ae(0x58e)][_0x1689ae(0x5f6)][_0x1689ae(0x84a)](this[_0x1689ae(0x62b)]);this['localWebhook']['url']=_0x35bba2?.[_0x1689ae(0x4b6)],this[_0x1689ae(0x21c)][_0x1689ae(0x257)]=_0x35bba2?.[_0x1689ae(0x257)],this['localWebhook']['local_map']=_0x35bba2?.[_0x1689ae(0x3eb)],this[_0x1689ae(0x21c)]['STATUS_INSTANCE']=_0x35bba2?.[_0x1689ae(0x286)],this[_0x1689ae(0x21c)]['QRCODE_UPDATED']=_0x35bba2?.[_0x1689ae(0x5ae)],this['localWebhook'][_0x1689ae(0x708)]=_0x35bba2?.[_0x1689ae(0x708)],this[_0x1689ae(0x21c)][_0x1689ae(0x8d6)]=_0x35bba2?.[_0x1689ae(0x8d6)],this[_0x1689ae(0x21c)][_0x1689ae(0x1a9)]=_0x35bba2?.[_0x1689ae(0x1a9)],this['localWebhook'][_0x1689ae(0x26a)]=_0x35bba2?.[_0x1689ae(0x26a)],this[_0x1689ae(0x21c)][_0x1689ae(0x287)]=_0x35bba2?.['GROUPS_UPDATE'],this[_0x1689ae(0x21c)][_0x1689ae(0x594)]=_0x35bba2?.[_0x1689ae(0x594)],this[_0x1689ae(0x21c)]['CHATS_SET']=_0x35bba2?.[_0x1689ae(0x74c)],this[_0x1689ae(0x21c)][_0x1689ae(0x4cd)]=_0x35bba2?.[_0x1689ae(0x4cd)],this[_0x1689ae(0x21c)][_0x1689ae(0x4be)]=_0x35bba2?.[_0x1689ae(0x4be)],this['localWebhook'][_0x1689ae(0x836)]=_0x35bba2?.[_0x1689ae(0x836)],this[_0x1689ae(0x21c)][_0x1689ae(0x7ee)]=_0x35bba2?.[_0x1689ae(0x7ee)],this['localWebhook'][_0x1689ae(0x889)]=_0x35bba2?.[_0x1689ae(0x889)],this[_0x1689ae(0x21c)][_0x1689ae(0x718)]=_0x35bba2?.[_0x1689ae(0x718)],this[_0x1689ae(0x21c)][_0x1689ae(0x244)]=_0x35bba2?.[_0x1689ae(0x244)],this[_0x1689ae(0x21c)][_0x1689ae(0x7e1)]=_0x35bba2?.[_0x1689ae(0x7e1)],this[_0x1689ae(0x21c)]['CONNECTION_UPDATE']=_0x35bba2?.[_0x1689ae(0x3cd)],this[_0x1689ae(0x21c)][_0x1689ae(0x2d7)]=_0x35bba2?.[_0x1689ae(0x2d7)];}async[a0_0xad378c(0x628)](_0x3894e9){const _0x2d8d2c=a0_0xad378c;let _0x515a2f=[_0x2d8d2c(0x81f),_0x2d8d2c(0x4b6),_0x2d8d2c(0x257),_0x2d8d2c(0x3eb),_0x2d8d2c(0x286),_0x2d8d2c(0x5ae),_0x2d8d2c(0x1a9),_0x2d8d2c(0x8d6),_0x2d8d2c(0x708),_0x2d8d2c(0x26a),_0x2d8d2c(0x287),_0x2d8d2c(0x594),_0x2d8d2c(0x74c),'CHATS_UPSERT','CHATS_UPDATE',_0x2d8d2c(0x836),_0x2d8d2c(0x7ee),'CONTACTS_UPSERT','CONTACTS_UPDATE',_0x2d8d2c(0x244),'MESSAGES_SET','CONNECTION_UPDATE','groups_ignore'],_0x2dfefe={};return _0x515a2f[_0x2d8d2c(0x6db)](_0x34ed13=>{_0x3894e9[_0x34ed13]!==void 0x0&&(_0x2dfefe[_0x34ed13]=_0x3894e9[_0x34ed13]);}),_0x2dfefe[_0x2d8d2c(0x4b6)]&&(_0x2dfefe['url']=_0x2dfefe[_0x2d8d2c(0x4b6)]['trim']()),await this[_0x2d8d2c(0x58e)][_0x2d8d2c(0x5f6)]['create'](_0x2dfefe,this['instanceName']),Object[_0x2d8d2c(0x39f)](this[_0x2d8d2c(0x21c)],_0x2dfefe),await this[_0x2d8d2c(0x58e)][_0x2d8d2c(0x5f6)][_0x2d8d2c(0x84a)](this['instanceName']);}async[a0_0xad378c(0x7eb)](){const _0x3b4ec8=a0_0xad378c;return await this['repository'][_0x3b4ec8(0x5f6)]['find'](this['instanceName']);}async[a0_0xad378c(0x2b8)](_0x13f4eb,_0x3a1747){const _0x3ba6f8=a0_0xad378c;let _0x1e9eab=_0x13f4eb['replace'](/[\.-]/gm,'_')[_0x3ba6f8(0x422)](),_0x4354a4=this[_0x3ba6f8(0x21c)][_0x3ba6f8(0x257)]&&(0x0,J[_0x3ba6f8(0x4e7)])(this[_0x3ba6f8(0x21c)]['url'])?this[_0x3ba6f8(0x21c)][_0x3ba6f8(0x4b6)]+(this[_0x3ba6f8(0x21c)][_0x3ba6f8(0x3eb)]?this[_0x3ba6f8(0x1b5)][_0x13f4eb]:''):null,_0x186c3c=this[_0x3ba6f8(0x21c)][_0x1e9eab],_0x2bd6ce=he&&he[_0x3ba6f8(0x257)]&&(0x0,J['isURL'])(he[_0x3ba6f8(0x4b6)])?he['url']+(he[_0x3ba6f8(0x3eb)]?this['webhookMap'][_0x13f4eb]:''):null,_0x370386=he?he[_0x1e9eab]:null;if(_0x186c3c&&_0x4354a4)try{await Y[_0x3ba6f8(0x7c4)][_0x3ba6f8(0x386)]({'baseURL':_0x4354a4})[_0x3ba6f8(0x7a7)]('',{'event':_0x13f4eb,'instance':this['instance'][_0x3ba6f8(0x725)],'apikey':this[_0x3ba6f8(0x5f5)][_0x3ba6f8(0x2cc)],'data':_0x3a1747}),this[_0x3ba6f8(0x86b)][_0x3ba6f8(0x78c)](this[_0x3ba6f8(0x62b)]+'\x20('+this[_0x3ba6f8(0x5f5)][_0x3ba6f8(0x6e3)]+_0x3ba6f8(0x7f4)+_0x13f4eb+':\x20'+_0x4354a4);}catch{this[_0x3ba6f8(0x86b)][_0x3ba6f8(0x5fe)](this[_0x3ba6f8(0x62b)]+'\x20('+this[_0x3ba6f8(0x5f5)][_0x3ba6f8(0x6e3)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x13f4eb+':\x20'+_0x4354a4);}if(_0x370386&&_0x2bd6ce)try{await Y['default'][_0x3ba6f8(0x386)]({'baseURL':_0x2bd6ce})['post']('',{'event':_0x13f4eb,'instance':this[_0x3ba6f8(0x5f5)][_0x3ba6f8(0x725)],'apikey':this[_0x3ba6f8(0x5f5)][_0x3ba6f8(0x2cc)],'data':_0x3a1747}),this[_0x3ba6f8(0x86b)][_0x3ba6f8(0x78c)](this[_0x3ba6f8(0x62b)]+'\x20('+this[_0x3ba6f8(0x5f5)][_0x3ba6f8(0x6e3)]+_0x3ba6f8(0x576)+_0x13f4eb+':\x20'+_0x2bd6ce);}catch{this['logger']['error'](this[_0x3ba6f8(0x62b)]+'\x20('+this[_0x3ba6f8(0x5f5)]['wuid']+_0x3ba6f8(0x8bf)+_0x13f4eb+':\x20'+_0x2bd6ce);}}async[a0_0xad378c(0x766)]({qr:_0x586c53,connection:_0x1d615c,lastDisconnect:_0x31c0ad}){const _0x2664bf=a0_0xad378c;if(_0x586c53){if(this[_0x2664bf(0x5f5)]['qrcode']['count']===Oo)return this['sendDataWebhook'](_0x2664bf(0x326),{'message':_0x2664bf(0x2eb),'statusCode':w[_0x2664bf(0x5fd)][_0x2664bf(0x7f3)]}),this[_0x2664bf(0x558)]={'state':_0x2664bf(0x71d),'statusReason':w[_0x2664bf(0x5fd)][_0x2664bf(0x87e)]},this[_0x2664bf(0x2b8)]('connection.update',{'instance':this[_0x2664bf(0x5f5)][_0x2664bf(0x725)],...this[_0x2664bf(0x558)]}),this[_0x2664bf(0x2b8)](_0x2664bf(0x713),{'instance':this[_0x2664bf(0x5f5)][_0x2664bf(0x725)],'status':'removed'}),this[_0x2664bf(0x58e)][_0x2664bf(0x89f)]['delete'](this['instance'][_0x2664bf(0x725)]),this[_0x2664bf(0x1a7)]=!0x0,se[_0x2664bf(0x6c0)](B,this['instance'][_0x2664bf(0x725)]),this[_0x2664bf(0x683)][_0x2664bf(0x31a)]('no.connection',this['instance'][_0x2664bf(0x725)]);this[_0x2664bf(0x5f5)][_0x2664bf(0x22d)][_0x2664bf(0x30d)]++;let _0x1626d9={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x2664bf(0x310),'dark':'#000000'}};Ri[_0x2664bf(0x7c4)][_0x2664bf(0x71c)](_0x586c53,_0x1626d9,(_0x27e7f5,_0x42cd9d)=>{const _0x52e7d8=_0x2664bf;if(_0x27e7f5){this[_0x52e7d8(0x86b)][_0x52e7d8(0x5fe)](this[_0x52e7d8(0x62b)]+'\x20('+this[_0x52e7d8(0x5f5)]['wuid']+_0x52e7d8(0x2fd)+(_0x27e7f5 instanceof Error?_0x27e7f5[_0x52e7d8(0x5fa)]:JSON[_0x52e7d8(0x62f)](_0x27e7f5,null,0x2)));return;}this['instance']['qrcode']['base64']=_0x42cd9d,this[_0x52e7d8(0x5f5)][_0x52e7d8(0x22d)][_0x52e7d8(0x24f)]=_0x586c53,!this['phoneNumber']&&this[_0x52e7d8(0x2b8)]('qrcode.updated',{'qrcode':{'instance':this[_0x52e7d8(0x5f5)]['name'],'pairingCode':this[_0x52e7d8(0x5f5)][_0x52e7d8(0x22d)]['pairingCode'],'code':_0x586c53,'base64':_0x42cd9d}});}),this['phoneNumber']?this[_0x2664bf(0x5f5)]['qrcode'][_0x2664bf(0x79f)]||(await(0x0,w[_0x2664bf(0x636)])(0x7d0),this['instance'][_0x2664bf(0x22d)]['pairingCode']=await this[_0x2664bf(0x37e)][_0x2664bf(0x4f0)](this[_0x2664bf(0x83a)])):this[_0x2664bf(0x5f5)][_0x2664bf(0x22d)][_0x2664bf(0x79f)]=null,Ai[_0x2664bf(0x7c4)][_0x2664bf(0x513)](_0x586c53,{'small':!0x0},_0x366a0c=>this['logger'][_0x2664bf(0x78c)](_0x2664bf(0x711)+this['instance'][_0x2664bf(0x725)]+_0x2664bf(0x67c)+this[_0x2664bf(0x5f5)][_0x2664bf(0x22d)][_0x2664bf(0x30d)]+',\x20pairCode:\x20'+this['instance'][_0x2664bf(0x22d)][_0x2664bf(0x79f)]+_0x2664bf(0x818)+_0x366a0c));}if(_0x1d615c&&(this[_0x2664bf(0x558)]={'state':_0x1d615c,'statusReason':_0x31c0ad?.[_0x2664bf(0x5fe)]?.[_0x2664bf(0x171)]?.[_0x2664bf(0x442)]??0xc8},this[_0x2664bf(0x2b8)]('connection.update',{'instance':this['instance'][_0x2664bf(0x725)],...this[_0x2664bf(0x558)]})),_0x1d615c==='close'){if(this[_0x2664bf(0x70d)]++,this['reconnectTimestamps'][_0x2664bf(0x240)](Date[_0x2664bf(0x54c)]()),this[_0x2664bf(0x803)]=this[_0x2664bf(0x803)][_0x2664bf(0x3f3)](_0x223454=>Date[_0x2664bf(0x54c)]()-_0x223454<this[_0x2664bf(0x181)]),_0x31c0ad[_0x2664bf(0x5fe)]?.['output']?.['statusCode']!==w[_0x2664bf(0x5fd)][_0x2664bf(0x70a)]){let _0x193ee6=this[_0x2664bf(0x70d)]<=0x1?0x0:Math[_0x2664bf(0x2d4)](Math[_0x2664bf(0x77d)](0x2,this[_0x2664bf(0x70d)]-0x1)*0x3e8,0x493e0);console[_0x2664bf(0x78c)](this[_0x2664bf(0x62b)]+_0x2664bf(0x72c)+this['reconnectAttempts']+_0x2664bf(0x6d7)+_0x193ee6/0x3e8+_0x2664bf(0x89b)),await new Promise(_0x5b7cd8=>setTimeout(_0x5b7cd8,_0x193ee6)),console[_0x2664bf(0x78c)](_0x2664bf(0x6d4)),await this[_0x2664bf(0x5e9)]();}else{this[_0x2664bf(0x2b8)]('status.instance',{'instance':this[_0x2664bf(0x5f5)][_0x2664bf(0x725)],'status':_0x2664bf(0x6de)}),this[_0x2664bf(0x5f5)][_0x2664bf(0x660)][_0x2664bf(0x1a6)]=!0x1,this[_0x2664bf(0x58e)][_0x2664bf(0x5f6)][_0x2664bf(0x8aa)](this[_0x2664bf(0x62b)]),this[_0x2664bf(0x58e)][_0x2664bf(0x89f)][_0x2664bf(0x386)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x2664bf(0x5f5)][_0x2664bf(0x725)]),se['removeIPv6ById'](B,this[_0x2664bf(0x5f5)][_0x2664bf(0x725)]);try{this['logger']['verbose'](this[_0x2664bf(0x62b)]+'\x20('+this[_0x2664bf(0x5f5)][_0x2664bf(0x6e3)]+_0x2664bf(0x677));let _0x2af724=await this[_0x2664bf(0x58e)][_0x2664bf(0x5fa)]['deleteAll'](this[_0x2664bf(0x5f5)][_0x2664bf(0x6e3)]);_0x2af724[_0x2664bf(0x57b)]?this['logger'][_0x2664bf(0x8cc)](this['instanceName']+'\x20('+this['instance'][_0x2664bf(0x6e3)]+_0x2664bf(0x2d9)):this['logger']['error']('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0x2af724['error']);}catch(_0x59a407){this[_0x2664bf(0x86b)][_0x2664bf(0x5fe)](_0x2664bf(0x8a2)+_0x59a407[_0x2664bf(0x5fa)]);}this[_0x2664bf(0x5f5)]['ScheduleMessage'][_0x2664bf(0x292)]!==null&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2664bf(0x5f5)][_0x2664bf(0x6e3)]+_0x2664bf(0x871)),clearInterval(this[_0x2664bf(0x5f5)][_0x2664bf(0x660)][_0x2664bf(0x292)]),this['instance'][_0x2664bf(0x660)]['delayMessage']=null),this[_0x2664bf(0x86b)]['verbose'](this[_0x2664bf(0x62b)]+'\x20('+this['instance'][_0x2664bf(0x6e3)]+_0x2664bf(0x750)),this[_0x2664bf(0x611)]=null,this[_0x2664bf(0x683)]['emit'](_0x2664bf(0x246),this[_0x2664bf(0x5f5)][_0x2664bf(0x725)],_0x2664bf(0x22e)),this[_0x2664bf(0x37e)]?.['ws']?.[_0x2664bf(0x76b)](),this['client']['end'](new Error('Close\x20connection'));}}if(_0x1d615c==='open'){this['logger']['warn'](this['instanceName']+'\x20('+this[_0x2664bf(0x5f5)][_0x2664bf(0x6e3)]+'):\x20this.client.authState.creds?.myAppStateKeyId:\x20'+this[_0x2664bf(0x37e)][_0x2664bf(0x78f)][_0x2664bf(0x2ee)]?.[_0x2664bf(0x2a3)]),this['client'][_0x2664bf(0x78f)][_0x2664bf(0x2ee)]?.['myAppStateKeyId']||(this[_0x2664bf(0x86b)][_0x2664bf(0x75e)](this[_0x2664bf(0x62b)]+'\x20('+this[_0x2664bf(0x5f5)][_0x2664bf(0x6e3)]+'):\x20ev.flush\x20realizado'),this[_0x2664bf(0x37e)]['ev'][_0x2664bf(0x7c7)]()),this['resetReconnectionVariables'],this[_0x2664bf(0x5f5)][_0x2664bf(0x6e3)]=this[_0x2664bf(0x37e)]['user']['id'][_0x2664bf(0x568)](/:\d+/,'')[_0x2664bf(0x568)](_0x2664bf(0x353),''),this['instance'][_0x2664bf(0x645)]=(await this[_0x2664bf(0x8d9)](this[_0x2664bf(0x5f5)][_0x2664bf(0x6e3)]+_0x2664bf(0x353)))[_0x2664bf(0x645)],this[_0x2664bf(0x58e)][_0x2664bf(0x89f)]['create']({'online':!0x0,'owner':this[_0x2664bf(0x5f5)]['wuid'],'lastDisconnect':null},this['instance'][_0x2664bf(0x725)]);let _0x15f90e=_0x2664bf(0x504)+this[_0x2664bf(0x5f5)]['wuid'],_0x543d5e=0x28,_0x4da076=Math[_0x2664bf(0x261)]((_0x543d5e-_0x15f90e['length'])/0x2),_0x108a0d='\x20'[_0x2664bf(0x277)](_0x4da076),_0x180471='CONECTADO\x20À\x20UAZAPI',_0x1ffeba=_0x2664bf(0x363)+this['instance'][_0x2664bf(0x725)],_0x2a1947=(''+_0x108a0d+_0x15f90e+_0x108a0d)[_0x2664bf(0x1c4)](_0x543d5e,'\x20'),_0x4fbb0d=(''+_0x108a0d+_0x180471+_0x108a0d)[_0x2664bf(0x1c4)](_0x543d5e,'\x20'),_0x1f3650=(''+_0x108a0d+_0x1ffeba+_0x108a0d)[_0x2664bf(0x1c4)](_0x543d5e,'\x20'),_0x407280=Math['max'](_0x2a1947['length'],_0x4fbb0d[_0x2664bf(0x4f1)],_0x1f3650[_0x2664bf(0x4f1)]),_0xe3b772=_0x2a1947[_0x2664bf(0x1c4)](_0x407280,'\x20'),_0x412a63=_0x4fbb0d['padEnd'](_0x407280,'\x20'),_0x2d5da4=_0x1f3650[_0x2664bf(0x1c4)](_0x407280,'\x20');this[_0x2664bf(0x86b)][_0x2664bf(0x575)]((_0x2664bf(0x1dc)+'─'[_0x2664bf(0x277)](_0x407280)+_0x2664bf(0x548)+_0x412a63+_0x2664bf(0x45e)+_0x2d5da4+_0x2664bf(0x45e)+_0xe3b772+_0x2664bf(0x280)+'─'[_0x2664bf(0x277)](_0x407280)+'┘')[_0x2664bf(0x568)](/^ +/gm,'\x20\x20')),this[_0x2664bf(0x31f)](),this['instance'][_0x2664bf(0x660)][_0x2664bf(0x1a6)]=!0x0;}}[a0_0xad378c(0x7b3)](){const _0x48a689=a0_0xad378c;this[_0x48a689(0x70d)]=0x0,this[_0x48a689(0x803)]=[];}async[a0_0xad378c(0x374)](_0x5cee68,_0x43cbbe=!0x1){const _0x1e4e6c=a0_0xad378c;try{let _0x348f4c=await this['repository'][_0x1e4e6c(0x5fa)][_0x1e4e6c(0x84a)]({'where':{'_id':_0x5cee68['id']}},this[_0x1e4e6c(0x5f5)][_0x1e4e6c(0x6e3)]);return _0x43cbbe?_0x348f4c[0x0]:_0x348f4c[0x0][_0x1e4e6c(0x5fa)];}catch{return{'conversation':''};}}[a0_0xad378c(0x3a1)](){const _0x216f85=a0_0xad378c;let _0x467eea=this[_0x216f85(0x2ed)][_0x216f85(0x1ff)](_0x216f85(0x499)),_0x103c81=this[_0x216f85(0x2ed)][_0x216f85(0x1ff)](_0x216f85(0x5af));_0x467eea?.[_0x216f85(0x487)]&&!_0x103c81[_0x216f85(0x785)]&&setInterval(()=>{const _0x31db5c=_0x216f85;try{for(let [_0x596be3,_0x5e8b86]of Object[_0x31db5c(0x794)](_0x467eea))_0x5e8b86===!0x0&&(0x0,Fe[_0x31db5c(0x2dd)])(_0x31db5c(0x813)+(0x0,j['join'])(this[_0x31db5c(0x1f0)],_0x596be3[_0x31db5c(0x16c)](),this[_0x31db5c(0x5f5)][_0x31db5c(0x6e3)])+_0x31db5c(0x3f4));}catch{}},(_0x467eea?.[_0x216f85(0x487)]??0xe10)*0x3e8);}async[a0_0xad378c(0x373)](){const _0x457e96=a0_0xad378c;let _0x5b84f4=this[_0x457e96(0x2ed)][_0x457e96(0x1ff)](_0x457e96(0x5af)),_0x58a2d4=this[_0x457e96(0x2ed)]['get']('REDIS');return _0x58a2d4?.[_0x457e96(0x785)]?await Is(_0x58a2d4,this[_0x457e96(0x5f5)]['name']):_0x5b84f4[_0x457e96(0x785)]?await As(this[_0x457e96(0x5f5)]['name']):await(0x0,w[_0x457e96(0x4bf)])((0x0,j['join'])(Se,this[_0x457e96(0x5f5)][_0x457e96(0x725)]));}async[a0_0xad378c(0x31f)](){const _0x12844f=a0_0xad378c;let _0x7793fb=()=>Math['floor'](Math[_0x12844f(0x49c)]()*0x4e21)+0x7d0,_0x3c62d0=async()=>{const _0x190e18=_0x12844f;if(!this[_0x190e18(0x5f5)][_0x190e18(0x660)][_0x190e18(0x1a6)]){this[_0x190e18(0x86b)][_0x190e18(0x8cc)](this[_0x190e18(0x62b)]+'\x20('+this[_0x190e18(0x5f5)]['wuid']+_0x190e18(0x4fa)),this[_0x190e18(0x648)]=!0x1;return;}if(this[_0x190e18(0x5f5)][_0x190e18(0x6e3)]&&this['AutomateSystem']&&this[_0x190e18(0x5f5)][_0x190e18(0x660)][_0x190e18(0x292)]!==null&&this[_0x190e18(0x5f5)][_0x190e18(0x660)][_0x190e18(0x292)]!==void 0x0){let _0x5d1041=Math['round'](this[_0x190e18(0x5f5)][_0x190e18(0x660)][_0x190e18(0x292)]/0xea60);this[_0x190e18(0x86b)][_0x190e18(0x8cc)](this[_0x190e18(0x62b)]+'\x20('+this[_0x190e18(0x5f5)][_0x190e18(0x6e3)]+_0x190e18(0x59d)+_0x5d1041+_0x190e18(0x770)),this['isRunning']=!0x1;return;}else this[_0x190e18(0x5f5)]['wuid']&&(this[_0x190e18(0x86b)][_0x190e18(0x8cc)](this[_0x190e18(0x62b)]+'\x20('+this['instance'][_0x190e18(0x6e3)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this['AutomateSystem']||(await this[_0x190e18(0x72f)](),this[_0x190e18(0x3e8)](),this['synchronizeAndMapFlows']()),(this['instance'][_0x190e18(0x660)][_0x190e18(0x292)]===null||this[_0x190e18(0x5f5)][_0x190e18(0x660)][_0x190e18(0x292)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x190e18(0x648)]){let _0x83e1eb=_0x7793fb();this[_0x190e18(0x86b)][_0x190e18(0x8cc)](this[_0x190e18(0x62b)]+_0x190e18(0x881)+_0x83e1eb/0x3e8+'\x20segundos'),setTimeout(_0x3c62d0,_0x83e1eb);}};if(this[_0x12844f(0x648)])return;this[_0x12844f(0x648)]=!0x0;let _0x155db7=_0x7793fb();setTimeout(_0x3c62d0,_0x155db7);}async[a0_0xad378c(0x4ca)](){const _0x4ab60b=a0_0xad378c;let _0x5d9c40=this[_0x4ab60b(0x5f5)]['wuid'];try{let _0x334061=await this[_0x4ab60b(0x58e)][_0x4ab60b(0x77f)]['findAll']({'where':{'$or':[{'owner':_0x5d9c40},{'whoCanUse':{'$in':[_0x5d9c40]}},{'shareOwners':{'$in':[_0x5d9c40]}}]}}),_0x2cfda3=new Map(this[_0x4ab60b(0x611)][_0x4ab60b(0x20c)][_0x4ab60b(0x4a4)](_0x585dea=>[_0x585dea[_0x4ab60b(0x81f)],_0x585dea])),_0x20acfb=_0x334061[_0x4ab60b(0x4a4)](_0x3548fa=>{const _0x7ae164=_0x4ab60b;let _0x3cb14d=_0x2cfda3['get'](_0x3548fa[_0x7ae164(0x81f)]?.[_0x7ae164(0x3d2)]());return{'_id':_0x3548fa[_0x7ae164(0x81f)]?.[_0x7ae164(0x3d2)](),'name':_0x3cb14d?.[_0x7ae164(0x725)]??_0x3548fa[_0x7ae164(0x725)],'default':_0x3cb14d?.[_0x7ae164(0x7c4)]??_0x3548fa[_0x7ae164(0x7c4)]??!0x1,'startCommand':_0x3cb14d?.[_0x7ae164(0x6da)]??_0x3548fa['startCommandWord'],'minutesToClose':_0x3cb14d?.[_0x7ae164(0x8bd)]??_0x3548fa['minutesToClose']??0xa,'readMessages':_0x3cb14d?.[_0x7ae164(0x5ea)]??_0x3548fa[_0x7ae164(0x5ea)]??!0x1,'testingWith':_0x3cb14d?.[_0x7ae164(0x339)]??_0x3548fa['testingWith'],'canEdit':_0x3548fa['owner']===_0x5d9c40||(_0x3548fa['whoCanEdit']??[])['includes'](_0x5d9c40),'usersCount':(_0x3548fa[_0x7ae164(0x454)]??[])[_0x7ae164(0x4f1)]??0x0};}),_0x110025=!0x1;_0x20acfb['forEach'](_0x292d2a=>{const _0x38d9b4=_0x4ab60b;_0x292d2a[_0x38d9b4(0x7c4)]&&(_0x110025?_0x292d2a[_0x38d9b4(0x7c4)]=!0x1:_0x110025=!0x0);}),this[_0x4ab60b(0x611)]['flows']=_0x20acfb;let _0x5e9b18={'flows':_0x20acfb};return await this['repository'][_0x4ab60b(0x6d5)]['update'](_0x5e9b18,_0x5d9c40),this[_0x4ab60b(0x86b)][_0x4ab60b(0x8cc)](this['instanceName']+'\x20('+_0x5d9c40+_0x4ab60b(0x7f2)),_0x20acfb[_0x4ab60b(0x4f1)];}catch(_0x1a4ea4){return this['logger'][_0x4ab60b(0x5fe)](this[_0x4ab60b(0x62b)]+'\x20('+_0x5d9c40+'):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20'+(_0x1a4ea4 instanceof Error?_0x1a4ea4[_0x4ab60b(0x5fa)]:JSON['stringify'](_0x1a4ea4,null,0x2))),{'message':_0x4ab60b(0x7c0)+(_0x1a4ea4 instanceof Error?_0x1a4ea4[_0x4ab60b(0x5fa)]:JSON['stringify'](_0x1a4ea4,null,0x2))};}}async['connectToWhatsapp'](_0x272132){const _0x597c18=a0_0xad378c;try{let _0x16f926=await this[_0x597c18(0x58e)][_0x597c18(0x5f5)][_0x597c18(0x5cc)]({'where':{'_id':B+'-'+this[_0x597c18(0x62b)]}}),_0x22e975,_0x1f2b93=!se[_0x597c18(0x686)]||!se[_0x597c18(0x6d6)];console[_0x597c18(0x78c)](_0x597c18(0x60c)),console[_0x597c18(0x78c)](_0x597c18(0x827),Ni),console[_0x597c18(0x78c)](_0x597c18(0x4d4),this[_0x597c18(0x70d)]),console[_0x597c18(0x78c)](_0x597c18(0x60c)),Ni&&!_0x1f2b93&&(this['reconnectAttempts']<0x4||!this[_0x597c18(0x70d)]?_0x16f926&&_0x16f926['ip']?(_0x22e975=_0x16f926['ip'],console[_0x597c18(0x78c)](_0x597c18(0x70e)+_0x22e975)):(_0x22e975=await se[_0x597c18(0x79e)](B,this[_0x597c18(0x5f5)][_0x597c18(0x725)]),_0x22e975?(console[_0x597c18(0x78c)](_0x597c18(0x1e3)+_0x22e975),await(0x0,w['delay'])(0x7d0)):console['error'](_0x597c18(0x48d))):this[_0x597c18(0x70d)]<0x6&&(await se[_0x597c18(0x6c0)](B,this[_0x597c18(0x5f5)][_0x597c18(0x725)]),console[_0x597c18(0x78c)]('IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.'),_0x22e975=await se['createIPv6'](B,this[_0x597c18(0x5f5)]['name']),_0x22e975?(console[_0x597c18(0x78c)]('Novo\x20IP\x20criado:\x20'+_0x22e975),await(0x0,w['delay'])(0x7d0)):console['error']('Falha\x20ao\x20recriar\x20IPv6.'))),this[_0x597c18(0x663)](),this[_0x597c18(0x5f5)][_0x597c18(0x2cc)]=(await this['repository'][_0x597c18(0x89f)][_0x597c18(0x84a)](this[_0x597c18(0x5f5)]['name']))[_0x597c18(0x2cc)],this['instance'][_0x597c18(0x78f)]=await this[_0x597c18(0x373)]();let {version:_0x4dc0c6}=await(0x0,w[_0x597c18(0x29f)])(),_0x53b1db=[Ti,Ps,(0x0,Os['release'])()],_0x1192a0={'localAddress':_0x22e975,'auth':{'creds':this[_0x597c18(0x5f5)][_0x597c18(0x78f)][_0x597c18(0x480)][_0x597c18(0x2ee)],'keys':(0x0,w[_0x597c18(0x559)])(this[_0x597c18(0x5f5)][_0x597c18(0x78f)][_0x597c18(0x480)][_0x597c18(0x178)],(0x0,Ft['default'])({'level':_0x597c18(0x5fe)}))},'logger':(0x0,Ft['default'])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x272132?[_0x597c18(0x554),Ps,(0x0,Os[_0x597c18(0x200)])()]:_0x53b1db,'version':_0x4dc0c6,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x976181=>{const _0x840c8=_0x597c18;let _0x5a123a=this['localWebhook']?.[_0x840c8(0x2d7)]&&(0x0,w[_0x840c8(0x47e)])(_0x976181);return(0x0,w['isJidBroadcast'])(_0x976181)||_0x5a123a;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x18ed72=>await this[_0x597c18(0x374)](_0x18ed72),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x597c18(0x5cf)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x390d4a){const _0x1674be=_0x597c18;return _0x390d4a[_0x1674be(0x8e6)]?.['message']?.[_0x1674be(0x532)]?.[_0x1674be(0x2c2)]===w['proto'][_0x1674be(0x202)][_0x1674be(0x2bd)][_0x1674be(0x7de)][_0x1674be(0x59e)]&&(_0x390d4a=JSON['parse'](JSON['stringify'](_0x390d4a)),_0x390d4a[_0x1674be(0x8e6)]['message'][_0x1674be(0x532)][_0x1674be(0x2c2)]=w[_0x1674be(0x752)][_0x1674be(0x202)]['ListMessage'][_0x1674be(0x7de)][_0x1674be(0x254)]),_0x390d4a[_0x1674be(0x532)]?.[_0x1674be(0x2c2)]==w['proto']['Message'][_0x1674be(0x2bd)][_0x1674be(0x7de)]['PRODUCT_LIST']&&(_0x390d4a=JSON[_0x1674be(0x549)](JSON[_0x1674be(0x62f)](_0x390d4a)),_0x390d4a[_0x1674be(0x532)][_0x1674be(0x2c2)]=w[_0x1674be(0x752)]['Message'][_0x1674be(0x2bd)][_0x1674be(0x7de)][_0x1674be(0x254)]),_0x390d4a;}};return this[_0x597c18(0x1a7)]=!0x1,this[_0x597c18(0x37e)]=(0x0,w[_0x597c18(0x7c4)])(_0x1192a0),this[_0x597c18(0x32b)](),this[_0x597c18(0x83a)]=_0x272132,this['client'];}catch(_0x4a8ca0){let _0x560af1=_0x597c18(0x66e),_0x2acf7a=_0x4a8ca0 instanceof Error?_0x4a8ca0[_0x597c18(0x5fa)]:typeof _0x4a8ca0==_0x597c18(0x429)?JSON[_0x597c18(0x62f)](_0x4a8ca0):_0x4a8ca0,_0x405b62=_0x560af1+':\x20'+_0x2acf7a;throw this[_0x597c18(0x86b)][_0x597c18(0x5fe)](this[_0x597c18(0x62b)]+'\x20('+this[_0x597c18(0x5f5)][_0x597c18(0x6e3)]+_0x597c18(0x431)+_0x405b62),console[_0x597c18(0x5fe)]('Detalhes\x20do\x20erro:',_0x4a8ca0),_0x4a8ca0 instanceof Error&&console[_0x597c18(0x5fe)](_0x597c18(0x3d3),_0x4a8ca0[_0x597c18(0x5e8)]),new x(_0x405b62);}}['eventHandler'](){const _0x2f618c=a0_0xad378c;this[_0x2f618c(0x37e)]['ev'][_0x2f618c(0x65f)](_0x226b7d=>{const _0x508481=_0x2f618c;if(!this[_0x508481(0x1a7)]){let _0x89a54f=this[_0x508481(0x2ed)][_0x508481(0x1ff)]('DATABASE');if(_0x226b7d[_0x508481(0x4d8)]){let _0x4c0c08=_0x226b7d[_0x508481(0x4d8)];this[_0x508481(0x325)][_0x508481(0x4d8)](_0x4c0c08);}if(_0x226b7d[_0x508481(0x639)]){let _0x4d0d54=_0x226b7d[_0x508481(0x639)];this[_0x508481(0x325)][_0x508481(0x639)](_0x4d0d54);}if(_0x226b7d[_0x508481(0x25a)]&&this['connectionUpdate'](_0x226b7d[_0x508481(0x25a)]),_0x226b7d[_0x508481(0x1a2)]&&this[_0x508481(0x5f5)][_0x508481(0x78f)][_0x508481(0x1ed)](),_0x226b7d['messaging-history.set']){let _0x35b67f=_0x226b7d[_0x508481(0x7f1)];this[_0x508481(0x325)][_0x508481(0x7f1)](_0x35b67f,_0x89a54f);}if(_0x226b7d[_0x508481(0x362)]){let _0x58c696=_0x226b7d['messages.upsert'];this[_0x508481(0x325)][_0x508481(0x362)](_0x58c696,_0x89a54f);}if(_0x226b7d[_0x508481(0x204)]){let _0x269dbc=_0x226b7d[_0x508481(0x204)];this[_0x508481(0x325)][_0x508481(0x204)](_0x269dbc,_0x89a54f);}if(_0x226b7d[_0x508481(0x85f)]){let _0x5dc578=_0x226b7d[_0x508481(0x85f)];if(this['localWebhook']?.['groups_ignore']&&_0x5dc578['id'][_0x508481(0x77b)](_0x508481(0x577)))return;this[_0x508481(0x2b8)](_0x508481(0x85f),_0x5dc578);}if(_0x226b7d[_0x508481(0x1c2)]){let _0xdd5dce=_0x226b7d[_0x508481(0x1c2)];this[_0x508481(0x2f9)]['groups.upsert'](_0xdd5dce);}if(_0x226b7d[_0x508481(0x73c)]){let _0x7c7a40=_0x226b7d[_0x508481(0x73c)];this['groupHandler'][_0x508481(0x73c)](_0x7c7a40);}if(_0x226b7d[_0x508481(0x2c7)]){let _0x254f62=_0x226b7d[_0x508481(0x2c7)];this['groupHandler'][_0x508481(0x2c7)](_0x254f62);}if(_0x226b7d[_0x508481(0x349)]){let _0x1ae78e=_0x226b7d[_0x508481(0x349)];this['chatHandle'][_0x508481(0x349)](_0x1ae78e,_0x89a54f);}if(_0x226b7d[_0x508481(0x32d)]){let _0x41891a=_0x226b7d['chats.update'];this[_0x508481(0x5e1)][_0x508481(0x32d)](_0x41891a,_0x89a54f);}if(_0x226b7d[_0x508481(0x76f)]){let _0x1b7463=_0x226b7d[_0x508481(0x76f)];this[_0x508481(0x5e1)][_0x508481(0x76f)](_0x1b7463);}if(_0x226b7d[_0x508481(0x6ca)]){let _0x41d575=_0x226b7d['contacts.upsert'];this['contactHandle'][_0x508481(0x6ca)](_0x41d575,_0x89a54f);}if(_0x226b7d[_0x508481(0x5b0)]){let _0x5f487c=_0x226b7d[_0x508481(0x5b0)];this[_0x508481(0x535)]['contacts.update'](_0x5f487c,_0x89a54f);}}});}async['retrySendMessage'](_0x3628f7,_0x5391bd){const _0x12e2b3=a0_0xad378c;if(_0x5391bd>=0xa){console[_0x12e2b3(0x5fe)](this[_0x12e2b3(0x62b)]+'\x20('+this[_0x12e2b3(0x5f5)][_0x12e2b3(0x6e3)]+_0x12e2b3(0x4d3)),delete Lt[_0x3628f7[_0x12e2b3(0x4ff)]['id']];return;}try{console['error'](this[_0x12e2b3(0x62b)]+'\x20('+this['instance'][_0x12e2b3(0x6e3)]+'):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20'+(_0x5391bd+0x1)),await this[_0x12e2b3(0x37e)][_0x12e2b3(0x8a6)](JSON[_0x12e2b3(0x549)](_0x3628f7[_0x12e2b3(0x891)][0x1],w[_0x12e2b3(0x838)][_0x12e2b3(0x27c)])),console[_0x12e2b3(0x5fe)]('[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso');}catch(_0x266c56){console['error'](this[_0x12e2b3(0x62b)]+'\x20('+this[_0x12e2b3(0x5f5)][_0x12e2b3(0x6e3)]+_0x12e2b3(0x729)+_0x266c56),setTimeout(()=>this[_0x12e2b3(0x18d)](_0x3628f7,_0x5391bd+0x1),Math[_0x12e2b3(0x77d)](0x2,_0x5391bd)*0x3e8);}}['delayChatLabel'](_0x4e928a){return new Promise(_0x4a6f24=>setTimeout(_0x4a6f24,_0x4e928a));}[a0_0xad378c(0x4e9)](_0x46ec71){const _0x3fd925=a0_0xad378c;_0x46ec71=_0x46ec71[_0x3fd925(0x568)](/\D/g,'');let _0x43d15a=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x46ec71);if(_0x43d15a&&_0x43d15a[0x1]==='55'){let _0x2dbd58=_0x43d15a[0x2],_0x116b7b=_0x43d15a[0x3],_0x314544=_0x43d15a[0x4];if(parseInt(_0x2dbd58)>=0x1f&&_0x116b7b==='9')return _0x43d15a[0x1]+_0x2dbd58+_0x314544;}return _0x46ec71;}[a0_0xad378c(0x22b)](_0x53b6f1){const _0x2c048c=a0_0xad378c;return _0x53b6f1['includes'](_0x2c048c(0x577))||_0x53b6f1[_0x2c048c(0x77b)]('@s.whatsapp.net')||_0x53b6f1[_0x2c048c(0x77b)]('@broadcast')?_0x53b6f1:(_0x53b6f1=_0x53b6f1?.[_0x2c048c(0x568)](/\s/g,'')[_0x2c048c(0x568)](/\+/g,'')[_0x2c048c(0x568)](/\(/g,'')['replace'](/\)/g,'')[_0x2c048c(0x43a)](/\:/)[0x0][_0x2c048c(0x43a)]('@')[0x0],_0x53b6f1[_0x2c048c(0x4f1)]>=0x12?(_0x53b6f1=_0x53b6f1[_0x2c048c(0x568)](/[^\d-]/g,''),_0x53b6f1+_0x2c048c(0x577)):(_0x53b6f1=_0x53b6f1[_0x2c048c(0x568)](/\D/g,''),_0x53b6f1+_0x2c048c(0x353)));}async['updatePresence'](_0x21e896){const _0x4dfe9a=a0_0xad378c;let _0x342ac2=(await this[_0x4dfe9a(0x2af)]({'numbers':[_0x21e896[_0x4dfe9a(0x570)]]}))[0x0];if(!_0x342ac2[_0x4dfe9a(0x7ba)]&&!(0x0,w[_0x4dfe9a(0x47e)])(_0x342ac2[_0x4dfe9a(0x7c5)])&&!_0x342ac2[_0x4dfe9a(0x7c5)][_0x4dfe9a(0x77b)]('@broadcast'))throw new m(_0x342ac2);let _0x5d3d2e=_0x342ac2[_0x4dfe9a(0x7c5)];try{return await this[_0x4dfe9a(0x37e)][_0x4dfe9a(0x4c9)](_0x5d3d2e),await this[_0x4dfe9a(0x37e)][_0x4dfe9a(0x856)](_0x21e896[_0x4dfe9a(0x250)],_0x5d3d2e),{'status':0xc8,'presence':_0x21e896[_0x4dfe9a(0x250)]};}catch(_0xf5a1c7){let _0x2ceca1=_0x4dfe9a(0x88a),_0x434024=_0xf5a1c7 instanceof Error?_0xf5a1c7['message']:typeof _0xf5a1c7=='object'?JSON[_0x4dfe9a(0x62f)](_0xf5a1c7):_0xf5a1c7,_0x542e61=_0x2ceca1+':\x20'+_0x434024;throw this[_0x4dfe9a(0x86b)][_0x4dfe9a(0x5fe)](this[_0x4dfe9a(0x62b)]+'\x20('+this[_0x4dfe9a(0x5f5)][_0x4dfe9a(0x6e3)]+_0x4dfe9a(0x431)+_0x542e61),new m(_0x542e61);}}async['findAndUpdateCacheContact'](_0x17ad1a,_0x131930,_0x4facf7,_0x16a054=!0x0){const _0x3f1884=a0_0xad378c;let _0x144aad=await this[_0x3f1884(0x58e)]['cacheContact']['findOne']({'where':{'_id':_0x17ad1a}});if(!_0x144aad&&!_0x16a054)return;let _0x33fe28={'lastUpdate':Date[_0x3f1884(0x54c)]()};if(_0x4facf7||!_0x144aad?.[_0x3f1884(0x288)]||Date[_0x3f1884(0x54c)]()-_0x144aad[_0x3f1884(0x288)]>0x18*0x3c*0x3c*0x3e8)try{let _0x5e246f=(await this[_0x3f1884(0x8d9)](_0x17ad1a))[_0x3f1884(0x645)];_0x33fe28[_0x3f1884(0x82a)]=_0x5e246f;}catch(_0x238d53){let _0x4873e3=_0x3f1884(0x3bf),_0x187774=_0x238d53 instanceof Error?_0x238d53['message']:typeof _0x238d53=='object'?JSON[_0x3f1884(0x62f)](_0x238d53):_0x238d53,_0x3281e2=_0x4873e3+':\x20'+_0x187774;throw this['logger'][_0x3f1884(0x5fe)](this[_0x3f1884(0x62b)]+'\x20('+this[_0x3f1884(0x5f5)][_0x3f1884(0x6e3)]+_0x3f1884(0x431)+_0x3281e2),new m(_0x3281e2);}return _0x131930&&_0x144aad?.[_0x3f1884(0x725)]!==_0x131930&&(_0x33fe28['name']=_0x131930),Object[_0x3f1884(0x178)](_0x33fe28)['length']>0x1&&(_0x144aad?await this[_0x3f1884(0x58e)][_0x3f1884(0x709)][_0x3f1884(0x29d)]({'where':{'_id':_0x17ad1a}},_0x33fe28):await this[_0x3f1884(0x58e)]['cacheContact'][_0x3f1884(0x364)]([{'_id':_0x17ad1a,..._0x33fe28}]),_0x144aad={..._0x144aad,..._0x33fe28}),{'cachedContact':_0x144aad};}async['profilePicture'](_0x403604){const _0x44007b=a0_0xad378c;let _0x5319ab=this[_0x44007b(0x22b)](_0x403604);try{return{'wuid':_0x5319ab,'profilePictureUrl':await this['client'][_0x44007b(0x645)](_0x5319ab,_0x44007b(0x65c))};}catch{return{'wuid':_0x5319ab,'profilePictureUrl':null};}}async[a0_0xad378c(0x2c6)](_0x5a0615,_0x76cc89,_0x5cc755){const _0x2ac462=a0_0xad378c;let _0xac5bde;try{let _0x569002=(await this['whatsappNumber']({'numbers':[_0x5a0615]}))?.['shift']();if(!_0x569002[_0x2ac462(0x7ba)]&&!(0x0,w[_0x2ac462(0x47e)])(_0x569002[_0x2ac462(0x7c5)])&&!_0x569002[_0x2ac462(0x7c5)]['includes']('@broadcast'))throw new m(_0x569002);_0xac5bde=_0x569002[_0x2ac462(0x7c5)];}catch(_0x49970c){_0xac5bde=_0x5a0615,this[_0x2ac462(0x86b)][_0x2ac462(0x75e)](this[_0x2ac462(0x62b)]+'\x20('+this[_0x2ac462(0x5f5)]['wuid']+_0x2ac462(0x5a0)+_0x49970c['message']),this[_0x2ac462(0x86b)][_0x2ac462(0x75e)](this['instanceName']+'\x20('+this[_0x2ac462(0x5f5)][_0x2ac462(0x6e3)]+_0x2ac462(0x81b)+_0xac5bde);}try{if(_0xac5bde||(_0xac5bde=_0x5a0615,this['logger']['warn'](this[_0x2ac462(0x62b)]+'\x20('+this[_0x2ac462(0x5f5)][_0x2ac462(0x6e3)]+_0x2ac462(0x35c)+_0xac5bde)),_0x5cc755||(_0x5cc755={}),_0x5cc755?.[_0x2ac462(0x636)]){await this['client'][_0x2ac462(0x4c9)](_0xac5bde),await this[_0x2ac462(0x37e)][_0x2ac462(0x856)](_0x5cc755?.[_0x2ac462(0x250)]??'composing',_0xac5bde);let _0x38a3c0=Math[_0x2ac462(0x2d4)](_0x5cc755[_0x2ac462(0x636)],0x2710);await(0x0,w[_0x2ac462(0x636)])(_0x38a3c0),await this[_0x2ac462(0x37e)][_0x2ac462(0x856)](_0x2ac462(0x38d),_0xac5bde);}let _0x37c3fc=_0x5cc755?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x53a5b9;if(_0x5cc755?.[_0x2ac462(0x6e2)]){let _0x9bae0c=_0x5cc755?.['quoted'],_0x346bf5=_0x9bae0c?.[_0x2ac462(0x5fa)]?_0x9bae0c:await this[_0x2ac462(0x374)](_0x9bae0c[_0x2ac462(0x4ff)],!0x0);_0x346bf5&&(_0x53a5b9=_0x346bf5);}let _0x2215fd=await this['repository']['chat'][_0x2ac462(0x5cc)]({'where':{'_id':_0xac5bde}},this[_0x2ac462(0x5f5)][_0x2ac462(0x6e3)]),_0xd46641,_0xc11f3c=null;if((0x0,w[_0x2ac462(0x47e)])(_0xac5bde))try{if(_0xc11f3c=_0x2215fd['groupdata'],!_0xc11f3c)throw new F(_0x2ac462(0x880));if(!_0xc11f3c[_0x2ac462(0x3e6)])throw new m(_0x2ac462(0x7ec));_0x5cc755?.[_0x2ac462(0x530)]&&(_0x5cc755[_0x2ac462(0x530)]?.[_0x2ac462(0x839)]?_0xd46641=_0xc11f3c[_0x2ac462(0x816)][_0x2ac462(0x4a4)](_0xc4a74a=>_0xc4a74a['id']):_0x5cc755['mentions']?.[_0x2ac462(0x2a2)]?.[_0x2ac462(0x4f1)]&&(_0xd46641=_0x5cc755[_0x2ac462(0x530)][_0x2ac462(0x2a2)][_0x2ac462(0x4a4)](_0xa4d409=>{const _0x5b5151=_0x2ac462;let _0x1138c2=this[_0x5b5151(0x22b)](_0xa4d409);return(0x0,w['isJidGroup'])(_0x1138c2)?null:_0x1138c2;})));}catch(_0x168e8b){throw _0x168e8b instanceof F?new F('Grupo\x20não\x20encontrado'):_0x168e8b instanceof m?new m('Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo'):new Error(_0x2ac462(0x64b));}let _0x56f4ae=await((async()=>{const _0x1a5ae7=_0x2ac462;let _0x2edc98={'quoted':_0x53a5b9,'ephemeralExpiration':_0x2215fd?.[_0x1a5ae7(0x4b8)]??0x0};if(!_0x76cc89[_0x1a5ae7(0x72e)]&&!_0x76cc89[_0x1a5ae7(0x3a2)]&&!_0x76cc89[_0x1a5ae7(0x8cb)]&&!_0x76cc89['conversation']&&_0xac5bde!==_0x1a5ae7(0x4db)&&_0x76cc89[_0x1a5ae7(0x4bd)])return await this[_0x1a5ae7(0x37e)]['sendMessage'](_0xac5bde,{'react':{'text':_0x76cc89[_0x1a5ae7(0x4bd)][_0x1a5ae7(0x34c)],'key':_0x76cc89[_0x1a5ae7(0x4bd)]['key']}},_0x2edc98);if(_0x76cc89['conversation']){let _0x358d0d=_0x76cc89[_0x1a5ae7(0x655)];return _0x5cc755?.[_0x1a5ae7(0x506)]&&(_0x358d0d=await this['replaceVariablesChat'](_0x358d0d,_0xac5bde)),await this[_0x1a5ae7(0x37e)][_0x1a5ae7(0x778)](_0xac5bde,{'text':_0x358d0d,'mentions':_0xd46641,'linkPreview':_0x37c3fc},_0x2edc98);}return!_0x76cc89[_0x1a5ae7(0x72e)]&&!_0x76cc89['poll']&&_0xac5bde!=_0x1a5ae7(0x4db)?await this[_0x1a5ae7(0x37e)][_0x1a5ae7(0x778)](_0xac5bde,{'forward':{'key':{'remoteJid':this['instance'][_0x1a5ae7(0x6e3)],'fromMe':!0x0},'message':_0x76cc89},'mentions':_0xd46641},_0x2edc98):_0xac5bde===_0x1a5ae7(0x4db)?await this['client']['sendMessage'](_0xac5bde,_0x76cc89['status'][_0x1a5ae7(0x743)],{'backgroundColor':_0x76cc89[_0x1a5ae7(0x616)][_0x1a5ae7(0x6af)][_0x1a5ae7(0x50a)],'font':_0x76cc89[_0x1a5ae7(0x616)][_0x1a5ae7(0x6af)][_0x1a5ae7(0x75f)],'statusJidList':_0x76cc89['status'][_0x1a5ae7(0x6af)]['statusJidList']}):await this[_0x1a5ae7(0x37e)][_0x1a5ae7(0x778)](_0xac5bde,_0x76cc89,_0x2edc98);})()),_0x487bd3=(0x0,w['normalizeMessageContent'])(_0x56f4ae['message']),_0x1a56d5=(0x0,w[_0x2ac462(0x618)])(_0x487bd3),{message_normalized:_0x2caaf1}=this[_0x2ac462(0x664)](_0x487bd3,_0x1a56d5,null),_0x52b955={'_id':_0x56f4ae[_0x2ac462(0x4ff)]['id'],'key':_0x56f4ae[_0x2ac462(0x4ff)],'pushName':_0x56f4ae['pushName'],'isGroup':_0x56f4ae[_0x2ac462(0x4ff)][_0x2ac462(0x436)][_0x2ac462(0x343)](_0x2ac462(0x577)),'profilePictureUrl':this[_0x2ac462(0x5f5)][_0x2ac462(0x645)],'message':_0x487bd3,'messageType':_0x1a56d5,'message_normalized':{'key':_0x56f4ae[_0x2ac462(0x4ff)],'pushName':_0x56f4ae[_0x2ac462(0x640)],'messageTimestamp':_0x56f4ae[_0x2ac462(0x31d)]&&_0x56f4ae['messageTimestamp'][_0x2ac462(0x3d2)]()[_0x2ac462(0x4f1)]<0xd?_0x56f4ae[_0x2ac462(0x31d)]*0x3e8:_0x56f4ae['messageTimestamp']||null,'source':(0x0,w[_0x2ac462(0x334)])(_0x56f4ae[_0x2ac462(0x4ff)]['id']),..._0x2caaf1},'messageTimestamp':_0x56f4ae[_0x2ac462(0x31d)]&&_0x56f4ae[_0x2ac462(0x31d)]['toString']()[_0x2ac462(0x4f1)]<0xd?_0x56f4ae[_0x2ac462(0x31d)]*0x3e8:_0x56f4ae['messageTimestamp']||null,'owner':this[_0x2ac462(0x5f5)][_0x2ac462(0x6e3)],'source':(0x0,w[_0x2ac462(0x334)])(_0x56f4ae[_0x2ac462(0x4ff)]['id'])};return this[_0x2ac462(0x86b)][_0x2ac462(0x75e)](this[_0x2ac462(0x62b)]+'\x20('+this[_0x2ac462(0x5f5)]['wuid']+_0x2ac462(0x669)+_0x52b955[_0x2ac462(0x4ff)]?.[_0x2ac462(0x436)][_0x2ac462(0x568)](_0x2ac462(0x353),'')+_0x2ac462(0x340)+_0x52b955[_0x2ac462(0x319)]+')'),_0x52b955[_0x2ac462(0x282)]?.['text']&&this[_0x2ac462(0x86b)][_0x2ac462(0x75e)](_0x52b955[_0x2ac462(0x282)]?.['text']),this[_0x2ac462(0x2b8)](_0x2ac462(0x87a),_0x52b955),U(this[_0x2ac462(0x62b)],_0x2ac462(0x624),{'message':_0x52b955}),this[_0x2ac462(0x759)](this[_0x2ac462(0x2ed)][_0x2ac462(0x1ff)](_0x2ac462(0x5af)),_0x52b955,'SEND_MESSAGE',_0x2215fd),await this['repository']['message'][_0x2ac462(0x364)]([_0x52b955],this[_0x2ac462(0x5f5)][_0x2ac462(0x6e3)]),_0x56f4ae;}catch(_0x3fc672){let _0x57cfac=_0x2ac462(0x2b5)+_0xac5bde,_0x38e522=_0x3fc672 instanceof Error?_0x3fc672['message']:typeof _0x3fc672==_0x2ac462(0x429)?JSON['stringify'](_0x3fc672):_0x3fc672,_0x483c03=_0x57cfac+':\x20'+_0x38e522;throw this[_0x2ac462(0x86b)][_0x2ac462(0x5fe)](this[_0x2ac462(0x62b)]+'\x20('+this[_0x2ac462(0x5f5)][_0x2ac462(0x6e3)]+_0x2ac462(0x431)+_0x483c03),new m(_0x483c03);}}async[a0_0xad378c(0x1e9)](_0x523cff,_0x54a494,_0x157a55){const _0x3debc3=a0_0xad378c;let _0x24d9e8=this[_0x3debc3(0x22b)](_0x523cff),_0xcb073d=(await this[_0x3debc3(0x2af)]({'numbers':[_0x24d9e8]}))[0x0];if(!_0xcb073d[_0x3debc3(0x7ba)]&&!(0x0,w[_0x3debc3(0x47e)])(_0xcb073d[_0x3debc3(0x7c5)]))throw new m(_0xcb073d);let _0xb93bb1=(0x0,w['isJidGroup'])(_0x24d9e8)?_0x24d9e8:_0xcb073d[_0x3debc3(0x7c5)];if((0x0,w[_0x3debc3(0x47e)])(_0xb93bb1))try{await this[_0x3debc3(0x37e)][_0x3debc3(0x31c)](_0xb93bb1);}catch{throw new m(_0x3debc3(0x433));}try{_0x157a55?.[_0x3debc3(0x636)]&&(await this[_0x3debc3(0x37e)][_0x3debc3(0x4c9)](_0xb93bb1),await this[_0x3debc3(0x37e)][_0x3debc3(0x856)](_0x157a55?.[_0x3debc3(0x250)]??_0x3debc3(0x890),_0x24d9e8),await(0x0,w[_0x3debc3(0x636)])(_0x157a55['delay']),await this[_0x3debc3(0x37e)]['sendPresenceUpdate'](_0x3debc3(0x38d),_0xb93bb1));let _0x3cec5b=await((async()=>{const _0x25442d=_0x3debc3;let _0x11bfc4,_0x4b8da7='3EB0'+(0x0,re[_0x25442d(0x7b1)])(0x12)[_0x25442d(0x3d2)]('hex')[_0x25442d(0x422)](),_0xcbd9d0=(0x0,w[_0x25442d(0x6bf)])(_0xb93bb1,_0x54a494,{'timestamp':new Date(),'userJid':this['instance'][_0x25442d(0x6e3)],'messageId':_0x4b8da7,'quoted':_0x11bfc4}),_0x1f95ca=await this[_0x25442d(0x37e)][_0x25442d(0x760)](_0xb93bb1,_0xcbd9d0[_0x25442d(0x5fa)],{'messageId':_0x4b8da7});_0xcbd9d0[_0x25442d(0x4ff)]={'id':_0x1f95ca,'remoteJid':_0x24d9e8,'participant':(0x0,w[_0x25442d(0x802)])(_0x24d9e8)?void 0x0:_0x24d9e8,'fromMe':!0x0};for(let [_0x5826e7,_0x4fe795]of Object[_0x25442d(0x794)](_0xcbd9d0))(!_0x4fe795||Array[_0x25442d(0x5ab)](_0x4fe795)&&_0x4fe795[_0x25442d(0x4f1)]===0x0)&&delete _0xcbd9d0[_0x5826e7];return this[_0x25442d(0x37e)]['ev'][_0x25442d(0x31a)](_0x25442d(0x362),{'messages':[_0xcbd9d0],'type':'notify'}),_0xcbd9d0;})()),_0x5c6cb2=await this[_0x3debc3(0x58e)]['chat'][_0x3debc3(0x5cc)]({'where':{'_id':_0xb93bb1}},this[_0x3debc3(0x5f5)][_0x3debc3(0x6e3)]),_0x3c570e=(0x0,w['normalizeMessageContent'])(_0x3cec5b['message']),_0x5e2b52=(0x0,w[_0x3debc3(0x618)])(_0x3c570e),{message_normalized:_0x191888}=this[_0x3debc3(0x664)](_0x3c570e,_0x5e2b52,null),_0x1fac22={'_id':_0x3cec5b['key']['id'],'key':_0x3cec5b[_0x3debc3(0x4ff)],'pushName':_0x3cec5b['pushName'],'isGroup':_0x3cec5b[_0x3debc3(0x4ff)][_0x3debc3(0x436)]['endsWith']('@g.us'),'profilePictureUrl':this[_0x3debc3(0x5f5)][_0x3debc3(0x645)],'message':_0x3c570e,'messageType':_0x5e2b52,'message_normalized':{'key':_0x3cec5b[_0x3debc3(0x4ff)],'pushName':_0x3cec5b[_0x3debc3(0x640)],'messageTimestamp':_0x3cec5b[_0x3debc3(0x31d)]&&_0x3cec5b[_0x3debc3(0x31d)][_0x3debc3(0x3d2)]()[_0x3debc3(0x4f1)]<0xd?_0x3cec5b[_0x3debc3(0x31d)]*0x3e8:_0x3cec5b[_0x3debc3(0x31d)]||null,'source':(0x0,w[_0x3debc3(0x334)])(_0x3cec5b['key']['id']),..._0x191888},'messageTimestamp':_0x3cec5b[_0x3debc3(0x31d)]&&_0x3cec5b['messageTimestamp'][_0x3debc3(0x3d2)]()[_0x3debc3(0x4f1)]<0xd?_0x3cec5b['messageTimestamp']*0x3e8:_0x3cec5b[_0x3debc3(0x31d)]||null,'owner':this[_0x3debc3(0x5f5)][_0x3debc3(0x6e3)],'source':(0x0,w['getDevice'])(_0x3cec5b[_0x3debc3(0x4ff)]['id'])};return this[_0x3debc3(0x86b)][_0x3debc3(0x75e)](this['instanceName']+'\x20('+this[_0x3debc3(0x5f5)][_0x3debc3(0x6e3)]+_0x3debc3(0x669)+_0x1fac22[_0x3debc3(0x4ff)]?.[_0x3debc3(0x436)][_0x3debc3(0x568)](_0x3debc3(0x353),'')+_0x3debc3(0x340)+_0x1fac22['messageType']+')'),_0x1fac22[_0x3debc3(0x282)]?.['text']&&this['logger']['warn'](_0x1fac22[_0x3debc3(0x282)]?.[_0x3debc3(0x34c)]),this['sendDataWebhook']('send.message',_0x1fac22),U(this[_0x3debc3(0x62b)],_0x3debc3(0x624),{'message':_0x1fac22}),this['updateChatWithMessage'](this[_0x3debc3(0x2ed)][_0x3debc3(0x1ff)](_0x3debc3(0x5af)),_0x1fac22,_0x3debc3(0x708),_0x5c6cb2),await this['repository'][_0x3debc3(0x5fa)]['insert']([_0x1fac22],this[_0x3debc3(0x5f5)][_0x3debc3(0x6e3)]),_0x3cec5b;}catch(_0x236d9a){throw this[_0x3debc3(0x86b)][_0x3debc3(0x5fe)](_0x236d9a),new m(_0x236d9a[_0x3debc3(0x3d2)]());}}get['connectionStatus'](){return this['stateConnection'];}async[a0_0xad378c(0x35d)](_0xc98dfa){const _0x4ae1ab=a0_0xad378c;return await this['sendMessageWithTyping'](_0xc98dfa[_0x4ae1ab(0x570)],{'conversation':_0xc98dfa[_0x4ae1ab(0x35d)][_0x4ae1ab(0x34c)]},_0xc98dfa?.[_0x4ae1ab(0x1d9)]);}async[a0_0xad378c(0x28b)](_0x214a16){const _0x31734a=a0_0xad378c;if(!_0x214a16[_0x31734a(0x6a2)])throw new m('Type\x20is\x20required');if(!_0x214a16['content'])throw new m(_0x31734a(0x886));if(_0x214a16[_0x31734a(0x214)]){let _0x2fa20a=await this['repository'][_0x31734a(0x5a2)][_0x31734a(0x84a)]({'where':{}},this[_0x31734a(0x5f5)][_0x31734a(0x6e3)]);if(!_0x2fa20a[_0x31734a(0x4f1)])throw new m('Contacts\x20not\x20found');_0x214a16[_0x31734a(0x376)]=_0x2fa20a['filter'](_0x50fef5=>_0x50fef5[_0x31734a(0x640)])[_0x31734a(0x4a4)](_0x48476e=>_0x48476e['_id']);}if(!_0x214a16[_0x31734a(0x376)]?.[_0x31734a(0x4f1)]&&!_0x214a16[_0x31734a(0x214)])throw new m(_0x31734a(0x17a));if(_0x214a16[_0x31734a(0x6a2)]==='text'){if(!_0x214a16['backgroundColor'])throw new m('Background\x20color\x20is\x20required');if(!_0x214a16[_0x31734a(0x75f)])throw new m(_0x31734a(0x627));return{'content':{'text':_0x214a16[_0x31734a(0x743)]},'option':{'backgroundColor':_0x214a16[_0x31734a(0x50a)],'font':_0x214a16[_0x31734a(0x75f)],'statusJidList':_0x214a16[_0x31734a(0x376)]}};}if(_0x214a16[_0x31734a(0x6a2)]===_0x31734a(0x65c))return{'content':{'image':{'url':_0x214a16[_0x31734a(0x743)]},'caption':_0x214a16[_0x31734a(0x5f7)]},'option':{'statusJidList':_0x214a16[_0x31734a(0x376)]}};if(_0x214a16[_0x31734a(0x6a2)]==='video')return{'content':{'video':{'url':_0x214a16[_0x31734a(0x743)]},'caption':_0x214a16[_0x31734a(0x5f7)]},'option':{'statusJidList':_0x214a16[_0x31734a(0x376)]}};if(_0x214a16[_0x31734a(0x6a2)]===_0x31734a(0x72e)){this[_0x31734a(0x86b)][_0x31734a(0x8cc)](this[_0x31734a(0x62b)]+'\x20('+this[_0x31734a(0x5f5)][_0x31734a(0x6e3)]+_0x31734a(0x613)),this[_0x31734a(0x86b)][_0x31734a(0x8cc)](this[_0x31734a(0x62b)]+'\x20('+this[_0x31734a(0x5f5)][_0x31734a(0x6e3)]+_0x31734a(0x68a));let _0x17a3d2=await this[_0x31734a(0x52f)](_0x214a16[_0x31734a(0x743)]);if(typeof _0x17a3d2==_0x31734a(0x38a)){this['logger'][_0x31734a(0x8cc)](this[_0x31734a(0x62b)]+'\x20('+this['instance'][_0x31734a(0x6e3)]+_0x31734a(0x1c6));let _0x1bc8f4=k['readFileSync'](_0x17a3d2)[_0x31734a(0x3d2)](_0x31734a(0x450));return{'content':{'audio':Buffer[_0x31734a(0x18f)](_0x1bc8f4,_0x31734a(0x450)),'ptt':!0x0,'mimetype':_0x31734a(0x6c2)},'option':{'statusJidList':_0x214a16[_0x31734a(0x376)]}};}else throw new x(_0x17a3d2);}throw new m(_0x31734a(0x477));}async['statusMessage'](_0x5bd993){const _0x1d0b53=a0_0xad378c;return await this[_0x1d0b53(0x2c6)](_0x1d0b53(0x4db),{'status':await this[_0x1d0b53(0x28b)](_0x5bd993['statusMessage'])});}async[a0_0xad378c(0x6c3)](_0x46b6a0){const _0x3bc891=a0_0xad378c;try{let _0x4e207b=await(0x0,w[_0x3bc891(0x335)])({[_0x46b6a0[_0x3bc891(0x7fd)]]:(0x0,J[_0x3bc891(0x4e7)])(_0x46b6a0[_0x3bc891(0x80c)])?{'url':_0x46b6a0[_0x3bc891(0x80c)]}:Buffer[_0x3bc891(0x18f)](_0x46b6a0[_0x3bc891(0x80c)],'base64')},{'upload':this[_0x3bc891(0x37e)][_0x3bc891(0x5a1)]}),_0x3fd40b=_0x46b6a0[_0x3bc891(0x7fd)]+'Message';if(_0x46b6a0['mediatype']===_0x3bc891(0x876)&&!_0x46b6a0[_0x3bc891(0x432)]){let _0x4708cc=new RegExp(/.*\/(.+?)\./)['exec'](_0x46b6a0[_0x3bc891(0x80c)]);_0x46b6a0['fileName']=_0x4708cc?_0x4708cc[0x1]:null;}let _0x367fb3;return(0x0,J[_0x3bc891(0x4e7)])(_0x46b6a0[_0x3bc891(0x80c)])?_0x367fb3=(await Y[_0x3bc891(0x7c4)][_0x3bc891(0x1ff)](_0x46b6a0[_0x3bc891(0x80c)],{'responseType':_0x3bc891(0x7a1)}))[_0x3bc891(0x39c)][_0x3bc891(0x512)]:_0x367fb3=(0x0,Ii['getMIMEType'])(_0x46b6a0[_0x3bc891(0x432)]),_0x4e207b[_0x3fd40b][_0x3bc891(0x5f7)]=_0x46b6a0?.[_0x3bc891(0x5f7)],_0x4e207b[_0x3fd40b][_0x3bc891(0x66d)]=_0x367fb3,_0x4e207b[_0x3fd40b][_0x3bc891(0x432)]=_0x46b6a0[_0x3bc891(0x432)],_0x46b6a0[_0x3bc891(0x7fd)]===_0x3bc891(0x688)&&(_0x4e207b[_0x3fd40b][_0x3bc891(0x53b)]=Uint8Array['from']((0x0,Le[_0x3bc891(0x738)])((0x0,j[_0x3bc891(0x6b9)])(process['cwd'](),_0x3bc891(0x8d2)))),_0x4e207b[_0x3fd40b][_0x3bc891(0x592)]=!0x1),(0x0,w['generateWAMessageFromContent'])('',{[_0x3fd40b]:{..._0x4e207b[_0x3fd40b]}},{'userJid':this[_0x3bc891(0x5f5)]['wuid']});}catch(_0x128b3c){let _0x464d6e='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage',_0x3f027a=_0x128b3c instanceof Error?_0x128b3c[_0x3bc891(0x5fa)]:typeof _0x128b3c==_0x3bc891(0x429)?JSON[_0x3bc891(0x62f)](_0x128b3c):_0x128b3c,_0x15260f=_0x464d6e+':\x20'+_0x3f027a;throw this[_0x3bc891(0x86b)][_0x3bc891(0x5fe)](this[_0x3bc891(0x62b)]+'\x20('+this[_0x3bc891(0x5f5)][_0x3bc891(0x6e3)]+_0x3bc891(0x431)+_0x15260f),new x(_0x15260f);}}async[a0_0xad378c(0x7a0)](_0x23dc46){const _0x541fad=a0_0xad378c;let _0x4ea47a=await this['prepareMediaMessage'](_0x23dc46[_0x541fad(0x7a0)]);return await this[_0x541fad(0x2c6)](_0x23dc46[_0x541fad(0x570)],{..._0x4ea47a[_0x541fad(0x5fa)]},_0x23dc46?.[_0x541fad(0x1d9)]);}async[a0_0xad378c(0x2c5)](_0x3a7baf,_0x200c78){const _0x300c3c=a0_0xad378c;try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x300c3c(0x5f5)]['wuid']+_0x300c3c(0x4f4));let _0x246b27,_0x234edc=_0x200c78+'-'+new Date()[_0x300c3c(0x466)]();this[_0x300c3c(0x86b)][_0x300c3c(0x8cc)](this[_0x300c3c(0x62b)]+'\x20('+this[_0x300c3c(0x5f5)][_0x300c3c(0x6e3)]+_0x300c3c(0x42c)+_0x234edc);let _0x211ba=''+(0x0,j['join'])(this['storePath'],_0x234edc+_0x300c3c(0x7cb));if(this[_0x300c3c(0x86b)][_0x300c3c(0x8cc)](this[_0x300c3c(0x62b)]+'\x20('+this['instance']['wuid']+_0x300c3c(0x213)+_0x211ba),(0x0,J[_0x300c3c(0x5f0)])(_0x3a7baf)){this['logger'][_0x300c3c(0x8cc)](this[_0x300c3c(0x62b)]+'\x20('+this[_0x300c3c(0x5f5)][_0x300c3c(0x6e3)]+_0x300c3c(0x19e));let _0x4a5a13=_0x3a7baf[_0x300c3c(0x568)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x2d05bc=Buffer[_0x300c3c(0x18f)](_0x4a5a13,'base64');_0x246b27=''+(0x0,j[_0x300c3c(0x6b9)])(this[_0x300c3c(0x1f0)],_0x300c3c(0x317)+_0x234edc+'.png'),this[_0x300c3c(0x86b)][_0x300c3c(0x8cc)](this['instanceName']+'\x20('+this['instance']['wuid']+'):Image\x20path:\x20'+_0x246b27),await(0x0,Ut['default'])(_0x2d05bc)[_0x300c3c(0x4b3)](_0x246b27),this[_0x300c3c(0x86b)][_0x300c3c(0x8cc)](this[_0x300c3c(0x62b)]+'\x20('+this[_0x300c3c(0x5f5)][_0x300c3c(0x6e3)]+_0x300c3c(0x447));}else{this[_0x300c3c(0x86b)][_0x300c3c(0x8cc)](this[_0x300c3c(0x62b)]+'\x20('+this[_0x300c3c(0x5f5)][_0x300c3c(0x6e3)]+_0x300c3c(0x3b9));let _0x3f040a=new Date()[_0x300c3c(0x466)](),_0x48dd2a=_0x3a7baf+'?timestamp='+_0x3f040a;this[_0x300c3c(0x86b)][_0x300c3c(0x8cc)](this[_0x300c3c(0x62b)]+'\x20('+this['instance']['wuid']+_0x300c3c(0x1d8)+_0x48dd2a);let _0x151036=await Y[_0x300c3c(0x7c4)][_0x300c3c(0x1ff)](_0x48dd2a,{'responseType':'arraybuffer'});this['logger'][_0x300c3c(0x8cc)](this[_0x300c3c(0x62b)]+'\x20('+this[_0x300c3c(0x5f5)]['wuid']+_0x300c3c(0x874));let _0xd4aa72=Buffer[_0x300c3c(0x18f)](_0x151036['data'],'binary');_0x246b27=''+(0x0,j['join'])(this['storePath'],_0x300c3c(0x317)+_0x234edc+'.png'),this[_0x300c3c(0x86b)][_0x300c3c(0x8cc)](this[_0x300c3c(0x62b)]+'\x20('+this['instance']['wuid']+_0x300c3c(0x8df)+_0x246b27),await(0x0,Ut['default'])(_0xd4aa72)['toFile'](_0x246b27),this['logger'][_0x300c3c(0x8cc)](this['instanceName']+'\x20('+this['instance'][_0x300c3c(0x6e3)]+_0x300c3c(0x447));}return await(0x0,Ut[_0x300c3c(0x7c4)])(_0x246b27)[_0x300c3c(0x225)]()['toFile'](_0x211ba),this[_0x300c3c(0x86b)][_0x300c3c(0x8cc)](this[_0x300c3c(0x62b)]+'\x20('+this[_0x300c3c(0x5f5)]['wuid']+'):Image\x20converted\x20to\x20WebP'),k['unlinkSync'](_0x246b27),this[_0x300c3c(0x86b)][_0x300c3c(0x8cc)](this['instanceName']+'\x20('+this[_0x300c3c(0x5f5)][_0x300c3c(0x6e3)]+'):Temp\x20image\x20deleted'),_0x211ba;}catch(_0x3b0a53){let _0x3969d6=_0x300c3c(0x8ad),_0x52ea22=_0x3b0a53 instanceof Error?_0x3b0a53[_0x300c3c(0x5fa)]:typeof _0x3b0a53==_0x300c3c(0x429)?JSON[_0x300c3c(0x62f)](_0x3b0a53):_0x3b0a53,_0x1a7139=_0x3969d6+':\x20'+_0x52ea22;this['logger'][_0x300c3c(0x5fe)](this[_0x300c3c(0x62b)]+'\x20('+this[_0x300c3c(0x5f5)][_0x300c3c(0x6e3)]+_0x300c3c(0x431)+_0x1a7139);}}async['mediaSticker'](_0x28fbea){const _0x27ae70=a0_0xad378c;let _0x157f84=await this[_0x27ae70(0x2c5)](_0x28fbea[_0x27ae70(0x661)][_0x27ae70(0x65c)],_0x28fbea[_0x27ae70(0x570)]),_0x2f9e2b=await this[_0x27ae70(0x2c6)](_0x28fbea[_0x27ae70(0x570)],{'sticker':{'url':_0x157f84}},_0x28fbea?.[_0x27ae70(0x1d9)]);return k[_0x27ae70(0x268)](_0x157f84),this[_0x27ae70(0x86b)][_0x27ae70(0x8cc)](this[_0x27ae70(0x62b)]+'\x20('+this[_0x27ae70(0x5f5)][_0x27ae70(0x6e3)]+_0x27ae70(0x792)),_0x2f9e2b;}async[a0_0xad378c(0x5ed)](_0x432c2d){const _0x48f27c=a0_0xad378c;if(this[_0x48f27c(0x86b)]['verbose'](this['instanceName']+'\x20('+this[_0x48f27c(0x5f5)][_0x48f27c(0x6e3)]+_0x48f27c(0x6f5)),!_0x432c2d['options']?.[_0x48f27c(0x3ed)]&&_0x432c2d[_0x48f27c(0x1d9)]?.[_0x48f27c(0x3ed)]!==!0x1&&(_0x432c2d[_0x48f27c(0x1d9)]['encoding']=!0x0),_0x432c2d[_0x48f27c(0x1d9)]?.['encoding']){let _0x2aff8e=await this[_0x48f27c(0x52f)](_0x432c2d[_0x48f27c(0x49d)][_0x48f27c(0x72e)]);if(typeof _0x2aff8e==_0x48f27c(0x38a)){let _0x495bda=k['readFileSync'](_0x2aff8e)[_0x48f27c(0x3d2)](_0x48f27c(0x450));return this[_0x48f27c(0x2c6)](_0x432c2d[_0x48f27c(0x570)],{'audio':Buffer[_0x48f27c(0x18f)](_0x495bda,_0x48f27c(0x450)),'ptt':!0x0,'mimetype':_0x48f27c(0x4bb)},{'presence':'recording','delay':_0x432c2d?.[_0x48f27c(0x1d9)]?.[_0x48f27c(0x636)]});}else throw new x(_0x2aff8e);}return await this[_0x48f27c(0x2c6)](_0x432c2d[_0x48f27c(0x570)],{'audio':(0x0,J['isURL'])(_0x432c2d[_0x48f27c(0x49d)][_0x48f27c(0x72e)])?{'url':_0x432c2d[_0x48f27c(0x49d)]['audio']}:Buffer[_0x48f27c(0x18f)](_0x432c2d['audioMessage'][_0x48f27c(0x72e)],'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x48f27c(0x4b0),'delay':_0x432c2d?.[_0x48f27c(0x1d9)]?.['delay']});}async[a0_0xad378c(0x52f)](_0x5a0df9){const _0x36d0b6=a0_0xad378c;this[_0x36d0b6(0x86b)][_0x36d0b6(0x8cc)](this[_0x36d0b6(0x62b)]+'\x20('+this['instance'][_0x36d0b6(0x6e3)]+_0x36d0b6(0x68a));let _0x1daf6a=(0x0,J[_0x36d0b6(0x4e7)])(_0x5a0df9)?(0x0,re[_0x36d0b6(0x275)])(_0x36d0b6(0x5e2))['update'](_0x5a0df9)['digest'](_0x36d0b6(0x1ee)):(0x0,re[_0x36d0b6(0x275)])(_0x36d0b6(0x5e2))[_0x36d0b6(0x29d)](_0x5a0df9)['digest']('hex'),_0x39330a=''+(0x0,j['join'])(this['storePath'],_0x1daf6a+_0x36d0b6(0x27b));if(k[_0x36d0b6(0x88e)](_0x39330a))return this[_0x36d0b6(0x86b)][_0x36d0b6(0x8cc)](this['instanceName']+'\x20('+this[_0x36d0b6(0x5f5)][_0x36d0b6(0x6e3)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x39330a;let _0x132517=''+(0x0,j[_0x36d0b6(0x6b9)])(this[_0x36d0b6(0x1f0)],_0x36d0b6(0x317)+(0x0,z['v4'])()+_0x36d0b6(0x1f7));if((0x0,J[_0x36d0b6(0x4e7)])(_0x5a0df9)){let _0x43f721=new Date()['getTime'](),_0xb5e585=_0x5a0df9+_0x36d0b6(0x1b8)+_0x43f721,_0x206245=await Y['default']['get'](_0xb5e585,{'responseType':_0x36d0b6(0x7a1)});k['writeFileSync'](_0x132517,_0x206245['data']);}else{let _0x476c81=Buffer[_0x36d0b6(0x18f)](_0x5a0df9,_0x36d0b6(0x450));k[_0x36d0b6(0x659)](_0x132517,_0x476c81);}return new Promise((_0x5a48cc,_0x2489f1)=>{const _0x5afe53=_0x36d0b6;(0x0,Fe[_0x5afe53(0x3cf)])(_s['default'][_0x5afe53(0x50f)]+_0x5afe53(0x553)+_0x132517+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x39330a+_0x5afe53(0x6a6),_0x3d7a83=>{const _0x3df63a=_0x5afe53;if(k['unlinkSync'](_0x132517),_0x3d7a83){this['logger'][_0x3df63a(0x8cc)](this[_0x3df63a(0x62b)]+'\x20('+this[_0x3df63a(0x5f5)]['wuid']+'):Error\x20in\x20converting\x20audio'),_0x2489f1(_0x3d7a83);return;}this['logger'][_0x3df63a(0x8cc)](this['instanceName']+'\x20('+this['instance'][_0x3df63a(0x6e3)]+_0x3df63a(0x2a0)),_0x5a48cc(_0x39330a);});});}async[a0_0xad378c(0x1fd)](_0x146807){const _0x254d0a=a0_0xad378c;this[_0x254d0a(0x86b)][_0x254d0a(0x8cc)](this[_0x254d0a(0x62b)]+'\x20('+this[_0x254d0a(0x5f5)][_0x254d0a(0x6e3)]+_0x254d0a(0x68a));let _0x5af302=(0x0,re[_0x254d0a(0x275)])('sha256')['update'](_0x146807)[_0x254d0a(0x2b3)](_0x254d0a(0x1ee)),_0x46e02a=''+(0x0,j['join'])(this['storePath'],_0x5af302+'.mp3');if(k['existsSync'](_0x46e02a))return this[_0x254d0a(0x86b)][_0x254d0a(0x8cc)](this[_0x254d0a(0x62b)]+'\x20('+this[_0x254d0a(0x5f5)][_0x254d0a(0x6e3)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),j['default'][_0x254d0a(0x5e5)](_0x46e02a);let _0x1d2a71=''+(0x0,j[_0x254d0a(0x6b9)])(this[_0x254d0a(0x1f0)],_0x254d0a(0x317)+_0x5af302+'.ogg');if((0x0,J['isURL'])(_0x146807)){let _0x48133b=new Date()[_0x254d0a(0x466)](),_0x2cfdde=_0x146807+_0x254d0a(0x1b8)+_0x48133b,_0x2f4feb=await Y['default'][_0x254d0a(0x1ff)](_0x2cfdde,{'responseType':'arraybuffer'});k[_0x254d0a(0x659)](_0x1d2a71,_0x2f4feb[_0x254d0a(0x232)]);}else{let _0x5988c1=Buffer['from'](_0x146807,_0x254d0a(0x450));k[_0x254d0a(0x659)](_0x1d2a71,_0x5988c1);}return new Promise((_0x4edcaa,_0x2fed39)=>{const _0x3355e8=_0x254d0a;(0x0,Fe[_0x3355e8(0x3cf)])(_s['default'][_0x3355e8(0x50f)]+_0x3355e8(0x553)+_0x1d2a71+_0x3355e8(0x266)+_0x46e02a+_0x3355e8(0x6a6),_0x28ab39=>{const _0x147cb6=_0x3355e8;if(k[_0x147cb6(0x268)](_0x1d2a71),_0x28ab39){this[_0x147cb6(0x86b)][_0x147cb6(0x8cc)](this['instanceName']+'\x20('+this[_0x147cb6(0x5f5)][_0x147cb6(0x6e3)]+_0x147cb6(0x5ee)),_0x2fed39(_0x28ab39);return;}this[_0x147cb6(0x86b)][_0x147cb6(0x8cc)](this[_0x147cb6(0x62b)]+'\x20('+this[_0x147cb6(0x5f5)][_0x147cb6(0x6e3)]+_0x147cb6(0x2a0)),_0x4edcaa(j[_0x147cb6(0x7c4)][_0x147cb6(0x5e5)](_0x46e02a));});});}async[a0_0xad378c(0x4a5)](_0x175455){const _0x69b5c9=a0_0xad378c;console['log'](_0x69b5c9(0x2ef),_0x175455);let _0x454b61;try{_0x175455['buttonMessage']?.[_0x69b5c9(0x6bc)]&&(_0x454b61=await this['prepareMediaMessage']({'mediatype':_0x69b5c9(0x65c),'media':_0x175455[_0x69b5c9(0x4a5)][_0x69b5c9(0x6bc)]}));}catch(_0x51b8b4){throw console[_0x69b5c9(0x5fe)](_0x69b5c9(0x23f),_0x51b8b4),new Error('Failed\x20to\x20prepare\x20media\x20message');}try{let _0x367ac4={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x69b5c9(0x7da)},'footer':{'text':_0x69b5c9(0x57a)},'header':((()=>{const _0x56d143=_0x69b5c9;if(_0x454b61?.[_0x56d143(0x5fa)]?.[_0x56d143(0x1a3)])return{'hasMediaAttachment':!!_0x454b61[_0x56d143(0x5fa)]['imageMessage'],'imageMessage':_0x454b61[_0x56d143(0x5fa)]['imageMessage']};})()),'nativeFlowMessage':{'buttons':[{'name':'quick_reply','buttonParamsJson':JSON[_0x69b5c9(0x62f)]({'display_text':_0x69b5c9(0x1de),'id':'1'})},{'name':_0x69b5c9(0x5ca),'buttonParamsJson':JSON[_0x69b5c9(0x62f)]({'display_text':'Botão\x202','id':'2'})}],'messageParamsJson':JSON[_0x69b5c9(0x62f)]({'from':_0x69b5c9(0x189),'templateId':_0x69b5c9(0x55e)+(0x0,re[_0x69b5c9(0x7b1)])(0x12)[_0x69b5c9(0x3d2)]('hex')[_0x69b5c9(0x422)]()})}}}}};return await this['sendMessageWithTypingButtons'](_0x175455['number'],_0x367ac4,_0x175455?.[_0x69b5c9(0x1d9)]);}catch(_0xfa0fc1){throw console['error']('Error\x20in\x20buttonsMessage\x20function:',_0xfa0fc1),new Error(_0x69b5c9(0x53e));}}async['locationMessage'](_0x180d5b){const _0x380f9a=a0_0xad378c;return await this[_0x380f9a(0x2c6)](_0x180d5b[_0x380f9a(0x570)],{'locationMessage':{'degreesLatitude':_0x180d5b[_0x380f9a(0x86f)]['latitude'],'degreesLongitude':_0x180d5b[_0x380f9a(0x86f)][_0x380f9a(0x2b2)],'name':_0x180d5b[_0x380f9a(0x86f)]?.[_0x380f9a(0x725)],'address':_0x180d5b[_0x380f9a(0x86f)]?.[_0x380f9a(0x580)]}},_0x180d5b?.[_0x380f9a(0x1d9)]);}async[a0_0xad378c(0x1b4)](_0x11e804){const _0x49399b=a0_0xad378c;let _0x3e96aa={},_0x2979c3=async _0x4c2396=>{const _0x551a4e=a0_0x4c1f;let _0x269a2d=_0x551a4e(0x632)+_0x4c2396[_0x551a4e(0x50d)]+_0x551a4e(0x176)+_0x4c2396['fullName']+'\x0a';_0x4c2396[_0x551a4e(0x653)]&&(_0x269a2d+=_0x551a4e(0x2fb)+_0x4c2396[_0x551a4e(0x653)]+';\x0a'),_0x4c2396[_0x551a4e(0x7d1)]&&(_0x269a2d+=_0x551a4e(0x228)+_0x4c2396['email']+'\x0a'),_0x4c2396[_0x551a4e(0x4b6)]&&(_0x269a2d+=_0x551a4e(0x54e)+_0x4c2396[_0x551a4e(0x4b6)]+'\x0a');let _0x1038ed='',_0x59e50f=0x1;if(_0x4c2396['phoneNumber']){let _0x5e1d57=_0x4c2396[_0x551a4e(0x83a)][_0x551a4e(0x43a)]('|');for(let _0x277e2d of _0x5e1d57){let _0x4a02f9=await this[_0x551a4e(0x2af)]({'numbers':[_0x277e2d]}),_0x58acff=(_0x4a02f9[_0x551a4e(0x4f1)]>0x0?_0x4a02f9[0x0][_0x551a4e(0x7c5)]:this[_0x551a4e(0x22b)](_0x277e2d))['replace']('@s.whatsapp.net','');_0x1038ed+=_0x551a4e(0x7dd)+_0x59e50f+_0x551a4e(0x2f0)+_0x58acff+':'+_0x277e2d+_0x551a4e(0x3d8)+_0x59e50f+'.X-ABLabel:Celular\x0a',_0x59e50f++;}}return _0x269a2d+=_0x1038ed+_0x551a4e(0x1b2),_0x269a2d;};return _0x11e804['contactMessage'][_0x49399b(0x4f1)]===0x1?_0x3e96aa['contactMessage']={'displayName':_0x11e804[_0x49399b(0x1b4)][0x0][_0x49399b(0x50d)],'vcard':await _0x2979c3(_0x11e804[_0x49399b(0x1b4)][0x0])}:_0x3e96aa[_0x49399b(0x24a)]={'displayName':_0x11e804[_0x49399b(0x1b4)]['length']+_0x49399b(0x59f),'contacts':await Promise[_0x49399b(0x493)](_0x11e804[_0x49399b(0x1b4)][_0x49399b(0x4a4)](async _0x31a80b=>({'displayName':_0x31a80b[_0x49399b(0x50d)],'vcard':await _0x2979c3(_0x31a80b)})))},await this[_0x49399b(0x2c6)](_0x11e804['number'],{..._0x3e96aa},_0x11e804?.[_0x49399b(0x1d9)]);}async[a0_0xad378c(0x4bd)](_0x8137ec){const _0x395aae=a0_0xad378c;return await this[_0x395aae(0x2c6)](_0x8137ec[_0x395aae(0x4bd)][_0x395aae(0x4ff)][_0x395aae(0x436)],{'reactionMessage':{'key':_0x8137ec['reactionMessage'][_0x395aae(0x4ff)],'text':_0x8137ec[_0x395aae(0x4bd)][_0x395aae(0x85d)]}});}async[a0_0xad378c(0x2af)](_0x3375c7){const _0x46c226=a0_0xad378c;let _0x519052=[];for await(let _0x68ed8b of _0x3375c7[_0x46c226(0x4e8)]){let _0x55b5ec=this[_0x46c226(0x22b)](_0x68ed8b),_0x460d7c=!0x1;try{if((0x0,w[_0x46c226(0x47e)])(_0x55b5ec)){let _0xc9546d=(await this['repository']['chat'][_0x46c226(0x5cc)]({'where':{'_id':_0x55b5ec}},this[_0x46c226(0x5f5)][_0x46c226(0x6e3)]))[_0x46c226(0x39b)];_0xc9546d?(_0x460d7c=!0x0,_0x519052[_0x46c226(0x240)](new ue(_0xc9546d['id'],_0x460d7c,_0xc9546d?.[_0x46c226(0x1f2)]))):(_0xc9546d=await this[_0x46c226(0x4fe)]({'groupJid':_0x55b5ec},_0x46c226(0x22e)),_0x519052[_0x46c226(0x240)](new ue(_0xc9546d['id'],!!_0xc9546d?.['id'],_0xc9546d?.['subject'])));}else{if(_0x55b5ec[_0x46c226(0x77b)](_0x46c226(0x7bd)))_0x519052[_0x46c226(0x240)](new ue(_0x55b5ec,!0x0));else{let _0x2eb2a3=(await this[_0x46c226(0x37e)]['onWhatsApp'](_0x55b5ec))[0x0];_0x519052[_0x46c226(0x240)](new ue(_0x2eb2a3['jid'],_0x2eb2a3[_0x46c226(0x7ba)]));}}}catch{(0x0,w[_0x46c226(0x47e)])(_0x55b5ec)||await this[_0x46c226(0x1ea)](_0x55b5ec),_0x519052['push'](new ue(_0x68ed8b,!0x1));}}return _0x519052;}async[a0_0xad378c(0x1ea)](_0x1147ff){const _0x128d18=a0_0xad378c;try{await this[_0x128d18(0x58e)][_0x128d18(0x7cc)][_0x128d18(0x5cc)]({'where':{'_id':_0x1147ff,'imported':!0x0}},this['instance']['wuid'])&&(await this['repository'][_0x128d18(0x7cc)][_0x128d18(0x421)](_0x1147ff,this[_0x128d18(0x5f5)]['wuid']),this[_0x128d18(0x86b)][_0x128d18(0x575)](_0x128d18(0x38e)+_0x1147ff+_0x128d18(0x423)));}catch(_0x1e3001){let _0x1ee2d0=_0x128d18(0x765),_0x2504a4=_0x1e3001 instanceof Error?_0x1e3001[_0x128d18(0x5fa)]:typeof _0x1e3001==_0x128d18(0x429)?JSON[_0x128d18(0x62f)](_0x1e3001):_0x1e3001,_0x31f347=_0x1ee2d0+':\x20'+_0x2504a4;this[_0x128d18(0x86b)][_0x128d18(0x5fe)](this[_0x128d18(0x62b)]+'\x20('+this[_0x128d18(0x5f5)]['wuid']+_0x128d18(0x431)+_0x31f347);}}async[a0_0xad378c(0x703)](_0x3f0524){const _0xb8dfff=a0_0xad378c;try{let _0x531fff=_0x3f0524[_0xb8dfff(0x5ea)]['filter'](_0x538f5c=>(0x0,w[_0xb8dfff(0x47e)])(_0x538f5c[_0xb8dfff(0x436)])||(0x0,w[_0xb8dfff(0x802)])(_0x538f5c[_0xb8dfff(0x436)]))[_0xb8dfff(0x4a4)](_0x33b28a=>({'remoteJid':_0x33b28a[_0xb8dfff(0x436)],'fromMe':_0x33b28a[_0xb8dfff(0x587)],'id':_0x33b28a['id']}));await this[_0xb8dfff(0x37e)]['readMessages'](_0x531fff);let _0x525f03=_0x531fff[_0xb8dfff(0x4a4)](_0x9353ad=>this[_0xb8dfff(0x1e5)](_0x9353ad,{'status':_0xb8dfff(0x6eb),'owner':this['instance'][_0xb8dfff(0x6e3)]})),_0x58b369=_0x531fff[_0xb8dfff(0x4a4)](_0xff111=>this['repository'][_0xb8dfff(0x7cc)][_0xb8dfff(0x71b)]({'where':{'_id':_0xff111[_0xb8dfff(0x436)]}},{'unreadcount':0x0},this['instance']['wuid'])),[_0x82258e,_0x18f528]=await Promise[_0xb8dfff(0x493)]([Promise[_0xb8dfff(0x493)](_0x525f03),Promise[_0xb8dfff(0x493)](_0x58b369)]);return _0x18f528[_0xb8dfff(0x3f3)](_0x28fac5=>_0x28fac5!==null)['forEach'](_0x38aa16=>{const _0x1734d4=_0xb8dfff;U(this[_0x1734d4(0x62b)],_0x1734d4(0x829),{'chat':_0x38aa16});}),{'message':_0xb8dfff(0x845),'read':'success'};}catch(_0x33800a){let _0x26e6b8=_0xb8dfff(0x7f8),_0x1c6add=_0x33800a instanceof Error?_0x33800a[_0xb8dfff(0x5fa)]:typeof _0x33800a==_0xb8dfff(0x429)?JSON[_0xb8dfff(0x62f)](_0x33800a):_0x33800a,_0x35f1de=_0x26e6b8+':\x20'+_0x1c6add;throw this[_0xb8dfff(0x86b)][_0xb8dfff(0x5fe)](this[_0xb8dfff(0x62b)]+'\x20('+this[_0xb8dfff(0x5f5)][_0xb8dfff(0x6e3)]+'):\x20'+_0x35f1de),new x(_0x35f1de);}}async['getLastMessage'](_0x22d4d5){const _0x1bf259=a0_0xad378c;let _0x46427d={'where':{'key':{'remoteJid':_0x22d4d5}},'limit':0x1},_0x2680ae=await this[_0x1bf259(0x621)](_0x46427d);return _0x2680ae||(this[_0x1bf259(0x86b)][_0x1bf259(0x5fe)](_0x1bf259(0x388)+_0x22d4d5),null);}async[a0_0xad378c(0x73d)](_0x5961b1){const _0x38ba79=a0_0xad378c;this[_0x38ba79(0x86b)][_0x38ba79(0x8cc)](this[_0x38ba79(0x62b)]+'\x20('+this['instance']['wuid']+_0x38ba79(0x2f7));try{let _0x24954b=_0x5961b1[_0x38ba79(0x345)],_0x4bbd62=_0x5961b1[_0x38ba79(0x7cc)];if(!_0x24954b&&_0x4bbd62?_0x24954b=await this[_0x38ba79(0x76c)](_0x4bbd62):(_0x24954b=_0x5961b1[_0x38ba79(0x345)],_0x24954b[_0x38ba79(0x31d)]=_0x24954b?.['messageTimestamp']??Date[_0x38ba79(0x54c)](),_0x4bbd62=_0x24954b?.[_0x38ba79(0x4ff)]?.[_0x38ba79(0x436)]),!_0x24954b||Object[_0x38ba79(0x178)](_0x24954b)['length']===0x0)throw new F(_0x38ba79(0x47a));this[_0x38ba79(0x86b)][_0x38ba79(0x8cc)](this[_0x38ba79(0x62b)]+'\x20('+this[_0x38ba79(0x5f5)][_0x38ba79(0x6e3)]+'):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x4bbd62);try{await this[_0x38ba79(0x37e)][_0x38ba79(0x63d)]({'archive':_0x5961b1[_0x38ba79(0x7ac)],'lastMessages':[_0x24954b]},this[_0x38ba79(0x22b)](_0x4bbd62));}catch(_0x50e579){let _0x457441=_0x38ba79(0x6c8)+_0x4bbd62,_0x4cfbe9=_0x50e579 instanceof Error?_0x50e579[_0x38ba79(0x5fa)]:typeof _0x50e579==_0x38ba79(0x429)?JSON[_0x38ba79(0x62f)](_0x50e579):_0x50e579,_0x731bec=_0x457441+':\x20'+_0x4cfbe9;this[_0x38ba79(0x86b)]['error'](this[_0x38ba79(0x62b)]+'\x20('+this[_0x38ba79(0x5f5)]['wuid']+'):\x20'+_0x731bec);}this[_0x38ba79(0x86b)]['verbose'](this[_0x38ba79(0x62b)]+'\x20('+this[_0x38ba79(0x5f5)][_0x38ba79(0x6e3)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x4bbd62);let _0x46b9f7=await this[_0x38ba79(0x58e)][_0x38ba79(0x7cc)][_0x38ba79(0x71b)]({'where':{'_id':_0x24954b?.[_0x38ba79(0x4ff)]?.['remoteJid']}},{'archived':_0x5961b1[_0x38ba79(0x7ac)]},this['instance'][_0x38ba79(0x6e3)]);return _0x46b9f7?(this['logger'][_0x38ba79(0x8cc)](this[_0x38ba79(0x62b)]+'\x20('+this[_0x38ba79(0x5f5)][_0x38ba79(0x6e3)]+_0x38ba79(0x68e)+JSON['stringify'](_0x46b9f7)),U(this['instanceName'],'chats',{'chat':_0x46b9f7})):this[_0x38ba79(0x86b)]['error'](this[_0x38ba79(0x62b)]+'\x20('+this[_0x38ba79(0x5f5)][_0x38ba79(0x6e3)]+_0x38ba79(0x419)+_0x4bbd62),{'chatId':_0x4bbd62,'archived':_0x5961b1[_0x38ba79(0x7ac)]};}catch(_0xb6443c){let _0x257592=_0x38ba79(0x502),_0x2a9051=_0xb6443c instanceof Error?_0xb6443c[_0x38ba79(0x5fa)]:typeof _0xb6443c==_0x38ba79(0x429)?JSON['stringify'](_0xb6443c):_0xb6443c,_0x3a90f5=_0x257592+':\x20'+_0x2a9051;throw this[_0x38ba79(0x86b)][_0x38ba79(0x5fe)](this[_0x38ba79(0x62b)]+'\x20('+this[_0x38ba79(0x5f5)][_0x38ba79(0x6e3)]+_0x38ba79(0x431)+_0x3a90f5),new x(_0x3a90f5);}}async[a0_0xad378c(0x421)](_0x5746b0){const _0x436fc7=a0_0xad378c;this[_0x436fc7(0x86b)]['verbose'](this['instanceName']+'\x20('+this[_0x436fc7(0x5f5)]['wuid']+_0x436fc7(0x854));try{let _0x52ccfe=await this[_0x436fc7(0x76c)](_0x5746b0);if(!_0x52ccfe||Object[_0x436fc7(0x178)](_0x52ccfe)[_0x436fc7(0x4f1)]===0x0)throw new F(_0x436fc7(0x47a));let _0x3e4a35=_0x52ccfe[0x0];this[_0x436fc7(0x86b)][_0x436fc7(0x8cc)](this[_0x436fc7(0x62b)]+'\x20('+this[_0x436fc7(0x5f5)][_0x436fc7(0x6e3)]+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x5746b0);try{await this['client']['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x3e4a35[_0x436fc7(0x4ff)],'messageTimestamp':_0x3e4a35['messageTimestamp']}]},this[_0x436fc7(0x22b)](_0x5746b0));}catch(_0x184e15){this['logger'][_0x436fc7(0x5fe)](_0x436fc7(0x6c8)+_0x5746b0+':\x20'+_0x184e15['toString']());}this[_0x436fc7(0x86b)][_0x436fc7(0x8cc)](this[_0x436fc7(0x62b)]+'\x20('+this[_0x436fc7(0x5f5)][_0x436fc7(0x6e3)]+_0x436fc7(0x60e)+_0x5746b0);return;}catch(_0x597e7c){throw this['logger'][_0x436fc7(0x5fe)](this[_0x436fc7(0x62b)]+'\x20('+this['instance'][_0x436fc7(0x6e3)]+_0x436fc7(0x804)+_0x597e7c['toString']()),new x({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x597e7c[_0x436fc7(0x3d2)]()]});}}async[a0_0xad378c(0x3b1)](_0x127c0b){const _0x7a412a=a0_0xad378c;try{let _0x5ab6da=await this[_0x7a412a(0x37e)]['sendMessage'](_0x127c0b['remoteJid'],{'delete':_0x127c0b});try{let _0x493e30=await this['updateMessage'](_0x127c0b,{'status':_0x7a412a(0x863),'owner':this['instance'][_0x7a412a(0x6e3)]});this[_0x7a412a(0x86b)]['verbose'](this[_0x7a412a(0x62b)]+'\x20('+this[_0x7a412a(0x5f5)][_0x7a412a(0x6e3)]+_0x7a412a(0x3b2)+_0x493e30);}catch(_0x2c6905){this[_0x7a412a(0x86b)]['error'](_0x7a412a(0x2c4)+_0x2c6905);}return _0x5ab6da;}catch(_0x1b840a){throw new x(_0x7a412a(0x314),_0x1b840a?.[_0x7a412a(0x3d2)]());}}async[a0_0xad378c(0x491)](_0x3d912){const _0x53406b=a0_0xad378c;try{let _0x20000d=_0x3d912?.['message']?_0x3d912:await this[_0x53406b(0x374)](_0x3d912['key'],!0x0);for(let _0x539b49 of Ca)_0x20000d[_0x53406b(0x5fa)][_0x539b49]&&(_0x20000d[_0x53406b(0x5fa)]=_0x20000d[_0x53406b(0x5fa)][_0x539b49][_0x53406b(0x5fa)]);let _0x123294,_0x4e7877;for(let _0x471608 of Ma)if(_0x123294=_0x20000d[_0x53406b(0x5fa)][_0x471608],_0x123294){_0x4e7877=_0x471608;break;}if(!_0x123294)throw _0x53406b(0x883);typeof _0x123294[_0x53406b(0x658)]==_0x53406b(0x429)&&(_0x20000d[_0x53406b(0x5fa)]=JSON[_0x53406b(0x549)](JSON[_0x53406b(0x62f)](_0x20000d[_0x53406b(0x5fa)])));let _0x53b778=await(0x0,w[_0x53406b(0x32f)])({'key':_0x20000d?.[_0x53406b(0x4ff)],'message':_0x20000d?.[_0x53406b(0x5fa)]},_0x53406b(0x60a),{},{'logger':(0x0,Ft[_0x53406b(0x7c4)])({'level':_0x53406b(0x74b)}),'reuploadRequest':this['client'][_0x53406b(0x37c)]});if(!(_0x53b778 instanceof Buffer))throw new Error(_0x53406b(0x63e));let _0x395963=this['configService'][_0x53406b(0x1ff)]('DATABASE'),_0x593834,_0x11552e;if(_0x123294[_0x53406b(0x432)])_0x593834=_0x123294[_0x53406b(0x432)];else{let _0x1ba1c6=_0x123294[_0x53406b(0x66d)]?.[_0x53406b(0x59b)](/\/(\w+)/),_0x50c25a=_0x1ba1c6?_0x1ba1c6[0x1]:null;if(!_0x50c25a)throw new Error(_0x53406b(0x67a));_0x593834=(0x0,z['v4'])()+'.'+_0x50c25a;}_0x4e7877===_0x53406b(0x49d)?_0x11552e=_0x53406b(0x810)+await this[_0x53406b(0x1fd)](_0x53b778[_0x53406b(0x3d2)](_0x53406b(0x450))):(await this[_0x53406b(0x8c6)](_0x53b778,_0x593834),_0x11552e=_0x53406b(0x810)+_0x593834);let _0x2e8877=this['configService']['get'](_0x53406b(0x2e5))[_0x53406b(0x49a)];if(!_0x2e8877){let _0x15545f=this[_0x53406b(0x2ed)][_0x53406b(0x1ff)](_0x53406b(0x56f));_0x2e8877='https://'+(_0x15545f&&_0x15545f[_0x53406b(0x8d7)][_0x53406b(0x43a)]('/')[0x4]);}_0x11552e=''+_0x2e8877+_0x11552e;let _0x2873a2=0xc*0x3c*0x3c*0x3e8,_0x119922={'where':{'_id':_0x20000d[_0x53406b(0x4ff)]['id']}},_0x256787={'message_normalized.fileUrl':_0x11552e,'message_normalized.expires_fileUrl':Date['now']()+_0x2873a2};try{let _0x4aaa71=await this[_0x53406b(0x58e)][_0x53406b(0x5fa)][_0x53406b(0x29d)](_0x119922,_0x256787,this[_0x53406b(0x5f5)]['wuid']);_0x4aaa71&&U(this[_0x53406b(0x62b)],_0x53406b(0x624),{'message':_0x4aaa71});}catch(_0x3a6b0f){let _0x424d4d=_0x53406b(0x460),_0x5e3eff=_0x3a6b0f instanceof Error?_0x3a6b0f[_0x53406b(0x5fa)]:typeof _0x3a6b0f==_0x53406b(0x429)?JSON[_0x53406b(0x62f)](_0x3a6b0f):_0x3a6b0f,_0x2dff7d=_0x424d4d+':\x20'+_0x5e3eff;this[_0x53406b(0x86b)][_0x53406b(0x5fe)](this['instanceName']+'\x20('+this['instance'][_0x53406b(0x6e3)]+_0x53406b(0x431)+_0x2dff7d);}return{'mediaType':_0x4e7877,'fileName':_0x123294[_0x53406b(0x432)],'caption':_0x123294[_0x53406b(0x5f7)],'size':{'fileLength':_0x123294[_0x53406b(0x850)],'height':_0x123294[_0x53406b(0x5da)],'width':_0x123294[_0x53406b(0x242)]},'mimetype':_0x123294[_0x53406b(0x66d)],'base64':_0x53b778[_0x53406b(0x3d2)](_0x53406b(0x450)),'fileUrl':_0x11552e,'expires_fileUrl':Date[_0x53406b(0x54c)]()+_0x2873a2};}catch(_0x5f1650){let _0x469b32=_0x53406b(0x44b),_0x313126=_0x5f1650 instanceof Error?_0x5f1650[_0x53406b(0x5fa)]:typeof _0x5f1650=='object'?JSON[_0x53406b(0x62f)](_0x5f1650):_0x5f1650,_0x592b47=_0x469b32+':\x20'+_0x313126;throw this[_0x53406b(0x86b)]['error'](this[_0x53406b(0x62b)]+'\x20('+this['instance'][_0x53406b(0x6e3)]+_0x53406b(0x431)+_0x592b47),new m(_0x592b47);}}async['saveMediaToFile'](_0x49d5c7,_0x26de0c){const _0x1c22fd=a0_0xad378c;let _0x1edac6=j[_0x1c22fd(0x7c4)]['join'](__dirname,_0x1c22fd(0x25c));k[_0x1c22fd(0x88e)](_0x1edac6)||k[_0x1c22fd(0x83f)](_0x1edac6,{'recursive':!0x0});let _0x2b9864=j[_0x1c22fd(0x7c4)]['join'](_0x1edac6,_0x26de0c);return new Promise((_0x39ac95,_0x17cbf0)=>{k['writeFile'](_0x2b9864,_0x49d5c7,_0x73d3c2=>{const _0x43de83=a0_0x4c1f;_0x73d3c2?(this[_0x43de83(0x86b)]['error']('Error\x20writing\x20file:\x20'+(_0x73d3c2 instanceof Error?_0x73d3c2[_0x43de83(0x5fa)]:JSON['stringify'](_0x73d3c2,null,0x2))),_0x17cbf0(_0x73d3c2)):(this[_0x43de83(0x86b)][_0x43de83(0x78c)](_0x43de83(0x381)+_0x2b9864),_0x39ac95(_0x2b9864));});});}async[a0_0xad378c(0x6a3)](_0x157d82){const _0x3a0a2c=a0_0xad378c;return await this[_0x3a0a2c(0x58e)][_0x3a0a2c(0x5a2)][_0x3a0a2c(0x84a)](_0x157d82,this[_0x3a0a2c(0x5f5)][_0x3a0a2c(0x6e3)]);}async[a0_0xad378c(0x2df)](){const _0x2be36d=a0_0xad378c;return await this['repository'][_0x2be36d(0x6ec)][_0x2be36d(0x84a)]({'where':{}},this[_0x2be36d(0x5f5)][_0x2be36d(0x6e3)]);}async[a0_0xad378c(0x621)](_0x3d39dd){const _0x51f4ed=a0_0xad378c;return await this[_0x51f4ed(0x58e)]['message'][_0x51f4ed(0x84a)](_0x3d39dd,this[_0x51f4ed(0x5f5)]['wuid']);}async[a0_0xad378c(0x642)](){const _0x3d5b71=a0_0xad378c;return this[_0x3d5b71(0x58e)]['chat'][_0x3d5b71(0x2bf)](this[_0x3d5b71(0x5f5)][_0x3d5b71(0x6e3)]),this[_0x3d5b71(0x58e)][_0x3d5b71(0x7cc)][_0x3d5b71(0x183)](this['instance'][_0x3d5b71(0x6e3)]),this[_0x3d5b71(0x58e)][_0x3d5b71(0x7cc)][_0x3d5b71(0x603)](this[_0x3d5b71(0x5f5)]['wuid']),this[_0x3d5b71(0x58e)]['chat']['updateMissingCustomFields'](this['instance'][_0x3d5b71(0x6e3)]),await this[_0x3d5b71(0x58e)][_0x3d5b71(0x7cc)][_0x3d5b71(0x84a)]({'where':{}},this[_0x3d5b71(0x5f5)][_0x3d5b71(0x6e3)]);}async['importChatsAntigo'](_0x333963){const _0x1e9697=a0_0xad378c;try{if(!Array['isArray'](_0x333963)||_0x333963[_0x1e9697(0x4f1)]===0x0)throw new Error(_0x1e9697(0x6ff));let _0x331d5c=[],_0x47ee46=[];for(let _0x2938c1 of _0x333963){if(_0x2938c1[_0x1e9697(0x81f)])_0x2938c1[_0x1e9697(0x81f)]=this['createJid'](_0x2938c1['_id']);else continue;await this[_0x1e9697(0x58e)]['chat'][_0x1e9697(0x5cc)]({'where':{'_id':_0x2938c1[_0x1e9697(0x81f)]}},this[_0x1e9697(0x5f5)][_0x1e9697(0x6e3)])?_0x47ee46['push']({'_id':_0x2938c1['_id'],'leadInfo':_0x2938c1[_0x1e9697(0x52b)],'owner':this[_0x1e9697(0x5f5)]['wuid']}):_0x331d5c['push']({'_id':_0x2938c1[_0x1e9697(0x81f)],'owner':this[_0x1e9697(0x5f5)][_0x1e9697(0x6e3)],'leadInfo':_0x2938c1[_0x1e9697(0x52b)],'imported':!0x0});}return _0x47ee46[_0x1e9697(0x4f1)]>0x0&&await this['repository']['chat'][_0x1e9697(0x455)](_0x47ee46[_0x1e9697(0x4a4)](_0x4837df=>({'query':{'where':{'_id':_0x4837df['_id'],'owner':this[_0x1e9697(0x5f5)][_0x1e9697(0x6e3)]}},'update':_0x4837df}))),_0x331d5c['length']>0x0&&await this[_0x1e9697(0x58e)]['chat'][_0x1e9697(0x8a8)](_0x331d5c,this[_0x1e9697(0x5f5)][_0x1e9697(0x6e3)]),{'updated':_0x47ee46[_0x1e9697(0x4f1)],'inserted':_0x331d5c[_0x1e9697(0x4f1)]};}catch(_0x2b2071){let _0x474c30=_0x1e9697(0x6ae),_0x1fb937=_0x2b2071 instanceof Error?_0x2b2071[_0x1e9697(0x5fa)]:typeof _0x2b2071==_0x1e9697(0x429)?JSON['stringify'](_0x2b2071):_0x2b2071,_0x1066a7=_0x474c30+':\x20'+_0x1fb937;throw this['logger'][_0x1e9697(0x5fe)](this[_0x1e9697(0x62b)]+'\x20('+this[_0x1e9697(0x5f5)][_0x1e9697(0x6e3)]+_0x1e9697(0x431)+_0x1066a7),new m(_0x1066a7);}}async[a0_0xad378c(0x234)](_0x5d3bbb){const _0x55b286=a0_0xad378c;try{if(!Array[_0x55b286(0x5ab)](_0x5d3bbb)||_0x5d3bbb[_0x55b286(0x4f1)]===0x0)throw new Error(_0x55b286(0x6ff));let _0x137ba5=0x64,_0x1ed002=0x0;for(let _0x32c95a=0x0;_0x32c95a<_0x5d3bbb[_0x55b286(0x4f1)];_0x32c95a+=_0x137ba5){let _0x544cde=_0x5d3bbb[_0x55b286(0x430)](_0x32c95a,_0x32c95a+_0x137ba5),{updated:_0xf9005a}=await this[_0x55b286(0x31e)](_0x544cde);_0x1ed002+=_0xf9005a;}return{'updated':_0x1ed002};}catch(_0x373e86){let _0x125c4c=_0x55b286(0x6ae),_0x13b1b0=_0x373e86 instanceof Error?_0x373e86[_0x55b286(0x5fa)]:typeof _0x373e86==_0x55b286(0x429)?JSON['stringify'](_0x373e86):_0x373e86,_0x6545cb=_0x125c4c+':\x20'+_0x13b1b0;throw this[_0x55b286(0x86b)]['error'](this[_0x55b286(0x62b)]+'\x20('+this['instance'][_0x55b286(0x6e3)]+'):\x20'+_0x6545cb),new m(_0x6545cb);}}async['importChatsBatch'](_0x3dbf74){const _0x2f06a9=a0_0xad378c;try{let _0x18ff83=await this['repository'][_0x2f06a9(0x6ec)][_0x2f06a9(0x84a)]({'where':{}},this[_0x2f06a9(0x5f5)]['wuid']),_0x143568=new Set(_0x18ff83[_0x2f06a9(0x4a4)](_0x232230=>_0x232230[_0x2f06a9(0x81f)])),_0x2a7121=[],_0x334f2f=[];for(let _0x28c9be of _0x3dbf74){if(!_0x28c9be['_id'])continue;_0x28c9be[_0x2f06a9(0x81f)]=this[_0x2f06a9(0x22b)](_0x28c9be[_0x2f06a9(0x81f)]);let _0x2bcd07=await this[_0x2f06a9(0x58e)]['chat'][_0x2f06a9(0x5cc)]({'where':{'_id':_0x28c9be[_0x2f06a9(0x81f)]}},this[_0x2f06a9(0x5f5)][_0x2f06a9(0x6e3)]),_0x5323e6={};if(Object['entries'](_0x28c9be[_0x2f06a9(0x52b)])['forEach'](([_0x19f23,_0x2e8265])=>{const _0x967e90=_0x2f06a9;_0x5323e6[_0x967e90(0x4eb)+_0x19f23]=_0x2e8265;}),_0x2bcd07&&!_0x2bcd07[_0x2f06a9(0x185)]){let _0x5409d0=(_0x28c9be[_0x2f06a9(0x52b)]['etiquetas']||[])[_0x2f06a9(0x3f3)](_0xa5085=>_0x143568[_0x2f06a9(0x206)](_0xa5085)),_0x5c802d=new Set(_0x2bcd07[_0x2f06a9(0x52b)]['etiquetas']||[]),_0x26f718=_0x5409d0[_0x2f06a9(0x3f3)](_0x54496e=>!_0x5c802d[_0x2f06a9(0x206)](_0x54496e)),_0x57d344=[..._0x5c802d][_0x2f06a9(0x3f3)](_0x2e9ab9=>!_0x5409d0['includes'](_0x2e9ab9));_0x334f2f['push'](..._0x26f718['map'](_0x430af3=>this['AddChatLabel'](_0x430af3,_0x28c9be[_0x2f06a9(0x81f)]))),_0x334f2f[_0x2f06a9(0x240)](..._0x57d344['map'](_0x54b7c3=>this[_0x2f06a9(0x673)](_0x54b7c3,_0x28c9be['_id']))),_0x28c9be[_0x2f06a9(0x52b)]['etiquetas']=_0x5409d0,_0x2a7121['push']({'query':{'where':{'_id':_0x28c9be[_0x2f06a9(0x81f)],'owner':this[_0x2f06a9(0x5f5)][_0x2f06a9(0x6e3)]}},'update':_0x5323e6});}else _0x5323e6[_0x2f06a9(0x185)]=!0x0,_0x2a7121[_0x2f06a9(0x240)]({'query':{'where':{'_id':_0x28c9be[_0x2f06a9(0x81f)],'owner':this[_0x2f06a9(0x5f5)][_0x2f06a9(0x6e3)]}},'update':_0x5323e6});}let _0x53040f=await this[_0x2f06a9(0x58e)]['chat'][_0x2f06a9(0x455)](_0x2a7121);return await Promise[_0x2f06a9(0x493)](_0x334f2f),{'updated':_0x53040f};}catch(_0x308498){let _0x4047cc=_0x2f06a9(0x6ae),_0x3317b3=_0x308498 instanceof Error?_0x308498[_0x2f06a9(0x5fa)]:typeof _0x308498==_0x2f06a9(0x429)?JSON[_0x2f06a9(0x62f)](_0x308498):_0x308498,_0x3fcfc2=_0x4047cc+':\x20'+_0x3317b3;throw this[_0x2f06a9(0x86b)]['error'](this[_0x2f06a9(0x62b)]+'\x20('+this[_0x2f06a9(0x5f5)][_0x2f06a9(0x6e3)]+_0x2f06a9(0x431)+_0x3fcfc2),new m(_0x3fcfc2);}}async[a0_0xad378c(0x798)](){const _0x12270e=a0_0xad378c;return await this[_0x12270e(0x37e)][_0x12270e(0x798)]();}async[a0_0xad378c(0x65d)](_0x991e3e){const _0x85ca10=a0_0xad378c;try{return await this['client']['updateReadReceiptsPrivacy'](_0x991e3e[_0x85ca10(0x1e6)]['readreceipts']),await this[_0x85ca10(0x37e)][_0x85ca10(0x75b)](_0x991e3e['privacySettings']['profile']),await this['client'][_0x85ca10(0x2de)](_0x991e3e['privacySettings'][_0x85ca10(0x616)]),await this[_0x85ca10(0x37e)]['updateOnlinePrivacy'](_0x991e3e[_0x85ca10(0x1e6)]['online']),await this[_0x85ca10(0x37e)][_0x85ca10(0x3e1)](_0x991e3e[_0x85ca10(0x1e6)][_0x85ca10(0x417)]),await this['client'][_0x85ca10(0x74a)](_0x991e3e[_0x85ca10(0x1e6)][_0x85ca10(0x600)]),this[_0x85ca10(0x37e)]?.['ws']?.[_0x85ca10(0x76b)](),{'update':_0x85ca10(0x57b),'data':{'readreceipts':_0x991e3e[_0x85ca10(0x1e6)][_0x85ca10(0x28c)],'profile':_0x991e3e['privacySettings'][_0x85ca10(0x830)],'status':_0x991e3e[_0x85ca10(0x1e6)][_0x85ca10(0x616)],'online':_0x991e3e[_0x85ca10(0x1e6)][_0x85ca10(0x843)],'last':_0x991e3e[_0x85ca10(0x1e6)]['last'],'groupadd':_0x991e3e[_0x85ca10(0x1e6)]['groupadd']}};}catch(_0x1314d8){let _0x331edc='Erro\x20ao\x20alterar\x20privacidade',_0x36e320=_0x1314d8 instanceof Error?_0x1314d8[_0x85ca10(0x5fa)]:typeof _0x1314d8==_0x85ca10(0x429)?JSON[_0x85ca10(0x62f)](_0x1314d8):_0x1314d8,_0x265da0=_0x331edc+':\x20'+_0x36e320;throw this['logger']['error'](this[_0x85ca10(0x62b)]+'\x20('+this[_0x85ca10(0x5f5)]['wuid']+'):\x20'+_0x265da0),new m(_0x265da0);}}async['fetchProfile'](_0x1f125e){const _0x23939e=a0_0xad378c;let _0x535db0=(_0x1f125e?this[_0x23939e(0x22b)](_0x1f125e):this[_0x23939e(0x37e)]?.[_0x23939e(0x49b)]?.['id'])[_0x23939e(0x568)](/:\d{1,2}@/g,'@');this[_0x23939e(0x86b)][_0x23939e(0x8cc)](this['instanceName']+'\x20('+this[_0x23939e(0x5f5)][_0x23939e(0x6e3)]+_0x23939e(0x341)+_0x535db0);let _0x577477=await this[_0x23939e(0x58e)]['contact'][_0x23939e(0x5cc)]({'where':{'_id':_0x535db0}},this['instance'][_0x23939e(0x6e3)]),_0x1bfbbd=_0x577477?_0x577477['pushName']:null;try{let _0x17e5e8=(await this[_0x23939e(0x2af)]({'numbers':[_0x535db0]}))?.['shift'](),_0x2b792f=(await this[_0x23939e(0x4b2)](_0x535db0,null,!0x1))[_0x23939e(0x33a)][_0x23939e(0x82a)],_0x19a4e6=await this[_0x23939e(0x2e8)](_0x17e5e8?.[_0x23939e(0x7c5)]),_0xedc1f1=await this[_0x23939e(0x205)](_0x17e5e8?.[_0x23939e(0x7c5)]),_0x193878=(await this[_0x23939e(0x4b2)](_0x535db0,null,!0x1))[_0x23939e(0x33a)]['name'],_0x572809=await this[_0x23939e(0x58e)][_0x23939e(0x7cc)][_0x23939e(0x5cc)]({'where':{'_id':_0x535db0}},this[_0x23939e(0x5f5)]['wuid']),_0x254e1f={'imagechat':_0x2b792f,'contactname':_0x1bfbbd||null,'pushName':_0x193878,'status':_0x19a4e6?.[_0x23939e(0x616)],'isBusiness':_0xedc1f1[_0x23939e(0x8d3)],'email':_0xedc1f1?.[_0x23939e(0x7d1)],'description':_0xedc1f1?.[_0x23939e(0x5d9)],'website':_0xedc1f1?.[_0x23939e(0x8e7)]?.[_0x23939e(0x3d0)](),'lastcache':Date[_0x23939e(0x54c)](),'imported':!_0x572809},_0xd2bffb=await this['repository'][_0x23939e(0x7cc)][_0x23939e(0x71b)]({'where':{'_id':_0x535db0}},_0x254e1f,this[_0x23939e(0x5f5)][_0x23939e(0x6e3)]),_0xa1630d={'owner':this[_0x23939e(0x5f5)]['wuid'],'_id':_0x535db0,'profilePictureUrl':_0x2b792f,'status':_0x19a4e6?.[_0x23939e(0x616)]};return this['repository']['contact'][_0x23939e(0x29d)]([_0xa1630d],this['instance'][_0x23939e(0x6e3)]),_0xd2bffb&&U(this['instanceName'],_0x23939e(0x829),{'chat':_0xd2bffb}),{'wuid':_0x17e5e8?.[_0x23939e(0x7c5)]||_0x535db0,'name':_0x17e5e8?.['name'],'pushName':_0x193878,'numberExists':_0x17e5e8?.[_0x23939e(0x7ba)],'picture':_0x2b792f,'status':_0x19a4e6?.[_0x23939e(0x616)],'isBusiness':_0xedc1f1[_0x23939e(0x8d3)],'email':_0xedc1f1?.[_0x23939e(0x7d1)],'description':_0xedc1f1?.[_0x23939e(0x5d9)],'website':_0xedc1f1?.['website']?.[_0x23939e(0x3d0)]()};}catch(_0x5a92b7){return this['logger'][_0x23939e(0x5fe)](_0x23939e(0x2b1)+(_0x5a92b7 instanceof Error?_0x5a92b7[_0x23939e(0x5fa)]:JSON['stringify'](_0x5a92b7,null,0x2))),{};}}async['fetchBusinessProfile'](_0x5daacb){const _0x5fe0bd=a0_0xad378c;this['logger']['verbose'](this[_0x5fe0bd(0x62b)]+'\x20('+this[_0x5fe0bd(0x5f5)][_0x5fe0bd(0x6e3)]+_0x5fe0bd(0x61f));try{let _0x535d01=_0x5daacb?this[_0x5fe0bd(0x22b)](_0x5daacb):this[_0x5fe0bd(0x5f5)][_0x5fe0bd(0x6e3)],_0x5e5000=await this[_0x5fe0bd(0x37e)]['getBusinessProfile'](_0x535d01);return this[_0x5fe0bd(0x86b)]['verbose'](this['instanceName']+'\x20('+this[_0x5fe0bd(0x5f5)][_0x5fe0bd(0x6e3)]+'):Trying\x20to\x20get\x20business\x20profile'),_0x5e5000?(this[_0x5fe0bd(0x86b)][_0x5fe0bd(0x8cc)](this[_0x5fe0bd(0x62b)]+'\x20('+this[_0x5fe0bd(0x5f5)][_0x5fe0bd(0x6e3)]+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x5e5000}):{'isBusiness':!0x1,'message':_0x5fe0bd(0x40d),...(await this['whatsappNumber']({'numbers':[_0x535d01]}))?.[_0x5fe0bd(0x3d0)]()};}catch(_0x3e0e2c){let _0x588e2b='Falha\x20ao\x20processar\x20fetchBusinessProfile',_0x4a89ca=_0x3e0e2c instanceof Error?_0x3e0e2c[_0x5fe0bd(0x5fa)]:typeof _0x3e0e2c==_0x5fe0bd(0x429)?JSON[_0x5fe0bd(0x62f)](_0x3e0e2c):_0x3e0e2c,_0x5bd73b=_0x588e2b+':\x20'+_0x4a89ca;throw this[_0x5fe0bd(0x86b)][_0x5fe0bd(0x5fe)](this[_0x5fe0bd(0x62b)]+'\x20('+this['instance']['wuid']+_0x5fe0bd(0x431)+_0x5bd73b),new x(_0x5bd73b);}}async[a0_0xad378c(0x2e8)](_0x2c2641){const _0x595e78=a0_0xad378c;let _0x3af840=this[_0x595e78(0x22b)](_0x2c2641);try{return{'wuid':_0x3af840,'status':(await this[_0x595e78(0x37e)][_0x595e78(0x3b6)](_0x3af840))[0x0]?.[_0x595e78(0x616)]};}catch{return{'wuid':_0x3af840,'status':null};}}async[a0_0xad378c(0x4f2)](_0x3f4b32){const _0x2a2f26=a0_0xad378c;try{return await this[_0x2a2f26(0x37e)][_0x2a2f26(0x4f2)](_0x3f4b32),{'update':_0x2a2f26(0x57b)};}catch(_0x3e3c77){let _0x552fa2='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x50841f=_0x3e3c77 instanceof Error?_0x3e3c77[_0x2a2f26(0x5fa)]:typeof _0x3e3c77==_0x2a2f26(0x429)?JSON['stringify'](_0x3e3c77):_0x3e3c77,_0x3ad184=_0x552fa2+':\x20'+_0x50841f;throw this[_0x2a2f26(0x86b)]['error'](this[_0x2a2f26(0x62b)]+'\x20('+this[_0x2a2f26(0x5f5)][_0x2a2f26(0x6e3)]+_0x2a2f26(0x431)+_0x3ad184),new x(_0x3ad184);}}async[a0_0xad378c(0x7b6)](_0xabc52f){const _0x4d643a=a0_0xad378c;try{return await this[_0x4d643a(0x37e)][_0x4d643a(0x7b6)](_0xabc52f),{'update':'success'};}catch(_0x492336){let _0x3a8b6e=_0x4d643a(0x555),_0x131774=_0x492336 instanceof Error?_0x492336['message']:typeof _0x492336==_0x4d643a(0x429)?JSON[_0x4d643a(0x62f)](_0x492336):_0x492336,_0x18c233=_0x3a8b6e+':\x20'+_0x131774;throw this['logger'][_0x4d643a(0x5fe)](this[_0x4d643a(0x62b)]+'\x20('+this[_0x4d643a(0x5f5)][_0x4d643a(0x6e3)]+'):\x20'+_0x18c233),new x(_0x18c233);}}async[a0_0xad378c(0x8ae)](_0x2e6422){const _0x262206=a0_0xad378c;try{let _0x175999;if((0x0,J['isURL'])(_0x2e6422)){let _0x1439ce=new Date()[_0x262206(0x466)](),_0x6eafca=_0x2e6422+'?timestamp='+_0x1439ce;_0x175999=(await Y[_0x262206(0x7c4)][_0x262206(0x1ff)](_0x6eafca,{'responseType':_0x262206(0x7a1)}))[_0x262206(0x232)];}else{if((0x0,J['isBase64'])(_0x2e6422))_0x175999=Buffer[_0x262206(0x18f)](_0x2e6422,_0x262206(0x450));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x262206(0x8ae)](this[_0x262206(0x5f5)]['wuid'],_0x175999),{'update':_0x262206(0x57b)};}catch(_0xaf8c27){let _0x24fe3c='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x2d931a=_0xaf8c27 instanceof Error?_0xaf8c27[_0x262206(0x5fa)]:typeof _0xaf8c27=='object'?JSON[_0x262206(0x62f)](_0xaf8c27):_0xaf8c27,_0x303c5d=_0x24fe3c+':\x20'+_0x2d931a;throw this[_0x262206(0x86b)]['error'](this[_0x262206(0x62b)]+'\x20('+this['instance'][_0x262206(0x6e3)]+_0x262206(0x431)+_0x303c5d),new x(_0x303c5d);}}async[a0_0xad378c(0x861)](){const _0x55cd20=a0_0xad378c;try{return await this[_0x55cd20(0x37e)][_0x55cd20(0x861)](this[_0x55cd20(0x5f5)][_0x55cd20(0x6e3)]),{'update':_0x55cd20(0x57b)};}catch(_0x5ed6be){let _0x4ab6d7=_0x55cd20(0x52d),_0x6b0c52=_0x5ed6be instanceof Error?_0x5ed6be[_0x55cd20(0x5fa)]:typeof _0x5ed6be==_0x55cd20(0x429)?JSON[_0x55cd20(0x62f)](_0x5ed6be):_0x5ed6be,_0x238142=_0x4ab6d7+':\x20'+_0x6b0c52;throw this[_0x55cd20(0x86b)][_0x55cd20(0x5fe)](this['instanceName']+'\x20('+this[_0x55cd20(0x5f5)][_0x55cd20(0x6e3)]+_0x55cd20(0x431)+_0x238142),new x(_0x238142);}}async['createGroup'](_0x1cc559){const _0x374f55=a0_0xad378c;try{let _0x54d9eb=(await this[_0x374f55(0x2af)]({'numbers':_0x1cc559['participants']}))[_0x374f55(0x3f3)](_0x238474=>_0x238474[_0x374f55(0x7ba)])[_0x374f55(0x4a4)](_0x4307af=>_0x4307af[_0x374f55(0x7c5)]),{id:_0x3d4da6}=await this[_0x374f55(0x37e)]['groupCreate'](_0x1cc559[_0x374f55(0x1f2)],_0x54d9eb);_0x1cc559?.[_0x374f55(0x5d9)]&&await this['client']['groupUpdateDescription'](_0x3d4da6,_0x1cc559['description']);let _0x25d671=await this[_0x374f55(0x37e)][_0x374f55(0x31c)](_0x3d4da6);return _0x25d671[_0x374f55(0x8a4)]=[],await this[_0x374f55(0x3e8)](),{'metadata':_0x25d671};}catch(_0x40b951){let _0x4ecb8d=_0x374f55(0x537),_0x4388c2=_0x40b951 instanceof Error?_0x40b951['message']:typeof _0x40b951==_0x374f55(0x429)?JSON[_0x374f55(0x62f)](_0x40b951):_0x40b951,_0x5970ee=_0x4ecb8d+':\x20'+_0x4388c2;throw this[_0x374f55(0x86b)][_0x374f55(0x5fe)](this[_0x374f55(0x62b)]+'\x20('+this[_0x374f55(0x5f5)][_0x374f55(0x6e3)]+'):\x20'+_0x5970ee),new x(_0x5970ee);}}async[a0_0xad378c(0x6b2)](_0x695ccd){const _0x24e6da=a0_0xad378c;try{if(_0x695ccd['restrict']===!0x0&&await this['client'][_0x24e6da(0x22f)](_0x695ccd[_0x24e6da(0x7d9)],_0x24e6da(0x262)),_0x695ccd['restrict']===!0x1&&await this[_0x24e6da(0x37e)][_0x24e6da(0x22f)](_0x695ccd[_0x24e6da(0x7d9)],_0x24e6da(0x3c9)),_0x695ccd[_0x24e6da(0x5bb)]===!0x0&&await this[_0x24e6da(0x37e)]['groupSettingUpdate'](_0x695ccd[_0x24e6da(0x7d9)],_0x24e6da(0x515)),_0x695ccd[_0x24e6da(0x5bb)]===!0x1&&await this[_0x24e6da(0x37e)]['groupSettingUpdate'](_0x695ccd['groupJid'],_0x24e6da(0x808)),_0x695ccd[_0x24e6da(0x48f)]===!0x0&&await this['client'][_0x24e6da(0x7f9)](_0x695ccd['groupJid'],_0x24e6da(0x307)),_0x695ccd[_0x24e6da(0x48f)]===!0x1&&await this[_0x24e6da(0x37e)][_0x24e6da(0x7f9)](_0x695ccd[_0x24e6da(0x7d9)],_0x24e6da(0x284)),_0x695ccd[_0x24e6da(0x21e)]===!0x0&&await this[_0x24e6da(0x37e)]['groupJoinApprovalMode'](_0x695ccd['groupJid'],'on'),_0x695ccd[_0x24e6da(0x21e)]===!0x1&&await this[_0x24e6da(0x37e)][_0x24e6da(0x66f)](_0x695ccd[_0x24e6da(0x7d9)],'off'),typeof _0x695ccd[_0x24e6da(0x715)]<'u'&&_0x695ccd[_0x24e6da(0x715)]!==null&&await this[_0x24e6da(0x37e)][_0x24e6da(0x369)](_0x695ccd[_0x24e6da(0x7d9)],_0x695ccd['expiration']),_0x695ccd[_0x24e6da(0x725)]&&await this[_0x24e6da(0x37e)]['groupUpdateSubject'](_0x695ccd[_0x24e6da(0x7d9)],_0x695ccd[_0x24e6da(0x725)]),_0x695ccd[_0x24e6da(0x5d9)]&&await this['client'][_0x24e6da(0x538)](_0x695ccd[_0x24e6da(0x7d9)],_0x695ccd[_0x24e6da(0x5d9)]),_0x695ccd['image']){let _0x1ebaa2;if((0x0,J[_0x24e6da(0x4e7)])(_0x695ccd[_0x24e6da(0x65c)])){let _0x5bf52d=new Date()['getTime'](),_0x25ee46=_0x695ccd[_0x24e6da(0x65c)]+_0x24e6da(0x1b8)+_0x5bf52d;_0x1ebaa2=(await Y[_0x24e6da(0x7c4)][_0x24e6da(0x1ff)](_0x25ee46,{'responseType':_0x24e6da(0x7a1)}))['data'];}else{if((0x0,J['isBase64'])(_0x695ccd[_0x24e6da(0x65c)]))_0x1ebaa2=Buffer[_0x24e6da(0x18f)](_0x695ccd[_0x24e6da(0x65c)],_0x24e6da(0x450));else throw new m(_0x24e6da(0x877));}await this['client'][_0x24e6da(0x8ae)](_0x695ccd[_0x24e6da(0x7d9)],_0x1ebaa2);}return await this['findGroup']({'groupJid':_0x695ccd[_0x24e6da(0x7d9)]});}catch(_0x5ac03d){let _0x96f18f=_0x24e6da(0x782),_0x173a51=_0x5ac03d instanceof Error?_0x5ac03d['message']:typeof _0x5ac03d==_0x24e6da(0x429)?JSON['stringify'](_0x5ac03d):_0x5ac03d,_0x2dd8ae=_0x96f18f+':\x20'+_0x173a51;throw this[_0x24e6da(0x86b)][_0x24e6da(0x5fe)](this[_0x24e6da(0x62b)]+'\x20('+this[_0x24e6da(0x5f5)][_0x24e6da(0x6e3)]+_0x24e6da(0x431)+_0x2dd8ae),new x(_0x2dd8ae);}}async['updateGParticipant'](_0x1a6120){const _0x3968d2=a0_0xad378c;try{if(_0x1a6120[_0x3968d2(0x635)]==='approve'||_0x1a6120[_0x3968d2(0x635)]===_0x3968d2(0x34e)){let _0x27c6c1=_0x1a6120[_0x3968d2(0x816)][_0x3968d2(0x4a4)](_0xdbe7c6=>this['createJid'](_0xdbe7c6));await this[_0x3968d2(0x37e)]['groupRequestParticipantsUpdate'](_0x1a6120[_0x3968d2(0x7d9)],_0x27c6c1,_0x1a6120[_0x3968d2(0x635)]);}else{if(_0x1a6120['action']===_0x3968d2(0x472)){let _0x41470a=(await this[_0x3968d2(0x2af)]({'numbers':_0x1a6120[_0x3968d2(0x816)]}))['filter'](_0xb8199d=>_0xb8199d[_0x3968d2(0x7ba)])[_0x3968d2(0x4a4)](_0x35736e=>this[_0x3968d2(0x22b)](_0x35736e['jid']));if(_0x41470a[_0x3968d2(0x4f1)]===0x0)throw new m('Nenhum\x20participante\x20válido\x20encontrado.');await this['client']['groupParticipantsUpdate'](_0x1a6120[_0x3968d2(0x7d9)],_0x41470a,_0x3968d2(0x472));}else{let _0x3d1d76=_0x1a6120['participants'][_0x3968d2(0x4a4)](_0x57722c=>this[_0x3968d2(0x22b)](_0x57722c));await this[_0x3968d2(0x37e)]['groupParticipantsUpdate'](_0x1a6120['groupJid'],_0x3d1d76,_0x1a6120[_0x3968d2(0x635)]);}}return await this[_0x3968d2(0x4fe)]({'groupJid':_0x1a6120[_0x3968d2(0x7d9)]});}catch(_0x3b687a){let _0x284d3b='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x15b2db=_0x3b687a instanceof Error?_0x3b687a[_0x3968d2(0x5fa)]:typeof _0x3b687a==_0x3968d2(0x429)?JSON[_0x3968d2(0x62f)](_0x3b687a):_0x3b687a,_0x926981=_0x284d3b+':\x20'+_0x15b2db;throw this[_0x3968d2(0x86b)]['error'](this[_0x3968d2(0x62b)]+'\x20('+this[_0x3968d2(0x5f5)]['wuid']+'):\x20'+_0x926981),new m(_0x926981);}}async[a0_0xad378c(0x392)](_0x27ce35){const _0x178fc3=a0_0xad378c;try{return await this[_0x178fc3(0x37e)][_0x178fc3(0x392)](_0x27ce35[_0x178fc3(0x656)]);}catch(_0x5a51da){let _0x7976e0='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x78ede0=_0x5a51da instanceof Error?_0x5a51da[_0x178fc3(0x5fa)]:typeof _0x5a51da==_0x178fc3(0x429)?JSON[_0x178fc3(0x62f)](_0x5a51da):_0x5a51da,_0x178e0a=_0x7976e0+':\x20'+_0x78ede0;throw this[_0x178fc3(0x86b)][_0x178fc3(0x5fe)](this['instanceName']+'\x20('+this['instance'][_0x178fc3(0x6e3)]+_0x178fc3(0x431)+_0x178e0a),new m(_0x178e0a);}}async[a0_0xad378c(0x4fe)](_0x2f36dc,_0x3cfe79=a0_0xad378c(0x1ae)){const _0x172a26=a0_0xad378c;try{let _0x230369=await this[_0x172a26(0x58e)][_0x172a26(0x7cc)][_0x172a26(0x5cc)]({'where':{'_id':_0x2f36dc[_0x172a26(0x7d9)]}},this['instance']['wuid']),_0x21b531=_0x230369?_0x230369['groupdata']:null,_0xae0082=0x18*0x3c*0x3c*0x3e8;if(!_0x21b531||_0x21b531['lastUpdate']&&Date[_0x172a26(0x54c)]()-_0x21b531[_0x172a26(0x288)]>_0xae0082){let _0x5d318c=await this[_0x172a26(0x37e)][_0x172a26(0x31c)](_0x2f36dc['groupJid']);if(_0x5d318c[_0x172a26(0x409)]=_0x5d318c?.[_0x172a26(0x409)]&&_0x5d318c[_0x172a26(0x409)][_0x172a26(0x3d2)]()['length']<0xd?_0x5d318c?.['subjectTime']*0x3e8:_0x5d318c?.[_0x172a26(0x409)]||null,_0x5d318c[_0x172a26(0x685)]=_0x5d318c?.[_0x172a26(0x685)]&&_0x5d318c[_0x172a26(0x685)][_0x172a26(0x3d2)]()[_0x172a26(0x4f1)]<0xd?_0x5d318c?.['creation']*0x3e8:_0x5d318c?.[_0x172a26(0x685)]||null,_0x21b531={..._0x5d318c,'lastUpdate':Date[_0x172a26(0x54c)]()},!_0x5d318c)return;}let _0x4d3cb6=_0x21b531[_0x172a26(0x816)][_0x172a26(0x79a)](_0x16e4a0=>_0x16e4a0['id']===this['instance']['wuid']+_0x172a26(0x353)&&_0x16e4a0[_0x172a26(0x45f)]!=null);!_0x21b531[_0x172a26(0x656)]&&_0x4d3cb6&&(_0x21b531[_0x172a26(0x656)]=(await this[_0x172a26(0x656)](_0x2f36dc,!0x1))['inviteUrl']);let _0x3544b4=(!_0x21b531[_0x172a26(0x5bb)]||_0x4d3cb6)&&(!_0x21b531[_0x172a26(0x313)]||_0x21b531[_0x172a26(0x313)]&&_0x21b531['isCommunityAnnounce']&&_0x4d3cb6);_0x21b531['isAdmin']=_0x4d3cb6,_0x21b531[_0x172a26(0x3e6)]=_0x3544b4;let _0x3a93ca=[];if(_0x4d3cb6&&_0x21b531[_0x172a26(0x21e)])try{_0x3a93ca=await this[_0x172a26(0x37e)][_0x172a26(0x5f1)](_0x2f36dc['groupJid']),_0x21b531[_0x172a26(0x5c0)]=Date[_0x172a26(0x54c)]();}catch(_0x44ed50){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x172a26(0x5f5)][_0x172a26(0x6e3)]+_0x172a26(0x700)+_0x2f36dc[_0x172a26(0x7d9)]+':\x20'+(_0x44ed50 instanceof Error?_0x44ed50['message']:JSON[_0x172a26(0x62f)](_0x44ed50,null,0x2)));}try{_0x21b531[_0x172a26(0x65c)]=(await this[_0x172a26(0x4b2)](_0x2f36dc[_0x172a26(0x7d9)],null,!0x0))[_0x172a26(0x33a)][_0x172a26(0x82a)];}catch(_0x3d0187){this['logger'][_0x172a26(0x8cc)](this[_0x172a26(0x62b)]+'\x20('+this[_0x172a26(0x5f5)][_0x172a26(0x6e3)]+_0x172a26(0x4ce)+_0x2f36dc['groupJid']+':\x20'+(_0x3d0187 instanceof Error?_0x3d0187['message']:JSON[_0x172a26(0x62f)](_0x3d0187,null,0x2)));}let _0x1753a8=_0x21b531[_0x172a26(0x816)][_0x172a26(0x4a4)](_0x523955=>_0x523955['id']),_0x4787e5=_0x3a93ca[_0x172a26(0x4a4)](_0x2caf39=>_0x2caf39[_0x172a26(0x7c5)]),_0x3c6b44=await this[_0x172a26(0x58e)][_0x172a26(0x709)]['findManyByIds']([..._0x1753a8,..._0x4787e5]);_0x21b531['participants']=_0x21b531[_0x172a26(0x816)][_0x172a26(0x4a4)](_0x7f5456=>{const _0x5d6fca=_0x172a26;let _0x4598a3=_0x3c6b44[_0x5d6fca(0x84a)](_0x18f5f3=>_0x18f5f3[_0x5d6fca(0x81f)]===_0x7f5456['id']);return{'id':_0x7f5456['id'],'isAdmin':[_0x5d6fca(0x45f),_0x5d6fca(0x28e)]['includes'](_0x7f5456['admin']),'admin':_0x7f5456['admin'],'pushName':_0x4598a3?.[_0x5d6fca(0x725)],'profilePictureUrl':_0x4598a3?.[_0x5d6fca(0x82a)]};}),_0x21b531[_0x172a26(0x8a4)]=_0x3a93ca[_0x172a26(0x4a4)](_0xdc3b05=>{const _0x3de183=_0x172a26;let _0x50ea82=_0x3c6b44[_0x3de183(0x84a)](_0x14ee8f=>_0x14ee8f[_0x3de183(0x81f)]===_0xdc3b05['jid']);return{'id':_0xdc3b05[_0x3de183(0x7c5)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x50ea82?.[_0x3de183(0x725)],'profilePictureUrl':_0x50ea82?.['pictureUrl'],'request_method':_0xdc3b05['request_method'],'request_time':_0xdc3b05[_0x3de183(0x5db)]};});let _0x4d9c6b=await this[_0x172a26(0x58e)][_0x172a26(0x7cc)][_0x172a26(0x71b)]({'where':{'_id':_0x2f36dc[_0x172a26(0x7d9)]}},{'imagechat':_0x21b531['image'],'name':_0x21b531['subject'],'lastcache':Date[_0x172a26(0x54c)](),'groupdata':_0x21b531},this['instance'][_0x172a26(0x6e3)]);return U(this[_0x172a26(0x62b)],_0x172a26(0x829),{'chat':_0x4d9c6b}),{'metadata':_0x21b531};}catch(_0x599bdd){if(_0x3cfe79===_0x172a26(0x22e))return;throw new F('Error\x20fetching\x20group',_0x599bdd[_0x172a26(0x5fa)][_0x172a26(0x3d2)]());}}async['findGroups'](){const _0x567517=a0_0xad378c;try{this[_0x567517(0x86b)][_0x567517(0x575)]('Retornando\x20grupos\x20COM\x20cache');let _0x3cd44a=Date['now'](),_0x3f913b=0x3*0x3c*0x3c*0x3e8;return _0x3cd44a-this[_0x567517(0x6f2)]>_0x3f913b&&(this[_0x567517(0x3e8)](),this[_0x567517(0x6f2)]=_0x3cd44a),(await this['repository'][_0x567517(0x7cc)]['findGroupsEspecial']({'where':{'group':!0x0}},this['instance'][_0x567517(0x6e3)]))['map'](_0xf272a1=>({..._0xf272a1[_0x567517(0x39b)],'groupJid':_0xf272a1?.[_0x567517(0x81f)],'participants':_0xf272a1?.[_0x567517(0x39b)]?.[_0x567517(0x816)]||[],'awaitingApproval':_0xf272a1?.[_0x567517(0x39b)]?.[_0x567517(0x8a4)]||[],'image':_0xf272a1?.[_0x567517(0x7a2)]}));}catch(_0x4c8613){let _0x27091f=_0x567517(0x2d5),_0x2ac37e=_0x4c8613 instanceof Error?_0x4c8613[_0x567517(0x5fa)]:typeof _0x4c8613==_0x567517(0x429)?JSON[_0x567517(0x62f)](_0x4c8613):_0x4c8613,_0x2093cb=_0x27091f+':\x20'+_0x2ac37e;throw this[_0x567517(0x86b)][_0x567517(0x5fe)](this['instanceName']+'\x20('+this[_0x567517(0x5f5)][_0x567517(0x6e3)]+'):\x20'+_0x2093cb),new F(_0x2093cb);}}async['findRealGroups'](){const _0x4b0011=a0_0xad378c;try{this[_0x4b0011(0x86b)]['info']('Retornando\x20grupos\x20SEM\x20cache');let _0x232517=[],_0x30166a=await this['client']['groupFetchAllParticipating'](),_0x22cdf5=Object['values'](_0x30166a),_0x40534c=_0x22cdf5['filter'](_0x5361c8=>(0x0,w[_0x4b0011(0x47e)])(_0x5361c8?.['id']))['map'](async _0x3a252a=>{const _0x5c12ba=_0x4b0011;try{return await this[_0x5c12ba(0x37e)][_0x5c12ba(0x645)](_0x3a252a['id'],_0x5c12ba(0x2b4));}catch(_0x525fdf){return this[_0x5c12ba(0x86b)][_0x5c12ba(0x8cc)](this[_0x5c12ba(0x62b)]+'\x20('+this[_0x5c12ba(0x5f5)][_0x5c12ba(0x6e3)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x3a252a['id']+':\x20'+(_0x525fdf instanceof Error?_0x525fdf['message']:JSON[_0x5c12ba(0x62f)](_0x525fdf,null,0x2))),null;}}),_0x5e6144=await Promise[_0x4b0011(0x493)](_0x40534c);for(let _0x196a34=0x0;_0x196a34<_0x22cdf5['length'];_0x196a34++){let _0x5dac36=_0x22cdf5[_0x196a34];(0x0,w[_0x4b0011(0x47e)])(_0x5dac36?.['id'])&&(_0x232517[_0x4b0011(0x240)]({'groupJid':_0x5dac36?.['id'],'subject':_0x5dac36?.[_0x4b0011(0x1f2)],'subjectOwner':_0x5dac36?.[_0x4b0011(0x723)]?.[_0x4b0011(0x43a)]('@')[0x0],'subjectTime':_0x5dac36?.['subjectTime'],'creation':_0x5dac36?.[_0x4b0011(0x685)],'size':_0x5dac36?.[_0x4b0011(0x816)]?.[_0x4b0011(0x4f1)],'owner':_0x5dac36?.[_0x4b0011(0x86e)]?.[_0x4b0011(0x43a)]('@')[0x0],'desc':_0x5dac36?.[_0x4b0011(0x714)],'restrict':_0x5dac36?.['restrict'],'announce':_0x5dac36?.[_0x4b0011(0x5bb)],'image':_0x5e6144[_0x196a34],'isCommunity':_0x5dac36?.[_0x4b0011(0x313)],'joinApprovalMode':_0x5dac36?.[_0x4b0011(0x21e)],'memberCanAddParticipant':_0x5dac36?.[_0x4b0011(0x48f)],'participants':_0x5dac36?.[_0x4b0011(0x816)],'descOwner':_0x5dac36?.[_0x4b0011(0x6ab)],'descId':_0x5dac36?.['descId'],'memberAddMode':_0x5dac36?.[_0x4b0011(0x48f)],'isCommunityAnnounce':_0x5dac36?.[_0x4b0011(0x1c0)],'ephemeralDuration':_0x5dac36?.['ephemeralDuration']||0x0,'author':_0x5dac36?.['author']}),this[_0x4b0011(0x3d5)](_0x22cdf5[_0x196a34]));}return _0x232517;}catch(_0x161160){let _0x511519=_0x4b0011(0x741),_0x2d0f5d=_0x161160 instanceof Error?_0x161160['message']:typeof _0x161160=='object'?JSON[_0x4b0011(0x62f)](_0x161160):_0x161160,_0x3813c7=_0x511519+':\x20'+_0x2d0f5d;throw this[_0x4b0011(0x86b)][_0x4b0011(0x5fe)](this['instanceName']+'\x20('+this[_0x4b0011(0x5f5)][_0x4b0011(0x6e3)]+_0x4b0011(0x431)+_0x3813c7),new F(_0x3813c7);}}async[a0_0xad378c(0x3d5)](_0xee4458){const _0x5ac495=a0_0xad378c;let _0xc72c0c=await this['repository'][_0x5ac495(0x7cc)][_0x5ac495(0x5cc)]({'where':{'_id':_0xee4458['id']}},this['instance'][_0x5ac495(0x6e3)]);_0xee4458[_0x5ac495(0x409)]=_0xee4458?.[_0x5ac495(0x409)]&&_0xee4458[_0x5ac495(0x409)][_0x5ac495(0x3d2)]()[_0x5ac495(0x4f1)]<0xd?_0xee4458?.['subjectTime']*0x3e8:_0xee4458?.[_0x5ac495(0x409)]||null,_0xee4458[_0x5ac495(0x685)]=_0xee4458?.['creation']&&_0xee4458[_0x5ac495(0x685)]['toString']()[_0x5ac495(0x4f1)]<0xd?_0xee4458?.['creation']*0x3e8:_0xee4458?.[_0x5ac495(0x685)]||null;let _0x3be053=_0xc72c0c?.[_0x5ac495(0x39b)]?.['awaitingApproval']||[],_0x156ff9=_0xc72c0c?.[_0x5ac495(0x39b)]?.[_0x5ac495(0x5c0)],_0x1cce14=_0xee4458[_0x5ac495(0x816)]['map'](_0x31f210=>{const _0x45af9b=_0x5ac495;let _0x498a15=_0xc72c0c?.['groupdata']?.[_0x45af9b(0x816)][_0x45af9b(0x84a)](_0x304f44=>_0x304f44['id']===_0x31f210['id']);return{..._0x31f210,'isAdmin':[_0x45af9b(0x45f),_0x45af9b(0x28e)][_0x45af9b(0x77b)](_0x31f210[_0x45af9b(0x45f)]),'admin':_0x31f210[_0x45af9b(0x45f)],'name':_0x498a15?.['name']||_0x31f210[_0x45af9b(0x725)],'imgUrl':_0x498a15?.[_0x45af9b(0x784)]||_0x31f210[_0x45af9b(0x784)]};}),_0x34e5b6=_0x1cce14[_0x5ac495(0x79a)](_0x5d745=>_0x5d745['id']===this[_0x5ac495(0x5f5)][_0x5ac495(0x6e3)]+_0x5ac495(0x353)&&_0x5d745['isAdmin']),_0x26275f=(!_0xee4458[_0x5ac495(0x5bb)]||_0x34e5b6)&&(!_0xee4458[_0x5ac495(0x313)]||_0xee4458[_0x5ac495(0x313)]&&_0xee4458[_0x5ac495(0x1c0)]&&_0x34e5b6),_0x18a4c3={..._0xee4458,'participants':_0x1cce14,'awaitingApproval':_0x3be053,'lastFetchAwaitingApproval':_0x156ff9,'isAdmin':_0x34e5b6,'canSendMessage':_0x26275f,'lastUpdate':Date[_0x5ac495(0x54c)]()};await this[_0x5ac495(0x58e)][_0x5ac495(0x7cc)][_0x5ac495(0x71b)]({'where':{'_id':_0xee4458['id']}},{'name':_0xee4458[_0x5ac495(0x1f2)],'group':!0x0,'groupdata':_0x18a4c3,'lastcache':Date['now']()},this['instance']['wuid']),U(this[_0x5ac495(0x62b)],_0x5ac495(0x829),{'chat':_0xee4458});}async['updateGroupWebhook'](_0x429b9a){const _0x456342=a0_0xad378c;let _0x53ea15=await this[_0x456342(0x58e)][_0x456342(0x7cc)]['findOne']({'where':{'_id':_0x429b9a['id']}},this[_0x456342(0x5f5)][_0x456342(0x6e3)]);_0x429b9a[_0x456342(0x409)]=_0x429b9a?.[_0x456342(0x409)]&&_0x429b9a[_0x456342(0x409)][_0x456342(0x3d2)]()[_0x456342(0x4f1)]<0xd?_0x429b9a?.[_0x456342(0x409)]*0x3e8:_0x429b9a?.['subjectTime']||null,_0x429b9a['creation']=_0x429b9a?.[_0x456342(0x685)]&&_0x429b9a[_0x456342(0x685)][_0x456342(0x3d2)]()['length']<0xd?_0x429b9a?.[_0x456342(0x685)]*0x3e8:_0x429b9a?.[_0x456342(0x685)]||null,_0x429b9a[_0x456342(0x656)]&&(_0x429b9a[_0x456342(0x656)]=_0x456342(0x68f)+_0x429b9a[_0x456342(0x656)]);let _0x2b2cc2=_0x53ea15?.[_0x456342(0x39b)]?{..._0x53ea15[_0x456342(0x39b)]}:{};Object[_0x456342(0x178)](_0x429b9a)['forEach'](_0x25eb0c=>{_0x25eb0c!=='id'&&(_0x2b2cc2[_0x25eb0c]=_0x429b9a[_0x25eb0c]);});let _0xae138f=_0x2b2cc2['participants']?.[_0x456342(0x79a)](_0x124b15=>_0x124b15['id']===this['instance']['wuid']+'@s.whatsapp.net'&&_0x124b15[_0x456342(0x1c5)])||!0x1;_0x2b2cc2[_0x456342(0x1c5)]=_0xae138f;let _0x7cf806=(!_0x2b2cc2[_0x456342(0x5bb)]||_0xae138f)&&(!_0x2b2cc2[_0x456342(0x313)]||_0x2b2cc2[_0x456342(0x313)]&&_0x2b2cc2[_0x456342(0x1c0)]&&_0xae138f);_0x2b2cc2[_0x456342(0x3e6)]=_0x7cf806;let _0x103ac2={'group':!0x0,'groupdata':_0x2b2cc2};_0x429b9a['subject']&&(_0x103ac2[_0x456342(0x725)]=_0x429b9a[_0x456342(0x1f2)]),await this[_0x456342(0x58e)][_0x456342(0x7cc)][_0x456342(0x71b)]({'where':{'_id':_0x429b9a['id']}},_0x103ac2,this['instance']['wuid'],{'upsert':!0x0}),U(this[_0x456342(0x62b)],'chats',{'chat':_0x103ac2});}async['updateGroupParticipantsWebhook'](_0x3e0a0b){const _0x1b066b=a0_0xad378c;let _0x5e76f6=await this[_0x1b066b(0x58e)]['chat'][_0x1b066b(0x5cc)]({'where':{'_id':_0x3e0a0b['id']}},this[_0x1b066b(0x5f5)][_0x1b066b(0x6e3)]);if(!_0x5e76f6||!_0x5e76f6[_0x1b066b(0x39b)]){this[_0x1b066b(0x86b)][_0x1b066b(0x575)](this['instanceName']+'\x20('+this[_0x1b066b(0x5f5)][_0x1b066b(0x6e3)]+_0x1b066b(0x7d5)+_0x3e0a0b['id']);return;}let _0x2c6da6=await this[_0x1b066b(0x58e)][_0x1b066b(0x709)][_0x1b066b(0x5dc)](_0x3e0a0b['participants']),_0x216daf=[..._0x5e76f6[_0x1b066b(0x39b)]?.[_0x1b066b(0x816)]];switch(_0x3e0a0b[_0x1b066b(0x635)]){case'add':let _0x5c8e79=_0x2c6da6[_0x1b066b(0x4a4)](_0x1387fd=>({'id':_0x1387fd[_0x1b066b(0x81f)],'isAdmin':!0x1,'name':_0x1387fd[_0x1b066b(0x725)],'imgUrl':_0x1387fd[_0x1b066b(0x82a)]}));_0x216daf=[..._0x216daf,..._0x5c8e79];break;case _0x1b066b(0x5f3):_0x216daf=_0x216daf[_0x1b066b(0x3f3)](_0x17b2d3=>!_0x3e0a0b[_0x1b066b(0x816)][_0x1b066b(0x77b)](_0x17b2d3['id']));break;case _0x1b066b(0x720):case _0x1b066b(0x45b):_0x216daf=_0x216daf[_0x1b066b(0x4a4)](_0x2714f5=>_0x3e0a0b[_0x1b066b(0x816)]['includes'](_0x2714f5['id'])?{..._0x2714f5,'isAdmin':_0x3e0a0b['action']==='promote'}:_0x2714f5);break;}let _0xd814b7=_0x216daf[_0x1b066b(0x4f1)],_0x802d14=_0x216daf['some'](_0x515810=>_0x515810['id']===this[_0x1b066b(0x5f5)][_0x1b066b(0x6e3)]+_0x1b066b(0x353)),_0x131eb4=_0x802d14&&_0x216daf[_0x1b066b(0x79a)](_0x5d77d3=>_0x5d77d3['id']===this[_0x1b066b(0x5f5)][_0x1b066b(0x6e3)]+_0x1b066b(0x353)&&_0x5d77d3[_0x1b066b(0x1c5)]),_0xf640e1=_0x802d14&&(!_0x5e76f6['groupdata'][_0x1b066b(0x5bb)]||_0x131eb4)&&(!_0x5e76f6['groupdata'][_0x1b066b(0x313)]||_0x5e76f6['groupdata']['isCommunity']&&_0x131eb4);await this[_0x1b066b(0x58e)][_0x1b066b(0x7cc)]['updateOne']({'where':{'_id':_0x3e0a0b['id']}},{'groupdata':{..._0x5e76f6['groupdata'],'participants':_0x216daf,'size':_0xd814b7,'isAdmin':_0x131eb4,'canSendMessage':_0xf640e1}},this['instance'][_0x1b066b(0x6e3)]),this[_0x1b066b(0x86b)]['info'](this[_0x1b066b(0x62b)]+'\x20('+this[_0x1b066b(0x5f5)][_0x1b066b(0x6e3)]+_0x1b066b(0x40a)+_0x3e0a0b['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x3e0a0b['action']+_0x1b066b(0x734)+_0xd814b7+_0x1b066b(0x5a9)+_0x131eb4+_0x1b066b(0x19c)+_0xf640e1);}async[a0_0xad378c(0x656)](_0x26ff7e,_0x3f0698=!0x0){const _0x2f6e8c=a0_0xad378c;try{let _0x16c24a=await this[_0x2f6e8c(0x37e)][_0x2f6e8c(0x289)](_0x26ff7e[_0x2f6e8c(0x7d9)]),_0x1b4589={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x16c24a};if(_0x3f0698){let _0x4bfb9d=await this[_0x2f6e8c(0x58e)][_0x2f6e8c(0x7cc)][_0x2f6e8c(0x71b)]({'where':{'_id':_0x26ff7e[_0x2f6e8c(0x7d9)]}},_0x1b4589,this[_0x2f6e8c(0x5f5)][_0x2f6e8c(0x6e3)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x16c24a,'inviteCode':_0x16c24a};}catch(_0x417808){let _0x5e00b9=_0x2f6e8c(0x8b4),_0x5e6675=_0x417808 instanceof Error?_0x417808[_0x2f6e8c(0x5fa)]:typeof _0x417808=='object'?JSON['stringify'](_0x417808):_0x417808,_0x3ac75e=_0x5e00b9+':\x20'+_0x5e6675;throw this[_0x2f6e8c(0x86b)][_0x2f6e8c(0x5fe)](this[_0x2f6e8c(0x62b)]+'\x20('+this[_0x2f6e8c(0x5f5)][_0x2f6e8c(0x6e3)]+'):\x20'+_0x3ac75e),new F(_0x3ac75e);}}async[a0_0xad378c(0x4fd)](_0x17afc8){const _0x545720=a0_0xad378c;try{let _0x4f5fc0=await this[_0x545720(0x37e)][_0x545720(0x1f4)](_0x17afc8['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x545720(0x68f)+_0x4f5fc0,'inviteCode':_0x4f5fc0};}catch(_0x4a304e){let _0x3ca713='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x43444e=_0x4a304e instanceof Error?_0x4a304e[_0x545720(0x5fa)]:typeof _0x4a304e==_0x545720(0x429)?JSON[_0x545720(0x62f)](_0x4a304e):_0x4a304e,_0xb32de3=_0x3ca713+':\x20'+_0x43444e;throw this[_0x545720(0x86b)]['error'](this['instanceName']+'\x20('+this[_0x545720(0x5f5)]['wuid']+_0x545720(0x431)+_0xb32de3),new F(_0xb32de3);}}async[a0_0xad378c(0x751)](_0x1b814e){const _0x498599=a0_0xad378c;try{if((0x0,J['isURL'])(_0x1b814e[_0x498599(0x656)]))var _0x2a8ca3=_0x1b814e[_0x498599(0x656)]['split']('/')[0x3];else var _0x2a8ca3=_0x1b814e[_0x498599(0x656)];let _0x1705c5=await this['client'][_0x498599(0x69d)](_0x2a8ca3);return this[_0x498599(0x86b)][_0x498599(0x8cc)](this['instanceName']+'\x20('+this[_0x498599(0x5f5)]['wuid']+'):\x20'+_0x1705c5),{'join':!0x0,'inviteCode':_0x2a8ca3,'groupJid':_0x1705c5};}catch(_0xb6160c){let _0x59bc2a='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x174dcd=_0xb6160c instanceof Error?_0xb6160c[_0x498599(0x5fa)]:typeof _0xb6160c==_0x498599(0x429)?JSON[_0x498599(0x62f)](_0xb6160c):_0xb6160c,_0x583a56=_0x59bc2a+':\x20'+_0x174dcd;throw this[_0x498599(0x86b)]['error'](this['instanceName']+'\x20('+this[_0x498599(0x5f5)][_0x498599(0x6e3)]+_0x498599(0x431)+_0x583a56),new F(_0x583a56);}}async['findParticipants'](_0xeb3d4e){const _0x2daa9c=a0_0xad378c;try{return{'participants':(await this[_0x2daa9c(0x58e)][_0x2daa9c(0x7cc)][_0x2daa9c(0x5cc)]({'where':{'_id':_0xeb3d4e['groupJid']}},this[_0x2daa9c(0x5f5)][_0x2daa9c(0x6e3)]))[_0x2daa9c(0x39b)][_0x2daa9c(0x816)]};}catch(_0x1603b7){let _0x6ac887=_0x2daa9c(0x260),_0x49ce5b=_0x1603b7 instanceof Error?_0x1603b7[_0x2daa9c(0x5fa)]:typeof _0x1603b7=='object'?JSON[_0x2daa9c(0x62f)](_0x1603b7):_0x1603b7,_0x2de7ff=_0x6ac887+':\x20'+_0x49ce5b;throw this[_0x2daa9c(0x86b)][_0x2daa9c(0x5fe)](this[_0x2daa9c(0x62b)]+'\x20('+this[_0x2daa9c(0x5f5)][_0x2daa9c(0x6e3)]+'):\x20'+_0x2de7ff),new F(_0x2de7ff);}}async[a0_0xad378c(0x672)](_0x3e555a){const _0x48efb0=a0_0xad378c;try{return await this[_0x48efb0(0x37e)][_0x48efb0(0x771)](_0x3e555a[_0x48efb0(0x7d9)]),{'groupJid':_0x3e555a[_0x48efb0(0x7d9)],'leave':!0x0};}catch(_0x39b95a){let _0x1e9009=_0x48efb0(0x170),_0x48b6d3=_0x39b95a instanceof Error?_0x39b95a[_0x48efb0(0x5fa)]:typeof _0x39b95a==_0x48efb0(0x429)?JSON[_0x48efb0(0x62f)](_0x39b95a):_0x39b95a,_0x562cd6=_0x1e9009+':\x20'+_0x48b6d3;throw this[_0x48efb0(0x86b)]['error'](this[_0x48efb0(0x62b)]+'\x20('+this[_0x48efb0(0x5f5)]['wuid']+_0x48efb0(0x431)+_0x562cd6),new m(_0x562cd6);}}async[a0_0xad378c(0x824)](_0x27b5b7){const _0xcb12dc=a0_0xad378c;return await this[_0xcb12dc(0x2c6)](_0x27b5b7['number'],{'poll':{'name':_0x27b5b7['pollMessage']?.[_0xcb12dc(0x725)],'selectableCount':_0x27b5b7[_0xcb12dc(0x824)]['selectableCount'],'values':_0x27b5b7[_0xcb12dc(0x824)]['values']}},_0x27b5b7?.[_0xcb12dc(0x1d9)]);}async[a0_0xad378c(0x532)](_0x1d13fe){const _0x337fab=a0_0xad378c;return await this['sendMessageWithTyping'](_0x1d13fe[_0x337fab(0x570)],{'listMessage':{'title':_0x1d13fe[_0x337fab(0x532)][_0x337fab(0x3ce)],'description':_0x1d13fe[_0x337fab(0x532)][_0x337fab(0x5d9)],'buttonText':_0x1d13fe[_0x337fab(0x532)]?.[_0x337fab(0x1e0)],'footerText':_0x1d13fe[_0x337fab(0x532)]?.['footerText'],'sections':_0x1d13fe['listMessage'][_0x337fab(0x8c0)],'listType':0x2}},_0x1d13fe?.[_0x337fab(0x1d9)]);}async[a0_0xad378c(0x71a)](_0x483990){const _0x4ee2f5=a0_0xad378c;let _0x2c1840;if(_0x483990['menuMessage']['type']===_0x4ee2f5(0x58f)){let _0x5a598f=_0x483990[_0x4ee2f5(0x71a)]['text'][_0x4ee2f5(0x605)]('\x0a'),_0x563d99='',_0x50dea6='';_0x5a598f!==-0x1?(_0x563d99=_0x483990[_0x4ee2f5(0x71a)][_0x4ee2f5(0x34c)]['substring'](0x0,_0x5a598f)[_0x4ee2f5(0x4cf)](),_0x50dea6=_0x483990[_0x4ee2f5(0x71a)][_0x4ee2f5(0x34c)][_0x4ee2f5(0x562)](_0x5a598f+0x1)):_0x50dea6=_0x483990[_0x4ee2f5(0x71a)]['text'];let _0x1c0bbd=_0x483990[_0x4ee2f5(0x71a)][_0x4ee2f5(0x54a)][_0x4ee2f5(0x3f3)](_0x318743=>_0x318743[_0x4ee2f5(0x4cf)]()!==''),_0x1d2714=this[_0x4ee2f5(0x8e5)](_0x1c0bbd);_0x2c1840={'listMessage':{'title':_0x563d99,'description':_0x50dea6,'buttonText':_0x483990[_0x4ee2f5(0x71a)]['buttonText']||_0x4ee2f5(0x895),'footerText':_0x483990[_0x4ee2f5(0x71a)][_0x4ee2f5(0x26e)],'sections':_0x1d2714,'listType':0x2}};}else{if(_0x483990['menuMessage'][_0x4ee2f5(0x6a2)]==='poll'){let _0x845a60=_0x483990[_0x4ee2f5(0x71a)][_0x4ee2f5(0x54a)][_0x4ee2f5(0x3f3)](_0x4d2d3a=>!(_0x4d2d3a[_0x4ee2f5(0x598)]('[')&&_0x4d2d3a[_0x4ee2f5(0x343)](']'))&&_0x4d2d3a[_0x4ee2f5(0x4cf)]()!=='')[_0x4ee2f5(0x4a4)](_0x78d7c9=>_0x78d7c9[_0x4ee2f5(0x43a)]('\x0a')[0x0]);for(;_0x845a60[_0x4ee2f5(0x4f1)]<0x2;)_0x845a60[_0x4ee2f5(0x240)](_0x4ee2f5(0x814)+(_0x845a60[_0x4ee2f5(0x4f1)]+0x1));_0x2c1840={'poll':{'name':_0x483990[_0x4ee2f5(0x71a)][_0x4ee2f5(0x34c)],'selectableCount':_0x483990[_0x4ee2f5(0x71a)][_0x4ee2f5(0x737)]||0x1,'values':_0x845a60}};}else{if(_0x483990['menuMessage'][_0x4ee2f5(0x6a2)]===_0x4ee2f5(0x626)){let _0x1163f5=this['createButtonsFromValues'](_0x483990[_0x4ee2f5(0x71a)][_0x4ee2f5(0x54a)][_0x4ee2f5(0x3f3)](_0x413c65=>!(_0x413c65['startsWith']('[')&&_0x413c65['endsWith'](']'))));return _0x2c1840={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x483990['menuMessage'][_0x4ee2f5(0x34c)]},'footer':_0x483990['menuMessage']['footerText']?{'text':_0x483990[_0x4ee2f5(0x71a)]['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x1163f5,'messageParamsJson':JSON[_0x4ee2f5(0x62f)]({'from':'api','templateId':_0x4ee2f5(0x55e)+(0x0,re['randomBytes'])(0x12)[_0x4ee2f5(0x3d2)]('hex')[_0x4ee2f5(0x422)]()})}}}}},await this[_0x4ee2f5(0x1e9)](_0x483990[_0x4ee2f5(0x570)],_0x2c1840,_0x483990?.[_0x4ee2f5(0x1d9)]);}else{if(_0x483990[_0x4ee2f5(0x71a)][_0x4ee2f5(0x6a2)]===_0x4ee2f5(0x2da)){let _0x5bb3ad=this[_0x4ee2f5(0x509)](_0x483990[_0x4ee2f5(0x71a)][_0x4ee2f5(0x54a)]);return _0x2c1840={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x483990[_0x4ee2f5(0x71a)][_0x4ee2f5(0x34c)]},'footer':_0x483990[_0x4ee2f5(0x71a)][_0x4ee2f5(0x26e)]?{'text':_0x483990['menuMessage'][_0x4ee2f5(0x26e)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x5bb3ad,'messageParamsJson':JSON['stringify']({'from':_0x4ee2f5(0x189),'templateId':'3EB0'+(0x0,re[_0x4ee2f5(0x7b1)])(0x12)[_0x4ee2f5(0x3d2)]('hex')[_0x4ee2f5(0x422)]()})}}}}},await this[_0x4ee2f5(0x1e9)](_0x483990[_0x4ee2f5(0x570)],_0x2c1840,_0x483990?.[_0x4ee2f5(0x1d9)]);}}}}return await this['sendMessageWithTyping'](_0x483990[_0x4ee2f5(0x570)],_0x2c1840,_0x483990?.[_0x4ee2f5(0x1d9)]);}[a0_0xad378c(0x298)](_0x5a28d8){const _0x416e87=a0_0xad378c;return _0x5a28d8[_0x416e87(0x4a4)](_0x80521=>{const _0x26362c=_0x416e87;let _0x4b5dc3=_0x80521[_0x26362c(0x43a)]('\x0a')['map'](_0x16e513=>_0x16e513['trim']()),_0x5a894a=_0x4b5dc3[0x0],_0x2992f8=_0x4b5dc3[0x1]||_0x5a894a,_0x3b3691=_0x2992f8[_0x26362c(0x598)](_0x26362c(0x443))?_0x26362c(0x231):_0x26362c(0x5ca);return{'name':_0x3b3691,'buttonParamsJson':JSON['stringify']({'display_text':_0x5a894a,'id':_0x3b3691===_0x26362c(0x5ca)?_0x2992f8:void 0x0,'url':_0x3b3691===_0x26362c(0x231)?_0x2992f8:void 0x0})};});}[a0_0xad378c(0x509)](_0x458a40){const _0x10541b=a0_0xad378c;let _0x9bea0f=[],_0x1e3ae2={'title':'','rows':[]};return _0x458a40[_0x10541b(0x6db)](_0x214d9f=>{const _0x3424fc=_0x10541b;if(_0x214d9f[_0x3424fc(0x598)]('[')&&_0x214d9f[_0x3424fc(0x343)](']'))_0x1e3ae2['rows'][_0x3424fc(0x4f1)]>0x0&&_0x9bea0f[_0x3424fc(0x240)](_0x1e3ae2),_0x1e3ae2={'title':_0x214d9f['slice'](0x1,-0x1),'rows':[]};else{let _0xf75a1f=_0x214d9f[_0x3424fc(0x43a)]('\x0a')[_0x3424fc(0x4a4)](_0x4be0a6=>_0x4be0a6['trim']()),_0x2d7a18=_0xf75a1f[0x0],_0xb98213=_0xf75a1f[0x1]?_0xf75a1f[0x1]:void 0x0,_0x5cbe5f=_0xf75a1f[0x2]||_0x2d7a18;_0x1e3ae2[_0x3424fc(0x74e)][_0x3424fc(0x240)]({'title':_0x2d7a18,'description':_0xb98213,'id':_0x5cbe5f});}}),_0x1e3ae2[_0x10541b(0x74e)][_0x10541b(0x4f1)]>0x0&&_0x9bea0f[_0x10541b(0x240)](_0x1e3ae2),[{'name':_0x10541b(0x8e1),'buttonParamsJson':JSON[_0x10541b(0x62f)]({'title':_0x10541b(0x8a0),'sections':_0x9bea0f})}];}['createSectionsFromValues'](_0x178889){const _0x1cf1aa=a0_0xad378c;let _0x53795b=[],_0x290777={'rows':[]};return _0x178889[_0x1cf1aa(0x6db)](_0x2d7a5e=>{const _0x40539d=_0x1cf1aa;if(_0x2d7a5e[_0x40539d(0x598)]('[')&&_0x2d7a5e[_0x40539d(0x343)](']'))_0x290777[_0x40539d(0x74e)]['length']>0x0&&_0x53795b[_0x40539d(0x240)](_0x290777),_0x290777={'title':_0x2d7a5e[_0x40539d(0x430)](0x1,-0x1),'rows':[]};else{let _0x49b719=_0x2d7a5e['split']('\x0a')[_0x40539d(0x4a4)](_0x168597=>_0x168597[_0x40539d(0x4cf)]()),_0x6d1da5=_0x49b719[0x0],_0x140549=_0x49b719[0x1]||null,_0x58625e=_0x49b719[0x2]||_0x6d1da5;_0x290777['rows'][_0x40539d(0x240)]({'title':_0x6d1da5,'description':_0x140549,'rowId':_0x58625e});}}),_0x290777[_0x1cf1aa(0x74e)]['length']>0x0&&_0x53795b[_0x1cf1aa(0x240)](_0x290777),_0x53795b;}async[a0_0xad378c(0x1e5)](_0x379065,_0x523692){const _0x430acc=a0_0xad378c;if(await this[_0x430acc(0x374)](_0x379065,!0x0)){let _0x31c33f={'where':{'_id':_0x379065['id']}},_0x5f3360={'status':[_0x523692[_0x430acc(0x616)]][0x0]};try{let _0x194bb6=await this[_0x430acc(0x58e)][_0x430acc(0x5fa)][_0x430acc(0x29d)](_0x31c33f,_0x5f3360,this['instance'][_0x430acc(0x6e3)]);_0x194bb6&&U(this['instanceName'],_0x430acc(0x624),{'message':_0x194bb6});}catch{}}}['sectionsToString'](_0x58907f){const _0x4fc6c4=a0_0xad378c;let _0x4071fc=[];return _0x58907f['forEach'](_0x2af5f5=>{const _0x22fbc7=a0_0x4c1f;_0x2af5f5[_0x22fbc7(0x3ce)]&&_0x4071fc['push']('['+_0x2af5f5[_0x22fbc7(0x3ce)]+']'),_0x2af5f5[_0x22fbc7(0x74e)][_0x22fbc7(0x6db)](_0x5e97ab=>{const _0x2ff818=_0x22fbc7;_0x4071fc[_0x2ff818(0x240)](_0x5e97ab['title']);});}),_0x4071fc[_0x4fc6c4(0x6b9)]('|');}[a0_0xad378c(0x395)](_0x47b9ef){const _0x17c8b9=a0_0xad378c;let _0x4dce98=_0x47b9ef[_0x17c8b9(0x568)](/\\n/g,'\x0a')[_0x17c8b9(0x43a)]('\x0a')[_0x17c8b9(0x3f3)](_0x59797e=>_0x59797e['includes'](_0x17c8b9(0x866))||_0x59797e[_0x17c8b9(0x77b)](_0x17c8b9(0x478))),_0x3e90ef='';return _0x4dce98[_0x17c8b9(0x6db)](_0x4df3a2=>{const _0x2092ff=_0x17c8b9;let _0x559f9c=/TEL(?:.*):(.+)/,_0x3e12e1=/EMAIL(?:.*):(.+)/,_0xf555eb=_0x4df3a2['match'](_0x559f9c),_0x45d86a=_0x4df3a2[_0x2092ff(0x59b)](_0x3e12e1);if(_0xf555eb){let _0x49494a=_0xf555eb[0x1][_0x2092ff(0x568)](/-| |\+|\(|\)/g,'')[_0x2092ff(0x4cf)]();_0x3e90ef+=_0x2092ff(0x7e8)+_0x49494a+'\x0a';}else{if(_0x45d86a){let _0x2e70bb=_0x45d86a[0x1][_0x2092ff(0x4cf)]();_0x3e90ef+='E-mail:\x20'+_0x2e70bb+'\x0a';}}}),_0x3e90ef[_0x17c8b9(0x4cf)]();}async['updateChatWithMessage'](_0x1393d5,_0x5a2642,_0xe8a4e3,_0x57a852=null){const _0x250083=a0_0xad378c;if(_0x1393d5[_0x250083(0x785)])try{let _0x4d7d7f=_0x5a2642[_0x250083(0x4ff)]['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x168f87=_0x5a2642['key'][_0x250083(0x587)],_0x28c4ce=_0x4d7d7f['endsWith'](_0x250083(0x577)),_0x1166a4=_0x5a2642[_0x250083(0x20a)]?.['replace'](/:\d{1,2}@/g,'@')||'',_0x51d3d7=_0x5a2642[_0x250083(0x282)]?.[_0x250083(0x34c)]||_0x5a2642[_0x250083(0x282)]?.[_0x250083(0x5f7)]||_0x5a2642[_0x250083(0x282)]?.[_0x250083(0x873)]||_0x5a2642[_0x250083(0x282)]?.[_0x250083(0x725)]||'',_0x49b78b={'_id':_0x5a2642[_0x250083(0x81f)],'remoteJid':_0x168f87?this[_0x250083(0x5f5)]['wuid']:_0x28c4ce?_0x1166a4:_0x4d7d7f,'pushName':_0x168f87?this[_0x250083(0x5f5)][_0x250083(0x27a)]||'Eu':_0x5a2642[_0x250083(0x640)],'text':_0x51d3d7,'type':_0x5a2642['messageType'],'when':_0x5a2642[_0x250083(0x31d)]||Date['now']()};_0x57a852||(_0x57a852=await this[_0x250083(0x58e)]['chat'][_0x250083(0x5cc)]({'where':{'_id':_0x4d7d7f}},this[_0x250083(0x5f5)][_0x250083(0x6e3)]));let _0x113357=_0x168f87?0x0:_0x57a852?(_0x57a852[_0x250083(0x7a8)]||0x0)+0x1:0x1,_0x3f1bad={'lastmsg':_0x5a2642[_0x250083(0x31d)]||Date[_0x250083(0x54c)](),'ephemeralExpiration':_0x5a2642[_0x250083(0x715)],'lastMessage':_0x49b78b,'unreadcount':_0x113357,..._0x168f87||_0x28c4ce?{}:{'name':_0x5a2642['pushName']},..._0x28c4ce?{'group':_0x28c4ce}:{},...!_0x168f87&&!_0x28c4ce&&_0x5a2642[_0x250083(0x645)]?{'imagechat':_0x5a2642['profilePictureUrl']}:{}};if(!_0x28c4ce&&(!_0x57a852?.[_0x250083(0x52b)]||!_0x57a852[_0x250083(0x52b)][_0x250083(0x54d)])&&_0x5a2642[_0x250083(0x640)]&&!_0x168f87&&(_0x3f1bad={..._0x3f1bad,'leadInfo.nome':_0x5a2642['pushName']}),_0x57a852?.['leadInfo'][_0x250083(0x64a)]||(_0x3f1bad={..._0x3f1bad,'leadInfo.etiquetas':[]}),_0x57a852?.[_0x250083(0x52b)][_0x250083(0x869)]||(_0x3f1bad={..._0x3f1bad,'leadInfo.customFields':[]}),_0x57a852?.[_0x250083(0x52b)][_0x250083(0x451)]||(_0x3f1bad={..._0x3f1bad,'leadInfo.tags':[]}),_0x57a852&&_0x57a852?.[_0x250083(0x185)]){let _0x486414=await this[_0x250083(0x58e)][_0x250083(0x6ec)][_0x250083(0x84a)]({'where':{}},this['instance'][_0x250083(0x6e3)]),_0x45a078=new Set(_0x486414[_0x250083(0x4a4)](_0x235f7a=>_0x235f7a['_id'])),_0x4de049=(_0x57a852['leadInfo']?.[_0x250083(0x64a)]||[])['filter'](_0x56f3d8=>_0x45a078['has'](_0x56f3d8));_0x3f1bad={..._0x3f1bad,'imported':!0x1,'leadInfo.etiquetas':_0x4de049};for(let _0x2d6045 of _0x4de049)await this['AddChatLabel'](_0x2d6045,_0x4d7d7f);}if(!this[_0x250083(0x611)]['flows'][_0x250083(0x84a)](_0x3efef6=>_0x3efef6['startCommand']&&_0x51d3d7[_0x250083(0x77b)](_0x3efef6[_0x250083(0x6da)]))&&_0xe8a4e3===_0x250083(0x8d6)&&_0x168f87&&this[_0x250083(0x611)]?.[_0x250083(0x18e)][_0x250083(0x257)]&&_0x51d3d7['trim']()!==this[_0x250083(0x611)]?.['flowConfig'][_0x250083(0x3dc)]['trim']()){let _0x3b3f5d=(this[_0x250083(0x611)]?.[_0x250083(0x18e)][_0x250083(0x43e)]||0x0)*0xea60,_0x83f892=Date[_0x250083(0x54c)]()+_0x3b3f5d;_0x57a852?.[_0x250083(0x52b)]?.['desativadoFluxoAte']===0x0||(_0x3f1bad={..._0x3f1bad,'leadInfo.desativadoFluxoAte':_0x83f892},this['logger'][_0x250083(0x8cc)](this[_0x250083(0x62b)]+'\x20('+this[_0x250083(0x5f5)][_0x250083(0x6e3)]+_0x250083(0x66a)+_0x83f892+'.'));}if(_0x51d3d7['trim']()===this[_0x250083(0x611)]?.['flowConfig'][_0x250083(0x3dc)][_0x250083(0x4cf)]()){this[_0x250083(0x86b)]['verbose'](this[_0x250083(0x62b)]+'\x20('+this['instance'][_0x250083(0x6e3)]+_0x250083(0x415)+_0x51d3d7);let _0x406136=Date[_0x250083(0x54c)]();this[_0x250083(0x611)]?.[_0x250083(0x18e)][_0x250083(0x3aa)]===0x0?_0x3f1bad={..._0x3f1bad,'leadInfo.desativadoFluxoAte':_0x406136+0x7591f6200}:_0x3f1bad={..._0x3f1bad,'leadInfo.desativadoFluxoAte':_0x406136+this[_0x250083(0x611)]?.['flowConfig'][_0x250083(0x3aa)]*0x3c*0x3e8};}if(_0x57a852=await this[_0x250083(0x58e)][_0x250083(0x7cc)][_0x250083(0x71b)]({'where':{'_id':_0x4d7d7f}},_0x3f1bad,this[_0x250083(0x5f5)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x57a852)U(this[_0x250083(0x62b)],'chats',{'chat':_0x57a852});else{this['logger'][_0x250083(0x5fe)](this['instanceName']+'\x20('+this[_0x250083(0x5f5)][_0x250083(0x6e3)]+_0x250083(0x60b));return;}if(_0x168f87)return this[_0x250083(0x86b)][_0x250083(0x8cc)](this[_0x250083(0x62b)]+'\x20('+this[_0x250083(0x5f5)][_0x250083(0x6e3)]+'):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...'),null;if(!this[_0x250083(0x611)]?.[_0x250083(0x18e)]['enabled'])return this[_0x250083(0x86b)]['verbose'](this[_0x250083(0x62b)]+'\x20('+this['instance'][_0x250083(0x6e3)]+_0x250083(0x365)),null;if(_0x57a852[_0x250083(0x81f)]['includes']('@g.us')&&this[_0x250083(0x611)]?.[_0x250083(0x18e)][_0x250083(0x462)]===!0x0)return this[_0x250083(0x86b)][_0x250083(0x8cc)](this['instanceName']+'\x20('+this[_0x250083(0x5f5)][_0x250083(0x6e3)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x57a852[_0x250083(0x52b)]){if(_0x57a852[_0x250083(0x52b)][_0x250083(0x367)]===0x0||_0x57a852[_0x250083(0x52b)][_0x250083(0x6e4)])return this[_0x250083(0x86b)][_0x250083(0x8cc)](this[_0x250083(0x62b)]+'\x20('+this[_0x250083(0x5f5)][_0x250083(0x6e3)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x4d7d7f+_0x250083(0x859)),null;if(_0x57a852[_0x250083(0x52b)][_0x250083(0x367)]>Date[_0x250083(0x54c)]()&&!_0x5a2642['message_normalized']?.[_0x250083(0x873)])return this[_0x250083(0x86b)][_0x250083(0x8cc)](this[_0x250083(0x62b)]+'\x20('+this[_0x250083(0x5f5)][_0x250083(0x6e3)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x57a852['leadInfo'][_0x250083(0x367)])['toLocaleString']()+',\x20saindo.'),null;}this['logger'][_0x250083(0x8cc)](this[_0x250083(0x62b)]+'\x20('+this[_0x250083(0x5f5)][_0x250083(0x6e3)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this['StartBot'](_0x5a2642,_0xe8a4e3);}catch(_0x35e4ef){let _0xbf4a34='Erro\x20na\x20função\x20updateChatWithMessage:\x20',_0x34580b=_0x35e4ef instanceof Error?_0x35e4ef[_0x250083(0x5fa)]:typeof _0x35e4ef=='object'?JSON[_0x250083(0x62f)](_0x35e4ef):_0x35e4ef,_0x4c45af=_0xbf4a34+':\x20'+_0x34580b;return this[_0x250083(0x86b)][_0x250083(0x5fe)](this[_0x250083(0x62b)]+'\x20('+this[_0x250083(0x5f5)][_0x250083(0x6e3)]+'):\x20'+_0x4c45af),null;}}async['upsertChats'](_0x2c7882,_0x402cde){const _0x73c4a=a0_0xad378c;if(_0x402cde[_0x73c4a(0x785)]){let _0x3f155b=_0x2c7882[_0x73c4a(0x4a4)](async _0x4188f1=>{const _0x1700f2=_0x73c4a;try{let _0x56c0c4={'_id':_0x4188f1[_0x1700f2(0x81f)],'owner':_0x4188f1['owner'],'lastcache':0x0};if(Object['keys'](_0x4188f1)[_0x1700f2(0x6db)](_0x4ee114=>{_0x4188f1[_0x4ee114]!==null&&(_0x56c0c4[_0x4ee114]=_0x4188f1[_0x4ee114]);}),_0x56c0c4['imagechat']===null&&(_0x56c0c4[_0x1700f2(0x7a2)]=_0x1700f2(0x47d)),Object[_0x1700f2(0x178)](_0x56c0c4)['length']>0x0)return await this[_0x1700f2(0x58e)][_0x1700f2(0x7cc)][_0x1700f2(0x71b)]({'where':{'_id':_0x4188f1[_0x1700f2(0x81f)]}},_0x56c0c4,this[_0x1700f2(0x5f5)][_0x1700f2(0x6e3)]);}catch(_0x8cf79c){let _0x474eeb=_0x1700f2(0x33c)+_0x4188f1[_0x1700f2(0x81f)],_0x104d76=_0x8cf79c instanceof Error?_0x8cf79c[_0x1700f2(0x5fa)]:typeof _0x8cf79c==_0x1700f2(0x429)?JSON['stringify'](_0x8cf79c):_0x8cf79c,_0x5f2d7d=_0x474eeb+':\x20'+_0x104d76;return this[_0x1700f2(0x86b)][_0x1700f2(0x5fe)](this[_0x1700f2(0x62b)]+'\x20('+this[_0x1700f2(0x5f5)]['wuid']+_0x1700f2(0x431)+_0x5f2d7d),null;}}),_0x19b4e4=(await Promise[_0x73c4a(0x493)](_0x3f155b))[_0x73c4a(0x3f3)](_0x4dc14f=>_0x4dc14f!==null)['length'];this[_0x73c4a(0x86b)][_0x73c4a(0x8cc)](this[_0x73c4a(0x62b)]+'\x20('+this[_0x73c4a(0x5f5)][_0x73c4a(0x6e3)]+_0x73c4a(0x431)+_0x19b4e4+'\x20chats\x20de\x20'+this[_0x73c4a(0x5f5)][_0x73c4a(0x6e3)]+_0x73c4a(0x736));}}async['readMessageBot'](_0x17ca9c){const _0x244cc7=a0_0xad378c;this['logger'][_0x244cc7(0x8cc)](this[_0x244cc7(0x62b)]+'\x20('+this[_0x244cc7(0x5f5)]['wuid']+'):\x20Ler\x20mensagem');let _0x2e0221={'readMessages':[{'remoteJid':_0x17ca9c[_0x244cc7(0x235)][_0x244cc7(0x629)][_0x244cc7(0x4ff)][_0x244cc7(0x436)],'fromMe':_0x17ca9c[_0x244cc7(0x235)][_0x244cc7(0x629)][_0x244cc7(0x4ff)]['fromMe'],'id':_0x17ca9c[_0x244cc7(0x235)][_0x244cc7(0x629)][_0x244cc7(0x4ff)]['id']}]};await this[_0x244cc7(0x703)](_0x2e0221);}async[a0_0xad378c(0x20d)](_0x296bb0,_0x5971bd){const _0x143910=a0_0xad378c;try{let {key:_0xdf3d5,message_normalized:_0x4aade2}=_0x296bb0,_0x54f21c=_0x4aade2,_0x3ce8ec=_0x4aade2['text']||_0x4aade2[_0x143910(0x5f7)]||_0x4aade2['vote']||_0x4aade2['name']||'',_0x415738=_0xdf3d5[_0x143910(0x436)],_0x68f562=null,_0x5c93cc=this[_0x143910(0x611)]['flows'][_0x143910(0x84a)](_0x14d569=>_0x14d569[_0x143910(0x6da)]&&_0x3ce8ec[_0x143910(0x77b)](_0x14d569[_0x143910(0x6da)]));if(_0x5c93cc&&_0x5971bd===_0x143910(0x8d6)){let _0x4da8f6=await this[_0x143910(0x58e)][_0x143910(0x77f)][_0x143910(0x5cc)]({'where':{'_id':_0x5c93cc[_0x143910(0x81f)]}});if(this[_0x143910(0x86b)][_0x143910(0x8cc)](this[_0x143910(0x62b)]+'\x20('+this[_0x143910(0x5f5)][_0x143910(0x6e3)]+_0x143910(0x7f7)),_0x4da8f6&&_0x4da8f6[_0x143910(0x7e6)]?.[_0x143910(0x77b)](this[_0x143910(0x5f5)][_0x143910(0x6e3)]))_0x68f562=await this[_0x143910(0x30a)](_0x4da8f6,_0xdf3d5,_0x54f21c);else return this['logger'][_0x143910(0x8cc)](this[_0x143910(0x62b)]+'\x20('+this[_0x143910(0x5f5)]['wuid']+_0x143910(0x727)),null;}else this['logger'][_0x143910(0x8cc)](this[_0x143910(0x62b)]+'\x20('+this[_0x143910(0x5f5)][_0x143910(0x6e3)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand');if(_0x68f562=await this[_0x143910(0x402)](_0x415738,_0x54f21c),_0x68f562){this['logger'][_0x143910(0x8cc)](this[_0x143910(0x62b)]+'\x20('+this[_0x143910(0x5f5)]['wuid']+_0x143910(0x662)),!_0xdf3d5[_0x143910(0x587)]&&_0x68f562[_0x143910(0x5ea)]&&this[_0x143910(0x742)](_0x68f562);let _0x31190c=await this[_0x143910(0x67d)](_0x68f562);_0x31190c&&await this['processblock'](_0x68f562,_0x31190c);}}catch(_0x2756c3){this[_0x143910(0x86b)]['error'](this[_0x143910(0x62b)]+'\x20('+this[_0x143910(0x5f5)][_0x143910(0x6e3)]+_0x143910(0x41a)+(_0x2756c3 instanceof Error?_0x2756c3[_0x143910(0x5fa)]:JSON[_0x143910(0x62f)](_0x2756c3,null,0x2)));}}[a0_0xad378c(0x3e9)](_0x50dee3,_0x3bb6e3='',_0x3ea452={}){const _0x1fff22=a0_0xad378c;return typeof _0x50dee3!='object'||_0x50dee3===null?(_0x3bb6e3&&(_0x3ea452[_0x3bb6e3]=_0x50dee3),_0x3ea452):(Object[_0x1fff22(0x794)](_0x50dee3)[_0x1fff22(0x6db)](([_0xb5a723,_0x1c6fb0])=>{const _0x29dd4c=_0x1fff22;let _0x1a4460=_0x3bb6e3?_0x3bb6e3+'.'+_0xb5a723:'_'+_0xb5a723;Array[_0x29dd4c(0x5ab)](_0x1c6fb0)?_0x1c6fb0['forEach']((_0x406db9,_0x286681)=>{const _0x5bdfe6=_0x29dd4c;this[_0x5bdfe6(0x3e9)](_0x406db9,_0x1a4460+'['+_0x286681+']',_0x3ea452);}):typeof _0x1c6fb0==_0x29dd4c(0x429)&&_0x1c6fb0!==null?this[_0x29dd4c(0x3e9)](_0x1c6fb0,_0x1a4460,_0x3ea452):_0x3ea452[_0x1a4460]=String(_0x1c6fb0);}),_0x3ea452);}[a0_0xad378c(0x776)](_0x39058e){const _0x5cc216=a0_0xad378c;let _0x4d7dcb={};for(let _0x3dd157 of _0x39058e)typeof _0x3dd157[_0x5cc216(0x725)]==_0x5cc216(0x38a)&&typeof _0x3dd157[_0x5cc216(0x867)]=='string'&&(_0x4d7dcb[_0x3dd157[_0x5cc216(0x725)]]=_0x3dd157[_0x5cc216(0x867)]);return _0x4d7dcb;}async[a0_0xad378c(0x67d)](_0xaf732f){const _0x32f75d=a0_0xad378c;if(!this['AutomateSystem']?.[_0x32f75d(0x18e)][_0x32f75d(0x257)]||_0xaf732f[_0x32f75d(0x616)]!=='open'&&_0xaf732f[_0x32f75d(0x8bb)]==='')return null;let _0x3fc3d2=_0xaf732f[_0x32f75d(0x235)]['lastBlockId']||_0x32f75d(0x4c1);typeof _0xaf732f['chatLog']['lastCondition']>'u'&&(_0xaf732f[_0x32f75d(0x235)][_0x32f75d(0x34a)]=!0x0);let _0x4efe4d=_0xaf732f[_0x32f75d(0x235)][_0x32f75d(0x34a)];this[_0x32f75d(0x86b)]['verbose'](this[_0x32f75d(0x62b)]+'\x20('+this[_0x32f75d(0x5f5)]['wuid']+_0x32f75d(0x747)+_0x3fc3d2+_0x32f75d(0x83b)+_0x4efe4d);let _0x54a01c=_0x3fc3d2===_0x32f75d(0x4c1)?_0xaf732f[_0x32f75d(0x5d3)][_0x32f75d(0x84a)](_0x423e65=>_0x423e65['type']===_0x32f75d(0x4c1)):_0xaf732f[_0x32f75d(0x5d3)][_0x32f75d(0x84a)](_0x257994=>_0x257994[_0x32f75d(0x81f)][_0x32f75d(0x3d2)]()===_0x3fc3d2[_0x32f75d(0x3d2)]());if(!_0x54a01c)return this['logger']['error'](this[_0x32f75d(0x62b)]+'\x20('+this[_0x32f75d(0x5f5)][_0x32f75d(0x6e3)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x3fc3d2),null;let _0x1d1ad8={'_pushName':_0xaf732f?.[_0x32f75d(0x235)]?.[_0x32f75d(0x629)]?.[_0x32f75d(0x640)]||'','_sender':this['instance'][_0x32f75d(0x6e3)]||'',..._0xaf732f['chatLog']['realVariables']},_0x508d60=new Date();_0x1d1ad8[_0x32f75d(0x505)]=_0x508d60[_0x32f75d(0x542)](),_0x1d1ad8[_0x32f75d(0x767)]=_0x508d60[_0x32f75d(0x7aa)]()+0x1,_0x1d1ad8['_year']=_0x508d60[_0x32f75d(0x46c)](),_0x1d1ad8['_hour']=_0x508d60[_0x32f75d(0x882)](),_0x1d1ad8[_0x32f75d(0x51a)]=_0x508d60['getMinutes'](),_0x1d1ad8[_0x32f75d(0x730)]=_0x508d60[_0x32f75d(0x858)]();let _0x3e679e=null;if(_0xaf732f['waitingMenu_id']){let _0x1403a4=_0xaf732f[_0x32f75d(0x235)][_0x32f75d(0x629)]['vote'],_0x3e44cc=_0xaf732f[_0x32f75d(0x1bf)][_0x32f75d(0x84a)](_0x58601b=>_0x58601b[_0x32f75d(0x6af)]===_0x1403a4);if(_0x3e44cc){let _0x293ac0=_0x3e44cc[_0x32f75d(0x8de)];if(_0x3e679e=_0xaf732f['blocks'][_0x32f75d(0x84a)](_0x23cbb5=>_0x23cbb5['groupId']===_0x293ac0&&_0x23cbb5[_0x32f75d(0x1d2)]===0x1),_0x54a01c[_0x32f75d(0x679)][_0x32f75d(0x435)]){let _0x533e72={'id':_0xaf732f[_0x32f75d(0x8bb)],'remoteJid':_0xaf732f[_0x32f75d(0x436)],'fromMe':!0x0};await this['deleteMessage'](_0x533e72);}if(_0x54a01c['uazapi'][_0x32f75d(0x435)]&&_0x54a01c[_0x32f75d(0x679)]['pollMessageOnDelete']&&_0x54a01c[_0x32f75d(0x679)][_0x32f75d(0x6e5)]===_0x32f75d(0x3a2)){let _0x49692c={'number':_0xaf732f[_0x32f75d(0x436)],'options':{'delay':0x0},'textMessage':{'text':_0x32f75d(0x281)+_0xaf732f[_0x32f75d(0x49e)]+'\x0a*Você\x20respondeu*:\x0a'+_0x1403a4}};await this[_0x32f75d(0x35d)](_0x49692c);}_0x1d1ad8[_0x32f75d(0x58b)]=_0x1403a4,_0xaf732f[_0x32f75d(0x616)]=_0x32f75d(0x522),_0xaf732f['waitingMenu_id']='',_0xaf732f[_0x32f75d(0x49e)]='',_0xaf732f[_0x32f75d(0x1bf)]=[];}else{this[_0x32f75d(0x86b)][_0x32f75d(0x8cc)](this[_0x32f75d(0x62b)]+'\x20('+this['instance'][_0x32f75d(0x6e3)]+_0x32f75d(0x47c));let _0x36d5e8={'activatedCount':_0xaf732f['chatLog'][_0x32f75d(0x318)][_0x32f75d(0x3f3)](_0x177b85=>String(_0x177b85[_0x32f75d(0x259)])===String(_0x3fc3d2))[_0x32f75d(0x4f1)],'moreLogs':[_0x32f75d(0x2b9)]};if(_0x54a01c[_0x32f75d(0x679)][_0x32f75d(0x606)]){let _0x41a3a0={'number':_0xaf732f[_0x32f75d(0x436)],'options':{'delay':0x0},'textMessage':{'text':_0x54a01c['uazapi'][_0x32f75d(0x606)]}};await this[_0x32f75d(0x35d)](_0x41a3a0);}if(_0x54a01c[_0x32f75d(0x826)]!==void 0x0&&_0x36d5e8[_0x32f75d(0x5b2)]>=_0x54a01c[_0x32f75d(0x826)]){let _0x3fb46a=Date[_0x32f75d(0x54c)](),_0x2b718e=_0x54a01c['stopMinutesMaxActives']??0xa;isNaN(_0x2b718e)&&(_0x2b718e=0xa);let _0x2fd150=_0x3fb46a+_0x2b718e*0x3c*0x3e8;_0x36d5e8[_0x32f75d(0x62d)]=_0x2fd150,_0x36d5e8['moreLogs'][_0x32f75d(0x240)](_0x32f75d(0x408)),this[_0x32f75d(0x382)](_0xaf732f,_0x2fd150),_0xaf732f['waitingMenu_id']='',_0xaf732f[_0x32f75d(0x49e)]='',_0xaf732f[_0x32f75d(0x1bf)]=[];}return this[_0x32f75d(0x1ce)](_0xaf732f,_0x54a01c,_0x36d5e8,!0x0),null;}}if(_0x4efe4d&&_0x54a01c[_0x32f75d(0x8de)]&&!_0xaf732f[_0x32f75d(0x8bb)]){let _0x131c57=_0xaf732f['blocks'][_0x32f75d(0x3f3)](_0x3be20f=>_0x3be20f[_0x32f75d(0x768)][_0x32f75d(0x3d2)]()===_0x54a01c['next_groupId'][_0x32f75d(0x3d2)]())[_0x32f75d(0x366)]((_0x25405d,_0x8f6aa7)=>_0x25405d[_0x32f75d(0x1d2)]-_0x8f6aa7[_0x32f75d(0x1d2)]);_0x131c57['length']>0x0&&(_0x3e679e=_0x131c57[0x0]);}if(!_0x3e679e){let _0x560b65=_0x54a01c[_0x32f75d(0x768)],_0x47623b=_0xaf732f[_0x32f75d(0x5d3)][_0x32f75d(0x3f3)](_0x2c2e3a=>_0x2c2e3a['groupId']===_0x560b65&&_0x2c2e3a[_0x32f75d(0x1d2)]>_0x54a01c['order'])['sort']((_0x386435,_0x1c614b)=>_0x386435[_0x32f75d(0x1d2)]-_0x1c614b[_0x32f75d(0x1d2)]);_0x47623b[_0x32f75d(0x4f1)]>0x0&&(_0x3e679e=_0x47623b[0x0]);}if(!_0x3e679e)return _0xaf732f[_0x32f75d(0x616)]=_0x32f75d(0x6d9),null;_0xaf732f['chatLog']['realVariables']=_0x1d1ad8;let _0xfc011e=JSON[_0x32f75d(0x549)](JSON[_0x32f75d(0x62f)](_0x3e679e));return this[_0x32f75d(0x344)](_0xfc011e,_0xaf732f[_0x32f75d(0x235)]['realVariables']),_0xaf732f[_0x32f75d(0x235)]['lastBlockId']=_0xfc011e[_0x32f75d(0x81f)],_0xaf732f[_0x32f75d(0x235)][_0x32f75d(0x34a)]=!0x0,_0xfc011e;}[a0_0xad378c(0x63a)](_0x44dc2a,_0x7f0fb7){const _0x9bd827=a0_0xad378c;return _0x44dc2a[_0x9bd827(0x568)](/\{\{([^}]+)\}\}/g,(_0x56e14f,_0x5d9595)=>_0x7f0fb7[_0x5d9595]||'');}[a0_0xad378c(0x344)](_0x82282,_0x4d8096){const _0x436910=a0_0xad378c;for(let _0x497442 in _0x82282)typeof _0x82282[_0x497442]==_0x436910(0x38a)?_0x82282[_0x497442]=this['replaceVariables'](_0x82282[_0x497442],_0x4d8096):typeof _0x82282[_0x497442]=='object'&&this[_0x436910(0x344)](_0x82282[_0x497442],_0x4d8096);}async['goNextblock'](_0x497932,_0x451180){const _0x42b1a4=a0_0xad378c;let _0x292879=_0x451180[_0x42b1a4(0x81f)];if(_0x497932[_0x42b1a4(0x235)]&&_0x497932['chatLog'][_0x42b1a4(0x318)]){let _0x4aad65=_0x497932[_0x42b1a4(0x235)][_0x42b1a4(0x318)][_0x42b1a4(0x3f3)](_0x5b54ee=>String(_0x5b54ee[_0x42b1a4(0x259)])===String(_0x292879))[_0x42b1a4(0x43b)]();if(_0x4aad65&&_0x4aad65[_0x42b1a4(0x5fe)]&&_0x451180[_0x42b1a4(0x501)])return _0x497932[_0x42b1a4(0x616)]=_0x42b1a4(0x6d9),await this[_0x42b1a4(0x4ef)](_0x497932),null;}if(_0x451180[_0x42b1a4(0x6a2)]===_0x42b1a4(0x679)&&_0x451180['uazapi'][_0x42b1a4(0x5a5)]==='sendPoll'&&_0x497932[_0x42b1a4(0x8bb)])return _0x497932[_0x42b1a4(0x235)][_0x42b1a4(0x1b9)]=_0x292879,await this['saveConversationToDatabase'](_0x497932),null;let _0x504703=await this[_0x42b1a4(0x67d)](_0x497932);if(_0x497932[_0x42b1a4(0x235)]&&_0x497932[_0x42b1a4(0x235)][_0x42b1a4(0x318)]){let _0x4d1d90=_0x497932[_0x42b1a4(0x235)][_0x42b1a4(0x318)][_0x42b1a4(0x3f3)](_0x433e05=>String(_0x433e05[_0x42b1a4(0x259)])===String(_0x292879))[_0x42b1a4(0x4f1)];if(_0x451180[_0x42b1a4(0x826)]!==void 0x0&&_0x4d1d90>=_0x451180[_0x42b1a4(0x826)]){let _0x593867=Date[_0x42b1a4(0x54c)](),_0x5d1e49=_0x451180[_0x42b1a4(0x1b1)]??0xa;isNaN(_0x5d1e49)&&(_0x5d1e49=0xa);let _0x46b979=_0x593867+_0x5d1e49*0x3c*0x3e8,_0x1b7878={'newStoppedUntil':_0x46b979};return this['updateStopChat'](_0x497932,_0x46b979),this[_0x42b1a4(0x1ce)](_0x497932,_0x451180,_0x1b7878,!0x0),null;}}_0x504703&&_0x504703[_0x42b1a4(0x6a2)]!=='save'&&await this[_0x42b1a4(0x7fc)](_0x497932,_0x504703),_0x504703||await this[_0x42b1a4(0x4ef)](_0x497932),_0x504703&&_0x504703['type']===_0x42b1a4(0x3fd)&&(_0x497932[_0x42b1a4(0x235)][_0x42b1a4(0x1b9)]=_0x292879,await this[_0x42b1a4(0x4ef)](_0x497932));}async[a0_0xad378c(0x7fc)](_0x5c6eaa,_0x27b942){const _0x5724a2=a0_0xad378c;try{let _0x27f51a=_0x27b942[_0x5724a2(0x6a2)];this[_0x5724a2(0x86b)]['verbose'](this[_0x5724a2(0x62b)]+'\x20('+this[_0x5724a2(0x5f5)][_0x5724a2(0x6e3)]+_0x5724a2(0x757)+_0x27f51a);let _0x1a5699={'uazapi':()=>this[_0x5724a2(0x74f)](_0x5c6eaa,_0x27b942),'save':()=>this[_0x5724a2(0x675)](_0x5c6eaa,_0x27b942),'stop':()=>this[_0x5724a2(0x3dc)](_0x5c6eaa,_0x27b942),'condition':()=>this[_0x5724a2(0x6d3)](_0x5c6eaa,_0x27b942),'varedit':()=>this[_0x5724a2(0x212)](_0x5c6eaa,_0x27b942),'apirequest':()=>this[_0x5724a2(0x5d7)](_0x5c6eaa,_0x27b942),'goToFlow':()=>this[_0x5724a2(0x3d9)](_0x5c6eaa,_0x27b942),'scheduleFlow':()=>this['processScheduleFlow'](_0x5c6eaa,_0x27b942),'awaitSeconds':()=>this['processawaitSeconds'](_0x5c6eaa,_0x27b942),'clearVariables':()=>this[_0x5724a2(0x8c8)](_0x5c6eaa,_0x27b942)}[_0x27f51a];_0x1a5699&&await _0x1a5699();}catch(_0x276bbf){this[_0x5724a2(0x86b)][_0x5724a2(0x5fe)](this[_0x5724a2(0x62b)]+'\x20('+this[_0x5724a2(0x5f5)][_0x5724a2(0x6e3)]+_0x5724a2(0x564)+(_0x276bbf instanceof Error?_0x276bbf[_0x5724a2(0x5fa)]:JSON[_0x5724a2(0x62f)](_0x276bbf,null,0x2)));}}async[a0_0xad378c(0x536)](_0x506a3d,_0x574194){const _0x5790c7=a0_0xad378c;if(this[_0x5790c7(0x86b)][_0x5790c7(0x8cc)](this[_0x5790c7(0x62b)]+'\x20('+this['instance']['wuid']+_0x5790c7(0x2db)),!_0x506a3d||!_0x574194)return this[_0x5790c7(0x86b)]['error'](this[_0x5790c7(0x62b)]+'\x20('+this[_0x5790c7(0x5f5)][_0x5790c7(0x6e3)]+_0x5790c7(0x195)),null;let _0x52890b=+_0x574194[_0x5790c7(0x71f)];isNaN(_0x52890b)&&(_0x52890b=0x0),_0x52890b=Math[_0x5790c7(0x2d4)](_0x52890b,0x3c),await(0x0,w[_0x5790c7(0x636)])(_0x52890b*0x3e8);let _0x41936b={'moreLogs':[_0x5790c7(0x870)+_0x52890b+_0x5790c7(0x1f6)]};return await this[_0x5790c7(0x1ce)](_0x506a3d,_0x574194,_0x41936b),_0x52890b;}async[a0_0xad378c(0x8c8)](_0x1aa799,_0x4f9316){const _0x4ac1da=a0_0xad378c;if(this[_0x4ac1da(0x86b)][_0x4ac1da(0x8cc)](this[_0x4ac1da(0x62b)]+'\x20('+this[_0x4ac1da(0x5f5)][_0x4ac1da(0x6e3)]+_0x4ac1da(0x511)),!_0x1aa799||!_0x4f9316)return this[_0x4ac1da(0x86b)][_0x4ac1da(0x5fe)](this[_0x4ac1da(0x62b)]+'\x20('+this[_0x4ac1da(0x5f5)]['wuid']+_0x4ac1da(0x195)),null;let _0x26f615=[];if(_0x4f9316[_0x4ac1da(0x377)][_0x4ac1da(0x4cf)]()===_0x4ac1da(0x8b7)){let _0x2743ad=[_0x4ac1da(0x3c5),_0x4ac1da(0x55a),_0x4ac1da(0x4ad),_0x4ac1da(0x719),_0x4ac1da(0x8b9),'_id',_0x4ac1da(0x806)];_0x26f615=Object['keys'](_0x1aa799[_0x4ac1da(0x235)][_0x4ac1da(0x547)])[_0x4ac1da(0x3f3)](_0x371b2f=>_0x371b2f[_0x4ac1da(0x598)]('_')&&!_0x2743ad['includes'](_0x371b2f));}else _0x26f615=_0x4f9316['clearVariables'][_0x4ac1da(0x43a)]('|')['map'](_0x274052=>(_0x274052=_0x274052[_0x4ac1da(0x568)](/[{}]/g,'')[_0x4ac1da(0x4cf)](),_0x274052[_0x4ac1da(0x598)]('_')?_0x274052:'_'+_0x274052));let _0x43cc24=[];_0x26f615['forEach'](_0x5ae5dd=>{const _0x4f393e=_0x4ac1da;_0x5ae5dd in _0x1aa799[_0x4f393e(0x235)]['realVariables']&&(delete _0x1aa799[_0x4f393e(0x235)]['realVariables'][_0x5ae5dd],_0x43cc24[_0x4f393e(0x240)](_0x5ae5dd));}),_0x43cc24[_0x4ac1da(0x4f1)]>0x0?this[_0x4ac1da(0x86b)]['verbose'](this[_0x4ac1da(0x62b)]+'\x20('+this['instance'][_0x4ac1da(0x6e3)]+_0x4ac1da(0x1a0)+_0x43cc24[_0x4ac1da(0x6b9)](',\x20')):this[_0x4ac1da(0x86b)]['verbose'](this[_0x4ac1da(0x62b)]+'\x20('+this[_0x4ac1da(0x5f5)][_0x4ac1da(0x6e3)]+_0x4ac1da(0x5d6));let _0x5e4002={'moreLogs':[_0x4ac1da(0x88f)+_0x43cc24[_0x4ac1da(0x6b9)](',\x20')]};return await this['updateConversation'](_0x1aa799,_0x4f9316,_0x5e4002),null;}async[a0_0xad378c(0x647)](_0x274d90,_0x3ee082){const _0x292f64=a0_0xad378c;if(this['logger']['verbose'](this[_0x292f64(0x62b)]+'\x20('+this[_0x292f64(0x5f5)][_0x292f64(0x6e3)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x274d90||!_0x3ee082)return this[_0x292f64(0x86b)][_0x292f64(0x5fe)](this['instanceName']+'\x20('+this['instance'][_0x292f64(0x6e3)]+_0x292f64(0x195)),null;let _0x389dfa=_0x274d90[_0x292f64(0x436)];_0x3ee082[_0x292f64(0x3c3)][_0x292f64(0x436)]&&_0x3ee082[_0x292f64(0x3c3)]['remoteJid'][_0x292f64(0x4cf)]()!==''&&(_0x389dfa=_0x3ee082[_0x292f64(0x679)]['remoteJid']['trim']());let _0x3a99cb=_0x3ee082[_0x292f64(0x3c3)]['timeInMinutes']*0xea60,_0x189643=Date[_0x292f64(0x54c)]()+_0x3a99cb,_0x268959={'status':_0x292f64(0x5f2),'info':_0x292f64(0x5b1)+_0x274d90[_0x292f64(0x725)],'remoteJids':[_0x389dfa],'when':_0x189643,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x292f64(0x77f),'flowName':_0x3ee082['scheduleFlow'][_0x292f64(0x249)]};this[_0x292f64(0x526)](_0x268959);let _0x4b07ab=await this[_0x292f64(0x67d)](_0x274d90);_0x4b07ab&&await this[_0x292f64(0x7fc)](_0x274d90,_0x4b07ab);}async[a0_0xad378c(0x3d9)](_0x3c4547,_0x1c28f7){const _0x272e3d=a0_0xad378c;if(this['logger'][_0x272e3d(0x8cc)](this['instanceName']+'\x20('+this[_0x272e3d(0x5f5)][_0x272e3d(0x6e3)]+_0x272e3d(0x2bc)),!_0x3c4547||!_0x1c28f7)return this['logger'][_0x272e3d(0x5fe)](this['instanceName']+'\x20('+this[_0x272e3d(0x5f5)][_0x272e3d(0x6e3)]+_0x272e3d(0x195)),null;await this[_0x272e3d(0x1ce)](_0x3c4547,_0x1c28f7,{},!0x0,!0x0);let _0x1214a4=_0x1c28f7[_0x272e3d(0x469)];_0x3c4547=await this[_0x272e3d(0x2f8)](_0x1214a4,_0x3c4547['remoteJid'],_0x3c4547[_0x272e3d(0x235)]['realVariables']);let _0x41d477=await this[_0x272e3d(0x67d)](_0x3c4547);_0x41d477&&await this[_0x272e3d(0x7fc)](_0x3c4547,_0x41d477);}async[a0_0xad378c(0x2f8)](_0x51507b,_0x89964e,_0x236bb2){const _0x585c9b=a0_0xad378c;this[_0x585c9b(0x86b)]['verbose'](this[_0x585c9b(0x62b)]+'\x20('+this['instance'][_0x585c9b(0x6e3)]+_0x585c9b(0x821));try{let _0x18ee14=this[_0x585c9b(0x611)][_0x585c9b(0x20c)][_0x585c9b(0x84a)](_0x4eaa28=>_0x4eaa28[_0x585c9b(0x81f)]===_0x51507b);_0x18ee14||this[_0x585c9b(0x86b)][_0x585c9b(0x5fe)](this[_0x585c9b(0x62b)]+'\x20('+this[_0x585c9b(0x5f5)]['wuid']+_0x585c9b(0x574)+_0x51507b+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x293889=await this[_0x585c9b(0x58e)]['flow'][_0x585c9b(0x5cc)]({'where':{'_id':_0x18ee14['_id']}});if(!_0x293889||!_0x293889[_0x585c9b(0x7e6)]?.['includes'](this[_0x585c9b(0x5f5)]['wuid']))throw this[_0x585c9b(0x86b)]['error'](this[_0x585c9b(0x62b)]+'\x20('+this[_0x585c9b(0x5f5)][_0x585c9b(0x6e3)]+_0x585c9b(0x574)+_0x51507b+_0x585c9b(0x1f8)),new m('Flow\x20\x27'+_0x51507b+_0x585c9b(0x1f8));let _0x5558e8=require(_0x585c9b(0x16f))[_0x585c9b(0x5dd)],_0x4804ca=Date['now'](),_0x3f6687=_0x585c9b(0x4c1),_0x1fa4e5={},_0x5425c4={},_0x24b8fb=this['AutomateSystem']['flows'][_0x585c9b(0x84a)](_0x19aa0e=>_0x19aa0e[_0x585c9b(0x81f)]===_0x293889['_id']?.['toString']()),_0x460506=_0x24b8fb?.[_0x585c9b(0x8bd)]??_0x293889['minutesToClose']??0x0,_0x13ce09=_0x24b8fb?.[_0x585c9b(0x5ea)]??_0x293889[_0x585c9b(0x5ea)]??!0x1,_0x299796={'flowId':_0x18ee14[_0x585c9b(0x81f)],'readMessages':_0x18ee14[_0x585c9b(0x5ea)],..._0x293889,'chatLog':null},_0x52b085={'lastReceivedMessage':_0x1fa4e5,'lastSendMessage':_0x5425c4,'lastBlockId':_0x3f6687,'lastCondition':!0x0,'realVariables':_0x236bb2};_0x299796[_0x585c9b(0x235)]=_0x52b085,_0x299796[_0x585c9b(0x235)][_0x585c9b(0x547)]={..._0x236bb2},delete _0x299796[_0x585c9b(0x81f)],_0x299796['_id']=new _0x5558e8(),_0x299796[_0x585c9b(0x188)]=_0x4804ca,_0x299796[_0x585c9b(0x616)]='open',_0x299796[_0x585c9b(0x436)]=_0x89964e,_0x299796['minutesToClose']=_0x460506,_0x299796[_0x585c9b(0x5ea)]=_0x13ce09;let _0x1eefc7=await this['repository'][_0x585c9b(0x5b4)][_0x585c9b(0x71b)](_0x299796[_0x585c9b(0x81f)],_0x299796,this['instance'][_0x585c9b(0x6e3)]);return this[_0x585c9b(0x86b)][_0x585c9b(0x8cc)](this[_0x585c9b(0x62b)]+'\x20('+this[_0x585c9b(0x5f5)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x1eefc7?_0x299796:null;}catch(_0x5c9c85){let _0x1b92bf=_0x585c9b(0x2e7),_0x63007d=_0x5c9c85 instanceof Error?_0x5c9c85['message']:typeof _0x5c9c85==_0x585c9b(0x429)?JSON['stringify'](_0x5c9c85):_0x5c9c85,_0x3e36bb=_0x1b92bf+':\x20'+_0x63007d;throw this['logger'][_0x585c9b(0x5fe)](this[_0x585c9b(0x62b)]+'\x20('+this[_0x585c9b(0x5f5)]['wuid']+_0x585c9b(0x431)+_0x3e36bb),new m(_0x3e36bb);}}async[a0_0xad378c(0x5d7)](_0x1b366d,_0x55d340){const _0x4543b1=a0_0xad378c;let _0x11c666,_0x391e01;try{let _0xbcaa3=_0x55d340[_0x4543b1(0x351)];if(!_0xbcaa3||!_0xbcaa3['url']||!_0xbcaa3['method'])throw new Error(_0x4543b1(0x8c3));let _0x48bdba;([_0x4543b1(0x333),_0x4543b1(0x3fa),'https://api.elevenlabs.io/v1/text-to-speech/']['some'](_0x2aa201=>_0xbcaa3[_0x4543b1(0x4b6)][_0x4543b1(0x77b)](_0x2aa201))||_0xbcaa3[_0x4543b1(0x71e)])&&(_0x48bdba=_0x4543b1(0x7a1));let _0x2dd98b='\u205f',_0x121dfe;try{_0x121dfe=JSON[_0x4543b1(0x549)](_0xbcaa3[_0x4543b1(0x78e)][_0x4543b1(0x568)](new RegExp(_0x2dd98b,'g'),''));}catch(_0xeb5bf2){throw _0xeb5bf2;}let _0x323eba={'method':_0xbcaa3[_0x4543b1(0x844)],'url':_0xbcaa3[_0x4543b1(0x4b6)],'headers':_0xbcaa3[_0x4543b1(0x6d1)]||{},..._0xbcaa3[_0x4543b1(0x844)]['toUpperCase']()!==_0x4543b1(0x486)&&_0xbcaa3[_0x4543b1(0x78e)]?{'data':JSON[_0x4543b1(0x549)](_0xbcaa3[_0x4543b1(0x78e)]['replace'](new RegExp(_0x2dd98b,'g'),''))}:{},..._0x48bdba&&{'responseType':_0x48bdba}},_0x17e0e5=await(0x0,Y[_0x4543b1(0x7c4)])(_0x323eba),_0x9512b4=_0x17e0e5['headers']['content-type'];if(_0x9512b4&&_0x9512b4['includes'](_0x4543b1(0x2a6))||typeof _0x17e0e5['data']==_0x4543b1(0x38a)){if(typeof _0x17e0e5[_0x4543b1(0x232)]==_0x4543b1(0x38a)){let _0x448d82=_0x17e0e5['data'][_0x4543b1(0x568)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x11c666=JSON[_0x4543b1(0x549)](_0x448d82);}catch(_0x5deffd){this[_0x4543b1(0x86b)][_0x4543b1(0x5fe)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x5deffd['message']),_0x11c666={'_apiResponse':_0x17e0e5['data']};}}else _0x11c666=_0x17e0e5['data'];let _0x33f949=_0x1b366d[_0x4543b1(0x235)][_0x4543b1(0x547)],_0x59b1ad=this[_0x4543b1(0x3e9)](_0x11c666);return Object[_0x4543b1(0x39f)](_0x33f949,_0x59b1ad),_0x1b366d['chatLog'][_0x4543b1(0x547)]=_0x33f949,_0x391e01={'error':!0x1,'apiResponse':_0x11c666},this[_0x4543b1(0x1ce)](_0x1b366d,_0x55d340,_0x391e01),_0x11c666;}if(_0x9512b4&&(_0x9512b4['includes'](_0x4543b1(0x651))||_0x9512b4['includes'](_0x4543b1(0x65c))||_0x9512b4[_0x4543b1(0x77b)](_0x4543b1(0x72e))||_0x9512b4['includes']('video'))){this[_0x4543b1(0x86b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4543b1(0x6e3)]+_0x4543b1(0x8a1)+_0x9512b4);let _0x1c6e93=(0x0,z['v4'])(),_0x661bfd='',_0xf0066f={'image/jpeg':_0x4543b1(0x7d0),'image/png':_0x4543b1(0x689),'image/gif':_0x4543b1(0x834),'image/webp':_0x4543b1(0x7cb),'image/svg+xml':_0x4543b1(0x2c0),'audio/mpeg':_0x4543b1(0x1f7),'audio/ogg':_0x4543b1(0x27b),'audio/wav':_0x4543b1(0x4df),'video/mp4':'.mp4','video/webm':_0x4543b1(0x29e),'video/ogg':'.ogv','text/plain':_0x4543b1(0x304),'application/pdf':_0x4543b1(0x2ca),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x4543b1(0x220),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x4543b1(0x58d),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x4543b1(0x775)};_0xf0066f[_0x9512b4]?(_0x661bfd=_0xf0066f[_0x9512b4],this[_0x4543b1(0x86b)][_0x4543b1(0x8cc)](this[_0x4543b1(0x62b)]+'\x20('+this[_0x4543b1(0x5f5)][_0x4543b1(0x6e3)]+_0x4543b1(0x2f3)+_0x661bfd)):(_0x661bfd='.error',this[_0x4543b1(0x86b)]['verbose'](this[_0x4543b1(0x62b)]+'\x20('+this[_0x4543b1(0x5f5)][_0x4543b1(0x6e3)]+_0x4543b1(0x308)+_0x661bfd)),_0x1c6e93+=_0x661bfd,this['logger'][_0x4543b1(0x8cc)](this[_0x4543b1(0x62b)]+'\x20('+this[_0x4543b1(0x5f5)][_0x4543b1(0x6e3)]+_0x4543b1(0x274)+_0x1c6e93);let _0x96e179=this['configService'][_0x4543b1(0x1ff)](_0x4543b1(0x2e5))['URL'];if(!_0x96e179){let _0x314fd3=this[_0x4543b1(0x2ed)][_0x4543b1(0x1ff)](_0x4543b1(0x56f));_0x96e179=_0x4543b1(0x39e)+(_0x314fd3&&_0x314fd3['FULLCHAIN'][_0x4543b1(0x43a)]('/')[0x4]);}let _0x6a3e18=Buffer['from'](_0x17e0e5[_0x4543b1(0x232)]);await this[_0x4543b1(0x8c6)](_0x6a3e18,_0x1c6e93);let _0x35d3da='/media/'+_0x1c6e93;_0x35d3da=''+_0x96e179+_0x35d3da,_0x11c666={'fileUrl':_0x35d3da},_0x1b366d[_0x4543b1(0x235)][_0x4543b1(0x547)][_0x4543b1(0x583)]=_0x35d3da;let _0x3c5c1c=_0x1b366d[_0x4543b1(0x235)]['realVariables'],_0x3ccf84=this['flattenObject'](_0x11c666);return Object['assign'](_0x3c5c1c,_0x3ccf84),_0x1b366d[_0x4543b1(0x235)]['realVariables']=_0x3c5c1c,_0x391e01={'error':!0x1,'apiResponse':{'fileUrl':_0x35d3da}},this['updateConversation'](_0x1b366d,_0x55d340,_0x391e01),_0x11c666;}}catch(_0x3e04ae){this[_0x4543b1(0x86b)][_0x4543b1(0x5fe)](_0x4543b1(0x599)+_0x3e04ae[_0x4543b1(0x5fa)]),_0x3e04ae[_0x4543b1(0x17f)]&&(_0x11c666=_0x3e04ae['response'][_0x4543b1(0x232)]);let _0x3e805e=_0x1b366d['chatLog']['realVariables'],_0x458dc3=this['flattenObject'](_0x11c666);return Object[_0x4543b1(0x39f)](_0x3e805e,_0x458dc3),_0x1b366d[_0x4543b1(0x235)][_0x4543b1(0x547)]=_0x3e805e,_0x391e01={'error':!0x0,'errorLog':_0x3e04ae['toString'](),'apiResponse':_0x11c666},this[_0x4543b1(0x1ce)](_0x1b366d,_0x55d340,_0x391e01),{'success':!0x1};}}[a0_0xad378c(0x77c)](_0x248010,_0x57f68a){const _0x5cd4de=a0_0xad378c;let _0x39d0d1=_0x2cb484=>{const _0x286bc3=a0_0x4c1f;let _0xdb1a9=_0x2cb484[_0x286bc3(0x568)](/[^0-9.,-]/g,'')[_0x286bc3(0x568)](',','.'),_0x2894c2=parseFloat(_0xdb1a9);return isNaN(_0x2894c2)?null:_0x2894c2;},_0x13c165=_0x57f68a['firstValue'],_0x6bccae=_0x57f68a[_0x5cd4de(0x36c)];typeof _0x13c165==_0x5cd4de(0x38a)&&(_0x13c165=this[_0x5cd4de(0x63a)](_0x13c165,_0x248010[_0x5cd4de(0x235)][_0x5cd4de(0x547)])??''),typeof _0x6bccae==_0x5cd4de(0x38a)&&(_0x6bccae=this[_0x5cd4de(0x63a)](_0x6bccae,_0x248010['chatLog'][_0x5cd4de(0x547)])??'');let _0x5ca421=null;if(!_0x57f68a[_0x5cd4de(0x2ad)])return null;switch(this['logger'][_0x5cd4de(0x8cc)](this[_0x5cd4de(0x62b)]+'\x20('+this[_0x5cd4de(0x5f5)][_0x5cd4de(0x6e3)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x13c165),this[_0x5cd4de(0x86b)][_0x5cd4de(0x8cc)](this['instanceName']+'\x20('+this['instance'][_0x5cd4de(0x6e3)]+_0x5cd4de(0x58c)+_0x6bccae),_0x57f68a[_0x5cd4de(0x2ad)]){case'+':case'-':case'*':case'/':let _0x4ec394=_0x39d0d1(_0x13c165||'0'),_0x5a1c07=_0x39d0d1(_0x6bccae||'0');if(_0x4ec394===null)return null;switch(_0x57f68a[_0x5cd4de(0x2ad)]){case'+':_0x5ca421=_0x4ec394+(_0x5a1c07??0x0);break;case'-':_0x5ca421=_0x4ec394-(_0x5a1c07??0x0);break;case'*':_0x5ca421=_0x4ec394*(_0x5a1c07??0x1);break;case'/':_0x5a1c07!==0x0&&(_0x5ca421=_0x4ec394/(_0x5a1c07??0x1));break;}break;case _0x5cd4de(0x563):case _0x5cd4de(0x4a1):let _0x46c7d2=_0x6bccae,_0x25ce4b=_0x57f68a[_0x5cd4de(0x372)];if(typeof _0x25ce4b==_0x5cd4de(0x38a)&&(_0x25ce4b=this[_0x5cd4de(0x63a)](_0x25ce4b,_0x248010[_0x5cd4de(0x235)][_0x5cd4de(0x547)])??''),_0x46c7d2&&_0x25ce4b!==void 0x0){let _0x5e0e8c=_0x57f68a['editOperator']==='findAndReplace'?new RegExp(_0x46c7d2['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x5cd4de(0x7cf)),'g'):new RegExp(_0x46c7d2,'g');_0x5ca421=_0x13c165[_0x5cd4de(0x568)](_0x5e0e8c,_0x25ce4b);}else console[_0x5cd4de(0x75e)](_0x5cd4de(0x441));break;case _0x5cd4de(0x807):_0x5ca421=_0x6bccae;break;case'extractRegex':let _0x281eaf=_0x13c165[_0x5cd4de(0x59b)](new RegExp(_0x6bccae||''));_0x5ca421=_0x281eaf?_0x281eaf[0x0]:'';break;case'truncatedto':_0x5ca421=_0x13c165['slice'](0x0,parseInt(_0x6bccae||'0'));break;case _0x5cd4de(0x2f6):let _0x1def71=parseInt(_0x6bccae||'0');_0x5ca421=_0x13c165[_0x5cd4de(0x430)](_0x13c165[_0x5cd4de(0x4f1)]-_0x1def71);break;case _0x5cd4de(0x4e2):let _0x249b8d=_0x39d0d1(_0x13c165),_0x296435=parseInt(_0x6bccae||'0');_0x296435=Math[_0x5cd4de(0x294)](_0x296435),_0x249b8d!==null?_0x5ca421=_0x249b8d[_0x5cd4de(0x76a)]('pt-BR',{'minimumFractionDigits':_0x296435,'maximumFractionDigits':_0x296435}):(console['warn'](_0x5cd4de(0x36a)+_0x13c165),_0x5ca421=null);break;case'toBRL':let _0x539e60=_0x39d0d1(_0x13c165);_0x539e60!==null?_0x5ca421=_0x539e60[_0x5cd4de(0x76a)](_0x5cd4de(0x860),{'style':_0x5cd4de(0x69a),'currency':_0x5cd4de(0x5c9)}):(console[_0x5cd4de(0x75e)](_0x5cd4de(0x7a6)+_0x13c165),_0x5ca421=null);break;case _0x5cd4de(0x7fa):_0x5ca421=_0x13c165[_0x5cd4de(0x422)]();break;case _0x5cd4de(0x2e4):_0x5ca421=_0x13c165[_0x5cd4de(0x16c)]();break;case'capitalizedWords':_0x5ca421=_0x13c165[_0x5cd4de(0x43a)]('\x20')[_0x5cd4de(0x4a4)](_0x30fa12=>_0x30fa12[_0x5cd4de(0x72d)](0x0)[_0x5cd4de(0x422)]()+_0x30fa12[_0x5cd4de(0x430)](0x1)[_0x5cd4de(0x16c)]())[_0x5cd4de(0x6b9)]('\x20');break;case _0x5cd4de(0x269):_0x5ca421=JSON[_0x5cd4de(0x62f)](_0x13c165);break;case _0x5cd4de(0x4c0):_0x5ca421=_0x13c165['trim']();break;default:_0x5ca421=_0x13c165;}return _0x5ca421!==null?_0x5ca421['toString']():null;}async[a0_0xad378c(0x212)](_0xd6f730,_0x481629){const _0x2a7c51=a0_0xad378c;try{let _0x571344=_0xd6f730['varedits']?.[_0x2a7c51(0x3f3)](_0x187af0=>_0x187af0[_0x2a7c51(0x259)]===_0x481629[_0x2a7c51(0x81f)]?.[_0x2a7c51(0x3d2)]())||[],_0x14af00=_0x481629[_0x2a7c51(0x416)],_0x23de86=null,_0x16a7ab=[],_0x36e7ae=_0xd6f730[_0x2a7c51(0x235)][_0x2a7c51(0x547)][_0x14af00];_0x16a7ab[_0x2a7c51(0x240)](_0x2a7c51(0x5fc)+_0x36e7ae+'\x22');for(let _0x44e194 of _0x571344){_0x44e194[_0x2a7c51(0x67f)]=_0x36e7ae,_0x23de86=_0x44e194[_0x2a7c51(0x67f)];let _0x173f40;try{_0x173f40=this['applyvaredit'](_0xd6f730,_0x44e194);}catch(_0x5c8ba9){this[_0x2a7c51(0x86b)][_0x2a7c51(0x5fe)](_0x2a7c51(0x198)+_0x5c8ba9[_0x2a7c51(0x5fa)]);continue;}if(_0x173f40!==null){let _0x39eace=_0x2a7c51(0x670)+_0x44e194[_0x2a7c51(0x2ad)]+'\x22',_0x39effc=['toBRL',_0x2a7c51(0x7fa),_0x2a7c51(0x2e4),_0x2a7c51(0x35f),_0x2a7c51(0x4c0)];_0x44e194['editOperator']===_0x2a7c51(0x563)||_0x44e194[_0x2a7c51(0x2ad)]==='findAndReplaceRegex'?_0x39eace+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x44e194[_0x2a7c51(0x36c)]+_0x2a7c51(0x4e5)+_0x44e194[_0x2a7c51(0x372)]+'\x22':!_0x39effc[_0x2a7c51(0x77b)](_0x44e194[_0x2a7c51(0x2ad)])&&_0x44e194['secondValue']!==null&&_0x44e194[_0x2a7c51(0x36c)]!==void 0x0&&(_0x39eace+=_0x2a7c51(0x51e)+_0x44e194[_0x2a7c51(0x36c)]+'\x22'),_0x39eace+=',\x20resultado:\x20'+_0x173f40+'.',_0x16a7ab[_0x2a7c51(0x240)](_0x39eace);}_0x173f40!==null&&(_0x36e7ae=_0x173f40);}if(_0xd6f730['chatLog']['realVariables']&&_0x481629[_0x2a7c51(0x416)]){_0xd6f730[_0x2a7c51(0x235)][_0x2a7c51(0x547)][_0x481629[_0x2a7c51(0x416)]]=_0x36e7ae;let _0x94fea2={'variable':_0x481629[_0x2a7c51(0x416)],'oldValue':_0x23de86,'newValue':_0x36e7ae,'moreLogs':_0x16a7ab};try{this['updateConversation'](_0xd6f730,_0x481629,_0x94fea2);}catch(_0x12fd62){this[_0x2a7c51(0x86b)]['error'](_0x2a7c51(0x823)+_0x12fd62[_0x2a7c51(0x5fa)]);}}return _0x14af00;}catch(_0xaf1f8f){return this[_0x2a7c51(0x86b)][_0x2a7c51(0x5fe)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0xaf1f8f[_0x2a7c51(0x5fa)]),null;}}async['processConditions'](_0x46aea8,_0x1a6900){const _0x174d36=a0_0xad378c;try{let _0x12e9d8=[],_0x5b5594=_0x46aea8[_0x174d36(0x6fa)]['filter'](_0x2ba419=>_0x2ba419[_0x174d36(0x259)]===_0x1a6900[_0x174d36(0x81f)][_0x174d36(0x3d2)]()),_0x3a22d2=null,_0x47e841=!0x1;for(let _0x198ca5 of _0x5b5594){let _0x530d25=this[_0x174d36(0x46d)](_0x46aea8,_0x198ca5);_0x12e9d8[_0x174d36(0x240)](_0x174d36(0x5f8)+_0x198ca5[_0x174d36(0x67f)]+',\x20Comparador:\x20'+_0x198ca5['expression']+_0x174d36(0x29b)+_0x198ca5[_0x174d36(0x36c)]+_0x174d36(0x186)+_0x530d25),_0x3a22d2===null?_0x3a22d2=_0x530d25:_0x198ca5[_0x174d36(0x4ac)]==='and'?(_0x3a22d2=_0x3a22d2&&_0x530d25,_0x530d25||(_0x47e841=!0x0)):_0x198ca5['OrAnd']==='or'&&(_0x47e841||(_0x3a22d2=_0x3a22d2||_0x530d25));}_0x3a22d2===null&&(_0x3a22d2=!0x0);let _0x50eef3={'moreLogs':_0x12e9d8};_0x46aea8['chatLog'][_0x174d36(0x34a)]=_0x3a22d2,await this[_0x174d36(0x1ce)](_0x46aea8,_0x1a6900,_0x50eef3);}catch(_0x38dc4d){this['logger']['error'](this[_0x174d36(0x62b)]+'\x20('+this['instance'][_0x174d36(0x6e3)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x38dc4d instanceof Error?_0x38dc4d[_0x174d36(0x5fa)]:JSON['stringify'](_0x38dc4d,null,0x2)));}}[a0_0xad378c(0x46d)](_0x50b090,_0x1cdc94){const _0x39e621=a0_0xad378c;let _0x420415=_0x1cdc94['firstValue'],_0x3dfbee=_0x1cdc94['secondValue'];typeof _0x420415==_0x39e621(0x38a)&&(_0x420415=this[_0x39e621(0x63a)](_0x420415,_0x50b090['chatLog'][_0x39e621(0x547)])??''),typeof _0x3dfbee=='string'&&(_0x3dfbee=this[_0x39e621(0x63a)](_0x3dfbee,_0x50b090[_0x39e621(0x235)]['realVariables'])??'');try{switch(_0x1cdc94[_0x39e621(0x332)]){case _0x39e621(0x70f):return _0x420415===_0x3dfbee;case _0x39e621(0x710):return _0x420415!==_0x3dfbee;case'contains':return this['contains'](_0x420415,_0x3dfbee);case _0x39e621(0x2f4):return!this[_0x39e621(0x295)](_0x420415,_0x3dfbee);case'greater':return parseFloat(_0x420415)>parseFloat(_0x3dfbee);case _0x39e621(0x7cd):return parseFloat(_0x420415)<parseFloat(_0x3dfbee);case _0x39e621(0x70b):return _0x420415!=='';case _0x39e621(0x61e):return _0x420415==='';case _0x39e621(0x7a4):return new RegExp(_0x3dfbee)['test'](_0x420415);case _0x39e621(0x3d1):return!new RegExp(_0x3dfbee)['test'](_0x420415);default:return!0x1;}}catch(_0x738b12){return this['logger'][_0x39e621(0x5fe)](_0x39e621(0x69f)+_0x738b12),!0x1;}}[a0_0xad378c(0x295)](_0x4e648f,_0x516c6c){const _0x2f995e=a0_0xad378c;if(_0x4e648f===_0x516c6c&&/^\d+$/['test'](_0x4e648f))return!0x0;if(this[_0x2f995e(0x7a3)](_0x4e648f)&&/^\d+$/[_0x2f995e(0x514)](_0x516c6c)){let _0x25665d=_0x4e648f[_0x2f995e(0x43a)](',')[_0x2f995e(0x4a4)](_0x3c6189=>parseInt(_0x3c6189[_0x2f995e(0x4cf)]())),_0x38f410=parseInt(_0x516c6c);return _0x25665d[_0x2f995e(0x77b)](_0x38f410);}return _0x4e648f['includes'](_0x516c6c);}[a0_0xad378c(0x7a3)](_0x1fe9f7){const _0x4668bd=a0_0xad378c;return/^\d+(,\d+)*$/[_0x4668bd(0x514)](_0x1fe9f7);}[a0_0xad378c(0x3ac)](_0x358b66){const _0x33fe11=a0_0xad378c;let _0x4a710d=!0x0,_0x342b40=null;for(let _0x25fa17 of _0x358b66){let _0x68e563=this[_0x33fe11(0x631)](_0x25fa17);if(_0x342b40==='or'&&_0x68e563){_0x4a710d=!0x0;break;}if(_0x342b40===_0x33fe11(0x3ad)&&!_0x68e563){_0x4a710d=!0x1;break;}_0x342b40=_0x25fa17[_0x33fe11(0x4ac)];}return _0x4a710d;}['evaluateConditionTest'](_0x2fb0cf){const _0x3c6658=a0_0xad378c;let _0x21a96d=_0x2fb0cf[_0x3c6658(0x67f)],_0x2f2d66=_0x2fb0cf['secondValue'];try{switch(_0x2fb0cf['expression']){case _0x3c6658(0x70f):return String(_0x21a96d)===String(_0x2f2d66);case'notEqual':return String(_0x21a96d)!==String(_0x2f2d66);case _0x3c6658(0x295):return String(_0x21a96d)['includes'](String(_0x2f2d66));case _0x3c6658(0x2f4):return!String(_0x21a96d)[_0x3c6658(0x77b)](String(_0x2f2d66));case _0x3c6658(0x528):return parseFloat(String(_0x21a96d))>parseFloat(String(_0x2f2d66));case'less':return parseFloat(String(_0x21a96d))<parseFloat(String(_0x2f2d66));case _0x3c6658(0x70b):return String(_0x21a96d)!=='';case _0x3c6658(0x61e):return String(_0x21a96d)==='';case _0x3c6658(0x7a4):return new RegExp(String(_0x2f2d66))[_0x3c6658(0x514)](String(_0x21a96d));case _0x3c6658(0x3d1):return!new RegExp(String(_0x2f2d66))['test'](String(_0x21a96d));default:return!0x1;}}catch(_0x5a5f60){return this[_0x3c6658(0x86b)][_0x3c6658(0x5fe)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x5a5f60),!0x1;}}async['saveTextReply'](_0x5d7243,_0x107a8f){const _0x22f5a5=a0_0xad378c;if(this[_0x22f5a5(0x86b)][_0x22f5a5(0x8cc)](this[_0x22f5a5(0x62b)]+'\x20('+this[_0x22f5a5(0x5f5)][_0x22f5a5(0x6e3)]+_0x22f5a5(0x543)),!_0x5d7243||!_0x107a8f)return this[_0x22f5a5(0x86b)][_0x22f5a5(0x5fe)](this[_0x22f5a5(0x62b)]+'\x20('+this[_0x22f5a5(0x5f5)][_0x22f5a5(0x6e3)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x2e83e5=_0x5d7243['chatLog']['lastReceivedMessage']['key']['id'];this[_0x22f5a5(0x86b)][_0x22f5a5(0x8cc)](this[_0x22f5a5(0x62b)]+'\x20('+this[_0x22f5a5(0x5f5)][_0x22f5a5(0x6e3)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x2e83e5);let _0x2d0c4a={'key':{'id':_0x2e83e5}},_0x27ef06=_0x107a8f[_0x22f5a5(0x416)];_0x5d7243[_0x22f5a5(0x235)][_0x22f5a5(0x547)]['_'+_0x27ef06+_0x22f5a5(0x5a4)]=null,_0x5d7243[_0x22f5a5(0x235)][_0x22f5a5(0x547)]['_'+_0x27ef06+_0x22f5a5(0x5ef)]=null,_0x5d7243[_0x22f5a5(0x235)][_0x22f5a5(0x547)]['_'+_0x27ef06+_0x22f5a5(0x601)]=null,_0x5d7243[_0x22f5a5(0x235)][_0x22f5a5(0x547)]['_'+_0x27ef06+_0x22f5a5(0x203)]=_0x5d7243['chatLog'][_0x22f5a5(0x629)]['type'];try{let _0x62ce30=await this[_0x22f5a5(0x491)](_0x2d0c4a);this[_0x22f5a5(0x86b)][_0x22f5a5(0x8cc)](this[_0x22f5a5(0x62b)]+'\x20('+this[_0x22f5a5(0x5f5)][_0x22f5a5(0x6e3)]+_0x22f5a5(0x510)),_0x5d7243[_0x22f5a5(0x235)][_0x22f5a5(0x547)]['_'+_0x27ef06+_0x22f5a5(0x1c3)]=_0x62ce30[_0x22f5a5(0x583)],_0x5d7243['chatLog']['realVariables']['_'+_0x27ef06+'.mimetype']=_0x62ce30[_0x22f5a5(0x66d)];let _0x53aca1=_0x62ce30['mimetype'][_0x22f5a5(0x59b)](/\/(\w+)$/),_0xf169e1=_0x53aca1?_0x53aca1[0x1]:null;_0x5d7243[_0x22f5a5(0x235)][_0x22f5a5(0x547)]['_'+_0x27ef06+_0x22f5a5(0x601)]=_0xf169e1,this['logger']['verbose'](this[_0x22f5a5(0x62b)]+'\x20('+this[_0x22f5a5(0x5f5)]['wuid']+_0x22f5a5(0x449)+_0x27ef06+'\x27.');}catch(_0x1713bc){this[_0x22f5a5(0x86b)][_0x22f5a5(0x5fe)](this[_0x22f5a5(0x62b)]+'\x20('+this['instance'][_0x22f5a5(0x6e3)]+_0x22f5a5(0x573)+_0x1713bc[_0x22f5a5(0x5fa)]);}let _0xff00fc=_0x5d7243[_0x22f5a5(0x235)][_0x22f5a5(0x629)][_0x22f5a5(0x34c)]||_0x5d7243[_0x22f5a5(0x235)][_0x22f5a5(0x629)]['caption']||_0x5d7243[_0x22f5a5(0x235)]['lastReceivedMessage'][_0x22f5a5(0x873)];try{_0x5d7243['chatLog'][_0x22f5a5(0x547)]||(_0x5d7243[_0x22f5a5(0x235)][_0x22f5a5(0x547)]={});let _0x3eae35=_0x5d7243[_0x22f5a5(0x235)][_0x22f5a5(0x547)][_0x27ef06];_0x5d7243[_0x22f5a5(0x235)][_0x22f5a5(0x547)][_0x27ef06]=_0xff00fc;let _0xd242e0={'variable':_0x27ef06,'oldValue':_0x3eae35,'newValue':_0xff00fc};this['updateConversation'](_0x5d7243,_0x107a8f,_0xd242e0),this[_0x22f5a5(0x86b)][_0x22f5a5(0x8cc)](this[_0x22f5a5(0x62b)]+'\x20('+this[_0x22f5a5(0x5f5)][_0x22f5a5(0x6e3)]+_0x22f5a5(0x5c7));}catch(_0x1ea83b){let _0x132753={'error':!0x0,'errorLog':_0x1ea83b[_0x22f5a5(0x3d2)]()};return this[_0x22f5a5(0x1ce)](_0x5d7243,_0x107a8f,_0x132753),this[_0x22f5a5(0x86b)][_0x22f5a5(0x5fe)](this[_0x22f5a5(0x62b)]+'\x20('+this['instance'][_0x22f5a5(0x6e3)]+_0x22f5a5(0x1d7)+(_0x1ea83b instanceof Error?_0x1ea83b[_0x22f5a5(0x5fa)]:JSON[_0x22f5a5(0x62f)](_0x1ea83b,null,0x2))),null;}}async[a0_0xad378c(0x3dc)](_0x383a48,_0x47fb7b){const _0x47075a=a0_0xad378c;if(this[_0x47075a(0x86b)][_0x47075a(0x8cc)](this[_0x47075a(0x62b)]+'\x20('+this['instance'][_0x47075a(0x6e3)]+_0x47075a(0x4a7)),!_0x383a48||!_0x47fb7b)return this[_0x47075a(0x86b)][_0x47075a(0x5fe)](this[_0x47075a(0x62b)]+'\x20('+this['instance'][_0x47075a(0x6e3)]+_0x47075a(0x195)),null;let _0x40b4b1=Date['now'](),_0x11d456=parseInt(_0x47fb7b['stopMinutes'],0xa);if(isNaN(_0x11d456))return this[_0x47075a(0x86b)][_0x47075a(0x5fe)](this[_0x47075a(0x62b)]+'\x20('+this['instance'][_0x47075a(0x6e3)]+_0x47075a(0x43f)),null;let _0x49a356={'newStoppedUntil':_0x40b4b1+_0x11d456*0x3c*0x3e8};return await this[_0x47075a(0x1ce)](_0x383a48,_0x47fb7b,_0x49a356,!0x0),null;}async[a0_0xad378c(0x74f)](_0x51c49e,_0x429a47){const _0x44652f=a0_0xad378c;try{switch(_0x429a47[_0x44652f(0x679)]['command']){case _0x44652f(0x7bf):await this[_0x44652f(0x525)](_0x51c49e,_0x429a47);break;case _0x44652f(0x841):await this[_0x44652f(0x33d)](_0x51c49e,_0x429a47);break;case _0x44652f(0x59c):await this[_0x44652f(0x342)](_0x51c49e,_0x429a47);break;case _0x44652f(0x59a):await this[_0x44652f(0x668)](_0x51c49e,_0x429a47);break;case _0x44652f(0x7b8):await this[_0x44652f(0x744)](_0x51c49e,_0x429a47);break;case _0x44652f(0x74d):await this[_0x44652f(0x612)](_0x51c49e,_0x429a47);break;case _0x44652f(0x716):await this[_0x44652f(0x612)](_0x51c49e,_0x429a47);break;case _0x44652f(0x3b1):await this[_0x44652f(0x7d7)](_0x51c49e,_0x429a47);break;default:this[_0x44652f(0x86b)][_0x44652f(0x5fe)](this[_0x44652f(0x62b)]+'\x20('+this[_0x44652f(0x5f5)][_0x44652f(0x6e3)]+_0x44652f(0x1d0)+_0x429a47[_0x44652f(0x679)][_0x44652f(0x5a5)]);}}catch(_0x3c54f8){this[_0x44652f(0x86b)][_0x44652f(0x5fe)](this[_0x44652f(0x62b)]+'\x20('+this[_0x44652f(0x5f5)][_0x44652f(0x6e3)]+_0x44652f(0x227)+(_0x3c54f8 instanceof Error?_0x3c54f8[_0x44652f(0x5fa)]:JSON[_0x44652f(0x62f)](_0x3c54f8,null,0x2)));}}async['updateConversation'](_0xb3a2bc,_0x4b3d41,_0x489a33,_0x47640f=!0x1,_0x513857=!0x1){const _0x2c3519=a0_0xad378c;_0xb3a2bc[_0x2c3519(0x235)]['blockLogs']||(_0xb3a2bc[_0x2c3519(0x235)]['blockLogs']=[]);let _0x3b1b64=(_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x318)]?.['length']??0x0)+0x1,_0x58580c=_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x318)]['filter'](_0x398c26=>String(_0x398c26[_0x2c3519(0x259)])===String(_0x4b3d41[_0x2c3519(0x81f)]))[_0x2c3519(0x4f1)]+0x1,_0x3d9c6e=_0x489a33?.[_0x2c3519(0x7b9)]??Date['now'](),_0x57879c=_0x489a33?.[_0x2c3519(0x5fe)]?_0x489a33[_0x2c3519(0x1eb)]??_0x489a33[_0x2c3519(0x5fe)][_0x2c3519(0x3d2)]():void 0x0,_0xa4e8f1={'onTime':_0x3d9c6e,'blockId':_0x4b3d41[_0x2c3519(0x81f)],'order':_0x3b1b64,'activatedCount':_0x58580c,'error':_0x489a33?.['error']??!0x1,'messageId':_0x489a33?.[_0x2c3519(0x5df)],'apiResponse':_0x489a33?.['apiResponse'],'apiResponseString':_0x489a33?.['apiResponse']?JSON[_0x2c3519(0x62f)](_0x489a33?.[_0x2c3519(0x45c)]):void 0x0,'variable':_0x489a33?.[_0x2c3519(0x224)],'oldValue':_0x489a33?.['oldValue'],'newValue':_0x489a33?.[_0x2c3519(0x488)],'newStoppedUntil':_0x489a33?.[_0x2c3519(0x62d)],'moreLogs':_0x489a33?.[_0x2c3519(0x582)],'errorLog':_0x57879c};if(_0x489a33[_0x2c3519(0x582)]&&_0x489a33[_0x2c3519(0x582)][_0x2c3519(0x4f1)]>0x0){let _0x4491bb=_0x489a33[_0x2c3519(0x582)]['map'](_0x419f93=>this['replaceVariablesLogs'](_0x419f93,_0xb3a2bc['chatLog'][_0x2c3519(0x547)]));_0xa4e8f1[_0x2c3519(0x582)]=_0x4491bb;}if(_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x547)]||(_0xb3a2bc['chatLog']['realVariables']={}),_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x547)][_0x2c3519(0x459)]=String(_0x58580c),_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x547)]['_error']=String(_0x489a33[_0x2c3519(0x5fe)]??!0x1),_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x318)]['push'](_0xa4e8f1),_0xb3a2bc['chatLog'][_0x2c3519(0x547)][_0x2c3519(0x7ab)]&&_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x547)][_0x2c3519(0x7ab)]!==_0xb3a2bc[_0x2c3519(0x436)]){let _0x4a893a=(await this[_0x2c3519(0x2af)]({'numbers':[_0xb3a2bc['chatLog'][_0x2c3519(0x547)][_0x2c3519(0x7ab)]]}))[0x0]['jid'];_0xb3a2bc[_0x2c3519(0x235)]['realVariables'][_0x2c3519(0x7ab)]=_0x4a893a,_0xb3a2bc[_0x2c3519(0x436)]=_0x4a893a;try{let _0x5ee10b={'_id':{'$ne':_0xb3a2bc[_0x2c3519(0x81f)]},'remoteJid':_0x4a893a,'status':'open'},_0xae2abc={'status':_0x2c3519(0x6d9)};await this[_0x2c3519(0x58e)][_0x2c3519(0x5b4)][_0x2c3519(0x455)](_0x5ee10b,_0xae2abc,this[_0x2c3519(0x5f5)][_0x2c3519(0x6e3)]),this[_0x2c3519(0x86b)][_0x2c3519(0x8cc)](this[_0x2c3519(0x62b)]+'\x20('+this[_0x2c3519(0x5f5)][_0x2c3519(0x6e3)]+_0x2c3519(0x258));}catch(_0x3e906f){this[_0x2c3519(0x86b)][_0x2c3519(0x5fe)](this[_0x2c3519(0x62b)]+'\x20('+this[_0x2c3519(0x5f5)][_0x2c3519(0x6e3)]+_0x2c3519(0x305)+_0x3e906f[_0x2c3519(0x5fa)]);}try{let _0xc43f42=_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x547)],_0x4f7676=await this[_0x2c3519(0x461)](_0x4a893a),_0x97df3d={..._0xc43f42,..._0x4f7676,'_remoteJid':_0x4a893a};_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x547)]=_0x97df3d;}catch(_0x206989){this[_0x2c3519(0x86b)]['error'](this[_0x2c3519(0x62b)]+'\x20('+this[_0x2c3519(0x5f5)]['wuid']+_0x2c3519(0x24b)+_0x206989[_0x2c3519(0x5fa)]);}}_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x1b9)]=_0x4b3d41[_0x2c3519(0x81f)]['toString'](),_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x7af)]&&(_0xb3a2bc['chatLog']['lastSendMessage']=_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x7af)]),_0xb3a2bc['chatLog'][_0x2c3519(0x629)]&&(_0xb3a2bc['chatLog'][_0x2c3519(0x629)]=_0xb3a2bc['chatLog'][_0x2c3519(0x629)]),_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x34a)]&&(_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x34a)]=_0xb3a2bc[_0x2c3519(0x235)][_0x2c3519(0x34a)]),_0x513857&&(_0xb3a2bc['status']='closed'),_0x47640f?this[_0x2c3519(0x4ef)](_0xb3a2bc):this['goNextblock'](_0xb3a2bc,_0x4b3d41);}['replaceVariablesLogs'](_0x1b5778,_0xfa4cfb){const _0x5b2fc9=a0_0xad378c;return _0x1b5778[_0x5b2fc9(0x568)](/\{\{([^}]+)\}\}/g,(_0x1cdd7c,_0xbbc028)=>_0xfa4cfb[_0xbbc028]?'{{'+_0xbbc028+'}}\x20->\x20\x22'+_0xfa4cfb[_0xbbc028]+'\x22':'{{'+_0xbbc028+_0x5b2fc9(0x290));}async[a0_0xad378c(0x4ef)](_0x35a6cf){const _0x35f8e8=a0_0xad378c;try{let _0x487c20=Object['entries'](_0x35a6cf['chatLog'][_0x35f8e8(0x547)])[_0x35f8e8(0x4a4)](([_0x632938,_0xfb7ee8])=>({'name':_0x632938,'value':_0xfb7ee8})),_0x2e6a35={'status':_0x35a6cf['status'],'remoteJid':_0x35a6cf[_0x35f8e8(0x436)],'blocks':_0x35a6cf[_0x35f8e8(0x5d3)],'waitingMenu_id':_0x35a6cf[_0x35f8e8(0x8bb)],'waitingMenu_text':_0x35a6cf[_0x35f8e8(0x49e)],'waitingMenu_replyOptions':_0x35a6cf[_0x35f8e8(0x1bf)],'chatLog':{'lastBlockId':_0x35a6cf[_0x35f8e8(0x235)][_0x35f8e8(0x1b9)],'lastSendMessage':_0x35a6cf[_0x35f8e8(0x235)][_0x35f8e8(0x7af)],'lastReceivedMessage':_0x35a6cf[_0x35f8e8(0x235)]['lastReceivedMessage'],'lastCondition':_0x35a6cf[_0x35f8e8(0x235)][_0x35f8e8(0x34a)],'chatVariables':_0x487c20,'realVariables':_0x35a6cf[_0x35f8e8(0x235)][_0x35f8e8(0x547)],'blockLogs':_0x35a6cf[_0x35f8e8(0x235)]['blockLogs']}},_0x559cef=await this[_0x35f8e8(0x58e)][_0x35f8e8(0x5b4)]['updateOne'](_0x35a6cf[_0x35f8e8(0x81f)],_0x2e6a35,this[_0x35f8e8(0x5f5)][_0x35f8e8(0x6e3)]);if(_0x559cef){this[_0x35f8e8(0x86b)][_0x35f8e8(0x8cc)](this[_0x35f8e8(0x62b)]+'\x20('+this[_0x35f8e8(0x5f5)][_0x35f8e8(0x6e3)]+_0x35f8e8(0x1e4)+_0x559cef[_0x35f8e8(0x81f)]);try{let _0x1b2603=[_0x35f8e8(0x54d),'nomecompleto',_0x35f8e8(0x7d1),'cpf','status',_0x35f8e8(0x85a),_0x35f8e8(0x256),_0x35f8e8(0x451),_0x35f8e8(0x64a),_0x35f8e8(0x6e4)];if(!this[_0x35f8e8(0x611)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0xfdbaba=this['AutomateSystem']?.[_0x35f8e8(0x869)][_0x35f8e8(0x4a4)](_0x1009e0=>_0x1009e0[_0x35f8e8(0x725)]),_0x487f44={};Object[_0x35f8e8(0x794)](_0x35a6cf[_0x35f8e8(0x235)][_0x35f8e8(0x547)])[_0x35f8e8(0x6db)](([_0x18331a,_0x2263c2])=>{const _0x2eac25=_0x35f8e8;_0x1b2603[_0x2eac25(0x77b)](_0x18331a)&&(_0x18331a===_0x2eac25(0x451)&&typeof _0x2263c2==_0x2eac25(0x38a)?_0x487f44[_0x18331a]=_0x2263c2[_0x2eac25(0x43a)](',')[_0x2eac25(0x4a4)](_0x494897=>_0x494897[_0x2eac25(0x4cf)]())[_0x2eac25(0x3f3)](_0x4b9812=>_0x4b9812!==''):_0x18331a===_0x2eac25(0x64a)&&typeof _0x2263c2==_0x2eac25(0x38a)?_0x487f44[_0x18331a]=_0x2263c2[_0x2eac25(0x43a)](',')[_0x2eac25(0x4a4)](_0x6288af=>_0x6288af[_0x2eac25(0x4cf)]())[_0x2eac25(0x3f3)](_0x46e333=>_0x46e333!==''):_0x487f44[_0x18331a]=_0x2263c2);});let _0x433595=_0x35a6cf[_0x35f8e8(0x235)][_0x35f8e8(0x318)][_0x35a6cf[_0x35f8e8(0x235)][_0x35f8e8(0x318)][_0x35f8e8(0x4f1)]-0x1];if(_0x433595){let _0x419836=_0x433595[_0x35f8e8(0x62d)];_0x419836!==void 0x0&&(_0x487f44[_0x35f8e8(0x367)]=_0x419836[_0x35f8e8(0x3d2)]());}let _0x4465f1=_0x487c20[_0x35f8e8(0x3f3)](_0x1b34da=>_0xfdbaba[_0x35f8e8(0x77b)](_0x1b34da['name']));this['logger']['verbose'](this[_0x35f8e8(0x62b)]+'\x20('+this[_0x35f8e8(0x5f5)][_0x35f8e8(0x6e3)]+_0x35f8e8(0x878)),this[_0x35f8e8(0x86b)][_0x35f8e8(0x8cc)](_0x487f44),this[_0x35f8e8(0x86b)]['verbose'](this[_0x35f8e8(0x62b)]+'\x20('+this['instance']['wuid']+_0x35f8e8(0x6ea)),this[_0x35f8e8(0x86b)][_0x35f8e8(0x8cc)](_0x4465f1);let _0x52ca17=_0x4465f1[_0x35f8e8(0x4a4)](_0x3821ea=>{const _0x4b9a5f=_0x35f8e8;let _0x36290a=this[_0x4b9a5f(0x611)]?.[_0x4b9a5f(0x869)][_0x4b9a5f(0x84a)](_0x2d44ad=>_0x2d44ad[_0x4b9a5f(0x725)]===_0x3821ea[_0x4b9a5f(0x725)]);if(!_0x36290a)throw new Error(_0x4b9a5f(0x1cf)+_0x3821ea[_0x4b9a5f(0x725)]);return{'_id':_0x36290a[_0x4b9a5f(0x81f)],'value':_0x3821ea[_0x4b9a5f(0x867)]};});this[_0x35f8e8(0x86b)][_0x35f8e8(0x8cc)](this[_0x35f8e8(0x62b)]+'\x20('+this['instance'][_0x35f8e8(0x6e3)]+_0x35f8e8(0x7b0)),this[_0x35f8e8(0x86b)][_0x35f8e8(0x8cc)](_0x52ca17),await this[_0x35f8e8(0x41f)](_0x35a6cf[_0x35f8e8(0x436)],_0x487f44,_0x52ca17);}catch(_0x1b9d32){this[_0x35f8e8(0x86b)]['error'](this['instanceName']+'\x20('+this['instance'][_0x35f8e8(0x6e3)]+_0x35f8e8(0x4c3)+(_0x1b9d32 instanceof Error?_0x1b9d32[_0x35f8e8(0x5fa)]:JSON[_0x35f8e8(0x62f)](_0x1b9d32,null,0x2)));}}else this[_0x35f8e8(0x86b)][_0x35f8e8(0x5fe)](this[_0x35f8e8(0x62b)]+'\x20('+this[_0x35f8e8(0x5f5)][_0x35f8e8(0x6e3)]+_0x35f8e8(0x602));}catch(_0x48e2da){this[_0x35f8e8(0x86b)][_0x35f8e8(0x5fe)](this['instanceName']+'\x20('+this[_0x35f8e8(0x5f5)]['wuid']+_0x35f8e8(0x80e)+(_0x48e2da instanceof Error?_0x48e2da[_0x35f8e8(0x5fa)]:JSON['stringify'](_0x48e2da,null,0x2)));}}async[a0_0xad378c(0x41f)](_0x55ccb3,_0x301b4e,_0x1d462f){const _0x527f6f=a0_0xad378c;try{let _0x167dfe={'leadInfo.leadnome':_0x301b4e[_0x527f6f(0x54d)],'leadInfo.nomecompleto':_0x301b4e[_0x527f6f(0x1d6)],'leadInfo.email':_0x301b4e[_0x527f6f(0x7d1)],'leadInfo.cpf':_0x301b4e[_0x527f6f(0x4af)],'leadInfo.status':_0x301b4e['status'],'leadInfo.notas':_0x301b4e['notas'],'leadInfo.responsavelid':_0x301b4e[_0x527f6f(0x256)],'leadInfo.tags':_0x301b4e[_0x527f6f(0x451)],'leadInfo.etiquetas':_0x301b4e['etiquetas'],'leadInfo.customFields':_0x1d462f,'leadInfo.atendimentoAberto':_0x301b4e[_0x527f6f(0x6e4)]},_0xda1cbf=await this[_0x527f6f(0x58e)][_0x527f6f(0x7cc)][_0x527f6f(0x5cc)]({'where':{'_id':_0x55ccb3}},this[_0x527f6f(0x5f5)][_0x527f6f(0x6e3)]);if(!_0xda1cbf)return'chat\x20não\x20encontrado';let _0x4f264d=new Set(_0xda1cbf[_0x527f6f(0x52b)][_0x527f6f(0x64a)]||[]),_0x176383=new Set(_0x301b4e[_0x527f6f(0x64a)]||[]),_0xba6c3c=await this[_0x527f6f(0x58e)]['label']['find']({'where':{}},this['instance']['wuid']),_0x4fcf33=new Set(_0xba6c3c['map'](_0x1a0381=>_0x1a0381[_0x527f6f(0x81f)])),_0x52bb78=[..._0x176383][_0x527f6f(0x3f3)](_0x4ccad2=>!_0x4f264d[_0x527f6f(0x206)](_0x4ccad2)&&_0x4fcf33[_0x527f6f(0x206)](_0x4ccad2)),_0x3c8c43=[..._0x4f264d][_0x527f6f(0x3f3)](_0x3ef477=>!_0x176383[_0x527f6f(0x206)](_0x3ef477));for(let _0x42bfa4 of _0x52bb78)await this[_0x527f6f(0x5bc)](_0x42bfa4,_0xda1cbf[_0x527f6f(0x81f)]),_0x4f264d[_0x527f6f(0x472)](_0x42bfa4);for(let _0x1d7fc2 of _0x3c8c43)await this[_0x527f6f(0x673)](_0x1d7fc2,_0xda1cbf[_0x527f6f(0x81f)]),_0x4f264d['delete'](_0x1d7fc2);if('desativadoFluxoAte'in _0x301b4e){let _0xa97710=_0x301b4e[_0x527f6f(0x367)];_0x167dfe[_0x527f6f(0x5ad)]=_0xa97710?Number(_0xa97710):null;}if(_0x527f6f(0x6e4)in _0x301b4e){let _0x2f89b3=_0x301b4e[_0x527f6f(0x6e4)][_0x527f6f(0x16c)]();_0x167dfe[_0x527f6f(0x8d8)]=_0x2f89b3===_0x527f6f(0x81e)||_0x2f89b3==='1'||_0x2f89b3===_0x527f6f(0x492)||_0x2f89b3===_0x527f6f(0x8a7);}let _0xc3b305=await this[_0x527f6f(0x58e)][_0x527f6f(0x7cc)][_0x527f6f(0x71b)]({'where':{'_id':_0x55ccb3}},_0x167dfe,this[_0x527f6f(0x5f5)]['wuid']);_0xc3b305?(this[_0x527f6f(0x86b)][_0x527f6f(0x8cc)](this[_0x527f6f(0x62b)]+'\x20('+this[_0x527f6f(0x5f5)]['wuid']+_0x527f6f(0x717)+_0xc3b305[_0x527f6f(0x81f)]),U(this[_0x527f6f(0x62b)],_0x527f6f(0x829),{'chat':_0xc3b305})):this[_0x527f6f(0x86b)][_0x527f6f(0x5fe)](this['instanceName']+'\x20('+this[_0x527f6f(0x5f5)][_0x527f6f(0x6e3)]+_0x527f6f(0x2a9));}catch(_0x344649){this['logger']['error'](this[_0x527f6f(0x62b)]+'\x20('+this['instance'][_0x527f6f(0x6e3)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x344649 instanceof Error?_0x344649[_0x527f6f(0x5fa)]:JSON[_0x527f6f(0x62f)](_0x344649,null,0x2)));}}async[a0_0xad378c(0x382)](_0x344c41,_0x21e7b1){const _0x2d1f1a=a0_0xad378c;this['logger']['verbose'](this[_0x2d1f1a(0x62b)]+'\x20('+this[_0x2d1f1a(0x5f5)][_0x2d1f1a(0x6e3)]+_0x2d1f1a(0x2ab)+_0x21e7b1);try{let _0x2122e2=await this['repository'][_0x2d1f1a(0x7cc)][_0x2d1f1a(0x71b)]({'where':{'_id':_0x344c41['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x21e7b1},this[_0x2d1f1a(0x5f5)]['wuid']);this[_0x2d1f1a(0x86b)][_0x2d1f1a(0x8cc)](this[_0x2d1f1a(0x62b)]+'\x20('+this[_0x2d1f1a(0x5f5)][_0x2d1f1a(0x6e3)]+_0x2d1f1a(0x474)+_0x344c41['_id']),this[_0x2d1f1a(0x86b)][_0x2d1f1a(0x8cc)](this[_0x2d1f1a(0x62b)]+'\x20('+this[_0x2d1f1a(0x5f5)][_0x2d1f1a(0x6e3)]+'):\x20atualização\x20chat:\x20'+JSON[_0x2d1f1a(0x62f)](_0x2122e2,null,0x2)),_0x2122e2&&U(this['instanceName'],_0x2d1f1a(0x829),{'chat':_0x2122e2});}catch(_0x449435){this[_0x2d1f1a(0x86b)][_0x2d1f1a(0x5fe)](this[_0x2d1f1a(0x62b)]+'\x20('+this[_0x2d1f1a(0x5f5)][_0x2d1f1a(0x6e3)]+_0x2d1f1a(0x379)+(_0x449435 instanceof Error?_0x449435['message']:JSON[_0x2d1f1a(0x62f)](_0x449435,null,0x2)));}}async[a0_0xad378c(0x5d1)](_0x3e1c96){const _0x4b13c0=a0_0xad378c;try{this['logger'][_0x4b13c0(0x8cc)](this[_0x4b13c0(0x62b)]+'\x20('+this[_0x4b13c0(0x5f5)]['wuid']+'):\x20Buscando\x20flow...');let _0x50efc2=_0x3e1c96['replace'](/\D/g,''),_0x4c545d=this[_0x4b13c0(0x611)][_0x4b13c0(0x20c)]['find'](_0x3ff6d7=>_0x3ff6d7[_0x4b13c0(0x339)]===_0x50efc2);if(_0x4c545d||(this[_0x4b13c0(0x86b)][_0x4b13c0(0x8cc)](this[_0x4b13c0(0x62b)]+'\x20('+this[_0x4b13c0(0x5f5)][_0x4b13c0(0x6e3)]+_0x4b13c0(0x8b3)),_0x4c545d=this[_0x4b13c0(0x611)][_0x4b13c0(0x20c)][_0x4b13c0(0x84a)](_0x597c77=>_0x597c77[_0x4b13c0(0x7c4)]===!0x0)),!_0x4c545d)return this[_0x4b13c0(0x86b)][_0x4b13c0(0x8cc)](this[_0x4b13c0(0x62b)]+'\x20('+this[_0x4b13c0(0x5f5)][_0x4b13c0(0x6e3)]+_0x4b13c0(0x847)),null;let _0x292266=await this[_0x4b13c0(0x58e)][_0x4b13c0(0x77f)]['findOne']({'where':{'_id':_0x4c545d[_0x4b13c0(0x81f)]}});if(!_0x292266||!_0x292266[_0x4b13c0(0x7e6)]?.[_0x4b13c0(0x77b)](this['instance'][_0x4b13c0(0x6e3)]))throw this[_0x4b13c0(0x86b)][_0x4b13c0(0x5fe)](this[_0x4b13c0(0x62b)]+'\x20('+this[_0x4b13c0(0x5f5)][_0x4b13c0(0x6e3)]+_0x4b13c0(0x574)+_0x292266['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x4b13c0(0x787)+_0x292266[_0x4b13c0(0x81f)]+_0x4b13c0(0x1f8));return _0x292266;}catch(_0x2ce10f){return this[_0x4b13c0(0x86b)]['error'](this[_0x4b13c0(0x62b)]+'\x20('+this[_0x4b13c0(0x5f5)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x2ce10f instanceof Error?_0x2ce10f[_0x4b13c0(0x5fa)]:JSON[_0x4b13c0(0x62f)](_0x2ce10f,null,0x2))),null;}}async[a0_0xad378c(0x402)](_0x1a45e2,_0x40536c){const _0x369e0e=a0_0xad378c;try{let _0x3c36b2=!!_0x40536c['vote'],_0xdf65ba=_0x40536c['quoted'],_0x338131=null;if(this[_0x369e0e(0x86b)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x369e0e(0x30b)+_0x3c36b2+_0x369e0e(0x8ca)+_0xdf65ba),_0x3c36b2){this[_0x369e0e(0x86b)][_0x369e0e(0x8cc)](this[_0x369e0e(0x62b)]+'\x20('+this[_0x369e0e(0x5f5)][_0x369e0e(0x6e3)]+_0x369e0e(0x6cd));let _0x414045={'where':{'remoteJid':_0x1a45e2,'waitingMenu_id':_0xdf65ba}};if(_0x338131=await this['repository'][_0x369e0e(0x5b4)][_0x369e0e(0x5cc)](_0x414045,this[_0x369e0e(0x5f5)][_0x369e0e(0x6e3)]),!_0x338131)return this[_0x369e0e(0x86b)]['verbose'](this[_0x369e0e(0x62b)]+'\x20('+this[_0x369e0e(0x5f5)][_0x369e0e(0x6e3)]+_0x369e0e(0x3be)),null;let _0x3f0880=Date[_0x369e0e(0x54c)](),_0x466a33=_0x338131?.[_0x369e0e(0x8bd)]||0x0,_0x9b4540=_0x3f0880-_0x466a33*0x3c*0x3e8;if(_0x338131[_0x369e0e(0x188)]<_0x9b4540){this[_0x369e0e(0x86b)]['verbose'](this[_0x369e0e(0x62b)]+'\x20('+this['instance']['wuid']+_0x369e0e(0x34d));let _0x4b9de3={'number':_0x338131[_0x369e0e(0x436)],'options':{'delay':0x0},'textMessage':{'text':_0x338131[_0x369e0e(0x518)]}};await this['textMessage'](_0x4b9de3);let _0x37c808={'status':_0x369e0e(0x6d9),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x369e0e(0x5b4)][_0x369e0e(0x71b)](_0x338131[_0x369e0e(0x81f)],_0x37c808,this[_0x369e0e(0x5f5)][_0x369e0e(0x6e3)]),null;}return _0x338131[_0x369e0e(0x188)]=Date[_0x369e0e(0x54c)](),_0x338131[_0x369e0e(0x235)][_0x369e0e(0x629)]=_0x40536c,_0x338131;}else{this['logger'][_0x369e0e(0x8cc)](this['instanceName']+'\x20('+this[_0x369e0e(0x5f5)][_0x369e0e(0x6e3)]+'):\x20'+this[_0x369e0e(0x5f5)]['wuid']+_0x369e0e(0x774)),this[_0x369e0e(0x86b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x369e0e(0x6e3)]+'):\x20Procurando\x20conversa');let _0x5d051e={'where':{'remoteJid':_0x1a45e2,'status':_0x369e0e(0x522)}};if(_0x338131=await this[_0x369e0e(0x58e)][_0x369e0e(0x5b4)][_0x369e0e(0x5cc)](_0x5d051e,this['instance'][_0x369e0e(0x6e3)]),!_0x338131){let _0x24b4a5=await this[_0x369e0e(0x5d1)](_0x1a45e2);if(_0x24b4a5&&(_0x338131=await this[_0x369e0e(0x30a)](_0x24b4a5,_0x40536c['key'],_0x40536c)),!_0x338131)return null;}let _0x13731c=Date['now'](),_0x2ae2a8=_0x338131?.[_0x369e0e(0x8bd)]||0x0,_0x534b01=_0x13731c-_0x2ae2a8*0x3c*0x3e8;if(this['logger'][_0x369e0e(0x8cc)](this[_0x369e0e(0x62b)]+'\x20('+this[_0x369e0e(0x5f5)][_0x369e0e(0x6e3)]+_0x369e0e(0x389)+_0x13731c+_0x369e0e(0x20f)+_0x2ae2a8+_0x369e0e(0x68c)+_0x534b01),this['logger'][_0x369e0e(0x8cc)](this['instanceName']+'\x20('+this[_0x369e0e(0x5f5)][_0x369e0e(0x6e3)]+_0x369e0e(0x894)),this[_0x369e0e(0x86b)][_0x369e0e(0x8cc)](this['instanceName']+'\x20('+this[_0x369e0e(0x5f5)][_0x369e0e(0x6e3)]+_0x369e0e(0x671)+_0x338131[_0x369e0e(0x188)]),this['logger'][_0x369e0e(0x8cc)](this['instanceName']+'\x20('+this['instance'][_0x369e0e(0x6e3)]+'):\x20expirationTime:\x20'+_0x534b01),_0x338131[_0x369e0e(0x188)]<_0x534b01){this[_0x369e0e(0x86b)][_0x369e0e(0x8cc)](this[_0x369e0e(0x62b)]+'\x20('+this[_0x369e0e(0x5f5)][_0x369e0e(0x6e3)]+_0x369e0e(0x272));let _0x588224=await this[_0x369e0e(0x5d1)](_0x1a45e2);if(_0x588224===null)return null;_0x338131&&await this['repository']['flowConversation'][_0x369e0e(0x71b)](_0x338131[_0x369e0e(0x81f)],{'status':_0x369e0e(0x6d9)},this[_0x369e0e(0x5f5)]['wuid']),_0x338131=await this[_0x369e0e(0x30a)](_0x588224,_0x40536c[_0x369e0e(0x4ff)],_0x40536c);}return _0x338131[_0x369e0e(0x188)]=_0x13731c,_0x338131['chatLog'][_0x369e0e(0x629)]=_0x40536c,_0x338131;}}catch(_0x528adb){return this[_0x369e0e(0x86b)]['error'](this[_0x369e0e(0x62b)]+'\x20('+this[_0x369e0e(0x5f5)]['wuid']+_0x369e0e(0x52a)+(_0x528adb instanceof Error?_0x528adb['message']:JSON['stringify'](_0x528adb,null,0x2))),null;}}async[a0_0xad378c(0x30a)](_0x116852,_0x3fc5f5,_0x5b6b3b){const _0x364031=a0_0xad378c;this[_0x364031(0x86b)]['verbose'](this['instanceName']+'\x20('+this[_0x364031(0x5f5)][_0x364031(0x6e3)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0xd327f5=require(_0x364031(0x16f))['ObjectId'],_0x23f0c7=Date['now'](),_0x57bd62=_0x364031(0x4c1),_0x56f6f7=_0x3fc5f5[_0x364031(0x587)]?null:_0x5b6b3b,_0x360305=_0x3fc5f5[_0x364031(0x587)]?_0x5b6b3b:null,_0x490670=_0x3fc5f5[_0x364031(0x436)],_0x299d56=this[_0x364031(0x611)][_0x364031(0x20c)]['find'](_0x122e49=>_0x122e49[_0x364031(0x81f)]===_0x116852[_0x364031(0x81f)]?.['toString']()),_0x236136=_0x299d56?.['minutesToClose']??_0x116852[_0x364031(0x8bd)]??0x0,_0x1072ae=_0x299d56?.[_0x364031(0x5ea)]??_0x116852[_0x364031(0x5ea)]??!0x1;await this['closeExistingConversations'](_0x490670);let _0x42950e={'flowId':_0x116852[_0x364031(0x81f)],..._0x116852,'chatLog':null},_0x32783f=await this[_0x364031(0x776)](_0x42950e[_0x364031(0x7a5)]),_0x38079b=await this['getVariablesChat'](_0x490670),_0x16cb7a={..._0x32783f,..._0x38079b,'_remoteJid':_0x490670},_0x38bf4b={'lastReceivedMessage':_0x56f6f7,'lastSendMessage':_0x360305,'lastBlockId':_0x57bd62,'lastCondition':!0x0,'realVariables':_0x16cb7a};_0x42950e[_0x364031(0x235)]=_0x38bf4b,delete _0x42950e['_id'],_0x42950e[_0x364031(0x81f)]=new _0xd327f5(),_0x42950e['lastInteraction']=_0x23f0c7,_0x42950e[_0x364031(0x616)]='open',_0x42950e['remoteJid']=_0x490670,_0x42950e[_0x364031(0x8bd)]=_0x236136,_0x42950e['readMessages']=_0x1072ae;let _0x8186c6=await this[_0x364031(0x58e)][_0x364031(0x5b4)][_0x364031(0x71b)](_0x42950e[_0x364031(0x81f)],_0x42950e,this[_0x364031(0x5f5)][_0x364031(0x6e3)]);return this[_0x364031(0x86b)][_0x364031(0x8cc)](this[_0x364031(0x62b)]+'\x20('+this['instance'][_0x364031(0x6e3)]+_0x364031(0x5b8)),_0x8186c6?_0x42950e:null;}catch(_0x5a0ded){return this[_0x364031(0x86b)]['error'](this['instanceName']+'\x20('+this[_0x364031(0x5f5)][_0x364031(0x6e3)]+_0x364031(0x24d)+(_0x5a0ded instanceof Error?_0x5a0ded[_0x364031(0x5fa)]:JSON[_0x364031(0x62f)](_0x5a0ded,null,0x2))),_0x5a0ded;}}async[a0_0xad378c(0x525)](_0x18149a,_0x18588f){const _0x4fe66b=a0_0xad378c;let _0x27c527=_0x18149a[_0x4fe66b(0x436)];_0x18588f[_0x4fe66b(0x679)]['remoteJid']&&_0x18588f[_0x4fe66b(0x679)][_0x4fe66b(0x436)]['trim']()!==''&&(_0x27c527=_0x18588f['uazapi'][_0x4fe66b(0x436)]['trim']()),this[_0x4fe66b(0x86b)]['verbose'](this[_0x4fe66b(0x62b)]+'\x20('+this[_0x4fe66b(0x5f5)][_0x4fe66b(0x6e3)]+'):\x20Enviando\x20texto');let _0x51386f={'number':_0x27c527,'options':{'delay':_0x18588f[_0x4fe66b(0x679)][_0x4fe66b(0x636)],'linkPreview':_0x18588f['uazapi'][_0x4fe66b(0x1c1)]},'textMessage':{'text':_0x18588f['uazapi'][_0x4fe66b(0x34c)]}};try{let _0x1610b8=await this['textMessage'](_0x51386f);if(_0x1610b8){let _0x2409b5={'_id':_0x1610b8[_0x4fe66b(0x4ff)]['id'],'_fromMe':_0x1610b8[_0x4fe66b(0x4ff)][_0x4fe66b(0x587)],'_remoteJid':_0x1610b8[_0x4fe66b(0x4ff)][_0x4fe66b(0x436)]},_0x10f705=(0x0,w[_0x4fe66b(0x22c)])(_0x1610b8[_0x4fe66b(0x5fa)]),_0x3c4c81=(0x0,w[_0x4fe66b(0x618)])(_0x10f705);_0x18149a[_0x4fe66b(0x235)][_0x4fe66b(0x1b9)]=_0x18588f[_0x4fe66b(0x81f)]['toString']();let {message_normalized:_0x292817}=this[_0x4fe66b(0x664)](_0x10f705,_0x3c4c81,null);_0x18149a['chatLog'][_0x4fe66b(0x7af)]=await _0x292817;let _0x527bdf={'messageId':_0x1610b8['key']['id']},_0x2df027=_0x18149a[_0x4fe66b(0x235)][_0x4fe66b(0x547)];Object['assign'](_0x2df027,_0x2409b5),_0x18149a['chatLog']['realVariables']=_0x2df027,this[_0x4fe66b(0x1ce)](_0x18149a,_0x18588f,_0x527bdf);}else{let _0x2bd4bb={'error':!0x0};this['updateConversation'](_0x18149a,_0x18588f,_0x2bd4bb),this[_0x4fe66b(0x86b)][_0x4fe66b(0x5fe)](this[_0x4fe66b(0x62b)]+'\x20('+this[_0x4fe66b(0x5f5)][_0x4fe66b(0x6e3)]+_0x4fe66b(0x3c0));}}catch(_0x3aff61){let _0x58c189={'error':!0x0,'errorLog':_0x3aff61[_0x4fe66b(0x3d2)]()};this[_0x4fe66b(0x1ce)](_0x18149a,_0x18588f,_0x58c189),this[_0x4fe66b(0x86b)][_0x4fe66b(0x5fe)](this[_0x4fe66b(0x62b)]+'\x20('+this[_0x4fe66b(0x5f5)][_0x4fe66b(0x6e3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x3aff61 instanceof Error?_0x3aff61[_0x4fe66b(0x5fa)]:JSON[_0x4fe66b(0x62f)](_0x3aff61,null,0x2)));}}async['uazapiSendMedia'](_0x2c8e67,_0x324b28){const _0x1a6c9c=a0_0xad378c;let _0x21f835=_0x2c8e67[_0x1a6c9c(0x436)];_0x324b28[_0x1a6c9c(0x679)][_0x1a6c9c(0x436)]&&_0x324b28[_0x1a6c9c(0x679)][_0x1a6c9c(0x436)]['trim']()!==''&&(_0x21f835=_0x324b28[_0x1a6c9c(0x679)][_0x1a6c9c(0x436)]['trim']()),this['logger'][_0x1a6c9c(0x8cc)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1a6c9c(0x3c7));let _0x4019b8={'number':_0x21f835,'options':{'delay':_0x324b28['uazapi']['delay'],'linkPreview':_0x324b28['uazapi'][_0x1a6c9c(0x1c1)]},'mediaMessage':{'mediatype':_0x324b28['uazapi'][_0x1a6c9c(0x7fd)],'caption':_0x324b28[_0x1a6c9c(0x679)][_0x1a6c9c(0x5f7)],'media':_0x324b28[_0x1a6c9c(0x679)][_0x1a6c9c(0x80c)],'fileName':_0x324b28[_0x1a6c9c(0x679)][_0x1a6c9c(0x432)]}};try{let _0x2d8006=await this[_0x1a6c9c(0x7a0)](_0x4019b8);if(_0x2d8006){let _0x87658={'_id':_0x2d8006[_0x1a6c9c(0x4ff)]['id'],'_fromMe':_0x2d8006[_0x1a6c9c(0x4ff)][_0x1a6c9c(0x587)],'_remoteJid':_0x2d8006[_0x1a6c9c(0x4ff)][_0x1a6c9c(0x436)]},_0xce867e=(0x0,w[_0x1a6c9c(0x22c)])(_0x2d8006[_0x1a6c9c(0x5fa)]),_0xa2cc37=(0x0,w[_0x1a6c9c(0x618)])(_0xce867e);_0x2c8e67['chatLog'][_0x1a6c9c(0x1b9)]=_0x324b28[_0x1a6c9c(0x81f)][_0x1a6c9c(0x3d2)]();let {message_normalized:_0x2902cf}=this[_0x1a6c9c(0x664)](_0xce867e,_0xa2cc37,null);_0x2c8e67[_0x1a6c9c(0x235)][_0x1a6c9c(0x7af)]=await _0x2902cf;let _0x4a0c5a={'messageId':_0x2d8006[_0x1a6c9c(0x4ff)]['id']},_0x5f531d=_0x2c8e67[_0x1a6c9c(0x235)][_0x1a6c9c(0x547)];Object['assign'](_0x5f531d,_0x87658),_0x2c8e67[_0x1a6c9c(0x235)][_0x1a6c9c(0x547)]=_0x5f531d,this[_0x1a6c9c(0x1ce)](_0x2c8e67,_0x324b28,_0x4a0c5a);}else{let _0x2842c3={'error':!0x0};this['updateConversation'](_0x2c8e67,_0x324b28,_0x2842c3),this['logger']['error'](this[_0x1a6c9c(0x62b)]+'\x20('+this[_0x1a6c9c(0x5f5)][_0x1a6c9c(0x6e3)]+_0x1a6c9c(0x1f3));}}catch(_0x5a2f32){let _0x29a386={'error':!0x0,'errorLog':_0x5a2f32[_0x1a6c9c(0x3d2)]()};this[_0x1a6c9c(0x1ce)](_0x2c8e67,_0x324b28,_0x29a386),this['logger']['error'](this[_0x1a6c9c(0x62b)]+'\x20('+this[_0x1a6c9c(0x5f5)][_0x1a6c9c(0x6e3)]+_0x1a6c9c(0x30f)+(_0x5a2f32 instanceof Error?_0x5a2f32[_0x1a6c9c(0x5fa)]:JSON[_0x1a6c9c(0x62f)](_0x5a2f32,null,0x2)));}}async[a0_0xad378c(0x342)](_0xe332c8,_0x1416a1){const _0x44d253=a0_0xad378c;let _0x10e46c=_0xe332c8['remoteJid'];_0x1416a1[_0x44d253(0x679)][_0x44d253(0x436)]&&_0x1416a1[_0x44d253(0x679)]['remoteJid'][_0x44d253(0x4cf)]()!==''&&(_0x10e46c=_0x1416a1['uazapi'][_0x44d253(0x436)][_0x44d253(0x4cf)]()),this[_0x44d253(0x86b)][_0x44d253(0x8cc)](this[_0x44d253(0x62b)]+'\x20('+this[_0x44d253(0x5f5)]['wuid']+_0x44d253(0x3ec));let _0x278bd4={'number':_0x10e46c,'options':{'delay':_0x1416a1[_0x44d253(0x679)][_0x44d253(0x636)]},'locationMessage':{'name':_0x1416a1[_0x44d253(0x679)]['name'],'address':_0x1416a1[_0x44d253(0x679)]['address'],'latitude':_0x1416a1[_0x44d253(0x679)][_0x44d253(0x47b)],'longitude':_0x1416a1[_0x44d253(0x679)][_0x44d253(0x2b2)]}};try{let _0x3568fd=await this[_0x44d253(0x86f)](_0x278bd4);if(_0x3568fd){let _0x2261ed={'_id':_0x3568fd[_0x44d253(0x4ff)]['id'],'_fromMe':_0x3568fd[_0x44d253(0x4ff)]['fromMe'],'_remoteJid':_0x3568fd[_0x44d253(0x4ff)][_0x44d253(0x436)]},_0x366e96=(0x0,w[_0x44d253(0x22c)])(_0x3568fd[_0x44d253(0x5fa)]),_0x5812d3=(0x0,w['getContentType'])(_0x366e96);_0xe332c8[_0x44d253(0x235)][_0x44d253(0x1b9)]=_0x1416a1['_id'][_0x44d253(0x3d2)]();let {message_normalized:_0x576c8b}=this[_0x44d253(0x664)](_0x366e96,_0x5812d3,null);_0xe332c8['chatLog'][_0x44d253(0x7af)]=await _0x576c8b;let _0x66e048={'messageId':_0x3568fd[_0x44d253(0x4ff)]['id']},_0x3f6801=_0xe332c8[_0x44d253(0x235)]['realVariables'];Object[_0x44d253(0x39f)](_0x3f6801,_0x2261ed),_0xe332c8[_0x44d253(0x235)]['realVariables']=_0x3f6801,this[_0x44d253(0x1ce)](_0xe332c8,_0x1416a1,_0x66e048);}else{let _0x29ac67={'error':!0x0};this[_0x44d253(0x1ce)](_0xe332c8,_0x1416a1,_0x29ac67),this[_0x44d253(0x86b)][_0x44d253(0x5fe)](this['instanceName']+'\x20('+this[_0x44d253(0x5f5)][_0x44d253(0x6e3)]+_0x44d253(0x3ea));}}catch(_0x283756){let _0x20d080={'error':!0x0,'errorLog':_0x283756[_0x44d253(0x3d2)]()};this['updateConversation'](_0xe332c8,_0x1416a1,_0x20d080),this[_0x44d253(0x86b)][_0x44d253(0x5fe)](this[_0x44d253(0x62b)]+'\x20('+this[_0x44d253(0x5f5)][_0x44d253(0x6e3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x283756 instanceof Error?_0x283756[_0x44d253(0x5fa)]:JSON['stringify'](_0x283756,null,0x2)));}}async['uazapiSendAudio'](_0x48430b,_0x2fc073){const _0x1bd718=a0_0xad378c;let _0x5d35df=_0x48430b['remoteJid'];_0x2fc073[_0x1bd718(0x679)][_0x1bd718(0x436)]&&_0x2fc073[_0x1bd718(0x679)]['remoteJid'][_0x1bd718(0x4cf)]()!==''&&(_0x5d35df=_0x2fc073[_0x1bd718(0x679)][_0x1bd718(0x436)][_0x1bd718(0x4cf)]()),this[_0x1bd718(0x86b)][_0x1bd718(0x8cc)](this[_0x1bd718(0x62b)]+'\x20('+this[_0x1bd718(0x5f5)][_0x1bd718(0x6e3)]+'):\x20Enviando\x20áudio');let _0x5c9746={'number':_0x5d35df,'options':{'delay':_0x2fc073[_0x1bd718(0x679)][_0x1bd718(0x636)]},'audioMessage':{'audio':_0x2fc073[_0x1bd718(0x679)][_0x1bd718(0x72e)]}};try{let _0x57c256=await this[_0x1bd718(0x5ed)](_0x5c9746);if(_0x57c256){let _0x4a561a={'_id':_0x57c256[_0x1bd718(0x4ff)]['id'],'_fromMe':_0x57c256[_0x1bd718(0x4ff)]['fromMe'],'_remoteJid':_0x57c256[_0x1bd718(0x4ff)][_0x1bd718(0x436)]},_0x3781a2=(0x0,w[_0x1bd718(0x22c)])(_0x57c256['message']),_0x2dc5b4=(0x0,w[_0x1bd718(0x618)])(_0x3781a2);_0x48430b['chatLog'][_0x1bd718(0x1b9)]=_0x2fc073[_0x1bd718(0x81f)][_0x1bd718(0x3d2)]();let {message_normalized:_0x14a1a8}=this['normalizeMessage'](_0x3781a2,_0x2dc5b4,null);_0x48430b[_0x1bd718(0x235)][_0x1bd718(0x7af)]=await _0x14a1a8;let _0x597d9c={'messageId':_0x57c256[_0x1bd718(0x4ff)]['id']},_0x57cec9=_0x48430b[_0x1bd718(0x235)][_0x1bd718(0x547)];Object['assign'](_0x57cec9,_0x4a561a),_0x48430b[_0x1bd718(0x235)]['realVariables']=_0x57cec9,this[_0x1bd718(0x1ce)](_0x48430b,_0x2fc073,_0x597d9c);}else{let _0x31e5f2={'error':!0x0};this['updateConversation'](_0x48430b,_0x2fc073,_0x31e5f2),this[_0x1bd718(0x86b)][_0x1bd718(0x5fe)](this[_0x1bd718(0x62b)]+'\x20('+this[_0x1bd718(0x5f5)][_0x1bd718(0x6e3)]+_0x1bd718(0x46a));}}catch(_0x32f1ec){let _0x5c72a7={'error':!0x0,'errorLog':_0x32f1ec['toString']()};this[_0x1bd718(0x1ce)](_0x48430b,_0x2fc073,_0x5c72a7),this[_0x1bd718(0x86b)][_0x1bd718(0x5fe)](this[_0x1bd718(0x62b)]+'\x20('+this[_0x1bd718(0x5f5)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x32f1ec instanceof Error?_0x32f1ec[_0x1bd718(0x5fa)]:JSON[_0x1bd718(0x62f)](_0x32f1ec,null,0x2)));}}async[a0_0xad378c(0x744)](_0x35d60e,_0x17e55d){const _0x5b7dd3=a0_0xad378c;let _0x1020dd=_0x35d60e[_0x5b7dd3(0x436)];_0x17e55d[_0x5b7dd3(0x679)][_0x5b7dd3(0x436)]&&_0x17e55d[_0x5b7dd3(0x679)][_0x5b7dd3(0x436)]['trim']()!==''&&(_0x1020dd=_0x17e55d['uazapi'][_0x5b7dd3(0x436)][_0x5b7dd3(0x4cf)]()),this[_0x5b7dd3(0x86b)][_0x5b7dd3(0x8cc)](this['instanceName']+'\x20('+this['instance'][_0x5b7dd3(0x6e3)]+_0x5b7dd3(0x444));let _0x132c6a={'number':_0x1020dd,'options':{'delay':_0x17e55d[_0x5b7dd3(0x679)][_0x5b7dd3(0x636)]},'contactMessage':[{'fullName':_0x17e55d[_0x5b7dd3(0x679)][_0x5b7dd3(0x50d)],'phoneNumber':_0x17e55d[_0x5b7dd3(0x679)]['phoneNumber']}]};try{let _0x9033cc=await this[_0x5b7dd3(0x1b4)](_0x132c6a);if(_0x9033cc){let _0x336da3={'_id':_0x9033cc[_0x5b7dd3(0x4ff)]['id'],'_fromMe':_0x9033cc[_0x5b7dd3(0x4ff)][_0x5b7dd3(0x587)],'_remoteJid':_0x9033cc['key'][_0x5b7dd3(0x436)]},_0x396d34=(0x0,w[_0x5b7dd3(0x22c)])(_0x9033cc[_0x5b7dd3(0x5fa)]),_0x27a739=(0x0,w[_0x5b7dd3(0x618)])(_0x396d34);_0x35d60e[_0x5b7dd3(0x235)][_0x5b7dd3(0x1b9)]=_0x17e55d['_id']['toString']();let {message_normalized:_0x5cb561}=this[_0x5b7dd3(0x664)](_0x396d34,_0x27a739,null);_0x35d60e[_0x5b7dd3(0x235)][_0x5b7dd3(0x7af)]=await _0x5cb561;let _0xa3669f={'messageId':_0x9033cc[_0x5b7dd3(0x4ff)]['id']},_0x51b13d=_0x35d60e['chatLog']['realVariables'];Object[_0x5b7dd3(0x39f)](_0x51b13d,_0x336da3),_0x35d60e[_0x5b7dd3(0x235)][_0x5b7dd3(0x547)]=_0x51b13d,this[_0x5b7dd3(0x1ce)](_0x35d60e,_0x17e55d,_0xa3669f);}else{let _0x19cc85={'error':!0x0};this[_0x5b7dd3(0x1ce)](_0x35d60e,_0x17e55d,_0x19cc85),this['logger'][_0x5b7dd3(0x5fe)](this[_0x5b7dd3(0x62b)]+'\x20('+this['instance'][_0x5b7dd3(0x6e3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x7cca3c){let _0x50b51d={'error':!0x0,'errorLog':_0x7cca3c[_0x5b7dd3(0x3d2)]()};this[_0x5b7dd3(0x1ce)](_0x35d60e,_0x17e55d,_0x50b51d),this[_0x5b7dd3(0x86b)][_0x5b7dd3(0x5fe)](this[_0x5b7dd3(0x62b)]+'\x20('+this['instance'][_0x5b7dd3(0x6e3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x7cca3c instanceof Error?_0x7cca3c[_0x5b7dd3(0x5fa)]:JSON['stringify'](_0x7cca3c,null,0x2)));}}[a0_0xad378c(0x4dd)](_0x217db0,_0x16dbee){const _0x478b98=a0_0xad378c;for(let _0x4c5aed of _0x217db0)_0x4c5aed[_0x478b98(0x6af)]&&(_0x4c5aed[_0x478b98(0x6af)]=this[_0x478b98(0x63a)](_0x4c5aed[_0x478b98(0x6af)],_0x16dbee)),_0x4c5aed[_0x478b98(0x348)]&&(_0x4c5aed[_0x478b98(0x348)]=this[_0x478b98(0x63a)](_0x4c5aed[_0x478b98(0x348)],_0x16dbee));}async['uazapiSendMenu'](_0x5cb7e4,_0x2d4ab4){const _0x2392c5=a0_0xad378c;let _0x1c524c=_0x5cb7e4[_0x2392c5(0x436)];_0x2d4ab4[_0x2392c5(0x679)][_0x2392c5(0x436)]&&_0x2d4ab4[_0x2392c5(0x679)][_0x2392c5(0x436)][_0x2392c5(0x4cf)]()!==''&&(_0x1c524c=_0x2d4ab4[_0x2392c5(0x679)][_0x2392c5(0x436)][_0x2392c5(0x4cf)]()),this['logger']['verbose'](this[_0x2392c5(0x62b)]+'\x20('+this[_0x2392c5(0x5f5)][_0x2392c5(0x6e3)]+_0x2392c5(0x578));let _0x3c8308=_0x5cb7e4['replyOptions'][_0x2392c5(0x3f3)](_0x2147f1=>_0x2147f1[_0x2392c5(0x259)]===_0x2d4ab4[_0x2392c5(0x81f)])[_0x2392c5(0x366)]((_0x434379,_0x731b59)=>_0x434379['order']-_0x731b59['order']);this[_0x2392c5(0x4dd)](_0x3c8308,_0x5cb7e4[_0x2392c5(0x235)][_0x2392c5(0x547)]);let _0x33ae43=_0x3c8308[_0x2392c5(0x4a4)](_0x74fac3=>_0x74fac3[_0x2392c5(0x6af)]),_0x5d1abf={'number':_0x1c524c,'menuMessage':{'type':_0x2d4ab4['uazapi']['menuType']||'poll','text':_0x2d4ab4[_0x2392c5(0x679)]['text']||_0x2d4ab4[_0x2392c5(0x679)][_0x2392c5(0x725)],'footerText':_0x2d4ab4[_0x2392c5(0x679)]['footerText'],'buttonText':_0x2d4ab4[_0x2392c5(0x679)][_0x2392c5(0x1e0)],'selectableCount':0x1,'choices':_0x33ae43},'options':{'delay':_0x2d4ab4[_0x2392c5(0x679)][_0x2392c5(0x636)]}};try{let _0x1facbe=await this[_0x2392c5(0x71a)](_0x5d1abf);if(_0x1facbe){let _0x386c08={'_id':_0x1facbe[_0x2392c5(0x4ff)]['id'],'_fromMe':_0x1facbe['key'][_0x2392c5(0x587)],'_remoteJid':_0x1facbe['key']['remoteJid']};_0x2d4ab4[_0x2392c5(0x679)][_0x2392c5(0x87f)]===!0x0&&(_0x5cb7e4[_0x2392c5(0x616)]=_0x2392c5(0x26f),this[_0x2392c5(0x86b)][_0x2392c5(0x8cc)](this['instanceName']+'\x20('+this[_0x2392c5(0x5f5)]['wuid']+_0x2392c5(0x8ab)+_0x5cb7e4[_0x2392c5(0x616)])),this[_0x2392c5(0x86b)][_0x2392c5(0x8cc)](this[_0x2392c5(0x62b)]+'\x20('+this['instance']['wuid']+_0x2392c5(0x1bb)+(_0x2d4ab4[_0x2392c5(0x679)][_0x2392c5(0x725)]||_0x2d4ab4[_0x2392c5(0x679)]['text'])),_0x5cb7e4[_0x2392c5(0x8bb)]=_0x1facbe[_0x2392c5(0x4ff)]['id'],_0x5cb7e4[_0x2392c5(0x49e)]=_0x2d4ab4[_0x2392c5(0x679)][_0x2392c5(0x725)]||_0x2d4ab4[_0x2392c5(0x679)][_0x2392c5(0x34c)],_0x5cb7e4['waitingMenu_replyOptions']=_0x3c8308,_0x2d4ab4[_0x2392c5(0x679)][_0x2392c5(0x6ce)]&&(_0x5cb7e4['waitingMenu_ExpiredMessage']=_0x2d4ab4[_0x2392c5(0x679)]['menuExpiredMessage']),this[_0x2392c5(0x86b)][_0x2392c5(0x8cc)](this[_0x2392c5(0x62b)]+'\x20('+this[_0x2392c5(0x5f5)][_0x2392c5(0x6e3)]+_0x2392c5(0x3a5)+_0x5cb7e4[_0x2392c5(0x49e)]);let _0x539fcf=(0x0,w[_0x2392c5(0x22c)])(_0x1facbe[_0x2392c5(0x5fa)]),_0x1afd15=(0x0,w['getContentType'])(_0x539fcf);_0x5cb7e4[_0x2392c5(0x235)][_0x2392c5(0x1b9)]=_0x2d4ab4[_0x2392c5(0x81f)][_0x2392c5(0x3d2)]();let {message_normalized:_0x336509}=this['normalizeMessage'](_0x539fcf,_0x1afd15,null);_0x5cb7e4[_0x2392c5(0x235)][_0x2392c5(0x7af)]=await _0x336509;let _0xc6f3ca={'messageId':_0x1facbe['key']['id']},_0x12b50a=_0x5cb7e4['chatLog'][_0x2392c5(0x547)];Object[_0x2392c5(0x39f)](_0x12b50a,_0x386c08),_0x5cb7e4['chatLog'][_0x2392c5(0x547)]=_0x12b50a,this[_0x2392c5(0x1ce)](_0x5cb7e4,_0x2d4ab4,_0xc6f3ca);}else{let _0xc13757={'error':!0x0};this[_0x2392c5(0x1ce)](_0x5cb7e4,_0x2d4ab4,_0xc13757),this[_0x2392c5(0x86b)][_0x2392c5(0x5fe)](this['instanceName']+'\x20('+this[_0x2392c5(0x5f5)]['wuid']+_0x2392c5(0x8ac));}}catch(_0x53816d){let _0x3aabbb={'error':!0x0,'errorLog':_0x53816d instanceof Error?_0x53816d[_0x2392c5(0x5fa)]:JSON[_0x2392c5(0x62f)](_0x53816d,null,0x2)};this[_0x2392c5(0x1ce)](_0x5cb7e4,_0x2d4ab4,_0x3aabbb),this['logger'][_0x2392c5(0x5fe)](this['instanceName']+'\x20('+this[_0x2392c5(0x5f5)][_0x2392c5(0x6e3)]+_0x2392c5(0x764)+(_0x53816d instanceof Error?_0x53816d['message']:JSON[_0x2392c5(0x62f)](_0x53816d,null,0x2)));}}async[a0_0xad378c(0x7d7)](_0x1c963b,_0x3a6bcb){const _0x36a5b2=a0_0xad378c;this[_0x36a5b2(0x86b)][_0x36a5b2(0x8cc)](this[_0x36a5b2(0x62b)]+'\x20('+this['instance'][_0x36a5b2(0x6e3)]+_0x36a5b2(0x3fc));let _0x1482e2=_0x1c963b[_0x36a5b2(0x235)][_0x36a5b2(0x318)][_0x36a5b2(0x84a)](_0x4f18e4=>_0x4f18e4[_0x36a5b2(0x259)][_0x36a5b2(0x3d2)]()===_0x3a6bcb['uazapi'][_0x36a5b2(0x259)][_0x36a5b2(0x3d2)]()),_0x2a6c86={'id':_0x1482e2['messageId'],'remoteJid':_0x1482e2[_0x36a5b2(0x436)],'fromMe':_0x1482e2[_0x36a5b2(0x587)]};try{let _0x412a8f=await this[_0x36a5b2(0x3b1)](_0x2a6c86);if(_0x412a8f){let _0x52057c=(0x0,w['normalizeMessageContent'])(_0x412a8f[_0x36a5b2(0x5fa)]),_0x388123=(0x0,w[_0x36a5b2(0x618)])(_0x52057c);_0x1c963b[_0x36a5b2(0x235)][_0x36a5b2(0x1b9)]=_0x3a6bcb[_0x36a5b2(0x81f)][_0x36a5b2(0x3d2)]();let {message_normalized:_0x4149bd}=this[_0x36a5b2(0x664)](_0x52057c,_0x388123,null);_0x1c963b[_0x36a5b2(0x235)][_0x36a5b2(0x7af)]=await _0x4149bd;let _0x2770cc={};this[_0x36a5b2(0x1ce)](_0x1c963b,_0x3a6bcb,_0x2770cc);}else{let _0x5dc65c={'error':!0x0};this[_0x36a5b2(0x1ce)](_0x1c963b,_0x3a6bcb,_0x5dc65c),this[_0x36a5b2(0x86b)][_0x36a5b2(0x5fe)](this[_0x36a5b2(0x62b)]+'\x20('+this[_0x36a5b2(0x5f5)][_0x36a5b2(0x6e3)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x525c7d){let _0x46af57={'error':!0x0,'errorLog':_0x525c7d instanceof Error?_0x525c7d[_0x36a5b2(0x5fa)]:JSON[_0x36a5b2(0x62f)](_0x525c7d,null,0x2)};this[_0x36a5b2(0x1ce)](_0x1c963b,_0x3a6bcb,_0x46af57),this[_0x36a5b2(0x86b)]['error'](this['instanceName']+'\x20('+this[_0x36a5b2(0x5f5)][_0x36a5b2(0x6e3)]+_0x36a5b2(0x17e)+(_0x525c7d instanceof Error?_0x525c7d[_0x36a5b2(0x5fa)]:JSON[_0x36a5b2(0x62f)](_0x525c7d,null,0x2)));}}async[a0_0xad378c(0x5a3)](_0x358486,_0x1badaa){const _0x162605=a0_0xad378c;if(_0x358486['name']||(_0x358486[_0x162605(0x725)]=(0x0,z['v4'])()),_0x1badaa!==vi&&_0x358486?.['globalShow'])throw new m('Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global');if(_0x162605(0x81f)in _0x358486&&_0x162605(0x86e)in _0x358486)return this['AddUserFlow'](_0x358486[_0x162605(0x86e)],_0x358486['_id']);this[_0x162605(0x86b)][_0x162605(0x8cc)](this[_0x162605(0x62b)]+'\x20('+this[_0x162605(0x5f5)][_0x162605(0x6e3)]+_0x162605(0x805));let _0x372759=this[_0x162605(0x3cc)](_0x358486['name']),_0x2ee525=new ge[(_0x162605(0x735))][(_0x162605(0x5dd))](),_0x488a8d={'_id':_0x2ee525,'default':!0x0,'title':_0x162605(0x32c),'x':0x0,'y':0x0},_0x1f4f37={'_id':new ge[(_0x162605(0x735))][(_0x162605(0x5dd))](),'order':0x1,'groupId':_0x2ee525[_0x162605(0x3d2)](),'type':_0x162605(0x4c1)},_0xca5f1f=this[_0x162605(0x5f5)][_0x162605(0x6e3)],_0x4893d1={'_id':(0x0,z['v4'])(),'owner':_0xca5f1f,'name':_0x372759,'whoCanEdit':[_0xca5f1f],'whoCanUse':[_0xca5f1f],'groups':[_0x488a8d],'blocks':[_0x1f4f37],..._0x358486};try{let _0x1c0421=await this[_0x162605(0x58e)][_0x162605(0x77f)][_0x162605(0x1bc)](_0x4893d1);return await this[_0x162605(0x4ca)](),_0x1c0421;}catch(_0xb511b9){let _0x991c97=_0x162605(0x57d),_0x580349=_0xb511b9 instanceof Error?_0xb511b9[_0x162605(0x5fa)]:typeof _0xb511b9==_0x162605(0x429)?JSON['stringify'](_0xb511b9):_0xb511b9,_0x165ba3=_0x991c97+':\x20'+_0x580349;throw this[_0x162605(0x86b)]['error'](this[_0x162605(0x62b)]+'\x20('+this[_0x162605(0x5f5)][_0x162605(0x6e3)]+_0x162605(0x431)+_0x165ba3),new m(_0x165ba3);}}async[a0_0xad378c(0x39d)](_0x32377b,_0x3bc8ea){const _0x5a794c=a0_0xad378c;try{this[_0x5a794c(0x86b)][_0x5a794c(0x8cc)](this[_0x5a794c(0x62b)]+'\x20('+this[_0x5a794c(0x5f5)][_0x5a794c(0x6e3)]+_0x5a794c(0x3e2));let _0x479ef1=await this[_0x5a794c(0x58e)][_0x5a794c(0x77f)][_0x5a794c(0x5cc)]({'where':{'_id':_0x3bc8ea,'owner':_0x32377b}});if(!_0x479ef1)throw new m(_0x5a794c(0x236));if(_0x479ef1[_0x5a794c(0x3ca)]===!0x1&&!_0x479ef1[_0x5a794c(0x1fc)])throw new m(_0x5a794c(0x78b));let _0x185dae=new Set(_0x479ef1['whoCanUse']??[]);_0x185dae[_0x5a794c(0x472)](this[_0x5a794c(0x5f5)]['wuid']);let _0x5a83a5=await this[_0x5a794c(0x58e)]['flow']['updateOne'](_0x3bc8ea,{..._0x479ef1,'whoCanUse':Array[_0x5a794c(0x18f)](_0x185dae)});return await this[_0x5a794c(0x4ca)](),_0x5a83a5;}catch(_0xc0230a){let _0x551817='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x46ac50=_0xc0230a instanceof Error?_0xc0230a[_0x5a794c(0x5fa)]:typeof _0xc0230a==_0x5a794c(0x429)?JSON[_0x5a794c(0x62f)](_0xc0230a):_0xc0230a,_0x228f2b=_0x551817+':\x20'+_0x46ac50;throw this[_0x5a794c(0x86b)]['error'](this[_0x5a794c(0x62b)]+'\x20('+this['instance'][_0x5a794c(0x6e3)]+_0x5a794c(0x431)+_0x228f2b),new m(_0x228f2b);}}[a0_0xad378c(0x3cc)](_0x160ce0){const _0x1524f6=a0_0xad378c;let _0xbb2472=_0x160ce0,_0x51b8ee=0x1;for(;this[_0x1524f6(0x611)][_0x1524f6(0x20c)]['some'](_0xda0a65=>_0xda0a65[_0x1524f6(0x725)]===_0xbb2472);)_0x51b8ee++,_0xbb2472=_0x160ce0+'\x20('+_0x51b8ee+')';return _0xbb2472;}async[a0_0xad378c(0x302)](_0x892545){const _0xc4cf6f=a0_0xad378c;try{if(this[_0xc4cf6f(0x86b)][_0xc4cf6f(0x8cc)](this['instanceName']+'\x20('+this[_0xc4cf6f(0x5f5)][_0xc4cf6f(0x6e3)]+_0xc4cf6f(0x21a)+_0x892545['_id']+_0xc4cf6f(0x84c)+_0x892545[_0xc4cf6f(0x614)]),!this[_0xc4cf6f(0x611)][_0xc4cf6f(0x20c)][_0xc4cf6f(0x84a)](_0x5aca2e=>_0x5aca2e[_0xc4cf6f(0x81f)]===_0x892545[_0xc4cf6f(0x81f)]))throw this[_0xc4cf6f(0x86b)][_0xc4cf6f(0x8cc)](this[_0xc4cf6f(0x62b)]+'\x20('+this[_0xc4cf6f(0x5f5)]['wuid']+_0xc4cf6f(0x197)+_0x892545['_id']+_0xc4cf6f(0x1d5)),new m(_0xc4cf6f(0x53f));let _0x10ffbb=await this[_0xc4cf6f(0x58e)][_0xc4cf6f(0x77f)][_0xc4cf6f(0x5cc)]({'where':{'_id':_0x892545[_0xc4cf6f(0x81f)]}});if(!_0x10ffbb)throw new m(_0xc4cf6f(0x674));if(this[_0xc4cf6f(0x5f5)][_0xc4cf6f(0x6e3)]===_0x10ffbb[_0xc4cf6f(0x86e)]){this['logger'][_0xc4cf6f(0x8cc)](this[_0xc4cf6f(0x62b)]+'\x20('+this[_0xc4cf6f(0x5f5)][_0xc4cf6f(0x6e3)]+_0xc4cf6f(0x218)+_0x892545[_0xc4cf6f(0x81f)]+_0xc4cf6f(0x44e));let _0x49c667=await this['repository'][_0xc4cf6f(0x77f)][_0xc4cf6f(0x8c5)]({'where':{'_id':_0x892545[_0xc4cf6f(0x81f)]}});return await this[_0xc4cf6f(0x4ca)](),_0x49c667;}return this['logger']['verbose'](this[_0xc4cf6f(0x62b)]+'\x20('+this[_0xc4cf6f(0x5f5)][_0xc4cf6f(0x6e3)]+_0xc4cf6f(0x273)+this[_0xc4cf6f(0x5f5)][_0xc4cf6f(0x6e3)]+_0xc4cf6f(0x311)+_0x892545[_0xc4cf6f(0x81f)]+'\x27...'),_0x10ffbb[_0xc4cf6f(0x7e6)]=(_0x10ffbb['whoCanUse']??[])['filter'](_0x1a8ecd=>_0x1a8ecd!==this[_0xc4cf6f(0x5f5)][_0xc4cf6f(0x6e3)]),_0x10ffbb[_0xc4cf6f(0x385)]=(_0x10ffbb['whoCanEdit']??[])[_0xc4cf6f(0x3f3)](_0x25ced9=>_0x25ced9!==this[_0xc4cf6f(0x5f5)][_0xc4cf6f(0x6e3)]),_0x10ffbb['whoCanEdit'][_0xc4cf6f(0x4f1)]===0x0&&_0x10ffbb[_0xc4cf6f(0x7e6)]['length']>0x0&&(_0x10ffbb[_0xc4cf6f(0x385)][_0xc4cf6f(0x240)](_0x10ffbb[_0xc4cf6f(0x7e6)][0x0]),this[_0xc4cf6f(0x86b)]['verbose'](this[_0xc4cf6f(0x62b)]+'\x20('+this[_0xc4cf6f(0x5f5)][_0xc4cf6f(0x6e3)]+'):\x20Adicionando\x20\x27'+_0x10ffbb[_0xc4cf6f(0x7e6)][0x0]+_0xc4cf6f(0x644)+_0x892545[_0xc4cf6f(0x81f)]+_0xc4cf6f(0x1b3))),await this[_0xc4cf6f(0x58e)][_0xc4cf6f(0x77f)][_0xc4cf6f(0x71b)](_0x10ffbb[_0xc4cf6f(0x81f)],_0x10ffbb),await this[_0xc4cf6f(0x4ca)](),{'message':_0xc4cf6f(0x51b)+_0x892545[_0xc4cf6f(0x725)]+_0xc4cf6f(0x25d)};}catch(_0x3ab6c7){return this[_0xc4cf6f(0x86b)][_0xc4cf6f(0x5fe)](this[_0xc4cf6f(0x62b)]+'\x20('+this[_0xc4cf6f(0x5f5)][_0xc4cf6f(0x6e3)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x3ab6c7 instanceof Error?_0x3ab6c7[_0xc4cf6f(0x5fa)]:JSON[_0xc4cf6f(0x62f)](_0x3ab6c7,null,0x2))),{'message':_0xc4cf6f(0x5bf)+(_0x3ab6c7 instanceof Error?_0x3ab6c7[_0xc4cf6f(0x5fa)]:JSON[_0xc4cf6f(0x62f)](_0x3ab6c7,null,0x2))};}}async[a0_0xad378c(0x306)](_0x6aaa0){const _0x330e0d=a0_0xad378c;try{if(this[_0x330e0d(0x86b)][_0x330e0d(0x575)](this[_0x330e0d(0x62b)]+'\x20('+this['instance'][_0x330e0d(0x6e3)]+_0x330e0d(0x692)+_0x6aaa0),!this[_0x330e0d(0x611)]&&(await this[_0x330e0d(0x72f)](),!this[_0x330e0d(0x611)]))return null;let _0x410bcc=await this[_0x330e0d(0x58e)][_0x330e0d(0x77f)][_0x330e0d(0x5cc)]({'where':{'_id':_0x6aaa0}});if(!_0x410bcc)throw new m(_0x330e0d(0x8a9)+_0x6aaa0+_0x330e0d(0x79c));if(!(_0x410bcc['globalShow']||_0x410bcc[_0x330e0d(0x7e6)]?.[_0x330e0d(0x77b)](this[_0x330e0d(0x5f5)][_0x330e0d(0x6e3)])))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27'+name+'\x27');_0x410bcc['globalShow']&&!_0x410bcc[_0x330e0d(0x7e6)]?.[_0x330e0d(0x77b)](this[_0x330e0d(0x5f5)]['wuid'])&&(_0x410bcc[_0x330e0d(0x7e6)]=[..._0x410bcc[_0x330e0d(0x7e6)]??[],this[_0x330e0d(0x5f5)][_0x330e0d(0x6e3)]],await this[_0x330e0d(0x58e)]['flow']['updateOne'](_0x410bcc['_id'],_0x410bcc),this[_0x330e0d(0x4ca)]());let _0xe0d5a0=this[_0x330e0d(0x611)]?.[_0x330e0d(0x869)][_0x330e0d(0x4a4)](_0x5878bc=>_0x5878bc['name']),_0x108658=['nome',_0x330e0d(0x1d6),_0x330e0d(0x7d1),_0x330e0d(0x4af),'status','notas','responsavelid',_0x330e0d(0x451),_0x330e0d(0x64a),_0x330e0d(0x7ab),_0x330e0d(0x6e4)];_0x410bcc[_0x330e0d(0x7a5)]=_0x410bcc[_0x330e0d(0x7a5)]['filter'](_0xd5b115=>!(_0xd5b115['folder']===_0x330e0d(0x52b)||_0xd5b115['leadInfo'])),_0x108658[_0x330e0d(0x6db)](_0x4e8d09=>{const _0x10eb04=_0x330e0d;_0x410bcc[_0x10eb04(0x7a5)][_0x10eb04(0x240)]({'folder':_0x10eb04(0x52b),'name':_0x4e8d09,'value':'','doc':'','leadInfo':!0x0});}),_0xe0d5a0['forEach'](_0x5b52bd=>{const _0x24b35f=_0x330e0d;let _0x1e689a=_0x410bcc[_0x24b35f(0x7a5)]['findIndex'](_0x43e958=>_0x43e958[_0x24b35f(0x725)]===_0x5b52bd);_0x1e689a===-0x1?_0x410bcc[_0x24b35f(0x7a5)]['push']({'folder':_0x24b35f(0x52b),'name':_0x5b52bd,'value':'','doc':'','leadInfo':!0x0}):(_0x410bcc[_0x24b35f(0x7a5)][_0x1e689a]['folder']=_0x24b35f(0x52b),_0x410bcc[_0x24b35f(0x7a5)][_0x1e689a]['leadInfo']=!0x0);}),_0x410bcc[_0x330e0d(0x5d3)]&&_0x410bcc[_0x330e0d(0x5d3)][_0x330e0d(0x4f1)]>0x0&&_0x410bcc[_0x330e0d(0x5d3)][_0x330e0d(0x6db)](_0x368c93=>{const _0x2135b0=_0x330e0d;_0x368c93[_0x2135b0(0x768)]&&_0x368c93[_0x2135b0(0x8de)]&&_0x368c93['groupId']===_0x368c93['next_groupId']&&(_0x368c93['next_groupId']=null);});let _0x9cefd=await this[_0x330e0d(0x58e)][_0x330e0d(0x77f)][_0x330e0d(0x71b)](_0x410bcc[_0x330e0d(0x81f)],_0x410bcc);if(!_0x9cefd)throw new Error(_0x330e0d(0x5c5));return _0x9cefd;}catch(_0x480ab1){let _0x17b91a=_0x330e0d(0x533),_0x1c8f56=_0x480ab1 instanceof Error?_0x480ab1[_0x330e0d(0x5fa)]:typeof _0x480ab1==_0x330e0d(0x429)?JSON[_0x330e0d(0x62f)](_0x480ab1):_0x480ab1,_0x1b5d70=_0x17b91a+':\x20'+_0x1c8f56;throw this[_0x330e0d(0x86b)]['error'](this[_0x330e0d(0x62b)]+'\x20('+this[_0x330e0d(0x5f5)][_0x330e0d(0x6e3)]+'):\x20'+_0x1b5d70),new m(_0x1b5d70);}}async['allFlows'](){const _0x3c1c42=a0_0xad378c;try{this[_0x3c1c42(0x86b)][_0x3c1c42(0x8cc)](this[_0x3c1c42(0x62b)]+'\x20('+this[_0x3c1c42(0x5f5)][_0x3c1c42(0x6e3)]+_0x3c1c42(0x67e)),await this[_0x3c1c42(0x4ca)]();let _0x366b4c=await this[_0x3c1c42(0x58e)][_0x3c1c42(0x77f)][_0x3c1c42(0x46e)]({'where':{'globalShow':!0x0}});return[...this[_0x3c1c42(0x611)][_0x3c1c42(0x20c)],..._0x366b4c];}catch(_0x2a8f48){return this['logger'][_0x3c1c42(0x5fe)](this[_0x3c1c42(0x62b)]+'\x20('+this['instance'][_0x3c1c42(0x6e3)]+_0x3c1c42(0x8cd)+(_0x2a8f48 instanceof Error?_0x2a8f48[_0x3c1c42(0x5fa)]:JSON[_0x3c1c42(0x62f)](_0x2a8f48,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x2a8f48 instanceof Error?_0x2a8f48[_0x3c1c42(0x5fa)]:String(_0x2a8f48))};}}async['editFlow'](_0x4ba586,_0x414a62){const _0x300197=a0_0xad378c;try{this[_0x300197(0x86b)][_0x300197(0x8cc)](this[_0x300197(0x62b)]+'\x20('+this['instance'][_0x300197(0x6e3)]+_0x300197(0x26d));let _0x41c18a=this['AutomateSystem'][_0x300197(0x20c)][_0x300197(0x84a)](_0x35b0d1=>_0x35b0d1[_0x300197(0x81f)]===_0x4ba586['_id']);if(!_0x41c18a)throw this['logger'][_0x300197(0x8cc)](this['instanceName']+'\x20('+this[_0x300197(0x5f5)]['wuid']+'):\x20Fluxo\x20\x27'+_0x4ba586[_0x300197(0x81f)]+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x44d074=await this[_0x300197(0x58e)][_0x300197(0x77f)][_0x300197(0x5cc)]({'where':{'_id':_0x4ba586[_0x300197(0x81f)]}});if(!_0x44d074||!_0x44d074[_0x300197(0x7e6)]?.[_0x300197(0x77b)](this[_0x300197(0x5f5)][_0x300197(0x6e3)]))throw this[_0x300197(0x86b)][_0x300197(0x5fe)](this[_0x300197(0x62b)]+'\x20('+this[_0x300197(0x5f5)][_0x300197(0x6e3)]+'):\x20Flow\x20\x27'+_0x4ba586['_id']+_0x300197(0x1f8)),new m('Flow\x20\x27'+_0x4ba586[_0x300197(0x81f)]+_0x300197(0x1f8));let _0x28cb9d=this[_0x300197(0x611)]['flows'][_0x300197(0x825)](_0x169db7=>_0x169db7[_0x300197(0x81f)]===_0x41c18a[_0x300197(0x81f)]);if(_0x28cb9d!==-0x1){let _0x8c9232=this[_0x300197(0x611)][_0x300197(0x20c)][_0x28cb9d];if(_0x8c9232[_0x300197(0x725)]=_0x4ba586['name']??_0x8c9232['name'],_0x8c9232[_0x300197(0x7c4)]=_0x4ba586[_0x300197(0x7c4)]??_0x8c9232['default'],_0x8c9232[_0x300197(0x339)]=_0x4ba586[_0x300197(0x339)]??_0x8c9232[_0x300197(0x339)],_0x8c9232[_0x300197(0x6da)]=_0x4ba586['startCommandWord']??_0x8c9232[_0x300197(0x6da)],_0x8c9232[_0x300197(0x8bd)]=_0x4ba586[_0x300197(0x8bd)]??_0x8c9232[_0x300197(0x8bd)],_0x8c9232[_0x300197(0x5ea)]=_0x4ba586[_0x300197(0x5ea)]??_0x8c9232[_0x300197(0x5ea)],_0x4ba586[_0x300197(0x7c4)]&&this[_0x300197(0x611)][_0x300197(0x20c)][_0x300197(0x6db)]((_0x47bbe5,_0x1562d6)=>{const _0x347706=_0x300197;_0x1562d6!==_0x28cb9d&&(_0x47bbe5[_0x347706(0x7c4)]=!0x1);}),this['AutomateSystem'][_0x300197(0x20c)][_0x28cb9d]=_0x8c9232,!await this[_0x300197(0x58e)][_0x300197(0x6d5)][_0x300197(0x29d)]({'flows':this[_0x300197(0x611)][_0x300197(0x20c)]},this[_0x300197(0x5f5)][_0x300197(0x6e3)]))throw new m(_0x300197(0x62c));}let _0x24ec12=[_0x300197(0x614),_0x300197(0x2a1),'sharePass',_0x300197(0x454)];for(let _0x64d46a of _0x24ec12)delete _0x4ba586[_0x64d46a];if(_0x44d074[_0x300197(0x385)]?.[_0x300197(0x77b)](this[_0x300197(0x5f5)][_0x300197(0x6e3)])||(_0x4ba586={'_id':_0x4ba586[_0x300197(0x81f)]}),_0x414a62!==vi&&_0x4ba586?.[_0x300197(0x1fc)]&&!_0x44d074?.[_0x300197(0x1fc)])throw new m(_0x300197(0x6c9));let _0x26b606=new Set(_0x4ba586[_0x300197(0x385)]??_0x44d074[_0x300197(0x385)]);_0x26b606['add'](_0x44d074[_0x300197(0x86e)]);let _0x14b8a5=new Set(_0x4ba586['whoCanUse']??_0x44d074[_0x300197(0x7e6)]??[]);_0x26b606[_0x300197(0x6db)](_0x5d4888=>_0x14b8a5[_0x300197(0x472)](_0x5d4888)),_0x14b8a5['add'](_0x44d074[_0x300197(0x86e)]),this[_0x300197(0x86b)][_0x300197(0x8cc)](this['instanceName']+'\x20('+this[_0x300197(0x5f5)][_0x300197(0x6e3)]+'):\x20whoCanEdit\x20before\x20validation:\x20'+Array[_0x300197(0x18f)](_0x26b606)),this['logger'][_0x300197(0x8cc)](this['instanceName']+'\x20('+this['instance'][_0x300197(0x6e3)]+_0x300197(0x208)+Array[_0x300197(0x18f)](_0x14b8a5));let _0x12235a=await this[_0x300197(0x53a)](Array['from'](_0x14b8a5)),_0x5aaf02=Array[_0x300197(0x18f)](_0x26b606)[_0x300197(0x3f3)](_0x3d905c=>_0x12235a[_0x300197(0x77b)](_0x3d905c)),_0x9220ef=Array['from'](_0x14b8a5)[_0x300197(0x3f3)](_0x1ed9e8=>_0x12235a[_0x300197(0x77b)](_0x1ed9e8));this[_0x300197(0x86b)][_0x300197(0x8cc)](this[_0x300197(0x62b)]+'\x20('+this['instance'][_0x300197(0x6e3)]+_0x300197(0x77e)+_0x5aaf02),this[_0x300197(0x86b)][_0x300197(0x8cc)](this[_0x300197(0x62b)]+'\x20('+this['instance'][_0x300197(0x6e3)]+_0x300197(0x352)+_0x9220ef);let _0x440a56={..._0x44d074,..._0x4ba586,'whoCanEdit':_0x5aaf02,'whoCanUse':_0x9220ef},_0x2d6a05=await this['repository'][_0x300197(0x77f)][_0x300197(0x71b)](_0x44d074[_0x300197(0x81f)],_0x440a56);return await this['synchronizeAndMapFlows'](),_0x2d6a05;}catch(_0x447df2){let _0x23090d=_0x300197(0x888),_0x137321=_0x447df2 instanceof Error?_0x447df2['message']:typeof _0x447df2==_0x300197(0x429)?JSON[_0x300197(0x62f)](_0x447df2):_0x447df2,_0x373462=_0x23090d+':\x20'+_0x137321;throw this['logger'][_0x300197(0x5fe)](this[_0x300197(0x62b)]+'\x20('+this['instance'][_0x300197(0x6e3)]+_0x300197(0x431)+_0x373462),new m(_0x373462);}}async[a0_0xad378c(0x53a)](_0xda0742){const _0x7d27da=a0_0xad378c;let _0x1cadfe={'numbers':_0xda0742};return(await this[_0x7d27da(0x2af)](_0x1cadfe))[_0x7d27da(0x3f3)](_0x2ff727=>_0x2ff727[_0x7d27da(0x7ba)])[_0x7d27da(0x4a4)](_0x36def2=>_0x36def2[_0x7d27da(0x7c5)])['map'](_0x2f4660=>this[_0x7d27da(0x4fc)](_0x2f4660));}['extractPhoneNumber'](_0x51a067){let _0x40ad0f=_0x51a067['match'](/\d+/);return _0x40ad0f?_0x40ad0f[0x0]:'';}async[a0_0xad378c(0x887)](_0x153cb5){const _0x692a26=a0_0xad378c;try{if(this[_0x692a26(0x86b)][_0x692a26(0x8cc)](this[_0x692a26(0x62b)]+'\x20('+this[_0x692a26(0x5f5)][_0x692a26(0x6e3)]+_0x692a26(0x36f)),!this[_0x692a26(0x611)][_0x692a26(0x20c)][_0x692a26(0x84a)](_0x4af139=>_0x4af139[_0x692a26(0x81f)]===_0x153cb5[_0x692a26(0x81f)]))throw this[_0x692a26(0x86b)]['verbose'](this[_0x692a26(0x62b)]+'\x20('+this[_0x692a26(0x5f5)][_0x692a26(0x6e3)]+_0x692a26(0x197)+_0x153cb5[_0x692a26(0x81f)]+_0x692a26(0x1d5)),new m(_0x692a26(0x53f));let _0x4ea8be=await this[_0x692a26(0x58e)][_0x692a26(0x77f)]['findOne']({'where':{'_id':_0x153cb5[_0x692a26(0x81f)]}});if(!_0x4ea8be||!_0x4ea8be[_0x692a26(0x7e6)]?.[_0x692a26(0x77b)](this['instance']['wuid']))throw this['logger'][_0x692a26(0x5fe)](this[_0x692a26(0x62b)]+'\x20('+this[_0x692a26(0x5f5)][_0x692a26(0x6e3)]+_0x692a26(0x574)+_0x153cb5[_0x692a26(0x81f)]+_0x692a26(0x1f8)),new m(_0x692a26(0x787)+_0x153cb5[_0x692a26(0x81f)]+_0x692a26(0x1f8));if(!_0x4ea8be['whoCanEdit']?.['includes'](this['instance'][_0x692a26(0x6e3)]))throw new m(_0x692a26(0x470));let {block:_0x9e3da8}=_0x153cb5;_0x9e3da8?.[_0x692a26(0x21d)]?this[_0x692a26(0x61d)](_0x4ea8be,_0x153cb5):_0x9e3da8?.[_0x692a26(0x8aa)]?this[_0x692a26(0x769)](_0x4ea8be,_0x153cb5):_0x9e3da8[_0x692a26(0x81f)]?await this['updateBlock'](_0x4ea8be,_0x153cb5):this['addBlock'](_0x4ea8be,_0x153cb5);let _0x5db944=await this[_0x692a26(0x58e)][_0x692a26(0x77f)][_0x692a26(0x71b)](_0x4ea8be[_0x692a26(0x81f)],_0x4ea8be);if(!_0x5db944)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x5db944;}catch(_0x240c20){this[_0x692a26(0x79b)](_0x692a26(0x58a)+_0x240c20[_0x692a26(0x5fa)]);}}async[a0_0xad378c(0x61d)](_0x1cb7ce,_0xd2e51f){const _0x117172=a0_0xad378c;let _0x534dd3=_0xd2e51f[_0x117172(0x8d4)][_0x117172(0x81f)],_0x4647a9=_0x1cb7ce['blocks'][_0x117172(0x84a)](_0x6261d0=>_0x6261d0['_id']['toString']()===_0x534dd3);if(!_0x4647a9){this[_0x117172(0x86b)][_0x117172(0x5fe)](this[_0x117172(0x62b)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20com\x20ID\x20'+_0x534dd3+_0x117172(0x2dc));return;}this[_0x117172(0x86b)][_0x117172(0x8cc)](this[_0x117172(0x62b)]+'\x20('+this[_0x117172(0x5f5)][_0x117172(0x6e3)]+_0x117172(0x336)+JSON[_0x117172(0x62f)](_0x4647a9));let _0x8ef38d=JSON[_0x117172(0x549)](JSON[_0x117172(0x62f)](_0x4647a9));_0x8ef38d['_id']=new ge[(_0x117172(0x7c4))][(_0x117172(0x735))][(_0x117172(0x5dd))](),this[_0x117172(0x86b)][_0x117172(0x8cc)](this['instanceName']+'\x20('+this['instance'][_0x117172(0x6e3)]+_0x117172(0x3fe)+JSON[_0x117172(0x62f)](_0x8ef38d)),_0x1cb7ce[_0x117172(0x5d3)][_0x117172(0x240)](_0x8ef38d),this[_0x117172(0x69e)](_0x1cb7ce[_0x117172(0x5d3)],_0x8ef38d[_0x117172(0x768)]);}[a0_0xad378c(0x79b)](_0xe1fd3){const _0x3addff=a0_0xad378c;throw this['logger'][_0x3addff(0x5fe)](this['instanceName']+'\x20('+this[_0x3addff(0x5f5)][_0x3addff(0x6e3)]+'):\x20'+_0xe1fd3),new m(_0xe1fd3);}[a0_0xad378c(0x769)](_0xab67c4,_0x2b4d26){const _0x5b2cb=a0_0xad378c;let {block:_0x33bcb4}=_0x2b4d26;if(_0x33bcb4[_0x5b2cb(0x6a2)]===_0x5b2cb(0x4c1)){this['throwAndLogError'](_0x5b2cb(0x572));return;}if(!_0x33bcb4[_0x5b2cb(0x81f)]){this[_0x5b2cb(0x79b)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x6586ac=_0xab67c4[_0x5b2cb(0x5d3)]['find'](_0x1ed991=>_0x1ed991['_id'][_0x5b2cb(0x3d2)]()===_0x2b4d26[_0x5b2cb(0x8d4)][_0x5b2cb(0x81f)][_0x5b2cb(0x3d2)]());if(!_0x6586ac){this['throwAndLogError']('Bloco\x20com\x20ID\x20'+_0x33bcb4['_id']+_0x5b2cb(0x446));return;}_0xab67c4[_0x5b2cb(0x5d3)]=_0xab67c4[_0x5b2cb(0x5d3)][_0x5b2cb(0x3f3)](_0x28de97=>_0x28de97['_id'][_0x5b2cb(0x3d2)]()!==_0x2b4d26['block']['_id'][_0x5b2cb(0x3d2)]()),_0xab67c4[_0x5b2cb(0x6fa)]=_0xab67c4[_0x5b2cb(0x6fa)][_0x5b2cb(0x3f3)](_0xd5115c=>_0xd5115c['blockId']!==_0x33bcb4[_0x5b2cb(0x81f)][_0x5b2cb(0x3d2)]()),_0xab67c4[_0x5b2cb(0x73f)]=_0xab67c4['varedits'][_0x5b2cb(0x3f3)](_0x372950=>_0x372950[_0x5b2cb(0x259)]!==_0x33bcb4[_0x5b2cb(0x81f)][_0x5b2cb(0x3d2)]()),_0xab67c4[_0x5b2cb(0x50b)]=_0xab67c4[_0x5b2cb(0x50b)][_0x5b2cb(0x3f3)](_0x2e3def=>_0x2e3def[_0x5b2cb(0x259)]!==_0x33bcb4['_id'][_0x5b2cb(0x3d2)]()),this[_0x5b2cb(0x69e)](_0xab67c4['blocks'],_0x6586ac['groupId']);}async[a0_0xad378c(0x748)](_0x56f7d9,_0x3d647f){const _0x29bb8a=a0_0xad378c;let _0x12b28c=_0x56f7d9['blocks'][_0x29bb8a(0x825)](_0x3176d6=>_0x3176d6['_id'][_0x29bb8a(0x3d2)]()===_0x3d647f[_0x29bb8a(0x8d4)][_0x29bb8a(0x81f)][_0x29bb8a(0x3d2)]());if(this[_0x29bb8a(0x86b)][_0x29bb8a(0x8cc)](this[_0x29bb8a(0x62b)]+'\x20('+this[_0x29bb8a(0x5f5)][_0x29bb8a(0x6e3)]+_0x29bb8a(0x2c8)+_0x12b28c),_0x12b28c===-0x1){this['logger'][_0x29bb8a(0x8cc)](_0x29bb8a(0x199)+_0x3d647f[_0x29bb8a(0x8d4)][_0x29bb8a(0x81f)]+_0x29bb8a(0x412));return;}if(_0x56f7d9['blocks'][_0x12b28c][_0x29bb8a(0x6a2)]==='start'){let _0x82a7f2=Object[_0x29bb8a(0x178)](_0x3d647f[_0x29bb8a(0x8d4)]);if(_0x82a7f2[_0x29bb8a(0x4f1)]>0x2||_0x82a7f2[_0x29bb8a(0x4f1)]===0x2&&!_0x82a7f2[_0x29bb8a(0x77b)](_0x29bb8a(0x8de))){this['throwAndLogError'](_0x29bb8a(0x7f6));return;}}let _0x74a94c=_0x56f7d9['blocks'][_0x12b28c][_0x29bb8a(0x768)];for(let _0x15bb33 in _0x3d647f['block'])_0x3d647f['block'][_0x29bb8a(0x6ba)](_0x15bb33)&&(_0x56f7d9[_0x29bb8a(0x5d3)][_0x12b28c][_0x15bb33]=_0x3d647f[_0x29bb8a(0x8d4)][_0x15bb33]);if(this[_0x29bb8a(0x86b)]['verbose'](this[_0x29bb8a(0x62b)]+'\x20('+this[_0x29bb8a(0x5f5)][_0x29bb8a(0x6e3)]+_0x29bb8a(0x7b4)+JSON['stringify'](_0x56f7d9['blocks'][_0x12b28c])),_0x56f7d9[_0x29bb8a(0x5d3)][_0x12b28c][_0x29bb8a(0x351)]&&_0x29bb8a(0x6d1)in _0x56f7d9[_0x29bb8a(0x5d3)][_0x12b28c][_0x29bb8a(0x351)]){this[_0x29bb8a(0x86b)][_0x29bb8a(0x8cc)](this[_0x29bb8a(0x62b)]+'\x20('+this[_0x29bb8a(0x5f5)][_0x29bb8a(0x6e3)]+_0x29bb8a(0x222));let _0x35583b=JSON[_0x29bb8a(0x62f)](_0x56f7d9[_0x29bb8a(0x5d3)][_0x12b28c]['apirequest'][_0x29bb8a(0x6d1)],null,0x1);_0x35583b[_0x29bb8a(0x4f1)]>0x2&&(_0x35583b=_0x35583b[_0x29bb8a(0x562)](0x1,_0x35583b[_0x29bb8a(0x4f1)]-0x1)[_0x29bb8a(0x4cf)]()),_0x56f7d9['blocks'][_0x12b28c]['apirequest']['headerString']=_0x35583b;}if(_0x56f7d9[_0x29bb8a(0x5d3)][_0x12b28c][_0x29bb8a(0x351)]&&_0x29bb8a(0x3f7)in _0x56f7d9[_0x29bb8a(0x5d3)][_0x12b28c][_0x29bb8a(0x351)]&&!(_0x29bb8a(0x78e)in _0x56f7d9['blocks'][_0x12b28c][_0x29bb8a(0x351)])){this['logger'][_0x29bb8a(0x8cc)](this[_0x29bb8a(0x62b)]+'\x20('+this[_0x29bb8a(0x5f5)][_0x29bb8a(0x6e3)]+_0x29bb8a(0x45d)),_0x56f7d9['blocks'][_0x12b28c]['apirequest'][_0x29bb8a(0x57c)]=!0x1;let _0xbc54a=JSON[_0x29bb8a(0x62f)](_0x56f7d9['blocks'][_0x12b28c][_0x29bb8a(0x351)]['body'],null,0x2);_0x56f7d9[_0x29bb8a(0x5d3)][_0x12b28c][_0x29bb8a(0x351)][_0x29bb8a(0x78e)]=_0xbc54a;}if(_0x56f7d9['blocks'][_0x12b28c][_0x29bb8a(0x351)]&&_0x29bb8a(0x78e)in _0x56f7d9[_0x29bb8a(0x5d3)][_0x12b28c][_0x29bb8a(0x351)]){_0x56f7d9['blocks'][_0x12b28c][_0x29bb8a(0x351)][_0x29bb8a(0x57c)]=!0x1;let _0x6e4ea6=_0x56f7d9[_0x29bb8a(0x5d3)][_0x12b28c][_0x29bb8a(0x351)][_0x29bb8a(0x78e)],_0x23cc52=this[_0x29bb8a(0x665)](_0x6e4ea6);_0x56f7d9[_0x29bb8a(0x5d3)][_0x12b28c][_0x29bb8a(0x351)][_0x29bb8a(0x78e)]=_0x23cc52['result'],_0x56f7d9[_0x29bb8a(0x5d3)][_0x12b28c][_0x29bb8a(0x351)]['bodyStringErrorParse']=_0x23cc52[_0x29bb8a(0x5fe)];}let _0x15d471=_0x56f7d9['blocks'][_0x12b28c]['groupId'];_0x74a94c!==_0x15d471?(this['reorderBlocks'](_0x56f7d9[_0x29bb8a(0x5d3)],_0x74a94c),this['reorderBlocks'](_0x56f7d9['blocks'],_0x15d471)):this['reorderBlocks'](_0x56f7d9['blocks'],_0x74a94c);}[a0_0xad378c(0x665)](_0x6db879){const _0x3ca9db=a0_0xad378c;let _0x5ef839='\u205f',_0x3bcb08=!0x1,_0x1f1daa='';for(let _0xc39d58=0x0;_0xc39d58<_0x6db879[_0x3ca9db(0x4f1)];_0xc39d58++){let _0x2ebfb5=_0x6db879[_0xc39d58];_0x2ebfb5==='\x22'&&(_0xc39d58===0x0||_0x6db879[_0xc39d58-0x1]!=='\x5c')&&(_0x3bcb08=!_0x3bcb08),!(!_0x3bcb08&&(_0x2ebfb5==='\x0a'||_0x2ebfb5==='\x20'||_0x2ebfb5===_0x5ef839))&&(_0x1f1daa+=_0x2ebfb5);}let _0x1a37dc={},_0x5aab15=9876543210.1234,_0xa3c724=_0x1f1daa[_0x3ca9db(0x568)](/\{\{([^}]+)\}\}/g,_0x2e0cf5=>{let _0x531046=_0x2e0cf5,_0x5f0dce=''+_0x5aab15;return _0x1a37dc[_0x5f0dce]=_0x531046,_0x5aab15+=0.0001,_0x5f0dce;}),_0x8d6709='',_0x3c3bff=!0x1;try{let _0x559173=JSON[_0x3ca9db(0x549)](_0xa3c724);_0x8d6709=JSON[_0x3ca9db(0x62f)](_0x559173,null,0x2),_0x8d6709=_0x8d6709['replace'](/\n( +)/g,(_0x33008e,_0x1e2ef7)=>{const _0x2ac4a3=_0x3ca9db;let _0x43f356=_0x1e2ef7[_0x2ac4a3(0x4f1)];return'\x0a'+_0x5ef839[_0x2ac4a3(0x277)](_0x43f356*0x2);}),_0x8d6709=_0x8d6709['replace'](/(\d{10,}\.\d+)/g,_0x338b88=>_0x1a37dc[_0x338b88]||_0x338b88);}catch(_0x35cc60){this[_0x3ca9db(0x86b)][_0x3ca9db(0x5fe)](_0x3ca9db(0x427)+_0x35cc60),_0x8d6709=_0x6db879,_0x3c3bff=!0x0;}return{'result':_0x8d6709,'error':_0x3c3bff};}[a0_0xad378c(0x7d6)](_0x22e76a,_0x5ef638){const _0xb5bda8=a0_0xad378c;if(_0x5ef638[_0xb5bda8(0x8d4)][_0xb5bda8(0x6a2)]===_0xb5bda8(0x4c1)){this['throwAndLogError']('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x5ef638['block'][_0xb5bda8(0x351)]&&'header'in _0x5ef638[_0xb5bda8(0x8d4)][_0xb5bda8(0x351)]){this[_0xb5bda8(0x86b)]['verbose'](this[_0xb5bda8(0x62b)]+'\x20('+this[_0xb5bda8(0x5f5)][_0xb5bda8(0x6e3)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x1fce95=JSON[_0xb5bda8(0x62f)](_0x5ef638['block'][_0xb5bda8(0x351)]['header'],null,0x1);_0x1fce95[_0xb5bda8(0x4f1)]>0x2&&(_0x1fce95=_0x1fce95['substring'](0x1,_0x1fce95['length']-0x1)[_0xb5bda8(0x4cf)]()),_0x5ef638['block']['apirequest'][_0xb5bda8(0x42e)]=_0x1fce95;}_0x5ef638[_0xb5bda8(0x8d4)]['apirequest']&&'body'in _0x5ef638[_0xb5bda8(0x8d4)]['apirequest']&&(this[_0xb5bda8(0x86b)][_0xb5bda8(0x8cc)](this[_0xb5bda8(0x62b)]+'\x20('+this[_0xb5bda8(0x5f5)][_0xb5bda8(0x6e3)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x5ef638[_0xb5bda8(0x8d4)][_0xb5bda8(0x351)][_0xb5bda8(0x78e)]=JSON['stringify'](_0x5ef638[_0xb5bda8(0x8d4)]['apirequest'][_0xb5bda8(0x3f7)],null,0x1)[_0xb5bda8(0x4cf)]()),_0x22e76a['blocks'][_0xb5bda8(0x240)](_0x5ef638[_0xb5bda8(0x8d4)]),this[_0xb5bda8(0x69e)](_0x22e76a[_0xb5bda8(0x5d3)],_0x5ef638['block'][_0xb5bda8(0x768)]);}[a0_0xad378c(0x69e)](_0x558938,_0x6d1b4){const _0x53b744=a0_0xad378c;let _0x30059e=_0x558938['filter'](_0x2a5132=>_0x2a5132[_0x53b744(0x768)]===_0x6d1b4);_0x30059e[_0x53b744(0x366)]((_0x27466b,_0x3a5161)=>_0x27466b[_0x53b744(0x1d2)]-_0x3a5161[_0x53b744(0x1d2)]),_0x30059e[_0x53b744(0x6db)]((_0x165e13,_0x25283b)=>_0x165e13[_0x53b744(0x1d2)]=_0x25283b+0x1);}async[a0_0xad378c(0x201)](_0x20687e){const _0x36f0c9=a0_0xad378c;try{if(this[_0x36f0c9(0x86b)]['verbose'](this[_0x36f0c9(0x62b)]+'\x20('+this['instance'][_0x36f0c9(0x6e3)]+_0x36f0c9(0x44f)),!_0x20687e||!_0x20687e['replyOption']){this[_0x36f0c9(0x79b)](_0x36f0c9(0x285));return;}if(!this['AutomateSystem'][_0x36f0c9(0x20c)][_0x36f0c9(0x84a)](_0x27127c=>_0x27127c[_0x36f0c9(0x81f)]===_0x20687e[_0x36f0c9(0x81f)]))throw this[_0x36f0c9(0x86b)][_0x36f0c9(0x8cc)](this[_0x36f0c9(0x62b)]+'\x20('+this[_0x36f0c9(0x5f5)][_0x36f0c9(0x6e3)]+_0x36f0c9(0x197)+_0x20687e[_0x36f0c9(0x81f)]+_0x36f0c9(0x1d5)),new m(_0x36f0c9(0x53f));let _0x2570c5=await this['repository'][_0x36f0c9(0x77f)][_0x36f0c9(0x5cc)]({'where':{'_id':_0x20687e[_0x36f0c9(0x81f)]}});if(!_0x2570c5||!_0x2570c5[_0x36f0c9(0x7e6)]?.[_0x36f0c9(0x77b)](this[_0x36f0c9(0x5f5)][_0x36f0c9(0x6e3)]))throw this[_0x36f0c9(0x86b)][_0x36f0c9(0x5fe)](this[_0x36f0c9(0x62b)]+'\x20('+this['instance'][_0x36f0c9(0x6e3)]+_0x36f0c9(0x574)+_0x20687e[_0x36f0c9(0x81f)]+_0x36f0c9(0x1f8)),new m(_0x36f0c9(0x787)+_0x20687e[_0x36f0c9(0x81f)]+_0x36f0c9(0x1f8));if(!_0x2570c5[_0x36f0c9(0x385)]?.[_0x36f0c9(0x77b)](this[_0x36f0c9(0x5f5)]['wuid']))throw new m(_0x36f0c9(0x470));let {replyOption:_0x46490b}=_0x20687e;_0x46490b?.[_0x36f0c9(0x8aa)]?(this['deleteReplyOption'](_0x2570c5,_0x20687e),this[_0x36f0c9(0x453)](_0x2570c5[_0x36f0c9(0x50b)],_0x20687e[_0x36f0c9(0x465)][_0x36f0c9(0x259)])):_0x46490b['_id']?(await this[_0x36f0c9(0x7ca)](_0x2570c5,_0x20687e),this[_0x36f0c9(0x453)](_0x2570c5[_0x36f0c9(0x50b)],_0x20687e[_0x36f0c9(0x465)]['blockId'])):(this[_0x36f0c9(0x322)](_0x2570c5,_0x20687e),this[_0x36f0c9(0x453)](_0x2570c5[_0x36f0c9(0x50b)],_0x20687e[_0x36f0c9(0x465)][_0x36f0c9(0x259)]));let _0x136de8=await this['repository']['flow'][_0x36f0c9(0x71b)](_0x2570c5[_0x36f0c9(0x81f)],_0x2570c5);if(!_0x136de8)throw new Error(_0x36f0c9(0x5c5));return _0x136de8;}catch(_0x2baf73){this['throwAndLogError'](_0x36f0c9(0x440)+_0x2baf73);}}['reorderReplyOptions'](_0x1e36fd,_0x3ee82f){const _0x2bae03=a0_0xad378c;_0x1e36fd[_0x2bae03(0x6db)](_0x5d8d4e=>{const _0xe8fb70=_0x2bae03;_0x5d8d4e[_0xe8fb70(0x259)]===_0x3ee82f&&_0x5d8d4e[_0xe8fb70(0x1d2)]===void 0x0&&(_0x5d8d4e['order']=0x270f);});let _0x1f7e80=_0x1e36fd[_0x2bae03(0x3f3)](_0x2cbc4f=>_0x2cbc4f[_0x2bae03(0x259)]===_0x3ee82f);_0x1f7e80['sort']((_0x3bb732,_0x4b8914)=>_0x3bb732[_0x2bae03(0x1d2)]-_0x4b8914[_0x2bae03(0x1d2)]),_0x1f7e80[_0x2bae03(0x6db)]((_0x4853c4,_0x5085f7)=>{const _0x93bddb=_0x2bae03;_0x4853c4[_0x93bddb(0x1d2)]=_0x5085f7+0x1;}),_0x1e36fd[_0x2bae03(0x6db)](_0x524d29=>{const _0x161309=_0x2bae03;if(_0x524d29[_0x161309(0x259)]===_0x3ee82f){let _0x351b92=_0x1f7e80[_0x161309(0x84a)](_0xcd99d6=>_0xcd99d6['_id']&&_0x524d29[_0x161309(0x81f)]&&_0xcd99d6[_0x161309(0x81f)][_0x161309(0x3d2)]()===_0x524d29[_0x161309(0x81f)][_0x161309(0x3d2)]());_0x351b92&&(_0x524d29[_0x161309(0x1d2)]=_0x351b92[_0x161309(0x1d2)]);}});}[a0_0xad378c(0x211)](_0x33ec13,_0x19d3ef){const _0x47d362=a0_0xad378c;let {replyOption:_0x32705e}=_0x19d3ef;if(!_0x32705e[_0x47d362(0x81f)]){this[_0x47d362(0x79b)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x33ec13['replyOptions'][_0x47d362(0x84a)](_0x275809=>_0x275809[_0x47d362(0x81f)][_0x47d362(0x3d2)]()===_0x19d3ef[_0x47d362(0x465)][_0x47d362(0x81f)]['toString']())){this[_0x47d362(0x79b)]('ReplyOption\x20com\x20ID\x20'+_0x32705e['_id']+'\x20não\x20encontrado');return;}_0x33ec13[_0x47d362(0x50b)]=_0x33ec13[_0x47d362(0x50b)][_0x47d362(0x3f3)](_0x129ee0=>_0x129ee0['_id']['toString']()!==_0x19d3ef[_0x47d362(0x465)][_0x47d362(0x81f)][_0x47d362(0x3d2)]());}async['updateReplyOption'](_0x3403e5,_0x54fa46){const _0x51f19b=a0_0xad378c;let _0x2995a3=_0x3403e5[_0x51f19b(0x50b)]['findIndex'](_0x1c0dfc=>_0x1c0dfc[_0x51f19b(0x81f)][_0x51f19b(0x3d2)]()===_0x54fa46[_0x51f19b(0x465)]['_id'][_0x51f19b(0x3d2)]());if(_0x2995a3===-0x1){this[_0x51f19b(0x79b)](_0x51f19b(0x86c)+_0x54fa46[_0x51f19b(0x465)][_0x51f19b(0x81f)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x223a5 in _0x54fa46[_0x51f19b(0x465)])_0x54fa46[_0x51f19b(0x465)][_0x51f19b(0x6ba)](_0x223a5)&&(_0x3403e5[_0x51f19b(0x50b)][_0x2995a3][_0x223a5]=_0x54fa46[_0x51f19b(0x465)][_0x223a5]);}[a0_0xad378c(0x322)](_0x25f5d7,_0x240021){const _0x2561e2=a0_0xad378c;_0x25f5d7['replyOptions'][_0x2561e2(0x240)](_0x240021[_0x2561e2(0x465)]);}async['editFlowGroup'](_0x1aed2c){const _0x26af89=a0_0xad378c;this[_0x26af89(0x86b)][_0x26af89(0x8cc)](this['instanceName']+'\x20('+this[_0x26af89(0x5f5)][_0x26af89(0x6e3)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20'+JSON[_0x26af89(0x62f)](_0x1aed2c,null,0x2));try{if(this[_0x26af89(0x86b)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x26af89(0x6e3)]+'):\x20Editando\x20grupo\x20do\x20fluxo...'),!this[_0x26af89(0x611)][_0x26af89(0x20c)]['find'](_0x33e348=>_0x33e348['_id']===_0x1aed2c[_0x26af89(0x81f)]))throw this[_0x26af89(0x86b)][_0x26af89(0x8cc)](this[_0x26af89(0x62b)]+'\x20('+this['instance']['wuid']+_0x26af89(0x197)+_0x1aed2c[_0x26af89(0x81f)]+_0x26af89(0x1d5)),new m(_0x26af89(0x53f));let _0x325594=await this[_0x26af89(0x58e)][_0x26af89(0x77f)]['findOne']({'where':{'_id':_0x1aed2c['_id']}});if(!_0x325594||!_0x325594[_0x26af89(0x7e6)]?.[_0x26af89(0x77b)](this['instance'][_0x26af89(0x6e3)]))throw this[_0x26af89(0x86b)][_0x26af89(0x5fe)](this[_0x26af89(0x62b)]+'\x20('+this[_0x26af89(0x5f5)][_0x26af89(0x6e3)]+'):\x20Flow\x20\x27'+_0x1aed2c[_0x26af89(0x81f)]+_0x26af89(0x1f8)),new m(_0x26af89(0x787)+_0x1aed2c[_0x26af89(0x81f)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x325594[_0x26af89(0x385)]?.['includes'](this[_0x26af89(0x5f5)][_0x26af89(0x6e3)]))throw new m(_0x26af89(0x470));if(_0x1aed2c[_0x26af89(0x410)]&&_0x1aed2c[_0x26af89(0x410)]?.[_0x26af89(0x8aa)]===!0x0){if(this[_0x26af89(0x86b)][_0x26af89(0x8cc)](this['instanceName']+'\x20('+this[_0x26af89(0x5f5)]['wuid']+_0x26af89(0x6b1)),_0x1aed2c[_0x26af89(0x410)][_0x26af89(0x7c4)]===!0x0)return{'message':_0x26af89(0x401)};if(_0x325594['blocks'][_0x26af89(0x79a)](_0x57abec=>_0x57abec[_0x26af89(0x768)][_0x26af89(0x3d2)]()===_0x1aed2c[_0x26af89(0x410)]['_id']))return this[_0x26af89(0x86b)][_0x26af89(0x8cc)](this[_0x26af89(0x62b)]+'\x20('+this[_0x26af89(0x5f5)][_0x26af89(0x6e3)]+'):\x20tem\x20blocks'),{'message':_0x26af89(0x359)};_0x325594[_0x26af89(0x796)]=_0x325594[_0x26af89(0x796)]['filter'](_0x593f3b=>_0x593f3b[_0x26af89(0x81f)][_0x26af89(0x3d2)]()!==_0x1aed2c['group'][_0x26af89(0x81f)]);}else{if(_0x1aed2c[_0x26af89(0x410)]){if(_0x1aed2c['group']['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x1aed2c['group'][_0x26af89(0x81f)]){let _0x309de2=_0x325594['groups'][_0x26af89(0x84a)](_0x2e5e87=>_0x2e5e87[_0x26af89(0x81f)][_0x26af89(0x3d2)]()===_0x1aed2c['group'][_0x26af89(0x81f)]);_0x309de2&&(_0x1aed2c[_0x26af89(0x410)]['x']<0x0&&(_0x1aed2c[_0x26af89(0x410)]['x']=0x0),_0x1aed2c[_0x26af89(0x410)]['y']<0x0&&(_0x1aed2c[_0x26af89(0x410)]['y']=0x0),Object['assign'](_0x309de2,_0x1aed2c[_0x26af89(0x410)]));}else _0x325594['groups'][_0x26af89(0x240)](_0x1aed2c[_0x26af89(0x410)]);}}let _0x2f7541=await this[_0x26af89(0x58e)][_0x26af89(0x77f)]['updateOne'](_0x325594[_0x26af89(0x81f)],_0x325594);if(!_0x2f7541)throw new Error(_0x26af89(0x5c5));return _0x2f7541;}catch(_0x2e1d7f){let _0x1692da=_0x26af89(0x5ac),_0x598229=_0x2e1d7f instanceof Error?_0x2e1d7f['message']:typeof _0x2e1d7f=='object'?JSON[_0x26af89(0x62f)](_0x2e1d7f):_0x2e1d7f,_0x97a09c=_0x1692da+':\x20'+_0x598229;throw this[_0x26af89(0x86b)]['error'](this['instanceName']+'\x20('+this['instance'][_0x26af89(0x6e3)]+_0x26af89(0x431)+_0x97a09c),new m(_0x97a09c);}}async[a0_0xad378c(0x210)](_0x40082e){const _0x2028c8=a0_0xad378c;try{if(this[_0x2028c8(0x86b)][_0x2028c8(0x8cc)](this[_0x2028c8(0x62b)]+'\x20('+this['instance'][_0x2028c8(0x6e3)]+_0x2028c8(0x76d)),!this['AutomateSystem'][_0x2028c8(0x20c)][_0x2028c8(0x84a)](_0x2ca410=>_0x2ca410[_0x2028c8(0x81f)]===_0x40082e['_id']))throw this[_0x2028c8(0x86b)][_0x2028c8(0x8cc)](this[_0x2028c8(0x62b)]+'\x20('+this[_0x2028c8(0x5f5)][_0x2028c8(0x6e3)]+_0x2028c8(0x197)+_0x40082e['_id']+_0x2028c8(0x1d5)),new m(_0x2028c8(0x53f));let _0x556629=await this[_0x2028c8(0x58e)]['flow']['findOne']({'where':{'_id':_0x40082e[_0x2028c8(0x81f)]}});if(!_0x556629||!_0x556629[_0x2028c8(0x7e6)]?.['includes'](this[_0x2028c8(0x5f5)][_0x2028c8(0x6e3)]))throw this[_0x2028c8(0x86b)]['error'](this[_0x2028c8(0x62b)]+'\x20('+this[_0x2028c8(0x5f5)][_0x2028c8(0x6e3)]+'):\x20Flow\x20\x27'+_0x40082e['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2028c8(0x787)+_0x40082e[_0x2028c8(0x81f)]+_0x2028c8(0x1f8));if(!_0x556629[_0x2028c8(0x385)]?.[_0x2028c8(0x77b)](this[_0x2028c8(0x5f5)][_0x2028c8(0x6e3)]))throw new m(_0x2028c8(0x470));let _0x102273=!0x1;if(_0x40082e[_0x2028c8(0x3bb)]?.[_0x2028c8(0x8aa)]===!0x0)_0x556629[_0x2028c8(0x6fa)]=_0x556629[_0x2028c8(0x6fa)][_0x2028c8(0x3f3)](_0x3a382e=>_0x3a382e&&_0x40082e[_0x2028c8(0x3bb)]&&_0x3a382e[_0x2028c8(0x81f)]&&_0x40082e[_0x2028c8(0x3bb)]['_id']&&_0x3a382e[_0x2028c8(0x81f)]['toString']()!==_0x40082e[_0x2028c8(0x3bb)][_0x2028c8(0x81f)][_0x2028c8(0x3d2)]()),_0x102273=!0x0;else{let _0x5c2d36=_0x556629[_0x2028c8(0x6fa)][_0x2028c8(0x84a)](_0x3154a6=>_0x3154a6&&_0x40082e[_0x2028c8(0x3bb)]&&_0x3154a6[_0x2028c8(0x81f)]&&_0x40082e[_0x2028c8(0x3bb)][_0x2028c8(0x81f)]&&_0x3154a6[_0x2028c8(0x81f)]['toString']()===_0x40082e[_0x2028c8(0x3bb)][_0x2028c8(0x81f)][_0x2028c8(0x3d2)]());_0x5c2d36?(_0x102273=_0x5c2d36[_0x2028c8(0x1d2)]!==_0x40082e[_0x2028c8(0x3bb)]['order'],Object[_0x2028c8(0x39f)](_0x5c2d36,_0x40082e['condition'])):(_0x556629[_0x2028c8(0x6fa)][_0x2028c8(0x240)](_0x40082e[_0x2028c8(0x3bb)]),_0x102273=!0x0);}if(_0x102273){_0x556629[_0x2028c8(0x6fa)]['sort']((_0x329807,_0x10ae8e)=>_0x329807[_0x2028c8(0x1d2)]>_0x10ae8e[_0x2028c8(0x1d2)]?0x1:_0x10ae8e['order']>_0x329807['order']?-0x1:0x0);for(let _0x3ec4ac=0x0;_0x3ec4ac<_0x556629[_0x2028c8(0x6fa)][_0x2028c8(0x4f1)];_0x3ec4ac++)_0x556629[_0x2028c8(0x6fa)][_0x3ec4ac]['order']=_0x3ec4ac+0x1;_0x556629[_0x2028c8(0x6fa)][_0x2028c8(0x4f1)]>0x0&&(_0x556629['conditions'][0x0][_0x2028c8(0x4ac)]=_0x2028c8(0x3ad));}let _0x3b3424=await this[_0x2028c8(0x58e)][_0x2028c8(0x77f)][_0x2028c8(0x71b)](_0x556629[_0x2028c8(0x81f)],_0x556629);if(!_0x3b3424)throw new Error(_0x2028c8(0x5c5));return _0x3b3424;}catch(_0x2541f7){let _0x45b945='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x350bd0=_0x2541f7 instanceof Error?_0x2541f7[_0x2028c8(0x5fa)]:typeof _0x2541f7==_0x2028c8(0x429)?JSON[_0x2028c8(0x62f)](_0x2541f7):_0x2541f7,_0x49dc9d=_0x45b945+':\x20'+_0x350bd0;throw this['logger'][_0x2028c8(0x5fe)](this[_0x2028c8(0x62b)]+'\x20('+this[_0x2028c8(0x5f5)][_0x2028c8(0x6e3)]+_0x2028c8(0x431)+_0x49dc9d),new m(_0x49dc9d);}}async[a0_0xad378c(0x4dc)](_0x2b839f){const _0x672aed=a0_0xad378c;try{if(this['logger'][_0x672aed(0x8cc)](this[_0x672aed(0x62b)]+'\x20('+this[_0x672aed(0x5f5)][_0x672aed(0x6e3)]+_0x672aed(0x29a)),!this[_0x672aed(0x611)][_0x672aed(0x20c)][_0x672aed(0x84a)](_0x2393f8=>_0x2393f8['_id']===_0x2b839f[_0x672aed(0x81f)]))throw this[_0x672aed(0x86b)][_0x672aed(0x8cc)](this[_0x672aed(0x62b)]+'\x20('+this[_0x672aed(0x5f5)][_0x672aed(0x6e3)]+_0x672aed(0x197)+_0x2b839f[_0x672aed(0x81f)]+_0x672aed(0x1d5)),new m(_0x672aed(0x53f));let _0xc2cfc4=await this[_0x672aed(0x58e)][_0x672aed(0x77f)]['findOne']({'where':{'_id':_0x2b839f[_0x672aed(0x81f)]}});if(!_0xc2cfc4||!_0xc2cfc4[_0x672aed(0x7e6)]?.[_0x672aed(0x77b)](this['instance']['wuid']))throw this[_0x672aed(0x86b)][_0x672aed(0x5fe)](this['instanceName']+'\x20('+this['instance'][_0x672aed(0x6e3)]+_0x672aed(0x574)+_0x2b839f[_0x672aed(0x81f)]+_0x672aed(0x1f8)),new m(_0x672aed(0x787)+_0x2b839f['_id']+_0x672aed(0x1f8));if(!_0xc2cfc4[_0x672aed(0x385)]?.[_0x672aed(0x77b)](this[_0x672aed(0x5f5)]['wuid']))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x28b4fd=!0x1;if(_0x2b839f['varedit']?.[_0x672aed(0x8aa)]===!0x0)_0xc2cfc4[_0x672aed(0x73f)]=_0xc2cfc4[_0x672aed(0x73f)][_0x672aed(0x3f3)](_0x5e8b07=>_0x5e8b07&&_0x2b839f['varedit']&&_0x5e8b07[_0x672aed(0x81f)]&&_0x2b839f['varedit'][_0x672aed(0x81f)]&&_0x5e8b07['_id'][_0x672aed(0x3d2)]()!==_0x2b839f['varedit'][_0x672aed(0x81f)][_0x672aed(0x3d2)]()),_0x28b4fd=!0x0;else{let _0x76d180=_0xc2cfc4[_0x672aed(0x73f)]['find'](_0x10a252=>_0x10a252&&_0x2b839f[_0x672aed(0x476)]&&_0x10a252['_id']&&_0x2b839f[_0x672aed(0x476)][_0x672aed(0x81f)]&&_0x10a252['_id'][_0x672aed(0x3d2)]()===_0x2b839f[_0x672aed(0x476)][_0x672aed(0x81f)]['toString']());_0x76d180?(_0x28b4fd=_0x76d180['order']!==_0x2b839f[_0x672aed(0x476)]['order'],Object[_0x672aed(0x39f)](_0x76d180,_0x2b839f['varedit'])):(_0xc2cfc4[_0x672aed(0x73f)][_0x672aed(0x240)](_0x2b839f['varedit']),_0x28b4fd=!0x0);}if(_0x28b4fd){_0xc2cfc4[_0x672aed(0x73f)][_0x672aed(0x366)]((_0x500541,_0x3db69e)=>_0x500541[_0x672aed(0x1d2)]>_0x3db69e['order']?0x1:_0x3db69e['order']>_0x500541[_0x672aed(0x1d2)]?-0x1:0x0);for(let _0x2b6ae5=0x0;_0x2b6ae5<_0xc2cfc4['varedits'][_0x672aed(0x4f1)];_0x2b6ae5++)_0xc2cfc4['varedits'][_0x2b6ae5][_0x672aed(0x1d2)]=_0x2b6ae5+0x1;}let _0x50374b=await this[_0x672aed(0x58e)]['flow']['updateOne'](_0xc2cfc4['_id'],_0xc2cfc4);if(!_0x50374b)throw new Error(_0x672aed(0x5c5));return _0x50374b;}catch(_0x26b2d0){let _0xf8f108=_0x672aed(0x5b3),_0x273692=_0x26b2d0 instanceof Error?_0x26b2d0[_0x672aed(0x5fa)]:typeof _0x26b2d0=='object'?JSON[_0x672aed(0x62f)](_0x26b2d0):_0x26b2d0,_0x462956=_0xf8f108+':\x20'+_0x273692;throw this[_0x672aed(0x86b)]['error'](this[_0x672aed(0x62b)]+'\x20('+this[_0x672aed(0x5f5)]['wuid']+_0x672aed(0x431)+_0x462956),new m(_0x462956);}}async[a0_0xad378c(0x245)](_0x495187){const _0x1cee50=a0_0xad378c;try{if(this[_0x1cee50(0x86b)][_0x1cee50(0x8cc)](this[_0x1cee50(0x62b)]+'\x20('+this['instance'][_0x1cee50(0x6e3)]+_0x1cee50(0x403)),!this['AutomateSystem'][_0x1cee50(0x20c)][_0x1cee50(0x84a)](_0x4af7ca=>_0x4af7ca['_id']===_0x495187[_0x1cee50(0x81f)]))throw this[_0x1cee50(0x86b)][_0x1cee50(0x8cc)](this['instanceName']+'\x20('+this[_0x1cee50(0x5f5)][_0x1cee50(0x6e3)]+_0x1cee50(0x197)+_0x495187[_0x1cee50(0x81f)]+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x21d53c=await this[_0x1cee50(0x58e)][_0x1cee50(0x77f)][_0x1cee50(0x5cc)]({'where':{'_id':_0x495187[_0x1cee50(0x81f)]}});if(!_0x21d53c||!_0x21d53c[_0x1cee50(0x7e6)]?.[_0x1cee50(0x77b)](this['instance'][_0x1cee50(0x6e3)]))throw this['logger'][_0x1cee50(0x5fe)](this[_0x1cee50(0x62b)]+'\x20('+this[_0x1cee50(0x5f5)][_0x1cee50(0x6e3)]+_0x1cee50(0x574)+_0x495187['_id']+_0x1cee50(0x1f8)),new m(_0x1cee50(0x787)+_0x495187[_0x1cee50(0x81f)]+_0x1cee50(0x1f8));if(!_0x21d53c[_0x1cee50(0x385)]?.['includes'](this['instance'][_0x1cee50(0x6e3)]))throw new m(_0x1cee50(0x470));_0x495187['variable']['name']=_0x495187['variable'][_0x1cee50(0x725)][_0x1cee50(0x4cf)](),_0x495187[_0x1cee50(0x224)][_0x1cee50(0x725)][_0x1cee50(0x598)]('_')&&(_0x495187['variable'][_0x1cee50(0x725)]=_0x495187[_0x1cee50(0x224)][_0x1cee50(0x725)][_0x1cee50(0x562)](0x1)),_0x495187[_0x1cee50(0x224)]['name']=_0x495187['variable']['name']['trim']();let _0x2d8658=_0x21d53c[_0x1cee50(0x7a5)][_0x1cee50(0x84a)](_0x353b22=>_0x353b22[_0x1cee50(0x725)]===_0x495187['variable'][_0x1cee50(0x725)]);if(_0x2d8658?.[_0x1cee50(0x52b)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x495187['variable']?.['delete']===!0x0){if(!_0x2d8658)return{'message':_0x1cee50(0x786)};_0x21d53c[_0x1cee50(0x7a5)]=_0x21d53c[_0x1cee50(0x7a5)]['filter'](_0x473269=>_0x473269[_0x1cee50(0x725)]!==_0x495187[_0x1cee50(0x224)][_0x1cee50(0x725)]);}else _0x2d8658?Object[_0x1cee50(0x39f)](_0x2d8658,_0x495187[_0x1cee50(0x224)]):_0x21d53c[_0x1cee50(0x7a5)][_0x1cee50(0x240)](_0x495187[_0x1cee50(0x224)]);let _0xe56675=await this[_0x1cee50(0x58e)][_0x1cee50(0x77f)][_0x1cee50(0x71b)](_0x21d53c[_0x1cee50(0x81f)],_0x21d53c);if(!_0xe56675)throw new Error(_0x1cee50(0x5c5));return _0xe56675;}catch(_0x140fa6){let _0x23f6f2=_0x1cee50(0x7df),_0x2427e2=_0x140fa6 instanceof Error?_0x140fa6['message']:typeof _0x140fa6==_0x1cee50(0x429)?JSON['stringify'](_0x140fa6):_0x140fa6,_0x908ea9=_0x23f6f2+':\x20'+_0x2427e2;throw this[_0x1cee50(0x86b)][_0x1cee50(0x5fe)](this[_0x1cee50(0x62b)]+'\x20('+this[_0x1cee50(0x5f5)][_0x1cee50(0x6e3)]+_0x1cee50(0x431)+_0x908ea9),new m(_0x908ea9);}}async[a0_0xad378c(0x33e)](_0x4704aa){const _0x5acd50=a0_0xad378c;let _0x45ff91=null;try{if(!this['AutomateSystem']?.['flowConfig'][_0x5acd50(0x257)])throw new m(_0x5acd50(0x5a8));this[_0x5acd50(0x86b)][_0x5acd50(0x8cc)](this['instanceName']+'\x20('+this[_0x5acd50(0x5f5)][_0x5acd50(0x6e3)]+_0x5acd50(0x83c));let _0x4e80bf=(await this[_0x5acd50(0x2af)]({'numbers':[_0x4704aa[_0x5acd50(0x436)]]}))[0x0];if(!_0x4e80bf[_0x5acd50(0x7ba)]&&!(0x0,w[_0x5acd50(0x47e)])(_0x4e80bf[_0x5acd50(0x7c5)])&&!_0x4e80bf['jid'][_0x5acd50(0x77b)](_0x5acd50(0x7bd)))throw _0x45ff91=JSON[_0x5acd50(0x62f)](_0x4e80bf,null,0x2),new m(_0x4e80bf);let _0x52c6a7;if(_0x4704aa[_0x5acd50(0x725)][_0x5acd50(0x4f1)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x5acd50(0x514)](_0x4704aa[_0x5acd50(0x725)])?_0x52c6a7=this[_0x5acd50(0x611)][_0x5acd50(0x20c)][_0x5acd50(0x84a)](_0x578ef2=>_0x578ef2[_0x5acd50(0x81f)]===_0x4704aa[_0x5acd50(0x725)]):_0x52c6a7=this['AutomateSystem'][_0x5acd50(0x20c)][_0x5acd50(0x84a)](_0xb4fb1a=>_0xb4fb1a[_0x5acd50(0x725)]===_0x4704aa[_0x5acd50(0x725)]),!_0x52c6a7)throw this[_0x5acd50(0x86b)][_0x5acd50(0x8cc)](this[_0x5acd50(0x62b)]+'\x20('+this[_0x5acd50(0x5f5)][_0x5acd50(0x6e3)]+_0x5acd50(0x197)+_0x4704aa['name']+_0x5acd50(0x1d5)),new m(_0x5acd50(0x53f));let _0x4a4edc=await this[_0x5acd50(0x58e)]['flow']['findOne']({'where':{'_id':_0x52c6a7['_id']}});if(!_0x4a4edc||!_0x4a4edc['whoCanUse']?.['includes'](this['instance'][_0x5acd50(0x6e3)]))throw this[_0x5acd50(0x86b)]['error'](this[_0x5acd50(0x62b)]+'\x20('+this[_0x5acd50(0x5f5)][_0x5acd50(0x6e3)]+_0x5acd50(0x574)+_0x52c6a7[_0x5acd50(0x81f)]+_0x5acd50(0x1f8)),_0x45ff91=_0x5acd50(0x787)+_0x52c6a7[_0x5acd50(0x81f)]+_0x5acd50(0x1f8),new m(_0x45ff91);let _0x1ffbef=await this[_0x5acd50(0x779)](_0x4a4edc,_0x4e80bf[_0x5acd50(0x7c5)],_0x4704aa[_0x5acd50(0x506)]);if(_0x1ffbef){this[_0x5acd50(0x86b)][_0x5acd50(0x8cc)](this[_0x5acd50(0x62b)]+'\x20('+this['instance'][_0x5acd50(0x6e3)]+_0x5acd50(0x567));let _0x35adff=await this['NextBlock'](_0x1ffbef);return _0x35adff&&await this[_0x5acd50(0x7fc)](_0x1ffbef,_0x35adff),{'message':_0x5acd50(0x707)+_0x4704aa['remoteJid']};}}catch(_0x5f1dd7){if(this[_0x5acd50(0x86b)]['error'](this[_0x5acd50(0x62b)]+'\x20('+this[_0x5acd50(0x5f5)]['wuid']+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x5f1dd7 instanceof Error?_0x5f1dd7[_0x5acd50(0x5fa)]:JSON[_0x5acd50(0x62f)](_0x5f1dd7,null,0x2))),_0x45ff91=_0x5f1dd7 instanceof Error?_0x5f1dd7[_0x5acd50(0x5fa)]:JSON[_0x5acd50(0x62f)](_0x5f1dd7,null,0x2),_0x45ff91)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x45ff91);}}async[a0_0xad378c(0x37d)](_0x52323b,_0x45dd54,_0x3bd972){const _0x2d55f1=a0_0xad378c;let _0x4028e6=null;try{if(!this[_0x2d55f1(0x611)]?.['flowConfig']['enabled'])throw new m(_0x2d55f1(0x5a8));if(this[_0x2d55f1(0x86b)][_0x2d55f1(0x8cc)](this['instanceName']+'\x20('+this[_0x2d55f1(0x5f5)][_0x2d55f1(0x6e3)]+_0x2d55f1(0x83c)),_0x45dd54){let _0xf8ef3a=(await this[_0x2d55f1(0x2af)]({'numbers':[_0x45dd54]}))[0x0];if(!_0xf8ef3a[_0x2d55f1(0x7ba)]&&!(0x0,w[_0x2d55f1(0x47e)])(_0xf8ef3a[_0x2d55f1(0x7c5)])&&!_0xf8ef3a[_0x2d55f1(0x7c5)][_0x2d55f1(0x77b)]('@broadcast'))throw _0x4028e6=JSON['stringify'](_0xf8ef3a,null,0x2),new m(_0xf8ef3a);_0x45dd54=_0xf8ef3a[_0x2d55f1(0x7c5)];}else _0x45dd54||(_0x45dd54=(0x0,z['v4'])());let _0x5a05c7=await this[_0x2d55f1(0x58e)][_0x2d55f1(0x77f)]['findOne']({'where':{'_id':_0x52323b}});if(!_0x5a05c7||!_0x5a05c7['whoCanUse']?.[_0x2d55f1(0x77b)](this['instance'][_0x2d55f1(0x6e3)]))throw this[_0x2d55f1(0x86b)][_0x2d55f1(0x5fe)](this[_0x2d55f1(0x62b)]+'\x20('+this[_0x2d55f1(0x5f5)][_0x2d55f1(0x6e3)]+_0x2d55f1(0x574)+_0x52323b+_0x2d55f1(0x1f8)),new m('Flow\x20\x27'+_0x52323b+_0x2d55f1(0x1f8));let _0x21a5c5=await this['createConversationforStartFlow'](_0x5a05c7,_0x45dd54,null);if(_0x21a5c5){this[_0x2d55f1(0x86b)][_0x2d55f1(0x8cc)](this[_0x2d55f1(0x62b)]+'\x20('+this[_0x2d55f1(0x5f5)][_0x2d55f1(0x6e3)]+_0x2d55f1(0x8da));let _0x387fd5;if(_0x3bd972){let _0xedd20e=_0x21a5c5[_0x2d55f1(0x235)][_0x2d55f1(0x547)],_0x2d90ab=this[_0x2d55f1(0x3e9)](_0x3bd972);Object['assign'](_0xedd20e,_0x2d90ab),_0x21a5c5[_0x2d55f1(0x235)]['realVariables']=_0xedd20e,_0x387fd5={'error':!0x1,'apiResponse':_0x3bd972};}let _0x21c6ae=await this[_0x2d55f1(0x67d)](_0x21a5c5);return _0x21c6ae&&await this[_0x2d55f1(0x7fc)](_0x21a5c5,_0x21c6ae),{'message':'Flow\x20iniciado'};}}catch(_0x1c0da2){if(this[_0x2d55f1(0x86b)][_0x2d55f1(0x5fe)](this[_0x2d55f1(0x62b)]+'\x20('+this['instance'][_0x2d55f1(0x6e3)]+_0x2d55f1(0x1df)+(_0x1c0da2 instanceof Error?_0x1c0da2[_0x2d55f1(0x5fa)]:JSON[_0x2d55f1(0x62f)](_0x1c0da2,null,0x2))),_0x4028e6=_0x1c0da2 instanceof Error?_0x1c0da2[_0x2d55f1(0x5fa)]:JSON[_0x2d55f1(0x62f)](_0x1c0da2,null,0x2),_0x4028e6)throw new m(_0x2d55f1(0x789)+_0x4028e6);}}async[a0_0xad378c(0x5d5)](_0x1ce907){const _0x48d0a8=a0_0xad378c;try{let _0x4f702a={'remoteJid':_0x1ce907,'status':_0x48d0a8(0x522)},_0x11bf05={'status':'closed'},_0x24c80a=await this['repository'][_0x48d0a8(0x5b4)][_0x48d0a8(0x455)](_0x4f702a,_0x11bf05,this[_0x48d0a8(0x5f5)]['wuid']);return this[_0x48d0a8(0x86b)]['verbose'](this[_0x48d0a8(0x62b)]+'\x20('+this[_0x48d0a8(0x5f5)][_0x48d0a8(0x6e3)]+_0x48d0a8(0x258)),_0x24c80a;}catch(_0x5df40c){throw this[_0x48d0a8(0x86b)]['error'](this[_0x48d0a8(0x62b)]+'\x20('+this[_0x48d0a8(0x5f5)][_0x48d0a8(0x6e3)]+_0x48d0a8(0x305)+_0x5df40c[_0x48d0a8(0x5fa)]),_0x5df40c;}}async[a0_0xad378c(0x779)](_0x3f6b54,_0x391e29,_0x5a8f37){const _0x81f94f=a0_0xad378c;this[_0x81f94f(0x86b)][_0x81f94f(0x8cc)](this[_0x81f94f(0x62b)]+'\x20('+this[_0x81f94f(0x5f5)]['wuid']+_0x81f94f(0x75d)),await this['closeExistingConversations'](_0x391e29);try{let _0x355418=require(_0x81f94f(0x16f))[_0x81f94f(0x5dd)],_0x341c93=Date[_0x81f94f(0x54c)](),_0x358c71=_0x81f94f(0x4c1),_0x517022={},_0x57d47e={},_0x2c559d=this['AutomateSystem'][_0x81f94f(0x20c)][_0x81f94f(0x84a)](_0x23e855=>_0x23e855['_id']===_0x3f6b54[_0x81f94f(0x81f)]?.[_0x81f94f(0x3d2)]()),_0x34444a=_0x2c559d?.[_0x81f94f(0x8bd)]??_0x3f6b54[_0x81f94f(0x8bd)]??0x0,_0x22abfa=_0x2c559d?.['readMessages']??_0x3f6b54['readMessages']??!0x1,_0x295bd4={'flowId':_0x3f6b54['_id'],..._0x3f6b54,'chatLog':null},_0x29e647=await this[_0x81f94f(0x776)](_0x295bd4['variables']),_0xbefe74=await this['getVariablesChat'](_0x391e29),_0x413c3b={..._0x29e647,..._0xbefe74,'_remoteJid':_0x391e29},_0x3a589b={'lastReceivedMessage':_0x517022,'lastSendMessage':_0x57d47e,'lastBlockId':_0x358c71,'lastCondition':!0x0,'realVariables':_0x413c3b};_0x295bd4[_0x81f94f(0x235)]=_0x3a589b,_0x295bd4[_0x81f94f(0x235)][_0x81f94f(0x547)]={..._0x413c3b,..._0x5a8f37},delete _0x295bd4[_0x81f94f(0x81f)],_0x295bd4[_0x81f94f(0x81f)]=new _0x355418(),_0x295bd4[_0x81f94f(0x188)]=_0x341c93,_0x295bd4[_0x81f94f(0x616)]='open',_0x295bd4['remoteJid']=_0x391e29,_0x295bd4[_0x81f94f(0x8bd)]=_0x34444a,_0x295bd4[_0x81f94f(0x5ea)]=_0x22abfa,_0x295bd4['_id']=_0x3f6b54[_0x81f94f(0x81f)];let _0x358907=await this[_0x81f94f(0x58e)][_0x81f94f(0x5b4)][_0x81f94f(0x71b)](_0x295bd4['_id'],_0x295bd4,this[_0x81f94f(0x5f5)]['wuid']);return this[_0x81f94f(0x86b)]['verbose'](this[_0x81f94f(0x62b)]+'\x20('+this[_0x81f94f(0x5f5)][_0x81f94f(0x6e3)]+_0x81f94f(0x5b8)),_0x358907?_0x295bd4:null;}catch(_0x13787e){let _0x1e2e63='Erro\x20ao\x20copiar\x20o\x20documento',_0x2d5c0f=_0x13787e instanceof Error?_0x13787e[_0x81f94f(0x5fa)]:typeof _0x13787e==_0x81f94f(0x429)?JSON[_0x81f94f(0x62f)](_0x13787e):_0x13787e,_0x5f21ba=_0x1e2e63+':\x20'+_0x2d5c0f;throw this[_0x81f94f(0x86b)][_0x81f94f(0x5fe)](this[_0x81f94f(0x62b)]+'\x20('+this[_0x81f94f(0x5f5)][_0x81f94f(0x6e3)]+_0x81f94f(0x431)+_0x5f21ba),new m(_0x5f21ba);}}async[a0_0xad378c(0x588)](_0x4afe96){const _0x5c8e05=a0_0xad378c;try{this['logger'][_0x5c8e05(0x8cc)](this[_0x5c8e05(0x62b)]+'\x20('+this['instance'][_0x5c8e05(0x6e3)]+_0x5c8e05(0x5ff)),this[_0x5c8e05(0x86b)][_0x5c8e05(0x8cc)](this[_0x5c8e05(0x62b)]+'\x20('+this[_0x5c8e05(0x5f5)][_0x5c8e05(0x6e3)]+_0x5c8e05(0x1da)+_0x4afe96);let _0x27736f={'where':{'_id':_0x4afe96}};return await this[_0x5c8e05(0x58e)][_0x5c8e05(0x5b4)]['findOne'](_0x27736f,this[_0x5c8e05(0x5f5)]['wuid']);}catch(_0x4d21d2){let _0x4d43da=_0x5c8e05(0x2a8),_0xc1aaa0=_0x4d21d2 instanceof Error?_0x4d21d2[_0x5c8e05(0x5fa)]:typeof _0x4d21d2==_0x5c8e05(0x429)?JSON[_0x5c8e05(0x62f)](_0x4d21d2):_0x4d21d2,_0x210ca8=_0x4d43da+':\x20'+_0xc1aaa0;throw this[_0x5c8e05(0x86b)]['error'](this[_0x5c8e05(0x62b)]+'\x20('+this[_0x5c8e05(0x5f5)]['wuid']+_0x5c8e05(0x431)+_0x210ca8),new m(_0x210ca8);}}async[a0_0xad378c(0x633)](_0x287f4e){const _0x1618b5=a0_0xad378c;try{return this[_0x1618b5(0x86b)][_0x1618b5(0x8cc)](this['instanceName']+'\x20('+this[_0x1618b5(0x5f5)]['wuid']+_0x1618b5(0x37a)),await this['repository'][_0x1618b5(0x5b4)][_0x1618b5(0x84a)](_0x287f4e,this[_0x1618b5(0x5f5)][_0x1618b5(0x6e3)]);}catch(_0x1fad66){let _0x409182=_0x1618b5(0x4b9),_0x187297=_0x1fad66 instanceof Error?_0x1fad66[_0x1618b5(0x5fa)]:typeof _0x1fad66==_0x1618b5(0x429)?JSON['stringify'](_0x1fad66):_0x1fad66,_0xd8d282=_0x409182+':\x20'+_0x187297;throw this[_0x1618b5(0x86b)][_0x1618b5(0x5fe)](this[_0x1618b5(0x62b)]+'\x20('+this[_0x1618b5(0x5f5)][_0x1618b5(0x6e3)]+_0x1618b5(0x431)+_0xd8d282),new m(_0xd8d282);}}async[a0_0xad378c(0x41d)](_0x2e26f4){const _0x272ce7=a0_0xad378c;try{return this[_0x272ce7(0x86b)][_0x272ce7(0x8cc)](this['instanceName']+'\x20('+this[_0x272ce7(0x5f5)]['wuid']+_0x272ce7(0x28f)),this[_0x272ce7(0x86b)]['verbose'](this['instanceName']+'\x20('+this[_0x272ce7(0x5f5)]['wuid']+'):\x20Query\x20params:'+_0x2e26f4),(await this[_0x272ce7(0x58e)][_0x272ce7(0x5b4)]['deleteOne']({'where':{'_id':_0x2e26f4['_id']}},this[_0x272ce7(0x5f5)][_0x272ce7(0x6e3)]))[_0x272ce7(0x5a6)]===0x0?{'message':_0x272ce7(0x2f2)}:{'message':_0x272ce7(0x49f)};}catch(_0x55634c){let _0x1ad980=_0x272ce7(0x728),_0x300133=_0x55634c instanceof Error?_0x55634c['message']:typeof _0x55634c==_0x272ce7(0x429)?JSON[_0x272ce7(0x62f)](_0x55634c):_0x55634c,_0x4b5c77=_0x1ad980+':\x20'+_0x300133;throw this['logger'][_0x272ce7(0x5fe)](this['instanceName']+'\x20('+this[_0x272ce7(0x5f5)][_0x272ce7(0x6e3)]+_0x272ce7(0x431)+_0x4b5c77),new m(_0x4b5c77);}}async['editConversation'](_0x28af88){const _0x52070d=a0_0xad378c;try{let {_id:_0x2141af,chatLog:_0x3c9136,status:_0x45af3d}=_0x28af88;if(!_0x2141af)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x5ef94b={};if(_0x45af3d!==void 0x0&&(_0x5ef94b['status']=_0x45af3d),Object[_0x52070d(0x178)](_0x5ef94b)[_0x52070d(0x4f1)]===0x0)return{'message':_0x52070d(0x1f5)};let _0x19d6c3=await this[_0x52070d(0x58e)][_0x52070d(0x5b4)][_0x52070d(0x71b)](_0x2141af,_0x5ef94b,this[_0x52070d(0x5f5)][_0x52070d(0x6e3)]);return _0x19d6c3||{'message':_0x52070d(0x6b0)};}catch(_0x1327a0){let _0x5951f6=_0x52070d(0x4fb),_0x128b79=_0x1327a0 instanceof Error?_0x1327a0[_0x52070d(0x5fa)]:typeof _0x1327a0==_0x52070d(0x429)?JSON[_0x52070d(0x62f)](_0x1327a0):_0x1327a0,_0x3046bb=_0x5951f6+':\x20'+_0x128b79;throw this[_0x52070d(0x86b)][_0x52070d(0x5fe)](this[_0x52070d(0x62b)]+'\x20('+this[_0x52070d(0x5f5)][_0x52070d(0x6e3)]+_0x52070d(0x431)+_0x3046bb),new m(_0x3046bb);}}async[a0_0xad378c(0x1db)](_0x41966d){const _0x140bd8=a0_0xad378c;try{_0x41966d['_id']=this[_0x140bd8(0x22b)](_0x41966d['_id']);let _0x440975=await this[_0x140bd8(0x58e)][_0x140bd8(0x7cc)]['findOne']({'where':{'_id':_0x41966d[_0x140bd8(0x81f)]}},this[_0x140bd8(0x5f5)]['wuid']);if(!_0x440975)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x257a68,leadInfo:_0x164de1}=_0x41966d;if(!_0x257a68)throw new Error(_0x140bd8(0x849));if(_0x41966d[_0x140bd8(0x8aa)]===_0x140bd8(0x493))return await this[_0x140bd8(0x421)](_0x41966d[_0x140bd8(0x81f)]),await this['repository']['chat'][_0x140bd8(0x8aa)]({'where':{'_id':_0x41966d[_0x140bd8(0x81f)]}},this[_0x140bd8(0x5f5)][_0x140bd8(0x6e3)]),await this[_0x140bd8(0x58e)][_0x140bd8(0x5fa)][_0x140bd8(0x8aa)]({'where':{'key':{'remoteJid':_0x41966d[_0x140bd8(0x81f)]}}},this[_0x140bd8(0x5f5)][_0x140bd8(0x6e3)]),_0x41966d=await this[_0x140bd8(0x58e)][_0x140bd8(0x7cc)][_0x140bd8(0x71b)]({'where':{'_id':_0x41966d[_0x140bd8(0x81f)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x140bd8(0x5f5)][_0x140bd8(0x6e3)]),U(this[_0x140bd8(0x62b)],_0x140bd8(0x829),{'chat':_0x41966d}),{'message':_0x140bd8(0x36b)};if(_0x41966d['delete']==='messages')return await this[_0x140bd8(0x58e)][_0x140bd8(0x5fa)][_0x140bd8(0x8aa)]({'where':{'key':{'remoteJid':_0x41966d[_0x140bd8(0x81f)]}}},this['instance'][_0x140bd8(0x6e3)]),_0x41966d=await this['repository'][_0x140bd8(0x7cc)][_0x140bd8(0x71b)]({'where':{'_id':_0x41966d[_0x140bd8(0x81f)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x140bd8(0x5f5)][_0x140bd8(0x6e3)]),U(this['instanceName'],_0x140bd8(0x829),{'chat':_0x41966d}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x4ca94a=(_0x3e65bd,_0x4861ef,_0x46e13e)=>{const _0x489a76=_0x140bd8;_0x3e65bd&&_0x46e13e[_0x489a76(0x6db)](_0x392ab3=>{const _0x4c3000=_0x489a76;_0x3e65bd[_0x392ab3]!==void 0x0&&(_0x4861ef[_0x4c3000(0x4eb)+_0x392ab3]=_0x3e65bd[_0x392ab3]);});},_0x5e20e3={};if('muteEndTime'in _0x41966d&&(this[_0x140bd8(0x86b)][_0x140bd8(0x8cc)](this['instanceName']+'\x20('+this[_0x140bd8(0x5f5)][_0x140bd8(0x6e3)]+_0x140bd8(0x8af)+_0x41966d[_0x140bd8(0x81f)]),_0x41966d[_0x140bd8(0x8d5)]=_0x41966d['muteEndTime']===0x0?null:-0x1,await this[_0x140bd8(0x37e)][_0x140bd8(0x63d)]({'mute':_0x41966d['muteEndTime']},_0x41966d['_id']),_0x5e20e3[_0x140bd8(0x8d5)]=Number(_0x41966d[_0x140bd8(0x8d5)])),_0x164de1&&(_0x4ca94a(_0x164de1,_0x5e20e3,[_0x140bd8(0x54d),_0x140bd8(0x1d6),_0x140bd8(0x7d1),_0x140bd8(0x4af),_0x140bd8(0x616),_0x140bd8(0x85a),_0x140bd8(0x451),_0x140bd8(0x6e4),'responsavelid',_0x140bd8(0x64a),_0x140bd8(0x367)]),Array[_0x140bd8(0x5ab)](_0x164de1[_0x140bd8(0x869)])&&(_0x5e20e3[_0x140bd8(0x1ad)]=_0x164de1[_0x140bd8(0x869)][_0x140bd8(0x4a4)](_0xa59f6b=>({'_id':_0xa59f6b['_id'],'value':_0xa59f6b[_0x140bd8(0x867)]}))),_0x41966d[_0x140bd8(0x52b)]['etiquetas']!==void 0x0)){let _0x568456=await this[_0x140bd8(0x58e)][_0x140bd8(0x6ec)][_0x140bd8(0x84a)]({'where':{}},this[_0x140bd8(0x5f5)][_0x140bd8(0x6e3)]),_0x430aa4=new Set(_0x41966d[_0x140bd8(0x52b)][_0x140bd8(0x64a)]||[]),_0xe1c994=new Set(_0x41966d[_0x140bd8(0x52b)][_0x140bd8(0x64a)]),_0x155e86=new Set(_0x568456['map'](_0x28fbc0=>_0x28fbc0['_id'])),_0xcc4ef3=[..._0xe1c994]['filter'](_0x5b801f=>!_0x430aa4[_0x140bd8(0x206)](_0x5b801f)&&_0x155e86[_0x140bd8(0x206)](_0x5b801f)),_0x11e1e0=[..._0x430aa4][_0x140bd8(0x3f3)](_0x1e5073=>!_0xe1c994[_0x140bd8(0x206)](_0x1e5073));if(_0x5e20e3[_0x140bd8(0x346)]=[..._0x430aa4],_0x440975&&!_0x440975[_0x140bd8(0x185)]){for(let _0x54525e of _0xcc4ef3)await this['AddChatLabel'](_0x54525e,_0x41966d[_0x140bd8(0x81f)]),_0x430aa4[_0x140bd8(0x472)](_0x54525e);for(let _0x25e39c of _0x11e1e0)await this['RemoveChatLabel'](_0x25e39c,_0x41966d['_id']),_0x430aa4[_0x140bd8(0x8aa)](_0x25e39c);}}if(_0x41966d['unreadcount']!==void 0x0&&(_0x5e20e3[_0x140bd8(0x7a8)]=Number(_0x41966d[_0x140bd8(0x7a8)])),Object[_0x140bd8(0x178)](_0x5e20e3)[_0x140bd8(0x4f1)]===0x0)throw new Error(_0x140bd8(0x1f5));let _0x4554f4=await this[_0x140bd8(0x58e)][_0x140bd8(0x7cc)]['updateOne']({'where':{'_id':_0x41966d[_0x140bd8(0x81f)]}},_0x5e20e3,this['instance'][_0x140bd8(0x6e3)]);return _0x4554f4&&U(this[_0x140bd8(0x62b)],_0x140bd8(0x829),{'chat':_0x4554f4}),_0x4554f4?(this['logger'][_0x140bd8(0x8cc)](this['instanceName']+'\x20('+this['instance'][_0x140bd8(0x6e3)]+_0x140bd8(0x431)+JSON['stringify'](_0x4554f4,null,0x2)),_0x4554f4):{'message':_0x140bd8(0x48c)};}catch(_0x3067b6){let _0x369c12=_0x140bd8(0x270),_0x80d911=_0x3067b6 instanceof Error?_0x3067b6[_0x140bd8(0x5fa)]:typeof _0x3067b6==_0x140bd8(0x429)?JSON[_0x140bd8(0x62f)](_0x3067b6):_0x3067b6,_0x46bc83=_0x369c12+':\x20'+_0x80d911;throw this[_0x140bd8(0x86b)][_0x140bd8(0x5fe)](this[_0x140bd8(0x62b)]+'\x20('+this['instance'][_0x140bd8(0x6e3)]+'):\x20'+_0x46bc83),new m(_0x46bc83);}}async[a0_0xad378c(0x5bc)](_0x1a9391,_0x128904){const _0x278ee7=a0_0xad378c;try{await this['client'][_0x278ee7(0x3fb)](_0x128904,_0x1a9391),this[_0x278ee7(0x86b)][_0x278ee7(0x575)](this[_0x278ee7(0x62b)]+'\x20('+this[_0x278ee7(0x5f5)][_0x278ee7(0x6e3)]+_0x278ee7(0x61c)+_0x1a9391+_0x278ee7(0x4d0)+_0x128904+_0x278ee7(0x2fc));}catch(_0x2023ea){this[_0x278ee7(0x86b)]['error']('Erro\x20ao\x20adicionar\x20label\x20'+_0x1a9391+'\x20ao\x20chat\x20'+_0x128904+':\x20'+_0x2023ea);}}async['RemoveChatLabel'](_0x59d1e0,_0x196e35){const _0x3cf7b1=a0_0xad378c;try{await this[_0x3cf7b1(0x37e)][_0x3cf7b1(0x301)](_0x196e35,_0x59d1e0),this[_0x3cf7b1(0x86b)][_0x3cf7b1(0x575)](this['instanceName']+'\x20('+this[_0x3cf7b1(0x5f5)][_0x3cf7b1(0x6e3)]+_0x3cf7b1(0x61c)+_0x59d1e0+_0x3cf7b1(0x87d)+_0x196e35+_0x3cf7b1(0x2fc));}catch(_0x450323){this[_0x3cf7b1(0x86b)][_0x3cf7b1(0x5fe)]('Erro\x20ao\x20remover\x20label\x20'+_0x59d1e0+_0x3cf7b1(0x4c6)+_0x196e35+':\x20'+_0x450323);}}async[a0_0xad378c(0x56d)](_0x6a4133){const _0x727d82=a0_0xad378c;try{let _0x1250f7=await this[_0x727d82(0x58e)][_0x727d82(0x6d5)][_0x727d82(0x4f5)](this[_0x727d82(0x5f5)][_0x727d82(0x6e3)]),_0x8bb6c1=_0x6a4133['_id']?_0x1250f7['agents']['findIndex'](_0x314ed6=>_0x314ed6[_0x727d82(0x81f)]===_0x6a4133[_0x727d82(0x81f)]):-0x1;if(_0x6a4133[_0x727d82(0x8aa)]&&_0x8bb6c1>-0x1)_0x1250f7[_0x727d82(0x237)][_0x727d82(0x84e)](_0x8bb6c1,0x1);else{if(_0x8bb6c1>-0x1){let _0x263219=_0x1250f7[_0x727d82(0x237)][_0x8bb6c1];_0x6a4133[_0x727d82(0x390)]&&(_0x263219[_0x727d82(0x390)]=_0x6a4133[_0x727d82(0x390)]),_0x6a4133['name']&&(_0x263219[_0x727d82(0x725)]=_0x6a4133[_0x727d82(0x725)]),_0x6a4133[_0x727d82(0x7d1)]&&(_0x263219[_0x727d82(0x7d1)]=_0x6a4133[_0x727d82(0x7d1)]),_0x6a4133[_0x727d82(0x30e)]&&(_0x263219['role']=_0x6a4133[_0x727d82(0x30e)]);}else _0x1250f7[_0x727d82(0x237)][_0x727d82(0x240)]({'_id':_0x6a4133[_0x727d82(0x81f)]||new ge['default']['Types'][(_0x727d82(0x5dd))]()['toString'](),'fone':_0x6a4133['fone'],'name':_0x6a4133[_0x727d82(0x725)],'email':_0x6a4133[_0x727d82(0x7d1)],'role':_0x6a4133[_0x727d82(0x30e)]});}let _0x2250c8={'agents':_0x1250f7['agents']},_0x23eaf2=await this['repository'][_0x727d82(0x6d5)][_0x727d82(0x29d)](_0x2250c8,this[_0x727d82(0x5f5)][_0x727d82(0x6e3)]);return this[_0x727d82(0x611)]=_0x23eaf2,this[_0x727d82(0x86b)][_0x727d82(0x8cc)](this[_0x727d82(0x62b)]+'\x20('+this[_0x727d82(0x5f5)]['wuid']+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x727d82(0x8cc)](this[_0x727d82(0x62b)]+'\x20('+this[_0x727d82(0x5f5)][_0x727d82(0x6e3)]+'):\x20'+this[_0x727d82(0x611)]),_0x23eaf2;}catch(_0x29301b){let _0x521a57=_0x727d82(0x755),_0x24fd28=_0x29301b instanceof Error?_0x29301b[_0x727d82(0x5fa)]:typeof _0x29301b==_0x727d82(0x429)?JSON[_0x727d82(0x62f)](_0x29301b):_0x29301b,_0x1488a7=_0x521a57+':\x20'+_0x24fd28;throw this[_0x727d82(0x86b)][_0x727d82(0x5fe)](this[_0x727d82(0x62b)]+'\x20('+this[_0x727d82(0x5f5)][_0x727d82(0x6e3)]+_0x727d82(0x431)+_0x1488a7),new m(_0x1488a7);}}async[a0_0xad378c(0x73e)](_0x5c384a){const _0x32b784=a0_0xad378c;try{let _0x1565a7=await this[_0x32b784(0x58e)][_0x32b784(0x6d5)][_0x32b784(0x4f5)](this[_0x32b784(0x5f5)][_0x32b784(0x6e3)]),_0xef1506=_0x5c384a[_0x32b784(0x81f)]?_0x1565a7[_0x32b784(0x869)]['findIndex'](_0x84b977=>_0x84b977[_0x32b784(0x81f)]===_0x5c384a[_0x32b784(0x81f)]):-0x1,_0x3ea5ed=!0x1,_0x2e34b0=_0x1565a7[_0x32b784(0x869)][_0x32b784(0x79a)](_0x34b2f8=>_0x34b2f8[_0x32b784(0x1d2)]===_0x5c384a[_0x32b784(0x1d2)]);if(_0x5c384a[_0x32b784(0x8aa)]&&_0xef1506>-0x1)_0x1565a7[_0x32b784(0x869)][_0x32b784(0x84e)](_0xef1506,0x1),_0x3ea5ed=!0x0;else{if(_0xef1506>-0x1){if(_0x1565a7[_0x32b784(0x869)]['some'](_0x44ba84=>_0x44ba84['name']===_0x5c384a[_0x32b784(0x725)]&&_0x44ba84['_id']!==_0x5c384a[_0x32b784(0x81f)]))throw new Error(_0x32b784(0x191));let _0x8de11e=_0x1565a7[_0x32b784(0x869)][_0xef1506];_0x5c384a[_0x32b784(0x1d2)]&&(_0x2e34b0||!Number['isInteger'](_0x5c384a['order']))&&(_0x8de11e[_0x32b784(0x1d2)]=_0x5c384a[_0x32b784(0x1d2)],_0x3ea5ed=!0x0),_0x5c384a[_0x32b784(0x725)]&&(_0x8de11e[_0x32b784(0x725)]=_0x5c384a[_0x32b784(0x725)]);}else{if(_0x1565a7[_0x32b784(0x869)][_0x32b784(0x79a)](_0x1aa951=>_0x1aa951[_0x32b784(0x725)]===_0x5c384a[_0x32b784(0x725)]&&_0x1aa951[_0x32b784(0x81f)]!==_0x5c384a['_id']))throw new Error(_0x32b784(0x191));_0x1565a7[_0x32b784(0x869)][_0x32b784(0x240)]({'_id':_0x5c384a['_id']||new ge['default'][(_0x32b784(0x735))][(_0x32b784(0x5dd))]()[_0x32b784(0x3d2)](),'order':_0x5c384a[_0x32b784(0x1d2)],'name':_0x5c384a[_0x32b784(0x725)]}),_0x3ea5ed=!0x0;}}if(_0x3ea5ed){_0x1565a7['customFields'][_0x32b784(0x366)]((_0x53fff9,_0x10a5c1)=>_0x53fff9['order']>_0x10a5c1[_0x32b784(0x1d2)]?0x1:_0x10a5c1[_0x32b784(0x1d2)]>_0x53fff9['order']?-0x1:0x0);for(let _0x59f865=0x0;_0x59f865<_0x1565a7[_0x32b784(0x869)][_0x32b784(0x4f1)];_0x59f865++)_0x1565a7['customFields'][_0x59f865]['order']=_0x59f865+0x1;}let _0x1462ee=await this[_0x32b784(0x58e)]['automateSystem']['update'](_0x1565a7,this[_0x32b784(0x5f5)][_0x32b784(0x6e3)]);return this[_0x32b784(0x611)]=_0x1462ee,this[_0x32b784(0x86b)][_0x32b784(0x8cc)](this['instanceName']+'\x20('+this[_0x32b784(0x5f5)][_0x32b784(0x6e3)]+_0x32b784(0x6fd)),this[_0x32b784(0x86b)][_0x32b784(0x8cc)](this[_0x32b784(0x62b)]+'\x20('+this[_0x32b784(0x5f5)][_0x32b784(0x6e3)]+_0x32b784(0x431)+this[_0x32b784(0x611)]),_0x1462ee;}catch(_0x53eba1){let _0x1870d5=_0x32b784(0x216),_0x38b441=_0x53eba1 instanceof Error?_0x53eba1[_0x32b784(0x5fa)]:typeof _0x53eba1==_0x32b784(0x429)?JSON[_0x32b784(0x62f)](_0x53eba1):_0x53eba1,_0x9efb5c=_0x1870d5+':\x20'+_0x38b441;throw this[_0x32b784(0x86b)][_0x32b784(0x5fe)](this[_0x32b784(0x62b)]+'\x20('+this['instance']['wuid']+_0x32b784(0x431)+_0x9efb5c),new m(_0x9efb5c);}}async[a0_0xad378c(0x41b)](_0x4a8e14){const _0x39168f=a0_0xad378c;try{let _0x30153e=await this['repository'][_0x39168f(0x6d5)][_0x39168f(0x4f5)](this[_0x39168f(0x5f5)][_0x39168f(0x6e3)]),_0x120363=_0x30153e?.['autoCompleteMessages']?.[_0x39168f(0x825)](_0x3b4cfd=>_0x3b4cfd['_id']===_0x4a8e14?.[_0x39168f(0x81f)]);if(_0x4a8e14?.[_0x39168f(0x8aa)])_0x120363>-0x1&&_0x30153e?.['autoCompleteMessages']?.[_0x39168f(0x84e)](_0x120363,0x1);else{if(_0x120363>-0x1){let _0x42d025=_0x30153e[_0x39168f(0x48a)][_0x120363];_0x42d025[_0x39168f(0x1d2)]=_0x4a8e14?.[_0x39168f(0x1d2)]||_0x42d025['order'],_0x42d025[_0x39168f(0x5a5)]=_0x4a8e14?.[_0x39168f(0x5a5)]||_0x42d025[_0x39168f(0x5a5)],_0x42d025[_0x39168f(0x5fa)]=_0x4a8e14?.[_0x39168f(0x5fa)]||_0x42d025[_0x39168f(0x5fa)];}else{let _0x3b9941={'_id':_0x4a8e14?.[_0x39168f(0x81f)]||new ge[(_0x39168f(0x7c4))][(_0x39168f(0x735))]['ObjectId']()[_0x39168f(0x3d2)](),'order':_0x4a8e14?.[_0x39168f(0x1d2)],'command':_0x4a8e14?.[_0x39168f(0x5a5)],'message':_0x4a8e14?.['message']};_0x30153e?.[_0x39168f(0x48a)]?.['push'](_0x3b9941);}}_0x30153e?.[_0x39168f(0x48a)]?.[_0x39168f(0x366)]((_0x4deb26,_0x1b0841)=>_0x4deb26[_0x39168f(0x1d2)]-_0x1b0841['order']);let _0x12b9bc=await this[_0x39168f(0x58e)][_0x39168f(0x6d5)][_0x39168f(0x29d)](_0x30153e,this[_0x39168f(0x5f5)][_0x39168f(0x6e3)]);return this[_0x39168f(0x611)]=_0x12b9bc,this[_0x39168f(0x86b)][_0x39168f(0x8cc)](this[_0x39168f(0x62b)]+'\x20('+this[_0x39168f(0x5f5)]['wuid']+_0x39168f(0x6fd)),_0x12b9bc;}catch(_0x53ad25){let _0x154a7d='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x257c96=_0x53ad25 instanceof Error?_0x53ad25[_0x39168f(0x5fa)]:typeof _0x53ad25==_0x39168f(0x429)?JSON[_0x39168f(0x62f)](_0x53ad25):_0x53ad25,_0x452062=_0x154a7d+':\x20'+_0x257c96;throw this['logger'][_0x39168f(0x5fe)](this[_0x39168f(0x62b)]+'\x20('+this[_0x39168f(0x5f5)][_0x39168f(0x6e3)]+_0x39168f(0x431)+_0x452062),new m(_0x452062);}}async[a0_0xad378c(0x320)](_0x4d4b4f){const _0x5dea8b=a0_0xad378c;try{let _0x4e9521=await this[_0x5dea8b(0x58e)][_0x5dea8b(0x6d5)][_0x5dea8b(0x4f5)](this['instance']['wuid']);if(!_0x4e9521)throw new Error(_0x5dea8b(0x862));let _0x306147={'_id':_0x4e9521[_0x5dea8b(0x81f)],'flowConfig':{'enabled':_0x4d4b4f[_0x5dea8b(0x257)]??_0x4e9521['flowConfig'][_0x5dea8b(0x257)],'ignoreGroups':_0x4d4b4f['ignoreGroups']??_0x4e9521[_0x5dea8b(0x18e)][_0x5dea8b(0x462)],'stopConversation':_0x4d4b4f['stopConversation'][_0x5dea8b(0x4cf)]()??_0x4e9521['flowConfig'][_0x5dea8b(0x3dc)][_0x5dea8b(0x4cf)](),'stopMinutes':_0x4d4b4f[_0x5dea8b(0x3aa)]??_0x4e9521[_0x5dea8b(0x18e)][_0x5dea8b(0x3aa)],'stopWhenYouSendMsg':_0x4d4b4f[_0x5dea8b(0x43e)]??_0x4e9521[_0x5dea8b(0x18e)]['stopWhenYouSendMsg']}},_0x679115=await this[_0x5dea8b(0x58e)][_0x5dea8b(0x6d5)][_0x5dea8b(0x29d)](_0x306147,this[_0x5dea8b(0x5f5)]['wuid']);return this[_0x5dea8b(0x611)]=_0x679115,this[_0x5dea8b(0x86b)][_0x5dea8b(0x8cc)](this[_0x5dea8b(0x62b)]+'\x20('+this[_0x5dea8b(0x5f5)][_0x5dea8b(0x6e3)]+_0x5dea8b(0x6b5)),this[_0x5dea8b(0x86b)]['verbose'](this[_0x5dea8b(0x62b)]+'\x20('+this['instance'][_0x5dea8b(0x6e3)]+_0x5dea8b(0x431)+this[_0x5dea8b(0x611)]),setTimeout(()=>this[_0x5dea8b(0x230)](),0x7d0),_0x679115;}catch(_0x55e8ea){let _0x4e4252=_0x5dea8b(0x411),_0x282cda=_0x55e8ea instanceof Error?_0x55e8ea['message']:typeof _0x55e8ea==_0x5dea8b(0x429)?JSON[_0x5dea8b(0x62f)](_0x55e8ea):_0x55e8ea,_0x2c238b=_0x4e4252+':\x20'+_0x282cda;throw this[_0x5dea8b(0x86b)][_0x5dea8b(0x5fe)](this[_0x5dea8b(0x62b)]+'\x20('+this[_0x5dea8b(0x5f5)][_0x5dea8b(0x6e3)]+_0x5dea8b(0x431)+_0x2c238b),new m(_0x2c238b);}}async[a0_0xad378c(0x72f)](){const _0x464e58=a0_0xad378c;try{let _0x22c0ff=await this[_0x464e58(0x58e)][_0x464e58(0x6d5)][_0x464e58(0x4f5)](this[_0x464e58(0x5f5)][_0x464e58(0x6e3)]);return this[_0x464e58(0x611)]=_0x22c0ff,_0x22c0ff;}catch(_0x309995){let _0x5a95f7=_0x464e58(0x801),_0x15a783=_0x309995 instanceof Error?_0x309995[_0x464e58(0x5fa)]:typeof _0x309995==_0x464e58(0x429)?JSON[_0x464e58(0x62f)](_0x309995):_0x309995,_0x26a2c9=_0x5a95f7+':\x20'+_0x15a783;throw this[_0x464e58(0x86b)][_0x464e58(0x5fe)](this[_0x464e58(0x62b)]+'\x20('+this[_0x464e58(0x5f5)][_0x464e58(0x6e3)]+'):\x20'+_0x26a2c9),new m(_0x26a2c9);}}async[a0_0xad378c(0x52e)](){const _0x4698c9=a0_0xad378c;let _0x469b60=(await import(_0x4698c9(0x68b)))[_0x4698c9(0x7c4)];this[_0x4698c9(0x4a6)]=new _0x469b60({'concurrency':0x1});}async[a0_0xad378c(0x4d2)](){const _0x721402=a0_0xad378c;this[_0x721402(0x5f5)][_0x721402(0x660)][_0x721402(0x1d4)]&&clearTimeout(this[_0x721402(0x5f5)][_0x721402(0x660)]['timeout']),this[_0x721402(0x5f5)]['ScheduleMessage'][_0x721402(0x1d4)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x52b5b6=a0_0xad378c;let _0x1fe29a=this[_0x52b5b6(0x5f5)][_0x52b5b6(0x660)][_0x52b5b6(0x4a3)];(_0x1fe29a===0x0||_0x1fe29a===null||Date[_0x52b5b6(0x54c)]()-_0x1fe29a>=0x1d4c0)&&(this['logger'][_0x52b5b6(0x8cc)](this[_0x52b5b6(0x62b)]+'\x20('+this[_0x52b5b6(0x5f5)]['wuid']+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x52b5b6(0x5f5)][_0x52b5b6(0x660)]['processingGroup']=null,this[_0x52b5b6(0x5f5)][_0x52b5b6(0x660)][_0x52b5b6(0x4a3)]=0x0,this['instance'][_0x52b5b6(0x660)][_0x52b5b6(0x292)]=0x0,this[_0x52b5b6(0x763)]=null,await this[_0x52b5b6(0x230)]());}async['scheduleNextCheck'](){const _0x37b88c=a0_0xad378c;this['logger'][_0x37b88c(0x75e)](this['instanceName']+'\x20('+this['instance'][_0x37b88c(0x6e3)]+'):\x20Procurando\x20mensagens\x20para\x20envio'),await this[_0x37b88c(0x800)]();let _0x2c226f=await this['getReadyToSendMessages']();_0x2c226f[_0x37b88c(0x4f1)]>0x0&&(this[_0x37b88c(0x86b)][_0x37b88c(0x75e)](this[_0x37b88c(0x62b)]+'\x20('+this[_0x37b88c(0x5f5)][_0x37b88c(0x6e3)]+'):\x20Há\x20mensagens\x20prontas,\x20adicionando\x20à\x20fila'),this[_0x37b88c(0x4a6)][_0x37b88c(0x472)](()=>this[_0x37b88c(0x6e8)](_0x2c226f)));let _0x1a378c={'where':{'status':'scheduled','when':{'$gt':Date[_0x37b88c(0x54c)]()}}},_0x5352b8=await this[_0x37b88c(0x58e)]['scheduleMessage'][_0x37b88c(0x5cc)](_0x1a378c,this[_0x37b88c(0x5f5)][_0x37b88c(0x6e3)]);_0x5352b8&&_0x5352b8[_0x37b88c(0x697)]-Date['now']()<=0x6ddd00?this[_0x37b88c(0x5f5)][_0x37b88c(0x660)][_0x37b88c(0x292)]=_0x5352b8['when']-Date['now']():this[_0x37b88c(0x5f5)][_0x37b88c(0x660)][_0x37b88c(0x292)]=(0x3c+Math[_0x37b88c(0x261)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x37b88c(0x5f5)][_0x37b88c(0x660)][_0x37b88c(0x292)]=Math[_0x37b88c(0x5de)](this[_0x37b88c(0x5f5)][_0x37b88c(0x660)][_0x37b88c(0x292)],0x1*0x2*0x3e8);let _0x2bbdbf=Math[_0x37b88c(0x47f)](this[_0x37b88c(0x5f5)][_0x37b88c(0x660)][_0x37b88c(0x292)]/0xea60);if(_0x5352b8){let _0x5858fc=new Date(_0x5352b8[_0x37b88c(0x697)])['toLocaleString']();this[_0x37b88c(0x86b)]['warn'](this[_0x37b88c(0x62b)]+'\x20('+this[_0x37b88c(0x5f5)][_0x37b88c(0x6e3)]+_0x37b88c(0x217)+_0x5858fc+_0x37b88c(0x4cb)+_0x2bbdbf+_0x37b88c(0x3b5));}else this[_0x37b88c(0x86b)]['warn'](this['instanceName']+'\x20('+this[_0x37b88c(0x5f5)][_0x37b88c(0x6e3)]+'):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x2bbdbf+'\x20minutos');setTimeout(()=>{const _0x2e7ff6=_0x37b88c;this[_0x2e7ff6(0x230)]();},this[_0x37b88c(0x5f5)][_0x37b88c(0x660)][_0x37b88c(0x292)]);}async[a0_0xad378c(0x3a0)](){const _0x502f77=a0_0xad378c;this[_0x502f77(0x86b)][_0x502f77(0x75e)](this[_0x502f77(0x62b)]+'\x20('+this['instance'][_0x502f77(0x6e3)]+_0x502f77(0x2ff));let _0x592c16=Date[_0x502f77(0x54c)]()-0xc*0x3c*0x3c*0x3e8,_0x418d41={'where':{'status':{'$in':[_0x502f77(0x5f2),_0x502f77(0x35a)]},'$or':[{'when':{'$lte':Date[_0x502f77(0x54c)](),'$gte':_0x592c16}},{'when':0x0}]}},_0x28af23=await this[_0x502f77(0x58e)][_0x502f77(0x253)][_0x502f77(0x84a)](_0x418d41,this['instance']['wuid']);return this['logger']['warn'](this['instanceName']+'\x20('+this[_0x502f77(0x5f5)][_0x502f77(0x6e3)]+_0x502f77(0x330)+_0x28af23[_0x502f77(0x4f1)]),_0x28af23;}async[a0_0xad378c(0x6e8)](_0x31c717){const _0x20064b=a0_0xad378c;if(this['logger']['warn'](this['instanceName']+'\x20('+this[_0x20064b(0x5f5)][_0x20064b(0x6e3)]+_0x20064b(0x87b)),this[_0x20064b(0x763)]!==null){await this[_0x20064b(0x4d2)](),this[_0x20064b(0x86b)][_0x20064b(0x75e)](this[_0x20064b(0x62b)]+'\x20('+this[_0x20064b(0x5f5)][_0x20064b(0x6e3)]+'):\x20Process\x20UUID\x20já\x20definido.\x20Saindo\x20da\x20função.');return;}this[_0x20064b(0x763)]=(0x0,z['v4'])();let _0x1059ea=0x3*0x3e8,_0x3ff85a=0x8*0x3e8,_0xdffde6=Math['floor'](Math[_0x20064b(0x49c)]()*(_0x3ff85a-_0x1059ea+0x1))+_0x1059ea,_0x51d59e=()=>this[_0x20064b(0x83d)][_0x20064b(0x4f1)]===0x0?null:this[_0x20064b(0x83d)]['reduce']((_0x5a92ad,_0x3b9a6b)=>(_0x5a92ad[_0x20064b(0x1d2)]??Number[_0x20064b(0x7c2)])<(_0x3b9a6b[_0x20064b(0x1d2)]??Number['MAX_SAFE_INTEGER'])?_0x5a92ad:_0x3b9a6b,this['pendingMessages'][0x0]);_0x31c717=await this['getReadyToSendMessages']();for(let _0x2b2810 of _0x31c717){this[_0x20064b(0x83d)]=_0x2b2810[_0x20064b(0x624)][_0x20064b(0x3f3)](_0x352b62=>!_0x352b62[_0x20064b(0x5ec)]);let _0x252471=0x3*0x3e8,_0x1c532f={'_id':_0x2b2810[_0x20064b(0x81f)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x20064b(0x54c)]()-_0x252471}}]},_0x52e70d={'startSend':Date['now'](),'status':'sending','processUUID':this[_0x20064b(0x763)]},_0x2f2053=await this[_0x20064b(0x58e)][_0x20064b(0x253)][_0x20064b(0x71b)](_0x1c532f,_0x52e70d,this[_0x20064b(0x5f5)]['wuid']);if(!_0x2f2053)continue;if(this[_0x20064b(0x5f5)]['ScheduleMessage'][_0x20064b(0x791)]=_0x2f2053,!this[_0x20064b(0x5f5)][_0x20064b(0x660)][_0x20064b(0x1a6)]){this[_0x20064b(0x86b)]['warn'](this[_0x20064b(0x62b)]+'\x20('+this[_0x20064b(0x5f5)][_0x20064b(0x6e3)]+_0x20064b(0x622));break;}for(;this[_0x20064b(0x83d)][_0x20064b(0x4f1)]>0x0;){await this[_0x20064b(0x4d2)]();let _0xb92795=_0x51d59e();if(!_0xb92795)break;let _0x56b51b=_0x2b2810[_0x20064b(0x624)]['find'](_0x5ee9d7=>_0x5ee9d7[_0x20064b(0x81f)]===_0xb92795[_0x20064b(0x81f)]);if(!_0x56b51b)break;if(this[_0x20064b(0x5f5)][_0x20064b(0x660)][_0x20064b(0x4a3)]=Date[_0x20064b(0x54c)](),_0x56b51b['triedToSend']){this[_0x20064b(0x86b)][_0x20064b(0x75e)](this[_0x20064b(0x62b)]+'\x20('+this[_0x20064b(0x5f5)][_0x20064b(0x6e3)]+_0x20064b(0x34f)+_0x56b51b[_0x20064b(0x436)]+_0x20064b(0x1ac)),this[_0x20064b(0x83d)]=this[_0x20064b(0x83d)]['filter'](_0x70519c=>_0x70519c[_0x20064b(0x81f)]!==_0x56b51b[_0x20064b(0x81f)]);continue;}if(!this[_0x20064b(0x5f5)][_0x20064b(0x660)][_0x20064b(0x1a6)]){this[_0x20064b(0x86b)]['warn'](this[_0x20064b(0x62b)]+'\x20('+this[_0x20064b(0x5f5)]['wuid']+_0x20064b(0x40f));break;}if(!this[_0x20064b(0x5f5)][_0x20064b(0x660)]['processingGroup']){this[_0x20064b(0x86b)][_0x20064b(0x75e)](this[_0x20064b(0x62b)]+'\x20('+this[_0x20064b(0x5f5)][_0x20064b(0x6e3)]+_0x20064b(0x358)+_0x2b2810['_id']+_0x20064b(0x5c4));break;}let _0x43c65a={'idControl':_0x56b51b['_id'],'remoteJid':_0x56b51b[_0x20064b(0x436)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x20064b(0x54c)]()},_0x57d53c=null;try{this[_0x20064b(0x86b)][_0x20064b(0x75e)](this[_0x20064b(0x62b)]+'\x20('+this[_0x20064b(0x5f5)][_0x20064b(0x6e3)]+_0x20064b(0x3e7)+_0x56b51b[_0x20064b(0x436)]);let _0x4144b3=await this[_0x20064b(0x6a8)](_0x56b51b[_0x20064b(0x436)],_0x56b51b);_0x43c65a['error']=_0x4144b3[_0x20064b(0x5fe)],_0x43c65a['id']=_0x4144b3[_0x20064b(0x5fe)]?null:_0x4144b3['id'],_0x43c65a[_0x20064b(0x1ec)]=_0x4144b3[_0x20064b(0x5fe)]?_0x4144b3['detail']?_0x4144b3[_0x20064b(0x569)][_0x20064b(0x3d2)]():'':null;let _0x3e0101=_0x2b2810['messages']['findIndex'](_0x34e432=>_0x34e432[_0x20064b(0x81f)]===_0x56b51b[_0x20064b(0x81f)]);_0x3e0101!==-0x1&&(_0x2b2810['messages'][_0x3e0101][_0x20064b(0x5ec)]=!0x0);let _0x57f549={'$push':{'messagesSend':_0x43c65a},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x263838=[{'elem._id':_0x56b51b[_0x20064b(0x81f)]}];if(this[_0x20064b(0x86b)][_0x20064b(0x75e)](this[_0x20064b(0x62b)]+'\x20('+this['instance']['wuid']+_0x20064b(0x4ba)+_0x56b51b[_0x20064b(0x81f)]),_0x57d53c=await this[_0x20064b(0x58e)][_0x20064b(0x253)]['updateOne']({'_id':_0x2b2810[_0x20064b(0x81f)]},_0x57f549,this[_0x20064b(0x5f5)][_0x20064b(0x6e3)],{'arrayFilters':_0x263838}),_0x4144b3[_0x20064b(0x5fe)]){this[_0x20064b(0x86b)][_0x20064b(0x5fe)](this[_0x20064b(0x62b)]+'\x20('+this[_0x20064b(0x5f5)][_0x20064b(0x6e3)]+'):\x20Erro\x20ao\x20enviar\x20mensagem:\x20'+_0x4144b3[_0x20064b(0x569)]);continue;}let _0xc75c96=this[_0x20064b(0x684)](_0x2b2810[_0x20064b(0x4d7)],_0x2b2810['delaySecMax']);await this[_0x20064b(0x6d2)](_0xc75c96);}catch(_0x5704a6){this[_0x20064b(0x86b)]['error'](this['instanceName']+'\x20('+this[_0x20064b(0x5f5)][_0x20064b(0x6e3)]+_0x20064b(0x3f5)+_0x56b51b[_0x20064b(0x436)]+':\x20'+(_0x5704a6 instanceof Error?_0x5704a6[_0x20064b(0x5fa)]:JSON['stringify'](_0x5704a6,null,0x2))),_0x43c65a[_0x20064b(0x5fe)]=!0x0,_0x43c65a['error_log']=_0x5704a6[_0x20064b(0x5fa)];let _0x3ce202=_0x2b2810[_0x20064b(0x624)]['findIndex'](_0x3a02a2=>_0x3a02a2[_0x20064b(0x81f)]===_0x56b51b[_0x20064b(0x81f)]);_0x3ce202!==-0x1&&(_0x2b2810[_0x20064b(0x624)][_0x3ce202][_0x20064b(0x5ec)]=!0x0);let _0x5b0b48={'$push':{'messagesSend':_0x43c65a},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x1d651b=[{'elem._id':_0x56b51b[_0x20064b(0x81f)]}];this['logger']['warn'](this[_0x20064b(0x62b)]+'\x20('+this[_0x20064b(0x5f5)][_0x20064b(0x6e3)]+_0x20064b(0x194)+_0x56b51b['_id']),_0x57d53c=await this['repository'][_0x20064b(0x253)][_0x20064b(0x71b)]({'_id':_0x2b2810[_0x20064b(0x81f)]},_0x5b0b48,this[_0x20064b(0x5f5)]['wuid'],{'arrayFilters':_0x1d651b});}finally{if(_0x57d53c&&_0x57d53c[_0x20064b(0x616)]==='stopped'){this[_0x20064b(0x86b)][_0x20064b(0x75e)](this[_0x20064b(0x62b)]+'\x20('+this[_0x20064b(0x5f5)][_0x20064b(0x6e3)]+_0x20064b(0x358)+_0x56b51b['_id']+_0x20064b(0x5e4));break;}let _0x1c249d=_0x57d53c[_0x20064b(0x624)][_0x20064b(0x84a)](_0x5cb564=>_0x5cb564['_id']===_0x56b51b[_0x20064b(0x81f)]);if(_0x1c249d&&!_0x1c249d[_0x20064b(0x5ec)]){let _0x57f14e={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x2e9592=[{'elem._id':_0x56b51b[_0x20064b(0x81f)]}];await this[_0x20064b(0x58e)][_0x20064b(0x253)][_0x20064b(0x71b)]({'_id':_0x57d53c[_0x20064b(0x81f)]},_0x57f14e,this[_0x20064b(0x5f5)][_0x20064b(0x6e3)],{'arrayFilters':_0x2e9592});}if(this[_0x20064b(0x83d)]=_0x57d53c['messages'][_0x20064b(0x3f3)](_0x433931=>!_0x433931['triedToSend']),_0x57d53c['processUUID']!==this[_0x20064b(0x763)]){await this[_0x20064b(0x4d2)](),this[_0x20064b(0x86b)][_0x20064b(0x75e)](this[_0x20064b(0x62b)]+'\x20('+this['instance'][_0x20064b(0x6e3)]+_0x20064b(0x4e1));return;}this['instance'][_0x20064b(0x660)][_0x20064b(0x791)]=_0x57d53c;}}this[_0x20064b(0x83d)]=[];let _0x5eeec0=await this[_0x20064b(0x58e)][_0x20064b(0x253)][_0x20064b(0x6c4)](_0x2b2810['_id'],this[_0x20064b(0x5f5)]['wuid']);if(_0x5eeec0[_0x20064b(0x624)]['every'](_0xa4b9e8=>_0xa4b9e8[_0x20064b(0x5ec)])&&_0x5eeec0[_0x20064b(0x616)]!==_0x20064b(0x630)){let _0x25cbf4={'$set':{'status':_0x20064b(0x7ea)}};await this[_0x20064b(0x58e)][_0x20064b(0x253)][_0x20064b(0x780)](_0x5eeec0['_id'],_0x25cbf4,this[_0x20064b(0x5f5)]['wuid']);}await new Promise(_0x3928d6=>setTimeout(_0x3928d6,_0xdffde6)),this[_0x20064b(0x763)]=null,global['gc']?global['gc']():console['warn'](_0x20064b(0x6d0));}}[a0_0xad378c(0x684)](_0x78fdef,_0x2636e3){const _0x1e5abd=a0_0xad378c;return _0x78fdef=Math[_0x1e5abd(0x5de)](0.5,_0x78fdef),_0x2636e3=Math[_0x1e5abd(0x2d4)](Math[_0x1e5abd(0x5de)](0x3,_0x2636e3),0x78),Math[_0x1e5abd(0x261)](Math[_0x1e5abd(0x49c)]()*(_0x2636e3-_0x78fdef+0x1)+_0x78fdef)*0x3e8;}[a0_0xad378c(0x6d2)](_0xedc5c0){return new Promise(_0x191f95=>setTimeout(_0x191f95,_0xedc5c0));}async[a0_0xad378c(0x461)](_0x1e881f){const _0x4f68cd=a0_0xad378c;if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x4f68cd(0x611)]))return null;_0x1e881f=this[_0x4f68cd(0x22b)](_0x1e881f);let _0x286720=await this[_0x4f68cd(0x58e)]['chat'][_0x4f68cd(0x5cc)]({'where':{'_id':_0x1e881f}},this[_0x4f68cd(0x5f5)][_0x4f68cd(0x6e3)]),_0x597192={};if(_0x286720&&_0x286720['leadInfo']){let _0x1ec65a=_0x286720['leadInfo'];typeof _0x1ec65a[_0x4f68cd(0x54d)]==_0x4f68cd(0x38a)&&(_0x597192['nome']=_0x1ec65a[_0x4f68cd(0x54d)]),typeof _0x1ec65a[_0x4f68cd(0x1d6)]==_0x4f68cd(0x38a)&&(_0x597192['nomecompleto']=_0x1ec65a[_0x4f68cd(0x1d6)]),typeof _0x1ec65a[_0x4f68cd(0x7d1)]=='string'&&(_0x597192[_0x4f68cd(0x7d1)]=_0x1ec65a[_0x4f68cd(0x7d1)]),typeof _0x1ec65a['cpf']==_0x4f68cd(0x38a)&&(_0x597192[_0x4f68cd(0x4af)]=_0x1ec65a[_0x4f68cd(0x4af)]),typeof _0x1ec65a[_0x4f68cd(0x616)]==_0x4f68cd(0x38a)&&(_0x597192[_0x4f68cd(0x616)]=_0x1ec65a[_0x4f68cd(0x616)]),typeof _0x1ec65a[_0x4f68cd(0x85a)]==_0x4f68cd(0x38a)&&(_0x597192[_0x4f68cd(0x85a)]=_0x1ec65a[_0x4f68cd(0x85a)]),typeof _0x1ec65a[_0x4f68cd(0x256)]==_0x4f68cd(0x38a)&&(_0x597192[_0x4f68cd(0x256)]=_0x1ec65a[_0x4f68cd(0x256)]),Array[_0x4f68cd(0x5ab)](_0x1ec65a['tags'])&&(_0x597192[_0x4f68cd(0x451)]=_0x1ec65a[_0x4f68cd(0x451)][_0x4f68cd(0x6b9)](',\x20')),Array['isArray'](_0x1ec65a[_0x4f68cd(0x64a)])&&(_0x597192[_0x4f68cd(0x64a)]=_0x1ec65a['etiquetas'][_0x4f68cd(0x6b9)](',\x20'));}return _0x286720&&_0x286720['leadInfo']&&_0x286720[_0x4f68cd(0x52b)][_0x4f68cd(0x869)]&&_0x286720[_0x4f68cd(0x52b)][_0x4f68cd(0x869)][_0x4f68cd(0x6db)](_0x1bcbed=>{const _0x2d8776=_0x4f68cd;let _0x10180b=this[_0x2d8776(0x611)]?.[_0x2d8776(0x869)][_0x2d8776(0x84a)](_0xb04ada=>_0xb04ada[_0x2d8776(0x81f)]===_0x1bcbed[_0x2d8776(0x81f)]);_0x10180b&&(_0x597192[_0x10180b[_0x2d8776(0x725)]]=_0x1bcbed[_0x2d8776(0x867)]);}),_0x597192;}async[a0_0xad378c(0x413)](_0x3b8020,_0x136b9c){const _0x15de39=a0_0xad378c;try{let _0x230f76=await this['getVariablesChat'](_0x136b9c);return this['replaceVariables'](_0x3b8020,_0x230f76);}catch(_0x2804a5){return this[_0x15de39(0x86b)][_0x15de39(0x5fe)](_0x15de39(0x37f)+_0x136b9c+':\x20'+_0x2804a5),_0x3b8020;}}async['transformScheduledMessagesByType'](){const _0x55dae7=a0_0xad378c;let _0xc4298=async(_0x5535b8,_0x24f3fb)=>{const _0x53988a=a0_0x4c1f;let _0x9a9185=(await this[_0x53988a(0x58e)][_0x53988a(0x253)][_0x53988a(0x84a)]({'where':{'type':_0x5535b8}},this[_0x53988a(0x5f5)]['wuid']))[_0x53988a(0x4a4)](async _0x23ec09=>{const _0x743967=_0x53988a;let _0x19846b=_0x24f3fb(_0x23ec09),_0xd1a12=_0x1c3995=>/^\d+$/[_0x743967(0x514)](_0x1c3995),_0x3301a6=_0x23ec09[_0x743967(0x8b2)]['filter'](_0x562ab7=>_0x562ab7[_0x743967(0x343)]('@s.whatsapp.net')?_0x562ab7[_0x743967(0x4f1)]>0x19:_0x562ab7[_0x743967(0x343)]('@g.us')?_0x562ab7[_0x743967(0x4f1)]>0xf:_0xd1a12(_0x562ab7)?_0x562ab7['length']>=0xb:!0x1)[_0x743967(0x4a4)](_0x16cb8a=>({'_id':(0x0,z['v4'])(),'idSchedule':_0x23ec09['_id'],'type':_0x19846b,'remoteJid':_0x16cb8a,'flow':_0x23ec09[_0x743967(0x249)],'text':_0x23ec09[_0x743967(0x5fa)]?.[_0x743967(0x34c)],'delay':_0x23ec09[_0x743967(0x5fa)]?.['delay'],'urlOrBase64':_0x23ec09[_0x743967(0x5fa)]?.[_0x743967(0x7d3)],'linkPreview':_0x23ec09[_0x743967(0x5fa)]?.[_0x743967(0x1c1)],'fileName':_0x23ec09['message']?.[_0x743967(0x432)],'triedToSend':!0x1,'messagesSend':[]}));try{await this['repository']['scheduleMessage']['updateOneById'](_0x23ec09[_0x743967(0x81f)],{'$set':{'messages':_0x3301a6},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x743967(0x5f5)][_0x743967(0x6e3)]);}catch(_0x1d4258){console[_0x743967(0x5fe)](_0x743967(0x5d8)+_0x23ec09[_0x743967(0x81f)]+':',_0x1d4258);}});await Promise[_0x53988a(0x493)](_0x9a9185);};await _0xc4298(_0x55dae7(0x34c),_0x189dd8=>'text'),await _0xc4298(_0x55dae7(0x80c),_0x2b8f6e=>_0x2b8f6e['message']?.[_0x55dae7(0x7fd)]||'media'),await _0xc4298('audio',_0xcbe99d=>'audio'),await _0xc4298(_0x55dae7(0x77f),_0x215363=>'flow'),await _0xc4298('image',_0x3f0c82=>_0x55dae7(0x65c)),await _0xc4298(_0x55dae7(0x688),_0x4bf983=>_0x55dae7(0x688)),await _0xc4298('document',_0x54baa5=>_0x55dae7(0x876)),this[_0x55dae7(0x86b)][_0x55dae7(0x75e)](this[_0x55dae7(0x62b)]+'\x20('+this[_0x55dae7(0x5f5)][_0x55dae7(0x6e3)]+_0x55dae7(0x783));}async[a0_0xad378c(0x526)](_0x2c4c65){const _0x4cb929=a0_0xad378c;try{if(this[_0x4cb929(0x86b)][_0x4cb929(0x75e)](this[_0x4cb929(0x62b)]+'\x20('+this[_0x4cb929(0x5f5)][_0x4cb929(0x6e3)]+_0x4cb929(0x897)),_0x2c4c65[_0x4cb929(0x81f)]||(_0x2c4c65[_0x4cb929(0x81f)]=(0x0,z['v4'])()),this['instance']['ScheduleMessage'][_0x4cb929(0x791)]?.[_0x4cb929(0x81f)]===_0x2c4c65[_0x4cb929(0x81f)]?.[_0x4cb929(0x3d2)]()){if(_0x2c4c65[_0x4cb929(0x616)]===_0x4cb929(0x630))this[_0x4cb929(0x5f5)][_0x4cb929(0x660)][_0x4cb929(0x791)]=null;else throw new Error(_0x4cb929(0x2cd));}if(_0x2c4c65['delete']&&_0x2c4c65[_0x4cb929(0x81f)]){let _0x3ce71a=await this[_0x4cb929(0x58e)]['scheduleMessage']['deleteOne'](_0x2c4c65['_id'],this[_0x4cb929(0x5f5)][_0x4cb929(0x6e3)]);return setTimeout(()=>this[_0x4cb929(0x230)](),0x7d0),_0x3ce71a;}let _0x369e0b=null;if(_0x2c4c65['_id']&&(_0x369e0b=await this[_0x4cb929(0x58e)][_0x4cb929(0x253)]['findById'](_0x2c4c65[_0x4cb929(0x81f)],this[_0x4cb929(0x5f5)][_0x4cb929(0x6e3)])),_0x369e0b){let {_id:_0x42cb71,owner:_0x1b19d8,messages:_0x21fdeb,..._0x1deb0a}=_0x2c4c65;if(_0x21fdeb){let _0x242cb0=_0x21fdeb[_0x4cb929(0x3f3)](_0x5511ff=>!_0x5511ff[_0x4cb929(0x81f)]),_0x441f1a=_0x21fdeb[_0x4cb929(0x3f3)](_0x447e2c=>_0x447e2c[_0x4cb929(0x81f)]&&!_0x447e2c['delete']),_0x38b0a7=_0x21fdeb['filter'](_0x351704=>_0x351704['_id']&&_0x351704[_0x4cb929(0x8aa)]);if(_0x242cb0[_0x4cb929(0x4f1)]>0x0&&await this[_0x4cb929(0x31b)](_0x2c4c65[_0x4cb929(0x81f)],_0x242cb0),_0x441f1a[_0x4cb929(0x4f1)]>0x0&&await this[_0x4cb929(0x704)]({'_id':_0x2c4c65[_0x4cb929(0x81f)],'messages':_0x441f1a}),_0x38b0a7['length']>0x0){let _0x228b06=_0x38b0a7['map'](_0x591b5d=>({'updateOne':{'filter':{'_id':_0x2c4c65['_id']},'update':{'$pull':{'messages':{'_id':_0x591b5d[_0x4cb929(0x81f)]}}}}}));await this[_0x4cb929(0x58e)][_0x4cb929(0x253)][_0x4cb929(0x835)](_0x228b06,this[_0x4cb929(0x5f5)][_0x4cb929(0x6e3)]);}}let _0x2ac52a={'$set':{..._0x1deb0a,'status':_0x2c4c65[_0x4cb929(0x616)]||_0x369e0b[_0x4cb929(0x616)]}},_0x116510=await this[_0x4cb929(0x58e)][_0x4cb929(0x253)][_0x4cb929(0x780)](_0x2c4c65[_0x4cb929(0x81f)],_0x2ac52a,this[_0x4cb929(0x5f5)][_0x4cb929(0x6e3)]);return _0x116510&&(this[_0x4cb929(0x5c1)](_0x116510[_0x4cb929(0x624)]),await this[_0x4cb929(0x58e)][_0x4cb929(0x253)][_0x4cb929(0x780)](_0x116510[_0x4cb929(0x81f)],{'$set':{'messages':_0x116510[_0x4cb929(0x624)]}},this[_0x4cb929(0x5f5)][_0x4cb929(0x6e3)])),setTimeout(()=>this[_0x4cb929(0x230)](),0x7d0),await this[_0x4cb929(0x800)](),_0x116510;}else{_0x2c4c65['owner']=this[_0x4cb929(0x5f5)]['wuid'],_0x2c4c65[_0x4cb929(0x624)]&&_0x2c4c65[_0x4cb929(0x624)]['forEach'](_0x523097=>{const _0x97820=_0x4cb929;_0x523097['_id']||(_0x523097[_0x97820(0x81f)]=(0x0,z['v4'])()),_0x523097['idSchedule']||(_0x523097[_0x97820(0x650)]=_0x2c4c65[_0x97820(0x81f)]),delete _0x523097[_0x97820(0x5ec)];});let _0x34c129=await this[_0x4cb929(0x58e)]['scheduleMessage'][_0x4cb929(0x1bc)](_0x2c4c65,this[_0x4cb929(0x5f5)][_0x4cb929(0x6e3)]);return _0x34c129&&(this[_0x4cb929(0x5c1)](_0x34c129[_0x4cb929(0x624)]),await this[_0x4cb929(0x58e)][_0x4cb929(0x253)][_0x4cb929(0x780)](_0x34c129['_id'],{'$set':{'messages':_0x34c129[_0x4cb929(0x624)]}},this[_0x4cb929(0x5f5)]['wuid'])),setTimeout(()=>this[_0x4cb929(0x230)](),0x7d0),_0x34c129;}}catch(_0x38a363){let _0x534d8c='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0x50b0bc=_0x38a363 instanceof Error?_0x38a363[_0x4cb929(0x5fa)]:typeof _0x38a363==_0x4cb929(0x429)?JSON[_0x4cb929(0x62f)](_0x38a363):_0x38a363,_0x56eeb8=_0x534d8c+':\x20'+_0x50b0bc;throw this[_0x4cb929(0x86b)][_0x4cb929(0x5fe)](this[_0x4cb929(0x62b)]+'\x20('+this[_0x4cb929(0x5f5)][_0x4cb929(0x6e3)]+_0x4cb929(0x431)+_0x56eeb8),new m(_0x56eeb8);}}async[a0_0xad378c(0x31b)](_0x26656a,_0x3ff2dd){const _0xd98886=a0_0xad378c;try{this[_0xd98886(0x86b)]['verbose'](this[_0xd98886(0x62b)]+'\x20('+this[_0xd98886(0x5f5)][_0xd98886(0x6e3)]+_0xd98886(0x4a2)),_0x3ff2dd[_0xd98886(0x6db)](_0x3047cc=>{const _0x31b551=_0xd98886;_0x3047cc[_0x31b551(0x81f)]||(_0x3047cc['_id']=(0x0,z['v4'])()),_0x3047cc[_0x31b551(0x650)]||(_0x3047cc[_0x31b551(0x650)]=_0x26656a),delete _0x3047cc['triedToSend'];});let _0x4be798={'$push':{'messages':{'$each':_0x3ff2dd}}},_0x16d204=await this['repository'][_0xd98886(0x253)][_0xd98886(0x780)](_0x26656a,_0x4be798,this[_0xd98886(0x5f5)][_0xd98886(0x6e3)]);return _0x16d204&&(this[_0xd98886(0x5c1)](_0x16d204['messages']),await this[_0xd98886(0x58e)][_0xd98886(0x253)][_0xd98886(0x780)](_0x16d204['_id'],{'$set':{'messages':_0x16d204['messages']}},this[_0xd98886(0x5f5)]['wuid'])),_0x16d204;}catch(_0x5411a9){let _0x548d9c='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x30b088=_0x5411a9 instanceof Error?_0x5411a9[_0xd98886(0x5fa)]:typeof _0x5411a9==_0xd98886(0x429)?JSON[_0xd98886(0x62f)](_0x5411a9):_0x5411a9,_0xd3d2ac=_0x548d9c+':\x20'+_0x30b088;throw this[_0xd98886(0x86b)][_0xd98886(0x5fe)](this[_0xd98886(0x62b)]+'\x20('+this[_0xd98886(0x5f5)][_0xd98886(0x6e3)]+'):\x20'+_0xd3d2ac),new m(_0xd3d2ac);}}async[a0_0xad378c(0x704)](_0x4d6aa4){const _0x6438b3=a0_0xad378c;try{if(this[_0x6438b3(0x86b)][_0x6438b3(0x8cc)](this['instanceName']+'\x20('+this[_0x6438b3(0x5f5)][_0x6438b3(0x6e3)]+_0x6438b3(0x89c)),!_0x4d6aa4[_0x6438b3(0x81f)]||!_0x4d6aa4[_0x6438b3(0x624)])throw new Error(_0x6438b3(0x30c));let _0x431c96=_0x4d6aa4[_0x6438b3(0x81f)],_0x501279=_0x4d6aa4[_0x6438b3(0x624)],_0x28507d=_0x501279[_0x6438b3(0x3f3)](_0x121d83=>!_0x121d83[_0x6438b3(0x8aa)])[_0x6438b3(0x4a4)](_0x52431e=>{const _0xb4c96c=_0x6438b3;let _0x393b8b=_0x52431e[_0xb4c96c(0x81f)];if(!_0x393b8b)throw new Error(_0xb4c96c(0x55d));return _0x52431e[_0xb4c96c(0x650)]||(_0x52431e[_0xb4c96c(0x650)]=_0x431c96),delete _0x52431e[_0xb4c96c(0x5ec)],{'updateOne':{'filter':{'_id':_0x431c96,'messages._id':_0x393b8b},'update':{'$set':{'messages.$[elem]':_0x52431e}},'arrayFilters':[{'elem._id':_0x393b8b}]}};}),_0x4dc0ed=_0x501279[_0x6438b3(0x3f3)](_0x575f83=>_0x575f83[_0x6438b3(0x8aa)])[_0x6438b3(0x4a4)](_0x28242d=>{const _0x609eba=_0x6438b3;let _0x1912dd=_0x28242d[_0x609eba(0x81f)];if(!_0x1912dd)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.');return{'updateOne':{'filter':{'_id':_0x431c96},'update':{'$pull':{'messages':{'_id':_0x1912dd}}}}};}),_0xa312d1=[..._0x28507d,..._0x4dc0ed],_0x50da1e=await this['repository'][_0x6438b3(0x253)][_0x6438b3(0x835)](_0xa312d1,this['instance'][_0x6438b3(0x6e3)]),_0x297dc9=await this[_0x6438b3(0x58e)]['scheduleMessage'][_0x6438b3(0x6c4)](_0x431c96,this[_0x6438b3(0x5f5)]['wuid']);return _0x297dc9&&(this['reorderMessages'](_0x297dc9['messages']),await this['repository']['scheduleMessage'][_0x6438b3(0x780)](_0x297dc9[_0x6438b3(0x81f)],{'$set':{'messages':_0x297dc9[_0x6438b3(0x624)]}},this['instance'][_0x6438b3(0x6e3)])),_0x297dc9;}catch(_0x472e3b){let _0x59a75a=_0x6438b3(0x62a),_0x38599f=_0x472e3b instanceof Error?_0x472e3b[_0x6438b3(0x5fa)]:typeof _0x472e3b==_0x6438b3(0x429)?JSON[_0x6438b3(0x62f)](_0x472e3b):_0x472e3b,_0x1cfda0=_0x59a75a+':\x20'+_0x38599f;throw this[_0x6438b3(0x86b)][_0x6438b3(0x5fe)](this[_0x6438b3(0x62b)]+'\x20('+this[_0x6438b3(0x5f5)][_0x6438b3(0x6e3)]+_0x6438b3(0x431)+_0x1cfda0),new m(_0x1cfda0);}}async[a0_0xad378c(0x64d)](){const _0x5627e6=a0_0xad378c;try{let _0x17132d={'status':'done'},_0x33bb68=await this[_0x5627e6(0x58e)][_0x5627e6(0x253)][_0x5627e6(0x5e7)](_0x17132d,this['instance'][_0x5627e6(0x6e3)]);if(!_0x33bb68[_0x5627e6(0x5fe)])this[_0x5627e6(0x86b)][_0x5627e6(0x8cc)](this['instanceName']+'\x20('+this[_0x5627e6(0x5f5)][_0x5627e6(0x6e3)]+'):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.');else throw new Error(_0x33bb68[_0x5627e6(0x5fe)]['message']||_0x5627e6(0x868));return this[_0x5627e6(0x36e)]();}catch(_0x5078d9){let _0x362795=_0x5627e6(0x1e1),_0x567401=_0x5078d9 instanceof Error?_0x5078d9[_0x5627e6(0x5fa)]:typeof _0x5078d9==_0x5627e6(0x429)?JSON[_0x5627e6(0x62f)](_0x5078d9):_0x5078d9,_0x4a0374=_0x362795+':\x20'+_0x567401;throw this['logger']['error'](this[_0x5627e6(0x62b)]+'\x20('+this[_0x5627e6(0x5f5)][_0x5627e6(0x6e3)]+'):\x20'+_0x4a0374),new m(_0x4a0374);}}async[a0_0xad378c(0x36e)](){const _0xadad02=a0_0xad378c;try{return await this[_0xadad02(0x58e)][_0xadad02(0x253)]['find']({'where':{}},this[_0xadad02(0x5f5)][_0xadad02(0x6e3)]);}catch(_0x599f09){let _0x3fa83b='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x43460a=_0x599f09 instanceof Error?_0x599f09[_0xadad02(0x5fa)]:typeof _0x599f09=='object'?JSON[_0xadad02(0x62f)](_0x599f09):_0x599f09,_0x444326=_0x3fa83b+':\x20'+_0x43460a;throw this[_0xadad02(0x86b)][_0xadad02(0x5fe)](this[_0xadad02(0x62b)]+'\x20('+this['instance'][_0xadad02(0x6e3)]+_0xadad02(0x431)+_0x444326),new m(_0x444326);}}[a0_0xad378c(0x5c1)](_0x49c3cc){const _0x47ffd3=a0_0xad378c;_0x49c3cc[_0x47ffd3(0x366)]((_0x537257,_0x517807)=>_0x537257[_0x47ffd3(0x1d2)]-_0x517807[_0x47ffd3(0x1d2)]),_0x49c3cc[_0x47ffd3(0x6db)]((_0x29fced,_0x3241e4)=>{const _0x5e653a=_0x47ffd3;_0x29fced[_0x5e653a(0x1d2)]=_0x3241e4+0x1;});}async[a0_0xad378c(0x6a8)](_0x649bae,_0x46fdee){const _0xa8f00=a0_0xad378c;try{if(!_0x46fdee)return this[_0xa8f00(0x86b)]['error'](this[_0xa8f00(0x62b)]+'\x20('+this[_0xa8f00(0x5f5)][_0xa8f00(0x6e3)]+_0xa8f00(0x35b)),{'error':!0x0,'detail':'Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'};if(_0x46fdee[_0xa8f00(0x6a2)]===_0xa8f00(0x77f)&&!this['AutomateSystem']?.[_0xa8f00(0x18e)]['enabled'])return this[_0xa8f00(0x86b)][_0xa8f00(0x5fe)](this[_0xa8f00(0x62b)]+'\x20('+this[_0xa8f00(0x5f5)][_0xa8f00(0x6e3)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0xa8f00(0x5a8)};switch(_0x46fdee[_0xa8f00(0x6a2)]){case _0xa8f00(0x34c):return await this[_0xa8f00(0x643)](_0x46fdee,_0x649bae);case _0xa8f00(0x688):case'image':case _0xa8f00(0x876):return await this['scheduleSendMedia'](_0x46fdee,_0x649bae);case'audio':return await this[_0xa8f00(0x8b1)](_0x46fdee,_0x649bae);case _0xa8f00(0x77f):let _0x4115fa=new We();return _0x4115fa[_0xa8f00(0x725)]=_0x46fdee[_0xa8f00(0x77f)],_0x4115fa[_0xa8f00(0x436)]=_0x649bae,await this[_0xa8f00(0x33e)](_0x4115fa);default:return this[_0xa8f00(0x86b)]['error'](this[_0xa8f00(0x62b)]+'\x20('+this[_0xa8f00(0x5f5)][_0xa8f00(0x6e3)]+_0xa8f00(0x1d0)+_0x46fdee[_0xa8f00(0x6a2)]),{'error':!0x0,'detail':_0xa8f00(0x3da)};}}catch(_0x33df9a){return this['logger'][_0xa8f00(0x5fe)](this[_0xa8f00(0x62b)]+'\x20('+this[_0xa8f00(0x5f5)][_0xa8f00(0x6e3)]+_0xa8f00(0x3c6)+(_0x33df9a instanceof Error?_0x33df9a[_0xa8f00(0x5fa)]:JSON[_0xa8f00(0x62f)](_0x33df9a,null,0x2))),{'error':!0x0,'detail':_0x33df9a['message']};}}async[a0_0xad378c(0x643)](_0x42fb69,_0x18848b){const _0x42c625=a0_0xad378c;if(this[_0x42c625(0x86b)][_0x42c625(0x8cc)](this[_0x42c625(0x62b)]+'\x20('+this[_0x42c625(0x5f5)]['wuid']+_0x42c625(0x69c)+_0x18848b+'\x27'),!_0x42fb69[_0x42c625(0x34c)]||_0x42fb69['text'][_0x42c625(0x4f1)]===0x0)return{'error':!0x0,'detail':_0x42c625(0x467)};let _0x56849e=await this[_0x42c625(0x413)](_0x42fb69[_0x42c625(0x34c)],_0x18848b),_0xd4fa9a={'number':_0x18848b,'options':{'delay':_0x42fb69[_0x42c625(0x636)],'linkPreview':_0x42fb69[_0x42c625(0x1c1)]},'textMessage':{'text':_0x56849e}},_0x48465a=null;try{let _0x56b2a5=await this[_0x42c625(0x35d)](_0xd4fa9a);if(_0x56b2a5&&_0x56b2a5[_0x42c625(0x616)])return{'error':!0x1,'id':_0x56b2a5['key']['id']};_0x48465a=JSON['stringify'](_0x56b2a5),this[_0x42c625(0x86b)][_0x42c625(0x8cc)](this['instanceName']+'\x20('+this[_0x42c625(0x5f5)][_0x42c625(0x6e3)]+'):\x20'+_0x48465a);}catch(_0x113481){this[_0x42c625(0x86b)][_0x42c625(0x5fe)](this['instanceName']+'\x20('+this[_0x42c625(0x5f5)][_0x42c625(0x6e3)]+_0x42c625(0x8a5)+(_0x113481 instanceof Error?_0x113481[_0x42c625(0x5fa)]:JSON[_0x42c625(0x62f)](_0x113481,null,0x2))),_0x48465a=_0x113481[_0x42c625(0x5fa)];}if(_0x48465a)return{'error':!0x0,'detail':(typeof _0x48465a==_0x42c625(0x429)?JSON[_0x42c625(0x62f)](_0x48465a,null,0x2):_0x48465a)[_0x42c625(0x568)](/[\[\]{}\n]/g,'\x20')[_0x42c625(0x568)](/  +/g,'\x20')};}async[a0_0xad378c(0x315)](_0x3f6458,_0x5e9fba){const _0x143546=a0_0xad378c;this['logger'][_0x143546(0x8cc)](this[_0x143546(0x62b)]+'\x20('+this[_0x143546(0x5f5)]['wuid']+_0x143546(0x2e9)+_0x5e9fba+'\x27');let _0x154775;_0x3f6458[_0x143546(0x34c)]&&_0x3f6458[_0x143546(0x34c)][_0x143546(0x4f1)]>0x0&&(_0x154775=await this[_0x143546(0x413)](_0x3f6458['text'],_0x5e9fba));let _0x179580={'number':_0x5e9fba,'options':{'delay':_0x3f6458[_0x143546(0x636)],'linkPreview':_0x3f6458[_0x143546(0x1c1)]},'mediaMessage':{'mediatype':_0x3f6458[_0x143546(0x6a2)],'caption':_0x154775,'media':_0x3f6458[_0x143546(0x7d3)]}},_0x262d3a=null;try{let _0x1ccb57=await this[_0x143546(0x7a0)](_0x179580);if(_0x1ccb57&&_0x1ccb57[_0x143546(0x616)])return{'error':!0x1,'id':_0x1ccb57['key']['id']};_0x262d3a=JSON[_0x143546(0x62f)](_0x1ccb57),this[_0x143546(0x86b)][_0x143546(0x8cc)](this[_0x143546(0x62b)]+'\x20('+this[_0x143546(0x5f5)]['wuid']+_0x143546(0x431)+_0x262d3a);}catch(_0x364f47){this[_0x143546(0x86b)][_0x143546(0x5fe)](this['instanceName']+'\x20('+this[_0x143546(0x5f5)][_0x143546(0x6e3)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x364f47 instanceof Error?_0x364f47[_0x143546(0x5fa)]:JSON[_0x143546(0x62f)](_0x364f47,null,0x2))),_0x262d3a=_0x364f47[_0x143546(0x5fa)];}if(_0x262d3a)return{'error':!0x0,'detail':(typeof _0x262d3a==_0x143546(0x429)?JSON[_0x143546(0x62f)](_0x262d3a,null,0x2):_0x262d3a)[_0x143546(0x568)](/[\[\]{}\n]/g,'\x20')[_0x143546(0x568)](/  +/g,'\x20')};}async[a0_0xad378c(0x8b1)](_0x1d91ea,_0x1c1ade){const _0x424f45=a0_0xad378c;this[_0x424f45(0x86b)][_0x424f45(0x8cc)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x424f45(0x8b6)+_0x1c1ade+'\x27');let _0x58084f={'number':_0x1c1ade,'options':{'delay':_0x1d91ea[_0x424f45(0x636)]},'audioMessage':{'audio':_0x1d91ea[_0x424f45(0x7d3)]}},_0x5e57e5=null;try{let _0x55bfd6=await this[_0x424f45(0x5ed)](_0x58084f);if(_0x55bfd6&&_0x55bfd6['status'])return{'error':!0x1,'id':_0x55bfd6[_0x424f45(0x4ff)]['id']};_0x5e57e5=JSON['stringify'](_0x55bfd6),this[_0x424f45(0x86b)][_0x424f45(0x8cc)](this[_0x424f45(0x62b)]+'\x20('+this['instance'][_0x424f45(0x6e3)]+'):\x20'+_0x5e57e5);}catch(_0x1d31e3){this[_0x424f45(0x86b)][_0x424f45(0x5fe)](this[_0x424f45(0x62b)]+'\x20('+this[_0x424f45(0x5f5)][_0x424f45(0x6e3)]+_0x424f45(0x6ad)+(_0x1d31e3 instanceof Error?_0x1d31e3[_0x424f45(0x5fa)]:JSON['stringify'](_0x1d31e3,null,0x2))),_0x5e57e5=_0x1d31e3[_0x424f45(0x5fa)];}if(_0x5e57e5)return{'error':!0x0,'detail':(typeof _0x5e57e5==_0x424f45(0x429)?JSON[_0x424f45(0x62f)](_0x5e57e5,null,0x2):_0x5e57e5)[_0x424f45(0x568)](/[\[\]{}\n]/g,'\x20')[_0x424f45(0x568)](/  +/g,'\x20')};}async[a0_0xad378c(0x1a1)](_0x49b129){const _0x50e206=a0_0xad378c;try{return await this['client'][_0x50e206(0x538)](_0x49b129[_0x50e206(0x7d9)],_0x49b129['description']),{'update':'success'};}catch(_0x1eabf7){let _0x50eefb=_0x50e206(0x28a),_0x437bb1=_0x1eabf7 instanceof Error?_0x1eabf7[_0x50e206(0x5fa)]:typeof _0x1eabf7==_0x50e206(0x429)?JSON[_0x50e206(0x62f)](_0x1eabf7):_0x1eabf7,_0x5c14e4=_0x50eefb+':\x20'+_0x437bb1;throw this[_0x50e206(0x86b)]['error'](this[_0x50e206(0x62b)]+'\x20('+this[_0x50e206(0x5f5)][_0x50e206(0x6e3)]+_0x50e206(0x431)+_0x5c14e4),new x(_0x5c14e4);}}async[a0_0xad378c(0x1d3)](_0x4b476f){const _0x23d915=a0_0xad378c;try{return await this[_0x23d915(0x37e)]['groupUpdateSubject'](_0x4b476f['groupJid'],_0x4b476f[_0x23d915(0x725)]),{'update':_0x23d915(0x57b)};}catch(_0x1fa3b7){let _0x1c0cb4=_0x23d915(0x331),_0x1df90d=_0x1fa3b7 instanceof Error?_0x1fa3b7[_0x23d915(0x5fa)]:typeof _0x1fa3b7==_0x23d915(0x429)?JSON['stringify'](_0x1fa3b7):_0x1fa3b7,_0x5f5acb=_0x1c0cb4+':\x20'+_0x1df90d;throw this[_0x23d915(0x86b)][_0x23d915(0x5fe)](this[_0x23d915(0x62b)]+'\x20('+this[_0x23d915(0x5f5)]['wuid']+_0x23d915(0x431)+_0x5f5acb),new x(_0x5f5acb);}}async[a0_0xad378c(0x85e)](_0x5dd6bb){const _0x2955ba=a0_0xad378c;try{let _0x467965=await this[_0x2955ba(0x37e)]['groupToggleEphemeral'](_0x5dd6bb[_0x2955ba(0x7d9)],_0x5dd6bb['expiration']);return{'success':!0x0};}catch(_0x42f6b4){let _0x26bcab=_0x2955ba(0x23b),_0x5b9984=_0x42f6b4 instanceof Error?_0x42f6b4[_0x2955ba(0x5fa)]:typeof _0x42f6b4=='object'?JSON[_0x2955ba(0x62f)](_0x42f6b4):_0x42f6b4,_0x3df996=_0x26bcab+':\x20'+_0x5b9984;throw this[_0x2955ba(0x86b)]['error'](this[_0x2955ba(0x62b)]+'\x20('+this['instance']['wuid']+_0x2955ba(0x431)+_0x3df996),new x(_0x3df996);}}async[a0_0xad378c(0x255)](_0x268ced){const _0x226e38=a0_0xad378c;try{return await this[_0x226e38(0x37e)][_0x226e38(0x22f)](_0x268ced[_0x226e38(0x7d9)],_0x268ced[_0x226e38(0x175)]),{'update':_0x226e38(0x57b)};}catch(_0x28ce2a){let _0x317289=_0x226e38(0x2fe),_0x1a1949=_0x28ce2a instanceof Error?_0x28ce2a[_0x226e38(0x5fa)]:typeof _0x28ce2a==_0x226e38(0x429)?JSON['stringify'](_0x28ce2a):_0x28ce2a,_0x40e683=_0x317289+':\x20'+_0x1a1949;throw this[_0x226e38(0x86b)][_0x226e38(0x5fe)](this[_0x226e38(0x62b)]+'\x20('+this[_0x226e38(0x5f5)][_0x226e38(0x6e3)]+_0x226e38(0x431)+_0x40e683),new x(_0x40e683);}}async['updateGroupPicture'](_0x38ad75){const _0x21aa9d=a0_0xad378c;try{let _0x37b182;if((0x0,J[_0x21aa9d(0x4e7)])(_0x38ad75[_0x21aa9d(0x65c)])){let _0x4991ca=new Date()[_0x21aa9d(0x466)](),_0x271b14=_0x38ad75['image']+'?timestamp='+_0x4991ca;_0x37b182=(await Y[_0x21aa9d(0x7c4)][_0x21aa9d(0x1ff)](_0x271b14,{'responseType':_0x21aa9d(0x7a1)}))[_0x21aa9d(0x232)];}else{if((0x0,J[_0x21aa9d(0x5f0)])(_0x38ad75[_0x21aa9d(0x65c)]))_0x37b182=Buffer['from'](_0x38ad75['image'],_0x21aa9d(0x450));else throw new m(_0x21aa9d(0x877));}return await this[_0x21aa9d(0x37e)]['updateProfilePicture'](_0x38ad75[_0x21aa9d(0x7d9)],_0x37b182),{'update':_0x21aa9d(0x57b)};}catch(_0x15ee2c){let _0x502667=_0x21aa9d(0x229),_0x2e9e7b=_0x15ee2c instanceof Error?_0x15ee2c[_0x21aa9d(0x5fa)]:typeof _0x15ee2c==_0x21aa9d(0x429)?JSON[_0x21aa9d(0x62f)](_0x15ee2c):_0x15ee2c,_0x2d096b=_0x502667+':\x20'+_0x2e9e7b;throw this[_0x21aa9d(0x86b)][_0x21aa9d(0x5fe)](this[_0x21aa9d(0x62b)]+'\x20('+this[_0x21aa9d(0x5f5)][_0x21aa9d(0x6e3)]+_0x21aa9d(0x431)+_0x2d096b),new x(_0x2d096b);}}},jt=class u{constructor(_0x1d51be,_0x48d61b,_0x1b6bc1){const _0x19954c=a0_0xad378c;this['eventEmitter']=_0x1d51be,this[_0x19954c(0x2ed)]=_0x48d61b,this[_0x19954c(0x58e)]=_0x1b6bc1,this['db']={},this[_0x19954c(0x378)]={},this[_0x19954c(0x86b)]=new $(u['name']),this['waInstances']={},(this[_0x19954c(0x26c)](),this[_0x19954c(0x5cb)](),Object[_0x19954c(0x39f)](this['db'],_0x48d61b['get'](_0x19954c(0x5af))),Object['assign'](this[_0x19954c(0x378)],_0x48d61b['get'](_0x19954c(0x1ef))),this[_0x19954c(0x420)]=this['db'][_0x19954c(0x785)]?this[_0x19954c(0x58e)][_0x19954c(0x545)]?.['db'](this['db'][_0x19954c(0x21b)]['DB_PREFIX_NAME']+_0x19954c(0x666)):void 0x0,this[_0x19954c(0x6cb)]=this['redis']['ENABLED']?new pe(this[_0x19954c(0x378)]):void 0x0);}async['instanceInfo'](_0x3008f5){const _0x1fba26=a0_0xad378c;if(_0x3008f5&&!this[_0x1fba26(0x16e)][_0x3008f5])throw new F(_0x1fba26(0x44d)+_0x3008f5+'\x22\x20not\x20found');let _0x46bf8b=[];for await(let [_0x153731,_0x52d15a]of Object['entries'](this[_0x1fba26(0x16e)]))if(_0x52d15a&&_0x52d15a[_0x1fba26(0x64c)][_0x1fba26(0x480)]===_0x1fba26(0x522)){let _0x25b846=await this[_0x1fba26(0x58e)]['auth']['find'](_0x153731);_0x46bf8b[_0x1fba26(0x240)]({'instance':{'instanceName':_0x153731,'apikey':_0x25b846[_0x1fba26(0x2cc)],'owner':_0x52d15a[_0x1fba26(0x6e3)],'profileName':await _0x52d15a[_0x1fba26(0x2cf)]()||'not\x20loaded','profilePictureUrl':_0x52d15a[_0x1fba26(0x645)]}});}return _0x46bf8b[_0x1fba26(0x84a)](_0x5ae78d=>_0x5ae78d[_0x1fba26(0x5f5)][_0x1fba26(0x62b)]===_0x3008f5)??_0x46bf8b;}async[a0_0xad378c(0x5fb)](_0x43569a){const _0x3e035e=a0_0xad378c;if(this['db'][_0x3e035e(0x785)]&&(await this[_0x3e035e(0x58e)]['dbServer'][_0x3e035e(0x6f8)](),(await this[_0x3e035e(0x420)][_0x3e035e(0x248)]())[_0x3e035e(0x4f1)]>0x0&&await this[_0x3e035e(0x420)]['dropCollection'](_0x43569a)),this[_0x3e035e(0x378)][_0x3e035e(0x785)]){this[_0x3e035e(0x6cb)][_0x3e035e(0x8bc)]=_0x43569a,await this['cache'][_0x3e035e(0x40c)]();return;}}async['loadInstance'](){const _0x29d1bd=a0_0xad378c;await this['InstancesAlterarTodas']();let _0x56647d=async _0x105cd5=>{const _0xa6def2=a0_0x4c1f;let _0x330899=new $e(this[_0xa6def2(0x2ed)],this['eventEmitter'],this[_0xa6def2(0x58e)]);_0x330899[_0xa6def2(0x62b)]=_0x105cd5,await _0x330899['connectToWhatsapp'](),this[_0xa6def2(0x16e)][_0x105cd5]=_0x330899;};try{if(this['redis'][_0x29d1bd(0x785)]){let _0x5514b1=await this[_0x29d1bd(0x6cb)][_0x29d1bd(0x3a3)]();_0x5514b1?.['length']>0x0&&_0x5514b1['forEach'](async _0x3ebec7=>await _0x56647d(_0x3ebec7[_0x29d1bd(0x43a)](':')[0x1]));return;}if(this['db'][_0x29d1bd(0x785)]){await this[_0x29d1bd(0x58e)][_0x29d1bd(0x545)][_0x29d1bd(0x6f8)]();let _0x43efc3=await this[_0x29d1bd(0x420)][_0x29d1bd(0x248)]();_0x43efc3[_0x29d1bd(0x4f1)]>0x0&&_0x43efc3[_0x29d1bd(0x6db)](async _0x405888=>await _0x56647d(_0x405888['namespace']['replace'](/^[\w-]+\./,'')));return;}}catch(_0x1c1d66){this[_0x29d1bd(0x86b)][_0x29d1bd(0x5fe)](_0x1c1d66);}}async[a0_0xad378c(0x761)](){const _0x4ecd77=a0_0xad378c;try{let _0x4461e0=await this[_0x4ecd77(0x58e)][_0x4ecd77(0x89f)][_0x4ecd77(0x361)]({'online':!0x1});for(let _0x5950f0 of _0x4461e0){let _0x71ec27=_0x5950f0[_0x4ecd77(0x81f)];await se[_0x4ecd77(0x6c0)](B,_0x71ec27);}console[_0x4ecd77(0x78c)](_0x4ecd77(0x586)+_0x4461e0['length']);let _0x38c497={'online':!0x1},_0x3d06d2=await this[_0x4ecd77(0x58e)]['auth']['deleteMany'](_0x38c497);console['log'](_0x4ecd77(0x80d)+_0x3d06d2[_0x4ecd77(0x40b)]);}catch(_0x106b73){console['error']('Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:',_0x106b73);}}async[a0_0xad378c(0x3a8)](){const _0x52aa47=a0_0xad378c;try{let _0x47c98d={'online':!0x1},_0x6e5107={'online':!0x1,'lastDisconnect':Date[_0x52aa47(0x54c)]()},_0x8ee02e=await this[_0x52aa47(0x58e)][_0x52aa47(0x89f)][_0x52aa47(0x637)](_0x47c98d,_0x6e5107);await this['cleanDisconnectedInstances']();}catch(_0x2e57b4){console[_0x52aa47(0x5fe)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x2e57b4);}}[a0_0xad378c(0x26c)](){const _0x26a7e9=a0_0xad378c;this[_0x26a7e9(0x683)]['on']('remove.instance',async _0x444a78=>{const _0x3e8309=_0x26a7e9;try{this['waInstances'][_0x444a78]=void 0x0;}catch{}try{this[_0x3e8309(0x5fb)](_0x444a78);}finally{this[_0x3e8309(0x86b)][_0x3e8309(0x75e)](_0x3e8309(0x44d)+_0x444a78+'\x22\x20-\x20REMOVED');}});}[a0_0xad378c(0x5cb)](){const _0xa2913c=a0_0xad378c;this[_0xa2913c(0x683)]['on']('no.connection',async _0x1b5b1f=>{const _0x4b1ac3=_0xa2913c;try{this['waInstances'][_0x1b5b1f]=void 0x0;}catch{}try{this[_0x4b1ac3(0x5fb)](_0x1b5b1f);}finally{this[_0x4b1ac3(0x86b)]['warn']('Instance\x20\x22'+_0x1b5b1f+_0x4b1ac3(0x1ca));}});}},Jt=class extends O{[a0_0xad378c(0x37b)](_0x4487dc){return Xs(_0x4487dc);}async[a0_0xad378c(0x364)](_0x84fd37){const _0x280f23=a0_0xad378c;if(_0x84fd37[_0x280f23(0x4f1)]!==0x0)try{return{'insertCount':(await this[_0x280f23(0x37b)](_0x84fd37[0x0]['owner'])[_0x280f23(0x8a8)]([..._0x84fd37]))['length']};}catch(_0x8f193d){return _0x8f193d;}}async[a0_0xad378c(0x84a)](_0x2932e8,_0x5823f0){const _0x344cf8=a0_0xad378c;try{let _0x21a36e=this[_0x344cf8(0x37b)](_0x5823f0),_0xa595a5=T(_0x2932e8[_0x344cf8(0x8b5)]);return await _0x21a36e[_0x344cf8(0x84a)](_0xa595a5)[_0x344cf8(0x366)]({'lastmsg':-0x1})[_0x344cf8(0x177)](_0x2932e8?.[_0x344cf8(0x177)]??0x0)[_0x344cf8(0x192)]();}catch{return[];}}async[a0_0xad378c(0x892)](_0x5b5d90,_0x5e2bf5){const _0x2f16d4=a0_0xad378c;try{let _0x3e2219=this['getChatModelForOwner'](_0x5e2bf5),_0xf4ea19=T(_0x5b5d90[_0x2f16d4(0x8b5)]);return _0xf4ea19['groupdata.participants']={'$ne':[]},await _0x3e2219[_0x2f16d4(0x84a)](_0xf4ea19)[_0x2f16d4(0x366)]({'lastmsg':-0x1})[_0x2f16d4(0x177)](_0x5b5d90?.[_0x2f16d4(0x177)]??0x0)['lean']();}catch{return[];}}async[a0_0xad378c(0x8aa)](_0x2fef1a,_0x39864c){const _0x4b1c7c=a0_0xad378c;try{return{'deletedCount':(await this[_0x4b1c7c(0x37b)](_0x39864c)['deleteMany']({..._0x2fef1a[_0x4b1c7c(0x8b5)]}))[_0x4b1c7c(0x5a6)]};}catch(_0x367f40){return{'error':_0x367f40?.[_0x4b1c7c(0x3d2)]()};}}async[a0_0xad378c(0x6ac)](_0x2371b1,_0xb6d6c9){const _0x14971f=a0_0xad378c;try{return await this['getChatModelForOwner'](_0xb6d6c9)['deleteMany']({..._0x2371b1[_0x14971f(0x8b5)]}),[];}catch(_0x2d3863){return{'error':_0x2d3863?.[_0x14971f(0x3d2)]()};}}async['findOne'](_0x542068,_0x2afd0b){const _0x140bb4=a0_0xad378c;try{let _0x57d220=this['getChatModelForOwner'](_0x2afd0b),_0x2288eb=T(_0x542068['where']);return await _0x57d220[_0x140bb4(0x5cc)](_0x2288eb)[_0x140bb4(0x192)]();}catch{return null;}}async[a0_0xad378c(0x71b)](_0x5da548,_0x4b34c4,_0x4b3eb0,_0x92294a,_0xc45a10=a0_0xad378c(0x267)){const _0x321370=a0_0xad378c;try{let _0x1b70e9={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x92294a},_0x55173f=this[_0x321370(0x37b)](_0x4b3eb0),_0xa09b96=T(_0x5da548[_0x321370(0x8b5)]);Object[_0x321370(0x178)](_0x4b34c4)[_0x321370(0x6db)](_0x2a1d41=>{_0x4b34c4[_0x2a1d41]==null&&delete _0x4b34c4[_0x2a1d41];});let _0x389c6c={};return _0x389c6c[_0xc45a10]=_0x4b34c4,await _0x55173f[_0x321370(0x7db)](_0xa09b96,_0x389c6c,_0x1b70e9);}catch(_0x2080db){return console[_0x321370(0x5fe)](_0x2080db),null;}}async[a0_0xad378c(0x455)](_0x5362f3){const _0x375296=a0_0xad378c;try{let _0x127bfd=this[_0x375296(0x37b)](_0x5362f3[0x0][_0x375296(0x762)]['where'][_0x375296(0x86e)]),_0x59ba73=_0x5362f3[_0x375296(0x4a4)](_0x48c70b=>({'updateOne':{'filter':{..._0x48c70b['query']['where']},'update':{'$set':_0x48c70b[_0x375296(0x29d)]},'upsert':!0x0}})),_0x1ebf5d=await _0x127bfd[_0x375296(0x835)](_0x59ba73);return _0x1ebf5d[_0x375296(0x4d5)]+_0x1ebf5d[_0x375296(0x400)];}catch(_0x5a6d70){return console['error'](_0x5a6d70),0x0;}}async[a0_0xad378c(0x2bf)](_0x211ded){const _0x2af4e6=a0_0xad378c;try{let _0x8d3cde={'group_isCommunity':'','group_announce':'','group_size':''},_0x189231={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x1e8977={'$unset':_0x8d3cde};return(await this[_0x2af4e6(0x37b)](_0x211ded)[_0x2af4e6(0x455)](_0x189231,_0x1e8977))[_0x2af4e6(0x4d5)];}catch(_0x5d06bd){return console[_0x2af4e6(0x5fe)](_0x2af4e6(0x8dc),_0x5d06bd),0x0;}}async[a0_0xad378c(0x183)](_0x2e20a4){const _0x364ac4=a0_0xad378c;try{let _0xb3a9f5=this['getChatModelForOwner'](_0x2e20a4),_0x24bc2a={'leadInfo.etiquetas':{'$exists':!0x1}},_0x5662b5={'$set':{'leadInfo.etiquetas':[]}};return(await _0xb3a9f5[_0x364ac4(0x455)](_0x24bc2a,_0x5662b5))[_0x364ac4(0x4d5)];}catch(_0x4d96fd){return console[_0x364ac4(0x5fe)](_0x4d96fd),0x0;}}async[a0_0xad378c(0x603)](_0x4d734e){const _0x4777fb=a0_0xad378c;try{let _0x3b0d63=this['getChatModelForOwner'](_0x4d734e),_0x5430e6={'leadInfo.tags':{'$exists':!0x1}},_0x40657a={'$set':{'leadInfo.tags':[]}};return(await _0x3b0d63['updateMany'](_0x5430e6,_0x40657a))['modifiedCount'];}catch(_0x3fbd4a){return console[_0x4777fb(0x5fe)](_0x3fbd4a),0x0;}}async['updateMissingCustomFields'](_0x4dc674){const _0x5424eb=a0_0xad378c;try{let _0x182db5=this[_0x5424eb(0x37b)](_0x4dc674),_0x340c98={'leadInfo.customFields':{'$exists':!0x1}},_0x57c0ab={'$set':{'leadInfo.customFields':[]}};return(await _0x182db5[_0x5424eb(0x455)](_0x340c98,_0x57c0ab))[_0x5424eb(0x4d5)];}catch(_0xdb889d){return console['error'](_0xdb889d),0x0;}}async[a0_0xad378c(0x8a8)](_0x3d2745,_0x46aaf2){const _0x2200fe=a0_0xad378c;if(!Array[_0x2200fe(0x5ab)](_0x3d2745)||_0x3d2745[_0x2200fe(0x4f1)]===0x0)throw new Error(_0x2200fe(0x6a4));try{return(await this[_0x2200fe(0x37b)](_0x46aaf2)[_0x2200fe(0x8a8)](_0x3d2745))[_0x2200fe(0x4f1)];}catch(_0x41c9d4){throw console['error']('Erro\x20ao\x20inserir\x20chats:',_0x41c9d4),_0x41c9d4;}}async['deleteChat'](_0x33be57,_0x426d71){const _0x84a54=a0_0xad378c;try{await this[_0x84a54(0x37b)](_0x426d71)[_0x84a54(0x8c5)]({'_id':_0x33be57});}catch(_0x1ea51b){throw console[_0x84a54(0x5fe)](_0x84a54(0x78a),_0x1ea51b),_0x1ea51b;}}},qt=class extends O{constructor(_0xc44745,_0x423d81,_0x33c134){const _0x1adf0b=a0_0xad378c;super(_0x423d81),this[_0x1adf0b(0x638)]=_0xc44745,this['configService']=_0x423d81,this[_0x1adf0b(0x6f4)]=_0x33c134;}async['insert'](_0x3c8c02){const _0x1c895b=a0_0xad378c;if(_0x3c8c02[_0x1c895b(0x4f1)]!==0x0)try{return{'insertCount':(await this[_0x1c895b(0x638)][_0x1c895b(0x8a8)]([..._0x3c8c02]))[_0x1c895b(0x4f1)]};}catch(_0x594e7f){return _0x594e7f;}}async[a0_0xad378c(0x29d)](_0x1803c1,_0x5f1ba0){const _0x17c34d=a0_0xad378c;try{let _0x31307c=T(_0x1803c1['where']);return{'updatedCount':(await this[_0x17c34d(0x638)]['updateMany'](_0x31307c,{'$set':_0x5f1ba0}))[_0x17c34d(0x4d5)]};}catch(_0x37530a){return console['error'](_0x17c34d(0x2f1),_0x37530a),{'error':_0x37530a[_0x17c34d(0x3d2)]()};}}async['findManyByIds'](_0x46b69f){const _0x31fba7=a0_0xad378c;try{let _0x47a4f2={'_id':{'$in':_0x46b69f}};return await this[_0x31fba7(0x638)][_0x31fba7(0x84a)](_0x47a4f2)['lean']();}catch(_0x5b4dde){return console['error'](_0x31fba7(0x80a),_0x5b4dde),[];}}async['delete'](_0x5ea49a){const _0xb3a325=a0_0xad378c;try{return{'deletedCount':(await this['cacheContactModel'][_0xb3a325(0x5e7)]({..._0x5ea49a[_0xb3a325(0x8b5)]}))[_0xb3a325(0x5a6)]};}catch(_0x56f53a){return{'error':_0x56f53a?.['toString']()};}}async[a0_0xad378c(0x84a)](_0x193152){const _0x3f14ac=a0_0xad378c;try{let _0x5f0463=T(_0x193152[_0x3f14ac(0x8b5)]);return await this[_0x3f14ac(0x638)][_0x3f14ac(0x84a)](_0x5f0463)[_0x3f14ac(0x177)](_0x193152?.[_0x3f14ac(0x177)]??0x0)[_0x3f14ac(0x192)]();}catch{return[];}}async[a0_0xad378c(0x5cc)](_0x4eea24){const _0xb5141d=a0_0xad378c;try{let _0x5f15bd=T(_0x4eea24['where']);return await this[_0xb5141d(0x638)][_0xb5141d(0x5cc)](_0x5f15bd)[_0xb5141d(0x192)]();}catch{return null;}}},Vt=class extends O{[a0_0xad378c(0x87c)](_0x7061e3){return Sa(_0x7061e3);}async[a0_0xad378c(0x71b)](_0x2e26a3,_0xb5b5bf,_0x5da81d,_0x36a162){const _0x3bc901=a0_0xad378c;try{let _0xf0d21={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x36a162},_0x3f5621=this[_0x3bc901(0x87c)](_0x5da81d),_0x30c373=T(_0x2e26a3[_0x3bc901(0x8b5)]);return await _0x3f5621[_0x3bc901(0x7db)](_0x30c373,{'$set':_0xb5b5bf},_0xf0d21);}catch(_0x428082){return console['error'](_0x428082),null;}}async[a0_0xad378c(0x84a)](_0x3e5d4e,_0x516ece){const _0x3cefd2=a0_0xad378c;try{let _0x180f70=this[_0x3cefd2(0x87c)](_0x516ece),_0x566fbd=T(_0x3e5d4e[_0x3cefd2(0x8b5)]);return await _0x180f70[_0x3cefd2(0x84a)](_0x566fbd);}catch(_0x554439){console['error'](_0x554439);}}async[a0_0xad378c(0x8aa)](_0x2ff8f0,_0x55be23){const _0x40ff4d=a0_0xad378c;try{let _0x1bc6c6=this[_0x40ff4d(0x87c)](_0x55be23),_0x40e39a=T(_0x2ff8f0['where']);await _0x1bc6c6[_0x40ff4d(0x5e7)](_0x40e39a);}catch(_0x88c1cc){console[_0x40ff4d(0x5fe)](_0x88c1cc);}}async[a0_0xad378c(0x6ac)](_0xdbb0f2){const _0x2cfef9=a0_0xad378c;try{return await this[_0x2cfef9(0x87c)](_0xdbb0f2)[_0x2cfef9(0x4d1)]['drop'](),{'success':!0x0};}catch(_0x383ef3){return console[_0x2cfef9(0x5fe)](_0x383ef3),{'success':!0x1,'error':_0x383ef3};}}},Gt=class{constructor(_0x273ece){const _0x210162=a0_0xad378c;this[_0x210162(0x508)]=_0x273ece;}async[a0_0xad378c(0x1db)]({instanceName:_0x54b680},_0x517954){const _0x1afabe=a0_0xad378c;return await this[_0x1afabe(0x508)]['waInstances'][_0x54b680]['editChat'](_0x517954);}async[a0_0xad378c(0x2af)]({instanceName:_0x346082},_0x45dd34){const _0x5df860=a0_0xad378c;return await this[_0x5df860(0x508)][_0x5df860(0x16e)][_0x346082][_0x5df860(0x2af)](_0x45dd34);}async['importChats']({instanceName:_0x5d2a1c},_0x4693cc){const _0x5a5d62=a0_0xad378c;return await this[_0x5a5d62(0x508)][_0x5a5d62(0x16e)][_0x5d2a1c][_0x5a5d62(0x234)](_0x4693cc);}async[a0_0xad378c(0x2fa)]({instanceName:_0x34bf6f},_0x2e0f08){const _0x4557db=a0_0xad378c;return await this['waMonitor']['waInstances'][_0x34bf6f][_0x4557db(0x703)](_0x2e0f08);}async['archiveChat']({instanceName:_0x336894},_0x594143){const _0x207ea9=a0_0xad378c;return await this[_0x207ea9(0x508)]['waInstances'][_0x336894][_0x207ea9(0x73d)](_0x594143);}async['deleteMessage']({instanceName:_0x5a13a7},_0x3410bf){const _0x24e163=a0_0xad378c;return await this[_0x24e163(0x508)][_0x24e163(0x16e)][_0x5a13a7][_0x24e163(0x3b1)](_0x3410bf);}async[a0_0xad378c(0x180)]({instanceName:_0x560b9b},_0xd7e731){const _0x38ed33=a0_0xad378c;return await this[_0x38ed33(0x508)][_0x38ed33(0x16e)][_0x560b9b][_0x38ed33(0x8d9)](_0xd7e731[_0x38ed33(0x570)]);}async[a0_0xad378c(0x534)]({instanceName:_0x1099ac},_0x45c452){const _0x3bf269=a0_0xad378c;return await this[_0x3bf269(0x508)][_0x3bf269(0x16e)][_0x1099ac][_0x3bf269(0x534)](_0x45c452[_0x3bf269(0x570)]);}async[a0_0xad378c(0x68d)]({instanceName:_0x4175e4},_0x28a7a9){const _0x139f66=a0_0xad378c;return await this['waMonitor'][_0x139f66(0x16e)][_0x4175e4][_0x139f66(0x68d)](_0x28a7a9);}async['fetchContacts']({instanceName:_0xbe31ac},_0x47ff62){const _0x1af771=a0_0xad378c;return await this[_0x1af771(0x508)]['waInstances'][_0xbe31ac][_0x1af771(0x6a3)](_0x47ff62);}async[a0_0xad378c(0x491)]({instanceName:_0x1ca9bb},_0x591375){const _0x1d59cd=a0_0xad378c;return await this[_0x1d59cd(0x508)][_0x1d59cd(0x16e)][_0x1ca9bb][_0x1d59cd(0x491)](_0x591375);}async[a0_0xad378c(0x621)]({instanceName:_0x3a111c},_0x2b97f7){const _0x161cf7=a0_0xad378c;return await this[_0x161cf7(0x508)][_0x161cf7(0x16e)][_0x3a111c][_0x161cf7(0x621)](_0x2b97f7);}async[a0_0xad378c(0x2df)]({instanceName:_0x3fbae9}){const _0x48b0f8=a0_0xad378c;return await this['waMonitor']['waInstances'][_0x3fbae9][_0x48b0f8(0x2df)]();}async['fetchChats']({instanceName:_0x1b92d5}){const _0x27120c=a0_0xad378c;return await this[_0x27120c(0x508)][_0x27120c(0x16e)][_0x1b92d5][_0x27120c(0x642)]();}async[a0_0xad378c(0x798)]({instanceName:_0x296082}){const _0x431903=a0_0xad378c;return await this[_0x431903(0x508)][_0x431903(0x16e)][_0x296082][_0x431903(0x798)]();}async['updatePrivacySettings']({instanceName:_0x1ce28d},_0x520ea7){const _0x36c6c0=a0_0xad378c;return await this['waMonitor'][_0x36c6c0(0x16e)][_0x1ce28d][_0x36c6c0(0x65d)](_0x520ea7);}async[a0_0xad378c(0x205)]({instanceName:_0x31a2b1},_0x10768a){const _0x205cf7=a0_0xad378c;return await this['waMonitor']['waInstances'][_0x31a2b1][_0x205cf7(0x205)](_0x10768a[_0x205cf7(0x570)]);}async[a0_0xad378c(0x4f2)]({instanceName:_0x1169c9},_0x5d26b8){const _0x1688c8=a0_0xad378c;return await this[_0x1688c8(0x508)]['waInstances'][_0x1169c9][_0x1688c8(0x4f2)](_0x5d26b8[_0x1688c8(0x725)]);}async[a0_0xad378c(0x7b6)]({instanceName:_0x4f7275},_0x4dfcb9){const _0x3fd7de=a0_0xad378c;return await this[_0x3fd7de(0x508)][_0x3fd7de(0x16e)][_0x4f7275][_0x3fd7de(0x7b6)](_0x4dfcb9[_0x3fd7de(0x616)]);}async[a0_0xad378c(0x8ae)]({instanceName:_0x2ccd47},_0x481742){const _0x14c43a=a0_0xad378c;return await this[_0x14c43a(0x508)][_0x14c43a(0x16e)][_0x2ccd47]['updateProfilePicture'](_0x481742[_0x14c43a(0x490)]);}async[a0_0xad378c(0x861)]({instanceName:_0x475c22},_0x655b35){const _0x4e3496=a0_0xad378c;return await this['waMonitor'][_0x4e3496(0x16e)][_0x475c22][_0x4e3496(0x861)]();}},Bt=require(a0_0xad378c(0x73b)),Wt=class u{constructor(_0x2fb31d,_0x18fc49,_0x399d47,_0x207839,_0x17532b){const _0x2d46dc=a0_0xad378c;this[_0x2d46dc(0x508)]=_0x2fb31d,this['configService']=_0x18fc49,this[_0x2d46dc(0x58e)]=_0x399d47,this[_0x2d46dc(0x683)]=_0x207839,this[_0x2d46dc(0x8ce)]=_0x17532b,this[_0x2d46dc(0x86b)]=new $(u['name']);}async[a0_0xad378c(0x3c1)]({instanceName:_0x54d8ff,apikey:_0x663cc1,number:_0x12c4cf,proxy:_0x3e1c12=!0x0}){const _0x27fce4=a0_0xad378c;try{let _0x1389b5=new $e(this['configService'],this[_0x27fce4(0x683)],this[_0x27fce4(0x58e)]);_0x1389b5[_0x27fce4(0x62b)]=_0x54d8ff,this[_0x27fce4(0x508)][_0x27fce4(0x16e)][_0x1389b5['instanceName']]=_0x1389b5;let _0x14a4d1={};_0x663cc1?(await this[_0x27fce4(0x58e)][_0x27fce4(0x89f)]['create']({'apikey':_0x663cc1},_0x54d8ff),_0x14a4d1[_0x27fce4(0x2cc)]=_0x663cc1):_0x14a4d1=await this[_0x27fce4(0x8ce)][_0x27fce4(0x5eb)]({'instanceName':_0x1389b5[_0x27fce4(0x62b)]});let _0xa84bf6;if(_0x12c4cf){if(_0xa84bf6=await this[_0x27fce4(0x457)](_0x12c4cf),_0xa84bf6['error'])throw new x(_0xa84bf6[_0x27fce4(0x5fe)][_0x27fce4(0x3d2)]());_0x12c4cf=_0xa84bf6[_0x27fce4(0x570)];}let _0xf8ca1f;return await _0x1389b5[_0x27fce4(0x5e9)](_0x12c4cf),await(0x0,Bt[_0x27fce4(0x636)])(0xfa0),_0x12c4cf&&await(0x0,Bt[_0x27fce4(0x636)])(0xbb8),_0xf8ca1f=_0x1389b5[_0x27fce4(0x817)],{'instance':{'instanceName':_0x1389b5[_0x27fce4(0x62b)],'status':'created'},'hash':_0x14a4d1,'qrcode':_0xf8ca1f};}catch(_0x50eb2c){throw this[_0x27fce4(0x86b)]['error'](_0x50eb2c),_0x50eb2c;}}async['connectToWhatsappController']({instanceName:_0x4f6d94,number:_0x3893b9=null}){const _0x68d0f9=a0_0xad378c;try{let _0x1caf5=this[_0x68d0f9(0x508)]['waInstances'][_0x4f6d94];switch(_0x1caf5?.['connectionStatus']?.[_0x68d0f9(0x480)]){case'close':return await _0x1caf5[_0x68d0f9(0x5e9)](_0x3893b9),await(0x0,Bt[_0x68d0f9(0x636)])(0x7d0),_0x1caf5[_0x68d0f9(0x817)];case _0x68d0f9(0x85b):return _0x1caf5['qrCode'];default:return await this[_0x68d0f9(0x86d)]({'instanceName':_0x4f6d94});}}catch(_0x4a9163){this[_0x68d0f9(0x86b)]['log'](_0x4a9163);}}async[a0_0xad378c(0x86d)]({instanceName:_0x4e0554}){const _0x230c56=a0_0xad378c;let _0x39ddce=this[_0x230c56(0x508)]['waInstances'][_0x4e0554][_0x230c56(0x64c)],_0x162fbc=null;_0x39ddce[_0x230c56(0x480)]===_0x230c56(0x522)&&_0x4e0554&&(_0x162fbc=await this[_0x230c56(0x508)][_0x230c56(0x2a5)](_0x4e0554));let _0x15027d=null;return _0x39ddce[_0x230c56(0x480)]===_0x230c56(0x85b)&&_0x4e0554&&(_0x15027d=this[_0x230c56(0x508)][_0x230c56(0x16e)][_0x4e0554][_0x230c56(0x817)]),{'instance':_0x4e0554,'connectionStatus':_0x39ddce,'instanceInfo':_0x162fbc,'qrcode':_0x15027d};}async[a0_0xad378c(0x457)](_0x3ee9b9){const _0x352551=a0_0xad378c;_0x3ee9b9=_0x3ee9b9[_0x352551(0x568)](/\D/g,'');let _0x4cfcbf=Object[_0x352551(0x178)](this[_0x352551(0x508)][_0x352551(0x16e)])['filter'](_0x5e7c2d=>{const _0x4a0eac=_0x352551;let _0x137897=this[_0x4a0eac(0x508)]['waInstances'][_0x5e7c2d];return _0x137897&&_0x137897[_0x4a0eac(0x64c)]&&_0x137897[_0x4a0eac(0x64c)][_0x4a0eac(0x480)]==='open';});if(_0x4cfcbf[_0x352551(0x4f1)]===0x0)return{'number':this[_0x352551(0x4e9)](_0x3ee9b9)};let _0x23c593=Math[_0x352551(0x261)](Math[_0x352551(0x49c)]()*_0x4cfcbf['length']),_0x28ec4f=_0x4cfcbf[_0x23c593];try{let _0x3aaa96=(await this[_0x352551(0x508)][_0x352551(0x16e)][_0x28ec4f][_0x352551(0x2af)]({'numbers':[_0x3ee9b9]}))[_0x352551(0x3d0)]();return _0x3aaa96[_0x352551(0x7ba)]?{'number':_0x3aaa96[_0x352551(0x7c5)][_0x352551(0x568)](_0x352551(0x353),'')}:{'number':_0x3ee9b9,'error':_0x352551(0x581)};}catch(_0x5899a3){return this[_0x352551(0x86b)][_0x352551(0x5fe)](_0x352551(0x328)+_0x5899a3),{'number':_0x3ee9b9,'error':_0x352551(0x247)};}}[a0_0xad378c(0x4e9)](_0x15466b){const _0x424bb9=a0_0xad378c;let _0x1b9e6b=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x424bb9(0x3cf)](_0x15466b);if(_0x1b9e6b&&_0x1b9e6b[0x1]==='55'){let _0x255351=_0x1b9e6b[0x2],_0x477b4f=_0x1b9e6b[0x3],_0xf012a3=_0x1b9e6b[0x4];if(parseInt(_0x255351)>=0x1f&&_0x477b4f==='9')return _0x1b9e6b[0x1]+_0x255351+_0xf012a3;}return _0x15466b;}async['restartInstance']({instanceName:_0x451db9}){const _0x277853=a0_0xad378c;try{return this[_0x277853(0x508)]['waInstances'][_0x451db9]?.['client']?.['ws']?.[_0x277853(0x76b)](),{'status':_0x277853(0x4f3),'error':!0x1,'response':{'message':_0x277853(0x57e)}};}catch(_0x5025a1){this['logger']['error'](_0x5025a1);}}async[a0_0xad378c(0x46b)]({instanceName:_0x3dff94}){const _0x53c865=a0_0xad378c;return _0x3dff94?this['waMonitor'][_0x53c865(0x2a5)](_0x3dff94):this[_0x53c865(0x508)][_0x53c865(0x2a5)]();}async[a0_0xad378c(0x3db)]({instanceName:_0x3fe6df}){const _0x2b1296=a0_0xad378c;try{return await this['waMonitor'][_0x2b1296(0x16e)][_0x3fe6df]?.[_0x2b1296(0x37e)]?.[_0x2b1296(0x3db)](_0x2b1296(0x3af)+_0x3fe6df),{'error':!0x1,'message':_0x2b1296(0x758)};}catch(_0x2794aa){throw new x(_0x2794aa[_0x2b1296(0x3d2)]());}}async[a0_0xad378c(0x7e2)]({instanceName:_0x35a1bb}){const _0xdd68c3=a0_0xad378c;if((await this[_0xdd68c3(0x86d)]({'instanceName':_0x35a1bb}))[_0xdd68c3(0x64c)][_0xdd68c3(0x480)]===_0xdd68c3(0x522))throw new m(['Deletion\x20failed',_0xdd68c3(0x190)]);try{return delete this['waMonitor'][_0xdd68c3(0x16e)][_0x35a1bb],{'error':!0x1,'message':_0xdd68c3(0x3bc)};}catch(_0x1001f0){throw new m(_0x1001f0[_0xdd68c3(0x3d2)]());}}},ne=require(a0_0xad378c(0x4f9)),zt=class{constructor(_0x929dfe){this['waMonitor']=_0x929dfe;}async[a0_0xad378c(0x7bf)]({instanceName:_0x432411},_0x495252){const _0x34327d=a0_0xad378c;return await this['waMonitor']['waInstances'][_0x432411][_0x34327d(0x35d)](_0x495252);}async[a0_0xad378c(0x716)]({instanceName:_0x622349},_0x271d51){const _0xc7fad4=a0_0xad378c;return await this[_0xc7fad4(0x508)]['waInstances'][_0x622349][_0xc7fad4(0x71a)](_0x271d51);}async['sendMedia']({instanceName:_0x14796d},_0x557e36){const _0x14784d=a0_0xad378c;if((0x0,ne[_0x14784d(0x5f0)])(_0x557e36?.['mediaMessage']?.['media'])&&!_0x557e36?.[_0x14784d(0x7a0)]?.[_0x14784d(0x432)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ne[_0x14784d(0x4e7)])(_0x557e36?.[_0x14784d(0x7a0)]?.[_0x14784d(0x80c)])||(0x0,ne[_0x14784d(0x5f0)])(_0x557e36?.[_0x14784d(0x7a0)]?.[_0x14784d(0x80c)]))return await this[_0x14784d(0x508)][_0x14784d(0x16e)][_0x14796d][_0x14784d(0x7a0)](_0x557e36);throw new m(_0x14784d(0x57f));}async[a0_0xad378c(0x7e9)]({instanceName:_0x596ede},_0x5ccdcb){const _0x3ea927=a0_0xad378c;if((0x0,ne[_0x3ea927(0x4e7)])(_0x5ccdcb['stickerMessage'][_0x3ea927(0x65c)])||(0x0,ne[_0x3ea927(0x5f0)])(_0x5ccdcb[_0x3ea927(0x661)]['image']))return await this['waMonitor'][_0x3ea927(0x16e)][_0x596ede][_0x3ea927(0x5b6)](_0x5ccdcb);throw new m(_0x3ea927(0x57f));}async[a0_0xad378c(0x8a3)]({instanceName:_0x56a8e7},_0x245398){const _0x1c8fc6=a0_0xad378c;if((0x0,ne['isURL'])(_0x245398[_0x1c8fc6(0x49d)]['audio'])||(0x0,ne[_0x1c8fc6(0x5f0)])(_0x245398['audioMessage'][_0x1c8fc6(0x72e)]))return await this[_0x1c8fc6(0x508)][_0x1c8fc6(0x16e)][_0x56a8e7][_0x1c8fc6(0x5ed)](_0x245398);throw new m(_0x1c8fc6(0x57f));}async[a0_0xad378c(0x3ba)]({instanceName:_0x16eb1b},_0x3c80c1){const _0x539a2d=a0_0xad378c;return await this[_0x539a2d(0x508)][_0x539a2d(0x16e)][_0x16eb1b][_0x539a2d(0x4a5)](_0x3c80c1);}async[a0_0xad378c(0x59c)]({instanceName:_0x313c0c},_0x3b4845){const _0x59742b=a0_0xad378c;return await this[_0x59742b(0x508)][_0x59742b(0x16e)][_0x313c0c][_0x59742b(0x86f)](_0x3b4845);}async[a0_0xad378c(0x74d)]({instanceName:_0x3ef432},_0x1e56a1){const _0x59ae6e=a0_0xad378c;return await this['waMonitor']['waInstances'][_0x3ef432][_0x59ae6e(0x824)](_0x1e56a1);}async['sendList']({instanceName:_0x20e300},_0x3c80ed){const _0x4ee611=a0_0xad378c;return await this['waMonitor']['waInstances'][_0x20e300][_0x4ee611(0x532)](_0x3c80ed);}async[a0_0xad378c(0x7b8)]({instanceName:_0x4edf68},_0x5cb329){const _0x10895f=a0_0xad378c;return await this['waMonitor'][_0x10895f(0x16e)][_0x4edf68][_0x10895f(0x1b4)](_0x5cb329);}async[a0_0xad378c(0x749)]({instanceName:_0x2864ec},_0x349b73){const _0x51d89e=a0_0xad378c;if(!_0x349b73[_0x51d89e(0x4bd)][_0x51d89e(0x85d)][_0x51d89e(0x59b)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x51d89e(0x8c7));return await this[_0x51d89e(0x508)][_0x51d89e(0x16e)][_0x2864ec]['reactionMessage'](_0x349b73);}async[a0_0xad378c(0x608)]({instanceName:_0x6d2358},_0x658882){const _0x21229e=a0_0xad378c;return await this[_0x21229e(0x508)][_0x21229e(0x16e)][_0x6d2358][_0x21229e(0x5b5)](_0x658882);}},_i=require(a0_0xad378c(0x44a)),ks=require(a0_0xad378c(0x7d8)),Ht=class u{constructor(_0xd09d9f,_0x2d8163,_0x5a0999){const _0x7bbd5a=a0_0xad378c;this[_0x7bbd5a(0x2ed)]=_0xd09d9f,this[_0x7bbd5a(0x508)]=_0x2d8163,this['repository']=_0x5a0999,this['logger']=new $(u[_0x7bbd5a(0x725)]);}async[a0_0xad378c(0x484)](_0x15c72e){const _0x658bad=a0_0xad378c;let _0x1160f8=this[_0x658bad(0x2ed)][_0x658bad(0x1ff)](_0x658bad(0x788))['JWT'],_0x5bd596=(0x0,_i[_0x658bad(0x523)])({'instanceName':_0x15c72e[_0x658bad(0x62b)],'apiName':it,'tokenId':(0x0,ks['v4'])()},_0x1160f8[_0x658bad(0x84d)],{'expiresIn':_0x1160f8[_0x658bad(0x89d)],'encoding':_0x658bad(0x4b4),'subject':_0x658bad(0x687)}),_0x358288=await this[_0x658bad(0x58e)]['auth'][_0x658bad(0x386)]({'jwt':_0x5bd596},_0x15c72e[_0x658bad(0x62b)]);if(_0x358288['error'])throw this[_0x658bad(0x86b)][_0x658bad(0x5fe)]({'localError':u[_0x658bad(0x725)]+'.jwt','error':_0x358288[_0x658bad(0x5fe)]}),new m(_0x658bad(0x7ed),_0x358288['error']?.[_0x658bad(0x3d2)]());return{'jwt':_0x5bd596};}async[a0_0xad378c(0x2cc)](_0x31fb76){const _0x10daf8=a0_0xad378c;let _0x445951=(0x0,ks['v4'])()[_0x10daf8(0x422)](),_0x5c6037=await this[_0x10daf8(0x58e)][_0x10daf8(0x89f)][_0x10daf8(0x386)]({'apikey':_0x445951},_0x31fb76[_0x10daf8(0x62b)]);if(_0x5c6037[_0x10daf8(0x5fe)])throw this['logger'][_0x10daf8(0x5fe)]({'localError':u[_0x10daf8(0x725)]+_0x10daf8(0x36d),'error':_0x5c6037['error']}),new m(_0x10daf8(0x7ed),_0x5c6037[_0x10daf8(0x5fe)]?.[_0x10daf8(0x3d2)]());return{'apikey':_0x445951};}async[a0_0xad378c(0x5eb)](_0xea9078){const _0x1b6713=a0_0xad378c;let _0x4ede57=this[_0x1b6713(0x2ed)][_0x1b6713(0x1ff)](_0x1b6713(0x788));return await this[_0x4ede57[_0x1b6713(0x4da)]](_0xea9078);}},Kt=class{constructor(_0x753b63){this['waMonitor']=_0x753b63;}async[a0_0xad378c(0x529)](_0x180893,_0x1b75a1){const _0x4ff1b8=a0_0xad378c;return await this['waMonitor']['waInstances'][_0x180893[_0x4ff1b8(0x62b)]]['createGroup'](_0x1b75a1);}async[a0_0xad378c(0x846)](_0x921791,_0xde3424){const _0x230655=a0_0xad378c;return await this[_0x230655(0x508)][_0x230655(0x16e)][_0x921791['instanceName']][_0x230655(0x846)](_0xde3424);}async[a0_0xad378c(0x1a1)](_0x840ff6,_0x14d79a){const _0x1d9e9f=a0_0xad378c;return await this[_0x1d9e9f(0x508)][_0x1d9e9f(0x16e)][_0x840ff6[_0x1d9e9f(0x62b)]][_0x1d9e9f(0x1a1)](_0x14d79a);}async['groupName'](_0x179087,_0x353fda){const _0x3ab16c=a0_0xad378c;return await this[_0x3ab16c(0x508)][_0x3ab16c(0x16e)][_0x179087['instanceName']][_0x3ab16c(0x1d3)](_0x353fda);}async[a0_0xad378c(0x6b2)](_0x57fe12,_0x530df5){const _0x37f597=a0_0xad378c;return await this[_0x37f597(0x508)]['waInstances'][_0x57fe12['instanceName']][_0x37f597(0x6b2)](_0x530df5);}async[a0_0xad378c(0x255)](_0x321f9a,_0x2157c1){const _0x1bbdeb=a0_0xad378c;return await this[_0x1bbdeb(0x508)][_0x1bbdeb(0x16e)][_0x321f9a['instanceName']]['groupSetting'](_0x2157c1);}async[a0_0xad378c(0x8b8)](_0x31a340,_0x494d52){const _0x121c1e=a0_0xad378c;return await this['waMonitor'][_0x121c1e(0x16e)][_0x31a340[_0x121c1e(0x62b)]][_0x121c1e(0x4fe)](_0x494d52);}async[a0_0xad378c(0x837)](_0x3b2731){const _0x2a5a0d=a0_0xad378c;return await this[_0x2a5a0d(0x508)][_0x2a5a0d(0x16e)][_0x3b2731[_0x2a5a0d(0x62b)]][_0x2a5a0d(0x837)]();}async[a0_0xad378c(0x656)](_0x34d3e9,_0x465da1){const _0x3cc911=a0_0xad378c;return await this['waMonitor'][_0x3cc911(0x16e)][_0x34d3e9[_0x3cc911(0x62b)]][_0x3cc911(0x656)](_0x465da1);}async[a0_0xad378c(0x751)](_0x476ad6,_0x52c953){const _0x5dd3e4=a0_0xad378c;return await this[_0x5dd3e4(0x508)][_0x5dd3e4(0x16e)][_0x476ad6[_0x5dd3e4(0x62b)]]['joinGroup'](_0x52c953);}async[a0_0xad378c(0x392)](_0x2b7631,_0x418677){const _0x449465=a0_0xad378c;return await this[_0x449465(0x508)][_0x449465(0x16e)][_0x2b7631[_0x449465(0x62b)]][_0x449465(0x392)](_0x418677);}async[a0_0xad378c(0x4fd)](_0x4354fe,_0x1d4bd5){const _0x5c6d70=a0_0xad378c;return await this[_0x5c6d70(0x508)]['waInstances'][_0x4354fe['instanceName']][_0x5c6d70(0x4fd)](_0x1d4bd5);}async[a0_0xad378c(0x5e3)](_0x29fcde,_0xf507a4){const _0x57a4c9=a0_0xad378c;return await this['waMonitor'][_0x57a4c9(0x16e)][_0x29fcde[_0x57a4c9(0x62b)]][_0x57a4c9(0x5e3)](_0xf507a4);}async[a0_0xad378c(0x4ee)](_0x48315e,_0x41dce2){const _0x2f2bdd=a0_0xad378c;return await this[_0x2f2bdd(0x508)][_0x2f2bdd(0x16e)][_0x48315e[_0x2f2bdd(0x62b)]][_0x2f2bdd(0x899)](_0x41dce2);}async[a0_0xad378c(0x85e)](_0x3c71be,_0x4a0192){const _0x3e01f2=a0_0xad378c;return await this[_0x3e01f2(0x508)][_0x3e01f2(0x16e)][_0x3c71be[_0x3e01f2(0x62b)]][_0x3e01f2(0x85e)](_0x4a0192);}async[a0_0xad378c(0x672)](_0x3b651c,_0x1be3a6){const _0x2396ca=a0_0xad378c;return await this[_0x2396ca(0x508)][_0x2396ca(0x16e)][_0x3b651c['instanceName']][_0x2396ca(0x672)](_0x1be3a6);}},Qt=class{constructor(_0x42bddc){const _0x16d0c0=a0_0xad378c;this[_0x16d0c0(0x508)]=_0x42bddc;}[a0_0xad378c(0x386)](_0x253079,_0x307c4d){const _0x36f708=a0_0xad378c;return this['waMonitor'][_0x36f708(0x16e)][_0x253079[_0x36f708(0x62b)]][_0x36f708(0x628)](_0x307c4d);}async[a0_0xad378c(0x84a)](_0x10de38){const _0xc61b3c=a0_0xad378c;try{return await this[_0xc61b3c(0x508)][_0xc61b3c(0x16e)][_0x10de38[_0xc61b3c(0x62b)]][_0xc61b3c(0x7eb)]();}catch{return{'enabled':null,'url':''};}}},Yp=new $('FlowController'),Yt=class{constructor(_0x65272e){const _0xa72052=a0_0xad378c;this[_0xa72052(0x508)]=_0x65272e;}async[a0_0xad378c(0x526)](_0x16dabf,_0xd8445){const _0x1a3b1e=a0_0xad378c;return await this[_0x1a3b1e(0x508)][_0x1a3b1e(0x16e)][_0x16dabf['instanceName']][_0x1a3b1e(0x526)](_0xd8445);}async[a0_0xad378c(0x36e)](_0x8ee6a9){const _0x5b1693=a0_0xad378c;return await this[_0x5b1693(0x508)][_0x5b1693(0x16e)][_0x8ee6a9['instanceName']][_0x5b1693(0x36e)]();}async[a0_0xad378c(0x64d)](_0x34f353){const _0x4f60af=a0_0xad378c;return await this[_0x4f60af(0x508)][_0x4f60af(0x16e)][_0x34f353[_0x4f60af(0x62b)]][_0x4f60af(0x64d)]();}async['getAutomateSystem'](_0x50e042){const _0x41615d=a0_0xad378c;return await this[_0x41615d(0x508)][_0x41615d(0x16e)][_0x50e042[_0x41615d(0x62b)]][_0x41615d(0x72f)]();}async[a0_0xad378c(0x56d)](_0x26764a,_0x571a64){const _0x1f3973=a0_0xad378c;return await this[_0x1f3973(0x508)][_0x1f3973(0x16e)][_0x26764a[_0x1f3973(0x62b)]][_0x1f3973(0x56d)](_0x571a64);}async['updateCustomFields'](_0x227e83,_0x2c0203){const _0x3a1e4b=a0_0xad378c;return await this[_0x3a1e4b(0x508)][_0x3a1e4b(0x16e)][_0x227e83['instanceName']]['updateCustomFields'](_0x2c0203);}async[a0_0xad378c(0x41b)](_0x415edb,_0xfab929){const _0xb3b076=a0_0xad378c;return await this['waMonitor']['waInstances'][_0x415edb[_0xb3b076(0x62b)]][_0xb3b076(0x41b)](_0xfab929);}async[a0_0xad378c(0x320)](_0x579109,_0x22cfa7){const _0x249486=a0_0xad378c;return await this[_0x249486(0x508)][_0x249486(0x16e)][_0x579109[_0x249486(0x62b)]]['updateFlowConfig'](_0x22cfa7);}async[a0_0xad378c(0x33e)](_0x54d1b,_0x581da5){const _0x385095=a0_0xad378c;return await this[_0x385095(0x508)]['waInstances'][_0x54d1b['instanceName']][_0x385095(0x33e)](_0x581da5);}async[a0_0xad378c(0x37d)](_0x2070df,_0x201e7e,_0x878782,_0x2b0156){const _0x2b8768=a0_0xad378c;return await this[_0x2b8768(0x508)][_0x2b8768(0x16e)][_0x2070df][_0x2b8768(0x37d)](_0x201e7e,_0x878782,_0x2b0156);}async[a0_0xad378c(0x588)](_0x4f20d7,_0x12c7d5){const _0x82a579=a0_0xad378c;return await this['waMonitor'][_0x82a579(0x16e)][_0x4f20d7[_0x82a579(0x62b)]][_0x82a579(0x588)](_0x12c7d5);}async[a0_0xad378c(0x633)](_0x48c437,_0x563663){const _0x2cd0f0=a0_0xad378c;return await this[_0x2cd0f0(0x508)]['waInstances'][_0x48c437[_0x2cd0f0(0x62b)]]['fetchConversation'](_0x563663);}async['editConversation'](_0x1ea080,_0x2b2b3b){const _0x492f69=a0_0xad378c;return await this['waMonitor'][_0x492f69(0x16e)][_0x1ea080[_0x492f69(0x62b)]][_0x492f69(0x6c7)](_0x2b2b3b);}async[a0_0xad378c(0x41d)](_0x35b201,_0x454c05){const _0x3995dd=a0_0xad378c;return await this[_0x3995dd(0x508)]['waInstances'][_0x35b201[_0x3995dd(0x62b)]][_0x3995dd(0x41d)](_0x454c05);}async[a0_0xad378c(0x306)](_0x3840b4,_0x3aef12){const _0x508130=a0_0xad378c;return await this[_0x508130(0x508)]['waInstances'][_0x3840b4[_0x508130(0x62b)]][_0x508130(0x306)](_0x3aef12[_0x508130(0x81f)]);}async['createFlow'](_0x1d4998,_0x11d1d0,_0x4cee8d){const _0x22ddd8=a0_0xad378c;return await this[_0x22ddd8(0x508)]['waInstances'][_0x1d4998[_0x22ddd8(0x62b)]][_0x22ddd8(0x5a3)](_0x11d1d0,_0x4cee8d);}async['editFlow'](_0x2e8ad9,_0x4822ab,_0x12199e){const _0x38de69=a0_0xad378c;return await this['waMonitor'][_0x38de69(0x16e)][_0x2e8ad9[_0x38de69(0x62b)]][_0x38de69(0x3b7)](_0x4822ab,_0x12199e);}async['editFlowBlock'](_0x509d69,_0x3fe12f){const _0x2ca7d3=a0_0xad378c;return await this['waMonitor'][_0x2ca7d3(0x16e)][_0x509d69[_0x2ca7d3(0x62b)]][_0x2ca7d3(0x887)](_0x3fe12f);}async[a0_0xad378c(0x201)](_0x43905f,_0x3713be){const _0xbf656c=a0_0xad378c;return await this['waMonitor']['waInstances'][_0x43905f[_0xbf656c(0x62b)]][_0xbf656c(0x201)](_0x3713be);}async[a0_0xad378c(0x360)](_0x2a7803,_0x37b994){const _0x327b16=a0_0xad378c;return await this[_0x327b16(0x508)][_0x327b16(0x16e)][_0x2a7803[_0x327b16(0x62b)]][_0x327b16(0x360)](_0x37b994);}async[a0_0xad378c(0x210)](_0x2766c7,_0x37298b){const _0x566de5=a0_0xad378c;return await this[_0x566de5(0x508)][_0x566de5(0x16e)][_0x2766c7[_0x566de5(0x62b)]]['editFlowCondition'](_0x37298b);}async[a0_0xad378c(0x4dc)](_0x4b1539,_0x5a2ff0){const _0x5addde=a0_0xad378c;return await this[_0x5addde(0x508)][_0x5addde(0x16e)][_0x4b1539[_0x5addde(0x62b)]]['editFlowVaredit'](_0x5a2ff0);}async['editFlowVariable'](_0x542585,_0x58f25a){const _0x3b9f22=a0_0xad378c;return await this[_0x3b9f22(0x508)][_0x3b9f22(0x16e)][_0x542585[_0x3b9f22(0x62b)]][_0x3b9f22(0x245)](_0x58f25a);}async[a0_0xad378c(0x302)](_0x97b0e3,_0x40f15c){const _0x4ed061=a0_0xad378c;return await this[_0x4ed061(0x508)][_0x4ed061(0x16e)][_0x97b0e3[_0x4ed061(0x62b)]]['deleteFlow'](_0x40f15c);}async[a0_0xad378c(0x6e6)](_0x2f2c4e){const _0x4ca214=a0_0xad378c;return await this[_0x4ca214(0x508)][_0x4ca214(0x16e)][_0x2f2c4e[_0x4ca214(0x62b)]][_0x4ca214(0x6e6)]();}},Xt=class{constructor(_0x165dd3){const _0x41aad8=a0_0xad378c;this[_0x41aad8(0x179)]=_0x165dd3;}async['createWebhook'](_0x414ab0,_0xdac00c){const _0xa17b20=a0_0xad378c;return this[_0xa17b20(0x179)][_0xa17b20(0x386)](_0x414ab0,_0xdac00c);}async[a0_0xad378c(0x7eb)](_0x237314){const _0x1d7a37=a0_0xad378c;return this[_0x1d7a37(0x179)]['find'](_0x237314);}},Zt=class extends O{constructor(_0x5b84e8,_0x485692){const _0x314e8d=a0_0xad378c;super(_0x485692),this[_0x314e8d(0x24e)]=_0x5b84e8,this[_0x314e8d(0x2ed)]=_0x485692;}async[a0_0xad378c(0x386)](_0x34b985,_0x55460c){const _0x1e06ad=a0_0xad378c;try{return this[_0x1e06ad(0x4f8)][_0x1e06ad(0x785)]?{'insertCount':(await this[_0x1e06ad(0x24e)][_0x1e06ad(0x434)]({'_id':_0x55460c},{..._0x34b985},{'upsert':!0x0}))[_0x1e06ad(0x4d5)]}:{'insertCount':0x1};}catch(_0x30af2d){return _0x30af2d;}}async[a0_0xad378c(0x8aa)](_0x51819c){const _0x543bd5=a0_0xad378c;try{if(this['dbSettings'][_0x543bd5(0x785)]){await this[_0x543bd5(0x24e)][_0x543bd5(0x8c5)]({'_id':_0x51819c});return;}}catch(_0xff8aa2){return{'error':_0xff8aa2};}}async[a0_0xad378c(0x84a)](_0x3fab56){const _0x1ab3e3=a0_0xad378c;try{if(this[_0x1ab3e3(0x4f8)][_0x1ab3e3(0x785)])return await this[_0x1ab3e3(0x24e)]['findOne']({'_id':_0x3fab56});}catch{return{};}}},es=class extends O{constructor(_0xd56fef,_0x47672e){const _0x23c827=a0_0xad378c;super(_0x47672e),this[_0x23c827(0x309)]=_0xd56fef,this['configService']=_0x47672e,this[_0x23c827(0x89f)]=_0x47672e['get'](_0x23c827(0x788));}async[a0_0xad378c(0x386)](_0x137030,_0x3d6542){const _0x1d4931=a0_0xad378c;try{if(this[_0x1d4931(0x4f8)]['ENABLED'])return{'insertCount':(await this[_0x1d4931(0x309)][_0x1d4931(0x71b)]({'_id':_0x3d6542},{'$set':{..._0x137030}},{'upsert':!0x0}))[_0x1d4931(0x4d5)]};}catch(_0x15bda5){return{'error':_0x15bda5};}}async[a0_0xad378c(0x637)](_0x2d75ce,_0x2715e3){const _0x276dfb=a0_0xad378c;try{if(this[_0x276dfb(0x4f8)][_0x276dfb(0x785)])return{'insertCount':(await this[_0x276dfb(0x309)][_0x276dfb(0x455)](_0x2d75ce,{'$set':_0x2715e3},{'upsert':!0x1}))[_0x276dfb(0x4d5)]};throw new Error(_0x276dfb(0x471));}catch(_0x4d2cff){return{'error':_0x4d2cff};}}async[a0_0xad378c(0x5e7)](_0x5ca99e){const _0x16581a=a0_0xad378c;try{if(this[_0x16581a(0x4f8)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x16581a(0x5e7)](_0x5ca99e))[_0x16581a(0x5a6)]};throw new Error(_0x16581a(0x596));}catch(_0x2b6083){return{'error':_0x2b6083};}}async[a0_0xad378c(0x8aa)](_0x4c39f6){const _0x2315da=a0_0xad378c;try{if(this['dbSettings'][_0x2315da(0x785)]){await this[_0x2315da(0x309)][_0x2315da(0x8c5)]({'_id':_0x4c39f6});return;}}catch(_0x3821cc){return{'error':_0x3821cc};}}async[a0_0xad378c(0x84a)](_0x2dbe72){const _0x2607e3=a0_0xad378c;try{if(this[_0x2607e3(0x4f8)]['ENABLED'])return await this[_0x2607e3(0x309)][_0x2607e3(0x5cc)]({'_id':_0x2dbe72});}catch{return{};}}async[a0_0xad378c(0x46e)](){const _0x484cc3=a0_0xad378c;try{if(this['dbSettings'][_0x484cc3(0x785)])return await this[_0x484cc3(0x309)][_0x484cc3(0x84a)]();}catch{return[];}}async[a0_0xad378c(0x361)](_0x28bfb3){const _0x355e4c=a0_0xad378c;try{if(this['dbSettings'][_0x355e4c(0x785)])return await this[_0x355e4c(0x309)][_0x355e4c(0x84a)](_0x28bfb3);}catch{return[];}}},ts=class extends O{async[a0_0xad378c(0x8c5)](_0x291ff2){const _0x4d35da=a0_0xad378c;try{let _0x36a068=T(_0x291ff2[_0x4d35da(0x8b5)]);return{'deletedCount':(await Ce[_0x4d35da(0x8c5)](_0x36a068))[_0x4d35da(0x5a6)]};}catch(_0x560b8a){return{'error':_0x560b8a?.[_0x4d35da(0x3d2)]()};}}async['updateOne'](_0x3becbb,_0x5e163c){const _0x48bba7=a0_0xad378c;try{let _0x19a81f=await Ce[_0x48bba7(0x6c4)](_0x3becbb);return _0x19a81f?(Object[_0x48bba7(0x39f)](_0x19a81f,_0x5e163c),await _0x19a81f[_0x48bba7(0x3fd)]()):(console[_0x48bba7(0x5fe)](_0x48bba7(0x4cc),_0x3becbb),null);}catch(_0x5ae328){return console[_0x48bba7(0x5fe)](_0x48bba7(0x507),_0x5ae328),null;}}async['createAndSave'](_0x1842a3){const _0x6df240=a0_0xad378c;try{return await new Ce(_0x1842a3)['save']();}catch(_0x511d75){return console[_0x6df240(0x5fe)](_0x6df240(0x89a),_0x511d75),null;}}async[a0_0xad378c(0x46e)](_0x5914c0){const _0x5293e9=a0_0xad378c;try{let _0x5f20d0=_0x5914c0[_0x5293e9(0x8b5)]??{};return await Ce['find'](_0x5f20d0)[_0x5293e9(0x177)](_0x5914c0['limit']??0x0)['lean']();}catch(_0x18bf01){return console[_0x5293e9(0x5fe)](_0x5293e9(0x8dd),_0x18bf01),[];}}async[a0_0xad378c(0x5cc)](_0x5caf30){const _0x208b47=a0_0xad378c;try{let _0x39e427=T(_0x5caf30['where']);return await Ce[_0x208b47(0x5cc)](_0x39e427)[_0x208b47(0x192)]();}catch{return null;}}},ss=class extends O{[a0_0xad378c(0x34b)](_0x10d13c){return wa(_0x10d13c);}async[a0_0xad378c(0x364)](_0x916282){const _0x59af98=a0_0xad378c;if(_0x916282[_0x59af98(0x4f1)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x916282[0x0][_0x59af98(0x86e)])['insertMany']([..._0x916282]))['length']};}catch(_0xaa757){return _0xaa757;}}async[a0_0xad378c(0x8aa)](_0x346b70,_0x59ac1d){const _0x4d4c69=a0_0xad378c;try{let _0xfd760b=this[_0x4d4c69(0x34b)](_0x59ac1d),_0x1ef534=T(_0x346b70[_0x4d4c69(0x8b5)]);return{'deletedCount':(await _0xfd760b['deleteMany'](_0x1ef534))[_0x4d4c69(0x5a6)]};}catch(_0x757a27){return{'error':_0x757a27?.['toString']()};}}async[a0_0xad378c(0x8c5)](_0x45f64c,_0x5e6341){const _0xb89c7a=a0_0xad378c;try{let _0x45ec0e=this[_0xb89c7a(0x34b)](_0x5e6341),_0x5960aa=T(_0x45f64c[_0xb89c7a(0x8b5)]);return{'deletedCount':(await _0x45ec0e['deleteOne'](_0x5960aa))[_0xb89c7a(0x5a6)]};}catch(_0x2f560f){return{'error':_0x2f560f?.[_0xb89c7a(0x3d2)]()};}}async['update'](_0x59da42,_0x3330ba){const _0xbc0ce2=a0_0xad378c;try{if(_0x59da42[_0xbc0ce2(0x4f1)]===0x0)return;let _0x46bdc9=this['getConversationModelForOwner'](_0x3330ba),_0x55a926=_0x59da42[_0xbc0ce2(0x4a4)](_0x35f1b4=>({'updateOne':{'filter':{'name':_0x35f1b4[_0xbc0ce2(0x725)],'owner':_0x3330ba},'update':{..._0x35f1b4}}})),{modifiedCount:_0x1d836c}=await _0x46bdc9[_0xbc0ce2(0x835)](_0x55a926);return{'insertCount':_0x1d836c};}catch{return;}}async['updateMany'](_0x22fdda,_0x44984c,_0x1a48ed){const _0x505b50=a0_0xad378c;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x1a48ed)['updateMany'](_0x22fdda,{'$set':_0x44984c})[_0x505b50(0x3cf)]())[_0x505b50(0x4d5)]};}catch(_0x53ba74){return console[_0x505b50(0x5fe)](_0x505b50(0x5bd),_0x53ba74),{'error':_0x53ba74};}}async[a0_0xad378c(0x71b)](_0xc5fe52,_0x46320c,_0x542fc1){const _0xd5e958=a0_0xad378c;try{return await this[_0xd5e958(0x34b)](_0x542fc1)['findOneAndUpdate']({'_id':_0xc5fe52},{'$set':_0x46320c},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x1df902){return console[_0xd5e958(0x5fe)](_0x1df902),null;}}async[a0_0xad378c(0x84a)](_0xd7679a,_0x3a16e2){const _0x25aecf=a0_0xad378c;try{return await this[_0x25aecf(0x34b)](_0x3a16e2)[_0x25aecf(0x84a)](_0xd7679a)[_0x25aecf(0x366)]({'lastInteraction':-0x1})[_0x25aecf(0x192)]();}catch{return[];}}async[a0_0xad378c(0x5cc)](_0x14ee27,_0x1cd9fa){const _0x43411e=a0_0xad378c;try{return await this['getConversationModelForOwner'](_0x1cd9fa)[_0x43411e(0x5cc)]({..._0x14ee27[_0x43411e(0x8b5)]})[_0x43411e(0x192)]();}catch{return null;}}async[a0_0xad378c(0x6ac)](_0x5f1540){const _0x22b6ad=a0_0xad378c;try{return await this[_0x22b6ad(0x34b)](_0x5f1540)[_0x22b6ad(0x4d1)]['drop'](),{'success':!0x0};}catch(_0x422b36){return console['error'](_0x422b36),{'success':!0x1,'error':_0x422b36};}}},as=class extends O{[a0_0xad378c(0x8c2)](_0x430848){return ya(_0x430848);}async[a0_0xad378c(0x835)](_0x188462,_0x4fbdc7){const _0x351233=a0_0xad378c;try{return await this[_0x351233(0x8c2)](_0x4fbdc7)['bulkWrite'](_0x188462);}catch(_0x2f5d49){return console[_0x351233(0x5fe)]('Erro\x20ao\x20executar\x20bulkWrite:',_0x2f5d49),null;}}async[a0_0xad378c(0x1bc)](_0x4a7e39,_0x3d3c5d){const _0x1dddc1=a0_0xad378c;try{let _0x4504d7=this['getScheduleMessageModelForOwner'](_0x3d3c5d);return await new _0x4504d7(_0x4a7e39)[_0x1dddc1(0x3fd)]();}catch(_0x3331e4){return console[_0x1dddc1(0x5fe)](_0x1dddc1(0x690),_0x3331e4),null;}}async[a0_0xad378c(0x8c5)](_0xf3d760,_0x5b6acd){const _0x122e83=a0_0xad378c;try{return await this[_0x122e83(0x8c2)](_0x5b6acd)[_0x122e83(0x712)](_0xf3d760),{};}catch(_0x29e72e){return{'error':_0x29e72e?.[_0x122e83(0x3d2)]()};}}async[a0_0xad378c(0x71b)](_0x1c4fde,_0x539b7b,_0x53438c,_0x5cc8d9={}){const _0x38144b=a0_0xad378c;try{return await this['getScheduleMessageModelForOwner'](_0x53438c)[_0x38144b(0x7db)](_0x1c4fde,_0x539b7b,{..._0x5cc8d9,'new':!0x0})[_0x38144b(0x192)]();}catch(_0x13f714){return console['error'](_0x38144b(0x585),_0x13f714),null;}}async[a0_0xad378c(0x780)](_0x5640ec,_0x2d51f9,_0x22e266){const _0x43f948=a0_0xad378c;try{return await this[_0x43f948(0x8c2)](_0x22e266)['findByIdAndUpdate'](_0x5640ec,_0x2d51f9,{'new':!0x0})[_0x43f948(0x192)]();}catch(_0x462c66){return console['error'](_0x43f948(0x585),_0x462c66),null;}}async[a0_0xad378c(0x84a)](_0x7ebc9c,_0x4560e9){const _0x199f7b=a0_0xad378c;try{return await this[_0x199f7b(0x8c2)](_0x4560e9)[_0x199f7b(0x84a)](_0x7ebc9c['where'])[_0x199f7b(0x177)](_0x7ebc9c?.[_0x199f7b(0x177)]??0x0)[_0x199f7b(0x366)]({'when':0x1})[_0x199f7b(0x192)]();}catch{return[];}}async[a0_0xad378c(0x5cc)](_0x5354f1,_0x59827d){const _0x3aad82=a0_0xad378c;try{return await this['getScheduleMessageModelForOwner'](_0x59827d)[_0x3aad82(0x5cc)](_0x5354f1['where'])[_0x3aad82(0x366)]({'when':0x1})[_0x3aad82(0x192)]();}catch{return null;}}async[a0_0xad378c(0x6c4)](_0x5df8ec,_0x50e2f6){const _0x399296=a0_0xad378c;try{return await this[_0x399296(0x8c2)](_0x50e2f6)[_0x399296(0x6c4)](_0x5df8ec)[_0x399296(0x192)]();}catch{return null;}}async['deleteMany'](_0x23c97c,_0x447a18){const _0x298d4c=a0_0xad378c;try{return{'deletedCount':(await this[_0x298d4c(0x8c2)](_0x447a18)[_0x298d4c(0x5e7)](_0x23c97c))[_0x298d4c(0x5a6)]};}catch(_0x5b8f56){return console[_0x298d4c(0x5fe)]('Erro\x20ao\x20deletar\x20mensagens:',_0x5b8f56),{'error':_0x5b8f56};}}async[a0_0xad378c(0x6ac)](_0x28c1c5){const _0x492f86=a0_0xad378c;try{return await this[_0x492f86(0x8c2)](_0x28c1c5)[_0x492f86(0x4d1)][_0x492f86(0x833)](),{'success':!0x0};}catch(_0x428802){return console[_0x492f86(0x5fe)](_0x428802),{'success':!0x1,'error':_0x428802};}}},is=class extends O{async[a0_0xad378c(0x29d)](_0x53f9be,_0x28c826){const _0x41580a=a0_0xad378c;try{if(this[_0x41580a(0x4f8)]['ENABLED'])return await Ie[_0x41580a(0x7db)]({'_id':_0x28c826},{'$set':_0x53f9be},{'new':!0x0});}catch(_0x2790da){throw console[_0x41580a(0x5fe)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x2790da),_0x2790da;}}async[a0_0xad378c(0x4f5)](_0x9f145d){const _0x3759a4=a0_0xad378c;try{let _0x2b89e5=await Ie[_0x3759a4(0x6c4)](_0x9f145d);return _0x2b89e5?_0x2b89e5[_0x3759a4(0x48a)]||(_0x2b89e5[_0x3759a4(0x48a)]=[],await _0x2b89e5[_0x3759a4(0x3fd)]()):(_0x2b89e5=new Ie({'_id':_0x9f145d,'autoCompleteMessages':[]}),await _0x2b89e5[_0x3759a4(0x3fd)]()),_0x2b89e5;}catch(_0x145c12){return _0x145c12[_0x3759a4(0x24f)]===0x2af8&&_0x145c12[_0x3759a4(0x55c)]&&_0x145c12[_0x3759a4(0x55c)]['autoCompleteMessages.command']?(console['error'](_0x3759a4(0x384)),await Ie[_0x3759a4(0x4d1)][_0x3759a4(0x26b)]('autoCompleteMessages.command_1'),null):(console[_0x3759a4(0x5fe)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x145c12),null);}}},ko=new $(a0_0xad378c(0x338)),Lo=new Ke(S),Fo=new Jt(S),Uo=new rt(S),jo=new qt(sa,S),Jo=new Zt(ua,S),qo=new es(na,S),Vo=new Ne(Be,S),Go=new ts(S),Bo=new Vt(S),Wo=new ss(S),zo=new as(S),Ho=new is(S),fe=new ze(Lo,Fo,Uo,jo,Jo,qo,Vo,Go,Wo,Bo,zo,Ho,A?.['getClient']()),G=new jt(ps,S,fe),Ko=new Ht(S,G,fe),Qo=new Qt(G),Ns=new Xt(Qo),_=new Yt(G),de=new Wt(G,S,fe,ps,Ko),W=new zt(G),P=new Gt(G),q=new Kt(G);ko['info']('Module\x20-\x20ON');var gg=require('express-async-errors'),Ls=require('fs'),Oi=I(require('https')),xi=I(require(a0_0xad378c(0x443))),Ue=class u{static #e;static set[a0_0xad378c(0x3bd)](_0x40b473){this.#e=_0x40b473;}static get['https'](){const _0x3671c7=a0_0xad378c;let {FULLCHAIN:_0x45aec3,PRIVKEY:_0x229a42}=S[_0x3671c7(0x1ff)](_0x3671c7(0x56f));return Oi[_0x3671c7(0x482)]({'cert':(0x0,Ls[_0x3671c7(0x738)])(_0x45aec3),'key':(0x0,Ls[_0x3671c7(0x738)])(_0x229a42)},u.#e);}static get[a0_0xad378c(0x443)](){const _0x3ba144=a0_0xad378c;return xi[_0x3ba144(0x482)](u.#e);}},je=I(require('fs')),Ui=I(require('ini')),Je=I(require('axios')),rs=I(require(a0_0xad378c(0x50f))),os=require('child_process');function Yo(){const _0x47fd91=a0_0xad378c;G[_0x47fd91(0x88c)]();let _0x557e71=rs[_0x47fd91(0x7c4)][_0x47fd91(0x6b9)](__dirname,_0x47fd91(0x25c));Fi(_0x557e71);}var Fi=_0x103554=>{const _0x569a16=a0_0xad378c;let _0x563709=je[_0x569a16(0x7c4)][_0x569a16(0x503)](_0x103554),_0x21204b=0xc*0x3c*0x3c*0x3e8,_0x4c4609=0x2*0x3c*0x3c*0x3e8,_0x5bc8f8=new Date()[_0x569a16(0x466)]();_0x563709[_0x569a16(0x6db)](_0xc0c3f=>{const _0x3a2fd6=_0x569a16;let _0x1e371a=rs['default'][_0x3a2fd6(0x6b9)](_0x103554,_0xc0c3f),_0x432a2d=je['default'][_0x3a2fd6(0x3c4)](_0x1e371a)[_0x3a2fd6(0x18a)]['getTime']();_0x5bc8f8-_0x432a2d>_0x21204b&&(je[_0x3a2fd6(0x7c4)]['unlinkSync'](_0x1e371a),console[_0x3a2fd6(0x78c)](_0x3a2fd6(0x23c)+_0xc0c3f));}),setTimeout(()=>Fi(_0x103554),_0x4c4609);};function Xo(){const _0x5e945c=a0_0xad378c;let _0x86491e=new $(_0x5e945c(0x2e5)),_0x1ab1a6=(0x0,ye[_0x5e945c(0x7c4)])();_0x1ab1a6['use']((0x0,Li[_0x5e945c(0x7c4)])({'origin'(_0x3eabcc,_0x2debe9){const _0x5d38d8=_0x5e945c;let {ORIGIN:_0x302961}=S[_0x5d38d8(0x1ff)](_0x5d38d8(0x7d4));return _0x3eabcc||(_0x3eabcc='*'),_0x302961[_0x5d38d8(0x605)]('*')!==-0x1||_0x302961[_0x5d38d8(0x605)](_0x3eabcc)!==-0x1?_0x2debe9(null,!0x0):_0x2debe9(new Error(_0x5d38d8(0x6a9)));},'methods':[...S[_0x5e945c(0x1ff)](_0x5e945c(0x7d4))[_0x5e945c(0x865)]],'credentials':S[_0x5e945c(0x1ff)](_0x5e945c(0x7d4))[_0x5e945c(0x811)]}),(0x0,ye[_0x5e945c(0x4c5)])({'extended':!0x0,'limit':_0x5e945c(0x8e0)}),(0x0,ye[_0x5e945c(0x2e3)])({'limit':_0x5e945c(0x8e0)})),_0x1ab1a6[_0x5e945c(0x42f)]((_0x35cba0,_0x143eeb,_0x5ab8e9)=>{const _0x11c244=_0x5e945c;_0x35cba0[_0x11c244(0x50f)][_0x11c244(0x598)](_0x11c244(0x7b7))?_0x5ab8e9():(0x0,ki[_0x11c244(0x7c4)])()(_0x35cba0,_0x143eeb,_0x5ab8e9);}),_0x1ab1a6[_0x5e945c(0x368)]('view\x20engine',_0x5e945c(0x699)),_0x1ab1a6['set']('views',(0x0,Us[_0x5e945c(0x6b9)])(ce,_0x5e945c(0x589))),_0x1ab1a6[_0x5e945c(0x42f)](ye[_0x5e945c(0x7c4)][_0x5e945c(0x25e)]((0x0,Us['join'])(ce,'public'))),_0x1ab1a6[_0x5e945c(0x42f)]((_0x5185e7,_0x2c7e7a,_0x3283f7)=>{const _0xa5cdd4=_0x5e945c;let _0x44f934=_0x2c7e7a[_0xa5cdd4(0x77a)];_0x2c7e7a[_0xa5cdd4(0x77a)]=function(_0x34fbfd){const _0x2099f9=_0xa5cdd4;if(_0x5185e7[_0x2099f9(0x762)][_0x2099f9(0x445)]===_0x2099f9(0x81e)||_0x5185e7[_0x2099f9(0x39c)][_0x2099f9(0x679)]==='true'){let _0x9bce0f=JSON[_0x2099f9(0x549)](_0x34fbfd);_0x34fbfd=JSON['stringify'](_0x1379ff(_0x9bce0f));}return _0x44f934[_0x2099f9(0x51c)](_0x2c7e7a,[_0x34fbfd]);},_0x3283f7();}),_0x1ab1a6[_0x5e945c(0x42f)]('/',ke),_0x1ab1a6['use']((_0x39ced4,_0x4e0dcf,_0x509b55,_0x1bf397)=>{const _0x49fc8b=_0x5e945c;if(_0x39ced4)return _0x509b55[_0x49fc8b(0x616)](_0x39ced4[_0x49fc8b(0x616)]||0x1f4)['json'](_0x39ced4);},(_0x1a58e8,_0x2e894d,_0x419706)=>{const _0x55c637=_0x5e945c;let {method:_0x52688d,url:_0x201803}=_0x1a58e8;_0x2e894d['status'](0x194)[_0x55c637(0x2e3)]({'status':0x194,'message':'Cannot\x20'+_0x52688d['toUpperCase']()+'\x20'+_0x201803,'error':'Not\x20Found'}),_0x419706();});let _0x1379ff=(_0x36e878,_0x50f699=_0x5e945c(0x33b))=>{const _0x463d2b=_0x5e945c;let _0x50ca4b=(_0x3dbf63,_0x1c0b13=null,_0x4739d3=!0x1)=>{const _0x1bfa15=a0_0x4c1f;let _0x586c42={};return Object['keys'](_0x3dbf63)[_0x1bfa15(0x6db)](_0x87b101=>{const _0x4f5e0d=_0x1bfa15;let _0x54897b=_0x3dbf63[_0x87b101],_0x3a04ca=''+_0x50f699+_0x87b101;_0x1c0b13&&!_0x4739d3&&(_0x3a04ca=_0x1c0b13+'.'+_0x87b101),!_0x54897b&&_0x54897b!==0x0&&_0x54897b!==!0x1||typeof _0x54897b>'u'?_0x586c42[_0x3a04ca]=null:typeof _0x54897b!='object'&&!Array['isArray'](_0x54897b)?_0x586c42[_0x3a04ca]=_0x54897b:typeof _0x54897b==_0x4f5e0d(0x429)&&!Array['isArray'](_0x54897b)?_0x586c42=Object['assign'](_0x586c42,_0x50ca4b(_0x54897b,_0x3a04ca)):Array['isArray'](_0x54897b)&&(typeof _0x54897b[0x0]==_0x4f5e0d(0x429)?(_0x586c42[_0x3a04ca]=[],_0x54897b[_0x4f5e0d(0x6db)](_0x57f15c=>{const _0x2970dc=_0x4f5e0d;_0x586c42[_0x3a04ca][_0x2970dc(0x240)](_0x50ca4b(_0x57f15c,_0x3a04ca,!0x0));})):_0x586c42[_0x3a04ca]=_0x54897b);}),_0x586c42;};return Array[_0x463d2b(0x5ab)](_0x36e878)?_0x36e878[_0x463d2b(0x4a4)](_0x5b2227=>_0x50ca4b(_0x5b2227)):typeof _0x36e878==_0x463d2b(0x429)&&_0x36e878!==null?_0x50ca4b(_0x36e878):{};},_0x38c88d=S['get'](_0x5e945c(0x2e5));Ue['app']=_0x1ab1a6;let _0x5a443a=Ue[_0x38c88d[_0x5e945c(0x4da)]],_0x36e54e='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x5a443a[_0x5e945c(0x3e4)](_0x38c88d[_0x5e945c(0x5c6)],()=>{const _0x50bcb9=_0x5e945c;_0x86491e[_0x50bcb9(0x78c)](_0x36e54e),_0x86491e[_0x50bcb9(0x78c)](_0x38c88d[_0x50bcb9(0x4da)][_0x50bcb9(0x422)]()+'\x20-\x20ON:\x20'+_0x38c88d[_0x50bcb9(0x5c6)]);}),Yo(),Qs();}var Zo=a0_0xad378c(0x489),er=rs[a0_0xad378c(0x7c4)]['join'](__dirname,a0_0xad378c(0x498)),Re=null;function tr(){return new Promise((_0x505adb,_0x31899c)=>{const _0x99cc21=a0_0x4c1f;je[_0x99cc21(0x7c4)][_0x99cc21(0x551)](er,_0x99cc21(0x8ba),(_0x9bfe42,_0x161a8c)=>{const _0x3f2d9d=_0x99cc21;if(_0x9bfe42){Re=_0x9bfe42,_0x505adb();return;}Ui[_0x3f2d9d(0x7c4)][_0x3f2d9d(0x549)](_0x161a8c)['remote\x20\x22origin\x22']['url']===Zo?(Re=null,_0x505adb()):(Re=new Error(_0x3f2d9d(0x4e4)),_0x505adb());});});}async function sr(){const _0x469468=a0_0xad378c;try{await tr(),await js();}catch(_0x5a4fe4){console['error'](_0x469468(0x556)+_0x5a4fe4),process[_0x469468(0x3e5)](0x1);}}sr();async function ji(){const _0x5cf002=a0_0xad378c;let _0xb09aee;try{_0xb09aee=(await Je[_0x5cf002(0x7c4)]['get']('https://jsonip.com'))['data']['ip'];}catch(_0x2fa68b){console[_0x5cf002(0x5fe)](_0x2fa68b);try{_0xb09aee=(await Je[_0x5cf002(0x7c4)][_0x5cf002(0x1ff)](_0x5cf002(0x28d)))[_0x5cf002(0x232)]['ip'];}catch(_0x6863e3){console['error'](_0x6863e3);try{_0xb09aee=(await Je[_0x5cf002(0x7c4)]['get'](_0x5cf002(0x7e5)))[_0x5cf002(0x232)][_0x5cf002(0x59b)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x56ad38){return console[_0x5cf002(0x5fe)](_0x56ad38),!0x1;}}}return _0xb09aee;}var Di=0x0;async function ar(){const _0x24d55c=a0_0xad378c;let _0x590166=await new pe(S['get'](_0x24d55c(0x1ef)))[_0x24d55c(0x3a3)]();return console[_0x24d55c(0x78c)]('instancias:\x20',_0x590166['length']),_0x590166[_0x24d55c(0x4f1)];}function ir(_0x168c9a){const _0xae2d4=a0_0xad378c;let _0x2d6718=_0x168c9a[_0xae2d4(0x1ff)]('SERVER')[_0xae2d4(0x49a)],_0x480149=_0x168c9a[_0xae2d4(0x1ff)]('SSL_CONF');console['log'](_0xae2d4(0x5aa),_0x2d6718),console[_0xae2d4(0x78c)]('Configuração\x20SSL\x20recuperada:',_0x480149);let _0x4d89d9='',_0x3928a9=_0x2d6718||'';if(_0x2d6718){let _0x46d3a6=_0x2d6718['match'](/\/\/(.*?)\./);console[_0xae2d4(0x78c)](_0xae2d4(0x82e),_0x46d3a6),_0x46d3a6&&_0x46d3a6[0x1]&&(_0x4d89d9=_0x46d3a6[0x1],console[_0xae2d4(0x78c)](_0xae2d4(0x691),_0x4d89d9));}if(!_0x4d89d9&&_0x480149&&_0x480149['FULLCHAIN']){let _0x50d43c=_0x480149['FULLCHAIN'][_0xae2d4(0x43a)]('/');console['log'](_0xae2d4(0x66c),_0x50d43c);let _0x9679fa=_0x50d43c[_0x50d43c[_0xae2d4(0x4f1)]-0x2];if(console[_0xae2d4(0x78c)](_0xae2d4(0x4ab),_0x9679fa),_0x9679fa){let _0xd5ae1b=_0x9679fa[_0xae2d4(0x43a)]('.');console[_0xae2d4(0x78c)](_0xae2d4(0x557),_0xd5ae1b),_0xd5ae1b[_0xae2d4(0x4f1)]>0x2&&(_0x4d89d9=_0xd5ae1b[0x0],console[_0xae2d4(0x78c)](_0xae2d4(0x6f7),_0x4d89d9),_0x3928a9=''+_0x9679fa);}}return{'subdomain':_0x4d89d9||_0xae2d4(0x5c3),'fullURL':_0x3928a9||'URL\x20não\x20disponível'};}var {subdomain:B,fullURL:Js}=ir(S);console['log'](a0_0xad378c(0x2b7),B),console['log'](a0_0xad378c(0x584),Js);async function or(){const _0x177123=a0_0xad378c;let _0x56186e=S[_0x177123(0x1ff)](_0x177123(0x1ef)),_0x10e632=S['get']('AUTHENTICATION')[_0x177123(0x27d)]['KEY'],_0x1c1d94=S['get']('SSL_CONF'),_0x3966fc=await ji(),_0x813d84=S[_0x177123(0x1ff)]('SERVER')['PORT'],_0x288f35=Js;try{let _0x4f9d00={'ip':_0x3966fc||null,'redis_enable':_0x56186e?.[_0x177123(0x785)]||null,'apikey':_0x10e632||null,'ssl':_0x1c1d94?.[_0x177123(0x1fe)]||null,'lastupdate':Ji||null,'port':_0x813d84||null,'gitInstallError':Re?.[_0x177123(0x5fa)]||null,'url':_0x288f35||null,'subdomain':B};if(console[_0x177123(0x78c)](_0x177123(0x2d0),_0x4f9d00['ip']),_0x56186e&&_0x56186e[_0x177123(0x785)]){let _0x4ef327=await ar();_0x4f9d00[_0x177123(0x24c)]=_0x4ef327||null;}for(let _0x15b784 in _0x4f9d00)_0x4f9d00[_0x177123(0x6ba)](_0x15b784)&&_0x15b784!=='ip'&&(_0x4f9d00[_0x15b784]=JSON[_0x177123(0x62f)](_0x4f9d00[_0x15b784]));return(await Je[_0x177123(0x7c4)][_0x177123(0x7a7)](_0x177123(0x6f0),_0x4f9d00))[_0x177123(0x232)];}catch(_0x2ddf0f){return console[_0x177123(0x5fe)](_0x2ddf0f),!0x1;}}var Fs=!0x1,Ji=0x26a,rr=0x3,Pi=0x1b7740;async function js(){const _0x2620de=a0_0xad378c;let _0x44347c='fora\x20do\x20git';Re===null&&(_0x44347c=await ji());let _0x160852=await or();if(_0x160852){if(_0x160852['response'][_0x2620de(0x595)]===!0x0){Re===null&&_0x160852['response'][_0x2620de(0x82f)]-Ji>0x0&&await nr(),Fs||(Fs=!0x0,Xo());let _0x23fb49=0x24*0x3c*0x3c,_0x48d863=_0x160852[_0x2620de(0x17f)]['segundos']>_0x23fb49?_0x23fb49:_0x160852['response'][_0x2620de(0x6e1)],_0x253d41=Number(_0x48d863);if(isNaN(_0x253d41)){console[_0x2620de(0x5fe)](_0x2620de(0x215));return;}let _0x3246bf=Math['floor'](_0x253d41/0xe10),_0x3cc118=Math[_0x2620de(0x261)](_0x253d41%0xe10/0x3c),_0x154ec8=new Date(Date['now']()+_0x253d41*0x3e8);setTimeout(js,_0x253d41*0x3e8);let _0x3f07d1=_0x4fd81c=>_0x4fd81c['toString']()['padStart'](0x2,'0'),_0x19266a='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x3f07d1(_0x3246bf)+_0x2620de(0x2d3)+_0x3f07d1(_0x3cc118)+_0x2620de(0x3e3)+_0x3f07d1(_0x154ec8[_0x2620de(0x882)]())+':'+_0x3f07d1(_0x154ec8[_0x2620de(0x3a9)]())+'.';console['log'](_0x19266a);}else return console[_0x2620de(0x78c)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Fs&&(console[_0x2620de(0x78c)](_0x2620de(0x88b)),process[_0x2620de(0x3e5)]()),'LICENSE_INVALID';}else{if(Di++,Di<rr)console[_0x2620de(0x78c)](_0x2620de(0x456)+Pi/0xea60+'\x20minutos...'),setTimeout(js,Pi);else return console['error'](_0x2620de(0x424)),_0x2620de(0x561);}}async function nr(){const _0x3b3948=a0_0xad378c;console[_0x3b3948(0x78c)]('Parando\x20aplicação,\x20atualização\x20recebida'),console[_0x3b3948(0x78c)]('Limpando\x20logs\x20do\x20PM2...'),(0x0,os[_0x3b3948(0x316)])(_0x3b3948(0x6e7),{'shell':!0x0})['on'](_0x3b3948(0x76b),_0x1b333c=>{const _0x39948f=_0x3b3948;_0x1b333c!==0x0?console[_0x39948f(0x5fe)](_0x39948f(0x772)):(console[_0x39948f(0x78c)](_0x39948f(0x78d)),console[_0x39948f(0x78c)]('Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...'),(0x0,os[_0x39948f(0x316)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on'](_0x39948f(0x76b),_0x215edd=>{const _0x185439=_0x39948f;if(_0x215edd!==0x0)console[_0x185439(0x5fe)](_0x185439(0x3f2));else{console[_0x185439(0x78c)](_0x185439(0x5ba));let _0x23e7ea=(0x0,os[_0x185439(0x316)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x23e7ea['stdout']['on'](_0x185439(0x232),_0x4acd68=>{const _0x35b069=_0x185439;console[_0x35b069(0x78c)](_0x35b069(0x475)+_0x4acd68);}),_0x23e7ea['stderr']['on'](_0x185439(0x232),_0x29d9dd=>{const _0x46eb68=_0x185439;console[_0x46eb68(0x5fe)](_0x46eb68(0x54f)+_0x29d9dd);}),_0x23e7ea['on'](_0x185439(0x3e5),_0x2c1806=>{const _0x2cc6d9=_0x185439;_0x2c1806!==0x0?console[_0x2cc6d9(0x5fe)](_0x2cc6d9(0x496)+_0x2c1806):console['log'](_0x2cc6d9(0x857)),console['log'](_0x2cc6d9(0x312)),setTimeout(()=>process[_0x2cc6d9(0x3e5)](),0x2710);});}}));});}0x0&&(module[a0_0xad378c(0x524)]={'fullURL':fullURL,'subdomain':subdomain});