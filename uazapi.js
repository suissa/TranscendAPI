const a0_0x4e6726=a0_0x2c93;(function(_0x22b335,_0x2b2389){const _0x59df16=a0_0x2c93,_0x6ff1ea=_0x22b335();while(!![]){try{const _0x3ec39b=-parseInt(_0x59df16(0x36c))/0x1+-parseInt(_0x59df16(0x611))/0x2+-parseInt(_0x59df16(0x26d))/0x3+parseInt(_0x59df16(0x546))/0x4*(parseInt(_0x59df16(0x495))/0x5)+-parseInt(_0x59df16(0x3d8))/0x6+-parseInt(_0x59df16(0x6b9))/0x7+parseInt(_0x59df16(0x44d))/0x8;if(_0x3ec39b===_0x2b2389)break;else _0x6ff1ea['push'](_0x6ff1ea['shift']());}catch(_0x3132e0){_0x6ff1ea['push'](_0x6ff1ea['shift']());}}}(a0_0x2682,0xda104));var bo=Object[a0_0x4e6726(0x1ab)],Ms=Object[a0_0x4e6726(0x623)],So=Object[a0_0x4e6726(0x4b0)],Eo=Object[a0_0x4e6726(0x75b)],vo=Object[a0_0x4e6726(0x219)],No=Object[a0_0x4e6726(0x41e)][a0_0x4e6726(0x2d2)],Co=(_0x52e6a3,_0x1e4951,_0x577f71,_0x12de75)=>{const _0x47c8b5=a0_0x4e6726;if(_0x1e4951&&typeof _0x1e4951==_0x47c8b5(0x390)||typeof _0x1e4951==_0x47c8b5(0x770)){for(let _0x34b7a3 of Eo(_0x1e4951))!No[_0x47c8b5(0x41b)](_0x52e6a3,_0x34b7a3)&&_0x34b7a3!==_0x577f71&&Ms(_0x52e6a3,_0x34b7a3,{'get':()=>_0x1e4951[_0x34b7a3],'enumerable':!(_0x12de75=So(_0x1e4951,_0x34b7a3))||_0x12de75[_0x47c8b5(0x21c)]});}return _0x52e6a3;},M=(_0x22a9c1,_0x19a10d,_0x5d29e9)=>(_0x5d29e9=_0x22a9c1!=null?bo(vo(_0x22a9c1)):{},Co(_0x19a10d||!_0x22a9c1||!_0x22a9c1[a0_0x4e6726(0x492)]?Ms(_0x5d29e9,'default',{'value':_0x22a9c1,'enumerable':!0x0}):_0x5d29e9,_0x22a9c1)),go=M(require(a0_0x4e6726(0x3ea))),Rs=require('fs'),As=require('js-yaml'),Is=require(a0_0x4e6726(0x3ee)),De=require(a0_0x4e6726(0x3ee)),Y=process['cwd'](),j=(0x0,De[a0_0x4e6726(0x6fa)])(Y,a0_0x4e6726(0x434)),Ts=(0x0,De[a0_0x4e6726(0x6fa)])(Y,a0_0x4e6726(0x6a6)),Ht=(0x0,De[a0_0x4e6726(0x6fa)])(Y,a0_0x4e6726(0x1c0),a0_0x4e6726(0x789)),Os=require(a0_0x4e6726(0x656)),zt=class{constructor(){const _0x561aa4=a0_0x4e6726;this[_0x561aa4(0x714)]();}['get'](_0x260a05){const _0x1555a1=a0_0x4e6726;return this[_0x1555a1(0x3a4)][_0x260a05];}[a0_0x4e6726(0x714)](){const _0x3cfa4c=a0_0x4e6726;this[_0x3cfa4c(0x3a4)]=process[_0x3cfa4c(0x3a4)]?.[_0x3cfa4c(0x734)]!==_0x3cfa4c(0x5cf)?this[_0x3cfa4c(0x30a)]():this['envProcess'](),this[_0x3cfa4c(0x3a4)]['PRODUCTION']=process[_0x3cfa4c(0x3a4)]?.[_0x3cfa4c(0x37a)]===_0x3cfa4c(0x3b4),process[_0x3cfa4c(0x3a4)]?.[_0x3cfa4c(0x734)]===_0x3cfa4c(0x5cf)&&(this[_0x3cfa4c(0x3a4)][_0x3cfa4c(0x614)][_0x3cfa4c(0x45a)]=_0x3cfa4c(0x294),this[_0x3cfa4c(0x3a4)][_0x3cfa4c(0x614)][_0x3cfa4c(0x3e5)]=Number[_0x3cfa4c(0x792)](process['env']?.['SERVER_PORT']??_0x3cfa4c(0x540)));}[a0_0x4e6726(0x30a)](){const _0x12e66e=a0_0x4e6726;return(0x0,As['load'])((0x0,Rs[_0x12e66e(0x4c9)])((0x0,Is[_0x12e66e(0x6fa)])(Ts,'../env.yml'),{'encoding':_0x12e66e(0x59c)}));}[a0_0x4e6726(0x2fb)](){const _0x22b086=a0_0x4e6726;return{'SERVER':{'TYPE':process[_0x22b086(0x3a4)][_0x22b086(0x748)],'PORT':Number['parseInt'](process[_0x22b086(0x3a4)]['SERVER_PORT'])},'CORS':{'ORIGIN':process[_0x22b086(0x3a4)]['CORS_ORIGIN'][_0x22b086(0x619)](','),'METHODS':process[_0x22b086(0x3a4)][_0x22b086(0x343)]['split'](','),'CREDENTIALS':process[_0x22b086(0x3a4)]?.[_0x22b086(0x353)]===_0x22b086(0x5cf)},'SSL_CONF':{'PRIVKEY':process[_0x22b086(0x3a4)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x22b086(0x3a4)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x22b086(0x3a4)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x22b086(0x792)](process[_0x22b086(0x3a4)][_0x22b086(0x6d6)]):void 0x0,'MESSAGES':process[_0x22b086(0x3a4)]?.['STORE_MESSAGE']===_0x22b086(0x5cf),'CONTACTS':process['env']?.['STORE_CONTACTS']==='true','CHATS':process[_0x22b086(0x3a4)]?.['STORE_CHATS']===_0x22b086(0x5cf)},'DATABASE':{'CONNECTION':{'HOST':process[_0x22b086(0x3a4)]?.[_0x22b086(0x48c)],'PORT':Number[_0x22b086(0x792)](process['env']?.[_0x22b086(0x48c)]),'USER':process[_0x22b086(0x3a4)][_0x22b086(0x275)],'PASSWORD':process[_0x22b086(0x3a4)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x22b086(0x3a4)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x22b086(0x3a4)][_0x22b086(0x431)]},'ENABLED':process['env']?.['DATABASE_ENABLED']==='true'},'REDIS':{'ENABLED':process[_0x22b086(0x3a4)]?.[_0x22b086(0x677)]===_0x22b086(0x5cf),'URI':process[_0x22b086(0x3a4)][_0x22b086(0x72d)],'PREFIX_KEY':process[_0x22b086(0x3a4)][_0x22b086(0x5be)]},'LOG':{'LEVEL':process['env']?.[_0x22b086(0x695)][_0x22b086(0x619)](','),'COLOR':process['env']?.[_0x22b086(0x3ce)]===_0x22b086(0x5cf)},'DEL_INSTANCE':(0x0,Os[_0x22b086(0x715)])(process['env']?.[_0x22b086(0x2bd)])?process[_0x22b086(0x3a4)][_0x22b086(0x2bd)]===_0x22b086(0x5cf):Number[_0x22b086(0x792)](process[_0x22b086(0x3a4)][_0x22b086(0x2bd)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x22b086(0x3a4)][_0x22b086(0x4d1)]?process['env'][_0x22b086(0x4d1)]==='true':!0x1,'GLOBAL':{'URL':process[_0x22b086(0x3a4)]?.[_0x22b086(0x68e)],'ENABLED':process['env']?.[_0x22b086(0x2b9)]==='true'},'EVENTS':{'STATUS_INSTANCE':process[_0x22b086(0x3a4)]?.[_0x22b086(0x2ea)]===_0x22b086(0x5cf),'QRCODE_UPDATED':process[_0x22b086(0x3a4)]?.[_0x22b086(0x324)]===_0x22b086(0x5cf),'MESSAGES_SET':process[_0x22b086(0x3a4)]?.[_0x22b086(0x2d5)]==='true','MESSAGES_UPSERT':process[_0x22b086(0x3a4)]?.[_0x22b086(0x306)]===_0x22b086(0x5cf),'MESSAGES_UPDATE':process[_0x22b086(0x3a4)]?.[_0x22b086(0x63b)]===_0x22b086(0x5cf),'SEND_MESSAGE':process[_0x22b086(0x3a4)]?.[_0x22b086(0x76a)]===_0x22b086(0x5cf),'CONTACTS_SET':process[_0x22b086(0x3a4)]?.[_0x22b086(0x3ae)]===_0x22b086(0x5cf),'CONTACTS_UPDATE':process[_0x22b086(0x3a4)]?.[_0x22b086(0x5b3)]===_0x22b086(0x5cf),'CONTACTS_UPSERT':process['env']?.[_0x22b086(0x58c)]===_0x22b086(0x5cf),'PRESENCE_UPDATE':process['env']?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x22b086(0x5cf),'CHATS_SET':process[_0x22b086(0x3a4)]?.[_0x22b086(0x5e7)]===_0x22b086(0x5cf),'CHATS_UPDATE':process['env']?.[_0x22b086(0x1ff)]==='true','CHATS_UPSERT':process['env']?.[_0x22b086(0x6cc)]==='true','CHATS_DELETE':process[_0x22b086(0x3a4)]?.[_0x22b086(0x790)]===_0x22b086(0x5cf),'CONNECTION_UPDATE':process[_0x22b086(0x3a4)]?.['WEBHOOK_EVENTS_CONNECTION_UPDATE']===_0x22b086(0x5cf),'GROUPS_UPSERT':process[_0x22b086(0x3a4)]?.[_0x22b086(0x60d)]===_0x22b086(0x5cf),'GROUP_UPDATE':process[_0x22b086(0x3a4)]?.['WEBHOOK_EVENTS_GROUPS_UPDATE']===_0x22b086(0x5cf),'GROUP_PARTICIPANTS_UPDATE':process['env']?.[_0x22b086(0x307)]===_0x22b086(0x5cf),'NEW_JWT_TOKEN':process[_0x22b086(0x3a4)]?.[_0x22b086(0x2c1)]===_0x22b086(0x5cf)}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x22b086(0x3a4)]?.[_0x22b086(0x49d)]||'uazapi','NAME':process[_0x22b086(0x3a4)]?.[_0x22b086(0x61a)]||'chrome'},'QRCODE':{'LIMIT':Number[_0x22b086(0x792)](process[_0x22b086(0x3a4)][_0x22b086(0x3af)])||0x5},'TRIAL_AD':process['env']?.[_0x22b086(0x69e)],'TRIAL_INSTANCE_NAME':process[_0x22b086(0x3a4)]?.[_0x22b086(0x59b)],'AUTHENTICATION':{'TYPE':process[_0x22b086(0x3a4)][_0x22b086(0x49b)],'API_KEY':{'KEY':process['env'][_0x22b086(0x33c)]},'JWT':{'EXPIRIN_IN':Number[_0x22b086(0x55e)](process[_0x22b086(0x3a4)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number['parseInt'](process[_0x22b086(0x3a4)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process['env'][_0x22b086(0x624)]}}};}},E=new zt(),mo=M(require(a0_0x4e6726(0x478))),me=M(require(a0_0x4e6726(0x760))),vs=require('path'),Kt=M(require('dayjs')),Qt=(_0xb66a9a=>(_0xb66a9a[a0_0x4e6726(0x414)]=a0_0x4e6726(0x222),_0xb66a9a[a0_0x4e6726(0x68b)]='\x1b[34m',_0xb66a9a[a0_0x4e6726(0x5c4)]='\x1b[33m',_0xb66a9a[a0_0x4e6726(0x257)]=a0_0x4e6726(0x4bf),_0xb66a9a['DEBUG']=a0_0x4e6726(0x625),_0xb66a9a['VERBOSE']='\x1b[37m',_0xb66a9a[a0_0x4e6726(0x20b)]=a0_0x4e6726(0x57b),_0xb66a9a))(Qt||{}),Ds=(_0x344581=>(_0x344581[a0_0x4e6726(0x414)]='\x1b[32m%s\x1b[0m',_0x344581[a0_0x4e6726(0x20b)]=a0_0x4e6726(0x705),_0x344581['INFO']=a0_0x4e6726(0x42b),_0x344581[a0_0x4e6726(0x5c4)]='\x1b[33m%s\x1b[0m',_0x344581[a0_0x4e6726(0x257)]=a0_0x4e6726(0x23f),_0x344581[a0_0x4e6726(0x277)]=a0_0x4e6726(0x4c6),_0x344581[a0_0x4e6726(0x44e)]='\x1b[37m%s\x1b[0m',_0x344581))(Ds||{}),_s=(_0x5d1f50=>(_0x5d1f50['LOG']=a0_0x4e6726(0x414),_0x5d1f50[a0_0x4e6726(0x5c4)]='WARN',_0x5d1f50['INFO']=a0_0x4e6726(0x68b),_0x5d1f50[a0_0x4e6726(0x20b)]=a0_0x4e6726(0x20b),_0x5d1f50[a0_0x4e6726(0x257)]=a0_0x4e6726(0x257),_0x5d1f50[a0_0x4e6726(0x277)]=a0_0x4e6726(0x277),_0x5d1f50['VERBOSE']=a0_0x4e6726(0x44e),_0x5d1f50))(_s||{}),Ps=(_0x284952=>(_0x284952['LOG']=a0_0x4e6726(0x1eb),_0x284952[a0_0x4e6726(0x68b)]=a0_0x4e6726(0x3f0),_0x284952['WARN']=a0_0x4e6726(0x29e),_0x284952[a0_0x4e6726(0x20b)]=a0_0x4e6726(0x24f),_0x284952['ERROR']='\x1b[41m',_0x284952['DEBUG']=a0_0x4e6726(0x78d),_0x284952[a0_0x4e6726(0x44e)]=a0_0x4e6726(0x2ba),_0x284952))(Ps||{}),C=class{constructor(_0x2b06c0=a0_0x4e6726(0x455)){const _0x127fc1=a0_0x4e6726;this['context']=_0x2b06c0,this[_0x127fc1(0x3df)]=E;}[a0_0x4e6726(0x383)](_0x2f4ea2){const _0x55212d=a0_0x4e6726;this[_0x55212d(0x64c)]=_0x2f4ea2;}[a0_0x4e6726(0x64d)](_0x4cca95,_0x4e4154){const _0x5807b6=a0_0x4e6726;let _0xcf82a9=[];this[_0x5807b6(0x3df)][_0x5807b6(0x671)](_0x5807b6(0x414))[_0x5807b6(0x52a)][_0x5807b6(0x655)](_0x705c94=>_0xcf82a9[_0x5807b6(0x73c)](_s[_0x705c94]));let _0x1fa15b=typeof _0x4cca95;_0xcf82a9['includes'](_0x4e4154)&&(E[_0x5807b6(0x671)](_0x5807b6(0x414))[_0x5807b6(0x61d)]?(console[_0x5807b6(0x262)](_0x5807b6(0x52f)+Ds[_0x4e4154],_0x5807b6(0x689),(0x0,Kt['default'])()[_0x5807b6(0x4f2)]('DD/MM\x20HH:mm:ss'),_0x5807b6(0x310),Qt[_0x4e4154]+Ps[_0x4e4154]+_0x5807b6(0x52f),_0x4e4154+_0x5807b6(0x276),_0x5807b6(0x37b),this[_0x5807b6(0x64c)]+_0x5807b6(0x310),Qt[_0x4e4154],_0x1fa15b!==_0x5807b6(0x390)?_0x4cca95:'',_0x5807b6(0x310)),_0x1fa15b===_0x5807b6(0x390)&&console['log'](_0x4cca95,'\x0a')):console[_0x5807b6(0x262)]((0x0,Kt[_0x5807b6(0x38c)])()[_0x5807b6(0x4f2)](_0x5807b6(0x4ab)),_0x4e4154+'\x20',''+this[_0x5807b6(0x64c)],_0x4cca95));}[a0_0x4e6726(0x262)](_0x4c5cb3){const _0x262ce2=a0_0x4e6726;this[_0x262ce2(0x64d)](_0x4c5cb3,'LOG');}[a0_0x4e6726(0x436)](_0x103034){const _0x3e767d=a0_0x4e6726;this['console'](_0x103034,_0x3e767d(0x68b));}[a0_0x4e6726(0x43e)](_0x522e8b){const _0x122f62=a0_0x4e6726;this[_0x122f62(0x64d)](_0x522e8b,'WARN');}[a0_0x4e6726(0x4be)](_0xcb4bd){const _0x48a508=a0_0x4e6726;this[_0x48a508(0x64d)](_0xcb4bd,'ERROR');}['verbose'](_0x2196cf){const _0x14ad03=a0_0x4e6726;this['console'](_0x2196cf,_0x14ad03(0x44e));}[a0_0x4e6726(0x720)](_0x515b00){const _0x4437dd=a0_0x4e6726;this[_0x4437dd(0x64d)](_0x515b00,'DEBUG');}['dark'](_0x220fb2){const _0x5c90f7=a0_0x4e6726;this[_0x5c90f7(0x64d)](_0x220fb2,_0x5c90f7(0x20b));}};function xs(){const _0x2e4792=a0_0x4e6726;process['on'](_0x2e4792(0x4f4),(_0x1efef0,_0x2ed821)=>{const _0x51711b=_0x2e4792;new C(_0x51711b(0x4f4))[_0x51711b(0x4be)]({'origin':_0x2ed821,'stderr':process[_0x51711b(0x4e0)]['fd'],'error':_0x1efef0});}),process['on'](_0x2e4792(0x1e7),(_0x483553,_0x331603)=>{const _0x23745a=_0x2e4792;new C(_0x23745a(0x1e7))['error']({'origin':_0x331603,'stderr':process[_0x23745a(0x4e0)]['fd'],'error':_0x483553});});}var $s=M(require(a0_0x4e6726(0x3d3))),Yt=new $s[(a0_0x4e6726(0x38c))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),_e=require(a0_0x4e6726(0x59d)),Xt=M(require('mongoose')),Mo=new C('Db\x20Connection'),B=E[a0_0x4e6726(0x671)](a0_0x4e6726(0x1e4)),R=B[a0_0x4e6726(0x5ed)]?B[a0_0x4e6726(0x6f4)]['URI']?Xt[a0_0x4e6726(0x38c)]['createConnection'](B[a0_0x4e6726(0x6f4)]['URI'],{'dbName':B['CONNECTION'][a0_0x4e6726(0x3e9)]+a0_0x4e6726(0x3ca)}):Xt[a0_0x4e6726(0x38c)][a0_0x4e6726(0x4df)](a0_0x4e6726(0x3bb)+B[a0_0x4e6726(0x6f4)][a0_0x4e6726(0x73b)]+':'+B['CONNECTION'][a0_0x4e6726(0x3e5)]+a0_0x4e6726(0x30e),{'user':B[a0_0x4e6726(0x6f4)][a0_0x4e6726(0x305)],'pass':B['CONNECTION'][a0_0x4e6726(0x653)],'dbName':B[a0_0x4e6726(0x6f4)]['DB_PREFIX_NAME']+a0_0x4e6726(0x3ca)}):null;B[a0_0x4e6726(0x5ed)]&&Mo[a0_0x4e6726(0x436)](a0_0x4e6726(0x338)+R[a0_0x4e6726(0x1e8)]);var To=new _e[(a0_0x4e6726(0x1be))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Ro=new _e[(a0_0x4e6726(0x1be))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[To],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Ao=new _e[(a0_0x4e6726(0x1be))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ro,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),ks=_0x369dba=>{const _0xd78810=a0_0x4e6726;let _0x5956b3='z_'+_0x369dba+_0xd78810(0x2e4);return R?.['model'](_0xd78810(0x78e),Ao,_0x5956b3);},Ls=require(a0_0x4e6726(0x59d)),Io=new Ls['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Us=_0x4221ac=>{const _0x477620=a0_0x4e6726;let _0x47e55e='z_'+_0x4221ac+_0x477620(0x48a);return R?.['model'](_0x477620(0x794),Io,_0x47e55e);},Js=require(a0_0x4e6726(0x59d)),Oo=new Js[(a0_0x4e6726(0x1be))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':['android',a0_0x4e6726(0x482),'ios']},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Vs=_0x9dac81=>{const _0x31ba0d=a0_0x4e6726;let _0xcafce='z_'+_0x9dac81+_0x31ba0d(0x523);return R?.[_0x31ba0d(0x6fe)]('MessageModel',Oo,_0xcafce);},js=require(a0_0x4e6726(0x59d)),Zt=class{},Do=new js[(a0_0x4e6726(0x1be))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),Fs=R?.[a0_0x4e6726(0x6fe)](Zt[a0_0x4e6726(0x5a6)],Do,a0_0x4e6726(0x681)),qs=require('mongoose'),es=class{},Gs=new qs[(a0_0x4e6726(0x1be))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Gs[a0_0x4e6726(0x52e)](a0_0x4e6726(0x403),function(_0x17ad95){const _0x3a7742=a0_0x4e6726;delete this[_0x3a7742(0x3b8)],delete this[_0x3a7742(0x76d)],delete this['flowPrefixCommand'],delete this['flowStopConversation'],delete this[_0x3a7742(0x793)],_0x17ad95();});var Bs=R?.['model'](es[a0_0x4e6726(0x5a6)],Gs,'webhook'),O=require(a0_0x4e6726(0x59d)),Pe=class{},Ws=new O[(a0_0x4e6726(0x1be))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ts=new O[(a0_0x4e6726(0x1be))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),_o=new O[(a0_0x4e6726(0x1be))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x4e6726(0x57e)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x4e6726(0x620)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x4e6726(0x220)},'pollErrorMessage':{'type':String,'default':a0_0x4e6726(0x2d1)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Hs=new O['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Po=new O[(a0_0x4e6726(0x1be))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),xo=new O[(a0_0x4e6726(0x1be))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),zs=new O[(a0_0x4e6726(0x1be))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':_o},'apirequest':Po,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),rs=new O[(a0_0x4e6726(0x1be))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Ks=new O['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ss=class{},Qs=new O[(a0_0x4e6726(0x1be))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x408958=a0_0x4e6726;return _0x408958(0x400)+Math['random']()['toString'](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[rs],'variablesNotFound':{'type':[String]},'blocks':[zs],'groups':[Ws],'conditions':[Hs],'varedits':[Ks],'replyOptions':{'type':[ts],'default':[]}});Qs[a0_0x4e6726(0x52e)](a0_0x4e6726(0x403),function(_0xc95ad6){const _0xc2d522=a0_0x4e6726;let _0xb3a58a=new Set(),_0x4eb22a=new Set(this[_0xc2d522(0x74c)]?.[_0xc2d522(0x3cf)](_0x2a995d=>_0x2a995d[_0xc2d522(0x5a6)])),_0x1d96c0=JSON[_0xc2d522(0x286)](this),_0x23254e=/{{(?!_)([^}]*)}}/g,_0x51aa8d;for(;(_0x51aa8d=_0x23254e[_0xc2d522(0x281)](_0x1d96c0))!==null;)_0x4eb22a[_0xc2d522(0x68d)](_0x51aa8d[0x1])||_0xb3a58a[_0xc2d522(0x67b)](_0x51aa8d[0x1]);_0xb3a58a[_0xc2d522(0x756)]>0x0?(console[_0xc2d522(0x43e)](_0xc2d522(0x493),Array['from'](_0xb3a58a)),this[_0xc2d522(0x3a7)]=Array[_0xc2d522(0x725)](_0xb3a58a)):this[_0xc2d522(0x3a7)]=[],_0xc95ad6();});var I=R?.[a0_0x4e6726(0x6fe)](ss[a0_0x4e6726(0x5a6)],Qs,'flow'),$o=new O[(a0_0x4e6726(0x1be))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[rs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[xo]},{'_id':!0x1}),as=class{},ko=new O['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[rs],'blocks':[zs],'groups':[Ws],'conditions':[Hs],'varedits':[Ks],'replyOptions':{'type':[ts],'default':[]},'chatLog':$o,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x4e6726(0x5b4)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x4e6726(0x220)},'waitingMenu_replyOptions':{'type':[ts],'default':[]}}),U=R?.['model'](as[a0_0x4e6726(0x5a6)],ko,'flowConversation'),os=class{},Lo=new O[(a0_0x4e6726(0x1be))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Uo=new O['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Jo=new O[(a0_0x4e6726(0x1be))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x4e6726(0x644)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Uo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Lo],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),J=R?.[a0_0x4e6726(0x6fe)](os[a0_0x4e6726(0x5a6)],Jo,a0_0x4e6726(0x1dd)),is=class{},Vo=new O[(a0_0x4e6726(0x1be))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),jo=new O[(a0_0x4e6726(0x1be))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x4e6726(0x4b9)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),Fo=new O['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),qo=new O[(a0_0x4e6726(0x1be))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Fo]},'customFields':{'type':[Vo]},'flowConfig':{'type':jo,'default':{}}}),ae=R?.[a0_0x4e6726(0x6fe)](is[a0_0x4e6726(0x5a6)],qo,a0_0x4e6726(0x560)),he=require('fs'),ns=require('path'),H=class{constructor(_0xe5f7bb){const _0x5c3c96=a0_0x4e6726;this[_0x5c3c96(0x5f9)]=(0x0,ns['join'])(Y,'store'),this[_0x5c3c96(0x642)]=_0x346fba=>{const _0x30f06d=_0x5c3c96;(0x0,he[_0x30f06d(0x2ab)])(_0x346fba[_0x30f06d(0x3ee)])||(0x0,he[_0x30f06d(0x649)])(_0x346fba['path'],{'recursive':!0x0});try{return(0x0,he[_0x30f06d(0x5a5)])((0x0,ns[_0x30f06d(0x6fa)])(_0x346fba[_0x30f06d(0x3ee)],_0x346fba[_0x30f06d(0x30d)]+_0x30f06d(0x6a8)),JSON[_0x30f06d(0x286)]({..._0x346fba[_0x30f06d(0x65a)]}),{'encoding':_0x30f06d(0x59c)}),{'message':'create\x20-\x20success'};}finally{_0x346fba[_0x30f06d(0x65a)]=void 0x0;}},this['dbSettings']=_0xe5f7bb['get'](_0x5c3c96(0x1e4));}[a0_0x4e6726(0x234)](_0x491e32,_0x2cacc0=!0x1){const _0x2c57b7=a0_0x4e6726;throw new Error(_0x2c57b7(0x2c3));}[a0_0x4e6726(0x6b1)](_0x39de9f){const _0x3eeb3c=a0_0x4e6726;throw new Error(_0x3eeb3c(0x2c3));}[a0_0x4e6726(0x5f6)](_0x530ca7,_0x2d5ce6){const _0x1ce144=a0_0x4e6726;throw new Error(_0x1ce144(0x2c3));}},xe=class{},$e=class extends H{constructor(_0x13fbd1){const _0x47287b=a0_0x4e6726;super(_0x13fbd1),this[_0x47287b(0x3df)]=_0x13fbd1;}[a0_0x4e6726(0x47a)](_0x454975){return Vs(_0x454975);}async['insert'](_0x335b39){const _0x6fdb82=a0_0x4e6726;if(_0x335b39[_0x6fdb82(0x728)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x6fdb82(0x47a)](_0x335b39[0x0]['owner'])[_0x6fdb82(0x555)]([..._0x335b39]))[_0x6fdb82(0x728)]};}catch(_0x4a4919){return console[_0x6fdb82(0x262)](_0x6fdb82(0x61c),_0x4a4919),_0x4a4919;}}async[a0_0x4e6726(0x6b1)](_0x53ad4f){const _0x408748=a0_0x4e6726;try{let _0x4d346f=this[_0x408748(0x47a)](_0x53ad4f[_0x408748(0x443)][_0x408748(0x3b1)]);if(_0x53ad4f?.[_0x408748(0x443)]?.[_0x408748(0x737)]){for(let [_0x14d9b8,_0x37fe35]of Object[_0x408748(0x561)](_0x53ad4f[_0x408748(0x443)][_0x408748(0x737)]))_0x53ad4f[_0x408748(0x443)]['key.'+_0x14d9b8]=_0x37fe35;delete _0x53ad4f?.[_0x408748(0x443)]?.['key'];}return await _0x4d346f[_0x408748(0x6b1)]({..._0x53ad4f['where']})[_0x408748(0x6ca)]({'messageTimestamp':-0x1})['limit'](_0x53ad4f?.[_0x408748(0x51f)]??0x0)[_0x408748(0x766)]();}catch{return[];}}async[a0_0x4e6726(0x5f6)](_0x42e9c8){const _0x134f8d=a0_0x4e6726;try{await this['getMessageModelForOwner'](_0x42e9c8['where'][_0x134f8d(0x3b1)])[_0x134f8d(0x249)]({..._0x42e9c8[_0x134f8d(0x443)]});}catch(_0x5b3de9){console[_0x134f8d(0x4be)](_0x5b3de9);}}async[a0_0x4e6726(0x5f4)](_0x2ef804,_0x9c0def){const _0x1ddbd1=a0_0x4e6726;try{return await this[_0x1ddbd1(0x47a)](_0x2ef804['where'][_0x1ddbd1(0x3b1)])[_0x1ddbd1(0x421)]({..._0x2ef804[_0x1ddbd1(0x443)]},{'$set':_0x9c0def},{'new':!0x0});}catch(_0x4d4b61){throw console[_0x1ddbd1(0x4be)](_0x4d4b61),_0x4d4b61;}}async[a0_0x4e6726(0x555)](_0x116652){const _0x23ccc0=a0_0x4e6726;if(_0x116652[_0x23ccc0(0x728)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x23ccc0(0x47a)](_0x116652[0x0][_0x23ccc0(0x3b1)])['insertMany']([..._0x116652]))[_0x23ccc0(0x728)]};}catch(_0x3fba89){return console[_0x23ccc0(0x262)]('ERROR:\x20',_0x3fba89),_0x3fba89;}}async[a0_0x4e6726(0x405)](_0x3d4618){const _0x6f6df9=a0_0x4e6726;try{return await this[_0x6f6df9(0x47a)](_0x3d4618)[_0x6f6df9(0x67c)]['drop'](),{'success':!0x0};}catch(_0x390c03){return console[_0x6f6df9(0x4be)](_0x390c03),{'success':!0x1,'error':_0x390c03};}}},te=require('fs'),to=M(require(a0_0x4e6726(0x67f))),w=M(require(a0_0x4e6726(0x3d6))),Me=require('fs'),k=M(require(a0_0x4e6726(0x3ee))),ce=M(require(a0_0x4e6726(0x3e1))),so=require(a0_0x4e6726(0x788)),ao=M(require(a0_0x4e6726(0x1cb))),oo=M(require(a0_0x4e6726(0x210))),Ys=[a0_0x4e6726(0x50d),'documentMessage',a0_0x4e6726(0x3d5),a0_0x4e6726(0x466),a0_0x4e6726(0x665)],Xs=['ephemeralMessage',a0_0x4e6726(0x574),'viewOnceMessage','viewOnceMessageV2'],io=require('os'),At=M(require(a0_0x4e6726(0x621))),_t=require(a0_0x4e6726(0x5ac)),It=require(a0_0x4e6726(0x2f8)),pe=M(require('mongoose')),P=require(a0_0x4e6726(0x656)),fe=class{constructor(_0x4b61a4,_0x2a9288,_0xc4b854){const _0x53965c=a0_0x4e6726;this[_0x53965c(0x647)]=_0x4b61a4,this[_0x53965c(0x5fe)]=_0x2a9288,this[_0x53965c(0x5a6)]=_0xc4b854;}},ke=class{},Le=class{},Se=class{},Ue=class{},Je=class{},we=class{},Ve=class{},je=class{},Fe=class{},qe=class{},Nt=M(require(a0_0x4e6726(0x760))),Zs=require('fs'),ea=require(a0_0x4e6726(0x3ee));async function Ge(_0x1c88fc){const _0x2f7ae8=a0_0x4e6726;let _0x115733=F['waInstances'][_0x1c88fc];if(B[_0x2f7ae8(0x5ed)]){let _0x38a690=R[_0x2f7ae8(0x3cb)]()['db'](B['CONNECTION']['DB_PREFIX_NAME']+'-instances')[_0x2f7ae8(0x67c)](_0x1c88fc);return _0x115733||(await _0x38a690[_0x2f7ae8(0x6b1)]({})['toArray']())[_0x2f7ae8(0x728)]>0x0;}return _0x115733||(0x0,Zs['existsSync'])((0x0,ea['join'])(j,_0x1c88fc));}async function cs(_0x41a0c1,_0x177f15,_0x16628c){const _0x5736a8=a0_0x4e6726;if(_0x41a0c1[_0x5736a8(0x2a9)][_0x5736a8(0x351)]('/instance/create')||_0x41a0c1['originalUrl']['includes'](_0x5736a8(0x5e0))||_0x41a0c1[_0x5736a8(0x2a9)][_0x5736a8(0x351)]('/exit'))return _0x16628c();let _0x20636b=_0x41a0c1[_0x5736a8(0x5d5)];if(!_0x20636b?.['instanceName'])throw new g(_0x5736a8(0x24c));if(!await Ge(_0x20636b[_0x5736a8(0x4b3)]))throw new $(_0x5736a8(0x4e6)+_0x20636b[_0x5736a8(0x4b3)]+_0x5736a8(0x23e));_0x16628c();}async function ta(_0x47bc55,_0x2da227,_0x53abc8){const _0x46dc8c=a0_0x4e6726;if(_0x47bc55['originalUrl'][_0x46dc8c(0x351)](_0x46dc8c(0x376))){let _0x549215=_0x47bc55['body'];if(await Ge(_0x549215[_0x46dc8c(0x4b3)]))throw new oe('This\x20name\x20'+_0x549215['instanceName']+'\x20is\x20already\x20in\x20use.');F[_0x46dc8c(0x707)][_0x549215[_0x46dc8c(0x4b3)]]&&delete F[_0x46dc8c(0x707)][_0x549215[_0x46dc8c(0x4b3)]];}_0x53abc8();}var sa=require(a0_0x4e6726(0x656)),aa=M(require(a0_0x4e6726(0x6d8))),Be=a0_0x4e6726(0x6f7),Bo=new C('GUARD');async function Wo(_0x4b3802,_0x50956a,_0x36c0f1){const _0x5cf870=a0_0x4e6726;let _0x59205c=_0x4b3802[_0x5cf870(0x671)](_0x5cf870(0x3e7));if(_0x59205c&&E[_0x5cf870(0x671)](_0x5cf870(0x481))[_0x5cf870(0x4ef)][_0x5cf870(0x5ee)]!==_0x59205c)throw new ie();if(E[_0x5cf870(0x671)]('AUTHENTICATION')[_0x5cf870(0x4ef)][_0x5cf870(0x5ee)]===_0x59205c)return _0x36c0f1();if((_0x4b3802[_0x5cf870(0x2a9)]['includes'](_0x5cf870(0x376))||_0x4b3802[_0x5cf870(0x2a9)][_0x5cf870(0x351)]('/instance/fetchInstances'))&&!_0x59205c)throw new oe(_0x5cf870(0x5e2),_0x5cf870(0x432));let _0x4d56fb=E[_0x5cf870(0x671)]('AUTHENTICATION')[_0x5cf870(0x780)];try{let [_0x27adb7,_0x3812e9]=_0x4b3802[_0x5cf870(0x671)](_0x5cf870(0x4fc))[_0x5cf870(0x619)]('\x20');if(_0x27adb7['toLowerCase']()!==_0x5cf870(0x554))throw new ie();if(!(0x0,sa['isJWT'])(_0x3812e9))throw new ie();let _0x5a3095=_0x4b3802[_0x5cf870(0x5d5)],_0x1d1726=aa[_0x5cf870(0x38c)][_0x5cf870(0x45d)](_0x3812e9,_0x4d56fb[_0x5cf870(0x1aa)],{'ignoreExpiration':_0x4d56fb[_0x5cf870(0x3eb)]===0x0});if(_0x5a3095[_0x5cf870(0x4b3)]!==_0x1d1726[_0x5cf870(0x4b3)]||Be!==_0x1d1726[_0x5cf870(0x507)])throw new ie();return _0x36c0f1();}catch(_0x40b3d7){throw Bo[_0x5cf870(0x4be)](_0x40b3d7),new ie();}}async function Ho(_0x18588c,_0x402fb7,_0x7ace88){const _0x1f9c4d=a0_0x4e6726;let _0x46ec2b=E['get'](_0x1f9c4d(0x481))[_0x1f9c4d(0x4ef)],_0xdd3f58=_0x18588c[_0x1f9c4d(0x671)](_0x1f9c4d(0x3e7));if(_0x46ec2b[_0x1f9c4d(0x5ee)]===_0xdd3f58)return _0x7ace88();if(_0x18588c[_0x1f9c4d(0x2a9)][_0x1f9c4d(0x351)](_0x1f9c4d(0x376))){let _0x23e08c=E[_0x1f9c4d(0x671)](_0x1f9c4d(0x59b)),_0x3568b9=_0x18588c[_0x1f9c4d(0x6c5)][_0x1f9c4d(0x4b3)];if(_0x23e08c&&_0x3568b9[_0x1f9c4d(0x552)]()[_0x1f9c4d(0x600)](_0x23e08c[_0x1f9c4d(0x552)]()))return _0x7ace88();if(!_0xdd3f58)throw new oe(_0x1f9c4d(0x5e2),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x18588c[_0x1f9c4d(0x2a9)][_0x1f9c4d(0x351)](_0x1f9c4d(0x5e0))&&!_0xdd3f58)throw new oe(_0x1f9c4d(0x5e2),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x18588c[_0x1f9c4d(0x2a9)][_0x1f9c4d(0x351)](_0x1f9c4d(0x56a))&&!_0xdd3f58)throw new oe(_0x1f9c4d(0x5e2),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x18e68d=_0x18588c[_0x1f9c4d(0x5d5)];if((await le[_0x1f9c4d(0x789)][_0x1f9c4d(0x6b1)](_0x18e68d[_0x1f9c4d(0x4b3)]))[_0x1f9c4d(0x3e7)]===_0xdd3f58)return _0x7ace88();}catch{}throw new ie();}var oa={'jwt':Wo,'apikey':Ho},Ja=require(a0_0x4e6726(0x760)),v=require(a0_0x4e6726(0x788)),b=(..._0x2b7bbd)=>{const _0x418a4c=a0_0x4e6726;let _0x4b7974={};return _0x2b7bbd[_0x418a4c(0x655)](_0xb665b=>_0x4b7974[_0xb665b]={'minLength':0x1,'description':_0x418a4c(0x6e1)+_0xb665b+_0x418a4c(0x269)}),{'if':{'propertyNames':{'enum':[..._0x2b7bbd]}},'then':{'properties':_0x4b7974}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'instanceName':{'type':a0_0x4e6726(0x362)}},...b(a0_0x4e6726(0x4b3))},ia={'$id':(0x0,v['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x4e6726(0x362)}},'required':['oldToken'],...b(a0_0x4e6726(0x5f7))},wn={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x4e6726(0x362)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4e6726(0x719),a0_0x4e6726(0x346)],...b('id',a0_0x4e6726(0x719))},'message':{'type':a0_0x4e6726(0x390)}}},X={'properties':{'delay':{'type':a0_0x4e6726(0x6ea),'description':a0_0x4e6726(0x3fd)},'presence':{'type':a0_0x4e6726(0x362),'enum':['unavailable',a0_0x4e6726(0x1ad),a0_0x4e6726(0x6be),a0_0x4e6726(0x696),a0_0x4e6726(0x453)]}}},Q={'type':a0_0x4e6726(0x362),'pattern':a0_0x4e6726(0x480),'description':a0_0x4e6726(0x49c)},ra={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'number':{...Q},'options':{...X},'textMessage':{'type':a0_0x4e6726(0x390),'properties':{'text':{'type':a0_0x4e6726(0x362)}},'required':[a0_0x4e6726(0x4d2)],...b(a0_0x4e6726(0x4d2))}},'required':[a0_0x4e6726(0x3d4),a0_0x4e6726(0x440)]},na={'type':a0_0x4e6726(0x362),'pattern':a0_0x4e6726(0x71b),'description':'Invalid\x20format'},yn={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'number':{...na},'options':{...X},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':[a0_0x4e6726(0x4d2)],...b(a0_0x4e6726(0x4d2))}},'required':[a0_0x4e6726(0x3d4),a0_0x4e6726(0x440)]},bn={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'number':{...na},'options':{...X},'mediaMessage':{'type':a0_0x4e6726(0x390),'properties':{'mediatype':{'type':a0_0x4e6726(0x362),'enum':['image',a0_0x4e6726(0x58b),'video','audio']},'media':{'type':a0_0x4e6726(0x362)},'fileName':{'type':a0_0x4e6726(0x362)},'caption':{'type':a0_0x4e6726(0x362)}},'required':[a0_0x4e6726(0x6ad),a0_0x4e6726(0x2e2)],...b(a0_0x4e6726(0x30d),a0_0x4e6726(0x5c1),'media')}},'required':[a0_0x4e6726(0x65c),'number']},ca={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'number':{...Q},'options':{...X},'stickerMessage':{'type':a0_0x4e6726(0x390),'properties':{'image':{'type':a0_0x4e6726(0x362)}},'required':[a0_0x4e6726(0x236)],...b(a0_0x4e6726(0x236))}},'required':[a0_0x4e6726(0x665),a0_0x4e6726(0x440)]},la={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x4e6726(0x362),'enum':[a0_0x4e6726(0x4d2),a0_0x4e6726(0x236),'audio','video']},'content':{'type':a0_0x4e6726(0x362)},'caption':{'type':'string'},'backgroundColor':{'type':a0_0x4e6726(0x362)},'font':{'type':a0_0x4e6726(0x6ea),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x4e6726(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x4e6726(0x771),'description':a0_0x4e6726(0x501)}},'allContacts':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]}},'required':[a0_0x4e6726(0x5ec),'content'],...b('type',a0_0x4e6726(0x5fc))}},'required':['statusMessage']},ua={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'number':{...Q},'options':{...X},'mediaMessage':{'type':a0_0x4e6726(0x390),'properties':{'mediatype':{'type':a0_0x4e6726(0x362),'enum':[a0_0x4e6726(0x236),'document',a0_0x4e6726(0x55b),a0_0x4e6726(0x528)]},'media':{'type':a0_0x4e6726(0x362)},'fileName':{'type':a0_0x4e6726(0x362)},'caption':{'type':a0_0x4e6726(0x362)}},'required':[a0_0x4e6726(0x6ad),'media'],...b(a0_0x4e6726(0x30d),a0_0x4e6726(0x5c1),a0_0x4e6726(0x2e2))}},'required':['mediaMessage',a0_0x4e6726(0x440)]},da={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'number':{...Q},'options':{...X},'audioMessage':{'type':a0_0x4e6726(0x390),'properties':{'audio':{'type':a0_0x4e6726(0x362)}},'required':[a0_0x4e6726(0x528)],...b(a0_0x4e6726(0x528))}},'required':['audioMessage',a0_0x4e6726(0x440)]},pa={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'number':{...Q},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x4e6726(0x362)},'selectableCount':{'type':a0_0x4e6726(0x440)},'values':{'type':a0_0x4e6726(0x1b0),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4e6726(0x5a6),a0_0x4e6726(0x783),a0_0x4e6726(0x485)],...b('name',a0_0x4e6726(0x783),a0_0x4e6726(0x485))}},'required':['number',a0_0x4e6726(0x43b)]},ga={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'number':{...Q},'menuMessage':{'type':a0_0x4e6726(0x390),'properties':{'text':{'type':a0_0x4e6726(0x362)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4e6726(0x4d2),a0_0x4e6726(0x685)],...b(a0_0x4e6726(0x4d2),'choices')}},'required':[a0_0x4e6726(0x440),a0_0x4e6726(0x1f1)]},ma={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'number':{...Q},'options':{...X},'buttonMessage':{'type':a0_0x4e6726(0x390),'properties':{'title':{'type':'string'},'description':{'type':a0_0x4e6726(0x362)},'footerText':{'type':a0_0x4e6726(0x362)},'buttons':{'type':a0_0x4e6726(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x4e6726(0x362)},'buttonId':{'type':a0_0x4e6726(0x362)}},'required':['buttonText',a0_0x4e6726(0x62a)],...b(a0_0x4e6726(0x2aa),a0_0x4e6726(0x62a))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x4e6726(0x362)},'fileName':{'type':a0_0x4e6726(0x362)},'mediatype':{'type':a0_0x4e6726(0x362),'enum':[a0_0x4e6726(0x236),'document',a0_0x4e6726(0x55b)]}},'required':[a0_0x4e6726(0x2e2),a0_0x4e6726(0x6ad)],...b(a0_0x4e6726(0x2e2),a0_0x4e6726(0x30d))}},'required':[a0_0x4e6726(0x1fc),a0_0x4e6726(0x610)],...b(a0_0x4e6726(0x1fc),a0_0x4e6726(0x3a5))}},'required':['number',a0_0x4e6726(0x6da)]},ha={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'number':{...Q},'options':{...X},'locationMessage':{'type':'object','properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x4e6726(0x440)},'name':{'type':a0_0x4e6726(0x362)},'address':{'type':a0_0x4e6726(0x362)}},'required':[a0_0x4e6726(0x58e),a0_0x4e6726(0x3fe)],...b(a0_0x4e6726(0x5a6),'addresss')}},'required':[a0_0x4e6726(0x440),a0_0x4e6726(0x651)]},fa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Q},'options':{...X},'listMessage':{'type':a0_0x4e6726(0x390),'properties':{'title':{'type':a0_0x4e6726(0x362)},'description':{'type':a0_0x4e6726(0x362)},'footerText':{'type':a0_0x4e6726(0x362)},'buttonText':{'type':a0_0x4e6726(0x362)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4e6726(0x390),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x4e6726(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4e6726(0x390),'properties':{'title':{'type':'string'},'description':{'type':a0_0x4e6726(0x362)},'rowId':{'type':a0_0x4e6726(0x362)}},'required':[a0_0x4e6726(0x1fc),'rowId'],...b('title','rowId')}}},'required':['title',a0_0x4e6726(0x394)],...b(a0_0x4e6726(0x1fc))}}},'required':[a0_0x4e6726(0x1fc),a0_0x4e6726(0x3a5),a0_0x4e6726(0x2aa),a0_0x4e6726(0x1c9)],...b(a0_0x4e6726(0x1fc),a0_0x4e6726(0x3a5),'buttonText','footerText')}},'required':[a0_0x4e6726(0x440),a0_0x4e6726(0x2a1)]},wa={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'number':{...Q},'options':{...X},'contactMessage':{'type':a0_0x4e6726(0x1b0),'items':{'type':'object','properties':{'fullName':{'type':a0_0x4e6726(0x362)},'phoneNumber':{'type':a0_0x4e6726(0x362),'minLength':0xa}},'required':[a0_0x4e6726(0x5ad),a0_0x4e6726(0x22f)],...b('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x4e6726(0x440),a0_0x4e6726(0x61f)]},ya={'$id':(0x0,v['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x4e6726(0x390),'properties':{'key':{'type':a0_0x4e6726(0x390),'properties':{'id':{'type':a0_0x4e6726(0x362)},'remoteJid':{'type':a0_0x4e6726(0x362)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x4e6726(0x719),a0_0x4e6726(0x346)],...b('id',a0_0x4e6726(0x719))},'reaction':{'type':a0_0x4e6726(0x362)}},'required':[a0_0x4e6726(0x737),a0_0x4e6726(0x4f3)],...b(a0_0x4e6726(0x4f3))}},'required':[a0_0x4e6726(0x479)]},ba={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'numbers':{'type':a0_0x4e6726(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4e6726(0x362),'pattern':a0_0x4e6726(0x771),'description':a0_0x4e6726(0x51b)}}}},Sa={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'readMessages':{'type':a0_0x4e6726(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x4e6726(0x362)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4e6726(0x362)}},'required':['id','fromMe',a0_0x4e6726(0x719)],...b('id',a0_0x4e6726(0x719))}}},'required':[a0_0x4e6726(0x787)]},Ea={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'privacySettings':{'type':a0_0x4e6726(0x390),'properties':{'readreceipts':{'type':a0_0x4e6726(0x362),'enum':[a0_0x4e6726(0x21b),a0_0x4e6726(0x1c6)]},'profile':{'type':'string','enum':[a0_0x4e6726(0x21b),a0_0x4e6726(0x4d9),'contact_blacklist',a0_0x4e6726(0x1c6)]},'status':{'type':a0_0x4e6726(0x362),'enum':[a0_0x4e6726(0x21b),a0_0x4e6726(0x4d9),a0_0x4e6726(0x52d),'none']},'online':{'type':a0_0x4e6726(0x362),'enum':[a0_0x4e6726(0x21b),'match_last_seen']},'last':{'type':a0_0x4e6726(0x362),'enum':['all','contacts',a0_0x4e6726(0x52d),a0_0x4e6726(0x1c6)]},'groupadd':{'type':a0_0x4e6726(0x362),'enum':[a0_0x4e6726(0x21b),'contacts',a0_0x4e6726(0x52d),a0_0x4e6726(0x1c6)]}},'required':['readreceipts',a0_0x4e6726(0x533),'status','online',a0_0x4e6726(0x221),a0_0x4e6726(0x582)],...b(a0_0x4e6726(0x662),a0_0x4e6726(0x533),a0_0x4e6726(0x23b),a0_0x4e6726(0x6ec),a0_0x4e6726(0x221),a0_0x4e6726(0x582))}},'required':[a0_0x4e6726(0x4eb)]},va={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'lastMessage':{'type':a0_0x4e6726(0x390),'properties':{'key':{'type':a0_0x4e6726(0x390),'properties':{'id':{'type':a0_0x4e6726(0x362)},'remoteJid':{'type':a0_0x4e6726(0x362)},'fromMe':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4e6726(0x346),a0_0x4e6726(0x719)],...b('id',a0_0x4e6726(0x719))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x4e6726(0x737)],...b(a0_0x4e6726(0x55c))},'archive':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]}},'required':[a0_0x4e6726(0x1b8),'archive']},Na={'$id':(0x0,v['v4'])(),'type':'object','properties':{'id':{'type':a0_0x4e6726(0x362)},'fromMe':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4e6726(0x362)},'participant':{'type':a0_0x4e6726(0x362)}},'required':['id',a0_0x4e6726(0x346),a0_0x4e6726(0x719)],...b('id',a0_0x4e6726(0x719),a0_0x4e6726(0x1ed))},Ca={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'where':{'type':a0_0x4e6726(0x390),'properties':{'_id':{'type':a0_0x4e6726(0x362),'minLength':0x1},'pushName':{'type':a0_0x4e6726(0x362),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...b(a0_0x4e6726(0x5fb),'id',a0_0x4e6726(0x407))}}},Ma={'$id':(0x0,v['v4'])(),'type':'object','properties':{'name':{'type':a0_0x4e6726(0x362)}},...b(a0_0x4e6726(0x5a6))},Ta={'$id':(0x0,v['v4'])(),'type':'object','properties':{'status':{'type':a0_0x4e6726(0x362)}},...b(a0_0x4e6726(0x23b))},Ee={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'number':{'type':'string'},'picture':{'type':'string'}}},Ra={'type':a0_0x4e6726(0x390),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x4e6726(0x362)},'picture':{'type':a0_0x4e6726(0x362)},'status':{'type':a0_0x4e6726(0x362)},'isBusiness':{'type':a0_0x4e6726(0x301)}}},Aa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x4e6726(0x390),'if':{'propertyNames':{'enum':['fromMe',a0_0x4e6726(0x719),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x4e6726(0x362),'minLength':0x1,'description':a0_0x4e6726(0x289)},'id':{'type':a0_0x4e6726(0x362),'minLength':0x1,'description':a0_0x4e6726(0x289)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x4e6726(0x390)}},...b(a0_0x4e6726(0x5fb))},'limit':{'type':a0_0x4e6726(0x6ea)}}},Sn={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x4e6726(0x362)},'remoteJid':{'type':a0_0x4e6726(0x362)},'id':{'type':a0_0x4e6726(0x362)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x4e6726(0x362)},'status':{'type':'string','enum':[a0_0x4e6726(0x257),a0_0x4e6726(0x59a),a0_0x4e6726(0x237),a0_0x4e6726(0x758),a0_0x4e6726(0x20f),'PLAYED']}},...b(a0_0x4e6726(0x5fb),a0_0x4e6726(0x719),'id','status')},'limit':{'type':a0_0x4e6726(0x6ea)}}},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'number':{...Q},'presence':{'type':a0_0x4e6726(0x362),'enum':[a0_0x4e6726(0x39c),'available',a0_0x4e6726(0x6be),a0_0x4e6726(0x696),a0_0x4e6726(0x453)]}},'required':[a0_0x4e6726(0x63a),a0_0x4e6726(0x440)]},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'subject':{'type':a0_0x4e6726(0x362)},'description':{'type':a0_0x4e6726(0x362)},'profilePicture':{'type':a0_0x4e6726(0x362)},'participants':{'type':a0_0x4e6726(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4e6726(0x362),'minLength':0xa,'pattern':a0_0x4e6726(0x435),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject',a0_0x4e6726(0x2b1)],...b('subject',a0_0x4e6726(0x3a5),'profilePicture')},ve={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'groupJid':{'type':a0_0x4e6726(0x362),'pattern':a0_0x4e6726(0x599)}},'required':['groupJid'],...b('groupJid')},Da={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x4e6726(0x362),'enum':[a0_0x4e6726(0x67b),a0_0x4e6726(0x1b4),'promote',a0_0x4e6726(0x304)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4e6726(0x362),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x4e6726(0x75e)}}},'required':[a0_0x4e6726(0x796),a0_0x4e6726(0x30c),a0_0x4e6726(0x2b1)],...b(a0_0x4e6726(0x796),a0_0x4e6726(0x30c))},_a={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x4e6726(0x440),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x4e6726(0x796),a0_0x4e6726(0x3b3)],...b(a0_0x4e6726(0x796),a0_0x4e6726(0x3b3))},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'groupJid':{'type':a0_0x4e6726(0x362)},'image':{'type':'string'}},'required':[a0_0x4e6726(0x796),a0_0x4e6726(0x236)],...b('groupJid',a0_0x4e6726(0x236))},xa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4e6726(0x362)},'description':{'type':'string'}},'required':[a0_0x4e6726(0x796),a0_0x4e6726(0x3a5)],...b(a0_0x4e6726(0x796),'description')},$a={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'groupJid':{'type':a0_0x4e6726(0x362)},'name':{'type':a0_0x4e6726(0x362)}},'required':[a0_0x4e6726(0x796),'name'],...b(a0_0x4e6726(0x796),a0_0x4e6726(0x5a6))},ka={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4e6726(0x362)},'setting':{'type':a0_0x4e6726(0x362),'enum':[a0_0x4e6726(0x670),a0_0x4e6726(0x2f4),a0_0x4e6726(0x5f5),'locked']}},'required':['groupJid',a0_0x4e6726(0x657)],...b(a0_0x4e6726(0x796),a0_0x4e6726(0x657))},La={'$id':(0x0,v['v4'])(),'type':'object','properties':{'inviteCode':{'type':'string'}},'required':[a0_0x4e6726(0x471)],...b(a0_0x4e6726(0x471))},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'url':{'type':a0_0x4e6726(0x362)},'enabled':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]}},'required':[a0_0x4e6726(0x70d),'enabled']},En={'$id':(0x0,v['v4'])(),'type':a0_0x4e6726(0x390),'properties':{'local_map':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x4e6726(0x301),'enum':[!0x0,!0x1]}},'required':[a0_0x4e6726(0x63c),'STATUS_INSTANCE',a0_0x4e6726(0x74e),a0_0x4e6726(0x543),'MESSAGES_UPDATE',a0_0x4e6726(0x60a),a0_0x4e6726(0x547),a0_0x4e6726(0x317),a0_0x4e6726(0x633),a0_0x4e6726(0x2d3),a0_0x4e6726(0x51c),'CHATS_SET',a0_0x4e6726(0x6d1),a0_0x4e6726(0x6c1),a0_0x4e6726(0x56e),a0_0x4e6726(0x622),a0_0x4e6726(0x6d9),'GROUPS_UPDATE',a0_0x4e6726(0x384)],...b(a0_0x4e6726(0x63c),a0_0x4e6726(0x693),'QRCODE_UPDATED',a0_0x4e6726(0x543),a0_0x4e6726(0x5c2),a0_0x4e6726(0x60a),a0_0x4e6726(0x547),'CONTACTS_SET',a0_0x4e6726(0x633),a0_0x4e6726(0x2d3),a0_0x4e6726(0x51c),a0_0x4e6726(0x5b2),'CHATS_UPSERT',a0_0x4e6726(0x6c1),a0_0x4e6726(0x56e),'CONNECTION_UPDATE',a0_0x4e6726(0x6d9),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE')},We=class{},He=class extends H{constructor(_0x2de56b){const _0x23ab23=a0_0x4e6726;super(_0x2de56b),this[_0x23ab23(0x3df)]=_0x2de56b;}[a0_0x4e6726(0x204)](_0xc00e15){return Us(_0xc00e15);}async[a0_0x4e6726(0x234)](_0x638e93){const _0x5a4555=a0_0x4e6726;if(_0x638e93[_0x5a4555(0x728)]!==0x0)try{return{'insertCount':(await this[_0x5a4555(0x204)](_0x638e93[0x0][_0x5a4555(0x3b1)])[_0x5a4555(0x555)]([..._0x638e93]))['length']};}catch(_0x15dd63){return _0x15dd63;}}async[a0_0x4e6726(0x5f6)](_0x1ac71f){const _0x3f666b=a0_0x4e6726;try{return{'deletedCount':(await this[_0x3f666b(0x204)](_0x1ac71f[_0x3f666b(0x443)][_0x3f666b(0x3b1)])[_0x3f666b(0x249)]({..._0x1ac71f[_0x3f666b(0x443)]}))[_0x3f666b(0x53b)]};}catch(_0x55e886){return{'error':_0x55e886?.[_0x3f666b(0x594)]()};}}async[a0_0x4e6726(0x5f4)](_0x4d323a,_0x570f4b){const _0x3603ea=a0_0x4e6726;try{if(_0x4d323a[_0x3603ea(0x728)]===0x0)return;let _0x1111fa=this['getContactModelForOwner'](_0x570f4b),_0x452241=_0x4d323a[_0x3603ea(0x3cf)](_0x5196b8=>({'updateOne':{'filter':{'_id':_0x5196b8[_0x3603ea(0x5fb)],'owner':_0x570f4b},'update':{..._0x5196b8}}})),{modifiedCount:_0x1f3555}=await _0x1111fa[_0x3603ea(0x682)](_0x452241);return{'insertCount':_0x1f3555};}catch{return;}}async['find'](_0x35773b){const _0x13c05b=a0_0x4e6726;try{return await this[_0x13c05b(0x204)](_0x35773b[_0x13c05b(0x443)][_0x13c05b(0x3b1)])[_0x13c05b(0x6b1)]({..._0x35773b[_0x13c05b(0x443)]})[_0x13c05b(0x51f)](_0x35773b?.['limit']??0x0)[_0x13c05b(0x766)]();}catch{return[];}}async[a0_0x4e6726(0x350)](_0x431829){const _0x31ae41=a0_0x4e6726;try{return await this[_0x31ae41(0x204)](_0x431829[_0x31ae41(0x443)][_0x31ae41(0x3b1)])[_0x31ae41(0x350)]({..._0x431829['where']})[_0x31ae41(0x766)]();}catch{return null;}}async[a0_0x4e6726(0x405)](_0x3fef1f){const _0x324793=a0_0x4e6726;try{return await this['getContactModelForOwner'](_0x3fef1f)[_0x324793(0x67c)]['drop'](),{'success':!0x0};}catch(_0x25618d){return console[_0x324793(0x4be)](_0x25618d),{'success':!0x1,'error':_0x25618d};}}},ze=require('jsonschema'),In=require(a0_0x4e6726(0x2dc)),ls=new C('Validate'),L=class{constructor(){}['routerPath'](_0x28115e,_0x5f39f3=!0x0){const _0x5edeaf=a0_0x4e6726;let _0xc1f953='/'+_0x28115e;return _0x5f39f3&&(_0xc1f953+=_0x5edeaf(0x77b)),_0xc1f953;}async[a0_0x4e6726(0x369)](_0x241e67){const _0x374537=a0_0x4e6726;let {request:_0x437c64,schema:_0x251d70,ClassRef:_0x3f459e,execute:_0x239096}=_0x241e67,_0x5b2d38=new _0x3f459e(),_0x27aa57=_0x437c64['body'],_0x53702e=_0x437c64[_0x374537(0x5d5)];_0x437c64?.[_0x374537(0x70e)]&&Object[_0x374537(0x2d7)](_0x437c64['query'])[_0x374537(0x728)]>0x0&&Object[_0x374537(0x3b2)](_0x53702e,_0x437c64['query']),_0x437c64['originalUrl']['includes'](_0x374537(0x376))&&Object[_0x374537(0x3b2)](_0x53702e,_0x27aa57),Object[_0x374537(0x3b2)](_0x5b2d38,_0x27aa57);let _0x385cbd=_0x251d70?(0x0,ze['validate'])(_0x5b2d38,_0x251d70):{'valid':!0x0,'errors':[]};if(!_0x385cbd[_0x374537(0x4a3)]){let _0x50693e=_0x385cbd['errors'][_0x374537(0x3cf)](({property:_0x5a8b2d,stack:_0x104613,schema:_0x28477f})=>{const _0x3acd58=_0x374537;let _0x678faa;return _0x28477f['description']?_0x678faa=_0x28477f[_0x3acd58(0x3a5)]:_0x678faa=_0x104613[_0x3acd58(0x1d9)](_0x3acd58(0x64f),''),{'property':_0x5a8b2d[_0x3acd58(0x1d9)]('instance.',''),'message':_0x678faa};});throw ls[_0x374537(0x4be)]([..._0x50693e]),new g(..._0x50693e);}return await _0x239096(_0x53702e,_0x5b2d38);}async[a0_0x4e6726(0x388)](_0xf79ee){const _0x33ccba=a0_0x4e6726;let {request:_0xa4010d,ClassRef:_0x5496fe,schema:_0x33b61d,execute:_0x1155f7}=_0xf79ee,_0x173a6e=_0xa4010d[_0x33ccba(0x70e)];if(!_0x173a6e?.[_0x33ccba(0x796)])throw new g('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x33ccba(0x1af));let _0x4add1=_0xa4010d[_0x33ccba(0x5d5)],_0xac59e3=_0xa4010d[_0x33ccba(0x6c5)],_0x493690=new _0x5496fe();Object['assign'](_0xac59e3,_0x173a6e),Object['assign'](_0x493690,_0xac59e3);let _0x19df5a=(0x0,ze['validate'])(_0x493690,_0x33b61d);if(!_0x19df5a['valid']){let _0x536106=_0x19df5a[_0x33ccba(0x572)][_0x33ccba(0x3cf)](({property:_0x2daa96,stack:_0x482f53,schema:_0x353d9d})=>{const _0xbcd1d4=_0x33ccba;let _0x458a9b;return _0x353d9d['description']?_0x458a9b=_0x353d9d[_0xbcd1d4(0x3a5)]:_0x458a9b=_0x482f53[_0xbcd1d4(0x1d9)](_0xbcd1d4(0x64f),''),{'property':_0x2daa96[_0xbcd1d4(0x1d9)](_0xbcd1d4(0x64f),''),'message':_0x458a9b};});throw ls[_0x33ccba(0x4be)]([..._0x536106]),new g(..._0x536106);}return await _0x1155f7(_0x4add1,_0x493690);}async[a0_0x4e6726(0x60b)](_0x4c7866){const _0xd7a5ad=a0_0x4e6726;let {request:_0x49873e,ClassRef:_0x352933,schema:_0x4bef55,execute:_0x520eda}=_0x4c7866,_0x4b2698=_0x49873e[_0xd7a5ad(0x6c5)];if(!_0x4b2698?.[_0xd7a5ad(0x471)])throw new g(_0xd7a5ad(0x427),_0xd7a5ad(0x352));let _0x5a8d50=_0x49873e[_0xd7a5ad(0x5d5)],_0x1790e1=_0x49873e['body'],_0x25eb2c=new _0x352933();Object[_0xd7a5ad(0x3b2)](_0x1790e1,_0x4b2698),Object[_0xd7a5ad(0x3b2)](_0x25eb2c,_0x1790e1);let _0x4c92cf=(0x0,ze[_0xd7a5ad(0x49f)])(_0x25eb2c,_0x4bef55);if(!_0x4c92cf['valid']){let _0x33a32b=_0x4c92cf[_0xd7a5ad(0x572)][_0xd7a5ad(0x3cf)](({property:_0x78a8d7,stack:_0x44d499,schema:_0x4f070c})=>{const _0x4656b2=_0xd7a5ad;let _0x42ec45;return _0x4f070c[_0x4656b2(0x3a5)]?_0x42ec45=_0x4f070c[_0x4656b2(0x3a5)]:_0x42ec45=_0x44d499[_0x4656b2(0x1d9)](_0x4656b2(0x64f),''),{'property':_0x78a8d7[_0x4656b2(0x1d9)](_0x4656b2(0x64f),''),'message':_0x42ec45};});throw ls[_0xd7a5ad(0x4be)]([..._0x33a32b]),new g(..._0x33a32b);}return await _0x520eda(_0x5a8d50,_0x25eb2c);}},S=class{},Ke=class extends L{constructor(..._0x114911){const _0x3294bf=a0_0x4e6726;super(),this[_0x3294bf(0x75f)]=(0x0,Ja[_0x3294bf(0x2bf)])(),this['router'][_0x3294bf(0x2fe)](this[_0x3294bf(0x66e)]('updatePresence'),..._0x114911,async(_0x1c964c,_0x14a470)=>{const _0x55fbc4=_0x3294bf;let _0x3bffba=await this[_0x55fbc4(0x369)]({'request':_0x1c964c,'schema':Ia,'ClassRef':ke,'execute':(_0x1001cd,_0x5d66da)=>D[_0x55fbc4(0x6dc)](_0x1001cd,_0x5d66da)});return _0x14a470['status'](0xc9)[_0x55fbc4(0x25f)](_0x3bffba);})[_0x3294bf(0x2fe)](this['routerPath'](_0x3294bf(0x61e)),..._0x114911,async(_0x14389c,_0x15d01f)=>{const _0x4f69ae=_0x3294bf;let _0x3d71fe=await this[_0x4f69ae(0x369)]({'request':_0x14389c,'schema':ba,'ClassRef':Le,'execute':(_0x2d3559,_0x428d19)=>D[_0x4f69ae(0x5e1)](_0x2d3559,_0x428d19)});return _0x15d01f['status'](0xc9)['json'](_0x3d71fe);})[_0x3294bf(0x2fe)](this['routerPath'](_0x3294bf(0x70f)),..._0x114911,async(_0x1e739a,_0x47b126)=>{const _0x3385d6=_0x3294bf;let _0x5c95a9=await this[_0x3385d6(0x369)]({'request':_0x1e739a,'schema':N,'ClassRef':S,'execute':(_0x59b1c3,_0x1e492e)=>D[_0x3385d6(0x70f)](_0x59b1c3,_0x1e492e)});return _0x47b126[_0x3385d6(0x23b)](0xc9)[_0x3385d6(0x25f)](_0x5c95a9);})[_0x3294bf(0x5b1)](this[_0x3294bf(0x66e)]('markMessageAsRead'),..._0x114911,async(_0xb6b46c,_0x392ea5)=>{const _0x171d4b=_0x3294bf;let _0x3ea5db=await this[_0x171d4b(0x369)]({'request':_0xb6b46c,'schema':Sa,'ClassRef':Ve,'execute':(_0x4b3eb6,_0x4ad9ce)=>D[_0x171d4b(0x4ec)](_0x4b3eb6,_0x4ad9ce)});return _0x392ea5['status'](0xc9)[_0x171d4b(0x25f)](_0x3ea5db);})[_0x3294bf(0x5b1)](this[_0x3294bf(0x66e)](_0x3294bf(0x3be)),..._0x114911,async(_0x3bf25f,_0x1dbd92)=>{const _0xfebd5d=_0x3294bf;let _0x16b803=await this['dataValidate']({'request':_0x3bf25f,'schema':va,'ClassRef':je,'execute':(_0xa07543,_0x38e9c7)=>D['archiveChat'](_0xa07543,_0x38e9c7)});return _0x1dbd92['status'](0xc9)[_0xfebd5d(0x25f)](_0x16b803);})[_0x3294bf(0x5f6)](this[_0x3294bf(0x66e)](_0x3294bf(0x3f9)),..._0x114911,async(_0x5a7b97,_0x3755be)=>{const _0x4ab8c6=_0x3294bf;let _0x3cb755=await this[_0x4ab8c6(0x369)]({'request':_0x5a7b97,'schema':Na,'ClassRef':qe,'execute':(_0x171c56,_0x317030)=>D[_0x4ab8c6(0x778)](_0x171c56,_0x317030)});return _0x3755be[_0x4ab8c6(0x23b)](0xc9)[_0x4ab8c6(0x25f)](_0x3cb755);})['post'](this[_0x3294bf(0x66e)](_0x3294bf(0x430)),..._0x114911,async(_0x3c8b92,_0x1deace)=>{const _0x595eb8=_0x3294bf;let _0x524cb5=await this[_0x595eb8(0x369)]({'request':_0x3c8b92,'schema':Ee,'ClassRef':Se,'execute':(_0x102d68,_0x3186a5)=>D[_0x595eb8(0x67e)](_0x102d68,_0x3186a5)});return _0x1deace[_0x595eb8(0x23b)](0xc8)[_0x595eb8(0x25f)](_0x524cb5);})[_0x3294bf(0x2fe)](this[_0x3294bf(0x66e)](_0x3294bf(0x609)),..._0x114911,async(_0x28950b,_0x1e45f7)=>{const _0x273eba=_0x3294bf;let _0x3fcde5=await this['dataValidate']({'request':_0x28950b,'schema':Ra,'ClassRef':Se,'execute':(_0x5c589b,_0x591203)=>D[_0x273eba(0x609)](_0x5c589b,_0x591203)});return _0x1e45f7[_0x273eba(0x23b)](0xc8)[_0x273eba(0x25f)](_0x3fcde5);})[_0x3294bf(0x2fe)](this[_0x3294bf(0x66e)](_0x3294bf(0x439)),..._0x114911,async(_0x5ac406,_0xc672c7)=>{const _0x1f9bba=_0x3294bf;let _0x3c275d=await this[_0x1f9bba(0x369)]({'request':_0x5ac406,'schema':Ca,'ClassRef':We,'execute':(_0x156304,_0x3a8653)=>D[_0x1f9bba(0x48d)](_0x156304,_0x3a8653)});return _0xc672c7[_0x1f9bba(0x23b)](0xc8)[_0x1f9bba(0x25f)](_0x3c275d);})[_0x3294bf(0x2fe)](this[_0x3294bf(0x66e)](_0x3294bf(0x355)),..._0x114911,async(_0x2b3f15,_0x31e1ee)=>{const _0x22d419=_0x3294bf;let _0x5d9429=await this[_0x22d419(0x369)]({'request':_0x2b3f15,'schema':null,'ClassRef':Object,'execute':(_0x5b6934,_0x5e0cdd)=>D[_0x22d419(0x355)](_0x5b6934,_0x5e0cdd)});return _0x31e1ee['status'](0xc9)[_0x22d419(0x25f)](_0x5d9429);})[_0x3294bf(0x2fe)](this[_0x3294bf(0x66e)](_0x3294bf(0x22d)),..._0x114911,async(_0x64fe6f,_0x1fd9be)=>{const _0x5247d3=_0x3294bf;let _0x439dd6=await this['dataValidate']({'request':_0x64fe6f,'schema':Aa,'ClassRef':xe,'execute':(_0x575109,_0x27299d)=>D[_0x5247d3(0x1d7)](_0x575109,_0x27299d)});return _0x1fd9be['status'](0xc8)[_0x5247d3(0x25f)](_0x439dd6);})[_0x3294bf(0x671)](this[_0x3294bf(0x66e)](_0x3294bf(0x761)),..._0x114911,async(_0x752425,_0x330a22)=>{const _0x3f2348=_0x3294bf;let _0x5bb489=await this['dataValidate']({'request':_0x752425,'schema':null,'ClassRef':S,'execute':_0x178b2f=>D[_0x3f2348(0x1c7)](_0x178b2f)});return _0x330a22[_0x3f2348(0x23b)](0xc8)[_0x3f2348(0x25f)](_0x5bb489);})[_0x3294bf(0x671)](this['routerPath'](_0x3294bf(0x667)),..._0x114911,async(_0x1fa0a5,_0x2199f7)=>{const _0x10dba0=_0x3294bf;let _0x54e0bc=await this['dataValidate']({'request':_0x1fa0a5,'schema':null,'ClassRef':S,'execute':_0x31218c=>D[_0x10dba0(0x667)](_0x31218c)});return _0x2199f7['status'](0xc8)[_0x10dba0(0x25f)](_0x54e0bc);})[_0x3294bf(0x5b1)](this['routerPath'](_0x3294bf(0x2d8)),..._0x114911,async(_0x434fbb,_0x2efce2)=>{const _0x57edfa=_0x3294bf;let _0x4045de=await this['dataValidate']({'request':_0x434fbb,'schema':Ea,'ClassRef':Fe,'execute':(_0x195ae6,_0x1cae61)=>D[_0x57edfa(0x2d8)](_0x195ae6,_0x1cae61)});return _0x2efce2[_0x57edfa(0x23b)](0xc9)['json'](_0x4045de);})[_0x3294bf(0x2fe)](this[_0x3294bf(0x66e)](_0x3294bf(0x29a)),..._0x114911,async(_0x4553d5,_0x4045d9)=>{const _0x11f050=_0x3294bf;let _0x24aff4=await this[_0x11f050(0x369)]({'request':_0x4553d5,'schema':Ee,'ClassRef':we,'execute':(_0x8503dd,_0x41220d)=>D[_0x11f050(0x29a)](_0x8503dd,_0x41220d)});return _0x4045d9['status'](0xc8)[_0x11f050(0x25f)](_0x24aff4);})[_0x3294bf(0x2fe)](this[_0x3294bf(0x66e)](_0x3294bf(0x339)),..._0x114911,async(_0x37960a,_0x49a293)=>{const _0x3cc164=_0x3294bf;let _0x5a3b84=await this[_0x3cc164(0x369)]({'request':_0x37960a,'schema':Ma,'ClassRef':Ue,'execute':(_0x3989b3,_0x2d0db3)=>D[_0x3cc164(0x339)](_0x3989b3,_0x2d0db3)});return _0x49a293['status'](0xc8)[_0x3cc164(0x25f)](_0x5a3b84);})['post'](this[_0x3294bf(0x66e)]('updateProfileStatus'),..._0x114911,async(_0x3d762a,_0x5cbeab)=>{const _0x4c058c=_0x3294bf;let _0x4db70c=await this[_0x4c058c(0x369)]({'request':_0x3d762a,'schema':Ta,'ClassRef':Je,'execute':(_0xadfa43,_0x4b9f46)=>D[_0x4c058c(0x3d7)](_0xadfa43,_0x4b9f46)});return _0x5cbeab['status'](0xc8)[_0x4c058c(0x25f)](_0x4db70c);})['put'](this[_0x3294bf(0x66e)]('updateProfilePicture'),..._0x114911,async(_0x5bbc4f,_0xacc4fb)=>{const _0x3a33eb=_0x3294bf;let _0x23bf73=await this[_0x3a33eb(0x369)]({'request':_0x5bbc4f,'schema':Ee,'ClassRef':we,'execute':(_0x2d7645,_0x26f845)=>D['updateProfilePicture'](_0x2d7645,_0x26f845)});return _0xacc4fb[_0x3a33eb(0x23b)](0xc8)[_0x3a33eb(0x25f)](_0x23bf73);})[_0x3294bf(0x5f6)](this['routerPath'](_0x3294bf(0x54e)),..._0x114911,async(_0x4a1032,_0x16b942)=>{const _0x3d8c5b=_0x3294bf;let _0x78219=await this[_0x3d8c5b(0x369)]({'request':_0x4a1032,'schema':Ee,'ClassRef':we,'execute':(_0xa043f5,_0x43b804)=>D[_0x3d8c5b(0x54e)](_0xa043f5,_0x43b804)});return _0x16b942['status'](0xc8)[_0x3d8c5b(0x25f)](_0x78219);});}},Va=require(a0_0x4e6726(0x760)),Qe=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},Z=class{},tt=class{},st=class extends Z{},at=class extends Z{},ot=class extends L{constructor(..._0x5592f4){const _0x128dac=a0_0x4e6726;super(),this['router']=(0x0,Va[_0x128dac(0x2bf)])(),this[_0x128dac(0x75f)][_0x128dac(0x2fe)](this[_0x128dac(0x66e)](_0x128dac(0x1ab)),..._0x5592f4,async(_0x44fa3f,_0x398995)=>{const _0x4cd12f=_0x128dac;let _0x9a608d=await this['dataValidate']({'request':_0x44fa3f,'schema':Oa,'ClassRef':Qe,'execute':(_0x40fcb5,_0x559a17)=>V[_0x4cd12f(0x798)](_0x40fcb5,_0x559a17)});_0x398995[_0x4cd12f(0x23b)](0xc9)[_0x4cd12f(0x25f)](_0x9a608d);})[_0x128dac(0x5b1)](this[_0x128dac(0x66e)]('updateGroupPicture'),..._0x5592f4,async(_0x29019e,_0x335fd6)=>{const _0x487aea=_0x128dac;let _0x4c843d=await this[_0x487aea(0x388)]({'request':_0x29019e,'schema':Pa,'ClassRef':Ye,'execute':(_0x4feea4,_0x22278e)=>V[_0x487aea(0x699)](_0x4feea4,_0x22278e)});_0x335fd6[_0x487aea(0x23b)](0xc9)[_0x487aea(0x25f)](_0x4c843d);})[_0x128dac(0x5b1)](this[_0x128dac(0x66e)](_0x128dac(0x424)),..._0x5592f4,async(_0xf98bd6,_0x368e71)=>{const _0xdb2212=_0x128dac;let _0xbf40e1=await this[_0xdb2212(0x388)]({'request':_0xf98bd6,'schema':xa,'ClassRef':Xe,'execute':(_0x3ce4be,_0x1913bc)=>V[_0xdb2212(0x424)](_0x3ce4be,_0x1913bc)});_0x368e71[_0xdb2212(0x23b)](0xc9)['json'](_0xbf40e1);})[_0x128dac(0x5b1)](this['routerPath']('groupName'),..._0x5592f4,async(_0x159e09,_0x2bf18d)=>{const _0x453230=_0x128dac;let _0x42d3fd=await this[_0x453230(0x388)]({'request':_0x159e09,'schema':$a,'ClassRef':Ze,'execute':(_0x23e55f,_0x420feb)=>V[_0x453230(0x1df)](_0x23e55f,_0x420feb)});_0x2bf18d[_0x453230(0x23b)](0xc9)['json'](_0x42d3fd);})[_0x128dac(0x5b1)](this['routerPath']('groupSetting'),..._0x5592f4,async(_0xf3a72a,_0x471b31)=>{const _0x1faa6a=_0x128dac;let _0x5150c0=await this[_0x1faa6a(0x388)]({'request':_0xf3a72a,'schema':ka,'ClassRef':et,'execute':(_0x2f6062,_0x230a34)=>V[_0x1faa6a(0x4a1)](_0x2f6062,_0x230a34)});_0x471b31[_0x1faa6a(0x23b)](0xc9)[_0x1faa6a(0x25f)](_0x5150c0);})['put'](this['routerPath'](_0x128dac(0x526)),..._0x5592f4,async(_0x54ec4b,_0x1aca3f)=>{const _0x3f035e=_0x128dac;let _0x4a40b0=await this['groupValidate']({'request':_0x54ec4b,'schema':_a,'ClassRef':at,'execute':(_0x47d2ed,_0xb800d3)=>V[_0x3f035e(0x526)](_0x47d2ed,_0xb800d3)});_0x1aca3f[_0x3f035e(0x23b)](0xc9)[_0x3f035e(0x25f)](_0x4a40b0);})[_0x128dac(0x671)](this[_0x128dac(0x66e)](_0x128dac(0x335)),..._0x5592f4,async(_0xea052b,_0x23e6bb)=>{const _0x8f8dfc=_0x128dac;let _0x4d2dd1=await this[_0x8f8dfc(0x388)]({'request':_0xea052b,'schema':ve,'ClassRef':Z,'execute':(_0xe7e9a,_0x1f50b4)=>V['findGroupInfo'](_0xe7e9a,_0x1f50b4)});_0x23e6bb[_0x8f8dfc(0x23b)](0xc8)[_0x8f8dfc(0x25f)](_0x4d2dd1);})[_0x128dac(0x671)](this[_0x128dac(0x66e)](_0x128dac(0x429)),..._0x5592f4,async(_0x2f0471,_0x3063fb)=>{const _0x1379e7=_0x128dac;let _0x29833e=await this[_0x1379e7(0x369)]({'request':_0x2f0471,'schema':N,'ClassRef':S,'execute':_0x243448=>V[_0x1379e7(0x429)](_0x243448)});_0x3063fb[_0x1379e7(0x23b)](0xc8)['json'](_0x29833e);})[_0x128dac(0x671)](this[_0x128dac(0x66e)](_0x128dac(0x2b1)),..._0x5592f4,async(_0x1dbb4e,_0x1e980a)=>{const _0x9f6b9e=_0x128dac;let _0x335549=await this[_0x9f6b9e(0x388)]({'request':_0x1dbb4e,'schema':ve,'ClassRef':Z,'execute':(_0x62ecbe,_0xa79ab6)=>V['findParticipants'](_0x62ecbe,_0xa79ab6)});_0x1e980a[_0x9f6b9e(0x23b)](0xc8)[_0x9f6b9e(0x25f)](_0x335549);})['get'](this['routerPath'](_0x128dac(0x471)),..._0x5592f4,async(_0x454524,_0x5e323c)=>{const _0x2bec59=_0x128dac;let _0x4c97ee=await this['groupValidate']({'request':_0x454524,'schema':ve,'ClassRef':Z,'execute':(_0x3f0cca,_0xeedcd9)=>V[_0x2bec59(0x471)](_0x3f0cca,_0xeedcd9)});_0x5e323c[_0x2bec59(0x23b)](0xc8)[_0x2bec59(0x25f)](_0x4c97ee);})[_0x128dac(0x5b1)](this[_0x128dac(0x66e)](_0x128dac(0x4db)),..._0x5592f4,async(_0x5620c6,_0x3dae83)=>{const _0x2cd9da=_0x128dac;let _0x4dd3df=await this[_0x2cd9da(0x60b)]({'request':_0x5620c6,'schema':La,'ClassRef':tt,'execute':(_0x5705e9,_0x40794d)=>V['joinGroup'](_0x5705e9,_0x40794d)});_0x3dae83[_0x2cd9da(0x23b)](0xc9)['json'](_0x4dd3df);})[_0x128dac(0x5b1)](this[_0x128dac(0x66e)](_0x128dac(0x49a)),..._0x5592f4,async(_0x4dcb6d,_0x22c126)=>{const _0x57f7a2=_0x128dac;let _0x3c0952=await this['groupValidate']({'request':_0x4dcb6d,'schema':ve,'ClassRef':Z,'execute':(_0x4022c0,_0x165126)=>V[_0x57f7a2(0x49a)](_0x4022c0,_0x165126)});_0x22c126['status'](0xc9)[_0x57f7a2(0x25f)](_0x3c0952);})['put'](this[_0x128dac(0x66e)]('updateParticipant'),..._0x5592f4,async(_0xa2a313,_0x44b894)=>{const _0x9cac31=_0x128dac;let _0x6d3c0a=await this[_0x9cac31(0x388)]({'request':_0xa2a313,'schema':Da,'ClassRef':st,'execute':(_0x4a483d,_0x1c2985)=>V[_0x9cac31(0x759)](_0x4a483d,_0x1c2985)});_0x44b894[_0x9cac31(0x23b)](0xc9)[_0x9cac31(0x25f)](_0x6d3c0a);})[_0x128dac(0x5f6)](this[_0x128dac(0x66e)](_0x128dac(0x425)),..._0x5592f4,async(_0x136efc,_0x1ae966)=>{const _0x3267a1=_0x128dac;let _0x16c07d=await this[_0x3267a1(0x388)]({'request':_0x136efc,'schema':{},'ClassRef':Z,'execute':(_0x287ffc,_0x5d980c)=>V[_0x3267a1(0x425)](_0x287ffc,_0x5d980c)});_0x1ae966['status'](0xc8)[_0x3267a1(0x25f)](_0x16c07d);});}},qa=require(a0_0x4e6726(0x760)),Ne=require(a0_0x4e6726(0x6d8)),us=require(a0_0x4e6726(0x788)),ja=require(a0_0x4e6726(0x656)),Fa=M(require(a0_0x4e6726(0x3e1))),it=class{},rt=class c{constructor(_0xe09484,_0x26147e,_0x513c66){const _0x1e0a7a=a0_0x4e6726;this[_0x1e0a7a(0x3df)]=_0xe09484,this[_0x1e0a7a(0x72e)]=_0x26147e,this['repository']=_0x513c66,this['logger']=new C(c['name']);}async['jwt'](_0x377d34){const _0xa65026=a0_0x4e6726;let _0x4b0671=this[_0xa65026(0x3df)]['get'](_0xa65026(0x481))[_0xa65026(0x780)],_0x6ba220=(0x0,Ne[_0xa65026(0x632)])({'instanceName':_0x377d34[_0xa65026(0x4b3)],'apiName':Be,'tokenId':(0x0,us['v4'])()},_0x4b0671['SECRET'],{'expiresIn':_0x4b0671[_0xa65026(0x3eb)],'encoding':_0xa65026(0x368),'subject':_0xa65026(0x71f)}),_0x59b098=await this[_0xa65026(0x458)][_0xa65026(0x789)][_0xa65026(0x1ab)]({'jwt':_0x6ba220},_0x377d34[_0xa65026(0x4b3)]);if(_0x59b098['error'])throw this[_0xa65026(0x223)][_0xa65026(0x4be)]({'localError':c[_0xa65026(0x5a6)]+_0xa65026(0x297),'error':_0x59b098['error']}),new g(_0xa65026(0x534),_0x59b098[_0xa65026(0x4be)]?.[_0xa65026(0x594)]());return{'jwt':_0x6ba220};}async[a0_0x4e6726(0x3e7)](_0x5ed201){const _0x5f4048=a0_0x4e6726;let _0x3af625=(0x0,us['v4'])()[_0x5f4048(0x639)](),_0x1c34b2=await this[_0x5f4048(0x458)][_0x5f4048(0x789)]['create']({'apikey':_0x3af625},_0x5ed201[_0x5f4048(0x4b3)]);if(_0x1c34b2[_0x5f4048(0x4be)])throw this[_0x5f4048(0x223)][_0x5f4048(0x4be)]({'localError':c[_0x5f4048(0x5a6)]+_0x5f4048(0x297),'error':_0x1c34b2[_0x5f4048(0x4be)]}),new g(_0x5f4048(0x534),_0x1c34b2[_0x5f4048(0x4be)]?.[_0x5f4048(0x594)]());return{'apikey':_0x3af625};}async[a0_0x4e6726(0x504)](_0x1b12ee){const _0x2d8388=a0_0x4e6726;let _0x184547=this[_0x2d8388(0x3df)][_0x2d8388(0x671)](_0x2d8388(0x481));return await this[_0x184547['TYPE']](_0x1b12ee);}async[a0_0x4e6726(0x6c8)]({oldToken:_0x3f1b12}){const _0x8dba8d=a0_0x4e6726;if(!(0x0,ja[_0x8dba8d(0x243)])(_0x3f1b12))throw new g(_0x8dba8d(0x586));try{let _0x4a151e=this['configService'][_0x8dba8d(0x671)](_0x8dba8d(0x481))[_0x8dba8d(0x780)],_0x4247fe=(0x0,Ne[_0x8dba8d(0x45d)])(_0x3f1b12,_0x4a151e[_0x8dba8d(0x1aa)],{'ignoreExpiration':!0x0}),_0xa41997=await this[_0x8dba8d(0x458)][_0x8dba8d(0x789)]['find'](_0x4247fe[_0x8dba8d(0x4b3)]),_0xb1ee82=(0x0,Ne['verify'])(_0xa41997[_0x8dba8d(0x463)],_0x4a151e[_0x8dba8d(0x1aa)],{'ignoreExpiration':!0x0});if(_0x4247fe[_0x8dba8d(0x42e)]!==_0xb1ee82[_0x8dba8d(0x42e)])throw new g(_0x8dba8d(0x586));let _0x4c7103={'jwt':(await this['jwt']({'instanceName':_0x4247fe['instanceName']}))['jwt'],'instanceName':_0x4247fe['instanceName']};try{let _0x108cc1=await this[_0x8dba8d(0x458)][_0x8dba8d(0x356)][_0x8dba8d(0x6b1)](_0x4247fe['instanceName']);_0x108cc1?.[_0x8dba8d(0x428)]&&this[_0x8dba8d(0x3df)][_0x8dba8d(0x671)](_0x8dba8d(0x4a9))[_0x8dba8d(0x6db)][_0x8dba8d(0x2a5)]&&await Fa[_0x8dba8d(0x38c)][_0x8dba8d(0x1ab)]({'baseURL':_0x108cc1[_0x8dba8d(0x70d)]})['post']('',{'event':_0x8dba8d(0x2b0),'instance':_0x4247fe[_0x8dba8d(0x4b3)],'data':_0x4c7103},{'params':{'owner':this['waMonitor'][_0x8dba8d(0x707)][_0x4247fe[_0x8dba8d(0x4b3)]]['wuid']}});}catch(_0x4af637){this['logger']['error'](_0x4af637);}return _0x4c7103;}catch(_0x2144d){throw this[_0x8dba8d(0x223)][_0x8dba8d(0x4be)]({'localError':c[_0x8dba8d(0x5a6)]+_0x8dba8d(0x4cd),'error':_0x2144d}),new g(_0x8dba8d(0x586));}}},nt=class extends L{constructor(_0x1e22b5,..._0x3a73d5){const _0x21b3c2=a0_0x4e6726;super(),this['configService']=_0x1e22b5,this['router']=(0x0,qa[_0x21b3c2(0x2bf)])();let _0xf12849=_0x1e22b5['get'](_0x21b3c2(0x481));this['router']['post'](_0x21b3c2(0x209),..._0x3a73d5,async(_0x39253d,_0xb1607)=>{const _0x4259a9=_0x21b3c2;let {instanceName:_0x294c68,apikey:_0xe602f9}=_0x39253d[_0x4259a9(0x6c5)],_0x584734=await re[_0x4259a9(0x664)]({'instanceName':_0x294c68,'apikey':_0xe602f9});return _0xb1607['status'](0xc9)[_0x4259a9(0x25f)](_0x584734);})[_0x21b3c2(0x5b1)](this[_0x21b3c2(0x66e)](_0x21b3c2(0x6a5)),..._0x3a73d5,async(_0x4ef77c,_0x5a6dca)=>{const _0x42c18e=_0x21b3c2;let _0x31a4e1=await this['dataValidate']({'request':_0x4ef77c,'schema':N,'ClassRef':S,'execute':_0x3e1c7c=>re['restartInstance'](_0x3e1c7c)});return _0x5a6dca[_0x42c18e(0x23b)](0xc8)[_0x42c18e(0x25f)](_0x31a4e1);})[_0x21b3c2(0x671)](this[_0x21b3c2(0x66e)](_0x21b3c2(0x573)),..._0x3a73d5,async(_0x732214,_0x1fddf5)=>{const _0x58d885=_0x21b3c2;let _0xd6edf8=await this[_0x58d885(0x369)]({'request':_0x732214,'schema':N,'ClassRef':S,'execute':_0x3bb8fa=>re['connectToWhatsapp'](_0x3bb8fa)});return _0x1fddf5[_0x58d885(0x23b)](0xc8)[_0x58d885(0x25f)](_0xd6edf8);})[_0x21b3c2(0x671)](this[_0x21b3c2(0x66e)](_0x21b3c2(0x716)),..._0x3a73d5,async(_0xcb3fde,_0x16d209)=>{const _0x2dee8e=_0x21b3c2;let _0x3ae53b=await this['dataValidate']({'request':_0xcb3fde,'schema':N,'ClassRef':S,'execute':_0x4cd0f3=>re[_0x2dee8e(0x716)](_0x4cd0f3)});return _0x16d209[_0x2dee8e(0x23b)](0xc8)[_0x2dee8e(0x25f)](_0x3ae53b);})[_0x21b3c2(0x671)](this[_0x21b3c2(0x66e)]('fetchInstances',!0x1),..._0x3a73d5,async(_0x37f6d7,_0x461852)=>{const _0x18d8a=_0x21b3c2;let _0x5e1ac2=await this[_0x18d8a(0x369)]({'request':_0x37f6d7,'schema':null,'ClassRef':S,'execute':_0xd67147=>re[_0x18d8a(0x6ac)](_0xd67147)});return _0x461852[_0x18d8a(0x23b)](0xc8)[_0x18d8a(0x25f)](_0x5e1ac2);})[_0x21b3c2(0x5f6)](this[_0x21b3c2(0x66e)](_0x21b3c2(0x6f3)),..._0x3a73d5,async(_0x4588bb,_0x363dbd)=>{const _0x13aa23=_0x21b3c2;let _0x28efd1=await this[_0x13aa23(0x369)]({'request':_0x4588bb,'schema':N,'ClassRef':S,'execute':_0x20fa96=>re[_0x13aa23(0x6f3)](_0x20fa96)});return _0x363dbd[_0x13aa23(0x23b)](0xc8)[_0x13aa23(0x25f)](_0x28efd1);})[_0x21b3c2(0x5f6)](this[_0x21b3c2(0x66e)](_0x21b3c2(0x5f6)),..._0x3a73d5,async(_0x4ce845,_0x32be8a)=>{const _0x59fd52=_0x21b3c2;let _0x3ac3b6=await this[_0x59fd52(0x369)]({'request':_0x4ce845,'schema':N,'ClassRef':S,'execute':_0x3d7aa3=>re[_0x59fd52(0x503)](_0x3d7aa3)});return _0x32be8a['status'](0xc8)[_0x59fd52(0x25f)](_0x3ac3b6);}),_0xf12849[_0x21b3c2(0x45a)]===_0x21b3c2(0x463)&&this[_0x21b3c2(0x75f)][_0x21b3c2(0x5b1)](_0x21b3c2(0x755),async(_0x127c1c,_0x379849)=>{const _0x4fa190=_0x21b3c2;let _0x11033f=await this[_0x4fa190(0x369)]({'request':_0x127c1c,'schema':ia,'ClassRef':it,'execute':(_0x5e8a9b,_0x3268ec)=>re[_0x4fa190(0x6c8)](_0x5e8a9b,_0x3268ec)});return _0x379849[_0x4fa190(0x23b)](0xc9)[_0x4fa190(0x25f)](_0x11033f);});}},Ga=require('express'),ds=class{},K=class extends ds{},ct=class extends K{},lt=class extends K{},ut=class extends K{},dt=class extends K{},Ce=class extends K{},pt=class extends K{},gt=class extends K{},mt=class extends K{},ht=class extends K{},ft=class extends K{},wt=class{},yt=class extends L{constructor(..._0x3d0151){const _0x4be6ed=a0_0x4e6726;super(),this[_0x4be6ed(0x75f)]=(0x0,Ga['Router'])(),this[_0x4be6ed(0x75f)][_0x4be6ed(0x2fe)](this['routerPath'](_0x4be6ed(0x24a)),..._0x3d0151,async(_0x1a7ea6,_0x2e2843)=>{const _0x11f29a=_0x4be6ed;let _0xc8f79e=await this[_0x11f29a(0x369)]({'request':_0x1a7ea6,'schema':ra,'ClassRef':ct,'execute':(_0x49b7f0,_0xbe6d3d)=>W[_0x11f29a(0x24a)](_0x49b7f0,_0xbe6d3d)});return _0x2e2843[_0x11f29a(0x23b)](0xc9)['json'](_0xc8f79e);})[_0x4be6ed(0x2fe)](this[_0x4be6ed(0x66e)](_0x4be6ed(0x28d)),..._0x3d0151,async(_0x20c321,_0x1f80fd)=>{const _0xb74324=_0x4be6ed;let _0x504d83=await this[_0xb74324(0x369)]({'request':_0x20c321,'schema':ua,'ClassRef':Ce,'execute':(_0x2f347f,_0x20eb06)=>W[_0xb74324(0x28d)](_0x2f347f,_0x20eb06)});return _0x1f80fd[_0xb74324(0x23b)](0xc9)[_0xb74324(0x25f)](_0x504d83);})['post'](this['routerPath']('sendMenu'),..._0x3d0151,async(_0x5c1d1c,_0x5f08fb)=>{const _0x1542fa=_0x4be6ed;let _0x559dd9=await this[_0x1542fa(0x369)]({'request':_0x5c1d1c,'schema':ga,'ClassRef':dt,'execute':(_0x4d32c8,_0x396b43)=>W[_0x1542fa(0x4d8)](_0x4d32c8,_0x396b43)});return _0x5f08fb['status'](0xc9)[_0x1542fa(0x25f)](_0x559dd9);})[_0x4be6ed(0x2fe)](this[_0x4be6ed(0x66e)](_0x4be6ed(0x77d)),..._0x3d0151,async(_0x1d1371,_0x380d03)=>{const _0x3350aa=_0x4be6ed;let _0x4960e2=await this['dataValidate']({'request':_0x1d1371,'schema':da,'ClassRef':Ce,'execute':(_0x416f14,_0x1797dd)=>W['sendWhatsAppAudio'](_0x416f14,_0x1797dd)});return _0x380d03[_0x3350aa(0x23b)](0xc9)[_0x3350aa(0x25f)](_0x4960e2);})['post'](this['routerPath'](_0x4be6ed(0x520)),..._0x3d0151,async(_0x26d27f,_0x718bba)=>{const _0x25f039=_0x4be6ed;let _0x30768f=await this['dataValidate']({'request':_0x26d27f,'schema':ma,'ClassRef':gt,'execute':(_0x2c10e1,_0x25f0ac)=>W[_0x25f039(0x520)](_0x2c10e1,_0x25f0ac)});return _0x718bba[_0x25f039(0x23b)](0xc9)[_0x25f039(0x25f)](_0x30768f);})[_0x4be6ed(0x2fe)](this[_0x4be6ed(0x66e)](_0x4be6ed(0x781)),..._0x3d0151,async(_0x37e496,_0x2995a3)=>{const _0x392853=_0x4be6ed;let _0x2f0576=await this[_0x392853(0x369)]({'request':_0x37e496,'schema':ha,'ClassRef':mt,'execute':(_0x483eee,_0x392e65)=>W[_0x392853(0x781)](_0x483eee,_0x392e65)});return _0x2995a3['status'](0xc9)[_0x392853(0x25f)](_0x2f0576);})['post'](this['routerPath'](_0x4be6ed(0x559)),..._0x3d0151,async(_0x18a9cd,_0x31efa6)=>{const _0x37b0ed=_0x4be6ed;let _0x321e52=await this[_0x37b0ed(0x369)]({'request':_0x18a9cd,'schema':fa,'ClassRef':ht,'execute':(_0xcf614b,_0x1180fb)=>W[_0x37b0ed(0x559)](_0xcf614b,_0x1180fb)});return _0x31efa6['status'](0xc9)[_0x37b0ed(0x25f)](_0x321e52);})[_0x4be6ed(0x2fe)](this[_0x4be6ed(0x66e)](_0x4be6ed(0x605)),..._0x3d0151,async(_0x316b57,_0xaef53d)=>{const _0x377afa=_0x4be6ed;let _0x477cd5=await this[_0x377afa(0x369)]({'request':_0x316b57,'schema':wa,'ClassRef':ft,'execute':(_0x4fe12e,_0x2b1437)=>W[_0x377afa(0x605)](_0x4fe12e,_0x2b1437)});return _0xaef53d['status'](0xc9)['json'](_0x477cd5);})[_0x4be6ed(0x2fe)](this[_0x4be6ed(0x66e)](_0x4be6ed(0x6f6)),..._0x3d0151,async(_0x4a2e36,_0x1db7fe)=>{const _0xe225ee=_0x4be6ed;let _0x3c831e=await this[_0xe225ee(0x369)]({'request':_0x4a2e36,'schema':ya,'ClassRef':wt,'execute':(_0x4452ab,_0x49f65a)=>W[_0xe225ee(0x6f6)](_0x4452ab,_0x49f65a)});return _0x1db7fe[_0xe225ee(0x23b)](0xc9)[_0xe225ee(0x25f)](_0x3c831e);})['post'](this[_0x4be6ed(0x66e)](_0x4be6ed(0x2fa)),..._0x3d0151,async(_0x45d310,_0x204bbf)=>{const _0x45c574=_0x4be6ed;let _0x322012=await this[_0x45c574(0x369)]({'request':_0x45d310,'schema':pa,'ClassRef':ut,'execute':(_0x56c05b,_0x219577)=>W[_0x45c574(0x2fa)](_0x56c05b,_0x219577)});return _0x204bbf[_0x45c574(0x23b)](0xc9)['json'](_0x322012);})['post'](this[_0x4be6ed(0x66e)](_0x4be6ed(0x2b5)),..._0x3d0151,async(_0x2841f5,_0x47e13b)=>{const _0x45532e=_0x4be6ed;let _0x537484=await this[_0x45532e(0x369)]({'request':_0x2841f5,'schema':la,'ClassRef':lt,'execute':(_0x243974,_0x5052d4)=>W[_0x45532e(0x2b5)](_0x243974,_0x5052d4)});return _0x47e13b[_0x45532e(0x23b)](0xc9)[_0x45532e(0x25f)](_0x537484);})[_0x4be6ed(0x2fe)](this[_0x4be6ed(0x66e)](_0x4be6ed(0x723)),..._0x3d0151,async(_0x2f38ab,_0x22f707)=>{const _0x17ab71=_0x4be6ed;let _0x10efbe=await this[_0x17ab71(0x369)]({'request':_0x2f38ab,'schema':ca,'ClassRef':pt,'execute':(_0x418b1c,_0x29b472)=>W['sendSticker'](_0x418b1c,_0x29b472)});return _0x22f707[_0x17ab71(0x23b)](0xc9)[_0x17ab71(0x25f)](_0x10efbe);});}},Ba=require(a0_0x4e6726(0x760)),bt=class extends L{constructor(..._0x9d310e){const _0x25c6a2=a0_0x4e6726;super(),this[_0x25c6a2(0x75f)]=(0x0,Ba[_0x25c6a2(0x2bf)])(),this[_0x25c6a2(0x75f)][_0x25c6a2(0x671)](this[_0x25c6a2(0x66e)]('qrcode'),..._0x9d310e,(_0x3209cf,_0xfd5cc8)=>Wa[_0x25c6a2(0x1cb)](_0x3209cf,_0xfd5cc8));}},Ha=require(a0_0x4e6726(0x760)),St=class{},Et=class extends L{constructor(..._0x3e2905){const _0x380eca=a0_0x4e6726;super(),this[_0x380eca(0x75f)]=(0x0,Ha[_0x380eca(0x2bf)])(),this['router'][_0x380eca(0x2fe)](this['routerPath']('set'),..._0x3e2905,async(_0x5160f6,_0x3f33a5)=>{const _0x2fa672=_0x380eca;let _0x5f5dcb=await this['dataValidate']({'request':_0x5160f6,'schema':Ua,'ClassRef':St,'execute':(_0x582f30,_0x557661)=>ps[_0x2fa672(0x4f7)](_0x582f30,_0x557661)});_0x3f33a5[_0x2fa672(0x23b)](0xc9)['json'](_0x5f5dcb);})[_0x380eca(0x671)](this['routerPath'](_0x380eca(0x6b1)),..._0x3e2905,async(_0x30671c,_0x1c5f73)=>{const _0x42e530=_0x380eca;let _0x319fe2=await this[_0x42e530(0x369)]({'request':_0x30671c,'schema':N,'ClassRef':S,'execute':_0x25c9be=>ps[_0x42e530(0x1f3)](_0x25c9be)});_0x1c5f73['status'](0xc8)['json'](_0x319fe2);});}},za=require(a0_0x4e6726(0x760)),h=new C(a0_0x4e6726(0x2e3)),vt=class extends L{constructor(..._0x5b3226){const _0x287033=a0_0x4e6726;super(),this['router']=(0x0,za['Router'])(),this[_0x287033(0x75f)][_0x287033(0x2fe)](this[_0x287033(0x66e)](_0x287033(0x345)),..._0x5b3226,async(_0x2c22e7,_0x3b5a3c)=>{const _0x5e189d=_0x287033;let _0x2e4241=_0x2c22e7[_0x5e189d(0x6c5)];h[_0x5e189d(0x217)](_0x5e189d(0x3f3)),h[_0x5e189d(0x217)](_0x5e189d(0x3e6)),h['verbose'](_0x2c22e7[_0x5e189d(0x6c5)]);let _0xba9f58=await this[_0x5e189d(0x369)]({'request':_0x2c22e7,'schema':N,'ClassRef':S,'execute':_0x4eec95=>T['editScheduleMessage'](_0x4eec95,_0x2e4241)});_0x3b5a3c['status'](0xc8)[_0x5e189d(0x25f)](_0xba9f58);})['get'](this[_0x287033(0x66e)](_0x287033(0x345)),..._0x5b3226,async(_0x108dfd,_0x5bc2a5)=>{const _0x5839ce=_0x287033;let _0x2c0d35=await this[_0x5839ce(0x369)]({'request':_0x108dfd,'schema':N,'ClassRef':S,'execute':_0x5f556f=>T[_0x5839ce(0x322)](_0x5f556f)});_0x5bc2a5[_0x5839ce(0x23b)](0xc8)['json'](_0x2c0d35);})[_0x287033(0x5f6)](this[_0x287033(0x66e)](_0x287033(0x75d)),..._0x5b3226,async(_0x210f65,_0x2ee28a)=>{const _0x28bc96=_0x287033;h[_0x28bc96(0x217)](_0x28bc96(0x35e));let _0x2d653f=await this[_0x28bc96(0x369)]({'request':_0x210f65,'schema':N,'ClassRef':S,'execute':_0x5beee6=>T[_0x28bc96(0x75d)](_0x5beee6)});_0x2ee28a[_0x28bc96(0x23b)](0xc8)[_0x28bc96(0x25f)](_0x2d653f);})[_0x287033(0x2fe)](this[_0x287033(0x66e)](_0x287033(0x650)),..._0x5b3226,async(_0x592770,_0x2f8d57)=>{const _0x4b9fc1=_0x287033;let _0x221786=_0x592770[_0x4b9fc1(0x6c5)];h[_0x4b9fc1(0x217)](_0x4b9fc1(0x41f)),h[_0x4b9fc1(0x217)](_0x4b9fc1(0x3e6)),h[_0x4b9fc1(0x217)](_0x592770[_0x4b9fc1(0x6c5)]);let _0x2e9616=await this[_0x4b9fc1(0x369)]({'request':_0x592770,'schema':N,'ClassRef':S,'execute':_0x2b11aa=>T[_0x4b9fc1(0x650)](_0x2b11aa,_0x221786)});_0x2f8d57[_0x4b9fc1(0x23b)](0xc8)[_0x4b9fc1(0x25f)](_0x2e9616);})[_0x287033(0x671)](this[_0x287033(0x66e)](_0x287033(0x606)),..._0x5b3226,async(_0xea2845,_0x1c380c)=>{const _0x6b40c7=_0x287033;h[_0x6b40c7(0x217)](_0x6b40c7(0x71e));let _0x1306a3=await this[_0x6b40c7(0x369)]({'request':_0xea2845,'schema':N,'ClassRef':S,'execute':_0xf92761=>T[_0x6b40c7(0x606)](_0xf92761)});_0x1c380c[_0x6b40c7(0x23b)](0xc8)[_0x6b40c7(0x25f)](_0x1306a3);})[_0x287033(0x671)](this[_0x287033(0x66e)](_0x287033(0x3cd)),..._0x5b3226,async(_0xe4cb30,_0x2fba67)=>{const _0x1bf7a9=_0x287033;h['verbose']('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x4b50e4=await this['dataValidate']({'request':_0xe4cb30,'schema':N,'ClassRef':S,'execute':_0x49e920=>T[_0x1bf7a9(0x606)](_0x49e920)});_0x2fba67[_0x1bf7a9(0x23b)](0xc8)[_0x1bf7a9(0x25f)](_0x4b50e4);})[_0x287033(0x2fe)](this['routerPath'](_0x287033(0x4d4)),..._0x5b3226,async(_0x4da485,_0x548f45)=>{const _0x248840=_0x287033;let _0x36dc5b=_0x4da485[_0x248840(0x6c5)];h['verbose']('request\x20received\x20in\x20updateAgent'),h['verbose'](_0x248840(0x3e6)),h['verbose'](_0x4da485[_0x248840(0x6c5)]);let _0x52114d=await this[_0x248840(0x369)]({'request':_0x4da485,'schema':N,'ClassRef':S,'execute':_0x27145f=>T[_0x248840(0x4d4)](_0x27145f,_0x36dc5b)});_0x548f45[_0x248840(0x23b)](0xc8)['json'](_0x52114d);})[_0x287033(0x2fe)](this[_0x287033(0x66e)](_0x287033(0x360)),..._0x5b3226,async(_0x221b74,_0x54ceb8)=>{const _0x3b8e96=_0x287033;let _0x376965=_0x221b74[_0x3b8e96(0x6c5)];h['verbose'](_0x3b8e96(0x4f5)),h[_0x3b8e96(0x217)](_0x3b8e96(0x3e6)),h['verbose'](_0x221b74[_0x3b8e96(0x6c5)]);let _0x109aea=await this[_0x3b8e96(0x369)]({'request':_0x221b74,'schema':N,'ClassRef':S,'execute':_0x3d1506=>T[_0x3b8e96(0x360)](_0x3d1506,_0x376965)});_0x54ceb8['status'](0xc8)[_0x3b8e96(0x25f)](_0x109aea);})[_0x287033(0x2fe)](this[_0x287033(0x66e)](_0x287033(0x20d)),..._0x5b3226,async(_0x52a416,_0x3b972a)=>{const _0x12cb0e=_0x287033;let _0x81dccf=_0x52a416[_0x12cb0e(0x6c5)];h[_0x12cb0e(0x217)]('request\x20received\x20in\x20updateFlowConfig'),h['verbose'](_0x12cb0e(0x3e6)),h[_0x12cb0e(0x217)](_0x52a416[_0x12cb0e(0x6c5)]);let _0x1f4399=await this[_0x12cb0e(0x369)]({'request':_0x52a416,'schema':N,'ClassRef':S,'execute':_0x14c8ca=>T[_0x12cb0e(0x20d)](_0x14c8ca,_0x81dccf)});_0x3b972a[_0x12cb0e(0x23b)](0xc8)[_0x12cb0e(0x25f)](_0x1f4399);})[_0x287033(0x2fe)](this[_0x287033(0x66e)](_0x287033(0x348)),..._0x5b3226,async(_0x5516d,_0x34ee8d)=>{const _0x3d3cb4=_0x287033;let _0x2cc888=_0x5516d[_0x3d3cb4(0x6c5)];h[_0x3d3cb4(0x217)]('request\x20received\x20in\x20getConversation'),h['verbose'](_0x3d3cb4(0x3e6)),h[_0x3d3cb4(0x217)](_0x5516d[_0x3d3cb4(0x6c5)]);let _0x34d73c=await this[_0x3d3cb4(0x369)]({'request':_0x5516d,'schema':N,'ClassRef':S,'execute':_0x58cf85=>T['getConversation'](_0x58cf85,_0x2cc888)});_0x34ee8d[_0x3d3cb4(0x23b)](0xc8)[_0x3d3cb4(0x25f)](_0x34d73c);})[_0x287033(0x2fe)](this['routerPath'](_0x287033(0x5db)),..._0x5b3226,async(_0xfd7035,_0x55f1bd)=>{const _0x4453c9=_0x287033;let _0x154381=_0xfd7035[_0x4453c9(0x6c5)];h['verbose'](_0x4453c9(0x635)),h[_0x4453c9(0x217)](_0x4453c9(0x3e6)),h[_0x4453c9(0x217)](_0xfd7035[_0x4453c9(0x6c5)]);let _0x4a7d17=await this[_0x4453c9(0x369)]({'request':_0xfd7035,'schema':N,'ClassRef':S,'execute':_0x118310=>T[_0x4453c9(0x5db)](_0x118310,_0x154381)});_0x55f1bd[_0x4453c9(0x23b)](0xc8)[_0x4453c9(0x25f)](_0x4a7d17);})[_0x287033(0x2fe)](this['routerPath'](_0x287033(0x3e3)),..._0x5b3226,async(_0x437fd9,_0x51d5e7)=>{const _0x1212b6=_0x287033;let _0x43213c=_0x437fd9[_0x1212b6(0x6c5)];h[_0x1212b6(0x217)]('request\x20received\x20in\x20editConversation'),h['verbose'](_0x1212b6(0x3e6)),h[_0x1212b6(0x217)](_0x437fd9[_0x1212b6(0x6c5)]);let _0xbe421b=await this[_0x1212b6(0x369)]({'request':_0x437fd9,'schema':N,'ClassRef':S,'execute':_0x56131f=>T[_0x1212b6(0x3e3)](_0x56131f,_0x43213c)});_0x51d5e7[_0x1212b6(0x23b)](0xc8)[_0x1212b6(0x25f)](_0xbe421b);})[_0x287033(0x5f6)](this[_0x287033(0x66e)](_0x287033(0x612)),..._0x5b3226,async(_0x5bd781,_0x515ffc)=>{const _0xabc2ba=_0x287033;let _0x1de3ea=_0x5bd781['body'];h[_0xabc2ba(0x217)]('request\x20received\x20in\x20deleteConversation'),h['verbose'](_0xabc2ba(0x3e6)),h['verbose'](_0x5bd781[_0xabc2ba(0x6c5)]);let _0x296327=await this[_0xabc2ba(0x369)]({'request':_0x5bd781,'schema':N,'ClassRef':S,'execute':_0x8d1bfb=>T['deleteConversation'](_0x8d1bfb,_0x1de3ea)});_0x515ffc[_0xabc2ba(0x23b)](0xc8)[_0xabc2ba(0x25f)](_0x296327);})['post'](this['routerPath'](_0x287033(0x2b6)),..._0x5b3226,async(_0xed2d88,_0x1b45e8)=>{const _0x408c0a=_0x287033;let _0x429f45=_0xed2d88[_0x408c0a(0x6c5)];h['verbose'](_0x408c0a(0x62b)),h['verbose']('request\x20body:\x20'),h[_0x408c0a(0x217)](_0xed2d88[_0x408c0a(0x6c5)]);let _0x1b5d12=await this[_0x408c0a(0x369)]({'request':_0xed2d88,'schema':N,'ClassRef':S,'execute':_0x3d9ff1=>T[_0x408c0a(0x541)](_0x3d9ff1,_0x429f45)});_0x1b45e8['status'](0xc8)[_0x408c0a(0x25f)](_0x1b5d12);})[_0x287033(0x2fe)](this[_0x287033(0x66e)](_0x287033(0x474)),..._0x5b3226,async(_0x3afb75,_0x577164)=>{const _0x4e61ea=_0x287033;let _0x2eced1=_0x3afb75[_0x4e61ea(0x6c5)];h[_0x4e61ea(0x217)](_0x4e61ea(0x282)),h[_0x4e61ea(0x217)]('request\x20body:\x20'),h[_0x4e61ea(0x217)](_0x3afb75[_0x4e61ea(0x6c5)]),delete _0x2eced1[_0x4e61ea(0x595)],delete _0x2eced1[_0x4e61ea(0x74c)],delete _0x2eced1[_0x4e61ea(0x1cf)],delete _0x2eced1[_0x4e61ea(0x263)];let _0x8b775f=await this[_0x4e61ea(0x369)]({'request':_0x3afb75,'schema':N,'ClassRef':S,'execute':_0x4256e8=>T[_0x4e61ea(0x3cc)](_0x4256e8,_0x2eced1)});_0x577164['status'](0xc8)['json'](_0x8b775f);})[_0x287033(0x2fe)](this[_0x287033(0x66e)](_0x287033(0x1ca)),..._0x5b3226,async(_0x1bb903,_0x5535d8)=>{const _0x5cdac9=_0x287033;let _0x3d2877=_0x1bb903[_0x5cdac9(0x6c5)];h[_0x5cdac9(0x217)](_0x5cdac9(0x282)),h[_0x5cdac9(0x217)]('request\x20body:\x20'),h[_0x5cdac9(0x217)](_0x1bb903[_0x5cdac9(0x6c5)]);let _0x308a81=await this['dataValidate']({'request':_0x1bb903,'schema':N,'ClassRef':S,'execute':_0x2d4826=>T['editFlowBlock'](_0x2d4826,_0x3d2877)});_0x5535d8[_0x5cdac9(0x23b)](0xc8)[_0x5cdac9(0x25f)](_0x308a81);})[_0x287033(0x2fe)](this[_0x287033(0x66e)](_0x287033(0x3dd)),..._0x5b3226,async(_0x5d7176,_0x2cfc70)=>{const _0x58f298=_0x287033;let _0x171980=_0x5d7176[_0x58f298(0x6c5)];h['verbose'](_0x58f298(0x282)),h[_0x58f298(0x217)](_0x58f298(0x3e6)),h[_0x58f298(0x217)](_0x5d7176[_0x58f298(0x6c5)]);let _0x83a600=await this[_0x58f298(0x369)]({'request':_0x5d7176,'schema':N,'ClassRef':S,'execute':_0x5d9756=>T['editFlowReply'](_0x5d9756,_0x171980)});_0x2cfc70['status'](0xc8)[_0x58f298(0x25f)](_0x83a600);})[_0x287033(0x2fe)](this['routerPath'](_0x287033(0x3a1)),..._0x5b3226,async(_0x3e0368,_0x478dc0)=>{const _0x933eec=_0x287033;let _0x1c2741=_0x3e0368[_0x933eec(0x6c5)];h[_0x933eec(0x217)](_0x933eec(0x282)),h[_0x933eec(0x217)](_0x933eec(0x3e6)),h[_0x933eec(0x217)](_0x3e0368['body']);let _0x29047b=await this[_0x933eec(0x369)]({'request':_0x3e0368,'schema':N,'ClassRef':S,'execute':_0x442444=>T[_0x933eec(0x28c)](_0x442444,_0x1c2741)});_0x478dc0[_0x933eec(0x23b)](0xc8)[_0x933eec(0x25f)](_0x29047b);})[_0x287033(0x2fe)](this[_0x287033(0x66e)](_0x287033(0x643)),..._0x5b3226,async(_0x58c4ef,_0xfa29de)=>{const _0x1b25d1=_0x287033;let _0x557123=_0x58c4ef[_0x1b25d1(0x6c5)];h[_0x1b25d1(0x217)](_0x1b25d1(0x202)),h[_0x1b25d1(0x217)]('request\x20body:\x20'),h[_0x1b25d1(0x217)](_0x58c4ef[_0x1b25d1(0x6c5)]);let _0x116696=await this[_0x1b25d1(0x369)]({'request':_0x58c4ef,'schema':N,'ClassRef':S,'execute':_0x251001=>T[_0x1b25d1(0x613)](_0x251001,_0x557123)});_0xfa29de['status'](0xc8)[_0x1b25d1(0x25f)](_0x116696);})[_0x287033(0x2fe)](this['routerPath'](_0x287033(0x5f2)),..._0x5b3226,async(_0x5b6bbf,_0x941c99)=>{const _0x41e40a=_0x287033;let _0xccf3d5=_0x5b6bbf[_0x41e40a(0x6c5)];h[_0x41e40a(0x217)]('request\x20received\x20in\x20editFlowcondition'),h[_0x41e40a(0x217)]('request\x20body:\x20'),h[_0x41e40a(0x217)](_0x5b6bbf['body']);let _0x2e0488=await this[_0x41e40a(0x369)]({'request':_0x5b6bbf,'schema':N,'ClassRef':S,'execute':_0x385ad0=>T[_0x41e40a(0x261)](_0x385ad0,_0xccf3d5)});_0x941c99[_0x41e40a(0x23b)](0xc8)[_0x41e40a(0x25f)](_0x2e0488);})[_0x287033(0x2fe)](this[_0x287033(0x66e)]('editflowvariable'),..._0x5b3226,async(_0x50fd7a,_0x4bae3b)=>{const _0x44415e=_0x287033;let _0x44bcdc=_0x50fd7a[_0x44415e(0x6c5)];h[_0x44415e(0x217)]('request\x20received\x20in\x20editFlowvariable'),h['verbose']('request\x20body:\x20'),h[_0x44415e(0x217)](_0x50fd7a['body']);let _0x4824ab=await this[_0x44415e(0x369)]({'request':_0x50fd7a,'schema':N,'ClassRef':S,'execute':_0x5cf25f=>T[_0x44415e(0x773)](_0x5cf25f,_0x44bcdc)});_0x4bae3b[_0x44415e(0x23b)](0xc8)[_0x44415e(0x25f)](_0x4824ab);})[_0x287033(0x2fe)](this[_0x287033(0x66e)](_0x287033(0x4b4)),..._0x5b3226,async(_0x2ee69d,_0xe18287)=>{const _0x5d0b83=_0x287033;let _0xe84401=_0x2ee69d['body'];h[_0x5d0b83(0x217)](_0x5d0b83(0x518)),h[_0x5d0b83(0x217)]('request\x20body:\x20'),h[_0x5d0b83(0x217)](_0x2ee69d[_0x5d0b83(0x6c5)]);let _0x531283=await this[_0x5d0b83(0x369)]({'request':_0x2ee69d,'schema':N,'ClassRef':S,'execute':_0x5e7818=>T[_0x5d0b83(0x539)](_0x5e7818,_0xe84401)});_0xe18287[_0x5d0b83(0x23b)](0xc8)[_0x5d0b83(0x25f)](_0x531283);})['delete'](this[_0x287033(0x66e)](_0x287033(0x744)),..._0x5b3226,async(_0x16ae69,_0x6bc223)=>{const _0x2318e0=_0x287033;let _0x3f3165=_0x16ae69['body'];h[_0x2318e0(0x217)](_0x2318e0(0x62b)),h[_0x2318e0(0x217)](_0x2318e0(0x3e6)),h[_0x2318e0(0x217)](_0x16ae69[_0x2318e0(0x6c5)]);let _0x3cc61d=await this[_0x2318e0(0x369)]({'request':_0x16ae69,'schema':N,'ClassRef':S,'execute':_0x10bf59=>T[_0x2318e0(0x4b2)](_0x10bf59,_0x3f3165)});_0x6bc223['status'](0xc8)[_0x2318e0(0x25f)](_0x3cc61d);})[_0x287033(0x671)](this[_0x287033(0x66e)](_0x287033(0x27a)),..._0x5b3226,async(_0x112b93,_0x5bc870)=>{const _0x133e82=_0x287033;h['verbose'](_0x133e82(0x244));let _0x185a74=await this[_0x133e82(0x369)]({'request':_0x112b93,'schema':N,'ClassRef':S,'execute':_0x43fb7b=>T[_0x133e82(0x6e3)](_0x43fb7b)});_0x5bc870['status'](0xc8)[_0x133e82(0x25f)](_0x185a74);});}},Xa=M(require(a0_0x4e6726(0x3ee))),ee={};function Ka(_0x86f811,_0xd39b2f,_0x5919ec,_0x1f2fd5){ee[_0x86f811]||(ee[_0x86f811]={}),ee[_0x86f811][_0xd39b2f]={'id':_0xd39b2f,'response':_0x5919ec,'events':_0x1f2fd5};}function Qa(_0x292551,_0x3ec86f){!ee[_0x292551]||!ee[_0x292551][_0x3ec86f]||delete ee[_0x292551][_0x3ec86f];}function q(_0x403cd3,_0x3dba0f,_0xd22ce8){const _0x5db0ae=a0_0x4e6726;if(!ee[_0x403cd3])return;let _0x2377e8=_0x5db0ae(0x215)+JSON[_0x5db0ae(0x286)](_0xd22ce8)+'\x0a\x0a';Object[_0x5db0ae(0x485)](ee[_0x403cd3])['forEach'](_0xfa6355=>{const _0x4572f4=_0x5db0ae;_0xfa6355[_0x4572f4(0x2ff)]['includes'](_0x3dba0f)&&_0xfa6355[_0x4572f4(0x39f)][_0x4572f4(0x71c)](_0x2377e8);});}function Ya(){const _0x6e4271=a0_0x4e6726;let _0x2160b2={};for(let _0x4d1c57 in ee)_0x2160b2[_0x4d1c57]=Object[_0x6e4271(0x485)](ee[_0x4d1c57])[_0x6e4271(0x3cf)](_0x24267d=>({'id':_0x24267d['id'],'events':_0x24267d[_0x6e4271(0x2ff)]}));return _0x2160b2;}var Za=require(a0_0x4e6726(0x788)),zo=Xa[a0_0x4e6726(0x38c)][a0_0x4e6726(0x6fa)](__dirname,a0_0x4e6726(0x690)),Ct=(0x0,Nt[a0_0x4e6726(0x2bf)])(),Ko=E[a0_0x4e6726(0x671)]('AUTHENTICATION')[a0_0x4e6726(0x45a)],ue=[cs,ta,oa[Ko]];Ct[a0_0x4e6726(0x5bb)](a0_0x4e6726(0x464),Nt[a0_0x4e6726(0x38c)][a0_0x4e6726(0x521)](zo))[a0_0x4e6726(0x671)]('/events/:instance',async(_0x5cbe14,_0x40f194)=>{const _0x50fe=a0_0x4e6726;console[_0x50fe(0x262)](_0x50fe(0x476));let _0xdd0138=_0x5cbe14['params'][_0x50fe(0x49e)],_0x2ad5fb=(_0x5cbe14[_0x50fe(0x70e)][_0x50fe(0x2ff)]||'')[_0x50fe(0x619)](','),_0x2a8e76=(0x0,Za['v4'])();console[_0x50fe(0x262)](_0x50fe(0x2af),_0xdd0138),console['log']('Subscribed\x20Events:',_0x2ad5fb);let _0x4e2c0f=E[_0x50fe(0x671)](_0x50fe(0x481))['API_KEY'],_0x311a7a=_0x5cbe14['query'][_0x50fe(0x3e7)];if(console[_0x50fe(0x262)]('API\x20Key\x20from\x20Request:',_0x311a7a),_0x4e2c0f['KEY']!==_0x311a7a){console[_0x50fe(0x262)]('env.KEY\x20!==\x20key');try{let _0x362f23=await le['auth'][_0x50fe(0x6b1)](_0xdd0138);if(console['log'](_0x50fe(0x25c),_0x362f23),!_0x362f23||_0x362f23[_0x50fe(0x3e7)]!==_0x311a7a)return console[_0x50fe(0x262)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x40f194['status'](0x191)[_0x50fe(0x663)](_0x50fe(0x28f));}catch(_0x4e5e94){return console[_0x50fe(0x4be)](_0x50fe(0x3de),_0x4e5e94),_0x40f194[_0x50fe(0x23b)](0x191)[_0x50fe(0x663)](_0x50fe(0x2d9));}}if(!await Ge(_0xdd0138))return _0x40f194[_0x50fe(0x23b)](0x194)['send']('Instância\x20não\x20encontrada.');_0x40f194[_0x50fe(0x266)](_0x50fe(0x2e6),_0x50fe(0x25a)),_0x40f194[_0x50fe(0x266)](_0x50fe(0x25e),_0x50fe(0x26f)),_0x40f194[_0x50fe(0x266)](_0x50fe(0x688),'keep-alive'),_0x40f194[_0x50fe(0x72f)]();let _0x156edc=_0x50fe(0x215)+JSON['stringify']({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x40f194['write'](_0x156edc),Ka(_0xdd0138,_0x2a8e76,_0x40f194,_0x2ad5fb),_0x5cbe14['on'](_0x50fe(0x571),()=>{const _0x1fe0fa=_0x50fe;console[_0x1fe0fa(0x262)](_0x1fe0fa(0x287)+_0xdd0138),Qa(_0xdd0138,_0x2a8e76);});}),Ct[a0_0x4e6726(0x671)](a0_0x4e6726(0x799),(_0x477b09,_0x3189b4)=>{const _0x5e6952=a0_0x4e6726;let _0x4b126c=Ya();_0x3189b4[_0x5e6952(0x25f)](_0x4b126c);})[a0_0x4e6726(0x671)]('/',(_0x2effde,_0x4afbd1)=>{const _0x41a3e9=a0_0x4e6726;let _0x2064b8=E[_0x41a3e9(0x671)]('SSL_CONF'),_0x5b7094=_0x2064b8&&_0x2064b8[_0x41a3e9(0x77a)]['split']('/')[0x4];if(_0x5b7094){let _0x5e65ab=encodeURIComponent('https://'+_0x5b7094);_0x4afbd1[_0x41a3e9(0x6b6)](_0x41a3e9(0x7a2)+_0x5e65ab);}else _0x4afbd1[_0x41a3e9(0x6b6)](_0x41a3e9(0x57a));})[a0_0x4e6726(0x5b1)](a0_0x4e6726(0x56a),...ue,async(_0x30c1c2,_0x465fcf)=>{const _0x3d9ddb=a0_0x4e6726;try{console[_0x3d9ddb(0x262)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x465fcf[_0x3d9ddb(0x23b)](0xc8)[_0x3d9ddb(0x25f)]({'message':_0x3d9ddb(0x35f)}),_0x465fcf['on'](_0x3d9ddb(0x387),()=>process[_0x3d9ddb(0x78c)](0x0));}catch(_0x474961){console[_0x3d9ddb(0x4be)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x474961),_0x465fcf[_0x3d9ddb(0x23b)](0x1f4)[_0x3d9ddb(0x25f)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x4e6726(0x5bb)](a0_0x4e6726(0x5a8),new nt(E,...ue)[a0_0x4e6726(0x75f)],new bt(cs)[a0_0x4e6726(0x75f)])[a0_0x4e6726(0x5bb)](a0_0x4e6726(0x3ff),new yt(...ue)[a0_0x4e6726(0x75f)])[a0_0x4e6726(0x5bb)](a0_0x4e6726(0x553),new Ke(...ue)[a0_0x4e6726(0x75f)])['use'](a0_0x4e6726(0x26c),new ot(...ue)['router'])[a0_0x4e6726(0x5bb)](a0_0x4e6726(0x225),new Et(...ue)[a0_0x4e6726(0x75f)])[a0_0x4e6726(0x5bb)]('/automate',new vt(...ue)[a0_0x4e6726(0x75f)]);var g=class{constructor(..._0xe04da5){const _0x43ad48=a0_0x4e6726;throw{'status':0x190,'error':'Bad\x20Request','message':_0xe04da5[_0x43ad48(0x728)]>0x0?_0xe04da5:void 0x0};}},ie=class{constructor(..._0x225631){const _0x47f492=a0_0x4e6726;throw{'status':0x191,'error':'Unauthorized','message':_0x225631[_0x47f492(0x728)]>0x0?_0x225631:void 0x0};}},oe=class{constructor(..._0x1692ec){throw{'status':0x193,'error':'Forbidden','message':_0x1692ec['length']>0x0?_0x1692ec:void 0x0};}},$=class{constructor(..._0x4a8c33){const _0x5e495f=a0_0x4e6726;throw{'status':0x194,'error':_0x5e495f(0x3f7),'message':_0x4a8c33[_0x5e495f(0x728)]>0x0?_0x4a8c33:void 0x0};}},A=class{constructor(..._0x3d475e){const _0x1f5e1c=a0_0x4e6726;throw{'status':0x1f4,'error':_0x1f5e1c(0x5ba),'message':_0x3d475e[_0x1f5e1c(0x728)]>0x0?_0x3d475e:void 0x0};}},de=require(a0_0x4e6726(0x3d6));async function gs(_0x1f7f34){const _0x27cbb1=a0_0x4e6726;let _0x3d4324=new C(gs[_0x27cbb1(0x5a6)]),_0x4e1f04=R[_0x27cbb1(0x3cb)](),_0x2b503c=_0x4e1f04['db'](E[_0x27cbb1(0x671)]('DATABASE')['CONNECTION']['DB_PREFIX_NAME']+_0x27cbb1(0x370))[_0x27cbb1(0x67c)](_0x1f7f34),_0x8744=async(_0x63ab2,_0x112b5b)=>{const _0x923162=_0x27cbb1;try{return await _0x4e1f04[_0x923162(0x573)](),await _0x2b503c['replaceOne']({'_id':_0x112b5b},JSON[_0x923162(0x772)](JSON[_0x923162(0x286)](_0x63ab2,de['BufferJSON'][_0x923162(0x298)])),{'upsert':!0x0});}catch{}},_0x3f84d4=async _0x5b8ca4=>{const _0x33a4a2=_0x27cbb1;try{await _0x4e1f04[_0x33a4a2(0x573)]();let _0x2947db=await _0x2b503c[_0x33a4a2(0x350)]({'_id':_0x5b8ca4}),_0x2b9837=JSON[_0x33a4a2(0x286)](_0x2947db);return JSON[_0x33a4a2(0x772)](_0x2b9837,de[_0x33a4a2(0x565)]['reviver']);}catch{}},_0x2f40d7=async _0x510e7d=>{const _0x491df0=_0x27cbb1;try{return await _0x4e1f04[_0x491df0(0x573)](),await _0x2b503c['deleteOne']({'_id':_0x510e7d});}catch{}},_0x3d44b9=await _0x3f84d4(_0x27cbb1(0x3ba))||(0x0,de[_0x27cbb1(0x749)])();return{'state':{'creds':_0x3d44b9,'keys':{'get':async(_0x3ed0b4,_0x1f5a5b)=>{const _0x477f96=_0x27cbb1;let _0x21cbf8={};return await Promise[_0x477f96(0x21b)](_0x1f5a5b[_0x477f96(0x3cf)](async _0x386769=>{const _0x41f1f5=_0x477f96;let _0x29064e=await _0x3f84d4(_0x3ed0b4+'-'+_0x386769);_0x3ed0b4===_0x41f1f5(0x1b6)&&_0x29064e&&(_0x29064e=de[_0x41f1f5(0x396)]['Message'][_0x41f1f5(0x4ca)][_0x41f1f5(0x5e6)](_0x29064e)),_0x21cbf8[_0x386769]=_0x29064e;})),_0x21cbf8;},'set':async _0x22b386=>{const _0x735853=_0x27cbb1;let _0x5ef185=[];for(let _0x28b3bb in _0x22b386)for(let _0x550976 in _0x22b386[_0x28b3bb]){let _0x1e0188=_0x22b386[_0x28b3bb][_0x550976],_0x216920=_0x28b3bb+'-'+_0x550976;_0x5ef185[_0x735853(0x73c)](_0x1e0188?_0x8744(_0x1e0188,_0x216920):_0x2f40d7(_0x216920));}await Promise[_0x735853(0x21b)](_0x5ef185);}}},'saveCreds':async()=>_0x8744(_0x3d44b9,_0x27cbb1(0x3ba))};}var hs=M(require(a0_0x4e6726(0x272))),fs=M(require(a0_0x4e6726(0x79e))),Rt=require(a0_0x4e6726(0x3d6)),eo=require(a0_0x4e6726(0x513)),Tt=require(a0_0x4e6726(0x3d6)),Mt;function Qo(_0x2626e8){const _0x38a59d=a0_0x4e6726;return Mt||(Mt=(0x0,eo[_0x38a59d(0x4c5)])({'url':_0x2626e8['URI']}),Mt[_0x38a59d(0x573)]()),Mt;}var ne=class c{constructor(_0x1dbd0b,_0x3a81d8){const _0x210b5a=a0_0x4e6726;this['redisEnv']=_0x1dbd0b,this[_0x210b5a(0x4b3)]=_0x3a81d8,this[_0x210b5a(0x223)]=new C(c['name']),this[_0x210b5a(0x27c)]=Qo(_0x1dbd0b);}set[a0_0x4e6726(0x550)](_0x1a3900){const _0x5be963=a0_0x4e6726;this[_0x5be963(0x4b3)]=_0x1a3900;}async[a0_0x4e6726(0x500)](){const _0x1505c7=a0_0x4e6726;try{return await this[_0x1505c7(0x27c)]['sendCommand']([_0x1505c7(0x2d7),this['redisEnv'][_0x1505c7(0x1de)]+':*']);}catch(_0x51ee62){this['logger'][_0x1505c7(0x4be)](_0x51ee62);}}async[a0_0x4e6726(0x4b6)](_0x30b507,_0x1ae4c0){const _0x1ee78c=a0_0x4e6726;try{let _0x48e0ca=JSON[_0x1ee78c(0x286)](_0x1ae4c0,Tt[_0x1ee78c(0x565)][_0x1ee78c(0x298)]);return await this[_0x1ee78c(0x27c)][_0x1ee78c(0x66d)](this['redisEnv'][_0x1ee78c(0x1de)]+':'+this[_0x1ee78c(0x4b3)],_0x30b507,_0x48e0ca);}catch(_0x1203fc){this[_0x1ee78c(0x223)]['error'](_0x1203fc);}}async[a0_0x4e6726(0x78f)](){const _0x188ef7=a0_0x4e6726;try{let _0x3bc788=await this['client'][_0x188ef7(0x1ae)](this[_0x188ef7(0x200)][_0x188ef7(0x1de)]+':'+this['instanceName']);if(_0x3bc788){for(let _0x58d6c9 in _0x3bc788)Object[_0x188ef7(0x41e)][_0x188ef7(0x2d2)][_0x188ef7(0x41b)](_0x3bc788,_0x58d6c9)&&(_0x3bc788[_0x58d6c9]=JSON['parse'](_0x3bc788[_0x58d6c9],Tt['BufferJSON'][_0x188ef7(0x34e)]));return _0x3bc788;}}catch(_0x4417c7){this[_0x188ef7(0x223)][_0x188ef7(0x4be)](_0x4417c7);}}async[a0_0x4e6726(0x604)](_0x2c2485){const _0x491921=a0_0x4e6726;try{let _0xf07c93=await this[_0x491921(0x27c)][_0x491921(0x230)](this[_0x491921(0x200)][_0x491921(0x1de)]+':'+this[_0x491921(0x4b3)],_0x2c2485);if(_0xf07c93)return JSON[_0x491921(0x772)](_0xf07c93,Tt[_0x491921(0x565)][_0x491921(0x34e)]);}catch(_0x1b1788){this[_0x491921(0x223)][_0x491921(0x4be)](_0x1b1788);}}async[a0_0x4e6726(0x629)](_0x2388b3){const _0x5e3627=a0_0x4e6726;try{return await this[_0x5e3627(0x27c)][_0x5e3627(0x66b)](this['redisEnv']['PREFIX_KEY']+':'+this['instanceName'],_0x2388b3);}catch(_0x5ed536){this['logger'][_0x5e3627(0x4be)](_0x5ed536);}}async[a0_0x4e6726(0x747)](_0x5e7eb2){const _0x1f20c1=a0_0x4e6726;try{return await this[_0x1f20c1(0x27c)][_0x1f20c1(0x5d7)](_0x5e7eb2||this[_0x1f20c1(0x200)]['PREFIX_KEY']+':'+this['instanceName']);}catch(_0x1cf1ed){this[_0x1f20c1(0x223)][_0x1f20c1(0x4be)](_0x1cf1ed);}}};function a0_0x2682(){const _0x2dcfcf=['nextBlock:','/wa-qrcode','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','removed','true','updateProfilePicture','AutomateFunctions','Não\x20respondeu\x20com\x20a\x20enquete.','preview','uazapiSendAudio','params','moreLogs','del','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','fetchLatestBaileysVersion','fetchConversation','birthtime','redis','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','restartInstance','/instance/fetchInstances','whatsappNumber','Missing\x20global\x20api\x20key','Archiving\x20chat','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Error\x20fetching\x20group','fromObject','WEBHOOK_EVENTS_CHATS_SET','Error\x20updating\x20participants','Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','metadata','type','ENABLED','KEY','isURL','status@broadcast','qrCode','editflowcondition','createJid','update','unlocked','delete','oldToken','changeVariables','storePath','):\x20Deletando\x20fluxo...','_id','content','leadInfo','exists','env.yml','startsWith','/wa-connection-update','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','):\x20Buscando\x20flow...','readData','sendContact','getAutomateSystem','PLAYED','\x0a*Você\x20respondeu*:\x0a','fetchProfile','MESSAGES_UPSERT','joinGroupValidate','Output\x20audio\x20path:\x20','WEBHOOK_EVENTS_GROUPS_UPSERT','):\x20Editando\x20bloco...','processConditions','buttons','2257158YROHMh','deleteConversation','editFlowGroup','SERVER','groupAcceptInvite','updateStopChat','updateOne','filter','split','CONFIG_SESSION_PHONE_NAME','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','ERROR:\x20','COLOR','whatsappNumbers','contactMessage','Selecione','pino','CONNECTION_UPDATE','defineProperty','AUTHENTICATION_JWT_SECRET','\x1b[36m','agents','.uazapi.dev','Error\x20removing\x20profile\x20picture','removeData','buttonId','request\x20received\x20in\x20createFlow','.ogg','processConditionsTest','listResponseMessage','Valor\x20de\x20find\x20ou\x20replace\x20ausente','archived','Deletion\x20failed','sign','CONTACTS_UPSERT','optionName','request\x20received\x20in\x20fetchConversation','Início','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','created','toUpperCase','presence','WEBHOOK_EVENTS_MESSAGES_UPDATE','local_map','RECONNECT_TIME_FRAME','_error','Background\x20color\x20is\x20required','scheduleNextCheck','Error\x20fetching\x20and\x20updating\x20profile:\x20','writeStore','editflowgroup','scheduled','getStatus','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','jid','--standalone','mkdirSync','Erro:','fone','context','console','):\x20Falha\x20ao\x20deletar\x20mensagem.','instance.','startFlow','locationMessage','):\x20this.processingScheduleMessageId:\x20','PASSWORD','secondValue','forEach','class-validator','setting','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','findFlow','data','audioWhatsapp','mediaMessage','Read\x20messages\x20fail','):\x20Enviando\x20texto','\x20não\x20encontrado','Types','lastReceivedMessage','readreceipts','send','createInstance','stickerMessage','value','fetchPrivacySettings','sendPresenceUpdate','font','not\x20loaded','hDel','sendAudio','hSet','routerPath','interval\x20não\x20é\x20um\x20número','announcement','get','):\x20Iniciando\x20bot...','createNewConversation','subdomain','Flow\x20não\x20encontrado','hostname','REDIS_ENABLED','):\x20atualização\x20chat:\x20','waitingMenu_id','profilePictureUrl','add','collection','flattenObject','fetchProfilePicture','@ffmpeg-installer/ffmpeg','ids','authentication','bulkWrite','chatLog','extractRegex','choices','notEmpty','blockLogs','Connection','\x1b[1m\x1b[37m','\x20minutos\x20verificará\x20novas\x20mensagens','INFO','evaluateConditionTest','has','WEBHOOK_GLOBAL_URL','command','downloads','collections','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','STATUS_INSTANCE','arrayUnique','LOG_LEVEL','recording','):\x20conversation.status:\x20','onWhatsApp','updateGroupPicture','):\x20teve\x20mudanças\x20chat.name:\x20','rmSync','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','NAME','TRIAL_AD','shutdown\x20-r\x20now','expression','):\x20Enviando\x20mídia','groupLeave','getChatModelForOwner','ini','restart','src','groups.upsert','.json','contacts.update','):\x20delete\x20=\x20true','urlencoded','fetchInstances','mediatype','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','Content\x20is\x20required','toDataURL','find','varedit','newStoppedUntil','empty','deleteOne','redirect','Including\x20timestamp\x20in\x20url:\x20','Fluxo\x20não\x20encontrado','9523584XuOUtc','50mb','stateConnection','creation','Image\x20converted\x20to\x20WebP','composing','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','statusMessage','CHATS_UPDATE','SUCCESS','Erro\x20ao\x20buscar\x20conversas:\x20',',\x20valor\x20a\x20encontrar:\x20\x22','body','\x20}\x0a','Mensagem\x20não\x20suportada','refreshToken','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','sort','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','WEBHOOK_EVENTS_CHATS_UPSERT','contactHandle','delInstanceFiles','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','Business\x20profile\x20fetched','CHATS_UPSERT','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','groups_ignore','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','getContentType','STORE_CLEANING_TERMINAL','.sendDataWebhook-local','jsonwebtoken','GROUPS_UPSERT','buttonMessage','EVENTS','updatePresence','fetchProfile2','defineAuthState','authService','order','The\x20\x22','CLEANING_INTERVAL','allFlows','max','.X-ABLabel:Celular\x0a','convert','EMAIL','trimmed','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','integer','Image\x20is\x20url','online','pollOnReplyDelete','isJidUser','messages','groupRevokeInvite','?timestamp=','waitingForReplyMenu','logout','CONNECTION','Telefone:\x20','sendReaction','uazapi','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','join','options','replaceVariablesChat','lowerCase','model','_doc','viewOnceMessageV2Extension','lastInteraction','/wa-message','Data\x20inválida\x20fornecida','\x20minutos...','\x1b[30m%s\x1b[0m','g.us','waInstances','substring','chats.upsert','markMessageAsRead','E-mail:\x20','loadInstance','url','query','editChat','TEXT','prepareWAMessageMedia','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Falta\x20informação\x20para\x20a\x20chamada\x20API','loadEnv','isBooleanString','connectionState','onTime','profilePicture','remoteJid','flowConfig','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','write','findGroupInfo','request\x20received\x20in\x20getAutomateSystem','g-t','debug','condition','varedits','sendSticker','header','from','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','messages.update','length','updateReplyOption','connection.update','):\x20Enviando\x20localização','wuid','REDIS_URI','waMonitor','flushHeaders','messages.upsert','):\x20Entrou\x20na\x20função\x20stop','protocolMessage','subject','DOCKER_ENV','downloadMediaMessage','pollErrorMessage','key','):\x20Ler\x20mensagem','\x20-i\x20','\x20-\x20ON:\x20','HOST','push','Last\x20message\x20not\x20found','WA\x20MODULE','stopConversation','goNextblock','render','video-cover.png','groupInviteCode','deleteflow','qrcode.updated','\x20saindo\x20da\x20função','delAll','SERVER_TYPE','initAuthCreds','):\x20Flow\x20desativado','views','variables','Read\x20messages','QRCODE_UPDATED','instanceCount','opendirSync','OrAnd','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','updateBlock','--agree-tos','/refreshToken','size','*Pergunta*:\x20\x0a','DELIVERY_ACK','updateGParticipate','errno','getOwnPropertyNames','.sendDataWebhook-global','deleteDoneMessages','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','router','express','findChats','setRestartTimer','Type\x20not\x20found','numbers','unreadCount','lean','notMatchRegex','Erro\x20ao\x20normalizar\x20a\x20mensagem:','stanzaId','WEBHOOK_EVENTS_SEND_MESSAGE','group-participants.update','https://','flowIgnoreGroups','Type\x20defined\x20as\x20audio','presence.update','function','^\x5cd+','parse','editFlowVariable','findById','role','oldValue','.mp3','deleteMessage','ignoreGroups','FULLCHAIN','/:instanceName','getRandomText','sendWhatsAppAudio','updateReadReceiptsPrivacy','updateGParticipant','JWT','sendLocation','ORG:','selectableCount','uazapiSendText','group\x20ignored','matchRegex','readMessages','uuid','auth','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','editFlowBlock','exit','\x1b[46m','ChatModel','getAllData','WEBHOOK_EVENTS_CHATS_DELETE','findByIdAndUpdate','parseInt','flowStopMinutes','ContactModel','customFields','groupJid','isJidGroup','createGroup','/clients-info','poll','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','authState','\x20inseridas\x20no\x20banco\x20de\x20dados...','node-cache','formatBRNumber','padStart','temp-','https://uazapi-plugin.bubbleapps.io/?url=','generate','base64','SECRET','create','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','available','hGetAll','ex:\x20\x22groupJid=120362@g.us\x22','array','augusto.fcs@gmail.com','Parando\x20aplicação,\x20atualização\x20recebida','CONECTADO\x20À\x20UAZAPI','remove','Parando\x20aplicação...','app-state-sync-key','updateChatWithMessage','lastMessage','/wa-chats','notContains','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','getDevice','dbInstance','Schema','localWebhook','store','bodyString','\x20inseridos\x20no\x20banco\x20de\x20dados...','and','deleteReplyOption','including\x20timestamp\x20in\x20url:\x20','none','fetchChats','dbServer','sections','editflowblock','qrcode','last_update','Log\x20out\x20instance:\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','groups','EMAIL:','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','loadWebhook','state','errorLog','findAndReplace','):\x20debug\x20alterando\x20this.AutomateSystem','fetchMessages','flow','replace','less','rm\x20-rf\x20','Trying\x20to\x20get\x20business\x20profile','scheduleMessages','PREFIX_KEY','groupName','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','writeFile','currency','SSL_CONF','DATABASE','\x0aitem','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','unhandledRejection','$dbName','slice','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','\x1b[42m','eventHandler','participant','upperCase','fetchStatus','processgoToFlow','menuMessage','):\x20Edit\x20schedule\x20message...','findWebhook','ObjectId','removeInstance','sendMessage','connectionUpdate','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','isBusiness','getMIMEType','sendMessageWithTyping','title','resetReconnectionVariables','waMonit','WEBHOOK_EVENTS_CHATS_UPDATE','redisEnv','saveCreds','request\x20received\x20in\x20editFlowgroup','getVariablesChat','getContactModelForOwner','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','):\x20\x20isVote:\x20','vote','):\x20lastBlockId:\x20','/create','Error\x20in\x20scheduleNextCheck:\x20','DARK','convertToWebP','updateFlowConfig','lastSend','READ','qrcode-terminal','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','):\x20Criando\x20fluxo...','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','replaceVariables','data:\x20','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','verbose','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','getPrototypeOf','throwAndLogError','all','enumerable','Error\x20writing\x20file:\x20','Instance\x20logged\x20out','):\x20Editando\x20grupo\x20do\x20fluxo...','Esse\x20fluxo\x20expirou','last','\x1b[32m','logger','CORS','/webhook','Imagem\x20não\x20encontrada','chats','chatModify','):\x20Criando\x20nova\x20conversa','waUploadToServer','Erro\x20de\x20atualização:\x20','variable','findMessages','replaceVariablesLogs','phoneNumber','hGet','Sistema\x20atualizado\x20com\x20sucesso!','prepareMediaMessage','Not\x20is\x20business\x20profile','insert','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','image','SERVER_ACK','listen','):\x20Enviando\x20contato','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','status','):\x20Campos\x20a\x20serem\x20atualizados:','GLOBAL','\x20instance\x20does\x20not\x20exist','\x1b[31m%s\x1b[0m','conversationTimestamp','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','toLocaleString','isJWT','request\x20received\x20in\x20allFlows','isArray','isRunning','statusJidList','nomecompleto','deleteMany','sendText','):\x20Editando\x20replyOption...','instanceName\x20not\x20provided.','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','):\x20nextBlock.uazapi.name','\x1b[40m','padEnd','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','desc','ListMessage','getBusinessProfile','processPollUpdateMessage','Erro\x20ao\x20editar\x20agentes:\x20','ERROR','Message\x20not\x20found','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','text/event-stream','PRIVKEY','Instance\x20Key\x20from\x20DB:','cpf','Cache-Control','json','app','editFlowCondition','log','conditions','minutesToClose','stack','setHeader','):\x20Conversas\x20encontradas:','blockId','\x22\x20cannot\x20be\x20empty','The\x20instance\x20needs\x20to\x20be\x20disconnected','arraybuffer','/group','4857468uZFloG','toBRL','no-cache','chats.set','GROUPS_UPDATE','long','maxActives','syscall','DATABASE_CONNECTION_USER','\x20\x1b[0m','DEBUG','badSession','\x20não\x20encontrado\x20para\x20atualização.','allflows','isLong','client','sectionsToString','findConversation','/*.json','Nenhum\x20chat\x20encontrado\x20para\x20editar.','exec','request\x20received\x20in\x20editFlow','):\x20Bloco\x20com\x20ID\x20','imagechat','listType','stringify','Connection\x20closed\x20for\x20instance:\x20','abs','The\x20property\x20cannot\x20be\x20empty','Initial\x20__dirname:','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','editFlowVaredit','sendMedia','Audio\x20is\x20base64','API\x20Key\x20inválida.','):\x20Erro\x20durante\x20a\x20atualização:\x20','No\x20invite\x20code','setWebhook','isBase64','http','notas','isDirectory','.jwt','replacer','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','fetchBusinessProfile','Número:\x20','licenca','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','\x1b[43m','output','height','listMessage','item','cwd','pollUpdateMessage','NEW_JWT_TOKEN',',\x20Minutes\x20to\x20Close:\x20','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','optionDescription','originalUrl','buttonText','existsSync','user','):\x20','waitingMenu_replyOptions','Instance\x20ID:','new.jwt','participants','menuIgnoreNonVotes','#000000','contactsArrayMessage','sendStatus','createflow','Original\x20filename:','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','WEBHOOK_GLOBAL_ENABLED','\x1b[47m','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','decryptPollVote','DEL_INSTANCE','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Router','cleaningUp','WEBHOOK_EVENTS_NEW_JWT_TOKEN','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Method\x20not\x20implemented.','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','CLIENT','):\x20Erro\x20ao\x20editar\x20agentes:\x20','.png','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','SendScheduleMessage','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','reconnectTimestamps','):\x20Editando\x20edição\x20do\x20fluxo...','saveTextReply','Reinicialização\x20iniciada:\x20','headerString','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','hasOwnProperty','CONTACTS_UPDATE','Getting\x20image\x20from\x20url','WEBHOOK_EVENTS_MESSAGES_SET','chat','keys','updatePrivacySettings','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','next_groupId',',\x20qrcodeCount:\x20','express-async-errors','now','readMessageBot','stopped','lastCondition','):\x20Erro\x20ao\x20criar\x20fluxo\x20','media','FlowRouter','_Chats','formatVCard','Content-Type','stopMinutesMaxActives','Message','folder','WEBHOOK_EVENTS_STATUS_INSTANCE','connectToWhatsapp','webhookModel','updateMessage','):\x20Procurando\x20conversa','setNewValue','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','apirequest',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','instanceInfo','not_announcement','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','node-mime-types','saveChatVariables','sendPoll','envProcess','saveMediaToFile','Group\x20not\x20found','post','events','/wa-presence','boolean','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','demote','USER','WEBHOOK_EVENTS_MESSAGES_UPSERT','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','senderKeyDistributionMessage','newValue','envYaml','updateStatusPrivacy','action','fileName','?authSource=admin&readPreference=primary&directConnection=true','waitingMenu_text','\x1b[0m','Image\x20is\x20base64','\x0aFN:','Getting\x20profile\x20with\x20jid:\x20','Error\x20updating\x20profile\x20picture','email','vcard','CONTACTS_SET','saveVariable','deleteBlock','\x20chats\x20de\x20','apiResponse','mediaSticker','DisconnectReason','):\x20Erro\x20ao\x20buscar\x20conversas\x20','modifiedCount','delay','redisCache','getScheduleMessage','contactname','WEBHOOK_EVENTS_QRCODE_UPDATED','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','ReplyOption\x20com\x20ID\x20','Atualização:\x20','option','end','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','contains','processApiRequest','binary','Erro\x20ao\x20editar\x20o\x20chat:\x20','REDIS',',\x20Expiration\x20Time:\x20','MAX_RECONNECT_ATTEMPTS','certbot','lastSendMessage','scheduleSendAudio','findGroupInfos','tags','chatHandle','ON\x20-\x20dbName:\x20','updateProfileName','/wa-message-update','mimetype','AUTHENTICATION_API_KEY','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','certonly','statSync','audio/ogg','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','pop','CORS_METHODS','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','scheduleMessage','fromMe','dbSettings','getConversation','userDevicesCache','Error\x20while\x20deleting\x20message\x20for\x20everyone','\x20quoted:\x20','process','\x22\x20not\x20found','reviver','backgroundColor','findOne','includes','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','CORS_CREDENTIALS','emit','getBase64FromMediaMessage','webhook','pollCreationMessageV3','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','uazapiSendContact','SERVER_OFFLINE','charAt',',\x20saindo.','uazapiSendMenu','request\x20received\x20in\x20deleteDoneMessages','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','updateCustomFields','groupUpdateDescription','string','):\x20Procurando\x20mensagens\x20para\x20envio','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','Error\x20updating\x20profile\x20name','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Deleted\x20','utf8','dataValidate','endSession','Converting\x20image\x20to\x20WebP\x20to\x20sticker','788072IHdPPL','):\x20Buscando\x20todos\x20os\x20fluxos...','authModel','send.message','-instances','Flow\x20iniciado\x20com\x20','NextBlock','Valor\x20inicial:\x20\x22','code','mentions','/instance/create','endsWith','Audio\x20converted\x20to\x20mp4','toBrazilianNumberFormat','NODE_ENV','\x1b[33m\x1b[1m','dropCollection','groupMetadata','replaceValue','hex','truncatedto','):\x20customFieldVariables','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','setContext','GROUP_PARTICIPANTS_UPDATE','remote\x20\x22origin\x22','delaySecMax','finish','groupValidate','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20expirationTime:\x20','archive','default','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','groupId','Erro\x20inesperado\x20em\x20processvaredits:\x20','object','gifPlayback','Instância:\x20','@broadcast','rows','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','proto','desativadoFluxoAte','view\x20engine','TEL','segundos','The\x20instance\x20is\x20already\x20connected','unavailable','pollMessageOnDelete','/media/','response','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','editflowvaredit','):\x20Buscando\x20conversa...','displayName','env','description','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','variablesNotFound','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','scheduleSendText','editOperator','unreadcount','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','sem\x20texto\x20na\x20mensagem','WEBHOOK_EVENTS_CONTACTS_SET','QRCODE_LIMIT','method','owner','assign','expiration','PROD','noConnection','<subdomain>','quoted','flowActive','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','creds','mongodb://','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','URL:','archiveChat','):\x20Query\x20params:','goToFlow','findAndReplaceRegex','Desconectado,\x20parando\x20execução.','Error\x20in\x20markMessageAsRead:','picture','\x22\x20-\x20REMOVED','status.instance','equal','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','Close\x20connection','-whatsapp-api','getClient','editFlow','getTicketSystem','LOG_COLOR','map','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','creds.json','getProfileName','eventemitter2','textMessage','audioMessage','@whiskeysockets/baileys','updateProfileStatus','10048680pJTxuy','allContacts','#ffffff','error\x20get\x20vote','reconnectAttempts','editflowreply','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','configService','ip:\x20','axios','Image\x20path:\x20','editConversation','trim','PORT','request\x20body:\x20','apikey','):\x20conversation.waitingMenu_name','DB_PREFIX_NAME','compression','EXPIRIN_IN','replaceOne','processUazapi','path','No\x20participants','\x1b[44m','block','Temp\x20audio\x20deleted','request\x20received\x20in\x20scheduleMessage','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','greater','Not\x20Found','processvaredits','deleteMessageForEveryone','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','\x22reaction\x22\x20must\x20be\x20an\x20emoji','reorderBlocks','Enter\x20a\x20value\x20in\x20milliseconds','longitude','/message','!cmd_','.\x20Pulando.','generateWAMessageFromContent','save','URL','deleteAll','SINGLE_SELECT','pushName','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','lastBlockId','):\x20Going\x20to\x20','delayMessage','activatedCount','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','done','jpegThumbnail','):\x20Entrou\x20na\x20função\x20saveReply','getLastMessage','scheduleSendMedia','LOG','Converted\x20image\x20deleted','):\x20Bloco\x20copiado:\x20','Erro\x20do\x20Certbot:\x20','chats.delete','copy','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','call','):\x20newSecondValue\x20após\x20replaceVariables:','messageHandle','prototype','request\x20received\x20in\x20starFlow','mediaKey','findOneAndUpdate','isConnected','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','groupDesc','leaveGroup',',\x20Resultado:\x20','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','enabled','findGroups','replaceVariablesInObject','\x1b[34m%s\x1b[0m','test','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','tokenId','leadInfo.customFields','fetchProfilePictureUrl','DATABASE_CONNECTION_DB_PREFIX_NAME','The\x20global\x20api\x20key\x20must\x20be\x20set','waitingMenu_ExpiredMessage','instances','\x5cd+','info','processblock','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','findContacts','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','pollMessage',',\x20fará\x20nova\x20verificação\x20em\x20','verifiedName','warn','createConversationforStartFlow','number','website','):\x20Conversa\x20inserida\x20com\x20sucesso.','where','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','groupHandler','capitalizedWords','some','prefixCommand','_p_','evaluateCondition','File\x20written\x20to\x20path:\x20','stopMinutes','46267792XSnbsv','VERBOSE','.TEL;waid=','METHODS','msgRetryCounterCache','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','paused','webhookService','Logger','replaceVariablesInReplyOptions','urlOrBase64','repository','uazapiDeleteMessage','TYPE','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','Hash\x20to\x20audio\x20name:\x20','verify','match','stoppedUntil','nome','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','jwt','/media','Error\x20updating\x20profile\x20status','videoMessage','):\x20Fluxos\x20não\x20estão\x20ativados','responsavelid','LIMIT','message','replyOptions','delInstanceTime','HeaderType','createServer','viewOnceMessageV2','eventEmitter','inviteCode','sticker','creds.update','editflow','notify','bateu\x20events','stopIfLastReturnedError','cors','reactionMessage','getMessageModelForOwner','\x20segundos','connecting','groupToggleEphemeral','closeExistingConversations','):\x20transformedCustomFieldVariables','^\x5cd+[\x5c.@\x5cw-]+','AUTHENTICATION','web','sending','toFile','values','Conversa\x20deletada\x20com\x20sucesso.','Revoke\x20error','):\x20Error\x20processing\x20the\x20block:\x20','\x20-y','_Contacts','connectionStatus','DATABASE_CONNECTION_HOST','fetchContacts','StartBot','stdout','closed','mentioned','__esModule','Variáveis\x20não\x20encontradas:','convertedOptions','2801355zqXaCT','copyBlock','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','contacts.upsert','newName','revokeInviteCode','AUTHENTICATION_TYPE','Invalid\x20format','CONFIG_SESSION_PHONE_CLIENT','instance','validate','audio/ogg;\x20codecs=opus','groupSetting','Processing\x20audio','valid','NO_IP','editFlowReply','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','createConversationforgoToFlow','Getting\x20profile\x20info','WEBHOOK','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','HH:mm:ss','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','):\x20Limpando\x20delayMessage','splice','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','getOwnPropertyDescriptor','updateMediaMessage','deleteFlow','instanceName','getflow','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','writeData','audio/mp4','\x20foi\x20interrompido\x20pelo\x20usuário.','!stop','pollCreationMessageKey','checkAndRestartProcess','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Bloco\x20com\x20ID\x20','error','\x1b[31m','uazapiSendLocation','):\x20não\x20encontrou','STORE','\x20minutos.\x20Será\x20às\x20','@s.whatsapp.net','createClient','\x1b[36m%s\x1b[0m','delaySecMin',',\x20Comparador:\x20','readFileSync','AppStateSyncKeyData','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','pollCreationMessage','.refreshToken','pt-BR','ListType','):\x20Entrou\x20na\x20função\x20goToFlow','WEBHOOK_MAP','text','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','updateAgent','findGroup','):\x20alterando\x20this.AutomateSystem','flowName','sendMenu','contacts','contact','joinGroup','getTime','notEqual','floor','createConnection','stderr','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','buffer','statusCode','):\x20Deletando\x20mensagem','conversation','The\x20','unlinkSync','\x20não\x20encontrado\x20para\x20cópia','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','ReplyOptions\x20finais\x20após\x20reordenação:','privacySettings','readMessage','makeCacheableSignalKeyStore','success','API_KEY','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','saveConversationToDatabase','format','reaction','uncaughtException','request\x20received\x20in\x20updateCustomFields','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','createWebhook','ephemeralMessage','\x22,\x20valor\x20a\x20substituir:\x20\x22','):\x20Não\x20achou\x20nenhum\x20flow','menuExpiredMessage','authorization','/wa-contacts','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','instanceKeys','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','PRODUCT_LIST','deleteInstance','generateHash','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','updateOnlinePrivacy','apiName','loggedOut','Unknown\x20message\x20type\x20or\x20empty\x20message','no.connection','indexOf','/wa-groups','imageMessage','AutomateSystem\x20não\x20foi\x20inicializado','firstValue','toNumber','mongodb','QRCODE','@redis/client','):\x20Comando\x20desconhecido:\x20','headers','repeat','group','request\x20received\x20in\x20getFlow','@g.us','footerText','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','PRESENCE_UPDATE','Error\x20creating\x20group','Temp\x20image\x20deleted','limit','sendButtons','static','):\x20Ignoring\x20group\x20messages.','_Messages','atendimentoAberto','Output\x20path:\x20','toggleEphemeral','lastmsg','audio','start','LEVEL','updateConversation','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','contact_blacklist','pre','\x1b[1m','groups.update','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','pollCreationMessageV2','profile','Authentication\x20error','round','processingScheduleMessageId','.mp4','Getting\x20audio\x20from\x20url','getFlow','addBlock','deletedCount','getDelay','Instance\x20restarted','readdirSync','reorderReplyOptions','8080','createFlow','formatStatusMessage','MESSAGES_SET','shift','leadInfo.desativadoFluxoAte','12ZfFGuc','SEND_MESSAGE',',\x20resultado:\x20','\x20horas\x20e\x20','remove.instance','):\x20teve\x20mudanças\x20chat.displayName:\x20','address','updateLastSeenPrivacy','removeProfilePicture','createSectionsFromValues','reference','addReplyOption','toLowerCase','/chat','bearer','insertMany','editScheduleMessage','messageId','normalizeMessage','sendList','replyOption','video','messageTimestamp','menuType','isInteger','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','AutomateSystem','entries','.webp','convertaudio','findParticipants','BufferJSON','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','timerId','BRL','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','/exit','webhookMap','when','set','CHATS_DELETE','ButtonsMessage','\x22\x20-\x20NOT\x20CONNECTION','close','errors','connect','documentWithCaptionMessage','findIndex','namespace','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','apply','https://uazapi-plugin.bubbleapps.io/','\x1b[30m','editedMessage','https://github.com/uazapi/uazapi.git','list','realVariables','Error\x20updating\x20privacy\x20settings','}}\x20->\x20valor\x20não\x20encontrado','groupadd','https','chats.update','):\x20tem\x20blocks','Invalid\x20\x22oldToken\x22','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','detail','Fetching\x20business\x20profile','uazapiSendMedia','document','WEBHOOK_EVENTS_CONTACTS_UPSERT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','latitude','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','):\x20Criou\x20conversa\x20no\x20startFlow:','Media\x20folder\x20path:','contentText','END:VCARD','toString','blocks','https://chat.whatsapp.com/','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','getMessage','^\x5cd+([-]\x5cd+)*@g.us$','PENDING','TRIAL_INSTANCE_NAME','utf-8','mongoose','inner','variablesToObject','updateMany','DELETED','Instance\x20\x22','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','updateProfilePicturePrivacy','writeFileSync','name','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','/instance','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','encoding','presenceSubscribe','child_process','fullName','):\x20Conversa\x20atualizada\x20em\x20memória','announce','\x20minutos','put','CHATS_SET','WEBHOOK_EVENTS_CONTACTS_UPDATE','open','Error\x20change\x20group\x20setting','truncatedtoEnd','remoteJidsRemaining','random','Temp\x20audio\x20path:\x20','Internal\x20Server\x20Error','use','sleep','Erro\x20de\x20reinicialização:\x20','REDIS_PREFIX_KEY','count','):\x20updateResult:','caption','MESSAGES_UPDATE','everyOne','WARN','cleanStore','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','sendDataWebhook','viewOnceMessage','LICENSE_INVALID','contextInfo'];a0_0x2682=function(){return _0x2dcfcf;};return a0_0x2682();}async function ms(_0x1c737d,_0x578d58){const _0x14f4a4=a0_0x4e6726;let _0x48c0f7=new C(ms[_0x14f4a4(0x5a6)]),_0x2e7587=new ne(_0x1c737d,_0x578d58),_0x464ff=async(_0x42c6cb,_0x2e41d0)=>{const _0x406906=_0x14f4a4;try{return await _0x2e7587[_0x406906(0x4b6)](_0x2e41d0,_0x42c6cb);}catch(_0x50ea02){return _0x48c0f7[_0x406906(0x4be)]({'localError':_0x406906(0x4b6),'error':_0x50ea02});}},_0x1e6f3a=async _0x139c33=>{const _0x5de80e=_0x14f4a4;try{return await _0x2e7587['readData'](_0x139c33);}catch(_0x24a225){_0x48c0f7['error']({'readData':_0x5de80e(0x4b6),'error':_0x24a225});return;}},_0x226a20=async _0x1f4ddd=>{const _0x5123c5=_0x14f4a4;try{return await _0x2e7587[_0x5123c5(0x629)](_0x1f4ddd);}catch(_0x102265){_0x48c0f7[_0x5123c5(0x4be)]({'readData':'removeData','error':_0x102265});}},_0x51720d=await _0x1e6f3a(_0x14f4a4(0x3ba))||(0x0,Rt[_0x14f4a4(0x749)])();return{'state':{'creds':_0x51720d,'keys':{'get':async(_0x361324,_0x29be3f)=>{const _0x3fe530=_0x14f4a4;let _0x1966d3={};return await Promise[_0x3fe530(0x21b)](_0x29be3f['map'](async _0x553a59=>{const _0x19250e=_0x3fe530;let _0x242428=await _0x1e6f3a(_0x361324+'-'+_0x553a59);_0x361324===_0x19250e(0x1b6)&&_0x242428&&(_0x242428=Rt['proto']['Message'][_0x19250e(0x4ca)]['fromObject'](_0x242428)),_0x1966d3[_0x553a59]=_0x242428;})),_0x1966d3;},'set':async _0x220db9=>{const _0x56eaac=_0x14f4a4;let _0x312402=[];for(let _0x485775 in _0x220db9)for(let _0x20a9c6 in _0x220db9[_0x485775]){let _0x63b65e=_0x220db9[_0x485775][_0x20a9c6],_0x27f372=_0x485775+'-'+_0x20a9c6;_0x312402[_0x56eaac(0x73c)](_0x63b65e?await _0x464ff(_0x63b65e,_0x27f372):await _0x226a20(_0x27f372));}await Promise[_0x56eaac(0x21b)](_0x312402);}}},'saveCreds':async()=>await _0x464ff(_0x51720d,'creds')};}var x=M(require('fs')),Ot=require(a0_0x4e6726(0x788)),Dt=M(require('sharp'));function _(_0x233af6){const _0x4cbd47=a0_0x4e6726;if(_0x233af6[_0x4cbd47(0x5c8)]||_0x233af6[_0x4cbd47(0x46f)]){let _0x1d1986=_0x233af6[_0x4cbd47(0x5c8)]?_0x233af6['viewOnceMessage'][_0x4cbd47(0x46a)]:_0x233af6['viewOnceMessageV2'][_0x4cbd47(0x46a)];return(0x0,w[_0x4cbd47(0x6d5)])(_0x1d1986);}return _0x233af6['pollCreationMessageV3']?_0x4cbd47(0x357):_0x233af6[_0x4cbd47(0x532)]?'pollCreationMessageV2':_0x233af6[_0x4cbd47(0x700)]?_0x4cbd47(0x700):(0x0,w['getContentType'])(_0x233af6);}var ye=class c{constructor(_0x531029,_0x4d71b7,_0x50b334){const _0x1608df=a0_0x4e6726;this[_0x1608df(0x3df)]=_0x531029,this[_0x1608df(0x470)]=_0x4d71b7,this[_0x1608df(0x458)]=_0x50b334,this[_0x1608df(0x560)]=null,this[_0x1608df(0x223)]=new C(c['name']),this[_0x1608df(0x49e)]={},this['localWebhook']={},this['stateConnection']={'state':_0x1608df(0x571)},this[_0x1608df(0x5f9)]=(0x0,k[_0x1608df(0x6fa)])(Y,_0x1608df(0x690)),this['msgRetryCounterCache']=new fs[(_0x1608df(0x38c))](),this['userDevicesCache']=new fs[(_0x1608df(0x38c))](),this[_0x1608df(0x36a)]=!0x1,this['webhookMap']={'status.instance':'/wa-connection-update','qrcode.updated':_0x1608df(0x5cc),'messages.upsert':_0x1608df(0x702),'messages.update':_0x1608df(0x33a),'send.message':_0x1608df(0x702),'group.upsert':_0x1608df(0x50c),'group.update':'/wa-groups','group-participants.update':_0x1608df(0x50c),'connection.update':_0x1608df(0x601),'messages.set':_0x1608df(0x702),'contacts.set':_0x1608df(0x4fd),'contacts.upsert':_0x1608df(0x4fd),'contacts.update':'/wa-contacts','presence.update':_0x1608df(0x300),'chats.set':_0x1608df(0x1b9),'chats.update':_0x1608df(0x1b9),'chats.upsert':_0x1608df(0x1b9),'chats.delete':_0x1608df(0x1b9)},this[_0x1608df(0x3dc)]=0x0,this[_0x1608df(0x2cc)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xf,this[_0x1608df(0x63d)]=0x7530,this['isRunning']=!0x1,this[_0x1608df(0x337)]={'chats.upsert':async(_0x138f35,_0x4c13ca)=>{const _0x203624=_0x1608df;let _0x55dc33=[];for await(let _0x3bdc53 of _0x138f35)_0x55dc33[_0x203624(0x73c)]({'_id':_0x3bdc53['id'],'owner':this['instance'][_0x203624(0x72c)],'group':_0x3bdc53['id'][_0x203624(0x377)](_0x203624(0x519)),'name':_0x3bdc53[_0x203624(0x5a6)]||_0x3bdc53[_0x203624(0x3a3)]||null,'contactname':null,'lastmsg':_0x3bdc53[_0x203624(0x240)]&&_0x3bdc53[_0x203624(0x240)][_0x203624(0x594)]()[_0x203624(0x728)]<0xd?_0x3bdc53['conversationTimestamp']*0x3e8:_0x3bdc53[_0x203624(0x240)]||null,'archived':_0x3bdc53[_0x203624(0x630)]||!0x1,'unreadcount':_0x3bdc53[_0x203624(0x765)]||0x0});this['sendDataWebhook'](_0x203624(0x709),_0x55dc33);},'chats.update':async(_0x29fe2b,_0x471395)=>{const _0xf69eb1=_0x1608df;for(let _0x59d59a of _0x29fe2b){let _0x4c5ce8={'_id':_0x59d59a['id'],'owner':this[_0xf69eb1(0x49e)]['wuid'],'group':_0x59d59a['id']['endsWith']('@g.us'),'name':_0x59d59a['name']||_0x59d59a['displayName'],'archived':_0x59d59a[_0xf69eb1(0x630)]},_0x37cce0=!0x1,_0x500312={};_0x4c5ce8['archived']!=null&&(this[_0xf69eb1(0x223)][_0xf69eb1(0x217)](this[_0xf69eb1(0x4b3)]+'\x20('+this[_0xf69eb1(0x49e)][_0xf69eb1(0x72c)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x59d59a[_0xf69eb1(0x630)]),_0x37cce0=!0x0,_0x500312[_0xf69eb1(0x630)]=_0x59d59a['archived']),_0x59d59a[_0xf69eb1(0x5a6)]!=null&&(this[_0xf69eb1(0x223)][_0xf69eb1(0x217)](this[_0xf69eb1(0x4b3)]+'\x20('+this['instance'][_0xf69eb1(0x72c)]+_0xf69eb1(0x69a)+_0x59d59a[_0xf69eb1(0x5a6)]),_0x37cce0=!0x0,_0x500312[_0xf69eb1(0x5a6)]=_0x59d59a['name']),_0x59d59a[_0xf69eb1(0x3a3)]!=null&&(this['logger'][_0xf69eb1(0x217)](this['instanceName']+'\x20('+this[_0xf69eb1(0x49e)][_0xf69eb1(0x72c)]+_0xf69eb1(0x54b)+_0x59d59a[_0xf69eb1(0x3a3)]),_0x37cce0=!0x0,_0x500312[_0xf69eb1(0x5a6)]=_0x59d59a[_0xf69eb1(0x3a3)]);let _0x3e5313;_0x37cce0&&(_0x3e5313=await this[_0xf69eb1(0x458)][_0xf69eb1(0x2d6)][_0xf69eb1(0x617)]({'where':{'_id':_0x59d59a['id'],'owner':this[_0xf69eb1(0x49e)][_0xf69eb1(0x72c)]}},_0x500312)),_0x3e5313&&q(this[_0xf69eb1(0x4b3)],_0xf69eb1(0x227),{'chat':_0x3e5313});}},'chats.delete':async _0xd25143=>{const _0x2bd304=_0x1608df;this['sendDataWebhook'](_0x2bd304(0x418),[..._0xd25143]);}},this[_0x1608df(0x6cd)]={'contacts.upsert':async(_0x495ef4,_0x2f11bb)=>{const _0x6ee59b=_0x1608df;let _0x1cd43c=await this['repository'][_0x6ee59b(0x4da)][_0x6ee59b(0x6b1)]({'where':{'owner':this['instance'][_0x6ee59b(0x72c)]}}),_0x7990d1=[];for await(let _0x543f75 of _0x495ef4)_0x1cd43c[_0x6ee59b(0x6b1)](_0x52bf66=>_0x52bf66[_0x6ee59b(0x5fb)]===_0x543f75['id'])||_0x7990d1['push']({'_id':_0x543f75['id'],'pushName':_0x543f75?.[_0x6ee59b(0x5a6)]||_0x543f75?.[_0x6ee59b(0x43d)],'owner':this['instance'][_0x6ee59b(0x72c)]});this[_0x6ee59b(0x5c7)](_0x6ee59b(0x498),_0x7990d1),await this['repository'][_0x6ee59b(0x4da)][_0x6ee59b(0x234)](_0x7990d1);},'contacts.update':async(_0x12528e,_0xee9c0f)=>{const _0x88a575=_0x1608df;let _0x5c6915=[];for await(let _0x531d1b of _0x12528e)_0x5c6915[_0x88a575(0x73c)]({'_id':_0x531d1b['id'],'pushName':_0x531d1b?.[_0x88a575(0x5a6)]??_0x531d1b?.[_0x88a575(0x43d)],'owner':this[_0x88a575(0x49e)][_0x88a575(0x72c)]});this[_0x88a575(0x5c7)](_0x88a575(0x6a9),_0x5c6915);}},this[_0x1608df(0x41d)]={'messaging-history.set':async({messages:_0x44502a,chats:_0x44ebdc,isLatest:_0x4f04a7},_0x5b61d9)=>{const _0x29ce7a=_0x1608df;if(_0x4f04a7){let _0x40983d=await Promise[_0x29ce7a(0x21b)](_0x44ebdc[_0x29ce7a(0x3cf)](async _0x1a34b5=>({'_id':_0x1a34b5['id'],'owner':this['instance'][_0x29ce7a(0x72c)],'group':_0x1a34b5['id']['endsWith'](_0x29ce7a(0x519)),'name':_0x1a34b5[_0x29ce7a(0x5a6)]||_0x1a34b5['displayName']||null,'contactname':null,'lastmsg':_0x1a34b5['conversationTimestamp']&&_0x1a34b5['conversationTimestamp'][_0x29ce7a(0x594)]()[_0x29ce7a(0x728)]<0xd?_0x1a34b5[_0x29ce7a(0x240)]*0x3e8:_0x1a34b5[_0x29ce7a(0x240)]||null,'archived':_0x1a34b5[_0x29ce7a(0x630)]||!0x1,'unreadcount':_0x1a34b5[_0x29ce7a(0x765)]||0x0})));this[_0x29ce7a(0x5c7)](_0x29ce7a(0x270),_0x40983d),await this['upsertChats'](_0x40983d,_0x5b61d9);}let _0xc1fae1=[],_0x486e23=Date[_0x29ce7a(0x2dd)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x25fb69]of Object[_0x29ce7a(0x561)](_0x44502a)){if(_0x25fb69[_0x29ce7a(0x46a)]?.[_0x29ce7a(0x732)]||_0x25fb69[_0x29ce7a(0x46a)]?.[_0x29ce7a(0x308)]||!_0x25fb69[_0x29ce7a(0x46a)]||_0x25fb69[_0x29ce7a(0x737)][_0x29ce7a(0x719)]===_0x29ce7a(0x5f0)||(hs[_0x29ce7a(0x38c)]['isLong'](_0x25fb69?.['messageTimestamp'])&&(_0x25fb69[_0x29ce7a(0x55c)]=_0x25fb69[_0x29ce7a(0x55c)]?.[_0x29ce7a(0x510)]()),_0x25fb69['messageTimestamp']&&_0x25fb69[_0x29ce7a(0x55c)]['toString']()[_0x29ce7a(0x728)]<0xd&&(_0x25fb69[_0x29ce7a(0x55c)]=_0x25fb69[_0x29ce7a(0x55c)]*0x3e8),_0x25fb69[_0x29ce7a(0x55c)]<_0x486e23))continue;let {message_normalized:_0x2daa1b}=this[_0x29ce7a(0x558)](_0x25fb69['message'],_(_0x25fb69[_0x29ce7a(0x46a)]),null);Object[_0x29ce7a(0x2d7)](_0x2daa1b)['length']>0x0&&_0xc1fae1[_0x29ce7a(0x73c)]({'_id':_0x25fb69['key']['id'],'key':_0x25fb69[_0x29ce7a(0x737)],'pushName':_0x25fb69[_0x29ce7a(0x407)],'participant':_0x25fb69[_0x29ce7a(0x1ed)],'message':{..._0x25fb69[_0x29ce7a(0x46a)]},'messageType':_(_0x25fb69[_0x29ce7a(0x46a)]),'message_normalized':{'key':_0x25fb69[_0x29ce7a(0x737)],'pushName':_0x25fb69[_0x29ce7a(0x407)],'messageTimestamp':_0x25fb69['messageTimestamp'],..._0x2daa1b},'messageTimestamp':_0x25fb69['messageTimestamp'],'owner':this['instance'][_0x29ce7a(0x72c)]});}_0x5b61d9[_0x29ce7a(0x5ed)]&&_0xc1fae1[_0x29ce7a(0x728)]>0x0&&(this[_0x29ce7a(0x223)][_0x29ce7a(0x217)](this[_0x29ce7a(0x4b3)]+'\x20('+this[_0x29ce7a(0x49e)][_0x29ce7a(0x72c)]+_0x29ce7a(0x2ad)+_0xc1fae1[_0x29ce7a(0x728)]+'\x20mensagens\x20de\x20'+this[_0x29ce7a(0x49e)]['wuid']+_0x29ce7a(0x79d)),await this[_0x29ce7a(0x458)][_0x29ce7a(0x46a)][_0x29ce7a(0x234)]([..._0xc1fae1])),this[_0x29ce7a(0x5c7)]('messages.set',[..._0xc1fae1]),_0x44502a=void 0x0;},'messages.upsert':async({messages:_0x3bfbbe,type:_0xb077a3},_0x2d5672)=>{const _0x92aa2e=_0x1608df;let _0x5c9ca3=_0x3bfbbe[0x0];if(_0xb077a3!==_0x92aa2e(0x475)||!_0x5c9ca3?.[_0x92aa2e(0x46a)]||_0x5c9ca3['message']?.[_0x92aa2e(0x732)]||_0x5c9ca3['message'][_0x92aa2e(0x308)]||_0x5c9ca3[_0x92aa2e(0x737)][_0x92aa2e(0x719)]===_0x92aa2e(0x5f0))return;let _0x5e5f38=null,_0x4fffe2=null;try{_0x5e5f38=await this[_0x92aa2e(0x255)](_0x5c9ca3),_0x4fffe2=_0x5e5f38?_0x5e5f38['join'](','):null;}catch(_0x50f7dc){this[_0x92aa2e(0x223)][_0x92aa2e(0x217)](this[_0x92aa2e(0x4b3)]+'\x20('+this['instance'][_0x92aa2e(0x72c)]+_0x92aa2e(0x2ad)+(_0x50f7dc instanceof Error?_0x50f7dc[_0x92aa2e(0x46a)]:JSON[_0x92aa2e(0x286)](_0x50f7dc,null,0x2))),_0x4fffe2=_0x92aa2e(0x3db);}if(this[_0x92aa2e(0x27c)][_0x92aa2e(0x668)](_0x92aa2e(0x39c)),hs['default'][_0x92aa2e(0x27b)](_0x5c9ca3[_0x92aa2e(0x55c)])&&(_0x5c9ca3[_0x92aa2e(0x55c)]=_0x5c9ca3['messageTimestamp']?.[_0x92aa2e(0x510)]()),this[_0x92aa2e(0x1bf)]?.[_0x92aa2e(0x6d3)]&&_0x5c9ca3[_0x92aa2e(0x737)][_0x92aa2e(0x719)][_0x92aa2e(0x351)](_0x92aa2e(0x519))){this[_0x92aa2e(0x223)][_0x92aa2e(0x217)]('group\x20ignored');return;}_0x5c9ca3[_0x92aa2e(0x55c)]&&_0x5c9ca3[_0x92aa2e(0x55c)][_0x92aa2e(0x594)]()[_0x92aa2e(0x728)]<0xd&&(_0x5c9ca3[_0x92aa2e(0x55c)]=_0x5c9ca3['messageTimestamp']*0x3e8);let _0x4b51eb=_0x5c9ca3[_0x92aa2e(0x46a)],{messageContent:_0x290c5b,message_normalized:_0x32f25a}=this[_0x92aa2e(0x558)](_0x4b51eb,_(_0x5c9ca3[_0x92aa2e(0x46a)]),_0x4fffe2);_0x290c5b||console[_0x92aa2e(0x4be)](_0x92aa2e(0x6c7));let _0x11ae65={'_id':_0x5c9ca3[_0x92aa2e(0x737)]['id'],'key':_0x5c9ca3[_0x92aa2e(0x737)],'pushName':_0x5c9ca3[_0x92aa2e(0x407)],'message':{..._0x5c9ca3[_0x92aa2e(0x46a)]},'messageType':_(_0x5c9ca3[_0x92aa2e(0x46a)]),'message_normalized':{'key':_0x5c9ca3['key'],'pushName':_0x5c9ca3['pushName'],'messageTimestamp':_0x5c9ca3[_0x92aa2e(0x55c)],'source':(0x0,w['getDevice'])(_0x5c9ca3[_0x92aa2e(0x737)]['id']),..._0x32f25a},'messageTimestamp':_0x5c9ca3[_0x92aa2e(0x55c)],'owner':this[_0x92aa2e(0x49e)][_0x92aa2e(0x72c)]};this[_0x92aa2e(0x223)][_0x92aa2e(0x262)](_0x11ae65),await this[_0x92aa2e(0x458)][_0x92aa2e(0x46a)][_0x92aa2e(0x234)]([_0x11ae65]),this['sendDataWebhook'](_0x92aa2e(0x730),_0x11ae65),q(this[_0x92aa2e(0x4b3)],_0x92aa2e(0x6ef),{'message':_0x11ae65}),_0x5c9ca3['key']['remoteJid']!==_0x92aa2e(0x5f0)&&await this[_0x92aa2e(0x1b7)](_0x2d5672,_0x11ae65,_0x92aa2e(0x60a));},'messages.update':async(_0x57e206,_0x193063)=>{const _0x33753c=_0x1608df;let _0x28b9ab={0x0:_0x33753c(0x257),0x1:_0x33753c(0x59a),0x2:_0x33753c(0x237),0x3:_0x33753c(0x758),0x4:_0x33753c(0x20f),0x5:_0x33753c(0x607)};for await(let {key:_0x4b3208,update:_0x59f4ee}of _0x57e206){if(this[_0x33753c(0x1bf)]?.[_0x33753c(0x6d3)]&&_0x4b3208[_0x33753c(0x719)][_0x33753c(0x351)]('@g.us')){this[_0x33753c(0x223)][_0x33753c(0x217)](_0x33753c(0x785));return;}if(_0x4b3208[_0x33753c(0x719)]!=='status@broadcast'){let _0x2886b4=Date[_0x33753c(0x2dd)](),_0xcd63d9;_0x59f4ee[_0x33753c(0x46a)]===null&&_0x59f4ee[_0x33753c(0x23b)]===void 0x0?_0xcd63d9='DELETED':_0xcd63d9=_0x28b9ab[_0x59f4ee[_0x33753c(0x23b)]];let _0x569822=_0x4b3208[_0x33753c(0x719)][_0x33753c(0x1d9)](/:\d{1,2}@/g,'@'),_0x5d5f74={..._0x4b3208,'remoteJid':_0x569822,'status':_0xcd63d9,'datetime':_0x2886b4,'owner':this['instance']['wuid']};this[_0x33753c(0x5c7)]('messages.update',_0x5d5f74),await this[_0x33753c(0x2ed)](_0x4b3208,_0x569822,_0x5d5f74);}}}},this[_0x1608df(0x445)]={'groups.upsert':_0x1e0194=>{const _0xf300c9=_0x1608df;this[_0xf300c9(0x5c7)](_0xf300c9(0x6a7),_0x1e0194);},'groups.update':_0x2ae20d=>{const _0x5162e7=_0x1608df;this[_0x5162e7(0x5c7)](_0x5162e7(0x530),_0x2ae20d);},'group-participants.update':_0x1a32fb=>{const _0x65a30c=_0x1608df;this[_0x65a30c(0x5c7)](_0x65a30c(0x76b),_0x1a32fb);}},this['processPollUpdateMessage']=async _0x134d6c=>{const _0xf1327f=_0x1608df;if(_0x134d6c[_0xf1327f(0x46a)]?.[_0xf1327f(0x2a4)]){let _0x599c4a=await this[_0xf1327f(0x598)](_0x134d6c[_0xf1327f(0x46a)][_0xf1327f(0x2a4)][_0xf1327f(0x4ba)],!0x0);if(_0x599c4a){let _0x13603e=_0x599c4a[_0xf1327f(0x737)][_0xf1327f(0x346)]?this['instance'][_0xf1327f(0x72c)]+'@s.whatsapp.net':_0x599c4a['key'][_0xf1327f(0x1ed)]||_0x599c4a['key']['remoteJid'],_0x4604dc=_0x599c4a[_0xf1327f(0x737)]['id'],_0x5562ca=_0x599c4a[_0xf1327f(0x46a)],_0x16de98=Buffer['from'](_0x5562ca['messageContextInfo']['messageSecret']['toString']('hex'),_0xf1327f(0x37f)),_0x6eb2fd=(0x0,w[_0xf1327f(0x2bc)])(_0x134d6c[_0xf1327f(0x46a)]['pollUpdateMessage']['vote'],{'pollCreatorJid':_0x13603e,'pollMsgId':_0x4604dc,'pollEncKey':_0x16de98,'voterJid':_0x134d6c[_0xf1327f(0x737)][_0xf1327f(0x346)]?this[_0xf1327f(0x49e)][_0xf1327f(0x72c)]+_0xf1327f(0x4c4):_0x134d6c[_0xf1327f(0x737)][_0xf1327f(0x719)][_0xf1327f(0x377)](_0xf1327f(0x706))?_0x134d6c[_0xf1327f(0x737)]['participant']:_0x134d6c[_0xf1327f(0x737)][_0xf1327f(0x719)]}),_0x4e7f96=[],_0x15815c=_0x6eb2fd['selectedOptions'][_0xf1327f(0x3cf)](_0x54317f=>Buffer[_0xf1327f(0x725)](_0x54317f)[_0xf1327f(0x594)](_0xf1327f(0x37f)));for(let {optionName:_0x58a50e}of _0x5562ca[_0xf1327f(0x4cc)]?.[_0xf1327f(0x6fb)]||_0x5562ca[_0xf1327f(0x357)]?.[_0xf1327f(0x6fb)]||_0x5562ca[_0xf1327f(0x532)]?.[_0xf1327f(0x6fb)])_0x15815c[_0xf1327f(0x50b)]((0x0,w['sha256'])(Buffer['from'](_0x58a50e))[_0xf1327f(0x594)](_0xf1327f(0x37f)))>-0x1&&_0x4e7f96[_0xf1327f(0x73c)](_0x58a50e);return _0x4e7f96;}}return null;},this[_0x1608df(0x558)]=(_0x23a293,_0x26d201,_0x307d64)=>{const _0x239120=_0x1608df;try{let _0x1df679=_0x26d201?_0x23a293[_0x26d201]:void 0x0,_0x2d03f5={},_0x435b15=null,_0x373861=null,_0x12a631=null;if(_0x23a293[_0x239120(0x46f)]?(_0x26d201=_(_0x23a293['viewOnceMessageV2'][_0x239120(0x46a)]),_0x1df679=_0x23a293[_0x239120(0x46f)]['message'][_0x26d201]):_0x23a293[_0x239120(0x700)]?(_0x26d201=_(_0x23a293['viewOnceMessageV2Extension'][_0x239120(0x46a)]),_0x1df679=_0x23a293[_0x239120(0x700)]['message'][_0x26d201]):_0x23a293['viewOnceMessage']?(_0x26d201=_(_0x23a293[_0x239120(0x5c8)][_0x239120(0x46a)]),_0x1df679=_0x23a293[_0x239120(0x5c8)][_0x239120(0x46a)][_0x26d201]):_0x23a293[_0x239120(0x4f8)]?(_0x26d201=_(_0x23a293[_0x239120(0x46a)]['ephemeralMessage'][_0x239120(0x46a)]),_0x1df679=_0x23a293['message'][_0x239120(0x4f8)]['message'][_0x26d201]):_0x23a293[_0x239120(0x57c)]?.['message']?.['protocolMessage']?.['editedMessage']?(_0x26d201=_(_0x23a293[_0x239120(0x57c)][_0x239120(0x46a)][_0x239120(0x732)][_0x239120(0x57c)]),_0x435b15=_0x23a293[_0x239120(0x57c)][_0x239120(0x46a)][_0x239120(0x732)][_0x239120(0x737)]['id'],_0x1df679=_0x23a293[_0x239120(0x57c)]['message'][_0x239120(0x732)]['editedMessage'][_0x26d201]):_0x1df679=_0x23a293[_0x26d201],!_0x26d201||!_0x1df679)return console[_0x239120(0x4be)](_0x239120(0x509),_0x23a293),{'messageType':_0x26d201,'messageContent':_0x1df679,'message_normalized':{}};_0x23a293[_0x26d201]?.[_0x239120(0x5ca)]?.[_0x239120(0x769)]&&_0x23a293[_0x26d201]?.['contextInfo']?.['quotedMessage']&&(_0x373861=_0x23a293[_0x26d201][_0x239120(0x5ca)][_0x239120(0x769)]),_0x23a293['reactionMessage']&&(_0x12a631=_0x23a293[_0x239120(0x479)][_0x239120(0x737)]['id']);let _0x4631ed;if(_0x1df679&&typeof _0x1df679==_0x239120(0x390)&&_0x239120(0x4ba)in _0x1df679&&({pollCreationMessageKey:_0x4631ed}=_0x1df679),_0x26d201===_0x239120(0x574)){let _0x504ac7=_0x1df679?.[_0x239120(0x46a)]?.['documentMessage'];_0x504ac7&&(_0x1df679=_0x504ac7);}if(_0x26d201===_0x239120(0x4cc)||_0x26d201===_0x239120(0x532)||_0x26d201===_0x239120(0x357)){let _0x4f72fd=_0x1df679[_0x239120(0x6fb)][_0x239120(0x3cf)](_0x5caf6d=>_0x5caf6d[_0x239120(0x634)])[_0x239120(0x6fa)]('|');_0x2d03f5[_0x239120(0x494)]=_0x4f72fd;}let _0x420444=_0x1df679[_0x239120(0x5a6)]||_0x1df679[_0x239120(0x5c1)]||_0x1df679['conversation']||_0x1df679[_0x239120(0x3a3)];if(_0x26d201===_0x239120(0x2a1)){_0x420444=(_0x1df679[_0x239120(0x1fc)]||'')+'\x0a'+(_0x1df679['description']||'')+'\x0a'+(_0x1df679[_0x239120(0x51a)]||'');let _0x417dac=this[_0x239120(0x27d)](_0x1df679[_0x239120(0x1c9)]);_0x2d03f5[_0x239120(0x494)]=_0x417dac;}if(_0x26d201===_0x239120(0x62e)&&(_0x307d64=_0x1df679[_0x239120(0x1fc)]),_0x1df679['vcard']){let _0x8c1a46=this[_0x239120(0x2e5)](JSON[_0x239120(0x286)](_0x1df679[_0x239120(0x316)],null,0x2));_0x420444=_0x420444+'\x0a'+_0x8c1a46;}if(_0x1df679){let {sections:_0x55b453,listType:_0x1b57dd,displayName:_0x12f3ab,vcard:_0x9e7caa,contactVcard:_0x4c0507,name:_0x416d7b,caption:_0x2cb0c6,conversation:_0x1a27bd,pollCreationMessageKey:_0x5affb5,footerText:_0x33fde7,contentText:_0x5a0315,pageCount:_0x3b6d55,headerType:_0x35071f,isAvatar:_0x4d98fa,isAnimated:_0x21a617,fallbackLc:_0x4e5ef9,fallbackLg:_0xa65033,namespace:_0x26cec5,elementName:_0x4b82c9,localizableParams:_0x4939bf,viewOnce:_0x358dd0,height:_0x3c0eb8,width:_0x2841d3,key:_0xd6e25a,firstScanLength:_0x1d3a6c,firstScanSidecar:_0x58c667,gifPlayback:_0x244657,gifAttribution:_0x9f9fe,midQualityFileSha256:_0x5877a1,scansSidecar:_0x13b9ed,streamingSidecar:_0x2392cc,thumbnailHeight:_0x2068d0,thumbnailWidth:_0x51fd8c,thumbnailEncSha256:_0x4e2d71,thumbnailDirectPath:_0x4cddb9,canonicalUrl:_0x2c1188,matchedText:_0x58cd1a,previewType:_0x221e09,thumbnailSha256:_0x2f1407,deviceListMetadataVersion:_0x135591,inviteLinkGroupTypeV2:_0x4a102c,interactiveAnnotations:_0x30c887,scanLengths:_0xd7304,jpegThumbnail:_0x2c4199,url:_0x59ded4,mediaKeyTimestamp:_0x294ee8,waveform:_0x233f37,stickerSentTs:_0x3a8ebe,firstFrameLength:_0xaa6272,fileEncSha256:_0x49670d,contextInfo:_0x5e39a7,firstFrameSidecar:_0x43f215,directPath:_0xa964a6,fileSha256:_0x377e0e,mediaKey:_0x531603,senderTimestampMs:_0x4fd87d,..._0x3581f2}=_0x1df679;(_0x26d201===_0x239120(0x2a1)||_0x26d201===_0x239120(0x62e))&&(delete _0x3581f2[_0x239120(0x1fc)],delete _0x3581f2['description']),typeof _0x1df679=='string'?_0x2d03f5={'text':_0x1df679,'type':_0x26d201||_0x239120(0x4e5),..._0x435b15&&{'edited':_0x435b15},..._0x373861&&{'quoted':_0x373861},..._0x12a631&&{'reaction':_0x12a631}}:_0x2d03f5={'text':_0x420444,..._0x3581f2,..._0x26d201===_0x239120(0x2a4)?{'poll_id':_0x1df679['pollCreationMessageKey']['id'],'quoted':_0x1df679['pollCreationMessageKey']['id'],'vote':_0x307d64}:{},..._0x26d201===_0x239120(0x62e)?{'vote':_0x307d64}:{},'type':_0x26d201,..._0x435b15&&{'edited':_0x435b15},..._0x373861&&{'quoted':_0x373861},..._0x12a631&&{'reaction':_0x12a631},...(_0x26d201==='pollCreationMessage'||_0x26d201===_0x239120(0x532)||_0x26d201===_0x239120(0x357)||_0x26d201===_0x239120(0x2a1))&&{'convertedOptions':_0x2d03f5[_0x239120(0x494)]}};}return{'messageType':_0x26d201,'messageContent':_0x1df679,'message_normalized':_0x2d03f5};}catch(_0xa447ef){console[_0x239120(0x4be)](_0x239120(0x768),_0xa447ef);}},this[_0x1608df(0x536)]=null,this[_0x1608df(0x20e)]=0x0,this[_0x1608df(0x567)]=null,(this[_0x1608df(0x5c5)](),this[_0x1608df(0x49e)][_0x1608df(0x1cb)]={'count':0x0});}set[a0_0x4e6726(0x4b3)](_0xf808e5){const _0x21c639=a0_0x4e6726;if(!_0xf808e5){this[_0x21c639(0x49e)][_0x21c639(0x5a6)]=(0x0,so['v4'])();return;}this[_0x21c639(0x49e)]['name']=_0xf808e5,this[_0x21c639(0x5c7)]('status.instance',{'instance':this[_0x21c639(0x49e)][_0x21c639(0x5a6)],'status':'created'});}get[a0_0x4e6726(0x4b3)](){const _0x3337ea=a0_0x4e6726;return this['instance'][_0x3337ea(0x5a6)];}get[a0_0x4e6726(0x72c)](){const _0x2d936f=a0_0x4e6726;return this[_0x2d936f(0x49e)][_0x2d936f(0x72c)];}async[a0_0x4e6726(0x3d2)](){const _0x2a0d3b=a0_0x4e6726;let _0x2bb959=this[_0x2a0d3b(0x27c)][_0x2a0d3b(0x2ac)]?.[_0x2a0d3b(0x5a6)]??this[_0x2a0d3b(0x27c)][_0x2a0d3b(0x2ac)]?.[_0x2a0d3b(0x43d)];if(!_0x2bb959){if(this[_0x2a0d3b(0x3df)][_0x2a0d3b(0x671)](_0x2a0d3b(0x1e4))[_0x2a0d3b(0x5ed)]){let _0x15122a=await R['getClient']()['db'](this[_0x2a0d3b(0x3df)][_0x2a0d3b(0x671)](_0x2a0d3b(0x1e4))[_0x2a0d3b(0x6f4)][_0x2a0d3b(0x3e9)]+_0x2a0d3b(0x370))[_0x2a0d3b(0x67c)](this['instanceName'])['findOne']({'_id':_0x2a0d3b(0x3ba)});if(_0x15122a){let _0x16df59=JSON[_0x2a0d3b(0x772)](JSON[_0x2a0d3b(0x286)](_0x15122a),w['BufferJSON']['reviver']);_0x2bb959=_0x16df59['me']?.['name']||_0x16df59['me']?.[_0x2a0d3b(0x43d)];}}else{if((0x0,Me[_0x2a0d3b(0x2ab)])((0x0,k['join'])(j,this[_0x2a0d3b(0x4b3)],_0x2a0d3b(0x3d1)))){let _0x1988ef=JSON['parse']((0x0,Me[_0x2a0d3b(0x4c9)])((0x0,k[_0x2a0d3b(0x6fa)])(j,this['instanceName'],_0x2a0d3b(0x3d1)),{'encoding':_0x2a0d3b(0x59c)}));_0x2bb959=_0x1988ef['me']?.['name']||_0x1988ef['me']?.[_0x2a0d3b(0x43d)];}}}return _0x2bb959;}get['profilePictureUrl'](){const _0x1e596b=a0_0x4e6726;return this['instance'][_0x1e596b(0x67a)];}get[a0_0x4e6726(0x5f1)](){const _0x58647c=a0_0x4e6726;return{'code':this['instance'][_0x58647c(0x1cb)]?.['code'],'base64':this[_0x58647c(0x49e)]['qrcode']?.['base64']};}async[a0_0x4e6726(0x1d2)](){const _0x45b676=a0_0x4e6726;let _0x4bb4e3=await this['repository'][_0x45b676(0x356)][_0x45b676(0x6b1)](this['instanceName']);this['localWebhook']['url']=_0x4bb4e3?.[_0x45b676(0x70d)],this[_0x45b676(0x1bf)][_0x45b676(0x428)]=_0x4bb4e3?.[_0x45b676(0x428)],this[_0x45b676(0x1bf)][_0x45b676(0x63c)]=_0x4bb4e3?.[_0x45b676(0x63c)],this[_0x45b676(0x1bf)][_0x45b676(0x693)]=_0x4bb4e3?.[_0x45b676(0x693)],this[_0x45b676(0x1bf)]['QRCODE_UPDATED']=_0x4bb4e3?.[_0x45b676(0x74e)],this[_0x45b676(0x1bf)][_0x45b676(0x547)]=_0x4bb4e3?.[_0x45b676(0x547)],this[_0x45b676(0x1bf)][_0x45b676(0x60a)]=_0x4bb4e3?.[_0x45b676(0x60a)],this[_0x45b676(0x1bf)][_0x45b676(0x5c2)]=_0x4bb4e3?.[_0x45b676(0x5c2)],this[_0x45b676(0x1bf)][_0x45b676(0x6d9)]=_0x4bb4e3?.[_0x45b676(0x6d9)],this[_0x45b676(0x1bf)]['GROUPS_UPDATE']=_0x4bb4e3?.[_0x45b676(0x271)],this[_0x45b676(0x1bf)][_0x45b676(0x384)]=_0x4bb4e3?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x45b676(0x1bf)][_0x45b676(0x5b2)]=_0x4bb4e3?.['CHATS_SET'],this['localWebhook'][_0x45b676(0x6d1)]=_0x4bb4e3?.[_0x45b676(0x6d1)],this[_0x45b676(0x1bf)]['CHATS_UPDATE']=_0x4bb4e3?.[_0x45b676(0x6c1)],this[_0x45b676(0x1bf)]['CHATS_DELETE']=_0x4bb4e3?.[_0x45b676(0x56e)],this['localWebhook'][_0x45b676(0x317)]=_0x4bb4e3?.[_0x45b676(0x317)],this[_0x45b676(0x1bf)][_0x45b676(0x633)]=_0x4bb4e3?.[_0x45b676(0x633)],this[_0x45b676(0x1bf)][_0x45b676(0x2d3)]=_0x4bb4e3?.[_0x45b676(0x2d3)],this[_0x45b676(0x1bf)][_0x45b676(0x51c)]=_0x4bb4e3?.[_0x45b676(0x51c)],this['localWebhook'][_0x45b676(0x543)]=_0x4bb4e3?.['MESSAGES_SET'],this[_0x45b676(0x1bf)][_0x45b676(0x622)]=_0x4bb4e3?.['CONNECTION_UPDATE'],this[_0x45b676(0x1bf)][_0x45b676(0x6d3)]=_0x4bb4e3?.[_0x45b676(0x6d3)];}async['setWebhook'](_0x293502){const _0x475623=a0_0x4e6726;let _0x312acc=[_0x475623(0x5fb),_0x475623(0x70d),_0x475623(0x428),_0x475623(0x63c),_0x475623(0x693),_0x475623(0x74e),_0x475623(0x5c2),_0x475623(0x60a),_0x475623(0x547),'GROUPS_UPSERT',_0x475623(0x271),_0x475623(0x384),_0x475623(0x5b2),'CHATS_UPSERT',_0x475623(0x6c1),_0x475623(0x56e),'CONTACTS_SET',_0x475623(0x633),_0x475623(0x2d3),'PRESENCE_UPDATE',_0x475623(0x543),_0x475623(0x622),_0x475623(0x6d3)],_0x40256c={};return _0x312acc[_0x475623(0x655)](_0x341089=>{_0x293502[_0x341089]!==void 0x0&&(_0x40256c[_0x341089]=_0x293502[_0x341089]);}),await this['repository']['webhook'][_0x475623(0x1ab)](_0x40256c,this[_0x475623(0x4b3)]),Object[_0x475623(0x3b2)](this[_0x475623(0x1bf)],_0x40256c),await this[_0x475623(0x458)][_0x475623(0x356)][_0x475623(0x6b1)](this['instanceName']);}async[a0_0x4e6726(0x1f3)](){const _0x53b270=a0_0x4e6726;return await this[_0x53b270(0x458)][_0x53b270(0x356)][_0x53b270(0x6b1)](this[_0x53b270(0x4b3)]);}async[a0_0x4e6726(0x5c7)](_0x365d16,_0x2cff38){const _0x411e93=a0_0x4e6726;let _0x3de1e6=this[_0x411e93(0x3df)]['get']('WEBHOOK'),_0x5e5d5d=_0x365d16[_0x411e93(0x1d9)](/[\.-]/gm,'_')[_0x411e93(0x639)](),_0x20f3e8=this[_0x411e93(0x1bf)][_0x411e93(0x428)]&&(0x0,P['isURL'])(this[_0x411e93(0x1bf)][_0x411e93(0x70d)])?this[_0x411e93(0x1bf)][_0x411e93(0x70d)]+(this[_0x411e93(0x1bf)][_0x411e93(0x63c)]?this[_0x411e93(0x56b)][_0x365d16]:''):null,_0x139cbf=_0x3de1e6?.[_0x411e93(0x23d)],_0x40b52e=_0x139cbf&&_0x139cbf?.[_0x411e93(0x5ed)]&&(0x0,P[_0x411e93(0x5ef)])(_0x139cbf[_0x411e93(0x404)])?_0x139cbf['URL']+(_0x3de1e6['WEBHOOK_MAP']?this[_0x411e93(0x56b)][_0x365d16]:''):null,_0x5b1950=this[_0x411e93(0x1bf)][_0x5e5d5d],_0xbfed15=_0x3de1e6?.[_0x411e93(0x6db)]?.[_0x5e5d5d];if(_0x5b1950&&_0x20f3e8)try{await ce[_0x411e93(0x38c)]['create']({'baseURL':_0x20f3e8})[_0x411e93(0x2fe)]('',{'event':_0x365d16,'instance':this[_0x411e93(0x49e)][_0x411e93(0x5a6)],'data':_0x2cff38}),this[_0x411e93(0x223)][_0x411e93(0x262)](_0x411e93(0x692)+_0x365d16+':\x20'+_0x20f3e8);}catch(_0x113d4c){this['logger'][_0x411e93(0x4be)](this['instanceName']+'\x20('+this[_0x411e93(0x49e)][_0x411e93(0x72c)]+'):\x20'+{'local':c[_0x411e93(0x5a6)]+_0x411e93(0x6d7),'message':_0x113d4c?.[_0x411e93(0x46a)],'hostName':_0x113d4c?.['hostname'],'syscall':_0x113d4c?.[_0x411e93(0x274)],'code':_0x113d4c?.['code'],'error':_0x113d4c?.['errno'],'stack':_0x113d4c?.[_0x411e93(0x265)],'name':_0x113d4c?.[_0x411e93(0x5a6)]});}if(_0xbfed15&&_0x40b52e)try{await ce['default']['create']({'baseURL':_0x40b52e})[_0x411e93(0x2fe)]('',{'event':_0x365d16,'instance':this[_0x411e93(0x49e)][_0x411e93(0x5a6)],'data':_0x2cff38}),this[_0x411e93(0x223)][_0x411e93(0x262)](_0x411e93(0x578)+_0x365d16+':\x20'+_0x40b52e);}catch(_0x4dac5c){this[_0x411e93(0x223)][_0x411e93(0x4be)](this[_0x411e93(0x4b3)]+'\x20('+this['instance'][_0x411e93(0x72c)]+_0x411e93(0x2ad)+{'local':c['name']+_0x411e93(0x75c),'message':_0x4dac5c?.[_0x411e93(0x46a)],'hostName':_0x4dac5c?.[_0x411e93(0x676)],'syscall':_0x4dac5c?.[_0x411e93(0x274)],'code':_0x4dac5c?.[_0x411e93(0x374)],'error':_0x4dac5c?.[_0x411e93(0x75a)],'stack':_0x4dac5c?.['stack'],'name':_0x4dac5c?.['name']});}}async[a0_0x4e6726(0x1f7)]({qr:_0x412abc,connection:_0x27c893,lastDisconnect:_0x1316cb}){const _0x5f536f=a0_0x4e6726;if(_0x412abc){if(this[_0x5f536f(0x49e)][_0x5f536f(0x1cb)][_0x5f536f(0x5bf)]===this[_0x5f536f(0x3df)][_0x5f536f(0x671)](_0x5f536f(0x512))[_0x5f536f(0x469)])return this[_0x5f536f(0x5c7)](_0x5f536f(0x745),{'message':_0x5f536f(0x55f),'statusCode':w[_0x5f536f(0x31d)][_0x5f536f(0x278)]}),this['sendDataWebhook'](_0x5f536f(0x72a),{'instance':this['instance'][_0x5f536f(0x5a6)],'state':'refused','statusReason':w[_0x5f536f(0x31d)]['connectionClosed']}),this[_0x5f536f(0x5c7)](_0x5f536f(0x3c6),{'instance':this[_0x5f536f(0x49e)][_0x5f536f(0x5a6)],'status':_0x5f536f(0x5ce)}),this[_0x5f536f(0x36a)]=!0x0,this[_0x5f536f(0x470)][_0x5f536f(0x354)](_0x5f536f(0x50a),this[_0x5f536f(0x49e)][_0x5f536f(0x5a6)]);this[_0x5f536f(0x49e)]['qrcode'][_0x5f536f(0x5bf)]++;let _0x5b0a37={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x5f536f(0x3da),'dark':_0x5f536f(0x2b3)}};ao['default'][_0x5f536f(0x6b0)](_0x412abc,_0x5b0a37,(_0x4c0bd4,_0x2b8cb9)=>{const _0x4b407d=_0x5f536f;if(_0x4c0bd4){this['logger'][_0x4b407d(0x4be)](this['instanceName']+'\x20('+this[_0x4b407d(0x49e)][_0x4b407d(0x72c)]+_0x4b407d(0x5ea)+(_0x4c0bd4 instanceof Error?_0x4c0bd4['message']:JSON[_0x4b407d(0x286)](_0x4c0bd4,null,0x2)));return;}this[_0x4b407d(0x49e)]['qrcode'][_0x4b407d(0x7a4)]=_0x2b8cb9,this[_0x4b407d(0x49e)][_0x4b407d(0x1cb)][_0x4b407d(0x374)]=_0x412abc,this[_0x4b407d(0x5c7)](_0x4b407d(0x745),{'qrcode':{'instance':this[_0x4b407d(0x49e)][_0x4b407d(0x5a6)],'code':_0x412abc,'base64':_0x2b8cb9}});}),oo['default'][_0x5f536f(0x7a3)](_0x412abc,{'small':!0x0},_0x33aef3=>this['logger'][_0x5f536f(0x262)]('\x0a{\x20instance:\x20'+this[_0x5f536f(0x49e)][_0x5f536f(0x5a6)]+_0x5f536f(0x2db)+this[_0x5f536f(0x49e)][_0x5f536f(0x1cb)][_0x5f536f(0x5bf)]+_0x5f536f(0x6c6)+_0x33aef3));}if(_0x27c893&&(this[_0x5f536f(0x6bb)]={'state':_0x27c893,'statusReason':_0x1316cb?.['error']?.[_0x5f536f(0x29f)]?.['statusCode']??0xc8},this[_0x5f536f(0x5c7)](_0x5f536f(0x72a),{'instance':this[_0x5f536f(0x49e)][_0x5f536f(0x5a6)],...this[_0x5f536f(0x6bb)]})),_0x27c893===_0x5f536f(0x571)){if(this[_0x5f536f(0x3dc)]++,this[_0x5f536f(0x2cc)]['push'](Date[_0x5f536f(0x2dd)]()),this[_0x5f536f(0x2cc)]=this['reconnectTimestamps'][_0x5f536f(0x618)](_0x466594=>Date[_0x5f536f(0x2dd)]()-_0x466594<this[_0x5f536f(0x63d)]),_0x1316cb[_0x5f536f(0x4be)]?.[_0x5f536f(0x29f)]?.[_0x5f536f(0x4e3)]!==w[_0x5f536f(0x31d)][_0x5f536f(0x508)]&&this[_0x5f536f(0x2cc)][_0x5f536f(0x728)]<=this[_0x5f536f(0x331)])await this[_0x5f536f(0x2eb)]();else{this[_0x5f536f(0x5c7)](_0x5f536f(0x3c6),{'instance':this[_0x5f536f(0x49e)][_0x5f536f(0x5a6)],'status':_0x5f536f(0x5ce)}),this[_0x5f536f(0x422)]=!0x1;try{this[_0x5f536f(0x223)][_0x5f536f(0x217)](this['instanceName']+'\x20('+this[_0x5f536f(0x49e)][_0x5f536f(0x72c)]+_0x5f536f(0x712));let _0x136dec=await this[_0x5f536f(0x458)][_0x5f536f(0x46a)][_0x5f536f(0x405)](this[_0x5f536f(0x49e)]['wuid']);_0x136dec[_0x5f536f(0x4ee)]?this[_0x5f536f(0x223)][_0x5f536f(0x217)](this['instanceName']+'\x20('+this['instance'][_0x5f536f(0x72c)]+_0x5f536f(0x2c8)):console['error']('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x136dec[_0x5f536f(0x4be)]);}catch(_0x1fa2f0){console['error'](_0x5f536f(0x6ae),_0x1fa2f0);}this['delayMessage']!==null&&(this[_0x5f536f(0x223)][_0x5f536f(0x217)](this[_0x5f536f(0x4b3)]+'\x20('+this['instance'][_0x5f536f(0x72c)]+_0x5f536f(0x4ad)),clearInterval(this['delayMessage']),this['delayMessage']=null),this['logger'][_0x5f536f(0x217)](this['instanceName']+'\x20('+this[_0x5f536f(0x49e)][_0x5f536f(0x72c)]+'):\x20Limpando\x20AutomateSystem'),this[_0x5f536f(0x560)]=null,this[_0x5f536f(0x470)]['emit'](_0x5f536f(0x54a),this[_0x5f536f(0x49e)][_0x5f536f(0x5a6)],_0x5f536f(0x59e)),this[_0x5f536f(0x27c)]?.['ws']?.[_0x5f536f(0x571)](),this[_0x5f536f(0x27c)][_0x5f536f(0x329)](new Error(_0x5f536f(0x3c9)));}}if(_0x27c893==='open'){this['resetReconnectionVariables'],this[_0x5f536f(0x49e)][_0x5f536f(0x72c)]=this['client'][_0x5f536f(0x2ac)]['id'][_0x5f536f(0x1d9)](/:\d+/,'')[_0x5f536f(0x1d9)](_0x5f536f(0x4c4),''),this[_0x5f536f(0x49e)][_0x5f536f(0x67a)]=(await this[_0x5f536f(0x718)](this[_0x5f536f(0x49e)][_0x5f536f(0x72c)]+_0x5f536f(0x4c4)))[_0x5f536f(0x67a)];let _0x20c882=_0x5f536f(0x29b)+this[_0x5f536f(0x49e)]['wuid'],_0x7116f1=0x28,_0x2a4515=Math[_0x5f536f(0x4de)]((_0x7116f1-_0x20c882[_0x5f536f(0x728)])/0x2),_0x43ef21='\x20'[_0x5f536f(0x516)](_0x2a4515),_0x3be9fe=_0x5f536f(0x1b3),_0x1c4827=_0x5f536f(0x392)+this[_0x5f536f(0x49e)][_0x5f536f(0x5a6)],_0x58c763=(''+_0x43ef21+_0x20c882+_0x43ef21)['padEnd'](_0x7116f1,'\x20'),_0x5d8236=(''+_0x43ef21+_0x3be9fe+_0x43ef21)[_0x5f536f(0x250)](_0x7116f1,'\x20'),_0x3b7717=(''+_0x43ef21+_0x1c4827+_0x43ef21)[_0x5f536f(0x250)](_0x7116f1,'\x20'),_0x5e814f=Math[_0x5f536f(0x6e4)](_0x58c763[_0x5f536f(0x728)],_0x5d8236[_0x5f536f(0x728)],_0x3b7717[_0x5f536f(0x728)]),_0x2789f5=_0x58c763[_0x5f536f(0x250)](_0x5e814f,'\x20'),_0x1f4222=_0x5d8236['padEnd'](_0x5e814f,'\x20'),_0x449ee7=_0x3b7717['padEnd'](_0x5e814f,'\x20');this[_0x5f536f(0x223)][_0x5f536f(0x436)]((_0x5f536f(0x505)+'─'['repeat'](_0x5e814f)+_0x5f536f(0x366)+_0x1f4222+_0x5f536f(0x566)+_0x449ee7+_0x5f536f(0x566)+_0x2789f5+_0x5f536f(0x1e6)+'─'[_0x5f536f(0x516)](_0x5e814f)+'┘')[_0x5f536f(0x1d9)](/^ +/gm,'\x20\x20')),this[_0x5f536f(0x5d1)](),this[_0x5f536f(0x422)]=!0x0;}}[a0_0x4e6726(0x1fd)](){const _0xa843fe=a0_0x4e6726;this['reconnectAttempts']=0x0,this[_0xa843fe(0x2cc)]=[];}async[a0_0x4e6726(0x598)](_0x148e49,_0x1148b7=!0x1){const _0x626339=a0_0x4e6726;try{let _0x257759=await this[_0x626339(0x458)][_0x626339(0x46a)][_0x626339(0x6b1)]({'where':{'owner':this['instance'][_0x626339(0x72c)],'_id':_0x148e49['id']}});return _0x1148b7?_0x257759[0x0]:_0x257759[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x4e6726(0x5c5)](){const _0x457224=a0_0x4e6726;let _0x203381=this[_0x457224(0x3df)][_0x457224(0x671)](_0x457224(0x4c2)),_0x9048c=this[_0x457224(0x3df)]['get']('DATABASE');_0x203381?.[_0x457224(0x6e2)]&&!_0x9048c[_0x457224(0x5ed)]&&setInterval(()=>{const _0x47da9f=_0x457224;try{for(let [_0x37bd64,_0x3eba54]of Object[_0x47da9f(0x561)](_0x203381))_0x3eba54===!0x0&&(0x0,_t['execSync'])(_0x47da9f(0x1db)+(0x0,k[_0x47da9f(0x6fa)])(this['storePath'],_0x37bd64[_0x47da9f(0x552)](),this[_0x47da9f(0x49e)][_0x47da9f(0x72c)])+_0x47da9f(0x27f));}catch{}},(_0x203381?.[_0x457224(0x6e2)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x38ab7a=a0_0x4e6726;let _0x345edc=this[_0x38ab7a(0x3df)][_0x38ab7a(0x671)](_0x38ab7a(0x1e4)),_0xef7f92=this[_0x38ab7a(0x3df)][_0x38ab7a(0x671)](_0x38ab7a(0x32f));return _0xef7f92?.[_0x38ab7a(0x5ed)]?await ms(_0xef7f92,this['instance'][_0x38ab7a(0x5a6)]):_0x345edc[_0x38ab7a(0x5ed)]?await gs(this[_0x38ab7a(0x49e)]['name']):await(0x0,w['useMultiFileAuthState'])((0x0,k[_0x38ab7a(0x6fa)])(j,this[_0x38ab7a(0x49e)][_0x38ab7a(0x5a6)]));}async[a0_0x4e6726(0x5d1)](){const _0x13a3a6=a0_0x4e6726;let _0x44c971=()=>Math[_0x13a3a6(0x4de)](Math[_0x13a3a6(0x5b8)]()*0x2711)+0x7d0,_0x4c55ee=async()=>{const _0x1859a2=_0x13a3a6;if(!this[_0x1859a2(0x422)]){this[_0x1859a2(0x223)]['verbose'](_0x1859a2(0x3c2)),this[_0x1859a2(0x246)]=!0x1;return;}if(this[_0x1859a2(0x49e)][_0x1859a2(0x72c)]&&this[_0x1859a2(0x560)]&&this[_0x1859a2(0x40c)]!==null&&this[_0x1859a2(0x40c)]!==void 0x0){let _0x526e01=Math[_0x1859a2(0x535)](this[_0x1859a2(0x40c)]/0xea60);this[_0x1859a2(0x223)][_0x1859a2(0x217)](this[_0x1859a2(0x4b3)]+'\x20('+this['instance'][_0x1859a2(0x72c)]+_0x1859a2(0x2a7)+_0x526e01+_0x1859a2(0x68a)),this['isRunning']=!0x1;return;}else this[_0x1859a2(0x49e)][_0x1859a2(0x72c)]&&(this['logger'][_0x1859a2(0x217)](this[_0x1859a2(0x4b3)]+'\x20('+this[_0x1859a2(0x49e)][_0x1859a2(0x72c)]+_0x1859a2(0x216)),this['AutomateSystem']||await this['getAutomateSystem'](),(this[_0x1859a2(0x40c)]===null||this[_0x1859a2(0x40c)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x1859a2(0x246)]){let _0x2df71f=_0x44c971();this[_0x1859a2(0x223)][_0x1859a2(0x217)](this[_0x1859a2(0x4b3)]+_0x1859a2(0x2f2)+_0x2df71f/0x3e8+_0x1859a2(0x47b)),setTimeout(_0x4c55ee,_0x2df71f);}};if(this['isRunning'])return;this[_0x13a3a6(0x246)]=!0x0;let _0x107377=_0x44c971();setTimeout(_0x4c55ee,_0x107377);}async[a0_0x4e6726(0x2eb)](){const _0x55a25d=a0_0x4e6726;try{this[_0x55a25d(0x1d2)](),this[_0x55a25d(0x49e)]['authState']=await this[_0x55a25d(0x6de)]();let {version:_0x10fb55}=await(0x0,w[_0x55a25d(0x5da)])(),_0x26c6ce=this[_0x55a25d(0x3df)]['get']('CONFIG_SESSION_PHONE'),_0x5e57b1=[_0x26c6ce[_0x55a25d(0x2c5)],_0x26c6ce[_0x55a25d(0x69d)],(0x0,io['release'])()],_0x5a8dcf={'auth':{'creds':this[_0x55a25d(0x49e)][_0x55a25d(0x79c)][_0x55a25d(0x1d3)][_0x55a25d(0x3ba)],'keys':(0x0,w[_0x55a25d(0x4ed)])(this[_0x55a25d(0x49e)][_0x55a25d(0x79c)]['state'][_0x55a25d(0x2d7)],(0x0,At['default'])({'level':_0x55a25d(0x4be)}))},'logger':(0x0,At[_0x55a25d(0x38c)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x5e57b1,'version':_0x10fb55,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x55a25d(0x451)],'getMessage':async _0x12347f=>await this[_0x55a25d(0x598)](_0x12347f),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x55a25d(0x349)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0x3e8},'patchMessageBeforeSending':_0x4aac3c=>(_0x4aac3c['listMessage']?.[_0x55a25d(0x285)]==w[_0x55a25d(0x396)][_0x55a25d(0x2e8)][_0x55a25d(0x253)][_0x55a25d(0x4cf)][_0x55a25d(0x502)]&&(_0x4aac3c=JSON[_0x55a25d(0x772)](JSON['stringify'](_0x4aac3c)),_0x4aac3c[_0x55a25d(0x2a1)][_0x55a25d(0x285)]=w[_0x55a25d(0x396)]['Message'][_0x55a25d(0x253)][_0x55a25d(0x4cf)][_0x55a25d(0x406)]),_0x4aac3c)};return this[_0x55a25d(0x36a)]=!0x1,this[_0x55a25d(0x27c)]=(0x0,w[_0x55a25d(0x38c)])(_0x5a8dcf),this[_0x55a25d(0x1ec)](),this[_0x55a25d(0x27c)];}catch(_0x5c192f){throw this['logger'][_0x55a25d(0x4be)](this[_0x55a25d(0x4b3)]+'\x20('+this[_0x55a25d(0x49e)][_0x55a25d(0x72c)]+_0x55a25d(0x2ad)+(_0x5c192f instanceof Error?_0x5c192f[_0x55a25d(0x46a)]:JSON['stringify'](_0x5c192f,null,0x2))),new A(_0x5c192f?.[_0x55a25d(0x594)]());}}['eventHandler'](){const _0x5f2ee3=a0_0x4e6726;this[_0x5f2ee3(0x27c)]['ev'][_0x5f2ee3(0x34c)](_0x32a166=>{const _0x40a780=_0x5f2ee3;if(!this[_0x40a780(0x36a)]){let _0x525e32=this[_0x40a780(0x3df)][_0x40a780(0x671)](_0x40a780(0x1e4));if(_0x32a166[_0x40a780(0x72a)]&&this[_0x40a780(0x1f7)](_0x32a166[_0x40a780(0x72a)]),_0x32a166[_0x40a780(0x473)]&&this[_0x40a780(0x49e)]['authState'][_0x40a780(0x201)](),_0x32a166['messaging-history.set']){let _0x492467=_0x32a166['messaging-history.set'];this['messageHandle']['messaging-history.set'](_0x492467,_0x525e32);}if(_0x32a166[_0x40a780(0x730)]){let _0x1a3780=_0x32a166[_0x40a780(0x730)];this[_0x40a780(0x41d)][_0x40a780(0x730)](_0x1a3780,_0x525e32);}if(_0x32a166[_0x40a780(0x727)]){let _0x59fda9=_0x32a166[_0x40a780(0x727)];this[_0x40a780(0x41d)][_0x40a780(0x727)](_0x59fda9,_0x525e32);}if(_0x32a166[_0x40a780(0x76f)]){let _0x30b603=_0x32a166[_0x40a780(0x76f)];if(this['localWebhook']?.[_0x40a780(0x6d3)]&&_0x30b603['id'][_0x40a780(0x351)](_0x40a780(0x519)))return;this[_0x40a780(0x5c7)]('presence.update',_0x30b603);}if(!this['localWebhook']?.[_0x40a780(0x6d3)]){if(_0x32a166[_0x40a780(0x6a7)]){let _0x43da5b=_0x32a166[_0x40a780(0x6a7)];this['groupHandler'][_0x40a780(0x6a7)](_0x43da5b);}if(_0x32a166[_0x40a780(0x530)]){let _0x3918d7=_0x32a166[_0x40a780(0x530)];this[_0x40a780(0x445)][_0x40a780(0x530)](_0x3918d7);}if(_0x32a166[_0x40a780(0x76b)]){let _0x1a4122=_0x32a166[_0x40a780(0x76b)];this['groupHandler']['group-participants.update'](_0x1a4122);}}if(_0x32a166[_0x40a780(0x709)]){let _0x2eb5df=_0x32a166[_0x40a780(0x709)];this[_0x40a780(0x337)][_0x40a780(0x709)](_0x2eb5df,_0x525e32);}if(_0x32a166[_0x40a780(0x584)]){let _0x25f63f=_0x32a166[_0x40a780(0x584)];this[_0x40a780(0x337)][_0x40a780(0x584)](_0x25f63f,_0x525e32);}if(_0x32a166[_0x40a780(0x418)]){let _0x2cd820=_0x32a166['chats.delete'];this[_0x40a780(0x337)]['chats.delete'](_0x2cd820);}if(_0x32a166[_0x40a780(0x498)]){let _0x54d159=_0x32a166[_0x40a780(0x498)];this[_0x40a780(0x6cd)][_0x40a780(0x498)](_0x54d159,_0x525e32);}if(_0x32a166[_0x40a780(0x6a9)]){let _0x2f8a43=_0x32a166['contacts.update'];this[_0x40a780(0x6cd)][_0x40a780(0x6a9)](_0x2f8a43,_0x525e32);}}});}[a0_0x4e6726(0x79f)](_0x16d8b3){let _0xaf057c=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x16d8b3);if(_0xaf057c&&_0xaf057c[0x1]==='55'){let _0x26e9c3=_0xaf057c[0x2],_0x2ddc06=_0xaf057c[0x3],_0x114626=_0xaf057c[0x4];if(_0x26e9c3>='31'&&_0x2ddc06==='9')return _0xaf057c[0x1]+_0x26e9c3+_0x114626;}return _0x16d8b3;}[a0_0x4e6726(0x5f3)](_0x3bd212){const _0x6b0d20=a0_0x4e6726;return _0x3bd212[_0x6b0d20(0x351)](_0x6b0d20(0x519))||_0x3bd212['includes'](_0x6b0d20(0x4c4))||_0x3bd212[_0x6b0d20(0x351)](_0x6b0d20(0x393))?_0x3bd212:(_0x3bd212=_0x3bd212?.[_0x6b0d20(0x1d9)](/\s/g,'')[_0x6b0d20(0x1d9)](/\+/g,'')['replace'](/\(/g,'')['replace'](/\)/g,'')[_0x6b0d20(0x619)](/\:/)[0x0]['split']('@')[0x0],_0x3bd212['length']>=0x12?(_0x3bd212=_0x3bd212[_0x6b0d20(0x1d9)](/[^\d-]/g,''),_0x3bd212+_0x6b0d20(0x519)):(_0x3bd212=_0x3bd212[_0x6b0d20(0x1d9)](/\D/g,''),this[_0x6b0d20(0x79f)](_0x3bd212)+'@s.whatsapp.net'));}async['updatePresence'](_0x429f6a){const _0x4baddd=a0_0x4e6726;let _0x163168=this[_0x4baddd(0x5f3)](_0x429f6a[_0x4baddd(0x440)]),_0x4be14e=(await this['whatsappNumber']({'numbers':[_0x163168]}))[0x0];if(!_0x4be14e[_0x4baddd(0x5fe)]&&!(0x0,w[_0x4baddd(0x797)])(_0x4be14e[_0x4baddd(0x647)]))throw new g(_0x4be14e);let _0x5a0949=(0x0,w[_0x4baddd(0x797)])(_0x163168)?_0x163168:_0x4be14e[_0x4baddd(0x647)];if((0x0,w[_0x4baddd(0x797)])(_0x5a0949))try{await this[_0x4baddd(0x27c)][_0x4baddd(0x37d)](_0x5a0949);}catch{throw new $(_0x4baddd(0x2fd));}try{return await this['client'][_0x4baddd(0x5ab)](_0x5a0949),await this[_0x4baddd(0x27c)][_0x4baddd(0x668)](_0x429f6a[_0x4baddd(0x63a)],_0x163168),{'status':0xc8,'presence':_0x429f6a[_0x4baddd(0x63a)]};}catch(_0x217f8e){throw new g(_0x217f8e[_0x4baddd(0x594)]());}}async[a0_0x4e6726(0x718)](_0x7f5e60){const _0x5d8346=a0_0x4e6726;let _0x5cee7d=this[_0x5d8346(0x5f3)](_0x7f5e60);try{return{'wuid':_0x5cee7d,'profilePictureUrl':await this['client'][_0x5d8346(0x67a)](_0x5cee7d,'image')};}catch{return{'wuid':_0x5cee7d,'profilePictureUrl':null};}}async[a0_0x4e6726(0x1fb)](_0x4bda24,_0x14862b,_0xe2ab7){const _0x120db3=a0_0x4e6726;let _0x38e4de=(await this[_0x120db3(0x5e1)]({'numbers':[_0x4bda24]}))[0x0];if(!_0x38e4de[_0x120db3(0x5fe)]&&!(0x0,w['isJidGroup'])(_0x38e4de[_0x120db3(0x647)])&&!_0x38e4de[_0x120db3(0x647)]['includes'](_0x120db3(0x393)))throw new g(_0x38e4de);let _0x7d9c1b=_0x38e4de[_0x120db3(0x647)];try{_0xe2ab7?.[_0x120db3(0x320)]&&(await this['client'][_0x120db3(0x5ab)](_0x7d9c1b),await this[_0x120db3(0x27c)][_0x120db3(0x668)](_0xe2ab7?.[_0x120db3(0x63a)]??'composing',_0x7d9c1b),await(0x0,w[_0x120db3(0x320)])(_0xe2ab7[_0x120db3(0x320)]),await this[_0x120db3(0x27c)]['sendPresenceUpdate'](_0x120db3(0x453),_0x7d9c1b));let _0x12740e=_0xe2ab7?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x3064a5;if(_0xe2ab7?.['quoted']){let _0xa351bc=_0xe2ab7?.[_0x120db3(0x3b7)],_0xb4b787=_0xa351bc?.['message']?_0xa351bc:await this[_0x120db3(0x598)](_0xa351bc['key'],!0x0);if(!_0xb4b787)throw _0x120db3(0x258);_0x3064a5=_0xb4b787;}let _0x36840b;if((0x0,w[_0x120db3(0x797)])(_0x7d9c1b))try{let _0x47f0a8=await this[_0x120db3(0x27c)]['groupMetadata'](_0x7d9c1b);if(!_0x47f0a8)throw new $(_0x120db3(0x2fd));_0xe2ab7?.[_0x120db3(0x375)]&&(_0xe2ab7[_0x120db3(0x375)]?.[_0x120db3(0x5c3)]?_0x36840b=_0x47f0a8[_0x120db3(0x2b1)][_0x120db3(0x3cf)](_0x14bbe3=>_0x14bbe3['id']):_0xe2ab7[_0x120db3(0x375)]?.[_0x120db3(0x491)]?.[_0x120db3(0x728)]&&(_0x36840b=_0xe2ab7[_0x120db3(0x375)][_0x120db3(0x491)]['map'](_0x3bb53b=>{const _0x5491cf=_0x120db3;let _0x28d000=this[_0x5491cf(0x5f3)](_0x3bb53b);return(0x0,w[_0x5491cf(0x797)])(_0x28d000)?null:_0x28d000;})));}catch{throw new $(_0x120db3(0x2fd));}let _0x271df7=await((async()=>{const _0x37a865=_0x120db3;let _0xc44a06={'quoted':_0x3064a5};if(!_0x14862b[_0x37a865(0x528)]&&!_0x14862b[_0x37a865(0x79a)]&&!_0x14862b[_0x37a865(0x472)]&&!_0x14862b['conversation']&&_0x7d9c1b!==_0x37a865(0x5f0)&&!_0x14862b[_0x37a865(0x528)])return await this[_0x37a865(0x27c)][_0x37a865(0x1f6)](_0x7d9c1b,{'forward':{'key':{'remoteJid':this[_0x37a865(0x49e)][_0x37a865(0x72c)],'fromMe':!0x0},'message':_0x14862b},'mentions':_0x36840b},_0xc44a06);if(_0x14862b[_0x37a865(0x4e5)]){let _0x34a99b=_0x14862b[_0x37a865(0x4e5)];return _0xe2ab7?.[_0x37a865(0x5f8)]&&(_0x34a99b=await this[_0x37a865(0x6fc)](_0x34a99b,_0x7d9c1b)),await this[_0x37a865(0x27c)]['sendMessage'](_0x7d9c1b,{'text':_0x34a99b,'mentions':_0x36840b,'linkPreview':_0x12740e},_0xc44a06);}return _0x7d9c1b==='status@broadcast'?await this[_0x37a865(0x27c)][_0x37a865(0x1f6)](_0x7d9c1b,_0x14862b['status']['content'],{'backgroundColor':_0x14862b[_0x37a865(0x23b)][_0x37a865(0x328)][_0x37a865(0x34f)],'font':_0x14862b[_0x37a865(0x23b)]['option'][_0x37a865(0x669)],'statusJidList':_0x14862b[_0x37a865(0x23b)][_0x37a865(0x328)][_0x37a865(0x247)]}):await this[_0x37a865(0x27c)][_0x37a865(0x1f6)](_0x7d9c1b,_0x14862b,_0xc44a06);})()),{message_normalized:_0xaa0d52}=this[_0x120db3(0x558)](_0x271df7[_0x120db3(0x46a)],_(_0x271df7[_0x120db3(0x46a)]),null),_0x2ee7bc={'_id':_0x271df7[_0x120db3(0x737)]['id'],'key':_0x271df7[_0x120db3(0x737)],'pushName':_0x271df7[_0x120db3(0x407)],'message':{..._0x271df7['message']},'messageType':_(_0x271df7[_0x120db3(0x46a)]),'message_normalized':{'key':_0x271df7[_0x120db3(0x737)],'pushName':_0x271df7['pushName'],'messageTimestamp':_0x271df7[_0x120db3(0x55c)]&&_0x271df7[_0x120db3(0x55c)][_0x120db3(0x594)]()[_0x120db3(0x728)]<0xd?_0x271df7[_0x120db3(0x55c)]*0x3e8:_0x271df7['messageTimestamp']||null,'source':(0x0,w[_0x120db3(0x1bc)])(_0x271df7[_0x120db3(0x737)]['id']),..._0xaa0d52},'messageTimestamp':_0x271df7[_0x120db3(0x55c)]&&_0x271df7[_0x120db3(0x55c)][_0x120db3(0x594)]()['length']<0xd?_0x271df7['messageTimestamp']*0x3e8:_0x271df7[_0x120db3(0x55c)]||null,'owner':this[_0x120db3(0x49e)][_0x120db3(0x72c)],'source':(0x0,w[_0x120db3(0x1bc)])(_0x271df7[_0x120db3(0x737)]['id'])};return this[_0x120db3(0x223)][_0x120db3(0x262)](_0x2ee7bc),this[_0x120db3(0x5c7)](_0x120db3(0x36f),_0x2ee7bc),q(this[_0x120db3(0x4b3)],_0x120db3(0x6ef),{'message':_0x2ee7bc}),this[_0x120db3(0x1b7)](this['configService'][_0x120db3(0x671)](_0x120db3(0x1e4)),_0x2ee7bc,'SEND_MESSAGE'),await this[_0x120db3(0x458)][_0x120db3(0x46a)][_0x120db3(0x234)]([_0x2ee7bc]),_0x271df7;}catch(_0x56ca0e){throw this['logger']['error'](this[_0x120db3(0x4b3)]+'\x20('+this['instance'][_0x120db3(0x72c)]+_0x120db3(0x2ad)+_0x56ca0e[_0x120db3(0x594)]()),new g(_0x56ca0e[_0x120db3(0x594)]());}}get[a0_0x4e6726(0x48b)](){const _0xc896f7=a0_0x4e6726;return this[_0xc896f7(0x6bb)];}async[a0_0x4e6726(0x3d4)](_0xa2f5e0){const _0x3713b9=a0_0x4e6726;let _0x40333e=this[_0x3713b9(0x3df)][_0x3713b9(0x671)](_0x3713b9(0x69e)),_0x3a6dcc=this[_0x3713b9(0x3df)][_0x3713b9(0x671)]('TRIAL_INSTANCE_NAME');return _0x3a6dcc&&this['instanceName']['toLowerCase']()[_0x3713b9(0x351)](_0x3a6dcc[_0x3713b9(0x552)]())&&(_0xa2f5e0['textMessage'][_0x3713b9(0x4d2)]+='\x0a\x0a'+_0x40333e),await this[_0x3713b9(0x1fb)](_0xa2f5e0[_0x3713b9(0x440)],{'conversation':_0xa2f5e0[_0x3713b9(0x3d4)][_0x3713b9(0x4d2)]},_0xa2f5e0?.[_0x3713b9(0x6fb)]);}async['formatStatusMessage'](_0x127ea3){const _0x72bfcd=a0_0x4e6726;if(!_0x127ea3['type'])throw new g('Type\x20is\x20required');if(!_0x127ea3[_0x72bfcd(0x5fc)])throw new g(_0x72bfcd(0x6af));if(_0x127ea3[_0x72bfcd(0x3d9)]){let _0xea0c0=await this['repository'][_0x72bfcd(0x4da)]['find']({'where':{'owner':this['instance']['wuid']}});if(!_0xea0c0['length'])throw new g('Contacts\x20not\x20found');_0x127ea3[_0x72bfcd(0x247)]=_0xea0c0['filter'](_0x2e68e0=>_0x2e68e0[_0x72bfcd(0x407)])[_0x72bfcd(0x3cf)](_0x2bb326=>_0x2bb326[_0x72bfcd(0x5fb)]);}if(!_0x127ea3[_0x72bfcd(0x247)]?.[_0x72bfcd(0x728)]&&!_0x127ea3[_0x72bfcd(0x3d9)])throw new g('StatusJidList\x20is\x20required');if(_0x127ea3[_0x72bfcd(0x5ec)]===_0x72bfcd(0x4d2)){if(!_0x127ea3['backgroundColor'])throw new g(_0x72bfcd(0x63f));if(!_0x127ea3[_0x72bfcd(0x669)])throw new g('Font\x20is\x20required');return{'content':{'text':_0x127ea3['content']},'option':{'backgroundColor':_0x127ea3[_0x72bfcd(0x34f)],'font':_0x127ea3[_0x72bfcd(0x669)],'statusJidList':_0x127ea3['statusJidList']}};}if(_0x127ea3['type']===_0x72bfcd(0x236))return{'content':{'image':{'url':_0x127ea3[_0x72bfcd(0x5fc)]},'caption':_0x127ea3[_0x72bfcd(0x5c1)]},'option':{'statusJidList':_0x127ea3['statusJidList']}};if(_0x127ea3[_0x72bfcd(0x5ec)]===_0x72bfcd(0x55b))return{'content':{'video':{'url':_0x127ea3['content']},'caption':_0x127ea3[_0x72bfcd(0x5c1)]},'option':{'statusJidList':_0x127ea3['statusJidList']}};if(_0x127ea3[_0x72bfcd(0x5ec)]===_0x72bfcd(0x528)){this[_0x72bfcd(0x223)][_0x72bfcd(0x217)](_0x72bfcd(0x76e)),this[_0x72bfcd(0x223)][_0x72bfcd(0x217)]('Processing\x20audio');let _0x44979d=await this[_0x72bfcd(0x563)](_0x127ea3['content']);if(typeof _0x44979d==_0x72bfcd(0x362)){this[_0x72bfcd(0x223)][_0x72bfcd(0x217)]('Audio\x20processed');let _0x5d51a8=x[_0x72bfcd(0x4c9)](_0x44979d)[_0x72bfcd(0x594)]('base64'),_0x21385e={'content':{'audio':Buffer[_0x72bfcd(0x725)](_0x5d51a8,'base64'),'ptt':!0x0,'mimetype':_0x72bfcd(0x4b7)},'option':{'statusJidList':_0x127ea3['statusJidList']}};return x[_0x72bfcd(0x4e7)](_0x44979d),_0x21385e;}else throw new A(_0x44979d);}throw new g(_0x72bfcd(0x763));}async['statusMessage'](_0x160620){const _0x37a9fc=a0_0x4e6726;return await this['sendMessageWithTyping'](_0x37a9fc(0x5f0),{'status':await this[_0x37a9fc(0x542)](_0x160620[_0x37a9fc(0x6c0)])});}async[a0_0x4e6726(0x232)](_0x5daf06){const _0x21f7ed=a0_0x4e6726;try{let _0x4c307e=await(0x0,w[_0x21f7ed(0x711)])({[_0x5daf06[_0x21f7ed(0x6ad)]]:(0x0,P[_0x21f7ed(0x5ef)])(_0x5daf06[_0x21f7ed(0x2e2)])?{'url':_0x5daf06[_0x21f7ed(0x2e2)]}:Buffer[_0x21f7ed(0x725)](_0x5daf06[_0x21f7ed(0x2e2)],_0x21f7ed(0x7a4))},{'upload':this[_0x21f7ed(0x27c)][_0x21f7ed(0x22a)]}),_0x2d271a=_0x5daf06[_0x21f7ed(0x6ad)]+_0x21f7ed(0x2e8);if(_0x5daf06[_0x21f7ed(0x6ad)]===_0x21f7ed(0x58b)&&!_0x5daf06[_0x21f7ed(0x30d)]){let _0x5948d0=new RegExp(/.*\/(.+?)\./)['exec'](_0x5daf06[_0x21f7ed(0x2e2)]);_0x5daf06[_0x21f7ed(0x30d)]=_0x5948d0?_0x5948d0[0x1]:null;}let _0xbc9fa=(0x0,P[_0x21f7ed(0x5ef)])(_0x5daf06[_0x21f7ed(0x2e2)])?_0x5daf06['media']['split']('?')[0x0]:_0x5daf06[_0x21f7ed(0x2e2)];this[_0x21f7ed(0x223)]['verbose']('URL\x20limpa:\x20'+_0xbc9fa);let _0x49a533;_0x5daf06['fileName']&&_0x5daf06[_0x21f7ed(0x30d)][_0x21f7ed(0x351)]('.')?_0x49a533=(0x0,It[_0x21f7ed(0x1fa)])(_0x5daf06['fileName']):(0x0,P[_0x21f7ed(0x5ef)])(_0x5daf06[_0x21f7ed(0x2e2)])?_0x49a533=(0x0,It[_0x21f7ed(0x1fa)])(_0xbc9fa):_0x49a533=(0x0,It['getMIMEType'])(_0x5daf06['media']);let _0xd568d6=this[_0x21f7ed(0x3df)][_0x21f7ed(0x671)](_0x21f7ed(0x69e)),_0x569bc9=this[_0x21f7ed(0x3df)][_0x21f7ed(0x671)]('TRIAL_INSTANCE_NAME');return _0x569bc9&&this[_0x21f7ed(0x4b3)][_0x21f7ed(0x552)]()[_0x21f7ed(0x351)](_0x569bc9[_0x21f7ed(0x552)]())&&(_0x5daf06['caption']+='\x0a\x0a'+_0xd568d6),_0x4c307e[_0x2d271a][_0x21f7ed(0x5c1)]=_0x5daf06?.[_0x21f7ed(0x5c1)],_0x4c307e[_0x2d271a]['mimetype']=_0x49a533,_0x4c307e[_0x2d271a]['fileName']=_0x5daf06['fileName'],_0x5daf06[_0x21f7ed(0x6ad)]===_0x21f7ed(0x55b)&&(_0x4c307e[_0x2d271a][_0x21f7ed(0x410)]=Uint8Array[_0x21f7ed(0x725)]((0x0,Me[_0x21f7ed(0x4c9)])((0x0,k[_0x21f7ed(0x6fa)])(process[_0x21f7ed(0x2a3)](),_0x21f7ed(0x742)))),_0x4c307e[_0x2d271a][_0x21f7ed(0x391)]=!0x1),(0x0,w[_0x21f7ed(0x402)])('',{[_0x2d271a]:{..._0x4c307e[_0x2d271a]}},{'userJid':this['instance'][_0x21f7ed(0x72c)]});}catch(_0x196584){throw this[_0x21f7ed(0x223)]['error'](this[_0x21f7ed(0x4b3)]+'\x20('+this[_0x21f7ed(0x49e)]['wuid']+_0x21f7ed(0x2ad)+(_0x196584 instanceof Error?_0x196584[_0x21f7ed(0x46a)]:JSON['stringify'](_0x196584,null,0x2))),new A(_0x196584?.[_0x21f7ed(0x594)]()||_0x196584);}}async[a0_0x4e6726(0x65c)](_0x9a56d3){const _0x5c03ac=a0_0x4e6726;let _0x439fc6=await this['prepareMediaMessage'](_0x9a56d3[_0x5c03ac(0x65c)]);return await this['sendMessageWithTyping'](_0x9a56d3['number'],{..._0x439fc6[_0x5c03ac(0x46a)]},_0x9a56d3?.[_0x5c03ac(0x6fb)]);}async[a0_0x4e6726(0x20c)](_0x29a5a0,_0x52bbc0){const _0x59f7d0=a0_0x4e6726;try{this[_0x59f7d0(0x223)][_0x59f7d0(0x217)](_0x59f7d0(0x36b));let _0x57bb79,_0xad3989=_0x52bbc0+'-'+new Date()['getTime']();this['logger'][_0x59f7d0(0x217)]('Hash\x20to\x20image\x20name:\x20'+_0xad3989);let _0x194e32=''+(0x0,k[_0x59f7d0(0x6fa)])(this[_0x59f7d0(0x5f9)],_0xad3989+_0x59f7d0(0x562));if(this[_0x59f7d0(0x223)][_0x59f7d0(0x217)](_0x59f7d0(0x525)+_0x194e32),(0x0,P[_0x59f7d0(0x293)])(_0x29a5a0)){this[_0x59f7d0(0x223)][_0x59f7d0(0x217)](_0x59f7d0(0x311));let _0x55cc7a=_0x29a5a0[_0x59f7d0(0x1d9)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x451e6d=Buffer[_0x59f7d0(0x725)](_0x55cc7a,'base64');_0x57bb79=''+(0x0,k[_0x59f7d0(0x6fa)])(this[_0x59f7d0(0x5f9)],_0x59f7d0(0x7a1)+_0xad3989+_0x59f7d0(0x2c7)),this['logger'][_0x59f7d0(0x217)](_0x59f7d0(0x3e2)+_0x57bb79),await(0x0,Dt[_0x59f7d0(0x38c)])(_0x451e6d)[_0x59f7d0(0x484)](_0x57bb79),this[_0x59f7d0(0x223)]['verbose']('Image\x20created');}else{this[_0x59f7d0(0x223)][_0x59f7d0(0x217)](_0x59f7d0(0x6eb));let _0x3b53c6=new Date()['getTime'](),_0x309387=_0x29a5a0+'?timestamp='+_0x3b53c6;this[_0x59f7d0(0x223)][_0x59f7d0(0x217)](_0x59f7d0(0x1c5)+_0x309387);let _0x4156ff=await ce[_0x59f7d0(0x38c)][_0x59f7d0(0x671)](_0x309387,{'responseType':_0x59f7d0(0x26b)});this[_0x59f7d0(0x223)]['verbose'](_0x59f7d0(0x2d4));let _0x224c6b=Buffer[_0x59f7d0(0x725)](_0x4156ff[_0x59f7d0(0x65a)],_0x59f7d0(0x32d));_0x57bb79=''+(0x0,k[_0x59f7d0(0x6fa)])(this[_0x59f7d0(0x5f9)],_0x59f7d0(0x7a1)+_0xad3989+_0x59f7d0(0x2c7)),this[_0x59f7d0(0x223)][_0x59f7d0(0x217)](_0x59f7d0(0x3e2)+_0x57bb79),await(0x0,Dt[_0x59f7d0(0x38c)])(_0x224c6b)[_0x59f7d0(0x484)](_0x57bb79),this[_0x59f7d0(0x223)]['verbose']('Image\x20created');}return await(0x0,Dt[_0x59f7d0(0x38c)])(_0x57bb79)['webp']()[_0x59f7d0(0x484)](_0x194e32),this['logger'][_0x59f7d0(0x217)](_0x59f7d0(0x6bd)),x[_0x59f7d0(0x4e7)](_0x57bb79),this[_0x59f7d0(0x223)][_0x59f7d0(0x217)](_0x59f7d0(0x51e)),_0x194e32;}catch(_0x41b697){console['error'](_0x59f7d0(0x1f8),_0x41b697 instanceof Error?_0x41b697[_0x59f7d0(0x46a)]:JSON[_0x59f7d0(0x286)](_0x41b697,null,0x2));}}async[a0_0x4e6726(0x31c)](_0x1735e5){const _0x5aa6c8=a0_0x4e6726;let _0x5b4668=await this['convertToWebP'](_0x1735e5[_0x5aa6c8(0x665)][_0x5aa6c8(0x236)],_0x1735e5[_0x5aa6c8(0x440)]),_0x2882c1=await this['sendMessageWithTyping'](_0x1735e5[_0x5aa6c8(0x440)],{'sticker':{'url':_0x5b4668}},_0x1735e5?.[_0x5aa6c8(0x6fb)]);return x[_0x5aa6c8(0x4e7)](_0x5b4668),this[_0x5aa6c8(0x223)][_0x5aa6c8(0x217)](_0x5aa6c8(0x415)),_0x2882c1;}async[a0_0x4e6726(0x65b)](_0x5ab2f5){const _0x4f8d4f=a0_0x4e6726;if(this[_0x4f8d4f(0x223)][_0x4f8d4f(0x217)]('Sending\x20audio\x20whatsapp'),!_0x5ab2f5[_0x4f8d4f(0x6fb)]?.[_0x4f8d4f(0x5aa)]&&_0x5ab2f5[_0x4f8d4f(0x6fb)]?.[_0x4f8d4f(0x5aa)]!==!0x1&&(_0x5ab2f5['options']['encoding']=!0x0),_0x5ab2f5[_0x4f8d4f(0x6fb)]?.['encoding']){let _0x4d5700=await this[_0x4f8d4f(0x563)](_0x5ab2f5[_0x4f8d4f(0x3d5)]['audio']);if(typeof _0x4d5700==_0x4f8d4f(0x362)){let _0x140839=x[_0x4f8d4f(0x4c9)](_0x4d5700)['toString'](_0x4f8d4f(0x7a4)),_0x12b765=this[_0x4f8d4f(0x1fb)](_0x5ab2f5['number'],{'audio':Buffer[_0x4f8d4f(0x725)](_0x140839,_0x4f8d4f(0x7a4)),'ptt':!0x0,'mimetype':_0x4f8d4f(0x4b7)},{'presence':_0x4f8d4f(0x696),'delay':_0x5ab2f5?.[_0x4f8d4f(0x6fb)]?.[_0x4f8d4f(0x320)]});return x[_0x4f8d4f(0x4e7)](_0x4d5700),this['logger'][_0x4f8d4f(0x217)]('Converted\x20audio\x20deleted'),_0x12b765;}else throw new A(_0x4d5700);}return await this[_0x4f8d4f(0x1fb)](_0x5ab2f5[_0x4f8d4f(0x440)],{'audio':(0x0,P[_0x4f8d4f(0x5ef)])(_0x5ab2f5[_0x4f8d4f(0x3d5)][_0x4f8d4f(0x528)])?{'url':_0x5ab2f5[_0x4f8d4f(0x3d5)]['audio']}:Buffer['from'](_0x5ab2f5[_0x4f8d4f(0x3d5)][_0x4f8d4f(0x528)],'base64'),'ptt':!0x0,'mimetype':_0x4f8d4f(0x4a0)},{'presence':'recording','delay':_0x5ab2f5?.[_0x4f8d4f(0x6fb)]?.[_0x4f8d4f(0x320)]});}async['convertaudio'](_0x1f85eb){const _0x4f2f9c=a0_0x4e6726;this[_0x4f2f9c(0x223)][_0x4f2f9c(0x217)](_0x4f2f9c(0x4a2));let _0xefcb9b,_0x5eb5cb,_0x59d105=(0x0,Ot['v4'])();if(this[_0x4f2f9c(0x223)][_0x4f2f9c(0x217)](_0x4f2f9c(0x45c)+_0x59d105),(0x0,P['isURL'])(_0x1f85eb)){this[_0x4f2f9c(0x223)][_0x4f2f9c(0x217)]('Audio\x20is\x20url'),_0x5eb5cb=''+(0x0,k[_0x4f2f9c(0x6fa)])(this[_0x4f2f9c(0x5f9)],_0x59d105+_0x4f2f9c(0x537)),_0xefcb9b=''+(0x0,k['join'])(this[_0x4f2f9c(0x5f9)],_0x4f2f9c(0x7a1)+_0x59d105+'.mp3'),this['logger'][_0x4f2f9c(0x217)](_0x4f2f9c(0x60c)+_0x5eb5cb),this[_0x4f2f9c(0x223)][_0x4f2f9c(0x217)]('Temp\x20audio\x20path:\x20'+_0xefcb9b);let _0x59c8e8=new Date()[_0x4f2f9c(0x4dc)](),_0x1a9334=_0x1f85eb+_0x4f2f9c(0x6f1)+_0x59c8e8;this[_0x4f2f9c(0x223)]['verbose'](_0x4f2f9c(0x6b7)+_0x1a9334);let _0x42e6e1=await ce['default'][_0x4f2f9c(0x671)](_0x1a9334,{'responseType':'arraybuffer'});this[_0x4f2f9c(0x223)][_0x4f2f9c(0x217)](_0x4f2f9c(0x538)),x['writeFileSync'](_0xefcb9b,_0x42e6e1[_0x4f2f9c(0x65a)]);}else{this[_0x4f2f9c(0x223)][_0x4f2f9c(0x217)](_0x4f2f9c(0x28e)),_0x5eb5cb=''+(0x0,k[_0x4f2f9c(0x6fa)])(this[_0x4f2f9c(0x5f9)],_0x59d105+_0x4f2f9c(0x537)),_0xefcb9b=''+(0x0,k['join'])(this[_0x4f2f9c(0x5f9)],_0x4f2f9c(0x7a1)+_0x59d105+_0x4f2f9c(0x777)),this[_0x4f2f9c(0x223)][_0x4f2f9c(0x217)](_0x4f2f9c(0x60c)+_0x5eb5cb),this['logger'][_0x4f2f9c(0x217)](_0x4f2f9c(0x5b9)+_0xefcb9b);let _0x1d2763=Buffer[_0x4f2f9c(0x725)](_0x1f85eb,'base64');x['writeFileSync'](_0xefcb9b,_0x1d2763),this[_0x4f2f9c(0x223)][_0x4f2f9c(0x217)]('Temp\x20audio\x20created');}return this[_0x4f2f9c(0x223)][_0x4f2f9c(0x217)]('Converting\x20audio\x20to\x20mp4'),new Promise((_0x349b30,_0x23c85e)=>{const _0x13949e=_0x4f2f9c;(0x0,_t['exec'])(to[_0x13949e(0x38c)][_0x13949e(0x3ee)]+_0x13949e(0x739)+_0xefcb9b+_0x13949e(0x1ce)+_0x5eb5cb+_0x13949e(0x489),_0x53931c=>{const _0x233fe0=_0x13949e;x[_0x233fe0(0x4e7)](_0xefcb9b),this['logger'][_0x233fe0(0x217)](_0x233fe0(0x3f2)),_0x53931c&&_0x23c85e(_0x53931c),this[_0x233fe0(0x223)][_0x233fe0(0x217)](_0x233fe0(0x378)),_0x349b30(_0x5eb5cb);});});}async['buttonMessage'](_0x250c28){const _0x14488b=a0_0x4e6726;let _0x1cf1ad={},_0x1b985b=_0x14488b(0x710);if(_0x250c28[_0x14488b(0x6da)]?.['mediaMessage']){_0x1b985b=_0x250c28[_0x14488b(0x6da)][_0x14488b(0x65c)]?.['mediatype'][_0x14488b(0x639)]()??_0x14488b(0x710),_0x1cf1ad[_0x14488b(0x420)]=_0x1b985b[_0x14488b(0x552)]()+_0x14488b(0x2e8);let _0x89b76a=await this[_0x14488b(0x232)](_0x250c28['buttonMessage'][_0x14488b(0x65c)]);_0x1cf1ad[_0x14488b(0x46a)]=_0x89b76a[_0x14488b(0x46a)][_0x1cf1ad[_0x14488b(0x420)]],_0x1cf1ad[_0x14488b(0x592)]='*'+_0x250c28[_0x14488b(0x6da)]['title']+'*\x0a\x0a'+_0x250c28[_0x14488b(0x6da)]['description'];}let _0x4e86e8={'text':_0x250c28[_0x14488b(0x6da)][_0x14488b(0x610)][_0x14488b(0x3cf)](_0x389229=>_0x389229[_0x14488b(0x2aa)]),'ids':_0x250c28[_0x14488b(0x6da)]['buttons'][_0x14488b(0x3cf)](_0x32e296=>_0x32e296[_0x14488b(0x62a)])};if(!(0x0,P[_0x14488b(0x694)])(_0x4e86e8[_0x14488b(0x4d2)])||!(0x0,P[_0x14488b(0x694)])(_0x4e86e8[_0x14488b(0x680)]))throw new g('Button\x20texts\x20cannot\x20be\x20repeated','Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x14488b(0x1fb)](_0x250c28[_0x14488b(0x440)],{'buttonsMessage':{'text':_0x1cf1ad?.['mediaKey']?void 0x0:_0x250c28[_0x14488b(0x6da)]['title'],'contentText':_0x1cf1ad?.[_0x14488b(0x592)]??_0x250c28[_0x14488b(0x6da)][_0x14488b(0x3a5)],'footerText':_0x250c28['buttonMessage']?.['footerText'],'buttons':_0x250c28['buttonMessage'][_0x14488b(0x610)][_0x14488b(0x3cf)](_0x4f2b8a=>({'buttonText':{'displayText':_0x4f2b8a[_0x14488b(0x2aa)]},'buttonId':_0x4f2b8a[_0x14488b(0x62a)],'type':0x1})),'headerType':w[_0x14488b(0x396)][_0x14488b(0x2e8)][_0x14488b(0x56f)][_0x14488b(0x46d)][_0x1b985b],[_0x1cf1ad?.['mediaKey']]:_0x1cf1ad?.[_0x14488b(0x46a)]}},_0x250c28?.[_0x14488b(0x6fb)]);}async['locationMessage'](_0x186210){const _0x53e511=a0_0x4e6726;return await this[_0x53e511(0x1fb)](_0x186210['number'],{'locationMessage':{'degreesLatitude':_0x186210['locationMessage']['latitude'],'degreesLongitude':_0x186210['locationMessage'][_0x53e511(0x3fe)],'name':_0x186210['locationMessage']?.[_0x53e511(0x5a6)],'address':_0x186210[_0x53e511(0x651)]?.[_0x53e511(0x54c)]}},_0x186210?.[_0x53e511(0x6fb)]);}async[a0_0x4e6726(0x61f)](_0x3027ac){const _0x491c76=a0_0x4e6726;let _0x4a071a={},_0x5b1d3a=_0x430199=>{const _0x10e05c=a0_0x2c93;let _0x47cca9='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x430199['fullName']+_0x10e05c(0x312)+_0x430199[_0x10e05c(0x5ad)]+'\x0a';_0x430199['organization']&&(_0x47cca9+=_0x10e05c(0x782)+_0x430199['organization']+';\x0a'),_0x430199['email']&&(_0x47cca9+=_0x10e05c(0x1d0)+_0x430199['email']+'\x0a'),_0x430199[_0x10e05c(0x70d)]&&(_0x47cca9+=_0x10e05c(0x3bd)+_0x430199[_0x10e05c(0x70d)]+'\x0a');let _0x47341='';return _0x430199[_0x10e05c(0x22f)]&&_0x430199[_0x10e05c(0x22f)][_0x10e05c(0x619)]('|')['forEach']((_0x28347a,_0x351915)=>{const _0x4a4771=_0x10e05c;let _0x2d5fe7=this['createJid'](_0x28347a)['replace']('@s.whatsapp.net','');_0x47341+=_0x4a4771(0x2a2)+(_0x351915+0x1)+_0x4a4771(0x44f)+_0x2d5fe7+':'+_0x28347a+_0x4a4771(0x1e5)+(_0x351915+0x1)+_0x4a4771(0x6e5);}),_0x47cca9+=_0x47341+_0x10e05c(0x593),_0x47cca9;};return _0x3027ac[_0x491c76(0x61f)][_0x491c76(0x728)]===0x1?_0x4a071a[_0x491c76(0x61f)]={'displayName':_0x3027ac[_0x491c76(0x61f)][0x0][_0x491c76(0x5ad)],'vcard':_0x5b1d3a(_0x3027ac['contactMessage'][0x0])}:_0x4a071a[_0x491c76(0x2b4)]={'displayName':_0x3027ac[_0x491c76(0x61f)]['length']+'\x20contacts','contacts':_0x3027ac[_0x491c76(0x61f)][_0x491c76(0x3cf)](_0x35bfc0=>({'displayName':_0x35bfc0[_0x491c76(0x5ad)],'vcard':_0x5b1d3a(_0x35bfc0)}))},await this[_0x491c76(0x1fb)](_0x3027ac[_0x491c76(0x440)],{..._0x4a071a},_0x3027ac?.[_0x491c76(0x6fb)]);}async[a0_0x4e6726(0x479)](_0x9bef82){const _0x14ebb3=a0_0x4e6726;return await this['sendMessageWithTyping'](_0x9bef82['reactionMessage']['key'][_0x14ebb3(0x719)],{'reactionMessage':{'key':_0x9bef82[_0x14ebb3(0x479)]['key'],'text':_0x9bef82[_0x14ebb3(0x479)][_0x14ebb3(0x4f3)]}});}async[a0_0x4e6726(0x5e1)](_0x92bcb0){const _0x1555af=a0_0x4e6726;let _0x1cdb60=[];for await(let _0x505bfb of _0x92bcb0[_0x1555af(0x764)]){let _0x50314c=this[_0x1555af(0x5f3)](_0x505bfb);if((0x0,w['isJidGroup'])(_0x50314c)){let _0x3b45b8=await this[_0x1555af(0x4d5)]({'groupJid':_0x50314c},_0x1555af(0x59e));_0x1cdb60['push'](new fe(_0x3b45b8[_0x1555af(0x5eb)]['id'],!!_0x3b45b8?.[_0x1555af(0x5eb)]['id'],_0x3b45b8?.[_0x1555af(0x5eb)][_0x1555af(0x733)]));}else try{let _0x3569c0=(await this[_0x1555af(0x27c)][_0x1555af(0x698)](_0x50314c))[0x0];_0x1cdb60[_0x1555af(0x73c)](new fe(_0x3569c0['jid'],_0x3569c0['exists']));}catch{_0x1cdb60['push'](new fe(_0x505bfb,!0x1));}}return _0x1cdb60;}async['markMessageAsRead'](_0x4e6d59){const _0x5742db=a0_0x4e6726;try{let _0x1cef1e=_0x4e6d59[_0x5742db(0x787)]['filter'](_0x225fb0=>(0x0,w[_0x5742db(0x797)])(_0x225fb0[_0x5742db(0x719)])||(0x0,w[_0x5742db(0x6ee)])(_0x225fb0[_0x5742db(0x719)]))[_0x5742db(0x3cf)](_0xfbfffe=>({'remoteJid':_0xfbfffe[_0x5742db(0x719)],'fromMe':_0xfbfffe[_0x5742db(0x346)],'id':_0xfbfffe['id']}));await this[_0x5742db(0x27c)][_0x5742db(0x787)](_0x1cef1e);let _0x2de65b=_0x1cef1e[_0x5742db(0x3cf)](_0x510d31=>this[_0x5742db(0x2ed)](_0x510d31,_0x510d31['remoteJid'],{'status':_0x5742db(0x20f),'owner':this[_0x5742db(0x49e)][_0x5742db(0x72c)]})),_0xa22d60=_0x1cef1e[_0x5742db(0x3cf)](_0x367714=>this['repository'][_0x5742db(0x2d6)]['updateOne']({'where':{'_id':_0x367714[_0x5742db(0x719)],'owner':this[_0x5742db(0x49e)][_0x5742db(0x72c)]}},{'unreadcount':0x0})),[_0x1efa31,_0x2cc008]=await Promise[_0x5742db(0x21b)]([Promise[_0x5742db(0x21b)](_0x2de65b),Promise[_0x5742db(0x21b)](_0xa22d60)]);return _0x2cc008[_0x5742db(0x618)](_0x462016=>_0x462016!==null)['forEach'](_0x1cba51=>{const _0xc2c4=_0x5742db;q(this['instanceName'],_0xc2c4(0x227),{'chat':_0x1cba51});}),{'message':_0x5742db(0x74d),'read':_0x5742db(0x4ee)};}catch(_0x55f6cb){throw console[_0x5742db(0x4be)](_0x5742db(0x3c3),_0x55f6cb),new A(_0x5742db(0x65d),_0x55f6cb['toString']());}}async[a0_0x4e6726(0x412)](_0x1ac366){const _0x4c9e83=a0_0x4e6726;let _0x4815a8=await this[_0x4c9e83(0x1d7)]({'where':{'key':{'remoteJid':_0x1ac366},'owner':this[_0x4c9e83(0x49e)][_0x4c9e83(0x5a6)]}}),_0x3aca84=_0x4815a8['pop']();for(let _0x35dabb of _0x4815a8)_0x35dabb[_0x4c9e83(0x55c)]>=_0x3aca84[_0x4c9e83(0x55c)]&&(_0x3aca84=_0x35dabb);return _0x3aca84;}async[a0_0x4e6726(0x3be)](_0xec12fa){const _0x38166c=a0_0x4e6726;this[_0x38166c(0x223)][_0x38166c(0x217)](_0x38166c(0x5e3));try{let _0x371d18=_0xec12fa[_0x38166c(0x1b8)],_0x434101=_0xec12fa[_0x38166c(0x2d6)];if(!_0x371d18&&_0x434101?_0x371d18=await this['getLastMessage'](_0x434101):(_0x371d18=_0xec12fa[_0x38166c(0x1b8)],_0x371d18['messageTimestamp']=_0x371d18?.[_0x38166c(0x55c)]??Date[_0x38166c(0x2dd)](),_0x434101=_0x371d18?.[_0x38166c(0x737)]?.[_0x38166c(0x719)]),!_0x371d18||Object[_0x38166c(0x2d7)](_0x371d18)[_0x38166c(0x728)]===0x0)throw new $(_0x38166c(0x73d));await this[_0x38166c(0x27c)][_0x38166c(0x228)]({'archive':_0xec12fa[_0x38166c(0x38b)],'lastMessages':[_0x371d18]},this[_0x38166c(0x5f3)](_0x434101));let _0x2832bd=await this[_0x38166c(0x458)]['chat'][_0x38166c(0x617)]({'where':{'_id':_0x371d18?.['key']?.[_0x38166c(0x719)],'owner':this[_0x38166c(0x49e)][_0x38166c(0x72c)]}},{'archived':_0xec12fa[_0x38166c(0x38b)]});return _0x2832bd&&q(this[_0x38166c(0x4b3)],_0x38166c(0x227),{'chat':_0x2832bd}),{'chatId':_0x434101,'archived':_0xec12fa[_0x38166c(0x38b)]};}catch(_0xaf6ae5){throw new A({'archived':!0x1,'message':[_0x38166c(0x218),_0xaf6ae5[_0x38166c(0x594)]()]});}}async[a0_0x4e6726(0x778)](_0x39fdd4){const _0x1468ca=a0_0x4e6726;try{let _0x8eb5a3=await this[_0x1468ca(0x27c)][_0x1468ca(0x1f6)](_0x39fdd4['remoteJid'],{'delete':_0x39fdd4});try{let _0x494e14=await this[_0x1468ca(0x2ed)](_0x39fdd4,_0x39fdd4[_0x1468ca(0x719)],{'status':_0x1468ca(0x5a1),'owner':this[_0x1468ca(0x49e)][_0x1468ca(0x72c)]});this[_0x1468ca(0x223)][_0x1468ca(0x217)](this[_0x1468ca(0x4b3)]+'\x20('+this[_0x1468ca(0x49e)][_0x1468ca(0x72c)]+_0x1468ca(0x5c0)+_0x494e14);}catch(_0x39e07b){console['error']('Error\x20updating\x20message\x20status:',_0x39e07b);}return _0x8eb5a3;}catch(_0x244210){throw new A(_0x1468ca(0x34a),_0x244210?.[_0x1468ca(0x594)]());}}async[a0_0x4e6726(0x355)](_0x12bc8f){const _0x539ff9=a0_0x4e6726;try{let _0x4be8b7=_0x12bc8f?.[_0x539ff9(0x46a)]?_0x12bc8f:await this[_0x539ff9(0x598)](_0x12bc8f[_0x539ff9(0x737)],!0x0);for(let _0x547644 of Xs)_0x4be8b7[_0x539ff9(0x46a)][_0x547644]&&(_0x4be8b7['message']=_0x4be8b7['message'][_0x547644][_0x539ff9(0x46a)]);let _0x56bfdf,_0x463e11;for(let _0x4f851a of Ys)if(_0x56bfdf=_0x4be8b7[_0x539ff9(0x46a)][_0x4f851a],_0x56bfdf){_0x463e11=_0x4f851a;break;}if(!_0x56bfdf)throw _0x539ff9(0x40e);typeof _0x56bfdf['mediaKey']=='object'&&(_0x4be8b7[_0x539ff9(0x46a)]=JSON['parse'](JSON['stringify'](_0x4be8b7[_0x539ff9(0x46a)])));let _0x255f7e=await(0x0,w[_0x539ff9(0x735)])({'key':_0x4be8b7?.[_0x539ff9(0x737)],'message':_0x4be8b7?.[_0x539ff9(0x46a)]},_0x539ff9(0x4e2),{},{'logger':(0x0,At[_0x539ff9(0x38c)])({'level':_0x539ff9(0x4be)}),'reuploadRequest':this[_0x539ff9(0x27c)][_0x539ff9(0x4b1)]});if(!(_0x255f7e instanceof Buffer))throw new Error(_0x539ff9(0x4f0));let _0x53c113=this['configService'][_0x539ff9(0x671)](_0x539ff9(0x1e4)),_0xa851af,_0x3d2911;if(_0x56bfdf[_0x539ff9(0x30d)])_0xa851af=_0x56bfdf[_0x539ff9(0x30d)];else{let _0x1158a4=_0x56bfdf[_0x539ff9(0x33b)]?.[_0x539ff9(0x45e)](/\/(\w+)/),_0x51aef4=_0x1158a4?_0x1158a4[0x1]:null;if(!_0x51aef4)throw new Error(_0x539ff9(0x2f7));_0xa851af=(0x0,Ot['v4'])()+'.'+_0x51aef4;}_0x463e11===_0x539ff9(0x3d5)&&_0x56bfdf[_0x539ff9(0x33b)]===_0x539ff9(0x340)?(_0xa851af=(0x0,Ot['v4'])()+_0x539ff9(0x62c),_0x3d2911=_0x539ff9(0x39e)+await this['convertaudio'](_0x255f7e[_0x539ff9(0x594)](_0x539ff9(0x7a4)))):(await this[_0x539ff9(0x2fc)](_0x255f7e,_0xa851af),_0x3d2911=_0x539ff9(0x39e)+_0xa851af);let _0x4ba8ff=this[_0x539ff9(0x3df)][_0x539ff9(0x671)](_0x539ff9(0x1e3)),_0x106bbd=this[_0x539ff9(0x3df)]['get']('SERVER')[_0x539ff9(0x3e5)],_0x5c05fd=_0x4ba8ff&&_0x4ba8ff[_0x539ff9(0x77a)][_0x539ff9(0x619)]('/')[0x4];_0x106bbd===0x1bb&&(_0x3d2911=''+(_0x539ff9(0x76c)+_0x5c05fd)+_0x3d2911);let _0x4df6ea=0xc*0x3c*0x3c*0x3e8,_0x3b6d85={'where':{'_id':_0x4be8b7[_0x539ff9(0x737)]['id'],'owner':this['instance'][_0x539ff9(0x72c)]}},_0x2d6a4b={'message_normalized.fileUrl':_0x3d2911,'message_normalized.expires_fileUrl':Date[_0x539ff9(0x2dd)]()+_0x4df6ea};try{let _0x4ffee9=await this[_0x539ff9(0x458)][_0x539ff9(0x46a)]['update'](_0x3b6d85,_0x2d6a4b);_0x4ffee9&&q(this[_0x539ff9(0x4b3)],_0x539ff9(0x6ef),{'message':_0x4ffee9});}catch(_0x5a8c51){this[_0x539ff9(0x223)]['error'](this[_0x539ff9(0x4b3)]+'\x20('+this[_0x539ff9(0x49e)][_0x539ff9(0x72c)]+_0x539ff9(0x2ad)+(_0x5a8c51 instanceof Error?_0x5a8c51[_0x539ff9(0x46a)]:JSON[_0x539ff9(0x286)](_0x5a8c51,null,0x2)));}return{'mediaType':_0x463e11,'fileName':_0x56bfdf[_0x539ff9(0x30d)],'caption':_0x56bfdf[_0x539ff9(0x5c1)],'size':{'fileLength':_0x56bfdf['fileLength'],'height':_0x56bfdf[_0x539ff9(0x2a0)],'width':_0x56bfdf['width']},'mimetype':_0x56bfdf[_0x539ff9(0x33b)],'base64':_0x255f7e[_0x539ff9(0x594)]('base64'),'fileUrl':_0x3d2911,'expires_fileUrl':Date[_0x539ff9(0x2dd)]()+_0x4df6ea};}catch(_0x183917){throw this[_0x539ff9(0x223)][_0x539ff9(0x4be)](this[_0x539ff9(0x4b3)]+'\x20('+this['instance']['wuid']+_0x539ff9(0x2ad)+(_0x183917 instanceof Error?_0x183917[_0x539ff9(0x46a)]:JSON[_0x539ff9(0x286)](_0x183917,null,0x2))),new g(_0x183917['toString']());}}async[a0_0x4e6726(0x2fc)](_0x5a3fa7,_0x12b63d){const _0x341b4e=a0_0x4e6726;console[_0x341b4e(0x262)](_0x341b4e(0x28a),__dirname),console['log'](_0x341b4e(0x2b7),_0x12b63d);let _0x330cbd=k['default'][_0x341b4e(0x6fa)](__dirname,'downloads');console['log'](_0x341b4e(0x591),_0x330cbd),x['existsSync'](_0x330cbd)||(this[_0x341b4e(0x223)]['log'](_0x341b4e(0x4d3)),x[_0x341b4e(0x649)](_0x330cbd,{'recursive':!0x0}));let _0x5e7679=k[_0x341b4e(0x38c)][_0x341b4e(0x6fa)](_0x330cbd,_0x12b63d);return console[_0x341b4e(0x262)]('Full\x20file\x20path:',_0x5e7679),new Promise((_0x5c03a2,_0x10ea68)=>{const _0x5e1f83=_0x341b4e;x[_0x5e1f83(0x1e1)](_0x5e7679,_0x5a3fa7,_0xc3cb99=>{const _0x1d09c0=_0x5e1f83;_0xc3cb99?(this[_0x1d09c0(0x223)][_0x1d09c0(0x4be)](_0x1d09c0(0x21d)+JSON[_0x1d09c0(0x286)](_0xc3cb99,null,0x2)),_0x10ea68(_0xc3cb99)):(this[_0x1d09c0(0x223)][_0x1d09c0(0x262)](_0x1d09c0(0x44b)+_0x5e7679),_0x5c03a2(_0x5e7679));});});}async[a0_0x4e6726(0x48d)](_0x7bf456){const _0x4240a3=a0_0x4e6726;return _0x7bf456?.[_0x4240a3(0x443)]?_0x7bf456[_0x4240a3(0x443)][_0x4240a3(0x3b1)]=this['instance'][_0x4240a3(0x72c)]:_0x7bf456={'where':{'owner':this[_0x4240a3(0x49e)][_0x4240a3(0x72c)]}},await this[_0x4240a3(0x458)][_0x4240a3(0x4da)]['find'](_0x7bf456);}async['fetchMessages'](_0x3245f8){const _0xe3143c=a0_0x4e6726;return _0x3245f8?.[_0xe3143c(0x443)]?_0x3245f8[_0xe3143c(0x443)][_0xe3143c(0x3b1)]=this['instance'][_0xe3143c(0x72c)]:_0x3245f8={'where':{'owner':this[_0xe3143c(0x49e)][_0xe3143c(0x72c)]},'limit':_0x3245f8?.[_0xe3143c(0x51f)]},await this['repository'][_0xe3143c(0x46a)][_0xe3143c(0x6b1)](_0x3245f8);}async[a0_0x4e6726(0x1c7)](){const _0x46596d=a0_0x4e6726;let _0x309c9a=[{'query':{'where':{'owner':this[_0x46596d(0x49e)][_0x46596d(0x72c)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this[_0x46596d(0x49e)][_0x46596d(0x72c)],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this[_0x46596d(0x458)]['chat'][_0x46596d(0x5a0)](_0x309c9a),await this[_0x46596d(0x458)][_0x46596d(0x2d6)][_0x46596d(0x6b1)]({'where':{'owner':this[_0x46596d(0x49e)]['wuid']}});}async[a0_0x4e6726(0x667)](){const _0x12eea2=a0_0x4e6726;return await this[_0x12eea2(0x27c)]['fetchPrivacySettings']();}async['updatePrivacySettings'](_0x8d6f2b){const _0x42f186=a0_0x4e6726;try{return await this[_0x42f186(0x27c)][_0x42f186(0x77e)](_0x8d6f2b['privacySettings'][_0x42f186(0x662)]),await this[_0x42f186(0x27c)][_0x42f186(0x5a4)](_0x8d6f2b[_0x42f186(0x4eb)][_0x42f186(0x533)]),await this[_0x42f186(0x27c)][_0x42f186(0x30b)](_0x8d6f2b['privacySettings'][_0x42f186(0x23b)]),await this[_0x42f186(0x27c)][_0x42f186(0x506)](_0x8d6f2b[_0x42f186(0x4eb)][_0x42f186(0x6ec)]),await this[_0x42f186(0x27c)][_0x42f186(0x54d)](_0x8d6f2b[_0x42f186(0x4eb)][_0x42f186(0x221)]),await this[_0x42f186(0x27c)]['updateGroupsAddPrivacy'](_0x8d6f2b[_0x42f186(0x4eb)][_0x42f186(0x582)]),this['client']?.['ws']?.['close'](),{'update':_0x42f186(0x4ee),'data':{'readreceipts':_0x8d6f2b['privacySettings'][_0x42f186(0x662)],'profile':_0x8d6f2b[_0x42f186(0x4eb)][_0x42f186(0x533)],'status':_0x8d6f2b['privacySettings']['status'],'online':_0x8d6f2b['privacySettings'][_0x42f186(0x6ec)],'last':_0x8d6f2b['privacySettings']['last'],'groupadd':_0x8d6f2b[_0x42f186(0x4eb)][_0x42f186(0x582)]}};}catch(_0x3e03ca){throw new A(_0x42f186(0x580),_0x3e03ca['toString']());}}async[a0_0x4e6726(0x6dd)](_0x4ba431){const _0x59c3ae=a0_0x4e6726;let _0x69ec67=_0x4ba431?this[_0x59c3ae(0x5f3)](_0x4ba431):this[_0x59c3ae(0x27c)]?.[_0x59c3ae(0x2ac)]?.['id'];this[_0x59c3ae(0x223)][_0x59c3ae(0x217)](_0x59c3ae(0x313)+_0x69ec67);try{if(this['logger'][_0x59c3ae(0x217)](_0x59c3ae(0x4a8)),_0x4ba431){let _0x3a6f7a=(await this[_0x59c3ae(0x5e1)]({'numbers':[_0x69ec67]}))?.[_0x59c3ae(0x544)](),_0x1bfe0c=await this['profilePicture'](_0x3a6f7a?.['jid']),_0x1ee919=await this[_0x59c3ae(0x645)](_0x3a6f7a?.[_0x59c3ae(0x647)]),_0x44ddee=await this[_0x59c3ae(0x29a)](_0x3a6f7a?.[_0x59c3ae(0x647)]);return{'wuid':_0x3a6f7a?.[_0x59c3ae(0x647)]||_0x69ec67,'name':_0x3a6f7a?.['name'],'numberExists':_0x3a6f7a?.[_0x59c3ae(0x5fe)],'picture':_0x1bfe0c?.[_0x59c3ae(0x67a)],'status':_0x1ee919?.['status'],'isBusiness':_0x44ddee[_0x59c3ae(0x1f9)],'email':_0x44ddee?.[_0x59c3ae(0x315)],'description':_0x44ddee?.[_0x59c3ae(0x3a5)],'website':_0x44ddee?.[_0x59c3ae(0x441)]?.['shift']()};}}catch{return this[_0x59c3ae(0x223)][_0x59c3ae(0x217)]('Profile\x20not\x20found'),{'wuid':_0x69ec67,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0xb5dc15){const _0xc51d23=a0_0x4e6726;let _0x25b34f=(_0xb5dc15?this['createJid'](_0xb5dc15):this[_0xc51d23(0x27c)]?.[_0xc51d23(0x2ac)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0xc51d23(0x223)]['verbose'](_0xc51d23(0x4e9)+_0x25b34f);let _0x264d27=await this[_0xc51d23(0x458)][_0xc51d23(0x4da)][_0xc51d23(0x350)]({'where':{'_id':_0x25b34f,'owner':this[_0xc51d23(0x49e)][_0xc51d23(0x72c)]}}),_0x506d9c=_0x264d27?_0x264d27['pushName']:null;try{let _0x11dac5=(await this['whatsappNumber']({'numbers':[_0x25b34f]}))?.[_0xc51d23(0x544)](),_0x1fcc64=await this['profilePicture'](_0x11dac5?.['jid']),_0x1a885f=await this[_0xc51d23(0x645)](_0x11dac5?.['jid']),_0x48c7d5=await this['fetchBusinessProfile'](_0x11dac5?.[_0xc51d23(0x647)]),_0x4df709={'imagechat':_0x1fcc64?.[_0xc51d23(0x67a)],'contactname':_0x506d9c||null,'status':_0x1a885f?.[_0xc51d23(0x23b)],'isBusiness':_0x48c7d5[_0xc51d23(0x1f9)],'email':_0x48c7d5?.[_0xc51d23(0x315)],'description':_0x48c7d5?.[_0xc51d23(0x3a5)],'website':_0x48c7d5?.[_0xc51d23(0x441)]?.[_0xc51d23(0x544)](),'lastcache':Date['now']()},_0x3becdb=await this[_0xc51d23(0x458)][_0xc51d23(0x2d6)][_0xc51d23(0x617)]({'where':{'_id':_0x25b34f,'owner':this['instance'][_0xc51d23(0x72c)]}},_0x4df709),_0x43e5e6={'owner':this[_0xc51d23(0x49e)][_0xc51d23(0x72c)],'_id':_0x25b34f,'profilePictureUrl':_0x1fcc64?.[_0xc51d23(0x67a)],'status':_0x1a885f?.[_0xc51d23(0x23b)]};return this[_0xc51d23(0x458)][_0xc51d23(0x4da)][_0xc51d23(0x5f4)]([_0x43e5e6],this[_0xc51d23(0x49e)]['wuid']),_0x3becdb&&q(this[_0xc51d23(0x4b3)],_0xc51d23(0x227),{'chat':_0x3becdb}),{'wuid':_0x11dac5?.[_0xc51d23(0x647)]||_0x25b34f,'name':_0x11dac5?.[_0xc51d23(0x5a6)],'numberExists':_0x11dac5?.[_0xc51d23(0x5fe)],'picture':_0x1fcc64?.[_0xc51d23(0x67a)],'status':_0x1a885f?.['status'],'isBusiness':_0x48c7d5[_0xc51d23(0x1f9)],'email':_0x48c7d5?.['email'],'description':_0x48c7d5?.[_0xc51d23(0x3a5)],'website':_0x48c7d5?.[_0xc51d23(0x441)]?.[_0xc51d23(0x544)]()};}catch(_0x327a95){return this[_0xc51d23(0x223)][_0xc51d23(0x4be)](_0xc51d23(0x641)+(_0x327a95 instanceof Error?_0x327a95[_0xc51d23(0x46a)]:JSON['stringify'](_0x327a95,null,0x2))),{};}}async['fetchBusinessProfile'](_0xa5f2f1){const _0x1c1593=a0_0x4e6726;this['logger']['verbose'](_0x1c1593(0x589));try{let _0x80148e=_0xa5f2f1?this[_0x1c1593(0x5f3)](_0xa5f2f1):this[_0x1c1593(0x49e)][_0x1c1593(0x72c)],_0x53cbaf=await this[_0x1c1593(0x27c)][_0x1c1593(0x254)](_0x80148e);return this['logger']['verbose'](_0x1c1593(0x1dc)),_0x53cbaf?(this[_0x1c1593(0x223)]['verbose'](_0x1c1593(0x6d0)),{'isBusiness':!0x0,..._0x53cbaf}):{'isBusiness':!0x1,'message':_0x1c1593(0x233),...(await this[_0x1c1593(0x5e1)]({'numbers':[_0x80148e]}))?.[_0x1c1593(0x544)]()};}catch(_0x15548a){throw new A(_0x1c1593(0x365),_0x15548a[_0x1c1593(0x594)]());}}async[a0_0x4e6726(0x645)](_0x4587ca){const _0x532659=a0_0x4e6726;let _0xeaba4f=this['createJid'](_0x4587ca);try{return{'wuid':_0xeaba4f,'status':(await this['client'][_0x532659(0x1ef)](_0xeaba4f))?.['status']};}catch{return{'wuid':_0xeaba4f,'status':null};}}async[a0_0x4e6726(0x339)](_0x26e61f){const _0xf79cc=a0_0x4e6726;try{return await this['client'][_0xf79cc(0x339)](_0x26e61f),{'update':'success'};}catch(_0x21cb95){throw new A(_0xf79cc(0x365),_0x21cb95[_0xf79cc(0x594)]());}}async[a0_0x4e6726(0x3d7)](_0x1823d6){const _0x2bf015=a0_0x4e6726;try{return await this[_0x2bf015(0x27c)]['updateProfileStatus'](_0x1823d6),{'update':_0x2bf015(0x4ee)};}catch(_0x4b2f39){throw new A(_0x2bf015(0x465),_0x4b2f39[_0x2bf015(0x594)]());}}async[a0_0x4e6726(0x5d0)](_0x4f771c){const _0x3c7b89=a0_0x4e6726;try{let _0x2b6526;if((0x0,P[_0x3c7b89(0x5ef)])(_0x4f771c)){let _0x5199ed=new Date()['getTime'](),_0x4ffdbe=_0x4f771c+'?timestamp='+_0x5199ed;_0x2b6526=(await ce[_0x3c7b89(0x38c)]['get'](_0x4ffdbe,{'responseType':_0x3c7b89(0x26b)}))['data'];}else{if((0x0,P['isBase64'])(_0x4f771c))_0x2b6526=Buffer[_0x3c7b89(0x725)](_0x4f771c,_0x3c7b89(0x7a4));else throw new g(_0x3c7b89(0x5a9));}return await this[_0x3c7b89(0x27c)][_0x3c7b89(0x5d0)](this[_0x3c7b89(0x49e)][_0x3c7b89(0x72c)],_0x2b6526),{'update':'success'};}catch(_0x36afaa){throw new A(_0x3c7b89(0x314),_0x36afaa[_0x3c7b89(0x594)]());}}async[a0_0x4e6726(0x54e)](){const _0x385b48=a0_0x4e6726;try{return await this[_0x385b48(0x27c)][_0x385b48(0x54e)](this[_0x385b48(0x49e)][_0x385b48(0x72c)]),{'update':_0x385b48(0x4ee)};}catch(_0x311f7a){throw new A(_0x385b48(0x628),_0x311f7a[_0x385b48(0x594)]());}}async['createGroup'](_0x4f7dac){const _0x5d7821=a0_0x4e6726;try{let _0x1c16c0=_0x4f7dac[_0x5d7821(0x2b1)][_0x5d7821(0x3cf)](_0x4814f1=>this[_0x5d7821(0x5f3)](_0x4814f1)),{id:_0x201bc8}=await this[_0x5d7821(0x27c)]['groupCreate'](_0x4f7dac['subject'],_0x1c16c0);return _0x4f7dac?.['description']&&await this[_0x5d7821(0x27c)]['groupUpdateDescription'](_0x201bc8,_0x4f7dac[_0x5d7821(0x3a5)]),{'metadata':await this[_0x5d7821(0x27c)]['groupMetadata'](_0x201bc8)};}catch(_0x3f4930){throw this[_0x5d7821(0x223)][_0x5d7821(0x4be)](this[_0x5d7821(0x4b3)]+'\x20('+this[_0x5d7821(0x49e)][_0x5d7821(0x72c)]+_0x5d7821(0x2ad)+(_0x3f4930 instanceof Error?_0x3f4930[_0x5d7821(0x46a)]:JSON[_0x5d7821(0x286)](_0x3f4930,null,0x2))),new A(_0x5d7821(0x51d),_0x3f4930[_0x5d7821(0x594)]());}}async['updateGroupPicture'](_0x1dfaae){const _0x30997c=a0_0x4e6726;try{let _0x35b1aa;if((0x0,P[_0x30997c(0x5ef)])(_0x1dfaae['image'])){let _0x43de8b=new Date()[_0x30997c(0x4dc)](),_0x390243=_0x1dfaae[_0x30997c(0x236)]+_0x30997c(0x6f1)+_0x43de8b;_0x35b1aa=(await ce[_0x30997c(0x38c)]['get'](_0x390243,{'responseType':_0x30997c(0x26b)}))[_0x30997c(0x65a)];}else{if((0x0,P['isBase64'])(_0x1dfaae[_0x30997c(0x236)]))_0x35b1aa=Buffer[_0x30997c(0x725)](_0x1dfaae[_0x30997c(0x236)],_0x30997c(0x7a4));else throw new g(_0x30997c(0x5a9));}return await this[_0x30997c(0x27c)][_0x30997c(0x5d0)](_0x1dfaae['groupJid'],_0x35b1aa),{'update':'success'};}catch(_0x5f2fde){throw new A('Error\x20update\x20group\x20picture',_0x5f2fde[_0x30997c(0x594)]());}}async[a0_0x4e6726(0x4d5)](_0x5d0bdc,_0x10c258='out'){const _0x8e6472=a0_0x4e6726;try{let _0x19dccb=await this[_0x8e6472(0x27c)][_0x8e6472(0x37d)](_0x5d0bdc[_0x8e6472(0x796)]),_0x272e4b=null;try{_0x272e4b=(await this[_0x8e6472(0x718)](_0x5d0bdc[_0x8e6472(0x796)]))[_0x8e6472(0x67a)];}catch(_0x51a2e6){this[_0x8e6472(0x223)][_0x8e6472(0x217)](this[_0x8e6472(0x4b3)]+'\x20('+this[_0x8e6472(0x49e)][_0x8e6472(0x72c)]+_0x8e6472(0x3a6)+_0x5d0bdc[_0x8e6472(0x796)]+':\x20'+(_0x51a2e6 instanceof Error?_0x51a2e6[_0x8e6472(0x46a)]:JSON['stringify'](_0x51a2e6,null,0x2)));}let _0x51b860=await this[_0x8e6472(0x458)][_0x8e6472(0x2d6)][_0x8e6472(0x617)]({'where':{'_id':_0x5d0bdc[_0x8e6472(0x796)],'owner':this[_0x8e6472(0x49e)][_0x8e6472(0x72c)]}},{'imagechat':_0x272e4b,'name':_0x19dccb['subject'],'group_size':_0x19dccb[_0x8e6472(0x756)],'group_announce':_0x19dccb['announce'],'lastcache':Date['now']()});return _0x51b860&&q(this[_0x8e6472(0x4b3)],_0x8e6472(0x227),{'chat':_0x51b860}),{'metadata':_0x19dccb,'image':_0x272e4b};}catch(_0x579dc7){if(_0x10c258===_0x8e6472(0x59e))return;throw new $(_0x8e6472(0x5e5),_0x579dc7[_0x8e6472(0x594)]());}}async[a0_0x4e6726(0x424)](_0x5307c8){const _0x3cc807=a0_0x4e6726;try{return await this[_0x3cc807(0x27c)][_0x3cc807(0x361)](_0x5307c8[_0x3cc807(0x796)],_0x5307c8[_0x3cc807(0x3a5)]),{'update':_0x3cc807(0x4ee)};}catch(_0x5dfef6){throw new A('Error\x20change\x20group\x20description',_0x5dfef6[_0x3cc807(0x594)]());}}async[a0_0x4e6726(0x1df)](_0x22fffc){const _0x1c2994=a0_0x4e6726;try{return await this['client']['groupUpdateSubject'](_0x22fffc['groupJid'],_0x22fffc['name']),{'update':_0x1c2994(0x4ee)};}catch(_0x50d017){throw new A('Error\x20change\x20group\x20name',_0x50d017['toString']());}}async['groupSetting'](_0x44167b){const _0x5efd73=a0_0x4e6726;try{return await this[_0x5efd73(0x27c)]['groupSettingUpdate'](_0x44167b[_0x5efd73(0x796)],_0x44167b[_0x5efd73(0x657)]),{'update':_0x5efd73(0x4ee)};}catch(_0x584aaa){throw new A(_0x5efd73(0x5b5),_0x584aaa[_0x5efd73(0x594)]());}}async[a0_0x4e6726(0x429)](){const _0x2a9f44=a0_0x4e6726;try{let _0x13b9c4=[],_0x1b32b9=await this[_0x2a9f44(0x27c)]['groupFetchAllParticipating'](),_0x2a8ead=Object[_0x2a9f44(0x485)](_0x1b32b9),_0x531341=_0x2a8ead['filter'](_0x3c3b76=>(0x0,w[_0x2a9f44(0x797)])(_0x3c3b76?.['id']))[_0x2a9f44(0x3cf)](async _0x35940e=>{const _0x5e0298=_0x2a9f44;try{return await this[_0x5e0298(0x27c)][_0x5e0298(0x67a)](_0x35940e['id'],_0x5e0298(0x5d3));}catch(_0xa7ad6a){return this[_0x5e0298(0x223)][_0x5e0298(0x217)](this[_0x5e0298(0x4b3)]+'\x20('+this[_0x5e0298(0x49e)][_0x5e0298(0x72c)]+_0x5e0298(0x3a6)+_0x35940e['id']+':\x20'+(_0xa7ad6a instanceof Error?_0xa7ad6a['message']:JSON[_0x5e0298(0x286)](_0xa7ad6a,null,0x2))),null;}}),_0x8325fd=await Promise[_0x2a9f44(0x21b)](_0x531341);for(let _0x25b1d3=0x0;_0x25b1d3<_0x2a8ead[_0x2a9f44(0x728)];_0x25b1d3++){let _0x30b085=_0x2a8ead[_0x25b1d3];(0x0,w[_0x2a9f44(0x797)])(_0x30b085?.['id'])&&_0x13b9c4[_0x2a9f44(0x73c)]({'groupJid':_0x30b085?.['id'],'subject':_0x30b085?.['subject'],'subjectOwner':_0x30b085?.['subjectOwner']?.[_0x2a9f44(0x619)]('@')[0x0],'subjectTime':_0x30b085?.['subjectTime'],'size':_0x30b085?.['participants']?.['length'],'owner':_0x30b085?.[_0x2a9f44(0x3b1)]?.['split']('@')[0x0],'creation':_0x30b085?.[_0x2a9f44(0x6bc)],'desc':_0x30b085?.[_0x2a9f44(0x252)],'restrict':_0x30b085?.['restrict'],'announce':_0x30b085?.[_0x2a9f44(0x5af)],'image':_0x8325fd[_0x25b1d3]});}return _0x13b9c4;}catch(_0x5702b9){throw new $(_0x2a9f44(0x5e5),_0x5702b9[_0x2a9f44(0x594)]());}}async[a0_0x4e6726(0x471)](_0x51f0b4){const _0x182d58=a0_0x4e6726;try{let _0x410317=await this['client'][_0x182d58(0x743)](_0x51f0b4[_0x182d58(0x796)]);return{'inviteUrl':_0x182d58(0x596)+_0x410317,'inviteCode':_0x410317};}catch(_0x1cd6c2){throw new $(_0x182d58(0x291),_0x1cd6c2['toString']());}}async[a0_0x4e6726(0x49a)](_0x4cdc51){const _0x14dd64=a0_0x4e6726;try{let _0x52c931=await this['client'][_0x14dd64(0x6f0)](_0x4cdc51[_0x14dd64(0x796)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x52c931,'inviteCode':_0x52c931};}catch(_0x166ba0){throw new $(_0x14dd64(0x487),_0x166ba0[_0x14dd64(0x594)]());}}async[a0_0x4e6726(0x4db)](_0x1a3681){const _0x3e52c0=a0_0x4e6726;try{if((0x0,P[_0x3e52c0(0x5ef)])(_0x1a3681[_0x3e52c0(0x471)]))var _0x16a063=_0x1a3681[_0x3e52c0(0x471)][_0x3e52c0(0x619)]('/')[0x3];else var _0x16a063=_0x1a3681['inviteCode'];let _0x1995c8=await this[_0x3e52c0(0x27c)][_0x3e52c0(0x615)](_0x16a063);return this[_0x3e52c0(0x223)][_0x3e52c0(0x217)](this[_0x3e52c0(0x4b3)]+'\x20('+this['instance'][_0x3e52c0(0x72c)]+_0x3e52c0(0x2ad)+_0x1995c8),{'join':!0x0,'inviteCode':_0x16a063,'groupJid':_0x1995c8};}catch(_0x3082ce){throw new $('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x3082ce[_0x3e52c0(0x594)]());}}async[a0_0x4e6726(0x564)](_0x373884){const _0x50027c=a0_0x4e6726;try{return{'participants':(await this[_0x50027c(0x27c)][_0x50027c(0x37d)](_0x373884[_0x50027c(0x796)]))[_0x50027c(0x2b1)]};}catch(_0x34864d){throw new $(_0x50027c(0x3ef),_0x34864d[_0x50027c(0x594)]());}}async[a0_0x4e6726(0x77f)](_0x5cd6d1){const _0x2300fe=a0_0x4e6726;try{let _0x516594=_0x5cd6d1['participants'][_0x2300fe(0x3cf)](_0x3f782d=>this[_0x2300fe(0x5f3)](_0x3f782d));return{'updateParticipants':await this[_0x2300fe(0x27c)]['groupParticipantsUpdate'](_0x5cd6d1[_0x2300fe(0x796)],_0x516594,_0x5cd6d1[_0x2300fe(0x30c)])};}catch(_0x130fa6){throw new g(_0x2300fe(0x5e8),_0x130fa6[_0x2300fe(0x594)]());}}async[a0_0x4e6726(0x526)](_0x5e6644){const _0x52f5e5=a0_0x4e6726;try{let _0x21b369=await this['client'][_0x52f5e5(0x47d)](_0x5e6644[_0x52f5e5(0x796)],_0x5e6644[_0x52f5e5(0x3b3)]);return{'success':!0x0};}catch(_0x326f43){throw new g('Error\x20updating\x20setting',_0x326f43['toString']());}}async['leaveGroup'](_0x250429){const _0x436ace=a0_0x4e6726;try{return await this['client'][_0x436ace(0x6a2)](_0x250429[_0x436ace(0x796)]),{'groupJid':_0x250429[_0x436ace(0x796)],'leave':!0x0};}catch(_0x5b238d){throw new g('Unable\x20to\x20leave\x20the\x20group',_0x5b238d[_0x436ace(0x594)]());}}async[a0_0x4e6726(0x43b)](_0x5e9d52){const _0x1d3dee=a0_0x4e6726;return await this[_0x1d3dee(0x1fb)](_0x5e9d52[_0x1d3dee(0x440)],{'poll':{'name':_0x5e9d52[_0x1d3dee(0x43b)]?.[_0x1d3dee(0x5a6)],'selectableCount':_0x5e9d52['pollMessage'][_0x1d3dee(0x783)],'values':_0x5e9d52['pollMessage'][_0x1d3dee(0x485)]}},_0x5e9d52?.['options']);}async['listMessage'](_0x3c75a3){const _0x4ae4e7=a0_0x4e6726;return await this[_0x4ae4e7(0x1fb)](_0x3c75a3[_0x4ae4e7(0x440)],{'listMessage':{'title':_0x3c75a3[_0x4ae4e7(0x2a1)][_0x4ae4e7(0x1fc)],'description':_0x3c75a3[_0x4ae4e7(0x2a1)]['description'],'buttonText':_0x3c75a3[_0x4ae4e7(0x2a1)]?.[_0x4ae4e7(0x2aa)],'footerText':_0x3c75a3['listMessage']?.[_0x4ae4e7(0x51a)],'sections':_0x3c75a3[_0x4ae4e7(0x2a1)]['sections'],'listType':0x2}},_0x3c75a3?.[_0x4ae4e7(0x6fb)]);}async[a0_0x4e6726(0x1f1)](_0x192fbf){const _0x2d1bd4=a0_0x4e6726;let _0x57009d;if(_0x192fbf[_0x2d1bd4(0x1f1)][_0x2d1bd4(0x5ec)]===_0x2d1bd4(0x57e)){let _0x1f4896=_0x192fbf[_0x2d1bd4(0x1f1)][_0x2d1bd4(0x4d2)][_0x2d1bd4(0x50b)]('\x0a'),_0x54d381='',_0x3859dd='';_0x1f4896!==-0x1?(_0x54d381=_0x192fbf[_0x2d1bd4(0x1f1)]['text'][_0x2d1bd4(0x708)](0x0,_0x1f4896)[_0x2d1bd4(0x3e4)](),_0x3859dd=_0x192fbf[_0x2d1bd4(0x1f1)][_0x2d1bd4(0x4d2)][_0x2d1bd4(0x708)](_0x1f4896+0x1)):_0x3859dd=_0x192fbf[_0x2d1bd4(0x1f1)][_0x2d1bd4(0x4d2)];let _0x1bbacd=this[_0x2d1bd4(0x54f)](_0x192fbf[_0x2d1bd4(0x1f1)]['choices']);_0x57009d={'listMessage':{'title':_0x54d381,'description':_0x3859dd,'buttonText':_0x192fbf[_0x2d1bd4(0x1f1)]['buttonText']||'Selecione','footerText':_0x192fbf['menuMessage'][_0x2d1bd4(0x51a)],'sections':_0x1bbacd,'listType':0x2}};}else{if(_0x192fbf['menuMessage'][_0x2d1bd4(0x5ec)]===_0x2d1bd4(0x79a)){let _0x5b6882=_0x192fbf['menuMessage'][_0x2d1bd4(0x685)][_0x2d1bd4(0x618)](_0x5107ae=>!(_0x5107ae[_0x2d1bd4(0x600)]('[')&&_0x5107ae['endsWith'](']')))['map'](_0x26c19c=>_0x26c19c['split']('\x0a')[0x0]);_0x57009d={'poll':{'name':_0x192fbf[_0x2d1bd4(0x1f1)][_0x2d1bd4(0x4d2)],'selectableCount':_0x192fbf[_0x2d1bd4(0x1f1)][_0x2d1bd4(0x783)]||0x1,'values':_0x5b6882}};}}return await this['sendMessageWithTyping'](_0x192fbf[_0x2d1bd4(0x440)],_0x57009d,_0x192fbf?.[_0x2d1bd4(0x6fb)]);}[a0_0x4e6726(0x54f)](_0x744e6a){const _0xf8fe64=a0_0x4e6726;let _0x3d4a3a=[],_0x4ad232={'rows':[]};return _0x744e6a[_0xf8fe64(0x655)](_0x2f1a39=>{const _0x555f5a=_0xf8fe64;if(_0x2f1a39[_0x555f5a(0x600)]('[')&&_0x2f1a39[_0x555f5a(0x377)](']'))_0x4ad232['rows']['length']>0x0&&_0x3d4a3a[_0x555f5a(0x73c)](_0x4ad232),_0x4ad232={'title':_0x2f1a39[_0x555f5a(0x1e9)](0x1,-0x1),'rows':[]};else{let _0x395ecd=_0x2f1a39['split']('\x0a')['map'](_0x5f3018=>_0x5f3018[_0x555f5a(0x3e4)]()),_0xdf3e69=_0x395ecd[0x0],_0x4d0044=_0x395ecd[0x1]||null,_0x5d9174=_0x395ecd[0x2]||_0xdf3e69;_0x4ad232[_0x555f5a(0x394)][_0x555f5a(0x73c)]({'title':_0xdf3e69,'description':_0x4d0044,'rowId':_0x5d9174});}}),_0x4ad232['rows'][_0xf8fe64(0x728)]>0x0&&_0x3d4a3a[_0xf8fe64(0x73c)](_0x4ad232),_0x3d4a3a;}async['updateMessage'](_0x4d3f92,_0x5ed89a,_0x46db6a){const _0x58ce75=a0_0x4e6726;if(await this[_0x58ce75(0x598)](_0x4d3f92,!0x0)){let _0x538045={'where':{'_id':_0x4d3f92['id'],'owner':this[_0x58ce75(0x49e)]['wuid']}},_0x5ddd18={'status':[_0x46db6a[_0x58ce75(0x23b)]][0x0]};try{let _0x290304=await this['repository'][_0x58ce75(0x46a)][_0x58ce75(0x5f4)](_0x538045,_0x5ddd18);_0x290304&&q(this[_0x58ce75(0x4b3)],_0x58ce75(0x6ef),{'message':_0x290304});}catch{}}}['sectionsToString'](_0x38830b){const _0x290b40=a0_0x4e6726;let _0x13d779=[];return _0x38830b['forEach'](_0x5c1f06=>{const _0x4d4a94=a0_0x2c93;_0x5c1f06[_0x4d4a94(0x1fc)]&&_0x13d779['push']('['+_0x5c1f06[_0x4d4a94(0x1fc)]+']'),_0x5c1f06['rows'][_0x4d4a94(0x655)](_0x4f6f45=>{const _0x12d9f8=_0x4d4a94;let _0x4cc896=_0x4f6f45['title'];_0x4f6f45[_0x12d9f8(0x3a5)]&&(_0x4cc896+='\x0a'+_0x4f6f45[_0x12d9f8(0x3a5)]),_0x4cc896+='\x0a'+_0x4f6f45['rowId'],_0x13d779[_0x12d9f8(0x73c)](_0x4cc896);});}),_0x13d779[_0x290b40(0x6fa)]('|');}[a0_0x4e6726(0x2e5)](_0xfe714c){const _0x1d9a53=a0_0x4e6726;let _0xb58183=_0xfe714c[_0x1d9a53(0x1d9)](/\\n/g,'\x0a')[_0x1d9a53(0x619)]('\x0a')[_0x1d9a53(0x618)](_0x35821d=>_0x35821d[_0x1d9a53(0x351)](_0x1d9a53(0x399))||_0x35821d[_0x1d9a53(0x351)](_0x1d9a53(0x6e7))),_0xeacdc7='';return _0xb58183[_0x1d9a53(0x655)](_0x10067b=>{const _0x38f7eb=_0x1d9a53;let _0x151cc2=/TEL(?:.*):(.+)/,_0x4887c9=/EMAIL(?:.*):(.+)/,_0x253953=_0x10067b[_0x38f7eb(0x45e)](_0x151cc2),_0xb58e6e=_0x10067b[_0x38f7eb(0x45e)](_0x4887c9);if(_0x253953){let _0x52d699=_0x253953[0x1][_0x38f7eb(0x1d9)](/-| |\+|\(|\)/g,'')[_0x38f7eb(0x3e4)]();_0xeacdc7+=_0x38f7eb(0x6f5)+_0x52d699+'\x0a';}else{if(_0xb58e6e){let _0x1cf6c3=_0xb58e6e[0x1][_0x38f7eb(0x3e4)]();_0xeacdc7+=_0x38f7eb(0x70b)+_0x1cf6c3+'\x0a';}}}),_0xeacdc7['trim']();}async[a0_0x4e6726(0x1b7)](_0x4b8a38,_0x3c9ed3,_0x397b4d){const _0x5ed5e6=a0_0x4e6726;let _0x2fd8d8=_0x3c9ed3[_0x5ed5e6(0x737)]['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0xf629b3=_0x3c9ed3[_0x5ed5e6(0x737)][_0x5ed5e6(0x346)],_0x303fa5=_0x2fd8d8['endsWith'](_0x5ed5e6(0x519));if(!_0x4b8a38[_0x5ed5e6(0x5ed)])return;let _0x1e3fe2={'lastmsg':_0x3c9ed3[_0x5ed5e6(0x55c)]||Date[_0x5ed5e6(0x2dd)](),'unreadcount':_0xf629b3?0x0:0x1,..._0xf629b3||_0x303fa5?{}:{'name':_0x3c9ed3[_0x5ed5e6(0x407)]},..._0x303fa5?{'group':_0x303fa5}:{}},_0x35b75b=await this['repository'][_0x5ed5e6(0x2d6)][_0x5ed5e6(0x617)]({'where':{'_id':_0x2fd8d8,'owner':this['instance']['wuid']}},_0x1e3fe2,{'new':!0x0,'upsert':!0x0});if(!_0x303fa5&&(!_0x35b75b?.[_0x5ed5e6(0x5fd)]||!_0x35b75b[_0x5ed5e6(0x5fd)][_0x5ed5e6(0x460)])&&_0x3c9ed3[_0x5ed5e6(0x407)]&&!_0xf629b3&&await this[_0x5ed5e6(0x458)]['chat'][_0x5ed5e6(0x617)]({'where':{'_id':_0x2fd8d8,'owner':this['instance']['wuid']}},{'leadInfo.nome':_0x3c9ed3[_0x5ed5e6(0x407)]},{'new':!0x0,'upsert':!0x1}),_0x35b75b)q(this[_0x5ed5e6(0x4b3)],'chats',{'chat':_0x35b75b});else{this[_0x5ed5e6(0x223)][_0x5ed5e6(0x4be)](this[_0x5ed5e6(0x4b3)]+'\x20('+this[_0x5ed5e6(0x49e)][_0x5ed5e6(0x72c)]+_0x5ed5e6(0x2be));return;}if(!this['AutomateSystem']?.[_0x5ed5e6(0x71a)]['enabled'])return this[_0x5ed5e6(0x223)]['verbose'](this[_0x5ed5e6(0x4b3)]+'\x20('+this[_0x5ed5e6(0x49e)][_0x5ed5e6(0x72c)]+_0x5ed5e6(0x74a)),null;if(_0x35b75b[_0x5ed5e6(0x5fb)]['includes']('@g.us')&&this[_0x5ed5e6(0x560)]?.[_0x5ed5e6(0x71a)][_0x5ed5e6(0x779)]===!0x0)return this[_0x5ed5e6(0x223)][_0x5ed5e6(0x217)](this[_0x5ed5e6(0x4b3)]+'\x20('+this[_0x5ed5e6(0x49e)][_0x5ed5e6(0x72c)]+_0x5ed5e6(0x522)),null;if(_0x35b75b[_0x5ed5e6(0x5fd)]){if(_0x35b75b[_0x5ed5e6(0x5fd)]['desativadoFluxoAte']===0x0||_0x35b75b[_0x5ed5e6(0x5fd)]['atendimentoAberto'])return this[_0x5ed5e6(0x223)][_0x5ed5e6(0x217)](this['instanceName']+'\x20('+this[_0x5ed5e6(0x49e)][_0x5ed5e6(0x72c)]+_0x5ed5e6(0x1bb)+_0x2fd8d8+',\x20saindo.'),null;if(_0x35b75b['leadInfo'][_0x5ed5e6(0x397)]>Date['now']())return this[_0x5ed5e6(0x223)][_0x5ed5e6(0x217)](this[_0x5ed5e6(0x4b3)]+'\x20('+this[_0x5ed5e6(0x49e)][_0x5ed5e6(0x72c)]+_0x5ed5e6(0x587)+new Date(_0x35b75b[_0x5ed5e6(0x5fd)]['desativadoFluxoAte'])[_0x5ed5e6(0x242)]()+_0x5ed5e6(0x35c)),null;}this[_0x5ed5e6(0x223)][_0x5ed5e6(0x217)](this['instanceName']+'\x20('+this[_0x5ed5e6(0x49e)]['wuid']+_0x5ed5e6(0x24d)),this['StartBot'](_0x397b4d,_0x3c9ed3,this[_0x5ed5e6(0x49e)][_0x5ed5e6(0x72c)]);}async['upsertChats'](_0x2e3ecb,_0x102a7c){const _0x207ff1=a0_0x4e6726;if(_0x102a7c['ENABLED']){let _0x1e45f3=_0x2e3ecb[_0x207ff1(0x3cf)](async _0x8825cc=>{const _0x555e89=_0x207ff1;try{let _0x388371={'_id':_0x8825cc[_0x555e89(0x5fb)],'owner':_0x8825cc[_0x555e89(0x3b1)],'lastcache':0x0};if(_0x8825cc[_0x555e89(0x517)]!==null&&(_0x388371['group']=_0x8825cc['group']),_0x8825cc[_0x555e89(0x5a6)]!==null&&(_0x388371[_0x555e89(0x5a6)]=_0x8825cc[_0x555e89(0x5a6)]),_0x8825cc[_0x555e89(0x323)]!==null&&(_0x388371[_0x555e89(0x323)]=_0x8825cc['contactname']),_0x8825cc['imagechat']!==null&&(_0x388371[_0x555e89(0x284)]=_0x8825cc[_0x555e89(0x284)]),_0x8825cc[_0x555e89(0x284)]===null&&(_0x388371[_0x555e89(0x284)]=_0x555e89(0x226)),_0x8825cc['lastmsg']!==null&&(_0x388371[_0x555e89(0x527)]=_0x8825cc['lastmsg']),_0x8825cc[_0x555e89(0x630)]!==null&&(_0x388371[_0x555e89(0x630)]=_0x8825cc[_0x555e89(0x630)]),_0x8825cc[_0x555e89(0x3ab)]!==null&&(_0x388371[_0x555e89(0x3ab)]=_0x8825cc[_0x555e89(0x3ab)]),Object['keys'](_0x388371)[_0x555e89(0x728)]>0x0)return await this[_0x555e89(0x458)][_0x555e89(0x2d6)][_0x555e89(0x617)]({'where':{'_id':_0x8825cc[_0x555e89(0x5fb)],'owner':_0x8825cc[_0x555e89(0x3b1)]}},_0x388371);}catch(_0x52fbfd){return console[_0x555e89(0x4be)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x8825cc[_0x555e89(0x5fb)]+':',_0x52fbfd),null;}}),_0x2c7e8a=(await Promise['all'](_0x1e45f3))[_0x207ff1(0x618)](_0x1a4d2a=>_0x1a4d2a!==null)[_0x207ff1(0x728)];this[_0x207ff1(0x223)]['verbose'](this[_0x207ff1(0x4b3)]+'\x20('+this[_0x207ff1(0x49e)][_0x207ff1(0x72c)]+'):\x20'+_0x2c7e8a+_0x207ff1(0x31a)+this['instance'][_0x207ff1(0x72c)]+_0x207ff1(0x1c2));}}async[a0_0x4e6726(0x2de)](_0xe62088){const _0x4144d6=a0_0x4e6726;this[_0x4144d6(0x223)][_0x4144d6(0x217)](this[_0x4144d6(0x4b3)]+'\x20('+this[_0x4144d6(0x49e)][_0x4144d6(0x72c)]+_0x4144d6(0x738));let _0x5ddb17={'readMessages':[{'remoteJid':_0xe62088[_0x4144d6(0x683)][_0x4144d6(0x661)]['key'][_0x4144d6(0x719)],'fromMe':_0xe62088[_0x4144d6(0x683)][_0x4144d6(0x661)][_0x4144d6(0x737)]['fromMe'],'id':_0xe62088[_0x4144d6(0x683)]['lastReceivedMessage']['key']['id']}]};await this[_0x4144d6(0x70a)](_0x5ddb17);}async[a0_0x4e6726(0x48e)](_0x8c4e8b,_0x4c0978,_0x1dfab9){const _0x23dfde=a0_0x4e6726;try{let {key:_0xf53779,message_normalized:_0x1b48af}=_0x4c0978,_0x2dc749=_0x1b48af,_0x6dba0=_0x1b48af['text']||_0x1b48af[_0x23dfde(0x5c1)]||_0x1b48af[_0x23dfde(0x207)]||_0x1b48af[_0x23dfde(0x5a6)],_0x4f3bd2=_0xf53779['remoteJid'],_0xa0c846;if(_0x2dc749[_0x23dfde(0x737)]['fromMe']&&_0x6dba0['trim']()!==this[_0x23dfde(0x560)]?.[_0x23dfde(0x71a)][_0x23dfde(0x73f)]['trim']())return this['logger']['verbose'](this[_0x23dfde(0x4b3)]+'\x20('+this[_0x23dfde(0x49e)][_0x23dfde(0x72c)]+_0x23dfde(0x4b5)),null;if(_0x2dc749[_0x23dfde(0x737)][_0x23dfde(0x346)]&&_0x6dba0[_0x23dfde(0x3e4)]()===this[_0x23dfde(0x560)]?.[_0x23dfde(0x71a)][_0x23dfde(0x73f)][_0x23dfde(0x3e4)]()){this['logger'][_0x23dfde(0x217)](this[_0x23dfde(0x4b3)]+'\x20('+this[_0x23dfde(0x49e)]['wuid']+_0x23dfde(0x2bb));let _0x7771bd=await U[_0x23dfde(0x6b1)]({'owner':_0x1dfab9,'remoteJid':_0x4f3bd2,'status':_0x23dfde(0x5b4)});this['logger'][_0x23dfde(0x217)](this['instanceName']+'\x20('+this[_0x23dfde(0x49e)][_0x23dfde(0x72c)]+_0x23dfde(0x267)+_0x7771bd);let _0x5e61e8=Date[_0x23dfde(0x2dd)](),_0x2cf50a;return this[_0x23dfde(0x560)]?.[_0x23dfde(0x71a)]['stopMinutes']===0x0?_0x2cf50a={'stoppedUntil':_0x5e61e8+0x7591f6200}:_0x2cf50a={'stoppedUntil':_0x5e61e8+this[_0x23dfde(0x560)]?.[_0x23dfde(0x71a)]['stopMinutes']*0x3c*0x3e8},this[_0x23dfde(0x223)][_0x23dfde(0x217)](this[_0x23dfde(0x4b3)]+'\x20('+this['instance'][_0x23dfde(0x72c)]+_0x23dfde(0x23c)+_0x2cf50a),this[_0x23dfde(0x616)](_0xa0c846,_0x2cf50a[_0x23dfde(0x45f)]),null;}if(_0x6dba0&&_0x6dba0['startsWith'](this['AutomateSystem']?.[_0x23dfde(0x71a)][_0x23dfde(0x448)])&&_0x6dba0['length']>0x4){let _0x5099a5=await I[_0x23dfde(0x350)]({'owner':_0x1dfab9,'startCommandWord':_0x6dba0});if(this['logger'][_0x23dfde(0x217)](this[_0x23dfde(0x4b3)]+'\x20('+this[_0x23dfde(0x49e)][_0x23dfde(0x72c)]+_0x23dfde(0x4aa)),_0x5099a5)_0xa0c846=await this[_0x23dfde(0x673)](_0x5099a5,_0x2dc749[_0x23dfde(0x737)],_0x2dc749);else return this[_0x23dfde(0x223)][_0x23dfde(0x217)](this[_0x23dfde(0x4b3)]+'\x20('+this['instance'][_0x23dfde(0x72c)]+_0x23dfde(0x4fe)),null;}else _0xa0c846=await this[_0x23dfde(0x27e)](_0x1dfab9,_0x4f3bd2,_0x2dc749);if(_0xa0c846){this[_0x23dfde(0x223)][_0x23dfde(0x217)](this[_0x23dfde(0x4b3)]+'\x20('+this[_0x23dfde(0x49e)][_0x23dfde(0x72c)]+_0x23dfde(0x38d)),!_0xf53779[_0x23dfde(0x346)]&&_0xa0c846['readMessages']&&this[_0x23dfde(0x2de)](_0xa0c846);let _0x81dd13=await this[_0x23dfde(0x372)](_0xa0c846);_0x81dd13&&await this[_0x23dfde(0x437)](_0xa0c846,_0x81dd13);}}catch(_0x1fede9){this[_0x23dfde(0x223)][_0x23dfde(0x4be)](this[_0x23dfde(0x4b3)]+'\x20('+this[_0x23dfde(0x49e)][_0x23dfde(0x72c)]+_0x23dfde(0x23a)+(_0x1fede9 instanceof Error?_0x1fede9[_0x23dfde(0x46a)]:JSON['stringify'](_0x1fede9,null,0x2)));}}['flattenObject'](_0xf8f6f1,_0x560bd5='',_0x50b636={},_0x4c84d4=!0x0){const _0x3853ab=a0_0x4e6726;for(let _0x398460 in _0xf8f6f1){let _0x4a9106=_0x4c84d4?'_'+_0x398460:''+_0x560bd5+_0x398460;typeof _0xf8f6f1[_0x398460]==_0x3853ab(0x390)&&_0xf8f6f1[_0x398460]!==null?this[_0x3853ab(0x67d)](_0xf8f6f1[_0x398460],_0x4a9106+'.',_0x50b636,!0x1):_0x50b636[_0x4a9106]=String(_0xf8f6f1[_0x398460]);}return _0x50b636;}[a0_0x4e6726(0x59f)](_0x1da462){const _0x27209d=a0_0x4e6726;let _0x354d75={};for(let _0xeb6866 of _0x1da462)typeof _0xeb6866[_0x27209d(0x5a6)]==_0x27209d(0x362)&&typeof _0xeb6866[_0x27209d(0x666)]=='string'&&(_0x354d75[_0xeb6866[_0x27209d(0x5a6)]]=_0xeb6866[_0x27209d(0x666)]);return _0x354d75;}async['NextBlock'](_0x271ed9){const _0x2992e2=a0_0x4e6726;if(!this[_0x2992e2(0x560)]?.[_0x2992e2(0x71a)][_0x2992e2(0x428)]||_0x271ed9[_0x2992e2(0x23b)]!==_0x2992e2(0x5b4)&&_0x271ed9[_0x2992e2(0x679)]==='')return null;let _0x41cc1f=_0x271ed9['chatLog']['lastBlockId']||_0x2992e2(0x529);typeof _0x271ed9[_0x2992e2(0x683)][_0x2992e2(0x2e0)]>'u'&&(_0x271ed9[_0x2992e2(0x683)][_0x2992e2(0x2e0)]=!0x0);let _0x5be809=_0x271ed9[_0x2992e2(0x683)]['lastCondition'];this['logger'][_0x2992e2(0x217)](this[_0x2992e2(0x4b3)]+'\x20('+this[_0x2992e2(0x49e)][_0x2992e2(0x72c)]+_0x2992e2(0x208)+_0x41cc1f+',\x20lastCondition:\x20'+_0x5be809);let _0x282830=_0x41cc1f==='start'?_0x271ed9['blocks'][_0x2992e2(0x6b1)](_0x507336=>_0x507336['type']===_0x2992e2(0x529)):_0x271ed9[_0x2992e2(0x595)]['find'](_0x3a7eb7=>_0x3a7eb7[_0x2992e2(0x5fb)][_0x2992e2(0x594)]()===_0x41cc1f[_0x2992e2(0x594)]());if(!_0x282830)return this[_0x2992e2(0x223)][_0x2992e2(0x4be)](this[_0x2992e2(0x4b3)]+'\x20('+this[_0x2992e2(0x49e)][_0x2992e2(0x72c)]+_0x2992e2(0x597)+_0x41cc1f),null;let _0x5f1d5e={'_pushName':_0x271ed9[_0x2992e2(0x683)][_0x2992e2(0x661)][_0x2992e2(0x407)],..._0x271ed9['chatLog'][_0x2992e2(0x57f)]},_0x1e91fb=null;if(_0x271ed9['waitingMenu_id']){let _0x233fd6=_0x271ed9[_0x2992e2(0x683)][_0x2992e2(0x661)][_0x2992e2(0x207)],_0x5cc0c6=_0x271ed9[_0x2992e2(0x2ae)][_0x2992e2(0x6b1)](_0x1db08a=>_0x1db08a['option']===_0x233fd6);if(_0x5cc0c6){let _0x1a0af4=_0x5cc0c6['next_groupId'];if(_0x1e91fb=_0x271ed9[_0x2992e2(0x595)][_0x2992e2(0x6b1)](_0x1ee177=>_0x1ee177[_0x2992e2(0x38e)]===_0x1a0af4&&_0x1ee177['order']===0x1),_0x282830[_0x2992e2(0x6f7)][_0x2992e2(0x6ed)]){let _0x4655db={'id':_0x271ed9['waitingMenu_id'],'remoteJid':_0x271ed9[_0x2992e2(0x719)],'fromMe':!0x0};await this[_0x2992e2(0x778)](_0x4655db);}if(_0x282830[_0x2992e2(0x6f7)][_0x2992e2(0x6ed)]&&_0x282830[_0x2992e2(0x6f7)][_0x2992e2(0x39d)]&&_0x282830[_0x2992e2(0x6f7)][_0x2992e2(0x55d)]===_0x2992e2(0x79a)){let _0x1f0e16={'number':_0x271ed9[_0x2992e2(0x719)],'options':{'delay':0x0},'textMessage':{'text':_0x2992e2(0x757)+_0x271ed9[_0x2992e2(0x30f)]+_0x2992e2(0x608)+_0x233fd6}};await this[_0x2992e2(0x3d4)](_0x1f0e16);}_0x271ed9[_0x2992e2(0x23b)]=_0x2992e2(0x5b4),_0x271ed9[_0x2992e2(0x679)]='',_0x271ed9['waitingMenu_text']='',_0x271ed9[_0x2992e2(0x2ae)]=[];}else{this[_0x2992e2(0x223)][_0x2992e2(0x217)](this[_0x2992e2(0x4b3)]+'\x20('+this[_0x2992e2(0x49e)]['wuid']+_0x2992e2(0x5d9));let _0x17be58={'activatedCount':_0x271ed9[_0x2992e2(0x683)][_0x2992e2(0x687)]['filter'](_0x3133e5=>String(_0x3133e5[_0x2992e2(0x268)])===String(_0x41cc1f))[_0x2992e2(0x728)],'moreLogs':[_0x2992e2(0x5d2)]};if(_0x282830[_0x2992e2(0x6f7)][_0x2992e2(0x736)]){let _0x1428c9={'number':_0x271ed9['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x282830[_0x2992e2(0x6f7)][_0x2992e2(0x736)]}};await this['textMessage'](_0x1428c9);}if(_0x282830[_0x2992e2(0x273)]!==void 0x0&&_0x17be58[_0x2992e2(0x40d)]>=_0x282830['maxActives']){let _0x1a4adb=Date['now'](),_0x55b788=_0x282830[_0x2992e2(0x2e7)]??0xa;isNaN(_0x55b788)&&(_0x55b788=0xa);let _0x3be3fd=_0x1a4adb+_0x55b788*0x3c*0x3e8;_0x17be58['newStoppedUntil']=_0x3be3fd,_0x17be58[_0x2992e2(0x5d6)]['push']('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this['updateStopChat'](_0x271ed9,_0x3be3fd),_0x271ed9[_0x2992e2(0x679)]='',_0x271ed9[_0x2992e2(0x30f)]='',_0x271ed9[_0x2992e2(0x2ae)]=[];}return this[_0x2992e2(0x52b)](_0x271ed9,_0x282830,_0x17be58,!0x0),null;}}if(_0x5be809&&_0x282830[_0x2992e2(0x2da)]&&!_0x271ed9[_0x2992e2(0x679)]){let _0x41339d=_0x271ed9['blocks']['filter'](_0x1363f3=>_0x1363f3['groupId'][_0x2992e2(0x594)]()===_0x282830[_0x2992e2(0x2da)][_0x2992e2(0x594)]())[_0x2992e2(0x6ca)]((_0x5a43c0,_0x2d0c34)=>_0x5a43c0[_0x2992e2(0x6e0)]-_0x2d0c34[_0x2992e2(0x6e0)]);_0x41339d[_0x2992e2(0x728)]>0x0&&(_0x1e91fb=_0x41339d[0x0]);}if(!_0x1e91fb){let _0x1843af=_0x282830[_0x2992e2(0x38e)],_0x15b343=_0x271ed9[_0x2992e2(0x595)][_0x2992e2(0x618)](_0x5bf056=>_0x5bf056[_0x2992e2(0x38e)]===_0x1843af&&_0x5bf056[_0x2992e2(0x6e0)]>_0x282830[_0x2992e2(0x6e0)])[_0x2992e2(0x6ca)]((_0x2086bc,_0xde2560)=>_0x2086bc[_0x2992e2(0x6e0)]-_0xde2560[_0x2992e2(0x6e0)]);_0x15b343['length']>0x0&&(_0x1e91fb=_0x15b343[0x0]);}if(!_0x1e91fb)return _0x271ed9[_0x2992e2(0x23b)]=_0x2992e2(0x490),null;_0x271ed9[_0x2992e2(0x683)][_0x2992e2(0x57f)]=_0x5f1d5e;let _0xaa5b08=JSON[_0x2992e2(0x772)](JSON[_0x2992e2(0x286)](_0x1e91fb));return this[_0x2992e2(0x42a)](_0xaa5b08,_0x271ed9[_0x2992e2(0x683)][_0x2992e2(0x57f)]),_0x271ed9[_0x2992e2(0x683)]['lastBlockId']=_0xaa5b08['_id'],_0x271ed9[_0x2992e2(0x683)][_0x2992e2(0x2e0)]=!0x0,_0xaa5b08;}[a0_0x4e6726(0x214)](_0x55f86b,_0x333f35){const _0x47f1a0=a0_0x4e6726;return _0x55f86b[_0x47f1a0(0x1d9)](/\{\{([^}]+)\}\}/g,(_0x9c098f,_0x3ffb1e)=>_0x333f35[_0x3ffb1e]||'');}[a0_0x4e6726(0x42a)](_0x208ae4,_0x19e896){const _0x15110d=a0_0x4e6726;for(let _0x254329 in _0x208ae4)typeof _0x208ae4[_0x254329]==_0x15110d(0x362)?_0x208ae4[_0x254329]=this[_0x15110d(0x214)](_0x208ae4[_0x254329],_0x19e896):typeof _0x208ae4[_0x254329]==_0x15110d(0x390)&&this[_0x15110d(0x42a)](_0x208ae4[_0x254329],_0x19e896);}async[a0_0x4e6726(0x740)](_0x31bff0,_0x3a95a6){const _0x1af554=a0_0x4e6726;let _0x59bbe2=_0x3a95a6[_0x1af554(0x5fb)];if(_0x31bff0[_0x1af554(0x683)]&&_0x31bff0['chatLog']['blockLogs']){let _0xa30a49=_0x31bff0[_0x1af554(0x683)][_0x1af554(0x687)][_0x1af554(0x618)](_0x5788dd=>String(_0x5788dd['blockId'])===String(_0x59bbe2))[_0x1af554(0x342)]();if(_0xa30a49&&_0xa30a49['error']&&_0x3a95a6[_0x1af554(0x477)])return _0x31bff0[_0x1af554(0x23b)]='closed',await this[_0x1af554(0x4f1)](_0x31bff0),null;}if(_0x3a95a6[_0x1af554(0x5ec)]===_0x1af554(0x6f7)&&_0x3a95a6['uazapi']['command']==='sendPoll'&&_0x31bff0[_0x1af554(0x679)])return _0x31bff0[_0x1af554(0x683)][_0x1af554(0x40a)]=_0x59bbe2,await this[_0x1af554(0x4f1)](_0x31bff0),null;let _0x3150aa=await this[_0x1af554(0x372)](_0x31bff0);if(_0x31bff0[_0x1af554(0x683)]&&_0x31bff0[_0x1af554(0x683)][_0x1af554(0x687)]){let _0x1b9366=_0x31bff0[_0x1af554(0x683)][_0x1af554(0x687)][_0x1af554(0x618)](_0x4f7f09=>String(_0x4f7f09[_0x1af554(0x268)])===String(_0x59bbe2))[_0x1af554(0x728)];if(_0x3a95a6[_0x1af554(0x273)]!==void 0x0&&_0x1b9366>=_0x3a95a6[_0x1af554(0x273)]){let _0x21d12d=Date[_0x1af554(0x2dd)](),_0x5063bf=_0x3a95a6['stopMinutesMaxActives']??0xa;isNaN(_0x5063bf)&&(_0x5063bf=0xa);let _0xe6ca0b=_0x21d12d+_0x5063bf*0x3c*0x3e8,_0x3f1648={'newStoppedUntil':_0xe6ca0b};return this[_0x1af554(0x616)](_0x31bff0,_0xe6ca0b),this['updateConversation'](_0x31bff0,_0x3a95a6,_0x3f1648,!0x0),null;}}_0x3150aa&&_0x3150aa['type']!=='save'&&await this['processblock'](_0x31bff0,_0x3150aa),_0x3150aa||await this['saveConversationToDatabase'](_0x31bff0),_0x3150aa&&_0x3150aa[_0x1af554(0x5ec)]===_0x1af554(0x403)&&(_0x31bff0[_0x1af554(0x683)]['lastBlockId']=_0x59bbe2,await this['saveConversationToDatabase'](_0x31bff0));}async[a0_0x4e6726(0x437)](_0x57eef8,_0x48ca51){const _0x2d746a=a0_0x4e6726;try{let _0x2c2b0f=_0x48ca51[_0x2d746a(0x5ec)];this['logger'][_0x2d746a(0x217)](this[_0x2d746a(0x4b3)]+'\x20('+this[_0x2d746a(0x49e)][_0x2d746a(0x72c)]+_0x2d746a(0x40b)+_0x2c2b0f);let _0x13cb1f={'uazapi':()=>this[_0x2d746a(0x3ed)](_0x57eef8,_0x48ca51),'save':()=>this[_0x2d746a(0x2ce)](_0x57eef8,_0x48ca51),'stop':()=>this['stopConversation'](_0x57eef8,_0x48ca51),'condition':()=>this[_0x2d746a(0x60f)](_0x57eef8,_0x48ca51),'varedit':()=>this['processvaredits'](_0x57eef8,_0x48ca51),'apirequest':()=>this[_0x2d746a(0x32c)](_0x57eef8,_0x48ca51),'goToFlow':()=>this[_0x2d746a(0x1f0)](_0x57eef8,_0x48ca51)}[_0x2c2b0f];_0x13cb1f&&await _0x13cb1f();}catch(_0x1a8907){this[_0x2d746a(0x223)]['error'](this[_0x2d746a(0x4b3)]+'\x20('+this[_0x2d746a(0x49e)][_0x2d746a(0x72c)]+_0x2d746a(0x488)+(_0x1a8907 instanceof Error?_0x1a8907[_0x2d746a(0x46a)]:JSON[_0x2d746a(0x286)](_0x1a8907,null,0x2)));}}async[a0_0x4e6726(0x1f0)](_0x34c49b,_0x1eb3de){const _0x3b6761=a0_0x4e6726;if(this['logger'][_0x3b6761(0x217)](this[_0x3b6761(0x4b3)]+'\x20('+this[_0x3b6761(0x49e)][_0x3b6761(0x72c)]+_0x3b6761(0x4d0)),!_0x34c49b||!_0x1eb3de)return this[_0x3b6761(0x223)]['error'](this[_0x3b6761(0x4b3)]+'\x20('+this[_0x3b6761(0x49e)][_0x3b6761(0x72c)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this['updateConversation'](_0x34c49b,_0x1eb3de,{},!0x0,!0x0),console[_0x3b6761(0x262)](_0x3b6761(0x5cb)),console[_0x3b6761(0x262)](_0x1eb3de);let _0xad1eab=_0x1eb3de[_0x3b6761(0x3c0)];console['log']('flowname:\x20',_0xad1eab),_0x34c49b=await this[_0x3b6761(0x4a7)](_0xad1eab,_0x34c49b[_0x3b6761(0x719)],_0x34c49b[_0x3b6761(0x683)][_0x3b6761(0x57f)]),this[_0x3b6761(0x223)][_0x3b6761(0x217)](this['instanceName']+'\x20('+this[_0x3b6761(0x49e)][_0x3b6761(0x72c)]+_0x3b6761(0x1e0));let _0x28afbb=await this[_0x3b6761(0x372)](_0x34c49b);_0x28afbb&&await this[_0x3b6761(0x437)](_0x34c49b,_0x28afbb);}async['createConversationforgoToFlow'](_0x2d7e28,_0x2a870b,_0x1ac313){const _0xc617f8=a0_0x4e6726;this['logger'][_0xc617f8(0x217)](this[_0xc617f8(0x4b3)]+'\x20('+this[_0xc617f8(0x49e)][_0xc617f8(0x72c)]+_0xc617f8(0x229));try{if(_0x2d7e28=await I[_0xc617f8(0x350)]({'owner':this['instance'][_0xc617f8(0x72c)],'name':_0x2d7e28}),!_0x2d7e28)return this['logger'][_0xc617f8(0x4be)](this[_0xc617f8(0x4b3)]+'\x20('+this['instance'][_0xc617f8(0x72c)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x46a5e1=require('mongodb')[_0xc617f8(0x1f4)],_0x16d173=Date[_0xc617f8(0x2dd)](),_0x459505=_0xc617f8(0x529),_0x1e6f65={},_0x1e2650={},_0xddc858={..._0x2d7e28[_0xc617f8(0x6ff)],'chatLog':null},_0x473e27={'lastReceivedMessage':_0x1e6f65,'lastSendMessage':_0x1e2650,'lastBlockId':_0x459505,'lastCondition':!0x0,'realVariables':_0x1ac313};_0xddc858[_0xc617f8(0x683)]=_0x473e27,_0xddc858[_0xc617f8(0x683)][_0xc617f8(0x57f)]={..._0x1ac313},delete _0xddc858['_id'],_0xddc858[_0xc617f8(0x5fb)]=new _0x46a5e1(),_0xddc858[_0xc617f8(0x701)]=_0x16d173,_0xddc858[_0xc617f8(0x23b)]=_0xc617f8(0x5b4),_0xddc858['remoteJid']=_0x2a870b;let _0x5cad4e=await U[_0xc617f8(0x1ab)](_0xddc858);return this['logger'][_0xc617f8(0x217)](this[_0xc617f8(0x4b3)]+'\x20('+this[_0xc617f8(0x49e)]['wuid']+_0xc617f8(0x442)),_0x5cad4e?_0xddc858:null;}catch(_0x44bfcd){throw this[_0xc617f8(0x223)][_0xc617f8(0x4be)](this['instanceName']+'\x20('+this[_0xc617f8(0x49e)][_0xc617f8(0x72c)]+_0xc617f8(0x4cb)+(_0x44bfcd instanceof Error?_0x44bfcd[_0xc617f8(0x46a)]:JSON['stringify'](_0x44bfcd,null,0x2))),new g(_0x44bfcd['message']);}}async[a0_0x4e6726(0x32c)](_0x2b8ab7,_0x5438b5){const _0x2456ce=a0_0x4e6726;let _0x3e8c4a,_0x87144a;try{let _0x347a34=_0x5438b5['apirequest'];if(!_0x347a34||!_0x347a34[_0x2456ce(0x70d)]||!_0x347a34[_0x2456ce(0x3b0)])throw new Error(_0x2456ce(0x713));let _0x4f6a0c={'method':_0x347a34[_0x2456ce(0x3b0)],'url':_0x347a34[_0x2456ce(0x70d)],'headers':_0x347a34['header']||{},'data':_0x347a34['body']||{}};_0x3e8c4a=(await(0x0,ce[_0x2456ce(0x38c)])(_0x4f6a0c))['data'];let _0x5a2056=_0x2b8ab7[_0x2456ce(0x683)][_0x2456ce(0x57f)],_0x4baa09=this[_0x2456ce(0x67d)](_0x3e8c4a);return Object[_0x2456ce(0x3b2)](_0x5a2056,_0x4baa09),_0x2b8ab7[_0x2456ce(0x683)][_0x2456ce(0x57f)]=_0x5a2056,_0x87144a={'error':!0x1,'apiResponse':_0x3e8c4a},this[_0x2456ce(0x52b)](_0x2b8ab7,_0x5438b5,_0x87144a),_0x3e8c4a;}catch(_0x220303){console[_0x2456ce(0x4be)](_0x2456ce(0x2f6),_0x220303),_0x220303['response']&&(_0x3e8c4a=_0x220303[_0x2456ce(0x39f)][_0x2456ce(0x65a)]);let _0x1a90b0=_0x2b8ab7[_0x2456ce(0x683)]['realVariables'],_0x344d2e=this['flattenObject'](_0x3e8c4a);return Object[_0x2456ce(0x3b2)](_0x1a90b0,_0x344d2e),_0x2b8ab7['chatLog'][_0x2456ce(0x57f)]=_0x1a90b0,_0x87144a={'error':!0x0,'errorLog':_0x220303['toString'](),'apiResponse':_0x3e8c4a},this[_0x2456ce(0x52b)](_0x2b8ab7,_0x5438b5,_0x87144a),{'success':!0x1};}}['applyvaredit'](_0x4db454,_0x3c61f4){const _0x217e39=a0_0x4e6726;let _0x3b9f50=_0x163118=>{const _0x452c04=a0_0x2c93;let _0x5cf9ec=_0x163118[_0x452c04(0x1d9)](/[^0-9.,-]/g,'')[_0x452c04(0x1d9)](',','.'),_0x51f525=parseFloat(_0x5cf9ec);return isNaN(_0x51f525)?null:_0x51f525;},_0x10a407=_0x3c61f4[_0x217e39(0x50f)],_0x5e5655=_0x3c61f4[_0x217e39(0x654)];typeof _0x10a407=='string'&&(_0x10a407=this[_0x217e39(0x214)](_0x10a407,_0x4db454[_0x217e39(0x683)][_0x217e39(0x57f)])??''),typeof _0x5e5655==_0x217e39(0x362)&&(_0x5e5655=this[_0x217e39(0x214)](_0x5e5655,_0x4db454['chatLog'][_0x217e39(0x57f)])??'');let _0xb74860=null;if(!_0x3c61f4[_0x217e39(0x3aa)])return null;switch(this[_0x217e39(0x223)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x217e39(0x72c)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x10a407),this[_0x217e39(0x223)][_0x217e39(0x217)](this['instanceName']+'\x20('+this['instance'][_0x217e39(0x72c)]+_0x217e39(0x41c)+_0x5e5655),_0x3c61f4[_0x217e39(0x3aa)]){case'+':case'-':case'*':case'/':let _0x1d1e1f=_0x3b9f50(_0x10a407||'0'),_0x2173c9=_0x3b9f50(_0x5e5655||'0');if(_0x1d1e1f===null)return null;switch(_0x3c61f4[_0x217e39(0x3aa)]){case'+':_0xb74860=_0x1d1e1f+(_0x2173c9??0x0);break;case'-':_0xb74860=_0x1d1e1f-(_0x2173c9??0x0);break;case'*':_0xb74860=_0x1d1e1f*(_0x2173c9??0x1);break;case'/':_0x2173c9!==0x0&&(_0xb74860=_0x1d1e1f/(_0x2173c9??0x1));break;}break;case _0x217e39(0x1d5):case _0x217e39(0x3c1):let _0x326a07=_0x5e5655,_0x136778=_0x3c61f4[_0x217e39(0x37e)];if(typeof _0x136778==_0x217e39(0x362)&&(_0x136778=this[_0x217e39(0x214)](_0x136778,_0x4db454['chatLog'][_0x217e39(0x57f)])??''),_0x326a07&&_0x136778!==void 0x0){let _0x4385d1=_0x3c61f4['editOperator']==='findAndReplace'?new RegExp(_0x326a07[_0x217e39(0x1d9)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x326a07,'g');_0xb74860=_0x10a407['replace'](_0x4385d1,_0x136778);}else console[_0x217e39(0x43e)](_0x217e39(0x62f));break;case _0x217e39(0x2ef):_0xb74860=_0x5e5655;break;case _0x217e39(0x684):let _0x161f50=_0x10a407[_0x217e39(0x45e)](new RegExp(_0x5e5655||''));_0xb74860=_0x161f50?_0x161f50[0x0]:'';break;case _0x217e39(0x380):_0xb74860=_0x10a407[_0x217e39(0x1e9)](0x0,parseInt(_0x5e5655||'0'));break;case _0x217e39(0x5b6):let _0x1720ab=parseInt(_0x5e5655||'0');_0xb74860=_0x10a407['slice'](_0x10a407[_0x217e39(0x728)]-_0x1720ab);break;case _0x217e39(0x379):let _0xff1bc6=_0x3b9f50(_0x10a407),_0x24b2b2=parseInt(_0x5e5655||'0');_0x24b2b2=Math[_0x217e39(0x288)](_0x24b2b2),_0xff1bc6!==null?_0xb74860=_0xff1bc6['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x24b2b2,'maximumFractionDigits':_0x24b2b2}):(console[_0x217e39(0x43e)](_0x217e39(0x3bc)+_0x10a407),_0xb74860=null);break;case _0x217e39(0x26e):let _0x1f8921=_0x3b9f50(_0x10a407);_0x1f8921!==null?_0xb74860=_0x1f8921[_0x217e39(0x242)](_0x217e39(0x4ce),{'style':_0x217e39(0x1e2),'currency':_0x217e39(0x568)}):(console[_0x217e39(0x43e)](_0x217e39(0x577)+_0x10a407),_0xb74860=null);break;case _0x217e39(0x1ee):_0xb74860=_0x10a407[_0x217e39(0x639)]();break;case _0x217e39(0x6fd):_0xb74860=_0x10a407[_0x217e39(0x552)]();break;case _0x217e39(0x446):_0xb74860=_0x10a407[_0x217e39(0x619)]('\x20')[_0x217e39(0x3cf)](_0x57f08f=>_0x57f08f[_0x217e39(0x35b)](0x0)['toUpperCase']()+_0x57f08f[_0x217e39(0x1e9)](0x1)['toLowerCase']())[_0x217e39(0x6fa)]('\x20');break;case _0x217e39(0x6e8):_0xb74860=_0x10a407[_0x217e39(0x3e4)]();break;default:_0xb74860=_0x10a407;}return _0xb74860!==null?_0xb74860[_0x217e39(0x594)]():null;}async[a0_0x4e6726(0x3f8)](_0x437817,_0xc4dc69){const _0x21ba88=a0_0x4e6726;try{let _0x1020d2=_0x437817['varedits']?.[_0x21ba88(0x618)](_0x6cea9a=>_0x6cea9a['blockId']===_0xc4dc69[_0x21ba88(0x5fb)]?.[_0x21ba88(0x594)]())||[],_0x3cd760=_0xc4dc69[_0x21ba88(0x318)],_0x3fa476=null,_0x4a15a9=[],_0x291801=_0x437817['chatLog'][_0x21ba88(0x57f)][_0x3cd760];_0x4a15a9['push'](_0x21ba88(0x373)+_0x291801+'\x22');for(let _0x495848 of _0x1020d2){_0x495848['firstValue']=_0x291801,_0x3fa476=_0x495848['firstValue'];let _0x533b41;try{_0x533b41=this['applyvaredit'](_0x437817,_0x495848);}catch(_0x19a462){console[_0x21ba88(0x4be)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x19a462['message']);continue;}if(_0x533b41!==null){let _0x2e5337='Operador:\x20\x22'+_0x495848[_0x21ba88(0x3aa)]+'\x22',_0x4c79cf=[_0x21ba88(0x26e),_0x21ba88(0x1ee),_0x21ba88(0x6fd),_0x21ba88(0x446),_0x21ba88(0x6e8)];_0x495848[_0x21ba88(0x3aa)]===_0x21ba88(0x1d5)||_0x495848[_0x21ba88(0x3aa)]===_0x21ba88(0x3c1)?_0x2e5337+=_0x21ba88(0x6c4)+_0x495848[_0x21ba88(0x654)]+_0x21ba88(0x4f9)+_0x495848['replaceValue']+'\x22':!_0x4c79cf[_0x21ba88(0x351)](_0x495848[_0x21ba88(0x3aa)])&&_0x495848[_0x21ba88(0x654)]!==null&&_0x495848[_0x21ba88(0x654)]!==void 0x0&&(_0x2e5337+=',\x20valor\x20passado:\x20\x22'+_0x495848[_0x21ba88(0x654)]+'\x22'),_0x2e5337+=_0x21ba88(0x548)+_0x533b41+'.',_0x4a15a9['push'](_0x2e5337);}_0x533b41!==null&&(_0x291801=_0x533b41);}if(_0x437817['chatLog']['realVariables']&&_0xc4dc69[_0x21ba88(0x318)]){_0x437817['chatLog']['realVariables'][_0xc4dc69[_0x21ba88(0x318)]]=_0x291801;let _0x46982f={'variable':_0xc4dc69['saveVariable'],'oldValue':_0x3fa476,'newValue':_0x291801,'moreLogs':_0x4a15a9};try{this[_0x21ba88(0x52b)](_0x437817,_0xc4dc69,_0x46982f);}catch(_0x205737){console[_0x21ba88(0x4be)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x205737[_0x21ba88(0x46a)]);}}return _0x3cd760;}catch(_0x447c3f){return console['error'](_0x21ba88(0x38f)+_0x447c3f[_0x21ba88(0x46a)]),null;}}async['processConditions'](_0x28caf5,_0x550829){const _0x5ad8a3=a0_0x4e6726;try{let _0x56c2f1=[],_0x15135b=_0x28caf5[_0x5ad8a3(0x263)]['filter'](_0x52bf82=>_0x52bf82[_0x5ad8a3(0x268)]===_0x550829['_id'][_0x5ad8a3(0x594)]()),_0xb7db9f=null,_0x41f950=!0x1;for(let _0x3efc30 of _0x15135b){let _0x260f14=this[_0x5ad8a3(0x44a)](_0x28caf5,_0x3efc30);_0x56c2f1[_0x5ad8a3(0x73c)]('Primeiro\x20Valor:\x20'+_0x3efc30[_0x5ad8a3(0x50f)]+_0x5ad8a3(0x4c8)+_0x3efc30[_0x5ad8a3(0x6a0)]+',\x20Segundo\x20Valor:\x20'+_0x3efc30['secondValue']+_0x5ad8a3(0x426)+_0x260f14),_0xb7db9f===null?_0xb7db9f=_0x260f14:_0x3efc30[_0x5ad8a3(0x751)]===_0x5ad8a3(0x1c3)?(_0xb7db9f=_0xb7db9f&&_0x260f14,_0x260f14||(_0x41f950=!0x0)):_0x3efc30[_0x5ad8a3(0x751)]==='or'&&(_0x41f950||(_0xb7db9f=_0xb7db9f||_0x260f14));}_0xb7db9f===null&&(_0xb7db9f=!0x0);let _0x34e4a4={'moreLogs':_0x56c2f1};_0x28caf5[_0x5ad8a3(0x683)][_0x5ad8a3(0x2e0)]=_0xb7db9f,await this[_0x5ad8a3(0x52b)](_0x28caf5,_0x550829,_0x34e4a4);}catch(_0xce2183){this[_0x5ad8a3(0x223)]['error'](this['instanceName']+'\x20('+this[_0x5ad8a3(0x49e)][_0x5ad8a3(0x72c)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0xce2183 instanceof Error?_0xce2183[_0x5ad8a3(0x46a)]:JSON[_0x5ad8a3(0x286)](_0xce2183,null,0x2)));}}['evaluateCondition'](_0xd431c3,_0x512338){const _0x1b8b7=a0_0x4e6726;let _0x190a58=_0x512338[_0x1b8b7(0x50f)],_0x2a0270=_0x512338[_0x1b8b7(0x654)];typeof _0x190a58==_0x1b8b7(0x362)&&(_0x190a58=this[_0x1b8b7(0x214)](_0x190a58,_0xd431c3[_0x1b8b7(0x683)]['realVariables'])??''),typeof _0x2a0270=='string'&&(_0x2a0270=this['replaceVariables'](_0x2a0270,_0xd431c3[_0x1b8b7(0x683)][_0x1b8b7(0x57f)])??'');try{switch(_0x512338[_0x1b8b7(0x6a0)]){case _0x1b8b7(0x3c7):return _0x190a58===_0x2a0270;case _0x1b8b7(0x4dd):return _0x190a58!==_0x2a0270;case _0x1b8b7(0x32b):return _0x190a58['includes'](_0x2a0270);case _0x1b8b7(0x1ba):return!_0x190a58[_0x1b8b7(0x351)](_0x2a0270);case _0x1b8b7(0x3f6):return parseFloat(_0x190a58)>parseFloat(_0x2a0270);case _0x1b8b7(0x1da):return parseFloat(_0x190a58)<parseFloat(_0x2a0270);case'notEmpty':return _0x190a58!=='';case _0x1b8b7(0x6b4):return _0x190a58==='';case _0x1b8b7(0x786):return new RegExp(_0x2a0270)[_0x1b8b7(0x42c)](_0x190a58);case _0x1b8b7(0x767):return!new RegExp(_0x2a0270)['test'](_0x190a58);default:return!0x1;}}catch(_0x4bc7fa){return console['error'](_0x1b8b7(0x5c6)+_0x4bc7fa),!0x1;}}[a0_0x4e6726(0x62d)](_0xa15c34){const _0x5cd147=a0_0x4e6726;let _0x3bdf60=!0x0,_0x135c73=null;for(let _0x5a25f8 of _0xa15c34){let _0x37d310=this[_0x5cd147(0x68c)](_0x5a25f8);if(_0x135c73==='or'&&_0x37d310){_0x3bdf60=!0x0;break;}if(_0x135c73===_0x5cd147(0x1c3)&&!_0x37d310){_0x3bdf60=!0x1;break;}_0x135c73=_0x5a25f8[_0x5cd147(0x751)];}return _0x3bdf60;}['evaluateConditionTest'](_0x55ac2b){const _0x532598=a0_0x4e6726;let _0x1942e7=_0x55ac2b[_0x532598(0x50f)],_0x2b432b=_0x55ac2b[_0x532598(0x654)];try{switch(_0x55ac2b['expression']){case'equal':return String(_0x1942e7)===String(_0x2b432b);case _0x532598(0x4dd):return String(_0x1942e7)!==String(_0x2b432b);case'contains':return String(_0x1942e7)[_0x532598(0x351)](String(_0x2b432b));case _0x532598(0x1ba):return!String(_0x1942e7)['includes'](String(_0x2b432b));case _0x532598(0x3f6):return parseFloat(String(_0x1942e7))>parseFloat(String(_0x2b432b));case _0x532598(0x1da):return parseFloat(String(_0x1942e7))<parseFloat(String(_0x2b432b));case _0x532598(0x686):return String(_0x1942e7)!=='';case _0x532598(0x6b4):return String(_0x1942e7)==='';case _0x532598(0x786):return new RegExp(String(_0x2b432b))['test'](String(_0x1942e7));case'notMatchRegex':return!new RegExp(String(_0x2b432b))[_0x532598(0x42c)](String(_0x1942e7));default:return!0x1;}}catch(_0x16c275){return console[_0x532598(0x4be)](_0x532598(0x5c6)+_0x16c275),!0x1;}}async['saveTextReply'](_0xace6c,_0x2ad98f){const _0x333866=a0_0x4e6726;if(this['logger'][_0x333866(0x217)](this[_0x333866(0x4b3)]+'\x20('+this['instance']['wuid']+_0x333866(0x411)),!_0xace6c||!_0x2ad98f)return this[_0x333866(0x223)][_0x333866(0x4be)](this[_0x333866(0x4b3)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x153bf3=_0x2ad98f[_0x333866(0x318)],_0xe09783=_0xace6c[_0x333866(0x683)][_0x333866(0x661)][_0x333866(0x4d2)]||_0xace6c[_0x333866(0x683)]['lastReceivedMessage'][_0x333866(0x5c1)]||_0xace6c[_0x333866(0x683)][_0x333866(0x661)][_0x333866(0x207)];try{_0xace6c[_0x333866(0x683)]['realVariables']||(_0xace6c[_0x333866(0x683)][_0x333866(0x57f)]={});let _0x2c1075=_0xace6c['chatLog'][_0x333866(0x57f)][_0x153bf3];_0xace6c[_0x333866(0x683)][_0x333866(0x57f)][_0x153bf3]=_0xe09783;let _0x496369={'variable':_0x153bf3,'oldValue':_0x2c1075,'newValue':_0xe09783};this['updateConversation'](_0xace6c,_0x2ad98f,_0x496369),this[_0x333866(0x223)][_0x333866(0x217)](this['instanceName']+'\x20('+this[_0x333866(0x49e)][_0x333866(0x72c)]+_0x333866(0x5ae));}catch(_0xe7c436){let _0x1c993e={'error':!0x0,'errorLog':_0xe7c436[_0x333866(0x594)]()};return this[_0x333866(0x52b)](_0xace6c,_0x2ad98f,_0x1c993e),this[_0x333866(0x223)]['error'](this[_0x333866(0x4b3)]+'\x20('+this[_0x333866(0x49e)][_0x333866(0x72c)]+_0x333866(0x290)+(_0xe7c436 instanceof Error?_0xe7c436['message']:JSON[_0x333866(0x286)](_0xe7c436,null,0x2))),null;}}async[a0_0x4e6726(0x73f)](_0x431741,_0x13d388){const _0x58586e=a0_0x4e6726;if(this['logger'][_0x58586e(0x217)](this[_0x58586e(0x4b3)]+'\x20('+this['instance'][_0x58586e(0x72c)]+_0x58586e(0x731)),!_0x431741||!_0x13d388)return this[_0x58586e(0x223)]['error'](this[_0x58586e(0x4b3)]+'\x20('+this[_0x58586e(0x49e)][_0x58586e(0x72c)]+_0x58586e(0x4a6)),null;let _0x12bc62=Date['now'](),_0x54e0e3=parseInt(_0x13d388[_0x58586e(0x44c)],0xa);if(isNaN(_0x54e0e3))return this[_0x58586e(0x223)]['error'](this[_0x58586e(0x4b3)]+'\x20('+this[_0x58586e(0x49e)]['wuid']+_0x58586e(0x2f5)),null;let _0x493054={'newStoppedUntil':_0x12bc62+_0x54e0e3*0x3c*0x3e8};return await this[_0x58586e(0x52b)](_0x431741,_0x13d388,_0x493054,!0x0),null;}async['processUazapi'](_0x3d24ec,_0x34cc7e){const _0x45200d=a0_0x4e6726;try{switch(_0x34cc7e[_0x45200d(0x6f7)][_0x45200d(0x68f)]){case _0x45200d(0x24a):await this[_0x45200d(0x784)](_0x3d24ec,_0x34cc7e);break;case'sendMedia':await this['uazapiSendMedia'](_0x3d24ec,_0x34cc7e);break;case _0x45200d(0x781):await this[_0x45200d(0x4c0)](_0x3d24ec,_0x34cc7e);break;case _0x45200d(0x66c):await this[_0x45200d(0x5d4)](_0x3d24ec,_0x34cc7e);break;case _0x45200d(0x605):await this[_0x45200d(0x359)](_0x3d24ec,_0x34cc7e);break;case _0x45200d(0x2fa):await this['uazapiSendMenu'](_0x3d24ec,_0x34cc7e);break;case _0x45200d(0x4d8):await this[_0x45200d(0x35d)](_0x3d24ec,_0x34cc7e);break;case'deleteMessage':await this[_0x45200d(0x459)](_0x3d24ec,_0x34cc7e);break;default:this[_0x45200d(0x223)][_0x45200d(0x4be)](this[_0x45200d(0x4b3)]+'\x20('+this[_0x45200d(0x49e)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x34cc7e[_0x45200d(0x6f7)][_0x45200d(0x68f)]);}}catch(_0x8aea0e){this[_0x45200d(0x223)]['error'](this[_0x45200d(0x4b3)]+'\x20('+this[_0x45200d(0x49e)][_0x45200d(0x72c)]+_0x45200d(0x6cb)+(_0x8aea0e instanceof Error?_0x8aea0e[_0x45200d(0x46a)]:JSON['stringify'](_0x8aea0e,null,0x2)));}}async['updateConversation'](_0x3ec9f1,_0x5aef98,_0x101a44,_0x217259=!0x1,_0x5eeac0=!0x1){const _0x19022a=a0_0x4e6726;_0x3ec9f1[_0x19022a(0x683)][_0x19022a(0x687)]||(_0x3ec9f1[_0x19022a(0x683)][_0x19022a(0x687)]=[]);let _0x15047e=(_0x3ec9f1[_0x19022a(0x683)][_0x19022a(0x687)]?.[_0x19022a(0x728)]??0x0)+0x1,_0x659b5c=_0x3ec9f1['chatLog'][_0x19022a(0x687)][_0x19022a(0x618)](_0x1215eb=>String(_0x1215eb[_0x19022a(0x268)])===String(_0x5aef98[_0x19022a(0x5fb)]))[_0x19022a(0x728)]+0x1,_0x452a4a=_0x101a44?.[_0x19022a(0x717)]??Date['now'](),_0x6b781c=_0x101a44?.['error']?_0x101a44[_0x19022a(0x1d4)]??_0x101a44[_0x19022a(0x4be)][_0x19022a(0x594)]():void 0x0,_0x5dda76={'onTime':_0x452a4a,'blockId':_0x5aef98[_0x19022a(0x5fb)],'order':_0x15047e,'activatedCount':_0x659b5c,'error':_0x101a44?.[_0x19022a(0x4be)]??!0x1,'messageId':_0x101a44?.[_0x19022a(0x557)],'apiResponse':_0x101a44?.[_0x19022a(0x31b)],'apiResponseString':_0x101a44?.[_0x19022a(0x31b)]?JSON[_0x19022a(0x286)](_0x101a44?.[_0x19022a(0x31b)]):void 0x0,'variable':_0x101a44?.[_0x19022a(0x22c)],'oldValue':_0x101a44?.[_0x19022a(0x776)],'newValue':_0x101a44?.[_0x19022a(0x309)],'newStoppedUntil':_0x101a44?.[_0x19022a(0x6b3)],'moreLogs':_0x101a44?.[_0x19022a(0x5d6)],'errorLog':_0x6b781c};if(_0x101a44[_0x19022a(0x5d6)]&&_0x101a44[_0x19022a(0x5d6)][_0x19022a(0x728)]>0x0){let _0x33dd3d=_0x101a44[_0x19022a(0x5d6)][_0x19022a(0x3cf)](_0x3695cf=>this[_0x19022a(0x22e)](_0x3695cf,_0x3ec9f1['chatLog'][_0x19022a(0x57f)]));_0x5dda76[_0x19022a(0x5d6)]=_0x33dd3d;}_0x3ec9f1[_0x19022a(0x683)][_0x19022a(0x57f)]||(_0x3ec9f1[_0x19022a(0x683)][_0x19022a(0x57f)]={}),_0x3ec9f1[_0x19022a(0x683)]['realVariables']['_activatedCount']=String(_0x659b5c),_0x3ec9f1[_0x19022a(0x683)][_0x19022a(0x57f)][_0x19022a(0x63e)]=String(_0x101a44['error']??!0x1),_0x3ec9f1['chatLog'][_0x19022a(0x687)][_0x19022a(0x73c)](_0x5dda76),_0x3ec9f1[_0x19022a(0x683)][_0x19022a(0x40a)]=_0x5aef98[_0x19022a(0x5fb)]['toString'](),_0x3ec9f1[_0x19022a(0x683)]['lastSendMessage']&&(_0x3ec9f1[_0x19022a(0x683)][_0x19022a(0x333)]=_0x3ec9f1[_0x19022a(0x683)][_0x19022a(0x333)]),_0x3ec9f1[_0x19022a(0x683)][_0x19022a(0x661)]&&(_0x3ec9f1[_0x19022a(0x683)][_0x19022a(0x661)]=_0x3ec9f1[_0x19022a(0x683)][_0x19022a(0x661)]),_0x3ec9f1['chatLog'][_0x19022a(0x2e0)]&&(_0x3ec9f1[_0x19022a(0x683)][_0x19022a(0x2e0)]=_0x3ec9f1[_0x19022a(0x683)]['lastCondition']),_0x5eeac0&&(_0x3ec9f1[_0x19022a(0x23b)]=_0x19022a(0x490)),_0x217259?this[_0x19022a(0x4f1)](_0x3ec9f1):this['goNextblock'](_0x3ec9f1,_0x5aef98);}['replaceVariablesLogs'](_0x20855c,_0xcec0b5){const _0x1d8809=a0_0x4e6726;return _0x20855c[_0x1d8809(0x1d9)](/\{\{([^}]+)\}\}/g,(_0x162fab,_0x2358d2)=>_0xcec0b5[_0x2358d2]?'{{'+_0x2358d2+'}}\x20->\x20\x22'+_0xcec0b5[_0x2358d2]+'\x22':'{{'+_0x2358d2+_0x1d8809(0x581));}async['saveConversationToDatabase'](_0x2f4b26){const _0x18dbdb=a0_0x4e6726;try{let _0x20f22f=Object[_0x18dbdb(0x561)](_0x2f4b26[_0x18dbdb(0x683)][_0x18dbdb(0x57f)])[_0x18dbdb(0x3cf)](([_0x278800,_0x4a7b9b])=>({'name':_0x278800,'value':_0x4a7b9b})),_0x54618d=await U[_0x18dbdb(0x421)]({'_id':_0x2f4b26['_id']},{'$set':{'chatLog.lastBlockId':_0x2f4b26[_0x18dbdb(0x683)]['lastBlockId'],'blocks':_0x2f4b26[_0x18dbdb(0x595)],'chatLog.lastSendMessage':_0x2f4b26[_0x18dbdb(0x683)][_0x18dbdb(0x333)],'chatLog.lastReceivedMessage':_0x2f4b26['chatLog']['lastReceivedMessage'],'chatLog.lastCondition':_0x2f4b26['chatLog'][_0x18dbdb(0x2e0)],'chatLog.chatVariables':_0x20f22f,'chatLog.realVariables':_0x2f4b26['chatLog'][_0x18dbdb(0x57f)],'status':_0x2f4b26[_0x18dbdb(0x23b)],'chatLog.blockLogs':_0x2f4b26[_0x18dbdb(0x683)][_0x18dbdb(0x687)],'waitingMenu_id':_0x2f4b26[_0x18dbdb(0x679)],'waitingMenu_text':_0x2f4b26['waitingMenu_text'],'waitingMenu_replyOptions':_0x2f4b26[_0x18dbdb(0x2ae)]}},{'new':!0x0});if(_0x54618d){this['logger'][_0x18dbdb(0x217)](this[_0x18dbdb(0x4b3)]+'\x20('+this[_0x18dbdb(0x49e)][_0x18dbdb(0x72c)]+_0x18dbdb(0x5a3)+_0x54618d[_0x18dbdb(0x5fb)]);try{let _0x29eaf6=[_0x18dbdb(0x460),_0x18dbdb(0x248),_0x18dbdb(0x315),_0x18dbdb(0x25d),_0x18dbdb(0x23b),_0x18dbdb(0x295),'responsavelid','tags'];if(!this[_0x18dbdb(0x560)]&&(await this[_0x18dbdb(0x606)](),!this[_0x18dbdb(0x560)]))throw new Error(_0x18dbdb(0x50e));let _0x428334=this[_0x18dbdb(0x560)]?.[_0x18dbdb(0x795)][_0x18dbdb(0x3cf)](_0x157c5e=>_0x157c5e['name']),_0x8c6344={};Object[_0x18dbdb(0x561)](_0x2f4b26[_0x18dbdb(0x683)][_0x18dbdb(0x57f)])['forEach'](([_0x49c156,_0x569623])=>{const _0x4fa603=_0x18dbdb;_0x29eaf6[_0x4fa603(0x351)](_0x49c156)&&(_0x49c156===_0x4fa603(0x336)&&typeof _0x569623==_0x4fa603(0x362)?_0x8c6344[_0x49c156]=_0x569623[_0x4fa603(0x619)](',')[_0x4fa603(0x3cf)](_0x11927c=>_0x11927c[_0x4fa603(0x3e4)]())[_0x4fa603(0x618)](_0x61a93=>_0x61a93!==''):_0x8c6344[_0x49c156]=_0x569623);});let _0x192c1e=_0x2f4b26[_0x18dbdb(0x683)][_0x18dbdb(0x687)][_0x2f4b26['chatLog'][_0x18dbdb(0x687)][_0x18dbdb(0x728)]-0x1];if(_0x192c1e){let _0x3a340c=_0x192c1e[_0x18dbdb(0x6b3)];_0x3a340c!==void 0x0&&(_0x8c6344['desativadoFluxoAte']=_0x3a340c['toString']());}let _0x57472f=_0x20f22f[_0x18dbdb(0x618)](_0x20c990=>_0x428334[_0x18dbdb(0x351)](_0x20c990['name']));this[_0x18dbdb(0x223)][_0x18dbdb(0x217)](this[_0x18dbdb(0x4b3)]+'\x20('+this[_0x18dbdb(0x49e)]['wuid']+'):\x20leadInfoVariables'),this[_0x18dbdb(0x223)][_0x18dbdb(0x217)](_0x8c6344),this[_0x18dbdb(0x223)]['verbose'](this[_0x18dbdb(0x4b3)]+'\x20('+this[_0x18dbdb(0x49e)][_0x18dbdb(0x72c)]+_0x18dbdb(0x381)),this[_0x18dbdb(0x223)][_0x18dbdb(0x217)](_0x57472f);let _0x17ba56=_0x57472f[_0x18dbdb(0x3cf)](_0x113394=>{const _0x162b3e=_0x18dbdb;let _0x53f27f=this[_0x162b3e(0x560)]?.[_0x162b3e(0x795)][_0x162b3e(0x6b1)](_0x20262b=>_0x20262b[_0x162b3e(0x5a6)]===_0x113394[_0x162b3e(0x5a6)]);if(!_0x53f27f)throw new Error(_0x162b3e(0x45b)+_0x113394['name']);return{'_id':_0x53f27f[_0x162b3e(0x5fb)],'value':_0x113394[_0x162b3e(0x666)]};});this['logger'][_0x18dbdb(0x217)](this['instanceName']+'\x20('+this[_0x18dbdb(0x49e)][_0x18dbdb(0x72c)]+_0x18dbdb(0x47f)),this[_0x18dbdb(0x223)][_0x18dbdb(0x217)](_0x17ba56),await this[_0x18dbdb(0x2f9)](_0x2f4b26['remoteJid'],_0x8c6344,_0x17ba56);}catch(_0x4abd9d){this[_0x18dbdb(0x223)]['error'](this[_0x18dbdb(0x4b3)]+'\x20('+this[_0x18dbdb(0x49e)][_0x18dbdb(0x72c)]+_0x18dbdb(0x646)+JSON[_0x18dbdb(0x286)](_0x4abd9d));}}else this['logger']['error'](this[_0x18dbdb(0x4b3)]+'\x20('+this['instance'][_0x18dbdb(0x72c)]+_0x18dbdb(0x299));}catch(_0x339d6b){this[_0x18dbdb(0x223)]['error'](this['instanceName']+'\x20('+this['instance'][_0x18dbdb(0x72c)]+_0x18dbdb(0x78a)+JSON[_0x18dbdb(0x286)](_0x339d6b));}}async[a0_0x4e6726(0x2f9)](_0x10f3d9,_0x565958,_0x3feba8){const _0x203cae=a0_0x4e6726;try{let _0x1cd054={'leadInfo.leadnome':_0x565958[_0x203cae(0x460)],'leadInfo.nomecompleto':_0x565958[_0x203cae(0x248)],'leadInfo.email':_0x565958[_0x203cae(0x315)],'leadInfo.cpf':_0x565958[_0x203cae(0x25d)],'leadInfo.status':_0x565958[_0x203cae(0x23b)],'leadInfo.notas':_0x565958[_0x203cae(0x295)],'leadInfo.responsavelid':_0x565958[_0x203cae(0x468)],'leadInfo.tags':_0x565958[_0x203cae(0x336)],'leadInfo.customFields':_0x3feba8};if(_0x203cae(0x397)in _0x565958){let _0x467e57=_0x565958[_0x203cae(0x397)];_0x1cd054[_0x203cae(0x545)]=_0x467e57?Number(_0x467e57):null;}let _0x23e883=await this[_0x203cae(0x458)]['chat'][_0x203cae(0x617)]({'where':{'_id':_0x10f3d9,'owner':this['instance'][_0x203cae(0x72c)]}},_0x1cd054);_0x23e883?(this['logger'][_0x203cae(0x217)](this[_0x203cae(0x4b3)]+'\x20('+this[_0x203cae(0x49e)][_0x203cae(0x72c)]+_0x203cae(0x61b)+_0x23e883[_0x203cae(0x5fb)]),q(this['instanceName'],_0x203cae(0x227),{'chat':_0x23e883})):this['logger'][_0x203cae(0x4be)](this[_0x203cae(0x4b3)]+'\x20('+this['instance'][_0x203cae(0x72c)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x3f5fac){this[_0x203cae(0x223)][_0x203cae(0x4be)](this['instanceName']+'\x20('+this[_0x203cae(0x49e)][_0x203cae(0x72c)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x3f5fac instanceof Error?_0x3f5fac[_0x203cae(0x46a)]:JSON[_0x203cae(0x286)](_0x3f5fac,null,0x2)));}}async[a0_0x4e6726(0x616)](_0x4a1788,_0xdb809f){const _0x4c9fed=a0_0x4e6726;this[_0x4c9fed(0x223)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20atualização\x20chat:\x20'+_0xdb809f);try{let _0x25e479=await this[_0x4c9fed(0x458)][_0x4c9fed(0x2d6)][_0x4c9fed(0x617)]({'where':{'_id':_0x4a1788['remoteJid'],'owner':_0x4a1788[_0x4c9fed(0x3b1)]}},{'leadInfo.desativadoFluxoAte':_0xdb809f});this['logger'][_0x4c9fed(0x217)](this[_0x4c9fed(0x4b3)]+'\x20('+this[_0x4c9fed(0x49e)][_0x4c9fed(0x72c)]+_0x4c9fed(0x2c2)+_0x4a1788['_id']),this['logger'][_0x4c9fed(0x217)](this[_0x4c9fed(0x4b3)]+'\x20('+this['instance'][_0x4c9fed(0x72c)]+_0x4c9fed(0x678)+JSON['stringify'](_0x25e479,null,0x2)),_0x25e479&&q(this[_0x4c9fed(0x4b3)],_0x4c9fed(0x227),{'chat':_0x25e479});}catch(_0x1ca7cb){this[_0x4c9fed(0x223)]['error'](this[_0x4c9fed(0x4b3)]+'\x20('+this['instance']['wuid']+_0x4c9fed(0x43a)+JSON[_0x4c9fed(0x286)](_0x1ca7cb));}}async['findFlow'](_0xb9b145,_0x3f437f){const _0x5cc333=a0_0x4e6726;try{this[_0x5cc333(0x223)][_0x5cc333(0x217)](this['instanceName']+'\x20('+this[_0x5cc333(0x49e)][_0x5cc333(0x72c)]+_0x5cc333(0x603));let _0x4c74c1=_0x3f437f[_0x5cc333(0x1d9)](/\D/g,''),_0x5db673=await I[_0x5cc333(0x350)]({'owner':_0xb9b145,'testingWith':_0x4c74c1});return _0x5db673||(this[_0x5cc333(0x223)][_0x5cc333(0x217)](this[_0x5cc333(0x4b3)]+'\x20('+this[_0x5cc333(0x49e)][_0x5cc333(0x72c)]+_0x5cc333(0x2b8)),_0x5db673=await I[_0x5cc333(0x350)]({'owner':_0xb9b145,'default':!0x0})),_0x5db673||(this[_0x5cc333(0x223)][_0x5cc333(0x217)](this[_0x5cc333(0x4b3)]+'\x20('+this[_0x5cc333(0x49e)][_0x5cc333(0x72c)]+_0x5cc333(0x4fa)),null);}catch(_0x5a00f9){return this['logger'][_0x5cc333(0x4be)](this['instanceName']+'\x20('+this[_0x5cc333(0x49e)][_0x5cc333(0x72c)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+JSON[_0x5cc333(0x286)](_0x5a00f9,null,0x2)),null;}}async[a0_0x4e6726(0x27e)](_0x4b677f,_0x2e292c,_0x5533c1){const _0x5032cb=a0_0x4e6726;try{let _0x5eca46=!!_0x5533c1[_0x5032cb(0x207)],_0xa3ec62=_0x5533c1[_0x5032cb(0x3b7)],_0x5d984a=null;if(this[_0x5032cb(0x223)][_0x5032cb(0x217)](this[_0x5032cb(0x4b3)]+'\x20('+this['instance'][_0x5032cb(0x72c)]+_0x5032cb(0x206)+_0x5eca46+_0x5032cb(0x34b)+_0xa3ec62),_0x5eca46){if(this[_0x5032cb(0x223)][_0x5032cb(0x217)](this['instanceName']+'\x20('+this[_0x5032cb(0x49e)][_0x5032cb(0x72c)]+_0x5032cb(0x29d)),_0x5d984a=await U[_0x5032cb(0x350)]({'owner':_0x4b677f,'remoteJid':_0x2e292c,'waitingMenu_id':_0xa3ec62}),!_0x5d984a)return this[_0x5032cb(0x223)][_0x5032cb(0x217)](this[_0x5032cb(0x4b3)]+'\x20('+this[_0x5032cb(0x49e)][_0x5032cb(0x72c)]+_0x5032cb(0x4c1)),null;let _0x43ee7b=Date[_0x5032cb(0x2dd)](),_0x54f243=_0x5d984a?.[_0x5032cb(0x264)]||0x0,_0x5c2de4=_0x43ee7b-_0x54f243*0x3c*0x3e8;if(_0x5d984a[_0x5032cb(0x701)]<_0x5c2de4){this[_0x5032cb(0x223)][_0x5032cb(0x217)](this[_0x5032cb(0x4b3)]+'\x20('+this[_0x5032cb(0x49e)][_0x5032cb(0x72c)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x380ea0={'number':_0x5d984a[_0x5032cb(0x719)],'options':{'delay':0x0},'textMessage':{'text':_0x5d984a[_0x5032cb(0x433)]}};return await this[_0x5032cb(0x3d4)](_0x380ea0),await U[_0x5032cb(0x617)]({'_id':_0x5d984a[_0x5032cb(0x5fb)]},{'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]}),null;}return _0x5d984a[_0x5032cb(0x701)]=Date[_0x5032cb(0x2dd)](),_0x5d984a[_0x5032cb(0x683)][_0x5032cb(0x661)]=_0x5533c1,_0x5d984a;}else{if(this['logger'][_0x5032cb(0x217)](this['instanceName']+'\x20('+this[_0x5032cb(0x49e)][_0x5032cb(0x72c)]+_0x5032cb(0x2ad)+this[_0x5032cb(0x49e)][_0x5032cb(0x72c)]+_0x5032cb(0x569)),this[_0x5032cb(0x223)]['verbose'](this[_0x5032cb(0x4b3)]+'\x20('+this[_0x5032cb(0x49e)][_0x5032cb(0x72c)]+_0x5032cb(0x2ee)),_0x5d984a=await U[_0x5032cb(0x350)]({'owner':_0x4b677f,'remoteJid':_0x2e292c,'status':'open'}),!_0x5d984a){let _0x54fa41=await this[_0x5032cb(0x659)](_0x4b677f,_0x2e292c);if(_0x54fa41&&(_0x5d984a=await this[_0x5032cb(0x673)](_0x54fa41,_0x5533c1['key'],_0x5533c1)),!_0x5d984a)return null;}let _0x2d6677=Date[_0x5032cb(0x2dd)](),_0x2e1efa=_0x5d984a?.[_0x5032cb(0x264)]||0x0,_0x49d2c9=_0x2d6677-_0x2e1efa*0x3c*0x3e8;if(this['logger']['verbose'](this[_0x5032cb(0x4b3)]+'\x20('+this[_0x5032cb(0x49e)][_0x5032cb(0x72c)]+'):\x20Current\x20Time:\x20'+_0x2d6677+_0x5032cb(0x2a6)+_0x2e1efa+_0x5032cb(0x330)+_0x49d2c9),this['logger'][_0x5032cb(0x217)](this[_0x5032cb(0x4b3)]+'\x20('+this[_0x5032cb(0x49e)][_0x5032cb(0x72c)]+_0x5032cb(0x1d1)),this['logger'][_0x5032cb(0x217)](this[_0x5032cb(0x4b3)]+'\x20('+this[_0x5032cb(0x49e)][_0x5032cb(0x72c)]+'):\x20conversation.lastInteraction:\x20'+_0x5d984a[_0x5032cb(0x701)]),this[_0x5032cb(0x223)]['verbose'](this[_0x5032cb(0x4b3)]+'\x20('+this[_0x5032cb(0x49e)][_0x5032cb(0x72c)]+_0x5032cb(0x38a)+_0x49d2c9),_0x5d984a[_0x5032cb(0x701)]<_0x49d2c9){this['logger'][_0x5032cb(0x217)](this['instanceName']+'\x20('+this['instance'][_0x5032cb(0x72c)]+'):\x20Conversa\x20está\x20expirada');let _0x1ddb27=await this['findFlow'](_0x4b677f,_0x2e292c);if(_0x1ddb27===null)return null;_0x5d984a&&await U[_0x5032cb(0x617)]({'_id':_0x5d984a[_0x5032cb(0x5fb)]},{'status':_0x5032cb(0x490)}),_0x5d984a=await this[_0x5032cb(0x673)](_0x1ddb27,_0x5533c1[_0x5032cb(0x737)],_0x5533c1);}return _0x5d984a[_0x5032cb(0x701)]=_0x2d6677,_0x5d984a[_0x5032cb(0x683)][_0x5032cb(0x661)]=_0x5533c1,_0x5d984a;}}catch(_0x3a3d55){return this[_0x5032cb(0x223)][_0x5032cb(0x4be)](this['instanceName']+'\x20('+this[_0x5032cb(0x49e)][_0x5032cb(0x72c)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x3a3d55 instanceof Error?_0x3a3d55[_0x5032cb(0x46a)]:JSON[_0x5032cb(0x286)](_0x3a3d55,null,0x2))),null;}}async[a0_0x4e6726(0x673)](_0x362cc9,_0x51118a,_0x4837da){const _0x45873e=a0_0x4e6726;this[_0x45873e(0x223)][_0x45873e(0x217)](this[_0x45873e(0x4b3)]+'\x20('+this[_0x45873e(0x49e)]['wuid']+'):\x20Criando\x20nova\x20conversa');try{let _0x436ded=require(_0x45873e(0x511))[_0x45873e(0x1f4)],_0x4d6c6f=Date[_0x45873e(0x2dd)](),_0x588479='start',_0x5ce8ac=_0x51118a[_0x45873e(0x346)]?null:_0x4837da,_0x2bd17b=_0x51118a[_0x45873e(0x346)]?_0x4837da:null,_0x41fe9b=_0x51118a[_0x45873e(0x719)];await this[_0x45873e(0x47e)](_0x41fe9b);let _0x47d472={..._0x362cc9[_0x45873e(0x6ff)],'chatLog':null},_0x52a5e8=await this[_0x45873e(0x59f)](_0x47d472[_0x45873e(0x74c)]),_0x21bb5f=await this['getVariablesChat'](_0x41fe9b),_0x5cd27d={..._0x52a5e8,..._0x21bb5f,'_remoteJid':_0x41fe9b},_0x35c74c={'lastReceivedMessage':_0x5ce8ac,'lastSendMessage':_0x2bd17b,'lastBlockId':_0x588479,'lastCondition':!0x0,'realVariables':_0x5cd27d};_0x47d472[_0x45873e(0x683)]=_0x35c74c,delete _0x47d472['_id'],_0x47d472[_0x45873e(0x5fb)]=new _0x436ded(),_0x47d472[_0x45873e(0x701)]=_0x4d6c6f,_0x47d472[_0x45873e(0x23b)]=_0x45873e(0x5b4),_0x47d472[_0x45873e(0x719)]=_0x41fe9b;let _0x3931b4=await U['create'](_0x47d472);return this[_0x45873e(0x223)][_0x45873e(0x217)](this[_0x45873e(0x4b3)]+'\x20('+this['instance'][_0x45873e(0x72c)]+_0x45873e(0x442)),_0x3931b4?_0x47d472:null;}catch(_0x4fa537){return this[_0x45873e(0x223)][_0x45873e(0x4be)](this[_0x45873e(0x4b3)]+'\x20('+this[_0x45873e(0x49e)][_0x45873e(0x72c)]+_0x45873e(0x4cb)+(_0x4fa537 instanceof Error?_0x4fa537['message']:JSON[_0x45873e(0x286)](_0x4fa537,null,0x2))),_0x4fa537;}}async[a0_0x4e6726(0x784)](_0x5dbc3a,_0x49dd73){const _0x3125e7=a0_0x4e6726;let _0xcb412b=_0x5dbc3a['remoteJid'];_0x49dd73['uazapi'][_0x3125e7(0x719)]&&_0x49dd73[_0x3125e7(0x6f7)][_0x3125e7(0x719)][_0x3125e7(0x3e4)]()!==''&&(_0xcb412b=_0x49dd73[_0x3125e7(0x6f7)]['remoteJid']['trim']()),this[_0x3125e7(0x223)]['verbose'](this[_0x3125e7(0x4b3)]+'\x20('+this['instance']['wuid']+_0x3125e7(0x65e));let _0x1fd7a8={'number':_0xcb412b,'options':{'delay':_0x49dd73[_0x3125e7(0x6f7)]['delay']},'textMessage':{'text':_0x49dd73['uazapi'][_0x3125e7(0x4d2)]}};try{let _0x42c869=await this[_0x3125e7(0x3d4)](_0x1fd7a8);if(_0x42c869){let _0x27e0a8={'_id':_0x42c869['key']['id'],'_fromMe':_0x42c869[_0x3125e7(0x737)][_0x3125e7(0x346)],'_remoteJid':_0x42c869['key'][_0x3125e7(0x719)]};_0x5dbc3a['chatLog'][_0x3125e7(0x40a)]=_0x49dd73[_0x3125e7(0x5fb)][_0x3125e7(0x594)]();let {message_normalized:_0x1bb79d}=this[_0x3125e7(0x558)](_0x42c869[_0x3125e7(0x46a)],_(_0x42c869[_0x3125e7(0x46a)]),null);_0x5dbc3a[_0x3125e7(0x683)][_0x3125e7(0x333)]=await _0x1bb79d;let _0xc42be9={'messageId':_0x42c869[_0x3125e7(0x737)]['id']},_0x5f563a=_0x5dbc3a['chatLog']['realVariables'];Object[_0x3125e7(0x3b2)](_0x5f563a,_0x27e0a8),_0x5dbc3a[_0x3125e7(0x683)]['realVariables']=_0x5f563a,this['updateConversation'](_0x5dbc3a,_0x49dd73,_0xc42be9);}else{let _0x2eaf4e={'error':!0x0};this[_0x3125e7(0x52b)](_0x5dbc3a,_0x49dd73,_0x2eaf4e),this[_0x3125e7(0x223)][_0x3125e7(0x4be)](this[_0x3125e7(0x4b3)]+'\x20('+this[_0x3125e7(0x49e)]['wuid']+_0x3125e7(0x58d));}}catch(_0x3c23a1){let _0xc08b39={'error':!0x0,'errorLog':_0x3c23a1['toString']()};this[_0x3125e7(0x52b)](_0x5dbc3a,_0x49dd73,_0xc08b39),this[_0x3125e7(0x223)][_0x3125e7(0x4be)](this[_0x3125e7(0x4b3)]+'\x20('+this['instance'][_0x3125e7(0x72c)]+_0x3125e7(0x726)+(_0x3c23a1 instanceof Error?_0x3c23a1[_0x3125e7(0x46a)]:JSON['stringify'](_0x3c23a1,null,0x2)));}}async[a0_0x4e6726(0x58a)](_0x270b78,_0x4c3bc7){const _0x62124d=a0_0x4e6726;let _0x4744e7=_0x270b78[_0x62124d(0x719)];_0x4c3bc7[_0x62124d(0x6f7)][_0x62124d(0x719)]&&_0x4c3bc7[_0x62124d(0x6f7)][_0x62124d(0x719)][_0x62124d(0x3e4)]()!==''&&(_0x4744e7=_0x4c3bc7['uazapi']['remoteJid'][_0x62124d(0x3e4)]()),this['logger'][_0x62124d(0x217)](this[_0x62124d(0x4b3)]+'\x20('+this[_0x62124d(0x49e)][_0x62124d(0x72c)]+_0x62124d(0x6a1));let _0x5846bb={'number':_0x4744e7,'options':{'delay':_0x4c3bc7[_0x62124d(0x6f7)][_0x62124d(0x320)]},'mediaMessage':{'mediatype':_0x4c3bc7[_0x62124d(0x6f7)][_0x62124d(0x6ad)],'caption':_0x4c3bc7[_0x62124d(0x6f7)][_0x62124d(0x5c1)],'media':_0x4c3bc7[_0x62124d(0x6f7)][_0x62124d(0x2e2)],'fileName':_0x4c3bc7[_0x62124d(0x6f7)][_0x62124d(0x30d)]}};try{let _0x4658a0=await this[_0x62124d(0x65c)](_0x5846bb);if(_0x4658a0){let _0x37c3ef={'_id':_0x4658a0[_0x62124d(0x737)]['id'],'_fromMe':_0x4658a0[_0x62124d(0x737)][_0x62124d(0x346)],'_remoteJid':_0x4658a0[_0x62124d(0x737)]['remoteJid']};_0x270b78[_0x62124d(0x683)][_0x62124d(0x40a)]=_0x4c3bc7['_id'][_0x62124d(0x594)]();let {message_normalized:_0x4e253f}=this['normalizeMessage'](_0x4658a0[_0x62124d(0x46a)],_(_0x4658a0['message']),null);_0x270b78[_0x62124d(0x683)]['lastSendMessage']=await _0x4e253f;let _0x5d8f73={'messageId':_0x4658a0[_0x62124d(0x737)]['id']},_0x551018=_0x270b78['chatLog'][_0x62124d(0x57f)];Object[_0x62124d(0x3b2)](_0x551018,_0x37c3ef),_0x270b78[_0x62124d(0x683)][_0x62124d(0x57f)]=_0x551018,this[_0x62124d(0x52b)](_0x270b78,_0x4c3bc7,_0x5d8f73);}else{let _0x2ddfad={'error':!0x0};this['updateConversation'](_0x270b78,_0x4c3bc7,_0x2ddfad),this[_0x62124d(0x223)]['error'](this['instanceName']+'\x20('+this[_0x62124d(0x49e)][_0x62124d(0x72c)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x3c6c75){let _0x4405d5={'error':!0x0,'errorLog':_0x3c6c75[_0x62124d(0x594)]()};this[_0x62124d(0x52b)](_0x270b78,_0x4c3bc7,_0x4405d5),this[_0x62124d(0x223)][_0x62124d(0x4be)](this[_0x62124d(0x4b3)]+'\x20('+this[_0x62124d(0x49e)][_0x62124d(0x72c)]+_0x62124d(0x423)+(_0x3c6c75 instanceof Error?_0x3c6c75['message']:JSON[_0x62124d(0x286)](_0x3c6c75,null,0x2)));}}async[a0_0x4e6726(0x4c0)](_0x50b6d1,_0x4d203c){const _0x3d2fcc=a0_0x4e6726;let _0x51012f=_0x50b6d1[_0x3d2fcc(0x719)];_0x4d203c['uazapi'][_0x3d2fcc(0x719)]&&_0x4d203c['uazapi'][_0x3d2fcc(0x719)][_0x3d2fcc(0x3e4)]()!==''&&(_0x51012f=_0x4d203c[_0x3d2fcc(0x6f7)]['remoteJid']['trim']()),this[_0x3d2fcc(0x223)][_0x3d2fcc(0x217)](this['instanceName']+'\x20('+this[_0x3d2fcc(0x49e)][_0x3d2fcc(0x72c)]+_0x3d2fcc(0x72b));let _0x2bba02={'number':_0x51012f,'options':{'delay':_0x4d203c['uazapi'][_0x3d2fcc(0x320)]},'locationMessage':{'name':_0x4d203c[_0x3d2fcc(0x6f7)]['name'],'address':_0x4d203c[_0x3d2fcc(0x6f7)][_0x3d2fcc(0x54c)],'latitude':_0x4d203c[_0x3d2fcc(0x6f7)][_0x3d2fcc(0x58e)],'longitude':_0x4d203c[_0x3d2fcc(0x6f7)][_0x3d2fcc(0x3fe)]}};try{let _0x43a091=await this[_0x3d2fcc(0x651)](_0x2bba02);if(_0x43a091){let _0x2a34bf={'_id':_0x43a091[_0x3d2fcc(0x737)]['id'],'_fromMe':_0x43a091['key']['fromMe'],'_remoteJid':_0x43a091[_0x3d2fcc(0x737)]['remoteJid']};_0x50b6d1[_0x3d2fcc(0x683)][_0x3d2fcc(0x40a)]=_0x4d203c[_0x3d2fcc(0x5fb)][_0x3d2fcc(0x594)]();let {message_normalized:_0x1137e2}=this[_0x3d2fcc(0x558)](_0x43a091[_0x3d2fcc(0x46a)],_(_0x43a091[_0x3d2fcc(0x46a)]),null);_0x50b6d1[_0x3d2fcc(0x683)]['lastSendMessage']=await _0x1137e2;let _0x553437={'messageId':_0x43a091[_0x3d2fcc(0x737)]['id']},_0x2db3c3=_0x50b6d1[_0x3d2fcc(0x683)]['realVariables'];Object[_0x3d2fcc(0x3b2)](_0x2db3c3,_0x2a34bf),_0x50b6d1[_0x3d2fcc(0x683)][_0x3d2fcc(0x57f)]=_0x2db3c3,this[_0x3d2fcc(0x52b)](_0x50b6d1,_0x4d203c,_0x553437);}else{let _0x5183d7={'error':!0x0};this[_0x3d2fcc(0x52b)](_0x50b6d1,_0x4d203c,_0x5183d7),this[_0x3d2fcc(0x223)][_0x3d2fcc(0x4be)](this[_0x3d2fcc(0x4b3)]+'\x20('+this[_0x3d2fcc(0x49e)][_0x3d2fcc(0x72c)]+_0x3d2fcc(0x462));}}catch(_0x174378){let _0x476e68={'error':!0x0,'errorLog':_0x174378[_0x3d2fcc(0x594)]()};this[_0x3d2fcc(0x52b)](_0x50b6d1,_0x4d203c,_0x476e68),this[_0x3d2fcc(0x223)][_0x3d2fcc(0x4be)](this[_0x3d2fcc(0x4b3)]+'\x20('+this[_0x3d2fcc(0x49e)][_0x3d2fcc(0x72c)]+_0x3d2fcc(0x3f5)+(_0x174378 instanceof Error?_0x174378[_0x3d2fcc(0x46a)]:JSON[_0x3d2fcc(0x286)](_0x174378,null,0x2)));}}async[a0_0x4e6726(0x5d4)](_0x324b05,_0x361280){const _0x1b0882=a0_0x4e6726;let _0x2d69a2=_0x324b05[_0x1b0882(0x719)];_0x361280[_0x1b0882(0x6f7)][_0x1b0882(0x719)]&&_0x361280[_0x1b0882(0x6f7)]['remoteJid'][_0x1b0882(0x3e4)]()!==''&&(_0x2d69a2=_0x361280[_0x1b0882(0x6f7)][_0x1b0882(0x719)]['trim']()),this[_0x1b0882(0x223)][_0x1b0882(0x217)](this[_0x1b0882(0x4b3)]+'\x20('+this[_0x1b0882(0x49e)][_0x1b0882(0x72c)]+'):\x20Enviando\x20áudio');let _0x564fc2={'number':_0x2d69a2,'options':{'delay':_0x361280[_0x1b0882(0x6f7)][_0x1b0882(0x320)]},'audioMessage':{'audio':_0x361280['uazapi'][_0x1b0882(0x528)]}};try{let _0xf65d0f=await this[_0x1b0882(0x65b)](_0x564fc2);if(_0xf65d0f){let _0x3cee1f={'_id':_0xf65d0f[_0x1b0882(0x737)]['id'],'_fromMe':_0xf65d0f['key'][_0x1b0882(0x346)],'_remoteJid':_0xf65d0f[_0x1b0882(0x737)][_0x1b0882(0x719)]};_0x324b05[_0x1b0882(0x683)][_0x1b0882(0x40a)]=_0x361280['_id'][_0x1b0882(0x594)]();let {message_normalized:_0xb7b804}=this['normalizeMessage'](_0xf65d0f[_0x1b0882(0x46a)],_(_0xf65d0f[_0x1b0882(0x46a)]),null);_0x324b05[_0x1b0882(0x683)][_0x1b0882(0x333)]=await _0xb7b804;let _0x465174={'messageId':_0xf65d0f[_0x1b0882(0x737)]['id']},_0x1dae9b=_0x324b05[_0x1b0882(0x683)][_0x1b0882(0x57f)];Object[_0x1b0882(0x3b2)](_0x1dae9b,_0x3cee1f),_0x324b05[_0x1b0882(0x683)][_0x1b0882(0x57f)]=_0x1dae9b,this[_0x1b0882(0x52b)](_0x324b05,_0x361280,_0x465174);}else{let _0xeb7aa5={'error':!0x0};this[_0x1b0882(0x52b)](_0x324b05,_0x361280,_0xeb7aa5),this[_0x1b0882(0x223)][_0x1b0882(0x4be)](this[_0x1b0882(0x4b3)]+'\x20('+this[_0x1b0882(0x49e)][_0x1b0882(0x72c)]+_0x1b0882(0x3a0));}}catch(_0x12dbbe){let _0x182ae8={'error':!0x0,'errorLog':_0x12dbbe[_0x1b0882(0x594)]()};this[_0x1b0882(0x52b)](_0x324b05,_0x361280,_0x182ae8),this[_0x1b0882(0x223)][_0x1b0882(0x4be)](this[_0x1b0882(0x4b3)]+'\x20('+this[_0x1b0882(0x49e)][_0x1b0882(0x72c)]+_0x1b0882(0x395)+(_0x12dbbe instanceof Error?_0x12dbbe[_0x1b0882(0x46a)]:JSON[_0x1b0882(0x286)](_0x12dbbe,null,0x2)));}}async[a0_0x4e6726(0x359)](_0x1ed91c,_0x1c802a){const _0x1564c8=a0_0x4e6726;let _0x593aba=_0x1ed91c[_0x1564c8(0x719)];_0x1c802a[_0x1564c8(0x6f7)][_0x1564c8(0x719)]&&_0x1c802a[_0x1564c8(0x6f7)][_0x1564c8(0x719)][_0x1564c8(0x3e4)]()!==''&&(_0x593aba=_0x1c802a[_0x1564c8(0x6f7)]['remoteJid'][_0x1564c8(0x3e4)]()),this[_0x1564c8(0x223)]['verbose'](this[_0x1564c8(0x4b3)]+'\x20('+this['instance'][_0x1564c8(0x72c)]+_0x1564c8(0x239));let _0x60aee2={'number':_0x593aba,'options':{'delay':_0x1c802a[_0x1564c8(0x6f7)]['delay']},'contactMessage':[{'fullName':_0x1c802a[_0x1564c8(0x6f7)][_0x1564c8(0x5ad)],'phoneNumber':_0x1c802a['uazapi'][_0x1564c8(0x22f)]}]};try{let _0x5ad8e3=await this[_0x1564c8(0x61f)](_0x60aee2);if(_0x5ad8e3){let _0x134320={'_id':_0x5ad8e3[_0x1564c8(0x737)]['id'],'_fromMe':_0x5ad8e3[_0x1564c8(0x737)]['fromMe'],'_remoteJid':_0x5ad8e3[_0x1564c8(0x737)][_0x1564c8(0x719)]};_0x1ed91c[_0x1564c8(0x683)]['lastBlockId']=_0x1c802a[_0x1564c8(0x5fb)]['toString']();let {message_normalized:_0x350c7a}=this[_0x1564c8(0x558)](_0x5ad8e3[_0x1564c8(0x46a)],_(_0x5ad8e3[_0x1564c8(0x46a)]),null);_0x1ed91c['chatLog'][_0x1564c8(0x333)]=await _0x350c7a;let _0x4a3cf8={'messageId':_0x5ad8e3[_0x1564c8(0x737)]['id']},_0x3d3ca3=_0x1ed91c[_0x1564c8(0x683)][_0x1564c8(0x57f)];Object[_0x1564c8(0x3b2)](_0x3d3ca3,_0x134320),_0x1ed91c[_0x1564c8(0x683)]['realVariables']=_0x3d3ca3,this['updateConversation'](_0x1ed91c,_0x1c802a,_0x4a3cf8);}else{let _0x44608d={'error':!0x0};this[_0x1564c8(0x52b)](_0x1ed91c,_0x1c802a,_0x44608d),this[_0x1564c8(0x223)][_0x1564c8(0x4be)](this[_0x1564c8(0x4b3)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0xc68840){let _0x4d3cd0={'error':!0x0,'errorLog':_0xc68840[_0x1564c8(0x594)]()};this[_0x1564c8(0x52b)](_0x1ed91c,_0x1c802a,_0x4d3cd0),this[_0x1564c8(0x223)]['error'](this[_0x1564c8(0x4b3)]+'\x20('+this[_0x1564c8(0x49e)][_0x1564c8(0x72c)]+_0x1564c8(0x531)+(_0xc68840 instanceof Error?_0xc68840['message']:JSON[_0x1564c8(0x286)](_0xc68840,null,0x2)));}}[a0_0x4e6726(0x456)](_0x46df71,_0x577822){const _0x6d4c5=a0_0x4e6726;for(let _0x46e42b of _0x46df71)_0x46e42b['option']&&(_0x46e42b[_0x6d4c5(0x328)]=this[_0x6d4c5(0x214)](_0x46e42b[_0x6d4c5(0x328)],_0x577822)),_0x46e42b[_0x6d4c5(0x2a8)]&&(_0x46e42b[_0x6d4c5(0x2a8)]=this[_0x6d4c5(0x214)](_0x46e42b[_0x6d4c5(0x2a8)],_0x577822));}async['uazapiSendMenu'](_0x20f9a7,_0xa3a0d2){const _0x26337a=a0_0x4e6726;let _0x38218f=_0x20f9a7[_0x26337a(0x719)];_0xa3a0d2['uazapi'][_0x26337a(0x719)]&&_0xa3a0d2[_0x26337a(0x6f7)][_0x26337a(0x719)]['trim']()!==''&&(_0x38218f=_0xa3a0d2[_0x26337a(0x6f7)][_0x26337a(0x719)][_0x26337a(0x3e4)]()),this['logger']['verbose'](this[_0x26337a(0x4b3)]+'\x20('+this[_0x26337a(0x49e)][_0x26337a(0x72c)]+'):\x20Enviando\x20enquete');let _0x79be56=_0x20f9a7['replyOptions'][_0x26337a(0x618)](_0x4ec1eb=>_0x4ec1eb[_0x26337a(0x268)]===_0xa3a0d2[_0x26337a(0x5fb)])[_0x26337a(0x6ca)]((_0x4be457,_0x34b1fd)=>_0x4be457['order']-_0x34b1fd['order']);this[_0x26337a(0x456)](_0x79be56,_0x20f9a7[_0x26337a(0x683)][_0x26337a(0x57f)]);let _0x39909e=_0x79be56['map'](_0x58b859=>_0x58b859[_0x26337a(0x328)]),_0x4cc91d={'number':_0x38218f,'menuMessage':{'type':_0xa3a0d2[_0x26337a(0x6f7)]['menuType']||_0x26337a(0x79a),'text':_0xa3a0d2[_0x26337a(0x6f7)][_0x26337a(0x4d2)]||_0xa3a0d2['uazapi'][_0x26337a(0x5a6)],'footerText':_0xa3a0d2['uazapi'][_0x26337a(0x51a)],'buttonText':_0xa3a0d2[_0x26337a(0x6f7)][_0x26337a(0x2aa)],'selectableCount':0x1,'choices':_0x39909e},'options':{'delay':_0xa3a0d2[_0x26337a(0x6f7)]['delay']}};try{let _0x46c869=await this[_0x26337a(0x1f1)](_0x4cc91d);if(_0x46c869){let _0x47f312={'_id':_0x46c869[_0x26337a(0x737)]['id'],'_fromMe':_0x46c869['key'][_0x26337a(0x346)],'_remoteJid':_0x46c869[_0x26337a(0x737)]['remoteJid']};_0xa3a0d2[_0x26337a(0x6f7)][_0x26337a(0x2b2)]===!0x0&&(_0x20f9a7[_0x26337a(0x23b)]=_0x26337a(0x6f2),this[_0x26337a(0x223)]['verbose'](this[_0x26337a(0x4b3)]+'\x20('+this[_0x26337a(0x49e)][_0x26337a(0x72c)]+_0x26337a(0x697)+_0x20f9a7[_0x26337a(0x23b)])),this[_0x26337a(0x223)][_0x26337a(0x217)](this[_0x26337a(0x4b3)]+'\x20('+this[_0x26337a(0x49e)][_0x26337a(0x72c)]+_0x26337a(0x24e)+(_0xa3a0d2[_0x26337a(0x6f7)]['name']||_0xa3a0d2[_0x26337a(0x6f7)][_0x26337a(0x4d2)])),_0x20f9a7[_0x26337a(0x679)]=_0x46c869[_0x26337a(0x737)]['id'],_0x20f9a7[_0x26337a(0x30f)]=_0xa3a0d2[_0x26337a(0x6f7)][_0x26337a(0x5a6)]||_0xa3a0d2[_0x26337a(0x6f7)][_0x26337a(0x4d2)],_0x20f9a7[_0x26337a(0x2ae)]=_0x79be56,_0xa3a0d2[_0x26337a(0x6f7)][_0x26337a(0x4fb)]&&(_0x20f9a7[_0x26337a(0x433)]=_0xa3a0d2['uazapi'][_0x26337a(0x4fb)]),this[_0x26337a(0x223)][_0x26337a(0x217)](this[_0x26337a(0x4b3)]+'\x20('+this['instance'][_0x26337a(0x72c)]+_0x26337a(0x3e8)+_0x20f9a7[_0x26337a(0x30f)]),_0x20f9a7['chatLog'][_0x26337a(0x40a)]=_0xa3a0d2[_0x26337a(0x5fb)][_0x26337a(0x594)]();let {message_normalized:_0x4771c7}=this[_0x26337a(0x558)](_0x46c869['message'],_(_0x46c869[_0x26337a(0x46a)]),null);_0x20f9a7['chatLog']['lastSendMessage']=await _0x4771c7;let _0x36f327={'messageId':_0x46c869['key']['id']},_0x5be6f6=_0x20f9a7[_0x26337a(0x683)][_0x26337a(0x57f)];Object['assign'](_0x5be6f6,_0x47f312),_0x20f9a7['chatLog'][_0x26337a(0x57f)]=_0x5be6f6,this['updateConversation'](_0x20f9a7,_0xa3a0d2,_0x36f327);}else{let _0x48a194={'error':!0x0};this[_0x26337a(0x52b)](_0x20f9a7,_0xa3a0d2,_0x48a194),this['logger'][_0x26337a(0x4be)](this[_0x26337a(0x4b3)]+'\x20('+this[_0x26337a(0x49e)][_0x26337a(0x72c)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x234bc6){let _0x21c1d2={'error':!0x0,'errorLog':_0x234bc6 instanceof Error?_0x234bc6[_0x26337a(0x46a)]:JSON[_0x26337a(0x286)](_0x234bc6,null,0x2)};this[_0x26337a(0x52b)](_0x20f9a7,_0xa3a0d2,_0x21c1d2),this[_0x26337a(0x223)][_0x26337a(0x4be)](this['instanceName']+'\x20('+this[_0x26337a(0x49e)][_0x26337a(0x72c)]+_0x26337a(0x6bf)+(_0x234bc6 instanceof Error?_0x234bc6[_0x26337a(0x46a)]:JSON[_0x26337a(0x286)](_0x234bc6,null,0x2)));}}async[a0_0x4e6726(0x459)](_0x291a30,_0x297112){const _0x258bf8=a0_0x4e6726;this[_0x258bf8(0x223)][_0x258bf8(0x217)](this[_0x258bf8(0x4b3)]+'\x20('+this[_0x258bf8(0x49e)]['wuid']+_0x258bf8(0x4e4));let _0x114052=_0x291a30[_0x258bf8(0x683)]['blockLogs'][_0x258bf8(0x6b1)](_0x1315db=>_0x1315db[_0x258bf8(0x268)]['toString']()===_0x297112[_0x258bf8(0x6f7)]['blockId'][_0x258bf8(0x594)]()),_0x24a4fe={'id':_0x114052['messageId'],'remoteJid':_0x114052[_0x258bf8(0x719)],'fromMe':_0x114052[_0x258bf8(0x346)]};try{let _0x315a24=await this['deleteMessage'](_0x24a4fe);if(_0x315a24){_0x291a30[_0x258bf8(0x683)][_0x258bf8(0x40a)]=_0x297112['_id'][_0x258bf8(0x594)]();let {message_normalized:_0x10a396}=this['normalizeMessage'](_0x315a24[_0x258bf8(0x46a)],_(_0x315a24[_0x258bf8(0x46a)]),null);_0x291a30[_0x258bf8(0x683)][_0x258bf8(0x333)]=await _0x10a396;let _0x462101={};this[_0x258bf8(0x52b)](_0x291a30,_0x297112,_0x462101);}else{let _0x1656e3={'error':!0x0};this[_0x258bf8(0x52b)](_0x291a30,_0x297112,_0x1656e3),this['logger'][_0x258bf8(0x4be)](this[_0x258bf8(0x4b3)]+'\x20('+this[_0x258bf8(0x49e)]['wuid']+_0x258bf8(0x64e));}}catch(_0x1d7201){let _0x529a58={'error':!0x0,'errorLog':_0x1d7201 instanceof Error?_0x1d7201['message']:JSON['stringify'](_0x1d7201,null,0x2)};this['updateConversation'](_0x291a30,_0x297112,_0x529a58),this[_0x258bf8(0x223)][_0x258bf8(0x4be)](this[_0x258bf8(0x4b3)]+'\x20('+this['instance'][_0x258bf8(0x72c)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x1d7201 instanceof Error?_0x1d7201[_0x258bf8(0x46a)]:JSON[_0x258bf8(0x286)](_0x1d7201,null,0x2)));}}async['createFlow'](_0x1f0ddf){const _0x437922=a0_0x4e6726;try{if(this['logger'][_0x437922(0x217)](this[_0x437922(0x4b3)]+'\x20('+this['instance'][_0x437922(0x72c)]+_0x437922(0x212)),await I['findOne']({'owner':this[_0x437922(0x49e)][_0x437922(0x72c)],'name':_0x1f0ddf[_0x437922(0x5a6)]}))return{'message':'Flow\x20already\x20exists'};_0x1f0ddf[_0x437922(0x38c)]===!0x0&&await I['updateMany']({'owner':this[_0x437922(0x49e)][_0x437922(0x72c)]},{'default':!0x1});let _0x5587d8=new pe[(_0x437922(0x660))][(_0x437922(0x1f4))](),_0x347e1f={'_id':_0x5587d8,'default':!0x0,'title':_0x437922(0x636),'x':0x0,'y':0x0},_0x4355bc={'_id':new pe[(_0x437922(0x660))][(_0x437922(0x1f4))](),'order':0x1,'groupId':_0x5587d8[_0x437922(0x594)](),'type':_0x437922(0x529)};return await I[_0x437922(0x1ab)]({'owner':this[_0x437922(0x49e)]['wuid'],'name':_0x1f0ddf['name'],'groups':[_0x347e1f],'blocks':[_0x4355bc],..._0x1f0ddf});}catch(_0x4a956c){throw this[_0x437922(0x223)]['error'](this[_0x437922(0x4b3)]+'\x20('+this[_0x437922(0x49e)][_0x437922(0x72c)]+_0x437922(0x2e1)+JSON['stringify'](_0x4a956c,null,0x2)),new g(_0x437922(0x42d)+_0x4a956c);}}async[a0_0x4e6726(0x4b2)](_0x545aa2){const _0x55c3e9=a0_0x4e6726;try{return this[_0x55c3e9(0x223)][_0x55c3e9(0x217)](this[_0x55c3e9(0x4b3)]+'\x20('+this[_0x55c3e9(0x49e)][_0x55c3e9(0x72c)]+_0x55c3e9(0x5fa)),await I[_0x55c3e9(0x6b5)]({'owner':this[_0x55c3e9(0x49e)][_0x55c3e9(0x72c)],'name':_0x545aa2});}catch(_0x1d9d11){return this[_0x55c3e9(0x223)][_0x55c3e9(0x4be)](this[_0x55c3e9(0x4b3)]+'\x20('+this[_0x55c3e9(0x49e)][_0x55c3e9(0x72c)]+_0x55c3e9(0x2cb)+JSON['stringify'](_0x1d9d11,null,0x2)),{'message':_0x55c3e9(0x6c9)+_0x1d9d11};}}async['getFlow'](_0x561c68){const _0x3fe853=a0_0x4e6726;try{this['logger'][_0x3fe853(0x217)](this[_0x3fe853(0x4b3)]+'\x20('+this[_0x3fe853(0x49e)]['wuid']+'):\x20Buscando\x20flow...');let _0xfa15e6=await I[_0x3fe853(0x350)]({'owner':this[_0x3fe853(0x49e)][_0x3fe853(0x72c)],'name':_0x561c68});if(!_0xfa15e6)throw new Error(_0x3fe853(0x675));if(!this[_0x3fe853(0x560)]&&(await this['getAutomateSystem'](),!this[_0x3fe853(0x560)]))return null;let _0x1c77ea=this[_0x3fe853(0x560)]?.[_0x3fe853(0x795)][_0x3fe853(0x3cf)](_0x3bbe39=>_0x3bbe39[_0x3fe853(0x5a6)]),_0x24c6a1=[_0x3fe853(0x460),_0x3fe853(0x248),'email',_0x3fe853(0x25d),_0x3fe853(0x23b),'notas','responsavelid',_0x3fe853(0x336)];return _0xfa15e6['variables']=_0xfa15e6[_0x3fe853(0x74c)][_0x3fe853(0x618)](_0x452281=>!(_0x452281[_0x3fe853(0x2e9)]===_0x3fe853(0x5fd)||_0x452281[_0x3fe853(0x5fd)])),_0x24c6a1[_0x3fe853(0x655)](_0x4795dc=>{const _0x368945=_0x3fe853;_0xfa15e6[_0x368945(0x74c)]['push']({'folder':_0x368945(0x5fd),'name':_0x4795dc,'value':'','doc':'','leadInfo':!0x0});}),_0x1c77ea['forEach'](_0x567c25=>{const _0x494470=_0x3fe853;let _0xe00e32=_0xfa15e6[_0x494470(0x74c)][_0x494470(0x575)](_0x4e5971=>_0x4e5971['name']===_0x567c25);_0xe00e32===-0x1?_0xfa15e6['variables']['push']({'folder':_0x494470(0x5fd),'name':_0x567c25,'value':'','doc':'','leadInfo':!0x0}):(_0xfa15e6[_0x494470(0x74c)][_0xe00e32][_0x494470(0x2e9)]='leadInfo',_0xfa15e6[_0x494470(0x74c)][_0xe00e32][_0x494470(0x5fd)]=!0x0);}),_0xfa15e6[_0x3fe853(0x595)]&&_0xfa15e6[_0x3fe853(0x595)][_0x3fe853(0x728)]>0x0&&_0xfa15e6[_0x3fe853(0x595)][_0x3fe853(0x655)](_0x4fb552=>{const _0x30bc75=_0x3fe853;_0x4fb552['groupId']&&_0x4fb552[_0x30bc75(0x2da)]&&_0x4fb552[_0x30bc75(0x38e)]===_0x4fb552[_0x30bc75(0x2da)]&&(_0x4fb552[_0x30bc75(0x2da)]=null);}),await _0xfa15e6[_0x3fe853(0x403)](),_0xfa15e6;}catch(_0x977ae9){throw this[_0x3fe853(0x223)][_0x3fe853(0x4be)](this[_0x3fe853(0x4b3)]+'\x20('+this[_0x3fe853(0x49e)][_0x3fe853(0x72c)]+_0x3fe853(0x28b)+JSON[_0x3fe853(0x286)](_0x977ae9,null,0x2)),new g('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x977ae9);}}async['allFlows'](){const _0x1afdcf=a0_0x4e6726;try{return this[_0x1afdcf(0x223)]['verbose'](this[_0x1afdcf(0x4b3)]+'\x20('+this[_0x1afdcf(0x49e)][_0x1afdcf(0x72c)]+_0x1afdcf(0x36d)),await I[_0x1afdcf(0x6b1)]({'owner':this[_0x1afdcf(0x49e)][_0x1afdcf(0x72c)]});}catch(_0x31574a){return this[_0x1afdcf(0x223)][_0x1afdcf(0x4be)](this[_0x1afdcf(0x4b3)]+'\x20('+this[_0x1afdcf(0x49e)]['wuid']+_0x1afdcf(0x444)+JSON['stringify'](_0x31574a,null,0x2)),{'message':_0x1afdcf(0x6d2)+_0x31574a};}}async['editFlow'](_0x2025b1){const _0x24edbd=a0_0x4e6726;try{this['logger'][_0x24edbd(0x217)](this['instanceName']+'\x20('+this['instance'][_0x24edbd(0x72c)]+'):\x20Alterando\x20fluxo...');let _0x18a430=await I[_0x24edbd(0x350)]({'owner':this[_0x24edbd(0x49e)][_0x24edbd(0x72c)],'name':_0x2025b1[_0x24edbd(0x5a6)]});if(!_0x18a430)return{'message':_0x24edbd(0x6b8)};if(_0x2025b1[_0x24edbd(0x38c)]===!0x0&&await I[_0x24edbd(0x5a0)]({'owner':this['instance'][_0x24edbd(0x72c)]},{'default':!0x1}),_0x2025b1[_0x24edbd(0x499)]){if(await I[_0x24edbd(0x350)]({'owner':this[_0x24edbd(0x49e)][_0x24edbd(0x72c)],'name':_0x2025b1[_0x24edbd(0x499)]}))return{'message':_0x24edbd(0x303)};_0x2025b1[_0x24edbd(0x5a6)]=_0x2025b1[_0x24edbd(0x499)],delete _0x2025b1[_0x24edbd(0x499)];}return await I['findByIdAndUpdate'](_0x18a430['_id'],{'$set':_0x2025b1},{'new':!0x0});}catch(_0x2b8e33){throw this[_0x24edbd(0x223)][_0x24edbd(0x4be)](this[_0x24edbd(0x4b3)]+'\x20('+this[_0x24edbd(0x49e)][_0x24edbd(0x72c)]+_0x24edbd(0x4e1)+JSON[_0x24edbd(0x286)](_0x2b8e33,null,0x2)),new g(_0x24edbd(0x3c8)+JSON[_0x24edbd(0x286)](_0x2b8e33,null,0x2));}}async[a0_0x4e6726(0x78b)](_0xb21daf){const _0x12cc61=a0_0x4e6726;try{this[_0x12cc61(0x223)][_0x12cc61(0x217)](this[_0x12cc61(0x4b3)]+'\x20('+this[_0x12cc61(0x49e)]['wuid']+_0x12cc61(0x60e));let _0x154f79={'owner':this[_0x12cc61(0x49e)]['wuid'],'name':_0xb21daf[_0x12cc61(0x5a6)]},_0xeab2bd=await I[_0x12cc61(0x350)](_0x154f79);_0xeab2bd||this['throwAndLogError'](_0x12cc61(0x675));let {block:_0x3695c2}=_0xb21daf;return _0x3695c2?.[_0x12cc61(0x419)]?this[_0x12cc61(0x496)](_0xeab2bd,_0xb21daf):_0x3695c2?.[_0x12cc61(0x5f6)]?this['deleteBlock'](_0xeab2bd,_0xb21daf):_0x3695c2[_0x12cc61(0x5fb)]?await this[_0x12cc61(0x753)](_0xeab2bd,_0xb21daf):this[_0x12cc61(0x53a)](_0xeab2bd,_0xb21daf),await _0xeab2bd[_0x12cc61(0x403)](),_0xeab2bd;}catch(_0x30927b){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x30927b);}}async['copyBlock'](_0x16091e,_0x10053c){const _0x13151d=a0_0x4e6726;let _0x1c283a=_0x10053c[_0x13151d(0x3f1)]['_id'],_0x46f47d=_0x16091e[_0x13151d(0x595)]['find'](_0x235ee6=>_0x235ee6[_0x13151d(0x5fb)][_0x13151d(0x594)]()===_0x1c283a);if(!_0x46f47d){this[_0x13151d(0x223)]['error'](this[_0x13151d(0x4b3)]+'\x20('+this[_0x13151d(0x49e)][_0x13151d(0x72c)]+_0x13151d(0x283)+_0x1c283a+_0x13151d(0x4e8));return;}this['logger'][_0x13151d(0x217)](this[_0x13151d(0x4b3)]+'\x20('+this[_0x13151d(0x49e)]['wuid']+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x13151d(0x286)](_0x46f47d));let _0x50716f=JSON[_0x13151d(0x772)](JSON['stringify'](_0x46f47d));_0x50716f[_0x13151d(0x5fb)]=new pe[(_0x13151d(0x38c))][(_0x13151d(0x660))][(_0x13151d(0x1f4))](),this[_0x13151d(0x223)]['verbose'](this[_0x13151d(0x4b3)]+'\x20('+this[_0x13151d(0x49e)]['wuid']+_0x13151d(0x416)+JSON[_0x13151d(0x286)](_0x50716f)),_0x16091e['blocks'][_0x13151d(0x73c)](_0x50716f),this[_0x13151d(0x3fc)](_0x16091e['blocks'],_0x50716f[_0x13151d(0x38e)]);}[a0_0x4e6726(0x21a)](_0x73deeb){const _0x360994=a0_0x4e6726;throw this[_0x360994(0x223)][_0x360994(0x4be)](this[_0x360994(0x4b3)]+'\x20('+this['instance'][_0x360994(0x72c)]+_0x360994(0x2ad)+_0x73deeb),new g(_0x73deeb);}[a0_0x4e6726(0x319)](_0x459dd3,_0x257acf){const _0x2feee9=a0_0x4e6726;let {block:_0x28da56}=_0x257acf;if(_0x28da56[_0x2feee9(0x5ec)]===_0x2feee9(0x529)){this[_0x2feee9(0x21a)](_0x2feee9(0x3f4));return;}if(!_0x28da56[_0x2feee9(0x5fb)]){this[_0x2feee9(0x21a)](_0x2feee9(0x408));return;}let _0x2c71b6=_0x459dd3['blocks'][_0x2feee9(0x6b1)](_0x1a385d=>_0x1a385d[_0x2feee9(0x5fb)][_0x2feee9(0x594)]()===_0x257acf[_0x2feee9(0x3f1)][_0x2feee9(0x5fb)][_0x2feee9(0x594)]());if(!_0x2c71b6){this[_0x2feee9(0x21a)](_0x2feee9(0x4bd)+_0x28da56[_0x2feee9(0x5fb)]+_0x2feee9(0x65f));return;}_0x459dd3[_0x2feee9(0x595)]=_0x459dd3[_0x2feee9(0x595)]['filter'](_0x18d647=>_0x18d647[_0x2feee9(0x5fb)][_0x2feee9(0x594)]()!==_0x257acf[_0x2feee9(0x3f1)][_0x2feee9(0x5fb)]['toString']()),_0x459dd3['conditions']=_0x459dd3[_0x2feee9(0x263)][_0x2feee9(0x618)](_0x2a7807=>_0x2a7807[_0x2feee9(0x268)]!==_0x28da56[_0x2feee9(0x5fb)][_0x2feee9(0x594)]()),_0x459dd3['varedits']=_0x459dd3['varedits']['filter'](_0x636148=>_0x636148['blockId']!==_0x28da56[_0x2feee9(0x5fb)][_0x2feee9(0x594)]()),_0x459dd3[_0x2feee9(0x46b)]=_0x459dd3[_0x2feee9(0x46b)][_0x2feee9(0x618)](_0x110ef5=>_0x110ef5[_0x2feee9(0x268)]!==_0x28da56[_0x2feee9(0x5fb)][_0x2feee9(0x594)]()),this[_0x2feee9(0x3fc)](_0x459dd3['blocks'],_0x2c71b6[_0x2feee9(0x38e)]);}async['updateBlock'](_0x2c1ec4,_0x518d2b){const _0x28a9b8=a0_0x4e6726;let _0x296254=_0x2c1ec4[_0x28a9b8(0x595)][_0x28a9b8(0x575)](_0x2df5b1=>_0x2df5b1['_id'][_0x28a9b8(0x594)]()===_0x518d2b[_0x28a9b8(0x3f1)][_0x28a9b8(0x5fb)][_0x28a9b8(0x594)]());if(this[_0x28a9b8(0x223)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x28a9b8(0x205)+_0x296254),_0x296254===-0x1){this[_0x28a9b8(0x223)][_0x28a9b8(0x217)](_0x28a9b8(0x4bd)+_0x518d2b[_0x28a9b8(0x3f1)][_0x28a9b8(0x5fb)]+_0x28a9b8(0x279));return;}if(_0x2c1ec4[_0x28a9b8(0x595)][_0x296254][_0x28a9b8(0x5ec)]===_0x28a9b8(0x529)){let _0x45a0d3=Object[_0x28a9b8(0x2d7)](_0x518d2b[_0x28a9b8(0x3f1)]);if(_0x45a0d3[_0x28a9b8(0x728)]>0x2||_0x45a0d3[_0x28a9b8(0x728)]===0x2&&!_0x45a0d3['includes'](_0x28a9b8(0x2da))){this[_0x28a9b8(0x21a)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x6bbf3c=_0x2c1ec4['blocks'][_0x296254][_0x28a9b8(0x38e)];for(let _0x1ee82a in _0x518d2b[_0x28a9b8(0x3f1)])_0x518d2b[_0x28a9b8(0x3f1)][_0x28a9b8(0x2d2)](_0x1ee82a)&&(_0x2c1ec4[_0x28a9b8(0x595)][_0x296254][_0x1ee82a]=_0x518d2b[_0x28a9b8(0x3f1)][_0x1ee82a]);if(this[_0x28a9b8(0x223)][_0x28a9b8(0x217)](this[_0x28a9b8(0x4b3)]+'\x20('+this[_0x28a9b8(0x49e)][_0x28a9b8(0x72c)]+_0x28a9b8(0x5d8)+JSON[_0x28a9b8(0x286)](_0x2c1ec4[_0x28a9b8(0x595)][_0x296254])),_0x2c1ec4[_0x28a9b8(0x595)][_0x296254]['apirequest']&&'header'in _0x2c1ec4[_0x28a9b8(0x595)][_0x296254][_0x28a9b8(0x2f1)]){this['logger'][_0x28a9b8(0x217)](this['instanceName']+'\x20('+this[_0x28a9b8(0x49e)]['wuid']+_0x28a9b8(0x382));let _0x226d2a=JSON[_0x28a9b8(0x286)](_0x2c1ec4[_0x28a9b8(0x595)][_0x296254][_0x28a9b8(0x2f1)][_0x28a9b8(0x724)],null,0x1);_0x226d2a[_0x28a9b8(0x728)]>0x2&&(_0x226d2a=_0x226d2a[_0x28a9b8(0x708)](0x1,_0x226d2a[_0x28a9b8(0x728)]-0x1)[_0x28a9b8(0x3e4)]()),_0x2c1ec4[_0x28a9b8(0x595)][_0x296254][_0x28a9b8(0x2f1)][_0x28a9b8(0x2d0)]=_0x226d2a;}if(_0x2c1ec4[_0x28a9b8(0x595)][_0x296254][_0x28a9b8(0x2f1)]&&_0x28a9b8(0x6c5)in _0x2c1ec4[_0x28a9b8(0x595)][_0x296254][_0x28a9b8(0x2f1)]){this['logger'][_0x28a9b8(0x217)](this['instanceName']+'\x20('+this['instance'][_0x28a9b8(0x72c)]+_0x28a9b8(0x6f8));let _0x7bce82=JSON[_0x28a9b8(0x286)](_0x2c1ec4[_0x28a9b8(0x595)][_0x296254][_0x28a9b8(0x2f1)]['body'],null,0x1);_0x7bce82[_0x28a9b8(0x728)]>0x2&&(_0x7bce82=_0x7bce82[_0x28a9b8(0x708)](0x1,_0x7bce82['length']-0x1)['trim']()),_0x2c1ec4[_0x28a9b8(0x595)][_0x296254][_0x28a9b8(0x2f1)][_0x28a9b8(0x1c1)]=_0x7bce82;}let _0x3d2884=_0x2c1ec4[_0x28a9b8(0x595)][_0x296254][_0x28a9b8(0x38e)];_0x6bbf3c!==_0x3d2884?(this[_0x28a9b8(0x3fc)](_0x2c1ec4['blocks'],_0x6bbf3c),this[_0x28a9b8(0x3fc)](_0x2c1ec4[_0x28a9b8(0x595)],_0x3d2884)):this[_0x28a9b8(0x3fc)](_0x2c1ec4[_0x28a9b8(0x595)],_0x6bbf3c);}[a0_0x4e6726(0x53a)](_0x7e4f9b,_0x1cdddd){const _0x514782=a0_0x4e6726;if(_0x1cdddd[_0x514782(0x3f1)]['type']===_0x514782(0x529)){this[_0x514782(0x21a)](_0x514782(0x3fa));return;}if(_0x1cdddd[_0x514782(0x3f1)][_0x514782(0x2f1)]&&_0x514782(0x724)in _0x1cdddd[_0x514782(0x3f1)][_0x514782(0x2f1)]){this['logger']['verbose'](this[_0x514782(0x4b3)]+'\x20('+this[_0x514782(0x49e)]['wuid']+_0x514782(0x382));let _0x56fbbd=JSON[_0x514782(0x286)](_0x1cdddd[_0x514782(0x3f1)]['apirequest'][_0x514782(0x724)],null,0x1);_0x56fbbd[_0x514782(0x728)]>0x2&&(_0x56fbbd=_0x56fbbd[_0x514782(0x708)](0x1,_0x56fbbd[_0x514782(0x728)]-0x1)[_0x514782(0x3e4)]()),_0x1cdddd[_0x514782(0x3f1)][_0x514782(0x2f1)][_0x514782(0x2d0)]=_0x56fbbd;}_0x1cdddd[_0x514782(0x3f1)][_0x514782(0x2f1)]&&_0x514782(0x6c5)in _0x1cdddd[_0x514782(0x3f1)][_0x514782(0x2f1)]&&(this['logger'][_0x514782(0x217)](this['instanceName']+'\x20('+this[_0x514782(0x49e)][_0x514782(0x72c)]+_0x514782(0x6f8)),_0x1cdddd[_0x514782(0x3f1)][_0x514782(0x2f1)][_0x514782(0x1c1)]=JSON[_0x514782(0x286)](_0x1cdddd[_0x514782(0x3f1)][_0x514782(0x2f1)][_0x514782(0x6c5)],null,0x1)[_0x514782(0x3e4)]()),_0x7e4f9b[_0x514782(0x595)][_0x514782(0x73c)](_0x1cdddd['block']),this['reorderBlocks'](_0x7e4f9b[_0x514782(0x595)],_0x1cdddd[_0x514782(0x3f1)]['groupId']);}[a0_0x4e6726(0x3fc)](_0x4a5d55,_0x2e3394){const _0x514000=a0_0x4e6726;let _0x4c87cd=_0x4a5d55['filter'](_0x4c5e69=>_0x4c5e69['groupId']===_0x2e3394);_0x4c87cd[_0x514000(0x6ca)]((_0x43918a,_0x4e99fc)=>_0x43918a[_0x514000(0x6e0)]-_0x4e99fc[_0x514000(0x6e0)]),_0x4c87cd['forEach']((_0x57f092,_0x2beeb6)=>_0x57f092['order']=_0x2beeb6+0x1);}async[a0_0x4e6726(0x4a5)](_0x2a9c05){const _0x21a5f8=a0_0x4e6726;try{if(this[_0x21a5f8(0x223)][_0x21a5f8(0x217)](this[_0x21a5f8(0x4b3)]+'\x20('+this[_0x21a5f8(0x49e)]['wuid']+_0x21a5f8(0x24b)),!_0x2a9c05||!_0x2a9c05[_0x21a5f8(0x55a)]){this['throwAndLogError'](_0x21a5f8(0x703));return;}let _0x5cf9d2={'owner':this[_0x21a5f8(0x49e)][_0x21a5f8(0x72c)],'name':_0x2a9c05[_0x21a5f8(0x5a6)]},_0x10f187=await I[_0x21a5f8(0x350)](_0x5cf9d2);_0x10f187||this[_0x21a5f8(0x21a)](_0x21a5f8(0x675));let {replyOption:_0x3064cb}=_0x2a9c05;return _0x3064cb?.[_0x21a5f8(0x5f6)]?(this[_0x21a5f8(0x1c4)](_0x10f187,_0x2a9c05),this[_0x21a5f8(0x53f)](_0x10f187[_0x21a5f8(0x46b)],_0x2a9c05[_0x21a5f8(0x55a)][_0x21a5f8(0x268)])):_0x3064cb['_id']?(await this[_0x21a5f8(0x729)](_0x10f187,_0x2a9c05),this[_0x21a5f8(0x53f)](_0x10f187[_0x21a5f8(0x46b)],_0x2a9c05[_0x21a5f8(0x55a)][_0x21a5f8(0x268)])):(this[_0x21a5f8(0x551)](_0x10f187,_0x2a9c05),this[_0x21a5f8(0x53f)](_0x10f187[_0x21a5f8(0x46b)],_0x2a9c05[_0x21a5f8(0x55a)][_0x21a5f8(0x268)])),await _0x10f187[_0x21a5f8(0x403)](),_0x10f187;}catch(_0x4ca5ec){this[_0x21a5f8(0x21a)](_0x21a5f8(0x4ff)+_0x4ca5ec);}}[a0_0x4e6726(0x53f)](_0x210974,_0x5c9135){const _0x1d6b94=a0_0x4e6726;console[_0x1d6b94(0x262)]('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x5c9135),_0x210974[_0x1d6b94(0x655)](_0x4b1304=>{_0x4b1304['blockId']===_0x5c9135&&_0x4b1304['order']===void 0x0&&(_0x4b1304['order']=0x270f);});let _0x5c2aef=_0x210974[_0x1d6b94(0x618)](_0x3a0fd4=>_0x3a0fd4[_0x1d6b94(0x268)]===_0x5c9135);_0x5c2aef['sort']((_0x16ea0b,_0x968101)=>_0x16ea0b['order']-_0x968101[_0x1d6b94(0x6e0)]),_0x5c2aef[_0x1d6b94(0x655)]((_0x97af67,_0x3653be)=>{const _0x3f80e2=_0x1d6b94;_0x97af67[_0x3f80e2(0x6e0)]=_0x3653be+0x1;}),_0x210974[_0x1d6b94(0x655)](_0x1b77f7=>{const _0x105b69=_0x1d6b94;if(_0x1b77f7[_0x105b69(0x268)]===_0x5c9135){let _0xad6dd3=_0x5c2aef[_0x105b69(0x6b1)](_0x22e39a=>_0x22e39a[_0x105b69(0x5fb)][_0x105b69(0x594)]()===_0x1b77f7[_0x105b69(0x5fb)][_0x105b69(0x594)]());_0xad6dd3&&(_0x1b77f7[_0x105b69(0x6e0)]=_0xad6dd3[_0x105b69(0x6e0)]);}}),console['log'](_0x1d6b94(0x4ea),_0x210974);}['deleteReplyOption'](_0x5d4e90,_0x2dce05){const _0x248bae=a0_0x4e6726;let {replyOption:_0x1a4d4b}=_0x2dce05;if(!_0x1a4d4b[_0x248bae(0x5fb)]){this[_0x248bae(0x21a)](_0x248bae(0x4bc));return;}if(!_0x5d4e90[_0x248bae(0x46b)][_0x248bae(0x6b1)](_0x5f1b5d=>_0x5f1b5d[_0x248bae(0x5fb)]['toString']()===_0x2dce05[_0x248bae(0x55a)][_0x248bae(0x5fb)][_0x248bae(0x594)]())){this[_0x248bae(0x21a)](_0x248bae(0x326)+_0x1a4d4b['_id']+_0x248bae(0x65f));return;}_0x5d4e90[_0x248bae(0x46b)]=_0x5d4e90[_0x248bae(0x46b)][_0x248bae(0x618)](_0xac2786=>_0xac2786[_0x248bae(0x5fb)][_0x248bae(0x594)]()!==_0x2dce05[_0x248bae(0x55a)][_0x248bae(0x5fb)]['toString']());}async['updateReplyOption'](_0xd8fc1,_0x3caeca){const _0x3d9e67=a0_0x4e6726;let _0x4c54a9=_0xd8fc1[_0x3d9e67(0x46b)]['findIndex'](_0xacaa6a=>_0xacaa6a['_id'][_0x3d9e67(0x594)]()===_0x3caeca[_0x3d9e67(0x55a)][_0x3d9e67(0x5fb)][_0x3d9e67(0x594)]());if(_0x4c54a9===-0x1){this[_0x3d9e67(0x21a)](_0x3d9e67(0x326)+_0x3caeca[_0x3d9e67(0x55a)][_0x3d9e67(0x5fb)]+_0x3d9e67(0x279));return;}for(let _0x2c1908 in _0x3caeca[_0x3d9e67(0x55a)])_0x3caeca[_0x3d9e67(0x55a)]['hasOwnProperty'](_0x2c1908)&&(_0xd8fc1[_0x3d9e67(0x46b)][_0x4c54a9][_0x2c1908]=_0x3caeca[_0x3d9e67(0x55a)][_0x2c1908]);}[a0_0x4e6726(0x551)](_0x4d0f01,_0x6b0a12){const _0x1c5695=a0_0x4e6726;_0x4d0f01[_0x1c5695(0x46b)][_0x1c5695(0x73c)](_0x6b0a12[_0x1c5695(0x55a)]);}async[a0_0x4e6726(0x613)](_0x3e9819){const _0x53d352=a0_0x4e6726;this[_0x53d352(0x223)][_0x53d352(0x217)](this['instanceName']+'\x20('+this[_0x53d352(0x49e)][_0x53d352(0x72c)]+_0x53d352(0x251)+_0x3e9819);try{this[_0x53d352(0x223)][_0x53d352(0x217)](this[_0x53d352(0x4b3)]+'\x20('+this['instance'][_0x53d352(0x72c)]+_0x53d352(0x21f));let _0x1c368d={'owner':this['instance']['wuid'],'name':_0x3e9819[_0x53d352(0x5a6)]},_0x2bab1b=await I[_0x53d352(0x350)](_0x1c368d);if(!_0x2bab1b)throw new Error('Flow\x20não\x20encontrado');if(_0x3e9819[_0x53d352(0x517)]&&_0x3e9819['group']?.[_0x53d352(0x5f6)]===!0x0){if(this['logger'][_0x53d352(0x217)](this['instanceName']+'\x20('+this[_0x53d352(0x49e)][_0x53d352(0x72c)]+_0x53d352(0x6aa)),_0x3e9819['group'][_0x53d352(0x38c)]===!0x0)return{'message':_0x53d352(0x497)};if(_0x2bab1b[_0x53d352(0x595)][_0x53d352(0x447)](_0x21e26c=>_0x21e26c[_0x53d352(0x38e)][_0x53d352(0x594)]()===_0x3e9819[_0x53d352(0x517)][_0x53d352(0x5fb)]))return this['logger']['verbose'](this[_0x53d352(0x4b3)]+'\x20('+this[_0x53d352(0x49e)][_0x53d352(0x72c)]+_0x53d352(0x585)),{'message':_0x53d352(0x344)};_0x2bab1b['groups']=_0x2bab1b['groups'][_0x53d352(0x618)](_0x1265e2=>_0x1265e2[_0x53d352(0x5fb)][_0x53d352(0x594)]()!==_0x3e9819[_0x53d352(0x517)]['_id']);}else{if(_0x3e9819[_0x53d352(0x517)]){if(_0x3e9819[_0x53d352(0x517)][_0x53d352(0x38c)]===!0x0)return{'message':_0x53d352(0x5cd)};if(_0x3e9819[_0x53d352(0x517)][_0x53d352(0x5fb)]){let _0x27ecce=_0x2bab1b['groups'][_0x53d352(0x6b1)](_0xe905b2=>_0xe905b2[_0x53d352(0x5fb)]['toString']()===_0x3e9819['group'][_0x53d352(0x5fb)]);_0x27ecce&&(_0x3e9819['group']['x']<0x0&&(_0x3e9819[_0x53d352(0x517)]['x']=0x0),_0x3e9819[_0x53d352(0x517)]['y']<0x0&&(_0x3e9819[_0x53d352(0x517)]['y']=0x0),Object[_0x53d352(0x3b2)](_0x27ecce,_0x3e9819[_0x53d352(0x517)]));}else _0x2bab1b[_0x53d352(0x1cf)]['push'](_0x3e9819['group']);}}return await _0x2bab1b[_0x53d352(0x403)](),_0x2bab1b;}catch(_0x4c211c){throw this['logger']['error'](this[_0x53d352(0x4b3)]+'\x20('+this['instance'][_0x53d352(0x72c)]+_0x53d352(0x364)+JSON[_0x53d352(0x286)](_0x4c211c,null,0x2)),new g(_0x53d352(0x1ac)+JSON[_0x53d352(0x286)](_0x4c211c,null,0x2));}}async[a0_0x4e6726(0x261)](_0x2700b0){const _0x166bcb=a0_0x4e6726;try{this[_0x166bcb(0x223)]['verbose'](this[_0x166bcb(0x4b3)]+'\x20('+this[_0x166bcb(0x49e)][_0x166bcb(0x72c)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x28fe7c={'owner':this[_0x166bcb(0x49e)][_0x166bcb(0x72c)],'name':_0x2700b0['name']},_0x5be08c=await I[_0x166bcb(0x350)](_0x28fe7c);if(!_0x5be08c)throw new Error(_0x166bcb(0x675));let _0x3dcb17=!0x1;if(_0x2700b0[_0x166bcb(0x721)]?.[_0x166bcb(0x5f6)]===!0x0)_0x5be08c[_0x166bcb(0x263)]=_0x5be08c[_0x166bcb(0x263)][_0x166bcb(0x618)](_0x506b9d=>_0x506b9d&&_0x2700b0[_0x166bcb(0x721)]&&_0x506b9d['_id']&&_0x2700b0[_0x166bcb(0x721)][_0x166bcb(0x5fb)]&&_0x506b9d[_0x166bcb(0x5fb)][_0x166bcb(0x594)]()!==_0x2700b0[_0x166bcb(0x721)][_0x166bcb(0x5fb)]['toString']()),_0x3dcb17=!0x0;else{let _0x5698fb=_0x5be08c[_0x166bcb(0x263)][_0x166bcb(0x6b1)](_0x10bfd0=>_0x10bfd0&&_0x2700b0['condition']&&_0x10bfd0['_id']&&_0x2700b0[_0x166bcb(0x721)][_0x166bcb(0x5fb)]&&_0x10bfd0[_0x166bcb(0x5fb)][_0x166bcb(0x594)]()===_0x2700b0[_0x166bcb(0x721)]['_id'][_0x166bcb(0x594)]());_0x5698fb?(_0x3dcb17=_0x5698fb[_0x166bcb(0x6e0)]!==_0x2700b0[_0x166bcb(0x721)][_0x166bcb(0x6e0)],Object[_0x166bcb(0x3b2)](_0x5698fb,_0x2700b0[_0x166bcb(0x721)])):(_0x5be08c['conditions'][_0x166bcb(0x73c)](_0x2700b0[_0x166bcb(0x721)]),_0x3dcb17=!0x0);}if(_0x3dcb17){_0x5be08c[_0x166bcb(0x263)][_0x166bcb(0x6ca)]((_0x452d48,_0x593a07)=>_0x452d48[_0x166bcb(0x6e0)]>_0x593a07[_0x166bcb(0x6e0)]?0x1:_0x593a07[_0x166bcb(0x6e0)]>_0x452d48[_0x166bcb(0x6e0)]?-0x1:0x0);for(let _0x585523=0x0;_0x585523<_0x5be08c[_0x166bcb(0x263)][_0x166bcb(0x728)];_0x585523++)_0x5be08c['conditions'][_0x585523][_0x166bcb(0x6e0)]=_0x585523+0x1;_0x5be08c[_0x166bcb(0x263)][_0x166bcb(0x728)]>0x0&&(_0x5be08c[_0x166bcb(0x263)][0x0][_0x166bcb(0x751)]=_0x166bcb(0x1c3));}return await _0x5be08c[_0x166bcb(0x403)](),_0x5be08c;}catch(_0x4e386a){throw this[_0x166bcb(0x223)][_0x166bcb(0x4be)](this[_0x166bcb(0x4b3)]+'\x20('+this['instance'][_0x166bcb(0x72c)]+_0x166bcb(0x3d0)+JSON[_0x166bcb(0x286)](_0x4e386a,null,0x2)),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x4e386a);}}async[a0_0x4e6726(0x28c)](_0x22a780){const _0x2b1bcd=a0_0x4e6726;try{this[_0x2b1bcd(0x223)][_0x2b1bcd(0x217)](this[_0x2b1bcd(0x4b3)]+'\x20('+this[_0x2b1bcd(0x49e)][_0x2b1bcd(0x72c)]+_0x2b1bcd(0x2cd));let _0x4e9102={'owner':this[_0x2b1bcd(0x49e)]['wuid'],'name':_0x22a780[_0x2b1bcd(0x5a6)]},_0x411dc9=await I[_0x2b1bcd(0x350)](_0x4e9102);if(!_0x411dc9)throw new Error('Flow\x20não\x20encontrado');let _0x3ec8f6=!0x1;if(_0x22a780[_0x2b1bcd(0x6b2)]?.['delete']===!0x0)_0x411dc9[_0x2b1bcd(0x722)]=_0x411dc9[_0x2b1bcd(0x722)][_0x2b1bcd(0x618)](_0x56ecb0=>_0x56ecb0&&_0x22a780['varedit']&&_0x56ecb0[_0x2b1bcd(0x5fb)]&&_0x22a780[_0x2b1bcd(0x6b2)]['_id']&&_0x56ecb0[_0x2b1bcd(0x5fb)][_0x2b1bcd(0x594)]()!==_0x22a780['varedit'][_0x2b1bcd(0x5fb)][_0x2b1bcd(0x594)]()),_0x3ec8f6=!0x0;else{let _0x317bb7=_0x411dc9[_0x2b1bcd(0x722)][_0x2b1bcd(0x6b1)](_0x29ec84=>_0x29ec84&&_0x22a780[_0x2b1bcd(0x6b2)]&&_0x29ec84[_0x2b1bcd(0x5fb)]&&_0x22a780[_0x2b1bcd(0x6b2)]['_id']&&_0x29ec84[_0x2b1bcd(0x5fb)][_0x2b1bcd(0x594)]()===_0x22a780['varedit'][_0x2b1bcd(0x5fb)][_0x2b1bcd(0x594)]());_0x317bb7?(_0x3ec8f6=_0x317bb7['order']!==_0x22a780['varedit'][_0x2b1bcd(0x6e0)],Object['assign'](_0x317bb7,_0x22a780[_0x2b1bcd(0x6b2)])):(_0x411dc9[_0x2b1bcd(0x722)]['push'](_0x22a780[_0x2b1bcd(0x6b2)]),_0x3ec8f6=!0x0);}if(_0x3ec8f6){_0x411dc9[_0x2b1bcd(0x722)][_0x2b1bcd(0x6ca)]((_0x1262e7,_0x4315a2)=>_0x1262e7[_0x2b1bcd(0x6e0)]>_0x4315a2[_0x2b1bcd(0x6e0)]?0x1:_0x4315a2[_0x2b1bcd(0x6e0)]>_0x1262e7[_0x2b1bcd(0x6e0)]?-0x1:0x0);for(let _0xfe95ae=0x0;_0xfe95ae<_0x411dc9[_0x2b1bcd(0x722)][_0x2b1bcd(0x728)];_0xfe95ae++)_0x411dc9['varedits'][_0xfe95ae][_0x2b1bcd(0x6e0)]=_0xfe95ae+0x1;}return await _0x411dc9['save'](),_0x411dc9;}catch(_0x3e0125){throw this[_0x2b1bcd(0x223)]['error'](this[_0x2b1bcd(0x4b3)]+'\x20('+this['instance'][_0x2b1bcd(0x72c)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+JSON[_0x2b1bcd(0x286)](_0x3e0125,null,0x2)),new g(_0x2b1bcd(0x2c9)+_0x3e0125);}}async[a0_0x4e6726(0x773)](_0x4521a6){const _0x4fcb67=a0_0x4e6726;try{this[_0x4fcb67(0x223)]['verbose'](this[_0x4fcb67(0x4b3)]+'\x20('+this['instance'][_0x4fcb67(0x72c)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x5c546a={'owner':this[_0x4fcb67(0x49e)][_0x4fcb67(0x72c)],'name':_0x4521a6[_0x4fcb67(0x5a6)]},_0x3879cd=await I[_0x4fcb67(0x350)](_0x5c546a);if(!_0x3879cd)throw new Error('Flow\x20não\x20encontrado');_0x4521a6[_0x4fcb67(0x22c)][_0x4fcb67(0x5a6)]=_0x4521a6[_0x4fcb67(0x22c)][_0x4fcb67(0x5a6)][_0x4fcb67(0x3e4)](),_0x4521a6[_0x4fcb67(0x22c)][_0x4fcb67(0x5a6)][_0x4fcb67(0x600)]('_')&&(_0x4521a6[_0x4fcb67(0x22c)]['name']=_0x4521a6[_0x4fcb67(0x22c)][_0x4fcb67(0x5a6)]['substring'](0x1)),_0x4521a6[_0x4fcb67(0x22c)][_0x4fcb67(0x5a6)]=_0x4521a6[_0x4fcb67(0x22c)][_0x4fcb67(0x5a6)][_0x4fcb67(0x3e4)]();let _0x26638b=_0x3879cd[_0x4fcb67(0x74c)]['find'](_0x28cff5=>_0x28cff5[_0x4fcb67(0x5a6)]===_0x4521a6[_0x4fcb67(0x22c)][_0x4fcb67(0x5a6)]);if(_0x26638b?.[_0x4fcb67(0x5fd)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x4521a6[_0x4fcb67(0x22c)]?.[_0x4fcb67(0x5f6)]===!0x0){if(!_0x26638b)return{'message':'Variável\x20não\x20encontrada!'};_0x3879cd[_0x4fcb67(0x74c)]=_0x3879cd[_0x4fcb67(0x74c)][_0x4fcb67(0x618)](_0x2e44fe=>_0x2e44fe[_0x4fcb67(0x5a6)]!==_0x4521a6[_0x4fcb67(0x22c)][_0x4fcb67(0x5a6)]);}else _0x26638b?Object['assign'](_0x26638b,_0x4521a6[_0x4fcb67(0x22c)]):_0x3879cd[_0x4fcb67(0x74c)][_0x4fcb67(0x73c)](_0x4521a6[_0x4fcb67(0x22c)]);return await _0x3879cd['save'](),_0x3879cd;}catch(_0x5d6d85){throw this[_0x4fcb67(0x223)]['error'](this[_0x4fcb67(0x4b3)]+'\x20('+this[_0x4fcb67(0x49e)][_0x4fcb67(0x72c)]+_0x4fcb67(0x213)+JSON['stringify'](_0x5d6d85,null,0x2)),new g(_0x4fcb67(0x4f6)+JSON['stringify'](_0x5d6d85,null,0x2));}}async[a0_0x4e6726(0x650)](_0x5393a6){const _0x1e8fed=a0_0x4e6726;let _0x7cde60=null;try{if(!this[_0x1e8fed(0x560)]?.[_0x1e8fed(0x71a)][_0x1e8fed(0x428)])throw new g('Fluxos\x20não\x20estão\x20ativados');this[_0x1e8fed(0x223)]['verbose'](this['instanceName']+'\x20('+this[_0x1e8fed(0x49e)][_0x1e8fed(0x72c)]+_0x1e8fed(0x672));let _0x5dcf84=(await this[_0x1e8fed(0x5e1)]({'numbers':[_0x5393a6[_0x1e8fed(0x719)]]}))[0x0];if(!_0x5dcf84[_0x1e8fed(0x5fe)]&&!(0x0,w[_0x1e8fed(0x797)])(_0x5dcf84[_0x1e8fed(0x647)])&&!_0x5dcf84[_0x1e8fed(0x647)][_0x1e8fed(0x351)](_0x1e8fed(0x393)))throw _0x7cde60=JSON[_0x1e8fed(0x286)](_0x5dcf84,null,0x2),new g(_0x5dcf84);let _0x54408e=await I[_0x1e8fed(0x350)]({'owner':this[_0x1e8fed(0x49e)][_0x1e8fed(0x72c)],'name':_0x5393a6[_0x1e8fed(0x5a6)]});if(!_0x54408e)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x1e8fed(0x49e)]['wuid']+'):\x20Flow\x20não\x20encontrado'),{'message':_0x1e8fed(0x675)};let _0x2995b4=await this[_0x1e8fed(0x43f)](_0x54408e,_0x5dcf84[_0x1e8fed(0x647)],_0x5393a6[_0x1e8fed(0x5f8)]);if(_0x2995b4){this[_0x1e8fed(0x223)]['verbose'](this[_0x1e8fed(0x4b3)]+'\x20('+this[_0x1e8fed(0x49e)][_0x1e8fed(0x72c)]+_0x1e8fed(0x590));let _0x56ea6d=await this[_0x1e8fed(0x372)](_0x2995b4);return _0x56ea6d&&await this[_0x1e8fed(0x437)](_0x2995b4,_0x56ea6d),{'message':_0x1e8fed(0x371)+_0x5393a6[_0x1e8fed(0x719)]};}}catch(_0x243552){if(this[_0x1e8fed(0x223)][_0x1e8fed(0x4be)](this['instanceName']+'\x20('+this[_0x1e8fed(0x49e)][_0x1e8fed(0x72c)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+JSON[_0x1e8fed(0x286)](_0x243552,null,0x2)),_0x7cde60=JSON[_0x1e8fed(0x286)](_0x243552,null,0x2),_0x7cde60)throw new g(_0x1e8fed(0x5e9)+_0x7cde60);}}async[a0_0x4e6726(0x47e)](_0x4f5a23){const _0x19eba5=a0_0x4e6726;let _0x33b860=await U[_0x19eba5(0x5a0)]({'owner':this[_0x19eba5(0x49e)][_0x19eba5(0x72c)],'remoteJid':_0x4f5a23,'status':'open'},{'$set':{'status':_0x19eba5(0x490)}});return this[_0x19eba5(0x223)]['verbose'](this[_0x19eba5(0x4b3)]+'\x20('+this[_0x19eba5(0x49e)][_0x19eba5(0x72c)]+_0x19eba5(0x4af)),_0x33b860;}async[a0_0x4e6726(0x43f)](_0x51a3b2,_0x468376,_0x535045){const _0x417608=a0_0x4e6726;this['logger'][_0x417608(0x217)](this[_0x417608(0x4b3)]+'\x20('+this[_0x417608(0x49e)][_0x417608(0x72c)]+'):\x20Criando\x20nova\x20conversa'),await this[_0x417608(0x47e)](_0x468376);try{let _0x4342ca=require(_0x417608(0x511))['ObjectId'],_0x34341c=Date[_0x417608(0x2dd)](),_0x4e90b8='start',_0x2eefdb={},_0x11f4df={},_0x33878b={..._0x51a3b2[_0x417608(0x6ff)],'chatLog':null},_0x6ecca2=await this[_0x417608(0x59f)](_0x33878b[_0x417608(0x74c)]),_0x32b261=await this[_0x417608(0x203)](_0x468376),_0x5b6a87={..._0x6ecca2,..._0x32b261,'_remoteJid':_0x468376},_0x32fa2b={'lastReceivedMessage':_0x2eefdb,'lastSendMessage':_0x11f4df,'lastBlockId':_0x4e90b8,'lastCondition':!0x0,'realVariables':_0x5b6a87};_0x33878b['chatLog']=_0x32fa2b,_0x33878b[_0x417608(0x683)][_0x417608(0x57f)]={..._0x5b6a87,..._0x535045},delete _0x33878b['_id'],_0x33878b[_0x417608(0x5fb)]=new _0x4342ca(),_0x33878b[_0x417608(0x701)]=_0x34341c,_0x33878b['status']='open',_0x33878b[_0x417608(0x719)]=_0x468376;let _0x58ccc0=await U[_0x417608(0x1ab)](_0x33878b);return this[_0x417608(0x223)][_0x417608(0x217)](this['instanceName']+'\x20('+this[_0x417608(0x49e)][_0x417608(0x72c)]+_0x417608(0x442)),_0x58ccc0?_0x33878b:null;}catch(_0x441286){throw this[_0x417608(0x223)]['error'](this[_0x417608(0x4b3)]+'\x20('+this[_0x417608(0x49e)][_0x417608(0x72c)]+_0x417608(0x4cb)+(_0x441286 instanceof Error?_0x441286[_0x417608(0x46a)]:JSON[_0x417608(0x286)](_0x441286,null,0x2))),new g(_0x441286[_0x417608(0x46a)]);}}async[a0_0x4e6726(0x348)](_0x1ff8cf){const _0x532eb9=a0_0x4e6726;try{return this['logger']['verbose'](this[_0x532eb9(0x4b3)]+'\x20('+this[_0x532eb9(0x49e)]['wuid']+_0x532eb9(0x3a2)),this[_0x532eb9(0x223)][_0x532eb9(0x217)](this[_0x532eb9(0x4b3)]+'\x20('+this[_0x532eb9(0x49e)][_0x532eb9(0x72c)]+_0x532eb9(0x3bf)+{'owner':this['instance'][_0x532eb9(0x72c)],'_id':_0x1ff8cf}),await U[_0x532eb9(0x350)]({'owner':this[_0x532eb9(0x49e)]['wuid'],'_id':_0x1ff8cf});}catch(_0x229fb5){throw this[_0x532eb9(0x223)]['error'](this[_0x532eb9(0x4b3)]+'\x20('+this[_0x532eb9(0x49e)][_0x532eb9(0x72c)]+_0x532eb9(0x259)+JSON[_0x532eb9(0x286)](_0x229fb5,null,0x2)),new g('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x229fb5[_0x532eb9(0x46a)]);}}async[a0_0x4e6726(0x5db)](_0x403556,_0x36fc52=0x64){const _0x43dda5=a0_0x4e6726;try{this[_0x43dda5(0x223)][_0x43dda5(0x217)](this[_0x43dda5(0x4b3)]+'\x20('+this[_0x43dda5(0x49e)][_0x43dda5(0x72c)]+'):\x20Buscando\x20conversas...');let _0x1bac0a={..._0x403556,'owner':this['instance'][_0x43dda5(0x72c)]};return this[_0x43dda5(0x223)][_0x43dda5(0x217)](_0x1bac0a),await U[_0x43dda5(0x6b1)](_0x1bac0a)[_0x43dda5(0x51f)](_0x36fc52)[_0x43dda5(0x6ca)]({'lastInteraction':-0x1});}catch(_0x477d8a){throw this[_0x43dda5(0x223)]['error'](this[_0x43dda5(0x4b3)]+'\x20('+this[_0x43dda5(0x49e)][_0x43dda5(0x72c)]+_0x43dda5(0x31e)+JSON['stringify'](_0x477d8a,null,0x2)),new g(_0x43dda5(0x6c3)+_0x477d8a[_0x43dda5(0x46a)]);}}async['deleteConversation'](_0x13cca3){const _0x38683d=a0_0x4e6726;try{return this[_0x38683d(0x223)][_0x38683d(0x217)](this[_0x38683d(0x4b3)]+'\x20('+this[_0x38683d(0x49e)][_0x38683d(0x72c)]+'):\x20Deletando\x20conversa...'),this['logger'][_0x38683d(0x217)](this['instanceName']+'\x20('+this[_0x38683d(0x49e)][_0x38683d(0x72c)]+'):\x20Query\x20params:'+{'owner':this[_0x38683d(0x49e)]['wuid'],'_id':_0x13cca3}),(await U[_0x38683d(0x6b5)]({'owner':this[_0x38683d(0x49e)][_0x38683d(0x72c)],'_id':_0x13cca3}))[_0x38683d(0x53b)]===0x0?{'message':_0x38683d(0x658)}:{'message':_0x38683d(0x486)};}catch(_0x386165){throw this['logger'][_0x38683d(0x4be)](this['instanceName']+'\x20('+this[_0x38683d(0x49e)][_0x38683d(0x72c)]+_0x38683d(0x461)+JSON[_0x38683d(0x286)](_0x386165,null,0x2)),new g(_0x38683d(0x58f)+_0x386165[_0x38683d(0x46a)]);}}async['editConversation'](_0x81eef5){const _0x2abb94=a0_0x4e6726;try{let {_id:_0x434b44,chatLog:_0x27edd5,status:_0x1052fe}=_0x81eef5;if(!_0x434b44)return{'message':_0x2abb94(0x6d4)};let _0x1bcb83={};if(_0x1052fe!==void 0x0&&(_0x1bcb83[_0x2abb94(0x23b)]=_0x1052fe),Object[_0x2abb94(0x2d7)](_0x1bcb83)[_0x2abb94(0x728)]===0x0)return{'message':_0x2abb94(0x69c)};let _0x429b89=this[_0x2abb94(0x49e)]['wuid'],_0x2532c8=await U[_0x2abb94(0x421)]({'_id':_0x434b44,'owner':_0x429b89},{'$set':_0x1bcb83},{'new':!0x0});return _0x2532c8||{'message':_0x2abb94(0x79b)};}catch(_0xce1df){throw this[_0x2abb94(0x223)][_0x2abb94(0x4be)](this[_0x2abb94(0x4b3)]+'\x20('+this[_0x2abb94(0x49e)][_0x2abb94(0x72c)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+JSON[_0x2abb94(0x286)](_0xce1df,null,0x2)),new g('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0xce1df[_0x2abb94(0x46a)]);}}async['editChat'](_0x488053){const _0x2967f1=a0_0x4e6726;try{_0x488053[_0x2967f1(0x5fb)]=this[_0x2967f1(0x5f3)](_0x488053[_0x2967f1(0x5fb)]);let {_id:_0x4d407d,leadInfo:_0xaf0357}=_0x488053;if(!_0x4d407d)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');let _0x507679=(_0x1a89a9,_0x20d687,_0x3dd686)=>{const _0x5f5192=_0x2967f1;_0x3dd686[_0x5f5192(0x655)](_0x33ab74=>{_0x1a89a9[_0x33ab74]!==void 0x0&&(_0x20d687['leadInfo.'+_0x33ab74]=_0x1a89a9[_0x33ab74]);});},_0x50346c={};if(_0x507679(_0xaf0357,_0x50346c,[_0x2967f1(0x460),'nomecompleto','email',_0x2967f1(0x25d),_0x2967f1(0x23b),_0x2967f1(0x295),_0x2967f1(0x336),_0x2967f1(0x524),_0x2967f1(0x468)]),Array[_0x2967f1(0x245)](_0xaf0357[_0x2967f1(0x795)])&&(_0x50346c[_0x2967f1(0x42f)]=_0xaf0357[_0x2967f1(0x795)][_0x2967f1(0x3cf)](_0x119ea4=>({'_id':_0x119ea4[_0x2967f1(0x5fb)],'value':_0x119ea4[_0x2967f1(0x666)]}))),_0x488053['leadInfo'][_0x2967f1(0x397)]!==void 0x0&&(_0x50346c[_0x2967f1(0x545)]=Number(_0x488053[_0x2967f1(0x5fd)][_0x2967f1(0x397)])),_0x488053[_0x2967f1(0x3ab)]!==void 0x0&&(_0x50346c[_0x2967f1(0x3ab)]=Number(_0x488053[_0x2967f1(0x3ab)])),Object[_0x2967f1(0x2d7)](_0x50346c)[_0x2967f1(0x728)]===0x0)throw new Error(_0x2967f1(0x69c));let _0x4f494=this[_0x2967f1(0x49e)][_0x2967f1(0x72c)];if(!_0x4f494)throw new Error('Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.');if(!await this[_0x2967f1(0x458)][_0x2967f1(0x2d6)]['findOne']({'where':{'_id':_0x488053[_0x2967f1(0x5fb)],'owner':_0x4f494}})){let _0x51953a=(await this[_0x2967f1(0x5e1)]({'numbers':[_0x488053['_id']]}))[0x0];if(!_0x51953a[_0x2967f1(0x5fe)]&&!(0x0,w['isJidGroup'])(_0x51953a['jid'])&&!_0x51953a['jid'][_0x2967f1(0x351)]('@broadcast'))throw new g(_0x51953a);_0x488053['_id']=_0x51953a[_0x2967f1(0x647)];}let _0x20c962=await this['repository'][_0x2967f1(0x2d6)][_0x2967f1(0x617)]({'where':{'_id':_0x488053['_id'],'owner':_0x4f494}},_0x50346c);return _0x20c962&&q(this[_0x2967f1(0x4b3)],'chats',{'chat':_0x20c962}),_0x20c962?(this[_0x2967f1(0x223)][_0x2967f1(0x217)](this[_0x2967f1(0x4b3)]+'\x20('+this[_0x2967f1(0x49e)][_0x2967f1(0x72c)]+_0x2967f1(0x2ad)+_0x20c962),_0x20c962):{'message':_0x2967f1(0x280)};}catch(_0x290a01){throw this[_0x2967f1(0x223)][_0x2967f1(0x4be)](this['instanceName']+'\x20('+this[_0x2967f1(0x49e)][_0x2967f1(0x72c)]+_0x2967f1(0x3a8)+JSON[_0x2967f1(0x286)](_0x290a01,null,0x2)),new g(_0x2967f1(0x32e)+_0x290a01[_0x2967f1(0x46a)]);}}async[a0_0x4e6726(0x4d4)](_0x2273d8){const _0x3bbbf8=a0_0x4e6726;let _0x4bff76=this['instance'][_0x3bbbf8(0x72c)];try{let _0x2ab55f=await ae['findById'](_0x4bff76);_0x2ab55f||(_0x2ab55f=new ae({'_id':_0x4bff76}),await _0x2ab55f[_0x3bbbf8(0x403)]());let _0x57df68=_0x2273d8['_id']?_0x2ab55f[_0x3bbbf8(0x626)][_0x3bbbf8(0x575)](_0x8ffa02=>_0x8ffa02[_0x3bbbf8(0x5fb)]===_0x2273d8['_id']):-0x1;if(_0x2273d8[_0x3bbbf8(0x5f6)]&&_0x57df68>-0x1)_0x2ab55f[_0x3bbbf8(0x626)][_0x3bbbf8(0x4ae)](_0x57df68,0x1);else{if(_0x57df68>-0x1){let _0x396fb6=_0x2ab55f[_0x3bbbf8(0x626)][_0x57df68];_0x2273d8['fone']&&(_0x396fb6[_0x3bbbf8(0x64b)]=_0x2273d8[_0x3bbbf8(0x64b)]),_0x2273d8[_0x3bbbf8(0x5a6)]&&(_0x396fb6['name']=_0x2273d8['name']),_0x2273d8[_0x3bbbf8(0x315)]&&(_0x396fb6[_0x3bbbf8(0x315)]=_0x2273d8[_0x3bbbf8(0x315)]),_0x2273d8[_0x3bbbf8(0x775)]&&(_0x396fb6['role']=_0x2273d8['role']);}else _0x2ab55f['agents']['push']({'_id':_0x2273d8[_0x3bbbf8(0x5fb)]||new pe[(_0x3bbbf8(0x38c))][(_0x3bbbf8(0x660))]['ObjectId']()[_0x3bbbf8(0x594)](),'fone':_0x2273d8['fone'],'name':_0x2273d8[_0x3bbbf8(0x5a6)],'email':_0x2273d8[_0x3bbbf8(0x315)],'role':_0x2273d8[_0x3bbbf8(0x775)]});}let _0x7635cd=await _0x2ab55f[_0x3bbbf8(0x403)]();return this[_0x3bbbf8(0x560)]=_0x7635cd,this[_0x3bbbf8(0x223)][_0x3bbbf8(0x217)](this[_0x3bbbf8(0x4b3)]+'\x20('+this[_0x3bbbf8(0x49e)][_0x3bbbf8(0x72c)]+_0x3bbbf8(0x4d6)),this['logger'][_0x3bbbf8(0x217)](this['instanceName']+'\x20('+this['instance'][_0x3bbbf8(0x72c)]+_0x3bbbf8(0x2ad)+this[_0x3bbbf8(0x560)]),_0x7635cd;}catch(_0x39856b){throw this['logger'][_0x3bbbf8(0x4be)](this[_0x3bbbf8(0x4b3)]+'\x20('+this[_0x3bbbf8(0x49e)][_0x3bbbf8(0x72c)]+_0x3bbbf8(0x2c6)+(_0x39856b instanceof Error?_0x39856b[_0x3bbbf8(0x46a)]:JSON[_0x3bbbf8(0x286)](_0x39856b,null,0x2))),new g(_0x3bbbf8(0x256)+_0x39856b[_0x3bbbf8(0x46a)]);}}async['updateCustomFields'](_0x1e2173){const _0x57c44c=a0_0x4e6726;let _0x876077=this[_0x57c44c(0x49e)][_0x57c44c(0x72c)];try{let _0x451dc4=await ae[_0x57c44c(0x774)](_0x876077);_0x451dc4||(_0x451dc4=new ae({'_id':_0x876077}),await _0x451dc4['save']());let _0x5ad0b2=_0x1e2173[_0x57c44c(0x5fb)]?_0x451dc4[_0x57c44c(0x795)][_0x57c44c(0x575)](_0x51905b=>_0x51905b[_0x57c44c(0x5fb)]===_0x1e2173[_0x57c44c(0x5fb)]):-0x1,_0x1126b4=!0x1,_0x5f0f42=_0x451dc4['customFields'][_0x57c44c(0x447)](_0x272b56=>_0x272b56[_0x57c44c(0x6e0)]===_0x1e2173[_0x57c44c(0x6e0)]);if(_0x1e2173[_0x57c44c(0x5f6)]&&_0x5ad0b2>-0x1)_0x451dc4[_0x57c44c(0x795)][_0x57c44c(0x4ae)](_0x5ad0b2,0x1),_0x1126b4=!0x0;else{if(_0x5ad0b2>-0x1){if(_0x451dc4[_0x57c44c(0x795)][_0x57c44c(0x447)](_0x25b372=>_0x25b372[_0x57c44c(0x5a6)]===_0x1e2173[_0x57c44c(0x5a6)]&&_0x25b372[_0x57c44c(0x5fb)]!==_0x1e2173[_0x57c44c(0x5fb)]))throw new Error(_0x57c44c(0x752));let _0x39a79e=_0x451dc4['customFields'][_0x5ad0b2];_0x1e2173[_0x57c44c(0x6e0)]&&(_0x5f0f42||!Number['isInteger'](_0x1e2173['order']))&&(_0x39a79e[_0x57c44c(0x6e0)]=_0x1e2173[_0x57c44c(0x6e0)],_0x1126b4=!0x0),_0x1e2173['name']&&(_0x39a79e[_0x57c44c(0x5a6)]=_0x1e2173['name']);}else{if(_0x451dc4['customFields'][_0x57c44c(0x447)](_0x5799f4=>_0x5799f4[_0x57c44c(0x5a6)]===_0x1e2173['name']&&_0x5799f4[_0x57c44c(0x5fb)]!==_0x1e2173[_0x57c44c(0x5fb)]))throw new Error(_0x57c44c(0x752));_0x451dc4['customFields'][_0x57c44c(0x73c)]({'_id':_0x1e2173[_0x57c44c(0x5fb)]||new pe['default'][(_0x57c44c(0x660))][(_0x57c44c(0x1f4))]()[_0x57c44c(0x594)](),'order':_0x1e2173[_0x57c44c(0x6e0)],'name':_0x1e2173['name']}),_0x1126b4=!0x0;}}if(_0x1126b4){_0x451dc4[_0x57c44c(0x795)][_0x57c44c(0x6ca)]((_0xf29036,_0x4d54d2)=>_0xf29036['order']>_0x4d54d2[_0x57c44c(0x6e0)]?0x1:_0x4d54d2[_0x57c44c(0x6e0)]>_0xf29036[_0x57c44c(0x6e0)]?-0x1:0x0);for(let _0xc31167=0x0;_0xc31167<_0x451dc4[_0x57c44c(0x795)][_0x57c44c(0x728)];_0xc31167++)_0x451dc4[_0x57c44c(0x795)][_0xc31167][_0x57c44c(0x6e0)]=_0xc31167+0x1;}let _0x20e5f7=await _0x451dc4[_0x57c44c(0x403)]();return this[_0x57c44c(0x560)]=_0x20e5f7,this[_0x57c44c(0x223)][_0x57c44c(0x217)](this['instanceName']+'\x20('+this[_0x57c44c(0x49e)][_0x57c44c(0x72c)]+_0x57c44c(0x1d6)),this[_0x57c44c(0x223)]['verbose'](this[_0x57c44c(0x4b3)]+'\x20('+this['instance'][_0x57c44c(0x72c)]+'):\x20'+this[_0x57c44c(0x560)]),_0x20e5f7;}catch(_0x3a117e){throw this[_0x57c44c(0x223)][_0x57c44c(0x4be)](this[_0x57c44c(0x4b3)]+'\x20('+this[_0x57c44c(0x49e)][_0x57c44c(0x72c)]+_0x57c44c(0x5a7)+(_0x3a117e instanceof Error?_0x3a117e['message']:JSON['stringify'](_0x3a117e,null,0x2))),new g('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x3a117e[_0x57c44c(0x46a)]);}}async[a0_0x4e6726(0x20d)](_0x374b40){const _0x407afe=a0_0x4e6726;let _0x658d51=this[_0x407afe(0x49e)][_0x407afe(0x72c)];try{let _0x207946=await ae[_0x407afe(0x774)](_0x658d51);_0x207946||(_0x207946=new ae({'_id':_0x658d51}),await _0x207946[_0x407afe(0x403)]()),_0x207946[_0x407afe(0x71a)]['enabled']=_0x374b40?.['enabled']!==void 0x0?_0x374b40?.[_0x407afe(0x428)]:_0x207946[_0x407afe(0x71a)][_0x407afe(0x428)],_0x207946[_0x407afe(0x71a)][_0x407afe(0x779)]=_0x374b40?.['ignoreGroups']!==void 0x0?_0x374b40?.[_0x407afe(0x779)]:_0x207946['flowConfig'][_0x407afe(0x779)],_0x207946[_0x407afe(0x71a)][_0x407afe(0x448)]=_0x374b40?.[_0x407afe(0x448)]??_0x207946[_0x407afe(0x71a)][_0x407afe(0x448)],_0x207946['flowConfig']['stopConversation']=_0x374b40?.[_0x407afe(0x73f)]??_0x207946[_0x407afe(0x71a)][_0x407afe(0x73f)],_0x207946[_0x407afe(0x71a)][_0x407afe(0x44c)]=_0x374b40?.[_0x407afe(0x44c)]??_0x207946[_0x407afe(0x71a)][_0x407afe(0x44c)];let _0x4c73b0=await _0x207946[_0x407afe(0x403)]();return this[_0x407afe(0x560)]=_0x4c73b0,this[_0x407afe(0x223)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x407afe(0x72c)]+_0x407afe(0x4d6)),this[_0x407afe(0x223)]['verbose'](this[_0x407afe(0x4b3)]+'\x20('+this[_0x407afe(0x49e)]['wuid']+_0x407afe(0x2ad)+this['AutomateSystem']),setTimeout(()=>this[_0x407afe(0x640)](),0x7d0),_0x4c73b0;}catch(_0xa6f23d){throw this[_0x407afe(0x223)]['error'](this[_0x407afe(0x4b3)]+'\x20('+this['instance']['wuid']+_0x407afe(0x2c6)+(_0xa6f23d instanceof Error?_0xa6f23d[_0x407afe(0x46a)]:JSON[_0x407afe(0x286)](_0xa6f23d,null,0x2))),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0xa6f23d[_0x407afe(0x46a)]);}}async[a0_0x4e6726(0x606)](){const _0x41f055=a0_0x4e6726;let _0x5d14b5=this[_0x41f055(0x49e)][_0x41f055(0x72c)];try{let _0x2243b1=await ae[_0x41f055(0x774)](_0x5d14b5);return _0x2243b1||(_0x2243b1=new ae({'_id':_0x5d14b5})),_0x2243b1['flowConfig']=_0x2243b1[_0x41f055(0x71a)]||{},_0x2243b1['flowConfig'][_0x41f055(0x428)]===void 0x0&&(_0x2243b1[_0x41f055(0x71a)][_0x41f055(0x428)]=!0x1),_0x2243b1[_0x41f055(0x71a)]['ignoreGroups']===void 0x0&&(_0x2243b1[_0x41f055(0x71a)][_0x41f055(0x779)]=!0x0),_0x2243b1['flowConfig'][_0x41f055(0x448)]===void 0x0&&(_0x2243b1[_0x41f055(0x71a)][_0x41f055(0x448)]='!'),_0x2243b1[_0x41f055(0x71a)][_0x41f055(0x73f)]===void 0x0&&(_0x2243b1[_0x41f055(0x71a)]['stopConversation']=_0x41f055(0x4b9)),_0x2243b1[_0x41f055(0x71a)][_0x41f055(0x44c)]===void 0x0&&(_0x2243b1['flowConfig'][_0x41f055(0x44c)]=0x14),await _0x2243b1[_0x41f055(0x403)](),this['AutomateSystem']=_0x2243b1,this[_0x41f055(0x223)][_0x41f055(0x217)](this[_0x41f055(0x4b3)]+'\x20('+this[_0x41f055(0x49e)][_0x41f055(0x72c)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x41f055(0x223)][_0x41f055(0x217)](this['AutomateSystem']),_0x2243b1;}catch(_0x703ac2){throw this[_0x41f055(0x223)]['error'](this[_0x41f055(0x4b3)]+'\x20('+this[_0x41f055(0x49e)][_0x41f055(0x72c)]+_0x41f055(0x325)+(_0x703ac2 instanceof Error?_0x703ac2[_0x41f055(0x46a)]:JSON[_0x41f055(0x286)](_0x703ac2,null,0x2))),new g(_0x41f055(0x2f0)+_0x703ac2['message']);}}async['setRestartTimer'](){const _0x4b8f88=a0_0x4e6726;this[_0x4b8f88(0x567)]&&clearTimeout(this[_0x4b8f88(0x567)]),this['timerId']=setTimeout(()=>{const _0x5ccbdb=_0x4b8f88;this[_0x5ccbdb(0x4bb)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x4e6726(0x4bb)](){const _0x2bf5fc=a0_0x4e6726;Date['now']()-this[_0x2bf5fc(0x20e)]>=0x1d4c0&&(this[_0x2bf5fc(0x223)][_0x2bf5fc(0x217)](this[_0x2bf5fc(0x4b3)]+'\x20('+this['instance'][_0x2bf5fc(0x72c)]+_0x2bf5fc(0x3ac)),this[_0x2bf5fc(0x536)]=null,this['lastSend']=0x0,this[_0x2bf5fc(0x40c)]=0x0,await this[_0x2bf5fc(0x640)]());}async[a0_0x4e6726(0x640)](){const _0x35c3f9=a0_0x4e6726;let _0x1bd4c9=()=>{const _0x4f2b8d=a0_0x2c93;this['logger'][_0x4f2b8d(0x217)](this['instanceName']+'\x20('+this[_0x4f2b8d(0x49e)][_0x4f2b8d(0x72c)]+_0x4f2b8d(0x652)+this[_0x4f2b8d(0x536)]+_0x4f2b8d(0x746));},_0xdad9ca=async()=>{const _0x2b83f7=a0_0x2c93;this['logger']['verbose'](this[_0x2b83f7(0x4b3)]+'\x20('+this[_0x2b83f7(0x49e)][_0x2b83f7(0x72c)]+_0x2b83f7(0x363));let _0x3f42b1=Date['now']()-0xc*0x3c*0x3c*0x3e8;return await J[_0x2b83f7(0x6b1)]({'owner':this[_0x2b83f7(0x49e)][_0x2b83f7(0x72c)],'status':{'$in':['scheduled','sending']},'$or':[{'when':{'$lte':Date[_0x2b83f7(0x2dd)](),'$gte':_0x3f42b1}},{'when':0x0}]});},_0x24f83c=async _0xfac8e0=>{const _0x818b18=a0_0x2c93;for(let _0x4455af of _0xfac8e0){if(!await J[_0x818b18(0x421)]({'_id':_0x4455af[_0x818b18(0x5fb)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x818b18(0x2dd)]()-0x1770}}]},{'$set':{'startSend':Date[_0x818b18(0x2dd)]()}}))return;if(!this[_0x818b18(0x422)]){this[_0x818b18(0x223)][_0x818b18(0x217)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x818b18(0x52c));break;}if(_0x4455af['type']===_0x818b18(0x1d8)&&!this[_0x818b18(0x560)]?.[_0x818b18(0x71a)][_0x818b18(0x428)]){this[_0x818b18(0x223)]['error'](this[_0x818b18(0x4b3)]+'\x20('+this['instance'][_0x818b18(0x72c)]+_0x818b18(0x341));continue;}(!_0x4455af[_0x818b18(0x5b7)]||_0x4455af[_0x818b18(0x5b7)][_0x818b18(0x728)]===0x0)&&(_0x4455af=await J[_0x818b18(0x791)](_0x4455af[_0x818b18(0x5fb)],{'$set':{'status':_0x818b18(0x483),'remoteJidsRemaining':[..._0x4455af['remoteJids']]}},{'new':!0x0}));for(let _0xda3c72 of _0x4455af['remoteJidsRemaining']){if(await this['setRestartTimer'](),this['lastSend']=Date[_0x818b18(0x2dd)](),_0x4455af['messagesSend'][_0x818b18(0x447)](_0x2dbd63=>_0x2dbd63[_0x818b18(0x719)]===_0xda3c72)){this[_0x818b18(0x223)][_0x818b18(0x217)](this[_0x818b18(0x4b3)]+'\x20('+this[_0x818b18(0x49e)][_0x818b18(0x72c)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0xda3c72+_0x818b18(0x401));continue;}if(!this[_0x818b18(0x422)]){this[_0x818b18(0x223)][_0x818b18(0x217)](this[_0x818b18(0x4b3)]+'\x20('+this[_0x818b18(0x49e)][_0x818b18(0x72c)]+_0x818b18(0x5e4));break;}if(!this[_0x818b18(0x536)]){this[_0x818b18(0x223)][_0x818b18(0x217)](this['instanceName']+'\x20('+this[_0x818b18(0x49e)][_0x818b18(0x72c)]+_0x818b18(0x1ea)+_0x4455af[_0x818b18(0x5fb)]+_0x818b18(0x4b8));break;}if(_0x4455af['type']===_0x818b18(0x1d8)&&!this[_0x818b18(0x560)]?.[_0x818b18(0x71a)]['enabled']){this[_0x818b18(0x223)][_0x818b18(0x4be)](this[_0x818b18(0x4b3)]+'\x20('+this[_0x818b18(0x49e)]['wuid']+_0x818b18(0x341));break;}try{let _0x9ad586=await this[_0x818b18(0x2ca)](_0xda3c72,_0x4455af),_0x4e5f4b=_0x9ad586[_0x818b18(0x4be)]===!0x0,_0x32c2a2={'remoteJid':_0xda3c72,'error':_0x4e5f4b,'id':_0x4e5f4b?null:_0x9ad586['id'],'error_log':_0x4e5f4b?_0x9ad586[_0x818b18(0x588)]?_0x9ad586['detail'][_0x818b18(0x594)]():'':null,'log_timestamp':Date['now']()};if((await J['findByIdAndUpdate'](_0x4455af[_0x818b18(0x5fb)],{'$push':{'messagesSend':_0x32c2a2},'$pull':{'remoteJidsRemaining':_0xda3c72}},{'new':!0x0}))[_0x818b18(0x23b)]===_0x818b18(0x2df)){this['logger'][_0x818b18(0x217)](this['instanceName']+'\x20('+this[_0x818b18(0x49e)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x4455af[_0x818b18(0x5fb)]+_0x818b18(0x241));break;}if(_0x4e5f4b)continue;let _0x100ea2=this[_0x818b18(0x53c)](_0x4455af[_0x818b18(0x4c7)],_0x4455af[_0x818b18(0x386)]);await this[_0x818b18(0x5bc)](_0x100ea2);}catch(_0x11d10d){this[_0x818b18(0x223)][_0x818b18(0x4be)](this[_0x818b18(0x4b3)]+'\x20('+this[_0x818b18(0x49e)][_0x818b18(0x72c)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0xda3c72+':\x20'+(_0x11d10d instanceof Error?_0x11d10d['message']:JSON[_0x818b18(0x286)](_0x11d10d,null,0x2)));let _0x540366={'remoteJid':_0xda3c72,'error':!0x0,'id':null,'error_log':_0x11d10d[_0x818b18(0x46a)],'log_timestamp':Date[_0x818b18(0x2dd)]()};await J[_0x818b18(0x791)](_0x4455af['_id'],{'$push':{'messagesSend':_0x540366},'$pull':{'remoteJidsRemaining':_0xda3c72}},{'new':!0x0});}}let _0x3e8196=await J['findById'](_0x4455af[_0x818b18(0x5fb)]);_0x3e8196['remoteJidsRemaining']['length']===0x0&&_0x3e8196['status']!=='stopped'&&await J[_0x818b18(0x791)](_0x4455af[_0x818b18(0x5fb)],{'$set':{'status':_0x818b18(0x40f)}},{'new':!0x0}),await new Promise(_0x4a8b79=>setTimeout(_0x4a8b79,0x1388));}},_0x1f0ef1=async()=>{const _0x3bf2c0=a0_0x2c93;let _0x580e8a=await J[_0x3bf2c0(0x350)]({'owner':this['instance'][_0x3bf2c0(0x72c)],'status':_0x3bf2c0(0x644),'when':{'$gt':Date[_0x3bf2c0(0x2dd)]()}})[_0x3bf2c0(0x6ca)]({'when':0x1});_0x580e8a&&_0x580e8a[_0x3bf2c0(0x56c)]-Date[_0x3bf2c0(0x2dd)]()<=0x5265c00?this[_0x3bf2c0(0x40c)]=_0x580e8a[_0x3bf2c0(0x56c)]-Date[_0x3bf2c0(0x2dd)]():this[_0x3bf2c0(0x40c)]=(0x3c+Math[_0x3bf2c0(0x4de)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x3bf2c0(0x40c)]=Math[_0x3bf2c0(0x6e4)](this[_0x3bf2c0(0x40c)],0x7d0);let _0x28f910=Math[_0x3bf2c0(0x535)](this[_0x3bf2c0(0x40c)]/0xea60);if(_0x580e8a){let _0x2a7ccc=new Date(_0x580e8a[_0x3bf2c0(0x56c)])['toLocaleString']();this[_0x3bf2c0(0x223)][_0x3bf2c0(0x217)](this['instanceName']+'\x20('+this[_0x3bf2c0(0x49e)]['wuid']+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x2a7ccc+_0x3bf2c0(0x43c)+_0x28f910+_0x3bf2c0(0x5b0));}else this[_0x3bf2c0(0x223)][_0x3bf2c0(0x217)](this['instanceName']+'\x20('+this['instance'][_0x3bf2c0(0x72c)]+_0x3bf2c0(0x6e9)+_0x28f910+_0x3bf2c0(0x5b0));setTimeout(()=>this[_0x3bf2c0(0x640)](),this[_0x3bf2c0(0x40c)]);};if(this[_0x35c3f9(0x536)]){await this[_0x35c3f9(0x762)](),_0x1bd4c9();return;}if(!this[_0x35c3f9(0x422)]){this[_0x35c3f9(0x223)][_0x35c3f9(0x217)](this[_0x35c3f9(0x4b3)]+'\x20('+this[_0x35c3f9(0x49e)]['wuid']+_0x35c3f9(0x5de)),this[_0x35c3f9(0x536)]=null,this[_0x35c3f9(0x20e)]=0x0,this[_0x35c3f9(0x40c)]=0x0;return;}try{let _0x4dcddc=await _0xdad9ca();_0x4dcddc['length']===0x0?this[_0x35c3f9(0x223)][_0x35c3f9(0x217)](this[_0x35c3f9(0x4b3)]+'\x20('+this[_0x35c3f9(0x49e)][_0x35c3f9(0x72c)]+_0x35c3f9(0x438)):(this[_0x35c3f9(0x536)]=_0x4dcddc[0x0][_0x35c3f9(0x5fb)],await _0x24f83c(_0x4dcddc)),await _0x1f0ef1(),this[_0x35c3f9(0x536)]=null;}catch(_0x429bbc){this[_0x35c3f9(0x223)][_0x35c3f9(0x4be)](_0x35c3f9(0x20a)+(_0x429bbc instanceof Error?_0x429bbc[_0x35c3f9(0x46a)]:JSON[_0x35c3f9(0x286)](_0x429bbc,null,0x2)));}}[a0_0x4e6726(0x53c)](_0x1c5ad3,_0x569da6){const _0x258e0d=a0_0x4e6726;return _0x1c5ad3=Math['max'](0.5,_0x1c5ad3),_0x569da6=Math['max'](0x3,_0x569da6),Math[_0x258e0d(0x4de)](Math[_0x258e0d(0x5b8)]()*(_0x569da6-_0x1c5ad3+0x1)+_0x1c5ad3)*0x3e8;}[a0_0x4e6726(0x5bc)](_0x28beec){return new Promise(_0x464341=>setTimeout(_0x464341,_0x28beec));}async[a0_0x4e6726(0x203)](_0x53b4d0){const _0x507a74=a0_0x4e6726;if(!this[_0x507a74(0x560)]&&(await this[_0x507a74(0x606)](),!this['AutomateSystem']))return null;_0x53b4d0=this[_0x507a74(0x5f3)](_0x53b4d0);let _0x3116ca=await this['repository'][_0x507a74(0x2d6)][_0x507a74(0x350)]({'where':{'_id':_0x53b4d0,'owner':this[_0x507a74(0x49e)][_0x507a74(0x72c)]}}),_0x54106e={};if(_0x3116ca&&_0x3116ca[_0x507a74(0x5fd)]){let _0x459c8f=_0x3116ca[_0x507a74(0x5fd)];typeof _0x459c8f[_0x507a74(0x460)]==_0x507a74(0x362)&&(_0x54106e['nome']=_0x459c8f[_0x507a74(0x460)]),typeof _0x459c8f[_0x507a74(0x248)]=='string'&&(_0x54106e[_0x507a74(0x248)]=_0x459c8f[_0x507a74(0x248)]),typeof _0x459c8f['email']==_0x507a74(0x362)&&(_0x54106e[_0x507a74(0x315)]=_0x459c8f[_0x507a74(0x315)]),typeof _0x459c8f[_0x507a74(0x25d)]=='string'&&(_0x54106e[_0x507a74(0x25d)]=_0x459c8f[_0x507a74(0x25d)]),typeof _0x459c8f[_0x507a74(0x23b)]==_0x507a74(0x362)&&(_0x54106e[_0x507a74(0x23b)]=_0x459c8f[_0x507a74(0x23b)]),typeof _0x459c8f['notas']==_0x507a74(0x362)&&(_0x54106e[_0x507a74(0x295)]=_0x459c8f[_0x507a74(0x295)]),typeof _0x459c8f[_0x507a74(0x468)]==_0x507a74(0x362)&&(_0x54106e[_0x507a74(0x468)]=_0x459c8f['responsavelid']),Array[_0x507a74(0x245)](_0x459c8f[_0x507a74(0x336)])&&(_0x54106e['tags']=_0x459c8f[_0x507a74(0x336)][_0x507a74(0x6fa)](',\x20'));}return _0x3116ca&&_0x3116ca[_0x507a74(0x5fd)]&&_0x3116ca[_0x507a74(0x5fd)]['customFields']&&_0x3116ca[_0x507a74(0x5fd)]['customFields']['forEach'](_0x24e0b6=>{const _0x5f17f8=_0x507a74;let _0x8fb157=this[_0x5f17f8(0x560)]?.['customFields'][_0x5f17f8(0x6b1)](_0x4ab51c=>_0x4ab51c['_id']===_0x24e0b6[_0x5f17f8(0x5fb)]);_0x8fb157&&(_0x54106e[_0x8fb157['name']]=_0x24e0b6[_0x5f17f8(0x666)]);}),_0x54106e;}async[a0_0x4e6726(0x6fc)](_0x54a49d,_0x4177cd){const _0x31972c=a0_0x4e6726;let _0x56e52a=await this[_0x31972c(0x203)](_0x4177cd);return this['replaceVariables'](_0x54a49d,_0x56e52a);}async[a0_0x4e6726(0x556)](_0x3527c9){const _0x3234a6=a0_0x4e6726;try{if(this[_0x3234a6(0x223)][_0x3234a6(0x217)](this[_0x3234a6(0x4b3)]+'\x20('+this['instance'][_0x3234a6(0x72c)]+_0x3234a6(0x1f2)),_0x3527c9[_0x3234a6(0x5f6)]&&_0x3527c9[_0x3234a6(0x5fb)]){if(this['processingScheduleMessageId']===_0x3527c9[_0x3234a6(0x5fb)][_0x3234a6(0x594)]())throw new Error(_0x3234a6(0x41a));let _0x56a622=await J['findByIdAndDelete'](_0x3527c9[_0x3234a6(0x5fb)]);return setTimeout(()=>this[_0x3234a6(0x640)](),0x7d0),_0x56a622;}let _0x42a52b;if(_0x3527c9[_0x3234a6(0x5fb)]&&(_0x42a52b=await J[_0x3234a6(0x350)]({'owner':this['instance'][_0x3234a6(0x72c)],'_id':_0x3527c9['_id']})),_0x42a52b){let _0x1da232=_0x3527c9;this[_0x3234a6(0x536)]===_0x42a52b[_0x3234a6(0x5fb)][_0x3234a6(0x594)]()&&(_0x1da232={'status':_0x3527c9[_0x3234a6(0x23b)],'_id':_0x3527c9[_0x3234a6(0x5fb)]});let _0x16cbf2=await J['findByIdAndUpdate'](_0x42a52b[_0x3234a6(0x5fb)],{'$set':_0x1da232},{'new':!0x0});return setTimeout(()=>this[_0x3234a6(0x640)](),0x7d0),_0x16cbf2;}else{_0x3527c9['owner']=this[_0x3234a6(0x49e)]['wuid'];let _0x412169=await new J(_0x3527c9)['save']();return setTimeout(()=>this[_0x3234a6(0x640)](),0x7d0),_0x412169;}}catch(_0xb2d148){throw this[_0x3234a6(0x223)][_0x3234a6(0x4be)](this['instanceName']+'\x20('+this['instance'][_0x3234a6(0x72c)]+_0x3234a6(0x33d)+JSON['stringify'](_0xb2d148,null,0x2)),new g(_0x3234a6(0x64a)+_0xb2d148[_0x3234a6(0x46a)]);}}async[a0_0x4e6726(0x322)](){const _0x34b8ba=a0_0x4e6726;try{return await J[_0x34b8ba(0x6b1)]({'owner':this[_0x34b8ba(0x49e)]['wuid']})[_0x34b8ba(0x6ca)]({'when':0x1});}catch(_0x562cc0){throw this[_0x34b8ba(0x223)][_0x34b8ba(0x4be)](this[_0x34b8ba(0x4b3)]+'\x20('+this['instance'][_0x34b8ba(0x72c)]+_0x34b8ba(0x409)+(_0x562cc0 instanceof Error?_0x562cc0['message']:JSON['stringify'](_0x562cc0,null,0x2))),new g(_0x34b8ba(0x64a)+_0x562cc0[_0x34b8ba(0x46a)]);}}async[a0_0x4e6726(0x75d)](){const _0x35a9b7=a0_0x4e6726;try{return await J[_0x35a9b7(0x249)]({'owner':this['instance'][_0x35a9b7(0x72c)],'status':_0x35a9b7(0x40f)}),this['logger'][_0x35a9b7(0x217)](this['instanceName']+'\x20('+this[_0x35a9b7(0x49e)][_0x35a9b7(0x72c)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.'),this[_0x35a9b7(0x322)]();}catch(_0x256c71){throw this[_0x35a9b7(0x223)][_0x35a9b7(0x4be)](this['instanceName']+'\x20('+this['instance'][_0x35a9b7(0x72c)]+_0x35a9b7(0x211)+(_0x256c71 instanceof Error?_0x256c71[_0x35a9b7(0x46a)]:JSON[_0x35a9b7(0x286)](_0x256c71,null,0x2))),new g(_0x35a9b7(0x64a)+_0x256c71[_0x35a9b7(0x46a)]);}}async[a0_0x4e6726(0x2ca)](_0x558eea,_0x3c212c){const _0x19d450=a0_0x4e6726;try{if(_0x3c212c[_0x19d450(0x5ec)]===_0x19d450(0x1d8)&&!this['AutomateSystem']?.[_0x19d450(0x71a)]['enabled'])return this[_0x19d450(0x223)][_0x19d450(0x4be)](this['instanceName']+'\x20('+this[_0x19d450(0x49e)][_0x19d450(0x72c)]+_0x19d450(0x467)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x3c212c[_0x19d450(0x5ec)]){case'text':return await this[_0x19d450(0x3a9)](_0x3c212c,_0x558eea);case _0x19d450(0x2e2):return await this['scheduleSendMedia'](_0x3c212c,_0x558eea);case _0x19d450(0x528):return await this[_0x19d450(0x334)](_0x3c212c,_0x558eea);case _0x19d450(0x1d8):let _0x526c1d=new Pe();return _0x526c1d[_0x19d450(0x5a6)]=_0x3c212c[_0x19d450(0x4d7)],_0x526c1d[_0x19d450(0x719)]=_0x558eea,await this[_0x19d450(0x650)](_0x526c1d);break;default:return this[_0x19d450(0x223)][_0x19d450(0x4be)](this['instanceName']+'\x20('+this[_0x19d450(0x49e)][_0x19d450(0x72c)]+_0x19d450(0x514)+_0x3c212c[_0x19d450(0x5ec)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x302b4a){return this[_0x19d450(0x223)][_0x19d450(0x4be)](this['instanceName']+'\x20('+this[_0x19d450(0x49e)][_0x19d450(0x72c)]+_0x19d450(0x2c4)+(_0x302b4a instanceof Error?_0x302b4a[_0x19d450(0x46a)]:JSON['stringify'](_0x302b4a,null,0x2))),{'error':!0x0,'detail':_0x302b4a['message']};}}['getRandomText'](_0x59395e){const _0x23a303=a0_0x4e6726;let _0x40023e=_0x59395e[_0x23a303(0x619)]('|'),_0x79319e=Math[_0x23a303(0x4de)](Math[_0x23a303(0x5b8)]()*_0x40023e[_0x23a303(0x728)]);return _0x40023e[_0x79319e][_0x23a303(0x3e4)]();}async[a0_0x4e6726(0x3a9)](_0x568180,_0x3d9a30){const _0x5ce703=a0_0x4e6726;if(this[_0x5ce703(0x223)][_0x5ce703(0x217)](this['instanceName']+'\x20('+this[_0x5ce703(0x49e)][_0x5ce703(0x72c)]+'):\x20Enviando\x20texto'),!_0x568180[_0x5ce703(0x46a)][_0x5ce703(0x4d2)]||_0x568180[_0x5ce703(0x46a)][_0x5ce703(0x4d2)][_0x5ce703(0x728)]===0x0)return{'error':!0x0,'detail':_0x5ce703(0x3ad)};let _0x34e37c=this[_0x5ce703(0x77c)](_0x568180[_0x5ce703(0x46a)]['text']),_0x40fcc8=await this[_0x5ce703(0x6fc)](_0x34e37c,_0x3d9a30),_0x548017={'number':_0x3d9a30,'options':{'delay':_0x568180['message'][_0x5ce703(0x320)]},'textMessage':{'text':_0x40fcc8}},_0x1b665e=null;try{let _0x167bee=await this[_0x5ce703(0x3d4)](_0x548017);if(_0x167bee&&_0x167bee[_0x5ce703(0x23b)])return{'error':!0x1,'id':_0x167bee[_0x5ce703(0x737)]['id']};_0x1b665e=JSON[_0x5ce703(0x286)](_0x167bee),this[_0x5ce703(0x223)]['verbose'](this['instanceName']+'\x20('+this[_0x5ce703(0x49e)]['wuid']+_0x5ce703(0x2ad)+_0x1b665e);}catch(_0x33ce71){this['logger'][_0x5ce703(0x4be)](this['instanceName']+'\x20('+this[_0x5ce703(0x49e)]['wuid']+_0x5ce703(0x302)+(_0x33ce71 instanceof Error?_0x33ce71[_0x5ce703(0x46a)]:JSON['stringify'](_0x33ce71,null,0x2))),_0x1b665e=_0x33ce71[_0x5ce703(0x46a)];}if(_0x1b665e)return{'error':!0x0,'detail':(typeof _0x1b665e==_0x5ce703(0x390)?JSON['stringify'](_0x1b665e,null,0x2):_0x1b665e)[_0x5ce703(0x1d9)](/[\[\]{}\n]/g,'\x20')[_0x5ce703(0x1d9)](/  +/g,'\x20')};}async[a0_0x4e6726(0x413)](_0x2e8ec1,_0x4e9731){const _0x4320a4=a0_0x4e6726;this['logger'][_0x4320a4(0x217)](this[_0x4320a4(0x4b3)]+'\x20('+this[_0x4320a4(0x49e)]['wuid']+_0x4320a4(0x6a1));let _0x4c94a;if(_0x2e8ec1[_0x4320a4(0x46a)][_0x4320a4(0x4d2)]&&_0x2e8ec1[_0x4320a4(0x46a)][_0x4320a4(0x4d2)]['length']>0x0){let _0x14952f=this[_0x4320a4(0x77c)](_0x2e8ec1['message'][_0x4320a4(0x4d2)]);_0x4c94a=await this[_0x4320a4(0x6fc)](_0x14952f,_0x4e9731);}let _0x24a30f={'number':_0x4e9731,'options':{'delay':_0x2e8ec1[_0x4320a4(0x46a)]['delay']},'mediaMessage':{'mediatype':_0x2e8ec1['message']['mediatype'],'caption':_0x4c94a,'media':_0x2e8ec1['message'][_0x4320a4(0x457)]}},_0x3b521f=null;try{let _0x351014=await this['mediaMessage'](_0x24a30f);if(_0x351014&&_0x351014['status'])return{'error':!0x1,'id':_0x351014[_0x4320a4(0x737)]['id']};_0x3b521f=JSON[_0x4320a4(0x286)](_0x351014),this[_0x4320a4(0x223)][_0x4320a4(0x217)](this[_0x4320a4(0x4b3)]+'\x20('+this[_0x4320a4(0x49e)][_0x4320a4(0x72c)]+_0x4320a4(0x2ad)+_0x3b521f);}catch(_0x23ce97){this['logger'][_0x4320a4(0x4be)](this[_0x4320a4(0x4b3)]+'\x20('+this['instance']['wuid']+_0x4320a4(0x4ac)+(_0x23ce97 instanceof Error?_0x23ce97['message']:JSON['stringify'](_0x23ce97,null,0x2))),_0x3b521f=_0x23ce97[_0x4320a4(0x46a)];}if(_0x3b521f)return{'error':!0x0,'detail':(typeof _0x3b521f==_0x4320a4(0x390)?JSON[_0x4320a4(0x286)](_0x3b521f,null,0x2):_0x3b521f)[_0x4320a4(0x1d9)](/[\[\]{}\n]/g,'\x20')[_0x4320a4(0x1d9)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0xcc2f18,_0x1a816c){const _0xe65557=a0_0x4e6726;this[_0xe65557(0x223)][_0xe65557(0x217)](this[_0xe65557(0x4b3)]+'\x20('+this['instance'][_0xe65557(0x72c)]+'):\x20Enviando\x20áudio');let _0x5c0774={'number':_0x1a816c,'options':{'delay':_0xcc2f18[_0xe65557(0x46a)][_0xe65557(0x320)]},'audioMessage':{'audio':_0xcc2f18[_0xe65557(0x46a)][_0xe65557(0x457)]}},_0x2d184a=null;try{let _0x18c4b7=await this['audioWhatsapp'](_0x5c0774);if(_0x18c4b7&&_0x18c4b7[_0xe65557(0x23b)])return{'error':!0x1,'id':_0x18c4b7[_0xe65557(0x737)]['id']};_0x2d184a=JSON[_0xe65557(0x286)](_0x18c4b7),this[_0xe65557(0x223)][_0xe65557(0x217)](this[_0xe65557(0x4b3)]+'\x20('+this['instance'][_0xe65557(0x72c)]+_0xe65557(0x2ad)+_0x2d184a);}catch(_0x2f4b15){this['logger'][_0xe65557(0x4be)](this[_0xe65557(0x4b3)]+'\x20('+this[_0xe65557(0x49e)][_0xe65557(0x72c)]+_0xe65557(0x452)+(_0x2f4b15 instanceof Error?_0x2f4b15[_0xe65557(0x46a)]:JSON[_0xe65557(0x286)](_0x2f4b15,null,0x2))),_0x2d184a=_0x2f4b15[_0xe65557(0x46a)];}if(_0x2d184a)return{'error':!0x0,'detail':(typeof _0x2d184a==_0xe65557(0x390)?JSON[_0xe65557(0x286)](_0x2d184a,null,0x2):_0x2d184a)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},be=require(a0_0x4e6726(0x3ee)),Pt=class c{constructor(_0x28ff42,_0x2e55df,_0x3cdee5){const _0x20154b=a0_0x4e6726;this[_0x20154b(0x470)]=_0x28ff42,this['configService']=_0x2e55df,this[_0x20154b(0x458)]=_0x3cdee5,this['db']={},this[_0x20154b(0x5dd)]={},this[_0x20154b(0x223)]=new C(c[_0x20154b(0x5a6)]),this['waInstances']={},(this[_0x20154b(0x1f5)](),this[_0x20154b(0x3b5)](),this[_0x20154b(0x6ce)](),Object[_0x20154b(0x3b2)](this['db'],_0x2e55df[_0x20154b(0x671)](_0x20154b(0x1e4))),Object[_0x20154b(0x3b2)](this[_0x20154b(0x5dd)],_0x2e55df[_0x20154b(0x671)](_0x20154b(0x32f))),this[_0x20154b(0x1bd)]=this['db'][_0x20154b(0x5ed)]?this[_0x20154b(0x458)][_0x20154b(0x1c8)]?.['db'](this['db'][_0x20154b(0x6f4)][_0x20154b(0x3e9)]+_0x20154b(0x370)):void 0x0,this[_0x20154b(0x321)]=this[_0x20154b(0x5dd)][_0x20154b(0x5ed)]?new ne(this[_0x20154b(0x5dd)]):void 0x0);}[a0_0x4e6726(0x46c)](_0x3be86d){const _0x23bacc=a0_0x4e6726;let _0x5b1de0=this[_0x23bacc(0x3df)][_0x23bacc(0x671)]('DEL_INSTANCE');typeof _0x5b1de0==_0x23bacc(0x440)&&_0x5b1de0>0x0&&setTimeout(()=>{const _0x454d33=_0x23bacc;this[_0x454d33(0x707)][_0x3be86d]?.['connectionStatus']?.[_0x454d33(0x1d3)]!==_0x454d33(0x5b4)&&delete this[_0x454d33(0x707)][_0x3be86d];},0x3e8*0x3c*_0x5b1de0);}async[a0_0x4e6726(0x2f3)](_0x51f06e){const _0x5becfc=a0_0x4e6726;if(_0x51f06e&&!this[_0x5becfc(0x707)][_0x51f06e])throw new $(_0x5becfc(0x5a2)+_0x51f06e+_0x5becfc(0x34d));let _0x3bb7cf=[];for await(let [_0x1f1ed6,_0x13ba2c]of Object[_0x5becfc(0x561)](this[_0x5becfc(0x707)]))if(_0x13ba2c&&_0x13ba2c[_0x5becfc(0x48b)][_0x5becfc(0x1d3)]===_0x5becfc(0x5b4)){let _0x26f47e=await this[_0x5becfc(0x458)][_0x5becfc(0x789)][_0x5becfc(0x6b1)](_0x1f1ed6);_0x3bb7cf[_0x5becfc(0x73c)]({'instance':{'instanceName':_0x1f1ed6,'apikey':_0x26f47e[_0x5becfc(0x3e7)],'owner':_0x13ba2c[_0x5becfc(0x72c)],'profileName':await _0x13ba2c[_0x5becfc(0x3d2)]()||_0x5becfc(0x66a),'profilePictureUrl':_0x13ba2c[_0x5becfc(0x67a)]}});}return _0x3bb7cf[_0x5becfc(0x6b1)](_0xb4931e=>_0xb4931e[_0x5becfc(0x49e)]['instanceName']===_0x51f06e)??_0x3bb7cf;}[a0_0x4e6726(0x6ce)](){setInterval(async()=>{const _0x53fa07=a0_0x2c93;if(this['db'][_0x53fa07(0x5ed)])(await this[_0x53fa07(0x1bd)][_0x53fa07(0x691)]())[_0x53fa07(0x655)](async _0x272eec=>{const _0x439c99=_0x53fa07;let _0x2a87d5=_0x272eec[_0x439c99(0x576)][_0x439c99(0x1d9)](/^[\w-]+./,'');await this['dbInstance'][_0x439c99(0x67c)](_0x2a87d5)['deleteMany']({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0xd34687=(0x0,te[_0x53fa07(0x750)])(j,{'encoding':'utf-8'});for await(let _0x6c831d of _0xd34687)_0x6c831d[_0x53fa07(0x296)]()&&(0x0,te['readdirSync'])((0x0,be[_0x53fa07(0x6fa)])(j,_0x6c831d[_0x53fa07(0x5a6)]),{'encoding':_0x53fa07(0x59c)})[_0x53fa07(0x655)](async _0x451feb=>{const _0x2685c9=_0x53fa07;(_0x451feb[_0x2685c9(0x45e)](/^app.state.*/)||_0x451feb[_0x2685c9(0x45e)](/^session-.*/))&&(0x0,te[_0x2685c9(0x69b)])((0x0,be[_0x2685c9(0x6fa)])(j,_0x6c831d['name'],_0x451feb),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async['cleaningUp'](_0xb0ecc7){const _0x5832c6=a0_0x4e6726;this['db'][_0x5832c6(0x5ed)]&&(await this['repository'][_0x5832c6(0x1c8)][_0x5832c6(0x573)](),(await this[_0x5832c6(0x1bd)]['collections']())[_0x5832c6(0x728)]>0x0&&await this[_0x5832c6(0x1bd)][_0x5832c6(0x37c)](_0xb0ecc7)),this['redis']['ENABLED']&&(this[_0x5832c6(0x321)][_0x5832c6(0x550)]=_0xb0ecc7,await this[_0x5832c6(0x321)]['delAll']()),!this['db'][_0x5832c6(0x5ed)]&&!this[_0x5832c6(0x5dd)][_0x5832c6(0x5ed)]&&(0x0,te['rmSync'])((0x0,be['join'])(j,_0xb0ecc7),{'recursive':!0x0,'force':!0x0});}async[a0_0x4e6726(0x70c)](){const _0x1f795d=a0_0x4e6726;let _0x3b7593=async _0x5dd8ab=>{const _0x2e2aea=a0_0x2c93;let _0xcfe313=new ye(this[_0x2e2aea(0x3df)],this[_0x2e2aea(0x470)],this['repository']);_0xcfe313[_0x2e2aea(0x4b3)]=_0x5dd8ab,await _0xcfe313[_0x2e2aea(0x2eb)](),this[_0x2e2aea(0x707)][_0x5dd8ab]=_0xcfe313;};try{if(this[_0x1f795d(0x5dd)][_0x1f795d(0x5ed)]){let _0x457d79=await this[_0x1f795d(0x321)][_0x1f795d(0x500)]();_0x457d79?.[_0x1f795d(0x728)]>0x0&&_0x457d79[_0x1f795d(0x655)](async _0x460125=>await _0x3b7593(_0x460125[_0x1f795d(0x619)](':')[0x1]));}if(this['db'][_0x1f795d(0x5ed)]){await this['repository'][_0x1f795d(0x1c8)][_0x1f795d(0x573)]();let _0x28d615=await this[_0x1f795d(0x1bd)][_0x1f795d(0x691)]();_0x28d615[_0x1f795d(0x728)]>0x0&&_0x28d615[_0x1f795d(0x655)](async _0x7e777c=>await _0x3b7593(_0x7e777c[_0x1f795d(0x576)][_0x1f795d(0x1d9)](/^[\w-]+\./,'')));return;}let _0x2e88bf=(0x0,te[_0x1f795d(0x750)])(j,{'encoding':'utf-8'});for await(let _0x3d5692 of _0x2e88bf)if(_0x3d5692[_0x1f795d(0x296)]()){if((0x0,te['readdirSync'])((0x0,be['join'])(j,_0x3d5692[_0x1f795d(0x5a6)]),{'encoding':_0x1f795d(0x59c)})[_0x1f795d(0x728)]===0x0){(0x0,te['rmSync'])((0x0,be[_0x1f795d(0x6fa)])(j,_0x3d5692['name']),{'recursive':!0x0,'force':!0x0});break;}await _0x3b7593(_0x3d5692[_0x1f795d(0x5a6)]);}}catch(_0x2254b9){this['logger']['error'](_0x2254b9);}}[a0_0x4e6726(0x1f5)](){const _0x4926d5=a0_0x4e6726;this['eventEmitter']['on'](_0x4926d5(0x54a),async _0x16e4b0=>{const _0x22ad5d=_0x4926d5;try{this[_0x22ad5d(0x707)][_0x16e4b0]=void 0x0;}catch{}try{this[_0x22ad5d(0x2c0)](_0x16e4b0);}finally{this[_0x22ad5d(0x223)]['warn'](_0x22ad5d(0x5a2)+_0x16e4b0+_0x22ad5d(0x3c5));}});}['noConnection'](){const _0x499a98=a0_0x4e6726;this[_0x499a98(0x470)]['on'](_0x499a98(0x50a),async _0x371b83=>{const _0x11f81c=_0x499a98;try{this[_0x11f81c(0x707)][_0x371b83]=void 0x0,this[_0x11f81c(0x2c0)](_0x371b83);}catch(_0x3b76ca){this['logger'][_0x11f81c(0x4be)]({'localError':_0x11f81c(0x3b5),'warn':'Error\x20deleting\x20instance\x20from\x20memory.','error':_0x3b76ca});}finally{this[_0x11f81c(0x223)][_0x11f81c(0x43e)](_0x11f81c(0x5a2)+_0x371b83+_0x11f81c(0x570));}});}},xt=class extends H{constructor(_0x35978a){super(_0x35978a),this['configService']=_0x35978a;}[a0_0x4e6726(0x6a3)](_0x562eb0){return ks(_0x562eb0);}async[a0_0x4e6726(0x234)](_0x20d1cd){const _0x1f345e=a0_0x4e6726;if(_0x20d1cd[_0x1f345e(0x728)]!==0x0)try{return{'insertCount':(await this[_0x1f345e(0x6a3)](_0x20d1cd[0x0][_0x1f345e(0x3b1)])[_0x1f345e(0x555)]([..._0x20d1cd]))[_0x1f345e(0x728)]};}catch(_0x526ba8){return _0x526ba8;}}async[a0_0x4e6726(0x6b1)](_0x3667bf){const _0x1bcb8d=a0_0x4e6726;try{return await this[_0x1bcb8d(0x6a3)](_0x3667bf['where'][_0x1bcb8d(0x3b1)])['find']({..._0x3667bf[_0x1bcb8d(0x443)]})[_0x1bcb8d(0x6ca)]({'lastmsg':-0x1})[_0x1bcb8d(0x51f)](_0x3667bf?.[_0x1bcb8d(0x51f)]??0x0)[_0x1bcb8d(0x766)]();}catch{return[];}}async[a0_0x4e6726(0x5f6)](_0x1677b5){const _0x5a916c=a0_0x4e6726;try{return{'deletedCount':(await this[_0x5a916c(0x6a3)](_0x1677b5[_0x5a916c(0x443)][_0x5a916c(0x3b1)])[_0x5a916c(0x249)]({..._0x1677b5[_0x5a916c(0x443)]}))['deletedCount']};}catch(_0x1497f6){return{'error':_0x1497f6?.['toString']()};}}async[a0_0x4e6726(0x405)](_0x1b652e){const _0xfcbd85=a0_0x4e6726;try{return await this[_0xfcbd85(0x6a3)](_0x1b652e[_0xfcbd85(0x443)][_0xfcbd85(0x3b1)])[_0xfcbd85(0x249)]({..._0x1b652e[_0xfcbd85(0x443)]}),[];}catch(_0x3a47d5){return{'error':_0x3a47d5?.[_0xfcbd85(0x594)]()};}}async['findOne'](_0x2e6e12){const _0x56c9bd=a0_0x4e6726;try{return await this['getChatModelForOwner'](_0x2e6e12[_0x56c9bd(0x443)][_0x56c9bd(0x3b1)])[_0x56c9bd(0x350)]({..._0x2e6e12[_0x56c9bd(0x443)]})[_0x56c9bd(0x766)]();}catch{return null;}}async['updateOne'](_0x57e39a,_0x541e0e,_0x487501){const _0x2f3181=a0_0x4e6726;try{let _0x210f8b={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x487501};return await this[_0x2f3181(0x6a3)](_0x57e39a[_0x2f3181(0x443)]['owner'])[_0x2f3181(0x421)]({..._0x57e39a[_0x2f3181(0x443)]},{'$set':_0x541e0e},_0x210f8b);}catch(_0x5cf00c){return console[_0x2f3181(0x4be)](_0x5cf00c),null;}}async[a0_0x4e6726(0x5a0)](_0x3b91bf){const _0x5b9b71=a0_0x4e6726;try{let _0x4db9fe=this[_0x5b9b71(0x6a3)](_0x3b91bf[0x0][_0x5b9b71(0x70e)][_0x5b9b71(0x443)][_0x5b9b71(0x3b1)]),_0x1456d8=_0x3b91bf[_0x5b9b71(0x3cf)](_0x48bbd7=>({'updateOne':{'filter':{..._0x48bbd7[_0x5b9b71(0x70e)][_0x5b9b71(0x443)]},'update':{'$set':_0x48bbd7[_0x5b9b71(0x5f4)]}}}));return(await _0x4db9fe[_0x5b9b71(0x682)](_0x1456d8))[_0x5b9b71(0x31f)];}catch(_0x5789bd){return console[_0x5b9b71(0x4be)](_0x5789bd),0x0;}}},$t=class{constructor(_0x512a96){const _0x2cef71=a0_0x4e6726;this[_0x2cef71(0x72e)]=_0x512a96;}async[a0_0x4e6726(0x70f)]({instanceName:_0x5d35ee},_0x3ad742){const _0x3ca34d=a0_0x4e6726;return await this[_0x3ca34d(0x72e)]['waInstances'][_0x5d35ee]['editChat'](_0x3ad742);}async[a0_0x4e6726(0x5e1)]({instanceName:_0x3dc1c1},_0x587b8d){const _0x4e8e10=a0_0x4e6726;return await this[_0x4e8e10(0x72e)][_0x4e8e10(0x707)][_0x3dc1c1]['whatsappNumber'](_0x587b8d);}async[a0_0x4e6726(0x4ec)]({instanceName:_0x34015b},_0x29242f){const _0x5d4672=a0_0x4e6726;return await this[_0x5d4672(0x72e)][_0x5d4672(0x707)][_0x34015b][_0x5d4672(0x70a)](_0x29242f);}async[a0_0x4e6726(0x3be)]({instanceName:_0x57aca3},_0x27b508){const _0x5912df=a0_0x4e6726;return await this[_0x5912df(0x72e)]['waInstances'][_0x57aca3][_0x5912df(0x3be)](_0x27b508);}async[a0_0x4e6726(0x778)]({instanceName:_0x3a6b60},_0x1b43ee){const _0x3b24f6=a0_0x4e6726;return await this[_0x3b24f6(0x72e)][_0x3b24f6(0x707)][_0x3a6b60][_0x3b24f6(0x778)](_0x1b43ee);}async[a0_0x4e6726(0x67e)]({instanceName:_0x30d45d},_0x114222){const _0x3d3223=a0_0x4e6726;return await this['waMonitor'][_0x3d3223(0x707)][_0x30d45d][_0x3d3223(0x718)](_0x114222['number']);}async[a0_0x4e6726(0x609)]({instanceName:_0x4667d5},_0x545e66){const _0x4a4bf5=a0_0x4e6726;return await this[_0x4a4bf5(0x72e)]['waInstances'][_0x4667d5][_0x4a4bf5(0x609)](_0x545e66[_0x4a4bf5(0x440)]);}async[a0_0x4e6726(0x6dc)]({instanceName:_0x13f747},_0x186599){const _0x544879=a0_0x4e6726;return await this[_0x544879(0x72e)]['waInstances'][_0x13f747][_0x544879(0x6dc)](_0x186599);}async['fetchContacts']({instanceName:_0x59d91c},_0x51ded9){const _0x295c6f=a0_0x4e6726;return await this[_0x295c6f(0x72e)][_0x295c6f(0x707)][_0x59d91c][_0x295c6f(0x48d)](_0x51ded9);}async['getBase64FromMediaMessage']({instanceName:_0x127ddb},_0x30bf1b){const _0xa06ddf=a0_0x4e6726;return await this[_0xa06ddf(0x72e)][_0xa06ddf(0x707)][_0x127ddb]['getBase64FromMediaMessage'](_0x30bf1b);}async[a0_0x4e6726(0x1d7)]({instanceName:_0x574b5b},_0x3c547a){const _0x11c1bb=a0_0x4e6726;return await this['waMonitor'][_0x11c1bb(0x707)][_0x574b5b]['fetchMessages'](_0x3c547a);}async['fetchChats']({instanceName:_0x4fa2a1}){const _0x5cf67b=a0_0x4e6726;return await this[_0x5cf67b(0x72e)][_0x5cf67b(0x707)][_0x4fa2a1][_0x5cf67b(0x1c7)]();}async[a0_0x4e6726(0x667)]({instanceName:_0x35fc0b}){const _0x19b71d=a0_0x4e6726;return await this[_0x19b71d(0x72e)][_0x19b71d(0x707)][_0x35fc0b][_0x19b71d(0x667)]();}async[a0_0x4e6726(0x2d8)]({instanceName:_0x1599b6},_0x5ae989){const _0x5766c4=a0_0x4e6726;return await this['waMonitor'][_0x5766c4(0x707)][_0x1599b6][_0x5766c4(0x2d8)](_0x5ae989);}async[a0_0x4e6726(0x29a)]({instanceName:_0x5c6ab3},_0x3c45f8){const _0x31b340=a0_0x4e6726;return await this[_0x31b340(0x72e)][_0x31b340(0x707)][_0x5c6ab3][_0x31b340(0x29a)](_0x3c45f8[_0x31b340(0x440)]);}async['updateProfileName']({instanceName:_0x5b46c3},_0x2993e5){const _0x574d31=a0_0x4e6726;return await this[_0x574d31(0x72e)][_0x574d31(0x707)][_0x5b46c3][_0x574d31(0x339)](_0x2993e5[_0x574d31(0x5a6)]);}async[a0_0x4e6726(0x3d7)]({instanceName:_0x42ed4d},_0x523ec3){const _0x6673cf=a0_0x4e6726;return await this['waMonitor'][_0x6673cf(0x707)][_0x42ed4d][_0x6673cf(0x3d7)](_0x523ec3[_0x6673cf(0x23b)]);}async[a0_0x4e6726(0x5d0)]({instanceName:_0x35f2d2},_0x48c0bf){const _0x7041de=a0_0x4e6726;return await this[_0x7041de(0x72e)][_0x7041de(0x707)][_0x35f2d2][_0x7041de(0x5d0)](_0x48c0bf[_0x7041de(0x3c4)]);}async[a0_0x4e6726(0x54e)]({instanceName:_0x31a7ad},_0x183ede){const _0x41513d=a0_0x4e6726;return await this[_0x41513d(0x72e)][_0x41513d(0x707)][_0x31a7ad][_0x41513d(0x54e)]();}},ws=require(a0_0x4e6726(0x3d6)),kt=class c{constructor(_0x3821d6,_0x2a47a0,_0x56dc41,_0x35a503,_0x1d2854){const _0x1d030d=a0_0x4e6726;this[_0x1d030d(0x72e)]=_0x3821d6,this[_0x1d030d(0x3df)]=_0x2a47a0,this[_0x1d030d(0x458)]=_0x56dc41,this['eventEmitter']=_0x35a503,this[_0x1d030d(0x6df)]=_0x1d2854,this[_0x1d030d(0x223)]=new C(c[_0x1d030d(0x5a6)]);}async[a0_0x4e6726(0x664)]({instanceName:_0x1564af,apikey:_0x1dcb04}){const _0x57b93d=a0_0x4e6726;let _0x537bc5=new ye(this[_0x57b93d(0x3df)],this['eventEmitter'],this['repository']);_0x537bc5['instanceName']=_0x1564af,this[_0x57b93d(0x72e)][_0x57b93d(0x707)][_0x537bc5[_0x57b93d(0x4b3)]]=_0x537bc5,this[_0x57b93d(0x72e)][_0x57b93d(0x46c)](_0x537bc5[_0x57b93d(0x4b3)]);let _0x27dd59={};_0x1dcb04?(await this[_0x57b93d(0x458)][_0x57b93d(0x789)]['create']({'apikey':_0x1dcb04},_0x1564af),_0x27dd59[_0x57b93d(0x3e7)]=_0x1dcb04):_0x27dd59=await this['authService'][_0x57b93d(0x504)]({'instanceName':_0x537bc5[_0x57b93d(0x4b3)]});let _0x4775e;return await _0x537bc5[_0x57b93d(0x2eb)](),await(0x0,ws[_0x57b93d(0x320)])(0x7d0),_0x4775e=_0x537bc5[_0x57b93d(0x5f1)],{'instance':{'instanceName':_0x537bc5[_0x57b93d(0x4b3)],'status':_0x57b93d(0x638)},'hash':_0x27dd59,'qrcode':_0x4775e};}async[a0_0x4e6726(0x2eb)]({instanceName:_0x2fd102}){const _0x1ff630=a0_0x4e6726;try{let _0xb10d9b=this[_0x1ff630(0x72e)][_0x1ff630(0x707)][_0x2fd102];switch(_0xb10d9b[_0x1ff630(0x48b)]?.[_0x1ff630(0x1d3)]){case _0x1ff630(0x571):return await _0xb10d9b['connectToWhatsapp'](),await(0x0,ws['delay'])(0x7d0),_0xb10d9b[_0x1ff630(0x5f1)];case _0x1ff630(0x47c):return _0xb10d9b[_0x1ff630(0x5f1)];default:return await this[_0x1ff630(0x716)]({'instanceName':_0x2fd102});}}catch(_0x4b7eeb){this['logger'][_0x1ff630(0x262)](_0x4b7eeb);}}async[a0_0x4e6726(0x716)]({instanceName:_0x2024a3}){const _0x1d3f74=a0_0x4e6726;let _0x228f40=this[_0x1d3f74(0x72e)]['waInstances'][_0x2024a3][_0x1d3f74(0x48b)],_0x11f25f=null;_0x228f40['state']===_0x1d3f74(0x5b4)&&_0x2024a3&&(_0x11f25f=await this[_0x1d3f74(0x72e)][_0x1d3f74(0x2f3)](_0x2024a3));let _0x209232=null;return _0x228f40['state']===_0x1d3f74(0x47c)&&_0x2024a3&&(_0x209232=this[_0x1d3f74(0x72e)]['waInstances'][_0x2024a3][_0x1d3f74(0x5f1)]),{'instance':_0x2024a3,'connectionStatus':_0x228f40,'instanceInfo':_0x11f25f,'qrcode':_0x209232};}async[a0_0x4e6726(0x5df)]({instanceName:_0xb94a3b}){const _0x34c8c3=a0_0x4e6726;try{return this[_0x34c8c3(0x72e)][_0x34c8c3(0x707)][_0xb94a3b]?.[_0x34c8c3(0x27c)]?.['ws']?.[_0x34c8c3(0x571)](),{'status':_0x34c8c3(0x6c2),'error':!0x1,'response':{'message':_0x34c8c3(0x53d)}};}catch(_0x56d468){this[_0x34c8c3(0x223)]['error'](_0x56d468);}}async[a0_0x4e6726(0x6ac)]({instanceName:_0x2e4a4c}){const _0x5331e5=a0_0x4e6726;return _0x2e4a4c?this['waMonitor']['instanceInfo'](_0x2e4a4c):this[_0x5331e5(0x72e)][_0x5331e5(0x2f3)]();}async[a0_0x4e6726(0x6f3)]({instanceName:_0x54a27e}){const _0x71a88c=a0_0x4e6726;try{return await this[_0x71a88c(0x72e)][_0x71a88c(0x707)][_0x54a27e]?.[_0x71a88c(0x27c)]?.[_0x71a88c(0x6f3)](_0x71a88c(0x1cd)+_0x54a27e),{'error':!0x1,'message':_0x71a88c(0x21e)};}catch(_0x478ba1){throw new A(_0x478ba1[_0x71a88c(0x594)]());}}async[a0_0x4e6726(0x503)]({instanceName:_0x309f6f}){const _0x196d63=a0_0x4e6726;if((await this[_0x196d63(0x716)]({'instanceName':_0x309f6f}))[_0x196d63(0x48b)]['state']===_0x196d63(0x5b4))throw new g([_0x196d63(0x631),_0x196d63(0x26a)]);try{return delete this['waMonitor'][_0x196d63(0x707)][_0x309f6f],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x2b1a8b){throw new g(_0x2b1a8b[_0x196d63(0x594)]());}}async['refreshToken'](_0x52b18e,_0x5b5b5c){const _0x57696b=a0_0x4e6726;return await this[_0x57696b(0x6df)]['refreshToken'](_0x5b5b5c);}},se=require(a0_0x4e6726(0x656)),Lt=class{constructor(_0x1da7c2){const _0x287dac=a0_0x4e6726;this[_0x287dac(0x72e)]=_0x1da7c2;}async[a0_0x4e6726(0x24a)]({instanceName:_0x409565},_0x1440aa){const _0x17b2de=a0_0x4e6726;return await this[_0x17b2de(0x72e)][_0x17b2de(0x707)][_0x409565][_0x17b2de(0x3d4)](_0x1440aa);}async[a0_0x4e6726(0x4d8)]({instanceName:_0x36a842},_0x41f2bb){const _0x3b12bd=a0_0x4e6726;return await this[_0x3b12bd(0x72e)][_0x3b12bd(0x707)][_0x36a842][_0x3b12bd(0x1f1)](_0x41f2bb);}async[a0_0x4e6726(0x28d)]({instanceName:_0x49d39c},_0x2978e8){const _0x470a33=a0_0x4e6726;if((0x0,se['isBase64'])(_0x2978e8?.[_0x470a33(0x65c)]?.[_0x470a33(0x2e2)])&&!_0x2978e8?.['mediaMessage']?.[_0x470a33(0x30d)])throw new g(_0x470a33(0x235));if((0x0,se[_0x470a33(0x5ef)])(_0x2978e8?.[_0x470a33(0x65c)]?.[_0x470a33(0x2e2)])||(0x0,se[_0x470a33(0x293)])(_0x2978e8?.['mediaMessage']?.[_0x470a33(0x2e2)]))return await this[_0x470a33(0x72e)][_0x470a33(0x707)][_0x49d39c][_0x470a33(0x65c)](_0x2978e8);throw new g(_0x470a33(0x358));}async[a0_0x4e6726(0x723)]({instanceName:_0x33c4d5},_0x55d2a7){const _0x645bee=a0_0x4e6726;if((0x0,se[_0x645bee(0x5ef)])(_0x55d2a7[_0x645bee(0x665)][_0x645bee(0x236)])||(0x0,se[_0x645bee(0x293)])(_0x55d2a7[_0x645bee(0x665)][_0x645bee(0x236)]))return await this[_0x645bee(0x72e)]['waInstances'][_0x33c4d5][_0x645bee(0x31c)](_0x55d2a7);throw new g(_0x645bee(0x358));}async[a0_0x4e6726(0x77d)]({instanceName:_0x27d435},_0x2593b1){const _0x103f5a=a0_0x4e6726;if((0x0,se['isURL'])(_0x2593b1['audioMessage'][_0x103f5a(0x528)])||(0x0,se[_0x103f5a(0x293)])(_0x2593b1[_0x103f5a(0x3d5)][_0x103f5a(0x528)]))return await this['waMonitor'][_0x103f5a(0x707)][_0x27d435][_0x103f5a(0x65b)](_0x2593b1);throw new g(_0x103f5a(0x358));}async[a0_0x4e6726(0x520)]({instanceName:_0x32488c},_0x228d64){const _0x4c88f4=a0_0x4e6726;if((0x0,se[_0x4c88f4(0x293)])(_0x228d64[_0x4c88f4(0x6da)][_0x4c88f4(0x65c)]?.[_0x4c88f4(0x2e2)])&&!_0x228d64[_0x4c88f4(0x6da)][_0x4c88f4(0x65c)]?.[_0x4c88f4(0x30d)])throw new g(_0x4c88f4(0x235));return await this[_0x4c88f4(0x72e)][_0x4c88f4(0x707)][_0x32488c][_0x4c88f4(0x6da)](_0x228d64);}async[a0_0x4e6726(0x781)]({instanceName:_0x128d0d},_0x55a353){return await this['waMonitor']['waInstances'][_0x128d0d]['locationMessage'](_0x55a353);}async['sendPoll']({instanceName:_0x3aa4d0},_0x44c1c8){const _0x2abb61=a0_0x4e6726;return await this[_0x2abb61(0x72e)]['waInstances'][_0x3aa4d0][_0x2abb61(0x43b)](_0x44c1c8);}async['sendList']({instanceName:_0x290f1d},_0x2a4bc7){const _0x5b4328=a0_0x4e6726;return await this[_0x5b4328(0x72e)][_0x5b4328(0x707)][_0x290f1d]['listMessage'](_0x2a4bc7);}async[a0_0x4e6726(0x605)]({instanceName:_0x384e75},_0x38821f){const _0x1e7b32=a0_0x4e6726;return await this['waMonitor']['waInstances'][_0x384e75][_0x1e7b32(0x61f)](_0x38821f);}async[a0_0x4e6726(0x6f6)]({instanceName:_0xe129c3},_0x3c82e5){const _0x58ecc0=a0_0x4e6726;if(!_0x3c82e5[_0x58ecc0(0x479)][_0x58ecc0(0x4f3)][_0x58ecc0(0x45e)](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0x58ecc0(0x3fb));return await this[_0x58ecc0(0x72e)][_0x58ecc0(0x707)][_0xe129c3]['reactionMessage'](_0x3c82e5);}async[a0_0x4e6726(0x2b5)]({instanceName:_0xa7ac65},_0x481f81){const _0xe5772a=a0_0x4e6726;return await this[_0xe5772a(0x72e)]['waInstances'][_0xa7ac65][_0xe5772a(0x6c0)](_0x481f81);}},Ut=class{constructor(_0x36f132){const _0x268184=a0_0x4e6726;this[_0x268184(0x72e)]=_0x36f132;}async[a0_0x4e6726(0x798)](_0x4d8393,_0x3282b3){const _0x54b0a0=a0_0x4e6726;return await this[_0x54b0a0(0x72e)]['waInstances'][_0x4d8393[_0x54b0a0(0x4b3)]]['createGroup'](_0x3282b3);}async[a0_0x4e6726(0x699)](_0x50e5ef,_0x2b19ee){const _0x23fc72=a0_0x4e6726;return await this[_0x23fc72(0x72e)][_0x23fc72(0x707)][_0x50e5ef[_0x23fc72(0x4b3)]][_0x23fc72(0x699)](_0x2b19ee);}async[a0_0x4e6726(0x424)](_0x392da3,_0x936987){const _0x2e7c92=a0_0x4e6726;return await this[_0x2e7c92(0x72e)][_0x2e7c92(0x707)][_0x392da3[_0x2e7c92(0x4b3)]][_0x2e7c92(0x424)](_0x936987);}async['groupName'](_0x4e5221,_0x53c8b7){const _0x275b60=a0_0x4e6726;return await this[_0x275b60(0x72e)][_0x275b60(0x707)][_0x4e5221['instanceName']][_0x275b60(0x1df)](_0x53c8b7);}async[a0_0x4e6726(0x4a1)](_0x29c82a,_0x1128c2){const _0x21a1da=a0_0x4e6726;return await this['waMonitor'][_0x21a1da(0x707)][_0x29c82a[_0x21a1da(0x4b3)]][_0x21a1da(0x4a1)](_0x1128c2);}async[a0_0x4e6726(0x71d)](_0x3fccd8,_0x3e48e8){const _0x4408b9=a0_0x4e6726;return await this[_0x4408b9(0x72e)][_0x4408b9(0x707)][_0x3fccd8['instanceName']][_0x4408b9(0x4d5)](_0x3e48e8);}async[a0_0x4e6726(0x429)](_0x3da939){const _0x46fcbb=a0_0x4e6726;return await this['waMonitor']['waInstances'][_0x3da939[_0x46fcbb(0x4b3)]][_0x46fcbb(0x429)]();}async[a0_0x4e6726(0x471)](_0x3f7038,_0x38c280){const _0x3a5acb=a0_0x4e6726;return await this[_0x3a5acb(0x72e)][_0x3a5acb(0x707)][_0x3f7038[_0x3a5acb(0x4b3)]]['inviteCode'](_0x38c280);}async['joinGroup'](_0x5ab12a,_0x3d729c){const _0x3d3bef=a0_0x4e6726;return await this[_0x3d3bef(0x72e)][_0x3d3bef(0x707)][_0x5ab12a[_0x3d3bef(0x4b3)]]['joinGroup'](_0x3d729c);}async[a0_0x4e6726(0x49a)](_0x33d245,_0x436eaa){const _0x1b2d19=a0_0x4e6726;return await this[_0x1b2d19(0x72e)][_0x1b2d19(0x707)][_0x33d245['instanceName']]['revokeInviteCode'](_0x436eaa);}async['findParticipants'](_0x35fde5,_0x3f5f43){const _0x405687=a0_0x4e6726;return await this[_0x405687(0x72e)][_0x405687(0x707)][_0x35fde5['instanceName']][_0x405687(0x564)](_0x3f5f43);}async[a0_0x4e6726(0x759)](_0x49cd3d,_0x2f73d6){const _0x1c1500=a0_0x4e6726;return await this[_0x1c1500(0x72e)][_0x1c1500(0x707)][_0x49cd3d['instanceName']]['updateGParticipant'](_0x2f73d6);}async[a0_0x4e6726(0x526)](_0x3c5e27,_0x585d65){const _0x327ef5=a0_0x4e6726;return await this[_0x327ef5(0x72e)][_0x327ef5(0x707)][_0x3c5e27[_0x327ef5(0x4b3)]][_0x327ef5(0x526)](_0x585d65);}async[a0_0x4e6726(0x425)](_0x1d9350,_0x505f30){const _0x51f38b=a0_0x4e6726;return await this['waMonitor'][_0x51f38b(0x707)][_0x1d9350[_0x51f38b(0x4b3)]][_0x51f38b(0x425)](_0x505f30);}},Jt=class{constructor(_0x1806e0,_0x13d93b){const _0x18603c=a0_0x4e6726;this['waMonit']=_0x1806e0,this[_0x18603c(0x3df)]=_0x13d93b;}async[a0_0x4e6726(0x1cb)](_0x13273e,_0x8055f7){const _0xfaf060=a0_0x4e6726;try{let _0xec9a42=_0x13273e[_0xfaf060(0x5d5)];if(this[_0xfaf060(0x1fe)][_0xfaf060(0x707)][_0xec9a42['instanceName']][_0xfaf060(0x48b)][_0xfaf060(0x1d3)]===_0xfaf060(0x5b4))throw new g(_0xfaf060(0x39b));let _0x50a392=this['configService'][_0xfaf060(0x671)](_0xfaf060(0x481))[_0xfaf060(0x45a)];return _0x8055f7[_0xfaf060(0x23b)](0xc8)[_0xfaf060(0x741)]('qrcode',{'type':_0x50a392,..._0xec9a42});}catch(_0x4ba3fb){console['log'](_0xfaf060(0x61c),_0x4ba3fb);}}},Vt=class{constructor(_0x2c8678){const _0x59c43e=a0_0x4e6726;this[_0x59c43e(0x72e)]=_0x2c8678;}['create'](_0x2fb336,_0x1299c3){const _0x2faf7f=a0_0x4e6726;return this['waMonitor'][_0x2faf7f(0x707)][_0x2fb336[_0x2faf7f(0x4b3)]][_0x2faf7f(0x292)](_0x1299c3);}async[a0_0x4e6726(0x6b1)](_0x3a579f){const _0x24f05c=a0_0x4e6726;try{return await this[_0x24f05c(0x72e)]['waInstances'][_0x3a579f[_0x24f05c(0x4b3)]][_0x24f05c(0x1f3)]();}catch{return{'enabled':null,'url':''};}}},ld=new C('FlowController'),jt=class{constructor(_0x6ee678){this['waMonitor']=_0x6ee678;}async['editScheduleMessage'](_0x44ddf2,_0xd60559){const _0x18c4e8=a0_0x4e6726;return await this[_0x18c4e8(0x72e)]['waInstances'][_0x44ddf2['instanceName']][_0x18c4e8(0x556)](_0xd60559);}async[a0_0x4e6726(0x322)](_0x431d3a){const _0x4101a2=a0_0x4e6726;return await this[_0x4101a2(0x72e)][_0x4101a2(0x707)][_0x431d3a[_0x4101a2(0x4b3)]][_0x4101a2(0x322)]();}async['deleteDoneMessages'](_0x265020){const _0x2b7f46=a0_0x4e6726;return await this['waMonitor'][_0x2b7f46(0x707)][_0x265020['instanceName']][_0x2b7f46(0x75d)]();}async[a0_0x4e6726(0x606)](_0x2a70eb){const _0x3e2973=a0_0x4e6726;return await this['waMonitor'][_0x3e2973(0x707)][_0x2a70eb['instanceName']][_0x3e2973(0x606)]();}async[a0_0x4e6726(0x4d4)](_0x4d0c89,_0x3a2792){const _0x59e60f=a0_0x4e6726;return await this[_0x59e60f(0x72e)]['waInstances'][_0x4d0c89[_0x59e60f(0x4b3)]][_0x59e60f(0x4d4)](_0x3a2792);}async['updateCustomFields'](_0x12e6ef,_0x14876d){const _0x1c5bda=a0_0x4e6726;return await this[_0x1c5bda(0x72e)][_0x1c5bda(0x707)][_0x12e6ef[_0x1c5bda(0x4b3)]][_0x1c5bda(0x360)](_0x14876d);}async['updateFlowConfig'](_0x1bc73a,_0x548b7b){const _0x325c18=a0_0x4e6726;return await this[_0x325c18(0x72e)][_0x325c18(0x707)][_0x1bc73a[_0x325c18(0x4b3)]][_0x325c18(0x20d)](_0x548b7b);}async[a0_0x4e6726(0x650)](_0x569c4b,_0x515dc5){const _0x18e1c0=a0_0x4e6726;return await this[_0x18e1c0(0x72e)]['waInstances'][_0x569c4b[_0x18e1c0(0x4b3)]][_0x18e1c0(0x650)](_0x515dc5);}async[a0_0x4e6726(0x348)](_0x1d7c18,_0x415511){const _0x28dd21=a0_0x4e6726;return await this[_0x28dd21(0x72e)]['waInstances'][_0x1d7c18[_0x28dd21(0x4b3)]]['getConversation'](_0x415511);}async[a0_0x4e6726(0x5db)](_0xdc724b,_0x415694){const _0x221a77=a0_0x4e6726;return await this[_0x221a77(0x72e)][_0x221a77(0x707)][_0xdc724b['instanceName']][_0x221a77(0x5db)](_0x415694);}async[a0_0x4e6726(0x3e3)](_0x5a9db0,_0x596285){const _0x28801a=a0_0x4e6726;return await this[_0x28801a(0x72e)]['waInstances'][_0x5a9db0[_0x28801a(0x4b3)]][_0x28801a(0x3e3)](_0x596285);}async[a0_0x4e6726(0x612)](_0x172231,_0x31ce1d){const _0x4b52b1=a0_0x4e6726;return await this[_0x4b52b1(0x72e)][_0x4b52b1(0x707)][_0x172231['instanceName']]['deleteConversation'](_0x31ce1d);}async[a0_0x4e6726(0x539)](_0x5852bb,_0x393db1){const _0x4ad46f=a0_0x4e6726;return await this[_0x4ad46f(0x72e)][_0x4ad46f(0x707)][_0x5852bb[_0x4ad46f(0x4b3)]][_0x4ad46f(0x539)](_0x393db1['name']);}async[a0_0x4e6726(0x541)](_0x5cab7b,_0x2f0c67){const _0x186d86=a0_0x4e6726;return await this[_0x186d86(0x72e)]['waInstances'][_0x5cab7b['instanceName']][_0x186d86(0x541)](_0x2f0c67);}async[a0_0x4e6726(0x3cc)](_0x4723b4,_0x390836){const _0x32db0c=a0_0x4e6726;return await this['waMonitor'][_0x32db0c(0x707)][_0x4723b4['instanceName']][_0x32db0c(0x3cc)](_0x390836);}async['editFlowBlock'](_0x5353c0,_0x28bfe8){const _0x5b037e=a0_0x4e6726;return await this[_0x5b037e(0x72e)][_0x5b037e(0x707)][_0x5353c0[_0x5b037e(0x4b3)]][_0x5b037e(0x78b)](_0x28bfe8);}async['editFlowReply'](_0x3a5798,_0x20e80f){const _0x52972e=a0_0x4e6726;return await this[_0x52972e(0x72e)][_0x52972e(0x707)][_0x3a5798['instanceName']][_0x52972e(0x4a5)](_0x20e80f);}async[a0_0x4e6726(0x613)](_0x2a7f4f,_0x4bdd23){const _0x2c79dd=a0_0x4e6726;return await this['waMonitor'][_0x2c79dd(0x707)][_0x2a7f4f[_0x2c79dd(0x4b3)]]['editFlowGroup'](_0x4bdd23);}async['editFlowCondition'](_0x307838,_0x4d82f3){const _0x2d969a=a0_0x4e6726;return await this[_0x2d969a(0x72e)][_0x2d969a(0x707)][_0x307838['instanceName']][_0x2d969a(0x261)](_0x4d82f3);}async[a0_0x4e6726(0x28c)](_0x48d258,_0x5b9c7f){const _0x4c8ec2=a0_0x4e6726;return await this[_0x4c8ec2(0x72e)][_0x4c8ec2(0x707)][_0x48d258[_0x4c8ec2(0x4b3)]][_0x4c8ec2(0x28c)](_0x5b9c7f);}async[a0_0x4e6726(0x773)](_0x2ba368,_0x16af2b){const _0x3c92d0=a0_0x4e6726;return await this['waMonitor'][_0x3c92d0(0x707)][_0x2ba368[_0x3c92d0(0x4b3)]]['editFlowVariable'](_0x16af2b);}async[a0_0x4e6726(0x4b2)](_0x32337a,_0x139499){const _0x559f18=a0_0x4e6726;return await this['waMonitor'][_0x559f18(0x707)][_0x32337a['instanceName']][_0x559f18(0x4b2)](_0x139499[_0x559f18(0x5a6)]);}async[a0_0x4e6726(0x6e3)](_0x181324){const _0xf4ce28=a0_0x4e6726;return await this[_0xf4ce28(0x72e)][_0xf4ce28(0x707)][_0x181324[_0xf4ce28(0x4b3)]][_0xf4ce28(0x6e3)]();}},Ft=class{constructor(_0x27eb18){const _0x1faf33=a0_0x4e6726;this[_0x1faf33(0x454)]=_0x27eb18;}async[a0_0x4e6726(0x4f7)](_0xc1e638,_0x3efcfd){const _0x26d984=a0_0x4e6726;return this[_0x26d984(0x454)]['create'](_0xc1e638,_0x3efcfd);}async[a0_0x4e6726(0x1f3)](_0xed1553){const _0x2165d9=a0_0x4e6726;return this[_0x2165d9(0x454)][_0x2165d9(0x6b1)](_0xed1553);}},qt=class{constructor(_0x105f9f,_0x3b0674,_0x7bd45,_0x52d1a4,_0x4c12cc,_0x3c9a17){const _0x3e70b8=a0_0x4e6726;this['message']=_0x105f9f,this['chat']=_0x3b0674,this[_0x3e70b8(0x4da)]=_0x7bd45,this[_0x3e70b8(0x356)]=_0x52d1a4,this[_0x3e70b8(0x789)]=_0x4c12cc,this['dbClient']=_0x3c9a17;}get[a0_0x4e6726(0x1c8)](){return this['dbClient'];}},ys=require('path'),ro=require('fs'),Gt=class extends H{constructor(_0x493612,_0x79644d){const _0x45904a=a0_0x4e6726;super(_0x79644d),this[_0x45904a(0x2ec)]=_0x493612,this['configService']=_0x79644d;}async['create'](_0x137985,_0x5bbae3){const _0x4012e9=a0_0x4e6726;try{return this['dbSettings'][_0x4012e9(0x5ed)]?{'insertCount':(await this[_0x4012e9(0x2ec)][_0x4012e9(0x3ec)]({'_id':_0x5bbae3},{..._0x137985},{'upsert':!0x0}))['modifiedCount']}:(this[_0x4012e9(0x642)]({'path':(0x0,ys[_0x4012e9(0x6fa)])(this[_0x4012e9(0x5f9)],_0x4012e9(0x356)),'fileName':_0x5bbae3,'data':_0x137985}),{'insertCount':0x1});}catch(_0x58464d){return _0x58464d;}}async[a0_0x4e6726(0x6b1)](_0x51d8fc){const _0xba2e64=a0_0x4e6726;try{return this['dbSettings']['ENABLED']?await this[_0xba2e64(0x2ec)][_0xba2e64(0x350)]({'_id':_0x51d8fc}):JSON[_0xba2e64(0x772)]((0x0,ro[_0xba2e64(0x4c9)])((0x0,ys[_0xba2e64(0x6fa)])(this[_0xba2e64(0x5f9)],_0xba2e64(0x356),_0x51d8fc+_0xba2e64(0x6a8)),{'encoding':_0xba2e64(0x59c)}));}catch{return{};}}},bs=require('path'),no=require('fs'),Bt=class extends H{constructor(_0x4072f8,_0x47751a){const _0x54d180=a0_0x4e6726;super(_0x47751a),this[_0x54d180(0x36e)]=_0x4072f8,this[_0x54d180(0x3df)]=_0x47751a,this[_0x54d180(0x789)]=_0x47751a[_0x54d180(0x671)](_0x54d180(0x481));}async[a0_0x4e6726(0x1ab)](_0x2ca849,_0x1eb7ff){const _0x4de2e3=a0_0x4e6726;try{return this[_0x4de2e3(0x347)][_0x4de2e3(0x5ed)]?{'insertCount':(await this[_0x4de2e3(0x36e)][_0x4de2e3(0x3ec)]({'_id':_0x1eb7ff},{..._0x2ca849},{'upsert':!0x0}))['modifiedCount']}:(this[_0x4de2e3(0x642)]({'path':(0x0,bs['join'])(Ht,this[_0x4de2e3(0x789)][_0x4de2e3(0x45a)]),'fileName':_0x1eb7ff,'data':_0x2ca849}),{'insertCount':0x1});}catch(_0x50df66){return{'error':_0x50df66};}}async[a0_0x4e6726(0x6b1)](_0xc62183){const _0x323c41=a0_0x4e6726;try{return this[_0x323c41(0x347)]['ENABLED']?await this['authModel']['findOne']({'_id':_0xc62183}):JSON[_0x323c41(0x772)]((0x0,no[_0x323c41(0x4c9)])((0x0,bs[_0x323c41(0x6fa)])(Ht,this[_0x323c41(0x789)][_0x323c41(0x45a)],_0xc62183+'.json'),{'encoding':_0x323c41(0x59c)}));}catch{return{};}}},Yo=new C(a0_0x4e6726(0x73e)),Xo=new $e(E),Zo=new xt(E),ei=new He(E),ti=new Gt(Bs,E),si=new Bt(Fs,E),le=new qt(Xo,Zo,ei,ti,si,R?.[a0_0x4e6726(0x3cb)]()),F=new Pt(Yt,E,le),ai=new rt(E,F,le),oi=new Vt(F),ps=new Ft(oi),T=new jt(F),re=new kt(F,E,le,Yt,ai),Wa=new Jt(F,E),W=new Lt(F),D=new $t(F),V=new Ut(F);function a0_0x2c93(_0x3f089c,_0x5081e2){const _0x2682f1=a0_0x2682();return a0_0x2c93=function(_0x2c9319,_0xfc36ae){_0x2c9319=_0x2c9319-0x1aa;let _0x4f0f11=_0x2682f1[_0x2c9319];return _0x4f0f11;},a0_0x2c93(_0x3f089c,_0x5081e2);}Yo[a0_0x4e6726(0x436)]('Module\x20-\x20ON');var op=require('express-async-errors'),Ss=require('fs'),co=M(require(a0_0x4e6726(0x583))),lo=M(require(a0_0x4e6726(0x294))),Te=class c{static #e;static set['app'](_0x6ad421){this.#e=_0x6ad421;}static get[a0_0x4e6726(0x583)](){const _0x36d5c4=a0_0x4e6726;let {FULLCHAIN:_0x1d7d04,PRIVKEY:_0x36608e}=E['get'](_0x36d5c4(0x1e3));return co['createServer']({'cert':(0x0,Ss['readFileSync'])(_0x1d7d04),'key':(0x0,Ss[_0x36d5c4(0x4c9)])(_0x36608e)},c.#e);}static get['http'](){const _0xc3476=a0_0x4e6726;return lo[_0xc3476(0x46e)](c.#e);}},ge=M(require('fs')),fo=M(require(a0_0x4e6726(0x6a4))),Re=M(require('axios')),Ie=M(require(a0_0x4e6726(0x3ee))),Oe=require(a0_0x4e6726(0x5ac));function ii(){const _0x34e006=a0_0x4e6726;F['loadInstance']();let _0x4129f4=Ie[_0x34e006(0x38c)][_0x34e006(0x6fa)](__dirname,'downloads');ho(_0x4129f4);}var ho=_0x89a129=>{const _0x2019a8=a0_0x4e6726;let _0x199119=ge[_0x2019a8(0x38c)][_0x2019a8(0x53e)](_0x89a129),_0x3380c0=0xc*0x3c*0x3c*0x3e8,_0x23dd73=0x2*0x3c*0x3c*0x3e8,_0x8d18b5=new Date()[_0x2019a8(0x4dc)]();_0x199119[_0x2019a8(0x655)](_0x14c9a8=>{const _0x2c33c0=_0x2019a8;let _0x246d88=Ie[_0x2c33c0(0x38c)]['join'](_0x89a129,_0x14c9a8),_0x5261b0=ge[_0x2c33c0(0x38c)][_0x2c33c0(0x33f)](_0x246d88)[_0x2c33c0(0x5dc)][_0x2c33c0(0x4dc)]();_0x8d18b5-_0x5261b0>_0x3380c0&&(ge['default'][_0x2c33c0(0x4e7)](_0x246d88),console[_0x2c33c0(0x262)](_0x2c33c0(0x367)+_0x14c9a8));}),setTimeout(()=>ho(_0x89a129),_0x23dd73);};function ri(){const _0x410eea=a0_0x4e6726;let _0x211936=new C(_0x410eea(0x614)),_0x978cd9=(0x0,me[_0x410eea(0x38c)])();_0x978cd9[_0x410eea(0x5bb)]((0x0,mo[_0x410eea(0x38c)])({'origin'(_0x17741e,_0x3b189d){const _0x338615=_0x410eea;let {ORIGIN:_0x4a0e4}=E[_0x338615(0x671)](_0x338615(0x224));return _0x17741e||(_0x17741e='*'),_0x4a0e4[_0x338615(0x50b)]('*')!==-0x1||_0x4a0e4[_0x338615(0x50b)](_0x17741e)!==-0x1?_0x3b189d(null,!0x0):_0x3b189d(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...E['get'](_0x410eea(0x224))[_0x410eea(0x450)]],'credentials':E[_0x410eea(0x671)]('CORS')['CREDENTIALS']}),(0x0,me[_0x410eea(0x6ab)])({'extended':!0x0,'limit':'50mb'}),(0x0,me[_0x410eea(0x25f)])({'limit':_0x410eea(0x6ba)})),_0x978cd9['use']((_0x424c80,_0x332806,_0x2538f0)=>{const _0x58a9ec=_0x410eea;_0x424c80[_0x58a9ec(0x3ee)][_0x58a9ec(0x600)]('/events')?_0x2538f0():(0x0,go[_0x58a9ec(0x38c)])()(_0x424c80,_0x332806,_0x2538f0);}),_0x978cd9['set'](_0x410eea(0x398),'hbs'),_0x978cd9[_0x410eea(0x56d)](_0x410eea(0x74b),(0x0,vs[_0x410eea(0x6fa)])(Y,'views')),_0x978cd9['use'](me[_0x410eea(0x38c)][_0x410eea(0x521)]((0x0,vs['join'])(Y,'public'))),_0x978cd9[_0x410eea(0x5bb)]((_0x5cdafe,_0x17f4d2,_0x126b52)=>{const _0x5bb3a4=_0x410eea;let _0x1befb8=_0x17f4d2[_0x5bb3a4(0x663)];_0x17f4d2[_0x5bb3a4(0x663)]=function(_0x5b5092){const _0x48ae1f=_0x5bb3a4;if(_0x5cdafe[_0x48ae1f(0x70e)][_0x48ae1f(0x6e6)]===_0x48ae1f(0x5cf)||_0x5cdafe[_0x48ae1f(0x515)][_0x48ae1f(0x6f7)]===_0x48ae1f(0x5cf)){let _0x4f6342=JSON[_0x48ae1f(0x772)](_0x5b5092);_0x5b5092=JSON[_0x48ae1f(0x286)](_0x23e088(_0x4f6342));}return _0x1befb8[_0x48ae1f(0x579)](_0x17f4d2,[_0x5b5092]);},_0x126b52();}),_0x978cd9[_0x410eea(0x5bb)]('/',Ct),_0x978cd9[_0x410eea(0x5bb)]((_0x49f25b,_0x339ab7,_0x5f079c,_0x1207a5)=>{const _0x11727c=_0x410eea;if(_0x49f25b)return _0x5f079c['status'](_0x49f25b[_0x11727c(0x23b)]||0x1f4)[_0x11727c(0x25f)](_0x49f25b);},(_0x45eeca,_0x254046,_0x261527)=>{const _0x14c381=_0x410eea;let {method:_0x44e8f1,url:_0x27ccc2}=_0x45eeca;_0x254046['status'](0x194)[_0x14c381(0x25f)]({'status':0x194,'message':'Cannot\x20'+_0x44e8f1[_0x14c381(0x639)]()+'\x20'+_0x27ccc2,'error':_0x14c381(0x3f7)}),_0x261527();});let _0x23e088=(_0x473cb4,_0x16c396=_0x410eea(0x449))=>{const _0xfdc9ea=_0x410eea;let _0x5d9b64=(_0x3f2377,_0x1920ba=null,_0x56cfb4=!0x1)=>{const _0x4fb479=a0_0x2c93;let _0x6a19b2={};return Object[_0x4fb479(0x2d7)](_0x3f2377)['forEach'](_0x2cd125=>{const _0x560992=_0x4fb479;let _0x14aada=_0x3f2377[_0x2cd125],_0xccd5e=''+_0x16c396+_0x2cd125;_0x1920ba&&!_0x56cfb4&&(_0xccd5e=_0x1920ba+'.'+_0x2cd125),!_0x14aada&&_0x14aada!==0x0&&_0x14aada!==!0x1||typeof _0x14aada>'u'?_0x6a19b2[_0xccd5e]=null:typeof _0x14aada!=_0x560992(0x390)&&!Array[_0x560992(0x245)](_0x14aada)?_0x6a19b2[_0xccd5e]=_0x14aada:typeof _0x14aada=='object'&&!Array[_0x560992(0x245)](_0x14aada)?_0x6a19b2=Object[_0x560992(0x3b2)](_0x6a19b2,_0x5d9b64(_0x14aada,_0xccd5e)):Array[_0x560992(0x245)](_0x14aada)&&(typeof _0x14aada[0x0]=='object'?(_0x6a19b2[_0xccd5e]=[],_0x14aada[_0x560992(0x655)](_0x3af70d=>{const _0x342192=_0x560992;_0x6a19b2[_0xccd5e][_0x342192(0x73c)](_0x5d9b64(_0x3af70d,_0xccd5e,!0x0));})):_0x6a19b2[_0xccd5e]=_0x14aada);}),_0x6a19b2;};return Array['isArray'](_0x473cb4)?_0x473cb4['map'](_0x4bb2b7=>_0x5d9b64(_0x4bb2b7)):typeof _0x473cb4==_0xfdc9ea(0x390)&&_0x473cb4!==null?_0x5d9b64(_0x473cb4):{};},_0x3a1da3=E[_0x410eea(0x671)]('SERVER');Te[_0x410eea(0x260)]=_0x978cd9;let _0x426137=Te[_0x3a1da3[_0x410eea(0x45a)]],_0x41f3d2='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x426137[_0x410eea(0x238)](_0x3a1da3['PORT'],()=>{const _0x27db75=_0x410eea;_0x211936[_0x27db75(0x262)](_0x41f3d2),_0x211936[_0x27db75(0x262)](_0x3a1da3[_0x27db75(0x45a)][_0x27db75(0x639)]()+_0x27db75(0x73a)+_0x3a1da3[_0x27db75(0x3e5)]);}),ii(),xs();}var ni=a0_0x4e6726(0x57d),ci=Ie[a0_0x4e6726(0x38c)][a0_0x4e6726(0x6fa)](__dirname,'./.git/config'),Ae=null;function li(){return new Promise((_0x190731,_0x5f1add)=>{const _0x5de6e6=a0_0x2c93;ge['default']['readFile'](ci,_0x5de6e6(0x59c),(_0x12c4f3,_0x24cf82)=>{const _0x3dee0d=_0x5de6e6;if(_0x12c4f3){Ae=_0x12c4f3,_0x190731();return;}fo['default'][_0x3dee0d(0x772)](_0x24cf82)[_0x3dee0d(0x385)][_0x3dee0d(0x70d)]===ni?(Ae=null,_0x190731()):(Ae=new Error(_0x3dee0d(0x3b9)),_0x190731());});});}async function ui(){const _0x453360=a0_0x4e6726;try{await li(),await Ns();}catch(_0x25e927){console[_0x453360(0x4be)](_0x453360(0x32a)+_0x25e927),process['exit'](0x1);}}ui();async function wo(){const _0x584468=a0_0x4e6726;let _0x5c7662;try{_0x5c7662=(await Re[_0x584468(0x38c)][_0x584468(0x671)]('https://jsonip.com'))['data']['ip'];}catch(_0xa5a0c8){console[_0x584468(0x4be)](_0xa5a0c8);try{_0x5c7662=(await Re[_0x584468(0x38c)][_0x584468(0x671)]('https://api.ipify.org?format=json'))[_0x584468(0x65a)]['ip'];}catch(_0x383120){console['error'](_0x383120);try{_0x5c7662=(await Re[_0x584468(0x38c)][_0x584468(0x671)]('http://checkip.dyndns.org'))[_0x584468(0x65a)][_0x584468(0x45e)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x30e075){return console[_0x584468(0x4be)](_0x30e075),!0x1;}}}return _0x5c7662;}var uo=0x0;async function di(){const _0x43dc8d=a0_0x4e6726;let _0x58c214=await new ne(E['get']('REDIS'))[_0x43dc8d(0x500)]();return console['log']('instancias:\x20',_0x58c214['length']),_0x58c214[_0x43dc8d(0x728)];}async function pi(){const _0x58e248=a0_0x4e6726;let _0x52e89f=E[_0x58e248(0x671)](_0x58e248(0x32f)),_0x16289e=E['get'](_0x58e248(0x481))['API_KEY']['KEY'],_0x3bc7ad=E[_0x58e248(0x671)](_0x58e248(0x1e3)),_0x3bbb91=await wo(),_0x4beff1=E[_0x58e248(0x671)](_0x58e248(0x614))[_0x58e248(0x3e5)];try{let _0x3d5e6d={'ip':_0x3bbb91||null,'redis_enable':_0x52e89f?.['ENABLED']||null,'apikey':_0x16289e||null,'ssl':_0x3bc7ad?.[_0x58e248(0x25b)]||null,'lastupdate':yo||null,'port':_0x4beff1||null,'gitInstallError':Ae?.[_0x58e248(0x46a)]||null};if(console[_0x58e248(0x262)](_0x58e248(0x3e0),_0x3d5e6d['ip']),_0x52e89f&&_0x52e89f[_0x58e248(0x5ed)]){let _0x4cba28=await di();_0x3d5e6d[_0x58e248(0x74f)]=_0x4cba28||null;}for(let _0x387896 in _0x3d5e6d)_0x3d5e6d[_0x58e248(0x2d2)](_0x387896)&&_0x387896!=='ip'&&(_0x3d5e6d[_0x387896]=JSON[_0x58e248(0x286)](_0x3d5e6d[_0x387896]));return(await Re[_0x58e248(0x38c)]['post']('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x3d5e6d))[_0x58e248(0x65a)];}catch(_0x19c6e9){return console[_0x58e248(0x4be)](_0x19c6e9),!0x1;}}var Es=!0x1,yo=0x217,gi=0x3,po=0x1b7740;async function Ns(){const _0x442564=a0_0x4e6726;if(!await wo())return console[_0x442564(0x4be)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),_0x442564(0x4a4);let _0x5118a9=await pi();if(_0x5118a9){if(_0x5118a9[_0x442564(0x39f)][_0x442564(0x29c)]===!0x0){E[_0x442564(0x671)]('SSL_CONF')[_0x442564(0x25b)]['includes'](_0x442564(0x3b6))&&_0x5118a9[_0x442564(0x39f)][_0x442564(0x674)]&&(await fi(_0x5118a9[_0x442564(0x39f)][_0x442564(0x674)],hi),await wi(_0x442564(0x1b1),_0x5118a9[_0x442564(0x39f)][_0x442564(0x674)]),console[_0x442564(0x262)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>bi(),0x2710)),Ae===null&&_0x5118a9[_0x442564(0x39f)][_0x442564(0x1cc)]-yo>0x0&&await mi(),Es||(Es=!0x0,ri());let _0x3b78a2=0x24*0x3c*0x3c,_0x458e3b=_0x5118a9[_0x442564(0x39f)][_0x442564(0x39a)]>_0x3b78a2?_0x3b78a2:_0x5118a9[_0x442564(0x39f)][_0x442564(0x39a)],_0xaf8c69=Number(_0x458e3b);if(isNaN(_0xaf8c69)){console[_0x442564(0x4be)](_0x442564(0x66f));return;}let _0x26093f=Math['floor'](_0xaf8c69/0xe10),_0x25953a=Math[_0x442564(0x4de)](_0xaf8c69%0xe10/0x3c),_0x2ea698=new Date(Date[_0x442564(0x2dd)]()+_0xaf8c69*0x3e8);setTimeout(Ns,_0xaf8c69*0x3e8);let _0x26e4eb=_0x31e47f=>_0x31e47f[_0x442564(0x594)]()[_0x442564(0x7a0)](0x2,'0'),_0x2815cd='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x26e4eb(_0x26093f)+_0x442564(0x549)+_0x26e4eb(_0x25953a)+_0x442564(0x4c3)+_0x26e4eb(_0x2ea698['getHours']())+':'+_0x26e4eb(_0x2ea698['getMinutes']())+'.';console[_0x442564(0x262)](_0x2815cd);}else return console[_0x442564(0x262)](_0x442564(0x602)),Es&&(console['log']('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x442564(0x78c)]()),_0x442564(0x5c9);}else{if(uo++,uo<gi)console[_0x442564(0x262)](_0x442564(0x637)+po/0xea60+_0x442564(0x704)),setTimeout(Ns,po);else return console[_0x442564(0x4be)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x442564(0x35a);}}async function mi(){const _0x5af121=a0_0x4e6726;console[_0x5af121(0x262)](_0x5af121(0x1b2));let _0x3fe054=(0x0,Oe['spawn'])(_0x5af121(0x6f9),{'shell':!0x0});_0x3fe054[_0x5af121(0x48f)]['on']('data',_0x301363=>{const _0x4dd1b7=_0x5af121;console[_0x4dd1b7(0x262)](_0x4dd1b7(0x327)+_0x301363);}),_0x3fe054[_0x5af121(0x4e0)]['on'](_0x5af121(0x65a),_0x1906d7=>{const _0x2421b7=_0x5af121;console[_0x2421b7(0x4be)](_0x2421b7(0x22b)+_0x1906d7);}),_0x3fe054['on'](_0x5af121(0x78c),_0x1caa8f=>{const _0x17267d=_0x5af121;_0x1caa8f!==0x0?console[_0x17267d(0x4be)](_0x17267d(0x389)+_0x1caa8f):console['log'](_0x17267d(0x231)),console[_0x17267d(0x262)](_0x17267d(0x1b5)),setTimeout(()=>process[_0x17267d(0x78c)](),0x2710);});}var hi=Ie[a0_0x4e6726(0x38c)][a0_0x4e6726(0x6fa)](__dirname,a0_0x4e6726(0x5ff));async function fi(_0x4101c9,_0x37963e){const _0x205b83=a0_0x4e6726;let _0x5e96cc=yi();_0x4101c9=_0x4101c9[_0x205b83(0x1d9)](_0x205b83(0x627),'');try{let _0x50a4b2=ge[_0x205b83(0x38c)][_0x205b83(0x4c9)](_0x37963e,'utf8');_0x50a4b2=_0x50a4b2[_0x205b83(0x1d9)](/<apikey>/,_0x5e96cc),_0x50a4b2=_0x50a4b2[_0x205b83(0x1d9)](/<subdomain>/g,_0x4101c9),ge[_0x205b83(0x38c)][_0x205b83(0x5a5)](_0x37963e,_0x50a4b2,_0x205b83(0x368)),console[_0x205b83(0x262)]('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x5a10a4){console[_0x205b83(0x4be)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x5a10a4);}}function wi(_0x3190f6,_0x38140c){return new Promise((_0x68366d,_0x24ecfe)=>{const _0x258cae=a0_0x2c93;let _0x442a0d=(0x0,Oe['spawn'])(_0x258cae(0x332),[_0x258cae(0x33e),_0x258cae(0x648),'-m',_0x3190f6,_0x258cae(0x754),'-d',_0x38140c]);_0x442a0d[_0x258cae(0x48f)]['on'](_0x258cae(0x65a),_0x59aebf=>{const _0x4b6f59=_0x258cae;console[_0x4b6f59(0x262)]('Certbot:\x20'+_0x59aebf[_0x4b6f59(0x594)]());}),_0x442a0d[_0x258cae(0x4e0)]['on'](_0x258cae(0x65a),_0x43c89e=>{const _0x5d356b=_0x258cae;console[_0x5d356b(0x4be)](_0x5d356b(0x417)+_0x43c89e['toString']());}),_0x442a0d['on'](_0x258cae(0x571),_0x4a02d3=>{const _0x1385c4=_0x258cae;_0x4a02d3!==0x0?(console[_0x1385c4(0x4be)](_0x1385c4(0x6cf)+_0x4a02d3),_0x24ecfe('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x4a02d3)):(console['log']('Certbot\x20executado\x20com\x20sucesso.'),_0x68366d());});});}function yi(_0x26bc12=0x32){const _0x5e6fbe=a0_0x4e6726;let _0x21cf44='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x20e2c9='';for(let _0x14c869=0x0;_0x14c869<_0x26bc12;_0x14c869++)_0x20e2c9+=_0x21cf44['charAt'](Math[_0x5e6fbe(0x4de)](Math[_0x5e6fbe(0x5b8)]()*_0x21cf44[_0x5e6fbe(0x728)]));return _0x20e2c9;}function bi(){const _0x191608=a0_0x4e6726;(0x0,Oe[_0x191608(0x281)])(_0x191608(0x69f),(_0x1d80aa,_0x4528c8,_0x40a4ff)=>{const _0x28453f=_0x191608;if(_0x1d80aa){console[_0x28453f(0x4be)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x1d80aa);return;}if(_0x40a4ff){console[_0x28453f(0x4be)](_0x28453f(0x5bd)+_0x40a4ff);return;}console[_0x28453f(0x262)](_0x28453f(0x2cf)+_0x4528c8);});}