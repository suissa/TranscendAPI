const a0_0x452e81=a0_0x3d1d;(function(_0x533d03,_0x5c6169){const _0x49f2f=a0_0x3d1d,_0x492340=_0x533d03();while(!![]){try{const _0x3b6dbd=parseInt(_0x49f2f(0x51d))/0x1*(parseInt(_0x49f2f(0x32c))/0x2)+parseInt(_0x49f2f(0x33e))/0x3*(parseInt(_0x49f2f(0x264))/0x4)+parseInt(_0x49f2f(0x36c))/0x5+parseInt(_0x49f2f(0xf5))/0x6*(parseInt(_0x49f2f(0x4da))/0x7)+parseInt(_0x49f2f(0x187))/0x8+-parseInt(_0x49f2f(0x6c5))/0x9+-parseInt(_0x49f2f(0x6ef))/0xa;if(_0x3b6dbd===_0x5c6169)break;else _0x492340['push'](_0x492340['shift']());}catch(_0x1c8044){_0x492340['push'](_0x492340['shift']());}}}(a0_0x30fe,0xc3de4));var xr=Object['create'],Ie=Object['defineProperty'],Pr=Object[a0_0x452e81(0x244)],_r=Object[a0_0x452e81(0x23a)],$r=Object[a0_0x452e81(0x3a2)],kr=Object[a0_0x452e81(0x651)][a0_0x452e81(0x2eb)],Lr=(_0x733c68,_0x3f54b0)=>{for(var _0x4debf0 in _0x3f54b0)Ie(_0x733c68,_0x4debf0,{'get':_0x3f54b0[_0x4debf0],'enumerable':!0x0});},Ds=(_0x31eb3d,_0xc6bda,_0x103303,_0x1c7b76)=>{const _0x568195=a0_0x452e81;if(_0xc6bda&&typeof _0xc6bda==_0x568195(0x5aa)||typeof _0xc6bda=='function'){for(let _0x170c0c of _r(_0xc6bda))!kr[_0x568195(0x27d)](_0x31eb3d,_0x170c0c)&&_0x170c0c!==_0x103303&&Ie(_0x31eb3d,_0x170c0c,{'get':()=>_0xc6bda[_0x170c0c],'enumerable':!(_0x1c7b76=Pr(_0xc6bda,_0x170c0c))||_0x1c7b76[_0x568195(0x488)]});}return _0x31eb3d;},R=(_0x47cf9b,_0x50c3d4,_0x1cd499)=>(_0x1cd499=_0x47cf9b!=null?xr($r(_0x47cf9b)):{},Ds(_0x50c3d4||!_0x47cf9b||!_0x47cf9b[a0_0x452e81(0x2d5)]?Ie(_0x1cd499,a0_0x452e81(0x463),{'value':_0x47cf9b,'enumerable':!0x0}):_0x1cd499,_0x47cf9b)),Fr=_0x1f8115=>Ds(Ie({},'__esModule',{'value':!0x0}),_0x1f8115),zo={};Lr(zo,{'subdomain':()=>vs}),module[a0_0x452e81(0xe3)]=Fr(zo);var Rr=R(require(a0_0x452e81(0x684))),Ps=require('fs'),_s=require(a0_0x452e81(0x293)),$s=require(a0_0x452e81(0x503)),De=require(a0_0x452e81(0x503)),ae=process[a0_0x452e81(0x177)](),me=(0x0,De[a0_0x452e81(0x6c3)])(ae,a0_0x452e81(0x173)),xs=(0x0,De[a0_0x452e81(0x6c3)])(ae,a0_0x452e81(0x627)),ji=(0x0,De['join'])(ae,a0_0x452e81(0x59d),a0_0x452e81(0x129)),Yt=class{constructor(){const _0x1e8458=a0_0x452e81;this[_0x1e8458(0x540)]();}['get'](_0x59af6a){return this['env'][_0x59af6a];}[a0_0x452e81(0x540)](){const _0x3fe15c=a0_0x452e81;this[_0x3fe15c(0x335)]=process[_0x3fe15c(0x335)]?.[_0x3fe15c(0x199)]!==_0x3fe15c(0x49e)?this[_0x3fe15c(0x119)]():this[_0x3fe15c(0x57a)](),process[_0x3fe15c(0x335)]?.[_0x3fe15c(0x199)]===_0x3fe15c(0x49e)&&(this[_0x3fe15c(0x335)][_0x3fe15c(0x32e)]['TYPE']=_0x3fe15c(0x451),this['env'][_0x3fe15c(0x32e)]['PORT']=Number[_0x3fe15c(0x1a2)](process[_0x3fe15c(0x335)]?.[_0x3fe15c(0x4a8)]??_0x3fe15c(0x13e)));}['envYaml'](){const _0xce9158=a0_0x452e81;return(0x0,_s[_0xce9158(0x252)])((0x0,Ps[_0xce9158(0x2a4)])((0x0,$s[_0xce9158(0x6c3)])(xs,_0xce9158(0x48e)),{'encoding':_0xce9158(0x5e2)}));}['envProcess'](){const _0x210b12=a0_0x452e81;return{'SERVER':{'TYPE':process[_0x210b12(0x335)][_0x210b12(0x4af)],'PORT':Number[_0x210b12(0x1a2)](process[_0x210b12(0x335)][_0x210b12(0x4a8)]),'URL':process[_0x210b12(0x335)][_0x210b12(0x12a)]},'CORS':{'ORIGIN':process['env']['CORS_ORIGIN'][_0x210b12(0x688)](','),'METHODS':process[_0x210b12(0x335)][_0x210b12(0x11f)][_0x210b12(0x688)](','),'CREDENTIALS':process[_0x210b12(0x335)]?.[_0x210b12(0x3af)]===_0x210b12(0x49e)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x210b12(0x1af)],'FULLCHAIN':process[_0x210b12(0x335)]?.[_0x210b12(0x161)]},'STORE':{'CLEANING_INTERVAL':Number[_0x210b12(0x265)](process[_0x210b12(0x335)]?.[_0x210b12(0x659)])?Number[_0x210b12(0x1a2)](process[_0x210b12(0x335)][_0x210b12(0x659)]):void 0x0,'MESSAGES':process['env']?.[_0x210b12(0x70d)]===_0x210b12(0x49e),'CONTACTS':process['env']?.[_0x210b12(0x290)]===_0x210b12(0x49e),'CHATS':process[_0x210b12(0x335)]?.[_0x210b12(0x6b5)]===_0x210b12(0x49e)},'DATABASE':{'CONNECTION':{'HOST':process[_0x210b12(0x335)]?.[_0x210b12(0x1a0)],'PORT':Number['parseInt'](process[_0x210b12(0x335)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x210b12(0x335)][_0x210b12(0x3f9)],'PASSWORD':process[_0x210b12(0x335)][_0x210b12(0x5a1)],'URI':process[_0x210b12(0x335)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x210b12(0x335)][_0x210b12(0x50a)]},'ENABLED':process['env']?.[_0x210b12(0x3ee)]==='true'},'REDIS':{'ENABLED':process[_0x210b12(0x335)]?.[_0x210b12(0x30e)]===_0x210b12(0x49e),'URI':process[_0x210b12(0x335)][_0x210b12(0x5b5)]||_0x210b12(0x3b7),'PREFIX_KEY':process[_0x210b12(0x335)][_0x210b12(0x6e5)]||_0x210b12(0x2a3)},'LOG':{'LEVEL':process[_0x210b12(0x335)]?.[_0x210b12(0x211)]['split'](','),'COLOR':process[_0x210b12(0x335)]?.['LOG_COLOR']===_0x210b12(0x49e)},'AUTHENTICATION':{'TYPE':process['env']['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env'][_0x210b12(0x286)]},'JWT':{'EXPIRIN_IN':Number[_0x210b12(0x265)](process[_0x210b12(0x335)]?.[_0x210b12(0x157)])?Number[_0x210b12(0x1a2)](process[_0x210b12(0x335)][_0x210b12(0x157)]):0xe10,'SECRET':process['env'][_0x210b12(0x38b)]}}};}},b=new Yt(),Tr=R(require('cors')),pe=R(require(a0_0x452e81(0x19a))),Os=require('path'),Xt=R(require(a0_0x452e81(0x382))),Zt=(_0x4165c1=>(_0x4165c1[a0_0x452e81(0x1f0)]=a0_0x452e81(0x30f),_0x4165c1['INFO']=a0_0x452e81(0x6c2),_0x4165c1[a0_0x452e81(0x69e)]=a0_0x452e81(0x64c),_0x4165c1[a0_0x452e81(0x24f)]='\x1b[31m',_0x4165c1['DEBUG']=a0_0x452e81(0x34a),_0x4165c1[a0_0x452e81(0x3cb)]=a0_0x452e81(0x5e4),_0x4165c1[a0_0x452e81(0x339)]=a0_0x452e81(0x302),_0x4165c1))(Zt||{}),ks=(_0x4a0bbf=>(_0x4a0bbf[a0_0x452e81(0x1f0)]=a0_0x452e81(0x5ce),_0x4a0bbf[a0_0x452e81(0x339)]=a0_0x452e81(0x543),_0x4a0bbf[a0_0x452e81(0xd5)]=a0_0x452e81(0x25d),_0x4a0bbf[a0_0x452e81(0x69e)]=a0_0x452e81(0x55f),_0x4a0bbf[a0_0x452e81(0x24f)]='\x1b[31m%s\x1b[0m',_0x4a0bbf[a0_0x452e81(0x224)]=a0_0x452e81(0x562),_0x4a0bbf['VERBOSE']='\x1b[37m%s\x1b[0m',_0x4a0bbf))(ks||{}),Ls=(_0x363857=>(_0x363857[a0_0x452e81(0x1f0)]=a0_0x452e81(0x1f0),_0x363857['WARN']=a0_0x452e81(0x69e),_0x363857['INFO']=a0_0x452e81(0xd5),_0x363857[a0_0x452e81(0x339)]=a0_0x452e81(0x339),_0x363857[a0_0x452e81(0x24f)]=a0_0x452e81(0x24f),_0x363857[a0_0x452e81(0x224)]='DEBUG',_0x363857[a0_0x452e81(0x3cb)]=a0_0x452e81(0x3cb),_0x363857))(Ls||{}),Fs=(_0x334f97=>(_0x334f97[a0_0x452e81(0x1f0)]=a0_0x452e81(0x4d3),_0x334f97['INFO']=a0_0x452e81(0x589),_0x334f97[a0_0x452e81(0x69e)]='\x1b[43m',_0x334f97[a0_0x452e81(0x339)]=a0_0x452e81(0x3f0),_0x334f97[a0_0x452e81(0x24f)]=a0_0x452e81(0x4cd),_0x334f97[a0_0x452e81(0x224)]=a0_0x452e81(0x4bd),_0x334f97[a0_0x452e81(0x3cb)]='\x1b[47m',_0x334f97))(Fs||{}),v=class{constructor(_0x329c25=a0_0x452e81(0x307)){const _0x382a74=a0_0x452e81;this[_0x382a74(0x583)]=_0x329c25,this[_0x382a74(0x1b1)]=b;}['setContext'](_0x238e5a){const _0x151f78=a0_0x452e81;this[_0x151f78(0x583)]=_0x238e5a;}[a0_0x452e81(0x3bf)](_0x4f65c3,_0x2200ba){const _0x4b3f64=a0_0x452e81;let _0x5bcd8c=[];this[_0x4b3f64(0x1b1)]['get']('LOG')['LEVEL']['forEach'](_0x5485cc=>_0x5bcd8c[_0x4b3f64(0x58a)](Ls[_0x5485cc]));let _0x58e8d5=typeof _0x4f65c3;_0x5bcd8c['includes'](_0x2200ba)&&(b[_0x4b3f64(0x271)](_0x4b3f64(0x1f0))[_0x4b3f64(0x6d1)]?(console[_0x4b3f64(0x1b7)](_0x4b3f64(0x1b0)+ks[_0x2200ba],_0x4b3f64(0x398),(0x0,Xt[_0x4b3f64(0x463)])()[_0x4b3f64(0x1ff)](_0x4b3f64(0x4ec)),_0x4b3f64(0x412),Zt[_0x2200ba]+Fs[_0x2200ba]+_0x4b3f64(0x1b0),_0x2200ba+_0x4b3f64(0x4e1),_0x4b3f64(0x43b),this['context']+'\x1b[0m',Zt[_0x2200ba],_0x58e8d5!=='object'?_0x4f65c3:'','\x1b[0m'),_0x58e8d5===_0x4b3f64(0x5aa)&&console['log'](_0x4f65c3,'\x0a')):console[_0x4b3f64(0x1b7)]((0x0,Xt['default'])()[_0x4b3f64(0x1ff)]('HH:mm:ss'),_0x2200ba+'\x20',''+this[_0x4b3f64(0x583)],_0x4f65c3));}['log'](_0x52fdb2){const _0x19fe68=a0_0x452e81;this[_0x19fe68(0x3bf)](_0x52fdb2,'LOG');}[a0_0x452e81(0x342)](_0x33f2c9){const _0x2a25f1=a0_0x452e81;this[_0x2a25f1(0x3bf)](_0x33f2c9,'INFO');}['warn'](_0x4ee0ee){const _0x4e035d=a0_0x452e81;this[_0x4e035d(0x3bf)](_0x4ee0ee,'WARN');}[a0_0x452e81(0xe6)](_0x146f1e){const _0x41a4bf=a0_0x452e81;this['console'](_0x146f1e,_0x41a4bf(0x24f));}['verbose'](_0x3d391d){const _0x2b5163=a0_0x452e81;this[_0x2b5163(0x3bf)](_0x3d391d,_0x2b5163(0x3cb));}[a0_0x452e81(0x46f)](_0x4b22ba){const _0x2a954a=a0_0x452e81;this[_0x2a954a(0x3bf)](_0x4b22ba,_0x2a954a(0x224));}['dark'](_0xacb057){const _0x42ce73=a0_0x452e81;this[_0x42ce73(0x3bf)](_0xacb057,_0x42ce73(0x339));}};function Us(){const _0x34ebde=a0_0x452e81;process['on']('uncaughtException',(_0x15363c,_0x38eee5)=>{const _0x2ebc38=a0_0x3d1d;new v('uncaughtException')['error']({'origin':_0x38eee5,'stderr':process[_0x2ebc38(0x2d8)]['fd'],'error':_0x15363c});}),process['on'](_0x34ebde(0x618),(_0x414013,_0x38fc55)=>{const _0x2d9186=_0x34ebde;new v(_0x2d9186(0x618))['error']({'origin':_0x38fc55,'stderr':process[_0x2d9186(0x2d8)]['fd'],'error':_0x414013});});}var Js=R(require(a0_0x452e81(0xc6))),es=new Js['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),xe=require(a0_0x452e81(0x32b)),ts=R(require(a0_0x452e81(0x32b))),Ur=new v(a0_0x452e81(0x586)),V=b[a0_0x452e81(0x271)](a0_0x452e81(0x1ea)),N=V[a0_0x452e81(0x356)]?V[a0_0x452e81(0x481)][a0_0x452e81(0x1fc)]?ts[a0_0x452e81(0x463)][a0_0x452e81(0x4b0)](V['CONNECTION'][a0_0x452e81(0x1fc)],{'dbName':V[a0_0x452e81(0x481)]['DB_PREFIX_NAME']+'-whatsapp-api'}):ts[a0_0x452e81(0x463)][a0_0x452e81(0x4b0)](a0_0x452e81(0x156)+V[a0_0x452e81(0x481)][a0_0x452e81(0x305)]+':'+V[a0_0x452e81(0x481)]['PORT']+a0_0x452e81(0x280),{'user':V['CONNECTION'][a0_0x452e81(0x5d7)],'pass':V[a0_0x452e81(0x481)][a0_0x452e81(0x6e1)],'dbName':V[a0_0x452e81(0x481)][a0_0x452e81(0x590)]+a0_0x452e81(0x483)}):null;V[a0_0x452e81(0x356)]&&Ur[a0_0x452e81(0x342)](a0_0x452e81(0x3be)+N[a0_0x452e81(0x6f0)]);var Jr=new xe[(a0_0x452e81(0x298))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String},'chatId':{'type':String}}),jr=new xe['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),qr=new xe[(a0_0x452e81(0x298))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':jr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String]}}),js=_0x1374b9=>{const _0x43cb83=a0_0x452e81;let _0x52dc84='z_'+_0x1374b9+_0x43cb83(0x450);return N?.[_0x43cb83(0x26c)](_0x43cb83(0x314),qr,_0x52dc84);},qs=require(a0_0x452e81(0x32b)),Vr=new qs[(a0_0x452e81(0x298))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x3be12d=>{const _0x509eec=a0_0x452e81;let _0x54e5b7='z_'+_0x3be12d+_0x509eec(0x419);return N?.[_0x509eec(0x26c)]('ContactModel',Vr,_0x54e5b7);},Bs=require('mongoose'),Br=new Bs[(a0_0x452e81(0x298))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x174684=>{const _0x251f93=a0_0x452e81;let _0x3655c1='z_'+_0x174684+_0x251f93(0x6bc);return N?.[_0x251f93(0x26c)](_0x251f93(0x430),Br,_0x3655c1);},Ws=require(a0_0x452e81(0x32b)),ss=class{},Gr=new Ws[(a0_0x452e81(0x298))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'proxy':{'type':String}}),zs=N?.[a0_0x452e81(0x26c)](ss[a0_0x452e81(0x396)],Gr,a0_0x452e81(0x6ae)),Hs=require(a0_0x452e81(0x32b)),as=class{},Ks=new Hs[(a0_0x452e81(0x298))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0x452e81(0x128)]('save',function(_0x3bca68){const _0x11ef2b=a0_0x452e81;delete this[_0x11ef2b(0x561)],delete this[_0x11ef2b(0x5c7)],delete this[_0x11ef2b(0x277)],delete this['flowStopConversation'],delete this[_0x11ef2b(0x220)],_0x3bca68();});var Qs=N?.['model'](as[a0_0x452e81(0x396)],Ks,'webhook'),P=require('mongoose'),Pe=class{},Ys=new P[(a0_0x452e81(0x298))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),rs=new P[(a0_0x452e81(0x298))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Wr=new P[(a0_0x452e81(0x298))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x452e81(0x21a)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x452e81(0x6eb)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new P[(a0_0x452e81(0x298))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),zr=new P[(a0_0x452e81(0x298))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Hr=new P[(a0_0x452e81(0x298))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new P[(a0_0x452e81(0x298))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Wr},'apirequest':zr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ls=new P[(a0_0x452e81(0x298))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new P['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),os=class{},us=new P[(a0_0x452e81(0x298))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x28b11e=a0_0x452e81;return _0x28b11e(0xc4)+Math['random']()['toString'](0x24)[_0x28b11e(0x67f)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ls],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[rs],'default':[]}});us['pre']('save',function(_0x44ccab){const _0x58df63=a0_0x452e81;let _0x45c09a=new Set(),_0x11700e=new Set(this['variables']?.[_0x58df63(0x353)](_0x5e8ab8=>_0x5e8ab8[_0x58df63(0x396)])),_0x49871d=JSON['stringify'](this),_0x369e7c=/{{(?!_)([^}]*)}}/g,_0x5e567a;for(;(_0x5e567a=_0x369e7c[_0x58df63(0xea)](_0x49871d))!==null;)_0x11700e[_0x58df63(0x12e)](_0x5e567a[0x1])||_0x45c09a[_0x58df63(0x313)](_0x5e567a[0x1]);_0x45c09a[_0x58df63(0x65c)]>0x0?(console[_0x58df63(0x607)](_0x58df63(0x213),Array[_0x58df63(0x25e)](_0x45c09a)),this['variablesNotFound']=Array['from'](_0x45c09a)):this[_0x58df63(0x2e8)]=[],_0x44ccab();});var ta=_0x39848b=>{const _0xeb50c=a0_0x452e81;let _0x3f1313='z_'+_0x39848b+'_Flows';return N?.[_0xeb50c(0x26c)](_0xeb50c(0x3dc),us,_0x3f1313);},sa=N?.[a0_0x452e81(0x26c)](os[a0_0x452e81(0x396)],us,a0_0x452e81(0x5d2)),Kr=new P[(a0_0x452e81(0x298))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ls],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Hr]},{'_id':!0x1}),is=class{},aa=new P[(a0_0x452e81(0x298))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ls],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[rs],'default':[]},'chatLog':Kr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x452e81(0x2c7)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x452e81(0x36f)},'waitingMenu_replyOptions':{'type':[rs],'default':[]}}),ra=_0x473bf2=>{const _0x221258=a0_0x452e81;let _0x1ae2f8='z_'+_0x473bf2+_0x221258(0x237);return N?.[_0x221258(0x26c)]('ConversationModel',aa,_0x1ae2f8);},oa=N?.[a0_0x452e81(0x26c)](is[a0_0x452e81(0x396)],aa,'flowConversation'),ns=class{},Qr=new P[(a0_0x452e81(0x298))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Yr=new P[(a0_0x452e81(0x298))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new P[(a0_0x452e81(0x298))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x452e81(0x536)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Yr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Qr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x2f9c78=>{const _0x5f3cd9=a0_0x452e81;let _0x3538cd='z_'+_0x2f9c78+_0x5f3cd9(0x594);return N?.['model'](_0x5f3cd9(0x5a9),ia,_0x3538cd);},ca=N?.[a0_0x452e81(0x26c)](ns[a0_0x452e81(0x396)],ia,'scheduleMessages'),cs=class{},Xr=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Zr=new P[(a0_0x452e81(0x298))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x452e81(0x44d)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),eo=new P[(a0_0x452e81(0x298))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),to=new P[(a0_0x452e81(0x298))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[eo]},'customFields':{'type':[Xr]},'flowConfig':{'type':Zr,'default':{}}}),_e=N?.['model'](cs[a0_0x452e81(0x396)],to,a0_0x452e81(0x26b)),la=require('mongoose'),so=new la[(a0_0x452e81(0x298))]({'_id':{'type':String},'name':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x210fa2=>{const _0x58c779=a0_0x452e81;let _0x4366d5='z_'+_0x210fa2+_0x58c779(0x68e);return N?.[_0x58c779(0x26c)]('LabelModel',so,_0x4366d5);},I=class{constructor(_0x24d080){const _0x1c8c5d=a0_0x452e81;this[_0x1c8c5d(0xdd)]=_0x24d080[_0x1c8c5d(0x271)](_0x1c8c5d(0x1ea));}};function A(_0x456542){const _0xd6ff07=a0_0x452e81;let _0x7b8a6e={};for(let [_0x2c005b,_0x103160]of Object[_0xd6ff07(0x693)](_0x456542))if(typeof _0x103160==_0xd6ff07(0x5aa)&&!Array['isArray'](_0x103160)){for(let [_0x316ad8,_0x46c923]of Object[_0xd6ff07(0x693)](_0x103160))_0x7b8a6e[_0x2c005b+'.'+_0x316ad8]=_0x46c923;}else _0x7b8a6e[_0x2c005b]=_0x103160;return _0x7b8a6e;}var $e=class{constructor(_0x24c709,_0x5d5b9d,_0x5d2660,_0x4b2a12,_0x48599b,_0x2398f1,_0x2ca8a3,_0x538fe9,_0x38bd41,_0x4db448,_0x3e3004){const _0x1caf6d=a0_0x452e81;this[_0x1caf6d(0x46c)]=_0x24c709,this[_0x1caf6d(0x182)]=_0x5d5b9d,this[_0x1caf6d(0xc8)]=_0x5d2660,this[_0x1caf6d(0x295)]=_0x4b2a12,this[_0x1caf6d(0x129)]=_0x48599b,this[_0x1caf6d(0x5d2)]=_0x2398f1,this['flowConversation']=_0x2ca8a3,this[_0x1caf6d(0x461)]=_0x538fe9,this['scheduleMessage']=_0x38bd41,this[_0x1caf6d(0x2ac)]=_0x4db448,this[_0x1caf6d(0x2fa)]=_0x3e3004;}get[a0_0x452e81(0x2fd)](){const _0x1c6968=a0_0x452e81;return this[_0x1c6968(0x2fa)];}},ke=class{},Le=class extends I{[a0_0x452e81(0x24c)](_0x51ea82){return Gs(_0x51ea82);}async[a0_0x452e81(0x714)](_0x557634,_0x27a57a){const _0x500ead=a0_0x452e81;if(_0x557634['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x27a57a)['insertMany']([..._0x557634]))[_0x500ead(0x5c6)]};}catch(_0x958f1d){return console['log'](_0x500ead(0x690),_0x958f1d),_0x958f1d;}}async[a0_0x452e81(0x1b8)](_0x324b81,_0x1b7ad2){const _0x3b3fc4=a0_0x452e81;try{let _0xc615a1=this[_0x3b3fc4(0x24c)](_0x1b7ad2),_0x1a8e61=A(_0x324b81['where']);return await _0xc615a1[_0x3b3fc4(0x1b8)](_0x1a8e61)[_0x3b3fc4(0x198)]({'messageTimestamp':-0x1})[_0x3b3fc4(0x364)](_0x324b81?.[_0x3b3fc4(0x364)]??0x0)[_0x3b3fc4(0x5f6)]();}catch{return[];}}async[a0_0x452e81(0x470)](_0x47ddfc,_0x3ba4bf){const _0x47a7c1=a0_0x452e81;try{let _0x3305c9=this[_0x47a7c1(0x24c)](_0x3ba4bf),_0x378349=A(_0x47ddfc[_0x47a7c1(0x63e)]);await _0x3305c9[_0x47a7c1(0x59b)](_0x378349);}catch(_0x272abb){console[_0x47a7c1(0xe6)](_0x272abb);}}async[a0_0x452e81(0x121)](_0x368dce,_0x249b57,_0x238879){const _0xadf58f=a0_0x452e81;try{let _0x24802d=this[_0xadf58f(0x24c)](_0x238879),_0x122026=A(_0x368dce[_0xadf58f(0x63e)]);return await _0x24802d[_0xadf58f(0x349)](_0x122026,{'$set':_0x249b57},{'new':!0x0});}catch(_0x2ab281){throw console['error'](_0x2ab281),_0x2ab281;}}async['insertMany'](_0x4ffd17,_0x207236){const _0x2c388a=a0_0x452e81;if(_0x4ffd17['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2c388a(0x24c)](_0x207236)[_0x2c388a(0x16c)]([..._0x4ffd17]))[_0x2c388a(0x5c6)]};}catch(_0x461e09){return console[_0x2c388a(0x1b7)](_0x2c388a(0x690),_0x461e09),_0x461e09;}}async[a0_0x452e81(0x448)](_0x37c99d){const _0x5e62b3=a0_0x452e81;try{return await this['getMessageModelForOwner'](_0x37c99d)['collection'][_0x5e62b3(0x5af)](),{'success':!0x0};}catch(_0x401566){return console[_0x5e62b3(0xe6)](_0x401566),{'success':!0x1,'error':_0x401566};}}},mr=R(require(a0_0x452e81(0x59c))),y=R(require(a0_0x452e81(0x556))),ve=require('fs'),U=R(require(a0_0x452e81(0x503))),se=R(require('axios')),hr=require(a0_0x452e81(0x715)),fr=R(require('qrcode')),yr=R(require(a0_0x452e81(0x3b4))),da=['imageMessage',a0_0x452e81(0x5b7),a0_0x452e81(0x6a2),a0_0x452e81(0x55e),a0_0x452e81(0x657)],pa=[a0_0x452e81(0x3fc),a0_0x452e81(0x605),a0_0x452e81(0x10c),a0_0x452e81(0x6bf)],Ss=require('os'),At=R(require(a0_0x452e81(0x2c3))),Dt=require(a0_0x452e81(0x3a3)),Ot=require('node-mime-types'),ne=R(require(a0_0x452e81(0x32b))),k=require(a0_0x452e81(0x4e9)),he=class{constructor(_0x2d0236,_0xc4d3f9,_0x32baab){const _0x5b4179=a0_0x452e81;this[_0x5b4179(0x376)]=_0x2d0236,this[_0x5b4179(0x1a5)]=_0xc4d3f9,this['name']=_0x32baab;}},Fe=class{},Ue=class{},be=class{},Je=class{},je=class{},fe=class{},qe=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0x452e81(0x19a))),ga=require('fs'),ma=require(a0_0x452e81(0x503));async function We(_0x395f05){const _0x262a22=a0_0x452e81;let _0xee5f02=B[_0x262a22(0x713)][_0x395f05];if(V[_0x262a22(0x356)]){let _0x1063d8=N[_0x262a22(0x300)]()['db'](V[_0x262a22(0x481)]['DB_PREFIX_NAME']+'-instances')[_0x262a22(0x44a)](_0x395f05);return _0xee5f02||(await _0x1063d8['find']({})[_0x262a22(0x45c)]())[_0x262a22(0x5c6)]>0x0;}return _0xee5f02||(0x0,ga['existsSync'])((0x0,ma['join'])(me,_0x395f05));}async function ha(_0x5d183b,_0x15db16,_0x2f175f){const _0x382833=a0_0x452e81;if(_0x5d183b[_0x382833(0x4f3)][_0x382833(0x4f7)](_0x382833(0x66e))||_0x5d183b[_0x382833(0x4f3)][_0x382833(0x4f7)](_0x382833(0x66b))||_0x5d183b[_0x382833(0x4f3)][_0x382833(0x4f7)]('/exit')||_0x5d183b[_0x382833(0x4f3)][_0x382833(0x4f7)](_0x382833(0x5d8))||_0x5d183b[_0x382833(0x4f3)][_0x382833(0x4f7)](_0x382833(0x5f3))||_0x5d183b[_0x382833(0x4f3)][_0x382833(0x4f7)](_0x382833(0x58b))||_0x5d183b['originalUrl'][_0x382833(0x4f7)](_0x382833(0x673)))return _0x2f175f();let _0x3b7f40=_0x5d183b[_0x382833(0x6c0)];if(!_0x3b7f40?.['instanceName'])throw new m(_0x382833(0x111));if(!await We(_0x3b7f40[_0x382833(0x462)]))throw new F(_0x382833(0x5e9)+_0x3b7f40['instanceName']+_0x382833(0x190));_0x2f175f();}async function fa(_0x3ff092,_0xf7577,_0x4f8628){const _0x2e30ec=a0_0x452e81;if(_0x3ff092['originalUrl']['includes'](_0x2e30ec(0x66e))){let _0xe507b=_0x3ff092[_0x2e30ec(0x6ee)];if(await We(_0xe507b['instanceName']))throw new K('This\x20name\x20'+_0xe507b['instanceName']+_0x2e30ec(0x263));B[_0x2e30ec(0x713)][_0xe507b[_0x2e30ec(0x462)]]&&delete B[_0x2e30ec(0x713)][_0xe507b[_0x2e30ec(0x462)]];}_0x4f8628();}var ya=require(a0_0x452e81(0x4e9)),wa=R(require('jsonwebtoken')),ze='uazapi',ro=new v('GUARD');function a0_0x3d1d(_0xe6edc1,_0x590584){const _0x30fec5=a0_0x30fe();return a0_0x3d1d=function(_0x3d1d0c,_0x34afdc){_0x3d1d0c=_0x3d1d0c-0xb5;let _0x863150=_0x30fec5[_0x3d1d0c];return _0x863150;},a0_0x3d1d(_0xe6edc1,_0x590584);}async function oo(_0x246069,_0x3d55ff,_0x58c8b9){const _0x475b26=a0_0x452e81;let _0x5414d8=_0x246069[_0x475b26(0x271)](_0x475b26(0x229));if(_0x5414d8&&b[_0x475b26(0x271)](_0x475b26(0x3b9))[_0x475b26(0x394)][_0x475b26(0x4d5)]!==_0x5414d8)throw new ee();if(b[_0x475b26(0x271)](_0x475b26(0x3b9))[_0x475b26(0x394)][_0x475b26(0x4d5)]===_0x5414d8)return _0x58c8b9();if((_0x246069[_0x475b26(0x4f3)][_0x475b26(0x4f7)](_0x475b26(0x66e))||_0x246069['originalUrl']['includes'](_0x475b26(0x66b)))&&!_0x5414d8)throw new K('Missing\x20global\x20api\x20key',_0x475b26(0x31f));let _0x5d1bc5=b[_0x475b26(0x271)](_0x475b26(0x3b9))[_0x475b26(0x164)];try{let [_0x11f0f7,_0x4fbd85]=_0x246069['get'](_0x475b26(0x491))[_0x475b26(0x688)]('\x20');if(_0x11f0f7[_0x475b26(0x2d0)]()!==_0x475b26(0xfe))throw new ee();if(!(0x0,ya[_0x475b26(0x3ae)])(_0x4fbd85))throw new ee();let _0x51e445=_0x246069[_0x475b26(0x6c0)],_0x348753=wa['default'][_0x475b26(0x711)](_0x4fbd85,_0x5d1bc5['SECRET'],{'ignoreExpiration':_0x5d1bc5[_0x475b26(0x238)]===0x0});if(_0x51e445[_0x475b26(0x462)]!==_0x348753[_0x475b26(0x462)]||ze!==_0x348753['apiName'])throw new ee();return _0x58c8b9();}catch(_0x29924b){throw ro[_0x475b26(0xe6)](_0x29924b),new ee();}}async function io(_0x5f1c35,_0x2f50f9,_0x2274b2){const _0x8fcec4=a0_0x452e81;let _0x36ae03=b['get'](_0x8fcec4(0x3b9))['API_KEY'],_0x309c36=_0x5f1c35[_0x8fcec4(0x271)](_0x8fcec4(0x229));if(_0x36ae03[_0x8fcec4(0x4d5)]===_0x309c36)return _0x2274b2();if(_0x5f1c35[_0x8fcec4(0x4f3)]['includes']('/instance/create')){let _0xe57dd1=He,_0x19113a=_0x5f1c35['body']['instanceName'];if(_0xe57dd1&&_0x19113a[_0x8fcec4(0x2d0)]()[_0x8fcec4(0x5f4)](_0xe57dd1[_0x8fcec4(0x2d0)]()))return _0x2274b2();if(!_0x309c36)throw new K(_0x8fcec4(0x6c1),_0x8fcec4(0x31f));}if(_0x5f1c35[_0x8fcec4(0x4f3)]['includes'](_0x8fcec4(0x66b))&&!_0x309c36)throw new K(_0x8fcec4(0x6c1),_0x8fcec4(0x31f));if(_0x5f1c35[_0x8fcec4(0x4f3)]['includes'](_0x8fcec4(0x6ed))&&!_0x309c36)throw new K(_0x8fcec4(0x6c1),_0x8fcec4(0x31f));if(_0x5f1c35[_0x8fcec4(0x4f3)]['includes'](_0x8fcec4(0x5d8))&&!_0x309c36)throw new K(_0x8fcec4(0x6c1),_0x8fcec4(0x31f));try{let _0x2e8389=_0x5f1c35['params'];if((await le[_0x8fcec4(0x129)]['find'](_0x2e8389['instanceName']))[_0x8fcec4(0x229)]===_0x309c36)return _0x2274b2();}catch{}throw new ee();}var ba={'jwt':oo,'apikey':io},Za=require(a0_0x452e81(0x19a)),C=require(a0_0x452e81(0x715)),E=(..._0x5401e4)=>{const _0x917e05=a0_0x452e81;let _0x19c624={};return _0x5401e4[_0x917e05(0x446)](_0x25a4cb=>_0x19c624[_0x25a4cb]={'minLength':0x1,'description':_0x917e05(0x357)+_0x25a4cb+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x5401e4]}},'then':{'properties':_0x19c624}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'instanceName':{'type':a0_0x452e81(0x6fc)}},...E('instanceName')},Hn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'oldToken':{'type':'string'}},'required':[a0_0x452e81(0x5e0)],...E(a0_0x452e81(0x5e0))},Kn={'properties':{'key':{'type':a0_0x452e81(0x5aa),'properties':{'id':{'type':a0_0x452e81(0x6fc)},'remoteJid':{'type':a0_0x452e81(0x6fc)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x452e81(0x5e3),a0_0x452e81(0x4c8)],...E('id',a0_0x452e81(0x5e3))},'message':{'type':'object'}}},Q={'properties':{'delay':{'type':a0_0x452e81(0x2f5),'description':a0_0x452e81(0x5b6)},'presence':{'type':a0_0x452e81(0x6fc),'enum':[a0_0x452e81(0x110),'available',a0_0x452e81(0x389),a0_0x452e81(0x1ed),'paused']}}},z={'type':'string','pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':a0_0x452e81(0xfd)},Sa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x452e81(0x5aa),'properties':{'text':{'type':a0_0x452e81(0x6fc)}},'required':['text'],...E(a0_0x452e81(0x6d8))}},'required':[a0_0x452e81(0x250),a0_0x452e81(0x66d)]},Ea={'type':a0_0x452e81(0x6fc),'pattern':a0_0x452e81(0x18a),'description':a0_0x452e81(0xfd)},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x452e81(0x6fc)}},'required':[a0_0x452e81(0x6d8)],...E(a0_0x452e81(0x6d8))}},'required':[a0_0x452e81(0x250),a0_0x452e81(0x66d)]},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x452e81(0x6fc),'enum':[a0_0x452e81(0x37c),a0_0x452e81(0x262),a0_0x452e81(0x708),a0_0x452e81(0x322)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x452e81(0x6fc)}},'required':['mediatype',a0_0x452e81(0x4f4)],...E(a0_0x452e81(0x348),a0_0x452e81(0x65f),a0_0x452e81(0x4f4))}},'required':[a0_0x452e81(0x18e),a0_0x452e81(0x66d)]},Ca={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x452e81(0x5aa),'properties':{'image':{'type':a0_0x452e81(0x6fc)}},'required':[a0_0x452e81(0x37c)],...E(a0_0x452e81(0x37c))}},'required':['stickerMessage',a0_0x452e81(0x66d)]},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x452e81(0x6fc),'enum':['text',a0_0x452e81(0x37c),a0_0x452e81(0x322),a0_0x452e81(0x708)]},'content':{'type':a0_0x452e81(0x6fc)},'caption':{'type':a0_0x452e81(0x6fc)},'backgroundColor':{'type':a0_0x452e81(0x6fc)},'font':{'type':a0_0x452e81(0x2f5),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x452e81(0x647),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x452e81(0x6fc),'pattern':'^\x5cd+','description':a0_0x452e81(0x3d2)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x452e81(0x64e),'content'],...E(a0_0x452e81(0x64e),a0_0x452e81(0xff))}},'required':[a0_0x452e81(0x5f7)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':[a0_0x452e81(0x37c),a0_0x452e81(0x262),'video',a0_0x452e81(0x322)]},'media':{'type':a0_0x452e81(0x6fc)},'fileName':{'type':a0_0x452e81(0x6fc)},'caption':{'type':a0_0x452e81(0x6fc)}},'required':[a0_0x452e81(0x467),a0_0x452e81(0x4f4)],...E(a0_0x452e81(0x348),a0_0x452e81(0x65f),a0_0x452e81(0x4f4))}},'required':[a0_0x452e81(0x18e),a0_0x452e81(0x66d)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x452e81(0x5aa),'properties':{'audio':{'type':a0_0x452e81(0x6fc)}},'required':[a0_0x452e81(0x322)],...E(a0_0x452e81(0x322))}},'required':[a0_0x452e81(0x6a2),'number']},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'number':{...z},'pollMessage':{'type':a0_0x452e81(0x5aa),'properties':{'name':{'type':a0_0x452e81(0x6fc)},'selectableCount':{'type':'number'},'values':{'type':a0_0x452e81(0x647),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x452e81(0x396),a0_0x452e81(0x179),a0_0x452e81(0x3e3)],...E(a0_0x452e81(0x396),a0_0x452e81(0x179),'values')}},'required':[a0_0x452e81(0x66d),a0_0x452e81(0x43d)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'number':{...z},'menuMessage':{'type':a0_0x452e81(0x5aa),'properties':{'text':{'type':a0_0x452e81(0x6fc)},'choices':{'type':a0_0x452e81(0x647),'minItems':0x2,'uniqueItems':!0x0}},'required':['text',a0_0x452e81(0x46b)],...E('text',a0_0x452e81(0x46b))}},'required':[a0_0x452e81(0x66d),'menuMessage']},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x452e81(0x5aa),'properties':{'title':{'type':a0_0x452e81(0x6fc)},'description':{'type':a0_0x452e81(0x6fc)},'footerText':{'type':a0_0x452e81(0x6fc)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x452e81(0x5aa),'properties':{'buttonText':{'type':a0_0x452e81(0x6fc)},'buttonId':{'type':a0_0x452e81(0x6fc)}},'required':[a0_0x452e81(0x535),a0_0x452e81(0x23e)],...E(a0_0x452e81(0x535),a0_0x452e81(0x23e))}},'mediaMessage':{'type':a0_0x452e81(0x5aa),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x452e81(0x6fc)},'mediatype':{'type':a0_0x452e81(0x6fc),'enum':[a0_0x452e81(0x37c),a0_0x452e81(0x262),a0_0x452e81(0x708)]}},'required':[a0_0x452e81(0x4f4),a0_0x452e81(0x467)],...E('media',a0_0x452e81(0x348))}},'required':['title',a0_0x452e81(0x4e7)],...E('title',a0_0x452e81(0x4c4))}},'required':['number',a0_0x452e81(0x17a)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x452e81(0x5aa),'properties':{'latitude':{'type':a0_0x452e81(0x66d)},'longitude':{'type':a0_0x452e81(0x66d)},'name':{'type':a0_0x452e81(0x6fc)},'address':{'type':'string'}},'required':[a0_0x452e81(0x49a),a0_0x452e81(0x4d2)],...E(a0_0x452e81(0x396),'addresss')}},'required':[a0_0x452e81(0x66d),'locationMessage']},Ia={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'listMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x452e81(0x6fc)},'footerText':{'type':a0_0x452e81(0x6fc)},'buttonText':{'type':'string'},'sections':{'type':a0_0x452e81(0x647),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x452e81(0x5aa),'properties':{'title':{'type':'string'},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x452e81(0x6fc)},'rowId':{'type':a0_0x452e81(0x6fc)}},'required':[a0_0x452e81(0x363),a0_0x452e81(0x482)],...E(a0_0x452e81(0x363),a0_0x452e81(0x482))}}},'required':[a0_0x452e81(0x363),a0_0x452e81(0x529)],...E(a0_0x452e81(0x363))}}},'required':['title',a0_0x452e81(0x4c4),a0_0x452e81(0x535),'sections'],...E('title',a0_0x452e81(0x4c4),a0_0x452e81(0x535),'footerText')}},'required':[a0_0x452e81(0x66d),a0_0x452e81(0x51f)]},Da={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x452e81(0x647),'items':{'type':a0_0x452e81(0x5aa),'properties':{'fullName':{'type':a0_0x452e81(0x6fc)},'phoneNumber':{'type':a0_0x452e81(0x6fc),'minLength':0xa}},'required':[a0_0x452e81(0x6fe),a0_0x452e81(0x49c)],...E(a0_0x452e81(0x6fe))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x452e81(0x66d),a0_0x452e81(0x2c6)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'reactionMessage':{'type':a0_0x452e81(0x5aa),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x452e81(0x6fc)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x452e81(0x4c8)],...E('id','remoteJid')},'reaction':{'type':a0_0x452e81(0x6fc)}},'required':[a0_0x452e81(0x2c0),a0_0x452e81(0x410)],...E(a0_0x452e81(0x410))}},'required':[a0_0x452e81(0xee)]},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x452e81(0x6fc),'pattern':a0_0x452e81(0x62e),'description':a0_0x452e81(0x6dc)}}}},_a={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'readMessages':{'type':a0_0x452e81(0x647),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x452e81(0x6fc)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x452e81(0x6fc)}},'required':['id',a0_0x452e81(0x4c8),a0_0x452e81(0x5e3)],...E('id',a0_0x452e81(0x5e3))}}},'required':['readMessages']},$a={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'privacySettings':{'type':a0_0x452e81(0x5aa),'properties':{'readreceipts':{'type':a0_0x452e81(0x6fc),'enum':[a0_0x452e81(0x38a),a0_0x452e81(0x2d2)]},'profile':{'type':'string','enum':[a0_0x452e81(0x38a),a0_0x452e81(0x48a),a0_0x452e81(0x421),'none']},'status':{'type':a0_0x452e81(0x6fc),'enum':[a0_0x452e81(0x38a),'contacts',a0_0x452e81(0x421),a0_0x452e81(0x2d2)]},'online':{'type':a0_0x452e81(0x6fc),'enum':[a0_0x452e81(0x38a),'match_last_seen']},'last':{'type':'string','enum':[a0_0x452e81(0x38a),a0_0x452e81(0x48a),'contact_blacklist','none']},'groupadd':{'type':'string','enum':['all',a0_0x452e81(0x48a),'contact_blacklist','none']}},'required':[a0_0x452e81(0x466),a0_0x452e81(0x37d),a0_0x452e81(0x409),a0_0x452e81(0x2be),a0_0x452e81(0x613),'groupadd'],...E(a0_0x452e81(0x466),a0_0x452e81(0x37d),'status',a0_0x452e81(0x2be),a0_0x452e81(0x613),a0_0x452e81(0x6d3))}},'required':[a0_0x452e81(0x439)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x452e81(0x5aa),'properties':{'id':{'type':a0_0x452e81(0x6fc)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]}},'required':['id',a0_0x452e81(0x4c8),a0_0x452e81(0x5e3)],...E('id',a0_0x452e81(0x5e3))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x452e81(0x2c0)],...E(a0_0x452e81(0x217))},'archive':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]}},'required':[a0_0x452e81(0x27e),a0_0x452e81(0x5ea)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'id':{'type':a0_0x452e81(0x6fc)},'fromMe':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x452e81(0x6fc)},'participant':{'type':'string'}},'required':['id',a0_0x452e81(0x4c8),a0_0x452e81(0x5e3)],...E('id',a0_0x452e81(0x5e3),a0_0x452e81(0x5df))},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'where':{'type':a0_0x452e81(0x5aa),'properties':{'_id':{'type':a0_0x452e81(0x6fc),'minLength':0x1},'pushName':{'type':a0_0x452e81(0x6fc),'minLength':0x1},'id':{'type':a0_0x452e81(0x6fc),'minLength':0x1}},...E('_id','id',a0_0x452e81(0x646))}}},Ua={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':a0_0x452e81(0x6fc)}},...E('name')},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'status':{'type':'string'}},...E('status')},Se={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'number':{'type':a0_0x452e81(0x6fc)},'picture':{'type':a0_0x452e81(0x6fc)}}},ja={'type':a0_0x452e81(0x5aa),'properties':{'wuid':{'type':a0_0x452e81(0x6fc)},'name':{'type':a0_0x452e81(0x6fc)},'picture':{'type':'string'},'status':{'type':a0_0x452e81(0x6fc)},'isBusiness':{'type':a0_0x452e81(0x50b)}}},qa={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'where':{'type':a0_0x452e81(0x5aa),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x452e81(0x5aa),'if':{'propertyNames':{'enum':[a0_0x452e81(0x4c8),a0_0x452e81(0x5e3),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x452e81(0x6fc),'minLength':0x1,'description':a0_0x452e81(0x3c4)},'id':{'type':a0_0x452e81(0x6fc),'minLength':0x1,'description':a0_0x452e81(0x3c4)},'fromMe':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x452e81(0x5aa)}},...E('_id')},'limit':{'type':'integer'}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x452e81(0x6fc)},'remoteJid':{'type':'string'},'id':{'type':a0_0x452e81(0x6fc)},'fromMe':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x452e81(0x6fc)},'status':{'type':a0_0x452e81(0x6fc),'enum':[a0_0x452e81(0x24f),a0_0x452e81(0x63c),a0_0x452e81(0x52a),a0_0x452e81(0x27a),a0_0x452e81(0x3a7),a0_0x452e81(0x652)]}},...E(a0_0x452e81(0x294),a0_0x452e81(0x5e3),'id',a0_0x452e81(0x409))},'limit':{'type':'integer'}}},Va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':a0_0x452e81(0x6fc),'enum':[a0_0x452e81(0x110),a0_0x452e81(0x3c0),a0_0x452e81(0x389),'recording',a0_0x452e81(0xfa)]}},'required':[a0_0x452e81(0x56a),a0_0x452e81(0x66d)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x452e81(0x6fc)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x452e81(0x647),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x452e81(0x6fc),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x452e81(0x621)}}},'required':[a0_0x452e81(0xce),a0_0x452e81(0x514)],...E(a0_0x452e81(0xce),a0_0x452e81(0x4c4),a0_0x452e81(0x3ad))},Ee={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x452e81(0x6fc),'pattern':a0_0x452e81(0x4f1)}},'required':[a0_0x452e81(0x3a6)],...E('groupJid')},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'groupJid':{'type':a0_0x452e81(0x6fc)},'action':{'type':'string','enum':[a0_0x452e81(0x313),a0_0x452e81(0x4ce),'promote',a0_0x452e81(0x697)]},'participants':{'type':a0_0x452e81(0x647),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x452e81(0x6fc),'minLength':0xa,'pattern':a0_0x452e81(0x565),'description':a0_0x452e81(0x621)}}},'required':[a0_0x452e81(0x3a6),a0_0x452e81(0x418),a0_0x452e81(0x514)],...E(a0_0x452e81(0x3a6),'action')},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x452e81(0x66d),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x452e81(0x3a6),a0_0x452e81(0x55d)],...E('groupJid',a0_0x452e81(0x55d))},za={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'groupJid':{'type':a0_0x452e81(0x6fc)},'image':{'type':'string'}},'required':['groupJid',a0_0x452e81(0x37c)],...E(a0_0x452e81(0x3a6),a0_0x452e81(0x37c))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'groupJid':{'type':a0_0x452e81(0x6fc)},'description':{'type':a0_0x452e81(0x6fc)}},'required':[a0_0x452e81(0x3a6),a0_0x452e81(0x4c4)],...E(a0_0x452e81(0x3a6),'description')},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x452e81(0x6fc)},'name':{'type':'string'}},'required':[a0_0x452e81(0x3a6),a0_0x452e81(0x396)],...E('groupJid',a0_0x452e81(0x396))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x452e81(0x6fc),'enum':['announcement',a0_0x452e81(0x18b),a0_0x452e81(0x592),'locked']}},'required':['groupJid',a0_0x452e81(0x701)],...E(a0_0x452e81(0x3a6),a0_0x452e81(0x701))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x452e81(0x5aa),'properties':{'inviteCode':{'type':a0_0x452e81(0x6fc)}},'required':[a0_0x452e81(0x695)],...E('inviteCode')},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':a0_0x452e81(0x6fc)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x452e81(0x50e),a0_0x452e81(0x37a)]},Zn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x452e81(0x50b),'enum':[!0x0,!0x1]}},'required':[a0_0x452e81(0x228),a0_0x452e81(0x46e),'QRCODE_UPDATED','MESSAGES_SET',a0_0x452e81(0x6ff),a0_0x452e81(0x372),a0_0x452e81(0x393),a0_0x452e81(0x216),a0_0x452e81(0x479),a0_0x452e81(0x526),a0_0x452e81(0x392),a0_0x452e81(0x547),a0_0x452e81(0x68a),a0_0x452e81(0x576),a0_0x452e81(0x114),'CONNECTION_UPDATE',a0_0x452e81(0x653),a0_0x452e81(0x6da),a0_0x452e81(0x3b0)],...E(a0_0x452e81(0x228),a0_0x452e81(0x46e),a0_0x452e81(0x181),'MESSAGES_SET','MESSAGES_UPDATE',a0_0x452e81(0x372),a0_0x452e81(0x393),'CONTACTS_SET','CONTACTS_UPSERT',a0_0x452e81(0x526),a0_0x452e81(0x392),a0_0x452e81(0x547),a0_0x452e81(0x68a),'CHATS_UPDATE','CHATS_DELETE',a0_0x452e81(0x4d0),a0_0x452e81(0x653),a0_0x452e81(0x6da),a0_0x452e81(0x3b0))},Ke=class{},Qe=class extends I{['getContactModelForOwner'](_0x1aacde){return Vs(_0x1aacde);}async[a0_0x452e81(0x714)](_0x11558c){const _0x49b8ca=a0_0x452e81;if(_0x11558c['length']!==0x0)try{return{'insertCount':(await this[_0x49b8ca(0x465)](_0x11558c[0x0][_0x49b8ca(0x334)])[_0x49b8ca(0x16c)]([..._0x11558c]))[_0x49b8ca(0x5c6)]};}catch(_0x464309){return _0x464309;}}async[a0_0x452e81(0x470)](_0x15578b,_0x1e0d03){const _0x17e2d8=a0_0x452e81;try{return{'deletedCount':(await this[_0x17e2d8(0x465)](_0x1e0d03)[_0x17e2d8(0x59b)]({..._0x15578b['where']}))['deletedCount']};}catch(_0xda0cc7){return{'error':_0xda0cc7?.[_0x17e2d8(0x52d)]()};}}async[a0_0x452e81(0x121)](_0xd776cb,_0x947567){const _0x57e417=a0_0x452e81;try{if(_0xd776cb[_0x57e417(0x5c6)]===0x0)return;let _0x3ddc39=this['getContactModelForOwner'](_0x947567),_0x7a2ab3=_0xd776cb[_0x57e417(0x353)](_0x59efef=>({'updateOne':{'filter':{'_id':_0x59efef['_id'],'owner':_0x947567},'update':{..._0x59efef}}})),{modifiedCount:_0x2b0f6f}=await _0x3ddc39[_0x57e417(0x141)](_0x7a2ab3);return{'insertCount':_0x2b0f6f};}catch{return;}}async['find'](_0x1630bd,_0x2c4653){const _0x373d07=a0_0x452e81;try{let _0x2ffdb5=this[_0x373d07(0x465)](_0x2c4653),_0x1b59a6=A(_0x1630bd[_0x373d07(0x63e)]);return await _0x2ffdb5[_0x373d07(0x1b8)](_0x1b59a6)[_0x373d07(0x364)](_0x1630bd?.[_0x373d07(0x364)]??0x0)[_0x373d07(0x5f6)]();}catch{return[];}}async[a0_0x452e81(0x6f9)](_0x4317e5,_0x559d90){const _0x1fdc41=a0_0x452e81;try{let _0x6f4f7e=this['getContactModelForOwner'](_0x559d90),_0x255b3f=A(_0x4317e5[_0x1fdc41(0x63e)]);return await _0x6f4f7e[_0x1fdc41(0x6f9)](_0x255b3f)[_0x1fdc41(0x5f6)]();}catch{return null;}}async[a0_0x452e81(0x448)](_0x1c0a12){const _0x1a2619=a0_0x452e81;try{return await this['getContactModelForOwner'](_0x1c0a12)['collection'][_0x1a2619(0x5af)](),{'success':!0x0};}catch(_0x2fe96b){return console[_0x1a2619(0xe6)](_0x2fe96b),{'success':!0x1,'error':_0x2fe96b};}}},Ye=require('jsonschema'),cc=require(a0_0x452e81(0x6df)),ds=new v('Validate'),j=class{['routerPath'](_0x4b9e3b,_0x295d88=!0x0){const _0xc29452=a0_0x452e81;let _0xb99464='/'+_0x4b9e3b;return _0x295d88&&(_0xb99464+=_0xc29452(0xe0)),_0xb99464;}async['dataValidate'](_0x24ffd4){const _0x58972f=a0_0x452e81;let {request:_0x50e9f1,schema:_0x1f30f5,ClassRef:_0x341427,execute:_0x4ad4f7}=_0x24ffd4,_0x40b599=new _0x341427(),_0x58bd88=_0x50e9f1[_0x58972f(0x6ee)],_0x3b6f4b=_0x50e9f1['params'];_0x50e9f1?.[_0x58972f(0x2c1)]&&Object[_0x58972f(0x327)](_0x50e9f1[_0x58972f(0x2c1)])[_0x58972f(0x5c6)]>0x0&&Object[_0x58972f(0x14c)](_0x3b6f4b,_0x50e9f1['query']),_0x50e9f1['originalUrl'][_0x58972f(0x4f7)](_0x58972f(0x66e))&&Object['assign'](_0x3b6f4b,_0x58bd88),Object[_0x58972f(0x14c)](_0x40b599,_0x58bd88);let _0x12e6ab=_0x1f30f5?(0x0,Ye[_0x58972f(0x268)])(_0x40b599,_0x1f30f5):{'valid':!0x0,'errors':[]};if(!_0x12e6ab[_0x58972f(0x288)]){let _0x5c12fc=_0x12e6ab[_0x58972f(0x2e5)][_0x58972f(0x353)](({property:_0x22c5be,stack:_0x387f7f,schema:_0xb1879c})=>{const _0x58052f=_0x58972f;let _0x59f416;return _0xb1879c[_0x58052f(0x4c4)]?_0x59f416=_0xb1879c[_0x58052f(0x4c4)]:_0x59f416=_0x387f7f[_0x58052f(0x24b)](_0x58052f(0x195),''),{'property':_0x22c5be[_0x58052f(0x24b)]('instance.',''),'message':_0x59f416};});throw ds[_0x58972f(0xe6)]([..._0x5c12fc]),new m(..._0x5c12fc);}return await _0x4ad4f7(_0x3b6f4b,_0x40b599);}async[a0_0x452e81(0x4a6)](_0x575106){const _0x15f455=a0_0x452e81;let {request:_0x5dd378,ClassRef:_0xe900ab,schema:_0x18195a,execute:_0x4e7d77}=_0x575106,_0x17ae81=_0x5dd378[_0x15f455(0x2c1)];if(!_0x17ae81?.[_0x15f455(0x3a6)])throw new m(_0x15f455(0x143),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x45d594=_0x5dd378[_0x15f455(0x6c0)],_0x147bc0=_0x5dd378[_0x15f455(0x6ee)],_0xaf04fe=new _0xe900ab();Object[_0x15f455(0x14c)](_0x147bc0,_0x17ae81),Object[_0x15f455(0x14c)](_0xaf04fe,_0x147bc0);let _0x59a3a0=(0x0,Ye[_0x15f455(0x268)])(_0xaf04fe,_0x18195a);if(!_0x59a3a0['valid']){let _0x1eed20=_0x59a3a0['errors'][_0x15f455(0x353)](({property:_0xb2ff6e,stack:_0x3d5970,schema:_0x5b8c4f})=>{const _0x192457=_0x15f455;let _0x331db0;return _0x5b8c4f['description']?_0x331db0=_0x5b8c4f[_0x192457(0x4c4)]:_0x331db0=_0x3d5970[_0x192457(0x24b)](_0x192457(0x195),''),{'property':_0xb2ff6e['replace']('instance.',''),'message':_0x331db0};});throw ds['error']([..._0x1eed20]),new m(..._0x1eed20);}return await _0x4e7d77(_0x45d594,_0xaf04fe);}async[a0_0x452e81(0x16e)](_0x1f271c){const _0x1db7b8=a0_0x452e81;let {request:_0x3e964e,ClassRef:_0x40357c,schema:_0x4422bc,execute:_0x3c33e1}=_0x1f271c,_0x28d742=_0x3e964e[_0x1db7b8(0x6ee)];if(!_0x28d742?.['inviteCode'])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x1db7b8(0x569));let _0x45ae91=_0x3e964e[_0x1db7b8(0x6c0)],_0x75a694=_0x3e964e[_0x1db7b8(0x6ee)],_0x132e39=new _0x40357c();Object[_0x1db7b8(0x14c)](_0x75a694,_0x28d742),Object['assign'](_0x132e39,_0x75a694);let _0x4b5cec=(0x0,Ye[_0x1db7b8(0x268)])(_0x132e39,_0x4422bc);if(!_0x4b5cec['valid']){let _0x5d10a4=_0x4b5cec['errors'][_0x1db7b8(0x353)](({property:_0x8076b0,stack:_0x38b1f5,schema:_0x40ade3})=>{const _0x4ff1a3=_0x1db7b8;let _0x475587;return _0x40ade3[_0x4ff1a3(0x4c4)]?_0x475587=_0x40ade3['description']:_0x475587=_0x38b1f5['replace'](_0x4ff1a3(0x195),''),{'property':_0x8076b0['replace'](_0x4ff1a3(0x195),''),'message':_0x475587};});throw ds[_0x1db7b8(0xe6)]([..._0x5d10a4]),new m(..._0x5d10a4);}return await _0x3c33e1(_0x45ae91,_0x132e39);}},S=class{},Mc=new v(a0_0x452e81(0xe4)),Xe=class extends j{constructor(..._0x455941){const _0x29aa96=a0_0x452e81;super(),this[_0x29aa96(0x61f)]=(0x0,Za[_0x29aa96(0x21e)])(),this['router'][_0x29aa96(0x14b)](this[_0x29aa96(0x28d)]('updatePresence'),..._0x455941,async(_0x989d3b,_0x3a26d7)=>{const _0x36aca7=_0x29aa96;let _0x1d68ca=await this[_0x36aca7(0x15b)]({'request':_0x989d3b,'schema':Va,'ClassRef':Fe,'execute':(_0x22b17a,_0xe468f7)=>D[_0x36aca7(0x53e)](_0x22b17a,_0xe468f7)});return _0x3a26d7[_0x36aca7(0x409)](0xc9)[_0x36aca7(0x1d5)](_0x1d68ca);})[_0x29aa96(0x14b)](this[_0x29aa96(0x28d)](_0x29aa96(0x595)),..._0x455941,async(_0x68410d,_0x20fc17)=>{const _0x413320=_0x29aa96;let _0x5d3f52=await this['dataValidate']({'request':_0x68410d,'schema':Pa,'ClassRef':Ue,'execute':(_0x113ac1,_0x558fe3)=>D[_0x413320(0x321)](_0x113ac1,_0x558fe3)});return _0x20fc17[_0x413320(0x409)](0xc9)[_0x413320(0x1d5)](_0x5d3f52);})[_0x29aa96(0x14b)](this['routerPath'](_0x29aa96(0x2ee)),..._0x455941,async(_0x2acb47,_0x474f80)=>{const _0x7a59dc=_0x29aa96;let _0x13cc0e=await this[_0x7a59dc(0x15b)]({'request':_0x2acb47,'schema':M,'ClassRef':S,'execute':(_0x40aec9,_0x3fcb84)=>D[_0x7a59dc(0x2ee)](_0x40aec9,_0x3fcb84)});return _0x474f80['status'](0xc9)[_0x7a59dc(0x1d5)](_0x13cc0e);})['put'](this['routerPath'](_0x29aa96(0x272)),..._0x455941,async(_0x5661d2,_0x55e421)=>{const _0x283fca=_0x29aa96;let _0x5f31b3=await this[_0x283fca(0x15b)]({'request':_0x5661d2,'schema':_a,'ClassRef':qe,'execute':(_0x3930ae,_0x3011c0)=>D['readMessage'](_0x3930ae,_0x3011c0)});return _0x55e421[_0x283fca(0x409)](0xc9)[_0x283fca(0x1d5)](_0x5f31b3);})[_0x29aa96(0x145)](this[_0x29aa96(0x28d)](_0x29aa96(0x655)),..._0x455941,async(_0x28db62,_0x595cc2)=>{const _0x1716ae=_0x29aa96;let _0x18803b=await this[_0x1716ae(0x15b)]({'request':_0x28db62,'schema':ka,'ClassRef':Ve,'execute':(_0x34db38,_0x49ed68)=>D[_0x1716ae(0x655)](_0x34db38,_0x49ed68)});return _0x595cc2[_0x1716ae(0x409)](0xc9)[_0x1716ae(0x1d5)](_0x18803b);})[_0x29aa96(0x470)](this['routerPath'](_0x29aa96(0x186)),..._0x455941,async(_0x2e55d2,_0x1c5de5)=>{const _0x406f06=_0x29aa96;let _0x32d42c=await this[_0x406f06(0x15b)]({'request':_0x2e55d2,'schema':La,'ClassRef':Ge,'execute':(_0x38b320,_0x56fa4c)=>D['deleteMessage'](_0x38b320,_0x56fa4c)});return _0x1c5de5[_0x406f06(0x409)](0xc9)['json'](_0x32d42c);})[_0x29aa96(0x14b)](this[_0x29aa96(0x28d)](_0x29aa96(0x362)),..._0x455941,async(_0x4b9e65,_0x3f6758)=>{const _0x2a97e6=_0x29aa96;let _0x2498b8=await this[_0x2a97e6(0x15b)]({'request':_0x4b9e65,'schema':Se,'ClassRef':be,'execute':(_0x1d2146,_0x1b4c1f)=>D[_0x2a97e6(0x504)](_0x1d2146,_0x1b4c1f)});return _0x3f6758[_0x2a97e6(0x409)](0xc8)['json'](_0x2498b8);})[_0x29aa96(0x14b)](this[_0x29aa96(0x28d)]('fetchProfile'),..._0x455941,async(_0x301b65,_0x333bc4)=>{const _0x20380f=_0x29aa96;let _0x3b85e2=await this['dataValidate']({'request':_0x301b65,'schema':ja,'ClassRef':be,'execute':(_0x3f00c0,_0x27dcbe)=>D[_0x20380f(0x60e)](_0x3f00c0,_0x27dcbe)});return _0x333bc4[_0x20380f(0x409)](0xc8)[_0x20380f(0x1d5)](_0x3b85e2);})[_0x29aa96(0x14b)](this['routerPath'](_0x29aa96(0x2cd)),..._0x455941,async(_0x241a05,_0x25b016)=>{const _0x24e59b=_0x29aa96;let _0xb825e9=await this[_0x24e59b(0x15b)]({'request':_0x241a05,'schema':Fa,'ClassRef':Ke,'execute':(_0x13f641,_0x565fda)=>D['fetchContacts'](_0x13f641,_0x565fda)});return _0x25b016['status'](0xc8)[_0x24e59b(0x1d5)](_0xb825e9);})['post'](this['routerPath'](_0x29aa96(0x20e)),..._0x455941,async(_0x1515a9,_0x2d72d4)=>{const _0x2731ab=_0x29aa96;let _0xdc7d5b=await this[_0x2731ab(0x15b)]({'request':_0x1515a9,'schema':null,'ClassRef':Object,'execute':(_0x49edbf,_0x405777)=>D['getBase64FromMediaMessage'](_0x49edbf,_0x405777)});return _0x2d72d4[_0x2731ab(0x409)](0xc9)[_0x2731ab(0x1d5)](_0xdc7d5b);})[_0x29aa96(0x14b)](this[_0x29aa96(0x28d)](_0x29aa96(0x21b)),..._0x455941,async(_0x26fc3b,_0x2e1190)=>{const _0xf68aff=_0x29aa96;let _0x4880c9=await this[_0xf68aff(0x15b)]({'request':_0x26fc3b,'schema':qa,'ClassRef':ke,'execute':(_0x176edb,_0x3c0b22)=>D[_0xf68aff(0x1d6)](_0x176edb,_0x3c0b22)});return _0x2e1190['status'](0xc8)[_0xf68aff(0x1d5)](_0x4880c9);})[_0x29aa96(0x271)](this[_0x29aa96(0x28d)](_0x29aa96(0x492)),..._0x455941,async(_0x4ff87d,_0xd3f1c4)=>{const _0xa96d03=_0x29aa96;let _0x640dcb=await this[_0xa96d03(0x15b)]({'request':_0x4ff87d,'schema':null,'ClassRef':S,'execute':_0x447b3a=>D[_0xa96d03(0x447)](_0x447b3a)});return _0xd3f1c4['status'](0xc8)[_0xa96d03(0x1d5)](_0x640dcb);})[_0x29aa96(0x271)](this[_0x29aa96(0x28d)]('findLabels'),..._0x455941,async(_0x9ac68,_0x3f0bf2)=>{const _0x119694=_0x29aa96;let _0x37bfc6=await this[_0x119694(0x15b)]({'request':_0x9ac68,'schema':null,'ClassRef':S,'execute':_0x595fe7=>D[_0x119694(0x3f4)](_0x595fe7)});return _0x3f0bf2['status'](0xc8)[_0x119694(0x1d5)](_0x37bfc6);})['put'](this[_0x29aa96(0x28d)](_0x29aa96(0x3ce)),..._0x455941,async(_0x1eb5bc,_0x359492)=>{const _0xea2de9=_0x29aa96;let _0x27081b=await this[_0xea2de9(0x15b)]({'request':_0x1eb5bc,'schema':null,'ClassRef':Array,'execute':(_0x8f1523,_0x11c4db)=>D['importChats'](_0x8f1523,_0x11c4db)});return _0x359492[_0xea2de9(0x409)](0xc8)['json'](_0x27081b);})[_0x29aa96(0x271)](this['routerPath'](_0x29aa96(0x64f)),..._0x455941,async(_0x325ba8,_0x468d05)=>{const _0x1b954b=_0x29aa96;let _0x515a7d=await this['dataValidate']({'request':_0x325ba8,'schema':null,'ClassRef':S,'execute':_0x5b38d2=>D[_0x1b954b(0x64f)](_0x5b38d2)});return _0x468d05['status'](0xc8)[_0x1b954b(0x1d5)](_0x515a7d);})[_0x29aa96(0x145)](this['routerPath'](_0x29aa96(0x23f)),..._0x455941,async(_0x1083e2,_0x5404a4)=>{const _0x26d6e9=_0x29aa96;let _0x4ba800=await this[_0x26d6e9(0x15b)]({'request':_0x1083e2,'schema':$a,'ClassRef':Be,'execute':(_0x2d7eae,_0x39f498)=>D[_0x26d6e9(0x23f)](_0x2d7eae,_0x39f498)});return _0x5404a4[_0x26d6e9(0x409)](0xc9)[_0x26d6e9(0x1d5)](_0x4ba800);})['post'](this['routerPath'](_0x29aa96(0x168)),..._0x455941,async(_0x3f0c3f,_0x2e1807)=>{const _0x484c71=_0x29aa96;let _0x3b1bac=await this[_0x484c71(0x15b)]({'request':_0x3f0c3f,'schema':Se,'ClassRef':fe,'execute':(_0x42b5c2,_0x35cc43)=>D[_0x484c71(0x168)](_0x42b5c2,_0x35cc43)});return _0x2e1807['status'](0xc8)['json'](_0x3b1bac);})[_0x29aa96(0x14b)](this[_0x29aa96(0x28d)](_0x29aa96(0x45f)),..._0x455941,async(_0x4e8801,_0x2e4925)=>{const _0x33ed7d=_0x29aa96;let _0x30c55d=await this[_0x33ed7d(0x15b)]({'request':_0x4e8801,'schema':Ua,'ClassRef':Je,'execute':(_0x4675c6,_0x22fa8b)=>D[_0x33ed7d(0x45f)](_0x4675c6,_0x22fa8b)});return _0x2e4925[_0x33ed7d(0x409)](0xc8)[_0x33ed7d(0x1d5)](_0x30c55d);})[_0x29aa96(0x14b)](this[_0x29aa96(0x28d)](_0x29aa96(0x30d)),..._0x455941,async(_0xa5adb2,_0x36dc00)=>{const _0x5a254e=_0x29aa96;let _0x9bb24d=await this['dataValidate']({'request':_0xa5adb2,'schema':Ja,'ClassRef':je,'execute':(_0x1df200,_0x3b5151)=>D[_0x5a254e(0x30d)](_0x1df200,_0x3b5151)});return _0x36dc00['status'](0xc8)['json'](_0x9bb24d);})[_0x29aa96(0x145)](this[_0x29aa96(0x28d)](_0x29aa96(0x194)),..._0x455941,async(_0x3dbb47,_0x175559)=>{const _0x5c4289=_0x29aa96;let _0x50fad6=await this[_0x5c4289(0x15b)]({'request':_0x3dbb47,'schema':Se,'ClassRef':fe,'execute':(_0x59ccb9,_0x194dc8)=>D[_0x5c4289(0x194)](_0x59ccb9,_0x194dc8)});return _0x175559[_0x5c4289(0x409)](0xc8)['json'](_0x50fad6);})[_0x29aa96(0x470)](this[_0x29aa96(0x28d)]('removeProfilePicture'),..._0x455941,async(_0x57c1e6,_0x5ebc3a)=>{const _0x304f0d=_0x29aa96;let _0x111ff2=await this[_0x304f0d(0x15b)]({'request':_0x57c1e6,'schema':Se,'ClassRef':fe,'execute':(_0x22f4be,_0xcc1b0e)=>D['removeProfilePicture'](_0x22f4be,_0xcc1b0e)});return _0x5ebc3a[_0x304f0d(0x409)](0xc8)[_0x304f0d(0x1d5)](_0x111ff2);});}},er=require(a0_0x452e81(0x19a)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},rt=class{},ot=class extends Y{},it=class extends Y{},nt=class extends j{constructor(..._0x91b7ce){const _0xfc170d=a0_0x452e81;super(),this['router']=(0x0,er[_0xfc170d(0x21e)])(),this[_0xfc170d(0x61f)]['post'](this['routerPath'](_0xfc170d(0x47e)),..._0x91b7ce,async(_0x9fb44,_0x131469)=>{const _0x1dc80c=_0xfc170d;let _0x3a0011=await this[_0x1dc80c(0x15b)]({'request':_0x9fb44,'schema':Ba,'ClassRef':Ze,'execute':(_0x54cef5,_0x1f2e54)=>J[_0x1dc80c(0x408)](_0x54cef5,_0x1f2e54)});_0x131469['status'](0xc9)[_0x1dc80c(0x1d5)](_0x3a0011);})['put'](this[_0xfc170d(0x28d)]('updateGroupPicture'),..._0x91b7ce,async(_0x49a37e,_0x311caf)=>{const _0x50aef6=_0xfc170d;let _0x59d93=await this[_0x50aef6(0x4a6)]({'request':_0x49a37e,'schema':za,'ClassRef':et,'execute':(_0x55cf0f,_0x4df81e)=>J[_0x50aef6(0x545)](_0x55cf0f,_0x4df81e)});_0x311caf[_0x50aef6(0x409)](0xc9)[_0x50aef6(0x1d5)](_0x59d93);})[_0xfc170d(0x145)](this[_0xfc170d(0x28d)]('groupDesc'),..._0x91b7ce,async(_0xdf0c31,_0x5c2b5a)=>{const _0x32419d=_0xfc170d;let _0x17f1d8=await this[_0x32419d(0x4a6)]({'request':_0xdf0c31,'schema':Ha,'ClassRef':tt,'execute':(_0x42c698,_0x1f4a5d)=>J[_0x32419d(0x350)](_0x42c698,_0x1f4a5d)});_0x5c2b5a[_0x32419d(0x409)](0xc9)['json'](_0x17f1d8);})[_0xfc170d(0x145)](this[_0xfc170d(0x28d)](_0xfc170d(0x47f)),..._0x91b7ce,async(_0x37dfb7,_0x8e20b3)=>{const _0x15d6f5=_0xfc170d;let _0xec8795=await this[_0x15d6f5(0x4a6)]({'request':_0x37dfb7,'schema':Ka,'ClassRef':st,'execute':(_0x42a9dd,_0x5184c9)=>J[_0x15d6f5(0x47f)](_0x42a9dd,_0x5184c9)});_0x8e20b3[_0x15d6f5(0x409)](0xc9)['json'](_0xec8795);})[_0xfc170d(0x145)](this['routerPath'](_0xfc170d(0x113)),..._0x91b7ce,async(_0x2c640c,_0x743842)=>{const _0x3bd275=_0xfc170d;let _0x2f3bf4=await this['groupValidate']({'request':_0x2c640c,'schema':Qa,'ClassRef':at,'execute':(_0x1db662,_0x1905a0)=>J['groupSetting'](_0x1db662,_0x1905a0)});_0x743842[_0x3bd275(0x409)](0xc9)[_0x3bd275(0x1d5)](_0x2f3bf4);})[_0xfc170d(0x145)](this[_0xfc170d(0x28d)]('toggleEphemeral'),..._0x91b7ce,async(_0x23f1ca,_0xe19866)=>{const _0x47990f=_0xfc170d;let _0x1a2365=await this[_0x47990f(0x4a6)]({'request':_0x23f1ca,'schema':Wa,'ClassRef':it,'execute':(_0x4e5e64,_0x3884d8)=>J[_0x47990f(0x6fa)](_0x4e5e64,_0x3884d8)});_0xe19866[_0x47990f(0x409)](0xc9)['json'](_0x1a2365);})['get'](this[_0xfc170d(0x28d)](_0xfc170d(0x661)),..._0x91b7ce,async(_0x5247fe,_0x253cc6)=>{const _0x1b6d8d=_0xfc170d;let _0x272e77=await this['groupValidate']({'request':_0x5247fe,'schema':Ee,'ClassRef':Y,'execute':(_0x4a661a,_0x54e18c)=>J[_0x1b6d8d(0x4b2)](_0x4a661a,_0x54e18c)});_0x253cc6['status'](0xc8)['json'](_0x272e77);})[_0xfc170d(0x271)](this['routerPath'](_0xfc170d(0x126)),..._0x91b7ce,async(_0x3537fc,_0x5d4468)=>{const _0x51c981=_0xfc170d;let _0x17f52f=await this[_0x51c981(0x15b)]({'request':_0x3537fc,'schema':M,'ClassRef':S,'execute':_0x16d46=>J['findGroups'](_0x16d46)});_0x5d4468['status'](0xc8)[_0x51c981(0x1d5)](_0x17f52f);})[_0xfc170d(0x271)](this[_0xfc170d(0x28d)](_0xfc170d(0x514)),..._0x91b7ce,async(_0x19cdcc,_0x384927)=>{const _0x1fd5e8=_0xfc170d;let _0x3fdac7=await this[_0x1fd5e8(0x4a6)]({'request':_0x19cdcc,'schema':Ee,'ClassRef':Y,'execute':(_0x1d2044,_0x47eb91)=>J['findParticipants'](_0x1d2044,_0x47eb91)});_0x384927[_0x1fd5e8(0x409)](0xc8)[_0x1fd5e8(0x1d5)](_0x3fdac7);})[_0xfc170d(0x271)](this[_0xfc170d(0x28d)](_0xfc170d(0x695)),..._0x91b7ce,async(_0x24717b,_0x39b6ee)=>{const _0xe6bb45=_0xfc170d;let _0x504a3b=await this[_0xe6bb45(0x4a6)]({'request':_0x24717b,'schema':Ee,'ClassRef':Y,'execute':(_0xeb376f,_0x3dc770)=>J[_0xe6bb45(0x695)](_0xeb376f,_0x3dc770)});_0x39b6ee[_0xe6bb45(0x409)](0xc8)[_0xe6bb45(0x1d5)](_0x504a3b);})[_0xfc170d(0x145)](this['routerPath'](_0xfc170d(0x5f9)),..._0x91b7ce,async(_0x1667f3,_0x517e45)=>{const _0x53ad7e=_0xfc170d;let _0x58731a=await this[_0x53ad7e(0x16e)]({'request':_0x1667f3,'schema':Ya,'ClassRef':rt,'execute':(_0x510ee0,_0x698c7)=>J[_0x53ad7e(0x5f9)](_0x510ee0,_0x698c7)});_0x517e45[_0x53ad7e(0x409)](0xc9)[_0x53ad7e(0x1d5)](_0x58731a);})[_0xfc170d(0x145)](this[_0xfc170d(0x28d)](_0xfc170d(0x575)),..._0x91b7ce,async(_0x58751a,_0x3e0801)=>{const _0x26a985=_0xfc170d;let _0x15939a=await this[_0x26a985(0x4a6)]({'request':_0x58751a,'schema':Ee,'ClassRef':Y,'execute':(_0x5826c3,_0x1f0b18)=>J[_0x26a985(0x575)](_0x5826c3,_0x1f0b18)});_0x3e0801[_0x26a985(0x409)](0xc9)['json'](_0x15939a);})['put'](this[_0xfc170d(0x28d)](_0xfc170d(0x497)),..._0x91b7ce,async(_0x561d47,_0x1d3feb)=>{const _0x4a15ec=_0xfc170d;let _0x351a77=await this[_0x4a15ec(0x4a6)]({'request':_0x561d47,'schema':Ga,'ClassRef':ot,'execute':(_0x594043,_0x2339e2)=>J[_0x4a15ec(0x1be)](_0x594043,_0x2339e2)});_0x1d3feb[_0x4a15ec(0x409)](0xc9)['json'](_0x351a77);})[_0xfc170d(0x470)](this['routerPath'](_0xfc170d(0x133)),..._0x91b7ce,async(_0x31d63e,_0x414516)=>{const _0x43301d=_0xfc170d;let _0xad923a=await this['groupValidate']({'request':_0x31d63e,'schema':{},'ClassRef':Y,'execute':(_0x12c0d6,_0x19a7e1)=>J[_0x43301d(0x133)](_0x12c0d6,_0x19a7e1)});_0x414516[_0x43301d(0x409)](0xc8)[_0x43301d(0x1d5)](_0xad923a);});}},tr=require(a0_0x452e81(0x19a)),ct=class extends j{constructor(_0x23f6f0,..._0x588996){const _0x2ce796=a0_0x452e81;super(),this['configService']=_0x23f6f0,this[_0x2ce796(0x61f)]=(0x0,tr[_0x2ce796(0x21e)])();let _0x5cf5eb=_0x23f6f0[_0x2ce796(0x271)](_0x2ce796(0x3b9));this[_0x2ce796(0x61f)]['post'](_0x2ce796(0x273),..._0x588996,async(_0x3bd864,_0x21426f)=>{const _0x4b9030=_0x2ce796;let {instanceName:_0x3e0e9c,apikey:_0x4b7874,number:_0x25e279}=_0x3bd864[_0x4b9030(0x6ee)],_0x314d14=await re[_0x4b9030(0x15e)]({'instanceName':_0x3e0e9c,'apikey':_0x4b7874,'number':_0x25e279});return _0x21426f[_0x4b9030(0x409)](0xc9)['json'](_0x314d14);})[_0x2ce796(0x145)](this[_0x2ce796(0x28d)]('restart'),..._0x588996,async(_0x183577,_0x110e5c)=>{const _0x207e33=_0x2ce796;let _0x8fc247=await this['dataValidate']({'request':_0x183577,'schema':M,'ClassRef':S,'execute':_0x430cf0=>re[_0x207e33(0x3a5)](_0x430cf0)});return _0x110e5c[_0x207e33(0x409)](0xc8)['json'](_0x8fc247);})['post'](this[_0x2ce796(0x28d)](_0x2ce796(0x2e1)),..._0x588996,async(_0x5d5be0,_0x4c867e)=>{const _0x524c02=_0x2ce796;let _0x180c50=await this[_0x524c02(0x15b)]({'request':_0x5d5be0,'schema':M,'ClassRef':S,'execute':_0x37598e=>re['connectToWhatsappController'](_0x37598e)});return _0x4c867e[_0x524c02(0x409)](0xc8)[_0x524c02(0x1d5)](_0x180c50);})[_0x2ce796(0x271)](this['routerPath'](_0x2ce796(0x400)),..._0x588996,async(_0x15204e,_0x40091f)=>{const _0x26517a=_0x2ce796;let _0x5944ee=await this[_0x26517a(0x15b)]({'request':_0x15204e,'schema':M,'ClassRef':S,'execute':_0x2187c0=>re[_0x26517a(0x400)](_0x2187c0)});return _0x40091f[_0x26517a(0x409)](0xc8)[_0x26517a(0x1d5)](_0x5944ee);})['get'](this[_0x2ce796(0x28d)](_0x2ce796(0x40a),!0x1),..._0x588996,async(_0x4ff94e,_0x303840)=>{const _0x51346f=_0x2ce796;let _0x43fa07=await this['dataValidate']({'request':_0x4ff94e,'schema':null,'ClassRef':S,'execute':_0x412369=>re[_0x51346f(0x40a)](_0x412369)});return _0x303840['status'](0xc8)[_0x51346f(0x1d5)](_0x43fa07);})['delete'](this['routerPath'](_0x2ce796(0x46a)),..._0x588996,async(_0x5d269d,_0x188aa3)=>{const _0x240de8=_0x2ce796;let _0x532d2f=await this['dataValidate']({'request':_0x5d269d,'schema':M,'ClassRef':S,'execute':_0x5c794c=>re[_0x240de8(0x46a)](_0x5c794c)});return _0x188aa3[_0x240de8(0x409)](0xc8)['json'](_0x532d2f);})[_0x2ce796(0x470)](this['routerPath']('delete'),..._0x588996,async(_0x4cb8f5,_0x20f608)=>{const _0x36b0b9=_0x2ce796;let _0x603fa3=await this[_0x36b0b9(0x15b)]({'request':_0x4cb8f5,'schema':M,'ClassRef':S,'execute':_0x542e1a=>re[_0x36b0b9(0x4c0)](_0x542e1a)});return _0x20f608[_0x36b0b9(0x409)](0xc8)[_0x36b0b9(0x1d5)](_0x603fa3);});}},sr=require(a0_0x452e81(0x19a)),ps=class{},W=class extends ps{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},gt=class extends W{},mt=class extends W{},ht=class extends W{},ft=class extends W{},yt=class extends W{},wt=class{},bt=class extends j{constructor(..._0x178426){const _0x4de641=a0_0x452e81;super(),this[_0x4de641(0x61f)]=(0x0,sr[_0x4de641(0x21e)])(),this[_0x4de641(0x61f)]['post'](this[_0x4de641(0x28d)](_0x4de641(0x103)),..._0x178426,async(_0x3d7114,_0x3ebc35)=>{const _0x4f57cd=_0x4de641;let _0x4be342=await this[_0x4f57cd(0x15b)]({'request':_0x3d7114,'schema':Sa,'ClassRef':lt,'execute':(_0x1f2f03,_0xcee497)=>G[_0x4f57cd(0x103)](_0x1f2f03,_0xcee497)});return _0x3ebc35[_0x4f57cd(0x409)](0xc9)[_0x4f57cd(0x1d5)](_0x4be342);})['post'](this[_0x4de641(0x28d)](_0x4de641(0x56d)),..._0x178426,async(_0xb42110,_0x590535)=>{const _0x12a129=_0x4de641;let _0x2638ed=await this['dataValidate']({'request':_0xb42110,'schema':va,'ClassRef':Ce,'execute':(_0x5a58c0,_0x358e2b)=>G[_0x12a129(0x56d)](_0x5a58c0,_0x358e2b)});return _0x590535[_0x12a129(0x409)](0xc9)[_0x12a129(0x1d5)](_0x2638ed);})[_0x4de641(0x14b)](this[_0x4de641(0x28d)](_0x4de641(0x1ac)),..._0x178426,async(_0x101211,_0x4aa648)=>{const _0x1275c7=_0x4de641;let _0xa4fdcf=await this[_0x1275c7(0x15b)]({'request':_0x101211,'schema':Ta,'ClassRef':pt,'execute':(_0x3bf238,_0x4ceded)=>G['sendMenu'](_0x3bf238,_0x4ceded)});return _0x4aa648[_0x1275c7(0x409)](0xc9)[_0x1275c7(0x1d5)](_0xa4fdcf);})['post'](this[_0x4de641(0x28d)]('sendWhatsAppAudio'),..._0x178426,async(_0x504fe5,_0x1cc28f)=>{const _0x4eef1f=_0x4de641;let _0x2052de=await this[_0x4eef1f(0x15b)]({'request':_0x504fe5,'schema':Na,'ClassRef':Ce,'execute':(_0x236b85,_0x471e06)=>G['sendWhatsAppAudio'](_0x236b85,_0x471e06)});return _0x1cc28f[_0x4eef1f(0x409)](0xc9)[_0x4eef1f(0x1d5)](_0x2052de);})[_0x4de641(0x14b)](this['routerPath'](_0x4de641(0x233)),..._0x178426,async(_0x571038,_0x1d2362)=>{const _0x106e9c=_0x4de641;let _0x12bd92=await this[_0x106e9c(0x15b)]({'request':_0x571038,'schema':Aa,'ClassRef':mt,'execute':(_0x40110b,_0x11f546)=>G[_0x106e9c(0x233)](_0x40110b,_0x11f546)});return _0x1d2362['status'](0xc9)[_0x106e9c(0x1d5)](_0x12bd92);})['post'](this[_0x4de641(0x28d)](_0x4de641(0x4a0)),..._0x178426,async(_0x3413ea,_0x374dfc)=>{const _0x3531a3=_0x4de641;let _0x20e917=await this[_0x3531a3(0x15b)]({'request':_0x3413ea,'schema':Oa,'ClassRef':ht,'execute':(_0x26da81,_0x1857d7)=>G[_0x3531a3(0x4a0)](_0x26da81,_0x1857d7)});return _0x374dfc['status'](0xc9)[_0x3531a3(0x1d5)](_0x20e917);})[_0x4de641(0x14b)](this[_0x4de641(0x28d)]('sendList'),..._0x178426,async(_0x1c1bcc,_0x7f717e)=>{const _0x1cb6e8=_0x4de641;let _0x2dbe0a=await this['dataValidate']({'request':_0x1c1bcc,'schema':Ia,'ClassRef':ft,'execute':(_0x4d28db,_0x250d6c)=>G[_0x1cb6e8(0x531)](_0x4d28db,_0x250d6c)});return _0x7f717e[_0x1cb6e8(0x409)](0xc9)[_0x1cb6e8(0x1d5)](_0x2dbe0a);})['post'](this[_0x4de641(0x28d)]('sendContact'),..._0x178426,async(_0x460e05,_0x50f1fe)=>{const _0x2b9853=_0x4de641;let _0x592643=await this[_0x2b9853(0x15b)]({'request':_0x460e05,'schema':Da,'ClassRef':yt,'execute':(_0x6ffcb3,_0x261740)=>G[_0x2b9853(0x1e1)](_0x6ffcb3,_0x261740)});return _0x50f1fe[_0x2b9853(0x409)](0xc9)[_0x2b9853(0x1d5)](_0x592643);})[_0x4de641(0x14b)](this[_0x4de641(0x28d)](_0x4de641(0x5a0)),..._0x178426,async(_0x290a25,_0x5f22b0)=>{const _0x303a06=_0x4de641;let _0x36a203=await this[_0x303a06(0x15b)]({'request':_0x290a25,'schema':xa,'ClassRef':wt,'execute':(_0x133023,_0x3f0e76)=>G[_0x303a06(0x5a0)](_0x133023,_0x3f0e76)});return _0x5f22b0['status'](0xc9)[_0x303a06(0x1d5)](_0x36a203);})[_0x4de641(0x14b)](this[_0x4de641(0x28d)](_0x4de641(0x67c)),..._0x178426,async(_0x952207,_0x28720e)=>{const _0x302684=_0x4de641;let _0x525ba5=await this[_0x302684(0x15b)]({'request':_0x952207,'schema':Ra,'ClassRef':dt,'execute':(_0x3f50b8,_0x2142ee)=>G[_0x302684(0x67c)](_0x3f50b8,_0x2142ee)});return _0x28720e[_0x302684(0x409)](0xc9)[_0x302684(0x1d5)](_0x525ba5);})[_0x4de641(0x14b)](this[_0x4de641(0x28d)](_0x4de641(0x1fd)),..._0x178426,async(_0x361699,_0x49485b)=>{const _0x150186=_0x4de641;let _0x2c96b3=await this['dataValidate']({'request':_0x361699,'schema':Ma,'ClassRef':ut,'execute':(_0x5ebca4,_0x351d8f)=>G['sendStatus'](_0x5ebca4,_0x351d8f)});return _0x49485b[_0x150186(0x409)](0xc9)[_0x150186(0x1d5)](_0x2c96b3);})[_0x4de641(0x14b)](this[_0x4de641(0x28d)](_0x4de641(0x6ea)),..._0x178426,async(_0x40c54c,_0x1805f9)=>{const _0xb72ebe=_0x4de641;let _0x4c07c2=await this[_0xb72ebe(0x15b)]({'request':_0x40c54c,'schema':Ca,'ClassRef':gt,'execute':(_0x1856b9,_0x263dcf)=>G[_0xb72ebe(0x6ea)](_0x1856b9,_0x263dcf)});return _0x1805f9[_0xb72ebe(0x409)](0xc9)[_0xb72ebe(0x1d5)](_0x4c07c2);});}},ar=require('express'),St=class{},Et=class extends j{constructor(..._0x20b563){const _0x493111=a0_0x452e81;super(),this[_0x493111(0x61f)]=(0x0,ar[_0x493111(0x21e)])(),this[_0x493111(0x61f)][_0x493111(0x14b)](this['routerPath'](_0x493111(0x2ba)),..._0x20b563,async(_0x2c7a9c,_0x189bcc)=>{const _0x15870f=_0x493111;let _0x2bd184=await this['dataValidate']({'request':_0x2c7a9c,'schema':Xa,'ClassRef':St,'execute':(_0x4a2818,_0x2db9bb)=>gs[_0x15870f(0x485)](_0x4a2818,_0x2db9bb)});_0x189bcc[_0x15870f(0x409)](0xc9)['json'](_0x2bd184);})[_0x493111(0x271)](this[_0x493111(0x28d)](_0x493111(0x1b8)),..._0x20b563,async(_0x179ee0,_0x48c9a4)=>{const _0x519eb7=_0x493111;let _0x53ddf0=await this[_0x519eb7(0x15b)]({'request':_0x179ee0,'schema':M,'ClassRef':S,'execute':_0x288195=>gs['findWebhook'](_0x288195)});_0x48c9a4[_0x519eb7(0x409)](0xc8)[_0x519eb7(0x1d5)](_0x53ddf0);});}},rr=require(a0_0x452e81(0x19a)),h=new v('FlowRouter'),Ct=class extends j{constructor(..._0x414d66){const _0x2ef9d6=a0_0x452e81;super(),this[_0x2ef9d6(0x61f)]=(0x0,rr[_0x2ef9d6(0x21e)])(),this[_0x2ef9d6(0x61f)][_0x2ef9d6(0x14b)](this[_0x2ef9d6(0x28d)](_0x2ef9d6(0xc2)),..._0x414d66,async(_0x910e63,_0x1c7363)=>{const _0x16337e=_0x2ef9d6;let _0x2c23d6=_0x910e63[_0x16337e(0x6ee)];h['verbose']('request\x20received\x20in\x20scheduleMessage'),h[_0x16337e(0x601)](_0x16337e(0x10e)),h[_0x16337e(0x601)](_0x910e63['body']);let _0x339488=await this[_0x16337e(0x15b)]({'request':_0x910e63,'schema':M,'ClassRef':S,'execute':_0x71e38c=>T['editScheduleMessage'](_0x71e38c,_0x2c23d6)});_0x1c7363['status'](0xc8)[_0x16337e(0x1d5)](_0x339488);})[_0x2ef9d6(0x271)](this['routerPath'](_0x2ef9d6(0xc2)),..._0x414d66,async(_0x587dbf,_0x570310)=>{const _0x2f02de=_0x2ef9d6;let _0x39f5ee=await this[_0x2f02de(0x15b)]({'request':_0x587dbf,'schema':M,'ClassRef':S,'execute':_0xb3f9a=>T['getScheduleMessage'](_0xb3f9a)});_0x570310['status'](0xc8)['json'](_0x39f5ee);})['delete'](this['routerPath']('deleteDoneMessages'),..._0x414d66,async(_0x392009,_0x1580a7)=>{const _0x30ba85=_0x2ef9d6;h[_0x30ba85(0x601)](_0x30ba85(0x51c));let _0xba07d0=await this[_0x30ba85(0x15b)]({'request':_0x392009,'schema':M,'ClassRef':S,'execute':_0xbd4b90=>T[_0x30ba85(0x2e2)](_0xbd4b90)});_0x1580a7[_0x30ba85(0x409)](0xc8)[_0x30ba85(0x1d5)](_0xba07d0);})[_0x2ef9d6(0x14b)](this[_0x2ef9d6(0x28d)](_0x2ef9d6(0x64b)),..._0x414d66,async(_0x188ffc,_0x33e8d9)=>{const _0x23cdda=_0x2ef9d6;let _0x2900f8=_0x188ffc[_0x23cdda(0x6ee)];h[_0x23cdda(0x601)](_0x23cdda(0x246)),h['verbose'](_0x23cdda(0x10e)),h[_0x23cdda(0x601)](_0x188ffc['body']);let _0x17704d=await this[_0x23cdda(0x15b)]({'request':_0x188ffc,'schema':M,'ClassRef':S,'execute':_0x2959c6=>T[_0x23cdda(0x64b)](_0x2959c6,_0x2900f8)});_0x33e8d9[_0x23cdda(0x409)](0xc8)[_0x23cdda(0x1d5)](_0x17704d);})[_0x2ef9d6(0x271)](this['routerPath']('getAutomateSystem'),..._0x414d66,async(_0x4c81fa,_0x5cad61)=>{const _0x1e5600=_0x2ef9d6;h[_0x1e5600(0x601)](_0x1e5600(0x104));let _0x168096=await this[_0x1e5600(0x15b)]({'request':_0x4c81fa,'schema':M,'ClassRef':S,'execute':_0x2de05d=>T[_0x1e5600(0x47b)](_0x2de05d)});_0x5cad61[_0x1e5600(0x409)](0xc8)[_0x1e5600(0x1d5)](_0x168096);})['get'](this[_0x2ef9d6(0x28d)](_0x2ef9d6(0x4de)),..._0x414d66,async(_0x376702,_0x4a43e6)=>{const _0x225d04=_0x2ef9d6;h[_0x225d04(0x601)](_0x225d04(0x494));let _0x573fd0=await this[_0x225d04(0x15b)]({'request':_0x376702,'schema':M,'ClassRef':S,'execute':_0x515af4=>T[_0x225d04(0x47b)](_0x515af4)});_0x4a43e6[_0x225d04(0x409)](0xc8)[_0x225d04(0x1d5)](_0x573fd0);})[_0x2ef9d6(0x14b)](this[_0x2ef9d6(0x28d)]('updateAgent'),..._0x414d66,async(_0x59d305,_0xd0fd51)=>{const _0x31969e=_0x2ef9d6;let _0x3b192f=_0x59d305[_0x31969e(0x6ee)];h[_0x31969e(0x601)]('request\x20received\x20in\x20updateAgent'),h[_0x31969e(0x601)](_0x31969e(0x10e)),h[_0x31969e(0x601)](_0x59d305['body']);let _0x106bb5=await this[_0x31969e(0x15b)]({'request':_0x59d305,'schema':M,'ClassRef':S,'execute':_0x2ce3ff=>T[_0x31969e(0x61c)](_0x2ce3ff,_0x3b192f)});_0xd0fd51[_0x31969e(0x409)](0xc8)[_0x31969e(0x1d5)](_0x106bb5);})[_0x2ef9d6(0x14b)](this[_0x2ef9d6(0x28d)]('updateCustomFields'),..._0x414d66,async(_0x20480b,_0xdf8553)=>{const _0x82eed8=_0x2ef9d6;let _0x1d9171=_0x20480b['body'];h[_0x82eed8(0x601)](_0x82eed8(0x205)),h['verbose'](_0x82eed8(0x10e)),h[_0x82eed8(0x601)](_0x20480b[_0x82eed8(0x6ee)]);let _0x5553f7=await this['dataValidate']({'request':_0x20480b,'schema':M,'ClassRef':S,'execute':_0x24c832=>T['updateCustomFields'](_0x24c832,_0x1d9171)});_0xdf8553['status'](0xc8)[_0x82eed8(0x1d5)](_0x5553f7);})['post'](this['routerPath']('updateFlowConfig'),..._0x414d66,async(_0x9a20bc,_0x19e754)=>{const _0x15f0ee=_0x2ef9d6;let _0x18f38b=_0x9a20bc[_0x15f0ee(0x6ee)];h[_0x15f0ee(0x601)](_0x15f0ee(0xbe)),h[_0x15f0ee(0x601)](_0x15f0ee(0x10e)),h[_0x15f0ee(0x601)](_0x9a20bc[_0x15f0ee(0x6ee)]);let _0x2f6284=await this[_0x15f0ee(0x15b)]({'request':_0x9a20bc,'schema':M,'ClassRef':S,'execute':_0x1197a3=>T[_0x15f0ee(0x247)](_0x1197a3,_0x18f38b)});_0x19e754[_0x15f0ee(0x409)](0xc8)[_0x15f0ee(0x1d5)](_0x2f6284);})[_0x2ef9d6(0x14b)](this['routerPath'](_0x2ef9d6(0x4ef)),..._0x414d66,async(_0x5d0920,_0x535eac)=>{const _0x777c72=_0x2ef9d6;let _0x593215=_0x5d0920[_0x777c72(0x6ee)];h[_0x777c72(0x601)](_0x777c72(0x1e7)),h[_0x777c72(0x601)]('request\x20body:\x20'),h[_0x777c72(0x601)](_0x5d0920['body']);let _0x4a4490=await this['dataValidate']({'request':_0x5d0920,'schema':M,'ClassRef':S,'execute':_0x915f06=>T['getConversation'](_0x915f06,_0x593215)});_0x535eac[_0x777c72(0x409)](0xc8)[_0x777c72(0x1d5)](_0x4a4490);})[_0x2ef9d6(0x14b)](this[_0x2ef9d6(0x28d)](_0x2ef9d6(0x20b)),..._0x414d66,async(_0x38202b,_0x35e329)=>{const _0x337220=_0x2ef9d6;let _0x2658d7=_0x38202b[_0x337220(0x6ee)];h[_0x337220(0x601)](_0x337220(0x60c)),h[_0x337220(0x601)]('request\x20body:\x20'),h[_0x337220(0x601)](_0x38202b[_0x337220(0x6ee)]);let _0x33e48d=await this[_0x337220(0x15b)]({'request':_0x38202b,'schema':M,'ClassRef':S,'execute':_0x3cc328=>T[_0x337220(0x20b)](_0x3cc328,_0x2658d7)});_0x35e329['status'](0xc8)[_0x337220(0x1d5)](_0x33e48d);})[_0x2ef9d6(0x14b)](this[_0x2ef9d6(0x28d)](_0x2ef9d6(0x5f0)),..._0x414d66,async(_0x2ff9e5,_0x6eeadd)=>{const _0x187a9e=_0x2ef9d6;let _0x398027=_0x2ff9e5[_0x187a9e(0x6ee)];h[_0x187a9e(0x601)](_0x187a9e(0x106)),h[_0x187a9e(0x601)](_0x187a9e(0x10e)),h[_0x187a9e(0x601)](_0x2ff9e5[_0x187a9e(0x6ee)]);let _0xb4ce90=await this[_0x187a9e(0x15b)]({'request':_0x2ff9e5,'schema':M,'ClassRef':S,'execute':_0x547125=>T[_0x187a9e(0x5f0)](_0x547125,_0x398027)});_0x6eeadd[_0x187a9e(0x409)](0xc8)[_0x187a9e(0x1d5)](_0xb4ce90);})[_0x2ef9d6(0x470)](this[_0x2ef9d6(0x28d)](_0x2ef9d6(0x2a8)),..._0x414d66,async(_0x43f9dc,_0x1a2ebb)=>{const _0x16dc14=_0x2ef9d6;let _0x41d5c5=_0x43f9dc[_0x16dc14(0x6ee)];h[_0x16dc14(0x601)](_0x16dc14(0x552)),h['verbose'](_0x16dc14(0x10e)),h[_0x16dc14(0x601)](_0x43f9dc[_0x16dc14(0x6ee)]);let _0x8d39bf=await this[_0x16dc14(0x15b)]({'request':_0x43f9dc,'schema':M,'ClassRef':S,'execute':_0x50bf15=>T[_0x16dc14(0x2a8)](_0x50bf15,_0x41d5c5)});_0x1a2ebb[_0x16dc14(0x409)](0xc8)[_0x16dc14(0x1d5)](_0x8d39bf);})[_0x2ef9d6(0x14b)](this['routerPath']('createflow'),..._0x414d66,async(_0x399735,_0x46e9d1)=>{const _0x491dc6=_0x2ef9d6;let _0x456fa1=_0x399735[_0x491dc6(0x6ee)];h[_0x491dc6(0x601)](_0x491dc6(0x603)),h[_0x491dc6(0x601)](_0x491dc6(0x10e)),h[_0x491dc6(0x601)](_0x399735[_0x491dc6(0x6ee)]);let _0x46f909=await this['dataValidate']({'request':_0x399735,'schema':M,'ClassRef':S,'execute':_0xaddec7=>T[_0x491dc6(0x2e7)](_0xaddec7,_0x456fa1)});_0x46e9d1['status'](0xc8)[_0x491dc6(0x1d5)](_0x46f909);})[_0x2ef9d6(0x14b)](this[_0x2ef9d6(0x28d)](_0x2ef9d6(0x694)),..._0x414d66,async(_0x9a7cf4,_0x1e7cc3)=>{const _0xee03c9=_0x2ef9d6;let _0x4cf324=_0x9a7cf4[_0xee03c9(0x6ee)];h[_0xee03c9(0x601)](_0xee03c9(0x375)),h[_0xee03c9(0x601)]('request\x20body:\x20'),h['verbose'](_0x9a7cf4['body']),delete _0x4cf324['blocks'],delete _0x4cf324['variables'],delete _0x4cf324[_0xee03c9(0x341)],delete _0x4cf324[_0xee03c9(0xfc)];let _0x30aa78=await this[_0xee03c9(0x15b)]({'request':_0x9a7cf4,'schema':M,'ClassRef':S,'execute':_0x2d87ec=>T['editFlow'](_0x2d87ec,_0x4cf324)});_0x1e7cc3[_0xee03c9(0x409)](0xc8)[_0xee03c9(0x1d5)](_0x30aa78);})['post'](this[_0x2ef9d6(0x28d)](_0x2ef9d6(0x155)),..._0x414d66,async(_0xac298a,_0x1acf65)=>{const _0x2bf66c=_0x2ef9d6;let _0xd555a2=_0xac298a[_0x2bf66c(0x6ee)];h[_0x2bf66c(0x601)](_0x2bf66c(0x375)),h['verbose'](_0x2bf66c(0x10e)),h[_0x2bf66c(0x601)](_0xac298a['body']);let _0x2acea1=await this[_0x2bf66c(0x15b)]({'request':_0xac298a,'schema':M,'ClassRef':S,'execute':_0x46e815=>T[_0x2bf66c(0x1a9)](_0x46e815,_0xd555a2)});_0x1acf65[_0x2bf66c(0x409)](0xc8)[_0x2bf66c(0x1d5)](_0x2acea1);})['post'](this[_0x2ef9d6(0x28d)](_0x2ef9d6(0x538)),..._0x414d66,async(_0x2471ff,_0x3094c9)=>{const _0x2edaf5=_0x2ef9d6;let _0x300442=_0x2471ff['body'];h['verbose']('request\x20received\x20in\x20editFlow'),h[_0x2edaf5(0x601)](_0x2edaf5(0x10e)),h['verbose'](_0x2471ff[_0x2edaf5(0x6ee)]);let _0x3f85fd=await this[_0x2edaf5(0x15b)]({'request':_0x2471ff,'schema':M,'ClassRef':S,'execute':_0x5e1e3f=>T[_0x2edaf5(0x401)](_0x5e1e3f,_0x300442)});_0x3094c9['status'](0xc8)[_0x2edaf5(0x1d5)](_0x3f85fd);})['post'](this[_0x2ef9d6(0x28d)]('editflowvaredit'),..._0x414d66,async(_0x1a4f66,_0x5cd711)=>{const _0x3c2094=_0x2ef9d6;let _0xb25285=_0x1a4f66[_0x3c2094(0x6ee)];h[_0x3c2094(0x601)]('request\x20received\x20in\x20editFlow'),h['verbose'](_0x3c2094(0x10e)),h[_0x3c2094(0x601)](_0x1a4f66[_0x3c2094(0x6ee)]);let _0x2ceeaa=await this[_0x3c2094(0x15b)]({'request':_0x1a4f66,'schema':M,'ClassRef':S,'execute':_0x39625e=>T[_0x3c2094(0x2f2)](_0x39625e,_0xb25285)});_0x5cd711['status'](0xc8)[_0x3c2094(0x1d5)](_0x2ceeaa);})[_0x2ef9d6(0x14b)](this[_0x2ef9d6(0x28d)](_0x2ef9d6(0x685)),..._0x414d66,async(_0x15844e,_0x126fc4)=>{const _0x354d24=_0x2ef9d6;let _0x56f7e2=_0x15844e['body'];h['verbose'](_0x354d24(0x29c)),h['verbose'](_0x354d24(0x10e)),h[_0x354d24(0x601)](_0x15844e['body']);let _0x40aeeb=await this[_0x354d24(0x15b)]({'request':_0x15844e,'schema':M,'ClassRef':S,'execute':_0xd193da=>T[_0x354d24(0xb8)](_0xd193da,_0x56f7e2)});_0x126fc4['status'](0xc8)[_0x354d24(0x1d5)](_0x40aeeb);})[_0x2ef9d6(0x14b)](this[_0x2ef9d6(0x28d)](_0x2ef9d6(0x3d8)),..._0x414d66,async(_0x348edd,_0x50b590)=>{const _0x34128d=_0x2ef9d6;let _0x5de811=_0x348edd[_0x34128d(0x6ee)];h['verbose'](_0x34128d(0x6f4)),h['verbose']('request\x20body:\x20'),h[_0x34128d(0x601)](_0x348edd[_0x34128d(0x6ee)]);let _0x490796=await this[_0x34128d(0x15b)]({'request':_0x348edd,'schema':M,'ClassRef':S,'execute':_0x4a08de=>T[_0x34128d(0x26d)](_0x4a08de,_0x5de811)});_0x50b590[_0x34128d(0x409)](0xc8)[_0x34128d(0x1d5)](_0x490796);})[_0x2ef9d6(0x14b)](this[_0x2ef9d6(0x28d)](_0x2ef9d6(0x3e0)),..._0x414d66,async(_0x44812b,_0x1c556c)=>{const _0x2506fb=_0x2ef9d6;let _0x340300=_0x44812b[_0x2506fb(0x6ee)];h[_0x2506fb(0x601)](_0x2506fb(0x191)),h[_0x2506fb(0x601)](_0x2506fb(0x10e)),h[_0x2506fb(0x601)](_0x44812b[_0x2506fb(0x6ee)]);let _0x2616cc=await this[_0x2506fb(0x15b)]({'request':_0x44812b,'schema':M,'ClassRef':S,'execute':_0xf12f51=>T['editFlowVariable'](_0xf12f51,_0x340300)});_0x1c556c[_0x2506fb(0x409)](0xc8)['json'](_0x2616cc);})[_0x2ef9d6(0x14b)](this['routerPath'](_0x2ef9d6(0x615)),..._0x414d66,async(_0x143c6a,_0x3f43b6)=>{const _0x2a18fa=_0x2ef9d6;let _0x4b99fd=_0x143c6a[_0x2a18fa(0x6ee)];h[_0x2a18fa(0x601)]('request\x20received\x20in\x20getFlow'),h[_0x2a18fa(0x601)](_0x2a18fa(0x10e)),h['verbose'](_0x143c6a[_0x2a18fa(0x6ee)]);let _0x3db884=await this['dataValidate']({'request':_0x143c6a,'schema':M,'ClassRef':S,'execute':_0x1777c8=>T[_0x2a18fa(0x4ca)](_0x1777c8,_0x4b99fd)});_0x3f43b6[_0x2a18fa(0x409)](0xc8)[_0x2a18fa(0x1d5)](_0x3db884);})['delete'](this['routerPath'](_0x2ef9d6(0x30c)),..._0x414d66,async(_0x6dbabd,_0x2b5e2f)=>{const _0x2d81ab=_0x2ef9d6;let _0x1f56da=_0x6dbabd['body'];h[_0x2d81ab(0x601)](_0x2d81ab(0x403)),h[_0x2d81ab(0x601)](_0x2d81ab(0x10e)),h[_0x2d81ab(0x601)](_0x6dbabd[_0x2d81ab(0x6ee)]);let _0x10080a=await this[_0x2d81ab(0x15b)]({'request':_0x6dbabd,'schema':M,'ClassRef':S,'execute':_0x575915=>T['deleteFlow'](_0x575915,_0x1f56da)});_0x2b5e2f[_0x2d81ab(0x409)](0xc8)[_0x2d81ab(0x1d5)](_0x10080a);})[_0x2ef9d6(0x271)](this[_0x2ef9d6(0x28d)]('allflows'),..._0x414d66,async(_0x154e49,_0x2a43e5)=>{const _0xabf002=_0x2ef9d6;h[_0xabf002(0x601)]('request\x20received\x20in\x20allFlows');let _0x369504=await this[_0xabf002(0x15b)]({'request':_0x154e49,'schema':M,'ClassRef':S,'execute':_0x22f4e6=>T[_0xabf002(0x3da)](_0x22f4e6)});_0x2a43e5[_0xabf002(0x409)](0xc8)['json'](_0x369504);});}},cr=R(require(a0_0x452e81(0x503))),X={};function or(_0x461e3f,_0x55ba51,_0x28cf8d,_0x1ef5c){X[_0x461e3f]||(X[_0x461e3f]={}),X[_0x461e3f][_0x55ba51]={'id':_0x55ba51,'response':_0x28cf8d,'events':_0x1ef5c};}function ir(_0x5b83c8,_0x3c9d1c){!X[_0x5b83c8]||!X[_0x5b83c8][_0x3c9d1c]||delete X[_0x5b83c8][_0x3c9d1c];}function q(_0x42b69a,_0x546c4c,_0x12f483){const _0x5ba696=a0_0x452e81;if(!X[_0x42b69a])return;let _0x59f267='data:\x20'+JSON[_0x5ba696(0x1b4)](_0x12f483)+'\x0a\x0a';Object[_0x5ba696(0x3e3)](X[_0x42b69a])['forEach'](_0x57eb20=>{const _0x520ef2=_0x5ba696;_0x57eb20[_0x520ef2(0x553)][_0x520ef2(0x4f7)](_0x546c4c)&&_0x57eb20[_0x520ef2(0x10f)][_0x520ef2(0x712)](_0x59f267);});}function nr(){const _0x2d2bb1=a0_0x452e81;let _0x2e1dee={};for(let _0x521b0b in X)_0x2e1dee[_0x521b0b]=Object[_0x2d2bb1(0x3e3)](X[_0x521b0b])[_0x2d2bb1(0x353)](_0x339019=>({'id':_0x339019['id'],'events':_0x339019[_0x2d2bb1(0x553)]}));return _0x2e1dee;}var lr=require(a0_0x452e81(0x715)),hs=require(a0_0x452e81(0x32b)),ms=class{},no=new hs[(a0_0x452e81(0x298))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),co=new hs['Schema']({'_id':{'type':String,'default':a0_0x452e81(0x469)},'WebhookGlobal':{'type':no},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=N?.[a0_0x452e81(0x26c)](ms['name'],co,a0_0x452e81(0x426)),lo=cr[a0_0x452e81(0x463)][a0_0x452e81(0x6c3)](__dirname,a0_0x452e81(0x1f7)),vt=(0x0,Mt[a0_0x452e81(0x21e)])(),uo=b[a0_0x452e81(0x271)](a0_0x452e81(0x3b9))[a0_0x452e81(0x131)],te=[ha,fa,ba[uo]];vt['use'](a0_0x452e81(0x231),Mt[a0_0x452e81(0x463)][a0_0x452e81(0x416)](lo))['get'](a0_0x452e81(0x40f),async(_0x101136,_0x9fd10b)=>{const _0x6c6262=a0_0x452e81;console[_0x6c6262(0x1b7)]('bateu\x20events');let _0x75f78=_0x101136['params']['instance'],_0x5734ff=(_0x101136[_0x6c6262(0x2c1)][_0x6c6262(0x553)]||'')[_0x6c6262(0x688)](','),_0x18d6d0=(0x0,lr['v4'])();console[_0x6c6262(0x1b7)](_0x6c6262(0x44c),_0x75f78),console[_0x6c6262(0x1b7)](_0x6c6262(0x219),_0x5734ff);let _0x5d2449=b[_0x6c6262(0x271)](_0x6c6262(0x3b9))[_0x6c6262(0x394)],_0x1535cd=_0x101136['query'][_0x6c6262(0x229)];if(console[_0x6c6262(0x1b7)](_0x6c6262(0x6b3),_0x1535cd),_0x5d2449[_0x6c6262(0x4d5)]!==_0x1535cd){console['log'](_0x6c6262(0x140));try{let _0x18361c=await le[_0x6c6262(0x129)][_0x6c6262(0x1b8)](_0x75f78);if(console[_0x6c6262(0x1b7)](_0x6c6262(0x454),_0x18361c),!_0x18361c||_0x18361c[_0x6c6262(0x229)]!==_0x1535cd)return console[_0x6c6262(0x1b7)](_0x6c6262(0x5fd)),_0x9fd10b[_0x6c6262(0x409)](0x191)[_0x6c6262(0x2d6)](_0x6c6262(0x14d));}catch(_0x19ef09){return console[_0x6c6262(0xe6)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x19ef09),_0x9fd10b[_0x6c6262(0x409)](0x191)[_0x6c6262(0x2d6)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await We(_0x75f78))return _0x9fd10b[_0x6c6262(0x409)](0x194)['send'](_0x6c6262(0x55c));_0x9fd10b[_0x6c6262(0x520)](_0x6c6262(0x22d),'text/event-stream'),_0x9fd10b[_0x6c6262(0x520)](_0x6c6262(0x643),_0x6c6262(0x154)),_0x9fd10b[_0x6c6262(0x520)](_0x6c6262(0x28c),_0x6c6262(0x624)),_0x9fd10b[_0x6c6262(0x663)]();let _0x539322=_0x6c6262(0x62c)+JSON[_0x6c6262(0x1b4)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x9fd10b[_0x6c6262(0x712)](_0x539322),or(_0x75f78,_0x18d6d0,_0x9fd10b,_0x5734ff),_0x101136['on']('close',()=>{const _0x174660=_0x6c6262;console[_0x174660(0x1b7)](_0x174660(0x22b)+_0x75f78),ir(_0x75f78,_0x18d6d0);});}),vt[a0_0x452e81(0x271)](a0_0x452e81(0x5ae),(_0xdffd09,_0x311afc)=>{const _0x17822c=a0_0x452e81;let _0x4a3e2b=nr();_0x311afc[_0x17822c(0x1d5)](_0x4a3e2b);})['get']('/',(_0x4cc222,_0x3c218f)=>{const _0x4c3ee3=a0_0x452e81;let _0x36e6ca=b[_0x4c3ee3(0x271)](_0x4c3ee3(0x53d)),_0x756793=_0x36e6ca&&_0x36e6ca[_0x4c3ee3(0x63d)][_0x4c3ee3(0x688)]('/')[0x4];if(_0x756793){let _0x542f69=encodeURIComponent(_0x4c3ee3(0x698)+_0x756793);_0x3c218f[_0x4c3ee3(0x2fc)](_0x4c3ee3(0x660)+_0x542f69);}else _0x3c218f[_0x4c3ee3(0x2fc)](_0x4c3ee3(0x645));})['put'](a0_0x452e81(0x6ed),...te,async(_0x26937b,_0x3fd004)=>{const _0x3cdd7b=a0_0x452e81;try{console[_0x3cdd7b(0x1b7)](_0x3cdd7b(0x4ab)),_0x3fd004['status'](0xc8)['json']({'message':_0x3cdd7b(0x57d)}),_0x3fd004['on'](_0x3cdd7b(0x3f6),()=>process['exit'](0x0));}catch(_0xfdc2f6){console['error'](_0x3cdd7b(0x26a),_0xfdc2f6),_0x3fd004[_0x3cdd7b(0x409)](0x1f4)[_0x3cdd7b(0x1d5)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x452e81(0x145)](a0_0x452e81(0x5d8),...te,async(_0x231243,_0x3d6882)=>{const _0x26997d=a0_0x452e81;try{let _0x5f3e66=_0x231243['body'];await ye[_0x26997d(0x4b3)]({},{'$set':_0x5f3e66},{'upsert':!0x0});let _0x3ca400=await ye[_0x26997d(0x6f9)]();_0x3d6882['json'](_0x3ca400);}catch(_0xb030ce){_0x3d6882[_0x26997d(0x409)](0x190)[_0x26997d(0x2d6)](_0xb030ce[_0x26997d(0x46c)]);}})['get'](a0_0x452e81(0x5d8),...te,async(_0x424294,_0x179131)=>{const _0x4db21e=a0_0x452e81;try{let _0x515c54=await ye[_0x4db21e(0x6f9)]();if(!_0x515c54)return _0x179131[_0x4db21e(0x1d5)]({});_0x179131[_0x4db21e(0x1d5)](_0x515c54);}catch(_0x3f7489){_0x179131[_0x4db21e(0x409)](0x1f4)[_0x4db21e(0x2d6)](_0x3f7489['message']);}})[a0_0x452e81(0x2a5)](a0_0x452e81(0x4c2),new ct(b,...te)[a0_0x452e81(0x61f)])[a0_0x452e81(0x2a5)](a0_0x452e81(0x4eb),new bt(...te)[a0_0x452e81(0x61f)])[a0_0x452e81(0x2a5)](a0_0x452e81(0x700),new Xe(...te)[a0_0x452e81(0x61f)])[a0_0x452e81(0x2a5)](a0_0x452e81(0x29e),new nt(...te)['router'])[a0_0x452e81(0x2a5)](a0_0x452e81(0x524),new Et(...te)[a0_0x452e81(0x61f)])[a0_0x452e81(0x2a5)]('/automate',new Ct(...te)[a0_0x452e81(0x61f)]);var m=class{constructor(..._0x39a667){const _0x3d6a0d=a0_0x452e81;throw{'status':0x190,'error':_0x3d6a0d(0x5a2),'message':_0x39a667[_0x3d6a0d(0x5c6)]>0x0?_0x39a667:void 0x0};}},ee=class{constructor(..._0x4c917d){const _0x4ccbed=a0_0x452e81;throw{'status':0x191,'error':_0x4ccbed(0x1e8),'message':_0x4c917d['length']>0x0?_0x4c917d:void 0x0};}},K=class{constructor(..._0x32ef9f){const _0x3c339d=a0_0x452e81;throw{'status':0x193,'error':_0x3c339d(0x5bd),'message':_0x32ef9f[_0x3c339d(0x5c6)]>0x0?_0x32ef9f:void 0x0};}},F=class{constructor(..._0x46c9fa){const _0x157a46=a0_0x452e81;throw{'status':0x194,'error':_0x157a46(0x537),'message':_0x46c9fa[_0x157a46(0x5c6)]>0x0?_0x46c9fa:void 0x0};}},O=class{constructor(..._0xcfb684){const _0x555a8d=a0_0x452e81;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0xcfb684[_0x555a8d(0x5c6)]>0x0?_0xcfb684:void 0x0};}},ue=require('@whiskeysockets/baileys');async function fs(_0x435ac9){const _0x5c622e=a0_0x452e81;let _0x545d06=new v(fs[_0x5c622e(0x396)]),_0x220550=N[_0x5c622e(0x300)](),_0x2b6ff0=_0x220550['db'](b['get'](_0x5c622e(0x1ea))['CONNECTION'][_0x5c622e(0x590)]+'-instances')['collection'](_0x435ac9),_0x1ca1b7=async(_0x1bd996,_0x5be805)=>{const _0x4b9e3d=_0x5c622e;try{return await _0x220550['connect'](),await _0x2b6ff0[_0x4b9e3d(0xde)]({'_id':_0x5be805},JSON['parse'](JSON[_0x4b9e3d(0x1b4)](_0x1bd996,ue[_0x4b9e3d(0x4e3)][_0x4b9e3d(0x160)])),{'upsert':!0x0});}catch{}},_0x330991=async _0x54765d=>{const _0x4b38d1=_0x5c622e;try{await _0x220550[_0x4b38d1(0x2e1)]();let _0x5b34f8=await _0x2b6ff0[_0x4b38d1(0x6f9)]({'_id':_0x54765d}),_0x3f2fab=JSON[_0x4b38d1(0x1b4)](_0x5b34f8);return JSON[_0x4b38d1(0x132)](_0x3f2fab,ue[_0x4b38d1(0x4e3)][_0x4b38d1(0x610)]);}catch{}},_0x508546=async _0x1d66df=>{const _0x5c9a64=_0x5c622e;try{return await _0x220550['connect'](),await _0x2b6ff0[_0x5c9a64(0x2e0)]({'_id':_0x1d66df});}catch{}},_0x279c0c=await _0x330991(_0x5c622e(0x319))||(0x0,ue[_0x5c622e(0x4a3)])();return{'state':{'creds':_0x279c0c,'keys':{'get':async(_0xb94ba5,_0x3ad85d)=>{let _0x3dc24d={};return await Promise['all'](_0x3ad85d['map'](async _0x3382b2=>{const _0x366b8a=a0_0x3d1d;let _0x5df451=await _0x330991(_0xb94ba5+'-'+_0x3382b2);_0xb94ba5==='app-state-sync-key'&&_0x5df451&&(_0x5df451=ue[_0x366b8a(0x427)][_0x366b8a(0x2f7)][_0x366b8a(0x6bb)][_0x366b8a(0x6d0)](_0x5df451)),_0x3dc24d[_0x3382b2]=_0x5df451;})),_0x3dc24d;},'set':async _0x250dd4=>{const _0x259b15=_0x5c622e;let _0x2af861=[];for(let _0x2118d6 in _0x250dd4)for(let _0x3f5506 in _0x250dd4[_0x2118d6]){let _0x5a33fe=_0x250dd4[_0x2118d6][_0x3f5506],_0x428d63=_0x2118d6+'-'+_0x3f5506;_0x2af861[_0x259b15(0x58a)](_0x5a33fe?_0x1ca1b7(_0x5a33fe,_0x428d63):_0x508546(_0x428d63));}await Promise['all'](_0x2af861);}}},'saveCreds':async()=>_0x1ca1b7(_0x279c0c,_0x5c622e(0x319))};}var Es=R(require(a0_0x452e81(0x60f))),Cs=R(require('node-cache')),Tt=require(a0_0x452e81(0x556)),ur=require('@redis/client'),Rt=require(a0_0x452e81(0x556)),Nt;function po(_0x48175e){const _0x44e691=a0_0x452e81;return Nt||(Nt=(0x0,ur[_0x44e691(0x35e)])({'url':_0x48175e[_0x44e691(0x1fc)]}),Nt['connect']()),Nt;}var oe=class c{constructor(_0x48447e,_0x5798ca){const _0x51eee5=a0_0x452e81;this['redisEnv']=_0x48447e,this[_0x51eee5(0x462)]=_0x5798ca,this[_0x51eee5(0x549)]=new v(c[_0x51eee5(0x396)]),this[_0x51eee5(0x472)]=po(_0x48447e);}set[a0_0x452e81(0x1f9)](_0x251ced){this['instanceName']=_0x251ced;}async[a0_0x452e81(0x57e)](){const _0x5c8589=a0_0x452e81;try{return await this[_0x5c8589(0x472)]['sendCommand']([_0x5c8589(0x327),this[_0x5c8589(0x433)][_0x5c8589(0x208)]+':*']);}catch(_0x19800e){this['logger'][_0x5c8589(0xe6)](_0x19800e);}}async[a0_0x452e81(0x1df)](_0x330879,_0x145059){const _0x3a0be4=a0_0x452e81;try{let _0x13d826=JSON[_0x3a0be4(0x1b4)](_0x145059,Rt[_0x3a0be4(0x4e3)]['replacer']);return await this[_0x3a0be4(0x472)][_0x3a0be4(0x644)](this[_0x3a0be4(0x433)][_0x3a0be4(0x208)]+':'+this['instanceName'],_0x330879,_0x13d826);}catch(_0x2b0660){this[_0x3a0be4(0x549)][_0x3a0be4(0xe6)](_0x2b0660);}}async[a0_0x452e81(0x5dd)](){const _0x2a54e9=a0_0x452e81;try{let _0xf00c6e=await this[_0x2a54e9(0x472)][_0x2a54e9(0x102)](this[_0x2a54e9(0x433)][_0x2a54e9(0x208)]+':'+this[_0x2a54e9(0x462)]);if(_0xf00c6e){for(let _0x529610 in _0xf00c6e)Object[_0x2a54e9(0x651)][_0x2a54e9(0x2eb)][_0x2a54e9(0x27d)](_0xf00c6e,_0x529610)&&(_0xf00c6e[_0x529610]=JSON[_0x2a54e9(0x132)](_0xf00c6e[_0x529610],Rt[_0x2a54e9(0x4e3)]['reviver']));return _0xf00c6e;}}catch(_0x570cfc){this[_0x2a54e9(0x549)]['error'](_0x570cfc);}}async['readData'](_0x1f69ea){const _0x2baf1b=a0_0x452e81;try{let _0x4027eb=await this[_0x2baf1b(0x472)][_0x2baf1b(0x3e1)](this['redisEnv'][_0x2baf1b(0x208)]+':'+this[_0x2baf1b(0x462)],_0x1f69ea);if(_0x4027eb)return JSON[_0x2baf1b(0x132)](_0x4027eb,Rt[_0x2baf1b(0x4e3)]['reviver']);}catch(_0x3d7f60){this[_0x2baf1b(0x549)][_0x2baf1b(0xe6)](_0x3d7f60);}}async['removeData'](_0x57255c){const _0x318917=a0_0x452e81;try{return await this['client']['hDel'](this[_0x318917(0x433)]['PREFIX_KEY']+':'+this['instanceName'],_0x57255c);}catch(_0x590894){this[_0x318917(0x549)][_0x318917(0xe6)](_0x590894);}}async[a0_0x452e81(0x443)](_0x532a92){const _0x5db404=a0_0x452e81;try{return await this[_0x5db404(0x472)][_0x5db404(0x6b4)](_0x532a92||this[_0x5db404(0x433)][_0x5db404(0x208)]+':'+this[_0x5db404(0x462)]);}catch(_0x407a54){this['logger'][_0x5db404(0xe6)](_0x407a54);}}};async function ys(_0xeb68b6,_0x25f3db){const _0x3cbaa6=a0_0x452e81;let _0xb67c70=new v(ys['name']),_0x28d90e=new oe(_0xeb68b6,_0x25f3db),_0xcde949=async(_0x3c6432,_0x1a5b9b)=>{const _0x25f7de=a0_0x3d1d;try{return await _0x28d90e['writeData'](_0x1a5b9b,_0x3c6432);}catch(_0xc46ff0){return _0xb67c70[_0x25f7de(0xe6)]({'localError':'writeData','error':_0xc46ff0});}},_0xac464f=async _0x296823=>{try{return await _0x28d90e['readData'](_0x296823);}catch(_0x441d02){_0xb67c70['error']({'readData':'writeData','error':_0x441d02});return;}},_0x4ef933=async _0x3f62d2=>{const _0x60da19=a0_0x3d1d;try{return await _0x28d90e[_0x60da19(0xca)](_0x3f62d2);}catch(_0x25f292){_0xb67c70[_0x60da19(0xe6)]({'readData':'removeData','error':_0x25f292});}},_0x35ea34=await _0xac464f(_0x3cbaa6(0x319))||(0x0,Tt['initAuthCreds'])();return{'state':{'creds':_0x35ea34,'keys':{'get':async(_0x321a1b,_0x501349)=>{const _0x3e55fd=_0x3cbaa6;let _0x3db8a7={};return await Promise[_0x3e55fd(0x38a)](_0x501349['map'](async _0x5a140d=>{const _0x157be9=_0x3e55fd;let _0x2170a8=await _0xac464f(_0x321a1b+'-'+_0x5a140d);_0x321a1b===_0x157be9(0x1aa)&&_0x2170a8&&(_0x2170a8=Tt[_0x157be9(0x427)][_0x157be9(0x2f7)][_0x157be9(0x6bb)]['fromObject'](_0x2170a8)),_0x3db8a7[_0x5a140d]=_0x2170a8;})),_0x3db8a7;},'set':async _0x53d2b4=>{const _0xe2cd93=_0x3cbaa6;let _0x329117=[];for(let _0x3c8625 in _0x53d2b4)for(let _0x5894f4 in _0x53d2b4[_0x3c8625]){let _0x4df7a9=_0x53d2b4[_0x3c8625][_0x5894f4],_0x455e52=_0x3c8625+'-'+_0x5894f4;_0x329117[_0xe2cd93(0x58a)](_0x4df7a9?await _0xcde949(_0x4df7a9,_0x455e52):await _0x4ef933(_0x455e52));}await Promise['all'](_0x329117);}}},'saveCreds':async()=>await _0xcde949(_0x35ea34,_0x3cbaa6(0x319))};}var L=R(require('fs')),Me=require(a0_0x452e81(0x715)),It=R(require('sharp')),wr=require(a0_0x452e81(0x2a7)),go='\x0a38.154.227.167:5868:bkcihaei:jxnd6wd97u0s\x0a185.199.229.156:7492:bkcihaei:jxnd6wd97u0s\x0a185.199.228.220:7300:bkcihaei:jxnd6wd97u0s\x0a185.199.231.45:8382:bkcihaei:jxnd6wd97u0s\x0a188.74.210.207:6286:bkcihaei:jxnd6wd97u0s\x0a188.74.183.10:8279:bkcihaei:jxnd6wd97u0s\x0a188.74.210.21:6100:bkcihaei:jxnd6wd97u0s\x0a45.155.68.129:8133:bkcihaei:jxnd6wd97u0s\x0a154.95.36.199:6893:bkcihaei:jxnd6wd97u0s\x0a45.94.47.66:8110:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x452e81(0x3f5)](),ws=go[a0_0x452e81(0x688)]('\x0a')['map'](_0x58bfeb=>{const _0x37d840=a0_0x452e81;let _0x2d9776=_0x58bfeb[_0x37d840(0x688)](':');return{'host':_0x2d9776[0x0],'port':_0x2d9776[0x1],'username':_0x2d9776[0x2],'password':_0x2d9776[0x3],'protocol':_0x37d840(0x451)};});function dr(){const _0x4fac58=a0_0x452e81;if(ws[_0x4fac58(0x5c6)]===0x0)return null;let _0x4671e7=Math[_0x4fac58(0x5fb)](Math['random']()*ws[_0x4fac58(0x5c6)]);return ws[_0x4671e7];}function bs(_0x2eeed0){const _0x5f535b=a0_0x452e81;return _0x2eeed0&&_0x2eeed0[_0x5f535b(0xec)]&&_0x2eeed0[_0x5f535b(0x1bf)]&&_0x2eeed0['username']&&_0x2eeed0[_0x5f535b(0x442)];}var br=a0_0x452e81(0x4b4),Ms,ie=null,pr=null,He=null,mo=0x3,ho=null,Sr=!0x1;async function fo(){const _0x556600=a0_0x452e81;let _0x519366=await ye[_0x556600(0x6f9)]();ie=_0x519366?.[_0x556600(0x44f)]??null,ho=_0x519366?.[_0x556600(0x6d2)]??null,br=_0x519366?.['connectedClient']??'Chrome',Ms=_0x519366?.[_0x556600(0x3a4)]??vs??_0x556600(0x2a3),Sr=_0x519366?.[_0x556600(0x1ef)]??!0x1,console['log']('CONFIGURAÇÃO\x20GERAL:'),console['log'](_0x519366);}async function yo(){await fo();}yo();function $(_0x52b43d){const _0x1053e0=a0_0x452e81;if(_0x52b43d[_0x1053e0(0x10c)]||_0x52b43d[_0x1053e0(0x6bf)]){let _0x1a54e5=_0x52b43d[_0x1053e0(0x10c)]?_0x52b43d['viewOnceMessage'][_0x1053e0(0x46c)]:_0x52b43d[_0x1053e0(0x6bf)][_0x1053e0(0x46c)];return(0x0,y['getContentType'])(_0x1a54e5);}return _0x52b43d[_0x1053e0(0x3f3)]?_0x1053e0(0x3f3):_0x52b43d['pollCreationMessageV2']?_0x1053e0(0x2b0):_0x52b43d['viewOnceMessageV2Extension']?_0x1053e0(0x602):(0x0,y[_0x1053e0(0x672)])(_0x52b43d);}var gr={},we=class c{constructor(_0x37aba9,_0x183518,_0x462585){const _0x35036a=a0_0x452e81;this[_0x35036a(0x1b1)]=_0x37aba9,this[_0x35036a(0x3ea)]=_0x183518,this[_0x35036a(0x546)]=_0x462585,this[_0x35036a(0x26b)]=null,this[_0x35036a(0x549)]=new v(c[_0x35036a(0x396)]),this[_0x35036a(0x1d2)]={},this[_0x35036a(0x501)]={},this[_0x35036a(0x33f)]={'state':_0x35036a(0xf7)},this[_0x35036a(0x178)]=(0x0,U[_0x35036a(0x6c3)])(ae,_0x35036a(0x1f7)),this[_0x35036a(0x18f)]=new Cs[(_0x35036a(0x463))](),this['userDevicesCache']=new Cs['default'](),this[_0x35036a(0x2fb)]=!0x1,this[_0x35036a(0x226)]={'status.instance':_0x35036a(0x53b),'qrcode.updated':_0x35036a(0x27c),'messages.upsert':'/wa-message','messages.update':_0x35036a(0x54d),'send.message':_0x35036a(0x245),'group.upsert':_0x35036a(0x457),'group.update':_0x35036a(0x457),'group-participants.update':'/wa-groups','connection.update':'/wa-connection-update','messages.set':'/wa-message','contacts.set':_0x35036a(0x6a3),'contacts.upsert':_0x35036a(0x6a3),'contacts.update':_0x35036a(0x6a3),'presence.update':_0x35036a(0x306),'chats.set':_0x35036a(0x6a8),'chats.update':_0x35036a(0x6a8),'chats.upsert':'/wa-chats','chats.delete':'/wa-chats'},this[_0x35036a(0x259)]=0x0,this[_0x35036a(0x2ed)]=[],this[_0x35036a(0x687)]=0xf,this['RECONNECT_TIME_FRAME']=0x7530,this['isRunning']=!0x1,this['chatHandle']={'chats.upsert':async(_0x3c6aaa,_0x1a8cf7)=>{const _0x37a70c=_0x35036a;let _0x17febb=[];for await(let _0x2e9148 of _0x3c6aaa)_0x17febb[_0x37a70c(0x58a)]({'_id':_0x2e9148['id'],'owner':this[_0x37a70c(0x1d2)][_0x37a70c(0x582)],'group':_0x2e9148['id']['endsWith'](_0x37a70c(0x4ac)),'name':_0x2e9148['name']||_0x2e9148[_0x37a70c(0x4f6)]||null,'contactname':null,'lastmsg':_0x2e9148[_0x37a70c(0x63b)]&&_0x2e9148['conversationTimestamp']['toString']()[_0x37a70c(0x5c6)]<0xd?_0x2e9148[_0x37a70c(0x63b)]*0x3e8:_0x2e9148[_0x37a70c(0x63b)]||null,'archived':_0x2e9148[_0x37a70c(0x559)]||!0x1,'unreadcount':_0x2e9148[_0x37a70c(0x53a)]||0x0});this[_0x37a70c(0x66c)](_0x37a70c(0x4bc),_0x17febb);},'chats.update':async(_0x2dbcf5,_0x5635a5)=>{const _0x44b08=_0x35036a;for(let _0x38bfaf of _0x2dbcf5){let _0xd595e5={'_id':_0x38bfaf['id'],'owner':this['instance'][_0x44b08(0x582)],'group':_0x38bfaf['id']['endsWith'](_0x44b08(0x4ac)),'name':_0x38bfaf[_0x44b08(0x396)]||_0x38bfaf[_0x44b08(0x4f6)],'archived':_0x38bfaf['archived'],'ephemeralExpiration':_0x38bfaf['ephemeralExpiration']},_0x1b8399=!0x1,_0x307acc={};_0xd595e5['archived']!=null&&(this[_0x44b08(0x549)][_0x44b08(0x601)](this[_0x44b08(0x462)]+'\x20('+this[_0x44b08(0x1d2)][_0x44b08(0x582)]+_0x44b08(0x366)+_0x38bfaf[_0x44b08(0x559)]),_0x1b8399=!0x0,_0x307acc[_0x44b08(0x559)]=_0x38bfaf[_0x44b08(0x559)]),_0x38bfaf[_0x44b08(0x396)]!=null&&(this[_0x44b08(0x549)]['verbose'](this['instanceName']+'\x20('+this[_0x44b08(0x1d2)][_0x44b08(0x582)]+_0x44b08(0x4a2)+_0x38bfaf[_0x44b08(0x396)]),_0x1b8399=!0x0,_0x307acc[_0x44b08(0x396)]=_0x38bfaf[_0x44b08(0x396)]),_0x38bfaf[_0x44b08(0x4f6)]!=null&&(this[_0x44b08(0x549)][_0x44b08(0x601)](this[_0x44b08(0x462)]+'\x20('+this[_0x44b08(0x1d2)][_0x44b08(0x582)]+_0x44b08(0x13c)+_0x38bfaf[_0x44b08(0x4f6)]),_0x1b8399=!0x0,_0x307acc[_0x44b08(0x396)]=_0x38bfaf[_0x44b08(0x4f6)]),_0x38bfaf[_0x44b08(0x3b5)]!=null&&(this['logger'][_0x44b08(0x601)](this[_0x44b08(0x462)]+'\x20('+this['instance'][_0x44b08(0x582)]+_0x44b08(0x13c)+_0x38bfaf[_0x44b08(0x3b5)]),_0x1b8399=!0x0,_0x307acc[_0x44b08(0x3b5)]=_0x38bfaf['ephemeralExpiration']);let _0x2b9a6d;_0x1b8399&&(_0x2b9a6d=await this[_0x44b08(0x546)][_0x44b08(0x182)][_0x44b08(0x4b3)]({'where':{'_id':_0x38bfaf['id']}},_0x307acc,this[_0x44b08(0x1d2)][_0x44b08(0x582)])),_0x2b9a6d&&q(this[_0x44b08(0x462)],_0x44b08(0x571),{'chat':_0x2b9a6d});}},'chats.delete':async _0x2347d9=>{const _0x1233d2=_0x35036a;this['sendDataWebhook'](_0x1233d2(0x4b8),[..._0x2347d9]);}},this[_0x35036a(0x378)]={'contacts.upsert':async(_0x3d50cc,_0x2b9ecf)=>{const _0x2e9dc9=_0x35036a;let _0x58e1c3=await this[_0x2e9dc9(0x546)][_0x2e9dc9(0xc8)][_0x2e9dc9(0x1b8)]({'where':{}},this[_0x2e9dc9(0x1d2)][_0x2e9dc9(0x582)]),_0x5e1def=[];for await(let _0x362d7e of _0x3d50cc)_0x58e1c3[_0x2e9dc9(0x1b8)](_0x3d38dc=>_0x3d38dc['_id']===_0x362d7e['id'])||_0x5e1def[_0x2e9dc9(0x58a)]({'_id':_0x362d7e['id'],'pushName':_0x362d7e?.[_0x2e9dc9(0x396)]||_0x362d7e?.['verifiedName'],'owner':this[_0x2e9dc9(0x1d2)][_0x2e9dc9(0x582)]});this[_0x2e9dc9(0x66c)](_0x2e9dc9(0x686),_0x5e1def),await this[_0x2e9dc9(0x546)][_0x2e9dc9(0xc8)][_0x2e9dc9(0x714)](_0x5e1def);},'contacts.update':async(_0x47b124,_0x8ba578)=>{const _0x20cf85=_0x35036a;let _0x3c7f9c=[];for await(let _0x5aebe1 of _0x47b124)_0x3c7f9c[_0x20cf85(0x58a)]({'_id':_0x5aebe1['id'],'pushName':_0x5aebe1?.['name']??_0x5aebe1?.[_0x20cf85(0x3f1)],'owner':this[_0x20cf85(0x1d2)][_0x20cf85(0x582)]});this[_0x20cf85(0x66c)](_0x20cf85(0xd3),_0x3c7f9c);}},this[_0x35036a(0x588)]={'messaging-history.set':async({messages:_0x5bd7f2,chats:_0x108917,isLatest:_0x2b7c26},_0x29dd36)=>{const _0x85143=_0x35036a;if(_0x2b7c26){let _0x57d991=await Promise[_0x85143(0x38a)](_0x108917['map'](async _0x4205e9=>({'_id':_0x4205e9['id'],'owner':this['instance']['wuid'],'group':_0x4205e9['id'][_0x85143(0x374)](_0x85143(0x4ac)),'name':_0x4205e9[_0x85143(0x396)]||_0x4205e9[_0x85143(0x4f6)]||null,'contactname':null,'lastmsg':_0x4205e9['conversationTimestamp']&&_0x4205e9[_0x85143(0x63b)][_0x85143(0x52d)]()['length']<0xd?_0x4205e9[_0x85143(0x63b)]*0x3e8:_0x4205e9['conversationTimestamp']||null,'archived':_0x4205e9['archived']||!0x1,'unreadcount':_0x4205e9[_0x85143(0x53a)]||0x0})));this[_0x85143(0x66c)]('chats.set',_0x57d991),await this['upsertChats'](_0x57d991,_0x29dd36);}let _0x54e04d=[],_0x26775e=Date[_0x85143(0x2f8)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x5d8a74]of Object[_0x85143(0x693)](_0x5bd7f2)){if(_0x5d8a74[_0x85143(0x46c)]?.['protocolMessage']||_0x5d8a74[_0x85143(0x46c)]?.[_0x85143(0x17f)]||!_0x5d8a74[_0x85143(0x46c)]||_0x5d8a74[_0x85143(0x2c0)][_0x85143(0x5e3)]===_0x85143(0x3ca)||(Es['default'][_0x85143(0x1ec)](_0x5d8a74?.[_0x85143(0x217)])&&(_0x5d8a74[_0x85143(0x217)]=_0x5d8a74['messageTimestamp']?.[_0x85143(0x50c)]()),_0x5d8a74[_0x85143(0x217)]&&_0x5d8a74['messageTimestamp'][_0x85143(0x52d)]()[_0x85143(0x5c6)]<0xd&&(_0x5d8a74['messageTimestamp']=_0x5d8a74[_0x85143(0x217)]*0x3e8),_0x5d8a74[_0x85143(0x217)]<_0x26775e))continue;let {message_normalized:_0x2b9b65}=this[_0x85143(0x505)](_0x5d8a74[_0x85143(0x46c)],$(_0x5d8a74[_0x85143(0x46c)]),null);Object['keys'](_0x2b9b65)[_0x85143(0x5c6)]>0x0&&_0x54e04d[_0x85143(0x58a)]({'_id':_0x5d8a74[_0x85143(0x2c0)]['id'],'key':_0x5d8a74['key'],'pushName':_0x5d8a74['pushName'],'participant':_0x5d8a74[_0x85143(0x5df)],'message':{..._0x5d8a74['message']},'messageType':$(_0x5d8a74[_0x85143(0x46c)]),'message_normalized':{'key':_0x5d8a74['key'],'pushName':_0x5d8a74['pushName'],'messageTimestamp':_0x5d8a74[_0x85143(0x217)],..._0x2b9b65},'messageTimestamp':_0x5d8a74[_0x85143(0x217)],'owner':this['instance'][_0x85143(0x582)]});}_0x29dd36[_0x85143(0x356)]&&_0x54e04d['length']>0x0&&(this[_0x85143(0x549)][_0x85143(0x601)](this[_0x85143(0x462)]+'\x20('+this[_0x85143(0x1d2)]['wuid']+_0x85143(0x522)+_0x54e04d[_0x85143(0x5c6)]+_0x85143(0x519)+this[_0x85143(0x1d2)][_0x85143(0x582)]+_0x85143(0x204)),await this[_0x85143(0x546)][_0x85143(0x46c)][_0x85143(0x714)]([..._0x54e04d],this[_0x85143(0x1d2)][_0x85143(0x582)])),this['sendDataWebhook']('messages.set',[..._0x54e04d]),_0x5bd7f2=void 0x0;},'messages.upsert':async({messages:_0x48df99,type:_0x33a402},_0x2e6a01)=>{const _0x5e4b45=_0x35036a;let _0x5160b8=_0x48df99[0x0];if(_0x33a402!==_0x5e4b45(0x2dc)||!_0x5160b8?.[_0x5e4b45(0x46c)]||_0x5160b8['message']?.[_0x5e4b45(0x317)]||_0x5160b8[_0x5e4b45(0x46c)][_0x5e4b45(0x17f)]||_0x5160b8['key'][_0x5e4b45(0x5e3)]===_0x5e4b45(0x3ca))return;let _0x8ea0dc=null,_0x7e4d8f=null;try{_0x8ea0dc=await this[_0x5e4b45(0x555)](_0x5160b8),_0x7e4d8f=_0x8ea0dc?_0x8ea0dc[_0x5e4b45(0x6c3)](','):null;}catch(_0x2c80bd){this[_0x5e4b45(0x549)][_0x5e4b45(0x601)](this[_0x5e4b45(0x462)]+'\x20('+this[_0x5e4b45(0x1d2)][_0x5e4b45(0x582)]+'):\x20'+(_0x2c80bd instanceof Error?_0x2c80bd[_0x5e4b45(0x46c)]:JSON[_0x5e4b45(0x1b4)](_0x2c80bd,null,0x2))),_0x7e4d8f=_0x5e4b45(0x511);}if(this[_0x5e4b45(0x472)][_0x5e4b45(0x55b)]('unavailable'),Es['default'][_0x5e4b45(0x1ec)](_0x5160b8[_0x5e4b45(0x217)])&&(_0x5160b8[_0x5e4b45(0x217)]=_0x5160b8[_0x5e4b45(0x217)]?.['toNumber']()),this['localWebhook']?.[_0x5e4b45(0x5b9)]&&_0x5160b8[_0x5e4b45(0x2c0)][_0x5e4b45(0x5e3)][_0x5e4b45(0x4f7)]('@g.us')){this['logger'][_0x5e4b45(0x601)](_0x5e4b45(0x5ed));return;}_0x5160b8[_0x5e4b45(0x217)]&&_0x5160b8[_0x5e4b45(0x217)][_0x5e4b45(0x52d)]()[_0x5e4b45(0x5c6)]<0xd&&(_0x5160b8[_0x5e4b45(0x217)]=_0x5160b8['messageTimestamp']*0x3e8);let _0x7e41b2=_0x5160b8['message'],{messageContent:_0x2583b8,message_normalized:_0x22c3ae}=this['normalizeMessage'](_0x7e41b2,$(_0x5160b8[_0x5e4b45(0x46c)]),_0x7e4d8f);_0x2583b8||console[_0x5e4b45(0xe6)](_0x5e4b45(0x35d));let _0x1780e9={'_id':_0x5160b8[_0x5e4b45(0x2c0)]['id'],'key':_0x5160b8['key'],'pushName':_0x5160b8[_0x5e4b45(0x646)],'message':{..._0x5160b8['message']},'messageType':$(_0x5160b8['message']),'message_normalized':{'key':_0x5160b8[_0x5e4b45(0x2c0)],'pushName':_0x5160b8[_0x5e4b45(0x646)],'messageTimestamp':_0x5160b8[_0x5e4b45(0x217)],'source':(0x0,y['getDevice'])(_0x5160b8['key']['id']),..._0x22c3ae},'messageTimestamp':_0x5160b8[_0x5e4b45(0x217)],'owner':this['instance']['wuid'],'source':(0x0,y[_0x5e4b45(0x6c6)])(_0x5160b8[_0x5e4b45(0x2c0)]['id'])};this[_0x5e4b45(0x549)][_0x5e4b45(0x1b7)](_0x1780e9),await this[_0x5e4b45(0x546)]['message'][_0x5e4b45(0x714)]([_0x1780e9],this[_0x5e4b45(0x1d2)][_0x5e4b45(0x582)]),this['sendDataWebhook'](_0x5e4b45(0x320),_0x1780e9),q(this[_0x5e4b45(0x462)],'messages',{'message':_0x1780e9}),_0x5160b8['key'][_0x5e4b45(0x5e3)]!==_0x5e4b45(0x3ca)&&await this[_0x5e4b45(0x18c)](_0x2e6a01,_0x1780e9,_0x5e4b45(0x372));},'messages.update':async(_0x3c5cc,_0x3348ab)=>{const _0x2dd852=_0x35036a;let _0x2bcb57={0x0:_0x2dd852(0x24f),0x1:_0x2dd852(0x63c),0x2:_0x2dd852(0x52a),0x3:'DELIVERY_ACK',0x4:_0x2dd852(0x3a7),0x5:_0x2dd852(0x652)};for await(let {key:_0x4b8a07,update:_0x3997f8}of _0x3c5cc){if(this[_0x2dd852(0x501)]?.[_0x2dd852(0x5b9)]&&_0x4b8a07[_0x2dd852(0x5e3)]['includes'](_0x2dd852(0x4ac))){this[_0x2dd852(0x549)][_0x2dd852(0x601)]('group\x20ignored');return;}if(_0x4b8a07['remoteJid']!==_0x2dd852(0x3ca)){let _0x520294=Date[_0x2dd852(0x2f8)](),_0x5e7c5a;_0x3997f8[_0x2dd852(0x46c)]===null&&_0x3997f8[_0x2dd852(0x409)]===void 0x0?_0x5e7c5a=_0x2dd852(0x534):_0x5e7c5a=_0x2bcb57[_0x3997f8[_0x2dd852(0x409)]];let _0x37360e=_0x4b8a07[_0x2dd852(0x5e3)]['replace'](/:\d{1,2}@/g,'@'),_0x21e587={..._0x4b8a07,'remoteJid':_0x37360e,'status':_0x5e7c5a,'datetime':_0x520294,'owner':this[_0x2dd852(0x1d2)]['wuid']};this['sendDataWebhook'](_0x2dd852(0x3eb),_0x21e587),await this[_0x2dd852(0x4cf)](_0x4b8a07,_0x21e587);}}},'labels.association':async({type:_0x5aa1e6,association:_0x14436b})=>{const _0x467d2f=_0x35036a;if(_0x14436b[_0x467d2f(0x64e)]===_0x467d2f(0x2bf))switch(_0x5aa1e6){case _0x467d2f(0x313):console[_0x467d2f(0x1b7)](_0x14436b),await this[_0x467d2f(0x546)]['chat'][_0x467d2f(0x4b3)]({'where':{'_id':_0x14436b[_0x467d2f(0x68b)]}},{'labels':_0x14436b[_0x467d2f(0x452)]},this[_0x467d2f(0x1d2)]['wuid'],void 0x0,_0x467d2f(0x5ac));break;case _0x467d2f(0x4ce):console[_0x467d2f(0x1b7)](_0x14436b),await this[_0x467d2f(0x546)]['chat'][_0x467d2f(0x4b3)]({'where':{'_id':_0x14436b[_0x467d2f(0x68b)]}},{'labels':_0x14436b['labelId']},this[_0x467d2f(0x1d2)]['wuid'],void 0x0,_0x467d2f(0x570));break;default:console[_0x467d2f(0xe6)](_0x467d2f(0x665)+_0x5aa1e6+']');}},'labels.edit':async _0xa343e3=>{const _0x5a0925=_0x35036a;if(!_0xa343e3||!_0xa343e3['id']){console['error'](_0x5a0925(0x3e7));return;}let _0x4a84f8={'_id':_0xa343e3['id'],'color':_0xa343e3?.['color'],'name':_0xa343e3?.[_0x5a0925(0x396)],'owner':this[_0x5a0925(0x1d2)][_0x5a0925(0x582)]};await this[_0x5a0925(0x546)][_0x5a0925(0x461)]['updateOne']({'where':{'_id':_0xa343e3['id']}},_0x4a84f8,this['instance'][_0x5a0925(0x582)]),console[_0x5a0925(0x1b7)](_0x5a0925(0x707),_0xa343e3),_0xa343e3[_0x5a0925(0x3ec)]&&(await this[_0x5a0925(0x546)][_0x5a0925(0x461)][_0x5a0925(0x470)]({'where':{'_id':_0xa343e3['id']}},this[_0x5a0925(0x1d2)][_0x5a0925(0x582)]),console[_0x5a0925(0x1b7)]('Rótulo\x20deletado:',_0xa343e3['id']));}},this[_0x35036a(0x515)]={'groups.upsert':_0x1a20b9=>{const _0x1d9c24=_0x35036a;this[_0x1d9c24(0x66c)](_0x1d9c24(0xfb),_0x1a20b9);},'groups.update':_0xe88f39=>{const _0x1cfc9b=_0x35036a;this[_0x1cfc9b(0x66c)](_0x1cfc9b(0x598),_0xe88f39);},'group-participants.update':_0x107fd1=>{const _0x4aa99e=_0x35036a;this[_0x4aa99e(0x66c)](_0x4aa99e(0x5b0),_0x107fd1);}},this[_0x35036a(0x555)]=async _0x47317c=>{const _0x2bc741=_0x35036a;if(_0x47317c[_0x2bc741(0x46c)]?.[_0x2bc741(0x637)]){let _0x449061=await this['getMessage'](_0x47317c[_0x2bc741(0x46c)][_0x2bc741(0x637)][_0x2bc741(0x43f)],!0x0);if(_0x449061){let _0x2401a6=_0x449061['key'][_0x2bc741(0x4c8)]?this[_0x2bc741(0x1d2)][_0x2bc741(0x582)]+_0x2bc741(0x517):_0x449061[_0x2bc741(0x2c0)][_0x2bc741(0x5df)]||_0x449061[_0x2bc741(0x2c0)][_0x2bc741(0x5e3)],_0x380069=_0x449061[_0x2bc741(0x2c0)]['id'],_0x558a25=_0x449061[_0x2bc741(0x46c)],_0x483c05=Buffer['from'](_0x558a25[_0x2bc741(0x333)][_0x2bc741(0x6c9)][_0x2bc741(0x52d)]('hex'),_0x2bc741(0x299)),_0x298c34=(0x0,y[_0x2bc741(0x459)])(_0x47317c[_0x2bc741(0x46c)][_0x2bc741(0x637)][_0x2bc741(0x3c5)],{'pollCreatorJid':_0x2401a6,'pollMsgId':_0x380069,'pollEncKey':_0x483c05,'voterJid':_0x47317c[_0x2bc741(0x2c0)][_0x2bc741(0x4c8)]?this[_0x2bc741(0x1d2)][_0x2bc741(0x582)]+'@s.whatsapp.net':_0x47317c['key']['remoteJid'][_0x2bc741(0x374)](_0x2bc741(0x34c))?_0x47317c[_0x2bc741(0x2c0)][_0x2bc741(0x5df)]:_0x47317c['key']['remoteJid']}),_0x5851e3=[],_0x3c8813=_0x298c34[_0x2bc741(0x2b2)][_0x2bc741(0x353)](_0xc54ac0=>Buffer[_0x2bc741(0x25e)](_0xc54ac0)[_0x2bc741(0x52d)](_0x2bc741(0x299)));for(let {optionName:_0xbafd30}of _0x558a25['pollCreationMessage']?.[_0x2bc741(0x1c8)]||_0x558a25['pollCreationMessageV3']?.['options']||_0x558a25[_0x2bc741(0x2b0)]?.[_0x2bc741(0x1c8)])_0x3c8813[_0x2bc741(0x1c3)]((0x0,y['sha256'])(Buffer['from'](_0xbafd30))['toString'](_0x2bc741(0x299)))>-0x1&&_0x5851e3['push'](_0xbafd30);return _0x5851e3;}}return null;},this['normalizeMessage']=(_0x597141,_0x5b2910,_0x31ecf5)=>{const _0x34be2f=_0x35036a;try{let _0x1a4f47=_0x5b2910?_0x597141[_0x5b2910]:void 0x0,_0x418241={},_0x296c4e=null,_0x4c8ec7=null,_0x496de7=null;if(_0x597141[_0x34be2f(0x6bf)]?(_0x5b2910=$(_0x597141[_0x34be2f(0x6bf)][_0x34be2f(0x46c)]),_0x1a4f47=_0x597141[_0x34be2f(0x6bf)][_0x34be2f(0x46c)][_0x5b2910]):_0x597141[_0x34be2f(0x602)]?(_0x5b2910=$(_0x597141[_0x34be2f(0x602)][_0x34be2f(0x46c)]),_0x1a4f47=_0x597141[_0x34be2f(0x602)][_0x34be2f(0x46c)][_0x5b2910]):_0x597141['viewOnceMessage']?(_0x5b2910=$(_0x597141[_0x34be2f(0x10c)][_0x34be2f(0x46c)]),_0x1a4f47=_0x597141[_0x34be2f(0x10c)][_0x34be2f(0x46c)][_0x5b2910]):_0x597141['ephemeralMessage']?(_0x5b2910=$(_0x597141[_0x34be2f(0x46c)][_0x34be2f(0x3fc)][_0x34be2f(0x46c)]),_0x1a4f47=_0x597141[_0x34be2f(0x46c)][_0x34be2f(0x3fc)][_0x34be2f(0x46c)][_0x5b2910]):_0x597141[_0x34be2f(0x24a)]?.[_0x34be2f(0x46c)]?.[_0x34be2f(0x317)]?.[_0x34be2f(0x24a)]?(_0x5b2910=$(_0x597141[_0x34be2f(0x24a)][_0x34be2f(0x46c)]['protocolMessage'][_0x34be2f(0x24a)]),_0x296c4e=_0x597141[_0x34be2f(0x24a)]['message'][_0x34be2f(0x317)][_0x34be2f(0x2c0)]['id'],_0x1a4f47=_0x597141[_0x34be2f(0x24a)]['message'][_0x34be2f(0x317)][_0x34be2f(0x24a)][_0x5b2910]):_0x1a4f47=_0x597141[_0x5b2910],!_0x5b2910||!_0x1a4f47)return console['error'](_0x34be2f(0x39f),_0x597141),{'messageType':_0x5b2910,'messageContent':_0x1a4f47,'message_normalized':{}};_0x597141[_0x5b2910]?.[_0x34be2f(0x171)]?.[_0x34be2f(0x6f3)]&&_0x597141[_0x5b2910]?.['contextInfo']?.[_0x34be2f(0x53c)]&&(_0x4c8ec7=_0x597141[_0x5b2910][_0x34be2f(0x171)][_0x34be2f(0x6f3)]),_0x597141[_0x34be2f(0xee)]&&(_0x496de7=_0x597141['reactionMessage'][_0x34be2f(0x2c0)]['id']);let _0x223767;if(_0x1a4f47&&typeof _0x1a4f47==_0x34be2f(0x5aa)&&_0x34be2f(0x43f)in _0x1a4f47&&({pollCreationMessageKey:_0x223767}=_0x1a4f47),_0x5b2910==='documentWithCaptionMessage'){let _0x3562b6=_0x1a4f47?.[_0x34be2f(0x46c)]?.[_0x34be2f(0x5b7)];_0x3562b6&&(_0x1a4f47=_0x3562b6);}if(_0x5b2910===_0x34be2f(0x395)||_0x5b2910===_0x34be2f(0x2b0)||_0x5b2910===_0x34be2f(0x3f3)){let _0x30c38c=_0x1a4f47[_0x34be2f(0x1c8)][_0x34be2f(0x353)](_0x28fff6=>_0x28fff6[_0x34be2f(0x507)])[_0x34be2f(0x6c3)]('|');_0x418241[_0x34be2f(0x4c7)]=_0x30c38c;}let _0x14e303=_0x1a4f47['name']||_0x1a4f47[_0x34be2f(0x65f)]||_0x1a4f47[_0x34be2f(0x2a2)]||_0x1a4f47[_0x34be2f(0x4f6)];if(_0x5b2910===_0x34be2f(0x51f)){_0x14e303=(_0x1a4f47[_0x34be2f(0x363)]||'')+'\x0a'+(_0x1a4f47[_0x34be2f(0x4c4)]||'')+'\x0a'+(_0x1a4f47[_0x34be2f(0x270)]||'');let _0xf9b636=this[_0x34be2f(0x5c9)](_0x1a4f47[_0x34be2f(0x6cf)]);_0x418241['convertedOptions']=_0xf9b636;}if(_0x5b2910===_0x34be2f(0x174)&&(_0x31ecf5=_0x1a4f47[_0x34be2f(0x363)]),_0x1a4f47['vcard']){let _0x2b4b01=this[_0x34be2f(0x550)](JSON['stringify'](_0x1a4f47[_0x34be2f(0x710)],null,0x2));_0x14e303=_0x14e303+'\x0a'+_0x2b4b01;}if(_0x1a4f47){let {sections:_0x3008a0,listType:_0x34c09b,displayName:_0x471902,vcard:_0xdc2738,contactVcard:_0x15c4a3,name:_0x54030f,caption:_0x4784f9,conversation:_0x5c7795,pollCreationMessageKey:_0x59172b,footerText:_0x5b2f46,contentText:_0x38b46a,pageCount:_0x30b07,headerType:_0x24ac58,isAvatar:_0x30c924,isAnimated:_0xca4a1d,fallbackLc:_0x4d1f9d,fallbackLg:_0x3818c9,namespace:_0x4d772f,elementName:_0x555f7c,localizableParams:_0x1145a1,viewOnce:_0xee4fa9,height:_0x5c8dc8,width:_0x2cd7ce,key:_0x441e19,firstScanLength:_0x191b00,firstScanSidecar:_0xf2ba52,gifPlayback:_0x183e9b,gifAttribution:_0x4c7483,midQualityFileSha256:_0x2baa82,scansSidecar:_0x4e5ab8,streamingSidecar:_0x3308d4,thumbnailHeight:_0x2e2bca,thumbnailWidth:_0x5c8c20,thumbnailEncSha256:_0x28469f,thumbnailDirectPath:_0x567122,canonicalUrl:_0xd241b2,matchedText:_0x2d2311,previewType:_0x563ce3,thumbnailSha256:_0x2d588b,deviceListMetadataVersion:_0x22b431,inviteLinkGroupTypeV2:_0x40a817,interactiveAnnotations:_0x41d3d2,scanLengths:_0x22b76b,jpegThumbnail:_0x5b60e3,url:_0x5d75b5,mediaKeyTimestamp:_0x339fb3,waveform:_0x5dfb74,stickerSentTs:_0x28ee02,firstFrameLength:_0x3d6f50,fileEncSha256:_0x4ed120,contextInfo:_0x5110aa,firstFrameSidecar:_0x6329e9,directPath:_0x3210d5,fileSha256:_0xc4dd65,mediaKey:_0x1f9686,senderTimestampMs:_0x8a9790,..._0x5a3e8a}=_0x1a4f47;(_0x5b2910===_0x34be2f(0x51f)||_0x5b2910===_0x34be2f(0x174))&&(delete _0x5a3e8a['title'],delete _0x5a3e8a[_0x34be2f(0x4c4)]),typeof _0x1a4f47==_0x34be2f(0x6fc)?_0x418241={'text':_0x1a4f47,'type':_0x5b2910||_0x34be2f(0x2a2),..._0x296c4e&&{'edited':_0x296c4e},..._0x4c8ec7&&{'quoted':_0x4c8ec7},..._0x496de7&&{'reaction':_0x496de7}}:_0x418241={'text':_0x14e303,..._0x5a3e8a,..._0x5b2910===_0x34be2f(0x637)?{'poll_id':_0x1a4f47[_0x34be2f(0x43f)]['id'],'quoted':_0x1a4f47[_0x34be2f(0x43f)]['id'],'vote':_0x31ecf5}:{},..._0x5b2910===_0x34be2f(0x174)?{'vote':_0x31ecf5}:{},'type':_0x5b2910,..._0x296c4e&&{'edited':_0x296c4e},..._0x4c8ec7&&{'quoted':_0x4c8ec7},..._0x496de7&&{'reaction':_0x496de7},...(_0x5b2910===_0x34be2f(0x395)||_0x5b2910==='pollCreationMessageV2'||_0x5b2910===_0x34be2f(0x3f3)||_0x5b2910===_0x34be2f(0x51f))&&{'convertedOptions':_0x418241[_0x34be2f(0x4c7)]}};}return{'messageType':_0x5b2910,'messageContent':_0x1a4f47,'message_normalized':_0x418241};}catch(_0x711675){console[_0x34be2f(0xe6)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x711675);}},this[_0x35036a(0x5d1)]=null,this[_0x35036a(0x5ef)]=0x0,this[_0x35036a(0x6dd)]=null,(this[_0x35036a(0x1eb)](),this[_0x35036a(0x1d2)][_0x35036a(0x449)]={'count':0x0});}set['instanceName'](_0xadd811){const _0x110578=a0_0x452e81;if(!_0xadd811){this[_0x110578(0x1d2)]['name']=(0x0,hr['v4'])();return;}this[_0x110578(0x1d2)][_0x110578(0x396)]=_0xadd811,this[_0x110578(0x66c)](_0x110578(0x2ef),{'instance':this[_0x110578(0x1d2)][_0x110578(0x396)],'status':'created'});}get[a0_0x452e81(0x462)](){const _0x4c8f56=a0_0x452e81;return this[_0x4c8f56(0x1d2)]['name'];}get[a0_0x452e81(0x582)](){const _0x3c5030=a0_0x452e81;return this[_0x3c5030(0x1d2)][_0x3c5030(0x582)];}async[a0_0x452e81(0x3ba)](){const _0x956da9=a0_0x452e81;let _0x3bbffe=this[_0x956da9(0x472)][_0x956da9(0x41f)]?.[_0x956da9(0x396)]??this['client'][_0x956da9(0x41f)]?.[_0x956da9(0x3f1)];if(!_0x3bbffe){if(this[_0x956da9(0x1b1)]['get'](_0x956da9(0x1ea))['ENABLED']){let _0x3b0fbc=await N['getClient']()['db'](this[_0x956da9(0x1b1)][_0x956da9(0x271)](_0x956da9(0x1ea))['CONNECTION'][_0x956da9(0x590)]+_0x956da9(0x5cd))[_0x956da9(0x44a)](this[_0x956da9(0x462)])[_0x956da9(0x6f9)]({'_id':'creds'});if(_0x3b0fbc){let _0x1262f9=JSON[_0x956da9(0x132)](JSON[_0x956da9(0x1b4)](_0x3b0fbc),y['BufferJSON'][_0x956da9(0x610)]);_0x3bbffe=_0x1262f9['me']?.[_0x956da9(0x396)]||_0x1262f9['me']?.['verifiedName'];}}else{if((0x0,ve['existsSync'])((0x0,U[_0x956da9(0x6c3)])(me,this[_0x956da9(0x462)],'creds.json'))){let _0x48e05c=JSON[_0x956da9(0x132)]((0x0,ve[_0x956da9(0x2a4)])((0x0,U[_0x956da9(0x6c3)])(me,this[_0x956da9(0x462)],_0x956da9(0x6d9)),{'encoding':_0x956da9(0x5e2)}));_0x3bbffe=_0x48e05c['me']?.[_0x956da9(0x396)]||_0x48e05c['me']?.[_0x956da9(0x3f1)];}}}return _0x3bbffe;}get[a0_0x452e81(0x261)](){const _0x14f86c=a0_0x452e81;return this[_0x14f86c(0x1d2)][_0x14f86c(0x261)];}get[a0_0x452e81(0xbc)](){const _0x587315=a0_0x452e81;return{'pairingCode':this['instance'][_0x587315(0x449)]?.[_0x587315(0x56c)],'code':this[_0x587315(0x1d2)][_0x587315(0x449)]?.[_0x587315(0x3ac)],'base64':this[_0x587315(0x1d2)][_0x587315(0x449)]?.['base64']};}async['loadWebhook'](){const _0x5d3f1c=a0_0x452e81;let _0xdaa12e=await this['repository'][_0x5d3f1c(0x295)][_0x5d3f1c(0x1b8)](this[_0x5d3f1c(0x462)]);this[_0x5d3f1c(0x501)][_0x5d3f1c(0x50e)]=_0xdaa12e?.[_0x5d3f1c(0x50e)],this[_0x5d3f1c(0x501)][_0x5d3f1c(0x37a)]=_0xdaa12e?.['enabled'],this['localWebhook'][_0x5d3f1c(0x228)]=_0xdaa12e?.[_0x5d3f1c(0x228)],this[_0x5d3f1c(0x501)][_0x5d3f1c(0x46e)]=_0xdaa12e?.[_0x5d3f1c(0x46e)],this[_0x5d3f1c(0x501)][_0x5d3f1c(0x181)]=_0xdaa12e?.[_0x5d3f1c(0x181)],this[_0x5d3f1c(0x501)][_0x5d3f1c(0x393)]=_0xdaa12e?.[_0x5d3f1c(0x393)],this['localWebhook'][_0x5d3f1c(0x372)]=_0xdaa12e?.['MESSAGES_UPSERT'],this[_0x5d3f1c(0x501)]['MESSAGES_UPDATE']=_0xdaa12e?.['MESSAGES_UPDATE'],this[_0x5d3f1c(0x501)][_0x5d3f1c(0x653)]=_0xdaa12e?.[_0x5d3f1c(0x653)],this[_0x5d3f1c(0x501)]['GROUPS_UPDATE']=_0xdaa12e?.[_0x5d3f1c(0x6da)],this[_0x5d3f1c(0x501)][_0x5d3f1c(0x3b0)]=_0xdaa12e?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x5d3f1c(0x501)][_0x5d3f1c(0x547)]=_0xdaa12e?.['CHATS_SET'],this[_0x5d3f1c(0x501)]['CHATS_UPSERT']=_0xdaa12e?.[_0x5d3f1c(0x68a)],this[_0x5d3f1c(0x501)][_0x5d3f1c(0x576)]=_0xdaa12e?.[_0x5d3f1c(0x576)],this['localWebhook'][_0x5d3f1c(0x114)]=_0xdaa12e?.[_0x5d3f1c(0x114)],this['localWebhook'][_0x5d3f1c(0x216)]=_0xdaa12e?.['CONTACTS_SET'],this[_0x5d3f1c(0x501)][_0x5d3f1c(0x479)]=_0xdaa12e?.['CONTACTS_UPSERT'],this['localWebhook']['CONTACTS_UPDATE']=_0xdaa12e?.[_0x5d3f1c(0x526)],this[_0x5d3f1c(0x501)]['PRESENCE_UPDATE']=_0xdaa12e?.[_0x5d3f1c(0x392)],this[_0x5d3f1c(0x501)][_0x5d3f1c(0x619)]=_0xdaa12e?.[_0x5d3f1c(0x619)],this[_0x5d3f1c(0x501)][_0x5d3f1c(0x4d0)]=_0xdaa12e?.[_0x5d3f1c(0x4d0)],this[_0x5d3f1c(0x501)][_0x5d3f1c(0x5b9)]=_0xdaa12e?.[_0x5d3f1c(0x5b9)];}async[a0_0x452e81(0x6d6)](_0x1ed3d8){const _0x296b66=a0_0x452e81;let _0x5301df=[_0x296b66(0x294),'url',_0x296b66(0x37a),_0x296b66(0x228),_0x296b66(0x46e),'QRCODE_UPDATED','MESSAGES_UPDATE',_0x296b66(0x372),_0x296b66(0x393),'GROUPS_UPSERT',_0x296b66(0x6da),_0x296b66(0x3b0),_0x296b66(0x547),'CHATS_UPSERT',_0x296b66(0x576),_0x296b66(0x114),_0x296b66(0x216),'CONTACTS_UPSERT',_0x296b66(0x526),_0x296b66(0x392),'MESSAGES_SET',_0x296b66(0x4d0),'groups_ignore'],_0x42158c={};return _0x5301df[_0x296b66(0x446)](_0x365e6a=>{_0x1ed3d8[_0x365e6a]!==void 0x0&&(_0x42158c[_0x365e6a]=_0x1ed3d8[_0x365e6a]);}),await this[_0x296b66(0x546)][_0x296b66(0x295)]['create'](_0x42158c,this[_0x296b66(0x462)]),Object[_0x296b66(0x14c)](this['localWebhook'],_0x42158c),await this['repository'][_0x296b66(0x295)][_0x296b66(0x1b8)](this[_0x296b66(0x462)]);}async['findWebhook'](){const _0x170e75=a0_0x452e81;return await this[_0x170e75(0x546)][_0x170e75(0x295)][_0x170e75(0x1b8)](this['instanceName']);}async[a0_0x452e81(0x66c)](_0x318d93,_0x39cec4){const _0x1e6280=a0_0x452e81;let _0x143667=_0x318d93[_0x1e6280(0x24b)](/[\.-]/gm,'_')[_0x1e6280(0x185)](),_0xa84461=this['localWebhook'][_0x1e6280(0x37a)]&&(0x0,k[_0x1e6280(0x4cc)])(this[_0x1e6280(0x501)][_0x1e6280(0x50e)])?this[_0x1e6280(0x501)][_0x1e6280(0x50e)]+(this[_0x1e6280(0x501)]['local_map']?this[_0x1e6280(0x226)][_0x318d93]:''):null,_0x194ffc=this[_0x1e6280(0x501)][_0x143667],_0xc5e16c=ie&&ie['enabled']&&(0x0,k[_0x1e6280(0x4cc)])(ie[_0x1e6280(0x50e)])?ie[_0x1e6280(0x50e)]+(ie[_0x1e6280(0x228)]?this[_0x1e6280(0x226)][_0x318d93]:''):null,_0x4636a5=ie?ie[_0x143667]:null;if(_0x194ffc&&_0xa84461)try{await se['default'][_0x1e6280(0x47e)]({'baseURL':_0xa84461})[_0x1e6280(0x14b)]('',{'event':_0x318d93,'instance':this[_0x1e6280(0x1d2)][_0x1e6280(0x396)],'data':_0x39cec4}),this[_0x1e6280(0x549)][_0x1e6280(0x1b7)]('Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x318d93+':\x20'+_0xa84461);}catch(_0x5aa536){this[_0x1e6280(0x549)][_0x1e6280(0xe6)](this[_0x1e6280(0x462)]+'\x20('+this[_0x1e6280(0x1d2)][_0x1e6280(0x582)]+_0x1e6280(0x522)+{'local':c[_0x1e6280(0x396)]+_0x1e6280(0x5a7),'message':_0x5aa536?.[_0x1e6280(0x46c)],'hostName':_0x5aa536?.[_0x1e6280(0x41c)],'syscall':_0x5aa536?.[_0x1e6280(0x1b3)],'code':_0x5aa536?.[_0x1e6280(0x3ac)],'error':_0x5aa536?.[_0x1e6280(0x1fe)],'stack':_0x5aa536?.[_0x1e6280(0x5f2)],'name':_0x5aa536?.[_0x1e6280(0x396)]});}if(_0x4636a5&&_0xc5e16c)try{await se['default'][_0x1e6280(0x47e)]({'baseURL':_0xc5e16c})['post']('',{'event':_0x318d93,'instance':this[_0x1e6280(0x1d2)][_0x1e6280(0x396)],'data':_0x39cec4}),this['logger'][_0x1e6280(0x1b7)](_0x1e6280(0xe8)+_0x318d93+':\x20'+_0xc5e16c);}catch(_0x471326){this['logger'][_0x1e6280(0xe6)](this[_0x1e6280(0x462)]+'\x20('+this[_0x1e6280(0x1d2)][_0x1e6280(0x582)]+_0x1e6280(0x522)+{'local':c['name']+_0x1e6280(0x30b),'message':_0x471326?.['message'],'hostName':_0x471326?.['hostname'],'syscall':_0x471326?.[_0x1e6280(0x1b3)],'code':_0x471326?.['code'],'error':_0x471326?.[_0x1e6280(0x1fe)],'stack':_0x471326?.[_0x1e6280(0x5f2)],'name':_0x471326?.[_0x1e6280(0x396)]});}}async['connectionUpdate']({qr:_0x463ebe,connection:_0x25d438,lastDisconnect:_0x46d04b}){const _0x1e3654=a0_0x452e81;if(_0x463ebe){if(this[_0x1e3654(0x1d2)]['qrcode']['count']===mo)return this[_0x1e3654(0x66c)](_0x1e3654(0xcf),{'message':_0x1e3654(0x5a3),'statusCode':y['DisconnectReason'][_0x1e3654(0x51e)]}),this[_0x1e3654(0x33f)]={'state':_0x1e3654(0x58d),'statusReason':y[_0x1e3654(0x406)]['connectionClosed']},this['sendDataWebhook'](_0x1e3654(0x225),{'instance':this[_0x1e3654(0x1d2)][_0x1e3654(0x396)],...this[_0x1e3654(0x33f)]}),this[_0x1e3654(0x66c)](_0x1e3654(0x2ef),{'instance':this[_0x1e3654(0x1d2)]['name'],'status':'removed'}),this[_0x1e3654(0x546)]['auth'][_0x1e3654(0x47e)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x1e3654(0x2f8)]()},this[_0x1e3654(0x1d2)][_0x1e3654(0x396)]),this[_0x1e3654(0x2fb)]=!0x0,this[_0x1e3654(0x3ea)][_0x1e3654(0x112)](_0x1e3654(0x329),this[_0x1e3654(0x1d2)]['name']);this[_0x1e3654(0x1d2)][_0x1e3654(0x449)][_0x1e3654(0x5b3)]++;let _0x466b38={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x1e3654(0x551),'dark':'#000000'}};fr[_0x1e3654(0x463)]['toDataURL'](_0x463ebe,_0x466b38,(_0x57a084,_0x51c0f1)=>{const _0x4e134a=_0x1e3654;if(_0x57a084){this[_0x4e134a(0x549)]['error'](this[_0x4e134a(0x462)]+'\x20('+this[_0x4e134a(0x1d2)]['wuid']+_0x4e134a(0x1b6)+(_0x57a084 instanceof Error?_0x57a084[_0x4e134a(0x46c)]:JSON[_0x4e134a(0x1b4)](_0x57a084,null,0x2)));return;}this[_0x4e134a(0x1d2)][_0x4e134a(0x449)][_0x4e134a(0x584)]=_0x51c0f1,this[_0x4e134a(0x1d2)][_0x4e134a(0x449)][_0x4e134a(0x3ac)]=_0x463ebe,this[_0x4e134a(0x66c)](_0x4e134a(0xcf),{'qrcode':{'instance':this[_0x4e134a(0x1d2)][_0x4e134a(0x396)],'pairingCode':this[_0x4e134a(0x1d2)]['qrcode'][_0x4e134a(0x56c)],'code':_0x463ebe,'base64':_0x51c0f1}});}),this[_0x1e3654(0x49c)]?this[_0x1e3654(0x1d2)]['qrcode'][_0x1e3654(0x56c)]=await this[_0x1e3654(0x472)]['requestPairingCode'](this[_0x1e3654(0x49c)]):this[_0x1e3654(0x1d2)][_0x1e3654(0x449)]['pairingCode']=null,yr[_0x1e3654(0x463)][_0x1e3654(0x5e7)](_0x463ebe,{'small':!0x0},_0x49190e=>this[_0x1e3654(0x549)][_0x1e3654(0x1b7)]('\x0a{\x20instance:\x20'+this[_0x1e3654(0x1d2)][_0x1e3654(0x396)]+_0x1e3654(0x600)+this['instance'][_0x1e3654(0x449)][_0x1e3654(0x5b3)]+',\x20pairCode:\x20'+this[_0x1e3654(0x1d2)]['qrcode'][_0x1e3654(0x56c)]+_0x1e3654(0x2ea)+_0x49190e));}if(_0x25d438&&(this['stateConnection']={'state':_0x25d438,'statusReason':_0x46d04b?.[_0x1e3654(0xe6)]?.[_0x1e3654(0x47a)]?.['statusCode']??0xc8},this[_0x1e3654(0x66c)](_0x1e3654(0x225),{'instance':this[_0x1e3654(0x1d2)]['name'],...this['stateConnection']})),_0x25d438===_0x1e3654(0xf7)){if(this[_0x1e3654(0x259)]++,this[_0x1e3654(0x2ed)][_0x1e3654(0x58a)](Date['now']()),this[_0x1e3654(0x2ed)]=this['reconnectTimestamps']['filter'](_0x545b61=>Date[_0x1e3654(0x2f8)]()-_0x545b61<this[_0x1e3654(0x2bd)]),_0x46d04b[_0x1e3654(0xe6)]?.[_0x1e3654(0x47a)]?.[_0x1e3654(0x310)]!==y[_0x1e3654(0x406)]['loggedOut']&&this['reconnectTimestamps'][_0x1e3654(0x5c6)]<=this[_0x1e3654(0x687)])await this[_0x1e3654(0x2b4)]();else{this['sendDataWebhook'](_0x1e3654(0x2ef),{'instance':this[_0x1e3654(0x1d2)][_0x1e3654(0x396)],'status':_0x1e3654(0x291)}),this[_0x1e3654(0x596)]=!0x1,this[_0x1e3654(0x546)][_0x1e3654(0x295)][_0x1e3654(0x470)](this[_0x1e3654(0x462)]),this['repository']['auth']['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x1e3654(0x1d2)][_0x1e3654(0x396)]);try{this[_0x1e3654(0x549)][_0x1e3654(0x601)](this['instanceName']+'\x20('+this['instance'][_0x1e3654(0x582)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x87408a=await this[_0x1e3654(0x546)][_0x1e3654(0x46c)]['deleteAll'](this[_0x1e3654(0x1d2)][_0x1e3654(0x582)]);_0x87408a[_0x1e3654(0x200)]?this[_0x1e3654(0x549)][_0x1e3654(0x601)](this['instanceName']+'\x20('+this[_0x1e3654(0x1d2)][_0x1e3654(0x582)]+_0x1e3654(0x325)):console[_0x1e3654(0xe6)](_0x1e3654(0x649),_0x87408a[_0x1e3654(0xe6)]);}catch(_0x532713){console[_0x1e3654(0xe6)](_0x1e3654(0x3de),_0x532713);}this['delayMessage']!==null&&(this['logger']['verbose'](this[_0x1e3654(0x462)]+'\x20('+this[_0x1e3654(0x1d2)][_0x1e3654(0x582)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x1e3654(0x414)]),this[_0x1e3654(0x414)]=null),this[_0x1e3654(0x549)][_0x1e3654(0x601)](this[_0x1e3654(0x462)]+'\x20('+this[_0x1e3654(0x1d2)][_0x1e3654(0x582)]+'):\x20Limpando\x20AutomateSystem'),this[_0x1e3654(0x26b)]=null,this['eventEmitter'][_0x1e3654(0x112)](_0x1e3654(0x176),this[_0x1e3654(0x1d2)][_0x1e3654(0x396)],_0x1e3654(0x28f)),this[_0x1e3654(0x472)]?.['ws']?.[_0x1e3654(0xf7)](),this[_0x1e3654(0x472)]['end'](new Error('Close\x20connection'));}}if(_0x25d438===_0x1e3654(0x2c7)){this[_0x1e3654(0x6b9)],this[_0x1e3654(0x1d2)][_0x1e3654(0x582)]=this['client'][_0x1e3654(0x41f)]['id'][_0x1e3654(0x24b)](/:\d+/,'')[_0x1e3654(0x24b)](_0x1e3654(0x517),''),this['instance']['profilePictureUrl']=(await this['profilePicture'](this[_0x1e3654(0x1d2)][_0x1e3654(0x582)]+_0x1e3654(0x517)))['profilePictureUrl'],this['repository'][_0x1e3654(0x129)][_0x1e3654(0x47e)]({'online':!0x0,'owner':this[_0x1e3654(0x1d2)][_0x1e3654(0x582)],'lastDisconnect':null},this[_0x1e3654(0x1d2)]['name']);let _0x272424=_0x1e3654(0x20c)+this[_0x1e3654(0x1d2)][_0x1e3654(0x582)],_0x32f065=0x28,_0x277b80=Math[_0x1e3654(0x5fb)]((_0x32f065-_0x272424[_0x1e3654(0x5c6)])/0x2),_0xe5988c='\x20'['repeat'](_0x277b80),_0xca96a6=_0x1e3654(0x3ab),_0x590f50=_0x1e3654(0x3db)+this[_0x1e3654(0x1d2)]['name'],_0x38e653=(''+_0xe5988c+_0x272424+_0xe5988c)['padEnd'](_0x32f065,'\x20'),_0x47b388=(''+_0xe5988c+_0xca96a6+_0xe5988c)[_0x1e3654(0x581)](_0x32f065,'\x20'),_0x2cefaf=(''+_0xe5988c+_0x590f50+_0xe5988c)['padEnd'](_0x32f065,'\x20'),_0x3db05d=Math['max'](_0x38e653[_0x1e3654(0x5c6)],_0x47b388[_0x1e3654(0x5c6)],_0x2cefaf[_0x1e3654(0x5c6)]),_0x3663a9=_0x38e653[_0x1e3654(0x581)](_0x3db05d,'\x20'),_0x4721d1=_0x47b388[_0x1e3654(0x581)](_0x3db05d,'\x20'),_0x3224e0=_0x2cefaf[_0x1e3654(0x581)](_0x3db05d,'\x20');this[_0x1e3654(0x549)][_0x1e3654(0x342)]((_0x1e3654(0x6cb)+'─'[_0x1e3654(0x239)](_0x3db05d)+_0x1e3654(0x2b6)+_0x4721d1+_0x1e3654(0x385)+_0x3224e0+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x3663a9+_0x1e3654(0x3a1)+'─'[_0x1e3654(0x239)](_0x3db05d)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x1e3654(0x296)](),this[_0x1e3654(0x596)]=!0x0;}}[a0_0x452e81(0x6b9)](){const _0x381b46=a0_0x452e81;this[_0x381b46(0x259)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x452e81(0x68d)](_0x288fa6,_0x10ea1d=!0x1){const _0x1fcbaa=a0_0x452e81;try{let _0x195ff2=await this['repository']['message']['find']({'where':{'_id':_0x288fa6['id']}},this[_0x1fcbaa(0x1d2)][_0x1fcbaa(0x582)]);return _0x10ea1d?_0x195ff2[0x0]:_0x195ff2[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x452e81(0x1eb)](){const _0x1315e1=a0_0x452e81;let _0x3a6328=this[_0x1315e1(0x1b1)]['get'](_0x1315e1(0x5bf)),_0x1fa547=this[_0x1315e1(0x1b1)][_0x1315e1(0x271)](_0x1315e1(0x1ea));_0x3a6328?.[_0x1315e1(0x163)]&&!_0x1fa547[_0x1315e1(0x356)]&&setInterval(()=>{const _0x4589bc=_0x1315e1;try{for(let [_0x3e140a,_0x448ec9]of Object[_0x4589bc(0x693)](_0x3a6328))_0x448ec9===!0x0&&(0x0,Dt['execSync'])(_0x4589bc(0x115)+(0x0,U[_0x4589bc(0x6c3)])(this['storePath'],_0x3e140a['toLowerCase'](),this['instance']['wuid'])+_0x4589bc(0x5db));}catch{}},(_0x3a6328?.[_0x1315e1(0x163)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x170b55=a0_0x452e81;let _0xb30aa=this[_0x170b55(0x1b1)][_0x170b55(0x271)](_0x170b55(0x1ea)),_0x1084c5=this['configService'][_0x170b55(0x271)]('REDIS');return _0x1084c5?.[_0x170b55(0x356)]?await ys(_0x1084c5,this[_0x170b55(0x1d2)][_0x170b55(0x396)]):_0xb30aa[_0x170b55(0x356)]?await fs(this[_0x170b55(0x1d2)][_0x170b55(0x396)]):await(0x0,y[_0x170b55(0x4bb)])((0x0,U[_0x170b55(0x6c3)])(me,this[_0x170b55(0x1d2)]['name']));}async['AutomateFunctions'](){const _0x38c52d=a0_0x452e81;let _0x54cef4=()=>Math['floor'](Math['random']()*0x2711)+0x7d0,_0x551a3d=async()=>{const _0x5bccdf=a0_0x3d1d;if(!this[_0x5bccdf(0x596)]){this['logger']['verbose']('Desconectado,\x20parando\x20execução.'),this[_0x5bccdf(0x1e2)]=!0x1;return;}if(this[_0x5bccdf(0x1d2)][_0x5bccdf(0x582)]&&this[_0x5bccdf(0x26b)]&&this['delayMessage']!==null&&this[_0x5bccdf(0x414)]!==void 0x0){let _0x55083e=Math['round'](this[_0x5bccdf(0x414)]/0xea60);this[_0x5bccdf(0x549)]['verbose'](this[_0x5bccdf(0x462)]+'\x20('+this[_0x5bccdf(0x1d2)]['wuid']+_0x5bccdf(0x352)+_0x55083e+'\x20minutos\x20verificará\x20novas\x20mensagens'),this['isRunning']=!0x1;return;}else this['instance'][_0x5bccdf(0x582)]&&(this[_0x5bccdf(0x549)]['verbose'](this[_0x5bccdf(0x462)]+'\x20('+this['instance']['wuid']+_0x5bccdf(0x4f9)),this[_0x5bccdf(0x549)][_0x5bccdf(0x601)](this[_0x5bccdf(0x462)]+'\x20('+this[_0x5bccdf(0x1d2)]['wuid']+'):\x20Dados\x20migrados\x20com\x20sucesso'),this[_0x5bccdf(0x26b)]||await this['getAutomateSystem'](),(this[_0x5bccdf(0x414)]===null||this[_0x5bccdf(0x414)]===void 0x0)&&await this[_0x5bccdf(0x328)]());if(this[_0x5bccdf(0x1e2)]){let _0x2a4e2a=_0x54cef4();this[_0x5bccdf(0x549)][_0x5bccdf(0x601)](this[_0x5bccdf(0x462)]+_0x5bccdf(0x425)+_0x2a4e2a/0x3e8+_0x5bccdf(0x2cf)),setTimeout(_0x551a3d,_0x2a4e2a);}};if(this['isRunning'])return;this[_0x38c52d(0x1e2)]=!0x0;let _0x593680=_0x54cef4();setTimeout(_0x551a3d,_0x593680);}async[a0_0x452e81(0x6e9)](_0x3f4dd3,_0x4d9b76,_0x4a7f0b,_0x1ee3f7,_0x2e6302){const _0x216f1a=a0_0x452e81;this['logger'][_0x216f1a(0x601)](_0x216f1a(0x134));try{let _0x22238c={'host':_0x3f4dd3,'port':parseInt(_0x4d9b76),'protocol':_0x4a7f0b};_0x1ee3f7&&_0x2e6302&&(_0x22238c={..._0x22238c,'auth':{'username':_0x1ee3f7,'password':_0x2e6302}});let _0x44e50b=['https://jsonip.com',_0x216f1a(0x47d),_0x216f1a(0x15d)];for(let _0x2f90c0 of _0x44e50b)try{let _0x46bd67=await se[_0x216f1a(0x463)][_0x216f1a(0x271)](_0x2f90c0,{'proxy':_0x22238c}),_0x57fb18;return _0x2f90c0[_0x216f1a(0x4f7)](_0x216f1a(0x480))||_0x2f90c0['includes'](_0x216f1a(0x6a5))?_0x57fb18=_0x46bd67[_0x216f1a(0x28e)]['ip']:_0x2f90c0[_0x216f1a(0x4f7)](_0x216f1a(0x5ad))&&(_0x57fb18=_0x46bd67[_0x216f1a(0x28e)][_0x216f1a(0x3cc)](/\d+\.\d+\.\d+\.\d+/)[0x0]),this['logger'][_0x216f1a(0x601)](_0x216f1a(0x340)+_0x2f90c0+':\x20'+_0x57fb18),!0x0;}catch(_0x49cedd){this[_0x216f1a(0x549)]['error'](_0x216f1a(0x4f2)+_0x2f90c0+_0x216f1a(0x283)+_0x49cedd);}return!0x1;}catch(_0x313478){return this[_0x216f1a(0x549)][_0x216f1a(0xe6)](_0x216f1a(0x24d)+_0x313478),_0x313478['response']?(this[_0x216f1a(0x549)][_0x216f1a(0xe6)](_0x216f1a(0x3cd)+_0x313478[_0x216f1a(0x10f)]['data']),this[_0x216f1a(0x549)]['error'](_0x216f1a(0x2d9)+_0x313478[_0x216f1a(0x10f)][_0x216f1a(0x409)]),this[_0x216f1a(0x549)]['error'](_0x216f1a(0x2e3)+_0x313478['response']['headers'])):_0x313478[_0x216f1a(0x676)]?this['logger']['error'](_0x216f1a(0x45d)+_0x313478[_0x216f1a(0x676)]):this[_0x216f1a(0x549)]['error'](_0x216f1a(0x3fe)+_0x313478['message']),!0x1;}}async['tryProxy'](_0x575750){const _0xee2db8=a0_0x452e81;if(console['log'](_0xee2db8(0x51a)),await this[_0xee2db8(0x6e9)](_0x575750[_0xee2db8(0xec)],_0x575750['port'],_0x575750['protocol'],_0x575750[_0xee2db8(0x41e)],_0x575750[_0xee2db8(0x442)])){console['log'](_0xee2db8(0x4aa));let _0x506992=_0x575750['protocol']+_0xee2db8(0x42b)+_0x575750[_0xee2db8(0xec)]+':'+_0x575750[_0xee2db8(0x1bf)];return _0x575750[_0xee2db8(0x41e)]&&_0x575750[_0xee2db8(0x442)]&&(_0x506992=_0x575750[_0xee2db8(0x41e)]+':'+_0x575750[_0xee2db8(0x442)]+'@'+_0x506992),this['repository'][_0xee2db8(0x129)][_0xee2db8(0x47e)]({'proxy':_0x506992},this[_0xee2db8(0x1d2)][_0xee2db8(0x396)]),{'agent':new wr[(_0xee2db8(0x66f))](_0x506992)};}return null;}[a0_0x452e81(0x234)](_0xa7cf95){const _0x4e49ed=a0_0x452e81;let _0x263960=_0xa7cf95[_0x4e49ed(0x688)](':');if(_0x263960[_0x4e49ed(0x5c6)]!==0x4)throw new Error('Formato\x20inválido\x20de\x20proxy');return{'host':_0x263960[0x0],'port':_0x263960[0x1],'username':_0x263960[0x2],'password':_0x263960[0x3],'protocol':'http'};}async[a0_0x452e81(0x2b4)](_0x5edd09,_0x2becfe=!0x0){const _0x9b12ef=a0_0x452e81;try{let _0x1fb5fb={},_0x3393df=0x0;if(Sr&&_0x2becfe){let _0x164e2c;try{let _0x56f84f=(await this[_0x9b12ef(0x546)][_0x9b12ef(0x129)][_0x9b12ef(0x1b8)](this[_0x9b12ef(0x462)]))['proxy'];for(_0x56f84f&&(_0x164e2c=this[_0x9b12ef(0x234)](_0x56f84f)),_0x56f84f&&bs(_0x164e2c)&&(_0x1fb5fb=await this[_0x9b12ef(0x51a)](_0x164e2c),_0x1fb5fb&&_0x3393df++);!_0x1fb5fb&&_0x3393df<0x3;){let _0x162cf1=dr();if(_0x162cf1){if(_0x164e2c=this[_0x9b12ef(0x234)](_0x162cf1[_0x9b12ef(0xec)]+':'+_0x162cf1[_0x9b12ef(0x1bf)]+':'+_0x162cf1[_0x9b12ef(0x41e)]+':'+_0x162cf1[_0x9b12ef(0x442)]),bs(_0x164e2c)){if(_0x1fb5fb=await this['tryProxy'](_0x164e2c),_0x1fb5fb)break;}else this[_0x9b12ef(0x549)]['error']('Configuração\x20de\x20proxy\x20inválida\x20gerada.');}_0x3393df++;}}catch(_0x2809ed){this[_0x9b12ef(0x549)][_0x9b12ef(0xe6)](_0x9b12ef(0x3a9)+_0x2809ed),_0x1fb5fb={};}!_0x1fb5fb&&_0x3393df>=0x3&&(this[_0x9b12ef(0x549)][_0x9b12ef(0x607)]('Nenhum\x20proxy\x20funcional\x20encontrado\x20após\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.'),_0x1fb5fb={});}this[_0x9b12ef(0x69d)](),this[_0x9b12ef(0x1d2)][_0x9b12ef(0x2b5)]=await this[_0x9b12ef(0x49b)]();let {version:_0x50e8d8}=await(0x0,y[_0x9b12ef(0x146)])(),_0x41e536=[Ms,br,(0x0,Ss[_0x9b12ef(0x591)])()];console[_0x9b12ef(0x1b7)](_0x9b12ef(0x1c8)),console[_0x9b12ef(0x1b7)](_0x1fb5fb);let _0x4b2612={..._0x1fb5fb,'auth':{'creds':this[_0x9b12ef(0x1d2)]['authState']['state'][_0x9b12ef(0x319)],'keys':(0x0,y[_0x9b12ef(0x267)])(this[_0x9b12ef(0x1d2)][_0x9b12ef(0x2b5)][_0x9b12ef(0x5b1)][_0x9b12ef(0x327)],(0x0,At[_0x9b12ef(0x463)])({'level':'error'}))},'logger':(0x0,At['default'])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x5edd09?[_0x9b12ef(0x127),Ms,(0x0,Ss[_0x9b12ef(0x591)])()]:_0x41e536,'version':_0x50e8d8,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x9b12ef(0x18f)],'getMessage':async _0x198cd7=>await this[_0x9b12ef(0x68d)](_0x198cd7),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x9b12ef(0x628)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x47292c=>(_0x47292c['listMessage']?.[_0x9b12ef(0x3bb)]==y['proto'][_0x9b12ef(0x2f7)]['ListMessage'][_0x9b12ef(0x19e)][_0x9b12ef(0x541)]&&(_0x47292c=JSON[_0x9b12ef(0x132)](JSON['stringify'](_0x47292c)),_0x47292c[_0x9b12ef(0x51f)][_0x9b12ef(0x3bb)]=y[_0x9b12ef(0x427)][_0x9b12ef(0x2f7)][_0x9b12ef(0x16a)]['ListType'][_0x9b12ef(0x634)]),_0x47292c)};return this['endSession']=!0x1,this[_0x9b12ef(0x472)]=(0x0,y[_0x9b12ef(0x463)])(_0x4b2612),this[_0x9b12ef(0x4fd)](),this[_0x9b12ef(0x49c)]=_0x5edd09,this[_0x9b12ef(0x472)];}catch(_0xf806fc){throw this[_0x9b12ef(0x549)][_0x9b12ef(0xe6)](this[_0x9b12ef(0x462)]+'\x20('+this['instance'][_0x9b12ef(0x582)]+_0x9b12ef(0x522)+(_0xf806fc instanceof Error?_0xf806fc[_0x9b12ef(0x46c)]:JSON[_0x9b12ef(0x1b4)](_0xf806fc,null,0x2))),new O(_0xf806fc?.['toString']());}}['eventHandler'](){const _0x59c17d=a0_0x452e81;this[_0x59c17d(0x472)]['ev'][_0x59c17d(0x48f)](_0x87af39=>{const _0x5a6628=_0x59c17d;if(!this[_0x5a6628(0x2fb)]){let _0x45d05e=this[_0x5a6628(0x1b1)][_0x5a6628(0x271)](_0x5a6628(0x1ea));if(_0x87af39['labels.edit']){let _0x5f126d=_0x87af39[_0x5a6628(0x2dd)];this[_0x5a6628(0x588)][_0x5a6628(0x2dd)](_0x5f126d);}if(_0x87af39[_0x5a6628(0x1cf)]){let _0x3732eb=_0x87af39[_0x5a6628(0x1cf)];this[_0x5a6628(0x588)][_0x5a6628(0x1cf)](_0x3732eb);}if(_0x87af39['connection.update']&&this[_0x5a6628(0xeb)](_0x87af39['connection.update']),_0x87af39[_0x5a6628(0xda)]&&this[_0x5a6628(0x1d2)][_0x5a6628(0x2b5)][_0x5a6628(0x148)](),_0x87af39[_0x5a6628(0x27f)]){let _0x3cfccc=_0x87af39[_0x5a6628(0x27f)];this[_0x5a6628(0x588)][_0x5a6628(0x27f)](_0x3cfccc,_0x45d05e);}if(_0x87af39[_0x5a6628(0x320)]){let _0x1fb81f=_0x87af39[_0x5a6628(0x320)];this['messageHandle'][_0x5a6628(0x320)](_0x1fb81f,_0x45d05e);}if(_0x87af39[_0x5a6628(0x3eb)]){let _0x509927=_0x87af39['messages.update'];_0x509927[_0x5a6628(0x446)](_0x346044=>{const _0x148f1c=_0x5a6628;if(gr[_0x346044['key']['id']]){this[_0x148f1c(0x472)]['ev'][_0x148f1c(0x112)]('messages.upsert',{'messages':[_0x346044],'type':_0x148f1c(0x2dc)}),delete gr[_0x346044[_0x148f1c(0x2c0)]['id']];return;}}),this[_0x5a6628(0x588)]['messages.update'](_0x509927,_0x45d05e);}if(_0x87af39[_0x5a6628(0x4d7)]){let _0x4ac923=_0x87af39[_0x5a6628(0x4d7)];if(this[_0x5a6628(0x501)]?.[_0x5a6628(0x5b9)]&&_0x4ac923['id']['includes'](_0x5a6628(0x4ac)))return;this[_0x5a6628(0x66c)]('presence.update',_0x4ac923);}if(!this['localWebhook']?.[_0x5a6628(0x5b9)]){if(_0x87af39[_0x5a6628(0xfb)]){let _0x846566=_0x87af39['groups.upsert'];this[_0x5a6628(0x515)][_0x5a6628(0xfb)](_0x846566);}if(_0x87af39[_0x5a6628(0x598)]){let _0x3dcad5=_0x87af39['groups.update'];this[_0x5a6628(0x515)][_0x5a6628(0x598)](_0x3dcad5);}if(_0x87af39[_0x5a6628(0x5b0)]){let _0x2fb0a0=_0x87af39[_0x5a6628(0x5b0)];this[_0x5a6628(0x515)][_0x5a6628(0x5b0)](_0x2fb0a0);}}if(_0x87af39[_0x5a6628(0x4bc)]){let _0x29a7c8=_0x87af39[_0x5a6628(0x4bc)];this[_0x5a6628(0x19b)][_0x5a6628(0x4bc)](_0x29a7c8,_0x45d05e);}if(_0x87af39[_0x5a6628(0x35f)]){let _0xe504df=_0x87af39[_0x5a6628(0x35f)];this[_0x5a6628(0x19b)][_0x5a6628(0x35f)](_0xe504df,_0x45d05e);}if(_0x87af39[_0x5a6628(0x4b8)]){let _0x3a6845=_0x87af39[_0x5a6628(0x4b8)];this[_0x5a6628(0x19b)][_0x5a6628(0x4b8)](_0x3a6845);}if(_0x87af39[_0x5a6628(0x686)]){let _0x466a1b=_0x87af39[_0x5a6628(0x686)];this[_0x5a6628(0x378)][_0x5a6628(0x686)](_0x466a1b,_0x45d05e);}if(_0x87af39[_0x5a6628(0xd3)]){let _0x2ad048=_0x87af39['contacts.update'];this[_0x5a6628(0x378)][_0x5a6628(0xd3)](_0x2ad048,_0x45d05e);}}});}['formatBRNumber'](_0x3d6cff){const _0x5315f2=a0_0x452e81;let _0x12c045=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5315f2(0xea)](_0x3d6cff);if(_0x12c045&&_0x12c045[0x1]==='55'){let _0x4bef90=_0x12c045[0x2],_0x1d1501=_0x12c045[0x3],_0x13515a=_0x12c045[0x4];if(_0x4bef90>='31'&&_0x1d1501==='9')return _0x12c045[0x1]+_0x4bef90+_0x13515a;}return _0x3d6cff;}[a0_0x452e81(0x116)](_0x363384){const _0x1eb789=a0_0x452e81;return _0x363384[_0x1eb789(0x4f7)](_0x1eb789(0x4ac))||_0x363384[_0x1eb789(0x4f7)](_0x1eb789(0x517))||_0x363384['includes']('@broadcast')?_0x363384:(_0x363384=_0x363384?.[_0x1eb789(0x24b)](/\s/g,'')[_0x1eb789(0x24b)](/\+/g,'')[_0x1eb789(0x24b)](/\(/g,'')[_0x1eb789(0x24b)](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x363384[_0x1eb789(0x5c6)]>=0x12?(_0x363384=_0x363384[_0x1eb789(0x24b)](/[^\d-]/g,''),_0x363384+_0x1eb789(0x4ac)):(_0x363384=_0x363384[_0x1eb789(0x24b)](/\D/g,''),this['formatBRNumber'](_0x363384)+'@s.whatsapp.net'));}async[a0_0x452e81(0x53e)](_0x581f30){const _0x10726e=a0_0x452e81;let _0x1c5907=this[_0x10726e(0x116)](_0x581f30[_0x10726e(0x66d)]),_0x4ab9e5=(await this[_0x10726e(0x321)]({'numbers':[_0x1c5907]}))[0x0];if(!_0x4ab9e5['exists']&&!(0x0,y[_0x10726e(0x3f8)])(_0x4ab9e5[_0x10726e(0x376)]))throw new m(_0x4ab9e5);let _0x1e6608=(0x0,y['isJidGroup'])(_0x1c5907)?_0x1c5907:_0x4ab9e5[_0x10726e(0x376)];if((0x0,y[_0x10726e(0x3f8)])(_0x1e6608))try{await this[_0x10726e(0x472)][_0x10726e(0x266)](_0x1e6608);}catch{throw new F(_0x10726e(0x2e6));}try{return await this[_0x10726e(0x472)][_0x10726e(0x6f5)](_0x1e6608),await this[_0x10726e(0x472)][_0x10726e(0x55b)](_0x581f30[_0x10726e(0x56a)],_0x1c5907),{'status':0xc8,'presence':_0x581f30[_0x10726e(0x56a)]};}catch(_0x1ae435){throw new m(_0x1ae435[_0x10726e(0x52d)]());}}async[a0_0x452e81(0x3ad)](_0x327279){const _0x1583a0=a0_0x452e81;let _0x289e53=this[_0x1583a0(0x116)](_0x327279);try{return{'wuid':_0x289e53,'profilePictureUrl':await this['client'][_0x1583a0(0x261)](_0x289e53,_0x1583a0(0x37c))};}catch{return{'wuid':_0x289e53,'profilePictureUrl':null};}}async[a0_0x452e81(0x6e3)](_0x6c7fc5,_0x47b586,_0x1f4bdc){const _0x3ceedc=a0_0x452e81;_0x1f4bdc||(_0x1f4bdc={});let _0x324688=(await this['whatsappNumber']({'numbers':[_0x6c7fc5]}))[0x0];if(!_0x324688[_0x3ceedc(0x1a5)]&&!(0x0,y[_0x3ceedc(0x3f8)])(_0x324688[_0x3ceedc(0x376)])&&!_0x324688[_0x3ceedc(0x376)][_0x3ceedc(0x4f7)](_0x3ceedc(0x1cb)))throw new m(_0x324688);let _0x3dfd0a=_0x324688[_0x3ceedc(0x376)];try{_0x1f4bdc?.[_0x3ceedc(0x70c)]&&(await this[_0x3ceedc(0x472)]['presenceSubscribe'](_0x3dfd0a),await this[_0x3ceedc(0x472)][_0x3ceedc(0x55b)](_0x1f4bdc?.[_0x3ceedc(0x56a)]??_0x3ceedc(0x389),_0x3dfd0a),await(0x0,y[_0x3ceedc(0x70c)])(_0x1f4bdc[_0x3ceedc(0x70c)]),await this[_0x3ceedc(0x472)]['sendPresenceUpdate'](_0x3ceedc(0xfa),_0x3dfd0a));let _0x4303a5=_0x1f4bdc?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x3635d0;if(_0x1f4bdc?.['quoted']){let _0x4571cc=_0x1f4bdc?.['quoted'],_0x304295=_0x4571cc?.[_0x3ceedc(0x46c)]?_0x4571cc:await this[_0x3ceedc(0x68d)](_0x4571cc[_0x3ceedc(0x2c0)],!0x0);if(!_0x304295)throw _0x3ceedc(0x54a);_0x3635d0=_0x304295;}let _0x4a37c5;if((0x0,y[_0x3ceedc(0x3f8)])(_0x3dfd0a))try{let _0x2b3f66=await this[_0x3ceedc(0x472)][_0x3ceedc(0x266)](_0x3dfd0a);if(!_0x2b3f66)throw new F(_0x3ceedc(0x2e6));_0x1f4bdc?.[_0x3ceedc(0x13a)]&&(_0x1f4bdc[_0x3ceedc(0x13a)]?.[_0x3ceedc(0x215)]?_0x4a37c5=_0x2b3f66['participants'][_0x3ceedc(0x353)](_0x584393=>_0x584393['id']):_0x1f4bdc['mentions']?.[_0x3ceedc(0x359)]?.[_0x3ceedc(0x5c6)]&&(_0x4a37c5=_0x1f4bdc[_0x3ceedc(0x13a)][_0x3ceedc(0x359)][_0x3ceedc(0x353)](_0x1f4c7d=>{const _0x4cc0fe=_0x3ceedc;let _0x30dad8=this[_0x4cc0fe(0x116)](_0x1f4c7d);return(0x0,y[_0x4cc0fe(0x3f8)])(_0x30dad8)?null:_0x30dad8;})));}catch{throw new F(_0x3ceedc(0x2e6));}let _0x3dfa25=await((async()=>{const _0x389f01=_0x3ceedc;let _0x2ad35d={'quoted':_0x3635d0};if(!_0x47b586[_0x389f01(0x322)]&&!_0x47b586[_0x389f01(0x68f)]&&!_0x47b586[_0x389f01(0x386)]&&!_0x47b586[_0x389f01(0x2a2)]&&_0x3dfd0a!=='status@broadcast'&&!_0x47b586[_0x389f01(0x322)])return await this[_0x389f01(0x472)][_0x389f01(0x563)](_0x3dfd0a,{'forward':{'key':{'remoteJid':this[_0x389f01(0x1d2)][_0x389f01(0x582)],'fromMe':!0x0},'message':_0x47b586},'mentions':_0x4a37c5},_0x2ad35d);if(_0x47b586[_0x389f01(0x2a2)]){let _0x2ced47=_0x47b586[_0x389f01(0x2a2)];return _0x1f4bdc?.[_0x389f01(0x2ec)]&&(_0x2ced47=await this[_0x389f01(0x1c5)](_0x2ced47,_0x3dfd0a)),await this[_0x389f01(0x472)]['sendMessage'](_0x3dfd0a,{'text':_0x2ced47,'mentions':_0x4a37c5,'linkPreview':_0x4303a5},_0x2ad35d);}return _0x3dfd0a===_0x389f01(0x3ca)?await this[_0x389f01(0x472)][_0x389f01(0x563)](_0x3dfd0a,_0x47b586[_0x389f01(0x409)]['content'],{'backgroundColor':_0x47b586[_0x389f01(0x409)]['option'][_0x389f01(0x4b5)],'font':_0x47b586[_0x389f01(0x409)][_0x389f01(0x18d)][_0x389f01(0x568)],'statusJidList':_0x47b586[_0x389f01(0x409)][_0x389f01(0x18d)][_0x389f01(0x496)]}):await this[_0x389f01(0x472)][_0x389f01(0x563)](_0x3dfd0a,_0x47b586,_0x2ad35d);})()),{message_normalized:_0x1a3508}=this[_0x3ceedc(0x505)](_0x3dfa25[_0x3ceedc(0x46c)],$(_0x3dfa25[_0x3ceedc(0x46c)]),null),_0x1957f3={'_id':_0x3dfa25[_0x3ceedc(0x2c0)]['id'],'key':_0x3dfa25[_0x3ceedc(0x2c0)],'pushName':_0x3dfa25[_0x3ceedc(0x646)],'message':{..._0x3dfa25[_0x3ceedc(0x46c)]},'messageType':$(_0x3dfa25['message']),'message_normalized':{'key':_0x3dfa25[_0x3ceedc(0x2c0)],'pushName':_0x3dfa25[_0x3ceedc(0x646)],'messageTimestamp':_0x3dfa25['messageTimestamp']&&_0x3dfa25[_0x3ceedc(0x217)][_0x3ceedc(0x52d)]()[_0x3ceedc(0x5c6)]<0xd?_0x3dfa25[_0x3ceedc(0x217)]*0x3e8:_0x3dfa25[_0x3ceedc(0x217)]||null,'source':(0x0,y[_0x3ceedc(0x6c6)])(_0x3dfa25[_0x3ceedc(0x2c0)]['id']),..._0x1a3508},'messageTimestamp':_0x3dfa25[_0x3ceedc(0x217)]&&_0x3dfa25[_0x3ceedc(0x217)][_0x3ceedc(0x52d)]()['length']<0xd?_0x3dfa25[_0x3ceedc(0x217)]*0x3e8:_0x3dfa25[_0x3ceedc(0x217)]||null,'owner':this[_0x3ceedc(0x1d2)][_0x3ceedc(0x582)],'source':(0x0,y[_0x3ceedc(0x6c6)])(_0x3dfa25[_0x3ceedc(0x2c0)]['id'])};return this['logger'][_0x3ceedc(0x1b7)](_0x1957f3),this[_0x3ceedc(0x66c)](_0x3ceedc(0x36d),_0x1957f3),q(this[_0x3ceedc(0x462)],'messages',{'message':_0x1957f3}),this[_0x3ceedc(0x18c)](this[_0x3ceedc(0x1b1)][_0x3ceedc(0x271)](_0x3ceedc(0x1ea)),_0x1957f3,_0x3ceedc(0x393)),await this[_0x3ceedc(0x546)][_0x3ceedc(0x46c)][_0x3ceedc(0x714)]([_0x1957f3],this['instance'][_0x3ceedc(0x582)]),_0x3dfa25;}catch(_0x1df9f4){throw this[_0x3ceedc(0x549)]['error'](this[_0x3ceedc(0x462)]+'\x20('+this['instance']['wuid']+_0x3ceedc(0x522)+_0x1df9f4[_0x3ceedc(0x52d)]()),new m(_0x1df9f4[_0x3ceedc(0x52d)]());}}get['connectionStatus'](){return this['stateConnection'];}async[a0_0x452e81(0x250)](_0x1f2870){const _0x42e3ce=a0_0x452e81;let _0x53ccff=pr,_0x1b15f9=He;return _0x1b15f9&&this[_0x42e3ce(0x462)]['toLowerCase']()[_0x42e3ce(0x4f7)](_0x1b15f9[_0x42e3ce(0x2d0)]())&&(_0x1f2870['textMessage']['text']+='\x0a\x0a'+_0x53ccff),await this['sendMessageWithTyping'](_0x1f2870[_0x42e3ce(0x66d)],{'conversation':_0x1f2870[_0x42e3ce(0x250)][_0x42e3ce(0x6d8)]},_0x1f2870?.['options']);}async['formatStatusMessage'](_0x470bef){const _0x17ae3a=a0_0x452e81;if(!_0x470bef[_0x17ae3a(0x64e)])throw new m(_0x17ae3a(0x67b));if(!_0x470bef['content'])throw new m('Content\x20is\x20required');if(_0x470bef[_0x17ae3a(0x4e4)]){let _0x13b2d9=await this[_0x17ae3a(0x546)]['contact'][_0x17ae3a(0x1b8)]({'where':{}},this[_0x17ae3a(0x1d2)][_0x17ae3a(0x582)]);if(!_0x13b2d9[_0x17ae3a(0x5c6)])throw new m(_0x17ae3a(0x1de));_0x470bef[_0x17ae3a(0x496)]=_0x13b2d9[_0x17ae3a(0x611)](_0x15d6b3=>_0x15d6b3['pushName'])[_0x17ae3a(0x353)](_0x18d2f4=>_0x18d2f4['_id']);}if(!_0x470bef[_0x17ae3a(0x496)]?.[_0x17ae3a(0x5c6)]&&!_0x470bef[_0x17ae3a(0x4e4)])throw new m(_0x17ae3a(0x2ab));if(_0x470bef['type']===_0x17ae3a(0x6d8)){if(!_0x470bef[_0x17ae3a(0x4b5)])throw new m('Background\x20color\x20is\x20required');if(!_0x470bef[_0x17ae3a(0x568)])throw new m(_0x17ae3a(0x630));return{'content':{'text':_0x470bef[_0x17ae3a(0xff)]},'option':{'backgroundColor':_0x470bef[_0x17ae3a(0x4b5)],'font':_0x470bef[_0x17ae3a(0x568)],'statusJidList':_0x470bef[_0x17ae3a(0x496)]}};}if(_0x470bef[_0x17ae3a(0x64e)]===_0x17ae3a(0x37c))return{'content':{'image':{'url':_0x470bef[_0x17ae3a(0xff)]},'caption':_0x470bef[_0x17ae3a(0x65f)]},'option':{'statusJidList':_0x470bef[_0x17ae3a(0x496)]}};if(_0x470bef['type']==='video')return{'content':{'video':{'url':_0x470bef['content']},'caption':_0x470bef[_0x17ae3a(0x65f)]},'option':{'statusJidList':_0x470bef[_0x17ae3a(0x496)]}};if(_0x470bef['type']===_0x17ae3a(0x322)){this['logger'][_0x17ae3a(0x601)](_0x17ae3a(0x5c2)),this[_0x17ae3a(0x549)]['verbose']('Processing\x20audio');let _0x34e71c=await this[_0x17ae3a(0x37b)](_0x470bef[_0x17ae3a(0xff)]);if(typeof _0x34e71c=='string'){this['logger']['verbose'](_0x17ae3a(0x29d));let _0x279691=L['readFileSync'](_0x34e71c)[_0x17ae3a(0x52d)](_0x17ae3a(0x584)),_0x57029e={'content':{'audio':Buffer[_0x17ae3a(0x25e)](_0x279691,'base64'),'ptt':!0x0,'mimetype':_0x17ae3a(0x609)},'option':{'statusJidList':_0x470bef['statusJidList']}};return L[_0x17ae3a(0x351)](_0x34e71c),_0x57029e;}else throw new O(_0x34e71c);}throw new m(_0x17ae3a(0x699));}async[a0_0x452e81(0x5f7)](_0x3dadfd){const _0x56f7c0=a0_0x452e81;return await this[_0x56f7c0(0x6e3)](_0x56f7c0(0x3ca),{'status':await this[_0x56f7c0(0x67e)](_0x3dadfd['statusMessage'])});}async[a0_0x452e81(0x614)](_0x37722e){const _0x55b38b=a0_0x452e81;try{let _0x19b7cd=await(0x0,y['prepareWAMessageMedia'])({[_0x37722e[_0x55b38b(0x467)]]:(0x0,k[_0x55b38b(0x4cc)])(_0x37722e[_0x55b38b(0x4f4)])?{'url':_0x37722e[_0x55b38b(0x4f4)]}:Buffer[_0x55b38b(0x25e)](_0x37722e['media'],'base64')},{'upload':this[_0x55b38b(0x472)]['waUploadToServer']}),_0x1e43b0=_0x37722e['mediatype']+_0x55b38b(0x2f7);if(_0x37722e[_0x55b38b(0x467)]===_0x55b38b(0x262)&&!_0x37722e['fileName']){let _0x7898fa=new RegExp(/.*\/(.+?)\./)['exec'](_0x37722e[_0x55b38b(0x4f4)]);_0x37722e['fileName']=_0x7898fa?_0x7898fa[0x1]:null;}let _0x11c530=(0x0,k[_0x55b38b(0x4cc)])(_0x37722e['media'])?_0x37722e[_0x55b38b(0x4f4)][_0x55b38b(0x688)]('?')[0x0]:_0x37722e['media'];this['logger']['verbose'](_0x55b38b(0x493)+_0x11c530);let _0x4aa67c;(0x0,k['isURL'])(_0x37722e['media'])?_0x4aa67c=(0x0,Ot[_0x55b38b(0x6f6)])(_0x11c530):_0x37722e['fileName']&&_0x37722e[_0x55b38b(0x348)][_0x55b38b(0x4f7)]('.')?_0x4aa67c=(0x0,Ot[_0x55b38b(0x6f6)])(_0x37722e[_0x55b38b(0x348)]):_0x4aa67c=(0x0,Ot['getMIMEType'])(_0x37722e[_0x55b38b(0x4f4)]);let _0x2ba2c8=pr,_0x42f743=He;return _0x42f743&&this[_0x55b38b(0x462)][_0x55b38b(0x2d0)]()['includes'](_0x42f743[_0x55b38b(0x2d0)]())&&(_0x37722e[_0x55b38b(0x65f)]+='\x0a\x0a'+_0x2ba2c8),_0x19b7cd[_0x1e43b0][_0x55b38b(0x65f)]=_0x37722e?.['caption'],_0x19b7cd[_0x1e43b0]['mimetype']=_0x4aa67c,_0x19b7cd[_0x1e43b0][_0x55b38b(0x348)]=_0x37722e[_0x55b38b(0x348)],_0x37722e[_0x55b38b(0x467)]===_0x55b38b(0x708)&&(_0x19b7cd[_0x1e43b0][_0x55b38b(0x183)]=Uint8Array['from']((0x0,ve[_0x55b38b(0x2a4)])((0x0,U[_0x55b38b(0x6c3)])(process['cwd'](),'video-cover.png'))),_0x19b7cd[_0x1e43b0]['gifPlayback']=!0x1),(0x0,y[_0x55b38b(0x5f1)])('',{[_0x1e43b0]:{..._0x19b7cd[_0x1e43b0]}},{'userJid':this[_0x55b38b(0x1d2)][_0x55b38b(0x582)]});}catch(_0x938823){throw this[_0x55b38b(0x549)]['error'](this[_0x55b38b(0x462)]+'\x20('+this[_0x55b38b(0x1d2)][_0x55b38b(0x582)]+_0x55b38b(0x522)+(_0x938823 instanceof Error?_0x938823[_0x55b38b(0x46c)]:JSON['stringify'](_0x938823,null,0x2))),new O(_0x938823?.[_0x55b38b(0x52d)]()||_0x938823);}}async['mediaMessage'](_0x4592af){const _0xd5040b=a0_0x452e81;let _0x1ae25f=await this[_0xd5040b(0x614)](_0x4592af[_0xd5040b(0x18e)]);return await this[_0xd5040b(0x6e3)](_0x4592af[_0xd5040b(0x66d)],{..._0x1ae25f[_0xd5040b(0x46c)]},_0x4592af?.[_0xd5040b(0x1c8)]);}async[a0_0x452e81(0x4b7)](_0x288653,_0x407234){const _0x1ed73e=a0_0x452e81;try{this['logger'][_0x1ed73e(0x601)](_0x1ed73e(0xf1));let _0x512b28,_0x106b78=_0x407234+'-'+new Date()[_0x1ed73e(0x2e9)]();this[_0x1ed73e(0x549)]['verbose'](_0x1ed73e(0x289)+_0x106b78);let _0x66ddcd=''+(0x0,U['join'])(this[_0x1ed73e(0x178)],_0x106b78+'.webp');if(this[_0x1ed73e(0x549)][_0x1ed73e(0x601)](_0x1ed73e(0x5de)+_0x66ddcd),(0x0,k['isBase64'])(_0x288653)){this[_0x1ed73e(0x549)][_0x1ed73e(0x601)](_0x1ed73e(0x2f6));let _0x3c6f37=_0x288653[_0x1ed73e(0x24b)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x214db9=Buffer['from'](_0x3c6f37,_0x1ed73e(0x584));_0x512b28=''+(0x0,U['join'])(this[_0x1ed73e(0x178)],'temp-'+_0x106b78+'.png'),this[_0x1ed73e(0x549)][_0x1ed73e(0x601)](_0x1ed73e(0x4d4)+_0x512b28),await(0x0,It[_0x1ed73e(0x463)])(_0x214db9)[_0x1ed73e(0x11e)](_0x512b28),this[_0x1ed73e(0x549)][_0x1ed73e(0x601)](_0x1ed73e(0x54c));}else{this[_0x1ed73e(0x549)]['verbose'](_0x1ed73e(0x1fb));let _0x399d13=new Date()['getTime'](),_0x371bb2=_0x288653+_0x1ed73e(0x34f)+_0x399d13;this['logger'][_0x1ed73e(0x601)](_0x1ed73e(0x4ae)+_0x371bb2);let _0x2cae78=await se[_0x1ed73e(0x463)][_0x1ed73e(0x271)](_0x371bb2,{'responseType':_0x1ed73e(0x65a)});this[_0x1ed73e(0x549)]['verbose'](_0x1ed73e(0x373));let _0x3f2336=Buffer[_0x1ed73e(0x25e)](_0x2cae78[_0x1ed73e(0x28e)],_0x1ed73e(0x45b));_0x512b28=''+(0x0,U['join'])(this[_0x1ed73e(0x178)],_0x1ed73e(0x682)+_0x106b78+_0x1ed73e(0x105)),this[_0x1ed73e(0x549)][_0x1ed73e(0x601)](_0x1ed73e(0x4d4)+_0x512b28),await(0x0,It[_0x1ed73e(0x463)])(_0x3f2336)[_0x1ed73e(0x11e)](_0x512b28),this['logger'][_0x1ed73e(0x601)](_0x1ed73e(0x54c));}return await(0x0,It['default'])(_0x512b28)[_0x1ed73e(0x61e)]()[_0x1ed73e(0x11e)](_0x66ddcd),this[_0x1ed73e(0x549)][_0x1ed73e(0x601)](_0x1ed73e(0x460)),L[_0x1ed73e(0x351)](_0x512b28),this['logger'][_0x1ed73e(0x601)](_0x1ed73e(0xb9)),_0x66ddcd;}catch(_0x15ed5c){console[_0x1ed73e(0xe6)](_0x1ed73e(0x387),_0x15ed5c instanceof Error?_0x15ed5c[_0x1ed73e(0x46c)]:JSON['stringify'](_0x15ed5c,null,0x2));}}async[a0_0x452e81(0x3c6)](_0x2930fa){const _0x3a26fb=a0_0x452e81;let _0x23fdb7=await this[_0x3a26fb(0x4b7)](_0x2930fa[_0x3a26fb(0x657)]['image'],_0x2930fa['number']),_0x2d9752=await this[_0x3a26fb(0x6e3)](_0x2930fa['number'],{'sticker':{'url':_0x23fdb7}},_0x2930fa?.[_0x3a26fb(0x1c8)]);return L[_0x3a26fb(0x351)](_0x23fdb7),this[_0x3a26fb(0x549)][_0x3a26fb(0x601)](_0x3a26fb(0x558)),_0x2d9752;}async[a0_0x452e81(0x45a)](_0x54b428){const _0x5f5db9=a0_0x452e81;if(this[_0x5f5db9(0x549)][_0x5f5db9(0x601)]('Sending\x20audio\x20whatsapp'),!_0x54b428[_0x5f5db9(0x1c8)]?.[_0x5f5db9(0xbd)]&&_0x54b428[_0x5f5db9(0x1c8)]?.['encoding']!==!0x1&&(_0x54b428[_0x5f5db9(0x1c8)][_0x5f5db9(0xbd)]=!0x0),_0x54b428[_0x5f5db9(0x1c8)]?.[_0x5f5db9(0xbd)]){let _0x18a075=await this['convertaudio'](_0x54b428[_0x5f5db9(0x6a2)]['audio']);if(typeof _0x18a075==_0x5f5db9(0x6fc)){let _0x2d6717=L['readFileSync'](_0x18a075)[_0x5f5db9(0x52d)](_0x5f5db9(0x584)),_0x50de95=this[_0x5f5db9(0x6e3)](_0x54b428['number'],{'audio':Buffer[_0x5f5db9(0x25e)](_0x2d6717,'base64'),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':_0x5f5db9(0x1ed),'delay':_0x54b428?.[_0x5f5db9(0x1c8)]?.['delay']});return L[_0x5f5db9(0x351)](_0x18a075),this[_0x5f5db9(0x549)][_0x5f5db9(0x601)](_0x5f5db9(0x2ca)),_0x50de95;}else throw new O(_0x18a075);}return await this[_0x5f5db9(0x6e3)](_0x54b428['number'],{'audio':(0x0,k[_0x5f5db9(0x4cc)])(_0x54b428[_0x5f5db9(0x6a2)][_0x5f5db9(0x322)])?{'url':_0x54b428['audioMessage']['audio']}:Buffer['from'](_0x54b428[_0x5f5db9(0x6a2)][_0x5f5db9(0x322)],_0x5f5db9(0x584)),'ptt':!0x0,'mimetype':'audio/aac'},{'presence':_0x5f5db9(0x1ed),'delay':_0x54b428?.[_0x5f5db9(0x1c8)]?.[_0x5f5db9(0x70c)]});}async[a0_0x452e81(0x37b)](_0x415fc7){const _0x55fc78=a0_0x452e81;this[_0x55fc78(0x549)][_0x55fc78(0x601)](_0x55fc78(0x631));let _0x58a36e,_0x8a225c,_0x3d9ad8=(0x0,Me['v4'])();if(this[_0x55fc78(0x549)]['verbose'](_0x55fc78(0x5fc)+_0x3d9ad8),(0x0,k[_0x55fc78(0x4cc)])(_0x415fc7)){this[_0x55fc78(0x549)][_0x55fc78(0x601)]('Audio\x20is\x20url'),_0x8a225c=''+(0x0,U[_0x55fc78(0x6c3)])(this[_0x55fc78(0x178)],_0x3d9ad8+'.mp4'),_0x58a36e=''+(0x0,U[_0x55fc78(0x6c3)])(this[_0x55fc78(0x178)],_0x55fc78(0x682)+_0x3d9ad8+_0x55fc78(0x4df)),this[_0x55fc78(0x549)][_0x55fc78(0x601)](_0x55fc78(0x6ad)+_0x8a225c),this[_0x55fc78(0x549)][_0x55fc78(0x601)](_0x55fc78(0x214)+_0x58a36e);let _0xe9f1e7=new Date()['getTime'](),_0x1feaf1=_0x415fc7+_0x55fc78(0x34f)+_0xe9f1e7;this[_0x55fc78(0x549)]['verbose'](_0x55fc78(0x6a6)+_0x1feaf1);let _0x2d0475=await se['default'][_0x55fc78(0x271)](_0x1feaf1,{'responseType':_0x55fc78(0x65a)});this[_0x55fc78(0x549)][_0x55fc78(0x601)](_0x55fc78(0x2d3)),L[_0x55fc78(0x10a)](_0x58a36e,_0x2d0475['data']);}else{this['logger'][_0x55fc78(0x601)]('Audio\x20is\x20base64'),_0x8a225c=''+(0x0,U[_0x55fc78(0x6c3)])(this['storePath'],_0x3d9ad8+_0x55fc78(0x1f3)),_0x58a36e=''+(0x0,U[_0x55fc78(0x6c3)])(this[_0x55fc78(0x178)],_0x55fc78(0x682)+_0x3d9ad8+_0x55fc78(0x4df)),this[_0x55fc78(0x549)]['verbose'](_0x55fc78(0x6ad)+_0x8a225c),this[_0x55fc78(0x549)][_0x55fc78(0x601)](_0x55fc78(0x214)+_0x58a36e);let _0x33d8a3=Buffer[_0x55fc78(0x25e)](_0x415fc7,_0x55fc78(0x584));L[_0x55fc78(0x10a)](_0x58a36e,_0x33d8a3),this[_0x55fc78(0x549)]['verbose'](_0x55fc78(0x232));}return this[_0x55fc78(0x549)][_0x55fc78(0x601)]('Converting\x20audio\x20to\x20mp4'),new Promise((_0x204673,_0x42e8ab)=>{const _0x410d5c=_0x55fc78;(0x0,Dt[_0x410d5c(0xea)])(mr[_0x410d5c(0x463)]['path']+_0x410d5c(0x390)+_0x58a36e+_0x410d5c(0x5cb)+_0x8a225c+_0x410d5c(0x6fb),_0x55a33b=>{const _0xe20230=_0x410d5c;L[_0xe20230(0x351)](_0x58a36e),this[_0xe20230(0x549)]['verbose'](_0xe20230(0x635)),_0x55a33b&&_0x42e8ab(_0x55a33b),this[_0xe20230(0x549)][_0xe20230(0x601)](_0xe20230(0x6b7)),_0x204673(_0x8a225c);});});}async['buttonMessage'](_0x53b1ed){const _0x5d28f6=a0_0x452e81;let _0x32debc={},_0x554972=_0x5d28f6(0x332);if(_0x53b1ed[_0x5d28f6(0x17a)]?.[_0x5d28f6(0x18e)]){_0x554972=_0x53b1ed[_0x5d28f6(0x17a)][_0x5d28f6(0x18e)]?.[_0x5d28f6(0x467)][_0x5d28f6(0x185)]()??_0x5d28f6(0x332),_0x32debc[_0x5d28f6(0x640)]=_0x554972[_0x5d28f6(0x2d0)]()+_0x5d28f6(0x2f7);let _0x16a788=await this[_0x5d28f6(0x614)](_0x53b1ed[_0x5d28f6(0x17a)][_0x5d28f6(0x18e)]);_0x32debc[_0x5d28f6(0x46c)]=_0x16a788[_0x5d28f6(0x46c)][_0x32debc[_0x5d28f6(0x640)]],_0x32debc['contentText']='*'+_0x53b1ed[_0x5d28f6(0x17a)][_0x5d28f6(0x363)]+_0x5d28f6(0x243)+_0x53b1ed['buttonMessage'][_0x5d28f6(0x4c4)];}let _0x429302={'text':_0x53b1ed['buttonMessage'][_0x5d28f6(0x4e7)][_0x5d28f6(0x353)](_0x15bea5=>_0x15bea5[_0x5d28f6(0x535)]),'ids':_0x53b1ed[_0x5d28f6(0x17a)]['buttons'][_0x5d28f6(0x353)](_0x66fa9a=>_0x66fa9a['buttonId'])};if(!(0x0,k[_0x5d28f6(0x530)])(_0x429302['text'])||!(0x0,k[_0x5d28f6(0x530)])(_0x429302[_0x5d28f6(0x706)]))throw new m(_0x5d28f6(0x444),_0x5d28f6(0x3bc));return await this[_0x5d28f6(0x6e3)](_0x53b1ed[_0x5d28f6(0x66d)],{'buttonsMessage':{'text':_0x32debc?.[_0x5d28f6(0x640)]?void 0x0:_0x53b1ed[_0x5d28f6(0x17a)][_0x5d28f6(0x363)],'contentText':_0x32debc?.[_0x5d28f6(0x6cc)]??_0x53b1ed[_0x5d28f6(0x17a)][_0x5d28f6(0x4c4)],'footerText':_0x53b1ed[_0x5d28f6(0x17a)]?.[_0x5d28f6(0x270)],'buttons':_0x53b1ed['buttonMessage']['buttons'][_0x5d28f6(0x353)](_0xa10fd6=>({'buttonText':{'displayText':_0xa10fd6[_0x5d28f6(0x535)]},'buttonId':_0xa10fd6['buttonId'],'type':0x1})),'headerType':y[_0x5d28f6(0x427)][_0x5d28f6(0x2f7)][_0x5d28f6(0x344)][_0x5d28f6(0x5b4)][_0x554972],[_0x32debc?.[_0x5d28f6(0x640)]]:_0x32debc?.[_0x5d28f6(0x46c)]}},_0x53b1ed?.[_0x5d28f6(0x1c8)]);}async[a0_0x452e81(0xe7)](_0x522661){const _0x5a97b3=a0_0x452e81;return await this[_0x5a97b3(0x6e3)](_0x522661['number'],{'locationMessage':{'degreesLatitude':_0x522661[_0x5a97b3(0xe7)][_0x5a97b3(0x49a)],'degreesLongitude':_0x522661[_0x5a97b3(0xe7)][_0x5a97b3(0x4d2)],'name':_0x522661['locationMessage']?.[_0x5a97b3(0x396)],'address':_0x522661[_0x5a97b3(0xe7)]?.[_0x5a97b3(0x3b1)]}},_0x522661?.[_0x5a97b3(0x1c8)]);}async['contactMessage'](_0x29c168){const _0xd08ece=a0_0x452e81;let _0x53da5e={},_0x89e9f4=_0x54f892=>{const _0x2c38b4=a0_0x3d1d;let _0x4a9174='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x54f892['fullName']+_0x2c38b4(0xe5)+_0x54f892['fullName']+'\x0a';_0x54f892[_0x2c38b4(0x282)]&&(_0x4a9174+=_0x2c38b4(0x52b)+_0x54f892['organization']+';\x0a'),_0x54f892[_0x2c38b4(0x6e8)]&&(_0x4a9174+=_0x2c38b4(0x629)+_0x54f892['email']+'\x0a'),_0x54f892[_0x2c38b4(0x50e)]&&(_0x4a9174+='URL:'+_0x54f892[_0x2c38b4(0x50e)]+'\x0a');let _0x2ba3e9='';return _0x54f892[_0x2c38b4(0x49c)]&&_0x54f892[_0x2c38b4(0x49c)]['split']('|')[_0x2c38b4(0x446)]((_0x463a2d,_0x28f714)=>{const _0x1f5a1c=_0x2c38b4;let _0x1559a5=this[_0x1f5a1c(0x116)](_0x463a2d)[_0x1f5a1c(0x24b)]('@s.whatsapp.net','');_0x2ba3e9+=_0x1f5a1c(0x4db)+(_0x28f714+0x1)+_0x1f5a1c(0x1dc)+_0x1559a5+':'+_0x463a2d+_0x1f5a1c(0x242)+(_0x28f714+0x1)+_0x1f5a1c(0x4ad);}),_0x4a9174+=_0x2ba3e9+_0x2c38b4(0x172),_0x4a9174;};return _0x29c168[_0xd08ece(0x2c6)][_0xd08ece(0x5c6)]===0x1?_0x53da5e[_0xd08ece(0x2c6)]={'displayName':_0x29c168[_0xd08ece(0x2c6)][0x0]['fullName'],'vcard':_0x89e9f4(_0x29c168[_0xd08ece(0x2c6)][0x0])}:_0x53da5e[_0xd08ece(0x1d7)]={'displayName':_0x29c168[_0xd08ece(0x2c6)][_0xd08ece(0x5c6)]+_0xd08ece(0xb7),'contacts':_0x29c168[_0xd08ece(0x2c6)][_0xd08ece(0x353)](_0x40f61d=>({'displayName':_0x40f61d[_0xd08ece(0x6fe)],'vcard':_0x89e9f4(_0x40f61d)}))},await this[_0xd08ece(0x6e3)](_0x29c168['number'],{..._0x53da5e},_0x29c168?.['options']);}async['reactionMessage'](_0x4f6ec4){const _0x8001ac=a0_0x452e81;return await this[_0x8001ac(0x6e3)](_0x4f6ec4['reactionMessage'][_0x8001ac(0x2c0)][_0x8001ac(0x5e3)],{'reactionMessage':{'key':_0x4f6ec4[_0x8001ac(0xee)]['key'],'text':_0x4f6ec4[_0x8001ac(0xee)][_0x8001ac(0x410)]}});}async[a0_0x452e81(0x321)](_0x1ba40e){const _0x44933c=a0_0x452e81;let _0x13236c=[];for await(let _0x49b613 of _0x1ba40e[_0x44933c(0xef)]){let _0x5ab165=this['createJid'](_0x49b613),_0x347052=!0x1;try{if((0x0,y[_0x44933c(0x3f8)])(_0x5ab165)){let _0x3abcaf=await this[_0x44933c(0x2fe)]({'groupJid':_0x5ab165},_0x44933c(0x28f));_0x13236c[_0x44933c(0x58a)](new he(_0x3abcaf[_0x44933c(0x696)]['id'],!!_0x3abcaf?.['metadata']['id'],_0x3abcaf?.['metadata']['subject'])),_0x347052=!!_0x3abcaf?.[_0x44933c(0x696)]['id'];}else{let _0x5477e1=(await this[_0x44933c(0x472)][_0x44933c(0x4d9)](_0x5ab165))[0x0];_0x13236c['push'](new he(_0x5477e1[_0x44933c(0x376)],_0x5477e1[_0x44933c(0x1a5)])),_0x347052=_0x5477e1[_0x44933c(0x1a5)];}}catch{await this[_0x44933c(0x255)](_0x5ab165,_0x347052),_0x13236c[_0x44933c(0x58a)](new he(_0x49b613,!0x1));}}return _0x13236c;}async[a0_0x452e81(0x255)](_0x25f5a4,_0x321a17){const _0x183782=a0_0x452e81;try{await this['repository'][_0x183782(0x182)][_0x183782(0x6f9)]({'where':{'_id':_0x25f5a4,'imported':!0x0}},this['instance'][_0x183782(0x582)])&&(_0x321a17?await this['repository'][_0x183782(0x182)][_0x183782(0x4b3)]({'where':{'_id':_0x25f5a4}},{'imported':!0x1},this[_0x183782(0x1d2)]['wuid'],void 0x0,_0x183782(0x107)):(await this[_0x183782(0x546)][_0x183782(0x182)]['deleteChat'](_0x25f5a4,this[_0x183782(0x1d2)][_0x183782(0x582)]),console[_0x183782(0x1b7)](_0x183782(0x124)+_0x25f5a4+_0x183782(0x606))));}catch(_0x26f686){console[_0x183782(0xe6)]('Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:',_0x26f686);}}async[a0_0x452e81(0x272)](_0x23fecd){const _0x47077c=a0_0x452e81;try{let _0x10d40b=_0x23fecd['readMessages'][_0x47077c(0x611)](_0x365dc6=>(0x0,y['isJidGroup'])(_0x365dc6[_0x47077c(0x5e3)])||(0x0,y[_0x47077c(0x434)])(_0x365dc6[_0x47077c(0x5e3)]))[_0x47077c(0x353)](_0x136c0e=>({'remoteJid':_0x136c0e[_0x47077c(0x5e3)],'fromMe':_0x136c0e[_0x47077c(0x4c8)],'id':_0x136c0e['id']}));await this[_0x47077c(0x472)][_0x47077c(0xcd)](_0x10d40b);let _0x15e0ca=_0x10d40b[_0x47077c(0x353)](_0x1452d4=>this['updateMessage'](_0x1452d4,{'status':_0x47077c(0x3a7),'owner':this[_0x47077c(0x1d2)][_0x47077c(0x582)]})),_0x2bc0ea=_0x10d40b[_0x47077c(0x353)](_0x27a465=>this[_0x47077c(0x546)][_0x47077c(0x182)]['updateOne']({'where':{'_id':_0x27a465[_0x47077c(0x5e3)]}},{'unreadcount':0x0},this['instance'][_0x47077c(0x582)])),[_0x2da893,_0x3d5c4a]=await Promise['all']([Promise[_0x47077c(0x38a)](_0x15e0ca),Promise[_0x47077c(0x38a)](_0x2bc0ea)]);return _0x3d5c4a[_0x47077c(0x611)](_0x1aaded=>_0x1aaded!==null)['forEach'](_0x3785f2=>{const _0x46220d=_0x47077c;q(this['instanceName'],_0x46220d(0x571),{'chat':_0x3785f2});}),{'message':_0x47077c(0x4e6),'read':'success'};}catch(_0x40074f){throw console[_0x47077c(0xe6)](_0x47077c(0x585),_0x40074f),new O(_0x47077c(0x2df),_0x40074f['toString']());}}async['getLastMessage'](_0x172c1d){const _0x48ed1a=a0_0x452e81;let _0x3b427e=await this['fetchMessages']({'where':{'key':{'remoteJid':_0x172c1d}}}),_0x5c7ea8=_0x3b427e[_0x48ed1a(0x159)]();for(let _0x383435 of _0x3b427e)_0x383435['messageTimestamp']>=_0x5c7ea8['messageTimestamp']&&(_0x5c7ea8=_0x383435);return _0x5c7ea8;}async[a0_0x452e81(0x655)](_0x2ad936){const _0x2ef200=a0_0x452e81;this[_0x2ef200(0x549)][_0x2ef200(0x601)]('Archiving\x20chat');try{let _0x133d6e=_0x2ad936['lastMessage'],_0x367147=_0x2ad936[_0x2ef200(0x182)];if(!_0x133d6e&&_0x367147?_0x133d6e=await this[_0x2ef200(0xe1)](_0x367147):(_0x133d6e=_0x2ad936[_0x2ef200(0x27e)],_0x133d6e[_0x2ef200(0x217)]=_0x133d6e?.['messageTimestamp']??Date[_0x2ef200(0x2f8)](),_0x367147=_0x133d6e?.[_0x2ef200(0x2c0)]?.[_0x2ef200(0x5e3)]),!_0x133d6e||Object[_0x2ef200(0x327)](_0x133d6e)[_0x2ef200(0x5c6)]===0x0)throw new F(_0x2ef200(0x337));await this[_0x2ef200(0x472)][_0x2ef200(0x666)]({'archive':_0x2ad936[_0x2ef200(0x5ea)],'lastMessages':[_0x133d6e]},this[_0x2ef200(0x116)](_0x367147));let _0x250bdf=await this[_0x2ef200(0x546)][_0x2ef200(0x182)][_0x2ef200(0x4b3)]({'where':{'_id':_0x133d6e?.[_0x2ef200(0x2c0)]?.[_0x2ef200(0x5e3)]}},{'archived':_0x2ad936['archive']},this[_0x2ef200(0x1d2)]['wuid']);return _0x250bdf&&q(this[_0x2ef200(0x462)],_0x2ef200(0x571),{'chat':_0x250bdf}),{'chatId':_0x367147,'archived':_0x2ad936['archive']};}catch(_0xbdcbd3){throw new O({'archived':!0x1,'message':[_0x2ef200(0x486),_0xbdcbd3[_0x2ef200(0x52d)]()]});}}async[a0_0x452e81(0x1fa)](_0x463933){const _0x2d4416=a0_0x452e81;try{let _0x5b48f2=await this[_0x2d4416(0x472)][_0x2d4416(0x563)](_0x463933[_0x2d4416(0x5e3)],{'delete':_0x463933});try{let _0x21db04=await this['updateMessage'](_0x463933,{'status':_0x2d4416(0x534),'owner':this['instance'][_0x2d4416(0x582)]});this[_0x2d4416(0x549)][_0x2d4416(0x601)](this[_0x2d4416(0x462)]+'\x20('+this[_0x2d4416(0x1d2)][_0x2d4416(0x582)]+_0x2d4416(0x330)+_0x21db04);}catch(_0x9143f2){console['error'](_0x2d4416(0x1c0),_0x9143f2);}return _0x5b48f2;}catch(_0x2590c6){throw new O(_0x2d4416(0x5fa),_0x2590c6?.[_0x2d4416(0x52d)]());}}async[a0_0x452e81(0x20e)](_0x150cad){const _0xd80083=a0_0x452e81;try{let _0x277859=_0x150cad?.[_0xd80083(0x46c)]?_0x150cad:await this[_0xd80083(0x68d)](_0x150cad['key'],!0x0);for(let _0x3fb2fb of pa)_0x277859[_0xd80083(0x46c)][_0x3fb2fb]&&(_0x277859[_0xd80083(0x46c)]=_0x277859[_0xd80083(0x46c)][_0x3fb2fb][_0xd80083(0x46c)]);let _0x3aacc9,_0x43726a;for(let _0x2cae99 of da)if(_0x3aacc9=_0x277859[_0xd80083(0x46c)][_0x2cae99],_0x3aacc9){_0x43726a=_0x2cae99;break;}if(!_0x3aacc9)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x3aacc9['mediaKey']==_0xd80083(0x5aa)&&(_0x277859[_0xd80083(0x46c)]=JSON[_0xd80083(0x132)](JSON[_0xd80083(0x1b4)](_0x277859[_0xd80083(0x46c)])));let _0x42c513=await(0x0,y[_0xd80083(0x2b3)])({'key':_0x277859?.[_0xd80083(0x2c0)],'message':_0x277859?.[_0xd80083(0x46c)]},_0xd80083(0x10d),{},{'logger':(0x0,At[_0xd80083(0x463)])({'level':_0xd80083(0x1c6)}),'reuploadRequest':this[_0xd80083(0x472)]['updateMediaMessage']});if(!(_0x42c513 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x9d8907=this[_0xd80083(0x1b1)]['get'](_0xd80083(0x1ea)),_0x417a8d,_0x26c440;if(_0x3aacc9['fileName'])_0x417a8d=_0x3aacc9[_0xd80083(0x348)];else{let _0x277d5b=_0x3aacc9['mimetype']?.[_0xd80083(0x3cc)](/\/(\w+)/),_0x1e1b81=_0x277d5b?_0x277d5b[0x1]:null;if(!_0x1e1b81)throw new Error(_0xd80083(0x11a));_0x417a8d=(0x0,Me['v4'])()+'.'+_0x1e1b81;}_0x43726a===_0xd80083(0x6a2)&&_0x3aacc9[_0xd80083(0x248)]===_0xd80083(0x1a4)?(_0x417a8d=(0x0,Me['v4'])()+_0xd80083(0x142),_0x26c440='/media/'+await this[_0xd80083(0x37b)](_0x42c513[_0xd80083(0x52d)](_0xd80083(0x584)))):(await this[_0xd80083(0x487)](_0x42c513,_0x417a8d),_0x26c440='/media/'+_0x417a8d);let _0x332000=this[_0xd80083(0x1b1)][_0xd80083(0x271)](_0xd80083(0x32e))[_0xd80083(0x4fc)];if(!_0x332000){let _0xf89bd3=this[_0xd80083(0x1b1)][_0xd80083(0x271)]('SSL_CONF');_0x332000=_0xd80083(0x698)+(_0xf89bd3&&_0xf89bd3[_0xd80083(0x63d)][_0xd80083(0x688)]('/')[0x4]);}_0x26c440=''+_0x332000+_0x26c440;let _0x46960b=0xc*0x3c*0x3c*0x3e8,_0x3a70f3={'where':{'_id':_0x277859[_0xd80083(0x2c0)]['id']}},_0x2e96c8={'message_normalized.fileUrl':_0x26c440,'message_normalized.expires_fileUrl':Date[_0xd80083(0x2f8)]()+_0x46960b};try{let _0xa1383d=await this[_0xd80083(0x546)][_0xd80083(0x46c)][_0xd80083(0x121)](_0x3a70f3,_0x2e96c8,this[_0xd80083(0x1d2)][_0xd80083(0x582)]);_0xa1383d&&q(this[_0xd80083(0x462)],_0xd80083(0x69b),{'message':_0xa1383d});}catch(_0x3742c6){this[_0xd80083(0x549)]['error'](this[_0xd80083(0x462)]+'\x20('+this[_0xd80083(0x1d2)]['wuid']+_0xd80083(0x522)+(_0x3742c6 instanceof Error?_0x3742c6[_0xd80083(0x46c)]:JSON[_0xd80083(0x1b4)](_0x3742c6,null,0x2)));}return{'mediaType':_0x43726a,'fileName':_0x3aacc9[_0xd80083(0x348)],'caption':_0x3aacc9['caption'],'size':{'fileLength':_0x3aacc9['fileLength'],'height':_0x3aacc9[_0xd80083(0x705)],'width':_0x3aacc9[_0xd80083(0x58e)]},'mimetype':_0x3aacc9[_0xd80083(0x248)],'base64':_0x42c513[_0xd80083(0x52d)](_0xd80083(0x584)),'fileUrl':_0x26c440,'expires_fileUrl':Date[_0xd80083(0x2f8)]()+_0x46960b};}catch(_0x1a89e8){throw this[_0xd80083(0x549)][_0xd80083(0xe6)](this[_0xd80083(0x462)]+'\x20('+this['instance'][_0xd80083(0x582)]+_0xd80083(0x522)+(_0x1a89e8 instanceof Error?_0x1a89e8['message']:JSON[_0xd80083(0x1b4)](_0x1a89e8,null,0x2))),new m(_0x1a89e8[_0xd80083(0x52d)]());}}async['saveMediaToFile'](_0x21ab39,_0x49a167){const _0x27cc48=a0_0x452e81;let _0x11531c=U[_0x27cc48(0x463)][_0x27cc48(0x6c3)](__dirname,_0x27cc48(0x1f7));L[_0x27cc48(0x1f1)](_0x11531c)||L['mkdirSync'](_0x11531c,{'recursive':!0x0});let _0x4cad64=U[_0x27cc48(0x463)]['join'](_0x11531c,_0x49a167);return new Promise((_0x156c13,_0x4e24e5)=>{const _0x59c6cf=_0x27cc48;L[_0x59c6cf(0x12d)](_0x4cad64,_0x21ab39,_0x15ced1=>{const _0x4aa8e9=_0x59c6cf;_0x15ced1?(this[_0x4aa8e9(0x549)][_0x4aa8e9(0xe6)](_0x4aa8e9(0x6a1)+(_0x15ced1 instanceof Error?_0x15ced1[_0x4aa8e9(0x46c)]:JSON[_0x4aa8e9(0x1b4)](_0x15ced1,null,0x2))),_0x4e24e5(_0x15ced1)):(this[_0x4aa8e9(0x549)][_0x4aa8e9(0x1b7)](_0x4aa8e9(0x566)+_0x4cad64),_0x156c13(_0x4cad64));});});}async[a0_0x452e81(0x2f4)](_0x3f5a3e){const _0x53f6e2=a0_0x452e81;return await this['repository'][_0x53f6e2(0xc8)][_0x53f6e2(0x1b8)](_0x3f5a3e,this[_0x53f6e2(0x1d2)][_0x53f6e2(0x582)]);}async['fetchLabels'](){const _0x339c7c=a0_0x452e81;return await this['repository']['label'][_0x339c7c(0x1b8)]({'where':{}},this['instance']['wuid']);}async[a0_0x452e81(0x1d6)](_0x5568cf){const _0x569a75=a0_0x452e81;return await this[_0x569a75(0x546)][_0x569a75(0x46c)]['find'](_0x5568cf,this[_0x569a75(0x1d2)][_0x569a75(0x582)]);}async['fetchChats'](){const _0x1e7bbe=a0_0x452e81;let _0x3cb445=[{'query':{'where':{'owner':this['instance'][_0x1e7bbe(0x582)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this['instance'][_0x1e7bbe(0x582)],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this[_0x1e7bbe(0x546)]['chat']['updateMany'](_0x3cb445),await this['repository']['chat'][_0x1e7bbe(0x1b8)]({'where':{}},this[_0x1e7bbe(0x1d2)][_0x1e7bbe(0x582)]);}async[a0_0x452e81(0x2a0)](){const _0x53a2e4=a0_0x452e81;let _0x50f2d7=await this[_0x53a2e4(0x546)][_0x53a2e4(0x182)][_0x53a2e4(0x1b8)]({'where':{}},this['instance']['wuid']);for(let _0x5aee6f of _0x50f2d7)for(let _0xd54e86=0x0;_0xd54e86<_0x5aee6f[_0x53a2e4(0x158)][_0x53a2e4(0x37e)]['length'];_0xd54e86++)if(!_0x5aee6f[_0x53a2e4(0x158)][_0x53a2e4(0x37e)][_0xd54e86][_0x53a2e4(0x68b)]){let _0x186e6d={'where':{'_id':_0x5aee6f['_id']}},_0x359174={[_0x53a2e4(0xdf)+_0xd54e86+_0x53a2e4(0x15f)]:_0x5aee6f[_0x53a2e4(0x294)]};await this[_0x53a2e4(0x546)][_0x53a2e4(0x182)][_0x53a2e4(0x4b3)](_0x186e6d,_0x359174,this[_0x53a2e4(0x1d2)]['wuid']);}}async[a0_0x452e81(0x3ce)](_0x1679ae){const _0x57a444=a0_0x452e81;try{if(!Array[_0x57a444(0x709)](_0x1679ae)||_0x1679ae[_0x57a444(0x5c6)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x57dac9=[],_0x1a3592=[];for(let _0x493770 of _0x1679ae){if(_0x493770[_0x57a444(0x294)])_0x493770[_0x57a444(0x294)]=this[_0x57a444(0x116)](_0x493770['_id']);else continue;await this[_0x57a444(0x546)][_0x57a444(0x182)][_0x57a444(0x6f9)]({'where':{'_id':_0x493770[_0x57a444(0x294)]}},this['instance']['wuid'])?_0x1a3592[_0x57a444(0x58a)]({'_id':_0x493770[_0x57a444(0x294)],'leadInfo':_0x493770[_0x57a444(0x158)],'owner':this[_0x57a444(0x1d2)][_0x57a444(0x582)]}):_0x57dac9['push']({'_id':_0x493770['_id'],'owner':this[_0x57a444(0x1d2)][_0x57a444(0x582)],'leadInfo':_0x493770[_0x57a444(0x158)]});}return _0x1a3592[_0x57a444(0x5c6)]>0x0&&await this[_0x57a444(0x546)][_0x57a444(0x182)][_0x57a444(0x1f8)](_0x1a3592[_0x57a444(0x353)](_0x63a4a6=>({'query':{'where':{'_id':_0x63a4a6['_id'],'owner':this[_0x57a444(0x1d2)][_0x57a444(0x582)]}},'update':_0x63a4a6}))),_0x57dac9[_0x57a444(0x5c6)]>0x0&&await this['repository']['chat'][_0x57a444(0x16c)](_0x57dac9,this[_0x57a444(0x1d2)][_0x57a444(0x582)]),{'updated':_0x1a3592[_0x57a444(0x5c6)],'inserted':_0x57dac9['length']};}catch(_0x1a7cee){throw console[_0x57a444(0xe6)](_0x57a444(0x347),_0x1a7cee),_0x1a7cee;}}async[a0_0x452e81(0x64f)](){const _0x338014=a0_0x452e81;return await this['client'][_0x338014(0x64f)]();}async[a0_0x452e81(0x23f)](_0x200156){const _0x3285c0=a0_0x452e81;try{return await this[_0x3285c0(0x472)][_0x3285c0(0x6ec)](_0x200156['privacySettings']['readreceipts']),await this[_0x3285c0(0x472)][_0x3285c0(0x477)](_0x200156[_0x3285c0(0x439)]['profile']),await this['client'][_0x3285c0(0x355)](_0x200156['privacySettings'][_0x3285c0(0x409)]),await this[_0x3285c0(0x472)][_0x3285c0(0x638)](_0x200156[_0x3285c0(0x439)][_0x3285c0(0x2be)]),await this[_0x3285c0(0x472)][_0x3285c0(0x62d)](_0x200156[_0x3285c0(0x439)][_0x3285c0(0x613)]),await this[_0x3285c0(0x472)][_0x3285c0(0x2de)](_0x200156[_0x3285c0(0x439)][_0x3285c0(0x6d3)]),this['client']?.['ws']?.[_0x3285c0(0xf7)](),{'update':_0x3285c0(0x200),'data':{'readreceipts':_0x200156[_0x3285c0(0x439)]['readreceipts'],'profile':_0x200156[_0x3285c0(0x439)][_0x3285c0(0x37d)],'status':_0x200156['privacySettings'][_0x3285c0(0x409)],'online':_0x200156['privacySettings'][_0x3285c0(0x2be)],'last':_0x200156[_0x3285c0(0x439)][_0x3285c0(0x613)],'groupadd':_0x200156['privacySettings'][_0x3285c0(0x6d3)]}};}catch(_0x1f90a3){throw new O(_0x3285c0(0x151),_0x1f90a3[_0x3285c0(0x52d)]());}}async[a0_0x452e81(0x1d1)](_0x52ea58){const _0x3acb00=a0_0x452e81;let _0x1d013e=_0x52ea58?this[_0x3acb00(0x116)](_0x52ea58):this['client']?.[_0x3acb00(0x41f)]?.['id'];this[_0x3acb00(0x549)]['verbose'](_0x3acb00(0x25c)+_0x1d013e);try{if(this['logger'][_0x3acb00(0x601)](_0x3acb00(0x498)),_0x52ea58){let _0x1d4eae=(await this[_0x3acb00(0x321)]({'numbers':[_0x1d013e]}))?.[_0x3acb00(0x4d6)](),_0x38581d=await this[_0x3acb00(0x3ad)](_0x1d4eae?.[_0x3acb00(0x376)]),_0x5856cd=await this[_0x3acb00(0x458)](_0x1d4eae?.[_0x3acb00(0x376)]),_0xd373d=await this[_0x3acb00(0x168)](_0x1d4eae?.[_0x3acb00(0x376)]);return{'wuid':_0x1d4eae?.[_0x3acb00(0x376)]||_0x1d013e,'name':_0x1d4eae?.[_0x3acb00(0x396)],'numberExists':_0x1d4eae?.[_0x3acb00(0x1a5)],'picture':_0x38581d?.['profilePictureUrl'],'status':_0x5856cd?.['status'],'isBusiness':_0xd373d[_0x3acb00(0x2b8)],'email':_0xd373d?.['email'],'description':_0xd373d?.['description'],'website':_0xd373d?.[_0x3acb00(0x312)]?.[_0x3acb00(0x4d6)]()};}}catch{return this[_0x3acb00(0x549)]['verbose']('Profile\x20not\x20found'),{'wuid':_0x1d013e,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x452e81(0x60e)](_0x44afda){const _0x4ebfb4=a0_0x452e81;let _0x1dc3d4=(_0x44afda?this[_0x4ebfb4(0x116)](_0x44afda):this[_0x4ebfb4(0x472)]?.[_0x4ebfb4(0x41f)]?.['id'])[_0x4ebfb4(0x24b)](/:\d{1,2}@/g,'@');this['logger'][_0x4ebfb4(0x601)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x1dc3d4);let _0x3e13ad=await this[_0x4ebfb4(0x546)][_0x4ebfb4(0xc8)][_0x4ebfb4(0x6f9)]({'where':{'_id':_0x1dc3d4}},this[_0x4ebfb4(0x1d2)][_0x4ebfb4(0x582)]),_0x1d08ae=_0x3e13ad?_0x3e13ad['pushName']:null;try{let _0x2eb16f=(await this[_0x4ebfb4(0x321)]({'numbers':[_0x1dc3d4]}))?.[_0x4ebfb4(0x4d6)](),_0xf11d46=await this[_0x4ebfb4(0x3ad)](_0x2eb16f?.['jid']),_0x121921=await this[_0x4ebfb4(0x458)](_0x2eb16f?.[_0x4ebfb4(0x376)]),_0x3384d3=await this[_0x4ebfb4(0x168)](_0x2eb16f?.[_0x4ebfb4(0x376)]),_0xa0a8cb={'imagechat':_0xf11d46?.[_0x4ebfb4(0x261)],'contactname':_0x1d08ae||null,'status':_0x121921?.[_0x4ebfb4(0x409)],'isBusiness':_0x3384d3[_0x4ebfb4(0x2b8)],'email':_0x3384d3?.[_0x4ebfb4(0x6e8)],'description':_0x3384d3?.[_0x4ebfb4(0x4c4)],'website':_0x3384d3?.[_0x4ebfb4(0x312)]?.[_0x4ebfb4(0x4d6)](),'lastcache':Date['now']()},_0x3d0817=await this[_0x4ebfb4(0x546)][_0x4ebfb4(0x182)][_0x4ebfb4(0x4b3)]({'where':{'_id':_0x1dc3d4}},_0xa0a8cb,this[_0x4ebfb4(0x1d2)][_0x4ebfb4(0x582)]),_0x41e4fc={'owner':this[_0x4ebfb4(0x1d2)][_0x4ebfb4(0x582)],'_id':_0x1dc3d4,'profilePictureUrl':_0xf11d46?.[_0x4ebfb4(0x261)],'status':_0x121921?.[_0x4ebfb4(0x409)]};return this[_0x4ebfb4(0x546)][_0x4ebfb4(0xc8)][_0x4ebfb4(0x121)]([_0x41e4fc],this[_0x4ebfb4(0x1d2)][_0x4ebfb4(0x582)]),_0x3d0817&&q(this[_0x4ebfb4(0x462)],_0x4ebfb4(0x571),{'chat':_0x3d0817}),{'wuid':_0x2eb16f?.[_0x4ebfb4(0x376)]||_0x1dc3d4,'name':_0x2eb16f?.['name'],'numberExists':_0x2eb16f?.[_0x4ebfb4(0x1a5)],'picture':_0xf11d46?.[_0x4ebfb4(0x261)],'status':_0x121921?.[_0x4ebfb4(0x409)],'isBusiness':_0x3384d3['isBusiness'],'email':_0x3384d3?.[_0x4ebfb4(0x6e8)],'description':_0x3384d3?.['description'],'website':_0x3384d3?.[_0x4ebfb4(0x312)]?.[_0x4ebfb4(0x4d6)]()};}catch(_0x344512){return this['logger']['error'](_0x4ebfb4(0xdb)+(_0x344512 instanceof Error?_0x344512[_0x4ebfb4(0x46c)]:JSON[_0x4ebfb4(0x1b4)](_0x344512,null,0x2))),{};}}async[a0_0x452e81(0x168)](_0x55c12c){const _0x5af197=a0_0x452e81;this[_0x5af197(0x549)][_0x5af197(0x601)]('Fetching\x20business\x20profile');try{let _0x5e0613=_0x55c12c?this['createJid'](_0x55c12c):this[_0x5af197(0x1d2)][_0x5af197(0x582)],_0x4dd094=await this[_0x5af197(0x472)][_0x5af197(0x36a)](_0x5e0613);return this[_0x5af197(0x549)][_0x5af197(0x601)](_0x5af197(0x473)),_0x4dd094?(this[_0x5af197(0x549)][_0x5af197(0x601)](_0x5af197(0x6cd)),{'isBusiness':!0x0,..._0x4dd094}):{'isBusiness':!0x1,'message':_0x5af197(0x1a6),...(await this[_0x5af197(0x321)]({'numbers':[_0x5e0613]}))?.['shift']()};}catch(_0x5d65b6){throw new O(_0x5af197(0x135),_0x5d65b6[_0x5af197(0x52d)]());}}async['getStatus'](_0x5006b4){const _0x207f30=a0_0x452e81;let _0x32ca3b=this[_0x207f30(0x116)](_0x5006b4);try{return{'wuid':_0x32ca3b,'status':(await this[_0x207f30(0x472)][_0x207f30(0x377)](_0x32ca3b))?.[_0x207f30(0x409)]};}catch{return{'wuid':_0x32ca3b,'status':null};}}async['updateProfileName'](_0x4f7855){const _0x5d9e2c=a0_0x452e81;try{return await this[_0x5d9e2c(0x472)][_0x5d9e2c(0x45f)](_0x4f7855),{'update':_0x5d9e2c(0x200)};}catch(_0x15d3fc){throw new O(_0x5d9e2c(0x135),_0x15d3fc['toString']());}}async[a0_0x452e81(0x30d)](_0x101840){const _0x2eb7df=a0_0x452e81;try{return await this[_0x2eb7df(0x472)][_0x2eb7df(0x30d)](_0x101840),{'update':_0x2eb7df(0x200)};}catch(_0xaa7245){throw new O('Error\x20updating\x20profile\x20status',_0xaa7245[_0x2eb7df(0x52d)]());}}async[a0_0x452e81(0x194)](_0x11c010){const _0x246502=a0_0x452e81;try{let _0x1ed5a1;if((0x0,k[_0x246502(0x4cc)])(_0x11c010)){let _0x1655ef=new Date()[_0x246502(0x2e9)](),_0x58d486=_0x11c010+_0x246502(0x34f)+_0x1655ef;_0x1ed5a1=(await se[_0x246502(0x463)]['get'](_0x58d486,{'responseType':_0x246502(0x65a)}))[_0x246502(0x28e)];}else{if((0x0,k[_0x246502(0x16b)])(_0x11c010))_0x1ed5a1=Buffer[_0x246502(0x25e)](_0x11c010,_0x246502(0x584));else throw new m(_0x246502(0x25f));}return await this[_0x246502(0x472)][_0x246502(0x194)](this[_0x246502(0x1d2)]['wuid'],_0x1ed5a1),{'update':_0x246502(0x200)};}catch(_0x1644c6){throw new O('Error\x20updating\x20profile\x20picture',_0x1644c6[_0x246502(0x52d)]());}}async['removeProfilePicture'](){const _0x1e1231=a0_0x452e81;try{return await this['client'][_0x1e1231(0x6a7)](this['instance'][_0x1e1231(0x582)]),{'update':'success'};}catch(_0x3a8c2c){throw new O(_0x1e1231(0x42d),_0x3a8c2c['toString']());}}async[a0_0x452e81(0x408)](_0x1326f8){const _0x31db86=a0_0x452e81;try{let _0x5b9fd4=_0x1326f8[_0x31db86(0x514)][_0x31db86(0x353)](_0x33c887=>this[_0x31db86(0x116)](_0x33c887)),{id:_0x53b8ce}=await this[_0x31db86(0x472)][_0x31db86(0x101)](_0x1326f8[_0x31db86(0xce)],_0x5b9fd4);return _0x1326f8?.[_0x31db86(0x4c4)]&&await this[_0x31db86(0x472)][_0x31db86(0x36b)](_0x53b8ce,_0x1326f8['description']),{'metadata':await this['client']['groupMetadata'](_0x53b8ce)};}catch(_0x3c2376){throw this[_0x31db86(0x549)][_0x31db86(0xe6)](this[_0x31db86(0x462)]+'\x20('+this['instance']['wuid']+'):\x20'+(_0x3c2376 instanceof Error?_0x3c2376[_0x31db86(0x46c)]:JSON[_0x31db86(0x1b4)](_0x3c2376,null,0x2))),new O(_0x31db86(0x23d),_0x3c2376[_0x31db86(0x52d)]());}}async[a0_0x452e81(0x545)](_0x4a5bf0){const _0x4e5ed1=a0_0x452e81;try{let _0x344de9;if((0x0,k[_0x4e5ed1(0x4cc)])(_0x4a5bf0['image'])){let _0x2ec82d=new Date()['getTime'](),_0x31385d=_0x4a5bf0[_0x4e5ed1(0x37c)]+_0x4e5ed1(0x34f)+_0x2ec82d;_0x344de9=(await se[_0x4e5ed1(0x463)]['get'](_0x31385d,{'responseType':_0x4e5ed1(0x65a)}))[_0x4e5ed1(0x28e)];}else{if((0x0,k[_0x4e5ed1(0x16b)])(_0x4a5bf0[_0x4e5ed1(0x37c)]))_0x344de9=Buffer['from'](_0x4a5bf0[_0x4e5ed1(0x37c)],'base64');else throw new m(_0x4e5ed1(0x25f));}return await this[_0x4e5ed1(0x472)][_0x4e5ed1(0x194)](_0x4a5bf0[_0x4e5ed1(0x3a6)],_0x344de9),{'update':'success'};}catch(_0x1c9820){throw new O(_0x4e5ed1(0x4c9),_0x1c9820[_0x4e5ed1(0x52d)]());}}async['findGroup'](_0x24d7c4,_0x4c30a9=a0_0x452e81(0x118)){const _0x5eacd5=a0_0x452e81;try{let _0x199d31=await this[_0x5eacd5(0x472)]['groupMetadata'](_0x24d7c4['groupJid']),_0x17d1b8=null;try{_0x17d1b8=(await this[_0x5eacd5(0x3ad)](_0x24d7c4[_0x5eacd5(0x3a6)]))[_0x5eacd5(0x261)];}catch(_0x486fd9){this[_0x5eacd5(0x549)][_0x5eacd5(0x601)](this['instanceName']+'\x20('+this[_0x5eacd5(0x1d2)][_0x5eacd5(0x582)]+_0x5eacd5(0x315)+_0x24d7c4[_0x5eacd5(0x3a6)]+':\x20'+(_0x486fd9 instanceof Error?_0x486fd9['message']:JSON[_0x5eacd5(0x1b4)](_0x486fd9,null,0x2)));}let _0xf97ccb=await this[_0x5eacd5(0x546)]['chat'][_0x5eacd5(0x4b3)]({'where':{'_id':_0x24d7c4[_0x5eacd5(0x3a6)]}},{'imagechat':_0x17d1b8,'name':_0x199d31[_0x5eacd5(0xce)],'group_size':_0x199d31[_0x5eacd5(0x65c)],'group_announce':_0x199d31['announce'],'lastcache':Date['now']()},this[_0x5eacd5(0x1d2)][_0x5eacd5(0x582)]);return _0xf97ccb&&q(this[_0x5eacd5(0x462)],_0x5eacd5(0x571),{'chat':_0xf97ccb}),{'metadata':_0x199d31,'image':_0x17d1b8};}catch(_0x192b2c){if(_0x4c30a9==='inner')return;throw new F(_0x5eacd5(0x62b),_0x192b2c[_0x5eacd5(0x52d)]());}}async[a0_0x452e81(0x350)](_0x43dcc0){const _0xbc9025=a0_0x452e81;try{return await this['client'][_0xbc9025(0x36b)](_0x43dcc0[_0xbc9025(0x3a6)],_0x43dcc0[_0xbc9025(0x4c4)]),{'update':_0xbc9025(0x200)};}catch(_0x8a539e){throw new O(_0xbc9025(0x6b2),_0x8a539e[_0xbc9025(0x52d)]());}}async['groupName'](_0x9711cf){const _0x1e155b=a0_0x452e81;try{return await this[_0x1e155b(0x472)][_0x1e155b(0x58c)](_0x9711cf[_0x1e155b(0x3a6)],_0x9711cf['name']),{'update':_0x1e155b(0x200)};}catch(_0x57daae){throw new O(_0x1e155b(0x3bd),_0x57daae['toString']());}}async[a0_0x452e81(0x113)](_0xacd2aa){const _0x176a9a=a0_0x452e81;try{return await this[_0x176a9a(0x472)]['groupSettingUpdate'](_0xacd2aa['groupJid'],_0xacd2aa[_0x176a9a(0x701)]),{'update':_0x176a9a(0x200)};}catch(_0x57d2f4){throw new O(_0x176a9a(0xf9),_0x57d2f4['toString']());}}async[a0_0x452e81(0x126)](){const _0x167926=a0_0x452e81;try{let _0xc306d9=[],_0x5da9e9=await this[_0x167926(0x472)]['groupFetchAllParticipating'](),_0x2ab766=Object[_0x167926(0x3e3)](_0x5da9e9),_0x17e41=_0x2ab766[_0x167926(0x611)](_0x226bb5=>(0x0,y[_0x167926(0x3f8)])(_0x226bb5?.['id']))[_0x167926(0x353)](async _0x188ebe=>{const _0x23cc2a=_0x167926;try{return await this[_0x23cc2a(0x472)][_0x23cc2a(0x261)](_0x188ebe['id'],_0x23cc2a(0x52e));}catch(_0x23b5b1){return this[_0x23cc2a(0x549)][_0x23cc2a(0x601)](this[_0x23cc2a(0x462)]+'\x20('+this['instance']['wuid']+_0x23cc2a(0x315)+_0x188ebe['id']+':\x20'+(_0x23b5b1 instanceof Error?_0x23b5b1[_0x23cc2a(0x46c)]:JSON[_0x23cc2a(0x1b4)](_0x23b5b1,null,0x2))),null;}}),_0x59ab93=await Promise[_0x167926(0x38a)](_0x17e41);for(let _0x60438f=0x0;_0x60438f<_0x2ab766[_0x167926(0x5c6)];_0x60438f++){let _0x59536b=_0x2ab766[_0x60438f];(0x0,y['isJidGroup'])(_0x59536b?.['id'])&&_0xc306d9[_0x167926(0x58a)]({'groupJid':_0x59536b?.['id'],'subject':_0x59536b?.[_0x167926(0xce)],'subjectOwner':_0x59536b?.[_0x167926(0x6c8)]?.[_0x167926(0x688)]('@')[0x0],'subjectTime':_0x59536b?.['subjectTime'],'size':_0x59536b?.['participants']?.[_0x167926(0x5c6)],'owner':_0x59536b?.[_0x167926(0x334)]?.[_0x167926(0x688)]('@')[0x0],'creation':_0x59536b?.[_0x167926(0x17b)],'desc':_0x59536b?.[_0x167926(0x41b)],'restrict':_0x59536b?.[_0x167926(0x4c3)],'announce':_0x59536b?.[_0x167926(0x4e5)],'image':_0x59ab93[_0x60438f]});}return _0xc306d9;}catch(_0x2f0f42){throw new F('Error\x20fetching\x20group',_0x2f0f42['toString']());}}async[a0_0x452e81(0x695)](_0x193fc6){const _0x444ac6=a0_0x452e81;try{let _0x384207=await this[_0x444ac6(0x472)][_0x444ac6(0x453)](_0x193fc6['groupJid']);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x384207,'inviteCode':_0x384207};}catch(_0x3ba918){throw new F(_0x444ac6(0x464),_0x3ba918[_0x444ac6(0x52d)]());}}async[a0_0x452e81(0x575)](_0x32d770){const _0x5705a7=a0_0x452e81;try{let _0x525959=await this[_0x5705a7(0x472)]['groupRevokeInvite'](_0x32d770[_0x5705a7(0x3a6)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x525959,'inviteCode':_0x525959};}catch(_0x39fa5b){throw new F(_0x5705a7(0x218),_0x39fa5b[_0x5705a7(0x52d)]());}}async[a0_0x452e81(0x5f9)](_0x35107b){const _0x292f26=a0_0x452e81;try{if((0x0,k['isURL'])(_0x35107b[_0x292f26(0x695)]))var _0x5a1bcc=_0x35107b['inviteCode'][_0x292f26(0x688)]('/')[0x3];else var _0x5a1bcc=_0x35107b[_0x292f26(0x695)];let _0x436082=await this[_0x292f26(0x472)]['groupAcceptInvite'](_0x5a1bcc);return this[_0x292f26(0x549)]['verbose'](this[_0x292f26(0x462)]+'\x20('+this['instance'][_0x292f26(0x582)]+_0x292f26(0x522)+_0x436082),{'join':!0x0,'inviteCode':_0x5a1bcc,'groupJid':_0x436082};}catch(_0x27ca6c){throw new F(_0x292f26(0x3c7),_0x27ca6c[_0x292f26(0x52d)]());}}async[a0_0x452e81(0x6a4)](_0x451fa9){const _0xffb73c=a0_0x452e81;try{return{'participants':(await this['client'][_0xffb73c(0x266)](_0x451fa9[_0xffb73c(0x3a6)]))[_0xffb73c(0x514)]};}catch(_0x2477ce){throw new F('No\x20participants',_0x2477ce[_0xffb73c(0x52d)]());}}async[a0_0x452e81(0x6b8)](_0x4df867){const _0x1262fc=a0_0x452e81;try{let _0x17c84d=_0x4df867['participants']['map'](_0x70e996=>this[_0x1262fc(0x116)](_0x70e996));return{'updateParticipants':await this[_0x1262fc(0x472)][_0x1262fc(0x240)](_0x4df867['groupJid'],_0x17c84d,_0x4df867['action'])};}catch(_0x294b1d){throw new m(_0x1262fc(0x689),_0x294b1d['toString']());}}async['toggleEphemeral'](_0xe07666){const _0xb4c922=a0_0x452e81;try{let _0x23dc31=await this[_0xb4c922(0x472)]['groupToggleEphemeral'](_0xe07666[_0xb4c922(0x3a6)],_0xe07666[_0xb4c922(0x55d)]);return{'success':!0x0};}catch(_0x1986bd){throw new m(_0xb4c922(0x2d1),_0x1986bd[_0xb4c922(0x52d)]());}}async[a0_0x452e81(0x133)](_0x39ec0f){const _0x1f57fe=a0_0x452e81;try{return await this[_0x1f57fe(0x472)][_0x1f57fe(0x5da)](_0x39ec0f[_0x1f57fe(0x3a6)]),{'groupJid':_0x39ec0f[_0x1f57fe(0x3a6)],'leave':!0x0};}catch(_0x563e03){throw new m(_0x1f57fe(0x506),_0x563e03[_0x1f57fe(0x52d)]());}}async[a0_0x452e81(0x43d)](_0x66295c){const _0x570744=a0_0x452e81;return await this[_0x570744(0x6e3)](_0x66295c['number'],{'poll':{'name':_0x66295c['pollMessage']?.[_0x570744(0x396)],'selectableCount':_0x66295c[_0x570744(0x43d)][_0x570744(0x179)],'values':_0x66295c[_0x570744(0x43d)][_0x570744(0x3e3)]}},_0x66295c?.['options']);}async[a0_0x452e81(0x51f)](_0x30033b){const _0x187123=a0_0x452e81;return await this[_0x187123(0x6e3)](_0x30033b[_0x187123(0x66d)],{'listMessage':{'title':_0x30033b[_0x187123(0x51f)][_0x187123(0x363)],'description':_0x30033b[_0x187123(0x51f)]['description'],'buttonText':_0x30033b[_0x187123(0x51f)]?.['buttonText'],'footerText':_0x30033b['listMessage']?.[_0x187123(0x270)],'sections':_0x30033b[_0x187123(0x51f)][_0x187123(0x6cf)],'listType':0x2}},_0x30033b?.[_0x187123(0x1c8)]);}async[a0_0x452e81(0x29f)](_0x24b5c3){const _0x2c7ae9=a0_0x452e81;let _0x2c06b1;if(_0x24b5c3[_0x2c7ae9(0x29f)][_0x2c7ae9(0x64e)]===_0x2c7ae9(0x622)){let _0x1f8684=_0x24b5c3['menuMessage']['text'][_0x2c7ae9(0x1c3)]('\x0a'),_0x1585c9='',_0x958462='';_0x1f8684!==-0x1?(_0x1585c9=_0x24b5c3[_0x2c7ae9(0x29f)]['text'][_0x2c7ae9(0x368)](0x0,_0x1f8684)[_0x2c7ae9(0x3f5)](),_0x958462=_0x24b5c3[_0x2c7ae9(0x29f)][_0x2c7ae9(0x6d8)]['substring'](_0x1f8684+0x1)):_0x958462=_0x24b5c3[_0x2c7ae9(0x29f)][_0x2c7ae9(0x6d8)];let _0x247a25=this[_0x2c7ae9(0x675)](_0x24b5c3[_0x2c7ae9(0x29f)][_0x2c7ae9(0x46b)]);_0x2c06b1={'listMessage':{'title':_0x1585c9,'description':_0x958462,'buttonText':_0x24b5c3[_0x2c7ae9(0x29f)][_0x2c7ae9(0x535)]||_0x2c7ae9(0x21a),'footerText':_0x24b5c3[_0x2c7ae9(0x29f)][_0x2c7ae9(0x270)],'sections':_0x247a25,'listType':0x2}};}else{if(_0x24b5c3[_0x2c7ae9(0x29f)][_0x2c7ae9(0x64e)]===_0x2c7ae9(0x68f)){let _0xc88abd=_0x24b5c3[_0x2c7ae9(0x29f)]['choices'][_0x2c7ae9(0x611)](_0x52719c=>!(_0x52719c['startsWith']('[')&&_0x52719c[_0x2c7ae9(0x374)](']')))[_0x2c7ae9(0x353)](_0x469260=>_0x469260['split']('\x0a')[0x0]);_0x2c06b1={'poll':{'name':_0x24b5c3[_0x2c7ae9(0x29f)]['text'],'selectableCount':_0x24b5c3[_0x2c7ae9(0x29f)][_0x2c7ae9(0x179)]||0x1,'values':_0xc88abd}};}}return await this[_0x2c7ae9(0x6e3)](_0x24b5c3[_0x2c7ae9(0x66d)],_0x2c06b1,_0x24b5c3?.['options']);}['createSectionsFromValues'](_0xaafdcc){const _0x4ce45b=a0_0x452e81;let _0x5a139c=[],_0x204bc8={'rows':[]};return _0xaafdcc[_0x4ce45b(0x446)](_0x3cf72d=>{const _0x5c4dda=_0x4ce45b;if(_0x3cf72d[_0x5c4dda(0x5f4)]('[')&&_0x3cf72d[_0x5c4dda(0x374)](']'))_0x204bc8['rows'][_0x5c4dda(0x5c6)]>0x0&&_0x5a139c[_0x5c4dda(0x58a)](_0x204bc8),_0x204bc8={'title':_0x3cf72d[_0x5c4dda(0x67f)](0x1,-0x1),'rows':[]};else{let _0x506ff5=_0x3cf72d['split']('\x0a')['map'](_0x834566=>_0x834566['trim']()),_0x250529=_0x506ff5[0x0],_0x4a4b8f=_0x506ff5[0x1]||null,_0x5d4623=_0x506ff5[0x2]||_0x250529;_0x204bc8[_0x5c4dda(0x529)][_0x5c4dda(0x58a)]({'title':_0x250529,'description':_0x4a4b8f,'rowId':_0x5d4623});}}),_0x204bc8[_0x4ce45b(0x529)]['length']>0x0&&_0x5a139c[_0x4ce45b(0x58a)](_0x204bc8),_0x5a139c;}async['updateMessage'](_0x34ce2e,_0x241b91){const _0x4d3b6d=a0_0x452e81;if(await this['getMessage'](_0x34ce2e,!0x0)){let _0x16ef39={'where':{'_id':_0x34ce2e['id']}},_0x13dfaa={'status':[_0x241b91['status']][0x0]};try{let _0x548f6f=await this[_0x4d3b6d(0x546)][_0x4d3b6d(0x46c)][_0x4d3b6d(0x121)](_0x16ef39,_0x13dfaa,this[_0x4d3b6d(0x1d2)][_0x4d3b6d(0x582)]);_0x548f6f&&q(this[_0x4d3b6d(0x462)],_0x4d3b6d(0x69b),{'message':_0x548f6f});}catch{}}}['sectionsToString'](_0x3ee71c){const _0x57a795=a0_0x452e81;let _0x419f68=[];return _0x3ee71c['forEach'](_0x3f0dd6=>{const _0x2437d7=a0_0x3d1d;_0x3f0dd6[_0x2437d7(0x363)]&&_0x419f68['push']('['+_0x3f0dd6[_0x2437d7(0x363)]+']'),_0x3f0dd6[_0x2437d7(0x529)][_0x2437d7(0x446)](_0xaca0c=>{const _0x5e5958=_0x2437d7;let _0x4ab281=_0xaca0c[_0x5e5958(0x363)];_0xaca0c[_0x5e5958(0x4c4)]&&(_0x4ab281+='\x0a'+_0xaca0c['description']),_0x4ab281+='\x0a'+_0xaca0c[_0x5e5958(0x482)],_0x419f68[_0x5e5958(0x58a)](_0x4ab281);});}),_0x419f68[_0x57a795(0x6c3)]('|');}[a0_0x452e81(0x550)](_0x5719b0){const _0x39e709=a0_0x452e81;let _0x5c27f8=_0x5719b0['replace'](/\\n/g,'\x0a')['split']('\x0a')['filter'](_0x221e5d=>_0x221e5d[_0x39e709(0x4f7)](_0x39e709(0x3e5))||_0x221e5d[_0x39e709(0x4f7)](_0x39e709(0x3a8))),_0x6bb646='';return _0x5c27f8[_0x39e709(0x446)](_0x254e88=>{const _0x1d95ab=_0x39e709;let _0x4b2afd=/TEL(?:.*):(.+)/,_0x4237b0=/EMAIL(?:.*):(.+)/,_0x388b19=_0x254e88['match'](_0x4b2afd),_0x198818=_0x254e88[_0x1d95ab(0x3cc)](_0x4237b0);if(_0x388b19){let _0x5aaf2d=_0x388b19[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x1d95ab(0x3f5)]();_0x6bb646+=_0x1d95ab(0x60a)+_0x5aaf2d+'\x0a';}else{if(_0x198818){let _0x171eff=_0x198818[0x1]['trim']();_0x6bb646+=_0x1d95ab(0x6e0)+_0x171eff+'\x0a';}}}),_0x6bb646['trim']();}async[a0_0x452e81(0x18c)](_0x22bb6a,_0x3d9320,_0x3c383e){const _0x32bb10=a0_0x452e81;if(!_0x22bb6a[_0x32bb10(0x356)])return;let _0x40909d=_0x3d9320[_0x32bb10(0x2c0)]['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x2d507f=_0x3d9320[_0x32bb10(0x2c0)][_0x32bb10(0x4c8)],_0x4ed8a0=_0x40909d[_0x32bb10(0x374)](_0x32bb10(0x4ac)),_0xd7ed0c=_0x3d9320[_0x32bb10(0x702)]?.[_0x32bb10(0x6d8)]||_0x3d9320[_0x32bb10(0x702)]?.[_0x32bb10(0x65f)]||_0x3d9320[_0x32bb10(0x702)]?.[_0x32bb10(0x3c5)]||_0x3d9320['message_normalized']?.[_0x32bb10(0x396)],_0x51c22e={'lastmsg':_0x3d9320[_0x32bb10(0x217)]||Date[_0x32bb10(0x2f8)](),'imported':!0x1,'unreadcount':_0x2d507f?0x0:0x1,..._0x2d507f||_0x4ed8a0?{}:{'name':_0x3d9320[_0x32bb10(0x646)]},..._0x4ed8a0?{'group':_0x4ed8a0}:{}};if(_0x3c383e==='MESSAGES_UPSERT'&&_0x2d507f&&this[_0x32bb10(0x26b)]?.['flowConfig'][_0x32bb10(0x37a)]&&!_0xd7ed0c[_0x32bb10(0x5f4)](this['AutomateSystem']?.[_0x32bb10(0x65d)]['prefixCommand'])){let _0xbd6aeb=(this[_0x32bb10(0x26b)]?.[_0x32bb10(0x65d)][_0x32bb10(0xe2)]||0x5)*0xea60,_0x4fa1dc=Date[_0x32bb10(0x2f8)]()+_0xbd6aeb;_0x51c22e['leadInfo.desativadoFluxoAte']=_0x4fa1dc,this['logger'][_0x32bb10(0x601)](this['instanceName']+'\x20('+this[_0x32bb10(0x1d2)]['wuid']+_0x32bb10(0x604)+_0x4fa1dc+'.');}let _0x18715b=await this['repository'][_0x32bb10(0x182)][_0x32bb10(0x4b3)]({'where':{'_id':_0x40909d}},_0x51c22e,this['instance']['wuid'],{'new':!0x0,'upsert':!0x0});if(!_0x4ed8a0&&(!_0x18715b?.[_0x32bb10(0x158)]||!_0x18715b[_0x32bb10(0x158)][_0x32bb10(0x554)])&&_0x3d9320['pushName']&&!_0x2d507f&&await this[_0x32bb10(0x546)]['chat']['updateOne']({'where':{'_id':_0x40909d}},{'leadInfo':{'nome':_0x3d9320['pushName']}},this['instance'][_0x32bb10(0x582)],{'new':!0x0,'upsert':!0x1}),_0x18715b)q(this['instanceName'],_0x32bb10(0x571),{'chat':_0x18715b});else{this[_0x32bb10(0x549)][_0x32bb10(0xe6)](this[_0x32bb10(0x462)]+'\x20('+this[_0x32bb10(0x1d2)][_0x32bb10(0x582)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this[_0x32bb10(0x26b)]?.[_0x32bb10(0x65d)]['enabled'])return this[_0x32bb10(0x549)][_0x32bb10(0x601)](this[_0x32bb10(0x462)]+'\x20('+this[_0x32bb10(0x1d2)][_0x32bb10(0x582)]+_0x32bb10(0xd0)),null;if(_0x18715b[_0x32bb10(0x294)][_0x32bb10(0x4f7)](_0x32bb10(0x4ac))&&this['AutomateSystem']?.['flowConfig'][_0x32bb10(0x367)]===!0x0)return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x32bb10(0x1d2)][_0x32bb10(0x582)]+_0x32bb10(0x564)),null;if(_0x18715b[_0x32bb10(0x158)]){if(_0x18715b[_0x32bb10(0x158)][_0x32bb10(0x5e5)]===0x0||_0x18715b['leadInfo'][_0x32bb10(0x2f1)])return this[_0x32bb10(0x549)]['verbose'](this[_0x32bb10(0x462)]+'\x20('+this[_0x32bb10(0x1d2)][_0x32bb10(0x582)]+_0x32bb10(0x65e)+_0x40909d+_0x32bb10(0x411)),null;if(_0x18715b[_0x32bb10(0x158)][_0x32bb10(0x5e5)]>Date[_0x32bb10(0x2f8)]()&&!_0x3d9320[_0x32bb10(0x702)]?.[_0x32bb10(0x3c5)])return this[_0x32bb10(0x549)][_0x32bb10(0x601)](this[_0x32bb10(0x462)]+'\x20('+this[_0x32bb10(0x1d2)][_0x32bb10(0x582)]+_0x32bb10(0x55a)+new Date(_0x18715b[_0x32bb10(0x158)][_0x32bb10(0x5e5)])[_0x32bb10(0x30a)]()+_0x32bb10(0x411)),null;}this[_0x32bb10(0x549)]['verbose'](this['instanceName']+'\x20('+this[_0x32bb10(0x1d2)]['wuid']+_0x32bb10(0x691)),this['StartBot'](_0x3c383e,_0x3d9320);}async[a0_0x452e81(0x22e)](_0x563b9f,_0x35016d){const _0x327975=a0_0x452e81;if(_0x35016d[_0x327975(0x356)]){let _0x16d87d=_0x563b9f[_0x327975(0x353)](async _0x196927=>{const _0x32eb2c=_0x327975;try{let _0x5bb832={'_id':_0x196927[_0x32eb2c(0x294)],'owner':_0x196927[_0x32eb2c(0x334)],'lastcache':0x0};if(_0x196927[_0x32eb2c(0x311)]!==null&&(_0x5bb832['group']=_0x196927[_0x32eb2c(0x311)]),_0x196927[_0x32eb2c(0x396)]!==null&&(_0x5bb832[_0x32eb2c(0x396)]=_0x196927[_0x32eb2c(0x396)]),_0x196927[_0x32eb2c(0x5dc)]!==null&&(_0x5bb832[_0x32eb2c(0x5dc)]=_0x196927[_0x32eb2c(0x5dc)]),_0x196927[_0x32eb2c(0x3aa)]!==null&&(_0x5bb832['imagechat']=_0x196927[_0x32eb2c(0x3aa)]),_0x196927[_0x32eb2c(0x3aa)]===null&&(_0x5bb832[_0x32eb2c(0x3aa)]=_0x32eb2c(0x1ce)),_0x196927['lastmsg']!==null&&(_0x5bb832[_0x32eb2c(0x6ce)]=_0x196927['lastmsg']),_0x196927['archived']!==null&&(_0x5bb832[_0x32eb2c(0x559)]=_0x196927[_0x32eb2c(0x559)]),_0x196927[_0x32eb2c(0x3fb)]!==null&&(_0x5bb832[_0x32eb2c(0x3fb)]=_0x196927[_0x32eb2c(0x3fb)]),Object['keys'](_0x5bb832)[_0x32eb2c(0x5c6)]>0x0)return await this[_0x32eb2c(0x546)][_0x32eb2c(0x182)][_0x32eb2c(0x4b3)]({'where':{'_id':_0x196927[_0x32eb2c(0x294)]}},_0x5bb832,this[_0x32eb2c(0x1d2)][_0x32eb2c(0x582)]);}catch(_0x4c52dc){return console[_0x32eb2c(0xe6)](_0x32eb2c(0x6e6)+_0x196927[_0x32eb2c(0x294)]+':',_0x4c52dc),null;}}),_0x25f37c=(await Promise[_0x327975(0x38a)](_0x16d87d))['filter'](_0x57ba7f=>_0x57ba7f!==null)[_0x327975(0x5c6)];this[_0x327975(0x549)][_0x327975(0x601)](this[_0x327975(0x462)]+'\x20('+this['instance'][_0x327975(0x582)]+_0x327975(0x522)+_0x25f37c+_0x327975(0x3dd)+this[_0x327975(0x1d2)]['wuid']+_0x327975(0x48d));}}async['readMessageBot'](_0x556dff){const _0x529c37=a0_0x452e81;this[_0x529c37(0x549)]['verbose'](this['instanceName']+'\x20('+this[_0x529c37(0x1d2)]['wuid']+_0x529c37(0x3d3));let _0x5f4d7b={'readMessages':[{'remoteJid':_0x556dff[_0x529c37(0x257)]['lastReceivedMessage'][_0x529c37(0x2c0)]['remoteJid'],'fromMe':_0x556dff['chatLog'][_0x529c37(0xd7)][_0x529c37(0x2c0)][_0x529c37(0x4c8)],'id':_0x556dff['chatLog']['lastReceivedMessage'][_0x529c37(0x2c0)]['id']}]};await this[_0x529c37(0x272)](_0x5f4d7b);}async[a0_0x452e81(0x336)](_0x507201,_0x279a29){const _0x21bd8a=a0_0x452e81;try{let {key:_0x1d71fe,message_normalized:_0xe92c7}=_0x279a29,_0x296c23=_0xe92c7,_0x4c2550=_0xe92c7['text']||_0xe92c7[_0x21bd8a(0x65f)]||_0xe92c7['vote']||_0xe92c7[_0x21bd8a(0x396)],_0x2a7471=_0x1d71fe[_0x21bd8a(0x5e3)],_0x4d1b01;if(_0x296c23['key'][_0x21bd8a(0x4c8)]&&_0x4c2550['trim']()!==this['AutomateSystem']?.['flowConfig'][_0x21bd8a(0x41a)]['trim']())return this[_0x21bd8a(0x549)][_0x21bd8a(0x601)](this[_0x21bd8a(0x462)]+'\x20('+this['instance'][_0x21bd8a(0x582)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x296c23[_0x21bd8a(0x2c0)][_0x21bd8a(0x4c8)]&&_0x4c2550[_0x21bd8a(0x3f5)]()===this['AutomateSystem']?.[_0x21bd8a(0x65d)][_0x21bd8a(0x41a)][_0x21bd8a(0x3f5)]()){this[_0x21bd8a(0x549)][_0x21bd8a(0x601)](this[_0x21bd8a(0x462)]+'\x20('+this[_0x21bd8a(0x1d2)][_0x21bd8a(0x582)]+_0x21bd8a(0x19c));let _0x35b09b=await this[_0x21bd8a(0x546)][_0x21bd8a(0x3e9)][_0x21bd8a(0x1b8)]({'remoteJid':_0x2a7471,'status':_0x21bd8a(0x2c7)},this[_0x21bd8a(0x1d2)][_0x21bd8a(0x582)]);this['logger']['verbose'](this[_0x21bd8a(0x462)]+'\x20('+this[_0x21bd8a(0x1d2)][_0x21bd8a(0x582)]+_0x21bd8a(0x405)+_0x35b09b);let _0xe84c79=Date[_0x21bd8a(0x2f8)](),_0x3277ea;return this[_0x21bd8a(0x26b)]?.[_0x21bd8a(0x65d)][_0x21bd8a(0x3c8)]===0x0?_0x3277ea={'stoppedUntil':_0xe84c79+0x7591f6200}:_0x3277ea={'stoppedUntil':_0xe84c79+this['AutomateSystem']?.['flowConfig'][_0x21bd8a(0x3c8)]*0x3c*0x3e8},this[_0x21bd8a(0x549)][_0x21bd8a(0x601)](this['instanceName']+'\x20('+this[_0x21bd8a(0x1d2)][_0x21bd8a(0x582)]+_0x21bd8a(0x48c)+_0x3277ea),this[_0x21bd8a(0x3ef)](_0x4d1b01,_0x3277ea[_0x21bd8a(0x6e7)]),null;}if(_0x4c2550&&_0x4c2550[_0x21bd8a(0x5f4)](this['AutomateSystem']?.[_0x21bd8a(0x65d)][_0x21bd8a(0x5ff)])&&_0x4c2550['length']>0x4){let _0x115af9=await this['repository'][_0x21bd8a(0x5d2)]['findOne']({'where':{'startCommandWord':_0x4c2550}},this[_0x21bd8a(0x1d2)][_0x21bd8a(0x582)]);if(this['logger']['verbose'](this[_0x21bd8a(0x462)]+'\x20('+this[_0x21bd8a(0x1d2)][_0x21bd8a(0x582)]+_0x21bd8a(0x471)),_0x115af9)_0x4d1b01=await this[_0x21bd8a(0x152)](_0x115af9,_0x296c23[_0x21bd8a(0x2c0)],_0x296c23);else return this['logger'][_0x21bd8a(0x601)](this[_0x21bd8a(0x462)]+'\x20('+this[_0x21bd8a(0x1d2)][_0x21bd8a(0x582)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x4d1b01=await this[_0x21bd8a(0x57f)](_0x2a7471,_0x296c23);if(_0x4d1b01){this[_0x21bd8a(0x549)][_0x21bd8a(0x601)](this[_0x21bd8a(0x462)]+'\x20('+this[_0x21bd8a(0x1d2)]['wuid']+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x1d71fe[_0x21bd8a(0x4c8)]&&_0x4d1b01[_0x21bd8a(0xcd)]&&this[_0x21bd8a(0x1ab)](_0x4d1b01);let _0x4bffc1=await this[_0x21bd8a(0x560)](_0x4d1b01);_0x4bffc1&&await this[_0x21bd8a(0x370)](_0x4d1b01,_0x4bffc1);}}catch(_0x4056ee){this[_0x21bd8a(0x549)][_0x21bd8a(0xe6)](this[_0x21bd8a(0x462)]+'\x20('+this['instance']['wuid']+_0x21bd8a(0x16f)+(_0x4056ee instanceof Error?_0x4056ee[_0x21bd8a(0x46c)]:JSON['stringify'](_0x4056ee,null,0x2)));}}[a0_0x452e81(0x384)](_0x37dccf,_0x4c15e9='',_0x38ad67={},_0x5a6052=!0x0){const _0x219542=a0_0x452e81;for(let _0x323f4f in _0x37dccf){let _0x4b6539=_0x5a6052?'_'+_0x323f4f:''+_0x4c15e9+_0x323f4f;typeof _0x37dccf[_0x323f4f]==_0x219542(0x5aa)&&_0x37dccf[_0x323f4f]!==null?this[_0x219542(0x384)](_0x37dccf[_0x323f4f],_0x4b6539+'.',_0x38ad67,!0x1):_0x38ad67[_0x4b6539]=String(_0x37dccf[_0x323f4f]);}return _0x38ad67;}[a0_0x452e81(0x577)](_0x3e10bb){const _0x1b8fab=a0_0x452e81;let _0x186544={};for(let _0x4f69ca of _0x3e10bb)typeof _0x4f69ca[_0x1b8fab(0x396)]==_0x1b8fab(0x6fc)&&typeof _0x4f69ca['value']==_0x1b8fab(0x6fc)&&(_0x186544[_0x4f69ca[_0x1b8fab(0x396)]]=_0x4f69ca[_0x1b8fab(0x1c4)]);return _0x186544;}async[a0_0x452e81(0x560)](_0x1d7c1e){const _0x425287=a0_0x452e81;if(!this[_0x425287(0x26b)]?.[_0x425287(0x65d)][_0x425287(0x37a)]||_0x1d7c1e[_0x425287(0x409)]!==_0x425287(0x2c7)&&_0x1d7c1e[_0x425287(0x456)]==='')return null;let _0x4c1b85=_0x1d7c1e[_0x425287(0x257)][_0x425287(0x668)]||'start';typeof _0x1d7c1e['chatLog']['lastCondition']>'u'&&(_0x1d7c1e['chatLog'][_0x425287(0x253)]=!0x0);let _0xb666e8=_0x1d7c1e[_0x425287(0x257)][_0x425287(0x253)];this[_0x425287(0x549)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x425287(0x582)]+_0x425287(0x521)+_0x4c1b85+_0x425287(0x399)+_0xb666e8);let _0x2874d6=_0x4c1b85==='start'?_0x1d7c1e[_0x425287(0x641)][_0x425287(0x1b8)](_0x3856a0=>_0x3856a0['type']===_0x425287(0x2c4)):_0x1d7c1e[_0x425287(0x641)][_0x425287(0x1b8)](_0x3e06ea=>_0x3e06ea[_0x425287(0x294)][_0x425287(0x52d)]()===_0x4c1b85[_0x425287(0x52d)]());if(!_0x2874d6)return this['logger']['error'](this[_0x425287(0x462)]+'\x20('+this[_0x425287(0x1d2)]['wuid']+_0x425287(0x54f)+_0x4c1b85),null;let _0x36b6cc={'_pushName':_0x1d7c1e['chatLog'][_0x425287(0xd7)]['pushName'],..._0x1d7c1e[_0x425287(0x257)][_0x425287(0x281)]},_0x241447=null;if(_0x1d7c1e[_0x425287(0x456)]){let _0x353580=_0x1d7c1e[_0x425287(0x257)][_0x425287(0xd7)][_0x425287(0x3c5)],_0x1fdb02=_0x1d7c1e['waitingMenu_replyOptions'][_0x425287(0x1b8)](_0x4f9c62=>_0x4f9c62['option']===_0x353580);if(_0x1fdb02){let _0x1dee78=_0x1fdb02[_0x425287(0x1e5)];if(_0x241447=_0x1d7c1e[_0x425287(0x641)]['find'](_0xd77cbe=>_0xd77cbe[_0x425287(0x4f8)]===_0x1dee78&&_0xd77cbe[_0x425287(0x5b8)]===0x1),_0x2874d6[_0x425287(0x2a3)][_0x425287(0x476)]){let _0xbfd9a1={'id':_0x1d7c1e[_0x425287(0x456)],'remoteJid':_0x1d7c1e[_0x425287(0x5e3)],'fromMe':!0x0};await this[_0x425287(0x1fa)](_0xbfd9a1);}if(_0x2874d6['uazapi'][_0x425287(0x476)]&&_0x2874d6[_0x425287(0x2a3)][_0x425287(0x130)]&&_0x2874d6['uazapi'][_0x425287(0x39c)]===_0x425287(0x68f)){let _0x487ea6={'number':_0x1d7c1e[_0x425287(0x5e3)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x1d7c1e[_0x425287(0xf6)]+_0x425287(0x3e2)+_0x353580}};await this[_0x425287(0x250)](_0x487ea6);}_0x1d7c1e['status']='open',_0x1d7c1e[_0x425287(0x456)]='',_0x1d7c1e[_0x425287(0xf6)]='',_0x1d7c1e[_0x425287(0x56f)]=[];}else{this['logger'][_0x425287(0x601)](this[_0x425287(0x462)]+'\x20('+this[_0x425287(0x1d2)][_0x425287(0x582)]+_0x425287(0x67d));let _0x171bb0={'activatedCount':_0x1d7c1e[_0x425287(0x257)][_0x425287(0x52f)]['filter'](_0x3cab44=>String(_0x3cab44['blockId'])===String(_0x4c1b85))[_0x425287(0x5c6)],'moreLogs':[_0x425287(0x4d1)]};if(_0x2874d6[_0x425287(0x2a3)]['pollErrorMessage']){let _0x52fd50={'number':_0x1d7c1e[_0x425287(0x5e3)],'options':{'delay':0x0},'textMessage':{'text':_0x2874d6[_0x425287(0x2a3)][_0x425287(0x60d)]}};await this['textMessage'](_0x52fd50);}if(_0x2874d6[_0x425287(0x572)]!==void 0x0&&_0x171bb0[_0x425287(0x5a6)]>=_0x2874d6[_0x425287(0x572)]){let _0x4b44e6=Date['now'](),_0x456b36=_0x2874d6[_0x425287(0x5bb)]??0xa;isNaN(_0x456b36)&&(_0x456b36=0xa);let _0x49f60d=_0x4b44e6+_0x456b36*0x3c*0x3e8;_0x171bb0[_0x425287(0x19f)]=_0x49f60d,_0x171bb0['moreLogs'][_0x425287(0x58a)](_0x425287(0x279)),this[_0x425287(0x3ef)](_0x1d7c1e,_0x49f60d),_0x1d7c1e[_0x425287(0x456)]='',_0x1d7c1e['waitingMenu_text']='',_0x1d7c1e[_0x425287(0x56f)]=[];}return this['updateConversation'](_0x1d7c1e,_0x2874d6,_0x171bb0,!0x0),null;}}if(_0xb666e8&&_0x2874d6[_0x425287(0x1e5)]&&!_0x1d7c1e[_0x425287(0x456)]){let _0x53c592=_0x1d7c1e[_0x425287(0x641)][_0x425287(0x611)](_0xbbeef0=>_0xbbeef0[_0x425287(0x4f8)][_0x425287(0x52d)]()===_0x2874d6['next_groupId'][_0x425287(0x52d)]())['sort']((_0x10303e,_0x13dcbd)=>_0x10303e['order']-_0x13dcbd[_0x425287(0x5b8)]);_0x53c592[_0x425287(0x5c6)]>0x0&&(_0x241447=_0x53c592[0x0]);}if(!_0x241447){let _0xc083be=_0x2874d6[_0x425287(0x4f8)],_0x427022=_0x1d7c1e[_0x425287(0x641)][_0x425287(0x611)](_0x46f20e=>_0x46f20e[_0x425287(0x4f8)]===_0xc083be&&_0x46f20e[_0x425287(0x5b8)]>_0x2874d6[_0x425287(0x5b8)])[_0x425287(0x198)]((_0x5bb8ea,_0x55f685)=>_0x5bb8ea[_0x425287(0x5b8)]-_0x55f685[_0x425287(0x5b8)]);_0x427022['length']>0x0&&(_0x241447=_0x427022[0x0]);}if(!_0x241447)return _0x1d7c1e['status']=_0x425287(0x626),null;_0x1d7c1e[_0x425287(0x257)]['realVariables']=_0x36b6cc;let _0xeb2d75=JSON[_0x425287(0x132)](JSON[_0x425287(0x1b4)](_0x241447));return this['replaceVariablesInObject'](_0xeb2d75,_0x1d7c1e[_0x425287(0x257)][_0x425287(0x281)]),_0x1d7c1e['chatLog'][_0x425287(0x668)]=_0xeb2d75[_0x425287(0x294)],_0x1d7c1e[_0x425287(0x257)][_0x425287(0x253)]=!0x0,_0xeb2d75;}[a0_0x452e81(0x326)](_0x101b01,_0x5dae32){const _0x2a3019=a0_0x452e81;return _0x101b01[_0x2a3019(0x24b)](/\{\{([^}]+)\}\}/g,(_0x4b6f16,_0x15acc5)=>_0x5dae32[_0x15acc5]||'');}[a0_0x452e81(0x249)](_0x5c0dff,_0x1c7979){const _0x342a77=a0_0x452e81;for(let _0x537752 in _0x5c0dff)typeof _0x5c0dff[_0x537752]==_0x342a77(0x6fc)?_0x5c0dff[_0x537752]=this['replaceVariables'](_0x5c0dff[_0x537752],_0x1c7979):typeof _0x5c0dff[_0x537752]=='object'&&this[_0x342a77(0x249)](_0x5c0dff[_0x537752],_0x1c7979);}async[a0_0x452e81(0x6f7)](_0x3b5f5f,_0x5d0085){const _0x1ec5fa=a0_0x452e81;let _0x479786=_0x5d0085[_0x1ec5fa(0x294)];if(_0x3b5f5f[_0x1ec5fa(0x257)]&&_0x3b5f5f[_0x1ec5fa(0x257)]['blockLogs']){let _0x1a4899=_0x3b5f5f['chatLog'][_0x1ec5fa(0x52f)][_0x1ec5fa(0x611)](_0x2394e1=>String(_0x2394e1[_0x1ec5fa(0x5d9)])===String(_0x479786))[_0x1ec5fa(0x159)]();if(_0x1a4899&&_0x1a4899[_0x1ec5fa(0xe6)]&&_0x5d0085[_0x1ec5fa(0x678)])return _0x3b5f5f[_0x1ec5fa(0x409)]=_0x1ec5fa(0x626),await this[_0x1ec5fa(0x6e2)](_0x3b5f5f),null;}if(_0x5d0085[_0x1ec5fa(0x64e)]==='uazapi'&&_0x5d0085[_0x1ec5fa(0x2a3)]['command']===_0x1ec5fa(0x67c)&&_0x3b5f5f['waitingMenu_id'])return _0x3b5f5f['chatLog']['lastBlockId']=_0x479786,await this[_0x1ec5fa(0x6e2)](_0x3b5f5f),null;let _0x59d077=await this[_0x1ec5fa(0x560)](_0x3b5f5f);if(_0x3b5f5f[_0x1ec5fa(0x257)]&&_0x3b5f5f['chatLog'][_0x1ec5fa(0x52f)]){let _0x461190=_0x3b5f5f[_0x1ec5fa(0x257)][_0x1ec5fa(0x52f)][_0x1ec5fa(0x611)](_0x54795d=>String(_0x54795d[_0x1ec5fa(0x5d9)])===String(_0x479786))['length'];if(_0x5d0085[_0x1ec5fa(0x572)]!==void 0x0&&_0x461190>=_0x5d0085[_0x1ec5fa(0x572)]){let _0x2f7a6a=Date[_0x1ec5fa(0x2f8)](),_0x377d51=_0x5d0085[_0x1ec5fa(0x5bb)]??0xa;isNaN(_0x377d51)&&(_0x377d51=0xa);let _0x284aca=_0x2f7a6a+_0x377d51*0x3c*0x3e8,_0x289ae6={'newStoppedUntil':_0x284aca};return this[_0x1ec5fa(0x3ef)](_0x3b5f5f,_0x284aca),this[_0x1ec5fa(0x5cc)](_0x3b5f5f,_0x5d0085,_0x289ae6,!0x0),null;}}_0x59d077&&_0x59d077[_0x1ec5fa(0x64e)]!=='save'&&await this[_0x1ec5fa(0x370)](_0x3b5f5f,_0x59d077),_0x59d077||await this[_0x1ec5fa(0x6e2)](_0x3b5f5f),_0x59d077&&_0x59d077['type']===_0x1ec5fa(0x139)&&(_0x3b5f5f[_0x1ec5fa(0x257)][_0x1ec5fa(0x668)]=_0x479786,await this[_0x1ec5fa(0x6e2)](_0x3b5f5f));}async[a0_0x452e81(0x370)](_0xc0ac6,_0x9f2bc3){const _0x2363ae=a0_0x452e81;try{let _0x2a9ea9=_0x9f2bc3[_0x2363ae(0x64e)];this[_0x2363ae(0x549)][_0x2363ae(0x601)](this[_0x2363ae(0x462)]+'\x20('+this[_0x2363ae(0x1d2)][_0x2363ae(0x582)]+'):\x20Going\x20to\x20'+_0x2a9ea9);let _0x2e8a95={'uazapi':()=>this[_0x2363ae(0x37f)](_0xc0ac6,_0x9f2bc3),'save':()=>this[_0x2363ae(0x147)](_0xc0ac6,_0x9f2bc3),'stop':()=>this[_0x2363ae(0x41a)](_0xc0ac6,_0x9f2bc3),'condition':()=>this[_0x2363ae(0x437)](_0xc0ac6,_0x9f2bc3),'varedit':()=>this[_0x2363ae(0x32f)](_0xc0ac6,_0x9f2bc3),'apirequest':()=>this[_0x2363ae(0x1ad)](_0xc0ac6,_0x9f2bc3),'goToFlow':()=>this[_0x2363ae(0x407)](_0xc0ac6,_0x9f2bc3)}[_0x2a9ea9];_0x2e8a95&&await _0x2e8a95();}catch(_0x2dc962){this[_0x2363ae(0x549)]['error'](this[_0x2363ae(0x462)]+'\x20('+this[_0x2363ae(0x1d2)][_0x2363ae(0x582)]+_0x2363ae(0x499)+(_0x2dc962 instanceof Error?_0x2dc962[_0x2363ae(0x46c)]:JSON[_0x2363ae(0x1b4)](_0x2dc962,null,0x2)));}}async[a0_0x452e81(0x407)](_0x3215fd,_0x5732a6){const _0x5d42f8=a0_0x452e81;if(this['logger']['verbose'](this[_0x5d42f8(0x462)]+'\x20('+this[_0x5d42f8(0x1d2)][_0x5d42f8(0x582)]+_0x5d42f8(0x323)),!_0x3215fd||!_0x5732a6)return this['logger'][_0x5d42f8(0xe6)](this[_0x5d42f8(0x462)]+'\x20('+this[_0x5d42f8(0x1d2)][_0x5d42f8(0x582)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x5d42f8(0x5cc)](_0x3215fd,_0x5732a6,{},!0x0,!0x0),console[_0x5d42f8(0x1b7)]('nextBlock:'),console[_0x5d42f8(0x1b7)](_0x5732a6);let _0x2f0e6a=_0x5732a6[_0x5d42f8(0x664)];console['log'](_0x5d42f8(0x13b),_0x2f0e6a),_0x3215fd=await this[_0x5d42f8(0x1b2)](_0x2f0e6a,_0x3215fd[_0x5d42f8(0x5e3)],_0x3215fd['chatLog']['realVariables']),this['logger'][_0x5d42f8(0x601)](this['instanceName']+'\x20('+this['instance'][_0x5d42f8(0x582)]+_0x5d42f8(0x5d5));let _0x999024=await this[_0x5d42f8(0x560)](_0x3215fd);_0x999024&&await this[_0x5d42f8(0x370)](_0x3215fd,_0x999024);}async['createConversationforgoToFlow'](_0x2eabf7,_0x3fabe9,_0xd4ac49){const _0x52c28c=a0_0x452e81;this[_0x52c28c(0x549)]['verbose'](this[_0x52c28c(0x462)]+'\x20('+this[_0x52c28c(0x1d2)][_0x52c28c(0x582)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0x2eabf7=await this['repository'][_0x52c28c(0x5d2)][_0x52c28c(0x6f9)]({'where':{'name':_0x2eabf7}},this[_0x52c28c(0x1d2)][_0x52c28c(0x582)]),!_0x2eabf7)return this[_0x52c28c(0x549)]['error'](this['instanceName']+'\x20('+this[_0x52c28c(0x1d2)][_0x52c28c(0x582)]+_0x52c28c(0x3c3)),null;let _0x481b5f=require(_0x52c28c(0x53f))[_0x52c28c(0x5a5)],_0x5b66bf=Date[_0x52c28c(0x2f8)](),_0x220459=_0x52c28c(0x2c4),_0x5e0f46={},_0x2efa90={},_0x12cdd4={..._0x2eabf7,'chatLog':null},_0x5499a6={'lastReceivedMessage':_0x5e0f46,'lastSendMessage':_0x2efa90,'lastBlockId':_0x220459,'lastCondition':!0x0,'realVariables':_0xd4ac49};_0x12cdd4[_0x52c28c(0x257)]=_0x5499a6,_0x12cdd4[_0x52c28c(0x257)][_0x52c28c(0x281)]={..._0xd4ac49},delete _0x12cdd4[_0x52c28c(0x294)],_0x12cdd4[_0x52c28c(0x294)]=new _0x481b5f(),_0x12cdd4[_0x52c28c(0x5ec)]=_0x5b66bf,_0x12cdd4[_0x52c28c(0x409)]=_0x52c28c(0x2c7),_0x12cdd4[_0x52c28c(0x5e3)]=_0x3fabe9;let _0x5504ae=await this[_0x52c28c(0x546)][_0x52c28c(0x3e9)][_0x52c28c(0x4b3)](_0x12cdd4[_0x52c28c(0x294)],_0x12cdd4,this['instance']['wuid']);return this[_0x52c28c(0x549)][_0x52c28c(0x601)](this[_0x52c28c(0x462)]+'\x20('+this['instance']['wuid']+_0x52c28c(0x642)),_0x5504ae?_0x12cdd4:null;}catch(_0x43bab8){throw this[_0x52c28c(0x549)][_0x52c28c(0xe6)](this[_0x52c28c(0x462)]+'\x20('+this[_0x52c28c(0x1d2)][_0x52c28c(0x582)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x43bab8 instanceof Error?_0x43bab8[_0x52c28c(0x46c)]:JSON[_0x52c28c(0x1b4)](_0x43bab8,null,0x2))),new m(_0x43bab8['message']);}}async[a0_0x452e81(0x1ad)](_0x459a40,_0x180128){const _0x452772=a0_0x452e81;let _0x20bf46,_0x170ea5;try{let _0x182ec1=_0x180128[_0x452772(0x32d)];if(!_0x182ec1||!_0x182ec1[_0x452772(0x50e)]||!_0x182ec1[_0x452772(0x346)])throw new Error(_0x452772(0x4cb));let _0x2ccddb;([_0x452772(0x1d4),_0x452772(0x620),_0x452772(0x50f)][_0x452772(0x63a)](_0x35ac98=>_0x182ec1[_0x452772(0x50e)][_0x452772(0x4f7)](_0x35ac98))||_0x182ec1[_0x452772(0x165)])&&(_0x2ccddb=_0x452772(0x65a));let _0x4e2943={'method':_0x182ec1[_0x452772(0x346)],'url':_0x182ec1[_0x452772(0x50e)],'headers':_0x182ec1[_0x452772(0x35a)]||{},'data':_0x182ec1[_0x452772(0x6ee)]||{},..._0x2ccddb&&{'responseType':_0x2ccddb}},_0x3429ac=await(0x0,se[_0x452772(0x463)])(_0x4e2943),_0x3eb31f=_0x3429ac['headers'][_0x452772(0x241)];if(_0x3eb31f&&_0x3eb31f[_0x452772(0x4f7)](_0x452772(0x4fb))){_0x20bf46=_0x3429ac['data'];let _0x14034f=_0x459a40[_0x452772(0x257)]['realVariables'],_0x41dfda=this[_0x452772(0x384)](_0x20bf46);return Object[_0x452772(0x14c)](_0x14034f,_0x41dfda),_0x459a40[_0x452772(0x257)][_0x452772(0x281)]=_0x14034f,_0x170ea5={'error':!0x1,'apiResponse':_0x20bf46},this[_0x452772(0x5cc)](_0x459a40,_0x180128,_0x170ea5),_0x20bf46;}if(_0x3eb31f&&(_0x3eb31f[_0x452772(0x4f7)](_0x452772(0x1d9))||_0x3eb31f[_0x452772(0x4f7)](_0x452772(0x37c))||_0x3eb31f[_0x452772(0x4f7)]('audio')||_0x3eb31f['includes'](_0x452772(0x708)))){this[_0x452772(0x549)]['verbose'](this[_0x452772(0x462)]+'\x20('+this[_0x452772(0x1d2)]['wuid']+_0x452772(0x3f2)+_0x3eb31f);let _0xcc1707=(0x0,Me['v4'])(),_0x374216='',_0x2bb797={'image/jpeg':_0x452772(0x429),'image/png':_0x452772(0x105),'image/gif':_0x452772(0x4b6),'image/webp':_0x452772(0x43e),'image/svg+xml':_0x452772(0x683),'audio/mpeg':'.mp3','audio/ogg':_0x452772(0x142),'audio/wav':_0x452772(0x59a),'video/mp4':'.mp4','video/webm':_0x452772(0x40c),'video/ogg':'.ogv','text/plain':_0x452772(0x2ae),'application/pdf':_0x452772(0x68c),'application/msword':_0x452772(0x2a9),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x452772(0x3df),'application/vnd.ms-powerpoint':_0x452772(0x6d7),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x452772(0x5ca)};_0x2bb797[_0x3eb31f]?(_0x374216=_0x2bb797[_0x3eb31f],this[_0x452772(0x549)]['verbose'](this[_0x452772(0x462)]+'\x20('+this[_0x452772(0x1d2)][_0x452772(0x582)]+_0x452772(0x3e8)+_0x374216)):(_0x374216=_0x452772(0x4ea),this[_0x452772(0x549)][_0x452772(0x601)](this['instanceName']+'\x20('+this[_0x452772(0x1d2)][_0x452772(0x582)]+_0x452772(0x125)+_0x374216)),_0xcc1707+=_0x374216,this[_0x452772(0x549)][_0x452772(0x601)](this[_0x452772(0x462)]+'\x20('+this['instance'][_0x452772(0x582)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0xcc1707);let _0xf17e39=this[_0x452772(0x1b1)][_0x452772(0x271)]('SERVER')[_0x452772(0x4fc)];if(!_0xf17e39){let _0x43b128=this[_0x452772(0x1b1)][_0x452772(0x271)](_0x452772(0x53d));_0xf17e39=_0x452772(0x698)+(_0x43b128&&_0x43b128[_0x452772(0x63d)]['split']('/')[0x4]);}let _0x5bf2ec=Buffer[_0x452772(0x25e)](_0x3429ac[_0x452772(0x28e)]);await this[_0x452772(0x487)](_0x5bf2ec,_0xcc1707);let _0x2cd8d5=_0x452772(0x4c6)+_0xcc1707;_0x2cd8d5=''+_0xf17e39+_0x2cd8d5,_0x20bf46={'fileUrl':_0x2cd8d5},_0x459a40[_0x452772(0x257)][_0x452772(0x281)][_0x452772(0x404)]=_0x2cd8d5;let _0x111e4e=_0x459a40[_0x452772(0x257)]['realVariables'],_0x5dc8ac=this[_0x452772(0x384)](_0x20bf46);return Object['assign'](_0x111e4e,_0x5dc8ac),_0x459a40['chatLog']['realVariables']=_0x111e4e,_0x170ea5={'error':!0x1,'apiResponse':{'fileUrl':_0x2cd8d5}},this['updateConversation'](_0x459a40,_0x180128,_0x170ea5),_0x20bf46;}}catch(_0x52b555){console[_0x452772(0xe6)](_0x452772(0x6de),_0x52b555),_0x52b555['response']&&(_0x20bf46=_0x52b555[_0x452772(0x10f)][_0x452772(0x28e)]);let _0x3b58f4=_0x459a40[_0x452772(0x257)][_0x452772(0x281)],_0x554aa3=this[_0x452772(0x384)](_0x20bf46);return Object[_0x452772(0x14c)](_0x3b58f4,_0x554aa3),_0x459a40['chatLog'][_0x452772(0x281)]=_0x3b58f4,_0x170ea5={'error':!0x0,'errorLog':_0x52b555[_0x452772(0x52d)](),'apiResponse':_0x20bf46},this[_0x452772(0x5cc)](_0x459a40,_0x180128,_0x170ea5),{'success':!0x1};}}[a0_0x452e81(0x420)](_0x46487a,_0x1ecb0c){const _0xb920a4=a0_0x452e81;let _0x14be26=_0x128253=>{const _0x331eb6=a0_0x3d1d;let _0xdde444=_0x128253[_0x331eb6(0x24b)](/[^0-9.,-]/g,'')[_0x331eb6(0x24b)](',','.'),_0x349255=parseFloat(_0xdde444);return isNaN(_0x349255)?null:_0x349255;},_0x39e903=_0x1ecb0c[_0xb920a4(0x14a)],_0x256c4b=_0x1ecb0c['secondValue'];typeof _0x39e903==_0xb920a4(0x6fc)&&(_0x39e903=this['replaceVariables'](_0x39e903,_0x46487a[_0xb920a4(0x257)]['realVariables'])??''),typeof _0x256c4b==_0xb920a4(0x6fc)&&(_0x256c4b=this['replaceVariables'](_0x256c4b,_0x46487a[_0xb920a4(0x257)][_0xb920a4(0x281)])??'');let _0x4f3e58=null;if(!_0x1ecb0c[_0xb920a4(0x338)])return null;switch(this['logger'][_0xb920a4(0x601)](this[_0xb920a4(0x462)]+'\x20('+this[_0xb920a4(0x1d2)][_0xb920a4(0x582)]+_0xb920a4(0x3b3)+_0x39e903),this[_0xb920a4(0x549)][_0xb920a4(0x601)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x256c4b),_0x1ecb0c[_0xb920a4(0x338)]){case'+':case'-':case'*':case'/':let _0x14c392=_0x14be26(_0x39e903||'0'),_0x47c4d9=_0x14be26(_0x256c4b||'0');if(_0x14c392===null)return null;switch(_0x1ecb0c[_0xb920a4(0x338)]){case'+':_0x4f3e58=_0x14c392+(_0x47c4d9??0x0);break;case'-':_0x4f3e58=_0x14c392-(_0x47c4d9??0x0);break;case'*':_0x4f3e58=_0x14c392*(_0x47c4d9??0x1);break;case'/':_0x47c4d9!==0x0&&(_0x4f3e58=_0x14c392/(_0x47c4d9??0x1));break;}break;case _0xb920a4(0x33d):case _0xb920a4(0x40b):let _0x20a2e7=_0x256c4b,_0x3a6fca=_0x1ecb0c['replaceValue'];if(typeof _0x3a6fca=='string'&&(_0x3a6fca=this[_0xb920a4(0x326)](_0x3a6fca,_0x46487a[_0xb920a4(0x257)]['realVariables'])??''),_0x20a2e7&&_0x3a6fca!==void 0x0){let _0x586b3e=_0x1ecb0c['editOperator']===_0xb920a4(0x33d)?new RegExp(_0x20a2e7[_0xb920a4(0x24b)](/[-\/\\^$*+?.()|[\]{}]/g,_0xb920a4(0x475)),'g'):new RegExp(_0x20a2e7,'g');_0x4f3e58=_0x39e903[_0xb920a4(0x24b)](_0x586b3e,_0x3a6fca);}else console[_0xb920a4(0x607)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0xb920a4(0x65b):_0x4f3e58=_0x256c4b;break;case'extractRegex':let _0x522801=_0x39e903['match'](new RegExp(_0x256c4b||''));_0x4f3e58=_0x522801?_0x522801[0x0]:'';break;case'truncatedto':_0x4f3e58=_0x39e903[_0xb920a4(0x67f)](0x0,parseInt(_0x256c4b||'0'));break;case'truncatedtoEnd':let _0x18c134=parseInt(_0x256c4b||'0');_0x4f3e58=_0x39e903['slice'](_0x39e903[_0xb920a4(0x5c6)]-_0x18c134);break;case _0xb920a4(0x34b):let _0x3621fd=_0x14be26(_0x39e903),_0x69caab=parseInt(_0x256c4b||'0');_0x69caab=Math[_0xb920a4(0x484)](_0x69caab),_0x3621fd!==null?_0x4f3e58=_0x3621fd[_0xb920a4(0x30a)](_0xb920a4(0x1bb),{'minimumFractionDigits':_0x69caab,'maximumFractionDigits':_0x69caab}):(console[_0xb920a4(0x607)](_0xb920a4(0x2a1)+_0x39e903),_0x4f3e58=null);break;case'toBRL':let _0x3803a2=_0x14be26(_0x39e903);_0x3803a2!==null?_0x4f3e58=_0x3803a2[_0xb920a4(0x30a)](_0xb920a4(0x1bb),{'style':_0xb920a4(0x24e),'currency':'BRL'}):(console['warn'](_0xb920a4(0x4dc)+_0x39e903),_0x4f3e58=null);break;case'upperCase':_0x4f3e58=_0x39e903[_0xb920a4(0x185)]();break;case _0xb920a4(0x20a):_0x4f3e58=_0x39e903[_0xb920a4(0x2d0)]();break;case _0xb920a4(0x2ff):_0x4f3e58=_0x39e903[_0xb920a4(0x688)]('\x20')[_0xb920a4(0x353)](_0x4649fd=>_0x4649fd[_0xb920a4(0x6c4)](0x0)[_0xb920a4(0x185)]()+_0x4649fd[_0xb920a4(0x67f)](0x1)['toLowerCase']())[_0xb920a4(0x6c3)]('\x20');break;case'trimmed':_0x4f3e58=_0x39e903['trim']();break;default:_0x4f3e58=_0x39e903;}return _0x4f3e58!==null?_0x4f3e58['toString']():null;}async['processvaredits'](_0x535f7d,_0x3a22b9){const _0x21f817=a0_0x452e81;try{let _0x5ad161=_0x535f7d['varedits']?.[_0x21f817(0x611)](_0xba96c5=>_0xba96c5['blockId']===_0x3a22b9['_id']?.[_0x21f817(0x52d)]())||[],_0x1fd9c5=_0x3a22b9[_0x21f817(0x17e)],_0x416086=null,_0x1f07ff=[],_0x1d89f0=_0x535f7d[_0x21f817(0x257)][_0x21f817(0x281)][_0x1fd9c5];_0x1f07ff[_0x21f817(0x58a)](_0x21f817(0x432)+_0x1d89f0+'\x22');for(let _0x4afd4a of _0x5ad161){_0x4afd4a[_0x21f817(0x14a)]=_0x1d89f0,_0x416086=_0x4afd4a[_0x21f817(0x14a)];let _0x60dcc7;try{_0x60dcc7=this[_0x21f817(0x420)](_0x535f7d,_0x4afd4a);}catch(_0x3fa6a1){console['error'](_0x21f817(0x50d)+_0x3fa6a1['message']);continue;}if(_0x60dcc7!==null){let _0x197c14=_0x21f817(0x704)+_0x4afd4a[_0x21f817(0x338)]+'\x22',_0x55b949=[_0x21f817(0x528),'upperCase','lowerCase',_0x21f817(0x2ff),'trimmed'];_0x4afd4a['editOperator']===_0x21f817(0x33d)||_0x4afd4a[_0x21f817(0x338)]===_0x21f817(0x40b)?_0x197c14+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x4afd4a['secondValue']+_0x21f817(0x2c9)+_0x4afd4a[_0x21f817(0x1b9)]+'\x22':!_0x55b949['includes'](_0x4afd4a[_0x21f817(0x338)])&&_0x4afd4a[_0x21f817(0x6bd)]!==null&&_0x4afd4a[_0x21f817(0x6bd)]!==void 0x0&&(_0x197c14+=_0x21f817(0x2cb)+_0x4afd4a[_0x21f817(0x6bd)]+'\x22'),_0x197c14+=_0x21f817(0xdc)+_0x60dcc7+'.',_0x1f07ff['push'](_0x197c14);}_0x60dcc7!==null&&(_0x1d89f0=_0x60dcc7);}if(_0x535f7d[_0x21f817(0x257)]['realVariables']&&_0x3a22b9[_0x21f817(0x17e)]){_0x535f7d['chatLog']['realVariables'][_0x3a22b9[_0x21f817(0x17e)]]=_0x1d89f0;let _0x4e02c3={'variable':_0x3a22b9[_0x21f817(0x17e)],'oldValue':_0x416086,'newValue':_0x1d89f0,'moreLogs':_0x1f07ff};try{this[_0x21f817(0x5cc)](_0x535f7d,_0x3a22b9,_0x4e02c3);}catch(_0x11c38d){console[_0x21f817(0xe6)](_0x21f817(0xbb)+_0x11c38d[_0x21f817(0x46c)]);}}return _0x1fd9c5;}catch(_0x2c6606){return console['error'](_0x21f817(0x490)+_0x2c6606['message']),null;}}async[a0_0x452e81(0x437)](_0x490f55,_0x38679f){const _0x111696=a0_0x452e81;try{let _0x4b09e5=[],_0x62c581=_0x490f55['conditions']['filter'](_0x472f9f=>_0x472f9f[_0x111696(0x5d9)]===_0x38679f[_0x111696(0x294)]['toString']()),_0x121175=null,_0x3d29d1=!0x1;for(let _0x1fb5fe of _0x62c581){let _0x33fd98=this[_0x111696(0x1f2)](_0x490f55,_0x1fb5fe);_0x4b09e5[_0x111696(0x58a)](_0x111696(0x3d4)+_0x1fb5fe[_0x111696(0x14a)]+',\x20Comparador:\x20'+_0x1fb5fe[_0x111696(0x2d4)]+_0x111696(0x40d)+_0x1fb5fe[_0x111696(0x6bd)]+_0x111696(0x5ee)+_0x33fd98),_0x121175===null?_0x121175=_0x33fd98:_0x1fb5fe[_0x111696(0x309)]===_0x111696(0x196)?(_0x121175=_0x121175&&_0x33fd98,_0x33fd98||(_0x3d29d1=!0x0)):_0x1fb5fe['OrAnd']==='or'&&(_0x3d29d1||(_0x121175=_0x121175||_0x33fd98));}_0x121175===null&&(_0x121175=!0x0);let _0x52cc95={'moreLogs':_0x4b09e5};_0x490f55[_0x111696(0x257)][_0x111696(0x253)]=_0x121175,await this[_0x111696(0x5cc)](_0x490f55,_0x38679f,_0x52cc95);}catch(_0x195914){this[_0x111696(0x549)][_0x111696(0xe6)](this['instanceName']+'\x20('+this[_0x111696(0x1d2)]['wuid']+_0x111696(0xc5)+(_0x195914 instanceof Error?_0x195914[_0x111696(0x46c)]:JSON['stringify'](_0x195914,null,0x2)));}}[a0_0x452e81(0x1f2)](_0x453425,_0x19d219){const _0x207f38=a0_0x452e81;let _0x4a7391=_0x19d219['firstValue'],_0x11b701=_0x19d219[_0x207f38(0x6bd)];typeof _0x4a7391==_0x207f38(0x6fc)&&(_0x4a7391=this['replaceVariables'](_0x4a7391,_0x453425[_0x207f38(0x257)][_0x207f38(0x281)])??''),typeof _0x11b701==_0x207f38(0x6fc)&&(_0x11b701=this[_0x207f38(0x326)](_0x11b701,_0x453425[_0x207f38(0x257)]['realVariables'])??'');try{switch(_0x19d219[_0x207f38(0x2d4)]){case'equal':return _0x4a7391===_0x11b701;case _0x207f38(0x26f):return _0x4a7391!==_0x11b701;case _0x207f38(0x33c):return _0x4a7391[_0x207f38(0x4f7)](_0x11b701);case _0x207f38(0x22c):return!_0x4a7391[_0x207f38(0x4f7)](_0x11b701);case _0x207f38(0x48b):return parseFloat(_0x4a7391)>parseFloat(_0x11b701);case _0x207f38(0xf3):return parseFloat(_0x4a7391)<parseFloat(_0x11b701);case _0x207f38(0x1e0):return _0x4a7391!=='';case'empty':return _0x4a7391==='';case _0x207f38(0x276):return new RegExp(_0x11b701)[_0x207f38(0x38d)](_0x4a7391);case _0x207f38(0x527):return!new RegExp(_0x11b701)[_0x207f38(0x38d)](_0x4a7391);default:return!0x1;}}catch(_0x3ca0c5){return console['error'](_0x207f38(0x508)+_0x3ca0c5),!0x1;}}[a0_0x452e81(0x3d9)](_0xed4a9c){const _0x21dfae=a0_0x452e81;let _0x375e58=!0x0,_0x3dad45=null;for(let _0x2641a6 of _0xed4a9c){let _0x3c04e5=this['evaluateConditionTest'](_0x2641a6);if(_0x3dad45==='or'&&_0x3c04e5){_0x375e58=!0x0;break;}if(_0x3dad45===_0x21dfae(0x196)&&!_0x3c04e5){_0x375e58=!0x1;break;}_0x3dad45=_0x2641a6[_0x21dfae(0x309)];}return _0x375e58;}[a0_0x452e81(0x52c)](_0x55a2d6){const _0x53e022=a0_0x452e81;let _0x1eb8e0=_0x55a2d6[_0x53e022(0x14a)],_0x590d84=_0x55a2d6['secondValue'];try{switch(_0x55a2d6[_0x53e022(0x2d4)]){case _0x53e022(0x33b):return String(_0x1eb8e0)===String(_0x590d84);case _0x53e022(0x26f):return String(_0x1eb8e0)!==String(_0x590d84);case _0x53e022(0x33c):return String(_0x1eb8e0)[_0x53e022(0x4f7)](String(_0x590d84));case _0x53e022(0x22c):return!String(_0x1eb8e0)['includes'](String(_0x590d84));case _0x53e022(0x48b):return parseFloat(String(_0x1eb8e0))>parseFloat(String(_0x590d84));case _0x53e022(0xf3):return parseFloat(String(_0x1eb8e0))<parseFloat(String(_0x590d84));case _0x53e022(0x1e0):return String(_0x1eb8e0)!=='';case _0x53e022(0x1f5):return String(_0x1eb8e0)==='';case _0x53e022(0x276):return new RegExp(String(_0x590d84))[_0x53e022(0x38d)](String(_0x1eb8e0));case'notMatchRegex':return!new RegExp(String(_0x590d84))[_0x53e022(0x38d)](String(_0x1eb8e0));default:return!0x1;}}catch(_0x49b688){return console['error'](_0x53e022(0x508)+_0x49b688),!0x1;}}async[a0_0x452e81(0x147)](_0x5b505d,_0x438c93){const _0x2d3ad7=a0_0x452e81;if(this[_0x2d3ad7(0x549)][_0x2d3ad7(0x601)](this[_0x2d3ad7(0x462)]+'\x20('+this[_0x2d3ad7(0x1d2)][_0x2d3ad7(0x582)]+_0x2d3ad7(0x15c)),!_0x5b505d||!_0x438c93)return this[_0x2d3ad7(0x549)]['error'](this['instanceName']+'\x20('+this[_0x2d3ad7(0x1d2)][_0x2d3ad7(0x582)]+_0x2d3ad7(0x509)),null;let _0x29a89a=_0x438c93['saveVariable'],_0x40c62f=_0x5b505d[_0x2d3ad7(0x257)][_0x2d3ad7(0xd7)][_0x2d3ad7(0x6d8)]||_0x5b505d[_0x2d3ad7(0x257)][_0x2d3ad7(0xd7)][_0x2d3ad7(0x65f)]||_0x5b505d[_0x2d3ad7(0x257)][_0x2d3ad7(0xd7)][_0x2d3ad7(0x3c5)];try{_0x5b505d['chatLog']['realVariables']||(_0x5b505d[_0x2d3ad7(0x257)][_0x2d3ad7(0x281)]={});let _0x36a3ee=_0x5b505d['chatLog'][_0x2d3ad7(0x281)][_0x29a89a];_0x5b505d[_0x2d3ad7(0x257)][_0x2d3ad7(0x281)][_0x29a89a]=_0x40c62f;let _0x4a9267={'variable':_0x29a89a,'oldValue':_0x36a3ee,'newValue':_0x40c62f};this[_0x2d3ad7(0x5cc)](_0x5b505d,_0x438c93,_0x4a9267),this['logger'][_0x2d3ad7(0x601)](this[_0x2d3ad7(0x462)]+'\x20('+this[_0x2d3ad7(0x1d2)][_0x2d3ad7(0x582)]+_0x2d3ad7(0x180));}catch(_0x53a2a4){let _0x285b71={'error':!0x0,'errorLog':_0x53a2a4[_0x2d3ad7(0x52d)]()};return this[_0x2d3ad7(0x5cc)](_0x5b505d,_0x438c93,_0x285b71),this[_0x2d3ad7(0x549)][_0x2d3ad7(0xe6)](this[_0x2d3ad7(0x462)]+'\x20('+this[_0x2d3ad7(0x1d2)][_0x2d3ad7(0x582)]+_0x2d3ad7(0x544)+(_0x53a2a4 instanceof Error?_0x53a2a4[_0x2d3ad7(0x46c)]:JSON[_0x2d3ad7(0x1b4)](_0x53a2a4,null,0x2))),null;}}async[a0_0x452e81(0x41a)](_0x2a318a,_0x58e119){const _0x49dda6=a0_0x452e81;if(this[_0x49dda6(0x549)][_0x49dda6(0x601)](this[_0x49dda6(0x462)]+'\x20('+this[_0x49dda6(0x1d2)][_0x49dda6(0x582)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x2a318a||!_0x58e119)return this[_0x49dda6(0x549)]['error'](this[_0x49dda6(0x462)]+'\x20('+this['instance'][_0x49dda6(0x582)]+_0x49dda6(0x509)),null;let _0xe2d17d=Date['now'](),_0x51ebf1=parseInt(_0x58e119[_0x49dda6(0x3c8)],0xa);if(isNaN(_0x51ebf1))return this[_0x49dda6(0x549)][_0x49dda6(0xe6)](this[_0x49dda6(0x462)]+'\x20('+this['instance']['wuid']+_0x49dda6(0x39e)),null;let _0x34b2cd={'newStoppedUntil':_0xe2d17d+_0x51ebf1*0x3c*0x3e8};return await this['updateConversation'](_0x2a318a,_0x58e119,_0x34b2cd,!0x0),null;}async[a0_0x452e81(0x37f)](_0x556e76,_0x25c895){const _0x4e1da1=a0_0x452e81;try{switch(_0x25c895['uazapi'][_0x4e1da1(0x64d)]){case'sendText':await this[_0x4e1da1(0x292)](_0x556e76,_0x25c895);break;case _0x4e1da1(0x56d):await this[_0x4e1da1(0x671)](_0x556e76,_0x25c895);break;case'sendLocation':await this[_0x4e1da1(0x343)](_0x556e76,_0x25c895);break;case _0x4e1da1(0x1d8):await this['uazapiSendAudio'](_0x556e76,_0x25c895);break;case _0x4e1da1(0x1e1):await this[_0x4e1da1(0x6fd)](_0x556e76,_0x25c895);break;case _0x4e1da1(0x67c):await this[_0x4e1da1(0x5ab)](_0x556e76,_0x25c895);break;case _0x4e1da1(0x1ac):await this[_0x4e1da1(0x5ab)](_0x556e76,_0x25c895);break;case'deleteMessage':await this['uazapiDeleteMessage'](_0x556e76,_0x25c895);break;default:this[_0x4e1da1(0x549)][_0x4e1da1(0xe6)](this[_0x4e1da1(0x462)]+'\x20('+this[_0x4e1da1(0x1d2)][_0x4e1da1(0x582)]+_0x4e1da1(0x5b2)+_0x25c895[_0x4e1da1(0x2a3)][_0x4e1da1(0x64d)]);}}catch(_0x151b00){this[_0x4e1da1(0x549)][_0x4e1da1(0xe6)](this[_0x4e1da1(0x462)]+'\x20('+this[_0x4e1da1(0x1d2)][_0x4e1da1(0x582)]+_0x4e1da1(0xed)+(_0x151b00 instanceof Error?_0x151b00[_0x4e1da1(0x46c)]:JSON[_0x4e1da1(0x1b4)](_0x151b00,null,0x2)));}}async[a0_0x452e81(0x5cc)](_0xbdaa48,_0x4aac76,_0x2e8898,_0x5ada1b=!0x1,_0x537f53=!0x1){const _0x2ead33=a0_0x452e81;_0xbdaa48[_0x2ead33(0x257)]['blockLogs']||(_0xbdaa48['chatLog'][_0x2ead33(0x52f)]=[]);let _0x598990=(_0xbdaa48[_0x2ead33(0x257)][_0x2ead33(0x52f)]?.[_0x2ead33(0x5c6)]??0x0)+0x1,_0x2d964b=_0xbdaa48['chatLog'][_0x2ead33(0x52f)][_0x2ead33(0x611)](_0x15bf10=>String(_0x15bf10['blockId'])===String(_0x4aac76['_id']))[_0x2ead33(0x5c6)]+0x1,_0x1fe10a=_0x2e8898?.[_0x2ead33(0x369)]??Date['now'](),_0x4b7dca=_0x2e8898?.[_0x2ead33(0xe6)]?_0x2e8898[_0x2ead33(0x23c)]??_0x2e8898['error'][_0x2ead33(0x52d)]():void 0x0,_0x481dbc={'onTime':_0x1fe10a,'blockId':_0x4aac76['_id'],'order':_0x598990,'activatedCount':_0x2d964b,'error':_0x2e8898?.['error']??!0x1,'messageId':_0x2e8898?.['messageId'],'apiResponse':_0x2e8898?.['apiResponse'],'apiResponseString':_0x2e8898?.[_0x2ead33(0x202)]?JSON[_0x2ead33(0x1b4)](_0x2e8898?.['apiResponse']):void 0x0,'variable':_0x2e8898?.[_0x2ead33(0x354)],'oldValue':_0x2e8898?.[_0x2ead33(0x1a1)],'newValue':_0x2e8898?.[_0x2ead33(0x5e1)],'newStoppedUntil':_0x2e8898?.[_0x2ead33(0x19f)],'moreLogs':_0x2e8898?.[_0x2ead33(0x14e)],'errorLog':_0x4b7dca};if(_0x2e8898[_0x2ead33(0x14e)]&&_0x2e8898[_0x2ead33(0x14e)]['length']>0x0){let _0x37e12c=_0x2e8898[_0x2ead33(0x14e)][_0x2ead33(0x353)](_0xae8537=>this[_0x2ead33(0x44b)](_0xae8537,_0xbdaa48[_0x2ead33(0x257)][_0x2ead33(0x281)]));_0x481dbc[_0x2ead33(0x14e)]=_0x37e12c;}_0xbdaa48['chatLog'][_0x2ead33(0x281)]||(_0xbdaa48[_0x2ead33(0x257)][_0x2ead33(0x281)]={}),_0xbdaa48[_0x2ead33(0x257)]['realVariables'][_0x2ead33(0x656)]=String(_0x2d964b),_0xbdaa48['chatLog'][_0x2ead33(0x281)][_0x2ead33(0x32a)]=String(_0x2e8898[_0x2ead33(0xe6)]??!0x1),_0xbdaa48[_0x2ead33(0x257)]['blockLogs'][_0x2ead33(0x58a)](_0x481dbc),_0xbdaa48[_0x2ead33(0x257)][_0x2ead33(0x668)]=_0x4aac76['_id'][_0x2ead33(0x52d)](),_0xbdaa48['chatLog'][_0x2ead33(0x316)]&&(_0xbdaa48['chatLog'][_0x2ead33(0x316)]=_0xbdaa48[_0x2ead33(0x257)][_0x2ead33(0x316)]),_0xbdaa48[_0x2ead33(0x257)][_0x2ead33(0xd7)]&&(_0xbdaa48[_0x2ead33(0x257)][_0x2ead33(0xd7)]=_0xbdaa48[_0x2ead33(0x257)][_0x2ead33(0xd7)]),_0xbdaa48[_0x2ead33(0x257)][_0x2ead33(0x253)]&&(_0xbdaa48[_0x2ead33(0x257)][_0x2ead33(0x253)]=_0xbdaa48[_0x2ead33(0x257)][_0x2ead33(0x253)]),_0x537f53&&(_0xbdaa48[_0x2ead33(0x409)]=_0x2ead33(0x626)),_0x5ada1b?this[_0x2ead33(0x6e2)](_0xbdaa48):this['goNextblock'](_0xbdaa48,_0x4aac76);}['replaceVariablesLogs'](_0x41166e,_0x240e60){const _0xc57fec=a0_0x452e81;return _0x41166e['replace'](/\{\{([^}]+)\}\}/g,(_0x238c6e,_0x3174ba)=>_0x240e60[_0x3174ba]?'{{'+_0x3174ba+'}}\x20->\x20\x22'+_0x240e60[_0x3174ba]+'\x22':'{{'+_0x3174ba+_0xc57fec(0x371));}async[a0_0x452e81(0x6e2)](_0x57cdae){const _0x33ebbb=a0_0x452e81;try{let _0x2fb9a6=Object['entries'](_0x57cdae[_0x33ebbb(0x257)][_0x33ebbb(0x281)])[_0x33ebbb(0x353)](([_0x30988e,_0x507187])=>({'name':_0x30988e,'value':_0x507187})),_0xdb5a40={'status':_0x57cdae[_0x33ebbb(0x409)],'blocks':_0x57cdae[_0x33ebbb(0x641)],'waitingMenu_id':_0x57cdae[_0x33ebbb(0x456)],'waitingMenu_text':_0x57cdae[_0x33ebbb(0xf6)],'waitingMenu_replyOptions':_0x57cdae[_0x33ebbb(0x56f)],'chatLog':{'lastBlockId':_0x57cdae['chatLog'][_0x33ebbb(0x668)],'lastSendMessage':_0x57cdae[_0x33ebbb(0x257)]['lastSendMessage'],'lastReceivedMessage':_0x57cdae[_0x33ebbb(0x257)][_0x33ebbb(0xd7)],'lastCondition':_0x57cdae[_0x33ebbb(0x257)][_0x33ebbb(0x253)],'chatVariables':_0x2fb9a6,'realVariables':_0x57cdae['chatLog']['realVariables'],'blockLogs':_0x57cdae[_0x33ebbb(0x257)]['blockLogs']}},_0xf16159=await this[_0x33ebbb(0x546)][_0x33ebbb(0x3e9)]['updateOne'](_0x57cdae[_0x33ebbb(0x294)],_0xdb5a40,this['instance'][_0x33ebbb(0x582)]);if(_0xf16159){this[_0x33ebbb(0x549)][_0x33ebbb(0x601)](this['instanceName']+'\x20('+this[_0x33ebbb(0x1d2)][_0x33ebbb(0x582)]+_0x33ebbb(0x221)+_0xf16159[_0x33ebbb(0x294)]);try{let _0x52a42d=[_0x33ebbb(0x554),'nomecompleto',_0x33ebbb(0x6e8),'cpf',_0x33ebbb(0x409),_0x33ebbb(0x251),_0x33ebbb(0x301),_0x33ebbb(0x532)];if(!this[_0x33ebbb(0x26b)]&&(await this[_0x33ebbb(0x47b)](),!this[_0x33ebbb(0x26b)]))throw new Error(_0x33ebbb(0x42e));let _0x698121=this['AutomateSystem']?.[_0x33ebbb(0x37e)]['map'](_0x11b17d=>_0x11b17d['name']),_0x2282e5={};Object['entries'](_0x57cdae[_0x33ebbb(0x257)][_0x33ebbb(0x281)])[_0x33ebbb(0x446)](([_0x15ab16,_0x7e8698])=>{const _0x116e8f=_0x33ebbb;_0x52a42d[_0x116e8f(0x4f7)](_0x15ab16)&&(_0x15ab16===_0x116e8f(0x532)&&typeof _0x7e8698==_0x116e8f(0x6fc)?_0x2282e5[_0x15ab16]=_0x7e8698['split'](',')[_0x116e8f(0x353)](_0x24a594=>_0x24a594['trim']())['filter'](_0x18710c=>_0x18710c!==''):_0x2282e5[_0x15ab16]=_0x7e8698);});let _0x454ce4=_0x57cdae['chatLog'][_0x33ebbb(0x52f)][_0x57cdae[_0x33ebbb(0x257)][_0x33ebbb(0x52f)][_0x33ebbb(0x5c6)]-0x1];if(_0x454ce4){let _0x626766=_0x454ce4[_0x33ebbb(0x19f)];_0x626766!==void 0x0&&(_0x2282e5[_0x33ebbb(0x5e5)]=_0x626766[_0x33ebbb(0x52d)]());}let _0x26d937=_0x2fb9a6[_0x33ebbb(0x611)](_0x101d1a=>_0x698121['includes'](_0x101d1a['name']));this[_0x33ebbb(0x549)][_0x33ebbb(0x601)](this[_0x33ebbb(0x462)]+'\x20('+this['instance']['wuid']+_0x33ebbb(0x222)),this['logger'][_0x33ebbb(0x601)](_0x2282e5),this[_0x33ebbb(0x549)][_0x33ebbb(0x601)](this[_0x33ebbb(0x462)]+'\x20('+this[_0x33ebbb(0x1d2)][_0x33ebbb(0x582)]+_0x33ebbb(0x383)),this[_0x33ebbb(0x549)]['verbose'](_0x26d937);let _0x5a4b9c=_0x26d937[_0x33ebbb(0x353)](_0x3b30ae=>{const _0x49785a=_0x33ebbb;let _0x5ecb61=this['AutomateSystem']?.[_0x49785a(0x37e)][_0x49785a(0x1b8)](_0x41d782=>_0x41d782[_0x49785a(0x396)]===_0x3b30ae[_0x49785a(0x396)]);if(!_0x5ecb61)throw new Error(_0x49785a(0x27b)+_0x3b30ae[_0x49785a(0x396)]);return{'_id':_0x5ecb61[_0x49785a(0x294)],'value':_0x3b30ae[_0x49785a(0x1c4)]};});this[_0x33ebbb(0x549)][_0x33ebbb(0x601)](this[_0x33ebbb(0x462)]+'\x20('+this['instance'][_0x33ebbb(0x582)]+_0x33ebbb(0x1da)),this[_0x33ebbb(0x549)][_0x33ebbb(0x601)](_0x5a4b9c),await this['saveChatVariables'](_0x57cdae['remoteJid'],_0x2282e5,_0x5a4b9c);}catch(_0x241945){this[_0x33ebbb(0x549)][_0x33ebbb(0xe6)](this[_0x33ebbb(0x462)]+'\x20('+this[_0x33ebbb(0x1d2)]['wuid']+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x241945 instanceof Error?_0x241945[_0x33ebbb(0x46c)]:JSON[_0x33ebbb(0x1b4)](_0x241945,null,0x2)));}}else this['logger'][_0x33ebbb(0xe6)](this[_0x33ebbb(0x462)]+'\x20('+this['instance'][_0x33ebbb(0x582)]+_0x33ebbb(0x361));}catch(_0x455c2e){this[_0x33ebbb(0x549)]['error'](this['instanceName']+'\x20('+this[_0x33ebbb(0x1d2)][_0x33ebbb(0x582)]+_0x33ebbb(0x2e4)+(_0x455c2e instanceof Error?_0x455c2e[_0x33ebbb(0x46c)]:JSON[_0x33ebbb(0x1b4)](_0x455c2e,null,0x2)));}}async['saveChatVariables'](_0x10a5fe,_0x16c952,_0xef47f9){const _0x37c22f=a0_0x452e81;try{let _0x1c28e0={'leadInfo.leadnome':_0x16c952[_0x37c22f(0x554)],'leadInfo.nomecompleto':_0x16c952[_0x37c22f(0x502)],'leadInfo.email':_0x16c952[_0x37c22f(0x6e8)],'leadInfo.cpf':_0x16c952['cpf'],'leadInfo.status':_0x16c952[_0x37c22f(0x409)],'leadInfo.notas':_0x16c952[_0x37c22f(0x251)],'leadInfo.responsavelid':_0x16c952[_0x37c22f(0x301)],'leadInfo.tags':_0x16c952[_0x37c22f(0x532)],'leadInfo.customFields':_0xef47f9};if(_0x37c22f(0x5e5)in _0x16c952){let _0x767386=_0x16c952[_0x37c22f(0x5e5)];_0x1c28e0[_0x37c22f(0x5c3)]=_0x767386?Number(_0x767386):null;}let _0xcbbdba=await this['repository']['chat'][_0x37c22f(0x4b3)]({'where':{'_id':_0x10a5fe}},_0x1c28e0,this[_0x37c22f(0x1d2)][_0x37c22f(0x582)]);_0xcbbdba?(this[_0x37c22f(0x549)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x37c22f(0x38c)+_0xcbbdba[_0x37c22f(0x294)]),q(this[_0x37c22f(0x462)],_0x37c22f(0x571),{'chat':_0xcbbdba})):this['logger'][_0x37c22f(0xe6)](this['instanceName']+'\x20('+this['instance'][_0x37c22f(0x582)]+_0x37c22f(0x3cf));}catch(_0x174a4b){this[_0x37c22f(0x549)][_0x37c22f(0xe6)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x37c22f(0xf4)+(_0x174a4b instanceof Error?_0x174a4b[_0x37c22f(0x46c)]:JSON[_0x37c22f(0x1b4)](_0x174a4b,null,0x2)));}}async[a0_0x452e81(0x3ef)](_0x510bbe,_0x215915){const _0x508eac=a0_0x452e81;this[_0x508eac(0x549)]['verbose'](this[_0x508eac(0x462)]+'\x20('+this['instance'][_0x508eac(0x582)]+_0x508eac(0x25b)+_0x215915);try{let _0xcb99b5=await this['repository'][_0x508eac(0x182)][_0x508eac(0x4b3)]({'where':{'_id':_0x510bbe[_0x508eac(0x5e3)]}},{'leadInfo.desativadoFluxoAte':_0x215915},this[_0x508eac(0x1d2)][_0x508eac(0x582)]);this['logger'][_0x508eac(0x601)](this['instanceName']+'\x20('+this[_0x508eac(0x1d2)][_0x508eac(0x582)]+_0x508eac(0x5c1)+_0x510bbe[_0x508eac(0x294)]),this[_0x508eac(0x549)][_0x508eac(0x601)](this[_0x508eac(0x462)]+'\x20('+this['instance'][_0x508eac(0x582)]+'):\x20atualização\x20chat:\x20'+JSON['stringify'](_0xcb99b5,null,0x2)),_0xcb99b5&&q(this[_0x508eac(0x462)],_0x508eac(0x571),{'chat':_0xcb99b5});}catch(_0x5cf569){this[_0x508eac(0x549)]['error'](this[_0x508eac(0x462)]+'\x20('+this[_0x508eac(0x1d2)][_0x508eac(0x582)]+_0x508eac(0x162)+(_0x5cf569 instanceof Error?_0x5cf569['message']:JSON[_0x508eac(0x1b4)](_0x5cf569,null,0x2)));}}async[a0_0x452e81(0x478)](_0x5a0cb9){const _0x4116ba=a0_0x452e81;try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4116ba(0x1d2)][_0x4116ba(0x582)]+'):\x20Buscando\x20flow...');let _0x5b2485=_0x5a0cb9[_0x4116ba(0x24b)](/\D/g,''),_0x2fab09=await this[_0x4116ba(0x546)][_0x4116ba(0x5d2)]['findOne']({'where':{'testingWith':_0x5b2485}},this[_0x4116ba(0x1d2)]['wuid']);return _0x2fab09||(this[_0x4116ba(0x549)][_0x4116ba(0x601)](this[_0x4116ba(0x462)]+'\x20('+this[_0x4116ba(0x1d2)]['wuid']+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x2fab09=await this['repository'][_0x4116ba(0x5d2)][_0x4116ba(0x6f9)]({'where':{'default':!0x0}},this[_0x4116ba(0x1d2)][_0x4116ba(0x582)])),_0x2fab09||(this['logger'][_0x4116ba(0x601)](this[_0x4116ba(0x462)]+'\x20('+this[_0x4116ba(0x1d2)][_0x4116ba(0x582)]+_0x4116ba(0x415)),null);}catch(_0x231a37){return this['logger'][_0x4116ba(0xe6)](this[_0x4116ba(0x462)]+'\x20('+this[_0x4116ba(0x1d2)]['wuid']+_0x4116ba(0x38e)+(_0x231a37 instanceof Error?_0x231a37['message']:JSON[_0x4116ba(0x1b4)](_0x231a37,null,0x2))),null;}}async[a0_0x452e81(0x57f)](_0x2e74e8,_0x568f92){const _0x3e92b2=a0_0x452e81;try{let _0x4a881d=!!_0x568f92[_0x3e92b2(0x3c5)],_0x276bb0=_0x568f92['quoted'],_0x2caa63=null;if(this[_0x3e92b2(0x549)][_0x3e92b2(0x601)](this[_0x3e92b2(0x462)]+'\x20('+this['instance'][_0x3e92b2(0x582)]+'):\x20isVote:\x20'+_0x4a881d+_0x3e92b2(0x61d)+_0x276bb0),_0x4a881d){this[_0x3e92b2(0x549)][_0x3e92b2(0x601)](this[_0x3e92b2(0x462)]+'\x20('+this[_0x3e92b2(0x1d2)]['wuid']+_0x3e92b2(0x210));let _0x39f19c={'where':{'remoteJid':_0x2e74e8,'waitingMenu_id':_0x276bb0}};if(_0x2caa63=await this[_0x3e92b2(0x546)][_0x3e92b2(0x3e9)][_0x3e92b2(0x6f9)](_0x39f19c,this[_0x3e92b2(0x1d2)]['wuid']),!_0x2caa63)return this[_0x3e92b2(0x549)][_0x3e92b2(0x601)](this[_0x3e92b2(0x462)]+'\x20('+this[_0x3e92b2(0x1d2)]['wuid']+_0x3e92b2(0x674)),null;let _0x1596f6=Date[_0x3e92b2(0x2f8)](),_0x3c8047=_0x2caa63?.['minutesToClose']||0x0,_0x4e4710=_0x1596f6-_0x3c8047*0x3c*0x3e8;if(_0x2caa63[_0x3e92b2(0x5ec)]<_0x4e4710){this['logger']['verbose'](this[_0x3e92b2(0x462)]+'\x20('+this[_0x3e92b2(0x1d2)][_0x3e92b2(0x582)]+_0x3e92b2(0x40e));let _0x2add8b={'number':_0x2caa63['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x2caa63['waitingMenu_ExpiredMessage']}};await this[_0x3e92b2(0x250)](_0x2add8b);let _0x40afb4={'status':_0x3e92b2(0x626),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x3e92b2(0x546)][_0x3e92b2(0x3e9)][_0x3e92b2(0x4b3)](_0x2caa63['_id'],_0x40afb4,this[_0x3e92b2(0x1d2)]['wuid']),null;}return _0x2caa63['lastInteraction']=Date[_0x3e92b2(0x2f8)](),_0x2caa63['chatLog'][_0x3e92b2(0xd7)]=_0x568f92,_0x2caa63;}else{this[_0x3e92b2(0x549)][_0x3e92b2(0x601)](this[_0x3e92b2(0x462)]+'\x20('+this[_0x3e92b2(0x1d2)][_0x3e92b2(0x582)]+'):\x20'+this[_0x3e92b2(0x1d2)][_0x3e92b2(0x582)]+_0x3e92b2(0x533)),this[_0x3e92b2(0x549)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3e92b2(0x582)]+_0x3e92b2(0x633));let _0x5afe47={'where':{'remoteJid':_0x2e74e8,'status':_0x3e92b2(0x2c7)}};if(_0x2caa63=await this[_0x3e92b2(0x546)]['flowConversation'][_0x3e92b2(0x6f9)](_0x5afe47,this[_0x3e92b2(0x1d2)]['wuid']),!_0x2caa63){let _0x40ea2c=await this[_0x3e92b2(0x478)](_0x2e74e8);if(_0x40ea2c&&(_0x2caa63=await this['createNewConversation'](_0x40ea2c,_0x568f92[_0x3e92b2(0x2c0)],_0x568f92)),!_0x2caa63)return null;}let _0x162e30=Date[_0x3e92b2(0x2f8)](),_0x11f08a=_0x2caa63?.['minutesToClose']||0x0,_0x3a5f08=_0x162e30-_0x11f08a*0x3c*0x3e8;if(this['logger']['verbose'](this[_0x3e92b2(0x462)]+'\x20('+this[_0x3e92b2(0x1d2)][_0x3e92b2(0x582)]+'):\x20Current\x20Time:\x20'+_0x162e30+_0x3e92b2(0x1e9)+_0x11f08a+_0x3e92b2(0x5f8)+_0x3a5f08),this[_0x3e92b2(0x549)]['verbose'](this[_0x3e92b2(0x462)]+'\x20('+this[_0x3e92b2(0x1d2)][_0x3e92b2(0x582)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x3e92b2(0x549)][_0x3e92b2(0x601)](this[_0x3e92b2(0x462)]+'\x20('+this[_0x3e92b2(0x1d2)][_0x3e92b2(0x582)]+_0x3e92b2(0x6c7)+_0x2caa63[_0x3e92b2(0x5ec)]),this[_0x3e92b2(0x549)][_0x3e92b2(0x601)](this[_0x3e92b2(0x462)]+'\x20('+this[_0x3e92b2(0x1d2)]['wuid']+'):\x20expirationTime:\x20'+_0x3a5f08),_0x2caa63[_0x3e92b2(0x5ec)]<_0x3a5f08){this[_0x3e92b2(0x549)]['verbose'](this[_0x3e92b2(0x462)]+'\x20('+this[_0x3e92b2(0x1d2)][_0x3e92b2(0x582)]+_0x3e92b2(0x1bd));let _0x3281f8=await this['findFlow'](_0x2e74e8);if(_0x3281f8===null)return null;_0x2caa63&&await this[_0x3e92b2(0x546)][_0x3e92b2(0x3e9)]['updateOne'](_0x2caa63['_id'],{'status':_0x3e92b2(0x626)},this['instance'][_0x3e92b2(0x582)]),_0x2caa63=await this['createNewConversation'](_0x3281f8,_0x568f92['key'],_0x568f92);}return _0x2caa63[_0x3e92b2(0x5ec)]=_0x162e30,_0x2caa63['chatLog'][_0x3e92b2(0xd7)]=_0x568f92,_0x2caa63;}}catch(_0x86f759){return this[_0x3e92b2(0x549)][_0x3e92b2(0xe6)](this[_0x3e92b2(0x462)]+'\x20('+this[_0x3e92b2(0x1d2)][_0x3e92b2(0x582)]+_0x3e92b2(0x212)+(_0x86f759 instanceof Error?_0x86f759[_0x3e92b2(0x46c)]:JSON['stringify'](_0x86f759,null,0x2))),null;}}async[a0_0x452e81(0x152)](_0x28b266,_0x43f31a,_0x2da1e8){const _0x1a41ac=a0_0x452e81;this[_0x1a41ac(0x549)]['verbose'](this[_0x1a41ac(0x462)]+'\x20('+this[_0x1a41ac(0x1d2)]['wuid']+_0x1a41ac(0x654));try{let _0x4ce484=require(_0x1a41ac(0x53f))[_0x1a41ac(0x5a5)],_0xa7a5fa=Date[_0x1a41ac(0x2f8)](),_0x3ddd6f=_0x1a41ac(0x2c4),_0x94634a=_0x43f31a[_0x1a41ac(0x4c8)]?null:_0x2da1e8,_0xe4dda1=_0x43f31a[_0x1a41ac(0x4c8)]?_0x2da1e8:null,_0x3bc2ea=_0x43f31a['remoteJid'];await this['closeExistingConversations'](_0x3bc2ea);let _0x2e79c7={..._0x28b266,'chatLog':null},_0x1dee31=await this[_0x1a41ac(0x577)](_0x2e79c7[_0x1a41ac(0xc3)]),_0x5b8a49=await this[_0x1a41ac(0x58f)](_0x3bc2ea),_0xe82ad8={..._0x1dee31,..._0x5b8a49,'_remoteJid':_0x3bc2ea},_0x5f01e6={'lastReceivedMessage':_0x94634a,'lastSendMessage':_0xe4dda1,'lastBlockId':_0x3ddd6f,'lastCondition':!0x0,'realVariables':_0xe82ad8};_0x2e79c7['chatLog']=_0x5f01e6,delete _0x2e79c7[_0x1a41ac(0x294)],_0x2e79c7[_0x1a41ac(0x294)]=new _0x4ce484(),_0x2e79c7[_0x1a41ac(0x5ec)]=_0xa7a5fa,_0x2e79c7[_0x1a41ac(0x409)]=_0x1a41ac(0x2c7),_0x2e79c7['remoteJid']=_0x3bc2ea;let _0x412d59=await this['repository']['flowConversation'][_0x1a41ac(0x4b3)](_0x2e79c7[_0x1a41ac(0x294)],_0x2e79c7,this[_0x1a41ac(0x1d2)][_0x1a41ac(0x582)]);return this[_0x1a41ac(0x549)]['verbose'](this[_0x1a41ac(0x462)]+'\x20('+this[_0x1a41ac(0x1d2)][_0x1a41ac(0x582)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x412d59?_0x2e79c7:null;}catch(_0x6067af){return this['logger'][_0x1a41ac(0xe6)](this[_0x1a41ac(0x462)]+'\x20('+this[_0x1a41ac(0x1d2)][_0x1a41ac(0x582)]+_0x1a41ac(0xc7)+(_0x6067af instanceof Error?_0x6067af[_0x1a41ac(0x46c)]:JSON[_0x1a41ac(0x1b4)](_0x6067af,null,0x2))),_0x6067af;}}async[a0_0x452e81(0x292)](_0xff9a41,_0x119150){const _0x12384f=a0_0x452e81;let _0x2faaee=_0xff9a41[_0x12384f(0x5e3)];_0x119150[_0x12384f(0x2a3)]['remoteJid']&&_0x119150['uazapi']['remoteJid'][_0x12384f(0x3f5)]()!==''&&(_0x2faaee=_0x119150[_0x12384f(0x2a3)][_0x12384f(0x5e3)][_0x12384f(0x3f5)]()),this[_0x12384f(0x549)][_0x12384f(0x601)](this[_0x12384f(0x462)]+'\x20('+this[_0x12384f(0x1d2)][_0x12384f(0x582)]+_0x12384f(0x122));let _0x269cfb={'number':_0x2faaee,'options':{'delay':_0x119150[_0x12384f(0x2a3)][_0x12384f(0x70c)]},'textMessage':{'text':_0x119150[_0x12384f(0x2a3)]['text']}};try{let _0x5504c6=await this[_0x12384f(0x250)](_0x269cfb);if(_0x5504c6){let _0x5ad285={'_id':_0x5504c6[_0x12384f(0x2c0)]['id'],'_fromMe':_0x5504c6['key'][_0x12384f(0x4c8)],'_remoteJid':_0x5504c6[_0x12384f(0x2c0)][_0x12384f(0x5e3)]};_0xff9a41[_0x12384f(0x257)][_0x12384f(0x668)]=_0x119150[_0x12384f(0x294)][_0x12384f(0x52d)]();let {message_normalized:_0x19ca77}=this[_0x12384f(0x505)](_0x5504c6[_0x12384f(0x46c)],$(_0x5504c6[_0x12384f(0x46c)]),null);_0xff9a41['chatLog'][_0x12384f(0x316)]=await _0x19ca77;let _0x4995dc={'messageId':_0x5504c6[_0x12384f(0x2c0)]['id']},_0x440337=_0xff9a41[_0x12384f(0x257)][_0x12384f(0x281)];Object[_0x12384f(0x14c)](_0x440337,_0x5ad285),_0xff9a41[_0x12384f(0x257)][_0x12384f(0x281)]=_0x440337,this['updateConversation'](_0xff9a41,_0x119150,_0x4995dc);}else{let _0x2ae8ac={'error':!0x0};this['updateConversation'](_0xff9a41,_0x119150,_0x2ae8ac),this[_0x12384f(0x549)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x246476){let _0x532776={'error':!0x0,'errorLog':_0x246476[_0x12384f(0x52d)]()};this[_0x12384f(0x5cc)](_0xff9a41,_0x119150,_0x532776),this[_0x12384f(0x549)]['error'](this[_0x12384f(0x462)]+'\x20('+this[_0x12384f(0x1d2)]['wuid']+_0x12384f(0x4b1)+(_0x246476 instanceof Error?_0x246476[_0x12384f(0x46c)]:JSON['stringify'](_0x246476,null,0x2)));}}async['uazapiSendMedia'](_0x58ec86,_0x19b6a3){const _0x46137e=a0_0x452e81;let _0x188031=_0x58ec86[_0x46137e(0x5e3)];_0x19b6a3['uazapi'][_0x46137e(0x5e3)]&&_0x19b6a3[_0x46137e(0x2a3)][_0x46137e(0x5e3)][_0x46137e(0x3f5)]()!==''&&(_0x188031=_0x19b6a3[_0x46137e(0x2a3)]['remoteJid'][_0x46137e(0x3f5)]()),this[_0x46137e(0x549)][_0x46137e(0x601)](this[_0x46137e(0x462)]+'\x20('+this[_0x46137e(0x1d2)][_0x46137e(0x582)]+_0x46137e(0x59f));let _0x5bd6cc={'number':_0x188031,'options':{'delay':_0x19b6a3['uazapi'][_0x46137e(0x70c)]},'mediaMessage':{'mediatype':_0x19b6a3[_0x46137e(0x2a3)][_0x46137e(0x467)],'caption':_0x19b6a3[_0x46137e(0x2a3)]['caption'],'media':_0x19b6a3['uazapi'][_0x46137e(0x4f4)],'fileName':_0x19b6a3[_0x46137e(0x2a3)][_0x46137e(0x348)]}};try{let _0x14c7df=await this[_0x46137e(0x18e)](_0x5bd6cc);if(_0x14c7df){let _0x5816e6={'_id':_0x14c7df[_0x46137e(0x2c0)]['id'],'_fromMe':_0x14c7df['key'][_0x46137e(0x4c8)],'_remoteJid':_0x14c7df[_0x46137e(0x2c0)][_0x46137e(0x5e3)]};_0x58ec86[_0x46137e(0x257)][_0x46137e(0x668)]=_0x19b6a3['_id'][_0x46137e(0x52d)]();let {message_normalized:_0x587ee9}=this[_0x46137e(0x505)](_0x14c7df[_0x46137e(0x46c)],$(_0x14c7df[_0x46137e(0x46c)]),null);_0x58ec86[_0x46137e(0x257)][_0x46137e(0x316)]=await _0x587ee9;let _0x1989c5={'messageId':_0x14c7df[_0x46137e(0x2c0)]['id']},_0x4dbd6c=_0x58ec86['chatLog']['realVariables'];Object[_0x46137e(0x14c)](_0x4dbd6c,_0x5816e6),_0x58ec86[_0x46137e(0x257)][_0x46137e(0x281)]=_0x4dbd6c,this['updateConversation'](_0x58ec86,_0x19b6a3,_0x1989c5);}else{let _0x3112be={'error':!0x0};this[_0x46137e(0x5cc)](_0x58ec86,_0x19b6a3,_0x3112be),this[_0x46137e(0x549)][_0x46137e(0xe6)](this[_0x46137e(0x462)]+'\x20('+this[_0x46137e(0x1d2)]['wuid']+_0x46137e(0x26e));}}catch(_0x3af500){let _0x17b46b={'error':!0x0,'errorLog':_0x3af500[_0x46137e(0x52d)]()};this[_0x46137e(0x5cc)](_0x58ec86,_0x19b6a3,_0x17b46b),this[_0x46137e(0x549)][_0x46137e(0xe6)](this[_0x46137e(0x462)]+'\x20('+this['instance'][_0x46137e(0x582)]+_0x46137e(0x1ba)+(_0x3af500 instanceof Error?_0x3af500[_0x46137e(0x46c)]:JSON[_0x46137e(0x1b4)](_0x3af500,null,0x2)));}}async[a0_0x452e81(0x343)](_0x43b720,_0x58d0d7){const _0x3a3e5=a0_0x452e81;let _0x2aff88=_0x43b720['remoteJid'];_0x58d0d7['uazapi'][_0x3a3e5(0x5e3)]&&_0x58d0d7[_0x3a3e5(0x2a3)][_0x3a3e5(0x5e3)][_0x3a3e5(0x3f5)]()!==''&&(_0x2aff88=_0x58d0d7[_0x3a3e5(0x2a3)][_0x3a3e5(0x5e3)][_0x3a3e5(0x3f5)]()),this[_0x3a3e5(0x549)][_0x3a3e5(0x601)](this[_0x3a3e5(0x462)]+'\x20('+this[_0x3a3e5(0x1d2)]['wuid']+_0x3a3e5(0x455));let _0x5e4ee0={'number':_0x2aff88,'options':{'delay':_0x58d0d7[_0x3a3e5(0x2a3)][_0x3a3e5(0x70c)]},'locationMessage':{'name':_0x58d0d7['uazapi'][_0x3a3e5(0x396)],'address':_0x58d0d7[_0x3a3e5(0x2a3)][_0x3a3e5(0x3b1)],'latitude':_0x58d0d7[_0x3a3e5(0x2a3)][_0x3a3e5(0x49a)],'longitude':_0x58d0d7['uazapi'][_0x3a3e5(0x4d2)]}};try{let _0xa69f81=await this[_0x3a3e5(0xe7)](_0x5e4ee0);if(_0xa69f81){let _0x518ac5={'_id':_0xa69f81[_0x3a3e5(0x2c0)]['id'],'_fromMe':_0xa69f81['key']['fromMe'],'_remoteJid':_0xa69f81[_0x3a3e5(0x2c0)][_0x3a3e5(0x5e3)]};_0x43b720['chatLog'][_0x3a3e5(0x668)]=_0x58d0d7[_0x3a3e5(0x294)]['toString']();let {message_normalized:_0xeed12e}=this[_0x3a3e5(0x505)](_0xa69f81[_0x3a3e5(0x46c)],$(_0xa69f81['message']),null);_0x43b720['chatLog'][_0x3a3e5(0x316)]=await _0xeed12e;let _0x115e8f={'messageId':_0xa69f81[_0x3a3e5(0x2c0)]['id']},_0x1f2ea4=_0x43b720['chatLog'][_0x3a3e5(0x281)];Object['assign'](_0x1f2ea4,_0x518ac5),_0x43b720[_0x3a3e5(0x257)][_0x3a3e5(0x281)]=_0x1f2ea4,this[_0x3a3e5(0x5cc)](_0x43b720,_0x58d0d7,_0x115e8f);}else{let _0x15f00b={'error':!0x0};this['updateConversation'](_0x43b720,_0x58d0d7,_0x15f00b),this[_0x3a3e5(0x549)][_0x3a3e5(0xe6)](this['instanceName']+'\x20('+this[_0x3a3e5(0x1d2)][_0x3a3e5(0x582)]+_0x3a3e5(0x616));}}catch(_0x5921ba){let _0x31b027={'error':!0x0,'errorLog':_0x5921ba[_0x3a3e5(0x52d)]()};this[_0x3a3e5(0x5cc)](_0x43b720,_0x58d0d7,_0x31b027),this[_0x3a3e5(0x549)][_0x3a3e5(0xe6)](this[_0x3a3e5(0x462)]+'\x20('+this[_0x3a3e5(0x1d2)][_0x3a3e5(0x582)]+_0x3a3e5(0x31b)+(_0x5921ba instanceof Error?_0x5921ba[_0x3a3e5(0x46c)]:JSON[_0x3a3e5(0x1b4)](_0x5921ba,null,0x2)));}}async['uazapiSendAudio'](_0x1cf8a9,_0x19344c){const _0x3b3b71=a0_0x452e81;let _0x902791=_0x1cf8a9[_0x3b3b71(0x5e3)];_0x19344c[_0x3b3b71(0x2a3)]['remoteJid']&&_0x19344c[_0x3b3b71(0x2a3)][_0x3b3b71(0x5e3)][_0x3b3b71(0x3f5)]()!==''&&(_0x902791=_0x19344c[_0x3b3b71(0x2a3)][_0x3b3b71(0x5e3)][_0x3b3b71(0x3f5)]()),this[_0x3b3b71(0x549)][_0x3b3b71(0x601)](this[_0x3b3b71(0x462)]+'\x20('+this[_0x3b3b71(0x1d2)][_0x3b3b71(0x582)]+_0x3b3b71(0x258));let _0x30f4d3={'number':_0x902791,'options':{'delay':_0x19344c['uazapi']['delay']},'audioMessage':{'audio':_0x19344c['uazapi'][_0x3b3b71(0x322)]}};try{let _0x3ae374=await this['audioWhatsapp'](_0x30f4d3);if(_0x3ae374){let _0x503d49={'_id':_0x3ae374[_0x3b3b71(0x2c0)]['id'],'_fromMe':_0x3ae374['key'][_0x3b3b71(0x4c8)],'_remoteJid':_0x3ae374[_0x3b3b71(0x2c0)]['remoteJid']};_0x1cf8a9[_0x3b3b71(0x257)][_0x3b3b71(0x668)]=_0x19344c[_0x3b3b71(0x294)][_0x3b3b71(0x52d)]();let {message_normalized:_0x5da0ee}=this[_0x3b3b71(0x505)](_0x3ae374[_0x3b3b71(0x46c)],$(_0x3ae374[_0x3b3b71(0x46c)]),null);_0x1cf8a9[_0x3b3b71(0x257)][_0x3b3b71(0x316)]=await _0x5da0ee;let _0x4237de={'messageId':_0x3ae374[_0x3b3b71(0x2c0)]['id']},_0x44f09a=_0x1cf8a9[_0x3b3b71(0x257)][_0x3b3b71(0x281)];Object[_0x3b3b71(0x14c)](_0x44f09a,_0x503d49),_0x1cf8a9[_0x3b3b71(0x257)][_0x3b3b71(0x281)]=_0x44f09a,this[_0x3b3b71(0x5cc)](_0x1cf8a9,_0x19344c,_0x4237de);}else{let _0x1ba5f9={'error':!0x0};this[_0x3b3b71(0x5cc)](_0x1cf8a9,_0x19344c,_0x1ba5f9),this[_0x3b3b71(0x549)][_0x3b3b71(0xe6)](this[_0x3b3b71(0x462)]+'\x20('+this[_0x3b3b71(0x1d2)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x5700d7){let _0x5afbae={'error':!0x0,'errorLog':_0x5700d7['toString']()};this[_0x3b3b71(0x5cc)](_0x1cf8a9,_0x19344c,_0x5afbae),this[_0x3b3b71(0x549)][_0x3b3b71(0xe6)](this[_0x3b3b71(0x462)]+'\x20('+this['instance'][_0x3b3b71(0x582)]+_0x3b3b71(0x6d5)+(_0x5700d7 instanceof Error?_0x5700d7['message']:JSON[_0x3b3b71(0x1b4)](_0x5700d7,null,0x2)));}}async['uazapiSendContact'](_0x4ded57,_0xbd18f3){const _0x330e5f=a0_0x452e81;let _0x2ca757=_0x4ded57['remoteJid'];_0xbd18f3[_0x330e5f(0x2a3)][_0x330e5f(0x5e3)]&&_0xbd18f3[_0x330e5f(0x2a3)][_0x330e5f(0x5e3)]['trim']()!==''&&(_0x2ca757=_0xbd18f3[_0x330e5f(0x2a3)][_0x330e5f(0x5e3)]['trim']()),this[_0x330e5f(0x549)][_0x330e5f(0x601)](this[_0x330e5f(0x462)]+'\x20('+this[_0x330e5f(0x1d2)][_0x330e5f(0x582)]+_0x330e5f(0x667));let _0x1d6503={'number':_0x2ca757,'options':{'delay':_0xbd18f3[_0x330e5f(0x2a3)][_0x330e5f(0x70c)]},'contactMessage':[{'fullName':_0xbd18f3[_0x330e5f(0x2a3)]['fullName'],'phoneNumber':_0xbd18f3[_0x330e5f(0x2a3)]['phoneNumber']}]};try{let _0x38fe62=await this[_0x330e5f(0x2c6)](_0x1d6503);if(_0x38fe62){let _0x2c1e1e={'_id':_0x38fe62[_0x330e5f(0x2c0)]['id'],'_fromMe':_0x38fe62['key'][_0x330e5f(0x4c8)],'_remoteJid':_0x38fe62[_0x330e5f(0x2c0)][_0x330e5f(0x5e3)]};_0x4ded57['chatLog'][_0x330e5f(0x668)]=_0xbd18f3['_id'][_0x330e5f(0x52d)]();let {message_normalized:_0x282107}=this[_0x330e5f(0x505)](_0x38fe62[_0x330e5f(0x46c)],$(_0x38fe62[_0x330e5f(0x46c)]),null);_0x4ded57['chatLog'][_0x330e5f(0x316)]=await _0x282107;let _0x3e4c79={'messageId':_0x38fe62['key']['id']},_0x1ff60a=_0x4ded57['chatLog'][_0x330e5f(0x281)];Object[_0x330e5f(0x14c)](_0x1ff60a,_0x2c1e1e),_0x4ded57[_0x330e5f(0x257)][_0x330e5f(0x281)]=_0x1ff60a,this['updateConversation'](_0x4ded57,_0xbd18f3,_0x3e4c79);}else{let _0x55f565={'error':!0x0};this[_0x330e5f(0x5cc)](_0x4ded57,_0xbd18f3,_0x55f565),this[_0x330e5f(0x549)][_0x330e5f(0xe6)](this[_0x330e5f(0x462)]+'\x20('+this['instance']['wuid']+_0x330e5f(0x69c));}}catch(_0x17d521){let _0x315160={'error':!0x0,'errorLog':_0x17d521[_0x330e5f(0x52d)]()};this[_0x330e5f(0x5cc)](_0x4ded57,_0xbd18f3,_0x315160),this[_0x330e5f(0x549)][_0x330e5f(0xe6)](this['instanceName']+'\x20('+this[_0x330e5f(0x1d2)][_0x330e5f(0x582)]+_0x330e5f(0x138)+(_0x17d521 instanceof Error?_0x17d521[_0x330e5f(0x46c)]:JSON[_0x330e5f(0x1b4)](_0x17d521,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x5196ff,_0x257233){const _0x5a33e8=a0_0x452e81;for(let _0x432ff6 of _0x5196ff)_0x432ff6[_0x5a33e8(0x18d)]&&(_0x432ff6['option']=this['replaceVariables'](_0x432ff6[_0x5a33e8(0x18d)],_0x257233)),_0x432ff6[_0x5a33e8(0x43a)]&&(_0x432ff6[_0x5a33e8(0x43a)]=this['replaceVariables'](_0x432ff6[_0x5a33e8(0x43a)],_0x257233));}async[a0_0x452e81(0x5ab)](_0x4aac21,_0x3e68b8){const _0x572afc=a0_0x452e81;let _0x1568fd=_0x4aac21['remoteJid'];_0x3e68b8[_0x572afc(0x2a3)]['remoteJid']&&_0x3e68b8[_0x572afc(0x2a3)]['remoteJid'][_0x572afc(0x3f5)]()!==''&&(_0x1568fd=_0x3e68b8[_0x572afc(0x2a3)][_0x572afc(0x5e3)][_0x572afc(0x3f5)]()),this[_0x572afc(0x549)][_0x572afc(0x601)](this['instanceName']+'\x20('+this['instance'][_0x572afc(0x582)]+_0x572afc(0x1d3));let _0x3bc1d2=_0x4aac21['replyOptions'][_0x572afc(0x611)](_0x5401d7=>_0x5401d7[_0x572afc(0x5d9)]===_0x3e68b8[_0x572afc(0x294)])[_0x572afc(0x198)]((_0x4e4552,_0x4bd11d)=>_0x4e4552[_0x572afc(0x5b8)]-_0x4bd11d[_0x572afc(0x5b8)]);this[_0x572afc(0x1c7)](_0x3bc1d2,_0x4aac21[_0x572afc(0x257)][_0x572afc(0x281)]);let _0x2e43f0=_0x3bc1d2['map'](_0x235b06=>_0x235b06['option']),_0x319827={'number':_0x1568fd,'menuMessage':{'type':_0x3e68b8['uazapi'][_0x572afc(0x39c)]||_0x572afc(0x68f),'text':_0x3e68b8[_0x572afc(0x2a3)][_0x572afc(0x6d8)]||_0x3e68b8['uazapi'][_0x572afc(0x396)],'footerText':_0x3e68b8[_0x572afc(0x2a3)][_0x572afc(0x270)],'buttonText':_0x3e68b8['uazapi'][_0x572afc(0x535)],'selectableCount':0x1,'choices':_0x2e43f0},'options':{'delay':_0x3e68b8[_0x572afc(0x2a3)][_0x572afc(0x70c)]}};try{let _0x2da0e2=await this['menuMessage'](_0x319827);if(_0x2da0e2){let _0x41429f={'_id':_0x2da0e2['key']['id'],'_fromMe':_0x2da0e2[_0x572afc(0x2c0)][_0x572afc(0x4c8)],'_remoteJid':_0x2da0e2['key'][_0x572afc(0x5e3)]};_0x3e68b8[_0x572afc(0x2a3)][_0x572afc(0x1a8)]===!0x0&&(_0x4aac21['status']='waitingForReplyMenu',this[_0x572afc(0x549)][_0x572afc(0x601)](this['instanceName']+'\x20('+this[_0x572afc(0x1d2)]['wuid']+'):\x20conversation.status:\x20'+_0x4aac21[_0x572afc(0x409)])),this[_0x572afc(0x549)][_0x572afc(0x601)](this[_0x572afc(0x462)]+'\x20('+this[_0x572afc(0x1d2)][_0x572afc(0x582)]+_0x572afc(0x4ba)+(_0x3e68b8[_0x572afc(0x2a3)]['name']||_0x3e68b8[_0x572afc(0x2a3)]['text'])),_0x4aac21['waitingMenu_id']=_0x2da0e2['key']['id'],_0x4aac21[_0x572afc(0xf6)]=_0x3e68b8[_0x572afc(0x2a3)][_0x572afc(0x396)]||_0x3e68b8[_0x572afc(0x2a3)][_0x572afc(0x6d8)],_0x4aac21[_0x572afc(0x56f)]=_0x3bc1d2,_0x3e68b8[_0x572afc(0x2a3)]['menuExpiredMessage']&&(_0x4aac21[_0x572afc(0x31d)]=_0x3e68b8['uazapi']['menuExpiredMessage']),this['logger'][_0x572afc(0x601)](this[_0x572afc(0x462)]+'\x20('+this[_0x572afc(0x1d2)][_0x572afc(0x582)]+_0x572afc(0x2b7)+_0x4aac21[_0x572afc(0xf6)]),_0x4aac21[_0x572afc(0x257)][_0x572afc(0x668)]=_0x3e68b8[_0x572afc(0x294)]['toString']();let {message_normalized:_0x174eb0}=this[_0x572afc(0x505)](_0x2da0e2['message'],$(_0x2da0e2[_0x572afc(0x46c)]),null);_0x4aac21[_0x572afc(0x257)]['lastSendMessage']=await _0x174eb0;let _0x2129d6={'messageId':_0x2da0e2[_0x572afc(0x2c0)]['id']},_0x31055a=_0x4aac21[_0x572afc(0x257)][_0x572afc(0x281)];Object[_0x572afc(0x14c)](_0x31055a,_0x41429f),_0x4aac21[_0x572afc(0x257)][_0x572afc(0x281)]=_0x31055a,this[_0x572afc(0x5cc)](_0x4aac21,_0x3e68b8,_0x2129d6);}else{let _0x4c9fb1={'error':!0x0};this[_0x572afc(0x5cc)](_0x4aac21,_0x3e68b8,_0x4c9fb1),this[_0x572afc(0x549)]['error'](this[_0x572afc(0x462)]+'\x20('+this[_0x572afc(0x1d2)][_0x572afc(0x582)]+_0x572afc(0x70f));}}catch(_0x37dc4d){let _0x5f24da={'error':!0x0,'errorLog':_0x37dc4d instanceof Error?_0x37dc4d['message']:JSON['stringify'](_0x37dc4d,null,0x2)};this[_0x572afc(0x5cc)](_0x4aac21,_0x3e68b8,_0x5f24da),this[_0x572afc(0x549)][_0x572afc(0xe6)](this['instanceName']+'\x20('+this[_0x572afc(0x1d2)][_0x572afc(0x582)]+_0x572afc(0x21c)+(_0x37dc4d instanceof Error?_0x37dc4d[_0x572afc(0x46c)]:JSON[_0x572afc(0x1b4)](_0x37dc4d,null,0x2)));}}async[a0_0x452e81(0x539)](_0x139d90,_0x3a9271){const _0x1faec5=a0_0x452e81;this[_0x1faec5(0x549)][_0x1faec5(0x601)](this[_0x1faec5(0x462)]+'\x20('+this[_0x1faec5(0x1d2)][_0x1faec5(0x582)]+'):\x20Deletando\x20mensagem');let _0x5eadeb=_0x139d90['chatLog'][_0x1faec5(0x52f)][_0x1faec5(0x1b8)](_0x3523d8=>_0x3523d8['blockId']['toString']()===_0x3a9271['uazapi'][_0x1faec5(0x5d9)][_0x1faec5(0x52d)]()),_0x4719c9={'id':_0x5eadeb[_0x1faec5(0x1c2)],'remoteJid':_0x5eadeb[_0x1faec5(0x5e3)],'fromMe':_0x5eadeb[_0x1faec5(0x4c8)]};try{let _0x5c21c4=await this[_0x1faec5(0x1fa)](_0x4719c9);if(_0x5c21c4){_0x139d90[_0x1faec5(0x257)][_0x1faec5(0x668)]=_0x3a9271['_id'][_0x1faec5(0x52d)]();let {message_normalized:_0x527d6a}=this[_0x1faec5(0x505)](_0x5c21c4['message'],$(_0x5c21c4[_0x1faec5(0x46c)]),null);_0x139d90[_0x1faec5(0x257)]['lastSendMessage']=await _0x527d6a;let _0x275ba5={};this[_0x1faec5(0x5cc)](_0x139d90,_0x3a9271,_0x275ba5);}else{let _0x2516e5={'error':!0x0};this[_0x1faec5(0x5cc)](_0x139d90,_0x3a9271,_0x2516e5),this[_0x1faec5(0x549)][_0x1faec5(0xe6)](this[_0x1faec5(0x462)]+'\x20('+this[_0x1faec5(0x1d2)][_0x1faec5(0x582)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x14ce33){let _0x5aa2e6={'error':!0x0,'errorLog':_0x14ce33 instanceof Error?_0x14ce33[_0x1faec5(0x46c)]:JSON[_0x1faec5(0x1b4)](_0x14ce33,null,0x2)};this[_0x1faec5(0x5cc)](_0x139d90,_0x3a9271,_0x5aa2e6),this[_0x1faec5(0x549)][_0x1faec5(0xe6)](this[_0x1faec5(0x462)]+'\x20('+this['instance'][_0x1faec5(0x582)]+_0x1faec5(0x57b)+(_0x14ce33 instanceof Error?_0x14ce33[_0x1faec5(0x46c)]:JSON[_0x1faec5(0x1b4)](_0x14ce33,null,0x2)));}}async[a0_0x452e81(0x2e7)](_0x1e4912){const _0x20dc53=a0_0x452e81;try{if(this[_0x20dc53(0x549)][_0x20dc53(0x601)](this[_0x20dc53(0x462)]+'\x20('+this[_0x20dc53(0x1d2)][_0x20dc53(0x582)]+'):\x20Criando\x20fluxo...'),await this[_0x20dc53(0x546)][_0x20dc53(0x5d2)][_0x20dc53(0x6f9)]({'where':{'name':_0x1e4912['name']}},this[_0x20dc53(0x1d2)][_0x20dc53(0x582)]))return{'message':_0x20dc53(0x54e)};_0x1e4912['default']===!0x0&&await this[_0x20dc53(0x546)][_0x20dc53(0x5d2)][_0x20dc53(0x1f8)]({},{'default':!0x1},this['instance'][_0x20dc53(0x582)]);let _0x15612a=new ne[(_0x20dc53(0x2ad))]['ObjectId'](),_0x53c302={'_id':_0x15612a,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x5168d2={'_id':new ne[(_0x20dc53(0x2ad))][(_0x20dc53(0x5a5))](),'order':0x1,'groupId':_0x15612a[_0x20dc53(0x52d)](),'type':_0x20dc53(0x2c4)},_0x483025={'_id':new ne[(_0x20dc53(0x2ad))][(_0x20dc53(0x5a5))](),'owner':this[_0x20dc53(0x1d2)][_0x20dc53(0x582)],'name':_0x1e4912[_0x20dc53(0x396)],'groups':[_0x53c302],'blocks':[_0x5168d2],..._0x1e4912};return _0x483025=await this[_0x20dc53(0x546)][_0x20dc53(0x5d2)]['createAndSave'](_0x483025,this[_0x20dc53(0x1d2)]['wuid']),_0x483025;}catch(_0x2b5ebc){throw this[_0x20dc53(0x549)][_0x20dc53(0xe6)](this[_0x20dc53(0x462)]+'\x20('+this[_0x20dc53(0x1d2)]['wuid']+_0x20dc53(0x495)+(_0x2b5ebc instanceof Error?_0x2b5ebc[_0x20dc53(0x46c)]:JSON['stringify'](_0x2b5ebc,null,0x2))),new m('Erro\x20ao\x20criar\x20o\x20fluxo:\x20'+_0x2b5ebc);}}async[a0_0x452e81(0x188)](_0x1a27b8){const _0x44541d=a0_0x452e81;try{return this[_0x44541d(0x549)][_0x44541d(0x601)](this[_0x44541d(0x462)]+'\x20('+this[_0x44541d(0x1d2)][_0x44541d(0x582)]+_0x44541d(0x3c2)),await this[_0x44541d(0x546)][_0x44541d(0x5d2)]['deleteOne']({'where':{'name':_0x1a27b8}},this[_0x44541d(0x1d2)][_0x44541d(0x582)]);}catch(_0x53223d){return this[_0x44541d(0x549)][_0x44541d(0xe6)](this[_0x44541d(0x462)]+'\x20('+this[_0x44541d(0x1d2)][_0x44541d(0x582)]+_0x44541d(0x42a)+(_0x53223d instanceof Error?_0x53223d[_0x44541d(0x46c)]:JSON[_0x44541d(0x1b4)](_0x53223d,null,0x2))),{'message':_0x44541d(0x21f)+_0x53223d};}}async[a0_0x452e81(0x4ca)](_0x7b4fa5){const _0x1c84e3=a0_0x452e81;try{this['logger'][_0x1c84e3(0x601)](this[_0x1c84e3(0x462)]+'\x20('+this[_0x1c84e3(0x1d2)][_0x1c84e3(0x582)]+'):\x20Buscando\x20flow...');let _0x4e45d5=await this[_0x1c84e3(0x546)][_0x1c84e3(0x5d2)][_0x1c84e3(0x6f9)]({'where':{'name':_0x7b4fa5}},this[_0x1c84e3(0x1d2)][_0x1c84e3(0x582)]);if(!_0x4e45d5)throw new Error(_0x1c84e3(0x20d));if(!this[_0x1c84e3(0x26b)]&&(await this[_0x1c84e3(0x47b)](),!this[_0x1c84e3(0x26b)]))return null;let _0x1cdbd1=this['AutomateSystem']?.[_0x1c84e3(0x37e)][_0x1c84e3(0x353)](_0x2b434e=>_0x2b434e[_0x1c84e3(0x396)]),_0x539825=[_0x1c84e3(0x554),'nomecompleto','email',_0x1c84e3(0x692),_0x1c84e3(0x409),_0x1c84e3(0x251),_0x1c84e3(0x301),_0x1c84e3(0x532)];_0x4e45d5[_0x1c84e3(0xc3)]=_0x4e45d5[_0x1c84e3(0xc3)][_0x1c84e3(0x611)](_0x33718c=>!(_0x33718c[_0x1c84e3(0x474)]===_0x1c84e3(0x158)||_0x33718c[_0x1c84e3(0x158)])),_0x539825['forEach'](_0x26c92c=>{const _0x450b57=_0x1c84e3;_0x4e45d5['variables'][_0x450b57(0x58a)]({'folder':'leadInfo','name':_0x26c92c,'value':'','doc':'','leadInfo':!0x0});}),_0x1cdbd1['forEach'](_0x250e4e=>{const _0x317362=_0x1c84e3;let _0x254e9b=_0x4e45d5[_0x317362(0xc3)][_0x317362(0x57c)](_0x4ca759=>_0x4ca759[_0x317362(0x396)]===_0x250e4e);_0x254e9b===-0x1?_0x4e45d5[_0x317362(0xc3)][_0x317362(0x58a)]({'folder':'leadInfo','name':_0x250e4e,'value':'','doc':'','leadInfo':!0x0}):(_0x4e45d5[_0x317362(0xc3)][_0x254e9b][_0x317362(0x474)]=_0x317362(0x158),_0x4e45d5['variables'][_0x254e9b][_0x317362(0x158)]=!0x0);}),_0x4e45d5[_0x1c84e3(0x641)]&&_0x4e45d5[_0x1c84e3(0x641)][_0x1c84e3(0x5c6)]>0x0&&_0x4e45d5['blocks'][_0x1c84e3(0x446)](_0x592f01=>{const _0x2af17f=_0x1c84e3;_0x592f01[_0x2af17f(0x4f8)]&&_0x592f01[_0x2af17f(0x1e5)]&&_0x592f01[_0x2af17f(0x4f8)]===_0x592f01['next_groupId']&&(_0x592f01[_0x2af17f(0x1e5)]=null);});let _0x5a6e14=await this['repository'][_0x1c84e3(0x5d2)][_0x1c84e3(0x4b3)](_0x4e45d5['_id'],_0x4e45d5,this[_0x1c84e3(0x1d2)][_0x1c84e3(0x582)]);if(!_0x5a6e14)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x5a6e14;}catch(_0x5ada46){throw this[_0x1c84e3(0x549)][_0x1c84e3(0xe6)](this[_0x1c84e3(0x462)]+'\x20('+this[_0x1c84e3(0x1d2)][_0x1c84e3(0x582)]+_0x1c84e3(0x379)+(_0x5ada46 instanceof Error?_0x5ada46[_0x1c84e3(0x46c)]:JSON[_0x1c84e3(0x1b4)](_0x5ada46,null,0x2))),new m(_0x1c84e3(0x54b)+_0x5ada46);}}async[a0_0x452e81(0x3da)](){const _0x13367c=a0_0x452e81;try{return this['logger'][_0x13367c(0x601)](this[_0x13367c(0x462)]+'\x20('+this[_0x13367c(0x1d2)]['wuid']+_0x13367c(0x285)),await this['repository'][_0x13367c(0x5d2)][_0x13367c(0x34d)]({'where':{}},this['instance'][_0x13367c(0x582)]);}catch(_0x41caa5){return this[_0x13367c(0x549)][_0x13367c(0xe6)](this['instanceName']+'\x20('+this['instance'][_0x13367c(0x582)]+_0x13367c(0xd1)+(_0x41caa5 instanceof Error?_0x41caa5[_0x13367c(0x46c)]:JSON[_0x13367c(0x1b4)](_0x41caa5,null,0x2))),{'message':_0x13367c(0x260)+_0x41caa5};}}async[a0_0x452e81(0x6af)](_0x52214b){const _0x482933=a0_0x452e81;try{this[_0x482933(0x549)][_0x482933(0x601)](this['instanceName']+'\x20('+this['instance'][_0x482933(0x582)]+_0x482933(0x2aa));let _0x2cd2c8=await this[_0x482933(0x546)][_0x482933(0x5d2)][_0x482933(0x6f9)]({'where':{'name':_0x52214b[_0x482933(0x396)]}},this[_0x482933(0x1d2)][_0x482933(0x582)]);return _0x2cd2c8?(_0x52214b[_0x482933(0x463)]===!0x0&&await this['repository'][_0x482933(0x5d2)][_0x482933(0x1f8)]({},{'default':!0x1},this[_0x482933(0x1d2)][_0x482933(0x582)]),await this['repository'][_0x482933(0x5d2)]['updateOne'](_0x2cd2c8[_0x482933(0x294)],_0x52214b,this[_0x482933(0x1d2)][_0x482933(0x582)])):{'message':_0x482933(0x5e8)};}catch(_0x3d2995){throw this['logger'][_0x482933(0xe6)](this[_0x482933(0x462)]+'\x20('+this[_0x482933(0x1d2)][_0x482933(0x582)]+_0x482933(0x1a3)+(_0x3d2995 instanceof Error?_0x3d2995[_0x482933(0x46c)]:JSON['stringify'](_0x3d2995,null,0x2))),new m('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x3d2995 instanceof Error?_0x3d2995['message']:JSON[_0x482933(0x1b4)](_0x3d2995,null,0x2)));}}async[a0_0x452e81(0x1a9)](_0x4d4a38){const _0x170092=a0_0x452e81;try{this[_0x170092(0x549)]['verbose'](this['instanceName']+'\x20('+this[_0x170092(0x1d2)][_0x170092(0x582)]+_0x170092(0xba));let _0x44f018=await this[_0x170092(0x546)][_0x170092(0x5d2)][_0x170092(0x6f9)]({'where':{'name':_0x4d4a38['name']}},this[_0x170092(0x1d2)]['wuid']);_0x44f018||this['throwAndLogError']('Flow\x20não\x20encontrado');let {block:_0x132d21}=_0x4d4a38;_0x132d21?.[_0x170092(0x46d)]?this[_0x170092(0x424)](_0x44f018,_0x4d4a38):_0x132d21?.[_0x170092(0x470)]?this['deleteBlock'](_0x44f018,_0x4d4a38):_0x132d21[_0x170092(0x294)]?await this[_0x170092(0x6ca)](_0x44f018,_0x4d4a38):this[_0x170092(0x1cd)](_0x44f018,_0x4d4a38);let _0x5882a0=await this[_0x170092(0x546)]['flow'][_0x170092(0x4b3)](_0x44f018[_0x170092(0x294)],_0x44f018,this[_0x170092(0x1d2)]['wuid']);if(!_0x5882a0)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x5882a0;}catch(_0x30e99c){this[_0x170092(0x1ca)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x30e99c);}}async[a0_0x452e81(0x424)](_0x45f118,_0x319cc6){const _0x3c97b9=a0_0x452e81;let _0x4efcd5=_0x319cc6['block'][_0x3c97b9(0x294)],_0x41746c=_0x45f118[_0x3c97b9(0x641)][_0x3c97b9(0x1b8)](_0x5da13e=>_0x5da13e[_0x3c97b9(0x294)][_0x3c97b9(0x52d)]()===_0x4efcd5);if(!_0x41746c){this[_0x3c97b9(0x549)]['error'](this[_0x3c97b9(0x462)]+'\x20('+this[_0x3c97b9(0x1d2)]['wuid']+'):\x20Bloco\x20com\x20ID\x20'+_0x4efcd5+'\x20não\x20encontrado\x20para\x20cópia');return;}this['logger'][_0x3c97b9(0x601)](this[_0x3c97b9(0x462)]+'\x20('+this[_0x3c97b9(0x1d2)][_0x3c97b9(0x582)]+_0x3c97b9(0x15a)+JSON['stringify'](_0x41746c));let _0x442e3a=JSON['parse'](JSON[_0x3c97b9(0x1b4)](_0x41746c));_0x442e3a[_0x3c97b9(0x294)]=new ne[(_0x3c97b9(0x463))]['Types'][(_0x3c97b9(0x5a5))](),this[_0x3c97b9(0x549)]['verbose'](this[_0x3c97b9(0x462)]+'\x20('+this[_0x3c97b9(0x1d2)][_0x3c97b9(0x582)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x3c97b9(0x1b4)](_0x442e3a)),_0x45f118[_0x3c97b9(0x641)][_0x3c97b9(0x58a)](_0x442e3a),this[_0x3c97b9(0x5a8)](_0x45f118[_0x3c97b9(0x641)],_0x442e3a['groupId']);}[a0_0x452e81(0x1ca)](_0x6ebe2a){const _0x31760c=a0_0x452e81;throw this[_0x31760c(0x549)][_0x31760c(0xe6)](this[_0x31760c(0x462)]+'\x20('+this[_0x31760c(0x1d2)][_0x31760c(0x582)]+'):\x20'+_0x6ebe2a),new m(_0x6ebe2a);}[a0_0x452e81(0x62a)](_0x5c9d7b,_0x1b59c1){const _0x5ab60e=a0_0x452e81;let {block:_0x5229b3}=_0x1b59c1;if(_0x5229b3['type']==='start'){this['throwAndLogError'](_0x5ab60e(0x223));return;}if(!_0x5229b3[_0x5ab60e(0x294)]){this[_0x5ab60e(0x1ca)](_0x5ab60e(0xf0));return;}let _0x3bdf4f=_0x5c9d7b[_0x5ab60e(0x641)][_0x5ab60e(0x1b8)](_0x17674e=>_0x17674e[_0x5ab60e(0x294)][_0x5ab60e(0x52d)]()===_0x1b59c1[_0x5ab60e(0x593)][_0x5ab60e(0x294)][_0x5ab60e(0x52d)]());if(!_0x3bdf4f){this[_0x5ab60e(0x1ca)](_0x5ab60e(0x4d8)+_0x5229b3['_id']+_0x5ab60e(0x149));return;}_0x5c9d7b['blocks']=_0x5c9d7b[_0x5ab60e(0x641)][_0x5ab60e(0x611)](_0x25c990=>_0x25c990['_id'][_0x5ab60e(0x52d)]()!==_0x1b59c1[_0x5ab60e(0x593)][_0x5ab60e(0x294)][_0x5ab60e(0x52d)]()),_0x5c9d7b[_0x5ab60e(0xfc)]=_0x5c9d7b[_0x5ab60e(0xfc)][_0x5ab60e(0x611)](_0x431d06=>_0x431d06[_0x5ab60e(0x5d9)]!==_0x5229b3[_0x5ab60e(0x294)][_0x5ab60e(0x52d)]()),_0x5c9d7b[_0x5ab60e(0x417)]=_0x5c9d7b['varedits']['filter'](_0x441139=>_0x441139['blockId']!==_0x5229b3[_0x5ab60e(0x294)][_0x5ab60e(0x52d)]()),_0x5c9d7b[_0x5ab60e(0x6ac)]=_0x5c9d7b['replyOptions']['filter'](_0x4aafa7=>_0x4aafa7[_0x5ab60e(0x5d9)]!==_0x5229b3[_0x5ab60e(0x294)][_0x5ab60e(0x52d)]()),this[_0x5ab60e(0x5a8)](_0x5c9d7b[_0x5ab60e(0x641)],_0x3bdf4f[_0x5ab60e(0x4f8)]);}async[a0_0x452e81(0x6ca)](_0x4a8dc3,_0x35f08f){const _0x3b2137=a0_0x452e81;let _0x284da9=_0x4a8dc3[_0x3b2137(0x641)][_0x3b2137(0x57c)](_0x19a832=>_0x19a832['_id'][_0x3b2137(0x52d)]()===_0x35f08f[_0x3b2137(0x593)][_0x3b2137(0x294)][_0x3b2137(0x52d)]());if(this[_0x3b2137(0x549)][_0x3b2137(0x601)](this[_0x3b2137(0x462)]+'\x20('+this[_0x3b2137(0x1d2)][_0x3b2137(0x582)]+_0x3b2137(0x274)+_0x284da9),_0x284da9===-0x1){this[_0x3b2137(0x549)][_0x3b2137(0x601)](_0x3b2137(0x4d8)+_0x35f08f[_0x3b2137(0x593)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x4a8dc3[_0x3b2137(0x641)][_0x284da9][_0x3b2137(0x64e)]==='start'){let _0x15e01b=Object[_0x3b2137(0x327)](_0x35f08f[_0x3b2137(0x593)]);if(_0x15e01b[_0x3b2137(0x5c6)]>0x2||_0x15e01b[_0x3b2137(0x5c6)]===0x2&&!_0x15e01b[_0x3b2137(0x4f7)](_0x3b2137(0x1e5))){this[_0x3b2137(0x1ca)](_0x3b2137(0x3ff));return;}}let _0x37c336=_0x4a8dc3['blocks'][_0x284da9][_0x3b2137(0x4f8)];for(let _0x1d4565 in _0x35f08f[_0x3b2137(0x593)])_0x35f08f[_0x3b2137(0x593)][_0x3b2137(0x2eb)](_0x1d4565)&&(_0x4a8dc3[_0x3b2137(0x641)][_0x284da9][_0x1d4565]=_0x35f08f[_0x3b2137(0x593)][_0x1d4565]);if(this['logger']['verbose'](this[_0x3b2137(0x462)]+'\x20('+this[_0x3b2137(0x1d2)][_0x3b2137(0x582)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON['stringify'](_0x4a8dc3[_0x3b2137(0x641)][_0x284da9])),_0x4a8dc3[_0x3b2137(0x641)][_0x284da9][_0x3b2137(0x32d)]&&_0x3b2137(0x35a)in _0x4a8dc3[_0x3b2137(0x641)][_0x284da9][_0x3b2137(0x32d)]){this[_0x3b2137(0x549)][_0x3b2137(0x601)](this[_0x3b2137(0x462)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x4f43d6=JSON[_0x3b2137(0x1b4)](_0x4a8dc3[_0x3b2137(0x641)][_0x284da9][_0x3b2137(0x32d)][_0x3b2137(0x35a)],null,0x1);_0x4f43d6[_0x3b2137(0x5c6)]>0x2&&(_0x4f43d6=_0x4f43d6[_0x3b2137(0x368)](0x1,_0x4f43d6[_0x3b2137(0x5c6)]-0x1)[_0x3b2137(0x3f5)]()),_0x4a8dc3['blocks'][_0x284da9][_0x3b2137(0x32d)]['headerString']=_0x4f43d6;}if(_0x4a8dc3[_0x3b2137(0x641)][_0x284da9]['apirequest']&&'body'in _0x4a8dc3['blocks'][_0x284da9][_0x3b2137(0x32d)]){this['logger']['verbose'](this[_0x3b2137(0x462)]+'\x20('+this[_0x3b2137(0x1d2)][_0x3b2137(0x582)]+_0x3b2137(0x2bc));let _0xd4303a=JSON['stringify'](_0x4a8dc3[_0x3b2137(0x641)][_0x284da9]['apirequest'][_0x3b2137(0x6ee)],null,0x1);_0xd4303a[_0x3b2137(0x5c6)]>0x2&&(_0xd4303a=_0xd4303a[_0x3b2137(0x368)](0x1,_0xd4303a['length']-0x1)['trim']()),_0x4a8dc3[_0x3b2137(0x641)][_0x284da9]['apirequest'][_0x3b2137(0x579)]=_0xd4303a;}let _0x54bd3f=_0x4a8dc3['blocks'][_0x284da9][_0x3b2137(0x4f8)];_0x37c336!==_0x54bd3f?(this[_0x3b2137(0x5a8)](_0x4a8dc3['blocks'],_0x37c336),this[_0x3b2137(0x5a8)](_0x4a8dc3['blocks'],_0x54bd3f)):this[_0x3b2137(0x5a8)](_0x4a8dc3[_0x3b2137(0x641)],_0x37c336);}[a0_0x452e81(0x1cd)](_0xa6fc2e,_0xc7f301){const _0x5b58ed=a0_0x452e81;if(_0xc7f301[_0x5b58ed(0x593)][_0x5b58ed(0x64e)]===_0x5b58ed(0x2c4)){this[_0x5b58ed(0x1ca)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0xc7f301[_0x5b58ed(0x593)][_0x5b58ed(0x32d)]&&'header'in _0xc7f301['block'][_0x5b58ed(0x32d)]){this[_0x5b58ed(0x549)][_0x5b58ed(0x601)](this[_0x5b58ed(0x462)]+'\x20('+this['instance'][_0x5b58ed(0x582)]+_0x5b58ed(0x5ba));let _0x48094e=JSON['stringify'](_0xc7f301['block'][_0x5b58ed(0x32d)][_0x5b58ed(0x35a)],null,0x1);_0x48094e[_0x5b58ed(0x5c6)]>0x2&&(_0x48094e=_0x48094e['substring'](0x1,_0x48094e[_0x5b58ed(0x5c6)]-0x1)['trim']()),_0xc7f301[_0x5b58ed(0x593)]['apirequest']['headerString']=_0x48094e;}_0xc7f301[_0x5b58ed(0x593)]['apirequest']&&_0x5b58ed(0x6ee)in _0xc7f301[_0x5b58ed(0x593)][_0x5b58ed(0x32d)]&&(this[_0x5b58ed(0x549)][_0x5b58ed(0x601)](this['instanceName']+'\x20('+this[_0x5b58ed(0x1d2)][_0x5b58ed(0x582)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0xc7f301[_0x5b58ed(0x593)][_0x5b58ed(0x32d)][_0x5b58ed(0x579)]=JSON['stringify'](_0xc7f301[_0x5b58ed(0x593)][_0x5b58ed(0x32d)][_0x5b58ed(0x6ee)],null,0x1)[_0x5b58ed(0x3f5)]()),_0xa6fc2e[_0x5b58ed(0x641)]['push'](_0xc7f301[_0x5b58ed(0x593)]),this[_0x5b58ed(0x5a8)](_0xa6fc2e[_0x5b58ed(0x641)],_0xc7f301[_0x5b58ed(0x593)][_0x5b58ed(0x4f8)]);}[a0_0x452e81(0x5a8)](_0x2ad052,_0x1dc2ee){const _0x31102f=a0_0x452e81;let _0x133ff4=_0x2ad052[_0x31102f(0x611)](_0xef3789=>_0xef3789[_0x31102f(0x4f8)]===_0x1dc2ee);_0x133ff4[_0x31102f(0x198)]((_0x2f3148,_0x3e533d)=>_0x2f3148[_0x31102f(0x5b8)]-_0x3e533d[_0x31102f(0x5b8)]),_0x133ff4[_0x31102f(0x446)]((_0x148a8a,_0x1e5f06)=>_0x148a8a['order']=_0x1e5f06+0x1);}async[a0_0x452e81(0x401)](_0x4d47fe){const _0x280039=a0_0x452e81;try{if(this[_0x280039(0x549)][_0x280039(0x601)](this['instanceName']+'\x20('+this[_0x280039(0x1d2)][_0x280039(0x582)]+'):\x20Editando\x20replyOption...'),!_0x4d47fe||!_0x4d47fe['replyOption']){this[_0x280039(0x1ca)]('Data\x20inválida\x20fornecida');return;}let _0x5670a8=await this['repository'][_0x280039(0x5d2)]['findOne']({'where':{'name':_0x4d47fe[_0x280039(0x396)]}},this[_0x280039(0x1d2)][_0x280039(0x582)]);_0x5670a8||this[_0x280039(0x1ca)](_0x280039(0x20d));let {replyOption:_0x125047}=_0x4d47fe;_0x125047?.[_0x280039(0x470)]?(this[_0x280039(0x670)](_0x5670a8,_0x4d47fe),this['reorderReplyOptions'](_0x5670a8[_0x280039(0x6ac)],_0x4d47fe[_0x280039(0x59e)][_0x280039(0x5d9)])):_0x125047[_0x280039(0x294)]?(await this[_0x280039(0x5c4)](_0x5670a8,_0x4d47fe),this['reorderReplyOptions'](_0x5670a8[_0x280039(0x6ac)],_0x4d47fe[_0x280039(0x59e)][_0x280039(0x5d9)])):(this[_0x280039(0x4a7)](_0x5670a8,_0x4d47fe),this[_0x280039(0x6ab)](_0x5670a8[_0x280039(0x6ac)],_0x4d47fe[_0x280039(0x59e)][_0x280039(0x5d9)]));let _0x491d54=await this[_0x280039(0x546)][_0x280039(0x5d2)][_0x280039(0x4b3)](_0x5670a8[_0x280039(0x294)],_0x5670a8,this[_0x280039(0x1d2)][_0x280039(0x582)]);if(!_0x491d54)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x491d54;}catch(_0x1a4e40){this[_0x280039(0x1ca)](_0x280039(0x1f4)+_0x1a4e40);}}['reorderReplyOptions'](_0x59b4bc,_0x3db0d3){const _0x4a5688=a0_0x452e81;console[_0x4a5688(0x1b7)]('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x3db0d3),_0x59b4bc[_0x4a5688(0x446)](_0x382f74=>{const _0x4912aa=_0x4a5688;_0x382f74[_0x4912aa(0x5d9)]===_0x3db0d3&&_0x382f74[_0x4912aa(0x5b8)]===void 0x0&&(_0x382f74[_0x4912aa(0x5b8)]=0x270f);});let _0x3b14af=_0x59b4bc[_0x4a5688(0x611)](_0xbb885f=>_0xbb885f[_0x4a5688(0x5d9)]===_0x3db0d3);_0x3b14af[_0x4a5688(0x198)]((_0x9814bc,_0x781a28)=>_0x9814bc[_0x4a5688(0x5b8)]-_0x781a28[_0x4a5688(0x5b8)]),_0x3b14af[_0x4a5688(0x446)]((_0xc3517c,_0x156029)=>{_0xc3517c['order']=_0x156029+0x1;}),_0x59b4bc[_0x4a5688(0x446)](_0xdf4dca=>{const _0x3050c7=_0x4a5688;if(_0xdf4dca[_0x3050c7(0x5d9)]===_0x3db0d3){let _0x20d1cc=_0x3b14af['find'](_0x1cd0df=>_0x1cd0df[_0x3050c7(0x294)][_0x3050c7(0x52d)]()===_0xdf4dca[_0x3050c7(0x294)][_0x3050c7(0x52d)]());_0x20d1cc&&(_0xdf4dca['order']=_0x20d1cc[_0x3050c7(0x5b8)]);}}),console[_0x4a5688(0x1b7)]('ReplyOptions\x20finais\x20após\x20reordenação:',_0x59b4bc);}[a0_0x452e81(0x670)](_0x42cfcc,_0x3026e7){const _0x20bd11=a0_0x452e81;let {replyOption:_0x47b046}=_0x3026e7;if(!_0x47b046['_id']){this[_0x20bd11(0x1ca)](_0x20bd11(0x144));return;}if(!_0x42cfcc[_0x20bd11(0x6ac)][_0x20bd11(0x1b8)](_0x10bf00=>_0x10bf00['_id'][_0x20bd11(0x52d)]()===_0x3026e7[_0x20bd11(0x59e)][_0x20bd11(0x294)]['toString']())){this['throwAndLogError'](_0x20bd11(0x4a4)+_0x47b046[_0x20bd11(0x294)]+_0x20bd11(0x149));return;}_0x42cfcc[_0x20bd11(0x6ac)]=_0x42cfcc[_0x20bd11(0x6ac)][_0x20bd11(0x611)](_0x3de678=>_0x3de678[_0x20bd11(0x294)][_0x20bd11(0x52d)]()!==_0x3026e7['replyOption'][_0x20bd11(0x294)]['toString']());}async[a0_0x452e81(0x5c4)](_0x259d35,_0x259986){const _0x4f23d3=a0_0x452e81;let _0x3e6a8f=_0x259d35[_0x4f23d3(0x6ac)][_0x4f23d3(0x57c)](_0xe2db9a=>_0xe2db9a['_id'][_0x4f23d3(0x52d)]()===_0x259986[_0x4f23d3(0x59e)][_0x4f23d3(0x294)][_0x4f23d3(0x52d)]());if(_0x3e6a8f===-0x1){this['throwAndLogError'](_0x4f23d3(0x4a4)+_0x259986[_0x4f23d3(0x59e)]['_id']+_0x4f23d3(0x56b));return;}for(let _0x52a270 in _0x259986[_0x4f23d3(0x59e)])_0x259986[_0x4f23d3(0x59e)][_0x4f23d3(0x2eb)](_0x52a270)&&(_0x259d35[_0x4f23d3(0x6ac)][_0x3e6a8f][_0x52a270]=_0x259986[_0x4f23d3(0x59e)][_0x52a270]);}[a0_0x452e81(0x4a7)](_0x1a9f0d,_0x14b858){const _0x5937a4=a0_0x452e81;_0x1a9f0d['replyOptions'][_0x5937a4(0x58a)](_0x14b858[_0x5937a4(0x59e)]);}async[a0_0x452e81(0xb8)](_0x4917cd){const _0xb45b3c=a0_0x452e81;this['logger'][_0xb45b3c(0x601)](this[_0xb45b3c(0x462)]+'\x20('+this[_0xb45b3c(0x1d2)]['wuid']+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x4917cd);try{this['logger'][_0xb45b3c(0x601)](this['instanceName']+'\x20('+this['instance'][_0xb45b3c(0x582)]+_0xb45b3c(0x1e4));let _0x31058d=await this[_0xb45b3c(0x546)][_0xb45b3c(0x5d2)]['findOne']({'where':{'name':_0x4917cd[_0xb45b3c(0x396)]}},this[_0xb45b3c(0x1d2)][_0xb45b3c(0x582)]);if(!_0x31058d)throw new Error(_0xb45b3c(0x20d));if(_0x4917cd[_0xb45b3c(0x311)]&&_0x4917cd[_0xb45b3c(0x311)]?.['delete']===!0x0){if(this[_0xb45b3c(0x549)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0xb45b3c(0x582)]+_0xb45b3c(0x1b5)),_0x4917cd[_0xb45b3c(0x311)][_0xb45b3c(0x463)]===!0x0)return{'message':_0xb45b3c(0x25a)};if(_0x31058d['blocks'][_0xb45b3c(0x63a)](_0x10a4ae=>_0x10a4ae[_0xb45b3c(0x4f8)][_0xb45b3c(0x52d)]()===_0x4917cd[_0xb45b3c(0x311)][_0xb45b3c(0x294)]))return this['logger'][_0xb45b3c(0x601)](this[_0xb45b3c(0x462)]+'\x20('+this['instance']['wuid']+'):\x20tem\x20blocks'),{'message':_0xb45b3c(0x510)};_0x31058d['groups']=_0x31058d['groups'][_0xb45b3c(0x611)](_0x2bae07=>_0x2bae07['_id'][_0xb45b3c(0x52d)]()!==_0x4917cd[_0xb45b3c(0x311)][_0xb45b3c(0x294)]);}else{if(_0x4917cd[_0xb45b3c(0x311)]){if(_0x4917cd['group']['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x4917cd[_0xb45b3c(0x311)][_0xb45b3c(0x294)]){let _0x56e97e=_0x31058d[_0xb45b3c(0x341)][_0xb45b3c(0x1b8)](_0x2acde2=>_0x2acde2[_0xb45b3c(0x294)][_0xb45b3c(0x52d)]()===_0x4917cd[_0xb45b3c(0x311)][_0xb45b3c(0x294)]);_0x56e97e&&(_0x4917cd[_0xb45b3c(0x311)]['x']<0x0&&(_0x4917cd[_0xb45b3c(0x311)]['x']=0x0),_0x4917cd[_0xb45b3c(0x311)]['y']<0x0&&(_0x4917cd[_0xb45b3c(0x311)]['y']=0x0),Object[_0xb45b3c(0x14c)](_0x56e97e,_0x4917cd[_0xb45b3c(0x311)]));}else _0x31058d[_0xb45b3c(0x341)][_0xb45b3c(0x58a)](_0x4917cd[_0xb45b3c(0x311)]);}}let _0x2c7c72=await this[_0xb45b3c(0x546)]['flow'][_0xb45b3c(0x4b3)](_0x31058d[_0xb45b3c(0x294)],_0x31058d,this[_0xb45b3c(0x1d2)][_0xb45b3c(0x582)]);if(!_0x2c7c72)throw new Error(_0xb45b3c(0x166));return _0x2c7c72;}catch(_0x14c7b2){throw this[_0xb45b3c(0x549)][_0xb45b3c(0xe6)](this['instanceName']+'\x20('+this['instance'][_0xb45b3c(0x582)]+_0xb45b3c(0x5e6)+(_0x14c7b2 instanceof Error?_0x14c7b2[_0xb45b3c(0x46c)]:JSON['stringify'](_0x14c7b2,null,0x2))),new m('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x14c7b2 instanceof Error?_0x14c7b2[_0xb45b3c(0x46c)]:JSON['stringify'](_0x14c7b2,null,0x2)));}}async[a0_0x452e81(0x26d)](_0x195f71){const _0x103d7f=a0_0x452e81;try{this[_0x103d7f(0x549)][_0x103d7f(0x601)](this[_0x103d7f(0x462)]+'\x20('+this[_0x103d7f(0x1d2)][_0x103d7f(0x582)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x5a7411=await this[_0x103d7f(0x546)][_0x103d7f(0x5d2)][_0x103d7f(0x6f9)]({'where':{'name':_0x195f71['name']}},this[_0x103d7f(0x1d2)][_0x103d7f(0x582)]);if(!_0x5a7411)throw new Error('Flow\x20não\x20encontrado');let _0x16d39d=!0x1;if(_0x195f71[_0x103d7f(0x2cc)]?.[_0x103d7f(0x470)]===!0x0)_0x5a7411[_0x103d7f(0xfc)]=_0x5a7411[_0x103d7f(0xfc)][_0x103d7f(0x611)](_0x2b2af3=>_0x2b2af3&&_0x195f71[_0x103d7f(0x2cc)]&&_0x2b2af3[_0x103d7f(0x294)]&&_0x195f71[_0x103d7f(0x2cc)]['_id']&&_0x2b2af3[_0x103d7f(0x294)][_0x103d7f(0x52d)]()!==_0x195f71[_0x103d7f(0x2cc)][_0x103d7f(0x294)][_0x103d7f(0x52d)]()),_0x16d39d=!0x0;else{let _0x3cea05=_0x5a7411[_0x103d7f(0xfc)][_0x103d7f(0x1b8)](_0x5b374c=>_0x5b374c&&_0x195f71[_0x103d7f(0x2cc)]&&_0x5b374c[_0x103d7f(0x294)]&&_0x195f71[_0x103d7f(0x2cc)]['_id']&&_0x5b374c[_0x103d7f(0x294)][_0x103d7f(0x52d)]()===_0x195f71[_0x103d7f(0x2cc)][_0x103d7f(0x294)][_0x103d7f(0x52d)]());_0x3cea05?(_0x16d39d=_0x3cea05[_0x103d7f(0x5b8)]!==_0x195f71[_0x103d7f(0x2cc)][_0x103d7f(0x5b8)],Object[_0x103d7f(0x14c)](_0x3cea05,_0x195f71[_0x103d7f(0x2cc)])):(_0x5a7411['conditions'][_0x103d7f(0x58a)](_0x195f71[_0x103d7f(0x2cc)]),_0x16d39d=!0x0);}if(_0x16d39d){_0x5a7411[_0x103d7f(0xfc)][_0x103d7f(0x198)]((_0x21d607,_0x5a7607)=>_0x21d607[_0x103d7f(0x5b8)]>_0x5a7607['order']?0x1:_0x5a7607[_0x103d7f(0x5b8)]>_0x21d607[_0x103d7f(0x5b8)]?-0x1:0x0);for(let _0x78c183=0x0;_0x78c183<_0x5a7411[_0x103d7f(0xfc)]['length'];_0x78c183++)_0x5a7411['conditions'][_0x78c183][_0x103d7f(0x5b8)]=_0x78c183+0x1;_0x5a7411['conditions']['length']>0x0&&(_0x5a7411['conditions'][0x0][_0x103d7f(0x309)]='and');}let _0x59b579=await this['repository'][_0x103d7f(0x5d2)]['updateOne'](_0x5a7411[_0x103d7f(0x294)],_0x5a7411,this['instance'][_0x103d7f(0x582)]);if(!_0x59b579)throw new Error(_0x103d7f(0x166));return _0x59b579;}catch(_0x3c48e1){throw this[_0x103d7f(0x549)][_0x103d7f(0xe6)](this[_0x103d7f(0x462)]+'\x20('+this[_0x103d7f(0x1d2)][_0x103d7f(0x582)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x3c48e1 instanceof Error?_0x3c48e1[_0x103d7f(0x46c)]:JSON[_0x103d7f(0x1b4)](_0x3c48e1,null,0x2))),new Error(_0x103d7f(0x636)+(_0x3c48e1 instanceof Error?_0x3c48e1[_0x103d7f(0x46c)]:JSON[_0x103d7f(0x1b4)](_0x3c48e1,null,0x2)));}}async[a0_0x452e81(0x2f2)](_0x47b42d){const _0x34f8c3=a0_0x452e81;try{this[_0x34f8c3(0x549)]['verbose'](this[_0x34f8c3(0x462)]+'\x20('+this['instance'][_0x34f8c3(0x582)]+_0x34f8c3(0x358));let _0x167e8e=await this[_0x34f8c3(0x546)][_0x34f8c3(0x5d2)][_0x34f8c3(0x6f9)]({'where':{'name':_0x47b42d[_0x34f8c3(0x396)]}},this[_0x34f8c3(0x1d2)][_0x34f8c3(0x582)]);if(!_0x167e8e)throw new Error('Flow\x20não\x20encontrado');let _0x32c532=!0x1;if(_0x47b42d[_0x34f8c3(0x523)]?.[_0x34f8c3(0x470)]===!0x0)_0x167e8e[_0x34f8c3(0x417)]=_0x167e8e[_0x34f8c3(0x417)][_0x34f8c3(0x611)](_0x16d2fc=>_0x16d2fc&&_0x47b42d['varedit']&&_0x16d2fc[_0x34f8c3(0x294)]&&_0x47b42d['varedit'][_0x34f8c3(0x294)]&&_0x16d2fc[_0x34f8c3(0x294)][_0x34f8c3(0x52d)]()!==_0x47b42d[_0x34f8c3(0x523)][_0x34f8c3(0x294)][_0x34f8c3(0x52d)]()),_0x32c532=!0x0;else{let _0x3b8f87=_0x167e8e[_0x34f8c3(0x417)][_0x34f8c3(0x1b8)](_0x777132=>_0x777132&&_0x47b42d['varedit']&&_0x777132[_0x34f8c3(0x294)]&&_0x47b42d[_0x34f8c3(0x523)]['_id']&&_0x777132['_id'][_0x34f8c3(0x52d)]()===_0x47b42d[_0x34f8c3(0x523)]['_id'][_0x34f8c3(0x52d)]());_0x3b8f87?(_0x32c532=_0x3b8f87[_0x34f8c3(0x5b8)]!==_0x47b42d[_0x34f8c3(0x523)][_0x34f8c3(0x5b8)],Object[_0x34f8c3(0x14c)](_0x3b8f87,_0x47b42d[_0x34f8c3(0x523)])):(_0x167e8e['varedits'][_0x34f8c3(0x58a)](_0x47b42d[_0x34f8c3(0x523)]),_0x32c532=!0x0);}if(_0x32c532){_0x167e8e[_0x34f8c3(0x417)][_0x34f8c3(0x198)]((_0x3c1719,_0x47a279)=>_0x3c1719[_0x34f8c3(0x5b8)]>_0x47a279[_0x34f8c3(0x5b8)]?0x1:_0x47a279['order']>_0x3c1719[_0x34f8c3(0x5b8)]?-0x1:0x0);for(let _0x669a41=0x0;_0x669a41<_0x167e8e[_0x34f8c3(0x417)][_0x34f8c3(0x5c6)];_0x669a41++)_0x167e8e[_0x34f8c3(0x417)][_0x669a41][_0x34f8c3(0x5b8)]=_0x669a41+0x1;}let _0x3b6981=await this[_0x34f8c3(0x546)][_0x34f8c3(0x5d2)]['updateOne'](_0x167e8e[_0x34f8c3(0x294)],_0x167e8e,this[_0x34f8c3(0x1d2)][_0x34f8c3(0x582)]);if(!_0x3b6981)throw new Error(_0x34f8c3(0x166));return _0x3b6981;}catch(_0x49f192){throw this[_0x34f8c3(0x549)][_0x34f8c3(0xe6)](this['instanceName']+'\x20('+this['instance'][_0x34f8c3(0x582)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x49f192 instanceof Error?_0x49f192['message']:JSON[_0x34f8c3(0x1b4)](_0x49f192,null,0x2))),new m(_0x34f8c3(0x636)+(_0x49f192 instanceof Error?_0x49f192['message']:JSON[_0x34f8c3(0x1b4)](_0x49f192,null,0x2)));}}async[a0_0x452e81(0x388)](_0x2ddbe6){const _0x94220a=a0_0x452e81;try{this[_0x94220a(0x549)][_0x94220a(0x601)](this[_0x94220a(0x462)]+'\x20('+this[_0x94220a(0x1d2)]['wuid']+_0x94220a(0x3d7));let _0x47c13b=await this[_0x94220a(0x546)][_0x94220a(0x5d2)][_0x94220a(0x6f9)]({'where':{'name':_0x2ddbe6[_0x94220a(0x396)]}},this[_0x94220a(0x1d2)][_0x94220a(0x582)]);if(!_0x47c13b)throw new Error('Flow\x20não\x20encontrado');_0x2ddbe6[_0x94220a(0x354)][_0x94220a(0x396)]=_0x2ddbe6[_0x94220a(0x354)][_0x94220a(0x396)][_0x94220a(0x3f5)](),_0x2ddbe6[_0x94220a(0x354)][_0x94220a(0x396)][_0x94220a(0x5f4)]('_')&&(_0x2ddbe6['variable'][_0x94220a(0x396)]=_0x2ddbe6[_0x94220a(0x354)]['name'][_0x94220a(0x368)](0x1)),_0x2ddbe6['variable'][_0x94220a(0x396)]=_0x2ddbe6['variable']['name'][_0x94220a(0x3f5)]();let _0x257c05=_0x47c13b[_0x94220a(0xc3)]['find'](_0x4ceebc=>_0x4ceebc[_0x94220a(0x396)]===_0x2ddbe6[_0x94220a(0x354)][_0x94220a(0x396)]);if(_0x257c05?.[_0x94220a(0x158)]===!0x0)throw new Error(_0x94220a(0x548));if(_0x2ddbe6[_0x94220a(0x354)]?.['delete']===!0x0){if(!_0x257c05)return{'message':_0x94220a(0x1e3)};_0x47c13b[_0x94220a(0xc3)]=_0x47c13b[_0x94220a(0xc3)][_0x94220a(0x611)](_0x25aba5=>_0x25aba5[_0x94220a(0x396)]!==_0x2ddbe6[_0x94220a(0x354)][_0x94220a(0x396)]);}else _0x257c05?Object[_0x94220a(0x14c)](_0x257c05,_0x2ddbe6['variable']):_0x47c13b[_0x94220a(0xc3)][_0x94220a(0x58a)](_0x2ddbe6[_0x94220a(0x354)]);let _0x120076=await this[_0x94220a(0x546)][_0x94220a(0x5d2)]['updateOne'](_0x47c13b['_id'],_0x47c13b,this['instance']['wuid']);if(!_0x120076)throw new Error(_0x94220a(0x166));return _0x120076;}catch(_0x562e97){throw this[_0x94220a(0x549)][_0x94220a(0xe6)](this[_0x94220a(0x462)]+'\x20('+this[_0x94220a(0x1d2)]['wuid']+_0x94220a(0x39d)+(_0x562e97 instanceof Error?_0x562e97['message']:JSON['stringify'](_0x562e97,null,0x2))),new m(_0x94220a(0x33a)+(_0x562e97 instanceof Error?_0x562e97[_0x94220a(0x46c)]:JSON[_0x94220a(0x1b4)](_0x562e97,null,0x2)));}}async[a0_0x452e81(0x64b)](_0xc243f2){const _0x19406d=a0_0x452e81;let _0x18ad16=null;try{if(!this[_0x19406d(0x26b)]?.[_0x19406d(0x65d)][_0x19406d(0x37a)])throw new m(_0x19406d(0x2c8));this[_0x19406d(0x549)]['verbose'](this[_0x19406d(0x462)]+'\x20('+this[_0x19406d(0x1d2)][_0x19406d(0x582)]+'):\x20Iniciando\x20bot...');let _0x478f87=(await this[_0x19406d(0x321)]({'numbers':[_0xc243f2[_0x19406d(0x5e3)]]}))[0x0];if(!_0x478f87[_0x19406d(0x1a5)]&&!(0x0,y[_0x19406d(0x3f8)])(_0x478f87[_0x19406d(0x376)])&&!_0x478f87[_0x19406d(0x376)][_0x19406d(0x4f7)](_0x19406d(0x1cb)))throw _0x18ad16=JSON[_0x19406d(0x1b4)](_0x478f87,null,0x2),new m(_0x478f87);let _0x594491=await this[_0x19406d(0x546)]['flow'][_0x19406d(0x6f9)]({'where':{'name':_0xc243f2['name']}},this[_0x19406d(0x1d2)][_0x19406d(0x582)]);if(!_0x594491)return this['logger']['error'](this[_0x19406d(0x462)]+'\x20('+this[_0x19406d(0x1d2)]['wuid']+_0x19406d(0x3c3)),{'message':_0x19406d(0x20d)};let _0x14c6f2=await this[_0x19406d(0x175)](_0x594491,_0x478f87[_0x19406d(0x376)],_0xc243f2[_0x19406d(0x2ec)]);if(_0x14c6f2){this[_0x19406d(0x549)][_0x19406d(0x601)](this[_0x19406d(0x462)]+'\x20('+this['instance'][_0x19406d(0x582)]+_0x19406d(0x3e4));let _0x15d09e=await this['NextBlock'](_0x14c6f2);return _0x15d09e&&await this[_0x19406d(0x370)](_0x14c6f2,_0x15d09e),{'message':'Flow\x20iniciado\x20com\x20'+_0xc243f2[_0x19406d(0x5e3)]};}}catch(_0x24f30b){if(this['logger'][_0x19406d(0xe6)](this[_0x19406d(0x462)]+'\x20('+this[_0x19406d(0x1d2)][_0x19406d(0x582)]+_0x19406d(0x422)+(_0x24f30b instanceof Error?_0x24f30b[_0x19406d(0x46c)]:JSON[_0x19406d(0x1b4)](_0x24f30b,null,0x2))),_0x18ad16=_0x24f30b instanceof Error?_0x24f30b[_0x19406d(0x46c)]:JSON[_0x19406d(0x1b4)](_0x24f30b,null,0x2),_0x18ad16)throw new m(_0x19406d(0x318)+_0x18ad16);}}async[a0_0x452e81(0x5cf)](_0x92d46d){const _0x293eb2=a0_0x452e81;try{let _0xe560f3={'remoteJid':_0x92d46d,'status':_0x293eb2(0x2c7)},_0x3c89c9={'status':_0x293eb2(0x626)},_0x2720e9=await this[_0x293eb2(0x546)]['flowConversation'][_0x293eb2(0x1f8)](_0xe560f3,_0x3c89c9,this[_0x293eb2(0x1d2)]['wuid']);return this[_0x293eb2(0x549)][_0x293eb2(0x601)](this[_0x293eb2(0x462)]+'\x20('+this['instance'][_0x293eb2(0x582)]+_0x293eb2(0x4f0)),_0x2720e9;}catch(_0x456405){throw this[_0x293eb2(0x549)][_0x293eb2(0xe6)](this[_0x293eb2(0x462)]+'\x20('+this[_0x293eb2(0x1d2)]['wuid']+_0x293eb2(0x5c0)+_0x456405[_0x293eb2(0x46c)]),_0x456405;}}async[a0_0x452e81(0x175)](_0x207dbc,_0x28dbb7,_0x11e348){const _0x3500d8=a0_0x452e81;this[_0x3500d8(0x549)]['verbose'](this['instanceName']+'\x20('+this[_0x3500d8(0x1d2)][_0x3500d8(0x582)]+_0x3500d8(0xd6)),await this['closeExistingConversations'](_0x28dbb7);try{let _0x468801=require(_0x3500d8(0x53f))[_0x3500d8(0x5a5)],_0x1f8ca3=Date['now'](),_0x118adf=_0x3500d8(0x2c4),_0x3f71c3={},_0x28da78={},_0x383609={..._0x207dbc,'chatLog':null},_0x5b393e=await this[_0x3500d8(0x577)](_0x383609[_0x3500d8(0xc3)]),_0x3bdd92=await this[_0x3500d8(0x58f)](_0x28dbb7),_0x532593={..._0x5b393e,..._0x3bdd92,'_remoteJid':_0x28dbb7},_0x17d6eb={'lastReceivedMessage':_0x3f71c3,'lastSendMessage':_0x28da78,'lastBlockId':_0x118adf,'lastCondition':!0x0,'realVariables':_0x532593};_0x383609['chatLog']=_0x17d6eb,_0x383609[_0x3500d8(0x257)][_0x3500d8(0x281)]={..._0x532593,..._0x11e348},delete _0x383609[_0x3500d8(0x294)],_0x383609[_0x3500d8(0x294)]=new _0x468801(),_0x383609[_0x3500d8(0x5ec)]=_0x1f8ca3,_0x383609[_0x3500d8(0x409)]=_0x3500d8(0x2c7),_0x383609[_0x3500d8(0x5e3)]=_0x28dbb7;let _0x367abc=await this[_0x3500d8(0x546)]['flowConversation'][_0x3500d8(0x4b3)](_0x383609[_0x3500d8(0x294)],_0x383609,this[_0x3500d8(0x1d2)]['wuid']);return this[_0x3500d8(0x549)][_0x3500d8(0x601)](this[_0x3500d8(0x462)]+'\x20('+this[_0x3500d8(0x1d2)]['wuid']+_0x3500d8(0x642)),_0x367abc?_0x383609:null;}catch(_0x42b266){throw this['logger'][_0x3500d8(0xe6)](this['instanceName']+'\x20('+this[_0x3500d8(0x1d2)][_0x3500d8(0x582)]+_0x3500d8(0xc7)+(_0x42b266 instanceof Error?_0x42b266['message']:JSON['stringify'](_0x42b266,null,0x2))),new m(_0x42b266[_0x3500d8(0x46c)]);}}async[a0_0x452e81(0x4ef)](_0x580ced){const _0xbb8df2=a0_0x452e81;try{this[_0xbb8df2(0x549)][_0xbb8df2(0x601)](this[_0xbb8df2(0x462)]+'\x20('+this[_0xbb8df2(0x1d2)]['wuid']+_0xbb8df2(0x1f6)),this[_0xbb8df2(0x549)]['verbose'](this['instanceName']+'\x20('+this[_0xbb8df2(0x1d2)][_0xbb8df2(0x582)]+_0xbb8df2(0x256)+_0x580ced);let _0x2d414e={'where':{'_id':_0x580ced}};return await this[_0xbb8df2(0x546)]['flowConversation'][_0xbb8df2(0x6f9)](_0x2d414e,this[_0xbb8df2(0x1d2)][_0xbb8df2(0x582)]);}catch(_0x1b12cc){throw this[_0xbb8df2(0x549)][_0xbb8df2(0xe6)](this[_0xbb8df2(0x462)]+'\x20('+this[_0xbb8df2(0x1d2)]['wuid']+_0xbb8df2(0x435)+(_0x1b12cc instanceof Error?_0x1b12cc[_0xbb8df2(0x46c)]:JSON[_0xbb8df2(0x1b4)](_0x1b12cc,null,0x2))),new m(_0xbb8df2(0x1cc)+_0x1b12cc[_0xbb8df2(0x46c)]);}}async['fetchConversation'](_0x49711b){const _0x45d974=a0_0x452e81;try{return this[_0x45d974(0x549)][_0x45d974(0x601)](this[_0x45d974(0x462)]+'\x20('+this[_0x45d974(0x1d2)]['wuid']+_0x45d974(0x6f8)),await this[_0x45d974(0x546)][_0x45d974(0x3e9)][_0x45d974(0x1b8)](_0x49711b,this[_0x45d974(0x1d2)][_0x45d974(0x582)]);}catch(_0x38c318){throw this['logger'][_0x45d974(0xe6)](this[_0x45d974(0x462)]+'\x20('+this[_0x45d974(0x1d2)]['wuid']+_0x45d974(0x1c9)+(_0x38c318 instanceof Error?_0x38c318['message']:JSON[_0x45d974(0x1b4)](_0x38c318,null,0x2))),new m(_0x45d974(0x6ba)+_0x38c318['message']);}}async[a0_0x452e81(0x2a8)](_0x2c98ee){const _0x5087a4=a0_0x452e81;try{return this['logger'][_0x5087a4(0x601)](this[_0x5087a4(0x462)]+'\x20('+this['instance']['wuid']+_0x5087a4(0x1db)),this['logger']['verbose'](this[_0x5087a4(0x462)]+'\x20('+this[_0x5087a4(0x1d2)]['wuid']+_0x5087a4(0x2f0)+_0x2c98ee),(await this[_0x5087a4(0x546)][_0x5087a4(0x3e9)][_0x5087a4(0x2e0)]({'where':{'_id':_0x2c98ee}},this['instance'][_0x5087a4(0x582)]))[_0x5087a4(0x269)]===0x0?{'message':_0x5087a4(0x184)}:{'message':_0x5087a4(0xe9)};}catch(_0xd066c2){throw this[_0x5087a4(0x549)][_0x5087a4(0xe6)](this[_0x5087a4(0x462)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0xd066c2 instanceof Error?_0xd066c2['message']:JSON[_0x5087a4(0x1b4)](_0xd066c2,null,0x2))),new m(_0x5087a4(0x2a6)+_0xd066c2['message']);}}async[a0_0x452e81(0x5f0)](_0x4ecf97){const _0x58f3e8=a0_0x452e81;try{let {_id:_0x244f0a,chatLog:_0x413a16,status:_0x5b7a98}=_0x4ecf97;if(!_0x244f0a)return{'message':_0x58f3e8(0x5d0)};let _0x48e2e7={};if(_0x5b7a98!==void 0x0&&(_0x48e2e7[_0x58f3e8(0x409)]=_0x5b7a98),Object[_0x58f3e8(0x327)](_0x48e2e7)[_0x58f3e8(0x5c6)]===0x0)return{'message':_0x58f3e8(0x574)};let _0x1ae3b3=await this['repository'][_0x58f3e8(0x3e9)]['updateOne'](_0x244f0a,_0x48e2e7,this[_0x58f3e8(0x1d2)][_0x58f3e8(0x582)]);return _0x1ae3b3||{'message':_0x58f3e8(0x6e4)};}catch(_0x2edfd7){throw this[_0x58f3e8(0x549)]['error'](this[_0x58f3e8(0x462)]+'\x20('+this['instance'][_0x58f3e8(0x582)]+_0x58f3e8(0x136)+(_0x2edfd7 instanceof Error?_0x2edfd7[_0x58f3e8(0x46c)]:JSON[_0x58f3e8(0x1b4)](_0x2edfd7,null,0x2))),new m(_0x58f3e8(0x402)+_0x2edfd7[_0x58f3e8(0x46c)]);}}async[a0_0x452e81(0x2ee)](_0x388ce6){const _0x59ff77=a0_0x452e81;try{_0x388ce6[_0x59ff77(0x294)]=this[_0x59ff77(0x116)](_0x388ce6[_0x59ff77(0x294)]);let {_id:_0xbf6b9a,leadInfo:_0x1701c2}=_0x388ce6;if(!_0xbf6b9a)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');let _0x378088=(_0x4fa123,_0x4548ea,_0x2c5d7d)=>{const _0x2a49b5=_0x59ff77;_0x2c5d7d[_0x2a49b5(0x446)](_0x59c337=>{const _0x108857=_0x2a49b5;_0x4fa123[_0x59c337]!==void 0x0&&(_0x4548ea[_0x108857(0x150)+_0x59c337]=_0x4fa123[_0x59c337]);});},_0x10a814={};if(_0x378088(_0x1701c2,_0x10a814,[_0x59ff77(0x554),_0x59ff77(0x502),'email','cpf','status',_0x59ff77(0x251),_0x59ff77(0x532),_0x59ff77(0x2f1),'responsavelid']),Array[_0x59ff77(0x709)](_0x1701c2['customFields'])&&(_0x10a814[_0x59ff77(0x525)]=_0x1701c2[_0x59ff77(0x37e)][_0x59ff77(0x353)](_0xe9d2c0=>({'_id':_0xe9d2c0[_0x59ff77(0x294)],'value':_0xe9d2c0[_0x59ff77(0x1c4)]}))),_0x388ce6['leadInfo']['desativadoFluxoAte']!==void 0x0&&(_0x10a814[_0x59ff77(0x5c3)]=Number(_0x388ce6[_0x59ff77(0x158)][_0x59ff77(0x5e5)])),_0x388ce6[_0x59ff77(0x3fb)]!==void 0x0&&(_0x10a814[_0x59ff77(0x3fb)]=Number(_0x388ce6[_0x59ff77(0x3fb)])),Object[_0x59ff77(0x327)](_0x10a814)[_0x59ff77(0x5c6)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x6623=await this[_0x59ff77(0x546)][_0x59ff77(0x182)][_0x59ff77(0x6f9)]({'where':{'_id':_0x388ce6[_0x59ff77(0x294)]}},this[_0x59ff77(0x1d2)]['wuid']);if(!_0x6623){let _0x2780fe=(await this[_0x59ff77(0x321)]({'numbers':[_0x388ce6[_0x59ff77(0x294)]]}))[0x0];if(!_0x2780fe[_0x59ff77(0x1a5)]&&!(0x0,y['isJidGroup'])(_0x2780fe[_0x59ff77(0x376)])&&!_0x2780fe[_0x59ff77(0x376)]['includes'](_0x59ff77(0x1cb)))throw new m(_0x2780fe);_0x388ce6[_0x59ff77(0x294)]=_0x2780fe[_0x59ff77(0x376)];}if(_0x388ce6[_0x59ff77(0x428)]!==void 0x0){let _0x3e647c=await this['repository'][_0x59ff77(0x461)]['find']({'where':{}},this['instance'][_0x59ff77(0x582)]),_0x172eb9=new Set(_0x6623[_0x59ff77(0x428)]||[]),_0x36da25=new Set(_0x388ce6[_0x59ff77(0x428)]),_0x3827d8=new Set(_0x3e647c['map'](_0x1982c1=>_0x1982c1['_id'])),_0x115183=[..._0x36da25][_0x59ff77(0x611)](_0x2fe596=>!_0x172eb9[_0x59ff77(0x12e)](_0x2fe596)&&_0x3827d8[_0x59ff77(0x12e)](_0x2fe596)),_0x4ec133=[..._0x172eb9][_0x59ff77(0x611)](_0x283c79=>!_0x36da25['has'](_0x283c79));for(let _0x9e5ee1 of _0x115183)await this['AddChatLabel'](_0x9e5ee1,_0x388ce6[_0x59ff77(0x294)]),_0x172eb9[_0x59ff77(0x313)](_0x9e5ee1);for(let _0x28bb60 of _0x4ec133)await this[_0x59ff77(0x254)](_0x28bb60,_0x388ce6[_0x59ff77(0x294)]),_0x172eb9[_0x59ff77(0x470)](_0x28bb60);_0x10a814[_0x59ff77(0x428)]=[..._0x172eb9];}let _0x186372=await this['repository']['chat'][_0x59ff77(0x4b3)]({'where':{'_id':_0x388ce6['_id']}},_0x10a814,this['instance'][_0x59ff77(0x582)]);return _0x186372&&q(this[_0x59ff77(0x462)],_0x59ff77(0x571),{'chat':_0x186372}),_0x186372?(this[_0x59ff77(0x549)]['verbose'](this[_0x59ff77(0x462)]+'\x20('+this[_0x59ff77(0x1d2)]['wuid']+'):\x20'+JSON[_0x59ff77(0x1b4)](_0x186372,null,0x2)),_0x186372):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x2d2f06){throw this[_0x59ff77(0x549)]['error'](this[_0x59ff77(0x462)]+'\x20('+this[_0x59ff77(0x1d2)]['wuid']+_0x59ff77(0x236)+(_0x2d2f06 instanceof Error?_0x2d2f06[_0x59ff77(0x46c)]:JSON[_0x59ff77(0x1b4)](_0x2d2f06,null,0x2))),new m(_0x59ff77(0x169)+_0x2d2f06[_0x59ff77(0x46c)]);}}async[a0_0x452e81(0x6d4)](_0x4ed707,_0x22f1ef){const _0xf854cc=a0_0x452e81;try{await this['client'][_0xf854cc(0x4c1)](_0x22f1ef,_0x4ed707),console['log'](_0xf854cc(0x31e)+_0x4ed707+_0xf854cc(0x45e)+_0x22f1ef+_0xf854cc(0x1c1));}catch(_0x574488){console[_0xf854cc(0xe6)](_0xf854cc(0x6b6)+_0x4ed707+_0xf854cc(0x3c1)+_0x22f1ef+':',_0x574488);}}async[a0_0x452e81(0x254)](_0x9b35cf,_0x4d89e7){const _0x522895=a0_0x452e81;try{await this['client']['removeChatLabel'](_0x4d89e7,_0x9b35cf),console[_0x522895(0x1b7)](_0x522895(0x31e)+_0x9b35cf+'\x20removido\x20do\x20chat\x20'+_0x4d89e7+'\x20com\x20sucesso.');}catch(_0x8cce4d){console[_0x522895(0xe6)](_0x522895(0x193)+_0x9b35cf+_0x522895(0x397)+_0x4d89e7+':',_0x8cce4d);}}async[a0_0x452e81(0x61c)](_0x3cff59){const _0x4d6936=a0_0x452e81;try{let _0x577a92=await this[_0x4d6936(0x546)][_0x4d6936(0x2ac)][_0x4d6936(0x612)](this[_0x4d6936(0x1d2)][_0x4d6936(0x582)]),_0x16b303=_0x3cff59[_0x4d6936(0x294)]?_0x577a92['agents'][_0x4d6936(0x57c)](_0x14edfc=>_0x14edfc[_0x4d6936(0x294)]===_0x3cff59['_id']):-0x1;if(_0x3cff59[_0x4d6936(0x470)]&&_0x16b303>-0x1)_0x577a92['agents'][_0x4d6936(0x557)](_0x16b303,0x1);else{if(_0x16b303>-0x1){let _0x175765=_0x577a92[_0x4d6936(0x489)][_0x16b303];_0x3cff59[_0x4d6936(0x275)]&&(_0x175765[_0x4d6936(0x275)]=_0x3cff59[_0x4d6936(0x275)]),_0x3cff59[_0x4d6936(0x396)]&&(_0x175765[_0x4d6936(0x396)]=_0x3cff59[_0x4d6936(0x396)]),_0x3cff59['email']&&(_0x175765[_0x4d6936(0x6e8)]=_0x3cff59[_0x4d6936(0x6e8)]),_0x3cff59['role']&&(_0x175765[_0x4d6936(0x41d)]=_0x3cff59[_0x4d6936(0x41d)]);}else _0x577a92[_0x4d6936(0x489)][_0x4d6936(0x58a)]({'_id':_0x3cff59[_0x4d6936(0x294)]||new ne[(_0x4d6936(0x463))]['Types'][(_0x4d6936(0x5a5))]()[_0x4d6936(0x52d)](),'fone':_0x3cff59[_0x4d6936(0x275)],'name':_0x3cff59[_0x4d6936(0x396)],'email':_0x3cff59[_0x4d6936(0x6e8)],'role':_0x3cff59[_0x4d6936(0x41d)]});}let _0x53b28d={'agents':_0x577a92[_0x4d6936(0x489)]},_0x5e30b3=await this[_0x4d6936(0x546)]['automateSystem'][_0x4d6936(0x121)](_0x53b28d,this[_0x4d6936(0x1d2)][_0x4d6936(0x582)]);return this[_0x4d6936(0x26b)]=_0x5e30b3,this['logger'][_0x4d6936(0x601)](this[_0x4d6936(0x462)]+'\x20('+this[_0x4d6936(0x1d2)][_0x4d6936(0x582)]+_0x4d6936(0x324)),this[_0x4d6936(0x549)][_0x4d6936(0x601)](this[_0x4d6936(0x462)]+'\x20('+this[_0x4d6936(0x1d2)][_0x4d6936(0x582)]+'):\x20'+this[_0x4d6936(0x26b)]),_0x5e30b3;}catch(_0x3e1ccc){throw this[_0x4d6936(0x549)][_0x4d6936(0xe6)](this[_0x4d6936(0x462)]+'\x20('+this[_0x4d6936(0x1d2)][_0x4d6936(0x582)]+_0x4d6936(0x43c)+(_0x3e1ccc instanceof Error?_0x3e1ccc[_0x4d6936(0x46c)]:JSON[_0x4d6936(0x1b4)](_0x3e1ccc,null,0x2))),new m('Erro\x20ao\x20editar\x20agentes:\x20'+_0x3e1ccc[_0x4d6936(0x46c)]);}}async[a0_0x452e81(0x11c)](_0x32908d){const _0x2d3b6a=a0_0x452e81;try{let _0x4aa6df=await this[_0x2d3b6a(0x546)][_0x2d3b6a(0x2ac)][_0x2d3b6a(0x612)](this[_0x2d3b6a(0x1d2)][_0x2d3b6a(0x582)]),_0x5a5171=_0x32908d[_0x2d3b6a(0x294)]?_0x4aa6df['customFields'][_0x2d3b6a(0x57c)](_0x4267fa=>_0x4267fa[_0x2d3b6a(0x294)]===_0x32908d[_0x2d3b6a(0x294)]):-0x1,_0x2f4bca=!0x1,_0x3e715c=_0x4aa6df[_0x2d3b6a(0x37e)]['some'](_0x5af47b=>_0x5af47b[_0x2d3b6a(0x5b8)]===_0x32908d['order']);if(_0x32908d['delete']&&_0x5a5171>-0x1)_0x4aa6df[_0x2d3b6a(0x37e)][_0x2d3b6a(0x557)](_0x5a5171,0x1),_0x2f4bca=!0x0;else{if(_0x5a5171>-0x1){if(_0x4aa6df[_0x2d3b6a(0x37e)][_0x2d3b6a(0x63a)](_0x129e48=>_0x129e48[_0x2d3b6a(0x396)]===_0x32908d['name']&&_0x129e48[_0x2d3b6a(0x294)]!==_0x32908d[_0x2d3b6a(0x294)]))throw new Error(_0x2d3b6a(0x42f));let _0x10972c=_0x4aa6df[_0x2d3b6a(0x37e)][_0x5a5171];_0x32908d['order']&&(_0x3e715c||!Number['isInteger'](_0x32908d[_0x2d3b6a(0x5b8)]))&&(_0x10972c[_0x2d3b6a(0x5b8)]=_0x32908d['order'],_0x2f4bca=!0x0),_0x32908d[_0x2d3b6a(0x396)]&&(_0x10972c[_0x2d3b6a(0x396)]=_0x32908d[_0x2d3b6a(0x396)]);}else{if(_0x4aa6df['customFields'][_0x2d3b6a(0x63a)](_0x4a6ddc=>_0x4a6ddc[_0x2d3b6a(0x396)]===_0x32908d[_0x2d3b6a(0x396)]&&_0x4a6ddc[_0x2d3b6a(0x294)]!==_0x32908d[_0x2d3b6a(0x294)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x4aa6df[_0x2d3b6a(0x37e)][_0x2d3b6a(0x58a)]({'_id':_0x32908d[_0x2d3b6a(0x294)]||new ne['default'][(_0x2d3b6a(0x2ad))][(_0x2d3b6a(0x5a5))]()[_0x2d3b6a(0x52d)](),'order':_0x32908d[_0x2d3b6a(0x5b8)],'name':_0x32908d[_0x2d3b6a(0x396)]}),_0x2f4bca=!0x0;}}if(_0x2f4bca){_0x4aa6df[_0x2d3b6a(0x37e)][_0x2d3b6a(0x198)]((_0x189e73,_0xc3f15d)=>_0x189e73[_0x2d3b6a(0x5b8)]>_0xc3f15d[_0x2d3b6a(0x5b8)]?0x1:_0xc3f15d[_0x2d3b6a(0x5b8)]>_0x189e73[_0x2d3b6a(0x5b8)]?-0x1:0x0);for(let _0x39fc6a=0x0;_0x39fc6a<_0x4aa6df[_0x2d3b6a(0x37e)][_0x2d3b6a(0x5c6)];_0x39fc6a++)_0x4aa6df['customFields'][_0x39fc6a][_0x2d3b6a(0x5b8)]=_0x39fc6a+0x1;}let _0x547cad=await this['repository']['automateSystem'][_0x2d3b6a(0x121)](_0x4aa6df,this[_0x2d3b6a(0x1d2)]['wuid']);return this[_0x2d3b6a(0x26b)]=_0x547cad,this[_0x2d3b6a(0x549)][_0x2d3b6a(0x601)](this[_0x2d3b6a(0x462)]+'\x20('+this[_0x2d3b6a(0x1d2)]['wuid']+_0x2d3b6a(0x123)),this[_0x2d3b6a(0x549)][_0x2d3b6a(0x601)](this[_0x2d3b6a(0x462)]+'\x20('+this[_0x2d3b6a(0x1d2)][_0x2d3b6a(0x582)]+'):\x20'+this[_0x2d3b6a(0x26b)]),_0x547cad;}catch(_0x15af9c){throw this[_0x2d3b6a(0x549)][_0x2d3b6a(0xe6)](this[_0x2d3b6a(0x462)]+'\x20('+this[_0x2d3b6a(0x1d2)][_0x2d3b6a(0x582)]+_0x2d3b6a(0xb6)+(_0x15af9c instanceof Error?_0x15af9c[_0x2d3b6a(0x46c)]:JSON[_0x2d3b6a(0x1b4)](_0x15af9c,null,0x2))),new m(_0x2d3b6a(0x36e)+_0x15af9c[_0x2d3b6a(0x46c)]);}}async[a0_0x452e81(0x247)](_0x1a3cf4){const _0x2900b9=a0_0x452e81;try{let _0xebe756=await this[_0x2900b9(0x546)][_0x2900b9(0x2ac)][_0x2900b9(0x612)](this[_0x2900b9(0x1d2)]['wuid']);if(!_0xebe756)throw new Error(_0x2900b9(0x203));let _0x378ac5={'_id':_0xebe756[_0x2900b9(0x294)],'flowConfig':{'enabled':_0x1a3cf4[_0x2900b9(0x37a)]??_0xebe756[_0x2900b9(0x65d)][_0x2900b9(0x37a)],'ignoreGroups':_0x1a3cf4[_0x2900b9(0x367)]??_0xebe756[_0x2900b9(0x65d)][_0x2900b9(0x367)],'prefixCommand':_0x1a3cf4[_0x2900b9(0x5ff)]??_0xebe756[_0x2900b9(0x65d)][_0x2900b9(0x5ff)],'stopConversation':_0x1a3cf4[_0x2900b9(0x41a)]??_0xebe756[_0x2900b9(0x65d)][_0x2900b9(0x41a)],'stopMinutes':_0x1a3cf4[_0x2900b9(0x3c8)]??_0xebe756[_0x2900b9(0x65d)][_0x2900b9(0x3c8)],'stopWhenYouSendMsg':_0x1a3cf4[_0x2900b9(0xe2)]??_0xebe756['flowConfig']['stopWhenYouSendMsg']}},_0x5acfd7=await this[_0x2900b9(0x546)][_0x2900b9(0x2ac)]['update'](_0x378ac5,this['instance'][_0x2900b9(0x582)]);return this[_0x2900b9(0x26b)]=_0x5acfd7,this[_0x2900b9(0x549)][_0x2900b9(0x601)](this[_0x2900b9(0x462)]+'\x20('+this[_0x2900b9(0x1d2)][_0x2900b9(0x582)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x2900b9(0x549)][_0x2900b9(0x601)](this['instanceName']+'\x20('+this['instance'][_0x2900b9(0x582)]+_0x2900b9(0x522)+this['AutomateSystem']),setTimeout(()=>this[_0x2900b9(0x328)](),0x7d0),_0x5acfd7;}catch(_0x2f7c6c){throw this[_0x2900b9(0x549)]['error'](this['instanceName']+'\x20('+this[_0x2900b9(0x1d2)][_0x2900b9(0x582)]+'):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+(_0x2f7c6c instanceof Error?_0x2f7c6c['message']:JSON[_0x2900b9(0x1b4)](_0x2f7c6c,null,0x2))),new m('Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+_0x2f7c6c[_0x2900b9(0x46c)]);}}async[a0_0x452e81(0x47b)](){const _0x39ddbe=a0_0x452e81;try{let _0x247fc0=await this[_0x39ddbe(0x546)][_0x39ddbe(0x2ac)][_0x39ddbe(0x612)](this[_0x39ddbe(0x1d2)][_0x39ddbe(0x582)]);return this[_0x39ddbe(0x26b)]=_0x247fc0,this[_0x39ddbe(0x549)][_0x39ddbe(0x601)](this[_0x39ddbe(0x462)]+'\x20('+this[_0x39ddbe(0x1d2)]['wuid']+_0x39ddbe(0x6be)),this[_0x39ddbe(0x549)][_0x39ddbe(0x601)](this['AutomateSystem']),_0x247fc0;}catch(_0x154b56){throw this[_0x39ddbe(0x549)]['error'](this[_0x39ddbe(0x462)]+'\x20('+this[_0x39ddbe(0x1d2)][_0x39ddbe(0x582)]+_0x39ddbe(0x35b)+(_0x154b56 instanceof Error?_0x154b56[_0x39ddbe(0x46c)]:JSON['stringify'](_0x154b56,null,0x2))),new m('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x154b56['message']);}}async[a0_0x452e81(0x4bf)](){const _0x54441f=a0_0x452e81;this[_0x54441f(0x6dd)]&&clearTimeout(this['timerId']),this[_0x54441f(0x6dd)]=setTimeout(()=>{const _0x1d6149=_0x54441f;this[_0x1d6149(0x500)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x452e81(0x500)](){const _0x4f13ff=a0_0x452e81;Date[_0x4f13ff(0x2f8)]()-this['lastSend']>=0x1d4c0&&(this['logger'][_0x4f13ff(0x601)](this['instanceName']+'\x20('+this[_0x4f13ff(0x1d2)]['wuid']+_0x4f13ff(0x13f)),this[_0x4f13ff(0x5d1)]=null,this[_0x4f13ff(0x5ef)]=0x0,this[_0x4f13ff(0x414)]=0x0,await this[_0x4f13ff(0x328)]());}async['scheduleNextCheck'](){const _0x54fc60=a0_0x452e81;let _0x2fb207=()=>{const _0x484be8=a0_0x3d1d;this[_0x484be8(0x549)][_0x484be8(0x601)](this['instanceName']+'\x20('+this['instance'][_0x484be8(0x582)]+_0x484be8(0x201)+this[_0x484be8(0x5d1)]+_0x484be8(0x632));},_0x1002ab=async()=>{const _0x5d87b0=a0_0x3d1d;this[_0x5d87b0(0x549)]['verbose'](this[_0x5d87b0(0x462)]+'\x20('+this[_0x5d87b0(0x1d2)]['wuid']+_0x5d87b0(0x35c));let _0x571116=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x3a0f82={'where':{'status':{'$in':[_0x5d87b0(0x536),_0x5d87b0(0x11d)]},'$or':[{'when':{'$lte':Date[_0x5d87b0(0x2f8)](),'$gte':_0x571116}},{'when':0x0}]}};return await this[_0x5d87b0(0x546)][_0x5d87b0(0xc2)][_0x5d87b0(0x1b8)](_0x3a0f82,this['instance']['wuid']);},_0xcca720=async _0xdddadf=>{const _0x4e09ac=a0_0x3d1d;for(let _0x35587f of _0xdddadf){let _0x3d7787={'_id':_0x35587f['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x4e09ac(0x2f8)]()-0x1770}}]},_0x3f6fd9={'startSend':Date[_0x4e09ac(0x2f8)]()};if(!await this[_0x4e09ac(0x546)]['scheduleMessage'][_0x4e09ac(0x4b3)](_0x3d7787,_0x3f6fd9,this[_0x4e09ac(0x1d2)]['wuid']))return;if(!this['isConnected']){this[_0x4e09ac(0x549)][_0x4e09ac(0x601)](this[_0x4e09ac(0x462)]+'\x20('+this[_0x4e09ac(0x1d2)][_0x4e09ac(0x582)]+_0x4e09ac(0x391));break;}if(_0x35587f[_0x4e09ac(0x64e)]===_0x4e09ac(0x5d2)&&!this[_0x4e09ac(0x26b)]?.[_0x4e09ac(0x65d)][_0x4e09ac(0x37a)]){this[_0x4e09ac(0x549)][_0x4e09ac(0xe6)](this[_0x4e09ac(0x462)]+'\x20('+this[_0x4e09ac(0x1d2)][_0x4e09ac(0x582)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x35587f[_0x4e09ac(0x235)]||_0x35587f['remoteJidsRemaining']['length']===0x0)&&(_0x35587f=await this[_0x4e09ac(0x546)][_0x4e09ac(0xc2)][_0x4e09ac(0x42c)](_0x35587f[_0x4e09ac(0x294)],{'status':_0x4e09ac(0x11d),'remoteJidsRemaining':[..._0x35587f[_0x4e09ac(0x4c5)]]},this[_0x4e09ac(0x1d2)][_0x4e09ac(0x582)]));for(let _0x5573c1 of _0x35587f[_0x4e09ac(0x235)]){if(await this[_0x4e09ac(0x4bf)](),this[_0x4e09ac(0x5ef)]=Date[_0x4e09ac(0x2f8)](),_0x35587f['messagesSend'][_0x4e09ac(0x63a)](_0x46b6c2=>_0x46b6c2[_0x4e09ac(0x5e3)]===_0x5573c1)){this[_0x4e09ac(0x549)]['verbose'](this[_0x4e09ac(0x462)]+'\x20('+this[_0x4e09ac(0x1d2)][_0x4e09ac(0x582)]+_0x4e09ac(0xd9)+_0x5573c1+_0x4e09ac(0x431));continue;}if(!this[_0x4e09ac(0x596)]){this['logger'][_0x4e09ac(0x601)](this[_0x4e09ac(0x462)]+'\x20('+this[_0x4e09ac(0x1d2)]['wuid']+_0x4e09ac(0x207));break;}if(!this[_0x4e09ac(0x5d1)]){this[_0x4e09ac(0x549)][_0x4e09ac(0x601)](this[_0x4e09ac(0x462)]+'\x20('+this[_0x4e09ac(0x1d2)][_0x4e09ac(0x582)]+_0x4e09ac(0x3b6)+_0x35587f[_0x4e09ac(0x294)]+_0x4e09ac(0x62f));break;}if(_0x35587f[_0x4e09ac(0x64e)]===_0x4e09ac(0x5d2)&&!this[_0x4e09ac(0x26b)]?.['flowConfig'][_0x4e09ac(0x37a)]){this[_0x4e09ac(0x549)][_0x4e09ac(0xe6)](this[_0x4e09ac(0x462)]+'\x20('+this[_0x4e09ac(0x1d2)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x5e28c0={'remoteJid':_0x5573c1,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x4276a2=null;try{let _0x2e7d0a=await this[_0x4e09ac(0x3fd)](_0x5573c1,_0x35587f);_0x5e28c0[_0x4e09ac(0xe6)]=_0x2e7d0a[_0x4e09ac(0xe6)],_0x5e28c0['id']=_0x2e7d0a[_0x4e09ac(0xe6)]?null:_0x2e7d0a['id'],_0x5e28c0[_0x4e09ac(0x284)]=_0x2e7d0a[_0x4e09ac(0xe6)]?_0x2e7d0a[_0x4e09ac(0x623)]?_0x2e7d0a[_0x4e09ac(0x623)][_0x4e09ac(0x52d)]():'':null;let _0x382ba7={'$push':{'messagesSend':_0x5e28c0},'$pull':{'remoteJidsRemaining':_0x5573c1}},_0x3c3ed4=_0x35587f['_id'];if(_0x4276a2=await this[_0x4e09ac(0x546)][_0x4e09ac(0xc2)][_0x4e09ac(0x42c)](_0x3c3ed4,_0x382ba7,this['instance'][_0x4e09ac(0x582)]),_0x2e7d0a['error'])continue;let _0x55c589=this[_0x4e09ac(0x60b)](_0x35587f[_0x4e09ac(0x440)],_0x35587f[_0x4e09ac(0x2c5)]);await this[_0x4e09ac(0x14f)](_0x55c589);}catch(_0x2551df){this[_0x4e09ac(0x549)][_0x4e09ac(0xe6)](this[_0x4e09ac(0x462)]+'\x20('+this['instance'][_0x4e09ac(0x582)]+_0x4e09ac(0xcb)+_0x5573c1+':\x20'+(_0x2551df instanceof Error?_0x2551df['message']:JSON[_0x4e09ac(0x1b4)](_0x2551df,null,0x2))),_0x5e28c0[_0x4e09ac(0xe6)]=!0x0,_0x5e28c0[_0x4e09ac(0x284)]=_0x2551df[_0x4e09ac(0x46c)];let _0x1686f0={'$push':{'messagesSend':_0x5e28c0},'$pull':{'remoteJidsRemaining':_0x5573c1}},_0x13a581=_0x35587f[_0x4e09ac(0x294)];_0x4276a2=await this[_0x4e09ac(0x546)]['scheduleMessage'][_0x4e09ac(0x42c)](_0x13a581,_0x1686f0,this[_0x4e09ac(0x1d2)][_0x4e09ac(0x582)]);}finally{if(_0x4276a2&&_0x4276a2[_0x4e09ac(0x409)]===_0x4e09ac(0x49d)){this[_0x4e09ac(0x549)][_0x4e09ac(0x601)](this[_0x4e09ac(0x462)]+'\x20('+this[_0x4e09ac(0x1d2)][_0x4e09ac(0x582)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x35587f[_0x4e09ac(0x294)]+_0x4e09ac(0x209));break;}}}let _0x17e71e=await this[_0x4e09ac(0x546)][_0x4e09ac(0xc2)][_0x4e09ac(0x680)](_0x35587f[_0x4e09ac(0x294)],this[_0x4e09ac(0x1d2)][_0x4e09ac(0x582)]);if(_0x17e71e['remoteJidsRemaining'][_0x4e09ac(0x5c6)]===0x0&&_0x17e71e[_0x4e09ac(0x409)]!==_0x4e09ac(0x49d)){let _0x49bd65={'$set':{'status':_0x4e09ac(0x360)}},_0x5af10a=_0x17e71e[_0x4e09ac(0x294)];await this['repository'][_0x4e09ac(0xc2)][_0x4e09ac(0x42c)](_0x5af10a,_0x49bd65,this[_0x4e09ac(0x1d2)][_0x4e09ac(0x582)]);}await new Promise(_0x2be81b=>setTimeout(_0x2be81b,0x1388));}},_0x4d423a=async()=>{const _0x1f35dd=a0_0x3d1d;let _0x130de7={'where':{'status':'scheduled','when':{'$gt':Date[_0x1f35dd(0x2f8)]()}}},_0x422910=await this[_0x1f35dd(0x546)][_0x1f35dd(0xc2)][_0x1f35dd(0x6f9)](_0x130de7,this['instance']['wuid']);_0x422910&&_0x422910[_0x1f35dd(0x516)]-Date[_0x1f35dd(0x2f8)]()<=0x5265c00?this['delayMessage']=_0x422910[_0x1f35dd(0x516)]-Date[_0x1f35dd(0x2f8)]():this[_0x1f35dd(0x414)]=(0x3c+Math[_0x1f35dd(0x5fb)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x1f35dd(0x414)]=Math[_0x1f35dd(0x5be)](this[_0x1f35dd(0x414)],0x7d0);let _0xbb97d5=Math['round'](this[_0x1f35dd(0x414)]/0xea60);if(_0x422910){let _0x331a99=new Date(_0x422910[_0x1f35dd(0x516)])[_0x1f35dd(0x30a)]();this[_0x1f35dd(0x549)][_0x1f35dd(0x601)](this['instanceName']+'\x20('+this['instance'][_0x1f35dd(0x582)]+_0x1f35dd(0x542)+_0x331a99+_0x1f35dd(0x648)+_0xbb97d5+_0x1f35dd(0x3d0));}else this['logger']['verbose'](this[_0x1f35dd(0x462)]+'\x20('+this[_0x1f35dd(0x1d2)][_0x1f35dd(0x582)]+_0x1f35dd(0x69a)+_0xbb97d5+_0x1f35dd(0x3d0));setTimeout(()=>this['scheduleNextCheck'](),this['delayMessage']);};if(this[_0x54fc60(0x5d1)]){await this[_0x54fc60(0x4bf)](),_0x2fb207();return;}if(!this['isConnected']){this[_0x54fc60(0x549)]['verbose'](this['instanceName']+'\x20('+this[_0x54fc60(0x1d2)][_0x54fc60(0x582)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x54fc60(0x5d1)]=null,this[_0x54fc60(0x5ef)]=0x0,this[_0x54fc60(0x414)]=0x0;return;}try{let _0x37cf1c=await _0x1002ab();_0x37cf1c['length']===0x0?this['logger'][_0x54fc60(0x601)](this[_0x54fc60(0x462)]+'\x20('+this['instance']['wuid']+_0x54fc60(0x703)):(this[_0x54fc60(0x5d1)]=_0x37cf1c[0x0][_0x54fc60(0x294)],await _0xcca720(_0x37cf1c)),await _0x4d423a(),this[_0x54fc60(0x5d1)]=null;}catch(_0x4d4d8b){this[_0x54fc60(0x549)][_0x54fc60(0xe6)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x4d4d8b instanceof Error?_0x4d4d8b[_0x54fc60(0x46c)]:JSON[_0x54fc60(0x1b4)](_0x4d4d8b,null,0x2)));}}[a0_0x452e81(0x60b)](_0x56b44c,_0x1a2a5b){const _0x111e85=a0_0x452e81;return _0x56b44c=Math[_0x111e85(0x5be)](0.5,_0x56b44c),_0x1a2a5b=Math[_0x111e85(0xf2)](Math[_0x111e85(0x5be)](0x3,_0x1a2a5b),0x78),Math[_0x111e85(0x5fb)](Math[_0x111e85(0x4a5)]()*(_0x1a2a5b-_0x56b44c+0x1)+_0x56b44c)*0x3e8;}['sleep'](_0x38b9c3){return new Promise(_0x56801d=>setTimeout(_0x56801d,_0x38b9c3));}async[a0_0x452e81(0x58f)](_0x16d30e){const _0x3ab7db=a0_0x452e81;if(!this[_0x3ab7db(0x26b)]&&(await this[_0x3ab7db(0x47b)](),!this[_0x3ab7db(0x26b)]))return null;_0x16d30e=this['createJid'](_0x16d30e);let _0x541013=await this[_0x3ab7db(0x546)][_0x3ab7db(0x182)][_0x3ab7db(0x6f9)]({'where':{'_id':_0x16d30e}},this['instance'][_0x3ab7db(0x582)]),_0x441698={};if(_0x541013&&_0x541013[_0x3ab7db(0x158)]){let _0x954cff=_0x541013['leadInfo'];typeof _0x954cff['nome']==_0x3ab7db(0x6fc)&&(_0x441698['nome']=_0x954cff['nome']),typeof _0x954cff[_0x3ab7db(0x502)]==_0x3ab7db(0x6fc)&&(_0x441698[_0x3ab7db(0x502)]=_0x954cff[_0x3ab7db(0x502)]),typeof _0x954cff[_0x3ab7db(0x6e8)]==_0x3ab7db(0x6fc)&&(_0x441698[_0x3ab7db(0x6e8)]=_0x954cff['email']),typeof _0x954cff['cpf']=='string'&&(_0x441698[_0x3ab7db(0x692)]=_0x954cff[_0x3ab7db(0x692)]),typeof _0x954cff[_0x3ab7db(0x409)]==_0x3ab7db(0x6fc)&&(_0x441698[_0x3ab7db(0x409)]=_0x954cff[_0x3ab7db(0x409)]),typeof _0x954cff[_0x3ab7db(0x251)]==_0x3ab7db(0x6fc)&&(_0x441698[_0x3ab7db(0x251)]=_0x954cff[_0x3ab7db(0x251)]),typeof _0x954cff[_0x3ab7db(0x301)]==_0x3ab7db(0x6fc)&&(_0x441698[_0x3ab7db(0x301)]=_0x954cff[_0x3ab7db(0x301)]),Array['isArray'](_0x954cff['tags'])&&(_0x441698[_0x3ab7db(0x532)]=_0x954cff[_0x3ab7db(0x532)][_0x3ab7db(0x6c3)](',\x20'));}return _0x541013&&_0x541013[_0x3ab7db(0x158)]&&_0x541013['leadInfo'][_0x3ab7db(0x37e)]&&_0x541013[_0x3ab7db(0x158)][_0x3ab7db(0x37e)]['forEach'](_0x2a8539=>{const _0x1adb4c=_0x3ab7db;let _0x76ae1b=this[_0x1adb4c(0x26b)]?.[_0x1adb4c(0x37e)]['find'](_0x2edab7=>_0x2edab7['_id']===_0x2a8539[_0x1adb4c(0x294)]);_0x76ae1b&&(_0x441698[_0x76ae1b[_0x1adb4c(0x396)]]=_0x2a8539[_0x1adb4c(0x1c4)]);}),_0x441698;}async['replaceVariablesChat'](_0x4ea7ba,_0x5a1789){const _0x201fac=a0_0x452e81;let _0x377191=await this[_0x201fac(0x58f)](_0x5a1789);return this['replaceVariables'](_0x4ea7ba,_0x377191);}async['editScheduleMessage'](_0x13dc82){const _0x36d125=a0_0x452e81;try{if(this[_0x36d125(0x549)][_0x36d125(0x601)](this[_0x36d125(0x462)]+'\x20('+this[_0x36d125(0x1d2)]['wuid']+_0x36d125(0x61a)),_0x13dc82['delete']&&_0x13dc82[_0x36d125(0x294)]){if(this['processingScheduleMessageId']===_0x13dc82[_0x36d125(0x294)][_0x36d125(0x52d)]())throw new Error(_0x36d125(0x5a4));let _0x40a1e8=await this[_0x36d125(0x546)][_0x36d125(0xc2)][_0x36d125(0x2e0)](_0x13dc82[_0x36d125(0x294)],this[_0x36d125(0x1d2)]['wuid']);return setTimeout(()=>this[_0x36d125(0x328)](),0x7d0),_0x40a1e8;}let _0x1a2a34;if(_0x13dc82[_0x36d125(0x294)]&&(_0x1a2a34=await this[_0x36d125(0x546)][_0x36d125(0xc2)][_0x36d125(0x680)](_0x13dc82['_id'],this[_0x36d125(0x1d2)][_0x36d125(0x582)])),_0x1a2a34){let _0x413f49;if(this[_0x36d125(0x5d1)]===_0x1a2a34[_0x36d125(0x294)][_0x36d125(0x52d)]())_0x413f49={'$set':{'status':_0x13dc82['status']}};else{let {_id:_0x5c755f,..._0x36fb96}=_0x13dc82;_0x413f49={'$set':_0x36fb96};}let _0x592e0b=await this['repository'][_0x36d125(0xc2)][_0x36d125(0x42c)](_0x13dc82['_id'],_0x413f49,this[_0x36d125(0x1d2)][_0x36d125(0x582)]);return setTimeout(()=>this[_0x36d125(0x328)](),0x7d0),_0x592e0b;}else{_0x13dc82[_0x36d125(0x334)]=this['instance']['wuid'];let _0x16db0b=await this[_0x36d125(0x546)][_0x36d125(0xc2)][_0x36d125(0x3e6)](_0x13dc82,this[_0x36d125(0x1d2)][_0x36d125(0x582)]);return setTimeout(()=>this[_0x36d125(0x328)](),0x7d0),_0x16db0b;}}catch(_0x2420fc){throw this['logger']['error'](this[_0x36d125(0x462)]+'\x20('+this[_0x36d125(0x1d2)][_0x36d125(0x582)]+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+(_0x2420fc instanceof Error?_0x2420fc['message']:JSON[_0x36d125(0x1b4)](_0x2420fc,null,0x2))),new m('Erro:'+_0x2420fc[_0x36d125(0x46c)]);}}async['getScheduleMessage'](){const _0x53441b=a0_0x452e81;try{return await this['repository'][_0x53441b(0xc2)][_0x53441b(0x1b8)]({'where':{}},this[_0x53441b(0x1d2)][_0x53441b(0x582)]);}catch(_0x5b9db6){throw this[_0x53441b(0x549)][_0x53441b(0xe6)](this['instanceName']+'\x20('+this[_0x53441b(0x1d2)][_0x53441b(0x582)]+_0x53441b(0x4f5)+(_0x5b9db6 instanceof Error?_0x5b9db6['message']:JSON[_0x53441b(0x1b4)](_0x5b9db6,null,0x2))),new m(_0x53441b(0x117)+_0x5b9db6[_0x53441b(0x46c)]);}}async[a0_0x452e81(0x2e2)](){const _0x2761da=a0_0x452e81;try{let _0x3b463e={'status':_0x2761da(0x360)},_0x243a21=await this[_0x2761da(0x546)][_0x2761da(0xc2)][_0x2761da(0x59b)](_0x3b463e,this[_0x2761da(0x1d2)]['wuid']);if(!_0x243a21[_0x2761da(0xe6)])this[_0x2761da(0x549)][_0x2761da(0x601)](this[_0x2761da(0x462)]+'\x20('+this[_0x2761da(0x1d2)][_0x2761da(0x582)]+_0x2761da(0x70a));else throw new Error(_0x243a21[_0x2761da(0xe6)][_0x2761da(0x46c)]||'Erro\x20desconhecido\x20ao\x20deletar\x20mensagens');return this[_0x2761da(0x4b9)]();}catch(_0xece79c){throw this[_0x2761da(0x549)][_0x2761da(0xe6)](this[_0x2761da(0x462)]+'\x20('+this[_0x2761da(0x1d2)][_0x2761da(0x582)]+_0x2761da(0x3c9)+(_0xece79c instanceof Error?_0xece79c[_0x2761da(0x46c)]:JSON[_0x2761da(0x1b4)](_0xece79c,null,0x2))),new m(_0x2761da(0x117)+_0xece79c['message']);}}async[a0_0x452e81(0x3fd)](_0x256b47,_0x270aac){const _0x2d35b7=a0_0x452e81;try{if(_0x270aac['type']===_0x2d35b7(0x5d2)&&!this[_0x2d35b7(0x26b)]?.['flowConfig']['enabled'])return this['logger'][_0x2d35b7(0xe6)](this[_0x2d35b7(0x462)]+'\x20('+this[_0x2d35b7(0x1d2)]['wuid']+_0x2d35b7(0xb5)),{'error':!0x0,'detail':_0x2d35b7(0x2c8)};switch(_0x270aac[_0x2d35b7(0x64e)]){case _0x2d35b7(0x6d8):return await this['scheduleSendText'](_0x270aac,_0x256b47);case'media':return await this[_0x2d35b7(0x4e2)](_0x270aac,_0x256b47);case _0x2d35b7(0x322):return await this[_0x2d35b7(0x468)](_0x270aac,_0x256b47);case _0x2d35b7(0x5d2):let _0x201075=new Pe();return _0x201075[_0x2d35b7(0x396)]=_0x270aac[_0x2d35b7(0x4be)],_0x201075['remoteJid']=_0x256b47,await this[_0x2d35b7(0x64b)](_0x201075);break;default:return this[_0x2d35b7(0x549)][_0x2d35b7(0xe6)](this[_0x2d35b7(0x462)]+'\x20('+this[_0x2d35b7(0x1d2)][_0x2d35b7(0x582)]+_0x2d35b7(0x5b2)+_0x270aac[_0x2d35b7(0x64e)]),{'error':!0x0,'detail':_0x2d35b7(0x6a9)};}}catch(_0x459911){return this[_0x2d35b7(0x549)][_0x2d35b7(0xe6)](this['instanceName']+'\x20('+this[_0x2d35b7(0x1d2)][_0x2d35b7(0x582)]+_0x2d35b7(0x61b)+(_0x459911 instanceof Error?_0x459911[_0x2d35b7(0x46c)]:JSON[_0x2d35b7(0x1b4)](_0x459911,null,0x2))),{'error':!0x0,'detail':_0x459911[_0x2d35b7(0x46c)]};}}['getRandomText'](_0x51f5f9){const _0x592425=a0_0x452e81;let _0x5445e7=_0x51f5f9['split']('|'),_0x406ef7=Math[_0x592425(0x5fb)](Math[_0x592425(0x4a5)]()*_0x5445e7[_0x592425(0x5c6)]);return _0x5445e7[_0x406ef7]['trim']();}async[a0_0x452e81(0x573)](_0x444e2b,_0x3da469){const _0x1385fd=a0_0x452e81;if(this['logger'][_0x1385fd(0x601)](this[_0x1385fd(0x462)]+'\x20('+this[_0x1385fd(0x1d2)][_0x1385fd(0x582)]+'):\x20Enviando\x20texto'),!_0x444e2b['message'][_0x1385fd(0x6d8)]||_0x444e2b[_0x1385fd(0x46c)]['text']['length']===0x0)return{'error':!0x0,'detail':_0x1385fd(0x3d1)};let _0x491279=this['getRandomText'](_0x444e2b['message'][_0x1385fd(0x6d8)]),_0x5c0b5a=await this[_0x1385fd(0x1c5)](_0x491279,_0x3da469),_0x1b56a1={'number':_0x3da469,'options':{'delay':_0x444e2b[_0x1385fd(0x46c)][_0x1385fd(0x70c)]},'textMessage':{'text':_0x5c0b5a}},_0x3479d6=null;try{let _0x33277a=await this['textMessage'](_0x1b56a1);if(_0x33277a&&_0x33277a[_0x1385fd(0x409)])return{'error':!0x1,'id':_0x33277a['key']['id']};_0x3479d6=JSON[_0x1385fd(0x1b4)](_0x33277a),this[_0x1385fd(0x549)][_0x1385fd(0x601)](this[_0x1385fd(0x462)]+'\x20('+this[_0x1385fd(0x1d2)]['wuid']+'):\x20'+_0x3479d6);}catch(_0x392606){this[_0x1385fd(0x549)][_0x1385fd(0xe6)](this[_0x1385fd(0x462)]+'\x20('+this[_0x1385fd(0x1d2)]['wuid']+_0x1385fd(0x5c5)+(_0x392606 instanceof Error?_0x392606[_0x1385fd(0x46c)]:JSON['stringify'](_0x392606,null,0x2))),_0x3479d6=_0x392606['message'];}if(_0x3479d6)return{'error':!0x0,'detail':(typeof _0x3479d6=='object'?JSON[_0x1385fd(0x1b4)](_0x3479d6,null,0x2):_0x3479d6)[_0x1385fd(0x24b)](/[\[\]{}\n]/g,'\x20')[_0x1385fd(0x24b)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x3cf30d,_0x66f091){const _0x31a935=a0_0x452e81;this[_0x31a935(0x549)]['verbose'](this[_0x31a935(0x462)]+'\x20('+this['instance'][_0x31a935(0x582)]+_0x31a935(0x59f));let _0x516f44;if(_0x3cf30d[_0x31a935(0x46c)]['text']&&_0x3cf30d[_0x31a935(0x46c)][_0x31a935(0x6d8)]['length']>0x0){let _0x246210=this[_0x31a935(0x70b)](_0x3cf30d[_0x31a935(0x46c)]['text']);_0x516f44=await this[_0x31a935(0x1c5)](_0x246210,_0x66f091);}let _0x3e4d43={'number':_0x66f091,'options':{'delay':_0x3cf30d[_0x31a935(0x46c)][_0x31a935(0x70c)]},'mediaMessage':{'mediatype':_0x3cf30d[_0x31a935(0x46c)][_0x31a935(0x467)],'caption':_0x516f44,'media':_0x3cf30d['message'][_0x31a935(0x380)]}},_0x1b32cd=null;try{let _0x10040e=await this[_0x31a935(0x18e)](_0x3e4d43);if(_0x10040e&&_0x10040e[_0x31a935(0x409)])return{'error':!0x1,'id':_0x10040e[_0x31a935(0x2c0)]['id']};_0x1b32cd=JSON[_0x31a935(0x1b4)](_0x10040e),this[_0x31a935(0x549)][_0x31a935(0x601)](this[_0x31a935(0x462)]+'\x20('+this[_0x31a935(0x1d2)][_0x31a935(0x582)]+_0x31a935(0x522)+_0x1b32cd);}catch(_0x32035d){this[_0x31a935(0x549)][_0x31a935(0xe6)](this['instanceName']+'\x20('+this[_0x31a935(0x1d2)]['wuid']+_0x31a935(0x625)+(_0x32035d instanceof Error?_0x32035d[_0x31a935(0x46c)]:JSON['stringify'](_0x32035d,null,0x2))),_0x1b32cd=_0x32035d['message'];}if(_0x1b32cd)return{'error':!0x0,'detail':(typeof _0x1b32cd==_0x31a935(0x5aa)?JSON[_0x31a935(0x1b4)](_0x1b32cd,null,0x2):_0x1b32cd)[_0x31a935(0x24b)](/[\[\]{}\n]/g,'\x20')[_0x31a935(0x24b)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x13caeb,_0x59b954){const _0x5a4d1a=a0_0x452e81;this['logger'][_0x5a4d1a(0x601)](this[_0x5a4d1a(0x462)]+'\x20('+this['instance'][_0x5a4d1a(0x582)]+_0x5a4d1a(0x258));let _0x206bb7={'number':_0x59b954,'options':{'delay':_0x13caeb[_0x5a4d1a(0x46c)][_0x5a4d1a(0x70c)]},'audioMessage':{'audio':_0x13caeb[_0x5a4d1a(0x46c)]['urlOrBase64']}},_0x148abe=null;try{let _0x3eee66=await this[_0x5a4d1a(0x45a)](_0x206bb7);if(_0x3eee66&&_0x3eee66['status'])return{'error':!0x1,'id':_0x3eee66['key']['id']};_0x148abe=JSON['stringify'](_0x3eee66),this[_0x5a4d1a(0x549)][_0x5a4d1a(0x601)](this[_0x5a4d1a(0x462)]+'\x20('+this[_0x5a4d1a(0x1d2)]['wuid']+'):\x20'+_0x148abe);}catch(_0x175d3d){this[_0x5a4d1a(0x549)][_0x5a4d1a(0xe6)](this[_0x5a4d1a(0x462)]+'\x20('+this[_0x5a4d1a(0x1d2)]['wuid']+_0x5a4d1a(0x441)+(_0x175d3d instanceof Error?_0x175d3d[_0x5a4d1a(0x46c)]:JSON['stringify'](_0x175d3d,null,0x2))),_0x148abe=_0x175d3d[_0x5a4d1a(0x46c)];}if(_0x148abe)return{'error':!0x0,'detail':(typeof _0x148abe==_0x5a4d1a(0x5aa)?JSON['stringify'](_0x148abe,null,0x2):_0x148abe)[_0x5a4d1a(0x24b)](/[\[\]{}\n]/g,'\x20')[_0x5a4d1a(0x24b)](/  +/g,'\x20')};}},xt=class c{constructor(_0x9d018c,_0x5bb94f,_0x2d6906){const _0x4c0118=a0_0x452e81;this['eventEmitter']=_0x9d018c,this[_0x4c0118(0x1b1)]=_0x5bb94f,this[_0x4c0118(0x546)]=_0x2d6906,this['db']={},this['redis']={},this[_0x4c0118(0x549)]=new v(c[_0x4c0118(0x396)]),this[_0x4c0118(0x713)]={},(this[_0x4c0118(0x4ff)](),this['noConnection'](),Object[_0x4c0118(0x14c)](this['db'],_0x5bb94f[_0x4c0118(0x271)]('DATABASE')),Object[_0x4c0118(0x14c)](this['redis'],_0x5bb94f[_0x4c0118(0x271)]('REDIS')),this['dbInstance']=this['db'][_0x4c0118(0x356)]?this[_0x4c0118(0x546)]['dbServer']?.['db'](this['db'][_0x4c0118(0x481)][_0x4c0118(0x590)]+_0x4c0118(0x5cd)):void 0x0,this[_0x4c0118(0x3d5)]=this[_0x4c0118(0x3d6)][_0x4c0118(0x356)]?new oe(this['redis']):void 0x0);}async[a0_0x452e81(0x578)](_0x4760e7){const _0x3c2385=a0_0x452e81;if(_0x4760e7&&!this[_0x3c2385(0x713)][_0x4760e7])throw new F(_0x3c2385(0x6b0)+_0x4760e7+_0x3c2385(0x4fa));let _0x228fa7=[];for await(let [_0x3c5420,_0x8bdad0]of Object[_0x3c2385(0x693)](this[_0x3c2385(0x713)]))if(_0x8bdad0&&_0x8bdad0[_0x3c2385(0xd4)][_0x3c2385(0x5b1)]===_0x3c2385(0x2c7)){let _0x2bb62b=await this[_0x3c2385(0x546)]['auth'][_0x3c2385(0x1b8)](_0x3c5420);_0x228fa7[_0x3c2385(0x58a)]({'instance':{'instanceName':_0x3c5420,'apikey':_0x2bb62b[_0x3c2385(0x229)],'owner':_0x8bdad0[_0x3c2385(0x582)],'profileName':await _0x8bdad0['getProfileName']()||_0x3c2385(0x365),'profilePictureUrl':_0x8bdad0['profilePictureUrl']}});}return _0x228fa7[_0x3c2385(0x1b8)](_0x4d534b=>_0x4d534b[_0x3c2385(0x1d2)]['instanceName']===_0x4760e7)??_0x228fa7;}async[a0_0x452e81(0x3fa)](_0x49f19a){const _0x3dad6d=a0_0x452e81;if(this['db'][_0x3dad6d(0x356)]&&(await this[_0x3dad6d(0x546)][_0x3dad6d(0x2fd)]['connect'](),(await this[_0x3dad6d(0x100)]['collections']())[_0x3dad6d(0x5c6)]>0x0&&await this[_0x3dad6d(0x100)][_0x3dad6d(0x677)](_0x49f19a)),this[_0x3dad6d(0x3d6)][_0x3dad6d(0x356)]){this[_0x3dad6d(0x3d5)][_0x3dad6d(0x1f9)]=_0x49f19a,await this[_0x3dad6d(0x3d5)][_0x3dad6d(0x443)]();return;}}async[a0_0x452e81(0x679)](){const _0x24c75c=a0_0x452e81;await this[_0x24c75c(0x28b)]();let _0x447c26=async _0x5a9d61=>{const _0x4bbdb3=_0x24c75c;let _0x2e2c0c=new we(this[_0x4bbdb3(0x1b1)],this[_0x4bbdb3(0x3ea)],this['repository']);_0x2e2c0c[_0x4bbdb3(0x462)]=_0x5a9d61,await _0x2e2c0c[_0x4bbdb3(0x2b4)](),this['waInstances'][_0x5a9d61]=_0x2e2c0c;};try{if(this[_0x24c75c(0x3d6)][_0x24c75c(0x356)]){let _0x468ae8=await this['cache'][_0x24c75c(0x57e)]();_0x468ae8?.[_0x24c75c(0x5c6)]>0x0&&_0x468ae8[_0x24c75c(0x446)](async _0x4ec3f0=>await _0x447c26(_0x4ec3f0[_0x24c75c(0x688)](':')[0x1]));return;}if(this['db'][_0x24c75c(0x356)]){await this[_0x24c75c(0x546)][_0x24c75c(0x2fd)][_0x24c75c(0x2e1)]();let _0x3758d8=await this[_0x24c75c(0x100)][_0x24c75c(0x69f)]();_0x3758d8['length']>0x0&&_0x3758d8[_0x24c75c(0x446)](async _0x2f317f=>await _0x447c26(_0x2f317f['namespace'][_0x24c75c(0x24b)](/^[\w-]+\./,'')));return;}}catch(_0x830529){this[_0x24c75c(0x549)][_0x24c75c(0xe6)](_0x830529);}}async[a0_0x452e81(0x6db)](){const _0x23c5d4=a0_0x452e81;let _0x32050f=await this[_0x23c5d4(0x546)][_0x23c5d4(0x129)][_0x23c5d4(0x34d)](),_0x3d637e=_0x32050f['filter'](_0x55d384=>!this[_0x23c5d4(0x713)][_0x55d384[_0x23c5d4(0x294)]]&&(_0x55d384[_0x23c5d4(0x2be)]||typeof _0x55d384[_0x23c5d4(0x2be)]>'u'));_0x3d637e[_0x23c5d4(0x5c6)]>0x0&&await Promise[_0x23c5d4(0x38a)](_0x3d637e[_0x23c5d4(0x353)](async _0x83474f=>{const _0x20dfa6=_0x23c5d4;let _0x5b142f={'online':!0x1,'lastDisconnect':Date[_0x20dfa6(0x2f8)]()};await this[_0x20dfa6(0x546)][_0x20dfa6(0x129)][_0x20dfa6(0x47e)](_0x5b142f,_0x83474f[_0x20dfa6(0x294)]);}));let _0x39a810=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0x2a07c3=_0x32050f[_0x23c5d4(0x611)](_0x5b685c=>!this[_0x23c5d4(0x713)][_0x5b685c[_0x23c5d4(0x294)]]&&typeof _0x5b685c[_0x23c5d4(0x608)]<'u'&&_0x5b685c[_0x23c5d4(0x608)]<_0x39a810);_0x2a07c3[_0x23c5d4(0x5c6)]>0x0&&await Promise[_0x23c5d4(0x38a)](_0x2a07c3['map'](async _0xdba1b7=>{}));}async[a0_0x452e81(0x28b)](){const _0x2944d1=a0_0x452e81;try{let _0x2a850e={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x4f0de0={'online':!0x1,'lastDisconnect':Date['now']()},_0x41ad08=await this[_0x2944d1(0x546)][_0x2944d1(0x129)][_0x2944d1(0xbf)](_0x2a850e,_0x4f0de0);console[_0x2944d1(0x1b7)](_0x2944d1(0x2f3)+_0x41ad08['insertCount']),await this[_0x2944d1(0x303)]();}catch(_0x43b293){console[_0x2944d1(0xe6)](_0x2944d1(0x167),_0x43b293);}}async[a0_0x452e81(0x303)](){const _0x49ab4d=a0_0x452e81;try{let _0x2eafad={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x2c3ab2=await this[_0x49ab4d(0x546)][_0x49ab4d(0x129)][_0x49ab4d(0x59b)](_0x2eafad);console[_0x49ab4d(0x1b7)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x2c3ab2[_0x49ab4d(0x512)]);}catch(_0x396f93){console[_0x49ab4d(0xe6)]('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x396f93);}}['removeInstance'](){const _0x428c04=a0_0x452e81;this[_0x428c04(0x3ea)]['on'](_0x428c04(0x176),async _0x526296=>{const _0x124ef9=_0x428c04;try{this[_0x124ef9(0x713)][_0x526296]=void 0x0;}catch{}try{this[_0x124ef9(0x3fa)](_0x526296);}finally{this[_0x124ef9(0x549)]['warn'](_0x124ef9(0x6b0)+_0x526296+_0x124ef9(0x20f));}});}['noConnection'](){const _0x325c95=a0_0x452e81;this['eventEmitter']['on'](_0x325c95(0x329),async _0x27939a=>{const _0x3d08fc=_0x325c95;try{this[_0x3d08fc(0x713)][_0x27939a]=void 0x0;}catch{}try{this['cleaningUp'](_0x27939a);}finally{this[_0x3d08fc(0x549)][_0x3d08fc(0x607)](_0x3d08fc(0x6b0)+_0x27939a+_0x3d08fc(0x4e8));}});}},Pt=class extends I{[a0_0x452e81(0x4ee)](_0x2389b4){return js(_0x2389b4);}async['insert'](_0x1c6d1e){const _0x28a5c2=a0_0x452e81;if(_0x1c6d1e[_0x28a5c2(0x5c6)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x1c6d1e[0x0][_0x28a5c2(0x334)])[_0x28a5c2(0x16c)]([..._0x1c6d1e]))[_0x28a5c2(0x5c6)]};}catch(_0x336c8d){return _0x336c8d;}}async[a0_0x452e81(0x1b8)](_0x54eb05,_0x4f403b){const _0x19d418=a0_0x452e81;try{let _0x4b0564=this['getChatModelForOwner'](_0x4f403b),_0xf2e5a6=A(_0x54eb05[_0x19d418(0x63e)]);return await _0x4b0564['find'](_0xf2e5a6)[_0x19d418(0x198)]({'lastmsg':-0x1})[_0x19d418(0x364)](_0x54eb05?.['limit']??0x0)[_0x19d418(0x5f6)]();}catch{return[];}}async[a0_0x452e81(0x448)](_0x54c4f2,_0x82d70e){const _0xa9bf32=a0_0x452e81;try{return await this[_0xa9bf32(0x4ee)](_0x82d70e)[_0xa9bf32(0x59b)]({..._0x54c4f2[_0xa9bf32(0x63e)]}),[];}catch(_0x32ab64){return{'error':_0x32ab64?.['toString']()};}}async[a0_0x452e81(0x6f9)](_0x459448,_0xfcc99a){const _0x47199e=a0_0x452e81;try{let _0x454da9=this[_0x47199e(0x4ee)](_0xfcc99a),_0x5107f0=A(_0x459448['where']);return await _0x454da9[_0x47199e(0x6f9)](_0x5107f0)['lean']();}catch{return null;}}async[a0_0x452e81(0x4b3)](_0xb5d9df,_0x4b4bd2,_0x263918,_0x5b055d,_0x5cd9b6=a0_0x452e81(0x567)){const _0x36577e=a0_0x452e81;try{let _0x5d7688={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5b055d},_0x826a3e=this[_0x36577e(0x4ee)](_0x263918),_0x3da4e2=A(_0xb5d9df[_0x36577e(0x63e)]),_0x54d8ad={};return _0x54d8ad[_0x5cd9b6]=_0x4b4bd2,await _0x826a3e[_0x36577e(0x349)](_0x3da4e2,_0x54d8ad,_0x5d7688);}catch(_0x58134e){return console['error'](_0x58134e),null;}}async['updateMany'](_0x5b0267){const _0x3a7901=a0_0x452e81;try{let _0x3d5f0c=this[_0x3a7901(0x4ee)](_0x5b0267[0x0]['query'][_0x3a7901(0x63e)]['owner']),_0x306688=_0x5b0267[_0x3a7901(0x353)](_0x31549b=>({'updateOne':{'filter':{..._0x31549b[_0x3a7901(0x2c1)][_0x3a7901(0x63e)]},'update':{'$set':_0x31549b[_0x3a7901(0x121)]}}}));return(await _0x3d5f0c[_0x3a7901(0x141)](_0x306688))[_0x3a7901(0x206)];}catch(_0x1eb21b){return console[_0x3a7901(0xe6)](_0x1eb21b),0x0;}}async[a0_0x452e81(0x16c)](_0x23bdd0,_0x5d3ce5){const _0x3206c2=a0_0x452e81;if(!Array['isArray'](_0x23bdd0)||_0x23bdd0['length']===0x0)throw new Error(_0x3206c2(0x345));try{return(await this[_0x3206c2(0x4ee)](_0x5d3ce5)[_0x3206c2(0x16c)](_0x23bdd0))[_0x3206c2(0x5c6)];}catch(_0x378d53){throw console[_0x3206c2(0xe6)](_0x3206c2(0x5f5),_0x378d53),_0x378d53;}}async[a0_0x452e81(0x23b)](_0x38b689,_0x5f3912){const _0x28e942=a0_0x452e81;try{await this[_0x28e942(0x4ee)](_0x5f3912)[_0x28e942(0x4b3)]({'_id':_0x38b689},{'$inc':{'isValidAttempts':0x1}});}catch(_0x264d32){throw console[_0x28e942(0xe6)](_0x28e942(0x4ed),_0x264d32),_0x264d32;}}async[a0_0x452e81(0x5eb)](_0x272c73,_0x53e625){try{await this['getChatModelForOwner'](_0x53e625)['deleteOne']({'_id':_0x272c73});}catch(_0x26147b){throw console['error']('Erro\x20ao\x20deletar\x20chat:',_0x26147b),_0x26147b;}}},_t=class extends I{[a0_0x452e81(0x170)](_0x2c0bdd){return ua(_0x2c0bdd);}async[a0_0x452e81(0x4b3)](_0x377922,_0x2e9e7a,_0x15ecb5,_0x3f612a){const _0x2504c3=a0_0x452e81;try{let _0x4c500d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3f612a},_0x432c5e=this[_0x2504c3(0x170)](_0x15ecb5),_0x505cc2=A(_0x377922[_0x2504c3(0x63e)]);return await _0x432c5e['findOneAndUpdate'](_0x505cc2,{'$set':_0x2e9e7a},_0x4c500d);}catch(_0x4e967d){return console[_0x2504c3(0xe6)](_0x4e967d),null;}}async[a0_0x452e81(0x1b8)](_0x5e82ef,_0xd015ef){const _0x4274d0=a0_0x452e81;try{let _0x44cd9f=this[_0x4274d0(0x170)](_0xd015ef),_0x331f96=A(_0x5e82ef['where']);return await _0x44cd9f[_0x4274d0(0x1b8)](_0x331f96);}catch(_0x591e4a){console[_0x4274d0(0xe6)](_0x591e4a);}}async[a0_0x452e81(0x470)](_0x28565e,_0x20a8bf){const _0x1987ff=a0_0x452e81;try{let _0x6151fe=this[_0x1987ff(0x170)](_0x20a8bf),_0x297021=A(_0x28565e[_0x1987ff(0x63e)]);await _0x6151fe['deleteMany'](_0x297021);}catch(_0x3fa776){console[_0x1987ff(0xe6)](_0x3fa776);}}async[a0_0x452e81(0x448)](_0x4815cc){const _0xa2dfca=a0_0x452e81;try{return await this[_0xa2dfca(0x170)](_0x4815cc)[_0xa2dfca(0x44a)]['drop'](),{'success':!0x0};}catch(_0x409cc1){return console[_0xa2dfca(0xe6)](_0x409cc1),{'success':!0x1,'error':_0x409cc1};}}},$t=class{constructor(_0x51e216){this['waMonitor']=_0x51e216;}async[a0_0x452e81(0x2ee)]({instanceName:_0x34c8d3},_0x79d88c){const _0x40d33b=a0_0x452e81;return await this[_0x40d33b(0x13d)][_0x40d33b(0x713)][_0x34c8d3][_0x40d33b(0x2ee)](_0x79d88c);}async['whatsappNumber']({instanceName:_0x17255a},_0x20ad3c){const _0x2a83fb=a0_0x452e81;return await this[_0x2a83fb(0x13d)][_0x2a83fb(0x713)][_0x17255a][_0x2a83fb(0x321)](_0x20ad3c);}async['importChats']({instanceName:_0x2e63c1},_0x1d81de){const _0x2ca34b=a0_0x452e81;return await this[_0x2ca34b(0x13d)]['waInstances'][_0x2e63c1][_0x2ca34b(0x3ce)](_0x1d81de);}async[a0_0x452e81(0x10b)]({instanceName:_0x39e6f4},_0x112531){const _0x214a67=a0_0x452e81;return await this[_0x214a67(0x13d)][_0x214a67(0x713)][_0x39e6f4][_0x214a67(0x272)](_0x112531);}async[a0_0x452e81(0x655)]({instanceName:_0x840943},_0xf75d5e){const _0x46ae1f=a0_0x452e81;return await this[_0x46ae1f(0x13d)]['waInstances'][_0x840943][_0x46ae1f(0x655)](_0xf75d5e);}async[a0_0x452e81(0x1fa)]({instanceName:_0x4ae227},_0x5136b1){const _0xa1855b=a0_0x452e81;return await this[_0xa1855b(0x13d)]['waInstances'][_0x4ae227][_0xa1855b(0x1fa)](_0x5136b1);}async[a0_0x452e81(0x504)]({instanceName:_0x26381c},_0x46ff42){const _0x2efef5=a0_0x452e81;return await this[_0x2efef5(0x13d)][_0x2efef5(0x713)][_0x26381c]['profilePicture'](_0x46ff42['number']);}async['fetchProfile']({instanceName:_0xe849f8},_0x1bbfa7){const _0x4a6420=a0_0x452e81;return await this[_0x4a6420(0x13d)][_0x4a6420(0x713)][_0xe849f8][_0x4a6420(0x60e)](_0x1bbfa7[_0x4a6420(0x66d)]);}async[a0_0x452e81(0x53e)]({instanceName:_0x1c0c68},_0x55a00c){const _0x48a58b=a0_0x452e81;return await this[_0x48a58b(0x13d)][_0x48a58b(0x713)][_0x1c0c68][_0x48a58b(0x53e)](_0x55a00c);}async['fetchContacts']({instanceName:_0xdec6a9},_0x537dde){const _0x3239e8=a0_0x452e81;return await this['waMonitor'][_0x3239e8(0x713)][_0xdec6a9][_0x3239e8(0x2f4)](_0x537dde);}async[a0_0x452e81(0x20e)]({instanceName:_0x40ae2f},_0x180802){const _0x861262=a0_0x452e81;return await this['waMonitor'][_0x861262(0x713)][_0x40ae2f][_0x861262(0x20e)](_0x180802);}async[a0_0x452e81(0x1d6)]({instanceName:_0x300a2d},_0x513920){const _0x3b7721=a0_0x452e81;return await this['waMonitor']['waInstances'][_0x300a2d][_0x3b7721(0x1d6)](_0x513920);}async[a0_0x452e81(0x3f4)]({instanceName:_0x561193}){const _0x2e327b=a0_0x452e81;return await this[_0x2e327b(0x13d)]['waInstances'][_0x561193][_0x2e327b(0x3f4)]();}async[a0_0x452e81(0x447)]({instanceName:_0x3a9535}){const _0x4b13ed=a0_0x452e81;return await this[_0x4b13ed(0x13d)][_0x4b13ed(0x713)][_0x3a9535][_0x4b13ed(0x447)]();}async[a0_0x452e81(0x64f)]({instanceName:_0x4a00bf}){const _0x481824=a0_0x452e81;return await this[_0x481824(0x13d)]['waInstances'][_0x4a00bf]['fetchPrivacySettings']();}async[a0_0x452e81(0x23f)]({instanceName:_0x2690fa},_0x37e20c){const _0x5d3580=a0_0x452e81;return await this['waMonitor'][_0x5d3580(0x713)][_0x2690fa]['updatePrivacySettings'](_0x37e20c);}async['fetchBusinessProfile']({instanceName:_0x31906e},_0x119b64){const _0x1cb4cc=a0_0x452e81;return await this[_0x1cb4cc(0x13d)][_0x1cb4cc(0x713)][_0x31906e][_0x1cb4cc(0x168)](_0x119b64[_0x1cb4cc(0x66d)]);}async[a0_0x452e81(0x45f)]({instanceName:_0x478b98},_0x3af38b){const _0x138b11=a0_0x452e81;return await this[_0x138b11(0x13d)][_0x138b11(0x713)][_0x478b98][_0x138b11(0x45f)](_0x3af38b[_0x138b11(0x396)]);}async[a0_0x452e81(0x30d)]({instanceName:_0x1cad0c},_0x19667e){const _0x3ffb1c=a0_0x452e81;return await this[_0x3ffb1c(0x13d)][_0x3ffb1c(0x713)][_0x1cad0c][_0x3ffb1c(0x30d)](_0x19667e['status']);}async[a0_0x452e81(0x194)]({instanceName:_0x6930c},_0x5899a2){const _0x14b3a3=a0_0x452e81;return await this[_0x14b3a3(0x13d)][_0x14b3a3(0x713)][_0x6930c][_0x14b3a3(0x194)](_0x5899a2[_0x14b3a3(0x6a0)]);}async[a0_0x452e81(0x6a7)]({instanceName:_0x543f22},_0x166568){const _0x131c6a=a0_0x452e81;return await this['waMonitor'][_0x131c6a(0x713)][_0x543f22][_0x131c6a(0x6a7)]();}},Ns=require('@whiskeysockets/baileys'),kt=class c{constructor(_0x3cce9d,_0xde5fea,_0x2f0158,_0x317c47,_0x2fc858){const _0x38d9d4=a0_0x452e81;this[_0x38d9d4(0x13d)]=_0x3cce9d,this[_0x38d9d4(0x1b1)]=_0xde5fea,this[_0x38d9d4(0x546)]=_0x2f0158,this[_0x38d9d4(0x3ea)]=_0x317c47,this['authService']=_0x2fc858,this['logger']=new v(c['name']);}async[a0_0x452e81(0x15e)]({instanceName:_0x174d0b,apikey:_0x4af8d7,number:_0x45a203,proxy:_0x423108=!0x0}){const _0xdb17ef=a0_0x452e81;try{let _0x1e36f1=new we(this[_0xdb17ef(0x1b1)],this[_0xdb17ef(0x3ea)],this['repository']);_0x1e36f1[_0xdb17ef(0x462)]=_0x174d0b,this[_0xdb17ef(0x13d)][_0xdb17ef(0x713)][_0x1e36f1['instanceName']]=_0x1e36f1;let _0x48cb60={};_0x4af8d7?(await this[_0xdb17ef(0x546)][_0xdb17ef(0x129)][_0xdb17ef(0x47e)]({'apikey':_0x4af8d7},_0x174d0b),_0x48cb60[_0xdb17ef(0x229)]=_0x4af8d7):_0x48cb60=await this[_0xdb17ef(0x189)][_0xdb17ef(0x2db)]({'instanceName':_0x1e36f1[_0xdb17ef(0x462)]});let _0x1db98a;return await _0x1e36f1['connectToWhatsapp'](_0x45a203,_0x423108),await(0x0,Ns['delay'])(0x7d0),_0x1db98a=_0x1e36f1['qrCode'],{'instance':{'instanceName':_0x1e36f1[_0xdb17ef(0x462)],'status':_0xdb17ef(0x2b1)},'hash':_0x48cb60,'qrcode':_0x1db98a};}catch(_0x3a648b){this[_0xdb17ef(0x549)]['error'](_0x3a648b);}}async[a0_0x452e81(0x5c8)]({instanceName:_0x434e48,number:_0x2c1db4=null,proxy:_0x195b07=!0x0}){const _0x84ac2d=a0_0x452e81;try{let _0x580a7b=this[_0x84ac2d(0x13d)][_0x84ac2d(0x713)][_0x434e48];switch(_0x580a7b?.[_0x84ac2d(0xd4)]?.['state']){case _0x84ac2d(0xf7):return await _0x580a7b[_0x84ac2d(0x2b4)](_0x2c1db4,_0x195b07),await(0x0,Ns[_0x84ac2d(0x70c)])(0x7d0),_0x580a7b['qrCode'];case _0x84ac2d(0x1ee):return _0x580a7b[_0x84ac2d(0xbc)];default:return await this['connectionState']({'instanceName':_0x434e48});}}catch(_0x580074){this[_0x84ac2d(0x549)][_0x84ac2d(0x1b7)](_0x580074);}}async[a0_0x452e81(0x400)]({instanceName:_0x11350e}){const _0x5f2eec=a0_0x452e81;let _0x27103f=this[_0x5f2eec(0x13d)]['waInstances'][_0x11350e][_0x5f2eec(0xd4)],_0x50be51=null;_0x27103f['state']===_0x5f2eec(0x2c7)&&_0x11350e&&(_0x50be51=await this[_0x5f2eec(0x13d)]['instanceInfo'](_0x11350e));let _0x147035=null;return _0x27103f[_0x5f2eec(0x5b1)]===_0x5f2eec(0x1ee)&&_0x11350e&&(_0x147035=this['waMonitor'][_0x5f2eec(0x713)][_0x11350e]['qrCode']),{'instance':_0x11350e,'connectionStatus':_0x27103f,'instanceInfo':_0x50be51,'qrcode':_0x147035};}async[a0_0x452e81(0x3a5)]({instanceName:_0x50f8b8}){const _0x202572=a0_0x452e81;try{return this[_0x202572(0x13d)]['waInstances'][_0x50f8b8]?.[_0x202572(0x472)]?.['ws']?.[_0x202572(0xf7)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x202572(0x137)}};}catch(_0x1153a8){this['logger'][_0x202572(0xe6)](_0x1153a8);}}async[a0_0x452e81(0x40a)]({instanceName:_0x3f07f5}){const _0x6ac050=a0_0x452e81;return _0x3f07f5?this['waMonitor'][_0x6ac050(0x578)](_0x3f07f5):this[_0x6ac050(0x13d)][_0x6ac050(0x578)]();}async[a0_0x452e81(0x46a)]({instanceName:_0x24becf}){const _0x241451=a0_0x452e81;try{return await this['waMonitor'][_0x241451(0x713)][_0x24becf]?.[_0x241451(0x472)]?.[_0x241451(0x46a)](_0x241451(0x19d)+_0x24becf),{'error':!0x1,'message':_0x241451(0x423)};}catch(_0xdeb2df){throw new O(_0xdeb2df[_0x241451(0x52d)]());}}async[a0_0x452e81(0x4c0)]({instanceName:_0x160146}){const _0x381682=a0_0x452e81;if((await this['connectionState']({'instanceName':_0x160146}))['connectionStatus']['state']===_0x381682(0x2c7))throw new m([_0x381682(0x29b),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x381682(0x13d)]['waInstances'][_0x160146],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x2e588f){throw new m(_0x2e588f[_0x381682(0x52d)]());}}},Z=require(a0_0x452e81(0x4e9)),Lt=class{constructor(_0xc00997){const _0x573fa9=a0_0x452e81;this[_0x573fa9(0x13d)]=_0xc00997;}async[a0_0x452e81(0x103)]({instanceName:_0x1e617b},_0x21f9e4){const _0x57ea7e=a0_0x452e81;return await this[_0x57ea7e(0x13d)][_0x57ea7e(0x713)][_0x1e617b][_0x57ea7e(0x250)](_0x21f9e4);}async[a0_0x452e81(0x1ac)]({instanceName:_0x3cb007},_0x2eae65){const _0xc8cb5c=a0_0x452e81;return await this[_0xc8cb5c(0x13d)][_0xc8cb5c(0x713)][_0x3cb007][_0xc8cb5c(0x29f)](_0x2eae65);}async[a0_0x452e81(0x56d)]({instanceName:_0x5e32b7},_0x5e8f06){const _0x1a1987=a0_0x452e81;if((0x0,Z[_0x1a1987(0x16b)])(_0x5e8f06?.[_0x1a1987(0x18e)]?.[_0x1a1987(0x4f4)])&&!_0x5e8f06?.['mediaMessage']?.['fileName'])throw new m(_0x1a1987(0x22a));if((0x0,Z[_0x1a1987(0x4cc)])(_0x5e8f06?.[_0x1a1987(0x18e)]?.['media'])||(0x0,Z[_0x1a1987(0x16b)])(_0x5e8f06?.[_0x1a1987(0x18e)]?.[_0x1a1987(0x4f4)]))return await this[_0x1a1987(0x13d)][_0x1a1987(0x713)][_0x5e32b7][_0x1a1987(0x18e)](_0x5e8f06);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x452e81(0x6ea)]({instanceName:_0x1e0cf7},_0x21d016){const _0x217820=a0_0x452e81;if((0x0,Z[_0x217820(0x4cc)])(_0x21d016[_0x217820(0x657)][_0x217820(0x37c)])||(0x0,Z[_0x217820(0x16b)])(_0x21d016[_0x217820(0x657)][_0x217820(0x37c)]))return await this[_0x217820(0x13d)][_0x217820(0x713)][_0x1e0cf7][_0x217820(0x3c6)](_0x21d016);throw new m(_0x217820(0x2da));}async[a0_0x452e81(0x5d3)]({instanceName:_0x177948},_0x4c4530){const _0x2865ba=a0_0x452e81;if((0x0,Z[_0x2865ba(0x4cc)])(_0x4c4530[_0x2865ba(0x6a2)][_0x2865ba(0x322)])||(0x0,Z[_0x2865ba(0x16b)])(_0x4c4530[_0x2865ba(0x6a2)][_0x2865ba(0x322)]))return await this[_0x2865ba(0x13d)][_0x2865ba(0x713)][_0x177948][_0x2865ba(0x45a)](_0x4c4530);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x452e81(0x233)]({instanceName:_0x1c7355},_0x276d10){const _0x534116=a0_0x452e81;if((0x0,Z['isBase64'])(_0x276d10[_0x534116(0x17a)]['mediaMessage']?.[_0x534116(0x4f4)])&&!_0x276d10[_0x534116(0x17a)][_0x534116(0x18e)]?.[_0x534116(0x348)])throw new m(_0x534116(0x22a));return await this[_0x534116(0x13d)][_0x534116(0x713)][_0x1c7355][_0x534116(0x17a)](_0x276d10);}async[a0_0x452e81(0x4a0)]({instanceName:_0x14a641},_0x2d34ba){const _0x1dd813=a0_0x452e81;return await this[_0x1dd813(0x13d)]['waInstances'][_0x14a641][_0x1dd813(0xe7)](_0x2d34ba);}async['sendPoll']({instanceName:_0x37f054},_0x2646f5){const _0x4a9f91=a0_0x452e81;return await this[_0x4a9f91(0x13d)][_0x4a9f91(0x713)][_0x37f054][_0x4a9f91(0x43d)](_0x2646f5);}async[a0_0x452e81(0x531)]({instanceName:_0x4ae32b},_0x49c0be){const _0x53631b=a0_0x452e81;return await this[_0x53631b(0x13d)][_0x53631b(0x713)][_0x4ae32b][_0x53631b(0x51f)](_0x49c0be);}async[a0_0x452e81(0x1e1)]({instanceName:_0x1b7d94},_0x958caf){const _0x31c36c=a0_0x452e81;return await this[_0x31c36c(0x13d)][_0x31c36c(0x713)][_0x1b7d94][_0x31c36c(0x2c6)](_0x958caf);}async['sendReaction']({instanceName:_0x491cd9},_0x21b680){const _0x46893c=a0_0x452e81;if(!_0x21b680[_0x46893c(0xee)]['reaction']['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x46893c(0x597));return await this[_0x46893c(0x13d)][_0x46893c(0x713)][_0x491cd9][_0x46893c(0xee)](_0x21b680);}async[a0_0x452e81(0x1fd)]({instanceName:_0x39a42d},_0xc57f49){const _0x2b9662=a0_0x452e81;return await this['waMonitor'][_0x2b9662(0x713)][_0x39a42d][_0x2b9662(0x5f7)](_0xc57f49);}},Er=require(a0_0x452e81(0x29a)),Rs=require('uuid'),Ft=class c{constructor(_0x1158aa,_0x2e44c1,_0x4f82fa){const _0x2fd2f2=a0_0x452e81;this[_0x2fd2f2(0x1b1)]=_0x1158aa,this[_0x2fd2f2(0x13d)]=_0x2e44c1,this[_0x2fd2f2(0x546)]=_0x4f82fa,this['logger']=new v(c[_0x2fd2f2(0x396)]);}async[a0_0x452e81(0xcc)](_0x91a144){const _0x28b809=a0_0x452e81;let _0x5c0b9c=this[_0x28b809(0x1b1)][_0x28b809(0x271)]('AUTHENTICATION')[_0x28b809(0x164)],_0x4efbe6=(0x0,Er['sign'])({'instanceName':_0x91a144[_0x28b809(0x462)],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x5c0b9c[_0x28b809(0x381)],{'expiresIn':_0x5c0b9c[_0x28b809(0x238)],'encoding':_0x28b809(0xc1),'subject':_0x28b809(0x12f)}),_0x5dffaa=await this['repository'][_0x28b809(0x129)][_0x28b809(0x47e)]({'jwt':_0x4efbe6},_0x91a144[_0x28b809(0x462)]);if(_0x5dffaa[_0x28b809(0xe6)])throw this['logger']['error']({'localError':c[_0x28b809(0x396)]+'.jwt','error':_0x5dffaa['error']}),new m(_0x28b809(0x6b1),_0x5dffaa[_0x28b809(0xe6)]?.[_0x28b809(0x52d)]());return{'jwt':_0x4efbe6};}async[a0_0x452e81(0x229)](_0x29011e){const _0x553ac5=a0_0x452e81;let _0x2df7fc=(0x0,Rs['v4'])()[_0x553ac5(0x185)](),_0x3c32b9=await this['repository'][_0x553ac5(0x129)]['create']({'apikey':_0x2df7fc},_0x29011e[_0x553ac5(0x462)]);if(_0x3c32b9[_0x553ac5(0xe6)])throw this[_0x553ac5(0x549)][_0x553ac5(0xe6)]({'localError':c[_0x553ac5(0x396)]+_0x553ac5(0xd8),'error':_0x3c32b9[_0x553ac5(0xe6)]}),new m(_0x553ac5(0x6b1),_0x3c32b9[_0x553ac5(0xe6)]?.['toString']());return{'apikey':_0x2df7fc};}async[a0_0x452e81(0x2db)](_0x2d141a){const _0x11db4b=a0_0x452e81;let _0xca7a6=this[_0x11db4b(0x1b1)][_0x11db4b(0x271)](_0x11db4b(0x3b9));return await this[_0xca7a6[_0x11db4b(0x131)]](_0x2d141a);}},Ut=class{constructor(_0x112cf7){const _0x22d752=a0_0x452e81;this[_0x22d752(0x13d)]=_0x112cf7;}async[a0_0x452e81(0x408)](_0x3873ce,_0x24ae09){const _0x38ba75=a0_0x452e81;return await this['waMonitor'][_0x38ba75(0x713)][_0x3873ce[_0x38ba75(0x462)]][_0x38ba75(0x408)](_0x24ae09);}async[a0_0x452e81(0x545)](_0x270c7a,_0x5b8080){const _0x414442=a0_0x452e81;return await this[_0x414442(0x13d)]['waInstances'][_0x270c7a[_0x414442(0x462)]][_0x414442(0x545)](_0x5b8080);}async['groupDesc'](_0x5ec349,_0x1b1437){const _0x5ed059=a0_0x452e81;return await this[_0x5ed059(0x13d)][_0x5ed059(0x713)][_0x5ec349[_0x5ed059(0x462)]][_0x5ed059(0x350)](_0x1b1437);}async[a0_0x452e81(0x47f)](_0x2a55e4,_0x1a1153){const _0x3aa864=a0_0x452e81;return await this[_0x3aa864(0x13d)]['waInstances'][_0x2a55e4[_0x3aa864(0x462)]]['groupName'](_0x1a1153);}async[a0_0x452e81(0x113)](_0xbdc3e,_0x53992e){const _0x268c83=a0_0x452e81;return await this[_0x268c83(0x13d)][_0x268c83(0x713)][_0xbdc3e['instanceName']]['groupSetting'](_0x53992e);}async[a0_0x452e81(0x4b2)](_0x5b2f9c,_0x444503){const _0x1a46b2=a0_0x452e81;return await this[_0x1a46b2(0x13d)][_0x1a46b2(0x713)][_0x5b2f9c[_0x1a46b2(0x462)]][_0x1a46b2(0x2fe)](_0x444503);}async[a0_0x452e81(0x126)](_0x45449d){const _0x365406=a0_0x452e81;return await this[_0x365406(0x13d)]['waInstances'][_0x45449d[_0x365406(0x462)]][_0x365406(0x126)]();}async[a0_0x452e81(0x695)](_0x2a5e05,_0x1f1d19){const _0x55d28c=a0_0x452e81;return await this['waMonitor'][_0x55d28c(0x713)][_0x2a5e05[_0x55d28c(0x462)]][_0x55d28c(0x695)](_0x1f1d19);}async[a0_0x452e81(0x5f9)](_0x3d3f3f,_0x1f2f36){const _0x2ff65e=a0_0x452e81;return await this['waMonitor']['waInstances'][_0x3d3f3f[_0x2ff65e(0x462)]][_0x2ff65e(0x5f9)](_0x1f2f36);}async[a0_0x452e81(0x575)](_0x57712d,_0x474cbc){const _0x525757=a0_0x452e81;return await this[_0x525757(0x13d)][_0x525757(0x713)][_0x57712d[_0x525757(0x462)]]['revokeInviteCode'](_0x474cbc);}async[a0_0x452e81(0x6a4)](_0xb7fd28,_0x448674){const _0x402267=a0_0x452e81;return await this[_0x402267(0x13d)]['waInstances'][_0xb7fd28[_0x402267(0x462)]][_0x402267(0x6a4)](_0x448674);}async[a0_0x452e81(0x1be)](_0x22c934,_0x3e3a87){const _0x47bc4d=a0_0x452e81;return await this[_0x47bc4d(0x13d)][_0x47bc4d(0x713)][_0x22c934['instanceName']]['updateGParticipant'](_0x3e3a87);}async[a0_0x452e81(0x6fa)](_0x59adb0,_0x4ba018){const _0x56a588=a0_0x452e81;return await this['waMonitor']['waInstances'][_0x59adb0[_0x56a588(0x462)]]['toggleEphemeral'](_0x4ba018);}async[a0_0x452e81(0x133)](_0x3e169c,_0x191078){const _0xeb7e70=a0_0x452e81;return await this[_0xeb7e70(0x13d)][_0xeb7e70(0x713)][_0x3e169c['instanceName']]['leaveGroup'](_0x191078);}},Jt=class{constructor(_0x4b53db){const _0x933be8=a0_0x452e81;this[_0x933be8(0x13d)]=_0x4b53db;}[a0_0x452e81(0x47e)](_0x42f310,_0x453bac){const _0x41a75f=a0_0x452e81;return this['waMonitor'][_0x41a75f(0x713)][_0x42f310[_0x41a75f(0x462)]][_0x41a75f(0x6d6)](_0x453bac);}async[a0_0x452e81(0x1b8)](_0x97b0ec){const _0x45791f=a0_0x452e81;try{return await this[_0x45791f(0x13d)][_0x45791f(0x713)][_0x97b0ec[_0x45791f(0x462)]][_0x45791f(0x5fe)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x452e81(0x12b)),jt=class{constructor(_0x2b17cf){const _0x8ee558=a0_0x452e81;this[_0x8ee558(0x13d)]=_0x2b17cf;}async[a0_0x452e81(0x1ae)](_0x49f084,_0x57a68e){const _0xc40ec1=a0_0x452e81;return await this[_0xc40ec1(0x13d)]['waInstances'][_0x49f084[_0xc40ec1(0x462)]][_0xc40ec1(0x1ae)](_0x57a68e);}async['getScheduleMessage'](_0xe58bbd){const _0x27bc4e=a0_0x452e81;return await this[_0x27bc4e(0x13d)][_0x27bc4e(0x713)][_0xe58bbd[_0x27bc4e(0x462)]][_0x27bc4e(0x4b9)]();}async['deleteDoneMessages'](_0x1f9917){const _0x575b7d=a0_0x452e81;return await this[_0x575b7d(0x13d)][_0x575b7d(0x713)][_0x1f9917[_0x575b7d(0x462)]][_0x575b7d(0x2e2)]();}async['getAutomateSystem'](_0x346c4e){const _0x3cd5ff=a0_0x452e81;return await this[_0x3cd5ff(0x13d)]['waInstances'][_0x346c4e[_0x3cd5ff(0x462)]][_0x3cd5ff(0x47b)]();}async[a0_0x452e81(0x61c)](_0x1d7bce,_0x12522d){const _0xc3d6fa=a0_0x452e81;return await this[_0xc3d6fa(0x13d)][_0xc3d6fa(0x713)][_0x1d7bce['instanceName']][_0xc3d6fa(0x61c)](_0x12522d);}async[a0_0x452e81(0x11c)](_0x8b0171,_0x3c885e){const _0x1bcd7e=a0_0x452e81;return await this['waMonitor'][_0x1bcd7e(0x713)][_0x8b0171[_0x1bcd7e(0x462)]][_0x1bcd7e(0x11c)](_0x3c885e);}async[a0_0x452e81(0x247)](_0x557065,_0x5ab9dc){const _0x9e99e2=a0_0x452e81;return await this[_0x9e99e2(0x13d)]['waInstances'][_0x557065[_0x9e99e2(0x462)]][_0x9e99e2(0x247)](_0x5ab9dc);}async['startFlow'](_0x568e3e,_0x507111){const _0x10bbd9=a0_0x452e81;return await this[_0x10bbd9(0x13d)][_0x10bbd9(0x713)][_0x568e3e[_0x10bbd9(0x462)]][_0x10bbd9(0x64b)](_0x507111);}async[a0_0x452e81(0x4ef)](_0x44e0c9,_0x24d977){const _0x1c0d37=a0_0x452e81;return await this['waMonitor']['waInstances'][_0x44e0c9[_0x1c0d37(0x462)]][_0x1c0d37(0x4ef)](_0x24d977);}async['fetchConversation'](_0x171823,_0x33ea7c){const _0x536bf4=a0_0x452e81;return await this['waMonitor'][_0x536bf4(0x713)][_0x171823[_0x536bf4(0x462)]][_0x536bf4(0x20b)](_0x33ea7c);}async['editConversation'](_0x5d5226,_0x44c1ae){const _0x7ec8cb=a0_0x452e81;return await this[_0x7ec8cb(0x13d)]['waInstances'][_0x5d5226['instanceName']][_0x7ec8cb(0x5f0)](_0x44c1ae);}async[a0_0x452e81(0x2a8)](_0x56ff4a,_0x128e33){const _0x805a48=a0_0x452e81;return await this['waMonitor']['waInstances'][_0x56ff4a['instanceName']][_0x805a48(0x2a8)](_0x128e33);}async['getFlow'](_0x29110b,_0xbbee39){const _0x5846f1=a0_0x452e81;return await this[_0x5846f1(0x13d)][_0x5846f1(0x713)][_0x29110b[_0x5846f1(0x462)]][_0x5846f1(0x4ca)](_0xbbee39[_0x5846f1(0x396)]);}async[a0_0x452e81(0x2e7)](_0x132a33,_0x267550){const _0x1bbf32=a0_0x452e81;return await this['waMonitor'][_0x1bbf32(0x713)][_0x132a33['instanceName']][_0x1bbf32(0x2e7)](_0x267550);}async['editFlow'](_0x4c684b,_0x90db5a){const _0x3727aa=a0_0x452e81;return await this[_0x3727aa(0x13d)][_0x3727aa(0x713)][_0x4c684b[_0x3727aa(0x462)]][_0x3727aa(0x6af)](_0x90db5a);}async[a0_0x452e81(0x1a9)](_0x18dbbe,_0x50b377){const _0x1b8c16=a0_0x452e81;return await this[_0x1b8c16(0x13d)]['waInstances'][_0x18dbbe[_0x1b8c16(0x462)]][_0x1b8c16(0x1a9)](_0x50b377);}async[a0_0x452e81(0x401)](_0x5a4f8b,_0x1d9fa6){const _0x3441e7=a0_0x452e81;return await this['waMonitor']['waInstances'][_0x5a4f8b[_0x3441e7(0x462)]][_0x3441e7(0x401)](_0x1d9fa6);}async[a0_0x452e81(0xb8)](_0x4f0c7c,_0x54499c){const _0xbe40ab=a0_0x452e81;return await this[_0xbe40ab(0x13d)][_0xbe40ab(0x713)][_0x4f0c7c[_0xbe40ab(0x462)]][_0xbe40ab(0xb8)](_0x54499c);}async[a0_0x452e81(0x26d)](_0x3df14f,_0x1786db){const _0x1975a0=a0_0x452e81;return await this[_0x1975a0(0x13d)][_0x1975a0(0x713)][_0x3df14f[_0x1975a0(0x462)]][_0x1975a0(0x26d)](_0x1786db);}async['editFlowVaredit'](_0x1a34af,_0x17035a){const _0x4ef9e5=a0_0x452e81;return await this['waMonitor'][_0x4ef9e5(0x713)][_0x1a34af['instanceName']][_0x4ef9e5(0x2f2)](_0x17035a);}async[a0_0x452e81(0x388)](_0x143a05,_0x132c7c){const _0x3e900a=a0_0x452e81;return await this[_0x3e900a(0x13d)][_0x3e900a(0x713)][_0x143a05[_0x3e900a(0x462)]][_0x3e900a(0x388)](_0x132c7c);}async[a0_0x452e81(0x188)](_0x1af0e6,_0x4c1793){const _0x3ee6e5=a0_0x452e81;return await this[_0x3ee6e5(0x13d)][_0x3ee6e5(0x713)][_0x1af0e6[_0x3ee6e5(0x462)]]['deleteFlow'](_0x4c1793[_0x3ee6e5(0x396)]);}async[a0_0x452e81(0x3da)](_0x5370f2){const _0x28e1db=a0_0x452e81;return await this[_0x28e1db(0x13d)][_0x28e1db(0x713)][_0x5370f2[_0x28e1db(0x462)]][_0x28e1db(0x3da)]();}},qt=class{constructor(_0x491545){const _0x2d32b2=a0_0x452e81;this[_0x2d32b2(0x587)]=_0x491545;}async['createWebhook'](_0x1450e6,_0x3408e5){const _0x5530f4=a0_0x452e81;return this[_0x5530f4(0x587)][_0x5530f4(0x47e)](_0x1450e6,_0x3408e5);}async[a0_0x452e81(0x5fe)](_0x5e6801){const _0x1bf5a6=a0_0x452e81;return this['webhookService'][_0x1bf5a6(0x1b8)](_0x5e6801);}},Vt=class extends I{constructor(_0x4c5499,_0x407a5a){const _0x116163=a0_0x452e81;super(_0x407a5a),this[_0x116163(0x64a)]=_0x4c5499,this[_0x116163(0x1b1)]=_0x407a5a;}async[a0_0x452e81(0x47e)](_0x1b6d95,_0x254475){const _0x382137=a0_0x452e81;try{return this[_0x382137(0xdd)][_0x382137(0x356)]?{'insertCount':(await this[_0x382137(0x64a)][_0x382137(0xde)]({'_id':_0x254475},{..._0x1b6d95},{'upsert':!0x0}))[_0x382137(0x206)]}:{'insertCount':0x1};}catch(_0x17ee85){return _0x17ee85;}}async['delete'](_0x195d74){const _0x422285=a0_0x452e81;try{if(this[_0x422285(0xdd)][_0x422285(0x356)]){await this[_0x422285(0x64a)][_0x422285(0x2e0)]({'_id':_0x195d74});return;}}catch(_0x59889f){return{'error':_0x59889f};}}async[a0_0x452e81(0x1b8)](_0x35f7bc){const _0xa976a4=a0_0x452e81;try{if(this[_0xa976a4(0xdd)][_0xa976a4(0x356)])return await this['webhookModel'][_0xa976a4(0x6f9)]({'_id':_0x35f7bc});}catch{return{};}}},Bt=class extends I{constructor(_0x49680e,_0x5536e4){const _0xe236ec=a0_0x452e81;super(_0x5536e4),this['authModel']=_0x49680e,this[_0xe236ec(0x1b1)]=_0x5536e4,this[_0xe236ec(0x129)]=_0x5536e4[_0xe236ec(0x271)](_0xe236ec(0x3b9));}async['create'](_0x20d707,_0x3f4b01){const _0xed969c=a0_0x452e81;try{if(this[_0xed969c(0xdd)][_0xed969c(0x356)])return{'insertCount':(await this[_0xed969c(0x31a)]['updateOne']({'_id':_0x3f4b01},{'$set':{..._0x20d707}},{'upsert':!0x0}))[_0xed969c(0x206)]};}catch(_0x5247e8){return{'error':_0x5247e8};}}async[a0_0x452e81(0xbf)](_0x3c24c3,_0x2ac681){const _0x4888dd=a0_0x452e81;try{if(this[_0x4888dd(0xdd)][_0x4888dd(0x356)])return{'insertCount':(await this[_0x4888dd(0x31a)][_0x4888dd(0x1f8)](_0x3c24c3,{'$set':_0x2ac681},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x4888dd(0x1dd));}catch(_0x4b81d6){return{'error':_0x4b81d6};}}async[a0_0x452e81(0x59b)](_0x53b580){const _0x52e173=a0_0x452e81;try{if(this[_0x52e173(0xdd)][_0x52e173(0x356)])return{'insertCount':(await this[_0x52e173(0x31a)]['deleteMany'](_0x53b580))[_0x52e173(0x269)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x1fb104){return{'error':_0x1fb104};}}async[a0_0x452e81(0x470)](_0x260cc3){const _0x3d25b0=a0_0x452e81;try{if(this[_0x3d25b0(0xdd)][_0x3d25b0(0x356)]){await this['authModel']['deleteOne']({'_id':_0x260cc3});return;}}catch(_0x1cd218){return{'error':_0x1cd218};}}async[a0_0x452e81(0x1b8)](_0x2ab9ab){const _0x11cb2a=a0_0x452e81;try{if(this['dbSettings'][_0x11cb2a(0x356)])return await this[_0x11cb2a(0x31a)]['findOne']({'_id':_0x2ab9ab});}catch{return{};}}async[a0_0x452e81(0x34d)](){const _0x1ad950=a0_0x452e81;try{if(this[_0x1ad950(0xdd)][_0x1ad950(0x356)])return await this[_0x1ad950(0x31a)][_0x1ad950(0x1b8)]();}catch{return[];}}},Gt=class extends I{['getFlowModelForOwner'](_0x237c7a){return ta(_0x237c7a);}async[a0_0x452e81(0x192)](_0x3871e0){const _0x2505c5=a0_0x452e81;try{let _0x2dd83a=sa,_0x5a9d6b=this['getFlowModelForOwner'](_0x3871e0),_0x6313e1=await _0x2dd83a[_0x2505c5(0x1b8)]({'owner':_0x3871e0})['lean'](),_0x135d95=[],_0x2ec08f=[];for(let _0x330a84 of _0x6313e1)await _0x5a9d6b[_0x2505c5(0x680)](_0x330a84[_0x2505c5(0x294)])[_0x2505c5(0x5f6)]()||(_0x135d95[_0x2505c5(0x58a)](_0x330a84),_0x2ec08f[_0x2505c5(0x58a)](_0x330a84['_id']));return _0x135d95[_0x2505c5(0x5c6)]>0x0&&await _0x5a9d6b[_0x2505c5(0x16c)](_0x135d95,{'ordered':!0x1}),{'success':!0x0};}catch(_0x349d37){return console[_0x2505c5(0xe6)](_0x2505c5(0x230),_0x349d37),{'success':!0x1,'error':_0x349d37};}}async['delete'](_0xd52f12,_0x2b823c){const _0x1c8ba7=a0_0x452e81;try{let _0x1e6210=this['getFlowModelForOwner'](_0x2b823c),_0xbb460d=A(_0xd52f12['where']);return{'deletedCount':(await _0x1e6210['deleteMany'](_0xbb460d))['deletedCount']};}catch(_0xeb89a0){return{'error':_0xeb89a0?.[_0x1c8ba7(0x52d)]()};}}async[a0_0x452e81(0x2e0)](_0x2e1161,_0x5e4de5){const _0x2f747c=a0_0x452e81;try{let _0x3b02fb=this[_0x2f747c(0x4fe)](_0x5e4de5),_0x98a9e5=A(_0x2e1161[_0x2f747c(0x63e)]);return{'deletedCount':(await _0x3b02fb[_0x2f747c(0x2e0)](_0x98a9e5))['deletedCount']};}catch(_0xdcc185){return{'error':_0xdcc185?.[_0x2f747c(0x52d)]()};}}async[a0_0x452e81(0x4b3)](_0x24fa84,_0x56071e,_0x1f19eb){const _0x48c2a8=a0_0x452e81;try{return await this['getFlowModelForOwner'](_0x1f19eb)[_0x48c2a8(0x3a0)](_0x24fa84,_0x56071e,{'new':!0x0});}catch(_0x36385f){return console[_0x48c2a8(0xe6)](_0x48c2a8(0x436),_0x36385f),null;}}async[a0_0x452e81(0x3e6)](_0x302cbb,_0x427002){const _0x2ab868=a0_0x452e81;try{let _0x16b99a=this[_0x2ab868(0x4fe)](_0x427002);return await new _0x16b99a(_0x302cbb)[_0x2ab868(0x139)]();}catch(_0x4efb50){return console[_0x2ab868(0xe6)](_0x2ab868(0x108),_0x4efb50),null;}}async[a0_0x452e81(0x1f8)](_0x588ad0,_0x4de919,_0x1fe489){const _0x5812a0=a0_0x452e81;try{return{'modifiedCount':(await this[_0x5812a0(0x4fe)](_0x1fe489)[_0x5812a0(0x1f8)](_0x588ad0,{'$set':_0x4de919}))[_0x5812a0(0x206)]};}catch(_0x200988){return console['error'](_0x5812a0(0x31c),_0x200988),{'error':_0x200988};}}async['findAll'](_0x1fc477,_0x12ca23){const _0x17e974=a0_0x452e81;try{let _0x1075d7=this[_0x17e974(0x4fe)](_0x12ca23),_0x39a91d=A(_0x1fc477['where']);return await _0x1075d7['find'](_0x39a91d)['limit'](_0x1fc477?.[_0x17e974(0x364)]??0x0)[_0x17e974(0x5f6)]();}catch{return[];}}async['findOne'](_0x1e06dd,_0x16f12d){const _0x356d41=a0_0x452e81;try{let _0x4181b7=this['getFlowModelForOwner'](_0x16f12d),_0x28751c=A(_0x1e06dd['where']);return await _0x4181b7[_0x356d41(0x6f9)](_0x28751c)[_0x356d41(0x5f6)]();}catch{return null;}}async[a0_0x452e81(0x448)](_0x56b303){const _0x39a84b=a0_0x452e81;try{return await this[_0x39a84b(0x4fe)](_0x56b303)[_0x39a84b(0x44a)][_0x39a84b(0x5af)](),{'success':!0x0};}catch(_0x3cd07f){return console[_0x39a84b(0xe6)](_0x3cd07f),{'success':!0x1,'error':_0x3cd07f};}}},Wt=class extends I{[a0_0x452e81(0x2af)](_0x109492){return ra(_0x109492);}async[a0_0x452e81(0x192)](_0x595af1){const _0x4e15a2=a0_0x452e81;try{let _0x80718d=oa,_0x24ac11=this['getConversationModelForOwner'](_0x595af1),_0x508836=await _0x80718d[_0x4e15a2(0x1b8)]({'owner':_0x595af1})['lean'](),_0x484282=[],_0xdc1b81=[];for(let _0x4825f3 of _0x508836)await _0x24ac11['findById'](_0x4825f3[_0x4e15a2(0x294)])[_0x4e15a2(0x5f6)]()||(_0x484282[_0x4e15a2(0x58a)](_0x4825f3),_0xdc1b81['push'](_0x4825f3['_id']));return _0x484282[_0x4e15a2(0x5c6)]>0x0&&await _0x24ac11[_0x4e15a2(0x16c)](_0x484282,{'ordered':!0x1}),{'success':!0x0};}catch(_0x230661){return console[_0x4e15a2(0xe6)](_0x4e15a2(0x230),_0x230661),{'success':!0x1,'error':_0x230661};}}async[a0_0x452e81(0x714)](_0xeaa2b8){const _0x3e29fb=a0_0x452e81;if(_0xeaa2b8[_0x3e29fb(0x5c6)]!==0x0)try{return{'insertCount':(await this[_0x3e29fb(0x2af)](_0xeaa2b8[0x0][_0x3e29fb(0x334)])['insertMany']([..._0xeaa2b8]))['length']};}catch(_0x2965b3){return _0x2965b3;}}async[a0_0x452e81(0x470)](_0x51e85c,_0x17989b){const _0x215ba3=a0_0x452e81;try{let _0x15e03c=this[_0x215ba3(0x2af)](_0x17989b),_0x5e9cbd=A(_0x51e85c['where']);return{'deletedCount':(await _0x15e03c['deleteMany'](_0x5e9cbd))[_0x215ba3(0x269)]};}catch(_0x1945cd){return{'error':_0x1945cd?.[_0x215ba3(0x52d)]()};}}async[a0_0x452e81(0x2e0)](_0x4e38aa,_0x52fb87){const _0x35f7ee=a0_0x452e81;try{let _0x51da36=this[_0x35f7ee(0x2af)](_0x52fb87),_0x473d8a=A(_0x4e38aa[_0x35f7ee(0x63e)]);return{'deletedCount':(await _0x51da36[_0x35f7ee(0x2e0)](_0x473d8a))[_0x35f7ee(0x269)]};}catch(_0x18020d){return{'error':_0x18020d?.[_0x35f7ee(0x52d)]()};}}async['update'](_0x51a780,_0x498c23){const _0x1c7ae1=a0_0x452e81;try{if(_0x51a780['length']===0x0)return;let _0x15d690=this[_0x1c7ae1(0x2af)](_0x498c23),_0x13a54e=_0x51a780[_0x1c7ae1(0x353)](_0x4f73ec=>({'updateOne':{'filter':{'name':_0x4f73ec[_0x1c7ae1(0x396)],'owner':_0x498c23},'update':{..._0x4f73ec}}})),{modifiedCount:_0x5763dc}=await _0x15d690[_0x1c7ae1(0x141)](_0x13a54e);return{'insertCount':_0x5763dc};}catch{return;}}async[a0_0x452e81(0x1f8)](_0x4c31a6,_0xdf2a4b,_0x13acf9){const _0x30d82d=a0_0x452e81;try{return{'modifiedCount':(await this[_0x30d82d(0x2af)](_0x13acf9)['updateMany'](_0x4c31a6,{'$set':_0xdf2a4b}))['modifiedCount']};}catch(_0x882772){return console[_0x30d82d(0xe6)](_0x30d82d(0x331),_0x882772),{'error':_0x882772};}}async[a0_0x452e81(0x4b3)](_0x2bae5e,_0xde34ff,_0x1dafe0){const _0x25ac28=a0_0x452e81;try{return await this[_0x25ac28(0x2af)](_0x1dafe0)['findOneAndUpdate']({'_id':_0x2bae5e},{'$set':_0xde34ff},{'new':!0x0,'upsert':!0x0})[_0x25ac28(0x5f6)]();}catch(_0x5609c7){return console[_0x25ac28(0xe6)](_0x5609c7),null;}}async['find'](_0x3eaddb,_0x53d4e4){const _0x4c7c6d=a0_0x452e81;try{return await this[_0x4c7c6d(0x2af)](_0x53d4e4)[_0x4c7c6d(0x1b8)](_0x3eaddb)['sort']({'lastInteraction':-0x1})[_0x4c7c6d(0x5f6)]();}catch{return[];}}async[a0_0x452e81(0x6f9)](_0x452ba8,_0x20c7f5){const _0x597c30=a0_0x452e81;try{return await this[_0x597c30(0x2af)](_0x20c7f5)['findOne']({..._0x452ba8[_0x597c30(0x63e)]})['lean']();}catch{return null;}}async['deleteAll'](_0x1a8714){const _0x1dd5b1=a0_0x452e81;try{return await this[_0x1dd5b1(0x2af)](_0x1a8714)[_0x1dd5b1(0x44a)][_0x1dd5b1(0x5af)](),{'success':!0x0};}catch(_0x2fcd36){return console[_0x1dd5b1(0xe6)](_0x2fcd36),{'success':!0x1,'error':_0x2fcd36};}}},zt=class extends I{[a0_0x452e81(0x639)](_0x4e543f){return na(_0x4e543f);}async[a0_0x452e81(0x192)](_0x5f5bf0){const _0x49d38b=a0_0x452e81;try{let _0x568b4f=ca,_0x3ce0a4=this[_0x49d38b(0x639)](_0x5f5bf0),_0x1a5ea5=await _0x568b4f['find']({'owner':_0x5f5bf0})['lean'](),_0x22e936=[],_0x454c26=[];for(let _0x408d64 of _0x1a5ea5)await _0x3ce0a4[_0x49d38b(0x680)](_0x408d64[_0x49d38b(0x294)])[_0x49d38b(0x5f6)]()||(_0x22e936[_0x49d38b(0x58a)](_0x408d64),_0x454c26[_0x49d38b(0x58a)](_0x408d64[_0x49d38b(0x294)]));return _0x22e936[_0x49d38b(0x5c6)]>0x0&&await _0x3ce0a4[_0x49d38b(0x16c)](_0x22e936,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1b39e3){return console[_0x49d38b(0xe6)](_0x49d38b(0x230),_0x1b39e3),{'success':!0x1,'error':_0x1b39e3};}}async[a0_0x452e81(0x3e6)](_0x1114f5,_0x2ddaed){const _0x822623=a0_0x452e81;try{let _0x40fc56=this[_0x822623(0x639)](_0x2ddaed);return await new _0x40fc56(_0x1114f5)[_0x822623(0x139)]();}catch(_0x1b0dab){return console[_0x822623(0xe6)](_0x822623(0x108),_0x1b0dab),null;}}async[a0_0x452e81(0x2e0)](_0x4c0030,_0x32a612){const _0x267c3b=a0_0x452e81;try{return await this[_0x267c3b(0x639)](_0x32a612)[_0x267c3b(0x39b)](_0x4c0030),{};}catch(_0x5cd1c4){return{'error':_0x5cd1c4?.['toString']()};}}async['updateOne'](_0x2576ee,_0x46dbf3,_0x2d6009){const _0x16b2cd=a0_0x452e81;try{return await this['getScheduleMessageModelForOwner'](_0x2d6009)[_0x16b2cd(0x349)](_0x2576ee,{'$set':_0x46dbf3},{'new':!0x0})[_0x16b2cd(0x5f6)]();}catch(_0xa92ca1){return console['error'](_0x16b2cd(0x120),_0xa92ca1),null;}}async[a0_0x452e81(0x42c)](_0x56755f,_0xf7d703,_0x5996da){const _0x2b52a5=a0_0x452e81;try{return await this[_0x2b52a5(0x639)](_0x5996da)['findByIdAndUpdate'](_0x56755f,_0xf7d703,{'new':!0x0})[_0x2b52a5(0x5f6)]();}catch(_0x142b1d){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x142b1d),null;}}async[a0_0x452e81(0x1b8)](_0x5508f7,_0x4c08ef){const _0x4144d8=a0_0x452e81;try{return await this['getScheduleMessageModelForOwner'](_0x4c08ef)['find'](_0x5508f7[_0x4144d8(0x63e)])[_0x4144d8(0x364)](_0x5508f7?.[_0x4144d8(0x364)]??0x0)['sort']({'when':0x1})[_0x4144d8(0x5f6)]();}catch{return[];}}async[a0_0x452e81(0x6f9)](_0x50508d,_0x3c1f81){const _0x3f1d4f=a0_0x452e81;try{return await this['getScheduleMessageModelForOwner'](_0x3c1f81)[_0x3f1d4f(0x6f9)](_0x50508d[_0x3f1d4f(0x63e)])['sort']({'when':0x1})['lean']();}catch{return null;}}async[a0_0x452e81(0x680)](_0x36acd5,_0x5c5dd5){const _0x233ff9=a0_0x452e81;try{return await this[_0x233ff9(0x639)](_0x5c5dd5)[_0x233ff9(0x680)](_0x36acd5)[_0x233ff9(0x5f6)]();}catch{return null;}}async['deleteMany'](_0x1f1a6a,_0x3b7f9a){const _0x8bbbb7=a0_0x452e81;try{return{'deletedCount':(await this[_0x8bbbb7(0x639)](_0x3b7f9a)[_0x8bbbb7(0x59b)](_0x1f1a6a))['deletedCount']};}catch(_0x2750d8){return console[_0x8bbbb7(0xe6)](_0x8bbbb7(0x580),_0x2750d8),{'error':_0x2750d8};}}async[a0_0x452e81(0x448)](_0xed184){const _0x39baef=a0_0x452e81;try{return await this[_0x39baef(0x639)](_0xed184)[_0x39baef(0x44a)][_0x39baef(0x5af)](),{'success':!0x0};}catch(_0x4ebd00){return console['error'](_0x4ebd00),{'success':!0x1,'error':_0x4ebd00};}}},Ht=class extends I{async[a0_0x452e81(0x121)](_0x40290b,_0x2e4b7a){const _0x1c18c4=a0_0x452e81;try{if(this['dbSettings']['ENABLED']){let _0x590ce6=await _e['findOneAndUpdate']({'_id':_0x2e4b7a},{'$set':_0x40290b},{'new':!0x0});return console[_0x1c18c4(0x1b7)]('Resultado\x20da\x20atualização:',_0x590ce6),_0x590ce6;}}catch(_0x3fa287){throw console[_0x1c18c4(0xe6)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x3fa287),_0x3fa287;}}async[a0_0x452e81(0x612)](_0x31ea3b){const _0x42f903=a0_0x452e81;try{let _0x5fdf29=await _e[_0x42f903(0x680)](_0x31ea3b);return _0x5fdf29||(_0x5fdf29=new _e({'_id':_0x31ea3b}),await _0x5fdf29['save']()),_0x5fdf29;}catch(_0x379acb){return console[_0x42f903(0xe6)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x379acb),null;}}},wo=new v('WA\x20MODULE'),bo=new Le(b),So=new Pt(b),Eo=new Qe(b),Co=new Vt(Qs,b),Mo=new Bt(zs,b),vo=new Gt(b),No=new _t(b),Ro=new Wt(b),To=new zt(b),Ao=new Ht(b),le=new $e(bo,So,Eo,Co,Mo,vo,Ro,No,To,Ao,N?.[a0_0x452e81(0x300)]()),B=new xt(es,b,le),Oo=new Ft(b,B,le),Io=new Jt(B),gs=new qt(Io),T=new jt(B),re=new kt(B,b,le,es,Oo),G=new Lt(B),D=new $t(B),J=new Ut(B);wo['info'](a0_0x452e81(0x49f));var gg=require(a0_0x452e81(0x6df)),Ts=require('fs'),Cr=R(require('https')),Mr=R(require('http')),Ne=class c{static #e;static set[a0_0x452e81(0x153)](_0x28eb7d){this.#e=_0x28eb7d;}static get[a0_0x452e81(0x518)](){const _0x2ef74b=a0_0x452e81;let {FULLCHAIN:_0x5bd89a,PRIVKEY:_0x3badd8}=b[_0x2ef74b(0x271)]('SSL_CONF');return Cr['createServer']({'cert':(0x0,Ts[_0x2ef74b(0x2a4)])(_0x5bd89a),'key':(0x0,Ts[_0x2ef74b(0x2a4)])(_0x3badd8)},c.#e);}static get[a0_0x452e81(0x451)](){const _0x3aec60=a0_0x452e81;return Mr[_0x3aec60(0x6f2)](c.#e);}},de=R(require('fs')),Or=R(require(a0_0x452e81(0x39a))),Re=R(require(a0_0x452e81(0x5bc))),Ae=R(require(a0_0x452e81(0x503))),Oe=require(a0_0x452e81(0x3a3));function Do(){const _0x2d1b07=a0_0x452e81;B['loadInstance']();let _0x37f75b=Ae[_0x2d1b07(0x463)][_0x2d1b07(0x6c3)](__dirname,'downloads');Ar(_0x37f75b);}var Ar=_0x595a9a=>{const _0x10d063=a0_0x452e81;let _0x135d53=de[_0x10d063(0x463)][_0x10d063(0xc0)](_0x595a9a),_0x438740=0xc*0x3c*0x3c*0x3e8,_0xc834c7=0x2*0x3c*0x3c*0x3e8,_0x366103=new Date()['getTime']();_0x135d53['forEach'](_0x4d139e=>{const _0x56f66f=_0x10d063;let _0x3fb2e9=Ae[_0x56f66f(0x463)][_0x56f66f(0x6c3)](_0x595a9a,_0x4d139e),_0x2db30f=de[_0x56f66f(0x463)][_0x56f66f(0x4dd)](_0x3fb2e9)[_0x56f66f(0x308)][_0x56f66f(0x2e9)]();_0x366103-_0x2db30f>_0x438740&&(de[_0x56f66f(0x463)]['unlinkSync'](_0x3fb2e9),console[_0x56f66f(0x1b7)](_0x56f66f(0x3f7)+_0x4d139e));}),setTimeout(()=>Ar(_0x595a9a),_0xc834c7);};function xo(){const _0xcdfdc3=a0_0x452e81;let _0x245b97=new v(_0xcdfdc3(0x32e)),_0xe1db79=(0x0,pe[_0xcdfdc3(0x463)])();_0xe1db79[_0xcdfdc3(0x2a5)]((0x0,Tr[_0xcdfdc3(0x463)])({'origin'(_0x5bb6ce,_0x1ef0e9){const _0x2adf4e=_0xcdfdc3;let {ORIGIN:_0x55cbf2}=b[_0x2adf4e(0x271)](_0x2adf4e(0x67a));return _0x5bb6ce||(_0x5bb6ce='*'),_0x55cbf2[_0x2adf4e(0x1c3)]('*')!==-0x1||_0x55cbf2['indexOf'](_0x5bb6ce)!==-0x1?_0x1ef0e9(null,!0x0):_0x1ef0e9(new Error(_0x2adf4e(0x11b)));},'methods':[...b[_0xcdfdc3(0x271)](_0xcdfdc3(0x67a))[_0xcdfdc3(0x1bc)]],'credentials':b[_0xcdfdc3(0x271)]('CORS')[_0xcdfdc3(0x662)]}),(0x0,pe[_0xcdfdc3(0x38f)])({'extended':!0x0,'limit':_0xcdfdc3(0x669)}),(0x0,pe[_0xcdfdc3(0x1d5)])({'limit':_0xcdfdc3(0x669)})),_0xe1db79['use']((_0x8deb52,_0xfced2a,_0x23db89)=>{const _0x4fdd69=_0xcdfdc3;_0x8deb52['path'][_0x4fdd69(0x5f4)]('/events')?_0x23db89():(0x0,Rr[_0x4fdd69(0x463)])()(_0x8deb52,_0xfced2a,_0x23db89);}),_0xe1db79[_0xcdfdc3(0x2ba)](_0xcdfdc3(0x2d7),_0xcdfdc3(0x34e)),_0xe1db79[_0xcdfdc3(0x2ba)](_0xcdfdc3(0x3b8),(0x0,Os['join'])(ae,_0xcdfdc3(0x3b8))),_0xe1db79['use'](pe[_0xcdfdc3(0x463)][_0xcdfdc3(0x416)]((0x0,Os['join'])(ae,'public'))),_0xe1db79[_0xcdfdc3(0x2a5)]((_0x481e30,_0x232799,_0x3a6f90)=>{let _0x2744b7=_0x232799['send'];_0x232799['send']=function(_0x55c444){const _0x1fde56=a0_0x3d1d;if(_0x481e30[_0x1fde56(0x2c1)][_0x1fde56(0x297)]==='true'||_0x481e30[_0x1fde56(0x21d)][_0x1fde56(0x2a3)]===_0x1fde56(0x49e)){let _0x180ab1=JSON[_0x1fde56(0x132)](_0x55c444);_0x55c444=JSON[_0x1fde56(0x1b4)](_0x29eaa5(_0x180ab1));}return _0x2744b7['apply'](_0x232799,[_0x55c444]);},_0x3a6f90();}),_0xe1db79[_0xcdfdc3(0x2a5)]('/',vt),_0xe1db79[_0xcdfdc3(0x2a5)]((_0x2c9a29,_0x47ac48,_0x5f0082,_0x2f13ef)=>{const _0x1434a9=_0xcdfdc3;if(_0x2c9a29)return _0x5f0082[_0x1434a9(0x409)](_0x2c9a29['status']||0x1f4)['json'](_0x2c9a29);},(_0x40a738,_0x48c5b8,_0x95490c)=>{const _0x3eb6ba=_0xcdfdc3;let {method:_0x301513,url:_0x2ac77a}=_0x40a738;_0x48c5b8[_0x3eb6ba(0x409)](0x194)[_0x3eb6ba(0x1d5)]({'status':0x194,'message':_0x3eb6ba(0x617)+_0x301513['toUpperCase']()+'\x20'+_0x2ac77a,'error':_0x3eb6ba(0x537)}),_0x95490c();});let _0x29eaa5=(_0x51381f,_0x463b56=_0xcdfdc3(0x17d))=>{const _0x535fb5=_0xcdfdc3;let _0x122532=(_0x689336,_0x2fb1ef=null,_0x5f1c01=!0x1)=>{const _0x277d8b=a0_0x3d1d;let _0x533f53={};return Object['keys'](_0x689336)[_0x277d8b(0x446)](_0x106287=>{const _0x28afcf=_0x277d8b;let _0x3ffc73=_0x689336[_0x106287],_0x362e6e=''+_0x463b56+_0x106287;_0x2fb1ef&&!_0x5f1c01&&(_0x362e6e=_0x2fb1ef+'.'+_0x106287),!_0x3ffc73&&_0x3ffc73!==0x0&&_0x3ffc73!==!0x1||typeof _0x3ffc73>'u'?_0x533f53[_0x362e6e]=null:typeof _0x3ffc73!='object'&&!Array[_0x28afcf(0x709)](_0x3ffc73)?_0x533f53[_0x362e6e]=_0x3ffc73:typeof _0x3ffc73=='object'&&!Array['isArray'](_0x3ffc73)?_0x533f53=Object[_0x28afcf(0x14c)](_0x533f53,_0x122532(_0x3ffc73,_0x362e6e)):Array[_0x28afcf(0x709)](_0x3ffc73)&&(typeof _0x3ffc73[0x0]==_0x28afcf(0x5aa)?(_0x533f53[_0x362e6e]=[],_0x3ffc73['forEach'](_0x5e8bed=>{const _0x1ce465=_0x28afcf;_0x533f53[_0x362e6e][_0x1ce465(0x58a)](_0x122532(_0x5e8bed,_0x362e6e,!0x0));})):_0x533f53[_0x362e6e]=_0x3ffc73);}),_0x533f53;};return Array[_0x535fb5(0x709)](_0x51381f)?_0x51381f[_0x535fb5(0x353)](_0x58df8c=>_0x122532(_0x58df8c)):typeof _0x51381f=='object'&&_0x51381f!==null?_0x122532(_0x51381f):{};},_0x1066c4=b[_0xcdfdc3(0x271)]('SERVER');Ne[_0xcdfdc3(0x153)]=_0xe1db79;let _0x26f11e=Ne[_0x1066c4[_0xcdfdc3(0x131)]],_0x4b1979='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x26f11e[_0xcdfdc3(0x227)](_0x1066c4[_0xcdfdc3(0x1e6)],()=>{const _0x37a655=_0xcdfdc3;_0x245b97['log'](_0x4b1979),_0x245b97[_0x37a655(0x1b7)](_0x1066c4['TYPE'][_0x37a655(0x185)]()+_0x37a655(0x2c2)+_0x1066c4[_0x37a655(0x1e6)]);}),Do(),Us();}var Po=a0_0x452e81(0x2f9),_o=Ae[a0_0x452e81(0x463)][a0_0x452e81(0x6c3)](__dirname,'./.git/config'),Te=null;function $o(){return new Promise((_0x383de2,_0x2651d9)=>{const _0x1b422f=a0_0x3d1d;de['default'][_0x1b422f(0x44e)](_o,_0x1b422f(0x5e2),(_0x4183b3,_0x6e0616)=>{const _0x2c3741=_0x1b422f;if(_0x4183b3){Te=_0x4183b3,_0x383de2();return;}Or[_0x2c3741(0x463)][_0x2c3741(0x132)](_0x6e0616)['remote\x20\x22origin\x22']['url']===Po?(Te=null,_0x383de2()):(Te=new Error(_0x2c3741(0x51b)),_0x383de2());});});}async function ko(){const _0x327e57=a0_0x452e81;try{await $o(),await Is();}catch(_0x45773f){console['error'](_0x327e57(0x17c)+_0x45773f),process[_0x327e57(0x12c)](0x1);}}ko();async function Ir(){const _0x8f718f=a0_0x452e81;let _0xc524;try{_0xc524=(await Re['default'][_0x8f718f(0x271)](_0x8f718f(0x658)))[_0x8f718f(0x28e)]['ip'];}catch(_0x579e07){console[_0x8f718f(0xe6)](_0x579e07);try{_0xc524=(await Re[_0x8f718f(0x463)]['get'](_0x8f718f(0x47d)))['data']['ip'];}catch(_0x5c9a19){console[_0x8f718f(0xe6)](_0x5c9a19);try{_0xc524=(await Re[_0x8f718f(0x463)][_0x8f718f(0x271)](_0x8f718f(0x15d)))[_0x8f718f(0x28e)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5de1ba){return console[_0x8f718f(0xe6)](_0x5de1ba),!0x1;}}}return _0xc524;}var vr=0x0;async function Lo(){const _0x539147=a0_0x452e81;let _0x1f6f95=await new oe(b['get']('REDIS'))[_0x539147(0x57e)]();return console[_0x539147(0x1b7)](_0x539147(0x16d),_0x1f6f95[_0x539147(0x5c6)]),_0x1f6f95[_0x539147(0x5c6)];}function Fo(_0x2a1b60){const _0x19b58d=a0_0x452e81;let _0x2427b9=_0x2a1b60[_0x19b58d(0x271)](_0x19b58d(0x32e))['URL'],_0x2a1fab=_0x2a1b60[_0x19b58d(0x271)]('SSL_CONF'),_0x2a059e;if(_0x2427b9){let _0x40a840=_0x2427b9[_0x19b58d(0x3cc)](/\/\/(.*?)\./);_0x40a840&&_0x40a840[0x1]&&(_0x2a059e=_0x40a840[0x1]);}if(!_0x2a059e&&_0x2a1fab&&_0x2a1fab[_0x19b58d(0x63d)]){let _0x15f503=_0x2a1fab[_0x19b58d(0x63d)]['split']('/'),_0x553cdd=_0x15f503[_0x15f503[_0x19b58d(0x5c6)]-0x2];if(_0x553cdd){let _0x713195=_0x553cdd[_0x19b58d(0x688)]('.');_0x713195['length']>0x2&&(_0x2a059e=_0x713195[0x0]);}}return _0x2a059e;}var vs=Fo(b);async function Uo(){const _0x3decc8=a0_0x452e81;let _0x1be516=b[_0x3decc8(0x271)]('REDIS'),_0x2f463f=b['get'](_0x3decc8(0x3b9))['API_KEY'][_0x3decc8(0x4d5)],_0x1f3fd7=b[_0x3decc8(0x271)](_0x3decc8(0x53d)),_0x540466=await Ir(),_0x55794b=b['get'](_0x3decc8(0x32e))[_0x3decc8(0x1e6)],_0x14cf40=b[_0x3decc8(0x271)]('SERVER')['URL'];try{let _0x994efc={'ip':_0x540466||null,'redis_enable':_0x1be516?.[_0x3decc8(0x356)]||null,'apikey':_0x2f463f||null,'ssl':_0x1f3fd7?.[_0x3decc8(0x66a)]||null,'lastupdate':Dr||null,'port':_0x55794b||null,'gitInstallError':Te?.[_0x3decc8(0x46c)]||null,'url':_0x14cf40||null};if(console[_0x3decc8(0x1b7)](_0x3decc8(0x5d6),_0x994efc['ip']),_0x1be516&&_0x1be516['ENABLED']){let _0x5348c1=await Lo();_0x994efc['instanceCount']=_0x5348c1||null;}for(let _0x13e6f2 in _0x994efc)_0x994efc[_0x3decc8(0x2eb)](_0x13e6f2)&&_0x13e6f2!=='ip'&&(_0x994efc[_0x13e6f2]=JSON[_0x3decc8(0x1b4)](_0x994efc[_0x13e6f2]));return(await Re[_0x3decc8(0x463)]['post'](_0x3decc8(0x445),_0x994efc))['data'];}catch(_0x2a88f5){return console[_0x3decc8(0xe6)](_0x2a88f5),!0x1;}}var As=!0x1,Dr=0x21d,Jo=0x3,Nr=0x1b7740;async function Is(){const _0x3b23ed=a0_0x452e81;if(!await Ir())return console[_0x3b23ed(0xe6)](_0x3b23ed(0x28a)),_0x3b23ed(0x2b9);let _0x4633e1=await Uo();if(_0x4633e1){if(_0x4633e1['response']['licenca']===!0x0){b['get'](_0x3b23ed(0x53d))['PRIVKEY'][_0x3b23ed(0x4f7)]('<subdomain>')&&_0x4633e1['response']['subdomain']&&(await Vo(_0x4633e1[_0x3b23ed(0x10f)]['subdomain'],qo),await Bo(_0x3b23ed(0x6f1),_0x4633e1[_0x3b23ed(0x10f)]['subdomain']),console[_0x3b23ed(0x1b7)](_0x3b23ed(0x1d0)),setTimeout(()=>Wo(),0x2710)),Te===null&&_0x4633e1['response'][_0x3b23ed(0x278)]-Dr>0x0&&await jo(),As||(As=!0x0,xo());let _0x1c09b0=0x24*0x3c*0x3c,_0xd92507=_0x4633e1[_0x3b23ed(0x10f)][_0x3b23ed(0x513)]>_0x1c09b0?_0x1c09b0:_0x4633e1[_0x3b23ed(0x10f)]['segundos'],_0x5c4340=Number(_0xd92507);if(isNaN(_0x5c4340)){console[_0x3b23ed(0xe6)](_0x3b23ed(0x1a7));return;}let _0x505937=Math['floor'](_0x5c4340/0xe10),_0x2a0fd9=Math['floor'](_0x5c4340%0xe10/0x3c),_0x385c38=new Date(Date[_0x3b23ed(0x2f8)]()+_0x5c4340*0x3e8);setTimeout(Is,_0x5c4340*0x3e8);let _0x1405c7=_0x4847e3=>_0x4847e3[_0x3b23ed(0x52d)]()[_0x3b23ed(0x197)](0x2,'0'),_0x1fb309=_0x3b23ed(0x599)+_0x1405c7(_0x505937)+_0x3b23ed(0x56e)+_0x1405c7(_0x2a0fd9)+'\x20minutos.\x20Será\x20às\x20'+_0x1405c7(_0x385c38['getHours']())+':'+_0x1405c7(_0x385c38[_0x3b23ed(0x438)]())+'.';console[_0x3b23ed(0x1b7)](_0x1fb309);}else return console[_0x3b23ed(0x1b7)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),As&&(console[_0x3b23ed(0x1b7)](_0x3b23ed(0xf8)),process[_0x3b23ed(0x12c)]()),_0x3b23ed(0x4a9);}else{if(vr++,vr<Jo)console[_0x3b23ed(0x1b7)](_0x3b23ed(0x22f)+Nr/0xea60+'\x20minutos...'),setTimeout(Is,Nr);else return console[_0x3b23ed(0xe6)](_0x3b23ed(0x287)),_0x3b23ed(0x2ce);}}async function jo(){const _0x296a1e=a0_0x452e81;console[_0x296a1e(0x1b7)](_0x296a1e(0xd2));let _0x132964=(0x0,Oe[_0x296a1e(0x4e0)])(_0x296a1e(0x650),{'shell':!0x0});_0x132964['stdout']['on'](_0x296a1e(0x28e),_0x429356=>{const _0x566671=_0x296a1e;console[_0x566671(0x1b7)](_0x566671(0x681)+_0x429356);}),_0x132964['stderr']['on'](_0x296a1e(0x28e),_0x4988e3=>{const _0x376faf=_0x296a1e;console[_0x376faf(0xe6)]('Erro\x20de\x20atualização:\x20'+_0x4988e3);}),_0x132964['on']('exit',_0x100cb9=>{const _0x2feaf5=_0x296a1e;_0x100cb9!==0x0?console[_0x2feaf5(0xe6)](_0x2feaf5(0x4a1)+_0x100cb9):console[_0x2feaf5(0x1b7)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x2feaf5(0x1b7)](_0x2feaf5(0x63f)),setTimeout(()=>process[_0x2feaf5(0x12c)](),0x2710);});}var qo=Ae[a0_0x452e81(0x463)][a0_0x452e81(0x6c3)](__dirname,a0_0x452e81(0x70e));async function Vo(_0x417619,_0xee3f7d){const _0x4d975c=a0_0x452e81;let _0x688d84=Go();_0x417619=_0x417619[_0x4d975c(0x24b)](_0x4d975c(0x47c),'');try{let _0x594c86=de[_0x4d975c(0x463)][_0x4d975c(0x2a4)](_0xee3f7d,_0x4d975c(0xc1));_0x594c86=_0x594c86[_0x4d975c(0x24b)](/<apikey>/,_0x688d84),_0x594c86=_0x594c86['replace'](/<subdomain>/g,_0x417619),de['default'][_0x4d975c(0x10a)](_0xee3f7d,_0x594c86,_0x4d975c(0xc1)),console[_0x4d975c(0x1b7)](_0x4d975c(0x304));}catch(_0x3733f9){console['error'](_0x4d975c(0x6aa),_0x3733f9);}}function Bo(_0x4a51b7,_0x50cf1c){return new Promise((_0x5cff90,_0x216c7e)=>{const _0x206415=a0_0x3d1d;let _0x327376=(0x0,Oe[_0x206415(0x4e0)])('certbot',['certonly','--standalone','-m',_0x4a51b7,_0x206415(0x413),'-d',_0x50cf1c]);_0x327376['stdout']['on'](_0x206415(0x28e),_0x3b8841=>{const _0x589677=_0x206415;console[_0x589677(0x1b7)](_0x589677(0x3ed)+_0x3b8841['toString']());}),_0x327376[_0x206415(0x2d8)]['on'](_0x206415(0x28e),_0x387479=>{const _0x4bfe5b=_0x206415;console['error'](_0x4bfe5b(0x109)+_0x387479[_0x4bfe5b(0x52d)]());}),_0x327376['on'](_0x206415(0xf7),_0x4fd527=>{const _0x24fc3e=_0x206415;_0x4fd527!==0x0?(console[_0x24fc3e(0xe6)](_0x24fc3e(0x2bb)+_0x4fd527),_0x216c7e(_0x24fc3e(0x2bb)+_0x4fd527)):(console[_0x24fc3e(0x1b7)](_0x24fc3e(0x3b2)),_0x5cff90());});});}function Go(_0x3e573e=0x32){const _0x1e3acc=a0_0x452e81;let _0x5c3739=_0x1e3acc(0xc9),_0x32b3b6='';for(let _0x2edc86=0x0;_0x2edc86<_0x3e573e;_0x2edc86++)_0x32b3b6+=_0x5c3739[_0x1e3acc(0x6c4)](Math[_0x1e3acc(0x5fb)](Math[_0x1e3acc(0x4a5)]()*_0x5c3739[_0x1e3acc(0x5c6)]));return _0x32b3b6;}function Wo(){const _0x4ac9b4=a0_0x452e81;(0x0,Oe[_0x4ac9b4(0xea)])(_0x4ac9b4(0x5d4),(_0xcc711,_0x240bc9,_0x7318b2)=>{const _0x17f29c=_0x4ac9b4;if(_0xcc711){console[_0x17f29c(0xe6)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0xcc711);return;}if(_0x7318b2){console[_0x17f29c(0xe6)]('Erro\x20de\x20reinicialização:\x20'+_0x7318b2);return;}console[_0x17f29c(0x1b7)]('Reinicialização\x20iniciada:\x20'+_0x240bc9);});}function a0_0x30fe(){const _0x59ce28=['startFlow','\x1b[33m','command','type','fetchPrivacySettings','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','prototype','PLAYED','GROUPS_UPSERT','):\x20Criando\x20nova\x20conversa[createNewConversation]','archiveChat','_activatedCount','stickerMessage','https://jsonip.com','STORE_CLEANING_TERMINAL','arraybuffer','setNewValue','size','flowConfig','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','caption','https://uazapi-plugin.bubbleapps.io/?url=','findGroupInfos','CREDENTIALS','flushHeaders','goToFlow','unknown\x20operation\x20type\x20[','chatModify','):\x20Enviando\x20contato','lastBlockId','50mb','PRIVKEY','/instance/fetchInstances','sendDataWebhook','number','/instance/create','ProxyAgent','deleteReplyOption','uazapiSendMedia','getContentType','/instance/delete','):\x20não\x20encontrou','createSectionsFromValues','request','dropCollection','stopIfLastReturnedError','loadInstance','CORS','Type\x20is\x20required','sendPoll','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','formatStatusMessage','slice','findById','Atualização:\x20','temp-','.svg','compression','editflowgroup','contacts.upsert','MAX_RECONNECT_ATTEMPTS','split','Error\x20updating\x20participants','CHATS_UPSERT','chatId','.pdf','getMessage','_Labels','poll','ERROR:\x20','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','cpf','entries','editflow','inviteCode','metadata','demote','https://','Type\x20not\x20found','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','messages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','loadWebhook','WARN','collections','picture','Error\x20writing\x20file:\x20','audioMessage','/wa-contacts','findParticipants','ipify.org','Including\x20timestamp\x20in\x20url:\x20','removeProfilePicture','/wa-chats','Comando\x20desconhecido','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','reorderReplyOptions','replyOptions','Output\x20audio\x20path:\x20','authentication','editFlow','Instance\x20\x22','Authentication\x20error','Error\x20change\x20group\x20description','API\x20Key\x20from\x20Request:','del','STORE_CHATS','Erro\x20ao\x20adicionar\x20label\x20','Audio\x20converted\x20to\x20mp4','updateGParticipant','resetReconnectionVariables','Erro\x20ao\x20buscar\x20conversas:\x20','AppStateSyncKeyData','_Messages','secondValue','):\x20Visualizando\x20AutomateSystem','viewOnceMessageV2','params','Missing\x20global\x20api\x20key','\x1b[34m','join','charAt','4586913wdmVBa','getDevice','):\x20conversation.lastInteraction:\x20','subjectOwner','messageSecret','updateBlock','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','contentText','Business\x20profile\x20fetched','lastmsg','sections','fromObject','COLOR','DaysToDelete','groupadd','AddChatLabel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','setWebhook','.ppt','text','creds.json','GROUPS_UPDATE','InstancesAsDisconnectedX','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','timerId','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','express-async-errors','E-mail:\x20','PASSWORD','saveConversationToDatabase','sendMessageWithTyping','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','REDIS_PREFIX_KEY','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','stoppedUntil','email','testProxy','sendSticker','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','updateReadReceiptsPrivacy','/exit','body','16605170jTvVQH','$dbName','augusto.fcs@gmail.com','createServer','stanzaId','request\x20received\x20in\x20editFlowcondition','presenceSubscribe','getMIMEType','goNextblock','):\x20Buscando\x20conversas...','findOne','toggleEphemeral','\x20-y','string','uazapiSendContact','fullName','MESSAGES_UPDATE','/chat','setting','message_normalized','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','Operador:\x20\x22','height','ids','Rótulo\x20atualizado:','video','isArray','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','getRandomText','delay','STORE_MESSAGE','env.yml','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','vcard','verify','write','waInstances','insert','uuid','):\x20Fluxos\x20não\x20estão\x20ativados','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','\x20contacts','editFlowGroup','Temp\x20image\x20deleted','):\x20Editando\x20bloco...','Erro\x20ao\x20atualizar\x20conversa:\x20','qrCode','encoding','request\x20received\x20in\x20updateFlowConfig','updateAll','readdirSync','utf8','scheduleMessage','variables','!cmd_','):\x20Error\x20processing\x20conditions:\x20','eventemitter2','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','contact','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','removeData','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','jwt','readMessages','subject','qrcode.updated','):\x20Flow\x20desativado','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Parando\x20aplicação,\x20atualização\x20recebida','contacts.update','connectionStatus','INFO','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','lastReceivedMessage','.jwt','):\x20Mensagem\x20já\x20enviada\x20para\x20','creds.update','Error\x20fetching\x20and\x20updating\x20profile:\x20',',\x20resultado:\x20','dbSettings','replaceOne','leadInfo.customFields.','/:instanceName','getLastMessage','stopWhenYouSendMsg','exports','ChatRouter','\x0aFN:','error','locationMessage','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Conversa\x20deletada\x20com\x20sucesso.','exec','connectionUpdate','host','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','reactionMessage','numbers','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Converting\x20image\x20to\x20WebP\x20to\x20sticker','min','less','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','24ktdcyy','waitingMenu_text','close','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','Error\x20change\x20group\x20setting','paused','groups.upsert','conditions','Invalid\x20format','bearer','content','dbInstance','groupCreate','hGetAll','sendText','request\x20received\x20in\x20getAutomateSystem','.png','request\x20received\x20in\x20editConversation','$unset','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Erro\x20do\x20Certbot:\x20','writeFileSync','readMessage','viewOnceMessage','buffer','request\x20body:\x20','response','unavailable','instanceName\x20not\x20provided.','emit','groupSetting','CHATS_DELETE','rm\x20-rf\x20','createJid','Erro:','out','envYaml','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Not\x20allowed\x20by\x20CORS','updateCustomFields','sending','toFile','CORS_METHODS','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','update','):\x20Enviando\x20texto','):\x20debug\x20alterando\x20this.AutomateSystem','Chat\x20com\x20ID\x20','):\x20Usando\x20extensão\x20padrão:\x20','findGroups','Safari\x20(Mac\x20OS)','pre','auth','SERVER_URL','FlowController','exit','writeFile','has','g-t','pollMessageOnDelete','TYPE','parse','leaveGroup','requested\x20testProxy','Error\x20updating\x20profile\x20name','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','Instance\x20restarted','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','save','mentions','flowname:\x20','):\x20teve\x20mudanças\x20chat.displayName:\x20','waMonitor','8080','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','env.KEY\x20!==\x20key','bulkWrite','.ogg','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','put','fetchLatestBaileysVersion','saveTextReply','saveCreds','\x20não\x20encontrado','firstValue','post','assign','API\x20Key\x20inválida.','moreLogs','sleep','leadInfo.','Error\x20updating\x20privacy\x20settings','createNewConversation','app','no-cache','editflowblock','mongodb://','AUTHENTICATION_JWT_EXPIRIN_IN','leadInfo','pop','):\x20Bloco\x20original\x20para\x20cópia:\x20','dataValidate','):\x20Entrou\x20na\x20função\x20saveReply','http://checkip.dyndns.org','createInstance','.chatId','replacer','SSL_CONF_FULLCHAIN','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','CLEANING_INTERVAL','JWT','requestFile','Erro\x20ao\x20atualizar\x20o\x20flow.','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','fetchBusinessProfile','Erro\x20ao\x20editar\x20o\x20chat:\x20','ListMessage','isBase64','insertMany','instancias:\x20','joinGroupValidate','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','getLabelModelForOwner','contextInfo','END:VCARD','instances','listResponseMessage','createConversationforStartFlow','remove.instance','cwd','storePath','selectableCount','buttonMessage','creation','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','_p_','saveVariable','senderKeyDistributionMessage','):\x20Conversa\x20atualizada\x20em\x20memória','QRCODE_UPDATED','chat','jpegThumbnail','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','toUpperCase','deleteMessageForEveryone','994248DhBuYk','deleteFlow','authService','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','not_announcement','updateChatWithMessage','option','mediaMessage','msgRetryCounterCache','\x20instance\x20does\x20not\x20exist','request\x20received\x20in\x20editFlowvariable','copyDataToNewModel','Erro\x20ao\x20remover\x20label\x20','updateProfilePicture','instance.','and','padStart','sort','DOCKER_ENV','express','chatHandle','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','Log\x20out\x20instance:\x20','ListType','newStoppedUntil','DATABASE_CONNECTION_HOST','oldValue','parseInt','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','audio/ogg','exists','Not\x20is\x20business\x20profile','interval\x20não\x20é\x20um\x20número','menuIgnoreNonVotes','editFlowBlock','app-state-sync-key','readMessageBot','sendMenu','processApiRequest','editScheduleMessage','SSL_CONF_PRIVKEY','\x1b[1m','configService','createConversationforgoToFlow','syscall','stringify','):\x20delete\x20=\x20true','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','log','find','replaceValue','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','pt-BR','METHODS','):\x20Conversa\x20está\x20expirada','updateGParticipate','port','Error\x20updating\x20message\x20status:','\x20com\x20sucesso.','messageId','indexOf','value','replaceVariablesChat','silent','replaceVariablesInReplyOptions','options','):\x20Erro\x20ao\x20buscar\x20conversas\x20','throwAndLogError','@broadcast','Erro\x20ao\x20buscar\x20conversa:\x20','addBlock','Imagem\x20não\x20encontrada','labels.association','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','fetchProfile2','instance','):\x20Enviando\x20enquete','https://api.openai.com/v1/audio/speech','json','fetchMessages','contactsArrayMessage','sendAudio','application/octet-stream','):\x20transformedCustomFieldVariables','):\x20Deletando\x20conversa...','.TEL;waid=','Database\x20is\x20not\x20enabled','Contacts\x20not\x20found','writeData','notEmpty','sendContact','isRunning','Variável\x20não\x20encontrada!','):\x20Editando\x20grupo\x20do\x20fluxo...','next_groupId','PORT','request\x20received\x20in\x20getConversation','Unauthorized',',\x20Minutes\x20to\x20Close:\x20','DATABASE','cleanStore','isLong','recording','connecting','AllProxy','LOG','existsSync','evaluateCondition','.mp4','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','empty','):\x20Buscando\x20conversa...','downloads','updateMany','reference','deleteMessage','Image\x20is\x20url','URI','sendStatus','errno','format','success','):\x20this.processingScheduleMessageId:\x20','apiResponse','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','\x20inseridas\x20no\x20banco\x20de\x20dados...','request\x20received\x20in\x20updateCustomFields','modifiedCount','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','PREFIX_KEY','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','lowerCase','fetchConversation','Número:\x20','Flow\x20não\x20encontrado','getBase64FromMediaMessage','\x22\x20-\x20REMOVED','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','LOG_LEVEL','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','Variáveis\x20não\x20encontradas:','Temp\x20audio\x20path:\x20','everyOne','CONTACTS_SET','messageTimestamp','Revoke\x20error','Subscribed\x20Events:','Selecione','findMessages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','headers','Router','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','flowStopMinutes','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','):\x20leadInfoVariables','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','DEBUG','connection.update','webhookMap','listen','local_map','apikey','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Connection\x20closed\x20for\x20instance:\x20','notContains','Content-Type','upsertChats','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','Erro\x20ao\x20copiar\x20dados:','/media','Temp\x20audio\x20created','sendButtons','createProxyConfig','remoteJidsRemaining','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','_FlowHistorico','EXPIRIN_IN','repeat','getOwnPropertyNames','incrementIsValidAttempts','errorLog','Error\x20creating\x20group','buttonId','updatePrivacySettings','groupParticipantsUpdate','content-type','\x0aitem','*\x0a\x0a','getOwnPropertyDescriptor','/wa-message','request\x20received\x20in\x20starFlow','updateFlowConfig','mimetype','replaceVariablesInObject','editedMessage','replace','getMessageModelForOwner','testProxy\x20error:\x20','currency','ERROR','textMessage','notas','load','lastCondition','RemoveChatLabel','checkAndUpdateChatStatus','):\x20Query\x20params:\x20','chatLog','):\x20Enviando\x20áudio','reconnectAttempts','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','):\x20atualização\x20chat:\x20','Getting\x20profile\x20with\x20jid:\x20','\x1b[34m%s\x1b[0m','from','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','profilePictureUrl','document','\x20is\x20already\x20in\x20use.','8DDEqGC','isInteger','groupMetadata','makeCacheableSignalKeyStore','validate','deletedCount','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','AutomateSystem','model','editFlowCondition','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','notEqual','footerText','get','markMessageAsRead','/create','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','fone','matchRegex','flowPrefixCommand','last_update','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','DELIVERY_ACK','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','/wa-qrcode','call','lastMessage','messaging-history.set','?authSource=admin&readPreference=primary&directConnection=true','realVariables','organization','\x20using\x20the\x20proxy:','error_log','):\x20Buscando\x20todos\x20os\x20fluxos...','AUTHENTICATION_API_KEY','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','valid','Hash\x20to\x20image\x20name:\x20','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','InstancesAlterarTodas','Connection','routerPath','data','inner','STORE_CONTACTS','removed','uazapiSendText','js-yaml','_id','webhook','AutomateFunctions','convert','Schema','hex','jsonwebtoken','Deletion\x20failed','request\x20received\x20in\x20editFlowgroup','Audio\x20processed','/group','menuMessage','ensureChatIdsExist','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','conversation','uazapi','readFileSync','use','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','proxy-agent','deleteConversation','.doc','):\x20Alterando\x20fluxo...','StatusJidList\x20is\x20required','automateSystem','Types','.txt','getConversationModelForOwner','pollCreationMessageV2','created','selectedOptions','downloadMediaMessage','connectToWhatsapp','authState','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20conversation.waitingMenu_name','isBusiness','NO_IP','set','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','RECONNECT_TIME_FRAME','online','label_jid','key','query','\x20-\x20ON:\x20','pino','start','delaySecMax','contactMessage','open','Fluxos\x20não\x20estão\x20ativados','\x22,\x20valor\x20a\x20substituir:\x20\x22','Converted\x20audio\x20deleted',',\x20valor\x20passado:\x20\x22','condition','findContacts','SERVER_OFFLINE','\x20segundos','toLowerCase','Error\x20updating\x20setting','none','Getting\x20audio\x20from\x20url','expression','__esModule','send','view\x20engine','stderr','Error\x20status:','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','generateHash','notify','labels.edit','updateGroupsAddPrivacy','Read\x20messages\x20fail','deleteOne','connect','deleteDoneMessages','Error\x20headers:','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','errors','Group\x20not\x20found','createFlow','variablesNotFound','getTime','\x20}\x0a','hasOwnProperty','changeVariables','reconnectTimestamps','editChat','status.instance','):\x20Query\x20params:','atendimentoAberto','editFlowVaredit','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','fetchContacts','integer','Image\x20is\x20base64','Message','now','https://github.com/uazapi/uazapi.git','dbClient','endSession','redirect','dbServer','findGroup','capitalizedWords','getClient','responsavelid','\x1b[30m','removeOlderDisconnectedInstances','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','HOST','/wa-presence','Logger','birthtime','OrAnd','toLocaleString','.sendDataWebhook-global','deleteflow','updateProfileStatus','REDIS_ENABLED','\x1b[32m','statusCode','group','website','add','ChatModel','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','lastSendMessage','protocolMessage','Erro\x20ao\x20iniciar\x20fluxo:\x20','creds','authModel','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','waitingMenu_ExpiredMessage','Label\x20','The\x20global\x20api\x20key\x20must\x20be\x20set','messages.upsert','whatsappNumber','audio','):\x20Entrou\x20na\x20função\x20goToFlow','):\x20alterando\x20this.AutomateSystem','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','replaceVariables','keys','scheduleNextCheck','no.connection','_error','mongoose','76IFhZKm','apirequest','SERVER','processvaredits','):\x20updateResult:','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','TEXT','messageContextInfo','owner','env','StartBot','Last\x20message\x20not\x20found','editOperator','DARK','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','equal','contains','findAndReplace','1449417SmnakZ','stateConnection','testProxy\x20response\x20from\x20','groups','info','uazapiSendLocation','ButtonsMessage','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','method','Erro\x20ao\x20importar\x20chats:','fileName','findOneAndUpdate','\x1b[36m','toBrazilianNumberFormat','g.us','findAll','hbs','?timestamp=','groupDesc','unlinkSync','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','map','variable','updateStatusPrivacy','ENABLED','The\x20\x22','):\x20Editando\x20edição\x20do\x20fluxo...','mentioned','header','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','):\x20Procurando\x20mensagens\x20para\x20envio','Mensagem\x20não\x20suportada','createClient','chats.update','done','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','fetchProfilePictureUrl','title','limit','not\x20loaded','):\x20teve\x20mudanças\x20chat.archived:\x20','ignoreGroups','substring','onTime','getBusinessProfile','groupUpdateDescription','5567575KkFSAq','send.message','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','Esse\x20fluxo\x20expirou','processblock','}}\x20->\x20valor\x20não\x20encontrado','MESSAGES_UPSERT','Getting\x20image\x20from\x20url','endsWith','request\x20received\x20in\x20editFlow','jid','fetchStatus','contactHandle','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','enabled','convertaudio','image','profile','customFields','processUazapi','urlOrBase64','SECRET','dayjs','):\x20customFieldVariables','flattenObject','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','sticker','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','editFlowVariable','composing','all','AUTHENTICATION_JWT_SECRET','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','test','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','urlencoded','\x20-i\x20','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','PRESENCE_UPDATE','SEND_MESSAGE','API_KEY','pollCreationMessage','name','\x20do\x20chat\x20','\x1b[1m\x1b[37m',',\x20lastCondition:\x20','ini','findByIdAndDelete','menuType','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Unknown\x20message\x20type\x20or\x20empty\x20message','findByIdAndUpdate','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','getPrototypeOf','child_process','connectedName','restartInstance','groupJid','READ','EMAIL','Erro\x20ao\x20configurar\x20proxy:\x20','imagechat','CONECTADO\x20À\x20UAZAPI','code','profilePicture','isJWT','CORS_CREDENTIALS','GROUP_PARTICIPANTS_UPDATE','address','Certbot\x20executado\x20com\x20sucesso.','):\x20newFirstValue\x20após\x20replaceVariables:','qrcode-terminal','ephemeralExpiration','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','redis://127.0.0.1:6379','views','AUTHENTICATION','getProfileName','listType','Button\x20IDs\x20cannot\x20be\x20repeated.','Error\x20change\x20group\x20name','ON\x20-\x20dbName:\x20','console','available','\x20ao\x20chat\x20','):\x20Deletando\x20fluxo...','):\x20Flow\x20não\x20encontrado','The\x20property\x20cannot\x20be\x20empty','vote','mediaSticker','No\x20join\x20group\x20invite\x20code\x20or\x20url','stopMinutes','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','status@broadcast','VERBOSE','match','Error\x20data:','importChats','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','\x20minutos','sem\x20texto\x20na\x20mensagem','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Ler\x20mensagem','Primeiro\x20Valor:\x20','cache','redis','):\x20Editando\x20variável\x20do\x20fluxo...','editflowcondition','processConditionsTest','allFlows','Instância:\x20','FlowModel','\x20chats\x20de\x20','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','.xlsx','editflowvariable','hGet','\x0a*Você\x20respondeu*:\x0a','values','):\x20Criou\x20conversa\x20no\x20startFlow:','TEL','createAndSave','Rótulo\x20inválido\x20ou\x20sem\x20ID.','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','flowConversation','eventEmitter','messages.update','deleted','Certbot:\x20','DATABASE_ENABLED','updateStopChat','\x1b[40m','verifiedName','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','pollCreationMessageV3','fetchLabels','trim','finish','Deleted\x20','isJidGroup','DATABASE_CONNECTION_USER','cleaningUp','unreadcount','ephemeralMessage','SendScheduleMessage','Error\x20message:','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','connectionState','editFlowReply','Erro\x20ao\x20editar\x20a\x20conversa:\x20','request\x20received\x20in\x20deleteFlow','fileUrl','):\x20Conversas\x20encontradas:','DisconnectReason','processgoToFlow','createGroup','status','fetchInstances','findAndReplaceRegex','.webm',',\x20Segundo\x20Valor:\x20','):\x20Conversa\x20está\x20expirada\x20-\x20voto','/events/:instance','reaction',',\x20saindo.','\x1b[0m','--agree-tos','delayMessage','):\x20Não\x20achou\x20nenhum\x20flow','static','varedits','action','_Contacts','stopConversation','desc','hostname','role','username','user','applyvaredit','contact_blacklist','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','Instance\x20logged\x20out','copyBlock',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','All_Instances_Config','proto','labels','.jpg','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','://','updateOneById','Error\x20removing\x20profile\x20picture','AutomateSystem\x20não\x20foi\x20inicializado','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','MessageModel','.\x20Pulando.','Valor\x20inicial:\x20\x22','redisEnv','isJidUser','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','processConditions','getMinutes','privacySettings','optionDescription','\x1b[33m\x1b[1m','):\x20Erro\x20ao\x20editar\x20agentes:\x20','pollMessage','.webp','pollCreationMessageKey','delaySecMin','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','password','delAll','Button\x20texts\x20cannot\x20be\x20repeated','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','forEach','fetchChats','deleteAll','qrcode','collection','replaceVariablesLogs','Instance\x20ID:','!stop','readFile','WebhookGlobal','_Chats','http','labelId','groupInviteCode','Instance\x20Key\x20from\x20DB:','):\x20Enviando\x20localização','waitingMenu_id','/wa-groups','getStatus','decryptPollVote','audioWhatsapp','binary','toArray','No\x20response\x20received:','\x20adicionado\x20ao\x20chat\x20','updateProfileName','Image\x20converted\x20to\x20WebP','label','instanceName','default','No\x20invite\x20code','getContactModelForOwner','readreceipts','mediatype','scheduleSendAudio','config','logout','choices','message','copy','STATUS_INSTANCE','debug','delete','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','client','Trying\x20to\x20get\x20business\x20profile','folder','\x5c$&','pollOnReplyDelete','updateProfilePicturePrivacy','findFlow','CONTACTS_UPSERT','output','getAutomateSystem','.uazapi.dev','https://api.ipify.org?format=json','create','groupName','jsonip.com','CONNECTION','rowId','-whatsapp-api','abs','createWebhook','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','saveMediaToFile','enumerable','agents','contacts','greater','):\x20Campos\x20a\x20serem\x20atualizados:','\x20inseridos\x20no\x20banco\x20de\x20dados...','../env.yml','process','Erro\x20inesperado\x20em\x20processvaredits:\x20','authorization','findChats','URL\x20limpa:\x20','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20Erro\x20ao\x20criar\x20fluxo\x20','statusJidList','updateParticipant','Getting\x20profile\x20info','):\x20Error\x20processing\x20the\x20block:\x20','latitude','defineAuthState','phoneNumber','stopped','true','Module\x20-\x20ON','sendLocation','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20teve\x20mudanças\x20chat.name:\x20','initAuthCreds','ReplyOption\x20com\x20ID\x20','random','groupValidate','addReplyOption','SERVER_PORT','LICENSE_INVALID','working','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','@g.us','.X-ABLabel:Celular\x0a','including\x20timestamp\x20in\x20url:\x20','SERVER_TYPE','createConnection','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','findGroupInfo','updateOne','Chrome','backgroundColor','.gif','convertToWebP','chats.delete','getScheduleMessage','):\x20nextBlock.uazapi.name','useMultiFileAuthState','chats.upsert','\x1b[46m','flowName','setRestartTimer','deleteInstance','addChatLabel','/instance','restrict','description','remoteJids','/media/','convertedOptions','fromMe','Error\x20update\x20group\x20picture','getFlow','Falta\x20informação\x20para\x20a\x20chamada\x20API','isURL','\x1b[41m','remove','updateMessage','CONNECTION_UPDATE','Não\x20respondeu\x20com\x20a\x20enquete.','longitude','\x1b[42m','Image\x20path:\x20','KEY','shift','presence.update','Bloco\x20com\x20ID\x20','onWhatsApp','179711OboIqV','item','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','statSync','getTicketSystem','.mp3','spawn','\x20\x1b[0m','scheduleSendMedia','BufferJSON','allContacts','announce','Read\x20messages','buttons','\x22\x20-\x20NOT\x20CONNECTION','class-validator','.error','/message','DD/MM\x20HH:mm:ss','Erro\x20ao\x20incrementar\x20isValidAttempts:','getChatModelForOwner','getConversation','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','^\x5cd+([-]\x5cd+)*@g.us$','Failed\x20to\x20get\x20IP\x20from\x20','originalUrl','media','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','displayName','includes','groupId','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','\x22\x20not\x20found','application/json','URL','eventHandler','getFlowModelForOwner','removeInstance','checkAndRestartProcess','localWebhook','nomecompleto','path','fetchProfilePicture','normalizeMessage','Unable\x20to\x20leave\x20the\x20group','optionName','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','DATABASE_CONNECTION_DB_PREFIX_NAME','boolean','toNumber','Erro\x20ao\x20aplicar\x20varedit:\x20','url','https://api.elevenlabs.io/v1/text-to-speech/','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','error\x20get\x20vote','insertCount','segundos','participants','groupHandler','when','@s.whatsapp.net','https','\x20mensagens\x20de\x20','tryProxy','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','request\x20received\x20in\x20deleteDoneMessages','17518WOnjCC','badSession','listMessage','setHeader','):\x20lastBlockId:\x20','):\x20','varedit','/webhook','leadInfo.customFields','CONTACTS_UPDATE','notMatchRegex','toBRL','rows','SERVER_ACK','ORG:','evaluateConditionTest','toString','preview','blockLogs','arrayUnique','sendList','tags','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','DELETED','buttonText','scheduled','Not\x20Found','editflowreply','uazapiDeleteMessage','unreadCount','/wa-connection-update','quotedMessage','SSL_CONF','updatePresence','mongodb','loadEnv','PRODUCT_LIST','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','\x1b[30m%s\x1b[0m','):\x20Erro\x20durante\x20a\x20atualização:\x20','updateGroupPicture','repository','CHATS_SET','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','logger','Message\x20not\x20found','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Image\x20created','/wa-message-update','Flow\x20already\x20exists','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','formatVCard','#ffffff','request\x20received\x20in\x20deleteConversation','events','nome','processPollUpdateMessage','@whiskeysockets/baileys','splice','Converted\x20image\x20deleted','archived','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','sendPresenceUpdate','Instância\x20não\x20encontrada.','expiration','videoMessage','\x1b[33m%s\x1b[0m','NextBlock','flowActive','\x1b[36m%s\x1b[0m','sendMessage','):\x20Ignoring\x20group\x20messages.','\x5cd+','File\x20written\x20to\x20path:\x20','$set','font','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','presence','\x20não\x20encontrado\x20para\x20atualização.','pairingCode','sendMedia','\x20horas\x20e\x20','waitingMenu_replyOptions','$pull','chats','maxActives','scheduleSendText','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','revokeInviteCode','CHATS_UPDATE','variablesToObject','instanceInfo','bodyString','envProcess','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','findIndex','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','instanceKeys','findConversation','Erro\x20ao\x20deletar\x20mensagens:','padEnd','wuid','context','base64','Error\x20in\x20markMessageAsRead:','Db\x20Connection','webhookService','messageHandle','\x1b[44m','push','/instance/connectionState','groupUpdateSubject','refused','width','getVariablesChat','DB_PREFIX_NAME','release','unlocked','block','_ScheduleMessages','whatsappNumbers','isConnected','\x22reaction\x22\x20must\x20be\x20an\x20emoji','groups.update','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','.wav','deleteMany','@ffmpeg-installer/ffmpeg','store','replyOption','):\x20Enviando\x20mídia','sendReaction','DATABASE_CONNECTION_PASSWORD','Bad\x20Request','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','ObjectId','activatedCount','.sendDataWebhook-local','reorderBlocks','ScheduleMessageModel','object','uazapiSendMenu','$addToSet','dyndns.org','/clients-info','drop','group-participants.update','state','):\x20Comando\x20desconhecido:\x20','count','HeaderType','REDIS_URI','Enter\x20a\x20value\x20in\x20milliseconds','documentMessage','order','groups_ignore','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','stopMinutesMaxActives','axios','Forbidden','max','STORE','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Type\x20defined\x20as\x20audio','leadInfo.desativadoFluxoAte','updateReplyOption','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','length','flowIgnoreGroups','connectToWhatsappController','sectionsToString','.pptx','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','updateConversation','-instances','\x1b[32m%s\x1b[0m','closeExistingConversations','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','processingScheduleMessageId','flow','sendWhatsAppAudio','shutdown\x20-r\x20now','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','ip:\x20','USER','/config','blockId','groupLeave','/*.json','contactname','getAllData','Output\x20path:\x20','participant','oldToken','newValue','utf-8','remoteJid','\x1b[37m','desativadoFluxoAte','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','generate','Fluxo\x20não\x20encontrado','The\x20','archive','deleteChat','lastInteraction','group\x20ignored',',\x20Resultado:\x20','lastSend','editConversation','generateWAMessageFromContent','stack','/instance/connect','startsWith','Erro\x20ao\x20inserir\x20chats:','lean','statusMessage',',\x20Expiration\x20Time:\x20','joinGroup','Error\x20while\x20deleting\x20message\x20for\x20everyone','floor','Hash\x20to\x20audio\x20name:\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','findWebhook','prefixCommand',',\x20qrcodeCount:\x20','verbose','viewOnceMessageV2Extension','request\x20received\x20in\x20createFlow','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','documentWithCaptionMessage','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','warn','lastDisconnect','audio/mp4','Telefone:\x20','getDelay','request\x20received\x20in\x20fetchConversation','pollErrorMessage','fetchProfile','long','reviver','filter','findOrCreate','last','prepareMediaMessage','getflow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Cannot\x20','unhandledRejection','MESSAGES_SET','):\x20Edit\x20schedule\x20message...','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','updateAgent','\x20quoted:\x20','webp','router','https://api.openai.com/v1/images/generations','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','list','detail','keep-alive','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','closed','src','userDevicesCache','EMAIL:','deleteBlock','Error\x20fetching\x20group','data:\x20','updateLastSeenPrivacy','^\x5cd+','\x20foi\x20interrompido\x20pelo\x20usuário.','Font\x20is\x20required','Processing\x20audio','\x20saindo\x20da\x20função','):\x20Procurando\x20conversa','SINGLE_SELECT','Temp\x20audio\x20deleted','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','pollUpdateMessage','updateOnlinePrivacy','getScheduleMessageModelForOwner','some','conversationTimestamp','PENDING','FULLCHAIN','where','Parando\x20aplicação...','mediaKey','blocks','):\x20Conversa\x20inserida\x20com\x20sucesso.','Cache-Control','hSet','https://uazapi-plugin.bubbleapps.io/','pushName','array',',\x20fará\x20nova\x20verificação\x20em\x20','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','webhookModel'];a0_0x30fe=function(){return _0x59ce28;};return a0_0x30fe();}0x0&&(module[a0_0x452e81(0xe3)]={'subdomain':subdomain});